/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[5377],{58114:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JobBuilder=void 0,t.definePersistedJob=function(){return new i([])};var n=s(47901),r=s(92844);class i{constructor(e){this.steps=e}step(e,t){return this._stepWithOptions(e,"function"==typeof t?{code:t}:t)}_stepWithOptions(e,t){const{stopRetryIf:s,requirements:d,code:a}=t;let p=u(d,a,s);if(s){const{timePassedSeconds:e,appCrashed:t,onStopRetry:i}=s,d=u(null,function(e){return(t,s,r)=>Promise.resolve(e(t,s,r)).then((e=>e instanceof n.InterruptJob?e:new n.InterruptJob(e)))}(i),s);null!=e&&(p=o(((t,s,n)=>{let{jobStartTime:i}=n;return(0,r.happenedWithin)(i,e)}),p,d)),t&&(p=o(((e,t,s)=>{let{afterCrash:n}=s;return!n}),p,d))}return new i([...this.steps,{stepName:e,info:p}])}finalStep(e,t){const s=this.step(e,t);return{end:()=>s.steps}}}function o(e,t,s){return(n,r,i)=>e(n,r,i)?t(n,r,i):s(n,r,i)}function u(e,t,s){const n={requirements:e,code:t,stopRetryIf:s};return()=>n}t.JobBuilder=i},78972:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defineWebPersistedJob=function(){return(0,n.definePersistedJob)()};var n=s(58114)},55377:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(78972),r=s(63374),i=(0,n.defineWebPersistedJob)().finalStep("deleteReactions",(e=>{let{chatId:t,parentMsgKeys:s}=e;return __LOG__(2)`Persisted: deleteReaction persisted job started`,(0,r.deleteReactionsByParentMessageKeys)(s)})).end();t.default=i}}]);
//# sourceMappingURL=https://web.whatsapp.com/5377.a49fd012f0a1fae75e4e.js.map
