/*! Copyright (c) 2021 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkbuild=self.webpackChunkbuild||[]).push([[9488],{22710:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.formatRemoveResult=function(e,t){return l(e,p,h,m,t)},t.formatResult=l,t.formatParticipantActionString=d,t.formatGroupStatusReasonString=u,t.formatParticipantStatusReasonString=c,t.addSuccessString=function(e,t){return o.default.t(161,{participantNames:e,_plural:t})},t.addFailedString=function(e,t){return o.default.t(159,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return o.default.t(160)},t.removeSuccessString=p,t.removeFailedString=h,t.removePartialFailedString=m,t.promoteSuccessString=function(e,t){return o.default.t(174,{participantNames:e,_plural:t})},t.promoteFailedString=function(e,t){return o.default.t(172,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return o.default.t(173)},t.demoteFailedString=function(e,t,a){switch(a){case 406:return o.default.t(164,{participant:e});default:return o.default.t(163,{participantNames:e,_plural:t})}},t.demoteSuccessString=function(e,t){return o.default.t(166,{participantNames:e,_plural:t})},t.demotePartialFailedString=function(){return o.default.t(165)};var s=r(a(43805)),n=r(a(20468)),o=r(a(38637)),i=r(a(43926));function l(e,t,a,r,o){var l;if(207===e.status){var p={};for(var h in e)if(i.default.isWid(h)){var m=e[h];if((403!==m||!n.default.supportsFeature(n.default.F.GROUPS_V_4_JOIN_PERMISSION))&&207!==m){p[m]||(p[m]=[]);var f=s.default.get(h);f&&p[m].push(f)}}var g=[];for(var v in p){var _=d(t,a,c,parseInt(v,10),p[v]);_&&g.push(_)}l=g.length>0?g.join("\n"):r()}else l=d(t,a,u,e.status,o);return l}function d(e,t,a,r,s){var n=s.map((e=>e.formattedShortName)).join(o.default.t(586)),i=200===r;return(i?e(n,s.length):t(n,s.length,r))+(i?"":a(r,s.length))}function u(e){var t="";switch(e){case 403:t=" "+o.default.t(109);break;case 408:t=" "+o.default.t(169);break;case 404:t=" "+o.default.t(110);break;case 429:t=" "+o.default.t(111)}return t}function c(e,t){var a="";switch(e){case 401:case 406:case 409:break;case 404:a=" "+o.default.t(168,{_plural:t});break;case 408:a=" "+o.default.t(169,{_plural:t});break;case 500:a=" "+o.default.t(170);break;default:a=" "+o.default.t(171)}return a}function p(e,t){return o.default.t(179,{participantNames:e,_plural:t})}function h(e,t,a){switch(a){case 406:return o.default.t(178,{participant:e});default:return o.default.t(176,{participantNames:e,_plural:t})}}function m(){return o.default.t(177)}},30371:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(e,t){return h((0,p.unproxy)(e),t)},t.removeParticipants=function(e,t){return m((0,p.unproxy)(e),t)},t.promoteParticipants=function(e,t){return f((0,p.unproxy)(e),t)},t.demoteParticipants=function(e,t){return g((0,p.unproxy)(e),t)};var n=s(a(2784)),o=a(8507),i=r(a(13277)),l=s(a(24461)),d=s(a(22710)),u=r(a(38637)),c=a(94455),p=a(47138);function h(e,t,a=(0,o.genId)()){var r=e.groupMetadata.participants;if(t.some((e=>r.get(e.id))))return __LOG__(3)`models:groupMetadata:participantCollection:addParticipants already a group member`,Promise.reject(new l.ActionError);if(!r.canAdd())return Promise.reject(new l.ActionError);var s=(0,c.sendAddParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.formattedShortName)).join(u.default.t(586)),m=new o.ActionType(u.default.t(162,{participantNames:p,_plural:t.length})),f=s.then((e=>{r.sendForNeededAddRequest(e);var a=d.formatResult(e,d.addSuccessString,d.addFailedString,d.addPartialFailedString,t);return new o.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:addParticipants dropped`,new o.ActionType(u.default.t(159,{participantNames:p,_plural:t.length}),{actionText:u.default.t(199),actionHandler:()=>h(e,t,a)}))));return i.default.openToast(n.createElement(o.ActionToast,{id:a,initialAction:m,pendingAction:f})),s.then((()=>{}))}function m(e,t,a=(0,o.genId)()){var r=e.groupMetadata.participants;if(t.some((e=>!r.canRemove(e))))return Promise.reject(new l.ActionError);var s=(0,c.sendRemoveParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(u.default.t(586)),h=new o.ActionType(u.default.t(180,{participantNames:p,_plural:t.length})),f=s.then((e=>{var a=d.formatRemoveResult(e,t.map((e=>e.contact)));return new o.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new o.ActionType(u.default.t(176,{participantNames:p,_plural:t.length}),{actionText:u.default.t(199),actionHandler:()=>m(e,t,a)}))));return i.default.openToast(n.createElement(o.ActionToast,{id:a,initialAction:h,pendingAction:f})),s.then((()=>{}))}function f(e,t,a=(0,o.genId)()){var r=e.groupMetadata.participants;if(t.some((e=>!r.canPromote(e))))return Promise.reject(new l.ActionError);var s=(0,c.sendPromoteParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(u.default.t(586)),h=new o.ActionType(u.default.t(175,{participantNames:p,_plural:t.length})),m=s.then((e=>{var a=d.formatResult(e,d.promoteSuccessString,d.promoteFailedString,d.promotePartialFailedString,t.map((e=>e.contact)));return new o.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new o.ActionType(u.default.t(172,{participantNames:p,_plural:t.length}),{actionText:u.default.t(199),actionHandler:()=>f(e,t,a)}))));return i.default.openToast(n.createElement(o.ActionToast,{id:a,initialAction:h,pendingAction:m})),s.then((()=>{}))}function g(e,t,a=(0,o.genId)()){var r=e.groupMetadata.participants;if(t.some((e=>!r.canDemote(e))))return Promise.reject(new l.ActionError);var s=(0,c.sendDemoteParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(u.default.t(586)),h=new o.ActionType(u.default.t(167,{participantNames:p,_plural:t.length})),m=s.then((e=>{var a=d.formatResult(e,d.demoteSuccessString,d.demoteFailedString,d.demotePartialFailedString,t.map((e=>e.contact)));return new o.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:demoteParticipants dropped`,new o.ActionType(u.default.t(163,{participantNames:p,_plural:t.length}),{actionText:u.default.t(199),actionHandler:()=>g(e,t,a)}))));return i.default.openToast(n.createElement(o.ActionToast,{id:a,initialAction:h,pendingAction:m})),s.then((()=>{}))}},14921:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.removeGroupParticipants=function(e,t){return m(e,t,u).catch((e=>{__LOG__(3)`error sending removing group participants iq: ${e}`}))},t.addGroupParticipants=function(e,t){return m(e,t,c).catchType(i.ServerStatusCodeError,(e=>({status:e.statusCode})))},t.demoteGroupParticipants=function(e,t){return m(e,t,p).catch((e=>{__LOG__(3)`error sending demoting group participants iq: ${e}`}))},t.promoteGroupParticipants=function(e,t){return m(e,t,h).catch((e=>{__LOG__(3)`error sending promoting group participants iq: ${e}`}))};var s=r(a(70417)),n=a(35773),o=a(7017),i=a(33576),l=r(a(45521)),d=a(29020),u="remove",c="add",p="demote",h="promote";function m(e,t,a){var r,m=t.map((e=>(0,n.wap)("participant",{jid:(0,d.JID)(e)})));switch(a){case c:r=(0,n.wap)("add",null,m);break;case u:r=(0,n.wap)("remove",null,m);break;case p:r=(0,n.wap)("demote",null,m);break;case h:r=(0,n.wap)("promote",null,m);break;default:return Promise.reject(new Error(`invalid group operation ${a}`))}var f=(0,n.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,n.generateId)()},r);return(0,o.sendIq)(f,function(e){return new l.default(`${e}GroupParticipantsReplyParser`,(t=>({id:t.attrString("id"),participants:t.child(e).mapChildren((e=>({wid:e.attrUserWid("jid"),error:e.hasAttr("error")?e.attrInt("error"):null})))})))}(a)).then((e=>{if(e.success){var{participants:t}=e.result,a={};return t.forEach((e=>{Object.assign(a,{[e.wid.toString()]:null!=e.error?e.error:200})})),(0,s.default)((0,s.default)({},a),{},{status:207,participants:t.map((e=>({[e.wid.toString()]:{code:null!=e.error&&e.error.toString()||"200"}})))})}return Promise.reject(new i.ServerStatusCodeError(e.errorCode,e.errorText))}))}},94455:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){var a;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!(a=(0,o.addGroupParticipants)(e,t)))return Promise.reject(new Error("addParticipants: not supported when not build with MD_BACKEND"))}else a=n.default.addParticipants(e,t);return a},t.sendRemoveParticipants=function(e,t){var a;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!(a=(0,o.removeGroupParticipants)(e,t)))return Promise.reject(new Error("sendRemoveParticipants: not supported when not build with MD_BACKEND"))}else a=n.default.removeParticipants(e,t);return a},t.sendDemoteParticipants=function(e,t){var a;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!(a=(0,o.demoteGroupParticipants)(e,t)))return Promise.reject(new Error("sendDemoteParticipants: not supported when not build with MD_BACKEND"))}else a=n.default.demoteParticipants(e,t);return a},t.sendPromoteParticipants=function(e,t){var a;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!(a=(0,o.promoteGroupParticipants)(e,t)))return Promise.reject(new Error("sendPromoteParticipants: not supported when not build with MD_BACKEND"))}else a=n.default.promoteParticipants(e,t);return a};var s=r(a(20468)),n=r(a(94407)),o=a(14921)},90758:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadType=t.EditType=void 0;var r=a(28103).Mirrored(["EDITING","PENDING","DONE","ERROR"]);t.EditType=r;var s=a(28103).Mirrored(["PENDING","DONE","ERROR"]);t.LoadType=s},737:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var n=s(a(2784)),o=r(a(13277)),i=r(a(46769)),l=s(a(51045)),d=r(a(77508)),u=a(9690),c=r(a(38637)),p=r(a(38658)),h=r(a(81288)),m=r(a(65677)),f=s(a(44233)),g=r(a(5431)),v=r(a(43195)),{useState:_,useEffect:E}=n;function C({contact:e,editable:t,profilePicThumb:a,onClick:r,onLoad:s,hideStatusV3:C}){var[S,P]=_(window.innerWidth),[y,T]=_(null);E((()=>{function e(){P(window.innerWidth)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]);var M=S>1300?152:122,N=!(0,u.canSeeStatusV3OnContact)()||e.statusMute||C?null:m.default.get(e.id);function w(){N&&o.default.openModalMedia(n.createElement(h.default,{removeTopDrawer:!1,statusV3:N}),{transition:"status-v3-modal"})}var k=null;y&&(k=n.createElement(g.default,{displayName:"ContextMenu",escapable:!0,popable:!0,requestDismiss:()=>{T(null)}},n.createElement(v.default,{contextMenu:y})));var b,D=null,I=i.default.noStatusBorder;return null!=N&&(D=n.createElement(f.default,{statusV3:N,size:M+24,stroke:3,theme:f.RingTheme.BUSINESS_CONTACT_INFO}),I=i.default.hasStatusBorder),b=t&&null!=a?n.createElement(p.default,{profilePicThumb:a,size:M}):n.createElement(l.default,{id:e.id,size:M,loader:!0,onLoad:s,onClick:function(e){if(r)if(null!=N){e.stopPropagation(),e.preventDefault();var t=[n.createElement(d.default,{a8n:"mi-view-photo",key:"view-photo",action:()=>{r(e)}},c.default.t(1455)),n.createElement(d.default,{a8n:"mi-view-status",key:"view-status",action:w},c.default.t(1332))];e.persist(),T({menu:t,event:e})}else r(e)},quality:l.DETAIL_IMAGE_QUALITY.HIGH}),n.createElement(n.Fragment,null,n.createElement("div",{className:i.default.coverPhoto}),n.createElement("div",{className:i.default.avatar},D,n.createElement("div",{className:I},b)),k)}C.displayName="CoverPhoto"},46401:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RawBusinessProfile",{enumerable:!0,get:function(){return r.RawBusinessProfile}}),Object.defineProperty(t,"BUSINESS_HOUR_MODES",{enumerable:!0,get:function(){return s.BUSINESS_HOUR_MODES}}),Object.defineProperty(t,"DAYS_OF_WEEK",{enumerable:!0,get:function(){return s.DAYS_OF_WEEK}});var r=a(59612),s=a(19999)},85289:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBusinessOpenState=function(e,t){var a,n;if(null==e.timezone)return{status:"unknown"};var o=t||new Date,d=new Date(o.toLocaleString("en-US",{timeZone:e.timezone})),u=(o.getTime()-d.getTime())/1e3/60,c=e.config[r.DAYS_OF_WEEK[o.getDay()]];if(!c)return{status:i.CLOSED_TODAY};switch(c.mode){case s.BUSINESS_HOUR_MODES.OPEN_24H:if(c)return{status:i.OPEN_24H};break;case s.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:if(c)return{status:i.OPEN_APPOINTMENT};break;case s.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:var p=60*o.getHours()+o.getMinutes();if(1===(null===(a=c.hours)||void 0===a?void 0:a.length)){var h=c.hours[0][0],m=c.hours[0][1];return p>=h&&p<=m?{status:i.OPEN,openUntil:l(u+m)}:p<=h?{status:i.CLOSED,opensAt:l(u+h)}:{status:i.CLOSED}}if(2===(null===(n=c.hours)||void 0===n?void 0:n.length)){var f=c.hours[0][0],g=c.hours[0][1],v=c.hours[1][0],_=c.hours[1][1];return p>=f&&p<=g?{status:i.OPEN,openUntil:l(u+g),additionalOpen:l(u+v),additionalClose:l(u+_)}:p<f?{status:i.CLOSED,opensAt:l(u+f),additionalOpen:l(u+v),additionalClose:l(u+_)}:p>=v&&p<=_?{status:i.OPEN,openUntil:l(u+_)}:p<v?{status:i.CLOSED,opensAt:l(u+v)}:{status:i.CLOSED}}}return{status:"unknown"}},Object.defineProperty(t,"minutesToTime",{enumerable:!0,get:function(){return n.minutesToTime}}),Object.defineProperty(t,"timeStringToMinutes",{enumerable:!0,get:function(){return n.timeStringToMinutes}}),t.BUSINESS_OPEN_STATUS=t.convertToRawBusinessProfile=t.isValidBusinessHours=t.isValidTime=void 0;var r=a(19999),s=a(46401),n=a(16123),o=e=>void 0!==(0,n.timeStringToMinutes)(e);t.isValidTime=o;t.isValidBusinessHours=(e,t)=>{if(e===s.BUSINESS_HOUR_MODES.SPECIFIC_HOURS)for(var a in t){var r=t[a],{closed:n,hours:i}=r;if(!n)for(var[l,d]of i)if(!o(l)||!o(d))return!1}return!0};t.convertToRawBusinessProfile=({mode:e,dayValues:t,note:a,timezone:r})=>{var o={};for(var i in t){var l=t[i],{closed:d,hours:u}=l;if(!d){var c={mode:e};e===s.BUSINESS_HOUR_MODES.SPECIFIC_HOURS&&(c.hours=u.map((([e,t])=>[(0,n.timeStringToMinutes)(e)||0,(0,n.timeStringToMinutes)(t)||0]))),o[i]=c}}return{businessHours:{config:o,note:a,timezone:r||Intl.DateTimeFormat().resolvedOptions().timeZone}}};var i={OPEN:"open",CLOSED:"closed",OPEN_TODAY:"open_today",CLOSED_TODAY:"closed_today",OPEN_APPOINTMENT:"open_appointment",OPEN_24H:"open_24h",UNKNOWN:"unknown"};function l(e){var t=new Date,a=Math.floor(e/60);return t.setHours(a),t.setMinutes(e%60),t.setSeconds(0),t}t.BUSINESS_OPEN_STATUS=i},59612:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EditType",{enumerable:!0,get:function(){return r.EditType}}),Object.defineProperty(t,"LoadType",{enumerable:!0,get:function(){return r.LoadType}});var r=a(90758)},1882:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=s(a(2784)),o=r(a(72779)),i=r(a(33986)),l=r(a(18779));function d(e){return n.createElement(l.default,{name:"shopping-cart",className:(0,o.default)(i.default.cartIcon,{[i.default.inheritColor]:"inherit-color"===e.theme})})}d.displayName="CartIcon"},79953:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var[a,r]=l.useState(null),s=()=>{r(null)};return l.useEffect((()=>{if(s(),e){var a=new d.default,l=a.signal;return(0,i.default)((function*(){try{var a=yield(0,v.default)((0,p.default)(e),l),s=null==a?void 0:a.data;if(!s)return;var{thumbnailHeight:i,thumbnailWidth:d}=s,c=(0,o.default)(s,["thumbnailHeight","thumbnailWidth"]);if(r(c),!E.default.webUploadLinkThumbMmsEnabled||!s.thumbnailHQ)return;var h=yield function(){return S.apply(this,arguments)}(s.thumbnailHQ,l,t);if(!h)return;r((0,n.default)((0,n.default)({},s),h))}catch(e){if(e.name===u.ABORT_ERROR)return;__LOG__(2)`useLinkPreview: error`}}))(),()=>{a.signal.aborted||a.abort()}}}),[e,t]),{linkPreview:a,clearLinkPreview:s}},t.findFirstWebLink=void 0;var n=s(a(70417)),o=s(a(22220)),i=s(a(52954)),l=r(a(2784)),d=s(a(45026)),u=a(3599),c=a(67816),p=s(a(5408)),h=r(a(63428)),m=a(27305),f=s(a(79843)),g=s(a(93013)),v=s(a(2191)),_=s(a(13415)),E=s(a(54559)),C=s(a(57085));function S(){return(S=(0,i.default)((function*(e,t,a){try{var r=yield(0,v.default)(g.default.createFromBase64Jpeg(e),t),s=yield(0,C.default)({thumbnail:r,mediaType:f.default.THUMBNAIL_LINK,mediaKeyInfo:(0,_.default)(),uploadOrigin:(0,m.getUploadOriginForChat)(a),forwardedFromWeb:!1,signal:t}),n=s.mediaEntry;if(!n)return;return{mediaKey:n.mediaKey,mediaKeyTimestamp:n.mediaKeyTimestamp,thumbnailDirectPath:n.directPath,thumbnailSha256:s.filehash,thumbnailEncSha256:n.encFilehash}}catch(e){if(e.name===u.ABORT_ERROR)return;__LOG__(2)`useLinkPreview.uploadHQPreview: error`}}))).apply(this,arguments)}t.findFirstWebLink=e=>{var t=(0,c.removeCodeBlocks)(e),a=h.findLinks(t,!0)[0];if(a)return a.url}},17074:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var n=s(a(72779)),o=r(a(2784)),i=s(a(92454)),l=r(a(35474)),d=s(a(86861)),u=s(a(15898)),c=a(60301),p=s(a(3029)),h=a(19432),m=s(a(68267)),f=s(a(61671));function g(e){var{images:t,renderFallback:a,fallbackMediaData:r,fetching:s,onClick:i}=e,g=o.useRef(null),v=o.useRef(null),_=o.useRef(null),E=o.useRef(null),C=o.useRef(null),[S,P]=o.useState(null),[y,T]=o.useState(t.filter((e=>e.mediaData.mediaStage===c.MEDIA_DATA_STAGE.RESOLVED)).length),[M,N]=o.useState(!1),w=y===t.length,k=()=>T((e=>e+1));o.useEffect((()=>{if(!w&&!a){var e,t=v.current;if(!t)return;null===(e=_.current)||void 0===e||e.cancel(),_.current=(_.current||Promise.resolve()).then((()=>(0,f.default)(t,{opacity:[1,0]},{delay:75,duration:50}))).cancellable().then((()=>{N(!0)})).catchType(Promise.CancellationError,(()=>{(0,f.default)(t,"stop",!0)})).finally((()=>{_.current=null}))}return()=>{var e;null===(e=_.current)||void 0===e||e.cancel()}}),[w,a]);var b,D,I,O=()=>{var e;return(null===(e=g.current)||void 0===e?void 0:e.children)?g.current.scrollWidth===g.current.offsetWidth?null:0===g.current.scrollLeft?"next":g.current.scrollWidth-1<=g.current.scrollLeft+g.current.offsetWidth?"prev":"both":null};if(o.useEffect((()=>{P(O())}),[w]),a&&0===t.length)return o.createElement("div",{className:d.default.carousel,dir:"ltr"},o.createElement("div",{className:(0,n.default)(d.default.contentContainer,d.default.slidesContainer)},r&&o.createElement(u.default,{altText:"",mediaData:r,renderFallback:!0,singleSlide:!0})));var R=()=>{E.current=null;var e=O();S!==e&&P(e)};if(t.length>1){var x=()=>{var e=g.current;if(null!=e&&("prev"===S||"both"===S)){for(var t=0,a=e.scrollLeft+Math.floor(e.offsetWidth/2),r=e.lastElementChild;r instanceof HTMLElement&&0===t;){var s=r.offsetLeft+Math.floor(r.offsetWidth/2);s<a&&(t=s-a),r=r.previousElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},A=()=>{var e=g.current;if(null!=e&&("next"===S||"both"===S)){for(var t=0,a=e.scrollLeft+Math.floor(e.offsetWidth/2),r=e.firstElementChild;r instanceof HTMLElement&&0===t;){var s=r.offsetLeft+Math.floor(r.offsetWidth/2);a<s&&(t=s-a),r=r.nextElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},L=()=>{C.current=null;var e=O();S!==e&&P(e)};I=()=>{null==C.current&&(C.current=requestAnimationFrame(L))},w&&null!=S&&(b=o.createElement(l.default,{type:l.ButtonType.Prev,onClick:x,onKeyDown:x,disabled:"prev"!==S&&"both"!==S,theme:h.RoundTheme.Small,overMedia:!0}),D=o.createElement(l.default,{type:l.ButtonType.Next,onClick:A,onKeyDown:A,disabled:"next"!==S&&"both"!==S,theme:h.RoundTheme.Small,overMedia:!0}))}var V=1===t.length,F=t.map(((e,t)=>o.createElement(u.default,{key:t,altText:"",image:e,singleSlide:V,mediaData:e.mediaData,onClick:i,onLoad:k}))),U=w?null:o.createElement("div",{className:(0,n.default)(d.default.contentContainer,d.default.spinnerContainer)},o.createElement("div",{className:d.default.spinner,ref:v},o.createElement(m.default,{color:"default",size:50,stroke:4}))),B=(0,n.default)(d.default.carousel,{[d.default.loaded]:!s&&w,[d.default.fadeIn]:M});return o.createElement("div",{className:B,dir:"ltr"},U,o.createElement("div",{ref:g,className:(0,n.default)(d.default.contentContainer,d.default.slidesContainer),onScroll:I},F),b,D,o.createElement(p.default,{onResize:()=>{null==E.current&&(E.current=requestAnimationFrame(R))}}))}i.default.polyfill(),g.displayName="ImageCarousel"},15898:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(68018)),i=a(60301),l=r(a(66130)),d=({mediaData:e,altText:t,image:a,singleSlide:r,renderFallback:s,onClick:d,onLoad:u,forwardRef:c})=>{var{fullHeight:p,fullWidth:h,mediaStage:m,renderableUrl:f}=(0,l.default)(e,["fullHeight","fullWidth","mediaStage","renderableUrl"]),g=n.useRef(null),v=n.useRef(m===i.MEDIA_DATA_STAGE.RESOLVED);(0,n.useEffect)((()=>{!u||v.current||s||m!==i.MEDIA_DATA_STAGE.RESOLVED||(u(),v.current=!0)}),[u,s,m]);var _=h&&p?h/p:.8;_<.8&&(_=.8),_>1.91&&(_=1.91),_>1&&!r&&(_=1);var E={width:r&&_<1?100*_+"%":1!==_||r?null:"100%"},C={paddingTop:`${Math.floor(100/_)}%`},S={cursor:""+(d?"pointer":"auto")};return n.createElement("div",{ref:c?e=>c(e):null,className:o.default.slide,style:E},n.createElement("div",{className:o.default.slideInnerContainer,style:C},n.createElement("img",{ref:g,alt:t,src:f,className:o.default.image,style:S,draggable:"false",onClick:()=>{d&&g.current&&a&&d(g.current,a)}})))};d.displayName="ImageSlide";var u=d;t.default=u},36467:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.Gallery=D,t.default=void 0;var n=s(a(12436)),o=s(a(72779)),i=r(a(2784)),l=s(a(32944)),d=a(62820),u=s(a(13277)),c=s(a(23045)),p=s(a(13752)),h=a(83251),m=s(a(20468)),f=s(a(38637)),g=s(a(4739)),v=s(a(86619)),_=s(a(13567)),E=s(a(50938)),C=s(a(476)),S=a(60301),P=s(a(54559)),y=s(a(68267)),T=s(a(90370)),M=a(47138),N=s(a(18779));class w extends i.Component{constructor(...e){super(...e),this.onScroll=e=>{this._handleScroll(e.currentTarget)},this._handleScroll=(0,n.default)((e=>{var t=this.props.mediaMsgs;t.hasMediaBefore&&e.scrollTop+c.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&this._scheduleMediaQuery(t.head())}),100)}componentDidMount(){this.props.mediaMsgs.hasMediaBefore&&this._scheduleMediaQuery(),this.props.listeners.add(this.props.mediaMsgs,"add",(()=>{this.forceUpdate()})),this.props.listeners.add(this.props.mediaMsgs,"remove",(e=>{var t=this.props.selectedMessages;t&&t.isSelected(e)&&t.setVal(e,!1),this.forceUpdate()})),this.props.listeners.add(this.props.mediaMsgs,"reset",(()=>{this.props.selectedMessages&&this.props.selectedMessages.unsetAll(),this.forceUpdate()})),this.props.listeners.add(this.props.mediaMsgs,"query_media_before",(()=>{this.forceUpdate()}))}componentWillUnmount(){this._handleScroll.cancel()}_scheduleMediaQuery(e){var t=this.props.mediaMsgs;t.hasMediaBefore&&this.props.listeners.uiIdle((()=>{t.queryMedia({chat:(0,M.unproxy)(this.props.chat),msg:e})}))}render(){var e,{fullCollection:t,selectedMessages:a,chat:r,mediaMsgs:s,selectable:n,onMessageSelect:o}=this.props,l=s.map(((e,r)=>{var l;return!t&&r>=s.length-6&&r<=s.length-4&&(l="hideableSecondRow"),i.createElement(b,{msg:e,hoverEvent:t,selectable:n,selectedMessages:a,onMessageSelect:o,theme:l,key:e.id.toString()})}));l.reverse(),t||(l=l.slice(0,6));var u=!1;return m.default.supportsFeature(m.default.F.MD_BACKEND)&&r.endOfHistoryTransferType===d.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY&&(u=!0,t?e=f.default.t(513):0===s.length&&0===r.docCount&&0===r.linkCount&&0===r.productCount&&(e=f.default.t(511))),i.createElement(i.Fragment,null,i.createElement(D,{medias:l,mediaCollection:s,fullCollection:t,chat:(0,M.unproxy)(r),onScroll:this.onScroll}),u?i.createElement(p.default,{icon:i.createElement(N.default,{name:"content-chat"}),theme:"list",secondary:f.default.t(509)},e):null)}}w.CONCERNS={chat:["linkCount","docCount","productCount","endOfHistoryTransferType"]},w.displayName="MediaGallery";class k extends i.Component{constructor(){super(...arguments),this.setRefImg=e=>{this.img=e},this._handleSelectChange=e=>{this.state.selected!==e&&this.setState({selected:e})},this.onClick=e=>{var{msg:t,selectable:a,onMessageSelect:r}=this.props,s=t.mediaData;if(a&&r)r(t,!this.state.selected);else if(s.mediaStage!==S.MEDIA_DATA_STAGE.ERROR_MISSING){var n;e&&e.stopPropagation();var o=t.id;if(s.isGif||s.type===v.default.TYPE.IMAGE){var l=this.img;n=e=>o.equals(e)&&l?l:null}u.default.mediaViewerModal({msg:(0,M.unproxy)(t),getZoomNode:n})}else u.default.openModal(i.createElement(E.default,{msg:t}))},this.onDragStart=e=>{e.nativeEvent.dataTransfer.setData("text/uri-list",this.props.msg.mediaData.renderableUrl)};var{msg:e,selectedMessages:t}=this.props;this.state={selected:!(!t||!t.isSelected(e))}}componentDidMount(){this.props.selectedMessages&&this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this._handleSelectChange)}render(){var{msg:e,hoverEvent:t,selectable:a,onMessageSelect:r,theme:s,className:n}=this.props,l=e.mediaData,d=l.type===v.default.TYPE.IMAGE&&l.renderableUrl?this.onDragStart:null,u=(0,o.default)(n);return i.createElement(C.default,{classes:u,onClick:this.onClick,hoverEvent:t,selectable:a,selected:this.state.selected,onMessageSelect:r,onDragStart:d,msg:e,theme:s,imgRef:this.setRefImg})}}k.displayName="MediaCanvas";var b=(0,g.default)(k);function D(e){var{mediaCollection:t,fullCollection:a,chat:r,onScroll:s,justify:n}=e,d=e.medias||e.productMedias;if(!d)return null;var u,c,p,m,g=(0,o.default)(_.default.container,{[_.default.drawer]:a,[_.default.galleryEmpty]:0===t.length,[_.default.justifySpaceBetween]:"space-between"===n}),v=[...d];if(t.queryMediaBefore&&(a||v.length<6)){var E=(0,o.default)(_.default.more,_.default.canvasComponent,{[_.default.canvasSecondRow]:!a&&v.length>=3,[_.default.canvasFirst]:0===t.length});v.push(i.createElement("div",{className:E,key:"spinner"},i.createElement(y.default,{stroke:6,size:24})))}if(0===t.length){if(a)return t.queryMediaBefore?i.createElement("div",{className:(0,o.default)(_.default.drawer,_.default.drawerBody)},i.createElement(h.Loading,null)):i.createElement(h.MediaMsgs,null);t.queryMediaBefore||t.hasMediaBefore||(g=(0,o.default)(g,_.default.galleryEmpty),v=[(u=Math.max(r?r.docCount:0,0),c=Math.max(r?r.linkCount:0,0),p=Math.max(r?r.productCount:0,0),m=[],null!=u&&u>0&&m.push(f.default.t(554,{count:u,_plural:u})),null!=c&&c>0&&m.push(f.default.t(849,{count:c,_plural:c})),P.default.productMediaAttachments&&null!=p&&p>0&&m.push(f.default.t(1191,{count:p,_plural:p})),m.length>0?m.join(f.default.t(586)):P.default.productMediaAttachments?f.default.t(1100):f.default.t(1099))])}else for(var C=0;C<6;C++)v.push(i.createElement("div",{className:_.default.canvasEmpty,key:"empty"+C}));return i.createElement("div",{onScroll:s,"data-a8n":l.default.key("media-gallery"),className:g},v)}D.displayName="Gallery";var I=(0,g.default)((0,T.default)(w,w.CONCERNS));t.default=I},476:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.hasThumbnail=E,t.default=t.MediaThumb=void 0;var n=s(a(72779)),o=r(a(2784)),i=s(a(46273)),l=s(a(99461)),d=s(a(4739)),u=s(a(86619)),c=s(a(13074)),p=s(a(45884)),h=s(a(84161)),m=s(a(18779)),f=s(a(11159)),g=a(60301);class v extends o.Component{constructor(...e){super(...e),this.state={hover:!1},this._setRefImg=e=>{this._img=e},this._setRefContainer=e=>{this._container=e},this._onSelectClick=()=>{this.props.onMessageSelect&&this.props.onMessageSelect(this.props.msg,!this.props.selected)},this._onMouseOver=()=>{this.state.hover||this.setState({hover:!0})},this._onMouseEnter=()=>{this.state.hover||this.setState({hover:!0})},this._onMouseLeave=()=>{this.state.hover&&this.setState({hover:!1})},this.maybeDownloadMediaMD=()=>{var{msg:e}=this.props;e.mediaData.preview||e.mediaData.fullPreviewData||e.mediaData.type!==u.default.TYPE.IMAGE&&e.mediaData.type!==u.default.TYPE.VIDEO||e.downloadMedia({downloadEvenIfExpensive:!1,isUserInitiated:!1,rmrReason:h.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER})},this._renderImgNode=(e,t,a,r)=>{var s=a?o.createElement("div",{className:c.default.shade}):null,n=t?{backgroundImage:`url(${t})`}:null;return o.createElement("div",{className:e,style:n,onClick:this.props.onClick,ref:this._setRefImg,onDragStart:this.props.onDragStart,draggable:null!=this.props.onDragStart||null},r,s)},this._downloadMedia=()=>{this.props.msg.downloadMedia({downloadEvenIfExpensive:!1,isUserInitiated:!1,rmrReason:h.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER})},this._renderImg=()=>{var e,{msg:{mediaData:t},preferPreview:a}=this.props;switch(t.type){case u.default.TYPE.AUDIO:return this._renderImgNode(`${c.default.mediaCanvas} attach-media-audio-thumb`);case u.default.TYPE.VIDEO:var r=(0,n.default)(c.default.mediaCanvas,{"media-video-thumb":t.isGif&&!t.preview}),s=null===(e=t.preview)||void 0===e?void 0:e.url();return this._renderImgNode(r,s,!0);case u.default.TYPE.IMAGE:var i=e=>{var a,r=null!=e?o.createElement("div",{className:c.default.mediaCanvas,style:{backgroundImage:`url(${e})`}}):null;return this._renderImgNode(c.default.mediaCanvas,null===(a=t.preview)||void 0===a?void 0:a.url(),this.props.msg.star,r)},l=()=>t.preview?i(null):this._renderImgNode(c.default.mediaCanvas,null,this.props.msg.star);return a?l():o.createElement("div",{className:c.default.mediaCanvas},o.createElement(p.default,{mediaData:t,placeholderRenderer:l,renderProgressively:!0,downloadMedia:this._downloadMedia},i));default:return this._renderImgNode(null,null,this.props.msg.star)}},this._renderIcon=()=>{var e,{mediaData:t}=this.props.msg;if(!t)return null;switch(t.type){case u.default.TYPE.AUDIO:e="msg-audio";break;case u.default.TYPE.VIDEO:e=t.isGif?"msg-gif":"msg-video"}return null==e?null:o.createElement("div",{className:c.default.iconType},o.createElement(m.default,{name:e}))},this._renderDuration=()=>{var{mediaData:e}=this.props.msg;switch(e.type){case u.default.TYPE.AUDIO:return o.createElement(_,{duration:e.duration});case u.default.TYPE.VIDEO:return e.isGif?null:o.createElement(_,{duration:e.duration});default:return null}}}componentDidMount(){this.props.listeners.add(this.props.msg.mediaData,"change:preview",(()=>{this.forceUpdate()})),this.props.listeners.add(this.props.msg,"change:star",(()=>{this.forceUpdate()})),this.props.imgRef&&this.props.imgRef(this._img),this.props.containerRef&&this.props.containerRef(this._container),this.maybeDownloadMediaMD(),this.props.listeners.add(this.props.msg.mediaData,"change:mediaStage",(()=>{this.props.msg.mediaData.mediaStage===g.MEDIA_DATA_STAGE.RESOLVED&&this.forceUpdate()}))}componentDidUpdate(){this.props.imgRef&&this.props.imgRef(this._img),this.props.containerRef&&this.props.containerRef(this._container)}componentWillUnmount(){this.props.imgRef&&this.props.imgRef(null),this.props.containerRef&&this.props.containerRef(null)}render(){var e,{msg:t,selectable:a,theme:r,active:s}=this.props,l=this.props.selected||!1;(a||this.state.hover)&&(e=o.createElement("div",{className:c.default.mediaSelect},o.createElement("div",{className:c.default.shadeTop,onClick:this.props.onClick}),o.createElement(i.default,{onChange:this._onSelectClick,hover:this.state.hover,checked:l})));var d=null,u=null,p=null;this.props.hoverEvent&&(d=this._onMouseOver,u=this._onMouseEnter,p=this._onMouseLeave);var h=(0,n.default)(this.props.classes,c.default.canvasComponent,{[c.default.canvasSelected]:l,[c.default.canvasSecondRow]:"hideableSecondRow"===r,[c.default.viewerFlow]:"viewerFlow"===r||"viewerFlowTransparent"===r,[c.default.viewerFlowTransparent]:"viewerFlowTransparent"===r,[c.default.active]:s}),f=t.star?o.createElement("div",{className:c.default.iconStar},o.createElement(m.default,{name:"star"})):null;return!0,E(t.mediaData)?o.createElement("div",{ref:this._setRefContainer,className:h,onMouseOver:d,onMouseEnter:u,onMouseLeave:p},e,o.createElement("div",{className:c.default.canvasBody},this._renderIcon(),this._renderDuration(),f),this._renderImg()):null}}function _({duration:e}){var t=l.default.durationStr(e);return t?o.createElement("span",{className:c.default.mediaCanvasDuration},t):null}function E(e){switch(e.type){case u.default.TYPE.VIDEO:case u.default.TYPE.IMAGE:if(e.preview||e.fullPreviewData||e.mediaStage===g.MEDIA_DATA_STAGE.RESOLVED)return!0;if(f.default.has(e.filehash)){try{f.default.getOrCreateURL(e.filehash)}catch(e){return!1}return!0}return!1;default:return!0}}t.MediaThumb=v,v.displayName="MediaThumb";var C=(0,d.default)(v);t.default=C},71673:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=s(a(2784)),o=r(a(72779)),i=r(a(30769));function l(e){return n.createElement("div",{className:(0,o.default)(i.default.icon,{[i.default.transparent]:e.theme&&"transparent"===e.theme,[i.default.compact]:e.theme&&"compact"===e.theme,[i.default.disabled]:e.disabled})},e.children)}l.displayName="RoundIcon"},74909:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(54073)),o=r(a(2784)),i=s(a(13277)),l=s(a(23045)),d=a(66239),u=s(a(4739)),c=s(a(90370)),p=s(a(11018)),h=r(a(15934)),m=(0,n.default)(((e,t)=>{(0,d.setVideoVolumeSettings)(e,t)}),500);class f extends o.PureComponent{constructor(...e){super(...e),this.checkIteration=0,this.checkForSuccessInterval=0,this.hasCalledPlaying=!1,this.mediaBlobWasDownloadedBeforeMount=Boolean(this.props.mediaData.mediaBlob),this.refVideo=o.createRef(),this.onVolumeChange=()=>{var e=this.refVideo&&this.refVideo.current;e&&m(e.volume,e.muted)},this.startCheckForSuccess=()=>{this.checkIteration=0,this.checkForSuccessInterval||(this.checkForSuccessInterval=setInterval(this.checkForSuccess,250))},this.clearCheckForSuccess=()=>{this.checkForSuccessInterval&&(clearInterval(this.checkForSuccessInterval),this.checkIteration=0,this.checkForSuccessInterval=0)},this.checkForSuccess=()=>{if(h.default.state===h.STATE.CONNECTED){this.checkIteration++;var e=this.refVideo&&this.refVideo.current,t=e&&e.buffered;t&&t.length&&t.end(0)>0?this.onPlaying():this.checkIteration>240&&this.clearCheckForSuccess()}},this.onPlayerError=()=>{this.clearCheckForSuccess()},this.onOtherPlaying=e=>{e!==this&&this.pause()},this.pause=()=>{var e=this.refVideo&&this.refVideo.current;e&&(e.paused||e.pause())},this.onPlaying=()=>{this.clearCheckForSuccess(),i.default.mediaPlaying(this)},this.onLoadedMetadata=e=>{this.setStartTime();var{onLoadedMetadata:t}=this.props;t&&t(e)},this.setStartTime=()=>{var e=this.refVideo&&this.refVideo.current;null!=this.props.startTime&&0!==this.props.startTime&&e&&(e.currentTime=this.props.startTime)},this.onContextMenu=e=>{this.props.disableContextMenu&&e.preventDefault()}}componentDidMount(){this.props.listeners.add(i.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(i.default,"pttRecording",this.pause),this._updateVideoUserPrefs(),this.props.refVideo&&this.props.refVideo(this.refVideo)}componentWillUnmount(){m.flush(),this.clearCheckForSuccess(),this.pause()}componentDidUpdate(e){this._updateVideoUserPrefs(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}_updateVideoUserPrefs(){var e=this.refVideo&&this.refVideo.current;if(e){var t=(0,d.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&(e.volume=t.volume),"boolean"==typeof t.muted&&(e.muted=t.muted)),v()&&this.props.autoPlay&&this.startCheckForSuccess()}}render(){var e,t=this.props,{mediaData:a}=t,r=a.mediaBlob,s=a.streamable&&a.isStreamable();if(!this.mediaBlobWasDownloadedBeforeMount&&s||!r){if(!a.streamable||!a.isStreamable())return null;e=`${l.default.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`}else e=r.url();var n=v()&&!t.autoPlay?this.startCheckForSuccess:void 0;return o.createElement("video",{ref:this.refVideo,src:e,poster:t.poster,className:t.className,controls:t.controls,autoPlay:t.autoPlay,onClick:t.onClick,onDoubleClick:t.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:n,onPlaying:this.onPlaying,onError:this.clearCheckForSuccess,onContextMenu:this.onContextMenu},t.children)}}f.CONCERNS={msg:["id"],mediaData:["mediaBlob","streamable"]},f.displayName="VideoTag";var g=(0,u.default)((0,c.default)(f,f.CONCERNS));function v(){return p.default.isGecko||p.default.isSafari}t.default=g},81288:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(94751)),i=r(a(33715));class l extends o.default{constructor(...e){super(...e),this.closeStatusViewer=()=>{this.end()}}componentDidMount(){this.push(n.createElement(i.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}t.default=l},19040:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=s(a(2784)),o=a(66239),i=r(a(38637)),l=r(a(73041)),d=a(4704);function u(e){var{catalog:t,onSend:a}=e,r=(0,d.createCatalogLink)(t.id.user),s=t.id.equals((0,o.getMaybeMeUser)())?`${i.default.t(1160)} ${r}`:r;return n.createElement(l.default,{text:s,pushTransition:"none",popTransition:"none",onSend:a})}u.displayName="SendProductLinkFlow"},16882:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=s(a(2784)),o=a(66239),i=r(a(38637)),l=r(a(73041)),d=a(4704);function u(e){var{product:t,onSend:a}=e,r=(0,d.createProductLink)(t.catalogWid.user,t.id.toString()),s=t.catalogWid.equals((0,o.getMaybeMeUser)())?`${i.default.t(1188)} ${r}`:r;return n.createElement(l.default,{text:s,pushTransition:"none",popTransition:"none",onSend:a})}u.displayName="SendProductLinkFlow"},73041:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(52954)),o=r(a(2784)),i=a(25559),l=a(28221),d=s(a(13277)),u=s(a(23045)),c=s(a(94751)),p=s(a(38637)),h=r(a(55231)),m=a(24256),f=s(a(54559)),g=s(a(94228));class v extends c.default{constructor(...e){var t;super(...e),t=this,this._selected=[],this._getSelected=()=>this._selected,this._handleSelectionChange=(e,t,a)=>{this._selected=a},this._handleForwardConfirmed=e=>{this._send(e)},this._handleCancel=()=>{this.end()},this._send=function(){var e=(0,n.default)((function*(e){var{text:a,title:r,onSend:s}=t.props;if(1===e.length){var n=e[0];yield t._pasteText(n,a),t.end(),window.innerWidth<=u.default.LAYOUT_2COLUMNS_MAX_WIDTH&&d.default.closeDrawerRight()}else t.push(o.createElement(g.default,{defaultText:a,title:r||p.default.t(999),onSend:(a,r)=>t._handleSend(e,a,r),onBack:t._handleBack}));s&&s()}));return function(){return e.apply(this,arguments)}}(),this._handleSend=(e,t,a)=>{this._sendText(e,t,a),this.end()},this._handleBack=()=>{this.pop()},this._pasteText=function(){var e=(0,n.default)((function*(e,a){yield t._ensureContactUnblocked(e),e.active?d.default.pasteChatTextInput(e,a):(e.setComposeContents({text:a}),d.default.openChatFromUnread(e).then((t=>{t&&d.default.focusChatTextInput(e)})))}));return function(){return e.apply(this,arguments)}}(),this._sendText=(e,a,r)=>{e.forEach(function(){var e=(0,n.default)((function*(e){yield t._ensureContactUnblocked(e),d.default.once("ui_idle",(()=>{(0,m.sendTextMsgToChat)(e,a,{linkPreview:r})}))}));return function(){return e.apply(this,arguments)}}())},this._ensureContactUnblocked=function(){var e=(0,n.default)((function*(e){e.isUser&&e.contact.isBlocked()&&(yield(0,i.unblockContact)(e.contact))}));return function(){return e.apply(this,arguments)}}()}componentDidMount(){this.push(o.createElement(h.default,{title:this.props.title||p.default.t(999),listType:h.ListType.CHAT_SELECT_MODAL,getInitialItems:this._getSelected,maxItems:f.default.multicastLimitGlobal,onConfirm:this._handleForwardConfirmed,onCancel:this._handleCancel,onSelectionChanged:this._handleSelectionChange,singleSelectionFooterType:l.FooterType.NEXT,multipleSelectionFooterType:l.FooterType.NEXT}))}}t.default=v},1126:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(72779)),o=r(a(2784)),i=a(9690),l=s(a(33314)),d=s(a(30520));class u extends o.PureComponent{constructor(...e){super(...e),this._renderLabel=()=>{var{labels:e,theme:t}=this.props;if(e)return e.map(((e,a)=>o.createElement("div",{key:a,className:(0,n.default)(l.default.labelRow,{[l.default.standaloneLabelRow]:"standalone"===t})},o.createElement(d.default,{labels:[e],showName:!0}))))}}render(){var{labels:e,theme:t}=this.props;return e&&(0,i.canDisplayLabel)()?o.createElement("div",{className:(0,n.default)(l.default.labelContainer,{[l.default.standaloneLabelContainer]:"standalone"===t})},this._renderLabel()):null}}u.displayName="InfoDrawerLabelWell";var c=u;t.default=c},65236:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(32944)),i=r(a(68214)),l=r(a(93257)),d=r(a(3123)),u=r(a(96881)),c=s(a(32597)),p=r(a(38637)),h=a(55814),m=r(a(90370)),f=a(74315);class g extends n.Component{constructor(...e){super(...e),this._onUnarchiveSettingChange=()=>{var e=!this.props.settings.archive.classic;(0,h.setArchiveClassicSetting)(e)}}render(){var e=!this.props.settings.archive.classic;return n.createElement(d.default,null,n.createElement(c.default,{title:p.default.t(233),type:c.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onClose}),n.createElement(u.default,null,n.createElement("div",{className:i.default.section},n.createElement("div",{"data-a8n":o.default.key("auto-unarchive-setting"),className:i.default.control},n.createElement(l.default,{onChange:this._onUnarchiveSettingChange,checked:e})),n.createElement("div",{"data-a8n":o.default.key("auto-unarchive-setting-text")},p.default.t(252),n.createElement(f.TextDiv,{theme:"muted"},p.default.t(251))))))}}g.CONCERNS={settings:["archive"]},g.displayName="ArchiveSettings";var v=(0,m.default)(g,g.CONCERNS);t.default=v},42579:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=s(a(2784)),o=r(a(13277)),i=r(a(11586)),l=r(a(51685)),d=r(a(73018)),u=r(a(38637)),c=r(a(18779)),p=s(a(97025));function h({elementId:e,onClick:t}){return document.queryCommandSupported("copy")?n.createElement(d.default,{a8nText:"li-copy-link",icon:n.createElement(c.default,{name:"copy",className:i.default.icon}),onClick:()=>function(e,t){(0,l.default)(e)?o.default.openToast(n.createElement(p.default,{msg:u.default.t(847),id:(0,p.genId)()})):o.default.openToast(n.createElement(p.default,{msg:u.default.t(846),id:(0,p.genId)()})),null!=t&&t()}(e,t)},u.default.t(521)):null}h.displayName="CopyLinkButton"},73018:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=s(a(58527)),o=s(a(72779)),i=r(a(2784)),l=s(a(32944)),d=s(a(70860)),u=a(74315),c=s(a(37766));function p(e){var{children:t,onClick:a,icon:r,className:s,color:p,theme:h}=e,[m,f]=(0,c.default)(a),g=null!=r?i.createElement("div",{className:(0,o.default)(d.default.icon,{[d.default.danger]:"danger"===p,[d.default.success]:"success"===p})},r):null,v=(0,o.default)(d.default.container,s,{[d.default.containerNoIcon]:!r,[d.default.containerListAligned]:"list-aligned"===h}),_="string"==typeof t?t:null;return i.createElement("div",(0,n.default)({},f,{className:v,"data-a8n":l.default.key(e.a8nText),"data-ignore-capture":"any",ref:m,title:_}),g,i.createElement("div",{className:d.default.bodyContainer},i.createElement("div",{className:d.default.body},i.createElement(u.TextSpan,{theme:"title",color:p},t))))}p.displayName="DrawerButton"},70219:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(72779)),o=r(a(2784)),i=s(a(78523)),l=s(a(13277)),d=s(a(51045)),u=s(a(30905)),c=s(a(87958)),p=s(a(38637)),h=a(58868),m=s(a(21830)),f=s(a(29986)),g=s(a(21658)),v=s(a(90370)),_=s(a(18779)),E=s(a(5431)),C=s(a(61671));class S extends o.Component{constructor(...e){super(...e),this.state={style:{visibility:"hidden"}},this.onScroll=e=>{Math.abs(e.deltaY)>3&&this.onClose()},this.onClose=()=>{if(!this.closing){var e;if(this.closing=!0,this.props.getZoomNode((t=>{e=t})),!e)return l.default.closeModalMedia();var t=this._refImage;if(t){this.props.animateBorderRadius&&(t.style.transition="border-radius 500ms cubic-bezier(.1,.82,.25,1)",t.style.borderRadius="50%");var a=(0,m.default)(e,"start"),r=t.getBoundingClientRect(),s=a.getBoundingClientRect(),n=s.top-r.top,o=s.left-r.left,i=a.clientWidth/t.clientWidth;(0,C.default)(t,{translateX:[o,0],translateY:[n,0],scale:[i,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{l.default.closeModalMedia()}))}}},this.onImageLoad=e=>{var t=e.target;this.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},(()=>{this.props.getZoomNode((e=>{var a=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=r.top-a.top,n={visibility:"hidden",transform:`translateX(${r.left-a.left}px) translateY(${s}px) scale(${e.clientWidth/t.clientWidth})`,transition:"transform 0s",borderRadius:void 0};this.props.animateBorderRadius&&(n.borderRadius="50%"),this.setState({style:n},(()=>{var e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform 500ms cubic-bezier(.1,.82,.25,1)"};this.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform 500ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius 500ms cubic-bezier(.1,.82,.25,1)"}),this.setState({style:e})}))}))}))},this.setRefImage=e=>{this._refImage=e}}shouldComponentUpdate(e){return!!e.profilePicThumb.imgFull||(this.onClose(),!1)}render(){var e,{contact:t,profilePicThumb:a}=this.props;return a.imgFull&&(e=o.createElement(c.default,{src:a.imgFull,hasPrivacyChecks:!0,onLoad:this.onImageLoad,className:g.default.profileViewerImg})),o.createElement(E.default,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.onClose},o.createElement("div",{className:(0,n.default)("overlay",g.default.container),onWheel:this.onScroll,onClick:this.onClose},o.createElement("div",{className:g.default.headerContainer},o.createElement("div",{className:g.default.profileThumb},o.createElement(i.default,{image:o.createElement(d.default,{id:t.id,size:40}),theme:"plain",primary:o.createElement(u.default,{text:t.formattedUser})})),o.createElement("div",{className:g.default.mediaPanelTools},o.createElement(h.MenuBar,{key:"media-panel-header",theme:"strong"},o.createElement(h.MenuBarItem,{a8nText:"btn-close",icon:o.createElement(_.default,{name:"x-viewer"}),title:p.default.t(1580),onClick:this.onClose})))),o.createElement("div",{className:g.default.profileContainer,dir:"ltr"},o.createElement("div",{className:g.default.media},o.createElement(f.default,{type:"scaleDown",size:this.state.size},o.createElement("div",{className:g.default.profileViewer,"data-animate-profile-viewer":!0,ref:this.setRefImage,style:this.state.style},e))))))}}S.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},S.displayName="PhotoViewerModal";var P=(0,v.default)(S,S.CONCERNS);t.default=P},38658:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{profilePicThumb:t,size:a}=e,r=!t.canSet()&&!t.canDelete(),[s,m]=h(!1),f=(0,p.default)();return n.createElement(l.default,{type:d.default.PROFILE,id:t.id,attachToChat:!1,pending:s,startImage:t.imgFull,readOnly:r,onImageSet:(t,a)=>{var r,s=e.profilePicThumb;m(!0),r=t&&a?(0,u.setProfilePic)(s,t,a):(0,u.deleteProfilePic)(s),(0,c.default)(r,f).catchType(o.ActionError,(()=>{__LOG__(3)`ProfileDrawer: failed to set/delete profile image`})).catch((e=>{if(e.name!==i.ABORT_ERROR)throw e})).finally((()=>{m(!1)}))},size:a})};var n=s(a(2784)),o=s(a(24461)),i=a(3599),l=r(a(71147)),d=r(a(49398)),u=a(86690),c=r(a(2191)),p=r(a(39009)),{useState:h}=n},21120:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=s(a(2784)),o=r(a(73018)),i=r(a(38637)),l=r(a(44887)),d=r(a(18779));function u(e){return n.createElement(o.default,{a8nText:"li-share-link",icon:n.createElement(d.default,{name:"forward",className:l.default.icon}),onClick:e.onClick},i.default.t(1279))}u.displayName="SendLinkButton"},87075:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=s(a(2784)),o=r(a(73018)),i=r(a(38637)),l=r(a(67004)),d=r(a(18779));function u(e){return n.createElement(o.default,{a8nText:"li-share-link",icon:n.createElement(d.default,{name:"forward",className:l.default.icon}),onClick:e.onClick},i.default.t(1302))}u.displayName="SendProductButton"},49696:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(85030)),i=r(a(13277)),l=r(a(80206)),d=a(81407),u=r(a(36092)),c=r(a(1626)),p=a(46269),h=r(a(8451)),m=a(5370),f=r(a(38637)),g=r(a(85185)),v=r(a(40041)),_=a(24256),E=r(a(74611)),C=r(a(18779)),S=s(a(97025)),P=r(a(5431)),y=r(a(43195)),T=r(a(82838));class M extends n.Component{constructor(){super(...arguments),this.emojiInputComponent=(0,u.default)(),this._refEmojiPanel=n.createRef(),this.isSkinTonePickerOpen=!1,this.onSend=e=>{if(e.preventDefault(),this.inputLine){var t=this.inputLine.value.trim();if(t.length){var a=(0,S.genId)();o.default.find(this.props.msg.sender).then((e=>(i.default.openToast(n.createElement(S.default,{msg:f.default.t(1328),id:a})),(0,_.sendTextMsgToChat)(e,(0,h.default)(t),{quotedMsg:this.props.msg})))).then((()=>{this.props.onSend()})).catchType(l.default,(()=>{var{chat:e}=this.state;e&&i.default.openToast(n.createElement(S.default,{msg:f.default.t(1571,{contact:e.contact.formattedName}),id:a}))})),this.inputLine&&this.inputLine.reset(),this._emojiPickerClose(),this.props.dismissReply()}}},this.onFocus=()=>{this.setState({focused:!0})},this.onBlur=()=>{this.isSkinTonePickerOpen||document.activeElement===document.body&&this.setState({focused:!1})},this.onSkinTonePicker=e=>{this.isSkinTonePickerOpen=e},this.isFocused=()=>this.state.focused,this.onEmojiPicker=e=>{e&&(e.preventDefault(),e.stopPropagation());var t=n.createElement(c.default,{ref:this._refEmojiPanel,onEmoji:this.onEmoji,onFocusNext:this.restoreFocus,onFocusPrev:this.restoreFocus});this.setState({emojiPicker:{menu:t,dirY:d.DirY.TOP,type:"emoji_picker",anchor:e.target}})},this.onEmoji=e=>{this.inputLine&&this.inputLine.replaceSelection(e)},this.restoreFocus=()=>{this.inputLine&&this.inputLine.focus()},this._restoreEmojiPickerFocus=()=>{var e;null===(e=this._refEmojiPanel.current)||void 0===e||e.restoreFocus()},this._emojiPickerClose=()=>{this.setState({emojiPicker:void 0})},this.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},o.default.find(this.props.msg.sender).checkpoint(this.props.rejectOnUnmount()).then((e=>{this.setState({chat:e})}))}componentDidUpdate(e,t){this._shouldPausePlayback(t)&&!this._shouldPausePlayback(this.state)?this.props.play():!this._shouldPausePlayback(t)&&this._shouldPausePlayback(this.state)&&this.props.pause()}_shouldPausePlayback(e){return Boolean(e.emojiPicker)||e.focused}isPaused(){return this._shouldPausePlayback(this.state)}render(){var e,t,a;this.state.emojiPicker&&(e=n.createElement(P.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,requestDismiss:this._emojiPickerClose,requestFocus:this._restoreEmojiPickerFocus},n.createElement(y.default,{contextMenu:this.state.emojiPicker})),t=n.createElement(P.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this._restoreEmojiPickerFocus},n.createElement("div",null,e)));var{chat:r}=this.state;r&&this.state.focused&&!this.state.emojiPicker&&(a=n.createElement(P.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},n.createElement("div",{className:E.default.popupPanel},n.createElement(v.default,{msg:this.props.msg.safe(),theme:"statusV3",key:this.props.msg.id.toString(),chat:r}))));var s=this.emojiInputComponent;return n.createElement("div",{className:E.default.container},n.createElement(T.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},a),n.createElement("div",{className:E.default.wrapper},n.createElement("button",{className:E.default.emojiIcon,onClick:this.onEmojiPicker},n.createElement(C.default,{name:"smiley"})),n.createElement("div",{className:E.default.lineWrapper},n.createElement(s.EmojiSuggestions,{theme:p.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),n.createElement(s,{ref:(0,m.GetRef)((e=>{this.inputLine=e})),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:f.default.t(1380),editable:!0,multiline:!0})),n.createElement("button",{className:E.default.sendIcon,onClick:this.onSend},n.createElement(C.default,{name:"send",directional:!0})),t))}}M.displayName="StatusV3ComposeBox";var N=(0,g.default)(M);t.default=N},29848:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var n=s(a(54073)),o=s(a(72779)),i=r(a(2784)),l=s(a(41940)),d=s(a(85030)),u=s(a(99461)),c=s(a(13277)),p=s(a(23045)),h=s(a(51045)),m=s(a(30905)),f=r(a(24461)),g=s(a(18792)),v=s(a(25060)),_=a(5370),E=s(a(19058)),C=s(a(87958)),S=a(66207),P=s(a(38637)),y=s(a(4739)),T=s(a(86619)),M=a(60301),N=s(a(45884)),w=s(a(84161)),k=s(a(29986)),b=s(a(85185)),D=s(a(68267)),I=s(a(90370)),O=s(a(49696)),R=a(98647),x=s(a(12660)),A=s(a(63283)),L=s(a(5431)),V=a(89874),F=s(a(74909));class U extends i.Component{constructor(){super(...arguments),this._refProgressBar=i.createRef(),this._refProgressBarComponent=i.createRef(),this._refMeasuringProfile=i.createRef(),this._refWrapper=i.createRef(),this.componentWillUnmount=()=>{if(this._playbackController.removeListeners(),null!=this.props.sessionId){var e=Math.round(this._playbackController.duration||0);this._statusViewEvent.webcStatusPlaybackT=e;var t=this._playStartTime;null!=t&&(this._statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-t),this._playStartTime=void 0),this._statusViewEvent.commit()}},this._onWindowResize=()=>{var e=this._refMeasuringProfile&&this._refMeasuringProfile.current,t=this._refProgressBar&&this._refProgressBar.current;if(e&&t){var a=e.getBoundingClientRect(),r=t.getBoundingClientRect();!P.default.isRTL()&&a.right>r.left-5||P.default.isRTL()&&a.left<r.right+5?this.setState({narrow:!0}):this.setState({narrow:!1})}},this._onTab=e=>{(e&&(e.stopPropagation(),e.preventDefault()),this.props.statusV3.contact.isMe)||(this.composeBox.isFocused()?this.dismissReply():this._startReply())},this.onWindowGainedFocus=()=>{this._windowFocused=!0,this.play()},this.onWindowLostFocus=()=>{this._windowFocused=!1,this.pause()},this._onClickProfile=()=>{var e=this.props.statusV3.contact.id;d.default.find(e).then((e=>c.default.openChatBottom(e))).then((()=>{this.props.closeStatusViewer(!0)}))},this.play=()=>{var e=this.props.mediaData;if(e){if(e.mediaStage!==M.MEDIA_DATA_STAGE.RESOLVED)return;this._statusViewEvent.webcStatusLoadT||(this._statusViewEvent.markWebcStatusLoadT(),this._statusViewEvent.webcStatusLoaded=!0)}var t=this.composeBox;t&&t.isPaused()||this._windowFocused&&(this._playStartTime=window.performance.now(),this._playbackController.resume())},this.pause=()=>{var e=this.props.mediaData;if(!e||e.mediaStage===M.MEDIA_DATA_STAGE.RESOLVED){var t=this._playStartTime;null!=t&&(this._statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-t),this._playStartTime=void 0),this._playbackController.pause()}},this.onMouseDown=()=>{this.pause()},this.onMouseUp=()=>{this.play()},this.dismissReply=()=>{var e=this._refWrapper&&this._refWrapper.current;e&&g.default.focus(e)},this._startReply=()=>{this.composeBox.restoreFocus()},this.onSend=()=>{this._statusViewEvent.webcStatusReplyCount++},this.state={chat:void 0,narrow:!1},this._windowFocused=!0,this._playbackController=(0,R.setupStatusV3Controller)(this.props.mediaData,this.props.msg),this._statusViewEvent=new w.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0})}componentDidMount(){var{statusV3:e,msg:t,mediaData:a,msgIdx:r,sessionId:s}=this.props;if(null!=s){var o;o=e.contact.isMe?w.default.WEBC_STATUS_ROW_SECTION.MY:e.contact.statusMute?w.default.WEBC_STATUS_ROW_SECTION.MUTED:e.hasUnread?w.default.WEBC_STATUS_ROW_SECTION.RECENT:w.default.WEBC_STATUS_ROW_SECTION.VIEWED;var i,l=this.props.rowIdx||0,d=e.msgs.length-1-r<e.unreadCount;a?i=a.isGif?w.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===a.type?w.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:w.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(i=t.getLinks().length?w.default.WEBC_STATUS_MEDIA_TYPE.URL:w.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this._statusViewEvent.markWebcStatusLoadT(),this._statusViewEvent.webcStatusLoaded=!0),this._statusViewEvent.webcStatusSessionId=s,this._statusViewEvent.webcStatusRowSection=o,this._statusViewEvent.webcStatusRowIndex=l,this._statusViewEvent.webcStatusMediaType=i,this._statusViewEvent.webcStatusUnread=d}this._refProgressBarComponent&&this._refProgressBarComponent.current&&this._playbackController.addListeners(((e,t)=>{var a=this._refProgressBarComponent&&this._refProgressBarComponent.current;a&&a.onStart(e,t)}),(()=>{var e=this._refProgressBarComponent&&this._refProgressBarComponent.current;e&&e.onPause()}),(()=>{var e=this._refProgressBarComponent&&this._refProgressBarComponent.current;e&&e.onEnded().checkpoint(this.props.rejectOnUnmount()).then((()=>{this.props.onNext()})).catchType(f.Unmount,(()=>{}))})),a?(this.play(),a&&a.mediaStage===M.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,p.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));var u=this._refWrapper&&this._refWrapper.current;u&&u.focus();var c=this.props.listeners;c.add(window,"focus",this.onWindowGainedFocus),c.add(window,"blur",this.onWindowLostFocus),c.add(window,"resize",(0,n.default)(this._onWindowResize)),this._onWindowResize()}render(){var e,t,{msg:a,mediaData:r,statusV3:s}=this.props;if(r){var n=z(r);n&&(e={backgroundImage:`url(${n})`})}else if(a.type===p.default.MSG_TYPE.CHAT){e={backgroundColor:a.statusV3TextBg}}if(r)switch(r.type){case T.default.TYPE.IMAGE:t=i.createElement(j,{msg:a,statusV3:s,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case T.default.TYPE.VIDEO:t=i.createElement(H,{msg:a,statusV3:s,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this._playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:__LOG__(3)`Invalid status v3 image type: ${r.type}`}else t=a.type===p.default.MSG_TYPE.CHAT?i.createElement(G,{msg:a,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):i.createElement(Y,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var l,d=i.createElement("div",{ref:this._refProgressBar},i.createElement(A.default,{ref:this._refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar}));a.type!==p.default.MSG_TYPE.CHAT&&(l=i.createElement("div",{className:x.default.captionBackdrop},i.createElement(m.default,{className:x.default.mediaCaption,text:a.caption,formatters:S.Configuration.StatusV3Caption()})));var c,f,g=(0,o.default)(x.default.profile,{[x.default.nonClickProfile]:a.isSentByMe,[x.default.profileNarrow]:this.state.narrow}),v=(0,o.default)(x.default.profile,x.default.measuringProfile,{}),C=i.createElement("div",{className:g,onClick:a.isSentByMe?null:this._onClickProfile},i.createElement("div",{className:x.default.playerAvatar},i.createElement(h.default,{id:s.contact.id,theme:"status_v3",size:40})),i.createElement("div",{className:x.default.msgInfo},i.createElement(m.default,{className:x.default.msgInfoName,text:s.contact.formattedName}),i.createElement("div",{className:x.default.timestamp},u.default.relativeDateAndTimeStr(a.t)))),P=i.createElement("div",{ref:this._refMeasuringProfile,className:v},i.createElement("div",{className:x.default.playerAvatar},i.createElement(h.default,{id:s.contact.id,theme:"status_v3",size:40})),i.createElement("div",{className:x.default.msgInfo},i.createElement(m.default,{className:x.default.msgInfoName,text:s.contact.formattedName}),i.createElement("div",{className:x.default.timestamp},u.default.relativeDateAndTimeStr(a.t)))),y={tab:this._onTab,"shift+tab":this._onTab},M=e=>e.stopPropagation();r&&(c=i.createElement($,{mediaData:r}));var N=this.props.statusV3.contact;N.isMe||N.isPSA||(f=i.createElement(E.default,{handlers:{left:M,right:M}},i.createElement(O.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,_.GetRef)((e=>{this.composeBox=e}))})));var w,k=(0,o.default)(x.default.playerBackground,{[x.default.media]:r}),b=(0,o.default)(x.default.progressBackdrop,{[x.default.progressBarBackdropNarrow]:this.state.narrow});return a.type!==p.default.MSG_TYPE.CHAT&&(w=i.createElement("div",{className:b})),i.createElement(L.default,{displayName:"StatusV3Player",escapable:!0,requestDismiss:e=>{e||this.props.closeStatusViewer()},requestFocus:this.dismissReply},i.createElement(E.default,{handlers:y},i.createElement("div",{className:x.default.playerWrapper,key:a.id.toString(),tabIndex:-1,ref:this._refWrapper},P,C,w,d,l,i.createElement("div",{className:k,style:e}),t,c,f)))}}U.displayName="_StatusV3Player";class B extends i.PureComponent{constructor(...e){super(...e),this._renderImage=e=>{var{msg:t,mediaData:a}=this.props,r=(0,o.default)(x.default.playerContent,x.default.v3Image);return i.createElement("div",{className:r,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onDragEnd:this.props.onMouseUp},i.createElement(k.default,{type:"contain",size:{width:a.fullWidth,height:a.fullHeight}},i.createElement("div",{className:x.default.mediaViewer},i.createElement(C.default,{src:e,disableContextMenu:!0}),t&&t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&i.createElement(l.default,{annotations:t.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}))))},this._renderPreviewImage=()=>{var e,{mediaData:t}=this.props,a=(0,o.default)(x.default.playerContent,x.default.v3Image,x.default.loading);return i.createElement("div",{className:a,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement(k.default,{type:"contain",size:{width:t.aspectRatio,height:1}},i.createElement(C.default,{src:null!==(e=z(t))&&void 0!==e?e:""})))},this._downloadMedia=()=>this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:w.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidMount(){this.props.mediaData.mediaStage!==M.MEDIA_DATA_STAGE.RESOLVED&&this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:w.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidUpdate(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===M.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}componentWillUnmount(){this.props.pause()}render(){return i.createElement(N.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia,renderProgressively:!0},this._renderImage)}}B.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio","fullPreviewData"]},B.displayName="_StatusV3Img";var j=(0,I.default)(B,B.CONCERNS);class W extends i.PureComponent{constructor(...e){super(...e),this.refVideo=i.createRef(),this.setRefVideo=e=>{this.refVideo=e,this.props.playbackController.setVideo(this.refVideo.current)}}componentDidMount(){var e=this.props.mediaData;e.streamable||e.isStreamable()||this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:w.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidUpdate(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===M.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}componentWillUnmount(){this.props.pause()}render(){var e,{msg:t,mediaData:a,onMouseDown:r,onMouseUp:s}=this.props,n=a.mediaStage!==M.MEDIA_DATA_STAGE.RESOLVED,d=(0,o.default)(x.default.playerContent,x.default.v3Video,{loading:n});return i.createElement("div",{className:d,onMouseDown:r,onMouseUp:s},i.createElement(k.default,{type:"contain",size:{width:a.fullWidth,height:a.fullHeight}},i.createElement("div",{className:x.default.mediaViewer},i.createElement(F.default,{msg:t,mediaData:a,autoPlay:!0,refVideo:this.setRefVideo,poster:null!==(e=z(a))&&void 0!==e?e:"",disableContextMenu:!0},P.default.t(1440)),t&&t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&i.createElement(l.default,{annotations:t.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}))))}}W.CONCERNS={mediaData:["preview","mediaStage","fullWidth","fullHeight","streamable","fullPreviewData"]},W.displayName="_StatusV3Video";var H=(0,I.default)(W,W.CONCERNS);class G extends i.PureComponent{componentDidMount(){v.default.load(this.props.msg.font).catch((()=>{}))}render(){var e,t,a=(0,V.numCodepoints)(this.props.msg.body),r={[x.default[`font_${this.props.msg.font}`]]:!0};return a<=60?(e=(0,o.default)(x.default.text,x.default.textLarge,r),t=S.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):a<=240?(e=(0,o.default)(x.default.text,x.default.textMedium,r),t=S.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):e=(0,o.default)(x.default.text,x.default.textSmall,r),i.createElement("div",{className:(0,o.default)(x.default.playerContent,{[x.default.statusPanelPlayerContent]:"status-panel"===this.props.theme,[x.default.statusThumbnailPlayerContent]:"status-thumbnail"===this.props.theme,[x.default.textThumbnailPlayerContent]:"text-thumb"===this.props.theme}),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement("div",{className:e},i.createElement(m.default,{text:this.props.msg.body,formatters:t})))}}t.StatusV3Text=G,G.displayName="StatusV3Text";class Y extends i.PureComponent{render(){return i.createElement("div",{className:x.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement("div",{className:x.default.unknown},P.default.t(1329)))}}Y.displayName="StatusV3Unknown";class K extends i.Component{render(){var{mediaData:e}=this.props;return e.mediaStage!==M.MEDIA_DATA_STAGE.RESOLVED?i.createElement("div",{className:x.default.mediaStateControls},i.createElement("button",{className:"icon-media-disabled"},i.createElement(D.default,{size:50,stroke:4,color:"white"}))):null}}function z(e){return e?e.fullPreviewData?e.fullPreviewData.url():e.preview?e.preview.url():null:null}K.CONCERNS={mediaData:["mediaStage"]},K.displayName="_LoadingSpinner";var $=(0,I.default)(K,K.CONCERNS),q=(0,b.default)((0,y.default)(U));t.default=q},33715:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(72779)),o=a(60266),i=r(a(2784)),l=s(a(13277)),d=s(a(23045)),u=a(33576),c=r(a(24461)),p=s(a(25060)),h=s(a(19058)),m=s(a(38637)),f=a(60301),g=s(a(84161)),v=s(a(85185)),_=s(a(68267)),E=s(a(29848)),C=r(a(35967)),S=s(a(68563)),P=s(a(18779)),y=r(a(97025)),T=s(a(82838));class M extends i.Component{constructor(){super(...arguments),this.onClickProgressBar=e=>{var t=this.state.iterator;if((!t||e!==t.msgIdx)&&t){var a=this._statusV3Snapshot.statusAt(t,e);a.isFulfilled()||this.setState({loading:!0}),a.checkpoint(this.props.rejectOnUnmount()).then((e=>{this.setState({iterator:e})})).catchType(c.Unmount,(()=>{})).catchType(u.EphemeralDrop,(()=>{})).catchType(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`})).catchType(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})).finally((()=>{this.setState({loading:!1})}))}},this._preloadNextStatus=()=>{var e=this.state.iterator;e&&this._statusV3Snapshot.hasNext(e)&&this._statusV3Snapshot.getNext(e).checkpoint(this.props.rejectOnUnmount()).then((e=>{var t=this._statusV3Snapshot.statuses[e.statusIdx].msgs[e.msgIdx];if(!t)throw new C.StatusV3MsgNotFound;if(t.type===d.default.MSG_TYPE.CHAT)p.default.load(t.font).catch((()=>{}));else{var a=t.mediaData;a&&a.mediaStage!==f.MEDIA_DATA_STAGE.RESOLVED&&t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:g.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!1})}})).catchType(c.Unmount,(()=>{})).catchType(u.EphemeralDrop,(()=>{})).catchType(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while preloading next status`})).catchType(C.StatusV3MsgNotFound,(()=>{__LOG__(3)`Error finding next status while preloading next status`})).catchType(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))},this.onPrev=()=>{var e=this.state.iterator;if(e&&this._statusV3Snapshot.hasPrev(e)){var t=e.statusIdx;this._statusV3Snapshot.getPrev(e).checkpoint(this.props.rejectOnUnmount()).then((e=>{e.statusIdx===t?this.setState({iterator:e}):(this.setState({transitioning:!0}),(0,o.delayMs)(200).checkpoint(this.props.rejectOnUnmount()).then((()=>{this.setState({iterator:e,transitioning:!1})})).catchType(c.Unmount,(()=>{})))})).catchType(c.Unmount,(()=>{})).catchType(u.EphemeralDrop,(()=>{})).catchType(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting previous status msg`})).catchType(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))}},this.onNext=()=>{var e=this.state.iterator;if(e&&this._statusV3Snapshot.hasNext(e)){var t=e.statusIdx,a=this._statusV3Snapshot.getNext(e);a.isFulfilled()||this.setState({loading:!0}),a.checkpoint(this.props.rejectOnUnmount()).then((e=>{e.statusIdx===t?this.setState({iterator:e}):(this.setState({transitioning:!0,loading:!1}),(0,o.delayMs)(200).checkpoint(this.props.rejectOnUnmount()).then((()=>{this.setState({iterator:e,transitioning:!1})})).catchType(c.Unmount,(()=>{})))})).catchType(c.Unmount,(()=>{})).catchType(u.EphemeralDrop,(()=>{})).catchType(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`,this.closeStatusViewer()})).catchType(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})).finally((()=>{this.setState({loading:!1})}))}else this.closeStatusViewer()},this.markRead=(e,t)=>{if(t){var a=e.unreadCount,r=e.totalCount;e.msgs.getModelsArray().findIndex((e=>e===t))>=r-a&&e.sendReadStatus(t.id,t.author);var s=this._statusV3Snapshot.statuses.find((t=>t.statusV3===e));s&&s.readMsgKeys.push(t.id.toString())}},this.closeStatusViewer=e=>{this.setState({transitioning:!0}),(0,o.delayMs)(200).checkpoint(this.props.rejectOnUnmount()).then((()=>{this.props.closeStatusViewer(e)})).catchType(c.Unmount,(()=>{}))};var e=this.props.initialStatusV3;if(this.props.quotedMsgKey){this.state={};var t=this.props.quotedMsgKey;if(-1!==e.msgs.getModelsArray().findIndex((e=>e.id.toString()===t.toString())))this._statusV3Snapshot=new C.default(e,t),this._statusV3Snapshot.getFirstUnread(e,!0,t).checkpoint(this.props.rejectOnUnmount()).then((e=>{this.setState({iterator:e,loading:!1})})).catchType(c.Unmount,(()=>{})).catchType(u.EphemeralDrop,(()=>{})).catchType(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,l.default.openToast(i.createElement(y.default,{msg:m.default.t(1322),id:(0,y.genId)()})),this.props.closeStatusViewer()}));else this.state={loading:!0},e.loadMore(e.totalCount).then((()=>{(this.setState({loading:!1}),-1!==e.msgs.getModelsArray().findIndex((e=>e.id.toString()===t.toString())))?(this._statusV3Snapshot=new C.default(e,t),this._statusV3Snapshot.getFirstUnread(e,!0,t).checkpoint(this.props.rejectOnUnmount()).then((e=>{this.setState({iterator:e,loading:!1})})).catchType(c.Unmount,(()=>{})).catchType(u.EphemeralDrop,(()=>{})).catchType(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,l.default.openToast(i.createElement(y.default,{msg:m.default.t(1322),id:(0,y.genId)()})),this.props.closeStatusViewer()}))):(this.props.onMsgNotFound&&this.props.onMsgNotFound(),l.default.openToast(i.createElement(y.default,{msg:m.default.t(1322),id:(0,y.genId)()})),this.props.closeStatusViewer())})).catch((()=>{l.default.openToast(i.createElement(y.default,{msg:m.default.t(1322),id:(0,y.genId)()})),this.props.closeStatusViewer()})).finally((()=>{this.setState({loading:!1})}))}else{var a=this.props.initialStatusMsg;this._statusV3Snapshot=new C.default(e);var r=this._statusV3Snapshot.getFirstUnread(e,!0,a&&a.id);r.isFulfilled()?this.state={}:this.state={loading:!0},r.checkpoint(this.props.rejectOnUnmount()).then((e=>{this.setState({iterator:e,loading:!1})})).catchType(c.Unmount,(()=>{})).catchType(u.EphemeralDrop,(()=>{})).catchType(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,l.default.openToast(i.createElement(y.default,{msg:m.default.t(1322),id:(0,y.genId)()})),this.props.closeStatusViewer()}))}}componentDidMount(){this._preloadNextStatus()}componentDidUpdate(){this._preloadNextStatus()}render(){var e,t,a,r,s,o,l,d,u=this.state.iterator;u&&(o=(s=this._statusV3Snapshot).statuses[u.statusIdx],l=o.statusV3,d=o.msgs[u.msgIdx],s.hasPrev(u)&&(a=i.createElement("div",{className:S.default.chevronLeft},i.createElement(P.default,{name:"chevron-left"})),r=i.createElement("div",{className:S.default.chevronLeftBg,onClick:this.onPrev})),s.hasNext(u)&&(e=i.createElement("div",{className:S.default.chevronRight},i.createElement(P.default,{name:"chevron-right"})),t=i.createElement("div",{className:S.default.chevronRightBg,onClick:()=>{this.onNext(),this.markRead(l,d)}})));var c,p={left:this.onPrev,right:this.onNext};!this.state.transitioning&&!this.state.loading&&d&&u&&o&&l&&(c=i.createElement("div",{className:S.default.playerContainer,key:d.id},i.createElement(E.default,{key:d.id,statusV3:l,msg:d,mediaData:d.mediaData,msgIdx:u.msgIdx,totalMsgs:o.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var m,f=(0,n.default)(S.default.v3X,{}),g=i.createElement("button",{className:f,onClick:()=>this.props.closeStatusViewer(!0)},i.createElement(P.default,{name:"x-viewer"})),v=(0,n.default)(S.default.backIcon,{}),C=i.createElement("button",{className:v,onClick:()=>this.props.closeStatusViewer()},i.createElement(P.default,{name:"back",directional:!0}));return this.state.loading&&(m=i.createElement("div",{className:S.default.mediaStateControls},i.createElement("button",null,i.createElement(_.default,{size:50,stroke:4,color:"white"})))),i.createElement(h.default,{handlers:p},i.createElement("div",{className:S.default.viewer,"data-animate-status-v3-viewer":!0},g,C,r,a,t,e,m,i.createElement(T.default,{transitionName:"status-v3-player",transitionAppear:!0},c)))}}M.displayName="StatusV3Viewer";var N=(0,v.default)(M);t.default=N},94228:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(23045)),i=r(a(3123)),l=r(a(96881)),d=s(a(32597)),u=r(a(30905)),c=r(a(19058)),p=r(a(54384)),h=s(a(64828)),m=r(a(32523)),f=r(a(19432)),g=r(a(18779)),v=r(a(92915)),_=r(a(66063)),E=r(a(5431)),C=s(a(79953)),S=(e,t)=>{var{defaultText:a,title:r,onSend:s,onBack:S}=e,[P,y]=n.useState(a),T=(0,C.findFirstWebLink)(P),{linkPreview:M,clearLinkPreview:N}=(0,C.default)(T),w=r?n.createElement(u.default,{text:r,direction:"auto",titlify:!0,ellipsify:!0}):null,{title:k,canonicalUrl:b,description:D,thumbnail:I}=M||{},O=M?n.createElement(E.default,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:N},n.createElement(m.default,{onOmit:N},n.createElement(p.default,{title:k,compose:!0,canonicalUrl:b,description:D,thumbnailJpeg:I}))):null;return n.createElement(h.default,{type:h.BoxModalType,ref:t},n.createElement(i.default,null,n.createElement(d.default,{type:d.DRAWER_HEADER_TYPE.POPUP,onBack:S},w),n.createElement(l.default,null,n.createElement(c.default,{className:_.default.container},n.createElement("div",{className:_.default.inputContainer},n.createElement(v.default,{a8n:"text-message-modal-text-unput",value:P,maxLength:o.default.MAX_TXT_MSG_SIZE,onChange:e=>{y(e)},supportsEmoji:!0,multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small"})),O)),n.createElement("div",{className:_.default.btnContainer},n.createElement("div",{className:_.default.btnPosition},n.createElement(f.default,{large:!0,onClick:()=>{P.length&&s(P,M)}},n.createElement(g.default,{name:"send",directional:!0}))))))};S.displayName="TextMessageModal";var P=n.forwardRef(S);t.default=P},65610:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(36171)),i=r(a(66109)),l=r(a(84755)),d=r(a(84340)),u=a(66368),c=a(9690),p=r(a(38637)),h=a(57934),m=r(a(86619)),f=a(36467),g=a(60301),v=a(55439),_=r(a(27582)),E=r(a(91100)),C=a(47138),S=r(a(18779));class P extends n.Component{constructor(...e){super(...e),this.onProductDetail=e=>{var{onProductDetail:t,shouldLog:a}=this.props;a&&(0,h.logProfileProductClick)({product:(0,C.unproxy)(e),catalogContext:(0,v.getProductCatalogContext)(this.context)}),t(e)}}componentDidMount(){var{shouldLog:e,catalog:t}=this.props;e&&null!=t&&(0,h.logBusinessProfileCatalogView)({catalogOwnerWid:t.id,catalogContext:(0,v.getProductCatalogContext)(this.context)})}_renderGallery(){var e,t,{catalog:a,filterProductId:r,productsToShow:s,hideIncompleteRows:o,onProductCatalog:i,showProductPlaceholders:l,seeMoreOverlay:d}=this.props,u=[],h=s,C=void 0;if((0,c.canSeeBizProfileV3)()&&(C="largeGallerySpacing"),null!=a?(e=a.productCollection,u=a.productCollection.getProductModels(),o&&u.length>3&&(h=Math.min(s,u.length-u.length%3)),u=(u=u.slice(0,h+1)).filter((e=>e.id.toString()!==r)).map(((e,t)=>{var r,s,o=null===(r=e.getPreviewImage())||void 0===r?void 0:r.mediaData;return o?(d&&t===h-1&&a.productCollection.length>h-1&&(s=p.default.t(1274)),n.createElement(E.default,{key:e.id.toString(),onClick:()=>this.onProductDetail(e),mediaData:o,overlayContent:s,theme:C})):n.createElement(n.Fragment,null)})).slice(0,h)):(e=new _.default).add({id:"_ph"}),!u.length&&!l)return null;for(;l&&u.length<h;)u.push(n.createElement(E.default,{key:`_ph${u.length}`,onClick:i.bind(this,(0,v.getProductCatalogContext)(this.context)),mediaData:new m.default({mediaStage:g.MEDIA_DATA_STAGE.PREPARING}),theme:C}));return(0,c.canSeeBizProfileV3)()&&(t="space-between"),n.createElement(f.Gallery,{productMedias:u,mediaCollection:e,justify:t})}_renderCatalogEntryButton(){var{onProductCatalog:e,catalogEntryLabel:t}=this.props;return null==t?null:n.createElement("div",{className:i.default.catalogEntryButton},n.createElement(o.default,{a8nText:"catalog-entry-button",type:"secondary",onClick:e.bind(this,(0,v.getProductCatalogContext)(this.context))},t))}render(){var{onProductCatalog:e,title:t,subtitle:a,animation:r,sectionTheme:s}=this.props,o=this._renderCatalogEntryButton(),l=this._renderGallery(),c=a?n.createElement(u.FlexItem,{className:i.default.subtitle},a):null,h=n.createElement(u.FlexRow,{align:"center"},c,n.createElement(u.FlexItem,null,n.createElement(S.default,{className:i.default.chevron,name:"chevron-right-alt",directional:!0})));return n.createElement(d.default,{title:t||p.default.t(1157),titleOnClick:e.bind(this,(0,v.getProductCatalogContext)(this.context)),subtitle:h,theme:s,animation:r},l,o)}}t.default=P,P.contextType=l.default,P.defaultProps={productsToShow:6,sectionTheme:"padding",hideIncompleteRows:!1},P.displayName="CatalogDrawerSection"},38024:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(51487)),i=r(a(78523)),l=r(a(13277)),d=r(a(42579)),u=s(a(51045)),c=r(a(3123)),p=r(a(96881)),h=r(a(84755)),m=s(a(32597)),f=r(a(38637)),g=r(a(82516)),v=a(57934),_=r(a(26553)),E=a(55439),C=r(a(19040)),S=r(a(21120)),P=a(4704),y="catalog-link-anchor";class T extends n.Component{constructor(...e){super(...e),this._handleCatalogLinkClick=e=>{e.preventDefault(),this._handleSendCatalogLinkClick()},this._handleSendCatalogLinkClick=()=>{var{catalog:e,onSend:t}=this.props;l.default.openModal(n.createElement(C.default,{catalog:e,onSend:t}),{transition:"modal-flow"}),(0,v.logShareCatalogViaWALinkClick)({catalogOwnerWid:e.id,catalogContext:(0,E.getProductCatalogContext)(this.context)})},this._handleCopyLinkClick=()=>{var{catalog:e}=this.props;(0,v.logShareCatalogCopyLinkClick)({catalogOwnerWid:e.id,catalogContext:(0,E.getProductCatalogContext)(this.context)})}}render(){var e,t,{onBack:a,onCancel:r,catalog:s,contact:l,prompt:h,centerDrawer:v}=this.props,E=n.createElement(u.default,{id:l.id,size:82,quality:u.DETAIL_IMAGE_QUALITY.HIGH});return v&&(e="labels",t="center-column"),n.createElement(c.default,{key:"catalog-link-drawer",theme:e},n.createElement(m.default,{a8n:"catalog-link-title",title:f.default.t(413),onBack:a,onCancel:r,type:m.DRAWER_HEADER_TYPE.SMALL}),n.createElement(p.default,{theme:t},n.createElement("div",{className:o.default.prompt},h),n.createElement(i.default,{image:E,primary:n.createElement(_.default,{contact:l,useVerifiedName:!0}),theme:"identity",secondary:n.createElement(g.default,{id:y,href:(0,P.createCatalogLink)(s.id.user),onClick:this._handleCatalogLinkClick,noHandle:!0})}),n.createElement(S.default,{onClick:this._handleSendCatalogLinkClick}),n.createElement(d.default,{elementId:y,onClick:this._handleCopyLinkClick})))}}t.default=T,T.contextType=h.default,T.displayName="CatalogLinkDrawer"},72562:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(1882)),i=r(a(84755)),l=r(a(81407)),d=r(a(77508)),u=r(a(38637)),c=r(a(99369)),p=a(84982),h=a(58868),m=a(55439),f=r(a(18779)),g=a(61864);class v extends n.PureComponent{_getCartIcon(){var{onCartClick:e,cartCount:t,catalogId:a}=this.props;if(e&&a){var r=(0,g.isNumber)(t)&&t>0?t.toString():void 0,s=(0,p.getOnCartClickWithLog)(e,a,(0,m.getProductCatalogContext)(this.context));return n.createElement(h.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:n.createElement(o.default,null),text:r,title:u.default.t(359),onClick:s})}return null}render(){var{onSendProduct:e,onReportProduct:t,onProductLinkClick:a}=this.props;return n.createElement(n.Fragment,null,this._getCartIcon(),n.createElement(h.MenuBarItem,{a8nText:"menu-bar-product-link",icon:n.createElement(c.default,null),title:u.default.t(1167),onClick:a}),n.createElement(h.MenuBarItem,{a8nText:"menu-bar-menu",icon:n.createElement(f.default,{name:"menu"}),title:u.default.t(950)},n.createElement(l.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ProductDetailHeader",dirX:"LEFT"},n.createElement(d.default,{a8n:"mi-send menu-item",action:e},u.default.t(1302)),n.createElement(d.default,{a8n:"mi-report menu-item",action:t},u.default.t(1217)))))}}t.default=v,v.contextType=i.default,v.displayName="DetailDrawerMenu"},96313:(e,t,a)=>{"use strict";var r=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.parseErrorState=function(e,t){if(e instanceof n.Unmount);else if(e instanceof s.ServerStatusCodeError)"not_found"===e.status||404===e.status?t("NOT_FOUND"):(t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch from server`);else{if(!(e instanceof s.WebdDrop))throw t("ERROR"),e;t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch due to WebdDrop`}};var s=a(33576),n=r(a(24461))},40517:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=s(a(72779)),o=r(a(2784)),i=s(a(38637)),l=s(a(63226)),d=r(a(68267)),u=a(74315);function c({fetchState:e}){switch(e){case"NONE":case"SUCCESS":return null;case"PENDING":return o.createElement("div",{className:(0,n.default)(l.default.loadingContainer)},o.createElement(d.default,{size:14,color:d.colorOptions.highlight}),o.createElement(u.TextSpan,{className:(0,n.default)(l.default.text,l.default.loadingText),theme:"small"},i.default.t(1189)));case"NOT_FOUND":case"ERROR":return o.createElement("div",{className:(0,n.default)(l.default.loadingContainer)},o.createElement(u.TextSpan,{className:l.default.text,theme:"small",color:"danger"},"NOT_FOUND"===e?i.default.t(1175):i.default.t(1161)));default:throw new Error(`invalid fetchState ${e}`)}}c.displayName="FetchStateTopBar"},99369:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=s(a(2784)),o=r(a(72779)),i=r(a(66594)),l=r(a(18779));function d(e){return n.createElement(l.default,{name:"link",className:(0,o.default)(i.default.linkIcon,{[i.default.inheritColor]:"inherit-color"===e.theme})})}d.displayName="LinkIcon"},82516:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=s(a(2784)),o=r(a(89440)),i=a(64812);function l({id:e,href:t,onClick:a,noHandle:r}){return n.createElement("span",{className:o.default.linkContainer},n.createElement(i.SelectableLink,{id:e,href:t,className:o.default.activeLink,selectable:!0,onClick:a,"data-nohandle":r},t))}l.displayName="LinkText"},26891:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.handleProductDelete=function(e,t,a){return(0,c.logDeleteProductClick)(t,1,a),new Promise(((r,s)=>{i.default.openModal(o.createElement(l.default,{title:u.default.t(392),okText:u.default.t(1738),cancelText:u.default.t(1569),onOK:()=>{i.default.closeModal(),function(e,t,a){return(0,p.deleteProducts)([t.id.toString()]).then((()=>((0,c.logDeleteProductSuccess)(t,1,a),e.productCollection.evictImagesFromCache(t.id.toString()),e.productCollection.remove(t.id.toString()),!0))).catchType(d.ServerStatusCodeError,(e=>((0,c.logDeleteProductFailed)(t,1,a,e.statusCode),i.default.openToast(o.createElement(g.default,{msg:u.default.t(393),id:(0,g.genId)("catalog_delete_product_failed")})),!1)))}(e,t,a).then((e=>r(e))).catch((e=>s(e)))},onCancel:()=>{i.default.closeModal(),r(!1)}},o.createElement("div",null,u.default.t(391))))}))},t.handleProductVisibilityChange=function(e,t){var a=e.id.toString(),r=!e.isHidden;r?(0,c.logCatalogProductHideClick)(a,t):(0,c.logCatalogProductShowClick)(a,t);return new Promise(((s,n)=>{var d=e.isHidden?"Show item in your catalog?":"Hide item in your catalog?";i.default.openModal(o.createElement(l.default,{okText:u.default.t(1738),cancelText:u.default.t(1569),onOK:()=>{i.default.closeModal(),function(){return v.apply(this,arguments)}(e).then((()=>{r?(0,c.logCatalogProductHideSuccess)(a,t):(0,c.logCatalogProductShowSuccess)(a,t),s(!0)})).catch((e=>{r?(0,c.logCatalogProductHideFailed)(a,t):(0,c.logCatalogProductShowFailed)(a,t),n(e)}))},onCancel:()=>{i.default.closeModal(),r?(0,c.logCatalogProductHideCancelled)(a,t):(0,c.logCatalogProductShowCancelled)(a,t),s(!1)}},o.createElement("div",null,d)))}))},t.handleCollectionDelete=function(e,t,a){return new Promise(((r,s)=>{i.default.openModal(o.createElement(l.default,{title:u.default.t(382),okText:u.default.t(1738),cancelText:u.default.t(1569),onOK:()=>{i.default.closeModal(),function(e,t,a){return(0,f.deleteCollection)(t.id.toString(),a).then((()=>(e.collections.remove(t.id.toString()),!0))).catchType(d.ServerStatusCodeError,(()=>(i.default.openToast(o.createElement(g.default,{msg:u.default.t(379),id:(0,g.genId)("catalog_delete_product_failed")})),!1)))}(e,t,a).then((e=>r(e))).catch((e=>s(e)))},onCancel:()=>{i.default.closeModal(),r(!1)}},o.createElement("div",null,u.default.t(380))))}))},t.handleCollectionSave=function(e,t,a,r,s){return(t?(0,f.editCollection)(t.id.toString()||"",a,!1,r.map((e=>e.id.toString())),s.map((e=>e.id.toString())),"").then((e=>(t.id=e.id,t.name=a,t.reviewStatus=e.reviewStatus,t.productCollection.reset(),t.productCollection.add(r),!0))):(0,f.createCollection)(a,r.map((e=>e.id.toString())),"").then((t=>{var s=new m.default;return s.id=t.id,s.reviewStatus=t.reviewStatus,s.isHidden=!1,s.name=a,s.totalItemsCount=r.length,s.productCollection.add(r,{merge:!0}),e.collections.add(s),!0}))).catch((e=>{var t=u.default.t(390);return"not-acceptable"===e.text&&"products"===e.fieldName&&"duplicate"===e.fieldReason&&(t=u.default.t(389)),i.default.openToast(o.createElement(g.default,{msg:t,id:(0,g.genId)("catalog_save_collection_failed")})),!1}))};var n=s(a(52954)),o=r(a(2784)),i=s(a(13277)),l=s(a(76176)),d=a(33576),u=s(a(38637)),c=a(57934),p=a(42643),h=a(57097),m=s(a(79077)),f=a(30217),g=r(a(97025));function v(){return(v=(0,n.default)((function*(e){yield(0,h.productVisibilitySet)([{productId:e.id.toString(),isHidden:!e.isHidden}]),e.isHidden=!e.isHidden}))).apply(this,arguments)}},2359:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=s(a(72779)),o=r(a(2784)),i=s(a(4472)),l=s(a(78523)),d=s(a(38637));function u(e){var{onClick:t}=e,a=(0,n.default)(i.default.addItemButton,{[i.default.themeDefault]:"default"===e.theme,[i.default.themeInList]:"in-list"===e.theme});return o.createElement(l.default,{theme:"add-item",image:o.createElement("div",{className:i.default.addIcon}),customImage:!0,primary:e.title||d.default.t(375),className:a,onClick:t,idle:e.idle})}u.displayName="AddItemCta"},25427:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=a(26891),i=r(a(13277)),l=r(a(23045)),d=r(a(84755)),u=r(a(85530)),c=r(a(36893)),p=a(57934),h=a(55439),m=r(a(55794)),f=r(a(90370)),g=a(47138);class v extends n.Component{constructor(...e){super(...e),this.state={openedProductId:void 0},this.onProductDetail=(e,t)=>{var{onProductDetail:a}=this.props;return(0,p.logCatalogListDetailClick)({product:(0,g.unproxy)(e),catalogContext:t}),this.setState({openedProductId:e.id.toString()}),a(e)},this.onProductShare=e=>{var{onProductShare:t}=this.props;t&&t(e)},this.onProductDelete=(e,t)=>{var{catalog:a}=this.props;(0,o.handleProductDelete)(a,e,t).then((()=>{e.id===this.state.openedProductId&&(i.default.closeDrawerMid(),this.setState({openedProductId:void 0}))}))},this.onProductHideShow=(e,t)=>{(0,o.handleProductVisibilityChange)(e,t)},this.renderItem=e=>{var{product:t}=e,{onCartOpen:a,shareLinks:r}=this.props;return n.createElement(d.default.Consumer,null,(e=>{var s=(0,h.getProductCatalogContext)(e);return n.createElement(m.default,{product:t,onCartOpen:a,onClick:()=>this.onProductDetail(t,s),onProductShare:r?this.onProductShare:null,onProductDelete:e=>this.onProductDelete(e,s),onProductHideShow:e=>this.onProductHideShow(e,s),canManageCatalog:this.props.canManageCatalog})}))}}getData(){var{catalog:e,onCartOpen:t}=this.props,a=void 0!==t;return e.productCollection.getProductModels(this.props.canManageCatalog).map((e=>({itemKey:`${e.id.toString()}_${a.toString()}`,product:e})))}render(){var{catalog:e}=this.props;return e.productCollection&&e.productCollection.getProductModels(this.props.canManageCatalog).length?n.createElement(c.default,{flatListControllers:[this.props.flatListController]},n.createElement(u.default,{flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem,defaultItemHeight:l.default.PRODUCT_LIST_ITEM_HEIGHT,itemEnterAnimationsEnabled:!0})):null}}v.CONCERNS={catalog:["productCollection","afterCursor","id","index"]},v.displayName="ProductCatalogList";var _=(0,f.default)(v,v.CONCERNS);t.default=_},85387:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(72779)),o=r(a(2784)),i=s(a(65017)),l=a(64001),d=a(79930),u=s(a(59544)),c=s(a(89962)),p=s(a(65610)),h=s(a(13277)),m=s(a(72562)),f=s(a(3123)),g=s(a(96881)),v=s(a(84755)),_=r(a(32597)),E=a(33576),C=r(a(24461)),S=s(a(38637)),P=s(a(4739)),y=a(57934),T=a(42643),M=a(55439),N=a(27582),w=s(a(63226)),k=s(a(7075)),b=s(a(21311)),D=a(13499),I=s(a(85185)),O=s(a(85378)),R=r(a(68267)),x=s(a(90370)),A=a(47138),L=a(74315);class V extends o.Component{constructor(e){super(e),this.onCartClick=()=>{var{product:e,onCartClick:t}=this.props;t&&t(e.catalogWid.toString())},this._onReportProduct=()=>{var{product:e}=this.props;h.default.openModal(o.createElement(O.default,{product:e,sessionId:(0,M.getProductCatalogSessionId)(this.context)}))},this.onProductLinkClick=()=>{var{product:e}=this.props;this.props.onProductLinkClick(e)},this.onSendChat=()=>{var{product:e}=this.props,t=c.default.get(e.catalogWid);(0,T.sendProductToChat)(e,t,(0,M.getProductCatalogContext)(this.context)),(0,y.logProductMessageBusinessClick)(e,(0,M.getProductCatalogContext)(this.context))},this._onSendProduct=()=>{var{product:e}=this.props,{catalogWid:t}=e,a=c.default.get(t);if(a){var r=a.productCollection.get(e.id),s=r?(0,A.unproxy)(r):(0,A.unproxy)(e);h.default.attachProduct({product:s})}},this.onBack=()=>{var{onBack:e}=this.props;if(e)return e()},this.onProductCatalog=()=>{var{onProductCatalog:e,product:t}=this.props;e&&e(t.catalogWid,(0,M.getProductCatalogContext)(this.context))},this.onProductDetail=e=>{var{onProductDetail:t}=this.props;if(t)return t(e)},this.isRejected=()=>{var{reviewStatus:e}=this.props.product;return e===N.PRODUCT_REVIEW_STATUS.REJECTED},this._isAvailable=()=>{var{productFetchState:e}=this.state;return"ERROR"!==e&&"NOT_FOUND"!==e&&!this.isRejected()};var t=e.product.fetchedFromServer?"SUCCESS":"PENDING",a=null,r="NONE";e.refreshCarousel&&((a=c.default.get(e.product.catalogWid))&&a.productCollection&&a.fetchedFromServer?r="SUCCESS":(a=null,r="PENDING"));var s=u.default.findCart(this.props.product.catalogWid.toString());this.state={businessProfile:null,cartEnabled:!1,productCatalog:a,productFetchState:t,productCatalogFetchState:r,cart:s}}componentDidMount(){var{product:e,listeners:t}=this.props,a=this.state.cart,r=e.catalogWid,s=e.id.toString();r&&s&&(this._fetchData(),"PENDING"===this.state.productCatalogFetchState&&this._fetchProductCatalog(),t.add(a,"change:cartItemCollection",(()=>{this.forceUpdate()})),(0,d.checkCartEnabled)(r).then((e=>{this.setState({cartEnabled:e})})),(0,y.logProductDetailView)({product:(0,A.unproxy)(e),catalogContext:(0,M.getProductCatalogContext)(this.context)}))}_fetchData(){var{product:e,rejectOnUnmount:t}=this.props,a=e.catalogWid,r=e.id.toString(),s=c.default.findProduct({catalogWid:a,productId:r,productMsgMediaData:(0,A.unproxy)(e).productMsgMediaData}),n=i.default.find(a);return Promise.all([n,s]).checkpoint(t()).then((([e])=>{this.setState({productFetchState:"SUCCESS",businessProfile:e})})).catchType(E.E404,(()=>{this.setState({productFetchState:"NOT_FOUND"})})).catchType(C.Unmount,(()=>{})).catchType(E.ServerStatusCodeError,(()=>{this.setState({productFetchState:"ERROR"}),__LOG__(3)`Failed to fetch product from server`})).catchType(E.WebdDrop,(()=>{this.setState({productFetchState:"ERROR"}),__LOG__(3)`Failed to fetch product`}))}_fetchProductCatalog(){var{product:e,rejectOnUnmount:t}=this.props,a=e.catalogWid;c.default.findCarouselCatalog(a).checkpoint(t()).then((e=>{var t=Array.isArray(e)?e[0]:e;this.setState({productCatalog:t||null,productCatalogFetchState:t?"SUCCESS":"NONE"})})).catchType(C.Unmount,(()=>{})).catchType(E.ServerStatusCodeError,(e=>{"not_found"===e.status||404===e.status?this.setState({productCatalog:null,productCatalogFetchState:"NOT_FOUND"}):(this.setState({productCatalog:null,productCatalogFetchState:"ERROR"}),__LOG__(3)`Failed to fetch product catalog from server`)})).catchType(E.WebdDrop,(()=>{this.setState({productCatalog:null,productCatalogFetchState:"ERROR"}),__LOG__(3)`Failed to fetch product catalog`}))}componentWillUnmount(){var{product:e}=this.props,t=e.catalogWid,a=e.id.toString();if(t&&a){var r=c.default.get(t),s=r&&r.msgProductCollection.get(a);s&&s.fetchedFromServer&&r&&r.msgProductCollection.remove(s)}}_renderTopBar(){var e,{productFetchState:t,productCatalogFetchState:a}=this.state,r=this._isAvailable();e="ERROR"===t?o.createElement(L.TextSpan,{className:w.default.text,theme:"small",color:"danger"},S.default.t(1161)):r?[o.createElement(R.default,{size:14,color:R.colorOptions.highlight,key:"DetailDrawer-loadingBar-spinner"}),o.createElement(L.TextSpan,{className:(0,n.default)(w.default.text,w.default.loadingText),theme:"small",key:"DetailDrawer-loadingBar-msg"},S.default.t(1189))]:o.createElement(L.TextSpan,{className:w.default.text,theme:"small",color:"danger"},S.default.t(1175));var s="PENDING"===t||"PENDING"===a||!r;return o.createElement("div",{className:(0,n.default)({[w.default.loadingContainer]:s,[w.default.shiftUp]:!s})},e)}_renderDrawerMenu(){if(!this._isAvailable())return null;var e=this.state.cartEnabled?this.onCartClick:void 0;return o.createElement(m.default,{onSendProduct:this._onSendProduct,onReportProduct:this._onReportProduct,onProductLinkClick:this.onProductLinkClick,onCartClick:e,cartCount:this.state.cart.itemCount,catalogId:this.props.product.catalogWid.toString()})}_renderDrawerHeader(){return o.createElement(_.default,{a8n:"drawer-title-profile",title:S.default.t(1165),onBack:this.onBack,type:_.DRAWER_HEADER_TYPE.SMALL,menu:this._renderDrawerMenu()})}render(){var{product:e}=this.props,{productCatalog:t,productFetchState:a}=this.state,r=this._isAvailable(),s=(0,l.hasCatalog)(this.state.businessProfile);return o.createElement(f.default,{onDrop:this.onBack,theme:"striped",key:"product-details-drawer"},this._renderDrawerHeader(),o.createElement(g.default,null,o.createElement("div",{className:w.default.body},this._renderTopBar(),o.createElement(b.default,{product:e,isAvailable:r,fetching:"PENDING"===a}),e.availability===D.ProductAvailability.OUT_OF_STOCK?o.createElement("div",{className:w.default.availabilityBanner},S.default.t(1164)):null,o.createElement(k.default,{product:e,onSendChat:this.onSendChat,isAvailable:r}),s&&t?o.createElement(p.default,{catalog:t,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,filterProductId:e.id.toString(),title:S.default.t(1158),animation:!1}):null)))}}V.CONCERNS={product:["id","catalogWid","productImageCollection","fetchedFromServer","name","availability","reviewStatus"]},V.contextType=v.default,V.displayName="ProductDetails";var F=(0,I.default)((0,P.default)((0,x.default)(V,V.CONCERNS)));t.default=F},7075:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(72779)),o=r(a(2784)),i=s(a(28185)),l=s(a(62128)),d=s(a(36171)),u=a(79930),c=s(a(23045)),p=s(a(84755)),h=s(a(84340)),m=s(a(30905)),f=a(4170),g=a(66207),v=s(a(38637)),_=r(a(63428)),E=a(57934),C=a(55439),S=a(27582),P=s(a(6681)),y=s(a(22935)),T=a(13499),M=s(a(90370)),N=a(47138),w=a(74315);class k extends o.Component{constructor(e){super(e),this.onAddToCart=e=>{var{product:t}=this.props;(0,i.default)(t,(0,C.getProductCatalogContext)(this.context)),e.stopPropagation()},this.onReadMore=()=>{this.setState({isDescExpanded:!0})},this._onClickUrl=(e,t)=>{e.stopPropagation();var{product:a}=this.props;(0,E.logDetailLinkClick)({product:(0,N.unproxy)(a),catalogContext:(0,C.getProductCatalogContext)(this.context)});var r=t&&_.findLink(t);r&&(0,f.openExternalLink)(r.url)},this.state={isDescExpanded:!1,cartEnabled:!1}}componentDidMount(){(0,u.checkCartEnabled)(this.props.product.catalogWid).then((e=>{this.setState({cartEnabled:e})}))}_renderMessageBusinessButton(){var{onSendChat:e,product:t,isAvailable:a}=this.props;if(!e||!t.fetchedFromServer||!a||t.reviewStatus!==S.PRODUCT_REVIEW_STATUS.APPROVED)return null;var r=v.default.t(1170);return o.createElement("div",{className:P.default.buttonContainer,title:r},o.createElement(d.default,{className:P.default.button,onClick:e,type:"secondary"},r))}_renderAddToCartButton(){var{product:e,isAvailable:t}=this.props;if(!this.state.cartEnabled||!e.fetchedFromServer||!t||e.reviewStatus!==S.PRODUCT_REVIEW_STATUS.APPROVED)return null;var a=v.default.t(1155),r=e.availability===T.ProductAvailability.OUT_OF_STOCK;return o.createElement("div",{className:P.default.buttonContainer,title:a},o.createElement(d.default,{className:(0,n.default)(P.default.button,P.default.addToCartButton),onClick:this.onAddToCart,type:"secondary",disabled:r},o.createElement("span",{className:P.default.addToCartContainer},o.createElement(l.default,{className:(0,n.default)(P.default.addToCartIcon,{[P.default.addToCartIconDisabled]:r})}),a)))}_renderLink(e){var{product:t,isAvailable:a}=this.props;if(!t.fetchedFromServer||!e||!a)return null;var r=g.Configuration.TrustedGroupDesc({links:_.findLinks(e)});return o.createElement("div",{className:P.default.descBlock},o.createElement(m.default,{selectable:!0,formatters:r,text:e,onClick:t=>this._onClickUrl(t,e)}))}_renderDesc(){var{product:e}=this.props,{isDescExpanded:t}=this.state;if(!e.description&&!e.url&&!e.retailerId)return null;var a,r=!(!e||!e.description)&&e.description.length>c.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH;return e.description&&(a=o.createElement("div",{className:P.default.descBlock},o.createElement(m.default,{selectable:!0,multiline:!0,text:e.description,textLimit:t?1/0:c.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),r&&!t?o.createElement("span",{className:P.default.more,role:"button",onClick:this.onReadMore},` ${v.default.t(1198)}`):null)),o.createElement(w.TextDiv,{theme:"plain",className:P.default.description},a,this._renderLink(e.url),e.retailerId?o.createElement("div",{className:P.default.descBlock},o.createElement(m.default,{text:e.retailerId,selectable:!0,direction:"inherit"})):null)}render(){var{product:e}=this.props;return o.createElement(h.default,{theme:"padding-product",animation:!1},o.createElement(w.TextDiv,{theme:"title",className:P.default.name},o.createElement(m.default,{text:e.name,selectable:!0})),null!=e.priceAmount1000?o.createElement(w.TextDiv,{className:P.default.price,color:"dark",theme:"plain"},o.createElement(y.default,{product:e,selectable:!0,direction:"inherit"})):null,this._renderDesc(),this._renderMessageBusinessButton(),this._renderAddToCartButton())}}k.contextType=p.default,k.CONCERNS={product:["name","url","description","availability","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","fetchedFromServer","retailerId","catalogWid","productImageCollection","imageHash","reviewStatus","imageCdnUrl","id"]},k.displayName="ProductDetailsInfo";var b=(0,M.default)(k,k.CONCERNS);t.default=b},3956:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductDetailsForDeepLink=void 0;var n=s(a(2784)),o=r(a(89962)),i=r(a(3123)),l=r(a(96881)),d=s(a(32597)),u=a(96313),c=r(a(40517)),p=r(a(19172)),h=r(a(38637)),m=r(a(21830)),f=r(a(85387)),g=r(a(85185)),v=a(25054);class _ extends n.PureComponent{constructor(e){super(e),this.state={product:null,productFetchState:"NONE"};var{productId:t,businessOwnerJid:a}=this.props.productInfo,r=(0,p.default)({productId:t,businessOwnerJid:a});this.state=r?{product:r,productFetchState:"NONE"}:{product:r,productFetchState:"PENDING"}}componentDidMount(){this.state.product||this._fetchProduct()}_fetchProduct(){var{productId:e,businessOwnerJid:t}=this.props.productInfo,a=(0,v.createWid)(t);o.default.findProduct({catalogWid:a,productId:e}).checkpoint(this.props.rejectOnUnmount()).then((()=>{var t=o.default.get(a),r=(0,m.default)(t,"catalog").productCollection.get(e);this.setState({product:r,productFetchState:"SUCCESS"})})).catch((e=>{(0,u.parseErrorState)(e,(e=>this.setState({productFetchState:e})))}))}render(){return this.state.product?n.createElement(f.default,{product:this.state.product,onEnd:this.props.onEnd,onBack:this.props.onBack,onProductDetail:this.props.onProductDetail,onProductCatalog:this.props.onProductCatalog,refreshCarousel:!0,onProductLinkClick:this.props.onProductLinkClick,onCartClick:this.props.onCartClick}):n.createElement(i.default,{onDrop:this.props.onBack,key:"product-details-drawer"},n.createElement(d.default,{a8n:"drawer-title-profile",title:h.default.t(1165),onBack:this.props.onBack,type:d.DRAWER_HEADER_TYPE.SMALL}),n.createElement(l.default,null,n.createElement(c.default,{fetchState:this.state.productFetchState})))}}t.ProductDetailsForDeepLink=_,_.displayName="ProductDetailsForDeepLink";var E=(0,g.default)(_);t.default=E},13692:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(72779)),o=r(a(2784)),i=s(a(78523)),l=s(a(13277)),d=s(a(42579)),u=s(a(3123)),c=s(a(96881)),p=s(a(84755)),h=r(a(32597)),m=s(a(30905)),f=s(a(38637)),g=s(a(82516)),v=a(57934),_=a(55439),E=s(a(44209)),C=r(a(91100)),S=s(a(21120)),P=s(a(87075)),y=s(a(16882)),T=a(4704),M=a(47138),N="product-link-anchor";function w(e){var t=e.productImageCollection.head();return t?o.createElement(C.default,{className:(0,n.default)(E.default.productImage,E.default.productImageContainer),mediaData:t.mediaData}):o.createElement(C.ProductThumbPlaceholder,{className:(0,n.default)(E.default.productThumb,E.default.productThumbContainer)})}class k extends o.Component{constructor(...e){super(...e),this._handleProductLinkClick=e=>{e.preventDefault(),this._handleSendProductLinkClick()},this._handleSendProductLinkClick=()=>{var{product:e,onSend:t}=this.props;l.default.openModal(o.createElement(y.default,{product:e,onSend:t}),{transition:"modal-flow"}),(0,v.logShareProductViaWALinkClick)({product:e,catalogContext:(0,_.getProductCatalogContext)(this.context)})},this._handleCopyLinkClick=()=>{var{product:e}=this.props;(0,v.logShareProductCopyLinkClick)({product:e,catalogContext:(0,_.getProductCatalogContext)(this.context)})},this._handleSendProduct=()=>{var{product:e,onSend:t}=this.props;l.default.attachProduct({product:(0,M.unproxy)(e),onSend:t})}}render(){var e,t,a,{onBack:r,onCancel:s,product:n,prompt:l,centerDrawer:p,sendProductMsg:v}=this.props,_=(0,T.createProductLink)(n.catalogWid.user,n.id.toString());return p&&(e="labels",t="center-column"),a=null!=v?o.createElement(P.default,{onClick:this._handleSendProduct}):o.createElement(S.default,{onClick:this._handleSendProductLinkClick}),o.createElement(u.default,{key:"product-link-drawer",theme:e},o.createElement(h.default,{a8n:"product-link-title",title:f.default.t(1167),onBack:r,onCancel:s,type:h.DRAWER_HEADER_TYPE.SMALL}),o.createElement(c.default,{theme:t},o.createElement("div",{className:E.default.prompt},l),o.createElement(i.default,{image:w(n),primary:o.createElement(m.default,{text:n.name,direction:"auto"}),theme:"identity",secondary:o.createElement(g.default,{id:N,href:_,onClick:this._handleProductLinkClick,noHandle:!0})}),a,o.createElement(d.default,{elementId:N,onClick:this._handleCopyLinkClick})))}}t.default=k,k.contextType=p.default,k.displayName="ProductLinkDrawer"},82773:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductListDrawer=void 0;var n=s(a(12436)),o=s(a(54073)),i=r(a(2784)),l=s(a(2359)),d=a(79930),u=s(a(59544)),c=s(a(1882)),p=s(a(89962)),h=s(a(23045)),m=s(a(3123)),f=s(a(96881)),g=s(a(84755)),v=r(a(32597)),_=r(a(24461)),E=a(96313),C=s(a(40517)),S=s(a(14076)),P=s(a(13663)),y=s(a(38637)),T=s(a(99369)),M=s(a(4739)),N=a(57934),w=a(84982),k=a(58868),b=a(55439),D=s(a(25427)),I=s(a(60345)),O=s(a(65013)),R=s(a(85185)),x=s(a(90370)),A=a(61864);class L extends i.Component{constructor(e){super(e),this._catalogFlatListController=new S.default,this._handleScroll=e=>{this.state.loadingMore||e.scrollTop+h.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&this._loadMoreProduct()},this.handleScroll=(0,n.default)(this._handleScroll,100),this._loadMoreProduct=()=>{var{catalogId:e}=this.props,{stopLoading:t,loadedProducts:a}=this.state;if(!t){var r=p.default.assertGet(e);if(r.afterCursor){var s=r.productCollection.getProductModels().length;this.setState({loadingMore:!0,loadedProducts:s}),p.default.update(e).checkpoint(this.props.rejectOnUnmount()).then((e=>{this.setState({loadingMore:!1}),(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===a&&this.setState({stopLoading:!0}),s*h.default.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&this._loadMoreProduct()})).catchType(_.Unmount,(()=>{})).catch((()=>{this.setState({loadingMore:!1,stopLoading:!0})}))}}},this.onScroll=e=>{this.handleScroll(e.currentTarget),this.props.setScrollOffset&&this.props.setScrollOffset(e.currentTarget.scrollTop)},this._onCartChange=()=>{var e=this.state.cart.itemCount;this.state.cartCount!==e&&this.setState({cartCount:e})},this._onCartClick=()=>{var{contact:e,onCartClick:t}=this.props;t&&t(e.id.toString())},this._onCatalogLinkClick=()=>{var{catalog:e}=this.state;if(e){var{onCatalogLinkClick:t,contact:a,catalogId:r}=this.props;t(e,a),(0,N.logCatalogShareLinkClick)({catalogOwnerWid:r,catalogContext:(0,b.getProductCatalogContext)(this.context)})}};var t=p.default.get(this.props.catalogId),a=u.default.findCart(this.props.contact.id.toString());this.state={loadingMore:!1,loadedProducts:0,stopLoading:!1,cartEnabled:!1,catalog:t,cart:a,cartCount:a.itemCount,catalogFetchState:t?"SUCCESS":"NONE"}}componentDidMount(){var{catalogId:e,listeners:t}=this.props;t.add(this.state.cart,"all",this._onCartChange),(0,N.logCatalogListView)({catalogOwnerWid:e,catalogContext:(0,b.getProductCatalogContext)(this.context)}),this.state.catalog?(this._loadMoreProduct(),this._watchProductCollection()):this._findCatalog(),(0,d.checkCartEnabled)(e).then((e=>{this.setState({cartEnabled:e})}))}_findCatalog(){return p.default.find(this.props.catalogId).checkpoint(this.props.rejectOnUnmount()).then((e=>{this.setState({catalog:e,catalogFetchState:"SUCCESS"}),this._loadMoreProduct(),this._watchProductCollection()})).catch((e=>{(0,E.parseErrorState)(e,(e=>this.setState({catalogFetchState:e})))}))}_watchProductCollection(){var{catalog:e}=this.state;this.props.autoUpdate&&null!=e&&(e.productCollection.on("add",(0,o.default)((()=>this.forceUpdate()),100)),e.productCollection.on("remove",(0,o.default)((()=>this.forceUpdate()),100)))}_getDrawerContent(){var e,{catalog:t,cartEnabled:a}=this.state,{contact:r,businessProfile:s,canManageCatalog:n,onAddProduct:o,onCartClick:d}=this.props,u=a&&d?this._onCartClick:void 0;return t?(n&&o&&(e=i.createElement(l.default,{onClick:()=>o(),theme:"in-list"})),i.createElement(i.Fragment,null,s&&i.createElement("div",{className:I.default.header},i.createElement(O.default,{profilePicThumb:r.getProfilePicThumb(),contact:r,businessProfile:s})),i.createElement("div",{className:I.default.list},e,i.createElement(D.default,{onCartOpen:u,onProductDetail:this.props.onProductDetail,flatListController:this._catalogFlatListController,catalog:t,canManageCatalog:this.props.canManageCatalog,shareLinks:this.props.canManageCatalog,onProductShare:this.props.onProductShare}),this.state.loadingMore&&i.createElement(P.default,null)))):i.createElement(C.default,{fetchState:this.state.catalogFetchState})}_getCartIcon(){var{onCartClick:e,headerType:t,catalogId:a}=this.props;if(this.state.cartEnabled&&e){var r=this.state.cartCount,s=(0,A.isNumber)(r)&&r>0?r.toString():void 0,n=(0,w.getOnCartClickWithLog)(this._onCartClick,a.toString(),(0,b.getProductCatalogContext)(this.context));return i.createElement(k.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:i.createElement(c.default,{theme:t===v.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),text:s,title:y.default.t(359),onClick:n})}return null}render(){return i.createElement(m.default,{theme:"products",onDrop:this.props.onBack},i.createElement(v.default,{title:y.default.t(1162),type:this.props.headerType||v.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onBack,menu:i.createElement(i.Fragment,null,this._getCartIcon(),i.createElement(k.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:i.createElement(T.default,{theme:this.props.headerType===v.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),title:y.default.t(413),onClick:this._onCatalogLinkClick}))}),i.createElement(f.default,{onScroll:this.onScroll,flatListControllers:[this._catalogFlatListController],scrollOffset:this.props.scrollOffset},this._getDrawerContent()))}}t.ProductListDrawer=L,L.CONCERNS={contact:["id"]},L.contextType=g.default,L.displayName="ProductListDrawer";var V=(0,R.default)((0,M.default)((0,x.default)(L,L.CONCERNS)));t.default=V},65013:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=a(51045),i=r(a(30905)),l=r(a(26553)),d=r(a(3220)),u=r(a(90370)),c=a(74315);class p extends n.Component{_renderDescription(){var{businessProfile:e}=this.props;return e&&e.description?n.createElement("div",{className:d.default.description},n.createElement(i.default,{text:e.description,direction:"auto",selectable:!0,titlify:!0})):null}_renderPicture(){var{profilePicThumb:e,contact:t}=this.props;if(!e)return null;var a=(0,o.getDefaultIcon)(t.id);return n.createElement("div",{className:d.default.photo},n.createElement(o.DetailImageCommon,{profilePicThumb:e,loader:!0,defaultIcon:a,profilePicThumbImg:e.imgFull,spinnerClassName:d.default.spinner,imgClassName:d.default.img,theme:"business"}))}render(){var{contact:e}=this.props;return n.createElement("div",{className:d.default.header},this._renderPicture(),n.createElement("div",{className:d.default.text},n.createElement(c.TextDiv,{className:d.default.name,theme:"large"},n.createElement(l.default,{contact:e,selectable:!0,useVerifiedName:!0})),this._renderDescription()))}}p.CONCERNS={profilePicThumb:["imgFull"],contact:["id","isMe"],businessProfile:["description"]},p.displayName="ProductListDrawerHeader";var h=(0,u.default)(p,p.CONCERNS);t.default=h},21311:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(13277)),i=r(a(84755)),l=r(a(17074)),d=a(57934),u=a(55439),c=r(a(57767)),p=r(a(90370)),h=a(47138);class m extends n.Component{constructor(...e){super(...e),this.onClick=(e,t)=>{var{product:a}=this.props;(0,d.logDetailImageClick)({product:(0,h.unproxy)(a),catalogContext:(0,u.getProductCatalogContext)(this.context)});var r={activeProductImage:t,productImageCollection:a.productImageCollection,getZoomNode:()=>e,product:a};o.default.productImageViewerModal(r,(0,u.getProductCatalogSessionId)(this.context))}}render(){var{product:e,isAvailable:t,fetching:a}=this.props,r=e.productImageCollection.toArray();return n.createElement("div",{className:c.default.imageCarouselContainer},n.createElement(l.default,{images:r,fetching:a,onClick:t?this.onClick:null,renderFallback:!t,fallbackMediaData:e.productMsgMediaData}))}}m.contextType=i.default,m.CONCERNS={product:["productImageCollection","productMsgMediaData","catalogWid","imageCdnUrl"]},m.displayName="ProductTile";var f=(0,p.default)(m,m.CONCERNS);t.default=f},80578:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=r(a(36171)),i=r(a(19058)),l=r(a(38637)),d=r(a(64828)),u=r(a(46873));class c extends n.Component{constructor(...e){super(...e),this.onCancel=()=>{var{onPopupCancel:e}=this.props;e()},this.onReport=()=>{this.props.onReport()},this.onTellUsMore=()=>{this.props.onTellUsMore()}}render(){var e=l.default.t(1221),t=n.createElement("div",{key:"ReportProductChoicePopup-desc"},l.default.t(1219)),a=n.createElement(o.default,{a8nText:"popup-controls-more",type:"secondary",onClick:this.onTellUsMore,key:"ReportProductChoicePopup-moreBtn"},l.default.t(1222)),r=n.createElement(o.default,{a8nText:"popup-controls-report",type:"secondary",onClick:this.onReport,key:"ReportProductChoicePopup-reportBtn"},l.default.t(1218)),s=n.createElement(o.default,{type:"secondary",onClick:this.onCancel,key:0},l.default.t(1569)),c={escape:this.onCancel},p=n.createElement("div",{className:u.default.buttons},n.createElement("div",{className:u.default.button},a),n.createElement("div",{className:u.default.button},r),n.createElement("div",{className:u.default.button},s));return n.createElement(i.default,{handlers:c},n.createElement(d.default,{title:e,actions:p,children:t}))}}t.default=c,c.displayName="ReportProductChoicePopup"},85378:(e,t,a)=>{"use strict";var r=a(14859),s=a(93291);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2784)),o=a(8507),i=r(a(13277)),l=r(a(94751)),d=r(a(38637)),u=a(57934),c=a(42643),p=r(a(80578)),h=r(a(85466)),m=a(47138);class f extends l.default{constructor(...e){super(...e),this._submitReason=e=>{var{product:t,sessionId:a}=this.props;return(0,u.logReportProduct)({product:(0,m.unproxy)(t),catalogSessionId:a}),(0,c.reportProduct)(t.catalogWid,t.id.toString(),e)},this.onDelete=()=>{this.end()},this.onReport=e=>{this._onShowSubmittedToast(e)},this.onTellUsMore=()=>{this.push(n.createElement(h.default,{onTellUsMoreSubmit:this.onReport,onCancel:this.onCancel}),"none")},this.onPopupCancel=()=>{this.end()},this.onCancel=()=>{this.end()},this._onReportSubmitted=()=>{this.end()},this._onShowSubmittedToast=(e,t=(0,o.genId)())=>{var{product:a,sessionId:r}=this.props,s=this._submitReason(e),l=new o.ActionType(d.default.t(1186)),c=s.then((()=>((0,u.logReportProductSuccess)({product:(0,m.unproxy)(a),catalogSessionId:r}),new o.ActionType(`${d.default.t(1185)}. ${d.default.t(1220)}`)))).catch((()=>((0,u.logReportProductFailure)({product:(0,m.unproxy)(a),catalogSessionId:r}),__LOG__(3)`error submitting product report`,new o.ActionType(d.default.t(1184),{actionText:d.default.t(1230),actionHandler:()=>this._onShowSubmittedToast(e,t)}))));return i.default.openToast(n.createElement(o.ActionToast,{id:t,initialAction:l,pendingAction:c})),this._onReportSubmitted(),s}}componentDidMount(){this.push(n.createElement(p.default,{onTellUsMore:this.onTellUsMore,onReport:this.onReport,onPopupCancel:this.onPopupCancel,onCancel:this.onCancel}))}}t.default=f},85466:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(72779)),o=r(a(2784)),i=s(a(36171)),l=s(a(13277)),d=s(a(19058)),u=s(a(38637)),c=s(a(2739)),p=s(a(64828)),h=s(a(9320)),m=r(a(97025)),f=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"];class g extends o.Component{constructor(...e){super(...e),this.state={reason:null},this.onCancel=()=>{var{onCancel:e}=this.props;e&&e()},this._onSubmit=()=>{if(!this.state.reason)return this._noSelectionToast();this.props.onTellUsMoreSubmit(this.state.reason)},this._onReasonChange=e=>{e.target&&e.target.value&&this.setState({reason:e.target.value})}}_noSelectionToast(){l.default.openToast(o.createElement(m.default,{msg:u.default.t(1187),id:(0,m.genId)()}))}_renderRadioOptions(){var{reason:e}=this.state;return f.map((t=>o.createElement("li",{key:`ReportProductReasonPopup-${t}-option`},o.createElement("label",{className:h.default.label},o.createElement("input",{type:"radio",name:t,value:t,onChange:this._onReasonChange,className:h.default.input,checked:e===t}),o.createElement(v,{reason:t})))))}render(){var e=u.default.t(1180),t=o.createElement("div",{className:(0,n.default)(h.default.section)},o.createElement("ul",{className:h.default.reasonList},this._renderRadioOptions())),a=o.createElement(i.default,{a8nText:"popup-controls-submit",type:"primary",onClick:this._onSubmit,key:"ReportProductReasonPopup-submitButton",disabled:!this.state.reason},u.default.t(1183)),r=o.createElement(i.default,{type:"secondary",a8nText:"popup-controls-cancel",onClick:this.onCancel,key:"ReportProductReasonPopup-cancelButton"},u.default.t(1569)),s={escape:this.onCancel},l=o.createElement("div",{className:h.default.buttons},r,a);return o.createElement(d.default,{handlers:s},o.createElement(p.default,{title:e,actions:l,children:t}))}}function v(e){var{reason:t}=e;switch(t){case"NO_MATCH":return o.createElement(c.default,{id:1178});case"SPAM":return o.createElement(c.default,{id:1182});case"ILLEGAL":return o.createElement(c.default,{id:1176});case"SCAM":return o.createElement(c.default,{id:1181});case"KNOCKOFF":return o.createElement(c.default,{id:1177});case"OTHER":return o.createElement(c.default,{id:1179});default:throw new Error(`Invalid reason: ${t}`)}}t.default=g,g.displayName="ReportProductReasonPopup",v.displayName="RadioLabelText"},44233:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RingTheme=void 0;var n=s(a(58527)),o=s(a(72779)),i=r(a(2784)),l=s(a(90370)),d=s(a(53513)),u=a(28103).Mirrored(["STATUS_V3_PANEL","BUSINESS_CONTACT_INFO"]);t.RingTheme=u;class c extends i.PureComponent{_genCircle(e){var t=100+this.props.stroke;return i.createElement("circle",(0,n.default)({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e))}_genDasharray(e,t,a,r){for(var s="",n=0;n<e;n++)s+=n===e-1?`${t} ${a-e*(r+t)+r} `:`${t} ${r} `;return s}render(){var{statusV3:e,stroke:t,size:a}=this.props,r=100+t,s=e.totalCount,n=10,l=50*Math.PI*2;l-10*s<1&&(n=l/s/1.2);var c,p,h=(l-n*s)/s,m=l/4-n/2,f=e.contact.isMe?0:e.unreadCount,g=s-f;if(f){var v,_=m+s*(n+h);1!==s&&(v=this._genDasharray(f,h,l,n)),c=this._genCircle({strokeDashoffset:_,strokeDasharray:v,className:d.default.unread})}if(g){var E,C=m+g*(n+h);1!==s&&(E=this._genDasharray(g,h,l,n)),p=this._genCircle({strokeDashoffset:C,strokeDasharray:E,className:d.default.read})}return i.createElement("svg",{className:(0,o.default)({[d.default.statusV3PanelRing]:this.props.theme===u.STATUS_V3_PANEL,[d.default.businessContactInfoRing]:this.props.theme===u.BUSINESS_CONTACT_INFO}),width:a,height:a,viewBox:`0 0 ${r} ${r}`},c,p)}}c.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},c.defaultProps={size:48,stroke:4,theme:u.STATUS_V3_PANEL},c.displayName="StatusV3ImageRing";var p=(0,l.default)(c,c.CONCERNS);t.default=p},98647:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.setupStatusV3Controller=function(e,t){if(e){if(e.type===o.default.TYPE.IMAGE){var a=4500;return(0,s.default)(t.caption)||(a+=2e3*Math.min(t.caption.length/150,1)),new l(a)}return e.type===o.default.TYPE.VIDEO?t.isGif?new u:new i.default:new l(3e3)}if(t.type===n.default.MSG_TYPE.CHAT){var r=2e3+60*Math.min(t.body.length,1e3);return new l(r)}return new l(3e3)},t.StatusV3GifController=t.StatusV3CountdownController=void 0;var s=r(a(45455)),n=r(a(23045)),o=r(a(86619)),i=r(a(68306));class l{constructor(e){this.addListeners=(e,t,a)=>{this._onStart=e,this._onPause=t,this._onEnded=a},this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0},this.play=()=>{if(this._timer)__LOG__(2)`Duplicate timer start`;else{this._timer=setTimeout(this._onTimeup,this._timeout),this._start=(new Date).getTime();var e=this._onStart;e&&e(this._timeout,this._duration)}},this.stop=()=>{if(this._timer){clearTimeout(this._timer),this._timer=null;var e=(new Date).getTime();this._timeout-=e-this._start;var t=this._onPause;t&&t()}else __LOG__(2)`Timer stop called on stopped timer`},this.resume=()=>{this.play()},this.pause=()=>{this.stop()},this._onTimeup=()=>{var e=this._onEnded;e&&e()},this._duration=e,this._timeout=this._duration,this._start=0}get duration(){return this._duration}}t.StatusV3CountdownController=l;var d=6e3;class u{constructor(){this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._videoController.removeListeners(),this._countdownController.removeListeners()},this.setVideo=(e,t)=>{this._video!==e&&(this._video=e,null!=t&&(this._duration=t),this._videoController.setVideo(e))},this._onVideoStartHandler=()=>{var e=this._video;if(null!=e){var t=this._onStart,a=e.duration||this._duration,r=Math.max(3*a*1e3,d);t&&t(r-1e3*a*this._playCounter-1e3*e.currentTime,r)}},this._onVideoPauseHandler=()=>{var e=this._onPause;e&&e()},this._onVideoEndedHandler=()=>{var e=this._video;if(null!=e){this._playCounter++;var t=this._onEnded;3===this._playCounter&&(this._videoEnded=!0,this._timerEnded&&t&&t()),e.currentTime=0,this._videoEnded&&this._timerEnded||setTimeout((()=>{this._videoController.play()}),0)}},this._onTimerEndedHandler=()=>{var e=this._onEnded;this._timerEnded=!0,e&&this._videoEnded&&e()},this.play=()=>{this._videoController.play(),this._countdownController.play()},this.stop=()=>{this._videoController.stop(),this._countdownController.stop()},this.resume=()=>{this._videoController.resume(),this._countdownController.resume()},this.pause=()=>{this._videoController.pause(),this._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new i.default,this._countdownController=new l(d),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}addListeners(e,t,a){this._onStart=e,this._onPause=t,this._onEnded=a}get duration(){return Math.max(3*(this._video&&this._video.duration||this._duration)*1e3,d)}}t.StatusV3GifController=u},63283:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(72779)),o=r(a(2784)),i=s(a(54559)),l=s(a(93361)),d=s(a(61671));class u extends o.Component{constructor(){super(...arguments),this._setRefBar=e=>{this._refBar=e},this.onClick=e=>{this.props.onClick&&this.props.onClick(e)},this.onStart=(e,t)=>{if(this._refBar){var a=1e3*i.default.statusVideoMaxDuration,r=Math.min(e,a),s=Math.min(t,a);(0,d.default)(this._refBar,"stop"),this._barAnimation=(0,d.default)(this._refBar,{translateX:["0%",`-${r/s*100}%`]},{duration:r,easing:"linear"})}},this.onPause=()=>{this._refBar&&(0,d.default)(this._refBar,"stop")},this.onEnded=()=>this._barAnimation?this._barAnimation:Promise.resolve(),__LOG__(2)`Current index: ${this.props.current}, total count: ${this.props.total}`,this.props.current>=0&&this.props.current<this.props.total||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("bad current status v3 index"))}render(){for(var e=this,t=[],a=100/this.props.total+"%",r=function(r){var s=(0,n.default)(l.default.foreground,{[l.default.filled]:r<e.props.current,[l.default.empty]:r>e.props.current,[l.default.active]:r===e.props.current}),i=o.createElement("div",{className:l.default.wrapper,style:{width:a},key:r,onClick:()=>e.onClick(r)},o.createElement("div",{className:l.default.bg}),o.createElement("div",{className:l.default.mask},o.createElement("div",{className:s,ref:r===e.props.current?e._setRefBar:()=>{}})));t.push(i)},s=0;s<this.props.total;++s)r(s);return o.createElement("div",{className:l.default.container},t)}}t.default=u,u.displayName="StatusV3ProgressBar"},35967:(e,t,a)=>{"use strict";var r=a(93291),s=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var n=s(a(22487)),o=s(a(75652)),i=s(a(16760)),l=a(60266),d=a(13275),u=a(71436),c=s(a(65677)),p=r(a(56179));class h extends((0,u.customError)("InvalidStatusV3Iterator")){}t.InvalidStatusV3Iterator=h;class m extends((0,u.customError)("StatusV3LoadingError")){}t.StatusV3LoadingError=m;class f extends((0,u.customError)("StatusV3MsgNotFound")){}t.StatusV3MsgNotFound=f;t.default=class{constructor(e,t){if(this._printInfo=()=>{this.statuses.forEach((e=>{__LOG__(2)`Total count: ${e.totalCount}, unread count: ${e.unreadCount}, msgs length: ${e.msgs.length}`}))},this.getFirstUnread=(e,t,a)=>{var r=this.statuses.findIndex((t=>t.statusV3===e));if(-1!==r){var s,n=this.statuses[r],o=n.readMsgKeys;return a?(s=n.msgs?n.msgs.findIndex((e=>a&&e.id.toString()===a.toString())):-1)>=0?Promise.resolve({msgIdx:s,statusIdx:r}):Promise.reject(new h):-1===(s=n.msgs?n.msgs.findIndex((e=>!o.includes(e.id.toString()))):-1)&&e.msgs.msgLoadState.noEarlierMsgs?(s=t?0:n.msgs.length-1,Promise.resolve({msgIdx:s,statusIdx:r})):-1!==s?Promise.resolve({msgIdx:s,statusIdx:r}):0===n.unreadCount&&t&&n.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:r}):this._fetchMore(e).then((()=>this.getFirstUnread(e,t,a))).catch((e=>(__LOG__(3)`error while getting first unread status: ${String(e)}`,Promise.reject(new h))))}return Promise.reject(new h)},this.hasNext=e=>{var t=this.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<this.statuses.length},this.getNext=e=>{var t=this.statuses[e.statusIdx],a=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(__LOG__(3)`Loaded ${t.msgs.length} messages with total count ${t.totalCount}, but noEarlierMsgs set`,Promise.reject(new h)):this._fetchMore(a).then((()=>this.getNext(e))).catch((t=>{if(__LOG__(3)`error while loading more status msgs: ${String(t)}`,e.statusIdx+1<this.statuses.length){var a=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(a,!0)}return Promise.reject(new h)}));if(e.statusIdx+1<this.statuses.length){var r=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(r,!0)}return Promise.reject(new h)},this.hasPrev=e=>e.msgIdx>0||e.statusIdx>0,this.getPrev=e=>{if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){var t=this.statuses[e.statusIdx-1].statusV3;return this.getFirstUnread(t,!1)}return Promise.reject(new h)},this.statusAt=(e,t)=>{var a=this.statuses[e.statusIdx],r=a.statusV3;return t<a.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):r.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new h):this._fetchMore(r).then((()=>this.statusAt(e,t))).catch((e=>(__LOG__(3)`error while loading more status msgs: ${String(e)}`,Promise.reject(new h))))},this._fetchMore=e=>(0,d.promiseLoop)(((t,a,r)=>{var s=(0,l.delayMs)(p.expBackoff(r,12e4,1e3,.1));return e.loadMore().then((()=>{var a=this.statuses.findIndex((t=>t.statusV3===e));if(-1!==a){var l=this.statuses[a],d=l.totalCount,u=l.unreadCount,c=e.msgs.getModelsArray().slice(0,d),p=c.slice(0,d-u),h=(0,i.default)(p,(e=>e.id.toString()));l.msgs=c,l.readMsgKeys=(0,o.default)((0,n.default)(l.readMsgKeys,h)),t(!0)}else{if(!(r>=4))return s;t(!1)}})).catch((()=>{if(!(r>=4))return s;t(!1)}))})).then((e=>{if(!e)throw new m})),t){var a=e.msgs.getModelsArray().find((e=>t&&e.id.toString()===t.toString()));if(!a)throw new f;this.statuses=[{statusV3:e,totalCount:1,unreadCount:0,msgs:[a],readMsgKeys:[a.id.toString()]}]}else if(e.unreadCount>0&&!e.contact.isMe&&!e.contact.statusMute){var r=c.default.getUnexpired(!0),s=[];r.forEach((e=>{if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),a=e.totalCount-e.unreadCount,r=t.slice(0,a),n=(0,i.default)(r,(e=>e.id.toString()));s.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:n})}})),this.statuses=s}else{var u=e.msgs.getModelsArray(),g=e.totalCount-e.unreadCount,v=u.slice(0,g),_=(0,i.default)(v,(e=>e.id.toString())),E=[{statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:u,readMsgKeys:_}];this.statuses=E}this._printInfo()}}},68306:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a(54559));function n(e){return Math.min(e,s.default.statusVideoMaxDuration)}var o=class{constructor(){this.addListeners=(e,t,a)=>{this._onStart=e,this._onPause=t,this._onEnded=a},this.setVideo=e=>{this._video!==e&&(this._unsetVideo(),this._video=e,null!=e&&(e.addEventListener("playing",this._onPlayingHandler),e.addEventListener("pause",this._onPauseHandler),e.addEventListener("ended",this._onEndedHandler),e.addEventListener("timeupdate",this._onTimeUpdate)))},this._unsetVideo=()=>{var e=this._video;e&&(this.stop(),e.removeEventListener("playing",this._onPlayingHandler),e.removeEventListener("pause",this._onPauseHandler),e.removeEventListener("ended",this._onEndedHandler),e.removeEventListener("timeupdate",this._onTimeUpdate))},this.play=()=>{this._video&&this._video.play()},this.pause=()=>{this._video&&!this._video.paused&&this._video.pause()},this.resume=()=>{this._video&&this._video.play()},this.stop=()=>{this._video&&!this._video.paused&&this._video.pause()},this._onPlayingHandler=()=>{var e=this._video;if(null!=e){var t=this._onStart;if(t){var a=n(e.duration);t(1e3*(a-e.currentTime),1e3*a)}}},this._onPauseHandler=()=>{var e=this._onPause;e&&e()},this._onEndedHandler=()=>{var e=this._onEnded;e&&e()},this._onTimeUpdate=()=>{var e,t=null===(e=this._video)||void 0===e?void 0:e.currentTime;if(null!=t&&t>=s.default.statusVideoMaxDuration){this.stop(),this._onEndedHandler();var a=this._video;a&&(a.removeEventListener("timeupdate",this._onTimeUpdate),a.removeEventListener("ended",this._onEndedHandler))}},this.removeListeners=()=>{this.stop(),this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0}}get duration(){return null==this._video?0:1e3*n(this._video.duration)}};t.default=o},51685:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.getSelection().removeAllRanges();var t=document.getElementById(e),a=document.createRange();t&&a.selectNode(t),window.getSelection().addRange(a);try{var r=document.execCommand("copy");return window.getSelection().removeAllRanges(),r}catch(e){return!1}}},25060:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a(70417)),n=a(99429),o=a(80163),i={};i[n.ExtendedTextMessageFontType.SERIF]={google:{families:["Roboto"]}},i[n.ExtendedTextMessageFontType.SANS_SERIF]={google:{families:["Droid Serif"]}},i[n.ExtendedTextMessageFontType.NORICAN_REGULAR]={google:{families:["Norican"]}},i[n.ExtendedTextMessageFontType.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},i[n.ExtendedTextMessageFontType.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var l={};l[n.ExtendedTextMessageFontType.BRYNDAN_WRITE]=`@font-face {font-family:"Bryndan-Write"; src:url("${o}") format("truetype");}`;var d=new class{constructor(){this.loadedFonts={},this.loadingPromise={}}load(e){if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var t=i[e],a=l[e],r=(a?new Promise(((e,t)=>{var r=document.createElement("style");r.appendChild(document.createTextNode(a)),r.onload=e,r.onerror=t,document.head&&document.head.appendChild(r)})):Promise.resolve()).then((()=>new Promise(((a,r)=>{var n=(0,s.default)((0,s.default)({},t),{},{active:()=>{this.loadedFonts[e]=!0,a()},inactive:()=>{this.loadingPromise[e]=void 0,r("Failed to load font: "+e)}});WebFont.load(n)}))));return this.loadingPromise[e]=r,r}loadAllFonts(){return Promise.all(Array.from(n.ExtendedTextMessageFontType.members()).map((e=>this.load(e))))}};t.default=d},8451:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.default.supportsFeature(n.default.F.RICH_TEXT)?(0,s.default)(e,l,i.TextSerializer):e};var s=r(a(92591)),n=r(a(20468)),o=a(66207),i=a(89665),l=o.Configuration.ComposeBox()},4704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProductLink=function(e,t){return`https://wa.me/p/${t}/${e}`},t.createCatalogLink=function(e){return`https://wa.me/c/${e}`}},16123:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.dayToWeekday=l,t.businessHoursFromConfig=d,t.getWebsiteLink=function(e){return`https://l.wl.co/l?u=${encodeURIComponent(e)}`},t.getBusinessHours=function(e){var{config:t}=e,a=(new Date).getDay();return n.DAYS_OF_WEEK.map(((e,r)=>{var s=(a+r)%n.DAYS_OF_WEEK.length,o=n.DAYS_OF_WEEK[s];return{day:l(s),hours:d(t[o]),first:0===r}}))},t.getBusinessHoursForEdit=function(e){var t,a=null==e?{}:e.config,{note:r,timezone:o}=e||{},l=n.DAYS_OF_WEEK.map(((e,r)=>{var n,o=a[e],l=s.default.weekdays(r);return o&&(t=o.mode,o.hours&&(n=o.hours.map((([e,t])=>[(0,i.minutesToTime)(e),(0,i.minutesToTime)(t)])))),{dayName:l,dayKey:e,closed:!o,hours:n}})),d=s.default.weekdays(!0,0),u=s.default.weekdays().indexOf(d),c=l.splice(u);return{mode:t,days:[...c,...l],timezone:o,note:r}},Object.defineProperty(t,"minutesToTime",{enumerable:!0,get:function(){return i.minutesToTime}}),Object.defineProperty(t,"timeStringToMinutes",{enumerable:!0,get:function(){return i.timeStringToMinutes}});var s=r(a(19034)),n=a(19999),o=r(a(38637)),i=a(24701);function l(e){return s.default.weekdays(e)}function d(e){switch(e&&e.mode){case n.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return e&&e.hours?e.hours.map((e=>e.map(i.minutesToTime).join(" - "))).join("\n"):"";case n.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return o.default.t(293);case n.BUSINESS_HOUR_MODES.OPEN_24H:return o.default.t(305);default:return o.default.t(294)}}},24701:(e,t,a)=>{"use strict";var r=a(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.minutesToTime=function(e){return s.default.utc().startOf("day").add(e,"minutes").format(n.default.timestampStrFormat())},t.timeStringToMinutes=void 0;var s=r(a(19034)),n=r(a(99461)),o=["h:mm A","h:mmA","HH:mm","HH.mm","H:mm","H.mm"];t.timeStringToMinutes=e=>{var t,a=e.trim();if(a){for(var r of o){var n=(0,s.default)(a,r,!0);if(n.isValid()){t=n;break}}if(t){var i=t,l=(0,s.default)().startOf("day"),d=i.diff(l);return s.default.duration(d).asMinutes()}}}},80163:(e,t,a)=>{e.exports=a.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},46769:(e,t,a)=>{"use strict";a.r(t),t.default={coverPhoto:"BjVR2",avatar:"s-Huo",noStatusBorder:"LqSW_",hasStatusBorder:"_2dOHI"}},33986:(e,t,a)=>{"use strict";a.r(t),t.default={cartIcon:"_1qWMP",inheritColor:"_3K64o"}},86861:(e,t,a)=>{"use strict";a.r(t),t.default={carousel:"_3m116",contentContainer:"_3cMDy",slidesContainer:"_2cRxw",loaded:"_3Zydn",fadeIn:"_2xyKO",spinnerContainer:"_1CPi2",spinner:"_1PMHA"}},68018:(e,t,a)=>{"use strict";a.r(t),t.default={slide:"_8a4tv",slideInnerContainer:"_1y2HL",image:"_1hnaE"}},13567:(e,t,a)=>{"use strict";a.r(t),t.default={canvasComponent:"_1ro-V",canvasEmpty:"_3c1OL",canvasSecondRow:"_2Xs8V",canvasFirst:"_3P68I",more:"PNuNq",container:"_1cYoo",justifySpaceBetween:"_1gCKS",galleryEmpty:"_3DvRi",drawer:"mcTjY",drawerBody:"_29OBB"}},13074:(e,t,a)=>{"use strict";a.r(t),t.default={mediaCanvas:"VxCaw",shade:"_3XoRJ",iconType:"_374SR",iconStar:"_1FpLJ",mediaCanvasDuration:"_2luhz",shadeTop:"_2edEe",canvasBody:"_2X1SH",canvasSelected:"_1c9lg",mediaSelect:"_3N2mq",canvasComponent:"i-d_o",canvasSecondRow:"cp_gI",viewerFlow:"_2C1Ns",active:"_3Wonb",viewerFlowTransparent:"r2CKG"}},30769:(e,t,a)=>{"use strict";a.r(t),t.default={icon:"_1_JE6",disabled:"_3NolF",transparent:"_2aKEd",compact:"N5H41"}},33314:(e,t,a)=>{"use strict";a.r(t),t.default={labelRow:"_2hloF",standaloneLabelRow:"_3IwCz",labelContainer:"LM8mM",standaloneLabelContainer:"_3Vhpx"}},68214:(e,t,a)=>{"use strict";a.r(t),t.default={section:"QNaXM",control:"_1HA3p"}},11586:(e,t,a)=>{"use strict";a.r(t),t.default={icon:"_2Vy7q"}},70860:(e,t,a)=>{"use strict";a.r(t),t.default={container:"kavRs",containerNoIcon:"zlwQO",containerListAligned:"_11qo-",icon:"_2icPj",danger:"_1nSxZ",success:"_3fgVF",bodyContainer:"_8b1xn",body:"CcY-B"}},21658:(e,t,a)=>{"use strict";a.r(t),t.default={mediaPanelTools:"_1mzr3",profileThumb:"_2ymsO",profileContainer:"_15Y88",media:"_1uZec",profileViewer:"_1ICk0",profileViewerImg:"_2SJ32",container:"wnsuI","media-viewer-animate":"_246ma",mediaViewerAnimate:"_246ma",headerContainer:"_3ZxL8"}},44887:(e,t,a)=>{"use strict";a.r(t),t.default={icon:"_2dmc2"}},67004:(e,t,a)=>{"use strict";a.r(t),t.default={icon:"_1zI6H"}},74611:(e,t,a)=>{"use strict";a.r(t),t.default={container:"_1Do4k",popupPanel:"DCJBm",wrapper:"iEDES",emojiIcon:"_2iiHQ",sendIcon:"_1-llR",lineWrapper:"_3OcTj"}},12660:(e,t,a)=>{"use strict";a.r(t),t.default={playerWrapper:"_2dY5u",mediaViewer:"_2M4qA",mediaStateControls:"YE6xI",playerBackground:"_1Zf5q",media:"_2QgqW",captionBackdrop:"_2EIWT",mediaCaption:"_1ffMZ",progressBackdrop:"_2cLT-",progressBarBackdropNarrow:"_2Ffvg",profile:"_1EeX0",nonClickProfile:"_3e5L4",profileNarrow:"_3b1f4",playerAvatar:"_3BoSP",measuringProfile:"FvPWY",profileMac:"_1Z225",msgInfo:"_1-4iF",msgInfoName:"_2_aAO",timestamp:"_2ztpj",playerContent:"_3IEC5",statusPanelPlayerContent:"_1BawO",statusThumbnailPlayerContent:"-n_AI",loading:"_2wRD3",v3Image:"_25YXn",v3Video:"_2yHik",text:"sAgdw",textLarge:"Rq1fv",textMedium:"_3oSbU",textSmall:"_1lOvh",font_1:"S89QA",font1:"S89QA",font_2:"_1oVgK",font2:"_1oVgK",font_3:"C1Kh3",font3:"C1Kh3",font_5:"_1NhlM",font5:"_1NhlM",unknown:"_39ZMU",textThumbnailPlayerContent:"_125n7"}},66063:(e,t,a)=>{"use strict";a.r(t),t.default={container:"_3C7uM",inputContainer:"_3t1iA",btnContainer:"_33FBx",btnPosition:"_327U5"}},66109:(e,t,a)=>{"use strict";a.r(t),t.default={chevron:"_1berR",catalogEntryButton:"_13-4W",subtitle:"_1PD3U"}},51487:(e,t,a)=>{"use strict";a.r(t),t.default={prompt:"cIJmt"}},66594:(e,t,a)=>{"use strict";a.r(t),t.default={linkIcon:"_3jcuF",inheritColor:"_2MHMC"}},89440:(e,t,a)=>{"use strict";a.r(t),t.default={linkContainer:"_1L_3T",activeLink:"_1AVcM"}},4472:(e,t,a)=>{"use strict";a.r(t),t.default={addItemButton:"_4_u5n",themeInList:"_-4hoU",themeDefault:"_Nlk2",addIcon:"_15qwJ"}},63226:(e,t,a)=>{"use strict";a.r(t),t.default={body:"mTISM",loadingContainer:"_2Equ3",text:"_2eQ68",loadingText:"_1VNye",shiftUp:"_2tBzv",availabilityBanner:"ui1Wc"}},6681:(e,t,a)=>{"use strict";a.r(t),t.default={buttonContainer:"wH6_k",button:"_1POe3",addToCartButton:"GwQ_R",addToCartIcon:"_1NZ6t",addToCartIconDisabled:"HaBJ0",addToCartContainer:"_2H01S",name:"_3cS4S",price:"_26-7d",originalPrice:"_3e7iJ",description:"_3UqWJ",more:"_2vhQd",descBlock:"_3gzPb"}},44209:(e,t,a)=>{"use strict";a.r(t),t.default={productImage:"_1TYUT",productImageContainer:"_36uCz",productThumb:"_3PTXX",productThumbContainer:"upbm-",prompt:"_1VACQ"}},60345:(e,t,a)=>{"use strict";a.r(t),t.default={header:"_2fmIp",list:"_3XFr4"}},3220:(e,t,a)=>{"use strict";a.r(t),t.default={header:"_3RefK",photo:"_2jHS5",text:"_2-Z25",name:"_3cSuR",description:"YcVqS",spinner:"_2u-hv",img:"_3LS4W"}},57767:(e,t,a)=>{"use strict";a.r(t),t.default={imageCarouselContainer:"_1qhdr"}},46873:(e,t,a)=>{"use strict";a.r(t),t.default={buttons:"_2WN3T",button:"iYUH9"}},9320:(e,t,a)=>{"use strict";a.r(t),t.default={section:"_1xX0g",reasonList:"UaUFY",label:"_3clAO",input:"_1kt7B",buttons:"_2XakL"}},53513:(e,t,a)=>{"use strict";a.r(t),t.default={statusV3PanelRing:"_2_jUy",businessContactInfoRing:"_1cBSY",read:"_1TWqf",unread:"_3fnYk"}},93361:(e,t,a)=>{"use strict";a.r(t),t.default={container:"_3w6fI",wrapper:"_1l9G0",mask:"_1voNw",bg:"AoYZ6",foreground:"_1Y0xy",filled:"_2q60l",empty:"_3649V",active:"_1oIDK"}}}]);