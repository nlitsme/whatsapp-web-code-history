/*! Copyright (c) 2023 WhatsApp Inc. All Rights Reserved. */(()=>{var e={4462:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var a=t(),o=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function _(e,t,r,n,i){var s,a=0;for(s=0;s<i;s++)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}function y(e,t,r,n){return _(e,t,r,n,16)}function v(e,t,r,n){return _(e,t,r,n,32)}function m(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,_=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,g=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=s,w=a,E=o,A=c,T=u,j=l,I=d,P=f,O=h,U=p,k=_,R=y,x=v,M=m,D=g,L=b,$=0;$<20;$+=2)S^=(i=(x^=(i=(O^=(i=(T^=(i=S+x|0)<<7|i>>>25)+S|0)<<9|i>>>23)+T|0)<<13|i>>>19)+O|0)<<18|i>>>14,j^=(i=(w^=(i=(M^=(i=(U^=(i=j+w|0)<<7|i>>>25)+j|0)<<9|i>>>23)+U|0)<<13|i>>>19)+M|0)<<18|i>>>14,k^=(i=(I^=(i=(E^=(i=(D^=(i=k+I|0)<<7|i>>>25)+k|0)<<9|i>>>23)+D|0)<<13|i>>>19)+E|0)<<18|i>>>14,L^=(i=(R^=(i=(P^=(i=(A^=(i=L+R|0)<<7|i>>>25)+L|0)<<9|i>>>23)+A|0)<<13|i>>>19)+P|0)<<18|i>>>14,S^=(i=(A^=(i=(E^=(i=(w^=(i=S+A|0)<<7|i>>>25)+S|0)<<9|i>>>23)+w|0)<<13|i>>>19)+E|0)<<18|i>>>14,j^=(i=(T^=(i=(P^=(i=(I^=(i=j+T|0)<<7|i>>>25)+j|0)<<9|i>>>23)+I|0)<<13|i>>>19)+P|0)<<18|i>>>14,k^=(i=(U^=(i=(O^=(i=(R^=(i=k+U|0)<<7|i>>>25)+k|0)<<9|i>>>23)+R|0)<<13|i>>>19)+O|0)<<18|i>>>14,L^=(i=(D^=(i=(M^=(i=(x^=(i=L+D|0)<<7|i>>>25)+L|0)<<9|i>>>23)+x|0)<<13|i>>>19)+M|0)<<18|i>>>14;S=S+s|0,w=w+a|0,E=E+o|0,A=A+c|0,T=T+u|0,j=j+l|0,I=I+d|0,P=P+f|0,O=O+h|0,U=U+p|0,k=k+_|0,R=R+y|0,x=x+v|0,M=M+m|0,D=D+g|0,L=L+b|0,e[0]=S>>>0&255,e[1]=S>>>8&255,e[2]=S>>>16&255,e[3]=S>>>24&255,e[4]=w>>>0&255,e[5]=w>>>8&255,e[6]=w>>>16&255,e[7]=w>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=T>>>0&255,e[17]=T>>>8&255,e[18]=T>>>16&255,e[19]=T>>>24&255,e[20]=j>>>0&255,e[21]=j>>>8&255,e[22]=j>>>16&255,e[23]=j>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=P>>>0&255,e[29]=P>>>8&255,e[30]=P>>>16&255,e[31]=P>>>24&255,e[32]=O>>>0&255,e[33]=O>>>8&255,e[34]=O>>>16&255,e[35]=O>>>24&255,e[36]=U>>>0&255,e[37]=U>>>8&255,e[38]=U>>>16&255,e[39]=U>>>24&255,e[40]=k>>>0&255,e[41]=k>>>8&255,e[42]=k>>>16&255,e[43]=k>>>24&255,e[44]=R>>>0&255,e[45]=R>>>8&255,e[46]=R>>>16&255,e[47]=R>>>24&255,e[48]=x>>>0&255,e[49]=x>>>8&255,e[50]=x>>>16&255,e[51]=x>>>24&255,e[52]=M>>>0&255,e[53]=M>>>8&255,e[54]=M>>>16&255,e[55]=M>>>24&255,e[56]=D>>>0&255,e[57]=D>>>8&255,e[58]=D>>>16&255,e[59]=D>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}(e,t,r,n)}function g(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,_=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,g=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=0;S<20;S+=2)s^=(i=(v^=(i=(h^=(i=(u^=(i=s+v|0)<<7|i>>>25)+s|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(m^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+m|0)<<18|i>>>14,_^=(i=(d^=(i=(o^=(i=(g^=(i=_+d|0)<<7|i>>>25)+_|0)<<9|i>>>23)+g|0)<<13|i>>>19)+o|0)<<18|i>>>14,b^=(i=(y^=(i=(f^=(i=(c^=(i=b+y|0)<<7|i>>>25)+b|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,s^=(i=(c^=(i=(o^=(i=(a^=(i=s+c|0)<<7|i>>>25)+s|0)<<9|i>>>23)+a|0)<<13|i>>>19)+o|0)<<18|i>>>14,l^=(i=(u^=(i=(f^=(i=(d^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+f|0)<<18|i>>>14,_^=(i=(p^=(i=(h^=(i=(y^=(i=_+p|0)<<7|i>>>25)+_|0)<<9|i>>>23)+y|0)<<13|i>>>19)+h|0)<<18|i>>>14,b^=(i=(g^=(i=(m^=(i=(v^=(i=b+g|0)<<7|i>>>25)+b|0)<<9|i>>>23)+v|0)<<13|i>>>19)+m|0)<<18|i>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,r,n,i,s,a){var o,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=s[c];for(;i>=64;){for(m(l,u,a,b),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(o=1,c=8;c<16;c++)o=o+(255&u[c])|0,u[c]=255&o,o>>>=8;i-=64,t+=64,n+=64}if(i>0)for(m(l,u,a,b),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function w(e,t,r,n,i){var s,a,o=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)o[a]=0;for(a=0;a<8;a++)o[a]=n[a];for(;r>=64;){for(m(c,o,i,b),a=0;a<64;a++)e[t+a]=c[a];for(s=1,a=8;a<16;a++)s=s+(255&o[a])|0,o[a]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(m(c,o,i,b),a=0;a<r;a++)e[t+a]=c[a];return 0}function E(e,t,r,n,i){var s=new Uint8Array(32);g(s,n,i,b);for(var a=new Uint8Array(8),o=0;o<8;o++)a[o]=n[o+16];return w(e,t,r,a,s)}function A(e,t,r,n,i,s,a){var o=new Uint8Array(32);g(o,s,a,b);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=s[u+16];return S(e,t,r,n,i,c,o)}var T=function(e){var t,r,n,i,s,a,o,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|a<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|o<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function j(e,t,r,n,i,s){var a=new T(s);return a.update(r,n,i),a.finish(e,t),0}function I(e,t,r,n,i,s){var a=new Uint8Array(16);return j(a,0,r,n,i,s),y(e,t,a,0)}function P(e,t,r,n,i){var s;if(r<32)return-1;for(A(e,0,t,0,r,n,i),j(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function O(e,t,r,n,i){var s,a=new Uint8Array(32);if(r<32)return-1;if(E(a,0,32,n,i),0!==I(t,16,t,32,r-32,a))return-1;for(A(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function U(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function k(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function R(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function x(e,r){var n,i,s,a=t(),o=t();for(n=0;n<16;n++)o[n]=r[n];for(k(o),k(o),k(o),i=0;i<2;i++){for(a[0]=o[0]-65517,n=1;n<15;n++)a[n]=o[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),s=a[15]>>16&1,a[14]&=65535,R(o,a,1-s)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function M(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return x(r,e),x(n,t),v(r,0,n,0)}function D(e){var t=new Uint8Array(32);return x(t,e),1&t[0]}function L(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function $(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function C(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function J(e,t,r){var n,i,s=0,a=0,o=0,c=0,u=0,l=0,d=0,f=0,h=0,p=0,_=0,y=0,v=0,m=0,g=0,b=0,S=0,w=0,E=0,A=0,T=0,j=0,I=0,P=0,O=0,U=0,k=0,R=0,x=0,M=0,D=0,L=r[0],$=r[1],C=r[2],J=r[3],N=r[4],B=r[5],F=r[6],K=r[7],Y=r[8],W=r[9],z=r[10],G=r[11],q=r[12],H=r[13],V=r[14],X=r[15];s+=(n=t[0])*L,a+=n*$,o+=n*C,c+=n*J,u+=n*N,l+=n*B,d+=n*F,f+=n*K,h+=n*Y,p+=n*W,_+=n*z,y+=n*G,v+=n*q,m+=n*H,g+=n*V,b+=n*X,a+=(n=t[1])*L,o+=n*$,c+=n*C,u+=n*J,l+=n*N,d+=n*B,f+=n*F,h+=n*K,p+=n*Y,_+=n*W,y+=n*z,v+=n*G,m+=n*q,g+=n*H,b+=n*V,S+=n*X,o+=(n=t[2])*L,c+=n*$,u+=n*C,l+=n*J,d+=n*N,f+=n*B,h+=n*F,p+=n*K,_+=n*Y,y+=n*W,v+=n*z,m+=n*G,g+=n*q,b+=n*H,S+=n*V,w+=n*X,c+=(n=t[3])*L,u+=n*$,l+=n*C,d+=n*J,f+=n*N,h+=n*B,p+=n*F,_+=n*K,y+=n*Y,v+=n*W,m+=n*z,g+=n*G,b+=n*q,S+=n*H,w+=n*V,E+=n*X,u+=(n=t[4])*L,l+=n*$,d+=n*C,f+=n*J,h+=n*N,p+=n*B,_+=n*F,y+=n*K,v+=n*Y,m+=n*W,g+=n*z,b+=n*G,S+=n*q,w+=n*H,E+=n*V,A+=n*X,l+=(n=t[5])*L,d+=n*$,f+=n*C,h+=n*J,p+=n*N,_+=n*B,y+=n*F,v+=n*K,m+=n*Y,g+=n*W,b+=n*z,S+=n*G,w+=n*q,E+=n*H,A+=n*V,T+=n*X,d+=(n=t[6])*L,f+=n*$,h+=n*C,p+=n*J,_+=n*N,y+=n*B,v+=n*F,m+=n*K,g+=n*Y,b+=n*W,S+=n*z,w+=n*G,E+=n*q,A+=n*H,T+=n*V,j+=n*X,f+=(n=t[7])*L,h+=n*$,p+=n*C,_+=n*J,y+=n*N,v+=n*B,m+=n*F,g+=n*K,b+=n*Y,S+=n*W,w+=n*z,E+=n*G,A+=n*q,T+=n*H,j+=n*V,I+=n*X,h+=(n=t[8])*L,p+=n*$,_+=n*C,y+=n*J,v+=n*N,m+=n*B,g+=n*F,b+=n*K,S+=n*Y,w+=n*W,E+=n*z,A+=n*G,T+=n*q,j+=n*H,I+=n*V,P+=n*X,p+=(n=t[9])*L,_+=n*$,y+=n*C,v+=n*J,m+=n*N,g+=n*B,b+=n*F,S+=n*K,w+=n*Y,E+=n*W,A+=n*z,T+=n*G,j+=n*q,I+=n*H,P+=n*V,O+=n*X,_+=(n=t[10])*L,y+=n*$,v+=n*C,m+=n*J,g+=n*N,b+=n*B,S+=n*F,w+=n*K,E+=n*Y,A+=n*W,T+=n*z,j+=n*G,I+=n*q,P+=n*H,O+=n*V,U+=n*X,y+=(n=t[11])*L,v+=n*$,m+=n*C,g+=n*J,b+=n*N,S+=n*B,w+=n*F,E+=n*K,A+=n*Y,T+=n*W,j+=n*z,I+=n*G,P+=n*q,O+=n*H,U+=n*V,k+=n*X,v+=(n=t[12])*L,m+=n*$,g+=n*C,b+=n*J,S+=n*N,w+=n*B,E+=n*F,A+=n*K,T+=n*Y,j+=n*W,I+=n*z,P+=n*G,O+=n*q,U+=n*H,k+=n*V,R+=n*X,m+=(n=t[13])*L,g+=n*$,b+=n*C,S+=n*J,w+=n*N,E+=n*B,A+=n*F,T+=n*K,j+=n*Y,I+=n*W,P+=n*z,O+=n*G,U+=n*q,k+=n*H,R+=n*V,x+=n*X,g+=(n=t[14])*L,b+=n*$,S+=n*C,w+=n*J,E+=n*N,A+=n*B,T+=n*F,j+=n*K,I+=n*Y,P+=n*W,O+=n*z,U+=n*G,k+=n*q,R+=n*H,x+=n*V,M+=n*X,b+=(n=t[15])*L,a+=38*(w+=n*C),o+=38*(E+=n*J),c+=38*(A+=n*N),u+=38*(T+=n*B),l+=38*(j+=n*F),d+=38*(I+=n*K),f+=38*(P+=n*Y),h+=38*(O+=n*W),p+=38*(U+=n*z),_+=38*(k+=n*G),y+=38*(R+=n*q),v+=38*(x+=n*H),m+=38*(M+=n*V),g+=38*(D+=n*X),s=(n=(s+=38*(S+=n*$))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=d,e[7]=f,e[8]=h,e[9]=p,e[10]=_,e[11]=y,e[12]=v,e[13]=m,e[14]=g,e[15]=b}function N(e,t){J(e,t,t)}function B(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)N(i,i),2!==n&&4!==n&&J(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function F(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)N(i,i),1!==n&&J(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function K(e,r,n){var i,s,a=new Uint8Array(32),o=new Float64Array(80),u=t(),l=t(),d=t(),f=t(),h=t(),p=t();for(s=0;s<31;s++)a[s]=r[s];for(a[31]=127&r[31]|64,a[0]&=248,L(o,n),s=0;s<16;s++)l[s]=o[s],f[s]=u[s]=d[s]=0;for(u[0]=f[0]=1,s=254;s>=0;--s)R(u,l,i=a[s>>>3]>>>(7&s)&1),R(d,f,i),$(h,u,d),C(u,u,d),$(d,l,f),C(l,l,f),N(f,h),N(p,u),J(u,d,u),J(d,l,h),$(h,u,d),C(u,u,d),N(l,u),C(d,f,p),J(u,d,c),$(u,u,f),J(d,d,u),J(u,f,p),J(f,l,o),N(l,h),R(u,l,i),R(d,f,i);for(s=0;s<16;s++)o[s+16]=u[s],o[s+32]=d[s],o[s+48]=l[s],o[s+64]=f[s];var _=o.subarray(32),y=o.subarray(16);return B(_,_),J(y,y,_),x(e,y),0}function Y(e,t){return K(e,t,s)}function W(e,t){return n(t,32),Y(e,t)}function z(e,t,r){var n=new Uint8Array(32);return K(n,r,t),g(e,i,n,b)}T.prototype.blocks=function(e,t,r){for(var n,i,s,a,o,c,u,l,d,f,h,p,_,y,v,m,g,b,S,w=this.fin?0:2048,E=this.h[0],A=this.h[1],T=this.h[2],j=this.h[3],I=this.h[4],P=this.h[5],O=this.h[6],U=this.h[7],k=this.h[8],R=this.h[9],x=this.r[0],M=this.r[1],D=this.r[2],L=this.r[3],$=this.r[4],C=this.r[5],J=this.r[6],N=this.r[7],B=this.r[8],F=this.r[9];r>=16;)f=d=0,f+=(E+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*x,f+=(A+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*F),f+=(T+=8191&(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*B),f+=(j+=8191&(s>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*N),d=(f+=(I+=8191&(a>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*J))>>>13,f&=8191,f+=(P+=o>>>1&8191)*(5*C),f+=(O+=8191&(o>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*$),f+=(U+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*L),f+=(k+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*D),h=d+=(f+=(R+=l>>>5|w)*(5*M))>>>13,h+=E*M,h+=A*x,h+=T*(5*F),h+=j*(5*B),d=(h+=I*(5*N))>>>13,h&=8191,h+=P*(5*J),h+=O*(5*C),h+=U*(5*$),h+=k*(5*L),d+=(h+=R*(5*D))>>>13,h&=8191,p=d,p+=E*D,p+=A*M,p+=T*x,p+=j*(5*F),d=(p+=I*(5*B))>>>13,p&=8191,p+=P*(5*N),p+=O*(5*J),p+=U*(5*C),p+=k*(5*$),_=d+=(p+=R*(5*L))>>>13,_+=E*L,_+=A*D,_+=T*M,_+=j*x,d=(_+=I*(5*F))>>>13,_&=8191,_+=P*(5*B),_+=O*(5*N),_+=U*(5*J),_+=k*(5*C),y=d+=(_+=R*(5*$))>>>13,y+=E*$,y+=A*L,y+=T*D,y+=j*M,d=(y+=I*x)>>>13,y&=8191,y+=P*(5*F),y+=O*(5*B),y+=U*(5*N),y+=k*(5*J),v=d+=(y+=R*(5*C))>>>13,v+=E*C,v+=A*$,v+=T*L,v+=j*D,d=(v+=I*M)>>>13,v&=8191,v+=P*x,v+=O*(5*F),v+=U*(5*B),v+=k*(5*N),m=d+=(v+=R*(5*J))>>>13,m+=E*J,m+=A*C,m+=T*$,m+=j*L,d=(m+=I*D)>>>13,m&=8191,m+=P*M,m+=O*x,m+=U*(5*F),m+=k*(5*B),g=d+=(m+=R*(5*N))>>>13,g+=E*N,g+=A*J,g+=T*C,g+=j*$,d=(g+=I*L)>>>13,g&=8191,g+=P*D,g+=O*M,g+=U*x,g+=k*(5*F),b=d+=(g+=R*(5*B))>>>13,b+=E*B,b+=A*N,b+=T*J,b+=j*C,d=(b+=I*$)>>>13,b&=8191,b+=P*L,b+=O*D,b+=U*M,b+=k*x,S=d+=(b+=R*(5*F))>>>13,S+=E*F,S+=A*B,S+=T*N,S+=j*J,d=(S+=I*C)>>>13,S&=8191,S+=P*$,S+=O*L,S+=U*D,S+=k*M,E=f=8191&(d=(d=((d+=(S+=R*x)>>>13)<<2)+d|0)+(f&=8191)|0),A=h+=d>>>=13,T=p&=8191,j=_&=8191,I=y&=8191,P=v&=8191,O=m&=8191,U=g&=8191,k=b&=8191,R=S&=8191,t+=16,r-=16;this.h[0]=E,this.h[1]=A,this.h[2]=T,this.h[3]=j,this.h[4]=I,this.h[5]=P,this.h[6]=O,this.h[7]=U,this.h[8]=k,this.h[9]=R},T.prototype.finish=function(e,t){var r,n,i,s,a=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,s=1;s<10;s++)a[s]=this.h[s]+r,r=a[s]>>>13,a[s]&=8191;for(a[9]-=8192,n=(1^r)-1,s=0;s<10;s++)a[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|a[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},T.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var G=P,q=O;var H=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(e,t,r,n){for(var i,s,a,o,c,u,l,d,f,h,p,_,y,v,m,g,b,S,w,E,A,T,j,I,P,O,U=new Int32Array(16),k=new Int32Array(16),R=e[0],x=e[1],M=e[2],D=e[3],L=e[4],$=e[5],C=e[6],J=e[7],N=t[0],B=t[1],F=t[2],K=t[3],Y=t[4],W=t[5],z=t[6],G=t[7],q=0;n>=128;){for(w=0;w<16;w++)E=8*w+q,U[w]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],k[w]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(w=0;w<80;w++)if(i=R,s=x,a=M,o=D,c=L,u=$,l=C,J,f=N,h=B,p=F,_=K,y=Y,v=W,m=z,G,j=65535&(T=G),I=T>>>16,P=65535&(A=J),O=A>>>16,j+=65535&(T=(Y>>>14|L<<18)^(Y>>>18|L<<14)^(L>>>9|Y<<23)),I+=T>>>16,P+=65535&(A=(L>>>14|Y<<18)^(L>>>18|Y<<14)^(Y>>>9|L<<23)),O+=A>>>16,j+=65535&(T=Y&W^~Y&z),I+=T>>>16,P+=65535&(A=L&$^~L&C),O+=A>>>16,j+=65535&(T=H[2*w+1]),I+=T>>>16,P+=65535&(A=H[2*w]),O+=A>>>16,A=U[w%16],I+=(T=k[w%16])>>>16,P+=65535&A,O+=A>>>16,P+=(I+=(j+=65535&T)>>>16)>>>16,j=65535&(T=S=65535&j|I<<16),I=T>>>16,P=65535&(A=b=65535&P|(O+=P>>>16)<<16),O=A>>>16,j+=65535&(T=(N>>>28|R<<4)^(R>>>2|N<<30)^(R>>>7|N<<25)),I+=T>>>16,P+=65535&(A=(R>>>28|N<<4)^(N>>>2|R<<30)^(N>>>7|R<<25)),O+=A>>>16,I+=(T=N&B^N&F^B&F)>>>16,P+=65535&(A=R&x^R&M^x&M),O+=A>>>16,d=65535&(P+=(I+=(j+=65535&T)>>>16)>>>16)|(O+=P>>>16)<<16,g=65535&j|I<<16,j=65535&(T=_),I=T>>>16,P=65535&(A=o),O=A>>>16,I+=(T=S)>>>16,P+=65535&(A=b),O+=A>>>16,x=i,M=s,D=a,L=o=65535&(P+=(I+=(j+=65535&T)>>>16)>>>16)|(O+=P>>>16)<<16,$=c,C=u,J=l,R=d,B=f,F=h,K=p,Y=_=65535&j|I<<16,W=y,z=v,G=m,N=g,w%16==15)for(E=0;E<16;E++)A=U[E],j=65535&(T=k[E]),I=T>>>16,P=65535&A,O=A>>>16,A=U[(E+9)%16],j+=65535&(T=k[(E+9)%16]),I+=T>>>16,P+=65535&A,O+=A>>>16,b=U[(E+1)%16],j+=65535&(T=((S=k[(E+1)%16])>>>1|b<<31)^(S>>>8|b<<24)^(S>>>7|b<<25)),I+=T>>>16,P+=65535&(A=(b>>>1|S<<31)^(b>>>8|S<<24)^b>>>7),O+=A>>>16,b=U[(E+14)%16],I+=(T=((S=k[(E+14)%16])>>>19|b<<13)^(b>>>29|S<<3)^(S>>>6|b<<26))>>>16,P+=65535&(A=(b>>>19|S<<13)^(S>>>29|b<<3)^b>>>6),O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,U[E]=65535&P|O<<16,k[E]=65535&j|I<<16;j=65535&(T=N),I=T>>>16,P=65535&(A=R),O=A>>>16,A=e[0],I+=(T=t[0])>>>16,P+=65535&A,O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,e[0]=R=65535&P|O<<16,t[0]=N=65535&j|I<<16,j=65535&(T=B),I=T>>>16,P=65535&(A=x),O=A>>>16,A=e[1],I+=(T=t[1])>>>16,P+=65535&A,O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,e[1]=x=65535&P|O<<16,t[1]=B=65535&j|I<<16,j=65535&(T=F),I=T>>>16,P=65535&(A=M),O=A>>>16,A=e[2],I+=(T=t[2])>>>16,P+=65535&A,O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,e[2]=M=65535&P|O<<16,t[2]=F=65535&j|I<<16,j=65535&(T=K),I=T>>>16,P=65535&(A=D),O=A>>>16,A=e[3],I+=(T=t[3])>>>16,P+=65535&A,O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,e[3]=D=65535&P|O<<16,t[3]=K=65535&j|I<<16,j=65535&(T=Y),I=T>>>16,P=65535&(A=L),O=A>>>16,A=e[4],I+=(T=t[4])>>>16,P+=65535&A,O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,e[4]=L=65535&P|O<<16,t[4]=Y=65535&j|I<<16,j=65535&(T=W),I=T>>>16,P=65535&(A=$),O=A>>>16,A=e[5],I+=(T=t[5])>>>16,P+=65535&A,O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,e[5]=$=65535&P|O<<16,t[5]=W=65535&j|I<<16,j=65535&(T=z),I=T>>>16,P=65535&(A=C),O=A>>>16,A=e[6],I+=(T=t[6])>>>16,P+=65535&A,O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,e[6]=C=65535&P|O<<16,t[6]=z=65535&j|I<<16,j=65535&(T=G),I=T>>>16,P=65535&(A=J),O=A>>>16,A=e[7],I+=(T=t[7])>>>16,P+=65535&A,O+=A>>>16,O+=(P+=(I+=(j+=65535&T)>>>16)>>>16)>>>16,e[7]=J=65535&P|O<<16,t[7]=G=65535&j|I<<16,q+=128,n-=128}return n}function X(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),a=new Uint8Array(256),o=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,V(i,s,t,r),r%=128,n=0;n<r;n++)a[n]=t[o-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,p(a,r-8,o/536870912|0,o<<3),V(i,s,a,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function Z(e,r){var n=t(),i=t(),s=t(),a=t(),o=t(),c=t(),u=t(),d=t(),f=t();C(n,e[1],e[0]),C(f,r[1],r[0]),J(n,n,f),$(i,e[0],e[1]),$(f,r[0],r[1]),J(i,i,f),J(s,e[3],r[3]),J(s,s,l),J(a,e[2],r[2]),$(a,a,a),C(o,i,n),C(c,a,s),$(u,a,s),$(d,i,n),J(e[0],o,c),J(e[1],d,u),J(e[2],u,c),J(e[3],o,d)}function Q(e,t,r){var n;for(n=0;n<4;n++)R(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),s=t();B(s,r[2]),J(n,r[0],s),J(i,r[1],s),x(e,i),e[31]^=D(n)<<7}function te(e,t,r){var n,i;for(U(e[0],a),U(e[1],o),U(e[2],o),U(e[3],a),i=255;i>=0;--i)Q(e,t,n=r[i/8|0]>>(7&i)&1),Z(t,e),Z(e,e),Q(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];U(n[0],d),U(n[1],f),U(n[2],o),J(n[3],d,f),te(e,n,r)}function ne(e,r,i){var s,a=new Uint8Array(64),o=[t(),t(),t(),t()];for(i||n(r,32),X(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,re(o,a),ee(e,o),s=0;s<32;s++)r[s+32]=e[s];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ae(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,r)}function oe(e,r,n,i){var s,a,o=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),d=[t(),t(),t(),t()];X(o,i,32),o[0]&=248,o[31]&=127,o[31]|=64;var f=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=o[32+s];for(X(u,e.subarray(32),n+32),ae(u),re(d,u),ee(e,d),s=32;s<64;s++)e[s]=i[s];for(X(c,e,n+64),ae(c),s=0;s<64;s++)l[s]=0;for(s=0;s<32;s++)l[s]=u[s];for(s=0;s<32;s++)for(a=0;a<32;a++)l[s+a]+=c[s]*o[a];return se(e.subarray(32),l),f}function ce(e,r,n,i){var s,c=new Uint8Array(32),l=new Uint8Array(64),d=[t(),t(),t(),t()],f=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),s=t(),c=t(),l=t(),d=t(),f=t();return U(e[2],o),L(e[1],r),N(s,e[1]),J(c,s,u),C(s,s,e[2]),$(c,e[2],c),N(l,c),N(d,l),J(f,d,l),J(n,f,s),J(n,n,c),F(n,n),J(n,n,s),J(n,n,c),J(n,n,c),J(e[0],n,c),N(i,e[0]),J(i,i,c),M(i,s)&&J(e[0],e[0],h),N(i,e[0]),J(i,i,c),M(i,s)?-1:(D(e[0])===r[31]>>7&&C(e[0],a,e[0]),J(e[3],e[0],e[1]),0)}(f,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(X(l,e,n),ae(l),te(d,f,l),re(f,r.subarray(32)),Z(d,f),ee(c,d),n-=64,v(r,0,c,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ue=16,le=64,de=32,fe=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function _e(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:g,crypto_stream_xor:A,crypto_stream:E,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:w,crypto_onetimeauth:j,crypto_onetimeauth_verify:I,crypto_verify_16:y,crypto_verify_32:v,crypto_secretbox:P,crypto_secretbox_open:O,crypto_scalarmult:K,crypto_scalarmult_base:Y,crypto_box_beforenm:z,crypto_box_afternm:G,crypto_box:function(e,t,r,n,i,s){var a=new Uint8Array(32);return z(a,i,s),G(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,i,s){var a=new Uint8Array(32);return z(a,i,s),q(e,t,r,n,a)},crypto_box_keypair:W,crypto_hash:X,crypto_sign:oe,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:fe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ie,pack25519:x,unpack25519:L,M:J,A:$,S:N,Z:C,pow2523:F,add:Z,set25519:U,modL:se,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return P(i,n,n.length,t,r),i.subarray(ue)},e.secretbox.open=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(ue+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+ue]=e[s];return n.length<32||0!==O(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ue,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return K(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return Y(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return z(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return W(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return Y(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==fe)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return oe(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(le),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==de)throw new Error("bad public key size");var n,i=new Uint8Array(le+e.length),s=new Uint8Array(le+e.length);for(n=0;n<le;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+le]=e[n];return ce(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(fe);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==fe)throw new Error("bad secret key size");for(var t=new Uint8Array(de),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),r=new Uint8Array(fe),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=fe,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return X(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===_(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];_e(i)}))}else(t=r(2329))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];_e(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},1504:e=>{function t(e,t,r,n,i,s,a){try{var o=e[s](a),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,s){var a=e.apply(r,n);function o(e){t(a,i,s,o,c,"next",e)}function c(e){t(a,i,s,o,c,"throw",e)}o(void 0)}))}}},5526:e=>{e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},7914:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},3982:(e,t,r)=>{var n=r(5526);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},4302:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="function"==typeof WeakMap?new WeakMap:new Map;function n(e){var t=r.get(e);if(void 0!==t)return t;var n=new Map;return Object.getOwnPropertyNames(e).forEach((function(t){n.set(e[t],t)})),r.set(e,n),n}var i=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return n(this).has(e)}},cast:{value:function(e){return this.isValid(e)?e:void 0}},members:{value:function(){return n(this).keys()}},getName:{value:function(e){return n(this).get(e)}}}));function s(e){var r=Object.create(i);for(var n in e)t.call(e,n)&&Object.defineProperty(r,n,{value:e[n]});return Object.freeze(r)}var a=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return"string"==typeof e&&t.call(this,e)}},cast:{value:i.cast},members:{value:function(){return Object.getOwnPropertyNames(this)}},getName:{value:function(e){return e}}}));s.Mirrored=function(e){for(var t=Object.create(a),r=0,n=e.length;r<n;++r)Object.defineProperty(t,e[r],{value:e[r]});return Object.freeze(t)},Object.freeze(s.Mirrored),e.exports=Object.freeze(s)},8926:e=>{function t(e,t,r,n,i,s,a){try{var o=e[s](a),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,s){var a=e.apply(r,n);function o(e){t(a,i,s,o,c,"next",e)}function c(e){t(a,i,s,o,c,"throw",e)}o(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},5318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},4493:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SINGLE_BYTE_TOKEN=t.DICT_VERSION=t.DICTIONARY_3_TOKEN=t.DICTIONARY_2_TOKEN=t.DICTIONARY_1_TOKEN=t.DICTIONARY_0_TOKEN=t.DICTIONARIES=void 0;t.DICT_VERSION=3;t.SINGLE_BYTE_TOKEN=["xmlstreamstart","xmlstreamend","s.whatsapp.net","type","participant","from","receipt","id","notification","disappearing_mode","status","jid","broadcast","user","devices","device_hash","to","offline","message","result","class","xmlns","duration","notify","iq","t","ack","g.us","enc","urn:xmpp:whatsapp:push","presence","config_value","picture","verified_name","config_code","key-index-list","contact","mediatype","routing_info","edge_routing","get","read","urn:xmpp:ping","fallback_hostname","0","chatstate","business_hours_config","unavailable","download_buckets","skmsg","verified_level","composing","handshake","device-list","media","text","fallback_ip4","media_conn","device","creation","location","config","item","fallback_ip6","count","w:profile:picture","image","business","2","hostname","call-creator","display_name","relaylatency","platform","abprops","success","msg","offline_preview","prop","key-index","v","day_of_week","pkmsg","version","1","ping","w:p","download","video","set","specific_hours","props","primary","unknown","hash","commerce_experience","last","subscribe","max_buckets","call","profile","member_since_text","close_time","call-id","sticker","mode","participants","value","query","profile_options","open_time","code","list","host","ts","contacts","upload","lid","preview","update","usync","w:stats","delivery","auth_ttl","context","fail","cart_enabled","appdata","category","atn","direct_connection","decrypt-fail","relay_id","mmg-fallback.whatsapp.net","target","available","name","last_id","mmg.whatsapp.net","categories","401","is_new","index","tctoken","ip4","token_id","latency","recipient","edit","ip6","add","thumbnail-document","26","paused","true","identity","stream:error","key","sidelist","background","audio","3","thumbnail-image","biz-cover-photo","cat","gcm","thumbnail-video","error","auth","deny","serial","in","registration","thumbnail-link","remove","00","gif","thumbnail-gif","tag","capability","multicast","item-not-found","description","business_hours","config_expo_key","md-app-state","expiration","fallback","ttl","300","md-msg-hist","device_orientation","out","w:m","open_24h","side_list","token","inactive","01","document","te2","played","encrypt","msgr","hide","direct_path","12","state","not-authorized","url","terminate","signature","status-revoke-delay","02","te","linked_accounts","trusted_contact","timezone","ptt","kyc-id","privacy_token","readreceipts","appointment_only","address","expected_ts","privacy","7","android","interactive","device-identity","enabled","attribute_padding","1080","03","screen_height"];const r=["read-self","active","fbns","protocol","reaction","screen_width","heartbeat","deviceid","2:47DEQpj8","uploadfieldstat","voip_settings","retry","priority","longitude","conflict","false","ig_professional","replaced","preaccept","cover_photo","uncompressed","encopt","ppic","04","passive","status-revoke-drop","keygen","540","offer","rate","opus","latitude","w:gp2","ver","4","business_profile","medium","sender","prev_v_id","email","website","invited","sign_credential","05","transport","skey","reason","peer_abtest_bucket","America/Sao_Paulo","appid","refresh","100","06","404","101","104","107","102","109","103","member_add_mode","105","transaction-id","110","106","outgoing","108","111","tokens","followers","ig_handle","self_pid","tue","dec","thu","joinable","peer_pid","mon","features","wed","peer_device_presence","pn","delete","07","fri","audio_duration","admin","connected","delta","rcat","disable","collection","08","480","sat","phash","all","invite","accept","critical_unblock_low","group_update","signed_credential","blinded_credential","eph_setting","net","09","background_location","refresh_id","Asia/Kolkata","privacy_mode_ts","account_sync","voip_payload_type","service_areas","acs_public_key","v_id","0a","fallback_class","relay","actual_actors","metadata","w:biz","5","connected-limit","notice","0b","host_storage","fb_page","subject","privatestats","invis","groupadd","010","note.m4r","uuid","0c","8000","sun","372","1020","stage","1200","720","canonical","fb","011","video_duration","0d","1140","superadmin","012","Opening.m4r","keystore_attestation","dleq_proof","013","timestamp","ab_key","w:sync:app:state","0e","vertical","600","p_v_id","6","likes","014","500","1260","creator","0f","rte","destination","group","group_info","syncd_anti_tampering_fatal_exception_enabled","015","dl_bw","Asia/Jakarta","vp8/h.264","online","1320","fb:multiway","10","timeout","016","nse_retry","urn:xmpp:whatsapp:dirty","017","a_v_id","web_shops_chat_header_button_enabled","nse_call","inactive-upgrade","none","web","groups","2250","mms_hot_content_timespan_in_seconds","contact_blacklist","nse_read","suspended_group_deletion_notification","binary_version","018","https://www.whatsapp.com/otp/copy/","reg_push","shops_hide_catalog_attachment_entrypoint","server_sync",".","ephemeral_messages_allowed_values","019","mms_vcache_aggregation_enabled","iphone","America/Argentina/Buenos_Aires","01a","mms_vcard_autodownload_size_kb","nse_ver","shops_header_dropdown_menu_item","dhash","catalog_status","communities_mvp_new_iqs_serverprop","blocklist","default","11","ephemeral_messages_enabled","01b","original_dimensions","8","mms4_media_retry_notification_encryption_enabled","mms4_server_error_receipt_encryption_enabled","original_image_url","sync","multiway","420","companion_enc_static","shops_profile_drawer_entrypoint","01c","vcard_as_document_size_kb","status_video_max_duration","request_image_url","01d","regular_high","s_t","abt","share_ext_min_preliminary_image_quality","01e","32","syncd_key_rotation_enabled","data_namespace","md_downgrade_read_receipts2","patch","polltype","ephemeral_messages_setting","userrate","15","partial_pjpeg_bw_threshold","played-self","catalog_exists","01f","mute_v2"];t.DICTIONARY_0_TOKEN=r;const n=["reject","dirty","announcement","020","13","9","status_video_max_bitrate","fb:thrift_iq","offline_batch","022","full","ctwa_first_business_reply_logging","h.264","smax_id","group_description_length","https://www.whatsapp.com/otp/code","status_image_max_edge","smb_upsell_business_profile_enabled","021","web_upgrade_to_md_modal","14","023","s_o","smaller_video_thumbs_status_enabled","media_max_autodownload","960","blocking_status","peer_msg","joinable_group_call_client_version","group_call_video_maximization_enabled","return_snapshot","high","America/Mexico_City","entry_point_block_logging_enabled","pop","024","1050","16","1380","one_tap_calling_in_group_chat_size","regular_low","inline_joinable_education_enabled","hq_image_max_edge","locked","America/Bogota","smb_biztools_deeplink_enabled","status_image_quality","1088","025","payments_upi_intent_transaction_limit","voip","w:g2","027","md_pin_chat_enabled","026","multi_scan_pjpeg_download_enabled","shops_product_grid","transaction_id","ctwa_context_enabled","20","fna","hq_image_quality","alt_jpeg_doc_detection_quality","group_call_max_participants","pkey","America/Belem","image_max_kbytes","web_cart_v1_1_order_message_changes_enabled","ctwa_context_enterprise_enabled","urn:xmpp:whatsapp:account","840","Asia/Kuala_Lumpur","max_participants","video_remux_after_repair_enabled","stella_addressbook_restriction_type","660","900","780","context_menu_ios13_enabled","mute-state","ref","payments_request_messages","029","frskmsg","vcard_max_size_kb","sample_buffer_gif_player_enabled","match_last_seen","510","4983","video_max_bitrate","028","w:comms:chat","17","frequently_forwarded_max","groups_privacy_blacklist","Asia/Karachi","02a","web_download_document_thumb_mms_enabled","02b","hist_sync","biz_block_reasons_version","1024","18","web_is_direct_connection_for_plm_transparent","view_once_write","file_max_size","paid_convo_id","online_privacy_setting","video_max_edge","view_once_read","enhanced_storage_management","multi_scan_pjpeg_encoding_enabled","ctwa_context_forward_enabled","video_transcode_downgrade_enable","template_doc_mime_types","hq_image_bw_threshold","30","body","u_aud_limit_sil_restarts_ctrl","other","participating","w:biz:directory","1110","vp8","4018","meta","doc_detection_image_max_edge","image_quality","1170","02c","smb_upsell_chat_banner_enabled","key_expiry_time_second","pid","stella_interop_enabled","19","linked_device_max_count","md_device_sync_enabled","02d","02e","360","enhanced_block_enabled","ephemeral_icon_in_forwarding","paid_convo_status","gif_provider","project_name","server-error","canonical_url_validation_enabled","wallpapers_v2","syncd_clear_chat_delete_chat_enabled","medianotify","02f","shops_required_tos_version","vote","reset_skey_on_id_change","030","image_max_edge","multicast_limit_global","ul_bw","21","25","5000","poll","570","22","031","1280","WhatsApp","032","bloks_shops_enabled","50","upload_host_switching_enabled","web_ctwa_context_compose_enabled","ptt_forwarded_features_enabled","unblocked","partial_pjpeg_enabled","fbid:devices","height","ephemeral_group_query_ts","group_join_permissions","order","033","alt_jpeg_status_quality","migrate","popular-bank","win_uwp_deprecation_killswitch_enabled","web_download_status_thumb_mms_enabled","blocking","url_text","035","web_forwarding_limit_to_groups","1600","val","1000","syncd_msg_date_enabled","bank-ref-id","max_subject","payments_web_enabled","web_upload_document_thumb_mms_enabled","size","request","ephemeral","24","receipt_agg","ptt_remember_play_position","sampling_weight","enc_rekey","mute_always","037","034","23","036","action","click_to_chat_qr_enabled","width","disabled","038","md_blocklist_v2","played_self_enabled","web_buttons_message_enabled","flow_id","clear","450","fbid:thread","bloks_session_state","America/Lima","attachment_picker_refresh","download_host_switching_enabled","1792","u_aud_limit_sil_restarts_test2","custom_urls","device_fanout","optimistic_upload","2000","key_cipher_suite","web_smb_upsell_in_biz_profile_enabled","e","039","siri_post_status_shortcut","pair-device","lg","lc","stream_attribution_url","model","mspjpeg_phash_gen","catalog_send_all","new_multi_vcards_ui","share_biz_vcard_enabled","-","clean","200","md_blocklist_v2_server","03b","03a","web_md_migration_experience","ptt_conversation_waveform","u_aud_limit_sil_restarts_test1"];t.DICTIONARY_1_TOKEN=n;const i=["64","ptt_playback_speed_enabled","web_product_list_message_enabled","paid_convo_ts","27","manufacturer","psp-routing","grp_uii_cleanup","ptt_draft_enabled","03c","business_initiated","web_catalog_products_onoff","web_upload_link_thumb_mms_enabled","03e","mediaretry","35","hfm_string_changes","28","America/Fortaleza","max_keys","md_mhfs_days","streaming_upload_chunk_size","5541","040","03d","2675","03f","...","512","mute","48","041","alt_jpeg_quality","60","042","md_smb_quick_reply","5183","c","1343","40","1230","043","044","mms_cat_v1_forward_hot_override_enabled","user_notice","ptt_waveform_send","047","Asia/Calcutta","250","md_privacy_v2","31","29","128","md_messaging_enabled","046","crypto","690","045","enc_iv","75","failure","ptt_oot_playback","AIzaSyDR5yfaG7OG8sMTUj8kfQEb8T9pN8BM6Lk","w","048","2201","web_large_files_ui","Asia/Makassar","812","status_collapse_muted","1334","257","2HP4dm","049","patches","1290","43cY6T","America/Caracas","web_sticker_maker","campaign","ptt_pausable_enabled","33","42","attestation","biz","04b","query_linked","s","125","04a","810","availability","1411","responsiveness_v2_m1","catalog_not_created","34","America/Santiago","1465","enc_p","04d","status_info","04f","key_version","..","04c","04e","md_group_notification","1598","1215","web_cart_enabled","37","630","1920","2394","-1","vcard","38","elapsed","36","828","peer","pricing_category","1245","invalid","stella_ios_enabled","2687","45","1528","39","u_is_redial_audio_1104_ctrl","1025","1455","58","2524","2603","054","bsp_system_message_enabled","web_pip_redesign","051","verify_apps","1974","1272","1322","1755","052","70","050","1063","1135","1361","80","1096","1828","1851","1251","1921","key_config_id","1254","1566","1252","2525","critical_block","1669","max_available","w:auth:backup:token","product","2530","870","1022","participant_uuid","web_cart_on_off","1255","1432","1867","41","1415","1440","240","1204","1608","1690","1846","1483","1687","1749","69","url_number","053","1325","1040","365","59","Asia/Riyadh","1177","test_recommended","057","1612","43","1061","1518","1635","055","1034","1375","750","1430","event_code","1682","503","55","865","78","1309","1365","44","America/Guayaquil","535","LIMITED","1377","1613","1420","1599","1822","05a","1681","password","1111","1214","1376","1478","47","1082","4282","Europe/Istanbul","1307","46","058","1124","256","rate-overlimit","retail","u_a_socket_err_fix_succ_test","1292","1370","1388","520","861","psa","regular","1181","1766","05b","1183","1213","1304","1537"];t.DICTIONARY_2_TOKEN=i;const s=["1724","profile_picture","1071","1314","1605","407","990","1710","746","pricing_model","056","059","061","1119","6027","65","877","1607","05d","917","seen","1516","49","470","973","1037","1350","1394","1480","1796","keys","794","1536","1594","2378","1333","1524","1825","116","309","52","808","827","909","495","1660","361","957","google","1357","1565","1967","996","1775","586","736","1052","1670","bank","177","1416","2194","2222","1454","1839","1275","53","997","1629","6028","smba","1378","1410","05c","1849","727","create","1559","536","1106","1310","1944","670","1297","1316","1762","en","1148","1295","1551","1853","1890","1208","1784","7200","05f","178","1283","1332","381","643","1056","1238","2024","2387","179","981","1547","1705","05e","290","903","1069","1285","2436","062","251","560","582","719","56","1700","2321","325","448","613","777","791","51","488","902","Asia/Almaty","is_hidden","1398","1527","1893","1999","2367","2642","237","busy","065","067","233","590","993","1511","54","723","860","363","487","522","605","995","1321","1691","1865","2447","2462","NON_TRANSACTIONAL","433","871","432","1004","1207","2032","2050","2379","2446","279","636","703","904","248","370","691","700","1068","1655","2334","060","063","364","533","534","567","1191","1210","1473","1827","069","701","2531","514","prev_dhash","064","496","790","1046","1139","1505","1521","1108","207","544","637","final","1173","1293","1694","1939","1951","1993","2353","2515","504","601","857","modify","spam_request","p_121_aa_1101_test4","866","1427","1502","1638","1744","2153","068","382","725","1704","1864","1990","2003","Asia/Dubai","508","531","1387","1474","1632","2307","2386","819","2014","066","387","1468","1706","2186","2261","471","728","1147","1372","1961"];t.DICTIONARY_3_TOKEN=s;const a=[r,n,i,s];t.DICTIONARIES=a},1330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decimalStringToLongInt=function(e){if(!/^-?\d+$/.test(e))throw __LOG__(2)`"${e}" is not a valid decimal string`,new Error("decimalStringToLongInt is given an invalid decimal string");const t="-"===e[0],r=e.replace(/^-?0*/,""),i=r.length;if(i<16||16===i&&r<="9007199254740991")return t?-Number(r):Number(r);if(i>20||20===i&&r>"18446744073709551615"||t&&(i>19||19===i&&r>"9223372036854775807"))throw __LOG__(2)`"${e}" is over 64 bits`,new Error("decimalStringToHexLong is given value over 64 bits");let s=0,a=0;for(let e=0;e<i;e++)s=10*s+Number(r[e]),a=10*a+Math.floor(s/4294967296),s%=4294967296;return(0,n.createHexLongFrom32Bits)(a,s,t)},t.isBiggerLongInt=function(e,t){if("number"==typeof e&&"number"==typeof t)return e>t;const r="number"==typeof e?(0,n.hexLongFromNumber)(e):e,i="number"==typeof t?(0,n.hexLongFromNumber)(t):t;return(0,n.isBiggerHexLong)(r,i)},t.longIntToDecimalString=function(e){if("number"==typeof e)return e.toString(10);const t=(0,n.hexLongToHex)(e),r=[0];let i=0;for(let e=0;e<t.length;e++){i=(0,n.hexAt)(t,e);for(let e=0;e<r.length;e++)r[e]=16*r[e]+i,i=r[e]/10|0,r[e]%=10;for(;i>0;)r.push(i%10),i=i/10|0}const s=r.reverse().join("");return(0,n.hexLongIsNegative)(e)?"-"+s:s},t.maybeNumberOrThrowIfTooLarge=void 0,t.numberOrThrowIfTooLarge=i;var n=r(5982);function i(e){if("number"!=typeof e)throw __LOG__(2)`${e} is not a safe integer`,new Error("numberOrThrowIfTooLarge is given a non-safe integer");return e}t.maybeNumberOrThrowIfTooLarge=e=>null==e?e:i(e)},6595:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spec=void 0,t.compileSpec=function(e){if(e.internalCompiledSpec)return e.internalCompiledSpec;const t=e.internalSpec;if(!t)throw new Error(`Message Class ${String(e)} does not have internalSpec`);const r=e.internalDefaults||{},a=Object.keys(t).filter((e=>e!==n.KEYS.ONEOF)),o=new Array(a.length),c=[],u=[],l=new Array(a.length),d=t[n.KEYS.ONEOF]||{};a.sort(((e,r)=>{const n=s(t,e),i=s(t,r);return n[0]-i[0]}));for(let e=0;e<a.length;e++){const i=a[e],d=s(t,i);l[e]=r[i];const f=d[1],h=d[0];if(c.push(h),u.push(f),(f&n.TYPE_MASK)===n.TYPES.MESSAGE)o[e]=d[2];else if((f&n.TYPE_MASK)===n.TYPES.ENUM){const t=d[2];if("function"==typeof t.cast)o[e]=t;else{let r,n=!0,i=0;for(const e in t)n&&e!==i++&&(n=!1);if(n){r=[];for(let e=0;e<i;e++)r.push(!0)}else{r={};for(const e in t)r[t[e]]=!0}o[e]=r}}else o[e]=null}const f={};for(const e in d)d[e].forEach((t=>{f[t]||(f[t]=[]),f[t].push(e)}));const h=t[n.KEYS.RESERVED]&&t[n.KEYS.RESERVED][n.KEYS.RESERVED_TAGS],p=t[n.KEYS.RESERVED]&&t[n.KEYS.RESERVED][n.KEYS.RESERVED_FIELDS],_=new i(a,c,u,l,o,d,f,h,p);return e.internalCompiledSpec=_,_};var n=r(6154);class i{constructor(e,t,r,n,i,s,a,o,c){this.names=e,this.fields=t,this.types=r,this.defaults=n,this.meta=i,this.oneofToFields=s,this.fieldToOneof=a,this.reservedTags=o?o.reduce(((e,t)=>(e[t]=!0,e)),{}):{},this.reservedFields=c?c.reduce(((e,t)=>(e[t]=!0,e)),{}):{}}}function s(e,t){const r=e[t];if(null==r)throw new Error(`fieldData of ${t} is missing`);return r}t.Spec=i},6154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_MASK=t.TYPES=t.KEYS=t.FLAGS=t.ENC=void 0;t.FLAGS={REPEATED:64,PACKED:128,REQUIRED:256};t.TYPE_MASK=31;t.TYPES={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};t.ENC={VARINT:0,BIT64:1,BINARY:2,BIT32:5};t.KEYS={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"}},5036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeToEncType=function(e){if(e&s.PACKED)return c.BINARY;const t=e&o;return t<=a.ENUM?c.VARINT:t<=a.DOUBLE?c.BIT64:t<=a.MESSAGE?c.BINARY:c.BIT32};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(r(6154));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}const{FLAGS:s,TYPES:a,TYPE_MASK:o,ENC:c}=n},2525:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.checkRequirements=c,t.checkValid=function(e,t){c(e,t);const r=_(t,e);if(r)throw r.path.reverse(),new TypeError(`Invalid value at ${r.path.join(".")}: ${r.error}`)};var i=n(r(9028)),s=r(6595),a=r(6154);const o=Number.MAX_SAFE_INTEGER;function c(e,t){const r=u(e,t);if(r)throw r.reverse(),new TypeError(`Message missing required value ${r.join(".")}`)}function u(e,t){const{names:r,types:n,meta:o}=(0,s.compileSpec)(e);let c;for(let e=0;e<n.length&&!c;e++){const s=n[e],l=r[e],d=(0,i.default)(t,l)?t[l]:void 0;if(s&a.FLAGS.REQUIRED&&null==d)c=[l];else if((s&a.TYPE_MASK)===a.TYPES.MESSAGE&&s&a.FLAGS.REPEATED&&null!=d){const t=o[e];let r;for(r=0;r<d.length&&!c;r++)c=u(t,d[r]);c&&c.push(`${l}[${r}]`)}else(s&a.TYPE_MASK)===a.TYPES.MESSAGE&&null!=d&&(c=u(o[e],d),c&&c.push(l))}return c}function l(e,t,r){return"string"==typeof e?!/^-?0x[0-9a-f]{16}$/i.test(e)&&(__LOG__(2)`"${h(e)}" is not a valid long`,{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}):d(e,t,r)}function d(e,t,r){return"number"!=typeof e||e!=e||Math.floor(e)!==e?(__LOG__(2)`"${h(e)}" is not a valid int`,{path:[],error:"value must be an int"}):(e<t||e>=r)&&(__LOG__(2)`"${h(e)}" is out of range`,{path:[],error:"value is out of range"})}function f(e,t,r){return e?void 0:(__LOG__(2)`"${h(r)}" is not ${t}`,{path:[],error:"value is invalid"})}function h(e){return"string"==typeof e?`"${e}"`:Array.isArray(e)?`[${e.join(", ")}]`:`${e}`}const p=[void 0,e=>d(e,-2147483648,2147483648),e=>l(e,-o,o+1),e=>d(e,0,4294967296),e=>l(e,0,o+1),e=>d(e,-2147483648,2147483648),e=>l(e,-o,o+1),e=>f("boolean"==typeof e,"boolean",e),(e,t)=>f("number"==typeof e&&(t[e]||void 0!==t.cast(e)),"in enum",e),e=>l(e,0,o+1),e=>l(e,-o,o+1),e=>f("number"==typeof e,"number",e),e=>f("string"==typeof e,"string",e),e=>f(e instanceof ArrayBuffer||e instanceof Uint8Array,"ArrayBuffer or Uint8Array",e),_,e=>d(e,0,4294967296),e=>d(e,-2147483648,2147483648),e=>f("number"==typeof e,"number",e)];function _(e,t){const{names:r,fields:n,types:i,meta:o,oneofToFields:c,fieldToOneof:u,reservedTags:l,reservedFields:d}=(0,s.compileSpec)(t);let f;for(let t=0;t<r.length&&!f;t++){const s=r[t],_=i[t],y=e[s],v=_&a.TYPE_MASK,m=p[v];if(void 0===m)throw new Error(`Can not find the validator for type ${v}`);if(_&(a.FLAGS.PACKED|a.FLAGS.REPEATED)&&null!=y)if(Array.isArray(y)){const e=o[t];for(let t=0;t<y.length&&!f;t++)f=m(y[t],e),f&&f.path.push(`${s}[${t}]`)}else __LOG__(2)`"${h(y)}" is not an array`,f={path:[s],error:"repeated field must be array"};else if(null!=y){f=m(y,o[t]),f&&f.path.push(s);const r=u[s];r&&r.forEach((t=>{c[t].filter((e=>e!==s)).forEach((r=>{void 0!==e[r]&&(f={path:[t],error:`oneof has fields '${s}' and '${r}' set`})}))})),l[n[t]]&&(f={path:[s],error:`tag ${n[t]} is reserved`}),d[s]&&(f={path:[s],error:"field name is reserved"})}}return f}},3955:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.decodeProtobuf=function(e,t){const r=new s.Binary(t),n=m(e,r,void 0,!1);return(0,d.checkRequirements)(e,n),n},t.decodeProtobufWithUnknowns=function(e,t){const r=new s.Binary(t),n=m(e,r,void 0,!0);return(0,d.checkRequirements)(e,n),n},t.getUnknownFields=function(e){return(0,a.default)(e,"$$unsafeUnknownFields")?e.$$unsafeUnknownFields:null};var i=n(r(3982)),s=r(9323),a=n(r(9028)),o=r(5982),c=r(6595),u=r(6154),l=r(5036),d=r(2525);function f(e,t,r){if(e!==(0,l.typeToEncType)(t))throw new Error(`FormatError: ${r} encoded with wire type ${e}`)}function h(e,t,r){switch(t){case u.TYPES.INT32:return p(r,-2147483648,2147483648,e,s.parseInt64OrThrow);case u.TYPES.INT64:return r.readVarInt(_);case u.TYPES.UINT32:return p(r,0,4294967296,e,s.parseUint64OrThrow);case u.TYPES.UINT64:return r.readVarInt(y);case u.TYPES.SINT32:{const t=p(r,0,4294967296,e,s.parseInt64OrThrow);return 1&t?~(t>>>1):t>>>1}case u.TYPES.SINT64:return r.readVarInt(v);case u.TYPES.BOOL:return!!p(r,0,2,e,s.parseUint64OrThrow);case u.TYPES.ENUM:return r.readVarInt(s.parseInt64OrThrow);case u.TYPES.FIXED64:return r.readLong(y,!0);case u.TYPES.SFIXED64:return r.readLong(_,!0);case u.TYPES.DOUBLE:return r.readFloat64(!0);case u.TYPES.STRING:return r.readString(r.readVarInt(s.parseUint64OrThrow));case u.TYPES.BYTES:return r.readBuffer(r.readVarInt(s.parseUint64OrThrow));case u.TYPES.FIXED32:return r.readUint32(!0);case u.TYPES.SFIXED32:return r.readInt32(!0);case u.TYPES.FLOAT:return r.readFloat32(!0)}}function p(e,t,r,n,i){const s=e.readVarInt(i);if(s<t||s>=r)throw new Error(`FormatError: ${n} encoded with out-of-range value ${s}`);return s}function _(e,t){if((0,s.longFitsInDouble)(!0,e,t)){return 4294967296*e+g(t)}{const r=e<0;let n;n=r?0===t?-e:~e:e;const i=r?-t:t;return(0,o.createHexLongFrom32Bits)(n,i,r)}}function y(e,t){if((0,s.longFitsInDouble)(!1,e,t)){return 4294967296*g(e)+g(t)}return(0,o.createHexLongFrom32Bits)(e,t)}function v(e,t){let r=e>>>1,n=e<<31|t>>>1;return 1&t&&(r=~r,n=~n),_(r,n)}function m(e,t,r,n){var a;const{names:o,fields:l,types:d,meta:_,oneofToFields:y,fieldToOneof:v,reservedTags:g,reservedFields:b}=(0,c.compileSpec)(e),{internalDefaults:S}=e,w=r||(0,i.default)({},S)||{};w.$$unknownFieldCount=null!==(a=null==r?void 0:r.$$unknownFieldCount)&&void 0!==a?a:0;for(let e=0;e<o.length;e++)d[e]&u.FLAGS.REPEATED&&(w[o[e]]=[]);let E=0;const A=l.length>0;let T=l[0];for(;t.size();){const e=p(t,0,4294967296,"field and enc type",s.parseInt64OrThrow),r=7&e,i=e>>>3;if(A&&i!==T){const e=E;do{++E===l.length&&(E=0),T=l[E]}while(i!==T&&E!==e)}if(A&&i===T){const e=o[E],a=d[E];f(r,a,e);const c=a&u.TYPE_MASK,l=_[E];if(a&u.FLAGS.PACKED){const r=t.readVarInt(s.parseUint64OrThrow),n=t.readBinary(r);for(;n.size();){var j;const t=h(e,c,n);(c!==u.TYPES.ENUM||l[t]||void 0!==(null===(j=l.cast)||void 0===j?void 0:j.call(l,t)))&&w[e].push(t)}}else if(c===u.TYPES.MESSAGE){const r=t.readVarInt(s.parseUint64OrThrow),i=t.readBinary(r);if(a&u.FLAGS.REPEATED)w[e].push(m(l,i,void 0,n));else{const t=w[e];w[e]=m(l,i,t,n)}}else{var I;const r=h(e,c,t);(c!==u.TYPES.ENUM||l[r]||void 0!==(null===(I=l.cast)||void 0===I?void 0:I.call(l,r)))&&(a&u.FLAGS.REPEATED?w[e].push(r):w[e]=r)}const p=v[e];p&&void 0!==w[e]&&p.forEach((t=>{y[t].filter((t=>t!==e)).forEach((e=>{delete w[e]}))})),(g[i]||b[e])&&delete w[e]}else if(w.$$unknownFieldCount++,n){let e;switch(w.$$unsafeUnknownFields||(w.$$unsafeUnknownFields={}),r){case u.ENC.VARINT:e=t.readVarInt(s.parseInt64OrThrow);break;case u.ENC.BIT64:e=t.readBinary(8);break;case u.ENC.BINARY:e=t.readBinary(t.readVarInt(s.parseUint64OrThrow));break;case u.ENC.BIT32:e=t.readBinary(4)}w.$$unsafeUnknownFields[i]=e}else r===u.ENC.VARINT?t.readVarInt(s.parseInt64OrThrow):r===u.ENC.BIT64?t.advance(8):r===u.ENC.BINARY?t.advance(t.readVarInt(s.parseUint64OrThrow)):r===u.ENC.BIT32&&t.advance(4)}return w}function g(e){return e>=0?e:4294967296+e}},4753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeErrorInfo=function(){return void 0!==u?`Last encoded value for ${u}`:"No information known"},t.encodeProtobuf=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new n.Binary;return(0,c.checkValid)(e,t),_(r,t,e),u=void 0,r};var n=r(9323),i=r(5982),s=r(6595),a=r(6154),o=r(5036),c=r(2525);let u;function l(e,t){e.writeVarInt(t)}function d(e,t){if("number"==typeof t&&t<4503599627370496&&t>=-4503599627370496)e.writeVarInt(t>=0?2*t:2*-t-1);else{const r=new n.Binary;let s;"number"==typeof t?(s=t<0,r.writeVarInt(s?-t:t)):(s=(0,i.hexLongIsNegative)(t),r.writeVarIntFromHexLong(s?(0,i.negateHexLong)(t):t));const a=r.peek((()=>r.readByteArray())),o=a.byteLength;if(s){let e,t=0;do{e=a[t],a[t]=128&e|(127&e)-1&127,t++}while(255===a[t-1])}let c=s?1:0;for(let e=0;e<o;e++){const t=a[e],r=128&t|(63&t)<<1|c;c=(64&t)>>6,a[e]=r}1===c&&(a[o-1]|=128,r.writeInt8(1)),e.writeBinary(r)}}function f(e,t){"number"==typeof t?e.writeVarInt(t):e.writeVarIntFromHexLong(t)}const h=[void 0,l,f,l,f,d,d,(e,t)=>{e.writeVarInt(t?1:0)},l,(e,t)=>{"number"==typeof t?e.writeUint64(t,!0):e.writeHexLong(t,!0)},(e,t)=>{"number"==typeof t?e.writeInt64(t,!0):e.writeHexLong(t,!0)},(e,t)=>{e.writeFloat64(t,!0)},function(e,t){e.writeVarInt((0,n.numUtf8Bytes)(t)),e.writeString(t)},function(e,t){e.writeVarInt(t.byteLength),e.writeBuffer(t)},function(e,t,r){e.writeWithVarIntLength(((e,t)=>_(e,t,r)),t)},(e,t)=>{e.writeUint32(t,!0)},(e,t)=>{e.writeInt32(t,!0)},(e,t)=>{e.writeFloat32(t,!0)}],p=h.map((e=>{if(null!=e)return(e,r)=>{e.writeWithVarIntLength(t,r)};function t(t,r){for(let n=0;n<r.length;n++)e(t,r[n])}}));function _(e,t,r){const{names:n,fields:i,types:c,meta:l}=(0,s.compileSpec)(r),{internalDefaults:d}=r;for(let r=0;r<n.length;r++){const s=n[r];let f=t[s];if(null==f&&d&&(f=d[s]),null!=f){u=s;const t=i[r],n=c[r],d=n&a.TYPE_MASK,_=l[r],y=8*t|(0,o.typeToEncType)(n);if(n&a.FLAGS.PACKED){if(f.length>0){e.writeVarInt(y);(0,p[d])(e,f,_)}}else if(n&a.FLAGS.REPEATED)for(let t=0;t<f.length;t++){e.writeVarInt(y);(0,h[d])(e,f[t],_)}else{e.writeVarInt(y);(0,h[d])(e,f,_)}}}}},1084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseClientResponseServerResponse=function(e,t){const r=(0,o.assertTag)(e,"iq");if(!r.success)return r;const c=(0,s.attrJidEnum)(e,"from",i.DOMAINJID_USERJID);if(!c.success)return c;const u=(0,o.literal)(o.attrString,e,"type","result");if(!u.success)return u;const l=(0,a.attrStringFromReference)(t,["id"]);if(!l.success)return l;const d=(0,o.literal)(o.attrString,e,"id",l.value);if(!d.success)return d;const f=(0,o.attrInt)(e,"t");if(!f.success)return f;return(0,n.makeResult)({from:c.value,type:u.value,t:f.value})};var n=r(2207),i=r(3716),s=r(5273),a=r(2375),o=r(3263)},3716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOMAINJID_USERJID=void 0;var n=r(4037);const i={validators:[n.validateDomainJid,n.validateUserJid],typeName:"DomainJid|UserJid"};t.DOMAINJID_USERJID=i},8525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeClientRequest=function(){return(0,i.mergeClientWellFormedToMixin)((0,n.smax)("iq",{id:(0,s.generateId)(),type:"get",xmlns:"w:p"}))};var n=r(1399),i=r(4068),s=r(780)},4068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClientWellFormedToMixin=function(e){const t=(0,n.smax)("iq",{to:s.S_WHATSAPP_NET});return(0,i.mergeStanzas)(e,t)};var n=r(1399),i=r(5640),s=r(780)},5273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attrBroadcastJid=function(e,t){return(0,s.attrValidate)(e,t,n.validateBroadcastJid,"BroadcastJid")},t.attrCallJid=function(e,t){return(0,s.attrValidate)(e,t,n.validateCallJid,"CallJid")},t.attrDeviceJid=function(e,t){return(0,s.attrValidate)(e,t,n.validateDeviceJid,"DeviceJid")},t.attrDomainJid=function(e,t){return(0,s.attrValidate)(e,t,n.validateDomainJid,"DomainJid")},t.attrGroupJid=function(e,t){return(0,s.attrValidate)(e,t,n.validateGroupJid,"GroupJid")},t.attrJidEnum=function(e,t,r){const n=(0,s.attrString)(e,t);if(!n.success)return n;const{validators:a,typeName:o}=r;for(let e=0;e<a.length;e++){const t=a[e](n.value);if(null!=t)return(0,i.makeResult)(t)}return(0,s.errorMessage)(e,`to have "${t}"={${o}}, but instead has "${n.value}"`)},t.attrNewsletterJid=function(e,t){return(0,s.attrValidate)(e,t,n.validateNewsletterJid,"NewsletterJid")},t.attrStatusJid=function(e,t){return(0,s.attrValidate)(e,t,n.validateStatusJid,"StatusJid")},t.attrUserJid=function(e,t){return(0,s.attrValidate)(e,t,n.validateUserJid,"UserJid")},t.literalJid=function(e,t,r,n){const i=e(t,r);if(!i.success)return i;if(i.value===n)return i;return(0,s.errorMessage)(t,`to have "${r}"={${n}}, but instead has "${i.value}"`)},t.optionalLiteralJid=function(e,t,r,n){const i=(0,s.optional)(e,t,r);if(!i.success)return i;if(null==i.value||i.value===n)return i;return(0,s.errorMessage)(t,`to have "${r}"={${n}}, but instead has "${i.value}"`)};var n=r(4037),i=r(2207),s=r(3263)},2375:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.attrFromReference=o,t.attrStringFromReference=c,t.contentStringFromReference=function(e,t){const r=u(e,t);if(!r.success)return d(r);const n=(0,a.contentString)(r.value);if(!n.success)return d(n);return n},t.optionalAttrFromReference=function(e,t,r,n,i){return l(t,r)?o(e,t,r,n,i):a.voidSuccess},t.optionalAttrStringFromReference=function(e,t){return l(e,t)?c(e,t):a.voidSuccess};var i=n(r(9028)),s=r(2207),a=r(3263);function o(e,t,r,n,i){const s=u(t,r);if(!s.success)return d(s);const a=e(s.value,r[r.length-1],n,i);return a.success?a:d(a)}function c(e,t){return o(a.attrString,e,t)}function u(e,t){const r=t.length;let n=e;for(let e=0;e<r-1;e++){const r=t[e],i=(0,a.flattenedChildWithTag)(n,r);if(!i.success)return i;n=i.value}return(0,s.makeResult)(n)}function l(e,t){const r=u(e,t);return r.success&&(0,i.default)(r.value.attrs,t[t.length-1])}function d(e){return(0,s.makeError)(`in the reference, ${e.error}`)}},3263:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.assertAttr=function(e,t,r){const n=h(e,t);if(!n.success)return n;if(n.value!==r)return T(e,`to have "${t}"="${r}", but instead has "${n.value}"`);return f},t.assertTag=function(e,t){if(e.tag!==t)return T(e,`to be <${t}>`);return f},t.attrInt=y,t.attrIntRange=function(e,t,r,n){const i=y(e,t);if(!i.success)return i;const s=i.value;if(void 0!==r&&s<r)return T(e,`to have "${t}"={at least ${r}} but has value ${s}`);if(void 0!==n&&s>n)return T(e,`to have "${t}"={at most ${n}} but has value ${s}`);return(0,u.makeResult)(s)},t.attrStanzaId=function(e,t){return p(e,t,l.toStanzaId,"stanzaID")},t.attrString=h,t.attrStringEnum=function(e,t,r){const n=h(e,t);if(!n.success)return n;const i=r[n.value];if(null!=i)return(0,u.makeResult)(i);const s=Object.values(r).join("|");return T(e,`to have "${t}"={${s}}, but instead has "${n.value}"`)},t.attrValidate=p,t.childWithTag=function(e,t,r){const n=g(e,t,r);if(!n.success)return n;const i=n.value;if(null==i)return T(e,`to have 1 child <${t}>, but found 0`);return(0,u.makeResult)(i)},t.contentBytes=A,t.contentBytesRange=function(e,t,r){const n=A(e);if(!n.success)return n;const i=n.value.length;if(void 0!==t&&i<t)return T(e,`to have binary content at least ${t} bytes but has ${i} bytes`);if(void 0!==r&&i>r)return T(e,`to have binary content at most ${r} bytes but has ${i} bytes`);return(0,u.makeResult)(n.value)},t.contentInt=function(e){return _(e,I,"integer")},t.contentLiteralBytes=function(e,t){const r=A(e);if(!r.success)return r;if((0,a.uint8ArraysEqual)(r.value,t))return(0,u.makeResult)(t);return T(e,`to have content ":binary:${(0,i.encodeB64)(t)}", but instead has ":binary:${(0,i.encodeB64)(r.value)}"`)},t.contentString=E,t.contentStringEnum=function(e,t){const r=E(e);if(!r.success)return r;const n=t[r.value];if(null!=n)return(0,u.makeResult)(n);const i=Object.values(t).join("|");return T(e,`to have content "${i}", but instead has "${r.value}"`)},t.contentValidate=_,t.countChildrenWithTag=function(e,t,r,n,i){const s=P(e,t,r,n);if(!s.success)return s;const a=s.value.length;for(let e=0;e<a;e++){const t=i(s.value[e]);if(!t.success)return t}return(0,u.makeResult)(a)},t.countHomogeneousChildrenWithTag=function(e,t,r){const n=S(e,t,r);if(!n.success)return n;return(0,u.makeResult)(n.value.length)},t.emptyObject=void 0,t.errorMessage=T,t.errorMixinDisjunction=function(e,t,r){const n=t.map(((e,t)=>`${e}: ${r[t].error}`));return T(e,[`to match any of following mixins: ${t.join(", ")}, but all mixins failed.`,...n].join(" "))},t.flattenedChildWithTag=function(e,t){const r=m(e,t);if(!r.success)return r;if(null==r.value)return T(e,`to have 1 child <${t}>, but found 0`);return(0,u.makeResult)(r.value)},t.identity=function(e){return e},t.literal=function(e,t,r,n){const i=e(t,r);if(!i.success)return i;if(i.value===n)return(0,u.makeResult)(n);return T(t,`to have "${r}"={${n}}, but instead has "${i.value}"`)},t.literalContent=function(e,t,r){const n=e(t);if(!n.success)return n;if(n.value===r)return(0,u.makeResult)(r);return T(t,`to have content "${r}", but instead has "${n.value}"`)},t.mapChildrenWithTag=b,t.mapHomogeneousChildrenWithTag=S,t.maybeChildren=v,t.optional=w,t.optionalChild=m,t.optionalChildWithTag=g,t.optionalLiteral=function(e,t,r,n){if(null==n)return f;const i=w(e,t,r);if(!i.success)return i;if(i.value===n)return(0,u.makeResult)(n);if(null==i.value)return f;return T(t,`to have "${r}"={${n}}, but instead has "${i.value}"`)},t.voidSuccess=void 0;var i=r(2089),s=r(9323),a=r(9093),o=r(2924),c=n(r(9028)),u=r(2207),l=r(3417),d=r(3486);const f=(0,u.makeResult)();function h(e,t){return j(e,t)?function(e,t){if(t instanceof d.WapJid)return(0,u.makeResult)(t.toString());if("string"==typeof t)return(0,u.makeResult)(t);return T(e,`decodeAsString: attribute is ${typeof t} not a string: ${String(t)}`)}(e,e.attrs[t]):T(e,`to have attribute "${t}"`)}function p(e,t,r,n){const i=h(e,t);if(!i.success)return i;const s=r(i.value);return null!=s?(0,u.makeResult)(s):T(e,`to have "${t}"={${n}}, but instead has "${i.value}"`)}function _(e,t,r){const n=E(e);if(!n.success)return n;const i=t(n.value);return null!=i?(0,u.makeResult)(i):T(e,`to have ${r} content, but instead has "${n.value}"`)}function y(e,t){return p(e,t,I,"integer")}function v(e){const t=e.content;return t instanceof Uint8Array?T(e,"to have children"):(0,u.makeResult)(t)}function m(e,t){const r=v(e);if(!r.success)return r;const n=r.value;if(null==n)return f;let i=null;for(let r=0;r<n.length;r++){const s=n[r];if(s.tag===t){if(null!=i)return T(e,`to have 1 child <${t}>, but found more than 1`);i=s}}return(0,u.makeResult)(i)}function g(e,t,r){const n=m(e,t);return n.success?null==n.value?f:r(n.value):n}function b(e,t,r,n,i){const s=P(e,t,r,n);if(!s.success)return s;const a=[];for(let e=0;e<s.value.length;e++){const t=i(s.value[e]);if(!t.success)return t;a.push(t.value)}return(0,u.makeResult)(a)}function S(e,t,r){const n=b(e,t,0,1/0,r);if(!n.success)return n;for(let t=0;t<n.value.length;t++)if(!(0,o.deepEqual)(n.value[0],n.value[t]))return T(e,"to have homogeneous children, but found two children that are not equal");return n}function w(e,t,r,n,i){return j(t,r)?e(t,r,n,i):f}function E(e){const t=A(e);if(!t.success)return t;try{const e=new s.Binary(t.value),r=e.readString(e.size());return(0,u.makeResult)(r)}catch(t){return T(e,`to have string content, but run into decoding error: ${t.message}`)}}function A(e){const{content:t}=e;return null==t?T(e,"to have content"):Array.isArray(t)?T(e,"to have content, but has children instead"):(0,u.makeResult)(t)}function T(e,t){return(0,u.makeError)(`expected <${e.tag}>: ${t}`)}function j(e,t){return(0,c.default)(e.attrs,t)}function I(e){const t=parseInt(e,10);return Number.isNaN(t)?null:t}function P(e,t,r,n){const i=v(e);if(!i.success)return i;const s=i.value;if(null==s)return 0!==r?T(e,`to have at least ${r} <${t}> children, but found 0`):(0,u.makeResult)([]);const a=[];for(let e=0;e<s.length;e++){const r=s[e];r.tag===t&&a.push(r)}const o=a.length;return o<r?T(e,`to have at least ${r} <${t}> children, but found ${o}`):o>n?T(e,`to have at most ${n} <${t}> children, but found ${o}`):(0,u.makeResult)(a)}t.voidSuccess=f;t.emptyObject={}},1399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.smax=void 0;const n=r(780).wap;t.smax=n},5640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStanzas=a,t.optionalMerge=function(e,t,r,n){if(null!=r)return e(t,r,n);return t};var n=r(4080),i=r(3486);const s="smax$any";function a(e,t){return function(e,t){const r=e.tag,n=t.tag;if(n===s)return;if(r!==n)throw new Error(`tag mismatch: ${r} != ${n}`)}(e,t),function(e,t){const r=e.attrs,n=t.attrs;Object.keys(n).forEach((e=>{const t=n[e],s=r[e];if(null!=t&&null!=s){if(function(e,t){if("string"==typeof e&&"string"==typeof t)return e===t;if(e instanceof i.WapJid&&t instanceof i.WapJid)return e.toString()===t.toString();return!1}(t,s))return;throw new Error(`conflict for key: ${e}`)}r[e]=t}))}(e,t),t.content instanceof Uint8Array?function(e,t){const r=e.content;if(r instanceof Uint8Array){if(!(0,n.uint8ArraysEqualUNSAFE)(r,t))throw new Error("elementValue mismatch: bytes dose not equal");return}if(null!=r)throw new Error("elementValue mismatch: destination has children");e.content=t}(e,t.content):null!=t.content&&function(e,t){const r=e.content;if(r instanceof Uint8Array)throw new Error("children mismatch: destination has element value");if(null==r||0===r.length)return void(e.content=t);if(!function(e,t){const r=o(t),n=o(e),i=Object.keys(r);for(let e=0;e<i.length;e++){const t=i[e],s=r[t],a=n[t];if(null!=s&&null!=a&&s!==a)return!1}return!0}(r,t))throw new Error("children mismatch: child counts are not compatible");const n=[],i=Array.from(r);t.forEach((e=>{const t=i.findIndex((t=>t.tag===e.tag));if(-1===t)n.push(e);else{const r=a(i.splice(t,1)[0],e);n.push(r)}})),i.forEach((e=>n.push(e))),e.content=n}(e,t.content),e}function o(e){return e.reduce(((e,t)=>{const r=t.tag,n=e[r];return e[r]=null==n?1:n+1,e}),{})}},3274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Offline=t.Disconnected=t.BufferTooLargeError=void 0;var n=r(6911);const i=(0,n.customError)("BufferTooLarge",!1);t.BufferTooLargeError=i;const s=(0,n.customError)("Disconnected",!1);t.Disconnected=s;const a=(0,n.customError)("Offline",!1,s);t.Offline=a},4857:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AckParser=void 0,t.ackMatchesTemplate=function(e,t){return e.id===t.id&&(void 0===t.class||e.class===t.class)&&(void 0===t.type||e.type===t.type)&&(void 0===t.from||s(e.from,t.from))&&(void 0===t.participant||e.participant===t.participant)&&(void 0===t.ts||e.ts===t.ts)},t.fromJidsAreEqual=s;var n=r(4037);const i=new(r(8748).WapParser)("ack",(e=>(e.assertTag("ack"),{id:e.attrString("id"),ts:e.maybeAttrString("t"),class:e.attrString("class"),type:e.maybeAttrString("type"),from:e.attrJidWithType(),participant:e.hasAttr("participant")?e.attrDeviceJid("participant"):null})));function s(e,t){if((0,n.extractFromJid)(e)===t)return!0;if(null!=e.userJid)return(0,n.defaultDeviceJidForUser)(e.userJid)===t;if(null!=e.deviceJid){const{deviceJid:r}=e;return 0===(0,n.extractDeviceId)(r)&&(0,n.extractUserJid)(r)===t}return!1}t.AckParser=i},9026:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.cancelDeadSocketTimer=function(){S&&S.deadSocketTimer.cancel()},t.castSmaxStanza=O,t.closeSocket=function(){const e=k("closeSocket").socket;e&&(__LOG__(2)`closeSocket called`,e.close())},t.closeSocketAndPreventRetry=function(){const e=k("closeSocketAndPreventRetry");e.socketLoop.endWithValue(),e.socket&&(__LOG__(2)`closeSocketAndPreventRetry called`,e.socket.close())},t.deprecatedCastStanza=function(e){O(e)},t.deprecatedSendIq=function(e,t){return U(e,!1).then((e=>(0,d.parseIqResponse)(e,t)))},t.deprecatedSendIqErrorParser=function(e,t,r){return U(e,!1).then((e=>(0,d.parseIqResponse)(e,t,r)))},t.deprecatedSendIqIfConnectedWithin=function(e,t,r){return U(e,!1,r).then((e=>(0,d.parseIqResponse)(e,t)))},t.deprecatedSendIqWithoutRetry=function(e,t){return U(e,!0).then((e=>(0,d.parseIqResponse)(e,t)))},t.deprecatedSendStanzaAndReturnAck=P,t.deprecatedSendStanzaAndWaitForAck=function(e,t){return P(e,t).then((()=>{}))},t.forceResetSocketLoop=function(){k("forceResetSocketLoop").socketLoop.reset()},t.getComms=function(){return S},t.isActiveSocket=function(e){return k("castStanza").socketId===e},t.isSocketConnected=j,t.maybeResetSocketLoop=function(){j()||k("maybeResetSocketLoop").socketLoop.reset()},t.onStreamErrorReceived=function(){k("onStreamErrorReceived").socketLoop.cancelReset()},t.openSocketLoop=T,t.resetStateForTests=function(){S=null,w=new h.Resolvable,E=1},t.sendPing=function(){return k("sendPing").sendPing()},t.sendSmaxStanza=function(e,t){var r,n;const i=null!==(r=null==t?void 0:t.withoutRetry)&&void 0!==r&&r,s=null!==(n=null==t?void 0:t.timeoutSeconds)&&void 0!==n?n:0;return U(e,i,s,"smax")},t.singletonOrThrowIfUninitialized=k,t.socketLoopIteration=I,t.startComms=function(e,t,r){if(S)return;S=new A(e,t,r),setTimeout(T,0)},t.startHandlingRequests=function(){return k("startHandlingRequests").startHandlingRequests()},t.stopComms=function(){const e=k("stopComms");e.socketLoop.endWithValue(),e.socket&&e.socket.close();S=null},t.waitForConnection=function(){k("waitForConnection").sendPing(),w||(w=new h.Resolvable);return w.promise};var i=n(r(3982)),s=n(r(1504)),a=r(4857),o=r(3558),c=n(r(2065)),u=r(3274),l=r(5584),d=r(2827),f=r(2521),h=r(1630),p=r(2207),_=r(8494),y=r(1084),v=r(8525),m=r(3263),g=r(9987),b=r(780);let S=null,w=null,E=1;class A{constructor(e,t,r){var n,i;this.nextSocketId=1,this.pendingIqs=new Map,this.ackHandlers=[],this.pendingSmaxStanzas=new Map,this._recvBlocker=new h.Resolvable,this.activePing=null,this._pending=new Set,this.socketId=0,this.socket=null,this.softCloseSocket=null,this.handleStanza=(e,t,r)=>{const n=(0,m.attrString)(e,"id");if(n.success){const t=n.value,r=this.pendingSmaxStanzas.get(t);if(r)return this.pendingSmaxStanzas.delete(t),r.resolve(e),this.maybeScheduleHealthCheck(),"NO_ACK"}const i=R(e);if(null!=i){const t=this.pendingIqs.get(i);t?(this.pendingIqs.delete(i),t.resolve(e),this.maybeScheduleHealthCheck()):(__LOG__(3)`handleIq no handler for iq with id ${i}`,__LOG__(4,void 0,new Error)`handleIq no handler for iq`)}else{if("ack"!==e.tag)return"failure"===e.tag&&this.config.shouldBlockReceivingUntilSuccess?this._handleStanza(e,t,r):this._recvBlocker.promise.then((()=>this._handleStanza(e,t,r)));this.handleAck(e)}return"NO_ACK"},this.healthCheckTimer=new _.ShiftTimer((()=>{this.socketId&&this.sendPing()})),this.deadSocketTimer=new _.ShiftTimer((e=>{__LOG__(2)`Comms: Socket ${e} expired`,e===this.socketId&&this.softCloseSocket&&this.softCloseSocket()})),this.sendPing=(0,s.default)((function*(){const e=k("sendPing");if(!e.socketId)return __LOG__(2)`sendPing when socket dead`,Promise.resolve();if(e.activePing&&e.activePing.socketId===e.socketId)return __LOG__(2)`sendPing ping still pending`,Promise.resolve();e.activePing&&e.activePing.handler.resolve();const t=(0,v.makeClientRequest)(),r=t.attrs.id;if("string"!=typeof r)return __LOG__(4,void 0,new Error)`No stanzaId in ping request stanza`,Promise.resolve();const n=new h.Resolvable;e.activePing={socketId:e.socketId,stanzaId:r,handler:n},e.callStanza(t);const i=yield n.promise;if(i){const r=(0,y.parseClientResponseServerResponse)(i,t);if(r.success){var s,a;const t=(0,g.castToUnixTime)(r.value.t),n=Math.round(Date.now()/1e3-t);null===(s=(a=e.config.handlers).onClockSkewUpdate)||void 0===s||s.call(a,n)}}})),this._handleStanza=e,this.onConnectionChange=(0,l.notifyConnectionChangeFactory)(null!==(n=t.handlers.onConnectionChange)&&void 0!==n?n:()=>{},null!==(i=t.handlers.onOptimisticConnectionChange)&&void 0!==i?i:()=>{}),this.gzipInflate=r,this.config=t,this.socketLoop=new f.PromiseRetryLoop({name:"MainSocketLoop",code:I,timer:{jitter:.1,max:t.maxSocketLoopWaitTime,algo:{type:"fibonacci",first:1e4,second:1e4},relativeDelay:!0},resetDelay:3e4})}filterPending(e){const t=[];function r(r){e(r)&&t.push(r)}return this.pendingIqs.forEach(r),this.ackHandlers.forEach(r),this.pendingSmaxStanzas.forEach(r),t}sendPendingStanza(e){const{timeoutId:t}=e;null!=t&&(clearTimeout(t),e.timeoutId=void 0),this.callStanza(e.stanza)}maybeSendPendingStanza(e){this.socket?this.sendPendingStanza(e):__LOG__(2)`Comms has no open socket, will resend stanza when socket opens`}callStanzaAsync(e){var t=this;return(0,s.default)((function*(){return yield t.callStanza(e)}))()}callStanza(e){const t=this.castStanza(e);return this.deadSocketTimer.onOrBefore(this.config.deadSocketTime,this.socketId),this.healthCheckTimer.cancel(),t}castStanzaAsync(e){var t=this;return(0,s.default)((function*(){return yield t.castStanza(e)}))()}castStanza(e){try{var t,r;const n=null===(t=(r=this.config.handlers).onBeforeCastStanzaForE2E)||void 0===t?void 0:t.call(r,e);if(null!=n)return this.handleStanza(n,this.socketId,0),__LOG__(4,void 0,new Error)`Dropping stanza since onBeforeCastStanza matched. (This is not expected in a non-E2E build!)`,Promise.resolve()}catch(e){}const n=this.socketOrThrow("castStanza");try{return n.sendFrame((0,b.encodeStanza)(e)).then((()=>{var t,r;null===(t=(r=this.config.handlers).onCastStanza)||void 0===t||t.call(r,e)})).catch((e=>{if(__LOG__(4,void 0,new Error)`castStanza async error ${e}`,e instanceof u.BufferTooLargeError)return Promise.reject(e)}))}catch(e){__LOG__(4,void 0,new Error)`castStanza error ${e}`}return Promise.resolve()}socketOrThrow(e){const t=this.socket;if(t)return t;throw(0,c.default)(`Comms.${e} called while no socket`)}startHandlingRequests(){return __LOG__(2)`Comms.startHandlingRequests`,this._recvBlocker.resolve(),this._recvBlocker.promise.then((()=>{}))}parseAndHandleStanza(e,t){e===this.socketId&&(this.deadSocketTimer.cancel(),w&&(w.resolve(),w=null));const r=(0,b.decodeStanza)(t,this.gzipInflate).catch((e=>{throw __LOG__(4,void 0,new Error)`Failure parsing stanza!`,e})).then((r=>{var n,i;null===(n=(i=this.config.handlers).onHandleStanza)||void 0===n||n.call(i,r,e,t.byteLength);const s=this.activePing;return s&&s.socketId===e&&s.stanzaId===R(r)?(this.activePing=null,s.handler.resolve(r),this.maybeScheduleHealthCheck(),"NO_ACK"):this.handleStanza(r,e,t.byteLength)})).then((t=>{if(e===this.socketId){if("CLOSE_SOCKET"===t){__LOG__(2)`Comms: job response is CLOSE_SOCKET`;const e=this.socket;e&&e.close()}else"NO_ACK"===t||this.castStanza(t);return"NO_ACK"}}));this._pending.add(r),r.finally((()=>{this._pending.delete(r)}))}handleAck(e){const t=this.ackHandlers;let r=-1,n=null;for(;!n&&++r<t.length;)n=t[r].parseAndTest(e);if(n){var i,s;const a=t[r];(0,o.removeIndexWithoutPreservingOrder)(t,r),null===(i=(s=this.config.handlers).onHandleAck)||void 0===i||i.call(s,e),a.resolve(n),this.maybeScheduleHealthCheck()}else __LOG__(3)`handleAck: unrecognized ${e}`}removeHandler(e){if("iq"===e.type||"smax"===e.type){const t=e.stanza.attrs.id;if(!t||"string"!=typeof t)return;if("iq"===e.type&&!this.pendingIqs.delete(t)||"smax"===e.type&&!this.pendingSmaxStanzas.delete(t))return}else{e.type;const t=this.ackHandlers.indexOf(e);if(-1===t)return;(0,o.removeIndexWithoutPreservingOrder)(this.ackHandlers,t)}e.resolve(Promise.reject(new u.Disconnected))}maybeScheduleHealthCheck(){if(this.healthCheckTimer.isScheduled())return;if(this.activePing||this.ackHandlers.length||this.pendingIqs.size||this.pendingSmaxStanzas.size)return;const e=this.config.healthCheckInterval,t=Math.ceil(1e3*e*(1+Math.random()));this.healthCheckTimer.onOrBefore(t)}}function T(){k("openSocketLoop").socketLoop.start()}function j(){var e;return!!(null===(e=S)||void 0===e?void 0:e.socket)}function I(){var e,t;const r=k("socketLoopIteration"),n=r.nextSocketId++;return __LOG__(2)`Comms: Socket ${n} opening`,null===(e=(t=r.config.handlers).onSocketLoopIteration)||void 0===e||e.call(t),r.config.openChatSocket((()=>{r.onConnectionChange("in_handshake")})).then((0,p.onResult)((e=>{var t,i,s,a;null===(t=(i=r.config.handlers).onSocketOpen)||void 0===t||t.call(i);const o=new h.Resolvable;return __LOG__(2)`Comms: Socket ${n} opened`,r.socketId=n,r.socket=e,r.softCloseSocket=()=>{r.softCloseSocket=null,r.socket&&r.config.shouldCloseStaleSocket&&(r.socket.close(),r.socket=null),o.resolve()},r.socketLoop.resetTimeoutAfter(1e4),r.deadSocketTimer.cancel(),r.maybeScheduleHealthCheck(),e.setOnFrame((e=>r.parseAndHandleStanza(n,e))),e.setOnClose((()=>{var e,t;__LOG__(2)`Comms: Socket ${n} closed`,r.activePing&&n===r.activePing.socketId&&(r.activePing.handler.resolve(),r.activePing=null),r.filterPending((e=>e.attachedToSocketId===n)).forEach((e=>{r.removeHandler(e)})),n===r.socketId&&(r.socketId=0,r.socket=null,r.onConnectionChange("disconnected"),null===(e=(t=r.config.handlers).onDisconnect)||void 0===e||e.call(t),o.resolve())})),r.onConnectionChange("connected"),null===(s=(a=r.config.handlers).onConnect)||void 0===s||s.call(a),r.filterPending((e=>!e.attachedToSocketId)).sort(((e,t)=>e.orderedId-t.orderedId)).forEach((e=>{switch(e.type){case"smax":case"iq":r.sendPendingStanza(e);break;case"ack":r.callStanza(e.stanza);break;default:e.type}})),o.promise}))).then((0,p.catchError)((e=>{switch(e){case"max-hunters":__LOG__(3)`socketLoopIteration socket closed while in noise handshake using treasureHunt strategy`;break;case"disconnected":__LOG__(3)`socketLoopIteration socket disconnected while in noise handshake`}}))).catch((e=>{e instanceof u.Disconnected?__LOG__(2)`socketLoopIteration socket closed while in noise handshake`:__LOG__(4,void 0,new Error)`socketLoopIteration failed ${e}`}))}function P(e,t){return new Promise((r=>{const n=k("deprecatedSendStanzaAndWaitForAck"),i={type:"ack",parseAndTest:e=>{const r=a.AckParser.parse(e);return!r.error&&(0,a.ackMatchesTemplate)(r.success,t)?e:null},resolve:r,stanza:e,attachedToSocketId:0,orderedId:E++};n.ackHandlers.push(i),n.socket?n.callStanza(e).catch((e=>{const t=n.ackHandlers.indexOf(i);-1!==t&&((0,o.removeIndexWithoutPreservingOrder)(n.ackHandlers,t),i.resolve(Promise.reject(e)))})):__LOG__(2)`Comms has no open socket, will send stanza when socket opens`}))}function O(e){const t=k("castStanza");t.socket?t.castStanza(e):__LOG__(2)`Comms has no open socket`}function U(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"iq";return new Promise((s=>{const a=k("sendIq"),o=e.attrs.id;if(!o||"string"!=typeof o)throw(0,c.default)(`Comms:sendIq given iq without id: ${String(e)}`);const l=a.socketId;if(t&&!l)return void s(Promise.reject(new u.Offline));let d;r>0&&(d=setTimeout((()=>{const e="iq"===n?a.pendingIqs.get(o):a.pendingSmaxStanzas.get(o);e?a.removeHandler(e):s(Promise.reject((0,c.default)(`Comms:_sendIq unexisting stanza to be cancelled: ${o}`)))}),1e3*r));const f={resolve:s,stanza:e,attachedToSocketId:t?l:0,orderedId:E++,timeoutId:d};if("iq"===n){var h,p;const t=(0,i.default)({type:n},f);a.pendingIqs.set(o,t),null===(h=(p=a.config.handlers).onSendIq)||void 0===h||h.call(p,e),a.maybeSendPendingStanza(t)}else{const e=(0,i.default)({type:n},f);a.pendingSmaxStanzas.set(o,e),a.maybeSendPendingStanza(e)}}))}function k(e){if(S)return S;throw(0,c.default)(`Comms::${e} called before startComms`)}function R(e){if("iq"===e.tag){const t=e.attrs.type;if("result"===t||"error"===t)return(0,b.decodeAsString)(e.attrs.id)||null}return null}},5584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyConnectionChangeFactory=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3;const n={timeoutID:null,connectionStatus:"disconnected",optimismLevel:"optimist"},i=()=>{const{optimismLevel:e,connectionStatus:i}=n;"optimist"===e?n.timeoutID=setTimeout((()=>{n.optimismLevel="realist",t(i)}),r):t(i)};return r=>{n.connectionStatus=r,"disconnected"===r||"in_handshake"===r?i():(null!=n.timeoutID&&(clearTimeout(n.timeoutID),n.timeoutID=null),t(r)),e(r)}}},6581:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.XmppParsingFailure=t.ParsableWapNode=void 0;var i=r(9323),s=n(r(2065)),a=r(4037),o=r(1330),c=r(8481),u=r(717),l=r(9987),d=r(780),f=r(3486);class h extends Error{constructor(e,t){super(`XmppParsingFailure: ${e}: ${t}`),this.name="XmppParsingFailure",this.parser=e,this.reason=t}toString(){return`XmppParsingFailure: ${this.parser}: ${this.reason}`}}t.XmppParsingFailure=h;class p extends c.ParsableXmlNode{constructor(e,t){super(e,t)}assertFromServer(){const e=this.attrString("from");e!==a.WA_SERVER_JID_SUFFIX&&this.throw(`to have "from"="s.whatsapp.net", but instead has "${e}"`)}attrUserJid(e){const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return null==r.userJid?this.throw(`to have "${e}"={UserJid}, but instead has "${t}"`):r.userJid}attrPhoneUserJid(e){const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return"phoneUser"===r.jidType?r.userJid:this.throw(`to have "${e}"={PhoneUserJid}, but instead has "${t}"`)}attrLidUserJid(e){const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return"lidUser"===r.jidType?r.userJid:this.throw(`to have "${e}"={LidUserJid}, but instead has "${t}"`)}maybeAttrUserJid(e){return this.hasAttr(e)?this.attrUserJid(e):null}maybeAttrPhoneUserJid(e){return this.hasAttr(e)?this.attrPhoneUserJid(e):null}maybeAttrLidUserJid(e){return this.hasAttr(e)?this.attrLidUserJid(e):null}attrGroupJid(e){const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return null==r.groupJid?this.throw(`to have "${e}"={GroupJid}, but instead has "${t}"`):r.groupJid}maybeAttrGroupJid(e){return this.hasAttr(e)?this.attrGroupJid(e):null}attrChatJid(e){const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return null!=r.userJid?r.userJid:null!=r.groupJid?r.groupJid:this.throw(`to have "${e}"={ChatJid}, but instead has "${t}"`)}attrPhoneChatJid(e){const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return"phoneUser"===r.jidType?r.userJid:"group"===r.jidType?r.groupJid:this.throw(`to have "${e}"={ChatJid}, but instead has "${t}"`)}attrDeviceJid(e){const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return null!=r.deviceJid?r.deviceJid:null!=r.userJid?(0,a.defaultDeviceJidForUser)(r.userJid):this.throw(`to have "${e}"={DeviceJid}, but instead has "${t}"`)}attrPhoneDeviceJid(e){const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return"phoneDevice"===r.jidType?r.deviceJid:"phoneUser"===r.jidType?(0,a.defaultPhoneDeviceJidForUser)(r.userJid):this.throw(`to have "${e}"={DeviceJid}, but instead has "${t}"`)}attrDeviceId(e){const t=this.attrInt(e);return(0,a.interpretAsDeviceId)(t)}attrFromJidChat(){const e=this.attrJidWithType();switch(e.jidType){case"msgrUser":{const t=e.userJid,r=(0,a.defaultDeviceJidForUser)(t);return{type:"device",chat:t,deviceJid:r,author:r}}case"phoneUser":{const t=e.userJid,r=(0,a.defaultDeviceJidForUser)(t);return{type:"device",chat:t,deviceJid:r,author:r}}case"lidUser":{const t=e.userJid,r=(0,a.defaultLidDeviceJidForLidUserJid)(t);return{type:"device",chat:t,deviceJid:r,author:r}}case"phoneDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractUserJid)(t),deviceJid:t,author:t}}case"msgrDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractUserJid)(t),deviceJid:t,author:t}}case"lidDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractUserJid)(t),deviceJid:t,author:t}}case"group":{const t=this.hasAttr("participant")?this.attrDeviceJid("participant"):null;return null==t?this.throw("expected to have participant JID for group"):{type:"group",chat:e.groupJid,groupJid:e.groupJid,author:t}}case"broadcast":{const t=this.hasAttr("participant")?this.attrDeviceJid("participant"):null;return null==t?this.throw("expected to have participant JID for group"):{type:"broadcast",broadcastJid:e.broadcastJid,chat:(0,a.extractUserJid)(t),author:t}}case"call":throw __LOG__(4,void 0,new Error)`ParsableWapNode: attrFromJid() is called with ${e.callJid}`,(0,s.default)("ParsableWapNode: attrFromJid() does not support CallJid");default:return e.jidType,this.throw(`attrFromJidChat should not be used with jid of type ${e.jidType}`)}}attrFromJidPhoneChat(){const e=this.attrJidWithType();switch(e.jidType){case"phoneUser":{const t=e.userJid,r=(0,a.defaultPhoneDeviceJidForUser)(t);return{type:"device",chat:t,deviceJid:r,author:r}}case"phoneDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractPhoneUserJid)(t),deviceJid:t,author:t}}case"group":{const t=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return null==t?this.throw("expected to have participant JID for group"):{type:"group",chat:e.groupJid,groupJid:e.groupJid,author:t}}case"broadcast":{const t=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return null==t?this.throw("expected to have participant JID for group"):{type:"broadcast",broadcastJid:e.broadcastJid,chat:(0,a.extractPhoneUserJid)(t),author:t}}case"call":throw __LOG__(4,void 0,new Error)`ParsableWapNode: attrFromJid() is called with ${e.callJid}`,(0,s.default)("ParsableWapNode: attrFromJid() does not support CallJid");default:return e.jidType,this.throw(`attrFromJidChat should not be used with jid of type ${e.jidType}`)}}attrFromPhoneJid(){if("status"===this.attrJidWithType().jidType){const e=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return null==e?this.throw("to have participant for status msg"):{type:"status",author:e}}return this.attrFromJidPhoneChat()}attrFromJid(){const e=this.attrJidWithType();if("status"===e.jidType){const e=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return null==e?this.throw("to have participant for status msg"):{type:"status",author:e}}return"newsletter"===e.jidType?{type:"newsletter",newsletterJid:e.newsletterJid}:this.attrFromJidChat()}attrJidWithType(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"from";const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return"unknown"===r.jidType?this.throw(`to have "${e}"={Jid}, but instead has "${t}"`):r}attrWapJid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"from";const t=this.attrString(e),r=(0,a.interpretAndValidateJid)(t);return"unknown"===r.jidType?f.WapJid.create(null,t):(0,d.JID)((0,a.extractFromJid)(r))}attrLongInt(e){const t=this.attrString(e);return(0,o.decimalStringToLongInt)(t)}attrTime(e){return(0,l.castToUnixTime)(this.attrInt(e))}attrFutureTime(e){const t=this.attrInt(e);return(0,l.futureUnixTime)(t)}contentString(){if(this.hasChildren())return this.throw("to have string content, but has children instead");if(this.hasContent()){const e=new i.Binary(this.contentBytes());return e.readString(e.size())}return this.throw("to have content")}decodeAsString(e){return(0,d.decodeAsString)(e)}contentSerializedPubKey(){return this.hasContent()?(0,u.serializeIdentity)(this.contentBytes()):this.throw("to have content")}createParseError(e){return new h(this.name(),`expected <${this.tag()}> ${e}`)}throw(e){throw this.createParseError(e)}}t.ParsableWapNode=p},2827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIqResponse=function(e,t,r){const s=e.content;if(s&&Array.isArray(s)&&s[0]){const t=s[0];if("error"===t.tag){const s=t.attrs||{};let a;r&&(a="function"==typeof r?r(e):r.parseOrThrow(t));const o=a;return{success:!1,errorCode:parseInt(s.code,10),errorText:(0,n.decodeAsString)(s.text)||"",errorType:(0,n.decodeAsString)(s.type)||"",errorBackoff:parseInt(s.backoff,10),toString:i,customError:o}}}return"function"==typeof t?{success:!0,result:t(e)}:{success:!0,result:t.parseOrThrow(e)}};var n=r(780);function i(){return`IqError ${this.errorCode}: ${this.errorText}`}},780:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.BIG_ENDIAN_CONTENT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=e;const n=new Uint8Array(t);for(let e=t-1;e>=0;e--)n[e]=255&r,r>>>=8;return n},t.BROADCAST_JID=function(e){return H(e)},t.CALL_JID=function(e){return H(e)},t.CUSTOM_STRING=function(e){return e},t.DEVICE_JID=function(e){return H(e)},t.DOMAIN_JID=V,t.DROP_ATTR=void 0,t.GROUP_JID=function(e){return H(e)},t.G_US=void 0,t.INT=function(e){return e.toString()},t.JID=H,t.LONG_INT=function(e){return(0,c.longIntToDecimalString)(e)},t.MAYBE_CUSTOM_STRING=function(e){if(null==e)return E;return e},t.NEWSLETTER=void 0,t.NEWSLETTER_JID=function(e){return H(e)},t.PARTICIPANT_JID=function(e){return"status"===e.type||"group"===e.type||"broadcast"===e.type?H(e.author):E},t.STANZA_ID=function(e){return e},t.S_WHATSAPP_NET=t.STATUS_BROADCAST=void 0,t.TO_JID=function(e){return H(q(e))},t.TO_WAP_JID=function(e){return"phoneDevice"===e.jidType||"msgrDevice"===e.jidType||"lidDevice"===e.jidType?H(e.deviceJid):"phoneUser"===e.jidType||"msgrUser"===e.jidType||"lidUser"===e.jidType?H(e.userJid):"group"===e.jidType?H(e.groupJid):"status"===e.jidType?H(e.statusJid):"call"===e.jidType?H(e.callJid):"newsletter"===e.jidType?H(e.newsletterJid):(e.jidType,H(e.broadcastJid))},t.USER_JID=function(e){return H(e)},t.WapNode=void 0,t.decodeAsString=function(e){if(e instanceof l.WapJid)return e.toString();return e},t.decodeStanza=function(e,t){const r=new s.Binary(e);if(2&r.readUint8())return __LOG__(2)`Decoding compressed stanza`,t(r.readByteArray()).then((e=>Y(new s.Binary(e))));return Promise.resolve(Y(r))},t.enableXMLFormat=function(){O=!0},t.encodeStanza=function(e){const t=e instanceof U?e:x(e),r=new s.Binary;M(t,r);const n=r.readByteArray(),i=new Uint8Array(1+n.length);return i[0]=0,i.set(n,1),i},t.extractParticipantJid=function(e){switch(e.type){case"group":case"status":case"broadcast":return e.author;default:return e.type,null}},t.extractToJid=q,t.generateId=function(){if(!S){const e=new Uint16Array(2);self.crypto.getRandomValues(e),S=`${String(e[0])}.${String(e[1])}-`}return`${S}${w++}`},t.makeStanza=x,t.makeWapNode=k,t.wap=void 0;var i=n(r(7537)),s=r(9323),a=n(r(2065)),o=r(4037),c=r(1330),u=r(4493),l=r(3486),d=n(r(8132)),f=r(3260);const h=o.MSGR_USER_DOMAIN.replace("@",""),p=o.WA_USER_DOMAIN.replace("@",""),_=o.LID_DOMAIN.replace("@",""),y=[236,237,238,239],v=248,m=249,g=["0","1","2","3","4","5","6","7","8","9","-",".","�","�","�","�"],b=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];let S="",w=1;const E={sentinel:"DROP_ATTR"};t.DROP_ATTR=E;const A=l.WapJid.create(null,"g.us");t.G_US=A;const T=l.WapJid.create(null,o.WA_SERVER_JID_SUFFIX);t.S_WHATSAPP_NET=T;const j=l.WapJid.create("status","broadcast");t.STATUS_BROADCAST=j;const I=l.WapJid.create(null,"newsletter");t.NEWSLETTER=I;const P={};let O=!1;class U{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.tag=e,this.attrs=t,this.content=r}toString(){let e="<"+this.tag;e+=(0,f.attrsToString)(this.attrs);const t=this.content;return Array.isArray(t)?e+=`>${t.map(String).join("")}</${this.tag}>`:e+=t?`>${(0,f.uint8ArrayToDebugString)(t)}</${this.tag}>`:" />",O&&(e=(0,d.default)(e)),e}}function k(e,t,r){let n=null;if(t&&null!=t.children)throw(0,a.default)('Children should not be passed via props (see eslint check "react/no-children-props")');if(Array.isArray(r))n=r.filter(Boolean);else if("string"==typeof r)n=s.Binary.build(r).readByteArray();else if(r instanceof ArrayBuffer)n=new Uint8Array(r);else if(r instanceof Uint8Array)n=r;else{const e=[];for(let t=2;t<arguments.length;t++){const r=arguments[t];r&&e.push(r)}n=e}Array.isArray(n)&&0===n.length&&(n=null);const i={};if(t){const r=t;Object.keys(r).forEach((t=>{const n=r[t];if(null==n)throw(0,a.default)(`Attr ${t} in <${e}> is null`);n!==E&&(i[t]=n)}))}return new U(e,i,n)}t.WapNode=U;const R=k;function x(e){let t=e.content;return Array.isArray(t)?t=t.map(x):"string"==typeof t&&(t=s.Binary.build(t).readByteArray()),new U(e.tag,e.attrs||P,t)}function M(e,t){if(null==e)t.writeUint8(0);else if(e instanceof U)D(e,t);else if(e instanceof l.WapJid)!function(e,t){const r=e.getInnerJid();if(r.type===l.WAP_JID_SUBTYPE.JID_U){const{user:e,device:n,domainType:i}=r;t.writeUint8(247),t.writeUint8(i),t.writeUint8(n),M(e,t)}else if(r.type===l.WAP_JID_SUBTYPE.JID_FB){const{user:e,device:n}=r;t.writeUint8(246),M(e,t),t.writeUint16(n),M(p,t)}else{const{user:e,server:n}=r;t.writeUint8(250),null!=e?M(e,t):t.writeUint8(0),M(n,t)}}(e,t);else if("string"==typeof e)J(e,t);else{if(!(e instanceof Uint8Array))throw(0,a.default)("Invalid payload type "+typeof e);!function(e,t){B(e.length,t),t.writeByteArray(e)}(e,t)}}function D(e,t){if(void 0===e.tag)return t.writeUint8(v),void t.writeUint8(0);let r=1;e.attrs&&(r+=2*Object.keys(e.attrs).length),e.content&&r++,r<256?(t.writeUint8(v),t.writeUint8(r)):r<65536&&(t.writeUint8(m),t.writeUint16(r)),M(e.tag,t),e.attrs&&Object.keys(e.attrs).forEach((r=>{J(r,t),M(e.attrs[r],t)}));const n=e.content;if(Array.isArray(n)){n.length<256?(t.writeUint8(v),t.writeUint8(n.length)):n.length<65536&&(t.writeUint8(m),t.writeUint16(n.length));for(let e=0;e<n.length;e++)D(n[e],t)}else n&&M(n,t)}let L,$;function C(e){const t=new Map;for(let r=0;r<e.length;r++)t.set(e[r],r);return t}function J(e,t){if(""===e)return t.writeUint8(252),void t.writeUint8(0);null==L&&(L=C(u.SINGLE_BYTE_TOKEN));const r=L.get(e);if(null!=r)return void t.writeUint8(r+1);if(null==$){$=[];for(let e=0;e<u.DICTIONARIES.length;++e)$.push(C(u.DICTIONARIES[e]))}for(let r=0;r<$.length;++r){const n=$[r].get(e);if(null!=n)return t.writeUint8(y[r]),void t.writeUint8(n)}const n=(0,s.numUtf8Bytes)(e);if(n<128){if(!/[^0-9.-]+?/.exec(e))return void N(e,255,t);if(!/[^0-9A-F]+?/.exec(e))return void N(e,251,t)}B(n,t),t.writeString(e)}function N(e,t,r){const n=e.length%2==1;r.writeUint8(t);let i=Math.ceil(e.length/2);n&&(i|=128),r.writeUint8(i);let s=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);let o=null;if(48<=i&&i<=57?o=i-48:255===t?45===i?o=10:46===i&&(o=11):251===t&&65<=i&&i<=70&&(o=i-55),null==o)throw(0,a.default)(`Cannot nibble encode ${i}`);n%2==0?(s=o<<4,n===e.length-1&&(s|=15,r.writeUint8(s))):(s|=o,r.writeUint8(s))}}function B(e,t){if(e<256)t.writeUint8(252),t.writeUint8(e);else if(e<1048576)t.writeUint8(253),t.writeUint8(e>>>16&255),t.writeUint8(e>>>8&255),t.writeUint8(255&e);else{if(!(e<4294967296))throw(0,a.default)(`Binary with length ${e} is too big for WAP protocol`);t.writeUint8(254),t.writeUint32(e)}}function F(e,t){const r=e.readUint8();if(0===r)return null;if(r===v)return K(e,e.readUint8());if(r===m)return K(e,e.readUint16());if(252===r){const r=e.readUint8();return z(e,r,t)}if(253===r){const r=e.readUint8(),n=e.readUint8(),i=e.readUint8();return z(e,((15&r)<<16)+(n<<8)+i,t)}if(254===r){const r=e.readUint32();return z(e,r,t)}if(250===r)return function(e){const t=function(e){const t=F(e,!0);if(null!=t&&"string"!=typeof t)throw(0,a.default)("WAWap:decodeNullableString got invalid value, string expected");return t}(e),r=W(e);return l.WapJid.create(t,r)}(e);if(246===r)return function(e){const t=W(e),r=e.readUint16();return W(e),l.WapJid.createFbJid(t,r)}(e);if(247===r)return function(e){let t=null;const r=e.readUint8();if(0===r)t=l.DomainType.WHATSAPP;else{if(1!==r)throw(0,a.default)(`decodeJidU - Invalid domain type encoding ${r}`);t=l.DomainType.LID}const n=e.readUint8(),i=W(e);return l.WapJid.createJidU(i,t,n)}(e);if(255===r){const t=e.readUint8();return G(e,g,t>>>7,127&t)}if(251===r){const t=e.readUint8();return G(e,b,t>>>7,127&t)}if(r<=0||r>=240)throw(0,a.default)("Unable to decode WAP buffer");if(r>=236&&r<=239){const t=r-236,n=u.DICTIONARIES[t];if(void 0===n)throw(0,a.default)(`Missing WAP dictionary ${t}`);const i=e.readUint8(),s=n[i];if(void 0===s)throw(0,a.default)(`Invalid value index ${i} in dict ${t}`);return s}const n=u.SINGLE_BYTE_TOKEN[r-1];if(void 0===n)throw(0,a.default)(`Undefined token with index ${r}`);return n}function K(e,t){const r=[];for(let n=0;n<t;n++)r.push(Y(e));return r}function Y(e){const t=e.readUint8();let r,n;if(t===v)r=e.readUint8();else{if(t!==m)throw(0,a.default)(`Failed to decode node since type byte ${String(t)} is invalid`);r=e.readUint16()}let i=null;if(0===r)throw(0,a.default)("Failed to decode node, list cannot be empty");const s=W(e);for(r-=1;r>1;){n||(n={});const t=W(e),i=F(e,!0);n[t]=i,r-=2}return 1===r&&(i=F(e,!1),i instanceof l.WapJid&&(i=String(i))),new U(s,n,i)}function W(e){const t=F(e,!0);if("string"!=typeof t)throw(0,a.default)("WAWap:decodeString got invalid value, string expected");return t}function z(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r?e.readString(t):e.readByteArray(t)}function G(e,t,r,n){const i=new Array(2*n-r);for(let r=0;r<i.length-1;r+=2){const n=e.readUint8();i[r]=t[n>>>4],i[r+1]=t[15&n]}if(r){const r=e.readUint8();i[i.length-1]=t[r>>>4]}return i.join("")}function q(e){switch(e.type){case"group":return e.groupJid;case"status":return o.STATUS_JID;case"device":return e.deviceJid;case"newsletter":return e.newsletterJid;default:return e.type,e.broadcastJid}}function H(e){const t=(0,o.validateDomainJid)(e);if(null!=t)return V(t);const r=e.split("@");let n=r[0];const i=r[1];let s=null,a=null;if(i!==p&&i!==h&&i!==_||-1!==n.indexOf(":")&&([n,s]=n.split(":"),a=parseInt(s,10)),i===h)return l.WapJid.createFbJid(n,a);const c=i===_?l.DomainType.LID:l.DomainType.WHATSAPP;return null!=a&&0!==a?l.WapJid.createJidU(n,c,a):l.WapJid.create(n,i)}function V(e){return"s.whatsapp.net"===e?T:"g.us"===e?A:"newsletter"===e?I:(0,i.default)(e)}t.wap=R},3486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WapJid=t.WAP_JID_SUBTYPE=t.DomainType=void 0;var n=r(4037);const i={JID:0,JID_U:1,JID_AD:1,JID_FB:3};t.WAP_JID_SUBTYPE=i;const s=r(4302)({WHATSAPP:0,LID:1});t.DomainType=s;class a{constructor(e){this._jid=e}static createAD(e,t,r){return new a({type:i.JID_AD,user:e,device:null==r?0:r,agent:null==t?0:t,domainType:s.WHATSAPP})}static createJidU(e,t,r){return new a({type:i.JID_U,user:e,device:null==r?0:r,domainType:null==t?s.WHATSAPP:t})}static createFbJid(e,t){return new a({type:i.JID_FB,user:e,device:null==t?0:t})}static create(e,t){return new a({type:i.JID,user:e,server:t})}toString(){if(this._jid.type===i.JID_AD||this._jid.type===i.JID_U){const{user:e,device:t,domainType:r}=this._jid,i=r===s.WHATSAPP?n.WA_USER_JID_SUFFIX:n.LID_SUFFIX;return 0===t?`${e}@${i}`:`${e}:${t}@${i}`}if(this._jid.type===i.JID_FB){const{user:e,device:t}=this._jid;return`${e}:${t}@${n.MSGR_USER_JID_SUFFIX}`}{this._jid.type;const{user:e,server:t}=this._jid;return null!=e?`${e}@${t}`:t}}getInnerJid(){return this._jid}}t.WapJid=a},8748:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.WapParser=void 0;var i=n(r(2065)),s=r(6581);t.WapParser=class{constructor(e,t){this._name=e,this._parser=t}parse(e){const t=new s.ParsableWapNode(this._name,e);try{return{success:this._parser(t)}}catch(e){if(e instanceof s.XmppParsingFailure)return{error:e};throw e}}parseOrThrow(e){const t=this.parse(e);if(t.error)throw(0,i.default)(String(t.error));return t.success}}},3417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toStanzaId=function(e){return e}},8397:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.expand=c,t.extractAndExpand=function(e,t,r){return(0,s.extractSha256)(null,e).then((e=>c(new Uint8Array(e),t,r)))},t.extractWithSaltAndExpand=function(e,t,r,n){return(0,s.extractSha256)(t,e).then((e=>c(new Uint8Array(e),r,n)))};var i=r(9323),s=r(3155),a=n(r(2065));const o=255*s.SHA256_BYTE_LENGTH;function c(e,t,r){if(r<0||r>o)return Promise.reject((0,a.default)(`HKDF::expand given bad length ${r}`));let n;const c=Math.ceil(r/s.SHA256_BYTE_LENGTH),u=i.Binary.build(t).readByteArray(),l=new i.Binary;let d=(0,s.encodeKeySha256)(e).then((e=>(n=e,new Uint8Array(0))));for(let e=1;e<=c;e++)d=d.then((t=>(0,s.sign)(n,i.Binary.build(t,u,e).readByteArray()))).then((e=>{const t=new Uint8Array(e);return l.writeByteArray(t),t}));return d.then((()=>l.readBuffer(r)))}},3155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA256_BYTE_LENGTH=t.DEFAULT_SALT=void 0,t.encodeKeySha256=function(e){return c(s,e)},t.extractSha256=function(e,t){return c(s,null!=e?e:i).then((e=>u(e,t)))},t.hmacSha1=function(e,t,r){return c(o,e).then((e=>u(e,t,r)))},t.hmacSha256=function(e,t,r){return c(s,e).then((e=>u(e,t,r)))},t.hmacSha512=function(e,t,r){return c(a,e).then((e=>u(e,t,r)))},t.sign=u;var n=r(29);t.SHA256_BYTE_LENGTH=32;const i=new Uint8Array(32);t.DEFAULT_SALT=i;const s={name:"HMAC",hash:"SHA-256"},a={name:"HMAC",hash:"SHA-512"},o={name:"HMAC",hash:"SHA-1"};function c(e,t){const r=(0,n.castTypedArrays)(Uint8Array,t);return self.crypto.subtle.importKey("raw",r,e,!1,["sign"]).then((t=>({key:t,algo:e})))}function u(e,t,r){let{key:n,algo:i}=e;return self.crypto.subtle.sign(i,n,t).then((e=>null!=r&&0!==r?e.slice(0,r):e))}},3596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hash",{enumerable:!0,get:function(){return n.hash}}),t.lowlevel=t.keypairFromSecretKey=t.keyPair=void 0,Object.defineProperty(t,"scalarMult",{enumerable:!0,get:function(){return n.scalarMult}}),t.signDetachedVerify=void 0,Object.defineProperty(t,"verify",{enumerable:!0,get:function(){return n.verify}});var n=r(4462);const i={scalarbase:n.lowlevel.scalarbase,crypto_hash:n.lowlevel.crypto_hash,modL:n.lowlevel.modL,pack25519:n.lowlevel.pack25519,S:n.lowlevel.S,M:n.lowlevel.M,A:n.lowlevel.A,Z:n.lowlevel.Z,D:n.lowlevel.D,unpack25519:n.lowlevel.unpack25519,pow2523:n.lowlevel.pow2523,crypto_verify_32:n.lowlevel.crypto_verify_32,set25519:n.lowlevel.set25519,add:n.lowlevel.add,scalarmult:n.lowlevel.scalarmult};t.lowlevel=i;const s=n.box.keyPair.fromSecretKey;t.keypairFromSecretKey=s;const a=n.box.keyPair;t.keyPair=a;const o=n.sign.detached.verify;t.signDetachedVerify=o},9093:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBuffersEqual=function(e,t){return a(new Uint8Array(e),new Uint8Array(t))},t.randomNumberLessThan=function(e){if(e!==(0|e))throw(0,s.default)("bound must be int32");if(e<=0)throw(0,s.default)("bound must not be positive");const t=new Int32Array(1),r=e*Math.floor((-1>>>1)/e);let n=-1;for(;-1===n;){self.crypto.getRandomValues(t);const i=t[0]>>>1;i<r&&(n=i%e)}return n},t.rawKeysEqual=function(e,t){return 0===e.length&&0===t.length||(0,i.verify)(e,t)},t.serializedPubKeysEqual=function(e,t){return 0===e.length&&0===t.length||(0,i.verify)(e,t)},t.uint8ArraysEqual=a;var i=r(3596),s=n(r(2065));function a(e,t){return 0===e.length&&0===t.length||(0,i.verify)(e,t)}},479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignedPreKeyRecordStructureSpec=t.SessionStructureSpec=t.SenderSigningKeySpec=t.SenderMessageKeySpec=t.SenderKeyStateStructureSpec=t.SenderKeyRecordStructureSpec=t.SenderChainKeySpec=t.RecordStructureSpec=t.PreKeyRecordStructureSpec=t.PendingPreKeySpec=t.PendingKeyExchangeSpec=t.MessageKeySpec=t.IdentityKeyPairStructureSpec=t.ChainSpec=t.ChainKeySpec=void 0;var n=r(6154);const i={};t.SessionStructureSpec=i;const s={};t.PendingPreKeySpec=s;const a={};t.PendingKeyExchangeSpec=a;const o={};t.ChainSpec=o;const c={};t.MessageKeySpec=c;const u={};t.ChainKeySpec=u;const l={};t.RecordStructureSpec=l;const d={};t.PreKeyRecordStructureSpec=d;const f={};t.SignedPreKeyRecordStructureSpec=f;const h={};t.IdentityKeyPairStructureSpec=h;const p={};t.SenderKeyStateStructureSpec=p;const _={};t.SenderSigningKeySpec=_;const y={};t.SenderMessageKeySpec=y;const v={};t.SenderChainKeySpec=v;const m={};t.SenderKeyRecordStructureSpec=m,i.internalSpec={sessionVersion:[1,n.TYPES.UINT32],localIdentityPublic:[2,n.TYPES.BYTES],remoteIdentityPublic:[3,n.TYPES.BYTES],rootKey:[4,n.TYPES.BYTES],previousCounter:[5,n.TYPES.UINT32],senderChain:[6,n.TYPES.MESSAGE,o],receiverChains:[7,n.FLAGS.REPEATED|n.TYPES.MESSAGE,o],pendingKeyExchange:[8,n.TYPES.MESSAGE,a],pendingPreKey:[9,n.TYPES.MESSAGE,s],remoteRegistrationId:[10,n.TYPES.UINT32],localRegistrationId:[11,n.TYPES.UINT32],needsRefresh:[12,n.TYPES.BOOL],aliceBaseKey:[13,n.TYPES.BYTES]},s.internalSpec={preKeyId:[1,n.TYPES.UINT32],signedPreKeyId:[3,n.TYPES.INT32],baseKey:[2,n.TYPES.BYTES]},a.internalSpec={sequence:[1,n.TYPES.UINT32],localBaseKey:[2,n.TYPES.BYTES],localBaseKeyPrivate:[3,n.TYPES.BYTES],localRatchetKey:[4,n.TYPES.BYTES],localRatchetKeyPrivate:[5,n.TYPES.BYTES],localIdentityKey:[7,n.TYPES.BYTES],localIdentityKeyPrivate:[8,n.TYPES.BYTES]},o.internalSpec={senderRatchetKey:[1,n.TYPES.BYTES],senderRatchetKeyPrivate:[2,n.TYPES.BYTES],chainKey:[3,n.TYPES.MESSAGE,u],messageKeys:[4,n.FLAGS.REPEATED|n.TYPES.MESSAGE,c]},c.internalSpec={index:[1,n.TYPES.UINT32],cipherKey:[2,n.TYPES.BYTES],macKey:[3,n.TYPES.BYTES],iv:[4,n.TYPES.BYTES]},u.internalSpec={index:[1,n.TYPES.UINT32],key:[2,n.TYPES.BYTES]},l.internalSpec={currentSession:[1,n.TYPES.MESSAGE,i],previousSessions:[2,n.FLAGS.REPEATED|n.TYPES.MESSAGE,i]},d.internalSpec={id:[1,n.TYPES.UINT32],publicKey:[2,n.TYPES.BYTES],privateKey:[3,n.TYPES.BYTES]},f.internalSpec={id:[1,n.TYPES.UINT32],publicKey:[2,n.TYPES.BYTES],privateKey:[3,n.TYPES.BYTES],signature:[4,n.TYPES.BYTES],timestamp:[5,n.TYPES.FIXED64]},h.internalSpec={publicKey:[1,n.TYPES.BYTES],privateKey:[2,n.TYPES.BYTES]},p.internalSpec={senderKeyId:[1,n.TYPES.UINT32],senderChainKey:[2,n.TYPES.MESSAGE,v],senderSigningKey:[3,n.TYPES.MESSAGE,_],senderMessageKeys:[4,n.FLAGS.REPEATED|n.TYPES.MESSAGE,y]},_.internalSpec={public:[1,n.TYPES.BYTES],private:[2,n.TYPES.BYTES]},y.internalSpec={iteration:[1,n.TYPES.UINT32],seed:[2,n.TYPES.BYTES]},v.internalSpec={iteration:[1,n.TYPES.UINT32],seed:[2,n.TYPES.BYTES]},m.internalSpec={senderKeyStates:[1,n.FLAGS.REPEATED|n.TYPES.MESSAGE,p]}},2560:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbortError=t.ABORT_ERROR=void 0,t.catchAbort=function(e){return t=>{if(t.name===s)return e(t);throw t}};var n=r(6911);class i extends((0,n.customError)("AbortError")){}t.AbortError=i;const s="AbortError";t.ABORT_ERROR=s},9959:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.createPromiseTimer=function(e){const t=s(e);return function(e){return new Promise((r=>{const n=t();n>0?setTimeout(r,n,e):r(e)}))}},t.createTimer=s,t.getDelay=function(e,t){if(0===e)return 0;const r=o(t.algo);for(let t=1;t<e;t++)r();return a(t,r())};var i=n(r(2065));function s(e){const{relativeDelay:t=!1}=e;let r=null;const n=o(e.algo);return function(){const i=r;if(null==i)return r=t?Date.now():0,0;let s=a(e,n());if(t){const e=Date.now(),t=e-i;t>0&&(s=Math.max(0,s-t)),r=e}return s}}function a(e,t){let{max:r,min:n,jitter:i=.1}=e,s=t;return null!=r&&s>r&&(s=r),null!=n&&s<n&&(s=n),0!==i&&(s=Math.ceil(s*(1+i*Math.random()))),s}function o(e){switch(e.type){case"fibonacci":return function(e){let t=e.second-e.first,r=e.first-t;return function(){const e=t+r;return r=t,t=e,e}}(e);case"exponential":return function(e){const{base:t=2}=e;let r=e.first;return function(){const e=r;return r*=t,e}}(e);case"constant":return function(e){const t=e.delay;return function(){return t}}(e);case"adjust":return function(e){const{toMs:t,backoff:r}=e,n=o(r);return function(){return t(n())}}(e);default:throw(0,i.default)(`makeTimeFunc unrecognized backoff ${e.type}`)}}},5068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayMs=function(e,t){return new Promise(((r,i)=>{if(null==t?void 0:t.aborted)throw new n.AbortError;const s=setTimeout((function(){null==t||t.removeEventListener("abort",a),r()}),e);function a(){null==t||t.removeEventListener("abort",a),clearTimeout(s),i(new n.AbortError)}null==t||t.addEventListener("abort",a)}))},t.withTimeout=function(e,t,r){return new Promise(((n,i)=>{const s=setTimeout((()=>{try{n(r())}catch(e){i(e)}}),t);e.then((e=>{clearTimeout(s),n(e)}),(e=>{clearTimeout(s),i(e)}))}))};var n=r(2560)},2521:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseRetryLoop=void 0;var i=n(r(2065)),s=r(9959),a=r(5068),o=r(1630);t.PromiseRetryLoop=class{constructor(e){this._resolvable=new o.Resolvable,this._promise=null,this._resetTime=null,this._currentLoopIdentificator=0,this.endWithValue=e=>{this._currentLoopIdentificator++,this._resolvable.resolve(e)},this._options=e}resetTimeoutAfter(e){this._resetTime=Date.now()+e}cancelReset(){this._resetTime=null}reset(){this._resolvable.resolveWasCalled()||(__LOG__(2)`PromiseRetryLoop: resetting ${this._options.name}`,this._currentLoopIdentificator++,this._runLoop())}start(){this._resolvable.resolveWasCalled()||(__LOG__(2)`PromiseRetryLoop: starting ${this._options.name}`,0!==this._currentLoopIdentificator&&__LOG__(4,void 0,new Error)`PromiseRetryLoop was called several times. You may have race conditions`,this._currentLoopIdentificator++,this._runLoop())}_runLoop(){const e=this._options,t=this._currentLoopIdentificator;let r=(0,s.createTimer)(this._options.timer);r();const n=()=>{if(this._resolvable.resolveWasCalled())return;if(t!==this._currentLoopIdentificator)return;const i=Date.now();return this._promise=(0,e.code)(this.endWithValue).then((()=>{if(this._resolvable.resolveWasCalled())return;const{resetDelay:t}=e;(void 0!==t&&Date.now()>=i+t||null!=this._resetTime&&this._resetTime<=Date.now())&&(__LOG__(2)`PromiseRetryLoop: resetting ${e.name}`,r=(0,s.createTimer)(this._options.timer)),this._resetTime=null;const o=r();return __LOG__(2)`PromiseRetryLoop: retrying ${e.name} in ${o}ms`,(0,a.delayMs)(o).then(n)})),this._promise};this._promise=Promise.resolve().then(n)}promise(){return this._resolvable.resolveWasCalled()?this._resolvable.promise:this._promise?Promise.race([this._resolvable.promise,this._promise.then((()=>this._resolvable.promise))]):Promise.reject((0,i.default)(`PromiseRetryLoop ${this._options.name} had promise() called before start()`))}}},1630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resolvable=void 0;t.Resolvable=class{constructor(){this._resolve=()=>{},this._isResolved=!1,this.promise=new Promise((e=>{this._resolve=e}))}resolve(e){this._isResolved=!0,this._resolve(e)}reject(e){this.resolve(Promise.reject(e))}resolveWasCalled(){return this._isResolved}}},717:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_TYPE=void 0,t.castToPreKeyId=_,t.castToSerializedPubKey=y,t.castToSignedPreKeyId=function(e){return(0,o.ensureIntInRange)(e,0,u)},t.deserializePreKey=function(e){try{const{id:t,publicKey:r,privateKey:n}=(0,c.decodeProtobuf)(a.PreKeyRecordStructureSpec,e);return null==t||null==r||null==n?null:{id:_(t),keyPair:f((0,o.toBytes)(n,32),y(new Uint8Array(r)))}}catch(e){return null}},t.ecdh=function(e,t){return(0,i.scalarMult)(e,t.subarray(1)).buffer},t.makeKeyPair=d,t.makeKeyPairFrom=function(e){const{publicKey:t,secretKey:r}=(0,i.keypairFromSecretKey)(e);return l((0,o.ensureSize)(t,32),(0,o.ensureSize)(r,32))},t.makeKeyPairFromArrayBuffers=function(e,t){return{publicKey:(0,o.toBytes)(e,32),privateKey:(0,o.toBytes)(t,32)}},t.makeKeyPairFromSerialized=f,t.makePreKeys=function(e,t){let r=(e-1)%u;r<=0&&(r+=u);const n=[];for(let e=0;e<t;e++){const e=r===u?1:r+1,t=d(),i=(0,o.encodeSignalProto)(a.PreKeyRecordStructureSpec,{id:e,publicKey:p(t),privateKey:t.privateKey});n.push({plainObject:{id:e,keyPair:t},record:i}),r=e}return n},t.makeRawSenderKey=function(){const e=(0,o.makeBytes)(32);return self.crypto.getRandomValues(e),e},t.makeSerializedKeyPair=function(){const e=d();return h(e.privateKey,p(e))},t.makeSerializedKeyPairFrom=h,t.serializeIdentity=function(e){const t=(0,o.makeBytes)(33);return t[0]=5,t.set((0,o.ensureSize)(e,32),1),t},t.serializePubKey=p,t.toSerializedKeyPair=function(e){return h(e.privateKey,p(e))};var i=r(3596),s=n(r(2065)),a=r(479),o=r(1879),c=r(3955);t.KEY_TYPE=5;const u=16777215;function l(e,t){return{publicKey:e,privateKey:t}}function d(){const{publicKey:e,secretKey:t}=(0,i.keyPair)();return t[0]&=248,t[31]=64|63&t[31],l((0,o.ensureSize)(e,32),(0,o.ensureSize)(t,32))}function f(e,t){return l((0,o.sliceBytes)(t,1,32),e)}function h(e,t){return{serializedPubKey:t,privateKey:e}}function p(e){const t=(0,o.makeBytes)(33);return t[0]=5,t.set(e.publicKey,1),t}function _(e){return(0,o.ensureIntInRange)(e,1,u)}function y(e){if(0===e.length||5!==e[0])throw(0,s.default)("Unrecognized public key type");return(0,o.ensureSize)(e,33)}},1879:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.HMAC_SHA256=t.AES_CBC=void 0,t.areSessionHashesEqual=function(e,t){return(0,s.arrayBuffersEqual)(e,t)},t.castRegistrationId=function(e){return f(e)},t.castSenderKeyId=function(e){return f(e)},t.castToByteEncoded=function(e){return e},t.castToSessionHash=function(e){return e},t.decodeSignalProto=function(e,t,r){return r((0,o.decodeProtobuf)(e,t))},t.encodeSignalProto=function(e,t){return(0,c.encodeProtobuf)(e,t).readByteArray()},t.ensureIntInRange=f,t.ensureSize=d,t.hkdf=function(e,t,r,n){return(0,i.extractWithSaltAndExpand)(e,t,r,n).then((e=>new Uint8Array(e)))},t.makeBytes=function(e){return new Uint8Array(e)},t.makeCryptoKey=function(e,t){let r,n;"hmac-sha256"===t?(r=l,n=["sign"]):(r=u,n=["encrypt","decrypt"]);return self.crypto.subtle.importKey("raw",e,r,!1,n)},t.makeRegistrationId=function(e){const t="extendedRange"===e?2147483646:16380;return(0,s.randomNumberLessThan)(t)+1},t.makeSenderKeyId=function(){return(0,s.randomNumberLessThan)(-1>>>1)+1},t.readBytes=function(e,t){return e.readByteArray(t)},t.sliceBytes=function(e,t,r){if(e.length-t<r)throw(0,a.default)(`Can not split off ${r} bytes from index ${t} of ${e.length} bytes`);return e.slice(t,t+r)},t.toBuffer=function(e){const t=e.buffer,r=e.byteOffset,n=e.length;return 0===r&&n===t.byteLength?t:t.slice(r,r+n)},t.toBytes=function(e,t){return d(new Uint8Array(e),t)};var i=r(8397),s=r(9093),a=n(r(2065)),o=r(3955),c=r(4753);const u={name:"AES-CBC"};t.AES_CBC=u;const l={name:"HMAC",hash:"SHA-256"};function d(e,t){if(e.length!==t)throw(0,a.default)(`Signal expected ${t} bytes, given ${e.length}`);return e}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967296;if("number"==typeof e&&t<=e&&e<r&&Math.floor(e)===e)return e;throw(0,a.default)(`Expected integer in range [${t}, ${r}), given ${String(e)}`)}t.HMAC_SHA256=l},4080:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBufferMod=function(e,t){const r=new Uint8Array(e);if(t>8388607)throw(0,i.default)("Divisor is too big");let n=0;for(let e=0;e<r.length;++e)n=((n<<8)+r[e])%t;return n},t.arrayBufferToString=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))},t.arrayBuffersEqualUNSAFE=function(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);return s(r,n)},t.concatBuffers=function(e){const t=e.map((e=>new Uint8Array(e))),r=t.reduce(((e,t)=>e+t.byteLength),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.byteLength)),0),n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)},t.largeStringToArrayBuffer=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e5;return new Promise((r=>{const n=e.length,i=new ArrayBuffer(n),s=new Uint8Array(i);let a=0;setTimeout((function o(){const c=Math.min(a+t,n);for(;a<c;)s[a]=e.charCodeAt(a),a++;if(a===n)return void r(i);setTimeout(o,16)}),0)}))},t.stringToArrayBuffer=function(e){const t=new ArrayBuffer(e.length),r=new Uint8Array(t);let n,i;for(n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return r.buffer},t.uint8ArraysEqualUNSAFE=s;var i=n(r(2065));function s(e,t){if(e.byteLength!==t.byteLength)return!1;for(let r=0;r!==e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}},3558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeIndexWithoutPreservingOrder=function(e,t){const r=e.pop();t<e.length&&(e[t]=r)}},7537:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){throw(0,i.default)(`Impossible value, the default statement should never be reached for value: ${e}`)};var i=n(r(2065))},2089:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.BASE64_DATA_URL_SCHEME=void 0,t.decodeB64=function(e){const t=u(e,43,47,61);if(t)return t.buffer;throw(0,i.default)("Base64.decode given invalid string")},t.decodeB64ToJsArray=function(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):u(e,43,47,61);return t&&Array.from(t)},t.decodeB64UrlSafe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=u(e,45,95,t?61:-1);if(r)return r.buffer;throw(0,i.default)("Base64.decode given invalid string")},t.encodeB64=a,t.encodeB64UrlSafe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o(e,45,95,t)},t.isBase64=void 0,t.randomBase64=function(e){const t=new Uint8Array(e);return self.crypto.getRandomValues(t),a(t)},t.sizeWhenB64Decoded=function(e){return Math.floor(3*e.length/4)};var i=n(r(2065));const s=3e3;t.BASE64_DATA_URL_SCHEME="data:image/jpeg;base64,";function a(e){return o(e,43,47,!0)}function o(e,t,r,n){const i=Array.isArray(e)||e instanceof ArrayBuffer?new Uint8Array(e):e;if(i.length<=s)return c(i,t,r,n);{const e=[];for(let a=0;a<i.length;a+=s)e.push(c(i.subarray(a,a+s),t,r,n));return e.join("")}}function c(e,t,r,n){const i=Math.ceil(4*e.length/3),s=4*Math.ceil(e.length/3),a=new Array(s);for(let t=0,r=0;t<s;t+=4,r+=3){const n=e[r]<<16|e[r+1]<<8|e[r+2];a[t]=n>>18,a[t+1]=n>>12&63,a[t+2]=n>>6&63,a[t+3]=63&n}for(let e=0;e<i;e++){const n=a[e];a[e]=n<26?65+n:n<52?71+n:n<62?n-4:62===n?t:r}for(let e=i;e<s;e++)a[e]=61;const o=String.fromCharCode.apply(String,a);return n?o:o.substring(0,i)}function u(e,t,r,n){let i=e.length;const s=new Int32Array(i+i%4);for(let a=0;a<i;a++){const o=e.charCodeAt(a);if(65<=o&&o<=90)s[a]=o-65;else if(97<=o&&o<=122)s[a]=o-71;else if(48<=o&&o<=57)s[a]=o+4;else if(o===t)s[a]=62;else{if(o!==r){if(o===n){i=a;break}return null!=self.ERROR&&__LOG__(4,void 0,new Error)`Found unexpected character code while decoding B64 at index ${a}, length ${i}: ${o}`,null}s[a]=63}}const a=s.length/4;for(let e=0,t=0;e<a;e++,t+=4)s[e]=s[t]<<18|s[t+1]<<12|s[t+2]<<6|s[t+3];const o=Math.floor(3*i/4),c=new Uint8Array(o);let u=0,l=0;for(;l+3<=o;u++,l+=3){const e=s[u];c[l]=e>>16,c[l+1]=e>>8&255,c[l+2]=255&e}switch(o-l){case 2:c[l]=s[u]>>16,c[l+1]=s[u]>>8&255;break;case 1:c[l]=s[u]>>16}return c}t.isBase64=e=>"string"==typeof e&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},9323:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0,t.longFitsInDouble=h,t.numUtf8Bytes=f,t.parseInt64OrThrow=W,t.parseUint64OrThrow=z;var i=n(r(2065)),s=r(5982);const a=65533,o=new Uint8Array(10),c=new Uint8Array(0);class u{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._buffer=new Uint8Array(0),this._readEndIndex=0,this._writeIndex=0,this.write=function(){for(let t=0;t<arguments.length;t++){const r=t<0||arguments.length<=t?void 0:arguments[t];"string"==typeof r?e.writeString(r):"number"==typeof r?e.writeUint8(r):r instanceof u?e.writeBinary(r):r instanceof ArrayBuffer?e.writeBuffer(r):r instanceof Uint8Array&&e.writeByteArray(r)}},t instanceof ArrayBuffer?(this._buffer=new Uint8Array(t),this._readEndIndex=this._writeIndex=t.byteLength):t instanceof Uint8Array&&(this._buffer=t,this._readEndIndex=this._writeIndex=t.length),this._bytesTrashed=0,this._earliestIndex=this._readIndex=0,this._view=null,this._littleEndian=r,this._hiddenReads=0,this._hiddenWrites=0}size(){return this._readEndIndex-this._readIndex}peek(e,t){this._hiddenReads++;const r=this._readIndex,n=this._bytesTrashed;try{return e(this,t)}finally{this._hiddenReads--,this._readIndex=r-(this._bytesTrashed-n)}}advance(e){this._shiftReadOrThrow(e)}readWithViewParser(e,t,r,n){return t(this._getView(),this._shiftReadOrThrow(e),e,r,n)}readWithBytesParser(e,t,r,n){return t(this._buffer,this._shiftReadOrThrow(e),e,r,n)}readUint8(){return p(this,1,y,!1)}readInt8(){return p(this,1,y,!0)}readUint16(){return p(this,2,v,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readInt32(){return p(this,4,m,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readUint32(){return p(this,4,g,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readInt64(){return p(this,8,b,W,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readUint64(){return p(this,8,b,z,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readLong(e){return p(this,8,b,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian)}readFloat32(){return p(this,4,S,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readFloat64(){return p(this,8,w,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readVarInt(e){const t=_(this,0,E,this.size());return _(this,t,A,e)}readBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size();return 0===e?new ArrayBuffer(0):_(this,e,T)}readByteArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size();return 0===e?new Uint8Array(0):_(this,e,j)}readBinary(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;if(0===e)return new u(void 0,t);const r=_(this,e,j);return new u(r,t)}indexOf(e){if(0===e.length)return 0;const t=this._buffer,r=this._readEndIndex,n=this._readIndex;let i=0,s=n;for(let a=n;a<r;a++)if(t[a]===e[i]){if(0===i&&(s=a),i++,i===e.byteLength)return a-n-e.byteLength+1}else i>0&&(i=0,a=s);return-1}readString(e){return _(this,e,I)}ensureCapacity(e){this._maybeReallocate(this._readIndex+e)}ensureAdditionalCapacity(e){this._maybeReallocate(this._writeIndex+e)}writeToView(e,t,r,n){const i=this._shiftWriteMaybeReallocate(e);return t(this._getView(),i,e,r,n)}writeToBytes(e,t,r,n){const i=this._shiftWriteMaybeReallocate(e);return t(this._buffer,i,e,r,n)}writeUint8(e){K(e,0,256,"uint8"),O(this,1,U,e,!1)}writeInt8(e){K(e,-128,128,"signed int8"),O(this,1,U,e,!0)}writeUint16(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;K(e,0,65536,"uint16"),P(this,2,k,e,t)}writeInt16(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;K(e,-32768,32768,"signed int16"),P(this,2,R,e,t)}writeUint32(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;K(e,0,4294967296,"uint32"),P(this,4,x,e,t)}writeInt32(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;K(e,-2147483648,2147483648,"signed int32"),P(this,4,M,e,t)}writeUint64(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;K(e,0,0x10000000000000000,"uint64"),P(this,8,D,e,t)}writeInt64(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;K(e,-0x8000000000000000,0x8000000000000000,"signed int64"),P(this,8,D,e,t)}writeFloat32(e){P(this,4,L,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian)}writeFloat64(e){P(this,8,$,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian)}writeVarInt(e){K(e,-0x8000000000000000,0x8000000000000000,"varint (signed int64)");const t=e<0,r=t?-e:e;let n=Math.floor(r/4294967296),i=r-4294967296*n;t&&(n=~n,0===i?n++:i=-i);O(this,F(n,i),C,n,i)}writeVarIntFromHexLong(e){const t=(0,s.hexLongIsNegative)(e),r=t?(0,s.negateHexLong)(e):e,n=(0,s.hexLongToHex)(r);let i=0,a=0;for(let e=0;e<s.NUM_HEX_IN_LONG;e++)i=i<<4|a>>>28,a=a<<4|(0,s.hexAt)(n,e);t&&(i=~i,0===a?i++:a=-a);O(this,F(i,a),C,i,a)}writeBinary(e){const t=e.peek((e=>e.readByteArray()));if(t.length){const e=this._shiftWriteMaybeReallocate(t.length);this._buffer.set(t,e)}}writeBuffer(e){this.writeByteArray(new Uint8Array(e))}writeByteArray(e){const t=this._shiftWriteMaybeReallocate(e.length);this._buffer.set(e,t)}writeBufferView(e){this.writeByteArray(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}writeString(e){O(this,f(e),J,e)}writeHexLong(e){P(this,8,N,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian)}writeBytes(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let e=0;e<t.length;e++)K(t[e],0,256,"byte");O(this,t.length,B,t)}writeAtomically(e,t){this._hiddenWrites++;let r=this._writeIndex,n=this._bytesTrashed;try{const i=e(this,t);return r=this._writeIndex,n=this._bytesTrashed,i}finally{this._hiddenWrites--,this._writeIndex=r-(this._bytesTrashed-n)}}writeWithVarIntLength(e,t){const r=this._writeIndex,n=this.writeAtomically(e,t),i=this._writeIndex;this.writeVarInt(i-r);const s=this._writeIndex-i,a=this._buffer;for(let e=0;e<s;e++)o[e]=a[i+e];for(let e=i-1;e>=r;e--)a[e+s]=a[e];for(let e=0;e<s;e++)a[r+e]=o[e];return n}static build(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0;for(let e=0;e<t.length;e++){const r=t[e];"string"==typeof r?n+=f(r):"number"==typeof r?n++:r instanceof u?n+=r.size():r instanceof ArrayBuffer?n+=r.byteLength:r instanceof Uint8Array&&(n+=r.length)}const i=new u;return i.ensureCapacity(n),i.write.apply(i,arguments),i}_getView(){return this._view||(this._view=new DataView(this._buffer.buffer,this._buffer.byteOffset))}_shiftReadOrThrow(e){if(e<0)throw(0,i.default)("ReadError: given negative number of bytes to read");const t=this._readIndex,r=t+e;if(r>this._readEndIndex)throw(0,i.default)(t===this._readEndIndex?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");return this._readIndex=r,this._hiddenReads||(this._earliestIndex=r),t}_maybeReallocate(e){const t=this._buffer;if(e<=t.length)return e;{const r=this._earliestIndex,n=e-r,i=Math.max(n,2*(t.length-r),64),s=new Uint8Array(i);return r?(s.set(t.subarray(r)),this._bytesTrashed+=r,this._readIndex-=r,this._readEndIndex-=r,this._writeIndex-=r,this._earliestIndex=0):s.set(t),this._buffer=s,this._view=null,n}}_shiftWriteMaybeReallocate(e){const t=this._maybeReallocate(this._writeIndex+e),r=this._writeIndex;return this._writeIndex=t,this._hiddenWrites||(this._readEndIndex=t),r}}t.Binary=u;let l="",d=0;function f(e){if(e===l)return d;const t=e.length;let r=0;for(let n=0;n<t;n++){const i=e.charCodeAt(n);if(i<128)r++;else if(i<2048)r+=2;else if(i<55296||57344<=i&&i<=65535)r+=3;else if(55296<=i&&i<56320&&n+1!==t){const t=e.charCodeAt(n+1);56320<=t&&t<57344?(n++,r+=4):r+=3}else r+=3}return l=e,d=r}function h(e,t,r){const n=t>>21;if(e){const e=Boolean(2097151&t||r);return 0===n||-1===n&&e}return 0===n}function p(e,t,r,n,i){return e.readWithViewParser(t,r,n,i)}function _(e,t,r,n,i){return e.readWithBytesParser(t,r,n,i)}function y(e,t,r,n){return n?e.getInt8(t):e.getUint8(t)}function v(e,t,r,n){return e.getUint16(t,n)}function m(e,t,r,n){return e.getInt32(t,n)}function g(e,t,r,n){return e.getUint32(t,n)}function b(e,t,r,n,i){return n(e.getInt32(i?t+4:t,i),e.getInt32(i?t:t+4,i))}function S(e,t,r,n){return e.getFloat32(t,n)}function w(e,t,r,n){return e.getFloat64(t,n)}function E(e,t,r,n){const s=Math.min(n,10);let a=0,o=128;for(;a<s&&128&o;)o=e[t+a++];if(10===a&&o>1)throw(0,i.default)("ParseError: varint exceeds 64 bits");return 128&o?a+1:a}function A(e,t,r,n){let i=0,s=0,a=r;10===r&&(a--,s=1&e[t+a]);for(let r=a-1;r>=0;r--)i=i<<7|s>>>25,s=s<<7|127&e[t+r];return n(i,s)}function T(e,t,r){const n=t+e.byteOffset,i=e.buffer;return 0===n&&r===i.byteLength?i:i.slice(n,n+r)}function j(e,t,r){return e.subarray(t,t+r)}function I(e,t,r){const n=t+r;let i=[],s=null;for(let r=t;r<n;r++){i.length>5e3&&(s||(s=[]),s.push(String.fromCharCode.apply(String,i)),i=[]);const t=0|e[r];if(0==(128&t))i.push(t);else if(192==(224&t)){const s=G(e,r+1,n);if(s){r++;const e=(31&t)<<6|63&s;e>=128?i.push(e):i.push(a)}else i.push(a)}else if(224==(240&t)){const s=G(e,r+1,n),o=G(e,r+2,n);if(s&&o){r+=2;const e=(15&t)<<12|(63&s)<<6|63&o;e>=2048&&!(55296<=e&&e<57344)?i.push(e):i.push(a)}else s?(r++,i.push(a)):i.push(a)}else if(240==(248&t)){const s=G(e,r+1,n),o=G(e,r+2,n),c=G(e,r+3,n);if(s&&o&&c){r+=3;const e=(7&t)<<18|(63&s)<<12|(63&o)<<6|63&c;if(e>=65536&&e<=1114111){const t=e-65536;i.push(55296|t>>10,56320|1023&t)}else i.push(a)}else s&&o?(r+=2,i.push(a)):s?(r++,i.push(a)):i.push(a)}else i.push(a)}const o=String.fromCharCode.apply(String,i);return s?(s.push(o),s.join("")):o}function P(e,t,r,n,i){return e.writeToView(t,r,n,i)}function O(e,t,r,n,i){return e.writeToBytes(t,r,n,i)}function U(e,t,r,n){e[t]=n}function k(e,t,r,n,i){e.setUint16(t,n,i)}function R(e,t,r,n,i){e.setInt16(t,n,i)}function x(e,t,r,n,i){e.setUint32(t,n,i)}function M(e,t,r,n,i){e.setInt32(t,n,i)}function D(e,t,r,n,i){const s=n<0,a=s?-n:n;let o=Math.floor(a/4294967296),c=a-4294967296*o;s&&(o=~o,0===c?o++:c=-c),e.setUint32(i?t+4:t,o,i),e.setUint32(i?t:t+4,c,i)}function L(e,t,r,n,i){e.setFloat32(t,n,i)}function $(e,t,r,n,i){e.setFloat64(t,n,i)}function C(e,t,r,n,i){let s=n,a=i;const o=t+r-1;for(let r=t;r<o;r++)e[r]=128|127&a,a=s<<25|a>>>7,s>>>=7;e[o]=a}function J(e,t,r,n){let i=t;const s=n.length;for(let t=0;t<s;t++){const r=n.charCodeAt(t);if(r<128)e[i++]=r;else if(r<2048)e[i++]=192|r>>6,e[i++]=128|63&r;else if(r<55296||57344<=r)e[i++]=224|r>>12,e[i++]=128|r>>6&63,e[i++]=128|63&r;else if(55296<=r&&r<56320&&t+1!==s){const s=n.charCodeAt(t+1);if(56320<=s&&s<57344){t++;const n=65536+((1023&r)<<10|1023&s);e[i++]=240|n>>18,e[i++]=128|n>>12&63,e[i++]=128|n>>6&63,e[i++]=128|63&n}else e[i++]=239,e[i++]=191,e[i++]=189}else e[i++]=239,e[i++]=191,e[i++]=189}}function N(e,t,r,n,i){const a=(0,s.hexLongIsNegative)(n),o=(0,s.hexLongToHex)(n);let c=0,u=0;for(let e=0;e<16;e++)c=c<<4|u>>>28,u=u<<4|(0,s.hexAt)(o,e);a&&(c=~c,0===u?c++:u=-u),e.setUint32(i?t+4:t,c,i),e.setUint32(i?t:t+4,u,i)}function B(e,t,r,n){for(let i=0;i<r;i++)e[t+i]=n[i]}function F(e,t){let r,n;for(e?(r=5,n=e>>>3):(r=1,n=t>>>7);n;)r++,n>>>=7;return r}function K(e,t,r,n){if("number"!=typeof e||e!=e||Math.floor(e)!==e||e<t||e>=r)throw(0,i.default)("string"==typeof e?`TyperError WriteError: string "${e}" is not a valid ${n}`:`TypeError WriteError: ${String(e)} is not a valid ${n}`)}function Y(e,t,r){let n;n=t>=0||e?t:4294967296+t;const s=4294967296*n+(r>=0?r:4294967296+r);if(!h(e,t,r))throw(0,i.default)(`ReadError: integer exceeded 53 bits (${s})`);return s}function W(e,t){return Y(!0,e,t)}function z(e,t){return Y(!1,e,t)}function G(e,t,r){if(t>=r)return 0;const n=0|e[t];return 128==(192&n)?n:0}},6911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedError=t.UnimplementedMethod=t.TimeoutError=t.HttpError=t.AggregateError=void 0,t.customError=n,t.hasSupressedQuotaExceededError=function(){return c},t.obtainErrorSummary=function(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))},t.supressQuotaExceededError=function(e){if(null==e||"QuotaExceededError"!==e.name)throw e;c=!0};const r=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function n(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;function i(r){const n=Error.call(this,r);this.message=r,n.name=e,this.name=e,t&&(this.stack=n.stack)}return i.prototype=Object.create(n?n.prototype:r),i.prototype.constructor=i,i}class i extends(n("AggregateError",!0)){constructor(e,t){super(null!=t&&t.length>0?t:function(e){return 0===e.length?"No errors":1===e.length?e[0].message:e.map((e=>"- "+e.message)).join("\n")}(e)),this.errors=e}}t.AggregateError=i;class s extends(n("TimeoutError",!1)){}t.TimeoutError=s;class a extends(n("HttpError",!1)){constructor(e,t){super(e),this.code=t}}t.HttpError=a;class o extends(n("UnimplementedMethod")){}t.UnimplementedMethod=o;let c=!1;class u extends Error{constructor(e,t){super(e),this.inner=t}}t.WrappedError=u},2924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepEqual=function e(t,r){if(t===r)return!0;if(!t||!r||"object"!=typeof t&&"object"!=typeof r)return!1;const n=Array.isArray(t),i=Array.isArray(r);if(n!==i)return!1;let s=!0;if(n){const n=t.length;if(n!==r.length)return!1;for(let i=0;s&&i<n;i++)s=e(t[i],r[i]);return s}const a=Object.keys(t);for(let n=0;s&&n<a.length;n++){const i=a[n];s=r.propertyIsEnumerable(i)&&e(t[i],r[i])}return s&&Object.keys(r).length===a.length}},2065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t}},9028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},5982:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.NUM_HEX_IN_LONG=t.HEX_LOWER=void 0,t.bytesToBuffer=function(e){const t=e.buffer;return 0===e.byteOffset&&e.length===t.byteLength?t:t.slice(e.byteOffset,e.byteOffset+e.length)},t.bytesToDebugString=function(e){let t=!0,r=e.length;for(;t&&r;){const n=e[--r];t=32<=n&&n<127}return t?JSON.stringify(String.fromCharCode.apply(String,e)):o(e)},t.createHexLong=l,t.createHexLongFrom32Bits=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=_(e),i=_(t);return`${r?"-":""}0x${n}${i}`},t.hexAt=c,t.hexLongFromNumber=function(e){const t=e<0;return l(t?(-e).toString(16):e.toString(16),t)},t.hexLongIsNegative=h,t.hexLongToHex=f,t.hexOrThrow=u,t.isBiggerHexLong=function(e,t){const r=h(e),n=h(t);if(r!==n)return!r;const i=f(e)>f(t);return r?!i:i},t.negateHexLong=function(e){return h(e)?e.slice(1):"-"+e},t.parseHex=function(e){const t=u(e);if(t.length%2!=0)throw(0,i.default)(`parseHex given hex "${t}" which is not a multiple of 8-bits.`);const r=new Uint8Array(t.length>>1);for(let e=0,n=0;e<t.length;e+=2,n++)r[n]=c(t,e)<<4|c(t,e+1);return r.buffer},t.randomHex=function(e){const t=new Uint8Array(e);return self.crypto.getRandomValues(t),o(t)},t.toHex=o,t.toLowerCaseHex=function(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(a[n>>4],a[15&n])}return String.fromCharCode.apply(String,t)};var i=n(r(2065));t.NUM_HEX_IN_LONG=16;const s=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],a=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102];function o(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(s[n>>4],s[15&n])}return String.fromCharCode.apply(String,t)}function c(e,t){const r=e.charCodeAt(t);return r<=57?r-48:r<=70?10+r-65:10+r-97}function u(e){if(/[^0-9a-fA-F]/.test(e))throw(0,i.default)(`"${e}" is not a valid hex`);return e}function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=u(e);return p(r,16),`${t?"-":""}0x${d(r,16)}`}function d(e,t){const r=t-e.length;let n=e;for(let e=0;e<r;e++)n="0"+n;return n}function f(e){return e.substring(e.indexOf("0x")+2)}function h(e){return"-"===e[0]}function p(e,t){if(e.length>t)throw(0,i.default)(`"${e}" is longer than ${4*t} bits.`)}function _(e){if(e>4294967295||e<-4294967296)throw(0,i.default)("uint32ToLowerCaseHex given number over 32 bits");return d((e>=0?e:4294967296+e).toString(16),8)}t.HEX_LOWER=a},4037:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.WA_USER_JID_SUFFIX=t.WA_USER_DOMAIN=t.WA_SERVER_JID_SUFFIX=t.WA_NEWSLETTER_JID_DOMAIN=t.SURVEY_USER_JID=t.STATUS_JID=t.PSA_JID=t.MSGR_USER_JID_SUFFIX=t.MSGR_USER_DOMAIN=t.LID_SUFFIX=t.LID_DOMAIN=t.DEFAULT_DEVICE_ID=t.AUTHOR_SYSTEM=t.AUTHOR_ME=void 0,t.asChatJid=function(e){return e===c?null:e},t.asMulticastJid=function(e){return null==x(e)?e:null},t.asPhoneChatJid=function(e){return e===c?null:e},t.asStatusJid=function(e){return e===c?c:null},t.authorAsPhoneUserJid=function(e){if(e===a||e===o)return null;if(!e.endsWith(_))return null;return e},t.authorAsUserJid=function(e){if(e===a||e===o)return null;return e},t.authorToUserId=function(e,t){return e===a||e===o?t:O(e)},t.createJidUtils=function(e){let{platform:t}=e;const r="msgr"===t?d:_;return{toUserJid:function(e){return`${e}${r}`},getUserDomain:function(){return r},getGroupCallDomain:function(){return"@call"}}},t.defaultDeviceJidForUser=function(e){return`${I(e)}:0${G(e)}`},t.defaultLidDeviceJidForLidUserJid=function(e){return P(e,0)},t.defaultMsgrDeviceJidForUser=function(e){return`${I(e)}:0@msgr`},t.defaultPhoneDeviceJidForUser=function(e){return`${I(e)}:0@s.whatsapp.net`},t.extractDeviceIDParts=U,t.extractDeviceId=k,t.extractFromJid=$,t.extractJidFromJidWithType=function(e){return"phoneDevice"===e.jidType||"lidDevice"===e.jidType||"msgrDevice"===e.jidType?e.deviceJid:"lidUser"===e.jidType||"msgrUser"===e.jidType||"phoneUser"===e.jidType?e.userJid:"group"===e.jidType?e.groupJid:"status"===e.jidType?e.statusJid:"call"===e.jidType?e.callJid:"newsletter"===e.jidType?e.newsletterJid:(e.jidType,e.broadcastJid)},t.extractPhoneUserJid=function(e){return D(e)},t.extractUserId=O,t.extractUserJid=D,t.fullFormDeviceJidString=function(e){const{user:t,agent:r="0",device:n="0",server:i}=L(e);return`${t}.${r}:${n}@${i}`},t.getGroupDomain=function(){return u},t.getMsgrUserDomain=function(){return d},t.getServerDomain=function(){return"@s.whatsapp.net"},t.getWhatsappUserDomain=function(){return _},t.groupIdFromJid=function(e){if(e.endsWith(u))return e.slice(0,-u.length);throw(0,s.default)(`groupId called with non-group jid "${e}"`)},t.interpretAndValidateJid=C,t.interpretAsDeviceId=function(e){return e},t.interpretAsGroupJid=Y,t.interpretAsNumber=function(e){return e},t.interpretAsPhoneUserJid=function(e){return e.endsWith(_)?e:null},t.interpretAsUserJid=x,t.isAuthorMe=function(e){return"@me"===e},t.isAuthorSystem=function(e){return"@system"===e},t.isPrimaryDevice=function(e){return 0===k(e)},t.lidFromLidUserJid=M,t.lidOrPhoneFromUserJid=function(e){if(e.endsWith(_))return R(e);if(e.endsWith(b))return M(e);throw(0,s.default)(`lidOrPhoneFromUserJid called with non phone or lid jid "${e}"`)},t.maybeSanitizeLogLineText=function(e){if(!e.includes("@"))return e;return e.replace(T,K)},t.parseJidParts=L,t.phoneNumberFromJid=R,t.sanitizeJidForLogging=K,t.stripAgentIdFromPhoneDeviceJid=function(e){const{user:t,device:r="0",server:n}=L(e);return`${t}:${r}@${n}`},t.switchOnChatJidType=W,t.switchOnJidType=function(e,t){if(e===c)return t.status();return W(e,{phoneUser:t.phoneUser,msgrUser:t.msgrUser,lidUser:t.lidUser,group:t.group})},t.switchOnMsgrChatJidType=function(e,t){if(e.endsWith(d))return t.user(e);if(null!=Y(e))return t.group(e);throw(0,s.default)(`Can not switch on chat jid ${e}`)},t.switchOnMulticastJidType=function(e,t){if(e===c)return t.multicast(c);return z(e,{user:t.user,group:t.multicast})},t.switchOnPhoneChatJidType=z,t.switchOnPhoneJidType=function(e,t){if(e===c)return t.status();return z(e,{user:t.user,group:t.group})},t.toBroadcastJid=function(e){return`${e}@broadcast`},t.toDeviceJid=function(e,t){return`${I(e)}:${t}${G(e)}`},t.toGroupJid=function(e){if(e.endsWith(u))return e;return`${e}@g.us`},t.toLidDeviceJid=P,t.toLidUserJid=function(e){return`${e}@lid`},t.toMsgrDeviceJid=function(e,t){return`${I(e)}:${t}@msgr`},t.toMsgrUserJid=j,t.toNewsletterJid=function(e){if(e.endsWith(y))return e;return`${e}@newsletter`},t.toPhoneDeviceJid=function(e,t){return`${I(e)}:${t}@s.whatsapp.net`},t.toPhoneUserJid=function(e){return`${e}@s.whatsapp.net`},t.unsafeCoerceToDeviceId=re,t.unsafeCoerceToDeviceJid=q,t.unsafeCoerceToGroupJid=te,t.unsafeCoerceToLidDeviceJid=X,t.unsafeCoerceToMsgrDeviceJid=V,t.unsafeCoerceToMsgrUserJid=ee,t.unsafeCoerceToPhoneDeviceJid=H,t.unsafeCoerceToPhoneUserJid=Q,t.unsafeCoerceToUserJid=Z,t.userIdFromJid=I,t.validateBroadcastJid=B,t.validateCallJid=function(e){return A.test(e)?e:null},t.validateChatJid=function(e){return N(e)||F(e)},t.validateDeviceJid=function(e){return m.test(e)||g.test(e)||f.test(e)||w.test(e)?e:null},t.validateDomainJid=function(e){return"s.whatsapp.net"===e||"g.us"===e?e:null},t.validateGroupJid=F,t.validateMulticastJid=function(e){return J(e)||F(e)||B(e)?e:null},t.validateNewsletterJid=function(e){return v.test(e)?e:null},t.validateStatusJid=J,t.validateUserJid=N;var i=n(r(7537)),s=n(r(2065));t.DEFAULT_DEVICE_ID=0;const a="@me";t.AUTHOR_ME=a;const o="@system";t.AUTHOR_SYSTEM=o;const c="status@broadcast";t.STATUS_JID=c;t.PSA_JID="0@s.whatsapp.net";const u="@g.us",l=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,d="@msgr";t.MSGR_USER_DOMAIN=d;t.MSGR_USER_JID_SUFFIX="msgr";const f=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,h=/^([1-9][0-9]{0,19})@msgr$/,p=/^([1-9][0-9]{0,19})(:0)?@msgr$/;t.WA_SERVER_JID_SUFFIX="s.whatsapp.net";const _="@s.whatsapp.net";t.WA_USER_DOMAIN=_;t.WA_USER_JID_SUFFIX="s.whatsapp.net";const y="@newsletter";t.WA_NEWSLETTER_JID_DOMAIN=y;const v=/^([1-9][0-9]{0,19})@newsletter$/,m=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,g=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,b="@lid";t.LID_DOMAIN=b;t.LID_SUFFIX="lid";const S=/^([1-9][0-9]{0,14})@lid$/,w=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,E=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,A=/^([0-9a-fA-F]{18,32})@call$/;t.SURVEY_USER_JID="16505361212@s.whatsapp.net";const T=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function j(e){return`${e}@msgr`}function I(e){if(e.endsWith(_))return e.slice(0,-_.length);if(e.endsWith(d))return e.slice(0,-d.length);if(e.endsWith(b))return e.slice(0,-b.length);throw(0,s.default)(`userIdFromJid called with non-user jid "${e}"`)}function P(e,t){return`${M(e)}:${t}@lid`}function O(e){return e.split("@")[0]}function U(e){const t=e.split("@")[0].split(":"),r=t[0],n=t[1];return{userId:r,deviceID:parseInt(n,10)}}function k(e){return U(e).deviceID}function R(e){if(!e.endsWith(_))throw(0,s.default)(`phoneNumberFromJid called with non-user jid "${e}"`);return e.slice(0,-_.length)}function x(e){return e.endsWith(_)||e.endsWith(d)||e.endsWith(b)?e:null}function M(e){if(!e.endsWith(b))throw(0,s.default)(`lidFromLidUserJid called with non-LidUserJid "${e}"`);return e.slice(0,-b.length)}function D(e){const t=e.split("@");let r=t[0];const n=t[1];return r=r.split(":")[0],r=r.split(".")[0],`${r}@${n}`}function L(e){const[t,r]=e.split("@"),[n,i]=t.split(":"),[s,a]=n.split(".");return{user:s,device:i,agent:a,server:r}}function $(e){switch(e.jidType){case"lidUser":case"msgrUser":case"phoneUser":return e.userJid;case"group":return e.groupJid;case"status":return e.statusJid;case"lidDevice":case"msgrDevice":case"phoneDevice":return e.deviceJid;case"broadcast":return e.broadcastJid;case"call":return e.callJid;case"newsletter":return e.newsletterJid;default:return(0,i.default)(e.jidType)}}function C(e){if(e===c)return{jidType:"status",statusJid:c};if(g.test(e))return{jidType:"phoneUser",userJid:e};if(h.test(e))return{jidType:"msgrUser",userJid:e};if(p.test(e)){return{jidType:"msgrUser",userJid:j(e.substr(0,e.indexOf(":")))}}return m.test(e)?{jidType:"phoneDevice",deviceJid:e}:f.test(e)?{jidType:"msgrDevice",deviceJid:e}:l.test(e)?{jidType:"group",groupJid:e.endsWith(u)?e:`${e}@g.us`}:E.test(e)?{jidType:"broadcast",broadcastJid:e}:A.test(e)?{jidType:"call",callJid:e}:S.test(e)?{jidType:"lidUser",userJid:e}:w.test(e)?{jidType:"lidDevice",deviceJid:e}:v.test(e)?{jidType:"newsletter",newsletterJid:e}:{jidType:"unknown"}}function J(e){return"status@broadcast"===e?e:null}function N(e){if(g.test(e)||h.test(e)||S.test(e))return e;if(p.test(e)){return j(e.substr(0,e.indexOf(":")))}return null}function B(e){return E.test(e)?e:null}function F(e){return l.test(e)?e:null}function K(e){const t=C(e);return"unknown"===t.jidType?e:"status"===t.jidType?t.statusJid:(t.jidType,$(t).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3"))}function Y(e){return e.endsWith(u)?e:null}function W(e,t){if(e.endsWith(_))return t.phoneUser(e);if(e.endsWith(d))return t.msgrUser(e);if(e.endsWith(b))return t.lidUser(e);if(null!=Y(e))return t.group(e);throw(0,s.default)(`Can not switch on chat jid ${e}`)}function z(e,t){if(e.endsWith(_))return t.user(e);if(null!=Y(e))return t.group(e);throw(0,s.default)(`Can not switch on chat jid ${e}`)}function G(e){if(e.endsWith(_))return _;if(e.endsWith(d))return d;if(e.endsWith(b))return b;throw(0,s.default)(`userDomainFromJid called with non-user jid "${e}"`)}function q(e){return e}function H(e){return e}function V(e){return e}function X(e){return e}function Z(e){return e}function Q(e){return e}function ee(e){return e}function te(e){return e}function re(e){return e}},9619:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"?";if(null==e)throw(0,i.default)(`Unexpected null or undefined: ${t}`);return e};var i=n(r(2065))},2207:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.asyncChain=function(e,t){if(e.success)return t(e.value);return Promise.resolve(e)},t.asyncMapError=l,t.asyncMapResult=c,t.catchError=function(e){return function(){var t=(0,i.default)((function*(t){yield l(t,e)}));return function(){return t.apply(this,arguments)}}()},t.chain=function(e,t){if(e.success)return t(e.value);return e},t.makeError=s,t.makeResult=a,t.mapAsyncResult=function(){return o.apply(this,arguments)},t.mapError=function(e,t){if(e.success)return a(e.value);return s(t(e.error),e.payload)},t.mapResult=function(e,t){if(!e.success)return e;return a(t(e.value))},t.onResult=function(e){return t=>c(t,e)};var i=n(r(1504));function s(e,t){return null!=t?{success:!1,error:e,payload:t}:{success:!1,error:e}}function a(e){return{success:!0,value:e}}function o(){return(o=(0,i.default)((function*(e,t){const r=yield e;return r.success?a(t(r.value)):r}))).apply(this,arguments)}function c(){return u.apply(this,arguments)}function u(){return(u=(0,i.default)((function*(e,t){if(!e.success)return e;return a(yield t(e.value))}))).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e,t){if(e.success)return a(e.value);return s(yield t(e.error),e.payload)}))).apply(this,arguments)}},8494:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.ShiftTimer=void 0;var i=n(r(2065));function s(e){if(!(e>=0))throw(0,i.default)("ShiftTimer must be given delay >= 0")}t.ShiftTimer=class{constructor(e){this._timer=0,this._rafId=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0,this._run=()=>{const e=this._arg,t=this._foo;this._rafId=0,this._timer=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0,t(e)},this.onOrBefore=(e,t)=>{s(e);const r=Date.now()+e,n=this._upperBound;if(0!==n&&n<r)return;const i=this._lowerBound;0!==i&&r<i||(this._upperBound=r,this._rafId||this._timer&&!(r<this.ts)||this._setDelay(r,e,t))},this.forceRunNow=e=>{this._timer&&clearTimeout(this._timer),this._rafId&&cancelAnimationFrame(this._rafId),this._arg=e,this._run()},this.cancel=()=>{this._timer&&clearTimeout(this._timer),this._rafId&&cancelAnimationFrame(this._rafId),this._timer=0,this._rafId=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0},this._foo=e}onOrBeforeRepaint(e){if(this._rafId)return;const t=Date.now(),r=this._lowerBound;if(0!==r&&t<r)return;const n=this._upperBound;(0===n||t<n)&&(this._upperBound=t),this._timer&&(clearTimeout(this._timer),this._timer=0),(!this.ts||this.ts>t)&&(this.ts=t),this._arg=e,this._rafId=requestAnimationFrame(this._run)}onOrAfter(e,t){s(e);const r=Date.now()+e,n=this._lowerBound;if(0!==n&&r<n)return;const i=this._upperBound;0!==i&&i<r||(this._lowerBound=r,(!this._timer||this.ts<r)&&this._setDelay(r,e,t))}debounce(e,t){s(e),this._debounce(Date.now(),e,t)}debounceAndCap(e,t,r){s(e),s(t);const n=Date.now(),i=n+t,a=this._lowerBound,o=this._upperBound;(0===a||a<=i)&&(0===o||i<o)&&(this._upperBound=i),this._debounce(n,e,r)}forceRunNowIfScheduled(){this._timer?(clearTimeout(this._timer),this._run()):this._rafId&&(cancelAnimationFrame(this._rafId),this._run())}isScheduled(){return 0!==this._timer||0!==this._rafId}_debounce(e,t,r){const n=e+t,i=this._lowerBound;if(0!==i&&n<i)return;const s=this.ts,a=this._upperBound;0!==a&&a<n?s<a&&this._setDelay(a,a-e,r):s<n&&this._setDelay(n,t,r)}_setDelay(e,t,r){if(this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=0),this._arg=r,this.ts=e,this._timer){const t=e-this._timerTs;if(-16<t&&t<16)return;clearTimeout(this._timer)}this._timer=setTimeout(this._run,t),this._timerTs=e}}},9987:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR_SECONDS=t.WEEK_SECONDS=t.WEEK_MILLISECONDS=t.MonotonicTimer=t.MINUTE_SECONDS=t.MINUTE_MILLISECONDS=t.MAX_INT=t.HOUR_SECONDS=t.HOUR_MILLISECONDS=t.FIVE_MINUTES=t.DEFAULT_UNIXTIME=t.DAY_SECONDS=t.DAY_MILLISECONDS=void 0,t.cappedMillisecondsUntil=y,t.castLongIntToUnixTime=function(e){return"number"!=typeof e?(0,n.hexLongIsNegative)(e)?l:u:h(e)},t.castMilliSecondsToUnixTime=p,t.castMillisTimeToUnixTime=function(e){if(null==e)return e;return e>u?p(e):h(e)},t.castToMillisTime=_,t.castToUnixTime=h,t.castUnixTimeToMillisTime=function(e){return 1e3*e},t.convertHexToDate=function(e){const t=Number.parseInt(e,16);if(Number.isFinite(t))return new Date(1e3*h(t));return null},t.delayUntil=function(e){const t=y(e);return new Promise((e=>{setTimeout(e,t)}))},t.futureUnixTime=function(e,t){const r=null!=t?t:v();return h(Math.ceil(r+Math.max(e,0)))},t.getClockSkew=function(){return f},t.happenedWithin=function(e,t){return S(v(),e,t)},t.happenedWithinAt=S,t.isInFuture=function(e){return m(e)>0},t.isOverflowTime=function(e){return e<l||e>u},t.isWithinNext24h=function(e){return e-v()<=s},t.midnight=function(){return h((new Date).setHours(0,0,0,0)/1e3-f)},t.midnightOn=function(e){return h(w(e).setHours(0,0,0,0)/1e3-f)},t.millisTime=function(){return E()-1e3*f},t.monotonicTime=g,t.monotonicTimeSince=b,t.oldest=function(e,t){return e<t?e:t},t.pastUnixTime=function(e,t){const r=null!=t?t:v();return h(Math.ceil(r-Math.max(e,0)))},t.performanceAbsoluteNow=E,t.sameDay=function(e,t){if(Math.abs(e-t)>s)return!1;const r=d.time===e?d.day:w(e+f).getDay(),n=d.time===t?d.day:w(t+f).getDay();return d.time=t,d.day=n,r===n},t.secondsUntil=m,t.setClockSkew=function(e){f=e},t.timeSince_USE_ONLY_IF_APPROVED=function(e){return Math.max(v()-e,0)},t.timeoutFor=function(e,t){const r=v(),n=Math.max(e+t-r,0);return Math.min(1e3*n,~(1<<31))},t.toDate=w,t.toHttpHeaderDate=function(e){return w(e).toUTCString()},t.unixTime=v,t.unixTimeMs=function(){return Date.now()-1e3*f},t.unixTimeWithoutClockSkewCorrection=function(){return h(Date.now()/1e3)},t.unskewedDate_USE_ONLY_IF_APPROVED=function(){return new Date};var n=r(5982);t.MINUTE_SECONDS=60;t.FIVE_MINUTES=300;const i=3600;t.HOUR_SECONDS=i;const s=86400;t.DAY_SECONDS=s;t.WEEK_SECONDS=604800;t.YEAR_SECONDS=31536e3;t.MINUTE_MILLISECONDS=6e4;const a=36e5;t.HOUR_MILLISECONDS=a;const o=864e5;t.DAY_MILLISECONDS=o;t.WEEK_MILLISECONDS=6048e5;const c=1<<31;t.DEFAULT_UNIXTIME=c;const u=2147483647;t.MAX_INT=u;const l=-2147483647,d={time:0,day:-4};let f=0;function h(e){return Math.max(l,Math.min(0|e,u))}function p(e){return h(e/1e3)}function _(e){return e}function y(e){const t=Math.max(e-v(),0);return Math.min(1e3*t,~(1<<31))}function v(){return h(Date.now()/1e3-f)}function m(e){return Math.max(e-v(),0)}function g(){return performance.now()}function b(e){return Math.floor(performance.now()-e)}function S(e,t,r){return Math.abs(e-t)<=r}function w(e){return new Date(1e3*e)}function E(){return Date.now()}t.MonotonicTimer=class{constructor(){const e=g();this._initTime=e,this._startTime=e}reset(){this._startTime=g()}elapsed(){return b(this._startTime)}cumulative(){return b(this._initTime)}}},7791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=[],n=e.length,i=t.length,s=Math.max(n,i);for(let a=0;a<s;a++)a<n&&r.push(e[a]),a<i&&r.push(t[a]);return r}},6432:(e,t)=>{"use strict";function r(e,t){const n=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=t?t.apply(this,i):i[0];if(null==a)return e.apply(this,i);const o=n.cache;if(o.has(a))return o.get(a);const c=e.apply(this,i);return n.cache=o.set(a,c)||o,c};return n.cache=new(r.Cache||Map),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.Cache=Map},29:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castTypedArrays=function(e,t){if(t instanceof e)return t;if("string"==typeof t)return new e((0,n.decodeB64)(t));return new e(t)};var n=r(2089)},8358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatTypedArrays=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=t.reduce(((e,t)=>e+t.length),r),i=new e(n);let s=0;return t.forEach((e=>{i.set(e,s),s+=e.length})),i}},8481:(e,t,r)=>{"use strict";var n=r(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.ParsableXmlNode=void 0,t.convertBytesToUint=o;var i=n(r(2065)),s=n(r(9028)),a=r(7448);function o(e,t){let r=0;for(let n=0;n<t;n++)r=256*r+e[n];return r}t.ParsableXmlNode=class{constructor(e,t){this._name=e,this._node=t,this._children=Array.isArray(t.content)?t.content.map((t=>new this.constructor(e,t))):null}name(){return this._name}node(){return this._node}hasAttr(e){return(0,s.default)(this._node.attrs,e)}assertTag(e){this._node.tag!==e&&this.throw(`to be <${e}>`)}tag(){return this._node.tag}maybeChild(e){const t=this._children;if(!t)return null;for(let r=0;r<t.length;r++)if(t[r].tag()===e)return t[r];return null}hasChild(e){return!!this.maybeChild(e)}child(e){const t=this.maybeChild(e);return t||this.throw(`to have child <${e}>`)}assertAttr(e,t){const r=this.attrString(e);r!==t&&this.throw(`to have "${e}"="${t}", but instead has "${r}"`)}attrString(e){return(0,s.default)(this._node.attrs,e)?this.decodeAsString(this._node.attrs[e]):this.throw(`to have attribute "${e}"`)}forEachAttributeKey(e){const t=this._node.attrs;Object.keys(t).forEach((t=>e(t)))}maybeAttrString(e){return this.hasAttr(e)?this.decodeAsString(this._node.attrs[e]):null}maybeAttrInt(e,t,r){return this.hasAttr(e)?this.attrInt(e,t,r):null}attrEnumValues(e,t,r){const n=new Set(t),i=this.attrString(e);if(!n.has(i)){if(null!=r)return r;const t=Array.from(n).join("|");return this.throw(`to have "${e}"={${t}} but has value "${i}"`)}return i}attrEnum(e,t){const r=this.attrString(e);if(!(0,s.default)(t,r)){const n=Object.keys(t).join("|");return this.throw(`to have "${e}"={${n}} but has value "${r}"`)}return t[r]}attrEnumOrNullIfUnknown(e,t){const r=this.attrString(e);return(0,s.default)(t,r)?t[r]:null}attrEnumOrDefault(e,t,r){return this.hasAttr(e)?this.attrEnum(e,t):r}attrInt(e,t,r){const n=this.attrString(e);return this._parseInt(n,e,t,r)}_parseInt(e,t,r,n){const i=parseInt(e,10);return Number.isNaN(i)?this.throw(`to have "${t}"={integer} but has value "${e}"`):void 0!==r&&i<r?this.throw(`to have "${t}"={at least ${r}} but has value ${i}`):void 0!==n&&i>=n?this.throw(`to have "${t}"={below ${n}} but has value ${i}`):i}forEachChild(e){const t=this._children;if(t)t.forEach((t=>e(t)));else if(null!=this._node.content)return this.throw("to have children")}forEachChildWithTag(e,t){this.forEachChild((r=>{r.tag()===e&&t(r)}))}mapChildren(e){const t=this._children;return t||null==this._node.content?t?t.map((t=>e(t))):[]:this.throw("to have children")}mapChildrenWithTag(e,t){const r=this._children;return r||null==this._node.content?r?r.filter((t=>t.tag()===e)).map((e=>t(e))):[]:this.throw("to have children")}mapFirstChild(e){const t=this._children;return t&&0!==t.length?e(t[0]):this.throw("to have children")}hasContent(){return!this._children&&!!this._node.content}hasChildren(){return null!=this._children}getChildren(){return this._children}mapAttrKeys(e){const t=this.getAttrKeys();return t&&t.length?t.map(e):[]}getAttrKeys(){return Object.keys(this._node.attrs)}hasAttrs(){return(this._node.attrs?Object.keys(this._node.attrs):[]).length>0}getNode(){return this._node}unsafeSetChildren(e){this._children=e}unsafeSetNodeContent(e){this._node.content=e}contentUint(e){return o(this.contentBytes(e),e)}contentBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(this._children)return this.throw("to have binary content, but has children instead");if(null!=this._node.content){const t=this._node.content;return-1!==e&&t.length!==e?this.throw(`to be ${e} bytes, but got ${t.length} instead`):t}return this.throw("to have content")}contentString(){return this._children?this.throw("to have string content, but has children instead"):null!=this._node.content?this._node.content:this.throw("to have content")}contentInt(e,t){const r=this.contentString();return this._parseInt(r,"content",e,t)}contentEnum(e){const t=this.contentString();if(!(0,s.default)(e,t)){const r=Object.keys(e).join("|");return this.throw(`to have content {${r}} but has value "${t}"`)}return e[t]}decodeAsString(e){if("string"!=typeof e)throw(0,i.default)(`decodeAsString: attribute is ${typeof e} not a string: ${e}`);return e}throw(e){throw new a.XmlParsingFailure(this._name,`expected <${this._node.tag}> ${e}`)}toString(){return this._node.toString()}}},8132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns:/g,"~::~xmlns:").replace(/\s*xmlns=/g,"~::~xmlns=").split("~::~"),r=t.length;let n=!1,i=0,s="",a=0;const o=["\n"];for(a=0;a<100;a++)o.push(o[a]+"    ");const c=function(e,t){const r=/^<[\w:\-.,]+/.exec(e[t-1]),n=/^<\/[\w:\-.,]+/.exec(e[t]);return null!=r&&null!=n&&r[0]===n[0]};for(a=0;a<r;a++)t[a].search(/<!/)>-1?(s+=o[i]+t[a],n=!0,(t[a].search(/-->/)>-1||t[a].search(/\]>/)>-1||t[a].search(/!DOCTYPE/)>-1)&&(n=!1)):t[a].search(/-->/)>-1||t[a].search(/\]>/)>-1?(s+=t[a],n=!1):c(t,a)?(s+=t[a],n||i--):t[a].search(/<\w/)>-1&&-1===t[a].search(/<\//)&&-1===t[a].search(/\/>/)?s=s+=n?t[a]:o[i++]+t[a]:t[a].search(/<\w/)>-1&&t[a].search(/<\//)>-1?s=s+=n?t[a]:o[i]+t[a]:t[a].search(/<\//)>-1?s=s+=n?t[a]:o[0===i?i:--i]+t[a]:t[a].search(/\/>/)>-1?s=s+=n?t[a]:o[i]+t[a]:t[a].search(/<\?/)>-1||t[a].search(/xmlns:/)>-1||t[a].search(/xmlns=/)>-1?s+=o[i]+t[a]:s+=t[a];return"\n"===s[0]?s.slice(1):s}},3260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlNode=void 0,t.attrsToString=s,t.uint8ArrayToDebugString=a;var n=r(5982);const i={};function s(e){const t=Object.keys(e);let r="";for(let n=0;n<t.length;n++){const i=t[n];r+=` ${i}="${e[i].toString()}"`}return r}function a(e){let t="";return t=0===e.length?"\x3c!-- empty binary --\x3e":e.length<50?(0,n.bytesToDebugString)(e):`\x3c!-- ${e.length} bytes --\x3e`,t}t.XmlNode=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.tag=e,this.attrs=t,this.content=r}toString(){let e="<"+this.tag;e+=s(this.attrs);const t=this.content;return Array.isArray(t)?e+=`>${t.map(String).join("")}</${this.tag}>`:t instanceof Uint8Array?e+=`>${a(t)}</${this.tag}>`:e+=null!=t?`>${String(t)}</${this.tag}>`:" />",e}}},7448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlParsingFailure=void 0;t.XmlParsingFailure=class{constructor(e,t){this.parser=e,this.reason=t}toString(){return`XmlParsingFailure: ${this.parser}: ${this.reason}`}}},7674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM=t.IS_MMS_URL_SEARCH_PARAM=void 0;t.IS_MMS_URL_SEARCH_PARAM="__wa-mms";t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM="mms-type"},8615:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.decryptPartialMedia=t.decrypt=t.cleanupCiphertextAndIv=t.HMAC_SIZE=t.BLOCK_SIZE=void 0;var i=n(r(8926)),s=r(8358);t.BLOCK_SIZE=16;t.HMAC_SIZE=10;const a=function(){var e=(0,i.default)((function*(e){const{ciphertext:t,iv:r,mediaKeys:n}=e,{encKey:i}=n;try{const e=yield self.crypto.subtle.importKey("raw",new Uint8Array(i),"AES-CBC",!1,["decrypt"]).catch((e=>{throw __LOG__(2)`decryptPartialMedia:decrypt importKey error: ${String(e)}`,e}));return self.crypto.subtle.decrypt({name:"AES-CBC",iv:r},e,t)}catch(e){throw __LOG__(2)`decryptPartialMedia:decrypt decrypt error: ${String(e)}`,e}}));return function(){return e.apply(this,arguments)}}();t.decrypt=a;const o=function(){var e=(0,i.default)((function*(e){const{ciphertext:t,mediaKeys:r}=e,{encKey:n}=r,i={name:"AES-CBC",iv:(t instanceof Uint8Array?t:new Uint8Array(t)).slice(-16)};try{const e=yield self.crypto.subtle.importKey("raw",new Uint8Array(n),"AES-CBC",!1,["encrypt"]).catch((e=>{__LOG__(2)`decryptPartialMedia:getEncryptedPadding importKey error: ${String(e)}`})),t=new Uint8Array([]);return self.crypto.subtle.encrypt(i,e,t)}catch(e){return void __LOG__(2)`decryptPartialMedia:getEncryptedPadding encrypt error: ${String(e)}`}}));return function(){return e.apply(this,arguments)}}(),c=e=>{const{serverRangeStart:t,ciphertext:r,mediaKeys:n}=e;let i=r instanceof Uint8Array?r:new Uint8Array(r);const a=i.byteLength%16==0;let c;return 0===t?c=new Uint8Array(n.iv):(c=i.slice(0,16),i=i.slice(16)),a||(i=i.slice(0,i.byteLength-10)),a?o({ciphertext:i,mediaKeys:n}).then((e=>(i=(0,s.concatTypedArrays)(Uint8Array,[i,new Uint8Array(e)]),{ciphertext:i,iv:c}))):Promise.resolve({ciphertext:i,iv:c})};t.cleanupCiphertextAndIv=c;const u=function(){var e=(0,i.default)((function*(e){let{mediaKeys:t,ciphertext:r}=e;const{ciphertext:n,iv:i}=yield c({serverRangeStart:0,ciphertext:r,mediaKeys:t});return a({ciphertext:n,iv:i,mediaKeys:t})}));return function(){return e.apply(this,arguments)}}();t.decryptPartialMedia=u},1054:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:String,s=(0,i.default)(e,t.map(n)).join("");const a=r?4e3:Number.POSITIVE_INFINITY;s.length>a&&(s=s.slice(0,a).replace(/\s+$/," [truncated]"));return s};var i=n(r(7791))},3948:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8926));class s{constructor(e){this._handleMessage=e=>{if(!e.data||!e.data.action)return;const t=e.data;if(!e.ports||0===e.ports.length)return;const r=e.ports;if(!s.isSW()&&window.navigator.serviceWorker&&e.source!==window.navigator.serviceWorker.controller)return;let n;n="function"==typeof e.waitUntil?t=>e.waitUntil(t):()=>{},n(Promise.resolve(this.requestHandler(t)).then((e=>{r[0].postMessage(e)})).catch((e=>{r[0].postMessage({error:e&&e.toString()})})))},this.requestHandler=e}init(){const e=s.isSW()?self:window.navigator.serviceWorker;try{if(!e)return;e.addEventListener("message",this._handleMessage)}catch(e){}}static isSW(){return"undefined"==typeof window}static getRequestor(e){return s.isSW()?"string"==typeof e?self.clients.get(e):Promise.resolve(e):window.navigator.serviceWorker?window.navigator.serviceWorker.ready.then((()=>window.navigator.serviceWorker?window.navigator.serviceWorker.controller:null)):Promise.resolve(null)}static broadcast(e,t){return(0,i.default)((function*(){if(!s.isSW())throw new Error("Broadcast called from non-serviceworker.");const r=yield self.clients.matchAll();return 0===r.length?Promise.reject(new Error("No clients available.")):Promise.all(r.map((r=>s.request(r,e,t))))}))()}static request(e,t,r){const n=new MessageChannel;return new Promise(((i,a)=>(n.port1.onmessage=e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.error)?a(e.data.error):i(e.data)},s.getRequestor(e).then((e=>{if(!e)return a(new Error("No ServiceWorker controlling this client."));e.postMessage({action:t,message:r,version:"2.2306.7"},[n.port2])})))))}}t.default=s},9194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={REQUEST_STREAMING_INFO:"GET_STREAMING_INFO",REQUEST_RMR:"REQUEST_RMR",SEND_STREAMING_CHUNK:"SEND_STREAMING_CHUNK",EXP_BACKOFF:"EXP_BACKOFF",LOG:"LOG",UPLOAD_LOGS:"UPLOAD_LOGS",REQUEST_DOCUMENT_DOWNLOAD:"REQUEST_DOCUMENT_DOWNLOAD",SET_L10N:"SET_L10N",STREAMING_SUPPORTED:"STREAMING_SUPPORTED",REMOVE_PP:"REMOVE_PP",LOGOUT:"LOGOUT",CLEAN_ASSETS:"CLEAN_ASSETS",PRELOAD_LAZY_LOADED_BUNDLES:"PRELOAD_LAZY_LOADED_BUNDLES",ACTIVE_TAB:"ACTIVE_TAB",STOP_COMMS:"STOP_COMMS"};t.default=r},1373:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;try{r=self.indexedDB}catch(e){}var n=r;t.default=n},1157:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(3948)),s=n(r(9194)),a=n(r(6857));class o extends a.default{constructor(){super(...arguments),this.matchAction=e=>e===s.default.ACTIVE_TAB,this.onAction=()=>i.default.broadcast(s.default.ACTIVE_TAB)}}t.default=o},3933:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8926)),s=n(r(9194)),a=n(r(6857));class o extends a.default{constructor(){var e;super(...arguments),e=this,this.matchFetch=e=>{const{request:t}=e,r=a.default.parseUrl(t.url);return t.method===a.default.RequestType.GET&&!!r&&r.base===self.registration.scope&&!!r.relativePath.match("^img/")},this.onFetch=function(){var t=(0,i.default)((function*(t){const{request:r}=t,n=yield e.cache.matchOrFetch(r);return n.ok?n:e.cache.fetchAndPut(r)}));return function(){return t.apply(this,arguments)}}(),this.matchAction=e=>s.default.CLEAN_ASSETS===e,this.onAction=function(){var t=(0,i.default)((function*(t,r){const n=new Set(r),i=yield e.cache.keys();if(!i)return;const s=[];return i.forEach((e=>{const t=e.url.lastIndexOf("/")+1,r=e.url.slice(t);n.has(r)||s.push(e)})),Promise.all(s.map((t=>e.cache.delete(t))))}));return function(){return t.apply(this,arguments)}}()}}t.default=o},2612:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(3948));t.default=e=>{self.addEventListener("install",(function(t){__LOG__(2)`Installing...`;const r=e.filter((e=>e.matchInstall(t))).map((e=>Promise.resolve(e.onInstall(t))));t.waitUntil(Promise.all(r).then((()=>self.skipWaiting())).catch((e=>{__LOG__(3)`onInstall error: ${String(e)}`})))})),self.addEventListener("activate",(function(t){__LOG__(2)`Activating...`;const r=e.filter((e=>e.matchActivate(t))).map((e=>e.onActivate(t)));t.waitUntil(self.clients.claim().then((()=>Promise.all(r))).catch((e=>{__LOG__(3)`onActivate error: ${e}.`})))})),self.addEventListener("fetch",(function(t){const r=e.find((e=>e.matchFetch(t)));if(r)return t.respondWith(r.onFetch(t))})),self.addEventListener("push",(function(t){const r=e.find((e=>e.matchPush(t)));if(r)return r.onPush(t)})),self.addEventListener("notificationclick",(function(t){const r=e.find((e=>e.matchNotificationClick(t)));if(r)return r.onNotificationClick(t)}));new i.default((t=>{let{action:r,message:n}=t;const i=e.find((e=>e.matchAction(r)));return i?i.onAction(r,n):Promise.reject(new Error(`Invalid Action: ${r}`))})).init()}},8043:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8926)),s=n(r(9194)),a=n(r(3735)),o=n(r(6857)),c=n(r(5420));class u extends o.default{constructor(e,t){var r;super(e,t),r=this,this.matchInstall=()=>!0,this.onInstall=function(){var e=(0,i.default)((function*(){const e=yield r.store.get("l10n");return r.cacheObject.hashedResources.push(...r.cachedL10nHashes(r.cacheObject,e)),r.cache.update(r.cacheObject.hashedResources,r.cacheObject.unhashedResources)}));return function(){return e.apply(this,arguments)}}(),this.matchActivate=()=>!0,this.onActivate=()=>this.cache.cleanup(),this.matchFetch=e=>{const{request:t}=e,r=o.default.parseUrl(t.url);return t.method===o.default.RequestType.GET&&!this.isCacheStale()&&!!r&&r.base===self.registration.scope&&this.cacheList.has(r.relativePath)},this.onFetch=e=>{const{request:t}=e,r=o.default.parseUrl(t.url);return r?this.cache.matchOrFetch(t,`${r.base}${r.relativePath}`):self.fetch(t)},this.matchAction=e=>e===s.default.SET_L10N,this.onAction=function(){var e=(0,i.default)((function*(e,t){const n=yield r.store.get("l10n");if(n&&t.locale===n.locale)return;const[i]=r.cachedL10nHashes(r.cacheObject,t);if(!i)return r.store.delete("l10n");const s=`${self.registration.scope}${c.default.getIndexPath(t)}`;return Promise.all([r.cache.fetchAndPut(s,self.registration.scope),r.store.put("l10n",{locale:t.locale,isRTL:t.isRTL})])}));return function(){return e.apply(this,arguments)}}(),this.cacheObject=a.default,this.cacheList=new Set([...this.cacheObject.hashedResources,...this.cacheObject.unhashedResources,...Object.keys(this.cacheObject.l10n.locales).map((e=>this.cacheObject.l10n.locales[e]))])}cachedL10nHashes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{locale:r}=t,n=e.l10n.locales[r];return n?[n]:[]}isCacheStale(){return(new Date).getTime()-this.cacheObject.releaseDate>=2592e6}}t.default=u},7719:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8926)),s=n(r(2083)),a=n(r(5420));const o=s.default.prefs,c=self.caches.keys(),u=/wa\d+\.\d+\.\d+(\.[id])?(\.canary)?$/,l=["wa-pp","wa-assets","wa-stickers","wa_web_user_prefs_cache_store"];function d(e){this.cacheName=e,this.openCachePromise=self.caches.open(this.cacheName)}function f(){return(f=(0,i.default)((function*(e){try{const t=(yield c).find((t=>t!==e&&u.test(t)));if(t)return new d(t)}catch(e){__LOG__(3)`Could not find previous cache, current cache:${this.cacheName}, error: ${e}`}}))).apply(this,arguments)}d.prototype={update(e,t){var r=this;return(0,i.default)((function*(){try{const n=yield function(){return f.apply(this,arguments)}(r.cacheName);if(!n)return;return __LOG__(2)`Updating cache: ${r.cacheName}`,o.get("l10n").then((i=>Promise.all(r.prefetchHashedResources(e,n).concat(r.prefetchUnhashedResources(t,i)))))}catch(e){__LOG__(3)`Error occured while updating cache:${r.cacheName}, error: ${e}`}}))()},prefetchHashedResources(e,t){var r=this;return e.map(function(){var e=(0,i.default)((function*(e){const n=self.registration.scope+e,i=yield t.match(n).catch((e=>{__LOG__(3)`Unable to match prev. cache, cache name: ${t.cacheName}, request: ${n}, error: ${e}`}));return i?r.put(n,i):r.fetchAndPut(n)}));return function(){return e.apply(this,arguments)}}())},prefetchUnhashedResources(e,t){return e.map((e=>""===e?this.fetchAndPut(self.registration.scope+a.default.getIndexPath(t),self.registration.scope,{cache:"reload"}):this.fetchAndPut(self.registration.scope+e)))},cleanup(){var e=this;return(0,i.default)((function*(){const t=yield c;return Promise.all(t.map((t=>{if(t!==e.cacheName&&!l.includes(t))return self.caches.delete(t).catch((r=>{__LOG__(3)`Unable to delete cache: ${t}, current cache: ${e.cacheName}, error: ${r}`}))})))}))()},matchOrFetch(e,t,r){var n=this;return(0,i.default)((function*(){const i=t||p(e);return(yield n.match(i))||n.fetchAndPut(e,i,r)}))()},fetchAndPut(e,t,r){var n=this;return(0,i.default)((function*(){const i=a.default.manuallyCloneRequest(e,void 0,{redirect:"manual",mode:"cors"});try{const s=yield self.fetch(i,r);if(s.ok){const r=t||p(e);n.put(r,s.clone())}else"opaqueredirect"!==s.type&&__LOG__(3)`Received invalid response, url: ${s.url}, status: ${s.status}, type: ${s.type}`;return s}catch(t){throw __LOG__(3)`Unable to fetch request: ${p(e)}, error: ${t}`,t}}))()},reset(){return this.openCachePromise=self.caches.delete(this.cacheName).then((()=>self.caches.open(this.cacheName)))},match(e,t){var r=this;return(0,i.default)((function*(){try{return(yield r.openCachePromise).match(e,t)}catch(t){__LOG__(3)`Unable to match request: ${p(e)}, in cache: ${r.cacheName}, error: ${t}`}}))()},put(e,t){var r=this;return(0,i.default)((function*(){try{return(yield r.openCachePromise).put(e,t)}catch(n){__LOG__(3)`Unable to put in cache: ${r.cacheName}, request: ${p(e)}, response status: ${t.status}, err: ${n}`}}))()},delete(e,t){var r=this;return(0,i.default)((function*(){try{return(yield r.openCachePromise).delete(e,t)}catch(t){__LOG__(3)`Unable to delete request: ${p(e)}, in cache: ${r.cacheName}, error: ${t}`}}))()},keys(e,t){var r=this;return(0,i.default)((function*(){try{return(yield r.openCachePromise).keys(e,t)}catch(t){__LOG__(3)`Unable to match request: ${p(e)}, in cache: ${r.cacheName}, error: ${t}`}}))()}};var h=d;function p(e){return e instanceof Request?e.url:e}t.default=h},3735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={version:"2.2306.7",hashedResources:["1761.1d05be3a7fddf6cb3902.js","2266.69d2da37212b0d2de4b4.js","3498.302b6e2d473f941ae308.js","4106.4ff0b0f303a7c2f0ac2c.js","432.bfe726e73e73d6d5c2ec.js","4944.cae5d06abb1b7e4ee034.js","5346.72056a1c38e64d3393ae.js","6086.14cf80e6ae6763d7a026.js","648.b63736481bc87d180992.js","73.8527fa76a8c5c8786fe4.js","app.af1c9e40459f98eb9cf6.js","early_error_handling.4638d6182053a554c6f6.js","lazy_loaded_ca_root_certificates.ab2711e7139ff1b2317d.js","lazy_loaded_high_priority_components.a1547d32d632483de1d5.js","lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.0d61ae609d6fc9b2ebdb.js","lazy_loaded_low_priority_components.c4de6b8d051267e9fef1.js","lazy_loaded_low_priority_components~.d91c1a72cb6e9876a359.js","lazy_loaded_remove_direct_connection_keys.914a9986900f63003a77.js","libsignal-protocol-ee5b8ba.min.js","main.2e8c7813569b850c5594.js","pdf.worker.96d1bc1f3d0105cd5a81bae7a9dad228.js","runtime.0aa63081808dd1b23c2d.js","vendor1~app.0c8e960e5dfd7020f562.js","vendors~lazy_loaded_business_direct_utils.e24e12d5047d3b57fef7.js","vendors~lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.e4bc397bdb594c85b9eb.js","vendors~lazy_loaded_low_priority_components.c8c8d4909f6ad2a4f8fd.js","vendors~lazy_loaded_relay.924f984ed0bd537f91a5.js","vendors~main.bfc632c7e596260920d9.js","vendors~pdf.9f876162b6247e9c8463.js","app-1b144f7f0d83ca601c21.css","browsers_67888afa0e150683b8a2.css","lazy_loaded_high_priority_components.741c7e96ab70c0c859af.css","lazy_loaded_low_priority_components.4a134c6d89de0671b0c2.css","main.f886cfa5dba8a80a6839.css","stylex-280cc25cd1f9608c9f21f66128d6fc13.css"],unhashedResources:["apple-touch-icon.png","assets-manifest-2.2306.7.json","binary-transparency-manifest-2.2306.7.json","bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf","crossdomain.xml","favicon-48x48.ico","favicon-64x64.ico","favicon.ico","notification_2a485d84012c106acef03b527bb54635.mp3","noto_emoji_regular_40c0691231b767bd3e693d583006a1ed.ttf","robots.txt","sequential-ptt-end_62ed28be622237546fd39f9468a76a49.mp3","sequential-ptt-middle_7fa161964e93db72b8d00ae22189d75f.mp3","whatsapp-webclient-login_c09223f0813e7c3adc16476cba2a5d0d.mp4","whatsapp-webclient-login-hq_0e0caf2391158ebc09fe32edd1022d03.mp4"],l10n:{locales:{"[request].18382cbd2fea006fbd6b.js":"locales/[request].18382cbd2fea006fbd6b.js","af-json.1a573e1d6d47f8487844.js":"locales/af-json.1a573e1d6d47f8487844.js","af.78b970f8c0eb53802400.js":"locales/af.78b970f8c0eb53802400.js","ar-json.b0f452e8fc427f533272.js":"locales/ar-json.b0f452e8fc427f533272.js","ar-XB.74975ebdea316ae0a2ee.js":"locales/ar-XB.74975ebdea316ae0a2ee.js","ar.40655ea6739bf5e110a8.js":"locales/ar.40655ea6739bf5e110a8.js","az-json.cfabb56cbc037d635531.js":"locales/az-json.cfabb56cbc037d635531.js","az.424ed4d414862974fd06.js":"locales/az.424ed4d414862974fd06.js","bg-json.723c91e75cec95ff8001.js":"locales/bg-json.723c91e75cec95ff8001.js","bg.28d62ed7611631c43478.js":"locales/bg.28d62ed7611631c43478.js","bn-json.fc978b5f41d708295843.js":"locales/bn-json.fc978b5f41d708295843.js","bn.243d66f7e9763d4645e0.js":"locales/bn.243d66f7e9763d4645e0.js","ca-json.2fe36102f4182030aa1d.js":"locales/ca-json.2fe36102f4182030aa1d.js","ca.eb172d332c3152ed6245.js":"locales/ca.eb172d332c3152ed6245.js","cs-json.67b193be8df953e183bf.js":"locales/cs-json.67b193be8df953e183bf.js","cs.32b0f51e60a18f8ed24f.js":"locales/cs.32b0f51e60a18f8ed24f.js","da-json.9d5a4de8e895271538b1.js":"locales/da-json.9d5a4de8e895271538b1.js","da.81d803a61991f0ea57c3.js":"locales/da.81d803a61991f0ea57c3.js","de-json.c20d887a38aef7f3b3aa.js":"locales/de-json.c20d887a38aef7f3b3aa.js","de.1f038da09431dd3554c9.js":"locales/de.1f038da09431dd3554c9.js","el-json.5f1e2eeb6ce9742d39d3.js":"locales/el-json.5f1e2eeb6ce9742d39d3.js","el.01cefab320922ca01dd3.js":"locales/el.01cefab320922ca01dd3.js","en-json.36285e108215a6aa2565.js":"locales/en-json.36285e108215a6aa2565.js","en.7b14b0f29b6fb0248a9c.js":"locales/en.7b14b0f29b6fb0248a9c.js","es-json.0e8feb7f785ac54a82f6.js":"locales/es-json.0e8feb7f785ac54a82f6.js","es.d79f82a1918e74a6ba4c.js":"locales/es.d79f82a1918e74a6ba4c.js","et-json.a67ff5f86adb29713b02.js":"locales/et-json.a67ff5f86adb29713b02.js","et.bd478475d0a2ff419929.js":"locales/et.bd478475d0a2ff419929.js","fa-json.62d83d6ba8202acfc5f7.js":"locales/fa-json.62d83d6ba8202acfc5f7.js","fa.22421e9bd48ea5666f93.js":"locales/fa.22421e9bd48ea5666f93.js","fi-json.defeb2e6f36381bb963a.js":"locales/fi-json.defeb2e6f36381bb963a.js","fi.3b080e04e4ed59e8edfd.js":"locales/fi.3b080e04e4ed59e8edfd.js","fil-json.5e4b011f2c6c87fa2747.js":"locales/fil-json.5e4b011f2c6c87fa2747.js","fil.c1afb5c904fb19d66066.js":"locales/fil.c1afb5c904fb19d66066.js","fr-json.5a5e66a774e126c67d46.js":"locales/fr-json.5a5e66a774e126c67d46.js","fr.124316e763d3d37825df.js":"locales/fr.124316e763d3d37825df.js","gu-json.ce81ccf83b7c10e13db6.js":"locales/gu-json.ce81ccf83b7c10e13db6.js","gu.999bf875824d8d94541b.js":"locales/gu.999bf875824d8d94541b.js","he-json.f37e9a8582615b973ace.js":"locales/he-json.f37e9a8582615b973ace.js","he.fc54ef92614c3a2b5898.js":"locales/he.fc54ef92614c3a2b5898.js","hi-json.539546e996b60755c473.js":"locales/hi-json.539546e996b60755c473.js","hi.7307dbe6cab778e3b3a4.js":"locales/hi.7307dbe6cab778e3b3a4.js","hr-json.52beac4a1bd06933d8fd.js":"locales/hr-json.52beac4a1bd06933d8fd.js","hr.2db40214251fb7893089.js":"locales/hr.2db40214251fb7893089.js","hu-json.295f887d9a376cbcbb79.js":"locales/hu-json.295f887d9a376cbcbb79.js","hu.0cc04ebc5b3175485f50.js":"locales/hu.0cc04ebc5b3175485f50.js","id-json.754e1417aa8188f80542.js":"locales/id-json.754e1417aa8188f80542.js","id.79cc778fcebb65576cd9.js":"locales/id.79cc778fcebb65576cd9.js","it-json.ad82a022760278486b28.js":"locales/it-json.ad82a022760278486b28.js","it.af56cbd55b7f25327856.js":"locales/it.af56cbd55b7f25327856.js","ja-json.9283c84ebe13cc831031.js":"locales/ja-json.9283c84ebe13cc831031.js","ja.f48bbbf1eac43069bfe2.js":"locales/ja.f48bbbf1eac43069bfe2.js","kk-json.9ab2e9c02174dcfea1c3.js":"locales/kk-json.9ab2e9c02174dcfea1c3.js","kk.0d639098d161bf311cff.js":"locales/kk.0d639098d161bf311cff.js","kn-json.2af4afb66e6abd25a3f9.js":"locales/kn-json.2af4afb66e6abd25a3f9.js","kn.7af578100ee3212c0523.js":"locales/kn.7af578100ee3212c0523.js","ko-json.4e3b4fecff34b5d1515e.js":"locales/ko-json.4e3b4fecff34b5d1515e.js","ko.87da6c3edb24aa38d329.js":"locales/ko.87da6c3edb24aa38d329.js","lt-json.b25173cdb23c95db65f9.js":"locales/lt-json.b25173cdb23c95db65f9.js","lt.24cf915a44a0e3dcc7b8.js":"locales/lt.24cf915a44a0e3dcc7b8.js","lv-json.7445738c873f707d2815.js":"locales/lv-json.7445738c873f707d2815.js","lv.9a219614bdf768eeff76.js":"locales/lv.9a219614bdf768eeff76.js","mk-json.874c30e38edb3072ebd8.js":"locales/mk-json.874c30e38edb3072ebd8.js","mk.b3a3728cbccf38efb0d8.js":"locales/mk.b3a3728cbccf38efb0d8.js","ml-json.3a573fe6c4032c895408.js":"locales/ml-json.3a573fe6c4032c895408.js","ml.dfea60e39d4647a59ba8.js":"locales/ml.dfea60e39d4647a59ba8.js","mr-json.95e071d9f8bc9e602d33.js":"locales/mr-json.95e071d9f8bc9e602d33.js","mr.891716c582b63e4e6101.js":"locales/mr.891716c582b63e4e6101.js","ms-json.8c64f65f1eae982f90b1.js":"locales/ms-json.8c64f65f1eae982f90b1.js","ms.31c21177049dcd735e83.js":"locales/ms.31c21177049dcd735e83.js","nb-json.9307323d6f9902c7a92a.js":"locales/nb-json.9307323d6f9902c7a92a.js","nb.c6a17648b34e3474fb19.js":"locales/nb.c6a17648b34e3474fb19.js","nl-json.aa5b46f164676bbdd244.js":"locales/nl-json.aa5b46f164676bbdd244.js","nl.bcff073836d73a97b036.js":"locales/nl.bcff073836d73a97b036.js","pa-json.ae89a11ecdbfaa18390a.js":"locales/pa-json.ae89a11ecdbfaa18390a.js","pa.bdd3c9c14008be210167.js":"locales/pa.bdd3c9c14008be210167.js","pl-json.79529a77d52e269711b7.js":"locales/pl-json.79529a77d52e269711b7.js","pl.b21df01849eb88f29f66.js":"locales/pl.b21df01849eb88f29f66.js","pt-BR.86c961b77ee7a33d755f.js":"locales/pt-BR.86c961b77ee7a33d755f.js","pt-json.613e0dba92dfcb4ef9d3.js":"locales/pt-json.613e0dba92dfcb4ef9d3.js","pt.ad5d3c0062a791f1b210.js":"locales/pt.ad5d3c0062a791f1b210.js","ro-json.074bafb0a0a5ed25f095.js":"locales/ro-json.074bafb0a0a5ed25f095.js","ro.4ee6194606cf3daf2296.js":"locales/ro.4ee6194606cf3daf2296.js","ru-json.02eab0411e24e15b550f.js":"locales/ru-json.02eab0411e24e15b550f.js","ru.42b5fca601d818d22a9a.js":"locales/ru.42b5fca601d818d22a9a.js","sk-json.f735d0c1931c81f1321b.js":"locales/sk-json.f735d0c1931c81f1321b.js","sk.5cabd587ca71da7e49aa.js":"locales/sk.5cabd587ca71da7e49aa.js","sl-json.241e17fdd8e95be5b711.js":"locales/sl-json.241e17fdd8e95be5b711.js","sl.c8ebf9096c8fb14925ce.js":"locales/sl.c8ebf9096c8fb14925ce.js","sq-json.e5b8563e626f6d63912b.js":"locales/sq-json.e5b8563e626f6d63912b.js","sq.904b7a017736692d1115.js":"locales/sq.904b7a017736692d1115.js","sr-json.59c47cc4419254e3ef6d.js":"locales/sr-json.59c47cc4419254e3ef6d.js","sr.e235fade3d175a4765c2.js":"locales/sr.e235fade3d175a4765c2.js","sv-json.ffbd29f882356d0d9b17.js":"locales/sv-json.ffbd29f882356d0d9b17.js","sv.ec8298f47bca193db3b6.js":"locales/sv.ec8298f47bca193db3b6.js","sw-json.95641d9b81ceb6f8db3c.js":"locales/sw-json.95641d9b81ceb6f8db3c.js","sw.b0ce1b297b895abf8c96.js":"locales/sw.b0ce1b297b895abf8c96.js","ta-json.4c25dffaf1ba7b5d0775.js":"locales/ta-json.4c25dffaf1ba7b5d0775.js","ta.61eef3def04767e57ad8.js":"locales/ta.61eef3def04767e57ad8.js","te-json.52081c207a28fe3af19f.js":"locales/te-json.52081c207a28fe3af19f.js","te.71007cbfd40e48d21cea.js":"locales/te.71007cbfd40e48d21cea.js","th-json.6dea1c0824b6ea3806b2.js":"locales/th-json.6dea1c0824b6ea3806b2.js","th.f5fb6332e32c1f86eb49.js":"locales/th.f5fb6332e32c1f86eb49.js","tr-json.cf3ce68fbc714b0e40ee.js":"locales/tr-json.cf3ce68fbc714b0e40ee.js","tr.16c7d75f8d75eb8315a4.js":"locales/tr.16c7d75f8d75eb8315a4.js","uk-json.939d3c500050d305ec88.js":"locales/uk-json.939d3c500050d305ec88.js","uk.1efc6ee093b49839f758.js":"locales/uk.1efc6ee093b49839f758.js","ur-json.5a268ce295d86ab12215.js":"locales/ur-json.5a268ce295d86ab12215.js","ur.cd7ec509473d4083386b.js":"locales/ur.cd7ec509473d4083386b.js","uz-json.640d641140439bd57953.js":"locales/uz-json.640d641140439bd57953.js","uz.fc411ebe35590917fd0b.js":"locales/uz.fc411ebe35590917fd0b.js","vi-json.ebe98b4b3031e342e47f.js":"locales/vi-json.ebe98b4b3031e342e47f.js","vi.66f7669011fda07ca431.js":"locales/vi.66f7669011fda07ca431.js","zh-CN-json.113e9960f821c903c89d.js":"locales/zh-CN-json.113e9960f821c903c89d.js","zh-CN.d2c02583a11aa5d3dc9d.js":"locales/zh-CN.d2c02583a11aa5d3dc9d.js","zh-HK-json.df92d1dd50e2169562fd.js":"locales/zh-HK-json.df92d1dd50e2169562fd.js","zh-HK.641c973389da2f697805.js":"locales/zh-HK.641c973389da2f697805.js","zh-TW-json.13263c8eecd52ef95a7f.js":"locales/zh-TW-json.13263c8eecd52ef95a7f.js","zh-TW.a3e8dbc29dda03a97d3b.js":"locales/zh-TW.a3e8dbc29dda03a97d3b.js"},styles:{}},releaseDate:1675708012284}},6857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const r=new RegExp(`(${self.registration.scope}|https://web.whatsapp.com/|https://dyn.web.whatsapp.com/)([^?]*)(?:\\?(.*))?`);class n{static parseUrl(e){const t=e.match(r);if(!t)return;let n;if(t[3]){const r={},i=new Set;t[3].split("&").forEach((t=>{const[n,s]=t.split("="),a=n.toLowerCase();if(i.has(a))throw __LOG__(4,void 0,new Error)`Unexpected duplicated query param: ${n}=${s} in the url: ${e}`,new Error("Detected url with duplicated query param");i.add(a),r[n]=s})),n=r}return{base:t[1],relativePath:t[2],queryParams:n}}static convertToUrl(e,t){const r=Object.keys(t).map((e=>[e,t[e]].map(encodeURIComponent).join("="))).join("&");return r.length?e.endsWith("/")?`${e}?${r}`:`${e}/?${r}`:e}constructor(e,t){this.matchFetch=()=>!1,this.matchAction=()=>!1,this.matchInstall=()=>!1,this.matchActivate=()=>!1,this.matchPush=()=>!1,this.matchNotificationClick=()=>!1,this.cache=e,this.store=t}}t.default=n,n.RequestType={GET:"GET"}},5791:(e,t,r)=>{self.__LOG__=r(4453).cM,self.SEND_LOGS=r(4453).ws},4453:(e,t,r)=>{"use strict";var n=r(5318);t.cM=void 0,t.ws=S;var i=n(r(8926)),s=n(r(6432)),a=n(r(1054)),o=n(r(3948)),c=n(r(9194));const u="log",l="info",d="warn",f="error",h="errorVerbose",p=1e3;let _,y=[],v=Promise.resolve();function m(e){return new Promise((t=>{setTimeout(t,e)}))}const g=function(e,t){let r,n;return function i(){if(!r){const s=Array.prototype.slice.call(arguments);return r=new Promise((function(e){self.setTimeout((function(){r=null,n&&(e(i.apply(null,s)),n=!1),e()}),t)})),Promise.resolve(e.apply(null,s))}return n=!0,r}}((function(){return b.apply(this,arguments)}),500);function b(){return(b=(0,i.default)((function*(){if(0!==y.length)try{yield o.default.broadcast(c.default.LOG,{buffer:y}),y=[]}catch(e){}}))).apply(this,arguments)}function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length&&y.push({level:h,message:t}),_=_||w(),_}function w(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{let t;try{yield v,t=yield o.default.broadcast(c.default.UPLOAD_LOGS,{buffer:y})}catch(r){if(!(e<3))throw new Error("Max generation reached. Failed to upload.");yield m(p),t=yield w(e+1)}return _=void 0,t}catch(e){__LOG__(3)`Unable to send upload request, error: ${e}`,_=void 0}}))).apply(this,arguments)}const A=(0,s.default)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return function(s){for(var o=arguments.length,c=new Array(o>1?o-1:0),u=1;u<o;u++)c[u-1]=arguments[u];const l=(0,a.default)(s,c,!t);let d;return r&&(d={name:r.name,stack:r.stack}),T(j(e,t),[l],d,n,i),l}}),((e,t,r,n,i)=>r||i?null:String(e)+String(Boolean(t))+String(Boolean(n))));function T(e,t,r,n,i){0!==t.length&&(y.push({level:e,message:t,error:r,attachedToSendLogs:n,extraTags:i}),v=g())}function j(e,t){switch(e){case 1:return l;case 2:return u;case 3:return d;case 4:return t?h:f}throw new Error(`Invalid numeric level ${e}${t?", verbose":""}`)}t.cM=A,self.addEventListener("error",(e=>{S(`Global Scope error: ${String(e.error)}, stack: ${e.error?e.error.stack:""}`)}))},3986:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(6857));class s extends i.default{constructor(){super(...arguments),this.matchNotificationClick=()=>!0,this.onNotificationClick=e=>{}}}t.default=s},2083:(e,t,r)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(3563)).default;t.default=i},3563:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8926)),s=n(r(9619)),a=n(r(1373));const o={prefs:{},pp:{},stickers:{}};let c;class u{constructor(e){this.storeName=e,this.storeCache={}}_callAction(e,t){var r=this;return(0,i.default)((function*(){const n=(yield c||(c=new Promise(((e,t)=>{const r=(0,s.default)(a.default,"indexedDB").open("sw",2);r.onupgradeneeded=e=>{const t=e.target.result;e.target.transaction.onerror=e=>{__LOG__(3)`Unable to upgrade database, error: ${e.target.error}`};for(const e in o)t.objectStoreNames.contains(e)&&t.deleteObjectStore(e),t.createObjectStore(e,o[e])},r.onsuccess=t=>{e(t.target.result)},r.onerror=e=>{t(e.target.error)}})).catch((e=>{throw __LOG__(3)`Unable to open sw database, error: ${e}`,c=void 0,e})))).transaction([r.storeName],"readwrite").objectStore(r.storeName),i=n[e].apply(n,t);return new Promise(((e,t)=>{i.onsuccess=t=>{e(t.target.result)},i.onerror=e=>{t(e.target.error)}}))}))()}get(e){return void 0!==this.storeCache[e]?this.storeCache[e]:this.storeCache[e]=this._callAction("get",[e]).catch((t=>{__LOG__(3)`Unable to fetch from db, object store: ${this.storeName}, key: ${e}, error: ${t}`,this.storeCache[e]=void 0}))}put(e,t){return this.storeCache[e]=Promise.resolve(t),this._callAction("put",[t,e]).catch((r=>{__LOG__(3)`Unable to put to db, object store: ${this.storeName}, key: ${e}, value: ${t}, error: ${r}`}))}delete(e){return this.storeCache[e]=Promise.resolve(void 0),this._callAction("delete",[e]).catch((t=>{__LOG__(3)`Unable to delete in db, object store: ${this.storeName}, key: ${e}, error: ${t}`}))}clear(){return this.storeCache={},this._callAction("clear").catch((e=>{__LOG__(3)`Unable to clear object store: ${this.storeName}, error: ${e}`}))}}const l={ObjectStore:u};for(const e in o)l[e]=new u(e);var d=l;t.default=d},6278:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8926)),s=n(r(9194)),a=n(r(6857)),o=n(r(5420));class c extends a.default{constructor(){var e;super(...arguments),e=this,this.matchFetch=e=>{const{request:t}=e,r=a.default.parseUrl(t.url);return t.method===a.default.RequestType.GET&&!!r&&("https://web.whatsapp.com/"===r.base||"https://dyn.web.whatsapp.com/"===r.base)&&"pp"===r.relativePath},this.onFetch=function(){var t=(0,i.default)((function*(t){const{request:r}=t,n=a.default.parseUrl(r.url);if(!n||!n.queryParams)return self.fetch(r);const{e:i,t:s,u:c,i:u,n:l}=n.queryParams,d=`${n.base}${n.relativePath}?t=${s}&u=${c}&i=${u}&n=${l}`,f=i?self.decodeURIComponent(i):r;o.default.assertIsAllowedHost(i?self.decodeURIComponent(i):r.url);const h=yield e.cache.matchOrFetch(f,d);return h.ok&&e.store.get(c).then((t=>{if(t!==u)return Promise.all([e.removePPFromCache(c,u),e.store.put(c,u)])})),o.default.assertIsAllowedHost(h.url),h}));return function(){return t.apply(this,arguments)}}(),this.matchAction=e=>s.default.REMOVE_PP===e||s.default.LOGOUT===e,this.onAction=(e,t)=>{switch(e){case s.default.REMOVE_PP:const e=self.encodeURIComponent(t);return this.store.get(e).then((t=>{if(t)return Promise.all([this.removePPFromCache(e,t),this.store.delete(e)])})).then((()=>{}));default:return Promise.all([this.cache.reset(),this.store.clear()]).then((()=>{}))}}}removePPFromCache(e,t){return Promise.all([this.cache.delete(`https://web.whatsapp.com/pp?t=s&u=${e}&i=${t}`),this.cache.delete(`https://web.whatsapp.com/pp?t=l&u=${e}&i=${t}`),this.cache.delete(`https://dyn.web.whatsapp.com/pp?t=s&u=${e}&i=${t}`),this.cache.delete(`https://dyn.web.whatsapp.com/pp?t=l&u=${e}&i=${t}`)])}}t.default=c},2100:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8926)),s=r(9026),a=n(r(9194)),o=n(r(6857));class c extends o.default{constructor(){super(...arguments),this.matchInstall=()=>!0,this.onInstall=()=>{},this.matchActivate=()=>!0,this.onActivate=()=>{},this.matchPush=()=>!0,this.onPush=e=>{e.waitUntil(Promise.resolve())},this.matchAction=e=>e===a.default.STOP_COMMS,this.onAction=function(){var e=(0,i.default)((function*(){(0,s.getComms)()&&(yield(0,s.stopComms)(),__LOG__(2)`[push-notification] Successfully stopped Comms in service worker`)}));return function(){return e.apply(this,arguments)}}()}}t.default=c},2543:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(7674),s=n(r(6857));class a extends s.default{constructor(){super(...arguments),this.matchFetch=e=>{const{request:t}=e,r=new URL(t.url),n=new URLSearchParams(r.search);return t.method===s.default.RequestType.GET&&n.has(i.IS_MMS_URL_SEARCH_PARAM)&&(0===r.pathname.indexOf("/mms/sticker/")||"sticker"===n.get(i.MMS_URL_MEDIA_TYPE_SEARCH_PARAM))},this.onFetch=e=>this.cache.matchOrFetch(e.request)}}t.default=a},5420:(e,t)=>{"use strict";function r(e){const t=new URL(e),r=t.host;if("https:"!==t.protocol||!/\.whatsapp\.(net|com)(:\d+)?$/.test(r))throw __LOG__(4,void 0,new Error,!0)`Unexpected url`,SEND_LOGS("SW: Potential XSS attack"),new Error("URL is not of allowed host or protocol")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={manuallyCloneRequest:function(e,t,n){let i=n;if("string"==typeof e){i=i||{},i.credentials="same-origin";const n=null!=t?t:e;return r(n),new Request(n,i)}const s=null!=t?t:e.url;return r(s),new Request(s||e.url,{method:void 0===i.method?e.method:i.method,headers:void 0===i.headers?e.headers:i.headers,mode:void 0===i.mode?e.mode:i.mode,credentials:"same-origin",cache:void 0===i.cache?e.cache:i.cache,redirect:void 0===i.redirect?e.redirect:i.redirect,integrity:void 0===i.integrity?e.integrity:i.integrity})},getIndexPath:function(e){return(null==e?void 0:e.locale)?`%F0%9F%8C%90/${e.locale}`:""},assertIsAllowedHost:r};t.default=n},4414:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.VideoStreamer=void 0,t.parseClientRange=f;var i=n(r(8926)),s=r(9093),a=r(8358),o=r(8615),c=n(r(3948)),u=n(r(9194)),l=n(r(5420));const d=65536;function f(e){const{clientRangeStartString:t,clientRangeEndString:r}=function(e){const t=e.headers.get("Range");if(t){const[e,r]=t.replace("bytes=","").split("-");return{clientRangeStartString:e,clientRangeEndString:r}}const r=new URL(e.url);return{clientRangeStartString:r.searchParams.get("bytesstart"),clientRangeEndString:r.searchParams.get("bytesend")}}(e),n=parseInt(t,10),i=parseInt(r,10);return{clientRangeStart:isNaN(n)?0:n,clientRangeEnd:isNaN(i)?null:i}}t.VideoStreamer=class{constructor(e,t,r){this.generation=0;const{sidecar:n}=t,i=[];for(let e=0;e<n.byteLength;e+=o.HMAC_SIZE)i.push(n.slice(e,e+o.HMAC_SIZE));this.cryptoKeys={iv:t.iv,sidecar:i,encKey:t.encKey,macKey:t.macKey},this.streamData=r,this.clientId=e}fetchAndDecrypt(e){var t=this;return(0,i.default)((function*(){const{clientUrl:r,msgKey:n}=t.streamData,{clientRangeStart:i,clientRangeEnd:s}=f(e),{serverRangeStart:a,serverRangeEnd:l}=t.computeServerRange(i,s),d=t.createServerRequest(e,a,l,r),h=yield fetch(d);if(404===h.status)return t.handleRMR(e,n);if(h.status>=400)return __LOG__(2)`sw:videoStreaming:processRequest server returns ${h.status} error`,t.generation++,c.default.request(t.clientId,u.default.EXP_BACKOFF,{generation:t.generation}).then((()=>t.fetchAndDecrypt(e)));t.generation=0;const p=yield h.arrayBuffer(),_=p.byteLength;if(!p||_<o.BLOCK_SIZE)return __LOG__(2)`sw:videoStreaming:processRequest ciphertext is too short - ${_} bytes`,new Response(`Ciphertext is too short - ${_} bytes`,{status:500});yield t.validateSidecar(a,p);const{ciphertext:y,iv:v}=yield(0,o.cleanupCiphertextAndIv)({serverRangeStart:a,ciphertext:p,mediaKeys:t.cryptoKeys}),m=yield(0,o.decrypt)({ciphertext:y,iv:v,mediaKeys:t.cryptoKeys}),g=t.cleanupPlaintext(m,{clientRangeStart:i,clientRangeEnd:s},{serverRangeStart:a,serverRangeEnd:l}),b=t.createClientResponse(h,g,i);return t.sendBackArrayBuffer(i,g),b}))()}handleRMR(e,t){var r=this;return(0,i.default)((function*(){const n=yield c.default.request(r.clientId,u.default.REQUEST_RMR,{key:t});return r.cryptoKeys.encKey=n.encKey,r.cryptoKeys.iv=n.iv,r.streamData.clientUrl=n.clientUrl,r.streamData.size=n.size,r.fetchAndDecrypt(e)}))()}cleanupPlaintext(e,t,r){let{clientRangeStart:n,clientRangeEnd:i}=t,{serverRangeStart:s,serverRangeEnd:a}=r;const c=0===s?0:n-(s+o.BLOCK_SIZE),u=null!=i?a-i:0;return e.slice(c,e.byteLength-u)}validateSidecar(e,t){var r=this;return(0,i.default)((function*(){let n=t;const{macKey:i,iv:s,sidecar:c}=r.cryptoKeys;let u,l;0===e?(u=0,l=s):(u=(e+o.BLOCK_SIZE)/d,l=n.slice(0,o.BLOCK_SIZE),n=n.slice(o.BLOCK_SIZE));const f=n.byteLength/d,h=yield self.crypto.subtle.importKey("raw",new Uint8Array(i),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),p=[];for(let e=0;e<f;e++){const t=c[u+e],i=e*d,s=n.slice(i,i+d),f=l;l=s.slice(d-o.BLOCK_SIZE,d-o.BLOCK_SIZE+o.BLOCK_SIZE);const _=(0,a.concatTypedArrays)(Uint8Array,[new Uint8Array(f),new Uint8Array(s)]);p.push(r.validateChunk(_,h,t))}return Promise.all(p)}))()}validateChunk(e,t,r){return(0,i.default)((function*(){const n=(yield self.crypto.subtle.sign({name:"HMAC"},t,e)).slice(0,o.HMAC_SIZE);if(!(0,s.arrayBuffersEqual)(n,r))return Promise.reject(new Error("Invalid Chunk: Does not match sidecar."))}))()}createClientResponse(e,t,r){const{size:n}=this.streamData,{contentRangeStart:i,contentRangeEnd:s}=this.getContentRange(r,t),a=new Headers(e.headers);a.set("Content-Range",`bytes ${i}-${s}/${n}`),a.set("Content-Length",`${t.byteLength}`);return new Response(t,{status:200===e.status?206:e.status,statusText:e.statusText,headers:a})}getContentRange(e,t){return{contentRangeStart:e,contentRangeEnd:e+t.byteLength-1}}sendBackArrayBuffer(e,t){const{contentRangeStart:r,contentRangeEnd:n}=this.getContentRange(e,t);c.default.request(this.clientId,u.default.SEND_STREAMING_CHUNK,{msgKey:this.streamData.msgKey,data:{start:r,end:n,buffer:t}})}createServerRequest(e,t,r,n){const i=new URL(n);i.searchParams.set("bytestart",t.toString()),i.searchParams.set("byteend",r.toString());return l.default.manuallyCloneRequest(e,i.toString(),{credentials:"omit",headers:new Headers({}),mode:"cors",referrer:e.referrer})}computeServerRange(e,t){let r=e,n=t;return r=e?this.roundDown(e,d):0,n=null!=t&&0!==t?this.roundUp(t,d)-1:r+1572864-1,r>0&&(r-=o.BLOCK_SIZE),{serverRangeStart:r,serverRangeEnd:n}}roundUp(e,t){return Math.ceil(e/t)*t}roundDown(e,t){return Math.floor(e/t)*t}}},9906:(e,t,r)=>{"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8926)),s=n(r(3948)),a=n(r(9194)),o=n(r(6857)),c=r(4414);class u extends o.default{constructor(){super(...arguments),this.matchFetch=e=>{const{request:t}=e,r=o.default.parseUrl(t.url);return!!(t.method===o.default.RequestType.GET&&r&&r.queryParams&&r.queryParams.key&&t.url.match("/stream/video"))},this.onFetch=function(){var e=(0,i.default)((function*(e){const{request:t,client:r,clientId:n}=e,i=o.default.parseUrl(t.url),u=n||(null==r?void 0:r.id);if(!u)return Promise.reject(new Error("No client id found."));const{cryptoKeys:l,streamData:d}=yield s.default.request(u,a.default.REQUEST_STREAMING_INFO,{key:i.queryParams.key});return new c.VideoStreamer(u,l,d).fetchAndDecrypt(t)}));return function(){return e.apply(this,arguments)}}(),this.matchAction=e=>e===a.default.STREAMING_SUPPORTED,this.onAction=()=>!(!self.crypto||!self.crypto.subtle&&!self.crypto.webkitSubtle)}}t.default=u},2329:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{"use strict";var e=r(5318);r(5791);var t=e(r(1157)),n=e(r(3933)),i=e(r(2612)),s=e(r(8043)),a=e(r(7719)),o=e(r(3986)),c=e(r(2083)),u=e(r(6278)),l=e(r(2100)),d=e(r(2543)),f=e(r(9906));const h=new a.default("wa-stickers"),p=[new u.default(new a.default("wa-pp"),c.default.pp),new f.default,new s.default(new a.default("wa2.2306.7"),c.default.prefs),new n.default(new a.default("wa-assets")),new d.default(h,c.default.stickers),new t.default,new l.default,new o.default];(0,i.default)(p)})()})();