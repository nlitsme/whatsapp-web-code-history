/*! Copyright (c) 2024 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[275],{975882:function(e,t,a){"undefined"!=typeof navigator&&(e.exports=function(){"use strict";var e="http://www.w3.org/2000/svg",n="",r=!1,i=-999999,l=function(e){r=!!e},o=function(){return r},s=function(e){n=e},u=function(){return n};function d(e){return document.createElement(e)}function c(e,t){var a,n,r=e.length;for(a=0;a<r;a+=1)for(var i in n=e[a].prototype)Object.prototype.hasOwnProperty.call(n,i)&&(t.prototype[i]=n[i])}function f(e){function t(){}return t.prototype=e,t}var p=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,a=this.audios.length;for(t=0;t<a;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),h=function(){function e(e,t){var a,n=0,r=[];switch(e){case"int16":case"uint8c":a=1;break;default:a=1.1}for(n=0;n<t;n+=1)r.push(a);return r}function t(t,a){return"float32"===t?new Float32Array(a):"int16"===t?new Int16Array(a):"uint8c"===t?new Uint8ClampedArray(a):e(t,a)}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?t:e}();function m(e){return Array.apply(null,{length:e})}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=!0,v=null,E=null,C="",b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_=Math.pow,w=Math.sqrt,S=Math.floor,k=(Math.max,Math.min),M={};(function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],a=t.length;for(e=0;e<a;e+=1)M[t[e]]=Math[t[e]]})(),M.random=Math.random,M.abs=function(e){if("object"===g(e)&&e.length){var t,a=m(e.length),n=e.length;for(t=0;t<n;t+=1)a[t]=Math.abs(e[t]);return a}return Math.abs(e)};var P=150,T=Math.PI/180,O=.5519;function x(e){}function I(e,t,a,n){this.type=e,this.currentTime=t,this.totalTime=a,this.direction=n<0?-1:1}function L(e,t){this.type=e,this.direction=t<0?-1:1}function D(e,t,a,n){this.type=e,this.currentLoop=a,this.totalLoops=t,this.direction=n<0?-1:1}function R(e,t,a){this.type=e,this.firstFrame=t,this.totalFrames=a}function A(e,t){this.type=e,this.target=t}function N(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function j(e){this.type="configError",this.nativeError=e}var F,B=(F=0,function(){return C+"__lottie_element_"+(F+=1)});function W(e,t,a){var n,r,i,l,o,s,u,d;switch(s=a*(1-t),u=a*(1-(o=6*e-(l=Math.floor(6*e)))*t),d=a*(1-(1-o)*t),l%6){case 0:n=a,r=d,i=s;break;case 1:n=u,r=a,i=s;break;case 2:n=s,r=a,i=d;break;case 3:n=s,r=u,i=a;break;case 4:n=d,r=s,i=a;break;case 5:n=a,r=s,i=u}return[n,r,i]}function H(e,t,a){var n,r=Math.max(e,t,a),i=Math.min(e,t,a),l=r-i,o=0===r?0:l/r,s=r/255;switch(r){case i:n=0;break;case e:n=t-a+l*(t<a?6:0),n/=6*l;break;case t:n=a-e+2*l,n/=6*l;break;case a:n=e-t+4*l,n/=6*l}return[n,o,s]}function z(e,t){var a=H(255*e[0],255*e[1],255*e[2]);return a[1]+=t,a[1]>1?a[1]=1:a[1]<=0&&(a[1]=0),W(a[0],a[1],a[2])}function U(e,t){var a=H(255*e[0],255*e[1],255*e[2]);return a[2]+=t,a[2]>1?a[2]=1:a[2]<0&&(a[2]=0),W(a[0],a[1],a[2])}function V(e,t){var a=H(255*e[0],255*e[1],255*e[2]);return a[0]+=t/360,a[0]>1?a[0]-=1:a[0]<0&&(a[0]+=1),W(a[0],a[1],a[2])}!function(){var e,t,a=[];for(e=0;e<256;e+=1)t=e.toString(16),a[e]=1===t.length?"0"+t:t}();var q=function(e){y=!!e},G=function(){return y},Y=function(e){v=e},K=function(){return v},X=function(){return E},Z=function(e){P=e},Q=function(){return P},J=function(e){C=e};function $(t){return document.createElementNS(e,t)}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var te=function(){var e,t,a=1,n=[],r={onmessage:function(){},postMessage:function(t){e({data:t})}},i={postMessage:function(e){r.onmessage({data:e})}};function l(t){if(window.Worker&&window.Blob&&o()){var a=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),n=URL.createObjectURL(a);return new Worker(n)}return e=t,r}function s(){t||((t=l((function(e){function t(){function e(t,a){var l,o,s,u,d,c,f=t.length;for(o=0;o<f;o+=1)if("ks"in(l=t[o])&&!l.completed){if(l.completed=!0,l.hasMask){var p=l.masksProperties;for(u=p.length,s=0;s<u;s+=1)if(p[s].pt.k.i)i(p[s].pt.k);else for(c=p[s].pt.k.length,d=0;d<c;d+=1)p[s].pt.k[d].s&&i(p[s].pt.k[d].s[0]),p[s].pt.k[d].e&&i(p[s].pt.k[d].e[0])}0===l.ty?(l.layers=n(l.refId,a),e(l.layers,a)):4===l.ty?r(l.shapes):5===l.ty&&h(l)}}function t(t,a){if(t){var r=0,i=t.length;for(r=0;r<i;r+=1)1===t[r].t&&(t[r].data.layers=n(t[r].data.refId,a),e(t[r].data.layers,a))}}function a(e,t){for(var a=0,n=t.length;a<n;){if(t[a].id===e)return t[a];a+=1}return null}function n(e,t){var n=a(e,t);return n?n.layers.__used?JSON.parse(JSON.stringify(n.layers)):(n.layers.__used=!0,n.layers):null}function r(e){var t,a,n;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)i(e[t].ks.k);else for(n=e[t].ks.k.length,a=0;a<n;a+=1)e[t].ks.k[a].s&&i(e[t].ks.k[a].s[0]),e[t].ks.k[a].e&&i(e[t].ks.k[a].e[0]);else"gr"===e[t].ty&&r(e[t].it)}function i(e){var t,a=e.i.length;for(t=0;t<a;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function l(e,t){var a=t?t.split("."):[100,100,100];return e[0]>a[0]||!(a[0]>e[0])&&(e[1]>a[1]||!(a[1]>e[1])&&(e[2]>a[2]||!(a[2]>e[2])&&null))}var o,s=function(){var e=[4,4,14];function t(e){var t=e.t.d;e.t.d={k:[{s:t,t:0}]}}function a(e){var a,n=e.length;for(a=0;a<n;a+=1)5===e[a].ty&&t(e[a])}return function(t){if(l(e,t.v)&&(a(t.layers),t.assets)){var n,r=t.assets.length;for(n=0;n<r;n+=1)t.assets[n].layers&&a(t.assets[n].layers)}}}(),u=(o=[4,7,99],function(e){if(e.chars&&!l(o,e.v)){var t,a=e.chars.length;for(t=0;t<a;t+=1){var n=e.chars[t];n.data&&n.data.shapes&&(r(n.data.shapes),n.data.ip=0,n.data.op=99999,n.data.st=0,n.data.sr=1,n.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(n.data.shapes.push({ty:"no"}),n.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),d=function(){var e=[5,7,15];function t(e){var t=e.t.p;"number"==typeof t.a&&(t.a={a:0,k:t.a}),"number"==typeof t.p&&(t.p={a:0,k:t.p}),"number"==typeof t.r&&(t.r={a:0,k:t.r})}function a(e){var a,n=e.length;for(a=0;a<n;a+=1)5===e[a].ty&&t(e[a])}return function(t){if(l(e,t.v)&&(a(t.layers),t.assets)){var n,r=t.assets.length;for(n=0;n<r;n+=1)t.assets[n].layers&&a(t.assets[n].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var a,n,r,i=e.length;for(a=0;a<i;a+=1)if("gr"===e[a].ty)t(e[a].it);else if("fl"===e[a].ty||"st"===e[a].ty)if(e[a].c.k&&e[a].c.k[0].i)for(r=e[a].c.k.length,n=0;n<r;n+=1)e[a].c.k[n].s&&(e[a].c.k[n].s[0]/=255,e[a].c.k[n].s[1]/=255,e[a].c.k[n].s[2]/=255,e[a].c.k[n].s[3]/=255),e[a].c.k[n].e&&(e[a].c.k[n].e[0]/=255,e[a].c.k[n].e[1]/=255,e[a].c.k[n].e[2]/=255,e[a].c.k[n].e[3]/=255);else e[a].c.k[0]/=255,e[a].c.k[1]/=255,e[a].c.k[2]/=255,e[a].c.k[3]/=255}function a(e){var a,n=e.length;for(a=0;a<n;a+=1)4===e[a].ty&&t(e[a].shapes)}return function(t){if(l(e,t.v)&&(a(t.layers),t.assets)){var n,r=t.assets.length;for(n=0;n<r;n+=1)t.assets[n].layers&&a(t.assets[n].layers)}}}(),f=function(){var e=[4,4,18];function t(e){var a,n,r;for(a=e.length-1;a>=0;a-=1)if("sh"===e[a].ty)if(e[a].ks.k.i)e[a].ks.k.c=e[a].closed;else for(r=e[a].ks.k.length,n=0;n<r;n+=1)e[a].ks.k[n].s&&(e[a].ks.k[n].s[0].c=e[a].closed),e[a].ks.k[n].e&&(e[a].ks.k[n].e[0].c=e[a].closed);else"gr"===e[a].ty&&t(e[a].it)}function a(e){var a,n,r,i,l,o,s=e.length;for(n=0;n<s;n+=1){if((a=e[n]).hasMask){var u=a.masksProperties;for(i=u.length,r=0;r<i;r+=1)if(u[r].pt.k.i)u[r].pt.k.c=u[r].cl;else for(o=u[r].pt.k.length,l=0;l<o;l+=1)u[r].pt.k[l].s&&(u[r].pt.k[l].s[0].c=u[r].cl),u[r].pt.k[l].e&&(u[r].pt.k[l].e[0].c=u[r].cl)}4===a.ty&&t(a.shapes)}}return function(t){if(l(e,t.v)&&(a(t.layers),t.assets)){var n,r=t.assets.length;for(n=0;n<r;n+=1)t.assets[n].layers&&a(t.assets[n].layers)}}}();function p(a){a.__complete||(c(a),s(a),u(a),d(a),f(a),e(a.layers,a.assets),t(a.chars,a.assets),a.__complete=!0)}function h(e){0===e.t.a.length&&e.t.p}var m={};return m.completeData=p,m.checkColors=c,m.checkChars=u,m.checkPathProperties=d,m.checkShapes=f,m.completeLayers=e,m}if(i.dataManager||(i.dataManager=t()),i.assetLoader||(i.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===ee(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}function t(t,a,n,r){var i,l=new XMLHttpRequest;try{l.responseType="json"}catch(e){}l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status)i=e(l),n(i);else try{i=e(l),n(i)}catch(e){r&&r(e)}};try{l.open(["G","E","T"].join(""),t,!0)}catch(e){l.open(["G","E","T"].join(""),a+"/"+t,!0)}l.send()}return{load:t}}()),"loadAnimation"===e.data.type)i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var a=e.data.animation;i.dataManager.completeData(a),i.postMessage({id:e.data.id,payload:a,status:"success"})}else"loadData"===e.data.type&&i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}))}))).onmessage=function(e){var t=e.data,a=t.id,r=n[a];n[a]=null,"success"===t.status?r.onComplete(t.payload):r.onError&&r.onError()})}function u(e,t){var r="processId_"+(a+=1);return n[r]={onComplete:e,onError:t},r}function d(e,a,n){s();var r=u(a,n);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:r})}function c(e,a,n){s();var r=u(a,n);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:r})}function f(e,a,n){s();var r=u(a,n);t.postMessage({type:"complete",animation:e,id:r})}return{loadAnimation:d,loadData:c,completeAnimation:f}}(),ae=function(){var e=function(){var e=d("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function a(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(e,t,a){var n="";if(e.e)n=e.p;else if(t){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),n=t+r}else n=a,n+=e.u?e.u:"",n+=e.p;return n}function r(e){var t=0,a=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(a)),t+=1}.bind(this),50)}function i(t){var a=n(t,this.assetsPath,this.path),r=$("image");b?this.testImageLoaded(r):r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),r.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this._elementHelper.append?this._elementHelper.append(r):this._elementHelper.appendChild(r);var i={img:r,assetData:t};return i}function l(t){var a=n(t,this.assetsPath,this.path),r=d("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),r.src=a;var i={img:r,assetData:t};return i}function o(e){var t={assetData:e},a=n(e,this.assetsPath,this.path);return te.loadData(a,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function s(e,t){var a;this.imagesLoadedCb=t;var n=e.length;for(a=0;a<n;a+=1)e[a].layers||(e[a].t&&"seq"!==e[a].t?3===e[a].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[a]))):(this.totalImages+=1,this.images.push(this._createImageData(e[a]))))}function u(e){this.path=e||""}function c(e){this.assetsPath=e||""}function f(e){for(var t=0,a=this.images.length;t<a;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null}function p(){this.imagesLoadedCb=null,this.images.length=0}function h(){return this.totalImages===this.loadedAssets}function m(){return this.totalFootages===this.loadedFootagesCount}function g(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function y(){this._imageLoaded=t.bind(this),this._footageLoaded=a.bind(this),this.testImageLoaded=r.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return y.prototype={loadAssets:s,setAssetsPath:c,setPath:u,loadedImages:h,loadedFootages:m,destroy:p,getAsset:f,createImgData:l,createImageData:i,imageLoaded:t,footageLoaded:a,setCacheType:g},y}();function ne(){}ne.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var a=this._cbs[e],n=0;n<a.length;n+=1)a[n](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var a=0,n=this._cbs[e].length;a<n;)this._cbs[e][a]===t&&(this._cbs[e].splice(a,1),a-=1,n-=1),a+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var re=function(){function e(e){for(var t,a=e.split("\r\n"),n={},r=0,i=0;i<a.length;i+=1)2===(t=a[i].split(":")).length&&(n[t[0]]=t[1].trim(),r+=1);if(0===r)throw new Error;return n}return function(t){for(var a=[],n=0;n<t.length;n+=1){var r=t[n],i={time:r.tm,duration:r.dr};try{i.payload=JSON.parse(t[n].cm)}catch(a){try{i.payload=e(t[n].cm)}catch(e){i.payload={name:t[n].cm}}}a.push(i)}return a}}(),ie=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,a=this.compositions.length;t<a;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),le={},oe=function(e,t){le[e]=t};function se(e){return le[e]}function ue(){if(le.canvas)return"canvas";for(var e in le)if(le[e])return e;return""}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ce=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=B(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=G(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ie(),this.imagePreloader=new ae,this.audioController=p(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new I("drawnFrame",0,0,0),this.expressionsPlugin=K()};c([ne],ce),ce.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var a=se(t);this.renderer=new a(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),te.loadAnimation(e.path,this.configAnimation,this.onSetupError))},ce.prototype.onSetupError=function(){this.trigger("data_failed")},ce.prototype.setupAnimation=function(e){te.completeAnimation(e,this.configAnimation)},ce.prototype.setData=function(e,t){t&&"object"!==de(t)&&(t=JSON.parse(t));var a={wrapper:e,animationData:t},n=e.attributes;a.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",a.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:ue()||"canvas";var r=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===r?a.loop=!1:"true"===r?a.loop=!0:""!==r&&(a.loop=parseInt(r,10));var i=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;a.autoplay="false"!==i,a.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(a.prerender=!1),a.path?this.setParams(a):this.trigger("destroy")},ce.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,a,n=this.animationData.layers,r=n.length,i=e.layers,l=i.length;for(a=0;a<l;a+=1)for(t=0;t<r;){if(n[t].id===i[a].id){n[t]=i[a];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(r=e.assets.length,t=0;t<r;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,te.completeAnimation(this.animationData,this.onSegmentComplete)},ce.prototype.onSegmentComplete=function(e){this.animationData=e;var t=K();t&&t.initExpressions(this),this.loadNextSegment()},ce.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var a=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,te.loadData(a,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},ce.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},ce.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},ce.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},ce.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=re(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},ce.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},ce.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=K();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},ce.prototype.resize=function(e,t){var a="number"==typeof e?e:void 0,n="number"==typeof t?t:void 0;this.renderer.updateContainerSize(a,n)},ce.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},ce.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},ce.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},ce.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},ce.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},ce.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},ce.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},ce.prototype.getMarkerData=function(e){for(var t,a=0;a<this.markers.length;a+=1)if((t=this.markers[a]).payload&&t.payload.name===e)return t;return null},ce.prototype.goToAndStop=function(e,t,a){if(!a||this.name===a){var n=Number(e);if(isNaN(n)){var r=this.getMarkerData(e);r&&this.goToAndStop(r.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},ce.prototype.goToAndPlay=function(e,t,a){if(!a||this.name===a){var n=Number(e);if(isNaN(n)){var r=this.getMarkerData(e);r&&(r.duration?this.playSegments([r.time,r.time+r.duration],!0):this.goToAndStop(r.time,!0))}else this.goToAndStop(n,t,a);this.play()}},ce.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,a=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(a=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(a=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),a&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},ce.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},ce.prototype.setSegment=function(e,t){var a=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?a=e:this.currentRawFrame+this.firstFrame>t&&(a=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==a&&this.goToAndStop(a,!0)},ce.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===de(e[0])){var a,n=e.length;for(a=0;a<n;a+=1)this.segments.push(e[a])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},ce.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},ce.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},ce.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},ce.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},ce.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},ce.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},ce.prototype.setLoop=function(e){this.loop=e},ce.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},ce.prototype.getVolume=function(){return this.audioController.getVolume()},ce.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},ce.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},ce.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},ce.prototype.getPath=function(){return this.path},ce.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var a=e.p;-1!==a.indexOf("images/")&&(a=a.split("/")[1]),t=this.assetsPath+a}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},ce.prototype.getAssetData=function(e){for(var t=0,a=this.assets.length;t<a;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},ce.prototype.hide=function(){this.renderer.hide()},ce.prototype.show=function(){this.renderer.show()},ce.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},ce.prototype.updateDocumentData=function(e,t,a){try{this.renderer.getElementByPath(e).updateDocumentData(t,a)}catch(e){}},ce.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new I(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new D(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new L(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new R(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new A(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new I(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new D(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new L(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new R(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new A(e,this))},ce.prototype.triggerRenderFrameError=function(e){var t=new N(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},ce.prototype.triggerConfigError=function(e){var t=new j(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var fe=function(){var e={},t=[],a=0,n=0,r=0,i=!0,l=!1;function o(e){for(var a=0,r=e.target;a<n;)t[a].animation===r&&(t.splice(a,1),a-=1,n-=1,r.isPaused||f()),a+=1}function s(e,a){if(!e)return null;for(var r=0;r<n;){if(t[r].elem===e&&null!==t[r].elem)return t[r].animation;r+=1}var i=new ce;return p(i,e),i.setData(e,a),i}function u(){var e,a=t.length,n=[];for(e=0;e<a;e+=1)n.push(t[e].animation);return n}function c(){r+=1,P()}function f(){r-=1}function p(e,a){e.addEventListener("destroy",o),e.addEventListener("_active",c),e.addEventListener("_idle",f),t.push({elem:a,animation:e}),n+=1}function h(e){var t=new ce;return p(t,null),t.setParams(e),t}function m(e,a){var r;for(r=0;r<n;r+=1)t[r].animation.setSpeed(e,a)}function g(e,a){var r;for(r=0;r<n;r+=1)t[r].animation.setDirection(e,a)}function y(e){var a;for(a=0;a<n;a+=1)t[a].animation.play(e)}function v(e){var o,s=e-a;for(o=0;o<n;o+=1)t[o].animation.advanceTime(s);a=e,r&&!l?window.requestAnimationFrame(v):i=!0}function E(e){a=e,window.requestAnimationFrame(v)}function C(e){var a;for(a=0;a<n;a+=1)t[a].animation.pause(e)}function b(e,a,r){var i;for(i=0;i<n;i+=1)t[i].animation.goToAndStop(e,a,r)}function _(e){var a;for(a=0;a<n;a+=1)t[a].animation.stop(e)}function w(e){var a;for(a=0;a<n;a+=1)t[a].animation.togglePause(e)}function S(e){var a;for(a=n-1;a>=0;a-=1)t[a].animation.destroy(e)}function k(e,t,a){var n,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=r.length;for(n=0;n<i;n+=1)a&&r[n].setAttribute("data-bm-type",a),s(r[n],e);if(t&&0===i){a||(a="svg");var l=document.getElementsByTagName("body")[0];l.innerText="";var o=d("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",a),l.appendChild(o),s(o,e)}}function M(){var e;for(e=0;e<n;e+=1)t[e].animation.resize()}function P(){!l&&r&&i&&(window.requestAnimationFrame(E),i=!1)}function T(){l=!0}function O(){l=!1,P()}function x(e,a){var r;for(r=0;r<n;r+=1)t[r].animation.setVolume(e,a)}function I(e){var a;for(a=0;a<n;a+=1)t[a].animation.mute(e)}function L(e){var a;for(a=0;a<n;a+=1)t[a].animation.unmute(e)}return e.registerAnimation=s,e.loadAnimation=h,e.setSpeed=m,e.setDirection=g,e.play=y,e.pause=C,e.stop=_,e.togglePause=w,e.searchAnimations=k,e.resize=M,e.goToAndStop=b,e.destroy=S,e.freeze=T,e.unfreeze=O,e.setVolume=x,e.mute=I,e.unmute=L,e.getRegisteredAnimations=u,e}(),pe=function(){var e={};e.getBezierEasing=a;var t={};function a(e,a,n,r,i){var l=i||("bez_"+e+"_"+a+"_"+n+"_"+r).replace(/\./g,"p");if(t[l])return t[l];var o=new y([e,a,n,r]);return t[l]=o,o}var n=4,r=.001,i=1e-7,l=10,o=11,s=1/(o-1),u="function"==typeof Float32Array;function d(e,t){return 1-3*t+3*e}function c(e,t){return 3*t-6*e}function f(e){return 3*e}function p(e,t,a){return((d(t,a)*e+c(t,a))*e+f(t))*e}function h(e,t,a){return 3*d(t,a)*e*e+2*c(t,a)*e+f(t)}function m(e,t,a,n,r){var o,s,u=0;do{(o=p(s=t+(a-t)/2,n,r)-e)>0?a=s:t=s}while(Math.abs(o)>i&&++u<l);return s}function g(e,t,a,r){for(var i=0;i<n;++i){var l=h(t,a,r);if(0===l)return t;t-=(p(t,a,r)-e)/l}return t}function y(e){this._p=e,this._mSampleValues=u?new Float32Array(o):new Array(o),this._precomputed=!1,this.get=this.get.bind(this)}return y.prototype={get:function(e){var t=this._p[0],a=this._p[1],n=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),t===a&&n===r?e:0===e?0:1===e?1:p(this._getTForX(e),a,r)},_precompute:function(){var e=this._p[0],t=this._p[1],a=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&a===n||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],a=0;a<o;++a)this._mSampleValues[a]=p(a*s,e,t)},_getTForX:function(e){for(var t=this._p[0],a=this._p[2],n=this._mSampleValues,i=0,l=1,u=o-1;l!==u&&n[l]<=e;++l)i+=s;var d=i+(e-n[--l])/(n[l+1]-n[l])*s,c=h(d,t,a);return c>=r?g(e,d,t,a):0===c?d:m(e,i,i+s,t,a)}},e}(),he=function(){function e(e){return e.concat(m(e.length))}return{double:e}}(),me=function(e,t,a){var n=0,r=e,i=m(r);function l(){return n?i[n-=1]:t()}function o(e){n===r&&(i=he.double(i),r*=2),a&&a(e),i[n]=e,n+=1}return{newElement:l,release:o}},ge=function(){function e(){return{addedLength:0,percents:h("float32",Q()),lengths:h("float32",Q())}}return me(8,e)}(),ye=function(){function e(){return{lengths:[],totalLength:0}}function t(e){var t,a=e.lengths.length;for(t=0;t<a;t+=1)ge.release(e.lengths[t]);e.lengths.length=0}return me(8,e,t)}();function ve(){var e=Math;function t(e,t,a,n,r,i){var l=e*n+t*r+a*i-r*n-i*e-a*t;return l>-.001&&l<.001}function a(a,n,r,i,l,o,s,u,d){if(0===r&&0===o&&0===d)return t(a,n,i,l,s,u);var c,f=e.sqrt(e.pow(i-a,2)+e.pow(l-n,2)+e.pow(o-r,2)),p=e.sqrt(e.pow(s-a,2)+e.pow(u-n,2)+e.pow(d-r,2)),h=e.sqrt(e.pow(s-i,2)+e.pow(u-l,2)+e.pow(d-o,2));return(c=f>p?f>h?f-p-h:h-p-f:h>p?h-p-f:p-f-h)>-1e-4&&c<1e-4}var n=function(e,t,a,n){var r,i,l,o,s,u,d=Q(),c=0,f=[],p=[],h=ge.newElement();for(l=a.length,r=0;r<d;r+=1){for(s=r/(d-1),u=0,i=0;i<l;i+=1)o=_(1-s,3)*e[i]+3*_(1-s,2)*s*a[i]+3*(1-s)*_(s,2)*n[i]+_(s,3)*t[i],f[i]=o,null!==p[i]&&(u+=_(f[i]-p[i],2)),p[i]=f[i];u&&(c+=u=w(u)),h.percents[r]=s,h.lengths[r]=c}return h.addedLength=c,h};function r(e){var t,a=ye.newElement(),r=e.c,i=e.v,l=e.o,o=e.i,s=e._length,u=a.lengths,d=0;for(t=0;t<s-1;t+=1)u[t]=n(i[t],i[t+1],l[t],o[t+1]),d+=u[t].addedLength;return r&&s&&(u[t]=n(i[t],i[0],l[t],o[0]),d+=u[t].addedLength),a.totalLength=d,a}function i(e){this.segmentLength=0,this.points=new Array(e)}function l(e,t){this.partialLength=e,this.point=t}var o,s=(o={},function(e,a,n,r){var s=(e[0]+"_"+e[1]+"_"+a[0]+"_"+a[1]+"_"+n[0]+"_"+n[1]+"_"+r[0]+"_"+r[1]).replace(/\./g,"p");if(!o[s]){var u,d,c,f,p,h,g,y=Q(),v=0,E=null;2===e.length&&(e[0]!==a[0]||e[1]!==a[1])&&t(e[0],e[1],a[0],a[1],e[0]+n[0],e[1]+n[1])&&t(e[0],e[1],a[0],a[1],a[0]+r[0],a[1]+r[1])&&(y=2);var C=new i(y);for(c=n.length,u=0;u<y;u+=1){for(g=m(c),p=u/(y-1),h=0,d=0;d<c;d+=1)f=_(1-p,3)*e[d]+3*_(1-p,2)*p*(e[d]+n[d])+3*(1-p)*_(p,2)*(a[d]+r[d])+_(p,3)*a[d],g[d]=f,null!==E&&(h+=_(g[d]-E[d],2));v+=h=w(h),C.points[u]=new l(h,g),E=g}C.segmentLength=v,o[s]=C}return o[s]});function u(e,t){var a=t.percents,n=t.lengths,r=a.length,i=S((r-1)*e),l=e*t.addedLength,o=0;if(i===r-1||0===i||l===n[i])return a[i];for(var s=n[i]>l?-1:1,u=!0;u;)if(n[i]<=l&&n[i+1]>l?(o=(l-n[i])/(n[i+1]-n[i]),u=!1):i+=s,i<0||i>=r-1){if(i===r-1)return a[i];u=!1}return a[i]+(a[i+1]-a[i])*o}function d(t,a,n,r,i,l){var o=u(i,l),s=1-o;return[e.round(1e3*(s*s*s*t[0]+(o*s*s+s*o*s+s*s*o)*n[0]+(o*o*s+s*o*o+o*s*o)*r[0]+o*o*o*a[0]))/1e3,e.round(1e3*(s*s*s*t[1]+(o*s*s+s*o*s+s*s*o)*n[1]+(o*o*s+s*o*o+o*s*o)*r[1]+o*o*o*a[1]))/1e3]}var c=h("float32",8);function f(t,a,n,r,i,l,o){i<0?i=0:i>1&&(i=1);var s,d=u(i,o),f=u(l=l>1?1:l,o),p=t.length,h=1-d,m=1-f,g=h*h*h,y=d*h*h*3,v=d*d*h*3,E=d*d*d,C=h*h*m,b=d*h*m+h*d*m+h*h*f,_=d*d*m+h*d*f+d*h*f,w=d*d*f,S=h*m*m,k=d*m*m+h*f*m+h*m*f,M=d*f*m+h*f*f+d*m*f,P=d*f*f,T=m*m*m,O=f*m*m+m*f*m+m*m*f,x=f*f*m+m*f*f+f*m*f,I=f*f*f;for(s=0;s<p;s+=1)c[4*s]=e.round(1e3*(g*t[s]+y*n[s]+v*r[s]+E*a[s]))/1e3,c[4*s+1]=e.round(1e3*(C*t[s]+b*n[s]+_*r[s]+w*a[s]))/1e3,c[4*s+2]=e.round(1e3*(S*t[s]+k*n[s]+M*r[s]+P*a[s]))/1e3,c[4*s+3]=e.round(1e3*(T*t[s]+O*n[s]+x*r[s]+I*a[s]))/1e3;return c}return{getSegmentsLength:r,getNewSegment:f,getPointInSegment:d,buildBezierData:s,pointOnLine2D:t,pointOnLine3D:a}}var Ee=ve(),Ce=i,be=Math.abs;function _e(e,t){var a,n=this.offsetTime;"multidimensional"===this.propType&&(a=h("float32",this.pv.length));for(var r,i,l,o,s,u,d,c,f,p=t.lastIndex,m=p,g=this.keyframes.length-1,y=!0;y;){if(r=this.keyframes[m],i=this.keyframes[m+1],m===g-1&&e>=i.t-n){r.h&&(r=i),p=0;break}if(i.t-n>e){p=m;break}m<g-1?m+=1:(p=0,y=!1)}l=this.keyframesMetadata[m]||{};var v,E=i.t-n,C=r.t-n;if(r.to){l.bezierData||(l.bezierData=Ee.buildBezierData(r.s,i.s||r.e,r.to,r.ti));var b=l.bezierData;if(e>=E||e<C){var _=e>=E?b.points.length-1:0;for(s=b.points[_].point.length,o=0;o<s;o+=1)a[o]=b.points[_].point[o]}else{l.__fnct?f=l.__fnct:(f=pe.getBezierEasing(r.o.x,r.o.y,r.i.x,r.i.y,r.n).get,l.__fnct=f),u=f((e-C)/(E-C));var w,S=b.segmentLength*u,k=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(c=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,y=!0,d=b.points.length;y;){if(k+=b.points[c].partialLength,0===S||0===u||c===b.points.length-1){for(s=b.points[c].point.length,o=0;o<s;o+=1)a[o]=b.points[c].point[o];break}if(S>=k&&S<k+b.points[c+1].partialLength){for(w=(S-k)/b.points[c+1].partialLength,s=b.points[c].point.length,o=0;o<s;o+=1)a[o]=b.points[c].point[o]+(b.points[c+1].point[o]-b.points[c].point[o])*w;break}c<d-1?c+=1:y=!1}t._lastPoint=c,t._lastAddedLength=k-b.points[c].partialLength,t._lastKeyframeIndex=m}}else{var M,P,T,O,x;if(g=r.s.length,v=i.s||r.e,this.sh&&1!==r.h)e>=E?(a[0]=v[0],a[1]=v[1],a[2]=v[2]):e<=C?(a[0]=r.s[0],a[1]=r.s[1],a[2]=r.s[2]):Se(a,we(ke(r.s),ke(v),(e-C)/(E-C)));else for(m=0;m<g;m+=1)1!==r.h&&(e>=E?u=1:e<C?u=0:(r.o.x.constructor===Array?(l.__fnct||(l.__fnct=[]),l.__fnct[m]?f=l.__fnct[m]:(M=void 0===r.o.x[m]?r.o.x[0]:r.o.x[m],P=void 0===r.o.y[m]?r.o.y[0]:r.o.y[m],T=void 0===r.i.x[m]?r.i.x[0]:r.i.x[m],O=void 0===r.i.y[m]?r.i.y[0]:r.i.y[m],f=pe.getBezierEasing(M,P,T,O).get,l.__fnct[m]=f)):l.__fnct?f=l.__fnct:(M=r.o.x,P=r.o.y,T=r.i.x,O=r.i.y,f=pe.getBezierEasing(M,P,T,O).get,r.keyframeMetadata=f),u=f((e-C)/(E-C)))),v=i.s||r.e,x=1===r.h?r.s[m]:r.s[m]+(v[m]-r.s[m])*u,"multidimensional"===this.propType?a[m]=x:a=x}return t.lastIndex=p,a}function we(e,t,a){var n,r,i,l,o,s=[],u=e[0],d=e[1],c=e[2],f=e[3],p=t[0],h=t[1],m=t[2],g=t[3];return(r=u*p+d*h+c*m+f*g)<0&&(r=-r,p=-p,h=-h,m=-m,g=-g),1-r>1e-6?(n=Math.acos(r),i=Math.sin(n),l=Math.sin((1-a)*n)/i,o=Math.sin(a*n)/i):(l=1-a,o=a),s[0]=l*u+o*p,s[1]=l*d+o*h,s[2]=l*c+o*m,s[3]=l*f+o*g,s}function Se(e,t){var a=t[0],n=t[1],r=t[2],i=t[3],l=Math.atan2(2*n*i-2*a*r,1-2*n*n-2*r*r),o=Math.asin(2*a*n+2*r*i),s=Math.atan2(2*a*i-2*n*r,1-2*a*a-2*r*r);e[0]=l/T,e[1]=o/T,e[2]=s/T}function ke(e){var t=e[0]*T,a=e[1]*T,n=e[2]*T,r=Math.cos(t/2),i=Math.cos(a/2),l=Math.cos(n/2),o=Math.sin(t/2),s=Math.sin(a/2),u=Math.sin(n/2);return[o*s*l+r*i*u,o*i*l+r*s*u,r*s*l-o*i*u,r*i*l-o*s*u]}function Me(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,a=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==Ce&&(this._caching.lastFrame>=a&&e>=a||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function Pe(e){var t;if("unidimensional"===this.propType)t=e*this.mult,be(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var a=0,n=this.v.length;a<n;)t=e[a]*this.mult,be(this.v[a]-t)>1e-5&&(this.v[a]=t,this._mdf=!0),a+=1}function Te(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,a=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)a=this.effectsSequence[e](a);this.setVValue(a),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Oe(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function xe(e,t,a,n){this.propType="unidimensional",this.mult=a||1,this.data=t,this.v=a?t.k*a:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=Te,this.setVValue=Pe,this.addEffect=Oe}function Ie(e,t,a,n){var r;this.propType="multidimensional",this.mult=a||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i=t.k.length;for(this.v=h("float32",i),this.pv=h("float32",i),this.vel=h("float32",i),r=0;r<i;r+=1)this.v[r]=t.k[r]*this.mult,this.pv[r]=t.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=Te,this.setVValue=Pe,this.addEffect=Oe}function Le(e,t,a,n){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:Ce,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=a||1,this.elem=e,this.container=n,this.comp=e.comp,this.v=Ce,this.pv=Ce,this._isFirstFrame=!0,this.getValue=Te,this.setVValue=Pe,this.interpolateValue=_e,this.effectsSequence=[Me.bind(this)],this.addEffect=Oe}function De(e,t,a,n){var r;this.propType="multidimensional";var i,l,o,s,u=t.k.length;for(r=0;r<u-1;r+=1)t.k[r].to&&t.k[r].s&&t.k[r+1]&&t.k[r+1].s&&(i=t.k[r].s,l=t.k[r+1].s,o=t.k[r].to,s=t.k[r].ti,(2===i.length&&(i[0]!==l[0]||i[1]!==l[1])&&Ee.pointOnLine2D(i[0],i[1],l[0],l[1],i[0]+o[0],i[1]+o[1])&&Ee.pointOnLine2D(i[0],i[1],l[0],l[1],l[0]+s[0],l[1]+s[1])||3===i.length&&(i[0]!==l[0]||i[1]!==l[1]||i[2]!==l[2])&&Ee.pointOnLine3D(i[0],i[1],i[2],l[0],l[1],l[2],i[0]+o[0],i[1]+o[1],i[2]+o[2])&&Ee.pointOnLine3D(i[0],i[1],i[2],l[0],l[1],l[2],l[0]+s[0],l[1]+s[1],l[2]+s[2]))&&(t.k[r].to=null,t.k[r].ti=null),i[0]===l[0]&&i[1]===l[1]&&0===o[0]&&0===o[1]&&0===s[0]&&0===s[1]&&(2===i.length||i[2]===l[2]&&0===o[2]&&0===s[2])&&(t.k[r].to=null,t.k[r].ti=null));this.effectsSequence=[Me.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=a||1,this.elem=e,this.container=n,this.comp=e.comp,this.getValue=Te,this.setVValue=Pe,this.interpolateValue=_e,this.frameId=-1;var d=t.k[0].s.length;for(this.v=h("float32",d),this.pv=h("float32",d),r=0;r<d;r+=1)this.v[r]=Ce,this.pv[r]=Ce;this._caching={lastFrame:Ce,lastIndex:0,value:h("float32",d)},this.addEffect=Oe}var Re=function(){function e(e,t,a,n,r){var i;if(t.sid&&(t=e.globalData.slotManager.getProp(t)),t.k.length)if("number"==typeof t.k[0])i=new Ie(e,t,n,r);else switch(a){case 0:i=new Le(e,t,n,r);break;case 1:i=new De(e,t,n,r)}else i=new xe(e,t,n,r);return i.effectsSequence.length&&r.addDynamicProperty(i),i}return{getProp:e}}();function Ae(){}Ae.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var Ne=function(){function e(){return h("float32",2)}return me(8,e)}();function je(){this.c=!1,this._length=0,this._maxLength=8,this.v=m(this._maxLength),this.o=m(this._maxLength),this.i=m(this._maxLength)}je.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var a=0;a<t;)this.v[a]=Ne.newElement(),this.o[a]=Ne.newElement(),this.i[a]=Ne.newElement(),a+=1},je.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},je.prototype.doubleArrayLength=function(){this.v=this.v.concat(m(this._maxLength)),this.i=this.i.concat(m(this._maxLength)),this.o=this.o.concat(m(this._maxLength)),this._maxLength*=2},je.prototype.setXYAt=function(e,t,a,n,r){var i;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),a){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[n]||i[n]&&!r)&&(i[n]=Ne.newElement()),i[n][0]=e,i[n][1]=t},je.prototype.setTripleAt=function(e,t,a,n,r,i,l,o){this.setXYAt(e,t,"v",l,o),this.setXYAt(a,n,"o",l,o),this.setXYAt(r,i,"i",l,o)},je.prototype.reverse=function(){var e=new je;e.setPathData(this.c,this._length);var t=this.v,a=this.o,n=this.i,r=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],a[0][0],a[0][1],0,!1),r=1);var i,l=this._length-1,o=this._length;for(i=r;i<o;i+=1)e.setTripleAt(t[l][0],t[l][1],n[l][0],n[l][1],a[l][0],a[l][1],i,!1),l-=1;return e},je.prototype.length=function(){return this._length};var Fe=function(){function e(){return new je}function t(e){var t,a=e._length;for(t=0;t<a;t+=1)Ne.release(e.v[t]),Ne.release(e.i[t]),Ne.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1}function a(e){var t,a=n.newElement(),r=void 0===e._length?e.v.length:e._length;for(a.setLength(r),a.c=e.c,t=0;t<r;t+=1)a.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return a}var n=me(4,e,t);return n.clone=a,n}();function Be(){this._length=0,this._maxLength=4,this.shapes=m(this._maxLength)}Be.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(m(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},Be.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)Fe.release(this.shapes[e]);this._length=0};var We=function(){var e={newShapeCollection:r,release:i},t=0,a=4,n=m(a);function r(){return t?n[t-=1]:new Be}function i(e){var r,i=e._length;for(r=0;r<i;r+=1)Fe.release(e.shapes[r]);e._length=0,t===a&&(n=he.double(n),a*=2),n[t]=e,t+=1}return e}(),He=function(){var e=-999999;function t(e,t,a){var n,r,i,l,o,s,u,d,c,f=a.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)n=p[0].s[0],i=!0,f=0;else if(e>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var h,m,g,y=f,v=p.length-1,E=!0;E&&(h=p[y],!((m=p[y+1]).t-this.offsetTime>e));)y<v-1?y+=1:E=!1;if(g=this.keyframesMetadata[y]||{},f=y,!(i=1===h.h)){if(e>=m.t-this.offsetTime)d=1;else if(e<h.t-this.offsetTime)d=0;else{var C;g.__fnct?C=g.__fnct:(C=pe.getBezierEasing(h.o.x,h.o.y,h.i.x,h.i.y).get,g.__fnct=C),d=C((e-(h.t-this.offsetTime))/(m.t-this.offsetTime-(h.t-this.offsetTime)))}r=m.s?m.s[0]:h.e[0]}n=h.s[0]}for(s=t._length,u=n.i[0].length,a.lastIndex=f,l=0;l<s;l+=1)for(o=0;o<u;o+=1)c=i?n.i[l][o]:n.i[l][o]+(r.i[l][o]-n.i[l][o])*d,t.i[l][o]=c,c=i?n.o[l][o]:n.o[l][o]+(r.o[l][o]-n.o[l][o])*d,t.o[l][o]=c,c=i?n.v[l][o]:n.v[l][o]+(r.v[l][o]-n.v[l][o])*d,t.v[l][o]=c}function a(){var t=this.comp.renderedFrame-this.offsetTime,a=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==e&&(r<a&&t<a||r>n&&t>n)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function n(){this.paths=this.localShapeCollection}function r(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var a,n=e._length;for(a=0;a<n;a+=1)if(e.v[a][0]!==t.v[a][0]||e.v[a][1]!==t.v[a][1]||e.o[a][0]!==t.o[a][0]||e.o[a][1]!==t.o[a][1]||e.i[a][0]!==t.i[a][0]||e.i[a][1]!==t.i[a][1])return!1;return!0}function i(e){r(this.v,e)||(this.v=Fe.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function l(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var a=this.effectsSequence.length;for(t=0;t<a;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(e,t,a){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var r=3===a?t.pt.k:t.ks.k;this.v=Fe.clone(r),this.pv=Fe.clone(this.v),this.localShapeCollection=We.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function u(t,r,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?r.pt.k:r.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var l=this.keyframes[0].s[0].i.length;this.v=Fe.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,l),this.pv=Fe.clone(this.v),this.localShapeCollection=We.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=n,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[a.bind(this)]}o.prototype.interpolateShape=t,o.prototype.getValue=l,o.prototype.setVValue=i,o.prototype.addEffect=s,u.prototype.getValue=l,u.prototype.interpolateShape=t,u.prototype.setVValue=i,u.prototype.addEffect=s;var d=function(){var e=O;function t(e,t){this.v=Fe.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=We.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=Re.getProp(e,t.p,1,0,this),this.s=Re.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],a=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=3!==this.d,l=this.v;l.v[0][0]=t,l.v[0][1]=a-r,l.v[1][0]=i?t+n:t-n,l.v[1][1]=a,l.v[2][0]=t,l.v[2][1]=a+r,l.v[3][0]=i?t-n:t+n,l.v[3][1]=a,l.i[0][0]=i?t-n*e:t+n*e,l.i[0][1]=a-r,l.i[1][0]=i?t+n:t-n,l.i[1][1]=a-r*e,l.i[2][0]=i?t+n*e:t-n*e,l.i[2][1]=a+r,l.i[3][0]=i?t-n:t+n,l.i[3][1]=a+r*e,l.o[0][0]=i?t+n*e:t-n*e,l.o[0][1]=a-r,l.o[1][0]=i?t+n:t-n,l.o[1][1]=a+r*e,l.o[2][0]=i?t-n*e:t+n*e,l.o[2][1]=a+r,l.o[3][0]=i?t-n:t+n,l.o[3][1]=a-r*e}},c([Ae],t),t}(),f=function(){function e(e,t){this.v=Fe.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=Re.getProp(e,t.ir,0,0,this),this.is=Re.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=Re.getProp(e,t.pt,0,0,this),this.p=Re.getProp(e,t.p,1,0,this),this.r=Re.getProp(e,t.r,0,T,this),this.or=Re.getProp(e,t.or,0,0,this),this.os=Re.getProp(e,t.os,0,.01,this),this.localShapeCollection=We.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,a,n,r=2*Math.floor(this.pt.v),i=2*Math.PI/r,l=!0,o=this.or.v,s=this.ir.v,u=this.os.v,d=this.is.v,c=2*Math.PI*o/(2*r),f=2*Math.PI*s/(2*r),p=-Math.PI/2;p+=this.r.v;var h=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<r;e+=1){a=l?u:d,n=l?c:f;var m=(t=l?o:s)*Math.cos(p),g=t*Math.sin(p),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),v=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*n*a*h,g-v*n*a*h,m+y*n*a*h,g+v*n*a*h,e,!0),l=!l,p+=i*h}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),a=2*Math.PI/t,n=this.or.v,r=this.os.v,i=2*Math.PI*n/(4*t),l=.5*-Math.PI,o=3===this.data.d?-1:1;for(l+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var s=n*Math.cos(l),u=n*Math.sin(l),d=0===s&&0===u?0:u/Math.sqrt(s*s+u*u),c=0===s&&0===u?0:-s/Math.sqrt(s*s+u*u);s+=+this.p.v[0],u+=+this.p.v[1],this.v.setTripleAt(s,u,s-d*i*r*o,u-c*i*r*o,s+d*i*r*o,u+c*i*r*o,e,!0),l+=a*o}this.paths.length=0,this.paths[0]=this.v}},c([Ae],e),e}(),p=function(){function e(e,t){this.v=Fe.newElement(),this.v.c=!0,this.localShapeCollection=We.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=Re.getProp(e,t.p,1,0,this),this.s=Re.getProp(e,t.s,1,0,this),this.r=Re.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],a=this.s.v[0]/2,n=this.s.v[1]/2,r=k(a,n,this.r.v),i=r*(1-O);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+a,t-n+r,e+a,t-n+r,e+a,t-n+i,0,!0),this.v.setTripleAt(e+a,t+n-r,e+a,t+n-i,e+a,t+n-r,1,!0),0!==r?(this.v.setTripleAt(e+a-r,t+n,e+a-r,t+n,e+a-i,t+n,2,!0),this.v.setTripleAt(e-a+r,t+n,e-a+i,t+n,e-a+r,t+n,3,!0),this.v.setTripleAt(e-a,t+n-r,e-a,t+n-r,e-a,t+n-i,4,!0),this.v.setTripleAt(e-a,t-n+r,e-a,t-n+i,e-a,t-n+r,5,!0),this.v.setTripleAt(e-a+r,t-n,e-a+r,t-n,e-a+i,t-n,6,!0),this.v.setTripleAt(e+a-r,t-n,e+a-i,t-n,e+a-r,t-n,7,!0)):(this.v.setTripleAt(e-a,t+n,e-a+i,t+n,e-a,t+n,2),this.v.setTripleAt(e-a,t-n,e-a,t-n+i,e-a,t-n,3))):(this.v.setTripleAt(e+a,t-n+r,e+a,t-n+i,e+a,t-n+r,0,!0),0!==r?(this.v.setTripleAt(e+a-r,t-n,e+a-r,t-n,e+a-i,t-n,1,!0),this.v.setTripleAt(e-a+r,t-n,e-a+i,t-n,e-a+r,t-n,2,!0),this.v.setTripleAt(e-a,t-n+r,e-a,t-n+r,e-a,t-n+i,3,!0),this.v.setTripleAt(e-a,t+n-r,e-a,t+n-i,e-a,t+n-r,4,!0),this.v.setTripleAt(e-a+r,t+n,e-a+r,t+n,e-a+i,t+n,5,!0),this.v.setTripleAt(e+a-r,t+n,e+a-i,t+n,e+a-r,t+n,6,!0),this.v.setTripleAt(e+a,t+n-r,e+a,t+n-r,e+a,t+n-i,7,!0)):(this.v.setTripleAt(e-a,t-n,e-a+i,t-n,e-a,t-n,1,!0),this.v.setTripleAt(e-a,t+n,e-a,t+n-i,e-a,t+n,2,!0),this.v.setTripleAt(e+a,t+n,e+a-i,t+n,e+a,t+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},c([Ae],e),e}();function h(e,t,a){var n;return 3===a||4===a?n=(3===a?t.pt:t.ks).k.length?new u(e,t,a):new o(e,t,a):5===a?n=new p(e,t):6===a?n=new d(e,t):7===a&&(n=new f(e,t)),n.k&&e.addDynamicProperty(n),n}function m(){return o}function g(){return u}var y={};return y.getShapeProp=h,y.getConstructorFunction=m,y.getKeyframedConstructorFunction=g,y}(),ze=function(){var e=Math.cos,t=Math.sin,a=Math.tan,n=Math.round;function r(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(a){if(0===a)return this;var n=e(a),r=t(a);return this._t(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}function l(a){if(0===a)return this;var n=e(a),r=t(a);return this._t(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1)}function o(a){if(0===a)return this;var n=e(a),r=t(a);return this._t(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1)}function s(a){if(0===a)return this;var n=e(a),r=t(a);return this._t(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}function u(e,t){return this._t(1,t,e,1,0,0)}function d(e,t){return this.shear(a(e),a(t))}function c(n,r){var i=e(r),l=t(r);return this._t(i,l,0,0,-l,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,a(n),1,0,0,0,0,1,0,0,0,0,1)._t(i,-l,0,0,l,i,0,0,0,0,1,0,0,0,0,1)}function f(e,t,a){return a||0===a||(a=1),1===e&&1===t&&1===a?this:this._t(e,0,0,0,0,t,0,0,0,0,a,0,0,0,0,1)}function p(e,t,a,n,r,i,l,o,s,u,d,c,f,p,h,m){return this.props[0]=e,this.props[1]=t,this.props[2]=a,this.props[3]=n,this.props[4]=r,this.props[5]=i,this.props[6]=l,this.props[7]=o,this.props[8]=s,this.props[9]=u,this.props[10]=d,this.props[11]=c,this.props[12]=f,this.props[13]=p,this.props[14]=h,this.props[15]=m,this}function m(e,t,a){return a=a||0,0!==e||0!==t||0!==a?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,a,1):this}function g(e,t,a,n,r,i,l,o,s,u,d,c,f,p,h,m){var g=this.props;if(1===e&&0===t&&0===a&&0===n&&0===r&&1===i&&0===l&&0===o&&0===s&&0===u&&1===d&&0===c)return g[12]=g[12]*e+g[15]*f,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*d+g[15]*h,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],v=g[1],E=g[2],C=g[3],b=g[4],_=g[5],w=g[6],S=g[7],k=g[8],M=g[9],P=g[10],T=g[11],O=g[12],x=g[13],I=g[14],L=g[15];return g[0]=y*e+v*r+E*s+C*f,g[1]=y*t+v*i+E*u+C*p,g[2]=y*a+v*l+E*d+C*h,g[3]=y*n+v*o+E*c+C*m,g[4]=b*e+_*r+w*s+S*f,g[5]=b*t+_*i+w*u+S*p,g[6]=b*a+_*l+w*d+S*h,g[7]=b*n+_*o+w*c+S*m,g[8]=k*e+M*r+P*s+T*f,g[9]=k*t+M*i+P*u+T*p,g[10]=k*a+M*l+P*d+T*h,g[11]=k*n+M*o+P*c+T*m,g[12]=O*e+x*r+I*s+L*f,g[13]=O*t+x*i+I*u+L*p,g[14]=O*a+x*l+I*d+L*h,g[15]=O*n+x*o+I*c+L*m,this._identityCalculated=!1,this}function y(e){var t=e.props;return this.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function v(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function E(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function C(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function _(e,t,a){return{x:e*this.props[0]+t*this.props[4]+a*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+a*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+a*this.props[10]+this.props[14]}}function w(e,t,a){return e*this.props[0]+t*this.props[4]+a*this.props[8]+this.props[12]}function S(e,t,a){return e*this.props[1]+t*this.props[5]+a*this.props[9]+this.props[13]}function k(e,t,a){return e*this.props[2]+t*this.props[6]+a*this.props[10]+this.props[14]}function M(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,a=-this.props[1]/e,n=-this.props[4]/e,r=this.props[0]/e,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,l=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,o=new ze;return o.props[0]=t,o.props[1]=a,o.props[4]=n,o.props[5]=r,o.props[12]=i,o.props[13]=l,o}function P(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function T(e){var t,a=e.length,n=[];for(t=0;t<a;t+=1)n[t]=P(e[t]);return n}function O(e,t,a){var n=h("float32",6);if(this.isIdentity())n[0]=e[0],n[1]=e[1],n[2]=t[0],n[3]=t[1],n[4]=a[0],n[5]=a[1];else{var r=this.props[0],i=this.props[1],l=this.props[4],o=this.props[5],s=this.props[12],u=this.props[13];n[0]=e[0]*r+e[1]*l+s,n[1]=e[0]*i+e[1]*o+u,n[2]=t[0]*r+t[1]*l+s,n[3]=t[0]*i+t[1]*o+u,n[4]=a[0]*r+a[1]*l+s,n[5]=a[0]*i+a[1]*o+u}return n}function x(e,t,a){return this.isIdentity()?[e,t,a]:[e*this.props[0]+t*this.props[4]+a*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+a*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+a*this.props[10]+this.props[14]]}function I(e,t){if(this.isIdentity())return e+","+t;var a=this.props;return Math.round(100*(e*a[0]+t*a[4]+a[12]))/100+","+Math.round(100*(e*a[1]+t*a[5]+a[13]))/100}function L(){for(var e=0,t=this.props,a="matrix3d(",r=1e4;e<16;)a+=n(t[e]*r)/r,a+=15===e?")":",",e+=1;return a}function D(e){var t=1e4;return e<1e-6&&e>0||e>-1e-6&&e<0?n(e*t)/t:e}function R(){var e=this.props;return"matrix("+D(e[0])+","+D(e[1])+","+D(e[4])+","+D(e[5])+","+D(e[12])+","+D(e[13])+")"}return function(){this.reset=r,this.rotate=i,this.rotateX=l,this.rotateY=o,this.rotateZ=s,this.skew=d,this.skewFromAxis=c,this.shear=u,this.scale=f,this.setTransform=p,this.translate=m,this.transform=g,this.multiply=y,this.applyToPoint=_,this.applyToX=w,this.applyToY=S,this.applyToZ=k,this.applyToPointArray=x,this.applyToTriplePoints=O,this.applyToPointStringified=I,this.toCSS=L,this.to2dCSS=R,this.clone=C,this.cloneFromProps=b,this.equals=E,this.inversePoints=T,this.inversePoint=P,this.getInverseMatrix=M,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=h("float32",16),this.reset()}}();function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ve={},qe="__[STANDALONE]__",Ge="__[ANIMATIONDATA]__",Ye="";function Ke(e){s(e)}function Xe(){!0===qe?fe.searchAnimations(Ge,qe,Ye):fe.searchAnimations()}function Ze(e){q(e)}function Qe(e){J(e)}function Je(e){return!0===qe&&(e.animationData=JSON.parse(Ge)),fe.loadAnimation(e)}function $e(e){if("string"==typeof e)switch(e){case"high":Z(200);break;default:case"medium":Z(50);break;case"low":Z(10)}else!isNaN(e)&&e>1&&Z(e);Q()>=50?x(!1):x(!0)}function et(){return"undefined"!=typeof navigator}function tt(e,t){"expressions"===e&&Y(t)}function at(e){switch(e){case"propertyFactory":return Re;case"shapePropertyFactory":return He;case"matrix":return ze;default:return null}}function nt(){"complete"===document.readyState&&(clearInterval(st),Xe())}function rt(e){for(var t=it.split("&"),a=0;a<t.length;a+=1){var n=t[a].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return null}Ve.play=fe.play,Ve.pause=fe.pause,Ve.setLocationHref=Ke,Ve.togglePause=fe.togglePause,Ve.setSpeed=fe.setSpeed,Ve.setDirection=fe.setDirection,Ve.stop=fe.stop,Ve.searchAnimations=Xe,Ve.registerAnimation=fe.registerAnimation,Ve.loadAnimation=Je,Ve.setSubframeRendering=Ze,Ve.resize=fe.resize,Ve.goToAndStop=fe.goToAndStop,Ve.destroy=fe.destroy,Ve.setQuality=$e,Ve.inBrowser=et,Ve.installPlugin=tt,Ve.freeze=fe.freeze,Ve.unfreeze=fe.unfreeze,Ve.setVolume=fe.setVolume,Ve.mute=fe.mute,Ve.unmute=fe.unmute,Ve.getRegisteredAnimations=fe.getRegisteredAnimations,Ve.useWebWorker=l,Ve.setIDPrefix=Qe,Ve.__getFactory=at,Ve.version="5.12.2";var it="";if(qe){var lt=document.getElementsByTagName("script"),ot=lt[lt.length-1]||{src:""};it=ot.src?ot.src.replace(/^[^\?]+\??/,""):"",Ye=rt("renderer")}var st=setInterval(nt,100);try{"object"===Ue(t)||a.amdO||(window.bodymovin=Ve)}catch(e){}var ut=function(){var e={},t={};function a(e,a){t[e]||(t[e]=a)}function n(e,a,n){return new t[e](a,n)}return e.registerModifier=a,e.getModifier=n,e}();function dt(){}function ct(){}function ft(){}dt.prototype.initModifierProperties=function(){},dt.prototype.addShapeToModifier=function(){},dt.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:We.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},dt.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=i,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},dt.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},c([Ae],dt),c([dt],ct),ct.prototype.initModifierProperties=function(e,t){this.s=Re.getProp(e,t.s,0,.01,this),this.e=Re.getProp(e,t.e,0,.01,this),this.o=Re.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},ct.prototype.addShapeToModifier=function(e){e.pathsData=[]},ct.prototype.calculateShapeEdges=function(e,t,a,n,r){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var l,o,s=[],u=i.length;for(l=0;l<u;l+=1){var d,c;(o=i[l]).e*r<n||o.s*r>n+a||(d=o.s*r<=n?0:(o.s*r-n)/a,c=o.e*r>=n+a?1:(o.e*r-n)/a,s.push([d,c]))}return s.length||s.push([0,0]),s},ct.prototype.releasePathsData=function(e){var t,a=e.length;for(t=0;t<a;t+=1)ye.release(e[t]);return e.length=0,e},ct.prototype.processShapes=function(e){var t,a,n,r;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(a=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var l=t;t=a,a=l}t=1e-4*Math.round(1e4*t),a=1e-4*Math.round(1e4*a),this.sValue=t,this.eValue=a}else t=this.sValue,a=this.eValue;var o,s,u,d,c,f=this.shapes.length,p=0;if(a===t)for(r=0;r<f;r+=1)this.shapes[r].localShapeCollection.releaseShapes(),this.shapes[r].shape._mdf=!0,this.shapes[r].shape.paths=this.shapes[r].localShapeCollection,this._mdf&&(this.shapes[r].pathsData.length=0);else if(1===a&&0===t||0===a&&1===t){if(this._mdf)for(r=0;r<f;r+=1)this.shapes[r].pathsData.length=0,this.shapes[r].shape._mdf=!0}else{var h,m,g=[];for(r=0;r<f;r+=1)if((h=this.shapes[r]).shape._mdf||this._mdf||e||2===this.m){if(s=(n=h.shape.paths)._length,c=0,!h.shape._mdf&&h.pathsData.length)c=h.totalShapeLength;else{for(u=this.releasePathsData(h.pathsData),o=0;o<s;o+=1)d=Ee.getSegmentsLength(n.shapes[o]),u.push(d),c+=d.totalLength;h.totalShapeLength=c,h.pathsData=u}p+=c,h.shape._mdf=!0}else h.shape.paths=h.localShapeCollection;var y,v=t,E=a,C=0;for(r=f-1;r>=0;r-=1)if((h=this.shapes[r]).shape._mdf){for((m=h.localShapeCollection).releaseShapes(),2===this.m&&f>1?(y=this.calculateShapeEdges(t,a,h.totalShapeLength,C,p),C+=h.totalShapeLength):y=[[v,E]],s=y.length,o=0;o<s;o+=1){v=y[o][0],E=y[o][1],g.length=0,E<=1?g.push({s:h.totalShapeLength*v,e:h.totalShapeLength*E}):v>=1?g.push({s:h.totalShapeLength*(v-1),e:h.totalShapeLength*(E-1)}):(g.push({s:h.totalShapeLength*v,e:h.totalShapeLength}),g.push({s:0,e:h.totalShapeLength*(E-1)}));var b=this.addShapes(h,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(h.shape.paths.shapes[h.shape.paths._length-1].c){var _=b.pop();this.addPaths(b,m),b=this.addShapes(h,g[1],_)}else this.addPaths(b,m),b=this.addShapes(h,g[1]);this.addPaths(b,m)}}h.shape.paths=m}}},ct.prototype.addPaths=function(e,t){var a,n=e.length;for(a=0;a<n;a+=1)t.addShape(e[a])},ct.prototype.addSegment=function(e,t,a,n,r,i,l){r.setXYAt(t[0],t[1],"o",i),r.setXYAt(a[0],a[1],"i",i+1),l&&r.setXYAt(e[0],e[1],"v",i),r.setXYAt(n[0],n[1],"v",i+1)},ct.prototype.addSegmentFromArray=function(e,t,a,n){t.setXYAt(e[1],e[5],"o",a),t.setXYAt(e[2],e[6],"i",a+1),n&&t.setXYAt(e[0],e[4],"v",a),t.setXYAt(e[3],e[7],"v",a+1)},ct.prototype.addShapes=function(e,t,a){var n,r,i,l,o,s,u,d,c=e.pathsData,f=e.shape.paths.shapes,p=e.shape.paths._length,h=0,m=[],g=!0;for(a?(o=a._length,d=a._length):(a=Fe.newElement(),o=0,d=0),m.push(a),n=0;n<p;n+=1){for(s=c[n].lengths,a.c=f[n].c,i=f[n].c?s.length:s.length+1,r=1;r<i;r+=1)if(h+(l=s[r-1]).addedLength<t.s)h+=l.addedLength,a.c=!1;else{if(h>t.e){a.c=!1;break}t.s<=h&&t.e>=h+l.addedLength?(this.addSegment(f[n].v[r-1],f[n].o[r-1],f[n].i[r],f[n].v[r],a,o,g),g=!1):(u=Ee.getNewSegment(f[n].v[r-1],f[n].v[r],f[n].o[r-1],f[n].i[r],(t.s-h)/l.addedLength,(t.e-h)/l.addedLength,s[r-1]),this.addSegmentFromArray(u,a,o,g),g=!1,a.c=!1),h+=l.addedLength,o+=1}if(f[n].c&&s.length){if(l=s[r-1],h<=t.e){var y=s[r-1].addedLength;t.s<=h&&t.e>=h+y?(this.addSegment(f[n].v[r-1],f[n].o[r-1],f[n].i[0],f[n].v[0],a,o,g),g=!1):(u=Ee.getNewSegment(f[n].v[r-1],f[n].v[0],f[n].o[r-1],f[n].i[0],(t.s-h)/y,(t.e-h)/y,s[r-1]),this.addSegmentFromArray(u,a,o,g),g=!1,a.c=!1)}else a.c=!1;h+=l.addedLength,o+=1}if(a._length&&(a.setXYAt(a.v[d][0],a.v[d][1],"i",d),a.setXYAt(a.v[a._length-1][0],a.v[a._length-1][1],"o",a._length-1)),h>t.e)break;n<p-1&&(a=Fe.newElement(),g=!0,m.push(a),o=0)}return m},c([dt],ft),ft.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=Re.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},ft.prototype.processPath=function(e,t){var a=t/100,n=[0,0],r=e._length,i=0;for(i=0;i<r;i+=1)n[0]+=e.v[i][0],n[1]+=e.v[i][1];n[0]/=r,n[1]/=r;var l,o,s,u,d,c,f=Fe.newElement();for(f.c=e.c,i=0;i<r;i+=1)l=e.v[i][0]+(n[0]-e.v[i][0])*a,o=e.v[i][1]+(n[1]-e.v[i][1])*a,s=e.o[i][0]+(n[0]-e.o[i][0])*-a,u=e.o[i][1]+(n[1]-e.o[i][1])*-a,d=e.i[i][0]+(n[0]-e.i[i][0])*-a,c=e.i[i][1]+(n[1]-e.i[i][1])*-a,f.setTripleAt(l,o,s,u,d,c,i);return f},ft.prototype.processShapes=function(e){var t,a,n,r,i,l,o=this.shapes.length,s=this.amount.v;if(0!==s)for(a=0;a<o;a+=1){if(l=(i=this.shapes[a]).localShapeCollection,i.shape._mdf||this._mdf||e)for(l.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,r=i.shape.paths._length,n=0;n<r;n+=1)l.addShape(this.processPath(t[n],s));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var pt=function(){var e=[0,0];function t(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function a(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var a;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,r;if(a=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/a,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/a,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/a,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/a,0)):(n=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/a,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],r=[];var i=this.px,l=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(n[0]=i.getValueAtTime((i.keyframes[0].t+.01)/a,0),n[1]=l.getValueAtTime((l.keyframes[0].t+.01)/a,0),r[0]=i.getValueAtTime(i.keyframes[0].t/a,0),r[1]=l.getValueAtTime(l.keyframes[0].t/a,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(n[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/a,0),n[1]=l.getValueAtTime(l.keyframes[l.keyframes.length-1].t/a,0),r[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/a,0),r[1]=l.getValueAtTime((l.keyframes[l.keyframes.length-1].t-.01)/a,0)):(n=[i.pv,l.pv],r[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/a,i.offsetTime),r[1]=l.getValueAtTime((l._caching.lastFrame+l.offsetTime-.01)/a,l.offsetTime))}else n=r=e;this.v.rotate(-Math.atan2(n[1]-r[1],n[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function n(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}}function r(){}function i(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0}function l(e,t,a){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new ze,this.pre=new ze,this.appliedTransformations=0,this.initDynamicPropertyContainer(a||e),t.p&&t.p.s?(this.px=Re.getProp(e,t.p.x,0,0,this),this.py=Re.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=Re.getProp(e,t.p.z,0,0,this))):this.p=Re.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=Re.getProp(e,t.rx,0,T,this),this.ry=Re.getProp(e,t.ry,0,T,this),this.rz=Re.getProp(e,t.rz,0,T,this),t.or.k[0].ti){var n,r=t.or.k.length;for(n=0;n<r;n+=1)t.or.k[n].to=null,t.or.k[n].ti=null}this.or=Re.getProp(e,t.or,1,T,this),this.or.sh=!0}else this.r=Re.getProp(e,t.r||{k:0},0,T,this);t.sk&&(this.sk=Re.getProp(e,t.sk,0,T,this),this.sa=Re.getProp(e,t.sa,0,T,this)),this.a=Re.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=Re.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=Re.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function o(e,t,a){return new l(e,t,a)}return l.prototype={applyToMatrix:t,getValue:a,precalculateMatrix:n,autoOrient:r},c([Ae],l),l.prototype.addDynamicProperty=i,l.prototype._addDynamicProperty=Ae.prototype.addDynamicProperty,{getTransformProperty:o}}();function ht(){}function mt(){}function gt(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function yt(e){return Math.abs(e)<=1e-5}function vt(e,t,a){return e*(1-a)+t*a}function Et(e,t,a){return[vt(e[0],t[0],a),vt(e[1],t[1],a)]}function Ct(e,t,a){if(0===e)return[];var n=t*t-4*e*a;if(n<0)return[];var r=-t/(2*e);if(0===n)return[r];var i=Math.sqrt(n)/(2*e);return[r-i,r+i]}function bt(e,t,a,n){return[3*t-e-3*a+n,3*e-6*t+3*a,-3*e+3*t,e]}function _t(e){return new wt(e,e,e,e,!1)}function wt(e,t,a,n,r){r&&Dt(e,t)&&(t=Et(e,n,1/3)),r&&Dt(a,n)&&(a=Et(e,n,2/3));var i=bt(e[0],t[0],a[0],n[0]),l=bt(e[1],t[1],a[1],n[1]);this.a=[i[0],l[0]],this.b=[i[1],l[1]],this.c=[i[2],l[2]],this.d=[i[3],l[3]],this.points=[e,t,a,n]}function St(e,t){var a=e.points[0][t],n=e.points[e.points.length-1][t];if(a>n){var r=n;n=a,a=r}for(var i=Ct(3*e.a[t],2*e.b[t],e.c[t]),l=0;l<i.length;l+=1)if(i[l]>0&&i[l]<1){var o=e.point(i[l])[t];o<a?a=o:o>n&&(n=o)}return{min:a,max:n}}function kt(e,t,a){var n=e.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:e,t:(t+a)/2,t1:t,t2:a}}function Mt(e){var t=e.bez.split(.5);return[kt(t[0],e.t1,e.t),kt(t[1],e.t,e.t2)]}function Pt(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function Tt(e,t,a,n,r,i){if(Pt(e,t))if(a>=i||e.width<=n&&e.height<=n&&t.width<=n&&t.height<=n)r.push([e.t,t.t]);else{var l=Mt(e),o=Mt(t);Tt(l[0],o[0],a+1,n,r,i),Tt(l[0],o[1],a+1,n,r,i),Tt(l[1],o[0],a+1,n,r,i),Tt(l[1],o[1],a+1,n,r,i)}}function Ot(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function xt(e,t,a,n){var r=[e[0],e[1],1],i=[t[0],t[1],1],l=[a[0],a[1],1],o=[n[0],n[1],1],s=Ot(Ot(r,i),Ot(l,o));return yt(s[2])?null:[s[0]/s[2],s[1]/s[2]]}function It(e,t,a){return[e[0]+Math.cos(t)*a,e[1]-Math.sin(t)*a]}function Lt(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function Dt(e,t){return gt(e[0],t[0])&&gt(e[1],t[1])}function Rt(){}function At(e,t,a,n,r,i,l){var o=a-Math.PI/2,s=a+Math.PI/2,u=t[0]+Math.cos(a)*n*r,d=t[1]-Math.sin(a)*n*r;e.setTripleAt(u,d,u+Math.cos(o)*i,d-Math.sin(o)*i,u+Math.cos(s)*l,d-Math.sin(s)*l,e.length())}function Nt(e,t){var a=[t[0]-e[0],t[1]-e[1]],n=.5*-Math.PI;return[Math.cos(n)*a[0]-Math.sin(n)*a[1],Math.sin(n)*a[0]+Math.cos(n)*a[1]]}function jt(e,t){var a=0===t?e.length()-1:t-1,n=(t+1)%e.length(),r=Nt(e.v[a],e.v[n]);return Math.atan2(0,1)-Math.atan2(r[1],r[0])}function Ft(e,t,a,n,r,i,l){var o=jt(t,a),s=t.v[a%t._length],u=t.v[0===a?t._length-1:a-1],d=t.v[(a+1)%t._length],c=2===i?Math.sqrt(Math.pow(s[0]-u[0],2)+Math.pow(s[1]-u[1],2)):0,f=2===i?Math.sqrt(Math.pow(s[0]-d[0],2)+Math.pow(s[1]-d[1],2)):0;At(e,t.v[a%t._length],o,l,n,f/(2*(r+1)),c/(2*(r+1)),i)}function Bt(e,t,a,n,r,i){for(var l=0;l<n;l+=1){var o=(l+1)/(n+1),s=2===r?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,u=t.normalAngle(o);At(e,t.point(o),u,i,a,s/(2*(n+1)),s/(2*(n+1)),r),i=-i}return i}function Wt(e,t,a){var n=Math.atan2(t[0]-e[0],t[1]-e[1]);return[It(e,n,a),It(t,n,a)]}function Ht(e,t){var a,n,r,i,l,o,s;a=(s=Wt(e.points[0],e.points[1],t))[0],n=s[1],r=(s=Wt(e.points[1],e.points[2],t))[0],i=s[1],l=(s=Wt(e.points[2],e.points[3],t))[0],o=s[1];var u=xt(a,n,r,i);null===u&&(u=n);var d=xt(l,o,r,i);return null===d&&(d=l),new wt(a,u,d,o)}function zt(e,t,a,n,r){var i=t.points[3],l=a.points[0];if(3===n)return i;if(Dt(i,l))return i;if(2===n){var o=-t.tangentAngle(1),s=-a.tangentAngle(0)+Math.PI,u=xt(i,It(i,o+Math.PI/2,100),l,It(l,o+Math.PI/2,100)),d=u?Lt(u,i):Lt(i,l)/2,c=It(i,o,2*d*O);return e.setXYAt(c[0],c[1],"o",e.length()-1),c=It(l,s,2*d*O),e.setTripleAt(l[0],l[1],l[0],l[1],c[0],c[1],e.length()),l}var f=xt(Dt(i,t.points[2])?t.points[0]:t.points[2],i,l,Dt(l,a.points[1])?a.points[3]:a.points[1]);return f&&Lt(f,i)<r?(e.setTripleAt(f[0],f[1],f[0],f[1],f[0],f[1],e.length()),f):i}function Ut(e,t){var a=e.intersections(t);return a.length&&gt(a[0][0],1)&&a.shift(),a.length?a[0]:null}function Vt(e,t){var a=e.slice(),n=t.slice(),r=Ut(e[e.length-1],t[0]);return r&&(a[e.length-1]=e[e.length-1].split(r[0])[0],n[0]=t[0].split(r[1])[1]),e.length>1&&t.length>1&&(r=Ut(e[0],t[t.length-1]))?[[e[0].split(r[0])[0]],[t[t.length-1].split(r[1])[1]]]:[a,n]}function qt(e){for(var t,a=1;a<e.length;a+=1)t=Vt(e[a-1],e[a]),e[a-1]=t[0],e[a]=t[1];return e.length>1&&(t=Vt(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function Gt(e,t){var a,n,r,i,l=e.inflectionPoints();if(0===l.length)return[Ht(e,t)];if(1===l.length||gt(l[1],1))return a=(r=e.split(l[0]))[0],n=r[1],[Ht(a,t),Ht(n,t)];a=(r=e.split(l[0]))[0];var o=(l[1]-l[0])/(1-l[0]);return i=(r=r[1].split(o))[0],n=r[1],[Ht(a,t),Ht(i,t),Ht(n,t)]}function Yt(){}function Kt(e){for(var t=e.fStyle?e.fStyle.split(" "):[],a="normal",n="normal",r=t.length,i=0;i<r;i+=1)switch(t[i].toLowerCase()){case"italic":n="italic";break;case"bold":a="700";break;case"black":a="900";break;case"medium":a="500";break;case"regular":case"normal":a="400";break;case"light":case"thin":a="200"}return{style:n,weight:e.fWeight||a}}c([dt],ht),ht.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=Re.getProp(e,t.c,0,null,this),this.o=Re.getProp(e,t.o,0,null,this),this.tr=pt.getTransformProperty(e,t.tr,this),this.so=Re.getProp(e,t.tr.so,0,.01,this),this.eo=Re.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new ze,this.rMatrix=new ze,this.sMatrix=new ze,this.tMatrix=new ze,this.matrix=new ze},ht.prototype.applyTransforms=function(e,t,a,n,r,i){var l=i?-1:1,o=n.s.v[0]+(1-n.s.v[0])*(1-r),s=n.s.v[1]+(1-n.s.v[1])*(1-r);e.translate(n.p.v[0]*l*r,n.p.v[1]*l*r,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*l*r),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),a.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),a.scale(i?1/o:o,i?1/s:s),a.translate(n.a.v[0],n.a.v[1],n.a.v[2])},ht.prototype.init=function(e,t,a,n){for(this.elem=e,this.arr=t,this.pos=a,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[a]);a>0;)a-=1,this._elements.unshift(t[a]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ht.prototype.resetElements=function(e){var t,a=e.length;for(t=0;t<a;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},ht.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},ht.prototype.changeGroupRender=function(e,t){var a,n=e.length;for(a=0;a<n;a+=1)e[a]._render=t,"gr"===e[a].ty&&this.changeGroupRender(e[a].it,t)},ht.prototype.processShapes=function(e){var t,a,n,r,i,l=!1;if(this._mdf||e){var o,s=Math.ceil(this.c.v);if(this._groups.length<s){for(;this._groups.length<s;){var u={it:this.cloneElements(this._elements),ty:"gr"};u.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,u),this._groups.splice(0,0,u),this._currentCopies+=1}this.elem.reloadShapes(),l=!0}for(i=0,n=0;n<=this._groups.length-1;n+=1){if(o=i<s,this._groups[n]._render=o,this.changeGroupRender(this._groups[n].it,o),!o){var d=this.elemsData[n].it,c=d[d.length-1];0!==c.transform.op.v?(c.transform.op._mdf=!0,c.transform.op.v=0):c.transform.op._mdf=!1}i+=1}this._currentCopies=s;var f=this.o.v,p=f%1,h=f>0?Math.floor(f):Math.ceil(f),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var v,E,C=0;if(f>0){for(;C<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),C+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),C+=p)}else if(f<0){for(;C>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),C-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),C-=p)}for(n=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,i=this._currentCopies;i;){if(E=(a=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==C){for((0!==n&&1===r||n!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),v=0;v<E;v+=1)a[v]=this.matrix.props[v];this.matrix.reset()}else for(this.matrix.reset(),v=0;v<E;v+=1)a[v]=this.matrix.props[v];C+=1,i-=1,n+=r}}else for(i=this._currentCopies,n=0,r=1;i;)a=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,n+=r;return l},ht.prototype.addShape=function(){},c([dt],mt),mt.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=Re.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},mt.prototype.processPath=function(e,t){var a,n=Fe.newElement();n.c=e.c;var r,i,l,o,s,u,d,c,f,p,h,m,g=e._length,y=0;for(a=0;a<g;a+=1)r=e.v[a],l=e.o[a],i=e.i[a],r[0]===l[0]&&r[1]===l[1]&&r[0]===i[0]&&r[1]===i[1]?0!==a&&a!==g-1||e.c?(o=0===a?e.v[g-1]:e.v[a-1],u=(s=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(s/2,t)/s:0,d=h=r[0]+(o[0]-r[0])*u,c=m=r[1]-(r[1]-o[1])*u,f=d-(d-r[0])*O,p=c-(c-r[1])*O,n.setTripleAt(d,c,f,p,h,m,y),y+=1,o=a===g-1?e.v[0]:e.v[a+1],u=(s=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(s/2,t)/s:0,d=f=r[0]+(o[0]-r[0])*u,c=p=r[1]+(o[1]-r[1])*u,h=d-(d-r[0])*O,m=c-(c-r[1])*O,n.setTripleAt(d,c,f,p,h,m,y),y+=1):(n.setTripleAt(r[0],r[1],l[0],l[1],i[0],i[1],y),y+=1):(n.setTripleAt(e.v[a][0],e.v[a][1],e.o[a][0],e.o[a][1],e.i[a][0],e.i[a][1],y),y+=1);return n},mt.prototype.processShapes=function(e){var t,a,n,r,i,l,o=this.shapes.length,s=this.rd.v;if(0!==s)for(a=0;a<o;a+=1){if(l=(i=this.shapes[a]).localShapeCollection,i.shape._mdf||this._mdf||e)for(l.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,r=i.shape.paths._length,n=0;n<r;n+=1)l.addShape(this.processPath(t[n],s));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},wt.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},wt.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},wt.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},wt.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},wt.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(yt(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,a=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(a<0)return[];var n=Math.sqrt(a);return yt(n)?n>0&&n<1?[t]:[]:[t-n,t+n].filter((function(e){return e>0&&e<1}))},wt.prototype.split=function(e){if(e<=0)return[_t(this.points[0]),this];if(e>=1)return[this,_t(this.points[this.points.length-1])];var t=Et(this.points[0],this.points[1],e),a=Et(this.points[1],this.points[2],e),n=Et(this.points[2],this.points[3],e),r=Et(t,a,e),i=Et(a,n,e),l=Et(r,i,e);return[new wt(this.points[0],t,r,l,!0),new wt(l,i,n,this.points[3],!0)]},wt.prototype.bounds=function(){return{x:St(this,0),y:St(this,1)}},wt.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},wt.prototype.intersections=function(e,t,a){void 0===t&&(t=2),void 0===a&&(a=7);var n=[];return Tt(kt(this,0,1),kt(e,0,1),0,t,n,a),n},wt.shapeSegment=function(e,t){var a=(t+1)%e.length();return new wt(e.v[t],e.o[t],e.i[a],e.v[a],!0)},wt.shapeSegmentInverted=function(e,t){var a=(t+1)%e.length();return new wt(e.v[a],e.i[a],e.o[t],e.v[t],!0)},c([dt],Rt),Rt.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=Re.getProp(e,t.s,0,null,this),this.frequency=Re.getProp(e,t.r,0,null,this),this.pointsType=Re.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},Rt.prototype.processPath=function(e,t,a,n){var r=e._length,i=Fe.newElement();if(i.c=e.c,e.c||(r-=1),0===r)return i;var l=-1,o=wt.shapeSegment(e,0);Ft(i,e,0,t,a,n,l);for(var s=0;s<r;s+=1)l=Bt(i,o,t,a,n,-l),o=s!==r-1||e.c?wt.shapeSegment(e,(s+1)%r):null,Ft(i,e,s+1,t,a,n,l);return i},Rt.prototype.processShapes=function(e){var t,a,n,r,i,l,o=this.shapes.length,s=this.amplitude.v,u=Math.max(0,Math.round(this.frequency.v)),d=this.pointsType.v;if(0!==s)for(a=0;a<o;a+=1){if(l=(i=this.shapes[a]).localShapeCollection,i.shape._mdf||this._mdf||e)for(l.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,r=i.shape.paths._length,n=0;n<r;n+=1)l.addShape(this.processPath(t[n],s,u,d));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},c([dt],Yt),Yt.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=Re.getProp(e,t.a,0,null,this),this.miterLimit=Re.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},Yt.prototype.processPath=function(e,t,a,n){var r=Fe.newElement();r.c=e.c;var i,l,o,s=e.length();e.c||(s-=1);var u=[];for(i=0;i<s;i+=1)o=wt.shapeSegment(e,i),u.push(Gt(o,t));if(!e.c)for(i=s-1;i>=0;i-=1)o=wt.shapeSegmentInverted(e,i),u.push(Gt(o,t));u=qt(u);var d=null,c=null;for(i=0;i<u.length;i+=1){var f=u[i];for(c&&(d=zt(r,c,f[0],a,n)),c=f[f.length-1],l=0;l<f.length;l+=1)o=f[l],d&&Dt(o.points[0],d)?r.setXYAt(o.points[1][0],o.points[1][1],"o",r.length()-1):r.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],r.length()),r.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],r.length()),d=o.points[3]}return u.length&&zt(r,c,u[0][0],a,n),r},Yt.prototype.processShapes=function(e){var t,a,n,r,i,l,o=this.shapes.length,s=this.amount.v,u=this.miterLimit.v,d=this.lineJoin;if(0!==s)for(a=0;a<o;a+=1){if(l=(i=this.shapes[a]).localShapeCollection,i.shape._mdf||this._mdf||e)for(l.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,r=i.shape.paths._length,n=0;n<r;n+=1)l.addShape(this.processPath(t[n],s,d,u));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var Xt=function(){var e=5e3,t={w:0,size:0,shapes:[],data:{shapes:[]}},a=[];a=a.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=127988,r=917631,i=917601,l=917626,o=65039,s=8205,u=127462,c=127487,f=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function p(e){var t,a=e.split(","),n=a.length,r=[];for(t=0;t<n;t+=1)"sans-serif"!==a[t]&&"monospace"!==a[t]&&r.push(a[t]);return r.join(",")}function h(e,t){var a=d("span");a.setAttribute("aria-hidden",!0),a.style.fontFamily=t;var n=d("span");n.innerText="giItT1WQy@!-/#",a.style.position="absolute",a.style.left="-10000px",a.style.top="-10000px",a.style.fontSize="300px",a.style.fontVariant="normal",a.style.fontStyle="normal",a.style.fontWeight="normal",a.style.letterSpacing="0",a.appendChild(n),document.body.appendChild(a);var r=n.offsetWidth;return n.style.fontFamily=p(e)+", "+t,{node:n,w:r,parent:a}}function m(){var t,a,n,r=this.fonts.length,i=r;for(t=0;t<r;t+=1)this.fonts[t].loaded?i-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(a=this.fonts[t].monoCase.node,n=this.fonts[t].monoCase.w,a.offsetWidth!==n?(i-=1,this.fonts[t].loaded=!0):(a=this.fonts[t].sansCase.node,n=this.fonts[t].sansCase.w,a.offsetWidth!==n&&(i-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==i&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function g(e,t){var a,n=document.body&&t?"svg":"canvas",r=Kt(e);if("svg"===n){var i=$("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",r.style),i.setAttribute("font-weight",r.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),a=i}else{var l=new OffscreenCanvas(500,500).getContext("2d");l.font=r.style+" "+r.weight+" 100px "+e.fFamily,a=l}function o(e){return"svg"===n?(a.textContent=e,a.getComputedTextLength()):a.measureText(e).width}return{measureText:o}}function y(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=g(e),e.cache={}})),void(this.fonts=e.list);var a,n=e.list,r=n.length,i=r;for(a=0;a<r;a+=1){var l,o,s=!0;if(n[a].loaded=!1,n[a].monoCase=h(n[a].fFamily,"monospace"),n[a].sansCase=h(n[a].fFamily,"sans-serif"),n[a].fPath){if("p"===n[a].fOrigin||3===n[a].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[a].fFamily+'"], style[f-origin="3"][f-family="'+n[a].fFamily+'"]')).length>0&&(s=!1),s){var u=d("style");u.setAttribute("f-forigin",n[a].fOrigin),u.setAttribute("f-origin",n[a].origin),u.setAttribute("f-family",n[a].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+n[a].fFamily+"; font-style: normal; src: url('"+n[a].fPath+"');}",t.appendChild(u)}}else if("g"===n[a].fOrigin||1===n[a].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),o=0;o<l.length;o+=1)-1!==l[o].href.indexOf(n[a].fPath)&&(s=!1);if(s){var c=d("link");c.setAttribute("f-forigin",n[a].fOrigin),c.setAttribute("f-origin",n[a].origin),c.type="text/css",c.rel="stylesheet",c.href=n[a].fPath,document.body.appendChild(c)}}else if("t"===n[a].fOrigin||2===n[a].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),o=0;o<l.length;o+=1)n[a].fPath===l[o].src&&(s=!1);if(s){var f=d("link");f.setAttribute("f-forigin",n[a].fOrigin),f.setAttribute("f-origin",n[a].origin),f.setAttribute("rel","stylesheet"),f.setAttribute("href",n[a].fPath),t.appendChild(f)}}}else n[a].loaded=!0,i-=1;n[a].helper=g(n[a],t),n[a].cache={},this.fonts.push(n[a])}0===i?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0}function v(e){if(e){var t;this.chars||(this.chars=[]);var a,n,r=e.length,i=this.chars.length;for(t=0;t<r;t+=1){for(a=0,n=!1;a<i;)this.chars[a].style===e[t].style&&this.chars[a].fFamily===e[t].fFamily&&this.chars[a].ch===e[t].ch&&(n=!0),a+=1;n||(this.chars.push(e[t]),i+=1)}}}function E(e,a,n){for(var r=0,i=this.chars.length;r<i;){if(this.chars[r].ch===e&&this.chars[r].style===a&&this.chars[r].fFamily===n)return this.chars[r];r+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,a,n)),t}function C(e,t,a){var n=this.getFontByName(t),r=e;if(!n.cache[r]){var i=n.helper;if(" "===e){var l=i.measureText("|"+e+"|"),o=i.measureText("||");n.cache[r]=(l-o)/100}else n.cache[r]=i.measureText(e)/100}return n.cache[r]*a}function b(e){for(var t=0,a=this.fonts.length;t<a;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]}function _(e){var t=0,a=e.charCodeAt(0);if(a>=55296&&a<=56319){var n=e.charCodeAt(1);n>=56320&&n<=57343&&(t=1024*(a-55296)+n-56320+65536)}return t}function w(e,t){var a=e.toString(16)+t.toString(16);return-1!==f.indexOf(a)}function S(e){return e===s}function k(e){return e===o}function M(e){var t=_(e);return t>=u&&t<=c}function P(e){return M(e.substr(0,2))&&M(e.substr(2,2))}function T(e){return-1!==a.indexOf(e)}function O(e,t){var a=_(e.substr(t,2));if(a!==n)return!1;var o=0;for(t+=2;o<5;){if((a=_(e.substr(t,2)))<i||a>l)return!1;o+=1,t+=2}return _(e.substr(t,2))===r}function x(){this.isLoaded=!0}var I=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};I.isModifier=w,I.isZeroWidthJoiner=S,I.isFlagEmoji=P,I.isRegionalCode=M,I.isCombinedCharacter=T,I.isRegionalFlag=O,I.isVariationSelector=k,I.BLACK_FLAG_CODE_POINT=n;var L={addChars:v,addFonts:y,getCharData:E,getFontByName:b,measureText:C,checkLoadedFonts:m,setIsLoaded:x};return I.prototype=L,I}();function Zt(e){this.animationData=e}function Qt(e){return new Zt(e)}function Jt(){}Zt.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e},Jt.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var $t,ea=($t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return $t[e]||""});function ta(e,t,a){this.p=Re.getProp(t,e.v,0,0,a)}function aa(e,t,a){this.p=Re.getProp(t,e.v,0,0,a)}function na(e,t,a){this.p=Re.getProp(t,e.v,1,0,a)}function ra(e,t,a){this.p=Re.getProp(t,e.v,1,0,a)}function ia(e,t,a){this.p=Re.getProp(t,e.v,0,0,a)}function la(e,t,a){this.p=Re.getProp(t,e.v,0,0,a)}function oa(e,t,a){this.p=Re.getProp(t,e.v,0,0,a)}function sa(){this.p={}}function ua(e,t){var a,n=e.ef||[];this.effectElements=[];var r,i=n.length;for(a=0;a<i;a+=1)r=new da(n[a],t),this.effectElements.push(r)}function da(e,t){this.init(e,t)}function ca(){}function fa(){}function pa(e,t,a){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,a)}function ha(e,t,a){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,a),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?Re.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=Re.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function ma(){}c([Ae],da),da.prototype.getValue=da.prototype.iterateDynamicProperties,da.prototype.init=function(e,t){var a;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,r=this.data.ef.length,i=this.data.ef;for(a=0;a<r;a+=1){switch(n=null,i[a].ty){case 0:n=new ta(i[a],t,this);break;case 1:n=new aa(i[a],t,this);break;case 2:n=new na(i[a],t,this);break;case 3:n=new ra(i[a],t,this);break;case 4:case 7:n=new oa(i[a],t,this);break;case 10:n=new ia(i[a],t,this);break;case 11:n=new la(i[a],t,this);break;case 5:n=new ua(i[a],t,this);break;default:n=new sa(i[a],t,this)}n&&this.effectElements.push(n)}},ca.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=X();if(e){var t=e("layer"),a=e("effects"),n=e("shape"),r=e("text"),i=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var l=a.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(l),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=r(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=ea(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,a){this.globalData=t,this.comp=a,this.data=e,this.layerId=B(),this.data.sr||(this.data.sr=1),this.effectsManager=new ua(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},fa.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var a,n=this.dynamicProperties.length;for(a=0;a<n;a+=1)(t||this._isParent&&"transform"===this.dynamicProperties[a].propType)&&(this.dynamicProperties[a].getValue(),this.dynamicProperties[a]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},pa.prototype.prepareFrame=function(){},c([Jt,ca,fa],pa),pa.prototype.getBaseElement=function(){return null},pa.prototype.renderFrame=function(){},pa.prototype.destroy=function(){},pa.prototype.initExpressions=function(){var e=X();if(e){var t=e("footage");this.layerInterface=t(this)}},pa.prototype.getFootageData=function(){return this.footageData},ha.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var a=this._volume*this._volumeMultiplier;this._previousVolume!==a&&(this._previousVolume=a,this.audio.volume(a))},c([Jt,ca,fa],ha),ha.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},ha.prototype.show=function(){},ha.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},ha.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},ha.prototype.resume=function(){this._canPlay=!0},ha.prototype.setRate=function(e){this.audio.rate(e)},ha.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},ha.prototype.getBaseElement=function(){return null},ha.prototype.destroy=function(){},ha.prototype.sourceRectAtTime=function(){},ha.prototype.initExpressions=function(){},ma.prototype.checkLayers=function(e){var t,a,n=this.layers.length;for(this.completeLayers=!0,t=n-1;t>=0;t-=1)this.elements[t]||(a=this.layers[t]).ip-a.st<=e-this.layers[t].st&&a.op-a.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},ma.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},ma.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},ma.prototype.createAudio=function(e){return new ha(e,this.globalData,this)},ma.prototype.createFootage=function(e){return new pa(e,this.globalData,this)},ma.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},ma.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var a,n=e.length,r=this.layers.length;for(t=0;t<n;t+=1)for(a=0;a<r;){if(this.layers[a].id===e[t].id){this.layers[a]=e[t];break}a+=1}},ma.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},ma.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},ma.prototype.buildElementParenting=function(e,t,a){for(var n=this.elements,r=this.layers,i=0,l=r.length;i<l;)r[i].ind==t&&(n[i]&&!0!==n[i]?(a.push(n[i]),n[i].setAsParent(),void 0!==r[i].parent?this.buildElementParenting(e,r[i].parent,a):e.setHierarchy(a)):(this.buildItem(i),this.addPendingElement(e))),i+=1},ma.prototype.addPendingElement=function(e){this.pendingElements.push(e)},ma.prototype.searchExtraCompositions=function(e){var t,a=e.length;for(t=0;t<a;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},ma.prototype.getElementById=function(e){var t,a=this.elements.length;for(t=0;t<a;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},ma.prototype.getElementByPath=function(e){var t,a=e.shift();if("number"==typeof a)t=this.elements[a];else{var n,r=this.elements.length;for(n=0;n<r;n+=1)if(this.elements[n].data.nm===a){t=this.elements[n];break}}return 0===e.length?t:t.getElementByPath(e)},ma.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new Xt,this.globalData.slotManager=Qt(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var ga={TRANSFORM_EFFECT:"transformEFfect"};function ya(){}function va(e,t,a){this.data=e,this.element=t,this.globalData=a,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,r,i=this.globalData.defs,l=this.masksProperties?this.masksProperties.length:0;this.viewData=m(l),this.solidPath="";var o,s,d,c,f,p,h=this.masksProperties,g=0,y=[],v=B(),E="clipPath",C="clip-path";for(n=0;n<l;n+=1)if(("a"!==h[n].mode&&"n"!==h[n].mode||h[n].inv||100!==h[n].o.k||h[n].o.x)&&(E="mask",C="mask"),"s"!==h[n].mode&&"i"!==h[n].mode||0!==g?d=null:((d=$("rect")).setAttribute("fill","#ffffff"),d.setAttribute("width",this.element.comp.data.w||0),d.setAttribute("height",this.element.comp.data.h||0),y.push(d)),r=$("path"),"n"===h[n].mode)this.viewData[n]={op:Re.getProp(this.element,h[n].o,0,.01,this.element),prop:He.getShapeProp(this.element,h[n],3),elem:r,lastPath:""},i.appendChild(r);else{var b;if(g+=1,r.setAttribute("fill","s"===h[n].mode?"#000000":"#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==h[n].x.k?(E="mask",C="mask",p=Re.getProp(this.element,h[n].x,0,null,this.element),b=B(),(c=$("filter")).setAttribute("id",b),(f=$("feMorphology")).setAttribute("operator","erode"),f.setAttribute("in","SourceGraphic"),f.setAttribute("radius","0"),c.appendChild(f),i.appendChild(c),r.setAttribute("stroke","s"===h[n].mode?"#000000":"#ffffff")):(f=null,p=null),this.storedData[n]={elem:r,x:p,expan:f,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===h[n].mode){s=y.length;var _=$("g");for(o=0;o<s;o+=1)_.appendChild(y[o]);var w=$("mask");w.setAttribute("mask-type","alpha"),w.setAttribute("id",v+"_"+g),w.appendChild(r),i.appendChild(w),_.setAttribute("mask","url("+u()+"#"+v+"_"+g+")"),y.length=0,y.push(_)}else y.push(r);h[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:r,lastPath:"",op:Re.getProp(this.element,h[n].o,0,.01,this.element),prop:He.getShapeProp(this.element,h[n],3),invRect:d},this.viewData[n].prop.k||this.drawPath(h[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=$(E),l=y.length,n=0;n<l;n+=1)this.maskElement.appendChild(y[n]);g>0&&(this.maskElement.setAttribute("id",v),this.element.maskedElement.setAttribute(C,"url("+u()+"#"+v+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}ya.prototype={initTransform:function(){var e=new ze;this.finalTransform={mProp:this.data.ks?pt.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,a=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;a<n;){if(this.hierarchy[a].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}a+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),a=0;a<n;a+=1)t.multiply(this.hierarchy[a].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,t=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<t;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var a=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(a),e=1;e<t;e+=1){var n=this.localTransforms[e].matrix;a.multiply(n)}a.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var r=this.finalTransform.localOpacity;for(e=0;e<t;e+=1)r*=.01*this.localTransforms[e].opacity;this.finalTransform.localOpacity=r}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(ga.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new ze;var t=0,a=e.length;for(t=0;t<a;t+=1)this.localTransforms.push(e[t])}}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var a,n=!0,r=this.comp;n;)r.finalTransform?(r.data.hasMask&&t.splice(0,0,r.finalTransform),r=r.comp):n=!1;var i,l=t.length;for(a=0;a<l;a+=1)i=t[a].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new ze},va.prototype.getMaskProperty=function(e){return this.viewData[e].prop},va.prototype.renderFrame=function(e){var t,a=this.element.finalTransform.mat,n=this.masksProperties.length;for(t=0;t<n;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",a.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var r=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+u()+"#"+this.storedData[t].filterId+")")),r.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},va.prototype.getMaskelement=function(){return this.maskElement},va.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},va.prototype.drawPath=function(e,t,a){var n,r,i=" M"+t.v[0][0]+","+t.v[0][1];for(r=t._length,n=1;n<r;n+=1)i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[n][0]+","+t.i[n][1]+" "+t.v[n][0]+","+t.v[n][1];if(t.c&&r>1&&(i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),a.lastPath!==i){var l="";a.elem&&(t.c&&(l=e.inv?this.solidPath+i:i),a.elem.setAttribute("d",l)),a.lastPath=i}},va.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var Ea,Ca=function(){var e={};function t(e,t){var a=$("filter");return a.setAttribute("id",e),!0!==t&&(a.setAttribute("filterUnits","objectBoundingBox"),a.setAttribute("x","0%"),a.setAttribute("y","0%"),a.setAttribute("width","100%"),a.setAttribute("height","100%")),a}function a(){var e=$("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}return e.createFilter=t,e.createAlphaToLuminanceFilter=a,e}(),ba=(Ea={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Ea.maskType=!1),/firefox/i.test(navigator.userAgent)&&(Ea.svgLumaHidden=!1),Ea),_a={},wa="filter_result_";function Sa(e){var t,a,n="SourceGraphic",r=e.data.ef?e.data.ef.length:0,i=B(),l=Ca.createFilter(i,!0),o=0;for(this.filters=[],t=0;t<r;t+=1){a=null;var s=e.data.ef[t].ty;_a[s]&&(a=new(0,_a[s].effect)(l,e.effectsManager.effectElements[t],e,wa+o,n),n=wa+o,_a[s].countsAsEffect&&(o+=1)),a&&this.filters.push(a)}o&&(e.globalData.defs.appendChild(l),e.layerElement.setAttribute("filter","url("+u()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function ka(){}function Ma(){}function Pa(){}function Ta(e,t,a){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,a),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function Oa(e,t){this.elem=e,this.pos=t}function xa(){}Sa.prototype.renderFrame=function(e){var t,a=this.filters.length;for(t=0;t<a;t+=1)this.filters[t].renderFrame(e)},Sa.prototype.getEffects=function(e){var t,a=this.filters.length,n=[];for(t=0;t<a;t+=1)this.filters[t].type===e&&n.push(this.filters[t]);return n},ka.prototype={initRendererElement:function(){this.layerElement=$("g")},createContainerElements:function(){this.matteElement=$("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=$("g");t.setAttribute("id",this.layerId),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var a=$("clipPath"),n=$("path");n.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var r=B();if(a.setAttribute("id",r),a.appendChild(n),this.globalData.defs.appendChild(a),this.checkMasks()){var i=$("g");i.setAttribute("clip-path","url("+u()+"#"+r+")"),i.appendChild(this.layerElement),this.transformedElement=i,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+u()+"#"+r+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new va(this.data,this,this.globalData),this.renderableEffectsManager=new Sa(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var t,a,n,r,i=this.layerId+"_"+e;if(1===e||3===e){var l=$("mask");l.setAttribute("id",i),l.setAttribute("mask-type",3===e?"luminance":"alpha"),(n=$("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),this.globalData.defs.appendChild(l),ba.maskType||1!==e||(l.setAttribute("mask-type","luminance"),t=B(),a=Ca.createFilter(t),this.globalData.defs.appendChild(a),a.appendChild(Ca.createAlphaToLuminanceFilter()),(r=$("g")).appendChild(n),l.appendChild(r),r.setAttribute("filter","url("+u()+"#"+t+")"))}else if(2===e){var o=$("mask");o.setAttribute("id",i),o.setAttribute("mask-type","alpha");var s=$("g");o.appendChild(s),t=B(),a=Ca.createFilter(t);var d=$("feComponentTransfer");d.setAttribute("in","SourceGraphic"),a.appendChild(d);var c=$("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),d.appendChild(c),this.globalData.defs.appendChild(a);var f=$("rect");f.setAttribute("width",this.comp.data.w),f.setAttribute("height",this.comp.data.h),f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("fill","#ffffff"),f.setAttribute("opacity","0"),s.setAttribute("filter","url("+u()+"#"+t+")"),s.appendChild(f),(n=$("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(n),ba.maskType||(o.setAttribute("mask-type","luminance"),a.appendChild(Ca.createAlphaToLuminanceFilter()),r=$("g"),s.appendChild(f),r.appendChild(this.layerElement),s.appendChild(r)),this.globalData.defs.appendChild(o)}this.matteMasks[e]=i}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+u()+"#"+e+")")}},Ma.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},c([Jt,f({initElement:function(e,t,a){this.initFrame(),this.initBaseData(e,t,a),this.initTransform(e,t,a),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],Pa),c([ca,ya,ka,Ma,fa,Pa],Ta),Ta.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=$("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},Ta.prototype.sourceRectAtTime=function(){return this.sourceRect},xa.prototype={addShapeToModifiers:function(e){var t,a=this.shapeModifiers.length;for(t=0;t<a;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=0,a=this.shapeModifiers.length;t<a;)if(this.shapeModifiers[t].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,a=0,n=t.length;a<n;){if(t[a].elem===e)return t[a].pos;a+=1}return 0},addProcessedElement:function(e,t){for(var a=this.processedElements,n=a.length;n;)if(a[n-=1].elem===e)return void(a[n].pos=t);a.push(new Oa(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var Ia={1:"butt",2:"round",3:"square"},La={1:"miter",2:"round",3:"bevel"};function Da(e,t,a){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=a,this.lvl=t,this._isAnimated=!!a.k;for(var n=0,r=e.length;n<r;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function Ra(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=$("path"),this.msElem=null}function Aa(e,t,a,n){var r;this.elem=e,this.frameId=-1,this.dataProps=m(t.length),this.renderer=a,this.k=!1,this.dashStr="",this.dashArray=h("float32",t.length?t.length-1:0),this.dashoffset=h("float32",1),this.initDynamicPropertyContainer(n);var i,l=t.length||0;for(r=0;r<l;r+=1)i=Re.getProp(e,t[r].v,0,0,this),this.k=i.k||this.k,this.dataProps[r]={n:t[r].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function Na(e,t,a){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=Re.getProp(e,t.o,0,.01,this),this.w=Re.getProp(e,t.w,0,null,this),this.d=new Aa(e,t.d||{},"svg",this),this.c=Re.getProp(e,t.c,1,255,this),this.style=a,this._isAnimated=!!this._isAnimated}function ja(e,t,a){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=Re.getProp(e,t.o,0,.01,this),this.c=Re.getProp(e,t.c,1,255,this),this.style=a}function Fa(e,t,a){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=a}function Ba(e,t,a){this.data=t,this.c=h("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=h("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(a),this.prop=Re.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function Wa(e,t,a){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,a)}function Ha(e,t,a){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=Re.getProp(e,t.w,0,null,this),this.d=new Aa(e,t.d||{},"svg",this),this.initGradientData(e,t,a),this._isAnimated=!!this._isAnimated}function za(){this.it=[],this.prevViewData=[],this.gr=$("g")}function Ua(e,t,a){this.transform={mProps:e,op:t,container:a},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}Da.prototype.setAsAnimated=function(){this._isAnimated=!0},Ra.prototype.reset=function(){this.d="",this._mdf=!1},Aa.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,a=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<a;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},c([Ae],Aa),c([Ae],Na),c([Ae],ja),c([Ae],Fa),Ba.prototype.comparePoints=function(e,t){for(var a=0,n=this.o.length/2;a<n;){if(Math.abs(e[4*a]-e[4*t+2*a])>.01)return!1;a+=1}return!0},Ba.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},Ba.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,a,n,r=4*this.data.p;for(t=0;t<r;t+=1)a=t%4==0?100:255,n=Math.round(this.prop.v[t]*a),this.c[t]!==n&&(this.c[t]=n,this._cmdf=!e);if(this.o.length)for(r=this.prop.v.length,t=4*this.data.p;t<r;t+=1)a=t%2==0?100:1,n=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==n&&(this.o[t-4*this.data.p]=n,this._omdf=!e);this._mdf=!e}},c([Ae],Ba),Wa.prototype.initGradientData=function(e,t,a){this.o=Re.getProp(e,t.o,0,.01,this),this.s=Re.getProp(e,t.s,1,null,this),this.e=Re.getProp(e,t.e,1,null,this),this.h=Re.getProp(e,t.h||{k:0},0,.01,this),this.a=Re.getProp(e,t.a||{k:0},0,T,this),this.g=new Ba(e,t.g,this),this.style=a,this.stops=[],this.setGradientData(a.pElem,t),this.setGradientOpacity(t,a),this._isAnimated=!!this._isAnimated},Wa.prototype.setGradientData=function(e,t){var a=B(),n=$(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",a),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var r,i,l,o=[];for(l=4*t.g.p,i=0;i<l;i+=4)r=$("stop"),n.appendChild(r),o.push(r);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+u()+"#"+a+")"),this.gf=n,this.cst=o},Wa.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var a,n,r,i=$("mask"),l=$("path");i.appendChild(l);var o=B(),s=B();i.setAttribute("id",s);var d=$(1===e.t?"linearGradient":"radialGradient");d.setAttribute("id",o),d.setAttribute("spreadMethod","pad"),d.setAttribute("gradientUnits","userSpaceOnUse"),r=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var c=this.stops;for(n=4*e.g.p;n<r;n+=2)(a=$("stop")).setAttribute("stop-color","rgb(255,255,255)"),d.appendChild(a),c.push(a);l.setAttribute("gf"===e.ty?"fill":"stroke","url("+u()+"#"+o+")"),"gs"===e.ty&&(l.setAttribute("stroke-linecap",Ia[e.lc||2]),l.setAttribute("stroke-linejoin",La[e.lj||2]),1===e.lj&&l.setAttribute("stroke-miterlimit",e.ml)),this.of=d,this.ms=i,this.ost=c,this.maskId=s,t.msElem=l}},c([Ae],Wa),c([Wa,Ae],Ha);var Va=function(e,t,a,n){if(0===t)return"";var r,i=e.o,l=e.i,o=e.v,s=" M"+n.applyToPointStringified(o[0][0],o[0][1]);for(r=1;r<t;r+=1)s+=" C"+n.applyToPointStringified(i[r-1][0],i[r-1][1])+" "+n.applyToPointStringified(l[r][0],l[r][1])+" "+n.applyToPointStringified(o[r][0],o[r][1]);return a&&t&&(s+=" C"+n.applyToPointStringified(i[r-1][0],i[r-1][1])+" "+n.applyToPointStringified(l[0][0],l[0][1])+" "+n.applyToPointStringified(o[0][0],o[0][1]),s+="z"),s},qa=function(){var e=new ze,t=new ze;function a(e){switch(e.ty){case"fl":return l;case"gf":return s;case"gs":return o;case"st":return u;case"sh":case"el":case"rc":case"sr":return i;case"tr":return n;case"no":return r;default:return null}}function n(e,t,a){(a||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(a||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function r(){}function i(a,n,r){var i,l,o,s,u,d,c,f,p,h,m=n.styles.length,g=n.lvl;for(d=0;d<m;d+=1){if(s=n.sh._mdf||r,n.styles[d].lvl<g){for(f=t.reset(),p=g-n.styles[d].lvl,h=n.transformers.length-1;!s&&p>0;)s=n.transformers[h].mProps._mdf||s,p-=1,h-=1;if(s)for(p=g-n.styles[d].lvl,h=n.transformers.length-1;p>0;)f.multiply(n.transformers[h].mProps.v),p-=1,h-=1}else f=e;if(l=(c=n.sh.paths)._length,s){for(o="",i=0;i<l;i+=1)(u=c.shapes[i])&&u._length&&(o+=Va(u,u._length,u.c,f));n.caches[d]=o}else o=n.caches[d];n.styles[d].d+=!0===a.hd?"":o,n.styles[d]._mdf=s||n.styles[d]._mdf}}function l(e,t,a){var n=t.style;(t.c._mdf||a)&&n.pElem.setAttribute("fill","rgb("+S(t.c.v[0])+","+S(t.c.v[1])+","+S(t.c.v[2])+")"),(t.o._mdf||a)&&n.pElem.setAttribute("fill-opacity",t.o.v)}function o(e,t,a){s(e,t,a),u(e,t,a)}function s(e,t,a){var n,r,i,l,o,s=t.gf,u=t.g._hasOpacity,d=t.s.v,c=t.e.v;if(t.o._mdf||a){var f="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(f,t.o.v)}if(t.s._mdf||a){var p=1===e.t?"x1":"cx",h="x1"===p?"y1":"cy";s.setAttribute(p,d[0]),s.setAttribute(h,d[1]),u&&!t.g._collapsable&&(t.of.setAttribute(p,d[0]),t.of.setAttribute(h,d[1]))}if(t.g._cmdf||a){n=t.cst;var m=t.g.c;for(i=n.length,r=0;r<i;r+=1)(l=n[r]).setAttribute("offset",m[4*r]+"%"),l.setAttribute("stop-color","rgb("+m[4*r+1]+","+m[4*r+2]+","+m[4*r+3]+")")}if(u&&(t.g._omdf||a)){var g=t.g.o;for(i=(n=t.g._collapsable?t.cst:t.ost).length,r=0;r<i;r+=1)l=n[r],t.g._collapsable||l.setAttribute("offset",g[2*r]+"%"),l.setAttribute("stop-opacity",g[2*r+1])}if(1===e.t)(t.e._mdf||a)&&(s.setAttribute("x2",c[0]),s.setAttribute("y2",c[1]),u&&!t.g._collapsable&&(t.of.setAttribute("x2",c[0]),t.of.setAttribute("y2",c[1])));else if((t.s._mdf||t.e._mdf||a)&&(o=Math.sqrt(Math.pow(d[0]-c[0],2)+Math.pow(d[1]-c[1],2)),s.setAttribute("r",o),u&&!t.g._collapsable&&t.of.setAttribute("r",o)),t.e._mdf||t.h._mdf||t.a._mdf||a){o||(o=Math.sqrt(Math.pow(d[0]-c[0],2)+Math.pow(d[1]-c[1],2)));var y=Math.atan2(c[1]-d[1],c[0]-d[0]),v=t.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var E=o*v,C=Math.cos(y+t.a.v)*E+d[0],b=Math.sin(y+t.a.v)*E+d[1];s.setAttribute("fx",C),s.setAttribute("fy",b),u&&!t.g._collapsable&&(t.of.setAttribute("fx",C),t.of.setAttribute("fy",b))}}function u(e,t,a){var n=t.style,r=t.d;r&&(r._mdf||a)&&r.dashStr&&(n.pElem.setAttribute("stroke-dasharray",r.dashStr),n.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),t.c&&(t.c._mdf||a)&&n.pElem.setAttribute("stroke","rgb("+S(t.c.v[0])+","+S(t.c.v[1])+","+S(t.c.v[2])+")"),(t.o._mdf||a)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||a)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:a}}();function Ga(e,t,a){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,a),this.prevViewData=[]}function Ya(e,t,a,n,r,i){this.o=e,this.sw=t,this.sc=a,this.fc=n,this.m=r,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!a,fc:!!n,m:!0,p:!0}}function Ka(e,t){this._frameId=i,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}c([ca,ya,ka,xa,Ma,fa,Pa],Ga),Ga.prototype.initSecondaryElement=function(){},Ga.prototype.identityMatrix=new ze,Ga.prototype.buildExpressionInterface=function(){},Ga.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},Ga.prototype.filterUniqueShapes=function(){var e,t,a,n,r=this.shapes.length,i=this.stylesList.length,l=[],o=!1;for(a=0;a<i;a+=1){for(n=this.stylesList[a],o=!1,l.length=0,e=0;e<r;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(n)&&(l.push(t),o=t._isAnimated||o);l.length>1&&o&&this.setShapesAsAnimated(l)}},Ga.prototype.setShapesAsAnimated=function(e){var t,a=e.length;for(t=0;t<a;t+=1)e[t].setAsAnimated()},Ga.prototype.createStyleElement=function(e,t){var a,n=new Ra(e,t),r=n.pElem;return"st"===e.ty?a=new Na(this,e,n):"fl"===e.ty?a=new ja(this,e,n):"gf"===e.ty||"gs"===e.ty?(a=new("gf"===e.ty?Wa:Ha)(this,e,n),this.globalData.defs.appendChild(a.gf),a.maskId&&(this.globalData.defs.appendChild(a.ms),this.globalData.defs.appendChild(a.of),r.setAttribute("mask","url("+u()+"#"+a.maskId+")"))):"no"===e.ty&&(a=new Fa(this,e,n)),"st"!==e.ty&&"gs"!==e.ty||(r.setAttribute("stroke-linecap",Ia[e.lc||2]),r.setAttribute("stroke-linejoin",La[e.lj||2]),r.setAttribute("fill-opacity","0"),1===e.lj&&r.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&r.setAttribute("fill-rule","evenodd"),e.ln&&r.setAttribute("id",e.ln),e.cl&&r.setAttribute("class",e.cl),e.bm&&(r.style["mix-blend-mode"]=ea(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,a),a},Ga.prototype.createGroupElement=function(e){var t=new za;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=ea(e.bm)),t},Ga.prototype.createTransformElement=function(e,t){var a=pt.getTransformProperty(this,e,this),n=new Ua(a,a.o,t);return this.addToAnimatedContents(e,n),n},Ga.prototype.createShapeElement=function(e,t,a){var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var r=new Da(t,a,He.getShapeProp(this,e,n,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(e,r),r},Ga.prototype.addToAnimatedContents=function(e,t){for(var a=0,n=this.animatedContents.length;a<n;){if(this.animatedContents[a].element===t)return;a+=1}this.animatedContents.push({fn:qa.createRenderFunction(e),element:t,data:e})},Ga.prototype.setElementStyles=function(e){var t,a=e.styles,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||a.push(this.stylesList[t])},Ga.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},Ga.prototype.searchShapes=function(e,t,a,n,r,i,l){var o,s,u,d,c,f,p=[].concat(i),h=e.length-1,m=[],g=[];for(o=h;o>=0;o-=1){if((f=this.searchProcessedElement(e[o]))?t[o]=a[f-1]:e[o]._render=l,"fl"===e[o].ty||"st"===e[o].ty||"gf"===e[o].ty||"gs"===e[o].ty||"no"===e[o].ty)f?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],r),e[o]._render&&t[o].style.pElem.parentNode!==n&&n.appendChild(t[o].style.pElem),m.push(t[o].style);else if("gr"===e[o].ty){if(f)for(u=t[o].it.length,s=0;s<u;s+=1)t[o].prevViewData[s]=t[o].it[s];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,t[o].gr,r+1,p,l),e[o]._render&&t[o].gr.parentNode!==n&&n.appendChild(t[o].gr)}else"tr"===e[o].ty?(f||(t[o]=this.createTransformElement(e[o],n)),d=t[o].transform,p.push(d)):"sh"===e[o].ty||"rc"===e[o].ty||"el"===e[o].ty||"sr"===e[o].ty?(f||(t[o]=this.createShapeElement(e[o],p,r)),this.setElementStyles(t[o])):"tm"===e[o].ty||"rd"===e[o].ty||"ms"===e[o].ty||"pb"===e[o].ty||"zz"===e[o].ty||"op"===e[o].ty?(f?(c=t[o]).closed=!1:((c=ut.getModifier(e[o].ty)).init(this,e[o]),t[o]=c,this.shapeModifiers.push(c)),g.push(c)):"rp"===e[o].ty&&(f?(c=t[o]).closed=!0:(c=ut.getModifier(e[o].ty),t[o]=c,c.init(this,e,o,t),this.shapeModifiers.push(c),l=!1),g.push(c));this.addProcessedElement(e[o],o+1)}for(h=m.length,o=0;o<h;o+=1)m[o].closed=!0;for(h=g.length,o=0;o<h;o+=1)g[o].closed=!0},Ga.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},Ga.prototype.renderShape=function(){var e,t,a=this.animatedContents.length;for(e=0;e<a;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},Ga.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},Ya.prototype.update=function(e,t,a,n,r,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var l=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,l=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,l=!0),this.sc!==a&&(this.sc=a,this._mdf.sc=!0,l=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,l=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,l=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,l=!0),l},Ka.prototype.defaultBoxWidth=[0,0],Ka.prototype.copyData=function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ka.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},Ka.prototype.searchProperty=function(){return this.searchKeyframes()},Ka.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},Ka.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},Ka.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,a=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var r=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(n=0;n<r;n+=1)i=a!==this.keysIndex?this.effectsSequence[n](i,i.t):this.effectsSequence[n](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},Ka.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,a=0,n=e.length;a<=n-1&&!(a===n-1||e[a+1].t>t);)a+=1;return this.keysIndex!==a&&(this.keysIndex=a),this.data.d.k[this.keysIndex].s},Ka.prototype.buildFinalText=function(e){for(var t,a,n=[],r=0,i=e.length,l=!1,o=!1,s="";r<i;)l=o,o=!1,t=e.charCodeAt(r),s=e.charAt(r),Xt.isCombinedCharacter(t)?l=!0:t>=55296&&t<=56319?Xt.isRegionalFlag(e,r)?s=e.substr(r,14):(a=e.charCodeAt(r+1))>=56320&&a<=57343&&(Xt.isModifier(t,a)?(s=e.substr(r,2),l=!0):s=Xt.isFlagEmoji(e.substr(r,4))?e.substr(r,4):e.substr(r,2)):t>56319?(a=e.charCodeAt(r+1),Xt.isVariationSelector(t)&&(l=!0)):Xt.isZeroWidthJoiner(t)&&(l=!0,o=!0),l?(n[n.length-1]+=s,l=!1):n.push(s),r+=s.length;return n},Ka.prototype.completeTextData=function(e){e.__complete=!0;var t,a,n,r,i,l,o,s=this.elem.globalData.fontManager,u=this.data,d=[],c=0,f=u.m.g,p=0,h=0,m=0,g=[],y=0,v=0,E=s.getFontByName(e.f),C=0,b=Kt(E);e.fWeight=b.weight,e.fStyle=b.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),a=e.finalText.length,e.finalLineHeight=e.lh;var _,w=e.tr/1e3*e.finalSize;if(e.sz)for(var S,k,M=!0,P=e.sz[0],T=e.sz[1];M;){S=0,y=0,a=(k=this.buildFinalText(e.t)).length,w=e.tr/1e3*e.finalSize;var O=-1;for(t=0;t<a;t+=1)_=k[t].charCodeAt(0),n=!1," "===k[t]?O=t:13!==_&&3!==_||(y=0,n=!0,S+=e.finalLineHeight||1.2*e.finalSize),s.chars?(o=s.getCharData(k[t],E.fStyle,E.fFamily),C=n?0:o.w*e.finalSize/100):C=s.measureText(k[t],e.f,e.finalSize),y+C>P&&" "!==k[t]?(-1===O?a+=1:t=O,S+=e.finalLineHeight||1.2*e.finalSize,k.splice(t,O===t?1:0,"\r"),O=-1,y=0):(y+=C,y+=w);S+=E.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&T<S?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=k,a=e.finalText.length,M=!1)}y=-w,C=0;var x,I=0;for(t=0;t<a;t+=1)if(n=!1,13===(_=(x=e.finalText[t]).charCodeAt(0))||3===_?(I=0,g.push(y),v=y>v?y:v,y=-2*w,r="",n=!0,m+=1):r=x,s.chars?(o=s.getCharData(x,E.fStyle,s.getFontByName(e.f).fFamily),C=n?0:o.w*e.finalSize/100):C=s.measureText(r,e.f,e.finalSize)," "===x?I+=C+w:(y+=C+w+I,I=0),d.push({l:C,an:C,add:p,n,anIndexes:[],val:r,line:m,animatorJustifyOffset:0}),2==f){if(p+=C,""===r||" "===r||t===a-1){for(""!==r&&" "!==r||(p-=C);h<=t;)d[h].an=p,d[h].ind=c,d[h].extra=C,h+=1;c+=1,p=0}}else if(3==f){if(p+=C,""===r||t===a-1){for(""===r&&(p-=C);h<=t;)d[h].an=p,d[h].ind=c,d[h].extra=C,h+=1;p=0,c+=1}}else d[c].ind=c,d[c].extra=0,c+=1;if(e.l=d,v=y>v?y:v,g.push(y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=v,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var L,D,R,A,N=u.a;l=N.length;var j=[];for(i=0;i<l;i+=1){for((L=N[i]).a.sc&&(e.strokeColorAnim=!0),L.a.sw&&(e.strokeWidthAnim=!0),(L.a.fc||L.a.fh||L.a.fs||L.a.fb)&&(e.fillColorAnim=!0),A=0,R=L.s.b,t=0;t<a;t+=1)(D=d[t]).anIndexes[i]=A,(1==R&&""!==D.val||2==R&&""!==D.val&&" "!==D.val||3==R&&(D.n||" "==D.val||t==a-1)||4==R&&(D.n||t==a-1))&&(1===L.s.rn&&j.push(A),A+=1);u.a[i].s.totalChars=A;var F,B=-1;if(1===L.s.rn)for(t=0;t<a;t+=1)B!=(D=d[t]).anIndexes[i]&&(B=D.anIndexes[i],F=j.splice(Math.floor(Math.random()*j.length),1)[0]),D.anIndexes[i]=F}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=E.ascent*e.finalSize/100},Ka.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var a=this.copyData({},this.data.d.k[t].s);a=this.copyData(a,e),this.data.d.k[t].s=a,this.recalculate(t),this.setCurrentData(a),this.elem.addDynamicProperty(this)},Ka.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},Ka.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},Ka.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var Xa=function(){var e=Math.max,t=Math.min,a=Math.floor;function n(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=Re.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?Re.getProp(e,t.e,0,0,this):{v:100},this.o=Re.getProp(e,t.o||{k:0},0,0,this),this.xe=Re.getProp(e,t.xe||{k:0},0,0,this),this.ne=Re.getProp(e,t.ne||{k:0},0,0,this),this.sm=Re.getProp(e,t.sm||{k:100},0,0,this),this.a=Re.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}function r(e,t,a){return new n(e,t,a)}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var r=0,i=0,l=1,o=1;this.ne.v>0?r=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?l=1-this.xe.v/100:o=1+this.xe.v/100;var s=pe.getBezierEasing(r,i,l,o).get,u=0,d=this.finalS,c=this.finalE,f=this.data.sh;if(2===f)u=s(u=c===d?n>=c?1:0:e(0,t(.5/(c-d)+(n-d)/(c-d),1)));else if(3===f)u=s(u=c===d?n>=c?0:1:1-e(0,t(.5/(c-d)+(n-d)/(c-d),1)));else if(4===f)c===d?u=0:(u=e(0,t(.5/(c-d)+(n-d)/(c-d),1)))<.5?u*=2:u=1-2*(u-.5),u=s(u);else if(5===f){if(c===d)u=0;else{var p=c-d,h=-p/2+(n=t(e(0,n+.5-d),c-d)),m=p/2;u=Math.sqrt(1-h*h/(m*m))}u=s(u)}else 6===f?(c===d?u=0:(n=t(e(0,n+.5-d),c-d),u=(1+Math.cos(Math.PI+2*Math.PI*n/(c-d)))/2),u=s(u)):(n>=a(d)&&(u=e(0,t(n-d<0?t(c,1)-(d-n):c-n,1))),u=s(u));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;u<y?u=0:(u=(u-y)/g)>1&&(u=1)}return u*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,a=this.o.v/t,n=this.s.v/t+a,r=this.e.v/t+a;if(n>r){var i=n;n=r,r=i}this.finalS=n,this.finalE=r}},c([Ae],n),{getTextSelectorProp:r}}();function Za(e,t,a){var n={propType:!1},r=Re.getProp,i=t.a;this.a={r:i.r?r(e,i.r,0,T,a):n,rx:i.rx?r(e,i.rx,0,T,a):n,ry:i.ry?r(e,i.ry,0,T,a):n,sk:i.sk?r(e,i.sk,0,T,a):n,sa:i.sa?r(e,i.sa,0,T,a):n,s:i.s?r(e,i.s,1,.01,a):n,a:i.a?r(e,i.a,1,0,a):n,o:i.o?r(e,i.o,0,.01,a):n,p:i.p?r(e,i.p,1,0,a):n,sw:i.sw?r(e,i.sw,0,0,a):n,sc:i.sc?r(e,i.sc,1,0,a):n,fc:i.fc?r(e,i.fc,1,0,a):n,fh:i.fh?r(e,i.fh,0,0,a):n,fs:i.fs?r(e,i.fs,0,.01,a):n,fb:i.fb?r(e,i.fb,0,.01,a):n,t:i.t?r(e,i.t,0,0,a):n},this.s=Xa.getTextSelectorProp(e,t.s,a),this.s.t=t.s.t}function Qa(e,t,a){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=a,this._animatorsData=m(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(a)}function Ja(){}Qa.prototype.searchProperties=function(){var e,t,a=this._textData.a.length,n=Re.getProp;for(e=0;e<a;e+=1)t=this._textData.a[e],this._animatorsData[e]=new Za(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},Qa.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var a,n,r,i,l,o,s,u,d,c,f,p,h,m,g,y,v,E,C,b=this._moreOptions.alignment.v,_=this._animatorsData,w=this._textData,S=this.mHelper,k=this._renderType,M=this.renderedLetters.length,P=e.l;if(this._hasMaskedPath){if(C=this._pathData.m,!this._pathData.n||this._pathData._mdf){var T,O=C.v;for(this._pathData.r.v&&(O=O.reverse()),l={tLength:0,segments:[]},i=O._length-1,y=0,r=0;r<i;r+=1)T=Ee.buildBezierData(O.v[r],O.v[r+1],[O.o[r][0]-O.v[r][0],O.o[r][1]-O.v[r][1]],[O.i[r+1][0]-O.v[r+1][0],O.i[r+1][1]-O.v[r+1][1]]),l.tLength+=T.segmentLength,l.segments.push(T),y+=T.segmentLength;r=i,C.v.c&&(T=Ee.buildBezierData(O.v[r],O.v[0],[O.o[r][0]-O.v[r][0],O.o[r][1]-O.v[r][1]],[O.i[0][0]-O.v[0][0],O.i[0][1]-O.v[0][1]]),l.tLength+=T.segmentLength,l.segments.push(T),y+=T.segmentLength),this._pathData.pi=l}if(l=this._pathData.pi,o=this._pathData.f.v,f=0,c=1,u=0,d=!0,m=l.segments,o<0&&C.v.c)for(l.tLength<Math.abs(o)&&(o=-Math.abs(o)%l.tLength),c=(h=m[f=m.length-1].points).length-1;o<0;)o+=h[c].partialLength,(c-=1)<0&&(c=(h=m[f-=1].points).length-1);p=(h=m[f].points)[c-1],g=(s=h[c]).partialLength}i=P.length,a=0,n=0;var x,I,L,D,R,A=1.2*e.finalSize*.714,N=!0;L=_.length;var j,F,B,W,H,q,G,Y,K,X,Z,Q,J=-1,$=o,ee=f,te=c,ae=-1,ne="",re=this.defaultPropsArray;if(2===e.j||1===e.j){var ie=0,le=0,oe=2===e.j?-.5:-1,se=0,ue=!0;for(r=0;r<i;r+=1)if(P[r].n){for(ie&&(ie+=le);se<r;)P[se].animatorJustifyOffset=ie,se+=1;ie=0,ue=!0}else{for(I=0;I<L;I+=1)(x=_[I].a).t.propType&&(ue&&2===e.j&&(le+=x.t.v*oe),(R=_[I].s.getMult(P[r].anIndexes[I],w.a[I].s.totalChars)).length?ie+=x.t.v*R[0]*oe:ie+=x.t.v*R*oe);ue=!1}for(ie&&(ie+=le);se<r;)P[se].animatorJustifyOffset=ie,se+=1}for(r=0;r<i;r+=1){if(S.reset(),W=1,P[r].n)a=0,n+=e.yOffset,n+=N?1:0,o=$,N=!1,this._hasMaskedPath&&(c=te,p=(h=m[f=ee].points)[c-1],g=(s=h[c]).partialLength,u=0),ne="",Z="",K="",Q="",re=this.defaultPropsArray;else{if(this._hasMaskedPath){if(ae!==P[r].line){switch(e.j){case 1:o+=y-e.lineWidths[P[r].line];break;case 2:o+=(y-e.lineWidths[P[r].line])/2}ae=P[r].line}J!==P[r].ind&&(P[J]&&(o+=P[J].extra),o+=P[r].an/2,J=P[r].ind),o+=b[0]*P[r].an*.005;var de=0;for(I=0;I<L;I+=1)(x=_[I].a).p.propType&&((R=_[I].s.getMult(P[r].anIndexes[I],w.a[I].s.totalChars)).length?de+=x.p.v[0]*R[0]:de+=x.p.v[0]*R),x.a.propType&&((R=_[I].s.getMult(P[r].anIndexes[I],w.a[I].s.totalChars)).length?de+=x.a.v[0]*R[0]:de+=x.a.v[0]*R);for(d=!0,this._pathData.a.v&&(o=.5*P[0].an+(y-this._pathData.f.v-.5*P[0].an-.5*P[P.length-1].an)*J/(i-1),o+=this._pathData.f.v);d;)u+g>=o+de||!h?(v=(o+de-u)/s.partialLength,F=p.point[0]+(s.point[0]-p.point[0])*v,B=p.point[1]+(s.point[1]-p.point[1])*v,S.translate(-b[0]*P[r].an*.005,-b[1]*A*.01),d=!1):h&&(u+=s.partialLength,(c+=1)>=h.length&&(c=0,m[f+=1]?h=m[f].points:C.v.c?(c=0,h=m[f=0].points):(u-=s.partialLength,h=null)),h&&(p=s,g=(s=h[c]).partialLength));j=P[r].an/2-P[r].add,S.translate(-j,0,0)}else j=P[r].an/2-P[r].add,S.translate(-j,0,0),S.translate(-b[0]*P[r].an*.005,-b[1]*A*.01,0);for(I=0;I<L;I+=1)(x=_[I].a).t.propType&&(R=_[I].s.getMult(P[r].anIndexes[I],w.a[I].s.totalChars),0===a&&0===e.j||(this._hasMaskedPath?R.length?o+=x.t.v*R[0]:o+=x.t.v*R:R.length?a+=x.t.v*R[0]:a+=x.t.v*R));for(e.strokeWidthAnim&&(q=e.sw||0),e.strokeColorAnim&&(H=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(G=[e.fc[0],e.fc[1],e.fc[2]]),I=0;I<L;I+=1)(x=_[I].a).a.propType&&((R=_[I].s.getMult(P[r].anIndexes[I],w.a[I].s.totalChars)).length?S.translate(-x.a.v[0]*R[0],-x.a.v[1]*R[1],x.a.v[2]*R[2]):S.translate(-x.a.v[0]*R,-x.a.v[1]*R,x.a.v[2]*R));for(I=0;I<L;I+=1)(x=_[I].a).s.propType&&((R=_[I].s.getMult(P[r].anIndexes[I],w.a[I].s.totalChars)).length?S.scale(1+(x.s.v[0]-1)*R[0],1+(x.s.v[1]-1)*R[1],1):S.scale(1+(x.s.v[0]-1)*R,1+(x.s.v[1]-1)*R,1));for(I=0;I<L;I+=1){if(x=_[I].a,R=_[I].s.getMult(P[r].anIndexes[I],w.a[I].s.totalChars),x.sk.propType&&(R.length?S.skewFromAxis(-x.sk.v*R[0],x.sa.v*R[1]):S.skewFromAxis(-x.sk.v*R,x.sa.v*R)),x.r.propType&&(R.length?S.rotateZ(-x.r.v*R[2]):S.rotateZ(-x.r.v*R)),x.ry.propType&&(R.length?S.rotateY(x.ry.v*R[1]):S.rotateY(x.ry.v*R)),x.rx.propType&&(R.length?S.rotateX(x.rx.v*R[0]):S.rotateX(x.rx.v*R)),x.o.propType&&(R.length?W+=(x.o.v*R[0]-W)*R[0]:W+=(x.o.v*R-W)*R),e.strokeWidthAnim&&x.sw.propType&&(R.length?q+=x.sw.v*R[0]:q+=x.sw.v*R),e.strokeColorAnim&&x.sc.propType)for(Y=0;Y<3;Y+=1)R.length?H[Y]+=(x.sc.v[Y]-H[Y])*R[0]:H[Y]+=(x.sc.v[Y]-H[Y])*R;if(e.fillColorAnim&&e.fc){if(x.fc.propType)for(Y=0;Y<3;Y+=1)R.length?G[Y]+=(x.fc.v[Y]-G[Y])*R[0]:G[Y]+=(x.fc.v[Y]-G[Y])*R;x.fh.propType&&(G=R.length?V(G,x.fh.v*R[0]):V(G,x.fh.v*R)),x.fs.propType&&(G=R.length?z(G,x.fs.v*R[0]):z(G,x.fs.v*R)),x.fb.propType&&(G=R.length?U(G,x.fb.v*R[0]):U(G,x.fb.v*R))}}for(I=0;I<L;I+=1)(x=_[I].a).p.propType&&(R=_[I].s.getMult(P[r].anIndexes[I],w.a[I].s.totalChars),this._hasMaskedPath?R.length?S.translate(0,x.p.v[1]*R[0],-x.p.v[2]*R[1]):S.translate(0,x.p.v[1]*R,-x.p.v[2]*R):R.length?S.translate(x.p.v[0]*R[0],x.p.v[1]*R[1],-x.p.v[2]*R[2]):S.translate(x.p.v[0]*R,x.p.v[1]*R,-x.p.v[2]*R));if(e.strokeWidthAnim&&(K=q<0?0:q),e.strokeColorAnim&&(X="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),e.fillColorAnim&&e.fc&&(Z="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(S.translate(0,-e.ls),S.translate(0,b[1]*A*.01+n,0),this._pathData.p.v){E=(s.point[1]-p.point[1])/(s.point[0]-p.point[0]);var ce=180*Math.atan(E)/Math.PI;s.point[0]<p.point[0]&&(ce+=180),S.rotate(-ce*Math.PI/180)}S.translate(F,B,0),o-=b[0]*P[r].an*.005,P[r+1]&&J!==P[r+1].ind&&(o+=P[r].an/2,o+=.001*e.tr*e.finalSize)}else{switch(S.translate(a,n,0),e.ps&&S.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:S.translate(P[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[P[r].line]),0,0);break;case 2:S.translate(P[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[P[r].line])/2,0,0)}S.translate(0,-e.ls),S.translate(j,0,0),S.translate(b[0]*P[r].an*.005,b[1]*A*.01,0),a+=P[r].l+.001*e.tr*e.finalSize}"html"===k?ne=S.toCSS():"svg"===k?ne=S.to2dCSS():re=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],Q=W}M<=r?(D=new Ya(Q,K,X,Z,ne,re),this.renderedLetters.push(D),M+=1,this.lettersChangedFlag=!0):(D=this.renderedLetters[r],this.lettersChangedFlag=D.update(Q,K,X,Z,ne,re)||this.lettersChangedFlag)}}},Qa.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},Qa.prototype.mHelper=new ze,Qa.prototype.defaultPropsArray=[],c([Ae],Qa),Ja.prototype.initElement=function(e,t,a){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,a),this.textProperty=new Ka(this,e.t,this.dynamicProperties),this.textAnimator=new Qa(e.t,this.renderType,this),this.initTransform(e,t,a),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},Ja.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},Ja.prototype.createPathShape=function(e,t){var a,n,r=t.length,i="";for(a=0;a<r;a+=1)"sh"===t[a].ty&&(n=t[a].ks.k,i+=Va(n,n.i.length,!0,e));return i},Ja.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},Ja.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},Ja.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},Ja.prototype.applyTextPropertiesToMatrix=function(e,t,a,n,r){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[a]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[a])/2,0,0)}t.translate(n,r,0)},Ja.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},Ja.prototype.emptyProp=new Ya,Ja.prototype.destroy=function(){},Ja.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var $a={shapes:[]};function en(e,t,a){this.textSpans=[],this.renderType="svg",this.initElement(e,t,a)}function tn(e,t,a){this.initElement(e,t,a)}function an(e,t,a){this.initFrame(),this.initBaseData(e,t,a),this.initFrame(),this.initTransform(e,t,a),this.initHierarchy()}function nn(){}function rn(){}function ln(e,t,a){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?m(this.layers.length):[],this.initElement(e,t,a),this.tm=e.tm?Re.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function on(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=$("svg");var a="";if(t&&t.title){var n=$("title"),r=B();n.setAttribute("id",r),n.textContent=t.title,this.svgElement.appendChild(n),a+=r}if(t&&t.description){var i=$("desc"),l=B();i.setAttribute("id",l),i.textContent=t.description,this.svgElement.appendChild(i),a+=" "+l}a&&this.svgElement.setAttribute("aria-labelledby",a);var o=$("defs");this.svgElement.appendChild(o);var s=$("g");this.svgElement.appendChild(s),this.layerElement=s,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}return c([ca,ya,ka,Ma,fa,Pa,Ja],en),en.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=$("text"))},en.prototype.buildTextContents=function(e){for(var t=0,a=e.length,n=[],r="";t<a;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(r),r=""):r+=e[t],t+=1;return n.push(r),n},en.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var a=e.shapes[0];if(a.it){var n=a.it[a.it.length-1];n.s&&(n.s.k[0]=t,n.s.k[1]=t)}}return e},en.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var a=this.textProperty.currentData;this.renderedLetters=m(a?a.l.length:0),a.fc?this.layerElement.setAttribute("fill",this.buildColor(a.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),a.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(a.sc)),this.layerElement.setAttribute("stroke-width",a.sw)),this.layerElement.setAttribute("font-size",a.finalSize);var n=this.globalData.fontManager.getFontByName(a.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var r=a.fWeight,i=a.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",a.t);var l,o=a.l||[],s=!!this.globalData.fontManager.chars;t=o.length;var u=this.mHelper,d="",c=this.data.singleShape,f=0,p=0,h=!0,g=.001*a.tr*a.finalSize;if(!c||s||a.sz){var y,v=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!s||!c||0===e){if(l=v>e?this.textSpans[e].span:$(s?"g":"text"),v<=e){if(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=l,s){var E=$("g");l.appendChild(E),this.textSpans[e].childSpan=E}this.textSpans[e].span=l,this.layerElement.appendChild(l)}l.style.display="inherit"}if(u.reset(),c&&(o[e].n&&(f=-g,p+=a.yOffset,p+=h?1:0,h=!1),this.applyTextPropertiesToMatrix(a,u,o[e].line,f,p),f+=o[e].l||0,f+=g),s){var C;if(1===(y=this.globalData.fontManager.getCharData(a.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily)).t)C=new ln(y.data,this.globalData,this);else{var b=$a;y.data&&y.data.shapes&&(b=this.buildShapeData(y.data,a.finalSize)),C=new Ga(b,this.globalData,this)}if(this.textSpans[e].glyph){var _=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(_.layerElement),_.destroy()}this.textSpans[e].glyph=C,C._debug=!0,C.prepareFrame(0),C.renderFrame(),this.textSpans[e].childSpan.appendChild(C.layerElement),1===y.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+a.finalSize/100+","+a.finalSize/100+")")}else c&&l.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),l.textContent=o[e].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}c&&l&&l.setAttribute("d",d)}else{var w=this.textContainer,S="start";switch(a.j){case 1:S="end";break;case 2:S="middle";break;default:S="start"}w.setAttribute("text-anchor",S),w.setAttribute("letter-spacing",g);var k=this.buildTextContents(a.finalText);for(t=k.length,p=a.ps?a.ps[1]+a.ascent:0,e=0;e<t;e+=1)(l=this.textSpans[e].span||$("tspan")).textContent=k[e],l.setAttribute("x",0),l.setAttribute("y",p),l.style.display="inherit",w.appendChild(l),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=l,p+=a.finalLineHeight;this.layerElement.appendChild(w)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},en.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},en.prototype.getValue=function(){var e,t,a=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<a;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},en.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var a,n,r,i=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;for(t=l.length,e=0;e<t;e+=1)l[e].n||(a=i[e],n=this.textSpans[e].span,(r=this.textSpans[e].glyph)&&r.renderFrame(),a._mdf.m&&n.setAttribute("transform",a.m),a._mdf.o&&n.setAttribute("opacity",a.o),a._mdf.sw&&n.setAttribute("stroke-width",a.sw),a._mdf.sc&&n.setAttribute("stroke",a.sc),a._mdf.fc&&n.setAttribute("fill",a.fc))}},c([Ta],tn),tn.prototype.createContent=function(){var e=$("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},an.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},an.prototype.renderFrame=function(){},an.prototype.getBaseElement=function(){return null},an.prototype.destroy=function(){},an.prototype.sourceRectAtTime=function(){},an.prototype.hide=function(){},c([ca,ya,Ma,fa],an),c([ma],nn),nn.prototype.createNull=function(e){return new an(e,this.globalData,this)},nn.prototype.createShape=function(e){return new Ga(e,this.globalData,this)},nn.prototype.createText=function(e){return new en(e,this.globalData,this)},nn.prototype.createImage=function(e){return new Ta(e,this.globalData,this)},nn.prototype.createSolid=function(e){return new tn(e,this.globalData,this)},nn.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var a=$("clipPath"),n=$("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var r=B();a.setAttribute("id",r),a.appendChild(n),this.layerElement.setAttribute("clip-path","url("+u()+"#"+r+")"),t.appendChild(a),this.layers=e.layers,this.elements=m(e.layers.length)},nn.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},nn.prototype.updateContainerSize=function(){},nn.prototype.findIndexByInd=function(e){var t=0,a=this.layers.length;for(t=0;t<a;t+=1)if(this.layers[t].ind===e)return t;return-1},nn.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var a=this.createItem(this.layers[e]);if(t[e]=a,K()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(a),a.initExpressions()),this.appendElementInPos(a,e),this.layers[e].tt){var n="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var r=t[n].getMatte(this.layers[e].tt);a.setMatte(r)}else this.buildItem(n),this.addPendingElement(a)}}},nn.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,a=this.elements.length;t<a;){if(this.elements[t]===e){var n="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,r=this.elements[n].getMatte(this.layers[t].tt);e.setMatte(r);break}t+=1}}},nn.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var a=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=a-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<a;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},nn.prototype.appendElementInPos=function(e,t){var a=e.getBaseElement();if(a){for(var n,r=0;r<t;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(a,n):this.layerElement.appendChild(a)}},nn.prototype.hide=function(){this.layerElement.style.display="none"},nn.prototype.show=function(){this.layerElement.style.display="block"},c([ca,ya,Ma,fa,Pa],rn),rn.prototype.initElement=function(e,t,a){this.initFrame(),this.initBaseData(e,t,a),this.initTransform(e,t,a),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},rn.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var a,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),a=n-1;a>=0;a-=1)(this.completeLayers||this.elements[a])&&(this.elements[a].prepareFrame(this.renderedFrame-this.layers[a].st),this.elements[a]._mdf&&(this._mdf=!0))}},rn.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},rn.prototype.setElements=function(e){this.elements=e},rn.prototype.getElements=function(){return this.elements},rn.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},rn.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},c([nn,rn,ka],ln),ln.prototype.createComp=function(e){return new ln(e,this.globalData,this)},c([nn],on),on.prototype.createComp=function(e){return new ln(e,this.globalData,this)},oe("svg",on),ut.registerModifier("tm",ct),ut.registerModifier("pb",ft),ut.registerModifier("rp",ht),ut.registerModifier("rd",mt),ut.registerModifier("zz",Rt),ut.registerModifier("op",Yt),Ve}())},623959:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FingerprintDataSpec=t.CombinedFingerprintSpec=void 0;var n=a(751206);const r={};t.FingerprintDataSpec=r;const i={};t.CombinedFingerprintSpec=i,r.internalSpec={publicKey:[1,n.TYPES.BYTES],pnIdentifier:[2,n.TYPES.BYTES],lidIdentifier:[3,n.TYPES.BYTES],usernameIdentifier:[4,n.TYPES.BYTES]},i.internalSpec={version:[1,n.TYPES.UINT32],localFingerprint:[2,n.TYPES.MESSAGE,r],remoteFingerprint:[3,n.TYPES.MESSAGE,r]}},173734:(e,t,a)=>{"use strict";var n=a(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.sendContactFormRPC=function(){return f.apply(this,arguments)};var r=n(a(311504)),i=a(250281),l=a(460415),o=a(412498),s=a(332656),u=a(649262),d=a(590062),c=a(216342);function f(){return(f=(0,r.default)((function*(e,t){const a=(0,u.makeContactFormRequest)(e),n=yield(0,i.sendSmaxStanza)(a,t),r=(0,s.parseContactFormResponseSuccess)(n,a);if(r.success)return{name:"ContactFormResponseSuccess",value:r.value};const f=(0,o.parseContactFormResponseRetryableError)(n,a);if(f.success)return{name:"ContactFormResponseRetryableError",value:f.value};const p=(0,l.parseContactFormResponseError)(n,a);if(p.success)return{name:"ContactFormResponseError",value:p.value};throw new d.SmaxParsingFailure((0,c.errorMessageRpcParsing)("ContactForm",{Success:r,RetryableError:f,Error:p}))}))).apply(this,arguments)}},460415:(e,t,a)=>{"use strict";var n=a(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseError=function(e,t){const a=(0,s.assertTag)(e,"iq");if(!a.success)return a;const n=(0,s.flattenedChildWithTag)(e,"error");if(!n.success)return n;const u=(0,l.parseHackBaseIQErrorResponseMixin)(e,t);if(!u.success)return u;const d=(0,o.parseIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup)(n.value);if(!d.success)return d;return(0,i.makeResult)((0,r.default)((0,r.default)({},u.value),{},{errorIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup:d.value}))};var r=n(a(73982)),i=a(135781),l=a(245671),o=a(129066),s=a(686310)},412498:(e,t,a)=>{"use strict";var n=a(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseRetryableError=function(e,t){const a=(0,o.assertTag)(e,"iq");if(!a.success)return a;const n=(0,o.flattenedChildWithTag)(e,"response");if(!n.success)return n;const s=(0,o.attrInt)(n.value,"error_code");if(!s.success)return s;const u=(0,o.optional)(o.attrString,n.value,"next_retry_ts");if(!u.success)return u;const d=(0,l.parseHackBaseIQResultResponseMixin)(e,t);if(!d.success)return d;return(0,i.makeResult)((0,r.default)({responseErrorCode:s.value,responseNextRetryTs:u.value},d.value))};var r=n(a(73982)),i=a(135781),l=a(290095),o=a(686310)},332656:(e,t,a)=>{"use strict";var n=a(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseSuccess=function(e,t){const a=(0,o.assertTag)(e,"iq");if(!a.success)return a;const n=(0,o.flattenedChildWithTag)(e,"response");if(!n.success)return n;const s=(0,o.flattenedChildWithTag)(n.value,"message");if(!s.success)return s;const u=(0,o.flattenedChildWithTag)(n.value,"ticket_id");if(!u.success)return u;const d=(0,o.flattenedChildWithTag)(n.value,"group_jid");if(!d.success)return d;const c=(0,o.literal)(o.attrString,n.value,"status","ok");if(!c.success)return c;const f=(0,o.contentString)(s.value);if(!f.success)return f;const p=(0,o.contentString)(u.value);if(!p.success)return p;const h=(0,o.contentString)(d.value);if(!h.success)return h;const m=(0,l.parseHackBaseIQResultResponseMixin)(e,t);if(!m.success)return m;return(0,i.makeResult)((0,r.default)({responseStatus:c.value,responseMessageElementValue:f.value,responseTicketIdElementValue:p.value,responseGroupJidElementValue:h.value},m.value))};var r=n(a(73982)),i=a(135781),l=a(290095),o=a(686310)},245671:(e,t,a)=>{"use strict";var n=a(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseHackBaseIQErrorResponseMixin=function(e,t){const a=(0,s.assertTag)(e,"iq");if(!a.success)return a;const n=(0,s.optional)(o.attrUserJid,e,"to");if(!n.success)return n;const u=(0,l.parseIQErrorResponseMixin)(e,t);if(!u.success)return u;return(0,i.makeResult)((0,r.default)({to:n.value},u.value))};var r=n(a(73982)),i=a(135781),l=a(650628),o=a(568113),s=a(686310)},290095:(e,t,a)=>{"use strict";var n=a(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseHackBaseIQResultResponseMixin=function(e,t){const a=(0,s.assertTag)(e,"iq");if(!a.success)return a;const n=(0,s.optional)(o.attrUserJid,e,"to");if(!n.success)return n;const u=(0,l.parseIQResultResponseMixin)(e,t);if(!u.success)return u;return(0,i.makeResult)((0,r.default)({to:n.value},u.value))};var r=n(a(73982)),i=a(135781),l=a(404257),o=a(568113),s=a(686310)},915576:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestMixin=function(e){const t=(0,r.assertTag)(e,"error");if(!t.success)return t;const a=(0,r.literal)(r.attrString,e,"text","bad-request");if(!a.success)return a;const i=(0,r.literal)(r.attrInt,e,"code",400);if(!i.success)return i;return(0,n.makeResult)({text:a.value,code:i.value})};var n=a(135781),r=a(686310)},129066:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup=function(e){const t=(0,r.parseIQErrorBadRequestMixin)(e);if(t.success)return(0,n.makeResult)({name:"IQErrorBadRequest",value:t.value});const a=(0,l.parseIQErrorNoticeRequiredMixin)(e);if(a.success)return(0,n.makeResult)({name:"IQErrorNoticeRequired",value:a.value});const s=(0,i.parseIQErrorInternalServerErrorMixin)(e);if(s.success)return(0,n.makeResult)({name:"IQErrorInternalServerError",value:s.value});return(0,o.errorMixinDisjunction)(e,["IQErrorBadRequest","IQErrorNoticeRequired","IQErrorInternalServerError"],[t,a,s])};var n=a(135781),r=a(915576),i=a(119446),l=a(680258),o=a(686310)},119446:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorInternalServerErrorMixin=function(e){const t=(0,r.assertTag)(e,"error");if(!t.success)return t;const a=(0,r.literal)(r.attrString,e,"text","internal-server-error");if(!a.success)return a;const i=(0,r.literal)(r.attrInt,e,"code",500);if(!i.success)return i;return(0,n.makeResult)({text:a.value,code:i.value})};var n=a(135781),r=a(686310)},680258:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorNoticeRequiredMixin=function(e){const t=(0,r.assertTag)(e,"error");if(!t.success)return t;const a=(0,r.literal)(r.attrString,e,"text","notice-required");if(!a.success)return a;const i=(0,r.literal)(r.attrInt,e,"code",475);if(!i.success)return i;const l=(0,r.attrIntRange)(e,"tos_version",1,65535);if(!l.success)return l;return(0,n.makeResult)({text:a.value,code:i.value,tosVersion:l.value})};var n=a(135781),r=a(686310)},650628:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorResponseMixin=function(e,t){const a=(0,i.assertTag)(e,"iq");if(!a.success)return a;const l=(0,r.attrStringFromReference)(t,["id"]);if(!l.success)return l;const o=(0,i.literal)(i.attrString,e,"id",l.value);if(!o.success)return o;const s=(0,r.attrStringFromReference)(t,["to"]);if(!s.success)return s;const u=(0,i.literal)(i.attrString,e,"from",s.value);if(!u.success)return u;const d=(0,i.literal)(i.attrString,e,"type","error");if(!d.success)return d;return(0,n.makeResult)({type:d.value})};var n=a(135781),r=a(591439),i=a(686310)},404257:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQResultResponseMixin=function(e,t){const a=(0,i.assertTag)(e,"iq");if(!a.success)return a;const l=(0,r.attrStringFromReference)(t,["id"]);if(!l.success)return l;const o=(0,i.literal)(i.attrString,e,"id",l.value);if(!o.success)return o;const s=(0,r.attrStringFromReference)(t,["to"]);if(!s.success)return s;const u=(0,i.literal)(i.attrString,e,"from",s.value);if(!u.success)return u;const d=(0,i.literal)(i.attrString,e,"type","result");if(!d.success)return d;return(0,n.makeResult)({type:d.value})};var n=a(135781),r=a(591439),i=a(686310)},111919:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeBaseIQSetRequestMixin=function(e){const t=(0,n.smax)("iq",{id:(0,i.generateId)(),type:"set"});return(0,r.mergeStanzas)(e,t)};var n=a(758616),r=a(770006),i=a(716358)},649262:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeContactFormRequest=function(e){const{topicArgs:t,topicIdArgs:a,debugInformationJsonArgs:n,uploadedLogsIdArgs:p,additionalAttributesArgs:h,descriptionElementValue:m}=e;return(0,l.mergeHackBaseIQSetRequestMixin)((0,i.smax)("iq",{xmlns:"fb:thrift_iq",smax_id:(0,o.INT)(3)},(0,i.smax)("description",null,m),(0,r.OPTIONAL_CHILD)(s,t),(0,r.OPTIONAL_CHILD)(u,a),(0,r.OPTIONAL_CHILD)(d,n),(0,r.OPTIONAL_CHILD)(c,p),(0,r.OPTIONAL_CHILD)(f,h)),e)},t.makeContactFormRequestAdditionalAttributes=f,t.makeContactFormRequestDebugInformationJson=d,t.makeContactFormRequestTopic=s,t.makeContactFormRequestTopicId=u,t.makeContactFormRequestUploadedLogsId=c;var n=a(93864),r=a(974339),i=a(758616),l=a(87868),o=a(716358);function s(e){const{topicElementValue:t}=e;return(0,i.smax)("topic",null,t)}function u(e){const{topicIdElementValue:t}=e;return(0,i.smax)("topic_id",null,t)}function d(e){const{debugInformationJsonElementValue:t}=e;return(0,i.smax)("debug_information_json",null,t)}function c(e){const{uploadedLogsIdElementValue:t}=e;return(0,i.smax)("uploaded_logs_id",null,t)}function f(e){const{additionalAttributesContextFlow:t}=e;return(0,i.smax)("additional_attributes",{context_flow:(0,n.OPTIONAL)(o.CUSTOM_STRING,t)})}},87868:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeHackBaseIQSetRequestMixin=function(e,t){const a=function(e){const{iqFrom:t}=e;return(0,l.mergeBaseIQSetRequestMixin)((0,r.smax)("iq",{from:(0,n.OPTIONAL)(o.USER_JID,t),to:o.S_WHATSAPP_NET}))}(t);return(0,i.mergeStanzas)(e,a)};var n=a(93864),r=a(758616),i=a(770006),l=a(111919),o=a(716358)},798324:(e,t,a)=>{"use strict";var n=a(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.FingerprintValidationResult=void 0,t.validateFingerprint=function(e,t,a){const n=(0,o.decodeProtobuf)(i.CombinedFingerprintSpec,e),d=(0,o.decodeProtobuf)(i.CombinedFingerprintSpec,t);if(!n||null==n.version)return s.MALFORMED_CODE;if(n.version<0)return s.UNEXPECTED_VERSION_OLD;if(n.version>0)return s.UNEXPECTED_VERSION_NEW;const c=(0,l.default)(d.localFingerprint,"myFingerprint.localFingerprint"),f=c.pnIdentifier,p=c.lidIdentifier,h=(0,l.default)(d.remoteFingerprint,"myFingerprint.remoteFingerprint"),m=h.pnIdentifier,g=h.lidIdentifier,y=n.localFingerprint,v=n.remoteFingerprint;if(!y||!v)return s.MALFORMED_CODE;const E=u(y.pnIdentifier,f),C=u(y.lidIdentifier,p),b=u(v.pnIdentifier,f),_=u(v.lidIdentifier,p);let w,S,k=!1;if(E||C){k=!0,w=y;const e=u(v.pnIdentifier,m),t=u(v.lidIdentifier,g);if(!e&&!t)return s.REMOTE_WRONG_CHAT_PEER;S=v}else{if(!b&&!_)return s.LOCAL_WRONG_CHAT;{w=v;const e=u(y.pnIdentifier,m),t=u(y.lidIdentifier,g);if(!e&&!t)return s.REMOTE_WRONG_CHAT;S=y}}if(!u(w.publicKey,c.publicKey))return s.LOCAL_KEYS_MISMATCH;if(!u(S.publicKey,h.publicKey))return s.REMOTE_KEYS_MISMATCH;const M=u(w.pnIdentifier,c.pnIdentifier);if(w.pnIdentifier&&!M)return k?s.LOCAL_PN_MISMATCH_PEER:s.LOCAL_PN_MISMATCH;if(h.pnIdentifier){if(!S.pnIdentifier)return k?s.REMOTE_PN_MISSING_PEER:s.REMOTE_PN_MISSING;if(!(0,r.arrayBuffersEqual)(S.pnIdentifier,h.pnIdentifier))return k?s.REMOTE_PN_MISMATCH_PEER:s.REMOTE_PN_MISMATCH}else if(S.pnIdentifier)return s.REMOTE_PN_MISSING;if(a){if(null!=c.usernameIdentifier){if(null==w.usernameIdentifier)return k?s.LOCAL_USERNAME_MISSING_PEER:s.LOCAL_USERNAME_MISSING;if(!(0,r.arrayBuffersEqual)(w.usernameIdentifier,c.usernameIdentifier))return k?s.LOCAL_USERNAME_MISMATCH_PEER:s.LOCAL_USERNAME_MISMATCH}else if(null!=w.usernameIdentifier)return s.LOCAL_USERNAME_MISSING;if(null!=h.usernameIdentifier){if(null==S.usernameIdentifier)return k?s.REMOTE_USERNAME_MISSING_PEER:s.REMOTE_USERNAME_MISSING;if(!(0,r.arrayBuffersEqual)(S.usernameIdentifier,h.usernameIdentifier))return k?s.REMOTE_USERNAME_MISMATCH_PEER:s.REMOTE_USERNAME_MISMATCH}else if(null!=S.usernameIdentifier)return s.REMOTE_USERNAME_MISSING}return s.SUCCESS};var r=a(31549),i=a(623959),l=n(a(670983)),o=a(394629);const s=a(654302).Mirrored(["SUCCESS","MALFORMED_CODE","UNEXPECTED_VERSION_OLD","UNEXPECTED_VERSION_NEW","REMOTE_WRONG_CHAT_PEER","REMOTE_WRONG_CHAT","LOCAL_WRONG_CHAT","LOCAL_KEYS_MISMATCH","REMOTE_KEYS_MISMATCH","LOCAL_PN_MISMATCH_PEER","LOCAL_PN_MISMATCH","REMOTE_PN_MISMATCH_PEER","REMOTE_PN_MISMATCH","REMOTE_PN_MISSING_PEER","REMOTE_PN_MISSING","LOCAL_USERNAME_MISMATCH_PEER","LOCAL_USERNAME_MISMATCH","LOCAL_USERNAME_MISSING_PEER","LOCAL_USERNAME_MISSING","REMOTE_USERNAME_MISMATCH_PEER","REMOTE_USERNAME_MISMATCH","REMOTE_USERNAME_MISSING_PEER","REMOTE_USERNAME_MISSING"]);t.FingerprintValidationResult=s;function u(e,t){return!(!e||!t)&&(0,r.arrayBuffersEqual)(e,t)}},293760:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findArrayDiff=void 0;const a=function(e,t){return function(e,t,a){let n=t.length,r=a.length;const i={sequence:[],indices1:[],indices2:[]};for(;0!==n&&0!==r;)t[n-1]===a[r-1]?(i.sequence.unshift(t[n-1]),i.indices1.unshift(n-1),i.indices2.unshift(r-1),--n,--r):e[n][r-1]>e[n-1][r]?--r:--n;return i}(function(e,t){const a=e.length,n=t.length,r=Array(a+1).fill().map((()=>Array(n+1).fill(0)));for(let i=1;i<a+1;i++)for(let a=1;a<n+1;a++)e[i-1]===t[a-1]?r[i][a]=r[i-1][a-1]+1:r[i][a]=Math.max(r[i-1][a],r[i][a-1]);return r}(e,t),e,t)};t.findArrayDiff=function(e,t){const n={moved:[],inserted:[],removed:[]},r=e.length,i=t.length,{commonHead:l,commonTail:o}=function(e,t){let a=0,n=0;const r=e.length,i=t.length;for(;a<r&&a<i&&e[a]===t[a];)a++;for(;n+a<r&&n+a<i&&e[r-1-n]===t[i-1-n];)n++;return{commonHead:a,commonTail:n}}(e,t);if(l+o===r){if(r===i)return n;for(let e=l;e<i-o;e++)n.inserted.push([t[e],e]);return n}if(l+o===i){for(let t=l;t<r-o;t++)n.removed.push([e[t],t]);return n}const s=a(e.slice(l,r-o),t.slice(l,i-o));for(let t=l;t<r-o;t++)s.indices1.indexOf(t-l)<0&&n.removed.push([e[t],t]);for(let a=l;a<i-o;a++){if(s.indices2.indexOf(a-l)<0){let r=!1;n.removed.forEach(((i,l,o)=>{let[s,u]=i;if(e[u]===t[a])return n.moved.push([s,u,a]),o.splice(l,1),void(r=!0)})),r||n.inserted.push([t[a],a])}}return n}},320291:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendSupportRequest=function(){return c.apply(this,arguments)};var r=n(a(81109)),i=n(a(348926)),l=a(173734),o=a(996588),s=a(459857),u=a(574819);function d(e,t){__LOG__(3,void 0,void 0,!0)`supportRequest error: code=${e} message=${null!=t?t:""}`,SEND_LOGS("supportRequest")}function c(){return(c=(0,i.default)((function*(e,t){const a=(0,r.default)({iqFrom:(0,u.widToUserJid)((0,s.getMeUser)()),descriptionElementValue:e},null!=t&&{debugInformationJsonArgs:{debugInformationJsonElementValue:t}}),n=yield(0,l.sendContactFormRPC)(a);switch(n.name){case"ContactFormResponseError":{const{code:e,text:t}=n.value.errorIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup.value;return d(Number(e),t),{type:"error",errorCode:Number(e)}}case"ContactFormResponseRetryableError":{const e=n.value.responseErrorCode;return d(Number(e)),{type:"error",errorCode:Number(e)}}case"ContactFormResponseSuccess":{const e=n.value.responseMessageElementValue,a=n.value.responseTicketIdElementValue,r=n.value.responseGroupJidElementValue;return null!=t&&(__LOG__(2)`InAppSupport: Uploading logs for ticketId=${a}`,(0,o.upload)({reason:o.USER_REPORT,immediate:!0,isHighPri:!0,logType:o.LogType.SUPPORT,ticketId:a}).then((e=>{__LOG__(2)`InAppSupport: Logs upload complete for ticketId=${a}, logsId=${e}`}))),{type:"success",message:e,ticketId:a,groupId:r}}}}))).apply(this,arguments)}},162164:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getIdentityVerificationDataJob=function(e,t){const a=(0,r.default)({jid:e},t);return(0,o.createNonPersistedJob)("getIdentityVerificationData",(e=>(0,l.getIdentityVerificationData)(e)),{priority:i.JOB_PRIORITY.SKIP}).waitUntilCompleted(a)};var r=n(a(81109)),i=a(775593),l=a(726192),o=a(899137)},726192:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.deriveLidIdentifier=v,t.deriveStableJid=y,t.deriveUsernameIdentifier=E,t.getIdentityVerificationData=function(){return M.apply(this,arguments)};var r=n(a(348926)),i=a(904704),l=a(418987),o=n(a(670983)),s=a(12643),u=a(469422),d=a(917504),c=a(252451),f=a(10586),p=a(76256),h=a(459857),m=a(385914);const g=/^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;function y(e){const t=g.exec(e.user);return i.Binary.build(t?t[1]+t[2]:e.toString()).readByteArray()}function v(e){return i.Binary.build(`${e.user}${l.LID_DOMAIN}`).readByteArray()}function E(e){return i.Binary.build(e).readByteArray()}function C(e,t){return`00000${256*e.getUint32(t,!1)+e.getUint8(t+4)}`.slice(-5)}function b(){return _.apply(this,arguments)}function _(){return(_=(0,r.default)((function*(e,t){let a=Promise.resolve(i.Binary.build(0,0,t,e).readByteArray());for(let e=0;e<5200;e++)a=a.then((e=>self.crypto.subtle.digest({name:"SHA-512"},i.Binary.build(e,t).readByteArray())));const n=yield a,r=new DataView(n instanceof ArrayBuffer?n.slice(0,30):n.slice(0,30).buffer);return[C(r,0),C(r,5),C(r,10),C(r,15),C(r,20),C(r,25)].join("")}))).apply(this,arguments)}function w(){return S.apply(this,arguments)}function S(){return(S=(0,r.default)((function*(e,t,a,n){return(yield Promise.all([b(e,t),b(a,n)])).sort().join("")}))).apply(this,arguments)}function k(e,t,a,n,r,l,s,u){const d={publicKey:s},f={publicKey:n};(0,o.default)(null!=r?r:l,"remotePnIdentifier ?? remoteLidIdentifier"),(0,o.default)(null!=e?e:t,"localPnIdentifier ?? localLidIdentifier"),null!=r&&(d.pnIdentifier=r),null!=t&&null!=l&&(d.lidIdentifier=l),null!=e&&(f.pnIdentifier=e),null!=t&&null!=l&&(f.lidIdentifier=t),null!=a&&(f.usernameIdentifier=a),null!=u&&(d.usernameIdentifier=u);const p=new i.Binary;return(0,m.encodeProtobuf)(c.CombinedFingerprintSpec,{version:0,localFingerprint:f,remoteFingerprint:d},p),p.readBuffer()}function M(){return(M=(0,r.default)((function*(e){let{jid:t,shareOwnPn:a,usernameSecurityCodeGenerationEnabled:n}=e;const r=(0,h.assertGetMe)(),i=(0,h.getMaybeMeLid)(),l=(0,h.getMeUser)(),o=yield(0,s.getContactUsername)(l);let c,m;t.isLid()?(c=t,m=(0,s.getPhoneNumber)(c)):(c=(0,s.getCurrentLid)(t),m=t);const g=yield(0,s.getContactUsername)(t),C=t.equals(l),b=yield(0,f.getFanOutListJob)([t,r]);try{yield(0,d.ensureE2ESessions)(b)}catch(e){__LOG__(4,void 0,new Error)`ensureE2ESessions with error`}const _=[],S=[];b.forEach((e=>{e.user===r.user&&S.push(e),(e.user!==r.user||C)&&_.push(e)}));try{const e=yield(0,u.getAllIdentityKeysBytesOrThrow)(_),t=yield(0,u.getAllIdentityKeysBytesOrThrow)(S),r=yield(0,p.getSignalProtocolStore)().getIdentityKeyPair();if(!r)return __LOG__(3)`getIdentityVerificationData: missing identity for device verification`,null;t.push(new Uint8Array(r.pubKey)),C&&e.push(new Uint8Array(r.pubKey));const s=(0,u.identityKeysToBinary)(t),d=(0,u.identityKeysToBinary)(e),f=a?y(l):null,h=m?y(m):null,b=i?v(i):null,M=c?v(c):null,P=n&&null!=o?E(o):null,T=n&&null!=g?E(g):null,O=f&&h?w(f,s,h,d):null,x=yield Promise.all([Promise.resolve(O),k(f,b,P,s,h,M,d,T)]),[I,L]=x;return{binary:L,string:I}}catch(e){return __LOG__(3)`getIdentityVerificationData: failed to generate identity QR code: ${e}`,null}}))).apply(this,arguments)}},433563:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getCommunitiesLearningCenterUrl=function(){return e="communities/learning",`${i}/${e}?lang=${r.default.getNormalizedLocale()}`;var e};var r=n(a(932325));const i="https://www.whatsapp.com"},974496:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInternalUser=function(){return(0,n.getABPropConfigValue)("is_meta_employee_or_internal_tester")};var n=a(287461)},311329:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getmMediaContainer=t.getStage=t.getIsInitialized=t.getCropOverlay=t.clearMediaEditControllerGetterCacheFor=void 0;var n=a(272619),r=a(535979);const{field:i,computed:l,clearCacheFor:o}=(0,n.createGetterFactories)({createCache:r.createMediaEditControllerCache}),s=o;t.clearMediaEditControllerGetterCacheFor=s;const u=Object.defineProperty(i("stage"),"name",{value:"getStage"});t.getStage=u;const d=Object.defineProperty(i("cropOverlay"),"name",{value:"getCropOverlay"});t.getCropOverlay=d;const c=Object.defineProperty(i("mediaContainer"),"name",{value:"getmMediaContainer"});t.getmMediaContainer=c;const f=Object.defineProperty(l((e=>{let[t,a,n]=e;return!!t&&!!a&&!!n}),[u,d,c]),"name",{value:"getIsInitialized"});t.getIsInitialized=f},808383:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTrayImagePreview=t.getTrayImageId=t.getStickerPackMdUnsafe=t.getPublisher=t.getPreviewImageIds=t.getName=t.getIndex=t.getImageDataHash=t.getId=t.getFileSize=t.getDescription=t.getAnimated=t.clearStickerPackModelMdGetterCacheFor=void 0;var n=a(272619),r=a(535979);const{field:i,unsafeIdentityGetter:l,clearCacheFor:o}=(0,n.createGetterFactories)({createCache:r.createStickerModelMdCache}),s=o;t.clearStickerPackModelMdGetterCacheFor=s;const u=l;t.getStickerPackMdUnsafe=u;const d=Object.defineProperty(i("id"),"name",{value:"getId"});t.getId=d;const c=Object.defineProperty(i("index"),"name",{value:"getIndex"});t.getIndex=c;const f=Object.defineProperty(i("name"),"name",{value:"getName"});t.getName=f;const p=Object.defineProperty(i("publisher"),"name",{value:"getPublisher"});t.getPublisher=p;const h=Object.defineProperty(i("description"),"name",{value:"getDescription"});t.getDescription=h;const m=Object.defineProperty(i("fileSize"),"name",{value:"getFileSize"});t.getFileSize=m;const g=Object.defineProperty(i("imageDataHash"),"name",{value:"getImageDataHash"});t.getImageDataHash=g;const y=Object.defineProperty(i("animated"),"name",{value:"getAnimated"});t.getAnimated=y;const v=Object.defineProperty(i("previewImageIds"),"name",{value:"getPreviewImageIds"});t.getPreviewImageIds=v;const E=Object.defineProperty(i("trayImageId"),"name",{value:"getTrayImageId"});t.getTrayImageId=E;const C=Object.defineProperty(i("trayImagePreview"),"name",{value:"getTrayImagePreview"});t.getTrayImagePreview=C},252451:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FingerprintDataSpec=t.CombinedFingerprintSpec=void 0;var n=a(751206);const r={};t.FingerprintDataSpec=r;const i={};t.CombinedFingerprintSpec=i,r.internalSpec={publicKey:[1,n.TYPES.BYTES],pnIdentifier:[2,n.TYPES.BYTES],lidIdentifier:[3,n.TYPES.BYTES],usernameIdentifier:[4,n.TYPES.BYTES]},i.internalSpec={version:[1,n.TYPES.UINT32],localFingerprint:[2,n.TYPES.MESSAGE,r],remoteFingerprint:[3,n.TYPES.MESSAGE,r]}},288990:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_DIRECTORY_ACTION=void 0;const a=Object.freeze({DIRECTORY_OPEN_TAP:1,DIRECTORY_CLOSED_TAP:2,DIRECTORY_SEARCH_TAP:3,DIRECTORY_SERVER_ERROR:4,DIRECTORY_NAVIGATE_TO_CHANNEL:5,DIRECTORY_RETURN_FROM_CHANNEL:6,DIRECTORY_FOLLOW_TAP:7,DIRECTORY_UNFOLLOW_TAP:8,DIRECTORY_SORT_BY_RECENTLY_ADDED:9,DIRECTORY_SORT_BY_POPULARITY:10,DIRECTORY_SORT_BY_ALPHABETICALLY:11,DIRECTORY_IMP:12,DIRECTORY_SEARCH_IMP:13});t.CHANNEL_DIRECTORY_ACTION=a},715919:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_DIRECTORY_IMP_REASON=void 0;const a=Object.freeze({PILL_SELECTION:1,COUNTRY_SELECTION:2,NOT_APPLICABLE:3});t.CHANNEL_DIRECTORY_IMP_REASON=a},318093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_DIRECTORY_PILL_SELECTED=void 0;const a=Object.freeze({RECOMMENDED:1,TRENDING:2,FEATURED:3,NEW:4,POPULAR:5});t.CHANNEL_DIRECTORY_PILL_SELECTED=a},735131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_FORWARD_CONTENT_TYPE=void 0;const a=Object.freeze({UPDATE:0,UPDATE_CARD:1});t.CHANNEL_FORWARD_CONTENT_TYPE=a},581451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CTWA_LABEL_TARGET=void 0;const a=Object.freeze({CHAT:0,MESSAGE:1});t.CTWA_LABEL_TARGET=a},762445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CTWA_LABEL_TYPE=void 0;const a=Object.freeze({NEW_ORDER:0,PENDING_PAYMENT:1,PAID:2,ORDER_COMPLETE:3});t.CTWA_LABEL_TYPE=a},243146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_TAB_SEARCH_EVENT_TYPE=void 0;const a=Object.freeze({SEARCH_TAP:1,STATUS_TAP:2,FOLLOWED_CHANNEL_TAP:3,DIRECTORY_CHANNEL_TAP:4});t.UPDATE_TAB_SEARCH_EVENT_TYPE=a},986961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=void 0;const a=Object.freeze({CONTACT:1,GROUP:2,CONTACTLESS:3});t.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=a},920769:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelDirectoryWamEvent=void 0;var n=a(901032),r=a(288990),i=a(320390),l=a(715919),o=a(318093);const{BOOLEAN:s,INTEGER:u,STRING:d}=n.TYPES,c=(0,n.defineEvents)({ChannelDirectory:[4544,{channelDirectoryAction:[1,r.CHANNEL_DIRECTORY_ACTION],channelDirectoryActionSequenceNumber:[5,u],channelDirectoryEntryPoint:[2,i.CHANNEL_DIRECTORY_ENTRY_POINT],channelDirectorySessionId:[3,u],channelIndex:[6,u],cid:[4,d],countrySelector:[8,d],impReason:[9,l.CHANNEL_DIRECTORY_IMP_REASON],pillSelected:[10,o.CHANNEL_DIRECTORY_PILL_SELECTED],searchMode:[7,s]},[1,1,1],"regular"]});t.ChannelDirectoryWamEvent=c},879417:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CtwaLabelSignalWamEvent=void 0;var n=a(901032),r=a(581451),i=a(762445);const{BOOLEAN:l,INTEGER:o,STRING:s}=n.TYPES,u=(0,n.defineEvents)({CtwaLabelSignal:[4662,{ctwaLabelSignalVersion:[1,o],ctwaLabelTarget:[2,r.CTWA_LABEL_TARGET],ctwaLabelType:[3,i.CTWA_LABEL_TYPE],deepLinkConversionData:[4,s],deepLinkConversionSource:[5,s],eventSharingSettingEnabled:[6,l],globalSharingSettingEnabled:[7,l]},[1,1,1],"regular"]});t.CtwaLabelSignalWamEvent=u},321575:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PsChannelPostForwardWamEvent=void 0;var n=a(901032),r=a(735131),i=a(684290),l=a(244186);const{STRING:o}=n.TYPES,s=(0,n.defineEvents)({PsChannelPostForward:[4746,{channelForwardContentType:[6,r.CHANNEL_FORWARD_CONTENT_TYPE],channelForwardGroupType:[1,l.MESSAGE_CHAT_TYPE],cid:[2,o],mediaType:[3,i.MEDIA_TYPE],postId:[4,o]},[1,1,1],"private",0]});t.PsChannelPostForwardWamEvent=s},926377:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatesTabSearchWamEvent=void 0;var n=a(901032),r=a(243146);const{INTEGER:i}=n.TYPES,l=(0,n.defineEvents)({UpdatesTabSearch:[4838,{channelsAdminCount:[5,i],channelsFollowedCount:[1,i],recentStatusItemCount:[2,i],recentStatusRowCount:[3,i],updateTabSearchEventType:[4,r.UPDATE_TAB_SEARCH_EVENT_TYPE],viewedStatusItemCount:[6,i],viewedStatusRowCount:[7,i]},[1,1,1],"regular"]});t.UpdatesTabSearchWamEvent=l},191721:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebContactListStartNewChatWamEvent=void 0;var n=a(901032),r=a(986961);const{BOOLEAN:i}=n.TYPES,l=(0,n.defineEvents)({WebContactListStartNewChat:[4560,{webContactListStartNewChatSearch:[1,i],webContactListStartNewChatType:[2,r.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE]},[1,1,1],"regular"]});t.WebContactListStartNewChatWamEvent=l},140960:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebcMediaEditorSendWamEvent=void 0;var n=a(901032);const{INTEGER:r}=n.TYPES,i=(0,n.defineEvents)({WebcMediaEditorSend:[2890,{blurImageCount:[7,r],editedImageCount:[2,r],emojiLayerCount:[5,r],imageCount:[1,r],paintedImageCount:[3,r],stickerLayerCount:[6,r],textLayerCount:[4,r]},[1,1,1],"regular"]});t.WebcMediaEditorSendWamEvent=i},705153:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logContactListStartNewChatAction=function(e){let{isSearchResult:t,chatType:a}=e;new l.WebContactListStartNewChatWamEvent({webContactListStartNewChatSearch:t,webContactListStartNewChatType:a}).commit()},t.logInitiatedContactlessChat=function(e){e.msgs.some((e=>e.isRealMessage()))||e.endOfHistoryTransferType===r.ConversationEndOfHistoryTransferModelPropType.INCOMPLETE||(0,i.handleActivitiesForChatThreadLogging)([{activityType:"viaContactlessChats",ts:(0,n.unixTime)(),chatId:e.id,boolValue:!0}])};var n=a(632157),r=a(735618),i=a(698867),l=a(191721)},69342:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.logLabelSignalForModels=void 0;var r=n(a(81109)),i=a(887341),l=a(72696),o=a(79672),s=n(a(457034)),u=a(312158),d=a(317285),c=a(879417),f=a(163755),p=a(856311),h=a(772358),m=a(581451),g=a(762445);const y=new Map([[u.ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER,g.CTWA_LABEL_TYPE.NEW_ORDER],[u.ALLOWED_PREDEFINED_LABEL_IDS.PENDING_PAYMENT,g.CTWA_LABEL_TYPE.PENDING_PAYMENT],[u.ALLOWED_PREDEFINED_LABEL_IDS.PAID,g.CTWA_LABEL_TYPE.PAID],[u.ALLOWED_PREDEFINED_LABEL_IDS.ORDER_COMPLETE,g.CTWA_LABEL_TYPE.ORDER_COMPLETE]]),v={globalSharingSettingEnabled:!1},E=e=>{switch(d.CTWADataSharingModel.getValue()){case i.ENUM_FALSE_NOTSET_TRUE.true:return{globalSharingSettingEnabled:!0,eventSharingSettingEnabled:e};case i.ENUM_FALSE_NOTSET_TRUE.false:return v;case i.ENUM_FALSE_NOTSET_TRUE.notset:default:return null}};t.logLabelSignalForModels=(e,t,a)=>{const n=[];t.forEach((e=>{const t=p.LabelCollection.get(e),a=null==t?void 0:t.predefinedId;if(null==a)return;const r=y.get(a);null!=r&&n.push(r)})),0!==n.length&&(e[0]instanceof h.Msg?((e,t,a)=>{const n=(0,f.getChat)(e);if(!n)return void __LOG__(4,void 0,new Error)`[ctwa][labels] logLabelAddedToMessageAction: chat is missing for a provided message`;const i=s.default.getCTWAEligibilityFromChat(n);null!=i&&(0,l.isSMBLabelsDataSharingEnabledForMessages)()&&t.forEach((e=>{new c.CtwaLabelSignalWamEvent((0,r.default)({ctwaLabelSignalVersion:1,ctwaLabelTarget:m.CTWA_LABEL_TARGET.MESSAGE,ctwaLabelType:e,deepLinkConversionData:i.data,deepLinkConversionSource:i.source},E(a))).commit()}))})(e[0],n,a):e.forEach((e=>{e instanceof o.Chat&&((e,t,a)=>{const n=s.default.getCTWAEligibilityFromChat(e);null!=n&&(0,l.isSMBLabelsDataSharingEnabledForChats)()&&t.forEach((e=>{const t=(0,r.default)({ctwaLabelSignalVersion:1,ctwaLabelTarget:m.CTWA_LABEL_TARGET.CHAT,ctwaLabelType:e,deepLinkConversionSource:n.source},E(a));!1===(0,l.is3pdConversionEnabled)()&&(t.deepLinkConversionData=n.data),new c.CtwaLabelSignalWamEvent(t).commit()}))})(e,n,a)})))}},716910:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(967154)),i=a(952543),l=a(664149),o=a(675085),s=a(781035),u=a(180519),d=a(676345),c=a(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),p=n(a(156720));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const m={borderTop:"kagi745y"},g=()=>c.fbt._("Standard quality",null,{hk:"1Hev22"}),y=()=>c.fbt._("HD quality",null,{hk:"1Jkxk6"}),v=()=>c.fbt._("HD photos are clearer. Standard photos use less storage space and are faster to send.",null,{hk:"2p0R8d"});function E(e){let{height:t,size:a,title:n,width:r}=e;return f.default.createElement("div",null,f.default.createElement(u.TextDiv,{theme:"title"},n),null!=a&&null!=r&&null!=t&&f.default.createElement(u.TextDiv,{theme:"plain",color:"secondary"},c.fbt._("{filesize}  {width} x {height}",[c.fbt._param("filesize",(0,s.getL10nFilesize)(a)),c.fbt._param("width",r),c.fbt._param("height",t)],{hk:"18YN3K"})))}function C(e,t){const{selectedQuality:a,onChangeQuality:n}=e,s=(0,f.useCallback)((()=>{a!==i.MediaQuality.Standard&&n(i.MediaQuality.Standard)}),[n,a]),c=(0,f.useCallback)((()=>{a!==i.MediaQuality.HD&&n(i.MediaQuality.HD)}),[n,a]),h=e.metadataByQuality.get(i.MediaQuality.HD),C=e.metadataByQuality.get(i.MediaQuality.Standard);return f.default.createElement(l.Dropdown,{ref:t,flipOnRTL:!0,type:l.MenuType.Dropdown,testid:"hd-photo-dropdown"},f.default.createElement(o.DropdownItem,{addSpacing:!0,fixedHeight:!1,xstyle:[d.uiPadding.top16,d.uiPadding.bottom16],selected:a===i.MediaQuality.Standard,testid:"hd-photo-dropdown-item-standard-quality",action:s},f.default.createElement(E,(0,r.default)({},C,{title:g()}))),f.default.createElement(o.DropdownItem,{addSpacing:!0,fixedHeight:!1,xstyle:[d.uiPadding.top16,d.uiPadding.bottom16],selected:a===i.MediaQuality.HD,testid:"hd-photo-dropdown-item-hd-quality",action:c},f.default.createElement(E,(0,r.default)({},h,{title:y()}))),f.default.createElement(u.TextDiv,{theme:"muted",className:(0,p.default)(m,d.uiPadding.top16,d.uiPadding.start16,d.uiPadding.end16,d.uiPadding.bottom7)},v()))}E.displayName="DropdownItemContent";var b=(0,f.forwardRef)(C);t.default=b},717821:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=n(a(692629)),l=a(780549),o=a(949359),s=n(a(908081)),u=n(a(324093)),d=a(626194),c=n(a(969358)),f=a(690495),p=n(a(99398)),h=a(782785),m=a(73225),g=a(588792),y=a(511696),v=a(202391),E=a(362687),C=a(625786),b=a(390737),_=a(454905),w=a(676345),S=a(269430),k=a(460416),M=a(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),T=n(a(156720));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const x={channelMetadataSection:{display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"o4u7okr9",width:"ln8gz9je"}},I=()=>{},L=()=>P.default.createElement(C.Toast,{msg:M.fbt._("The channel couldn't be created. Please try again.",null,{hk:"1GotOP"})}),D=()=>P.default.createElement(C.Toast,{msg:M.fbt._("Channel could not be created. Check your internet connection and try again.",null,{hk:"3VKGRb"})}),R=(0,P.forwardRef)(((e,t)=>{const[a,n]=(0,P.useState)(!1),[C,O]=(0,P.useState)(""),[R,A]=(0,P.useState)(null),[N,j]=(0,P.useState)(null),{adminFunnelLogger:F}=e,B=(0,P.useRef)(""),W=(0,P.useRef)(null),H=[w.uiPadding.horiz32,w.uiPadding.bottom28];(0,P.useEffect)((()=>{F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_CREATE_LAUNCH_SUCCESS)}),[]);const z=(0,P.useCallback)((e=>{F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_FAILURE),b.ToastManager.open(e())}),[F]),U=function(){var e=(0,r.default)((function*(e){n(!0);const t=yield(0,h.createNewsletterAction)(e);n(!1),null!=t?(F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_SUCCESS),l.Cmd.openCreatedNewsletter(t)):z(L)}));return function(){return e.apply(this,arguments)}}(),V=(0,P.useCallback)((e=>{let{text:t}=e;O(t)}),[]),q=(0,P.useCallback)((e=>{let{text:t}=e;A(t)}),[]),G=(0,P.useCallback)(((e,t,a)=>{j(t),F.logImageSetEvent(a)}),[F]),Y=C.trim().length>0,K=()=>{C!==B.current&&(B.current=C,F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_NAME_SET))},X=()=>{R!==W.current&&(W.current=R,F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_DESCRIPTION_SET))},Z=()=>{var e;K(),X(),F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP),e={name:C,description:R,picture:N},p.default.online?U(e):z(D)},Q=P.default.createElement(f.FlexRow,{align:"center",justify:"center",xstyle:w.uiPadding.bottom32},P.default.createElement(i.default,{testid:"create-newsletter-button",type:"primary",onClick:Z,disabled:!Y||a,spinner:a},(0,o.getCreateChannelText)())),J=M.fbt._("Channel name",null,{hk:"F1L9d"}),$=M.fbt._("Describe your channel. Include information to help people understand what your channel is about.",null,{hk:"1C1bm1"}),ee=M.fbt._("Channel description",null,{hk:"1Uj20p"});return P.default.createElement(s.default,{ref:t,testid:"create-newsletter-drawer",tsNavigationData:(0,m.isNewsletterTSLEnabled)()?{surface:"channel-create-page",extras:{threadType:k.THREAD_TYPE.CHANNEL}}:void 0},P.default.createElement(d.DrawerHeader,{title:M.fbt._("New channel",null,{hk:"2xweuy"}),type:(0,_.topMenuRedesignEnabled)()?d.DRAWER_HEADER_TYPE.SMALL:d.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),P.default.createElement(u.default,null,P.default.createElement(c.default,{theme:"full-height",xstyle:x.channelMetadataSection},P.default.createElement("div",null,P.default.createElement("div",{className:(0,T.default)(w.uiPadding.top28,...H)},P.default.createElement(y.PhotoPickerLoadable,{type:g.PhotoPickerType.NEWSLETTER,attachToChat:!1,startImage:N,onImageSet:G})),P.default.createElement("div",{className:(0,T.default)(...H)},P.default.createElement(v.RichTextField,{testid:"newsletter-name-input",title:J,value:C,maxLength:E.ServerProps.maxSubject,showRemaining:!0,onChange:V,onBlur:K,placeholder:J,onEnter:Y?Z:I,supportsEmoji:!0,focusOnMount:!0})),P.default.createElement("div",{className:(0,T.default)(...H)},P.default.createElement(v.RichTextField,{testid:"newsletter-description-input",title:$,value:R,maxLength:E.ServerProps.groupDescLength,showRemaining:!0,onChange:q,onBlur:X,placeholder:ee,inputPlaceholder:$,onEnter:Y?Z:I,supportsEmoji:!0,multiline:!0,maxVisibleLines:5,minVisibleLines:5,textFormatEnabled:!0,bulletPointsEnabled:!0,theme:"gray-background"}))),Q)))}));R.displayName="NewNewsletterInfoDrawer";var A=R;t.default=A},600815:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryMenuDropdown=void 0;var r=a(949359),i=a(937069),l=a(664149),o=a(675085),s=a(695431),u=a(676345),d=a(873298),c=a(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),p=n(a(156720));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const m={options:{minWidth:"rt0vj72k"}},g=(0,f.forwardRef)(((e,t)=>{let{selectedSortField:a,onSortFieldChange:n,directoryFunnelLogger:h}=e;const g=f.default.createElement("div",{className:(0,p.default)(u.uiPadding.top15,u.uiPadding.horiz24,u.uiPadding.bottom12)},f.default.createElement(d.WDSTextTitle,null,c.fbt._("Sort",null,{hk:"1LL27S"}))),y=(e,t,a)=>{e.preventDefault(),n(t,a),(e=>{h.logSortAction(e)})(t)},v=i.DIRECTORY_SORT_FIELD_OPTIONS.map((e=>f.default.createElement(o.DropdownItem,{key:`newsletter-directory-tab-overflow-menu-${e.sortField}`,action:t=>{y(t,e.sortField,e.sortOrder)},testid:`newsletter-directory-overflow-menu-${e.sortField}`},f.default.createElement(s.RadioWithLabel,{name:"sort-field",value:e.sortField,label:f.default.createElement(d.WDSTextSmall,{color:"primary"},(0,r.getNewsletterDirectorySortOptionLabel)(e.sortField)),checked:a===e.sortField,onChange:()=>{},xstyle:[m.options,u.uiPadding.horiz24]}))));return f.default.createElement(l.Dropdown,{ref:t,type:l.MenuType.DropdownMenu,key:"NewsletterDirectoryMenuDropdown",flipOnRTL:!0,dirX:l.DirX.LEFT,testid:"newsletter-directory-menu-dropdown"},g,v)}));t.NewsletterDirectoryMenuDropdown=g,g.displayName="NewsletterDirectoryMenuDropdown"},533393:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterTabMenuDropdown=void 0;var n=a(949359),r=a(664149),i=a(675085),l=a(73225),o=a(320390),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d=(0,s.forwardRef)(((e,t)=>{let{onCreateNewsletter:a,onNewsletterDirectorySearch:u}=e;const d=[],c=(0,s.useCallback)((()=>{u(o.CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_MENU)}),[u]);return(0,l.isNewsletterCreationEnabled)()&&d.push(s.default.createElement(i.DropdownItem,{key:"newsletter-tab-overflow-menu-create-channel",action:a,testid:"newsletter-overflow-menu-create-channel"},(0,n.getCreateChannelText)())),(0,l.isNewsletterDirectoryEnabled)()&&d.push(s.default.createElement(i.DropdownItem,{key:"newsletter-tab-overflow-menu-find-channels",action:c,testid:"newsletter-overflow-menu-find-channels"},(0,n.getFindNewslettersText)())),s.default.createElement(r.Dropdown,{ref:t,type:r.MenuType.DropdownMenu,key:"NewsletterMenuDropdown",flipOnRTL:!0,dirX:r.DirX.LEFT,testid:"newsletter-menu-dropdown"},d)}));t.NewsletterTabMenuDropdown=d,d.displayName="NewsletterTabMenuDropdown"},782785:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createNewsletterAction=function(e){return i.newsletterCreationQueue.enqueue((0,r.default)((function*(){const t=yield(0,o.createNewsletter)(e);if(null==t)return __LOG__(4,void 0,new Error,void 0,["newsletter"])`[newsletter][createNewsletterAction] failed to create newsletter`,null;const{newsletter:a,msgs:n}=t,{chat:r,metadata:i,pic:d}=(0,s.mapNewsletterToModels)(a);return yield l.NewsletterBridgeApi.joinNewsletter({newsletter:r,metadata:i,pic:d,msgs:n}),(0,u.toNewsletterWid)((0,u.createWid)(r.id.toString()))})))};var r=n(a(348926)),i=a(309570),l=a(549142),o=a(800413),s=a(14291),u=a(669050)},914815:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.openNewsletterChat=void 0;var r=a(338042),i=a(780549),l=a(877171),o=a(666755),s=a(114850),u=a(73225),d=a(110113),c=a(604475),f=n(a(667294));t.openNewsletterChat=e=>{const{newsletter:t,onSelect:a}=e;null==a||a(),s.ModalManager.open(f.default.createElement(c.PDFNModal,{pdfnId:parseInt((0,u.getNewsletterConsumerTos)(),10),verifyTosAccepted:d.hasAcceptedNewsletterTos,runIfTosAccepted:()=>i.Cmd.openChatFromUnread(t,r.ChatEntryPoint.NewsletterChatlist).then((e=>(e&&(o.ConversationPanelActions.focus(),l.ComposeBoxActions.focus(t)),t)))}))}},509856:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(a(498913)),i=a(518024),l=a(690495),o=a(676345),s=n(a(667294));n(a(156720));const u={cellHeight:{minHeight:"nhwamvof"},container:{backgroundColor:"ihvf49ua",height:"ppled2lx"}};function d(){return s.default.createElement(l.FlexRow,{align:"center",xstyle:u.cellHeight},s.default.createElement(i.CircleShimmer,{diameter:49,xstyle:o.uiMargin.end15}),s.default.createElement(l.FlexColumn,null,s.default.createElement(i.RectangleShimmer,{height:12,width:139,xstyle:o.uiMargin.bottom12}),s.default.createElement(i.RectangleShimmer,{height:10,width:75})))}function c(e){let{count:t}=e;return s.default.createElement(l.FlexColumn,{xstyle:u.container},(0,r.default)(t,(e=>s.default.createElement(l.FlexColumn,{align:"start",xstyle:[o.uiMargin.horiz13,o.uiMargin.vert12],key:e},s.default.createElement(d,null)))))}d.displayName="NewsletterDirectoryShimmerSingleItem",c.displayName="NewsletterDirectoryShimmer"},204311:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(a(498913)),i=a(518024),l=a(690495),o=a(676345),s=n(a(667294));n(a(156720));const u={outerContainer:{width:"pbjvmppa",boxSizing:"cm280p3y",borderTop:"swyb62mu"}};function d(e){let{count:t}=e;return s.default.createElement(l.FlexColumn,null,(0,r.default)(t,(e=>s.default.createElement(l.FlexColumn,{align:"start",xstyle:[o.marginHoriz13,o.paddingVert12,u.outerContainer],key:e},s.default.createElement(l.FlexRow,{align:"center",justify:"start",xstyle:o.marginBottom5},s.default.createElement(i.CircleShimmer,{diameter:36,xstyle:o.marginEnd12}),s.default.createElement(i.RectangleShimmer,{width:108,height:12})),s.default.createElement(l.FlexColumn,{align:"start"},s.default.createElement(i.RectangleShimmer,{width:308,height:10,xstyle:o.marginTop5}),s.default.createElement(i.RectangleShimmer,{width:238,height:10,xstyle:[o.marginTop10,o.marginBottom28]}))))))}d.displayName="NewsletterInboxShimmer"},766298:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterRecommendationsBlockShimmer=m,t.NewsletterRecommendationsRowShimmer=p,t.NewsletterRecommendationsShimmerSingleItem=f;var r=n(a(498913)),i=a(518024),l=a(690495),o=a(73225),s=a(196815),u=a(59849),d=a(676345),c=n(a(667294));function f(e){let{xstyle:t}=e;return c.default.createElement(l.FlexColumn,{align:"center",xstyle:t},c.default.createElement(i.CircleShimmer,{diameter:64,xstyle:d.uiMargin.bottom8}),c.default.createElement(i.RectangleShimmer,{height:20,width:72}))}function p(e){let{count:t}=e;return c.default.createElement(l.FlexRow,{align:"center",xstyle:[d.uiMargin.horiz9,d.uiMargin.top7],shrink:0,justify:"evenly",columnGap:12,rowGap:32,wrap:"wrap"},(0,r.default)(t,(()=>c.default.createElement(l.FlexItem,{shrink:0},c.default.createElement(f,null)))))}function h(e){let{count:t}=e;return(0,o.isRecommendedUnitV2Enabled)()?c.default.createElement(l.FlexColumn,{rowGap:8,align:"center",xstyle:d.uiMargin.top16},(0,r.default)(t,(()=>c.default.createElement(l.FlexRow,{columnGap:8},c.default.createElement(u.NewsletterRecommendedItemShimmer,null),c.default.createElement(u.NewsletterRecommendedItemShimmer,null),c.default.createElement(u.NewsletterRecommendedItemShimmer,null))))):c.default.createElement(l.FlexRow,{xstyle:d.uiMargin.top24,justify:"center"},c.default.createElement(l.FlexColumn,null,(0,r.default)(t,(e=>c.default.createElement(l.FlexRow,{xstyle:d.uiMargin.vert16,align:"center",key:e},c.default.createElement(f,{xstyle:d.uiMargin.end10}),c.default.createElement(f,{xstyle:d.uiMargin.horiz10}),c.default.createElement(f,{xstyle:d.uiMargin.horiz10}),c.default.createElement(f,{xstyle:d.uiMargin.start10}))))))}function m(e){let{count:t}=e;return c.default.createElement(l.FlexColumn,{xstyle:d.uiMargin.top24,align:"center"},c.default.createElement(s.RecommendedNewsletterBlockHeading,null),c.default.createElement(h,{count:t}))}f.displayName="NewsletterRecommendationsShimmerSingleItem",p.displayName="NewsletterRecommendationsRowShimmer",h.displayName="RecommendedBlockShimmer",m.displayName="NewsletterRecommendationsBlockShimmer"},688601:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useNewsletterDirectoryResults=function(e){let{sortField:t,sortOrder:a,searchText:n,newsletterDirectoryFunnelLogger:c,countryCode:f,listView:p,filterSubscribedNewsletters:h}=e;const m=(0,u.useRef)(""),g=(0,u.useRef)(!1),[y,v]=(0,u.useState)([]),[E,C]=(0,u.useState)(!1),[b,_]=(0,u.useState)(!1),[w,S]=(0,u.useState)(!1),k=(0,d.default)(i.default,"change:online",(()=>!i.default.online)),M=(0,u.useCallback)((()=>{const e=n.trim(),i=""!==e;return c.setSearchMode(i),(0,l.fetchNewsletterDirectories)({countryCodes:""===f?[]:[f],sortOpts:{field:t,order:a},searchText:e,view:p,cursorToken:m.current}).then((e=>{var t;let{newsletters:a,pageInfo:n}=e;m.current=null!==(t=null==n?void 0:n.endCursor)&&void 0!==t?t:"",g.current=!0===(null==n?void 0:n.hasNextPage);return((e,t,a)=>{if(null==e)return[];return e.map(((e,n)=>({type:"NEWSLETTER_DIRECTORY_CELL",itemKey:`newsletter-${e.id.toString()}`,newsletter:e,chatEntryPoint:t,index:n,directoryFunnelLogger:a})))})(!0===h?a.filter((e=>(0,s.iAmGuest)(e.newsletterMetadata))):a,i?r.ChatEntryPoint.NewsletterDirectorySearch:r.ChatEntryPoint.NewsletterDirectory,c)})).catch((e=>{throw c.logServerError(),e}))}),[f,m,g,p,c,n,t,a,h]),P=(0,u.useCallback)((()=>{k||E||(S(!0),m.current="",g.current=!1,M().then(v).catch((()=>{C(!0)})).finally((()=>{S(!1)})))}),[k,E,m,g,M]),T=(0,u.useCallback)((()=>{_(!0),M().then((e=>{v([...y,...e])})).finally((()=>{_(!1)}))}),[M,y]),O=(0,u.useCallback)((()=>(0,o.isNewsletterDirectoryPaginationEnabled)()&&!0===g.current&&!b),[g,b]),x=(0,u.useCallback)((()=>(0,o.isNewsletterDirectoryPaginationEnabled)()&&g.current),[g]);return[y,O,P,T,x,w,E,C]};var r=a(338042),i=n(a(99398)),l=a(929638),o=a(73225),s=a(751460),u=a(667294),d=n(a(524578))},441625:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortChannelResults=o,t.useNewsletterInboxSearch=function(e){let{filteredText:t,selectedFilter:a}=e;return(0,l.useCallback)((e=>{const l=""!==t.trim();return e.filter((e=>{if(!e.isNewsletter||null==e)return!1;if(l){var o;return function(e,t){var a,n;const i=null===(a=e.newsletterMetadata)||void 0===a||null===(n=a.name)||void 0===n?void 0:n.toLocaleLowerCase();if(null==i||""===i||null==t||""===t)return!1;return(0,r.fuzzySearch)(t,i)}(e,null==t||null===(o=t.toLocaleLowerCase())||void 0===o?void 0:o.trim())}switch(a){case n.NewsletterInboxFilterTypes.MyChannels:return(0,i.iAmAdminOrOwner)(null==e?void 0:e.newsletterMetadata);case n.NewsletterInboxFilterTypes.Unread:return e.optimisticUnreadCount>0||e.shouldShowUnreadDivider;case n.NewsletterInboxFilterTypes.All:return!0}})).sort(((e,a)=>{var n;return o({channelA:e,channelB:a,hasSearchText:l,searchText:null==t||null===(n=t.toLocaleLowerCase())||void 0===n?void 0:n.trim()})}))}),[t,a])};var n=a(927531),r=a(573797),i=a(751460),l=a(667294);function o(e){var t,a,n,i;let{channelA:l,channelB:o,searchText:s,hasSearchText:u}=e;if(!u)return 0;const d=null===(t=l.newsletterMetadata)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toLocaleLowerCase(),c=null===(n=o.newsletterMetadata)||void 0===n||null===(i=n.name)||void 0===i?void 0:i.toLocaleLowerCase();return null==d||""===d||null==c||""===c||null==s||""===s?0:s.toLowerCase()===d.toLowerCase()?-1:s.toLowerCase()===c.toLowerCase()?1:d.startsWith(s)?-1:c.startsWith(s)?1:d.includes(s)?-1:c.includes(s)?1:(0,r.fuzzyMatches)(s,d).length-(0,r.fuzzyMatches)(s,c).length}},862154:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useRecommendedNewsletters=function(){const[e,t]=(0,i.useState)([]),a=(0,i.useRef)([]),[n,o]=(0,i.useState)(!1),s=(0,l.default)(),u=(0,i.useCallback)((()=>{t(a.current.filter((e=>{var t;return!1===e.isSuspendedOrTerminated()&&!0===(null===(t=e.newsletterMetadata)||void 0===t?void 0:t.isPreview)})))}),[]);return(0,i.useEffect)((()=>{n||s.aborted||(o(!0),(0,r.getRecommendedNewslettersAction)().then((e=>{s.aborted||(a.current=e,u())})).finally((()=>{s.aborted||o(!1)})))}),[]),[n,e]};var r=a(929638),i=a(667294),l=n(a(895851))},784845:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logNewsletterMessagForward=function(e,t){var a,l;const o=(0,r.getIsNewsletterMsg)(e)?e.id.remote:null===(a=e.forwardedNewsletterMessageInfo)||void 0===a?void 0:a.newsletterId,s=e.getWamMediaType(),u=(0,r.getIsNewsletterMsg)(e)?e.serverId:null===(l=e.forwardedNewsletterMessageInfo)||void 0===l?void 0:l.serverMessageId;for(const e of t){const t=(0,n.getMessageChatTypeFromWid)(e.id);new i.PsChannelPostForwardWamEvent({cid:null==o?void 0:o.user,channelForwardGroupType:t,mediaType:s,postId:null==u?void 0:u.toString()}).commit()}};var n=a(859458),r=a(787742),i=a(321575)},889534:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryFunnelLogger=void 0,t.getNewsletterActionFromSortField=h,t.getNewsletterSelectedPill=m;var r=n(a(81109)),i=a(920769),l=a(937069),o=a(509169),s=a(772787),u=a(73225),d=a(288990),c=a(715919),f=a(318093),p=a(669050);function h(e){switch(e){case l.NewsletterDirectorySortField.CreationTime:return d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SORT_BY_RECENTLY_ADDED;case l.NewsletterDirectorySortField.Subscribers:return d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SORT_BY_POPULARITY}}function m(e){switch(e){case s.NewsletterDirectoryListView.Recommended:return f.CHANNEL_DIRECTORY_PILL_SELECTED.RECOMMENDED;case s.NewsletterDirectoryListView.New:return f.CHANNEL_DIRECTORY_PILL_SELECTED.NEW;case s.NewsletterDirectoryListView.Popular:return f.CHANNEL_DIRECTORY_PILL_SELECTED.POPULAR;case s.NewsletterDirectoryListView.Trending:return f.CHANNEL_DIRECTORY_PILL_SELECTED.TRENDING;case s.NewsletterDirectoryListView.Featured:return f.CHANNEL_DIRECTORY_PILL_SELECTED.FEATURED}}t.NewsletterDirectoryFunnelLogger=class{constructor(){this.sessionId=Math.round(1e9*Math.random()),this.eventSequence=0,this.searchMode=!1,o.NewsletterCoreEventLogger.setDirectorySessionId(this.sessionId)}_incrementEventSequence(){this.eventSequence+=1}setSearchMode(e){this.searchMode=e}logDirectoryOpen(e,t,a){let n=e;null==n&&(__LOG__(3)`[NewsletterDirectoryFunnelLogging] entrypoint is null`,n=void 0),this.logEvent({action:d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_OPEN_TAP,entryPoint:n}),this.logV2Event({action:d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_IMP,pillSelected:m(t),countrySelector:a,entryPoint:n,impReason:c.CHANNEL_DIRECTORY_IMP_REASON.NOT_APPLICABLE})}logDirectoryClose(){this.logEvent({action:d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_CLOSED_TAP})}logSearchTap(){this.searchMode||(this.logEvent({action:d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_TAP}),this.logV2Event({action:d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_IMP}))}logServerError(){this.logEvent({action:d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SERVER_ERROR})}logViewChange(e,t){this._logDirectoryFilterChange(e,t,c.CHANNEL_DIRECTORY_IMP_REASON.PILL_SELECTION)}logRegionChange(e,t){this._logDirectoryFilterChange(e,t,c.CHANNEL_DIRECTORY_IMP_REASON.COUNTRY_SELECTION)}_logDirectoryFilterChange(e,t,a){this.searchMode||this.logV2Event({action:d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_IMP,pillSelected:m(e),countrySelector:t,impReason:a})}logSortAction(e){const t=h(e);this.logEvent({action:t})}_logNewsletterRowAction(e,t,a){try{this.logEvent({action:e,channelIndex:a,cid:(0,p.toNewsletterWid)(t).user})}catch(e){__LOG__(3)`[NewsletterDirectoryFunnelLogging] Could not log row actions: ${e}`}}logNavigateToNewsletterFromRow(e,t){this._logNewsletterRowAction(d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_NAVIGATE_TO_CHANNEL,e,t)}logNewsletterFollow(e,t){this._logNewsletterRowAction(d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_FOLLOW_TAP,e,t)}logNewsletterUnfollow(e,t){this._logNewsletterRowAction(d.CHANNEL_DIRECTORY_ACTION.DIRECTORY_UNFOLLOW_TAP,e,t)}logEvent(e){(0,u.isNewsletterDirectoryLoggingEnabled)()&&(this._logDirectoryFunnelEvent((0,r.default)({sessionId:this.sessionId,eventSequence:this.eventSequence,searchMode:this.searchMode},e)),this._incrementEventSequence())}logV2Event(e){var t;(0,u.isNewsletterDirectoryV2LoggingEnabled)()&&(this._logDirectoryFunnelEvent((0,r.default)({sessionId:this.sessionId,eventSequence:this.eventSequence,searchMode:this.searchMode,countrySelector:null==e.countrySelector?void 0:(t=e.countrySelector,""===t?"Global":t)},e)),this._incrementEventSequence())}_logDirectoryFunnelEvent(e){let{sessionId:t,eventSequence:a,action:n,channelIndex:r,cid:l,searchMode:o,entryPoint:s,pillSelected:u,countrySelector:d,impReason:c}=e;new i.ChannelDirectoryWamEvent({channelDirectorySessionId:t,channelDirectoryActionSequenceNumber:a,channelDirectoryAction:n,channelDirectoryEntryPoint:s,cid:l,searchMode:o,channelIndex:r,pillSelected:u,countrySelector:d,impReason:c}).commit()}}},337946:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logNewsletterInboxSearchEvent=function(e){if(!(0,n.isNewsletterInboxSearchLoggingEnabled)())return;new r.UpdatesTabSearchWamEvent(e).commit()};var n=a(73225),r=a(926377)},899341:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterChatCell=v,t.NewsletterDirectoryCell=E;var r=a(700071),i=a(949359),l=a(23641),o=a(81644),s=a(21645),u=a(567049),d=a(914815),c=a(60249),f=a(219753),p=a(873298),h=a(548360),m=n(a(667294)),g=n(a(928361)),y=a(655241);function v(e){let{active:t,firstCellInList:a,heightStyle:n,newsletter:i,onSelect:l,searchQuery:s}=e;const[u,c]=(0,g.default)(t,`newsletter-local-${i.id.toString()}`),f=h.fbt._("{newsletter-name} Channel",[h.fbt._param("newsletter-name",i.formattedTitle)],{hk:"3uOLrU"}),p=e=>{e.preventDefault(),(0,d.openNewsletterChat)({newsletter:i,onSelect:l})};return m.default.createElement(o.HotKeys,{ref:u,handlers:{enter:p,space:p},"aria-label":f.toString(),role:"button"},m.default.createElement(r.Chat,{onClick:p,chat:i,searchQuery:s,forceActive:c,theme:"newsletter-cell",firstCellInList:a,noContext:!0,doNotBoldUnread:!0,hideArchivedIcon:!0,heightStyle:n,showNewsletterCheckmark:!1}))}function E(e){const{newsletter:t,onSelect:a,chatEntryPoint:n,index:r,directoryFunnelLogger:d}=e,[h,v]=(0,g.default)(e.active,`newsletter-${e.newsletter.id.toString()}`),E=(0,y.useOptionalModelValues)(t.newsletterMetadata,["name","size","inviteCode","isPreview"]);if(null==E)return null;const C=()=>{d.logNavigateToNewsletterFromRow(t.id,r),null==a||a(),(0,c.openNewsletterPreviewChat)(E.inviteCode,n)};return m.default.createElement(o.HotKeys,{ref:h,role:"button",handlers:{enter:C,space:C}},m.default.createElement(f.WDSCell,{active:v,onClick:C,colorScheme:"default",size:"large",border:!0===e.bottomItem?null:"bottom-partial",primary:m.default.createElement(p.WDSTextTitle,null,m.default.createElement(s.Name,{chat:t,ellipsify:!0,highlightText:e.highlightText})),secondary:m.default.createElement(p.WDSTextMuted,null,(0,i.getNewsletterFollowersText)(E.size)),detailLeft:m.default.createElement(l.DetailImage,{id:t.id,size:l.DetailImageSize.Small,quality:l.DetailImageQuality.Low,showOutline:!0}),detailRight:m.default.createElement(u.NewsletterFollowUnfollowButton,{iconSize:24,newsletter:t,newsletterIndexInDirectory:r,directoryFunnelLogger:d})}))}v.displayName="NewsletterChatCell",E.displayName="NewsletterDirectoryCell"},85517:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryDrawer=void 0;var r=a(949359),i=a(937069),l=n(a(908081)),o=n(a(324093)),s=a(626194),u=n(a(969358)),d=a(811720),c=n(a(395767)),f=a(387207),p=a(512938),h=n(a(570834)),m=n(a(335540)),g=a(914368),y=a(81644),v=a(936327),E=a(526795),C=n(a(99398)),b=a(509169),_=a(899341),w=a(835890),S=a(889534),k=a(600815),M=n(a(509856)),P=a(772787),T=a(73225),O=a(745170),x=n(a(237889)),I=a(931109),L=a(454905),D=a(676345),R=a(459857),A=a(460416),N=a(548360),j=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=V(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),F=n(a(156720)),B=n(a(261716)),W=n(a(524578)),H=n(a(637660)),z=a(688601),U=n(a(28825));function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(V=function(e){return e?a:t})(e)}const q={hotKeys:{height:"ppled2lx"},searchContainer:{height:"brqbuz94"},filtersContainer:{borderBottomColor:"mj87wc59",borderBottomStyle:"cmcp1to6",borderBottomWidth:"oteuebma"},drawer:{backgroundColor:"se2m7z6i"}};function G(){const{height:e}=(0,U.default)(),t=Math.floor(e/73)-2;return j.default.createElement(M.default,{count:t})}function Y(e){let{errorText:t,onRetry:a}=e;return j.default.createElement(d.EmptyErrorStateWithButton,{center:!1,text:t,testid:"directory-newsletter-error",xstyle:D.uiMargin.vert20,onClick:a})}function K(e){let{data:t,onSelect:a,selectionRef:n}=e;return j.default.createElement(u.default,{shadow:!1,animation:!1},j.default.createElement(_.NewsletterDirectoryCell,{active:n,newsletter:t.newsletter,onSelect:()=>a(t),chatEntryPoint:t.chatEntryPoint,index:t.index,directoryFunnelLogger:t.directoryFunnelLogger}))}G.displayName="DirectorySearch",Y.displayName="DirectoryLoadError",K.displayName="NewsletterDirectoryListItem";const X=(0,p.FlatListFactory)(),Z=(0,j.forwardRef)(((e,t)=>{const a=(0,j.useRef)(),n=(0,H.default)((()=>new h.default)),p=(0,j.useRef)(),_=(0,H.default)((()=>new x.default([],(e=>e.itemKey)))),[M,U]=(0,j.useState)(i.NewsletterDirectorySortField.Subscribers),V=(0,j.useRef)(0),Z=(0,j.useRef)(!1),[Q,J]=(0,j.useState)(i.NewsletterDirectorySortOrder.Descending),[$,ee]=(0,j.useState)((0,v.getCountryCodeIso)((0,R.getMeUser)().user)),[te,ae]=(0,B.default)((0,T.getNewsletterDirectorySearchDebounce)()),ne=(0,W.default)(C.default,"change:online",(()=>!C.default.online)),re=(0,j.useRef)(new S.NewsletterDirectoryFunnelLogger),ie=(0,T.getNewsletterDirectoryV2FilterTypes)(),[le,oe]=(0,j.useState)(P.NewsletterDirectoryListView.Recommended),se=(0,j.useRef)(),ue=(0,c.default)("Search"),de=(0,j.useCallback)((()=>{a.current&&m.default.focus(a.current)}),[a]),[ce,fe,pe,he,me,ge,ye,ve]=(0,z.useNewsletterDirectoryResults)({countryCode:$,sortField:M,sortOrder:Q,searchText:te,listView:le,newsletterDirectoryFunnelLogger:re.current}),Ee=(0,j.useCallback)((()=>{re.current.logSearchTap()}),[]),Ce=(0,j.useCallback)((()=>n.current.setScrollFromStart(0)),[n]);(0,j.useEffect)((()=>{pe(),Ce()}),[pe,Ce]),(0,j.useEffect)((()=>{0===_.current.list.length&&_.current.init(ce)}),[_,ce]),(0,j.useEffect)((()=>{de()}),[de]),(0,j.useEffect)((()=>{ce.length&&!1===Z.current&&(n.current.setScrollFromStart(0),Z.current=!0)}),[ce,n,e]),(0,j.useEffect)((()=>{const t=re.current;return t.logDirectoryOpen(e.entryPoint,le,$),b.NewsletterCoreEventLogger.setDirectoryFilter((0,i.getNewsletterDirectoryFilterFromListView)(le)),()=>{b.NewsletterCoreEventLogger.setDirectorySessionId(null),b.NewsletterCoreEventLogger.setDirectoryFilter(null),t.logDirectoryClose()}}),[]);const be=(0,j.useCallback)(((e,t)=>{U(e),J(t)}),[]),_e=()=>{if(p.current){const t=_.current.value;if(null==t)return;const a=ce.findIndex((e=>e.itemKey===t.itemKey));var e;if(-1!==a)null===(e=p.current)||void 0===e||e.scrollIntoViewIfNeeded(a,100)}},we=e=>{_.current.setVal(e)},Se=(0,j.useCallback)((e=>{oe(e),b.NewsletterCoreEventLogger.setDirectoryFilter((0,i.getNewsletterDirectoryFilterFromListView)(e)),re.current.logViewChange(e,$)}),[$]),ke=(0,j.useCallback)((e=>{ee(e),re.current.logRegionChange(le,e)}),[le]),Me=(0,T.isNewsletterDirectoryV2Enabled)()?null:j.default.createElement(E.MenuBarItem,{tabOrder:I.TAB_ORDER.NEWSLETTER_TAB_HEADER,testid:"find-newsletters-dropdown-button",icon:j.default.createElement(f.FilterIcon,null),title:N.fbt._("Menu",null,{hk:"2xaXZl"})},j.default.createElement(k.NewsletterDirectoryMenuDropdown,{selectedSortField:M,onSortFieldChange:be,directoryFunnelLogger:re.current})),Pe=j.default.createElement(u.default,{shadow:!1,animation:!1,theme:"list-section",xstyle:q.searchContainer},j.default.createElement(O.DrawerSearchInput,{searchInputA11yLabel:ue,placeholder:ue,onSearch:ae,loading:ge,focusOnMount:!1,onFocus:Ee})),Te=(0,T.isNewsletterDirectoryV2Enabled)()?j.default.createElement(u.default,{shadow:!1,animation:!1,theme:"list-section",xstyle:q.filtersContainer},j.default.createElement(w.NewsletterDirectoryFilters,{xstyle:[D.uiPadding.horiz16,D.uiPadding.top2,D.uiPadding.bottom8],filters:ie,selectedView:le,selectedCountry:$,onViewSelect:Se,onRegionSelect:ke})):null,Oe=j.default.createElement(j.default.Fragment,null,Pe,Te);let xe;return xe=ne?j.default.createElement(Y,{errorText:(0,r.getNoInternetConnectionText)(),onRetry:pe}):ye?j.default.createElement(Y,{errorText:N.fbt._("WhatsApp can't search for channels right now. Please try again later",null,{hk:"1r8um1"}),onRetry:()=>ve(!1)}):ce.length>0?j.default.createElement(X,{ref:p,data:ce,renderItem:e=>j.default.createElement(K,{data:e,selectionRef:_.current,onSelect:we}),flatListController:n.current,direction:"vertical",role:"navigation","aria-label":N.fbt._("Channel List",null,{hk:"MgvLU"}).toString()}):j.default.createElement(d.NoSearchResults,{testid:"newsletter-directory-no-results",xstyle:D.uiMargin.top20,center:!1}),j.default.createElement(y.HotKeys,{ref:a,handlers:{down:e=>{if(0===ce.length)return;null==e||e.preventDefault(),null==e||e.stopPropagation();const t=_.current.next();_.current.index!==t&&(_.current.setNext(!0),_e())},up:e=>{if(0===ce.length)return;null==e||e.preventDefault(),null==e||e.stopPropagation();_.current.prev()>-1&&(_.current.setPrev(!0),_e())}},className:(0,F.default)(q.hotKeys),"aria-label":N.fbt._("Find channels drawer",null,{hk:"3wqW3J"})},j.default.createElement(l.default,{tsNavigationData:(0,T.isNewsletterTSLEnabled)()?{surface:"channel-directory-home",extras:{threadType:A.THREAD_TYPE.CHANNEL}}:void 0,ref:t,xstyle:q.drawer,testid:"find-newsletter-drawer"},j.default.createElement(s.DrawerHeader,{title:(0,r.getFindNewslettersText)(),type:(0,L.topMenuRedesignEnabled)()?s.DRAWER_HEADER_TYPE.SMALL:s.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,children:Me}),Oe,j.default.createElement(o.default,{flatListControllers:[n.current],onScroll:e=>{var t;(V.current=e.currentTarget.scrollTop,null!=se.current)&&((t=se.current).scrollTop+g.SCROLL_FUDGE>=t.scrollHeight-t.clientHeight&&fe()&&he())},ref:se},ge?j.default.createElement(G,null):xe)))}));t.NewsletterDirectoryDrawer=Z,Z.displayName="NewsletterDirectoryDrawer"},835890:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryFilters=d;var r=a(949359),i=a(937069),l=a(690495),o=a(990276),s=a(488311),u=n(a(667294));function d(e){let{filters:t,onRegionSelect:a,onViewSelect:n,selectedCountry:d,selectedView:c,xstyle:f}=e;const p=(0,i.getNewsletterDirectoryFilterFromListView)(c),h=t.map(((e,t)=>{const l=`filter-${t}`;return e!==i.NewsletterDirectoryFilterType.Country?u.default.createElement(o.ListFilterButton,{key:l,label:(0,r.getNewsletterDirectoryFilterLabel)(e),selected:e===p,onClick:()=>{(e=>{const t=(0,i.getNewsletterDirectoryListViewFromFilter)(e);n(t)})(e)}}):u.default.createElement(s.NewsletterDirectoryRegionSelector,{key:l,selectedCountry:d,onSelectCountry:a})}));return u.default.createElement(l.FlexRow,{shrink:0,wrap:"wrap",rowGap:8,columnGap:8,xstyle:f},h)}d.displayName="NewsletterDirectoryFilters"},488311:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryRegionSelector=O;var r=n(a(348926)),i=a(34730),l=a(937337),o=a(974496),s=a(537469),u=a(811720),d=a(81644),c=a(936327),f=a(990276),p=a(114850),h=a(417696),m=a(695431),g=n(a(237889)),y=a(459857),v=a(219753),E=a(873298),C=n(a(286816)),b=a(548360),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),w=n(a(928361)),S=n(a(261716)),k=n(a(637660));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}const P=(0,h.ListModalFactory)();function T(){return(T=(0,r.default)((function*(){const e=yield(0,s.getCountries)({filter:s.COUNTRY_FILTER_TYPE.WHATSAPP_REGISTRATION});(0,o.isInternalUser)()&&e.unshift(["",C.default._("Global",null,{hk:"1YsP9l"}),void 0,void 0]);return{map:new Map(e),list:e.map((e=>{let[t,a]=e;return{code:t,name:a}}))}}))).apply(this,arguments)}function O(e){var t;let{onSelectCountry:a,selectedCountry:n}=e;const r=(0,c.getCountryCodeIso)((0,y.getMeUser)().user),[o,s]=(0,_.useState)({map:new Map,list:[]});(0,_.useEffect)((()=>{(function(){return T.apply(this,arguments)})().then(s).catch((e=>{__LOG__(4,!0,new Error)`[newsletter-directory-region-selector] Could not load country filter list: ${e}`}))}),[]);const{list:u,map:d}=o;return u.length>0?_.default.createElement(f.ListFilterButton,{label:null!==(t=d.get(n))&&void 0!==t?t:"",selected:r!==n,onClick:()=>{p.ModalManager.open(_.default.createElement(I,{countryList:u,selectedCountryCode:n,onSelect:e=>{let{code:t}=e;a(t)}}))},startIcon:_.default.createElement(i.BusinessWebsiteIcon,{width:16,height:16}),endIcon:_.default.createElement(l.CaretDownIcon,null)}):null}function x(e){let{active:t,country:a,onClick:n,selected:r}=e;const[i,l]=(0,w.default)(t,a.code),o=()=>{n(a)};return _.default.createElement(d.HotKeys,{ref:i,handlers:{enter:o,space:o},role:"button"},_.default.createElement(v.WDSCell,{active:l,onClick:o,colorScheme:"default",size:"large",border:"bottom-partial",primary:_.default.createElement(E.WDSTextTitle,null,a.name),detailLeft:_.default.createElement(m.Radio,{name:"region",checked:r,value:a.code,onChange:()=>{}})}))}function I(e){let{countryList:t,onSelect:a,selectedCountryCode:n}=e;const r=(0,k.default)((()=>new g.default([],(e=>e.itemKey)))),[i,l]=(0,S.default)(),o=(0,_.useMemo)((()=>{const e=t.filter((e=>{let{code:t,name:a}=e;if(""===i.trim())return!0;const n=i.toLowerCase();return t.toLowerCase()===n||a.toString().toLowerCase().startsWith(n)}));let a=-1;const l=e.map(((e,t)=>(e.code===n&&(a=t),{country:e,selected:e.code===n,itemKey:e.code.toString()})));return r.current.init(l),r.current.set(a,!0),l}),[t,i]),s=()=>{p.ModalManager.close()},d=e=>{a(e),s()};return _.default.createElement(P,{isNewsletter:!0,title:b.fbt._("Region",null,{hk:"ZyDcm"}),data:o,renderItem:e=>{let{country:t,selected:a}=e;return _.default.createElement(x,{country:t,selected:a,onClick:d,active:r.current})},onCancel:s,onSearch:l,emptyState:_.default.createElement(u.NoSearchResults,{testid:"newsletter-region-selector-no-results",center:!1}),selection:r.current,scrollToInitialSelection:!0})}O.displayName="NewsletterDirectoryRegionSelector",x.displayName="CountryListItem",I.displayName="RegionSelectorModal"},830803:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterFailedBootstrap=f;var r=a(612462),i=n(a(395767)),l=a(690495),o=a(676345),s=a(617425),u=a(873298),d=a(548360),c=n(a(667294));function f(){return c.default.createElement(l.FlexContainer,{direction:"vertical",align:"center",justify:"center",xstyle:o.marginTop32},c.default.createElement(u.WDSTextTitle,{marginBottom:16},d.fbt._("Channels couldn't load. Please try again later.",null,{hk:"2v9uUk"})),c.default.createElement(s.WDSButtonPrimary,{onClick:()=>(0,r.bootstrapNewsletterBackend)()},(0,i.default)("Try again")))}f.displayName="NewsletterFailedBootstrap"},567049:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterFollowUnfollowButton=y;var r=a(603869),i=a(114850),l=a(751460),o=a(405473),s=a(970910),u=a(956113),d=a(220584),c=a(106645),f=n(a(625903)),p=a(874806),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=a(655241);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function y(e){let{directoryFunnelLogger:t,iconSize:a,newsletter:n,newsletterIndexInDirectory:g}=e;const[y,v]=(0,h.useState)(!1),E=(0,m.useOptionalModelValues)(n.newsletterMetadata,["isPreview","membershipType"]);if(null==E)return null;if((0,l.iAmOwner)(E)||(0,l.iAmAdmin)(E))return null;if(y)return h.default.createElement(u.Spinner,{size:a,stroke:6,color:"highlight"});const C=E.isPreview?s.PlusLargeIcon:r.CheckmarkIcon;return h.default.createElement(f.default,{onClick:e=>{if(e.stopPropagation(),v(!0),E.isPreview){(0,o.subscribeToDirectoryNewsletter)(n,{eventSurface:t.searchMode?p.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY_SEARCH:p.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY}).finally((()=>{v(!1),t.logNewsletterFollow(n.id,g)}))}else i.ModalManager.open(h.default.createElement(c.UnfollowNewsletterConfirmationModal,{chat:n,eventSurface:t.searchMode?p.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY_SEARCH:p.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY})),v(!1),t.logNewsletterUnfollow(n.id,g)}},h.default.createElement(C,{width:a,height:a,color:d.SvgColorProp.TEAL_LIGHTER}))}y.displayName="NewsletterFollowUnfollowButton"},88136:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterInboxEmptyUnreadSection=x,t.NewsletterInboxSearch=void 0,t.NewsletterInboxSearchFooter=O;var r=a(409623),i=a(927531),l=a(949359),o=n(a(969358)),s=a(811720),u=n(a(395767)),d=a(690495),c=a(81644),f=a(990276),p=a(73225),h=a(337946),m=a(751460),g=a(914815),y=a(676345),v=n(a(625903)),E=a(320390),C=a(243146),b=a(873298),_=a(548360),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),S=n(a(156720));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}const M={searchContainer:{borderBottomColor:"mj87wc59",borderBottomStyle:"cmcp1to6",borderBottomWidth:"oteuebma"},inboxFilters:{position:"g0rxnol2",boxSizing:"cm280p3y",backgroundColor:"p51fsnpc"},emptyUnreadResult:{maxHeight:"mwp4sxku",boxSizing:"i5fuacyd"},searchFooterText:{lineHeight:"a4ywakfo",fontSize:"f8jlpxt4",color:"i8b0kslj"},semiBold:{fontWeight:"hnx8ox4h"},searchFooter:{textAlign:"qfejxiq4",boxSizing:"cm280p3y",borderTopColor:"cz500klw",borderTopStyle:"d1poss59",borderTopWidth:"gofg5ll1",minHeight:"pv1r9stl"}},P=w.default.forwardRef(T);function T(e,t){var a,n;let{filteredText:s,handleSearchChange:v,handleSelectNewsletter:E,listData:b,newsletters:_,searchQuery:S,selectedFilter:k,setSelectedFilter:P}=e;const[T,O]=(0,w.useState)(!1),x=(0,w.useRef)(),{followedChannelsCount:I,adminChannelsCount:L}=(e=>{const t={followedChannelsCount:0,adminChannelsCount:0};return e.forEach((e=>{(0,m.iAmSubscriber)(e.newsletterMetadata)?t.followedChannelsCount++:(0,m.iAmAdminOrOwner)(e.newsletterMetadata)&&t.adminChannelsCount++})),t})(_),D=(0,p.isNewsletterInboxFiltersEnabled)()?w.default.createElement(d.FlexRow,{shrink:0,wrap:"wrap",rowGap:8,columnGap:8,ref:x,style:{marginTop:T?-(null!==(a=null===(n=x.current)||void 0===n?void 0:n.clientHeight)&&void 0!==a?a:0)-8:0,transition:"margin-top 0.1s linear"},xstyle:[y.uiPadding.horiz12,y.uiMargin.bottom8,M.inboxFilters]},Array.from(i.NewsletterInboxFilterTypes.members()).map((e=>e===i.NewsletterInboxFilterTypes.MyChannels&&0===L?null:w.default.createElement(f.ListFilterButton,{key:e,label:(0,l.getChannelInboxFilterLabel)(e),onClick:()=>P(e),selected:k===e})))):null;return w.default.createElement(o.default,{shadow:!1,animation:!1,theme:"list-section",xstyle:M.searchContainer},w.default.createElement(c.HotKeys,{onBlur:()=>{""===s.trim()&&O(!1)}},w.default.createElement(r.ListSearch,{ref:t,placeholder:(0,u.default)("Search..."),onSearch:e=>{S.updateQuery(e),v(e)},borderBottom:!1,onEnter:e=>{const t=0===b.length?null:b[0];null!=t&&"NEWSLETTER_CHAT_CELL"===t.type&&(e.preventDefault(),(0,g.openNewsletterChat)({newsletter:t.newsletter,onSelect:E(t)}))},onSearchInputFocus:()=>{""===s.trim()&&(T||""===s.trim()&&(0,h.logNewsletterInboxSearchEvent)({updateTabSearchEventType:C.UPDATE_TAB_SEARCH_EVENT_TYPE.SEARCH_TAP,channelsFollowedCount:I,channelsAdminCount:L}),P(i.NewsletterInboxFilterTypes.All),O(!0))},onBackButton:()=>{O(!1)}})),D)}function O(e){let{onNewsletterDirectorySearch:t}=e;return w.default.createElement(d.FlexRow,{xstyle:[y.uiPadding.horiz8,y.uiPadding.vert16,M.searchFooter],justify:"center"},w.default.createElement("span",{className:(0,S.default)(M.searchFooterText)},_.fbt._("Don't see the channel that you're looking for? Find more in the {channels_directory}",[_.fbt._param("channels_directory",w.default.createElement(b.WDSClickableText,{color:"teal",xstyle:M.semiBold,onClick:()=>t(E.CHANNEL_DIRECTORY_ENTRY_POINT.UPDATES_TAB_SEARCH)},"channels directory"))],{hk:"1nFQX2"})))}function x(e){let{setSelectedFilter:t}=e;return w.default.createElement(s.Empty,{title:(0,l.getNoUnreadChannelsFoundText)(),xstyle:M.emptyUnreadResult},w.default.createElement(v.default,{onClick:()=>t(i.NewsletterInboxFilterTypes.All)},w.default.createElement(b.WDSTextSectionTitle,{color:"teal"},(0,l.getViewAllChannelsText)())))}t.NewsletterInboxSearch=P,T.displayName="NewsletterInboxSearch_withRef",O.displayName="NewsletterInboxSearchFooter",x.displayName="NewsletterInboxEmptyUnreadSection"},148281:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterTabFlow=_;var r=n(a(670983)),i=a(632157),l=a(900316),o=n(a(717821)),s=a(608637),u=n(a(358533)),d=a(85517),c=n(a(764635)),f=a(286832),p=a(246556),h=a(195627),m=a(803214),g=a(684259),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),v=n(a(524578)),E=a(839062),C=a(808446);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function _(e){const t=(0,y.useRef)(0),{onBack:a,initialStep:n=f.NewsletterTabFlowStep.NewsletterTab,adminFunnelLogger:b=new s.NewsletterAdminFunnelLogger(g.ADMIN_FLOW_TYPE.CREATION),directoryEntryPoint:_}=e,w=()=>{(0,m.setNewsletterTabLastSeenTimestamp)((0,i.unixTime)()),u.default.trigger("newsletter_tab_close"),null!=a?a():l.DrawerManager.closeDrawerLeft()},[S,k]=(0,E.useFlow)(n,{transitions:E.FlowTransitions.DrawerRight,onEnd:w}),M=(0,y.useRef)(_),P=(0,y.useRef)(b),T=function(){const[e,t]=(0,y.useState)(!1);return(0,C.useListeners)(u.default.toArray().filter((e=>null!=e.newsletterMetadata)).map((a=>({source:(0,r.default)(a.newsletterMetadata,"newsletter.newsletterMetadata"),eventOrEvents:"change:isSubscribedOrOwned",callback:()=>t(!e)})))),(0,C.useListeners)(u.default.toArray().map((a=>({source:(0,r.default)(a,"newsletter"),eventOrEvents:["change:previewMessage","change:derivedLastAddOnPreview","change:active"],callback:()=>t(!e)})))),(0,v.default)(u.default,["add","remove","reset","sort"],(()=>u.default.filter((e=>{var t;return null===(t=e.newsletterMetadata)||void 0===t?void 0:t.isSubscribedOrOwned}))),[e])}();if(null==k.step)return null;let O;switch(k.step){case f.NewsletterTabFlowStep.NewsletterTab:O=y.default.createElement(c.default,{newsletters:T,onBack:w,initialScrollTop:t.current,setScrollTop:e=>{t.current=e},onCreateNewsletter:()=>{(0,p.openNewsletterCreationFlow)({tosAcceptCallback:e=>{k.push(f.NewsletterTabFlowStep.CreateNewsletter),P.current=e}})},onNewsletterDirectorySearch:e=>{(0,h.openNewsletterDirectory)({tosAcceptCallback:()=>{M.current=e,k.push(f.NewsletterTabFlowStep.NewsletterDirectory)}})}});break;case f.NewsletterTabFlowStep.CreateNewsletter:O=y.default.createElement(o.default,{onBack:()=>k.pop(),adminFunnelLogger:P.current});break;case f.NewsletterTabFlowStep.NewsletterDirectory:O=y.default.createElement(d.NewsletterDirectoryDrawer,{entryPoint:M.current,onBack:()=>k.pop()})}return y.default.createElement(S,{flow:k},O)}_.displayName="NewsletterTabFlow"},458196:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendedNewsletterBlock=function(e){let{onNewsletterDirectorySearch:t,newsletters:a,isLoading:l}=e;const o=(0,i.useCallback)((()=>{t(r.CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_BUTTON)}),[t]);return i.default.createElement(n.NewsletterRecommendedBlockUnit,{isLoading:l,newsletters:a,onSeeAllClick:o})};var n=a(689806),r=a(320390),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}},857149:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDrawerListItem=function(e){let{data:t,selectionRef:a,onSelect:n,onNewsletterDirectorySearch:p,bottomDirectoryIndex:g,firstCellInList:y,searchQuery:v}=e;const E=(0,c.useCallback)((()=>{n(t)}),[n,t]);switch(t.type){case m.NEWSLETTER_CHAT_CELL:return c.default.createElement(r.default,{shadow:!1,animation:!1},c.default.createElement(o.NewsletterChatCell,{searchQuery:v,newsletter:t.newsletter,heightStyle:t.heightStyle,active:a,onSelect:E,firstCellInList:y}));case m.NEWSLETTER_DIRECTORY_CELL:return c.default.createElement(r.default,{shadow:!1,animation:!1},c.default.createElement(o.NewsletterDirectoryCell,{active:a,newsletter:t.newsletter,onSelect:E,chatEntryPoint:t.chatEntryPoint,index:t.index,highlightText:v.query,directoryFunnelLogger:t.directoryFunnelLogger,bottomItem:t.index===g}));case m.NEWSLETTER_CELL_HEADER:{const e=c.default.createElement("div",{className:(0,f.default)(h.header)},c.default.createElement(u.default,{header:t.title}));return t.hasTopBorder?c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:(0,f.default)(h.myChannelsFooter,d.uiMargin.horiz13)}),e):e}case m.MY_NEWSLETTERS_FOOTER:return c.default.createElement(l.FlexRow,{xstyle:[h.myChannelsFooter,d.uiMargin.horiz13]});case m.SEARCH_FOOTER:return c.default.createElement(s.NewsletterInboxSearchFooter,{onNewsletterDirectorySearch:p});case m.NEWSLETTER_DIRECTORY_NO_RESULTS:return c.default.createElement(i.NoSearchResults,{center:!0});case m.NEWSLETTER_EMPTY_UNREAD:return c.default.createElement(s.NewsletterInboxEmptyUnreadSection,{setSelectedFilter:t.setSelectedFilter});default:t.type}},t.TabCellDataType=void 0;var r=n(a(969358)),i=a(811720),l=a(690495),o=a(899341),s=a(88136),u=n(a(772549)),d=a(676345),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),f=n(a(156720));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const h={myChannelsFooter:{borderTopColor:"cz500klw",borderTopStyle:"d1poss59",borderTopWidth:"gofg5ll1",height:"kanlod6e"},header:{height:"bsih0in0",overflowX:"gfz4du6o",overflowY:"r7fjleex"}},m={NEWSLETTER_CHAT_CELL:"NEWSLETTER_CHAT_CELL",NEWSLETTER_DIRECTORY_CELL:"NEWSLETTER_DIRECTORY_CELL",NEWSLETTER_DIRECTORY_NO_RESULTS:"NEWSLETTER_DIRECTORY_NO_RESULTS",NEWSLETTER_CELL_HEADER:"NEWSLETTER_CELL_HEADER",MY_NEWSLETTERS_FOOTER:"MY_NEWSLETTERS_FOOTER",SEARCH_FOOTER:"SEARCH_FOOTER",NEWSLETTER_EMPTY_UNREAD:"NEWSLETTER_EMPTY_UNREAD"};t.TabCellDataType=m},764635:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(908081)),i=a(626194),l=a(81644),o=a(526795),s=a(830803),u=a(73225),d=a(415432),c=a(67674),f=a(887842),p=a(533393),h=a(970910),m=a(931109),g=a(454905),y=a(548360),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),E=(n(a(156720)),a(655241));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const b={drawer:{backgroundColor:"ihvf49ua"}},_=(0,v.forwardRef)(((e,t)=>{const{stage:a}=(0,E.useModelValues)(d.NewsletterLoadingStageManager,["stage"]),n=((0,u.isNewsletterCreationEnabled)()||(0,u.isNewsletterDirectoryEnabled)())&&v.default.createElement(o.MenuBarItem,{tabOrder:m.TAB_ORDER.NEWSLETTER_TAB_HEADER,testid:"newsletter-tab-dropdown-button",icon:v.default.createElement(h.PlusLargeIcon,null),title:y.fbt._("Menu",null,{hk:"2xaXZl"})},v.default.createElement(p.NewsletterTabMenuDropdown,{onCreateNewsletter:e.onCreateNewsletter,onNewsletterDirectorySearch:e.onNewsletterDirectorySearch}));let C=null;switch(a){case d.NewsletterLoadingStage.Failed:C=v.default.createElement(s.NewsletterFailedBootstrap,null);break;case d.NewsletterLoadingStage.Loading:C=v.default.createElement(f.LoadingTab,{newsletterCount:e.newsletters.length});break;case d.NewsletterLoadingStage.None:case d.NewsletterLoadingStage.Finished:C=v.default.createElement(c.NewsletterTabDrawerContent,{initialScrollTop:e.initialScrollTop,newsletters:e.newsletters,setScrollTop:e.setScrollTop,onNewsletterDirectorySearch:e.onNewsletterDirectorySearch})}return v.default.createElement(l.HotKeys,{"aria-label":y.fbt._("Channel Tab Drawer",null,{hk:"2Zi5QB"})},v.default.createElement(r.default,{ref:t,xstyle:b.drawer,testid:"newsletter-drawer",tsNavigationData:(0,u.isNewsletterTSLEnabled)()?{surface:"channel-updates-home"}:void 0},v.default.createElement(i.DrawerHeader,{title:y.fbt._("Channels",null,{hk:"2btjT0"}),type:(0,g.topMenuRedesignEnabled)()?i.DRAWER_HEADER_TYPE.TAB:i.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,children:n}),C))}));_.displayName="NewsletterTabDrawer";var w=_;t.default=w},67674:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterTabDrawerContent=H;var r=a(668231),i=a(927531),l=a(949359),o=a(937069),s=a(512938),u=n(a(964223)),d=n(a(570834)),c=n(a(335540)),f=a(81644),p=a(936327),h=a(521425),m=n(a(358533)),g=a(889534),y=a(772787),v=a(857149),E=a(73225),C=a(88136),b=a(337946),_=a(692418),w=a(170261),S=a(458196),k=n(a(237889)),M=a(676345),P=a(459857),T=a(243146),O=a(548360),x=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=F(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),I=n(a(156720)),L=n(a(261716)),D=n(a(637660)),R=a(688601),A=a(441625),N=a(862154),j=n(a(28825));function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(F=function(e){return e?a:t})(e)}const B=(0,s.FlatListFactory)(),W={container:{height:"ppled2lx",display:"p357zi0d",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"r7fjleex"},flatListContainer:{display:"p357zi0d",flexDirection:"f8m0rgwh",height:"ppled2lx",overflowY:"ag5g9lrv"},flatList:{overflowAnchor:"exyrvlem"},recommendedUnitRow:{overflowAnchor:"awknuimu"}};function H(e){let{initialScrollTop:t,newsletters:a,onNewsletterDirectorySearch:n,setScrollTop:s}=e;const F=a.length<=0,[H,z]=(0,N.useRecommendedNewsletters)(),[U,V]=(0,x.useState)([]),q=(0,x.useRef)(),G=(0,x.useRef)(),Y=(0,x.useRef)(null!=t?t:0),K=(0,x.useRef)(null!=t?t:0),X=(0,x.useRef)(!1),Z=(0,x.useRef)(),Q=(0,x.useRef)(),J=(0,x.useRef)(new g.NewsletterDirectoryFunnelLogger),$=(0,D.default)((()=>new d.default)),ee=(0,D.default)((()=>new k.default([],(e=>e.itemKey)))),te=ee.current,{value:ae,list:ne}=te,re=(0,x.useMemo)((()=>U.filter((e=>e.type===v.TabCellDataType.NEWSLETTER_CHAT_CELL||e.type===v.TabCellDataType.NEWSLETTER_DIRECTORY_CELL))),[U]);0!==ne.length&&re===ne||(te.init(re),null!=ae&&te.setVal(ae));const[ie,le]=(0,x.useState)(i.NewsletterInboxFilterTypes.All),[oe,se]=(0,L.default)((0,E.getNewsletterDirectorySearchDebounce)()),ue=(0,x.useRef)(new r.SearchQuery),de=oe.trim(),[ce,fe,pe,he,me,ge]=(0,R.useNewsletterDirectoryResults)({searchText:de,countryCode:(0,p.getCountryCodeIso)((0,P.getMeUser)().user),listView:y.NewsletterDirectoryListView.Recommended,sortField:o.NewsletterDirectorySortField.Subscribers,sortOrder:o.NewsletterDirectorySortOrder.Descending,newsletterDirectoryFunnelLogger:J.current,filterSubscribedNewsletters:!0}),ye=(0,A.useNewsletterInboxSearch)({filteredText:de,selectedFilter:ie}),{width:ve}=(0,j.default)();(0,x.useEffect)((()=>{const e=Math.ceil(window.innerWidth/10),t=function(e){let{subscribedNewsletters:t,directoryNewsletters:a,loadingDirectory:n,selectedFilter:r,setSelectedFilter:o,screenWidth:s,trimmedSearchText:u}=e;const d=[];r===i.NewsletterInboxFilterTypes.Unread&&0===t.length&&d.push({type:v.TabCellDataType.NEWSLETTER_EMPTY_UNREAD,itemKey:"empty_unread_list",setSelectedFilter:o,height:200});const c=""!==u;c&&t.length>0&&d.push({type:v.TabCellDataType.NEWSLETTER_CELL_HEADER,itemKey:"followed_channels_search_header",title:(0,l.getFollowedChannelsSearchHeader)(),height:58,hasTopBorder:!1});t.forEach(((e,t)=>{const a=(0,h.getNewsletterCellHeight)(e,s);d.push({itemKey:`newsletter-local-${e.id.toString()}`,type:v.TabCellDataType.NEWSLETTER_CHAT_CELL,height:a,heightStyle:(0,h.newsletterCellHeightToHeightStyle)(a),newsletter:e,index:t,firstCellInList:0===t})})),c&&!n&&(a.length>0?(d.push({type:v.TabCellDataType.NEWSLETTER_CELL_HEADER,itemKey:"other_channels_search_header",title:(0,l.getOtherChannelsSearchHeader)(),height:58,hasTopBorder:!0}),d.push(...a)):0===t.length&&d.push({type:v.TabCellDataType.NEWSLETTER_DIRECTORY_NO_RESULTS,itemKey:"no_results_found",height:120}),d.push({itemKey:"search-footer",type:v.TabCellDataType.SEARCH_FOOTER}));r===i.NewsletterInboxFilterTypes.MyChannels&&""===u&&d.push({itemKey:"my-newsletters-footer",type:v.TabCellDataType.MY_NEWSLETTERS_FOOTER});return d}({subscribedNewsletters:ye(a),directoryNewsletters:ce,screenWidth:e,selectedFilter:ie,trimmedSearchText:de,setSelectedFilter:le,loadingDirectory:ge});V(t)}),[a,ve,ye,ie,ce,de,ge]);const Ee=(0,x.useCallback)((()=>{Z.current&&c.default.focus(Z.current)}),[Z]);(0,x.useEffect)((()=>{Ee()}),[Ee]),(0,x.useEffect)((()=>{(0,E.isNewsletterInboxSearchDirectoryIntegrationEnabled)()&&""!==de&&pe()}),[pe,de]),(0,x.useEffect)((()=>{var e,t;""!==de?null===(e=G.current)||void 0===e||e.scrollIntoViewIfNeeded(0):null===(t=$.current)||void 0===t||t.setScrollFromStart(K.current)}),[de,$]),(0,x.useEffect)((()=>{var e;if(null===(e=Q.current)||void 0===e?void 0:e.hasFocus())return;const t=m.default.getActive(),a=U.find((e=>e.type===v.TabCellDataType.NEWSLETTER_CHAT_CELL&&e.newsletter===t));null!=a&&ee.current.setVal(a)}),[U,ee]),(0,x.useEffect)((()=>(U.length&&!1===X.current&&($.current.setScrollFromStart(null!=t?t:0),X.current=!0),()=>null==s?void 0:s(Y.current))),[U.length,t,s,$]);const Ce=e=>{if(""!==de)switch(e.type){case v.TabCellDataType.NEWSLETTER_CHAT_CELL:(0,b.logNewsletterInboxSearchEvent)({updateTabSearchEventType:T.UPDATE_TAB_SEARCH_EVENT_TYPE.FOLLOWED_CHANNEL_TAP});break;case v.TabCellDataType.NEWSLETTER_DIRECTORY_CELL:(0,b.logNewsletterInboxSearchEvent)({updateTabSearchEventType:T.UPDATE_TAB_SEARCH_EVENT_TYPE.DIRECTORY_CHANNEL_TAP})}ee.current.setVal(e)},be=()=>{const e=q.current;null==e||F||e.scrollTo({top:e.scrollHeight})},_e=()=>{if(G.current){const t=ee.current.value;if(null==t)return;const a=U.findIndex((e=>e.itemKey===t.itemKey));var e;if(-1!==a)null===(e=G.current)||void 0===e||e.scrollIntoViewIfNeeded(a,100)}},we=!F&&(0,E.isNewsletterInboxSearchEnabled)()?x.default.createElement(C.NewsletterInboxSearch,{ref:Q,filteredText:de,handleSearchChange:se,handleSelectNewsletter:Ce,listData:U,newsletters:a,selectedFilter:ie,setSelectedFilter:le,searchQuery:ue.current}):null,Se=""===de&&!F&&ie!==i.NewsletterInboxFilterTypes.MyChannels&&(z.length>0||H);return x.default.createElement(f.HotKeys,{ref:Z,handlers:{down:e=>{if(0===a.length)return;null==e||e.preventDefault(),null==e||e.stopPropagation();const t=ee.current.next();ee.current.index!==t&&(ee.current.setNext(!0),_e())},up:e=>{if(0===a.length)return;null==e||e.preventDefault(),null==e||e.stopPropagation();ee.current.prev()>-1&&(ee.current.setPrev(!0),_e())}},className:(0,I.default)(W.container)},we,F&&x.default.createElement(S.RecommendedNewsletterBlock,{isLoading:H,onNewsletterDirectorySearch:n,newsletters:z}),x.default.createElement(u.default,{className:(0,I.default)(W.flatListContainer),ref:q,onScroll:e=>{Y.current=e.currentTarget.scrollTop,""===oe.trim()&&(K.current=e.currentTarget.scrollTop);const t=q.current;null!=t&&""!==de&&(0,E.isNewsletterInboxSearchDirectoryIntegrationEnabled)()&&(0,w.isScrollAtBottomOfList)(t)&&fe()&&he()},flatListControllers:[$.current]},x.default.createElement(B,{ref:G,data:U,className:(0,I.default)(W.flatList),flatListController:$.current,direction:"vertical",role:"navigation","aria-label":O.fbt._("Channel List",null,{hk:"MgvLU"}).toString(),renderItem:e=>x.default.createElement(v.NewsletterDrawerListItem,{data:e,selectionRef:ee.current,onRecommendedUnitFollow:be,onSelect:Ce,onNewsletterDirectorySearch:n,loading:H,bottomDirectoryIndex:ce.length-1,firstCellInList:e.type===v.TabCellDataType.NEWSLETTER_CHAT_CELL&&e.firstCellInList&&""!==de,searchQuery:ue.current})}),Se&&x.default.createElement(_.NewsletterRecommendedRowUnit,{isLoading:H,newsletters:z,onSeeAllClick:n,xstyle:[M.uiMargin.bottom13,W.recommendedUnitRow],afterFollow:be})))}H.displayName="NewsletterTabDrawerContent"},887842:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingTab=function(e){const{height:t}=(0,s.default)(),a=Math.floor(t/128);let n=e.newsletterCount>a?a:e.newsletterCount,u=o.default.createElement(i.default,{count:n});0===e.newsletterCount&&(n=Math.min(Math.floor(t/124)-2,3),u=o.default.createElement(l.NewsletterRecommendationsBlockShimmer,{count:n}));return o.default.createElement(r.default,{theme:"full-height"},u)};var r=n(a(969358)),i=n(a(204311)),l=a(766298),o=n(a(667294)),s=n(a(28825))},170261:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScrollAtBottomOfList=function(e){return e.scrollTop+n.SCROLL_FUDGE>=e.scrollHeight-e.clientHeight};var n=a(914368)},196815:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendedNewsletterBlockHeading=u;var r=a(81644),i=a(873298),l=a(548360),o=n(a(667294));n(a(156720));const s={headingContainer:{textAlign:"qfejxiq4"}};function u(){const e=o.default.createElement(i.WDSTextLarge,null,l.fbt._("Stay updated on your favourite topics",null,{hk:"VNKOw"})),t=o.default.createElement(i.WDSTextTitle,{margin:8,color:"secondary"},l.fbt._("Find channels to follow below",null,{hk:"Sa61H"}));return o.default.createElement(r.HotKeys,{xstyle:s.headingContainer},e,t)}u.displayName="RecommendedNewsletterBlockHeading"},689806:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterRecommendedBlockUnit=g;var r=a(338042),i=a(949359),l=a(690495),o=a(73225),s=a(196815),u=a(166892),d=a(676345),c=a(874806),f=a(617425),p=n(a(667294)),h=n(a(156720));const m={height:"knhv706o"};function g(e){let{isLoading:t,newsletters:a,onSeeAllClick:n}=e;const g=(0,o.isNewsletterDirectoryEnabled)()?p.default.createElement(f.WDSButtonPrimary,{testid:"find-newsletter-button",onClick:n},(0,i.getFindNewslettersText)()):null;return p.default.createElement("div",{className:(0,h.default)(m)},p.default.createElement("div",{className:(0,h.default)([d.uiMargin.top24,d.uiMargin.bottom20,d.uiMargin.horiz32])},p.default.createElement(s.RecommendedNewsletterBlockHeading,null)),p.default.createElement(l.FlexRow,{justify:"center"},p.default.createElement(l.FlexRow,{justify:"start",align:"start"},p.default.createElement(u.NewsletterRecommendedUnit,{eventSurface:c.CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME,chatEntryPoint:r.ChatEntryPoint.NewsLetterRecommendation,isLoading:t,newsletters:a,isFullUnit:!0}))),t?null:p.default.createElement(l.FlexRow,{justify:"center",align:"center",marginTop:24,marginBottom:20},g))}g.displayName="NewsletterRecommendedBlockUnit"},692418:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterRecommendedRowUnit=_;var r=a(338042),i=a(19869),l=a(820384),o=a(949359),s=a(690495),u=n(a(932325)),d=a(166892),c=a(220584),f=a(676345),p=n(a(625903)),h=a(320390),m=a(874806),g=a(873298),y=a(548360),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),E=n(a(156720));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const b={borderTopWidth:"gofg5ll1",borderTopStyle:"d1poss59",borderTopColor:"eo2nzah0"};function _(e){let{afterFollow:t,isLoading:a,newsletters:n,onSeeAllClick:i,xstyle:l}=e;return v.default.createElement("div",{className:(0,E.default)(l)},v.default.createElement("div",{className:(0,E.default)(b,f.uiMargin.horiz13,f.uiMargin.bottom24)}),v.default.createElement(s.FlexRow,{justify:"all",align:"center",xstyle:[f.uiMargin.bottom15,f.uiPadding.horiz13]},v.default.createElement(g.WDSTextTitle,null,(0,o.getFindNewslettersText)()),v.default.createElement(w,{onClick:i})),v.default.createElement("div",{className:(0,E.default)(f.uiMargin.start13)},v.default.createElement(d.NewsletterRecommendedUnit,{eventSurface:m.CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME,chatEntryPoint:r.ChatEntryPoint.NewsLetterRecommendation,isLoading:a,newsletters:n,isFullUnit:!1,afterFollow:t})))}function w(e){let{onClick:t}=e;const a=(0,v.useCallback)((()=>{t(h.CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_BUTTON)}),[t]),n=u.default.isRTL()?i.ChevronLeftIcon:l.ChevronRightIcon;return v.default.createElement(p.default,{onClick:a},v.default.createElement(s.FlexRow,{align:"center"},v.default.createElement(g.WDSTextSectionTitle,null,y.fbt._("See all",null,{hk:"4sHQwR"})),v.default.createElement(n,{height:24,width:24,color:c.SvgColorProp.TEAL})))}_.displayName="NewsletterRecommendedRowUnit",w.displayName="SeeAllButton"},272586:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.LastStatusStatus=function(e){const{msg:t}=e,{ack:a,t:n}=(0,f.useModelValues)(t,["ack","t"]);let h=d.default.createElement("span",null,i.Clock.relativeDateAndTimeStr(n));(0,o.isStatusPostingEnabled)()&&a===r.ACK.CLOCK&&(h=d.default.createElement("span",null,d.default.createElement(l.MsgTimeIcon,{xstyle:[p.statusAck,s.uiMargin.end2]}),u.fbt._("Sending...",null,{hk:"3mAGse"})));return d.default.createElement("span",{className:(0,c.default)(p.secondaryHeaderText,(0,o.isStatusDrawerEnabled)()&&p.secondaryText)},h)};var r=a(402994),i=a(63014),l=a(518679),o=a(115927),s=a(676345),u=a(548360),d=n(a(667294)),c=n(a(156720)),f=a(655241);const p={secondaryHeaderText:{fontSize:"f8jlpxt4",color:"kcq1et6t"},secondaryText:{color:"pm5hny62"},statusAck:{verticalAlign:"fewfhwl7",display:"l7jjieqr",color:"g97rt3p3"}}},988997:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(664149),i=a(675085),l=a(690495),o=a(685381),s=a(249486),u=a(114850),d=a(999042),c=n(a(761857)),f=a(676345),p=a(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(156720));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const y={option:{boxSizing:"cm280p3y",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"tviruh8d",cursor:"ajgl1lbb",whiteSpace:"le5p0ye3"},iconContainer:{width:"i94gqilv",fill:"cfhfab5z"},optionName:{fontSize:"f8jlpxt4",lineHeight:"pvbam5uh",display:"l7jjieqr"},textIcon:{width:"dh5rsm73"}};function v(e){let{children:t,icon:a,label:n,onClick:r,optionId:o}=e;return h.default.createElement(i.DropdownItem,{testid:o,key:o,action:r},h.default.createElement(l.FlexRow,{align:"center",className:(0,m.default)([f.uiPadding.vert8,f.uiPadding.end32,f.uiPadding.start24,y.option])},h.default.createElement("div",{className:(0,m.default)(y.iconContainer)},a),h.default.createElement("div",{className:(0,m.default)([f.uiMargin.start8,y.optionName])},n,t)))}function E(e,t){const a=(0,h.useRef)(),{type:n,dirX:i,dirY:l}=e;return h.default.createElement(r.Dropdown,{ref:t,type:n,flipOnRTL:!0,key:"StatusPostDropdown",dirY:l,dirX:i},h.default.createElement(v,{optionId:"option_media_posting",onClick:e=>(null==e||e.preventDefault(),null==a.current||(a.current.open(),!1)),label:p.fbt._("Photos & Videos",null,{hk:"1ZJlI1"}),icon:h.default.createElement(s.MediaMultipleIcon,null)},h.default.createElement(d.StatusPostMediaPicker,{mediaPickerRef:a})),h.default.createElement(v,{optionId:"option_text_posting",onClick:()=>{u.ModalManager.openMedia(h.default.createElement(c.default,null),{transition:"status-v3-modal"})},label:p.fbt._("Text",null,{hk:"1hK4O3"}),icon:h.default.createElement(o.MediaEditorDrawingIcon,{iconXstyle:y.textIcon})}))}v.displayName="PostOptionDropDownItem";var C=(0,h.forwardRef)(E);t.default=C},244324:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.WebStatusPostingMediaViewLoadable=void 0;var r=n(a(348926)),i=n(a(114945)),l=n(a(472514)),o=n(a(997026)),s=n(a(544142)),u=n(a(667294));const d=(0,o.default)((0,r.default)((function*(){const e=yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,180383));return(0,l.default)(e)})),"StatusPostingMediaView");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>u.default.createElement(s.default,{error:Boolean(e.error)})});t.WebStatusPostingMediaViewLoadable=c},999042:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusPostMediaPicker=function(e){const{mediaPickerRef:t}=e,a=new o.Chat({id:(0,p.createWid)(r.STATUS_JID)}),n=(0,m.default)(),g=()=>{null==n||n.requestDismiss()},y=[u.IMAGE_MIMES,u.VIDEO_MIMES].join(",");return h.default.createElement(s.default,{ref:t,mimes:y,onChange:e=>{var t;if(!e)return void g();e.stopPropagation();const n=Array.from(null!==(t=e.target.files)&&void 0!==t?t:[]);g(),n.length&&(e=>{let{attachments:t,onSend:n,onCancel:r}=e;a.attachMediaContents||a.setAttachMediaContents(new l.default({chatParticipantCount:a.getParticipantCount()}));const o=(0,i.default)(a.attachMediaContents,"chat.attachMediaContents");(()=>{const e=a.attachMediaContents;e?t&&t.length>0?e.processAttachments(t,f.MEDIA_PICKER_ORIGIN_TYPE.STATUS_TAB_CAMERA_PHOTO_LIBRARY,a):__LOG__(3)`StatusPostMediaPicker: receive empty attachments`:__LOG__(3)`StatusPostMediaPicker: attachMediaContents uninitialized`})();const s=h.default.createElement(c.WebStatusPostingMediaViewLoadable,{chat:a,onComplete:()=>{},onSend:n,onCancel:r,mediaCollection:o});d.ModalManager.openMedia(s,{transition:"status-v3-modal"})})({attachments:n.map((e=>({file:e}))),onSend:()=>{},onCancel:()=>{}})},multiple:!0})};var r=a(418987),i=n(a(670983)),l=n(a(788998)),o=a(79672),s=n(a(688988)),u=a(937484),d=a(114850),c=a(244324),f=a(169467),p=a(669050),h=n(a(667294)),m=n(a(321201))},180383:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(952543),l=a(780549),o=a(25878),s=a(114850),u=a(179268),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),c=n(a(156720));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx",willChange:"rigundgh",zIndex:"dzflfcgc",display:"p357zi0d"};function h(e){const{chat:t,mediaCollection:a,onComplete:n,onCancel:f,onSend:h}=e,m=()=>{t&&t.setAttachMediaContents(null)},g=function(){var e=(0,r.default)((function*(e){l.Cmd.once("ui_idle",(()=>{e.forEach((e=>{const a=e.media,n={};n.type=a.type,n.caption=a.caption,n.addEvenWhilePreparing=a.previewable&&a.state===i.ATTACH_MEDIA_STATE.PROCESSING,a.sendToChat(t,n)})),m()})),null==n||n(!0),null==h||h(),a.mediaPickerStatsLogger.logSend({isViewOnce:!1}),s.ModalManager.closeMedia()}));return function(){return e.apply(this,arguments)}}();return(0,u.prepareChatForMessageSending)(t),d.default.createElement("div",{className:(0,c.default)(p)},d.default.createElement(o.MediaEditor,{theme:o.MediaTheme.STATUS,chat:t,onClose:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&m(),null==n||n(!1),null==f||f(),a.mediaPickerStatsLogger.logCancel(),s.ModalManager.closeMedia()},initCaption:null,onSendMedia:g,mediaCollection:a,sendAsSticker:!1,onDropText:()=>{}}))}var m=(0,d.forwardRef)(h);t.default=m},761857:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=A;var r=a(418987),i=a(79672),l=n(a(659177)),o=a(84409),s=a(262337),u=a(690495),d=a(234200),c=a(526795),f=a(114850),p=a(640963),h=a(179268),m=a(533494),g=a(150610),y=a(858486),v=n(a(478163)),E=a(634401),C=a(113475),b=n(a(614839)),_=a(676345),w=a(669050),S=a(459192),k=a(548360),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),P=n(a(156720)),T=a(655241);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const x={container:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx",willChange:"rigundgh",backgroundColor:"iu4y6g9w",zIndex:"dzflfcgc",display:"p357zi0d"},textInputWrapper:{color:"lxozqee9",wordWrap:"b6f1x6w7",whiteSpace:"bbv8nyr4",maxHeight:"ibyb1pgl",flexGrow:"ggj6brxn"},input:{textAlign:"qfejxiq4"},inputText:{width:"ln8gz9je",fontSize:"kuk548i2"},sendWrapper:{backgroundColor:"s9lgn3x7",position:"lhggkp7q",bottom:"jxacihee",start:"tkdu00h0",height:"q8xcl7qa",display:"p357zi0d",alignItems:"gndfcl4n"},fullWidth:{width:"ln8gz9je"},optionWrapper:{position:"lhggkp7q",top:"bqmxb3s7",start:"tkdu00h0",height:"m3o1wsh7",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"kcgo1i74",boxSizing:"cm280p3y"},optionIconWrapper:{color:"lxozqee9"},fontIcon:{width:"ekdr8vow",height:"dhq51u3o",fontSize:"nhgg6f4l",textAlign:"qfejxiq4"},closeIcon:{position:"lhggkp7q",start:"guo0zu0m"},font_0:{},font_1:{fontFamily:"dq1s0tbz"},font_2:{fontFamily:"dof3c2ot"},textLarge:{fontSize:"efq66a5g",lineHeight:"imx83vnz",textAlign:"qfejxiq4"},textMedium:{fontSize:"ds12m5yo",lineHeight:"bdf91cm1",textAlign:"qfejxiq4"},textSmall:{fontSize:"enbbiyaj",lineHeight:"pfvztjrm",textAlign:"qfejxiq4"},placeholderText:{color:"tsjreo0q"}},I=new Map([[m.Message$ExtendedTextMessage$FontType.SYSTEM,x.font_0],[m.Message$ExtendedTextMessage$FontType.SYSTEM_TEXT,x.font_1],[m.Message$ExtendedTextMessage$FontType.FB_SCRIPT,x.font_2]]),L=[4289080433,4287670337,4290879551,4286128440,4289628020,4293964592,4290163495,4291207116,4287326608,4294937228,4283744869,4294933355,4280730844,4283943423,4285818730,4286484643,4283864831,4285408638,4286237605,4280563264,4286747850],D=()=>L[Math.floor(Math.random()*L.length)],R=e=>e<=60?s.EmojiSize.Large:e<=240?s.EmojiSize.Medium:s.EmojiSize.Small;function A(){const[e,t]=(0,M.useState)(m.Message$ExtendedTextMessage$FontType.SYSTEM),[a,n]=(0,M.useState)(D()),[s,O]=(0,M.useState)(!1),[L,A]=(0,M.useState)(""),N=(0,M.useRef)(),j=(0,M.useRef)(),F=(0,T.useModelValues)(l.default.getDefault(),["spellcheck","transformTextEmoji"]),B=new i.Chat({id:(0,w.createWid)(r.STATUS_JID)}),W=s&&N.current&&M.default.createElement(o.EmojiPanelPopup,{anchor:N.current,onSelect:e=>{const t=j.current;t&&(t.focus(),t.replaceSelection(e)),O(!1)},onClose:()=>{O(!1)}});return M.default.createElement("div",{className:(0,P.default)(x.container),style:{backgroundColor:(z=a,`rgba(${z>>16&255}, ${z>>8&255}, ${255&z}, ${z>>24&255})`)}},M.default.createElement("div",{className:(0,P.default)([x.optionWrapper,_.uiPadding.end18,x.fullWidth])},M.default.createElement(c.MenuBar,null,M.default.createElement(c.MenuBarItem,{ref:N,icon:M.default.createElement(d.MediaEditorEmojiIcon,{iconXstyle:x.optionIconWrapper}),testid:"emoji-button",title:k.fbt._("Emoji",null,{hk:"4deBNS"}),key:"emoji-button",onClick:()=>{O(!0)}}),M.default.createElement(c.MenuBarItem,{icon:M.default.createElement("span",{className:(0,P.default)([x.fontIcon,x.optionIconWrapper,I.get(e)])},"T"),testid:"font-button",title:k.fbt._("Font",null,{hk:"1RvSR"}),key:"font-button",onClick:()=>{var a;const n=I.keys();for(let t;(t=n.next())&&t.value!==e;null!=t);t(null!==(a=n.next().value)&&void 0!==a?a:m.Message$ExtendedTextMessage$FontType.SYSTEM)}}),M.default.createElement(c.MenuBarItem,{icon:M.default.createElement(p.PaletteIcon,{iconXstyle:x.optionIconWrapper}),testid:"palette-button",title:k.fbt._("Palette",null,{hk:"2vOUjX"}),key:"palette-button",onClick:()=>{n(D())}})),M.default.createElement("button",{className:(0,P.default)([x.optionIconWrapper,x.closeIcon]),onClick:()=>f.ModalManager.closeMedia()},M.default.createElement(S.XViewerIcon,null))),M.default.createElement("div",{className:(0,P.default)([_.uiMargin.allAuto,x.textInputWrapper,I.get(e),_.uiPadding.all12])},M.default.createElement(g.RichTextInput,{ref:j,xstyle:[_.uiMargin.vert6,x.input],textXstyle:[x.inputText,(H=L.length,H<=60?x.textLarge:H<=240?x.textMedium:x.textSmall)],placeholderTestXstyle:x.placeholderText,placeholder:k.fbt._("Type a status",null,{hk:"3PI7yY"}),onChange:e=>{A(e.text),(0,h.prepareChatForMessageSending)(B)},emojiSize:R(L.length),multiline:!0,focusOnMount:!0,textFormatEnabled:!0,linksEnabled:(0,y.improvedMessageComposerEnabled)(),textFormatShortcutsEnabled:(0,y.improvedMessageComposerEnabled)(),spellCheck:!(0,y.improvedMessageComposerEnabled)()||F.spellcheck,transformTextEmoji:!(0,y.improvedMessageComposerEnabled)()||F.transformTextEmoji})),M.default.createElement("div",{className:(0,P.default)([x.sendWrapper,x.fullWidth,_.uiPadding.vert16])},M.default.createElement(u.FlexRow,{align:"center",xstyle:[x.fullWidth,_.uiPadding.horiz28]},M.default.createElement(u.FlexItem,{grow:1},M.default.createElement(b.default,null)),M.default.createElement(u.FlexItem,null,M.default.createElement(v.default,{ariaLabel:k.fbt._("Send",null,{hk:"2tJdeW"}),large:!0,icon:M.default.createElement(E.SendIcon,{directional:!0}),onClick:()=>{f.ModalManager.closeMedia(),(0,C.sendStatusTextMsgAction)({text:L,color:a,font:e})}})))),W);var H,z}A.displayName="StatusV3TextPost"},614839:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(598334),i=a(114850),l=a(83369),o=a(865120),s=a(617425),u=a(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),c=(n(a(156720)),a(978703));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p={icon:{color:"r4n0aloe"}};function h(){const e=e=>(null==e?void 0:e.setting)===o.StatusPrivacySettingType.Contact?u.fbt._("(Contacts)",null,{hk:"BURso"}):(null==e?void 0:e.setting)===o.StatusPrivacySettingType.DenyList?u.fbt._("({excluded-contacts-count} excluded)",[u.fbt._param("excluded-contacts-count",null==e?void 0:e.denyList.length)],{hk:"Ntu3z"}):(null==e?void 0:e.setting)===o.StatusPrivacySettingType.AllowList?u.fbt._("({included-contacts-count} included)",[u.fbt._param("included-contacts-count",null==e?void 0:e.allowList.length)],{hk:"26rhei"}):void 0,{statusPostingPrivacyConfig:t,setStatusPostingPrivacyConfig:a}=(0,c.useWAWebStatusPrivacySettingConfig)(),[n,f]=(0,d.useState)(e(t));return(0,d.useEffect)((()=>{f(e(t))}),[t]),d.default.createElement(s.WDSButtonPlainWhite,{icon:r.E2EStatusV2Icon,iconXstyle:p.icon,onClick:()=>{i.ModalManager.open(d.default.createElement(l.StatusPrivacySettingsFlowLoadable,{statusPostingPrivacyConfig:t,setStatusPostingPrivacyConfig:a}))}},u.fbt._("Status",null,{hk:"2N089x"})," ",n)}var m=(0,d.forwardRef)(h);t.default=m},791692:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(900316),i=n(a(850375)),l=n(a(956928)),o=n(a(667294)),s=a(839062);const u=a(76672).Mirrored(["StatusDrawer","StatusPrivacySettingDrawer"]);function d(e){const{onBack:t}=e,a=()=>{null!=t?t():r.DrawerManager.closeDrawerLeft()},n=()=>{c.pop()},[d,c]=(0,s.useFlow)(u.StatusDrawer,{transitions:s.FlowTransitions.DrawerRight,onEnd:a});if(null==c.step)return null;let f;switch(c.step){case u.StatusDrawer:f=o.default.createElement(l.default,{onBack:a,onOpenStatusPrivacySettingDrawer:()=>{c.push(u.StatusPrivacySettingDrawer)}});break;case u.StatusPrivacySettingDrawer:f=o.default.createElement(i.default,{onClose:n})}return o.default.createElement(d,{flow:c},f)}d.displayName="StatusDrawerFlow"},119063:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=n(a(670983)),i=a(114850),l=n(a(971917)),o=n(a(703729)),s=a(573918),u=a(865120),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),c=a(839062);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p=a(76672).Mirrored(["StatusPrivacySettingModal","StatusPrivacySettingContactsSelection"]);function h(e){var t,a;const{statusPostingPrivacyConfig:n,setStatusPostingPrivacyConfig:f}=e,h=null!==(t=null==n?void 0:n.allowList)&&void 0!==t?t:[],m=null!==(a=null==n?void 0:n.denyList)&&void 0!==a?a:[],[g,y]=(0,d.useState)(null),v=()=>{i.ModalManager.close()},E=()=>{b.pop("flow-transition-box-size-drawer-pop")},[C,b]=(0,c.useFlow)(p.StatusPrivacySettingModal,{transitions:c.FlowTransitions.Modal,onEnd:v});if(null==b.step)return null;let _;switch(b.step){case p.StatusPrivacySettingModal:_=d.default.createElement(o.default,{onClose:v,onSelectStatusPrivacyOption:e=>{y(e),e===u.StatusPrivacySettingType.Contact?((0,s.handleContactClick)(f,h,m),v()):b.push(p.StatusPrivacySettingContactsSelection,"flow-transition-box-size-drawer-push")},statusPostingPrivacyConfig:n});break;case p.StatusPrivacySettingContactsSelection:_=d.default.createElement(l.default,{updatedSettings:(0,r.default)(g,"updatedSettings"),statusPostingPrivacyConfig:n,setStatusPostingPrivacyConfig:f,onBack:E})}return d.default.createElement(C,{flow:b},_)}h.displayName="StatusPrivacySettingsModalFlow"},83369:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StatusPrivacySettingsFlowLoadable=void 0;var r=n(a(348926)),i=n(a(114945)),l=n(a(472514)),o=n(a(997026)),s=n(a(261724)),u=n(a(667294));const d=(0,o.default)((0,r.default)((function*(){const e=yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,119063));return(0,l.default)(e)})),"StatusPrivacySettingsFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>u.default.createElement(s.default,{error:Boolean(e.error)})});t.StatusPrivacySettingsFlowLoadable=c},971917:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(177938),l=a(114850),o=a(61740),s=a(792882),u=a(865541),d=n(a(96662)),c=a(625786),f=a(390737),p=a(865120),h=a(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function y(e,t){var a,n;let{statusPostingPrivacyConfig:g,setStatusPostingPrivacyConfig:y,updatedSettings:v,onBack:E}=e;const C=null!==(a=null==g?void 0:g.allowList)&&void 0!==a?a:[],b=null!==(n=null==g?void 0:g.denyList)&&void 0!==n?n:[],_=v===p.StatusPrivacySettingType.AllowList?C:b,w=_.map((e=>i.ContactCollection.gadd(e))),S=new Set(_.map(String)),k=function(){var e=(0,r.default)((function*(e){try{const t=e.map((e=>e.id));v===p.StatusPrivacySettingType.AllowList?(yield d.default.setStatusPrivacyAllowList(t),y({setting:p.StatusPrivacySettingType.AllowList,allowList:t,denyList:b})):v===p.StatusPrivacySettingType.DenyList&&(yield d.default.setStatusPrivacyDenyList(t),y({setting:p.StatusPrivacySettingType.DenyList,allowList:C,denyList:t}))}catch(e){__LOG__(4,void 0,new Error,!0)`error: ${String(e.stack)}`,SEND_LOGS("SelectStatusPrivacyContactsModal:failed to set privacy settings"),f.ToastManager.open(m.default.createElement(c.Toast,{msg:h.fbt._("Failed to update privacy settings. Please try again.",null,{hk:"h89q3"})}))}}));return function(){return e.apply(this,arguments)}}();return m.default.createElement(o.SelectModal,{ref:t,title:v===p.StatusPrivacySettingType.AllowList?h.fbt._("Only Share With...",null,{hk:"xhHAh"}):h.fbt._("My Contacts Except...",null,{hk:"4e2ltq"}),onBack:E,onConfirm:e=>{k(e),l.ModalManager.close()},getInitialItems:()=>w,listType:o.ListType.ContactSelectModal,maxItems:u.MAX_CONTACTS,singleSelectionFooterType:s.FooterType.CONFIRM,multipleSelectionFooterType:s.FooterType.CONFIRM,useAllContacts:!0,filter:e=>!e.id.isLid()&&(S.has(e.id.toString())||i.ContactCollection.isFilteredContact(e)),getSelectionSummary:e=>v===p.StatusPrivacySettingType.AllowList?h.fbt._({"*":"{allow-contacts} contacts included",_1:"1 contact included"},[h.fbt._plural(e.length,"allow-contacts")],{hk:"2SL0XY"}):h.fbt._({"*":"{allow-contacts} contacts excluded",_1:"1 contact excluded"},[h.fbt._plural(e.length,"allow-contacts")],{hk:"1O0mGJ"}),enableSelectAll:!0})}var v=(0,m.forwardRef)(y);t.default=v},956928:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(780549),i=n(a(908081)),l=n(a(324093)),o=a(626194),s=n(a(969358)),u=a(664149),d=a(81644),c=a(526795),f=a(459912),p=a(970910),h=a(115927),m=n(a(988997)),g=n(a(395150)),y=a(657694),v=n(a(17225)),E=a(856797),C=a(285199),b=a(931109),_=a(454905),w=a(757453),S=a(548360),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),M=n(a(637660));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}const T=(0,k.forwardRef)(((e,t)=>{const a=(0,k.useRef)(),n=(0,M.default)((()=>Math.round(1e9*Math.random()))),P=(0,k.useRef)(null);(0,k.useEffect)((()=>{(0,w.setLastStatusUsage)(),null!=n.current&&y.StatusV3Collection.logMetrics({type:"session",sessionId:n.current}),r.Cmd.onStatusViewerOpen()}),[]);const T=(0,h.isStatusPostingEnabled)()?k.default.createElement(c.MenuBarItem,{testid:"menu-bar-add-status",key:"menu-bar-add-status",tabOrder:b.TAB_ORDER.CHATLIST_HEADER,icon:k.default.createElement(p.PlusLargeIcon,null),ref:P,title:S.fbt._("Add Status",null,{hk:"2b6jMo"})},k.default.createElement(m.default,{dirX:u.DirX.LEFT,type:u.MenuType.DropdownMenu})):null,O=(0,h.isStatusPostingEnabled)()?k.default.createElement(c.MenuBarItem,{testid:"status-menu",key:"status-menu",icon:k.default.createElement(f.MenuIcon,null),title:S.fbt._("Menu",null,{hk:"3BepKh"})},k.default.createElement(v.default,{onOpenStatusPrivacySettingDrawer:e.onOpenStatusPrivacySettingDrawer})):null,x=(0,h.isStatusPostingEnabled)()?k.default.createElement(g.default,{targetRef:P}):null,I=S.fbt._("Status",null,{hk:"3HkkWO"}),L=S.fbt._("Status Tab Drawer",null,{hk:"2ywPHm"});let D=k.default.createElement(C.StatusV3ListHeader,{sessionIdRef:n}),R=k.default.createElement(E.StatusV3List,{sessionIdRef:n});return(0,_.topMenuRedesignEnabled)()&&(D=k.default.createElement(s.default,{animation:!1},k.default.createElement(C.StatusV3ListHeader,{sessionIdRef:n})),R=k.default.createElement(s.default,{theme:"full-height",animation:!1},k.default.createElement(E.StatusV3List,{sessionIdRef:n}))),k.default.createElement(d.HotKeys,{ref:a,"aria-label":L},k.default.createElement(i.default,{ref:t,theme:(0,_.topMenuRedesignEnabled)()?"striped":"white-bg",testid:"status-drawer",tsNavigationData:{surface:"status-v3"}},k.default.createElement(o.DrawerHeader,{title:I,type:(0,_.topMenuRedesignEnabled)()?o.DRAWER_HEADER_TYPE.TAB:o.DRAWER_HEADER_TYPE.LARGE,menu:[T,O],onBack:e.onBack}),x,k.default.createElement(l.default,null,D,R)))}));T.displayName="StatusDrawer";var O=T;t.default=O},395150:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=a(156176),i=a(411342),l=a(115927),o=a(676345),s=a(222398),u=a(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),c=n(a(156720)),f=n(a(157558));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const h=d.default.createElement("div",{className:(0,c.default)([o.uiPadding.all8])},u.fbt._("New! Click to share status",null,{hk:"2crWrD"}));function m(e){let{targetRef:t}=e;const[a,n]=(0,f.default)(r.NUX.TOOLTIP_STATUS_POSTING),{tooltip:o,showTooltip:u}=(0,s.useWDSTooltip)({target:t,element:h,position:i.PopoverPosition.Bottom,alignment:i.PopoverAlignment.Start,dismissable:!0,includeArrow:!0,buffer:-8});return(0,d.useEffect)((()=>{self.setTimeout((()=>{a&&null!=t.current&&(0,l.isStatusPostingEnabled)()&&(u(),n())}),300)}),[t,u,a,n]),o}m.displayName="StatusPostingNux"},703729:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(118612),i=n(a(30062)),l=a(865120),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const u=(0,o.forwardRef)(((e,t)=>{let{onClose:a,onSelectStatusPrivacyOption:n,statusPostingPrivacyConfig:s}=e;return o.default.createElement(r.Modal,{type:r.ModalTheme.Tower,ref:t},o.default.createElement(i.default,{statusPostingPrivacyConfig:s,onContactClick:()=>{n(l.StatusPrivacySettingType.Contact)},onDenyListClick:()=>{n(l.StatusPrivacySettingType.DenyList)},onAllowListClick:()=>{n(l.StatusPrivacySettingType.AllowList)},isModal:!0,onClose:a}))}));u.displayName="StatusPrivacySettingsModal";var d=u;t.default=d},17225:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(664149),r=a(675085),i=a(548360),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){const{onOpenStatusPrivacySettingDrawer:a}=e;return l.default.createElement(n.Dropdown,{ref:t,type:n.MenuType.DropdownMenu,flipOnRTL:!0,key:"StatusDrawerHeader",dirX:n.DirX.LEFT},l.default.createElement(r.DropdownItem,{testid:"mi-status-privacy",action:a},i.fbt._("Status Privacy",null,{hk:"xf2QH"})))}var u=(0,l.forwardRef)(s);t.default=u},856797:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3List=z;var r=a(950987),i=a(177938),l=a(660666),o=a(811720),s=a(512938),u=n(a(964223)),d=n(a(570834)),c=a(690495),f=a(97858),p=a(114850),h=a(177586),m=n(a(772549)),g=a(115927),y=n(a(567268)),v=a(657694),E=a(55001),C=n(a(564479)),b=a(676345),_=a(122093),w=a(873298),S=a(548360),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),M=n(a(156720)),P=n(a(637660)),T=a(808446);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const x={flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",paddingBottom:"lzi2pvmc",overflowY:"ag5g9lrv","::-webkit-scrollbar-track":{backgroundColor:"jhwejjuw"},"::-webkit-scrollbar-thumb":{backgroundColor:"ny7g4cd4"}},I={display:"p357zi0d",flexDirection:"f8m0rgwh",paddingEnd:"kyc7k6mt",paddingStart:"f78eapp6"},L={width:"ln8gz9je",height:"bbl9m3t3",marginTop:"fgtikrv0",borderTop:"he2qn9qk",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a"},D={display:"p357zi0d",flexDirection:"sap93d0t",justifyContent:"o4u7okr9",fontSize:"ovllcyds",color:"q1js4oc8"},R={fontSize:"ovllcyds",color:"q1js4oc8",":hover":{color:"la55qv5n"}},A="SEC_UNREAD",N="SEC_READ",j="SEC_MUTED",F="SEC_E2E_MESSAGE",B="ROW_STATUS";function W(e){let{data:t,onOpenStatus:a,onToggleMute:n,sessionIdRef:i}=e;const o=S.fbt._("RECENT",null,{hk:"vPbQs"}),u=S.fbt._("VIEWED",null,{hk:"17DrUs"}),d=S.fbt._("MUTED",null,{hk:"31XgZG"}),f=S.fbt._("HIDE",null,{hk:"3n6J18"}),v=S.fbt._("SHOW",null,{hk:"1KKhJ5"});switch(t.type){case A:return(0,g.isStatusDrawerEnabled)()?k.default.createElement(m.default,{header:o,isTransparent:!0}):k.default.createElement("div",{tabIndex:-1,"data-focusid":"status-row-item",className:(0,M.default)(I)},k.default.createElement("hr",{className:(0,M.default)(L)}),k.default.createElement("div",{className:(0,M.default)(D)},k.default.createElement("span",null,o)));case N:return(0,g.isStatusDrawerEnabled)()?k.default.createElement(m.default,{header:u,isTransparent:!0}):k.default.createElement("div",{tabIndex:-1,"data-focusid":"status-row-item",className:(0,M.default)(I)},k.default.createElement("hr",{className:(0,M.default)(L)}),k.default.createElement("div",{className:(0,M.default)(D)},k.default.createElement("span",null,u)));case j:return(0,g.isStatusDrawerEnabled)()?k.default.createElement(c.FlexRow,{align:"center",xstyle:b.uiPadding.end10},k.default.createElement(c.FlexItem,{grow:1},k.default.createElement(m.default,{header:d,isTransparent:!0})),k.default.createElement(c.FlexItem,{grow:0,align:"center"},k.default.createElement(r.Clickable,{onClick:n},k.default.createElement(w.WDSTextSmall,{as:"span",color:"teal"},Boolean(t.expanded)?f:v)))):k.default.createElement("div",{tabIndex:-1,"data-focusid":"status-row-item",className:(0,M.default)(I)},k.default.createElement("hr",{className:(0,M.default)(L)}),k.default.createElement("div",{className:(0,M.default)(D)},k.default.createElement("span",null,d),k.default.createElement("button",{className:(0,M.default)(R),onClick:n},Boolean(t.expanded)?f:v)));case B:{const e=(P=t.status,(0,l.getIsMe)(P.contact)?_.STATUS_ROW_SECTION.MY_STATUS:P.contact.statusMute?_.STATUS_ROW_SECTION.MUTED_STORIES:(0,E.getHasUnread)(P)?_.STATUS_ROW_SECTION.RECENT_STORIES:_.STATUS_ROW_SECTION.PREVIOUS_STORIES);return k.default.createElement(y.default,{isModalView:!(0,g.isStatusDrawerEnabled)(),statusV3:t.status,onClick:()=>{a?a(t.status,void 0,t.index,e):p.ModalManager.openMedia(k.default.createElement(C.default,{initialStatusV3:t.status,initialStatusMsg:void 0,closeStatusViewer:()=>{p.ModalManager.closeMedia()},sessionId:null==i?void 0:i.current,rowIdx:t.index,rowSection:e,continuousPlay:!0}),{transition:"status-v3-modal"})},contact:t.status.contact})}case F:return k.default.createElement(h.E2eMessageStatusV3List,null);default:throw new s.UnknownDataError(t)}var P}W.displayName="Item";const H=(0,s.FlatListFactory)();function z(e){const{onOpenStatus:t}=e,a=(0,P.default)((()=>new d.default)),n=()=>{const e=v.StatusV3Collection.getUnexpired(!0),t=v.StatusV3Collection.getUnexpired(!1);return{unread:e,read:t,muted:[...e,...t].filter((e=>e.contact.statusMute))}},{unread:r,read:l,muted:s}=(0,k.useMemo)(n,[]),[c,p]=(0,k.useState)((()=>r.filter((e=>!e.contact.statusMute)))),[h,m]=(0,k.useState)((()=>l.filter((e=>!e.contact.statusMute)))),[y,E]=(0,k.useState)(s),[C,b]=(0,k.useState)(!1);(0,T.useListener)(v.StatusV3Collection,"add remove bulk_add sort change:msgsChanged change:unreadCount",(()=>{const{unread:e,read:t,muted:a}=n();p(e.filter((e=>!e.contact.statusMute))),m(t.filter((e=>!e.contact.statusMute))),E(a)})),(0,T.useListener)(i.ContactCollection,"change:statusMute",(()=>{const{unread:e,read:t,muted:a}=n();p(e.filter((e=>!e.contact.statusMute))),m(t.filter((e=>!e.contact.statusMute))),E(a)}));const _=()=>{b(!C)},w=(0,g.isStatusDrawerEnabled)()?72:48,S=(0,g.isStatusDrawerEnabled)()?72:64,O=(0,k.useMemo)((()=>{const e=[];return c.length>0&&(e.push({type:A,itemKey:"section-unread",height:w}),e.push(...c.map(((e,t)=>({type:B,itemKey:e.id.toString(),height:S,status:e,index:t}))))),h.length>0&&(e.push({type:N,itemKey:"section-read",height:w}),e.push(...h.map(((e,t)=>({type:B,itemKey:e.id.toString(),height:S,status:e,index:t}))))),y.length>0&&(e.push({type:j,itemKey:"section-muted",height:w,expanded:C}),C&&e.push(...y.map(((e,t)=>({type:B,itemKey:e.id.toString(),height:S,status:e,index:t}))))),(0,f.isPrivacyNarrativeV1Enabled)()&&e.push({type:F,itemKey:"section-e2e-message"}),e}),[c,h,y,w,S,C]);let I;return I=v.StatusV3Collection.hasSynced()&&O.length>0?k.default.createElement(u.default,{className:(0,M.default)(x),flatListControllers:[a.current]},k.default.createElement(H,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:a.current,direction:"vertical",data:O,handleKeyboardNavigation:!0,role:"list",focusableItemSelector:"[data-focusid='status-row-item']",renderItem:e=>k.default.createElement(W,{data:e,onOpenStatus:t,onToggleMute:_})})):k.default.createElement(o.ListStatus,null),I}z.displayName="StatusV3List"},285199:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3ListHeader=I;var r=n(a(670983)),i=a(727356),l=a(177938),o=a(23641),s=a(664149),u=a(272586),d=a(114850),c=a(435595),f=a(115927),p=n(a(988997)),h=a(657694),m=n(a(376394)),g=n(a(564479)),y=a(454905),v=a(392632),E=n(a(37875)),C=a(676345),b=n(a(395967)),_=a(459857),w=n(a(844453)),S=a(122093),k=a(548360),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),P=n(a(156720)),T=a(808446);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const x={secondaryHeaderText:{fontSize:"ovllcyds",color:"kcq1et6t"},secondaryText:{color:"pm5hny62"},primaryHeaderText:{fontSize:"enbbiyaj"},panelHeader:{display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"t5t8swlc",paddingStart:"mjn2akup"},headerButtonsPrimary:{display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"fujhy7ri",height:"q8xcl7qa",color:"lxozqee9"},headerText:{display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"o4u7okr9",minWidth:"ecrppv57",height:"epwkujcx",marginEnd:"k1jo73ug"},roundComponent:{height:"m8k3rz5l",width:"ju98mj9v",transitionProperty:"o3x4pys2",boxShadow:"a27i2aag"},wrappingRoundComponent:{position:"lhggkp7q",bottom:"ipet1iae",zIndex:"thghmljt",end:"j2mzdvlq",backgroundColor:"ihvf49ua"},headerButtonsWrapper:{position:"g0rxnol2"}};function I(e){var t;let{onOpenStatus:a,sessionIdRef:n}=e;const O=(0,f.isStatusDrawerEnabled)()&&(0,f.isStatusPostingEnabled)(),{isKeyboardUser:I}=(0,b.default)(),L=(0,M.useRef)(null),[D,R]=(0,M.useState)((()=>h.StatusV3Collection.getMyStatus())),[A,N]=(0,M.useState)((()=>null==D?void 0:D.msgs.last())),[j,F]=(0,M.useState)(null),B=()=>{var e;R(h.StatusV3Collection.getMyStatus()),N(null===(e=h.StatusV3Collection.getMyStatus())||void 0===e?void 0:e.msgs.last())};let W,H,z;(0,T.useListener)(h.StatusV3Collection,"add remove bulk_add sort change:msgsChanged change:unreadCount",B),(0,T.useListener)(l.ContactCollection,"change:statusMute",B),D&&(z=D.msgs);const U=()=>{const e=null==D?void 0:D.msgs;D&&(null==e?void 0:e.length)&&(a?a(D,e.head(),0,S.STATUS_ROW_SECTION.MY_STATUS):d.ModalManager.openMedia(M.default.createElement(g.default,{initialStatusV3:D,initialStatusMsg:e.head(),closeStatusViewer:()=>{d.ModalManager.closeMedia()},sessionId:null==n?void 0:n.current,rowIdx:0,rowSection:S.STATUS_ROW_SECTION.MY_STATUS,continuousPlay:!0}),{transition:"status-v3-modal"}))},V=()=>{O&&F({DirX:s.DirX.RIGHT,DirY:s.DirY.BOTTOM,menu:M.default.createElement(p.default,{dirX:s.DirX.RIGHT,type:s.MenuType.Dropdown}),anchor:L.current,autoFocus:I})};let q,G,Y=null;const K=null!=D&&D.msgs.length>0;if(D&&(null===(t=z)||void 0===t?void 0:t.length))W=M.default.createElement(m.default,{tabIndex:K?0:-1,role:K?"button":null,ariaLabel:k.fbt._("My Status",null,{hk:"225G1q"}),id:D.id,contact:D.contact,onClick:U}),H=M.default.createElement(u.LastStatusStatus,{msg:(0,r.default)(A,"myLastStatus")}),G={cursor:"pointer"},q=U;else{Y=O&&M.default.createElement(c.Round,{xstyle:[x.roundComponent,x.wrappingRoundComponent,C.uiPadding.all2]},M.default.createElement(c.Round,{xstyle:x.roundComponent,ref:L},M.default.createElement(i.AttachMenuPlusIcon,{width:12,height:12}))),W=M.default.createElement(o.DetailImage,{id:(0,_.getMaybeMeUser)(),theme:"status_v3",size:40});const e=(0,f.isStatusPostingEnabled)()?k.fbt._("Click to add status update",null,{hk:"221eqO"}):k.fbt._("No updates",null,{hk:"2Fcs7d"});H=M.default.createElement("span",{className:(0,P.default)(x.secondaryHeaderText,(0,f.isStatusDrawerEnabled)()&&x.secondaryText)},e),G=O?{cursor:"pointer"}:null,q=V}const X=M.default.createElement("span",{className:(0,P.default)(x.primaryHeaderText)},k.fbt._("My Status",null,{hk:"225G1q"})),Z=(0,f.isStatusDrawerEnabled)()?C.uiMargin.top14:C.uiMargin.top32;return M.default.createElement("div",{className:(0,P.default)(x.panelHeader,!(0,y.topMenuRedesignEnabled)()&&Z),style:G,onClick:q},M.default.createElement("div",{className:(0,P.default)(x.headerButtonsWrapper)},M.default.createElement("div",{className:(0,P.default)(x.headerButtonsPrimary)},W,Y)),M.default.createElement("div",{className:(0,P.default)(x.headerText)},X,H),M.default.createElement(w.default,{transitionName:"pop-fast"},null==j?null:M.default.createElement(v.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{F(null)}},M.default.createElement(E.default,{contextMenu:j}))))}I.displayName="StatusV3ListHeader"},356439:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,c.useFlow)(null==e.stickerPackId?p.StickerStore:p.StickerPackDetails,{transitions:c.FlowTransitions.DrawerRight}),[n,f]=(0,d.useState)(null),[h,m]=(0,d.useState)(null),g=(0,d.useRef)(0),y=e=>{g.current=e},v=e=>{f(e),a.push(p.StickerPackDetails)},E=(e,t)=>{m(e),t&&f(t),a.push(p.StickerDetails)},C=()=>{a.pop()},b=()=>{a.pop(),h&&r.Cmd.once("ui_idle",(()=>{e.onSticker(h,u.STICKER_SEND_ORIGIN_TYPE.STICKER_STORE)}))};if(null==a.step)return null;let _=null;switch(a.step){case p.StickerStore:_=d.default.createElement(o.default,{onStickerPackDetails:v,onClose:()=>a.pop(),onScrollOffsetChange:y,scrollOffset:g.current});break;case p.StickerPackDetails:_=null==e.stickerPackId?null!=n?d.default.createElement(l.default,{stickerPack:n,onStickerClick:E,onStickerEnter:E,onBack:C}):null:d.default.createElement(l.default,{stickerPackId:e.stickerPackId,onStickerClick:E,onStickerEnter:E,onClose:()=>a.end(s.DismissReason.LIFECYCLE)});break;case p.StickerDetails:_=null!=h&&null!=n?d.default.createElement(i.default,{sticker:h,stickerPack:n,onSend:b,onBack:()=>a.pop()}):null}return d.default.createElement(t,{flow:a},_)};var r=a(780549),i=n(a(718630)),l=n(a(659415)),o=n(a(665695)),s=a(238669),u=a(843534),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),c=a(839062);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p=a(76672).Mirrored(["StickerStore","StickerPackDetails","StickerDetails"])},84846:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerIconContainer=p;var r=a(23641),i=a(118914),l=a(165810),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),s=n(a(156720)),u=n(a(105170));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c={boxSizing:"cm280p3y",height:"graaj7av",width:"jgly3g7g",minHeight:"lignnmtc",minWidth:"j3e9rhaw",position:"g0rxnol2"},f={width:"ln8gz9je",height:"ppled2lx"};function p(e){let{url:t,xstyle:a}=e;const[n,{isIntersecting:d}]=(0,u.default)({root:null,rootMargin:"0px",threshold:0}),p=(0,o.useRef)(d);return p.current=p.current||d,o.default.createElement("div",{ref:n,className:(0,s.default)(c,a)},p.current&&o.default.createElement(i.ImgWithFallback,{fallbackSVG:o.default.createElement(l.StickerIcon,null),wrapOptions:{centerWrapperChild:!0,wrapperClassName:""},className:(0,s.default)(f),size:"NONE",shape:r.DetailImageShape.Square,imgProps:{src:t,draggable:!1},theme:i.Theme.Transparent}))}p.displayName="StickerIconContainer"},399358:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(512938),i=n(a(964223)),l=n(a(570834)),o=a(390185),s=a(432938),u=n(a(999205)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),c=n(a(637660));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p=(0,r.FlatListFactory)();function h(e){const{stickerPacks:t,onStickerPackDetails:a}=e,n=(0,c.default)((()=>new l.default)),r=(0,d.useMemo)((()=>t.map((e=>({itemKey:e.id,stickerPack:e})))),[t]);return d.default.createElement(i.default,{flatListControllers:[n.current]},d.default.createElement(p,{flatListController:n.current,direction:"vertical",forceConsistentRenderCount:!1,data:r,renderItem:e=>d.default.createElement(u.default,{data:e,onClick:a}),defaultItemHeight:s.STICKER_LIST_ITEM_HEIGHT,keyOrder:o.KeyOrder.INVERSE}))}h.displayName="StickerPackList"},999205:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(a(681176)),i=n(a(991370)),l=a(305521),o=a(529532),s=a(84846),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),d=n(a(156720));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const f={stickerPack:{paddingStart:"lyvj5e2u",color:"h15s16sg"},title:{display:"p357zi0d",alignItems:"gndfcl4n"},animatedIcon:{marginStart:"oz0g9ue8",color:"kw851w1p"},stickerIconsContainer:{display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"dnb887gk",marginTop:"dj1c3cmq"},stickerIcon:{marginEnd:"gwq3iy2m"}};function p(e){let{data:t,onClick:a}=e;const{stickerPack:n}=t,c=u.default.createElement("div",{className:(0,d.default)(f.title)},u.default.createElement(l.EmojiText,{text:n.name,ellipsify:!0,titlify:!0}),n.animated?u.default.createElement(o.RoundPlayIcon,{xstyle:f.animatedIcon,width:16,height:16}):null),p=[],h=Math.min(6,n.previewImageIds.length);for(let e=0;e<h;e++){const t=n.previewImageIds[e];p.push(u.default.createElement(u.Fragment,{key:t},u.default.createElement(r.default,{breakpoint:94*(e+1)-22,inverseToContainer:!0,maxWidth:"100%",minWidth:0}),u.default.createElement(s.StickerIconContainer,{url:`https://static.whatsapp.net/sticker?cat=sticker_preview_png&id=${t}`,xstyle:f.stickerIcon})))}const m=u.default.createElement(u.default.Fragment,null,u.default.createElement(l.EmojiText,{text:n.publisher,ellipsify:!0}),u.default.createElement("div",{className:(0,d.default)(f.stickerIconsContainer)},p));return u.default.createElement(i.default,{key:n.id,testid:"sticker-pack-list-item",theme:"sticker-pack",primary:c,secondary:m,onClick:()=>{a(n)},className:(0,d.default)(f.stickerPack),contextEnabled:()=>!1})}p.displayName="StickerPackListItem"},718630:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(983098)),i=n(a(908081)),l=n(a(324093)),o=a(626194),s=n(a(969358)),u=n(a(570834)),d=a(634401),c=a(438543),f=n(a(767569)),p=a(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(156720)),g=n(a(637660));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const v={stickerContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"hv5pdlef",marginBottom:"gdaqao4w",width:"ln8gz9je"},controlsContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"fhelu9n7"},controlsButton:{marginStart:"nzcjdldu",marginEnd:"gqi0zhd6"}};function E(e,t){const a=(0,g.default)((()=>new u.default)),{sticker:n,stickerPack:y,onSend:E,onBack:C}=e;return h.default.createElement(i.default,{key:"sticker-details-modal",theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-details"},h.default.createElement(o.DrawerHeader,{title:p.fbt._("Sticker Details",null,{hk:"44A1rH"}),type:o.DRAWER_HEADER_TYPE.SMALL,onBack:C}),h.default.createElement(l.default,{flatListControllers:[a.current]},h.default.createElement(s.default,{animation:!1,theme:"padding-no-margin",shadow:!1},h.default.createElement("div",{className:(0,m.default)(v.stickerContainer)},h.default.createElement(f.default,{key:n.id,sticker:n,theme:"stickerDetails"})),h.default.createElement(c.StickerDetailsStickerPackInfo,{name:y.name,publisher:y.publisher,theme:c.Theme.StickerStore}),h.default.createElement("div",{className:(0,m.default)(v.controlsContainer)},h.default.createElement(r.default,{Icon:d.SendIcon,label:p.fbt._("Send to this chat",null,{hk:"3uG4Tr"}),testid:"sticker-action send-button",xstyle:v.controlsButton,onClick:()=>{E(n)}})))))}var C=(0,h.forwardRef)(E);t.default=C},659415:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(908081)),i=n(a(324093)),l=a(626194),o=n(a(969358)),s=a(305521),u=n(a(570834)),d=a(507407),c=a(529532),f=a(956113),p=a(425192),h=n(a(767569)),m=a(180519),g=a(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),v=n(a(156720)),E=n(a(524578)),C=n(a(637660)),b=a(384448),_=n(a(940630));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}const S=a(95492),k={titleContainer:{display:"p357zi0d",alignItems:"gndfcl4n",marginBottom:"or9x5nie"},title:{flexGrow:"tvf2evcx"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},animatedIcon:{marginStart:"oz0g9ue8",color:"kw851w1p"},contentContainer:{marginBottom:"dblt22a0",color:"hp667wtd",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},stickersContainer:{display:"btb1m7bk",gridTemplateColumns:"dr6m1ylk",gridColumnGap:"zqptfkjs",gridRowGap:"lhjw8glk",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"ppled2lx"},emptyContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"hv5pdlef",marginBottom:"gdaqao4w",width:"ln8gz9je"},emptySticker:{width:"sr23wnuw",height:"rjxfi64q",marginBottom:"dblt22a0",backgroundRepeat:"sxl192xd",backgroundSize:"hbhfgwk1"},emptyText:{textAlign:"qfejxiq4",marginBottom:"fhelu9n7"}};function M(e,t){var a;const n=(0,C.default)((()=>new u.default)),{stickerPack:w,stickerPackId:M,onStickerClick:P,onStickerEnter:T,onBack:O,onClose:x}=e,I=function(e,t){return(0,E.default)(p.StickerPackCollectionMd,"add remove reset",(()=>e||(t?p.StickerPackCollectionMd.get(t):null)))||(null==t?null:void p.StickerPackCollectionMd.fetchStickerPack(t))}(w,M),[L]=null!==(a=(0,b.useOptionalStickerPackValues)(null==I?void 0:I.id,[d.getStickers]))&&void 0!==a?a:[],D=function(e){const t=(0,E.default)(e,"add remove reset",(()=>{var t;return null!==(t=null==e?void 0:e.toArray())&&void 0!==t?t:[]})),a=(0,_.default)();return(0,y.useEffect)((()=>{a((()=>{null==e||e.fetch()}))}),[e,a]),t}(L),R=function(e){return(0,E.default)(p.StickerPackCollectionMd,"change:packFetchState",(()=>e?p.StickerPackCollectionMd.packFetchState.get(e):null))}(M),A=(e,t)=>{I&&P(e,I,t)},N=(e,t)=>{I&&T(e,I,t)};let j;return(M&&R===p.FetchState.PENDING||0===(null==D?void 0:D.length))&&(j=y.default.createElement(m.TextDiv,{theme:"plain",xstyle:k.spinner},y.default.createElement(f.Spinner,{size:50,stroke:4}))),y.default.createElement(r.default,{key:"sticker-pack-details-modal",theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-pack-details"},y.default.createElement(l.DrawerHeader,{title:g.fbt._("Sticker Details",null,{hk:"44A1rH"}),type:l.DRAWER_HEADER_TYPE.SMALL,onBack:O,onCancel:x}),y.default.createElement(i.default,{flatListControllers:[n.current]},y.default.createElement(o.default,{animation:!1,theme:"padding-no-margin",shadow:!1},I?y.default.createElement(y.default.Fragment,null,y.default.createElement(m.TextDiv,{theme:"title",xstyle:k.titleContainer},y.default.createElement(s.EmojiText,{xstyle:k.title,text:I.name,ellipsify:!0,titlify:!0}),I.animated?y.default.createElement(c.RoundPlayIcon,{xstyle:k.animatedIcon,width:16,height:16}):null),I.publisher&&y.default.createElement(m.TextDiv,{theme:"plain",xstyle:k.contentContainer},y.default.createElement(s.EmojiText,{text:g.fbt._("Created by {name}",[g.fbt._param("name",I.publisher)],{hk:"4rhbUU"})})),I.description&&y.default.createElement(m.TextDiv,{theme:"plain",xstyle:k.contentContainer},y.default.createElement(s.EmojiText,{text:I.description})),j,y.default.createElement("div",{className:(0,v.default)(k.stickersContainer)},null==D?void 0:D.map((e=>y.default.createElement(h.default,{key:e.id,sticker:e,theme:"stickerStore",onClick:A,onEnter:N,dontShowViewPack:!0}))))):null,!I&&M&&R===p.FetchState.PENDING?j:null,I||M&&R===p.FetchState.PENDING?null:y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:(0,v.default)(k.emptyContainer)},y.default.createElement("div",{className:(0,v.default)(k.emptySticker),style:{backgroundImage:`url(${S})`}})),y.default.createElement(m.TextDiv,{theme:"plain",xstyle:[k.contentContainer,k.emptyText]},y.default.createElement(s.EmojiText,{text:g.fbt._("Unable to find sticker pack",null,{hk:"3aIIxP"})}))))))}var P=(0,y.forwardRef)(M);t.default=P},665695:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(908081)),i=n(a(324093)),l=a(626194),o=n(a(969358)),s=n(a(570834)),u=a(956113),d=a(425192),c=n(a(399358)),f=a(180519),p=a(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=(n(a(156720)),n(a(524578))),g=n(a(637660));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const v={spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"}};function E(e,t){const a=(0,m.default)(d.StickerPackCollectionMd,"add remove reset",(()=>d.StickerPackCollectionMd.filter((e=>null!=e.index)))),n=(0,g.default)((()=>new s.default));let y;return 0===a.length&&(y=h.default.createElement(f.TextDiv,{theme:"plain",xstyle:v.spinner},h.default.createElement(u.Spinner,{size:50,stroke:4}))),h.default.createElement(r.default,{key:"sticker-store-modal",theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-store"},h.default.createElement(l.DrawerHeader,{title:p.fbt._("WhatsApp Sticker Store",null,{hk:"nicpq"}),type:l.DRAWER_HEADER_TYPE.SMALL,onCancel:e.onClose}),h.default.createElement(i.default,{flatListControllers:[n.current],onScroll:t=>{var a;null===(a=e.onScrollOffsetChange)||void 0===a||a.call(e,t.currentTarget.scrollTop)},scrollOffset:e.scrollOffset},h.default.createElement(o.default,{animation:!1,theme:"no-padding",shadow:!1},y,h.default.createElement(c.default,{stickerPacks:a,onStickerPackDetails:e.onStickerPackDetails}))))}var C=(0,h.forwardRef)(E);t.default=C},208078:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.openSupportChat=function(){return p.apply(this,arguments)};var r=n(a(348926)),i=a(35234),l=a(900316),o=a(411745),s=a(114850),u=a(489891),d=a(412508),c=a(669050),f=n(a(667294));function p(){return(p=(0,r.default)((function*(e,t){const a=(0,c.createWid)(e),n=yield(0,i.getChatRecord)(a);s.ModalManager.open(f.default.createElement(u.OpenChatFlow,{chatId:a,onSuccess:()=>{l.DrawerManager.closeDrawerLeft(),t&&n&&(0,o.handleSingleMsg)(a,(0,d.genSagaInitSystemMsg)(a))},msgText:null}),{transition:"modal-flow"})}))).apply(this,arguments)}},319029:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RootMsg=u;var r=a(356097),i=n(a(666413)),l=n(a(667294)),o=n(a(156720));const s={zIndex:"nbczt5ty",borderBottomWidth:"oteuebma",borderBottomStyle:"cmcp1to6",borderBottomColor:"ilgl9vsw",borderBottomStartRadius:"lrpjbpgm",borderBottomEndRadius:"nqm9sais"};function u(e){const{msg:t,replyMsg:a,chat:n}=e;return l.default.createElement("div",{className:(0,o.default)(s)},l.default.createElement(i.default,{msg:t.safe(),rootMsg:a.safe(),key:t.id.toString(),displayType:r.DISPLAY_TYPE.CONVERSATION,theme:"viewAllReplies",chat:n}))}u.displayName="RootMsg"},737745:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,l.useFlow)(o.ViewAllRepliesFlow,{transitions:l.FlowTransitions.DrawerRight});if(null==a.step)return null;return i.default.createElement(t,{flow:a},i.default.createElement(r.default,{rootMsg:e.rootMsg,replyMsg:e.replyMsg}))};var r=n(a(699587)),i=n(a(667294)),l=a(839062);const o=a(76672).Mirrored(["ViewAllRepliesFlow"])},699587:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(670983)),i=n(a(659177)),l=n(a(320357)),o=a(356097),s=n(a(908081)),u=n(a(324093)),d=a(626194),c=a(163755),f=n(a(275403)),p=a(319029),h=a(676345),m=a(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),y=n(a(156720)),v=n(a(814882)),E=a(655241),C=n(a(321201));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const _={repliesContainer:{borderStartWidth:"mzoqfcbu",borderStartStyle:"eg0col54",borderStartColor:"skfxoi2r",backgroundColor:"gmjkez2w",overflowY:"rpvcun8f",overflowX:"gfz4du6o",height:"ppled2lx"},msgListWrapper:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",zIndex:"jnl3jror"}};function w(e,t){const a=(0,E.useModelValues)(i.default.assertGet("defaultPreference"),["wallpaperColor","showDoodle"]),{wallpaperColor:n,showDoodle:b}=a,w=(0,g.useRef)(),S=(0,g.useRef)(null),{rootMsg:k,replyMsg:M}=e,P=(0,c.getChat)(k.unsafe()),T=(0,C.default)(),{selectedMessages:O}=(0,v.default)(P.msgs);return g.default.createElement(s.default,{ref:t,theme:"striped"},g.default.createElement(d.DrawerHeader,{title:m.fbt._("View Replies",null,{hk:"4zm8Co"}),type:d.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{null==T||T.requestDismiss()},focusBackOrCancel:!0}),g.default.createElement(u.default,null,g.default.createElement(p.RootMsg,{msg:k,replyMsg:M,chat:P}),g.default.createElement("div",{ref:w,className:(0,y.default)([_.repliesContainer,h.uiPadding.top12])},g.default.createElement("div",{className:(0,y.default)(_.msgListWrapper),ref:S},g.default.createElement(l.default,{wallpaperColor:n,showDoodle:b}),g.default.createElement(f.default,{getScrollContainer:()=>(0,r.default)(w.current,"repliesContainerRef.current"),chat:P,unreadCount:0,selectable:!1,onMessageSelect:()=>{},msgs:[M].map((e=>e.safe())),focusedMsgCtx:void 0,selectedMessages:O,isMsgVisible:()=>!0,isLoadingEarlierMsgs:!1,displayType:o.DISPLAY_TYPE.ALL_REPLIES})))))}var S=(0,g.forwardRef)(w);t.default=S},680110:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.cartItemCollection.reset(),e.set("message",void 0),e.trigger("change:cartItemCollection"),(0,r.default)(e)};var r=n(a(879366))},702727:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createProductFromRefreshCartItem=C,t.getSavingsFromCartItemsAndProducts=function(e){return e.reduce(((e,t)=>e+t.cartItem.quantity*(0,p.getSavings)(t.product)),0)},t.isPriceMatch=E,t.matchCartItemsToProducts=function(e,t){const a=u.CatalogCollection.get((0,h.createWid)(e.id)),n=[],r=[];let o=!0;a&&e.cartItemCollection.forEach((l=>{const s=a.productCollection.get(l.id);let u=t&&t.products.find((e=>e.id===l.id));if(u=function(e,t){if(e&&"deleted"===e.status)return void t.productCollection.remove(e.id);return e}(u,a),!t&&s){const e=function(e,t){const a=function(e,t){return e.priceAmount1000===(0,p.getActivePrice)(t)&&e.currency===t.currency&&e.name===t.name&&e.imageHash===t.imageHash&&e.maxAvailable===t.maxAvailable}(e,t);a||e.set({priceAmount1000:(0,p.getActivePrice)(t),currency:t.currency,name:t.name,imageHash:t.imageHash,maxAvailable:t.maxAvailable},{silent:!0});return a}(l,s);o=o&&e,n.push({product:s,cartItem:l})}else if(u){const t=function(e,t){const a=!t||function(e,t){var a,n;const r=(0,p.getActivePrice)(y(t));return E(e.priceAmount1000,r)&&(!(0,i.isString)(e.currency)&&!(0,i.isString)(t.currency)||e.currency===t.currency)&&e.name===t.name&&e.imageHash===(null===(a=t.media)||void 0===a||null===(n=a.image)||void 0===n?void 0:n.id)}(e,t);if(!a&&t){const a=y(t);e.set({priceAmount1000:(0,p.getActivePrice)(a),currency:a.currency,name:a.name,imageHash:a.imageHash,maxAvailable:a.maxAvailable},{silent:!0})}return a}(l,u);o=o&&t,n.push({product:C(u,e.id),cartItem:l})}else o=!1,r.push(l.id)})),a||(0,l.default)(e);o||(r.length&&e.cartItemCollection.remove(r),e.trigger("change:cartItemCollection"),c.ModalManager.open(g.default.createElement(d.ConfirmPopup,{onOK:()=>{c.ModalManager.close()}},m.fbt._("One or more items in your cart have been updated",null,{hk:"1jr9xE"}))));return(0,s.default)(e),n},t.parsePrice=v;var r=n(a(81109)),i=a(724976),l=n(a(680110)),o=a(172949),s=n(a(879366)),u=a(713464),d=a(103440),c=a(114850),f=a(517086),p=a(607592),h=a(669050),m=a(548360),g=n(a(667294));function y(e){var t,a,n,r,i,l,s,u;return{id:e.id,name:null!==(t=e.name)&&void 0!==t?t:"",imageCdnUrl:null===(a=e.media)||void 0===a||null===(n=a.image)||void 0===n?void 0:n.request_image_url,imageHash:null===(r=e.media)||void 0===r||null===(i=r.image)||void 0===i?void 0:i.id,currency:e.currency,priceAmount1000:v(e.price),salePriceAmount1000:v(null===(l=e.sale_price)||void 0===l?void 0:l.price),salePriceStartDate:(0,o.parseDateValue)(null===(s=e.sale_price)||void 0===s?void 0:s.start_date),salePriceEndDate:(0,o.parseDateValue)(null===(u=e.sale_price)||void 0===u?void 0:u.end_date),maxAvailable:e.max_available}}function v(e){return"string"==typeof e?e.length>0?parseInt(e,10):null:e}function E(e,t){const a=v(e),n=v(t);return(0,i.isNumber)(a)&&(0,i.isNumber)(n)?a===n:!(0,i.isNumber)(a)&&!(0,i.isNumber)(n)}function C(e,t){return new f.Product((0,r.default)((0,r.default)({},y(e)),{},{catalogWid:(0,h.createWid)(t),productMsgMediaData:null,imageCount:1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1}))}},106901:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(0===e.cartItemCollection.length)return Promise.resolve({products:[],price:{}});const a=e.cartItemCollection.map((e=>e.id));return(0,n.refreshCart)((0,i.createWid)(e.id),a,r.CartCollection.imageWidth,r.CartCollection.imageHeight,t)};var n=a(59155),r=a(290895),i=a(669050)},961827:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return f.apply(this,arguments)};var r=n(a(348926)),i=a(239795),l=n(a(879366)),o=a(713464),s=n(a(756680)),u=n(a(234921)),d=a(669050);function c(e){var t,a;const n=e.cartItemCollection.at(0);if(null==n)return"";const r=o.CatalogCollection.get((0,d.createWid)(e.id)),i=null==r?void 0:r.productCollection.get(n.id),l=null==i||null===(t=i.getProductImageCollectionHead())||void 0===t?void 0:t.mediaData;return null==l?"":l.preview instanceof s.default&&null!==(a=l.preview.getBase64())&&void 0!==a?a:""}function f(){return(f=(0,r.default)((function*(e,t){const a=yield(0,i.createOrder)(t.id,e.cartItemCollection.toArray());return yield(0,u.default)(t,a,e.itemCount,c(e),e.message),(0,l.default)(e),a.id}))).apply(this,arguments)}},898475:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.set("message",t),(0,r.default)(e)};var r=n(a(879366))},234921:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return h.apply(this,arguments)};var r=n(a(348926)),i=a(632157),l=a(402994),o=a(72696),s=n(a(565754)),u=a(533494),d=a(918602),c=a(693741),f=a(459857),p=n(a(556869));function h(){return(h=(0,r.default)((function*(e,t,a,n,r){const i=yield m(e,t,a,n,r);if((0,f.isMeAccount)(e.id))return(0,d.addAndSendMsgToChat)(e,i)[0].then((()=>{})).catch((e=>{throw __LOG__(3)`Order message send to chat failure: ${e}`,e}));try{const t=yield(0,d.addAndSendMsgToChat)(e,i)[1];if(!t||t.messageSendResult!==c.SendMsgResult.OK)throw(0,p.default)("Order message SendMsgResult failure status")}catch(e){throw __LOG__(3)`Order message send to chat failure: ${e}`,e}}))).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=(0,r.default)((function*(e,t,a,n,r){const d=(0,f.getMaybeMeUser)(),c=t.price.total;return{type:"order",ack:l.ACK.CLOCK,from:d,id:new s.default({from:d,to:e.id,id:yield s.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:(0,i.unixTime)(),to:e.id,orderId:t.id,token:t.token,orderTitle:e.name||e.formattedTitle,sellerJid:e.id.toString({legacy:!0}),status:u.Message$OrderMessage$OrderStatus.INQUIRY,messageVersion:(0,o.isBuyerOrderRevampEnabled)()?2:1,thumbnail:n,itemCount:a,message:r,totalAmount1000:c&&c.length>0?parseInt(c,10):void 0,totalCurrencyCode:t.price.currency&&t.price.currency.length>0?t.price.currency:void 0}}))).apply(this,arguments)}},293559:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,undelivered:a,canForward:n,cannotForward:o}=e;const s=n.length-a.length,u=o.length+a.length;if(s>0)return a.length?o.length?(0,i.getCannotForwardFileMissingAndCapabilityContactString)(u,t.formattedTitle):l.fbt._({"*":"{count} messages couldn't be forwarded because the file is missing.",_1:"{count} message couldn't be forwarded because the file is missing."},[l.fbt._plural(u),l.fbt._param("count",r.default.n(u))],{hk:"1JTcMZ"}):(0,i.getCannotForwardCapabilityContactString)(u,t.formattedTitle);if(a.length)return o.length?t.isUser?l.fbt._("No messages could be forwarded because the file is missing or {contact} is on a version of WhatsApp that doesn't support them.",[l.fbt._param("contact",t.formattedTitle)],{hk:"1dNF4S"}):l.fbt._("No messages could be forwarded because the file is missing or __contact__ is on a version of WhatsApp that doesn't support them.",null,{hk:"11bRZ3"}):l.fbt._("No messages could be forwarded because the file is missing.",null,{hk:"1dn9Vk"});if(!t.isUser)return l.fbt._("No messages could be forwarded because {contact} is on a version of WhatsApp that doesn't support them.",[l.fbt._param("contact",t.formattedTitle)],{hk:"3MTTaw"});return l.fbt._("No messages could be forwarded because {contact} is on a version of WhatsApp that doesn't support them.",[l.fbt._param("contact",t.formattedTitle)],{hk:"3MTTaw"})};var r=n(a(932325)),i=a(309527),l=a(548360)},4780:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(477689);class r extends((0,n.customError)("ForwardError")){constructor(e){super(),this.reasons=e}}t.default=r},258058:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var r=n(a(348926)),i=a(122583),l=a(328620),o=a(984330),s=a(260854),u=a(103440),d=a(900316),c=n(a(395767)),f=a(650348),p=a(114850),h=n(a(99398)),m=a(625786),g=a(390737),y=a(548360),v=n(a(667294));function E(){d.DrawerManager.closeDrawerRight(),d.DrawerManager.closeDrawerLeft(),d.DrawerManager.openDrawerLeft(v.default.createElement(s.CommunityFlowLoadable,null))}function C(){return b.apply(this,arguments)}function b(){return(b=(0,r.default)((function*(e){if(!h.default.online)return void g.ToastManager.open(v.default.createElement(m.Toast,{msg:y.fbt._("Community was not deactivated. Check your connection and try again.",null,{hk:"3P15KK"})}));const t=e.id,a=(0,f.sendDeactivateCommunity)({parentGroupId:t}),n=(0,r.default)((function*(){try{return yield a,new l.ActionType(y.fbt._('"{community-name}" was deactivated',[y.fbt._param("community-name",e.formattedTitle)],{hk:"3q7YBe"}))}catch(e){(0,i.filteredCatch)(o.ServerStatusCodeError,(()=>{__LOG__(4,void 0,new Error,!0)`Community deactivation failed`,SEND_LOGS("community-deactivation-failed")}))(e)}}))(),s=new l.ActionType(y.fbt._("Deactivating community ...",null,{hk:"141Rtg"}));g.ToastManager.open(v.default.createElement(l.ActionToast,{initialAction:s,pendingAction:n}));try{yield a,E()}catch(t){(0,i.filteredCatch)(o.ServerStatusCodeError,(t=>{401===t.status?p.ModalManager.open(v.default.createElement(u.ConfirmPopup,{onOK:()=>p.ModalManager.close()},y.fbt._("Community could not be deactivated. You did not create this community, so you cannot deactivate it.",null,{hk:"2bDNa0"}))):404===t.status?(E(),g.ToastManager.open(v.default.createElement(m.Toast,{msg:y.fbt._("This community no longer exists",null,{hk:"1WSss7"})}))):500===t.status&&p.ModalManager.open(v.default.createElement(u.ConfirmPopup,{okText:(0,c.default)("Try again"),onOK:()=>{p.ModalManager.close(),C(e)},onCancel:()=>{p.ModalManager.close()}},y.fbt._("Something went wrong. Please try again.",null,{hk:"jvJcK"})))}))(t)}}))).apply(this,arguments)}},726e3:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return h.apply(this,arguments)};var r=n(a(348926)),i=a(122583),l=a(328620),o=a(984330),s=a(258784),u=a(650348),d=a(114850),c=a(390737),f=a(548360),p=n(a(667294));function h(){return(h=(0,r.default)((function*(e,t){const a=(0,u.sendLinkSubgroups)({parentGroupId:e,subgroupIds:t}),n=(0,r.default)((function*(){try{const e=yield a;if(e.failedGroups.length>0){return e.failedGroups.reduce(((e,t)=>e&&406===t.error),!0)?new l.ActionType(f.fbt._({"*":"These groups cannot be added because the community is full.",_1:"This group cannot be added because the community is full."},[f.fbt._plural(e.failedGroups.length)],{hk:"3lFhlB"})):new l.ActionType(f.fbt._({"*":"These groups were not linked.",_1:"This group was not linked."},[f.fbt._plural(e.failedGroups.length)],{hk:"vzIWG"}))}return e.failedParticipantJids.length>0&&d.ModalManager.open(p.default.createElement(s.GeneralChatFailedParticipantsModal,{failedParticipantJids:e.failedParticipantJids})),new l.ActionType(f.fbt._({"*":"Groups linked",_1:"Group linked"},[f.fbt._plural(t.length)],{hk:"2NDR70"}))}catch(e){return __LOG__(3,!0,void 0,!0)`Subgroup linking failed`,SEND_LOGS("subgroup-linking-failed"),new l.ActionType(f.fbt._("Subgroup could not be linked. Please try again.",null,{hk:"2Eihhk"}))}}))(),h=new l.ActionType(f.fbt._({"*":"Linking groups",_1:"Linking group"},[f.fbt._plural(t.length)],{hk:"3sVN59"}));c.ToastManager.open(p.default.createElement(l.ActionToast,{initialAction:h,pendingAction:n}));try{yield a}catch(e){(0,i.filteredCatch)(o.ServerStatusCodeError,(()=>{}))(e)}}))).apply(this,arguments)}},294414:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){i.ToastManager.open(o.default.createElement(r.Toast,{msg:l.fbt._("Something went wrong",null,{hk:"2TMztB"}),duration:6e3}))};var r=a(625786),i=a(390737),l=a(548360),o=n(a(667294))},48360:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplEndProductMessageSend=function(e){const t=r.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;e.then((()=>{i.QPL.markerEnd(t,n.QuickLogActionType.SUCCESS)})).catch((()=>{i.QPL.markerEnd(t,n.QuickLogActionType.FAIL)}))},t.qplStartProductSendMessage=function(e,t,a){const n=r.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;i.QPL.markerStart(n,{annotations:{string:{EntryPoint:e}}}),void 0!==t&&i.QPL.markerAnnotate(n,{int:{ProductCount:t}}),void 0!==a&&i.QPL.markerAnnotate(n,{int:{ContactCount:a}})};var n=a(15842),r=a(316348),i=a(555622)},726855:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CartDetailDrawer=void 0;var r=n(a(348926)),i=a(652204),l=a(15842),o=a(632157),s=n(a(680110)),u=a(72696),d=a(702727),c=n(a(106901)),f=n(a(961827)),p=n(a(898475)),h=a(778945),m=a(542358),g=a(290895),y=a(784423),v=a(957256),E=n(a(704107)),C=a(698867),b=a(103440),_=n(a(908081)),w=n(a(324093)),S=a(568550),k=a(626194),M=a(900316),P=n(a(395767)),T=n(a(570834)),O=n(a(495012)),x=a(690495),I=a(114850),L=a(71977),D=a(932523),R=a(904827),A=n(a(294414)),N=a(180519),j=a(667738),F=a(676345),B=a(887222),W=a(617425),H=a(548360),z=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=G(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),U=n(a(156720)),V=n(a(637660)),q=a(808446);function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(G=function(e){return e?a:t})(e)}const Y={emptyCartContainer:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",height:"ppled2lx",paddingTop:"gq7nj7y3",paddingEnd:"td5bf8pq",paddingBottom:"eynyaxvo",paddingStart:"l3k7h4x6",backgroundColor:"ihvf49ua"},emptyCardHeader:{marginTop:"nylzjxre",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka"},emptyCardText:{marginBottom:"bvhm1occ",textAlign:"qfejxiq4"},contentBackground:{backgroundColor:"ihvf49ua"},footer:{position:"g0rxnol2",zIndex:"b9fczbqn",boxSizing:"cm280p3y",backgroundColor:"ihvf49ua"},footerDark:{backgroundColor:"emqjox7q"}};function K(e){let{cart:t}=e;const a=t.itemCount;return null==a||0===a?null:z.default.createElement(N.TextDiv,{theme:"title"},H.fbt._({"*":"{cart-number-of-items} items",_1:"1 item"},[H.fbt._plural(a,"cart-number-of-items")],{hk:"3Xysc4"}))}function X(e){const{cart:t,onSend:a,cartFlatListControllerRef:n,onProductDetail:r,sellerJid:i,cartProductItems:l,isDarkTheme:o,isDirectConnection:s,onProductCatalog:u}=e,c=(0,d.getSavingsFromCartItemsAndProducts)(l);return z.default.createElement(z.default.Fragment,null,z.default.createElement(Q,{cart:t,onProductCatalog:u}),z.default.createElement(E.default,{flatListController:n.current,onProductDetail:r,cart:t,sellerJid:i,cartProductItems:l}),z.default.createElement("div",{className:(0,U.default)(Y.footer,o&&Y.footerDark)},z.default.createElement(y.CartDrawerContentFooter,{savings:c,cart:t,onSend:a,isDirectConnection:s})))}function Z(e){let{onProductCatalog:t}=e;return z.default.createElement(W.WDSButtonSecondary,{testid:"cart-add-more-button",onClick:t},H.fbt._("Add More",null,{hk:"2QM3jH"}))}function Q(e){let{cart:t,onProductCatalog:a}=e;return z.default.createElement(x.FlexRow,{justify:"all",align:"center",xstyle:[F.uiPadding.all16,Y.contentBackground]},z.default.createElement(K,{cart:t}),z.default.createElement(Z,{onProductCatalog:a}))}function J(e){let{businessProfile:t,onProductCatalog:a}=e;return z.default.createElement("div",{className:(0,U.default)(Y.emptyCartContainer)},z.default.createElement(R.ShoppingCartEmptyIcon,null),z.default.createElement(N.TextDiv,{xstyle:Y.emptyCardHeader,theme:"large"},H.fbt._("Add items to your cart",null,{hk:"411bLF"})),z.default.createElement(N.TextDiv,{xstyle:Y.emptyCardText,theme:"plain"},H.fbt._("Collect all the items you're interested in here and then send them to the business. Use your cart to ask about buying, customizing, delivery, or anything you want.",null,{hk:"2L1JTk"})),(0,m.hasCatalog)(t)&&z.default.createElement(W.WDSButtonPrimary,{onClick:a},H.fbt._("View catalog",null,{hk:"1bDXja"})))}K.displayName="CartDrawerContentTitle",X.displayName="DrawerContentComponent",Z.displayName="MoreButton",Q.displayName="DrawerContentHeader",J.displayName="EmptyCartContent";const $=a(76672)({LOADING:"loading",READY_EMPTY:"readyEmpty",READY_CONTENT:"readyContent"});function ee(e){let{children:t,drawerState:a,emptyContent:n}=e;switch(a){case $.READY_EMPTY:return n;case $.READY_CONTENT:return t;case $.LOADING:return z.default.createElement(O.default,null)}}ee.displayName="DrawerBodyState";const te=(0,z.forwardRef)(((e,t)=>{const{onBack:a,sellerJid:n,chat:m,closeDrawerRightOnSend:y,onProductCatalog:E,onProductDetail:O,isPushed:x=!0}=e,R=(0,z.useContext)(S.DrawerContext),N=(0,j.useIsDarkTheme)(),F=(0,z.useMemo)((()=>g.CartCollection.findCart(n)),[n]),W=(0,z.useRef)(null),U=(0,V.default)((()=>new i.PromiseQueue)),G=(0,V.default)((()=>new T.default)),[Y,K]=(0,z.useState)(!0),[Z,Q]=(0,z.useState)(void 0),[te,ae]=(0,z.useState)([]),[ne,re]=(0,z.useState)(F.message),ie=function(){var e=(0,r.default)((function*(e){const[t,a]=yield Promise.all([e?(0,c.default)(F,x):Promise.resolve(),h.BusinessProfileCollection.find(m.id)]);t&&(W.current=t);const n=(0,d.matchCartItemsToProducts)(F,W.current);K(!1),Q(a),ae(n)}));return function(){return e.apply(this,arguments)}}();(0,q.useListener)(F,"change:cartItemCollection",(()=>{U.current.enqueue((()=>ie()))})),(0,z.useEffect)((()=>{let e=!0;x&&(0,B.qplAnnotateCartView)(F.id.toString()!==n,F.itemCount),ie(!0,x).then((()=>{e=!1,x&&(0,B.qplEndCartView)(l.QuickLogActionType.SUCCESS),(0,v.logCartListImpression)(F.id.toString(),(0,D.getProductCatalogContext)(R))})).catch((()=>{__LOG__(4,!0,new Error,!0)`Unable to open the cart`,SEND_LOGS("openCart: failed to open the cart"),(0,A.default)(),(0,s.default)(F)})).finally((()=>{e&&x&&(0,B.qplEndCartView)(l.QuickLogActionType.FAIL),K(!1)}))}),[]);const le=(0,z.useMemo)((()=>Y?$.LOADING:F.itemCount?$.READY_CONTENT:$.READY_EMPTY),[Y,F.itemCount]),oe=z.default.createElement(J,{onProductCatalog:E,businessProfile:Z}),se=(0,u.isBuyerOrderRequestVariantEnabled)()?H.fbt._("Your order request",null,{hk:"2HSxG4"}):H.fbt._("Your cart",null,{hk:"Sn66V"});return z.default.createElement(_.default,{ref:t,onDrop:a,theme:"striped"},z.default.createElement(k.DrawerHeader,{title:se,type:k.DRAWER_HEADER_TYPE.SMALL,onBack:a}),z.default.createElement(w.default,{flatListControllers:[G.current]},z.default.createElement(ee,{drawerState:le,emptyContent:oe},z.default.createElement(X,{cart:F,chat:m,onSend:()=>{K(!0),(0,B.qplStartOrderCreate)(te.length),(0,f.default)(F,m).then((e=>{const t=Boolean(F.message);(0,L.logSendOrderMessage)({orderId:e,catalogOwnerJid:F.id,catalogContext:(0,D.getProductCatalogContext)(R),isOrderMsgAttached:t,quantity:F.itemCount}),(0,u.commerceThreadsLoggingEnabled)()&&(0,C.handleActivitiesForChatThreadLogging)([{activityType:"ordersSent",ts:(0,o.unixTime)(),chatId:m.id}]),a(),(0,s.default)(F),F.message=void 0,y&&M.DrawerManager.existsDrawerRight((e=>{e&&M.DrawerManager.closeDrawerRight()})),(0,B.qplEndOrderCreate)(l.QuickLogActionType.SUCCESS)})).catch((()=>{__LOG__(4,!0,new Error,!0)`Unable to create catalog order`,SEND_LOGS("submitOrder: order creation or order message send error"),(0,A.default)(),ie(!0),(0,B.qplEndOrderCreate)(l.QuickLogActionType.FAIL)})).finally((()=>{K(!1)}))},onChange:e=>{re(e),(0,p.default)(F,e)},onMaxPasteExceeded:()=>{I.ModalManager.open(z.default.createElement(b.ConfirmPopup,{title:H.fbt._("Message Too Long",null,{hk:"3CMbLA"}),onOK:()=>{I.ModalManager.close()},okText:(0,P.default)("OK")},H.fbt._("The message you're pasting is too long. Try shortening it or sending it as a separate message.",null,{hk:"3uhizb"})))},cartMessage:ne,cartFlatListControllerRef:G,onProductDetail:O,onProductCatalog:E,sellerJid:n,cartProductItems:te,isDarkTheme:N,isDirectConnection:Boolean(null==Z?void 0:Z.isBusinessDirectConnection())}))))}));t.CartDetailDrawer=te,te.displayName="CartDetailDrawer"},784423:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CartDrawerContentFooter=M;var r=a(287461),i=a(72696),l=n(a(692629)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(800857)),s=a(263079),u=a(753233),d=a(258105),c=a(690495),f=a(180519),p=a(676345),h=n(a(844453)),m=a(548360),g=n(a(667294));n(a(156720));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const v={footerPrice:{width:"ln8gz9je"},footerBorder:{borderTop:"swyb62mu"}},E=()=>g.default.createElement(g.default.Fragment,null,m.fbt._("By continuing, you agree to share your cart and phone number with the business so it can confirm your order and total price, including any tax, fees and discounts.",null,{hk:"a2Yd0"})," ",g.default.createElement(u.ExternalLink,{href:(0,d.getJioMartPostcodeChangeLearnMoreLink)()},m.fbt._("Learn More",null,{hk:"281Gd"}))),C=()=>m.fbt._("By continuing, you agree to share your cart, profile name and phone number with the business so it can confirm your order and total price, including any tax, fees and discounts",null,{hk:"1dZzWv"});function b(e){let{isDirectConnection:t}=e;return t&&(0,s.supportsDirectConnection)()&&(0,r.getABPropConfigValue)("share_phone_number_on_cart_send_to_direct_connection_biz_enabled")?g.default.createElement(E,null):g.default.createElement(C,null)}function _(e){let{currency:t,savings:a}=e;return g.default.createElement(c.FlexRow,{align:"baseline",justify:"all",xstyle:[p.uiMargin.bottom8,v.footerPrice]},g.default.createElement(f.TextSpan,{theme:"title",color:"secondary"},m.fbt._("You save",null,{hk:"2gJK4X"})),g.default.createElement(f.TextSpan,{theme:"title",color:"accent"},m.fbt._("{cart-savings}",[m.fbt._param("cart-savings",o.formatAmount1000(t,a))],{hk:"3rC0sz"})))}function w(e){let{currency:t,savings:a,total:n}=e;return g.default.createElement(g.default.Fragment,null,a>0?g.default.createElement(_,{currency:t,savings:a}):null,g.default.createElement(c.FlexRow,{align:"baseline",justify:"all",xstyle:[p.uiMargin.bottom8,v.footerPrice]},g.default.createElement(f.TextSpan,{theme:"title",color:"dark",weight:"medium"},m.fbt._("Estimated total",null,{hk:"1B6kY"})),g.default.createElement(f.TextSpan,{theme:"title",color:"dark"},m.fbt._("{cart-total-price}",[m.fbt._param("cart-total-price",o.formatAmount1000(t,n))],{hk:"3y3vJX"}))))}b.displayName="FooterDescription",_.displayName="FooterTotalPriceSavings",w.displayName="FooterPriceDescriptionTotalPrice";const S=()=>g.default.createElement(f.TextSpan,{theme:"title",color:"dark",weight:"medium"},m.fbt._("Business will provide total price",null,{hk:"3EzUju"}));function k(e){let{currency:t,savings:a,total:n}=e;return null!=n&&null!=t?g.default.createElement(w,{currency:t,savings:a,total:n}):g.default.createElement(S,null)}function M(e){const{onSend:t,isDirectConnection:a,cart:n,savings:r}=e;return g.default.createElement(c.FlexColumn,{xstyle:[v.footerBorder,p.uiPadding.all16]},g.default.createElement(k,{total:n.total,currency:n.currency,savings:r}),g.default.createElement(f.TextDiv,{theme:"plain",color:"secondary",xstyle:p.uiMargin.bottom15},g.default.createElement(b,{isDirectConnection:a})),g.default.createElement(h.default,{appear:!0,transitionName:"btn"},g.default.createElement(l.default,{testid:"cart-send-button",type:"primary",onClick:t},(0,i.isBuyerOrderRequestVariantEnabled)()?m.fbt._("Send order request",null,{hk:"2Lau6F"}):m.fbt._("Send to business",null,{hk:"3M6SXI"}))))}k.displayName="FooterPriceSection",M.displayName="CartDrawerContentFooter"},704107:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(a(873955)),i=n(a(327422)),l=a(512938),o=n(a(964223)),s=a(899841),u=n(a(667294));const d=(0,l.FlatListFactory)();function c(e){const{cartProductItems:t,onProductDetail:a,sellerJid:n}=e;return u.default.createElement(o.default,{flatListControllers:[e.flatListController]},u.default.createElement(d,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:t.map((e=>({itemKey:e.cartItem.id,contentKey:(0,r.default)("cartItem"),product:e.product,cartItem:e.cartItem}))),renderItem:e=>u.default.createElement(i.default,{cartId:n,product:e.product,quantity:e.cartItem.quantity,onClick:()=>a({productId:e.cartItem.id,businessOwnerJid:n})}),defaultItemHeight:s.CART_PRODUCT_LIST_ITEM_HEIGHT}))}c.displayName="CartProductList"},327422:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=P;var r=n(a(187783)),i=a(72696),l=n(a(905221)),o=n(a(305160)),s=a(957256),u=n(a(573006)),d=n(a(894138)),c=n(a(170206)),f=a(568550),p=a(305521),h=a(932523),m=n(a(269261)),g=a(493770),y=a(414493),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),E=n(a(156720)),C=n(a(478636));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const _={visibility:"kojwoqec"},w={paddingTop:"qomlamqu",visibility:"g5crjs6l"},S={display:"p357zi0d",marginEnd:"q471nw87"},k={alignItems:"gndfcl4n",display:"p357zi0d"};function M(e){let{cartId:t,cartProduct:a,isHovered:n,quantity:c}=e;const p=(0,v.useContext)(f.DrawerContext),m=(0,h.getProductCatalogContext)(p);const g=n?(0,E.default)(w):(0,E.default)(_),C=v.default.createElement(v.default.Fragment,null,v.default.createElement(u.default,{testid:"productQuantityDropdown",quantity:c,onChange:e=>function(e,t){(0,l.default)(a,e),(0,s.logEditProduct)(a,t,e)}(e,m)}),v.default.createElement("div",{className:g},v.default.createElement(o.default,{onClick:e=>function(e,n){const i=(0,r.default)(t,a.id.toString());(0,r.default)(t,a.id.toString()),(0,s.logDeleteProduct)(a,n),0===i&&(0,s.logCartAbandon)(a.catalogWid.toString(),n),(0,y.stopEvent)(e)}(e,m)}))),b=v.default.createElement(d.default,{product:a,context:p});return v.default.createElement("div",{className:(0,E.default)(S)},(0,i.isQuantityControlsFeatureEnabled)()?b:C)}function P(e){var t;const{cartId:a,product:n,quantity:r,onClick:i}=e,l=v.default.createElement(p.EmojiText,{text:n.name,ellipsify:!0,titlify:!0}),o=null===(t=n.getPreviewImage())||void 0===t?void 0:t.mediaData,s=o?v.default.createElement(g.ProductThumb,{theme:"cart-list",mediaData:o}):null,{isHovered:u,onMouseEnter:d,onMouseLeave:f}=(0,C.default)(),h=v.default.createElement(m.default,{className:(0,E.default)(k),showTotalPrice:!0,product:n}),y=v.default.createElement(M,{isHovered:u,cartId:a,cartProduct:n,quantity:r});return v.default.createElement(c.default,{onMouseEnter:d,onMouseLeave:f,key:n.id.toString(),image:s,customImage:!0,primary:l,secondary:y,theme:"cart-product",onClick:i,detail:h})}M.displayName="Controls",P.displayName="CartProductListItem"},573006:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=a(753958),i=a(414493),l=a(676345),o=n(a(667294)),s=n(a(156720));const u={position:"g0rxnol2",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"l07amlnk",width:"b6qzmhfs"},d={fontFamily:"shdiholb"},c={position:"lhggkp7q",top:"jgz0asyo",end:"j2mzdvlq",zIndex:"mb8var44",display:"f804f6gw",height:"hpdpob1j",fontSize:"cqiun4t2",lineHeight:"gz7w46tb",color:"hp667wtd",pointerEvents:"m62443ks",backgroundRepeat:"sxl192xd"};function f(){const e=[];for(let t=1;t<=r.CART_ITEM_MAX_QUANTITY;t++)e.push(o.default.createElement("option",{key:t,value:t},t));return e}function p(e){let{onChange:t,quantity:a,testid:n}=e;return o.default.createElement("div",{className:(0,s.default)(u)},o.default.createElement("span",{className:(0,s.default)(c)},""),o.default.createElement("select",{className:(0,s.default)(d,l.uiPadding.horiz10),onClick:i.stopEvent,value:a,onChange:function(e){const a=e.target;a instanceof HTMLSelectElement&&t(parseInt(a.value,10))}},o.default.createElement(f,null)))}f.displayName="Options",p.displayName="CartProductQuantity"},411430:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(967154)),i=a(726855),l=a(568550),o=a(900316),s=n(a(329982)),u=a(932523),d=a(639793),c=a(316348),f=a(555622),p=a(238669),h=a(887222),m=a(455915),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}class v extends s.default{constructor(){super(...arguments),this._handleProductCatalog=()=>{const{sellerJid:e,chat:t}=this.props;f.QPL.markerStart(c.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Cart"}}}),this.push(g.default.createElement(d.ProductDetailsFlowLoadable,{chat:t,catalogOwnerJid:e}))},this._handleProductDetail=e=>{const{chat:t}=this.props;(0,h.qplStartProductView)("Cart"),this.push(g.default.createElement(d.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:t,productInfo:e,onEnd:this._pop}))},this._end=()=>{this.end(p.DismissReason.LIFECYCLE)},this._pop=()=>{this.pop()}}componentDidMount(){const{sellerJid:e,chat:t}=this.props,{isPushed:a}=this.state;this.push(g.default.createElement(E,{chat:t,sellerJid:e,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalog,onBack:this._end,isPushed:a})),o.DrawerManager.existsDrawerLeft((e=>{e&&o.DrawerManager.closeDrawerLeft()})),o.DrawerManager.existsDrawerMid((e=>{e&&o.DrawerManager.closeDrawerMid()}))}}t.default=v;const E=(0,g.forwardRef)(((e,t)=>{const a=(0,g.useContext)(l.DrawerContext),{entryPoint:n}=(0,u.getProductCatalogContext)(a);return g.default.createElement(i.CartDetailDrawer,(0,r.default)({ref:t,closeDrawerRightOnSend:n===m.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE},e))}));E.displayName="CartDetailDrawerWithContext"},501685:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(967154)),i=n(a(348926)),l=a(122583),o=a(15842),s=a(984330),u=a(691454),d=n(a(311397)),c=a(72696),f=a(172949),p=n(a(55423)),h=a(778945),m=a(713464),g=a(87630),y=a(177938),v=n(a(908081)),E=n(a(324093)),C=a(568550),b=a(626194),_=a(900316),w=n(a(329982)),S=a(299950),k=n(a(554740)),M=n(a(114742)),P=a(959673),T=n(a(386067)),O=a(45735),x=a(932523),I=a(77548),L=n(a(632289)),D=n(a(559893)),R=a(977575),A=n(a(980679)),N=a(854682),j=a(517086),F=a(316348),B=a(555622),W=a(625786),H=a(390737),z=a(454905),U=a(238669),V=a(459857),q=a(887222),G=a(548360),Y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=K(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(K=function(e){return e?a:t})(e)}const X=a(76672).Mirrored(["YES","NO","PENDING"]);class Z extends w.default{constructor(){var e;super(...arguments),e=this,this._isComplianceFormVisible=!1,this._isProductListVisible=!1,this._blockCartInterstitial=()=>this.props.mustCompleteCompliance!==X.NO,this._isCreatingCatalog=()=>this.props.isCreatingCatalog,this._showProductList=e=>{this.push(Y.default.createElement(D.default,{contact:this.props.contact,onCatalogLinkClick:this._handleCatalogShare,onProductShare:this._handleProductShare,onProductDetail:this._handleEditProduct,onAddProduct:this._handleAddProduct,onRemoveProduct:this._handleRemoveProduct,catalogId:this.props.catalogId,onBack:this._end,onCartClick:this._handleCartClick,businessProfile:null,headerType:(0,z.topMenuRedesignEnabled)()?b.DRAWER_HEADER_TYPE.SMALL:b.DRAWER_HEADER_TYPE.LARGE,onCollectionSeeAll:this._handleCollectionSeeAll,canManageCatalog:!0,autoUpdate:!0,onOpenCollections:this._handleOpenCollections,onOpenMerchantDetailsForm:this._handleOpenMerchantDetailsForm,onEditCollection:this._handleEditCollection,onOpenSettings:this._handleOpenSettings,blockCartInterstitialFn:this._blockCartInterstitial,canLogQpl:e}))},this._handleOpenMerchantDetailsForm=()=>{const e=(0,V.getMeUser)();this.push(Y.default.createElement(P.MerchantDetailsFormFlowLoadable,{contactId:e,onBack:this.pop}))},this._handleEditProduct=e=>{const t=m.CatalogCollection.assertGet(this.props.catalogId);_.DrawerManager.openDrawerMid(Y.default.createElement(d.default,{catalog:t,product:e}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:S.FocusType.TABBABLE})},this._handleCartClick=e=>{(0,p.default)(e,void 0,this.props.context)},this._handleCollectionSeeAll=e=>{this.push(Y.default.createElement(R.CollectionContentDrawer,{contact:this.props.contact,onProductDetail:this._handleEditProduct,onProductShare:this._handleProductShare,catalogId:this.props.catalogId,onBack:this._pop,onCatalogLinkClick:this._handleCatalogShare,onCartClick:this._handleCartClick,collection:e,canManageCatalog:!0,headerType:(0,z.topMenuRedesignEnabled)()?b.DRAWER_HEADER_TYPE.SMALL:b.DRAWER_HEADER_TYPE.LARGE,onEditCollection:this._handleEditCollection}))},this._handleEditCollection=e=>{const t=m.CatalogCollection.get(this.props.catalogId);e||(0,N.logCollectionCreateClicked)((0,x.getProductCatalogContext)(this.props.context)),t&&this.push(Y.default.createElement(k.default,{onBack:this._pop,collection:e,catalog:t}))},this._handleCatalogShare=(e,t)=>{_.DrawerManager.openDrawerMid(Y.default.createElement(T.default,{onCancel:()=>{_.DrawerManager.closeDrawerMid()},catalog:e,contact:t,prompt:G.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"}),onSend:()=>_.DrawerManager.closeDrawerMid(),centerDrawer:!0}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:S.FocusType.TABBABLE})},this._handleProductShare=e=>{_.DrawerManager.openDrawerMid(Y.default.createElement(L.default,{onCancel:()=>{_.DrawerManager.closeDrawerMid()},product:e,prompt:G.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"}),onSend:()=>_.DrawerManager.closeDrawerMid(),centerDrawer:!0,sendProductMsg:!0}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:S.FocusType.TABBABLE})},this._handleOpenCollections=()=>{B.QPL.markerStart(F.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW),this.push(Y.default.createElement(A.default,{onBack:this._pop,editCollection:this.editCollection,onSeeCollection:this._handleSeeCollection,onReorderCollection:this._handleReorderCollections})),(0,N.logCollectionMenuClicked)((0,x.getProductCatalogContext)(this.props.context))},this._handleReorderCollections=()=>{this.push(Y.default.createElement(A.default,{onBack:this._pop,editCollection:this.editCollection,onSeeCollection:this._handleSeeCollection,isReorder:!0}))},this._handleSeeCollection=e=>{(0,q.qplStartCollectionViewAll)("Collection"),this.push(Y.default.createElement(Q,{catalogId:this.props.catalogId,collection:e,product:null}))},this.editCollection=e=>{const t=m.CatalogCollection.get(this.props.catalogId);e||(0,N.logCollectionCreateClicked)((0,x.getProductCatalogContext)(this.props.context)),t&&this.push(Y.default.createElement(k.default,{onBack:this._pop,collection:e,catalog:t}))},this._handleOpenSettings=()=>{this.push(Y.default.createElement(O.CatalogSettingsDrawer,{onBack:this._pop}))},this._handleAddProduct=()=>this.props.onAddProduct(),this._handleAddFirstProduct=()=>this.props.onAddFirstProduct(),this._handleRemoveProduct=()=>this.props.onRemoveProduct(),this._handleAddProductFromBusinessDetails=(0,i.default)((function*(){e._pop(),e._isComplianceFormVisible=!1,yield e.props.onComplianceFormClosed();m.CatalogCollection.get(e.props.catalogId)?e._handleAddProduct():e._handleAddFirstProduct()})),this._pop=()=>{this.pop(),_.DrawerManager.closeDrawerMid()},this._end=()=>{this.end(U.DismissReason.LIFECYCLE),_.DrawerManager.closeDrawerMid()}}componentDidMount(){null!=this.props.collection?this._handleCollectionSeeAll(this.props.collection):null!=this.props.catalog?(this._showProductList(!0),null!=this.props.product&&this._handleEditProduct(this.props.product)):(B.QPL.markerDrop(F.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW),this._showNewCatalog())}componentDidUpdate(){this.props.showComplianceForm&&!this._isComplianceFormVisible?(this._isComplianceFormVisible=!0,this._showComplianceForm()):this.props.showProductList&&!this._isProductListVisible&&(this._isProductListVisible=!0,this._showProductList(!1))}_showNewCatalog(){this.push(Y.default.createElement(M.default,{isCreatingCatalogFn:this._isCreatingCatalog,onBack:this._pop,onAddProductClick:this._handleAddFirstProduct}))}_showComplianceForm(){this.push(Y.default.createElement(P.MerchantDetailsFormFlowLoadable,{contactId:this.props.contact.id,enableCatalogCreationContext:!0,enableBusinessProfileAddress:!0,onAddProduct:this._handleAddProductFromBusinessDetails,onBack:()=>{this._pop(),this._isComplianceFormVisible=!1,this.props.onComplianceFormClosed()},onUnmount:()=>{this._isComplianceFormVisible=!1,this.props.onComplianceFormClosed()}}))}}const Q=(0,Y.forwardRef)(((e,t)=>{const a=(0,Y.useContext)(C.DrawerContext),[n,p]=(0,Y.useState)(X.PENDING),w=y.ContactCollection.get(e.catalogId),[k,M]=(0,Y.useState)(!1),[P,T]=(0,Y.useState)(!1),[O,L]=(0,Y.useState)(!1),[D,R]=(0,Y.useState)(!1),A=(0,Y.useCallback)((()=>m.CatalogCollection.get(e.catalogId)),[e.catalogId]),N=(0,Y.useCallback)((0,i.default)((function*(){var e;if(!w)return __LOG__(4,void 0,new Error,!0)`Cannot update compliance for non existing user`,void SEND_LOGS("catalog-management-flow-compliance-no-contact-error");p(X.PENDING);const t=null===(e=h.BusinessProfileCollection.get(w.id))||void 0===e?void 0:e.address;let a=X.NO;const n=A();!(0,c.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(w.id)||n&&n.productCollection.length||(0,u.isBusinessCompliant)(t,yield(0,g.getLegalEntityDetails)(w.id),w.id)||(a=X.YES),p(a)})),[w,A]),z=(0,Y.useCallback)((()=>{const e=A();if(n===X.YES)M(!0);else if(n===X.PENDING)L(!0);else if(e){const t=new j.Product({catalogWid:e.id,additionalImageCdnUrl:[]});_.DrawerManager.openDrawerMid(Y.default.createElement(d.default,{catalog:e,product:t,onCreate:t=>{_.DrawerManager.openDrawerMid(Y.default.createElement(d.default,{catalog:e,product:t}),{transition:"slide-left",newDrawerContext:a,focusType:S.FocusType.TABBABLE})},newProduct:!0}),{transition:"slide-left",newDrawerContext:a,focusType:S.FocusType.TABBABLE})}}),[n,a,A]),U=(0,Y.useCallback)((0,i.default)((function*(){R(!0);const t=(0,x.getProductCatalogContext)(a);(0,I.logCreateProductCatalogClick)(t),B.QPL.markerStart(F.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE);let n=!0;try{yield(0,f.createCatalog)(),(0,I.logCreateProductCatalogSuccess)(t),n=!1,B.QPL.markerEnd(F.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE,o.QuickLogActionType.SUCCESS);try{yield m.CatalogCollection.find(e.catalogId),T(!0),z()}catch(e){(0,l.filteredCatch)(s.ServerStatusCodeError,(()=>{__LOG__(3)`Failed to fetch product catalog from server`}))}}catch(e){(0,l.filteredCatch)(s.ServerStatusCodeError,(e=>{(0,I.logCreateProductCatalogFailed)(t,e.statusCode),H.ToastManager.open(Y.default.createElement(W.Toast,{msg:G.fbt._("Catalog already created.",null,{hk:"1s2DFD"}),id:(0,W.genId)("err_catalog_already_created")})),T(!0)}))}finally{n&&B.QPL.markerEnd(F.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE,o.QuickLogActionType.FAIL)}R(!1)})),[e.catalogId,a,z]),V=(0,Y.useCallback)((0,i.default)((function*(){n===X.YES?M(!0):n===X.PENDING?L(!0):yield U()})),[n,U]),q=(0,Y.useCallback)((0,i.default)((function*(){yield N()})),[N]);return(0,Y.useEffect)((()=>{N()}),[]),(0,Y.useEffect)((()=>{const e=A();O&&n!==X.PENDING&&(L(!1),n===X.YES?M(!0):e?z():U()),n===X.YES&&_.DrawerManager.closeDrawerMid()}),[O,n,A,U,z]),w?O?Y.default.createElement(v.default,{ref:t},Y.default.createElement(b.DrawerHeader,{title:G.fbt._("Add new item",null,{hk:"2Tc6p3"}),onCancel:()=>{M(!1),L(!1)},type:b.DRAWER_HEADER_TYPE.LARGE}),Y.default.createElement(E.default,{theme:"center-content"},Y.default.createElement(g.ComplianceInfoLoading,null))):Y.default.createElement(C.DrawerContext.Consumer,null,(a=>Y.default.createElement(Z,(0,r.default)({ref:t,contact:w,context:a,mustCompleteCompliance:n,showComplianceForm:k,showProductList:P,isCreatingCatalog:D,onAddProduct:z,onAddFirstProduct:V,onRemoveProduct:q,onComplianceFormClosed:()=>(M(!1),N())},e)))):null}));Q.displayName="CatalogManagement";var J=Q;t.default=J},311397:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(900316),i=n(a(329982)),l=a(319170),o=a(387268),s=n(a(632289)),u=a(887222),d=a(548360),c=n(a(667294));class f extends i.default{constructor(){super(...arguments),this._handleEditSuccess=e=>{(0,u.qplStartProductView)("EditProduct"),this._showInfoDrawer(e)},this._showInfoDrawer=e=>{const{catalog:t}=this.props;this.push(c.default.createElement(o.ProductInfoDrawer,{catalog:t,product:e,onCancel:this.end,onEditProduct:this._handleProductEdit,onShareProduct:this._handleShareProduct}))},this._handleShareProduct=e=>{this.push(c.default.createElement(s.default,{onBack:this._pop,product:e,prompt:c.default.createElement("div",null,d.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"})),onSend:()=>r.DrawerManager.closeDrawerMid(),centerDrawer:!0,sendProductMsg:!0}))},this._handleProductEdit=e=>{this.push(c.default.createElement(l.EditProductDrawer,{catalog:this.props.catalog,onBack:this._pop,onEditSuccess:this._handleEditSuccess,product:e,onDelete:this._handleDelete}))},this._handleDelete=e=>{var t,a;const{product:n}=this.props;n.id===e.id&&r.DrawerManager.closeDrawerMid(),null===(t=(a=this.props).onDelete)||void 0===t||t.call(a)},this._pop=()=>{this.pop()}}componentDidMount(){const{catalog:e,product:t,onCreate:a,newProduct:n}=this.props;e.productCollection.on("remove",this._handleDelete),n?this.push(c.default.createElement(l.EditProductDrawer,{onCancel:this._pop,onEditSuccess:e=>a?a(e):this._handleEditSuccess(t),catalog:e,product:t,newProduct:!0})):this._showInfoDrawer(t)}componentWillUnmount(){this.props.catalog.productCollection.off("remove",this._handleDelete)}}t.default=f},751188:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.default)((()=>new Set)),a=(0,u.useRef)();return(0,u.useEffect)((()=>{const t=e.modelsToUpdate.length;a.current=1===t?e.modelsToUpdate[0]instanceof i.Chat?o.LABEL_TARGETS.LABEL_CHAT_DIALOG:o.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:o.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,s.logLabelOperationEvent)(l.LABEL_OPERATIONS.VIEW,t,a.current)}),[]),u.default.createElement(r.default,{shouldScrollIntoViewAndSelect:e=>t.current.has(e)?(t.current.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1},onLabelUpdateComplete:()=>{var t,a;null===(t=e.onLabelUpdateComplete)||void 0===t||t.call(e),null===(a=e.onClose)||void 0===a||a.call(e)},onCancel:()=>{var t;a.current&&(0,s.logLabelOperationEvent)(l.LABEL_OPERATIONS.CLICK_NEGATIVE,e.modelsToUpdate.length,a.current),null===(t=e.onClose)||void 0===t||t.call(e)},onNewLabelAdded:e=>{t.current.add(e)},modelsToUpdate:e.modelsToUpdate})};var r=n(a(131929)),i=a(79672),l=a(248027),o=a(581826),s=a(651919),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),d=n(a(637660));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}},568471:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(348926)),l=a(986120),o=a(823669),s=a(492014),u=n(a(685957)),d=a(691454),c=a(72696),f=a(179652),p=a(194787),h=a(778945),m=a(972855),g=a(107755),y=a(780549),v=a(845553),E=a(87630),C=n(a(908081)),b=n(a(324093)),_=a(626194),w=n(a(969358)),S=n(a(171915)),k=a(392832),M=n(a(329982)),P=a(131410),T=a(585987),O=a(202391),x=a(180519),I=a(459857),L=a(912837),D=n(a(556869)),R=a(548360),A=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));n(a(156720));function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}const j={complianceInfoHelpCenterBanner:{color:"hp667wtd",paddingTop:"nlnf8xo7",paddingEnd:"bcymb0na",paddingBottom:"r219jyu0",paddingStart:"e8k79tju"},formContainer:{paddingTop:"a4bywxmn",paddingEnd:"bcymb0na",paddingBottom:"ekpn4oxx",paddingStart:"e8k79tju",marginBottom:"brac1wpa"},formTitle:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginBottom:"oqp0d33z"},formTitleWithSubtitle:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginBottom:"inww9tbj"},subtitle:{color:"hp667wtd",marginBottom:"oqp0d33z"},containingBlock:{transform:"cgi16xlc"}};class F extends M.default{componentDidMount(){this.push(A.default.createElement(G,{contactId:this.props.contactId,enableCatalogCreationContext:this.props.enableCatalogCreationContext,enableBusinessProfileAddress:this.props.enableBusinessProfileAddress,onBack:()=>{this.props.onBack()},onAddProduct:this.props.onAddProduct}))}componentWillUnmount(){var e,t;null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t)}}t.default=F;const B=e=>e?j.formTitleWithSubtitle:j.formTitle,W=()=>R.fbt._("Add a legal name of business",null,{hk:"1Dgk4f"}),H=()=>R.fbt._("Add a business address",null,{hk:"2x7w3h"}),z=e=>e?R.fbt._("Incorrect email address format",null,{hk:"1KuwvT"}):R.fbt._("Add an email address",null,{hk:"KeJaU"}),U=()=>R.fbt._("Add a grievance officer name",null,{hk:"29OUSc"}),V=e=>!e||(0,l.isPotentiallyPhoneNumber)(e),q=(0,I.getMeUser)(),G=(0,A.forwardRef)(((e,t)=>{let{contactId:a,onBack:n,enableCatalogCreationContext:l,enableBusinessProfileAddress:f,onAddProduct:g}=e;const[k,M]=(0,A.useState)({}),[O,I]=(0,A.useState)({}),[N,F]=(0,A.useState)({}),[G,K]=(0,A.useState)(!0),[Z,Q]=(0,A.useState)(!1),[J,$]=(0,A.useState)(),[ee,te]=(0,A.useState)(!1);(0,A.useEffect)((()=>{let e=!0;return(0,i.default)((function*(){const[t,n]=yield Promise.all([(0,E.getLegalEntityDetails)(a),h.BusinessProfileCollection.find(a)]);e&&(M(t),$(n.serialize()),K(!1))}))(),()=>{e=!1}}),[a]),(0,A.useEffect)((()=>{te(!Object.keys(N).length&&!Object.keys(O).length&&(0,d.isBusinessCompliant)(null==J?void 0:J.address,k,a))}),[k,O,null==J?void 0:J.address,a,N]);const ae=function(){var e=(0,i.default)((function*(e){yield(0,m.editBusinessCompliance)(e);const t=yield h.BusinessProfileCollection.update(q,{getMerchantCompliance:!0});return(Array.isArray(t)?t[0]:t).serialize().legalEntityDetails}));return function(){return e.apply(this,arguments)}}(),ne=(0,A.useCallback)((e=>{F((t=>(0,r.default)((0,r.default)({},t),{},{[e]:!0})))}),[]),re=(0,A.useCallback)((e=>{F((t=>{const a=(0,r.default)({},t);return a.hasOwnProperty(e)&&delete a[e],a}))}),[]),ie=(0,A.useCallback)(function(){var e=(0,i.default)((function*(e,t){const a={[e]:t,isRegistered:null==k?void 0:k.isRegistered};re(e),M((0,r.default)((0,r.default)({},k),a));const n=yield ae(a);M(n)}));return function(){return e.apply(this,arguments)}}(),[k,re]),le=(0,A.useCallback)(((e,t)=>{I((a=>(0,r.default)((0,r.default)({},a),{},{[`${e}.${t}`]:!0})))}),[]),oe=(0,A.useCallback)(((e,t)=>{I((a=>{const n=(0,r.default)({},a);return delete n[`${e}.${t}`],n}))}),[]),se=(0,A.useCallback)(function(){var e=(0,i.default)((function*(e,t,a){const n={[e]:{[t]:a},isRegistered:null==k?void 0:k.isRegistered};M((0,r.default)((0,r.default)({},k),{},{[e]:(0,r.default)((0,r.default)({},null==k?void 0:k[e]),n[e])}));try{le(e,t);const a=yield ae(n);M(a),oe(e,t),re(`${e}.${t}`)}catch(e){throw(0,D.default)(e)}}));return function(){return e.apply(this,arguments)}}(),[k,le,oe,re]),ue=(0,A.useCallback)(function(){var e=(0,i.default)((function*(e){$(e),re("businessAddress"),yield h.BusinessProfileCollection.update(q)}));return function(){return e.apply(this,arguments)}}(),[re]),de=(0,A.useCallback)(function(){var e=(0,i.default)((function*(e,t){M(yield(0,E.getLegalEntityDetails)(a)),oe(e,t)}));return function(){return e.apply(this,arguments)}}(),[a,oe]),ce=(0,A.useCallback)(function(){var e=(0,i.default)((function*(e,t,a){if(e||t){Q(!0);const n=yield ae({entityType:e,entityTypeCustom:t,isRegistered:a});Q(!1),M(n)}}));return function(){return e.apply(this,arguments)}}(),[]),{entityName:fe,customerCareDetails:pe,grievanceOfficerDetails:he}=k||{},me=(0,A.useMemo)((()=>(0,d.getEntityTypeText)(k)),[k]),ge=(0,A.useCallback)((e=>(0,d.existsField)(e,a)),[a]),ye=(0,A.useRef)(null),ve=(0,c.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(q);return A.default.createElement("div",{ref:t},A.default.createElement(C.default,{xstyle:j.containingBlock},A.default.createElement(_.DrawerHeader,{title:R.fbt._("Business details",null,{hk:"m9xzp"}),onBack:n,type:_.DRAWER_HEADER_TYPE.LARGE}),A.default.createElement(b.default,{theme:G?"center-content":void 0,ref:ye},G?A.default.createElement(E.ComplianceInfoLoading,null):A.default.createElement(A.default.Fragment,null,A.default.createElement(E.ComplianceInfoHelpCenterBanner,{xstyle:j.complianceInfoHelpCenterBanner}),A.default.createElement(w.default,{titleXStyle:j.formTitle,xstyle:j.formContainer},A.default.createElement(Y,{value:fe,maxLength:v.COMPLIANCE_INFO_LENGTH.ENTITY_NAME,placeholder:R.fbt._("Legal Name of Business",null,{hk:"2s9jD"}),Icon:P.InfoIcon,validate:ge,errorFn:W,onSave:e=>ie("entityName",e),onError:()=>ne("entityName")}),A.default.createElement(Y,{value:me,placeholder:R.fbt._("Business Type",null,{hk:"48J73B"}),Icon:o.AccountBalanceIcon,onFocus:()=>y.Cmd.showMerchantDetailsEntityTypePopup(k,ce),isLoading:Z}),ve?A.default.createElement(X,{rawBusinessProfile:J,validate:ge,onAfterSave:ue,errorFn:H,onError:()=>ne("businessAddress")}):null),A.default.createElement(w.default,{title:R.fbt._("Customer Care Information",null,{hk:"qlYos"}),titleXStyle:B(ve),xstyle:j.formContainer},ve?A.default.createElement(x.TextDiv,{xstyle:j.subtitle},R.fbt._("Provide at least one phone number and email address",null,{hk:"IKXYK"})):null,A.default.createElement(Y,{value:null==pe?void 0:pe.mobileNumber,maxLength:v.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,placeholder:R.fbt._("Mobile Phone Number",null,{hk:"PMTTg"}),Icon:T.PhoneIcon,validate:e=>(0,d.existsCustomerCareDetailsContact)(pe,a,"mobileNumber",e)&&V(e),onSave:e=>se("customerCareDetails","mobileNumber",e),onCancel:()=>de("customerCareDetails","mobileNumber"),onError:e=>(0,E.handleCustomerCareDetailsError)(pe,a,"mobileNumber",e),errorFn:e=>(0,d.getCustomerCareDetailsError)(pe,"mobileNumber",e,R.fbt._("Incorrect phone number format",null,{hk:"3lFQ1f"}),a)}),A.default.createElement(Y,{value:null==pe?void 0:pe.landlineNumber,maxLength:v.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,placeholder:R.fbt._("Landline Phone Number",null,{hk:"tXYaf"}),Icon:T.PhoneIcon,validate:e=>(0,d.existsCustomerCareDetailsContact)(pe,a,"landlineNumber",e)&&V(e),onSave:e=>se("customerCareDetails","landlineNumber",e),onCancel:()=>de("customerCareDetails","landlineNumber"),onError:e=>(0,E.handleCustomerCareDetailsError)(pe,a,"landlineNumber",e),errorFn:e=>(0,d.getCustomerCareDetailsError)(pe,"landlineNumber",e,R.fbt._("Incorrect landline phone number format",null,{hk:"4zXlsw"}),a)}),A.default.createElement(Y,{value:null==pe?void 0:pe.email,maxLength:v.COMPLIANCE_INFO_LENGTH.EMAIL,placeholder:R.fbt._("Email Address",null,{hk:"2jYxR1"}),Icon:p.BusinessEmailIcon,validate:e=>ge(e)&&(0,L.validateEmail)(e),onSave:e=>se("customerCareDetails","email",e),errorFn:z,onError:()=>ne("customerCareDetails.email")})),A.default.createElement(w.default,{title:R.fbt._("Grievance Officer Information",null,{hk:"3emd7I"}),titleXStyle:B(ve),xstyle:j.formContainer},ve?A.default.createElement(x.TextDiv,{xstyle:j.subtitle},R.fbt._("Provide name and at least one contact method",null,{hk:"2Fjw3Y"})):null,A.default.createElement(Y,{value:null==he?void 0:he.name,maxLength:v.COMPLIANCE_INFO_LENGTH.GRIEVANCE_OFFICER_NAME,placeholder:R.fbt._("Name",null,{hk:"2vEs6r"}),validate:ge,Icon:s.AssignmentIndIcon,onSave:e=>se("grievanceOfficerDetails","name",e),errorFn:U,onError:()=>ne("grievanceOfficerDetails.name")}),A.default.createElement(Y,{value:null==he?void 0:he.mobileNumber,maxLength:v.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,placeholder:R.fbt._("Mobile Phone Number",null,{hk:"3kk5I"}),Icon:T.PhoneIcon,validate:e=>(0,d.existsGrievanceOfficerDetailsContact)(he,a,"mobileNumber",e)&&V(e),onSave:e=>se("grievanceOfficerDetails","mobileNumber",e),onCancel:()=>de("grievanceOfficerDetails","mobileNumber"),onError:e=>(0,E.handleGrievanceOfficerDetailsError)(he,a,"mobileNumber",e),errorFn:e=>(0,d.getGrievanceOfficerDetailsError)(he,"mobileNumber",e,R.fbt._("Incorrect phone number format",null,{hk:"3lFQ1f"}),a)}),A.default.createElement(Y,{value:null==he?void 0:he.landlineNumber,maxLength:v.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,placeholder:R.fbt._("Landline Phone Number",null,{hk:"4GBzF0"}),Icon:T.PhoneIcon,validate:e=>(0,d.existsGrievanceOfficerDetailsContact)(he,a,"landlineNumber",e)&&V(e),onSave:e=>se("grievanceOfficerDetails","landlineNumber",e),onCancel:()=>de("grievanceOfficerDetails","landlineNumber"),onError:e=>(0,E.handleGrievanceOfficerDetailsError)(he,a,"landlineNumber",e),errorFn:e=>(0,d.getGrievanceOfficerDetailsError)(he,"landlineNumber",e,R.fbt._("Incorrect landline phone number format",null,{hk:"4zXlsw"}),a)}),A.default.createElement(Y,{value:null==he?void 0:he.email,maxLength:v.COMPLIANCE_INFO_LENGTH.EMAIL,placeholder:R.fbt._("Email Address",null,{hk:"3SvbLl"}),Icon:p.BusinessEmailIcon,validate:e=>(0,d.existsGrievanceOfficerDetailsContact)(he,a,"email",e)&&(0,L.validateEmail)(e),onSave:e=>se("grievanceOfficerDetails","email",e),onError:e=>{ne("grievanceOfficerDetails.email"),(0,E.handleGrievanceOfficerDetailsError)(he,a,"email",e)},errorFn:e=>(0,d.getGrievanceOfficerDetailsError)(he,"email",e,R.fbt._("Incorrect email address format",null,{hk:"1KuwvT"}),a)})),null!=l&&null!=g?A.default.createElement(S.default,{disabled:!ee,rootRef:ye.current,onClick:()=>(0,u.default)(g)},R.fbt._("Next: Add Items",null,{hk:"4gxzId"})):null))))}));function Y(e){let{Icon:t,errorFn:a,isLoading:n=!1,maxLength:r,onCancel:l,onChange:o,onError:s,onFocus:u,onSave:d,placeholder:c,validate:f,value:p=""}=e;const[h,m]=(0,A.useState)(p),[y,v]=(0,A.useState)(),[E,C]=(0,A.useState)(n);return(0,A.useEffect)((()=>{m(p)}),[p]),(0,A.useEffect)((()=>{(null==f?void 0:f(h))&&v(null)}),[h,f,a]),(0,A.useEffect)((()=>{C(n)}),[n]),A.default.createElement(g.IconSection,{Icon:t,theme:g.IconSectionTheme.NoMargin,content:A.default.createElement(O.RichTextField,{value:h,editable:!0,maxLength:r,pending:E,inputPlaceholder:c,showRemaining:!0,managedError:!0,validate:f,error:y,onChange:e=>{let{text:t}=e;return m(t)},onSave:(0,i.default)((function*(){C(!0);try{yield null==d?void 0:d(h)}catch(e){a&&v(a(h))}C(!1)})),onCancel:()=>{m(p),v(null),null==l||l()},onError:()=>{a&&v(a(h)),null==s||s(h)},theme:"text-input",onFocus:u,blockFocusOnLock:!!u,lockable:!0})})}function K(e,t,a){return{address:e,categories:[],hours:{days:[]},longitude:t,latitude:a}}function X(e){let{errorFn:t,onAfterSave:a,onError:n,rawBusinessProfile:l,validate:o}=e;const[s,u]=(0,A.useState)(),[d,c]=(0,A.useState)(null==l?void 0:l.address),[p,h]=(0,A.useState)(),{longitude:y,latitude:v}=l||{},[E,C]=(0,A.useState)(K(d,y,v));return(0,A.useEffect)((()=>C(K(d,y,v))),[d,y,v]),(0,A.useEffect)((()=>{o(d)&&h(null)}),[d,o]),null==l||null==E?null:A.default.createElement(g.IconSection,{Icon:f.BusinessAddressIcon,theme:g.IconSectionTheme.NoMargin,content:A.default.createElement(k.BusinessAddressField,{businessProfile:E,activeField:s,rawBusinessProfile:l,value:d,validate:o,error:p,lowProfile:!1,onActive:u,onChange:c,onCancel:()=>{c(l.address)},onSaveBusinessProfile:(0,i.default)((function*(){yield(0,m.editBusinessProfile)({address:d}),yield a((0,r.default)((0,r.default)({},l),{},{address:d}))})),onError:()=>{t&&h(t(d)),null==n||n()}})})}G.displayName="MerchantDetailsFormDrawer",Y.displayName="MerchantDetailsFieldDrawer",X.displayName="MerchantDetailsAddressField"},687786:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(908081)),i=n(a(324093)),l=a(626194),o=a(690495),s=n(a(329982)),u=a(52629),d=a(479375),c=a(453200),f=a(765396),p=a(956113),h=a(676345),m=a(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),y=n(a(156720));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}class E extends s.default{componentDidMount(){this.push(g.default.createElement(S,{onBack:this.end}))}}t.default=E;const C={backgroundColor:"ihvf49ua",overflowX:"i44ccddp",overflowY:"ag5g9lrv",height:"ppled2lx"},b={color:"re3l9645",fontWeight:"hnx8ox4h",fontSize:"f8jlpxt4",lineHeight:"t4tp0euv"},_={color:"re3l9645"},w=()=>g.default.createElement(g.default.Fragment,null,g.default.createElement("div",{className:(0,y.default)(b,h.uiPadding.horiz16,h.uiPadding.vert10)},m.fbt._("History",null,{hk:"3FbuEx"})),g.default.createElement(o.FlexColumn,{align:"center",xstyle:h.uiPadding.top9},g.default.createElement(f.PaymentHistoryEmptyIcon,null),g.default.createElement("div",{className:(0,y.default)(_,h.uiPadding.all16)},m.fbt._("No order requests",null,{hk:"l6lc5"})))),S=(0,g.forwardRef)(((e,t)=>{const a=(0,g.useRef)(null),{ordersInfoMap:{contactAndOrderRequestInfoMap:n},isLoading:s,ordersLazylist:f}=(0,u.useGetOrderRequests)(a,65);return g.default.createElement(r.default,{ref:t},g.default.createElement(l.DrawerHeader,{title:m.fbt._("Order Requests",null,{hk:"1b5KAx"}),type:l.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),g.default.createElement(i.default,{ref:a,className:(0,y.default)(C)},f.map(((e,t)=>g.default.createElement(g.Fragment,{key:e},g.default.createElement(k,{date:(0,c.getOrderDisplayDate)(n,f,t)}),g.default.createElement(d.OrderRequestDetail,{contactAndOrderInfo:n[e]})))),s&&g.default.createElement(o.FlexRow,{justify:"center",xstyle:h.uiPadding.all16},g.default.createElement(p.Spinner,{color:"default",size:24,stroke:6})),!s&&!f.length&&g.default.createElement(w,null)))}));function k(e){let{date:t=""}=e;return t&&g.default.createElement("div",{className:(0,y.default)(b,h.uiPadding.horiz16,h.uiPadding.vert10)},t.toUpperCase())}S.displayName="OrderRequestManagementDrawer",k.displayName="DateRow"},172827:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,l.useFlow)(o.Updatestatus,{transitions:l.FlowTransitions.DrawerRight}),n=i.default.createElement(r.default,{entryPoint:e.entryPoint,chat:e.chat,onBack:a.pop,orderInfo:e.orderInfo,sellerJid:e.sellerJid});return i.default.createElement(t,{flow:a},n)};var r=n(a(249118)),i=n(a(667294)),l=a(839062);const o=a(76672).Mirrored(["Updatestatus"])},81903:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(967154)),i=n(a(348926)),l=n(a(670983)),o=a(632157),s=n(a(120162)),u=a(72696),d=n(a(55423)),c=a(778945),f=a(542358),p=n(a(804005)),h=a(698867),m=a(103440),g=a(177938),y=a(891244),v=a(568550),E=n(a(395767)),C=n(a(329982)),b=a(114850),_=a(61113),w=a(699411),S=n(a(630582)),k=n(a(275687)),M=n(a(59380)),P=n(a(94530)),T=a(873994),O=a(716903),x=n(a(249118)),I=n(a(386067)),L=a(932523),D=a(77548),R=n(a(614058)),A=a(499020),N=n(a(632289)),j=a(559016),F=a(716890),B=n(a(898707)),W=n(a(559893)),H=a(977575),z=a(533494),U=n(a(444537)),V=a(625786),q=a(390737),G=a(238669),Y=a(459857),K=a(76195),X=a(767301),Z=a(669050),Q=n(a(556869)),J=a(548360),$=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=ee(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function ee(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(ee=function(e){return e?a:t})(e)}class te extends C.default{constructor(){var e;super(...arguments),e=this,this.scrollOffset=0,this.setScrollOffset=e=>{this.scrollOffset=e},this._handleCollectionSeeAll=e=>{var t,a;const{catalogOwnerJid:n,chat:r,product:i,productInfo:l,sellerJid:o}=this.props,s=null!==(t=null!==(a=null!=n?n:null==i?void 0:i.catalogWid.toString())&&void 0!==a?a:null==l?void 0:l.businessOwnerJid)&&void 0!==t?t:o;this.push($.default.createElement(ae,{chat:r,catalogOwnerJid:s,collection:e,isAllItems:!e}))},this._pushProductDetails=(e,t)=>{const{chat:a,refreshCarousel:n}=this.props,r=$.default.createElement(R.default,{chat:a,product:e,onEnd:this._end,onBack:this._popAndUpdate,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,refreshCarousel:n,onCartClick:this._handleCartClick,collectionId:t});this.push(r)},this._pushProductMoreInformation=e=>{const t=$.default.createElement(B.default,{product:e,onBack:this._popAndUpdate});this.push(t)},this._pushProductDetailsWithDeepLink=e=>{const t=$.default.createElement(A.ProductDetailsWithDeepLink,{chat:this.props.chat,productInfo:e,onEnd:this._end,onBack:this._pop,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(t)},this.pushProductCatalog=function(){var t=(0,i.default)((function*(t){const a=g.ContactCollection.gadd(t),n=yield c.BusinessProfileCollection.find(t),r=(0,f.hasCatalog)(n)?$.default.createElement(W.default,{contact:a,onProductDetail:e._handleProductDetail,catalogId:t,onBack:e._pop,businessProfile:n,scrollOffset:e.scrollOffset,setScrollOffset:e.setScrollOffset,onCatalogLinkClick:e._handleCatalogLinkClick,onCartClick:e._handleCartClick,onCollectionSeeAll:e._handleCollectionSeeAll}):$.default.createElement(j.ProductListDrawer,{contact:a,onProductDetail:e._handleProductDetail,catalogId:t,onBack:e._pop,businessProfile:n,setScrollOffset:e.setScrollOffset,onCatalogLinkClick:e._handleCatalogLinkClick,onCartClick:e._handleCartClick});e.push(r)}));return function(){return t.apply(this,arguments)}}(),this._pushCartOrderDetail=(e,t,a,n,r,i,l)=>{const o=$.default.createElement(p.default,{orderId:e,token:t,sellerJid:a,userIsCartOwner:n,onProductDetail:this._handleProductDetailFromInfo,onOrderCreate:this._handleOrderCreate,onOrderCancel:this._handleOrderCancel,ownerHasReviewed:r,orderMessage:i,chat:l});this.push(o)},this._pushProductList=(e,t)=>{const a=g.ContactCollection.gadd(t),n=$.default.createElement(F.ProductMessageListDrawer,{contact:a,productListId:e,onProductDetail:this._handleProductDetail,onCartClick:this._handleCartClick,onBack:this._pop,onEnd:this._end,setScrollOffset:this.setScrollOffset,catalogWid:t});this.push(n)},this._handleProductSummaryClick=e=>{this._pushOrderDetailProductList(e)},this._handleOrderStatusUpdateClick=()=>{new T.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:K.ORDER_DETAILS_CREATION_ACTION.CLICK_UPDATE_ORDER_STATUS,actionCategory:String(P.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(this.props.entryPoint),hasCatalog:(0,f.hasCatalog)(c.BusinessProfileCollection.get((0,Y.getMaybeMeUser)()))}).commit(),this._pushOrderStatusUpdate()},this._handleOrderCreate=function(t){var a;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;new T.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:K.ORDER_DETAILS_CREATION_ACTION.CLICK_CREATE_ORDER_DETAILS_FROM_CART,actionCategory:String(P.default.RECEIVED_CART),orderDetailEntryPoint:String(null!==(a=e.props.entryPoint)&&void 0!==a?a:s.default.FROM_CART),hasCatalog:(0,f.hasCatalog)(c.BusinessProfileCollection.get((0,Y.getMaybeMeUser)()))}).commit();const r=()=>{e._pushOrderCreate(t,n)};U.default.maybeShowOrderDataSharingDialog(e.props.chat,r,X.SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.CART)},this.cancelOrder=()=>{const{orderId:e,token:t,sellerJid:a,userIsCartOwner:n,orderMessage:r,chat:i}=this.props;null!=e&&null!=t&&null!=a&&null!=n&&this._pushCartOrderDetail(e,t,a,n,!0,r,i),b.ModalManager.close()},this._handleOrderCancel=()=>{b.ModalManager.open($.default.createElement(m.ConfirmPopup,{onCancel:()=>{b.ModalManager.close()},cancelText:J.fbt._("Do not decline",null,{hk:"1GLBjf"}),onOK:this.cancelOrder,okText:J.fbt._("Decline",null,{hk:"thsKi"}),title:J.fbt._("Decline this order?",null,{hk:"2hlAzX"})},J.fbt._("You can include a note with the cancelation message.",null,{hk:"2gWAy7"})))},this._handleProductDetail=(e,t)=>{this._pushProductDetails(e,t)},this._handleProductMoreInformation=e=>{this._pushProductMoreInformation(e)},this._handleProductDetailFromInfo=e=>{this._pushProductDetailsWithDeepLink(e)},this._handleProductCatalogHeaderClick=(e,t)=>{(0,D.logCarouselViewMoreClick)({catalogOwnerWid:e,catalogContext:t}),this.pushProductCatalog(e)},this._handleProductLinkClick=e=>{this.push($.default.createElement(N.default,{product:e,onBack:this._pop}))},this._handleCatalogLinkClick=(e,t)=>{this.push($.default.createElement(I.default,{catalog:e,contact:t,onBack:this._pop}))},this._handleCartClick=e=>{const t=(0,L.getProductCatalogContext)(this.props.context),a=(0,d.default)(e,this.props.chat,t);a&&this.push(a)},this._pop=()=>{this.pop()},this._end=()=>{this.end(G.DismissReason.LIFECYCLE)},this._popAndUpdate=()=>{this.popAndUpdate({scrollOffset:this.scrollOffset})},this._handleFindOrderError=()=>{const e=(0,E.default)("OK");q.ToastManager.open($.default.createElement(V.Toast,{action:{dismiss:!0,actionText:e},msg:J.fbt._("Something went wrong. Please try again.",null,{hk:"28mZYT"}),id:(0,V.genId)()}))}}componentDidMount(){const{catalogOwnerJid:e,orderId:t,product:a,productInfo:n,productListId:r,collection:i,collectionId:s,isAllItems:d,token:c,sellerJid:f,userIsCartOwner:p,orderMessage:m,chat:g,orderInfo:y}=this.props;if((0,u.commerceThreadsLoggingEnabled)()&&(0,h.handleActivitiesForChatThreadLogging)([{activityType:"isCommerceViewed",ts:(0,o.unixTime)(),chatId:g.id}]),null!=e)null!=i||!0===d?this.pushCollectionContent((0,Z.createWid)(e)):null!=r?this._pushProductList(r,(0,Z.createWid)(e)):this.pushProductCatalog((0,Z.createWid)(e));else if(a)this._pushProductDetails(a,s);else if(n)this._pushProductDetailsWithDeepLink(n);else if(null!=t)null!=c&&null!=f&&null!=p&&((0,O.isOrderExpansionEnabled)()?w.OrderCollection.findOrder(t,f,c).then((e=>{this._handleOrderCreate((0,l.default)(e,"cartOrder"),this._handleOrderCancel)})).catch((()=>{this._handleFindOrderError()})):this._pushCartOrderDetail(t,c,f,p,!1,m,g));else{if(null==y||null==f)throw(0,Q.default)("ProductDetailsFlow:no-product");this._pushOrderDetail(g,y,(0,Z.createWid)(f))}}pushCollectionContent(e){const t=g.ContactCollection.gadd(e);this.push($.default.createElement(H.CollectionContentDrawer,{contact:t,onProductDetail:this._handleProductDetail,catalogId:e,onBack:this._pop,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,scrollOffset:this.scrollOffset,setScrollOffset:this.setScrollOffset,collection:this.props.collection}))}_pushOrderCreate(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.push($.default.createElement(S.default,{entryPoint:null!==(t=this.props.entryPoint)&&void 0!==t?t:s.default.FROM_CART,onBack:this._pop,order:e,chat:this.props.chat,onDeclineOrder:a,onSend:()=>(e=>{if((0,u.isSellerOrderRevampEnabled)()&&null!=e){const t={status:z.Message$OrderMessage$OrderStatus.ACCEPTED};(0,y.updateMessageTable)(e.id,t);const a=_.MsgCollection.get(e.id);a&&a.set(t)}})(this.props.orderMessage)}))}_pushOrderDetailProductList(e){this.push($.default.createElement(M.default,{onBack:this._pop,productItems:e}))}_pushOrderDetail(e,t,a){this.push($.default.createElement(k.default,{entryPoint:this.props.entryPoint,onBack:this._pop,orderInfo:t,sellerWid:a,chat:e,onProductSummaryClick:this._handleProductSummaryClick,onOrderStatusUpdateClick:this._handleOrderStatusUpdateClick}))}_pushOrderStatusUpdate(){const{orderInfo:e,sellerJid:t}=this.props;null!=e&&null!=t&&this.push($.default.createElement(x.default,{entryPoint:this.props.entryPoint,chat:this.props.chat,onBack:this._pop,orderInfo:e,sellerJid:t}))}}const ae=(0,$.forwardRef)(((e,t)=>{const a=(0,$.useContext)(v.DrawerContext);return $.default.createElement(te,(0,r.default)({ref:t,context:a},e))}));ae.displayName="ProductDetailsFlow";var ne=ae;t.default=ne},781657:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(625143)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),l=a(839062);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const s=a(76672).Mirrored(["QuickRepliesList"]);function u(e,t){const{isInitialStep:a=!1}=e,[n,o]=(0,l.useFlow)(s.QuickRepliesList,{transitions:l.FlowTransitions.DrawerLeft});if(null==o.step)return null;let u;switch(o.step){case s.QuickRepliesList:u=i.default.createElement(r.default,{ref:t,onBack:()=>o.pop(),isInitialStep:a})}return i.default.createElement(n,{flow:o},u)}var d=(0,i.forwardRef)(u);t.default=d},371839:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=n(a(348926)),i=a(48360),l=a(547979),o=a(780549),s=a(900316),u=a(914368),d=a(114850),c=a(61740),f=a(962260),p=a(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function g(e){(0,h.useEffect)((()=>{o.Cmd.closeContextMenu(),o.Cmd.closeTooltip()}),[]);return h.default.createElement(c.SelectModal,{onConfirm:t=>{var a;(0,i.qplStartProductSendMessage)("Forward",void 0,t.length);const n=t.map(function(){var t=(0,r.default)((function*(t){return t.isUser&&t.contact.isContactBlocked&&(yield(0,l.unblockContact)(t.contact)),(t=>{const{product:a}=e;return new Promise(((e,n)=>{o.Cmd.once("ui_idle",(()=>{t.sendProductMessage(a).then((()=>e())).catch((e=>n(e)))}))}))})(t)}));return function(){return t.apply(this,arguments)}}());(0,i.qplEndProductMessageSend)(Promise.all(n)),d.ModalManager.close(),1===t.length&&(o.Cmd.openChatFromUnread(t[0]),window.innerWidth<=u.LAYOUT_2COLUMNS_MAX_WIDTH&&s.DrawerManager.closeDrawerRight()),null===(a=e.onSend)||void 0===a||a.call(e)},maxItems:f.MULTICAST_LIMIT_GLOBAL,title:p.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:c.ListType.ChatSelectModal,onCancel:()=>{d.ModalManager.close()}})}g.displayName="SendProductModal"},513534:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var r=a(122583),i=a(15842),l=a(984330),o=a(739071),s=a(103440),u=n(a(846870)),d=a(753233),c=a(114850),f=a(77548),p=a(530485),h=a(316348),m=a(555622),g=a(202391),y=a(180519),v=a(625786),E=a(390737),C=a(548360),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function w(e){const{product:t,sessionId:a}=e,[n,_]=(0,b.useState)(!1),[w,S]=(0,b.useState)(!1),[k,M]=(0,b.useState)(""),P=()=>{c.ModalManager.close()};if(w)return b.default.createElement(s.ConfirmPopup,{title:C.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:P},b.default.createElement(y.TextDiv,null,C.fbt._("We will review the item and if it meets our guidelines, it will be added to your catalog.",null,{hk:"4tmhbu"})));const T=k.length<1||n;return b.default.createElement(s.ConfirmPopup,{title:C.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:()=>{(0,f.logAppealProductCatalogClick)(a),_(!0);let e=!0;m.QPL.markerStart(h.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL),(0,o.appealProduct)(t.id.toString(),k).then((()=>{t.canAppeal=!1,t.reviewStatus=p.PRODUCT_REVIEW_STATUS.PENDING,(0,f.logAppealProductCatalogSuccess)(a),_(!1),S(!0),e=!1,m.QPL.markerEnd(h.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL,i.QuickLogActionType.SUCCESS)})).catch((0,r.filteredCatch)(l.ServerStatusCodeError,(e=>{E.ToastManager.open(b.default.createElement(v.Toast,{msg:C.fbt._("Failed to send review request.",null,{hk:"1MNBtG"}),id:(0,v.genId)("catalog_appeal_submission_failed")})),(0,f.logAppealProductCatalogFailed)(a,e.status),_(!1)}))).finally((()=>{e&&m.QPL.markerEnd(h.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL,i.QuickLogActionType.FAIL)}))},onCancel:P,okDisabled:T},b.default.createElement("form",null,b.default.createElement(g.RichTextField,{testid:"confirm-popup-text-input",placeholder:C.fbt._("Enter reason for this request...",null,{hk:"49sHMz"}),onChange:e=>{let{text:t}=e;M(t)},value:k,maxLength:1e3}),b.default.createElement(d.ExternalLink,{href:u.default.WA_COMMERCE_POLICY_URL},C.fbt._("Learn more",null,{hk:"2S4fxr"}))))}w.displayName="AppealProductPopup"},761035:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=a(48360),i=a(989292),l=a(877171),o=a(114850),s=a(77548),u=n(a(614415)),d=a(548360),c=n(a(667294));function f(e){return c.default.createElement(u.default,{onCancel:()=>{var t;null===(t=e.onCancel)||void 0===t||t.call(e),o.ModalManager.close()},onConfirm:t=>{const{chat:a,sessionId:n,onSend:i}=e;(0,r.qplStartProductSendMessage)("Attachment",t.length);const l=t.map(((e,t)=>{const r=0===t?a.composeQuotedMsg:null;return a.sendProductMessage(e,r).then((()=>{(0,s.logProductMessageSent)({product:e,catalogSessionId:n})}))}));(0,r.qplEndProductMessageSend)(Promise.all(l)),a.composeQuotedMsg=null,null==i||i(),o.ModalManager.close()},onShare:t=>{const{chat:a,sessionId:n}=e,r=(0,i.createCatalogLink)(t.id.user),u=d.fbt._("Follow this link to view our catalog on WhatsApp: {catalogUrl}",[d.fbt._param("catalogUrl",r)],{hk:"2XU3Oe"}).toString();l.ComposeBoxActions.paste(a,u),(0,s.logSendCatalogClick)({catalogOwnerWid:t.id,catalogSessionId:n}),o.ModalManager.close()}})}f.displayName="AttachProductModal"},685957:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(103440),i=n(a(395767)),l=a(114850),o=a(548360),s=n(a(667294));var u=e=>{l.ModalManager.open(s.default.createElement(r.ConfirmPopup,{title:o.fbt._("Information accuracy",null,{hk:"1IkKdC"}),okText:(0,i.default)("OK"),onOK:()=>{null==e||e(),l.ModalManager.close()},cancelText:o.fbt._("Go back",null,{hk:"3k17TN"}),onCancel:()=>l.ModalManager.close()},s.default.createElement(s.default.Fragment,null,o.fbt._("By continuing, you confirm that all information you have provided is correct and current.",null,{hk:"3VB7Ib"}),s.default.createElement("br",null),s.default.createElement("br",null),o.fbt._("You are required by law to update this info on WhatsApp if it ever changes.",null,{hk:"3FF6ZU"}))))};t.default=u},131929:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(66604)),i=a(72696),l=n(a(692629)),o=n(a(457034)),s=n(a(298188)),u=a(626194),d=a(856311),c=n(a(358263)),f=a(417122),p=a(118612),h=n(a(930440)),m=n(a(936734)),g=a(352112),y=a(69342),v=a(163139),E=a(617425),C=a(548360),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),_=n(a(969651)),w=n(a(637660));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}const k=0,M=1,P=2;function T(e,t){const[a,n]=(0,b.useState)(!0);(0,b.useEffect)((()=>()=>{s.default.enableUpsell()}),[]);const{modelsToUpdate:S,onLabelUpdateComplete:T}=e,O=(0,w.default)((()=>new h.default([],(e=>e.id)))),x=(0,b.useRef)(new Set),I=O.current,L=x.current,D=(0,_.default)(),R=(0,b.useMemo)((()=>{const e=(()=>{const e={};return S.forEach((t=>{const a=(0,v.unproxy)(t);a.labels&&a.labels.forEach((t=>{e[t]=e[t]?++e[t]:1}))})),e})();return(0,r.default)(e,(e=>e===S.length?M:e>0?P:k))}),[]),A=b.default.createElement(l.default,{testid:"popup-controls-ok",type:"primary",disabled:0===L.size,onClick:()=>{(0,f.logLabelOperationEventsForModels)(S);const e=I.list,t=I.selected,n=[],r=[];e.forEach(((e,a)=>{t[a]&&n.push(e.id),r.push({id:e.id,type:t[a]?"add":"remove"})})),d.LabelCollection.addOrRemoveLabels(r,S),n.length>0&&((0,y.logLabelSignalForModels)(S,n,a),a&&(0,g.log3pdConversionSignalsForLabelIds)(S,n)),T()},key:1},C.fbt._("Save",null,{hk:"2AH950"})),N=b.default.createElement(l.default,{testid:"popup-controls-cancel",type:"secondary",onClick:e.onCancel,key:0},C.fbt._("Cancel",null,{hk:"H0gNq"})),j=b.default.createElement(E.ButtonGroup,{direction:"horizontal"},N,A),F=b.default.createElement(u.DrawerHeader,{title:C.fbt._("Label items",null,{hk:"2xOVMD"}),type:u.DRAWER_HEADER_TYPE.POPUP,onCancel:e.onCancel}),B=o.default.shouldDisplayDataSharingLabelOptOutOrUpsell(S)?b.default.createElement(m.default,{checkboxValue:a,onCheckboxToggle:()=>n(!a),theme:"labels-opt-out"}):null;return b.default.createElement(p.Modal,{ref:t,type:p.ModalTheme.LabelList,actions:j,title:F},b.default.createElement(c.default,{onNewLabelAdded:e.onNewLabelAdded,shouldScrollIntoViewAndSelect:e.shouldScrollIntoViewAndSelect,initialLabelState:R,selectedLabels:I,renderContext:"label-selection",onMultiSelect:e=>{null!=e&&(R[e]===P?L.add("{labelId}_changed"):L.has(e)?L.delete(e):(null==R[e]&&(0,i.labelsEditingEnabled)()&&(R[e]=M),L.add(e)),D())}}),B)}var O=(0,b.forwardRef)(T);t.default=O},804005:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(122583),i=n(a(670983)),l=a(15842),o=a(984330),s=n(a(120162)),u=a(72696),d=a(778945),c=a(542358),f=a(63014),p=a(780549),h=a(103440),m=K(a(800857)),g=a(891244),y=n(a(908081)),v=n(a(324093)),E=a(36045),C=a(626194),b=a(900316),_=n(a(969358)),w=n(a(395767)),S=n(a(570834)),k=a(114850),M=a(61113),P=a(772358),T=a(699411),O=n(a(94530)),x=a(873994),I=n(a(601086)),L=a(744874),D=n(a(707769)),R=n(a(568414)),A=a(533494),N=a(498703),j=a(180519),F=a(676345),B=a(459857),W=a(887222),H=a(76195),z=a(669050),U=a(548360),V=K(a(667294)),q=n(a(156720)),G=n(a(637660));function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Y=function(e){return e?a:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const X={backgroundColor:"ihvf49ua"};function Z(e){let{chat:t,onChange:a,onSubmit:n,value:r}=e;return V.default.createElement("div",{className:(0,q.default)(F.uiPadding.vert0,F.uiPadding.horiz18)},V.default.createElement(I.default,{chat:t,onChange:a,onSubmit:n,value:r,placeholder:U.fbt._("Add a cancelation note",null,{hk:"22DPGj"})}))}function Q(e){let{onCreateOrderClick:t,onDeclineOrderClick:a,order:n,sellerJid:r}=e;return(0,z.createUserWid)(r).equals((0,B.getMaybeMeUser)())?V.default.createElement(V.default.Fragment,null,V.default.createElement(_.default,null,V.default.createElement(E.DrawerButtonSimple,{testid:"order-create",color:"dark",onClick:t},U.fbt._("Create order",null,{hk:"1S0Pla"}))),V.default.createElement(_.default,null,V.default.createElement(E.DrawerButtonSimple,{testid:"order-decline",color:"dark",onClick:a},U.fbt._("Decline order",null,{hk:"1YQsHY"})))):null}function J(e){let{cancellationMessage:t,chat:a,fetchState:n,flatListController:r,isLoading:l,onOrderCancel:o,onOrderCreate:s,onProductDetail:d,order:c,ownerHasReviewed:p,sellerJid:h,sendCancelMessage:g,setCancellationMessage:y}=e;if(l||null==c)return V.default.createElement(R.default,{fetchState:n});let v="";v=c.products.length>0?U.fbt._({"*":"{count} items",_1:"1 item"},[U.fbt._plural((0,L.getTotalItemCount)(c)||0,"count")],{hk:"2j0nBZ"}):U.fbt._("No Items",null,{hk:"3x8YcR"});const E=V.default.createElement(j.TextDiv,{theme:"title"},v);let C=null;const b=c.products.reduce(((e,t)=>null==t.price?e:(e||0)+t.price*t.quantity),null),w=c.products.reduce(((e,t)=>null==t.currency?e:t.currency),null);C=null!=b&&null!=w?U.fbt._("{subtotal} (estimated)",[U.fbt._param("subtotal",m.formatAmount1000(w,b))],{hk:"1GxLQT"}):U.fbt._("No price entered",null,{hk:"1vzCQg"});const S=V.default.createElement(j.WDSTextSmall,{as:"div"},C);let k=null;if(null!=c.createdAt){const e=f.Clock.timeStr(c.createdAt);k=V.default.createElement(j.WDSTextSmall,null,`${e}`)}return V.default.createElement(V.default.Fragment,null,V.default.createElement(_.default,null,V.default.createElement(R.default,{fetchState:n}),V.default.createElement("div",{className:(0,q.default)(X,F.uiPadding.all18)},E,S),V.default.createElement(D.default,{flatListController:r,onProductDetail:d,order:c,sellerJid:h}),V.default.createElement("div",{className:(0,q.default)(X,F.uiPadding.all18)},k),p?V.default.createElement(Z,{chat:a,value:t,onSubmit:g,onChange:y}):null),(0,u.orderDetailsFromCartEnabled)()&&!p?V.default.createElement(Q,{sellerJid:h,order:c,onCreateOrderClick:()=>s((0,i.default)(c,"order")),onDeclineOrderClick:o}):null)}function $(e,t){const{userIsCartOwner:a,orderId:n,token:i,sellerJid:f,onProductDetail:m,onOrderCreate:E,ownerHasReviewed:_,chat:I,orderMessage:L,onOrderCancel:D,isPushed:R=!0}=e,[j,F]=(0,V.useState)(!0),[z,q]=(0,V.useState)("PENDING"),[Y,K]=(0,V.useState)(null),[X,Z]=(0,V.useState)(""),Q=(0,G.default)((()=>new S.default));(0,V.useEffect)((()=>{T.OrderCollection.findOrder(n,f,i).then((e=>{F(!1),q("SUCCESS"),K(e),R&&((0,W.qplAnnotateOrderView)((null==e?void 0:e.products.length)||0),(0,W.qplEndOrderView)(l.QuickLogActionType.SUCCESS))})).catch((0,r.filteredCatch)(o.E404,(()=>{k.ModalManager.open(V.default.createElement(h.ConfirmPopup,{onOK:()=>{k.ModalManager.close()},okText:(0,w.default)("OK")},U.fbt._("The seller has deleted your sent cart. Contact the seller for more information.",null,{hk:"1bBDJ6"}))),F(!1),q("ERROR"),(0,W.qplDropOrderView)()}))).catch((()=>{F(!1),q("ERROR"),__LOG__(4,!0,new Error,!0)`Catalog Order Display failed`,SEND_LOGS("OrderDetails: failed to display"),R&&(0,W.qplEndOrderView)(l.QuickLogActionType.FAIL)}))}),[]);const $=()=>{b.DrawerManager.closeDrawerRight()},ee=(0,u.isBuyerOrderRequestVariantEnabled)()?U.fbt._("Your order request",null,{hk:"1pe53V"}):U.fbt._("Your sent cart",null,{hk:"2rB2j3"}),te=(0,u.isSellerOrderRevampEnabled)()?U.fbt._("Order request",null,{hk:"uRg5i"}):U.fbt._("Received cart",null,{hk:"G9eXC"});return V.default.createElement(y.default,{ref:t,theme:"striped",onDrop:$},V.default.createElement(C.DrawerHeader,{title:a?ee:te,type:C.DRAWER_HEADER_TYPE.SMALL,onBack:$}),V.default.createElement(v.default,null,V.default.createElement(J,{cancellationMessage:X,chat:I,fetchState:z,flatListController:Q.current,isLoading:j,onOrderCancel:D,onOrderCreate:E,onProductDetail:m,ownerHasReviewed:_,order:Y,sellerJid:f,sendCancelMessage:()=>{if($(),null!=L){const e=(0,B.getMaybeMeUser)(),t=e?d.BusinessProfileCollection.get(e):null,a=(0,c.hasCatalog)(t);new x.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:H.ORDER_DETAILS_CREATION_ACTION.SEND_DECLINE_CART,actionCategory:String(O.default.RECEIVED_CART),orderDetailEntryPoint:String(s.default.FROM_CART),hasNote:Boolean(X),hasCatalog:a}).commit();const n=U.fbt._("We have canceled your order.",null,{hk:"3cbQBD"}).toString()+"\n"+X;if((0,N.sendTextMsgToChat)(I,n,{quotedMsg:new P.Msg(L)}),!(0,u.isSellerOrderRevampEnabled)())return;if(null!=L){const e={status:A.Message$OrderMessage$OrderStatus.DECLINED};(0,g.updateMessageTable)(L.id,e);const t=M.MsgCollection.get(L.id);t&&t.set(e)}}p.Cmd.openChatFromUnread(I)},setCancellationMessage:Z})))}Z.displayName="ComposerAndSendButton",Q.displayName="OrderDetailsButtons",J.displayName="DrawerContent";var ee=(0,V.forwardRef)($);t.default=ee},275687:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(72696),i=a(919175),l=a(778945),o=a(542358),s=n(a(692629)),u=W(a(800857)),d=n(a(908081)),c=n(a(324093)),f=a(36045),p=a(626194),h=a(900316),m=n(a(969358)),g=a(690495),y=n(a(469733)),v=n(a(453823)),E=a(238977),C=n(a(94530)),b=a(873994),_=n(a(535407)),w=n(a(210762)),S=n(a(697944)),k=a(458103),M=a(716903),P=a(620982),T=a(832545),O=a(956113),x=a(525366),I=a(180519),L=a(676345),D=n(a(280384)),R=a(459857),A=a(76195),N=a(548360),j=W(a(667294)),F=n(a(156720));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const H={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n"};function z(e,t){var a,n,y,O;const B=(0,R.getMeUser)(),{chat:W,orderInfo:z,sellerWid:V}=e,{referenceId:q,discount:G,tax:Y,shipping:K,subtotal:X,totalAmount:Z}=z,{orderItems:Q,isLoading:J}=(0,D.default)(z,V),$=(0,j.useMemo)((()=>(0,P.findOrderStatus)(W,q)),[W,q]);if((0,j.useEffect)((()=>{new b.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:A.ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS,actionCategory:String(C.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasCatalog:(0,o.hasCatalog)(l.BusinessProfileCollection.get((0,R.getMaybeMeUser)()))}).commit()}),[e.entryPoint]),null==X)return null;return j.default.createElement(d.default,{onDrop:e.onBack,ref:t},j.default.createElement(p.DrawerHeader,{title:(0,r.isOrderContentOptimizationEnabled)()?N.fbt._("Charge details",null,{hk:"2ZURIw"}):N.fbt._("Order details",null,{hk:"2HeBLz"}),onBack:e.onBack,type:p.DRAWER_HEADER_TYPE.SMALL}),j.default.createElement(c.default,{theme:J?"center-content":void 0},J?j.default.createElement(U,null):j.default.createElement(j.default.Fragment,null,j.default.createElement(m.default,{xstyle:[L.uiPadding.top20,L.uiPadding.bottom15]},j.default.createElement(_.default,null,j.default.createElement(w.default,{testid:"order-status-container",orderId:z.referenceId,sellerWid:V,orderStatus:j.default.createElement(S.default,{orderStatus:$})}),j.default.createElement(v.default,{details:!0,currency:z.currency,items:Q}),j.default.createElement(T.OrderValues,{tax:null!=Y?Y*E.DEFAULT_OFFSET:null,discount:null!=G?G*E.DEFAULT_OFFSET:null,shipping:null!=K?K*E.DEFAULT_OFFSET:null,subtotal:X*E.DEFAULT_OFFSET,currency:z.currency,canDisplayAdditionalCharges:!0}),j.default.createElement(g.FlexRow,{justify:"all",xstyle:L.uiPadding.horiz16,testid:"order-details-total-row"},j.default.createElement(I.TextSpan,{theme:"title"},N.fbt._("Total",null,{hk:"7xRrT"})),j.default.createElement(I.TextSpan,{theme:"title"},u.formatAmount(z.currency,Z))))),B.user===V.user&&(null!==(a=null===(n=(0,M.getOrdersExpansionAllowedCountries)())||void 0===n?void 0:n.length)&&void 0!==a?a:0)>0&&j.default.createElement(m.default,null,j.default.createElement(f.DrawerButtonSimple,{icon:j.default.createElement(x.StatusClockIcon,{width:20}),testid:"order-payment-details",color:"dark",disabled:!0,onClick:()=>{}},j.default.createElement(I.TextDiv,{size:"16"},N.fbt._("Payment details",null,{hk:"2J0d9B"})),j.default.createElement(I.TextDiv,{size:"12"},N.fbt._("To see payment details, open WhatsApp on your phone.",null,{hk:"aeAA6"})))),[P.OrderStatus.Canceled,P.OrderStatus.Complete].every((e=>$!==e))&&B.user===V.user&&j.default.createElement(m.default,null,j.default.createElement("div",{className:(0,F.default)(H,L.uiMargin.vert16)},j.default.createElement(s.default,{testid:"order-status-update",type:"primary",onClick:()=>{var t;null===(t=e.onOrderStatusUpdateClick)||void 0===t||t.call(e)}},(0,r.isOrderContentOptimizationEnabled)()?N.fbt._("Update status",null,{hk:"2NnZQ7"}):N.fbt._("Update order status",null,{hk:"4j4YaZ"})))),B.user!==V.user&&$===P.OrderStatus.Pending&&(null!==(y=null===(O=(0,M.getConsumerOrdersExpansionAllowedCountries)())||void 0===O?void 0:O.length)&&void 0!==y?y:0)>0&&j.default.createElement(m.default,null,j.default.createElement("div",{className:(0,F.default)(H,L.uiMargin.vert16)},j.default.createElement(s.default,{testid:"order-payment-confirm",type:"primary",onClick:()=>{(0,i.sendOrderPaymentMethodUpdate)({chat:W,sellerJid:V.toJid(),orderInfo:z,orderStatus:$,offset:E.DEFAULT_OFFSET,orderNote:null,paymentStatus:null,paymentMethod:k.OrderPaymentMethod.Confirm}).finally((()=>{h.DrawerManager.closeDrawerRight()}))}},(0,r.isOrderContentOptimizationEnabled)()?N.fbt._("Confirm info",null,{hk:"1H7OGA"}):N.fbt._("Confirm order info",null,{hk:"1EkPTl"})))))))}function U(){return j.default.createElement(g.FlexRow,{align:"center",justify:"center",testid:"order-detail-drawer-loading"},j.default.createElement(y.default,null,j.default.createElement(O.Spinner,null)))}U.displayName="OrderDetailDrawerLoading";var V=(0,j.forwardRef)(z);t.default=V},402590:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(512938),i=n(a(964223)),l=n(a(47178)),o=n(a(667294));const s=(0,r.FlatListFactory)();function u(e){const{productItems:t}=e,a=t.map((e=>({itemKey:e.id.toString(),product:e})));return o.default.createElement(i.default,{flatListControllers:[e.flatListController]},o.default.createElement(s,{testid:"order-detail-product-list",flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:a,renderItem:e=>{let{product:t}=e;return o.default.createElement(l.default,{product:t})},defaultItemHeight:60}))}u.displayName="OrderDetailProductList"},59380:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(908081)),i=n(a(324093)),l=a(626194),o=n(a(969358)),s=n(a(570834)),u=n(a(402590)),d=a(548360),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),f=(n(a(156720)),n(a(637660)));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const h={container:{paddingTop:"emrlamx0",paddingEnd:"folpon7g",paddingBottom:"aiput80m",paddingStart:"lyvj5e2u"}};function m(e,t){const{productItems:a}=e,n=(0,f.default)((()=>new s.default));return c.default.createElement(r.default,{onDrop:e.onBack,ref:t},c.default.createElement(l.DrawerHeader,{title:d.fbt._("Items",null,{hk:"3B8pMI"}),onBack:e.onBack,type:l.DRAWER_HEADER_TYPE.SMALL}),c.default.createElement(i.default,{flatListControllers:[n.current]},c.default.createElement(o.default,{xstyle:h.container,theme:"refresh-padding-title"},c.default.createElement(u.default,{flatListController:n.current,productItems:a}))))}var g=(0,c.forwardRef)(m);t.default=g},47178:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(a(170206)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(800857)),l=a(305521),o=a(114459),s=a(180519),u=a(548360),d=a(113189),c=n(a(667294));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e){var t;const{product:a}=e,n=c.default.createElement(l.EmojiText,{text:a.name,ellipsify:!0,titlify:!0}),f=c.default.createElement(o.OrderItemIcon,{useCustomIcon:!1===Boolean(a.mediaData),mediaData:null!==(t=a.mediaData)&&void 0!==t?t:null});let p=null;if(a.quantity){const e=u.fbt._("Qty {quantity}",[u.fbt._param("quantity",a.quantity.toString())],{hk:"3Lc7pQ"});p=c.default.createElement(s.TextSpan,null,e)}let h=null;h=(0,d.isNonZeroNumber)(a.price)?i.formatAmount1000(a.currency,a.price):u.fbt._("Ask for price",null,{hk:"3t7lv2"});const m=c.default.createElement(s.TextSpan,null,h);return c.default.createElement(r.default,{image:f,customImage:!0,primary:n,secondary:p,detail:m,theme:"media"})}p.displayName="OrderDetailProductListItem"},411151:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(a(46650)),i=a(690495),l=n(a(625903)),o=n(a(667294)),s=n(a(156720));const u={canceledStyle:{color:"mvxzr2tb"},checkboxContainer:{paddingStart:"nqtxkp62",paddingEnd:"h1a80dm5"}};function d(e){let{checked:t,isCanceled:a,label:n,onClick:d,testid:c}=e;return o.default.createElement(l.default,{onClick:d,testid:null!=c?c:""},o.default.createElement(i.FlexRow,null,o.default.createElement(i.FlexColumn,{xstyle:u.checkboxContainer},o.default.createElement(r.default,{checked:t,radio:!0,hover:!1,systemUncheckedColor:!0,onChange:()=>{d()}})),o.default.createElement("div",{className:a?(0,s.default)(u.canceledStyle):null},n)))}d.displayName="OrderDetailRadioButton"},601086:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(a(846870)),i=a(202391),l=a(435595),o=a(634401),s=n(a(844453)),u=n(a(667294)),d=n(a(156720));const c={display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",zIndex:"mb8var44",position:"g0rxnol2",marginBottom:"mggyuyyy"},f={color:"svlsagor",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",opacity:"axi1ht8l",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",position:"lhggkp7q",right:"q82cfhbg",bottom:"efio351b",textAlign:"qfejxiq4"};function p(e){let{buttonTitle:t,chat:a,disabled:n,onChange:p,onSubmit:h,placeholder:m,testid:g,textFieldTestId:y,value:v}=e;return u.default.createElement(u.default.Fragment,null,u.default.createElement(s.default,{transitionName:"media-caption",className:(0,d.default)(c)},u.default.createElement("div",null,u.default.createElement(i.RichTextField,{maxLength:r.default.MAX_CART_MESSAGE_LENGTH,placeholder:m,value:v,testid:y,multiline:!0,showRemaining:!0,spellCheck:!0,supportsEmoji:!0,textFormatEnabled:!0,onEnter:()=>{!0!==n&&h()},onChange:e=>p(e.text)}))),u.default.createElement(s.default,{appear:!0,transitionName:"btn"},u.default.createElement("button",{disabled:n,className:(0,d.default)(f),tabIndex:"-1",onClick:()=>h(),title:t},u.default.createElement(l.Round,{disabled:n},u.default.createElement(o.SendIcon,{width:18,directional:!0})))))}p.displayName="OrderDetailTextComposer"},707769:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(568550),i=a(512938),l=n(a(964223)),o=a(71977),s=n(a(115893)),u=a(899841),d=a(932523),c=a(887222),f=n(a(667294));const p=(0,i.FlatListFactory)();function h(e){const{order:t,onProductDetail:a,sellerJid:n}=e,i=e=>{const a=t.orderItemCollection.toArray();return(0,o.logOrderListImpression)({catalogContext:e,orderId:t.id,productCount:a.length,catalogOwnerJid:n}),a.map((e=>({itemKey:e.id.toString(),product:e})))};return f.default.createElement(r.DrawerContext.Consumer,null,(t=>{const r=(0,d.getProductCatalogContext)(t);return f.default.createElement(l.default,{flatListControllers:[e.flatListController]},f.default.createElement(p,{testid:"order-product-list",flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:i(r),renderItem:t=>f.default.createElement(s.default,{product:t.product,onClick:()=>((t,r)=>{const i={productId:t.product.id,businessOwnerJid:n};(0,c.qplStartProductView)("Order"),(0,o.logOrderListItemClick)({catalogContext:r,orderId:e.order.id,catalogOwnerJid:n}),a(i)})(t,r)}),defaultItemHeight:u.PRODUCT_LIST_ITEM_HEIGHT}))}))}h.displayName="OrderProductList"},115893:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=n(a(170206)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(800857)),l=a(305521),o=a(255695),s=a(493770),u=a(180519),d=a(676345),c=a(548360),f=a(113189),p=n(a(667294)),h=n(a(156720));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function g(e){const{product:t,onClick:a}=e,n=p.default.createElement(l.EmojiText,{text:t.name,ellipsify:!0,titlify:!0}),m=p.default.createElement(s.ProductThumb,{mediaData:(0,o.getMediaData)(t),theme:"list"}),g=c.fbt._("Quantity {item-quantity}",[c.fbt._param("item-quantity",t.quantity)],{hk:"102wGk"});let y=null;t.quantity&&(y=p.default.createElement(u.TextSpan,{className:(0,h.default)(d.uiMargin.vert0,d.uiMargin.start0,d.uiMargin.end6)},g));let v=null;(0,f.isNonZeroNumber)(t.price)&&(v=p.default.createElement(u.TextSpan,{className:(0,h.default)(d.uiMargin.vert0,d.uiMargin.start0,d.uiMargin.end6)},i.formatAmount1000(t.currency,t.price)));let E=null;null!=v&&(E=p.default.createElement("span",{className:(0,h.default)(d.uiMargin.vert0,d.uiMargin.start0,d.uiMargin.end6)},""));const C=p.default.createElement("div",null,v,E,y);return p.default.createElement(r.default,{key:t.id.toString(),image:m,customImage:!0,primary:n,secondary:C,theme:"order-product",onClick:a})}g.displayName="OrderProductListItem"},249118:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(887341),i=a(72696),l=a(963712),o=a(919175),s=a(778945),u=a(542358),d=n(a(692629)),c=a(780549),f=n(a(457034)),p=a(103440),h=n(a(846870)),m=a(317285),g=n(a(908081)),y=n(a(324093)),v=a(626194),E=a(900316),C=n(a(969358)),b=n(a(395767)),_=a(690495),w=a(114850),S=n(a(936734)),k=a(238977),M=n(a(411151)),P=n(a(94530)),T=a(873994),O=a(458103),x=a(716903),I=a(620982),L=a(202391),D=a(352112),R=a(682212),A=a(137506),N=a(676345),j=a(459857),F=a(76195),B=a(548360),W=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=z(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),H=n(a(156720));function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(z=function(e){return e?a:t})(e)}const U=(0,i.isOrderStatusM1Enabled)()?[I.OrderStatus.PaymentRequested,I.OrderStatus.PreparingToShip,I.OrderStatus.Shipped,I.OrderStatus.Delivered,I.OrderStatus.Canceled]:[I.OrderStatus.Processing,I.OrderStatus.Shipped,I.OrderStatus.Complete,I.OrderStatus.Canceled],V={checkboxContainer:{gap:"n8lfltvd"},spacer:{height:"bbl9m3t3",borderTop:"swyb62mu"}};function q(e){let{xstyle:t}=e;return W.default.createElement("div",{className:(0,H.default)(V.spacer,N.uiMargin.top16,t)})}q.displayName="Spacer";const G=()=>m.CTWADataSharingModel.getValue()===r.ENUM_FALSE_NOTSET_TRUE.true;function Y(e,t){const[a,n]=(0,W.useState)(G),[z,Y]=(0,W.useState)(""),K=(0,W.useMemo)((()=>(0,I.findOrderStatus)(e.chat,e.orderInfo.referenceId)),[e.chat,e.orderInfo.referenceId]),X=(0,W.useMemo)((()=>(0,O.findLastOrderPaymentStatusInfo)(e.chat,e.orderInfo.referenceId)),[e.chat,e.orderInfo.referenceId]),[Z,Q]=(0,W.useState)(K),[J,$]=(0,W.useState)((null==X?void 0:X.paymentStatus)===O.OrderPaymentStatus.Captured);(0,W.useEffect)((()=>{const e=e=>n(e===r.ENUM_FALSE_NOTSET_TRUE.true);return m.CTWADataSharingModel.subscribeForUpdates(e),()=>{m.CTWADataSharingModel.unsubscribeFromUpdates(e)}}),[]);const{chat:ee,sellerJid:te,orderInfo:ae}=e;function ne(t,n,r,i){E.DrawerManager.closeDrawerRight(),t&&function(t,a,n){(0,o.sendOrderPaymentStatusMessageAsMerchant)({chat:ee,sellerJid:te,orderInfo:ae,orderNote:t?z:null,orderStatus:a,offset:k.DEFAULT_OFFSET,paymentStatus:n?O.OrderPaymentStatus.Captured:O.OrderPaymentStatus.Pending,paymentMethod:null}).finally((()=>{(()=>{var t,a,n;const r=null!==(t=null===(a=ae.externalPaymentConfigurations)||void 0===a||null===(n=a.at(0))||void 0===n?void 0:n.type)&&void 0!==t?t:"no_method_confirmed";new T.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:F.ORDER_DETAILS_CREATION_ACTION.SEND_MARK_AS_PAID,actionCategory:String(P.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasNote:Boolean(z),paymentStatus:!0,paymentType:r}).commit()})()}))}(!n,r,i),n&&function(t,n){const r=(0,j.getMaybeMeUser)(),i=!!r&&(0,u.hasCatalog)(s.BusinessProfileCollection.get(r));new T.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:F.ORDER_DETAILS_CREATION_ACTION.SEND_ORDER_STATUS,actionCategory:String(P.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasCatalog:i,hasNote:Boolean(z)}).commit(),(0,o.sendOrderStatusMessageAsMerchant)({chat:ee,sellerJid:te,orderInfo:ae,orderNote:z,orderStatus:t,offset:k.DEFAULT_OFFSET,paymentStatus:n?O.OrderPaymentStatus.Captured:O.OrderPaymentStatus.Pending,paymentMethod:null}),(0,R.markOrderAsUpdatedStatusAction)(ee,a,Z,J),a&&(0,D.log3pdConversionSignal)({chat:ee,orderStatus:Z,isOrderPaid:J,surface:"order",type:"order_updated"});c.Cmd.openChatFromUnread(ee)}(r,i)}function re(e){return U.findIndex((t=>t===e))}function ie(){const e=re(Z),t=re(K),a=(null==X?void 0:X.paymentStatus)===O.OrderPaymentStatus.Captured,n=e!==t,r=a!==J;let o=Z,s=J;(0,i.isOrderStatusM1Enabled)()&&(r&&(J?Z===I.OrderStatus.PaymentRequested&&(o=I.OrderStatus.PreparingToShip):J||Z!==I.OrderStatus.PreparingToShip||(o=I.OrderStatus.PaymentRequested)),n&&J&&Z===I.OrderStatus.PaymentRequested&&(s=!1)),n||r?e<t?w.ModalManager.open(W.default.createElement(p.ConfirmPopup,{title:B.fbt._("Update sent status?",null,{hk:"Vz57T"}),okText:B.fbt._("Update",null,{hk:"1b5vbz"}),onOK:()=>{ne(r,n,o,s),w.ModalManager.close()},cancelText:B.fbt._("Cancel",null,{hk:"9jDpn"}),onCancel:()=>{w.ModalManager.close()}},(0,i.isOrderContentOptimizationEnabled)()?B.fbt._("You already marked the status as {originalOrderStatus}. Are you sure you want to update it to {orderStatus}?",[B.fbt._param("originalOrderStatus",(0,l.getWAWebBizOrderStatusLabel)(K)),B.fbt._param("orderStatus",(0,l.getWAWebBizOrderStatusLabel)(Z))],{hk:"1fIMG"}):B.fbt._("Your customer has already seen this order marked as {originalOrderStatus}. Do you want update it to {orderStatus}?",[B.fbt._param("originalOrderStatus",(0,l.getWAWebBizOrderStatusLabel)(K)),B.fbt._param("orderStatus",(0,l.getWAWebBizOrderStatusLabel)(Z))],{hk:"3MuiJd"}))):ne(r,n,o,s):w.ModalManager.open(W.default.createElement(p.ConfirmPopup,{title:B.fbt._("Status already sent",null,{hk:"3GmLDK"}),okText:(0,b.default)("OK"),onOK:()=>{w.ModalManager.close()}},(0,i.isOrderContentOptimizationEnabled)()?B.fbt._("You already updated this status to {originalOrderStatus}",[B.fbt._param("originalOrderStatus",(0,l.getWAWebBizOrderStatusLabel)(K))],{hk:"30xceV"}):B.fbt._("You have already updated this order to {originalOrderStatus}",[B.fbt._param("originalOrderStatus",(0,l.getWAWebBizOrderStatusLabel)(K))],{hk:"3AlUvv"})))}const le=B.fbt._("Add a note",null,{hk:"37dHqT"});return W.default.createElement(g.default,{onDrop:e.onBack,ref:t},W.default.createElement(v.DrawerHeader,{title:(0,i.isOrderContentOptimizationEnabled)()?B.fbt._("Update status",null,{hk:"3Tv3vJ"}):B.fbt._("Update order status",null,{hk:"2pK0VF"}),onBack:e.onBack,type:v.DRAWER_HEADER_TYPE.SMALL}),W.default.createElement(y.default,null,W.default.createElement(C.default,null,(0,x.isOrderExpansionEnabled)()&&W.default.createElement(W.default.Fragment,null,W.default.createElement(_.FlexRow,{align:"center",xstyle:[N.uiPadding.top16,N.uiPadding.horiz16]},W.default.createElement(_.FlexColumn,{xstyle:N.uiPadding.end24},W.default.createElement(A.Switch,{checked:J,onChange:()=>{$(!J)},testid:"order-mark-as-paid-switch"})),W.default.createElement("div",null,B.fbt._("Paid",null,{hk:"7rrRt"}))),W.default.createElement(q,{xstyle:N.uiMargin.bottom16})),W.default.createElement("div",{className:(0,H.default)(N.uiPadding.vert4,N.uiPadding.horiz16)},W.default.createElement(_.FlexColumn,{xstyle:V.checkboxContainer},U.map((e=>W.default.createElement(M.default,{testid:`order-status-select-option-${e}`,key:e,label:(0,l.getWAWebBizOrderStatusLabel)(e),isCanceled:e===I.OrderStatus.Canceled,checked:Z===e,onClick:()=>{Q(e)}}))))),W.default.createElement(q,null),W.default.createElement("div",{className:(0,H.default)(N.uiPadding.horiz28)},W.default.createElement(L.RichTextField,{maxLength:h.default.MAX_CART_MESSAGE_LENGTH,placeholder:le,value:z,testid:"order-status-note-text-field",multiline:!0,showRemaining:!0,spellCheck:!0,supportsEmoji:!0,textFormatEnabled:!0,onEnter:ie,onChange:e=>Y(e.text)})),((e,t,a,n)=>{if(f.default.shouldDisplayDataSharingOrderOptOutOrUpsell(e,"order-update",t))return W.default.createElement(S.default,{theme:"order-update",onCheckboxToggle:()=>n(!a),checkboxValue:a})})(e.chat,ae.items.length,a,n),W.default.createElement(_.FlexColumn,{align:"center",xstyle:[N.uiPadding.horiz16,N.uiMargin.top8,N.uiMargin.bottom24]},W.default.createElement(d.default,{testid:"order-status-update-button",type:"primary",onClick:ie},B.fbt._("Send update",null,{hk:"48h8YW"}))))))}var K=(0,W.forwardRef)(Y);t.default=K},280384:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=(0,o.default)(t),[n,f]=(0,d.useState)([]),[p,h]=(0,d.useState)(!0),m=(0,c.default)(),g=(0,d.useCallback)((()=>null==a?new Map:a.productCollection.getProductModels().reduce(((e,t)=>{var a;return e.set(t.id.toString(),null===(a=t.getPreviewImage())||void 0===a?void 0:a.mediaUrl)}),new Map)),[a]),y=(0,d.useCallback)((t=>{if(null==a)return Promise.resolve([]);const n=e.items.reduce(((e,n)=>{if(n.isCustomItem||null!=t.get(n.id))return e;const r=l.CatalogCollection.findProduct({catalogWid:a.id,productId:n.id});return e.concat(r)}),[]);return Promise.all(n)}),[a,e.items]),v=(0,d.useCallback)(((t,a)=>{var n;return new u.default((0,i.default)((0,i.default)({},t),{},{price:(null!==(n=t.amount)&&void 0!==n?n:0)*s.DEFAULT_OFFSET,currency:e.currency,thumbnailUrl:a.get(t.id)}))}),[e.currency]),E=(0,d.useCallback)((t=>e.items.map((e=>v(e,t)))),[e.items,v]);return(0,d.useEffect)((()=>{(0,r.default)((function*(){const e=g();if(h(!0),yield y(e),m.aborted)return;h(!1);const t=g();f(E(t))}))()}),[a,m,y,g,E]),{orderItems:n,isLoading:p}};var r=n(a(348926)),i=n(a(81109)),l=a(713464),o=n(a(67791)),s=a(238977),u=n(a(454903)),d=a(667294),c=n(a(895851))},45735:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogSettingsDrawer=void 0;var r=a(898817),i=n(a(229922)),l=a(724472),o=a(778945),s=n(a(196554)),u=n(a(908081)),d=n(a(324093)),c=a(626194),f=n(a(969358)),p=a(753233),h=a(258105),m=n(a(284435)),g=a(956113),y=a(180519),v=a(625786),E=a(390737),C=a(459857),b=a(548360),_=P(a(667294)),w=P(a(973935)),S=n(a(156720)),k=n(a(895851));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const T={paddingTop:"nlnf8xo7",paddingEnd:"rmtqb32e",paddingBottom:"r219jyu0",paddingStart:"hmkl5ysc"},O={display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"};function x(e){let{cartEnabled:t,setCartEnabled:a}=e;const n=e=>{a(e),(0,l.updateCartEnabled)(e).catch((()=>{__LOG__(4,!0,new Error,!0)`Failed to update cartEnabled value`,SEND_LOGS("updateCartEnabled: cartEnabled toggle error"),E.ToastManager.open(_.default.createElement(v.Toast,{msg:b.fbt._("Failed to update the setting.",null,{hk:"RZBg9"}),duration:6e3})),a(t)}))},r=(0,h.getCatalogCartOnOffFaqUrl)(),i=_.default.createElement(s.default,{href:r,onClick:e=>{e.preventDefault(),(0,p.openExternalLink)(r)}},b.fbt._("Learn more",null,{hk:"1rcCLt"})),o=b.fbt._("Turn this on to let customers add items to a cart when shopping in your catalog. Turning this off won't affect carts you've already received. {learn_more_link}",[b.fbt._param("learn_more_link",i)],{hk:"iTzgD"});return _.default.createElement(_.default.Fragment,null,_.default.createElement(f.default,{title:b.fbt._("Add to cart",null,{hk:"1mbCt1"}),theme:"title-larger",animation:!1},_.default.createElement(m.default,{isChosen:t,onChoose:()=>{n(!0)},choiceText:b.fbt._("On",null,{hk:"2m7e5W"})}),_.default.createElement(m.default,{isChosen:!t,onChoose:()=>{n(!1)},choiceText:b.fbt._("Off",null,{hk:"1l0P5X"})})),_.default.createElement(y.TextDiv,{theme:"plain",className:(0,S.default)(T)},o))}x.displayName="ToggleCartSection";const I=(0,_.forwardRef)(((e,t)=>{const{onBack:a}=e,[n,l]=(0,_.useState)(!0),[s,f]=(0,_.useState)(!1),p=(0,k.default)();return(0,_.useEffect)((()=>{(0,i.default)(o.BusinessProfileCollection.fetchBizProfile((0,C.getMeUser)()),p).then((e=>{const t=e.profileOptions;w.unstable_batchedUpdates((()=>{f(null!=t&&t.cartEnabled),l(!1)}))})).catch((0,r.catchAbort)((()=>{}))).catch((()=>{__LOG__(4,!0,new Error)`Error fetching the business profile.`,E.ToastManager.open(_.default.createElement(v.Toast,{msg:b.fbt._("Failed to load catalog settings.",null,{hk:"2UxoQh"}),duration:6e3})),a()}))}),[]),_.default.createElement(u.default,{ref:t,theme:"catalog",onDrop:e.onBack},_.default.createElement(c.DrawerHeader,{title:b.fbt._("Settings",null,{hk:"2RmHUB"}),type:c.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,focusBackOrCancel:!0}),_.default.createElement(d.default,null,n?_.default.createElement("div",{className:(0,S.default)(O)},_.default.createElement(g.Spinner,null)):_.default.createElement(x,{cartEnabled:s,setCartEnabled:e=>{f(e)}})))}));t.CatalogSettingsDrawer=I,I.displayName="CatalogSettingsDrawer"},499020:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsWithDeepLink=void 0;var r=a(122583),i=n(a(670983)),l=a(984330),o=a(713464),s=a(103440),u=n(a(908081)),d=n(a(324093)),c=a(626194),f=n(a(395767)),p=a(114850),h=a(227604),m=n(a(568414)),g=n(a(654709)),y=n(a(614058)),v=a(669050),E=a(548360),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const _=(0,C.forwardRef)(((e,t)=>{const{isPushed:a=!0,productInfo:{productId:n,businessOwnerJid:b},onBack:_}=e,[w,S]=(0,C.useState)((()=>(0,g.default)({productId:n,businessOwnerJid:b}))),[k,M]=(0,C.useState)((()=>w?"NONE":"PENDING")),P=()=>{const e=(0,v.createWid)(b);o.CatalogCollection.findProduct({catalogWid:e,productId:n}).then((()=>{const t=o.CatalogCollection.get(e);S((0,i.default)(t,"catalog").productCollection.get(n)),M("SUCCESS")})).catch((0,r.filteredCatch)(l.E404,(()=>{_(),p.ModalManager.open(C.default.createElement(s.ConfirmPopup,{onOK:()=>{p.ModalManager.close()},okText:(0,f.default)("OK")},E.fbt._("This product or service has been removed",null,{hk:"3mE1ld"}))),M("ERROR")}))).catch((e=>{(0,h.parseErrorState)(e,(e=>{M(e)}))}))};return(0,C.useEffect)((()=>{w||P()}),[]),w?C.default.createElement(y.default,{ref:t,chat:e.chat,isPushed:a,product:w,onEnd:e.onEnd,onBack:e.onBack,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalog,refreshCarousel:!0,onProductLinkClick:e.onProductLinkClick,onProductMoreInformation:e.onProductMoreInformation,onCartClick:e.onCartClick}):C.default.createElement(u.default,{ref:t,onDrop:e.onBack,key:"product-details-drawer"},C.default.createElement(c.DrawerHeader,{testid:"drawer-title-profile",title:E.fbt._("Details",null,{hk:"1hLRT1"}),onBack:e.onBack,type:c.DRAWER_HEADER_TYPE.SMALL}),C.default.createElement(d.default,null,C.default.createElement(m.default,{fetchState:k})))}));t.ProductDetailsWithDeepLink=_,_.displayName="ProductDetailsWithDeepLink"},76987:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(952543),i=a(418541),l=a(488940),o=n(a(395767)),s=a(644234),u=n(a(756680)),d=a(172259),c=a(937484),f=a(373070),p=a(493770),h=a(316348),m=a(555622),g=a(625786),y=a(390737),v=a(676345),E=n(a(625903)),C=n(a(844453)),b=a(708233),_=a(548360),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),S=n(a(156720));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}const M={tileContainer:{display:"p357zi0d",flexWrap:"lkhkxwyq"},btnDelete:{position:"lhggkp7q",top:"hdpg1tjz",end:"ltcz4qz9",zIndex:"mb8var44",color:"k17s6i4e",filter:"rhe1kc9j"},btnAdd:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"jkv2xdwy",height:"sptw4ec9",fontSize:"lak21jic",fontWeight:"hnx8ox4h",lineHeight:"gz7w46tb",letterSpacing:"hql59cr1"},btnAddContainer:{position:"g0rxnol2",display:"l7jjieqr",width:"jkv2xdwy",height:"sptw4ec9",color:"b4rtxgmj",verticalAlign:"fewfhwl7",backgroundColor:"pxg41zh7",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9"},btnAddText:{textAlign:"qfejxiq4"},imageTile:{position:"g0rxnol2",display:"l7jjieqr",width:"jkv2xdwy",height:"sptw4ec9",":focus":{boxShadow:"jgwac5b6"}},imageThumb:{width:"ln8gz9je",pointerEvents:"m62443ks"},errorMessage:{width:"ln8gz9je",minHeight:"dn5wc90o",color:"mvxzr2tb"}},P=(0,w.forwardRef)(((e,t)=>{let{imageData:a,onDelete:n,index:r}=e;return w.default.createElement("div",{ref:t,className:(0,S.default)(M.imageTile,v.uiMargin.end8,v.uiMargin.bottom10)},w.default.createElement(E.default,{xstyle:M.btnDelete,"aria-label":_.fbt._("Remove image number {imageNumber}",[_.fbt._param("imageNumber",r+1)],{hk:"11vQtK"}),testid:"delete-image",onClick:n},w.default.createElement(b.XAltIcon,{width:30,height:30})),w.default.createElement(p.ProductThumb,{mediaData:a.mediaData,xstyle:M.imageThumb}))}));function T(e){let{handleFilePick:t,inputRef:a}=e;return w.default.createElement("input",{ref:a,type:"file",accept:c.IMAGE_MIMES,style:{display:"none"},onChange:t,multiple:!0})}P.displayName="Tile",T.displayName="FileInput";const O=(0,w.forwardRef)(((e,t)=>{let{onAddFileClick:a}=e;return w.default.createElement("div",{ref:t,className:(0,S.default)(M.btnAddContainer,v.uiMargin.end8,v.uiMargin.bottom10)},w.default.createElement(E.default,{xstyle:M.btnAdd,"aria-label":_.fbt._("Add additional image",null,{hk:"1zIuu3"}),onClick:a,testid:"add-image"},w.default.createElement(i.CameraIcon,null),w.default.createElement("div",{className:(0,S.default)(M.btnAddText,v.uiMargin.top5)},_.fbt._("Add Images",null,{hk:"3yrGBr"}))))}));function x(e){let{error:t}=e;return w.default.createElement("div",{className:(0,S.default)(M.errorMessage),role:"alert"},t)}function I(e,t){const{maxImageCount:a,onChange:n,error:i,product:p}=e,E=(0,w.useRef)(null),[b,k]=(0,w.useState)((()=>p.productImageCollection.filter((e=>!e.old)).map((e=>({url:e.mediaUrl,mediaData:e.mediaData}))))),I=e=>{e.mediaPrep.waitForPrep().then((t=>{if(!(e=>!(b.filter((t=>t.mediaData.filehash===e.filehash)).length>0&&(y.ToastManager.open(w.default.createElement(g.Toast,{msg:_.fbt._("Two or more images are the same. Delete any duplicates and try again.",null,{hk:"3qIMS6"})})),1)))(t))return;t.mediaStage=d.MediaDataStage.RESOLVED,t.renderableUrl=e.fullPreview;const a=t.mediaBlob;!a||a instanceof u.default||u.default.createFromData(a,a.type).then((e=>{t.mediaBlob=e})),k((e=>[...e,{url:null,mediaData:t}])),null==n||n([...b,{url:null,mediaData:t}])}))},L=e=>{(0,l.getFiles)(e,c.IMAGE_MIMES).then((e=>{const t=a-b.length;e.length>t&&y.ToastManager.open(w.default.createElement(g.Toast,{msg:_.fbt._("You've reached the maximum number of images to add.",null,{hk:"2ra3Nx"}),duration:6e3,action:{actionText:(0,o.default)("GOT IT"),dismiss:!0,theme:"success"}})),e.slice(0,a-b.length).map((e=>({file:e,filename:e.name,mimetype:e.type,type:f.MSG_TYPE.PRODUCT}))).map((e=>{var t;const a=new r.AttachMedia({file:Promise.resolve(e)});return null===(t=a.processPromise)||void 0===t?void 0:t.then((()=>{I(a)}))}))})),null!=e.target.value&&""!==e.target.value&&(e.target.value="")},D=()=>{const e=b.filter((e=>null==e.url)).length;m.QPL.markerAnnotate(h.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,{int:{ImagesCount:e}}),m.QPL.markerPoint(h.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,"images_upload_start");const t=b.filter((e=>null==e.url)).map((e=>{const{mediaData:{mediaBlob:t,filehash:a}}=e;return t instanceof u.default?(0,s.uploadProductImage)(t,a).then((t=>{e.url=t})):null})).filter(Boolean);return Promise.all(t).then((()=>(m.QPL.markerPoint(h.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,"images_upload_end"),b.map((e=>e.url||"")))))};(0,w.useImperativeHandle)(t,(()=>({uploadImages:D,handleFilePick:L})));return w.default.createElement("div",{className:(0,S.default)(v.uiMargin.bottom14)},w.default.createElement("div",{className:(0,S.default)(M.tileContainer)},w.default.createElement(C.default,{appear:!0,transitionName:"thumb-scale-flex"},b.filter((e=>e.mediaData)).map(((e,t)=>w.default.createElement(P,{key:e.mediaData.filehash,index:t,imageData:e,onDelete:()=>(e=>{const t=b.filter((t=>t!==e));k(t),null==n||n(t)})(e)}))),b.length<a?w.default.createElement(O,{onAddFileClick:()=>{if(E.current){E.current.click()}}}):null),w.default.createElement(T,{inputRef:E,handleFilePick:L})),w.default.createElement(x,{error:i}))}O.displayName="AddImageButton",x.displayName="ErrorMessage";var L=(0,w.forwardRef)(I);t.default=L},533196:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var r=a(568550),i=a(900316),l=a(512938),o=n(a(964223)),s=a(114850),u=a(899841),d=a(932523),c=n(a(698690)),f=a(77548),p=n(a(373044)),h=n(a(772549)),m=a(163139),g=a(676345),y=a(887222),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),E=n(a(156720));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const b={overflowX:"gfz4du6o",overflowY:"r7fjleex"},_=(0,l.FlatListFactory)();function w(e){let{item:t,onProductDetail:a}=e;const n=(0,v.useCallback)(((e,t)=>((0,f.logCatalogListDetailClick)({product:(0,m.unproxy)(e),catalogContext:t}),(0,y.qplStartProductView)("PLM"),a(e))),[a]);let i=null;switch(t.type){case"section":{const{label:e}=t;i=v.default.createElement(h.default,{header:e});break}case"product":{const{product:e}=t;i=v.default.createElement(r.DrawerContext.Consumer,null,(t=>v.default.createElement(c.default,{product:e,onClick:()=>n(e,(0,d.getProductCatalogContext)(t)),canManageCatalog:!1})));break}}return i}function S(e){let{flatListController:t,onProductDetail:a,productMessageList:n}=e;const r=n.productCollection.getProductModels(),l=n.getSections(),d=n.getSectionsCount()>0,c=n.getTotalProductsFetchedOrFailed(),f=n.getProductSize()===c&&0===r.length,h=[];return l.forEach(((e,t)=>{let{title:a,products:n}=e;const i=[];n.forEach((e=>{let{productId:a}=e;const n=r.find((e=>e.id===a));null!=n&&i.push({itemKey:`section-${t}-${n.id.toString()}`,product:n,type:"product",height:u.PRODUCT_LIST_ITEM_HEIGHT})})),i.length>0&&(null!=a&&""!==a&&h.push({itemKey:`header-${t}-${a}`,label:a,type:"section",height:72}),h.push(...i))})),(0,v.useEffect)((()=>{f&&s.ModalManager.open(v.default.createElement(p.default,{onConfirm:()=>{i.DrawerManager.closeDrawerRight(),s.ModalManager.close()}}))}),[f]),v.default.createElement("div",{className:(0,E.default)(b,g.uiPadding.bottom8,!d&&g.uiMargin.top8)},v.default.createElement(o.default,{flatListControllers:[t]},v.default.createElement(_,{flatListController:t,direction:"vertical",forceConsistentRenderCount:!1,data:h,renderItem:e=>v.default.createElement(w,{item:e,onProductDetail:a}),itemEnterAnimationsEnabled:!0})))}w.displayName="Item",S.displayName="ProductMessageList"},716890:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductMessageListDrawer=void 0;var r=n(a(348926)),i=a(15842),l=a(724976),o=a(290895),s=a(263755),u=a(660666),d=n(a(908081)),c=n(a(324093)),f=a(568550),p=a(626194),h=a(305521),m=n(a(570834)),g=n(a(495012)),y=a(914368),v=a(899841),E=n(a(819543)),C=a(932523),b=a(227604),_=n(a(568414)),w=a(77548),S=n(a(533196)),k=a(466077),M=a(316348),P=a(555622),T=a(887222),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),x=n(a(156720)),I=a(379811),L=n(a(637660)),D=a(808446),R=n(a(895851));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}const N={display:"p357zi0d"};function j(e){let{loadingMore:t,onProductDetail:a,productListFlatListControllerRef:n,productMessageList:r,productMessageListFetchState:i}=e;return r?O.default.createElement("div",null,O.default.createElement(S.default,{productMessageList:r,flatListController:n.current,onProductDetail:a}),t&&O.default.createElement(g.default,null)):O.default.createElement(_.default,{fetchState:i})}j.displayName="ProductMessageListDrawerContent";const F=(0,O.forwardRef)(((e,t)=>{const{productListId:a,setScrollOffset:n,onCartClick:g,onProductDetail:_,catalogWid:S}=e,A=(0,R.default)(),F=(0,O.useContext)(f.DrawerContext),B=(0,L.default)((()=>new m.default)),[W]=(0,I.useContactValues)(e.contact.id,[u.getId]),[H,z]=(0,O.useState)(!1),[U,V]=(0,O.useState)(0),[q,G]=(0,O.useState)(!1),[Y,K]=(0,O.useState)((()=>k.ProductMessageListCollection.get(a))),[X]=(0,O.useState)((()=>o.CartCollection.findCart(W.toString()))),[Z,Q]=(0,O.useState)(X.itemCount),[J,$]=(0,O.useState)(!1),[ee,te]=(0,O.useState)(Y?"SUCCESS":"NONE"),ae=t=>{const{isPushed:n=!0}=e,r=n&&!0===t,l=k.ProductMessageListCollection.assertGet(a),o=l.getTotalProductsFetchedOrFailed(),s=l.getProductSize();if(q||o===s)return r&&(P.QPL.markerAnnotate(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{int:{ProductsCount:o}}),P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,i.QuickLogActionType.SUCCESS)),void G(!0);z(!0),V(o);const u=r?M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW:void 0;k.ProductMessageListCollection.update(a,{markerId:u}).then((e=>{if(A.aborted)return void(r&&P.QPL.markerDrop(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW));z(!1);const t=(Array.isArray(e)?e[0]:e).getTotalProductsFetchedOrFailed();t===U&&G(!0),r&&(P.QPL.markerAnnotate(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{int:{ProductsCount:t}}),P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,i.QuickLogActionType.SUCCESS)),o*v.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&ae()})).catch((()=>{z(!1),G(!0),r&&P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,i.QuickLogActionType.FAIL)}))},ne=function(){var t=(0,r.default)((function*(){const{isPushed:t=!0}=e;try{const e=yield k.ProductMessageListCollection.find(a);if(A.aborted)return void(t&&P.QPL.markerDrop(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW));K(e),te("SUCCESS"),ae(!0)}catch(e){(0,b.parseErrorState)(e,(e=>te(e))),t&&P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,i.QuickLogActionType.FAIL)}}));return function(){return t.apply(this,arguments)}}();(0,O.useEffect)((()=>{Y?ae():ne(),(0,E.default)(W).then((e=>{A.aborted||($(e),(0,w.logCatalogListView)({catalogOwnerWid:S,catalogContext:(0,C.getProductCatalogContext)(F),cartToggle:e}))}))}),[]),(0,D.useListener)(X,"all",(()=>{Q(X.itemCount)}));const re=null!=g&&J?O.default.createElement(s.CartIconMenuBarItem,{cartCountText:(0,l.isNumber)(Z)&&Z>0?Z.toString():void 0,onClick:()=>{(0,T.qplStartCartView)("PLM"),null==g||g(W.toString())},catalogOwnerJid:W.toString()}):null;return O.default.createElement(d.default,{ref:t,theme:"products",onDrop:e.onBack},O.default.createElement(p.DrawerHeader,{title:O.default.createElement("div",{className:(0,x.default)(N)},O.default.createElement(h.EmojiText,{text:null==Y?void 0:Y.title,ellipsify:!0})),titleStr:null==Y?void 0:Y.title,type:p.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:re}),O.default.createElement(c.default,{onScroll:e=>{var t;t=e.currentTarget,H||t.scrollTop+y.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&ae(),null==n||n(e.currentTarget.scrollTop)},flatListControllers:[B.current],scrollOffset:e.scrollOffset},O.default.createElement(j,{productMessageList:Y,loadingMore:H,productMessageListFetchState:ee,onProductDetail:_,productListFlatListControllerRef:B})))}));t.ProductMessageListDrawer=F,F.displayName="ProductMessageListDrawer",F.displayName="ProductMessageListDrawer"},373044:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(103440),i=a(305521),l=n(a(395767)),o=a(548360),s=n(a(667294));function u(e){let{onConfirm:t}=e;return s.default.createElement(r.ConfirmPopup,{onOK:t,okText:(0,l.default)("OK")},s.default.createElement(i.EmojiText,{text:o.fbt._("Items in this message are no longer available",null,{hk:"1MclQl"})}))}u.displayName="ProductMessageListNoProductModal"},614415:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(670983)),i=a(713464),l=n(a(368084)),o=a(61740),s=a(548360),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c=(e,t)=>{const[a,n]=(0,u.useState)(!1),[d,c]=(0,u.useState)([]),f=u.default.createElement(l.default,{disabled:!a,onClick:()=>{var t;const a=(0,r.default)(null===(t=d[0])||void 0===t?void 0:t.catalogWid,"products[0]?.catalogWid"),n=(0,r.default)(i.CatalogCollection.get(a),"CatalogCollection.get(catalogWid)");e.onShare(n)}});return u.default.createElement(o.SelectModal,{ref:t,title:s.fbt._("Send products",null,{hk:"3C7pQj"}),onCancel:e.onCancel,onConfirm:e.onConfirm,listType:o.ListType.ProductSelectModal,enableSearchBox:!1,customHeader:f,onSelectionChanged:(e,t,a)=>{n(0===a.length)},onDataLoaded:e=>{const t=e;c(t),n(t.length>0)}})};var f=(0,u.forwardRef)(c);t.default=f},368084:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(682761),i=n(a(170206)),l=n(a(802211)),o=a(548360),s=n(a(667294));n(a(156720));function u(e){let{disabled:t,onClick:a}=e;const n=t?"bx7g2weo":"",u=t?"hp667wtd":"",d=t?null:a,c=s.default.createElement("span",{className:u},o.fbt._("Send catalog",null,{hk:"BiYcl"})),f=s.default.createElement(l.default,{theme:"compact",disabled:t},s.default.createElement(r.CatalogIcon,null));return s.default.createElement(i.default,{image:f,onClick:d,primary:c,theme:"list-button-compact",className:n})}u.displayName="SendCatalogButton"},67791:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,l.useState)((()=>i.CatalogCollection.get(e))),n=(0,o.default)();return(0,l.useEffect)((()=>{const l=i.CatalogCollection.get(e);l!==t&&(null!=l?a(l):(0,r.default)((function*(){const t=yield i.CatalogCollection.find(e);n.aborted||a(t)}))())}),[e,t,n]),t};var r=n(a(348926)),i=a(713464),l=a(667294),o=n(a(895851))},149917:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(512938),i=n(a(964223)),l=a(899841),o=n(a(313292)),s=n(a(667294));const u=(0,r.FlatListFactory)();function d(e){const{selections:t,active:a,onSelectionChanged:n,catalog:r}=e,d=e=>{((e,r,i)=>{t.setVal(e,r,i),a.setVal(e,i),n()})(e,!t.isSelected(e),!1)};return s.default.createElement(i.default,{flatListControllers:[e.flatListController]},s.default.createElement(u,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:r.productCollection.getProductModels(!0).map((e=>({itemKey:e.id.toString(),product:e}))),renderItem:e=>{let{product:n}=e;return s.default.createElement(o.default,{key:n.id.toString(),product:n,selections:t,onClick:()=>d(n),active:a})},defaultItemHeight:l.PRODUCT_LIST_ITEM_HEIGHT}))}d.displayName="CollectionProductsSelectionList"},554740:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(898817),l=a(15842),o=a(773411),s=a(676983),u=a(638107),d=n(a(908081)),c=n(a(324093)),f=a(568550),p=a(626194),h=n(a(570834)),m=n(a(495012)),g=n(a(932325)),y=a(491606),v=n(a(149917)),E=n(a(930440)),C=a(899841),b=a(932523),_=a(854682),w=a(316348),S=a(555622),k=a(202391),M=a(435595),P=n(a(237889)),T=a(956113),O=a(454905),x=a(548360),I=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),L=n(a(156720)),D=n(a(969651)),R=n(a(637660)),A=n(a(286481)),N=n(a(895851));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}const F={container:{position:"g0rxnol2",zIndex:"thghmljt",display:"p357zi0d",flex:"a1m9qzja",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"ag5g9lrv"},isSending:{pointerEvents:"m62443ks",opacity:"n791o4v8"},footer:{zIndex:"ercejckq",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"fe3aadhc",paddingEnd:"h1a80dm5",paddingStart:"sta02ykp",color:"k17s6i4e",backgroundColor:"gulicvea"},saveButton:{paddingTop:"b7n2qyd4",paddingEnd:"btzf6ewn",paddingBottom:"ekpn4oxx",paddingStart:"nqtxkp62"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},nameContainer:{position:"g0rxnol2"},nameIcon:{position:"g0rxnol2",top:"fcxg0yzc",display:"l7jjieqr",width:"jgly3g7g",marginStart:"lhp4ctto",transform:"mdse5hul"},nameEdit:{display:"l7jjieqr",width:"p56o3wws",height:"q7zw29cd",paddingTop:"emrlamx0",verticalAlign:"fewfhwl7"},operation:{paddingTop:"qomlamqu",paddingEnd:"f9ovudaz",paddingBottom:"r219jyu0",paddingStart:"rppts313",marginStart:"bv1sdm6y",color:"jq3rn4u7"},listContainer:{height:"cbqxid7y",overflowX:"i44ccddp",overflowY:"ag5g9lrv"},loadingSpinner:{display:"btb1m7bk",justifyContent:"ac2vgrno",height:"jdwybkuq"}};function B(e){let{errorName:t,onChange:a,value:n}=e;return I.default.createElement(k.RichTextField,{editable:!0,focusOnMount:!0,showRemaining:!0,value:n,onChange:e=>{let{text:t}=e;a(t)},inputPlaceholder:x.fbt._("New collection",null,{hk:"2NAI33"}),theme:"text-input",error:t,maxLength:30})}function W(e){let{onClick:t,updated:a}=e;const n=x.fbt._({"*":"{updated} Items Updated",_1:"{updated} Item Updated"},[x.fbt._plural(a),x.fbt._param("updated",g.default.n(a))],{hk:"31p9rh"});return I.default.createElement("div",{className:(0,L.default)(F.footer)},n,I.default.createElement("div",{className:(0,L.default)(F.saveButton)},I.default.createElement(M.Round,{large:!0,onClick:t},I.default.createElement(s.CheckmarkMediumIcon,null))))}function H(e){let{collection:t,nameInfo:a,selectionList:n,syncInfo:r}=e;const{name:i,errorName:l,handleNameChange:o}=a,{isUpdating:s,loadingMore:d,syncSelection:c,handleSave:p}=r,h=s?I.default.createElement("div",{className:(0,L.default)(F.spinner)},I.default.createElement(T.Spinner,{size:50,stroke:3})):null,g=c();return I.default.createElement(f.DrawerContext.Consumer,null,(e=>{const a=(0,b.getProductCatalogContext)(e);return I.default.createElement(I.default.Fragment,null,h,I.default.createElement("div",{className:(0,L.default)(F.nameContainer)},I.default.createElement("span",{className:(0,L.default)(F.nameIcon)},I.default.createElement(u.CollectionsFolderIcon,null)),I.default.createElement("span",{className:(0,L.default)(F.nameEdit)},I.default.createElement(B,{onChange:o,value:i,errorName:l}))),I.default.createElement("div",{className:(0,L.default)(F.operation)},t?x.fbt._("Update Items",null,{hk:"2dT3Pu"}):x.fbt._("Add Items",null,{hk:"3NRr27"})),I.default.createElement("div",{className:(0,L.default)(F.listContainer)},n,d&&I.default.createElement("div",{className:(0,L.default)(F.loadingSpinner)},I.default.createElement(m.default,null))),g>0||t&&i!==t.name?I.default.createElement(W,{updated:g,onClick:()=>{p(a)}}):null)}))}function z(e,t){var a;const{catalog:n,collection:s,onBack:u}=e,f=(0,R.default)((()=>new P.default([],(e=>e.id.toString())))),m=(0,R.default)((()=>new E.default([],(e=>e.id.toString())))),g=(0,R.default)((()=>new h.default)),k=(0,D.default)(),M=(0,N.default)(),[T,j]=(0,I.useState)(null),[B,W]=(0,I.useState)(null==s?void 0:s.name),[z,U]=(0,I.useState)(null==s?void 0:s.name),[V,q]=(0,I.useState)(null),[G,Y]=(0,I.useState)(!1),[K,X]=(0,I.useState)(!0);(0,I.useEffect)((()=>{(()=>{const e=new o.CollectionsContentDataSource(n,C.PRODUCT_LIST_ITEM_HEIGHT,null==s?void 0:s.id),t=new o.CatalogListItemScrollHelper(e);j(t),e.loadInitialItems().then((()=>{if(M.aborted)throw new i.AbortError;X(!1),k()})).catch((0,i.catchAbort)((()=>{})))})()}),[]);const Z=(0,A.default)((e=>{const t=e.currentTarget;(null==T?void 0:T.willLoadMore(t))&&X(!0),null==T||T.onScroll(e,t).then((e=>{X(!1),e&&X(!1)})).catch((e=>{throw X(!1),e}))}),100),Q=function(){var e=(0,r.default)((function*(e){const t=(0,b.getProductCatalogContext)(e);if(B&&""!==B.trim()){S.QPL.markerStart(w.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT),Y(!0);const{added:e,removed:a}=(()=>{const e=n.productCollection.getProductModels(!0),t=[],a=[];return e.forEach((e=>{const n=m.current.isSelected(e);e.checkmark!==n&&(n?a.push(e):t.push(e))})),{added:a,removed:t}})(),r=B!==z;S.QPL.markerAnnotate(w.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,{bool:{IsNew:!s},int:{ProductsAdded:e.length}}),s&&S.QPL.markerAnnotate(w.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,{bool:{Renamed:r},int:{ProductsDeleted:a.length}});try{if(yield(0,y.handleCollectionSave)(n,s,B||"",e,a,t)){u();const n=null==s?void 0:s.id;n&&r&&((0,_.logCollectionRenamed)({catalogContext:t,collectionId:n}),U(B)),s&&(0,_.logCollectionItemsAssignment)({collectionId:s.id,addedCount:e.length,removedCount:a.length,catalogContext:t}),S.QPL.markerEnd(w.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,l.QuickLogActionType.SUCCESS)}else Y(!1),S.QPL.markerDrop(w.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT)}catch(e){Y(!1),S.QPL.markerEnd(w.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,l.QuickLogActionType.FAIL)}}else q(x.fbt._("Name required",null,{hk:"1pvj2p"}))}));return function(){return e.apply(this,arguments)}}(),J=(0,L.default)(F.container,G&&F.isSending),$=(null===(a=e.collection)||void 0===a?void 0:a.name)||x.fbt._("New collection",null,{hk:"4dusPd"});return I.default.createElement(d.default,{ref:t,theme:"products",onDrop:e.onBack},I.default.createElement(p.DrawerHeader,{title:$,type:(0,O.topMenuRedesignEnabled)()?p.DRAWER_HEADER_TYPE.SMALL:p.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),I.default.createElement(c.default,{className:J,flatListControllers:[g.current],onScroll:Z},I.default.createElement(H,{nameInfo:{name:B,errorName:V,handleNameChange:e=>{W(e),q(V&&e?null:V)}},syncInfo:{isUpdating:G,loadingMore:K,syncSelection:()=>{const e=n.productCollection.getProductModels(!0);let t=0;return e.forEach((e=>{m.current.isInList(e)?e.checkmark!==m.current.isSelected(e)&&t++:m.current.setVal(e,e.checkmark)})),t},handleSave:e=>{Q(e)}},collection:s,selectionList:I.default.createElement(v.default,{catalog:n,flatListController:g.current,active:f.current,selections:m.current,onSelectionChanged:()=>k()})})))}B.displayName="NameEdit",W.displayName="Footer",H.displayName="DrawerContent";var U=(0,I.forwardRef)(z);t.default=U},319170:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EditProductDrawer=void 0;var r=n(a(81109)),i=n(a(348926)),l=a(122583),o=n(a(670983)),s=a(15842),u=a(984330),d=a(691454),c=a(72696),f=a(172949),p=n(a(692629)),h=a(713464),m=a(468926),g=a(780549),y=a(845553),v=a(87630),E=a(537469),C=J(a(800857)),b=n(a(413252)),_=n(a(908081)),w=n(a(324093)),S=a(568550),k=a(626194),M=a(900316),P=a(690495),T=n(a(469733)),O=a(617433),x=a(486392),I=a(491606),L=a(932523),D=a(77548),R=n(a(76987)),A=a(517086),N=a(316348),j=a(555622),F=a(202391),B=a(956113),W=a(741703),H=a(180519),z=a(625786),U=a(390737),V=n(a(79291)),q=a(459857),G=a(548360),Y=J(a(667294)),K=n(a(156720)),X=a(808446),Z=a(655241);function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Q=function(e){return e?a:t})(e)}function J(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Q(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const $={complianceInfoHelpCenterBanner:{paddingTop:"nlnf8xo7",paddingEnd:"f9ovudaz",paddingBottom:"jzp2c175",paddingStart:"gx1rr48f"},productWrapper:{position:"g0rxnol2",width:"dlt2z1m8",paddingTop:"gq7nj7y3",paddingEnd:"f9ovudaz",paddingBottom:"eynyaxvo",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm"},isSending:{pointerEvents:"m62443ks",opacity:"n791o4v8"},drawerHeader:{display:"p357zi0d",alignItems:"gndfcl4n"},drawerHeaderButtonContainer:{marginStart:"isfiuinm"},deleteButtonContainer:{marginTop:"dkeqio29",marginEnd:"jnwc1y2a",marginBottom:"ofb4x1dx",marginStart:"svoq16ka",textAlign:"qfejxiq4"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},hiddenContainer:{marginTop:"opp68qpq",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},hiddenLabel:{position:"g0rxnol2",top:"hd6b059k",marginStart:"a3oefunm"},hiddenDescr:{marginTop:"hymafltn",marginBottom:"bvhm1occ",marginStart:"gv7ona1m",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"pp1m8hwk"}},ee=(0,Y.forwardRef)(((e,t)=>{const{catalog:a,onBack:n,onCancel:g,newProduct:v=!1,onDelete:P,onEditSuccess:T,onCreate:O}=e,Q=(0,Y.useContext)(S.DrawerContext),J=(0,Y.useRef)(null),ee=(0,Z.useModelValues)(e.product,["id","additionalImageCdnUrl","name","priceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl","retailerId","currency","isHidden","complianceInfo"]),ae=e=>!(0,c.hideUnsupportedCurrency)()||C.isSupportedCurrency(e),ne=null!=ee.currency?ee.currency:C.currencyForCountryShortcode((0,x.getCountryShortcodeByPhone)((0,q.getMeUser)().user)),re=ae(ne),[ie,le]=(0,Y.useState)(ee.name||""),[oe,se]=(0,Y.useState)(re?ee.priceAmount1000:null),[ue,de]=(0,Y.useState)(ee.description||""),[ce,fe]=(0,Y.useState)(ee.url||""),[pe,he]=(0,Y.useState)(ee.retailerId||""),[me,ge]=(0,Y.useState)((()=>{if(null!=ee.priceAmount1000&&null!=ne&&re){const e=C.formatAmount1000ToParts(ne,ee.priceAmount1000);return`${e.integer}${e.decimal}`}return""})),ye=re?ne:"",[ve,Ee]=(0,Y.useState)(!1),[Ce,be]=(0,Y.useState)(""),[_e,we]=(0,Y.useState)(""),[Se,ke]=(0,Y.useState)(""),[Me,Pe]=(0,Y.useState)(""),[Te,Oe]=(0,Y.useState)(""),[xe,Ie]=(0,Y.useState)(!!ee.imageCdnUrl),[Le,De]=(0,Y.useState)(!1),[Re,Ae]=(0,Y.useState)(ee.isHidden),[Ne,je]=(0,Y.useState)(!!re),[Fe,Be]=(0,Y.useState)(!1),[We,He]=(0,Y.useState)(void 0);(0,X.useListener)(ee,"change:isHidden",(()=>{Ae(ee.isHidden)}));const ze=function(){var e=(0,i.default)((function*(){if(v)Be(!0);else{yield h.CatalogCollection.findProduct({catalogWid:a.id,productId:ee.id.toString(),shouldFetchComplianceFields:!0});const e=(0,o.default)(a,"catalog").productCollection.get(ee.id),{countryCodeOrigin:t,importerName:n,importerAddress:r}=(null==e?void 0:e.complianceInfo)||{},i=t===String(W.SyntheticCountryCode.NotApplicable)?G.fbt._("Not Applicable",null,{hk:"2k1klN"}).toString():t&&(yield(0,E.getCountryName)(t,E.COUNTRY_FILTER_TYPE.META_RECOGNIZED)),l=(null==r?void 0:r.countryCode)&&(yield(0,E.getCountryName)(r.countryCode,E.COUNTRY_FILTER_TYPE.META_RECOGNIZED));Be(!0),He({countryCodeOrigin:t,countryNameOrigin:i,countryCodeOriginError:"",importerName:n,importerNameError:"",importerAddress:{street1:null==r?void 0:r.street1,street1Error:"",street2:null==r?void 0:r.street2,postalCode:null==r?void 0:r.postalCode,city:null==r?void 0:r.city,cityError:"",region:null==r?void 0:r.region,countryCode:null==r?void 0:r.countryCode,countryName:l,countryCodeError:""}})}}));return function(){return e.apply(this,arguments)}}();(0,Y.useEffect)((()=>{(0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(a.id)&&ze()}),[]);const Ue=(e,t,a)=>{if(null==We)return;const{importerAddress:n}=We;return t===e?a:n[e]},Ve=()=>{const e=null==We?void 0:We.countryCodeOrigin;return!!e&&![y.COMPLIANCE_INFO_CODES.INDIA,W.SyntheticCountryCode.NotApplicable].includes(e)},qe=()=>(0,c.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(a.id),Ge=(e,t)=>{v?(0,D.logAddProductFailed)((0,L.getProductCatalogContext)(Q)):(0,D.logEditProductFailed)(ee,(0,L.getProductCatalogContext)(Q),e.statusCode);let a=G.fbt._("Failed to save changes",null,{hk:"1rgjJH"});null!=e.errors&&(e.errors.filter((e=>"duplicate"===e.reason)).length>0?j.QPL.markerDrop(t):j.QPL.markerEnd(t,s.QuickLogActionType.FAIL),e.errors.map((e=>{"media"===e.name&&"duplicate"===e.reason&&Oe(G.fbt._("Two or more images are the same. Delete any duplicates and try again.",null,{hk:"3qIMS6"})),"retailer_id"!==e.name&&"retailer-id"!==e.name||"duplicate"!==e.reason||Pe(G.fbt._("Item code must be unique.",null,{hk:"2T0KbL"})),(0,c.hideUnsupportedCurrency)()&&"currency"===e.name&&"invalid-data"===e.reason&&(a=G.fbt._("Price can't be shown in your country. Delete the price you entered.",null,{hk:"2fEiD0"}))}))),U.ToastManager.open(Y.default.createElement(z.Toast,{msg:a,id:(0,z.genId)("catalog_save_item_failed")}))},Ye=e=>{a.productCollection.add(e,{merge:!0}),v?(0,D.logAddProductSuccess)((0,L.getProductCatalogContext)(Q)):(0,D.logEditProductSuccess)(ee,(0,L.getProductCatalogContext)(Q)),U.ToastManager.open(Y.default.createElement(z.Toast,{msg:G.fbt._("Changes saved",null,{hk:"fmK60"}),id:(0,z.genId)("catalog_item_saved")})),T(e),null!=v&&(null==O||O())},Ke=function(){var e=(0,i.default)((function*(e,t){const a=Ue("street1",e,t),n=Ue("street2",e,t),i=Ue("postalCode",e,t),l=Ue("city",e,t),o=Ue("region",e,t),s=Ue("countryCode",e,t),u=[a,n,i,l,o,s].some((e=>e))||qe(),c=(0,r.default)((0,r.default)({},We),{},{importerAddress:(0,r.default)({},null==We?void 0:We.importerAddress)});if("countryCode"===e){const e=yield(0,E.getCountryName)(t,E.COUNTRY_FILTER_TYPE.META_RECOGNIZED);null==e||""===e?delete c.importerAddress.countryName:c.importerAddress.countryName=e}null==t||""===t?delete c.importerAddress[e]:c.importerAddress[e]=t,c.importerAddress.street1Error=u&&!(0,d.existsFieldIgnoreHardEnforcement)(a)?G.fbt._("Add an importer address line 1",null,{hk:"3HSMmN"}):"",c.importerAddress.cityError=u&&!(0,d.existsFieldIgnoreHardEnforcement)(l)?G.fbt._("Add an importer city",null,{hk:"1nq7dA"}):"",c.importerAddress.countryCodeError=u&&!(0,d.existsFieldIgnoreHardEnforcement)(s)?G.fbt._("Add an importer country",null,{hk:"3VmDTh"}):"",je(!0),He(c)}));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,i.default)((function*(e,t){let a;const n=(0,r.default)((0,r.default)({},We),{},{importerAddress:(0,r.default)({},null==We?void 0:We.importerAddress)});"countryCodeOrigin"===e&&(a=t===String(W.SyntheticCountryCode.NotApplicable)?G.fbt._("Not Applicable",null,{hk:"2k1klN"}).toString():yield(0,E.getCountryName)(t,E.COUNTRY_FILTER_TYPE.META_RECOGNIZED),n.countryNameOrigin=a,n.countryCodeOriginError=""),"importerName"===e&&(n.importerNameError=(0,d.existsField)(t,(0,q.getMeUser)())||!qe()?"":G.fbt._("Add an importer name",null,{hk:"3UwP1T"})),null==t||""===t?delete n[e]:n[e]=t,je(!0),He(n)}));return function(){return e.apply(this,arguments)}}(),Ze=Y.default.createElement(p.default,{type:"primary",onClick:()=>{let e=!0;const t=new A.Product({id:ee.id,priceAmount1000:oe,currency:ye,description:ue||"",imageCdnUrl:ee.imageCdnUrl,additionalImageCdnUrl:ee.additionalImageCdnUrl,name:ie,retailerId:pe,url:ce,isHidden:Re,complianceInfo:(0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(a.id)?{countryCodeOrigin:null==We?void 0:We.countryCodeOrigin,importerName:null==We?void 0:We.importerName,importerAddress:{street1:null==We?void 0:We.importerAddress.street1,street2:null==We?void 0:We.importerAddress.street2,postalCode:null==We?void 0:We.importerAddress.postalCode,city:null==We?void 0:We.importerAddress.city,region:null==We?void 0:We.importerAddress.region,countryCode:null==We?void 0:We.importerAddress.countryCode}}:void 0});var n;(()=>{const e=(0,q.getMeUser)();if(!qe()||!Fe)return!1;const t=(0,r.default)((0,r.default)({},We),{},{importerAddress:(0,r.default)({},null==We?void 0:We.importerAddress)});if(!(0,d.existsField)(t.countryCodeOrigin,e))return t.countryCodeOriginError=G.fbt._("Add a country of origin",null,{hk:"3WA7X9"}),He(t),!0;if(!Ve())return!1;const{importerName:a,importerAddress:{street1:n,city:i,countryCode:l}}=t;let o=!1;return(0,d.existsField)(a,e)||(t.importerNameError=G.fbt._("Add an importer name",null,{hk:"3UwP1T"}),o=!0),(0,d.existsFieldIgnoreHardEnforcement)(n)||(t.importerAddress.street1Error=G.fbt._("Add an importer address line 1",null,{hk:"3HSMmN"}),o=!0),(0,d.existsFieldIgnoreHardEnforcement)(i)||(t.importerAddress.cityError=G.fbt._("Add an importer city",null,{hk:"1nq7dA"}),o=!0),(0,d.existsFieldIgnoreHardEnforcement)(l)||(t.importerAddress.countryCodeError=G.fbt._("Add an importer country",null,{hk:"3VmDTh"}),o=!0),!!o&&(He(t),!0)})()||(v?(0,D.logAddProductClick)((0,L.getProductCatalogContext)(Q)):(0,D.logEditProductClick)(ee,(0,L.getProductCatalogContext)(Q)),Ee(!0),v||Ne?(j.QPL.markerStart(N.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,{annotations:{bool:{IsNewProduct:!!v}}}),null===(n=J.current)||void 0===n||n.uploadImages().then((n=>{t.imageCdnUrl=n[0],t.additionalImageCdnUrl=n.slice(1);(v?a.addProduct(t):a.editProduct(t)).then((t=>{Ye(t),e=!1,j.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,s.QuickLogActionType.SUCCESS)})).catch((0,l.filteredCatch)(u.CatalogEditServerError,(t=>{e=!1,Ge(t,N.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE)}))).finally((()=>{e&&j.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,s.QuickLogActionType.FAIL),Ee(!1)}))})).catch((e=>{throw j.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,s.QuickLogActionType.FAIL),Ee(!1),e}))):(j.QPL.markerStart(N.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{annotations:{string:{EntryPoint:"Product"}}}),(0,f.productVisibilitySet)([{productId:ee.id.toString(),isHidden:t.isHidden}]).then((()=>{ee.isHidden=t.isHidden,Ye(ee),e=!1,j.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,s.QuickLogActionType.SUCCESS)})).catch((0,l.filteredCatch)(u.CatalogEditServerError,(t=>{e=!1,Ge(t,N.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE)}))).finally((()=>{e&&j.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,s.QuickLogActionType.FAIL),Ee(!1)}))))},disabled:!(()=>{if(""===ie.trim()||!1===xe)return!1;const e=[Ce,_e,Se,Me,Te];return Ve()&&e.push(null==We?void 0:We.importerNameError,null==We?void 0:We.importerAddress.street1Error,null==We?void 0:We.importerAddress.cityError,null==We?void 0:We.importerAddress.countryCodeError),qe()&&e.push(null==We?void 0:We.countryCodeOriginError),e.every((e=>!e))})(),testid:"product-edit-drawer-save-button"},v?G.fbt._("Add to catalog",null,{hk:"3Dku2o"}):G.fbt._("Save",null,{hk:"44asBM"})),Qe=v?G.fbt._("Add new item",null,{hk:"3DqBBM"}):G.fbt._("Edit item",null,{hk:"2qzKLB"}),Je=Y.default.createElement("div",{className:(0,K.default)($.drawerHeader)},Y.default.createElement(H.TextHeader,{level:"2",weight:"normal",size:"inherit"},Qe),Y.default.createElement("div",{className:(0,K.default)($.drawerHeaderButtonContainer)},Ze)),$e=v?null:Y.default.createElement("div",{className:(0,K.default)($.deleteButtonContainer)},Y.default.createElement(p.default,{type:"warning",onClick:()=>{(0,I.handleProductDelete)(a,ee,(0,L.getProductCatalogContext)(Q),"Product").then((e=>{e&&(M.DrawerManager.closeDrawerMid(),null==P||P(ee))}))},testid:"product-edit-drawer-delete-button"},G.fbt._("Delete Item",null,{hk:"Frzv9"}))),et=(0,K.default)($.productWrapper,ve&&$.isSending),tt=Le?Y.default.createElement(b.default,null):null,at=ve?Y.default.createElement("div",{className:(0,K.default)($.spinner)},Y.default.createElement(B.Spinner,{size:50,stroke:3})):null,nt=Y.default.createElement("div",{className:(0,K.default)($.hiddenContainer)},Y.default.createElement(m.CheckBox,{id:"product-hidden-check",onChange:()=>{Ae((e=>!e))},checked:Re,disabled:!1}),Y.default.createElement("label",{className:(0,K.default)($.hiddenLabel),htmlFor:"product-hidden-check"},G.fbt._("Hide item",null,{hk:"GjLlA"})),Y.default.createElement("div",{className:(0,K.default)($.hiddenDescr)},G.fbt._("When you hide an item, customers won't see it in your catalog.",null,{hk:"eoTzf"}))),rt=(0,Y.useMemo)((()=>{const e=""!==ye?C.formatAmount1000ToParts(ye,0).symbol:"";return G.fbt._("Price {currencySymbol} (Recommended)",[G.fbt._param("currencySymbol",e)],{hk:"3kOjhT"})}),[ye]);return Y.default.createElement(_.default,{ref:t,key:"catalog-link-drawer",theme:"catalog",onDrop:e=>{var t;null===(t=J.current)||void 0===t||t.handleFilePick(e)},onDragChange:e=>{De(e)}},tt,Y.default.createElement(k.DrawerHeader,{testid:"catalog-link-title",title:Je,titleStr:Qe,type:k.DRAWER_HEADER_TYPE.SMALL,onBack:n,onCancel:g,focusBackOrCancel:!0}),Y.default.createElement(w.default,null,Y.default.createElement("div",{className:et},at,Y.default.createElement(R.default,{product:ee,maxImageCount:A.MAX_PRODUCT_IMAGES,onChange:e=>{let t="";0===e.length&&(t=G.fbt._("Add at least one image",null,{hk:"4tbVYS"})),Oe(t),Ie(e.length>0),je(!0)},ref:J,error:Te}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-name-input",value:ie,placeholder:G.fbt._("Name",null,{hk:"46mqET"}),onChange:e=>{const t=e.text;le(t),be(""===t.trim()?G.fbt._("Add a title",null,{hk:"3QauyV"}):""),je(!0)},theme:"small",showRemaining:!0,customStyleThemes:["desaturated"],maxLength:150,error:Ce,title:G.fbt._("Name",null,{hk:"47pzCN"})}),ae(ye)&&Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-price-input",value:me,placeholder:rt,onChange:e=>{const t=e.text,a=C.valueFromString(ye,t);let n="";""===t||C.validatePriceString(ye,t,A.MIN_PRICE,A.MAX_PRICE)||(n=G.fbt._("Enter a valid price",null,{hk:"3JgcXg"})),se(""===t?null:a),ge(`${t}`),we(n),je(!0)},theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:_e,title:G.fbt._("Price",null,{hk:"1q6KRK"})}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-description-input",value:ue,placeholder:G.fbt._("Description (Optional)",null,{hk:"38PzGH"}),onChange:e=>{de(e.text),je(!0)},theme:"small",maxLength:5e3,customStyleThemes:["desaturated"],multiline:!0,title:G.fbt._("Description",null,{hk:"2sGitZ"})}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-link-input",value:ce,placeholder:G.fbt._("Link (Optional)",null,{hk:"18F36s"}),onChange:e=>{const t=e.text;let a="";""===t||V.default.isValid(t)||(a=G.fbt._("URL is incorrect",null,{hk:"xiOtm"})),fe(t),ke(a),je(!0)},onBlur:()=>{""===ce||V.default.isHttps(ce)||V.default.isHttp(ce)||fe(`https://${ce}`)},theme:"small",customStyleThemes:["desaturated"],maxLength:75,error:Se,managed:!0,title:G.fbt._("Link",null,{hk:"1yLSRM"})}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-retailer-id-input",value:pe,placeholder:G.fbt._("Item Code (Optional)",null,{hk:"MWG64"}),onChange:e=>{he(e.text),Pe(""),je(!0)},theme:"small",customStyleThemes:["desaturated"],maxLength:100,error:Me,title:G.fbt._("Item code",null,{hk:"6trPE"})}),(0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(a.id)?Y.default.createElement(te,{isComplianceHardEnforced:qe(),isComplianceInfoAvailable:Fe,showComplianceInfoImporterAddress:Ve(),complianceInfo:We,onComplianceInfoChange:Xe,onComplianceInfoImporterAddressChange:Ke}):null,nt,$e)))}));function te(e){let{complianceInfo:t,isComplianceHardEnforced:a,isComplianceInfoAvailable:n,onComplianceInfoChange:r,onComplianceInfoImporterAddressChange:l,showComplianceInfoImporterAddress:o}=e;const[s,u]=(0,Y.useState)([]),d=(0,Y.useMemo)((()=>{const e=(0,q.getMeUser)();return s.length>0&&(0,c.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e)?(0,O.bubbleCountryOnListOfCountries)(s,y.COMPLIANCE_INFO_CODES.INDIA,!0):s}),[s]),f=(0,Y.useMemo)((()=>{const e=(0,q.getMeUser)();if(s.length>0&&(0,c.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e)){let e=y.COMPLIANCE_INFO_CODES.INDIA;return"string"==typeof(null==t?void 0:t.countryCodeOrigin)&&""!==t.countryCodeOrigin&&(e=t.countryCodeOrigin),(0,O.formatCountriesOfOrigin)(s,e)}return s}),[s,null==t?void 0:t.countryCodeOrigin]),p=e=>`${e.toString()} (${G.fbt._("Optional",null,{hk:"4vf9yI"}).toString()})`,h=e=>!t||Object.values(t.importerAddress).every((e=>!e))?p(e):e;return(0,Y.useEffect)((()=>{let e=!0;return(0,i.default)((function*(){const t=(0,q.getMeUser)();if((0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(t)){const t=yield(0,E.getCountries)({filter:E.COUNTRY_FILTER_TYPE.META_RECOGNIZED});e&&u(t)}}))(),()=>{e=!1}}),[]),n&&s.length?Y.default.createElement("div",null,Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-country-of-origin-input",value:null==t?void 0:t.countryNameOrigin,placeholder:G.fbt._("Country of Origin",null,{hk:"2yl0F7"}),onChange:()=>{},theme:"small",customStyleThemes:["desaturated"],managed:!0,onFocus:()=>g.Cmd.showCountrySelector(G.fbt._("Country of Origin",null,{hk:"2yl0F7"}),null==t?void 0:t.countryCodeOrigin,f,(e=>{r("countryCodeOrigin",e)})),error:null==t?void 0:t.countryCodeOriginError}),o&&Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-name-input",value:null==t?void 0:t.importerName,placeholder:h(G.fbt._("Importer Name",null,{hk:"3DW3Nn"})),onChange:e=>{r("importerName",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:y.COMPLIANCE_INFO_LENGTH.IMPORTER_NAME,error:null==t?void 0:t.importerNameError}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-street-1-input",value:null==t?void 0:t.importerAddress.street1,placeholder:h(G.fbt._("Importer Address Line 1",null,{hk:"1ORfyh"})),onChange:e=>{l("street1",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:y.COMPLIANCE_INFO_LENGTH.STREET1,error:null==t?void 0:t.importerAddress.street1Error}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-street-2-input",value:null==t?void 0:t.importerAddress.street2,placeholder:p(G.fbt._("Importer Address Line 2",null,{hk:"2pYt7Y"})),onChange:e=>{l("street2",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:y.COMPLIANCE_INFO_LENGTH.STREET2}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-city-input",value:null==t?void 0:t.importerAddress.city,placeholder:h(G.fbt._("Importer City",null,{hk:"4c06Q3"})),onChange:e=>{l("city",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:y.COMPLIANCE_INFO_LENGTH.CITY,error:null==t?void 0:t.importerAddress.cityError}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-region-input",value:null==t?void 0:t.importerAddress.region,placeholder:p(G.fbt._("Importer Region",null,{hk:"3MkbQD"})),onChange:e=>{l("region",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:y.COMPLIANCE_INFO_LENGTH.REGION}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-country-code-input",value:null==t?void 0:t.importerAddress.countryName,placeholder:h(G.fbt._("Importer Country",null,{hk:"3ar6sr"})),onChange:()=>{},theme:"small",customStyleThemes:["desaturated"],managed:!0,onFocus:()=>g.Cmd.showCountrySelector(G.fbt._("Importer Country",null,{hk:"3ar6sr"}),null==t?void 0:t.importerAddress.countryCode,d,(e=>{l("countryCode",e)})),error:null==t?void 0:t.importerAddress.countryCodeError}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-postal-code-input",value:null==t?void 0:t.importerAddress.postalCode,placeholder:p(G.fbt._("Importer Zip/Postal Code",null,{hk:"Bbhqf"})),onChange:e=>{l("postalCode",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:y.COMPLIANCE_INFO_LENGTH.POSTAL_CODE}),Y.default.createElement(v.ComplianceInfoHelpCenterBanner,{xstyle:$.complianceInfoHelpCenterBanner}))):Y.default.createElement(P.FlexRow,{align:"center",justify:"center"},Y.default.createElement(T.default,null,Y.default.createElement(B.Spinner,null)))}t.EditProductDrawer=ee,ee.displayName="EditProductDrawer",te.displayName="ComplianceInfoFields"},114742:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(170206)),i=n(a(196554)),l=n(a(846870)),o=n(a(908081)),s=n(a(324093)),u=a(568550),d=a(626194),c=n(a(969358)),f=a(753233),p=n(a(468601)),h=a(956113),m=a(180519),g=a(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),v=n(a(156720));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}const C={isLoading:{pointerEvents:"m62443ks",opacity:"n791o4v8"},placeholderIcon:{position:"g0rxnol2",width:"dxy1asz1",height:"q7zw29cd",background:"tqd5if5z",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},placeholderContainer:{width:"ln8gz9je",paddingTop:"emrlamx0",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginTop:"c46o30wg",marginEnd:"jnwc1y2a",marginBottom:"du8bjn1j",marginStart:"svoq16ka",borderTop:"lufur1ix"},addItemPlaceholder:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",borderTop:"q4zabkcz"},divider:{width:"jpfst8ig",marginStart:"ia9wx81j",borderTop:"lufur1ix"}},b="https://www.facebook.com/legal/terms",_="https://www.facebook.com/policies/commerce";function w(e,t){const{onBack:a,onAddProductClick:n,isCreatingCatalogFn:E}=e,w=E(),S=y.default.createElement("div",{className:(0,v.default)(C.placeholderIcon)}),k=y.default.createElement(i.default,{href:b,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(b)}},g.fbt._("Facebook Product",null,{hk:"3JyFEa"})),M=y.default.createElement(i.default,{href:_,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(_)}},g.fbt._("Facebook Commercial Terms",null,{hk:"3LS54M"})),P=y.default.createElement(i.default,{href:l.default.WA_COMMERCE_POLICY_URL,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(l.default.WA_COMMERCE_POLICY_URL)}},g.fbt._("WhatsApp Commerce Policies",null,{hk:"2wf95I"})),T=g.fbt._("By using this feature, you're using a {fb_product_link} and agree that the {fb_commerce_link} and {wa_commerce_policy_link} apply.",[g.fbt._param("fb_product_link",k),g.fbt._param("fb_commerce_link",M),g.fbt._param("wa_commerce_policy_link",P)],{hk:"14xbJv"}),O=(0,v.default)(w&&C.isLoading),x=w?y.default.createElement("div",{className:(0,v.default)(C.spinner)},y.default.createElement(h.Spinner,{size:50,stroke:3})):null,I=w?y.default.createElement(p.default,{onClick:()=>{},theme:"default",idle:!!w,testid:"add-item"}):y.default.createElement(u.DrawerContext.Consumer,null,(()=>y.default.createElement(p.default,{onClick:()=>{n()},theme:"default",idle:!1,testid:"add-item"})));return y.default.createElement(o.default,{ref:t,key:"catalog-link-drawer"},y.default.createElement(d.DrawerHeader,{title:g.fbt._("Catalog",null,{hk:"3YVOSV"}),type:d.DRAWER_HEADER_TYPE.LARGE,onBack:a}),y.default.createElement(s.default,{className:O},y.default.createElement(c.default,{theme:"padding-small",animation:!1},x,y.default.createElement(m.TextDiv,{theme:"title"},g.fbt._("Add items to your catalog so customers can see what you're offering",null,{hk:"3z35i1"})),I,y.default.createElement(m.TextDiv,{theme:"plain"},T),y.default.createElement("div",{className:(0,v.default)(C.placeholderContainer)},y.default.createElement(r.default,{theme:"add-item-placeholder",image:S,customImage:!0,className:(0,v.default)(C.addItemPlaceholder),primary:"",secondary:"",idle:!0}),y.default.createElement("div",{className:(0,v.default)(C.divider)}),y.default.createElement(r.default,{theme:"add-item-placeholder",image:S,customImage:!0,className:(0,v.default)(C.addItemPlaceholder),primary:"",secondary:"",idle:!0}),y.default.createElement("div",{className:(0,v.default)(C.divider)})))))}var S=(0,y.forwardRef)(w);t.default=S},387268:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInfoDrawer=void 0;var r=a(15842),i=a(739071),l=n(a(692629)),o=n(a(908081)),s=n(a(324093)),u=a(568550),d=a(626194),c=n(a(969358)),f=n(a(495012)),p=n(a(245611)),h=n(a(331939)),m=a(932523),g=a(77548),y=n(a(791724)),v=n(a(557575)),E=a(530485),C=a(476473),b=a(180519),_=a(676345),w=a(459857),S=a(887222),k=a(548360),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),P=n(a(156720)),T=a(655241);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const x={drawerHeader:{display:"p357zi0d",alignItems:"gndfcl4n"},productName:{overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"cqiun4t2",fontWeight:"hnx8ox4h",textOverflow:"lhj4utae"},buttonSeparator:{display:"l7jjieqr"},drawerHeaderButtonContainer:{marginStart:"isfiuinm"},productWrapper:{width:"tcisnlar",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm"},businessInfoTitle:{color:"izlvswng"}},I=(0,M.forwardRef)(((e,t)=>{const{onCancel:a,collectionId:n,catalog:O,onEditProduct:I,onShareProduct:L,isPushed:D=!0}=e,R=(0,M.useContext)(u.DrawerContext),A=(0,T.useModelValues)(e.product,["id","catalogWid","name","priceAmount1000","description","productImageCollection","reviewStatus","url","canAppeal","imageCdnUrl","retailerId","currency","isHidden"]),[N,j]=(0,M.useState)(!0);(0,M.useEffect)((()=>{const e=(0,w.getMaybeMeUser)();D&&(0,S.qplAnnotateProductView)(!(null==e?void 0:e.equals(A.catalogWid))),O.pullProduct(A.id.toString(),D).then((()=>{D&&(0,S.qplEndProductView)(r.QuickLogActionType.SUCCESS)})).catch((()=>{D&&(0,S.qplEndProductView)(r.QuickLogActionType.FAIL)})).finally((()=>{j(!1)})),(0,g.logProductDetailView)({product:A,catalogContext:(0,m.getProductCatalogContext)(R),collectionId:n})}),[]);const F=(0,w.getMaybeMeUser)(),B=C.StatusCollection.get(F),W=M.default.createElement(b.TextDiv,{theme:"muted",xstyle:[x.businessInfoTitle,_.uiPadding.vert10,_.uiPadding.horiz20]},k.fbt._("Business Info",null,{hk:"20HLtr"})),H=A.reviewStatus!==E.PRODUCT_REVIEW_STATUS.APPROVED||A.isHidden,z=M.default.createElement("div",null,M.default.createElement("div",{className:(0,P.default)(x.buttonSeparator,_.uiPadding.all0,_.uiPadding.top3,_.uiMargin.end32)},M.default.createElement(l.default,{type:"strong",onClick:()=>{I&&I(A)},testid:"product-info-drawer edit-button"},k.fbt._("Edit",null,{hk:"4aIVNd"}))),M.default.createElement(l.default,{type:"strong-primary",onClick:()=>{L&&L(A)},disabled:H,testid:"product-info-drawer share-button"},k.fbt._("Share",null,{hk:"3RmUA"}))),U=M.default.createElement("div",{className:(0,P.default)(x.drawerHeader)},M.default.createElement("div",{className:(0,P.default)(x.productName)},A.name),M.default.createElement("div",{className:(0,P.default)(x.drawerHeaderButtonContainer,_.uiPadding.all0,_.uiPadding.end10)},z)),V=B?M.default.createElement(c.default,{title:W,theme:"no-padding"},M.default.createElement(h.default,{status:B})):null,q=N?M.default.createElement(f.default,null):M.default.createElement(M.default.Fragment,null,M.default.createElement(v.default,{product:A,isAvailable:!0,fetching:!1}),M.default.createElement(p.default,{product:A}),M.default.createElement(y.default,{product:A,collectionId:n,onSendChat:()=>{a(),(0,i.sendProductToChat)(A,O),(0,g.logProductMessageBusinessClick)(A,(0,m.getProductCatalogContext)(R))},isAvailable:!0}));return M.default.createElement(o.default,{ref:t,key:"catalog-link-drawer",theme:"catalog"},M.default.createElement(d.DrawerHeader,{testid:"catalog-product-title",title:U,titleStr:A.name,type:d.DRAWER_HEADER_TYPE.SMALL,onCancel:a,headingLevel:"2",focusBackOrCancel:!0}),M.default.createElement(s.default,null,M.default.createElement(c.default,{theme:"center-column-fixed-width"},q),M.default.createElement("div",{className:(0,P.default)(x.productWrapper)},V)))}));t.ProductInfoDrawer=I,I.displayName="ProductInfoDrawer"},245611:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var r=n(a(513534)),i=n(a(196554)),l=n(a(846870)),o=a(568550),s=a(753233),u=a(131410),d=a(114850),c=a(932523),f=a(530485),p=a(180519),h=a(376331),m=a(548360),g=n(a(667294)),y=n(a(156720));const v={paddingTop:"a71rq12o",paddingEnd:"bcymb0na",paddingBottom:"pcbmd69e",paddingStart:"e8k79tju",marginBottom:"mpdn4nr2",lineHeight:"r5qsrrlp",backgroundColor:"ronsgs3n"},E={display:"p357zi0d",flex:"n5hs2j7m",alignItems:"gndfcl4n"},C={marginStart:"r6x3u63k"},b={display:"l7jjieqr",marginTop:"a4rz4n5c",fontSize:"f8jlpxt4"};function _(e){const{product:t}=e;const a=g.default.createElement(i.default,{href:l.default.WA_COMMERCE_POLICY_URL,onClick:e=>{e.preventDefault(),(0,s.openExternalLink)(l.default.WA_COMMERCE_POLICY_URL)}},m.fbt._("Learn more",null,{hk:"1rcCLt"}));if(t.reviewStatus===f.PRODUCT_REVIEW_STATUS.APPROVED)return t.isHidden?g.default.createElement("div",{className:(0,y.default)(v)},g.default.createElement("div",{className:(0,y.default)(E)},g.default.createElement(h.VisibilityOffIcon,null)),g.default.createElement("div",{className:(0,y.default)(C)},g.default.createElement(p.TextDiv,null,m.fbt._("You hid this item. Your customers can't see it in your catalog",null,{hk:"28Rw4y"})))):null;if(t.reviewStatus===f.PRODUCT_REVIEW_STATUS.REJECTED){if(!0===t.canAppeal){const e=m.fbt._("This item wasn't approved because it doesn't follow our product or service guidelines. {learn_more_link}.",[m.fbt._param("learn_more_link",a)],{hk:"3r1bOw"}),n=g.default.createElement(i.default,{onClick:function(){d.ModalManager.open(g.default.createElement(o.DrawerContext.Consumer,null,(e=>g.default.createElement(r.default,{product:t,sessionId:(0,c.getProductCatalogSessionId)(e)}))))},testid:"product-appeal-button"},m.fbt._("request another review",null,{hk:"1edAPz"})),l=g.default.createElement("span",{className:(0,y.default)(b),tabIndex:"0"},m.fbt._("If you feel this is not correct, you can {request_review_link}.",[m.fbt._param("request_review_link",n)],{hk:"2Vozbp"}));return g.default.createElement("div",{className:(0,y.default)(v)},g.default.createElement("div",{className:(0,y.default)(E)},g.default.createElement(u.InfoIcon,null)),g.default.createElement("div",{className:(0,y.default)(C)},e,l))}const e=m.fbt._("We reviewed this item again and found it didn't follow product or service guidelines. {learn_more_link}.",[m.fbt._param("learn_more_link",a)],{hk:"4yu8I0"});return g.default.createElement("div",{className:(0,y.default)(v)},e)}if(t.reviewStatus===f.PRODUCT_REVIEW_STATUS.NO_REVIEW||t.reviewStatus===f.PRODUCT_REVIEW_STATUS.OUTDATED){const e=t.isHidden?m.fbt._("This item is being reviewed. You hid it, so customers won't see it in your catalog when it's approved. {learn_more_link}.",[m.fbt._param("learn_more_link",a)],{hk:"6Banw"}):m.fbt._("This item is being reviewed. If it's been approved, your customers will be able to see it on your profile. {learn_more_link}.",[m.fbt._param("learn_more_link",a)],{hk:"3qp9RQ"});return g.default.createElement("div",{className:(0,y.default)(v)},e)}if(!1===t.canAppeal){const e=m.fbt._("Your appeal was submitted. If it's approved, your item will be added to your catalog. If it's not approved, you'll be notified.",null,{hk:"1AmQTZ"});return g.default.createElement("div",{className:(0,y.default)(v)},e)}return null}_.displayName="ProductStatusBanner"},331939:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(a(170206)),i=a(324729),l=a(23641),o=a(459857),s=n(a(667294)),u=a(655241);function d(e){let{status:t}=e;const a=(0,u.useModelValues)(t,["status"]);return s.default.createElement(r.default,{image:s.default.createElement(l.DetailImage,{id:(0,o.getMaybeMeUser)()}),primary:i.Conn.pushname,secondary:a.status,idle:!0})}d.displayName="ProfileLockup"},83689:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var r=n(a(991370)),i=a(638107),l=a(223498),o=a(675085),s=a(305521),u=a(690495),d=a(392632),c=n(a(37875)),f=a(676345),p=a(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(156720));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const y={zIndex:"thghmljt",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"h4dw90qs",marginTop:"dj1c3cmq",marginEnd:"ds60debm",marginBottom:"or9x5nie",marginStart:"svoq16ka",color:"bot80yxp",pointerEvents:"m62443ks",backgroundColor:"ddl5anf2",borderTopStartRadius:"r18xjin9",borderTopEndRadius:"pz6oj2k2",borderBottomEndRadius:"sa2xs5zj",borderBottomStartRadius:"n58sa971"},v={transform:"t21h2yns"},E=()=>h.default.createElement(u.FlexColumn,{xstyle:f.uiMargin.end15,justify:"center",align:"center"},h.default.createElement(l.DraggableItemIcon,null));function C(e){const{collection:t,theme:a="collection-edit",onDelete:n,onEdit:l,onSeeCollection:u,canManage:f,isReorder:g}=e,[C]=(0,h.useState)(!1),[b,_]=(0,h.useState)(null),w=e=>{e.preventDefault(),e.stopPropagation(),n&&n(t)},S=e=>{e.preventDefault(),e.stopPropagation(),l&&l(t)},k=()=>{_(null)},M=h.default.createElement("div",{className:(0,m.default)(y)},h.default.createElement("div",{className:(0,m.default)(v)},h.default.createElement(i.CollectionsFolderIcon,null))),P=h.default.createElement(s.EmojiText,{text:t.name,ellipsify:!0,titlify:!0});let T;return b&&(T=h.default.createElement(d.UIE,{displayName:"CollectionContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:k},h.default.createElement(c.default,{contextMenu:b}))),h.default.createElement(h.default.Fragment,null,h.default.createElement(r.default,{key:t.id.toString(),customImage:!0,image:M,primary:P,theme:a,detail:g?h.default.createElement(E,null):void 0,active:C,contextEnabled:()=>e.canManage&&!g,onContext:e=>{if(b)return void _(null);const t=[];f&&(t.push(h.default.createElement(o.DropdownItem,{testid:"mi-edit-collection",action:S,key:"EditLabel"},p.fbt._("Edit",null,{hk:"Xow6E"}))),t.push(h.default.createElement(o.DropdownItem,{testid:"mi-delete-collection",action:w,key:"DeleteLabel"},p.fbt._("Delete",null,{hk:"1rLhBB"})))),_({menu:t,event:e.event,anchor:e.anchor})},onClick:e=>{e.preventDefault(),e.stopPropagation(),g||u&&u(t)}}),T)}C.displayName="CollectionManageListItem"},185602:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var r=a(568550),i=a(512938),l=n(a(964223)),o=a(658616),s=a(491606),u=a(899841),d=a(932523),c=n(a(83689)),f=a(163139),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),h=a(655241);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g=(0,i.FlatListFactory)();function y(e){const{data:t,canManage:a,onEditCollection:n,onSeeCollection:i,isReorder:m,handleReorderMove:y,containerRef:v,onFinalDropOfItem:E}=e,C=(0,h.useModelValues)(e.catalog,["collections"]),b=(0,p.useMemo)((()=>t.map(((e,t)=>e.collection?{itemKey:e.collection.id,catalogListItem:e,order:t}:null)).filter(Boolean)),[t]),_=(0,p.useContext)(r.DrawerContext),w=e=>e?p.default.createElement(c.default,{collection:e,canManage:a,onDelete:()=>((e,t)=>{(0,s.handleCollectionDelete)((0,f.unproxy)(C),e,t)})(e,(0,d.getProductCatalogContext)(_)),onEdit:n,onSeeCollection:i,isReorder:m}):null;return p.default.createElement(l.default,{flatListControllers:[e.flatListController]},p.default.createElement(o.DragAndDropWrapper,{containerRef:v},p.default.createElement(g,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b,renderItem:e=>{let{catalogListItem:{collection:t},order:a}=e;return m?p.default.createElement(o.DragAndDropItem,{index:a,onMove:y,onFinalDrop:E},w(t)):w(t)},defaultItemHeight:u.PRODUCT_LIST_ITEM_HEIGHT})))}y.displayName="CollectionsList"},980679:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(293760),l=a(487769),o=n(a(98017)),s=a(15842),u=a(773411),d=a(713464),c=n(a(908081)),f=n(a(324093)),p=a(568550),h=a(626194),m=n(a(570834)),g=n(a(495012)),y=a(690495),v=n(a(469733)),E=a(491606),C=n(a(468601)),b=a(899841),_=a(932523),w=n(a(185602)),S=n(a(114495)),k=a(316348),M=a(555622),P=a(956113),T=a(368170),O=a(676345),x=a(459857),I=a(617425),L=a(548360),D=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),R=n(a(156720)),A=n(a(637660)),N=n(a(558532)),j=n(a(17533)),F=n(a(286481));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}const W={loadingSpinner:{display:"btb1m7bk",justifyContent:"ac2vgrno",height:"jdwybkuq"},footer:{backgroundColor:"rv6u8h8g"},reorderLoadingScreen:{minWidth:"llkbrke6",minHeight:"sdfuwbjb",position:"lhggkp7q",zIndex:"bgigc5s4",backgroundColor:"rz1eta6h",transitionProperty:"ariinwu3",transitionDuration:"p4t1lx4y",transitionTimingFunction:"pu4k07i0"}};function H(e){let{disableBtn:t=!1,isLoading:a,onClick:n}=e;return D.default.createElement(y.FlexContainer,{xstyle:[W.footer,O.uiPadding.all12,O.uiPadding.bottom20],direction:"horizontal",justify:"end"},D.default.createElement(I.WDSButtonPrimary,{onClick:n,disabled:t,spinner:a},L.fbt._("Save",null,{hk:"4EgenI"})))}function z(){return D.default.createElement(y.FlexRow,{xstyle:W.reorderLoadingScreen,align:"center",justify:"center",testid:"collection-reorder-updating-loading"},D.default.createElement(v.default,null,D.default.createElement(P.Spinner,{size:50,stroke:4,color:"accent"})))}function U(e){let{catalog:t,catalogFlatListController:a,checkIfCollectionIsDirty:n,drawerRef:r,editCollection:i,handleReorderMove:l,isLoadingMore:o,isReorder:s,onSeeCollection:u,reorderedCollection:d}=e;return t?D.default.createElement("div",null,!s&&D.default.createElement(C.default,{onClick:()=>{i(null)},theme:"collections",title:L.fbt._("New collection",null,{hk:"2Q4UnS"})}),0!==d.length&&D.default.createElement(w.default,{canManage:!0,catalog:t,onEditCollection:i,data:d,flatListController:a,onSeeCollection:u,isReorder:s,handleReorderMove:l,containerRef:r,onFinalDropOfItem:n}),o&&D.default.createElement("div",{className:(0,R.default)(W.loadingSpinner)},D.default.createElement(g.default,null))):null}function V(e,t){const{setScrollOffset:a,editCollection:n,onSeeCollection:g,onReorderCollection:y,isReorder:v=!1,onBack:C}=e,w=(0,A.default)((()=>new m.default)),P=(0,D.useRef)(null),[O,I]=(0,D.useState)(!0),R=(0,D.useRef)(null),[B,W]=(0,D.useState)(null),[V,q]=(0,D.useState)([]),[G,Y]=(0,D.useState)(!1),[K,X]=(0,D.useState)(!1),Z=(0,D.useRef)(!0),Q=(0,D.useContext)(p.DrawerContext),J=(0,D.useMemo)((()=>{const e=(0,x.getMeUser)();return d.CatalogCollection.get(e)}),[]),$=(0,D.useCallback)((e=>{(function(){var t=(0,r.default)((function*(){if(J)try{const t=new u.CollectionsDataSource(J,!0,b.PRODUCT_LIST_ITEM_HEIGHT,e);if(yield null==t?void 0:t.loadInitialItems(),!Z.current||!t)return;const a=new u.CatalogListItemScrollHelper(t);R.current=t,W(a),q(t.getData()),I(!1),e&&M.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW,s.QuickLogActionType.SUCCESS)}catch(t){e&&M.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW,s.QuickLogActionType.FAIL)}}));return function(){return t.apply(this,arguments)}})()()}),[J]);(0,D.useEffect)((()=>{if(!J)return;const{isPushed:t=!0}=e;J.collections.on("add remove",(()=>{Z.current&&R.current&&q((e=>{var t;const a=(null===(t=R.current)||void 0===t?void 0:t.getData())||[];return v?[...e,...a.slice(e.length)]:a}))})),$(t&&!v)}),[]);const ee=(0,F.default)(((e,t)=>{null==a||a(t.scrollTop),(null==B?void 0:B.willLoadMore(t))&&I(!0),null==B||B.onScroll(e,t).then((e=>{e&&I(!1)})).catch((e=>{throw I(!1),e}))}),100),te=(0,D.useCallback)(((e,t)=>{q((a=>(0,l.arrayMove)(a,e,t)))}),[]),ae=(0,j.default)((()=>{const e=(null==J?void 0:J.collections.map((e=>e.id)))||[],t=V.reduce(((e,t)=>t.collection?[...e,t.collection.id]:e),[]);Y(!(0,o.default)(e,t))}));(0,N.default)((()=>{Z.current=!1}));const ne=(0,D.useCallback)((()=>{(function(){var e=(0,r.default)((function*(){try{var e;if(!J)return;X(!0);const t=(0,_.getProductCatalogContext)(Q),a=(null==J?void 0:J.collections.map((e=>e.id)))||[],n=V.reduce(((e,t)=>t.collection?[...e,t.collection.id]:e),[]),{moved:r}=(0,i.findArrayDiff)(a,n);if(!r.length)return X(!1),void Y(!1);const l=yield(0,E.handleCollectionReorder)(r,t);if(!Z.current||!R.current)return;if(null===(e=R.current)||void 0===e||e.resetData(),l)return void C();yield $(!1),Y(!1)}finally{Z.current&&X(!1)}}));return function(){return e.apply(this,arguments)}})()()}),[V,J,C,Q,$]);return D.default.createElement(c.default,{ref:t,theme:"products"},D.default.createElement(h.DrawerHeader,{title:v?L.fbt._("Reorder",null,{hk:"41Tp0M"}):L.fbt._("Collections",null,{hk:"I9pEH"}),type:h.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,menu:D.default.createElement(S.default,{isReorderEnabled:!T.UA.isSafari&&!v&&V.length>1,onReorder:y})}),D.default.createElement(f.default,{ref:P,onScroll:e=>{e.currentTarget&&ee(e,e.currentTarget)},flatListControllers:[w.current],scrollOffset:e.scrollOffset},D.default.createElement(U,{catalog:J,isReorder:v,isLoadingMore:O,reorderedCollection:V,editCollection:n,onSeeCollection:g,handleReorderMove:te,checkIfCollectionIsDirty:ae,catalogFlatListController:w.current,drawerRef:P.current})),v&&D.default.createElement(H,{disableBtn:!G||K,isLoading:K,onClick:()=>{ne()}}),K&&D.default.createElement(z,null))}H.displayName="Footer",z.displayName="CollectionReorderUpdatingLoader",U.displayName="DrawerContent";var q=(0,D.forwardRef)(V);t.default=q},114495:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(72696),r=a(664149),i=a(675085),l=a(526795),o=a(459912),s=a(548360),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){let{isReorderEnabled:a,onReorder:d=(()=>{})}=e;const c=[];return a&&(0,n.isCollectionReorderingEnabled)()&&c.push(u.default.createElement(i.DropdownItem,{key:"reorder-button",testid:"menu-item",action:d},s.fbt._("Reorder",null,{hk:"2EAZAN"}))),0===c.length?null:u.default.createElement(l.MenuBarItem,{ref:t,testid:"menu-bar-menu",icon:u.default.createElement(o.MenuIcon,null),title:s.fbt._("Menu",null,{hk:"1WeEwR"})},u.default.createElement(r.Dropdown,{type:r.MenuType.DropdownMenu,flipOnRTL:!0,key:"CatalogDetailHeader",dirX:r.DirX.LEFT},c))}var f=(0,u.forwardRef)(c);t.default=f},417122:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.logLabelOperationEventsForModels=function(){return f.apply(this,arguments)};var r=n(a(348926)),i=a(72696),l=a(698867),o=a(772358),s=a(248027),u=a(581826),d=a(651919);function c(e,t){(0,d.logLabelOperationEvent)(s.LABEL_OPERATIONS.CLICK_POSITIVE,e,u.LABEL_TARGETS.LABEL_COMBINED_DIALOG,null==t?void 0:t)}function f(){return(f=(0,r.default)((function*(e){const t=e.length;(0,i.isSMBEnhancedLoggingEnabled)()?e.forEach((e=>{const a=e instanceof o.Msg?e.id.toString():e.id.toJid();(0,l.getChatThreadIDHMAC)(a).then((e=>c(t,e)))})):c(t)}))).apply(this,arguments)}},430772:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=n(a(991370)),i=a(63014),l=a(23641),o=a(305521),s=a(787742),u=n(a(667294)),d=n(a(156720)),c=a(871210);const f={position:"g0rxnol2"},p={cursor:"okw0zzku",boxShadow:"tio0brup"};function h(e){let{agentName:t,msg:a,theme:n}=e;const[h,m]=(0,c.useMsgValues)(a.id,[s.getFrom,s.getT]),g=i.Clock.relativeDateAndTimeStr(m),y=(0,l.getSize)(l.DetailImageSize.Small);return u.default.createElement(r.default,{contextEnabled:()=>!1,image:u.default.createElement("div",{className:(0,d.default)(f),style:{height:y,width:y}},u.default.createElement(l.DefaultIcon,{id:h})),primary:u.default.createElement(o.EmojiText,{direction:"auto",text:t,titlify:!0,ellipsify:!0}),secondary:u.default.createElement("span",{title:g},g),className:(0,d.default)(p),theme:n,idle:!0})}h.displayName="AgentMsgInfoCell"},163567:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(a(170206)),i=n(a(635263)),l=a(63014),o=a(305521),s=n(a(667294));function u(e){let{icon:t,t:a,title:n}=e;const u=null!=a?l.Clock.relativeDateAndTimeStr(a):"-",d=s.default.createElement("div",{className:i.default.title},t,s.default.createElement(o.EmojiText,{direction:"auto",text:n,titlify:!0,ellipsify:!0}));return s.default.createElement(r.default,{primary:d,secondary:u,theme:"plain",idle:!0,testid:"kept-by-info"})}u.displayName="ContactMsgInfoCell"},937945:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(a(991370)),i=a(63014),l=a(660666),o=a(23641),s=a(305521),u=a(714574),d=n(a(667294)),c=n(a(156720)),f=a(379811);const p={"::before":{content:"f76rftwh"}},h={cursor:"okw0zzku",boxShadow:"tio0brup"};function m(e){let{contact:t,kicTimestampMs:a,theme:n}=e;const[m,g,y,v]=(0,f.useContactValues)(t.id,[l.getId,l.getName,u.getFormattedName,l.getNotifyName]),E=d.default.createElement(o.DetailImage,{id:m});let C;null!=a&&(C=i.Clock.relativeDateAndTimeStr(a/1e3));const b=d.default.createElement("span",{title:C},C);let _;return!g&&v&&(_=d.default.createElement(s.EmojiText,{className:(0,c.default)(p),direction:"auto",text:v})),d.default.createElement(r.default,{contextEnabled:()=>!1,image:E,primary:d.default.createElement(s.EmojiText,{direction:"auto",text:y,titlify:!0,ellipsify:!0}),secondary:b,secondaryDetail:_,style:(0,c.default)(h),theme:n,idle:!0,testid:"kept-by-info"})}m.displayName="KeptByMsgInfoCell"},62375:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarOverlayTheme=t.AvatarOverlay=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),i=n(a(156720));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}const o=a(76672).Mirrored(["DEFAULT","COMMUNITY"]);t.AvatarOverlayTheme=o;const s={overlay:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"ercejckq",boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",paddingTop:"pxvlsfnc",fontSize:"ovllcyds",lineHeight:"tkq7s68q",color:"k239c91b",textTransform:"ofejerhi",backgroundColor:"epdck8xl",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},noBorderRadius:{borderTopStartRadius:"bi2mdrpt",borderTopEndRadius:"hsk1pqkj",borderBottomEndRadius:"e3yfz9gx",borderBottomStartRadius:"a0vc5f8u"},icon:{color:"k17s6i4e"},text:{width:"gbtdc75f",marginTop:"opp68qpq",textAlign:"qfejxiq4",overflowWrap:"fd365im1"}},u=(0,r.forwardRef)(((e,t)=>r.default.createElement("div",{ref:t,className:(0,i.default)([s.overlay,e.theme===o.COMMUNITY&&s.noBorderRadius]),key:"avatar-overlay"},r.default.createElement("div",{className:(0,i.default)(s.icon)},e.icon),r.default.createElement("div",{className:(0,i.default)(s.text)},e.text))));t.AvatarOverlay=u,u.displayName="AvatarOverlay"},681176:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(967154)),i=n(a(506479)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),o=n(a(156720));const s=["breakpoint","inverseToContainer","maxWidth","minWidth","xstyle"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d={boxSizing:"cm280p3y",flexShrink:"oq44ahr5",position:"g0rxnol2"};function c(e,t){let{breakpoint:a,inverseToContainer:n=!1,maxWidth:u,minWidth:c,xstyle:f}=e,p=(0,i.default)(e,s);return l.default.createElement("div",(0,r.default)({},p,{className:(0,o.default)(d,f),ref:t,style:{maxWidth:u,minWidth:c,width:n?`calc((${a}px - 100%) * 9999)`:`calc((100% - ${a-.1}px) * 9999)`}}))}var f=(0,l.forwardRef)(c);t.default=f},245956:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(821130),i=n(a(625903)),l=n(a(667294));n(a(156720));const o={button:{display:"f804f6gw"}};function s(e){let{children:t,download:a,extension:n,file:s}=e;return l.default.createElement(i.default,{xstyle:o.button,onClick:()=>{null!=s&&r.FileSaver.downloadData(s,a,n)}},t)}s.displayName="DownloadableLink"},482500:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(435161)),i=n(a(670983)),l=a(396574),o=a(465113),s=n(a(988410)),u=n(a(335540)),d=a(914368),c=n(a(585951)),f=a(81644),p=n(a(359599)),h=n(a(237889)),m=a(956113),g=a(931109),y=n(a(625903)),v=n(a(556869)),E=a(548360),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),b=n(a(637660)),_=n(a(286481));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function S(e,t){const{onImageClick:a,isLoadingMore:n,canLoadMore:w,onRequestMoreImages:S,onFocusPrev:k,thumbnails:M}=e,P=(0,C.useRef)(null),T=(0,b.default)((()=>new Map)),O=(0,C.useRef)(null),x=(0,b.default)((()=>new h.default(M,(e=>e.id)))),[I,L]=(0,C.useState)(null),D=(0,C.useCallback)((function(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=x.current,a=t.getVal();if(a&&I!==a&&(L(a),t.index>-1)){const a=T.current.get(`${t.index}`);u.default.focus(a),e&&a&&(0,o.scrollIntoViewIfNeeded)(a,!1)}}),[T,I,x]),R=new p.default(((e,t)=>{t?T.current.set(e,t):T.current.delete(e)})),A=e=>{const t=e.target;a&&1===t.nodeType&&"IMG"===t.tagName&&a(t.src)},N=(0,C.useCallback)((()=>{if(!n&&w&&S){if(!P.current)throw(0,v.default)("Requesting more images when body not rendered");P.current.scrollTop+d.SCROLL_FUDGE>P.current.scrollHeight-P.current.clientHeight&&S()}}),[w,n,S]),j=(0,_.default)(N,100),F=()=>{x.current.unset(),L(void 0)};(0,C.useEffect)((()=>{N(),x.current.init(M,!1),D()}),[N,x,M,D]);const B=()=>{O.current&&O.current.focus()};(0,C.useImperativeHandle)(t,(()=>({focus:B,handleRequestDismiss:F})));const W=(0,r.default)(e.thumbnails,((e,t)=>{let{id:a,name:n,thumbUrl:r}=e;const i=!!I&&I.id===a,o=(0,l.classnamesConvertMeToStylexPlease)({[c.default.selected]:i,[c.default.imageGalleryItem]:!0}),s=C.default.createElement("div",{className:c.default.imageGalleryItemOverlay});return C.default.createElement("div",{key:a,ref:R.getRefSetter(`${t}`),className:o,tabIndex:-1},s,C.default.createElement(y.default,{onClick:A},C.default.createElement("img",{alt:E.fbt._("Result: {name}",[E.fbt._param("name",n)],{hk:"1u9YJJ"}),className:c.default.imageGalleryItemImage,src:r})))})),H=e.isLoadingMore?C.default.createElement("div",{tabIndex:-1,className:c.default.imageGalleryFooter},C.default.createElement(m.Spinner,{stroke:6,size:24})):null;return C.default.createElement(f.HotKeys,{className:c.default.imageGallery,"data-tab":g.TAB_ORDER.CHAT_IMAGE_GALLERY,handlers:{down:e=>{e.preventDefault(),e.stopPropagation(),x.current.set(x.current.index+3,!1,!1),D(!0,!0)},enter:()=>{const e=x.current.getVal();e||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("No value selected, but enter clicked")),a&&e&&a(e.thumbUrl)},left:e=>{e.preventDefault(),e.stopPropagation(),x.current.setPrev(!1),D(!0,!0)},right:e=>{e.preventDefault(),e.stopPropagation(),x.current.setNext(!1),D(!0,!0)},up:e=>{if(e.preventDefault(),e.stopPropagation(),0===x.current.index&&k)k();else{const e=Math.max(x.current.index-3,0);x.current.set(e,!1,!1),D(!0,!0)}}},onFocus:e=>{e.stopPropagation(),e.preventDefault(),(null==x.current.index||x.current.index<0)&&x.current.setFirst(!1),D(!0,!1);const t=(0,i.default)(T.current.get(`${x.current.index}`),"imagesRef.current.get(`${selectionRef.current.index}`)").getElementsByClassName(c.default.imageGalleryItemOverlay);if(1!==t.length)throw(0,v.default)(`Unexpected number of overlay elements ${t.length}`);s.default.maybeIndicateFocus(t[0],c.default.focusAnimation)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},ref:O},C.default.createElement("div",{ref:P,className:c.default.imageGalleryList,onScroll:j},W,C.default.createElement("div",{tabIndex:-1,className:c.default.imageGalleryItemSpacer}),C.default.createElement("div",{tabIndex:-1,className:c.default.imageGalleryItemSpacer}),C.default.createElement("div",{tabIndex:-1,className:c.default.imageGalleryItemSpacer}),H))}var k=(0,C.forwardRef)(S);t.default=k},127044:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{startImage:t="",type:a,attachToChat:n,id:oe,pending:se=!1,readOnly:de=!1,onImageSet:ce,size:fe,testid:pe,theme:he,dimmed:me=!1,sendGroupProfilePictureLoggingEvent:ge,HoverIcon:ye,showAddIconOverlay:ve=!0,showOutline:Ee=!1}=e;const[Ce,be]=(0,re.useState)(null!=t?t:""),[_e,we]=(0,re.useState)(!1),[Se,ke]=(0,re.useState)(null),[Me,Pe]=(0,re.useState)(),[Te,Oe]=(0,re.useState)(),xe=(0,le.default)(),{isKeyboardUser:Ie}=(0,Q.default)(),Le=(0,re.useRef)(null),De=(0,re.useRef)(null);let Re=ne.fbt._("Photo",null,{hk:"297glr"});const Ae=(0,re.useRef)(),Ne=(0,re.useRef)([...(0,j.getPhotoPickerQualifiedEmojis)()]);(null!=t?t:"")!==Ce&&(be(null!=t?t:""),ke(""===t?null:Se));const je=!se&&(null!=Se||""===Ce&&!de),Fe=e=>{a===j.PhotoPickerType.GROUP&&(null==ge||ge(e,!!t))},Be=e=>{a===j.PhotoPickerType.GROUP&&null!=ge&&ge(te.GROUP_PROFILE_ACTION_TYPE.PROFILE_PIC_UPDATED,!!t,e)},We=e=>{a===j.PhotoPickerType.GROUP&&null!=ge&&ge(te.GROUP_PROFILE_ACTION_TYPE[`${String(e)}_PANEL_OPEN`],!!t)},He=()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_UPLOAD_PHOTO);const e=De.current;if(e)return e.click(),!0},ze=()=>{Pe(null)},Ue=e=>{const t=e.currentTarget.clientWidth,a=e.currentTarget.clientHeight;ke({width:t,height:a})},Ve=()=>{we(!1)},qe=()=>{we(!0)},Ge=(e,t,n)=>{const r=(0,R.asMaybeNonEmptyString)(e),i=(0,R.asMaybeNonEmptyString)(t);if(null==r||null==i)return be(""),void ke(null);x.loadImage(r).then((()=>{be(r),ce(r,i,n)})).catch((e=>{let t;switch(__LOG__(3)`PhotoPicker:onImageReceived failed to load image: ${String(e)}`,a){case j.PhotoPickerType.NEWSLETTER:t=ne.fbt._("Couldn't set channel icon.",null,{hk:"444n7p"});break;case j.PhotoPickerType.GROUP:case j.PhotoPickerType.GENERAL_GROUP:t=ne.fbt._("Couldn't set group icon.",null,{hk:"1Yy6JI"});break;case j.PhotoPickerType.COMMUNITY:t=ne.fbt._("Couldn't set community icon.",null,{hk:"4bEr1Y"});break;case j.PhotoPickerType.PROFILE:t=ne.fbt._("Couldn't set profile photo.",null,{hk:"28vVyZ"});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case j.PhotoPickerType.COVER_PHOTO:}D.ModalManager.open(re.default.createElement(h.ConfirmPopup,{onOK:()=>D.ModalManager.close()},t))}))},Ye=e=>{const t=URL.createObjectURL(e);x.loadImage(t).then((t=>{if(t&&(t.width<H.PROF_PIC_MIN_SIDE||t.height<H.PROF_PIC_MIN_SIDE))D.ModalManager.open(re.default.createElement(h.ConfirmPopup,{onOK:()=>D.ModalManager.close()},ne.fbt._({"*":"This photo is too small. Please select a photo with height and width of at least {number_of_pixels} pixels.",_1:"This photo is too small. Please select a photo with height and width of at least 1 pixel."},[ne.fbt._plural(H.PROF_PIC_MIN_SIDE,"number_of_pixels")],{hk:"yLtJE"})));else{const t=a===j.PhotoPickerType.COVER_PHOTO?L.ModalTheme.BoxLarge:L.ModalTheme.Box;let n;n=a===j.PhotoPickerType.COVER_PHOTO?z.CropShapeType.RECT:a===j.PhotoPickerType.COMMUNITY?z.CropShapeType.SQUIRCLE:z.CropShapeType.CIRCLE,D.ModalManager.open(re.default.createElement(_.default,{img:e,onFinished:(e,t)=>{Be(ae.PROFILE_PICTURE_TYPE.PHOTO_UPLOAD),Ge(e,t,F.PhotoPickType.Gallery)},onRetake:He,cropShape:n,theme:t}))}})).catch((()=>{let e;switch(a){case j.PhotoPickerType.NEWSLETTER:e=ne.fbt._("Couldn't set channel icon.",null,{hk:"444n7p"});break;case j.PhotoPickerType.GROUP:case j.PhotoPickerType.GENERAL_GROUP:e=ne.fbt._("Couldn't set group icon.",null,{hk:"1Yy6JI"});break;case j.PhotoPickerType.COMMUNITY:e=ne.fbt._("Couldn't set community icon.",null,{hk:"4bEr1Y"});break;case j.PhotoPickerType.PROFILE:e=ne.fbt._("Couldn't set profile photo.",null,{hk:"28vVyZ"});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case j.PhotoPickerType.COVER_PHOTO:}D.ModalManager.open(re.default.createElement(h.ConfirmPopup,{onOK:()=>D.ModalManager.close()},e))})).finally((()=>{URL.revokeObjectURL(t)}))},Ke=function(){var e=(0,i.default)((function*(){const e=Math.floor(Math.random()*Ne.current.length);Oe({color:(0,J.default)(b.COLOR_OPTIONS[Math.floor(Math.random()*b.COLOR_OPTIONS.length)],200),emoji:yield(0,T.createImageFromEmoji)(Ne.current[e])}),Ne.current.splice(e,1),0===Ne.current.length&&(Ne.current=[...(0,j.getPhotoPickerQualifiedEmojis)()])}));return function(){return e.apply(this,arguments)}}(),Xe=()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_WEB_SEARCH),D.ModalManager.open(re.default.createElement(L.Modal,{type:L.ModalTheme.Box},re.default.createElement(k.default,{onFinished:(e,t)=>{Be(ae.PROFILE_PICTURE_TYPE.WEB_SEARCH),Ge(e,t,F.PhotoPickType.WebSearch)}})))},Ze=()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_VIEW_PHOTO);const e=Le.current;if(!e||!oe)return;const t=m.ContactCollection.assertGet(oe),r={transition:"profile-viewer"};n&&(r.uim=xe),D.ModalManager.openMedia(re.default.createElement(B.default,{contact:t,profilePicThumb:t.getProfilePicThumb(),animateBorderRadius:a!==j.PhotoPickerType.COMMUNITY,animateSquircle:a===j.PhotoPickerType.COMMUNITY,getZoomNode:t=>{t(e)}}),r)},Qe=()=>{ce(void 0,void 0,F.PhotoPickType.None),D.ModalManager.close(),Be(ae.PROFILE_PICTURE_TYPE.REMOVE_PHOTO)},Je=()=>{let e;switch(Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_REMOVE_PHOTO),a){case j.PhotoPickerType.NEWSLETTER:e=ne.fbt._("Remove this channel's icon?",null,{hk:"3b2j1F"});break;case j.PhotoPickerType.GROUP:case j.PhotoPickerType.GENERAL_GROUP:e=ne.fbt._("Remove this group's icon?",null,{hk:"3upRnn"});break;case j.PhotoPickerType.COMMUNITY:e=ne.fbt._("Remove this community's icon?",null,{hk:"3ejOXd"});break;case j.PhotoPickerType.PROFILE:e=ne.fbt._("Remove your profile photo?",null,{hk:"zHH3L"});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case j.PhotoPickerType.COVER_PHOTO:e=ne.fbt._("Remove your cover photo?",null,{hk:"1XkdPH"})}D.ModalManager.open(re.default.createElement(h.ConfirmPopup,{onOK:Qe,okText:ne.fbt._("Remove",null,{hk:"4uz2xw"}),onCancel:()=>D.ModalManager.close(),cancelText:ne.fbt._("Cancel",null,{hk:"H0gNq"})},e))},$e=()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_EMOJI_STICKER);const e=ne.fbt._("Emoji and sticker",null,{hk:"TUqHK"});D.ModalManager.open(re.default.createElement(L.Modal,{type:L.ModalTheme.Box,ariaLabel:e,testid:"profile-picture-edit-modal"},re.default.createElement(b.EditGroupProfileDrawer,{title:e,onCancel:()=>D.ModalManager.close(),onFinished:(e,t,a)=>{Be(ae.PROFILE_PICTURE_TYPE[String(a)]),Ge(e,t,a===b.ImageType.EMOJI?F.PhotoPickType.Emoji:F.PhotoPickType.Sticker),D.ModalManager.close()},sendEmojiStickerPanelOpenLoggingEvent:We})))},et=()=>{const e=[];if(null!=oe&&""!==Ce&&e.push(re.default.createElement(C.DropdownItem,{testid:"mi-view-photo",key:"view",action:Ze},ne.fbt._("View photo",null,{hk:"3e8MJc"}))),W.default){const t=a===j.PhotoPickerType.COVER_PHOTO?z.CropShapeType.RECT:z.CropShapeType.CIRCLE,n=a===j.PhotoPickerType.COVER_PHOTO?L.ModalTheme.BoxLarge:L.ModalTheme.Box;e.push(re.default.createElement(G.default,{key:"take",onImageTake:(e,t)=>{Be(ae.PROFILE_PICTURE_TYPE.PHOTO_CAMERA),Ge(e,t,F.PhotoPickType.Camera)},editCropShape:t,modalTheme:n,action:()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_TAKE_PHOTO)}}))}return e.push(re.default.createElement(C.DropdownItem,{testid:"mi-upload-photo",key:"upload",action:He},ne.fbt._("Upload photo",null,{hk:"rYsA0"}))),!(0,I.groupProfileEditorEnabled)()||a!==j.PhotoPickerType.GROUP&&a!==j.PhotoPickerType.COMMUNITY&&a!==j.PhotoPickerType.NEWSLETTER||e.push(re.default.createElement(C.DropdownItem,{testid:"mi-edit-group-profile-picture",key:"edit",action:$e},ne.fbt._("Emoji & sticker",null,{hk:"255zwo"}))),Y.UA.isElectron&&(a!==j.PhotoPickerType.GROUP&&a!==j.PhotoPickerType.COMMUNITY||e.push(re.default.createElement(C.DropdownItem,{testid:"mi-search-photo",key:"search",action:Xe},ne.fbt._("Web Search",null,{hk:"3otQk8"})))),""!==Ce&&e.push(re.default.createElement(C.DropdownItem,{testid:"mi-remove-photo",key:"remove",action:Je},ne.fbt._("Remove photo",null,{hk:"1X2lKq"}))),e},tt=e=>{if(!je)return;if(de)return void(""!==Ce&&Ze());e.stopPropagation(),e.preventDefault();const t=et();Pe({menu:t,anchor:Le.current})};let at,nt;""!==Ce&&(at=re.default.createElement(A.default,{type:"cover",size:Se},re.default.createElement(M.default,{src:Ce,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:Ue})));(se||""!==Ce&&!Se)&&(nt=a===j.PhotoPickerType.COVER_PHOTO?re.default.createElement("div",{className:(0,ie.default)(ue.loadingBg)},re.default.createElement("div",{className:(0,ie.default)(ue.cornerSpinner)},re.default.createElement(q.Spinner,{size:24,stroke:3,color:"solidwhite"}))):re.default.createElement(u.default,null));let rt,it,lt,ot,st=null;if(!se&&!de&&(""===Ce||Se)&&(""===Ce||Me||_e)){let e="";switch(a){case j.PhotoPickerType.NEWSLETTER:e=""!==Ce?ne.fbt._("Change channel icon",null,{hk:"2CKHBB"}):ne.fbt._("Add channel icon",null,{hk:"3wZdCL"});break;case j.PhotoPickerType.GROUP:case j.PhotoPickerType.GENERAL_GROUP:e=""!==Ce?ne.fbt._("Change group icon",null,{hk:"DhTFI"}):ne.fbt._("Add group icon",null,{hk:"eTjnN"});break;case j.PhotoPickerType.COMMUNITY:e=""!==Ce?ne.fbt._("Change community icon",null,{hk:"pg4UZ"}):ne.fbt._("Add community icon",null,{hk:"3djWDS"});break;case j.PhotoPickerType.PROFILE:e=""!==Ce?ne.fbt._("Change profile photo",null,{hk:"1TRs18"}):ne.fbt._("Add profile photo",null,{hk:"4zeUKC"});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case j.PhotoPickerType.COVER_PHOTO:}a!==j.PhotoPickerType.COVER_PHOTO&&ve&&(st=re.default.createElement(s.AvatarOverlay,{icon:re.default.createElement(d.CameraIcon,null),text:e,theme:a===j.PhotoPickerType.COMMUNITY?s.AvatarOverlayTheme.COMMUNITY:s.AvatarOverlayTheme.DEFAULT})),Re=e}if((0,re.useEffect)((()=>{if(he===j.PhotoPickerThemeType.EMOJI_SUGGESTIONS&&Te){var e,t,a,n;const i={mimeType:"image/jpeg",width:b.PHOTO_SIZE,height:b.PHOTO_SIZE},l=null!==(e=null===(t=Ae.current)||void 0===t?void 0:t.toDataURL((0,r.default)((0,r.default)({},i),{},{pixelRatio:H.PROF_PIC_THUMB_SIDE/b.PHOTO_SIZE,quality:0})))&&void 0!==e?e:"",o=null!==(a=null===(n=Ae.current)||void 0===n?void 0:n.toDataURL((0,r.default)((0,r.default)({},i),{},{pixelRatio:2*H.PROF_PIC_MIN_SIDE/b.PHOTO_SIZE,quality:1})))&&void 0!==a?a:"";Ge(l,o,F.PhotoPickType.Emoji)}}),[Te]),he===j.PhotoPickerThemeType.EMOJI_SUGGESTIONS){const{color:e,emoji:t}=Te||{};rt=re.default.createElement(Z.default,{testid:"set-random-picture-btn",xstyle:ue.newSuggestion,onClick:Ke,"aria-label":ne.fbt._("Set random picture",null,{hk:"4aShRL"})},re.default.createElement(V.default,null,re.default.createElement(U.RefreshIcon,{width:30,height:30}))),null!=e&&t&&(it=re.default.createElement(O.Stage,{ref:Ae,width:b.PHOTO_SIZE,height:b.PHOTO_SIZE,className:(0,ie.default)(ue.hidden)},re.default.createElement(O.Layer,null,re.default.createElement(O.Rect,{width:b.PHOTO_SIZE,height:b.PHOTO_SIZE,fill:e}),re.default.createElement(O.Image,{width:b.IMAGE_SIZE,height:b.IMAGE_SIZE,offset:{x:b.IMAGE_SIZE/2,y:b.IMAGE_SIZE/2},x:b.PHOTO_SIZE/2,y:b.PHOTO_SIZE/2,image:t,filters:t.naturalWidth<=b.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD&&t.naturalHeight<=b.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD?[$.default]:[]}))))}Me&&(lt=re.default.createElement(K.UIE,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:ze},re.default.createElement(X.default,{contextMenu:Me})));if(se||""===Ce||!Se){let e;switch(a){case j.PhotoPickerType.PROFILE:e=re.default.createElement(E.DefaultUserIcon,null);break;case j.PhotoPickerType.COMMUNITY:e=re.default.createElement(p.CommunitySquircleIcon,{iconXstyle:ue.communitySquircle});break;case j.PhotoPickerType.NEWSLETTER:e=re.default.createElement(v.DefaultNewsletterIcon,{iconXstyle:ue.newsletterAvatar});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:e=re.default.createElement(o.AnnouncementSpeakerIcon,{directional:!0});break;case j.PhotoPickerType.GENERAL_GROUP:ot=re.default.createElement(f.CommunityGeneralChatImage,null);break;case j.PhotoPickerType.COVER_PHOTO:e=null;break;default:e=re.default.createElement(y.DefaultGroupIcon,null)}null!=e&&(ot=re.default.createElement("div",{className:(0,c.classnamesConvertMeToStylexPlease)({[N.default.defaultAnnouncementGroupIcon]:a===j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP,[N.default.defaultIcon]:!0})},e))}const ut=document.activeElement===Le.current?{space:tt,enter:tt}:{};return re.default.createElement(P.HotKeys,{className:(0,c.classnamesConvertMeToStylexPlease)({[N.default.coverPhoto]:he===j.PhotoPickerThemeType.COVER_PHOTO,[N.default.container]:!0},(0,ie.default)(_e&&""!==Ce&&de&&ue.dimmed,Ee&&null!=at&&ue.imageBorder)),style:null!=fe?{width:fe,height:fe}:void 0,handlers:ut,"aria-label":Re.toString(),role:"button"},re.default.createElement("div",{className:(0,c.classnamesConvertMeToStylexPlease)({[N.default.squircleBackground]:a===j.PhotoPickerType.COMMUNITY||a===j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP,[N.default.clickable]:je,[N.default.body]:!0},(0,ie.default)(Ie&&je&&ue.focusRing)),onClick:e=>{if(!je)return;if(de)return void(""!==Ce&&Ze());e.stopPropagation(),e.preventDefault();const n=et();Pe({menu:n,event:e}),a===j.PhotoPickerType.GROUP&&null!=ge&&ge(te.GROUP_PROFILE_ACTION_TYPE.CHANGE_PROFILE_PHOTO,!!t)},onMouseOver:()=>{we(!0)},onMouseEnter:qe,onMouseLeave:Ve,onPaste:e=>{if(!Me)return;const t=new g.default(e.clipboardData),a=(0,l.default)(t.getFiles(),(e=>"image"===(0,w.typeFromMimetype)(e.type)));if(!a.length)return;e.preventDefault(),e.stopPropagation(),ze();const n=a[0];Ye(n)},onFocus:qe,onBlur:Ve,ref:Le,title:Re,dir:"ltr",tabIndex:je?0:-1,role:je?"button":"none"},re.default.createElement("div",{className:(0,c.classnamesConvertMeToStylexPlease)({[N.default.imageContainer]:!0},(0,ie.default)(me&&ue.dimmed))},at,ot,it),re.default.createElement(ee.default,{transitionName:"fade"},nt,st)),null!=ye&&re.default.createElement("div",{className:(0,ie.default)(ue.icon)},re.default.createElement(ye,{width:16,height:16})),re.default.createElement("input",{ref:De,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:e=>{ze();const t=e.target.files[0];if(!t)return!1;Ye(t),e.target.value="",Le.current&&S.default.focus(Le.current)}}),lt,rt)};var r=n(a(81109)),i=n(a(348926)),l=n(a(763105)),o=a(723613),s=a(62375),u=n(a(731792)),d=a(418541),c=a(396574),f=a(639839),p=a(909045),h=a(103440),m=a(177938),g=n(a(194886)),y=a(673079),v=a(590538),E=a(273371),C=a(675085),b=a(568898),_=n(a(428611)),w=a(698210),S=n(a(335540)),k=n(a(418372)),M=n(a(488922)),P=a(81644),T=a(675249),O=a(139519),x=se(a(197636)),I=a(97858),L=a(118612),D=a(114850),R=a(68954),A=n(a(821384)),N=n(a(912306)),j=a(588792),F=a(825801),B=n(a(499717)),W=n(a(65162)),H=a(915272),z=a(785093),U=a(467152),V=n(a(802211)),q=a(956113),G=n(a(802602)),Y=a(368170),K=a(392632),X=n(a(37875)),Z=n(a(625903)),Q=n(a(395967)),J=n(a(774426)),$=n(a(747384)),ee=n(a(844453)),te=a(970739),ae=a(978244),ne=a(548360),re=se(a(667294)),ie=n(a(156720)),le=n(a(321201));function oe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(oe=function(e){return e?a:t})(e)}function se(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=oe(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const ue={cornerSpinner:{position:"lhggkp7q",start:"qo25nl7o",top:"bqmxb3s7",zIndex:"lqxtw3mz",pointerEvents:"m62443ks"},loadingBg:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",end:"ebjesfe0",bottom:"jxacihee",backgroundColor:"s9lgn3x7",zIndex:"jnl3jror"},communitySquircle:{color:"bk9ojlrj"},newsletterAvatar:{color:"bk9ojlrj"},dimmed:{opacity:"kaq19mkm"},hidden:{display:"qibyn6m3"},newSuggestion:{position:"lhggkp7q",bottom:"jxacihee",end:"ebjesfe0",zIndex:"qwzl264q",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",borderTopWidth:"stsrmwd6",borderEndWidth:"gu3pzwru",borderBottomWidth:"pik609ke",borderStartWidth:"g3qfir2v",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopColor:"is0s2vyk",borderEndColor:"bqpwlx4t",borderBottomColor:"j5tcbkoq",borderStartColor:"hx27gwwv"},focusRing:{":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"}},icon:{position:"lhggkp7q",bottom:"jxacihee",end:"ebjesfe0",zIndex:"g2bpp9au",borderTopColor:"hw8l4lk2",borderEndColor:"gj6a83ez",borderBottomColor:"ahfv0nfl",borderStartColor:"tn8jbayw",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopWidth:"stsrmwd6",borderEndWidth:"gu3pzwru",borderBottomWidth:"pik609ke",borderStartWidth:"g3qfir2v",color:"octy2vkd",backgroundColor:"aquyuamc",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",height:"bmot90v7",width:"i94gqilv",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",pointerEvents:"m62443ks"},imageBorder:{borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopColor:"eo2nzah0",borderEndColor:"hnzvqtrj",borderBottomColor:"m1y0i6k8",borderStartColor:"j4cx7yji",borderTopWidth:"gofg5ll1",borderEndWidth:"p7waza29",borderBottomWidth:"oteuebma",borderStartWidth:"mzoqfcbu",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"}}},478163:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(435595),i=n(a(667294)),l=n(a(156720));const o={container:{position:"g0rxnol2"},disabled:{opacity:"aiwu9bi8"},count:{position:"lhggkp7q",start:"fdi1u0wl",bottom:"iuagithl",zIndex:"g2bpp9au",width:"m0s4cjtr",height:"jdwybkuq",fontSize:"enbbiyaj",lineHeight:"htjsae3x",color:"m4sq1sd8",textAlign:"qfejxiq4",backgroundColor:"ovutvysd",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",boxShadow:"hftcxtij",transitionProperty:"e3b81npk",transitionDuration:"rtx6r8la",transitionTimingFunction:"oa9ii99z"},large:{bottom:"ayh9k7s5",width:"i94gqilv",height:"bmot90v7",lineHeight:"a4ywakfo",start:"cdp1hot0"},wide:{borderTopStartRadius:"kygtoxk5",borderTopEndRadius:"rykvhg4p",borderBottomEndRadius:"llwlbyh8",borderBottomStartRadius:"mhmt5mju",width:"gofbmt1g",paddingStart:"bdbt56hn",paddingEnd:"jfqm35v0"},countText:{verticalAlign:"neme6l2y"}};function s(e){return e>9}function u(e){let{ariaLabel:t,count:a,disabled:n,icon:u,large:d,onClick:c,testid:f}=e;return i.default.createElement("div",{className:(0,l.default)(o.container,!0===n&&o.disabled)},i.default.createElement(r.Round,{label:t,large:d,testid:f,onClick:c,disabled:n},u),null!=a&&i.default.createElement("div",{className:(0,l.default)(o.count,!0===d&&o.large,s(a)&&o.wide)},i.default.createElement("span",{className:(0,l.default)(o.countText)},function(e){return e>999}(a)?"999+":a)))}u.displayName="RoundWithCount"},563389:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=n(a(506479)),i=a(690495),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),o=n(a(156720));const s=["displayValue"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d={WebkitAppearance:"rc6mlzu0",backgroundColor:"lmoo7qev",width:"jkv2xdwy",height:"itoi26wd",borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",outline:"gk6igrwd","::-webkit-slider-thumb":{WebkitAppearance:"lhcc0jp6",backgroundColor:"f8t368tc",width:"t68znmxb",height:"adibp37i",borderTopStartRadius:"dyphzmav",borderTopEndRadius:"cpexef3b",borderBottomEndRadius:"mdwvbymx",borderBottomStartRadius:"d1bl3yr6"},"::-moz-range-thumb":{backgroundColor:"eg5obqgd",width:"j09sh4ga",height:"q2g3zwp2",borderTopStartRadius:"f0tdcqsg",borderTopEndRadius:"ox1qo7wz",borderBottomEndRadius:"csvggiwl",borderBottomStartRadius:"s849znjx"},"::-ms-thumb":{backgroundColor:"h67vyybg",width:"dn131129",height:"cstjocha",borderTopStartRadius:"dowrn9ox",borderTopEndRadius:"f9qgu6hk",borderBottomEndRadius:"a9153urd",borderBottomStartRadius:"aa14nhyp"}},c={width:"i94gqilv",marginStart:"a3oefunm",marginBottom:"inogquss",fontSize:"f8jlpxt4",color:"j8jyn9yl"};function f(e){let{displayValue:t=!1}=e,a=(0,r.default)(e,s);const n=(0,l.useRef)(!1);return l.default.createElement(i.FlexRow,{align:"center"},l.default.createElement("input",{type:"range",className:(0,o.default)(d),min:a.min,max:a.max,value:a.value,onMouseDown:()=>{n.current=!0},onMouseUp:()=>{n.current=!1},onChange:e=>{e.preventDefault(),a.onChange(parseInt(e.target.value,10),n.current),n.current=!1}}),t?l.default.createElement("span",{className:(0,o.default)(c)},a.value):null)}f.displayName="Slider"},802602:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(675085),i=a(819052),l=a(118612),o=a(114850),s=a(785093),u=a(548360),d=n(a(667294));function c(e){const{onImageTake:t,editCropShape:a,modalTheme:n}=e;return d.default.createElement(r.DropdownItem,{action:r=>{null!=e.action&&e.action(r),o.ModalManager.open(d.default.createElement(i.EditCaptureFlowLoadable,{onFinished:t,editCropShape:a||s.CropShapeType.CIRCLE,modalTheme:n||l.ModalTheme.Box}))},testid:"mi-take-photo",disabled:e.disabled},u.fbt._("Take photo",null,{hk:"4DtdJO"}))}c.displayName="TakePhotoMenuItem"},945786:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(810319),r=a(667294);const i=(e,t)=>{const[a,i]=(0,n.useLottie)(e);return(0,r.useImperativeHandle)(t,(()=>i)),a};var l=(0,r.forwardRef)(i);t.default=l},751905:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkResourceCache=void 0,t.getNetworkResourceCache=function(){o||(o=new l);return o};var r=n(a(8490)),i=n(a(556869));class l{constructor(){if(o)throw(0,i.default)("An instance of NetworkResourceCache is already created, use getNetworkResourceCache.");null==this.cache&&(this.cache=new r.default((e=>(e=>self.fetch(e).then((e=>e.json())))(e)),{maxCached:100,maxAge:36e4,shouldCache:e=>!!e}))}}let o;t.NetworkResourceCache=l},810319:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0,t.useLottie=function(e){let{autoplay:t=!1,data:a,direction:n=1,fallback:u=null,loop:c=!1,path:f,placeholder:p=null,renderer:h=d.SVG,speed:m=1,xstyle:g,wrapperXstyle:y,onComplete:v,onLoopComplete:E}=e;(0,l.default)(null==a&&null!=f||null!=a&&null==f,"These opts are mutually exclusive");const C=(0,o.useRef)(),b=(0,o.useRef)(),_=(0,i.getNetworkResourceCache)().cache,[w,S]=(0,o.useState)(null!=f&&!1===(null==_?void 0:_.isCached(f))),[k,M]=(0,o.useState)(!1),[P,T]=(0,o.useState)(a),O=(0,o.useCallback)((()=>{var e;null===(e=C.current)||void 0===e||e.play()}),[]),x=(0,o.useCallback)((()=>{var e;null===(e=C.current)||void 0===e||e.stop()}),[]),I=(0,o.useCallback)((()=>{var e;null===(e=C.current)||void 0===e||e.pause()}),[]),L=(0,o.useCallback)(((e,t)=>{var a;null===(a=C.current)||void 0===a||a.goToAndPlay(e,t)}),[]),D=(0,o.useCallback)(((e,t)=>{var a;null===(a=C.current)||void 0===a||a.goToAndStop(e,t)}),[]),R=(0,o.useCallback)((e=>{var t;null===(t=C.current)||void 0===t||t.getDuration(e)}),[]),A=(0,o.useCallback)((e=>{null!=C.current&&(C.current.loop=e)}),[]),N=(0,o.useCallback)((e=>{var t;null===(t=C.current)||void 0===t||t.addEventListener("loopComplete",e)}),[]),j=(0,o.useCallback)((()=>{var e;null===(e=C.current)||void 0===e||e.removeEventListener("loopComplete")}),[]);(0,o.useEffect)((()=>{null!=f&&""!==f&&(null==_||_.getOrRun(f).then((e=>{T(e),S(!1)})).catch((()=>M(!0))))}),[_,f]),(0,o.useEffect)((()=>{const e=r.default.loadAnimation({container:b.current,animationData:P,renderer:h,loop:c,autoplay:t});C.current=e;const a=[{name:"data_failed",handler:()=>M(!0)},{name:"complete",handler:()=>{null==v||v()}},{name:"loopComplete",handler:()=>{null==E||E()}}].map((t=>(e.addEventListener(t.name,t.handler),()=>e.removeEventListener(t.name,t.handler))));return()=>{a.forEach((e=>e()));try{e.destroy()}catch(e){}}}),[P,h,c,t,v,E]),(0,o.useEffect)((()=>{var e;null===(e=C.current)||void 0===e||e.setSpeed(m)}),[m]),(0,o.useEffect)((()=>{var e;null===(e=C.current)||void 0===e||e.setDirection(n)}),[n]);return[o.default.createElement("div",{className:(0,s.default)(y)},o.default.createElement("div",{className:(0,s.default)(g),ref:b}),w&&!k?p:null,k?u:null),{play:O,stop:x,pause:I,goToAndPlay:L,goToAndStop:D,getDuration:R,setLoop:A,addOnLoopCompleteHandler:N,removeOnLoopCompleteHandler:j}]};var r=n(a(338718)),i=a(751905),l=n(a(441143)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),s=n(a(156720));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d=a(76672)({SVG:"svg",Canvas:"canvas"});t.Renderer=d},937134:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(692629)),i=a(419741),l=a(950200),o=a(305521),s=a(753233),u=a(81644),d=a(118612),c=a(667738),f=a(433563),p=a(617425),h=a(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),g=n(a(156720));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const v={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",backgroundColor:"b19fvycv"},E={marginBottom:"dblt22a0"},C={marginBottom:"dblt22a0",textAlign:"qfejxiq4"},b={fontSize:"p9fp32ui",lineHeight:"tkq7s68q",fontWeight:"hnx8ox4h"},_={marginBottom:"mdtr2l4m"},w={fontSize:"f8jlpxt4"};function S(e,t){const a=t=>{t.stopPropagation(),t.preventDefault(),e.onContinue()},n=m.default.createElement(p.ButtonGroup,{direction:"horizontal"},m.default.createElement(r.default,{key:"popup-controls-demote",testid:"popup-controls-demote",type:"secondary",onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onDemote()}},h.fbt._("Dismiss yourself as admin",null,{hk:"2576jl"})),m.default.createElement(r.default,{key:"popup-controls-continue",testid:"popup-controls-continue",type:"primary",onClick:a},h.fbt._("Continue",null,{hk:"tefLH"}))),y=m.default.createElement(s.ExternalLink,{href:(0,f.getCommunitiesLearningCenterUrl)()},h.fbt._("admin tools",null,{hk:"oQNuO"})),S=h.fbt._("You can send announcements, manage the community and use {learn-more-link} to help keep it safe. Your profile is now visible to community members.",[h.fbt._param("learn-more-link",y)],{hk:"3zcgMr"});return m.default.createElement(u.HotKeys,{ref:t,handlers:{enter:a,escape:a}},m.default.createElement(d.Modal,{type:d.ModalTheme.Promote,actions:n},m.default.createElement("div",{className:(0,g.default)(v)},m.default.createElement("div",{className:(0,g.default)(E)},(0,c.isLightTheme)()?m.default.createElement(l.CommunityAdminLightIcon,{width:130}):m.default.createElement(i.CommunityAdminDarkIcon,{width:130})),m.default.createElement("div",{className:(0,g.default)(C)},m.default.createElement(o.EmojiText,{className:(0,g.default)(b),text:h.fbt._("You're now a community admin",null,{hk:"4kw3lU"})})),m.default.createElement("div",{className:(0,g.default)(_)},m.default.createElement("div",{className:(0,g.default)(w)},S)))))}var k=(0,m.forwardRef)(S);t.default=k},274019:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(692629)),i=n(a(463680)),l=n(a(276105)),o=a(616133),s=a(370639),u=a(23641),d=n(a(908081)),c=n(a(324093)),f=a(626194),p=n(a(969358)),h=a(305521),m=a(690495),g=n(a(335540)),y=a(309909),v=a(114850),E=a(366898),C=a(180519),b=a(667738),_=a(454905),w=a(672892),S=a(676345),k=a(548360),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),P=(n(a(156720)),a(808446)),T=a(655241);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const x={container:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"byg5ndfj",paddingEnd:"gv1bfy1o",paddingBottom:"l7ubuiw1",paddingStart:"qt3358re"},buttonContainer:{marginTop:"fgtikrv0",textAlign:"qfejxiq4"},header:{marginTop:"lxsc1wef",marginBottom:"dblt22a0",textAlign:"qfejxiq4",lineHeight:"a4ywakfo"},badge:{zIndex:"b9fczbqn",bottom:"kwjb00gf",end:"n642r0m2",position:"g0rxnol2",marginEnd:"febin9tk"}};function I(e,t){const a=(0,T.useModelValues)(e.chat.contact,["id","name"]),{theme:n}=(0,M.useContext)(b.ThemeContext),O=(0,M.useRef)();(0,M.useEffect)((()=>{g.default.focus(O.current)}),[]),(0,P.useListener)(v.ModalManager,["close_modal"],(()=>g.default.focus(O.current)));const I="dark"===n?o.DeactivateBadgeDarkIcon:s.DeactivateBadgeIcon,L=k.fbt._('Deactivate "{community-name}"?',[k.fbt._param("community-name",M.default.createElement(h.EmojiText,{text:a.name}))],{hk:"2Stocg"}),D=k.fbt._("This action cannot be undone.",null,{hk:"4xj20P"}),R=[{title:k.fbt._("Groups will be disconnected",null,{hk:"37z2Qi"}),description:k.fbt._("Groups won't be in this community but will still work as usual.",null,{hk:"1poncX"}),Icon:y.LinkCrossedIcon},{title:k.fbt._("Announcement group will be closed",null,{hk:"4f10fq"}),description:k.fbt._("Past admins won't be able to message this community.",null,{hk:"3tdjc1"}),Icon:E.SpeakerCrossedIcon},{title:k.fbt._("Community info will be deleted",null,{hk:"3fnH2z"}),description:k.fbt._("Members won't have access to past info, like admins and groups.",null,{hk:"1xVPz4"}),Icon:w.TrashActiveIcon}];return M.default.createElement(d.default,{ref:t,testid:"community-deactivation-info-drawer"},M.default.createElement(f.DrawerHeader,{title:k.fbt._("Deactivate community",null,{hk:"LRCf4"}),type:e.fromInfo||(0,_.topMenuRedesignEnabled)()?f.DRAWER_HEADER_TYPE.SMALL:f.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),M.default.createElement(c.default,{ref:O,tabIndex:"-1"},M.default.createElement(p.default,{animation:!1,xstyle:x.container},M.default.createElement(m.FlexRow,{align:"center",justify:"center"},M.default.createElement(u.DetailImage,{id:e.chat.id,size:104,quality:u.DetailImageQuality.High,shape:u.DetailImageShape.Squircle}),M.default.createElement(I,{width:36,height:36,xstyle:x.badge})),M.default.createElement(m.FlexRow,{align:"center",justify:"center"},M.default.createElement(C.TextHeader,{xstyle:x.header,size:"24",color:"dark",weight:"bold"},L)),M.default.createElement(m.FlexRow,{align:"center",justify:"center",xstyle:S.uiMargin.bottom16},M.default.createElement(C.TextHeader,{theme:"title"},D)),R.map((e=>{let{title:t,description:a,Icon:n}=e;return M.default.createElement(l.default,{key:t,Icon:n,title:t,description:a})})),M.default.createElement(m.FlexRow,{xstyle:x.buttonContainer},M.default.createElement(r.default,{testid:"deactivate-community-button",type:"solidWarning",onClick:()=>{v.ModalManager.open(M.default.createElement(i.default,{chat:e.chat}))}},k.fbt._("Deactivate",null,{hk:"1wQQMo"}))))))}var L=(0,M.forwardRef)(I);t.default=L},463680:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(103440),i=n(a(258058)),l=a(114850),o=a(548360),s=n(a(667294)),u=a(655241);function d(e){let{chat:t}=e;const a=(0,u.useModelValues)(t,["id","formattedTitle"]),n=o.fbt._("Deactivate {community-name}",[o.fbt._param("community-name",a.formattedTitle)],{hk:"3qzJmw"}),d=o.fbt._('Are you sure you want to deactivate the community "{community-name}"? This action cannot be undone.',[o.fbt._param("community-name",a.formattedTitle)],{hk:"Qgbfe"});return s.default.createElement(r.ConfirmPopup,{title:n,onOK:()=>{(0,i.default)(a),l.ModalManager.close()},onCancel:()=>{l.ModalManager.close()},okButtonType:"solidWarning",okText:o.fbt._("Deactivate",null,{hk:"3kZPYS"})},d)}d.displayName="CommunityDeactivationPopup"},522897:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(103440),i=a(305521),l=n(a(395767)),o=a(114850),s=a(548360),u=n(a(667294));function d(e){let{communityName:t,groupCount:a,onContinue:n}=e;const d=null!=t?s.fbt._({"*":'Anyone in the community "{community-name}" will be able to join these groups.',_1:'Anyone in the community "{community-name}" will be able to join this group.'},[s.fbt._plural(a),s.fbt._param("community-name",u.default.createElement(i.EmojiText,{text:t}))],{hk:"24sLUO"}):s.fbt._({"*":"Anyone in a community will be able to join these groups.",_1:"Anyone in a community will be able to join this group."},[s.fbt._plural(a)],{hk:"3aeZpc"});return u.default.createElement(r.ConfirmPopup,{onOK:()=>{n(),o.ModalManager.close()},onCancel:()=>{o.ModalManager.close()},okText:(0,l.default)("Continue")},d)}d.displayName="CommunityExistingGroupConfirmationPopup"},946641:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=n(a(29521)),l=a(898817),o=n(a(670983)),s=n(a(229922)),u=a(351053),d=a(79672),c=n(a(227389)),f=a(603869),p=a(396574),h=n(a(743227)),m=n(a(522897)),g=a(174834),y=n(a(3586)),v=a(103440),E=a(177938),C=a(306703),b=n(a(908081)),_=n(a(324093)),w=a(626194),S=a(305521),k=n(a(395767)),M=n(a(964223)),P=n(a(570834)),T=n(a(988410)),O=n(a(335540)),x=n(a(667845)),I=a(862159),L=a(81644),D=n(a(932325)),R=a(114850),A=n(a(803203)),N=n(a(930440)),j=n(a(550506)),F=a(435595),B=a(470824),W=n(a(237889)),H=a(956113),z=a(180519),U=a(454905),V=n(a(625903)),q=n(a(844453)),G=a(548360),Y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Q(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),K=n(a(156720)),X=n(a(637660)),Z=n(a(895851));function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Q=function(e){return e?a:t})(e)}const J={search:{paddingTop:"mw9hwy0h",paddingEnd:"ixsqo53d",paddingBottom:"ekpn4oxx",paddingStart:"iy3dfvyp",marginTop:"s15egc35",marginEnd:"r67mms0c",marginBottom:"pel5o5rz",marginStart:"m0ig7u5t",backgroundColor:"ihvf49ua"},inputArea:{display:"l7jjieqr",width:"ln8gz9je",height:"bvcnfjzh",paddingTop:"ppypbuwx",paddingEnd:"f9ovudaz",paddingBottom:"s8gyl5p1",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"bze30y65",lineHeight:"jgi8eev7",color:"mfzfak1c",verticalAlign:"fewfhwl7",backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a",outline:"gk6igrwd"},inputLine:{position:"g0rxnol2",width:"ln8gz9je",minHeight:"g4oj0cdv",maxHeight:"f0mh0h6e",paddingTop:"n1yiu2zv",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"mjn2akup",overflowY:"ag5g9lrv",fontSize:"bze30y65",fontWeight:"e1gr2w1z",lineHeight:"htjsae3x",backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderStart:"nsmrnv0a",borderBottom:"ob9ouq0z",outline:"gk6igrwd",transition:"qbtd8e50"},drawerSection:{zIndex:"b9fczbqn",display:"p357zi0d",justifyContent:"j1p1mz06",paddingBottom:"hjz8m82x",marginTop:"ignnouf6",textAlign:"qfejxiq4"},inputAreaSizer:{position:"snyj76hw",visibility:"kojwoqec"},contacts:{position:"g0rxnol2",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"l07amlnk",overflowX:"gfz4du6o",overflowY:"ag5g9lrv",backgroundColor:"ihvf49ua"},paragraph:{paddingTop:"a4bywxmn",paddingEnd:"h1a80dm5",paddingBottom:"lzi2pvmc",paddingStart:"sta02ykp",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",textAlign:"qfejxiq4",color:"pm5hny62",backgroundColor:"ihvf49ua",borderBottom:"daad4uqs",overflowWrap:"fd365im1"},spinner:{backgroundColor:"ihvf49ua",display:"p357zi0d",justifyContent:"ac2vgrno",paddingTop:"gzqlv4l6",paddingEnd:"f9ovudaz",paddingBottom:"lhcgb2gc",paddingStart:"gx1rr48f"},createNewGroupText:{color:"e1vllz7m"}},$=(0,Y.forwardRef)(((e,t)=>{const{onBack:a,onSubmit:n,onCreateNewGroup:Q,addedExistingGroups:$,groupsSuggestedByMeToCommunity:ee,communityName:te,currentSubgroupCount:ae,fromInfo:ne,isCommunityAdmin:re=!1,isCommunityCreation:ie,isParentGroupClosed:le=!1}=e,oe=!0===ie?(0,g.getParentGroupLinkLimitCommunityCreation)():(0,g.getParentGroupLinkLimit)(),se=oe-ae,ue=Array.from(null!=$?$:[]),[de,ce]=(0,Y.useState)(!1),[fe,pe]=(0,Y.useState)(""),he=(0,X.default)((()=>new N.default([],(e=>e.id.toString())))),me=(0,X.default)((()=>new W.default([],(e=>e.id.toString())))),ge=(0,Y.useRef)(null),[ye,ve]=(0,Y.useState)([]),[Ee,Ce]=(0,Y.useState)([]),[be,_e]=(0,Y.useState)(!0),we=(0,Y.useRef)(new P.default),Se=(0,Y.useRef)();(0,Y.useEffect)((()=>{O.default.focus(Se.current)}));(0,Y.useEffect)((()=>{(()=>{_e(!0);const e=E.ContactCollection.getGroupContacts().filter((e=>{var t;const a=u.ChatCollection.get(e.id.toString()),n=null==a||null===(t=a.groupMetadata)||void 0===t?void 0:t.participants;return null!=n&&n.iAmAdmin()&&!(null==$?void 0:$.has(e.id))})).filter((e=>{const t=x.default.get(e.id.toString());return(null==t?void 0:t.groupType)===I.GroupType.DEFAULT||(null==t?void 0:t.groupType)===I.GroupType.LINKED_SUBGROUP}));Ce(e),_e(!1)})()}),[]);const ke=()=>{T.default.shouldIndicateFocus(),O.default.focus(Se.current)},Me=()=>{ce(!0),n(ye).finally((()=>ce(!1)))},Pe=()=>{if(re)le?Me():R.ModalManager.open(Y.default.createElement(m.default,{onContinue:Me,communityName:te,groupCount:ye.length}));else{const e=G.fbt._({"*":"Add {group-count} groups to community?",_1:"Add 1 group to community?"},[G.fbt._plural(ye.length,"group-count")],{hk:"4ydhSP"}),t=1===ye.length?G.fbt._("If the group is approved by an admin, the people in this group will be added to the community as members.",null,{hk:"27E5v3"}):G.fbt._("If the groups are approved by an admin, the people in these groups will be added to the community as members.",null,{hk:"3rphwC"});R.ModalManager.open(Y.default.createElement(h.default,{title:e,disclaimer:t,onOK:()=>{R.ModalManager.close(),Me()},onCancel:()=>R.ModalManager.close()}))}},Te=e=>{he.current.setVal(e,!1),ve(he.current.getSelected()),pe("")},Oe=(0,Z.default)(),xe=function(){var e=(0,r.default)((function*(e,t){yield(0,s.default)((0,B.setGroupSubject)(t,e),Oe).catch((0,l.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`name_group_modal:onSetSubject failed`})),R.ModalManager.close(),ve(he.current.getSelected()),pe("")}));return function(){return e.apply(this,arguments)}}(),Ie=()=>{R.ModalManager.open(Y.default.createElement(v.ConfirmPopup,{onOK:()=>R.ModalManager.close(),okText:(0,k.default)("OK")},G.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})))};let Le;ye.length>0&&(Le=Y.default.createElement(F.Round,{testid:"group-participants-btn",onClick:Pe,label:(0,k.default)("Next")},de?Y.default.createElement(H.Spinner,{color:"white",size:30}):Y.default.createElement(f.CheckmarkIcon,null)));const De=(0,i.default)(Ee,ue,((e,t)=>e.id.equals(t))),Re=Y.default.createElement(A.default,{ref:ge,active:me.current,selections:he.current,flatListController:we.current,msgType:"message",onLeaveList:ke,searchText:fe,maxChats:se,onSelectionChanged:(e,t)=>{if(ye.length>=se&&t)R.ModalManager.open(Y.default.createElement(y.default,{maxSubgroups:oe,isCommunityCreation:ie}));else{const t=x.default.get(e.id);if(!0===(null==t?void 0:t.isUnnamed)){const a=(0,o.default)(u.ChatCollection.get(e.id.toString()),"ChatCollection.get(selectedItem.id.toString())"),n=(0,o.default)(he.current.list.find((t=>t.id.toString()===e.id.toString())),"selectedGroupsRef.current.list.find(si => si.id.toString() === selectedItem.id.toString())"),r=G.fbt._("This group was created without a name. Give it a name to add it to a community.",null,{hk:"4mUKhy"});R.ModalManager.open(Y.default.createElement(j.default,{chat:a,subtext:r,onCancel:()=>{Te(n),R.ModalManager.close()},onOK:xe,editable:null==t?void 0:t.canSetSubject(),editRestrictionInfo:(null==t?void 0:t.restrict)?Ie:void 0}))}else ve(he.current.getSelected()),pe("")}},chatFilter:e=>De.some((t=>t.id.equals(e.id))),excludeBroadcast:!0,excludeContacts:!0,isCommunityExistingGroupsDrawer:!0,isDisabled:e=>{const t=x.default.get(e.id.toString()),a=(null==t?void 0:t.groupType)===I.GroupType.LINKED_SUBGROUP,n=Boolean(null==ee?void 0:ee.some((t=>t.equals(e.id))));return a||n},customItemSecondaryText:(e,t)=>{if(!(t&&e instanceof d.Chat))return;const a=x.default.get(e.id.toString());if((null==a?void 0:a.groupType)===I.GroupType.LINKED_SUBGROUP){var n,r;const t=null===(n=e.groupMetadata)||void 0===n||null===(r=n.getParentGroupChat())||void 0===r?void 0:r.formattedTitle;return G.fbt._('Already added to "{community-name}"',[G.fbt._param("community-name",Y.default.createElement(S.EmojiText,{text:t}))],{hk:"2dKc7a"})}return Boolean(null==ee?void 0:ee.some((t=>t.equals(e.id))))?G.fbt._("Already suggested to this community",null,{hk:"oizPF"}):void 0}});let Ae;Ae=Ee.length>0?re?le?G.fbt._("Everyone in the groups will be added to the community.",null,{hk:"fAEBh"}):G.fbt._("Everyone in the groups will be added to the community. Anyone in the community can join these groups.",null,{hk:"1IFzys"}):G.fbt._("If approved by community admins, everyone in the groups will be added to the community.",null,{hk:"3bJkUA"}):Y.default.createElement(Y.default.Fragment,null,G.fbt._("All groups you're an admin of have already been added to other communities.",null,{hk:"23m9Tz"})," ",Y.default.createElement(V.default,{xstyle:J.createNewGroupText,onClick:Q},G.fbt._("Create new group",null,{hk:"2j5qDf"})));const Ne=G.fbt._("Add existing groups ({=m1})",[G.fbt._implicitParam("=m1",Y.default.createElement("span",{dir:D.default.LR("ltr","rtl")},G.fbt._("{groupcount}{=m2}{subgroups-left-to-max}",[G.fbt._param("groupcount",D.default.n(ye.length)),G.fbt._param("subgroups-left-to-max",D.default.n(se)),G.fbt._implicitParam("=m2",Y.default.createElement("span",{dir:D.default.LR("ltr","rtl")},G.fbt._("/",null,{hk:"7CI9K"})))],{hk:"311McY"})))],{hk:"BLbNQ"});return Y.default.createElement(b.default,{ref:t},Y.default.createElement(w.DrawerHeader,{title:Ne,type:!0===ne||(0,U.topMenuRedesignEnabled)()?w.DRAWER_HEADER_TYPE.SMALL:w.DRAWER_HEADER_TYPE.LARGE,onBack:a}),Y.default.createElement(_.default,null,Y.default.createElement(z.TextParagraph,{xstyle:J.paragraph},Ae),be?Y.default.createElement("div",{className:(0,K.default)(J.spinner)},Y.default.createElement(H.Spinner,null)):Y.default.createElement(Y.default.Fragment,null,Y.default.createElement("div",{className:(0,K.default)(J.search)},Y.default.createElement("div",{className:(0,K.default)(J.inputLine)},Y.default.createElement("div",{"data-list-scroll-container":!0},Y.default.createElement(c.default,{theme:"list-names",contacts:ye,onDelete:(e,t)=>{Te(t)},onFocusSearch:ke})),Y.default.createElement(L.HotKeys,{handlers:{down:e=>{null==e||e.preventDefault(),me.current.setFirst(!0)}},onFocus:()=>{me.current.unset(),O.default.focus(Se.current)}},Y.default.createElement("input",{className:(0,p.classnamesConvertMeToStylexPlease)((0,K.default)(J.inputArea),C.SELECTABLE_INPUT_CSS_CLASS),ref:Se,placeholder:G.fbt._("Type group name",null,{hk:"4EQeB2"}),onChange:e=>pe(e.target.value),value:fe,type:"text"})),Y.default.createElement("span",{className:(0,K.default)(J.inputAreaSizer)},fe))),Y.default.createElement(M.default,{className:(0,K.default)(J.contacts),flatListControllers:[we.current]},Re)),Y.default.createElement(q.default,{transitionName:"btn",className:(0,K.default)(J.drawerSection)},Le)))}));$.displayName="NewCommunityExistingGroupsDrawer";var ee=$;t.default=ee},258784:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralChatFailedParticipantsModal=c;var r=a(103440),i=a(177938),l=n(a(395767)),o=a(114850),s=a(669050),u=a(548360),d=n(a(667294));function c(e){let{failedParticipantJids:t}=e;const a=function(e){let t;const a=e.reduce(((e,t)=>{const a=i.ContactCollection.get(t);return null!=a&&a.shortName?e.push(a.shortName):null!=a&&a.name?e.push(a.name):e.push((0,s.createWid)(t).user),e}),[]);return t=1===a.length?u.fbt._("Couldn't add {participant_name_0} to the general member chat. You can invite them privately to join this group.",[u.fbt._param("participant_name_0",a[0])],{hk:"Jpvxp"}):2===a.length?u.fbt._("Couldn't add {participant_name_0} and {participant_name_1} to the general member chat. You can invite them privately to join this group.",[u.fbt._param("participant_name_0",a[0]),u.fbt._param("participant_name_1",a[1])],{hk:"5ZMl"}):3===a.length?u.fbt._("Couldn't add {participant_name_0}, {participant_name_1}, and {participant_name_2} to the general member chat. You can invite them privately to join this group.",[u.fbt._param("participant_name_0",a[0]),u.fbt._param("participant_name_1",a[1]),u.fbt._param("participant_name_2",a[2])],{hk:"2B1vrd"}):u.fbt._("Couldn't add {participant_name_0}, {participant_name_1}, {participant_name_2}, and {leftover_participant_count} more to the general member chat. You can invite them privately to join this group.",[u.fbt._param("participant_name_0",a[0]),u.fbt._param("participant_name_1",a[1]),u.fbt._param("participant_name_2",a[2]),u.fbt._param("leftover_participant_count",a.length-3)],{hk:"4hZKSw"}),t}(t);return d.default.createElement(r.ConfirmPopup,{okText:(0,l.default)("OK"),onOK:()=>o.ModalManager.close()},a)}c.displayName="GeneralChatFailedParticipantsModal"},276105:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(180519),i=n(a(667294)),l=n(a(156720));const o={informationCell:{display:"p357zi0d",marginTop:"fgtikrv0",marginBottom:"dblt22a0",width:"ln8gz9je"},textAreaColumn:{flexGrow:"ggj6brxn",marginEnd:"gqi0zhd6",marginStart:"nzcjdldu"},title:{color:"tviruh8d",lineHeight:"jgi8eev7"},iconColor:{color:"pm5hny62"},subText:{paddingTop:"fbgy3m38"},iconColumn:{paddingTop:"ppypbuwx",width:"i94gqilv",height:"bmot90v7"}};function s(e){let{Icon:t,description:a,title:n}=e;return i.default.createElement("div",{className:(0,l.default)(o.informationCell)},i.default.createElement("div",{className:(0,l.default)(o.iconColumn)},i.default.createElement(t,{width:24,height:24,iconXstyle:o.iconColor})),i.default.createElement("div",{className:(0,l.default)(o.textAreaColumn)},i.default.createElement(r.TextParagraph,{xstyle:o.title},n),i.default.createElement(r.TextParagraph,{theme:"muted",xstyle:o.subText},a)))}s.displayName="InformationCell"},286545:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.CommunityHomeGroupsManager=void 0;var r=n(a(670983)),i=a(723613),l=n(a(170206)),o=a(351053),s=a(648678),u=a(174834),d=a(43212),c=a(493678),f=a(411356),p=n(a(3586)),h=a(23641),m=n(a(908081)),g=n(a(324093)),y=a(626194),v=n(a(969358)),E=a(305521),C=a(753233),b=a(258105),_=n(a(395767)),w=n(a(667845)),S=a(862159),k=n(a(932325)),M=a(114850),P=a(164406),T=n(a(802211)),O=n(a(237889)),x=a(956113),I=n(a(928040)),L=a(454905),D=a(676345),R=n(a(22368)),A=n(a(625903)),N=n(a(844453)),j=a(873298),F=a(548360),B=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=U(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),W=(n(a(156720)),n(a(401715))),H=n(a(637660)),z=a(655241);function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(U=function(e){return e?a:t})(e)}const V=(0,s.RemoveButtonFactory)(),q={icon:{height:"brqbuz94",width:"nfc7olq2",overflowX:"gfz4du6o",overflowY:"r7fjleex"},announcementIcon:{backgroundColor:"se52eggw"},announcementSpeaker:{color:"jn5oezdz"},hotKeys:{height:"ppled2lx"},communitySettingsButton:{color:"jq3rn4u7"},communitySettingsSection:{backgroundColor:"g6kkip0l"}};t.styles=q;const G=B.default.createElement(I.default,{xstyle:[q.icon,q.announcementIcon],transparent:!0},B.default.createElement(i.AnnouncementSpeakerIcon,{directional:!0,height:40,width:40,iconXstyle:q.announcementSpeaker}));function Y(e){var t,a;const{data:{itemKey:n,parentId:r,name:i,icon:s,secondary:u,showRemove:d,subgroupWid:f}}=e,[p,h]=(0,B.useState)(!1),m=o.ChatCollection.get(n),g=(0,z.useOptionalModelValues)(m,["formattedTitle"]);let y=null!==(t=null==g?void 0:g.formattedTitle)&&void 0!==t?t:i;(null==m||null===(a=m.groupMetadata)||void 0===a?void 0:a.groupType)===S.GroupType.LINKED_ANNOUNCEMENT_GROUP&&(y=F.fbt._("Announcements",null,{hk:"GNIKa"}).toString());return B.default.createElement(l.default,{primary:B.default.createElement(E.EmojiText,{text:y,ellipsify:!0}),image:s,secondary:u,detail:d&&(p?B.default.createElement(N.default,{transitionName:"fade"},B.default.createElement(x.Spinner,{size:18,stroke:6,color:"highlight"})):B.default.createElement(N.default,{transitionName:"fade"},B.default.createElement(V,{onClick:()=>{(0,c.handleRemoveSubgroup)({parentId:r,removedSubgroupWid:f,removedSubgroupTitle:y,setLoading:h})},active:e.active,subgroup:f,groupName:y})))})}Y.displayName="SubgroupCell";const K=(0,B.forwardRef)(((e,t)=>{var a;const{joinedSubgroups:n,unjoinedSubgroups:i,currentSubgroupCount:l,onNewGroupFlow:c,onExistingGroupFlow:E,onCommunitySettingsClick:S,onBack:x,parentId:I,fromInfo:N}=e,U=(0,u.getParentGroupLinkLimit)(),V=(0,H.default)((()=>new O.default([],(e=>e.itemKey)))),K=(0,W.default)(),X=(0,z.useOptionalModelValues)(w.default.get(I),["allowNonAdminSubGroupCreation","participants"]),Z=()=>{M.ModalManager.open(B.default.createElement(p.default,{maxSubgroups:U}))},Q=(0,B.useMemo)((()=>[...n,...i].map((e=>{var t;const[a,n]=(e=>{let t,a;const n=o.ChatCollection.get(e.toString());return n?(t=(0,r.default)(n.groupMetadata,"groupChat.groupMetadata"),a=n.title()):(t=R.default.assertGet(e.toString()),a=t.subject),[t,a]})(e);if(!0===a.defaultSubgroup)return{itemKey:e.toString(),subgroupWid:e,parentId:I,name:n,icon:G,secondary:null,announcementGroup:!0,showRemove:!1};const i=B.default.createElement(h.DetailImage,{id:e});let l;return l=a.participants.iAmMember()?null!=a.participants?(0,d.getParticipantInfoText)(a.participants):F.fbt._("You created group {subject}",[F.fbt._param("subject",n)],{hk:"2nJMx9"}):F.fbt._("You are not a member of this group",null,{hk:"3hsiuD"}),{name:n,subgroupWid:e,parentId:I,itemKey:e.toString(),icon:B.default.createElement(T.default,{xstyle:q.icon,transparent:!0},i),secondary:l,announcementGroup:!1,showRemove:null!==(t=null==X?void 0:X.participants.iAmAdmin())&&void 0!==t&&t}})).sort(f.SubgroupComparator)),[n,i,I,null==X?void 0:X.participants]),J=(0,B.useMemo)((()=>Q.map((e=>{let{showRemove:t,subgroupWid:a}=e;if(t)return{itemKey:`remove-button-${a.toString()}`}})).filter(Boolean)),[Q]);V.current.init(J);const $=null!==(a=null==X?void 0:X.participants.iAmAdmin())&&void 0!==a&&a,ee=k.default.getNormalizedLocale(),te="ar"===ee||"fa"===ee?"rtl":"ltr",ae=$?F.fbt._("Manage groups ({=m1})",[F.fbt._implicitParam("=m1",B.default.createElement("span",{dir:te},F.fbt._("{groupcount}{=m2}{maxsubgroups}",[F.fbt._param("groupcount",k.default.n(l)),F.fbt._param("maxsubgroups",k.default.n(U)),F.fbt._implicitParam("=m2",B.default.createElement("span",{dir:te},F.fbt._("/",null,{hk:"1j0TgB"})))],{hk:"mOrOP"})))],{hk:"3hngRL"}):F.fbt._("Add groups ({=m1})",[F.fbt._implicitParam("=m1",B.default.createElement("span",{dir:te},F.fbt._("{groupcount}{=m2}{maxsubgroups}",[F.fbt._param("groupcount",k.default.n(l)),F.fbt._param("maxsubgroups",k.default.n(U)),F.fbt._implicitParam("=m2",B.default.createElement("span",{dir:te},F.fbt._("/",null,{hk:"n8PW0"})))],{hk:"2bygpM"})))],{hk:"3c876U"}),ne=!0===(null==X?void 0:X.allowNonAdminSubGroupCreation);let re;const ie=B.default.createElement(C.ExternalLink,{href:(0,b.getMemberAddedGroupsUrl)()},(0,_.default)("Learn more"));re=$?ne?F.fbt._("Members can suggest existing groups for admin approval and add new groups directly. View in {=m2}",[F.fbt._implicitParam("=m2",B.default.createElement(A.default,{onClick:S,xstyle:q.communitySettingsButton},F.fbt._("Community settings",null,{hk:"z6DcI"})))],{hk:"2v1AwL"}):F.fbt._("Members can suggest groups for admin approval. Admins can add groups directly. View in {=m2}",[F.fbt._implicitParam("=m2",B.default.createElement(A.default,{onClick:S,xstyle:q.communitySettingsButton},F.fbt._("Community settings",null,{hk:"1phoDA"})))],{hk:"3jW0nK"}):ne?F.fbt._("Based on this community's settings, members can add new groups directly and suggest existing groups for admin approval. {learn-more}",[F.fbt._param("learn-more",ie)],{hk:"3ClKQd"}):F.fbt._("Based on this community's settings, members can suggest groups for admin approval. {learn-more}",[F.fbt._param("learn-more",ie)],{hk:"4hDHis"});const le=(0,u.memberAddedGroupsM1Enabled)()?B.default.createElement(v.default,{xstyle:[q.communitySettingsSection,D.uiMargin.all30,D.uiMargin.top0],shadow:!1},B.default.createElement(j.WDSTextMuted,null,re)):null;return B.default.createElement("div",{role:"complementary",ref:K,tabIndex:"-1","aria-label":F.fbt._("Manage Community Groups Drawer",null,{hk:"29V3MC"})},B.default.createElement(m.default,{ref:t,testid:"community-manage-group-drawer"},B.default.createElement(y.DrawerHeader,{title:ae,titleStr:ae,type:N||(0,L.topMenuRedesignEnabled)()?y.DRAWER_HEADER_TYPE.SMALL:y.DRAWER_HEADER_TYPE.LARGE,onBack:x}),B.default.createElement(g.default,null,B.default.createElement(v.default,null,B.default.createElement(s.CreateNewGroupCell,{onClick:()=>{l>=U?Z():c()}}),B.default.createElement(s.AddExistingGroupsCell,{onClick:()=>{l>=U?Z():E()}})),le,B.default.createElement(v.default,{title:F.fbt._("GROUPS IN THIS COMMUNITY",null,{hk:"1kTWJn"}),testid:"groups-in-community"},B.default.createElement(P.NavigableFlatList,{selection:V.current,ariaLabel:F.fbt._("Community Subgroups List",null,{hk:"5ScFc"}),listData:Q,onRenderItem:e=>B.default.createElement(Y,{data:e,active:V.current}),rotateList:!0})))))}));t.CommunityHomeGroupsManager=K,K.displayName="CommunityHomeGroupsManager"},323533:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(274019)),i=a(900316),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),o=n(a(829686));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const u=(0,l.forwardRef)(((e,t)=>{var a;const n=(0,o.default)((()=>{e.onBack?e.onBack():i.DrawerManager.closeDrawerLeft()}));return l.default.createElement(r.default,{ref:t,onBack:n,chat:e.chat,fromInfo:null!==(a=e.fromInfo)&&void 0!==a&&a})}));u.displayName="DeactivateCommunityDrawerFn";var d=u;t.default=d},411356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubgroupComparator=function(e,t){if(!0===e.announcementGroup)return-1;if(!0===t.announcementGroup)return 1;return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}},816304:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,E.useFlow)(b.SelectGroup),[n,C]=(0,v.useState)(),_=t=>{const a=t.groupMetadata;if(!t.isGroup||t.isGroup&&!(null==a?void 0:a.participants.iAmMember()))return!1;const n=!0===(null==a?void 0:a.isLidAddressingMode)?(0,i.getCurrentLid)(e.contact.id):e.contact.id;return null!=n&&(null==a?void 0:a.participants.get(n))?y.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString():!!(null==a?void 0:a.participants.iAmAdmin())||g.default._("You are not an admin",null,{hk:"1hWEyS"}).toString()},w=(0,v.useRef)(null),S=e=>{(()=>{if(!w.current)return;const e=w.current;e&&!e.contains(document.activeElement)&&f.default.focus(e)})(),C(e),a.push(b.Confirm)};if(null==a.step)return null;let k=null;switch(a.step){case b.SelectGroup:k=v.default.createElement(h.default,{chats:l.ChatCollection.filter((e=>(0,d.getIsGroup)(e))),filter:_,onCancel:()=>a.pop(),onGroup:S});break;case b.Confirm:k=v.default.createElement(u.ConfirmPopup,{cancelText:y.fbt._("Cancel",null,{hk:"H0gNq"}),okText:y.fbt._("Add member",null,{hk:"12VDbl"}),onOK:()=>{return t=(0,r.default)(n,"group"),(0,m.addParticipants)(t,[e.contact]).then((()=>{o.Cmd.openChatFromUnread(t).then((e=>{e&&s.ComposeBoxActions.focus(t)}))})).catch((()=>{})),void a.end();var t},onCancel:()=>a.pop()},v.default.createElement(c.EmojiText,{text:y.fbt._('Add {participant} to "{subject}" group?',[y.fbt._param("participant",(0,p.getFormattedName)(e.contact)),y.fbt._param("subject",(0,r.default)(n,"group").contact.name)],{hk:"1ZB4Hl"})}))}return v.default.createElement(t,{ref:w,flow:a},k)};var r=n(a(670983)),i=a(12643),l=a(351053),o=a(780549),s=a(877171),u=a(103440),d=a(660666),c=a(305521),f=n(a(335540)),p=a(714574),h=n(a(740068)),m=a(33014),g=n(a(286816)),y=a(548360),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),E=a(839062);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const b=a(76672).Mirrored(["SelectGroup","Confirm"])},383923:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=n(a(781629)),l=n(a(751463)),o=a(95112),s=a(952543),u=a(763614),d=a(332221),c=a(780549),f=a(877171),p=a(900316),h=n(a(329982)),m=a(25878),g=a(179268),y=a(368170),v=a(238669),E=n(a(667294));class C extends h.default{constructor(){var e;super(...arguments),e=this,this._setRefMediaEditor=e=>{this._refMediaEditor=e},this._handleCancel=function(){var t,a,n,r;let i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i&&e._clearAttachMedia(),null===(t=(a=e.props).onComplete)||void 0===t||t.call(a,!1),null===(n=(r=e.props).onCancel)||void 0===n||n.call(r),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},this._sendMediaWithMentions=function(){var t=(0,r.default)((function*(t){var a,n,r,i;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chat:f}=e.props;yield(0,d.maybeShowBizBot1pTos)(f);const{initCaptionUsed:p,isViewOnce:h}=l;c.Cmd.once("ui_idle",(()=>{t.forEach(((t,a)=>{var n;const r=t.media,i={};if(0===a&&(i.quotedMsg=f.composeQuotedMsg,f.composeQuotedMsg=null),i.type=r.type,i.isViewOnce=h,i.mentionedJidList=t.mentionedJidList,i.groupMentions=t.groupMentions,i.caption=r.caption,i.addEvenWhilePreparing=r.previewable&&r.state===s.ATTACH_MEDIA_STATE.PROCESSING,null===(n=e.props.initCaption)||void 0===n?void 0:n.ctwaContextLinkData){const{ctwaContextLinkData:t,ctwaContext:a}=e.props.initCaption;i.ctwaContext=(0,o.prepareCtwaContextSend)(t,a)}r.sendToChat(f,i)})),e._clearAttachMedia()})),null===(a=(n=e.props).onComplete)||void 0===a||a.call(n,!0,{initCaptionUsed:p}),null===(r=(i=e.props).onSend)||void 0===r||r.call(i),e.props.mediaCollection.mediaPickerStatsLogger.logSend({isViewOnce:!!h}),(0,u.areExpressionPanelsEnabled)()&&c.Cmd.closeExpressionPanels(),e.end()}));return function(){return t.apply(this,arguments)}}(),this.setText=e=>{null!=e&&c.Cmd.once("ui_idle",(()=>{f.ComposeBoxActions.paste(this.props.chat,e)})),this.end()},this._clearAttachMedia=()=>{this.props.chat&&this.props.chat.setAttachMediaContents(null)},this.handleRequestDismiss=e=>{var t;(null===(t=this._refMediaEditor)||void 0===t?void 0:t.handleRequestDismiss(e))&&(e===v.DismissReason.UIM_INTERACTION&&this._handleCancel(!1),super.handleRequestDismiss())}}componentDidMount(){c.Cmd.closeContextMenu(),c.Cmd.closeTooltip(),p.DrawerManager.closeDrawerRight(),this.push(E.default.createElement(m.MediaEditor,{theme:m.MediaTheme.ATTACH,ref:this._setRefMediaEditor,chat:this.props.chat,onClose:this._handleCancel,initCaption:this.props.initCaption,onSendMedia:(0,l.default)(this._sendMediaWithMentions),mediaCollection:this.props.mediaCollection,onDropText:(0,l.default)(this.setText),sendAsSticker:this.props.sendAsSticker})),(0,g.prepareChatForMessageSending)(this.props.chat)}componentWillUnmount(){y.UA.isGecko?(0,i.default)((()=>f.ComposeBoxActions.focus(this.props.chat))):f.ComposeBoxActions.focus(this.props.chat)}}t.default=C},767206:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=n(a(348926)),i=a(332221),l=a(447164),o=a(61740),s=n(a(27752)),u=a(362687),d=n(a(306225)),c=a(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),p=a(839062);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const m=a(76672).Mirrored(["Select","Confirm"]);function g(e){const[t,a]=(0,p.useFlow)(m.Select),n=(0,f.useRef)([]);if(null==a.step)return null;let h;switch(a.step){case m.Select:{const t=u.ServerProps.maxParticipants;h=f.default.createElement(o.SelectModal,{title:c.fbt._("Send contacts",null,{hk:"9ZMyz"}),onCancel:()=>{e.onCancel(),a.pop()},onConfirm:e=>{a.push(m.Confirm),n.current=e},getInitialItems:()=>n.current,listType:o.ListType.ContactSelectModal,maxItems:t,includeLidContacts:(0,l.isLidVcardSharingEnabled)(),allowBlockedContacts:!0});break}case m.Confirm:{const t=function(){var t=(0,r.default)((function*(t){var n;a.end();const{chat:r}=e;yield(0,i.maybeShowBizBot1pTos)(r);const l=r.composeQuotedMsg;r.composeQuotedMsg=null;const o=(null===(n=r.getComposeContents())||void 0===n?void 0:n.ctwaContext)||void 0;(0,s.default)(t,r,l,o),e.onContactsSent()}));return function(){return t.apply(this,arguments)}}();h=f.default.createElement(d.default,{contactList:n.current,onSend:()=>{t(n.current)},onBack:()=>{a.pop()},chat:e.chat});break}}return f.default.createElement(t,{flow:a},h)}g.displayName="AttachVcardsFlow"},356432:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,u.useFlow)(c.MessageInfo,{transitions:u.FlowTransitions.DrawerRight}),[n,d]=(0,s.useState)();if(null==a.step)return null;let f;switch(a.step){case c.MessageInfo:f=s.default.createElement(i.default,{msg:e.msg,onProductClick:e=>{d(e),a.push(c.ProductDetails)}});break;case c.ProductDetails:f=s.default.createElement(o.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:(0,l.getChat)(e.msg),product:(0,r.default)(n,"product"),onEnd:()=>a.pop()})}return s.default.createElement(t,{flow:a},f)};var r=n(a(670983)),i=n(a(696716)),l=a(163755),o=a(639793),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),u=a(839062);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c=a(76672).Mirrored(["MessageInfo","ProductDetails"])},262186:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var r=a(122583),i=n(a(670983)),l=n(a(905832)),o=a(323795),s=a(858770),u=y(a(213462)),d=y(a(288057)),c=a(118612),f=a(114850),p=a(548360),h=y(a(667294)),m=a(839062);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const v=a(76672).Mirrored(["Capture","Guide","EditImage"]);function E(e){const[t,a]=(0,h.useState)(null),n=(0,h.useRef)(null),g=(0,h.useRef)(),[y,E]=(0,m.useFlow)(v.Capture),C=()=>{var e;null===(e=g.current)||void 0===e||e.call(g);const{asyncStream:t,disposeStream:a}=u.start("camera",(()=>E.push(v.Guide,"modal")),5e3);g.current=a,t.then((e=>{n.current||E.pop("modal"),e&&n.current&&n.current.loadNewStream(e,a)})).catch((0,r.filteredCatch)(d.GetUserMedia.NotAllowedError,(()=>{E.end(),f.ModalManager.open(h.default.createElement(s.GuidePopup,{messaging:s.Messaging.CAMERA_FAIL,type:s.GuidePopupType.GUIDE_UNBLOCK}))}))).catch((0,r.filteredCatch)(d.GetUserMedia.GetUserMediaError,(()=>{E.end(),f.ModalManager.open(h.default.createElement(s.GuidePopup,{messaging:s.Messaging.CAMERA_MISSING,type:s.GuidePopupType.GUIDE_NONE}))})))};if((0,h.useEffect)((()=>(C(),()=>{var e;null===(e=g.current)||void 0===e||e.call(g)})),[]),null==E.step)return null;let b;switch(E.step){case v.Capture:b=h.default.createElement(c.Modal,{type:e.modalTheme||c.ModalTheme.Box,ariaLabel:p.fbt._("Take photo",null,{hk:"4DtdJO"}),testid:"profile-picture-edit-modal"},h.default.createElement(l.default,{ref:n,stream:void 0,disposeStream:void 0,caption:!1,theme:"capture-cover",onBack:()=>E.end(),onSend:null,onCaptured:e=>{a(e),E.push(v.EditImage,"flow-transition-box-size-drawer-push")},chat:void 0}));break;case v.Guide:b=h.default.createElement(s.GuidePopup,{messaging:s.Messaging.CAMERA,type:s.GuidePopupType.GUIDE_ALLOW,onConfirm:()=>E.pop("modal")});break;case v.EditImage:b=h.default.createElement(c.Modal,{type:e.modalTheme||c.ModalTheme.Box},h.default.createElement(o.EditImageDrawer,{onRetake:()=>{E.pop("flow-transition-box-size-drawer-pop"),C()},retryText:o.RETRY_OPTIONS.RETAKE,onFinished:(t,a)=>{e.onFinished(t,a),E.end()},onCancel:()=>E.end(),img:(0,i.default)(t,"blob"),cropShape:e.editCropShape}))}return h.default.createElement(y,{flow:E},b)}E.displayName="EditCaptureFlow"},82557:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,u.useFlow)(c.GroupMessageInfo,{transitions:u.FlowTransitions.DrawerRight}),[n,d]=(0,s.useState)();if(null==a.step)return null;let f;switch(a.step){case c.GroupMessageInfo:f=s.default.createElement(l.default,{msg:e.msg,onProductClick:e=>{d(e),a.push(c.ProductDetails)}});break;case c.ProductDetails:f=s.default.createElement(o.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:(0,i.getChat)(e.msg),product:(0,r.default)(n,"product"),onEnd:()=>a.pop()})}return s.default.createElement(t,{flow:a},f)};var r=n(a(670983)),i=a(163755),l=n(a(58465)),o=a(639793),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),u=a(839062);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c=a(76672).Mirrored(["GroupMessageInfo","ProductDetails"])},390849:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(239523),l=a(103440),o=n(a(125991)),s=a(581354),u=n(a(329982)),d=a(714574),c=n(a(667845)),f=n(a(147158)),p=a(114850),h=a(21645),m=a(693741),g=a(625786),y=a(390737),v=a(548360),E=n(a(667294));class C extends u.default{constructor(){var e;super(...arguments),e=this,this._handleSendInvite=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;p.ModalManager.close(),Promise.all(e.props.participantNeedInvite.map(function(){var n=(0,r.default)((function*(n){const{contact:r,invite_code:l,invite_code_exp:o}=n,u=yield(0,s.findChat)(r.id,"groupsV4InviteFlow"),d=e.props.groupGid.toString(),f=c.default.assertGet(d);return(yield(0,i.sendGroupInviteMessage)(u,d,e.props.subject,l||"",o,t,a)).messageSendResult===m.SendMsgResult.OK&&(f.pendingParticipants.add({id:r.id}),!0)}));return function(){return n.apply(this,arguments)}}())).then((e=>{const t=e.filter(Boolean).length;y.ToastManager.open(E.default.createElement(g.Toast,{msg:v.fbt._({"*":"{num} invites sent",_1:"1 invite sent"},[v.fbt._plural(t,"num")],{hk:"3QDCqX"})}))}))},this._addInviteCommment=e=>{this.push(E.default.createElement(f.default,{participants:e,gid:this.props.groupGid,subject:this.props.subject,groupDesc:this.props.groupDesc,onClose:this._pop,onSend:this._handleSendInvite}))},this._pop=()=>{this.pop()}}componentDidMount(){const{participantNeedInvite:e}=this.props,t=this._getFormattedNames(e.map((e=>e.contact)),!0),a=v.fbt._({"*":"Couldn't add {member}. You can invite them privately to join this group.",_1:"Couldn't add {member}. You can invite them privately to join this group."},[v.fbt._plural(e.length),v.fbt._param("member",t)],{hk:"40JFHL"});this.push(E.default.createElement(l.ConfirmPopup,{onOK:this._addInviteCommment.bind(this,e),okText:v.fbt._("Invite to group",null,{hk:"FbMSO"}),onCancel:this._pop,cancelText:v.fbt._("Cancel",null,{hk:"H0gNq"})},a))}_getFormattedName(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,d.getFormattedUser)(e):E.default.createElement(h.Name,{contact:e})}_getFormattedNames(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this._getFormattedName(e,t);const a=e.map((e=>this._getFormattedName(e,t)));return(0,o.default)(a,o.default.CONJUNCTIONS.AND,o.default.DELIMITERS.COMMA)}}t.default=C,C.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none",displayName:"GroupsV4InviteFlow"}},418372:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(323795),i=n(a(120381)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),o=a(839062);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const u=a(76672).Mirrored(["ImageSearch","ImageEdit"]);function d(e){let{onFinished:t}=e;const[a,n]=(0,o.useFlow)(u.ImageSearch),[s,d]=(0,l.useState)(),[c,f]=(0,l.useState)();if(null==n.step)return null;let p;switch(n.step){case u.ImageSearch:p=l.default.createElement(i.default,{onCancel:()=>n.pop(),onImageSelected:(e,t)=>{d(e),f(t),n.push(u.ImageEdit)}});break;case u.ImageEdit:s&&null!=c&&(p=l.default.createElement(r.EditImageDrawer,{onCancel:()=>n.end(),attributionUrl:c,onFinished:(e,a)=>{t(e,a),n.end()},onRetake:()=>n.pop(),retryText:r.RETRY_OPTIONS.NONE,img:s}))}return l.default.createElement(a,{flow:n},p)}d.displayName="ImageSearchFlow"},592367:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(780549),l=a(440067),o=a(877171),s=a(177938),u=a(660666),d=a(581354),c=a(165433),f=n(a(386315)),p=a(705153),h=n(a(834431)),m=a(427181),g=a(135516),y=a(909588),v=a(986961),E=a(548360),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),b=a(839062),_=a(808446);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}const S=a(76672).Mirrored(["NewChatDrawer","NewCommunityFlow","NewGroupFlow","NewContactFlow"]);function k(e,t){let{onEnd:a}=e;s.ContactCollection.ensureSorted();const[n,w]=(0,b.useFlow)(S.NewChatDrawer,{transitions:b.FlowTransitions.DrawerLeft,onEnd:a});(0,_.useListener)(i.Cmd,"end_flow",(()=>{w.end()}));const k=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n={};e.isEnterprise&&null!=e.privacyMode&&(n.nextPrivacyMode=e.privacyMode),(0,d.findChat)(e.id,null!=t?t:"newChatFlow",n).then((t=>{i.Cmd.openChatFromUnread(t).then((n=>{if(!n)return;const r=t.isGroup?v.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.GROUP:v.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACT;(0,p.logContactListStartNewChatAction)({chatType:r,isSearchResult:t.isGroup||a}),(0,u.getIsMe)(e)&&c.UiMessageYourselfNewChatAction.logMessageYourselfOpenedEvent(t,a),o.ComposeBoxActions.focus(t)}))}))},M=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;k(t,n,a),w.end()},P=()=>{w.push(S.NewGroupFlow)},T=()=>{w.push(S.NewCommunityFlow),l.UiCommunityCreationAction.startSession(y.COMMUNITY_CREATION_ENTRYPOINT_TYPE.CHATS_TAB),l.UiCommunityCreationAction.enter(g.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.CHATS_TAB)},O=()=>{w.push(S.NewContactFlow)};if(null==w.step)return null;let x=null;switch(w.step){case S.NewChatDrawer:x=C.default.createElement(f.default,{title:E.fbt._("New chat",null,{hk:"36lSV2"}),onBack:()=>w.end(),onClick:M,onNewGroup:P,onNewCommunity:T,onNewContact:O});break;case S.NewGroupFlow:x=C.default.createElement(m.NewGroupFlowLoadable,{onCreateGroup:function(){var e=(0,r.default)((function*(e){yield e,w.end()}));return function(){return e.apply(this,arguments)}}(),onEnd:w.pop});break;case S.NewCommunityFlow:x=C.default.createElement(h.default,{onBack:w.pop});break;case S.NewContactFlow:null}return C.default.createElement(n,{ref:t,flow:w},x)}var M=(0,C.forwardRef)(k);t.default=M},685066:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(a(670983)),i=a(862159),l=n(a(210002)),o=a(548360),s=n(a(667294));function u(e){var t,a;const{chat:n}=e,u=(0,r.default)(null===(t=n.groupMetadata)||void 0===t?void 0:t.groupInviteLink,"chat.groupMetadata?.groupInviteLink"),d=(null===(a=n.groupMetadata)||void 0===a?void 0:a.groupType)===i.GroupType.COMMUNITY?`${o.fbt._("Follow this link to join my WhatsApp community:",null,{hk:"1ezDlv"}).toString()} ${u}`:`${o.fbt._("Follow this link to join my WhatsApp group:",null,{hk:"4FZHrC"}).toString()} ${u}`;return s.default.createElement(l.default,{title:o.fbt._("Send link to",null,{hk:"2Qb3Z6"}),text:d})}u.displayName="SendGroupInviteFlow"},300904:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var r=a(351053),i=n(a(937134)),l=n(a(488145)),o=a(378280),s=a(659862),u=a(114850),d=a(33014),c=a(156176),f=a(459857),p=a(909991),h=a(427360),m=n(a(667294)),g=a(839062),y=n(a(157558));const v=a(76672).Mirrored(["PromotionNotification","Demote"]);function E(e){const{communityMetadata:t}=e,a=(0,c.getCommunityAdminPromotionNuxKey)(t.id.toString()),[,,n]=(0,y.default)(a),[E,C]=(0,g.useFlow)(v.PromotionNotification);if(null==C.step)return null;let b;switch(C.step){case v.PromotionNotification:b=m.default.createElement(i.default,{onDemote:()=>{C.push(v.Demote)},onContinue:()=>{n(),C.end()}});break;case v.Demote:{const e=(0,f.isMeAccount)(t.owner),a=a=>{(0,o.logCadminDemoteEvent)(p.CADMIN_DEMOTE_ORIGIN_TYPE.PROMOTION_NOTIFICATION,a,1===t.participants.getAdmins().length||e)},i=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(e?h.CADMIN_DEMOTE_RESULT_TYPE.RETRY_CANCEL:h.CADMIN_DEMOTE_RESULT_TYPE.CANCEL),u.ModalManager.close()},c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n();const l=t.participants.getMeParticipant(),o=r.ChatCollection.get(t.id);l&&o&&(l.contact.pendingAction++,(0,d.demoteCommunityParticipants)(o,[l]).then((()=>{a(e?h.CADMIN_DEMOTE_RESULT_TYPE.RETRY_SUCCESS:h.CADMIN_DEMOTE_RESULT_TYPE.SUCCESS)})).catch((()=>{__LOG__(3,!0,void 0,!0)`Error sending demote community participants iq`,SEND_LOGS("community-admin-self-demote-failed"),a(e?h.CADMIN_DEMOTE_RESULT_TYPE.RETRY_FAILURE:h.CADMIN_DEMOTE_RESULT_TYPE.FAILURE),u.ModalManager.open(m.default.createElement(s.CommunityAdminDemoteErrorPopup,{onParticipantDemote:()=>c(!0),onCancel:()=>i(!0),isMe:!0}))})).finally((()=>{l.contact.pendingAction--}))),e?u.ModalManager.close():C.end()};b=m.default.createElement(l.default,{onDemote:c,onCancel:i,onFailure:()=>{a(h.CADMIN_DEMOTE_RESULT_TYPE.FAILURE),C.pop()},isCommunityOwner:e});break}}return m.default.createElement(E,{flow:C},b)}E.displayName="CommunityAdminPromotionNotificationFlow"},324654:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(287461),l=a(351053),o=a(394164),s=a(780549),u=n(a(946641)),d=a(174834),c=a(286545),f=n(a(396879)),p=a(877171),h=a(552093),m=a(900316),g=a(581354),y=n(a(726e3)),v=a(409062),E=a(427181),C=n(a(590911)),b=a(382117),_=a(459857),w=a(744976),S=a(818674),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),M=n(a(829686)),P=n(a(847116)),T=a(839062),O=n(a(895851));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}const I=a(76672).Mirrored(["GROUPS_MANAGER","NEW_GROUP","EXISTING_GROUP","COMMUNITY_SETTINGS"]);function L(e,t){const{parentGroupMetadata:a,fromInfo:n=!1,onBack:x}=e,{joinedSubgroups:L,unjoinedSubgroups:D,subgroupCount:R}=(0,P.default)(a),A=(0,o.isSubgroupSuggestionCreation)(a.id),N=(0,O.default)(),j=(0,M.default)((()=>{x?x():m.DrawerManager.closeDrawerRight()})),[F,B]=(0,T.useFlow)(I.GROUPS_MANAGER,{transitions:T.FlowTransitions.DrawerLeft,onEnd:j});function W(){return(W=(0,r.default)((function*(e){const t=yield e;B.pop(),null==t||N.aborted||(0,g.findChat)(t,"communityGroupsFlow").then((e=>{s.Cmd.openChatBottom(e).then((t=>{t&&p.ComposeBoxActions.focus(e)}))}))}))).apply(this,arguments)}function H(){return(H=(0,r.default)((function*(e){const t=new Set([...D,...L]),n=e.filter((e=>!t.has(e.id))).map((e=>e.id));if(n.length)if(a.participants.iAmAdmin()){const e=new b.UiActionWamEvent({uiActionType:w.UI_ACTION_TYPE.COMMUNITY_LINK,uiActionPreloaded:!1});yield(0,y.default)(a.id,n).then((()=>{e.markUiActionT(),e.commit(),(0,S.logUiActionShadowPrivateStatsTestEvents)()})),B.pop()}else yield(0,h.createExistingGroupsSubgroupSuggestionsAction)(a.id,n,B.pop,j)}))).apply(this,arguments)}if(null==B.step)return null;let z;switch(B.step){case I.GROUPS_MANAGER:z=k.default.createElement(c.CommunityHomeGroupsManager,{joinedSubgroups:L,unjoinedSubgroups:D,currentSubgroupCount:R,fromInfo:n,onBack:j,onNewGroupFlow:()=>B.push(I.NEW_GROUP),onExistingGroupFlow:()=>B.push(I.EXISTING_GROUP),onCommunitySettingsClick:()=>B.push(I.COMMUNITY_SETTINGS),parentId:a.id});break;case I.NEW_GROUP:{const e=a.participants.iAmAdmin();if(A)z=k.default.createElement(C.default,{parentGroup:a.id,onBack:()=>B.pop(),onEnd:j});else{const t=(0,d.communityShortGroupCreationEnabled)();z=k.default.createElement(E.NewGroupFlowLoadable,{onCreateGroup:function(){return W.apply(this,arguments)},onEnd:()=>B.pop(),parentGroupWid:a.id,initialStep:e&&!t?v.NewGroupFlowStep.ADD_PARTICIPANTS_DRAWER:v.NewGroupFlowStep.SET_GROUP_INFO_DRAWER,shortenedCreationFlow:t})}break}case I.EXISTING_GROUP:{var U,V;const e=l.ChatCollection.get(a.id),t=(0,i.getABPropConfigValue)("parent_group_no_disclaimer")&&!0===(null==e||null===(U=e.groupMetadata)||void 0===U?void 0:U.isParentGroupClosed),r=null==e?void 0:e.formattedTitle,o=null==e||null===(V=e.groupMetadata)||void 0===V?void 0:V.getSubgroupSuggestions().reduce(((e,t)=>((0,_.isMeAccount)(t.owner)&&e.push(t.groupId),e)),[]);z=k.default.createElement(u.default,{onBack:()=>B.pop(),fromInfo:n,onSubmit:function(){return H.apply(this,arguments)},onCreateNewGroup:()=>B.push(I.NEW_GROUP),currentSubgroupCount:R,communityName:r,isParentGroupClosed:t,isCommunityAdmin:a.participants.iAmAdmin(),groupsSuggestedByMeToCommunity:o});break}case I.COMMUNITY_SETTINGS:{const e=l.ChatCollection.assertGet(a.id);z=k.default.createElement(f.default,{chat:e,onBack:()=>B.pop()});break}}return k.default.createElement(F,{flow:B,ref:t},z)}var D=(0,k.forwardRef)(L);t.default=D},790590:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,u.useFlow)(p.StatusV3Main),[a,n]=(0,s.useState)(null),[f,h]=(0,s.useState)(null),[m,g]=(0,s.useState)(void 0),[y,v]=(0,s.useState)(void 0),E=(0,d.default)((()=>Math.round(1e9*Math.random()))),C=e=>{e?t.end():t.pop()},b=(e,a,r,i)=>{n(e),h(a),g(r),v(i),t.push(p.StatusV3Viewer,"none")};if((0,c.useListener)(r.Cmd,"close_status_viewer",(()=>{C(!0)})),null==t.step)return null;let _=null;switch(t.step){case p.StatusV3Main:_=s.default.createElement(i.default,{onOpenStatus:b,closeStatusViewer:C,sessionId:E.current});break;case p.StatusV3Viewer:(0,o.default)(null!=a,"This will never be null"),_=s.default.createElement(l.default,{initialStatusV3:a,initialStatusMsg:f,closeStatusViewer:C,sessionId:E.current,rowIdx:m,rowSection:y,continuousPlay:!0})}return s.default.createElement(e,{flow:t},_)};var r=a(780549),i=n(a(546922)),l=n(a(564479)),o=n(a(441143)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),u=a(839062),d=n(a(637660)),c=a(808446);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p=a(76672).Mirrored(["StatusV3Main","StatusV3Viewer"])},507407:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStickers=t.clearFrontendStickerPackMdGetterCacheFor=void 0;var n=a(272619),r=a(535979),i=a(808383);const{field:l,clearCacheFor:o}=(0,n.createGetterFactories)({root:i.getStickerPackMdUnsafe,createCache:r.createStickerModelMdCache}),s=o;t.clearFrontendStickerPackMdGetterCacheFor=s;const u=Object.defineProperty(l("stickers"),"name",{value:"getStickers"});t.getStickers=u},604774:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaEditControllerValues=function(e,t){return(0,n.useModelGetterValues)(e,t)};var n=a(682828)},638897:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMsgInfoValues=function(e,t){return(0,r.useCollectionValues)(n.MsgInfoCollection,e,t)};var n=a(241164),r=a(682828)},384448:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOptionalStickerPackValues=function(e,t){return(0,r.useOptionalCollectionValues)(n.StickerPackCollectionMd,e,t)},t.useStickerPackValues=function(e,t){return(0,r.useCollectionValues)(n.StickerPackCollectionMd,e,t)};var n=a(425192),r=a(682828)},173845:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const a=(0,n.useRef)(null);(0,r.useListener)(t,"mousedown",(()=>{a.current=self.performance.now()})),(0,r.useListener)(t,"mouseup",(()=>{a.current=null}));const i=(0,n.useCallback)((()=>{const t=a.current;return null!=t&&self.performance.now()-t>=e}),[e]);return i};var n=a(667294),r=a(808446)},751976:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StartSupportChatErrorModalLoadable=void 0;var r=n(a(348926)),i=n(a(114945)),l=n(a(472514)),o=n(a(997026)),s=n(a(621570)),u=a(548360),d=n(a(667294));const c=(0,o.default)((0,r.default)((function*(){const e=yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,163562));return(0,l.default)(e)})),"StartSupportChatErrorModal");t.requireBundle=c;const f=(0,i.default)({loader:c,loading:e=>d.default.createElement(s.default,{okText:u.fbt._("Contact via email",null,{hk:"3232h1"}),error:Boolean(e.error)})});t.StartSupportChatErrorModalLoadable=f},617433:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.bubbleCountryOnListOfCountries=u,t.formatCountriesOfOrigin=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=s(e,!0);if(""===t)return a;return u(a,t)},t.styles=void 0,t.unshiftNotApplicableToListOfCountries=s;var r=a(741703),i=n(a(286816)),l=a(548360);n(a(156720));const o={countrySeparator:{borderBottomWidth:"a985gkl7",borderBottomStyle:"cmcp1to6",borderBottomColor:"brezm3p7"}};function s(e,t){const a=[...e];return a.unshift([String(r.SyntheticCountryCode.NotApplicable),i.default._("Not Applicable",null,{hk:"2k1klN"}),l.fbt._("Item is a service or non-physical good",null,{hk:"3uDBY7"}),...!0===t?[o.countrySeparator]:[]]),a}function u(e,t,a){const n=e.findIndex((e=>{let[a]=e;return a===t})),[r,i]=[...e[n]],l=[...e];return l.splice(n,1),l.unshift([r,i,null,...a?[o.countrySeparator]:[]]),l}t.styles=o},25878:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaTheme=t.MediaEditor=void 0;var r=n(a(81109)),i=n(a(348926)),l=a(122583),o=n(a(670983)),s=a(287461),u=a(234180),d=a(952543),c=a(396574),f=a(780549),p=n(a(194886)),h=n(a(908081)),m=n(a(324093)),g=a(488940),y=a(698210),v=a(690495),E=n(a(335540)),C=a(81644),b=n(a(867109)),_=(a(505945),n(a(287866))),w=a(358369),S=a(490836),k=a(695710),M=n(a(301667)),P=n(a(31579)),T=n(a(527539)),O=a(320561),x=a(477540),I=a(950079),L=a(272802),D=n(a(763560)),R=n(a(915373)),A=n(a(402420)),N=n(a(913466)),j=a(580716),F=a(675249),B=a(75421),W=a(937484),H=Ce(a(288057)),z=a(97858),U=a(373070),V=a(73225),q=n(a(478163)),G=a(634401),Y=a(115927),K=a(956113),X=n(a(614839)),Z=a(432938),Q=a(501372),J=n(a(397778)),$=a(717089),ee=a(625786),te=a(390737),ae=a(238669),ne=a(459857),re=a(169467),ie=a(71677),le=a(843534),oe=a(460416),se=a(216579),ue=a(140960),de=a(843274),ce=n(a(556869)),fe=a(548360),pe=Ce(a(667294)),he=(n(a(156720)),n(a(969651))),me=n(a(637660)),ge=a(808446),ye=n(a(305988)),ve=n(a(895851));function Ee(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Ee=function(e){return e?a:t})(e)}function Ce(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Ee(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const{IMAGE:be,VIDEO:_e,AUDIO:we,STICKER:Se,DOCUMENT:ke}=U.MSG_TYPE,Me=3*L.DEFAULT_FONT_SIZE,Pe=a(76672).Mirrored(["ATTACH","CAPTURE","STATUS"]);function Te(e,t){var a,n;(0,$.useTsNavigation)(e.chat.isNewsletter&&(0,V.isNewsletterTSLEnabled)()?{surface:"channel-producer-media-editor",extras:{channelWid:e.chat.id,threadType:oe.THREAD_TYPE.CHANNEL}}:null);const{onClose:U=(()=>{}),theme:Ee=Pe.ATTACH,sendAsSticker:Ce=!1,chat:Te,mediaCollection:Oe,initCaption:xe,onDropText:Ie,onSendMedia:Le}=e,[De,Re]=(0,pe.useState)((()=>(0,w.getColorValue)(w.ColorType.BLUE))),[Ae,Ne]=(0,pe.useState)(null!=Ce&&Ce?k.ThicknessType.XLARGE:k.ThicknessType.SMALL),[je,Fe]=(0,pe.useState)(!0),[Be,We]=(0,pe.useState)((()=>(0,w.getColorValue)(w.ColorType.BLACK))),[He,ze]=(0,pe.useState)(S.FontType.SANS_SERIF),[Ue,Ve]=(0,pe.useState)(S.TextAlignment.CENTER),[qe,Ge]=(0,pe.useState)(!0),[Ye,Ke]=(0,pe.useState)(!1),[Xe,Ze]=(0,pe.useState)(!1),[Qe,Je]=(0,pe.useState)(!1),[$e,et]=(0,pe.useState)(null),[tt,at]=(0,pe.useState)(null),[nt,rt]=(0,pe.useState)(!1),[it,lt]=(0,pe.useState)(null),[ot,st]=(0,pe.useState)(null),[ut,dt]=(0,ye.default)(!1),[ct,ft]=(0,pe.useState)(null!=Ce&&Ce),pt=(0,pe.useRef)(),ht=(0,pe.useRef)(),mt=(0,pe.useRef)(),gt=(0,pe.useRef)(),yt=(0,pe.useRef)(null==xe?void 0:xe.text),vt=(0,pe.useRef)(),Et=(0,pe.useRef)(j.BLUR_DEFAULT_MODE),Ct=(0,pe.useRef)(j.BLUR_DEFAULT_RADIUS),bt=(0,me.default)((()=>new Map)),_t=(e,t)=>{bt.current.set(e,t)},wt=(0,me.default)((()=>new Map)),St=(0,me.default)((()=>new Map)),kt=(e,t)=>{St.current.set(e,t)},Mt=(0,he.default)(),Pt=(0,ve.default)();Oe.isStickerMaker=ct,(0,ge.useListener)(Oe,["add","remove","reset"],Mt),(0,ge.useListener)(Oe,["active-change","change:state","change:previewable"],(()=>{if(!Oe.canSend())return;const{errorMsgs:e}=Oe.uiProcessMsgs(Te);e&&(te.ToastManager.open(pe.default.createElement(ee.Toast,{msg:e})),0===Oe.getPreviewableMedias().length&&U()),Mt()}));(0,ge.useListener)(f.Cmd,"toggle_sticker_maker",(()=>{const e=!ct&&1===Oe.length&&(null===(t=Oe.at(0))||void 0===t?void 0:t.type)===be;var t;ft(e),Ne(e?k.ThicknessType.XLARGE:k.ThicknessType.SMALL)})),(0,pe.useEffect)((()=>{var e;return null===(e=gt.current)||void 0===e||e.focus(),()=>{vt.current&&self.clearTimeout(vt.current)}}),[]),(0,pe.useEffect)((()=>{Oe.isStickerMaker=ct}));const Tt=()=>gt.current,Ot=e=>{var t;if(null===(t=pt.current)||void 0===t?void 0:t.resetUIState())return!1;if(ot)return lt(null),st(null),!1;const a=e===ae.DismissReason.UIM_INTERACTION;return U(a),!0};(0,pe.useImperativeHandle)(t,(()=>({getElement:Tt,handleRequestDismiss:Ot})));const xt=Oe.getActive(),It=yt.current;let Lt=nt;Lt||$e||null==It||""===It||!xt||xt.type!==be&&xt.type!==_e&&(xt.type!==ke||Te.contact.isEnterprise)||(xt.caption=It,Lt=!0);const Dt=null!==(a=null==xt?void 0:xt.canUndoMediaEditorData())&&void 0!==a&&a,Rt=null!==(n=null==xt?void 0:xt.canRedoMediaEditorData())&&void 0!==n&&n;xt!==tt&&(at(xt),et(xt),Ze(Dt),Je(Rt),rt(Lt));const At=()=>null==$e?_.default.create():$e.mediaEditorData,Nt=()=>{var e,t;Ze(null!==(e=null==$e?void 0:$e.canUndoMediaEditorData())&&void 0!==e&&e),Je(null!==(t=null==$e?void 0:$e.canRedoMediaEditorData())&&void 0!==t&&t)},jt=(e,t)=>{if(e!==At()){var a,n,r;if($e)$e.updateMediaEditorData(e,{undoable:null!==(a=null==t?void 0:t.undoable)&&void 0!==a&&a,lastAction:null!==(n=null==t?void 0:t.lastAction)&&void 0!==n?n:null}),Nt();if(null==t?void 0:t.updatePreview)null===(r=pt.current)||void 0===r||r.updatePreview();__LOG__(2)`MediaEditor: Updated MediaEditorData`}},Ft=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if($e&&$e.canUndoMediaEditorData()){var t,a;const n=$e.lastMediaEditorAction;$e.undoMediaEditorData(e);const r=$e.lastMediaEditorAction;Nt(),null===(t=pt.current)||void 0===t||t.updatePreview(),null===(a=pt.current)||void 0===a||a.undoAction(n,r)}},Bt=()=>{if($e&&$e.canRedoMediaEditorData()){var e,t;const a=$e.lastMediaEditorAction;$e.redoMediaEditorData();const n=$e.lastMediaEditorAction;Nt(),null===(e=pt.current)||void 0===e||e.updatePreview(),null===(t=pt.current)||void 0===t||t.redoAction(n,a)}},Wt=(e,t,a,n)=>{const r=(0,o.default)(pt.current,"imageBodyRef.current").getCanvasScale(),i=t.width*r,l=t.height*r,s=Math.min(a/i,n/l),u=At().addImageLayerToCenter({type:e,image:t,editable:!0,scale:s});jt(u,{updatePreview:!0,undoable:!0})},Ht=function(){var e=(0,i.default)((function*(e){try{const t=yield(0,F.createImageFromEmoji)(e);if(!t)return;const a=ct?128:64;Wt(I.ImageLayerType.Emoji,t,a,a),ct&&new de.WebcStickerMakerEventsWamEvent({stickerMakerEventName:se.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.EMOJI_ADDED}).commit()}catch(e){te.ToastManager.open(pe.default.createElement(ee.Toast,{msg:fe.fbt._("Failed to add image",null,{hk:"1e7nnp"})}))}}));return function(){return e.apply(this,arguments)}}(),zt=function(){var e=(0,i.default)((function*(e){try{const t=yield(0,F.createImageFromSticker)(e);if(!t)throw(0,ce.default)("Create image from sticker failed");Wt(I.ImageLayerType.Sticker,t,128,128),ct&&new de.WebcStickerMakerEventsWamEvent({stickerMakerEventName:se.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_ADDED}).commit()}catch(e){te.ToastManager.open(pe.default.createElement(ee.Toast,{msg:fe.fbt._("Failed to add image",null,{hk:"1e7nnp"})}))}}));return function(){return e.apply(this,arguments)}}(),Ut=()=>{const e=At().clearSelectedLayer();jt(e)},Vt=()=>{const e=At().clearSelectedLayer();jt(e)},qt=()=>{const e=null===(t=pt.current)||void 0===t?void 0:t.getBackground();var t;const a=At();if(!e||a.outlineLayer.isEmpty())return;const n=a.cropCenter,{width:r,height:i}=e,l=new P.default({x:n.x-r/2,y:n.y-i/2}),o=-a.rotation,s=Math.max(r,i),u=a.cropSize.dimension,c=a.updateBackground(e,l,o,u*((Z.STICKER_DIMENSION-2*Z.STICKER_PADDING)/Z.STICKER_DIMENSION)/s).clearOutlinePaths();jt(c,{undoable:!0,updatePreview:!0,lastAction:d.MediaEditorAction.OutlineDone}),ct&&new de.WebcStickerMakerEventsWamEvent({stickerMakerEventName:se.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_OUTLINED}).commit()},Gt=()=>{const e=At().clearOutlinePaths();jt(e,{undoable:!0,updatePreview:!0})},Yt=(e,t,a)=>{const n=At().setRotation(e).setCrop(t,a);jt(n,{undoable:!0,updatePreview:!0,lastAction:d.MediaEditorAction.CropRotateCanvas}),ct&&new de.WebcStickerMakerEventsWamEvent({stickerMakerEventName:se.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_CROPPED}).commit()},Kt=e=>{const{selectedLayer:t}=At();if(t instanceof x.BlurLayer){const a=At().setBlurMode(t,e);jt(a,{updatePreview:!0,undoable:!0}),Et.current=e}},Xt=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{selectedLayer:a}=At();if(a instanceof x.BlurLayer){const n=At().setBlurRadius(a,e);jt(n,{updatePreview:!0,undoable:t}),Ct.current=e}},Zt=()=>{const e=At().selectedLayer;if(e instanceof x.BlurLayer&&!e.confirmed)Ft(!1);else{var t,a;const e=At().clearSelectedLayer();jt(e),((e,t,a,n)=>{const r=(0,o.default)(pt.current,"imageBodyRef.current").getCanvasScale(),i=(0,o.default)(pt.current,"imageBodyRef.current").getCanvasSize(),l=Math.min(i.width,200/r),s=Math.min(i.height,100/r),u=At().addBlurLayerToCenter({image:e,size:new T.default({width:l,height:s}),mode:t,radius:a,backgroundFrame:n});jt(u,{updatePreview:!0,undoable:!0})})((0,o.default)(null===(t=At().background)||void 0===t?void 0:t.image,"getData().background?.image"),Et.current,Ct.current,(0,o.default)(null===(a=At().background)||void 0===a?void 0:a.frame,"getData().background?.frame"))}},Qt=e=>{Re(e)},Jt=e=>{Ne(e)},$t=e=>{Fe(e)},ea=()=>{jt(At().clearSelectedLayer())},ta=()=>{if(it)return;ea();let e=1.2/(0,o.default)(pt.current,"imageBodyRef.current").getCanvasScale();if(ct){const t=At().cropSize.dimension;e=Me*t/Z.STICKER_DIMENSION/L.DEFAULT_FONT_SIZE}const t={origin:At().cropCenter,text:"",textColor:Be,textBackground:qe,alignment:Ue,font:He,scale:e},a=At().addTextLayer(t),n=(0,o.default)(a.lastTextLayer,"data.lastTextLayer");st(n),lt(null)},aa=e=>{ze(e);const{selectedLayer:t}=At();if(ot)st(ot.setFont(e));else if(t&&t instanceof L.TextLayer){const a=At().setFont(t,e);jt(a,{updatePreview:!0,undoable:!0})}},na=e=>{Ve(e);const{selectedLayer:t}=At();if(ot)st(ot.setAlignment(e));else if(t&&t instanceof L.TextLayer){const a=At().setAlignment(t,e);jt(a,{updatePreview:!0,undoable:!0})}},ra=e=>{We(e);const{selectedLayer:t}=At();if(ot)st(ot.setTextColor(e));else if(t&&t instanceof L.TextLayer){const a=At().setTextColor(t,e);jt(a,{updatePreview:!0,undoable:!0})}},ia=()=>{const e=!qe;Ge(e);const{selectedLayer:t}=At();if(ot)st(ot.setTextBackground(e));else if(t&&t instanceof L.TextLayer){const a=At().setTextBackground(t,e);jt(a,{updatePreview:!0,undoable:!0})}},la=e=>{st(e),lt(e)},oa=(e,t)=>{var a;if(t){let e=At();const a=(0,o.default)(ot,"draftTextLayer").setText(t);it?e=e.updateLayer((0,o.default)(it,"currentlyEditingTextLayer"),a):(e=e.addTextLayer(a),ct&&new de.WebcStickerMakerEventsWamEvent({stickerMakerEventName:se.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.TEXT_ADDED}).commit()),jt(e,{updatePreview:!0,undoable:!0})}else it&&jt(At().deleteLayer(it),{updatePreview:!0,undoable:Boolean(e.text)});self.setTimeout((()=>{st(null),lt(null)}),0),null===(a=gt.current)||void 0===a||a.focus()},sa=e=>{jt(At().addPaintPath(e),{undoable:!0,updatePreview:!0})},ua=e=>{jt(At().addOutlinePath(e),{undoable:!0,updatePreview:!0,lastAction:d.MediaEditorAction.Outline})},da=e=>{if(!e.editable)return;let t=At().setSelectedLayer(e);e instanceof x.BlurLayer&&(e.confirmed||(t=t.updateLayer(e,e.setConfirmed())),Et.current=e.mode,Ct.current=e.radius),jt(t),e instanceof L.TextLayer&&(We(e.textColor),Ge(e.textBackground),ze(e.font))},ca=(e,t)=>{const a=e instanceof I.ImageLayer&&e.isBackground();jt(a?At().translateBackground(t):At().translateLayer(e,t),{updatePreview:!0,undoable:!0})},fa=(e,t,a,n)=>{const r=e instanceof I.ImageLayer&&e.isBackground();jt(r?At().transformBackground(t,a):At().transformLayer(e,t,a,n),{updatePreview:!0,undoable:!0})},pa=e=>{const t=At().deleteLayer(e);jt(t,{updatePreview:!0,undoable:!0})},ha=t=>{(0,g.getFiles)(t).then((a=>{if(Pt.aborted)return;let n;return t.shiftKey&&t.altKey&&1===a.length&&(ft(!0),Ne(k.ThicknessType.XLARGE),n=!0),Oe.processAttachments(a.map((e=>({file:e,stickerMaker:n}))),re.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,e.chat)})).catch((0,l.filteredCatch)(H.MediaDragDropError,(e=>{Oe.length||Ie(e.src)}))),t.target.value&&(t.target.value="")},ma=e=>{ut||ct||ha(e)},ga=(e,t)=>{ut||ct||(Ke(e),e||t||Oe.length||U())},ya=e=>{if(!$e)return;const t=Oe.indexOf($e);$e.updateCaption(e),0===t&&""===e&&nt&&rt(!1);const a=St.current.get($e.id);a&&wt.current.set($e.id,a.editorContent())},va=t=>{const a=t.getFiles().filter((e=>{const t=(0,y.typeFromMimetype)(e.type);return"image"===t||"video"===t})).map((e=>({file:e})));Oe.processAttachments(a,re.MEDIA_PICKER_ORIGIN_TYPE.PASTE,e.chat)},Ea=e=>{e.preventDefault(),e.stopPropagation();const t=new p.default(e.clipboardData);t.hasFiles()&&va(t)},Ca=()=>{if(ht.current){ht.current.click()}},ba=()=>{var e;const t=Te.contact.isEnterprise;return 1===Oe.length&&!0===(null===(e=Oe.at(0))||void 0===e?void 0:e.isViewableOnce())&&!t&&!(0,ne.isMeAccount)(Te.contact.id)&&!Ce},_a=e=>{if(null==e||e.preventDefault(),null==e||e.stopPropagation(),!Oe.canSend())return;const t=Oe.getPreviewableMedias();if(0===t.length)return void U();var a;((null==$e?void 0:$e.mediaEditorData.hasEdits())||ct)&&(null===(a=pt.current)||void 0===a||a.updatePreview({immediately:!0}));const n=[];t.forEach((e=>{const{editedFile:t}=e;if(t&&(e.mediaEditorData.hasEdits()||ct)){const a=Oe.replace(e.id,{file:t,asSticker:ct});n.push(a)}})),Promise.all(n).then((()=>{const e=Oe.getPreviewableMedias();if(0===e.length)return;const a=e.map((e=>{var t,a;let n=null===(t=e.caption)||void 0===t?void 0:t.trim(),r=[],i=[];const l=wt.current.get(e.id);if(l){const{text:e,data:t}=l;e.length&&(n=e.trim(),r=t.mentionedJidList||[],i=t.groupMentions||[])}return e.caption=null!==(a=n)&&void 0!==a?a:void 0,{media:e,mentionedJidList:r,groupMentions:i}}));Le(a,{initCaptionUsed:nt,isViewOnce:ba()&&ut}),(e=>{if(ct){let e={stickerSendOrigin:le.STICKER_SEND_ORIGIN_TYPE.STICKER_MAKER,stickerIsAnimated:!1,stickerIsFirstParty:!1,stickerIsFromStickerMaker:!0,stickerMakerSourceType:ie.STICKER_MAKER_SOURCE_TYPE.WEB_STICKER_MAKER};return(0,s.getABPropConfigValue)("gimmick_phase_two_logging_enabled")&&(e=(0,r.default)((0,r.default)({},e),{},{stickerIsLottie:!1})),new Q.StickerSendWamEvent(e).commit(),void new de.WebcStickerMakerEventsWamEvent({stickerMakerEventName:se.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.SEND_STICKER}).commit()}let t=0,a=0,n=0,i=0,l=0,o=0,u=0;e.forEach((e=>{const r=e.mediaEditorData;e.type===be&&(t++,r.hasEdits()&&a++,r.paintLayer.paths.length>0&&n++,r.layers.some((e=>e instanceof x.BlurLayer))&&u++),r.layers.forEach((e=>{e instanceof I.ImageLayer?(e.isEmoji()&&i++,e.isSticker()&&l++):e instanceof L.TextLayer&&o++}))})),new ue.WebcMediaEditorSendWamEvent({imageCount:t,editedImageCount:a,paintedImageCount:n,blurImageCount:u,emojiLayerCount:i,stickerLayerCount:l,textLayerCount:o}).commit()})(t)}))},wa=()=>{if(!$e)return;const e=bt.current.get($e.id);e&&e.scrollIntoView()},Sa=(e,t)=>{if(!$e||t.repeat||ot)return;const a=$e&&!$e.caption,n=St.current.get($e.id);let r=!1;n&&(r=!a&&n.isFocused()&&(!n.isCursorAtStart()||"left"!==e)&&(!n.isCursorAtEnd()||"right"!==e)),r||(t.preventDefault(),t.stopPropagation(),"left"===e?Oe.setPrevAsActive()&&wa():Oe.setNextAsActive()&&wa())},ka=e=>{Oe.setActive(e)},Ma=(e,t)=>{t.stopPropagation(),t.preventDefault(),Oe.remove(e),0===Oe.getValidMedias().length?vt.current=self.setTimeout((()=>{U()}),200):mt.current&&E.default.focus(mt.current)};let Pa,Ta=Oe.getPreviewableMedias();const Oa=(0,B.getMaxNumberSelectableMedia)(Ta.length,Te.id);Ta.length>Oa&&(Ta=Ta.slice(0,Oa)),Oe.canSend()?$e&&(Pa=(e=>{let t=null;switch(e.type){case Se:case be:t=pe.default.createElement(O.ImageBody,{key:e.mediaEditorData.id,ref:pt,attachMedia:e,chat:Te,onCaptionChange:ya,onClose:Ee===Pe.CAPTURE?null:U,onEnter:_a,setCaptionInputRef:kt,paintColor:De,paintThickness:Ae,outlineSmoothing:je,canUndo:Xe,canRedo:Qe,currentlyEditingTextLayer:it,draftTextLayer:ot,viewOnce:ut,viewOnceDisabled:!ba(),sendAsSticker:ct,internLinksEnabled:Ee!==Pe.STATUS,phoneNumbersEnabled:Ee!==Pe.STATUS,expandedTextFormatsEnabled:Ee!==Pe.STATUS,multiline:Ee!==Pe.STATUS,onPaintSelect:Ut,onOutlineSelect:Vt,onOutlineDone:qt,onOutlineReset:Gt,onTextSelect:ta,onTextBackgroundToggle:ia,onEmojiSelect:Ht,onStickerSelect:zt,onLayerSelect:da,onLayerUnselect:ea,onLayerDelete:pa,onLayerTranslate:ca,onLayerTransform:fa,onTextEditingStart:la,onTextEditingEnd:oa,onTextColorSelect:ra,onFontSelect:aa,onAlignmentSelect:na,onPaintColorSelect:Qt,onPaintThicknessSelect:Jt,onOutlineSmoothingToggle:$t,onCropRotateCanvas:Yt,onBlurModeChange:Kt,onBlurRadiusChange:Xt,onBlurSelect:Zt,onUndo:Ft,onRedo:Bt,onPaintDrawEnd:sa,onOutlineDrawEnd:ua,onToggleViewOnce:dt,onFiles:va});break;case _e:t=pe.default.createElement(N.default,{key:e.id,attachMedia:e,chat:Te,viewOnce:ut,viewOnceDisabled:!ba(),setCaptionInputRef:kt,internLinksEnabled:Ee!==Pe.STATUS,phoneNumbersEnabled:Ee!==Pe.STATUS,expandedTextFormatsEnabled:Ee!==Pe.STATUS,multiline:Ee!==Pe.STATUS,onCaptionChange:ya,onClose:U,onEnter:_a,onToggleViewOnce:dt,onFiles:va});break;case we:t=pe.default.createElement(D.default,{key:e.id,item:e,onClose:U});break;default:t="pdf"===(0,W.previewType)(e.mimetype)?pe.default.createElement(A.default,{key:e.id,item:e,onClose:U,attachMedia:e,chat:Te,setCaptionInputRef:kt,onCaptionChange:ya,onEnter:_a,onToggleViewOnce:dt,onFiles:va}):pe.default.createElement(R.default,{key:e.id,mimeType:e.mimetype,filesize:e.filesize,filename:e.filename,fileExt:e.fileExt,onClose:U,attachMedia:e,chat:Te,setCaptionInputRef:kt,onCaptionChange:ya,onEnter:_a,onToggleViewOnce:dt,onFiles:va})}return t})($e)):Pa=pe.default.createElement("div",{className:b.default.spinner},pe.default.createElement(K.Spinner,{key:"processing",color:"highlight"}));const xa=Ye?pe.default.createElement("div",{key:"container",className:b.default.dropOverlay},pe.default.createElement("div",{className:b.default.dropOverlayOutline},fe.fbt._("Drag file here",null,{hk:"y9aHs"}))):null,Ia="*"===W.DOC_MIMES?"*":[W.IMAGE_MIMES].join();let La;if(null!=Pa){let e,t;if(Ta.length>0&&((0,Y.isStatusPostingEnabled)()&&Ee===Pe.STATUS&&(t=pe.default.createElement(X.default,null)),e=pe.default.createElement("div",{className:b.default.sendButton,tabIndex:"-1",ref:mt,onKeyPress:e=>e.preventDefault()},pe.default.createElement(q.default,{ariaLabel:fe.fbt._("Send",null,{hk:"2JJUaP"}),large:!0,icon:pe.default.createElement(G.SendIcon,{directional:!0}),count:1===Ta.length?null:Ta.length,onClick:_a,disabled:!Oe.canSend()}))),Ee===Pe.CAPTURE)La=pe.default.createElement("div",{className:b.default.captureFooter},e);else{const a=!ut&&!ct&&Ta.length<Oa,n=u.AddAltIcon,r=ct?null:pe.default.createElement(J.default,{className_DONOTUSE:(0,c.classnamesConvertMeToStylexPlease)({[b.default.addMediaButtonDisabled]:!a,[b.default.addMediaButton]:!0}),disabled:!a,key:"media-more",Icon:n,title:fe.fbt._("Add file",null,{hk:"4Gvj3D"}),onClick:Ca,"aria-label":fe.fbt._("Add file",null,{hk:"4Gvj3D"})});let i;Ta.length>0&&(i=pe.default.createElement(v.FlexRow,{className:b.default.filmstripContainer,justify:"center",align:"start"},pe.default.createElement(M.default,{className:b.default.thumbs,mediaCollection:Oe,onClick:ka,onClose:Ma,onElementRef:_t}),r)),La=pe.default.createElement("div",{className:b.default.footer},t,i,e)}}const Da=(0,c.classnamesConvertMeToStylexPlease)({[b.default.previewOnly]:(null==$e?void 0:$e.type)!==be,[b.default.documentPreview]:(0,z.documentWithCaptionsSendEnabled)()&&(null==$e?void 0:$e.type)===ke,[b.default.container]:!0});let Ra=pe.default.createElement(v.FlexColumn,{className:Da,align:"stretch"},xa,Pa,La,pe.default.createElement("input",{ref:ht,type:"file",accept:Ia,style:{display:"none"},onChange:ha,multiple:!0}));Ee===Pe.ATTACH&&(Ra=pe.default.createElement(h.default,{key:"attach-image-modal",theme:"media",onDrop:ma,onDragChange:ga},pe.default.createElement(m.default,{tabIndex:"-1",overflow:"hidden",onPaste:Ea},Ra)));const Aa=Ee===Pe.CAPTURE||Pe.STATUS?"ppled2lx ln8gz9je":"";return pe.default.createElement(C.HotKeys,{className:Aa,handlers:{enter:e=>{var t;if(!$e)return;if(e.repeat)return;if(e.shiftKey)return;if(ot)return;const a=St.current.get($e.id);if(null==a?void 0:a.isFocused())return;const{selectedLayer:n}=At();if(n instanceof L.TextLayer)return e.preventDefault(),e.stopPropagation(),void la(n);(null===(t=pt.current)||void 0===t?void 0:t.resetUIState())||_a()},left:e=>Sa("left",e),right:e=>Sa("right",e)},ref:gt},Ra)}t.MediaTheme=Pe;const Oe=(0,pe.forwardRef)(Te);t.MediaEditor=Oe,Oe.displayName="MediaEditor"},278791:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=L;var r=a(370257),i=n(a(353884)),l=n(a(659177)),o=a(743839),s=n(a(846870)),u=a(664149),d=a(235630),c=a(407497),f=a(637624),p=a(934740),h=a(690495),m=a(862159),g=n(a(932325)),y=a(597820),v=a(150610),E=a(858486),C=a(204875),b=a(392632),_=n(a(37875)),w=n(a(625903)),S=n(a(395967)),k=a(708233),M=a(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),T=n(a(156720)),O=a(655241);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}const I={container:{position:"g0rxnol2",width:"ln8gz9je",maxWidth:"o779q1nt",marginTop:"tt8xd2xn",marginEnd:"r9gcara8",marginBottom:"mpdn4nr2",marginStart:"je7dqiji"},inputContainer:{boxSizing:"cm280p3y",width:"ln8gz9je",minHeight:"gc15jzxb",paddingTop:"eujn52yf",paddingEnd:"l9g3jx6n",paddingBottom:"ckm995li",paddingStart:"lyvj5e2u",backgroundColor:"qpz0rf1m",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},inputContainerForVideo:{backgroundColor:"la59b5bx"},inputContainerForDoc:{backgroundColor:"d5zlj0ol"},buttonContainer:{minHeight:"tiex1193"},inputButton:{marginStart:"fooq7fky",color:"cs9t9or5"},charCounter:{marginStart:"fooq7fky",fontSize:"f8jlpxt4",color:"t3rh7lfs"},suggestionsPositioner:{position:"lhggkp7q",end:"b4u6kxhc",bottom:"c5zpj14d",start:"okbql4zm",height:"smvc51u0",paddingEnd:"itegkywt",paddingStart:"rppts313",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"tviruh8d",pointerEvents:"m62443ks"},suggestionsContainer:{position:"lhggkp7q",end:"citmgm7b",bottom:"s7ynmu90",start:"cheugonp"},secondaryButtonContainer:{marginStart:"fooq7fky"},richTextInput:{width:"ln8gz9je",marginTop:"iin4x6c7",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka",minHeight:"g4oj0cdv",color:"tviruh8d",wordWrap:"b6f1x6w7",whiteSpace:"bbv8nyr4",userSelect:"to2l77zo"},richTextInputText:{fontSize:"fe5nidar"}};function L(e){var t,a;const{chat:n,caption:c,setCaptionInputRef:x,onEnter:L,expandedTextFormatsEnabled:R}=e,A=(0,P.useRef)(null),N=(0,P.useRef)(null),[j,F]=(0,P.useState)(null),{isKeyboardUser:B}=(0,S.default)(),W=()=>{var e;null===(e=A.current)||void 0===e||e.focus()},H=(0,O.useModelValues)(l.default.getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]);(0,P.useEffect)((()=>{W()}),[]);const z=()=>{F(null),B&&W()},U=e=>{const t=A.current;t&&(t.focus(),t.replaceSelection(e)),B&&z()},V=(0,r.numCodepoints)(e.caption||""),q=s.default.MAX_CAPTION_LENGTH-V<50,G=null!=c&&""!==c?P.default.createElement(w.default,{xstyle:I.inputButton,onClick:()=>{var e;null===(e=A.current)||void 0===e||e.reset(),W()},title:M.fbt._("Clear caption",null,{hk:"1MEvgr"})},P.default.createElement(k.XAltIcon,null)):null,Y=q&&P.default.createElement("div",{className:(0,T.default)(I.charCounter)},g.default.n(s.default.MAX_CAPTION_LENGTH-V));let K=null;j&&(K=P.default.createElement(b.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,ref:N,requestDismiss:z},P.default.createElement(_.default,{contextMenu:j})));let X=null;"document"===e.theme||n.id.isStatusV3()||n.isNewsletter||e.viewOnceDisabled||(X=P.default.createElement("div",{className:(0,T.default)(I.secondaryButtonContainer)},P.default.createElement(i.default,{disabled:!1,isOn:Boolean(e.viewOnce),mediaType:e.msgType,onChange:e.onToggleViewOnce})));let Z=e.chat.groupMetadata;(null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.groupType)!==m.GroupType.LINKED_ANNOUNCEMENT_GROUP||(0,y.shouldEnableGroupMentions)(Z)||(Z=null);const Q=(0,o.getComposeBoxPlaceholderText)(e.chat),J=P.default.createElement(v.RichTextInput,{ref:e=>{A.current=e,x(e)},testid:"media-caption-input-container",initialText:c,placeholder:Q,title:Q,onChange:t=>e.onChange(t.parsableText),onEnter:e=>{var t;(null===(t=A.current)||void 0===t?void 0:t.isFocused())?L(e):L()},onFiles:e.onFiles,maxLength:s.default.MAX_CAPTION_LENGTH,maxVisibleLines:5,multiline:!1!==e.multiline,spellCheck:!(0,E.improvedMessageComposerEnabled)()||H.spellcheck,transformTextEmoji:!(0,E.improvedMessageComposerEnabled)()||H.transformTextEmoji,enterIsNewLine:!!(0,E.improvedMessageComposerEnabled)()&&!H.enterIsSend,focusOnMount:!0,textFormatEnabled:!0,groupMetadata:Z,xstyle:I.richTextInput,textXstyle:I.richTextInputText,bulletPointsEnabled:!1!==R&&(0,E.expandedTextFormattingPreviewEnabled)(),numberedListEnabled:!1!==R&&(0,E.expandedTextFormattingPreviewEnabled)(),inlineCodeEnabled:!1!==R&&(0,E.expandedTextFormattingPreviewEnabled)(),blockQuoteEnabled:!1!==R&&(0,E.expandedTextFormattingPreviewEnabled)(),internLinksEnabled:!1!==e.internLinksEnabled&&(0,E.improvedMessageComposerEnabled)(),phoneNumbersEnabled:!1!==e.phoneNumbersEnabled&&(0,E.improvedMessageComposerEnabled)(),linksEnabled:(0,E.improvedMessageComposerEnabled)()});let $;const ee=null===(a=A.current)||void 0===a?void 0:a.editor;return null!=ee&&($=P.default.createElement("div",{className:(0,T.default)(I.suggestionsPositioner)},P.default.createElement("div",{className:(0,T.default)(I.suggestionsContainer)},P.default.createElement(y.MentionSuggestions,{kind:C.SuggestionsPanelKind.MediaEditorCaption,editor:ee,groupMetadata:Z,elevatedPushNamesEnabled:(0,d.elevatedPushNamesM2Enabled)(e.chat)}),P.default.createElement(p.EmojiSuggestions,{kind:C.SuggestionsPanelKind.MediaEditorCaption,editor:ee})))),P.default.createElement(h.FlexRow,{className:(0,T.default)(I.container),align:"center",justify:"center"},$,P.default.createElement(h.FlexRow,{align:"start",className:(0,T.default)(I.inputContainer,"document"===e.theme&&I.inputContainerForDoc,"video"===e.theme&&I.inputContainerForVideo)},J,P.default.createElement(h.FlexRow,{xstyle:I.buttonContainer,align:"center"},Y,G,P.default.createElement(D,{onClick:e=>{e.preventDefault(),e.stopPropagation();const t=P.default.createElement(f.EmojiPanel,{onEmoji:U,onFocusNext:W,onFocusPrev:W});F({menu:t,dirY:u.DirY.TOP,type:u.MenuType.EmojiPicker,anchor:e.target}),W()}}))),X,K)}function D(e){let{onClick:t}=e;return P.default.createElement(w.default,{onClick:t,xstyle:I.inputButton,title:M.fbt._("Open emojis panel",null,{hk:"2MKtLP"})},P.default.createElement(c.EmojiInputIcon,null))}L.displayName="CaptionInput",D.displayName="EmojiButton"},320561:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageBody=void 0;var r=a(952543),i=a(396574),l=a(431037),o=a(690495),s=n(a(849664)),u=n(a(278791)),d=a(358369),c=a(695710),f=n(a(31579)),p=n(a(527539)),h=n(a(530728)),m=a(477540),g=a(950079),y=a(272802),v=n(a(91801)),E=a(70882),C=a(580716),b=a(500713),_=n(a(429600)),w=a(160058),S=n(a(442864)),k=a(905540),M=n(a(634452)),P=a(372682),T=a(373070),O=a(881839),x=a(163139),I=n(a(625903)),L=n(a(79291)),D=a(763389),R=n(a(556869)),A=a(548360),N=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=H(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),j=n(a(710629)),F=n(a(969651)),B=a(808446),W=a(655241);function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(H=function(e){return e?a:t})(e)}const z=new p.default({width:200,height:200}),U=(0,N.forwardRef)((function(e,t){const{paintColor:a,paintThickness:n,outlineSmoothing:H,onLayerDelete:U,onTextEditingStart:V,onTextEditingEnd:q,onOutlineDone:G,draftTextLayer:Y,onLayerUnselect:K,onPaintSelect:X,onCropRotateCanvas:Z,onOutlineSelect:Q,onClose:J}=e,$=(0,W.useModelValues)(e.attachMedia,["mediaEditorData","caption","id","quality","hdEligible","metadataByQuality"]),{isNewsletter:ee}=(0,W.useModelValues)(e.chat,["isNewsletter"]),te=(0,N.useRef)(null),ae=(0,N.useRef)(null),ne=(0,N.useRef)(null),re=(0,N.useRef)(null),ie=(0,N.useRef)(null),le=(0,N.useRef)(null),oe=(0,N.useRef)(null),[se,ue]=(0,N.useState)(p.default.empty()),[de,ce]=(0,N.useState)(!1),[fe,pe]=(0,N.useState)(!1),[he,me]=(0,N.useState)(!1),[ge,ye]=(0,N.useState)(!1),[ve,Ee]=(0,N.useState)(!1),Ce=()=>{ce((e=>!e))},be=()=>$.mediaEditorData,_e=()=>{if(!te.current)return;const e=te.current.getBoundingClientRect(),t=new p.default({width:e.width-40,height:e.height-40});ue(t)},we=()=>{!fe&&be().selectedLayer&&K(),pe((e=>!e)),_e()},Se=()=>he,ke=()=>{me((e=>!e))},Me=()=>{if(de)Ce();else if(fe)we();else if(Se())G(),ke();else{if(!$.mediaEditorData.selectedLayer||Y)return!1;K()}return!0};(0,B.useListener)(window,"mousedown",(e=>{oe.current=e.target})),(0,B.useListener)(window,"click",(()=>{const e=oe.current;e!==te.current&&e!==ne.current&&e!==ae.current||Me()}));const Pe=()=>{const{selectedLayer:e}=$.mediaEditorData;e&&U(e)},Te=e=>{"Backspace"!==e.code||e.target instanceof HTMLInputElement||e.target instanceof HTMLDivElement&&"true"===e.target.contentEditable||fe||Pe()},Oe=()=>{const e=(()=>{if(!re.current)throw(0,R.default)("MediaEditor:canvas is not initialized");return re.current.getDataUrl()})();return L.default.dataURLtoFile(e)},xe=()=>{if(null!=re.current){const{width:e,height:t}=re.current.getStage().attrs;if(0!==e&&0!==t){const e=Oe(),t=window.URL.createObjectURL(e);$.updateEditedFile(e),$.updatePreview(t),$.updateFullPreview(t)}}},Ie=(0,j.default)((()=>{le.current&&((0,O.cancelIdleCallback)(le.current),le.current=null),le.current=(0,O.requestIdleCallback)(xe)}),1e3),Le=e=>{(null==e?void 0:e.immediately)?xe():Ie()};(0,N.useEffect)((()=>(window.addEventListener("resize",_e),window.addEventListener("keydown",Te),_e(),()=>{window.removeEventListener("resize",_e),window.removeEventListener("keydown",Te),Le({immediately:!0})})),[]);const De=(0,F.default)(),Re=()=>{if(fe)we();else if(de)Ce();else if(he)G(),ke();else if(Y){var e;null===(e=re.current)||void 0===e||e.endTextEditing()}else be().selectedLayer&&K()},Ae=e=>{Z(be().rotation+e,be().cropOrigin,be().cropSize)},Ne=()=>{Z(0,new f.default({x:0,y:0}),be().size)},je=(e,t)=>{Z(be().rotation,e,t)},Fe=(e,t)=>{e===r.MediaEditorAction.OutlineDone?(Me(),ke()):e===r.MediaEditorAction.Outline?(Se()&&ke(),t===r.MediaEditorAction.Outline&&ke()):e===r.MediaEditorAction.CropRotateCanvas&&(Me(),t===r.MediaEditorAction.CropRotateCanvas&&we())},Be=(e,t)=>{e===r.MediaEditorAction.OutlineDone?Me():e===r.MediaEditorAction.Outline?Se()||ke():e===r.MediaEditorAction.CropRotateCanvas?(Me(),we()):t===r.MediaEditorAction.CropRotateCanvas&&e!==r.MediaEditorAction.CropRotateCanvas&&Me()},We=()=>{const e=$.mediaEditorData;return(0,P.calculateContainScale)(e.screenWidth,e.screenHeight,se,z)},He=()=>{const e=$.mediaEditorData;return new p.default({width:e.screenWidth,height:e.screenHeight})},ze=()=>{var e;return null===(e=re.current)||void 0===e?void 0:e.getBackground()};(0,N.useImperativeHandle)(t,(()=>({updatePreview:Le,undoAction:Fe,redoAction:Be,getCanvasScale:We,getCanvasSize:He,resetUIState:Me,getBackground:ze})));const Ue=$.mediaEditorData,Ve=e.draftTextLayer||Ue.selectedLayer;let qe;if(fe)qe=N.default.createElement(w.CropRotateToolbar,{canReset:Ue.isRotated()||Ue.isCropped(),onRotateCanvas:Ae,onReset:Ne});else if(he)qe=N.default.createElement(k.OutlineToolbar,{smoothing:e.outlineSmoothing,onSmoothingToggle:e.onOutlineSmoothingToggle,canReset:Ue.isOutlined(),onReset:e.onOutlineReset});else if(Ve){const t=Ve instanceof g.ImageLayer&&Ve.isBackground();Ve instanceof y.TextLayer?qe=N.default.createElement(E.TextToolbar,{ref:ie,textLayer:Ve,onAlignmentSelect:e.onAlignmentSelect,onFontSelect:e.onFontSelect,onTextBackgroundToggle:e.onTextBackgroundToggle,onTextColorSelect:e.onTextColorSelect,onDeleteLayer:Pe}):t||(qe=N.default.createElement(N.default.Fragment,null,Ve instanceof m.BlurLayer?N.default.createElement(C.BlurToolbar,{blurMode:Ve.mode,blurRadius:Ve.radius,onBlurModeChange:e.onBlurModeChange,onBlurRadiusChange:e.onBlurRadiusChange}):null,N.default.createElement(b.ToolbarButton,{icon:N.default.createElement(l.DeleteIcon,{displayInline:!0}),title:A.fbt._("Delete",null,{hk:"1XGJJN"}),onClick:Pe})))}else de&&(qe=N.default.createElement(N.default.Fragment,null,N.default.createElement(_.default,{colors:(0,d.getAllColors)().map((e=>({primaryColor:(0,d.getColorValue)(e)}))),onColorSelect:e.onPaintColorSelect,selectedColor:a}),N.default.createElement(M.default,{thicknesses:(0,c.getAllThicknesses)(),onThicknessSelect:e.onPaintThicknessSelect,selectedThickness:n})));const Ge=!qe&&!e.draftTextLayer&&!e.sendAsSticker,Ye=N.default.createElement(o.FlexRow,{className:(0,i.classnamesConvertMeToStylexPlease)({[h.default.captionInputHidden]:!Ge,[h.default.captionInputContainer]:!0}),justify:"center"},N.default.createElement(u.default,{key:$.id,chat:e.chat,caption:$.caption,viewOnce:e.viewOnce,viewOnceDisabled:e.viewOnceDisabled,msgType:T.MSG_TYPE.IMAGE,theme:"image",onToggleViewOnce:e.onToggleViewOnce,onChange:e.onCaptionChange,onEnter:e.onEnter,onFiles:e.onFiles,setCaptionInputRef:t=>{e.setCaptionInputRef($.id,t)},internLinksEnabled:e.internLinksEnabled,phoneNumbersEnabled:e.phoneNumbersEnabled,expandedTextFormatsEnabled:e.expandedTextFormatsEnabled,multiline:e.multiline})),Ke=N.default.createElement(o.FlexRow,{justify:"center",align:"center",className:h.default.footer,ref:ne},qe&&N.default.createElement(o.FlexRow,{justify:"center",align:"center",className:h.default.bottomToolbar},qe),Ye);let Xe=null;fe&&(Xe=N.default.createElement(v.default,{data:Ue,rotation:be().rotation,cropOrigin:be().cropOrigin,cropSize:be().cropSize,onCropChange:je,containerSize:se,keepRatio:e.sendAsSticker,sendAsSticker:e.sendAsSticker}));const Ze=fe||de||he||ge||ve||Boolean(e.draftTextLayer)||Boolean(be().selectedLayer);return N.default.createElement("div",{className:h.default.container},N.default.createElement(o.FlexRow,{className:h.default.header,ref:ae},J?N.default.createElement("div",{className:h.default.closeButton},N.default.createElement(I.default,{onClick:J,"aria-label":A.fbt._("Close",null,{hk:"gQq3k"})},N.default.createElement(D.XIcon,null))):N.default.createElement("div",{className:h.default.closeButtonPlaceholder}),N.default.createElement(S.default,{selectedLayer:Ve,inPaintMode:de,inCropRotateMode:fe,inTextEditingMode:Boolean(e.draftTextLayer),inOutlineMode:he,canUndo:e.canUndo,canRedo:e.canRedo,onPaintSelect:()=>{Ce(),X()},onChangeQuality:t=>{(0,x.unproxy)(e.attachMedia).updateQuality(t)},selectedQuality:$.quality,hdEligible:$.hdEligible&&!ee,metadataByQuality:$.metadataByQuality,onCropRotateSelect:()=>{we()},onOutlineSelect:()=>{ke(),Q()},onTextSelect:e.onTextSelect,onEmojiSelect:e.onEmojiSelect,onStickerSelect:e.onStickerSelect,onToggleEmojiPanel:e=>{ye(e)},onToggleStickerPanel:e=>{Ee(e)},onBlurSelect:e.onBlurSelect,onUndo:e.onUndo,onRedo:e.onRedo,showOutline:e.sendAsSticker}),N.default.createElement(o.FlexRow,{className:h.default.headerRight,justify:"end"},Ze&&N.default.createElement(b.ToolbarButton,{onClick:Re},A.fbt._("Done",null,{hk:"2nVR7W"})))),N.default.createElement("div",{ref:te,className:(0,i.classnamesConvertMeToStylexPlease)({[h.default.cropRotateContainer]:fe,[h.default.canvasContainer]:!0})},N.default.createElement("div",{className:h.default.canvas,style:{display:fe?"none":"unset"}},N.default.createElement(s.default,{ref:re,data:Ue,inPaintMode:de,inOutlineMode:he,paintColor:a,paintThickness:n,outlineSmoothing:H,currentlyEditingTextLayer:e.currentlyEditingTextLayer,draftTextLayer:e.draftTextLayer,scale:We(),onLayerSelect:e.onLayerSelect,onLayerUnselect:e.onLayerUnselect,onLayerTranslate:e.onLayerTranslate,onLayerTransform:e.onLayerTransform,onTextEditingStart:e=>{De(),V(e)},onTextEditingEnd:(e,t)=>{De(),q(e,t)},onTextInputOutsideClick:e=>{var t,a;const n=e.target;return!(n instanceof HTMLElement&&n.closest(`.${h.default.footer}`)&&n!==ne.current||(null===(t=ie.current)||void 0===t?void 0:t.isColorPanelVisible())||(null===(a=ie.current)||void 0===a?void 0:a.isFontMenuVisible()))},onPaintDrawEnd:e.onPaintDrawEnd,onOutlineDrawEnd:e.onOutlineDrawEnd,onOutlineDone:Re,canEditBackground:e.sendAsSticker,outlineEnabled:e.sendAsSticker})),Xe),Ke)}));t.ImageBody=U,U.displayName="ImageBody"},849664:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(618446)),l=n(a(170225)),o=a(153724),s=a(931434),u=a(769662),d=n(a(554e3)),c=n(a(551004)),f=n(a(95713)),p=a(695710),h=a(477540),m=a(272802),g=a(102826),y=a(398573),v=a(139519),E=n(a(556869)),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const _="#52F818";function w(e){let{canEditBackground:t,canEditLayer:a,canvasContextRef:n,currentlyEditingTextLayer:r,data:i,dragging:l,inOutlineMode:o,inPaintMode:s,isEditingBackground:u,onDoubleClick:d,onDragEnd:c,onDragMove:f,onDragStart:p,onSelect:m,onTransformEnd:g,onTransformStart:y,scale:v,selectedGroupRef:E,selectedNodeRef:b,transformerRef:_}=e;const w=!1;return C.default.createElement(C.default.Fragment,null,t&&i.background&&C.default.createElement(k,{layer:i.background,hidden:!u(),data:i,scale:v,dragging:l,canEditLayer:a,inPaintMode:s,inOutlineMode:o,currentlyEditingTextLayer:r,selectedGroupRef:E,selectedNodeRef:b,transformerRef:_,onSelect:m,onDoubleClick:d,onDragMove:f,onDragStart:p,onDragEnd:c,onTransformStart:y,onTransformEnd:g}),!u()&&i.layers.filter((e=>e instanceof h.BlurLayer)).map((e=>C.default.createElement(k,{key:String(e.id),layer:e,hidden:w,data:i,scale:v,dragging:l,canEditLayer:a,inPaintMode:s,inOutlineMode:o,currentlyEditingTextLayer:r,selectedGroupRef:E,selectedNodeRef:b,transformerRef:_,onSelect:m,onDoubleClick:d,onDragMove:f,onDragStart:p,onDragEnd:c,onTransformStart:y,onTransformEnd:g}))),i.paintLayer&&C.default.createElement(k,{layer:i.paintLayer,hidden:w,data:i,scale:v,dragging:l,canEditLayer:a,inPaintMode:s,inOutlineMode:o,currentlyEditingTextLayer:r,selectedGroupRef:E,selectedNodeRef:b,transformerRef:_,onSelect:m,onDoubleClick:d,onDragMove:f,onDragStart:p,onDragEnd:c,onTransformStart:y,onTransformEnd:g}),i.layers.filter((e=>!(e instanceof h.BlurLayer))).map((e=>C.default.createElement(k,{key:String(e.id),layer:e,hidden:w,data:i,scale:v,dragging:l,canEditLayer:a,inPaintMode:s,inOutlineMode:o,currentlyEditingTextLayer:r,selectedGroupRef:E,selectedNodeRef:b,transformerRef:_,onSelect:m,onDoubleClick:d,onDragMove:f,onDragStart:p,onDragEnd:c,onTransformStart:y,onTransformEnd:g}))))}function S(e){let{getStage:t,guides:a,guidesLayerRef:n,scale:r}=e;const{vertical:i,horizontal:l}=a;if(!i&&!l)return null;const o=t();return C.default.createElement(v.Layer,{key:"guides",ref:n},i&&C.default.createElement(v.Line,{key:"vertical",x:i.position/r,y:0,points:[0,0,0,o.height()/r],stroke:_,strokeWidth:1,strokeScaleEnabled:!1}),l&&C.default.createElement(v.Line,{key:"horizontal",x:0,y:l.position/r,points:[0,0,o.width()/r,0],stroke:_,strokeWidth:1,strokeScaleEnabled:!1}))}function k(e){let{canEditLayer:t,currentlyEditingTextLayer:a,data:n,dragging:r,hidden:i,inOutlineMode:l,inPaintMode:o,layer:s,onDoubleClick:d,onDragEnd:c,onDragMove:f,onDragStart:p,onSelect:h,onTransformEnd:m,onTransformStart:g,scale:y,selectedGroupRef:v,selectedNodeRef:E,transformerRef:b}=e;const _=n.selectedLayer===s&&a!==s,w=n.screenWidth*y,S=n.screenHeight*y,k=n.cropSize.dimension,M=s.editable&&t&&!o&&!l&&!a;return C.default.createElement(u.CanvasLayer,{key:String(s.id),layer:s,scale:y,canvasRotation:n.rotation,textBackgroundShadow:!r,dimension:k,editing:a===s,selected:_,editable:M,stageHeight:S,stageWidth:w,selectedGroupRef:e=>{v.current=e},selectedNodeRef:e=>{E.current=e},transformerRef:e=>{b.current=e},onSelect:h,onDoubleClick:d,onDragMove:f,onDragStart:p,onDragEnd:c,onTransformStart:g,onTransformEnd:m,hidden:i})}function M(e){let{data:t,draftTextLayer:a,editableTextRef:n,onLayerUnselect:r,onTextInputOutsideClick:i,onTextSave:l,scale:o}=e;if(!a)return null;const u=t.toScreenPoint(a.frame.getCenter());return C.default.createElement(s.EditableText,{ref:n,layer:a,layerCenter:u,text:a.text,scale:o,onSave:l,onUnselect:r,onOutsideClick:i})}function P(e,t){var a;const{inPaintMode:n=!1,inOutlineMode:s=!1,paintColor:u=g.Color.White,paintThickness:h=p.ThicknessType.MEDIUM,outlineSmoothing:b=!0,canEditLayer:_=!0,canEditBackground:k=!1,outlineEnabled:P=!1,currentlyEditingTextLayer:T=null,draftTextLayer:O=null,onLayerSelect:x=(()=>{}),onLayerUnselect:I=(()=>{}),onLayerTranslate:L=(()=>{}),onLayerTransform:D=(()=>{}),onTextEditingStart:R=(()=>{}),onTextEditingEnd:A=(()=>{}),onTextInputOutsideClick:N=(()=>!0),onPaintDrawEnd:j=(()=>{}),onOutlineDrawEnd:F=(()=>{}),onOutlineDone:B=(()=>{}),scale:W,data:H}=e,z=(0,C.useRef)(null),U=(0,C.useRef)(null),V=(0,C.useRef)(null),q=(0,C.useRef)(null),G=(0,C.useRef)(null),Y=(0,C.useRef)(null),K=(0,C.useRef)(null),X=(0,C.useRef)(null),Z=(0,C.useRef)(null),Q=(0,C.useRef)(null),J=(0,C.useRef)({dragging:!1,transforming:!1,editing:!1,canEditBackground:k}),[$,ee]=(0,C.useState)({horizontal:null,vertical:null}),[te,ae]=(0,C.useState)(!1),[ne,re]=(0,C.useState)(!1),[ie,le]=(0,C.useState)("crosshair"),oe=()=>{if(!z.current)throw(0,E.default)("MediaEditorCanvas:stage is not initialized");return z.current.getStage()};(0,C.useEffect)((()=>{var e,t,a;V.current&&(null===(e=q.current)||void 0===e||e.nodes([V.current]),null===(t=q.current)||void 0===t||null===(a=t.getLayer())||void 0===a||a.batchDraw())}));const se=()=>{var e,t,a,n,r,i,l,o,s,u,d;null===(e=q.current)||void 0===e||e.hide(),null===(t=U.current)||void 0===t||null===(a=t.getChildren()[1])||void 0===a||a.hide(),null===(n=U.current)||void 0===n||null===(r=n.getChildren()[2])||void 0===r||r.hide(),null===(i=G.current)||void 0===i||i.hide(),null===(l=K.current)||void 0===l||l.toggleCursor(!1),null===(o=X.current)||void 0===o||o.hide(),null===(s=q.current)||void 0===s||null===(u=s.getLayer())||void 0===u||u.batchDraw(),null===(d=Y.current)||void 0===d||d.hide();const c=oe().toDataURL({mimeType:"image/png",quality:1,pixelRatio:1/W});var f,p,h,m,g,y,v,E,C,b,_;return null===(f=q.current)||void 0===f||f.show(),null===(p=U.current)||void 0===p||null===(h=p.getChildren()[1])||void 0===h||h.show(),null===(m=U.current)||void 0===m||null===(g=m.getChildren()[2])||void 0===g||g.show(),null===(y=G.current)||void 0===y||y.show(),null===(v=K.current)||void 0===v||v.toggleCursor(!0),null===(E=X.current)||void 0===E||E.show(),null===(C=q.current)||void 0===C||null===(b=C.getLayer())||void 0===b||b.batchDraw(),null===(_=Y.current)||void 0===_||_.show(),c},ue=()=>{var e;return null===(e=Q.current)||void 0===e?void 0:e.toCanvas()},de=()=>{var e;null===(e=Z.current)||void 0===e||e.save()},ce=()=>(te||ne)&&H.selectedLayer===H.background;(0,C.useImperativeHandle)(t,(()=>({getStage:oe,getDataUrl:se,endTextEditing:de,getBackground:ue})));const fe=H.screenWidth/2,pe=H.screenHeight/2,he=H.toScreenPoint(H.cropCenter),me=H.toScreenPoint(H.canvasCenter),ge=fe-(he.x-me.x),ye=pe-(he.y-me.y),ve=H.cropSize.dimension;return C.default.createElement(C.default.Fragment,null,C.default.createElement(v.Stage,{ref:z,width:H.screenWidth*W,height:H.screenHeight*W,onMouseDown:e=>{T||(0,y.isEventOnAnchor)(e)||I()},scaleX:W,scaleY:W,style:(0,r.default)({cursor:n?"none":s?ie:"default"},null!==(a=e.style)&&void 0!==a?a:{})},C.default.createElement(o.CanvasContext.Provider,{value:J.current},P&&C.default.createElement(v.Layer,{x:ge,y:ye,offsetX:H.width/2,offsetY:H.height/2,rotation:H.rotation,key:"transparent"},C.default.createElement(f.default,{ref:Y,width:H.width,height:H.height})),C.default.createElement(v.Layer,{x:ge,y:ye,offsetX:H.width/2,offsetY:H.height/2,rotation:H.rotation,key:"background"},C.default.createElement(l.default,{ref:Q,layer:H.background,outlineLayer:H.outlineLayer,dimension:ve,removeBackground:P&&!s,scale:W,visible:!ce()})),C.default.createElement(v.Layer,{x:ge,y:ye,offsetX:H.width/2,offsetY:H.height/2,rotation:H.rotation,key:"edits"},C.default.createElement(w,{canEditBackground:k,data:H,scale:W,canvasContextRef:J,isEditingBackground:ce,canEditLayer:_,dragging:te,inPaintMode:n,inOutlineMode:s,currentlyEditingTextLayer:T,selectedGroupRef:U,selectedNodeRef:V,transformerRef:q,onSelect:e=>{x(e)},onDoubleClick:e=>{e instanceof m.TextLayer&&R(e)},onDragMove:(e,t)=>{var a,n,r,l;const o=[{position:oe().width()/2,orientation:"v"},{position:oe().height()/2,orientation:"h"}],s=t.target,u=s.absolutePosition(),d=[{position:u.y,orientation:"h"},{position:u.x,orientation:"v"}],c=[];for(const e of d)for(const t of o){if(e.orientation!==t.orientation)continue;const a=Math.abs(t.position-e.position);a<=15&&c.push({guide:t,distance:a})}c.sort(((e,t)=>e.distance-t.distance));let f=null,p=null;for(const{guide:e}of c)"v"!==e.orientation||f?"h"!==e.orientation||p||(p=e):f=e;s.absolutePosition({x:null!==(a=null===(n=f)||void 0===n?void 0:n.position)&&void 0!==a?a:u.x,y:null!==(r=null===(l=p)||void 0===l?void 0:l.position)&&void 0!==r?r:u.y});const h={horizontal:p,vertical:f};(0,i.default)($,h)||ee(h)},onDragStart:()=>{J.current.dragging=!0,ae(!0)},onDragEnd:(e,t)=>{J.current.dragging=!1,L(e,t),ee({vertical:null,horizontal:null}),ae(!1)},onTransformStart:()=>{J.current.transforming=!0,re(!0)},onTransformEnd:(e,t,a,n)=>{J.current.transforming=!1,D(e,t,a,n),re(!1)}})),C.default.createElement(S,{guides:$,scale:W,guidesLayerRef:G,getStage:oe}),n&&C.default.createElement(c.default,{ref:K,width:H.screenWidth,height:H.screenHeight,scale:W,pathStyle:{color:u,thickness:(0,p.getThicknessValue)(h),smoothing:!1},data:H,onDrawEnd:j}),s&&C.default.createElement(d.default,{ref:X,width:H.screenWidth,height:H.screenHeight,scale:W,data:H,smoothing:b,onDrawEnd:F,onDone:B,onCursorChange:e=>{le(e)}}))),C.default.createElement(M,{draftTextLayer:O,data:H,editableTextRef:Z,scale:W,onTextSave:e=>{O&&A(O,e)},onLayerUnselect:I,onTextInputOutsideClick:N}))}w.displayName="Layers",S.displayName="Guides",k.displayName="CanvasLayerWrapper",M.displayName="EditableTextView";var T=(0,C.forwardRef)(P);t.default=T},170225:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(588750),i=n(a(367838)),l=a(964643),o=a(139519),s=a(432938),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){let{layer:a,outlineLayer:n,dimension:d,removeBackground:c,scale:f,visible:p}=e;const h=(0,u.useRef)(),m=(0,u.useRef)();if((0,u.useImperativeHandle)(t,(()=>({toCanvas(){var e;const t=null===(e=m.current)||void 0===e?void 0:e.getBoundingRect(),a=h.current;if(!t||!a||t.size.isEmpty())return;const{x:n,y:i,width:l,height:o}=t;var u;null===(u=m.current)||void 0===u||u.show();const d=a.toCanvas({x:n,y:i,width:l,height:o,pixelRatio:1/f});var c;null===(c=m.current)||void 0===c||c.hide();const p=Math.max(d.width,d.height),g=Math.max(Math.ceil(s.STICKER_BORDER_WIDTH*(p/s.STICKER_DIMENSION)),2),y=(0,r.addBorder)(d,g);return(0,r.trim)(y)}}))),!a||!n)return null;const g=a.frame.getCenter();return u.default.createElement(o.Group,{ref:h,visible:p},u.default.createElement(o.Group,{x:g.x,y:g.y,offsetX:a.width/2,offsetY:a.height/2,width:a.width,height:a.height,rotation:a.rotation,scaleX:a.scale,scaleY:a.scale},u.default.createElement(i.default,{layer:a})),u.default.createElement(l.Outline,{ref:m,layer:n,dimension:d}))}var f=(0,u.forwardRef)(c);t.default=f},778326:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(477540),i=a(139519),l=n(a(820185)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function u(e){var t,a,n,s,u,d;let{frame:c,layer:f,onTransform:p,onTransformEnd:h,onTransformStart:m,scale:g,selectedNodeRef:y,showPadding:v}=e;const E=(0,o.useRef)();(0,o.useEffect)((()=>{var e;null==E||null===(e=E.current)||void 0===e||e.cache({pixelRatio:.4,imageSmoothingEnabled:!1})}),[f.image]);const C=v?50:0,b=null!==(t=null==c?void 0:c.x)&&void 0!==t?t:f.x,_=null!==(a=null==c?void 0:c.y)&&void 0!==a?a:f.y,w=null!==(n=null==c?void 0:c.width)&&void 0!==n?n:f.width,S=null!==(s=null==c?void 0:c.height)&&void 0!==s?s:f.height,k=(null!=g?g:1)*f.backgroundFrame.scale*3/.4,M=-b+f.backgroundFrame.width/2+f.backgroundFrame.x,P=-_+f.backgroundFrame.height/2+f.backgroundFrame.y,T=f.backgroundFrame.width+C/f.backgroundFrame.scale*2,O=f.backgroundFrame.height+C/f.backgroundFrame.scale*2;return o.default.createElement(i.Group,{width:w,height:S,clipX:0,clipY:0,clipWidth:w,clipHeight:S},o.default.createElement(i.Image,{ref:E,x:M,y:P,width:T,height:O,offsetX:T/2,offsetY:O/2,fillPatternImage:f.image,fillPatternOffsetX:-C/f.backgroundFrame.scale,fillPatternOffsetY:-C/f.backgroundFrame.scale,fillPatternRepeat:"no-repeat",scaleX:f.backgroundFrame.scale,scaleY:f.backgroundFrame.scale,rotation:null!==(u=null===(d=f.backgroundFrame)||void 0===d?void 0:d.rotation)&&void 0!==u?u:0,perfectDrawEnabled:!1,filters:[f.mode===r.BlurMode.Smooth?l.default.Filters.Blur:l.default.Filters.Pixelate],blurRadius:f.radius/k,pixelSize:f.radius/k}),o.default.createElement(i.Rect,{ref:y,x:0,y:0,width:w,height:S,fill:"transparent",onTransformStart:m,onTransformEnd:h,onTransform:p}))}u.displayName="BlurCanvas"},153724:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasContext=void 0;const n={transforming:!1,dragging:!1,editing:!1,canEditBackground:!1},r=(0,a(667294).createContext)(n);t.CanvasContext=r},931434:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EditableText=void 0;var r=n(a(967154)),i=n(a(81109)),l=n(a(618446)),o=a(664149),s=a(637624),u=a(490836),d=a(920202),c=a(150610),f=a(272269),p=a(392632),h=n(a(37875)),m=a(676345),g=a(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),v=n(a(156720)),E=a(667100),C=n(a(49710)),b=n(a(83233));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}const w={positioner:{position:"lhggkp7q",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"jbm6vef4",height:"bbl9m3t3"},container:{boxSizing:"cm280p3y",borderTop:"fexf46gg",borderEnd:"a6hdn73q",borderBottom:"rswuywtv",borderStart:"fn83zwbf",borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",borderBottomEndRadius:"hwxn6iyz",borderBottomStartRadius:"dtx25v1e",borderTopWidth:"o6maxiec",borderEndWidth:"gmqjtjz9",borderBottomWidth:"po2rmeaw",borderStartWidth:"ri1nbnxe"},inputContainer:{position:"g0rxnol2"},inputWrapper:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ctjs45qd",width:"ln8gz9je",height:"ppled2lx",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},inputText:{fontSize:"fe5nidar"},emojiButton:{transform:"t9w6h8zt",top:"chytebbc",position:"lhggkp7q",start:"m7kgcvyw",color:"c613fk18"},emojiButtonWrapper:{cursor:"ajgl1lbb",backgroundColor:"ur864smd",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",":hover":{backgroundColor:"tcskrox1"}}},S=(0,y.forwardRef)(((e,t)=>{let{text:a,layer:n,layerCenter:d,scale:_,onSave:S,onUnselect:M,onOutsideClick:P}=e;const[T,x]=(0,y.useState)(a),[I,L]=(0,y.useState)(),D=(0,y.useRef)(),R=(0,y.useCallback)((()=>{S(T.replace(/^\n+/,"").replace(/\n+$/,""))}),[S,T]);(0,y.useImperativeHandle)(t,(()=>({save:()=>{R(),M()}})),[R,M]);const A=(0,E.useOnOutsideClickRef)((e=>{I||!1===(null==P?void 0:P(e))||(R(),M())})),N=e=>{const t=D.current;t&&t.replaceSelection(e)},j=()=>{L(null)},[F,B]=(0,b.default)((e=>{L({menu:y.default.createElement(s.EmojiPanel,{onEmoji:N,onFocusNext:j,onFocusPrev:j}),anchor:e.target})}));(0,y.useEffect)((()=>{var e;null===(e=D.current)||void 0===e||e.focus()}),[]);const W={left:d.x*_,top:d.y*_},H={color:n.textColor.toHex(),fontFamily:(0,u.getFontStyle)(n.font).fontFamily,textAlign:k(n.alignment),paddingLeft:n.styles.lineHorizontalPadding+1,paddingRight:n.styles.lineHorizontalPadding+1,paddingTop:1,paddingBottom:1,borderWidth:0,borderRadius:6,margin:0,boxSizing:"border-box",backgroundColor:n.textBackground?n.textBackgroundColor.toHex():void 0},z=n.styles.backgroundShadow,U=(0,i.default)((0,i.default)({},H),{},{boxShadow:n.textBackground?`${z.offsetX}px ${z.offsetY}px ${z.radius}px ${z.spread}px ${z.color.toRgbaString()}`:void 0}),V=function(e){const t=(0,C.default)(e),a=(0,y.useRef)(0);t&&!(0,l.default)(t,e)&&(a.current+=1);return a.current}(H),q=g.fbt._("Type something",null,{hk:"15NglL"});return y.default.createElement("div",{className:(0,v.default)(w.positioner),style:W},y.default.createElement("div",{className:(0,v.default)(w.container,m.uiPadding.all4)},y.default.createElement("div",{className:(0,v.default)(w.inputContainer),ref:A},y.default.createElement("div",(0,r.default)({className:(0,v.default)(w.emojiButton)},B,{ref:F}),y.default.createElement("div",{className:(0,v.default)(w.emojiButtonWrapper,m.uiPadding.all2)},y.default.createElement(f.SmileyIcon,null))),y.default.createElement("div",{className:(0,v.default)(w.inputWrapper),style:U},y.default.createElement(c.RichTextInput,{key:V,ref:D,textXstyle:w.inputText,initialText:T,onChange:e=>{x(e.text)},onEnter:R,multiline:!0,placeholder:q})),y.default.createElement(O,{layer:n,draftText:T,placeholderText:q,textStyle:H}))),I&&y.default.createElement(p.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:j},y.default.createElement(h.default,{contextMenu:(0,i.default)({dirY:o.DirY.TOP,type:o.MenuType.EmojiPicker},I)})))}));function k(e){switch(e){case u.TextAlignment.LEFT:return"left";case u.TextAlignment.CENTER:return"center";case u.TextAlignment.RIGHT:return"right"}}t.EditableText=S,S.displayName="EditableText";const M={boxSizing:"cm280p3y",whiteSpace:"bbv8nyr4",visibility:"kojwoqec"},P={whiteSpace:"ag95hn57"},T={display:"l7jjieqr",width:"cxkis295",height:"qgpfrw6h"};function O(e){let{draftText:t,layer:a,placeholderText:n,textStyle:r}=e,l=(0,i.default)((0,i.default)({},r),{},{fontSize:"17px",lineHeight:"25px",padding:"0 10px"});t||(l=(0,i.default)((0,i.default)({},l),{},{fontFamily:void 0,padding:"0 14px"}));const o=t||n.toString();return y.default.createElement("div",{className:(0,v.default)(M),style:l},(0,d.getLines)(o,a.font,a.fontSize,0).map(((e,t)=>y.default.createElement("div",{className:(0,v.default)(P),key:t},0===e.words.length?" ":e.words.map(((e,t)=>null!=e.emojiPath?y.default.createElement("span",{className:(0,v.default)(T),key:t}):e.text))))))}O.displayName="InputSpacer"},164781:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(102826),i=a(139519),l=n(a(667294));const o=new r.Color(82,248,24,1);function s(e){let{borderRadius:t,layer:a}=e;return l.default.createElement(i.Rect,{width:a.width,height:a.height,stroke:o.toRgbaString(),strokeWidth:2,cornerRadius:t,strokeScaleEnabled:!1})}s.displayName="HoveredState"},367838:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=a(139519),i=n(a(667294));function l(e){const{layer:t}=e;return i.default.createElement(r.Image,{width:t.width,height:t.height,image:t.image})}l.displayName="ImageCanvas"},769662:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasLayer=S;var r=n(a(778326)),i=a(153724),l=n(a(164781)),o=n(a(367838)),s=a(964643),u=n(a(119073)),d=n(a(699562)),c=n(a(861508)),f=n(a(780246)),p=a(477540),h=a(427698),m=a(950079),g=a(272802),y=a(398573),v=a(139519),E=n(a(261931)),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),b=n(a(38085));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}const w=[0,45,90,135,180,225,270,315];function S(e){var t,a,n,_;let{canvasRotation:S,dimension:k,editable:M,editing:P,hidden:T,layer:O,onDoubleClick:x,onDragEnd:I,onDragMove:L,onDragStart:D,onSelect:R,onTransformEnd:A,onTransformStart:N,scale:j,selected:F,selectedGroupRef:B,selectedNodeRef:W,stageHeight:H,stageWidth:z,textBackgroundShadow:U,transformerRef:V}=e;const[q,G]=(0,C.useState)(!1),[Y,K]=(0,C.useState)(null),X=(0,C.useContext)(i.CanvasContext),Z=(0,b.default)(B,W),Q=O instanceof p.BlurLayer,J=O instanceof m.ImageLayer&&(O.isSticker()||O.isBackground()),$=O.frame.getCenter(),ee=null!==(t=null==Y?void 0:Y.x)&&void 0!==t?t:O.x,te=null!==(a=null==Y?void 0:Y.y)&&void 0!==a?a:O.y,ae=null!==(n=null==Y?void 0:Y.width)&&void 0!==n?n:O.width,ne=null!==(_=null==Y?void 0:Y.height)&&void 0!==_?_:O.height;let re=5;J&&(re=40),Q&&(re=0);const ie=e=>{if(!F)return;const t=(0,y.getRotationFromGroup)(e),a=(0,y.getScaleFromGroup)(e);A(O,t,a,Y),Q&&K(null)},le=e=>{if(!F||!Q)return;const t=e.target;t.width(t.width()*t.scaleX()),t.height(t.height()*t.scaleY()),t.scaleX(1),t.scaleY(1);const a=f.default.create({x:ee+t.x(),y:te+t.y(),width:t.width(),height:t.height(),rotation:t.rotation(),scale:O.scale});t.x(0),t.y(0),K(a)};let oe,se,ue,de;M&&F&&!P&&(se=C.default.createElement(d.default,{layer:O,borderRadius:re,frame:Y}),de=C.default.createElement(v.Transformer,{key:"transformer",ref:V,anchorStroke:"blue",anchorFill:"white",anchorSize:8,anchorCornerRadius:4,borderEnabled:!1,centeredScaling:!Q,enabledAnchors:Q?["top-left","top-center","top-right","middle-left","middle-right","bottom-left","bottom-center","bottom-right"]:["bottom-right"],resizeEnabled:!0,rotateAnchorOffset:12,rotateEnabled:!Q,rotationSnaps:w,ignoreStroke:!0,rotationSnapTolerance:10,boundBoxFunc:(e,t)=>{const a=t.width/j,n=t.height/j;if(O instanceof g.TextLayer&&(a<=18||n<=18)||a<=36||n<=36)return e;if(Q){(0,E.default)(t,S),(0,E.default)(e,S);const a={x:{min:0,max:z-t.width},y:{min:0,max:H-t.height}};t.x<a.x.min?(t.width-=a.x.min-t.x,t.x=a.x.min):t.x>a.x.max&&(t.width-=t.x-a.x.max),t.y<a.y.min?(t.height-=a.y.min-t.y,t.y=a.y.min):t.y>a.y.max&&(t.height-=t.y-a.y.max),(0,E.default)(t,S,!0),(0,E.default)(e,S,!0)}return t},keepRatio:!Q})),M&&q&&!F&&(ue=C.default.createElement(l.default,{layer:O,borderRadius:re})),O instanceof m.ImageLayer?oe=C.default.createElement(o.default,{layer:O}):O instanceof p.BlurLayer?oe=C.default.createElement(r.default,{layer:O,scale:j,frame:Y,selectedNodeRef:F?W:null,showPadding:X.canEditBackground,onTransformStart:()=>N(O),onTransformEnd:ie,onTransform:le}):O instanceof h.DrawLayer?O.type===h.DrawLayerType.Paint?oe=C.default.createElement(u.default,{layer:O}):O.type===h.DrawLayerType.Outline&&(oe=C.default.createElement(s.Outline,{layer:O,dimension:k})):O instanceof g.TextLayer&&!P&&(oe=C.default.createElement(c.default,{layer:O,shadow:U})),T&&(oe=C.default.createElement(v.Rect,{width:O.width,height:O.height})),(0,C.useEffect)((()=>{P&&G(!1)}),[P,G]);let ce=null;return F&&(ce=Q?B:Z),C.default.createElement(C.default.Fragment,null,C.default.createElement(v.Group,{ref:ce,x:Q?ee:$.x,y:Q?te:$.y,offsetX:Q?0:ae/2,offsetY:Q?0:ne/2,width:ae,height:ne,rotation:O.rotation,scaleX:O.scale,scaleY:O.scale,draggable:M,dragBoundFunc:e=>{const t={x:{min:0,max:z},y:{min:0,max:H}};return Q&&(0===S?(t.x.max-=ae*j,t.y.max-=ne*j):90===S?(t.x.min+=ne*j,t.y.max-=ae*j):180===S?(t.x.min+=ae*j,t.y.min+=ne*j):(t.x.max-=ne*j,t.y.min+=ae*j)),e.x<t.x.min?e.x=t.x.min:e.x>t.x.max&&(e.x=t.x.max),e.y<t.y.min?e.y=t.y.min:e.y>t.y.max&&(e.y=t.y.max),e},onMouseEnter:e=>{!O.editable||X.dragging||X.transforming||(e.cancelBubble=!0,G(!0))},onMouseLeave:e=>{O.editable&&(e.cancelBubble=!0,G(!1))},onMouseDown:e=>{O.editable&&(e.cancelBubble=!0,R(O))},onDblClick:()=>x(O),onDragStart:()=>D(O),onDragEnd:e=>{const t=(0,y.getPointFromGroup)(e);I(O,t),Q&&K(null)},onDragMove:e=>{if(Q){const t=e.target;K(f.default.create({x:t.x(),y:t.y(),width:O.width,height:O.height,rotation:O.rotation,scale:O.scale}))}else L(O,e)},onTransformStart:()=>N(O),onTransformEnd:ie,onTransform:le},oe,se,ue),de)}S.displayName="CanvasLayer"},964643:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Outline=void 0;var r=n(a(594654)),i=n(a(846870)),l=n(a(780246)),o=a(139519),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function d(e,t){let{layer:a,dimension:n}=e;const u=(0,s.useRef)(),d=(0,s.useRef)();(0,s.useImperativeHandle)(t,(()=>({show(){var e;null===(e=u.current)||void 0===e||e.show()},hide(){var e;null===(e=u.current)||void 0===e||e.hide()},getBoundingRect(){const e=d.current;if(!e)return;const{x:t,y:n,width:r,height:i}=e.getClientRect();return l.default.create({x:t,y:n,width:r,height:i,rotation:a.rotation,scale:a.scale})}})));const c=(0,r.default)(a.getAllPoints(),(e=>[e.x,e.y]));return s.default.createElement(o.Group,{ref:u,width:a.width,height:a.height,visible:!1},s.default.createElement(o.Line,{ref:d,points:c,closed:!0,fill:"white",lineCap:"round",lineJoin:"round",tension:i.default.MEDIA_EDITOR_OUTLINE_TENSION,globalCompositeOperation:"destination-in"}))}const c=(0,s.forwardRef)(d);t.Outline=c,c.displayName="Outline"},554e3:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(967154)),i=n(a(594654)),l=n(a(846870)),o=n(a(503202)),s=a(102826),u=a(139519),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const f="dot-first",p="dot-last";function h(e,t){var a;let{width:n,height:c,scale:h,data:m,smoothing:y,onDrawEnd:v,onDone:E,onCursorChange:C}=e;const b=(0,d.useRef)(),_=(0,d.useRef)(!1),w=(0,d.useRef)("crosshair");(0,d.useEffect)((()=>{C("crosshair")}),[]),(0,d.useImperativeHandle)(t,(()=>({show(){var e;null===(e=b.current)||void 0===e||e.show()},hide(){var e;null===(e=b.current)||void 0===e||e.hide()}})));const{cursorPosition:S,points:k,handlers:M}=(0,o.default)({onDrawStart:()=>{_.current=!0},onDrawEnd:e=>{_.current=!1,v(e)},onDone:E,onMouseMove:e=>{const t=e.target.name()===f,a=_.current,n=t&&!a?"pointer":"crosshair";n!==w.current&&(w.current=n,C(n))},data:m,stage:null===(a=b.current)||void 0===a?void 0:a.getStage(),minPointDistance:12/h,clickThreshold:200,boundToStage:!0,doneTargets:{mousedown:[f,p],mouseup:[f]},pathStyle:{color:s.Color.White,thickness:0,smoothing:y}}),P=m.outlineLayer.getAllPoints().map((e=>m.toScreenPoint(e)));!y&&P.length&&P.push(P[P.length-1]);Boolean(k.length)&&P.push(k[0]),P.push(...k);const T=[...P];!y&&T.length&&T.push(T[T.length-1]),S&&T.push(S);const O=(0,i.default)(T,(e=>[e.x,e.y]));return d.default.createElement(u.Layer,(0,r.default)({ref:b,key:"paintCursor"},M,{width:n,height:c}),d.default.createElement(u.Rect,{x:0,y:0,width:n,height:c,fill:"rgba(0,0,0,0)"}),d.default.createElement(u.Line,{points:O,lineCap:"round",lineJoin:"round",stroke:"#FA6533",strokeWidth:3/h,dash:[12/h,6/h],tension:l.default.MEDIA_EDITOR_OUTLINE_TENSION}),d.default.createElement(g,{points:P,scale:h}))}var m=(0,d.forwardRef)(h);function g(e){let{points:t,scale:a}=e;if(!t.length)return null;const n=t[0],r=t[t.length-1],i=3/a;return d.default.createElement(d.default.Fragment,null,undefined,d.default.createElement(u.Circle,{name:p,x:r.x,y:r.y,radius:i}),d.default.createElement(u.Circle,{x:n.x,y:n.y,radius:i,stroke:"white"}),d.default.createElement(u.Circle,{name:f,x:n.x,y:n.y,radius:4*i}))}t.default=m,g.displayName="ClosingPoints"},119073:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=a(139519),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(667294));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function l(e){let{layer:t}=e;const a=(0,r.useMemo)((()=>{const e=document.createElement("canvas");return e.width=Math.max(t.width,1),e.height=Math.max(t.height,1),e}),[t.width,t.height]),i=(0,r.useRef)();return(0,r.useEffect)((()=>{var e,n;a.getContext("2d").clearRect(0,0,a.width,a.height),t.paths.forEach((e=>function(e,t){const{points:a}=t;if(!a.length)return;const n=e.getContext("2d"),r={color:t.color,thickness:t.thickness,smoothing:!1};(function(e,t){e.lineCap="round",e.lineJoin="round",e.lineWidth=t.thickness,e.strokeStyle=t.color.toHex()})(n,r),n.beginPath(),n.moveTo(a[0].x,a[0].y),a.forEach((e=>n.lineTo(e.x,e.y))),n.stroke()}(a,e))),null===(e=i.current)||void 0===e||null===(n=e.getLayer())||void 0===n||n.batchDraw()}),[t.paths,a]),r.default.createElement(n.Image,{ref:i,width:t.width,height:t.height,image:a,listening:!1})}l.displayName="PaintCanvas"},551004:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(967154)),i=n(a(594654)),l=n(a(503202)),o=a(139519),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d=(e,t)=>{var a;let{width:n,height:u,scale:d,pathStyle:c,data:f,onDrawEnd:p}=e;const h=(0,s.useRef)(),m=(0,s.useRef)();(0,s.useImperativeHandle)(t,(()=>({toggleCursor(e){const t=m.current;t&&(e?t.show():t.hide())}})));const{cursorPosition:g,points:y,handlers:v}=(0,l.default)({onDrawEnd:p,data:f,pathStyle:c,stage:null===(a=h.current)||void 0===a?void 0:a.getStage()}),E=(0,i.default)(y,(e=>[e.x,e.y]));return s.default.createElement(o.Layer,(0,r.default)({ref:h,key:"paintCursor"},v,{width:n,height:u}),s.default.createElement(o.Rect,{width:n,height:u,fill:"rgba(0, 0, 0, 0)"}),g&&s.default.createElement(o.Circle,{ref:m,x:g.x,y:g.y,radius:c.thickness/2,fill:c.color.toRgbaString()}),s.default.createElement(o.Line,{points:E,lineCap:"round",lineJoin:"round",stroke:c.color.toRgbaString(),strokeWidth:c.thickness}))};var c=(0,s.forwardRef)(d);t.default=c},699562:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(477540),i=a(102826),l=a(139519),o=n(a(667294));const s=new i.Color(82,248,24,1),u=new i.Color(82,248,24,.1),d=new i.Color(0,0,0,0);function c(e){var t,a;let{borderRadius:n,frame:i,layer:c}=e;return o.default.createElement(l.Rect,{width:null!==(t=null==i?void 0:i.width)&&void 0!==t?t:c.width,height:null!==(a=null==i?void 0:i.height)&&void 0!==a?a:c.height,fill:(c instanceof r.BlurLayer?d:u).toRgbaString(),stroke:s.toRgbaString(),strokeWidth:2,cornerRadius:n,strokeScaleEnabled:!1})}c.displayName="SelectedState"},861508:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=a(490836),r=a(139519),i=a(920202),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e){let{emojiImages:t,layer:a,line:o}=e;const s=Math.max(...a.lineWidths);let u=0;switch(a.alignment){case n.TextAlignment.LEFT:u=0;break;case n.TextAlignment.CENTER:u=(s-o.width)/2;break;case n.TextAlignment.RIGHT:u=s-o.width}let d=0;return o.words.map(((e,o)=>{let{text:s,emojiPath:c,width:f}=e;const p=u+a.styles.lineHorizontalPadding+d,h=a.styles.lineVerticalPadding;let m;if(c){const e=t[c];m=e?l.default.createElement(r.Image,{key:o,x:p,y:h,width:a.lineHeight,height:a.lineHeight,image:e}):l.default.createElement(r.Rect,{key:o,x:p,y:h,width:a.lineHeight,height:a.lineHeight,fill:"rgba(0,0,0,0)"})}else{const e=(0,i.getTextBounds)(a.font,a.fontSize);m=l.default.createElement(r.Text,{key:o,x:p,y:h-e.top+(e.top+e.bottom)/2,width:f,height:a.lineHeight,text:s,fill:a.textColor.toHex(),fontFamily:(0,n.getFontStyle)(a.font).fontFamily,fontSize:a.fontSize})}return d+=f,m}))}function u(e){let{layer:t,shadow:a}=e;const n=function(e){const t=[];for(const a of e)for(const{emojiPath:e}of a.words)e&&t.push(e);return function(e){const t=Array.from(new Set(e)),a=t.join(""),n=(0,l.useRef)({}),[,r]=(0,l.useState)(0);return(0,l.useEffect)((()=>{n.current={},r(0),t.forEach((e=>{const t=new Image;t.onload=()=>{n.current[e]=t,r(Object.keys(n.current).length)},t.src=e}))}),[r,a]),n.current}(t)}(t.lines),i=t.lines.map(((e,a)=>{const i=e.width+2*t.styles.lineHorizontalPadding,o=t.lineHeight+2*t.styles.lineVerticalPadding;return l.default.createElement(r.Group,{width:i,height:o,y:a*o,key:a},l.default.createElement(s,{line:e,layer:t,emojiImages:n}))})),{backgroundShadow:o}=t.styles;return l.default.createElement(r.Group,{visible:0!==t.width,width:t.width,height:t.height},l.default.createElement(r.Group,{x:t.styles.layerPadding,y:t.styles.layerPadding},t.textBackground&&(a?l.default.createElement(r.Path,{key:"1",data:t.backgroundPath,stroke:t.textBackgroundColor.toHex(),fill:t.textBackgroundColor.toHex(),shadowColor:o.color.toHex(),shadowBlur:o.radius,shadowOffset:{x:o.offsetX,y:o.offsetY},shadowOpacity:o.color.alpha}):l.default.createElement(r.Path,{key:"2",data:t.backgroundPath,stroke:t.textBackgroundColor.toHex(),fill:t.textBackgroundColor.toHex()})),i))}s.displayName="Words",u.displayName="TextCanvas"},95713:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(102826),r=a(139519),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}const o=new n.Color(230,230,230).toRgbString(),s=new n.Color(255,255,255).toRgbString();function u(e,t){let{width:a,height:n}=e;const l=(0,i.useRef)();(0,i.useImperativeHandle)(t,(()=>({hide(){var e;null===(e=l.current)||void 0===e||e.hide()},show(){var e;null===(e=l.current)||void 0===e||e.show()}})));const u=(0,i.useMemo)((()=>{const e=document.createElement("canvas");return e.width=Math.max(a,1),e.height=Math.max(n,1),e}),[a,n]);return(0,i.useEffect)((()=>{var e,t;const r=u.getContext("2d");r.clearRect(0,0,u.width,u.height);const i=20,d=Math.ceil(a/i),c=Math.ceil(n/i);for(let e=0;e<c;e++)for(let t=0;t<d;t++){const a=(e+t)%2==0?s:o;r.beginPath(),r.rect(t*i,e*i,i,i),r.fillStyle=a,r.fill()}null===(e=l.current)||void 0===e||null===(t=e.getLayer())||void 0===t||t.batchDraw()}),[u,a,n]),i.default.createElement(r.Image,{ref:l,width:a,height:n,image:u})}var d=(0,i.forwardRef)(u);t.default=d},503202:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onDrawStart:t,onDrawEnd:a,onDone:n,onMouseMove:d,data:c,minPointDistance:f=0,clickThreshold:p=0,boundToStage:h=!1,pathStyle:m,stage:g,doneTargets:y={}}=e;const[v,E]=(0,l.useState)(),C=(0,l.useRef)([]),b=(0,l.useRef)(!1),_=(0,o.default)(),w=(0,s.default)(p),S=(0,l.useRef)(!1);return(0,u.useListener)(window,"mouseup",(()=>{if(b.current=!1,0!==C.current.length){const e=C.current.map((e=>c.toCanvasPoint(e)));a((0,r.default)({points:e},m)),C.current=[],_()}})),(0,u.useListener)(window,"mousemove",(e=>{const t=(0,i.getPointFromStage)(e,g,h),a=h&&b.current;if(E(a?(0,i.getPointFromStage)(e,g,!0):t),b.current){const e=C.current,a=e[e.length-1];(!a||a.distance(t)>=f&&w()||(0,i.isStageCorner)(t,g))&&e.push(t)}})),(0,l.useEffect)((()=>{S.current&&(null==n||n(),S.current=!1)})),{cursorPosition:v,points:C.current,handlers:{onMouseDown:e=>{var a;if(null==t||t(),null===(a=y.mousedown)||void 0===a?void 0:a.includes(e.target.name()))return void(null==n||n());const r=(0,i.getPointFromStage)(e.evt,g,h);C.current.push(r),b.current=!0,_()},onMouseUp:e=>{var t;const a=!0===(null===(t=y.mouseup)||void 0===t?void 0:t.includes(e.target.name())),n=1===C.current.length;a&&!n&&(S.current=!0)},onMouseMove:e=>{null==d||d(e)}}}};var r=n(a(81109)),i=a(398573),l=a(667294),o=n(a(969651)),s=n(a(173845)),u=a(808446)},695710:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThicknessType=void 0,t.getAllThicknesses=function(){return Array.from(n.members())},t.getThicknessValue=function(e){switch(e){case n.SMALL:return 8;case n.MEDIUM:return 12;case n.LARGE:return 18;case n.XLARGE:return 24}};const n=a(76672).Mirrored(["SMALL","MEDIUM","LARGE","XLARGE"]);t.ThicknessType=n},792339:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(595069),i=a(396574),l=n(a(929087)),o=a(937484),s=a(373070),u=a(163139),d=a(708233),c=a(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),p=a(655241);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const{IMAGE:m,VIDEO:g,AUDIO:y}=s.MSG_TYPE;function v(e){var t,a;let{attachMedia:n}=e;const s=(0,p.useModelValues)(n,["mimetype","preview","type","fullPreview","fullPreviewSize","documentPageCount"]);let u;if(s.type===m)u=s.preview;else if(s.type===g)u=`data:image/jpeg;base64,${s.preview}`;else if("pdf"===(0,o.previewType)(s.mimetype)){s.fullPreview&&s.fullPreviewSize&&null!=s.documentPageCount&&s.documentPageCount>0&&(u=s.fullPreview)}if(u)return f.default.createElement("div",{className:l.default.body},f.default.createElement("img",{src:u,alt:c.fbt._("Preview",null,{hk:"1wMxOr"})}));if(s.type===y)return f.default.createElement("div",{className:l.default.body},f.default.createElement(r.AudioFileIcon,null));const d=(0,i.classnamesConvertMeToStylexPlease)(l.default.body,l.default.bodyIcon,null!==(t=null===(a=o.DOCUMENT_MIMETYPES[s.mimetype])||void 0===a?void 0:a.icon)&&void 0!==t?t:"icon-doc-generic");return f.default.createElement("div",{className:d})}function E(e,t){const{attachMedia:a,onClick:n,onClose:r}=e;return f.default.createElement("button",{className:(0,i.classnamesConvertMeToStylexPlease)({[l.default.active]:e.active,[l.default.thumb]:!0}),onClick:e=>{n((0,u.unproxy)(a),e)},"aria-label":c.fbt._("Image Thumbnail",null,{hk:"1KyQD6"}),ref:t},f.default.createElement("div",{className:l.default.btnDelete,onClick:e=>{r((0,u.unproxy)(a),e)},role:"button"},f.default.createElement(d.XAltIcon,null)),f.default.createElement("div",{className:l.default.bodyWrapper},f.default.createElement(v,{attachMedia:a})))}v.displayName="Body";var C=(0,f.forwardRef)(E);t.default=C},301667:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(a(792339)),i=a(373070),l=n(a(667294)),o=a(299420),s=n(a(969651));const u=(0,o.SortableElement)((e=>{let{children:t}=e;return t})),d=(0,o.SortableContainer)((e=>{let{children:t}=e;return t}));function c(e){const{mediaCollection:t,className:a,onElementRef:n,onClick:o,onClose:c}=e,f=t.getPreviewableMedias(),p=(0,s.default)();return l.default.createElement(d,{onSortEnd:e=>{const{oldIndex:a,newIndex:n}=e;t.reorder(a,n),p()},axis:"x",helperClass:"SortableHelper",distance:10},l.default.createElement("div",{className:a},f.map(((e,a)=>{var s;return l.default.createElement(u,{key:e.id,index:a},l.default.createElement(r.default,{attachMedia:e,active:e===t.getActive(),previewMode:(null===(s=t.getActive())||void 0===s?void 0:s.type)!==i.MSG_TYPE.IMAGE,onClick:o,onClose:c,ref:t=>n(e.id,t)}))}))))}c.displayName="DragAndDrop"},763560:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(a(569389)),i=n(a(539858)),l=n(a(356281)),o=n(a(667294));function s(e){let{item:t,onClose:a}=e;const{mimetype:n,fullPreview:s}=t;return o.default.createElement("div",{className:i.default.container},o.default.createElement(l.default,{onClose:a}),o.default.createElement(r.default,{mimeType:n,url:s}))}s.displayName="AudioBody"},91801:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(a(849664)),i=n(a(31579)),l=n(a(527539)),o=n(a(862981)),s=a(139519),u=a(372682),d=n(a(556869)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p=new l.default({width:200,height:200}),h=10;function m(e){let{containerSize:t,cropOrigin:a,cropSize:n,data:f,keepRatio:m,onCropChange:v,rotation:E,sendAsSticker:C}=e;const b=f.resetCropRotate().setRotation(E),_=(0,c.useRef)(),w=(0,c.useRef)(),{width:S,height:k}=n,{x:M,y:P}=a,T=(0,c.useRef)(n),O=S/T.current.width,x=k/T.current.height,I=f.width,L=f.height,{width:D,height:R}=g(I,L,E),A=new l.default({width:t.width-20,height:t.height-20}),N=(0,u.calculateContainScale)(E%180?L:I,E%180?I:L,A,p),j=h/N,F=new l.default({width:I+2*j,height:L+2*j}),{width:B,height:W}=g(F.width,F.height,E),H=F.width/2,z=F.height/2;(0,c.useEffect)((()=>{const e=_.current,t=w.current;var a;e&&t&&0===e.nodes().length&&(e.nodes([t]),null===(a=t.getLayer())||void 0===a||a.batchDraw())}));const U=e=>{const{target:t}=e,a=Math.round(t.x()),n=Math.round(t.y()),r=Math.min(Math.round(t.width()*t.scaleX()),I-a),o=Math.min(Math.round(t.height()*t.scaleY()),L-n);v(new i.default({x:a,y:n}),new l.default({width:r,height:o}))},V=["top-left","top-right","bottom-left","bottom-right"];return m||V.push("top-center","middle-right","middle-left","bottom-center"),c.default.createElement("div",{className:o.default.container},c.default.createElement(r.default,{data:b,scale:N,canEditLayer:!1,style:{padding:h},outlineEnabled:C}),c.default.createElement(s.Stage,{className:o.default.cropperContainer,width:Math.round(B*N),height:Math.round(W*N),scaleX:N,scaleY:N},c.default.createElement(s.Layer,{key:"cropper",rotation:E,offsetX:H,offsetY:z,x:B/2,y:W/2},c.default.createElement(s.Group,{x:j,y:j},c.default.createElement(s.Rect,{x:0,y:0,width:I,height:L,fill:"black",opacity:.6}),c.default.createElement(s.Rect,{ref:w,fill:"red",x:M,y:P,width:T.current.width,height:T.current.height,scaleX:O,scaleY:x,draggable:!0,dragBoundFunc:e=>{const{width:t,height:a}=g(S,k,E);let{x:n,y:r}=function(e,t,a,n,r){switch((r%360+360)%360){case 0:return{x:e,y:t};case 90:return{x:e-a,y:t};case 180:return{y:t-n,x:e-a};case 270:return{x:e,y:t-n};default:throw(0,d.default)("Unsupported angle")}}(e.x,e.y,t*N,a*N,E);n<h?n=h:(n-h)/N+t>D&&(n=Math.round(D-t+j)*N),r<h?r=h:(r-h)/N+a>R&&(r=Math.round(R-a+j)*N);return function(e,t,a,n,r){switch((r%360+360)%360){case 0:return{x:e,y:t};case 90:return{x:e+a,y:t};case 180:return{y:t+n,x:e+a};case 270:return{x:e,y:t+n};default:throw(0,d.default)("Unsupported angle")}}(n,r,t*N,a*N,E)},onTransformEnd:U,onDragEnd:U,globalCompositeOperation:"destination-out"}),c.default.createElement(s.Transformer,{key:"transformer",ref:_,anchorStroke:"blue",anchorFill:"white",anchorSize:10,anchorCornerRadius:5,borderEnabled:!1,centeredScaling:!1,resizeEnabled:!0,rotateEnabled:!1,ignoreStroke:!0,boundBoxFunc:(e,t)=>{const a=I*N+20,n=L*N+20,r=y(e,a,n,E,-E),i=y(t,a,n,E,-E);return Math.round(i.x)<h?(i.x=h,i.width=r.width+(r.x-h)):Math.round(i.width)<20?(i.x=r.x,i.width=r.width):Math.round(i.x+i.width)>Math.round(a)-h&&(i.width=a-i.x-h),Math.round(i.y)<h?(i.y=h,i.height=r.height+(r.y-h)):Math.round(i.height)<20?(i.y=r.y,i.height=r.height):Math.round(i.y+i.height)>Math.round(n)-h&&(i.height=n-i.y-h),y(i,a,n,0,E)},keepRatio:m,enabledAnchors:V})))))}function g(e,t,a){return{width:a%180==0?e:t,height:a%180==0?t:e}}function y(e,t,a,n,r){const l=Math.max(t,a),o=g(t,a,n),s=(l-o.width)/2,u=(l-o.height)/2,d=new i.default({x:e.x+s,y:e.y+u}),c=new i.default({x:l/2,y:l/2}),f=d.rotate(c,r),p=g(t,a,n+r),h=(l-p.width)/2,m=(l-p.height)/2;return{x:f.x-h,y:f.y-m,width:e.width,height:e.height,rotation:e.rotation}}m.displayName="CropRotatePreview"},915373:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var r=a(690495),i=a(781035),l=n(a(278791)),o=n(a(539858)),s=n(a(356281)),u=a(97858),d=a(373070),c=a(330734),f=a(420260),p=a(127481),h=a(258976),m=a(723845),g=a(145945),y=a(907935),v=a(548360),E=n(a(667294)),C=n(a(156720)),b=a(655241);const _={body:{flexGrow:"ggj6brxn",width:"ln8gz9je"},previewContainer:{boxSizing:"cm280p3y",paddingTop:"gq7nj7y3",paddingEnd:"ij4mqf17",paddingBottom:"eynyaxvo",paddingStart:"emy6cf64",color:"jmly3brn",backgroundColor:"qqs366u4",borderTopStartRadius:"ikqdvm1y",borderTopEndRadius:"m3qqxsiz",borderBottomEndRadius:"r1ncx0sg",borderBottomStartRadius:"mmj7r7ye"},previewIcon:{marginBottom:"du8bjn1j"},header:{marginTop:"opp68qpq",marginEnd:"jnwc1y2a",marginBottom:"brac1wpa",marginStart:"svoq16ka",fontSize:"q9lllk4z"},metadata:{fontSize:"f8jlpxt4"},footer:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"pazt69qo",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u"}};function w(e){let{attachMedia:t,chat:a,fileExt:n,filename:w,filesize:S,mimeType:k,onCaptionChange:M,onClose:P,onEnter:T,onFiles:O,onToggleViewOnce:x,setCaptionInputRef:I}=e;const{caption:L}=(0,b.useModelValues)(t,["caption"]);let D;const R=null!=S?(0,i.getL10nFilesize)(S):"",A=function(e){switch(e){case"text/plain":return E.default.createElement(y.PreviewTxtIcon,null);case"text/rtf":case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return E.default.createElement(p.PreviewDocIcon,null);case"text/csv":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return E.default.createElement(m.PreviewSheetIcon,null);case"application/vnd.ms-powerpoint":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return E.default.createElement(g.PreviewSlidesIcon,null);case"audio/aac":case"audio/mp4":case"audio/amr":case"audio/mpeg":case"audio/ogg; codecs=opus":case"audio/wav":return E.default.createElement(c.PreviewAudioIcon,null);case"application/zip":return E.default.createElement(f.PreviewCompressedIcon,null);default:return E.default.createElement(h.PreviewGenericIcon,null)}}(k);return(0,u.documentWithCaptionsSendEnabled)()&&(D=E.default.createElement("div",{className:(0,C.default)(_.footer)},E.default.createElement(l.default,{key:t.id,chat:a,caption:L,viewOnce:!1,viewOnceDisabled:!0,msgType:d.MSG_TYPE.DOCUMENT,theme:"document",onToggleViewOnce:x,onChange:M,onEnter:T,onFiles:O,setCaptionInputRef:e=>{I(t.id,e)}}))),E.default.createElement("div",{className:o.default.container},E.default.createElement(s.default,{onClose:P,filename:w}),E.default.createElement(r.FlexColumn,{xstyle:_.body,align:"center",justify:"center"},E.default.createElement(r.FlexColumn,{className:(0,C.default)(_.previewContainer),align:"center",justify:"center"},E.default.createElement("div",{className:(0,C.default)(_.previewIcon)},A),E.default.createElement("div",{className:(0,C.default)(_.header)},v.fbt._("No preview available",null,{hk:"3NAVbb"})),E.default.createElement("div",{className:(0,C.default)(_.metadata)},R,null!=n&&""!==n?` - ${n.toUpperCase()}`:null))),D)}w.displayName="FileBody"},356281:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(a(932325)),i=a(220584),l=a(763389),o=a(548360),s=n(a(667294)),u=n(a(156720));const d={display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",minHeight:"cl7oiv0o",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u",backgroundColor:"ej3x2ktq"},c={display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n"},f={fontSize:"f8jlpxt4",color:"tl2vja3b"},p={marginTop:"hymafltn",fontSize:"dsh4tgtl",color:"pm5hny62"},h={cursor:"ajgl1lbb"};function m(e){const{filename:t,pageCount:a}=e;let n=null;return null!=a&&a>0&&(n=o.fbt._({"*":"{count} Pages",_1:"{count} Page"},[o.fbt._plural(a),o.fbt._param("count",r.default.n(a))],{hk:"fZM9c"})),s.default.createElement("div",{className:(0,u.default)(d)},s.default.createElement("button",{"aria-label":o.fbt._("Close",null,{hk:"17RE2w"}),onClick:e.onClose,className:(0,u.default)(h)},s.default.createElement(l.XIcon,{"aria-hidden":!0,color:i.SvgColorProp.SECONDARY})),s.default.createElement("div",{className:(0,u.default)(c)},t&&s.default.createElement("span",{className:(0,u.default)(f)},t),null!=n&&s.default.createElement("span",{className:(0,u.default)(p)},n)))}m.displayName="Header"},402420:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(a(535355)),i=a(690495),l=n(a(469733)),o=n(a(278791)),s=n(a(915373)),u=n(a(356281)),d=a(97858),c=a(373070),f=n(a(667294)),p=(n(a(156720)),a(655241));const h={container:{position:"g0rxnol2",overflowX:"gfz4du6o",overflowY:"r7fjleex",height:"ppled2lx"},containerElements:{width:"ln8gz9je"},footer:{position:"g0rxnol2",minHeight:"pazt69qo",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u"}};function m(e){let{attachMedia:t,chat:a,item:n,onCaptionChange:m,onClose:g,onEnter:y,onFiles:v,onToggleViewOnce:E,setCaptionInputRef:C}=e;const{mimetype:b,fullPreview:_,fullPreviewSize:w,documentPageCount:S,filename:k}=n,{caption:M}=(0,p.useModelValues)(t,["caption"]);if(!(_&&w&&null!=S&&S>0))return f.default.createElement(s.default,{mimeType:n.mimetype,filesize:n.filesize,filename:n.filename,fileExt:n.fileExt,onClose:g,attachMedia:n,chat:a,onCaptionChange:m,onEnter:y,setCaptionInputRef:C,onToggleViewOnce:E,onFiles:v});const P=(0,d.documentWithCaptionsSendEnabled)()&&!a.contact.isEnterprise?f.default.createElement(o.default,{key:t.id,chat:a,caption:M,viewOnce:!1,viewOnceDisabled:!0,msgType:c.MSG_TYPE.DOCUMENT,theme:"document",onToggleViewOnce:E,onChange:m,onEnter:y,onFiles:v,setCaptionInputRef:e=>{C(t.id,e)}}):null;return f.default.createElement(i.FlexColumn,{xstyle:h.container,justify:"all",align:"center"},f.default.createElement(l.default,{xstyle:h.containerElements},f.default.createElement(u.default,{onClose:g,filename:k,pageCount:S})),f.default.createElement(r.default,{fullPreview:_,fullPreviewSize:w,pageCount:S,showPageCount:!1,showBorder:!0,mimeType:b,filename:k}),f.default.createElement(i.FlexRow,{xstyle:[h.footer,h.containerElements],justify:"center",align:"center"},P))}m.displayName="PdfBody"},913466:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(a(110535)),i=a(952543),l=n(a(278791)),o=n(a(356281)),s=n(a(581530)),u=a(373070),d=n(a(667294)),c=a(655241);const{PROCESSING:f}=i.ATTACH_MEDIA_STATE;function p(e){let{attachMedia:t,chat:a,expandedTextFormatsEnabled:n,internLinksEnabled:i,multiline:p,onCaptionChange:h,onClose:m,onEnter:g,onFiles:y,onToggleViewOnce:v,phoneNumbersEnabled:E,setCaptionInputRef:C,viewOnce:b,viewOnceDisabled:_}=e;const{caption:w}=(0,c.useModelValues)(t,["caption"]);return d.default.createElement("div",{className:s.default.container},d.default.createElement(o.default,{onClose:m}),d.default.createElement(r.default,{mimeType:t.mimetype,url:t.fullPreview,isGif:t.isGif,size:t.fullPreviewSize,processing:t.state===f,preview:t.preview}),d.default.createElement("div",{className:s.default.footer},d.default.createElement(l.default,{key:t.id,chat:a,caption:w,viewOnce:b,viewOnceDisabled:_,msgType:u.MSG_TYPE.VIDEO,theme:"video",onToggleViewOnce:v,onChange:h,onEnter:g,onFiles:y,setCaptionInputRef:e=>{C(t.id,e)},internLinksEnabled:i,phoneNumbersEnabled:E,expandedTextFormatsEnabled:n,multiline:p})))}p.displayName="VideoBody"},70882:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TextToolbar=void 0;var r=a(287461),i=a(431037),l=a(358369),o=a(490836),s=a(204954),u=a(500713),d=n(a(429600)),c=a(691984),f=n(a(205370)),p=a(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function g(){return(0,r.getABPropConfigValue)("web_improved_text_tool_enabled")}function y(e,t){const a=(0,h.useRef)(null),n=(0,h.useRef)(null);(0,h.useImperativeHandle)(t,(()=>({isColorPanelVisible(){var e,t;return null!==(e=null===(t=a.current)||void 0===t?void 0:t.isPanelVisible())&&void 0!==e&&e},isFontMenuVisible(){var e,t;return null!==(e=null===(t=n.current)||void 0===t?void 0:t.isMenuVisible())&&void 0!==e&&e}})));const r=(0,l.getAllColors)().map((e=>{const t=(0,l.getColorValue)(e),a=(0,l.getColorValue)(t.isLight()?l.ColorType.BLACK:l.ColorType.WHITE);return{primaryColor:t,secondaryColor:a}}));return h.default.createElement(h.default.Fragment,null,h.default.createElement(d.default,{ref:a,colors:r,onColorSelect:e.onTextColorSelect,selectedColor:e.textLayer.textColor}),g()&&h.default.createElement(s.AlignmentToolbar,{activeAlignment:e.textLayer.alignment,onSelect:e.onAlignmentSelect}),h.default.createElement(c.Font,{ref:n,fonts:(0,o.getAllFonts)(),selectedFont:e.textLayer.font,selectedAlignment:e.textLayer.alignment,onFontSelect:e.onFontSelect,onAlignmentSelect:e.onAlignmentSelect,showImprovedToolbar:g()}),h.default.createElement(f.default,{checked:e.textLayer.textBackground,onBackgroundToggle:e.onTextBackgroundToggle}),h.default.createElement(u.ToolbarButton,{icon:h.default.createElement(i.DeleteIcon,{displayInline:!0}),title:p.fbt._("Delete",null,{hk:"1XGJJN"}),onClick:e.onDeleteLayer}))}const v=(0,h.forwardRef)(y);t.TextToolbar=v,v.displayName="TextToolbar"},204954:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignmentToolbar=m;var r=n(a(506479)),i=a(379278),l=a(855134),o=a(247815),s=a(490836),u=a(500713),d=n(a(667294));n(a(156720));const c=["alignment"],f={icon:{color:"emmn1ebo",transform:"op4y25zq"}};function p(e){let{alignment:t}=e,a=(0,r.default)(e,c);switch(t){case s.TextAlignment.LEFT:return d.default.createElement(l.AlignLeftAltIcon,a);case s.TextAlignment.RIGHT:return d.default.createElement(o.AlignRightAltIcon,a);case s.TextAlignment.CENTER:return d.default.createElement(i.AlignCenterAltIcon,a)}}p.displayName="AlignmentIcon";const h=Array.from(s.TextAlignment.members());function m(e){const{activeAlignment:t,onSelect:a}=e;return d.default.createElement(u.ToolbarRoundButton,{onClick:()=>{var e;const n=h.indexOf(t),r=null!==(e=h[n+1])&&void 0!==e?e:h[0];a(r)}},d.default.createElement(p,{xstyle:f.icon,alignment:t}))}m.displayName="AlignmentToolbar"},580716:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BlurToolbar=t.BLUR_MIN_RADIUS=t.BLUR_MAX_RADIUS=t.BLUR_DEFAULT_RADIUS=t.BLUR_DEFAULT_MODE=void 0;var r=n(a(670983)),i=a(676983),l=a(664149),o=a(675085),s=a(690495),u=a(576190),d=a(877531),c=a(477540),f=a(500713),p=n(a(563389)),h=a(392632),m=n(a(37875)),g=a(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),v=n(a(156720));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}t.BLUR_MIN_RADIUS=10;t.BLUR_MAX_RADIUS=100;t.BLUR_DEFAULT_RADIUS=50;const C=c.BlurMode.Pixelate;t.BLUR_DEFAULT_MODE=C;const b={blurModeBtn:{paddingTop:"gaujl5hk",paddingBottom:"p9a4hubg",paddingStart:"kjjye8e3",paddingEnd:"tcyu26xv",":hover":{backgroundColor:"cjq3wztw"}},blurModeBtnDivider:{width:"c97dh06e",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},blurModeIconContainer:{marginEnd:"rvlagp7p"},blurModeIcon:{width:"i94gqilv",height:"bmot90v7"},checkmarkIcon:{width:"i0x3nve6",height:"ilf8vifs"},slider:{paddingStart:"sta02ykp",paddingEnd:"a5i9q28d"}};function _(e,t){let{blurMode:a,blurRadius:n,onBlurModeChange:E,onBlurRadiusChange:C}=e;const[_,w]=(0,y.useState)(null),S=(0,y.useRef)(null),k=()=>Boolean(_);(0,y.useImperativeHandle)(t,(()=>({isPanelVisible:k})));const M=a===c.BlurMode.Smooth?d.MediaEditorBlurSmoothIcon:u.MediaEditorBlurPixelateIcon;return y.default.createElement(s.FlexRow,{align:"center"},y.default.createElement(f.ToolbarButton,{ref:S,onClick:e=>{e.preventDefault();const t={menu:Array.from(c.BlurMode.members()).map((e=>{const t=e===c.BlurMode.Smooth?d.MediaEditorBlurSmoothIcon:u.MediaEditorBlurPixelateIcon;return y.default.createElement(o.DropdownItem,{testid:`${String(e).toLowerCase()}-mode-button`,key:e,action:t=>((e,t)=>{e.preventDefault(),E(t)})(t,e)},y.default.createElement(s.FlexRow,{align:"center",className:(0,v.default)(b.blurModeBtn)},y.default.createElement(t,{xstyle:b.blurModeIconContainer,iconXstyle:b.blurModeIcon}),e===a&&y.default.createElement(i.CheckmarkMediumIcon,{iconXstyle:b.checkmarkIcon})))})),dirX:l.DirX.CENTER,dirY:l.DirY.TOP,offsetY:-5,anchor:(0,r.default)(S.current,"blurModePickerButtonRef.current")};w(t)},caret:_?"down":"up",icon:y.default.createElement(M,{iconXstyle:b.blurModeIcon,displayInline:!0}),title:g.fbt._("Blur Mode",null,{hk:"a35qL"})},y.default.createElement("div",{className:(0,v.default)(b.blurModeBtnDivider)})),y.default.createElement("div",{className:(0,v.default)(b.slider)},y.default.createElement(p.default,{min:10,max:100,value:n,onChange:(e,t)=>{C(e,t)},displayValue:!0})),_&&y.default.createElement(h.UIE,{displayName:"BlurModePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{w(null)}},y.default.createElement(m.default,{contextMenu:_})))}const w=(0,y.forwardRef)(_);t.BlurToolbar=w,w.displayName="BlurToolbar"},500713:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButton=void 0,t.ToolbarRoundButton=h;var r=a(774650),i=a(396574),l=a(690495),o=n(a(625903)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),u=n(a(156720));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c={container:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",paddingTop:"fbgy3m38",paddingEnd:"ft2m32mm",paddingBottom:"oq31bsqd",paddingStart:"nu34rnf1",fontSize:"bze30y65",lineHeight:"cr2cog7z",cursor:"ajgl1lbb",borderTopStartRadius:"g130k69c",borderTopEndRadius:"k1a7joe8",borderBottomEndRadius:"dc5qina8",borderBottomStartRadius:"kfr1vweg",":hover":{backgroundColor:"cjq3wztw"},":active":{backgroundColor:"jrrt430a"}},selected:{backgroundColor:"ll2o05za"},disabled:{opacity:"n791o4v8",":hover":{backgroundColor:"mln0jq66"},":active":{backgroundColor:"kuwt7ppc"}},icon:{width:"i94gqilv",height:"bmot90v7"},rotate:{transform:"hhgrpsx0"},body:{flexGrow:"ggj6brxn",height:"bmot90v7",marginTop:"tt8xd2xn",marginEnd:"mw4yctpw",marginBottom:"mpdn4nr2",marginStart:"qnz2jpws",lineHeight:"pvbam5uh",textAlign:"qfejxiq4"}},f=(0,s.forwardRef)(((e,t)=>{const{children:a,onClick:n,icon:o,caret:d,disabled:f=!1,title:p,selected:h=!1}=e;let m;if(d)switch(d){case"up":m=s.default.createElement(r.ChevronDownAltIcon,{displayInline:!0,xstyle:c.rotate,width:15,height:15});break;case"down":m=s.default.createElement(r.ChevronDownAltIcon,{displayInline:!0,width:15,height:15})}return s.default.createElement("div",{ref:t,role:"button",tabIndex:"-1",onClick:n,className:(0,i.classnamesConvertMeToStylexPlease)((0,u.default)(c.container,f&&c.disabled,!f&&h&&c.selected),e.className),title:p},o&&s.default.createElement(l.FlexRow,{align:"center",justify:"center",xstyle:c.icon},o),a&&s.default.createElement("span",{className:(0,u.default)(c.body)},a),m&&s.default.createElement("span",null,m))}));t.ToolbarButton=f,f.displayName="ToolbarButton";const p={button:{borderTop:"obwsf3p9",borderEnd:"s8q20rc0",borderBottom:"ebrh3t2g",borderStart:"rj9nbyht",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",":hover":{borderTopColor:"bl9w2cc8",borderEndColor:"jhwcl59r",borderBottomColor:"fidog9j4",borderStartColor:"lnb1a5ce"}},iconContainer:{width:"ekdr8vow",height:"dhq51u3o",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",backgroundColor:"ti3tnyff"},selected:{borderTopColor:"l6s06z0y",borderEndColor:"tvss2yle",borderBottomColor:"iha8m7gi",borderStartColor:"s0l7kvyq"}};function h(e){const{onClick:t,children:a,selected:n=!1}=e;return s.default.createElement(o.default,{xstyle:[p.button,n&&p.selected],onClick:t},s.default.createElement(l.FlexRow,{justify:"center",align:"center",xstyle:p.iconContainer},a))}h.displayName="ToolbarRoundButton"},429600:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(664149),i=a(690495),l=n(a(932325)),o=a(500713),s=n(a(943208)),u=n(a(34936)),d=n(a(643118)),c=a(392632),f=n(a(37875)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function m(e,t){const{colors:a,onColorSelect:n,selectedColor:h}=e,[m,g]=(0,p.useState)(null),y=()=>{g(null)},v=()=>Boolean(m);(0,p.useImperativeHandle)(t,(()=>({isPanelVisible:v})));const E=a.map((e=>{let{primaryColor:t,secondaryColor:a}=e;return p.default.createElement(u.default,{key:t.toString(),primaryColor:t,onSelect:()=>n(t),selected:Boolean(h&&h.equals(t))})}));let C=null;return m&&(C=p.default.createElement(c.UIE,{displayName:"ColorPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:y},p.default.createElement(f.default,{contextMenu:m}))),p.default.createElement("div",{className:s.default.container},p.default.createElement(i.FlexRow,{className:s.default.colorChipsContainer},E),p.default.createElement(o.ToolbarButton,{onClick:e=>{e.preventDefault(),e.stopPropagation();const t={menu:p.default.createElement(d.default,{onColorSelect:n,selectedColor:h,onColorPickerClose:y}),dirX:l.default.isRTL()?r.DirX.RIGHT:r.DirX.LEFT,dirY:r.DirY.BOTTOM,type:r.MenuType.ColorPicker,anchor:e.target};g(t)},caret:m?"down":"up"}),C)}var g=(0,p.forwardRef)(m);t.default=g},34936:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(396574),i=n(a(388282)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e){const{primaryColor:t,secondaryColor:a,onSelect:n,selected:o,withBorder:s}=e,[u,d]=(0,l.useState)(!1),[c,f]=(0,l.useState)(!1);return l.default.createElement("div",{onClick:n,onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},onMouseDown:()=>{f(!0)},onMouseUp:()=>{f(!1)},className:(0,r.classnamesConvertMeToStylexPlease)({[i.default.selected]:o,[i.default.hover]:u,[i.default.active]:c,[i.default.colorButton]:!0}),style:{backgroundColor:c&&!o?t.withAlpha(.2).toRgbaString():"transparent"}},l.default.createElement("div",{className:(0,r.classnamesConvertMeToStylexPlease)({[i.default.colorChipWithBorder]:s&&t.isWhite(),[i.default.primaryColorChipMedium]:"medium"===e.theme,[i.default.primaryColorChip]:!0}),style:{backgroundColor:t.toRgbaString()}},a&&o&&l.default.createElement("div",{className:i.default.secondaryColorChip,style:{backgroundColor:a.toRgbaString()}})))}s.displayName="ColorChip"},160058:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CropRotateToolbar=c;var r=a(690495),i=a(422310),l=a(733509),o=a(500713),s=n(a(81447)),u=a(548360),d=n(a(667294));function c(e){let{canReset:t,onReset:a,onRotateCanvas:n}=e;return d.default.createElement(r.FlexRow,{className:s.default.container},d.default.createElement(o.ToolbarButton,{className:s.default.rotateLeftButton,icon:d.default.createElement(i.MediaEditorRotateLeftIcon,{displayInline:!0}),title:u.fbt._("Rotate left",null,{hk:"2t86bC"}),onClick:()=>n(-90)}),d.default.createElement(o.ToolbarButton,{icon:d.default.createElement(l.MediaEditorRotateRightIcon,{displayInline:!0}),title:u.fbt._("Rotate right",null,{hk:"XqQCf"}),onClick:()=>n(90)}),d.default.createElement(o.ToolbarButton,{onClick:a,disabled:!t},u.fbt._("Reset",null,{hk:"1aUuOP"})))}c.displayName="CropRotateToolbar"},691984:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Font=void 0;var r=n(a(81109)),i=a(690495),l=a(490836),o=a(500713),s=n(a(695422)),u=a(392632),d=n(a(37875)),c=a(676345),f=n(a(844453)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),h=n(a(156720));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g={container:{position:"g0rxnol2",flexShrink:"oq44ahr5"},icon:{width:"m0s4cjtr",height:"jdwybkuq",fontSize:"ovllcyds",color:"gxyx3myq",textAlign:"qfejxiq4",backgroundColor:"ti3tnyff",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},iconOnly:{color:"emmn1ebo",fontSize:"bze30y65"}};function y(e,t){const{selectedFont:a,fonts:n,onFontSelect:m,onAlignmentSelect:y,selectedAlignment:v,showImprovedToolbar:E}=e,C=(0,p.useRef)(null),[b,_]=(0,p.useState)(null),w=()=>{if(b)return;if(!C.current)return;const e=p.default.createElement(s.default,{fonts:n,selectedFont:a,selectedAlignment:v,showAlignmentOptions:!E,onFontSelect:m,onAlignmentSelect:y});_({menu:e,anchor:C.current})},S=()=>{_(null)},k=()=>Boolean(b);(0,p.useImperativeHandle)(t,(()=>({isMenuVisible:k})));const M=Boolean(b);let P,T;if(b&&(P=p.default.createElement(u.UIE,{displayName:"MediaEditorFontDropdown",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:S},p.default.createElement(d.default,{contextMenu:b}))),E)T=p.default.createElement(o.ToolbarRoundButton,{onClick:w,selected:M},p.default.createElement(i.FlexRow,{xstyle:[g.icon,g.iconOnly],style:(0,r.default)({},(0,l.getFontStyle)(a)),justify:"center",align:"center"},"Aa"));else{const e=p.default.createElement(i.FlexRow,{xstyle:g.icon,style:(0,r.default)({},(0,l.getFontStyle)(a)),justify:"center",align:"center"},p.default.createElement("div",{"aria-hidden":"true"},"A"));T=p.default.createElement(o.ToolbarButton,{onClick:w,icon:e,selected:M,caret:M?"down":"up"},p.default.createElement("span",{className:(0,h.default)(c.uiPadding.end5)},(0,l.getFontTranslation)(a)))}return p.default.createElement("div",{ref:C,className:(0,h.default)(g.container)},T,p.default.createElement(f.default,{transitionName:"dropdown"},P))}const v=(0,p.forwardRef)(y);t.Font=v,v.displayName="Font"},695422:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var r=a(493583),i=a(369689),l=a(116282),o=a(603869),s=a(396574),u=a(675085),d=a(690495),c=n(a(469733)),f=a(393542),p=a(490836),h=n(a(610255)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const y=[{alignment:p.TextAlignment.LEFT,icon:i.AlignLeftIcon},{alignment:p.TextAlignment.CENTER,icon:r.AlignCenterIcon},{alignment:p.TextAlignment.RIGHT,icon:l.AlignRightIcon}];function v(e){let t,{font:a,isSelectedFont:n,onAction:r}=e;n&&(t=m.default.createElement("span",{className:h.default.selected},m.default.createElement(o.CheckmarkIcon,{displayInline:!0})));const i=(0,p.getFontTranslation)(a);let l;switch(a){case p.FontType.SANS_SERIF:l=h.default.sansSerif;break;case p.FontType.SERIF:l=h.default.serif;break;case p.FontType.NORICAN_REGULAR:l=h.default.noricanRegular;break;case p.FontType.BRYNDAN_WRITE:l=h.default.bryndanWrite;break;case p.FontType.OSWALD_HEAVY:l=h.default.oswaldHeavy}return m.default.createElement(u.DropdownItem,{action:e=>r(e,a)},m.default.createElement("div",{role:"button",className:h.default.item,style:(0,p.getFontStyle)(a)},m.default.createElement("span",{className:l},i),t))}function E(e){let{onAction:t,selectedAlignment:a}=e;return m.default.createElement(d.FlexRow,{className:h.default.alignmentContainer,justify:"around",align:"center"},y.map((e=>{let{alignment:n,icon:r}=e;return m.default.createElement(c.default,{key:n},m.default.createElement(u.DropdownItem,{action:e=>t(e,n)},m.default.createElement(r,{className_DONOTUSE:(0,s.classnamesConvertMeToStylexPlease)({[h.default.alignmentIconSelected]:a,[h.default.alignmentIcon]:!0})})))})))}function C(e){const{onFontSelect:t,onAlignmentSelect:a,selectedFont:n,selectedAlignment:r,showAlignmentOptions:i}=e;(0,m.useEffect)((()=>{f.FontLoader.loadAllFonts()}),[]);const l=(e,a)=>{e.stopPropagation(),t(a)};return m.default.createElement("div",null,e.fonts.map((e=>m.default.createElement(v,{key:e,font:e,isSelectedFont:n===e,onAction:l}))),i&&m.default.createElement(E,{key:"alignment",selectedAlignment:r,onAction:(e,t)=>{e.stopPropagation(),a(t)}}))}v.displayName="Font",E.displayName="Alignment",C.displayName="FontDropdown"},442864:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=R;var r=a(952543),i=a(103440),l=a(664149),o=a(637624),s=n(a(716910)),u=a(849410),d=a(863700),c=a(576190),f=a(675650),p=a(685381),h=a(234200),m=a(477540),g=a(950079),y=a(272802),v=a(419699),E=a(145192),C=a(349456),b=a(333569),_=a(75421),w=a(526795),S=a(97858),k=a(114850),M=a(493003),P=n(a(987610)),T=a(392632),O=n(a(37875)),x=a(548360),I=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=L(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));n(a(156720));function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(L=function(e){return e?a:t})(e)}const D={hdIcon:{opacity:"ge6flnsz"}};function R(e){let{canRedo:t,canUndo:a,hdEligible:n,inCropRotateMode:L,inOutlineMode:R,inPaintMode:A,inTextEditingMode:N,metadataByQuality:j,onBlurSelect:F,onChangeQuality:B,onCropRotateSelect:W,onEmojiSelect:H,onOutlineSelect:z,onPaintSelect:U,onRedo:V,onStickerSelect:q,onTextSelect:G,onToggleEmojiPanel:Y,onToggleStickerPanel:K,onUndo:X,selectedLayer:Z,selectedQuality:Q,showOutline:J}=e;const[$,ee]=(0,I.useState)(),[te,ae]=(0,I.useState)(),ne=(0,I.useRef)({inPaintMode:A,onEmojiSelect:H,onStickerSelect:q,onPaintSelect:U}),re=()=>{L?W():A?U():R&&z()},ie=()=>{ee(null),Y(!1)},le=()=>{ae(null),K(!1)};let oe;return(0,_.isSendHQPhotoEnabled)()&&(oe=n?I.default.createElement(w.MenuBarItem,{icon:Q===r.MediaQuality.HD?I.default.createElement(u.IcHdActiveIcon,null):I.default.createElement(d.IcHdSettingsIcon,null),testid:"hd-settings-button",title:x.fbt._("Photo quality",null,{hk:"2q8jwU"}),key:"hd-settings"},I.default.createElement(s.default,{onChangeQuality:B,selectedQuality:Q,metadataByQuality:j})):I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(d.IcHdSettingsIcon,{xstyle:D.hdIcon}),testid:"hd-settings-button",title:x.fbt._("This media is not HD resolution.",null,{hk:"S27vL"}),key:"hd-settings",onClick:()=>{k.ModalManager.open(I.default.createElement(i.ConfirmPopup,{title:x.fbt._("Cannot set to HD",null,{hk:"zHOaP"}),onOK:()=>k.ModalManager.close()},x.fbt._("This media is not HD resolution.",null,{hk:"S27vL"})))}})),I.default.createElement(w.MenuBar,{theme:"media-editor"},J&&I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(M.ScissorsIcon,null),testid:"outline-button",title:x.fbt._("Outline",null,{hk:"47JwiV"}),key:"outline",onClick:e=>{e.preventDefault(),R||re(),z()},selected:R}),I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(h.MediaEditorEmojiIcon,null),testid:"emoji-button",title:x.fbt._("Emoji",null,{hk:"3f1gtD"}),key:"emoji",onClick:e=>{e.preventDefault(),e.stopPropagation(),re();const t=I.default.createElement(o.EmojiPanel,{onEmoji:e=>{ne.current.inPaintMode&&ne.current.onPaintSelect(),ne.current.onEmojiSelect(e),ie()},onFocusNext:ie,onFocusPrev:ie});ee({menu:t,dirY:l.DirY.TOP,type:l.MenuType.EmojiPicker,anchor:e.target}),Y(!0)},selected:Boolean($)||Z instanceof g.ImageLayer&&Z.isEmoji()}),I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(E.MediaEditorStickerIcon,null),testid:"sticker-button",title:x.fbt._("Sticker",null,{hk:"4342bb"}),key:"sticker",onClick:e=>{e.preventDefault(),e.stopPropagation(),re();const t=I.default.createElement(P.default,{onSticker:e=>{ne.current.inPaintMode&&ne.current.onPaintSelect(),ne.current.onStickerSelect(e),le()},onFocusNext:le,onFocusPrev:le});t&&(ae({menu:t,dirY:l.DirY.TOP,type:l.MenuType.StickerPicker,anchor:e.target}),K(!0))},selected:Boolean(te)||Z instanceof g.ImageLayer&&Z.isSticker()}),I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(C.MediaEditorTextIcon,null),testid:"text-button",title:x.fbt._("Text",null,{hk:"12XnGO"}),key:"text",onClick:e=>{e.preventDefault(),re(),G()},selected:N||Z instanceof y.TextLayer}),I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(p.MediaEditorDrawingIcon,null),testid:"paint-button",title:x.fbt._("Paint",null,{hk:"U5v5P"}),key:"paint",onClick:e=>{e.preventDefault(),A||re(),U()},selected:A}),(0,S.mediaEditorBlurToolEnabled)()&&I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(c.MediaEditorBlurPixelateIcon,null),testid:"blur-button",title:x.fbt._("Blur",null,{hk:"2MLIAo"}),key:"blur",onClick:e=>{e.preventDefault(),re(),F()},selected:Z instanceof m.BlurLayer}),I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(f.MediaEditorCropRotateIcon,null),testid:"crop-rotate-button",title:x.fbt._("Crop & Rotate",null,{hk:"3WqVhk"}),key:"crop-rotate",onClick:e=>{e.preventDefault(),L||re(),W()},selected:L}),oe,I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(b.MediaEditorUndoIcon,null),testid:"undo-button",title:x.fbt._("Undo",null,{hk:"12qsD9"}),key:"undo",disabled:!a,onClick:X}),I.default.createElement(w.MenuBarItem,{icon:I.default.createElement(v.MediaEditorRedoIcon,null),testid:"redo-button",title:x.fbt._("Redo",null,{hk:"39SiUc"}),key:"redo",disabled:!t,onClick:V}),te&&I.default.createElement(T.UIE,{displayName:"StickerPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:le},I.default.createElement(O.default,{contextMenu:te})),$&&I.default.createElement(T.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:ie},I.default.createElement(O.default,{contextMenu:$})))}R.displayName="MainToolbar"},905540:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineToolbar=f;var r=a(690495),i=a(500713),l=a(918857),o=a(810904),s=a(548360),u=n(a(667294)),d=n(a(156720));const c={marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"mpdn4nr2",marginStart:"fooq7fky"};function f(e){let{canReset:t,onReset:a,onSmoothingToggle:n,smoothing:f}=e;return u.default.createElement(r.FlexRow,null,u.default.createElement(i.ToolbarButton,{className:(0,d.default)(c),icon:u.default.createElement(l.OutlineSmoothIcon,{displayInline:!0}),title:s.fbt._("Smooth",null,{hk:"4vwxxi"}),selected:f,onClick:()=>n(!0)}),u.default.createElement(i.ToolbarButton,{className:(0,d.default)(c),icon:u.default.createElement(o.OutlineStraightIcon,{displayInline:!0}),title:s.fbt._("Straight",null,{hk:"3KyC8d"}),selected:!f,onClick:()=>n(!1)}),u.default.createElement(i.ToolbarButton,{className:(0,d.default)(c),onClick:a,disabled:!t},s.fbt._("Reset",null,{hk:"1aUuOP"})))}f.displayName="OutlineToolbar"},205370:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(603869),i=a(396574),l=a(500713),o=n(a(715723)),s=a(548360),u=n(a(667294));function d(e){let{checked:t,onBackgroundToggle:a}=e;const n=u.default.createElement("div",{className:(0,i.classnamesConvertMeToStylexPlease)({[o.default.circleFilled]:t,[o.default.cirle]:!0})},t?u.default.createElement("div",{className:o.default.checked},u.default.createElement(r.CheckmarkIcon,null)):u.default.createElement("div",{className:o.default.unchecked}));return u.default.createElement(l.ToolbarButton,{icon:n,onClick:a},s.fbt._("Background",null,{hk:"3Y8odq"}))}d.displayName="TextBackgroundToolbar"},634452:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(396574),i=a(695710),l=n(a(505847)),o=n(a(667294));function s(e){let{onThicknessSelect:t,selectedThickness:a,thickness:n}=e;return o.default.createElement("div",{key:i.ThicknessType.getName(n),onClick:()=>t(n),className:(0,r.classnamesConvertMeToStylexPlease)({[l.default.selected]:a&&a===n,[l.default.thicknessButton]:!0})},o.default.createElement("div",{className:l.default.thicknessChip,style:{height:(0,i.getThicknessValue)(n),width:(0,i.getThicknessValue)(n)}}))}function u(e){let{onThicknessSelect:t,selectedThickness:a,thicknesses:n}=e;const r=n.map(((e,n)=>o.default.createElement(s,{key:n,thickness:e,onThicknessSelect:t,selectedThickness:a})));return o.default.createElement("div",{className:l.default.container},r)}s.displayName="ThicknessChip",u.displayName="ColorToolbar"},643118:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(50477),i=n(a(267901)),l=n(a(435661)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),s=n(a(156720));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d={position:"g0rxnol2"};function c(e){const{selectedColor:t,onColorSelect:a}=e,[n,u]=(0,o.useState)(null!=t?t:r.DEFAULT_COLOR),c=e=>{u(e)},f=e=>{a(e)};return o.default.createElement("div",{className:(0,s.default)(d),style:{width:r.CONTAINER_WIDTH,height:r.CONTAINER_HEIGHT}},o.default.createElement(l.default,{color:n,onChangeCanvasColor:c,onChangeSelectedColor:f}),o.default.createElement(i.default,{color:n,onChangeColor:e=>{c(e),f(e)},onColorPickerClose:e.onColorPickerClose}))}c.displayName="ColorPicker"},50477:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THROTTLE_WAIT_TIME=t.INPUT_HEIGHT=t.DEFAULT_COLOR=t.CURSOR_SIZE=t.CONTAINER_WIDTH=t.CONTAINER_HEIGHT=t.CANVAS_HEIGHT=void 0;var n=a(102826);t.CONTAINER_WIDTH=334;t.CONTAINER_HEIGHT=203;const r=150.22;t.CANVAS_HEIGHT=r;t.INPUT_HEIGHT=52.78;t.CURSOR_SIZE=20;const i=new n.Color(210,252,86);t.DEFAULT_COLOR=i;t.THROTTLE_WAIT_TIME=900},267901:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(306703),i=a(81644),l=n(a(34936)),o=a(50477),s=a(102826),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),d=n(a(156720));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const f={alignItems:"gndfcl4n",boxSizing:"cm280p3y",display:"p357zi0d",justifyContent:"fhf7t426",minHeight:"t2ljgofx",paddingTop:"i5tg98hk",paddingEnd:"ft2m32mm",paddingBottom:"przvwfww",paddingStart:"nu34rnf1"},p={backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a",color:"tviruh8d",fontSize:"bze30y65",lineHeight:"r5qsrrlp",outline:"gk6igrwd",paddingTop:"emrlamx0",paddingEnd:"ft2m32mm",paddingBottom:"aiput80m",paddingStart:"nu34rnf1"};function h(e){const{color:t,onColorPickerClose:a,onChangeColor:n}=e,c=(0,u.useRef)(null),[h,m]=(0,u.useState)(t.toHex());return u.default.createElement("div",{className:(0,d.default)(f),style:{width:o.CONTAINER_WIDTH,height:o.INPUT_HEIGHT}},u.default.createElement(l.default,{withBorder:!0,primaryColor:t,selected:!1,theme:"medium"}),u.default.createElement(i.HotKeys,{handlers:{enter:a}},u.default.createElement(r.SelectableDiv,{selectable:!0},u.default.createElement("input",{type:"text",ref:c,className:(0,d.default)(p),value:h,onChange:e=>{const t=e.target.value;if(m(t),!t||!(0,s.isValidHex)(t))return;const a=s.Color.fromHex(t);n(a)}}))))}h.displayName="ColorPickerInput"},435661:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=a(50477),i=a(102826),l=a(817128),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),s=n(a(156720)),u=n(a(286481));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c={borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",boxSizing:"cm280p3y",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",position:"g0rxnol2"},f={borderTop:"omlynucm",borderEnd:"a0tvyxpe",borderBottom:"se50n2qd",borderStart:"o8ek0a1j",borderTopStartRadius:"pap8jtso",borderTopEndRadius:"fptqv7l3",borderBottomEndRadius:"gygahxu2",borderBottomStartRadius:"hm7f711o",boxShadow:"aejjokna",boxSizing:"cm280p3y",cursor:"bx7g2weo",pointerEvents:"m62443ks",position:"lhggkp7q"};function p(e){const{color:t,onChangeSelectedColor:a,onChangeCanvasColor:n}=e,d=(0,o.useRef)(null),[p,h]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=d.current;if(!e)return;const t=e.getContext("2d");let a=t.createLinearGradient(0,0,e.width,0);a.addColorStop(0,"#ff0000"),a.addColorStop(1/6,"#ffff00"),a.addColorStop(1/6*2,"#00ff00"),a.addColorStop(.5,"#00ffff"),a.addColorStop(1/6*4,"#0000ff"),a.addColorStop(1/6*5,"#ff00ff"),a.addColorStop(1,"#ff0000"),t.fillStyle=a,t.fillRect(0,0,e.width,e.height),a=t.createLinearGradient(0,0,0,e.height),a.addColorStop(0,"rgba(255, 255, 255, 1)"),a.addColorStop(.5,"rgba(255, 255, 255, 0)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=a,t.fillRect(0,0,e.width,e.height),a=t.createLinearGradient(0,0,0,e.height),a.addColorStop(0,"rgba(0, 0, 0, 0)"),a.addColorStop(.5,"rgba(0, 0, 0, 0)"),a.addColorStop(1,"rgba(0, 0, 0, 1)"),t.fillStyle=a,t.fillRect(0,0,e.width,e.height)}),[]);const m=(0,l.getPositionFromColor)(t),g=(0,u.default)(a,r.THROTTLE_WAIT_TIME),y=(e,t)=>{null!=t&&h(t);const{x:a,y:l}=(e=>{const t=d.current;if(!t)return{x:0,y:0};const a=t.getBoundingClientRect();let n=e.clientX-a.left,i=e.clientY-a.top;return n>a.width&&(n=a.width-.1),n<0&&(n=0),i>a.height&&(i=a.height),i<0&&(i=.1),n-=r.CURSOR_SIZE/2,i-=r.CURSOR_SIZE/2,{x:n,y:i}})(e),o=(e=>{const t=d.current;if(!t)return new i.Color(0,0,0);const a=e.x+r.CURSOR_SIZE/2,n=e.y+r.CURSOR_SIZE/2,l=t.getContext("2d").getImageData(a,n,1,1).data;return new i.Color(l[0],l[1],l[2])})({x:a,y:l});g(o),n(o)};return o.default.createElement(o.default.Fragment,null,o.default.createElement("canvas",{width:r.CONTAINER_WIDTH,height:r.CANVAS_HEIGHT,className:(0,s.default)(c),ref:d,onMouseDown:e=>{y(e,!0)},onMouseMove:e=>{p&&(e.stopPropagation(),e.preventDefault(),y(e))},onMouseUp:e=>{y(e,!1)}}),o.default.createElement("div",{className:(0,s.default)(f),style:{width:r.CURSOR_SIZE,height:r.CURSOR_SIZE,left:m.x,top:m.y,backgroundColor:t.toRgbaString()}}))}p.displayName="ColorPickerPanel"},675249:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createCanvasFromSticker=p,t.createImageFromEmoji=function(){return g.apply(this,arguments)},t.createImageFromSticker=function(){return y.apply(this,arguments)};var r=n(a(348926)),i=a(931178),l=a(70354),o=a(868607),s=a(698210),u=a(631170),d=a(196127),c=n(a(566518)),f=n(a(556869));function p(){return h.apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){let t=e.rgbaBuffer;if(!t){const a=d.InMemoryMediaBlobCache.get(e.filehash);if(!a)throw(0,f.default)("Failed to get media blob");const n=yield(0,s.blobToArrayBuffer)(a),r=(yield(0,c.default)(n)).frames[0];if(!r)throw(0,f.default)("Failed to get sticker first frame.");t=r.rgbaBuffer}const a=e.fullWidth,n=e.fullHeight,r=document.createElement("canvas");r.width=a,r.height=n;const i=r.getContext("2d"),l=i.createImageData(a,n);return l.data.set(new Uint8Array(t)),i.putImageData(l,0,0),r}))).apply(this,arguments)}function m(e){return new Promise(((t,a)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{t(n)},n.onerror=a,n.src=e}))}function g(){return(g=(0,r.default)((function*(e){const t=l.EmojiUtil.getGlyphPath(e,160);if(null==t)return;return yield m(t)}))).apply(this,arguments)}function y(){return(y=(0,r.default)((function*(e){let t;if(!0===e.mediaData.isLottie){const a=u.InMemoryLottieStickerCache.get(e.filehash);t=yield(0,i.createCanvasFromLottieSticker)(a)}else if(yield(0,o.detectWebpSupport)()){const a=e.mediaData.filehash,n=d.InMemoryMediaBlobCache.getOrCreateURL(a);t=yield m(n)}else t=yield p(e.mediaData);return t}))).apply(this,arguments)}},817128:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPositionFromColor=function(e){const t=e.toHsl(),a=n.CONTAINER_WIDTH*t.hue-n.CURSOR_SIZE/2,r=n.CANVAS_HEIGHT*(1-t.lightness)-n.CURSOR_SIZE/2;return{x:a,y:r}};var n=a(50477)},398573:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPointFromGroup=function(e){return new r.default({x:e.target.x()-e.target.offsetX(),y:e.target.y()-e.target.offsetY()})},t.getPointFromStage=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return new r.default({x:0,y:0});const{x:n,y:i}=t.getAbsoluteScale(),l=t.content.getBoundingClientRect();let o=e.clientX-l.left,s=e.clientY-l.top;a&&(o=Math.min(Math.max(0,o),l.width),s=Math.min(Math.max(0,s),l.height));return new r.default({x:o/n,y:s/i})},t.getRotationFromGroup=function(e){return e.target.rotation()},t.getScaleFromGroup=function(e){return e.target.scaleX()},t.isEventOnAnchor=function(e){var t,a;return null!==(t=null===(a=e.target.attrs.name)||void 0===a?void 0:a.includes("anchor"))&&void 0!==t&&t},t.isStageCorner=function(e,t){if(!t)return!1;const{x:a,y:n}=t.getAbsoluteScale(),{width:r,height:i}=t.content.getBoundingClientRect();return 0===e.x&&0===e.y||0===e.x&&e.y===i/n||e.x===r/a&&0===e.y||e.x===r/a&&e.y===i/n};var r=n(a(31579))},261931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=(t+360)%360;if(!a&&(90===n||270===n)){const t=e.height;e.height=e.width,e.width=t}90!==n&&180!==n||(a?e.x+=e.width:e.x-=e.width);180!==n&&270!==n||(a?e.y+=e.height:e.y-=e.height);if(a&&(90===n||270===n)){const t=e.height;e.height=e.width,e.width=t}}},372682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateContainScale=function(e,t,a,n){if(0===e||0===t)return 1;if(!a.isEmpty()&&(e>a.width||t>a.height))return Math.min(a.width/e,a.height/t);if(!n.isEmpty()&&e<n.width&&t<n.height)return Math.min(n.width/e,n.height/t);return 1}},905832:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(122583),l=n(a(670983)),o=a(685639),s=n(a(788998)),u=a(332221),d=a(418541),c=a(588750),f=a(437362),p=n(a(908081)),h=n(a(324093)),m=a(626194),g=a(698210),y=a(858770),v=F(a(213462)),E=a(25878),C=n(a(756680)),b=F(a(288057)),_=a(114850),w=n(a(821384)),S=a(193085),k=a(435595),M=a(956113),P=n(a(844453)),T=n(a(439114)),O=a(169467),x=a(456277),I=a(548360),L=F(a(667294)),D=n(a(156720)),R=n(a(637660)),A=n(a(17533)),N=n(a(895851));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const B={video:{width:"ln8gz9je",height:"ppled2lx",opacity:"bs7a17vp",transitionProperty:"cr6d9hz6",transitionDuration:"p4t1lx4y",transitionTimingFunction:"k46w8fxw",transform:"n4o0o7gj",transformOrigin:"sx61ek5s"},videoInactive:{opacity:"axi1ht8l"},btn:{position:"lhggkp7q",top:"rl8piizt",start:"m7kgcvyw",marginStart:"avk8rzj1",opacity:"axi1ht8l"},image:{position:"lhggkp7q",width:"ln8gz9je",height:"ppled2lx",animationName:"n0uige08",animationDuration:"hcuw515p"},retakeBtn:{display:"p357zi0d",alignItems:"gndfcl4n",cursor:"ajgl1lbb"},retakeIcon:{flexShrink:"oq44ahr5",marginEnd:"claouzo6",color:"k17s6i4e"},footer:{position:"g0rxnol2",zIndex:"b9fczbqn",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"tvjloe4n",paddingTop:"i5tg98hk",paddingEnd:"iffbo4e8",paddingBottom:"eb4rp10x",paddingStart:"khscay3k",backgroundColor:"emqjox7q"},container:{position:"g0rxnol2",display:"p357zi0d",flexGrow:"ggj6brxn",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je"},body:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",width:"ln8gz9je",height:"ppled2lx"},videoContainer:{zIndex:"b9fczbqn",width:"ln8gz9je",height:"ppled2lx"},webcamContainer:{width:"ln8gz9je",height:"ppled2lx"}},W="ANIMATING",H="LOADING",z="RECORDING",U="SENDING",V=e=>{null!=e.current&&(window.URL.revokeObjectURL(e.current),e.current=null)};function q(e,t){const{chat:a,disposeStream:n,onCaptured:j,onBack:F,onSend:q}=e,G=I.fbt._("Take photo",null,{hk:"4DtdJO"}),Y=(0,L.useRef)(null),K=(0,L.useRef)(null),X=(0,L.useRef)(null),Z=(0,L.useRef)(null),[Q,J]=(0,L.useState)(void 0),[$,ee]=(0,L.useState)(void 0),[te,ae]=(0,L.useState)(W),[ne,re]=(0,L.useState)(void 0),ie=(0,A.default)(((e,t)=>{var a;e?(null===(a=K.current)||void 0===a||a.call(K),K.current=t,ae(H),re(e),(0,v.isSrcObjectInVideoElement)()||(e?(V(X),X.current=window.URL.createObjectURL(e)):V(X))):te===W&&ae(H)})),le=(0,R.default)((()=>new o.ShiftTimer((e=>{let{stream:t,disposeStream:a}=e;ie(t,a)})))),oe=(0,R.default)((()=>new o.ShiftTimer((e=>{let{stream:t,disposeStream:a}=e;var n;t&&a&&(null===(n=K.current)||void 0===n||n.call(K));(0,v.isSrcObjectInVideoElement)()||V(X)})))),se=()=>{a&&a.setAttachMediaContents(null)},ue=(0,N.default)();(0,L.useEffect)((()=>(le.current.onOrBefore(300,{stream:e.stream,disposeStream:e.disposeStream}),()=>{le.current.cancel(),V(X),null==n||n(),Y.current&&Y.current.logCancel(),se()})),[]);const de=(e,t)=>{le.current.forceRunNow({stream:e,disposeStream:t})};(0,L.useImperativeHandle)(t,(()=>({loadNewStreamTimerUpdate:de,loadNewStream:ie})));const ce=()=>{var e;const t=null===(e=Z.current)||void 0===e?void 0:e.underlyingVideo();if(!t)return;const r=document.createElement("canvas");r.height=t.videoHeight,r.width=t.videoWidth;const i=r.getContext("2d");if(i)if(i.translate(r.width,0),i.scale(-1,1),i.drawImage(t,0,0,t.videoWidth,t.videoHeight),j)(0,c.canvasToBlob)(r).then((e=>{ue.aborted||j(e)}));else{oe.current.onOrBefore(500,{stream:ne,disposeStream:n});const e=new x.MediaPickerStatsLogger;e.logAdd("CAPTURE_MEDIA","image",O.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),e.chatRecipients=(null==a?void 0:a.groupMetadata)?a.groupMetadata.participants.length:1,Y.current=e;const t=r.toDataURL("image/jpeg"),i=(0,f.dataURLtoBlob)(t);if(a){a.attachMediaContents||a.setAttachMediaContents(new s.default({chatParticipantCount:a.getParticipantCount()}));(0,l.default)(a.attachMediaContents,"chat.attachMediaContents").processAttachments([{file:(0,g.createFile)([i],"",{type:"image/jpeg"})}],void 0,a)}J(t),ae(U),re(void 0)}else __LOG__(3)`CaptureDrawer:onCapture can not get 2d context`},fe=e=>{ae(z),ee({width:e.videoWidth,height:e.videoHeight})},pe=()=>{ae(H),se();const{asyncStream:e,disposeStream:t}=v.start("camera");K.current=t,e.then((e=>{e&&((0,v.isSrcObjectInVideoElement)()||(X.current=window.URL.createObjectURL(e)),re(e))})).catch((0,i.filteredCatch)(b.GetUserMedia.NotAllowedError,(()=>{F(),_.ModalManager.open(L.default.createElement(y.GuidePopup,{messaging:y.Messaging.CAMERA_FAIL,type:y.GuidePopupType.GUIDE_UNBLOCK}))}))).catch((0,i.filteredCatch)(b.GetUserMedia.GetUserMediaError,(()=>{F(),_.ModalManager.open(L.default.createElement(y.GuidePopup,{messaging:y.Messaging.CAMERA_MISSING,type:y.GuidePopupType.GUIDE_NONE}))})))},he=function(){var e=(0,r.default)((function*(e,t){a&&(yield(0,u.maybeShowBizBot1pTos)(a));const n=!0===(null==t?void 0:t.isViewOnce);if(q)if(0===e.length)__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("capture-drawer-no-img");else{const{media:t,mentionedJidList:a,groupMentions:o}=(0,l.default)(e[0],"medias[0]"),s=t.file;var r,i;if(s instanceof Blob)q({getImg:C.default.createFromData(s,s.type),caption:null!==(r=t.caption)&&void 0!==r?r:void 0,isViewOnce:!!n,mentionedJidList:a,groupMentions:o}),null===(i=Y.current)||void 0===i||i.logSend({isViewOnce:!!n});se()}else __LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("capture-drawer-no-onSend")}));return function(){return e.apply(this,arguments)}}();let me,ge,ye,ve;const Ee="capture-cover"===e.theme?"cover":"contain";switch(te){case W:case H:if(ve=L.default.createElement(M.Spinner,{stroke:4,size:50}),te===W)break;case z:{const e=(0,D.default)(B.video,ne&&te===H&&B.videoInactive),t=ne?L.default.createElement(T.default,{autoPlay:!0,ref:Z,onPlay:fe,src:null!=X.current?X.current:void 0,srcObject:null!=X.current?void 0:ne}):null;ye=ne?L.default.createElement("div",{key:"webcam",className:(0,D.default)(B.webcamContainer)},L.default.createElement(w.default,{type:Ee,size:$},L.default.createElement("div",{className:e,"data-animage-capture-webcam":!0},t))):null,me=te===z?L.default.createElement("div",{className:(0,D.default)(B.btn),key:"btn-capture"},L.default.createElement(k.Round,{large:!0,label:G,onClick:ce},L.default.createElement(d.CameraIcon,null))):null;break}case U:if(ye=L.default.createElement(w.default,{type:Ee,size:$},L.default.createElement("img",{alt:"",className:(0,D.default)(B.image),"data-animate-capture-snapshot":!0,src:Q})),a){const e=(0,l.default)(a.attachMediaContents,"chat.attachMediaContents");ye=L.default.createElement(E.MediaEditor,{theme:E.MediaTheme.CAPTURE,chat:a,initCaption:null,mediaCollection:e,onDropText:()=>{},onSendMedia:he})}ge=L.default.createElement("div",{className:(0,D.default)(B.retakeBtn),onClick:pe},L.default.createElement("div",{className:(0,D.default)(B.retakeIcon)},L.default.createElement(S.ReturnIcon,null)),I.fbt._("Retake",null,{hk:"tGeQz"}));break;default:__LOG__(2)`captureDrawer:render Unhandled video capture state ${te}`}const Ce=L.default.createElement("div",{className:(0,D.default)(B.footer)},L.default.createElement(P.default,{transitionName:"pop_delay"},me));return L.default.createElement(p.default,{key:"attach-capture-modal",theme:e.theme,tsNavigationData:{surface:"camera"}},L.default.createElement(m.DrawerHeader,{title:G,type:m.DRAWER_HEADER_TYPE.OFFSET,focusBackOrCancel:!0,onCancel:e.onBack},ge),L.default.createElement(h.default,{overflow:"hidden"},L.default.createElement("div",{className:(0,D.default)(B.container)},ve,L.default.createElement("div",{className:(0,D.default)(B.body)},L.default.createElement(P.default,{transitionName:"capture",className:(0,D.default)(B.videoContainer)},ye))),Ce))}var G=(0,L.forwardRef)(q);t.default=G},289391:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return l.default.createElement(r.default,{onBack:()=>{e.onClose(),e.onCancel()},chat:e.chat,caption:!0,theme:"capture-contain",onSend:t=>{var a;let{getImg:n,caption:r,isViewOnce:l,mentionedJidList:o}=t;const s=e.chat,u=s.composeQuotedMsg;s.composeQuotedMsg=null;const d=(null===(a=s.getComposeContents())||void 0===a?void 0:a.ctwaContext)||void 0;(0,i.prepRawMedia)(n,{}).sendToChat(s,{caption:r,mentionedJidList:o,quotedMsg:u,ctwaContext:d,isViewOnce:l}),e.onCaptureSent(),e.onClose()},stream:e.stream,disposeStream:e.disposeStream})};var r=n(a(905832)),i=a(644234),l=n(a(667294))},696716:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(15842),i=a(919833),l=a(366202),o=a(72696),s=n(a(163567)),u=n(a(659177)),d=a(356097),c=n(a(908081)),f=n(a(324093)),p=a(626194),h=n(a(969358)),m=a(88847),g=a(163755),y=a(20194),v=n(a(344460)),E=a(48794),C=a(61113),b=a(787742),_=a(241164),w=n(a(273873)),S=a(373070),k=a(129673),M=a(316348),P=a(555622),T=a(956113),O=a(681959),x=a(784128),I=a(143532),L=a(625786),D=a(390737),R=a(382117),A=n(a(806077)),N=a(308840),j=a(744976),F=a(531737),B=a(818674),W=a(512873),H=a(548360),z=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Z(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),U=n(a(156720)),V=n(a(969651)),q=n(a(637660)),G=a(808446),Y=a(871210),K=n(a(321201)),X=n(a(895851));function Z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Z=function(e){return e?a:t})(e)}const Q={icon:{display:"l7jjieqr",width:"dh5rsm73",marginEnd:"bugiwsl0",color:"s4k44ver",textAlign:"qfejxiq4",verticalAlign:"j0vv7iav"},svg:{width:"dh5rsm73",height:"hpdpob1j"},statusBlue:{color:"sunvlxxz"},ack:{color:"ajgik1ph"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},body:{flexShrink:"oq44ahr5",paddingTop:"emrlamx0",paddingBottom:"s9fl9ege"}};function J(e,t){const{msg:a}=e,[n,Z,J,$,ee,te,ae,ne,re,ie,le,oe,se,ue,de,ce]=(0,Y.useMsgValues)(e.msg.id,[b.getId,b.getStar,b.getType,b.getIsGif,b.getIsViewOnce,b.getLabels,b.getNumTimesForwarded,b.getIsFrequentlyForwarded,b.getAgendId,b.getT,b.getIsMdHistoryMsg,b.getKicSender,b.getKicTimestampMs,b.getIsKept,g.getAsRevoked,b.getLatestEditMsgKey]),fe=(0,g.getChat)(a),pe=(0,K.default)(),he=(0,X.default)(),me=(0,z.useRef)(null),ge=(0,z.useRef)(null),ye=null==fe?void 0:fe.id,ve=(0,q.default)((()=>new R.UiActionWamEvent({uiActionType:j.UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0,isLid:ye.isLid()}))),[Ee,Ce]=(0,z.useState)(void 0),[be,_e]=(0,z.useState)(!1),we=(0,V.default)();(0,G.useListener)(null==Ee?void 0:Ee.played,["add","remove"],we),(0,G.useListener)(null==Ee?void 0:Ee.read,["add","remove"],we),(0,G.useListener)(null==Ee?void 0:Ee.delivery,["add","remove"],we),de&&(null==pe||pe.requestDismiss()),(0,G.useListener)(C.MsgCollection,"remove",(e=>{e.id.equals(n)&&(null==pe||pe.requestDismiss())})),(0,G.useListener)(a,"change:latestEditMsgKey",(()=>null==pe?void 0:pe.requestDismiss()));const Se=(0,A.default)("MD_EXTENSION");let ke,Me,Pe;if((0,z.useEffect)((()=>{var e;P.QPL.markerStart(M.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,{annotations:{bool:{is_premium_subscriber:Se}}}),P.QPL.markerPoint(M.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_start"),_.MsgInfoCollection.find(n).then((e=>{P.QPL.markerPoint(M.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_end"),he.aborted?P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,r.QuickLogActionType.CANCEL):(Ce(e),P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,r.QuickLogActionType.SUCCESS))})).catch((()=>{P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,r.QuickLogActionType.FAIL),_e(!0),D.ToastManager.open(z.default.createElement(L.Toast,{msg:H.fbt._("Couldn't display message info. Try again later.",null,{hk:"mRFf6"}),id:(0,L.genId)("msg_info_failed")}))}));const t=null===(e=me.current)||void 0===e?void 0:e.getContainer();J===S.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight)}),[ce]),(0,z.useEffect)((()=>{const e=ve.current;e&&(Object.assign(e,(0,F.getGroupCountMetricsFromChatWid)(null==fe?void 0:fe.id)),e.markUiActionT(),e.commit(),ve.current=void 0),(0,B.logUiActionShadowPrivateStatsTestEvents)(),(0,l.logMessageInfo)(re)}),[]),Ee){const e=[];if(ue&&null!=oe&&null!=se){const t=(0,m.getKeptByString)(oe),a=z.default.createElement("span",{className:(0,U.default)(Q.icon)},z.default.createElement(y.KeepInChatIcon,{iconXstyle:Q.svg}));e.push(z.default.createElement(s.default,{title:t,t:se/1e3,icon:a,key:"keep-in-chat"}))}if(!le){var Te;const t=(0,b.getIsAckPlayable)(a);if(t||ee){Me=t?H.fbt._("Seen",null,{hk:"2XnbT5"}):H.fbt._("Seen",null,{hk:"n9K7N"});const n=Ee.played.head(),r=null==n?void 0:n.t;let i=z.default.createElement(N.ViewOnceViewedIcon,{xstyle:Q.statusBlue,iconXstyle:Q.svg});t&&!ee&&(a.type===S.MSG_TYPE.PTT?i=z.default.createElement(x.StatusPttIcon,{xstyle:Q.statusBlue,iconXstyle:Q.svg}):a.type===S.MSG_TYPE.PTV&&(i=z.default.createElement(I.StatusVideoIcon,{xstyle:Q.statusBlue,iconXstyle:Q.svg})));const l=z.default.createElement("span",{className:(0,U.default)(Q.icon)},i);e.push(z.default.createElement(s.default,{title:t&&!ee?H.fbt._("Played",null,{hk:"ovupC"}):H.fbt._("Opened",null,{hk:"4lUnhv"}),t:r,icon:l,key:"played"}))}const n=Ee.read.head(),r=null==n?void 0:n.t,i=z.default.createElement("span",{className:(0,U.default)(Q.icon)},z.default.createElement(O.StatusDblcheckIcon,{xstyle:Q.ack,iconXstyle:Q.svg}));Me=null!==(Te=Me)&&void 0!==Te?Te:H.fbt._("Read",null,{hk:"3uwRcw"}),e.push(z.default.createElement(s.default,{title:Me,t:r,icon:i,key:"read"}));const l=Ee.delivery.head(),o=null==l?void 0:l.t,u=z.default.createElement("span",{className:(0,U.default)(Q.icon)},z.default.createElement(O.StatusDblcheckIcon,{iconXstyle:Q.svg}));e.push(z.default.createElement(s.default,{title:H.fbt._("Delivered",null,{hk:"2enm6q"}),t:o,icon:u,key:"delivery"}))}if(Se&&(0,o.isMultiDeviceMessageAttributionEnabled)()&&null!=re){var Oe,xe;const t=null!==(Oe=null===(xe=i.AgentCollection.get(re))||void 0===xe?void 0:xe.name)&&void 0!==Oe?Oe:"";e.push(z.default.createElement(s.default,{title:t,t:ie,icon:z.default.createElement("span",{className:(0,U.default)(Q.icon)},z.default.createElement(k.MultiDeviceIcon,{iconXstyle:Q.svg})),key:"agent"}))}ke=z.default.createElement(h.default,{theme:"padding"},e)}Ee||be||(Pe=z.default.createElement("div",{className:(0,U.default)(Q.spinner),key:"spinner"},z.default.createElement(T.Spinner,{size:50,stroke:4})));let Ie=null;return te&&te.length>0&&(0,o.canDisplayLabel)()&&(Ie=z.default.createElement(h.default,{theme:"padding"},z.default.createElement(v.default,{labels:te}))),z.default.createElement(c.default,{ref:t,key:"message-info-modal",theme:"striped"},z.default.createElement(p.DrawerHeader,{title:H.fbt._("Message info",null,{hk:"2h2aKZ"}),type:p.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,focusBackOrCancel:!0,onCancel:()=>{null==pe||pe.requestDismiss()}}),z.default.createElement(w.default,{ref:me,chatPreference:u.default.assertGet("defaultPreference")},z.default.createElement(W.Wrapper,{msg:a,ref:ge,displayType:d.DISPLAY_TYPE.MSG_INFO,isMsgVisible:function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===n&&(!!a||(null===(t=ge.current)||void 0===t?void 0:t.getMsgComponentRef()))},position:E.MsgPosition.END,onProductClick:e.onProductClick})),z.default.createElement(f.default,null,Ie,z.default.createElement("div",{className:(0,U.default)(Q.body)},Pe,ke)))}var $=(0,z.forwardRef)(J);t.default=$},481518:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=L;var r=n(a(348926)),i=a(898817),l=n(a(229922)),o=a(174662),s=a(468926),u=n(a(196554)),d=a(103440),c=a(753233),f=a(258105),p=a(690495),h=n(a(469733)),m=a(81644),g=a(408827),y=a(114850),v=a(202391),E=a(320291),C=a(666836),b=a(208078),_=a(180519),w=a(625786),S=a(390737),k=a(873298),M=a(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),T=(n(a(156720)),n(a(710629))),O=n(a(895851));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}const I={deviceInfo:{marginBottom:"t4zgqcuo",marginTop:"opp68qpq"},deviceInfoCheckbox:{minWidth:"r7yn1a4o"},deviceInfoLabel:{paddingEnd:"l9g3jx6n"},emailLink:{marginTop:"opp68qpq"}};function L(e){const{supportTag:t,onSend:a,onFailure:n,onCancel:x,onEmail:L,entityId:D}=e,R=(0,O.default)(),[A,N]=(0,P.useState)(""),[j,F]=(0,P.useState)(null),[B,W]=(0,P.useState)(!0),[H,z]=(0,P.useState)(!1),[U,V]=(0,P.useState)(!1),q=(0,P.useRef)(null);(0,P.useEffect)((()=>{var e;null===(e=q.current)||void 0===e||e.restoreFocus(),V((0,o.getIsSagaCopyEnabled)())}),[]);const G=e=>e.length>=10,Y=function(){var e=(0,r.default)((function*(){z(!0);if(G(A)){null==a||a({description:A});const e=(0,o.getIsSagaEnabled)(),t=yield X(e),r=t?JSON.stringify(t):void 0;__LOG__(2)`InAppSupport: Sending support request with deviceInfo=${B}:${null!=r?r:"n/a"}`,(0,l.default)((0,E.sendSupportRequest)(A,r),R).then((t=>{if(null!=t.message){y.ModalManager.close();const a=t.groupId;void 0!==a&&a.includes("@s.whatsapp.net")?(0,b.openSupportChat)(a,e):S.ToastManager.open(P.default.createElement(w.Toast,{msg:(0,C.SupportChatConfirmationToast)()}))}else n&&(n({description:A}),z(!1))})).catch((0,i.catchAbort)((()=>{z(!1)})))}else F(M.fbt._("Please add more to your description",null,{hk:"ZQEOl"}))}));return function(){return e.apply(this,arguments)}}(),K=(0,T.default)((()=>Y()),100),X=function(){var e=(0,r.default)((function*(e){let a={};B&&(a=yield(0,g.getDebugInfo)({supportTag:t,convertFields:!0,addUserAgentDetails:!0,entityId:D}));let n="";return 1===(0,o.getSagaMVPValue)()?n="saga_control":e&&(n="saga"),n&&(a.sagaKey=n),a.saga_copy=U,a}));return function(){return e.apply(this,arguments)}}(),Z=e=>{e.stopPropagation()},Q={enter:Z};H&&(Q.esc=Z);const J="contact-us-include-device";return P.default.createElement(d.ConfirmPopup,{title:M.fbt._("Contact us",null,{hk:"1FJ2cU"}),okDisabled:!G(A)||H,okSpinner:H,okText:M.fbt._("Send",null,{hk:"2M7k89"}),onOK:K,onCancel:H?void 0:()=>{null==x||x(),y.ModalManager.close()}},P.default.createElement(m.HotKeys,{handlers:Q},P.default.createElement(p.FlexColumn,{align:"stretch"},P.default.createElement(v.RichTextField,{error:j,maxLength:5e3,onChange:e=>{let{text:t}=e;N(t)},placeholder:M.fbt._("Tell us how we can help",null,{hk:"1R8W3F"}),ref:q,value:A,minVisibleLines:2,theme:"contact-us"}),U&&P.default.createElement(h.default,{xstyle:I.deviceInfo,grow:1},P.default.createElement(_.TextParagraph,{theme:"plain"},M.fbt._("Messages from WhatsApp Support may be generated by AI using a secure technology from Meta. Your personal messages and calls remain end-to-end encrypted.",null,{hk:"MiwUD"}))),P.default.createElement(h.default,{xstyle:I.deviceInfo,grow:1},P.default.createElement(k.WDSTextSmall,{as:"p"},(0,C.SupportChatDeviceInfoQuestion)())),P.default.createElement(p.FlexRow,null,P.default.createElement(h.default,{xstyle:I.deviceInfoLabel,grow:1},P.default.createElement("label",{htmlFor:J},P.default.createElement(_.TextParagraph,{theme:"plain"},(0,C.SupportChatDeviceInfoContext)()," ",P.default.createElement(c.ExternalLink,{href:(0,f.getSupportChatFaqUrl)()},M.fbt._("Learn more",null,{hk:"1rcCLt"}))))),P.default.createElement(h.default,{xstyle:I.deviceInfoCheckbox,grow:0},P.default.createElement(s.CheckBox,{checked:B,id:J,onChange:()=>{W(!B)}}))),P.default.createElement(p.FlexRow,null,P.default.createElement(h.default,{xstyle:I.emailLink,grow:1},P.default.createElement(u.default,{onClick:()=>{L&&(y.ModalManager.close(),L({description:A}))}},M.fbt._("Get support via email",null,{hk:"3vajRd"})))))))}L.displayName="ContactUsModal"},413252:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(548360),i=n(a(667294)),l=n(a(156720));const o={position:"lhggkp7q",zIndex:"q297boen",width:"ln8gz9je",height:"ppled2lx",backgroundColor:"ipp30ku8"},s={boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"nioqejvd",marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",fontSize:"kuk548i2",color:"hn08p73j",borderTop:"joyebr9p",borderEnd:"jradjnc8",borderBottom:"opq9nt8f",borderStart:"ikkoynhc"};function u(){return i.default.createElement("div",{key:"container",className:(0,l.default)(o)},i.default.createElement("div",{className:(0,l.default)(s)},r.fbt._("Drag file here",null,{hk:"y9aHs"})))}u.displayName="DragAndDropMask"},171915:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(a(969358)),i=a(617425),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),o=n(a(156720)),s=n(a(105170));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d={ctaContainerSticky:{position:"ly2gu7o9",bottom:"jxacihee",left:"tukmaf4q",boxShadow:"th8ck7tu"},ctaPlaceholder:{marginBottom:"brac1wpa"}};function c(e){let{children:t,disabled:a,onClick:n,rootRef:u}=e;const[c,f,p]=function(e){const[t,a]=(0,l.useState)(),[n,r]=(0,l.useState)(),[i,{isIntersecting:o}]=(0,s.default)({root:e,rootMargin:null!=t?`-${t.offsetHeight}px`:void 0});return(0,l.useEffect)((()=>{if(null!=e&&null!=t&&null!=n){if(o)t.style.removeProperty("right");else{const a=e.offsetWidth-(e.clientWidth+2*e.clientLeft);t.style.setProperty("right",`${a}px`)}n.style.setProperty("min-height",`${t.offsetHeight}px`)}}),[o,e,t,n]),[o,e=>{i(e),r(e)},a]}(u);return l.default.createElement("div",{ref:f,className:(0,o.default)(d.ctaPlaceholder)},l.default.createElement(r.default,{ref:p,xstyle:c?null:d.ctaContainerSticky,theme:"sticky-button-section"},l.default.createElement(i.WDSButtonPrimary,{onClick:n,disabled:a,stretch:!0},t)))}c.displayName="DrawerStickyCTAButton"},225882:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.E2eChangeModal=c;var r=a(103440),i=n(a(395767)),l=a(714574),o=a(114850),s=a(548360),u=n(a(667294)),d=a(379811);function c(e){let{contact:t}=e;const[a]=(0,d.useContactValues)(t.id,[l.getFormattedShortName]),n=(0,i.default)("OK"),c=a,f=s.fbt._("Your security code with {contactName} changed",[s.fbt._param("contactName",c)],{hk:"I4Flo"}),p=s.fbt._("This happened likely because {contactName} or you recently changed which devices you use WhatsApp on. Please verify the security code again.",[s.fbt._param("contactName",c)],{hk:"11nl7m"});return u.default.createElement(r.ConfirmPopup,{title:f,onOK:()=>o.ModalManager.close(),okText:n},p)}c.displayName="E2eChangeModal"},428611:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(323795),i=a(118612),l=a(114850),o=a(548360),s=n(a(667294));function u(e){let{cropShape:t,img:a,onFinished:n,onRetake:u,theme:d}=e;return s.default.createElement(i.Modal,{type:d,ariaLabel:o.fbt._("Drag the image to adjust",null,{hk:"atCd8"}),testid:"profile-picture-edit-modal"},s.default.createElement(r.EditImageDrawer,{onCancel:()=>{l.ModalManager.close()},onFinished:(e,t)=>{n(e,t),l.ModalManager.close()},onRetake:u,retryText:r.RETRY_OPTIONS.RESTART,img:a,cropShape:t||void 0}))}u.displayName="EditImageModal"},386315:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(348926)),i=a(287461),l=a(12643),o=n(a(579484)),s=n(a(557294)),u=a(409623),d=a(780549),c=a(174834),f=a(849308),p=a(877171),h=a(177938),m=a(660666),g=a(657866),y=a(215406),v=a(673079),E=a(273371),C=n(a(908081)),b=n(a(324093)),_=a(36045),w=a(626194),S=a(900316),k=a(811720),M=n(a(395767)),P=a(581354),T=n(a(570834)),O=n(a(988410)),x=n(a(932325)),I=a(447164),L=n(a(893320)),D=a(705153),R=a(608456),A=a(803737),N=n(a(802211)),j=a(454905),F=n(a(399506)),B=a(129417),W=a(459857),H=a(986961),z=a(718951),U=a(548360),V=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Z(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),q=(n(a(156720)),n(a(710629))),G=n(a(969651)),Y=a(808446),K=n(a(17533)),X=n(a(794305));function Z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Z=function(e){return e?a:t})(e)}const Q={newChatButton:{paddingBottom:"a15vwmim",height:"ga71456d"}};function J(e){let{image:t,onClick:a,primary:n}=e;const r=U.fbt._("{item-title}",[U.fbt._param("item-title",n.toString())],{hk:"4dm96j"});return V.default.createElement(V.default.Fragment,null,V.default.createElement(_.DrawerButtonSimple,{icon:t,onClick:a,ariaLabel:r,xstyle:Q.newChatButton},n),V.default.createElement(o.default,null))}function $(e,t){const{title:a,onBack:n,onClick:o,onNewGroup:_,onNewCommunity:Z,onNewContact:Q}=e,[$,ee]=(0,V.useState)(""),[te,ae]=(0,V.useState)(null),ne=(0,V.useRef)(),re=(0,V.useRef)(),ie=(0,V.useRef)(),le=Boolean($),oe=(0,V.useMemo)((()=>h.ContactCollection.frequentContacts("message")),[h.ContactCollection.length]),se=(0,V.useMemo)((()=>le?[]:oe),[le,oe]),ue=null!=te?h.ContactCollection.get(te):null,[de]=(0,V.useState)((()=>new T.default)),ce=(0,I.isLidContactOneOnOneChatEnabled)(),fe=(0,i.getABPropConfigValue)("web_chat_with_unknown_contacts"),pe=(0,B.usernameContactlessChatEnabled)();let he=U.fbt._("Search contacts",null,{hk:"22cmrf"});const me=(0,G.default)();(0,Y.useListener)(h.ContactCollection,"change:name",me),fe&&(he=pe?U.fbt._("Search name, number or @username",null,{hk:"4wq9Jg"}):(0,M.default)("Search name or number"));const ge=(0,V.useCallback)((e=>{h.ContactCollection.ensureSorted();const t="string"==typeof e?e:$;if(!t)return h.ContactCollection.getFilteredContacts({showMe:!!t,includeLidContacts:ce});const a=h.ContactCollection.getFilteredContacts({showMe:!!t,includeLidContacts:ce}).concat(h.ContactCollection.filter((e=>e.name&&!(0,m.getIsMe)(e)&&!(0,m.getIsPSA)(e)&&!(0,m.getIsWAContact)(e)&&!(0,m.getIsNewsletter)(e)))),n=x.default.accentFold(t),r=(0,R.numberSearch)(n);return a.filter((function(e){return e.searchMatch(n,r)}))}),[$,ce]),ye=ge(),{unknownContactInfo:ve,loading:Ee,error:Ce,onRetry:be}=(0,X.default)({phoneNumber:$,shouldStartSearch:0===ye.length&&fe}),_e=(0,q.default)((e=>ee(e)),100),we=(0,V.useCallback)((e=>{ie.current=e,pe&&e.length>=3&&(0,A.queryUsernameExists)(e).then((t=>{var a;ie.current===e&&(ae(null!==(a=null==t?void 0:t.wid)&&void 0!==a?a:null),_e(e))})).catch((t=>{ie.current===e&&(ae(null),_e(e)),__LOG__(4,void 0,new Error)`queryUsernameExists failed with error:${t}`})),ie.current=e,_e(e)}),[pe,_e]),Se=(0,V.useCallback)(((e,t,a)=>{O.default.shouldIndicateFocus(),o(e,t,void 0,a)}),[o]),ke=(0,K.default)(function(){var e=(0,r.default)((function*(e,t){var a;e.preventDefault(),e.stopPropagation(),S.DrawerManager.closeDrawerLeft();const n=null!==(a=null==ve?void 0:ve.chat)&&void 0!==a?a:yield(0,P.findChat)(t,"newChatFlow");d.Cmd.openChatFromUnread(n)&&((0,D.logInitiatedContactlessChat)(n),(0,D.logContactListStartNewChatAction)({chatType:H.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACTLESS,isSearchResult:!0}),p.ComposeBoxActions.focus(n))}));return function(){return e.apply(this,arguments)}}()),Me=(0,V.useCallback)((e=>{e.preventDefault(),e.stopPropagation();const t=se[0];if(t)return void Se(e,t);if(ue)return void Se(e,ue,"username_contactless_search");if(!le){const t=h.ContactCollection.assertGet((0,W.getMeUser)());return void Se(e,t)}const a=ge(ie.current)[0];a?Se(e,a):(null==ve?void 0:ve.wid)&&ke(e,ve.wid)}),[se,ue,le,ge,null==ve?void 0:ve.wid,Se,ke]),Pe=[];if(!$){const e=V.default.createElement(N.default,null,V.default.createElement(v.DefaultGroupIcon,{height:36,width:36,directional:!0,className_DONOTUSE:L.default.defaultGroupIcon}));if(Pe.push({image:e,id:U.fbt._("New group",null,{hk:"43A4qP"}),onClick:_}),(0,y.contactManagementEnabled)()){const e=V.default.createElement(N.default,null,V.default.createElement(E.DefaultUserIcon,{height:36,width:36,directional:!0,className_DONOTUSE:L.default.defaultGroupIcon})),t=U.fbt._("New contact",null,{hk:"lf7Vk"});Pe.push({image:e,id:t,onClick:Q})}if((0,c.communitiesEnabled)()&&(0,c.communitiesCreationEnabled)()){const e=V.default.createElement(N.default,null,V.default.createElement(f.CommunityGroupIcon,{directional:!0}));Pe.push({image:e,id:U.fbt._("New community",null,{hk:"2fzGYI"}),onClick:Z})}}let Te;const Oe=(e=>{if(null!=e){const t=(0,l.getPhoneNumber)(e.id),a=null!=t?h.ContactCollection.get(t):null;if(!(null!=a&&ye.includes(a)||ye.includes(e)))return[e]}})(ue);return Te=0!==ye.length||ue?V.default.createElement(s.default,{ref:re,contacts:ye,flatListController:de,frequentContacts:se,usernameContacts:Oe,onClick:o,showMe:!le,showBot:!le,showPersonGroupDivisionHeader:!0}):$?Ee?V.default.createElement(k.SearchingNonContact,null):Ce?(0,k.SearchingNonContactError)((0,g.getErrorStr)(Ce),be):ve?V.default.createElement(F.default,{contactInfo:ve,onUnknownContactClick:ke}):V.default.createElement(k.SearchWithKeyword,{keyword:$}):V.default.createElement(k.SearchWithoutKeyword,null),V.default.createElement(C.default,{ref:t,key:"contact-modal",testid:"new-chat-drawer"},V.default.createElement(w.DrawerHeader,{title:a,type:(0,j.topMenuRedesignEnabled)()?w.DRAWER_HEADER_TYPE.SMALL:w.DRAWER_HEADER_TYPE.LARGE,onBack:n}),V.default.createElement(u.ListSearch,{ref:ne,onSearch:we,onEnter:Me,placeholder:he,type:u.ListSearchType.NEW_CHAT_CONTACT_SEARCH,loading:Ee,showPlaceholderUntilType:fe,focusOnMount:!0}),V.default.createElement(b.default,{flatListControllers:[de],backgroundColor:(0,z.materialRefreshEnabled)()?"default":null},Pe.map(((e,t)=>{let{image:a,id:n,onClick:r}=e;return V.default.createElement(J,{key:t,image:a,primary:n,onClick:r})})),Te))}J.displayName="PinnedItem";var ee=(0,V.forwardRef)($);t.default=ee},284435:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(a(170206)),i=n(a(46650)),l=n(a(667294));function o(e){let{choiceText:t,isChosen:a,onChoose:n}=e;return l.default.createElement(r.default,{primary:t,onClick:n,theme:"radio-button-row",image:l.default.createElement(i.default,{checked:a,hover:!1,radio:!0,onChange:n,systemUncheckedColor:!0})})}o.displayName="RadioButtonRow"},489999:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return h.default.createElement(d.SelectModal,{onConfirm:t=>{const a=e.msgText;if(1===t.length){let n;const u=t[0];n=u.isUser&&u.contact.isContactBlocked?(0,l.unblockContact)(u.contact):Promise.resolve(!0),n.then(function(){var t=(0,r.default)((function*(){if(a){if(u.urlText=e.urlText,u.active)return void s.ComposeBoxActions.paste(u,a);u.setComposeContents({text:a,timestamp:(0,i.unixTime)()})}(yield o.Cmd.openChatFromUnread(u))&&s.ComposeBoxActions.focus(u)}));return function(){return t.apply(this,arguments)}}())}else Promise.all(t.map((t=>{let n;n=t.isUser&&t.contact.isContactBlocked?(0,l.unblockContact)(t.contact):Promise.resolve(!0),n.then((()=>{t.urlText=e.urlText,(0,c.sendTextMsgToChat)(t,a)}))}))),o.Cmd.openChatFromUnread(t[0]);u.ModalManager.close()},maxItems:f.MULTICAST_LIMIT_GLOBAL,title:p.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:d.ListType.ChatSelectModal})};var r=n(a(348926)),i=a(632157),l=a(547979),o=a(780549),s=a(877171),u=a(114850),d=a(61740),c=a(498703),f=a(962260),p=a(548360),h=n(a(667294))},633698:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(103440),i=a(305521),l=n(a(395767)),o=a(114850),s=a(548360),u=n(a(667294));function d(e){const{onOK:t}=e,a=e.name||s.fbt._("Contact",null,{hk:"xBh6i"}),n=s.fbt._("To verify, send a message to {name} and try again.",[s.fbt._param("name",a)],{hk:"tR5c4"});return u.default.createElement(r.ConfirmPopup,{onOK:()=>{o.ModalManager.close(),t()},okText:(0,l.default)("OK")},u.default.createElement("div",null,u.default.createElement(i.EmojiText,{text:n})))}d.displayName="SendMsgToVerifyIdentityPopup"},229933:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(356097),i=a(811720),l=a(217714),o=a(526795),s=a(459912),u=n(a(75531)),d=n(a(923582)),c=a(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function h(e,t){const{starredMsgs:a,onClose:n,chat:p,headerType:h}=e,m=c.fbt._("Starred messages",null,{hk:"kjDwF"}),g=f.default.createElement(i.StarredMsgs,null),y=null!=p?f.default.createElement(l.HistorySyncChatStarredMsgsPlaceholderText,null):f.default.createElement(l.HistorySyncStarredMsgsPlaceholderText,null),v=f.default.createElement(o.MenuBarItem,{testid:"starred-menu",icon:f.default.createElement(s.MenuIcon,null),title:c.fbt._("Menu",null,{hk:"1Kc9Wl"})},f.default.createElement(d.default,{chat:p,msgs:a.toArray()}));return f.default.createElement(u.default,{ref:t,msgCollection:a,onClose:n,chat:p,title:m,emptyListText:g,footerText:y,headerMenu:v,headerType:h,displayType:r.DISPLAY_TYPE.STARRED_MSGS})}var m=(0,f.forwardRef)(h);t.default=m},923582:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(664149),i=a(675085),l=a(114850),o=n(a(290710)),s=a(548360),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){const{msgs:a,chat:n}=e;return u.default.createElement(r.Dropdown,{ref:t,type:r.MenuType.DropdownMenu,flipOnRTL:!0,key:"StarredDrawerHeader",dirX:r.DirX.LEFT},u.default.createElement(i.DropdownItem,{testid:"mi-unstar-all menu-item",action:()=>{l.ModalManager.open(u.default.createElement(o.default,{msgs:a,chat:n}))},disabled:0===a.length},s.fbt._("Unstar all",null,{hk:"34KaRh"})))}var f=(0,u.forwardRef)(c);t.default=f},163562:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onEmail:t}=e;return p.default.createElement(r.ConfirmPopup,{title:f.fbt._("Support chat is not available",null,{hk:"3TnaN7"}),onCancel:()=>s.ModalManager.close(),cancelText:(0,i.default)("Cancel"),okText:f.fbt._("Contact via email",null,{hk:"3232h1"}),onOK:()=>{new u.SupportAiSessionWamEvent({supportAiEventType:d.SUPPORT_AI_EVENT_TYPE.FALLBACK_EMAIL_BUTTON_CLICKED}).commit(),t()}},p.default.createElement(l.FlexColumn,null,p.default.createElement(o.default,{align:"center"},p.default.createElement(c.WDSTextTitle,null,f.fbt._("We are unable to start a support chat. Please try again later or contact us via email.",null,{hk:"5VWN9"})))))};var r=a(103440),i=n(a(395767)),l=a(690495),o=n(a(469733)),s=a(114850),u=a(945329),d=a(258175),c=a(873298),f=a(548360),p=n(a(667294))},331107:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=L;var r=n(a(81109)),i=n(a(348926)),l=n(a(229922)),o=a(468926),s=n(a(196554)),u=a(103440),d=a(753233),c=a(258105),f=n(a(395767)),p=a(690495),h=n(a(469733)),m=a(408827),g=a(114850),y=n(a(99398)),v=a(320291),E=a(751976),C=a(945329),b=a(729029),_=a(666836),w=a(208078),S=a(625786),k=a(390737),M=a(258175),P=a(873298),T=a(548360),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),x=n(a(895851));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}function L(e){const{onEmail:t,supportTag:a,entityId:n}=e,I=(0,x.default)(),[L,D]=(0,O.useState)(!0),[R,A]=(0,O.useState)(!1),N=()=>{new C.SupportAiSessionWamEvent({supportAiEventType:M.SUPPORT_AI_EVENT_TYPE.FALLBACK_EMAIL_DIALOG_SHOWN}).commit(),g.ModalManager.open(O.default.createElement(E.StartSupportChatErrorModalLoadable,{onEmail:t}))},j=function(){var e=(0,i.default)((function*(){if(new C.SupportAiSessionWamEvent({supportAiEventType:M.SUPPORT_AI_EVENT_TYPE.START_CHAT_CLICKED}).commit(),!y.default.online)return new C.SupportAiSessionWamEvent({supportAiEventType:M.SUPPORT_AI_EVENT_TYPE.NO_INTERNET_DIALOG_SHOWN}).commit(),void g.ModalManager.open(O.default.createElement(u.ConfirmPopup,{okText:(0,f.default)("OK"),onOK:()=>g.ModalManager.close()},O.default.createElement(p.FlexColumn,null,O.default.createElement(P.WDSTextLarge,{marginBottom:20},(0,_.SupportChatNoInternetModalTitle)()),O.default.createElement(P.WDSTextSmall,null,(0,_.SupportChatNoInternetModalMessage)()))));A(!0);const e=yield F();(0,l.default)((0,v.sendSupportRequest)("#chatbot",e?JSON.stringify(e):void 0),I).then((e=>{if(null!=e.message){g.ModalManager.close();const t=e.groupId;void 0!==t&&t.includes("@s.whatsapp.net")?(0,w.openSupportChat)(t,!0):(new C.SupportAiSessionWamEvent({supportAiEventType:M.SUPPORT_AI_EVENT_TYPE.TICKET_CREATION_DIALOG_SHOWN}).commit(),g.ModalManager.close(),k.ToastManager.open(O.default.createElement(S.Toast,{msg:(0,_.SupportChatConfirmationToast)()})))}else N(),A(!1)})).catch((()=>{N(),A(!1)}))}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,i.default)((function*(){let e={sagaKey:"saga_test"};if(L){const t=yield(0,m.getDebugInfo)({supportTag:a,convertFields:!0,addUserAgentDetails:!0,entityId:n});e=(0,r.default)((0,r.default)({},t),e)}return e}));return function(){return e.apply(this,arguments)}}();return O.default.createElement(u.ConfirmPopup,{okSpinner:R,okText:(0,_.SupportChatStartButtonText)(),onOK:()=>j(),okDisabled:R,cancelDisabled:R,onCancel:()=>g.ModalManager.close()},O.default.createElement(p.FlexColumn,null,O.default.createElement(h.default,{align:"center"},O.default.createElement(b.SupportChatNuxIcon,{width:200})),O.default.createElement(h.default,{marginTop:20},O.default.createElement(P.WDSTextLarge,{weight:"semibold"},T.fbt._("Chat with WhatsApp Support to get quick answers",null,{hk:"3dRh8d"}))),O.default.createElement(h.default,{marginTop:20},O.default.createElement(P.WDSTextMuted,null,(0,_.SupportChatDeviceInfoQuestion)())),O.default.createElement(p.FlexRow,{marginTop:20},O.default.createElement(h.default,{grow:1},O.default.createElement("label",{htmlFor:"contact-us-include-device"},O.default.createElement(P.WDSTextTitle,null,(0,_.SupportChatDeviceInfoContext)()," ",O.default.createElement(d.ExternalLink,{href:(0,c.getSupportChatFaqUrl)(),onClick:()=>{new C.SupportAiSessionWamEvent({supportAiEventType:M.SUPPORT_AI_EVENT_TYPE.REVIEW_INFORMATION_LEARN_MORE_CLICKED}).commit()}},T.fbt._("Learn more",null,{hk:"1rcCLt"}))))),O.default.createElement(h.default,{grow:0},O.default.createElement(o.CheckBox,{checked:L,id:"contact-us-include-device",testid:"contact-us-include-device",onChange:()=>D(!L)}))),O.default.createElement(h.default,{marginTop:20},O.default.createElement(P.WDSTextMuted,null,T.fbt._("Not ready for support chat? {linked_text_to_contact_support_via_email}",[T.fbt._param("linked_text_to_contact_support_via_email",O.default.createElement(s.default,{onClick:()=>{new C.SupportAiSessionWamEvent({supportAiEventType:M.SUPPORT_AI_EVENT_TYPE.CONTACT_US_VIA_EMAIL_MENU_ITEM_CLICKED}).commit(),g.ModalManager.close(),t()},testid:"contact-us-email-link"},T.fbt._("Contact us via email",null,{hk:"2VdfCn"})))],{hk:"ILR3s"})))))}L.displayName="StartSupportChatModal"},290710:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(351053),i=a(103440),l=a(305521),o=a(114850),s=a(548360),u=n(a(667294));const d=()=>{o.ModalManager.close()};function c(e){const{chat:t,msgs:a}=e;return u.default.createElement(i.ConfirmPopup,{onOK:()=>{t&&t.pendingAction++,r.ChatCollection.unstarAllMessages(a,t).finally((()=>{t&&t.pendingAction--})),o.ModalManager.close()},okText:s.fbt._("Unstar",null,{hk:"p4Vgd"}),onCancel:d},u.default.createElement("div",null,u.default.createElement(l.EmojiText,{text:s.fbt._("Unstar all messages?",null,{hk:"2DlC9f"})})))}c.displayName="UnstarAllPopup"},306225:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(953213),i=n(a(908081)),l=n(a(324093)),o=a(626194),s=a(305521),u=a(649917),d=a(81644),c=a(118612),f=a(435595),p=a(634401),h=n(a(401438)),m=a(791648),g=a(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),v=n(a(156720));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}const C={position:"g0rxnol2",marginBottom:"brac1wpa",backgroundColor:"ihvf49ua",boxShadow:"tio0brup"},b={paddingTop:"emrlamx0"},_={position:"g0rxnol2",zIndex:"nbczt5ty",height:"noboit18",backgroundColor:"gulicvea"},w={position:"lhggkp7q",end:"druapeav",bottom:"k2umuq2k"};function S(e){let{contact:t}=e;const a=(0,m.parseVcard)(t.vcard);return a?y.default.createElement("div",{className:(0,v.default)(C)},y.default.createElement(h.default,{parsedVcard:a,thumbnail:(0,m.vcardThumbnail)(a)})):null}function k(e,t){const{contactList:a,onSend:n,onBack:h,chat:m}=e;let E;if(null!=m.kind)switch(m.kind){case r.ChatKindType.Chat:E=g.fbt._({"*":'Send {count} contacts to "{chat}"?',_1:'Send 1 contact to "{chat}"?'},[g.fbt._plural(a.length,"count"),g.fbt._param("chat",m.title())],{hk:"1YHTCp"});break;case r.ChatKindType.Group:E=g.fbt._({"*":'Send {count} contacts to "{chat}"?',_1:'Send 1 contact to "{chat}"?'},[g.fbt._plural(a.length,"count"),g.fbt._param("chat",m.title())],{hk:"1fiTsV"});break;case r.ChatKindType.Broadcast:E=g.fbt._({"*":'Send {count} contacts to "{chat}"?',_1:'Send 1 contact to "{chat}"?'},[g.fbt._plural(a.length,"count"),g.fbt._param("chat",m.title())],{hk:"2YFPEr"});break;case r.ChatKindType.Community:case r.ChatKindType.Newsletter:}const C=null!=E?y.default.createElement(s.EmojiText,{text:E,direction:"auto",titlify:!0,ellipsify:!0}):null;return y.default.createElement(c.Modal,{ref:t,type:c.ModalTheme.Box},y.default.createElement(i.default,null,y.default.createElement(o.DrawerHeader,{type:o.DRAWER_HEADER_TYPE.POPUP,onBack:h},C),y.default.createElement(l.default,null,y.default.createElement(d.HotKeys,null,y.default.createElement("div",{className:(0,v.default)(b)},a.map(((e,t)=>y.default.createElement(S,{key:t.toString(),contact:(0,u.vcardFromContactModel)(e)})))))),y.default.createElement("div",{className:(0,v.default)(_)},y.default.createElement("div",{className:(0,v.default)(w)},y.default.createElement(f.Round,{large:!0,onClick:n},y.default.createElement(p.SendIcon,{directional:!0}))))))}S.displayName="Vcard";var M=(0,y.forwardRef)(k);t.default=M},81499:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(881841),i=a(122583),l=n(a(670983)),o=a(798324),s=a(287461),u=a(62375),d=a(700179),c=n(a(692629)),f=n(a(196554)),p=a(177938),h=a(660666),m=a(306703),g=n(a(245956)),y=n(a(908081)),v=n(a(324093)),E=a(626194),C=a(225882),b=a(305521),_=a(753233),w=a(258105),S=a(653887),k=a(914368),M=a(714574),P=a(858770),T=a(162164),O=te(a(213462)),x=te(a(288057)),I=a(94602),L=a(114850),D=a(21645),R=n(a(65162)),A=a(647781),N=n(a(633698)),j=a(956113),F=a(180519),B=a(129417),W=a(459857),H=a(673168),z=n(a(439114)),U=a(708233),V=a(548360),q=n(a(365616)),G=te(a(667294)),Y=n(a(156720)),K=a(379811),X=n(a(10617)),Z=a(808446),Q=a(441673),J=n(a(321201)),$=n(a(895851));function ee(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(ee=function(e){return e?a:t})(e)}function te(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=ee(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const ae={container:{position:"g0rxnol2",width:"e9dx81qg",height:"a2zl6d5m",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",transformOrigin:"rgztdhlt",animationName:"d30yvege",animationDuration:"eb9g83lr",animationTimingFunction:"kl1dhzdn"},circleContainer:{backgroundColor:"ur864smd"},checkmarkContainer:{backgroundColor:"bn27j4ou"},errorContainer:{backgroundColor:"rxgtltrb"},circle:{width:"ar4jf3c7",height:"aik2f73q",paddingTop:"af9wj70c",paddingEnd:"sjajxv0r",paddingBottom:"jzp2c175",paddingStart:"tdx57lpj"},spinner:{paddingTop:"af9wj70c",paddingEnd:"sjajxv0r",paddingStart:"tdx57lpj",paddingBottom:"t17ktnxr"},digit:{display:"l7jjieqr",width:"jte5jbqx"},block:{display:"l7jjieqr",width:"ilqz664c",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm"},row:{width:"yn8wkgi7",marginTop:"kiiy14zj",marginEnd:"k1jo73ug",marginBottom:"j4enbv94",marginStart:"isfiuinm",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"prv4wu9t"},checkmark:{position:"g0rxnol2",top:"myeiuhv9",fontSize:"ipry0idr",color:"k17s6i4e",textAlign:"qfejxiq4",transform:"m7vo9q63"},error:{position:"g0rxnol2",top:"myeiuhv9",fontSize:"ipry0idr",color:"k17s6i4e",textAlign:"qfejxiq4",transform:"m7vo9q63"},errorBanner:{position:"lhggkp7q",top:"dbs0ofhi",zIndex:"l355kaf8",boxSizing:"cm280p3y",width:"ln8gz9je",paddingTop:"emrlamx0",paddingEnd:"itegkywt",paddingBottom:"aiput80m",paddingStart:"rppts313",fontSize:"maaasku1",lineHeight:"q5jc98e4",color:"k17s6i4e",textAlign:"qfejxiq4",backgroundColor:"dte9zi8s"},webcam:{position:"g0rxnol2",width:"ln8gz9je",marginBottom:"r5imph41"},webcamVideo:{transform:"n4o0o7gj",transformOrigin:"sx61ek5s"},overlay:{position:"lhggkp7q",top:"qq0sjtgm",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",boxShadow:"t207h1ry"},btnClose:{position:"lhggkp7q",top:"qlcjp10l",end:"citmgm7b",color:"s4k44ver"},section:{marginTop:"ignnouf6",textAlign:"qfejxiq4",animationName:"gsqs0kct",animationDuration:"oauresqk",animationTimingFunction:"kl1dhzdn"},dragAndDropExplanation:{display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",fontSize:"enbbiyaj",textAlign:"qfejxiq4",position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0",background:"kwyvshhd"},form:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingEnd:"b7dpvuw3",paddingBottom:"s9fl9ege",paddingStart:"pxobjmf4"},photo:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"ignnouf6",marginBottom:"bibl1e27",transformOrigin:"rgztdhlt",animationName:"i9q6l8xd",animationDuration:"eb9g83lr",animationTimingFunction:"kl1dhzdn"},code:{marginTop:"iy2cu22y",textAlign:"qfejxiq4"},explanation:{fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"pm5hny62",textAlign:"qfejxiq4"},noWrap:{display:"p357zi0d",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"}};function ne(e){let{binary:t,contact:a}=e;const[n,r]=(0,G.useState)(!1),[i,l]=(0,G.useState)(null),o=(0,G.useCallback)((e=>{const t=null==e?void 0:e.getElementsByTagName("canvas")[0];if(!t)return void l(null);const a=document.createElement("canvas");a.width=t.width+10,a.height=t.height+10;const n=a.getContext("2d");n.fillStyle="white",n.fillRect(0,0,a.width,a.height),n.drawImage(t,5,5),a.toBlob((e=>l(e)),"image/png")}),[l]),s=(0,W.getMaybeMeUser)();let d=null;if(n&&i&&s){const e=(0,M.getFormattedUser)(a),t=(0,M.getFormattedUser)(p.ContactCollection.assertGet(s));d=G.default.createElement(g.default,{file:i,download:"Verification Code between "+t+" and "+e,extension:S.AllowedFileExtensions.PNG},G.default.createElement(u.AvatarOverlay,{text:V.fbt._("Download code",null,{hk:"uiMxK"})}))}return G.default.createElement("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},d,G.default.createElement(A.WAWebQRCode,{data:t,size:k.QR_EDGE/2,onChange:o,xstyle:ae.circle}))}function re(){return G.default.createElement("div",{className:(0,Y.default)(ae.circle)},G.default.createElement("div",{className:(0,Y.default)(ae.spinner)},G.default.createElement(j.Spinner,{size:52,stroke:4})))}function ie(e){let{binary:t,contact:a}=e;return G.default.createElement("div",{className:(0,Y.default)(ae.container,ae.circleContainer)},t?G.default.createElement(ne,{binary:t,contact:a}):G.default.createElement(re,null))}ne.displayName="VerificationQRCode",ie.displayName="QRCircle";function le(e){if(null==e.string)return G.default.createElement("div",null,V.fbt._("Loading",null,{hk:"3Ljo9r"}));const t=e.string;if(60!==t.length)return __LOG__(3)`verificationString:render props.string should be ${60} characters long instead of ${t.length}.`,G.default.createElement("div",null,V.fbt._("Couldn't display security code. You can verify using the QR code instead.",null,{hk:"3yMFFL"}));const a=[];for(let e=0;e<3;e++){const n=[];for(let a=0;a<4;a++){const r=[];for(let n=0;n<5;n++){const i=t.charAt(5*e*4+5*a+n);r.push(G.default.createElement("span",{className:(0,Y.default)(ae.digit),key:n},i))}n.push(G.default.createElement("span",{className:(0,Y.default)(ae.block),key:a},r))}a.push(G.default.createElement(m.SelectableDiv,{className:(0,Y.default)(ae.row),key:e,selectable:!0},n))}return G.default.createElement(m.SelectableDiv,{selectable:!0},a)}const oe=(0,G.memo)(le,((e,t)=>t.string===e.string));function se(){return G.default.createElement("div",{className:(0,Y.default)(ae.container,ae.checkmarkContainer)},G.default.createElement("div",{className:(0,Y.default)(ae.checkmark)}," "))}function ue(){return G.default.createElement("div",{className:(0,Y.default)(ae.container,ae.errorContainer)},G.default.createElement("div",{className:(0,Y.default)(ae.error)},"!"))}function de(e){let{children:t}=e;return G.default.createElement("div",{className:(0,Y.default)(ae.errorBanner)},t)}function ce(e){let{binary:t,contact:a,state:n}=e;switch(n){case"qr":return G.default.createElement(ie,{binary:t,contact:a});case"checkmark":return G.default.createElement(se,null);default:return G.default.createElement(ue,null)}}oe.displayName="VerificationString",de.displayName="VerificationBanner",ce.displayName="VerificationCircle";function fe(e){const{stream:t,onCapture:a,disposeStream:n}=e,r=(0,G.useRef)(null),i=(0,G.useRef)(!1),l=(0,G.useRef)(null),o=(0,G.useRef)(null),[s]=(0,X.default)((()=>{var e;const t=null===(e=l.current)||void 0===e?void 0:e.underlyingVideo();if(!t)return;const n=document.createElement("canvas");n.width=t.videoWidth/2,n.height=t.videoHeight/2;const r=n.getContext("2d");r.drawImage(t,n.width/2,n.height/2,n.width,n.height,0,0,n.width,n.height);const i=r.getImageData(0,0,n.width,n.height);a(i)}),200);(0,G.useEffect)((()=>((0,O.isSrcObjectInVideoElement)()||(r.current=window.URL.createObjectURL(t)),()=>{t&&(null==n||n(),null!=r.current&&window.URL.revokeObjectURL(r.current))})),[]);const u=()=>{var e;const t=null===(e=l.current)||void 0===e?void 0:e.underlyingVideo(),a=o.current;if(!t||!a)return;const n=t.offsetHeight,r=t.offsetWidth,i=r/3,s=i;a.style.width=i+"px",a.style.height=s+"px",a.style.margin=(n-s)/2+"px "+(r-i)/2+"px"},d=()=>{!0!==i.current&&(u(),s())};(0,Z.useListener)(window,"resize",u);let c=null;var f;e.stream&&(c=G.default.createElement("div",{className:(0,Y.default)(ae.webcam)},G.default.createElement("div",{className:(0,Y.default)(ae.webcamVideo)},G.default.createElement(z.default,{autoPlay:!0,ref:l,onPlay:d,src:null!==(f=r.current)&&void 0!==f?f:void 0,srcObject:null!=r.current?void 0:e.stream,width:"100%"})),G.default.createElement("div",{className:(0,Y.default)(ae.overlay),ref:o}),G.default.createElement("button",{onClick:e.onClose,className:(0,Y.default)(ae.btnClose)},G.default.createElement(U.XAltIcon,null))));return c}function pe(e,t){const{contact:a,onClose:n,isFirstLevel:u=!1}=e,p=(0,J.default)(),m=(0,$.default)(),[g,S,k,A,j,z,U,X,Z,ee,te,ne]=(0,K.useContactValues)(a.id,[M.getVerificationBinary,M.getVerificationString,M.getFormattedUser,M.getFormattedShortName,h.getIsMe,h.getId,h.getShowBusinessCheckmarkAsPrimary,M.getPhoneNumber,M.getDisplayName,M.getShareOwnPn,M.getPnForLid,h.getIsHosted]),re=(0,G.useRef)(null),ie=(0,G.useRef)(null),le=(0,G.useRef)(null),[se,ue]=(0,G.useState)("qr"),[pe,he]=(0,G.useState)(null),[me,ge]=(0,G.useState)(null),[ye,ve]=(0,G.useState)(!1),[Ee,Ce]=(0,G.useState)(null),[be,_e]=(0,G.useState)(null),we=()=>{(0,T.getIdentityVerificationDataJob)(z,{shareOwnPn:ee||!z.isLid()||(0,W.isMeAccount)(z),usernameSecurityCodeGenerationEnabled:(0,B.usernameSecurityCodeGenerationEnabled)()}).then((e=>{m.aborted||(e?((0,r.compareArrayBuffer)(Ee,e.binary)&&!e.string!==be||(null!=Ee&&L.ModalManager.open(G.default.createElement(C.E2eChangeModal,{contact:a})),Ce(e.binary),_e(e.string)),Me()):(Pe(),L.ModalManager.open(G.default.createElement(N.default,{name:k,onOK:()=>{n?n():null==p||p.requestDismiss()}}))))}))},[Se]=(0,Q.useTimeout)((0,G.useCallback)((()=>he(null)),[he]),5e3),ke=e=>{ue("qr"),he(e),Se()},[Me,Pe]=(0,Q.useTimeout)(we,1e3),[Te]=(0,Q.useTimeout)((0,G.useCallback)((()=>ue("qr")),[ue]),3e3);function Oe(e){Ie(),he(null),ue(e),Te()}const[xe]=(0,Q.useTimeout)((()=>{me&&null==pe&&ke(V.fbt._("Please try increasing the brightness or reducing light reflection.",null,{hk:"2uEW7v"}))}),7e3),Ie=()=>{he(null),ge(null),re.current=null},Le=e=>{const t=(e=>{let t;const a=A;switch(e){case o.FingerprintValidationResult.UNEXPECTED_VERSION_OLD:t=V.fbt._("The scanned QR code was generated by an out of date app version, please update the other device to the latest version and try again.",null,{hk:"3fV95G"});break;case o.FingerprintValidationResult.UNEXPECTED_VERSION_NEW:t=V.fbt._("Your client version is out of date, please update this device to the latest version and try again.",null,{hk:"1MGkqb"});break;case o.FingerprintValidationResult.REMOTE_WRONG_CHAT_PEER:t=V.fbt._('You opened "Verify Security Code" for the wrong account on your other device. Open it for {contact_name} to verify.',[V.fbt._param("contact_name",a)],{hk:"4wlUz5"});break;case o.FingerprintValidationResult.REMOTE_WRONG_CHAT:t=V.fbt._('You opened "Verify Security Code" for the wrong phone number. Open it for the correct number to verify {contact_name}.',[V.fbt._param("contact_name",a)],{hk:"3Pn5o6"});break;case o.FingerprintValidationResult.LOCAL_WRONG_CHAT:t=V.fbt._('{contact_name} opened "Verify Security Code" for the wrong chat. Ask {contact_name} to open it for your account.',[V.fbt._param("contact_name",a)],{hk:"2T7QR"});break;case o.FingerprintValidationResult.LOCAL_PN_MISMATCH:t=V.fbt._("Unable to verify your phone number. Share your phone number with {contact_name} and try again.",[V.fbt._param("contact_name",a)],{hk:"4iLxUB"});break;case o.FingerprintValidationResult.REMOTE_PN_MISMATCH:case o.FingerprintValidationResult.REMOTE_PN_MISMATCH_PEER:case o.FingerprintValidationResult.REMOTE_PN_MISSING_PEER:case o.FingerprintValidationResult.REMOTE_PN_MISSING:t=V.fbt._("Unable to verify the phone number of {contact_name} . Ask {contact_name} to share their phone number and try again.",[V.fbt._param("contact_name",a)],{hk:"4tgzgH"});break;case o.FingerprintValidationResult.LOCAL_USERNAME_MISMATCH:case o.FingerprintValidationResult.LOCAL_USERNAME_MISSING_PEER:case o.FingerprintValidationResult.LOCAL_USERNAME_MISSING:t=V.fbt._("Unable to verify your username. Send a message to {contact_name} and try again.",[V.fbt._param("contact_name",a)],{hk:"3NvFyY"});break;case o.FingerprintValidationResult.REMOTE_USERNAME_MISMATCH_PEER:case o.FingerprintValidationResult.REMOTE_USERNAME_MISMATCH:case o.FingerprintValidationResult.REMOTE_USERNAME_MISSING_PEER:case o.FingerprintValidationResult.REMOTE_USERNAME_MISSING:t=V.fbt._("Unable to verify the username of {contact_name} . Ask {contact_name} to send you a message and try again.",[V.fbt._param("contact_name",a)],{hk:"2wKGai"});break;case o.FingerprintValidationResult.MALFORMED_CODE:default:t=V.fbt._("The image does not contain a valid identity verification QR code.",null,{hk:"4q3XzO"})}return t})(e);ke(t)},De=(e,t)=>{const a=function(e){const t=(0,q.default)(e.data,e.width,e.height,{inversionAttempts:"dontInvert"});if(!t)return null;return Uint8Array.from(t.binaryData)}(e);if(t&&!a)return;const n=function(e,t){if(!e)return o.FingerprintValidationResult.MALFORMED_CODE;try{return(0,o.validateFingerprint)(e,new Uint8Array(t),(0,B.usernameSecurityCodeVerificationEnabled)())}catch(e){return o.FingerprintValidationResult.MALFORMED_CODE}}(a,(0,l.default)(Ee,"verificationBinary"));n!==o.FingerprintValidationResult.SUCCESS?n!==o.FingerprintValidationResult.LOCAL_KEYS_MISMATCH&&n!==o.FingerprintValidationResult.REMOTE_KEYS_MISMATCH&&n!==o.FingerprintValidationResult.LOCAL_PN_MISMATCH_PEER&&n!==o.FingerprintValidationResult.LOCAL_USERNAME_MISMATCH_PEER?Le(n):Oe("error"):Oe("checkmark")},Re=e=>{e.stopPropagation(),Ae(e.target.files)},Ae=e=>{if(!e||!e[0])return;const t=e[0];Ne(t);const a=ie.current;a&&a.reset()},Ne=e=>{const t=URL.createObjectURL(e),a=document.createElement("canvas"),n=a.getContext("2d"),r=new Image;r.src=t,r.onload=()=>{a.width=r.width,a.height=r.height,n.drawImage(r,0,0);const e=n.getImageData(0,0,r.width,r.height);De(e,!1),window.URL.revokeObjectURL(t)}},je=()=>{const{asyncStream:e,disposeStream:t}=O.start("camera");re.current=t,e.then((e=>(e=>{ue("qr"),ge(e),xe()})(e))).catch((0,i.filteredCatch)(x.GetUserMedia.NotAllowedError,(()=>{L.ModalManager.open(G.default.createElement(P.GuidePopup,{messaging:P.Messaging.CAMERA_FAIL,type:P.GuidePopupType.GUIDE_UNBLOCK}))}))).catch((0,i.filteredCatch)(x.GetUserMedia.GetUserMediaError,(()=>{L.ModalManager.open(G.default.createElement(P.GuidePopup,{messaging:P.Messaging.CAMERA_MISSING,type:P.GuidePopupType.GUIDE_NONE}))})))},Fe=()=>{const e=le.current;null==e||e.click()},Be=()=>{n?n():null==p||p.requestDismiss()};(0,G.useEffect)((()=>(we(),()=>{var e;null===(e=re.current)||void 0===e||e.call(re)})),[]);const We=V.fbt._("To verify that messages and calls with {formatted_name} are end-to-end encrypted, open this screen on your phone, and follow the instructions.",[V.fbt._param("formatted_name",te)],{hk:"7Kbro"}),He=V.fbt._("To verify that messages and calls with {formatted_name} are end-to-end encrypted, scan or upload this code on their device.",[V.fbt._param("formatted_name",te)],{hk:"3hFN3T"});let ze,Ue=null,Ve=null,qe=null;const Ge=z.isLid()&&(null==X||!0!==ee);ze=(0,s.getABPropConfigValue)("adv_v2_m6")?Ge?He:V.fbt._("To verify that messages and calls with {contactName} are end-to-end encrypted, scan or upload this code on their device. You can also compare the number above instead.",[V.fbt._param("contactName",A)],{hk:"9dDDf"}):Ge?We:V.fbt._("To verify that messages and calls with {contactName} are end-to-end encrypted, scan or upload this code on their device. You can also compare the number above instead.",[V.fbt._param("contactName",A)],{hk:"9dDDf"}),j&&(ze=V.fbt._("To verify that messages with yourself are end-to-end encrypted, scan or upload this code on your device. You can also compare the number above instead.",null,{hk:"2ZIyy6"})),(0,d.bizHostedDevicesEnabled)()&&((0,I.isSMB)()&&!0===(0,H.getIsHostedMeAccountFromLocalStorage)()?ze=j?V.fbt._("To verify end-to-end encryption for group chats, calls and status updates with yourself, scan this code on your device. You can also compare the numbers above instead.",null,{hk:"3pLKsC"}):V.fbt._("To verify end-to-end encryption for group chats, calls and status updates with this contact, scan this code on their device. You can also compare the numbers above instead.",null,{hk:"4xr63m"}):!0===ne&&(ze=V.fbt._("To verify end-to-end encryption for group chats, calls and status updates with this business, scan this code on their device. You can also compare the numbers above instead.",null,{hk:"fsqGy"}))),Ee&&(R.default&&(Ue=G.default.createElement("div",{className:(0,Y.default)(ae.section)},null!=me?G.default.createElement(c.default,{type:"primary",onClick:Ie},V.fbt._("Turn Off Camera",null,{hk:"3OyAHl"})):G.default.createElement(c.default,{type:"primary",onClick:je},V.fbt._("Scan Code",null,{hk:"170pLA"})))),Ve=G.default.createElement("div",{className:(0,Y.default)(ae.section)},G.default.createElement(c.default,{type:"primary",onClick:Fe},V.fbt._("Upload Code",null,{hk:"2aJIAo"})),ye&&G.default.createElement("div",{className:(0,Y.default)(ae.dragAndDropExplanation)},V.fbt._("Release to verify",null,{hk:"2K08kb"}))),qe=G.default.createElement("form",{ref:ie,method:"POST"},G.default.createElement("input",{ref:le,accept:"image/*",type:"file",style:{display:"none"},onChange:Re,onClick:e=>e.stopPropagation()})));const Ye=me&&G.default.createElement(fe,{stream:me,disposeStream:re.current,onCapture:e=>{De(e,!0)},onClose:Ie});let Ke,Xe;u?Ke=Be:Xe=Be;const Ze=G.default.createElement(D.Name,{contact:a,showBusinessCheckmark:U,titlify:!0,ellipsify:!0,showMessageYourselfName:!0});return G.default.createElement(y.default,{ref:t,onDrop:e=>{Ee&&(e.stopPropagation(),Ae(e.dataTransfer.files))},onDragChange:e=>{ve(e)}},G.default.createElement(E.DrawerHeader,{type:E.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onBack:Xe,onCancel:Ke},G.default.createElement(F.TextDiv,{theme:"title"},G.default.createElement(b.EmojiText,{text:V.fbt._("Verify Security Code",null,{hk:"1vTVgt"})})),G.default.createElement(F.TextDiv,{theme:"small",xstyle:ae.noWrap},j?Ze:G.default.createElement(b.EmojiText,{text:V.fbt._("You, {contact-name}",[V.fbt._param("contact-name",k)],{hk:"3zkeq7"}),ellipsify:!0}))),Ye,null!=pe&&G.default.createElement(de,null,pe),G.default.createElement(v.default,null,G.default.createElement("div",{className:(0,Y.default)(ae.form)},G.default.createElement("div",{className:(0,Y.default)(ae.photo)},G.default.createElement(ce,{state:se,binary:Ee,contact:a})),G.default.createElement("div",{className:(0,Y.default)(ae.section)},G.default.createElement("div",{className:(0,Y.default)(ae.code),dir:"ltr"},null!=be&&G.default.createElement(oe,{string:be}))),G.default.createElement("div",{className:(0,Y.default)(ae.section)},G.default.createElement("p",{className:(0,Y.default)(ae.explanation)},G.default.createElement("span",null,ze,""),G.default.createElement(f.default,{onClick:()=>{(0,_.openExternalLink)((0,w.getE2EFaqUrl)())}},V.fbt._("Learn more",null,{hk:"1rcCLt"})))),Ue,Ve,qe)))}var he=(0,G.forwardRef)(pe);t.default=he},569389:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(a(111457)),i=n(a(667294));function l(e){let{mimeType:t,url:a}=e;return i.default.createElement("div",{className:r.default.container,"data-animate-attach-media":!0},i.default.createElement("div",{className:r.default.media},i.default.createElement("audio",{controls:!0,type:t,src:a})))}l.displayName="AttachMediaTypeAudio"},470608:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(a(662519)),i=a(396574),l=a(937484),o=n(a(667294));function s(e){var t,a;let{filename:n,mimeType:s}=e;const u=(0,i.classnamesConvertMeToStylexPlease)(r.default.icon,null!==(t=null===(a=l.DOCUMENT_MIMETYPES[s])||void 0===a?void 0:a.icon)&&void 0!==t?t:"icon-doc-generic");return o.default.createElement("div",{className:r.default.container,"data-animate-attach-media":!0},o.default.createElement("div",{className:r.default.media},o.default.createElement("div",{className:r.default.document},o.default.createElement("div",{className:u}),o.default.createElement("div",{className:r.default.text},n))))}s.displayName="AttachMediaTypeFile"},110535:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(a(967154)),i=n(a(535937)),l=n(a(356933)),o=a(396574),s=a(937484),u=n(a(821384)),d=a(956113),c=n(a(439114)),f=a(548360),p=n(a(667294));const h=(0,i.default)(s.MIMETYPES,(e=>"image"===(null==e?void 0:e.msgType)||"video"===(null==e?void 0:e.msgType)));function m(e){let t,{isGif:a,mimeType:n,preview:i,processing:s,size:m,url:g}=e;switch(h[n].msgType){case"image":t=p.default.createElement("img",{alt:f.fbt._("Preview",null,{hk:"1wMxOr"}),src:g,className:l.default.img});break;case"video":{const e=a?{loop:!s,autoPlay:!s,muted:!1,controls:!1}:{},n=s?p.default.createElement("div",{className:l.default.spinner},p.default.createElement(d.Spinner,{color:"white",size:50,stroke:3})):null,u=i?p.default.createElement("img",{alt:f.fbt._("Preview",null,{hk:"1wMxOr"}),className:l.default.staticPreview,src:`data:image/jpeg;base64,${i}`}):null,h=s?null:p.default.createElement(c.default,(0,r.default)({controls:!0,controlsList:"nodownload nofullscreen",className:l.default.video},e,{src:g}));t=p.default.createElement("div",{className:(0,o.classnamesConvertMeToStylexPlease)(l.default.img,l.default.videoContainer)},n,h,u);break}case"audio":t=p.default.createElement("audio",{controls:!0,className:l.default.audio,type:n,src:g})}return p.default.createElement("div",{className:l.default.container,"data-animate-attach-media":!0},p.default.createElement("div",{className:l.default.media},p.default.createElement(u.default,{type:"scaleDown",size:m},t)))}m.displayName="AttachMediaTypeMedia"},535355:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(a(470608)),i=n(a(820989)),l=a(396574),o=n(a(932325)),s=n(a(821384)),u=a(548360),d=n(a(667294));function c(e){let{filename:t,fullPreview:a,fullPreviewSize:n,mimeType:c,pageCount:f,showBorder:p=!1,showPageCount:h=!0}=e;if(a&&n&&null!=f&&f>0){const e=u.fbt._({"*":"{count} Pages",_1:"{count} Page"},[u.fbt._plural(f),u.fbt._param("count",o.default.n(f))],{hk:"fZM9c"});return d.default.createElement("div",{className:i.default.container,"data-js-attach-preview":!0},d.default.createElement("div",{className:i.default.preview},d.default.createElement(s.default,{type:"scaleDown",size:n},d.default.createElement("img",{alt:u.fbt._("Preview",null,{hk:"1wMxOr"}),src:a,className:(0,l.classnamesConvertMeToStylexPlease)({[i.default.imgBorder]:p,[i.default.img]:!0})}))),h&&d.default.createElement("div",{className:i.default.caption},e))}return d.default.createElement(r.default,{mimeType:c,filename:t})}c.displayName="AttachMediaTypePdf"},915132:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=null==e.maxItems?o.ServerProps.maxParticipants:e.maxItems;return u.default.createElement(i.SelectModal,{onConfirm:t=>{0===t.length&&r.ModalManager.close(),(t=>{for(const a of t)(0,l.default)(e.contacts,a),a.composeQuotedMsg=null;e.onContactsSent(t[0]),r.ModalManager.close()})(t)},maxItems:t,title:s.fbt._("Send contacts",null,{hk:"9ZMyz"}),listType:i.ListType.ChatSelectModal,onCancel:()=>{r.ModalManager.close()}})};var r=a(114850),i=a(61740),l=n(a(27752)),o=a(362687),s=a(548360),u=n(a(667294))},568898:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=t.COLOR_OPTIONS=void 0,t.EditGroupProfileDrawer=H,t.PHOTO_SIZE=t.ImageType=t.IMAGE_SIZE=void 0;var r=n(a(348926)),i=n(a(670983)),l=a(327671),o=n(a(908081)),s=n(a(324093)),u=a(626194),d=n(a(842990)),c=a(84409),f=a(690495),p=n(a(469733)),h=a(29394),m=a(234200),g=a(145192),y=a(675249),v=a(139519),E=a(915272),C=a(435595),b=a(625786),_=a(390737),w=n(a(774426)),S=n(a(747384)),k=n(a(556869)),M=a(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),T=n(a(156720));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}t.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=64;const x=a(76672).Mirrored(["EMOJI","STICKER"]);t.ImageType=x;const I={container:{backgroundColor:"p1zdgkh6",position:"g0rxnol2",width:"ln8gz9je",height:"ppled2lx"},body:{flexGrow:"ggj6brxn"},footer:{display:"p357zi0d",position:"g0rxnol2",width:"ln8gz9je",height:"db4qzak4",zIndex:"b9fczbqn",alignItems:"gpmkiw74",justifyContent:"ac2vgrno",backgroundColor:"rrq4r3yd"},btn:{transform:"m7vo9q63"},photoContainer:{marginTop:"lxsc1wef",marginEnd:"poiibwu2",marginBottom:"iyjcf3gk",marginStart:"hqw9ulo5",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",overflowX:"gfz4du6o",overflowY:"r7fjleex",isolation:"mge1ni6g"},colorPanel:{marginTop:"etgvethi"}},L={emojiIcon:{width:"hgg0ttet",height:"qgpfrw6h"},stickerIcon:{width:"oimozejp",height:"f2o2jtpu"}},D=[["purple","sky-blue","green","yellow","orange","pink"],["cool-gray","cobalt","teal","red","sand"]],R=[].concat(...D);t.COLOR_OPTIONS=R;const A=160;t.PHOTO_SIZE=A;const N=104;t.IMAGE_SIZE=N;const j=90,F=48;function B(e){const t=[],a=e.split(" ");for(let e=0;e<a.length;e++)a[e].length>0&&t.push(a[e]);return t}function W(e,t){let a="";for(let e=0;e<t.length;e++)a+=(0===e?"":" ")+t[e].text;const n=B(a);if(e.length!==n.length)return!0;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!0;return!1}function H(e){var t,a;let{onCancel:n,onFinished:O,sendEmojiStickerPanelOpenLoggingEvent:H,title:z}=e;const[U,V]=(0,P.useState)(null),[q,G]=(0,P.useState)(null),[Y,K]=(0,P.useState)(null),[X,Z]=(0,P.useState)(0),Q=(0,P.useRef)(null),J=(0,P.useRef)(null),$=(0,P.useRef)(!1),ee={EMOJI:0,STICKER:1},te=(0,P.useRef)({[ee.EMOJI]:()=>{},[ee.STICKER]:()=>{}}),ae=(0,P.useRef)([]),ne=(0,P.useRef)(null),re=M.fbt._("CHOOSE AN EMOJI OR STICKER",null,{hk:"2wW3mU"}).toString();(0,P.useEffect)((()=>{var e;null===(e=J.current)||void 0===e||e.cache()}),[U]),(0,P.useEffect)((()=>{const e=ne.current;if(null==e)return;const t=B(re);let a=W(t,e.textArr);for(;e.getHeight()>F||a;)e.fontSize(e.fontSize()-1),a=W(t,e.textArr)}),[re]);const ie=P.default.createElement(v.Stage,{width:A,height:A,className:(0,T.default)(I.photoContainer),ref:Q,onClick:()=>{null==U&&null==Y&&K(0)}},P.default.createElement(v.Layer,null,P.default.createElement(v.Rect,{width:A,height:A,fill:(0,w.default)(R[X],200)}),null==U?P.default.createElement(v.Text,{ref:ne,x:80,y:80,width:j,height:F,offset:{x:j/2,y:F/2},lineHeight:1.14,align:"center",verticalAlign:"middle",text:re,fontSize:14,fontFamily:'"SF Pro Text", "SF Pro Icons", system, -apple-system, system-ui, "system-ui", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", "Kohinoor Devanagari", sans-serif',fill:(0,w.default)("cool-gray-alpha",50)}):P.default.createElement(v.Image,{ref:J,width:N,height:N,offset:{x:52,y:52},x:80,y:80,image:U,filters:q===x.EMOJI&&$.current?[S.default]:[]})));Object.values(ee).forEach((e=>{"number"==typeof e&&(te.current[e]=()=>{Y===e&&K(null)})}));const le=function(){var e=(0,r.default)((function*(e,t){try{if(null!=e){const t=yield(0,y.createImageFromEmoji)(e);t&&(V(t),$.current=t.naturalWidth<=64&&t.naturalHeight<=64,G(x.EMOJI))}else{if(null==t)throw(0,k.default)("Neither emoji nor sticker is provided in handleEmojiStickerSelect()");{const e=yield(0,y.createImageFromSticker)(t);V(e),G(x.STICKER)}}}catch(e){_.ToastManager.open(P.default.createElement(b.Toast,{msg:M.fbt._("Failed to add image",null,{hk:"4BUTOp"})}))}}));return function(){return e.apply(this,arguments)}}(),oe=P.default.createElement("div",{className:(0,T.default)(I.btn),key:"btn-submit"},P.default.createElement(C.Round,{large:!0,onClick:()=>{if(null==U)_.ToastManager.open(P.default.createElement(b.Toast,{msg:M.fbt._("Choose an emoji or sticker to continue",null,{hk:"4i6xej"}),id:"ChooseAnEmojiOrStickerToContinueToast"}),_.ToastPosition.CENTER);else{var e,t,a,n;const r=null!==(e=null===(t=Q.current)||void 0===t?void 0:t.toDataURL({mimeType:"image/jpeg",pixelRatio:E.PROF_PIC_THUMB_SIDE/A,quality:0,width:A,height:A}))&&void 0!==e?e:"",l=null!==(a=null===(n=Q.current)||void 0===n?void 0:n.toDataURL({mimeType:"image/jpeg",pixelRatio:2*E.PROF_PIC_MIN_SIDE/A,quality:1,width:A,height:A}))&&void 0!==a?a:"";O(r,l,(0,i.default)(q,"selectedImageType"))}},theme:null==U?C.RoundTheme.Disabled:void 0,label:M.fbt._("Submit picture",null,{hk:"Kgb4U"})},P.default.createElement(l.CheckmarkLargeIcon,null)));return P.default.createElement(o.default,{key:"attach-edit-group-profile-modal",theme:"products"},P.default.createElement(u.DrawerHeader,{title:z,type:"multiMediaGallery",onCancel:n}),P.default.createElement(s.default,{overflow:"hidden"},P.default.createElement(f.FlexColumn,{className:(0,T.default)(I.container),align:"center",justify:"center"},P.default.createElement(p.default,{grow:1,xstyle:I.body},P.default.createElement(f.FlexColumn,{align:"center"},P.default.createElement(p.default,null,ie),P.default.createElement(p.default,null,P.default.createElement(h.IconTabs,{refs:ae.current,selectedIndex:Y,onSelect:e=>{var t;e!==Y&&(K(e),t=e===ee.EMOJI?x.EMOJI:x.STICKER,null!=H&&H(t))},tabConfigs:[{Icon:m.MediaEditorEmojiIcon,iconStyle:L.emojiIcon,ariaLabel:M.fbt._("Emojis selector",null,{hk:"3TL9SY"})},{Icon:g.MediaEditorStickerIcon,iconStyle:L.stickerIcon,ariaLabel:M.fbt._("Stickers selector",null,{hk:"2cPpsT"})}],popupAtLaunch:!0})),P.default.createElement(p.default,null,P.default.createElement(d.default,{className:(0,T.default)(I.colorPanel),colors:D,selectedIndex:X,onSelect:e=>{Z(e)}})))),P.default.createElement(p.default,{grow:0,xstyle:I.footer},oe)),Y===ee.EMOJI&&P.default.createElement(c.EmojiPanelPopup,{anchor:(0,i.default)(null===(t=ae.current[ee.EMOJI])||void 0===t?void 0:t.current,"iconTabRefs.current[tabsIndex.EMOJI]?.current"),onSelect:le,onClose:()=>te.current[ee.EMOJI]()}),Y===ee.STICKER&&P.default.createElement(c.StickerPanelPopup,{anchor:(0,i.default)(null===(a=ae.current[ee.STICKER])||void 0===a?void 0:a.current,"iconTabRefs.current[tabsIndex.STICKER]?.current"),onSelect:e=>le(null,e),onClose:()=>te.current[ee.STICKER]()})))}H.displayName="EditGroupProfileDrawer"},842990:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=a(396574),i=a(690495),l=a(81644),o=a(667738),s=n(a(774426)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),d=n(a(156720));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const f={row:{marginTop:"s11ka3oa"},btnOutline:{boxSizing:"cm280p3y",width:"mgp6u6um",height:"j8e73hjv",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",marginStart:"o1cmhq28",marginEnd:"itgzszx5"},btn:{width:"tknnhhou",height:"sai7fuui",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",":focus":{borderTopStartRadius:"mn9o3mn1",borderTopEndRadius:"xthzmdyy",borderBottomEndRadius:"jzps8tg2",borderBottomStartRadius:"jbikg389"}},btnSelected:{width:"jabl2ek9",height:"t1nufmh4"}};function p(e){let{className:t,colors:a,onSelect:n,selectedIndex:c}=e;const{theme:p}=(0,u.useContext)(o.ThemeContext),h=(0,u.useRef)(c),m=(0,u.useRef)([]),g={rows:a,getNum:()=>g.rows.reduce(((e,t)=>e+t.length),0)};let y=0;return u.default.createElement(l.HotKeys,{role:"tablist",handlers:{right:()=>{var e;const t=h.current===g.getNum()-1?0:h.current+1;null===(e=m.current[t])||void 0===e||e.focus()},left:()=>{var e;const t=0===h.current?g.getNum()-1:h.current-1;null===(e=m.current[t])||void 0===e||e.focus()}},className:(0,r.classnamesConvertMeToStylexPlease)(t)},g.rows.map(((e,t)=>u.default.createElement(i.FlexRow,{key:t,className:(0,d.default)(f.row),justify:"center"},e.map((e=>{const t=y++,a=c===t;return u.default.createElement(i.FlexRow,{key:t,justify:"center",align:"center"},u.default.createElement(i.FlexRow,{justify:"center",align:"center",className:(0,d.default)(f.btnOutline),style:{border:a?`1.5px solid ${(0,s.default)(e,"light"===p?600:300)}`:""}},u.default.createElement("button",{role:"tab",ref:e=>m.current[t]=e,tabIndex:a?0:-1,"aria-selected":a,className:(0,d.default)(f.btn,a&&f.btnSelected),style:{backgroundColor:(0,s.default)(e,200)},onClick:()=>n(t),onFocus:()=>h.current=t})))}))))))}p.displayName="ColorPanel"},774426:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a="sand"===e?(0,r.default)(l.get(`${e}-${t}`),"sandColorsMap.get(`${color}-${depth}`)"):(e=>getComputedStyle((0,r.default)(document.body,"document.body")).getPropertyValue(e))(`--wds-${e}-${t}`);if(""===a)throw(0,i.default)(`Get color failed (color=${e} depth=${t}). Please check whether wds color changed or there is a typo in color name.`);return a};var r=n(a(670983)),i=n(a(556869));const l=new Map([["sand-200","rgb(234, 224, 214)"],["sand-300","rgb(170, 148, 125)"],["sand-600","rgb(94, 83, 72)"]])},747384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[0,-1,0,-1,5,-1,0,-1,0],a=Math.round(Math.sqrt(t.length)),n=.5*a|0,r=e.data,i=e.width,l=e.height,o=new Uint8ClampedArray(r);for(let e=0;e<l;e++)for(let s=0;s<i;s++){const u=s,d=e,c=4*(e*i+s),f=[0,0,0];for(let e=0;e<a;e++)for(let r=0;r<a;r++){const s=d+e-n,c=u+r-n;if(s>=0&&s<l&&c>=0&&c<i){const n=4*(s*i+c),l=t[e*a+r];f[0]+=o[n]*l,f[1]+=o[n+1]*l,f[2]+=o[n+2]*l}}r[c]=f[0],r[c+1]=f[1],r[c+2]=f[2]}}},323795:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RETRY_OPTIONS=t.EditImageDrawer=void 0;var r=a(390934),i=a(327671),l=n(a(908081)),o=n(a(324093)),s=a(626194),u=n(a(573538)),d=n(a(727011)),c=a(753233),f=n(a(319419)),p=a(311329),h=n(a(929943)),m=n(a(821384)),g=a(785093),y=a(193085),v=a(435595),E=a(569056),C=n(a(79291)),b=n(a(844453)),_=a(548360),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),S=n(a(637660)),k=a(604774);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}const P={NONE:"none",RETAKE:"retake",RESTART:"restart"};t.RETRY_OPTIONS=P;const T=(0,w.forwardRef)(((e,t)=>{var a;const{attributionUrl:n,onRetake:M,retryText:T,onFinished:O,cropShape:x}=e,I=(0,w.useRef)(),L=(0,w.useRef)(null),D=(0,S.default)((()=>new h.default({id:(0,r.randomHex)(8)}))),[R]=(0,k.useMediaEditControllerValues)(D.current,[p.getIsInitialized]),[A,N]=(0,w.useState)(!1),[j,F]=(0,w.useState)({width:500,height:361}),[B]=(0,w.useState)((()=>new u.default(e.img))),W=(e,t)=>{var a;null===(a=I.current)||void 0===a||a.drawCanvas(e,t)},H=A?w.default.createElement("div",{className:d.default.btnSend,key:"btn-send"},w.default.createElement(v.Round,{large:!0,onClick:()=>{var e,t;null===(t=I.current)||void 0===t||t.saveCanvas(),null===(e=L.current)||void 0===e||e.crop().then((e=>{let{thumb:t,full:a}=e;O(t,a),B.cleanUp()}))},label:_.fbt._("Submit image",null,{hk:"2x0Z1K"})},w.default.createElement(i.CheckmarkLargeIcon,null))):null;let z;R&&(z=w.default.createElement(g.WrappedProfileCropTool,{editedMedia:B,stage:D.current.stage,cropOverlay:D.current.cropOverlay,mediaContainer:D.current.mediaContainer,drawCanvas:W,ref:L,cropShape:x||g.CropShapeType.CIRCLE}));const U=w.default.createElement(f.default,{className:d.default.mediaElement,editedMedia:B,mediaEditController:D.current,fitType:"cover",ref:I});let V;if(M){let e;switch(T){case P.NONE:e=null;break;case P.RETAKE:e=_.fbt._("Retake",null,{hk:"tGeQz"});break;case P.RESTART:default:e=_.fbt._("Upload",null,{hk:"3FMQvb"})}V=w.default.createElement("button",{className:d.default.retake,onClick:M},w.default.createElement("div",{className:d.default.retakeIcon},w.default.createElement(y.ReturnIcon,null)),e)}const q=n?w.default.createElement("div",{className:d.default.attribution},w.default.createElement(c.ExternalLink,{className:d.default.attributionLink,href:n},C.default.hostname(n)),w.default.createElement("span",null,_.fbt._("Image may be subject to copyright.",null,{hk:"XoHv1"}),w.default.createElement(c.ExternalLink,{href:(0,E.getTosUrl)()},_.fbt._("Terms of Service",null,{hk:"1Lpm6J"})))):null,G=x===g.CropShapeType.RECT?w.default.createElement("div",{className:d.default.hintText},_.fbt._("Hint: Use 16:9 ratio images (eg. 1920 x 1020 or its multiples)",null,{hk:"Lt5na"})):void 0,Y=w.default.createElement("div",{className:d.default.footer},w.default.createElement(b.default,{transitionName:"btn"},H),q,G),K=null!==(a=e.imageSize)&&void 0!==a?a:{width:500,height:361};return w.default.createElement(l.default,{ref:t,key:"attach-edit-modal",theme:"edit"},w.default.createElement(s.DrawerHeader,{title:_.fbt._("Drag the image to adjust",null,{hk:"atCd8"}),type:"offset",onCancel:e.onCancel,focusBackOrCancel:!0},V),w.default.createElement(o.default,{overflow:"hidden"},w.default.createElement("div",{className:d.default.mediaBody},z,w.default.createElement("div",{className:d.default.containerBackground},w.default.createElement(b.default,{transitionName:"capture"},w.default.createElement(m.default,{type:"cover",size:K,onObjectLoad:e=>{null!=e&&e instanceof HTMLElement&&(!j||j.width===e.clientWidth&&j.height===e.clientHeight||F({width:e.clientWidth,height:e.clientHeight}),A||N(!0))}},U)))),Y))}));t.EditImageDrawer=T,T.displayName="EditImageDrawer"},573538:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(682492)),i=a(698210),l=n(a(79291));class o{constructor(e,t,a,n){this.updateEditData=e=>{this.saveEdits(),this.editData=(0,r.default)({},this.editData,e)},this.updateEditItems=(e,t)=>{this.saveEdits();const a=[];this.editData.items&&this.editData.items.forEach((e=>{e!==t&&a.push(e)})),a.push(e),this.editData.items=a},this.saveEdits=()=>{const e=new o(this.media,this.originalImage,this.editData,this.previous);this.previous=e},this.revertEdit=()=>{this.previous&&(this.editData=this.previous.editData,this.previous=this.previous.previous)},this.saveEditsFromCanvas=e=>{const t=e.toDataURL();this.editedImage||(this.editedImage=new Image),this.editedImage.src=t},this.exportEditedMedia=()=>{if(this.hasEdits()&&this.editedImage){const e=this.editedImage.src;return l.default.dataURLtoFile(e)}return this.media instanceof File?this.media:(0,i.createFile)([this.media],"",{type:this.media.type})},this.hasEdits=()=>!!this.previous&&this.editedImage,this.cleanUp=()=>{window.URL.revokeObjectURL(this.originalImage.src)},this.media=e,t?this.originalImage=t:(this.originalImage=new Image,this.originalImage.src=window.URL.createObjectURL(e)),this.previous=n,this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null},(0,r.default)(this.editData,a)}}t.default=o},319419:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(28238),i=n(a(821384)),l=n(a(404350)),o=a(113189),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),u=n(a(156720)),d=n(a(969651)),c=n(a(558532));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p={position:"lhggkp7q",zIndex:"rys9xrs2",display:"qibyn6m3",width:"kr1k453a",height:"lds9pm4u"},h={zIndex:"b9fczbqn",width:"ln8gz9je",height:"ppled2lx"};function m(e,t){const{mediaEditController:a,editedMedia:n,mediaPickerStatsLogger:f,activeMediaId:m}=e,g=(0,s.useRef)(null),y=(0,s.useRef)(null),v=(0,s.useRef)(null),E=(0,s.useRef)(null),[C,b]=(0,s.useState)({height:1,width:1}),[_,w]=(0,s.useState)(null),S=((0,d.default)(),(e,t)=>{if(!g.current)return;const i=g.current;t&&f&&null!=m&&f.logChange(m,t);const l=n.editData,s=(e=>{let t;return _?t=_:(t=new r.Easel.Stage(e),t.enableMouseOver()),a.stage=t,t})(i);e&&(i.width=l.width,i.height=l.height),s.removeAllChildren(),null!=l.baseItem&&s.addChild(l.baseItem),l.items&&s.addChild(...l.items);const u=n.originalImage.naturalWidth,d=n.originalImage.naturalHeight;s.regX=u/2,s.regY=d/2,s.rotation=l.rotation,(0,o.isNonZeroNumber)(l.width)&&(0,o.isNonZeroNumber)(l.height)&&(s.x=l.width/2+l.scale*l.offsetX,s.y=l.height/2+l.scale*l.offsetY),s.scaleX=l.scale,s.scaleY=l.scale,s.update(),b({width:i.width,height:i.height}),w(s)}),k=()=>{const e=n.editData;n.editedImage=null;const t=n.originalImage;if(e.width||e.height||(e.width=t.naturalWidth,e.height=t.naturalHeight),!e.baseItem){const a=new r.Easel.Bitmap(t);e.baseItem=a}S(!0)},M=()=>{S(!0);const e=g.current;e&&n.saveEditsFromCanvas(e)},P=e=>{e&&(e.children.forEach((e=>{e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.enableMouseOver(0),e.clear())};(0,s.useEffect)((()=>{(()=>{const e=n.originalImage;e.complete?k():e.onload=k})(),E.current=new r.Easel.Stage(v.current),E.current.autoClear=!1,E.current.enableMouseOver(),y.current&&(a.mediaContainer=y.current),a.cropOverlay=E.current}),[]),(0,c.default)((()=>{const e=n.originalImage;e.complete||(e.onload=void 0),M(),P(_),P(E.current)}));const T=(e,t)=>{b({width:e,height:t})};(0,s.useImperativeHandle)(t,(()=>({saveCanvas:M,drawCanvas:S,updateCanvasSize:T})));const O=s.default.createElement("canvas",{ref:v,className:(0,u.default)(p)});return s.default.createElement("div",{className:e.className,ref:y},s.default.createElement(i.default,{type:e.fitType||"scaleDown",size:C},O,s.default.createElement(l.default,{ref:g,className:(0,u.default)(h)})))}var g=(0,s.forwardRef)(m);t.default=g},929943:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(481173);class r extends n.BaseModel{constructor(){super(...arguments),this.id=(0,n.prop)(),this.stage=(0,n.prop)(),this.cropOverlay=(0,n.prop)(),this.mediaContainer=(0,n.prop)()}clearStage(e){e&&(e.children.forEach((e=>{e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.clear())}}var i=(0,n.defineModel)(r);t.default=i},915272:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROF_PIC_THUMB_SIDE=t.PROF_PIC_MIN_SIDE=t.PROF_PIC_MAX_SIDE=void 0;t.PROF_PIC_MIN_SIDE=192;t.PROF_PIC_MAX_SIDE=640;t.PROF_PIC_THUMB_SIDE=96},785093:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedProfileCropTool=t.CropShapeType=void 0;var r=n(a(348926)),i=a(28238),l=v(a(428363)),o=a(81644),s=a(173144),u=a(27750),d=a(915272),c=n(a(625903)),f=n(a(556869)),p=a(548360),h=v(a(667294)),m=n(a(156720)),g=a(808446);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const E={scaler:{position:"lhggkp7q",end:"fz4q5utg",zIndex:"qjp6ryme",width:"a2hqsskl",lineHeight:"fyxtz58m",backgroundColor:"ihvf49ua",borderTopStartRadius:"f4zm7zaq",borderTopEndRadius:"aurtnaek",borderBottomEndRadius:"nsd82api",borderBottomStartRadius:"mhohgsbe",boxShadow:"d1gmyy70"},scalerButton:{color:"cs9t9or5",cursor:"ajgl1lbb"}},C=1.1,b=9/16,_=2.5625,w=a(76672).Mirrored(["CIRCLE","RECT","SQUIRCLE"]);function S(e,t){const{editedMedia:a,cropOverlay:n,drawCanvas:y}=e,v=(0,h.useRef)(0),S=(e,t)=>{const n=a.editData,r=v.current*_,i=(e-n.width/2)*n.scale,l=(e+n.width/2)*n.scale,o=(t+n.height/2)*n.scale,s=(t-n.height/2)*n.scale,u=r/2,d=r/2*b;return{overlapLeft:Math.min(0,-u-i)/n.scale,overlapRight:Math.min(0,l-u)/n.scale,overlapTop:Math.min(0,-d-s)/n.scale,overlapBottom:Math.min(0,o-d)/n.scale,x:i<-u&&l>u,y:s<-d&&o>d}},k=(t,n)=>{const r=a.editData,i=r.offsetX+t/r.scale,l=r.offsetY+n/r.scale,o=e.cropShape===w.RECT?S(i,l):((e,t)=>{const n=a.editData,r=v.current,i=(e-n.width/2)*n.scale,l=(e+n.width/2)*n.scale,o=(t+n.height/2)*n.scale;return{x:i<-r&&l>r,y:(t-n.height/2)*n.scale<-r&&o>r}})(i,l);o.x&&(r.offsetX=i),o.y&&(r.offsetY=l),y()},M=(e,t)=>{const a=e.stageX-t.x,n=e.stageY-t.y;k(a,n),t.x=e.stageX,t.y=e.stageY},P=t=>e.cropShape===w.RECT?(e=>{const t=v.current,n=a.editData,r=Math.max(e,t*_/n.width),i=Math.max(e,r);n.scale=i;const l=S(n.offsetX,n.offsetY);return{scale:n.scale,offsetX:n.offsetX+l.overlapLeft-l.overlapRight,offsetY:n.offsetY+l.overlapTop-l.overlapBottom}})(t):(e=>{const t=v.current,n=a.editData,r=Math.max(2*t/n.width,2*t/n.height),i=Math.max(e,r);if(n.width*e<t||n.height*e<t)return!1;const l=-t/i+n.width/2,o=t/i-n.width/2,s=-t/i+n.height/2,u=t/i-n.height/2;return{scale:i,offsetX:Math.min(Math.max(n.offsetX,o),l),offsetY:Math.min(Math.max(n.offsetY,u),s)}})(t),T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;const t=a.editData,n=0!==e?e:C,r=P(t.scale*n);r&&(t.scale=r.scale,t.offsetX=r.offsetX,t.offsetY=r.offsetY,y())},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;const t=a.editData,n=0!==e?e:C,r=P(t.scale/n);r&&(t.scale=r.scale,t.offsetX=r.offsetX,t.offsetY=r.offsetY,y())};(0,g.useListener)(n.canvas,"mousewheel",(e=>{e.deltaY>0?T(1.02):O(1.02)})),(0,h.useEffect)((()=>{a.saveEdits();const t=a.editData,r=n.canvas;let l;l=t.baseItem?t.baseItem.getBounds():{width:0,height:0},r.style.display="block",r.width=l.width,r.height=l.height;const o=new i.Easel.Shape;o.graphics.beginFill("rgba(0, 0, 0, 0.1)"),o.graphics.drawRect(0,0,l.width,l.height),o.regX=l.width/2,o.regY=l.height/2,o.x=l.width/2,o.y=l.height/2,o.on("mousedown",(e=>{const t={x:e.stageX,y:e.stageY},a=o.on("pressmove",M,null,!1,t);o.on("pressup",(()=>{o.off("pressmove",a)}),null,!0)})),o.cursor="move";const s=r.getContext("2d"),u=r.width,d=r.height,c=u/d>500/361?d/361:u/500;v.current=Math.min(361,500)/2*.9*c;const f=v.current;let p;if(s.fillStyle="rgba(0, 0, 0, 0.5)",s.fillRect(0,0,u,d),s.globalCompositeOperation="destination-out",s.beginPath(),e.cropShape===w.CIRCLE)s.arc(u/2,d/2,f,0,2*Math.PI,!0);else if(e.cropShape===w.RECT){const e=f*_,t=f*_*b;s.fillRect(u/2-e/2,d/2-t/2,e,t)}else if(e.cropShape===w.SQUIRCLE){p=new Path2D("M90 0C0 0 0 0 0 90s0 90 90 90 90 0 90-90 0-90-90-90Z"),s.translate(u/2-f,d/2-f);const e=2*c*.9;s.scale(e,e)}s.fillStyle="#ffffff",p?s.fill(p):s.fill(),n.addChild(o),n.update()}),[]);const x=function(){var e=(0,r.default)((function*(){var e;const t=a.editData,n=null===(e=a.editedImage)||void 0===e?void 0:e.src,r=v.current;if(!n)throw(0,f.default)("empty image");const i=2*r;let o=i;i>d.PROF_PIC_MAX_SIDE?o=d.PROF_PIC_MAX_SIDE:i<d.PROF_PIC_MIN_SIDE&&(o=d.PROF_PIC_MIN_SIDE);const s=r*_,u=r*_*b,c=yield l.crop(n,t.width/2-s/2,t.height/2-u/2,s,u,o,o*b,l.DATA_URL|l.CANVAS),p=c.images.dataUrl;return{thumb:c.images.dataUrl,full:p}}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,r.default)((function*(){var e;const t=a.editData,n=null===(e=a.editedImage)||void 0===e?void 0:e.src,r=v.current;if(!n)throw(0,f.default)("empty image");const i=2*r;let o=i;i>d.PROF_PIC_MAX_SIDE?o=d.PROF_PIC_MAX_SIDE:i<d.PROF_PIC_MIN_SIDE&&(o=d.PROF_PIC_MIN_SIDE);const s=yield l.crop(n,(t.width-i)/2,(t.height-i)/2,i,i,o,o,l.DATA_URL|l.CANVAS),u=yield l.crop(s.images.canvas,0,0,d.PROF_PIC_THUMB_SIDE,d.PROF_PIC_THUMB_SIDE),c=s.images.dataUrl;return{thumb:u.images.dataUrl,full:c}}));return function(){return e.apply(this,arguments)}}(),L=()=>e.cropShape===w.RECT?x():I();(0,h.useImperativeHandle)(t,(()=>({crop:L})));const D=(0,h.useRef)(null);return h.default.createElement("div",{className:(0,m.default)(E.scaler)},h.default.createElement(o.HotKeys,{handlers:{pageup:()=>T(),pagedown:()=>O(),down:()=>k(0,-10),up:()=>k(0,10),left:()=>k(10,0),right:()=>k(-10,0)},onFocus:e=>{if(!D.current)return;e?e.target:document.activeElement;D.current},ref:D,"aria-label":p.fbt._("Photo editor canvas widget: arrow keys move crop window, Page Up and Page Down enlarge or shrink the crop area",null,{hk:"1iV0bf"}),tabIndex:0}),h.default.createElement(c.default,{xstyle:E.scalerButton,onClick:()=>T(),"aria-label":p.fbt._("Zoom in or shrink area of photo to be cropped",null,{hk:"20MetM"}),testid:"crop-tool-zoom-in"},h.default.createElement(u.PlusIcon,null)),h.default.createElement(c.default,{xstyle:E.scalerButton,onClick:()=>O(),"aria-label":p.fbt._("Zoom out or enlarge area of photo to be cropped",null,{hk:"445oiP"}),testid:"crop-tool-zoom-out"},h.default.createElement(s.MinusIcon,null)))}t.CropShapeType=w;const k=(0,h.forwardRef)(S);t.WrappedProfileCropTool=k,k.displayName="WrappedProfileCropTool"},404350:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(667294));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){return n.default.createElement("canvas",{className:e.className,ref:t})}function l(e,t){return e.className===t.className}var o=(0,n.memo)((0,n.forwardRef)(i),l);t.default=o},334846:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msgs:t,onForward:a,onClose:n}=e;const[o]=t,u=(0,E.getChat)(o),f="video"!==o.type&&"image"!==o.type?"message":o.type,m=t.some(_.getIsFrequentlyForwarded),g=t.some((e=>e.isForwarded)),P=t.filter((e=>!(0,_.getIsFrequentlyForwarded)(e)&&e.getForwardingScoreWhenForwarded()===d.default.FREQUENTLY_FORWARDED_SENTINEL)),x=P.length?D.default.createElement(v.default,{frequentlyForwardedCount:P.length,totalCount:t.length}):void 0,L=m?1:I.MULTICAST_LIMIT_GLOBAL,R=(0,w.getMediaMsgWithCaptionForForwarding)(t),[N,j]=(0,D.useState)(!!R),[V,q]=(0,A.default)(T.NUX.FORWARD_MEDIA_WITH_CAPTION),[G,Y]=(0,D.useState)(!1),[K,X]=(0,D.useState)(null);function Z(){return Q.apply(this,arguments)}function Q(){return(Q=(0,i.default)((function*(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(N&&V&&!e.some(z))return void Y(!0);const[i]=e,o=(0,y.forwardMessagesToChats)(t,e,N).catch((0,l.filteredCatch)(p.default,(e=>H(e.reasons)))).finally((()=>W(K,e)));return i.isNewsletter&&(yield o),n(),null==a||a(t),s.Cmd.openChatFromUnread(e[0]).then((t=>{t&&(0,c.getIsMe)(e[0].contact)&&C.UiMessageYourselfSearchAction.logMessageYourselfOpenedEvent(e[0],r)}))}))).apply(this,arguments)}const J={msgType:f,hasFrequentlyForwarded:m,hasForwarded:g,onConfirm:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=e.find((e=>e.isNewsletter));return null!=a?b.ModalManager.open(D.default.createElement(S.NewsletterForwardConfirmationModal,{forwardToChat:a,handleConfirm:()=>Z(e,t)})):Z(e,t)},maxItems:L,excludeChat:u,isDisabled:e=>function(e,t){if(!z(e))return!1;return!(0,k.isMsgTypeSupported)(t.type)}(e,o),customItemSecondaryText:U,excludeBroadcast:!0,title:B.title(t.length,o),includeNewsletters:(0,M.isNewsletterForwardToNewsletterEnabled)(),listType:O.ListType.ChatSelectModal,customHeader:x,ephemeralIcon:"chat-list",hasDirtyAppendMsgComposeBox:null!=K&&""!==K,previewComponent:D.default.createElement(F,{includeCaption:N,handleAppendMessage:e=>{X(e)},handleRemoveCaption:()=>{j(!1)},msgs:t,mediaMsgWithCaption:R})};return D.default.createElement(D.default.Fragment,null,D.default.createElement(O.SelectModal,(0,r.default)({},J,{tsNavigationData:u.isNewsletter&&(0,M.isNewsletterTSLEnabled)()?{surface:"channel-forward",extras:{channelWid:u.id}}:void 0})),G&&D.default.createElement(h.default,{onOk:()=>{q(),Y(!1)}}))};var r=n(a(967154)),i=n(a(348926)),l=a(122583),o=a(79672),s=a(780549),u=a(103440),d=n(a(846870)),c=a(660666),f=n(a(395767)),p=n(a(4780)),h=n(a(231422)),m=n(a(574755)),g=a(402066),y=a(450192),v=n(a(327744)),E=a(163755),C=a(165433),b=a(114850),_=a(787742),w=a(430231),S=a(829369),k=a(916330),M=a(73225),P=a(817176),T=a(156176),O=a(61740),x=a(498703),I=a(962260),L=a(548360),D=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),R=n(a(156720)),A=n(a(157558));function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}const j={forwardMediaWithCaptionPreview:{zIndex:"mb8var44",height:"ev3135j0",width:"ln8gz9je",backgroundColor:"ik2lb43m",boxSizing:"cm280p3y",boxShadow:"st4e8vvm"}};function F(e){let{msgs:t,mediaMsgWithCaption:a,includeCaption:n,handleRemoveCaption:r,handleAppendMessage:i}=e;const l=1===t.length&&(0,_.getIsMedia)(t[0])&&!t[0].caption,[o]=t;return(0,E.getChat)(o).isNewsletter?null:a?D.default.createElement("div",{className:(0,R.default)([j.forwardMediaWithCaptionPreview])},D.default.createElement(m.default,{msg:a,displayCaptionText:n,onRemoveCaptionSelect:r,onAppendMessage:i})):l&&(0,g.isAppendMessageWhenForwardingMediaWithoutCaptionEnabled)()?D.default.createElement("div",{className:(0,R.default)([j.forwardMediaWithCaptionPreview])},D.default.createElement(m.default,{msg:o,displayCaptionText:n,onRemoveCaptionSelect:r,onAppendMessage:i})):null}const B={title:(e,t)=>(0,_.getIsNewsletterMsg)(t)?L.fbt._({"*":"Forward updates to",_1:"Forward update to"},[L.fbt._plural(e)],{hk:"1CdG3j"}):L.fbt._({"*":"Forward messages to",_1:"Forward message to"},[L.fbt._plural(e)],{hk:"F6yRL"})};function W(e,t){if(null==e||""===e)return;const a=t.map((t=>t.isNewsletter?(0,P.sendNewsletterTextMsg)(t,e,{}):(0,x.sendTextMsgToChat)(t,e)));return Promise.all(a).catch((()=>{}))}function H(e){const t=e.map((e=>{let{chat:t,reason:a}=e;return D.default.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",a)}));b.ModalManager.open(D.default.createElement(u.ConfirmPopup,{onOK:()=>b.ModalManager.close(),okText:(0,f.default)("OK")},t),void 0)}function z(e){return e instanceof o.Chat&&e.isNewsletter}function U(e,t){if(t&&z(e))return L.fbt._("Message type not supported.",null,{hk:"2pbYhu"})}},327744:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(a(170206)),i=a(753233),l=a(258105),o=a(910399),s=a(548360),u=n(a(667294)),d=n(a(156720));const c={display:"p357zi0d",backgroundColor:"ihvf49ua",borderBottom:"daad4uqs"},f={display:"p357zi0d",alignItems:"gndfcl4n",marginEnd:"t9wpllip",marginStart:"hqw9ulo5",color:"tl2vja3b"};function p(e){let{frequentlyForwardedCount:t,totalCount:a}=e;const n=u.default.createElement("span",null,1===t&&1===a?s.fbt._("This message will be marked as forwarded many times.",null,{hk:"37i1m9"}):s.fbt._("One or more messages will be marked as forwarded many times.",null,{hk:"1Z8wFQ"})," ",u.default.createElement(i.ExternalLink,{href:(0,l.getFrequentlyForwardedFaqUrl)()},s.fbt._("Learn more",null,{hk:"1rcCLt"})));return u.default.createElement("div",{className:(0,d.default)(c)},u.default.createElement("div",{className:(0,d.default)(f)},u.default.createElement(o.HighlyForwardedIcon,{width:24,height:24})),u.default.createElement(r.default,{theme:"plain",primary:n,idle:!0}))}p.displayName="FrequentlyForwardedWarning"},829369:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterForwardConfirmationModal=c;var r=a(103440),i=n(a(395767)),l=a(114850),o=a(548360),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function d(){l.ModalManager.close()}function c(e){let{forwardToChat:t,handleConfirm:a}=e;const[n,l]=(0,s.useState)(!1),o=(0,s.useCallback)((()=>{l(!0),a().finally((()=>{l(!1)}))}),[a]);return s.createElement(r.ConfirmPopup,{okSpinner:n,okDisabled:n,cancelDisabled:n,onOK:o,okText:f.okText(),title:f.title(t.name),onCancel:d,cancelText:(0,i.default)("Cancel")},f.body())}c.displayName="NewsletterForwardConfirmationModal";const f={title:e=>o.fbt._("Forward to the channel '{channel-name}'?",[o.fbt._param("channel-name",e)],{hk:"pFlK9"}),body:()=>o.fbt._("This will be visible to the channel's followers and anyone else who views the channel.",null,{hk:"Y42wn"}),okText:()=>o.fbt._("Forward to channel",null,{hk:"R3vdA"})}},231422:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=a(103440),i=a(690495),l=a(118612),o=a(180519),s=a(676345),u=a(548360),d=n(a(667294));n(a(156720));const c={featureDescriptionParagraph:{textAlign:"qfejxiq4"}};function f(e){const{onOk:t}=e,a=u.fbt._("Media and captions are now forwarded together. You can always remove the caption before you forward.",null,{hk:"2bum1H"});return d.default.createElement(r.ConfirmPopup,{okText:u.fbt._("Ok",null,{hk:"2Uluny"}),onOK:()=>{t()},type:l.ModalTheme.ForwardMediaWithCaption},d.default.createElement(i.FlexRow,{align:"center",justify:"center"},d.default.createElement(o.TextParagraph,{xstyle:[c.featureDescriptionParagraph,s.uiMargin.top16,s.uiMargin.bottom32]},a)))}f.displayName="FMWCPopupNux"},574755:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=N;var r=n(a(859297)),i=n(a(659177)),l=a(950987),o=a(63014),s=a(934740),u=a(305521),d=a(690495),c=n(a(469733)),f=R(a(675886)),p=n(a(353033)),h=a(402066),m=a(163755),g=a(397221),y=n(a(932325)),v=n(a(641206)),E=n(a(674465)),C=a(373070),b=a(150610),_=a(858486),w=a(204875),S=a(676345),k=n(a(625903)),M=a(584228),P=a(885313),T=a(763389),O=a(548360),x=R(a(667294)),I=n(a(156720)),L=a(655241);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const A={wrapper:{position:"g0rxnol2",height:"e0pgnxzj",width:"nwg1e4mw",backgroundColor:"ik2lb43m"},textContainer:{position:"g0rxnol2",height:"ppled2lx",width:"ln8gz9je"},container:{position:"g0rxnol2",height:"ppled2lx",width:"e3boqewh",backgroundColor:"pu5bh2m8"},captionPreviewContainer:{display:"p357zi0d",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9"},composerContainer:{cursor:"n3nyt3io",opacity:"axi1ht8l",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},composerWrapper:{display:"p357zi0d"},composerInput:{height:"jzj7o2ns",alignItems:"gndfcl4n"},composerFont:{fontSize:"qaj2wqh6"},inputSuggestionsContainer:{position:"g0rxnol2",width:"ln8gz9je"},mediaThumbContainer:{minWidth:"k09609ll",height:"ppled2lx"},placeholderContainer:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},placeholderIcon:{width:"ln8gz9je",height:"ppled2lx"},thumbContainer:{width:"o0hk2os7",height:"r83416qn",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",borderTop:"ggsn7slg",borderEnd:"bwdjnla8",borderBottom:"cxbokjas",borderStart:"o9wp17a0"},thumb:{overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundRepeat:"sxl192xd",backgroundPosition:"t3g6t33p",backgroundSize:"qnwaluaf"},colorBar:{flexShrink:"oq44ahr5",width:"bbp2hc0k",backgroundColor:"tbdapmoc"},quotedCaption:{flexGrow:"ggj6brxn",width:"ln8gz9je",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"f8jlpxt4",fontWeight:"m1e7cby3",position:"g0rxnol2",color:"q70jrbp7"},xButton:{position:"g0rxnol2",top:"r8dd7jr1",end:"j2mzdvlq"},xDimensions:{height:"jdwybkuq",width:"m0s4cjtr"},xIconColor:{color:"nz9pocw8"},captionTextContainer:{width:"ln8gz9je"},captionText:{lineHeight:"a4ywakfo",display:"c32ccnay",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae","-webkit-line-clamp":"suguakab","-webkit-box-orient":"aoi073rw"},captionTextSpacing:{whiteSpace:"c2jc77nu"},mediaTypeText:{fontWeight:"hnx8ox4h"},captionPreviewContainerAnimate:{animationName:"g7kbfqzr",animationDuration:"j16a598t",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0"},mediaThumbContainerAnimate:{animationName:"a3i62pwv",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0",willChange:"ttixo1rk"},composerContainerAnimate:{animationName:"osz0hll6",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0"},mediaThumbContainerAnimateRTL:{animationName:"g39owkbt",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0",willChange:"ttixo1rk"}};function N(e){let{displayCaptionText:t,msg:a,onAppendMessage:n,onRemoveCaptionSelect:D}=e;const R=(0,L.useModelValues)(i.default.getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]),N=x.default.createElement(r.default,{msg:a.unsafe(),key:"msg-symbol"}),[j,F]=(()=>{let e=null,t=null;switch(a.type){case C.MSG_TYPE.IMAGE:e=O.fbt._("Photo",null,{hk:"4hsSZC"});break;case C.MSG_TYPE.VIDEO:a.isGif?e=O.fbt._("GIF",null,{hk:"3fkAwN"}):(e=O.fbt._("Video",null,{hk:"2SSSa2"}),t=o.Clock.durationStr(Number(a.duration))+" ")}return[t,x.default.createElement("span",{className:(0,I.default)(A.mediaTypeText)}," ",e," ")]})(),B=(0,p.default)(a.unsafe(),{stripFormatting:!1}),W=f.QuotedMention({mentions:a.mentionMap(),groupMentions:a.groupMentionMap()}),H=x.default.createElement(d.FlexColumn,{className:(0,I.default)([A.quotedCaption,S.uiPadding.all8]),align:"start",justify:"center"},x.default.createElement(c.default,null,N,j,F),x.default.createElement(c.default,{xstyle:[S.uiMargin.vert5,A.captionTextContainer]},x.default.createElement(u.EmojiText,{xstyle:A.captionTextSpacing,className:(0,I.default)(A.captionText),direction:(0,m.getDir)(a),text:B,formatters:W,ellipsify:!0,key:"status",testid:"forwarded-caption"}))),z=O.fbt._("Remove caption",null,{hk:"3DLllP"}),U=t?x.default.createElement(c.default,{grow:1,xstyle:[A.container,A.captionPreviewContainer,!t&&A.captionPreviewContainerAnimate]},x.default.createElement("span",{className:(0,I.default)(A.colorBar)}),H,x.default.createElement(k.default,{xstyle:[A.xButton,A.xDimensions],onClick:e=>{e.stopPropagation(),e.preventDefault(),D()},title:z,"aria-label":z,testid:"remove-caption"},x.default.createElement(T.XIcon,{xstyle:A.xDimensions,iconXstyle:A.xIconColor,height:20,width:20}))):null,[V,q]=(0,x.useState)(),G=null==V?void 0:V.editor,Y=G&&x.default.createElement("div",{className:(0,I.default)(A.inputSuggestionsContainer)},x.default.createElement(s.EmojiSuggestions,{kind:w.SuggestionsPanelKind.ComposeBox,editor:G})),K=O.fbt._("Add a message...",null,{hk:"3x2OzE"}),X=(0,h.isAppendMessageWhenForwardingMediaWithCaptionEnabled)()&&!t?x.default.createElement(l.Clickable,{onClick:()=>{null==V||V.focus()}},x.default.createElement(c.default,{grow:1,xstyle:[A.container,A.composerContainer,A.composerContainerAnimate]},x.default.createElement("div",{className:(0,I.default)(S.uiPadding.all12,A.composerWrapper)},x.default.createElement(b.RichTextInput,{ref:q,xstyle:A.composerInput,textXstyle:A.composerFont,multiline:!0,textFormatEnabled:!0,readOnly:!1,placeholder:K,title:K,maxVisibleLines:3,onChange:e=>{n(e.text)},testid:"append-message-compose-box",bulletPointsEnabled:(0,_.expandedTextFormattingPreviewEnabled)(),numberedListEnabled:(0,_.expandedTextFormattingPreviewEnabled)(),inlineCodeEnabled:(0,_.expandedTextFormattingPreviewEnabled)(),blockQuoteEnabled:(0,_.expandedTextFormattingPreviewEnabled)(),spellCheck:!(0,_.improvedMessageComposerEnabled)()||R.spellcheck,transformTextEmoji:!(0,_.improvedMessageComposerEnabled)()||R.transformTextEmoji,enterIsNewLine:!!(0,_.improvedMessageComposerEnabled)()&&!R.enterIsSend})))):null,Z=a.type===C.MSG_TYPE.IMAGE?g.ImgPlaceholderIcon:M.VideoPlaceholderIcon,Q=x.default.createElement("div",{className:(0,I.default)(A.placeholderContainer),key:"default"},x.default.createElement(Z,{iconXstyle:A.placeholderIcon})),J=a.type===C.MSG_TYPE.IMAGE?x.default.createElement(E.default,{mediaData:a.mediaData,placeholderRenderer:()=>Q,downloadMedia:()=>a.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:P.WEBC_RMR_REASON_CODE.OTHER,isUserInitiated:!1}),renderProgressively:!1},(e=>x.default.createElement("div",{className:(0,I.default)([A.thumbContainer,A.thumb,S.uiMargin.end8]),style:{backgroundImage:`url(${e})`}}))):x.default.createElement(v.default,{msg:a,thumbnailPlaceholder:Q,childClassName:(0,I.default)(A.thumbContainer,A.thumb,S.uiMargin.end8)});let $=null;(0,h.isAppendMessageWhenForwardingMediaWithCaptionEnabled)()||t||($=y.default.isRTL()?A.mediaThumbContainerAnimateRTL:A.mediaThumbContainerAnimate);const ee=x.default.createElement(c.default,{grow:0,xstyle:[A.mediaThumbContainer,$]},J);return x.default.createElement(x.default.Fragment,null,x.default.createElement(d.FlexRow,null,Y),x.default.createElement("div",{className:(0,I.default)([A.wrapper,S.uiPadding.all8])},x.default.createElement(d.FlexRow,{xstyle:A.textContainer,align:"center",justify:"start"},ee,U,X)))}N.displayName="ForwardMediaWithCaptionPreview"},58465:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(670983)),i=a(919833),l=a(366202),o=a(72696),s=n(a(430772)),u=n(a(682735)),d=n(a(937945)),c=n(a(659177)),f=a(177938),p=a(356097),h=n(a(908081)),m=n(a(324093)),g=a(626194),y=n(a(969358)),v=a(235630),E=a(512938),C=n(a(570834)),b=a(163755),_=n(a(667845)),w=n(a(17633)),S=a(522849),k=a(20194),M=n(a(344460)),P=a(48794),T=a(61113),O=a(787742),x=a(241164),I=n(a(273873)),L=a(373070),D=a(129673),R=n(a(258054)),A=a(956113),N=a(681959),j=a(784128),F=a(143532),B=a(180519),W=a(625786),H=a(390737),z=a(382117),U=n(a(806077)),V=a(459857),q=a(308840),G=a(402011),Y=a(744976),K=a(869513),X=a(818674),Z=a(512873),Q=a(548360),J=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=le(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),$=n(a(156720)),ee=n(a(969651)),te=n(a(637660)),ae=a(808446),ne=a(871210),re=n(a(321201)),ie=n(a(895851));function le(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(le=function(e){return e?a:t})(e)}const oe={svg:{width:"dh5rsm73",height:"hpdpob1j"},statusBlue:{color:"sunvlxxz"},ack:{color:"ajgik1ph"},titleIcon:{display:"l7jjieqr",width:"dh5rsm73",height:"jdwybkuq",color:"s4k44ver",textAlign:"qfejxiq4",verticalAlign:"fewfhwl7"},title:{paddingTop:"gaujl5hk",paddingEnd:"bcymb0na",paddingBottom:"jd93c9cp",paddingStart:"e8k79tju",backgroundColor:"ihvf49ua"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},list:{paddingTop:"emrlamx0",paddingBottom:"gjfcmax9"}},se=E.DEFAULT_ITEM_HEIGHT+10,ue=(0,E.FlatListFactory)();function de(e){let{participant:t,elevatedPushNamesEnabled:a}=e;return J.default.createElement(u.default,{msgInfoParticipant:t,contact:t.contact,elevatedPushNamesEnabled:a,theme:"drawer-list"})}function ce(e){let{msg:t,agentName:a}=e;return J.default.createElement(s.default,{msg:t,agentName:a,theme:"drawer-list"})}function fe(e){let{msg:t}=e;const a=(0,O.getKicSender)(t);if(null!=a){const e=(n=a,f.ContactCollection.assertGet(n));return J.default.createElement(d.default,{kicTimestampMs:t.kicTimestampMs,contact:e,theme:"drawer-list"})}var n}function pe(e){let t,a,{section:n,msg:r}=e;switch(n){case S.Sections.PLAYED_HEADER:a=r.type===L.MSG_TYPE.PTV?J.default.createElement(F.StatusVideoIcon,{xstyle:oe.statusBlue,iconXstyle:oe.svg}):J.default.createElement(j.StatusPttIcon,{xstyle:oe.statusBlue,iconXstyle:oe.svg}),t=Q.fbt._("Played by",null,{hk:"3IOdgn"});break;case S.Sections.READ_HEADER:a=J.default.createElement(N.StatusDblcheckIcon,{xstyle:oe.ack,iconXstyle:oe.svg}),t=Q.fbt._("Read by",null,{hk:"4cDvak"});break;case S.Sections.SEEN_HEADER:a=J.default.createElement(N.StatusDblcheckIcon,{xstyle:oe.ack,iconXstyle:oe.svg}),t=r.isViewOnce?Q.fbt._("Seen by",null,{hk:"3MxARC"}):Q.fbt._("Seen by",null,{hk:"3vzp0U"});break;case S.Sections.DELIVERED_HEADER:a=J.default.createElement(N.StatusDblcheckIcon,{iconXstyle:oe.svg}),t=Q.fbt._("Delivered to",null,{hk:"3szSia"});break;case S.Sections.VIEWED_HEADER:a=J.default.createElement(q.ViewOnceViewedIcon,{xstyle:oe.statusBlue,iconXstyle:oe.svg}),t=Q.fbt._("Opened by",null,{hk:"1BkoM7"});break;case S.Sections.AGENT_HEADER:a=J.default.createElement(D.MultiDeviceIcon,{iconXstyle:oe.svg}),t=Q.fbt._("Sent from",null,{hk:"2AvZI7"});break;case S.Sections.KEEP_IN_CHAT_HEADER:a=J.default.createElement(k.KeepInChatIcon,{iconXstyle:oe.svg}),t=Q.fbt._("Kept by",null,{hk:"3vUw1c"});break;default:return __LOG__(4,void 0,new Error)`Invalid SECTION for group message info section header`,null}return a=J.default.createElement("div",{className:(0,$.default)(oe.titleIcon)},a),J.default.createElement("div",{className:(0,$.default)(oe.title)},J.default.createElement(R.default,{side:a,ellipsify:!0},J.default.createElement(B.TextSpan,{theme:"sectionTitle"},t)))}function he(e){let{data:t,msg:a,msgInfo:n}=e;if("contact-row"===t.kind)return J.default.createElement(de,{participant:t.participant,elevatedPushNamesEnabled:(0,v.elevatedPushNamesM2Enabled)((0,b.getChat)(a))});if("agent-row"===t.kind)return J.default.createElement(ce,{msg:a,agentName:t.agentName});if("kept-by-row"===t.kind)return J.default.createElement(fe,{msg:a});switch(t.type){case S.Sections.PLAYED_HEADER:case S.Sections.READ_HEADER:case S.Sections.SEEN_HEADER:case S.Sections.DELIVERED_HEADER:case S.Sections.VIEWED_HEADER:case S.Sections.AGENT_HEADER:case S.Sections.KEEP_IN_CHAT_HEADER:return J.default.createElement(pe,{msg:a,section:t.type});default:return J.default.createElement(w.default,{section:t.type,msgInfo:(0,r.default)(n,"msgInfo")})}}function me(e,t){const{msg:a}=e,[n,r,s,u,d,f,v,w,k,D,R,N,j,F]=(0,ne.useMsgValues)(e.msg.id,[O.getId,O.getStar,O.getType,O.getIsGif,O.getIsViewOnce,O.getLabels,O.getNumTimesForwarded,O.getIsFrequentlyForwarded,O.getAgendId,O.getKicSender,O.getKicTimestampMs,O.getIsKept,b.getAsRevoked,O.getLatestEditMsgKey]),B=(0,b.getChat)(a),q=(0,ie.default)(),le=(0,re.default)(),de=(0,te.default)((()=>new z.UiActionWamEvent({uiActionType:Y.UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0}))),ce=(0,te.default)((()=>new C.default)),fe=(0,J.useRef)(null),pe=(0,J.useRef)(null),[me,ge]=(0,J.useState)(void 0),[ye,ve]=(0,J.useState)(!1);(0,J.useEffect)((()=>{var e;x.MsgInfoCollection.find(n).then((e=>{q.aborted||ge(e)})).catch((()=>{ve(!0),H.ToastManager.open(J.default.createElement(W.Toast,{msg:Q.fbt._("Couldn't display message info. Try again later.",null,{hk:"mRFf6"}),id:(0,W.genId)("msg_info_failed")}))}));const t=null===(e=fe.current)||void 0===e?void 0:e.getContainer();s===L.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight)}),[]),(0,J.useEffect)((()=>{const e=de.current;if(e){const t=_.default.get(B.id),a=null==t?void 0:t.cachedDeviceSizeBucket;null!=a&&(e.sizeBucket=a),null!=t&&Object.assign(e,(0,K.getGroupCountMetricsFromGroupMetadata)(t),(0,G.getAddressingModeMetricsFromGroupMetadata)(t)),e.markUiActionT(),e.commit(),de.current=void 0}(0,X.logUiActionShadowPrivateStatsTestEvents)(),(0,l.logMessageInfo)(k)}),[]);const Ee=(0,U.default)("MD_EXTENSION"),Ce=(0,ee.default)();let be;(0,ae.useListener)(null==me?void 0:me.played,["add","remove"],Ce),(0,ae.useListener)(null==me?void 0:me.read,["add","remove"],Ce),(0,ae.useListener)(null==me?void 0:me.delivery,["add","remove"],Ce),j&&(null==le||le.requestDismiss()),(0,ae.useListener)(T.MsgCollection,"remove",(e=>{e.id.equals(n)&&(null==le||le.requestDismiss())})),(0,ae.useListener)(a,"change:latestEditMsgKey",(()=>null==le?void 0:le.requestDismiss())),me||ye||(be=J.default.createElement("div",{className:(0,$.default)(oe.spinner)},J.default.createElement(A.Spinner,{size:50,stroke:4})));const _e=(()=>{const e=[];if(me&&N&&null!=D&&(e.push({kind:"section",type:S.Sections.KEEP_IN_CHAT_HEADER,itemKey:S.Sections.KEEP_IN_CHAT_HEADER,height:50}),e.push({kind:"kept-by-row",itemKey:"kept-by-"+D.user,height:se})),Ee&&(0,o.isMultiDeviceMessageAttributionEnabled)()&&null!=k){var t,n;const a=null!==(t=null===(n=i.AgentCollection.get(k))||void 0===n?void 0:n.name)&&void 0!==t?t:"";e.push({kind:"section",type:S.Sections.AGENT_HEADER,itemKey:S.Sections.AGENT_HEADER,height:50}),e.push({kind:"agent-row",agentName:a,itemKey:"agent-"+a.toString(),height:se})}const r=(0,O.getIsAckPlayable)(a),l=r||d;if(me&&l){let t=r&&!d?S.Sections.PLAYED_HEADER:S.Sections.VIEWED_HEADER;e.push({kind:"section",type:t,itemKey:t,height:50}),e.push(...me.played.map((e=>({participant:e,kind:"contact-row",itemKey:e.id.toString(),height:E.DEFAULT_ITEM_HEIGHT})))),me.playedRemaining>0&&(t=r&&!d?S.Sections.PLAYED_FOOTER:S.Sections.VIEWED_FOOTER,e.push({kind:"section",type:t,itemKey:t,height:50}))}return me&&(me.read.length>0||me.playedRemaining>0)&&(e.push({kind:"section",type:l?S.Sections.SEEN_HEADER:S.Sections.READ_HEADER,itemKey:S.Sections.READ_HEADER,height:50}),e.push(...me.read.map((e=>{var t;return(null===(t=a.invokedBotWid)||void 0===t?void 0:t.isBot())&&(0,V.isMeAccount)(e.id)?null:{participant:e,kind:"contact-row",itemKey:e.id.toString(),height:E.DEFAULT_ITEM_HEIGHT}})).filter(Boolean)),me.readRemaining>0&&e.push({kind:"section",type:S.Sections.READ_FOOTER,itemKey:l?S.Sections.SEEN_FOOTER:S.Sections.READ_FOOTER,height:50})),me&&(me.delivery.length>0||me.deliveryRemaining>0)&&(e.push({kind:"section",type:S.Sections.DELIVERED_HEADER,itemKey:S.Sections.DELIVERED_HEADER,height:50}),e.push(...me.delivery.map((e=>{var t;return(null===(t=a.invokedBotWid)||void 0===t?void 0:t.isBot())&&(0,V.isMeAccount)(e.id)?null:{participant:e,kind:"contact-row",itemKey:e.id.toString(),height:E.DEFAULT_ITEM_HEIGHT}})).filter(Boolean)),me.deliveryRemaining>0&&e.push({kind:"section",type:S.Sections.DELIVERED_FOOTER,itemKey:S.Sections.DELIVERED_FOOTER,height:50})),e})(),we=_e.length?J.default.createElement(ue,{flatListController:ce.current,direction:"vertical",forceConsistentRenderCount:!1,data:_e,renderItem:e=>J.default.createElement(he,{data:e,msg:a,msgInfo:me})}):null;let Se=null;return f&&f.length>0&&(0,o.canDisplayLabel)()&&(Se=J.default.createElement(y.default,{theme:"padding"},J.default.createElement(M.default,{labels:f}))),J.default.createElement(h.default,{ref:t,theme:"striped"},J.default.createElement(g.DrawerHeader,{title:Q.fbt._("Message info",null,{hk:"2h2aKZ"}),type:g.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{null==le||le.requestDismiss()},focusBackOrCancel:!0}),J.default.createElement(I.default,{ref:fe,chatPreference:c.default.assertGet("defaultPreference")},J.default.createElement(Z.Wrapper,{msg:a,ref:pe,displayType:p.DISPLAY_TYPE.MSG_INFO,isMsgVisible:function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===n&&(!!a||(null===(t=pe.current)||void 0===t?void 0:t.getMsgComponentRef()))},position:P.MsgPosition.END,onProductClick:e.onProductClick})),J.default.createElement(m.default,{flatListControllers:[ce.current]},Se,be,J.default.createElement("div",{className:(0,$.default)(oe.list)},we)))}var ge=(0,J.forwardRef)(me);t.default=ge},17633:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=a(522849),i=a(830487),l=a(180519),o=a(548360),s=n(a(667294)),u=n(a(156720)),d=a(638897);const c={paddingTop:"n1yiu2zv",paddingEnd:"bcymb0na",paddingBottom:"p9a4hubg",paddingStart:"e8k79tju",backgroundColor:"ihvf49ua",boxShadow:"tio0brup"};function f(e){let{msgInfo:t,section:a}=e;const[n,f,p]=(0,d.useMsgInfoValues)(t.id,[i.getPlayedRemaining,i.getReadRemaining,i.getDeliveryRemaining]);let h,m;switch(a){case r.Sections.PLAYED_FOOTER:case r.Sections.VIEWED_FOOTER:h=n,m=n;break;case r.Sections.READ_FOOTER:case r.Sections.SEEN_FOOTER:h=f,m=f;break;case r.Sections.DELIVERED_FOOTER:h=p,m=p;break;default:return __LOG__(4,void 0,new Error)`Invalid SECTION for group message info section footer`,null}if(null==h||0===h)return null;const g=o.fbt._({"*":"{count} remaining",_1:"1 remaining"},[o.fbt._plural(m,"count")],{hk:"3ODmO9"});return s.default.createElement("div",{className:(0,u.default)(c)},s.default.createElement(l.TextSpan,{theme:"muted"},g))}f.displayName="GroupMsgInfoSectionFooter"},522849:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sections=void 0;const n=a(76672).Mirrored(["DELIVERED_FOOTER","DELIVERED_HEADER","FORWARD_COUNT","PLAYED_FOOTER","PLAYED_HEADER","READ_FOOTER","READ_HEADER","SEEN_FOOTER","SEEN_HEADER","VIEWED_FOOTER","VIEWED_HEADER","AGENT_HEADER","KEEP_IN_CHAT_HEADER"]);t.Sections=n},147158:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(710920)),i=a(548360),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){return l.default.createElement(r.default,{ref:t,onClose:e.onClose,onSend:e.onSend,wid:e.gid,invitees:e.participants.map((e=>e.contact)),chatName:e.subject,initialInviteComment:i.fbt._("Invitation to join my WhatsApp group",null,{hk:"2WNS77"}),chatNameSubtitle:i.fbt._("WhatsApp group invite",null,{hk:"Yox1t"})})}var u=(0,l.forwardRef)(s);t.default=u},120381:(e,t,a)=>{"use strict";var n=a(530066).default,r=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(435161)),l=r(a(224350)),o=a(898817),s=a(370257),u=a(409623),d=r(a(908081)),c=r(a(324093)),f=a(626194),p=a(811720),h=r(a(988410)),m=r(a(335540)),g=r(a(482500)),y=I(a(978226)),v=r(a(628952)),E=a(81644),C=I(a(288057)),b=r(a(219368)),_=a(625786),w=a(390737),S=a(368170),k=r(a(556869)),M=a(548360),P=I(a(667294)),T=r(a(710629)),O=r(a(895851));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}function L(e,t){const{onImageSelected:a}=e,r=(0,O.default)(),x=(0,P.useRef)(null),I=(0,P.useRef)(null),L=(0,P.useRef)(null),D=(0,P.useRef)(!1),R=(0,P.useRef)(null),[A,N]=(0,P.useState)({}),[j,F]=(0,P.useState)(!1),[B,W]=(0,P.useState)(0),[H,z]=(0,P.useState)(""),[U,V]=(0,P.useState)([]),[q,G]=(0,P.useState)(0),Y=(0,T.default)(((e,t)=>{D.current=!1;const a=new n,r=y.search(e,t).then((t=>{var n;if(a.signal.aborted)throw new o.AbortError;r===(null===(n=R.current)||void 0===n?void 0:n.promise)&&(((e,t)=>{const a=(0,l.default)(t.value,(e=>e.thumbnailUrl)),n=(0,i.default)(t.value,(e=>({id:e.imageId,name:e.name,thumbUrl:e.thumbnailUrl}))),r=t.value.length;var o,s;H===e?(W(t.nextOffset?t.nextOffset:B+r),V(U.concat(n)),G(null!==(o=t.totalEstimatedMatches)&&void 0!==o?o:0),N(Object.assign(a,A))):(N(a),W(t.nextOffset?t.nextOffset:B+r),z(H),V(n),G(null!==(s=t.totalEstimatedMatches)&&void 0!==s?s:0))})(e,t),F(!1))})).catch((0,o.catchAbort)((()=>{}))).catch((()=>{var e;__LOG__(3,!0)`Image search failed`,w.ToastManager.open(P.default.createElement(_.Toast,{msg:M.fbt._("Image search failed",null,{hk:"9pHyN"})})),r===(null===(e=R.current)||void 0===e?void 0:e.promise)&&F(!1)})).finally((()=>{var e;r===(null===(e=R.current)||void 0===e?void 0:e.promise)&&(R.current=null)}));R.current={promise:r,controller:a},F(!0)}),750),K=()=>{Y.cancel(),D.current&&(D.current=!1),R.current&&R.current.controller.abort()},X=()=>{N({}),F(!1),W(0),z(""),V([]),G(0)},Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;D.current=!0,Y(e,t)},Q=()=>{D.current||R.current||!q||B>=q||Z(H,B)},J=e=>{const t=A[e];if(!t)return;const n=t.contentUrl;let i;if(!S.UA.isElectron)throw(0,k.default)("This call is only supported in non-MD mode");i=(0,v.default)((()=>(0,b.default)(n))).then((e=>{if(200!==e.status)throw new C.ServerStatusError(null,n,e.status);return e.blob()})),i.then((e=>{if(!r.aborted){if(!(e instanceof Blob))throw new C.ImageError("Server did not respond with image bytes",n);a(e,t.hostPageUrl)}})).catch((()=>{__LOG__(3,!0)`Image search failed`,w.ToastManager.open(P.default.createElement(_.Toast,{msg:M.fbt._("Failed to load image",null,{hk:"1k5xX"})}))}))},$=()=>{h.default.shouldIndicateFocus(),m.default.focus(x.current)},ee=f.DRAWER_HEADER_TYPE.POPUP;let te;return te=0===U.length?j?P.default.createElement(p.SearchingImages,null):H?P.default.createElement(p.ImageSearchEmpty,null):P.default.createElement(p.BeforeImageSearch,null):P.default.createElement(g.default,{ref:L,canLoadMore:B<q,isLoadingMore:j,thumbnails:U,onFocusPrev:$,onImageClick:J,onRequestMoreImages:Q}),P.default.createElement(d.default,{ref:t},P.default.createElement(f.DrawerHeader,{title:M.fbt._("Image Search",null,{hk:"p4JUz"}),type:ee,onBack:e.onBack,onCancel:e.onCancel}),P.default.createElement(c.default,null,P.default.createElement(E.HotKeys,{ref:I,handlers:{down:e=>{e.repeat||L.current&&x.current&&x.current.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),h.default.shouldIndicateFocus(),null!=L.current&&m.default.focus(L.current))}},onFocus:()=>{h.default.maybeIndicateFocus(I.current)}},P.default.createElement(u.ListSearch,{ref:x,placeholder:M.fbt._("Enter search term here",null,{hk:"sgCKx"}),onSearch:e=>{const t=(e||"").trim();if(!t)return K(),void X();(0,s.numCodepoints)(t)<2||t!==H&&(K(),X(),Z(t))},loading:j})),te))}var D=(0,P.forwardRef)(L);t.default=D},978226:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(){return m.apply(this,arguments)};var r=n(a(348926)),i=n(a(932325)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(288057)),o=n(a(79291)),s=n(a(794938));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d="https://www.bingapis.com/api/v6/images/search",c="D41D8CD98F00B204E9800998ECF8427E4F4A7492",f="Square",p="Medium",h={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW","zh-HK":"zh-HK"};function m(){return(m=(0,r.default)((function*(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const n={q:e,SafeSearch:"Strict",appid:c,mkt:h[i.default.getNormalizedLocale()]||h.en,size:p,aspect:f,count:a,offset:t},r=o.default.build(d,n),u=yield s.default.get(r,s.default.RESP_TYPE.JSON);if(!u.response.hasOwnProperty("_type"))throw new l.InvalidServerResponseError(r,u.status.toString(),`Not a valid Bing response: ${JSON.stringify(u.response)}`);if("ErrorResponse"===u.response._type){const t=u.response;throw new l.BingServerError(e,u.status,t)}if("Images"!==u.response._type)throw new l.InvalidServerResponseError(r,u.status.toString(),`Did not receive an image search response, potentially malformed query ${JSON.stringify(u.response)}`);return u.response}))).apply(this,arguments)}},628952:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.promiseLoop)(function(){var t=(0,r.default)((function*(t,a,n){const r=(0,o.delayMs)((0,l.expBackoff)(n,6e4,void 0,.1));try{yield function(){if(c.Socket.state===d.SOCKET_STATE.CONNECTED)return Promise.resolve();return(0,u.default)(c.Socket,"change:state",(0,i.default)({state:d.SOCKET_STATE.CONNECTED}))}();const a=yield e();if(a.status>=500&&a.status<600)return r;t(a)}catch(e){return r}}));return function(){return t.apply(this,arguments)}}())};var r=n(a(348926)),i=n(a(706410)),l=a(250655),o=a(8304),s=a(904086),u=n(a(799132)),d=a(226562),c=a(95644)},835539:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(856797),i=a(285199),l=n(a(667294)),o=n(a(156720));const s={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",flexDirection:"f8m0rgwh",height:"ppled2lx",backgroundColor:"bfsx6evv","@media screen and (max-width: 900px)":{width:"hj24v2v0"},"@media screen and (min-width: 901px) and (max-width: 1023px)":{width:"i9ba79ay"},"@media screen and (max-width: 1024px)":{width:"jykept17"},"@media screen and (min-width: 1025px) and (max-width: 1300px)":{width:"p7ivxbd6"},"@media screen and (min-width: 1301px)":{width:"o7f2woc0"}};function u(e){let{onOpenStatus:t}=e;return l.default.createElement("div",{className:(0,o.default)(s)},l.default.createElement(i.StatusV3ListHeader,{onOpenStatus:t}),l.default.createElement(r.StatusV3List,{onOpenStatus:t}))}u.displayName="StatusV3ListPanel"},546922:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(780549),i=n(a(335540)),l=(n(a(932325)),a(657694)),o=n(a(835539)),s=n(a(314122)),u=n(a(397778)),d=a(717089),c=a(757453),f=a(459192),p=a(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(156720)),g=a(808446);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const v={modalBackground:{position:"lhggkp7q",zIndex:"iijvqejl",boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",height:"ppled2lx",backgroundColor:"ss9a15xu"},mainWrapper:{position:"g0rxnol2",zIndex:"jnl3jror",display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",height:"ppled2lx",color:"lxozqee9","@media screen and (min-width: 1441px)":{top:"resm64uo",width:"aazg2tqz",height:"sqo8i9vu",marginEnd:"gcgr3cud",marginStart:"c44ed13a"}},v3x:{position:"lhggkp7q",top:"q177n8ra",end:"n642r0m2",zIndex:"b9fczbqn",color:"lxozqee9"},v3xMac:{end:"m58prw6j"}};function E(e,t){const{onOpenStatus:a,sessionId:n,closeStatusViewer:y}=e,E=(0,h.useRef)(null),[C,b]=(0,h.useState)((()=>l.StatusV3Collection.getMyStatus()));return(0,h.useEffect)((()=>{(0,c.setLastStatusUsage)(),null!=n&&l.StatusV3Collection.logMetrics({type:"session",sessionId:n}),r.Cmd.onStatusViewerOpen(),E.current&&i.default.focus(E.current)}),[]),(0,g.useListener)(l.StatusV3Collection,["add","remove"],(()=>{b(l.StatusV3Collection.getMyStatus())})),(0,g.useListener)(r.Cmd,["dismiss_status_v3_viewer"],(()=>{y(!0)})),(0,d.useTsNavigation)({surface:"status-v3"}),h.default.createElement("div",{ref:t,className:(0,m.default)(v.modalBackground),"data-animate-status-v3-modal-background":!0},h.default.createElement("div",{ref:E,tabIndex:-1,className:(0,m.default)(v.mainWrapper)},h.default.createElement(o.default,{onOpenStatus:a}),h.default.createElement(s.default,{status:C,onOpenStatus:a}),h.default.createElement(u.default,{"aria-label":p.fbt._("Close",null,{hk:"2BtYA2"}),xstyle:[v.v3x,!1],Icon:f.XViewerIcon,onClick:()=>e.closeStatusViewer(!0)})))}var C=(0,h.forwardRef)(E);t.default=C},314122:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=a(122583),i=a(984330),l=a(63014),o=a(23641),s=a(787742),u=a(241164),d=a(191789),c=n(a(502622)),f=n(a(376394)),p=a(122093),h=a(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(667294)),g=n(a(156720)),y=n(a(969651)),v=a(808446),E=n(a(895851));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const b={position:"lhggkp7q",top:"qq0sjtgm",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx","@media screen and (max-width: 900px)":{start:"r77w0ibt",width:"l6bevpbc"},"@media screen and (min-width: 901px) and (max-width: 1024px)":{start:"f82bpul8",width:"orypyu02"},"@media screen and (min-width: 1025px) and (max-width: 1300px)":{start:"sv1r5vap",width:"n0xp5siy"},"@media screen and (min-width: 1301px)":{start:"a21xwfzl",width:"m2tbfq6e"}},_={display:"p357zi0d",flexDirection:"f8m0rgwh",maxHeight:"ibyb1pgl"},w={marginTop:"kpwy2cir",marginBottom:"fhelu9n7",fontSize:"q9lllk4z",fontWeight:"hnx8ox4h",textAlign:"qfejxiq4"},S={boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"lkhkxwyq",justifyContent:"ac2vgrno",maxWidth:"c3m6791i",paddingTop:"i5tg98hk",paddingEnd:"td5bf8pq",paddingBottom:"eynyaxvo",paddingStart:"l3k7h4x6",overflowY:"ag5g9lrv"},k={display:"p357zi0d",flexDirection:"sap93d0t",justifyContent:"ac2vgrno",marginBottom:"fhelu9n7",color:"pgamn86x",pointerEvents:"m62443ks"},M={lineHeight:"d53pemmv",color:"kcq1et6t",textAlign:"qfejxiq4"},P={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",marginEnd:"spjzgwxb",marginBottom:"iyjcf3gk",marginStart:"a3oefunm"},T={marginTop:"eg3lofc5",marginBottom:"g105fvfm"},O={fontSize:"ovllcyds",color:"kcq1et6t"};function x(e){let{onOpenStatus:t,status:a}=e;const n=m.default.createElement(I,{statusV3:a,onOpenStatus:t});return m.default.createElement("div",{className:(0,g.default)(b)},n)}function I(e){const{statusV3:t}=e,a=(0,y.default)();(0,m.useEffect)((()=>{null==t||t.loadMore(t.totalCount).catch((e=>{__LOG__(3)`error while loading all out status: ${String(e)}`}))}),[]),(0,v.useListener)(t,"change:msgsChanged",a);const n=e.statusV3;if(n&&n.msgs.length>0){const t=n.msgs.map((t=>m.default.createElement(L,{key:t.id.toString(),msg:t,status:n,onOpenStatus:e.onOpenStatus})));return m.default.createElement("div",{className:(0,g.default)(_)},m.default.createElement("div",{className:(0,g.default)(w)},h.fbt._("View your updates",null,{hk:"1DTRQt"})),m.default.createElement("div",{className:(0,g.default)(S)},t))}return m.default.createElement("div",{className:(0,g.default)(_)},m.default.createElement("div",{className:(0,g.default)(k)},m.default.createElement(d.StatusV3PlaceholderIcon,null)),m.default.createElement("div",{className:(0,g.default)(M)},h.fbt._("Click on a contact to view their status updates",null,{hk:"d6xUd"})))}function L(e){const{msg:t,status:a}=e,n=(0,E.default)(),[d,y]=(0,m.useState)(null),[C,b]=(0,m.useState)(null);(0,m.useEffect)((()=>{u.MsgInfoCollection.find(t.id).then((e=>{n.aborted||(b(e),y(e.read.length))})).catch((0,r.filteredCatch)(i.EphemeralDrop,(()=>{})))}),[]),(0,v.useListener)(null==C?void 0:C.read,["add","remove"],(()=>{y(null==C?void 0:C.read.length)}));const _=m.default.createElement(o.DetailImage,{id:(0,s.getSender)(t),theme:"status_v3",size:80});return m.default.createElement("div",{className:(0,g.default)(P)},m.default.createElement(f.default,{tabIndex:0,ariaLabel:h.fbt._("View your updates",null,{hk:"1DTRQt"}),id:a.id,msg:t,onClick:()=>e.onOpenStatus(a,t,0,p.STATUS_ROW_SECTION.MY_STATUS),contact:a.contact,role:"button",theme:"status-panel",thumbnailPlaceholder:_}),m.default.createElement("div",{className:(0,g.default)(T)},m.default.createElement(c.default,{seenCount:d})),m.default.createElement("div",{className:(0,g.default)(O)},l.Clock.relativeDateAndTimeStr(t.t)))}x.displayName="StatusV3OutStatusPanel",I.displayName="StatusV3OutViewer",L.displayName="StatusV3OutDetail"},391985:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.forwardMessages=function(){return j.apply(this,arguments)},t.getForwardedMessageFields=F;var r=n(a(81109)),i=n(a(348926)),l=n(a(957557)),o=a(632157),s=a(402994),u=a(738501),d=n(a(846870)),c=n(a(235613)),f=a(660666),p=n(a(507511)),h=a(163755),m=a(194788),g=a(644234),y=n(a(842156)),v=n(a(756680)),E=n(a(820275)),C=a(708761),b=a(787742),_=n(a(565754)),w=a(692544),S=a(373070),k=a(817176),M=a(918602),P=a(459857),T=n(a(887927)),O=n(a(124928)),x=a(669050);function I(e){return Boolean((0,h.getAsMms)(e)&&!e.ctwaContext)}function L(){return D.apply(this,arguments)}function D(){return(D=(0,i.default)((function*(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(I(t))return(0,g.forwardMediaMsg)(t,e,n,r);const i=F(t,e),l=(0,P.getMaybeMeUser)();let u;a.isGroup()&&(u=(0,x.toUserWid)(l));const d=new _.default({from:l,to:a,id:yield _.default.newId(),participant:u,selfDir:"out"}),c=Object.assign(i,{id:d,from:l,t:(0,o.unixTime)(),to:a,ack:s.ACK.CLOCK,participant:void 0,local:!0,self:"out",isNewMsg:!0,star:!1,isForwarded:(0,b.getShouldDisplayAsForwarded)(t),forwardedFromWeb:!0,forwardingScore:t.getForwardingScoreWhenForwarded(),multicast:n});if(O.default.isNewsletter(e.id))return(0,k.forwardNewsletterMessage)(e,c);const f=yield R(c);return(0,M.addAndSendMsgToChat)(e,f),Promise.resolve()}))).apply(this,arguments)}function R(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){const t=(0,h.getAsUrl)((0,w.msgModelFromMsgData)(e));if(null==t)return e;const{thumbnailHQ:a,mediaKeyTimestamp:n}=t;if(null==a)return e;if(null!=n&&(0,T.default)(n))return e;try{var i;const{filehash:n,mediaEntry:l}=yield(0,E.default)({thumbnail:yield v.default.createFromBase64Jpeg(a),mediaType:C.MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:(0,p.default)(),uploadOrigin:(0,y.default)((0,h.getChat)(t.unsafe())),forwardedFromWeb:!0,timeout:d.default.MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1});return null==(null==l?void 0:l.getMediaKey())?N(e):(0,r.default)((0,r.default)({},e),{},{thumbnailDirectPath:null==l?void 0:l.directPath,thumbnailSha256:n,thumbnailEncSha256:null!==(i=null==l?void 0:l.getEncfilehash())&&void 0!==i?i:void 0,mediaKey:null==l?void 0:l.getMediaKey(),mediaKeyTimestamp:null==l?void 0:l.getMediaKeyTimestamp()})}catch(t){return N(e)}}))).apply(this,arguments)}function N(e){return(0,r.default)((0,r.default)({},e),{},{thumbnailHQ:void 0,thumbnailDirectPath:void 0,thumbnailSha256:void 0,thumbnailEncSha256:void 0,mediaKey:void 0,mediaKeyTimestamp:void 0,thumbnailHeight:void 0,thumbnailWidth:void 0})}function j(){return(j=(0,i.default)((function*(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.id,i=e.contact;if((0,f.getIsUser)(i)&&i.isContactBlocked)throw new c.default("Forwarded to contact is blocked",i);const l=[];for(const i of t){const t=n||(0,b.getHasOriginatedFromNewsletter)(i);try{yield L(e,i,r,a,t)}catch(e){I(i)&&l.push(i)}}return l}))).apply(this,arguments)}function F(e,t){var a,n,r;let i=["buttons","caption","broadcast","ephemeralDuration","ephemeralSettingTimestamp","ephemeralStartTimestamp","ephemeralOutOfSync","disappearingModeInitiatedByMe","disappearingModeTrigger","dynamicReplyButtons","replyButtons","isMdHistoryMsg","bizPrivacyStatus","kicState","kicKey","kicTimestampMs","kicNotified","rcat","latestEditMsgKey","latestEditSenderTimestampMs","invokedBotWid","botMessageSecret","botEditType","botFeedbackKind","botFeedbackText","botTargetSenderJid","bizBotType","botPersonaId","botRespOrInvocationRevokeBotWid","botResponseTargetId","botPluginType","botPluginReferenceIndex","botPluginSearchProvider","botPluginSearchUrl","botEditTargetId","lastBotEditBodyLength","botPluginMaybeParent","rowId","serverId","viewCount","messageSecret"];!0===e.isDynamicReplyButtonsMsg&&e.type===S.MSG_TYPE.CHAT||(i=["footer",...i]),(null===(a=e.quotedMsg)||void 0===a?void 0:a.type)!==S.MSG_TYPE.PRODUCT&&(i=["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID",...i]);const o=(0,l.default)(e.toJSON(),i);e.ctwaContext&&(o.body=e.ctwaContext.sourceUrl,o.type=S.MSG_TYPE.CHAT,o.mediaObject=void 0),o.forwardedNewsletterMessageInfo=(0,m.getNewsletterContextForForwardedMsg)(e),(0,u.isEphemeralSettingOn)(t)&&(o.ephemeralDuration=(0,u.getEphemeralSetting)(t));const s=(0,u.getEphemeralSettingTimestamp)(t);null!=s&&(o.ephemeralSettingTimestamp=s);const d=(0,u.getDisappearingModeInitiator)(t);null!=d&&(o.disappearingModeInitiator=d);const c=(0,u.getDisappearingModeTrigger)(t);null!=c&&(o.disappearingModeTrigger=c);const f=(0,u.getDisappearingModeInitiatedByMe)(t);return null!=f&&(o.disappearingModeInitiatedByMe=f),!(null===(n=e.id.remote)||void 0===n?void 0:n.isBot())&&null==(null===(r=e.mentionedJidList)||void 0===r?void 0:r.find((e=>e.isBot())))&&t.isCAGAdmin()&&Object.assign(o,{messageSecret:self.crypto.getRandomValues(new Uint8Array(32))}),o}},450192:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.forwardMessagesToChats=function(){return E.apply(this,arguments)};var r=n(a(348926)),i=n(a(639693)),l=n(a(763105)),o=n(a(435161)),s=a(423660),u=a(547979),d=a(391985),c=n(a(293559)),f=n(a(4780)),p=a(784845),h=a(939716),m=a(61113),g=a(787742),y=a(73225),v=a(369084);function E(){return(E=(0,r.default)((function*(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Promise.all(e.map((e=>((0,g.getIsPSA)(e)&&(0,v.logChatPSAForward)(e),(0,y.isNewsletterMessageForwardLoggingEnabled)()&&(0,g.getHasOriginatedFromNewsletter)(e)&&(0,p.logNewsletterMessagForward)(e,t),(0,s.promiseProps)({message:e,canForward:(0,h.canForwardMsg)(e)&&(null!=m.MsgCollection.get(e.id)||(0,g.getIsEphemeral)(e))}))))),E=yield Promise.all(t.filter((e=>e.canSend)).map(function(){var e=(0,r.default)((function*(e){const t=e.isUser&&e.contact.isContactBlocked?(0,u.unblockContact)(e.contact):Promise.resolve(!0),[r]=yield Promise.all([n,t]),i=(0,o.default)((0,l.default)(r,{canForward:!0}),"message"),c=(0,o.default)((0,l.default)(r,{canForward:!1}),"message");return(0,s.promiseProps)({chat:e,undelivered:(0,d.forwardMessages)(e,i,!0,a),msgsThatCanBeforwarded:i,msgsThatCannotBeForwarded:c})}));return function(){return e.apply(this,arguments)}}())),C=(0,i.default)(E.map((e=>{let{chat:t,undelivered:a,msgsThatCanBeforwarded:n,msgsThatCannotBeForwarded:r}=e,i=null;return(a.length||r.length)&&(i=(0,c.default)({chat:t,undelivered:a,canForward:n,cannotForward:r})),null!=i&&""!==i?{chat:t,reason:i}:null})));if(C.length)throw new f.default(C);return!0}))).apply(this,arguments)}},567268:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=n(a(991370)),i=a(63014),l=a(660666),o=a(714574),s=a(97858),u=a(515186),d=a(444192),c=a(55001),f=n(a(376394)),p=n(a(667294)),h=n(a(156720)),m=a(379811),g=a(261274);const y={dimmed:{opacity:"brh521k9"},verified:{display:"au4fhpva",overflowX:"swamzvm4",overflowY:"nel0soo2",textOverflow:"go4p2dcp",whiteSpace:"cnuwac07"},icon:{display:"l7jjieqr",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginTop:"b9l0eqez",marginStart:"k6y3xtnu",verticalAlign:"fewfhwl7"}};function v(e){const{statusV3:t,contact:a,onClick:n,isModalView:v=!0}=e,[E,C]=(0,g.useStatusV3Values)(t.id,[c.getId,c.getT]),[b,_,w]=(0,m.useContactValues)(a.id,[o.getFormattedName,l.getStatusMute,l.getIsPSA]),S=w?null:i.Clock.relativeDateAndTimeStr(C),k=w?p.default.createElement("span",{className:(0,h.default)(y.verified)},b,p.default.createElement("div",{className:(0,h.default)(y.icon)},(0,s.isBlueEnabled)()?p.default.createElement(u.PsaVerifiedBlueIcon,null):p.default.createElement(d.PsaVerifiedIcon,null))):b;return p.default.createElement(r.default,{className:(0,h.default)(_&&y.dimmed),key:E.toString(),customImage:!0,theme:v?"status-list-modal":null,image:p.default.createElement(f.default,{id:t.id,contact:a,onClick:n}),tabIndex:-1,handleKeyboardClick:!0,focusid:"status-row-item",primary:k,secondary:S,onClick:n,contextEnabled:()=>!1})}v.displayName="StatusV3Cell"},376394:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=T;var r=n(a(967154)),i=a(398284),l=a(660666),o=a(23641),s=a(679090),u=n(a(641206)),d=a(787742),c=a(373070),f=(a(163139),a(918715)),p=a(473016),h=a(688468),m=a(676345),g=n(a(395967)),y=n(a(124928)),v=n(a(667294)),E=n(a(156720)),C=a(379811),b=n(a(83233)),_=a(261274);const w={container:{paddingTop:"b7n2qyd4",paddingEnd:"kyc7k6mt",paddingBottom:"ekpn4oxx",paddingStart:"rn41jex5",position:"g0rxnol2"},statusImage:{backgroundPosition:"t3g6t33p",backgroundRepeat:"sxl192xd",backgroundSize:"qnwaluaf",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",overflowX:"gfz4du6o",overflowY:"r7fjleex"},statusImageFallbackBackground:{backgroundColor:"rx2toazg"},textThumb:{position:"g0rxnol2"},thumbContainer:{borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},thumbSizeLarge:{height:"fsgosuut",width:"h4dw90qs"},thumbSizeSmall:{height:"lniyxyh2",width:"qssinsw9"},focusRing:{":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"}}};function S(e){return"status-panel"===e?w.thumbSizeLarge:w.thumbSizeSmall}function k(e){const{msg:t,theme:a}=e,n=S(a);return v.default.createElement("div",{className:(0,E.default)(w.statusImage,n),style:{backgroundColor:(0,d.getStatusV3CanvasColor)(t)}},v.default.createElement("div",{className:(0,E.default)(w.textThumb,n)},v.default.createElement(h.StatusV3Text,{msg:t,theme:null!=a?a:"status-thumbnail"})))}function M(e){const{msg:t,theme:a}=e,n=S(a);return v.default.createElement("div",{className:(0,E.default)(w.statusImage,n),style:{backgroundColor:(0,d.getStatusV3CanvasColor)(t)}},v.default.createElement(i.AudioWaveThumbIcon,{iconXstyle:n}))}function P(e){const{msg:t,theme:a,thumbnailPlaceholder:n}=e,r=S(a),i=w.statusImage,l=(0,f.isStatusV3VoiceStatusReceiptEnabled)();if(t){if(y.default.isPSA((0,d.getSender)(t)))return v.default.createElement("div",{className:(0,E.default)(w.thumbContainer,r,w.statusImageFallbackBackground)},n);const e=v.default.createElement(u.default,{containerClassName:(0,E.default)(w.thumbContainer,r,w.statusImageFallbackBackground),childClassName:(0,E.default)(i,r),msg:t,thumbnailPlaceholder:n});switch(t.type){case c.MSG_TYPE.CHAT:return v.default.createElement(k,{msg:t,theme:a});case c.MSG_TYPE.PTT:case c.MSG_TYPE.AUDIO:return l?v.default.createElement(M,{msg:t,theme:a}):e;default:return e}}return v.default.createElement("div",{className:(0,E.default)(i,r,w.statusImageFallbackBackground)})}function T(e){const{id:t,theme:a,thumbnailPlaceholder:n,msg:i,tabIndex:u,ariaLabel:c}=e,[f]=(0,_.useStatusV3Values)(t,[s.getLastStatus]),[h]=(0,C.useContactValues)(e.contact.id,[l.getStatusMute]),{isKeyboardUser:y}=(0,g.default)(),[k,M]=(0,b.default)(e.onClick),T=null!=i?i:f,O=S(a);let x;return x=null!=n?n:T?v.default.createElement(o.DetailImage,{id:(0,d.getSender)(T),theme:"status_v3",size:40}):null,v.default.createElement("div",(0,r.default)({ref:k},M,{tabIndex:u,className:(0,E.default)(w.container,O,m.uiMargin.top2,y&&w.focusRing),"aria-label":c,role:e.role||"",onContextMenu:null,onClickCapture:t=>{var a;null===(a=e.onClick)||void 0===a||a.call(e),t.stopPropagation(),t.preventDefault()}}),h||"status-panel"===a?null:v.default.createElement(p.StatusV3ImageRing,{id:t,breakRing:!0}),v.default.createElement(P,{msg:T,theme:a,thumbnailPlaceholder:x}))}k.displayName="StatusV3TextWrapper",M.displayName="StatusV3VoiceStatusThumbnail",P.displayName="StatusV3MsgThumbnail",T.displayName="StatusV3Thumbnail"},823669:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AccountBalanceIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"currentColor"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.default.createElement("path",{d:"M4 11.5v4c0 .83.67 1.5 1.5 1.5S7 16.33 7 15.5v-4c0-.83-.67-1.5-1.5-1.5S4 10.67 4 11.5zm6 0v4c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5zM3.5 22h16c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5h-16c-.83 0-1.5.67-1.5 1.5S2.67 22 3.5 22zM16 11.5v4c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5zM10.57 1.49l-7.9 4.16c-.41.21-.67.64-.67 1.1C2 7.44 2.56 8 3.25 8h16.51C20.44 8 21 7.44 21 6.75c0-.46-.26-.89-.67-1.1l-7.9-4.16c-.58-.31-1.28-.31-1.86 0z"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="account-balance"},379278:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignCenterAltIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=15,g=18;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 18 15",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648Zm2.955 4.109H13.4a.643.643 0 1 0 0-1.287H4.592a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Zm-2.955 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648Zm2.955 4.109H13.4a.643.643 0 1 0 0-1.287H4.592a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="align-center-alt"},493583:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignCenterIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=28,g=28;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1"},s.default.createElement("title",null,d),s.default.createElement("path",{fill:"currentColor",d:"M18.5,19 C18.7761424,19 19,19.2238576 19,19.5 L19,20 C19,20.2761424 18.7761424,20.5 18.5,20.5 L9.5,20.5 C9.22385763,20.5 9,20.2761424 9,20 L9,19.5 C9,19.2238576 9.22385763,19 9.5,19 L18.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M21.5,11 C21.7761424,11 22,11.2238576 22,11.5 L22,12 C22,12.2761424 21.7761424,12.5 21.5,12.5 L6.5,12.5 C6.22385763,12.5 6,12.2761424 6,12 L6,11.5 C6,11.2238576 6.22385763,11 6.5,11 L21.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="align-center"},855134:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignLeftAltIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=15,g=18;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 18 15",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648Zm0 4.109h8.816a.643.643 0 1 0 0-1.287H1.637a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Zm0 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648Zm0 4.109h8.816a.643.643 0 1 0 0-1.287H1.637a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="align-left-alt"},369689:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignLeftIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=28,g=28;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1"},s.default.createElement("title",null,d),s.default.createElement("path",{fill:"currentColor",d:"M14.5,19 C14.7761424,19 15,19.2238576 15,19.5 L15,20 C15,20.2761424 14.7761424,20.5 14.5,20.5 L5.5,20.5 C5.22385763,20.5 5,20.2761424 5,20 L5,19.5 C5,19.2238576 5.22385763,19 5.5,19 L14.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M20.5,11 C20.7761424,11 21,11.2238576 21,11.5 L21,12 C21,12.2761424 20.7761424,12.5 20.5,12.5 L5.5,12.5 C5.22385763,12.5 5,12.2761424 5,12 L5,11.5 C5,11.2238576 5.22385763,11 5.5,11 L20.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="align-left"},247815:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignRightAltIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=15,g=18;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 18 15",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648ZM7.54 5.895h8.816a.643.643 0 1 0 0-1.287H7.539a.634.634 0 0 0-.64.64c0 .364.283.647.64.647Zm-5.902 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648ZM7.54 14.12h8.816a.643.643 0 1 0 0-1.287H7.539a.634.634 0 0 0-.64.64c0 .364.283.647.64.647Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="align-right-alt"},116282:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignRightIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=28,g=28;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1"},s.default.createElement("title",null,d),s.default.createElement("path",{fill:"currentColor",d:"M22.5,19 C22.7761424,19 23,19.2238576 23,19.5 L23,20 C23,20.2761424 22.7761424,20.5 22.5,20.5 L13.5,20.5 C13.2238576,20.5 13,20.2761424 13,20 L13,19.5 C13,19.2238576 13.2238576,19 13.5,19 L22.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M22.5,11 C22.7761424,11 23,11.2238576 23,11.5 L23,12 C23,12.2761424 22.7761424,12.5 22.5,12.5 L7.5,12.5 C7.22385763,12.5 7,12.2761424 7,12 L7,11.5 C7,11.2238576 7.22385763,11 7.5,11 L22.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="align-right"},492014:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AssignmentIndIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"currentColor"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.default.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="assignment-ind"},398284:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioWaveThumbIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=40,g=40;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 40 40",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M18.1953 31.4492C18.7461 31.4492 19.1562 31.0156 19.1562 30.4883V10.6016C19.1562 10.0625 18.7344 9.64062 18.1953 9.64062C17.6562 9.64062 17.2344 10.0625 17.2344 10.6016V30.4883C17.2344 31.0156 17.6562 31.4492 18.1953 31.4492ZM25.4023 29.1172C25.9531 29.1172 26.3633 28.6953 26.3633 28.1562V12.9336C26.3633 12.3945 25.9414 11.9727 25.4023 11.9727C24.8516 11.9727 24.4414 12.3945 24.4414 12.9336V28.1562C24.4414 28.6953 24.8516 29.1172 25.4023 29.1172ZM14.5859 27.4414C15.1367 27.4414 15.5586 27.0195 15.5586 26.4805V14.6094C15.5586 14.0703 15.1367 13.6484 14.5859 13.6484C14.0469 13.6484 13.6367 14.0703 13.6367 14.6094V26.4805C13.6367 27.0195 14.0469 27.4414 14.5859 27.4414ZM21.8047 25.9648C22.3438 25.9648 22.7539 25.5312 22.7539 25.0039V16.0859C22.7539 15.5469 22.3438 15.125 21.8047 15.125C21.2539 15.125 20.8438 15.5586 20.8438 16.0859V25.0039C20.8438 25.5312 21.2539 25.9648 21.8047 25.9648ZM29 23.9727C29.5508 23.9727 29.9609 23.5508 29.9609 23.0117V18.0781C29.9609 17.5391 29.5508 17.1172 29 17.1172C28.4492 17.1172 28.0391 17.5391 28.0391 18.0781V23.0117C28.0391 23.5508 28.4609 23.9727 29 23.9727ZM10.9883 23.0469C11.5391 23.0469 11.9492 22.625 11.9492 22.0859V19.0039C11.9492 18.4648 11.5273 18.0312 10.9883 18.0312C10.4375 18.0312 10.0273 18.4648 10.0273 19.0039V22.0859C10.0273 22.625 10.4375 23.0469 10.9883 23.0469Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="audio-wave-thumb"},418541:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CameraIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24"},s.default.createElement("title",null,d),s.default.createElement("path",{fill:"currentColor",d:"M21.317,4.381H10.971L9.078,2.45C8.832,2.199,8.342,1.993,7.989,1.993H4.905 c-0.352,0-0.837,0.211-1.078,0.468L1.201,5.272C0.96,5.529,0.763,6.028,0.763,6.38v1.878c0,0.003-0.002,0.007-0.002,0.01v11.189 c0,1.061,0.86,1.921,1.921,1.921h18.634c1.061,0,1.921-0.86,1.921-1.921V6.302C23.238,5.241,22.378,4.381,21.317,4.381z  M12.076,18.51c-3.08,0-5.577-2.497-5.577-5.577s2.497-5.577,5.577-5.577s5.577,2.497,5.577,5.577 C17.654,16.013,15.157,18.51,12.076,18.51z M12.076,9.004c-2.17,0-3.929,1.759-3.929,3.929s1.759,3.929,3.929,3.929 s3.929-1.759,3.929-3.929C16.004,10.763,14.245,9.004,12.076,9.004z"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="camera"},682761:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1"},s.default.createElement("title",null,d),s.default.createElement("g",{id:"catalog_web",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},s.default.createElement("path",{d:"M3.25,15 L3.25,19 C3.25,19.9664983 4.03350169,20.75 5,20.75 L15,20.75 C15.9664983,20.75 16.75,19.9664983 16.75,19 L16.75,15 C16.75,14.5857864 16.4142136,14.25 16,14.25 C15.5857864,14.25 15.25,14.5857864 15.25,15 L15.25,19 C15.25,19.1380712 15.1380712,19.25 15,19.25 L5,19.25 C4.86192881,19.25 4.75,19.1380712 4.75,19 L4.75,15 C4.75,14.5857864 4.41421356,14.25 4,14.25 C3.58578644,14.25 3.25,14.5857864 3.25,15 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),s.default.createElement("path",{d:"M20.75,20 L20.75,15 C20.75,14.5857864 20.4142136,14.25 20,14.25 C19.5857864,14.25 19.25,14.5857864 19.25,15 L19.25,20 C19.25,20.4142136 19.5857864,20.75 20,20.75 C20.4142136,20.75 20.75,20.4142136 20.75,20 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),s.default.createElement("path",{d:"M19.0596875,4 L5.51793438,4 C4.40802085,4 3.43383032,4.73889996 3.13458536,5.80771262 L2.05872453,9.65036257 C1.82420376,10.488 2.31312637,11.3571559 3.15076375,11.5916766 C3.2889905,11.6303772 3.43185897,11.65 3.57540118,11.65 L21.0022207,11.65 C21.8720692,11.65 22.5772207,10.9448485 22.5772207,10.075 C22.5772207,9.93145779 22.557598,9.78858932 22.5188974,9.65036257 L21.4430366,5.80771262 C21.1437916,4.73889996 20.1696011,4 19.0596875,4 Z M19.0596875,5.35 C19.5641937,5.35 20.0070076,5.68586362 20.143028,6.17168755 L21.2188888,10.0143375 C21.2244175,10.0340842 21.2272207,10.054494 21.2272207,10.075 C21.2272207,10.1992641 21.1264848,10.3 21.0022207,10.3 L3.57540118,10.3 C3.55489515,10.3 3.53448537,10.2971967 3.51473869,10.2916681 C3.39507621,10.2581651 3.32523012,10.134 3.35873309,10.0143375 L4.43459391,6.17168755 C4.57061435,5.68586362 5.01342823,5.35 5.51793438,5.35 L19.0596875,5.35 Z",id:"Path",fill:"#000000",fillRule:"nonzero"}),s.default.createElement("path",{d:"M22.188811,10.975 L22.188811,11.3296105 C22.188811,12.1278748 21.2949411,13.225 20.1923038,13.225 C19.1592556,13.225 18.3198702,12.2052018 18.2168352,11.4776253 C18.1127212,12.2052018 17.2733358,13.225 16.2408271,13.225 C15.2072395,13.225 14.3683936,12.2052018 14.264819,11.4776253 C14.1612445,12.2052018 13.3218591,13.225 12.288811,13.225 C11.2552233,13.225 10.4163774,12.2052018 10.3128029,11.4776253 C10.2097678,12.2052018 9.369843,13.225 8.33679483,13.225 C7.30374666,13.225 6.46490076,12.2052018 6.36132621,11.4776253 C6.25775167,12.2052018 5.41782687,13.225 4.38531815,13.225 C3.28268083,13.225 2.38881096,12.1278748 2.38881096,11.3296105 L2.38881096,10.975 L22.188811,10.975 Z",id:"Fill-9",fill:"#000000"}))))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="catalog"},327671:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CheckmarkLargeIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=30,g=30;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 30 30",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 30 30"},s.default.createElement("title",null,d),s.default.createElement("path",{fill:"currentColor",d:"M9.9,21.25l-6.7-6.7L1,16.75l8.9,8.9L29,6.55l-2.2-2.2L9.9,21.25z"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="checkmark-large"},419741:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityAdminDarkIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=157,g=224;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 224 157",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M176.395 133.783C202.079 125.033 221.527 100.338 218.74 64.6342C214.507 10.3886 162.863 -3.06763 130.691 12.9117C87.0477 34.5885 81.5198 38.1422 50.2608 38.1422C26.9784 38.1422 3.27272 49.4959 0.309525 80.193C-1.83832 102.443 6.80145 121.865 38.7733 131.781C96.9612 149.829 151.574 142.238 176.395 133.783Z",fill:"#A6CCC7"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.293 99.6867C27.0535 101.355 30.7418 103.637 31.4074 104.997C32.228 106.674 30.9928 110.9 29.8353 114.37C29.6388 114.958 30.4495 115.336 30.7732 114.808C32.5509 111.908 34.8757 108.32 36.4515 107.751C38.026 107.182 42.3203 108.547 45.6143 109.668C46.2027 109.868 46.5832 109.056 46.0527 108.732C43.0243 106.882 39.2021 104.422 38.6613 102.787C38.151 101.244 39.7028 96.5983 40.8637 93.2422C41.0683 92.6508 40.2467 92.2674 39.9241 92.8033C38.1077 95.8232 35.5519 99.9797 34.0649 100.588C32.4546 101.246 28.1113 99.8943 24.7277 98.7485C24.1378 98.5486 23.7597 99.3643 24.293 99.6867Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.603 6.78459C160.945 9.42458 162.712 12.9937 162.57 14.3772C162.396 16.0823 159.382 18.7764 156.795 20.9197C156.356 21.2825 156.805 21.9707 157.313 21.7158C160.107 20.3189 163.66 18.651 165.165 18.972C166.668 19.2932 169.353 22.4415 171.376 24.9143C171.737 25.3561 172.428 24.9077 172.172 24.3978C170.71 21.4856 168.925 17.7127 169.297 16.1757C169.648 14.7255 173.113 11.8582 175.647 9.80596C176.094 9.44436 175.639 8.74666 175.128 9.00773C172.246 10.4797 168.236 12.4786 166.782 12.2308C165.208 11.9618 162.478 8.79999 160.398 6.26437C160.035 5.8222 159.344 6.27439 159.603 6.78459Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M109.286 19.9086L109.286 19.9086C102.842 23.1185 87.3525 30.1026 68.0072 33.804L68.0071 33.804C64.0692 34.5576 61.1751 37.956 61.1751 41.9896V78.4977C61.1751 95.8063 64.3953 110.744 72.2448 122.656C80.1062 134.586 92.541 143.377 110.759 148.511L110.76 148.511C112.199 148.916 113.736 148.916 115.176 148.511L115.176 148.511C133.395 143.377 145.829 134.586 153.691 122.656C161.54 110.744 164.76 95.8063 164.76 78.4977V41.9896C164.76 37.9561 161.866 34.5577 157.93 33.804L157.93 33.804C138.583 30.1026 123.093 23.1185 116.65 19.9086L116.65 19.9086C114.33 18.7529 111.606 18.7529 109.286 19.9086Z",fill:"#73F793",stroke:"#326474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{opacity:.7,fillRule:"evenodd",clipRule:"evenodd",d:"M113.003 147.88C113.65 147.877 114.296 147.787 114.922 147.611C151.018 137.439 163.825 112.902 163.825 78.4977V41.9896C163.825 38.4165 161.262 35.3937 157.754 34.7221C138.293 30.999 122.719 23.9767 116.233 20.7453C115.168 20.2149 114.007 19.959 112.85 19.9775C112.85 19.9775 113.003 147.88 113.003 147.88Z",fill:"#326474",fillOpacity:.24}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.63 55.9921C124.733 61.8564 119.841 71.555 113.712 71.7298C107.582 71.904 102.535 62.4889 102.433 56.6242C102.33 50.7596 107.216 45.8638 113.346 45.6892C119.475 45.5147 124.527 50.1275 124.63 55.9921Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.304 108.889C141.352 110.234 140.929 112.456 139.062 112.593C131.568 113.141 123.268 113.291 115.461 113.276C105.994 113.258 98.3013 113.143 91.6051 112.528C89.47 112.332 89.1898 110.211 89.1435 108.894C88.5616 92.3891 99.7667 79.0083 114.17 79.007C128.574 79.006 140.722 92.3849 141.304 108.889Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M88.8634 124.688L88.8654 124.699L88.8677 124.71L90.5779 132.936C90.5808 132.958 90.5772 132.993 90.5574 133.03C90.5443 133.054 90.5327 133.063 90.5293 133.066L86.1695 134.637C85.3298 134.94 84.7883 135.671 84.6077 136.457C84.5266 136.81 84.4268 137.168 84.3132 137.525C84.193 137.904 84.0646 138.263 83.9269 138.606C83.6311 139.344 83.6722 140.219 84.135 140.932L86.722 144.917L86.7298 144.929L86.7379 144.94C86.7548 144.965 86.7559 144.981 86.7544 144.994C86.7529 145.008 86.7451 145.039 86.7061 145.079L80.6257 150.623L80.617 150.631L80.6084 150.639C80.5944 150.652 80.5849 150.657 80.5813 150.658C80.5772 150.66 80.5731 150.661 80.5678 150.661C80.5582 150.661 80.5356 150.658 80.5072 150.637L76.9313 147.535C76.2822 146.971 75.4112 146.822 74.6369 147.052C73.9344 147.262 73.2146 147.416 72.4798 147.507C71.6809 147.606 70.9399 148.087 70.5675 148.865L68.5234 153.133L68.5201 153.14L68.5169 153.147C68.5097 153.162 68.5031 153.17 68.4999 153.173C68.4964 153.176 68.4935 153.178 68.4908 153.179C68.488 153.18 68.4837 153.181 68.4774 153.182C68.4712 153.182 68.4605 153.181 68.4449 153.176L60.6394 150.49C60.6146 150.481 60.5989 150.469 60.5852 150.445C60.5708 150.421 60.5542 150.374 60.5578 150.306L61.3525 145.648C61.4965 144.804 61.182 143.98 60.6149 143.42C60.0761 142.888 59.5864 142.313 59.1316 141.697C58.6567 141.054 57.8837 140.636 57.0324 140.686L52.403 140.958C52.3615 140.954 52.3298 140.939 52.311 140.924C52.3009 140.916 52.2942 140.908 52.2894 140.9C52.2849 140.893 52.2785 140.88 52.2743 140.857L52.2722 140.845L52.2699 140.834L50.5597 132.609C50.5569 132.587 50.5605 132.551 50.5802 132.515C50.5934 132.491 50.605 132.481 50.6084 132.479L54.9682 130.908C55.8074 130.605 56.3496 129.874 56.5304 129.088C56.6131 128.729 56.7141 128.367 56.8245 128.019C56.9285 127.692 57.0629 127.351 57.2144 127.011C57.5519 126.254 57.5218 125.34 57.0378 124.602L54.4336 120.631L54.4209 120.612L54.4072 120.593C54.3996 120.583 54.3979 120.577 54.3974 120.575C54.3967 120.572 54.3959 120.567 54.3969 120.559C54.399 120.543 54.4094 120.512 54.4431 120.481C54.4433 120.481 54.4435 120.48 54.4437 120.48L60.5136 114.921L60.5215 114.913L60.5292 114.906C60.5433 114.892 60.5527 114.888 60.5564 114.886C60.5605 114.885 60.5646 114.884 60.5698 114.884C60.5794 114.884 60.602 114.886 60.6305 114.907L64.2157 118.018C64.8554 118.573 65.7157 118.73 66.4879 118.503C67.1984 118.295 67.925 118.134 68.6619 118.039C69.4572 117.937 70.1977 117.457 70.5701 116.68L72.6077 112.426C72.6333 112.378 72.6577 112.367 72.6611 112.365C72.6639 112.364 72.6657 112.364 72.6678 112.364C72.6697 112.364 72.6776 112.364 72.6928 112.369L80.4983 115.055C80.5268 115.065 80.5483 115.082 80.5635 115.108C80.5783 115.133 80.5892 115.169 80.5837 115.216L79.7852 119.897C79.6412 120.741 79.9557 121.564 80.5228 122.124C81.0616 122.657 81.5512 123.232 82.006 123.847C82.481 124.49 83.2539 124.909 84.1053 124.859L88.7347 124.586C88.7762 124.591 88.8079 124.606 88.8266 124.621C88.8368 124.629 88.8435 124.637 88.8483 124.645C88.8527 124.652 88.8592 124.665 88.8634 124.688ZM90.5334 133.064L90.5331 133.064L90.5334 133.064ZM50.6042 132.48L50.6045 132.48L50.6042 132.48Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("circle",{cx:70.569,cy:132.774,r:7.26307,transform:"rotate(-11.7053 70.569 132.774)",fill:"#A6CCC7",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M180.569 58.8458C180.569 58.8458 176.96 65.5006 177.039 66.0964C177.118 66.6924 182.278 65.5183 182.772 65.3757C183.265 65.2331 183.897 70.1809 184.73 71.2426C185.562 72.3045 186.593 72.2585 188.611 71.9274C190.629 71.5962 218.325 64.2513 218.325 64.2513C218.325 64.2513 221.971 63.975 221.295 60.6806C220.618 57.3864 216.928 38.503 216.729 37.8987C216.529 37.2945 216.409 34.6885 211.772 35.3087C207.134 35.9291 181.489 42.4728 181.489 42.4728C181.489 42.4728 178.275 43.4878 178.399 46.0349C178.523 48.5821 180.569 58.8458 180.569 58.8458Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M195.734 59.8696C196.455 57.2607 199.154 55.7299 201.763 56.4506L211.211 59.0602C213.819 59.7808 215.35 62.48 214.63 65.0889L211.857 75.1268C211.136 77.7357 208.437 79.2664 205.828 78.5458L196.381 75.9362C193.772 75.2155 192.241 72.5164 192.962 69.9075L195.734 59.8696Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.395 72.4404C204.024 73.6143 202.771 74.265 201.597 73.8941C200.423 73.5233 199.772 72.2707 200.143 71.0968C200.513 69.9229 201.766 69.2722 202.94 69.6431C204.114 70.0139 204.766 71.2663 204.395 72.4404Z",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M195.956 59.0666C196.554 56.9012 198.795 55.6306 200.96 56.2288L212.014 59.282C214.179 59.8801 215.45 62.1205 214.851 64.2859C214.253 66.4513 212.013 67.7219 209.847 67.1238L198.794 64.0705C196.628 63.4724 195.358 61.2321 195.956 59.0666Z",fill:"#EDE9E3",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{d:"M200.754 52.7398C201.763 49.0874 205.541 46.9443 209.194 47.9532C212.846 48.9621 214.989 52.7409 213.981 56.3933L212.017 63.503C212.017 63.503 211.274 64.3528 209.856 63.9613C208.439 63.5699 208.238 62.4592 208.238 62.4592L210.162 55.4913C210.595 53.9259 209.676 52.3065 208.111 51.8741C206.546 51.4417 204.926 52.3602 204.494 53.9255L202.569 60.8934C202.569 60.8934 201.826 61.7431 200.409 61.3517C198.992 60.9603 198.79 59.8495 198.79 59.8495L200.754 52.7398Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.748 100.235C199.5 102.479 197.156 105.943 194.806 105.709C192.457 105.475 190.991 101.631 191.24 99.3867C191.489 97.142 193.595 95.5121 195.944 95.7463C198.294 95.9806 199.997 97.9901 199.748 100.235Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M203.52 121.254C203.472 121.77 203.202 122.598 202.482 122.558C199.593 122.4 196.416 122.05 193.435 121.661C189.821 121.189 186.889 120.768 184.362 120.204C183.556 120.025 183.553 119.201 183.6 118.696C184.188 112.364 189.124 107.804 194.624 108.51C200.125 109.217 204.108 114.923 203.52 121.254Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.83 99.6489C184.788 101.26 183.42 103.843 181.846 103.793C180.271 103.743 179.085 101.079 179.128 99.4682C179.169 97.8574 180.48 96.5917 182.055 96.6417C183.63 96.6916 184.872 98.038 184.83 99.6489Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185.267 107.242C184.244 106.685 183.043 106.353 181.744 106.329C177.808 106.256 174.478 109.021 174.305 112.504C174.291 112.782 174.325 113.231 174.905 113.283C176.538 113.43 178.4 113.496 180.638 113.546C181.322 111.002 182.997 108.79 185.267 107.242Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M28.9824 44.2651L31.1808 39.3806C31.4314 38.8239 31.8365 38.3511 32.348 38.0186C33.6901 37.146 32.4959 39.4744 33.3707 40.82L47.1311 61.9843C48.023 63.3561 50.6282 63.2444 49.2601 64.1339C48.778 64.4474 48.2211 64.627 47.6464 64.6544L42.6015 64.8951C39.4188 65.0469 36.2878 65.6667 33.3065 66.7259C32.9225 66.8623 32.8228 67.3539 33.1145 67.6385C34.0807 68.5815 34.9974 69.5032 35.0613 69.5729L37.4241 72.1491C38.7976 73.6465 38.5873 75.9994 36.9709 77.2219C35.8196 78.0927 34.2456 78.1488 33.0313 77.3624C31.9197 76.5933 25.4778 70.8878 24.1959 71.6402C21.3482 73.3116 17.6574 72.4561 15.8343 69.6521L14.0729 66.9429C12.197 64.0577 13.0091 60.2022 15.8866 58.3313C16.2841 58.0728 16.6882 57.82 17.093 57.5667C22.0637 54.4563 26.5731 49.618 28.9824 44.2651Z",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{d:"M25.5366 70.553L26.0596 71.3278L26.0596 71.3278L25.5366 70.553ZM42.5182 65.0836L42.5134 64.1489L42.5182 65.0836ZM47.8745 65.0562L47.8793 65.991L47.8745 65.0562ZM49.1936 63.6206L48.8486 64.4894L48.8486 64.4894L49.1936 63.6206ZM14.3181 69.0346L14.9578 70.0184L16.5252 68.9993L15.8855 68.0155L14.3181 69.0346ZM14.9578 70.0184C17.1137 73.3344 21.5454 74.2827 24.8578 72.1291L23.8387 70.5617C21.3959 72.1499 18.1209 71.4536 16.5252 68.9993L14.9578 70.0184ZM24.8578 72.1291C25.2632 71.8655 25.665 71.5942 26.0596 71.3278L25.0135 69.7783C24.6166 70.0463 24.2283 70.3084 23.8387 70.5617L24.8578 72.1291ZM26.0596 71.3278C30.7859 68.1368 36.8602 66.0474 42.523 66.0184L42.5134 64.1489C36.4362 64.18 30.0067 66.4072 25.0135 69.7783L26.0596 71.3278ZM42.523 66.0184L47.8793 65.991L47.8697 64.1214L42.5134 64.1489L42.523 66.0184ZM47.8793 65.991C48.1844 65.9894 48.6818 65.9854 49.1759 65.9349C49.6181 65.8897 50.2582 65.7921 50.7223 65.4903L49.7032 63.9229C49.7068 63.9206 49.6932 63.9298 49.6537 63.945C49.6152 63.9599 49.5626 63.9766 49.4941 63.9934C49.3551 64.0276 49.1823 64.0549 48.9857 64.075C48.5912 64.1154 48.1752 64.1199 47.8697 64.1214L47.8793 65.991ZM50.7223 65.4903C50.9693 65.3297 51.4366 64.9499 51.3904 64.3086C51.3494 63.7413 50.9204 63.4252 50.7644 63.3182C50.5525 63.1728 50.3053 63.0603 50.1091 62.9778C49.9157 62.8965 49.6814 62.8086 49.5387 62.7519L48.8486 64.4894C49.0515 64.57 49.2085 64.6273 49.3847 64.7013C49.5583 64.7743 49.6592 64.8272 49.7067 64.8598C49.7291 64.8752 49.7036 64.8621 49.6647 64.8138C49.6238 64.763 49.5396 64.6366 49.5256 64.443C49.5107 64.2362 49.5846 64.0773 49.6465 63.9908C49.6989 63.9178 49.7384 63.9001 49.7032 63.9229L50.7223 65.4903ZM49.5387 62.7519C48.8913 62.4947 48.4404 62.2828 48.2312 61.9611L46.6638 62.9802C47.2548 63.8892 48.331 64.2838 48.8486 64.4894L49.5387 62.7519Z",fill:"#316474"}),s.default.createElement("ellipse",{cx:41.4607,cy:51.2452,rx:4.16271,ry:16.0562,transform:"rotate(-33.0306 41.4607 51.2452)",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1483 57.8186C39.9805 56.398 38.7929 54.7788 37.6467 53.0158C36.7429 51.6257 35.9312 50.2484 35.2241 48.9222C37.4134 47.6394 40.3897 48.5062 41.9598 50.9211C43.5056 53.2987 43.1269 56.313 41.1483 57.8186Z",fill:"#ECE8E2"}),s.default.createElement("path",{d:"M41.1483 57.8186L40.4262 58.4122L40.9979 59.1076L41.7143 58.5625L41.1483 57.8186ZM35.2241 48.9222L34.7515 48.1156L33.9768 48.5696L34.3993 49.362L35.2241 48.9222ZM41.8704 57.2249C40.7259 55.8327 39.5588 54.2418 38.4304 52.5063L36.863 53.5253C38.0271 55.3158 39.2351 56.9632 40.4262 58.4122L41.8704 57.2249ZM38.4304 52.5063C37.5408 51.138 36.743 49.784 36.049 48.4824L34.3993 49.362C35.1195 50.7128 35.945 52.1134 36.863 53.5253L38.4304 52.5063ZM35.6967 49.7287C37.3761 48.7447 39.8252 49.353 41.1761 51.4307L42.7435 50.4116C40.9541 47.6594 37.4508 46.5341 34.7515 48.1156L35.6967 49.7287ZM41.1761 51.4307C42.505 53.4747 42.1024 55.9179 40.5822 57.0747L41.7143 58.5625C44.1514 56.7081 44.5061 53.1227 42.7435 50.4116L41.1761 51.4307Z",fill:"#316474"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="community-admin-dark"},950200:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityAdminLightIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=157,g=221;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 221 157",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M176.395 133.783C202.079 125.033 221.526 100.338 218.74 64.6342C214.507 10.3886 162.863 -3.06763 130.691 12.9117C87.0476 34.5885 81.5197 38.1422 50.2607 38.1422C26.9783 38.1422 3.2726 49.4959 0.309402 80.193C-1.83844 102.443 6.80133 121.865 38.7732 131.781C96.9611 149.829 151.574 142.238 176.395 133.783Z",fill:"#DAF7F3"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.2931 99.6867C27.0536 101.355 30.7419 103.637 31.4075 104.997C32.2281 106.674 30.9929 110.9 29.8354 114.37C29.6389 114.958 30.4496 115.336 30.7734 114.808C32.551 111.908 34.8758 108.32 36.4516 107.751C38.0261 107.182 42.3204 108.547 45.6144 109.668C46.2029 109.868 46.5833 109.056 46.0529 108.732C43.0245 106.882 39.2022 104.422 38.6615 102.787C38.1511 101.244 39.703 96.5983 40.8638 93.2422C41.0684 92.6508 40.2468 92.2674 39.9242 92.8033C38.1078 95.8232 35.552 99.9797 34.0651 100.588C32.4547 101.246 28.1114 99.8943 24.7278 98.7485C24.1379 98.5486 23.7598 99.3643 24.2931 99.6867Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.603 6.78459C160.945 9.42458 162.712 12.9937 162.57 14.3772C162.396 16.0823 159.382 18.7764 156.795 20.9197C156.356 21.2825 156.805 21.9707 157.313 21.7158C160.107 20.3189 163.66 18.651 165.165 18.972C166.668 19.2932 169.353 22.4415 171.376 24.9143C171.737 25.3561 172.428 24.9077 172.172 24.3978C170.71 21.4856 168.925 17.7127 169.297 16.1757C169.648 14.7255 173.113 11.8582 175.647 9.80596C176.094 9.44436 175.639 8.74666 175.128 9.00773C172.246 10.4797 168.236 12.4786 166.782 12.2308C165.208 11.9618 162.478 8.79999 160.398 6.26437C160.035 5.8222 159.344 6.27439 159.603 6.78459Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M109.285 19.9086L109.285 19.9086C102.842 23.1185 87.3523 30.1026 68.0069 33.804L68.0069 33.804C64.069 34.5576 61.1748 37.956 61.1748 41.9896V78.4977C61.1748 95.8063 64.395 110.744 72.2446 122.656C80.1059 134.586 92.5407 143.377 110.759 148.511L110.759 148.511C112.199 148.916 113.736 148.916 115.176 148.511L115.176 148.511C133.394 143.377 145.829 134.586 153.69 122.656C161.54 110.744 164.76 95.8063 164.76 78.4977V41.9896C164.76 37.9561 161.866 34.5577 157.93 33.804L157.929 33.804C138.583 30.1026 123.093 23.1185 116.65 19.9086L116.65 19.9086C114.329 18.7529 111.606 18.7529 109.285 19.9086Z",fill:"#73F793",stroke:"#326474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{opacity:.7,fillRule:"evenodd",clipRule:"evenodd",d:"M113.002 147.88C113.649 147.877 114.296 147.787 114.922 147.611C151.018 137.439 163.825 112.902 163.825 78.4977V41.9896C163.825 38.4165 161.261 35.3937 157.753 34.7221C138.293 30.999 122.719 23.9767 116.233 20.7453C115.168 20.2149 114.007 19.959 112.85 19.9775C112.85 19.9775 113.002 147.88 113.002 147.88Z",fill:"#326474",fillOpacity:.24}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.63 55.9921C124.733 61.8564 119.841 71.555 113.712 71.7298C107.582 71.904 102.535 62.4889 102.432 56.6242C102.33 50.7596 107.215 45.8638 113.345 45.6892C119.475 45.5147 124.527 50.1275 124.63 55.9921Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.304 108.889C141.351 110.234 140.929 112.456 139.062 112.593C131.568 113.141 123.268 113.291 115.46 113.276C105.994 113.258 98.301 113.143 91.6049 112.528C89.4697 112.332 89.1896 110.211 89.1433 108.894C88.5614 92.3891 99.7665 79.0083 114.17 79.007C128.574 79.006 140.722 92.3849 141.304 108.889Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M88.8631 124.688L88.8652 124.699L88.8675 124.71L90.5777 132.936C90.5806 132.958 90.5769 132.993 90.5572 133.03C90.5441 133.054 90.5324 133.063 90.5291 133.066L86.1693 134.637C85.3296 134.94 84.788 135.671 84.6075 136.457C84.5264 136.81 84.4265 137.168 84.3129 137.525C84.1927 137.904 84.0643 138.263 83.9266 138.606C83.6308 139.344 83.672 140.219 84.1348 140.932L86.7217 144.917L86.7295 144.929L86.7377 144.94C86.7546 144.965 86.7557 144.981 86.7542 144.994C86.7526 145.008 86.7448 145.039 86.7059 145.079L80.6255 150.623L80.6167 150.631L80.6082 150.639C80.5941 150.652 80.5847 150.657 80.581 150.658C80.5769 150.66 80.5728 150.661 80.5676 150.661C80.558 150.661 80.5354 150.658 80.5069 150.637L76.9311 147.535C76.282 146.971 75.411 146.822 74.6367 147.052C73.9342 147.262 73.2144 147.416 72.4795 147.507C71.6807 147.606 70.9396 148.087 70.5673 148.865L68.5231 153.133L68.5198 153.14L68.5167 153.147C68.5095 153.162 68.5029 153.17 68.4996 153.173C68.4962 153.176 68.4932 153.178 68.4905 153.179C68.4878 153.18 68.4835 153.181 68.4771 153.182C68.471 153.182 68.4602 153.181 68.4446 153.176L60.6391 150.49C60.6144 150.481 60.5987 150.469 60.5849 150.445C60.5706 150.421 60.554 150.374 60.5576 150.306L61.3523 145.648C61.4962 144.804 61.1818 143.98 60.6147 143.42C60.0758 142.888 59.5862 142.313 59.1314 141.697C58.6565 141.054 57.8835 140.636 57.0321 140.686L52.4027 140.958C52.3613 140.954 52.3296 140.939 52.3108 140.924C52.3006 140.916 52.2939 140.908 52.2892 140.9C52.2847 140.893 52.2783 140.88 52.274 140.857L52.272 140.845L52.2697 140.834L50.5595 132.609C50.5566 132.587 50.5603 132.551 50.58 132.515C50.5931 132.491 50.6048 132.481 50.6081 132.479L54.9679 130.908C55.8072 130.605 56.3494 129.874 56.5302 129.088C56.6129 128.729 56.7139 128.367 56.8242 128.019C56.9282 127.692 57.0626 127.351 57.2142 127.011C57.5517 126.254 57.5216 125.34 57.0375 124.602L54.4334 120.631L54.4206 120.612L54.4069 120.593C54.3994 120.583 54.3977 120.577 54.3971 120.575C54.3964 120.572 54.3957 120.567 54.3967 120.559C54.3988 120.543 54.4092 120.512 54.4429 120.481C54.4431 120.481 54.4433 120.48 54.4435 120.48L60.5133 114.921L60.5212 114.913L60.529 114.906C60.5431 114.892 60.5525 114.888 60.5562 114.886C60.5603 114.885 60.5644 114.884 60.5696 114.884C60.5792 114.884 60.6018 114.886 60.6303 114.907L64.2155 118.018C64.8552 118.573 65.7154 118.73 66.4876 118.503C67.1982 118.295 67.9248 118.134 68.6616 118.039C69.4569 117.937 70.1974 117.457 70.5699 116.68L72.6075 112.426C72.633 112.378 72.6574 112.367 72.6608 112.365C72.6637 112.364 72.6655 112.364 72.6676 112.364C72.6694 112.364 72.6773 112.364 72.6926 112.369L80.4981 115.055C80.5265 115.065 80.548 115.082 80.5633 115.108C80.5781 115.133 80.589 115.169 80.5835 115.216L79.7849 119.897C79.6409 120.741 79.9554 121.564 80.5225 122.124C81.0614 122.657 81.551 123.232 82.0058 123.847C82.4807 124.49 83.2537 124.909 84.1051 124.859L88.7345 124.586C88.7759 124.591 88.8076 124.606 88.8264 124.621C88.8366 124.629 88.8432 124.637 88.848 124.645C88.8525 124.652 88.8589 124.665 88.8631 124.688ZM90.5332 133.064L90.5329 133.064L90.5332 133.064ZM50.604 132.48L50.6043 132.48L50.604 132.48Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("circle",{cx:70.5685,cy:132.774,r:7.26307,transform:"rotate(-11.7053 70.5685 132.774)",fill:"#DAF7F3",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M177.569 58.8458C177.569 58.8458 173.96 65.5006 174.039 66.0964C174.119 66.6924 179.278 65.5183 179.772 65.3757C180.266 65.2331 180.897 70.1809 181.73 71.2426C182.562 72.3045 183.593 72.2585 185.611 71.9274C187.629 71.5962 215.325 64.2513 215.325 64.2513C215.325 64.2513 218.971 63.975 218.295 60.6806C217.618 57.3864 213.929 38.503 213.729 37.8987C213.529 37.2945 213.409 34.6885 208.772 35.3087C204.134 35.9291 178.489 42.4728 178.489 42.4728C178.489 42.4728 175.275 43.4878 175.399 46.0349C175.523 48.5821 177.569 58.8458 177.569 58.8458Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M192.735 59.8696C193.455 57.2607 196.154 55.7299 198.763 56.4506L208.211 59.0602C210.82 59.7808 212.351 62.48 211.63 65.0889L208.857 75.1268C208.137 77.7357 205.438 79.2664 202.829 78.5458L193.381 75.9362C190.772 75.2155 189.241 72.5164 189.962 69.9075L192.735 59.8696Z",fill:"white",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M201.395 72.4404C201.024 73.6143 199.771 74.265 198.597 73.8941C197.423 73.5233 196.772 72.2707 197.143 71.0968C197.514 69.9229 198.766 69.2722 199.941 69.6431C201.115 70.0139 201.766 71.2663 201.395 72.4404Z",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M192.956 59.0666C193.555 56.9012 195.795 55.6306 197.96 56.2288L209.014 59.282C211.179 59.8801 212.45 62.1205 211.852 64.2859C211.254 66.4513 209.013 67.7219 206.848 67.1238L195.794 64.0705C193.629 63.4724 192.358 61.2321 192.956 59.0666Z",fill:"#EDE9E3",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{d:"M197.754 52.7398C198.763 49.0874 202.541 46.9443 206.194 47.9532C209.846 48.9621 211.989 52.7409 210.981 56.3933L209.017 63.503C209.017 63.503 208.274 64.3528 206.856 63.9613C205.439 63.5699 205.238 62.4592 205.238 62.4592L207.162 55.4913C207.595 53.9259 206.676 52.3065 205.111 51.8741C203.546 51.4417 201.926 52.3602 201.494 53.9255L199.569 60.8934C199.569 60.8934 198.826 61.7431 197.409 61.3517C195.992 60.9603 195.79 59.8495 195.79 59.8495L197.754 52.7398Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.748 100.235C199.499 102.479 197.155 105.943 194.806 105.709C192.456 105.475 190.991 101.631 191.24 99.3867C191.489 97.142 193.595 95.5121 195.944 95.7463C198.294 95.9806 199.997 97.9901 199.748 100.235Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M203.52 121.254C203.472 121.77 203.202 122.598 202.482 122.558C199.593 122.4 196.416 122.05 193.435 121.661C189.821 121.189 186.889 120.768 184.362 120.204C183.556 120.025 183.553 119.201 183.6 118.696C184.188 112.364 189.124 107.804 194.624 108.51C200.125 109.217 204.108 114.923 203.52 121.254Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.83 99.6489C184.788 101.26 183.42 103.843 181.845 103.793C180.27 103.743 179.085 101.079 179.127 99.4682C179.169 97.8574 180.48 96.5917 182.055 96.6417C183.63 96.6916 184.872 98.038 184.83 99.6489Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185.267 107.242C184.245 106.685 183.043 106.353 181.744 106.329C177.808 106.256 174.478 109.021 174.305 112.504C174.292 112.782 174.325 113.231 174.905 113.283C176.538 113.43 178.4 113.496 180.638 113.546C181.322 111.002 182.998 108.79 185.267 107.242Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M28.9826 44.2651L31.1811 39.3806C31.4317 38.8239 31.8368 38.3511 32.3482 38.0186C33.6903 37.146 32.4961 39.4744 33.371 40.82L47.1313 61.9843C48.0232 63.3561 50.6285 63.2444 49.2603 64.1339C48.7782 64.4474 48.2214 64.627 47.6466 64.6544L42.6017 64.8951C39.4191 65.0469 36.288 65.6667 33.3067 66.7259C32.9227 66.8623 32.8231 67.3539 33.1147 67.6385C34.081 68.5815 34.9976 69.5032 35.0615 69.5729L37.4244 72.1491C38.7978 73.6465 38.5876 75.9994 36.9712 77.2219C35.8198 78.0927 34.2458 78.1488 33.0315 77.3624C31.92 76.5933 25.4781 70.8878 24.1962 71.6402C21.3485 73.3116 17.6576 72.4561 15.8346 69.6521L14.0731 66.9429C12.1973 64.0577 13.0093 60.2022 15.8868 58.3313C16.2843 58.0728 16.6884 57.82 17.0932 57.5667C22.0639 54.4563 26.5733 49.618 28.9826 44.2651Z",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{d:"M25.5367 70.553L26.0597 71.3278L26.0597 71.3278L25.5367 70.553ZM42.5183 65.0836L42.5135 64.1489L42.5183 65.0836ZM47.8746 65.0562L47.8794 65.991L47.8746 65.0562ZM49.1938 63.6206L48.8487 64.4894L48.8487 64.4894L49.1938 63.6206ZM14.3182 69.0346L14.9579 70.0184L16.5253 68.9993L15.8856 68.0155L14.3182 69.0346ZM14.9579 70.0184C17.1139 73.3344 21.5456 74.2827 24.8579 72.1291L23.8388 70.5617C21.3961 72.1499 18.121 71.4536 16.5253 68.9993L14.9579 70.0184ZM24.8579 72.1291C25.2633 71.8655 25.6651 71.5942 26.0597 71.3278L25.0136 69.7783C24.6167 70.0463 24.2284 70.3084 23.8388 70.5617L24.8579 72.1291ZM26.0597 71.3278C30.786 68.1368 36.8603 66.0474 42.5231 66.0184L42.5135 64.1489C36.4363 64.18 30.0068 66.4072 25.0136 69.7783L26.0597 71.3278ZM42.5231 66.0184L47.8794 65.991L47.8698 64.1214L42.5135 64.1489L42.5231 66.0184ZM47.8794 65.991C48.1845 65.9894 48.6819 65.9854 49.176 65.9349C49.6182 65.8897 50.2583 65.7921 50.7224 65.4903L49.7033 63.9229C49.7069 63.9206 49.6933 63.9298 49.6538 63.945C49.6154 63.9599 49.5627 63.9766 49.4942 63.9934C49.3552 64.0276 49.1824 64.0549 48.9858 64.075C48.5913 64.1154 48.1753 64.1199 47.8698 64.1214L47.8794 65.991ZM50.7224 65.4903C50.9694 65.3297 51.4367 64.9499 51.3905 64.3086C51.3496 63.7413 50.9205 63.4252 50.7645 63.3182C50.5526 63.1728 50.3054 63.0603 50.1092 62.9778C49.9158 62.8965 49.6815 62.8086 49.5388 62.7519L48.8487 64.4894C49.0516 64.57 49.2086 64.6273 49.3849 64.7013C49.5584 64.7743 49.6593 64.8272 49.7068 64.8598C49.7292 64.8752 49.7038 64.8621 49.6649 64.8138C49.6239 64.763 49.5397 64.6366 49.5257 64.443C49.5108 64.2362 49.5847 64.0773 49.6467 63.9908C49.699 63.9178 49.7385 63.9001 49.7033 63.9229L50.7224 65.4903ZM49.5388 62.7519C48.8914 62.4947 48.4405 62.2828 48.2314 61.9611L46.664 62.9802C47.255 63.8892 48.3311 64.2838 48.8487 64.4894L49.5388 62.7519Z",fill:"#316474"}),s.default.createElement("ellipse",{cx:41.4608,cy:51.2452,rx:4.16271,ry:16.0562,transform:"rotate(-33.0306 41.4608 51.2452)",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1483 57.8186C39.9805 56.398 38.7929 54.7788 37.6467 53.0158C36.7429 51.6257 35.9312 50.2484 35.2241 48.9222C37.4134 47.6394 40.3897 48.5062 41.9598 50.9211C43.5056 53.2987 43.1269 56.313 41.1483 57.8186Z",fill:"#ECE8E2"}),s.default.createElement("path",{d:"M41.1483 57.8186L40.4262 58.4122L40.9979 59.1076L41.7143 58.5625L41.1483 57.8186ZM35.2241 48.9222L34.7515 48.1156L33.9768 48.5696L34.3993 49.362L35.2241 48.9222ZM41.8704 57.2249C40.7259 55.8327 39.5588 54.2418 38.4304 52.5063L36.863 53.5253C38.0271 55.3158 39.2351 56.9632 40.4262 58.4122L41.8704 57.2249ZM38.4304 52.5063C37.5408 51.138 36.743 49.784 36.049 48.4824L34.3993 49.362C35.1195 50.7128 35.945 52.1134 36.863 53.5253L38.4304 52.5063ZM35.6967 49.7287C37.3761 48.7447 39.8252 49.353 41.1761 51.4307L42.7435 50.4116C40.9541 47.6594 37.4508 46.5341 34.7515 48.1156L35.6967 49.7287ZM41.1761 51.4307C42.505 53.4747 42.1024 55.9179 40.5822 57.0747L41.7143 58.5625C44.1514 56.7081 44.5061 53.1227 42.7435 50.4116L41.1761 51.4307Z",fill:"#316474"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="community-admin-light"},616133:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeactivateBadgeDarkIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=42,g=42;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 42 42",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M22.0607 22.7593L21 21.6987L19.9393 22.7593L15.6993 26.9993C15.5051 27.1936 15.1949 27.1936 15.0007 26.9993C14.8064 26.8051 14.8064 26.4949 15.0007 26.3007L19.2407 22.0607L20.3038 20.9975L19.2382 19.9368L14.9807 15.6993C14.9804 15.6991 14.9801 15.6988 14.9798 15.6985C14.7864 15.5042 14.7867 15.1946 14.9807 15.0007C15.1749 14.8064 15.4851 14.8064 15.6793 15.0007L15.6818 15.0032L19.9418 19.2432L21.0025 20.2988L22.0607 19.2407L26.3007 15.0007C26.4949 14.8064 26.8051 14.8064 26.9993 15.0007C27.1936 15.1949 27.1936 15.5051 26.9993 15.6993L22.7593 19.9393L21.6987 21L22.7593 22.0607L26.9993 26.3007L27.0061 26.3074L27.0128 26.314C27.2114 26.5076 27.2113 26.8274 27.0193 27.0193C26.8251 27.2136 26.5149 27.2136 26.3207 27.0193L22.0607 22.7593ZM26.8 1.5H15.2C13.7416 1.5 12.3403 2.07842 11.2993 3.11934L3.09934 11.3193C2.07444 12.3442 1.5 13.7473 1.5 15.2V26.8C1.5 28.2512 2.0737 29.6586 3.12587 30.6872L11.3129 38.8743C12.3415 39.9263 13.7488 40.5 15.2 40.5H26.8C28.2512 40.5 29.6585 39.9263 30.6871 38.8743L38.8743 30.6871C39.9263 29.6585 40.5 28.2512 40.5 26.8V15.2C40.5 13.7488 39.9263 12.3415 38.8743 11.3129L30.6872 3.12587C29.6586 2.0737 28.2512 1.5 26.8 1.5Z",fill:"#F15C6D",stroke:"#111b21",strokeWidth:3}),s.default.createElement("path",{d:"M28.08 28.08C27.3 28.86 26.04 28.86 25.26 28.08L21 23.82L16.76 28.06C15.98 28.84 14.72 28.84 13.94 28.06C13.16 27.28 13.16 26.02 13.94 25.24L18.18 21L13.92 16.76C13.14 15.98 13.14 14.72 13.92 13.94C14.7 13.16 15.96 13.16 16.74 13.94L21 18.18L25.24 13.94C26.02 13.16 27.28 13.16 28.06 13.94C28.84 14.72 28.84 15.98 28.06 16.76L23.82 21L28.06 25.24C28.86 26.02 28.86 27.3 28.08 28.08Z",fill:"#111b21"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="deactivate-badge-dark"},370639:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeactivateBadgeIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=42,g=42;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 42 42",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M22.0607 22.7593L21 21.6987L19.9393 22.7593L15.6993 26.9993C15.5051 27.1936 15.1949 27.1936 15.0007 26.9993C14.8064 26.8051 14.8064 26.4949 15.0007 26.3007L19.2407 22.0607L20.3038 20.9975L19.2382 19.9368L14.9807 15.6993C14.9804 15.6991 14.9801 15.6988 14.9798 15.6985C14.7864 15.5042 14.7867 15.1946 14.9807 15.0007C15.1749 14.8064 15.4851 14.8064 15.6793 15.0007L15.6818 15.0032L19.9418 19.2432L21.0025 20.2988L22.0607 19.2407L26.3007 15.0007C26.4949 14.8064 26.8051 14.8064 26.9993 15.0007C27.1936 15.1949 27.1936 15.5051 26.9993 15.6993L22.7593 19.9393L21.6987 21L22.7593 22.0607L26.9993 26.3007L27.0061 26.3074L27.0128 26.314C27.2114 26.5076 27.2113 26.8274 27.0193 27.0193C26.8251 27.2136 26.5149 27.2136 26.3207 27.0193L22.0607 22.7593ZM26.8 1.5H15.2C13.7416 1.5 12.3403 2.07842 11.2993 3.11934L3.09934 11.3193C2.07444 12.3442 1.5 13.7473 1.5 15.2V26.8C1.5 28.2512 2.0737 29.6586 3.12587 30.6872L11.3129 38.8743C12.3415 39.9263 13.7488 40.5 15.2 40.5H26.8C28.2512 40.5 29.6585 39.9263 30.6871 38.8743L38.8743 30.6871C39.9263 29.6585 40.5 28.2512 40.5 26.8V15.2C40.5 13.7488 39.9263 12.3415 38.8743 11.3129L30.6872 3.12587C29.6586 2.0737 28.2512 1.5 26.8 1.5Z",fill:"#ea0038",stroke:"white",strokeWidth:3}),s.default.createElement("path",{d:"M28.08 28.08C27.3 28.86 26.04 28.86 25.26 28.08L21 23.82L16.76 28.06C15.98 28.84 14.72 28.84 13.94 28.06C13.16 27.28 13.16 26.02 13.94 25.24L18.18 21L13.92 16.76C13.14 15.98 13.14 14.72 13.92 13.94C14.7 13.16 15.96 13.16 16.74 13.94L21 18.18L25.24 13.94C26.02 13.16 27.28 13.16 28.06 13.94C28.84 14.72 28.84 15.98 28.06 16.76L23.82 21L28.06 25.24C28.86 26.02 28.86 27.3 28.08 28.08Z",fill:"white"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="deactivate-badge"},910399:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.HighlyForwardedIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=16,g=20;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 20 16",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M13.6059557,5.26308901 C13.6220086,5.26163419 13.6302968,5.26102868 13.6302968,5.26102868 L13.6666317,3.82396292 C13.6881611,2.97246613 14.1900805,2.77489995 14.7806307,3.3754967 L18.4132486,7.06991365 C18.7126057,7.37436354 18.7160739,7.87287893 18.4230266,8.18124118 L14.7679628,12.0273223 C14.1812438,12.6447038 13.7056141,12.4510723 13.7056141,11.6045324 L13.7056141,9.93754567 L14.8701549,8.71214475 C15.4496567,8.10235763 15.441656,7.13001879 14.8512575,6.52957627 L13.6059557,5.26308901 L13.6059557,5.26308901 Z",fillOpacity:.25,fill:"currentColor"}),s.default.createElement("path",{d:"M9.55511091,3.82396292 C9.57664026,2.97246613 10.0785597,2.77489995 10.6691099,3.3754967 L14.3017278,7.06991365 C14.6010849,7.37436354 14.6045531,7.87287893 14.3115058,8.18124118 L10.656442,12.0273223 C10.069723,12.6447038 9.59409325,12.4510723 9.59409325,11.6045324 L9.59409325,9.87219486 C9.59409325,9.87219486 5.03474338,9.49878283 2.43099409,12.3846575 C1.83824676,12.8974744 1.66218866,12.9568393 1.47026458,12.8572726 C1.32851376,12.7423664 1.28325362,12.3846575 1.73218749,11.260453 C3.56459895,5.69602505 9.51877595,5.26102868 9.51877595,5.26102868 L9.55511091,3.82396292 Z",fillOpacity:.4,fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="highly-forwarded"},849410:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.IcHdActiveIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=32,g=32;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 32 32",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.79199 21.0949C3.792 23.2757 5.55996 25.0437 7.74085 25.0437H20.0548C20.3244 25.0402 20.5419 24.8206 20.5419 24.5501V22.0957C20.5419 20.4676 21.8617 19.1478 23.4899 19.1478H25.5556C26.0579 19.1478 26.4652 18.7405 26.4652 18.2382C26.4652 18.2043 26.4661 18.1707 26.4678 18.1375V10.8504C26.4678 8.66953 24.6998 6.90308 22.5189 6.90308L7.74088 6.90308C5.55997 6.90309 3.792 8.67106 3.792 10.852L3.79199 21.0949ZM12.9351 20.0024H14.4953V11.9413H12.9351V15.2022H10.6245V11.9413H9.05564V20.0024H10.6245V16.5531H12.9351V20.0024ZM16.5301 11.9413V20.0024H18.5401C19.4855 20.0024 20.2266 19.7016 20.7633 19.0999C21.3035 18.4946 21.5736 17.6623 21.5736 16.603V15.2964C21.563 14.2555 21.2875 13.4361 20.7473 12.8382C20.2106 12.2402 19.489 11.9413 18.5827 11.9413H16.5301ZM18.0975 18.6515V13.2977H18.668C19.1549 13.3125 19.4997 13.4693 19.7023 13.7683C19.9049 14.0636 20.0062 14.5877 20.0062 15.3407V16.7414C19.9955 17.4427 19.8836 17.9373 19.6703 18.2252C19.4571 18.5094 19.0892 18.6515 18.5667 18.6515H18.0975ZM30.4521 19.9975L25.9503 24.3925L24.5109 22.9873C24.3678 22.8474 24.1736 22.7687 23.9711 22.7687C23.7686 22.7687 23.5744 22.8474 23.4314 22.9873C23.1328 23.2788 23.1328 23.7497 23.4314 24.0412L25.4143 25.9772C25.7129 26.2687 26.1953 26.2687 26.4939 25.9772L31.5393 21.0514C31.8379 20.7599 31.8379 20.289 31.5393 19.9975C31.2407 19.706 30.7507 19.706 30.4521 19.9975Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="ic-hd-active"},863700:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.IcHdSettingsIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=32,g=32;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 32 32",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0606 8.44477H7.19032C6.16357 8.44477 5.33123 9.27712 5.33123 10.3039V21.6399C5.33123 22.6666 6.16357 23.499 7.19032 23.499H18.9996C19.0787 24.036 19.221 24.5525 19.4186 25.0407H7.19032C5.31213 25.0407 3.78955 23.5181 3.78955 21.6399V10.3039C3.78955 8.42567 5.31213 6.90308 7.19032 6.90308H23.0606C24.9388 6.90308 26.4613 8.42567 26.4613 10.3039V15.7792C26.2099 15.7508 25.9544 15.7363 25.6954 15.7363C25.4331 15.7363 25.1742 15.7512 24.9197 15.7803V10.3039C24.9197 9.27712 24.0873 8.44477 23.0606 8.44477ZM14.4944 20.0024H12.9341V16.5532H10.6235V20.0024H9.05472V11.9413H10.6235V15.2023H12.9341V11.9413H14.4944V20.0024ZM16.5291 20.0024V11.9413H18.5817C19.4881 11.9413 20.2096 12.2402 20.7463 12.8382C21.2865 13.4361 21.562 14.2555 21.5727 15.2964V16.603C21.5727 17.6623 21.3025 18.4947 20.7623 19.1C20.2256 19.7016 19.4845 20.0024 18.5391 20.0024H16.5291ZM18.0966 13.2977V18.6515H18.5657C19.0882 18.6515 19.4561 18.5094 19.6693 18.2252C19.8826 17.9373 19.9946 17.4427 20.0052 16.7414V15.3407C20.0052 14.5877 19.9039 14.0636 19.7013 13.7683C19.4987 13.4694 19.154 13.3125 18.667 13.2977H18.0966ZM24.8447 26.6327L24.581 25.3538C24.4052 25.2828 24.2406 25.2083 24.087 25.1304C23.9329 25.052 23.7753 24.9559 23.6141 24.8422L22.3396 25.2259L21.4606 23.7765L22.4715 22.9238C22.4422 22.7249 22.4275 22.5402 22.4275 22.3696C22.4275 22.1991 22.4422 22.0144 22.4715 21.8154L21.4606 20.9628L22.3396 19.5133L23.6141 19.897C23.7753 19.7833 23.9329 19.6873 24.087 19.6088C24.2406 19.531 24.4052 19.4565 24.581 19.3855L24.8447 18.1065H26.6027L26.8664 19.3855C27.0422 19.4565 27.2071 19.5347 27.3612 19.6199C27.5148 19.7052 27.6721 19.8118 27.8333 19.9397L29.1078 19.5133L29.9868 21.0054L28.9759 21.8581C29.0052 22.0286 29.0199 22.2062 29.0199 22.3909C29.0199 22.5757 29.0052 22.7533 28.9759 22.9238L29.9868 23.7765L29.1078 25.2259L27.8333 24.8422C27.6721 24.9559 27.5148 25.052 27.3612 25.1304C27.2071 25.2083 27.0422 25.2828 26.8664 25.3538L26.6027 26.6327H24.8447ZM25.7237 24.0749C26.2071 24.0749 26.6211 23.908 26.9657 23.5744C27.3097 23.2402 27.4817 22.8386 27.4817 22.3696C27.4817 21.9007 27.3097 21.4991 26.9657 21.1649C26.6211 20.8312 26.2071 20.6644 25.7237 20.6644C25.2403 20.6644 24.8265 20.8312 24.4826 21.1649C24.138 21.4991 23.9657 21.9007 23.9657 22.3696C23.9657 22.8386 24.138 23.2402 24.4826 23.5744C24.8265 23.908 25.2403 24.0749 25.7237 24.0749Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="ic-hd-settings"},309909:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.LinkCrossedIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M17 7H13V8.9H17C18.71 8.9 20.1 10.29 20.1 12C20.1 13.43 19.12 14.63 17.79 14.98L19.25 16.44C20.88 15.61 22 13.95 22 12C22 9.24 19.76 7 17 7ZM16 11H13.81L15.81 13H16V11ZM2 4.27L5.11 7.38C3.29 8.12 2 9.91 2 12C2 14.76 4.24 17 7 17H11V15.1H7C5.29 15.1 3.9 13.71 3.9 12C3.9 10.41 5.11 9.1 6.66 8.93L8.73 11H8V13H10.73L13 15.27V17H14.73L18.74 21L20 19.74L3.27 3L2 4.27Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="link-crossed"},505945:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorAddIcon=function(){throw(0,r.default)("This SVG doesn't exist on web!")};var r=n(a(556869))},576190:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorBlurPixelateIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("rect",{x:4.5,y:4.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:4.5,y:10.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:4.5,y:16.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:7.5,y:7.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:7.5,y:13.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:13.5,y:7.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:13.5,y:13.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:10.5,y:4.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:10.5,y:10.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:10.5,y:16.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:16.5,y:4.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:16.5,y:10.5,width:3,height:3,fill:"currentColor"}),s.default.createElement("rect",{x:16.5,y:16.5,width:3,height:3,fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-blur-pixelate"},877531:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorBlurSmoothIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M6 13C5.45 13 5 13.45 5 14C5 14.55 5.45 15 6 15C6.55 15 7 14.55 7 14C7 13.45 6.55 13 6 13ZM6 17C5.45 17 5 17.45 5 18C5 18.55 5.45 19 6 19C6.55 19 7 18.55 7 18C7 17.45 6.55 17 6 17ZM6 9C5.45 9 5 9.45 5 10C5 10.55 5.45 11 6 11C6.55 11 7 10.55 7 10C7 9.45 6.55 9 6 9ZM3 9.5C2.72 9.5 2.5 9.72 2.5 10C2.5 10.28 2.72 10.5 3 10.5C3.28 10.5 3.5 10.28 3.5 10C3.5 9.72 3.28 9.5 3 9.5ZM6 5C5.45 5 5 5.45 5 6C5 6.55 5.45 7 6 7C6.55 7 7 6.55 7 6C7 5.45 6.55 5 6 5ZM21 10.5C21.28 10.5 21.5 10.28 21.5 10C21.5 9.72 21.28 9.5 21 9.5C20.72 9.5 20.5 9.72 20.5 10C20.5 10.28 20.72 10.5 21 10.5ZM14 7C14.55 7 15 6.55 15 6C15 5.45 14.55 5 14 5C13.45 5 13 5.45 13 6C13 6.55 13.45 7 14 7ZM14 3.5C14.28 3.5 14.5 3.28 14.5 3C14.5 2.72 14.28 2.5 14 2.5C13.72 2.5 13.5 2.72 13.5 3C13.5 3.28 13.72 3.5 14 3.5ZM3 13.5C2.72 13.5 2.5 13.72 2.5 14C2.5 14.28 2.72 14.5 3 14.5C3.28 14.5 3.5 14.28 3.5 14C3.5 13.72 3.28 13.5 3 13.5ZM10 20.5C9.72 20.5 9.5 20.72 9.5 21C9.5 21.28 9.72 21.5 10 21.5C10.28 21.5 10.5 21.28 10.5 21C10.5 20.72 10.28 20.5 10 20.5ZM10 3.5C10.28 3.5 10.5 3.28 10.5 3C10.5 2.72 10.28 2.5 10 2.5C9.72 2.5 9.5 2.72 9.5 3C9.5 3.28 9.72 3.5 10 3.5ZM10 7C10.55 7 11 6.55 11 6C11 5.45 10.55 5 10 5C9.45 5 9 5.45 9 6C9 6.55 9.45 7 10 7ZM10 12.5C9.17 12.5 8.5 13.17 8.5 14C8.5 14.83 9.17 15.5 10 15.5C10.83 15.5 11.5 14.83 11.5 14C11.5 13.17 10.83 12.5 10 12.5ZM18 13C17.45 13 17 13.45 17 14C17 14.55 17.45 15 18 15C18.55 15 19 14.55 19 14C19 13.45 18.55 13 18 13ZM18 17C17.45 17 17 17.45 17 18C17 18.55 17.45 19 18 19C18.55 19 19 18.55 19 18C19 17.45 18.55 17 18 17ZM18 9C17.45 9 17 9.45 17 10C17 10.55 17.45 11 18 11C18.55 11 19 10.55 19 10C19 9.45 18.55 9 18 9ZM18 5C17.45 5 17 5.45 17 6C17 6.55 17.45 7 18 7C18.55 7 19 6.55 19 6C19 5.45 18.55 5 18 5ZM21 13.5C20.72 13.5 20.5 13.72 20.5 14C20.5 14.28 20.72 14.5 21 14.5C21.28 14.5 21.5 14.28 21.5 14C21.5 13.72 21.28 13.5 21 13.5ZM14 17C13.45 17 13 17.45 13 18C13 18.55 13.45 19 14 19C14.55 19 15 18.55 15 18C15 17.45 14.55 17 14 17ZM14 20.5C13.72 20.5 13.5 20.72 13.5 21C13.5 21.28 13.72 21.5 14 21.5C14.28 21.5 14.5 21.28 14.5 21C14.5 20.72 14.28 20.5 14 20.5ZM10 8.5C9.17 8.5 8.5 9.17 8.5 10C8.5 10.83 9.17 11.5 10 11.5C10.83 11.5 11.5 10.83 11.5 10C11.5 9.17 10.83 8.5 10 8.5ZM10 17C9.45 17 9 17.45 9 18C9 18.55 9.45 19 10 19C10.55 19 11 18.55 11 18C11 17.45 10.55 17 10 17ZM14 12.5C13.17 12.5 12.5 13.17 12.5 14C12.5 14.83 13.17 15.5 14 15.5C14.83 15.5 15.5 14.83 15.5 14C15.5 13.17 14.83 12.5 14 12.5ZM14 8.5C13.17 8.5 12.5 9.17 12.5 10C12.5 10.83 13.17 11.5 14 11.5C14.83 11.5 15.5 10.83 15.5 10C15.5 9.17 14.83 8.5 14 8.5Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-blur-smooth"},675650:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorCropRotateIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3816 3.90531C14.6637 3.90531 14.8923 3.67656 14.8923 3.39438L14.8918 2.84589C16.1791 2.85038 17.6246 3.213 18.7365 4.14324C19.3525 4.65862 20.1579 5.50436 20.5746 6.56201C21.1688 8.07002 21.2528 9.90516 21.2528 10.9187C21.2528 11.0355 21.3256 11.163 21.4225 11.2599C21.5194 11.3568 21.6468 11.4297 21.7636 11.4297H22.1521C22.2924 11.4297 22.4435 11.373 22.5595 11.282C22.6755 11.1911 22.76 11.0631 22.76 10.9187C22.76 9.62054 22.556 7.44191 21.7866 5.69255C21.2979 4.58147 20.4227 3.71554 19.7402 3.13325C18.3666 1.96127 16.5472 1.44043 14.8918 1.4354L14.8923 0.610953C14.8923 0.491427 14.8504 0.375683 14.774 0.283861C14.5934 0.0670835 14.2713 0.0377945 14.0546 0.218443L12.385 1.61015C12.3612 1.62994 12.3393 1.65183 12.3196 1.67557C12.139 1.89235 12.1682 2.21453 12.385 2.39517L14.0546 3.78689C14.1463 3.8634 14.2621 3.90531 14.3816 3.90531Z",fill:"currentColor"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8064 15.0538V9.00506L17.7987 9.00506C17.7852 7.6881 16.7109 6.62478 15.3878 6.62478L7.13536 6.62477L7.13536 3.43437C7.13536 2.99096 6.77596 2.63803 6.33319 2.63803H5.98825C5.54547 2.63803 5.18607 2.99096 5.18607 3.43437V6.62477H2.04586C1.60299 6.62477 1.23999 6.98386 1.23999 7.42717V7.76721C1.23999 8.21052 1.60299 8.5696 2.04586 8.5696L15.3878 8.56961C15.6429 8.56961 15.8495 8.77602 15.8495 9.03035L15.8622 11.4123V15.0538C15.8622 15.4969 16.2213 15.8562 16.6643 15.8562H17.0043C17.4473 15.8562 17.8064 15.4969 17.8064 15.0538Z",fill:"currentColor"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.18797 10.779V13.3284H5.18607L5.18609 16.8025C5.18609 18.1311 6.26561 19.208 7.59713 19.208H15.8495V22.2939C15.8495 22.7369 16.2085 23.1 16.6517 23.1H16.9967C17.4398 23.1 17.7988 22.7369 17.7988 22.2939V19.208H20.8904C21.3333 19.208 21.6963 18.8489 21.6963 18.4056V18.0655C21.6963 17.6222 21.3333 17.2631 20.8904 17.2631H7.59713C7.34204 17.2631 7.13537 17.0569 7.13537 16.8025L7.13536 13.3284H7.13226V10.779C7.13226 10.3358 6.77311 9.97659 6.33009 9.97659H5.99014C5.54711 9.97659 5.18797 10.3358 5.18797 10.779Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-crop-rotate"},419699:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRedoIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1711 6.65302L15.1706 8.51221C15.1706 9.11927 15.6414 9.63151 16.2464 9.63151C16.4274 9.63151 16.605 9.58399 16.763 9.49405L21.8193 6.61457C22.3483 6.31335 22.5358 5.62853 22.256 5.08554C22.1569 4.89308 22.0057 4.73331 21.8193 4.62721L16.763 1.74774C16.2331 1.44598 15.5777 1.65826 15.2983 2.20064C15.2143 2.36365 15.1706 2.54543 15.1706 2.72959L15.1711 4.63483H10.1842C5.56509 4.63483 1.61 8.23329 1.61 13.3828C1.61 18.506 5.02928 22.3855 9.67952 22.3855H19.1685C19.66 22.3855 20.0388 21.9699 20.0388 21.4822V21.2336C20.0388 20.7313 19.6457 20.3614 19.1685 20.3614H9.67952C6.36475 20.3614 3.53737 17.1539 3.53737 13.3828C3.53737 9.62489 6.35893 6.65302 9.67952 6.65302H15.1711Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-redo"},422310:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRotateLeftIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.3542 8.1443C6.3542 7.7438 6.03051 7.4185 5.63045 7.4185L5.01611 7.41915C5.03258 5.57318 5.47035 4.24139 6.34295 3.36586C7.23254 2.4733 8.59469 2.03425 10.4907 2.03425H10.6135C10.9457 2.03425 11.2144 1.76409 11.2144 1.43161V0.815805C11.2144 0.415302 10.8908 0.090004 10.4907 0.090004C8.0866 0.090004 6.22855 0.730549 4.97198 1.99134C3.73442 3.23304 3.09655 5.05999 3.07758 7.41919L2.11375 7.4185C1.94433 7.4185 1.78034 7.4781 1.65028 7.58684C1.34333 7.84348 1.30195 8.30096 1.55763 8.60881L3.31599 10.7259C3.344 10.7596 3.37501 10.7907 3.40863 10.8189C3.71579 11.0757 4.17235 11.034 4.42821 10.7259L6.18656 8.60881C6.29491 8.47836 6.3542 8.31399 6.3542 8.1443Z",fill:"currentColor"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.35864 8.89517V17.2464C9.35864 18.6072 10.4633 19.71 11.8256 19.71H20.143C21.5053 19.71 22.61 18.6072 22.61 17.2464V8.89517C22.61 7.53441 21.5053 6.43158 20.143 6.43158H11.8256C10.4633 6.43158 9.35864 7.53442 9.35864 8.89517ZM11.8256 17.764C11.5391 17.764 11.3071 17.5321 11.3071 17.2464V8.89517C11.3071 8.60945 11.5391 8.37755 11.8256 8.37755H20.143C20.4295 8.37755 20.6615 8.60945 20.6615 8.89517V17.2464C20.6615 17.5321 20.4295 17.764 20.143 17.764H11.8256Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-rotate-left"},733509:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRotateRightIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6458 8.1443C17.6458 7.7438 17.9695 7.4185 18.3695 7.4185L18.9839 7.41915C18.9674 5.57318 18.5296 4.24139 17.657 3.36586C16.7674 2.4733 15.4053 2.03425 13.5093 2.03425H13.3865C13.0543 2.03425 12.7855 1.76409 12.7855 1.43161V0.815805C12.7855 0.415302 13.1092 0.090004 13.5093 0.090004C15.9134 0.090004 17.7714 0.730551 19.028 1.99134C20.2655 3.23304 20.9034 5.05999 20.9224 7.41919L21.8862 7.4185C22.0556 7.4185 22.2196 7.4781 22.3497 7.58684C22.6566 7.84348 22.698 8.30096 22.4423 8.60881L20.684 10.7259C20.656 10.7596 20.625 10.7907 20.5913 10.8189C20.2842 11.0757 19.8276 11.034 19.5718 10.7259L17.8134 8.60881C17.7051 8.47836 17.6458 8.31399 17.6458 8.1443Z",fill:"currentColor"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6413 8.89517L14.6413 17.2464C14.6413 18.6072 13.5367 19.71 12.1743 19.71H3.85698C2.49465 19.71 1.38998 18.6072 1.38998 17.2464V8.89517C1.38998 7.53441 2.49465 6.43158 3.85698 6.43158H12.1743C13.5367 6.43158 14.6413 7.53442 14.6413 8.89517ZM12.1743 17.764C12.4609 17.764 12.6929 17.5321 12.6929 17.2464V8.89517C12.6929 8.60945 12.4609 8.37755 12.1743 8.37755H3.85698C3.57045 8.37755 3.33845 8.60945 3.33845 8.89517V17.2464C3.33845 17.5321 3.57045 17.764 3.85698 17.764H12.1743Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-rotate-right"},145192:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorStickerIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M22.492 10.0663C22.4899 9.87314 22.4875 9.67478 22.4823 9.4911C22.4613 8.68504 22.42 8.07629 22.3069 7.456C22.1771 6.74019 21.882 5.9027 21.5721 5.30025C21.2569 4.68415 20.8413 4.12354 20.3429 3.63024C19.8476 3.138 19.2816 2.72605 18.6554 2.41119C18.0523 2.10576 17.2104 1.81134 16.4869 1.68329C15.8691 1.57203 15.2575 1.52999 14.4335 1.50795C14.1005 1.49955 10.6565 1.49535 9.58425 1.50795C8.74865 1.52894 8.13609 1.57203 7.51619 1.68329C6.79473 1.81238 5.95342 2.1053 5.34714 2.41177C4.72306 2.72559 4.15656 3.13806 3.65918 3.63136C3.16389 4.1215 2.74885 4.68159 2.43053 5.30084C2.12268 5.90119 1.82571 6.7381 1.69482 7.4539C1.58277 8.07419 1.54148 8.69868 1.51949 9.4911C1.51111 9.78183 1.5 12.5159 1.5 12.5159C1.5 13.0617 1.5111 14.2446 1.51948 14.5364C1.54042 15.3288 1.58383 15.9522 1.69482 16.5704C1.82676 17.2915 2.12344 18.1266 2.43129 18.7259C2.74857 19.3451 3.15777 19.9121 3.65515 20.4043C4.15044 20.8966 4.72435 21.3016 5.34948 21.6165C5.95471 21.9219 6.79473 22.215 7.51724 22.3441C7.60624 22.3599 7.6963 22.3705 7.78844 22.3831C8.29001 22.4544 8.66069 22.4779 9.49839 22.5C9.53504 22.501 11.7162 22.4726 12.1979 22.461C13.9434 22.419 15.71 21.8418 16.9938 20.659C18.1749 19.5695 19.2233 18.5885 20.06 17.7856C21.3605 16.5366 22.3215 14.4713 22.4336 12.6639L22.5018 11.5598C22.5028 11.2491 22.5018 11.0361 22.5018 10.8587C22.5028 10.8345 22.4931 10.0841 22.492 10.0663ZM18.8541 16.2428C18.0269 17.0373 16.9702 18.0273 15.7953 19.1104C15.1796 19.6782 14.4806 20.0586 13.6931 20.3052C13.7465 20.1552 13.8146 20.0518 13.845 19.887C13.889 19.6414 13.9078 19.4032 13.9151 19.1104C13.9183 19.0002 13.9246 18.2822 13.9246 18.2822C13.9382 17.7753 13.9685 17.3744 14.0366 17.0018C14.1089 16.604 14.224 16.2576 14.3884 15.9354C14.556 15.609 14.7748 15.3109 15.0387 15.0496C15.3047 14.7851 15.6062 14.5689 15.9382 14.402C16.267 14.2362 16.6188 14.1207 17.024 14.0483C17.3999 13.9811 17.7916 13.9507 18.3361 13.9371C18.3361 13.9371 18.7371 13.9381 19.0701 13.9339C19.3853 13.9255 19.6177 13.9077 19.8607 13.8646C20.0554 13.8289 20.1895 13.7544 20.3644 13.6873C20.0995 14.6686 19.5944 15.5312 18.8541 16.2428ZM20.5842 11.0445C20.5549 11.2019 20.5102 11.317 20.46 11.4146C20.3972 11.5364 20.3335 11.6337 20.2497 11.7166C20.1575 11.8079 20.0879 11.8537 19.9738 11.9114C19.8596 11.9691 19.735 12.0021 19.5853 12.0283C19.4376 12.0546 19.2732 12.0707 19.0408 12.077C18.7172 12.0812 18.3214 12.077 18.3214 12.077C17.6795 12.0938 17.2188 12.1294 16.7486 12.2134C16.1968 12.3121 15.6994 12.4751 15.2335 12.7102C14.7549 12.9505 14.1203 13.3553 13.7371 13.7353C13.357 14.111 13.0302 14.5688 12.7863 15.0442C12.5486 15.5081 12.3049 16.1716 12.2054 16.7194C12.1206 17.1886 12.0848 17.6588 12.0691 18.2529C12.0691 18.2529 12.0614 18.9708 12.0593 19.0684C12.053 19.2867 12.0368 19.4567 12.0106 19.6047C11.9844 19.7474 11.9503 19.8681 11.8937 19.9783C11.8351 20.0917 11.7792 20.1778 11.6892 20.267C11.597 20.3583 11.5111 20.41 11.3969 20.4677C11.3215 20.5055 11.2285 20.5362 11.017 20.5729C10.9888 20.5781 10.747 20.5974 10.5397 20.6016C10.5177 20.6016 9.57587 20.6122 9.53922 20.6111C8.76226 20.5912 8.21671 20.5613 7.79263 20.4773C7.21567 20.3744 6.69412 20.2355 6.2271 19.9994C5.74857 19.759 5.31574 19.4479 4.93668 19.0722C4.55658 18.6964 4.29917 18.2843 4.05728 17.8131C3.82168 17.3555 3.65538 16.859 3.55067 16.2881C3.45643 15.7685 3.41763 15.2123 3.39773 14.4933C3.3904 14.2141 3.39878 13.9234 3.39773 13.6043C3.39459 13.2979 3.3904 9.81122 3.39773 9.53308C3.41867 8.81413 3.45643 8.25891 3.55067 7.73623C3.65329 7.16947 3.82168 6.67407 4.05728 6.21436C4.29917 5.74311 4.57483 5.35737 4.95389 4.98268C5.334 4.60483 5.7675 4.28628 6.24499 4.04593C6.71305 3.80977 7.21567 3.65068 7.79158 3.54887C8.31828 3.45441 8.86174 3.40737 9.61357 3.38638C10.6691 3.37378 14.0743 3.37798 14.3895 3.38638C15.1403 3.40632 15.6837 3.45441 16.2083 3.54887C16.7863 3.65173 17.289 3.81082 17.7539 4.04593C18.2335 4.28732 18.667 4.59737 19.046 4.97312C19.4272 5.34991 19.704 5.74206 19.9438 6.21121C20.1826 6.67407 20.3489 7.16947 20.4504 7.73623C20.5457 8.25996 20.5835 8.79944 20.6034 9.53308C20.6117 9.81752 20.6225 10.4428 20.6225 10.5866C20.6172 10.7703 20.6073 10.9185 20.5842 11.0445Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-sticker"},349456:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorTextIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M20.9636 2.1C21.6465 2.1 22.2 2.58298 22.2 3.26643C22.2 3.94989 21.6465 4.42307 20.9636 4.42307H17.2545H13.1573V20.6625C13.1573 21.3459 12.6828 21.9 12 21.9C11.3172 21.9 10.8427 21.3459 10.8427 20.6625V4.42307H6.74544H3.03635C2.35353 4.42307 1.79999 3.94989 1.79999 3.26643C1.79999 2.58298 2.35353 2.1 3.03635 2.1H20.9636Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-text"},333569:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorUndoIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.74895 9.63151C8.3539 9.63151 8.82472 9.1193 8.82472 8.51224L8.82426 6.65302H14.3158C17.6364 6.65302 20.458 9.62489 20.458 13.3828C20.458 17.1539 17.6306 20.3614 14.3158 20.3614H4.82686C4.34965 20.3614 3.95653 20.7313 3.95653 21.2336V21.4822C3.95653 21.9699 4.33532 22.3855 4.82686 22.3855H14.3158C18.966 22.3855 22.3853 18.506 22.3853 13.3828C22.3853 8.23329 18.4302 4.63483 13.8111 4.63483H8.82426L8.82472 2.72955C8.82472 2.5454 8.78106 2.36365 8.69707 2.20064C8.41763 1.65826 7.76223 1.44598 7.23234 1.74774L2.17598 4.62721C1.98966 4.73331 1.83846 4.89308 1.7393 5.08554C1.45954 5.62853 1.64703 6.31335 2.17598 6.61457L7.23234 9.49405C7.39028 9.58399 7.56789 9.63151 7.74895 9.63151Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-editor-undo"},249486:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaMultipleIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=20,g=20;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 20 20",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 14V2C20 0.9 19.1 0 18 0H6C4.9 0 4 0.9 4 2V14C4 15.1 4.9 16 6 16H18C19.1 16 20 15.1 20 14ZM9.4 10.53L11.03 12.71L13.61 9.49C13.81 9.24 14.19 9.24 14.39 9.49L17.35 13.19C17.61 13.52 17.38 14 16.96 14H7C6.59 14 6.35 13.53 6.6 13.2L8.6 10.53C8.8 10.27 9.2 10.27 9.4 10.53ZM0 18V5C0 4.45 0.45 4 1 4C1.55 4 2 4.45 2 5V17C2 17.55 2.45 18 3 18H15C15.55 18 16 18.45 16 19C16 19.55 15.55 20 15 20H2C0.9 20 0 19.1 0 18Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="media-multiple"},173144:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MinusIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=28,g=28;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 28 28"},s.default.createElement("title",null,d),s.default.createElement("path",{fill:"currentColor",d:"M8.381,14.803v-1.605h11.237v1.605C19.618,14.803,8.381,14.803,8.381,14.803z"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="minus"},129673:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiDeviceIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=16,g=22;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 22 16",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a)},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M3.66667 2.49984H20.1667V0.666504H3.66667C2.65833 0.666504 1.83333 1.4915 1.83333 2.49984V12.5832H0V15.3332H12.8333V12.5832H3.66667V2.49984ZM21.0833 4.33317H15.5833C15.0792 4.33317 14.6667 4.74567 14.6667 5.24984V14.4165C14.6667 14.9207 15.0792 15.3332 15.5833 15.3332H21.0833C21.5875 15.3332 22 14.9207 22 14.4165V5.24984C22 4.74567 21.5875 4.33317 21.0833 4.33317ZM20.1667 12.5832H16.5V6.1665H20.1667V12.5832Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="multi-device"},918857:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineSmoothIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M12 6.8C13.3255 6.8 14.4 5.72548 14.4 4.4C14.4 3.07452 13.3255 2 12 2C10.6745 2 9.6 3.07452 9.6 4.4C9.6 5.72548 10.6745 6.8 12 6.8Z",fill:"currentColor"}),s.default.createElement("path",{d:"M2.4 18C3.72548 18 4.8 16.9255 4.8 15.6C4.8 14.2745 3.72548 13.2 2.4 13.2C1.07452 13.2 0 14.2745 0 15.6C0 16.9255 1.07452 18 2.4 18Z",fill:"currentColor"}),s.default.createElement("path",{d:"M24 15.6C24 16.9255 22.9255 18 21.6 18C20.2745 18 19.2 16.9255 19.2 15.6C19.2 14.2745 20.2745 13.2 21.6 13.2C22.9255 13.2 24 14.2745 24 15.6Z",fill:"currentColor"}),s.default.createElement("path",{d:"M8.45173 6.81238C8.84982 6.6207 9.01714 6.1426 8.82545 5.74452C8.63377 5.34644 8.15567 5.17912 7.75759 5.3708C6.96932 5.75036 6.23447 6.23171 5.56699 6.79818C5.23012 7.08406 5.18879 7.58891 5.47468 7.92578C5.76057 8.26264 6.26541 8.30397 6.60228 8.01808C7.16902 7.53711 7.78973 7.13114 8.45173 6.81238Z",fill:"currentColor"}),s.default.createElement("path",{d:"M16.2423 5.3708C15.8442 5.17912 15.3661 5.34644 15.1744 5.74452C14.9827 6.1426 15.15 6.6207 15.5481 6.81238C16.2101 7.13114 16.8308 7.53711 17.3976 8.01808C17.7344 8.30397 18.2393 8.26264 18.5252 7.92578C18.8111 7.58891 18.7697 7.08407 18.4329 6.79818C17.7654 6.23171 17.0305 5.75036 16.2423 5.3708Z",fill:"currentColor"}),s.default.createElement("path",{d:"M4.88232 9.95429C5.12771 9.58687 5.02879 9.09009 4.66137 8.8447C4.29395 8.59931 3.79717 8.69823 3.55178 9.06565C3.07649 9.77728 2.67721 10.5509 2.3661 11.3726C2.20967 11.7858 2.41782 12.2476 2.83102 12.404C3.24423 12.5605 3.70602 12.3523 3.86245 11.9391C4.13081 11.2303 4.47456 10.5648 4.88232 9.95429Z",fill:"currentColor"}),s.default.createElement("path",{d:"M20.4481 9.06565C20.2027 8.69823 19.7059 8.59931 19.3385 8.8447C18.9711 9.0901 18.8721 9.58687 19.1175 9.95429C19.5253 10.5648 19.869 11.2303 20.1374 11.9391C20.2938 12.3523 20.7556 12.5605 21.1688 12.404C21.582 12.2476 21.7902 11.7858 21.6337 11.3726C21.3226 10.5509 20.9234 9.77728 20.4481 9.06565Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="outline-smooth"},810904:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineStraightIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M14.4 4.4C14.4 5.72548 13.3255 6.8 12 6.8C10.6745 6.8 9.6 5.72548 9.6 4.4C9.6 3.07452 10.6745 2 12 2C13.3255 2 14.4 3.07452 14.4 4.4Z",fill:"currentColor"}),s.default.createElement("path",{d:"M15.1215 6.81258C14.8339 6.47712 14.3289 6.43827 13.9934 6.72581C13.658 7.01335 13.6191 7.51839 13.9067 7.85385L15.2781 9.45385C15.5656 9.78931 16.0707 9.82816 16.4061 9.54062C16.7416 9.25308 16.7804 8.74804 16.4929 8.41258L15.1215 6.81258Z",fill:"currentColor"}),s.default.createElement("path",{d:"M10.0929 7.85385C10.3804 7.51839 10.3416 7.01335 10.0061 6.72581C9.67068 6.43828 9.16564 6.47712 8.8781 6.81258L7.50667 8.41258C7.21913 8.74805 7.25798 9.25309 7.59344 9.54062C7.9289 9.82816 8.43394 9.78931 8.72148 9.45385L10.0929 7.85385Z",fill:"currentColor"}),s.default.createElement("path",{d:"M18.3215 10.5459C18.0339 10.2105 17.5289 10.1716 17.1934 10.4591C16.858 10.7467 16.8191 11.2517 17.1067 11.5872L18.4781 13.1872C18.7656 13.5226 19.2707 13.5615 19.6061 13.274C19.9416 12.9864 19.9804 12.4814 19.6929 12.1459L18.3215 10.5459Z",fill:"currentColor"}),s.default.createElement("path",{d:"M6.89291 11.5872C7.18045 11.2517 7.1416 10.7467 6.80614 10.4591C6.47068 10.1716 5.96564 10.2105 5.6781 10.5459L4.30667 12.1459C4.01913 12.4814 4.05798 12.9864 4.39344 13.274C4.7289 13.5615 5.23394 13.5226 5.52148 13.1872L6.89291 11.5872Z",fill:"currentColor"}),s.default.createElement("path",{d:"M2.4 18C3.72548 18 4.8 16.9255 4.8 15.6C4.8 14.2745 3.72548 13.2 2.4 13.2C1.07452 13.2 0 14.2745 0 15.6C0 16.9255 1.07452 18 2.4 18Z",fill:"currentColor"}),s.default.createElement("path",{d:"M21.6 18C22.9255 18 24 16.9255 24 15.6C24 14.2745 22.9255 13.2 21.6 13.2C20.2745 13.2 19.2 14.2745 19.2 15.6C19.2 16.9255 20.2745 18 21.6 18Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="outline-straight"},640963:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PaletteIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=28,g=28;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 3.5C8.20167 3.5 3.5 8.20167 3.5 14C3.5 19.7983 8.20167 24.5 14 24.5C14.9683 24.5 15.75 23.7183 15.75 22.75C15.75 22.295 15.575 21.8867 15.295 21.5717C15.0267 21.2683 14.8517 20.86 14.8517 20.4167C14.8517 19.4483 15.6333 18.6667 16.6017 18.6667H18.6667C21.8867 18.6667 24.5 16.0533 24.5 12.8333C24.5 7.67667 19.7983 3.5 14 3.5ZM7.58333 14C6.615 14 5.83333 13.2183 5.83333 12.25C5.83333 11.2817 6.615 10.5 7.58333 10.5C8.55167 10.5 9.33333 11.2817 9.33333 12.25C9.33333 13.2183 8.55167 14 7.58333 14ZM9.33333 7.58333C9.33333 8.55167 10.115 9.33333 11.0833 9.33333C12.0517 9.33333 12.8333 8.55167 12.8333 7.58333C12.8333 6.615 12.0517 5.83333 11.0833 5.83333C10.115 5.83333 9.33333 6.615 9.33333 7.58333ZM16.9167 9.33333C15.9483 9.33333 15.1667 8.55167 15.1667 7.58333C15.1667 6.615 15.9483 5.83333 16.9167 5.83333C17.885 5.83333 18.6667 6.615 18.6667 7.58333C18.6667 8.55167 17.885 9.33333 16.9167 9.33333ZM18.6667 12.25C18.6667 13.2183 19.4483 14 20.4167 14C21.385 14 22.1667 13.2183 22.1667 12.25C22.1667 11.2817 21.385 10.5 20.4167 10.5C19.4483 10.5 18.6667 11.2817 18.6667 12.25Z",fill:"currentColor"}),s.default.createElement("path",{d:"M14 3.16667C8.01757 3.16667 3.16667 8.01757 3.16667 14C3.16667 19.9824 8.01757 24.8333 14 24.8333C15.1524 24.8333 16.0833 23.9024 16.0833 22.75C16.0833 22.2065 15.8737 21.7209 15.5441 21.3502L15.295 21.5717L15.5447 21.3508C15.3256 21.1031 15.185 20.7719 15.185 20.4167C15.185 19.6324 15.8174 19 16.6017 19H18.6667C22.0708 19 24.8333 16.2374 24.8333 12.8333C24.8333 7.45669 19.9444 3.16667 14 3.16667ZM7.58333 13.6667C6.79909 13.6667 6.16667 13.0342 6.16667 12.25C6.16667 11.4658 6.79909 10.8333 7.58333 10.8333C8.36757 10.8333 9 11.4658 9 12.25C9 13.0342 8.36757 13.6667 7.58333 13.6667ZM11.0833 9C10.2991 9 9.66667 8.36757 9.66667 7.58333C9.66667 6.79909 10.2991 6.16667 11.0833 6.16667C11.8676 6.16667 12.5 6.79909 12.5 7.58333C12.5 8.36757 11.8676 9 11.0833 9ZM16.9167 9C16.1324 9 15.5 8.36757 15.5 7.58333C15.5 6.79909 16.1324 6.16667 16.9167 6.16667C17.7009 6.16667 18.3333 6.79909 18.3333 7.58333C18.3333 8.36757 17.7009 9 16.9167 9ZM20.4167 13.6667C19.6324 13.6667 19 13.0342 19 12.25C19 11.4658 19.6324 10.8333 20.4167 10.8333C21.2009 10.8333 21.8333 11.4658 21.8333 12.25C21.8333 13.0342 21.2009 13.6667 20.4167 13.6667Z"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="palette"},330734:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewAudioIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=112,g=88;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 112",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a)},s.default.createElement("title",null,d),s.default.createElement("defs",null,s.default.createElement("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),s.default.createElement("g",{fill:"none",fillRule:"evenodd"},s.default.createElement("g",{transform:"translate(4 3)"},s.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),s.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),s.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"})),s.default.createElement("path",{d:"M59 41v26.246a.501.501 0 0 1-.014.119A5 5 0 1 1 54 62.745c.19 0 .398.022.62.065A2 2 0 0 0 57 60.847V49.113a1 1 0 0 0-1.12-.993l-19 2.28a1 1 0 0 0-.88.993v18.853a.501.501 0 0 1-.014.119A5 5 0 1 1 31 65.745c.316 0 .676.06 1.08.178a1.5 1.5 0 0 0 1.92-1.44V43.52a2 2 0 0 1 1.762-1.986l21-2.52A2 2 0 0 1 59 41z",fillOpacity:.2,fill:"#000"}),s.default.createElement("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="preview-audio"},420260:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewCompressedIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=110,g=88;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 110",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a)},s.default.createElement("title",null,d),s.default.createElement("defs",null,s.default.createElement("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),s.default.createElement("g",{fill:"none",fillRule:"evenodd"},s.default.createElement("g",{transform:"translate(4 3)"},s.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),s.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),s.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"})),s.default.createElement("g",{transform:"translate(39 44)",fill:"#000"},s.default.createElement("rect",{fillOpacity:.1,y:61,width:5,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,x:5,y:58,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,y:55,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,x:5,y:52,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,y:49,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,x:5,y:46,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,y:43,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,x:5,y:40,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,y:37,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,x:5,y:34,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,y:31,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,x:5,y:28,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,y:25,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,x:5,y:22,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,y:19,width:5,height:3,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,x:5,y:16,width:5,height:3,rx:.5}),s.default.createElement("path",{d:"M8 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6zM7 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z",fillOpacity:.2})),s.default.createElement("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="preview-compressed"},127481:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewDocIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=110,g=88;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 110",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a)},s.default.createElement("title",null,d),s.default.createElement("defs",null,s.default.createElement("rect",{id:"b",x:0,y:0,width:54,height:36,rx:2.37}),s.default.createElement("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),s.default.createElement("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd"},s.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),s.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),s.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:84,width:54,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:89,width:27,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:24,width:54,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:29,width:54,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:34,width:40,height:2,rx:.5}),s.default.createElement("g",null,s.default.createElement("g",{transform:"translate(13 42)"},s.default.createElement("mask",{id:"c",fill:"#fff"},s.default.createElement("use",{xlinkHref:"#b"})),s.default.createElement("use",{fillOpacity:.1,fill:"#000",xlinkHref:"#b"}),s.default.createElement("circle",{fillOpacity:.1,fill:"#000",mask:"url(#c)",cx:37.5,cy:11.5,r:5.5}),s.default.createElement("path",{d:"m34.565 31.195 7.912-7.89a2.37 2.37 0 0 1 3.348 0l25.144 25.073L44.15 75.119l-19.556-19.5-11.259 11.228-26.817-26.742 25.143-25.072a2.37 2.37 0 0 1 3.348 0l16.208 16.162a2.37 2.37 0 0 0 3.347 0z",fillOpacity:.1,fill:"#000",mask:"url(#c)"}))),s.default.createElement("path",{d:"M61.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="preview-doc"},258976:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewGenericIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=110,g=88;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 110",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a)},s.default.createElement("title",null,d),s.default.createElement("g",{transform:"translate(4 3)"},s.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"#FFF",fillRule:"evenodd"})),s.default.createElement("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="preview-generic"},723845:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewSheetIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=88,g=110;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 110 88",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a)},s.default.createElement("title",null,d),s.default.createElement("defs",null,s.default.createElement("path",{d:"M3 0h80.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 104 20.07V77a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),s.default.createElement("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd"},s.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),s.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),s.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h80.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V77a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 77V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:22,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:22,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:22,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:22,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:12,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:34,y:12,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:54,y:12,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:74,y:12,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:32,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:32,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:32,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:32,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:42,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:42,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:42,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:42,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:52,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:52,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:52,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:52,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:62,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:62,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:62,width:16,height:6,rx:.5}),s.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:62,width:16,height:6,rx:.5}),s.default.createElement("path",{d:"M85.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="preview-sheet"},145945:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewSlidesIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=88,g=110;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 110 88",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a)},s.default.createElement("title",null,d),s.default.createElement("g",{fill:"none",fillRule:"evenodd"},s.default.createElement("g",{transform:"translate(4 3)"},s.default.createElement("use",{fill:"#000",filter:"url(#filter-2)",xlinkHref:"#path-1"}),s.default.createElement("rect",{strokeOpacity:.08,stroke:"#000",fill:"#FFF",x:-.5,y:-.5,width:105,height:81,rx:3})),s.default.createElement("g",{transform:"translate(8 15)"},s.default.createElement("rect",{fillOpacity:.1,fill:"#000",width:96,height:56,rx:2}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:55,y:19,width:30,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:55,y:24,width:30,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:55,y:29,width:30,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:55,y:34,width:18,height:2,rx:.5}),s.default.createElement("g",{transform:"translate(12 13)"},s.default.createElement("circle",{fillOpacity:.2,fill:"#000",cx:16,cy:16,r:16}),s.default.createElement("path",{d:"M32 16c0 8.837-7.163 16-16 16V16z",fill:"#FFF"}))))))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="preview-slides"},907935:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewTxtIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=110,g=88;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 110",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a)},s.default.createElement("title",null,d),s.default.createElement("defs",null,s.default.createElement("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),s.default.createElement("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd"},s.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),s.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),s.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:28,width:52,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:33,width:52,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:38,width:52,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:43,width:40,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:53,width:52,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:58,width:52,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:63,width:52,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:68,width:52,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:73,width:52,height:2,rx:.5}),s.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:78,width:27,height:2,rx:.5}),s.default.createElement("path",{d:"M61.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="preview-txt"},193085:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReturnIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1",x:"0px",y:"0px"},s.default.createElement("title",null,d),s.default.createElement("path",{fill:"currentColor",d:"M19.77,11.73c0,1.64-0.5,2.95-1.48,3.89c-1.38,1.32-3.26,1.41-3.75,1.41c-0.07,0-0.11,0-0.12,0l-5.41,0v-2.1 h5.46c0.05,0,1.47,0.04,2.38-0.84c0.55-0.53,0.82-1.32,0.82-2.37c0-1.27-0.33-2.23-0.99-2.84c-0.98-0.92-2.43-0.85-2.44-0.85 l-4.23,0v3.1L4,7.07L10.01,3v2.93h4.16c0.03,0,2.29-0.13,3.95,1.42C19.21,8.38,19.77,9.85,19.77,11.73z"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="return"},529532:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RoundPlayIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=16,g=16;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 16 16",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M6.46508 4.82093C6.01511 4.55151 5.64722 4.77192 5.64722 5.31048V10.6893C5.64722 11.2282 6.01511 11.4486 6.46508 11.1792L10.9568 8.48989C11.4068     8.22047 11.4068 7.77964 10.9568 7.51021L6.46508 4.82093Z",fill:"currentColor"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16     8ZM15.0588 8C15.0588 11.8985 11.8985 15.0588 8 15.0588C4.10152 15.0588 0.941177 11.8985 0.941177 8C0.941177 4.10152 4.10152 0.941177 8 0.941177C11.8985     0.941177 15.0588 4.10152 15.0588 8Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="round-play"},493003:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ScissorsIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("circle",{cx:6,cy:18,r:3.125,stroke:"currentColor",strokeWidth:1.75}),s.default.createElement("circle",{cx:6,cy:6,r:3.125,stroke:"currentColor",strokeWidth:1.75}),s.default.createElement("path",{d:"M7.71745 14.7425C7.32693 15.1331 7.32693 15.7662 7.71745 16.1567C8.10798 16.5473 8.74114 16.5473 9.13167 16.1567L11.9372 13.3512L10.523 11.937L7.71745 14.7425Z",fill:"currentColor"}),s.default.createElement("path",{d:"M13.3742 9.08579L14.7884 10.5L20.6956 4.59285C21.0861 4.20232 21.0861 3.56916 20.6956 3.17864C20.305 2.78811 19.6719 2.78811 19.2814 3.17864L13.3742 9.08579Z",fill:"currentColor"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.01594 7.60173C8.62542 7.21121 7.99226 7.21121 7.60173 7.60173C7.21121 7.99226 7.21121 8.62542 7.60173 9.01594L19.3586 20.7728C19.7492 21.1634 20.3823 21.1634 20.7728 20.7728C21.1634 20.3823 21.1634 19.7492 20.7728 19.3586L9.01594 7.60173ZM12 12.5001C12.2761 12.5001 12.5 12.2762 12.5 12.0001C12.5 11.724 12.2761 11.5001 12 11.5001C11.7239 11.5001 11.5 11.724 11.5 12.0001C11.5 12.2762 11.7239 12.5001 12 12.5001Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="scissors"},904827:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ShoppingCartEmptyIcon=function(e){const{iconXstyle:t,height:a,width:n,viewBox:c}=e,f=(0,i.default)(e,u);let p;if(c){const{x:e=0,y:t=0,width:a=0,height:n=0}=c;p=[e,t,a,n].join(" ")}let h=90,m=90;null==a&&null==n||(h=a,m=n);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},f),s.default.createElement("svg",{viewBox:p,height:h,width:m,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(t)},s.default.createElement("title",null,d),s.default.createElement("g",{fillRule:"nonzero",fill:"currentColor"},s.default.createElement("path",{d:"M36.6666667 55C34.8333333 55 33.35 56.5 33.35 58.3333333 33.35 60.1666667 34.8333333 61.6666667 36.6666667 61.6666667 38.5 61.6666667 40 60.1666667 40 58.3333333 40 56.5 38.5 55 36.6666667 55zM26.6666667 30C26.6666667 30.9166667 27.4166667 31.6666667 28.3333333 31.6666667L30 31.6666667 36 44.3166667 33.75 48.3833333C32.5333333 50.6166667 34.1333333 53.3333333 36.6666667 53.3333333L55 53.3333333C55.9166667 53.3333333 56.6666667 52.5833333 56.6666667 51.6666667 56.6666667 50.75 55.9166667 50 55 50L36.6666667 50 38.5 46.6666667 50.9166667 46.6666667C52.1666667 46.6666667 53.2666667 45.9833333 53.8333333 44.95L59.8 34.1333333C60.4166667 33.0333333 59.6166667 31.6666667 58.35 31.6666667L33.6833333 31.6666667 32.5666667 29.2833333C32.3 28.7 31.7 28.3333333 31.0666667 28.3333333L28.3333333 28.3333333C27.4166667 28.3333333 26.6666667 29.0833333 26.6666667 30zM53.3333333 55C51.5 55 50.0166667 56.5 50.0166667 58.3333333 50.0166667 60.1666667 51.5 61.6666667 53.3333333 61.6666667 55.1666667 61.6666667 56.6666667 60.1666667 56.6666667 58.3333333 56.6666667 56.5 55.1666667 55 53.3333333 55z"}),s.default.createElement("path",{d:"M44.957,2 C21.221,2 2,21.264 2,45 C2,68.736 21.221,88 44.957,88 C68.736,88 88,68.736 88,45 C88,21.264 68.736,2 44.957,2 Z M45,90 C20.1375,90 0,69.8625 0,45 C0,20.1375 20.1375,0 45,0 C69.8625,0 90,20.1375 90,45 C90,69.8625 69.8625,90 45,90 Z"}))))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="shopping-cart-empty"},366898:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerCrossedIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.17295 8.44087C8.17295 8.32308 8.23459 8.21389 8.33543 8.15303L12.3622 5.72284C12.7728 5.46882 13.3171 5.74791 13.3171 6.21249V15.9904C13.3171 16.4449 12.7936 16.7257 12.3822 16.4918L8.343 14.1959C8.23788 14.1361 8.17295 14.0245 8.17295 13.9036V8.44087ZM2 10.2005C2 9.12385 2.92124 8.25109 4.05765 8.25109H6.80793C6.99361 8.25109 7.14412 8.40161 7.14412 8.58728V13.763C7.14412 13.9487 6.99361 14.0992 6.80793 14.0992H6.20602L7.15101 17.4458C7.23322 17.737 7.06213 18.0333 6.76887 18.1076L5.78098 18.3579C5.48772 18.4323 5.18334 18.2565 5.10113 17.9654L4.0305 14.1737C4.02344 14.1487 4.01825 14.1237 4.01485 14.0988C2.8982 14.0772 2 13.2129 2 12.1498V10.2005Z",fill:"currentColor"}),s.default.createElement("path",{d:"M15.9116 13.2149L15.8232 13.3033L15.9116 13.3917L16.9723 14.4523L17.0607 14.5407L17.149 14.4523L19.182 12.4194L21.2149 14.4523L21.3033 14.5407L21.3917 14.4523L22.4523 13.3917L22.5407 13.3033L22.4523 13.2149L20.4194 11.182L22.4523 9.14905L22.5407 9.06066L22.4523 8.97227L21.3917 7.91161L21.3033 7.82322L21.2149 7.91161L19.182 9.94454L17.149 7.91161L17.0607 7.82322L16.9723 7.91161L15.9116 8.97227L15.8232 9.06066L15.9116 9.14905L17.9445 11.182L15.9116 13.2149Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.25})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="speaker-crossed"},191789:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3PlaceholderIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=80,g=80;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 80 80",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),version:"1.1",id:"Layer_1",x:"0px",y:"0px",enableBackground:"new 0 0 80 80"},s.default.createElement("title",null,d),s.default.createElement("path",{fill:"currentColor",d:"M30.566,78.982c-0.222,0-0.447-0.028-0.672-0.087C12.587,74.324,0.5,58.588,0.5,40.631 c0-3.509,0.459-6.989,1.363-10.343c0.377-1.399,1.814-2.23,3.217-1.851c1.399,0.377,2.228,1.818,1.851,3.217 c-0.784,2.909-1.182,5.929-1.182,8.977c0,15.578,10.48,29.226,25.485,33.188c1.401,0.37,2.237,1.806,1.867,3.209 C32.79,78.204,31.728,78.982,30.566,78.982z M49.921,78.875C67.336,74.364,79.5,58.611,79.5,40.563c0-3.477-0.452-6.933-1.345-10.27 c-0.374-1.401-1.812-2.232-3.213-1.858c-1.4,0.375-2.233,1.813-1.858,3.214c0.773,2.896,1.166,5.895,1.166,8.914 c0,15.655-10.545,29.319-25.646,33.23c-1.403,0.363-2.246,1.796-1.883,3.199c0.306,1.182,1.371,1.967,2.539,1.967 C49.478,78.959,49.699,78.932,49.921,78.875z M15.482,16.5C21.968,9.901,30.628,6.267,39.867,6.267 c9.143,0,17.738,3.569,24.202,10.05c1.024,1.026,2.686,1.028,3.712,0.004c1.026-1.024,1.028-2.685,0.005-3.712 C60.329,5.135,50.413,1.018,39.867,1.018c-10.658,0-20.648,4.191-28.128,11.802c-1.016,1.034-1.002,2.696,0.032,3.711 c0.511,0.503,1.175,0.753,1.84,0.753C14.289,17.284,14.968,17.022,15.482,16.5z"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="status-v3-placeholder"},729029:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SupportChatNuxIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=88,g=154;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 154 88",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("rect",{x:45,y:12,width:64,height:64,rx:32,fill:"#00A884",style:{fillOpacity:1}}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M90.2371 30.0364C92.8077 30.0364 94.8916 32.1203 94.8916 34.6909V54.1818C94.8916 56.7525 92.8077 58.8364 90.2371 58.8364H66.3825C63.8119 58.8364 61.728 56.7525 61.728 54.1818V38.7636L57.8081 32.7331C57.0534 31.5719 57.8867 30.0364 59.2716 30.0364H90.2371ZM79.3233 46.2691C79.4106 45.8036 79.5633 45.3964 79.7815 45.0473C79.9997 44.6982 80.4288 44.2036 81.0688 43.5636C82.1451 42.4873 82.8724 41.6146 83.2506 40.9455C83.6288 40.2764 83.8179 39.52 83.8179 38.6764C83.8179 37.1927 83.2724 35.9636 82.1815 34.9891C81.0906 34.0146 79.7161 33.5273 78.0579 33.5273C76.807 33.5273 75.6942 33.7818 74.7197 34.2909C73.7451 34.8 72.9961 35.4764 72.4724 36.32C72.2106 36.7273 72.1379 37.1564 72.2542 37.6073C72.3706 38.0582 72.6324 38.3709 73.0397 38.5455C73.447 38.72 73.847 38.7273 74.2397 38.5673C74.6324 38.4073 74.9451 38.1382 75.1779 37.76C75.4688 37.3527 75.8615 37.04 76.3561 36.8218C76.8506 36.6036 77.3597 36.4946 77.8833 36.4946C78.6979 36.4946 79.3524 36.7127 79.847 37.1491C80.3415 37.5855 80.5888 38.1382 80.5888 38.8073C80.5888 39.36 80.4215 39.9127 80.087 40.4655C79.7524 41.0182 79.236 41.6 78.5379 42.2109C77.7815 42.88 77.1997 43.5636 76.7924 44.2618C76.3851 44.96 76.1815 45.6146 76.1815 46.2255C76.1815 46.6327 76.3342 46.9818 76.6397 47.2727C76.9451 47.5636 77.3161 47.7091 77.7524 47.7091C78.1597 47.7091 78.5015 47.5709 78.7779 47.2946C79.0542 47.0182 79.236 46.6764 79.3233 46.2691ZM77.5779 54.4727C78.1888 54.4727 78.7051 54.2618 79.127 53.84C79.5488 53.4182 79.7597 52.9018 79.7597 52.2909C79.7597 51.68 79.5488 51.1636 79.127 50.7418C78.7051 50.32 78.1888 50.1091 77.5779 50.1091C76.967 50.1091 76.4506 50.32 76.0288 50.7418C75.607 51.1636 75.3961 51.68 75.3961 52.2909C75.3961 52.9018 75.607 53.4182 76.0288 53.84C76.4506 54.2618 76.967 54.4727 77.5779 54.4727Z",fill:"white",style:{fillOpacity:1}}),s.default.createElement("path",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M39.3245 63.2658C39.2688 62.6522 38.89 62.1149 38.3308 61.8563C37.7716 61.5977 37.1169 61.6571 36.6134 62.0122L31.7309 65.4544C31.2273 65.8094 30.9514 66.4061 31.0071 67.0197C31.0627 67.6333 31.4415 68.1705 32.0008 68.4291L37.4231 70.9364C37.9823 71.195 38.637 71.1356 39.1405 70.7806C39.6441 70.4255 39.92 69.8289 39.8643 69.2153L39.3245 63.2658Z",fill:"#00A884",style:{fillOpacity:1}}),s.default.createElement("path",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M113.797 28.1486L113.801 28.1468L113.797 28.1486ZM118.853 20.3036C119.223 19.4157 120.063 19.3324 120.311 19.3324C120.549 19.3324 121.393 19.409 121.768 20.2927L123.395 24.074C123.477 24.2691 123.634 24.4278 123.844 24.5164L123.848 24.5181L127.649 26.1396L127.657 26.1435C128.516 26.5277 128.6 27.3383 128.6 27.5999C128.6 27.8776 128.507 28.6691 127.657 29.049L127.649 29.0529L123.844 30.6761C123.651 30.7576 123.487 30.9157 123.39 31.1359L121.738 34.9883L121.737 34.9914C121.359 35.865 120.526 35.9395 120.282 35.9395C120.015 35.9395 119.223 35.8528 118.838 35.0136L118.836 35.0098L117.062 31.1082C116.967 30.9078 116.811 30.7552 116.618 30.6692L116.616 30.6686L112.949 29.0621C112.074 28.6884 111.993 27.8602 111.993 27.6071C111.993 27.3368 112.084 26.5254 112.955 26.1569L116.778 24.5236C116.972 24.4417 117.137 24.2823 117.234 24.0672L118.853 20.3036Z",fill:"#00A884",style:{fillOpacity:1}}),s.default.createElement("path",{opacity:.3,fillRule:"evenodd",clipRule:"evenodd",d:"M110.147 11.0322C110.973 11.2037 111.504 12.0126 111.332 12.8389L111.037 14.2603L112.374 14.5378C113.2 14.7093 113.731 15.5182 113.56 16.3445C113.388 17.1708 112.579 17.7017 111.753 17.5302L110.416 17.2527L110.138 18.5917C109.967 19.4181 109.158 19.9489 108.331 19.7774C107.505 19.6059 106.974 18.797 107.146 17.9707L107.424 16.6316L106 16.3362C105.174 16.1647 104.643 15.3557 104.814 14.5294C104.986 13.7031 105.795 13.1722 106.621 13.3438L108.045 13.6392L108.34 12.2179C108.511 11.3915 109.32 10.8607 110.147 11.0322Z",fill:"#00A884",style:{fillOpacity:1}}),s.default.createElement("path",{opacity:.3,fillRule:"evenodd",clipRule:"evenodd",d:"M118.262 48.1428C117.047 48.1428 116.062 49.1279 116.062 50.343C116.062 51.5582 117.047 52.5433 118.262 52.5433C119.477 52.5433 120.462 51.5582 120.462 50.343C120.462 49.1279 119.477 48.1428 118.262 48.1428Z",fill:"#00A884",style:{fillOpacity:1}})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="support-chat-nux"},672892:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TrashActiveIcon=function(e){var t;const{iconXstyle:a,height:n,width:c,viewBox:f}=e,p=(0,i.default)(e,u);let h;if(f){const{x:e=0,y:t=0,width:a=0,height:n=0}=f;h=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==c||(m=n,g=c);return s.default.createElement(l.BaseSvgSpan,(0,r.default)({name:d},p),s.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,o.default)(a),fill:"none"},s.default.createElement("title",null,d),s.default.createElement("path",{d:"M16 7.5H22.25C22.6642 7.5 23 7.83579 23 8.25C23 8.66421 22.6642 9 22.25 9H16V7.5Z",fill:"currentColor"}),s.default.createElement("path",{d:"M16 12H21.25C21.6642 12 22 12.3358 22 12.75C22 13.1642 21.6642 13.5 21.25 13.5H16V12Z",fill:"currentColor"}),s.default.createElement("path",{d:"M16 16.5H19.25C19.6642 16.5 20 16.8358 20 17.25C20 17.6642 19.6642 18 19.25 18H16V16.5Z",fill:"currentColor"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 4.88889H13.1429C13.6143 4.88889 14 5.28889 14 5.77778C14 6.26667 13.6143 6.66667 13.1429 6.66667H2.85714C2.38571 6.66667 2 6.26667 2 5.77778C2 5.28889 2.38571 4.88889 2.85714 4.88889H5L5.60857 4.25778C5.76286 4.09778 5.98571 4 6.20857 4H9.79143C10.0143 4 10.2371 4.09778 10.3914 4.25778L11 4.88889ZM4.57143 20C3.62857 20 2.85714 19.2 2.85714 18.2222V9.33333C2.85714 8.35556 3.62857 7.55556 4.57143 7.55556H11.4286C12.3714 7.55556 13.1429 8.35556 13.1429 9.33333V18.2222C13.1429 19.2 12.3714 20 11.4286 20H4.57143Z",fill:"currentColor"})))};var r=n(a(967154)),i=n(a(506479)),l=a(220584),o=n(a(156720)),s=n(a(667294));const u=["iconXstyle","height","width","viewBox"],d="trash-active"},28238:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(576304);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},338718:(e,t,a)=>{e.exports=a(975882)},139519:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return n.Circle}}),Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return n.Group}}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return n.Image}}),Object.defineProperty(t,"Layer",{enumerable:!0,get:function(){return n.Layer}}),Object.defineProperty(t,"Line",{enumerable:!0,get:function(){return n.Line}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return n.Path}}),Object.defineProperty(t,"Rect",{enumerable:!0,get:function(){return n.Rect}}),Object.defineProperty(t,"Stage",{enumerable:!0,get:function(){return n.Stage}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return n.Text}}),Object.defineProperty(t,"Transformer",{enumerable:!0,get:function(){return n.Transformer}});var n=a(577201);a(907643),a(671298),a(227149),a(87339),a(275244),a(723787),a(229516)},95492:(e,t,a)=>{e.exports=a.p+"img/sticker-pack-empty_9f0c66fc3aec33b2f78f0ae1721e053b.png"},635263:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={title:"_1kkFH"}},585951:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={imageGallery:"_19u-3",imageGalleryList:"_2PoM9",imageGalleryItem:"_2SRCV",imageGalleryItemSpacer:"_3pabu",imageGalleryItemImage:"_1UlsT",imageGalleryItemOverlay:"_3q8nB",selected:"Gqorz",imageGalleryFooter:"_1jDvB",focusAnimation:"_3REkg",focusAnimationKeyframes:"upbys"}},867109:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"HP5-u",previewOnly:"_14E9W",documentPreview:"_1N4Z2",dropOverlay:"_1unEs",dropOverlayOutline:"_2MD70",spinner:"byFMa",footer:"O2_ew",addMediaButton:"_3NnCl",addMediaButtonDisabled:"_3Ka-4",filmstripContainer:"YB9dD",thumbs:"_3Cxfu",sendButton:"_3wFFT",captureFooter:"_2YwjO"}},530728:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2l8Ym",header:"McTiQ",headerRight:"_2tgTl",canvasContainer:"_2RqWa",cropRotateContainer:"_2gvlN",closeButton:"_2QnjM",closeButtonPlaceholder:"_3-5gk",canvas:"-YT7w",footer:"_2Cdbt",bottomToolbar:"_3-sOG",captionInputContainer:"_3yjTi",captionInputHidden:"_28YM9"}},929087:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={thumb:"_2xeDc",active:"_3yUIy",bodyWrapper:"_1cFYC",body:"_1Pr6q",bodyIcon:"_1FeQF",btnDelete:"_3eK6Q"}},539858:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1JOe-"}},862981:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3ut4y",cropperContainer:"_2ki6c"}},581530:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2UoIS",footer:"_34oq2"}},943208:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2c7WD",colorChipsContainer:"_1acBm"}},388282:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={colorButton:"_3F0S-",primaryColorChip:"_3ibOQ",primaryColorChipMedium:"_2gR5s",secondaryColorChip:"_1NW2k",active:"V-8sQ",hover:"_1QPYF",selected:"kK6zQ",colorChipWithBorder:"_1kVAh"}},81447:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_34shT",rotateLeftButton:"_2jAhY"}},610255:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={item:"_2ImRZ",selected:"_25R64",sansSerif:"_20YSW",serif:"_1EoCE",noricanRegular:"_2996J",bryndanWrite:"_35IJ6",oswaldHeavy:"_1A4o4",alignmentContainer:"_2XDBQ",alignmentIcon:"_1gr8n",alignmentIconSelected:"_3vEP7"}},715723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={cirle:"_34PK2",circleFilled:"_3GMgQ",unchecked:"_1CXf5",checked:"_3QTQd"}},505847:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"W3geq",thicknessButton:"_3Bwvs",thicknessChip:"_2A3hZ",selected:"_2_MQq"}},893320:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={defaultGroupIcon:"ubD1k"}},111457:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_16tdz",media:"_3DjVv"}},662519:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_25eij",media:"_2-nkR",document:"_1pyNm",text:"_3vz6x",icon:"_3mFGD"}},356933:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1HUcQ",media:"_1nMFv",img:"o9U1N",audio:"_1MgeQ",videoContainer:"_3qLdC",spinner:"_3KKUk",video:"K13VR",staticPreview:"_2tE0D"}},820989:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_33XcX",preview:"MtkFD",caption:"_1B96F",img:"yE4aq",imgBorder:"_3WSt9"}},727011:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={btnSend:"_3oDXB",attributionLink:"_1O8z3",mediaBody:"_2qwqL",attribution:"_2vDhI",footer:"_2hQ6O",containerBackground:"_2dHbO",retake:"_2_lBZ",retakeIcon:"_1BsqD",mediaElementBase:"_2nUrj",mediaElement:"_7G1ak _2nUrj",hintText:"_3vRPF"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_low_priority_components.8ab27b040fe425e821eb.js.map
