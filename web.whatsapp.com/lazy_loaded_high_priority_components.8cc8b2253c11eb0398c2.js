/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[7205],{31789:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n;if(e.size!==t.size)return!1;for(const[a,i]of e)if(n=t.get(a),n!==i||void 0===n&&!t.has(a))return!1;return!0}},41381:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupProperty=function(e,t,n){return x((0,f.unproxy)(e),t,n)};var i=n(450796),o=n(492574),s=n(312380),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(435232)),r=n(694816),d=n(357490),c=a(n(914296)),u=n(446331),f=n(118146),h=n(548360),p=n(785893);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g={announcement:"announce",restrict:"restrict",no_frequently_forwarded:"noFrequentlyForwarded",ephemeral:"ephemeralDuration",membership_approval_mode:"membershipApprovalMode"};function x(e,t,n){var a,f;let m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,u.genId)();if(!t)return Promise.reject(new l.ActionError);if(t===s.GROUP_SETTING_TYPE.EPHEMERAL&&!(null===(a=e.groupMetadata)||void 0===a?void 0:a.canSetEphemeralSetting()))return Promise.reject(new l.ActionError);if(t!==s.GROUP_SETTING_TYPE.EPHEMERAL&&!(null===(f=e.groupMetadata)||void 0===f?void 0:f.canSetGroupProperty()))return Promise.reject(new l.ActionError);const v=(0,d.sendSetGroupProperty)(e.id,t,n),b={[s.GROUP_SETTING_TYPE.ANNOUNCEMENT]:{on:[h.fbt._("Allowing only admins to send messages to this group",null,{hk:"7c1j2"}),h.fbt._("You allowed only admins to send messages to this group",null,{hk:"TgjEr"})],off:[h.fbt._("Allowing all participants to send messages to this group",null,{hk:"4cLMI3"}),h.fbt._("You allowed all participants to send messages to this group",null,{hk:"1PCiIv"})]},[s.GROUP_SETTING_TYPE.RESTRICT]:{on:[h.fbt._("Allowing only admins to change this group's info",null,{hk:"PbjyR"}),h.fbt._("You allowed only admins to change this group's info",null,{hk:"39H5jp"})],off:[h.fbt._("Allowing all participants to change this group's info",null,{hk:"3fBDr9"}),h.fbt._("You allowed all participants to change this group's info",null,{hk:"4AVVnx"})]},[s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED]:{on:[h.fbt._("Blocking participants from sending messages that have been forwarded many times to this group",null,{hk:"lpVO4"}),h.fbt._("You blocked participants from sending messages that have been forwarded many times to this group",null,{hk:"22llJ6"})],off:[h.fbt._("Allowing participants to send messages that have been forwarded many times to this group",null,{hk:"UUxQ6"}),h.fbt._("You allowed participants to send messages that have been forwarded many times to this group",null,{hk:"3A3ppd"})]},[s.GROUP_SETTING_TYPE.EPHEMERAL]:{on:[h.fbt._("Turning on disappearing messages in this chat",null,{hk:"8QDLb"}),h.fbt._("You turned on disappearing messages in this chat",null,{hk:"27eqpQ"})],off:[h.fbt._("Turning off disappearing messages in this chat",null,{hk:"4nYVdI"}),h.fbt._("You turned off disappearing messages in this chat",null,{hk:"6y3db"})]},[s.GROUP_SETTING_TYPE.MEMBERSHIP_APPROVAL_MODE]:{on:[h.fbt._("Turning on membership approval mode in this chat",null,{hk:"Li7xA"}),h.fbt._("You turned on membership approval mode in this chat",null,{hk:"3JZ6c9"})],off:[h.fbt._("Turning off membership approval mode in this chat",null,{hk:"1ckzFs"}),h.fbt._("You turned off membership approval mode in this chat",null,{hk:"3x7TJw"})]}},_=0===n?"off":"on",[j,M]=b[t][_],C=new u.ActionType(j),E=v.then((()=>new u.ActionType(M))).catch((0,i.filteredCatch)(o.ServerStatusCodeError,(e=>{if(404===e.status)return new u.ActionType(h.fbt._("Group setting could not be changed",null,{hk:"3WCKMX"}).toString()+" "+h.fbt._("This group has ended.",null,{hk:"C2izu"}).toString())}))).catch((()=>(__LOG__(3)`Error while setting property`,new u.ActionType(h.fbt._("Group setting could not be changed",null,{hk:"3WCKMX"}),{actionText:c.default.t(122),actionHandler:()=>x(e,t,n,m)}))));return r.ToastManager.open((0,p.jsx)(u.ActionToast,{id:m,initialAction:C,pendingAction:E})),v.then((a=>{var i;a._duplicate||(null===(i=e.groupMetadata)||void 0===i||i.set(g[t],n))})).catch((0,i.filteredCatch)(o.ServerStatusCodeError,(()=>{})))}},616419:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t,onClick:n,contextMenu:s,isPendingParticipant:l,contextEnabled:r,onContext:d,theme:c,showStatusRingAroundProfilePhoto:u}=e,f=(0,i.useModelValues)(e.participant,["isAdmin"]);return(0,o.jsx)(a.Contact,{contact:t,admin:f.isAdmin,onClick:n,theme:c||"drawer-list",contextEnabled:()=>null!=r&&r(t),contextMenu:s,onContext:e=>null==d?void 0:d(e,t),isPendingParticipant:l,showNotifyName:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:u})};var a=n(402732),i=n(735461),o=n(785893)},145863:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{autoPlay:t,url:n,onError:a,setRefAudio:v,playbackRate:b}=e,_=(0,p.useRef)(0),j=(0,p.useRef)(null),M=(0,p.useRef)(null),C=e=>{k(),null==a||a(e.target.src)},E=()=>{k()},[S,y]=(0,m.default)((()=>{if(h.Socket.state!==c.SOCKET_STATE.CONNECTED)return;if(_.current++,_.current>40)return void C({target:{src:n,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});const e=(0,i.default)(j.current,"audioElementRef.current").buffered;e.length&&e.end(0)>0&&E()}),250);function k(){y(),_.current=0}const T=()=>{_.current=0,S()};return(0,p.useEffect)((()=>{const e=j.current;!e||e.defaultPlaybackRate===b&&e.playbackRate===b||(e.defaultPlaybackRate=e.playbackRate=null!=b?b:1)})),(0,g.useListener)(j.current,"error",C,{capture:!0}),(0,g.useListener)(j.current,"playing",E),(0,p.useEffect)((()=>((l.UA.isGecko||l.UA.isSafari)&&(t||t)&&T(),()=>{var e;null===(e=M.current)||void 0===e||e.call(M),l.UA.isBlink&&j.current&&(0,d.default)(j.current)})),[]),(0,g.useListener)(!l.UA.isGecko&&!l.UA.isSafari||t?null:j.current,"play",T),(0,x.jsxs)("div",{className:e.className,children:[(0,x.jsx)("audio",{ref:e=>{var t;j.current=e,null===(t=M.current)||void 0===t||t.call(M),M.current=null==e?null:o.MainAudioChannel.registerMedia(e),null!=v&&v(e)},className:r.default.audioTag,src:e.url,onClick:e.onClick,controls:e.controls,preload:e.preload,autoPlay:e.autoPlay,children:e.children}),(0,s.receiveReactionsEnabled)()&&(0,x.jsx)(u.default,{msgIds:[e.msg.id.toString()],reactionBubbleType:f.ReactionBubbleType.MEDIA_ITEM})]})};var i=a(n(145095)),o=n(422712),s=n(408139),l=n(26741),r=a(n(59828)),d=a(n(858528)),c=n(662583),u=a(n(752500)),f=n(694270),h=n(765044),p=n(667294),m=a(n(970393)),g=n(587550),x=n(785893)},5577:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{docMsgs:t,chat:n}=e,a=(0,o.default)(e,v),b=(0,g.default)(),_=(0,p.useRef)(null);let j;if((0,m.useListener)(t,"add remove reset query_doc_before",(()=>{var e;null===(e=_.current)||void 0===e||e.forceUpdate()})),(0,s.isMDBackend)()&&n.endOfHistoryTransferType===l.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||n.endOfHistoryTransferType===l.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC){const e=r.Clock.relativeDateStr((0,d.getHistorySyncEarliestDate)());j=(0,x.jsx)(c.default,{theme:"list",secondary:h.fbt._("Use WhatsApp on your phone to see messages from before {date}.",[h.fbt._param("date",e)],{hk:"1jHppk"})})}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.default,(0,i.default)({ref:_,msgsCollection:t,queryCollection:(e,a)=>{b((()=>{t.queryDocs(n,a)}))},hasBefore:t.hasDocBefore,queryBefore:t.queryDocBefore,emptyText:f.default.t(521),chat:n},a)),j]})};var i=a(n(81109)),o=a(n(506479)),s=n(88555),l=n(461957),r=n(40234),d=n(555452),c=a(n(158654)),u=a(n(219593)),f=a(n(914296)),h=n(548360),p=n(667294),m=n(587550),g=a(n(174570)),x=n(785893);const v=["docMsgs","chat"]},561086:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEphemeralSettingRow=b,t.EphemeralSettingRow=function(e){const{chat:t,groupMetadata:n,onClick:a,testid:i}=e;if(n)return(0,g.jsx)(v,{groupMetadata:n,onClick:a,testid:i});return(0,g.jsx)(x,{chat:t,onClick:a,testid:i})};var i=n(227101),o=n(48826),s=n(914597),l=n(113923),r=n(782109),d=n(529805),c=n(779259),u=a(n(914296)),f=a(n(575116)),h=a(n(452665)),p=n(548360),m=n(735461),g=n(785893);const x=function(e){const{onClick:t,testid:n}=e,a=(0,m.useModelValues)(e.chat,["contact","ephemeralDuration"]),i=()=>{var e;return null!==(e=a.ephemeralDuration)&&void 0!==e?e:0},l=()=>{a.contact.addPendingAction((0,o.unblockContact)(a.contact)).then((()=>{t(),s.ModalManager.close()})).catch((()=>{}))},r=()=>{s.ModalManager.close()};return(0,g.jsx)(b,{ephemeralDuration:i(),canChange:!0,onClick:()=>{a.contact.isContactBlocked?s.ModalManager.open((0,g.jsx)(h.default,{onOK:l,okText:u.default.t(626),onCancel:r,cancelText:p.fbt._("Cancel",null,{hk:"H0gNq"}),children:i()?p.fbt._("You can't turn off disappearing messages for this chat unless you unblock this contact.",null,{hk:"o3zdA"}):p.fbt._("You can't turn on disappearing messages for this chat unless you unblock this contact.",null,{hk:"1uAyoI"})})):t()},testid:n})};const v=function(e){var t;const{onClick:n,testid:a}=e,i=(0,m.useModelValues)(e.groupMetadata,["ephemeralDuration","participants"]),o=()=>{s.ModalManager.close()};return(0,g.jsx)(b,{ephemeralDuration:null!==(t=i.ephemeralDuration)&&void 0!==t?t:0,canChange:i.canSetEphemeralSetting(),onClick:()=>{i.canSetEphemeralSetting()?n():s.ModalManager.open((0,g.jsx)(h.default,{onOK:o,okText:p.fbt._("OK",null,{hk:"2KEeHb"}),children:p.fbt._("Only admins can change this setting.",null,{hk:"1NF1gS"})}))},testid:a})};function b(e){const{ephemeralDuration:t,canChange:n,onClick:a,testid:o}=e;let s;s=t>0?n?(0,i.isEphemeral24HDurationEnabled)()?(0,c.getDisappearingMessageDurationString)(t):u.default.t(297):(0,d.isKeepInChatReadEnabled)()?(0,r.getDisappearingMessageExplanationStringKic)(t):(0,c.getDisappearingMessageExplanationString)(t):u.default.t(296);const h=(0,g.jsx)(l.TextSpan,{theme:"title",children:p.fbt._("Disappearing messages",null,{hk:"384ocn"})}),m=(0,g.jsx)(l.TextDiv,{theme:"muted",testid:"chat-dm-settings-item-value",children:s});return(0,g.jsx)(f.default,{side:"chevron",icon:"disappearing",onClick:a,title:h,secondaryTitle:m,testid:o})}},893528:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{linkMsgs:t,chat:n,selectedMessages:a,selectable:M,onMessageSelect:C}=e,E=(0,b.default)(),S=(0,x.useRef)(null);let y;if((0,v.useListener)(t,["add","remove","reset","query_doc_before"],(()=>{var e;null===(e=S.current)||void 0===e||e.forceUpdate()})),(0,v.useListener)(n.msgs,"add bulk_add",(e=>{if(!e)return;const n=[],a=Array.isArray(e)?e:[e];Promise.all(a.map((e=>(e.getLinks().length&&n.push(e),Promise.resolve())))).then((()=>{n.length&&t.add(n)}))})),(0,s.isMDBackend)()&&n.endOfHistoryTransferType===l.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||n.endOfHistoryTransferType===l.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC){const e=r.Clock.relativeDateStr((0,c.getHistorySyncEarliestDate)());y=(0,_.jsx)(u.default,{theme:"list",secondary:g.fbt._("Use WhatsApp on your phone to see messages from before {date}.",[g.fbt._param("date",e)],{hk:"1jHppk"})})}const{linkMsgs:k,chat:T}=e,P=(0,o.default)(e,j);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.default,(0,i.default)({ref:S,msgsCollection:t,queryCollection:(e,a)=>{E((()=>{t.queryLinks(n,a)}))},hasBefore:t.hasLinkBefore,queryBefore:t.queryLinkBefore,messageElements:e=>{const n=[];return t.forEach((t=>{const i=!t.isSentByMe&&t.isGroupMsg;t.getGalleryLinks().forEach(((o,s)=>{o.href!==t.matchedText&&n.push((0,_.jsx)(f.default,{msg:t.safe(),link:o,displayAuthor:i,selectable:M,selectedMessages:a,onMessageSelect:C,onClickMsg:e},`${t.id.toString()}-${s}`))})),t.linkPreview&&n.push((0,_.jsx)(m.default,{msg:t,selectable:M,selectedMessages:a,onMessageSelect:C,displayType:d.DISPLAY_TYPE.GALLERY,onClickMsg:e},t.id.toString()))})),n.reverse(),n},emptyText:p.default.t(523),chat:n},P)),y]})};var i=a(n(81109)),o=a(n(506479)),s=n(88555),l=n(461957),r=n(40234),d=n(705177),c=n(555452),u=a(n(158654)),f=a(n(936576)),h=a(n(219593)),p=a(n(914296)),m=a(n(335563)),g=n(548360),x=n(667294),v=n(587550),b=a(n(174570)),_=n(785893);const j=["linkMsgs","chat"]},936576:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{link:t,displayAuthor:n,selectedMessages:a,onMessageSelect:j,onClickMsg:M}=e,C=(0,b.useModelValues)(e.msg,["body","caption","dir","id","isSentByMe","mediaData","type","rtl","senderObj","star","mediaData","asRevoked","isKept"]),[E,S]=(0,x.useState)(!1),[y,k]=(0,x.useState)((()=>a.isSelected(C.unsafe())));(0,v.useListener)(a,C.id.toString(),(e=>{y!==e&&k(e)}));const T=e.selectable||E?(0,_.jsx)(h.default,{checked:y,onClick:e=>{e&&e.stopPropagation(),j(C.unsafe(),!y)},msgTheme:"gallery"}):null,P=(0,m.Conversation)({mentions:C.mentionMap(),links:C.getLinks(),phoneNumbers:C.getPhoneNumbers(),selectable:true,trusted:C.isTrusted(),fromMe:C.id.fromMe}),w=C.body&&C.body.includes(t.url)?C.body:C.caption,A=n?(0,_.jsx)("div",{className:l.default.author,children:(0,_.jsx)(d.default,{msg:C,contact:C.senderObj})}):null,N=C.getSuspiciousLinks().length>0;return(0,_.jsx)(u.default,{hover:E,onClick:()=>{M(C.unsafe(),!y)},onMouseEnter:E?null:()=>{E||S(!0)},onMouseOver:E?null:()=>{E||S(!0)},onMouseLeave:E?()=>{E&&S(!1)}:null,children:(0,_.jsxs)("div",{className:l.default.msg,children:[(0,_.jsx)(o.default,{transitionName:"delay-leave",children:T}),(0,_.jsx)(p.MessageContainer,{isSentByMe:C.isSentByMe,children:(0,_.jsxs)("div",{className:(0,g.default)(l.default.bubble,{[l.default.hasAuthor]:n,[l.default.hasSuspiciousLinks]:N}),children:[A,(0,_.jsx)(c.SuspiciousLabel,{link:t,displayType:i.DISPLAY_TYPE.GALLERY}),(0,_.jsx)(f.default,{title:t.url,isSentByMe:C.isSentByMe,canonicalUrl:t.domain,displayType:i.DISPLAY_TYPE.GALLERY,star:C.star,kept:C.isKept}),(0,_.jsx)(s.EmojiText,{text:w,selectable:true,className:l.default.text,dirMismatch:C.rtl!==r.default.isRTL(),direction:C.dir,formatters:P})]})})]})})};var i=n(705177),o=a(n(540436)),s=n(965417),l=a(n(808767)),r=a(n(914296)),d=a(n(572655)),c=n(307538),u=a(n(23296)),f=a(n(151845)),h=a(n(820485)),p=n(158827),m=n(374331),g=a(n(294184)),x=n(667294),v=n(587550),b=n(735461),_=n(785893)},188224:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{fullCollection:t,selectedMessages:n,mediaMsgs:a,selectable:l,onMessageSelect:c,theme:g}=e,k=(0,M.useModelValues)(e.chat,["linkCount","docCount","productCount","endOfHistoryTransferType"]),T=(0,_.default)(),P=(0,E.default)();(0,j.useListener)(a,"add query_media_before",(()=>{T()})),(0,j.useListener)(a,"remove",(e=>{n&&n.isSelected(e)&&n.setVal(e,!1),T()})),(0,j.useListener)(a,"reset",(()=>{n&&n.unsetAll(),T()}));const w=function(e,t,n,a,l,d){let c=null;const u=(0,s.default)(e,(e=>-e.t)).filter(y).slice(0,!0===t?e.length:6);return(0,o.default)(u,((e,o)=>{const s=!0!==t?"chatInfo":void 0,u=(0,S.jsx)(f.default,{aspectRatio:d?1.1:1,msg:e,hoverEvent:t,selectable:n,selectedMessages:a,onMessageSelect:l,theme:s,hideableSecondRow:!0!==t&&o>=3&&o<=5},e.id.toString());if(!0!==t)return[u];const m=r.Clock.monthStr(e.t);if(m!==c){c=m;const t=(0,S.jsx)(h.default,{children:m},`header-${e.t}`);return[...(0,i.default)(6,(t=>(0,S.jsx)(p.EmptyCanvas,{},`padding-${e.t}-${t}`))),t,u]}return[u]}))}(a.toArray(),t,l,n,c,"chat-info"===g),A=e=>{a.hasMediaBefore&&P((()=>{a.queryMedia({chat:(0,x.unproxy)(k),msg:e})}))},N=(0,C.default)((e=>{a.hasMediaBefore&&e.scrollTop+d.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&A(a.head())}),100);(0,b.useEffect)((()=>{a.hasMediaBefore&&A()}),[]);const I=r.Clock.relativeDateStr((0,u.getHistorySyncEarliestDate)());return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.MediaGalleryView,{medias:w,mediaCollection:a,fullCollection:t,chat:(0,x.unproxy)(k),onScroll:e=>{N(e.currentTarget)},theme:g}),"chat-info"!==g&&(0,S.jsx)(m.default,{theme:"list",secondary:v.fbt._("Use WhatsApp on your phone to see messages from before {date}.",[v.fbt._param("date",I)],{hk:"1jHppk"})})]})};var i=a(n(498913)),o=a(n(594654)),s=a(n(189734)),l=n(88555),r=n(40234),d=n(941906),c=n(408139),u=n(555452),f=a(n(811858)),h=a(n(973307)),p=n(860263),m=a(n(158654)),g=n(341908),x=n(118146),v=n(548360),b=n(667294),_=a(n(859312)),j=n(587550),M=n(735461),C=a(n(290886)),E=a(n(174570)),S=n(785893);function y(e){return!!(0,c.isMediaGalleryFixEnabled)()||(!(0,l.isMDBackend)()||(0,g.hasThumbnail)(e.mediaData))}},811858:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,hoverEvent:n,selectable:a,onMessageSelect:p,theme:m,selectedMessages:g}=e,[x,v]=(0,u.useState)((()=>!(!g||!g.isSelected(t)))),b=(0,u.useRef)(null);(0,f.useListener)(g,t.id.toString(),(e=>{g&&x!==e&&v(e)}));const _=t.mediaData,j=_.type===s.default.TYPE.IMAGE&&_.renderableUrl?e=>{e.nativeEvent.dataTransfer.setData("text/uri-list",t.mediaData.renderableUrl)}:null;return(0,h.jsx)(r.MediaThumb,{onClick:e=>{if(a&&p)return void p(t,!x);if(_.mediaStage===l.MEDIA_DATA_STAGE.ERROR_MISSING)return void o.ModalManager.open((0,h.jsx)(d.default,{msg:t}));let n;e&&e.stopPropagation();const r=t.id;if(_.isGif||_.type===s.default.TYPE.IMAGE){const e=b.current;n=t=>r.equals(t)&&e?e:null}i.Cmd.mediaViewerModal({msg:(0,c.unproxy)(t),getZoomNode:n})},hoverEvent:n,selectable:a,selected:x,onMessageSelect:p,onDragStart:j,msg:t,theme:m,imgRef:e=>{b.current=e},aspectRatio:e.aspectRatio,hideableSecondRow:e.hideableSecondRow})};var i=n(781572),o=n(914597),s=a(n(502320)),l=n(58668),r=n(341908),d=a(n(320668)),c=n(118146),u=n(667294),f=n(587550),h=n(785893)},973307:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)("div",{className:(0,o.default)(l.container,i.isOSMac&&l.fontWeight500),children:e.children})};var i=n(377144),o=a(n(156720)),s=n(785893);const l={container:{width:"ee0xuasv",marginTop:"opp68qpq",marginEnd:"jnwc1y2a",marginBottom:"brac1wpa",marginStart:"svoq16ka",fontSize:"ovllcyds",color:"mfzfak1c",textTransform:"ofejerhi","@media (max-width: 1024px)":{width:"ndsmr6pb"},"@media (max-width: 800px)":{width:"btsmn2h9"}},fontWeight500:{fontWeight:"hnx8ox4h"}}},341908:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaThumb=function(e){var t;const{msg:n,selectable:a,theme:c,active:w,imgRef:A,containerRef:N,onMessageSelect:I,selected:D=!1,onClick:R,onDragStart:O,preferPreview:L,hideableSecondRow:B}=e,G=(0,M.default)(),U=(0,_.useRef)(null),F=(0,_.useRef)(null),V=(0,_.useRef)(null),[H,q]=(0,_.useState)(!1),[z,Y]=(0,_.useState)(null);(0,E.useModelValues)(n,["isKept","star"]),(0,C.useListener)(n.mediaData,["change:preview","change:mediaStage"],G);(0,_.useEffect)((()=>(null==A||A(U.current),null==N||N(F.current),null==n.mediaData.preview&&null==n.mediaData.fullPreviewData&&(n.mediaData.type!==u.default.TYPE.IMAGE&&n.mediaData.type!==u.default.TYPE.VIDEO||n.downloadMedia({downloadEvenIfExpensive:!1,isUserInitiated:!1,rmrReason:h.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER})),()=>{null==A||A(null),null==N||N(null)})),[]),(0,_.useEffect)((()=>{null==A||A(U.current),null==N||N(F.current)}),[A,N,U,F]);const W=()=>{I&&I(n,!D)},K=()=>{H||q(!0)},X=t=>{if(!0!==e.showTooltip||"viewerFlowTransparent"===c||!(t instanceof HTMLElement))return null;const a=t.offsetWidth;return{menu:(0,y.jsx)(g.default,{msg:n}),anchor:t,dirY:m.DirY.TOP,dirX:m.DirX.CENTER,offsetX:!0===w?.5*-a*.13:0,type:m.MenuType.Tooltip}},[Z,Q]=(0,S.useTimeout)((()=>{var e;V.current&&(e=V.current,Y(X(e)))}),500),$=e=>{var t;H||(e.persist(),q(!0),t=e.target,V.current=t,Z())},J=()=>{H&&(Q(),q(!1),Y(null))},ee=function(e){const{mediaStage:t,preview:n,fullPreviewData:a}=e;switch(t){case f.MEDIA_DATA_STAGE.RESOLVED:case f.MEDIA_DATA_STAGE.PROGRESSIVE_READY:case f.MEDIA_DATA_STAGE.EXISTS:return T.Ready;case f.MEDIA_DATA_STAGE.INIT:return null!=n||null!=a?T.Ready:T.Loading;case f.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:case f.MEDIA_DATA_STAGE.NEED_UPLOAD:return T.NeedsUpload;case f.MEDIA_DATA_STAGE.FETCHING:case f.MEDIA_DATA_STAGE.DECRYPTING:case f.MEDIA_DATA_STAGE.PREPARING:case f.MEDIA_DATA_STAGE.UPLOADING:case f.MEDIA_DATA_STAGE.SENDING:case f.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case f.MEDIA_DATA_STAGE.FINALIZING:case f.MEDIA_DATA_STAGE.REUPLOADING:return T.Loading;case f.MEDIA_DATA_STAGE.NEED_POKE:return T.NeedsPoke;case f.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:case f.MEDIA_DATA_STAGE.ERROR_MISSING:case f.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case f.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:return T.Error}}(n.mediaData);let te;(!0===a||H&&e.hoverEvent)&&(te=(0,y.jsxs)("div",{className:(0,j.default)(k.mediaSelect),children:[(0,y.jsx)("div",{className:(0,j.default)(k.shadeTop,D&&k.shadeTopSelected,ee!==T.Ready&&k.noPointerEvents),onClick:e.onClick}),(0,y.jsx)(p.default,{onChange:W,hover:H,checked:D})]}));const ne=(0,j.default)(k.canvasComponent,"chatInfo"!==c&&k.mediaGalleryThumbnail,"chatInfo"===c&&k.chatInfoDrawerThumbnail,Boolean(B)&&k.hideableSecondRow,("viewerFlow"===c||"viewerFlowTransparent"===c)&&k.viewerFlow,"viewerFlowTransparent"===c&&k.viewerFlowTransparent,Boolean(w)&&k.active),ae=Boolean((0,d.isKeepInChatReadEnabled)()&&n.isKept),ie=n.star?(0,y.jsx)("div",{className:(0,j.default)(k.icon),children:(0,y.jsx)(x.default,{name:"star",width:16,height:15})}):null,oe=ae?(0,y.jsx)("div",{className:(0,j.default)(k.icon),children:(0,y.jsx)(x.default,{name:"keep-in-chat",width:16,height:15})}):null,se=P(n.mediaData),le=z?(0,y.jsx)(v.UIE,{displayName:"MediaThumbTitle",popable:!0,escapable:!0,requestDismiss:()=>{Y(null)},requestRecentFocusOnUnmount:!1,children:(0,y.jsx)(b.default,{tooltip:z})}):null,re={paddingTop:1/(null!==(t=e.aspectRatio)&&void 0!==t?t:1)*100+"%"},de=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.downloadMedia({downloadEvenIfExpensive:e,isUserInitiated:!1,rmrReason:h.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER})};if((0,i.isMediaGalleryFixEnabled)()){let t;switch(ee){case T.Loading:t=(0,y.jsx)(r.MediaThumbLoading,{mediaType:n.mediaData.type});break;case T.NeedsPoke:t=(0,y.jsx)(r.MediaThumbNeedsPoke,{onClick:()=>de(!0)});break;case T.Error:t=(0,y.jsx)(r.MediaThumbError,{onClick:e.onClick,mediaType:n.mediaData.type});break;case T.NeedsUpload:case T.Ready:t=null}return(0,y.jsxs)("div",{ref:F,className:ne,"data-testid":"media-canvas",onMouseOver:K,onMouseEnter:$,onMouseLeave:J,children:[te,(0,y.jsxs)("div",{className:(0,j.default)(k.canvasBody,D&&k.canvasBodySelected),children:[(0,y.jsx)(l.default,{mediaData:n.mediaData}),(0,y.jsx)(s.default,{mediaData:n.mediaData,selected:D}),(0,y.jsxs)("div",{className:(0,j.default)(k.iconsContainer),children:[oe,ie]})]}),(0,y.jsx)(o.default,{downloadMedia:de,onClick:R,onDragStart:O,preferPreview:L,ref:U,msg:n}),le,t,(0,y.jsx)("div",{style:re})]})}return se?(0,y.jsxs)("div",{ref:F,className:ne,"data-testid":"media-canvas",onMouseOver:K,onMouseEnter:$,onMouseLeave:J,children:[te,(0,y.jsxs)("div",{className:(0,j.default)(k.canvasBody),children:[(0,y.jsx)(l.default,{mediaData:n.mediaData}),(0,y.jsx)(s.default,{mediaData:n.mediaData,selected:D}),(0,y.jsxs)("div",{className:(0,j.default)(k.iconsContainer),children:[oe,ie]})]}),(0,y.jsx)(o.default,{downloadMedia:de,onClick:R,onDragStart:O,preferPreview:L,ref:U,msg:n}),le,(0,y.jsx)("div",{style:re})]}):null},t.hasThumbnail=P;var i=n(408139),o=a(n(797665)),s=a(n(305471)),l=a(n(319395)),r=n(990423),d=n(529805),c=n(284866),u=a(n(502320)),f=n(58668),h=a(n(11339)),p=a(n(309275)),m=n(160811),g=a(n(708488)),x=a(n(23217)),v=n(718644),b=a(n(146780)),_=n(667294),j=a(n(156720)),M=a(n(859312)),C=n(587550),E=n(735461),S=n(346428),y=n(785893);const k={noPointerEvents:{pointerEvents:"m62443ks"},iconsContainer:{display:"p357zi0d",position:"lhggkp7q",end:"mf2g8abl",bottom:"lrw9n60e"},icon:{color:"k17s6i4e",pointerEvents:"m62443ks"},shadeTop:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"lniyxyh2",cursor:"ajgl1lbb",backgroundImage:"fwz54z48"},shadeTopSelected:{display:"qibyn6m3"},canvasBody:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"b9fczbqn",boxSizing:"cm280p3y",width:"ln8gz9je",height:"ppled2lx",overflowX:"gfz4du6o",overflowY:"r7fjleex",pointerEvents:"m62443ks",borderTopColor:"rqga0wu5",borderEndColor:"ayqm650w",borderBottomColor:"sb46ev41",borderStartColor:"q8kvkxy1",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopWidth:"fl2x09zf",borderEndWidth:"r2wk4q3o",borderBottomWidth:"nnij903c",borderStartWidth:"lr2nq6lc",transition:"pcik6s50",backgroundImage:"oxe6ytxh"},canvasBodySelected:{borderTopWidth:"c30xqvpq",borderEndWidth:"afj3pimr",borderBottomWidth:"hdjlbwd0",borderStartWidth:"e6y86myk"},mediaGalleryThumbnail:{overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundColor:"fvb4mgxr",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9"},chatInfoDrawerThumbnail:{backgroundColor:"kqvcv5rh",marginEnd:"bugiwsl0",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},mediaSelect:{position:"lhggkp7q",top:"qq0sjtgm",zIndex:"g2bpp9au",boxSizing:"cm280p3y",width:"ln8gz9je",paddingTop:"qomlamqu",paddingStart:"mc6o24uu"},canvasComponent:{position:"g0rxnol2",width:"d0st09ow",marginEnd:"ikc09dv3",marginBottom:"hha4v2jc",overflowX:"gfz4du6o",overflowY:"r7fjleex","@media (max-width: 1024px)":{width:"bazijzwv"},"@media (max-width: 800px)":{width:"n0hkwe29"}},hideableSecondRow:{display:"qibyn6m3","@media (max-width: 1024px)":{display:"s9437i69"},"@media (max-width: 800px)":{display:"g3bgiwf5"}},viewerFlow:{position:"g0rxnol2",boxSizing:"cm280p3y",display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"oxqu41e7",minWidth:"bar07sny",maxWidth:"ttwqun4y",height:"jbydbyre",marginEnd:"ikc09dv3",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",overflowX:"gfz4du6o",overflowY:"r7fjleex",cursor:"ajgl1lbb",opacity:"bs7a17vp",transition:"kvhexry3",":hover":{outline:"pzeoqukz"}},viewerFlowTransparent:{opacity:"eu4m05gk"},active:{borderTop:"jmaq5bi8",borderEnd:"popit0kw",borderBottom:"iur5tn1g",borderStart:"qrr5pbl4",transform:"of0uvz1c",":hover":{outline:"iqk5z7se"}}},T=n(76672).Mirrored(["Loading","Ready","Error","NeedsPoke","NeedsUpload"]);function P(e){if((0,i.isMediaGalleryFixEnabled)())return!0;switch(e.type){case u.default.TYPE.VIDEO:case u.default.TYPE.IMAGE:if(null!=e.preview||null!=e.fullPreviewData||e.mediaStage===f.MEDIA_DATA_STAGE.RESOLVED)return!0;if(c.MediaBlobCache.has(e.filehash)){try{c.MediaBlobCache.getOrCreateURL(e.filehash)}catch(e){return!1}return!0}return!1;default:return!0}}},797665:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(81109)),o=a(n(534949)),s=a(n(220553)),l=a(n(502320)),r=n(58668),d=n(667294),c=a(n(156720)),u=n(785893);const f={blur:{filter:"hddtmpml"},mediaCanvas:{backgroundPosition:"t3g6t33p",backgroundSize:"qnwaluaf",boxSizing:"cm280p3y",cursor:"ajgl1lbb",height:"ppled2lx",left:"tukmaf4q",position:"lhggkp7q",top:"qq0sjtgm",transform:"p5jrpzbl",transition:"g6mp970w",width:"ln8gz9je",zIndex:"jnl3jror"},shade:{background:"d9ddx5tg",bottom:"jxacihee",height:"jdwybkuq",left:"tukmaf4q",pointerEvents:"m62443ks",position:"lhggkp7q",width:"ln8gz9je"}},h=(0,d.forwardRef)(((e,t)=>{let{children:n,className:a,shade:i,url:o,onClick:s,onDragStart:l}=e;const r=!0===i?(0,u.jsx)("div",{className:(0,c.default)(f.shade)}):null,d=null!=o&&""!==o?{backgroundImage:`url(${o})`}:null;return(0,u.jsxs)("div",{className:a,"data-testid":"media-canvas-img",style:d,onClick:s,ref:t,onDragStart:l,draggable:null!=l||null,children:[n,r]})})),p=(0,d.forwardRef)(((e,t)=>{let{mediaData:n,onClick:a,onDragStart:i,shade:s,shouldApplyBlur:l,url:r}=e;return(0,u.jsx)(h,{ref:t,onClick:a,onDragStart:i,className:(0,c.default)(f.mediaCanvas,!!l&&f.blur),shade:s,url:n.preview instanceof o.default?n.preview.url():null,children:null!=r?(0,u.jsx)("div",{className:(0,c.default)(f.mediaCanvas),style:{backgroundImage:`url(${r})`}}):null})}));p.displayName="ImageThumb";const m=(0,d.forwardRef)(((e,t)=>{let{mediaData:n,onClick:a,onDragStart:i,shade:o,shouldApplyBlur:s,url:l}=e;return null!=n.preview?(0,u.jsx)(p,{ref:t,onClick:a,onDragStart:i,mediaData:n}):(0,u.jsx)(h,{ref:t,onClick:a,onDragStart:i,className:(0,c.default)(f.mediaCanvas),shade:o})}));m.displayName="Placeholder";var g=(0,d.forwardRef)(((e,t)=>{let{downloadMedia:n,msg:a,onClick:d,onDragStart:g,preferPreview:x}=e;const{mediaData:v}=a,b={onClick:d,onDragStart:g,ref:t};switch(v.type){case l.default.TYPE.AUDIO:return(0,u.jsx)(h,(0,i.default)((0,i.default)({},b),{},{className:`${(0,c.default)(f.mediaCanvas)} attach-media-audio-thumb`}));case l.default.TYPE.VIDEO:{var _;const e=null==v.fullPreviewData,t=null!==(_=v.fullPreviewData)&&void 0!==_?_:v.preview,n=v.isGif&&!v.preview;return(0,u.jsx)(h,(0,i.default)((0,i.default)({},b),{},{className:`${(0,c.default)(f.mediaCanvas,e&&f.blur)} ${n?"media-video-thumb":""}`,shade:!0,url:t instanceof o.default?t.url():null}))}case l.default.TYPE.IMAGE:const e=null!=v.preview&&v.mediaStage===r.MEDIA_DATA_STAGE.NEED_POKE;return!0===x?(0,u.jsx)(m,(0,i.default)((0,i.default)({},b),{},{mediaData:v,shade:a.star,shouldApplyBlur:e})):(0,u.jsx)("div",{className:(0,c.default)(f.mediaCanvas),children:(0,u.jsx)(s.default,{mediaData:v,placeholderRenderer:()=>(0,u.jsx)(m,(0,i.default)((0,i.default)({},b),{},{mediaData:v,shade:a.star,shouldApplyBlur:e})),renderProgressively:!0,downloadMedia:n,children:t=>(0,u.jsx)(p,(0,i.default)((0,i.default)({},b),{},{mediaData:v,shade:a.star,shouldApplyBlur:e,url:t}))})});default:return(0,u.jsx)(h,(0,i.default)((0,i.default)({},b),{},{shade:a.star}))}}));t.default=g},305471:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{selected:t,mediaData:n}=e;switch(n.type){case o.default.TYPE.AUDIO:return(0,r.jsx)(u,{duration:n.duration,selected:t});case o.default.TYPE.VIDEO:return n.isGif?null:(0,r.jsx)(u,{duration:n.duration,selected:t});default:return null}};var i=n(40234),o=a(n(502320)),s=a(n(294184)),l=a(n(156720)),r=n(785893);const d={position:"lhggkp7q",bottom:"blj1rie1",left:"qwwpii8a",display:"p357zi0d",fontSize:"lak21jic",lineHeight:"bvyb7wbk",color:"pp8r7oc8",pointerEvents:"m62443ks"},c={"@media (min-width: 800px) and (max-width: 999px), (min-width: 1025px) and (max-width: 1180px)":{display:"jyd2w1n8"}};function u(e){let{duration:t,selected:n}=e;const a=i.Clock.durationStr(t);return a?(0,r.jsx)("span",{className:(0,s.default)((0,l.default)(d),{[(0,l.default)(c)]:n}),children:a}):null}},319395:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{mediaData:t}=e;if(!t)return null;const n=function(e){switch(e.type){case i.default.TYPE.AUDIO:return"msg-audio";case i.default.TYPE.VIDEO:return e.isGif?"msg-gif":"msg-video";default:return null}}(t);return null==n?null:(0,l.jsx)("div",{className:(0,s.default)(r),children:(0,l.jsx)(o.default,{name:n})})};var i=a(n(502320)),o=a(n(23217)),s=a(n(156720)),l=n(785893);const r={position:"lhggkp7q",bottom:"lrw9n60e",start:"qzp46edm",color:"k17s6i4e",pointerEvents:"m62443ks"}},990423:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaThumbError=function(e){return(0,l.jsx)("button",{className:(0,s.default)(r),onClick:e.onClick,children:(0,l.jsx)(c,{mediaType:e.mediaType})})},t.MediaThumbLoading=function(e){return(0,l.jsx)("div",{className:(0,s.default)(r),children:(0,l.jsx)(c,{mediaType:e.mediaType})})},t.MediaThumbNeedsPoke=function(e){return(0,l.jsx)("div",{className:(0,s.default)(r),children:(0,l.jsx)(i.Download,{onClick:e.onClick})})};var i=n(341124),o=a(n(23217)),s=a(n(156720)),l=n(785893);const r={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"jnl3jror",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},d={color:"cyi0n1nm"};function c(e){const t="video"===e.mediaType?"video-placeholder":"img-placeholder";return(0,l.jsx)(o.default,{name:t,className:(0,s.default)(d)})}},708488:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:{senderObj:{formattedShortName:t}}}=e;return(0,i.jsx)(a.TextSpan,{children:t})};var a=n(113923),i=n(785893)},219593:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(781572),o=n(705177),s=n(941906),l=n(685600),r=a(n(329796)),d=a(n(335563)),c=n(118146),u=n(667294),f=a(n(156720)),h=a(n(859312)),p=a(n(290886)),m=n(785893);const g={display:"p357zi0d",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"rpvcun8f"};function x(e,t){const{queryBefore:n,hasBefore:a,msgsCollection:x,emptyText:v,scrollOffset:b=0,selectable:_,onMessageSelect:j,queryCollection:M,selectedMessages:C,messageElements:E,onProductDetail:S,setScrollOffset:y}=e,k=(0,h.default)();(0,u.useImperativeHandle)(t,(()=>({forceUpdate:k})));const T=(0,u.useRef)(null),P=e=>{a&&M(e)},w=(0,p.default)((e=>{const t=e.scrollHeight-e.clientHeight-e.scrollTop;a&&t<s.SCROLL_FUDGE&&P(x.head()),y&&y(e.scrollTop)}),100);(0,u.useEffect)((()=>{a&&P();const e=T.current;return e&&(e.scrollTop=b),()=>{w.cancel()}}),[]);const A=(e,t)=>{const n=(0,c.unproxy)(e);_&&void 0!==t?j(n,t):i.Cmd.openChatAt(n.chat,n.chat.getSearchContext(n))},N=E?E(A):x.map(((e,t)=>(0,m.jsx)(d.default,{msg:e,selectable:_,selectedMessages:C,onMessageSelect:j,displayType:o.DISPLAY_TYPE.GALLERY,onClickMsg:A,onProductClick:S},`${e.id.toString()}_${t}`))).reverse();if(n){if(0===N.length)return(0,m.jsx)(l.Loading,{});N.push((0,m.jsx)(r.default,{}))}return 0!==x.length||n||a?(0,m.jsx)("div",{ref:T,onScroll:e=>{w(e.target)},className:(0,f.default)(g),children:N}):(0,m.jsx)(l.Empty,{text:v,testid:"no-elements"})}var v=(0,u.forwardRef)(x);t.default=v},103721:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,g.useModelValues)(e.chat,["isGroup","muteExpiration","archive"]),n=(0,g.useModelValues)(e.mute,["isMuted"]),a=(0,g.useModelValues)(e.settings,["showArchiveV2"]),v=e=>{o.Cmd.muteChat((0,p.unproxy)(t),e)},b=()=>{v(!1),l.ModalManager.close()},_=n.isMuted,j=t.muteExpiration;if(t.archive&&(0,s.archiveV2Supported)()&&a.showArchiveV2)return(0,x.jsx)(r.default,{children:(0,x.jsx)(c.TextSpan,{theme:"muted",size:"16",children:m.fbt._("Archived chats are muted",null,{hk:"31ZVD"})})});const M=_?()=>{const e=t.isGroup?u.default.t(207):u.default.t(206);l.ModalManager.open((0,x.jsx)(h.default,{onOK:b,okText:u.default.t(39),onCancel:()=>l.ModalManager.close(),cancelText:m.fbt._("Cancel",null,{hk:"H0gNq"}),children:e}))}:()=>{v(!0)},C=_?u.default.t(701):m.fbt._("Mute notifications",null,{hk:"2Fm15X"});let E;if(_&&j){const e=i.Clock.untilStr(j);E=(0,x.jsx)(c.TextDiv,{theme:"muted",children:e})}const S=(0,x.jsx)(d.default,{checked:_,onChange:M}),y=(0,x.jsx)(c.TextSpan,{theme:"title",children:C});return(0,x.jsx)(f.default,{icon:"settings-notifications",testid:"block-mute",side:S,onClick:M,title:y,secondaryTitle:E})};var i=n(40234),o=n(781572),s=n(408139),l=n(914597),r=a(n(435721)),d=a(n(303271)),c=n(113923),u=a(n(914296)),f=a(n(575116)),h=a(n(452665)),p=n(118146),m=n(548360),g=n(735461),x=n(785893)},799108:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{productMsgs:t,chat:n}=e,a=(0,o.default)(e,v),b=(0,h.useRef)(null);(0,m.useListener)(t,"add remove reset",(()=>{var e;null===(e=b.current)||void 0===e||e.forceUpdate()}));const _=(0,p.default)();(0,m.useListener)(t,"products_loaded",(()=>{_()}));const j=(0,g.default)();let M;if((0,s.isMDBackend)()&&n.endOfHistoryTransferType===l.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||n.endOfHistoryTransferType===l.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC){const e=r.Clock.relativeDateStr((0,d.getHistorySyncEarliestDate)());M=(0,x.jsx)(c.default,{theme:"list",secondary:f.fbt._("Use WhatsApp on your phone to see messages from before {date}.",[f.fbt._param("date",e)],{hk:"1jHppk"})})}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.default,(0,i.default)({ref:b,msgsCollection:t,queryCollection:e=>j((()=>{t.queryProducts(n,e)})),hasBefore:t.hasProductBefore,queryBefore:t.hasProductBefore?Promise.resolve():null,emptyText:f.fbt._("No products",null,{hk:"8o7dB"}),chat:n},a)),M]})};var i=a(n(81109)),o=a(n(506479)),s=n(88555),l=n(461957),r=n(40234),d=n(555452),c=a(n(158654)),u=a(n(219593)),f=n(548360),h=n(667294),p=a(n(859312)),m=n(587550),g=a(n(174570)),x=n(785893);const v=["productMsgs","chat"]},638261:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{stickerPackId:t,onStickerPackView:n,stickerPackViewDelay:a}=e,h=function(e){(0,c.useEffect)((()=>{e&&r.StickerPackCollectionMd.fetchStickerPack(e)}),[e]);return(0,u.default)(r.StickerPackCollectionMd,"add remove reset",(()=>null!=e?r.StickerPackCollectionMd.get(e):null))}(t);let p;(0,i.isMDBackend)()&&t&&(p=(0,f.jsx)(l.default,{onClick:e=>{e.stopPropagation(),n&&n(),null!=a?setTimeout((()=>o.Cmd.openStickerPack(t)),a+150):o.Cmd.openStickerPack(t)},type:"secondary",children:d.fbt._("View Pack",null,{hk:"tAlU3"})}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.StickerDetailsStickerPackInfo,{name:null==h?void 0:h.name,publisher:null==h?void 0:h.publisher,theme:s.Theme.MediaViewer}),p]})};var i=n(88555),o=n(781572),s=n(610595),l=a(n(39770)),r=n(344333),d=n(548360),c=n(667294),u=a(n(196570)),f=n(785893)},16947:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(914597),o=n(815562),s=a(n(914296)),l=n(965417),r=a(n(832973)),d=a(n(452665)),c=n(756728),u=n(218963),f=n(719380),h=n(548360),p=n(785893);class m extends r.default{constructor(){super(...arguments),this._isGroupParticipant=e=>{var t;const{chat:n}=this.props;return!!(null===(t=n.groupMetadata)||void 0===t?void 0:t.participants.get(e.id))},this.customSecondaryText=e=>{var t;const{chat:n}=this.props;return(null===(t=n.groupMetadata)||void 0===t?void 0:t.participants.get(e))?h.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString():null},this.contactFilter=e=>{const t=this.props.chat.groupMetadata;return!!f.ContactCollection.isFilteredContact(e)&&(!(null==t?void 0:t.participants.get(e.id))||h.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString())},this.confirmAddParticipant=e=>{const{chat:t}=this.props;this.push((0,p.jsx)(d.default,{onOK:this._handleAddParticipant.bind(this,e),okText:h.fbt._({"*":"Add participants",_1:"Add participant"},[h.fbt._plural(e.length)],{hk:"4pSXvk"}),onCancel:this._pop,cancelText:h.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,p.jsx)(l.EmojiText,{text:this._makeNameEnumeration(e,t.contact.name)})}))},this._makeNameEnumeration=(e,t)=>{const n=e.map((e=>e.formattedShortName||e.shortName)).reduce(((t,n,a)=>[...t,n,a!==e.length-1&&s.default.t(257)||""]),[]);return s.default.t(193,{participants:n.join(""),subject:t})},this._handleAddParticipant=e=>{(0,o.addParticipants)(this.props.chat,e).catch((()=>{})),i.ModalManager.close()},this._pop=()=>{this.pop()}}componentDidMount(){this.push((0,p.jsx)(c.SelectModal,{onConfirm:this.confirmAddParticipant,filter:this.contactFilter,title:h.fbt._("Add participant",null,{hk:"48ECfz"}),isDisabled:this._isGroupParticipant,isSelected:this._isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:c.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:u.FooterType.CONFIRM,multipleSelectionFooterType:u.FooterType.CONFIRM,shouldShowSelectionSummary:!1}))}}t.default=m},442237:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,l.useFlow)(d.Chats);if(null==t.step)return null;let n;switch(t.step){case d.Chats:n=(0,r.jsx)(o.default,{settings:s.default,showSettings:()=>{t.push(d.Settings)},onClose:()=>{t.pop()}});break;case d.Settings:n=(0,r.jsx)(i.default,{settings:s.default,onClose:()=>{t.pop()}})}return(0,r.jsx)(e,{flow:t,children:n})};var i=a(n(462921)),o=a(n(923297)),s=a(n(268132)),l=n(159083),r=n(785893);const d=n(76672).Mirrored(["Chats","Settings"])},890727:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(348926)),o=n(374316),s=n(227105),l=a(n(832973)),r=a(n(60453)),d=a(n(69637)),c=n(994790),u=n(493581),f=n(548360),h=n(667294),p=n(785893);class m extends l.default{componentDidMount(){this.push((0,p.jsx)(g,{contactId:this.props.contactId,onClose:this.pop}))}}function g(e){const{contactId:t}=e,[n,a]=(0,h.useState)(void 0),[l,m]=(0,h.useState)(!0);(0,h.useEffect)((()=>{(function(){var e=(0,i.default)((function*(){const e=yield u.BusinessProfileCollection.update(t,{getMerchantCompliance:!0}),n=(Array.isArray(e)?e[0]:e).serialize();n?(a(n.legalEntityDetails||void 0),m(!1)):__LOG__(3)`compliance: cannot fetch business details (${t.toString()})`}));return function(){return e.apply(this,arguments)}})()()}),[]);const{entityName:g,customerCareDetails:x,grievanceOfficerDetails:v}=null!=n?n:{},b=(0,o.getEntityTypeText)(n);return(0,p.jsxs)(r.default,{theme:"striped",children:[(0,p.jsx)(c.DrawerHeader,{title:f.fbt._("Business details",null,{hk:"m9xzp"}),type:c.DRAWER_HEADER_TYPE.SMALL,onCancel:e.onClose}),(0,p.jsx)(d.default,{theme:l?"center-content":void 0,children:l?(0,p.jsx)(s.ComplianceInfoLoading,{}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(s.ComplianceInfoGroup,{children:[(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:g,label:f.fbt._("Legal Name of Business",null,{hk:"2s9jD"})}),(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:b,label:f.fbt._("Business Type",null,{hk:"48J73B"})})]}),(0,p.jsxs)(s.ComplianceInfoGroup,{title:f.fbt._("Customer Care Information",null,{hk:"qlYos"}),children:[(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:null==x?void 0:x.mobileNumber,label:f.fbt._("Mobile Phone Number",null,{hk:"PMTTg"}),forceLTR:!0}),(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:null==x?void 0:x.landlineNumber,label:f.fbt._("Landline Phone Number",null,{hk:"tXYaf"}),forceLTR:!0}),(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:null==x?void 0:x.email,label:f.fbt._("Email Address",null,{hk:"2jYxR1"})})]}),(0,p.jsxs)(s.ComplianceInfoGroup,{title:f.fbt._("Grievance Officer Information",null,{hk:"3emd7I"}),children:[(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.name,label:f.fbt._("Name",null,{hk:"2vEs6r"})}),(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.mobileNumber,label:f.fbt._("Mobile Phone Number",null,{hk:"3kk5I"}),forceLTR:!0}),(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.landlineNumber,label:f.fbt._("Landline Phone Number",null,{hk:"4GBzF0"})}),(0,p.jsx)(s.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.email,label:f.fbt._("Email Address",null,{hk:"3SvbLl"})})]})]})})]},"merchant-details-modal")}t.default=m},704782:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(81109)),o=n(88555),s=a(n(706996)),l=n(173679),r=n(781572),d=n(141455),c=n(408139),u=n(914597),f=n(871579),h=n(665397),p=n(669393),m=n(56080),g=n(474315),x=n(529805),v=a(n(11339)),b=a(n(7532)),_=n(277975),j=n(397567),M=n(409153),C=a(n(54414)),E=n(919829),S=a(n(170107)),y=n(679188),k=a(n(754050)),T=n(11395),P=a(n(277776)),w=n(755800),A=a(n(832973)),N=n(388280),I=n(274429),D=n(682364),R=n(349376),O=a(n(574328)),L=a(n(537380)),B=a(n(748204)),G=a(n(896464)),U=a(n(443250)),F=n(427394),V=a(n(130305)),H=a(n(739911)),q=a(n(669824)),z=a(n(181871)),Y=n(308059),W=n(362632),K=n(785893);class X extends A.default{constructor(){super(...arguments),this._scrollOffset=0,this._setScrollOffset=e=>{this._scrollOffset=e},this._handleProductDetail=(e,t)=>{const{chat:n}=this.props,a=(0,K.jsx)(S.default,{chat:n,collectionId:t,product:e,onEnd:this._end,onBack:this._popAndUpdate,refreshCarousel:!1,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(a)},this._handleProductDetailFromInfo=e=>{const t=(0,K.jsx)(y.ProductDetailsWithDeepLink,{chat:this.props.chat,productInfo:e,onEnd:this._end,onBack:this._pop,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(t)},this._handleCollectionSeeAll=e=>{const t=this.props.chat.id;this.push((0,K.jsx)(E.CollectionContentDrawer,{contact:this.props.chat.contact,onProductDetail:this._handleProductDetail,catalogId:t,onBack:this._pop,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,collection:e}))},this._handleProductLinkClick=e=>{this.push((0,K.jsx)(k.default,{product:e,onBack:this._pop}))},this._handleProductMoreInformation=e=>{const t=(0,K.jsx)(P.default,{product:e,onBack:this._popAndUpdate});this.push(t)},this._handleCatalogLinkClick=(e,t)=>{this.push((0,K.jsx)(b.default,{catalog:e,contact:t,onBack:this._pop}))},this._handleCartClick=e=>{const t=(0,j.getProductCatalogContext)(this.props.context),n=(0,s.default)(e,this.props.chat,t);n&&this.push(n)},this.pushProductCatalog=()=>{const{chat:e}=this.props,t=(0,c.canViewCollections)()?(0,K.jsx)(C.default,{contact:e.contact,onProductDetail:this._handleProductDetail,catalogId:e.id,onBack:this._pop,businessProfile:e.contact.businessProfile,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,onCollectionSeeAll:this._handleCollectionSeeAll}):(0,K.jsx)(T.ProductListDrawer,{contact:e.contact,onProductDetail:this._handleProductDetail,catalogId:e.id,onBack:this._pop,businessProfile:e.contact.businessProfile,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick});this.push(t)},this._handleProductCatalog=(e,t)=>{const n=this.props.chat.id;(0,c.canViewCollections)()&&p.QPL.markerStart(h.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:t}}}),(0,_.logCarouselViewMoreClick)({catalogOwnerWid:n,catalogContext:e}),this.pushProductCatalog(n)},this._handleProductCatalogHeaderClick=(e,t)=>{(0,_.logCarouselViewMoreClick)({catalogOwnerWid:e,catalogContext:t}),this._handleProductCatalog(t,"ProductCatalogHeader")},this._handleStarred=()=>{const e=(0,K.jsx)(D.StarredDrawerLoadable,{chat:this.props.chat,starredMsgs:this.props.chat.getStarredMsgs(),onClose:this._pop});this.push(e)},this._handleKept=()=>{this.push((0,K.jsx)(z.default,{chat:this.props.chat,keptMsgs:this.props.chat.getKeptMsgs(),onClose:this._pop}))},this._handleAdminSetting=()=>{const{chat:e}=this.props,t=(0,K.jsx)(q.default,{chat:e,groupMetadata:e.groupMetadata,onClose:this._pop});this.push(t)},this._handleContactCard=()=>{this.push((0,K.jsx)(G.default,{chat:this.props.chat,onClose:this._pop}))},this._handleMediaGallery=()=>{const e=(0,K.jsx)(Y.MediaGalleryDrawer,{chat:this.props.chat,onBack:this._pop,onProductDetail:this._handleProductDetail,setProductsScrollOffset:this._setScrollOffset});this.push(e)},this._handleGroupInviteLink=()=>{const{chat:e}=this.props;if((0,l.isInviteGrowthLockedGroup)(e)){var t;const n=!!(null===(t=e.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin());return void(0,w.openGrowthLockedModal)(n,!0)}const n=(0,K.jsx)(N.GroupInviteLinkDrawerLoadable,{chat:this.props.chat,groupMetadata:e.groupMetadata,onBack:this._pop});this.push(n)},this._pop=()=>{this.pop()},this._popAndUpdate=()=>{this.popAndUpdate({initialTab:Y.TABS.PRODUCTS,productsScrollOffset:this._scrollOffset})},this._end=()=>{this.end(!0)},this._handleVerification=e=>{const t=e||this.props.chat.contact,n=(0,K.jsx)(R.VerificationDrawerLoadable,{contact:t,onClose:this._pop,isFirstLevel:!1});this.push(n)},this._handleLiveLocation=()=>{const e=(0,K.jsx)(I.LiveLocationDrawerLoadable,{chat:this.props.chat,onClose:this._pop});this.push(e)},this._handleDDMSettingsClick=e=>{this.push((0,K.jsx)(U.default,{onClose:this._pop,entryPoint:e}))},this._handleEphemeral=()=>{const{chat:e}=this.props,t=e.isGroup?v.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:v.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING,n=(0,K.jsx)(V.default,{chat:e,showNux:(0,g.shouldShowNUX)(f.NUX.EPHEMERAL),entryPoint:v.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_INFO,onClose:this._pop,onCloseNux:()=>this.push(n),onDDMSettingsClick:()=>this._handleDDMSettingsClick(t)});(0,g.shouldShowNUX)(f.NUX.EPHEMERAL)&&(0,x.isKeepInChatReadEnabled)()?u.ModalManager.open((0,K.jsx)(H.default,{chat:e,fromMe:!0,onOk:()=>this.push(n)})):this.push(n)},this._handleCommunityClick=()=>{var e;const t=null===(e=this.props.chat.groupMetadata)||void 0===e?void 0:e.parentGroup;t&&r.Cmd.communityHome(t,!0)}}componentDidMount(){const e=this._handleStarred,t=this._handleMediaGallery,n=this.props.chat;n.isGroup?((0,o.isMDBackend)()&&(0,m.queryAndUpdateGroupMetadataById)(n.id,"interactive"),this.push((0,K.jsx)(B.default,{chat:n,showFullGroupDescription:this.props.showFullGroupDescription,scrollToParticipantList:this.props.scrollToParticipantList,groupMetadata:n.groupMetadata,contact:n.contact,profilePicThumb:n.contact.getProfilePicThumb(),onVerification:this._handleVerification,onStarred:e,onKept:this._handleKept,onMediaGallery:t,onAdminSetting:this._handleAdminSetting,onGroupInviteLink:this._handleGroupInviteLink,onLiveLocation:this._handleLiveLocation,onEphemeral:this._handleEphemeral,onCommunityClick:this._handleCommunityClick,onClose:this._pop}))):n.isBroadcast?this.push((0,K.jsx)(O.default,{chat:n,contact:n.contact,onStarred:e,onMediaGallery:t,onClose:this._pop})):n.isUser&&(n.contact.isBusiness&&(0,c.canSeeBizProfileV3)()&&d.DrawerManager.setDrawerContext("right",(0,j.buildProductCatalogContext)(new M.ProductCatalogSession,(0,W.getMaybeBizPlatformForLogging)(n.contact.id.toString()),v.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE)),this.push((0,K.jsx)(L.default,{contact:n.contact,onVerification:this._handleVerification,onStarred:e,onKept:this._handleKept,onContactCard:this._handleContactCard,onMediaGallery:t,onProductCatalog:this._handleProductCatalog,onProductDetail:this._handleProductDetail,onLiveLocation:this._handleLiveLocation,onEphemeral:this._handleEphemeral,onClose:this._pop,profileEntryPoint:this.props.profileEntryPoint})))}}t.default=e=>(0,K.jsx)(F.DrawerContext.Consumer,{children:t=>(0,K.jsx)(X,(0,i.default)({context:t},e))})},312642:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{msg:n,highlightedMsgIds:a}=e,A=(0,P.default)(),N=(0,T.default)(),I=(0,M.default)(),D=(0,C.default)((()=>n.type===u.MSG_TYPE.IMAGE?new g.default.UiAction({uiActionType:g.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:n.mediaData.mediaStage===p.MEDIA_DATA_STAGE.RESOLVED}):null)),R=(0,C.default)((()=>(0,l.constructMediaMsgs)(n.chat,n))),O=R.current.length,L=(0,S.default)(O),B=(0,j.useRef)(null),G=(0,j.useRef)(),U=(0,j.useRef)(),F=(0,j.useRef)(null),V=(0,j.useRef)(null),H=(0,j.useRef)(null),[q,z]=(0,j.useState)(n),[Y,W]=(0,j.useState)(!1),[K,X]=(0,j.useState)(!0),Z=(0,S.default)(q),Q=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=V.current,n=H.current,a=F.current;if(!t||!n||!a)return;let i=0;a instanceof HTMLElement&&(i=a.clientWidth/2-t.clientWidth/2),(0,f.default)(n,"stop");let o=0;e&&(o=300),(0,f.default)(a,"scroll",{duration:o,container:n,offset:i,axis:"x",easing:[.1,.82,.25,1]})},$=e=>{if(!e)return!0;const{isViewOnce:t,isStickerMsg:n}=e;return!t&&!n};(0,j.useEffect)((()=>{var e;Q(),$(n)&&(e=V.current)&&(0,f.default)(e,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}).then((()=>{A.aborted||X(!1)}))}),[]),(0,j.useEffect)((()=>{(0,d.isMediaGalleryFixEnabled)()&&O>(null!=L?L:0)&&Q()}));const J=e=>{N((()=>{R.current.loadMoreAroundIfNeeded(e)})),z(e)},ee=e=>{if(e&&e.stopPropagation(),Y)return;const t=q;if(!t)return;let a=null;for(a=R.current.getAfter(t);(null===(i=a)||void 0===i?void 0:i.mediaData)&&!(0,v.hasThumbnail)(a.mediaData);){var i;a=R.current.getAfter(a)}a?J(a):R.current.hasMediaAfter&&(G.current||(G.current=R.current.queryMedia({chat:n.chat,msg:n,direction:"after"}).then((e=>{A.aborted||"number"==typeof e.length&&e.length>0&&q===n&&ee()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{G.current=null}))))},te=e=>{if(e&&e.stopPropagation(),Y)return;const t=q;if(!t)return;let a=null;for(a=R.current.getBefore(t);(null===(i=a)||void 0===i?void 0:i.mediaData)&&!(0,v.hasThumbnail)(a.mediaData);){var i;a=R.current.getBefore(a)}a?J(a):R.current.hasMediaBefore&&(U.current||(U.current=R.current.queryMedia({chat:n.chat,msg:n,direction:"before"}).then((e=>{A.aborted||"number"==typeof e.length&&e.length>0&&q===n&&te()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{U.current=null}))))};let ne=null;n.type===u.MSG_TYPE.IMAGE&&(ne=()=>{const e=D.current;var t;e&&(Object.assign(e,(0,m.getGroupCountMetricsFromChatWid)(null===(t=n.chat)||void 0===t?void 0:t.id)),e.markUiActionT(),e.commit(),D.current=null);(0,x.logUiActionShadowPrivateStatsTestEvents)()});const ae=()=>{c.ModalManager.closeMedia()},ie=(0,y.default)((()=>{z(null),ae()})),oe=(null==q?void 0:q.isViewOnce)||(null==q?void 0:q.isStickerMsg);(0,E.useListener)(oe?q:null,"revoked",ie);const se=oe?null:R.current;(0,E.useListener)(se,"remove",((e,t,a)=>{const i=R.current,s=q;if(i.includes(n)||null!=s&&null!=s.id&&s.id.toString()!==e.id.toString())return void I();const l=a.index;0===i.length?ae():i.length===l?J((0,o.default)(i.at(l-1),"mediaMsgs.at(index - 1)")):J((0,o.default)(i.at(l),"mediaMsgs.at(index)"))})),(0,E.useListener)(se,"reset",(()=>{ae()})),(0,E.useListener)(se,"query_media_after",(()=>{I()})),(0,E.useListener)(se,"query_media_before",(()=>{const e=H.current;e&&(B.current=e.scrollWidth,e instanceof HTMLElement&&I())})),(0,E.useListener)(window,"keydown",(e=>{if(e.defaultPrevented)return;const t=h.default.isRTL();e.keyCode===i.default.LEFT?t?ee():te():e.keyCode===i.default.RIGHT&&(t?te():ee())})),(0,j.useEffect)((()=>{N((()=>{q&&R.current.loadMoreAroundIfNeeded(q)}))}),[q,R,N]),(0,j.useEffect)((()=>{if(Z!==q)Q(!0);else{const e=H.current;if(!e||null==B.current||0===B.current)return;e instanceof HTMLElement&&(e.scrollLeft+=e.scrollWidth-B.current),B.current=null}}),[q,Z]);const le=(0,k.default)(((e,t,n)=>{if(0!==t.length&&null!=n){if(t.hasMediaBefore&&n<e.clientWidth){const e=(0,o.default)(t.head(),"mediaMsgs.head()");N((()=>{t.queryMedia({chat:e.chat,msg:e}),I()}))}if(t.hasMediaAfter&&n+r.SCROLL_FUDGE>e.scrollWidth-2*e.clientWidth){const e=(0,o.default)(t.last(),"mediaMsgs.last()");N((()=>{t.queryMedia({chat:e.chat,msg:e,direction:"after"}),I()}))}}}),100);if(!q)return null;const re=R.current,de=re.last(),ce=re.hasMediaAfter||q!==de?ee:null,ue=re.head();let fe=null;fe=re.hasMediaBefore||q!==ue?te:null,(0,s.isMDBackend)()&&(fe=re.hasMediaBefore||q!==ue?te:null);return(0,w.jsxs)("div",{className:Y?"img-zoomed-in":null,children:[$(q)&&(0,w.jsx)(_.default,{activeMsg:q,mediaMsgs:R.current,highlightedMsgIds:e.highlightedMsgIds,onSelectThumb:J,onSetActiveThumb:e=>{F.current=e},onScroll:e=>{le(e.currentTarget,R.current,e.currentTarget.scrollLeft)},setRefThumbsContainer:e=>{V.current=e},setRefThumbs:e=>{H.current=e}}),(0,w.jsx)(b.default,{msg:q,mediaData:q.mediaData,onBack:ae,onExitAnimation:()=>{var e;$(n)&&(e=V.current)&&(0,f.default)(e,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},onNext:ce,onPrev:fe,onImgZoomIn:e=>{W(e)},getZoomNode:e.getZoomNode,startTime:e.startTime,isAnimatingIn:K,onImageLoad:ne,msgIndexInAlbum:(()=>{let e=-1;if(!a||!q)return e;const t=q.id.toString();if(!a.has(t))return e;let n=0;return a.forEach((a=>{a===t&&(e=n),n++})),e})(),albumSize:(null===(t=e.highlightedMsgIds)||void 0===t?void 0:t.size)||0})]})};var i=a(n(757538)),o=a(n(145095)),s=n(88555),l=n(716055),r=n(941906),d=n(408139),c=n(914597),u=n(115461),f=a(n(462831)),h=a(n(914296)),p=n(58668),m=n(542515),g=a(n(11339)),x=n(407595),v=n(341908),b=a(n(747186)),_=a(n(838781)),j=n(667294),M=a(n(859312)),C=a(n(616223)),E=n(587550),S=a(n(837453)),y=a(n(389113)),k=a(n(290886)),T=a(n(174570)),P=a(n(803409)),w=n(785893)},871428:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendContactsModalLoadable=void 0;var i=a(n(348926)),o=a(n(650860)),s=a(n(815334)),l=n(548360),r=a(n(268356)),d=n(785893);const c=(0,s.default)((0,i.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,405969))).default})),"SendContactsModal");t.requireBundle=c;const u=(0,r.default)({loader:c,loading:e=>(0,d.jsx)(o.default,{title:l.fbt._("Send contacts",null,{hk:"9ZMyz"}),error:Boolean(e.error)})});t.SendContactsModalLoadable=u},923297:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(227101),o=n(88555),s=n(781572),l=a(n(352013)),r=n(408139),d=n(871579),c=a(n(540436)),u=a(n(60453)),f=a(n(69637)),h=n(994790),p=a(n(914296)),m=n(865511),g=n(160811),x=n(471174),v=n(685600),b=n(429623),_=n(729424),j=n(747915),M=a(n(630855)),C=n(646346),E=a(n(188406)),S=a(n(23217)),y=n(113923),k=n(188172),T=n(669951),P=n(448285),w=n(548360),A=n(667294),N=a(n(156720)),I=a(n(616223)),D=n(587550),R=n(735461),O=a(n(259732)),L=a(n(955010)),B=n(785893);const G={borderBottom:"qmxv8cnq"},U={marginTop:"csxx893n",color:"fsk8o631"},F={paddingEnd:"lk91ofgv",paddingBottom:"przvwfww",paddingStart:"s9xya5d7",paddingTop:"t6dtdvhe",fontWeight:"hnx8ox4h",textAlign:"qfejxiq4"},V={marginTop:"iin4x6c7",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"},H={paddingTop:"i5tg98hk",paddingEnd:"j2yjyrsv",paddingBottom:"q1tx93la",paddingStart:"quywxd7h",color:"pm5hny62",textAlign:"qfejxiq4"},q={position:"lhggkp7q",top:"rf8kfq28",end:"i7sa5vq0",color:"cs9t9or5"},z={overflowX:"gfz4du6o",overflowY:"r7fjleex"};function Y(e,t){const{onClose:n}=e,a=()=>T.ChatCollection.filter((e=>e.archive&&e.shouldAppearInList)),Y=(0,R.useModelValues)(e.settings,["showArchiveV2","archive"]),W=(0,I.default)((()=>new M.default)),K=(0,I.default)((()=>new E.default([],(e=>e.id.toString())))),X=(0,A.useRef)(null),[Z,Q]=(0,A.useState)(!1),[$,J]=(0,A.useState)(a),ee=()=>(0,r.archiveV2Supported)()&&Y.showArchiveV2;(0,D.useListener)(T.ChatCollection,[ee()?"sort":null,"change:archive","add","remove"].filter(Boolean),(()=>{J(a())}));const te=e=>{K.current.setVal(e,!1)};(0,D.useListener)(s.Cmd,"close_chat",(e=>{e===K.current.getVal()&&K.current.unset()})),(0,D.useListener)(s.Cmd,"update_chatlist_selection",te);const[ne,ae,ie]=(0,O.default)(d.NUX.ARCHIVE),oe=()=>{const e=T.ChatCollection.some((e=>e.archive));return ee()&&e&&ne&&!Z};(0,A.useEffect)((()=>{if(ee()&&(0,i.isElevatedImportantMessageEnabled)()){const e=a(),t=new Map;e.forEach((e=>{e.archiveAtMentionViewedInDrawer=!0,t.set(e.id.toString(),!0)})),(0,P.updateChatArchiveDrawer)(t)}X.current&&l.default.focus(X.current);const e=T.ChatCollection.toArray().find((e=>e.active&&e.archive));e&&te(e)}),[]),(0,L.default)((()=>{oe()&&ae()}));const se=()=>{n()},le=(e,t)=>{s.Cmd.openChatFromUnread(t).then((e=>{e&&k.ComposeBoxActions.focus(t)})),(0,r.archiveV2Supported)()&&Y.archive.enabled||se()},re=e=>{e.preventDefault(),e.stopPropagation(),K.current.setNext(!0)},de=e=>{e.preventDefault(),e.stopPropagation(),K.current.setPrev(!0)},ce=()=>{ie(),Q(!0)};let ue,fe;K.current.init($,!0),oe()&&(ue=(0,B.jsxs)("div",{className:(0,N.default)(G),children:[(0,B.jsxs)(b.FlexColumn,{align:"center",children:[(0,B.jsx)("span",{className:(0,N.default)(U),children:(0,B.jsx)(S.default,{name:"archive-nux"})}),(0,B.jsx)("div",{className:(0,N.default)(F),children:(0,B.jsx)(y.Text,{theme:"large",as:"h1",children:w.fbt._("Archived chats will stay archived",null,{hk:"3dEGG"})})}),(0,B.jsx)("div",{className:(0,N.default)(V),children:(0,B.jsx)("div",{className:(0,N.default)(H),children:(0,B.jsx)(y.Text,{theme:"plain",as:"p",children:(0,o.isMDBackend)()?w.fbt._("To reduce interruptions, archived chats will stay here with notifications turned off. To change this experience, go to Settings > Chats on your phone.",null,{hk:"1VSdJQ"}):w.fbt._("To reduce interruptions, archived chats will stay here with notifications turned off. To change this experience, go to Settings > Archived Chats.",null,{hk:"1gz2m1"})})})})]}),(0,B.jsx)("button",{onClick:ce,className:(0,N.default)(q),children:(0,B.jsx)(S.default,{name:"x-alt"})})]})),fe=$.length>0?(0,B.jsxs)(_.HotKeys,{ref:X,handlers:{down:re,up:de},children:[(0,B.jsx)(c.default,{transitionName:"slide",children:ue}),(0,B.jsx)(j.FlatList,{className:(0,N.default)(z),data:$.map((e=>({itemKey:e.id.toString(),chat:e}))),flatListController:W.current,direction:"vertical",renderItem:e=>(0,B.jsx)(m.Chat,{chat:e.chat,mode:m.Mode.LAST,active:K.current,onClick:le,hideArchivedIcon:(0,r.archiveV2Supported)()&&Y.archive.enabled,hideMuteIcon:ee(),hideMuteOption:ee(),ephemeralIcon:"chat-list"})})]}):(0,B.jsx)(v.Archived,{});const he=(0,o.isLegacyWebdBackend)()&&(0,r.archiveV2Supported)()&&Y.archive.enabled?(0,B.jsx)(C.MenuBarItem,{testid:"archived-menu",icon:(0,B.jsx)(S.default,{name:"menu"}),title:p.default.t(454),children:(0,B.jsx)(g.Dropdown,{type:g.MenuType.DropdownMenu,flipOnRTL:!0,dirX:g.DirX.LEFT,children:(0,B.jsx)(x.DropdownItem,{testid:"open-archive-settings menu-item",action:e.showSettings,children:w.fbt._("Archive settings",null,{hk:"1YI0jC"})})},"ArchivedDrawerHeader")}):null,pe=(0,r.archiveV2Supported)()&&Y.archive.enabled?w.fbt._("Archived",null,{hk:"3HjzQg"}):p.default.t(136);return(0,B.jsxs)(u.default,{ref:t,theme:"archived",children:[(0,B.jsx)(h.DrawerHeader,{title:pe,onBack:se,type:h.DRAWER_HEADER_TYPE.LARGE,menu:he}),(0,B.jsx)(f.default,{flatListControllers:[W.current],children:fe})]})}var W=(0,A.forwardRef)(Y);t.default=W},962138:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=function(e){switch(e.verifiedLevel){case u.VERIFIED_LEVEL.HIGH:return e.name===e.verifiedName?s.default.t(693,{businessName:e.verifiedName}):s.default.t(694,{businessName:e.verifiedName});case u.VERIFIED_LEVEL.LOW:case u.VERIFIED_LEVEL.UNKNOWN:return f.fbt._("This may be a business. WhatsApp hasn't verified their name yet.",null,{hk:"404mUL"})}}((0,h.useModelValues)(e.contact,["name","verifiedLevel","verifiedName","formattedName"])),n=(0,p.jsx)(l.default,{href:(0,i.getBusinessFaqUrl)(),onClick:g,children:s.default.t(397)});return(0,p.jsxs)(c.default,{onOK:m,okText:s.default.t(531),children:[(0,p.jsx)(r.EmojiText,{text:t})," ",n]})};var i=n(221310),o=n(914597),s=a(n(914296)),l=a(n(499360)),r=n(965417),d=n(912591),c=a(n(452665)),u=n(393170),f=n(548360),h=n(735461),p=n(785893);const m=()=>{o.ModalManager.close()},g=e=>{e.preventDefault(),o.ModalManager.close("none"),setTimeout((()=>(0,d.openExternalLink)((0,i.getBusinessFaqUrl)())),10)}},100955:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t}=e;const{verifiedLevel:n,verifiedName:a}=(0,b.useModelValues)(t,["verifiedLevel","verifiedName"]),j=(0,i.getBusinessFaqUrl)(),M=!g.Conn.isSMB;(0,v.useEffect)((()=>{M&&new d.default.BannerEvent({bannerType:d.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:d.default.BANNER_OPERATIONS.SHOWN}).commit()}),[M]);const C=n===m.VERIFIED_LEVEL.HIGH?r.default.t(835,{businessName:a}):x.fbt._("This business uses WhatsApp Business, which allows them to add their opening hours, address, website and catalog of products or services.",null,{hk:"82W5f"});return(0,_.jsxs)(p.default,{title:x.fbt._("About WhatsApp Business",null,{hk:"3XF5gx"}),onOK:()=>{o.ModalManager.close(),M&&new d.default.BannerEvent({bannerType:d.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:d.default.BANNER_OPERATIONS.DISMISS}).commit()},okText:x.fbt._("OK",null,{hk:"2KEeHb"}),children:[(0,_.jsx)(u.EmojiText,{text:C})," ",(0,_.jsx)(c.default,{href:j,onClick:e=>{e.preventDefault(),o.ModalManager.close(),setTimeout((()=>(0,f.openExternalLink)(j)),10)},children:r.default.t(397)}),M&&(0,_.jsx)("div",{className:s.default.footerNote,children:(0,_.jsxs)(h.TextSpan,{theme:"muted",size:"13",children:[x.fbt._("If you’re a business, the free WhatsApp Business app can help.",null,{hk:"3gfQun"}),(0,_.jsx)("br",{}),(0,_.jsx)(c.default,{onClick:e=>{e.preventDefault(),o.ModalManager.close(),new d.default.BannerEvent({bannerType:d.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:d.default.BANNER_OPERATIONS.CLICK}).commit(),setTimeout((()=>o.ModalManager.open((0,_.jsx)(l.SmbAppUpsellModal,{}))),200)},className:s.default.getTheAppLink,children:x.fbt._("Learn about getting the app",null,{hk:"3ncguo"})})]})})]})};var i=n(221310),o=n(914597),s=a(n(585845)),l=n(870593),r=a(n(914296)),d=a(n(11339)),c=a(n(499360)),u=n(965417),f=n(912591),h=n(113923),p=a(n(452665)),m=n(393170),g=n(317239),x=n(548360),v=n(667294),b=n(735461),_=n(785893)},870593:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SmbAppUpsellModal=function(){return(0,h.jsxs)(u.default,{title:f.fbt._("WhatsApp Business app",null,{hk:"4BfvOl"}),onOK:()=>{new l.default.BannerEvent({bannerType:l.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:l.default.BANNER_OPERATIONS.DISMISS}).commit(),i.ModalManager.close()},okText:f.fbt._("Close",null,{hk:"19Jpec"}),children:[(0,h.jsx)(o.default,{}),(0,h.jsx)("p",{children:(0,h.jsx)(d.EmojiText,{text:f.fbt._("If you’re a business, you can benefit from switching to the free WhatsApp Business app. It has tools to connect with customers and manage messages.",null,{hk:"40fyU7"})})}),(0,h.jsx)("br",{}),(0,h.jsxs)("p",{children:[(0,h.jsx)(d.EmojiText,{text:f.fbt._("Scan this code to get the WhatsApp Business App. Or, you can install it from the App Store or Google Play Store.",null,{hk:"2840mD"})})," ",(0,h.jsx)(r.default,{href:p,onClick:e=>{e.preventDefault(),i.ModalManager.close(),setTimeout((()=>(0,c.openExternalLink)(p)),10)},children:s.default.t(397)})]})]})},t.WHATSAPP_BUSINESS_URL=void 0;var i=n(914597),o=a(n(905242)),s=a(n(914296)),l=a(n(11339)),r=a(n(499360)),d=n(965417),c=n(912591),u=a(n(452665)),f=n(548360),h=n(785893);const p="https://www.whatsapp.com/business";t.WHATSAPP_BUSINESS_URL=p},905242:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,d.useRef)(null),t=(0,d.useRef)(null),{theme:n}=(0,d.useContext)(l.ThemeContext),a="dark"===n;return(0,d.useEffect)((()=>(null!=e.current&&(t.current=new o.default(e.current,{text:"https://www.whatsapp.com/business/download",colorDark:"#122e31",colorLight:"#ffffff",width:i.QR_EDGE/2,height:i.QR_EDGE/2,typeNumber:4,correctLevel:o.default.CorrectLevel.H})),()=>{null!=t.current&&(t.current.clear(),t.current=null,e.current=null)})),[a]),(0,c.jsx)("div",{className:s.default.wrapper,children:(0,c.jsx)("div",{ref:e,className:(0,r.default)(s.default.code,{[s.default.codeDarkMode]:a}),children:(0,c.jsx)(u,{theme:n})})})};var i=n(941906),o=a(n(637360)),s=a(n(202256)),l=n(597628),r=a(n(294184)),d=n(667294),c=n(785893);function u(){return(0,c.jsx)("div",{className:s.default.codeLogo,children:(0,c.jsx)("svg",{width:"100%",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M42.6776 42.6779C37.9558 47.3997 31.6777 50.0001 24.9999 50.0001C21.0047 50.0001 17.0541 49.0389 13.5244 47.2141L0.601068 49.3339L2.72832 36.3645C0.941278 32.8647 0 28.9525 0 25.0001C0 18.3223 2.60042 12.0443 7.32229 7.32237C12.0442 2.6005 18.3221 0 24.9999 0C31.6777 0 37.9558 2.6005 42.6776 7.32237C47.3995 12.0443 50 18.3223 50 25.0001C50 31.678 47.3995 37.9558 42.6776 42.6779ZM24.9999 4.33778C13.6067 4.33778 4.33772 13.607 4.33772 25.0001C4.33772 28.4792 5.21935 31.9192 6.8868 34.9487L7.24853 35.6054L5.85915 44.0756L14.2959 42.6918L14.9565 43.0601C18.0107 44.7624 21.4837 45.6622 24.9999 45.6622C36.3932 45.6622 45.6622 36.3933 45.6622 25.0001C45.6622 13.607 36.3932 4.33778 24.9999 4.33778ZM31.1133 24.3614C32.4522 24.9804 34.1536 26.3725 34.1208 29.3117C34.0749 33.4266 31.2191 35.6542 27.2744 35.6542H19.4594H18.3042C17.5079 35.6542 16.8645 35.0053 16.8713 34.2092L17.0344 15.0573C17.041 14.2714 17.6794 13.6377 18.4652 13.6366L27.1493 13.6256C31.4651 13.6256 33.9598 16.039 33.9177 19.8134C33.8903 22.2579 32.2484 23.8355 31.1133 24.3614ZM26.766 17.4622H21.3643L21.3076 22.5361H26.7093C28.5347 22.5361 29.5672 21.5152 29.584 19.9992C29.6009 18.4831 28.5915 17.4622 26.766 17.4622ZM26.9444 26.4035H21.2643L21.2038 31.8178H26.884C28.8333 31.8178 29.7752 30.5802 29.792 29.0952C29.8085 27.6101 28.8939 26.4035 26.9444 26.4035Z",fill:"currentColor"})})})}},574328:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(227101),o=n(88555),s=n(40234),l=n(781572),r=n(221310),d=n(914597),c=a(n(550747)),u=a(n(54231)),f=a(n(914296)),h=a(n(11339)),p=a(n(630855)),m=n(33210),g=a(n(23217)),x=n(113923),v=(a(n(575116)),n(898792)),b=a(n(105406)),_=a(n(60453)),j=a(n(69637)),M=a(n(464738)),C=n(994790),E=a(n(104061)),S=n(910081),y=a(n(404584)),k=n(118146),T=n(548360),P=n(667294),w=a(n(156720)),A=a(n(859312)),N=a(n(616223)),I=n(587550),D=n(735461),R=a(n(895402)),O=n(785893);const L={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"};function B(e,t){var n,a;const{onClose:P,onMediaGallery:B}=e,G=(0,A.default)(),U=(0,R.default)(),F=(0,N.default)((()=>new p.default)),V=(0,D.useModelValues)(e.chat,["id","groupMetadata"]),H=()=>{if((0,i.isPrivacyNarrativeV1Enabled)()&&(0,m.shouldShowNewE2eInfoModal)((0,k.unproxy)(V))){const e=(0,r.getE2EFaqUrl)();d.ModalManager.open((0,O.jsx)(S.E2eInfoModalV2,{highlightSurface:h.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,url:e}))}else d.ModalManager.open((0,O.jsx)(E.default,{highlightSurface:h.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,chatId:V.id,e2eSubtype:"info_encrypted"}))};(0,I.useListener)(null===(n=V.groupMetadata)||void 0===n?void 0:n.participants,["add","remove","sort","reset"],G);let q=null;B&&(q=(0,O.jsx)(b.default,{onMediaGallery:B,chat:(0,k.unproxy)(V)}));const z=(0,O.jsx)(v.ChatInfoDrawerButtonsSection,{children:(0,O.jsx)(M.default,{testid:"li-delete-broadcast",icon:(0,O.jsx)(g.default,{name:"delete"}),color:"danger",theme:"chat-info",onClick:()=>{l.Cmd.deleteOrExitChat((0,k.unproxy)(V))},children:f.default.t(719)})});let Y;(null===(a=V.groupMetadata)||void 0===a?void 0:a.creation)?(Y=s.Clock.createdStr(V.groupMetadata.creation),Y=(0,O.jsx)(x.TextDiv,{theme:"small",children:Y})):Y=null;let W=null;(0,o.isMDBackend)()&&(W=(0,O.jsx)(y.default,{highlightSurface:h.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,onClick:H,text:T.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"1iarlI"})}));let K=null;return W&&(K=(0,O.jsxs)(v.ChatInfoDrawerSection,{children:[null,W]})),(0,O.jsxs)(_.default,{ref:t,theme:"striped",children:[(0,O.jsxs)(C.DrawerHeader,{type:C.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{P?P():null==U||U.requestDismiss()},children:[(0,O.jsx)(x.TextDiv,{theme:"title",children:T.fbt._("Broadcast list info",null,{hk:"3S4EgV"})}),Y]}),(0,O.jsx)(j.default,{flatListControllers:[F.current],children:(0,O.jsxs)("div",{className:(0,w.default)(L),children:[(0,O.jsx)(u.default,{chat:(0,k.unproxy)(V)}),q,undefined,K,(0,O.jsx)(c.default,{chat:(0,k.unproxy)(V),flatListController:F.current}),z]})})]},"contact-info-modal")}var G=(0,P.forwardRef)(B);t.default=G},550747:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const a=(0,p.default)(),x=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants;(0,m.useListener)(x,"add remove reset",a);const v=(0,h.useMemo)((()=>x?x.map((e=>({itemKey:e.id.toString(),participant:e,height:68}))):[]),[x]),b=(e,t)=>{(0,s.isMePrimary)(t.id)||(0,o.findChat)(t.id).then((function(e){i.Cmd.openChatFromUnread(e).then((t=>{t&&c.ComposeBoxActions.focus(e)}))}))},_=null!==(n=null==x?void 0:x.length)&&void 0!==n?n:0,j=l.default.t(828,{count:_,_plural:_});return(0,g.jsx)(u.ChatInfoDrawerListSection,{title:j,children:(0,g.jsx)(d.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:v,renderItem:e=>{const{participant:t}=e,n=f.ContactCollection.gadd(t.id);return(0,g.jsx)(r.Contact,{contact:n,theme:"chat-info",admin:!!t.isAdmin,onClick:b,waitIdle:!0},t.id.toString())}})})};var i=n(781572),o=n(211739),s=n(978820),l=a(n(914296)),r=n(402732),d=n(747915),c=n(188172),u=n(898792),f=n(719380),h=n(667294),p=a(n(859312)),m=n(587550),g=n(785893)},54231:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const a=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants,b=(0,m.useModelValues)(e.chat.contact,["name"]),_=(0,h.default)();(0,p.useListener)(a,"add remove reset",_);const j=null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0,M=u.fbt._("Broadcast List",null,{hk:"46AT9o"}).toString()+" · "+i.default.t(828,{count:j,_plural:j}),C=b.name?(0,g.jsx)(r.Name,{contact:e.chat.contact,selectable:!0}):u.fbt._("Untitled List",null,{hk:"fYALp"});return(0,g.jsxs)(c.default,{theme:"padding-large",children:[(0,g.jsx)("div",{className:(0,f.default)(x),children:(0,g.jsx)(s.DetailImage,{id:e.chat.id,size:s.DetailImageSize.Large})}),(0,g.jsxs)(l.FlexColumn,{align:"center",children:[(0,g.jsx)(d.TextHeader,{level:"2",size:"24",children:C}),(0,g.jsx)("div",{className:(0,f.default)(v),children:(0,g.jsx)(o.SelectableSpan,{dir:"auto",selectable:!0,children:(0,g.jsx)(d.TextSpan,{size:"16",color:"secondary",children:M})})})]})]})};var i=a(n(914296)),o=n(552596),s=n(288984),l=n(429623),r=n(812176),d=n(113923),c=a(n(833308)),u=n(548360),f=a(n(156720)),h=a(n(859312)),p=n(587550),m=n(735461),g=n(785893);const x={display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"du8bjn1j"},v={lineHeight:"a4ywakfo",marginTop:"g1eqewly"}},105406:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,onMediaGallery:n}=e;const a=h.fbt._("Media, links and docs",null,{hk:"3D4fAZ"}),i=(0,_.jsx)(f.default,{color:"secondary",name:"chevron-right-alt",directional:!0}),o=(0,_.jsxs)(d.FlexRow,{align:"center",children:[(0,l.isMediaGalleryFixEnabled)()?(0,_.jsx)(M,{chat:t}):(0,_.jsx)(C,{chat:t}),(0,_.jsx)("div",{children:i})]});return(0,_.jsx)(r.ChatInfoDrawerSection,{testid:"section-media",title:a,titleOnClick:n,subtitle:o,xstyle:j.drawerSection,children:(0,_.jsx)(c.default,{chat:t,mediaMsgs:t.getMediaMsgs(),theme:"chat-info"})})};var i=a(n(348926)),o=n(88555),s=n(716055),l=n(408139),r=n(898792),d=n(429623),c=a(n(188224)),u=n(341908),f=a(n(23217)),h=n(548360),p=n(667294),m=a(n(156720)),g=a(n(859312)),x=n(587550),v=a(n(174570)),b=a(n(803409)),_=n(785893);const j={mediaCount:{marginEnd:"bugiwsl0",fontSize:"bze30y65",color:"g01nkquw"},drawerSection:{paddingBottom:"aiput80m"}};function M(e){let{chat:t}=e;const n=function(e){const[t,n]=(0,p.useState)(null),a=(0,b.default)(),i=(0,p.useCallback)((()=>{(0,s.countAllMedia)(e).then((e=>{a.aborted||n(e)}))}),[e,a]);return(0,p.useEffect)(i,[i]),(0,x.useListener)(e.getMediaMsgs(),["add","remove"],i),(0,x.useListener)(e.getDocMsgs(),["add","remove"],i),(0,x.useListener)(e.getLinkMsgs(),["add","remove"],i),t}(t);return(0,_.jsx)("div",{className:(0,m.default)(j.mediaCount),children:n})}function C(e){let{chat:t}=e;const n=function(e){const t=e.getMediaMsgs(),n=e.getDocMsgs(),a=e.getLinkMsgs(),s=(0,g.default)();(0,x.useListener)(t,"add remove reset query_media_before",s),(0,x.useListener)(n,"add remove reset query_doc_before",s),(0,x.useListener)(a,"add remove reset query_link_before",s);const l=(0,v.default)();(0,p.useEffect)((()=>{l((0,i.default)((function*(){const i=[];t.hasMediaBefore&&i.push(t.queryMedia({chat:e})),n.hasDocBefore&&i.push(n.queryDocs(e)),a.hasLinkBefore&&i.push(a.queryLinks(e)),yield Promise.all(i),s()})))}),[e,n,s,a,t,l]);let r=null;if(!t.hasMediaBefore&&!n.hasDocBefore&&!a.hasLinkBefore){let e=t.length;(0,o.isMDBackend)()&&(e=t.filter((e=>(0,u.hasThumbnail)(e.mediaData))).length),r=e+n.length+a.length}return r}(t);return(0,_.jsx)("div",{className:(0,m.default)(j.mediaCount),children:n})}},456873:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t}=e,{status:n}=(0,u.useModelValues)(t.getStatus(),["status"]),a=""===n?null:(0,f.jsx)(d.default,{multiline:!0,children:(0,f.jsx)(r.TextSpan,{theme:"title",children:(0,f.jsx)(s.default,{id:t.id})})}),p=(0,f.jsx)(d.default,{separator:!0,children:(0,f.jsx)(l.SelectableSpan,{dir:"auto",selectable:!0,children:(0,f.jsx)(r.TextSpan,{theme:"title",children:(0,i.widToFormattedUser)(t.id)})})});return(0,f.jsxs)(c.ChatInfoDrawerSection,{xstyle:h.container,testid:"section-about-and-phone-number",title:o.default.t(213),children:[a,p]})};var i=n(562054),o=a(n(914296)),s=a(n(273561)),l=n(552596),r=n(113923),d=a(n(244296)),c=n(898792),u=(a(n(156720)),n(735461)),f=n(785893);const h={container:{paddingBottom:"przvwfww"}}},76864:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t}=e;let n;n=(0,i.canSeeSMBUpsell)()?(0,p.jsx)(v,{onClick:function(){o.ModalManager.open((0,p.jsx)(d.default,{contact:t}))}}):(0,p.jsx)(x,{onClick:function(){o.ModalManager.open((0,p.jsx)(r.default,{contact:t}))}});return(0,p.jsx)(u.default,{xstyle:m.businessAccount,children:n})};var i=n(408139),o=n(914597),s=a(n(435721)),l=a(n(23217)),r=a(n(962138)),d=a(n(100955)),c=a(n(464738)),u=a(n(833308)),f=n(548360),h=a(n(156720)),p=n(785893);const m={businessAccount:{borderTop:"mug5vpb7",fontSize:"f8jlpxt4"},businessTitleText:{cursor:"ajgl1lbb",fontSize:"f8jlpxt4",lineHeight:"hzeshm6i",overflowX:"gfz4du6o",overflowY:"r7fjleex",paddingTop:"ppypbuwx",backgroundColor:"sbdla0oe"},btnLabel:{fontSize:"f8jlpxt4"},businessTitleWithSMBUpsell:{lineHeight:"hzeshm6i"},bannerSvgContainer:{marginTop:"b9l0eqez",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},bannerSvg:{color:"jq3rn4u7",width:"dh5rsm73"}},g=f.fbt._("This is a business account.",null,{hk:"2x8QUJ"});function x(e){let{onClick:t}=e;return(0,p.jsx)(c.default,{testid:"business-title",xstyle:m.businessTitleText,onClick:t,children:(0,p.jsx)("div",{className:(0,h.default)(m.btnLabel),children:g})})}function v(e){let{onClick:t}=e;return(0,p.jsx)(s.default,{testid:"business-title",xstyle:m.businessTitleWithSMBUpsell,onClick:t,side:(0,p.jsx)(l.default,{xstyle:m.bannerSvgContainer,iconXstyle:m.bannerSvg,display:"inline",name:"info"}),children:g})}},781896:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const{contact:a,onProductCatalog:T}=e,P=(0,S.useContext)(b.DrawerContext),w=(0,h.getProductCatalogSessionId)(P),A=(0,v.default)((0,C.unproxy)(e.contact));function N(){return(N=(0,i.default)((function*(){const e=yield(0,d.findChat)(a.id);(yield l.Cmd.openChatFromUnread(e))&&(r.DrawerManager.closeDrawerRight(),(0,c.btmThreadsLoggingEnabled)()&&m.ComposeBoxActions.addMsgSendingLogAttributes(e,{handleMultiple(){(0,s.handleActivitiesForChatThreadLogging)([{activityType:"profileReplies",ts:(0,o.unixTime)(),chatId:e.id}])}}))}))).apply(this,arguments)}let I;const D=M.ChatCollection.getActive();if(!(null==D?void 0:D.id.equals(a.id))){var R,O;(0,f.logMessageClick)(w,null===(R=a.businessProfile)||void 0===R?void 0:R.isProfileLinked,!!(null===(O=a.businessProfile)||void 0===O?void 0:O.coverPhoto)),I=(0,y.jsx)(x.default,{icon:"chat-msg",label:E.fbt._("Message",null,{hk:"mZ5DE"}),onClick:()=>{!function(){N.apply(this,arguments)}()},testid:"business-action chat"})}let L,B,G;A.isVoiceCallEnabled&&(L=(0,y.jsx)(x.default,{icon:"voice-call-filled",label:E.fbt._("Voice call",null,{hk:"393mz4"}),disabled:!A.canStartVoiceCall,onClick:()=>{var e,t;(0,f.logVoiceCallClick)(w,null===(e=a.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=a.businessProfile)||void 0===t?void 0:t.coverPhoto)),A.startVoiceCall()},testid:"business-action voice-call"}));(null===(t=a.businessProfile)||void 0===t||null===(n=t.profileOptions)||void 0===n?void 0:n.commerceExperience)===_.COMMERCE_EXPERIENCE_TYPES.CATALOG&&(B=(0,y.jsx)(x.default,{icon:"catalog-filled",label:E.fbt._("Catalog",null,{hk:"3QDkTE"}),onClick:()=>{var e,t;(0,f.logCatalogClick)(w,null===(e=a.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=a.businessProfile)||void 0===t?void 0:t.coverPhoto)),T((0,h.getProductCatalogContext)(P),"ContactInfo")},testid:"business-action catalog"}));if((0,j.hasShop)(a.businessProfile)){(0,c.bannedShopsEnabled)()&&(0,j.isShopBanned)(a.businessProfile)||(G=(0,y.jsx)(x.default,{icon:"shop-filled",label:E.fbt._("Shop",null,{hk:"3KsdlE"}),onClick:function(){var e,t;(0,f.logShopsClick)(w,null===(e=a.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=a.businessProfile)||void 0===t?void 0:t.coverPhoto)),(0,j.goToShop)(a.businessProfile)},testid:"business-action shop"}))}const U=(0,y.jsx)(x.default,{icon:"forward-filled",label:E.fbt._("Share",null,{hk:"4F3c6E"}).toString(),onClick:function(){var e,t;(0,f.logForwardClick)(w,null===(e=a.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=a.businessProfile)||void 0===t?void 0:t.coverPhoto)),u.ModalManager.open((0,y.jsx)(g.SendContactsModalLoadable,{contacts:[(0,C.unproxy)(a)],onContactsSent:e=>{l.Cmd.openChatFromUnread(e).then((()=>{}))}}))},testid:"business-action forward"});return(0,y.jsxs)(p.FlexRow,{xstyle:k.actionsRow,justify:"evenly",children:[I,L,B,G,U]})};var i=a(n(348926)),o=n(892844),s=n(217869),l=n(781572),r=n(141455),d=n(211739),c=n(408139),u=n(914597),f=n(957501),h=n(397567),p=n(429623),m=n(188172),g=n(871428),x=a(n(839902)),v=a(n(109582)),b=n(427394),_=n(393170),j=n(794010),M=n(669951),C=n(118146),E=n(548360),S=n(667294),y=(a(n(156720)),n(785893));const k={actionsRow:{marginTop:"c46o30wg",marginEnd:"bsg2wrd4",marginBottom:"brac1wpa",marginStart:"f459d30t","@media (min-width: 1300px)":{marginStart:"hfp8519b",marginEnd:"acdu7ris"}}}},170531:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{businessHours:t,isProfileLinked:n,hasCoverPhoto:a}=e,o=(0,l.getProductCatalogSessionId)((0,m.useContext)(u.DrawerContext)),r=(0,f.getBusinessOpenState)(t),[d,h]=(0,m.useState)(!0);if(null==t)return null;const b=(0,i.getBusinessHours)(t).map((e=>{const{day:t,hours:n,first:a}=e;let i=t,o=n,s=!1;if(a)switch(r.status){case f.BUSINESS_OPEN_STATUS.OPEN_24H:i=p.fbt._("Open now",null,{hk:"28hpHy"}),o=p.fbt._("Open 24 hours",null,{hk:"1AlfF5"}),s=!0;break;case f.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:i=p.fbt._("Open now",null,{hk:"28hpHy"}),o=p.fbt._("Open by appointment only",null,{hk:"1nxH9v"}),s=!0;break;case f.BUSINESS_OPEN_STATUS.OPEN:i=p.fbt._("Open now",null,{hk:"28hpHy"}),s=!0;break;case f.BUSINESS_OPEN_STATUS.CLOSED_TODAY:o=p.fbt._("Closed",null,{hk:"3IRgct"})}return!a&&d?null:(0,g.jsx)(v,{day:i,dayIsOpen:s,hours:o,first:a,collapsed:d},t)}));return(0,g.jsx)(c.default,{xstyle:x.businessHours,onClick:()=>{(0,s.logHoursClick)(o,n,!!a),h(!d)},testid:"business-hours-expand",children:b})};var i=n(319496),o=a(n(449103)),s=n(957501),l=n(397567),r=n(965417),d=a(n(23217)),c=a(n(701784)),u=n(427394),f=n(794010),h=a(n(294184)),p=n(548360),m=n(667294),g=(a(n(156720)),n(785893));const x={businessHours:{display:"f804f6gw",width:"ln8gz9je",textAlign:"ml4r5409"}};function v(e){if(e.first){const t=(0,g.jsx)("div",{className:o.default.businessHoursChevron,role:"button",children:(0,g.jsx)(d.default,{className:e.collapsed?"":o.default.flipSvg,display:"inline",name:"chevron-down-alt"})});return(0,g.jsxs)("div",{className:(0,h.default)(o.default.businessHoursRow,{[o.default.firstRow]:e.first}),children:[(0,g.jsx)("div",{className:(0,h.default)(o.default.businessHoursDay,{[o.default.dayIsOpen]:e.dayIsOpen}),children:(0,g.jsx)(r.EmojiText,{direction:"auto",text:e.day})}),(0,g.jsx)("div",{className:o.default.businessHoursHours,children:(0,g.jsx)(r.EmojiText,{direction:"auto",text:e.hours})}),t]})}return(0,g.jsxs)("div",{className:o.default.businessHoursRow,children:[(0,g.jsx)("div",{className:o.default.businessHoursDay,children:(0,g.jsx)(r.EmojiText,{direction:"auto",text:e.day})}),(0,g.jsx)("div",{className:o.default.businessHoursHours,children:(0,g.jsx)(r.EmojiText,{direction:"auto",text:e.hours})})]})}},130619:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{businessProfile:t}=e,{description:n,address:a,latitude:j,longitude:M,website:C,email:E,businessHours:S,isProfileLinked:y,coverPhoto:k}=(0,v.useModelValues)(t,["description","address","latitude","longitude","website","email","businessHours","isProfileLinked","coverPhoto"]),T=(0,x.useContext)(m.DrawerContext),P=(0,d.getProductCatalogSessionId)(T);let w,A,N,I,D,R;null!=n&&(w=(0,b.jsx)("div",{className:l.default.section,children:(0,b.jsx)(u.default,{text:n,textLimit:i.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,children:e=>{let{textLimit:t}=e;return(0,b.jsx)(c.EmojiText,{className:l.default.description,selectable:!0,direction:"auto",text:n,textLimit:t,breakWord:!0})}})}));null!=S&&(A=(0,b.jsx)("div",{className:l.default.section,children:(0,b.jsx)(s.default,{businessHours:S,isProfileLinked:y,hasCoverPhoto:!!k})}));null!=a&&(N=(0,b.jsx)("div",{className:l.default.section,children:(0,b.jsx)(c.EmojiText,{selectable:!0,direction:"auto",text:a})}));null!=j&&null!=M&&(I=(0,b.jsx)("div",{style:{height:132},className:(0,g.default)(l.default.section,l.default.map),children:(0,b.jsx)(h.default,{lat:j,lng:M,name:a||"",width:590,height:132,onClick:()=>(0,r.logLocationClick)(P,y,!!k),testid:"business-info-map"})}));null!=E&&(D=(0,b.jsx)("div",{className:l.default.section,children:(0,b.jsx)(f.ExternalLink,{href:`mailto:${E}`,onClick:()=>(0,r.logEmailClick)(P,y,!!k),testid:"business-info-email",children:E})}));null!=C&&C.length>0&&(R=(0,b.jsx)("div",{className:l.default.section,children:C.map((e=>(0,b.jsx)("div",{children:(0,b.jsx)(f.ExternalLink,{href:o.default.toMaliciousSiteRedirect(e),onClick:()=>(0,r.logWebsiteClick)(P,y,!!k),testid:"business-info-website",children:e})},e)))}));return null==w&&null==A&&null==N&&null==I&&null==D&&null==R?null:(0,b.jsxs)(p.ChatInfoDrawerSection,{xstyle:_.container,children:[w,A,N,I,D,R]})};var i=a(n(364369)),o=a(n(376139)),s=a(n(170531)),l=a(n(646311)),r=n(957501),d=n(397567),c=n(965417),u=a(n(217080)),f=n(912591),h=a(n(183452)),p=n(898792),m=n(427394),g=a(n(294184)),x=n(667294),v=(a(n(156720)),n(735461)),b=n(785893);const _={container:{paddingTop:"i4pc7asj",paddingBottom:"q1nnjopg"}}},433253:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{contact:n}=e;let a,g,x;var v;null!=(null===(t=n.businessProfile)||void 0===t?void 0:t.customUrl)&&(0,i.isSmbMelonDisplayEnabled)()&&(x=(0,d.jsx)("div",{className:(0,r.default)(f),children:(0,d.jsx)(o.EmojiText,{text:null===(v=n.businessProfile)||void 0===v?void 0:v.customUrl,direction:"auto",titlify:!0,breakWord:!0,inlineblock:!0})}));if(n.isMyContact)if(n.name!==n.verifiedName){let e;n.showBusinessCheckmarkAsSecondary&&(e=(0,d.jsx)("div",{className:(0,r.default)(u),children:(0,d.jsx)(l.default,{name:"psa-verified"})})),a=(0,d.jsx)(s.Name,{contact:n,breakWord:!0}),g=(0,d.jsx)("div",{className:(0,r.default)(f),children:(0,d.jsxs)("div",{className:(0,r.default)(m),children:[(0,d.jsx)(o.EmojiText,{text:`~${n.verifiedName}`,className:(0,r.default)(p),direction:"auto",ellipsify:!0,titlify:!0}),e]})})}else a=(0,d.jsx)(s.Name,{contact:n,showBusinessCheckmark:n.showBusinessCheckmarkAsPrimary,breakWord:!0});else a=(0,d.jsx)(o.EmojiText,{text:n.verifiedName,direction:"auto",ellipsify:!0,titlify:!0,breakWord:!0}),g=(0,d.jsx)("div",{className:(0,r.default)(f),children:(0,d.jsx)(s.Name,{contact:n,showBusinessCheckmark:n.showBusinessCheckmarkAsPrimary})});return(0,d.jsxs)("div",{className:(0,r.default)(c),children:[(0,d.jsx)("div",{className:(0,r.default)(h),children:a}),g,x]})};var i=n(408139),o=n(965417),s=n(812176),l=a(n(23217)),r=a(n(156720)),d=n(785893);const c={marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"},u={display:"ew8mgplc",marginTop:"o9i7y497",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"k6y3xtnu"},f={color:"p6nhtbpp",fontSize:"enbbiyaj",lineHeight:"tkq7s68q",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"inww9tbj",marginStart:"svoq16ka"},h={fontSize:"iqrewfee",fontWeight:"sy6s5v3r",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"or9x5nie",marginStart:"svoq16ka"},p={flexGrow:"tvf2evcx"},m={display:"p357zi0d",justifyContent:"ac2vgrno"}},587185:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessOpenHours=function(e){const{hours:t}=e,n=h((0,i.getBusinessOpenState)(t));if(null==n)return null;const a=o.default.sanitize(n.toString());return(0,r.jsx)("div",{className:(0,l.default)(u),dangerouslySetInnerHTML:{__html:a}})},t.getBusinessOpenStr=h;var i=n(794010),o=a(n(827856)),s=n(548360),l=a(n(156720)),r=n(785893);const d={color:"mvxzr2tb"},c={color:"j5au4wul"},u={color:"sbs3osm6",fontSize:"f8jlpxt4",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"g105fvfm",marginStart:"svoq16ka"};function f(e){return null==e?"":e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function h(e){switch(e.status){case i.BUSINESS_OPEN_STATUS.OPEN_24H:return s.fbt._("{open} 24 hours",[s.fbt._param("open",`<span class="${(0,l.default)(c)}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"1aA6f9"});case i.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:return s.fbt._("{open} by appointment only",[s.fbt._param("open",`<span class="${(0,l.default)(c)}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"z8CGT"});case i.BUSINESS_OPEN_STATUS.OPEN:if(e.openUntil&&e.additionalOpen&&e.additionalClose)return s.fbt._("{open} until {time}, {additionalOpenTime} - {additionalCloseTime}",[s.fbt._param("open",`<span class="${(0,l.default)(c)}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),s.fbt._param("time",f(e.openUntil)),s.fbt._param("additionalOpenTime",f(e.additionalOpen)),s.fbt._param("additionalCloseTime",f(e.additionalClose))],{hk:"2dJgLQ"});if(e.openUntil)return s.fbt._("{open} until {time}",[s.fbt._param("open",`<span class="${(0,l.default)(c)}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),s.fbt._param("time",f(e.openUntil))],{hk:"3Dd8an"});break;case i.BUSINESS_OPEN_STATUS.CLOSED:return e.opensAt?s.fbt._("{closed}, opens at {time}",[s.fbt._param("closed",`<span class="${(0,l.default)(d)}">${s.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`),s.fbt._param("time",f(e.opensAt))],{hk:"LvVmY"}):`<span class="${(0,l.default)(d)}">${s.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`;case i.BUSINESS_OPEN_STATUS.CLOSED_TODAY:return`<span class="${(0,l.default)(d)}">${s.fbt._("Closed today",null,{hk:"3uCCvH"}).toString()}</span>`}return null}},990347:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessProfile=function(e){let t;const n=(0,k.useModelValues)(e.contact,["id","verifiedLevel","name","verifiedName"]),a=(0,k.useModelValues)(e.businessProfile,["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]);(0,y.useEffect)((()=>{new c.default.ViewBusinessProfile({viewBusinessProfileAction:c.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION}).commit()}),[]);const s=(e,t,n,a)=>{const i=a?(e=>{const{streetAddress:t,localizedCityName:n,zipCode:a}=e;return t&&n&&a?S.fbt._("{streetAddress}, {city} {zipCode}",[S.fbt._param("streetAddress",t),S.fbt._param("city",n),S.fbt._param("zipCode",a)],{hk:"1McVXv"}).toString():t&&n?S.fbt._("{streetAddress}, {city}",[S.fbt._param("streetAddress",t),S.fbt._param("city",n)],{hk:"1zyKhk"}).toString():t})(a):null;let o,s;if(null!=t&&null!=n&&(o=(0,T.jsx)("div",{style:{height:150},className:r.default.businessMap,children:(0,T.jsx)(m.default,{lat:t,lng:n,name:i||e,width:565,height:150})})),i){let e;e=null!=t&&null!=n?(0,g.getMapUrl)(t,n,i):(0,g.getSearchUrl)(i),s=(0,T.jsx)("div",{className:r.default.address,children:(0,T.jsx)(p.ExternalLink,{href:e,children:(0,T.jsx)(f.EmojiText,{selectable:!0,direction:"auto",text:i})})})}return s||o?(0,T.jsxs)(I,{icon:"business-address",children:[s,o]}):null};t=(0,o.canSeeSMBUpsell)()?(0,T.jsx)(P,{contact:n}):(0,T.jsx)(A,{contact:n});let u,v,b,_,j,C,E;const N=a;if(N.stale)u=(0,T.jsx)("div",{className:r.default.contactBusinessInfoSpinner,children:(0,T.jsx)(x.Spinner,{size:20,stroke:5})});else{var D;if(v=(null===(D=N.categories)||void 0===D?void 0:D.length)?(0,T.jsx)(I,{icon:"business-category",children:(0,T.jsx)(f.EmojiText,{selectable:!0,direction:"auto",text:N.categories.map((e=>e.localized_display_name)).join(d.default.t(257))})}):null,b=N.description?(0,T.jsx)(I,{icon:"business-description",children:(0,T.jsx)(h.default,{text:N.description,textLimit:i.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,children:e=>{let{textLimit:t}=e;return(0,T.jsx)(f.EmojiText,{selectable:!0,direction:"auto",breakWord:!0,text:N.description,textLimit:t})}})}):null,_=s(n.name,N.latitude,N.longitude,N.structuredAddress),N.website&&Array.isArray(N.website)&&N.website.length&&(j=N.website.map(((e,t)=>{const n=(0,l.getWebsiteLink)(e),a=(0,T.jsx)(f.EmojiText,{selectable:!0,direction:"auto",text:e}),i=(0,T.jsx)(p.ExternalLink,{className:r.default.link,href:n,children:a});return(0,T.jsx)(I,{icon:"business-website",children:i},t)}))),N.businessHours&&(C=(0,T.jsx)(w,{businessHours:N.businessHours})),N.email){const e=(0,T.jsx)(f.EmojiText,{selectable:!0,direction:"auto",text:N.email}),t=(0,T.jsx)(p.ExternalLink,{className:r.default.link,href:`mailto:${N.email}`,children:e});E=(0,T.jsx)(I,{icon:"business-email",dir:"auto",children:t})}}let R;(u||null!=_||v||b||null!=C||E||j)&&(R=(0,T.jsx)(M.default,{theme:"padding",children:(0,T.jsxs)("div",{className:r.default.contactBusinessInfo,children:[u,_,v,b,C,E,j]})}));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(M.default,{children:t}),R]})};var i=a(n(364369)),o=n(408139),s=n(914597),l=n(319496),r=a(n(652898)),d=a(n(914296)),c=a(n(11339)),u=a(n(435721)),f=n(965417),h=a(n(217080)),p=n(912591),m=a(n(183452)),g=n(808384),x=n(111054),v=a(n(23217)),b=a(n(962138)),_=a(n(100955)),j=a(n(464738)),M=a(n(833308)),C=n(393170),E=a(n(294184)),S=n(548360),y=n(667294),k=n(735461),T=n(785893);function P(e){let{contact:t}=e;const n=t.verifiedLevel===C.VERIFIED_LEVEL.HIGH?S.fbt._("Official business account",null,{hk:"1KruJ"}):S.fbt._("Business account",null,{hk:"2lzdAg"});return(0,T.jsx)(u.default,{testid:"business-title",onClick:s.ModalManager.open((0,T.jsx)(_.default,{contact:t})),side:(0,T.jsx)(v.default,{className:r.default.infoIcon,display:"inline",name:"info"}),children:n})}function w(e){let{businessHours:t}=e;const[n,a]=(0,y.useState)(!0),i=(0,l.getBusinessHours)(t).map((e=>{const{day:t,hours:a,first:i}=e;return!i&&n?null:(0,T.jsx)(N,{day:t,hours:a,first:i,collapsed:n},t)}));return(0,T.jsx)(I,{icon:"business-hours",onClick:()=>a(!n),children:i})}function A(e){let t,{contact:n}=e;switch(n.verifiedLevel){case C.VERIFIED_LEVEL.HIGH:t=S.fbt._("Official business account",null,{hk:"1KruJ"});break;case C.VERIFIED_LEVEL.LOW:case C.VERIFIED_LEVEL.UNKNOWN:t=S.fbt._("Business account",null,{hk:"2lzdAg"})}return(0,T.jsx)(j.default,{testid:"business-title",className:r.default.businessTitleText,onClick:()=>{s.ModalManager.open((0,T.jsx)(b.default,{contact:n}))},children:t})}const N=e=>{const t=e.first?(0,T.jsx)("div",{className:r.default.businessHoursChevron,role:"button",children:(0,T.jsx)(v.default,{className:e.collapsed?"":r.default.flipSvg,display:"inline",name:"chevron-down-alt"})}):null;return(0,T.jsxs)("div",{className:r.default.businessHoursRow,children:[(0,T.jsx)("div",{className:r.default.businessHoursDay,children:(0,T.jsx)(f.EmojiText,{direction:"auto",text:e.day})}),(0,T.jsx)("div",{className:r.default.businessHoursHours,children:(0,T.jsx)(f.EmojiText,{direction:"auto",text:e.hours})}),t]})},I=e=>(0,T.jsxs)("div",{className:(0,E.default)(r.default.dataRow,e.className),onClick:e.onClick,children:[(0,T.jsx)("div",{className:r.default.dataRowIcon,children:(0,T.jsx)(v.default,{name:e.icon})}),(0,T.jsx)("div",{className:r.default.dataRowText,children:e.children})]})},918408:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,businessProfile:n,onOpenStatus:a,onProductCatalog:m,onProfilePicLoad:g,onProfilePicClick:x}=e;const{businessHours:v,categories:b}=(0,u.useModelValues)(n,["businessHours","categories"]),_=(0,f.jsx)(o.default,{contact:t});let j;null!=b&&b.length>0&&(j=(0,f.jsx)("div",{className:(0,c.default)(p),children:b.map((e=>e.localized_display_name)).join(l.default.t(256))}));const M=v?(0,f.jsx)(s.BusinessOpenHours,{hours:v}):null,C=t.businessProfile?(0,f.jsx)(r.default,{contact:t,businessProfile:t.businessProfile,onClick:x,onOpenStatus:a,onLoad:g}):null;return(0,f.jsxs)(d.default,{theme:"padding-no-margin",children:[C,(0,f.jsxs)("div",{className:(0,c.default)(h),children:[_,j,M,(0,f.jsx)(i.default,{contact:t,onProductCatalog:m})]})]})};var i=a(n(781896)),o=a(n(433253)),s=n(587185),l=a(n(914296)),r=a(n(724697)),d=a(n(833308)),c=a(n(156720)),u=n(735461),f=n(785893);const h={textAlign:"qfejxiq4"},p={marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"brac1wpa",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6",lineHeight:"jgi8eev7"}},523073:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t}=e;const{status:n}=(0,r.useModelValues)(t.getStatus(),["status"]);return""===n?null:(0,d.jsx)(s.ChatInfoDrawerSection,{testid:"section-about",title:l.fbt._("About",null,{hk:"4qoAfH"}),children:(0,d.jsx)(o.TextSpan,{theme:"title",size:"16",children:(0,d.jsx)(i.default,{id:t.id})})})};var i=a(n(273561)),o=n(113923),s=n(898792),l=n(548360),r=n(735461),d=n(785893)},93861:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,p.useModelValues)(e.contact,["commonGroups"]).commonGroups,[n,a]=(0,f.useState)(!0);(0,f.useEffect)((()=>{(0,o.findCommonGroups)(e.contact).catch((e=>{throw __LOG__(4,!0,new Error,!0)`get from participants table failed`,SEND_LOGS("get from participants table failed when finding common groups: "+e),new Error("get from participants table failed")}))}),[]);const g=(0,h.default)(t,["add","remove"],(()=>{if(!t)return[];let e=t;return e.length>c.INFO_DRAWER_MAX_ROWS&&n&&(e=e.slice(0,c.INFO_DRAWER_MAX_ROWS)),e.map((e=>({itemKey:e.id.toString(),chat:e,height:68})))}),[n]),x=()=>{a(!1)},v=(t,n)=>{i.Cmd.openChatFromUnread(n).then((e=>{e&&d.ComposeBoxActions.focus(n)})),e.onClose()};if(!t||0===t.length)return null;let b;if(t.length>c.INFO_DRAWER_MAX_ROWS&&n){const e=t.length-c.INFO_DRAWER_MAX_ROWS;b=(0,m.jsx)(u.default,{numMore:e,onClick:x})}const _=s.default.t(212,{number:s.default.n(t.length),_plural:t.length});return(0,m.jsxs)(c.ChatInfoDrawerListSection,{testid:"section-common-groups",title:_,children:[(0,m.jsx)(r.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:g,renderItem:e=>{const{chat:t}=e;return(0,m.jsx)(l.Chat,{chat:t,theme:"chat-info",mode:l.Mode.INFO,onClick:v},t.id.toString())}}),b]})};var i=n(781572),o=n(415124),s=a(n(914296)),l=n(865511),r=n(747915),d=n(188172),c=n(898792),u=a(n(31808)),f=n(667294),h=a(n(196570)),p=n(735461),m=n(785893)},537380:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(81109)),o=n(450796),s=n(451897),l=n(892844),r=n(492574),d=n(88555),c=n(217869),u=n(781572),f=n(141455),h=n(466863),p=n(408139),m=n(914597),g=n(767336),x=n(694816),v=n(978820),b=a(n(456873)),_=a(n(76864)),j=a(n(130619)),M=n(957501),C=n(990347),E=a(n(918408)),S=a(n(523073)),y=a(n(93861)),k=a(n(487624)),T=a(n(897140)),P=a(n(45301)),w=a(n(47091)),A=a(n(235580)),N=a(n(914296)),I=a(n(11339)),D=a(n(777577)),R=a(n(542953)),O=n(397567),L=n(409153),B=a(n(696222)),G=n(561086),U=a(n(630855)),F=a(n(103721)),V=a(n(23217)),H=n(113923),q=n(950452),z=n(656057),Y=n(582145),W=a(n(575116)),K=n(898792),X=a(n(105406)),Z=a(n(60453)),Q=a(n(69637)),$=a(n(464738)),J=n(427394),ee=n(994790),te=a(n(833308)),ne=a(n(243895)),ae=a(n(871528)),ie=n(794010),oe=n(599989),se=n(669951),le=n(362632),re=n(118146),de=a(n(268132)),ce=n(548360),ue=n(529805),fe=n(667294),he=a(n(156720)),pe=a(n(616223)),me=n(735461),ge=a(n(955010)),xe=a(n(895402)),ve=n(785893);const be={body:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},lastSectionRow:{marginBottom:"brac1wpa"}};function _e(e){let{contact:t,catalogContext:n,onProductDetail:a,onProductCatalog:i}=e;const o=oe.CatalogCollection.get(t.id);if(!o)return null;let s="",l=!1;(0,p.canSeeBizProfileV3)()&&(s=ce.fbt._("See all",null,{hk:"3dTwyT"}),l=!0);const{session:r}=n;return r.isAccidental()?null:(0,ie.hasShop)(t.businessProfile)?(0,p.bannedShopsEnabled)()&&(0,ie.isShopBanned)(t.businessProfile)?null:(0,ve.jsx)(B.default,{businessProfile:t.businessProfile,catalog:o,subtitle:s,hideIncompleteRows:l}):(0,ve.jsx)(R.default,{onProductDetail:a,onProductCatalog:i,catalog:o,subtitle:s,hideIncompleteRows:l,shouldLog:!0})}function je(e,t){const{onVerification:n,onClose:a,onProductDetail:R,onProductCatalog:B,canLogQpl:ie=!0}=e,je=(0,xe.default)(),Me=(0,fe.useContext)(J.DrawerContext),Ce=(0,me.useModelValues)(e.contact,["id","formattedName","formattedUser","formattedShortName","isBusiness","isEnterprise","isMyContact","commonGroups","businessProfile","showBusinessCheckmarkAsPrimary","showBusinessCheckmarkAsSecondary","verifiedName","verifiedLevel","name","notifyName","labels","businessCatalog","isMe","statusMute","displayName"]),Ee=(0,pe.default)((()=>new U.default)),Se=(0,fe.useRef)(!1),[ye,ke]=(0,fe.useState)(100),Te=(0,fe.useMemo)((()=>se.ChatCollection.get(Ce.id)),[Ce.id]);(0,fe.useEffect)((()=>{Ce.businessProfile&&!Ce.businessProfile.stale&&Ce.businessCatalog&&oe.CatalogCollection.findCarouselCatalog(Ce.id).catch((0,o.filteredCatch)(r.ServerStatusCodeError,(()=>{__LOG__(3)`Failed to fetch product catalog in contact drawer from server`}))),(0,d.isMDBackend)()&&(0,g.getFanOutListJob)([Ce.id,(0,v.assertGetMe)()]).then((e=>{(0,h.ensureE2ESessions)(e)}));const{session:t}=(0,O.getProductCatalogContext)(Me);if(t.isAccidental())f.DrawerManager.setDrawerContext("right",(0,O.buildProductCatalogContext)(new L.ProductCatalogSession,(0,le.getMaybeBizPlatformForLogging)(Ce.id.toString()),I.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE));else if(Ce.isBusiness&&(0,p.canSeeBizProfileV3)()){const t=Ce.id===(0,v.getMaybeMeUser)(),{profileEntryPoint:i}=e;var n,a;if(!t&&i)(0,M.logProfileImpression)((0,O.getProductCatalogSessionId)(Me),i,!!(null===(n=Ce.businessProfile)||void 0===n?void 0:n.isProfileLinked),!!(null===(a=Ce.businessProfile)||void 0===a?void 0:a.coverPhoto))}ie&&Ce.businessProfile&&(0,z.qplEndProfileView)(s.QuickLogActionType.SUCCESS)}),[]),(0,fe.useEffect)((()=>{if((0,p.btmThreadsLoggingEnabled)()){var e;const t=null===(e=(0,v.getMaybeMeUser)())||void 0===e?void 0:e.equals(Ce.id),{session:n}=(0,O.getProductCatalogContext)(Me);n.isAccidental()||t||!(null==Te?void 0:Te.id)||(0,c.handleActivitiesForChatThreadLogging)([{activityType:"profileViews",ts:(0,l.unixTime)(),chatId:Te.id}])}}),[]),(0,ge.default)((()=>{const{session:e}=(0,O.getProductCatalogContext)(Me);var t,n;e.isAccidental()||Ce.isBusiness&&(0,p.canSeeBizProfileV3)()&&(0,M.logProfileExit)((0,O.getProductCatalogSessionId)(Me),ye,null===(t=Ce.businessProfile)||void 0===t?void 0:t.isProfileLinked,!!(null===(n=Ce.businessProfile)||void 0===n?void 0:n.coverPhoto))}));const Pe=()=>{a?a():null==je||je.requestDismiss()},we=e=>{if(!Se.current)return void x.ToastManager.open((0,ve.jsx)(q.Toast,{id:(0,q.genId)(),msg:ce.fbt._("No profile photo",null,{hk:"2bdeTO"})}));const t=e.target;m.ModalManager.openMedia((0,ve.jsx)(ae.default,{contact:Ce,profilePicThumb:Ce.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:e=>{e(t)}}),{transition:"profile-viewer",uim:je})},Ae=()=>{Se.current=!0},Ne=e=>{(0,Y.qplStartProductView)("ContactInfo"),R(e)},Ie=e=>{const t=Math.floor(100*(1+e.currentTarget.scrollTop/e.currentTarget.offsetHeight));t>ye&&ke(t)},De=Ce.isEnterprise?null:(0,ve.jsx)(y.default,{contact:Ce,onClose:Pe,flatListController:Ee.current});let Re=null;e.onMediaGallery&&Te&&(Re=(0,ve.jsx)(X.default,{chat:Te,onMediaGallery:e.onMediaGallery}));let Oe=null;Te&&(Oe=(0,ve.jsx)(ne.default,{chat:Te,onClick:e.onLiveLocation}));let Le=null,Be=null;if(Ce&&Ce.isBusiness&&Ce.businessProfile&&Ce.businessCatalog){const e=(0,ve.jsx)(_e,{contact:Ce,catalogContext:(0,O.getProductCatalogContext)(Me),onProductDetail:Ne,onProductCatalog:B});(0,p.canSeeBizProfileV3)()?Be=e:Le=e}const Ge=Te&&Te.mute.canMute()?(0,ve.jsx)(F.default,{chat:Te,mute:Te.mute,settings:de.default}):null;let Ue,Fe;if(e.onStarred&&(Ue=(0,ve.jsx)(P.default,{chat:Te,onStarred:e.onStarred,onContactCard:e.onContactCard})),(0,ue.isKeepInChatReadEnabled)()){const t=(0,ve.jsx)(H.TextSpan,{theme:"title",size:"16",children:ce.fbt._("Kept Messages",null,{hk:"w8m3u"})});Fe=(0,ve.jsx)(K.ChatInfoDrawerSection,{testid:"section-kept-messages",xstyle:be.lastSectionRow,children:(0,ve.jsx)(W.default,{testid:"block-kept-messages",side:"chevron",icon:"keep-in-chat",onClick:e.onKept,title:t})})}const Ve=Te&&Te.shouldShowEphemeralSetting()?(0,ve.jsx)(G.EphemeralSettingRow,{onClick:e.onEphemeral,chat:Te,testid:"contact-info-dm-setting-row"}):null,He=(0,d.isMDBackend)()?(0,ve.jsx)(k.default,{contact:(0,re.unproxy)(Ce),onVerificationClick:()=>{n()}}):null;let qe=null;(Ge||Ve||He)&&(qe=(0,ve.jsxs)(K.ChatInfoDrawerSection,{children:[Ge,Ve,He]}));const ze=!Ce.isBusiness,Ye=ze?null:(0,ve.jsx)(b.default,{contact:(0,re.unproxy)(Ce)}),We=ze?(0,ve.jsx)(S.default,{contact:(0,re.unproxy)(Ce)}):null,Ke=(0,p.canSeeBizProfileV3)()&&Ce.isBusiness&&Ce.businessProfile?(0,ve.jsx)(E.default,{contact:Ce,onProfilePicLoad:Ae,onProfilePicClick:we,onOpenStatus:()=>{var e,t;(0,M.logStatusClick)((0,O.getProductCatalogSessionId)(Me),null===(e=Ce.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=Ce.businessProfile)||void 0===t?void 0:t.coverPhoto))},businessProfile:Ce.businessProfile,onProductCatalog:B}):(0,ve.jsx)(w.default,{contact:Ce,onDetailImageLoad:Ae,onDetailImageClick:we});let Xe,Ze,Qe,$e=null;var Je,et;Ce.isBusiness&&Ce.businessProfile&&((0,p.canSeeBizProfileV3)()&&Ce.businessProfile?($e=(0,ve.jsx)(j.default,{businessProfile:Ce.businessProfile}),Xe=(0,ve.jsx)(_.default,{contact:Ce}),(null!==(Je=null===(et=Ce.labels)||void 0===et?void 0:et.length)&&void 0!==Je?Je:0)>0&&(Ze=(0,ve.jsx)(te.default,{theme:"padding",children:(0,ve.jsx)(D.default,{labels:Ce.labels,theme:"standalone"})})),Qe=Ie):Ce.businessProfile&&($e=(0,ve.jsx)(C.BusinessProfile,{contact:Ce,businessProfile:Ce.businessProfile})));const tt={title:ce.fbt._("Contact info",null,{hk:"LUJtH"}),type:ee.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:Pe};let nt;return Ce.businessProfile&&!0===Ce.businessProfile.isProfileLinked&&(0,p.bizLinkedAccountsEnabled)()&&(0,p.canViewBizLinkedAccounts)()&&(nt=(0,ve.jsx)(A.default,{businessProfile:Ce.businessProfile,rowTheme:"linked-account-consumer"})),(0,ve.jsxs)(Z.default,{ref:t,theme:"striped",testid:"contact-info-drawer",children:[(0,ve.jsx)(ee.DrawerHeader,(0,i.default)({},tt)),(0,ve.jsx)(Q.default,{flatListControllers:[Ee.current],onScroll:Qe,children:(0,ve.jsxs)("section",{className:(0,he.default)(be.body),children:[Ke,Xe,Ze,Be,$e,nt,Oe,Le,We,Re,Ue,Fe,qe,Ye,undefined,De,(0,ve.jsx)(T.default,{contact:Ce}),(0,ve.jsx)(K.ChatInfoDrawerButtonsSection,{children:Te?(0,ve.jsx)($.default,{testid:"li-delete-chat",icon:(0,ve.jsx)(V.default,{name:"delete"}),color:"danger",onClick:()=>{const e=se.ChatCollection.assertGet(Ce.id);u.Cmd.deleteOrExitChat(e)},theme:"chat-info",children:N.default.t(225)}):null})]})})]},"contact-info-modal")}var Me=(0,fe.forwardRef)(je);t.default=Me},487624:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onVerificationClick:t}=e,n=(0,h.useModelValues)(e.contact,["id","privacyMode"]),a=function(e,t){if((0,i.default)(t.user))return{text:f.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"}),title:f.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,d.default)(f.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),(0,o.getSupportChatSafetyFaqUrl)(),f.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}))}};switch(e){case s.ReducedPrivacyMode.E2EE:return null;case s.ReducedPrivacyMode.BSP:return{text:f.fbt._("This business works with other companies to manage this chat. Click to learn more.",null,{hk:"VbOOZ"}),title:f.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,d.default)((0,c.formatBspModalText)(),(0,o.getE2EEnterpriseFaqUrl)())}};case s.ReducedPrivacyMode.FB:return{text:f.fbt._("This business uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"3wvGOC"}),title:f.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,d.default)((0,c.formatFbModalText)(),(0,o.getE2EEnterpriseFaqUrl)())}}}}((0,s.getReducedPrivacyMode)(n.privacyMode),n.id);if(a)return(0,p.jsx)(u.default,{highlightSurface:r.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,title:a.title,text:a.text,onClick:a.onClick});const m=(0,l.isVoiceCallEnabled)()||(0,l.isVideoCallEnabled)()?f.fbt._("Messages and calls are end-to-end encrypted. Click to verify.",null,{hk:"GtGQH"}):f.fbt._("Messages are end-to-end encrypted. Click to verify.",null,{hk:"1AqhWR"});return(0,p.jsx)(u.default,{highlightSurface:r.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,onClick:t,text:m})};var i=a(n(726682)),o=n(221310),s=n(108197),l=n(669594),r=a(n(11339)),d=a(n(632162)),c=n(726722),u=a(n(404584)),f=n(548360),h=n(735461),p=n(785893)},897140:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,v.useModelValues)(e.contact,["displayName","isBusiness","isContactBlocked"]);let n=null;if(t.isContactBlocked){const a=r.default.t(214,{contact:t.displayName});n=(0,b.jsx)(p.default,{testid:"li-unblock",color:"success",icon:(0,b.jsx)(u.default,{name:"settings-blocked",directional:!0}),onClick:()=>{o.ModalManager.open((0,b.jsx)(h.default,{okText:r.default.t(626),onOK:()=>{(0,i.unblockContact)(e.contact),o.ModalManager.close()},cancelText:x.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>o.ModalManager.close(),children:(0,b.jsx)(d.default,{id:627,params:{contact:(0,b.jsx)(c.Name,{contact:e.contact})}})}))},theme:"chat-info",children:a})}else{const a=r.default.t(211,{contact:t.displayName});n=(0,b.jsx)(p.default,{testid:"li-block",color:"danger",icon:(0,b.jsx)(u.default,{name:"settings-blocked",directional:!0}),onClick:()=>{o.ModalManager.open((0,b.jsx)(h.default,{onOK:()=>{(0,i.blockContact)(e.contact),o.ModalManager.close()},okText:r.default.t(148),onCancel:()=>o.ModalManager.close(),cancelText:x.fbt._("Cancel",null,{hk:"H0gNq"}),children:x.fbt._("Block {contact}? Blocked contacts will no longer be able to call you or send you messages.",[x.fbt._param("contact",(0,b.jsx)(c.Name,{contact:e.contact}))],{hk:"fQATz"})}))},theme:"chat-info",children:a})}let a=x.fbt._("Report business",null,{hk:"2Tvnn8"});t.isBusiness||(a=r.default.t(560,{contactInfo:t.displayName}));const _=(0,b.jsx)(p.default,{testid:"li-report-spam",color:"danger",icon:(0,b.jsx)(u.default,{name:"thumbs-down",directional:!0}),onClick:()=>{o.ModalManager.open((0,b.jsx)(m.default,{isMessage:!1,isBusiness:e.contact.isBusiness,isGroupChat:!1,onReport:()=>{const t=g.ChatCollection.get(e.contact.id);t&&(0,s.sendSpamReport)(t,l.SpamFlow.Account),o.ModalManager.close()},onReportBlockClear:()=>{const t=g.ChatCollection.get(e.contact.id);t&&(0,s.sendSpamBlockClear)(t,l.SpamFlow.Block),o.ModalManager.close()},onCancel:()=>o.ModalManager.close()}))},theme:"chat-info",children:a});return(0,b.jsxs)(f.ChatInfoDrawerButtonsSection,{children:[n,_]})};var i=n(48826),o=n(914597),s=n(45775),l=n(387674),r=a(n(914296)),d=a(n(356074)),c=n(812176),u=a(n(23217)),f=n(898792),h=a(n(452665)),p=a(n(464738)),m=a(n(530934)),g=n(669951),x=n(548360),v=n(735461),b=n(785893)},45301:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,onStarred:n,onContactCard:a}=e,u=null;const f=t&&t.getReceivedVcardMsgs();if(i.LegacyPhoneFeatures.supportsFeature(i.LegacyPhoneFeatures.F.INDEX_RECEIVED_VCARD)&&(null==f?void 0:f.length)){const e=(0,c.jsx)(o.TextSpan,{theme:"title",children:(0,c.jsx)(r.default,{count:f.length})});u=(0,c.jsx)(s.default,{testid:"block-starred-messages",side:"chevron",icon:"account-box",onClick:a,title:e})}const h=(0,c.jsx)(o.TextSpan,{theme:"title",size:"16",children:d.fbt._("Starred messages",null,{hk:"4wVbNG"})});return(0,c.jsxs)(l.ChatInfoDrawerSection,{testid:"section-starred-messages",children:[(0,c.jsx)(s.default,{testid:"block-starred-messages",side:"chevron",icon:"star",onClick:n,title:h}),u]})};var i=n(438184),o=n(113923),s=a(n(575116)),l=n(898792),r=a(n(955944)),d=n(548360),c=n(785893)},47091:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,{contact:n,onDetailImageLoad:a,onDetailImageClick:u}=e;if(n.isMyContact)t=(0,i.widToFormattedUser)(n.id);else{const e=n.notifyName;null!=e&&(t=`~${e}`)}return(0,x.jsxs)(h.default,{theme:"padding-large",children:[(0,x.jsx)("div",{className:(0,g.default)(v.avatar),children:(0,x.jsx)(l.DetailImage,{id:n.id,size:l.DetailImageSize.Large,loader:!0,onLoad:a,onClick:u,quality:l.DetailImageQuality.High})}),(0,x.jsxs)(r.FlexColumn,{align:"center",children:[(0,x.jsx)(c.TextHeader,{level:"2",size:"24",xstyle:v.contactName,children:(0,x.jsx)(d.Name,{contact:n,selectable:!0,breakWord:!0})}),null!=t&&(0,x.jsx)("div",{className:(0,g.default)(v.secondaryWrapper),children:(0,x.jsx)(s.SelectableSpan,{dir:"auto",selectable:!0,children:(0,x.jsx)(c.TextSpan,{size:"16",color:"secondary",children:t})})})]}),(0,x.jsx)(_,{contact:n}),(0,x.jsx)(o.default,{labels:n.labels})]})};var i=n(562054),o=a(n(777577)),s=n(552596),l=n(288984),r=n(429623),d=n(812176),c=n(113923),u=a(n(839902)),f=a(n(109582)),h=a(n(833308)),p=n(118146),m=n(548360),g=a(n(156720)),x=n(785893);const v={avatar:{display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"pz0xruzv"},secondaryWrapper:{lineHeight:"a4ywakfo",marginTop:"qt60bha0"},contactName:{textAlign:"qfejxiq4"}};const b={container:{marginTop:"a4rz4n5c",marginBottom:"inww9tbj"},button:{marginStart:"nzcjdldu",marginEnd:"gqi0zhd6"}};function _(e){let{contact:t}=e;const n=(0,f.default)((0,p.unproxy)(t));return n.isVideoCallEnabled||n.isVoiceCallEnabled?(0,x.jsxs)(r.FlexRow,{justify:"center",xstyle:b.container,children:[(0,x.jsx)(u.default,{icon:"voice-call-filled",iconWidth:19,label:m.fbt._("Audio",null,{hk:"1b375N"}),testid:"contact-action voice-call-button",xstyle:b.button,disabled:!n.canStartVoiceCall,onClick:n.startVoiceCall}),(0,x.jsx)(u.default,{icon:"chat-info-video",label:m.fbt._("Video",null,{hk:"3zMUsJ"}),testid:"contact-action video-call-button",xstyle:b.button,disabled:!n.canStartVideoCall,onClick:n.startVideoCall})]}):null}},750890:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let{onClick:a,parentGroupMetadata:m,parentGroupChat:g}=e;const{joinedSubgroups:x,unjoinedSubgroups:v,id:b}=(0,h.useModelValues)(m,["joinedSubgroups","unjoinedSubgroups","id"]),{name:_}=(0,h.useModelValues)(g.contact,["name"]);(0,f.useEffect)((()=>{(0,i.queryAndUpdateSubgroupsMetadata)(b)}),[b]);const j=(null!==(t=v.length)&&void 0!==t?t:0)+(null!==(n=x.length)&&void 0!==n?n:0),M=u.fbt._("Community",null,{hk:"2P4Qwb"});return(0,p.jsx)(c.default,{theme:"no-padding",children:(0,p.jsx)(o.default,{image:(0,p.jsx)(s.DetailImage,{id:b,shape:s.DetailImageShape.Squircle,size:60}),primary:(0,p.jsx)(l.EmojiText,{text:_,ellipsify:!0}),onClick:a,theme:"community-home",secondary:(0,p.jsxs)(d.TextSpan,{size:"16",color:"secondary",children:[M," · ",u.fbt._({"*":"{count} Groups",_1:"1 Group"},[u.fbt._plural(j,"count")],{hk:"38FdVG"})]}),detail:(0,p.jsx)(r.default,{color:"secondary",name:"chevron-right-alt",directional:!0})})})};var i=n(223053),o=a(n(744356)),s=n(288984),l=n(965417),r=a(n(23217)),d=n(113923),c=a(n(833308)),u=n(548360),f=n(667294),h=n(735461),p=n(785893)},360236:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t}=e,n=(0,d.useOptionalModelValues)(t.groupMetadata,["groupType"]);let a;a=(0,i.communitiesEnabled)()&&(null==n?void 0:n.groupType)===s.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(0,c.jsx)("div",{className:(0,r.default)(u),children:l.fbt._("",null,{hk:"4kc4Kr"})}):l.fbt._("Add group description",null,{hk:"BVsoQ"});return(0,c.jsx)(o.default,{chat:e.chat,showFullDescription:e.showFullDescription,editRestrictionText:l.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"}),testid:"group-info-drawer-description-title-input",emptyValuePlaceholder:a})};var i=n(408139),o=a(n(181681)),s=n(455981),l=n(548360),r=a(n(156720)),d=n(735461),c=n(785893);const u={color:"tviruh8d",fontSize:"enbbiyaj"}},748204:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(227101),o=n(88555),s=n(173679),l=n(221310),r=n(408139),d=n(914597),c=n(694816),u=n(548360),f=n(667294),h=a(n(156720)),p=a(n(859312)),m=a(n(616223)),g=n(587550),x=n(735461),v=a(n(895402)),b=a(n(16947)),_=n(669951),j=a(n(575116)),M=n(898792),C=a(n(105406)),E=a(n(60453)),S=a(n(69637)),y=n(994790),k=a(n(833308)),T=a(n(104061)),P=n(910081),w=a(n(404584)),A=n(561086),N=a(n(630855)),I=a(n(750890)),D=a(n(360236)),R=a(n(712158)),O=n(44783),L=a(n(670354)),B=a(n(460890)),G=n(542515),U=n(850743),F=n(455981),V=n(529805),H=a(n(914296)),q=a(n(243895)),z=a(n(11339)),Y=a(n(103721)),W=n(33210),K=n(407595),X=n(56080),Z=a(n(268132)),Q=n(118146),$=a(n(769171)),J=n(71723),ee=n(843745),te=n(113923),ne=n(950452),ae=n(669594),ie=n(785893);const oe={body:{flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},announcementGroupDisclaimer:{textAlign:"qfejxiq4",paddingTop:"b7n2qyd4",paddingBottom:"jd93c9cp",paddingEnd:"h1a80dm5",paddingStart:"sta02ykp",lineHeight:"jgi8eev7"},lastSectionRow:{marginBottom:"brac1wpa"}},se=(0,ne.genId)("max_participant_toast");function le(e,t){const{onVerification:n,onClose:a}=e,le=(0,v.default)(),re=(0,p.default)(),de=(0,x.useModelValues)(e.chat,["mute","id","pendingAction","liveLocation"]),ce=(0,x.useModelValues)(e.groupMetadata,["id","cachedDeviceCount","cachedDeviceSizeBucket","participants","pendingParticipants","announce","support","parentGroup","groupType"]);(0,x.useModelValues)(e.contact,["name","id","pendingAction"]);const ue=(0,m.default)((()=>new z.default.UiAction({uiActionType:ce.groupType===F.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?z.default.UI_ACTION_TYPE.DEFAULT_SUBGROUP_INFO_OPEN:z.default.UI_ACTION_TYPE.GROUP_INFO_OPEN,uiActionPreloaded:!0}))),fe=(0,m.default)((()=>new N.default)),he=(0,m.default)((()=>new N.default)),pe=(0,f.useRef)(null);(0,g.useListener)(ce.participants,["add","remove","reset","sort","change:isAdmin","change:isSuperAdmin"],re),(0,g.useListener)(ce.pendingParticipants,["add","remove","reset"],re);const me=()=>{const e=(0,r.getGroupSizeLimit)();if(ce.participants.length>=e){const t=H.default.t(48,{max:e});c.ToastManager.open((0,ie.jsx)(ne.Toast,{msg:t,id:se}))}else{const e=(0,ie.jsx)(b.default,{chat:(0,Q.unproxy)(de),pushTransition:"none",popTransition:"none"});d.ModalManager.open(e,{transition:"modal-flow"})}},ge=()=>{if((0,i.isPrivacyNarrativeV1Enabled)()&&(0,W.shouldShowNewE2eInfoModal)((0,Q.unproxy)(de))){const e=(0,l.getE2EFaqUrl)();d.ModalManager.open((0,ie.jsx)(P.E2eInfoModalV2,{highlightSurface:z.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_GROUP,url:e}))}else d.ModalManager.open((0,ie.jsx)(T.default,{highlightSurface:z.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_GROUP,chatId:de.id,e2eSubtype:"info_encrypted"}))},xe=()=>{d.ModalManager.open((0,ie.jsx)(T.default,{chat:de,chatId:de.id,e2eSubtype:"info_encrypted"}))};let ve;if((0,f.useEffect)((()=>{(0,s.isIntegritySuspendedDefaultSubgroup)(de)?(0,J.openTerminatedCommunityModal)():(0,s.isTerminatedGroupOrNotMember)(de)?(0,ee.openTerminatedGroupOrNotMemberModal)():(0,s.isSuspendedGroup)(de)&&(0,ee.openSuspendedGroupModal)()}),[]),(0,f.useEffect)((()=>{ce.participants.ensureSorted();ce.pendingParticipants.ensureSorted()})),(0,f.useEffect)((()=>{const e=ue.current;if(e){const t=ce.cachedDeviceSizeBucket;null!=t&&(e.sizeBucket=t),Object.assign(e,(0,G.getGroupCountMetricsFromGroupMetadata)((0,Q.unproxy)(ce))),e.markUiActionT(),e.commit(),ue.current=void 0}(0,K.logUiActionShadowPrivateStatsTestEvents)()}),[]),(0,f.useEffect)((()=>{ce.groupType===F.GroupType.DEFAULT_ANNOUNCEMENT_GROUP&&(0,X.queryAndUpdateGroupMetadataById)(ce.id)}),[ce.id,ce.groupType]),ce.canSetGroupProperty()){const t=(0,ie.jsx)(te.TextSpan,{theme:"title",children:u.fbt._("Group settings",null,{hk:"3sS0Vl"})});ve=(0,ie.jsx)(j.default,{side:"chevron",icon:"settings",onClick:e.onAdminSetting,title:t})}let be=null;e.onMediaGallery&&(be=(0,ie.jsx)(C.default,{onMediaGallery:e.onMediaGallery,chat:(0,Q.unproxy)(de)}));const _e=(0,ie.jsx)(q.default,{chat:de,onClick:e.onLiveLocation}),je=de&&de.shouldShowEphemeralSetting()?(0,ie.jsx)(A.EphemeralSettingRow,{onClick:e.onEphemeral,chat:de,groupMetadata:ce,testid:"contact-info-dm-setting-row"}):null;let Me=null;if((0,r.communitiesEnabled)()&&de&&ce.parentGroup){const t=_.ChatCollection.get(ce.parentGroup.toString());(null==t?void 0:t.groupMetadata)&&(Me=(0,ie.jsx)(I.default,{onClick:()=>{var t;null===(t=e.onCommunityClick)||void 0===t||t.call(e)},parentGroupMetadata:t.groupMetadata,parentGroupChat:t}))}let Ce=null;(0,o.isMDBackend)()&&(Ce=(0,ie.jsx)(w.default,{highlightSurface:z.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_GROUP,onClick:ge,text:(0,ae.isGroupCallEnabled)()?u.fbt._("Messages and calls are end-to-end encrypted. Click to learn more.",null,{hk:"1l9pwW"}):u.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"2MtPh9"})})),(0,s.isSupportGroup)(de)&&(Ce=(0,ie.jsx)($.default,{onClick:xe}));const Ee=de.mute.canMute()?(0,ie.jsx)(Y.default,{chat:de,mute:de.mute,settings:Z.default}):null;let Se,ye=null;if(e.onStarred){const t=(0,ie.jsx)(te.TextSpan,{theme:"title",size:"16",children:u.fbt._("Starred messages",null,{hk:"4wVbNG"})});ye=(0,ie.jsx)(M.ChatInfoDrawerSection,{testid:"section-starred-messages",children:(0,ie.jsx)(j.default,{testid:"block-starred-messages",side:"chevron",icon:"star",onClick:e.onStarred,title:t})})}if((0,V.isKeepInChatReadEnabled)()){const t=(0,ie.jsx)(te.TextSpan,{theme:"title",size:"16",children:u.fbt._("Kept Messages",null,{hk:"41CBIy"})});Se=(0,ie.jsx)(M.ChatInfoDrawerSection,{testid:"section-kept-messages",xstyle:oe.lastSectionRow,children:(0,ie.jsx)(j.default,{testid:"block-kept-messages",side:"chevron",icon:"keep-in-chat",onClick:e.onKept,title:t})})}let ke=null;(Ee||Ce||je)&&(ke=(0,ie.jsxs)(M.ChatInfoDrawerSection,{children:[Ee,je,Ce,ve]}));const Te=(0,o.isMDBackend)()&&e.scrollToParticipantList,Pe=ce.participants.iAmAdmin()&&ce.groupType===F.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?null:(0,ie.jsx)(R.default,{chat:(0,Q.unproxy)(de)}),we=ce.groupType!==F.GroupType.DEFAULT_ANNOUNCEMENT_GROUP||ce.participants.iAmAdmin()?null:(0,ie.jsx)(k.default,{theme:"transparent",shadow:!1,children:(0,ie.jsx)(te.TextParagraph,{xstyle:oe.announcementGroupDisclaimer,color:"secondary",children:u.fbt._("Only admins can see all participants in this group",null,{hk:"39jP44"})})});return(0,ie.jsxs)(E.default,{ref:t,theme:"striped",children:[(0,ie.jsx)(y.DrawerHeader,{title:u.fbt._("Group info",null,{hk:"2SfTUZ"}),type:y.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{a?a():null==le||le.requestDismiss()}}),(0,ie.jsx)(S.default,{flatListControllers:[he.current,fe.current],children:(0,ie.jsxs)("section",{className:(0,h.default)(oe.body),"data-testid":"group-info-drawer-body",children:[(0,ie.jsx)(B.default,{chat:(0,Q.unproxy)(de),onAdminSetting:e.onAdminSetting,onAddParticipant:me,onClickParticpantsCount:()=>{var e;null===(e=pe.current)||void 0===e||e.scrollIntoView()}}),Me,(0,ie.jsx)(D.default,{chat:(0,Q.unproxy)(de),showFullDescription:e.showFullGroupDescription}),_e,be,ye,Se,ke,undefined,(0,ie.jsx)(O.GroupInfoParticipantsSection,{ref:pe,chat:(0,Q.unproxy)(de),scrollToParticipantList:Te,flatListController:fe.current,onAddParticipant:me,onOpenParticpantSearch:e=>{d.ModalManager.open((0,ie.jsx)(U.GroupParticipantsFlow,{chat:(0,Q.unproxy)(de),onVerification:n,initialStep:e}),{transition:"modal-flow"})},onGroupInviteLink:e.onGroupInviteLink,onVerification:e.onVerification}),we,(0,ie.jsx)(L.default,{chat:(0,Q.unproxy)(de),flatListController:he.current}),Pe]})})]},"contact-info-modal")}var re=(0,f.forwardRef)(le);t.default=re},712158:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{chat:n}=e;const{parentGroup:a}=null!==(t=(0,v.useOptionalModelValues)(n.groupMetadata,["parentGroup"]))&&void 0!==t?t:{},i=(0,_.jsx)(M,{chat:n}),o=(0,_.jsx)(j,{chat:n}),s=null!=a&&(0,_.jsx)(C,{chat:n,parentGroup:a});return(0,_.jsxs)(u.ChatInfoDrawerButtonsSection,{children:[s,i,o]})};var i=a(n(348926)),o=n(781572),s=n(914597),l=n(45775),r=n(387674),d=a(n(914296)),c=a(n(23217)),u=n(898792),f=n(662664),h=a(n(464738)),p=a(n(530934)),m=a(n(963928)),g=n(548360),x=n(667294),v=n(735461),b=a(n(803409)),_=n(785893);function j(e){let{chat:t}=e;return(0,_.jsx)(h.default,{testid:"li-report-spam",color:"danger",icon:(0,_.jsx)(c.default,{name:"thumbs-down",directional:!0}),theme:"chat-info",onClick:()=>{s.ModalManager.open((0,_.jsx)(p.default,{isMessage:!1,isGroupChat:!0,onReport:()=>{(0,l.sendSpamReport)(t,r.SpamFlow.Group),s.ModalManager.close()},onReportExitClear:()=>{(0,l.sendSpamExitClear)(t,r.SpamFlow.Block),s.ModalManager.close()},onCancel:()=>s.ModalManager.close()}))},children:g.fbt._("Report group",null,{hk:"23NLqw"})})}function M(e){const t=(0,v.useModelValues)(e.chat,["isReadOnly"]);return(0,_.jsx)(h.default,{testid:"li-delete-group",icon:(0,_.jsx)(c.default,{name:"exit",directional:!0}),color:"danger",theme:"chat-info",onClick:()=>{o.Cmd.deleteOrExitChat(e.chat)},children:t.isReadOnly?d.default.t(718):g.fbt._("Exit group",null,{hk:"4BkPNr"})})}function C(e){var t;let{chat:n,parentGroup:a}=e;const o=(0,b.default)(),{isReadOnly:s,id:l,formattedTitle:r}=(0,v.useModelValues)(n,["groupMetadata","isReadOnly","id","formattedTitle"]),{joinedSubgroups:d,unjoinedSubgroups:u,participants:p}=null!==(t=(0,v.useOptionalModelValues)(m.default.get(a.toString()),["joinedSubgroups","unjoinedSubgroups","participants"]))&&void 0!==t?t:{},[j,M]=(0,x.useState)(!1);if(s||null==d||null==u||!0!==(null==p?void 0:p.iAmAdmin()))return null;const C=d.length+u.length-1,E=function(){var e=(0,i.default)((function*(){j||o.aborted||(M(!0),yield(0,f.handleRemoveGroup)(a,C,l,r),o.aborted||M(!1))}));return function(){return e.apply(this,arguments)}}();return(0,_.jsx)(h.default,{testid:"li-remove-group",icon:(0,_.jsx)(c.default,{name:"exit",directional:!0}),disabled:j,color:"danger",theme:"chat-info",onClick:()=>{E()},children:g.fbt._("Remove from community",null,{hk:"3xZmj5"})})}},44783:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupInfoParticipantsSection=void 0;var i=a(n(145095)),o=n(892844),s=n(88555),l=n(217869),r=n(781572),d=n(211739),c=n(408139),u=n(914597),f=n(815562),h=n(978820),p=a(n(389867)),m=n(850743),g=n(690973),x=a(n(914296)),v=a(n(616419)),b=a(n(744356)),_=n(278756),j=n(471174),M=n(965417),C=n(747915),E=n(788631),S=a(n(852711)),y=a(n(23217)),k=n(718644),T=a(n(624717)),P=n(188172),w=n(898792),A=a(n(31808)),N=a(n(452665)),I=n(455981),D=n(548360),R=n(667294),O=a(n(859312)),L=n(587550),B=n(735461),G=n(785893);const U=(0,R.forwardRef)(((e,t)=>{var n,a,U;const V=(0,B.useModelValues)((0,i.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["support","size","id"]),H=(0,i.default)(null===(n=e.chat.groupMetadata)||void 0===n?void 0:n.participants,"props.chat.groupMetadata?.participants"),q=null!==(a=null==V?void 0:V.size)&&void 0!==a?a:0,z=(null==H?void 0:H.iAmAdmin())?H.length:q,Y=(0,O.default)();(0,L.useListener)(H,"add remove reset sort change:isAdmin change:isSuperAdmin",Y);const[W,K]=(0,R.useState)(F(H)),X=(0,R.useRef)(),[Z,Q]=(0,R.useState)();(0,R.useEffect)((()=>{(0,s.isMDBackend)()&&e.scrollToParticipantList&&X.current&&(0,_.scrollIntoViewIfNeeded)(X.current,!1)}),[e.scrollToParticipantList]),(0,R.useImperativeHandle)(t,(()=>({scrollIntoView(){var e;null===(e=X.current)||void 0===e||e.scrollIntoView()}})));const $=(0,g.useShowPastParticipants)(e.chat);if(V.isSuspendedOrTerminated())return null;const J=(0,G.jsx)(y.default,{name:"search",color:"secondary"});let ee,te,ne;if(H.canAdd()&&!V.support){const t=(0,G.jsx)(S.default,{theme:"compact",children:(0,G.jsx)(y.default,{name:"add-user",directional:!0})});ee=(0,G.jsx)(b.default,{image:t,theme:"chat-info",primary:D.fbt._("Add participant",null,{hk:"48ECfz"}),onClick:e.onAddParticipant})}if(H.iAmAdmin()&&e.onGroupInviteLink&&!V.support){const t=(0,G.jsx)(S.default,{theme:"compact",children:(0,G.jsx)(y.default,{name:"link"})});te=(0,G.jsx)(b.default,{image:t,theme:"chat-info",primary:D.fbt._("Invite to group via link",null,{hk:"3vDtFL"}),onClick:e.onGroupInviteLink})}if(F(H)&&W){const t=H.length<=20,n=H.length-w.INFO_DRAWER_MAX_ROWS;ne=(0,G.jsx)(A.default,{numMore:n,onClick:()=>{t?K(!1):e.onOpenParticpantSearch(m.ParticipantsFlowStep.Participants)},viewAll:!t})}else $&&(ne=(0,G.jsx)(E.ListButton,{onClick:()=>{e.onOpenParticpantSearch(m.ParticipantsFlowStep.PastParticipants)},children:D.fbt._("View past participants",null,{hk:"fYGd4"})}));const ae=e=>{const t=H.get(e.id);return!!t&&(H.canPromote(t)||H.canDemote(t)||H.canRemove(t)||H.canVerifyIdentity(t))},ie=(t,n)=>{const a=H.assertGet(n.id);if(!ae(n))return;const i=[];H.canPromote(a)&&i.push((0,G.jsx)(j.DropdownItem,{testid:"mi-grp-promote-admin",action:()=>{const t=x.default.t(199,{participant:a.contact.formattedName,subject:e.chat.contact.name});u.ModalManager.open((0,G.jsx)(N.default,{onOK:()=>{return t=!0,a.contact.pendingAction++,(0,f.promoteParticipants)(e.chat,[a]).then((()=>{a.contact.pendingAction--})),void(t&&u.ModalManager.close());var t},okText:x.default.t(447),onCancel:()=>u.ModalManager.close(),cancelText:D.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,G.jsx)(M.EmojiText,{text:t})}))},children:x.default.t(447)},"promote")),H.canRemove(a)&&i.push((0,G.jsx)(j.DropdownItem,{testid:"mi-grp-remove-participant",action:()=>{const t=x.default.t(200,{participant:a.contact.formattedName,subject:e.chat.contact.name});u.ModalManager.open((0,G.jsx)(N.default,{onOK:()=>{return t=!0,a.contact.pendingAction++,(0,f.removeParticipants)(e.chat,[a]).then((()=>{a.contact.pendingAction--})),void(t&&u.ModalManager.close());var t},okText:x.default.t(555),onCancel:()=>u.ModalManager.close(),cancelText:D.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,G.jsx)(M.EmojiText,{text:t})}))},children:x.default.t(451)},"remove")),H.canDemote(a)&&i.push((0,G.jsx)(j.DropdownItem,{testid:"mi-grp-verify-identify",action:()=>{a.contact.pendingAction++,(0,f.demoteParticipants)(e.chat,[a]).then((()=>{a.contact.pendingAction--})),u.ModalManager.close()},children:D.fbt._("Dismiss as admin",null,{hk:"243sNl"})},"demote-admin")),(0,s.isMDBackend)()&&H.canVerifyIdentity(a)&&i.push((0,G.jsx)(j.DropdownItem,{testid:"mi-grp-verify-identify",action:()=>{e.onVerification&&e.onVerification(a.contact)},children:D.fbt._("Verify Security Code",null,{hk:"1vTVgt"})},"verify-identity")),Q({contactId:n.id,menu:i,anchor:t.anchor,event:t.event})},oe=(e,t)=>{(0,h.isMePrimary)(t.id)||(0,d.findChat)(t.id).then((e=>{r.Cmd.openChatFromUnread(e).then((t=>{t&&((0,c.btmThreadsLoggingEnabled)()&&P.ComposeBoxActions.addMsgSendingLogAttributes(e,{handleMultiple(){(0,l.handleActivitiesForChatThreadLogging)([{activityType:"groupMembershipReplies",ts:(0,o.unixTime)(),chatId:e.id}])}}),P.ComposeBoxActions.focus(e))}))}))},se=H.length?(0,G.jsxs)(w.ChatInfoDrawerListSection,{ref:X,testid:"section-participants",title:D.fbt._({"*":"{number} participants",_1:"1 participant"},[D.fbt._plural((null===(U=e.chat.groupMetadata)||void 0===U?void 0:U.groupType)===I.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?z:H.length,"number")],{hk:"bcYCT"}),titleOnClick:()=>{e.onOpenParticpantSearch(m.ParticipantsFlowStep.Participants)},subtitle:J,children:[ee,te,(0,G.jsx)(C.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{let e;const t=[],n=[];H.forEach((a=>{a.contact.isMe?e=a:a.isAdmin?t.push(a):n.push(a)}));let a=[];return e&&a.push(e),a=a.concat(t,n),F(H)&&W&&(a=a.slice(0,w.INFO_DRAWER_MAX_ROWS)),a.map((e=>({itemKey:e.id.toString(),id:e.id,height:68})))})(),renderItem:e=>{const{id:t}=e,n=H.get(t);if(!n)throw new C.UnknownDataError(e);const a=n.contact,i=!!Z&&p.default.equals(a.id,Z.contactId);return(0,G.jsx)(v.default,{contact:a,participant:n,onClick:oe,contextEnabled:()=>ae(a),contextMenu:i,onContext:e=>ie(e,a),theme:"chat-info",showNotifyName:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0},n.id.toString())}}),ne]}):null,le=()=>{Q(null)};let re;return Z&&(re=(0,G.jsx)(k.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:le,children:(0,G.jsx)(T.default,{contextMenu:Z})})),(0,G.jsxs)(G.Fragment,{children:[se,re]})}));function F(e){return e.length>w.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}t.GroupInfoParticipantsSection=U,U.displayName="GroupInfoParticipantsSection"},670354:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const a=(0,i.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),E=(0,i.default)(null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants,"props.chat.groupMetadata?.participants"),S=(0,i.default)(null===(n=e.chat.groupMetadata)||void 0===n?void 0:n.pendingParticipants,"props.chat.groupMetadata?.pendingParticipants"),y=(0,_.default)();(0,j.useListener)(E,"change:isAdmin change:isSuperAdmin",y),(0,j.useListener)(S,"add remove reset",y);const[k,T]=(0,b.useState)(C(S)),[P,w]=(0,b.useState)();if((0,b.useEffect)((()=>{a.queryGroupV4PendingInvite().then((()=>{T(C(a.pendingParticipants))}))}),[a]),a.isSuspendedOrTerminated())return(0,M.jsx)(M.Fragment,{});const A=()=>{let e=S.toArray();return C(S)&&k&&(e=e.slice(0,m.INFO_DRAWER_MAX_ROWS)),e.map((e=>({itemKey:e.id.toString(),id:e.id,height:68})))},N=e=>{const{id:t}=e,n=S.get(t);if(!n)throw new u.UnknownDataError(e);const i=n.contact;return(0,M.jsx)(r.default,{contact:i,participant:n,contextEnabled:()=>!0,contextMenu:!0,onContext:e=>(e=>{const t=[(0,M.jsx)(d.DropdownItem,{testid:"mi-grp-promote-admin",action:()=>{o.ModalManager.open((0,M.jsx)(x.default,{onOK:()=>{o.ModalManager.close(),a.revokeGroupV4AddInvite([n.id.toString()]).then((()=>{s.ToastManager.open((0,M.jsx)(f.Toast,{msg:v.fbt._("Invite reset",null,{hk:"MgErr"}),id:(0,f.genId)()}))}))},okText:v.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>o.ModalManager.close(),cancelText:v.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,M.jsx)(c.EmojiText,{text:l.default.t(363,{participant:n.contact.formattedName})})}))},children:v.fbt._("Revoke invite",null,{hk:"4on28q"})},"promote")];w({contactId:i.id,menu:t,anchor:e.anchor,event:e.event})})(e),theme:"chat-info",showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0},n.id.toString())};let I,D,R;S.length>0&&(I=(0,M.jsx)(u.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:A(),renderItem:N}));if(C(S)&&k){const e=S.length-m.INFO_DRAWER_MAX_ROWS;D=(0,M.jsx)(g.default,{numMore:e,onClick:()=>{T(!1)}})}E.iAmAdmin()&&S.length>0&&(R=(0,M.jsxs)(m.ChatInfoDrawerListSection,{testid:"section-participants",title:l.default.t(361,{number:S.length}),children:[I,D]}));const O=()=>{w(null)};let L;P&&(L=(0,M.jsx)(h.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:O,children:(0,M.jsx)(p.default,{contextMenu:P})}));return(0,M.jsxs)(M.Fragment,{children:[R,L]})};var i=a(n(145095)),o=n(914597),s=n(694816),l=a(n(914296)),r=a(n(616419)),d=n(471174),c=n(965417),u=n(747915),f=n(950452),h=n(718644),p=a(n(624717)),m=n(898792),g=a(n(31808)),x=a(n(452665)),v=n(548360),b=n(667294),_=a(n(859312)),j=n(587550),M=n(785893);function C(e){return e.length>m.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}},460890:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,a,i;const o=(0,I.useModelValues)(e.chat,["labels"]),s=(0,I.useOptionalModelValues)(e.chat.groupMetadata,["size"]),l=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.groupType,r=null===(n=e.chat.groupMetadata)||void 0===n?void 0:n.participants,d=(0,A.default)();(0,N.useListener)(r,"add remove reset sort change:isAdmin change:isSuperAdmin",d);const c=null!==(a=null==r?void 0:r.length)&&void 0!==a?a:0,u=null!==(i=null==s?void 0:s.size)&&void 0!==i?i:0,f=(null==r?void 0:r.iAmAdmin())?c:u,h=l===k.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?T.fbt._("Announcement group",null,{hk:"80s42"}):T.fbt._("Group",null,{hk:"DNiv2"}),p=T.fbt._({"*":"{number} participants",_1:"1 participant"},[T.fbt._plural(l===k.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?f:c,"number")],{hk:"bcYCT"});return(0,R.jsx)(y.default,{theme:"padding-large",children:(0,R.jsxs)(v.FlexColumn,{align:"center",children:[(0,R.jsx)(B,{chat:e.chat,xstyle:L.photo}),(0,R.jsx)(U,{chat:e.chat}),(0,R.jsx)("div",{className:(0,w.default)(L.groupSecondary),children:(0,R.jsx)(x.SelectableSpan,{dir:"auto",selectable:!0,children:(0,R.jsxs)(j.TextSpan,{size:"16",color:"secondary",children:[h,(null==s?void 0:s.isSuspendedOrTerminated())?null:(0,R.jsxs)(R.Fragment,{children:[" · ",(0,R.jsx)(M.default,{onClick:e.onClickParticpantsCount,children:p})]})]})})}),(0,R.jsx)(g.default,{labels:o.labels})]})})};var i=a(n(348926)),o=n(389385),s=n(450796),l=a(n(145095)),r=a(n(747259)),d=n(173679),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(435232)),u=n(408139),f=n(914597),h=n(300016),p=n(440652),m=a(n(915908)),g=a(n(777577)),x=n(552596),v=n(429623),b=n(812176),_=a(n(243556)),j=n(113923),M=a(n(701784)),C=a(n(513699)),E=n(533646),S=a(n(452665)),y=a(n(833308)),k=n(455981),T=n(548360),P=n(667294),w=a(n(156720)),A=a(n(859312)),N=n(587550),I=n(735461),D=a(n(803409)),R=n(785893);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}const L={photo:{marginBottom:"njub1g37"},groupSecondary:{lineHeight:"a4ywakfo",marginTop:"ma4rpf0l",textAlign:"qfejxiq4"}};function B(e){const t=(0,I.useModelValues)(e.chat,["isReadOnly"]),n=(0,I.useModelValues)(e.chat.contact,["id","profilePicThumb"]),a=(0,I.useModelValues)(e.chat.contact.profilePicThumb,["imgFull"]),i=(0,I.useModelValues)((0,l.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["groupType"]),[f,p]=(0,P.useState)(!1),[m,g]=(0,P.useState)(!1),x=(0,D.default)(),v=i.groupType===k.GroupType.DEFAULT_ANNOUNCEMENT_GROUP,b=(0,u.communitiesEnabled)()&&v?_.default.DEFAULT_ANNOUNCEMENT_GROUP:_.default.GROUP,j=t.isReadOnly||!a.canDelete()&&!a.canSet()||(0,d.isSupportGroup)(t)||v||i.isSuspendedOrTerminated();return(0,R.jsx)("div",{className:(0,w.default)(e.xstyle),children:(0,R.jsx)(E.PhotoPickerLoadable,{type:b,id:n.id,attachToChat:!0,pending:m,startImage:a.imgFull,readOnly:j,onImageSet:(e,t)=>{let n;g(!0),n=e&&t?(0,h.setProfilePic)(a,e,t):(0,h.deleteProfilePic)(a),(0,r.default)(n,x).catch((0,o.catchAbort)((()=>{}))).catch((0,s.filteredCatch)(c.ActionError,(()=>{__LOG__(3)`GroupInfoDrawer: failed to set/delete group image`,p(!f)}))).finally((()=>{g(!1)}))}},String(f))})}const G={marginTop:"hymafltn",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"};function U(e){const t=(0,I.useModelValues)(e.chat.contact,["name"]),n=(0,I.useModelValues)((0,l.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["creation","restrict","support"]),a=(0,D.default)(),s=function(){var n=(0,i.default)((function*(n){const i=(0,C.default)(n);i!==t.name&&(yield(0,r.default)((0,p.setGroupSubject)(e.chat,i),a).catch((0,o.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`group_info_drawer:onSetSubject failed`})))}));return function(){return n.apply(this,arguments)}}();return n.support?(0,R.jsx)(j.TextHeader,{className:(0,w.default)(G),level:"2",theme:"large",children:(0,R.jsx)(b.GroupName,{chat:e.chat,groupMetadata:n,breakWord:!0})}):(0,R.jsx)(m.default,{subject:t.name,onSave:s,textInputProps:{editable:n.canSetSubject(),editRestrictionInfo:n.restrict?()=>{f.ModalManager.open((0,R.jsx)(S.default,{onOK:()=>f.ModalManager.close(),okText:T.fbt._("OK",null,{hk:"2KEeHb"}),children:T.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})}))}:void 0}})}},320982:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(145095)),o=n(88555),s=n(781572),l=n(211739),r=n(914597),d=n(815562),c=n(978820),u=a(n(389867)),f=n(690973),h=a(n(914296)),p=n(471174),m=n(718644),g=a(n(624717)),x=a(n(629234)),v=n(548360),b=n(667294),_=a(n(859312)),j=n(587550),M=n(785893);function C(e,t){var n;const{chat:a,onVerification:s,onPastParticipants:l}=e,[C,S]=function(e,t){const[n,a]=(0,b.useState)(null),s=(t,n)=>{t.contact.pendingAction++,(0,d.promoteParticipants)(e,[t]).then((()=>{t.contact.pendingAction--})),n&&r.ModalManager.close()},l=(t,n)=>{t.contact.pendingAction++,(0,d.removeParticipants)(e,[t]).then((()=>{t.contact.pendingAction--})),n&&r.ModalManager.close()},f=t=>{t.contact.pendingAction++,(0,d.demoteParticipants)(e,[t]).then((()=>{t.contact.pendingAction--}))},x=()=>{a(null)};let _;n&&(_=(0,M.jsx)(m.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:x,children:(0,M.jsx)(g.default,{contextMenu:n})}));return[_,(n,d)=>{const m=(0,i.default)(e.groupMetadata,"chat.groupMetadata").participants,g=m.assertGet(d.id.toString()),x=[];m.canPromote(g)&&x.push((0,M.jsx)(p.DropdownItem,{testid:"mi-grp-promote-admin",action:()=>s(g,!1),children:h.default.t(447)},"promote")),m.canRemove(g)&&x.push((0,M.jsx)(p.DropdownItem,{testid:"mi-grp-remove-participant",action:()=>l(g,!1),children:h.default.t(451)},"remove")),m.canDemote(g)&&x.push((0,M.jsx)(p.DropdownItem,{testid:"mi-grp-verify-identify",action:()=>f(g),children:v.fbt._("Dismiss as admin",null,{hk:"243sNl"})},"demote-admin")),(0,o.isMDBackend)()&&m.canVerifyIdentity(g)&&x.push((0,M.jsx)(p.DropdownItem,{testid:"mi-grp-verify-identify",action:()=>{r.ModalManager.close(),null==t||t(g.contact)},children:v.fbt._("Verify Security Code",null,{hk:"1vTVgt"})},"verify-identity")),u.default.equals((0,c.getMaybeMeUser)(),g.id)||x.push((0,M.jsx)(p.DropdownItem,{action:E.bind(null,g.contact.id),children:v.fbt._("Message {author}",[v.fbt._param("author",g.contact.formattedName)],{hk:"1kM7Cg"})},"message author")),a({contactId:d.id,menu:x,anchor:n.anchor,event:n.anchor?void 0:n})}]}(a,s),y=(0,_.default)(),k=null===(n=a.groupMetadata)||void 0===n?void 0:n.participants;(0,j.useListener)(k,["add","remove","reset"],y);let T;return(0,f.useShowPastParticipants)(a)&&(T={text:v.fbt._("View past participants",null,{hk:"fYGd4"}),onClick:l}),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(x.default,{ref:t,title:v.fbt._("Search Participants",null,{hk:"M6lxB"}),filter:e=>Boolean(null==k?void 0:k.get(e.id.toString())),onCancel:()=>{r.ModalManager.close()},openContextOnClick:!0,contextEnabled:()=>!1,contextMenu:e=>!u.default.equals((0,c.getMaybeMeUser)(),e),onContext:S,showNotifyName:!0,listenForAdminChange:!0,participantCollection:(0,i.default)(k,"participants"),button:T,showStatusRingAroundProfilePhoto:!0}),C]})}const E=e=>{(0,l.findChat)(e).then((e=>{r.ModalManager.close(),s.Cmd.openChatFromUnread(e)}))};var S=(0,b.forwardRef)(C);t.default=S},850743:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupParticipantsFlow=function(e){const{chat:t,onVerification:n,initialStep:a}=e,[d,c]=(0,s.useFlow)(a,{pushTransition:"none",popTransition:"none"});if(!c.step)return null;let u;switch(c.step){case r.Participants:u=(0,l.jsx)(i.default,{chat:t,onVerification:n,onPastParticipants:()=>c.push(r.PastParticipants)});break;case r.PastParticipants:u=(0,l.jsx)(o.default,{chat:t,onBack:()=>c.pop()})}return(0,l.jsx)(d,{flow:c,children:u})},t.ParticipantsFlowStep=void 0;var i=a(n(320982)),o=a(n(185345)),s=n(159083),l=n(785893);const r=n(76672).Mirrored(["Participants","PastParticipants"]);t.ParticipantsFlowStep=r},185345:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(221310),o=a(n(497039)),s=n(128298),l=a(n(787598)),r=a(n(914296)),d=n(912591),c=n(429623),u=n(747915),f=a(n(11497)),h=a(n(867568)),p=n(548360),m=n(667294),g=(a(n(156720)),a(n(118063))),x=a(n(196570)),v=n(785893);const b="HEADER",_="ROW",j="DISCLAIMER";function M(e,t){var n;const{chat:a,onBack:i}=e,s=null===(n=a.groupMetadata)||void 0===n?void 0:n.pastParticipants,[l,d]=(0,g.default)(),c=(0,x.default)(s,["add","remove","reset"],(()=>{var e;const t=r.default.accentFold(l),n=(0,o.default)(t),a=null!==(e=null==s?void 0:s.getValidRecords().filter((e=>!t||e.contact.searchMatch(t,n))))&&void 0!==e?e:[];if(!a.length)return[];const i=[];return i.push({type:b,header:p.fbt._("Past participants",null,{hk:"2k91Dw"}),itemKey:"list_header"}),a.forEach(((e,t)=>i.push({type:_,participant:e,itemKey:`${e.id.toString()}_${t}`}))),i.push({type:j}),i}),[l]);return(0,v.jsx)(h.default,{ref:t,title:p.fbt._("Search past participants",null,{hk:"1d6pYh"}),data:c,renderItem:e=>(0,v.jsx)(C,{data:e}),emptyState:(0,v.jsx)(y,{}),onSearch:d,searchPlaceholder:r.default.t(570),onBack:i})}function C(e){var t;let{data:n}=e;switch(n.type){case b:return(0,v.jsx)(f.default,{header:null!==(t=n.header)&&void 0!==t?t:"",uppercase:!1});case _:return(0,v.jsx)(l.default,{participant:n.participant});case j:return(0,v.jsx)(S,{});default:throw new u.UnknownDataError(n)}}const E={row:{height:"graaj7av",backgroundColor:"ihvf49ua"},disclaimer:{fontSize:"f8jlpxt4",color:"pm5hny62"},empty:{fontSize:"enbbiyaj",color:"eruf1vka"}};function S(){return(0,v.jsx)(c.FlexRow,{xstyle:[E.row,E.disclaimer,s.uiPadding.horiz15],align:"center",justify:"center",children:(0,v.jsx)("span",{children:p.fbt._("People who left or were removed in the last 60 days. {=m2}",[p.fbt._implicitParam("=m2",(0,v.jsx)(d.ExternalLink,{href:(0,i.getHowToExitAndDeleteGroupsFaq)(),children:p.fbt._("Learn More",null,{hk:"44tT41"})}))],{hk:"gdXOy"})})})}function y(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.default,{header:p.fbt._("Past participants",null,{hk:"2k91Dw"}),uppercase:!1}),(0,v.jsx)(c.FlexRow,{xstyle:[E.row,E.empty],align:"center",justify:"center",children:(0,v.jsx)("span",{children:p.fbt._("No results found",null,{hk:"1Wo2fc"})})}),(0,v.jsx)(S,{})]})}var k=(0,m.forwardRef)(M);t.default=k},787598:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{participant:t}=e,n=(0,u.useModelValues)(t.contact,["id","showBusinessCheckmarkAsPrimary"]),a=(0,f.jsx)(d.Name,{contact:n,showBusinessCheckmark:n.showBusinessCheckmarkAsPrimary,showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),h=i.Clock.pastParticipantOnDateAtTime(t.leaveTs,function(e){const t=e.id.equals((0,s.getMeUser)());if(e.leaveReason===o.LeaveReason.Left)return t?c.fbt._("Left",null,{hk:"3R2igg"}):c.fbt._("Left",null,{hk:"3kbdqU"});return t?c.fbt._("Removed",null,{hk:"4vPnHl"}):c.fbt._("Removed",null,{hk:"3LiTU6"})}(t));return(0,f.jsx)(l.default,{image:(0,f.jsx)(r.DetailImage,{id:n.id}),primary:a,secondary:h})};var i=n(40234),o=n(681398),s=n(978820),l=a(n(744356)),r=n(288984),d=n(812176),c=n(548360),u=n(735461),f=n(785893)},769171:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t}=e,n=(0,l.jsx)(i.TextSpan,{theme:"title",children:s.fbt._("Security",null,{hk:"2BYJDI"})}),a=(0,l.jsx)(i.TextDiv,{theme:"muted",children:s.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"})});return(0,l.jsx)(o.default,{icon:"lock",onClick:t,title:n,secondaryTitle:a})};var i=n(113923),o=a(n(575116)),s=n(548360),l=n(785893)},690973:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useShowPastParticipants=function(e){const t=(0,l.useOptionalModelValues)(e.groupMetadata,["participants","pastParticipants","groupType"]),n=null==t?void 0:t.pastParticipants,a=(0,s.default)(n,["add","remove","reset"],(()=>Boolean(null==n?void 0:n.getValidRecords().length)));if(!(0,i.pastParticipantsScreenEnabled)()||!a)return!1;if((null==t?void 0:t.groupType)===o.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)return Boolean(null==t?void 0:t.participants.iAmAdmin());return!0};var i=n(879662),o=n(455981),s=a(n(196570)),l=n(735461)},109582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{isVoiceCallEnabled:!1,isVideoCallEnabled:!1,canStartVoiceCall:!1,canStartVideoCall:!1,startVoiceCall:()=>{},startVideoCall:()=>{}}};n(667294),n(587550),n(317239)},404584:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;if((0,u.useEffect)((()=>{(0,o.isMDBackend)()&&(0,i.isPrivacyNarrativeV1Enabled)()&&(0,d.incrementPrinaDailyCount)(e.highlightSurface,r.PrinaDailyActionType.NARRATIVE_APPEAR)}),[]),!(0,o.isMDBackend)())return null;const{onClick:n,text:a}=e,h=(0,f.jsx)(l.TextSpan,{theme:"title",children:null!==(t=e.title)&&void 0!==t?t:c.fbt._("Encryption",null,{hk:"a7CfR"})}),p=(0,f.jsx)(l.TextDiv,{theme:"muted",children:a});return(0,f.jsx)(s.default,{onClick:n,icon:"lock",title:h,secondaryTitle:p})};var i=n(227101),o=n(88555),s=a(n(575116)),l=n(113923),r=n(221547),d=n(433954),c=n(548360),u=n(667294),f=n(785893)},669824:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(29521)),o=(n(257243),n(227101)),s=n(312380),l=n(408139),r=n(914597),d=n(815562),c=(n(41381),n(978820)),u=a(n(389867)),f=a(n(233095)),h=a(n(294913)),p=a(n(435721)),m=(n(429623),a(n(303271)),n(113923)),g=a(n(60453)),x=a(n(69637)),v=n(994790),b=a(n(833308)),_=n(756728),j=n(218963),M=n(455981),C=(n(118146),n(964551)),E=n(548360),S=n(667294),y=n(735461),k=a(n(895402)),T=n(785893);const P=e=>{let{isRestricted:t,onClick:n}=e;return(0,T.jsxs)(p.default,{onClick:n,multiline:!0,children:[(0,T.jsx)("div",{className:f.default.header,children:(0,T.jsx)(m.TextSpan,{theme:"title",children:E.fbt._("Edit group info",null,{hk:"2rhyLl"})})}),(0,T.jsx)(m.TextDiv,{theme:"muted",children:t?E.fbt._("Only admins",null,{hk:"1shXeT"}):E.fbt._("All participants",null,{hk:"2YNQNN"})})]})},w=e=>{let{isAnnouncement:t,onClick:n}=e;return(0,T.jsxs)(p.default,{onClick:n,multiline:!0,children:[(0,T.jsx)("div",{className:f.default.header,children:(0,T.jsx)(m.TextSpan,{theme:"title",children:E.fbt._("Send messages",null,{hk:"2zKwxL"})})}),(0,T.jsx)(m.TextDiv,{theme:"muted",children:t?E.fbt._("Only admins",null,{hk:"1shXeT"}):E.fbt._("All participants",null,{hk:"2YNQNN"})})]})},A=e=>{let{isNoFrequentlyForwarded:t,onClick:n}=e;const a=C.ServerProps.hfmStringChanges?E.fbt._("Messages forwarded many times",null,{hk:"2Neytn"}):E.fbt._("Frequently forwarded messages",null,{hk:"1OxFLx"});return(0,T.jsxs)(p.default,{onClick:n,multiline:!0,children:[(0,T.jsx)("div",{className:f.default.header,children:(0,T.jsx)(m.TextSpan,{theme:"title",children:a})}),(0,T.jsx)(m.TextDiv,{theme:"muted",children:t?E.fbt._("Don't allow",null,{hk:"3uBuwQ"}):E.fbt._("Allow",null,{hk:"2pdVOn"})})]})};function N(e,t){const n=(0,y.useModelValues)(e.chat,["id"]),a=(0,y.useModelValues)(e.groupMetadata,["restrict","announce","noFrequentlyForwarded","participants","owner","groupType","isParentGroup","membershipApprovalMode"]),C=(0,k.default)(),S=e=>{r.ModalManager.open((0,T.jsx)(h.default,{settingType:e,chat:n,groupMetadata:a}),{transition:"modal",uim:C})},N=()=>a.participants.filter((e=>e.isAdmin)).map((e=>e.contact)),I=e=>!!a.participants.get(e.id),D=e=>{const t=u.default.equals(e.id,a.owner),n=(0,c.getMaybeMeUser)().equals(e.id),i=a.groupType===M.GroupType.COMMUNITY&&(0,l.communitiesEnabled)();return t||n&&!i},R=e=>{const t=a.participants,o=t.filter((e=>e.isAdmin)),s=(0,i.default)(e,o,((e,t)=>e.id.equals(t.id))).map((e=>t.assertGet(e.id))),l=(0,i.default)(o,e,((e,t)=>e.id.equals(t.id)));s.length>0&&(s.forEach((e=>{e.contact.pendingAction++})),(0,d.promoteParticipants)(n,s).finally((()=>{s.forEach((e=>{e.contact.pendingAction--}))}))),l.length>0&&(l.forEach((e=>{e.contact.pendingAction++})),(0,d.demoteParticipants)(n,l).finally((()=>{l.forEach((e=>{e.contact.pendingAction--}))}))),r.ModalManager.close()};return(0,T.jsxs)(g.default,{ref:t,theme:"striped",children:[(0,T.jsx)(v.DrawerHeader,{title:E.fbt._("Group settings",null,{hk:"3sS0Vl"}),type:v.DRAWER_HEADER_TYPE.SMALL,onBack:e.onClose}),(0,T.jsxs)(x.default,{children:[(0,T.jsx)(b.default,{animation:!1,children:(0,T.jsx)(P,{onClick:()=>{S(s.GROUP_SETTING_TYPE.RESTRICT)},isRestricted:a.restrict})}),(0,T.jsx)("div",{className:f.default.restrictText,children:(0,T.jsx)(m.TextSpan,{theme:"muted",children:E.fbt._("Choose who can change this group’s subject, icon, description and disappearing messages setting.",null,{hk:"1cqpzS"})})}),(0,T.jsxs)(b.default,{animation:!1,children:[a.groupType!==M.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(0,T.jsx)(w,{onClick:()=>{S(s.GROUP_SETTING_TYPE.ANNOUNCEMENT)},isAnnouncement:a.announce}):null,(0,o.isAdminHfmToggleEnabled)()?(0,T.jsx)(A,{onClick:()=>{S(s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED)},isNoFrequentlyForwarded:a.noFrequentlyForwarded}):null]}),undefined,a.groupType!==M.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(0,T.jsx)(b.default,{animation:!1,children:(0,T.jsx)(p.default,{onClick:()=>{r.ModalManager.open((0,T.jsx)(_.SelectModal,{onConfirm:R,getInitialItems:N,isDisabled:D,isSelected:D,filter:I,title:E.fbt._("Edit group admins",null,{hk:"1BOEkM"}),useShortName:!0,useAllContacts:!0,listType:_.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:j.FooterType.CONFIRM,multipleSelectionFooterType:j.FooterType.CONFIRM,shouldShowSelectionSummary:!1}))},multiline:!0,children:(0,T.jsx)("div",{className:f.default.header,children:(0,T.jsx)(m.TextSpan,{theme:"title",children:E.fbt._("Edit group admins",null,{hk:"1BOEkM"})})})})}):null]})]})}var I=(0,S.forwardRef)(N);t.default=I},294913:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{settingType:t}=e,n=(0,p.useModelValues)(e.chat,["id"]),a=(0,p.useModelValues)(e.groupMetadata,["restrict","announce","noFrequentlyForwarded"]),g=(0,h.useMemo)((()=>{switch(t){case s.GROUP_SETTING_TYPE.ANNOUNCEMENT:case s.GROUP_SETTING_TYPE.RESTRICT:return[{label:f.fbt._("All participants",null,{hk:"2YNQNN"}),value:0},{label:f.fbt._("Only admins",null,{hk:"1shXeT"}),value:1}];case s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return[{label:f.fbt._("Allow",null,{hk:"2pdVOn"}),value:0},{label:f.fbt._("Don't allow",null,{hk:"3uBuwQ"}),value:1}];default:return[]}}),[t]),x=(0,h.useMemo)((()=>{const{restrict:e,announce:n,noFrequentlyForwarded:i}=a;switch(t){case s.GROUP_SETTING_TYPE.ANNOUNCEMENT:return n?1:0;case s.GROUP_SETTING_TYPE.RESTRICT:return e?1:0;case s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return i?1:0;default:return 0}}),[t,a]),v=(0,h.useMemo)((()=>{switch(t){case s.GROUP_SETTING_TYPE.ANNOUNCEMENT:return f.fbt._("Send messages",null,{hk:"2zKwxL"});case s.GROUP_SETTING_TYPE.RESTRICT:return f.fbt._("Edit group info",null,{hk:"2rhyLl"});case s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return u.ServerProps.hfmStringChanges?f.fbt._("Messages forwarded many times",null,{hk:"2Neytn"}):f.fbt._("Frequently forwarded messages",null,{hk:"1OxFLx"});default:return""}}),[t]),b=(0,h.useMemo)((()=>t===s.GROUP_SETTING_TYPE.RESTRICT?f.fbt._("Choose who can change this group’s subject, icon, description and disappearing messages setting.",null,{hk:"1cqpzS"}):t===s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED&&(0,i.isAdminHfmToggleEnabled)()?(0,m.jsxs)(m.Fragment,{children:[f.fbt._("Choose to allow participants to send messages to the group that have been forwarded many times.",null,{hk:"1PP9Ge"})," ",(0,m.jsx)(d.ExternalLink,{href:(0,o.getFrequentlyForwardedFaqUrl)(),children:r.default.t(397)})]}):null),[t]);return(0,m.jsx)(c.default,{options:g,initialValue:x,title:v,onSelect:e=>{e!==x&&(0,l.setGroupProperty)(n,t,e).catch((()=>()=>{}))},explanation:b})};var i=n(227101),o=n(221310),s=n(312380),l=n(41381),r=a(n(914296)),d=n(912591),c=a(n(537881)),u=n(964551),f=n(548360),h=n(667294),p=n(735461),m=n(785893)},181871:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(978820),o=a(n(225653)),s=a(n(11339)),l=n(685600),r=n(548360),d=n(667294),c=a(n(156720)),u=n(785893);const f={paddingTop:"s7fqlky6",paddingEnd:"iffbo4e8",paddingBottom:"q1tx93la",paddingStart:"e8k79tju",fontSize:"ovllcyds",color:"amgz1mtg"};function h(e,t){const{keptMsgs:n,onClose:a,chat:h}=e;(0,d.useEffect)((()=>{const e=new s.default.DisappearingMessageKeepInChat({kicActionName:s.default.KIC_ACTION_NAME_TYPE.VIEW_KEPT_MESSAGES,kicEntryPoint:s.default.KIC_ENTRY_POINT_TYPE.CHAT_INFO,messagesInFolder:n.length,isAGroup:null==h?void 0:h.isGroup});if(null==h?void 0:h.isGroup){var t,a;const n=(0,i.assertGetMeUser)();e.set({isAdmin:null==h||null===(t=h.groupMetadata)||void 0===t||null===(a=t.participants.get(n))||void 0===a?void 0:a.isAdmin})}e.commit()}),[]);const p=r.fbt._("Kept messages",null,{hk:"iGco8"}),m=(0,u.jsx)(l.KeptMsgs,{}),g=(0,u.jsx)("div",{className:(0,c.default)(f),children:r.fbt._("These messages are kept in the chat for everyone. Everyone can keep or unkeep a message. Group admins can limit this.",null,{hk:"KmQy3"})});return(0,u.jsx)(o.default,{ref:t,msgCollection:n,onClose:a,chat:h,title:p,emptyListText:m,descriptionSection:g})}var p=(0,d.forwardRef)(h);t.default=p},243895:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{onClick:n}=e,a=(0,m.useModelValues)(e.chat,["id","isGroup","liveLocation","liveLocationQueried"]),x=(0,p.default)(null===(t=a.liveLocation)||void 0===t?void 0:t.participants,["add","remove"],(()=>{var e,t;return null!==(e=null===(t=a.liveLocation)||void 0===t?void 0:t.participants.toArray())&&void 0!==e?e:[]}));if((0,h.useEffect)((()=>{a.liveLocationQueried||u.LiveLocationCollection.getActive(a.id.toString()).then((()=>{(0,c.unproxy)(a).liveLocationQueried=!0})).catch((()=>{}))}),[]),!x.length)return null;const v=(0,g.jsx)(r.default,{name:(0,s.liveLocationIcon)(!0)});return(0,g.jsx)(i.default,{testid:"section-live-location",theme:"padding",title:f.fbt._("Live Location",null,{hk:"1LvIwY"}),titleOnClick:n,children:(0,g.jsx)(l.default,{side:v,onClick:n,children:(0,g.jsx)(d.TextSpan,{theme:"title",children:(()=>{let e,t,n=0;if(x.forEach((a=>{a.isMe?e=!0:(t||(t=a.contact),n++)})),a.isGroup)return e?1===x.length?f.fbt._("You are sharing live location",null,{hk:"4DvZgE"}):f.fbt._({"*":"You and {number} others are sharing live location",_1:"You and 1 other person are sharing live location"},[f.fbt._plural(n,"number")],{hk:"2cBRlh"}):f.fbt._({"*":"{number} people are sharing live location",_1:"1 person is sharing live location"},[f.fbt._plural(n,"number")],{hk:"2hMfuk"});if(e){if(1===x.length)return f.fbt._("You are sharing live location",null,{hk:"4DvZgE"});if(t)return o.default.t(414,{name:t.formattedShortNameWithNonBreakingSpaces})}else if(t)return o.default.t(411,{name:t.formattedShortNameWithNonBreakingSpaces});return""})()})})})};var i=a(n(833308)),o=a(n(914296)),s=n(508581),l=a(n(853145)),r=a(n(23217)),d=n(113923),c=n(118146),u=n(985865),f=n(548360),h=n(667294),p=a(n(196570)),m=n(735461),g=n(785893)},308059:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.MediaGalleryDrawer=void 0;var i=a(n(252628)),o=a(n(578931)),s=a(n(540436)),l=a(n(60453)),r=a(n(69637)),d=n(994790),c=a(n(265636)),u=a(n(914296)),f=n(446331),h=a(n(5577)),p=a(n(893528)),m=a(n(188224)),g=a(n(116351)),x=a(n(799108)),v=n(718644),b=n(964551),_=a(n(294184)),j=n(548360),M=n(667294),C=a(n(616223)),E=n(785893);const S={MEDIA:"media",DOCS:"docs",LINKS:"links",PRODUCTS:"products"};t.TABS=S;const y=(0,M.forwardRef)(((e,t)=>{const{chat:n,onProductDetail:a,setProductsScrollOffset:y,initialTab:k=S.MEDIA,productsScrollOffset:T=0}=e,[P,w]=(0,M.useState)(k),[A,N]=(0,M.useState)(null),[I,D]=(0,M.useState)(!1),R=(0,C.default)((()=>new o.default([],(e=>e.id.toString())))),O=()=>{I&&(R.current.unsetAll(),D(!1))},L=(e,t)=>{I||D(!0),R.current.setVal(e,t),0===R.current.getSelected().length&&O()},B=(0,M.useCallback)((e=>{const t=(0,i.default)(S).indexOf(P),n=(0,i.default)(S).indexOf(e);t!==n&&R.current.unsetAll(),w(e),N(n>t?"right":"left"),D(!1)}),[R,P]),G=(0,M.useMemo)((()=>{const e=[{tab:S.MEDIA,title:u.default.t(440)},{tab:S.DOCS,title:u.default.t(247)},{tab:S.LINKS,title:u.default.t(398)}];b.ServerProps.productMediaAttachments&&e.push({tab:S.PRODUCTS,title:j.fbt._("Products",null,{hk:"3Ky71N"})});const t=e.map((e=>{const t=(0,_.default)(c.default.menuItem,{[c.default.active]:P===e.tab});return(0,E.jsx)("button",{className:t,onClick:()=>B(e.tab),title:e.title,children:e.title},e.tab)})),n=(0,_.default)(c.default.menuTabsLists,b.ServerProps.productMediaAttachments?c.default.fourTabs:c.default.threeTabs);return(0,E.jsx)("div",{className:n,"data-active-tab":P,children:t})}),[P,B]),U=(()=>{let e;switch(P){case S.MEDIA:e=(0,E.jsx)(m.default,{chat:n,mediaMsgs:n.getMediaMsgs(),selectable:I,onMessageSelect:L,selectedMessages:R.current,fullCollection:!0});break;case S.LINKS:e=(0,E.jsx)(p.default,{chat:n,linkMsgs:n.getLinkMsgs(),selectable:I,onMessageSelect:L,selectedMessages:R.current});break;case S.DOCS:e=(0,E.jsx)(h.default,{chat:n,docMsgs:n.getDocMsgs(),selectable:I,onMessageSelect:L,selectedMessages:R.current});break;case S.PRODUCTS:e=(0,E.jsx)(x.default,{chat:n,productMsgs:n.getProductMsgs(),selectable:I,onMessageSelect:L,selectedMessages:R.current,onProductDetail:a,setScrollOffset:y,scrollOffset:T})}return e})(),F=[S.MEDIA,S.DOCS].includes(P),V=I?(0,E.jsx)(v.UIE,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:O,children:(0,E.jsx)(g.default,{chat:n,noSortOnForward:!0,theme:"mediaGallery",toastPosition:f.ToastPosition.RIGHT,downloadButton:F,selectedMessages:R.current,onCancel:O})}):null,H="right"===A?"slide-forward":"slide-back";return(0,E.jsxs)(l.default,{ref:t,theme:"gallery",children:[(0,E.jsx)(d.DrawerHeader,{title:" ",onBack:e.onBack,rtlFixIfOnDarwin:!0,type:d.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),V,G,(0,E.jsx)(r.default,{"data-list-scroll-container":!0,children:(0,E.jsx)(s.default,{transitionName:H,className:c.default.column,children:(0,E.jsx)("div",{className:c.default.multimediaGallery,children:(0,E.jsx)("div",{className:c.default.column,children:U})},P)})})]})}));t.MediaGalleryDrawer=y,y.displayName="MediaGalleryDrawer"},614425:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.useModelValues)(e.mediaData,["mediaStage","renderableUrl"]);return(0,c.jsx)(s.default,{mediaData:t,placeholderRenderer:h,children:t=>(0,c.jsx)(f,{url:t,msg:e.msg})})};var i=a(n(179741)),o=a(n(914296)),s=a(n(220553)),l=a(n(145863)),r=a(n(294184)),d=n(735461),c=n(785893);const u=e=>{e.stopPropagation()};function f(e){let{url:t,msg:n}=e;return(0,c.jsx)(l.default,{url:t,className:i.default.mediaViewerAudio,onClick:u,autoPlay:!0,msg:n,controls:!0,children:o.default.t(141)})}function h(){return(0,c.jsx)("div",{className:(0,r.default)(i.default.imageAudio,i.default.mediaViewerPlaceholder),onClick:u})}},965768:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onHightlightCloseEnd:t,msgIndexInAlbum:n,onViewOnceInfoClick:a,onClose:i}=e,s=(0,V.useRef)(null),l=(0,q.useModelValues)(e.msg,["id","star","isGroupMsg","chat","type","isGif","isViewOnce","sender","senderObj","t","isSentByMe","isStickerMsg","broadcastId","isUnsentMedia","isKept"]),r=(0,q.useModelValues)(e.mediaData,["filehash","mediaStage","renderableUrl"]),[d,c]=(0,V.useState)(null),[f,p]=(0,V.useState)(null),m=(0,V.useRef)(null),x=()=>{c(null)},v=()=>{p(null)},_=(0,z.default)((e=>{(0,u.canReactToMessage)(e)&&p({dirY:E.DirY.BOTTOM,dirX:E.DirX.CENTER,type:E.MenuType.ReactionPicker,menu:(0,Y.jsx)(N.ReactionsPanel,{msgId:e.id.toString(),onSelection:t=>{(0,h.sendReactionToMsg)(e,t).catch((()=>{})),v()}}),flipOnRTL:!0,anchor:m.current})}));(0,H.useListener)(s.current,"animationend",(()=>{t()}));let M,S=l.displayName(!0,!0);l.isGroupMsg&&(S+=" @ "+l.chat.title());d?M=(0,Y.jsx)(P.UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:x,children:(0,Y.jsx)(w.default,{contextMenu:d})}):f&&(M=(0,Y.jsx)(P.UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:v,children:(0,Y.jsx)(w.default,{contextMenu:f})}));return(0,Y.jsxs)("div",{className:g.default.mediaPanelHeader,children:[(0,Y.jsx)("div",{className:g.default.info,children:(0,Y.jsx)(j.default,{idle:!0,image:(0,Y.jsx)(C.DetailImage,{id:l.sender,size:40}),primary:(0,Y.jsx)(y.EmojiText,{ellipsify:!0,text:S}),secondary:o.Clock.relativeDateAndTimeStr(l.t),theme:"media"})}),(0,Y.jsx)("div",{className:g.default.mediaPanelTools,children:(0,Y.jsxs)(k.MenuBar,{theme:"strong",children:[(0,Y.jsx)(de,{isMediaDownloadable:()=>!l.isViewOnce&&(!!r.renderableUrl||r.mediaStage===b.MEDIA_DATA_STAGE.RESOLVED),msg:l,msgIndexInAlbum:n,onClose:i,onViewOnceInfoClick:a,openReactionTray:()=>{if(!(0,u.canReactToMessage)(l))return;const e={dirY:E.DirY.BOTTOM,dirX:E.DirX.CENTER,type:E.MenuType.ReactionSendTray,menu:(0,Y.jsx)(D.SendReactionsTrayContainer,{msg:l,selectedCallback:e=>{e!==I.MORE_REACTIONS?(0,h.sendReactionToMsg)(l,e).catch((()=>{})):setTimeout((()=>{_(l)}),150),x()}}),flipOnRTL:!1,anchor:m.current};c(e)},sendReactionButtonRef:m}),(0,Y.jsx)(k.MenuBarItem,{testid:"btn-close",icon:(0,Y.jsx)(T.default,{className:e.isHighlightClose?g.default.highlightClose:null,containerRef:s,name:"x-viewer"}),title:F.fbt._("Close",null,{hk:"19Jpec"}),onClick:e.onClose})]},"media-panel-header")}),M]})};var i=n(413959),o=n(40234),s=n(781572),l=n(141455),r=n(21634),d=n(914597),c=n(115461),u=n(867811),f=a(n(925584)),h=n(805687),p=n(45775),m=n(387674),g=a(n(477375)),x=n(508969),v=a(n(914296)),b=n(58668),_=n(755051),j=a(n(744356)),M=n(872439),C=n(288984),E=n(160811),S=n(471174),y=n(965417),k=n(646346),T=a(n(23217)),P=n(718644),w=a(n(624717)),A=n(188172),N=n(525365),I=n(761761),D=n(713228),R=n(496144),O=a(n(452665)),L=a(n(447022)),B=n(739920),G=a(n(193187)),U=n(118146),F=n(548360),V=n(667294),H=n(587550),q=n(735461),z=a(n(389113)),Y=n(785893);const W=n(76672).Mirrored(["MenuBar","Dropdown"]);function K(e){const t=e.chat;t.composeQuotedMsg=e,A.ComposeBoxActions.focus(t)}function X(e){return e.chat.isGroup?F.fbt._("Report group",null,{hk:"23NLqw"}):v.default.t(560,{contactInfo:e.senderObj.displayName})}function Z(e){let{isMediaDownloadable:t,msg:n,onClose:a,openReactionTray:i,sendReactionButtonRef:o}=e;return(0,Y.jsxs)(Y.Fragment,{children:[n.canReply()?(0,Y.jsx)(J,{msg:n,onClose:a}):null,n.canStar()?(0,Y.jsx)(ie,{msg:n}):null,n.canKeepOrUnkeep()?(0,Y.jsx)(ae,{msg:n}):null,(0,u.canReactToMessage)(n)?(0,Y.jsx)(ne,{msg:n,openReactionTray:i,sendReactionButtonRef:o}):null,(0,Y.jsx)(ee,{msg:n,onClose:a}),n.canForward()?(0,Y.jsx)(oe,{msg:n}):null,(0,Y.jsx)(ce,{isMediaDownloadable:t,msg:n,onClose:a})]})}function Q(e){let{isMediaDownloadable:t,msg:n,onClose:a,openReactionTray:i,sendReactionButtonRef:o}=e;return(0,Y.jsxs)(Y.Fragment,{children:[n.isStickerMsg?null:(0,Y.jsx)($,{msg:n,type:W.MenuBar,onClose:a}),n.isStickerMsg?(0,Y.jsx)(J,{msg:n,onClose:a}):null,n.canStar()?(0,Y.jsx)(ie,{msg:n}):null,n.canKeepOrUnkeep()?(0,Y.jsx)(ae,{msg:n}):null,n.isStickerMsg?(0,Y.jsx)(ee,{msg:n,onClose:a}):null,(0,u.canReactToMessage)(n)?(0,Y.jsx)(ne,{msg:n,openReactionTray:i,sendReactionButtonRef:o}):null,n.canForward()?(0,Y.jsx)(oe,{msg:n}):null,n.isStickerMsg?null:(0,Y.jsx)(te,{isMediaDownloadable:t,msg:n,type:W.MenuBar})]})}function $(e){let{msg:t,type:n,onClose:a}=e;const i=e=>{e.stopPropagation(),a(),l.DrawerManager.existsDrawerRight((e=>{e&&2===M.Column.column&&l.DrawerManager.closeDrawerRight()}));const n=t.chat.getSearchContext((0,U.unproxy)(t));s.Cmd.openChatAt(t.chat,n).then((e=>{e&&A.ComposeBoxActions.focus(t.chat)}))};return n===W.Dropdown?(0,Y.jsx)(S.DropdownItem,{action:i,children:F.fbt._("Go to message",null,{hk:"B1anG"})}):(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:"bubble"}),title:F.fbt._("Go to message",null,{hk:"B1anG"}),onClick:i})}function J(e){let{msg:t,onClose:n}=e;return(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:"reply"}),title:F.fbt._("Reply",null,{hk:"1C7DPa"}),onClick:()=>{n(),(0,i.delayMs)(x.CLOSE_ANIMATION_DURATION).then(K.bind(null,(0,U.unproxy)(t)))}})}function ee(e){let{msg:t,onClose:n}=e;return(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:"delete"}),title:F.fbt._("Delete",null,{hk:"2KhPUX"}),onClick:()=>{d.ModalManager.open((0,Y.jsx)(L.default,{chat:t.chat,msgList:[(0,U.unproxy)(t)],onDelete:n})),_.UiRevokeActionHelper.startSession(),_.UiRevokeActionHelper.messageSelected()}})}function te(e){let{msg:t,type:n,isMediaDownloadable:a}=e;const i=e=>{e.stopPropagation(),r.FileSaver.initDownload((0,U.unproxy)(t))};return n===W.Dropdown?(0,Y.jsx)(S.DropdownItem,{action:i,disabled:!a(),children:F.fbt._("Download",null,{hk:"1g5Jix"})}):(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:"download"}),title:F.fbt._("Download",null,{hk:"1g5Jix"}),disabled:!a(),onClick:i})}function ne(e){let{msg:t,openReactionTray:n,sendReactionButtonRef:a}=e;return t.type===c.MSG_TYPE.STICKER?null:(0,Y.jsx)(k.MenuBarItem,{testid:"reaction-entry-point",icon:(0,Y.jsx)(T.default,{containerRef:a,name:"reactions-media",width:20}),title:F.fbt._("React to message",null,{hk:"1MagBh"}),onClick:()=>{n()}})}const ae=e=>{let t,n,a,{msg:i}=e;const o=e=>{e.stopPropagation(),(0,B.runKeepInChatUX)((0,U.unproxy)(i))},s=e=>{e.stopPropagation(),(0,B.runUndoKeepInChatUX)((0,U.unproxy)(i))};if(i.isKept&&i.canUnkeep())t="undo-keep-in-chat",n=s,a=F.fbt._("Unkeep",null,{hk:"1eGZng"});else{if(i.isKept||!i.canKeep())return null;t="keep-in-chat",n=o,a=F.fbt._("Keep",null,{hk:"1a48ae"})}return(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:t}),title:a,onClick:n},t)};function ie(e){let t,n,a,{msg:i}=e;return i.star?(t=e=>{e.stopPropagation(),s.Cmd.sendUnstarMsgs(i.chat,[(0,U.unproxy)(i)])},n="unstar-btn",a=v.default.t(634)):(t=e=>{e.stopPropagation(),s.Cmd.sendStarMsgs(i.chat,[(0,U.unproxy)(i)])},n="star-btn",a=v.default.t(610)),(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:n}),title:a,onClick:t},n)}function oe(e){let{msg:t}=e;return(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:"forward"}),title:v.default.t(315),onClick:e=>{e.stopPropagation(),t.isUnsentMedia?d.ModalManager.open((0,Y.jsx)(O.default,{title:v.default.t(305),onOK:()=>d.ModalManager.close(),okText:F.fbt._("OK",null,{hk:"2KEeHb"}),children:v.default.t(302)})):d.ModalManager.open((0,Y.jsx)(R.ForwardMessageModalLoadable,{msgs:[(0,U.unproxy)(t)],onClose:()=>d.ModalManager.close()}),{transition:"modal-flow"})}})}function se(e){let{msg:t}=e;return(0,Y.jsx)(S.DropdownItem,{testid:"mi-msg-reply",action:()=>{(0,f.default)(t)},children:F.fbt._("Reply privately",null,{hk:"1XQeK2"})})}function le(e){let{msg:t}=e;const n=e=>{const{chat:n}=t;n&&(e?n.isGroup?(0,p.sendSpamExitClear)(n,m.SpamFlow.MediaViewer):(0,p.sendSpamBlockClear)(n,m.SpamFlow.MediaViewer):(0,p.sendSpamReport)(n,m.SpamFlow.MediaViewer)),d.ModalManager.close()};return(0,Y.jsx)(S.DropdownItem,{action:()=>{d.ModalManager.open((0,Y.jsx)(G.default,{isBusiness:t.senderObj.isBusiness,isGroup:t.chat.isGroup,onReport:n,onCancel:()=>d.ModalManager.close(),title:X(t)}))},children:X(t)})}function re(e){let{msg:t,onClose:n}=e;return(0,Y.jsx)(S.DropdownItem,{action:()=>{n(),(0,i.delayMs)(x.CLOSE_ANIMATION_DURATION+250).then(s.Cmd.msgInfoDrawer.bind(s.Cmd,(0,U.unproxy)(t)))},children:v.default.t(459)})}function de(e){let{isMediaDownloadable:t,msg:n,msgIndexInAlbum:a,onClose:i,onViewOnceInfoClick:o,openReactionTray:s,sendReactionButtonRef:l}=e;return n.isViewOnce?(0,Y.jsx)(ue,{isMediaDownloadable:t,msg:n,onClose:i,onViewOnceInfoClick:o}):a>=0?(0,Y.jsx)(Z,{isMediaDownloadable:t,msg:n,onClose:i,openReactionTray:s,sendReactionButtonRef:l}):(0,Y.jsx)(Q,{isMediaDownloadable:t,msg:n,onClose:i,openReactionTray:s,sendReactionButtonRef:l})}function ce(e){let{isMediaDownloadable:t,msg:n,onClose:a}=e;const i=[];return(n.canPrivateReply()||n.canPrivateReplyInRestrictedGrp())&&i.push((0,Y.jsx)(se,{msg:n},"private_reply")),n.isViewOnce?i.push((0,Y.jsx)(le,{msg:n},"reportSpam")):(n.isSentByMe&&i.push((0,Y.jsx)(re,{msg:n,onClose:a},"dropdownMsgInfo")),i.push((0,Y.jsx)($,{msg:n,type:W.Dropdown,onClose:a},"dropdownGoToMsg"),(0,Y.jsx)(te,{isMediaDownloadable:t,msg:n,type:W.Dropdown},"dropdownDownload"))),(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:"menu"}),title:v.default.t(454),children:(0,Y.jsx)(E.Dropdown,{type:E.MenuType.DropdownMenu,flipOnRTL:!0,dirX:E.DirX.LEFT,children:i})})}function ue(e){let{isMediaDownloadable:t,msg:n,onClose:a,onViewOnceInfoClick:i}=e;return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(k.MenuBarItem,{icon:(0,Y.jsx)(T.default,{name:"view-once",className:g.default.voIcon}),title:F.fbt._("View once info",null,{hk:"47XkZ4"}),onClick:i}),(0,Y.jsx)(ce,{isMediaDownloadable:t,msg:n,onClose:a})]})}},402959:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(839040)),o=a(n(537015)),s=a(n(220553)),l=a(n(11339)),r=n(429623),d=a(n(247065)),c=a(n(638261)),u=n(610595),f=a(n(660325)),h=n(667294),p=a(n(156720)),m=a(n(778506)),g=n(735461),x=n(785893);const v={container:{width:"ln8gz9je",height:"ppled2lx"},stickerContainer:{maxWidth:"mx6rw3sv",maxHeight:"trnfqnf9",marginBottom:"r2u2pyhj",zIndex:"thghmljt"}},b=(e,t)=>{const{msg:n}=e,a=(0,g.useModelValues)(e.mediaData,["mediaStage","fullWidth","fullHeight","isFirstParty","stickerPackId","stickerPackName","stickerPackPublisher"]),b=(0,h.useRef)(null),_=(0,m.default)(t,b),j=e=>{var t;null===(t=b.current)||void 0===t||t.onClick(e)},M=a.isFirstParty?(0,x.jsx)(c.default,{stickerPackId:a.stickerPackId,onStickerPackView:e.onStickerPackView,stickerPackViewDelay:e.stickerPackViewDelay}):(0,x.jsx)(u.StickerDetailsStickerPackInfo,{name:a.stickerPackName,publisher:a.stickerPackPublisher,theme:u.Theme.MediaViewer});return(0,x.jsxs)(r.FlexColumn,{align:"center",justify:"center",xstyle:v.container,children:[(0,x.jsx)("div",{className:(0,p.default)(v.container,v.stickerContainer),children:(0,x.jsx)(o.default,{ref:_,width:a.fullWidth,height:a.fullHeight,onZoomIn:e.onImgZoomIn,msg:n,children:(0,x.jsx)(s.default,{mediaData:a,placeholderRenderer:()=>(0,x.jsx)(f.default,{size:376}),downloadMedia:()=>null==n?void 0:n.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:l.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!1}),children:t=>(0,x.jsx)(d.default,{className:(0,p.default)(i.default.content),onClick:j,src:t,onLoad:e.onLoad})})})}),M]})};var _=(0,h.forwardRef)(b);t.default=_},726646:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(867811),o=a(n(215407)),s=a(n(839040)),l=a(n(914296)),r=n(58668),d=a(n(11339)),c=a(n(662190)),u=a(n(311791)),f=a(n(523425)),h=a(n(752500)),p=n(694270),m=a(n(65932)),g=n(640875),x=n(4522),v=n(899875),b=n(729984),_=n(667294),j=a(n(156720)),M=n(785893);class C extends _.PureComponent{constructor(){super(...arguments),this.state={played:!1,size:{width:0,height:0},isFullscreenMode:!1,displayReactionBubble:!0},this._setRefContainer=e=>{this.refContainer=e},this.stopPropagation=e=>{e.stopPropagation()},this._handleFullscreenToggle=e=>{this.setState({isFullscreenMode:e})}}static getDerivedStateFromProps(e){const{mediaData:t}=e;return(t.mediaStage===r.MEDIA_DATA_STAGE.RESOLVED||t.streamable&&t.isStreamable())&&(0,b.isNonZeroNumber)(t.fullWidth)&&(0,b.isNonZeroNumber)(t.fullHeight)?{size:C.getSize(t)}:null}static getSize(e){if(e.isGif){const t=330;return e.fullWidth>=t?{width:e.fullWidth,height:e.fullHeight}:{width:t,height:e.fullHeight*t/e.fullWidth}}return e.fullWidth>=x.MIN_WIDTH?{width:e.fullWidth,height:e.fullHeight}:{width:x.MIN_WIDTH,height:e.fullHeight}}componentDidMount(){this.props.mediaData.isStreamable()||this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:d.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0})}componentWillUnmount(){this.props.msg.mediaObject&&this.props.msg.cancelDownload()}closingMedia(){this.setState({displayReactionBubble:!1})}render(){var e;const{msg:t,mediaData:n,onLoadedData:a}=this.props,d=n.isGif;let m=n.mediaStage===r.MEDIA_DATA_STAGE.RESOLVED||n.streamable&&n.isStreamable();m=m||t.isForcingRMR();let x=null;const b=p.ReactionBubbleType.MEDIA_ITEM;if(t&&(0,i.shouldShowReactionBubble)(t,b)&&(x=(0,M.jsx)(h.default,{msgIds:[t.id.toString()],reactionBubbleType:b,reactionBubbleVisible:this.state.displayReactionBubble})),m){const e=l.default.t(654);let i,o;return!this.state.isFullscreenMode&&(null==t?void 0:t.interactiveAnnotations)&&t.interactiveAnnotations.length>0&&(i=(0,M.jsx)(c.default,{annotations:t.interactiveAnnotations})),o=d?(0,M.jsxs)("div",{className:(0,j.default)(s.default.content),ref:this._setRefContainer,children:[(0,M.jsx)(f.default,{src:n.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0,onLoadedData:a,children:e}),i]}):(0,M.jsx)("div",{ref:this._setRefContainer,className:(0,j.default)(s.default.content),onClick:this.stopPropagation,children:(0,M.jsx)(v.WrappedMsgVideoPlayer,{msg:t,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:()=>{},onFullscreenToggle:this._handleFullscreenToggle,autoPlay:this.props.autoPlay,type:g.PLAYER_TYPE.MEDIA_VIEWER,overlays:i,noPip:t.isViewOnce,onLoadedData:a})}),(0,M.jsxs)(u.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad,children:[o,x]})}return(0,M.jsxs)(u.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:{width:this.props.mediaData.fullWidth,height:this.props.mediaData.fullHeight},children:[(0,M.jsx)(o.default,{altText:null!==(e=t.caption)&&void 0!==e?e:"",mediaData:n}),x]})}}C.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","isViewOnce","preview","renderableUrl","streamable"]},C.defaultProps={startTime:0},C.displayName="MediaVideo";const E=(0,m.default)(C,C.CONCERNS);t.default=class extends E{getContainerElement(){return this.getComponent().refContainer}closingMedia(){this.getComponent().closingMedia()}}},747186:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onImageLoad:t,isAnimatingIn:n,onImgZoomIn:a,onExitAnimation:M,onBack:S}=e,U=(0,D.useModelValues)(e.msg,["id","star","isUnsentMedia","isViewOnce","isStickerMsg","chat","caption","interactiveAnnotations","type"]),V=(0,D.useModelValues)(e.mediaData,["mediaStage","type","isGif"]),H=(0,O.default)(n),q=(0,I.useRef)(null),z=(0,I.useRef)(null),Y=(0,I.useRef)(null),W=(0,I.useRef)(null),K=(0,I.useRef)(),X=(0,I.useRef)(!1),Z=(0,I.useRef)(!1),Q=(0,I.useRef)(!1),[$,J]=(0,R.default)(r.NUX.EPHEMERAL_VIEW_ONCE_RECEIVER),ee=U.isViewOnce&&$,[te]=(0,I.useState)((()=>V.mediaStage===j.MEDIA_DATA_STAGE.RESOLVED&&e.isAnimatingIn&&e.getZoomNode?e.getZoomNode(U.id):null)),[ne,ae]=(0,I.useState)(!1),[ie,oe]=(0,I.useState)(!1),[se,le]=(0,I.useState)(!e.isAnimatingIn),[re,de]=(0,I.useState)(!1),[ce,ue]=(0,I.useState)(!1),fe=()=>{const e=(0,B.jsx)(v.default,{isPhoto:V.type===_.default.TYPE.IMAGE,onOkClick:()=>{J(),l.ModalManager.close()}});l.ModalManager.open(e)},he=(0,L.default)(((e,t)=>{if(ie)return;const n=q.current;if(!n)return;const a=n.getInsideContainer();if(!(a&&a instanceof HTMLElement))return;const i=n.getOutsideContainer();if(!(i&&i instanceof HTMLElement))return;const{translateX:o,translateY:s}=n.getTranslatePosition(i,e,t);(0,d.default)(a,"stop"),(0,d.default)(a,{translateX:o,translateY:s,scale:g.ZOOM_IN_FACTOR},{duration:0})}));(0,I.useEffect)((()=>(__LOG__(2)`MediaViewerModal: Opened`,ee&&fe(),o.default.focus(W.current),()=>{__LOG__(2)`MediaViewerModal: Closed`,he.cancel()})),[]);const pe=()=>{U.isViewOnce&&(0,s.canMarkPlayed)(U)&&(0,s.markPlayed)(U)},me=e=>{pe(),t&&t();const a=te,i=e.target;a&&i&&n&&i instanceof HTMLElement&&(Q.current||(Q.current=!0,((e,t)=>{var n;const a=t.getBoundingClientRect(),i=e.getBoundingClientRect();let o=i.top-a.top,s=i.left-a.left;const l=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,s-=(t.clientWidth-e.clientWidth)/2,(0,d.default)(t,{opacity:[1,0],translateX:[0,s],translateY:[0,o],scale:[1,l]},{duration:g.ANIMATION_DURATION,easing:[.1,.82,.25,1]});const r=null===(n=Y.current)||void 0===n?void 0:n.getContainerElement();r&&(0,d.default)(r,{opacity:[1,0]},{duration:g.ANIMATION_DURATION})})(a,i)))},ge=()=>{var t;if(X.current)return;X.current=!0,(0,i.isFunction)(M)&&M();const n=e.getZoomNode&&e.getZoomNode(U.id);if(!n)return S();let a;const o=V.type;var s;if([_.default.TYPE.IMAGE,_.default.TYPE.STICKER].includes(o)&&q.current)a=q.current.getInsideContainer(),null===(s=q.current)||void 0===s||s.closingMediaZoomable();else if(V.isGif&&z.current){var l;a=z.current.getContainerElement(),null===(l=z.current)||void 0===l||l.closingMedia()}if(!a)return S();const r=a,c=a.getBoundingClientRect(),u=n.getBoundingClientRect();let f=u.top-c.top,h=u.left-c.left;const p=n.clientWidth/r.clientWidth;f-=(r.clientHeight-n.clientHeight)/2,h-=(r.clientWidth-n.clientWidth)/2,(0,d.default)(a,{translateX:[h,0],translateY:[f,0],scale:[p,1]},{duration:g.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then((()=>{S()}));const m=null===(t=Y.current)||void 0===t?void 0:t.getContainerElement();m&&(0,d.default)(m,{opacity:[0,1]},{duration:g.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]})},xe=e=>{const t=q.current;e&&t&&(Z.current=t.getHeightOverflow()>0||t.getWidthOverflow()>0),ae(e),a(e)},ve=()=>{ue(!0)},be=()=>{oe(!0)},_e=()=>{oe(!1)},je=e=>{e.stopPropagation(),de(!re)};let Me,Ce;switch((0,I.useEffect)((()=>{n||se||!H||le(!0)}),[n,se,H]),V.type){case _.default.TYPE.IMAGE:Me=(0,B.jsx)(u.default,{msg:U,mediaData:V,onLoad:me,onImgZoomIn:xe,onAnnotationTooltipDisplay:be,onAnnotationTooltipDismiss:_e,preventDownload:U.isViewOnce,ref:q},U.id.toString());break;case _.default.TYPE.STICKER:Me=(0,B.jsx)(p.default,{msg:U,mediaData:V,onLoad:me,onImgZoomIn:xe,onStickerPackView:ge,stickerPackViewDelay:g.CLOSE_ANIMATION_DURATION,ref:q},U.id.toString());break;case _.default.TYPE.VIDEO:Me=(0,B.jsx)(m.default,{autoPlay:!ee,msg:U,mediaData:V,onLoadedData:V.isGif?me:pe,startTime:e.startTime,onClose:ge,ref:z},U.id.toString());break;case _.default.TYPE.AUDIO:Me=(0,B.jsx)(c.default,{mediaData:V,msg:U},U.id.toString());break;default:__LOG__(4,void 0,new Error,!0)`type: ${V.type}`,SEND_LOGS("MediaViewerModal: unexpected media type")}const Ee=e.msgIndexInAlbum>=0&&e.albumSize>=0;if(U.caption||Ee){let t;Ee&&(t=b.default.t(529,{number:e.msgIndexInAlbum+1,totalNumber:e.albumSize}));const n=P.Configuration.Conversation({mentions:U.mentionMap(),phoneNumbers:U.getPhoneNumbers(),links:U.getLinks(),trusted:!0,fromMe:U.id.fromMe}),a=V.type===_.default.TYPE.IMAGE&&!U.isViewOnce,i=!se&&(V.isGif||a);Ce=(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("p",{className:(0,A.default)(x.default.captionWrapper,K.current&&x.default.captionWrapperExpandable),onClick:K.current?je:void 0,title:K.current?N.fbt._("Read more",null,{hk:"2DvSvh"}):void 0,"aria-hidden":re||void 0,children:[(0,B.jsx)(C.EmojiText,{className:(0,A.default)(x.default.mediaCaption,{[x.default.captionHidden]:i,[x.default.expanded]:re}),formatters:n,ref:e=>{Y.current=e},text:U.caption||t}),K.current&&(0,B.jsx)(T.default,{xstyle:[G.captionReadMoreBtn,re&&G.captionReadMoreBtnExpanded,ne&&G.captionReadMoreBtnZoomed],onClick:je,children:(0,B.jsx)(y.TextSpan,{children:N.fbt._("Read more",null,{hk:"2DvSvh"})})})]}),re&&(0,B.jsx)("p",{className:(0,A.default)(x.default.captionWrapper,x.default.captionWrapperExpandable,x.default.captionExpanded),onClick:je,children:(0,B.jsx)(C.EmojiText,{className:(0,A.default)(x.default.mediaCaption,x.default.mediaCaptionExpanded),formatters:n,text:U.caption})})]})}const Se=(0,A.default)(x.default.media,{[x.default.mediaWithCaption]:!!Ce}),ye=(0,A.default)("overlay",x.default.mediaViewer,{[x.default.noThumbnails]:U.isViewOnce||U.isStickerMsg,[x.default.mediaViewerAnimate]:e.isAnimatingIn,[x.default.cursorZoomOut]:ne}),ke=ne&&Z.current?e=>{he(e.pageX,e.pageY)}:null,Te=ne?e=>{he.cancel();const t=q.current;t&&ne&&t.onClick(e)}:null;let Pe=ne?null:ge;null!=Pe&&U.isViewOnce&&(Pe=ve);const we=!U.isViewOnce&&!U.isStickerMsg;return(0,B.jsx)(k.UIE,{displayName:"MediaViewer",escapable:!0,requestDismiss:ge,children:(0,B.jsx)(E.HotKeys,{handlers:{space:e=>{if(n)return;he.cancel();const t=q.current;null!=t&&t.onKeyboardZoom(e)}},ref:W,children:(0,B.jsxs)("div",{className:ye,"data-animate-media-viewer":!0,"data-testid":"media-viewer-modal",onClick:Te,onMouseMove:ke,children:[(0,B.jsx)(f.default,{isHighlightClose:ce,msg:U,mediaData:V,onClose:ge,onHightlightCloseEnd:()=>{ue(!1)},onViewOnceInfoClick:()=>{fe()},msgIndexInAlbum:e.msgIndexInAlbum}),(0,B.jsx)("div",{className:(0,A.default)(x.default.mediaContent,{[x.default.sticker]:U.isStickerMsg}),onClick:Pe,children:(0,B.jsx)(F,{hasNavigationButtons:we,onNext:e.onNext,onPrev:e.onPrev,imgZoomed:ne,children:(0,B.jsxs)("div",{className:Se,children:[(0,B.jsx)(h.default,{msg:U,mediaData:V}),Me,(0,B.jsx)(w.default.Provider,{value:U.chat.groupMetadata,children:Ce})]})})})]})})})};var i=n(551737),o=a(n(352013)),s=n(242050),l=n(914597),r=n(871579),d=a(n(462831)),c=a(n(614425)),u=a(n(976530)),f=a(n(965768)),h=a(n(381136)),p=a(n(402959)),m=a(n(726646)),g=n(508969),x=a(n(380674)),v=a(n(364815)),b=a(n(914296)),_=a(n(502320)),j=n(58668),M=n(61991),C=n(965417),E=n(729424),S=n(482857),y=n(113923),k=n(718644),T=a(n(701784)),P=n(130695),w=a(n(945152)),A=a(n(294184)),N=n(548360),I=n(667294),D=(a(n(156720)),n(735461)),R=a(n(259732)),O=a(n(837453)),L=a(n(290886)),B=n(785893);const G={captionReadMoreBtn:{position:"lhggkp7q",end:"h223g3sc",bottom:"jxacihee",paddingTop:"ppypbuwx",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"nu34rnf1",backgroundColor:"idmi9oma",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",boxShadow:"a95fzlb5"},captionReadMoreBtnExpanded:{visibility:"kojwoqec"},captionReadMoreBtnZoomed:{visibility:"kqpkm0zi",opacity:"lxctpz5v"}};function U(e){null==e||e.stopPropagation()}function F(e){var t,n,a,i;return(0,B.jsxs)(B.Fragment,{children:[e.hasNavigationButtons&&(0,B.jsx)("div",{className:(0,A.default)(x.default.btnMediaPrev),children:(0,B.jsx)("div",{onClick:e.onPrev?null:U,children:(0,B.jsx)(M.ChevronButton,{type:M.ButtonType.Prev,onClick:null!==(t=e.onPrev)&&void 0!==t?t:void 0,onKeyDown:null!==(n=e.onPrev)&&void 0!==n?n:void 0,disabled:!e.onPrev||e.imgZoomed,theme:S.RoundTheme.Default})})}),e.children,e.hasNavigationButtons&&(0,B.jsx)("div",{className:(0,A.default)(x.default.btnMediaNext),children:(0,B.jsx)("div",{onClick:e.onPrev?null:U,children:(0,B.jsx)(M.ChevronButton,{type:M.ButtonType.Next,onClick:null!==(a=e.onNext)&&void 0!==a?a:void 0,onKeyDown:null!==(i=e.onNext)&&void 0!==i?i:void 0,disabled:!e.onNext||e.imgZoomed,theme:S.RoundTheme.Default})})})]})}},838781:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{mediaMsgs:t,onScroll:n,highlightedMsgIds:a,activeMsg:u,onSetActiveThumb:f,onSelectThumb:h}=e,p=(0,r.useRef)({}),m=()=>{const e=new Map;return t.forEach((t=>{const n=t.id.toString();e.set(n,(e=>{const t=p.current[e];if(!t)return!1;const n=t.getBoundingClientRect(),a=(n.left+n.right)/2;return!(a>-1*window.innerWidth&&a<2*window.innerWidth)})(n))})),e},[g,x]=(0,r.useState)(m),v=(0,d.default)((()=>{const e=m();(0,i.default)(g,e)||x(e)}),100),b=(()=>{const e=a&&a.size>0&&a.has(u.id.toString()),n=[];return t.forEach((t=>{if(null==t.mediaData){const e=u;return void __LOG__(3,!0)`MediaViewerFlow: attempted to render a msg without mediaData: ${JSON.stringify({type:t.type,isMedia:t.isMedia,startMsgType:e.type,startMsgIsMedia:e.isMedia})}`}const i=e&&a&&!a.has(t.id.toString())?"viewerFlowTransparent":"viewerFlow";n.push((0,c.jsx)(s.MediaThumb,{theme:i,active:t===u,msg:t,containerRef:e=>{((e,t)=>{p.current[t]=e})(e,t.id.toString()),t===u&&f(e)},onClick:()=>{h(t)},preferPreview:!!g.get(t.id.toString()),showTooltip:t.isGroupMsg},`media-${t.id.id}`))})),n.push((0,c.jsx)("div",{className:o.default.mediaThumb,children:t.queryMediaAfter?(0,c.jsx)(l.Spinner,{stroke:6,size:24}):null},"spinner-right")),n.unshift((0,c.jsx)("div",{className:o.default.mediaThumb,children:t.queryMediaBefore?(0,c.jsx)(l.Spinner,{stroke:6,size:24}):null},"spinner-left")),n.push((0,c.jsx)("div",{className:o.default.thumbPadding},"padding-right")),n.unshift((0,c.jsx)("div",{className:o.default.thumbPadding},"padding-left")),n})();return(0,c.jsx)("div",{className:o.default.thumbsContainer,ref:e.setRefThumbsContainer,children:(0,c.jsx)("div",{className:o.default.scrollContainer,dir:"ltr",children:(0,c.jsx)("div",{onScroll:e=>{v(),n(e)},className:o.default.viewerThumbs,ref:e.setRefThumbs,children:b})})})};var i=a(n(31789)),o=a(n(276479)),s=n(341908),l=n(111054),r=n(667294),d=a(n(290886)),c=n(785893)},364815:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onOkClick:t}=e;return(0,p.jsx)(u.default,{onOK:t,cancelText:o.default.t(397),onCancel:()=>{(0,s.openExternalLink)((0,i.getViewOnceFaqUrl)())},children:(0,p.jsxs)(l.FlexColumn,{children:[(0,p.jsx)(r.default,{xstyle:m.graphic,align:"center",children:(0,p.jsx)(d.default,{name:"view-once-sender-nux",width:195,height:177})}),(0,p.jsx)(c.TextHeader,{className:(0,h.default)(m.text),theme:"popup-title",children:e.isPhoto?f.fbt._("This photo is set to view once",null,{hk:"2H7aHc"}):f.fbt._("This video is set to view once",null,{hk:"1w8WFf"})}),(0,p.jsx)(c.TextParagraph,{className:(0,h.default)(m.text),children:e.isPhoto?f.fbt._("For more privacy, this photo will disappear after you close it.",null,{hk:"1XZPqi"}):f.fbt._("For more privacy, this video will disappear after you close it.",null,{hk:"3YgUHE"})})]})})};var i=n(221310),o=a(n(914296)),s=n(912591),l=n(429623),r=a(n(748846)),d=a(n(23217)),c=n(113923),u=a(n(452665)),f=n(548360),h=a(n(156720)),p=n(785893);const m={text:{marginBottom:"or9x5nie"},graphic:{marginBottom:"t4zgqcuo"}}},537881:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{options:t,explanation:n,onSelect:a}=e,[u,f]=(0,d.useState)(e.initialValue),h=()=>{i.ModalManager.close()},p=e=>{const{target:t}=e;t instanceof HTMLInputElement&&f(parseInt(t.value,10))},m=t.map((e=>{let{value:t,label:n}=e;return(0,c.jsx)("li",{children:(0,c.jsxs)("label",{className:s.default.label,children:[(0,c.jsx)("input",{type:"radio",className:s.default.input,value:String(t),checked:t===u,onChange:p}),n]})},`setting-${t}`)}));return(0,c.jsxs)(o.default,{title:e.title,okText:r.fbt._("Confirm",null,{hk:"3tmGp3"}),onOK:()=>{null!=u&&a(u),h()},onCancel:h,children:[null!=n?(0,c.jsx)(l.TextDiv,{theme:"muted",className:s.default.explanation,children:n}):null,(0,c.jsx)("form",{children:(0,c.jsx)("ol",{children:m})})]})};var i=n(914597),o=a(n(452665)),s=a(n(917391)),l=n(113923),r=n(548360),d=n(667294),c=n(785893)},193187:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,d.useState)(!1);let a,f,h;e.isGroup?(a=r.fbt._("The last 5 messages from this group will be forwarded to WhatsApp.",null,{hk:"40tFfL"}),f=r.fbt._("No one in this group will be notified.",null,{hk:"1qLvih"}),h=r.fbt._("Exit group",null,{hk:"4BkPNr"})):e.isBusiness?(a=r.fbt._("The last 5 messages from this business will be forwarded to WhatsApp.",null,{hk:"1Xa0bG"}),f=r.fbt._("This business will not be notified.",null,{hk:"2Lbwbg"}),h=r.fbt._("Block business",null,{hk:"3hFIF3"})):(a=r.fbt._("The last 5 messages from this contact will be forwarded to WhatsApp.",null,{hk:"2YNTpM"}),f=r.fbt._("This contact will not be notified.",null,{hk:"172yrT"}),h=r.fbt._("Block contact",null,{hk:"41X9mL"}));return(0,c.jsxs)(i.default,{onOK:function(){e.onReport(t)},okText:r.fbt._("Report",null,{hk:"18ssTb"}),onCancel:e.onCancel,title:e.title,children:[(0,c.jsx)(l.TextParagraph,{xstyle:u.section,color:"muted",children:a}),(0,c.jsx)(l.TextParagraph,{xstyle:u.section,color:"muted",children:f}),(0,c.jsxs)(s.FlexRow,{align:"center",justify:"start",children:[(0,c.jsx)(o.CheckBox,{onChange:()=>n((e=>!e)),checked:t,id:"menu-icon-report-spam"}),(0,c.jsx)(l.TextLabel,{xstyle:u.checkboxLabel,htmlFor:"menu-icon-report-spam",color:"muted",children:h})]})]})};var i=a(n(452665)),o=n(316593),s=n(429623),l=n(113923),r=n(548360),d=n(667294),c=(a(n(156720)),n(785893));const u={section:{marginBottom:"t4zgqcuo"},checkboxLabel:{marginStart:"fooq7fky"}}},59828:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={audioTag:"_1ichq"}},808767:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={msg:"_3YiZC",text:"RmpKn",bubble:"_2z0p1",author:"XntIB",hasSuspiciousLinks:"_3bU-2",hasAuthor:"_2cFHu",suspiciousLabel:"_2tYTz"}},585845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={footerNote:"_2v7h3",getTheAppLink:"f20SI"}},202256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={wrapper:"_3KBDs",code:"_2ZlC0",codeDarkMode:"_2LUvK",codeLogo:"_3TIEq"}},449103:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={businessHoursRow:"_1yCy2",firstRow:"_2n4C_",businessHoursDay:"_3E1wD",businessHoursHours:"_1KuI5",dayIsOpen:"_3QSVU",businessHoursChevron:"tdvlj",flipSvg:"_3U46z"}},646311:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={section:"_2piwD",description:"_3wQ4p",map:"wjX1S"}},652898:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={contactBusinessInfo:"_-3uPc",contactBusinessInfoSpinner:"i0l32",dataRow:"_27Am0",businessHoursRow:"pHhe2",businessHoursDay:"_37D6O",businessHoursHours:"_1Fkkg",businessHoursChevron:"PfSJW",flipSvg:"kphWe",dataRowIcon:"_1utXv",dataRowText:"_8jzcs",businessTitleText:"_1_m2f",businessMap:"uTGlN",address:"_3gira",link:"sdA8C",infoIcon:"_2GuY5"}},233095:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={header:"uEYm5",restrictText:"_28g3v"}},265636:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={multimediaGallery:"_3M644",column:"_3nvje",menuItem:"OJuvv",active:"_KRg9",menuTabsLists:"_3CC5A",threeTabs:"_1KRHF",fourTabs:"rLX29"}},179741:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mediaViewerPlaceholder:"nehFG",imageAudio:"_2OreO",mediaViewerAudio:"_1alR8"}},276479:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={thumbsContainer:"_1XWMx",scrollContainer:"_1MhXb",viewerThumbs:"_1FS45",mediaThumb:"_52crR",thumbPadding:"_1833d"}},917391:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={label:"QzWWL",input:"_1LOWN",explanation:"_37J_Y"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components.8cc8b2253c11eb0398c2.js.map
