/*! Copyright (c) 2021 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[9488],{75524:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.formatRemoveResult=function(t,e){return l(t,h,f,p,e)},e.formatResult=l,e.formatParticipantActionString=d,e.formatGroupStatusReasonString=c,e.formatParticipantStatusReasonString=u,e.addSuccessString=function(t,e){return i.default.t(190,{participantNames:t,_plural:e})},e.addFailedString=function(t,e){return i.default.t(188,{participantNames:t,_plural:e})},e.addPartialFailedString=function(){return i.default.t(189)},e.removeSuccessString=h,e.removeFailedString=f,e.removePartialFailedString=p,e.promoteSuccessString=function(t,e){return i.default.t(203,{participantNames:t,_plural:e})},e.promoteFailedString=function(t,e){return i.default.t(201,{participantNames:t,_plural:e})},e.promotePartialFailedString=function(){return i.default.t(202)},e.demoteFailedString=function(t,e,a){switch(a){case 406:return i.default.t(193,{participant:t});default:return i.default.t(192,{participantNames:t,_plural:e})}},e.demoteSuccessString=function(t,e){return i.default.t(195,{participantNames:t,_plural:e})},e.demotePartialFailedString=function(){return i.default.t(194)};var n=o(a(17025)),s=o(a(12950)),i=o(a(2408)),r=o(a(69635));function l(t,e,a,o,i){let l;if(207===t.status){const i={};for(const e in t){if(!r.default.isWid(e))continue;const a=t[e];if(403===a&&s.default.supportsFeature(s.default.F.GROUPS_V_4_JOIN_PERMISSION))continue;if(207===a)continue;i[a]||(i[a]=[]);const o=n.default.get(e);o&&i[a].push(o)}const c=[];for(const t in i){const o=d(e,a,u,parseInt(t,10),i[t]);o&&c.push(o)}l=c.length>0?c.join("\n"):o()}else l=d(e,a,c,t.status,i);return l}function d(t,e,a,o,n){const s=n.map((t=>t.formattedShortName)).join(i.default.t(840)),r=200===o;return(r?t(s,n.length):e(s,n.length,o))+(r?"":a(o,n.length))}function c(t){let e="";switch(t){case 403:e=" "+i.default.t(138);break;case 408:e=" "+i.default.t(198);break;case 404:e=" "+i.default.t(139);break;case 429:e=" "+i.default.t(140)}return e}function u(t,e){let a="";switch(t){case 401:case 406:case 409:break;case 404:a=" "+i.default.t(197,{_plural:e});break;case 408:a=" "+i.default.t(198,{_plural:e});break;case 500:a=" "+i.default.t(199);break;default:a=" "+i.default.t(200)}return a}function h(t,e){return i.default.t(208,{participantNames:t,_plural:e})}function f(t,e,a){switch(a){case 406:return i.default.t(207,{participant:t});default:return i.default.t(205,{participantNames:t,_plural:e})}}function p(){return i.default.t(206)}},97449:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.addParticipants=function(t,e){return p((0,h.unproxy)(t),e)},e.removeParticipants=function(t,e){return _((0,h.unproxy)(t),e)},e.promoteParticipants=function(t,e){return C((0,h.unproxy)(t),e)},e.demoteParticipants=function(t,e){return v((0,h.unproxy)(t),e)};var s=n(a(48926)),i=a(6467),r=n(a(69162)),l=o(a(13540)),d=o(a(75524)),c=n(a(2408)),u=a(65518),h=a(15298),f=a(85893);function p(){return m.apply(this,arguments)}function m(){return(m=(0,s.default)((function*(t,e,a=(0,i.genId)()){var o;const n=null===(o=t.groupMetadata)||void 0===o?void 0:o.participants;if(null==n)return Promise.reject(new l.ActionError);if(e.some((t=>n.get(t.id))))return __LOG__(3)`models:groupMetadata:participantCollection:addParticipants already a group member`,Promise.reject(new l.ActionError);if(!n.canAdd())return Promise.reject(new l.ActionError);const s=(0,u.sendAddParticipants)(t.id,e.map((t=>t.id))),h=e.map((t=>t.formattedShortName)).join(c.default.t(840)),m=new i.ActionType(c.default.t(191,{participantNames:h,_plural:e.length})),_=s.then((t=>{n.sendForNeededAddRequest(t);const a=d.formatResult(t,d.addSuccessString,d.addFailedString,d.addPartialFailedString,e);return new i.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:addParticipants dropped`,new i.ActionType(c.default.t(188,{participantNames:h,_plural:e.length}),{actionText:c.default.t(228),actionHandler:()=>p(t,e,a)}))));r.default.openToast((0,f.jsx)(i.ActionToast,{id:a,initialAction:m,pendingAction:_})),yield s}))).apply(this,arguments)}function _(){return g.apply(this,arguments)}function g(){return(g=(0,s.default)((function*(t,e,a=(0,i.genId)()){var o;const n=null===(o=t.groupMetadata)||void 0===o?void 0:o.participants;if(null==n)return Promise.reject(new l.ActionError);if(e.some((t=>!n.canRemove(t))))return Promise.reject(new l.ActionError);const s=(0,u.sendRemoveParticipants)(t.id,e.map((t=>t.id))),h=e.map((t=>t.contact.formattedShortName)).join(c.default.t(840)),p=new i.ActionType(c.default.t(209,{participantNames:h,_plural:e.length})),m=s.then((t=>{const a=d.formatRemoveResult(t,e.map((t=>t.contact)));return new i.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new i.ActionType(c.default.t(205,{participantNames:h,_plural:e.length}),{actionText:c.default.t(228),actionHandler:()=>_(t,e,a)}))));r.default.openToast((0,f.jsx)(i.ActionToast,{id:a,initialAction:p,pendingAction:m})),yield s}))).apply(this,arguments)}function C(){return S.apply(this,arguments)}function S(){return(S=(0,s.default)((function*(t,e,a=(0,i.genId)()){var o;const n=null===(o=t.groupMetadata)||void 0===o?void 0:o.participants;if(null==n)return Promise.reject(new l.ActionError);if(e.some((t=>!n.canPromote(t))))return Promise.reject(new l.ActionError);const s=(0,u.sendPromoteParticipants)(t.id,e.map((t=>t.id))),h=e.map((t=>t.contact.formattedShortName)).join(c.default.t(840)),p=new i.ActionType(c.default.t(204,{participantNames:h,_plural:e.length})),m=s.then((t=>{const a=d.formatResult(t,d.promoteSuccessString,d.promoteFailedString,d.promotePartialFailedString,e.map((t=>t.contact)));return new i.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new i.ActionType(c.default.t(201,{participantNames:h,_plural:e.length}),{actionText:c.default.t(228),actionHandler:()=>C(t,e,a)}))));r.default.openToast((0,f.jsx)(i.ActionToast,{id:a,initialAction:p,pendingAction:m})),yield s}))).apply(this,arguments)}function v(){return x.apply(this,arguments)}function x(){return(x=(0,s.default)((function*(t,e,a=(0,i.genId)()){var o;const n=null===(o=t.groupMetadata)||void 0===o?void 0:o.participants;if(null==n)return Promise.reject(new l.ActionError);if(e.some((t=>!n.canDemote(t))))return Promise.reject(new l.ActionError);const s=(0,u.sendDemoteParticipants)(t.id,e.map((t=>t.id))),h=e.map((t=>t.contact.formattedShortName)).join(c.default.t(840)),p=new i.ActionType(c.default.t(196,{participantNames:h,_plural:e.length})),m=s.then((t=>{const a=d.formatResult(t,d.demoteSuccessString,d.demoteFailedString,d.demotePartialFailedString,e.map((t=>t.contact)));return new i.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:demoteParticipants dropped`,new i.ActionType(c.default.t(192,{participantNames:h,_plural:e.length}),{actionText:c.default.t(228),actionHandler:()=>v(t,e,a)}))));r.default.openToast((0,f.jsx)(i.ActionToast,{id:a,initialAction:p,pendingAction:m})),yield s}))).apply(this,arguments)}},3191:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.removeGroupParticipants=function(t,e){return C(t,e,f).catch((t=>{__LOG__(3)`error sending removing group participants iq: ${t}`}))},e.addGroupParticipants=function(t,e){return C(t,e,p).catch((0,l.filteredCatch)(h.ServerStatusCodeError,(t=>({status:t.statusCode}))))},e.demoteGroupParticipants=function(t,e){return C(t,e,m).catch((t=>{__LOG__(3)`error sending demoting group participants iq: ${t}`}))},e.promoteGroupParticipants=function(t,e){return C(t,e,_).catch((t=>{__LOG__(3)`error sending promoting group participants iq: ${t}`}))};var n=o(a(81109)),s=o(a(48926)),i=a(10817),r=a(41118),l=a(55084),d=a(84922),c=a(39997),u=a(49438),h=a(12825);const f="remove",p="add",m="demote",_="promote";function g(t){return new r.WapParser(`${t}GroupParticipantsReplyParser`,(e=>({id:e.attrString("id"),participants:e.child(t).mapChildren((t=>{const e=t.maybeChild("add_request");return{wid:(0,c.userJidToUserWid)(t.attrUserJid("jid")),error:t.hasAttr("error")?t.attrInt("error"):null,invite_code:e&&e.attrString("code"),invite_code_exp:e&&e.attrString("expiration")}}))})))}function C(){return S.apply(this,arguments)}function S(){return(S=(0,s.default)((function*(t,e,a){const o=e.map((t=>(0,i.wap)("participant",{jid:(0,u.JID)(t)})));let s;switch(a){case p:s=(0,i.wap)("add",null,o);break;case f:s=(0,i.wap)("remove",null,o);break;case m:s=(0,i.wap)("demote",null,o);break;case _:s=(0,i.wap)("promote",null,o);break;default:return Promise.reject(new Error(`invalid group operation ${a}`))}const r=(0,i.wap)("iq",{to:(0,u.GROUP_JID)(t),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},s),l=yield(0,d.sendIq)(r,g(a));if(l.success){const{participants:t}=l.result,e={};return t.forEach((t=>{Object.assign(e,{[t.wid.toString()]:null!=t.error?t.error:200})})),(0,n.default)((0,n.default)({},e),{},{status:207,participants:t.map((t=>({[t.wid.toString()]:{code:null!=t.error&&t.error.toString()||"200",invite_code:t.invite_code,invite_code_exp:t.invite_code_exp}})))})}return Promise.reject(new h.ServerStatusCodeError(l.errorCode,l.errorText))}))).apply(this,arguments)}},65518:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.sendAddParticipants=function(t,e){let a;if(n.default.supportsFeature(n.default.F.MD_BACKEND)){if(a=(0,i.addGroupParticipants)(t,e),!a)return Promise.reject(new Error("addParticipants: not supported when not build with MD_BACKEND"))}else a=s.default.addParticipants(t,e);return a},e.sendRemoveParticipants=function(t,e){let a;if(n.default.supportsFeature(n.default.F.MD_BACKEND)){if(a=(0,i.removeGroupParticipants)(t,e),!a)return Promise.reject(new Error("sendRemoveParticipants: not supported when not build with MD_BACKEND"))}else a=s.default.removeParticipants(t,e);return a},e.sendDemoteParticipants=function(t,e){let a;if(n.default.supportsFeature(n.default.F.MD_BACKEND)){if(a=(0,i.demoteGroupParticipants)(t,e),!a)return Promise.reject(new Error("sendDemoteParticipants: not supported when not build with MD_BACKEND"))}else a=s.default.demoteParticipants(t,e);return a},e.sendPromoteParticipants=function(t,e){let a;if(n.default.supportsFeature(n.default.F.MD_BACKEND)){if(a=(0,i.promoteGroupParticipants)(t,e),!a)return Promise.reject(new Error("sendPromoteParticipants: not supported when not build with MD_BACKEND"))}else a=s.default.promoteParticipants(t,e);return a};var n=o(a(12950)),s=o(a(865)),i=a(3191)},88281:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadType=e.EditType=void 0;const o=a(54302).Mirrored(["EDITING","PENDING","DONE","ERROR"]);e.EditType=o;const n=a(54302).Mirrored(["PENDING","DONE","ERROR"]);e.LoadType=n},77392:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({contact:t,editable:e,profilePicThumb:a,onClick:o,onOpenStatus:n,onLoad:v,hideStatusV3:x}){const[j,y]=(0,i.useState)(window.innerWidth),[E,P]=(0,i.useState)(null);(0,i.useEffect)((()=>{function t(){y(window.innerWidth)}return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)}),[]);const T=j>1300?152:122,I=!(0,u.canSeeStatusV3OnContact)()||t.statusMute||x?null:m.default.get(t.id);function b(){I&&(r.default.openModalMedia((0,S.jsx)(p.default,{removeTopDrawer:!1,statusV3:I}),{transition:"status-v3-modal"}),n&&n())}let O=null;E&&(O=(0,S.jsx)(g.default,{displayName:"ContextMenu",escapable:!0,popable:!0,requestDismiss:()=>{P(null)},children:(0,S.jsx)(C.default,{contextMenu:E})}));let M,w=null,N=l.default.noStatusBorder;null!=I&&(w=(0,S.jsx)(_.default,{statusV3:I,size:T+24,stroke:3,theme:_.RingTheme.BUSINESS_CONTACT_INFO}),N=l.default.hasStatusBorder);M=e&&null!=a?(0,S.jsx)(f.default,{profilePicThumb:a,size:T}):(0,S.jsx)(d.default,{id:t.id,size:T,loader:!0,onLoad:v,onClick:function(t){if(o)if(null!=I&&I.totalCount>0){t.stopPropagation(),t.preventDefault();const e=[(0,S.jsx)(c.default,{a8n:"mi-view-photo",action:()=>{o(t)},children:h.default.t(1878)},"view-photo"),(0,S.jsx)(c.default,{a8n:"mi-view-status",action:b,children:h.default.t(1730)},"view-status")];P({menu:e,event:t})}else o(t)},quality:d.DETAIL_IMAGE_QUALITY.HIGH});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:(0,s.default)(l.default.coverPhoto,{[l.default.isEditable]:e})}),(0,S.jsxs)("div",{className:l.default.avatar,children:[w,(0,S.jsx)("div",{className:N,children:M})]}),O]})};var s=n(a(94184)),i=a(67294),r=n(a(69162)),l=n(a(68862)),d=o(a(88419)),c=n(a(47452)),u=a(78615),h=n(a(2408)),f=n(a(8497)),p=n(a(58719)),m=n(a(83125)),_=o(a(46929)),g=n(a(63477)),C=n(a(68062)),S=a(85893)},25349:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RawBusinessProfile",{enumerable:!0,get:function(){return o.RawBusinessProfile}}),Object.defineProperty(e,"BUSINESS_HOUR_MODES",{enumerable:!0,get:function(){return n.BUSINESS_HOUR_MODES}}),Object.defineProperty(e,"DAYS_OF_WEEK",{enumerable:!0,get:function(){return n.DAYS_OF_WEEK}});var o=a(47094),n=a(4650)},83607:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBusinessOpenState=function(t,e){var a,s;if(null==t.timezone)return{status:"unknown"};const i=e||new Date,d=new Date(i.toLocaleString("en-US",{timeZone:t.timezone})),c=(i.getTime()-d.getTime())/1e3/60,u=t.config[o.DAYS_OF_WEEK[i.getDay()]];if(!u)return{status:r.CLOSED_TODAY};switch(u.mode){case n.BUSINESS_HOUR_MODES.OPEN_24H:if(u)return{status:r.OPEN_24H};break;case n.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:if(u)return{status:r.OPEN_APPOINTMENT};break;case n.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:const t=60*i.getHours()+i.getMinutes();if(1===(null===(a=u.hours)||void 0===a?void 0:a.length)){const e=u.hours[0][0],a=u.hours[0][1];return t>=e&&t<=a?{status:r.OPEN,openUntil:l(c+a)}:t<=e?{status:r.CLOSED,opensAt:l(c+e)}:{status:r.CLOSED}}if(2===(null===(s=u.hours)||void 0===s?void 0:s.length)){const e=u.hours[0][0],a=u.hours[0][1],o=u.hours[1][0],n=u.hours[1][1];return t>=e&&t<=a?{status:r.OPEN,openUntil:l(c+a),additionalOpen:l(c+o),additionalClose:l(c+n)}:t<e?{status:r.CLOSED,opensAt:l(c+e),additionalOpen:l(c+o),additionalClose:l(c+n)}:t>=o&&t<=n?{status:r.OPEN,openUntil:l(c+n)}:t<o?{status:r.CLOSED,opensAt:l(c+o)}:{status:r.CLOSED}}}return{status:"unknown"}},Object.defineProperty(e,"minutesToTime",{enumerable:!0,get:function(){return s.minutesToTime}}),Object.defineProperty(e,"timeStringToMinutes",{enumerable:!0,get:function(){return s.timeStringToMinutes}}),e.BUSINESS_OPEN_STATUS=e.convertToRawBusinessProfile=e.isValidBusinessHours=e.isValidTime=void 0;var o=a(4650),n=a(25349),s=a(71547);const i=t=>void 0!==(0,s.timeStringToMinutes)(t);e.isValidTime=i;e.isValidBusinessHours=(t,e)=>{if(t===n.BUSINESS_HOUR_MODES.SPECIFIC_HOURS)for(const t in e){const a=e[t],{closed:o,hours:n}=a;if(!o)for(const[t,e]of n)if(!i(t)||!i(e))return!1}return!0};e.convertToRawBusinessProfile=({mode:t,dayValues:e,note:a,timezone:o})=>{const i={};for(const a in e){const o=e[a],{closed:r,hours:l}=o;if(!r){const e={mode:t};t===n.BUSINESS_HOUR_MODES.SPECIFIC_HOURS&&(e.hours=l.map((([t,e])=>[(0,s.timeStringToMinutes)(t)||0,(0,s.timeStringToMinutes)(e)||0]))),i[a]=e}}return{businessHours:{config:i,note:a,timezone:o||Intl.DateTimeFormat().resolvedOptions().timeZone}}};const r={OPEN:"open",CLOSED:"closed",OPEN_TODAY:"open_today",CLOSED_TODAY:"closed_today",OPEN_APPOINTMENT:"open_appointment",OPEN_24H:"open_24h",UNKNOWN:"unknown"};function l(t){const e=new Date,a=Math.floor(t/60);return e.setHours(a),e.setMinutes(t%60),e.setSeconds(0),e}e.BUSINESS_OPEN_STATUS=r},47094:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"EditType",{enumerable:!0,get:function(){return o.EditType}}),Object.defineProperty(e,"LoadType",{enumerable:!0,get:function(){return o.LoadType}});var o=a(88281)},5221:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.jsx)(i.default,{name:"shopping-cart",className:(0,n.default)(s.default.cartIcon,{[s.default.inheritColor]:"inherit-color"===t.theme})})};var n=o(a(94184)),s=o(a(91378)),i=o(a(2966)),r=a(85893)},51314:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const e=(0,d.default)(t.msgInfoParticipant,["t"]),a=(0,d.default)(t.contact,["id","name","formattedName","notifyName"]),o=(0,c.jsx)(i.default,{id:a.id}),u=s.default.relativeDateAndTimeStr(e.t),h=(0,c.jsx)("span",{title:u,children:u});let f;!a.name&&a.notifyName&&(f=(0,c.jsx)(r.default,{className:l.default.notifyName,direction:"auto",text:a.notifyName}));return(0,c.jsx)(n.default,{contextEnabled:()=>!1,image:o,primary:(0,c.jsx)(r.default,{direction:"auto",text:a.formattedName,titlify:!0,ellipsify:!0}),secondary:h,secondaryDetail:f,style:{cursor:"auto"},theme:t.theme,idle:!0})};var n=o(a(91749)),s=o(a(25142)),i=o(a(88419)),r=o(a(85051)),l=o(a(39893)),d=o(a(76006)),c=a(85893)},10504:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.getLegalEntityDetails=e.isBusinessCompliant=e.getEntityTypeText=e.ComplianceInfoHelpCenterBanner=e.ComplianceInfoLoading=e.ComplianceInfoStructuralField=e.ComplianceInfoPrimitiveField=e.ComplianceInfoGroup=void 0;var n=o(a(48926)),s=o(a(56720)),i=o(a(8581)),r=a(4650),l=o(a(92787)),d=o(a(25061)),c=o(a(4919)),u=a(63290),h=o(a(2408)),f=o(a(46714)),p=a(97504),m=a(85893);const _={groupWrapper:{paddingTop:"fbgy3m38",paddingEnd:"f9ovudaz",paddingBottom:"oq31bsqd",paddingStart:"gx1rr48f"},fieldLabel:{display:"f804f6gw",lineHeight:"gz7w46tb"},fieldValue:{display:"f804f6gw",marginTop:"g1eqewly",marginEnd:"jnwc1y2a",marginBottom:"kzyzudjh",marginStart:"svoq16ka",wordBreak:"cw3vfol9",whiteSpace:"c2jc77nu"},helpCenterBanner:{fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},displayRight:{textAlign:"cb8ormfa"}},g=()=>h.default.t(707);e.ComplianceInfoGroup=({title:t,children:e})=>(0,m.jsx)(d.default,{title:t,className:(0,s.default)(_.groupWrapper),children:e});e.ComplianceInfoPrimitiveField=({value:t,label:e,forceLTR:a})=>(0,m.jsxs)(C,{children:[(0,m.jsx)(x,{value:t,forceLTR:a}),(0,m.jsx)(v,{label:e})]});e.ComplianceInfoStructuralField=({valuesMap:t={},keys:e=[],label:a})=>{const o=e.reduce(((e,a)=>t[a]?e.concat(t[a]):e),[]),n=o.length?o:[g()];return(0,m.jsxs)(C,{children:[(0,m.jsx)(x,{value:n.join(", ")}),(0,m.jsx)(v,{label:a})]})};const C=({children:t})=>(0,m.jsx)(l.default,{multiline:!0,restrictSpacing:!0,children:(0,m.jsx)("div",{className:(0,s.default)(_.groupWrapper),children:t})});e.ComplianceInfoLoading=()=>(0,m.jsx)(u.FlexRow,{align:"center",justify:"center",a8nText:"compliance-info-loading",children:(0,m.jsx)(u.FlexItem,{children:(0,m.jsx)(f.default,{})})});e.ComplianceInfoHelpCenterBanner=({xstyle:t})=>(0,m.jsxs)("div",{className:(0,s.default)(_.helpCenterBanner,t),"data-testid":"compliance-help-center-banner",children:[h.default.t(415)," ",(0,m.jsx)(c.default,{href:"https://faq.whatsapp.com/general/account-and-profile/how-to-comply-with-the-laws-for-selling-online-in-India",children:h.default.t(414)})]});e.getEntityTypeText=t=>{const{entityType:e,entityTypeCustom:a,isRegistered:o}=t||{},n={[r.businessTypeOptions.limitedLiabilityPartnership]:h.default.t(418),[r.businessTypeOptions.soleProprietorship]:h.default.t(426),[r.businessTypeOptions.partnership]:h.default.t(422),[r.businessTypeOptions.publicCompany]:h.default.t(424),[r.businessTypeOptions.privateCompany]:h.default.t(423),[r.businessTypeOptions.other]:h.default.t(420)},s=a||n[e]||"";if(!s)return"";let i="";return[r.businessTypeOptions.partnership,r.businessTypeOptions.other].includes(e)&&(i=o?h.default.t(425):h.default.t(419)),`${s}${i?` (${i})`:""}`};const S=({email:t,landlineNumber:e,mobileNumber:a}={})=>[t,e,a].some((t=>t));e.isBusinessCompliant=(t,e={})=>{if(!e)return!1;const{entityName:a,entityType:o,entityTypeCustom:n,customerCareDetails:s,grievanceOfficerDetails:i}=e;return[t,a,null==i?void 0:i.name].every((t=>t))&&((t,e)=>!(!t&&!e))(o,n)&&S(s)&&S(i)};const v=({label:t})=>(0,m.jsx)("div",{className:(0,s.default)(_.fieldLabel),"data-testid":"compliance-info-field-label",children:(0,m.jsx)(p.TextSpan,{theme:"muted",children:t})}),x=({value:t,forceLTR:e=!1})=>{const a=h.default.isRTL();return(0,m.jsx)("div",{className:(0,s.default)(_.fieldValue,a&&e&&_.displayRight),dir:e||!a?"ltr":"rtl","data-testid":"compliance-info-field-value",children:t||g()})},j=function(){var t=(0,n.default)((function*(t){var e;let a=i.default.get(t);if(null===(e=a)||void 0===e?void 0:e.legalEntityDetails)return a.legalEntityDetails;if(a=(t=>(Array.isArray(t)?t[0]:t).serialize())(yield i.default.update(t,{getMerchantCompliance:!0})),a)return a.legalEntityDetails||void 0;__LOG__(3)`compliance: cannot fetch business details (${t.toString()})`}));return function(){return t.apply(this,arguments)}}();e.getLegalEntityDetails=j},92787:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e;const a=null!=t.side?(0,d.jsx)("div",{className:(0,s.default)(c.side),children:t.side}):null,o=(0,n.default)((0,s.default)(c.container,t.xstyle),t.className,{[r.default.separator]:null===(e=t.separator)||void 0===e||e});return(0,d.jsx)("div",{"data-a8n":i.default.key(t.a8nText),className:o,role:t.onClick?"button":null,onClick:t.onClick,children:(0,d.jsxs)("div",{className:(0,n.default)(r.default.block,(0,s.default)(c.block,t.blockXstyle,t.multiline&&c.blockMultiline)),children:[(0,d.jsx)("div",{className:(0,n.default)((0,s.default)(c.main,t.multiline&&c.mainMultiline,t.restrictSpacing&&c.mainRestrictSpacing,l.isOSMac&&c.mainMac)),children:t.children}),a]})})};var n=o(a(94184)),s=o(a(56720)),i=o(a(76610)),r=o(a(61388)),l=a(39124),d=a(85893);const c={container:{paddingStart:"e8k79tju"},block:{display:"p357zi0d",alignItems:"gndfcl4n",height:"k45dudtp",paddingEnd:"bcymb0na"},blockMultiline:{height:"bvcnfjzh"},main:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",marginTop:"kv6wexeh",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},mainMultiline:{paddingTop:"hc2u0oym",paddingBottom:"myel2vfb",whiteSpace:"hmy10g0s"},mainMac:{marginTop:"tt8xd2xn"},mainRestrictSpacing:{paddingTop:"i5tg98hk",paddingBottom:"przvwfww",whiteSpace:"le5p0ye3"},side:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginStart:"jwvfxh5v"}}},78502:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){const[a,o]=(0,l.useState)(null),n=()=>{o(null)};return(0,l.useEffect)((()=>{if(n(),!t)return;const a=new d.default,l=a.signal;return(0,i.default)((function*(){try{const a=(0,f.hqLinkPreviewUploadSupported)(),n=yield(0,C.default)((0,h.default)(t,a),l),i=null==n?void 0:n.data;if(!i)return;if(o(i),!i.thumbnailHQ)return;const r=yield function(){return x.apply(this,arguments)}(i.thumbnailHQ,l,e);if(!r)return;o((0,s.default)((0,s.default)({},i),r))}catch(t){if(t.name===r.ABORT_ERROR)return;__LOG__(2)`useLinkPreview: error`}}))(),()=>{a.signal.aborted||a.abort()}}),[t,e]),{linkPreview:a,clearLinkPreview:n}},e.findFirstWebLink=void 0;var s=n(a(81109)),i=n(a(48926)),r=a(58568),l=a(67294),d=n(a(14505)),c=a(52646),u=n(a(55454)),h=n(a(22750)),f=a(67659),p=o(a(17126)),m=a(57990),_=n(a(56346)),g=n(a(52937)),C=n(a(79267)),S=n(a(19895)),v=n(a(44503));function x(){return(x=(0,i.default)((function*(t,e,a){try{const o=yield(0,C.default)(g.default.createFromBase64Jpeg(t),e),n=yield(0,v.default)({thumbnail:o,mediaType:_.default.THUMBNAIL_LINK,mediaKeyInfo:(0,S.default)(),uploadOrigin:(0,m.getUploadOriginForChat)(a),forwardedFromWeb:!1,signal:e,timeout:u.default.MMS_THUMBNAIL_UPLOAD_TIMEOUT}),s=n.mediaEntry;if(!s)return;return{mediaKey:s.mediaKey,mediaKeyTimestamp:s.mediaKeyTimestamp,thumbnailDirectPath:s.directPath,thumbnailSha256:n.filehash,thumbnailEncSha256:s.encFilehash}}catch(t){if(t.name===r.ABORT_ERROR)return;__LOG__(2)`useLinkPreview.uploadHQPreview: error`}}))).apply(this,arguments)}e.findFirstWebLink=t=>{const e=(0,c.removeCodeBlocks)(t),a=p.findLinks(e,!0)[0];if(a)return a.url}},30925:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{images:e,renderFallback:a,fallbackMediaData:o,fetching:n,onClick:l}=t,v=(0,r.useRef)(null),x=(0,r.useRef)(null),j=(0,r.useRef)(null),y=(0,r.useRef)(null),E=(0,r.useRef)(null),[P,T]=(0,r.useState)(null),[I,b]=(0,r.useState)(e.filter((t=>t.mediaData.mediaStage===f.MEDIA_DATA_STAGE.RESOLVED)).length),[O,M]=(0,r.useState)(!1),w=I===e.length,N=()=>b((t=>t+1));(0,r.useEffect)((()=>{let t=null;if(!w&&!a){var e,o;const a=x.current;if(!a)return;null===(e=j.current)||void 0===e||e.controller.abort(),t=new d.default;const n=t.signal,s=((null===(o=j.current)||void 0===o?void 0:o.promise)||Promise.resolve()).then((()=>(0,C.default)(a,{opacity:[1,0]},{delay:75,duration:50}))),r=(0,p.default)(s,n).then((()=>{if(n.aborted)throw new i.AbortError;M(!0)})).catch((0,i.catchAbort)((()=>{(0,C.default)(a,"stop",!0)}))).finally((()=>{j.current=null}));j.current={promise:r,controller:t}}return()=>{var e;null===(e=t)||void 0===e||e.abort()}}),[w,a]);const k=()=>{var t;return(null===(t=v.current)||void 0===t?void 0:t.children)?v.current.scrollWidth===v.current.offsetWidth?null:0===v.current.scrollLeft?"next":v.current.scrollWidth-1<=v.current.scrollLeft+v.current.offsetWidth?"prev":"both":null};if((0,r.useEffect)((()=>{T(k())}),[w]),a&&0===e.length)return(0,S.jsx)("div",{className:u.default.carousel,dir:"ltr",children:(0,S.jsx)("div",{className:(0,s.default)(u.default.contentContainer,u.default.slidesContainer),children:o&&(0,S.jsx)(h.default,{altText:"",mediaData:o,renderFallback:!0,singleSlide:!0})})});let D,A,R;const L=()=>{y.current=null;const t=k();P!==t&&T(t)};if(e.length>1){const t=()=>{const t=v.current;if(null!=t&&("prev"===P||"both"===P)){let e=0;const a=t.scrollLeft+Math.floor(t.offsetWidth/2);let o=t.lastElementChild;for(;o instanceof HTMLElement&&0===e;){const t=o.offsetLeft+Math.floor(o.offsetWidth/2);t<a&&(e=t-a),o=o.previousElementSibling}0!==e&&t.scrollBy({left:e,behavior:"smooth"})}},e=()=>{const t=v.current;if(null!=t&&("next"===P||"both"===P)){let e=0;const a=t.scrollLeft+Math.floor(t.offsetWidth/2);let o=t.firstElementChild;for(;o instanceof HTMLElement&&0===e;){const t=o.offsetLeft+Math.floor(o.offsetWidth/2);a<t&&(e=t-a),o=o.nextElementSibling}0!==e&&t.scrollBy({left:e,behavior:"smooth"})}},a=()=>{E.current=null;const t=k();P!==t&&T(t)};R=()=>{null==E.current&&(E.current=requestAnimationFrame(a))},w&&null!=P&&(D=(0,S.jsx)(c.default,{type:c.ButtonType.Prev,onClick:t,onKeyDown:t,disabled:"prev"!==P&&"both"!==P,theme:_.RoundTheme.Small,overMedia:!0}),A=(0,S.jsx)(c.default,{type:c.ButtonType.Next,onClick:e,onKeyDown:e,disabled:"next"!==P&&"both"!==P,theme:_.RoundTheme.Small,overMedia:!0}))}const F=1===e.length,B=e.map(((t,e)=>(0,S.jsx)(h.default,{altText:"",image:t,singleSlide:F,mediaData:t.mediaData,onClick:l,onLoad:N},e))),U=w?null:(0,S.jsx)("div",{className:(0,s.default)(u.default.contentContainer,u.default.spinnerContainer),children:(0,S.jsx)("div",{className:u.default.spinner,ref:x,children:(0,S.jsx)(g.default,{color:"default",size:50,stroke:4})})}),V=(0,s.default)(u.default.carousel,{[u.default.loaded]:!n&&w,[u.default.fadeIn]:O});return(0,S.jsxs)("div",{className:V,dir:"ltr",children:[U,(0,S.jsx)("div",{ref:v,className:(0,s.default)(u.default.contentContainer,u.default.slidesContainer),onScroll:R,children:B}),D,A,(0,S.jsx)(m.default,{onResize:()=>{null==y.current&&(y.current=requestAnimationFrame(L))}})]})};var s=n(a(94184)),i=a(58568),r=a(67294),l=n(a(30523)),d=n(a(14505)),c=o(a(93972)),u=n(a(63696)),h=n(a(39203)),f=a(90672),p=n(a(79267)),m=n(a(88155)),_=a(3132),g=n(a(46714)),C=n(a(45285)),S=a(85893);l.default.polyfill()},39203:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(67294),s=o(a(89882)),i=a(90672),r=o(a(76006)),l=a(85893);var d=({mediaData:t,altText:e,image:a,singleSlide:o,renderFallback:d,onClick:c,onLoad:u,forwardRef:h})=>{const{fullHeight:f,fullWidth:p,mediaStage:m,renderableUrl:_}=(0,r.default)(t,["fullHeight","fullWidth","mediaStage","renderableUrl"]),g=(0,n.useRef)(null),C=(0,n.useRef)(m===i.MEDIA_DATA_STAGE.RESOLVED);(0,n.useEffect)((()=>{!u||C.current||d||m!==i.MEDIA_DATA_STAGE.RESOLVED||(u(),C.current=!0)}),[u,d,m]);let S=p&&f?p/f:.8;S<.8&&(S=.8),S>1.91&&(S=1.91),S>1&&!o&&(S=1);const v={width:o&&S<1?100*S+"%":1!==S||o?null:"100%"},x={paddingTop:`${Math.floor(100/S)}%`},j={cursor:""+(c?"pointer":"auto")};return(0,l.jsx)("div",{ref:h?t=>h(t):null,className:s.default.slide,style:v,children:(0,l.jsx)("div",{className:s.default.slideInnerContainer,style:x,children:(0,l.jsx)("img",{ref:g,alt:e,src:_,className:s.default.image,style:j,draggable:"false",onClick:()=>{c&&g.current&&a&&c(g.current,a)}})})})};e.default=d},83427:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyCanvas=h,e.default=function(t){const{mediaCollection:e,fullCollection:a,chat:o,onScroll:r,justify:d}=t,p=t.medias||t.productMedias,m="new-chat-info"===t.theme;if(!p)return null;let _=(0,n.default)(l.default.container,{[l.default.drawer]:a,[l.default.galleryEmpty]:0===e.length,[l.default.justifySpaceBetween]:"space-between"===d,[l.default.themeNewChatInfo]:m}),g=[...p];if(e.queryMediaBefore&&(a||g.length<6)){const t=(0,n.default)(l.default.more,l.default.canvasComponent,{[l.default.canvasSecondRow]:!a&&g.length>=3,[l.default.canvasFirst]:0===e.length});g.push((0,u.jsx)("div",{className:t,children:(0,u.jsx)(c.default,{stroke:6,size:24})},"spinner"))}if(0===e.length){if(a)return e.queryMediaBefore?(0,u.jsx)("div",{className:(0,n.default)(l.default.drawer,l.default.drawerBody),children:(0,u.jsx)(i.Loading,{})}):(0,u.jsx)(i.MediaMsgs,{});if(m)return null;e.queryMediaBefore||e.hasMediaBefore||(_=(0,n.default)(_,l.default.galleryEmpty),g=[f(Math.max(o?o.docCount:0,0),Math.max(o?o.linkCount:0,0),Math.max(o?o.productCount:0,0))])}else for(let t=0;t<6;t++)g.push((0,u.jsx)(h,{},"empty"+t));return(0,u.jsx)("div",{onScroll:r,"data-a8n":s.default.key("media-gallery"),className:_,children:g})};var n=o(a(94184)),s=o(a(76610)),i=a(92231),r=o(a(2408)),l=o(a(59867)),d=o(a(65565)),c=o(a(46714)),u=a(85893);function h(){return(0,u.jsx)("div",{className:l.default.canvasEmpty})}function f(t,e,a){const o=[];return null!=t&&t>0&&o.push(r.default.t(805,{count:t,_plural:t})),null!=e&&e>0&&o.push(r.default.t(1147,{count:e,_plural:e})),d.default.productMediaAttachments&&null!=a&&a>0&&o.push(r.default.t(1568,{count:a,_plural:a})),o.length>0?o.join(r.default.t(840)):d.default.productMediaAttachments?r.default.t(1418):r.default.t(1417)}},80091:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.jsx)("div",{className:(0,n.default)(i.default.icon,{[i.default.transparent]:t.theme&&"transparent"===t.theme,[i.default.compact]:t.theme&&"compact"===t.theme,[i.default.disabled]:t.disabled},(0,s.default)(t.xstyle)),children:t.children})};var n=o(a(94184)),s=o(a(56720)),i=o(a(34435)),r=a(85893)},92049:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a(23279)),i=a(67294),r=n(a(69162)),l=n(a(55454)),d=n(a(26821)),c=a(86723),u=n(a(71681)),h=n(a(79485)),f=n(a(35371)),p=o(a(72787)),m=a(85893);const _=(0,s.default)(((t,e)=>{(0,c.setVideoVolumeSettings)(t,e)}),500);class g extends i.PureComponent{constructor(...t){super(...t),this.checkIteration=0,this.checkForSuccessInterval=0,this.hasCalledPlaying=!1,this.mediaBlobWasDownloadedBeforeMount=Boolean(this.props.mediaData.mediaBlob),this.refVideo=(0,i.createRef)(),this.onVolumeChange=()=>{const t=this.refVideo&&this.refVideo.current;t&&_(t.volume,t.muted)},this.startCheckForSuccess=()=>{this.checkIteration=0,this.checkForSuccessInterval||(this.checkForSuccessInterval=setInterval(this.checkForSuccess,250))},this.clearCheckForSuccess=()=>{this.checkForSuccessInterval&&(clearInterval(this.checkForSuccessInterval),this.checkIteration=0,this.checkForSuccessInterval=0)},this.checkForSuccess=()=>{if(p.default.state!==p.STATE.CONNECTED)return;this.checkIteration++;const t=this.refVideo&&this.refVideo.current,e=null==t?void 0:t.buffered;(null==e?void 0:e.length)&&e.end(0)>0?this.onPlaying():this.checkIteration>240&&this.clearCheckForSuccess()},this.onPlayerError=()=>{this.clearCheckForSuccess()},this.onOtherPlaying=t=>{t!==this&&this.pause()},this.pause=()=>{const t=this.refVideo&&this.refVideo.current;t&&(t.paused||t.pause())},this.onPlaying=()=>{this.clearCheckForSuccess(),r.default.mediaPlaying(this)},this.onLoadedMetadata=t=>{this.setStartTime();const{onLoadedMetadata:e}=this.props;e&&e(t)},this.setStartTime=()=>{const t=this.refVideo&&this.refVideo.current;null!=this.props.startTime&&0!==this.props.startTime&&t&&(t.currentTime=this.props.startTime)},this.onContextMenu=t=>{this.props.disableContextMenu&&t.preventDefault()}}componentDidMount(){this.props.listeners.add(r.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(r.default,"pttRecording",this.pause),this._updateVideoUserPrefs(),this.props.refVideo&&this.props.refVideo(this.refVideo)}componentWillUnmount(){_.flush(),this.clearCheckForSuccess(),this.pause(),f.default.isBlink&&this.refVideo.current&&(0,d.default)(this.refVideo.current)}componentDidUpdate(t){this._updateVideoUserPrefs(),t.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}_updateVideoUserPrefs(){const t=this.refVideo&&this.refVideo.current;if(t){const e=(0,c.getVideoVolumeSettings)();e&&("number"==typeof e.volume&&(t.volume=e.volume),"boolean"==typeof e.muted&&(t.muted=e.muted)),S()&&this.props.autoPlay&&this.startCheckForSuccess()}}render(){const t=this.props,{mediaData:e}=t,a=e.mediaBlob;let o;const n=e.streamable&&e.isStreamable();if(!this.mediaBlobWasDownloadedBeforeMount&&n||!a){if(!e.streamable||!e.isStreamable())return null;o=`${l.default.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`}else o=a.url();const s=S()&&!t.autoPlay?this.startCheckForSuccess:void 0;return(0,m.jsx)("video",{ref:this.refVideo,src:o,poster:t.poster,className:t.className,controls:t.controls,autoPlay:t.autoPlay,onClick:t.onClick,onDoubleClick:t.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:s,onPlaying:this.onPlaying,onError:this.clearCheckForSuccess,onContextMenu:this.onContextMenu,children:t.children})}}g.CONCERNS={msg:["id"],mediaData:["mediaBlob","streamable"]},g.displayName="VideoTag";var C=(0,u.default)((0,h.default)(g,g.CONCERNS));function S(){return f.default.isGecko||f.default.isSafari}e.default=C},58719:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a(99942)),s=o(a(44519)),i=a(85893);class r extends n.default{constructor(...t){super(...t),this.closeStatusViewer=()=>{this.end()}}componentDidMount(){this.push((0,i.jsx)(s.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}e.default=r},11364:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{catalog:e,onSend:a}=t,o=(0,r.createCatalogLink)(e.id.user),d=e.id.equals((0,n.getMaybeMeUser)())?`${s.default.t(1522)} ${o}`:o;return(0,l.jsx)(i.default,{text:d,pushTransition:"none",popTransition:"none",onSend:a})};var n=a(86723),s=o(a(2408)),i=o(a(24024)),r=a(40307),l=a(85893)},32234:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{product:e,onSend:a}=t,o=(0,r.createProductLink)(e.catalogWid.user,e.id.toString()),d=e.catalogWid.equals((0,n.getMaybeMeUser)())?`${s.default.t(1565)} ${o}`:o;return(0,l.jsx)(i.default,{text:d,pushTransition:"none",popTransition:"none",onSend:a})};var n=a(86723),s=o(a(2408)),i=o(a(24024)),r=a(40307),l=a(85893)},24024:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a(48926)),i=a(38512),r=a(82754),l=n(a(69162)),d=n(a(55454)),c=n(a(99942)),u=n(a(2408)),h=o(a(57774)),f=a(30239),p=n(a(65565)),m=n(a(45257)),_=a(85893);class g extends c.default{constructor(...t){var e;super(...t),e=this,this._selected=[],this._getSelected=()=>this._selected,this._handleSelectionChange=(t,e,a)=>{this._selected=a},this._handleForwardConfirmed=t=>{this._send(t)},this._handleCancel=()=>{this.end()},this._send=function(){var t=(0,s.default)((function*(t){const{text:a,title:o,onSend:n}=e.props;if(1===t.length){const o=t[0];yield e._pasteText(o,a),e.end(),window.innerWidth<=d.default.LAYOUT_2COLUMNS_MAX_WIDTH&&l.default.closeDrawerRight()}else e.push((0,_.jsx)(m.default,{defaultText:a,title:o||u.default.t(1316),onSend:(a,o)=>e._handleSend(t,a,o),onBack:e._handleBack}));n&&n()}));return function(){return t.apply(this,arguments)}}(),this._handleSend=(t,e,a)=>{this._sendText(t,e,a),this.end()},this._handleBack=()=>{this.pop()},this._pasteText=function(){var t=(0,s.default)((function*(t,a){yield e._ensureContactUnblocked(t),t.active?l.default.pasteChatTextInput(t,a):(t.setComposeContents({text:a}),l.default.openChatFromUnread(t).then((e=>{e&&l.default.focusChatTextInput(t)})))}));return function(){return t.apply(this,arguments)}}(),this._sendText=(t,a,o)=>{t.forEach(function(){var t=(0,s.default)((function*(t){yield e._ensureContactUnblocked(t),l.default.once("ui_idle",(()=>{(0,f.sendTextMsgToChat)(t,a,{linkPreview:o})}))}));return function(){return t.apply(this,arguments)}}())},this._ensureContactUnblocked=function(){var t=(0,s.default)((function*(t){t.isUser&&t.contact.isBlocked()&&(yield(0,i.unblockContact)(t.contact))}));return function(){return t.apply(this,arguments)}}()}componentDidMount(){this.push((0,_.jsx)(h.default,{title:this.props.title||u.default.t(1316),listType:h.ListType.CHAT_SELECT_MODAL,getInitialItems:this._getSelected,maxItems:p.default.multicastLimitGlobal,onConfirm:this._handleForwardConfirmed,onCancel:this._handleCancel,onSelectionChanged:this._handleSelectionChange,singleSelectionFooterType:r.FooterType.NEXT,multipleSelectionFooterType:r.FooterType.NEXT}))}}e.default=g},45530:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{labels:e,theme:a}=t;return e&&(0,s.canDisplayLabel)()?(0,l.jsx)("div",{className:(0,n.default)(i.default.labelContainer,{[i.default.standaloneLabelContainer]:"standalone"===a}),children:(()=>{if(e)return e.map(((t,e)=>(0,l.jsx)("div",{className:(0,n.default)(i.default.labelRow,{[i.default.standaloneLabelRow]:"standalone"===a}),children:(0,l.jsx)(r.default,{labels:[t],showName:!0})},e)))})()}):null};var n=o(a(94184)),s=a(78615),i=o(a(18310)),r=o(a(84498)),l=a(85893)},26734:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{collection:e}=t,[a,o]=(0,i.useState)(!1),[n,C]=(0,i.useState)(!1),[S,v]=(0,i.useState)(""),x=t=>{v(t)},j=()=>{o(!0),(0,r.handleCollectionAppeal)(e,S).then((()=>{o(!1),C(!0)})).catch((0,s.filteredCatch)(_.ServerStatusCodeError,(()=>{l.default.openToast((0,g.jsx)(m.default,{msg:h.default.t(521),id:(0,m.genId)("catalog_collection_appeal_submission_failed")})),o(!1)})))},y=()=>{l.default.closeModal()};return n?(0,g.jsx)(d.default,{title:h.default.t(1616),onOK:y,children:(0,g.jsx)(f.TextDiv,{children:h.default.t(520)})}):(0,g.jsx)(d.default,{title:h.default.t(1616),onOK:j,onCancel:y,okDisabled:a,children:(0,g.jsxs)("form",{children:[(0,g.jsx)(p.default,{a8n:"confirm-popup-text-input",placeholder:h.default.t(1130),onChange:x,value:S,maxLength:1e3}),(0,g.jsx)(u.default,{href:c.default.WA_COMMERCE_POLICY_URL,children:h.default.t(1142)})]})})};var s=a(55084),i=a(67294),r=a(96470),l=n(a(69162)),d=n(a(75940)),c=n(a(55454)),u=n(a(4919)),h=n(a(2408)),f=a(97504),p=n(a(29458)),m=o(a(49201)),_=a(12825),g=a(85893)},53427:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(67294),i=n(a(76610)),r=n(a(39935)),l=n(a(33287)),d=n(a(17747)),c=n(a(9042)),u=o(a(55588)),h=n(a(2408)),f=a(75050),p=a(97504),m=n(a(76006)),_=a(85893);var g=(0,s.forwardRef)(((t,e)=>{const{settings:a,onClose:o}=t,{archive:n}=(0,m.default)(a,["archive"]),s=!n.classic;return(0,_.jsxs)(d.default,{ref:e,children:[(0,_.jsx)(u.default,{title:h.default.t(264),type:u.DRAWER_HEADER_TYPE.LARGE,onBack:o}),(0,_.jsx)(c.default,{children:(0,_.jsxs)("div",{className:r.default.section,children:[(0,_.jsx)("div",{"data-a8n":i.default.key("auto-unarchive-setting"),className:r.default.control,children:(0,_.jsx)(l.default,{onChange:()=>{const t=!n.classic;(0,f.setArchiveClassicSetting)(t)},checked:s})}),(0,_.jsxs)("div",{"data-a8n":i.default.key("auto-unarchive-setting-text"),children:[h.default.t(286),(0,_.jsx)(p.TextDiv,{theme:"muted",children:h.default.t(285)})]})]})})]})}));e.default=g},55059:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({elementId:t,onClick:e}){return document.queryCommandSupported("copy")?(0,h.jsx)(l.default,{a8nText:"li-copy-link",icon:(0,h.jsx)(c.default,{name:"copy",className:i.default.icon}),onClick:()=>function(t,e){(0,r.default)(t)?s.default.openToast((0,h.jsx)(u.default,{msg:d.default.t(1145),id:(0,u.genId)()})):s.default.openToast((0,h.jsx)(u.default,{msg:d.default.t(1144),id:(0,u.genId)()}));null!=e&&e()}(t,e),children:d.default.t(762)}):null};var s=n(a(69162)),i=n(a(16115)),r=n(a(88543)),l=n(a(17061)),d=n(a(2408)),c=n(a(2966)),u=o(a(49201)),h=a(85893)},17061:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{children:e,onClick:a,icon:o,className:u,color:h,theme:f}=t,[p,m]=(0,d.default)(a),_=null!=o?(0,c.jsx)("div",{className:(0,s.default)(r.default.icon,{[r.default.danger]:"danger"===h,[r.default.success]:"success"===h}),children:o}):null,g=(0,s.default)(r.default.container,u,{[r.default.containerNoIcon]:!o,[r.default.containerListAligned]:"list-aligned"===f,[r.default.themeNewChatInfo]:"new-chat-info"===f}),C="string"==typeof e?e:null;return(0,c.jsxs)("div",(0,n.default)((0,n.default)({},m),{},{className:g,"data-a8n":i.default.key(t.a8nText),"data-ignore-capture":"any",ref:p,title:C,children:[_,(0,c.jsx)("div",{className:(0,s.default)(r.default.bodyContainer),children:(0,c.jsx)("div",{className:r.default.body,children:(0,c.jsx)(l.TextSpan,{theme:"title",color:h,children:e})})})]}))};var n=o(a(81109)),s=o(a(94184)),i=o(a(76610)),r=o(a(89600)),l=a(97504),d=o(a(82275)),c=a(85893)},21496:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const t=new u.default(m,g,{COOL_OFF_START_STORAGE_KEY:c.CoolOffPeriodKeys.CATALOG,MAX_VIEWS_IN_DAYS:1,COOL_OFF_DURATION_IN_DAYS:1});if(t.shouldShow()){const e=(0,p.jsx)(i.default,{onOK:()=>{t.dismiss(),s.default.closeModal()},children:(0,p.jsxs)(r.FlexColumn,{align:"center",children:[(0,p.jsx)(r.FlexItem,{xstyle:_.graphic,children:(0,p.jsx)(h.default,{name:"cart-interstitial-graphic"})}),(0,p.jsx)(f.TextHeader,{theme:"popup-title",children:l.default.t(1439)}),(0,p.jsx)(f.TextParagraph,{color:"secondary",className:n.default.description,children:l.default.t(1438)})]})});s.default.openModal(e),t.show(),t.startCoolOffToday()}};o(a(56720));var n=o(a(83522)),s=o(a(69162)),i=o(a(75940)),r=a(63290),l=o(a(2408)),d=o(a(4231)),c=a(79659),u=o(a(45009)),h=o(a(2966)),f=a(97504),p=a(85893);const m=c.NuxKeyTypes.COOL_OFF_NUX.CART_INTERSTITIAL,_={graphic:{marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",color:"bc38n4nm"}},g=d.default.BANNER_TYPES.SMB_CATALOG_CART_INTERSTITIAL},24165:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({onOpenCollections:t}){const[e,a]=(0,n.useState)(!1),o=s.default.get((0,r.getMeUser)());return(0,d.useListener)(null==o?void 0:o.collections,"change",(()=>{a(!0)})),e&&(0,c.jsx)(l.default,{children:(0,c.jsx)(i.default,{onClick:t})})};var n=a(67294),s=o(a(60028)),i=o(a(7369)),r=a(86723),l=o(a(8820)),d=a(61192),c=a(85893)},7369:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(70359),i=n(a(60028)),r=n(a(18482)),l=n(a(9322)),d=n(a(41651)),c=a(86723),u=n(a(2408)),h=n(a(4231)),f=a(79659),p=n(a(40325)),m=o(a(45009)),_=a(85893);const g=f.NuxKeyTypes.COOL_OFF_NUX.COLLECTIONS,C={COOL_OFF_DURATION_IN_DAYS:2,VIEWS_BEFORE_COOL_OFF_IN_DAYS:1,CLICKS_BEFORE_COOL_OFF:1,MAX_VIEWS_IN_DAYS:2,COOL_OFF_START_STORAGE_KEY:f.CoolOffPeriodKeys.CATALOG};class S extends p.default{render(){const{onClick:t}=this.props,e=new m.default(g,h.default.BANNER_TYPES.SMB_COLLECTION_CREATION,C),a=(0,_.jsx)("span",{className:r.default.actionText,children:u.default.t(1433)});return(0,_.jsx)(d.default,{title:u.default.t(1435),subtitle:u.default.t(1434),actionText:a,onClick:t,nuxManager:e,theme:"nuxBlue"})}static shouldShow(){return(0,s.getABPropConfigValue)("web_abprop_collections_nux_banner")&&l.default.isSMB&&function(){const t=i.default.get((0,c.getMeUser)());if(null==t||null==t.collections)return!1;const e=t.collections.getCollectionModels(!0);return t.productCollection.getProductModels(!0).some((t=>!t.isHidden&&"REJECTED"!==t.reviewStatus))&&0===e.length}()&&(0,m.shouldShowNUX)(g,C)}}e.default=S,S.displayName="CollectionsBanner"},25817:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a(94184)),s=o(a(7900)),i=a(67294),r=o(a(55092)),l=o(a(69162)),d=o(a(88419)),c=o(a(85051)),u=o(a(13985)),h=o(a(2408)),f=a(47941),p=o(a(90904)),m=o(a(99597)),_=o(a(79485)),g=o(a(2966)),C=o(a(63477)),S=o(a(45285)),v=a(85893);class x extends i.Component{constructor(...t){super(...t),this.state={style:{visibility:"hidden"}},this.handleScroll=t=>{Math.abs(t.deltaY)>3&&this.handleClose()},this.handleClose=()=>{if(this.closing)return;let t;if(this.closing=!0,this.props.getZoomNode((e=>{t=e})),!t)return l.default.closeModalMedia();const e=this._refImage;if(e){this.props.animateBorderRadius&&(e.style.transition="border-radius 500ms cubic-bezier(.1,.82,.25,1)",e.style.borderRadius="50%");const a=(0,s.default)(t,"start"),o=e.getBoundingClientRect(),n=a.getBoundingClientRect(),i=n.top-o.top,r=n.left-o.left,d=a.clientWidth/e.clientWidth;(0,S.default)(e,{translateX:[r,0],translateY:[i,0],scale:[d,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{l.default.closeModalMedia()}))}},this.handleImageLoad=t=>{const e=t.target;this.setState({size:{width:e.naturalWidth,height:e.naturalHeight}},(()=>{this.props.getZoomNode((t=>{const a=e.getBoundingClientRect(),o=t.getBoundingClientRect(),n=o.top-a.top,s={visibility:"hidden",transform:`translateX(${o.left-a.left}px) translateY(${n}px) scale(${t.clientWidth/e.clientWidth})`,transition:"transform 0s",borderRadius:void 0};this.props.animateBorderRadius&&(s.borderRadius="50%"),this.setState({style:s},(()=>{let t={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform 500ms cubic-bezier(.1,.82,.25,1)"};this.props.animateBorderRadius&&(t={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform 500ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius 500ms cubic-bezier(.1,.82,.25,1)"}),this.setState({style:t})}))}))}))},this.setRefImage=t=>{this._refImage=t}}shouldComponentUpdate(t){return!!t.profilePicThumb.imgFull||(this.handleClose(),!1)}render(){const{contact:t,profilePicThumb:e}=this.props;let a;return e.imgFull&&(a=(0,v.jsx)(u.default,{src:e.imgFull,hasPrivacyChecks:!0,onLoad:this.handleImageLoad,className:m.default.profileViewerImg})),(0,v.jsx)(C.default,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.handleClose,children:(0,v.jsxs)("div",{className:(0,n.default)("overlay",m.default.container),onWheel:this.handleScroll,onClick:this.handleClose,children:[(0,v.jsxs)("div",{className:m.default.headerContainer,children:[(0,v.jsx)("div",{className:m.default.profileThumb,children:(0,v.jsx)(r.default,{image:(0,v.jsx)(d.default,{id:t.id,size:40}),theme:"plain",primary:(0,v.jsx)(c.default,{text:t.formattedUser})})}),(0,v.jsx)("div",{className:m.default.mediaPanelTools,children:(0,v.jsx)(f.MenuBar,{theme:"strong",children:(0,v.jsx)(f.MenuBarItem,{a8nText:"btn-close",icon:(0,v.jsx)(g.default,{name:"x-viewer"}),title:h.default.t(2007),onClick:this.handleClose})},"media-panel-header")})]}),(0,v.jsx)("div",{className:m.default.profileContainer,dir:"ltr",children:(0,v.jsx)("div",{className:m.default.media,children:(0,v.jsx)(p.default,{type:"scaleDown",size:this.state.size,children:(0,v.jsx)("div",{className:m.default.profileViewer,"data-animate-profile-viewer":!0,ref:this.setRefImage,style:this.state.style,children:a})})})})]})})}}x.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},x.displayName="PhotoViewerModal";var j=(0,_.default)(x,x.CONCERNS);e.default=j},8497:(t,e,a)=>{"use strict";var o=a(95318),n=a(20862);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{profilePicThumb:e,size:a}=t,o=!e.canSet()&&!e.canDelete(),[n,m]=(0,r.useState)(!1),_=(0,f.default)();return(0,p.jsx)(d.PhotoPickerLoadable,{type:c.default.PROFILE,id:e.id,attachToChat:!1,pending:n,startImage:e.imgFull,readOnly:o,onImageSet:(e,a)=>{const o=t.profilePicThumb;let n;m(!0),n=e&&a?(0,u.setProfilePic)(o,e,a):(0,u.deleteProfilePic)(o),(0,h.default)(n,_).catch((0,i.filteredCatch)(l.ActionError,(()=>{__LOG__(3)`ProfileDrawer: failed to set/delete profile image`}))).catch((0,s.catchAbort)((()=>{}))).finally((()=>{m(!1)}))},size:a})};var s=a(58568),i=a(55084),r=a(67294),l=n(a(13540)),d=a(45605),c=o(a(76870)),u=a(76229),h=o(a(79267)),f=o(a(29579)),p=a(85893)},5646:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,l.jsx)(n.default,{a8nText:"li-share-link",icon:(0,l.jsx)(r.default,{name:"forward",className:i.default.icon}),onClick:t.onClick,children:s.default.t(1670)})};var n=o(a(17061)),s=o(a(2408)),i=o(a(17932)),r=o(a(2966)),l=a(85893)},74295:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,l.jsx)(n.default,{a8nText:"li-share-link",icon:(0,l.jsx)(r.default,{name:"forward",className:i.default.icon}),onClick:t.onClick,children:s.default.t(1693)})};var n=o(a(17061)),s=o(a(2408)),i=o(a(7200)),r=o(a(2966)),l=a(85893)},59168:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(55084),i=a(67294),r=n(a(69162)),l=n(a(94167)),d=a(9492),c=n(a(96962)),u=n(a(91137)),h=a(22252),f=n(a(61136)),p=a(62238),m=n(a(2408)),_=n(a(4231)),g=n(a(40630)),C=n(a(199)),S=a(30239),v=n(a(78654)),x=n(a(2966)),j=o(a(49201)),y=n(a(63477)),E=n(a(68062)),P=n(a(82669)),T=a(85893);class I extends i.Component{constructor(){super(...arguments),this.emojiInputComponent=(0,c.default)(),this._refEmojiPanel=(0,i.createRef)(),this.isSkinTonePickerOpen=!1,this.handleSend=t=>{var e;if(t.preventDefault(),!this._refInputLine)return;const a=this._refInputLine.value.trim();if(!a.length)return;const o=(0,j.genId)();(0,p.findChat)(this.props.msg.sender).then((t=>(r.default.openToast((0,T.jsx)(j.default,{msg:m.default.t(1726),id:o})),(0,S.sendTextMsgToChat)(t,(0,f.default)(a),{quotedMsg:this.props.msg})))).then((()=>{this.props.statusReplyMetric.statusReplyResult=_.default.STATUS_REPLY_RESULT.OK,this.props.onSend()})).catch((0,s.filteredCatch)(l.default,(()=>{const{chat:t}=this.state;t&&(r.default.openToast((0,T.jsx)(j.default,{msg:m.default.t(1998,{contact:t.contact.formattedName}),id:o})),this.props.statusReplyMetric.statusReplyResult=_.default.STATUS_REPLY_RESULT.ERROR_UNKNOWN)}))),null===(e=this._refInputLine)||void 0===e||e.reset(),this._emojiPickerClose(),this.props.dismissReply()},this.handleFocus=()=>{this.setState({focused:!0})},this.handleBlur=()=>{this.isSkinTonePickerOpen||document.activeElement===document.body&&this.setState({focused:!1})},this.handleSkinTonePicker=t=>{this.isSkinTonePickerOpen=t},this.isFocused=()=>this.state.focused,this.handleEmojiPicker=t=>{t&&(t.preventDefault(),t.stopPropagation());const e=(0,T.jsx)(u.default,{ref:this._refEmojiPanel,onEmoji:this.handleEmoji,onFocusNext:this.restoreFocus,onFocusPrev:this.restoreFocus});this.setState({emojiPicker:{menu:e,dirY:d.DirY.TOP,type:"emoji_picker",anchor:t.target}})},this.handleEmoji=t=>{this._refInputLine&&this._refInputLine.replaceSelection(t)},this.restoreFocus=()=>{this._refInputLine&&this._refInputLine.focus()},this._restoreEmojiPickerFocus=()=>{var t;null===(t=this._refEmojiPanel.current)||void 0===t||t.restoreFocus()},this._emojiPickerClose=()=>{this.setState({emojiPicker:void 0}),this.restoreFocus()},this.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},(0,p.findChat)(this.props.msg.sender).checkpoint(this.props.rejectOnUnmount()).then((t=>{this.setState({chat:t})}))}componentDidUpdate(t,e){this._shouldPausePlayback(e)&&!this._shouldPausePlayback(this.state)?this.props.play():!this._shouldPausePlayback(e)&&this._shouldPausePlayback(this.state)&&this.props.pause()}_shouldPausePlayback(t){return Boolean(t.emojiPicker)||t.focused}isPaused(){return this._shouldPausePlayback(this.state)}render(){let t,e,a;this.state.emojiPicker&&(t=(0,T.jsx)(y.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,requestDismiss:this._emojiPickerClose,requestFocus:this._restoreEmojiPickerFocus,children:(0,T.jsx)(E.default,{contextMenu:this.state.emojiPicker})}),e=(0,T.jsx)(y.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this._restoreEmojiPickerFocus,children:(0,T.jsx)("div",{children:t})}));const{chat:o}=this.state;o&&this.state.focused&&!this.state.emojiPicker&&(a=(0,T.jsx)(y.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply,children:(0,T.jsx)("div",{className:v.default.popupPanel,children:(0,T.jsx)(C.default,{msg:this.props.msg.safe(),theme:"statusV3",chat:o},this.props.msg.id.toString())})}));const n=this.emojiInputComponent;return(0,T.jsxs)("div",{className:v.default.container,children:[(0,T.jsx)(P.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0,children:a}),(0,T.jsxs)("div",{className:v.default.wrapper,children:[(0,T.jsx)("button",{className:v.default.emojiIcon,onClick:this.handleEmojiPicker,children:(0,T.jsx)(x.default,{name:"smiley"})}),(0,T.jsxs)("div",{className:v.default.lineWrapper,children:[(0,T.jsx)(n.EmojiSuggestions,{theme:h.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.handleSkinTonePicker}),(0,T.jsx)(n,{ref:t=>{this._refInputLine=t},theme:"status-reply",spellCheck:!0,onFocus:this.handleFocus,onBlur:this.handleBlur,onEnter:this.handleSend,placeholder:m.default.t(1788),editable:!0,multiline:!0})]}),(0,T.jsx)("button",{className:v.default.sendIcon,onClick:this.handleSend,children:(0,T.jsx)(x.default,{name:"send",directional:!0})}),e]})]})}}I.displayName="StatusV3ComposeBox";const b=(0,g.default)(I);e.default=class extends b{isFocused(){return!0===this.getComponent().isFocused()}isPaused(){return this.getComponent().isPaused()}restoreFocus(){this.getComponent().restoreFocus()}}},21694:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.StatusV3Text=et,e.default=void 0;var s=n(a(23279)),i=n(a(94184)),r=a(55084),l=a(67294),d=n(a(20396)),c=n(a(25142)),u=n(a(69162)),h=n(a(55454)),f=n(a(88419)),p=n(a(85051)),m=o(a(13540)),_=a(62238),g=n(a(47193)),C=n(a(32397)),S=n(a(12950)),v=n(a(39e3)),x=n(a(13985)),j=a(49895),y=n(a(2408)),E=n(a(71681)),P=n(a(49694)),T=a(90672),I=n(a(80747)),b=n(a(4231)),O=n(a(57636)),M=n(a(90904)),w=n(a(40630)),N=n(a(46714)),k=n(a(79485)),D=n(a(74122)),A=n(a(59168)),R=a(92838),L=n(a(11780)),F=n(a(6283)),B=n(a(44625)),U=n(a(50539)),V=n(a(60962)),H=n(a(2966)),W=n(a(63477)),G=a(49002),z=n(a(76006)),K=n(a(92049)),Y=a(12825),q=a(85893);const $=a(54302).Mirrored(["PAUSE_BUTTON","MOUSEDOWN","WINDOW_BLUR","OPEN_SEE_VIEWERS_MODAL"]);class X extends l.Component{constructor(){super(...arguments),this._refProgressBar=(0,l.createRef)(),this._refProgressBarComponent=(0,l.createRef)(),this._refMeasuringProfile=(0,l.createRef)(),this._refWrapper=(0,l.createRef)(),this._pauseReason=null,this.componentWillUnmount=()=>{if(this._playbackController.removeListeners(),null!=this.props.sessionId){const t=Math.round(this._playbackController.duration||0);this._statusViewEvent.webcStatusPlaybackT=t;const e=this._playStartTime;null!=e&&(this._statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-e),this._playStartTime=void 0),this._statusViewEvent.commit(),this._statusReplyEvent.commit()}},this._updateStatusViewers=()=>{O.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((t=>{this.setState({seenBy:t.read})})).catch((0,r.filteredCatch)(m.Unmount,(()=>{}))).catch((0,r.filteredCatch)(Y.EphemeralDrop,(()=>{})))},this._handleWindowResize=()=>{const t=this._refMeasuringProfile&&this._refMeasuringProfile.current,e=this._refProgressBar&&this._refProgressBar.current;if(!t||!e)return;const a=t.getBoundingClientRect(),o=e.getBoundingClientRect();!y.default.isRTL()&&a.right>o.left-5||y.default.isRTL()&&a.left<o.right+5?this.setState({narrow:!0}):this.setState({narrow:!1})},this._handleTab=t=>{var e;(t&&(t.stopPropagation(),t.preventDefault()),this.props.statusV3.contact.isMe)||((null===(e=this._refComposeBox)||void 0===e?void 0:e.isFocused())?this.dismissReply():this._startReply())},this._handleModalClose=()=>{u.default.closeModal(),this.play(),this.setState({isViewerModalOpen:!1})},this._handleSeeViewersModal=()=>{this.state.seenBy&&(u.default.openModal((0,q.jsx)(V.default,{onClose:this._handleModalClose,viewers:this.state.seenBy})),this.pause($.OPEN_SEE_VIEWERS_MODAL),this.setState({isViewerModalOpen:!0}))},this.handleWindowGainedFocus=()=>{this._windowFocused=!0,this.state.isViewerModalOpen||this._pauseReason!==$.WINDOW_BLUR||this.play()},this.handleWindowLostFocus=()=>{this._windowFocused=!1,this.state.isPaused||this.pause($.WINDOW_BLUR)},this._handleClickProfile=()=>{const t=this.props.statusV3.contact.id;(0,_.findChat)(t).then((t=>u.default.openChatBottom(t))).then((()=>{this.props.closeStatusViewer(!0)}))},this.play=()=>{var t;const e=this.props.mediaData;if(e){if(e.mediaStage!==T.MEDIA_DATA_STAGE.RESOLVED)return;this._statusViewEvent.webcStatusLoadT||(this._statusViewEvent.markWebcStatusLoadT(),this._statusViewEvent.webcStatusLoaded=!0)}(null===(t=this._refComposeBox)||void 0===t?void 0:t.isPaused())||this._windowFocused&&(this._playStartTime=window.performance.now(),this._playbackController.resume())},this.pause=t=>{const e=this.props.mediaData;if(e&&e.mediaStage!==T.MEDIA_DATA_STAGE.RESOLVED)return;const a=this._playStartTime;null!=a&&(this._statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),this._playStartTime=void 0),this._playbackController.pause(),this._pauseReason=t},this._mute=()=>{this._playbackController.mute(),this.setState({isMuted:!0})},this._unmute=()=>{this._playbackController.unmute(),this.setState({isMuted:!1})},this.handleMouseDown=()=>{this.pause($.MOUSEDOWN)},this.handleMouseUp=()=>{this.play()},this._handlePauseButton=()=>{this.pause($.PAUSE_BUTTON)},this.dismissReply=()=>{const t=this._refWrapper&&this._refWrapper.current;t&&g.default.focus(t)},this._startReply=()=>{var t;null===(t=this._refComposeBox)||void 0===t||t.restoreFocus()},this.handleSend=()=>{this._statusViewEvent.webcStatusReplyCount++},this.state={chat:void 0,narrow:!1,isViewerModalOpen:!1,isPaused:!1,isMuted:!1,hasAudio:!1},this._windowFocused=!0,this._playbackController=(0,R.setupStatusV3Controller)(this.props.mediaData,this.props.msg),this._statusViewEvent=new b.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),this._statusReplyEvent=new b.default.StatusReply({statusReplyResult:b.default.STATUS_REPLY_RESULT.CANCELLED})}componentDidMount(){const{statusV3:t,msg:e,mediaData:a,msgIdx:o,sessionId:n}=this.props;if(null!=n){let s;t.contact.isMe?(s=b.default.WEBC_STATUS_ROW_SECTION.MY,this._updateStatusViewers()):s=t.contact.statusMute?b.default.WEBC_STATUS_ROW_SECTION.MUTED:t.hasUnread?b.default.WEBC_STATUS_ROW_SECTION.RECENT:b.default.WEBC_STATUS_ROW_SECTION.VIEWED;const i=this.props.rowIdx||0,r=t.msgs.length-1-o<t.unreadCount;let l;a?l=a.isGif?b.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===a.type?b.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:b.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(l=e.getLinks().length?b.default.WEBC_STATUS_MEDIA_TYPE.URL:b.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this._statusViewEvent.markWebcStatusLoadT(),this._statusViewEvent.webcStatusLoaded=!0),this._statusViewEvent.webcStatusSessionId=n,this._statusViewEvent.webcStatusRowSection=s,this._statusViewEvent.webcStatusRowIndex=i,this._statusViewEvent.webcStatusMediaType=l,this._statusViewEvent.webcStatusUnread=r,this._statusReplyEvent.statusSessionId=n}this._refProgressBarComponent&&this._refProgressBarComponent.current&&this._playbackController.addListeners(((t,e)=>{const a=this._refProgressBarComponent&&this._refProgressBarComponent.current;a&&a.handleStart(t,e),this.setState({isPaused:!1}),this._pauseReason=null}),(()=>{const t=this._refProgressBarComponent&&this._refProgressBarComponent.current;t&&t.handlePause(),this.setState({isPaused:!0})}),(()=>{const t=this._refProgressBarComponent&&this._refProgressBarComponent.current;t&&t.handleEnded().checkpoint(this.props.rejectOnUnmount()).then((()=>{this.props.onNext()})).catch((0,r.filteredCatch)(m.Unmount,(()=>{})))}),(t=>{this.setState({hasAudio:t})})),a?(this.play(),a&&a.mediaStage===T.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,h.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));const i=this._refWrapper&&this._refWrapper.current;i&&i.focus();const l=this.props.listeners;l.add(window,"focus",this.handleWindowGainedFocus),l.add(window,"blur",this.handleWindowLostFocus),l.add(window,"resize",(0,s.default)(this._handleWindowResize)),this._handleWindowResize()}render(){const{msg:t,mediaData:e,statusV3:a}=this.props;let o,n;if(e){const t=ot(e);t&&(o={backgroundImage:`url(${t})`})}else if(t.type===h.default.MSG_TYPE.CHAT){o={backgroundColor:t.statusV3TextBg}}if(e)switch(e.type){case P.default.TYPE.IMAGE:n=(0,q.jsx)(Z,{msg:t,statusV3:a,mediaData:e,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp});break;case P.default.TYPE.VIDEO:n=(0,q.jsx)(tt,{msg:t,statusV3:a,mediaData:e,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this._playbackController,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp});break;default:__LOG__(3)`Invalid status v3 image type: ${e.type}`}else n=t.type===h.default.MSG_TYPE.CHAT?(0,q.jsx)(et,{msg:t,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}):(0,q.jsx)(at,{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp});const s=S.default.supportsFeature(S.default.F.STATUS_MEDIA_CONTROLS),r=(0,q.jsx)("div",{ref:this._refProgressBar,children:(0,q.jsx)(B.default,{ref:this._refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,hasMediaControls:s,onClick:this.props.onClickProgressBar})});let l;t.type!==h.default.MSG_TYPE.CHAT&&(l=(0,q.jsx)("div",{className:L.default.captionBackdrop,children:(0,q.jsx)(p.default,{className:L.default.mediaCaption,text:t.caption,formatters:j.Configuration.StatusV3Caption()})}));const d=t.isSentByMe||a.contact.isPSA,u=(0,i.default)(L.default.profile,{[L.default.nonClickProfile]:d,[L.default.profileNarrow]:this.state.narrow,[L.default.profileWithMediaControls]:s}),m=(0,i.default)(L.default.profile,L.default.measuringProfile,{}),_=t=>t.stopPropagation();let g=(0,q.jsx)(p.default,{className:L.default.msgInfoName,text:a.contact.formattedName});a.contact.isPSA&&(g=(0,q.jsxs)("div",{className:(0,i.default)(L.default.msgInfoName,L.default.verified),children:[a.contact.formattedName,(0,q.jsx)("div",{className:L.default.icon,children:(0,q.jsx)(H.default,{name:"psa-verified"})})]}));const C=(0,q.jsxs)("div",{className:u,onClick:d?null:this._handleClickProfile,children:[(0,q.jsx)("div",{className:L.default.playerAvatar,children:(0,q.jsx)(f.default,{id:a.contact.id,theme:"status_v3",size:40})}),(0,q.jsxs)("div",{className:L.default.msgInfo,children:[g,(0,q.jsx)("div",{className:L.default.timestamp,children:c.default.relativeDateAndTimeStr(t.t)})]}),s?(0,q.jsx)(F.default,{isPaused:this.state.isPaused,hasAudio:(null==e?void 0:e.type)===P.default.TYPE.VIDEO&&this.state.hasAudio,isMuted:this.state.isMuted,onPlay:this.play,onPause:this._handlePauseButton,onMute:this._mute,onUnmute:this._unmute}):null]}),x=(0,q.jsxs)("div",{ref:this._refMeasuringProfile,className:m,children:[(0,q.jsx)("div",{className:L.default.playerAvatar,children:(0,q.jsx)(f.default,{id:a.contact.id,theme:"status_v3",size:40})}),(0,q.jsxs)("div",{className:L.default.msgInfo,children:[g,(0,q.jsx)("div",{className:L.default.timestamp,children:c.default.relativeDateAndTimeStr(t.t)})]})]}),y={tab:this._handleTab,"shift+tab":this._handleTab};let E,T;e&&(E=(0,q.jsx)(nt,{mediaData:e}));const I=this.props.statusV3.contact;I.isMe||I.isPSA||(T=(0,q.jsx)(v.default,{handlers:{left:_,right:_},children:(0,q.jsx)(A.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.handleSend,pause:this.pause,play:this.play,ref:t=>{this._refComposeBox=t},statusReplyMetric:this._statusReplyEvent})}));const b=S.default.supportsFeature(S.default.F.SEE_STATUS_VIEWERS)&&I.isMe&&this.state.seenBy?(0,q.jsx)("div",{className:L.default.seen,children:(0,q.jsx)(U.default,{seenCount:this.state.seenBy.length,onClick:this._handleSeeViewersModal})}):null,O=(0,i.default)(L.default.playerBackground,{[L.default.media]:e});let M;const w=(0,i.default)(L.default.progressBackdrop,{[L.default.progressBarBackdropNarrow]:this.state.narrow});return t.type!==h.default.MSG_TYPE.CHAT&&(M=(0,q.jsx)("div",{className:w})),(0,q.jsx)(W.default,{displayName:"StatusV3Player",escapable:!0,requestDismiss:t=>{t||this.props.closeStatusViewer()},requestFocus:this.dismissReply,children:(0,q.jsx)(v.default,{handlers:y,children:(0,q.jsxs)("div",{className:L.default.playerWrapper,tabIndex:-1,ref:this._refWrapper,children:[x,C,M,r,l,(0,q.jsx)("div",{className:O,style:o}),n,E,b,T]},t.id.toString())})})}}X.displayName="_StatusV3Player";class J extends l.PureComponent{constructor(...t){super(...t),this._renderImage=t=>{const{msg:e,mediaData:a}=this.props,o=(0,i.default)(L.default.playerContent,L.default.v3Image);return(0,q.jsx)("div",{className:o,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onDragEnd:this.props.onMouseUp,children:(0,q.jsx)(M.default,{type:"contain",size:{width:a.fullWidth,height:a.fullHeight},children:(0,q.jsxs)("div",{className:L.default.mediaViewer,children:[(0,q.jsx)(x.default,{src:t,disableContextMenu:!0}),e.interactiveAnnotations&&e.interactiveAnnotations.length>0&&(0,q.jsx)(d.default,{annotations:e.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}),e&&e.actionLink&&e.actionLink.buttonTitle&&e.actionLink.url&&(0,q.jsx)("div",{className:L.default.actionLink,children:(0,q.jsx)(D.default,{text:e.actionLink.buttonTitle,url:e.actionLink.url})}),null]})})})},this._renderPreviewImage=()=>{var t;const{mediaData:e}=this.props,a=(0,i.default)(L.default.playerContent,L.default.v3Image,L.default.loading);return(0,q.jsx)("div",{className:a,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,children:(0,q.jsx)(M.default,{type:"contain",size:{width:e.aspectRatio,height:1},children:(0,q.jsx)(x.default,{src:null!==(t=ot(e))&&void 0!==t?t:""})})})},this._downloadMedia=()=>this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:b.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidMount(){this.props.mediaData.mediaStage!==T.MEDIA_DATA_STAGE.RESOLVED&&this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:b.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidUpdate(){this.props.play();const t=this.props.mediaData;t&&t.mediaStage===T.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}componentWillUnmount(){this.props.pause()}render(){return(0,q.jsx)(I.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia,renderProgressively:!0,children:this._renderImage})}}J.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio","fullPreviewData"]},J.displayName="_StatusV3Img";const Z=(0,k.default)(J,J.CONCERNS);class Q extends l.PureComponent{constructor(...t){super(...t),this.refVideo=(0,l.createRef)(),this.setRefVideo=t=>{this.refVideo=t;this.props.playbackController.setVideo(this.refVideo.current)}}componentDidMount(){const t=this.props.mediaData;t.streamable||t.isStreamable()||this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:b.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidUpdate(){this.props.play();const t=this.props.mediaData;t&&t.mediaStage===T.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}componentWillUnmount(){this.props.pause()}render(){var t;const{msg:e,mediaData:a,onMouseDown:o,onMouseUp:n}=this.props,s=a.mediaStage!==T.MEDIA_DATA_STAGE.RESOLVED,r=(0,i.default)(L.default.playerContent,L.default.v3Video,{loading:s});return(0,q.jsx)("div",{className:r,onMouseDown:o,onMouseUp:n,children:(0,q.jsx)(M.default,{type:"contain",size:{width:a.fullWidth,height:a.fullHeight},children:(0,q.jsxs)("div",{className:L.default.mediaViewer,children:[(0,q.jsx)(K.default,{msg:e,mediaData:a,autoPlay:!0,refVideo:this.setRefVideo,poster:null!==(t=ot(a))&&void 0!==t?t:"",disableContextMenu:!0,children:y.default.t(1857)}),e.interactiveAnnotations&&e.interactiveAnnotations.length>0&&(0,q.jsx)(d.default,{annotations:e.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}),e&&e.actionLink&&e.actionLink.buttonTitle&&e.actionLink.url&&(0,q.jsx)("div",{className:L.default.actionLink,children:(0,q.jsx)(D.default,{text:e.actionLink.buttonTitle,url:e.actionLink.url})}),null]})})})}}Q.CONCERNS={mediaData:["preview","mediaStage","fullWidth","fullHeight","streamable","fullPreviewData"]},Q.displayName="_StatusV3Video";const tt=(0,k.default)(Q,Q.CONCERNS);function et(t){const{msg:e}=t;(0,l.useEffect)((()=>{C.default.load(e.font).catch((()=>{}))}),[]);const a=(0,G.numCodepoints)(t.msg.body);let o,n;const s={[L.default[`font_${t.msg.font}`]]:!0};return a<=60?(o=(0,i.default)(L.default.text,L.default.textLarge,s),n=j.Configuration.StatusV3Text({links:t.msg.getLinks()})):a<=240?(o=(0,i.default)(L.default.text,L.default.textMedium,s),n=j.Configuration.StatusV3Text({links:t.msg.getLinks()})):o=(0,i.default)(L.default.text,L.default.textSmall,s),(0,q.jsx)("div",{className:(0,i.default)(L.default.playerContent,{[L.default.statusPanelPlayerContent]:"status-panel"===t.theme,[L.default.statusThumbnailPlayerContent]:"status-thumbnail"===t.theme,[L.default.textThumbnailPlayerContent]:"text-thumb"===t.theme}),onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,children:(0,q.jsx)("div",{className:o,children:(0,q.jsx)(p.default,{text:t.msg.body,formatters:n})})})}function at(t){return(0,q.jsx)("div",{className:L.default.playerContent,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,children:(0,q.jsx)("div",{className:L.default.unknown,children:y.default.t(1727)})})}function ot(t){return t?t.fullPreviewData?t.fullPreviewData.url():t.preview?t.preview.url():null:null}const nt=function(t){return(0,z.default)(t.mediaData,["mediaStage"]).mediaStage!==T.MEDIA_DATA_STAGE.RESOLVED?(0,q.jsx)("div",{className:L.default.mediaStateControls,children:(0,q.jsx)("button",{className:"icon-media-disabled",children:(0,q.jsx)(N.default,{size:50,stroke:4,color:"white"})})}):null},st=(0,w.default)((0,E.default)(X));e.default=st},6283:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{isPaused:e,hasAudio:a,isMuted:o,onPlay:i,onPause:r,onMute:c,onUnmute:u}=t;return(0,l.jsx)("div",{onClick:t=>t.stopPropagation(),className:(0,n.default)(d),children:(0,l.jsxs)(s.FlexRow,{children:[(0,l.jsx)(h,{isPaused:e,handlePlayPauseButton:()=>{e?i():r()}}),(0,l.jsx)(f,{hasAudio:a,isMuted:o,handleMuteButton:()=>{o?u():c()}})]})})};var n=o(a(56720)),s=a(63290),i=o(a(2408)),r=o(a(40858)),l=a(85893);const d={marginRight:"kdbjsc5o"},c={marginRight:"j69yk9hm"},u={cursor:"bx7g2weo"};function h({isPaused:t,handlePlayPauseButton:e}){return(0,l.jsx)("div",{className:(0,n.default)(c),children:(0,l.jsx)(r.default,{"aria-label":t?i.default.t(17):i.default.t(16),onClick:e,name:t?"video-play":"video-pause"})})}function f({hasAudio:t,isMuted:e,handleMuteButton:a}){return(0,l.jsx)(r.default,{"aria-label":e?i.default.t(19):i.default.t(15),disabled:!t,onClick:a,name:e||!t?"video-volume-muted":"video-volume",className:t?null:(0,n.default)(u)})}},44519:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a(94184)),i=a(8139),r=a(55084),l=a(67294),d=n(a(69162)),c=n(a(55454)),u=o(a(13540)),h=n(a(32397)),f=n(a(39e3)),p=n(a(2408)),m=a(90672),_=n(a(4231)),g=n(a(40630)),C=n(a(46714)),S=n(a(21694)),v=o(a(98222)),x=n(a(44704)),j=n(a(2966)),y=o(a(49201)),E=n(a(82669)),P=a(12825),T=a(85893);class I extends l.Component{constructor(){super(...arguments),this.handleClickProgressBar=t=>{const e=this.state.iterator;if((!e||t!==e.msgIdx)&&e){const a=this._statusV3Snapshot.statusAt(e,t);a.isFulfilled()||this.setState({loading:!0}),a.checkpoint(this.props.rejectOnUnmount()).then((t=>{this.setState({iterator:t})})).catch((0,r.filteredCatch)(v.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`}))).catch((0,r.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))).catch((0,r.filteredCatch)(v.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))).finally((()=>{this.setState({loading:!1})}))}},this._preloadNextStatus=()=>{const t=this.state.iterator;if(t&&this._statusV3Snapshot.hasNext(t)){this._statusV3Snapshot.getNext(t).checkpoint(this.props.rejectOnUnmount()).then((t=>{const e=this._statusV3Snapshot.statuses[t.statusIdx].msgs[t.msgIdx];if(!e)throw new v.StatusV3MsgNotFound;if(e.type===c.default.MSG_TYPE.CHAT)h.default.load(e.font).catch((()=>{}));else{const t=e.mediaData;t&&t.mediaStage!==m.MEDIA_DATA_STAGE.RESOLVED&&e.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:_.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!1})}})).catch((0,r.filteredCatch)(v.StatusV3MsgNotFound,(()=>{__LOG__(3)`Error finding next status while preloading next status`}))).catch((0,r.filteredCatch)(v.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while preloading next status`}))).catch((0,r.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))).catch((0,r.filteredCatch)(v.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})))}},this.handlePrev=()=>{const t=this.state.iterator;if(t&&this._statusV3Snapshot.hasPrev(t)){const e=t.statusIdx;this._statusV3Snapshot.getPrev(t).checkpoint(this.props.rejectOnUnmount()).then((t=>{t.statusIdx===e?this.setState({iterator:t}):(this.setState({transitioning:!0}),(0,i.delayMs)(200).checkpoint(this.props.rejectOnUnmount()).then((()=>{this.setState({iterator:t,transitioning:!1})})).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))))})).catch((0,r.filteredCatch)(v.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting previous status msg`}))).catch((0,r.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))).catch((0,r.filteredCatch)(v.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})))}},this.handleNext=()=>{const t=this.state.iterator;if(t&&this._statusV3Snapshot.hasNext(t)){const e=t.statusIdx,a=this._statusV3Snapshot.getNext(t);a.isFulfilled()||this.setState({loading:!0}),a.checkpoint(this.props.rejectOnUnmount()).then((t=>{t.statusIdx===e?this.setState({iterator:t}):(this.setState({transitioning:!0,loading:!1}),(0,i.delayMs)(200).checkpoint(this.props.rejectOnUnmount()).then((()=>{this.setState({iterator:t,transitioning:!1})})).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))))})).catch((0,r.filteredCatch)(v.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`,this.closeStatusViewer()}))).catch((0,r.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))).catch((0,r.filteredCatch)(v.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))).finally((()=>{this.setState({loading:!1})}))}else this.closeStatusViewer()},this.markRead=(t,e)=>{if(!e)return;const a=t.unreadCount,o=t.totalCount;t.msgs.getModelsArray().findIndex((t=>t===e))>=o-a&&t.sendReadStatus(e.id,e.author);const n=this._statusV3Snapshot.statuses.find((e=>e.statusV3===t));n&&n.readMsgKeys.push(e.id.toString())},this.closeStatusViewer=t=>{this.setState({transitioning:!0}),(0,i.delayMs)(200).checkpoint(this.props.rejectOnUnmount()).then((()=>{this.props.closeStatusViewer(t)})).catch((0,r.filteredCatch)(u.Unmount,(()=>{})))};const t=this.props.initialStatusV3;if(this.props.quotedMsgKey){this.state={};const e=this.props.quotedMsgKey;if(-1!==t.msgs.getModelsArray().findIndex((t=>t.id.toString()===e.toString()))){this._statusV3Snapshot=new v.default(t,e);this._statusV3Snapshot.getFirstUnread(t,!0,e).checkpoint(this.props.rejectOnUnmount()).then((t=>{this.setState({iterator:t,loading:!1})})).catch((0,r.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))).catch((0,r.filteredCatch)(v.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,d.default.openToast((0,T.jsx)(y.default,{msg:p.default.t(1720),id:(0,y.genId)()})),this.props.closeStatusViewer()})))}else this.state={loading:!0},t.loadMore(t.totalCount).then((()=>{this.setState({loading:!1});if(-1!==t.msgs.getModelsArray().findIndex((t=>t.id.toString()===e.toString()))){this._statusV3Snapshot=new v.default(t,e);this._statusV3Snapshot.getFirstUnread(t,!0,e).checkpoint(this.props.rejectOnUnmount()).then((t=>{this.setState({iterator:t,loading:!1})})).catch((0,r.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))).catch((0,r.filteredCatch)(v.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,d.default.openToast((0,T.jsx)(y.default,{msg:p.default.t(1720),id:(0,y.genId)()})),this.props.closeStatusViewer()})))}else this.props.onMsgNotFound&&this.props.onMsgNotFound(),d.default.openToast((0,T.jsx)(y.default,{msg:p.default.t(1720),id:(0,y.genId)()})),this.props.closeStatusViewer()})).catch((()=>{d.default.openToast((0,T.jsx)(y.default,{msg:p.default.t(1720),id:(0,y.genId)()})),this.props.closeStatusViewer()})).finally((()=>{this.setState({loading:!1})}))}else{const e=this.props.initialStatusMsg;this._statusV3Snapshot=new v.default(t);const a=this._statusV3Snapshot.getFirstUnread(t,!0,null==e?void 0:e.id);a.isFulfilled()?this.state={}:this.state={loading:!0},a.checkpoint(this.props.rejectOnUnmount()).then((t=>{this.setState({iterator:t,loading:!1})})).catch((0,r.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(u.Unmount,(()=>{}))).catch((0,r.filteredCatch)(v.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,d.default.openToast((0,T.jsx)(y.default,{msg:p.default.t(1720),id:(0,y.genId)()})),this.props.closeStatusViewer()})))}}componentDidMount(){this._preloadNextStatus()}componentDidUpdate(){this._preloadNextStatus()}render(){const t=this.state.iterator;let e,a,o,n,i,r,l,d;t&&(i=this._statusV3Snapshot,r=i.statuses[t.statusIdx],l=r.statusV3,d=r.msgs[t.msgIdx],i.hasPrev(t)&&(o=(0,T.jsx)("div",{className:x.default.chevronLeft,children:(0,T.jsx)(j.default,{name:"chevron-left"})}),n=(0,T.jsx)("div",{className:x.default.chevronLeftBg,onClick:this.handlePrev})),i.hasNext(t)&&(e=(0,T.jsx)("div",{className:x.default.chevronRight,children:(0,T.jsx)(j.default,{name:"chevron-right"})}),a=(0,T.jsx)("div",{className:x.default.chevronRightBg,onClick:()=>{this.handleNext(),this.markRead(l,d)}})));const c={left:this.handlePrev,right:this.handleNext};let u;!this.state.transitioning&&!this.state.loading&&d&&t&&r&&l&&(u=(0,T.jsx)("div",{className:x.default.playerContainer,children:(0,T.jsx)(S.default,{statusV3:l,msg:d,mediaData:d.mediaData,msgIdx:t.msgIdx,totalMsgs:r.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.handleClickProgressBar,onNext:this.handleNext,onPrev:this.handlePrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx},d.id)},d.id));const h=(0,s.default)(x.default.v3X,{}),p=(0,T.jsx)("button",{className:h,onClick:()=>this.props.closeStatusViewer(!0),children:(0,T.jsx)(j.default,{name:"x-viewer"})}),m=(0,s.default)(x.default.backIcon,{}),_=(0,T.jsx)("button",{className:m,onClick:()=>this.props.closeStatusViewer(),children:(0,T.jsx)(j.default,{name:"back",directional:!0})});let g;return this.state.loading&&(g=(0,T.jsx)("div",{className:x.default.mediaStateControls,children:(0,T.jsx)("button",{children:(0,T.jsx)(C.default,{size:50,stroke:4,color:"white"})})})),(0,T.jsx)(f.default,{handlers:c,children:(0,T.jsxs)("div",{className:x.default.viewer,"data-animate-status-v3-viewer":!0,children:[p,_,n,o,a,e,g,(0,T.jsx)(E.default,{transitionName:"status-v3-player",transitionAppear:!0,children:u})]})})}}I.displayName="StatusV3Viewer";var b=(0,g.default)(I);e.default=b},60962:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({viewers:t,onClose:e}){(0,s.useEffect)((()=>e));const a=new u.default,o=function(t){const e=t.map((t=>({participant:t,itemKey:t.id.toString(),height:c.DEFAULT_ITEM_HEIGHT})));return e.sort(((t,e)=>e.participant.t-t.participant.t)),e}(t),n=o.length?(0,g.jsx)(c.default,{flatListController:a,direction:"vertical",forceConsistentRenderCount:!0,data:o,renderItem:C}):(0,g.jsx)(v,{}),d=m.default.t(1880,{count:o.length}),h={width:400,height:S(o.length)};return(0,g.jsx)(_.default,{type:_.ModalTheme.CustomSize,dimensions:h,children:(0,g.jsxs)(i.default,{theme:"settings",children:[(0,g.jsx)(l.default,{onCancel:e,title:d,type:l.DRAWER_HEADER_TYPE.POPUP}),(0,g.jsx)(r.default,{flatListControllers:[a],children:n})]})})};var s=a(67294),i=n(a(17747)),r=n(a(9042)),l=o(a(55588)),d=a(92231),c=o(a(86025)),u=n(a(67893)),h=a(86723),f=n(a(12950)),p=n(a(51314)),m=n(a(2408)),_=o(a(79475)),g=a(85893);function C(t){const{participant:e}=t;return(0,g.jsx)(p.default,{msgInfoParticipant:e,contact:e.contact},e.id.toString())}function S(t){const e=t>0?72*t:f.default.supportsFeature(f.default.F.MD_BACKEND)?100:150;return Math.min(500,e+59)}function v(){return f.default.supportsFeature(f.default.F.MD_BACKEND)?(0,g.jsx)(d.Empty,{children:"none"===(0,h.getUserPrivacySettings)().readReceipts?m.default.t(495):m.default.t(1426)}):(0,g.jsx)(d.Empty,{title:m.default.t(1426),text:m.default.t(1881)})}},45257:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(67294),i=n(a(55454)),r=n(a(17747)),l=n(a(9042)),d=o(a(55588)),c=n(a(85051)),u=n(a(39e3)),h=n(a(26976)),f=o(a(79475)),p=n(a(85599)),m=n(a(3132)),_=n(a(2966)),g=n(a(29458)),C=n(a(18914)),S=n(a(63477)),v=o(a(78502)),x=a(85893);const j=(t,e)=>{const{defaultText:a,title:o,onSend:n,onBack:j}=t,[y,E]=(0,s.useState)(a),P=(0,v.findFirstWebLink)(y),{linkPreview:T,clearLinkPreview:I}=(0,v.default)(P),b=o?(0,x.jsx)(c.default,{text:o,direction:"auto",titlify:!0,ellipsify:!0}):null,{title:O,canonicalUrl:M,description:w,thumbnail:N}=T||{},k=T?(0,x.jsx)(S.default,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:I,children:(0,x.jsx)(p.default,{onOmit:I,children:(0,x.jsx)(h.default,{title:O,compose:!0,canonicalUrl:M,description:w,thumbnailJpeg:N})})}):null;return(0,x.jsx)(f.default,{type:f.ModalTheme.Box,ref:e,children:(0,x.jsxs)(r.default,{children:[(0,x.jsx)(d.default,{type:d.DRAWER_HEADER_TYPE.POPUP,onBack:j,children:b}),(0,x.jsx)(l.default,{children:(0,x.jsxs)(u.default,{className:C.default.container,children:[(0,x.jsx)("div",{className:C.default.inputContainer,children:(0,x.jsx)(g.default,{a8n:"text-message-modal-text-unput",value:y,maxLength:i.default.MAX_TXT_MSG_SIZE,onChange:t=>{E(t)},supportsEmoji:!0,multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small"})}),k]})}),(0,x.jsx)("div",{className:C.default.btnContainer,children:(0,x.jsx)("div",{className:C.default.btnPosition,children:(0,x.jsx)(m.default,{large:!0,onClick:()=>{y.length&&n(y,T)},children:(0,x.jsx)(_.default,{name:"send",directional:!0})})})})]})})};var y=(0,s.forwardRef)(j);e.default=y},26343:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{onCartClick:e,cartCount:a,catalogId:o,canManageCatalog:n,onSendCatalog:S,onOpenCollections:v,onOpenSettings:x}=t,j=(0,s.useContext)(r.default);return(0,C.jsxs)(C.Fragment,{children:[(()=>{if(e&&o){const t=(0,g.isNumber)(a)&&a>0?a.toString():void 0,n=(0,f.getOnCartClickWithLog)(e,o,(0,m.getProductCatalogContext)(j));return(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,C.jsx)(i.default,{theme:"inherit-color"}),text:t,title:u.default.t(500),onClick:n})}return null})(),n?(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,C.jsx)(_.default,{name:"menu"}),title:u.default.t(1271),children:(0,C.jsxs)(l.default,{type:"dropdown_menu",flipOnRTL:!0,dirX:l.DirX.LEFT,children:[(0,C.jsx)(d.default,{a8n:"mi-foward menu-item",action:S,children:u.default.t(931)}),v&&(0,C.jsx)(d.default,{a8n:"mi-collections menu-item",action:v,children:u.default.t(630)}),(0,c.canToggleCartOnOff)()&&x&&(0,C.jsx)(d.default,{a8n:"mi-settings menu-item",action:x,children:u.default.t(570)})]},"CatalogDetailHeader")}):(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,C.jsx)(h.default,{}),title:u.default.t(563),onClick:S})]})};var s=a(67294),i=n(a(5221)),r=n(a(79864)),l=o(a(9492)),d=n(a(47452)),c=a(78615),u=n(a(2408)),h=n(a(29429)),f=a(20232),p=a(47941),m=a(70790),_=n(a(2966)),g=a(74289),C=a(85893)},22715:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(67294),s=(o(a(56720)),o(a(8581))),i=a(47874),r=o(a(69991)),l=o(a(71801)),d=o(a(79864)),c=o(a(25061)),u=a(63290),h=a(86723),f=a(78615),p=o(a(2408)),m=a(30333),_=o(a(83427)),g=a(70790),C=o(a(26491)),S=o(a(84241)),v=a(15298),x=o(a(2966)),j=o(a(89135)),y=a(85893);const E={addIcon:{position:"g0rxnol2",width:"d0st09ow",height:"bbl9m3t3",paddingBottom:"aus7m8kn",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",borderTop:"rom324v9",borderEnd:"na7ur5ty",borderBottom:"gjeyj30g",borderStart:"bmro6pka",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":before":{position:"oxaw94s0",top:"ijeufx4s",start:"meq75apj",display:"oa3lyrek",width:"slvs4faj",height:"jaq0b63r",content:"lij4d1x3",background:"nkmjymgc",transform:"k95pjfv1"},":after":{position:"dkvli2l0",top:"qi2a0yje",start:"bunkm0yn",display:"b0f5vxaq",width:"qbfuvgfc",height:"i0r7mfoh",content:"k15o3o4i",background:"fji5f4ri",transform:"cai600lj"}},largeGallerySpacing:{width:"b8z6cu80",height:"bbl9m3t3",marginEnd:"jnwc1y2a",marginBottom:"qrsyb3yy"},placeholderThumb:{width:"d0st09ow",height:"fujac5jc",paddingBottom:"lxvt2vq0",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",backgroundColor:"o27ac25e",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},subtitle:{marginTop:"tt8xd2xn",marginEnd:"q471nw87",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6"}};function P(t){const{onProductCatalog:e,title:a,subtitle:o,animation:P,sectionTheme:T,shouldLog:I,catalog:b,onProductDetail:O,filterProductId:M,productsToShow:w,hideIncompleteRows:N,showProductPlaceholders:k,seeMoreOverlay:D,catalogEntryLabel:A,showShopsLogo:R}=t,L=(0,n.useContext)(d.default);(0,n.useEffect)((()=>{I&&null!=b&&(0,m.logBusinessProfileCatalogView)({catalogOwnerWid:b.id,catalogContext:(0,g.getProductCatalogContext)(L)})}),[]);const F=null==A?null:(0,y.jsx)("div",{className:l.default.catalogEntryButton,children:(0,y.jsx)(r.default,{a8nText:"catalog-entry-button",type:"secondary",onClick:()=>e((0,g.getProductCatalogContext)(L)),children:A})});const B=(()=>{let t,a,o=[],n=w;if((0,f.canSeeBizProfileV3)()&&(a="largeGallerySpacing"),null!=b?(t=b.productCollection,o=b.productCollection.getProductModels(),N&&o.length>3&&(n=Math.min(w,o.length-o.length%3)),o=o.slice(0,n+1),o=o.filter((t=>t.id.toString()!==M)).map(((t,e)=>{var o;const s=null===(o=t.getPreviewImage())||void 0===o?void 0:o.mediaData;if(!s)return(0,y.jsx)(y.Fragment,{});let i;D&&e===n-1&&b.productCollection.length>n-1&&(i=p.default.t(1664));return(0,y.jsx)(S.default,{onClick:()=>(t=>{I&&(0,m.logProfileProductClick)({product:(0,v.unproxy)(t),catalogContext:(0,g.getProductCatalogContext)(L)}),O(t)})(t),mediaData:s,overlayContent:i,theme:a},t.id.toString())})).slice(0,n)):(t=new C.default,t.add({id:"_ph"})),!o.length&&!k)return null;let s,i=E.addIcon;for(;k&&o.length<n;)o.push((0,y.jsx)(j.default,{onClick:()=>e((0,g.getProductCatalogContext)(L)),title:p.default.t(3),xstyle:[i,"largeGallerySpacing"===a&&E.largeGallerySpacing],children:(0,y.jsx)(y.Fragment,{})},`_ph${o.length}`)),i=E.placeholderThumb;return(0,f.canSeeBizProfileV3)()&&(s="space-between"),(0,y.jsx)(_.default,{productMedias:o,mediaCollection:t,justify:s})})(),U=o?(0,y.jsx)(u.FlexItem,{xstyle:E.subtitle,children:o}):null,V=(0,y.jsxs)(u.FlexRow,{align:"center",children:[U,(0,y.jsx)(u.FlexItem,{children:(0,y.jsx)(x.default,{className:l.default.chevron,name:"chevron-right-alt",directional:!0})})]});if((0,f.bannedShopsEnabled)()){const t=s.default.get((0,h.getMaybeMeUser)());if((0,i.hasShop)(t)&&(0,i.isShopBanned)(t))return(0,y.jsx)(c.default,{subtitle:V,theme:"padding-large",animation:P,children:(0,y.jsxs)("div",{className:l.default.content,children:[(0,y.jsx)("div",{className:l.default.infoText,children:p.default.t(2352)}),(0,y.jsx)(r.default,{type:"primary",onClick:function(){if((0,f.bannedShopsEnabled)()){const t=s.default.get((0,h.getMaybeMeUser)());(0,i.goToCommerceManager)(t)}},children:p.default.t(706)})]})})}return(0,y.jsxs)(c.default,{title:a||p.default.t(1567),titleOnClick:()=>e((0,g.getProductCatalogContext)(L)),subtitle:V,theme:T,animation:P,children:[B,F,R?(0,y.jsx)("div",{className:l.default.shopsLogo,children:(0,y.jsx)(x.default,{name:"fbshops",display:"inline"})}):null]})}P.defaultProps={productsToShow:6,sectionTheme:"padding",hideIncompleteRows:!1};var T=P;e.default=T},17663:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{onBack:e,onCancel:a,catalog:o,contact:n,prompt:P,centerDrawer:T,onSend:I}=t,b=(0,s.useContext)(f.default),O=()=>{l.default.openModal((0,y.jsx)(v.default,{catalog:o,onSend:I}),{transition:"modal-flow"}),(0,g.logShareCatalogViaWALinkClick)({catalogOwnerWid:o.id,catalogContext:(0,S.getProductCatalogContext)(b)})},M=(0,y.jsx)(c.default,{id:n.id,size:82,quality:c.DETAIL_IMAGE_QUALITY.HIGH});let w,N;T&&(w="labels",N="center-column");return(0,y.jsxs)(u.default,{theme:w,children:[(0,y.jsx)(p.default,{a8n:"catalog-link-title",title:m.default.t(563),onBack:e,onCancel:a,type:p.DRAWER_HEADER_TYPE.SMALL}),(0,y.jsxs)(h.default,{theme:N,children:[(0,y.jsx)("div",{className:i.default.prompt,children:P}),(0,y.jsx)(r.default,{image:M,primary:(0,y.jsx)(C.default,{contact:n,useVerifiedName:!0}),theme:"identity",secondary:(0,y.jsx)(_.default,{id:E,href:(0,j.createCatalogLink)(o.id.user),onClick:t=>{t.preventDefault(),O()},noHandle:!0})}),(0,y.jsx)(x.default,{onClick:O}),(0,y.jsx)(d.default,{elementId:E,onClick:()=>{(0,g.logShareCatalogCopyLinkClick)({catalogOwnerWid:o.id,catalogContext:(0,S.getProductCatalogContext)(b)})}})]})]},"catalog-link-drawer")};var s=a(67294),i=n(a(56107)),r=n(a(55092)),l=n(a(69162)),d=n(a(55059)),c=o(a(88419)),u=n(a(17747)),h=n(a(9042)),f=n(a(79864)),p=o(a(55588)),m=n(a(2408)),_=n(a(76389)),g=a(30333),C=n(a(78972)),S=a(70790),v=n(a(11364)),x=n(a(5646)),j=a(40307),y=a(85893);const E="catalog-link-anchor"},39618:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return r.apply(this,arguments)};var n=o(a(48926)),s=o(a(8581)),i=a(78615);function r(){return(r=(0,n.default)((function*(t){var e;if(!(0,i.cartPropEnabled)())return!1;let a=s.default.get(t);if(!a||a.stale){const e=yield s.default.update(t);a=Array.isArray(e)?e[0]:e}return(null===(e=a.profileOptions)||void 0===e?void 0:e.cartEnabled)||!1}))).apply(this,arguments)}},81617:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{contactId:e,onSendProduct:a,onReportProduct:o,onProductLinkClick:n,onProductMoreInformation:S,onCartClick:v,cartCount:x,catalogId:j}=t,y=(0,s.useContext)(r.default);return(0,C.jsxs)(C.Fragment,{children:[(()=>{if(v&&j){const t=(0,g.isNumber)(x)&&x>0?x.toString():void 0,e=(0,f.getOnCartClickWithLog)(v,j,(0,m.getProductCatalogContext)(y));return(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,C.jsx)(i.default,{}),text:t,title:u.default.t(500),onClick:e})}return null})(),(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-product-link",icon:(0,C.jsx)(h.default,{}),title:u.default.t(1544),onClick:n}),(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,C.jsx)(_.default,{name:"menu"}),title:u.default.t(1271),children:(0,C.jsxs)(l.default,{type:"dropdown_menu",flipOnRTL:!0,dirX:l.DirX.LEFT,children:[(0,C.jsx)(d.default,{a8n:"mi-send menu-item",action:a,children:u.default.t(1693)}),(0,c.canSeeECommerceComplianceIndiaUserJourney)(e)&&(0,C.jsx)(d.default,{a8n:"mi-send menu-item",action:S,children:u.default.t(1540)}),(0,C.jsx)(d.default,{a8n:"mi-report menu-item",action:o,children:u.default.t(1597)})]},"ProductDetailHeader")})]})};var s=a(67294),i=n(a(5221)),r=n(a(79864)),l=o(a(9492)),d=n(a(47452)),c=a(78615),u=n(a(2408)),h=n(a(29429)),f=a(20232),p=a(47941),m=a(70790),_=n(a(2966)),g=a(74289),C=a(85893)},28379:(t,e,a)=>{"use strict";var o=a(20862);Object.defineProperty(e,"__esModule",{value:!0}),e.parseErrorState=function(t,e){if(t instanceof s.Unmount);else if(t instanceof n.ServerStatusCodeError)"not_found"===t.status||404===t.status?e("NOT_FOUND"):(e("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch from server`);else{if(!(t instanceof n.WebdDrop))throw e("ERROR"),t;e("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch due to WebdDrop`}};var n=a(12825),s=o(a(13540))},8212:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({fetchState:t}){switch(t){case"NONE":case"SUCCESS":return null;case"PENDING":return(0,c.jsxs)("div",{className:(0,s.default)(r.default.loadingContainer),children:[(0,c.jsx)(l.default,{size:14,color:l.colorOptions.highlight}),(0,c.jsx)(d.TextSpan,{className:(0,s.default)(r.default.text,r.default.loadingText),theme:"small",children:i.default.t(1566)})]});case"NOT_FOUND":case"ERROR":return(0,c.jsx)("div",{className:(0,s.default)(r.default.loadingContainer),children:(0,c.jsx)(d.TextSpan,{className:r.default.text,theme:"small",color:"danger",children:"NOT_FOUND"===t?i.default.t(1552):i.default.t(1523)})});default:throw new Error(`invalid fetchState ${t}`)}};var s=n(a(94184)),i=n(a(2408)),r=n(a(44134)),l=o(a(46714)),d=a(97504),c=a(85893)},29429:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.jsx)(i.default,{name:"link",className:(0,n.default)(s.default.linkIcon,{[s.default.inheritColor]:"inherit-color"===t.theme})})};var n=o(a(94184)),s=o(a(93277)),i=o(a(2966)),r=a(85893)},76389:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({id:t,href:e,onClick:a,noHandle:o}){return(0,i.jsx)("span",{className:n.default.linkContainer,children:(0,i.jsx)(s.SelectableLink,{id:t,href:e,className:n.default.activeLink,selectable:!0,onClick:a,"data-nohandle":o,children:e})})};var n=o(a(36074)),s=a(20845),i=a(85893)},96470:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.handleProductDelete=function(t,e,a){return(0,c.logDeleteProductClick)(e,1,a),new Promise(((o,n)=>{r.default.openModal((0,C.jsx)(l.default,{title:d.default.t(539),okText:d.default.t(2183),cancelText:d.default.t(1996),onOK:()=>{r.default.closeModal(),function(){return S.apply(this,arguments)}(t,e,a).then((t=>o(t))).catch((t=>n(t)))},onCancel:()=>{r.default.closeModal(),o(!1)},children:(0,C.jsx)("div",{children:d.default.t(538)})}))}))},e.handleProductVisibilityChange=function(t,e,a){const o=e.id.toString(),n=!e.isHidden;n?(0,c.logCatalogProductHideClick)(o,a):(0,c.logCatalogProductShowClick)(o,a);return new Promise(((s,i)=>{const u=e.isHidden?d.default.t(560):d.default.t(551);r.default.openModal((0,C.jsx)(l.default,{okText:d.default.t(2183),cancelText:d.default.t(1996),onOK:()=>{r.default.closeModal(),function(){return v.apply(this,arguments)}(t,e).then((()=>{n?(0,c.logCatalogProductHideSuccess)(o,a):(0,c.logCatalogProductShowSuccess)(o,a),s(!0)})).catch((t=>{n?(0,c.logCatalogProductHideFailed)(o,a):(0,c.logCatalogProductShowFailed)(o,a),i(t)}))},onCancel:()=>{r.default.closeModal(),n?(0,c.logCatalogProductHideCancelled)(o,a):(0,c.logCatalogProductShowCancelled)(o,a),s(!1)},children:(0,C.jsx)("div",{children:u})}))}))},e.handleCollectionDelete=function(t,e,a){return new Promise(((o,n)=>{r.default.openModal((0,C.jsx)(l.default,{title:d.default.t(526),okText:d.default.t(2183),cancelText:d.default.t(1996),onOK:()=>{r.default.closeModal(),function(){return x.apply(this,arguments)}(t,e,a).then((t=>o(t))).catch((t=>n(t)))},onCancel:()=>{r.default.closeModal(),o(!1)},children:(0,C.jsx)("div",{children:d.default.t(524)})}))}))},e.handleCollectionSave=function(t,e,a,o,n,s){return(e?(0,m.editCollection)(e.id.toString()||"",a===e.name?void 0:a,!1,o.map((t=>t.id.toString())),n.map((t=>t.id.toString())),s.session.toString()).then((s=>(e.name=a,e.reviewStatus=s.reviewStatus,t.collections.replaceId(e.id,s.id),0===o.length&&0===n.length||(e.productCollection.reset(),e.afterCursor=void 0,t.collections.reset(),t.collections.afterCursor=""),!0))):(0,m.createCollection)(a,o.map((t=>t.id.toString())),s.session.toString()).then((e=>((0,u.logCollectionCreated)({catalogContext:s,collectionId:e.id,productCount:o.length}),t.collections.reset(),t.collections.afterCursor="",!0)))).catch((t=>{let e=d.default.t(537);return"not-acceptable"===t.text?("products"===t.fieldName&&"duplicate"===t.fieldReason&&(e=d.default.t(535)),"collection"===t.fieldName&&"empty"===t.fieldReason&&(e=d.default.t(536))):(__LOG__(4,!0,new Error,!0)`Failed to save collection, error: ${t}`,SEND_LOGS("Saving collection failed")),r.default.openToast((0,C.jsx)(_.default,{msg:e,id:(0,_.genId)("catalog_save_collection_failed")})),!1}))},e.handleCollectionAppeal=function(){return j.apply(this,arguments)};var s=n(a(48926)),i=a(55084),r=n(a(69162)),l=n(a(75940)),d=n(a(2408)),c=a(30333),u=a(59562),h=a(68793),f=a(94583),p=a(26491),m=a(14146),_=o(a(49201)),g=a(12825),C=a(85893);function S(){return(S=(0,s.default)((function*(t,e,a){try{return yield(0,h.deleteProducts)([e.id.toString()]),(0,c.logDeleteProductSuccess)(e,1,a),t.productCollection.evictImagesFromCache(e.id.toString()),t.productCollection.remove(e.id.toString()),t.collections&&t.collections.forEach((t=>t.productCollection.remove(e.id.toString()))),!0}catch(t){return(0,i.filteredCatch)(g.ServerStatusCodeError,(t=>((0,c.logDeleteProductFailed)(e,1,a,t.statusCode),r.default.openToast((0,C.jsx)(_.default,{msg:d.default.t(540),id:(0,_.genId)("catalog_delete_product_failed")})),!1)))(t)}}))).apply(this,arguments)}function v(){return(v=(0,s.default)((function*(t,e){yield(0,f.productVisibilitySet)([{productId:e.id.toString(),isHidden:!e.isHidden}]),e.isHidden=!e.isHidden;[t.productCollection,...(t.collections||[]).map((t=>t.productCollection))].forEach((t=>{const a=t.get(e.id);a&&(a.isHidden=e.isHidden)}))}))).apply(this,arguments)}function x(){return(x=(0,s.default)((function*(t,e,a){try{return yield(0,m.deleteCollection)(e.id.toString(),a.session.sessionId.toString()),t.collections.remove(e.id.toString()),(0,u.logCollectionDeleted)({catalogContext:a,collectionId:e.id}),!0}catch(t){return(0,i.filteredCatch)(g.ServerStatusCodeError,(t=>(__LOG__(4,!0,new Error,!0)`Failed to delete collection, error: ${t}`,SEND_LOGS("Deleteing collection failed"),r.default.openToast((0,C.jsx)(_.default,{msg:d.default.t(523),id:(0,_.genId)("catalog_delete_product_failed")})),!1)))(t)}}))).apply(this,arguments)}function j(){return(j=(0,s.default)((function*(t,e){yield(0,m.appealCollection)(t.id.toString(),e),t.set({canAppeal:!1,reviewStatus:p.PRODUCT_REVIEW_STATUS.PENDING})}))).apply(this,arguments)}},32179:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{onClick:e}=t,a=(0,n.default)(s.default.addItemButton,{[s.default.themeDefault]:"default"===t.theme,[s.default.themeInList]:"in-list"===t.theme,[s.default.themeCollections]:"collections"===t.theme}),o=(0,d.jsx)(l.default,{title:r.default.t(516),onClick:()=>{},xstyle:c.addIcon,children:(0,d.jsx)(d.Fragment,{})});return(0,d.jsx)(i.default,{theme:"add-item",image:o,customImage:!0,primary:t.title||r.default.t(516),className:a,onClick:e,idle:t.idle,a8n:"add-item"})};var n=o(a(94184)),s=(o(a(56720)),o(a(79184))),i=o(a(55092)),r=o(a(2408)),l=o(a(89135)),d=a(85893);const c={addIcon:{position:"g0rxnol2",width:"o22r6p4i",height:"dng4fqht",borderTop:"btoh1681",borderEnd:"sngpozrj",borderBottom:"c2eze1zb",borderStart:"bd2x2sk5",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"},"::before":{position:"jiaumjzp",top:"iu8zqbur",left:"c4kjmepz",display:"chh99fau",width:"ln1ej6zg",height:"i0a739jv",content:"ckfn5qle",backgroundColor:"t4c1fkc8",transform:"bsbo06yw"},"::after":{position:"tkubpkrc",top:"khfyavfg",left:"nly7wueh",display:"l1wvjj35",width:"dbiwaw4z",height:"l9a7srmz",content:"lw9p9708",backgroundColor:"sadoqatt",transform:"n2obx7p9"}}}},18760:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.getCollectionIntegrityHeight=function(t){return(0,c.canAppealCollections)()&&t.reviewStatus===f.PRODUCT_REVIEW_STATUS.REJECTED?2*d.default.PRODUCT_LIST_ITEM_HEIGHT+10:d.default.PRODUCT_LIST_ITEM_HEIGHT+10},e.default=function(t){const{collection:e,onEditCollection:a}=t,o=(0,m.jsx)("div",{className:r.default.iconContainerRejected,children:(0,m.jsx)(p.default,{name:"info"})}),d=()=>{a&&a(e)},_=()=>{i.default.openModal((0,m.jsx)(n.default,{collection:e}))};switch(e.reviewStatus){case f.PRODUCT_REVIEW_STATUS.PENDING:return(0,m.jsxs)("div",{className:r.default.pendingBanner,children:[u.default.t(629),(0,m.jsx)("div",{className:r.default.iconContainerPending,children:(0,m.jsx)(p.default,{name:"info"})})]});case f.PRODUCT_REVIEW_STATUS.REJECTED:return(0,c.canAppealCollections)()?(()=>{const t=(e.rejectReason||"other_violation").toLowerCase(),a=(0,l.default)(t,e.commerceUrl),n=(0,m.jsx)(s.default,{onClick:d,children:u.default.t(680)});if(e.canAppeal){const t=(0,m.jsx)(s.default,{onClick:_,children:u.default.t(681)}),e=(0,m.jsx)(h.default,{id:645,params:{rename_collection_link:n,request_another_review_link:t}});return(0,m.jsxs)("div",{className:r.default.rejectedBannerWithAppeal,children:[a.first,(0,m.jsx)("br",{}),e,o]})}{const t=(0,m.jsx)(h.default,{id:696,params:{rename_collection_link:n}});return(0,m.jsxs)("div",{className:r.default.rejectedBannerWithAppeal,children:[a.second,(0,m.jsx)("br",{}),t,o]})}})():(0,m.jsxs)("div",{className:r.default.rejectedBanner,children:[u.default.t(655),(0,m.jsx)(s.default,{onClick:d,children:u.default.t(656)}),o]});default:return null}};var n=o(a(26734)),s=o(a(44683)),i=o(a(69162)),r=o(a(65491)),l=o(a(84017)),d=o(a(55454)),c=a(78615),u=o(a(2408)),h=o(a(663)),f=a(26491),p=o(a(2966)),m=a(85893)},13002:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{onProductDetail:e,onProductShare:a,onCartOpen:o,shareLinks:C,canManageCatalog:S}=t,[v,x]=(0,n.useState)(void 0),j=(0,_.default)(t.catalog,["productCollection","afterCursor","id","index"]),y=t=>{a&&a(t)};if(!j.productCollection||!j.productCollection.getProductModels(t.canManageCatalog).length)return null;return(0,g.jsx)(c.default,{flatListControllers:[t.flatListController],children:(0,g.jsx)(d.default,{flatListController:t.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const t=void 0!==o;return j.productCollection.getProductModels(S).map((e=>({itemKey:`${e.id.toString()}_${t.toString()}`,product:e})))})(),renderItem:t=>{const{product:a}=t;return(0,g.jsx)(l.default.Consumer,{children:t=>{const n=(0,f.getProductCatalogContext)(t);return(0,g.jsx)(p.default,{product:a,onCartOpen:o,onClick:()=>((t,a)=>((0,h.logCatalogListDetailClick)({product:(0,m.unproxy)(t),catalogContext:a}),x(t.id.toString()),e(t)))(a,n),onProductShare:C?y:null,onProductDelete:t=>((t,e)=>{(0,s.handleProductDelete)(j,t,e).then((()=>{t.id===v&&(i.default.closeDrawerMid(),x(void 0))}))})(t,n),onProductHideShow:t=>((t,e)=>{(0,s.handleProductVisibilityChange)(j,t,e)})(t,n),canManageCatalog:S})}})},defaultItemHeight:r.default.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:u.KeyOrder.INVERSE})})};var n=a(67294),s=a(96470),i=o(a(69162)),r=o(a(55454)),l=o(a(79864)),d=o(a(86025)),c=o(a(19257)),u=a(82474),h=a(30333),f=a(70790),p=o(a(34290)),m=a(15298),_=o(a(76006)),g=a(85893)},64305:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a(48926)),i=n(a(23493)),r=n(a(23279)),l=a(67294),d=n(a(76610)),c=a(70359),u=n(a(32179)),h=n(a(25523)),f=n(a(21496)),p=n(a(60028)),m=n(a(26343)),_=n(a(24165)),g=a(46215),C=n(a(43099)),S=n(a(39618)),v=n(a(55454)),x=n(a(17747)),j=n(a(9042)),y=o(a(55588)),E=a(28379),P=n(a(8212)),T=n(a(67893)),I=n(a(52715)),b=n(a(12950)),O=n(a(2408)),M=n(a(71681)),w=n(a(19851)),N=n(a(70154)),k=n(a(40630)),D=n(a(79485)),A=a(85893);class R extends l.Component{constructor(t){super(t),this._catalogFlatListController=new T.default,this._handleScroll=(t,e)=>{var a,o;this.props.setScrollOffset&&this.props.setScrollOffset(e.scrollTop),(null===(a=this.state.scrollHelper)||void 0===a?void 0:a.willLoadMore(e))&&this.setState({loadingMore:!0}),null===(o=this.state.scrollHelper)||void 0===o||o.onScroll(t,e).then((t=>{t&&this.setState({loadingMore:!1})})).catch((t=>{throw this.setState({loadingMore:!1}),t}))},this.handleScroll=(0,i.default)(this._handleScroll,100),this.onScroll=t=>{this.handleScroll(t,t.currentTarget)},this._handleCartChange=()=>{const t=this.state.cart.itemCount;this.state.cartCount!==t&&this.setState({cartCount:t})},this._handleCartClick=()=>{const{contact:t,onCartClick:e}=this.props;e&&e(t.id.toString())},this._handleCatalogLinkClick=()=>{const{catalog:t}=this.state,{onCatalogLinkClick:e,contact:a}=this.props;t&&e(t,a)};const e=h.default.findCart(this.props.contact.id.toString());this.state={cartEnabled:!1,catalog:null,cartCount:e.itemCount,catalogFetchState:"NONE",dataSource:null,scrollHelper:null,loadingMore:!0,cart:e}}componentDidMount(){const{catalogId:t,listeners:e}=this.props;this._setupCatalog(),(0,S.default)(t).then((t=>{this.setState({cartEnabled:t}),t&&e.add(this.state.cart,"all",this._handleCartChange)}))}_setupCatalog(){const{catalogId:t,rejectOnUnmount:e,canManageCatalog:a,scrollOffset:o}=this.props;p.default.find(t).checkpoint(e()).then((t=>{const e=new g.CatalogWithCollectionsDataSource(t,a||!1,v.default.PRODUCT_LIST_ITEM_HEIGHT),n=new g.CatalogListItemScrollHelper(e);this.setState({catalog:t,dataSource:e,scrollHelper:n,catalogFetchState:"SUCCESS"},(()=>{this.loadInitialItems(),this._watchProductCollection(),void 0!==o&&this._catalogFlatListController.setScrollFromStart(o)}))})).catch((t=>{(0,E.parseErrorState)(t,(t=>this.setState({catalogFetchState:t,loadingMore:!1})))}))}_watchProductCollection(){const{catalog:t}=this.state;this.props.autoUpdate&&null!=t&&(t.productCollection.on("add",(0,r.default)((()=>this.forceUpdate()),100)),t.productCollection.on("remove",(0,r.default)((()=>{var t,e;this.forceUpdate(),null===(t=(e=this.props).onRemoveProduct)||void 0===t||t.call(e)}),100)),t.collections.on("add",(0,r.default)((()=>this.forceUpdate()),100)),t.collections.on("remove",(0,r.default)((()=>this.forceUpdate()),100)))}_getDrawerContent(){const{catalog:t,cartEnabled:e,dataSource:a}=this.state,{contact:o,businessProfile:n,canManageCatalog:s,onAddProduct:i,onCartClick:r,onEditCollection:l,blockCartInterstitialFn:h=(()=>!1)}=this.props,p=e&&r?this._handleCartClick:void 0;let m,g,S,v;if(s&&i&&(m=(0,A.jsx)(u.default,{onClick:()=>i(),theme:"collections"})),t&&s&&l){g=t.productCollection.getProductModels(!0).some((t=>!t.isHidden&&"REJECTED"!==t.reviewStatus))?(0,A.jsx)(u.default,{onClick:()=>{l(null)},theme:"collections",title:O.default.t(519)}):null}return t&&a?(S=(0,A.jsx)(w.default,{onCartOpen:p,onProductDetail:this.props.onProductDetail,flatListController:this._catalogFlatListController,catalog:t,canManageCatalog:this.props.canManageCatalog,shareLinks:this.props.canManageCatalog,onProductShare:this.props.onProductShare,onCollectionSeeAll:this.props.onCollectionSeeAll,data:a.getData(),onEditCollection:this.props.onEditCollection}),b.default.supportsFeature(b.default.F.MD_BACKEND)&&s&&((0,c.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&e&&!h()&&(0,f.default)(),v=(0,A.jsx)(_.default,{onOpenCollections:this.props.onOpenCollections}))):S=(0,A.jsx)(P.default,{fetchState:this.state.catalogFetchState}),(0,A.jsxs)(A.Fragment,{children:[n&&(0,A.jsx)("div",{"data-a8n":d.default.key("catalog-header"),className:C.default.header,children:(0,A.jsx)(N.default,{profilePicThumb:o.getProfilePicThumb(),contact:o,businessProfile:n})}),(0,A.jsxs)("div",{"data-a8n":d.default.key("catalog-items"),className:C.default.list,children:[v,m,g,S,this.state.loadingMore&&(0,A.jsx)(I.default,{})]})]})}loadInitialItems(){var t=this;return(0,s.default)((function*(){const{dataSource:e}=t.state;yield null==e?void 0:e.loadInitialItems(),t.setState({loadingMore:!1})}))()}_renderDrawerMenu(){const t=this.state.cartEnabled?this._handleCartClick:void 0;return(0,A.jsx)(m.default,{onSendCatalog:this._handleCatalogLinkClick,onCartClick:t,cartCount:this.state.cart.itemCount,catalogId:this.props.catalogId.toString(),canManageCatalog:this.props.canManageCatalog,onOpenCollections:this.props.onOpenCollections,onOpenSettings:this.props.onOpenSettings})}render(){return(0,A.jsxs)(x.default,{theme:"products",onDrop:this.props.onBack,children:[(0,A.jsx)(y.default,{title:O.default.t(1524),type:this.props.headerType||y.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onBack,menu:this._renderDrawerMenu(),focusBackOrCancel:!0}),(0,A.jsx)(j.default,{onScroll:this.onScroll,flatListControllers:[this._catalogFlatListController],children:this._getDrawerContent()})]})}}R.CONCERNS={contact:["id"]},R.displayName="CatalogViewDrawer";var L=(0,k.default)((0,M.default)((0,D.default)(R,R.CONCERNS)));e.default=L},70458:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CollectionContentDrawer=void 0;var s=n(a(48926)),i=n(a(23493)),r=a(67294),l=n(a(32179)),d=n(a(25523)),c=n(a(60028)),u=n(a(26343)),h=a(46215),f=n(a(39618)),p=n(a(80092)),m=n(a(18760)),_=n(a(55454)),g=n(a(17747)),C=n(a(9042)),S=n(a(79864)),v=o(a(55588)),x=a(28379),j=n(a(8212)),y=n(a(67893)),E=n(a(52715)),P=n(a(2408)),T=n(a(71681)),I=a(59562),b=a(70790),O=n(a(19851)),M=n(a(40630)),w=n(a(79485)),N=a(85893);class k extends r.Component{constructor(t){super(t),this._collectionFlatListController=new y.default,this._handleCartChange=()=>{const t=this.state.cart.itemCount;this.state.cartCount!==t&&this.setState({cartCount:t})},this._handleCartClick=()=>{const{contact:t,onCartClick:e}=this.props;e&&e(t.id.toString())},this._handleCatalogLinkClick=()=>{const{catalog:t}=this.state;if(t){const{onCatalogLinkClick:e,contact:a}=this.props;e(t,a)}},this._handleScroll=(t,e)=>{var a,o;this.props.setScrollOffset&&this.props.setScrollOffset(e.scrollTop),(null===(a=this.state.scrollHelper)||void 0===a?void 0:a.willLoadMore(e))&&this.setState({loadingMore:!0}),null===(o=this.state.scrollHelper)||void 0===o||o.onScroll(t,e).then((t=>{t&&this.setState({loadingMore:!1})})).catch((t=>{throw this.setState({loadingMore:!1}),t}))},this.handleScroll=(0,i.default)(this._handleScroll,100),this.onScroll=t=>{this.handleScroll(t,t.currentTarget)};const e=d.default.findCart(this.props.contact.id.toString());this.state={cartEnabled:!1,catalog:null,cartCount:e.itemCount,catalogFetchState:"NONE",dataSource:null,scrollHelper:null,loadingMore:!0,cart:e}}componentDidMount(){const{catalogId:t,listeners:e}=this.props;this._setupCatalog(),(0,f.default)(t).then((t=>{this.setState({cartEnabled:t}),t&&e.add(this.state.cart,"all",this._handleCartChange)}))}_setupCatalog(){const{canManageCatalog:t,catalogId:e,rejectOnUnmount:a,scrollOffset:o}=this.props;c.default.find(e).then((e=>{var a;this.setState({catalog:e,catalogFetchState:"SUCCESS"});const n=new h.SingleCollectionDataSource(e,null===(a=this.props.collection)||void 0===a?void 0:a.id.toString(),t||!1,_.default.PRODUCT_LIST_ITEM_HEIGHT),s=new h.CatalogListItemScrollHelper(n);this.setState({dataSource:n,scrollHelper:s},(()=>{this.loadInitialItems(),this._watchProductCollection(),void 0!==o&&this._collectionFlatListController.setScrollFromStart(o)}))})).checkpoint(a()).catch((t=>{(0,x.parseErrorState)(t,(t=>this.setState({catalogFetchState:t,loadingMore:!1})))}))}_watchProductCollection(){const{collection:t}=this.props,{catalog:e}=this.state;null!=t&&(t.productCollection.on("add",(()=>this.forceUpdate())),t.productCollection.on("remove",(()=>this.forceUpdate())),this.props.listeners.add(t,"change:reviewStatus canAppeal",(()=>this.forceUpdate()))),null!=e&&(e.productCollection.on("add",(()=>this.forceUpdate())),e.productCollection.on("remove",(()=>this.forceUpdate())),e.collections.on("add",(()=>this.forceUpdate())),e.collections.on("remove",(()=>this.forceUpdate())))}_getDrawerContent(){var t;const{catalog:e,cartEnabled:a,dataSource:o,catalogFetchState:n,loadingMore:s}=this.state,{canManageCatalog:i,onCartClick:r,onProductDetail:d,onProductShare:c,collection:u}=this.props,h=a&&r?this._handleCartClick:void 0;if(!e||!o)return(0,N.jsx)(j.default,{fetchState:n});const f=o.getData();if(0===f.length&&!s&&i&&u)return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:p.default.list,children:[(0,N.jsx)(l.default,{theme:"collections",onClick:()=>{this.props.onEditCollection&&this.props.onEditCollection(u)}}),(0,N.jsx)("div",{className:p.default.addItemsNotice,children:P.default.t(532)})]})});const _=(0,N.jsx)(O.default,{onCartOpen:h,onProductDetail:d,flatListController:this._collectionFlatListController,catalog:e,canManageCatalog:i,shareLinks:i,onProductShare:c,collectionId:null===(t=this.props.collection)||void 0===t?void 0:t.id.toString(),data:f}),g=this.props.collection?(0,N.jsx)(m.default,{collection:this.props.collection,onEditCollection:this.props.onEditCollection}):void 0;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:p.default.list,children:[g,_,s&&(0,N.jsx)(E.default,{})]})})}loadInitialItems(){var t=this;return(0,s.default)((function*(){const{dataSource:e}=t.state;yield null==e?void 0:e.loadInitialItems(),t.setState({loadingMore:!1}),(0,I.logCollectionSeeAllView)({catalogOwnerJid:t.props.catalogId.toString(),catalogContext:(0,b.getProductCatalogContext)(t.context),collectionId:null==e?void 0:e.collectionId})}))()}_renderDrawerMenu(){const t=this.state.cartEnabled?this._handleCartClick:void 0;return(0,N.jsx)(u.default,{onSendCatalog:this._handleCatalogLinkClick,onCartClick:t,cartCount:this.state.cart.itemCount,catalogId:this.props.catalogId.toString(),canManageCatalog:this.props.canManageCatalog})}render(){var t;const e=(null===(t=this.props.collection)||void 0===t?void 0:t.name)||P.default.t(625);return(0,N.jsxs)(g.default,{theme:"products",onDrop:this.props.onBack,children:[(0,N.jsx)(v.default,{title:e,type:this.props.headerType||v.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onBack,menu:this._renderDrawerMenu()}),(0,N.jsx)(C.default,{flatListControllers:[this._collectionFlatListController],onScroll:this.onScroll,children:this._getDrawerContent()})]})}}e.CollectionContentDrawer=k,k.contextType=S.default,k.CONCERNS={contact:["id"]},k.displayName="CollectionContentDrawer";var D=(0,M.default)((0,T.default)((0,w.default)(k,k.CONCERNS)));e.default=D},83687:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{collection:e,onSeeAll:a,allItems:o}=t;let h,f;e?({name:h,id:f}=e):o&&(h=l.default.t(625));const p=(0,u.jsx)(c.TextDiv,{className:i.default.collectionName,theme:"title",children:(0,u.jsx)(r.default,{text:h,ellipsify:!0,titlify:!0})});function m(t){!function(t){t.preventDefault(),t.stopPropagation()}(t),a&&e?a(e):a&&a()}let _;if(e)switch(e.reviewStatus){case d.PRODUCT_REVIEW_STATUS.REJECTED:_=(0,u.jsx)("span",{className:i.default.reviewStateRejected,children:l.default.t(627)})}return(0,u.jsx)(n.default,{primary:p,secondary:_,detail:(0,u.jsx)(s.default,{onClick:m,className:i.default.seeAllLink,title:l.default.t(8,{collectionName:h}),tabIndex:0,children:l.default.t(628)}),theme:"collection-header",idle:!0,className:i.default.collectionListItem},f)};var n=o(a(55092)),s=o(a(44683)),i=o(a(97076)),r=o(a(85051)),l=o(a(2408)),d=a(26491),c=a(97504),u=a(85893)},84017:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.getPolicyLink=c,e.default=function(t,e){let a;switch(t){case"drugs":return a=r.default.t(664),{first:(0,d.jsx)(l.default,{id:638,params:{collections_rejected_policy_drugs:c(a,e)}}),second:(0,d.jsx)(l.default,{id:689,params:{collections_rejected_policy_drugs:c(a,e)}})};case"weapons":return a=r.default.t(679),{first:(0,d.jsx)(l.default,{id:654,params:{collections_rejected_policy_weapons:c(a,e)}}),second:(0,d.jsx)(l.default,{id:705,params:{collections_rejected_policy_weapons:c(a,e)}})};case"animals":return a=r.default.t(659),{first:(0,d.jsx)(l.default,{id:633,params:{collections_rejected_policy_animals:c(a,e)}}),second:(0,d.jsx)(l.default,{id:684,params:{collections_rejected_policy_animals:c(a,e)}})};case"alcohol":return a=r.default.t(658),{first:(0,d.jsx)(l.default,{id:632,params:{collections_rejected_policy_alcohol:c(a,e)}}),second:(0,d.jsx)(l.default,{id:683,params:{collections_rejected_policy_alcohol:c(a,e)}})};case"gambling":return a=r.default.t(665),{first:(0,d.jsx)(l.default,{id:639,params:{collections_rejected_policy_gambling:c(a,e)}}),second:(0,d.jsx)(l.default,{id:690,params:{collections_rejected_policy_gambling:c(a,e)}})};case"tobacco":return a=r.default.t(677),{first:(0,d.jsx)(l.default,{id:652,params:{collections_rejected_policy_tobacco:c(a,e)}}),second:(0,d.jsx)(l.default,{id:703,params:{collections_rejected_policy_tobacco:c(a,e)}})};case"overtly_sexualized_positioning":return a=r.default.t(672),{first:(0,d.jsx)(l.default,{id:647,params:{collections_rejected_policy_overtly_sexualized_positioning:c(a,e)}}),second:(0,d.jsx)(l.default,{id:698,params:{collections_rejected_policy_overtly_sexualized_positioning:c(a,e)}})};case"adult":return a=r.default.t(657),{first:(0,d.jsx)(l.default,{id:631,params:{collections_rejected_policy_adult:c(a,e)}}),second:(0,d.jsx)(l.default,{id:682,params:{collections_rejected_policy_adult:c(a,e)}})};case"supplements":return a=r.default.t(675),{first:(0,d.jsx)(l.default,{id:650,params:{collections_rejected_policy_supplements:c(a,e)}}),second:(0,d.jsx)(l.default,{id:701,params:{collections_rejected_policy_supplements:c(a,e)}})};case"body_parts_fluids":return a=r.default.t(660),{first:(0,d.jsx)(l.default,{id:634,params:{collections_rejected_policy_body_parts_fluids:c(a,e)}}),second:(0,d.jsx)(l.default,{id:685,params:{collections_rejected_policy_body_parts_fluids:c(a,e)}})};case"healthcare":return a=r.default.t(667),{first:(0,d.jsx)(l.default,{id:641,params:{collections_rejected_policy_healthcare:c(a,e)}}),second:(0,d.jsx)(l.default,{id:692,params:{collections_rejected_policy_healthcare:c(a,e)}})};case"misleading":return a=r.default.t(670),{first:(0,d.jsx)(l.default,{id:644,params:{collections_rejected_policy_misleading:c(a,e)}}),second:(0,d.jsx)(l.default,{id:695,params:{collections_rejected_policy_misleading:c(a,e)}})};case"real_fake_currency":return a=r.default.t(673),{first:(0,d.jsx)(l.default,{id:648,params:{collections_rejected_policy_real_fake_currency:c(a,e)}}),second:(0,d.jsx)(l.default,{id:699,params:{collections_rejected_policy_real_fake_currency:c(a,e)}})};case"digital_services_products":return a=r.default.t(662),{first:(0,d.jsx)(l.default,{id:636,params:{collections_rejected_policy_digital_services_products:c(a,e)}}),second:(0,d.jsx)(l.default,{id:687,params:{collections_rejected_policy_digital_services_products:c(a,e)}})};case"thrid_party_infringements":return a=r.default.t(676),{first:(0,d.jsx)(l.default,{id:651,params:{collections_rejected_policy_thrid_party_infringements:c(a,e)}}),second:(0,d.jsx)(l.default,{id:702,params:{collections_rejected_policy_thrid_party_infringements:c(a,e)}})};case"unauthorized_media":return a=r.default.t(678),{first:(0,d.jsx)(l.default,{id:653,params:{collections_rejected_policy_unauthorized_media:c(a,e)}}),second:(0,d.jsx)(l.default,{id:704,params:{collections_rejected_policy_unauthorized_media:c(a,e)}})};case"illegal_products":return a=r.default.t(669),{first:(0,d.jsx)(l.default,{id:643,params:{collections_rejected_policy_illegal_products:c(a,e)}}),second:(0,d.jsx)(l.default,{id:694,params:{collections_rejected_policy_illegal_products:c(a,e)}})};case"hazardous_goods_and_materials":return a=r.default.t(666),{first:(0,d.jsx)(l.default,{id:640,params:{collections_rejected_policy_hazardous_goods_and_materials:c(a,e)}}),second:(0,d.jsx)(l.default,{id:691,params:{collections_rejected_policy_hazardous_goods_and_materials:c(a,e)}})};case"stolen_goods":return a=r.default.t(674),{first:(0,d.jsx)(l.default,{id:649,params:{collections_rejected_policy_stolen_goods:c(a,e)}}),second:(0,d.jsx)(l.default,{id:700,params:{collections_rejected_policy_stolen_goods:c(a,e)}})};case"human_exploitation_and_sexual_services":return a=r.default.t(668),{first:(0,d.jsx)(l.default,{id:642,params:{collections_rejected_policy_human_exploitation_and_sexual_services:c(a,e)}}),second:(0,d.jsx)(l.default,{id:693,params:{collections_rejected_policy_human_exploitation_and_sexual_services:c(a,e)}})};case"community_standards":return a=r.default.t(661),{first:(0,d.jsx)(l.default,{id:635,params:{collections_rejected_policy_community_standards:c(a,e)}}),second:(0,d.jsx)(l.default,{id:686,params:{collections_rejected_policy_community_standards:c(a,e)}})};case"discrimination":return a=r.default.t(663),{first:(0,d.jsx)(l.default,{id:637,params:{collections_rejected_policy_discrimination:c(a,e)}}),second:(0,d.jsx)(l.default,{id:688,params:{collections_rejected_policy_discrimination:c(a,e)}})};default:return a=r.default.t(671),{first:(0,d.jsx)(l.default,{id:646,params:{collections_rejected_policy_other_violation:c(a,e)}}),second:(0,d.jsx)(l.default,{id:697,params:{collections_rejected_policy_other_violation:c(a,e)}})}}};var n=o(a(44683)),s=o(a(55454)),i=a(4919),r=o(a(2408)),l=o(a(663)),d=a(85893);function c(t,e){const a=e||s.default.WA_COMMERCE_POLICY_URL;return(0,d.jsx)(n.default,{href:a,onClick:t=>{t.preventDefault(),(0,i.openExternalLink)(a)},children:t})}},59562:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.logCollectionSeeAllView=function({catalogOwnerJid:t,catalogContext:e,collectionId:a}){const o=(0,s.getProductStatsInFetched)(t,a),d=null==o?void 0:o.productIndex,c=null==o?void 0:o.collectionIndex;(0,l.createCatalogViewEvent)((0,n.default)({isOwner:(0,l.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_IMPRESSION,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_COLLECTION_IMPRESSION,productIndex:d,collectionIndex:c},(0,r.toDataForCatalogViewEvents)(e))).commit()},e.logCollectionItemsAssignment=function({catalogContext:t,collectionId:e,addedCount:a,removedCount:o}){a>0&&new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_ASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:a,collectionId:e}).commit();o>0&&new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_UNASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:o,collectionId:e}).commit()},e.logCollectionDeleted=function({catalogContext:t,collectionId:e}){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:e}).commit()},e.logCollectionRenamed=function({catalogContext:t,collectionId:e}){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:e}).commit()},e.logCollectionMenuClicked=function(t){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_MENU_COLLECTIONS_CLICK,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString()}).commit()},e.logCollectionCreated=function({catalogContext:t,collectionId:e,productCount:a}){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:a}).commit()},e.logCollectionCreateClicked=function(t){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATE_CLICKED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString()}).commit()};var n=o(a(81109)),s=a(46215),i=o(a(4231)),r=a(70790),l=a(28)},19851:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(67294),i=a(96470),r=n(a(69162)),l=o(a(18760)),d=n(a(83687)),c=n(a(55454)),u=n(a(79864)),h=n(a(86025)),f=n(a(19257)),p=n(a(67893)),m=a(82474),_=n(a(71681)),g=a(30333),C=a(70790),S=n(a(34290)),v=a(26491),x=n(a(40630)),j=n(a(79485)),y=a(15298),E=a(85893);class P extends s.Component{constructor(t){super(t),this.attachedListeners=new Set,this._catalogFlatListController=new p.default,this.handleProductDetail=(t,e)=>{const{onProductDetail:a}=this.props;return(0,g.logCatalogListDetailClick)({product:(0,y.unproxy)(t),catalogContext:(0,C.getProductCatalogContext)(this.context)}),this.setState({openedProductId:t.id.toString()}),a(t,e)},this.handleProductShare=t=>{const{onProductShare:e}=this.props;e&&e(t)},this.handleProductDelete=t=>{const{catalog:e}=this.props;(0,i.handleProductDelete)(e,t,(0,C.getProductCatalogContext)(this.context)).then((()=>{t.id===this.state.openedProductId&&(r.default.closeDrawerMid(),this.setState({openedProductId:void 0}))}))},this.handleProductHideShow=t=>{const{catalog:e}=this.props;(0,i.handleProductVisibilityChange)(e,t,(0,C.getProductCatalogContext)(this.context))},this.renderItem=t=>{const{collection:e,product:a,allItems:o,reviewBanner:n,collectionId:s}=t,{onCartOpen:i,shareLinks:r}=this.props;return e?n?(0,E.jsx)(l.default,{collection:e,onEditCollection:this.props.onEditCollection}):(0,E.jsx)(d.default,{collection:e,onSeeAll:this.props.onCollectionSeeAll}):o?(0,E.jsx)(d.default,{allItems:o,onSeeAll:this.props.onCollectionSeeAll}):a?(0,E.jsx)(S.default,{collectionId:s,product:a,onCartOpen:i,onClick:()=>this.handleProductDetail(a,s),onProductShare:r?this.handleProductShare:null,onProductDelete:this.handleProductDelete,onProductHideShow:this.handleProductHideShow,theme:"product-of-collection",canManageCatalog:this.props.canManageCatalog}):null},this.state={openedProductId:void 0,loadingMore:!1,stopLoading:!1,catalogFetchState:t.catalog?"SUCCESS":"NONE"}}getData(){const{onCartOpen:t}=this.props,e=void 0!==t,a=this.props.data||[],o=[];return a.forEach((t=>{const a=t.collection,n=t.product,s=t.allItems;if(a&&n){const t=a.id;o.push({itemKey:`${t.toString()}_${n.id.toString()}_${e.toString()}`,product:n,collectionId:t})}else if(a)this.attachedListeners.has(a.id)||(this.attachedListeners.add(a.id),this.props.listeners.add(a,"change:reviewStatus canAppeal",(()=>{this.forceUpdate()}))),o.push({itemKey:`${a.id.toString()}_${a.reviewStatus.toString()}`,collection:a}),a.reviewStatus!==v.PRODUCT_REVIEW_STATUS.PENDING&&a.reviewStatus!==v.PRODUCT_REVIEW_STATUS.REJECTED||o.push({itemKey:`${a.id.toString()}_reviewBanner`,collection:a,height:(0,l.getCollectionIntegrityHeight)(a),reviewBanner:!0});else if(s)o.push({itemKey:"view_all",allItems:s});else if(n){const t=this.props.collectionId||void 0;o.push({itemKey:`${n.id.toString()}_${e.toString()}`,product:n,collectionId:t})}})),o}render(){const t=this.getData();return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(f.default,{flatListControllers:[this._catalogFlatListController],children:(0,E.jsx)(h.default,{flatListController:this._catalogFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:t,renderItem:this.renderItem,defaultItemHeight:c.default.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:m.KeyOrder.INVERSE})})})}}P.CONCERNS={catalog:["productCollection","collections","afterCursor","id","index"]},P.contextType=u.default,P.displayName="ProductCollectionsList";var T=(0,x.default)((0,_.default)((0,j.default)(P,P.CONCERNS)));e.default=T},35154:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a(94184)),i=a(55084),r=a(67294),l=n(a(76610)),d=n(a(8581)),c=a(47874),u=n(a(25523)),h=n(a(60028)),f=n(a(22715)),p=n(a(39618)),m=n(a(69162)),_=n(a(75940)),g=n(a(81617)),C=n(a(17747)),S=n(a(9042)),v=n(a(79864)),x=o(a(55588)),j=o(a(13540)),y=n(a(2408)),E=n(a(71681)),P=a(30333),T=a(68793),I=a(70790),b=a(26491),O=n(a(44134)),M=n(a(45858)),w=n(a(29513)),N=a(14654),k=n(a(40630)),D=n(a(86820)),A=o(a(46714)),R=n(a(79485)),L=a(15298),F=a(97504),B=a(12825),U=a(85893);class V extends r.Component{constructor(t){super(t),this.handleCartClick=()=>{const{product:t,onCartClick:e}=this.props;e&&e(t.catalogWid.toString())},this._handleReportProduct=()=>{const{product:t}=this.props;m.default.openModal((0,U.jsx)(D.default,{product:t,sessionId:(0,I.getProductCatalogSessionId)(this.context)}))},this.handleProductLinkClick=()=>{const{product:t}=this.props;this.props.onProductLinkClick(t)},this.handleSendChat=()=>{const{product:t}=this.props,e=h.default.get(t.catalogWid);(0,T.sendProductToChat)(t,e,(0,I.getProductCatalogContext)(this.context)),(0,P.logProductMessageBusinessClick)(t,(0,I.getProductCatalogContext)(this.context))},this._handleSendProduct=()=>{const{product:t}=this.props,{catalogWid:e}=t,a=h.default.get(e);if(!a)return;const o=a.productCollection.get(t.id),n=o?(0,L.unproxy)(o):(0,L.unproxy)(t);m.default.attachProduct({product:n})},this.handleProductMoreInformation=()=>{this.props.onProductMoreInformation(this.props.product)},this.handleBack=()=>{const{onBack:t}=this.props;if(t)return t()},this.handleProductCatalog=()=>{const{onProductCatalog:t,product:e}=this.props;t&&t(e.catalogWid,(0,I.getProductCatalogContext)(this.context))},this.handleProductDetail=t=>{const{onProductDetail:e}=this.props;if(e)return e(t)},this.isRejected=()=>{const{reviewStatus:t}=this.props.product;return t===b.PRODUCT_REVIEW_STATUS.REJECTED},this._isAvailable=()=>{const{productFetchState:t}=this.state;return"ERROR"!==t&&"NOT_FOUND"!==t&&!this.isRejected()};const e=t.product.fetchedFromServer?"SUCCESS":"PENDING";let a=null,o="NONE";var n;t.refreshCarousel&&(a=h.default.get(t.product.catalogWid),(null===(n=a)||void 0===n?void 0:n.productCollection)&&a.fetchedFromServer?o="SUCCESS":(a=null,o="PENDING"));const s=u.default.findCart(this.props.product.catalogWid.toString());this.state={businessProfile:null,cartEnabled:!1,productCatalog:a,productFetchState:e,productCatalogFetchState:o,cart:s}}componentDidMount(){const{product:t,listeners:e,collectionId:a}=this.props,o=this.state.cart,n=t.catalogWid,s=t.id.toString();n&&s&&(this._fetchData(),e.add(o,"change:cartItemCollection",(()=>{this.forceUpdate()})),(0,p.default)(n).then((t=>{this.setState({cartEnabled:t})})),(0,P.logProductDetailView)({product:(0,L.unproxy)(t),catalogContext:(0,I.getProductCatalogContext)(this.context),cartToggle:this.state.cartEnabled,collectionId:a}))}_fetchData(){const{product:t,rejectOnUnmount:e}=this.props,a=t.catalogWid,o=t.id.toString(),n=h.default.findProduct({catalogWid:a,productId:o,productMsgMediaData:(0,L.unproxy)(t).productMsgMediaData}),s=d.default.find(a);return Promise.all([s,n]).checkpoint(e()).then((([t])=>(this.setState({productFetchState:"SUCCESS",businessProfile:t}),t))).then((t=>{"PENDING"===this.state.productCatalogFetchState&&((0,c.hasCatalog)(t)?this._fetchProductCatalog():this.setState({productCatalogFetchState:"NONE"}))})).catch((0,i.filteredCatch)(j.Unmount,(()=>{}))).catch((0,i.filteredCatch)(B.E404,(()=>{this.handleBack(),this._showNotFoundErrorToast(),this.setState({productFetchState:"NOT_FOUND"})}))).catch((0,i.filteredCatch)(B.WebdDrop,(()=>{this.setState({productFetchState:"ERROR"}),__LOG__(3)`Failed to fetch product`}))).catch((0,i.filteredCatch)(B.ServerStatusCodeError,(()=>{this.setState({productFetchState:"ERROR"}),__LOG__(3)`Failed to fetch product from server`})))}_fetchProductCatalog(){const{product:t,rejectOnUnmount:e}=this.props,a=t.catalogWid;h.default.findCarouselCatalog(a).checkpoint(e()).then((t=>{const e=Array.isArray(t)?t[0]:t;this.setState({productCatalog:e||null,productCatalogFetchState:e?"SUCCESS":"NONE"})})).catch((0,i.filteredCatch)(B.ServerStatusCodeError,(t=>{"not_found"===t.status||404===t.status?this.setState({productCatalog:null,productCatalogFetchState:"NOT_FOUND"}):(this.setState({productCatalog:null,productCatalogFetchState:"ERROR"}),__LOG__(3)`Failed to fetch product catalog from server`)}))).catch((0,i.filteredCatch)(j.Unmount,(()=>{}))).catch((0,i.filteredCatch)(B.WebdDrop,(()=>{this.setState({productCatalog:null,productCatalogFetchState:"ERROR"}),__LOG__(3)`Failed to fetch product catalog`})))}_showNotFoundErrorToast(){m.default.openModal((0,U.jsx)(_.default,{onOK:()=>{m.default.closeModal()},okText:y.default.t(2183),children:y.default.t(1552)}))}componentWillUnmount(){const{product:t}=this.props,e=t.catalogWid,a=t.id.toString();if(!e||!a)return;const o=h.default.get(e),n=o&&o.msgProductCollection.get(a);(null==n?void 0:n.fetchedFromServer)&&o&&o.msgProductCollection.remove(n)}_renderTopBar(){const{productFetchState:t,productCatalogFetchState:e}=this.state,a=this._isAvailable();let o;o="ERROR"===t?(0,U.jsx)(F.TextSpan,{className:O.default.text,theme:"small",color:"danger",children:y.default.t(1523)}):a?[(0,U.jsx)(A.default,{size:14,color:A.colorOptions.highlight},"DetailDrawer-loadingBar-spinner"),(0,U.jsx)(F.TextSpan,{className:(0,s.default)(O.default.text,O.default.loadingText),theme:"small",children:y.default.t(1566)},"DetailDrawer-loadingBar-msg")]:(0,U.jsx)(F.TextSpan,{className:O.default.text,theme:"small",color:"danger",children:y.default.t(1552)});const n="PENDING"===t||"PENDING"===e||!a;return(0,U.jsx)("div",{className:(0,s.default)({[O.default.loadingContainer]:n,[O.default.shiftUp]:!n}),children:o})}_renderDrawerMenu(){var t;if(!this._isAvailable())return null;const e=this.state.cartEnabled?this.handleCartClick:void 0;return(0,U.jsx)(g.default,{onSendProduct:this._handleSendProduct,onReportProduct:this._handleReportProduct,onProductLinkClick:this.handleProductLinkClick,onProductMoreInformation:this.handleProductMoreInformation,onCartClick:e,cartCount:this.state.cart.itemCount,catalogId:this.props.product.catalogWid.toString(),contactId:null===(t=this.props.chat)||void 0===t?void 0:t.contact.id.user})}_renderDrawerHeader(){return(0,U.jsx)(x.default,{a8n:"drawer-title-profile",title:y.default.t(1542),onBack:this.handleBack,type:x.DRAWER_HEADER_TYPE.SMALL,menu:this._renderDrawerMenu()})}render(){var t;const{product:e,collectionId:a}=this.props,{productCatalog:o,productFetchState:n}=this.state,s=this._isAvailable(),i=(0,c.hasCatalog)(this.state.businessProfile);return(0,U.jsxs)(C.default,{onDrop:this.handleBack,theme:"striped",children:[this._renderDrawerHeader(),(0,U.jsx)(S.default,{children:(0,U.jsxs)("div",{"data-a8n":l.default.key("product-details"),className:O.default.body,children:[this._renderTopBar(),(0,U.jsx)(w.default,{product:e,isAvailable:s,fetching:"PENDING"===n}),e.availability===N.ProductAvailability.OUT_OF_STOCK?(0,U.jsx)("div",{className:O.default.availabilityBanner,children:y.default.t(1541)}):null,(0,U.jsx)(M.default,{product:e,collectionId:a,onSendChat:this.handleSendChat,isAvailable:s,hideRetailerID:null===(t=this.props.chat)||void 0===t?void 0:t.contact.isEnterprise}),i&&o?(0,U.jsx)(f.default,{catalog:o,onProductCatalog:this.handleProductCatalog,onProductDetail:this.handleProductDetail,filterProductId:e.id.toString(),title:y.default.t(1520),animation:!1}):null]})})]},"product-details-drawer")}}V.CONCERNS={product:["id","catalogWid","productImageCollection","fetchedFromServer","name","availability","reviewStatus"]},V.contextType=v.default,V.displayName="ProductDetails";var H=(0,k.default)((0,E.default)((0,R.default)(V,V.CONCERNS)));e.default=H},45858:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{collectionId:e,onSendChat:a,isAvailable:o}=t,n=(0,i.useContext)(h.default),O=(0,I.default)(t.product,["name","url","description","availability","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","fetchedFromServer","retailerId","catalogWid","productImageCollection","imageHash","reviewStatus","imageCdnUrl","id"]),[M,w]=(0,i.useState)(!1),[N,k]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,c.default)(O.catalogWid).then((t=>{k(t)}))}),[]);const D=t=>{(0,r.default)(O,(0,v.getProductCatalogContext)(n),e),t.stopPropagation()},A=()=>{w(!0)},R=t=>{if(!O.fetchedFromServer||!t||!o)return null;const e=_.Configuration.TrustedGroupDesc({links:C.findLinks(t)});return(0,b.jsx)("div",{children:(0,b.jsx)(p.default,{selectable:!0,formatters:e,text:t,onClick:e=>((t,e)=>{t.stopPropagation(),(0,S.logDetailLinkClick)({product:(0,P.unproxy)(O),catalogContext:(0,v.getProductCatalogContext)(n)});const a=e&&C.findLink(e);a&&(0,m.openExternalLink)(a.url)})(e,t)})})};return(0,b.jsxs)(f.default,{theme:"padding-product",animation:!1,children:[(0,b.jsx)(T.TextDiv,{theme:"title",className:j.default.name,children:(0,b.jsx)(p.default,{text:O.name,selectable:!0})}),null!=O.priceAmount1000?(0,b.jsx)(T.TextDiv,{className:j.default.price,color:"dark",theme:"plain",children:(0,b.jsx)(y.default,{product:O,selectable:!0,direction:"inherit"})}):null,(()=>{if(!O.description&&!O.url&&!O.retailerId)return null;const e=!!O.description&&O.description.length>u.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH;let a;return O.description&&(a=(0,b.jsxs)("div",{children:[(0,b.jsx)(p.default,{selectable:!0,multiline:!0,text:O.description,textLimit:M?1/0:u.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),e&&!M?(0,b.jsx)("span",{className:j.default.more,role:"button",onClick:A,children:` ${g.default.t(1576)}`}):null]})),(0,b.jsxs)(T.TextDiv,{theme:"plain",className:j.default.description,children:[a,R(O.url),O.retailerId&&!t.hideRetailerID?(0,b.jsx)("div",{children:(0,b.jsx)(p.default,{text:O.retailerId,selectable:!0,direction:"inherit"})}):null]})})(),(()=>{if(!a||!O.fetchedFromServer||!o||O.reviewStatus!==x.PRODUCT_REVIEW_STATUS.APPROVED)return null;const t=g.default.t(1547);return(0,b.jsx)("div",{className:j.default.buttonContainer,title:t,children:(0,b.jsx)(d.default,{a8nText:"product-message-business-btn",className:j.default.button,onClick:a,type:"secondary",children:t})})})(),(()=>{if(!N||!O.fetchedFromServer||!o||O.reviewStatus!==x.PRODUCT_REVIEW_STATUS.APPROVED)return null;const t=g.default.t(1517),e=O.availability===E.ProductAvailability.OUT_OF_STOCK;return(0,b.jsx)("div",{className:j.default.buttonContainer,title:t,children:(0,b.jsx)(d.default,{a8nText:"add-to-cart-btn",className:(0,s.default)(j.default.button,j.default.addToCartButton),onClick:D,type:"secondary",disabled:e,children:(0,b.jsxs)("span",{className:j.default.addToCartContainer,children:[(0,b.jsx)(l.default,{className:(0,s.default)(j.default.addToCartIcon,{[j.default.addToCartIconDisabled]:e})}),t]})})})})()]})};var s=n(a(94184)),i=a(67294),r=n(a(35832)),l=n(a(27792)),d=n(a(69991)),c=n(a(39618)),u=n(a(55454)),h=n(a(79864)),f=n(a(25061)),p=n(a(85051)),m=a(4919),_=a(49895),g=n(a(2408)),C=o(a(17126)),S=a(30333),v=a(70790),x=a(26491),j=n(a(55675)),y=n(a(22986)),E=a(14654),P=a(15298),T=a(97504),I=n(a(76006)),b=a(85893)},7127:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ProductDetailsForDeepLink=void 0;var s=a(55084),i=n(a(7900)),r=a(67294),l=n(a(60028)),d=n(a(69162)),c=n(a(75940)),u=n(a(17747)),h=n(a(9042)),f=o(a(55588)),p=a(28379),m=n(a(8212)),_=n(a(62602)),g=n(a(2408)),C=n(a(35154)),S=n(a(40630)),v=a(12825),x=a(89573),j=a(85893);class y extends r.PureComponent{constructor(t){super(t),this.state={product:null,productFetchState:"NONE"};const{productId:e,businessOwnerJid:a}=this.props.productInfo,o=(0,_.default)({productId:e,businessOwnerJid:a});this.state=o?{product:o,productFetchState:"NONE"}:{product:o,productFetchState:"PENDING"}}componentDidMount(){this.state.product||this._fetchProduct()}_fetchProduct(){const{productId:t,businessOwnerJid:e}=this.props.productInfo,a=(0,x.createWid)(e);l.default.findProduct({catalogWid:a,productId:t}).checkpoint(this.props.rejectOnUnmount()).then((()=>{const e=l.default.get(a),o=(0,i.default)(e,"catalog").productCollection.get(t);this.setState({product:o,productFetchState:"SUCCESS"})})).catch((0,s.filteredCatch)(v.E404,(()=>{this._showNotFoundErrorToast(),this.setState({productFetchState:"ERROR"})}))).catch((t=>{(0,p.parseErrorState)(t,(t=>this.setState({productFetchState:t})))}))}_showNotFoundErrorToast(){this.props.onBack(),d.default.openModal((0,j.jsx)(c.default,{onOK:()=>{d.default.closeModal()},okText:g.default.t(2183),children:g.default.t(1552)}))}render(){return this.state.product?(0,j.jsx)(C.default,{chat:this.props.chat,product:this.state.product,onEnd:this.props.onEnd,onBack:this.props.onBack,onProductDetail:this.props.onProductDetail,onProductCatalog:this.props.onProductCatalog,refreshCarousel:!0,onProductLinkClick:this.props.onProductLinkClick,onProductMoreInformation:this.props.onProductMoreInformation,onCartClick:this.props.onCartClick}):(0,j.jsxs)(u.default,{onDrop:this.props.onBack,children:[(0,j.jsx)(f.default,{a8n:"drawer-title-profile",title:g.default.t(1542),onBack:this.props.onBack,type:f.DRAWER_HEADER_TYPE.SMALL}),(0,j.jsx)(h.default,{children:(0,j.jsx)(m.default,{fetchState:this.state.productFetchState})})]},"product-details-drawer")}}e.ProductDetailsForDeepLink=y,y.displayName="ProductDetailsForDeepLink";var E=(0,S.default)(y);e.default=E},83153:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{onBack:e,onCancel:a,product:o,prompt:n,centerDrawer:s,sendProductMsg:v,onSend:O}=t,M=(0,i.useContext)(h.default),w=()=>{l.default.openModal((0,T.jsx)(y.default,{product:o,onSend:O}),{transition:"modal-flow"}),(0,g.logShareProductViaWALinkClick)({product:o,catalogContext:(0,C.getProductCatalogContext)(M)})},N=()=>{l.default.attachProduct({product:(0,P.unproxy)(o),onSend:O})},k=(0,E.createProductLink)(o.catalogWid.user,o.id.toString());let D,A,R;s&&(D="labels",A="center-column");R=null!=v?(0,T.jsx)(j.default,{onClick:N}):(0,T.jsx)(x.default,{onClick:w});return(0,T.jsxs)(c.default,{theme:D,children:[(0,T.jsx)(f.default,{a8n:"product-link-title",title:m.default.t(1544),onBack:e,onCancel:a,type:f.DRAWER_HEADER_TYPE.SMALL,focusBackOrCancel:!0}),(0,T.jsxs)(u.default,{theme:A,children:[(0,T.jsx)("div",{className:S.default.prompt,children:n}),(0,T.jsx)(r.default,{image:b(o),primary:(0,T.jsx)(p.default,{text:o.name,direction:"auto"}),theme:"identity",secondary:(0,T.jsx)(_.default,{id:I,href:k,onClick:t=>{t.preventDefault(),w()},noHandle:!0})}),R,(0,T.jsx)(d.default,{elementId:I,onClick:()=>{(0,g.logShareProductCopyLinkClick)({product:o,catalogContext:(0,C.getProductCatalogContext)(M)})}})]})]},"product-link-drawer")};var s=n(a(94184)),i=a(67294),r=n(a(55092)),l=n(a(69162)),d=n(a(55059)),c=n(a(17747)),u=n(a(9042)),h=n(a(79864)),f=o(a(55588)),p=n(a(85051)),m=n(a(2408)),_=n(a(76389)),g=a(30333),C=a(70790),S=n(a(13906)),v=o(a(84241)),x=n(a(5646)),j=n(a(74295)),y=n(a(32234)),E=a(40307),P=a(15298),T=a(85893);const I="product-link-anchor";function b(t){const e=t.productImageCollection.head();return e?(0,T.jsx)(v.default,{className:(0,s.default)(S.default.productImage,S.default.productImageContainer),mediaData:e.mediaData}):(0,T.jsx)(v.ProductThumbPlaceholder,{className:(0,s.default)(S.default.productThumb,S.default.productThumbContainer)})}},27370:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ProductListDrawer=void 0;var s=n(a(23493)),i=n(a(23279)),r=a(55084),l=a(67294),d=n(a(76610)),c=a(70359),u=n(a(32179)),h=n(a(25523)),f=n(a(5221)),p=n(a(21496)),m=n(a(60028)),_=n(a(39618)),g=n(a(55454)),C=n(a(17747)),S=n(a(9042)),v=n(a(79864)),x=o(a(55588)),j=o(a(9492)),y=n(a(47452)),E=o(a(13540)),P=a(28379),T=n(a(8212)),I=n(a(67893)),b=n(a(52715)),O=n(a(12950)),M=a(78615),w=n(a(2408)),N=n(a(29429)),k=n(a(71681)),D=a(30333),A=a(20232),R=a(47941),L=a(70790),F=n(a(13002)),B=n(a(8685)),U=n(a(70154)),V=n(a(40630)),H=n(a(79485)),W=n(a(2966)),G=a(74289),z=a(12825),K=a(85893);class Y extends l.Component{constructor(t){super(t),this._catalogFlatListController=new I.default,this._handleScroll=t=>{this.state.loadingMore||t.scrollTop+g.default.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&this._loadMoreProduct()},this.handleScroll=(0,s.default)(this._handleScroll,100),this._loadMoreProduct=()=>{const{catalogId:t}=this.props,{stopLoading:e,loadedProducts:a}=this.state;if(e)return;const o=m.default.assertGet(t);if(!o.afterCursor)return;const n=o.productCollection.getProductModels().length;this.setState({loadingMore:!0,loadedProducts:n}),m.default.update(t).checkpoint(this.props.rejectOnUnmount()).then((t=>{this.setState({loadingMore:!1});(Array.isArray(t)?t[0]:t).productCollection.getProductModels().length===a&&this.setState({stopLoading:!0}),n*g.default.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&this._loadMoreProduct()})).catch((0,r.filteredCatch)(E.Unmount,(()=>{}))).catch((()=>{this.setState({loadingMore:!1,stopLoading:!0})}))},this.onScroll=t=>{this.handleScroll(t.currentTarget),this.props.setScrollOffset&&this.props.setScrollOffset(t.currentTarget.scrollTop)},this._handleCartChange=()=>{const t=this.state.cart.itemCount;this.state.cartCount!==t&&this.setState({cartCount:t})},this._handleCartClick=()=>{const{contact:t,onCartClick:e}=this.props;e&&e(t.id.toString())},this._handleCatalogLinkClick=()=>{const{catalog:t}=this.state;if(t){const{onCatalogLinkClick:e,contact:a,catalogId:o}=this.props;e(t,a),(0,D.logCatalogShareLinkClick)({catalogOwnerWid:o,catalogContext:(0,L.getProductCatalogContext)(this.context)})}};const e=m.default.get(this.props.catalogId),a=!e||e.stale?null:e,o=h.default.findCart(this.props.contact.id.toString());this.state={loadingMore:!1,loadedProducts:0,stopLoading:!1,cartEnabled:!1,catalog:a,cart:o,cartCount:o.itemCount,catalogFetchState:a?"SUCCESS":"NONE"}}componentDidMount(){const{catalogId:t,listeners:e,canManageCatalog:a,blockCartInterstitialFn:o=(()=>!1)}=this.props;e.add(this.state.cart,"all",this._handleCartChange),(0,D.logCatalogListView)({catalogOwnerWid:t,catalogContext:(0,L.getProductCatalogContext)(this.context),cartToggle:this.state.cartEnabled}),this.state.catalog?(this._loadMoreProduct(),this._watchProductCollection()):this._findCatalog(),(0,_.default)(t).then((t=>{this.setState({cartEnabled:t}),O.default.supportsFeature(O.default.F.MD_BACKEND)&&a&&t&&!o()&&(0,c.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&(0,p.default)()}))}_findCatalog(){return m.default.find(this.props.catalogId).checkpoint(this.props.rejectOnUnmount()).then((t=>{this.setState({catalog:t,catalogFetchState:"SUCCESS"}),this._loadMoreProduct(),this._watchProductCollection()})).catch((0,r.filteredCatch)(z.ServerStatusCodeError,(t=>{403!==t.status&&404!==t.status||this.setState({catalog:null,catalogFetchState:"NOT_FOUND"})}))).catch((t=>{(0,P.parseErrorState)(t,(t=>this.setState({catalogFetchState:t})))}))}_watchProductCollection(){const{catalog:t}=this.state;this.props.autoUpdate&&null!=t&&(t.productCollection.on("add",(0,i.default)((()=>this.forceUpdate()),100)),t.productCollection.on("remove",(0,i.default)((()=>{var t,e;this.forceUpdate(),null===(t=(e=this.props).onRemoveProduct)||void 0===t||t.call(e)}),100)))}_getDrawerContent(){const{catalog:t,cartEnabled:e}=this.state,{contact:a,businessProfile:o,canManageCatalog:n,onAddProduct:s,onCartClick:i}=this.props,r=e&&i?this._handleCartClick:void 0;if(!t)return(0,K.jsx)(T.default,{fetchState:this.state.catalogFetchState});let l;return n&&s&&(l=(0,K.jsx)(u.default,{onClick:()=>s(),theme:"in-list"})),(0,K.jsxs)(K.Fragment,{children:[o&&(0,K.jsx)("div",{"data-a8n":d.default.key("catalog-header"),className:B.default.header,children:(0,K.jsx)(U.default,{profilePicThumb:a.getProfilePicThumb(),contact:a,businessProfile:o})}),(0,K.jsxs)("div",{"data-a8n":d.default.key("catalog-items"),className:B.default.list,children:[l,(0,K.jsx)(F.default,{onCartOpen:r,onProductDetail:this.props.onProductDetail,flatListController:this._catalogFlatListController,catalog:t,canManageCatalog:this.props.canManageCatalog,shareLinks:this.props.canManageCatalog,onProductShare:this.props.onProductShare}),this.state.loadingMore&&(0,K.jsx)(b.default,{})]})]})}_getCartIcon(){const{onCartClick:t,headerType:e,catalogId:a}=this.props;if(this.state.cartEnabled&&t){const t=this.state.cartCount,o=(0,G.isNumber)(t)&&t>0?t.toString():void 0,n=(0,A.getOnCartClickWithLog)(this._handleCartClick,a.toString(),(0,L.getProductCatalogContext)(this.context));return(0,K.jsx)(R.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,K.jsx)(f.default,{theme:e===x.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),text:o,title:w.default.t(500),onClick:n})}return null}_getDrawerHeaderMenu(){const{canManageCatalog:t,onOpenSettings:e}=this.props,a=t&&(0,M.canToggleCartOnOff)()?(0,K.jsx)(R.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,K.jsx)(W.default,{name:"menu"}),title:w.default.t(1271),children:(0,K.jsxs)(j.default,{type:"dropdown_menu",flipOnRTL:!0,dirX:j.DirX.LEFT,children:[(0,K.jsx)(y.default,{a8n:"mi-foward menu-item",action:this._handleCatalogLinkClick,children:w.default.t(931)}),e&&(0,K.jsx)(y.default,{a8n:"mi-settings menu-item",action:e,children:w.default.t(570)})]},"CatalogDetailHeader")}):(0,K.jsx)(R.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,K.jsx)(N.default,{theme:this.props.headerType===x.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),title:w.default.t(563),onClick:this._handleCatalogLinkClick});return(0,K.jsxs)(K.Fragment,{children:[this._getCartIcon(),a]})}render(){return(0,K.jsxs)(C.default,{theme:"products",onDrop:this.props.onBack,children:[(0,K.jsx)(x.default,{title:w.default.t(1524),type:this.props.headerType||x.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onBack,menu:this._getDrawerHeaderMenu(),focusBackOrCancel:!0}),(0,K.jsx)(S.default,{onScroll:this.onScroll,flatListControllers:[this._catalogFlatListController],scrollOffset:this.props.scrollOffset,children:this._getDrawerContent()})]})}}e.ProductListDrawer=Y,Y.CONCERNS={contact:["id"]},Y.contextType=v.default,Y.displayName="ProductListDrawer";var q=(0,V.default)((0,k.default)((0,H.default)(Y,Y.CONCERNS)));e.default=q},70154:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(67294),s=a(88419),i=o(a(85051)),r=o(a(78972)),l=o(a(77440)),d=o(a(79485)),c=a(97504),u=a(85893);class h extends n.Component{_renderDescription(){const{businessProfile:t}=this.props;return t&&t.description?(0,u.jsx)("div",{className:l.default.description,children:(0,u.jsx)(i.default,{text:t.description,direction:"auto",selectable:!0,titlify:!0})}):null}_renderPicture(){const{profilePicThumb:t,contact:e}=this.props;if(!t)return null;const a=(0,s.getDefaultIcon)(e.id);return(0,u.jsx)("div",{className:l.default.photo,children:(0,u.jsx)(s.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:a,profilePicThumbImg:t.imgFull,spinnerClassName:l.default.spinner,imgClassName:l.default.img,theme:"business"})})}render(){const{contact:t}=this.props;return(0,u.jsxs)("div",{className:l.default.header,"data-testid":"product-list-header",children:[this._renderPicture(),(0,u.jsxs)("div",{className:l.default.text,children:[(0,u.jsx)(c.TextDiv,{className:l.default.name,theme:"large",children:(0,u.jsx)(r.default,{contact:t,selectable:!0,useVerifiedName:!0})}),this._renderDescription()]})]})}}h.CONCERNS={profilePicThumb:["imgFull"],contact:["id","isMe"],businessProfile:["description"]},h.displayName="ProductListDrawerHeader";var f=(0,d.default)(h,h.CONCERNS);e.default=f},22685:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a(81109)),i=n(a(48926)),r=n(a(7900)),l=a(67294),d=n(a(60028)),c=a(10504),u=n(a(55454)),h=a(27546),f=n(a(17747)),p=n(a(9042)),m=o(a(55588)),_=n(a(2408)),g=n(a(71681)),C=n(a(40630)),S=n(a(79485)),v=a(15298),x=a(85893);class j extends l.Component{constructor(...t){super(...t),this.state={complianceInfo:void 0,countryNameOrigin:"",importerAddressCountryNameOrigin:"",isLoading:!0},this.onBack=()=>{const{onBack:t}=this.props;if(t)return t()}}componentDidMount(){var t=this;return(0,i.default)((function*(){const{product:e}=t.props;yield d.default.findProduct({catalogWid:e.catalogWid,productId:e.id.toString(),productMsgMediaData:(0,v.unproxy)(e).productMsgMediaData,shouldFetchComplianceFields:!0});const a=d.default.get(e.catalogWid),o=(0,r.default)(a,"catalog").productCollection.get(e.id);if(o){var n,s,i,l,c,u,f,p,m,_,g,C,S,x,j;const e=yield(0,h.getCountryName)(null===(n=o.complianceInfo)||void 0===n?void 0:n.countryCodeOrigin),a=yield(0,h.getCountryName)(null===(s=o.complianceInfo)||void 0===s||null===(i=s.importerAddress)||void 0===i?void 0:i.countryCode),r={importerName:(null===(l=o.complianceInfo)||void 0===l?void 0:l.importerName)||"",countryCodeOrigin:(null===(c=o.complianceInfo)||void 0===c?void 0:c.countryCodeOrigin)||"",importerAddress:{street1:(null===(u=o.complianceInfo)||void 0===u||null===(f=u.importerAddress)||void 0===f?void 0:f.street1)||"",street2:(null===(p=o.complianceInfo)||void 0===p||null===(m=p.importerAddress)||void 0===m?void 0:m.street2)||"",city:(null===(_=o.complianceInfo)||void 0===_||null===(g=_.importerAddress)||void 0===g?void 0:g.city)||"",region:(null===(C=o.complianceInfo)||void 0===C||null===(S=C.importerAddress)||void 0===S?void 0:S.region)||"",postalCode:(null===(x=o.complianceInfo)||void 0===x||null===(j=x.importerAddress)||void 0===j?void 0:j.postalCode)||""}};t.setState({complianceInfo:r,isLoading:!1,countryNameOrigin:e,importerAddressCountryNameOrigin:a})}else __LOG__(3)`Unable to fetch compliance for product: ${e.id}`}))()}render(){const{complianceInfo:t={},isLoading:e,countryNameOrigin:a,importerAddressCountryNameOrigin:o}=this.state,{countryCodeOrigin:n,importerName:i,importerAddress:r}=t;return(0,x.jsxs)(f.default,{onDrop:this.onBack,theme:"striped",children:[(0,x.jsx)(m.default,{a8n:"drawer-title-profile",title:_.default.t(1540),onBack:this.onBack,type:m.DRAWER_HEADER_TYPE.SMALL}),(0,x.jsx)(p.default,{theme:e?"center-content":void 0,children:e?(0,x.jsx)(c.ComplianceInfoLoading,{}):(0,x.jsxs)(c.ComplianceInfoGroup,{children:[(0,x.jsx)(c.ComplianceInfoPrimitiveField,{value:a,label:_.default.t(1526)}),n&&n!==u.default.COMPLIANCE_INFO_CODES.INDIA?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.ComplianceInfoPrimitiveField,{value:i,label:_.default.t(1538)}),(0,x.jsx)(c.ComplianceInfoStructuralField,{valuesMap:(0,s.default)({importerAddressCountryNameOrigin:o},r),keys:["street1","street2","city","region","postalCode","importerAddressCountryNameOrigin"],label:_.default.t(1527)})]}):null]})})]},"product-details-drawer")}}j.CONCERNS={product:["id","catalogWid"]},j.displayName="ProductMoreInformation";var y=(0,C.default)((0,g.default)((0,S.default)(j,j.CONCERNS)));e.default=y},29513:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{isAvailable:e,fetching:a}=t,o=(0,n.useContext)(i.default),p=(0,h.default)(t.product,["productImageCollection","productMsgMediaData","catalogWid","imageCdnUrl"]),m=p.productImageCollection.toArray();return(0,f.jsx)("div",{className:c.default.imageCarouselContainer,children:(0,f.jsx)(r.default,{images:m,fetching:a,onClick:e?(t,e)=>{(0,l.logDetailImageClick)({product:(0,u.unproxy)(p),catalogContext:(0,d.getProductCatalogContext)(o)});const a={activeProductImage:e,productImageCollection:p.productImageCollection,getZoomNode:()=>t,product:p};s.default.productImageViewerModal(a,(0,d.getProductCatalogSessionId)(o))}:null,renderFallback:!e,fallbackMediaData:p.productMsgMediaData})})};var n=a(67294),s=o(a(69162)),i=o(a(79864)),r=o(a(30925)),l=a(30333),d=a(70790),c=o(a(53584)),u=a(15298),h=o(a(76006)),f=a(85893)},44056:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{onPopupCancel:e,onReport:a,onTellUsMore:o}=t,c=()=>{e()},u=i.default.t(1601),h=(0,d.jsx)("div",{children:i.default.t(1599)},"ReportProductChoicePopup-desc"),f=(0,d.jsx)(n.default,{a8nText:"popup-controls-more",type:"secondary",onClick:()=>{o()},children:i.default.t(1602)},"ReportProductChoicePopup-moreBtn"),p=(0,d.jsx)(n.default,{a8nText:"popup-controls-report",type:"secondary",onClick:()=>{a()},children:i.default.t(1598)},"ReportProductChoicePopup-reportBtn"),m=(0,d.jsx)(n.default,{type:"secondary",onClick:c,children:i.default.t(1996)},0),_=(0,d.jsxs)("div",{className:l.default.buttons,children:[(0,d.jsx)("div",{className:l.default.button,children:f}),(0,d.jsx)("div",{className:l.default.button,children:p}),(0,d.jsx)("div",{className:l.default.button,children:m})]});return(0,d.jsx)(s.default,{handlers:{escape:c},children:(0,d.jsx)(r.default,{title:u,actions:_,children:h})})};var n=o(a(69991)),s=o(a(39e3)),i=o(a(2408)),r=o(a(79475)),l=o(a(63665)),d=a(85893)},86820:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(6467),s=o(a(69162)),i=o(a(99942)),r=o(a(2408)),l=a(30333),d=a(68793),c=o(a(44056)),u=o(a(12832)),h=a(15298),f=a(85893);class p extends i.default{constructor(...t){super(...t),this._submitReason=t=>{const{product:e,sessionId:a}=this.props;return(0,l.logReportProduct)({product:(0,h.unproxy)(e),catalogSessionId:a}),(0,d.reportProduct)(e.catalogWid,e.id.toString(),t)},this.onDelete=()=>{this.end()},this.onReport=t=>{this._onShowSubmittedToast(t)},this.onTellUsMore=()=>{this.push((0,f.jsx)(u.default,{onTellUsMoreSubmit:this.onReport,onCancel:this.onCancel}),"none")},this.onPopupCancel=()=>{this.end()},this.onCancel=()=>{this.end()},this._onReportSubmitted=()=>{this.end()},this._onShowSubmittedToast=(t,e=(0,n.genId)())=>{const{product:a,sessionId:o}=this.props,i=this._submitReason(t),d=new n.ActionType(r.default.t(1563)),c=i.then((()=>((0,l.logReportProductSuccess)({product:(0,h.unproxy)(a),catalogSessionId:o}),new n.ActionType(`${r.default.t(1562)}. ${r.default.t(1600)}`)))).catch((()=>((0,l.logReportProductFailure)({product:(0,h.unproxy)(a),catalogSessionId:o}),__LOG__(3)`error submitting product report`,new n.ActionType(r.default.t(1561),{actionText:r.default.t(1619),actionHandler:()=>this._onShowSubmittedToast(t,e)}))));return s.default.openToast((0,f.jsx)(n.ActionToast,{id:e,initialAction:d,pendingAction:c})),this._onReportSubmitted(),i}}componentDidMount(){this.push((0,f.jsx)(c.default,{onTellUsMore:this.onTellUsMore,onReport:this.onReport,onPopupCancel:this.onPopupCancel,onCancel:this.onCancel}))}}e.default=p},12832:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{onCancel:e,onTellUsMoreSubmit:a}=t,[o,n]=(0,i.useState)(null),u=()=>{e&&e()},C=t=>{t.target.value&&n(t.target.value)},S=c.default.t(1557),v=(0,m.jsx)("div",{className:(0,s.default)(f.default.section),children:(0,m.jsx)("ul",{className:f.default.reasonList,children:_.map((t=>(0,m.jsx)("li",{children:(0,m.jsxs)("label",{className:f.default.label,children:[(0,m.jsx)("input",{type:"radio",name:t,value:t,onChange:C,className:f.default.input,checked:t===o}),(0,m.jsx)(g,{reason:t})]})},`ReportProductReasonPopup-${t}-option`)))})}),x=(0,m.jsx)(r.default,{a8nText:"popup-controls-submit",type:"primary",onClick:()=>{o?a(o):l.default.openToast((0,m.jsx)(p.default,{msg:c.default.t(1564),id:(0,p.genId)()}))},disabled:!o,children:c.default.t(1560)},"ReportProductReasonPopup-submitButton"),j=(0,m.jsx)(r.default,{type:"secondary",a8nText:"popup-controls-cancel",onClick:u,children:c.default.t(1996)},"ReportProductReasonPopup-cancelButton"),y=(0,m.jsxs)("div",{className:f.default.buttons,children:[j,x]});return(0,m.jsx)(d.default,{handlers:{escape:u},children:(0,m.jsx)(h.default,{title:S,actions:y,children:v})})};var s=n(a(94184)),i=a(67294),r=n(a(69991)),l=n(a(69162)),d=n(a(39e3)),c=n(a(2408)),u=n(a(663)),h=n(a(79475)),f=n(a(22883)),p=o(a(49201)),m=a(85893);const _=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"];function g(t){const{reason:e}=t;switch(e){case"NO_MATCH":return(0,m.jsx)(u.default,{id:1555});case"SPAM":return(0,m.jsx)(u.default,{id:1559});case"ILLEGAL":return(0,m.jsx)(u.default,{id:1553});case"SCAM":return(0,m.jsx)(u.default,{id:1558});case"KNOCKOFF":return(0,m.jsx)(u.default,{id:1554});case"OTHER":return(0,m.jsx)(u.default,{id:1556});default:throw new Error(`Invalid reason: ${e}`)}}},56605:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({isEditMode:t,catalog:e,subtitle:a,hideIncompleteRows:o,productsToShow:p,businessProfile:m}){const _=(0,f.jsx)(h.default,{onViewShopClick:()=>{(0,d.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_FROM_EDIT_BIZ_PROFILE)},onCommerceManagerClick:()=>{(0,d.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_FROM_EDIT_BIZ_PROFILE)},onCancelClick:()=>{(0,d.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_FROM_EDIT_BIZ_PROFILE)}});return(0,f.jsx)(i.default,{onProductDetail:function(e){if(t)r.default.openModal(_),(0,d.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_PRODUCT_PREVIEW_TILE,{shouldLogJid:!1});else{const t=new URL((0,u.default)(e.url,"product.url"),`https://${l.default.HOSTNAME.FACEBOOK}`);n.default.open(String(t))}},onProductCatalog:function(){t?(r.default.openModal(_),(0,d.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_MANAGE_SHOPS)):(0,s.goToShop)(m)},catalog:e,subtitle:a,hideIncompleteRows:o,productsToShow:p,showShopsLogo:!0})};var n=o(a(94666)),s=a(47874),i=o(a(22715)),r=o(a(69162)),l=o(a(55454)),d=a(29931),c=o(a(4231)),u=o(a(91619)),h=o(a(37741)),f=a(85893)},74122:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({text:t,url:e}){return(0,i.jsx)(s.default,{xstyle:r.button,onClick:()=>{(0,n.openExternalLink)(e)},children:t})};o(a(56720));var n=a(4919),s=o(a(89135)),i=a(85893);const r={button:{display:"p357zi0d",borderTopStartRadius:"m2gb0jvt",borderTopEndRadius:"rfxpxord",borderBottomEndRadius:"gwd8mfxi",borderBottomStartRadius:"mnh9o63b",width:"ltyqj8pj",paddingTop:"b7n2qyd4",paddingEnd:"l9g3jx6n",paddingBottom:"ekpn4oxx",paddingStart:"lyvj5e2u",maxWidth:"rkwy1u70",fontSize:"enbbiyaj",height:"ohuqqxaf",lineHeight:"erpdyial",transform:"bnt9nn9b",opacity:"axi1ht8l",backgroundColor:"ppv8chjk",color:"qiqvuef5",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",animationName:"hr4hzv79",animationFillMode:"a21kwdn3",animationDuration:"h6edk2v2",animationDelay:"fdmybch3"}}},46929:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.RingTheme=void 0;var n=o(a(81109)),s=o(a(94184)),i=o(a(42138)),r=o(a(76006)),l=a(85893);const d=a(54302).Mirrored(["STATUS_V3_PANEL","BUSINESS_CONTACT_INFO"]);e.RingTheme=d;function c(t){const{stroke:e,size:a}=t,o=(0,r.default)(t.statusV3,["unreadCount","totalCount","contact"]),c=t=>{const a=100+e;return(0,l.jsx)("circle",(0,n.default)({cx:a/2,cy:a/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:e},t))},u=(t,e,a,o)=>{let n="";for(let s=0;s<t;s++)n+=s===t-1?`${e} ${a-t*(o+e)+o} `:`${e} ${o} `;return n},h=100+e,f=o.totalCount;let p=10;const m=50*Math.PI*2;m-10*f<1&&(p=m/f/1.2);const _=(m-p*f)/f,g=m/4-p/2,C=o.contact.isMe?0:o.unreadCount,S=f-C;let v,x;if(C){const t=g+f*(p+_);let e;1!==f&&(e=u(C,_,m,p)),v=c({strokeDashoffset:t,strokeDasharray:e,className:i.default.unread})}if(S){const t=g+S*(p+_);let e;1!==f&&(e=u(S,_,m,p)),x=c({strokeDashoffset:t,strokeDasharray:e,className:i.default.read})}return(0,l.jsxs)("svg",{className:(0,s.default)({[i.default.statusV3PanelRing]:t.theme===d.STATUS_V3_PANEL,[i.default.businessContactInfoRing]:t.theme===d.BUSINESS_CONTACT_INFO}),width:a,height:a,viewBox:`0 0 ${h} ${h}`,children:[v,x]})}c.defaultProps={size:48,stroke:4,theme:d.STATUS_V3_PANEL};var u=c;e.default=u},92838:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.setupStatusV3Controller=function(t,e){if(t){if(t.type===i.default.TYPE.IMAGE){let t=4500;return(0,n.default)(e.caption)||(t+=2e3*Math.min(e.caption.length/150,1)),new d(t)}return t.type===i.default.TYPE.VIDEO?e.isGif?new u:new r.default:new d(3e3)}if(e.type===s.default.MSG_TYPE.CHAT){const t=2e3+60*Math.min(e.body.length,1e3);return new d(t)}return new d(3e3)},e.StatusV3GifController=e.StatusV3CountdownController=void 0;var n=o(a(41609)),s=o(a(55454)),i=o(a(49694)),r=o(a(9654));const l=()=>{};class d{constructor(t){this.addListeners=(t,e,a,o)=>{this._onStart=t,this._onPause=e,this._onEnded=a,this._onLoaded=o},this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._onLoaded=void 0},this.play=()=>{var t;if(this._timer)return void __LOG__(2)`Duplicate timer start`;this._timer=setTimeout(this._onTimeup,this._timeout),this._start=(new Date).getTime();const e=this._onStart;e&&e(this._timeout,this._duration),null===(t=this._onLoaded)||void 0===t||t.call(this,!1)},this.stop=()=>{if(this._timer){clearTimeout(this._timer),this._timer=null;const t=(new Date).getTime();this._timeout-=t-this._start;const e=this._onPause;e&&e()}else __LOG__(2)`Timer stop called on stopped timer`},this.resume=()=>{this.play()},this.pause=()=>{this.stop()},this._onTimeup=()=>{const t=this._onEnded;t&&t()},this.mute=l,this.unmute=l,this._duration=t,this._timeout=this._duration,this._start=0}get duration(){return this._duration}}e.StatusV3CountdownController=d;const c=6e3;class u{constructor(){this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._onLoaded=void 0,this._videoController.removeListeners(),this._countdownController.removeListeners()},this.setVideo=(t,e)=>{this._video!==t&&(this._video=t,null!=e&&(this._duration=e),this._videoController.setVideo(t))},this._onVideoStartHandler=()=>{const t=this._video;if(null==t)return;const e=this._onStart,a=t.duration||this._duration,o=Math.max(3*a*1e3,c);e&&e(o-1e3*a*this._playCounter-1e3*t.currentTime,o)},this._onVideoPauseHandler=()=>{const t=this._onPause;t&&t()},this._onVideoEndedHandler=()=>{const t=this._video;if(null==t)return;this._playCounter++;const e=this._onEnded;3===this._playCounter&&(this._videoEnded=!0,this._timerEnded&&e&&e()),t.currentTime=0,this._videoEnded&&this._timerEnded||setTimeout((()=>{this._videoController.play()}),0)},this._onVideoLoadedHandler=()=>{var t;null===(t=this._onLoaded)||void 0===t||t.call(this,!1)},this._onTimerEndedHandler=()=>{const t=this._onEnded;this._timerEnded=!0,t&&this._videoEnded&&t()},this.play=()=>{this._videoController.play(),this._countdownController.play()},this.stop=()=>{this._videoController.stop(),this._countdownController.stop()},this.resume=()=>{this._videoController.resume(),this._countdownController.resume()},this.pause=()=>{this._videoController.pause(),this._countdownController.pause()},this.mute=l,this.unmute=l,this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new r.default,this._countdownController=new d(c),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler,this._onVideoLoadedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}addListeners(t,e,a,o){this._onStart=t,this._onPause=e,this._onEnded=a,this._onLoaded=o}get duration(){return Math.max(3*(this._video&&this._video.duration||this._duration)*1e3,c)}}e.StatusV3GifController=u},44625:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a(94184)),s=a(67294),i=o(a(65565)),r=o(a(34466)),l=o(a(45285)),d=a(85893);function c(t,e){const{onClick:a,current:o,total:c,hasMediaControls:u}=t,h=(0,s.useRef)(null),f=(0,s.useRef)(null),p=[];(0,s.useEffect)((()=>{__LOG__(2)`Current index: ${o}, total count: ${c}`,o>=0&&o<c||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("bad current status v3 index"))}),[]);const m=t=>{a&&a(t)},_=(t,e)=>{if(!h.current)return;const a=1e3*i.default.statusVideoMaxDuration,o=Math.min(t,a),n=Math.min(e,a);(0,l.default)(h.current,"stop"),f.current=(0,l.default)(h.current,{translateX:["0%",`-${o/n*100}%`]},{duration:o,easing:"linear"})},g=()=>{h.current&&(0,l.default)(h.current,"stop")},C=()=>{const t=f.current;return t||Promise.resolve()};(0,s.useImperativeHandle)(e,(()=>({handleStart:_,handlePause:g,handleEnded:C})));const S=100/t.total+"%";for(let e=0;e<t.total;++e){const a=(0,n.default)(r.default.foreground,{[r.default.filled]:e<t.current,[r.default.empty]:e>t.current,[r.default.active]:e===t.current}),o=(0,d.jsxs)("div",{className:r.default.wrapper,style:{width:S},onClick:()=>m(e),children:[(0,d.jsx)("div",{className:r.default.bg}),(0,d.jsx)("div",{className:r.default.mask,children:(0,d.jsx)("div",{className:a,ref:e===t.current?h:()=>{}})})]},e);p.push(o)}return(0,d.jsx)("div",{className:u?r.default.containerWithMediaControls:r.default.container,children:p})}var u=(0,s.forwardRef)(c);e.default=u},50539:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({seenCount:t,onClick:e}){const a=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.default,{name:"status-v3-seen",className:(0,n.default)(d.iconSeen)}),(0,l.jsx)("div",{className:(0,n.default)(d.seenCount),children:t})]}),o=e?(0,l.jsx)(r.default,{xstyle:d.container,onClick:e,children:a}):a;if(null!=t)return(0,l.jsx)("div",{className:(0,n.default)(d.container),children:o});return(0,l.jsx)(s.default,{stroke:3,size:12})};var n=o(a(56720)),s=o(a(46714)),i=o(a(2966)),r=o(a(89135)),l=a(85893);const d={iconSeen:{color:"lxozqee9"},seenCount:{marginLeft:"qddwjlxl",color:"lxozqee9"},container:{display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"ac2vgrno"}}},98222:(t,e,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.StatusV3MsgNotFound=e.StatusV3LoadingError=e.InvalidStatusV3Iterator=void 0;var s=n(a(48926)),i=n(a(57043)),r=n(a(44908)),l=n(a(35161)),d=a(8139),c=a(99935),u=a(13253),h=n(a(83125)),f=o(a(77062));class p extends((0,u.customError)("InvalidStatusV3Iterator")){}e.InvalidStatusV3Iterator=p;class m extends((0,u.customError)("StatusV3LoadingError")){}e.StatusV3LoadingError=m;class _ extends((0,u.customError)("StatusV3MsgNotFound")){}e.StatusV3MsgNotFound=_;e.default=class{constructor(t,e){var a=this;if(this._printInfo=()=>{this.statuses.forEach((t=>{__LOG__(2)`Total count: ${t.totalCount}, unread count: ${t.unreadCount}, msgs length: ${t.msgs.length}`}))},this.getFirstUnread=(t,e,a)=>{const o=this.statuses.findIndex((e=>e.statusV3===t));if(-1!==o){const n=this.statuses[o],s=n.readMsgKeys;let i;return a?(i=n.msgs?n.msgs.findIndex((t=>a&&t.id.toString()===a.toString())):-1,i>=0?Promise.resolve({msgIdx:i,statusIdx:o}):Promise.reject(new p)):(i=n.msgs?n.msgs.findIndex((t=>!s.includes(t.id.toString()))):-1,-1===i&&t.msgs.msgLoadState.noEarlierMsgs?(i=e?0:n.msgs.length-1,Promise.resolve({msgIdx:i,statusIdx:o})):-1!==i?Promise.resolve({msgIdx:i,statusIdx:o}):0===n.unreadCount&&e&&n.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:o}):this._fetchMore(t).then((()=>this.getFirstUnread(t,e,a))).catch((t=>{throw __LOG__(3)`error while getting first unread status: ${String(t)}`,new p})))}return Promise.reject(new p)},this.hasNext=t=>{const e=this.statuses[t.statusIdx];return t.msgIdx+1<e.totalCount||t.statusIdx+1<this.statuses.length},this.getNext=t=>{const e=this.statuses[t.statusIdx],a=e.statusV3;if(t.msgIdx+1<e.totalCount&&t.msgIdx+1<e.msgs.length)return Promise.resolve({msgIdx:t.msgIdx+1,statusIdx:t.statusIdx});if(t.msgIdx+1<e.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(__LOG__(3)`Loaded ${e.msgs.length} messages with total count ${e.totalCount}, but noEarlierMsgs set`,Promise.reject(new p)):this._fetchMore(a).then((()=>this.getNext(t))).catch((e=>{if(__LOG__(3)`error while loading more status msgs: ${String(e)}`,t.statusIdx+1<this.statuses.length){const e=this.statuses[t.statusIdx+1].statusV3;return this.getFirstUnread(e,!0)}throw new p}));if(t.statusIdx+1<this.statuses.length){const e=this.statuses[t.statusIdx+1].statusV3;return this.getFirstUnread(e,!0)}return Promise.reject(new p)},this.hasPrev=t=>t.msgIdx>0||t.statusIdx>0,this.getPrev=t=>{if(t.msgIdx>0)return Promise.resolve({msgIdx:t.msgIdx-1,statusIdx:t.statusIdx});if(t.statusIdx>0){const e=this.statuses[t.statusIdx-1].statusV3;return this.getFirstUnread(e,!1)}return Promise.reject(new p)},this.statusAt=(t,e)=>{const a=this.statuses[t.statusIdx],o=a.statusV3;return e<a.msgs.length?Promise.resolve({msgIdx:e,statusIdx:t.statusIdx}):o.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new p):this._fetchMore(o).then((()=>this.statusAt(t,e))).catch((t=>{throw __LOG__(3)`error while loading more status msgs: ${String(t)}`,new p}))},this._fetchMore=function(){var t=(0,s.default)((function*(t){if(!(yield(0,c.promiseLoop)(function(){var e=(0,s.default)((function*(e,o,n){const s=(0,d.delayMs)(f.expBackoff(n,12e4,1e3,.1));try{yield t.loadMore();const o=a.statuses.findIndex((e=>e.statusV3===t));if(-1!==o){const n=a.statuses[o],s=n.totalCount,d=n.unreadCount,c=t.msgs.getModelsArray().slice(0,s),u=c.slice(0,s-d),h=(0,l.default)(u,(t=>t.id.toString()));n.msgs=c,n.readMsgKeys=(0,r.default)((0,i.default)(n.readMsgKeys,h)),e(!0)}else{if(!(n>=4))return s;e(!1)}}catch(t){if(!(n>=4))return s;e(!1)}}));return function(){return e.apply(this,arguments)}}())))throw new m}));return function(){return t.apply(this,arguments)}}(),e){const a=t.msgs.getModelsArray().find((t=>e&&t.id.toString()===e.toString()));if(!a)throw new _;this.statuses=[{statusV3:t,totalCount:1,unreadCount:0,msgs:[a],readMsgKeys:[a.id.toString()]}]}else if(t.unreadCount>0&&!t.contact.isMe&&!t.contact.statusMute){const t=h.default.getUnexpired(!0),e=[];t.forEach((t=>{if(t.contact.statusMute)return;const a=t.msgs.getModelsArray(),o=t.totalCount-t.unreadCount,n=a.slice(0,o),s=(0,l.default)(n,(t=>t.id.toString()));e.push({statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:a,readMsgKeys:s})})),this.statuses=e}else{const e=t.msgs.getModelsArray(),a=t.totalCount-t.unreadCount,o=e.slice(0,a),n=(0,l.default)(o,(t=>t.id.toString())),s=[{statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:e,readMsgKeys:n}];this.statuses=s}this._printInfo()}}},9654:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a(65565));function s(t){return Math.min(t,n.default.statusVideoMaxDuration)}var i=class{constructor(){this.addListeners=(t,e,a,o)=>{this._onStart=t,this._onPause=e,this._onEnded=a,this._onLoaded=o},this.setVideo=t=>{this._video!==t&&(this._unsetVideo(),this._video=t,null!=t&&(t.addEventListener("playing",this._onPlayingHandler),t.addEventListener("pause",this._onPauseHandler),t.addEventListener("ended",this._onEndedHandler),t.addEventListener("timeupdate",this._onTimeUpdate),t.addEventListener("loadeddata",this._onLoadedData)))},this._unsetVideo=()=>{const t=this._video;t&&(this.stop(),t.removeEventListener("playing",this._onPlayingHandler),t.removeEventListener("pause",this._onPauseHandler),t.removeEventListener("ended",this._onEndedHandler),t.removeEventListener("timeupdate",this._onTimeUpdate),t.removeEventListener("loadeddata",this._onLoadedData))},this.play=()=>{this._video&&this._video.play()},this.pause=()=>{this._video&&!this._video.paused&&this._video.pause()},this.resume=()=>{this._video&&this._video.play()},this.stop=()=>{this._video&&!this._video.paused&&this._video.pause()},this._changeMuted=t=>{this._video&&(this._video.muted=t)},this.mute=()=>{this._changeMuted(!0)},this.unmute=()=>{this._changeMuted(!1)},this._onPlayingHandler=()=>{const t=this._video;if(null==t)return;const e=this._onStart;if(e){const a=s(t.duration);e(1e3*(a-t.currentTime),1e3*a)}},this._onPauseHandler=()=>{const t=this._onPause;t&&t()},this._onEndedHandler=()=>{const t=this._onEnded;t&&t()},this._onTimeUpdate=()=>{var t;const e=null===(t=this._video)||void 0===t?void 0:t.currentTime;if(null!=e&&e>=n.default.statusVideoMaxDuration){this.stop(),this._onEndedHandler();const t=this._video;t&&(t.removeEventListener("timeupdate",this._onTimeUpdate),t.removeEventListener("ended",this._onEndedHandler))}},this._onLoadedData=()=>{const t=this._video;if(t){var e;const a=t.audioTracks&&t.audioTracks.length>0||!0===t.mozHasAudio||t.webkitAudioDecodedByteCount>0;null===(e=this._onLoaded)||void 0===e||e.call(this,a)}},this.removeListeners=()=>{this.stop(),this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0}}get duration(){return null==this._video?0:1e3*s(this._video.duration)}};e.default=i},88543:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){window.getSelection().removeAllRanges();const e=document.getElementById(t),a=document.createRange();e&&a.selectNode(e),window.getSelection().addRange(a);try{const t=document.execCommand("copy");return window.getSelection().removeAllRanges(),t}catch(t){return!1}}},32397:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a(81109)),s=a(60934);const i=a(28757),r={};r[s.ExtendedTextMessageFontType.SERIF]={google:{families:["Roboto"]}},r[s.ExtendedTextMessageFontType.SANS_SERIF]={google:{families:["Droid Serif"]}},r[s.ExtendedTextMessageFontType.NORICAN_REGULAR]={google:{families:["Norican"]}},r[s.ExtendedTextMessageFontType.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},r[s.ExtendedTextMessageFontType.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};const l={};l[s.ExtendedTextMessageFontType.BRYNDAN_WRITE]=`@font-face {font-family:"Bryndan-Write"; src:url("${i}") format("truetype");}`;var d=new class{constructor(){this.loadedFonts={},this.loadingPromise={}}load(t){if(this.loadedFonts[t])return Promise.resolve();if(this.loadingPromise[t])return this.loadingPromise[t];const e=r[t],a=l[t];let o;o=a?new Promise(((t,e)=>{const o=document.createElement("style");o.appendChild(document.createTextNode(a)),o.onload=t,o.onerror=e,document.head&&document.head.appendChild(o)})):Promise.resolve();const s=o.then((()=>new Promise(((a,o)=>{const s=(0,n.default)((0,n.default)({},e),{},{active:()=>{this.loadedFonts[t]=!0,a()},inactive:()=>{this.loadingPromise[t]=void 0,o("Failed to load font: "+t)}});WebFont.load(s)}))));return this.loadingPromise[t]=s,s}loadAllFonts(){return Promise.all(Array.from(s.ExtendedTextMessageFontType.members()).map((t=>this.load(t))))}};e.default=d},61136:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return s.default.supportsFeature(s.default.F.RICH_TEXT)?(0,n.default)(t,l,r.TextSerializer):t};var n=o(a(29730)),s=o(a(12950)),i=a(49895),r=a(6249);const l=i.Configuration.ComposeBox()},40307:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProductLink=function(t,e){return`https://wa.me/p/${e}/${t}`},e.createCatalogLink=function(t){return`https://wa.me/c/${t}`}},71547:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.dayToWeekday=l,e.businessHoursFromConfig=d,e.getWebsiteLink=function(t){return`https://l.wl.co/l?u=${encodeURIComponent(t)}`},e.getBusinessHours=function(t){const{config:e}=t,a=(new Date).getDay();return s.DAYS_OF_WEEK.map(((t,o)=>{const n=(a+o)%s.DAYS_OF_WEEK.length,i=s.DAYS_OF_WEEK[n];return{day:l(n),hours:d(e[i]),first:0===o}}))},e.getBusinessHoursForEdit=function(t){const e=null==t?{}:t.config,{note:a,timezone:o}=t||{};let i;const l=s.DAYS_OF_WEEK.map(((t,a)=>{const o=e[t],s=n.default.weekdays(a);let l;return o&&(i=o.mode,o.hours&&(l=o.hours.map((([t,e])=>[(0,r.minutesToTime)(t),(0,r.minutesToTime)(e)])))),{dayName:s,dayKey:t,closed:!o,hours:l}})),d=n.default.weekdays(!0,0),c=n.default.weekdays().indexOf(d),u=l.splice(c);return{mode:i,days:[...u,...l],timezone:o,note:a}},Object.defineProperty(e,"minutesToTime",{enumerable:!0,get:function(){return r.minutesToTime}}),Object.defineProperty(e,"timeStringToMinutes",{enumerable:!0,get:function(){return r.timeStringToMinutes}});var n=o(a(30381)),s=a(4650),i=o(a(2408)),r=a(93778);function l(t){return n.default.weekdays(t)}function d(t){switch(null==t?void 0:t.mode){case s.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return(null==t?void 0:t.hours)?t.hours.map((t=>t.map(r.minutesToTime).join(" - "))).join("\n"):"";case s.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return i.default.t(431);case s.BUSINESS_HOUR_MODES.OPEN_24H:return i.default.t(443);default:return i.default.t(432)}}},93778:(t,e,a)=>{"use strict";var o=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.minutesToTime=function(t){return n.default.utc().startOf("day").add(t,"minutes").format(s.default.timestampStrFormat())},e.timeStringToMinutes=void 0;var n=o(a(30381)),s=o(a(25142));const i=["h:mm A","h:mmA","HH:mm","HH.mm","H:mm","H.mm"];e.timeStringToMinutes=t=>{let e;const a=t.trim();if(!a)return;for(const t of i){const o=(0,n.default)(a,t,!0);if(o.isValid()){e=o;break}}if(!e)return;const o=e,s=(0,n.default)().startOf("day"),r=o.diff(s);return n.default.duration(r).asMinutes()}},28757:(t,e,a)=>{t.exports=a.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},68862:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={coverPhoto:"_3_2za",isEditable:"_1aFdX",avatar:"_3RULU",noStatusBorder:"_3xp59",hasStatusBorder:"IYr2u"}},91378:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={cartIcon:"PKmps",inheritColor:"qM2C3"}},39893:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={notifyName:"_3Pmbe"}},61388:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={separator:"Wt3HP",block:"_11V85"}},63696:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={carousel:"alksS",contentContainer:"OkAlG",slidesContainer:"_1w5W1",loaded:"j1J2j",fadeIn:"_2QkLV",spinnerContainer:"_1kDDe",spinner:"_3j4fM"}},89882:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={slide:"_2MjCA",slideInnerContainer:"_2cG76",image:"ubkU5"}},59867:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={canvasComponent:"_1JMw2",canvasEmpty:"_166Sa",canvasSecondRow:"_3Ggjl",canvasFirst:"_2CUR-",more:"_1ZQxr",container:"_3G6fW",justifySpaceBetween:"_1I8Ig",galleryEmpty:"_2Liso",drawer:"_3q1U7",drawerBody:"_1uuJx",themeNewChatInfo:"gkHEP"}},34435:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={icon:"_23QTJ",disabled:"iP9Fm",transparent:"_2HMfd",compact:"_25tj-"}},18310:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={labelRow:"_1_9J2",standaloneLabelRow:"_2Lv1o",labelContainer:"_3A-ba",standaloneLabelContainer:"_34ojr"}},39935:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={section:"_17dED",control:"_3T0RE"}},16115:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={icon:"_2I7Gg"}},89600:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={container:"_2QzJd",containerNoIcon:"_1EaD-",containerListAligned:"_1I4H7",icon:"_13qOF",danger:"_1O1hL",success:"x8B-w",bodyContainer:"_36Lzk",body:"Qy5WW",themeNewChatInfo:"_1X2he"}},83522:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={description:"_14eHx"}},18482:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={actionText:"_3nrbz"}},99597:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={mediaPanelTools:"f3Dup",profileThumb:"_2xUs5",profileContainer:"Cq6XJ",media:"_1_TZb",profileViewer:"_3OWRM",profileViewerImg:"_2hH_e",container:"_9-YHG","media-viewer-animate":"_7DTuk",mediaViewerAnimate:"_7DTuk",headerContainer:"_1U_13"}},17932:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={icon:"woEzZ"}},7200:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={icon:"_1eLBZ"}},78654:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={container:"xWfq_",popupPanel:"B7YnW",wrapper:"_35Bca",emojiIcon:"_1nsaN",sendIcon:"dJI7Y",lineWrapper:"_2X8K7"}},11780:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={playerWrapper:"_1E241",mediaViewer:"_19K91",mediaStateControls:"_12QEi",playerBackground:"_20Ki1",media:"Kr9Tk",captionBackdrop:"_43j_5",mediaCaption:"_3yP6V",progressBackdrop:"_21bEk",progressBarBackdropNarrow:"_2paot",profile:"_1Oh7Z",nonClickProfile:"_3AuES",profileNarrow:"_2iahT",profileWithMediaControls:"_2mjUT",playerAvatar:"_19BWt",verified:"_22SMV",icon:"ocQuB",measuringProfile:"nF1-N",profileMac:"_1At-O",msgInfo:"_2LKvA",msgInfoName:"_3VYz8",timestamp:"_2tXxE",playerContent:"_2MwhR",v3Image:"_1pf64",actionLink:"_1jnXn",v3Video:"_3uHZH",statusPanelPlayerContent:"_2HrM5",statusThumbnailPlayerContent:"_1CbQs",loading:"_3e8Or",text:"ecFHI",textLarge:"nRSvd",textMedium:"_1WIYL",textSmall:"_1PvQk",font_1:"_2b6no",font1:"_2b6no",font_2:"_3KLoY",font2:"_3KLoY",font_3:"_2LoU3",font3:"_2LoU3",font_5:"wQ88j",font5:"wQ88j",unknown:"_3-Nhy",seen:"_1PF3_",messageId:"_25_ls",textThumbnailPlayerContent:"_3wxAA"}},18914:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={container:"_1ufTj",inputContainer:"_1rO5S",btnContainer:"_3KRZ3",btnPosition:"D6yuB"}},71801:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={chevron:"_23hMF",catalogEntryButton:"_3GuCY",shopsLogo:"taQA_",infoText:"_3D9Ju",content:"_1qg9G"}},56107:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={prompt:"_1MKrR"}},93277:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={linkIcon:"_3n54f",inheritColor:"dF0c_"}},36074:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={linkContainer:"_36niN",activeLink:"_218Ww"}},79184:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={addItemButton:"_2e394",themeInList:"_2tMVN",themeCollections:"_1AeNq",themeDefault:"_28K_k"}},65491:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={pendingBanner:"_3oeDZ",iconContainerPending:"_1lkig",iconContainerRejected:"NHVOL",rejectedBanner:"_14t2G",rejectedBannerWithAppeal:"xAt0d"}},43099:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={header:"_361SI",list:"_300on"}},80092:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={list:"_1x_gj",addItemsNotice:"_3uGr0"}},97076:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={collectionListItem:"V0C2k",collectionName:"_3x976",seeAllLink:"UWjBu",reviewStateRejected:"_22_86"}},44134:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={body:"_3I775",loadingContainer:"AOdvD",text:"_2yxqg",loadingText:"_38kp2",shiftUp:"_1gMAq",availabilityBanner:"_32wIk"}},55675:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={buttonContainer:"_1IcSo",button:"_2I8rD",addToCartButton:"_1jLhq",addToCartIcon:"PoXRl",addToCartIconDisabled:"_3l5-l",addToCartContainer:"_3shFG",name:"_1l7n8",price:"_27spI",originalPrice:"_1DYEx",description:"_2f0i8",more:"Jjucz"}},13906:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={productImage:"_3rmhv",productImageContainer:"_1E8LA",productThumb:"_3HQ90",productThumbContainer:"_6O-Qy",prompt:"_3K3du"}},8685:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={header:"_9UV-x",list:"_8UHUF"}},77440:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={header:"_1fhXS",photo:"_1XF90",text:"_3oXCf",name:"_3o6p1",description:"_2OTQS",spinner:"_2Fceq",img:"sz61d"}},53584:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={imageCarouselContainer:"_33-Dh"}},63665:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={buttons:"wH7Ij",button:"_2Na0-"}},22883:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={section:"_3KLwP",reasonList:"CsJ_u",label:"KvCZU",input:"_3uXLe",buttons:"_1VUcX"}},42138:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={statusV3PanelRing:"cFfKt",businessContactInfoRing:"_3EL6s",read:"_3tgk6",unread:"_1min4"}},34466:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const o={container:"_3b17O",containerWithMediaControls:"i3Rke",wrapper:"sZBni",mask:"_3CRhO",bg:"_3r7AV",foreground:"_3f8oh",filled:"_3t0iC",empty:"_1A2HZ",active:"_2gskD"}}}]);