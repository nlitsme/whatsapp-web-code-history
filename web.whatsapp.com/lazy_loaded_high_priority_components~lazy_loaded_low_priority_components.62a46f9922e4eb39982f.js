/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[9488],{91960:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addFailedString=function(e,t){return l.default.t(96,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return a.fbt._("Couldn't add some participants.",null,{hk:"2usrY"})},t.addSuccessString=function(e,t){return l.default.t(97,{participantNames:e,_plural:t})},t.demoteFailedString=function(e,t,o){switch(o){case 406:return l.default.t(100,{participant:e});default:return l.default.t(99,{participantNames:e,_plural:t})}},t.demotePartialFailedString=function(){return a.fbt._("Couldn't remove some participants as an admin.",null,{hk:"IRRDJ"})},t.demoteSuccessString=function(e,t){return l.default.t(101,{participantNames:e,_plural:t})},t.formatGroupStatusReasonString=u,t.formatParticipantActionString=c,t.formatParticipantStatusReasonString=f,t.formatRemoveResult=function(e,t){return d(e,h,p,m,t)},t.formatResult=d,t.promoteFailedString=function(e,t){return l.default.t(105,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return a.fbt._("Couldn't make some participants admin.",null,{hk:"4A8lPV"})},t.promoteSuccessString=function(e,t){return l.default.t(106,{participantNames:e,_plural:t})},t.removeFailedString=p,t.removePartialFailedString=m,t.removeSuccessString=h;var a=o(48360),r=o(19380),i=o(7293),l=n(o(43725)),s=n(o(39546));function d(e,t,o,n,a){let l;if(207===e.status){const a={};for(const t in e){if(!s.default.isWid(t))continue;const o=e[t];if(403===o&&i.GK.supportsFeature(i.GK.F.GROUPS_V_4_JOIN_PERMISSION))continue;if(207===o)continue;a[o]||(a[o]=[]);const n=r.ContactCollection.get(t);n&&a[o].push(n)}const d=[];for(const e in a){const n=c(t,o,f,parseInt(e,10),a[e]);n&&d.push(n)}l=d.length>0?d.join("\n"):n()}else l=c(t,o,u,e.status,a);return l}function c(e,t,o,n,a){const r=a.map((e=>e.formattedShortName)).join(l.default.t(411)),i=200===n,s=i?e(r,a.length):t(r,a.length,n),d=i?"":o(n,a.length);return s.toString()+d.toString()}function u(e){let t="";switch(e){case 403:t=" "+a.fbt._("You're not a participant.",null,{hk:"4GsI1U"}).toString();break;case 408:t=" "+l.default.t(104);break;case 404:t=" "+a.fbt._("This group has ended.",null,{hk:"C2izu"}).toString();break;case 429:t=" "+a.fbt._("You've added too many contacts to groups too quickly. Try again later.",null,{hk:"aTFA4"}).toString()}return t}function f(e,t){let o="";switch(e){case 401:case 406:case 409:break;case 404:o=" "+l.default.t(103,{_plural:t});break;case 408:o=" "+l.default.t(104,{_plural:t});break;case 500:o=" "+a.fbt._("This group is full.",null,{hk:"27htUz"}).toString();break;default:o=" "+a.fbt._("Please try again.",null,{hk:"3S6IYT"}).toString()}return o}function h(e,t){return l.default.t(110,{participantNames:e,_plural:t})}function p(e,t,o){switch(o){case 406:return l.default.t(109,{participant:e});default:return l.default.t(108,{participantNames:e,_plural:t})}}function m(){return a.fbt._("Couldn't remove some participants.",null,{hk:"3N0fyq"})}},89389:(e,t,o)=>{"use strict";var n=o(20862),a=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(e,t){return p((0,f.unproxy)(e),t)},t.demoteParticipants=function(e,t){return x((0,f.unproxy)(e),t)},t.promoteParticipants=function(e,t){return C((0,f.unproxy)(e),t)},t.removeParticipants=function(e,t){return g((0,f.unproxy)(e),t)};var r=a(o(48926)),i=o(46331),l=o(88102),s=n(o(64103)),d=n(o(91960)),c=a(o(43725)),u=o(37722),f=o(31019),h=o(85893);function p(){return m.apply(this,arguments)}function m(){return(m=(0,r.default)((function*(e,t){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants;if(null==a)return Promise.reject(new s.ActionError);if(t.some((e=>a.get(e.id))))return __LOG__(3)`models:groupMetadata:participantCollection:addParticipants already a group member`,Promise.reject(new s.ActionError);if(!a.canAdd())return Promise.reject(new s.ActionError);const r=(0,u.sendAddParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.formattedShortName)).join(c.default.t(411)),m=new i.ActionType(c.default.t(98,{participantNames:f,_plural:t.length})),g=r.then((e=>{a.sendForNeededAddRequest(e);const o=d.formatResult(e,d.addSuccessString,d.addFailedString,d.addPartialFailedString,t);return new i.ActionType(o)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:addParticipants dropped`,new i.ActionType(c.default.t(96,{participantNames:f,_plural:t.length}),{actionText:c.default.t(129),actionHandler:()=>p(e,t,n)}))));l.Cmd.openToast((0,h.jsx)(i.ActionToast,{id:n,initialAction:m,pendingAction:g})),yield r}))).apply(this,arguments)}function g(){return _.apply(this,arguments)}function _(){return(_=(0,r.default)((function*(e,t){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants;if(null==a)return Promise.reject(new s.ActionError);if(t.some((e=>!a.canRemove(e))))return Promise.reject(new s.ActionError);const r=(0,u.sendRemoveParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.contact.formattedShortName)).join(c.default.t(411)),p=new i.ActionType(c.default.t(111,{participantNames:f,_plural:t.length})),m=r.then((e=>{const o=d.formatRemoveResult(e,t.map((e=>e.contact)));return new i.ActionType(o)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new i.ActionType(c.default.t(108,{participantNames:f,_plural:t.length}),{actionText:c.default.t(129),actionHandler:()=>g(e,t,n)}))));l.Cmd.openToast((0,h.jsx)(i.ActionToast,{id:n,initialAction:p,pendingAction:m})),yield r}))).apply(this,arguments)}function C(){return v.apply(this,arguments)}function v(){return(v=(0,r.default)((function*(e,t){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants;if(null==a)return Promise.reject(new s.ActionError);if(t.some((e=>!a.canPromote(e))))return Promise.reject(new s.ActionError);const r=(0,u.sendPromoteParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.contact.formattedShortName)).join(c.default.t(411)),p=new i.ActionType(c.default.t(107,{participantNames:f,_plural:t.length})),m=r.then((e=>{const o=d.formatResult(e,d.promoteSuccessString,d.promoteFailedString,d.promotePartialFailedString,t.map((e=>e.contact)));return new i.ActionType(o)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new i.ActionType(c.default.t(105,{participantNames:f,_plural:t.length}),{actionText:c.default.t(129),actionHandler:()=>C(e,t,n)}))));l.Cmd.openToast((0,h.jsx)(i.ActionToast,{id:n,initialAction:p,pendingAction:m})),yield r}))).apply(this,arguments)}function x(){return S.apply(this,arguments)}function S(){return(S=(0,r.default)((function*(e,t){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants;if(null==a)return Promise.reject(new s.ActionError);if(t.some((e=>!a.canDemote(e))))return Promise.reject(new s.ActionError);const r=(0,u.sendDemoteParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.contact.formattedShortName)).join(c.default.t(411)),p=new i.ActionType(c.default.t(102,{participantNames:f,_plural:t.length})),m=r.then((e=>{const o=d.formatResult(e,d.demoteSuccessString,d.demoteFailedString,d.demotePartialFailedString,t.map((e=>e.contact)));return new i.ActionType(o)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:demoteParticipants dropped`,new i.ActionType(c.default.t(99,{participantNames:f,_plural:t.length}),{actionText:c.default.t(129),actionHandler:()=>x(e,t,n)}))));l.Cmd.openToast((0,h.jsx)(i.ActionToast,{id:n,initialAction:p,pendingAction:m})),yield r}))).apply(this,arguments)}},83007:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPostcodeIQ=void 0;var a=n(o(48926)),r=o(31914),i=o(71914),l=o(24747),s=o(77591);const d=new i.WapParser("productResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("verify_postcode"),o=t.child("result_code"),n=t.child("area").contentString();return{resultCode:o.contentString(),encryptedPostcodeCityName:n}})),c=function(){var e=(0,a.default)((function*(){const e=(0,r.wap)("iq",{to:r.S_WHATSAPP_NET,type:"get",xmlns:"w:biz:catalog",id:(0,r.generateId)()}),t=yield(0,l.sendIq)(e,d);if(t.success)return t.result;throw t.errorCode,new s.ServerStatusCodeError(t.errorCode)}));return function(){return e.apply(this,arguments)}}();t.verifyPostcodeIQ=c},35255:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addGroupParticipants=function(e,t){return C(e,t,p).catch((0,i.filteredCatch)(f.ServerStatusCodeError,(e=>({status:e.statusCode}))))},t.demoteGroupParticipants=function(e,t){return C(e,t,m).catch((e=>{__LOG__(3)`error sending demoting group participants iq: ${e}`}))},t.promoteGroupParticipants=function(e,t){return C(e,t,g).catch((e=>{__LOG__(3)`error sending promoting group participants iq: ${e}`}))},t.removeGroupParticipants=function(e,t){return C(e,t,h).catch((e=>{__LOG__(3)`error sending removing group participants iq: ${e}`}))};var a=n(o(81109)),r=n(o(48926)),i=o(50796),l=o(31914),s=o(71914),d=o(24747),c=o(85553),u=o(39410),f=o(77591);const h="remove",p="add",m="demote",g="promote";function _(e){return new s.WapParser(`${e}GroupParticipantsReplyParser`,(t=>({id:t.attrString("id"),participants:t.child(e).mapChildren((e=>{const t=e.maybeChild("add_request");return{wid:(0,c.userJidToUserWid)(e.attrPhoneUserJid("jid")),error:e.hasAttr("error")?e.attrInt("error"):null,invite_code:t&&t.attrString("code"),invite_code_exp:t&&t.attrString("expiration")}}))})))}function C(){return v.apply(this,arguments)}function v(){return(v=(0,r.default)((function*(e,t,o){const n=t.map((e=>(0,l.wap)("participant",{jid:(0,u.JID)(e)})));let r;switch(o){case p:r=(0,l.wap)("add",null,n);break;case h:r=(0,l.wap)("remove",null,n);break;case m:r=(0,l.wap)("demote",null,n);break;case g:r=(0,l.wap)("promote",null,n);break;default:return Promise.reject(new Error(`invalid group operation ${o}`))}const i=(0,l.wap)("iq",{to:(0,u.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,l.generateId)()},r),s=yield(0,d.sendIq)(i,_(o));if(s.success){const{participants:e}=s.result,t={};return e.forEach((e=>{Object.assign(t,{[e.wid.toString()]:null!=e.error?e.error:200})})),(0,a.default)((0,a.default)({},t),{},{status:207,participants:e.map((e=>({[e.wid.toString()]:{code:null!=e.error&&e.error.toString()||"200",invite_code:e.invite_code,invite_code_exp:e.invite_code_exp}})))})}return Promise.reject(new f.ServerStatusCodeError(s.errorCode,s.errorText))}))).apply(this,arguments)}},7799:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPostcode=t.VerifyPostcodeError=void 0;var a=n(o(48926)),r=o(7293),i=o(83007);const l=(e,t)=>Promise.resolve(t),s=o(54302).Mirrored(["INVALID_POSTCODE","UNSERVICEABLE_POSTCODE"]);t.VerifyPostcodeError=s;const d=function(){var e=(0,a.default)((function*(e,t){if(!r.GK.supportsFeature(r.GK.F.MD_BACKEND))throw new Error("Postcode feature not supported in Non MD mode");const o=yield((e,t)=>Promise.resolve(t))(0,t);switch((yield(0,i.verifyPostcodeIQ)(e,o)).resultCode){case"success":return{success:!0,postcodeCityName:yield l(0,o)};case"invalid_postcode":return{success:!1,postcodeError:s.INVALID_POSTCODE};case"unserviceable_location":return{success:!1,postcodeError:s.UNSERVICEABLE_POSTCODE}}}));return function(){return e.apply(this,arguments)}}();t.verifyPostcode=d},37722:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){let o;if(a.GK.supportsFeature(a.GK.F.MD_BACKEND)){if(o=(0,r.addGroupParticipants)(e,t),!o)return Promise.reject(new Error("addParticipants: not supported when not build with MD_BACKEND"))}else o=i.default.addParticipants(e,t);return o},t.sendDemoteParticipants=function(e,t){let o;if(a.GK.supportsFeature(a.GK.F.MD_BACKEND)){if(o=(0,r.demoteGroupParticipants)(e,t),!o)return Promise.reject(new Error("sendDemoteParticipants: not supported when not build with MD_BACKEND"))}else o=i.default.demoteParticipants(e,t);return o},t.sendPromoteParticipants=function(e,t){let o;if(a.GK.supportsFeature(a.GK.F.MD_BACKEND)){if(o=(0,r.promoteGroupParticipants)(e,t),!o)return Promise.reject(new Error("sendPromoteParticipants: not supported when not build with MD_BACKEND"))}else o=i.default.promoteParticipants(e,t);return o},t.sendRemoveParticipants=function(e,t){let o;if(a.GK.supportsFeature(a.GK.F.MD_BACKEND)){if(o=(0,r.removeGroupParticipants)(e,t),!o)return Promise.reject(new Error("sendRemoveParticipants: not supported when not build with MD_BACKEND"))}else o=i.default.removeParticipants(e,t);return o};var a=o(7293),r=o(35255),i=n(o(56891))},24697:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,editable:o,profilePicThumb:n,onClick:x,onOpenStatus:S,onLoad:y,hideStatusV3:b}=e;const[j,T]=(0,i.useState)(window.innerWidth),[P,E]=(0,i.useState)(null);(0,i.useEffect)((()=>{function e(){T(window.innerWidth)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]);const k=j>1300?152:122,I=!(0,u.canSeeStatusV3OnContact)()||t.statusMute||b?null:m.StatusV3Collection.get(t.id);function w(){I&&(l.Cmd.openModalMedia((0,v.jsx)(p.default,{removeTopDrawer:!1,statusV3:I}),{transition:"status-v3-modal"}),S&&S())}let A=null;P&&(A=(0,v.jsx)(_.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,requestDismiss:()=>{E(null)},children:(0,v.jsx)(C.default,{contextMenu:P})}));let M,O=null,N=s.default.noStatusBorder;null!=I&&(O=(0,v.jsx)(g.StatusV3ImageRing,{statusV3:I,size:k+24,stroke:3,theme:g.RingTheme.BUSINESS_CONTACT_INFO}),N=s.default.hasStatusBorder);M=o&&null!=n?(0,v.jsx)(h.default,{profilePicThumb:n,size:k}):(0,v.jsx)(d.DetailImage,{id:t.id,size:k,loader:!0,onLoad:y,onClick:function(e){if(x)if(null!=I&&I.totalCount>0){e.stopPropagation(),e.preventDefault();const t=[(0,v.jsx)(c.DropdownItem,{a8n:"mi-view-photo",action:()=>{x(e)},children:f.default.t(831)},"view-photo"),(0,v.jsx)(c.DropdownItem,{a8n:"mi-view-status",action:w,children:r.fbt._("View status",null,{hk:"1QQMZy"})},"view-status")];E({menu:t,event:e})}else x(e)},quality:d.DETAIL_IMAGE_QUALITY.HIGH});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:(0,a.default)(s.default.coverPhoto,{[s.default.isEditable]:o})}),(0,v.jsxs)("div",{className:s.default.avatar,children:[O,(0,v.jsx)("div",{className:N,children:M})]}),A]})};var a=n(o(94184)),r=o(48360),i=o(67294),l=o(88102),s=n(o(34203)),d=o(88984),c=o(71174),u=o(57701),f=n(o(43725)),h=n(o(79876)),p=n(o(10121)),m=o(59387),g=o(24391),_=o(18644),C=n(o(24717)),v=o(85893)},51070:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(i.default,{name:"shopping-cart",className:(0,a.default)(r.default.cartIcon,{[r.default.inheritColor]:"inherit-color"===e.theme})})};var a=n(o(94184)),r=n(o(2570)),i=n(o(23217)),l=o(85893)},77577:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{labels:t,theme:o}=e;return t&&(0,r.canDisplayLabel)()?(0,s.jsx)("div",{className:(0,a.default)(i.default.labelContainer,{[i.default.standaloneLabelContainer]:"standalone"===o}),children:(()=>{if(t)return t.map(((e,t)=>(0,s.jsx)("div",{className:(0,a.default)(i.default.labelRow,{[i.default.standaloneLabelRow]:"standalone"===o}),children:(0,s.jsx)(l.Labels,{labels:[e],showName:!0})},t)))})()}):null};var a=n(o(94184)),r=o(57701),i=n(o(64871)),l=o(84543),s=o(85893)},44043:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCartClick:t,cartCount:o,catalogId:n,canManageCatalog:x,onSendCatalog:S,onOpenCollections:y,onOpenMerchantDetailsForm:b,onOpenSettings:j}=e,T=(0,r.useContext)(l.DrawerContext);return(0,v.jsxs)(v.Fragment,{children:[(()=>{if(t&&n){const e=(0,C.isNumber)(o)&&o>0?o.toString():void 0,r=(0,p.getOnCartClickWithLog)(t,n,(0,g.getProductCatalogContext)(T));return(0,v.jsx)(m.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,v.jsx)(i.default,{theme:"inherit-color"}),text:e,title:a.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:r})}return null})(),x?(0,v.jsx)(m.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,v.jsx)(_.default,{name:"menu"}),title:f.default.t(621),children:(0,v.jsxs)(s.Dropdown,{type:"dropdown_menu",flipOnRTL:!0,dirX:s.DirX.LEFT,children:[(0,v.jsx)(d.DropdownItem,{a8n:"mi-foward menu-item",action:S,children:f.default.t(470)}),y&&(0,v.jsx)(d.DropdownItem,{a8n:"mi-collections menu-item",action:y,children:a.fbt._("Collections",null,{hk:"1VWu7A"})}),(0,u.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)((0,c.getMeUser)().user)&&b&&(0,v.jsx)(d.DropdownItem,{a8n:"merchant-details",action:b,children:a.fbt._("Business details",null,{hk:"m9xzp"})},"merchantDetails"),(0,u.canToggleCartOnOff)()&&j&&(0,v.jsx)(d.DropdownItem,{a8n:"mi-settings menu-item",action:j,children:a.fbt._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,v.jsx)(m.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,v.jsx)(h.default,{}),title:a.fbt._("Catalog link",null,{hk:"M36Dw"}),onClick:S})]})};var a=o(48360),r=o(67294),i=n(o(51070)),l=o(27394),s=o(60811),d=o(71174),c=o(99234),u=o(57701),f=n(o(43725)),h=n(o(62371)),p=o(88571),m=o(46346),g=o(97567),_=n(o(23217)),C=o(31515),v=o(85893)},42953:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(48360),r=o(67294),i=(n(o(56720)),n(o(39770))),l=n(o(483)),s=o(27394),d=n(o(33308)),c=o(29623),u=o(57701),f=o(77975),h=o(60263),p=o(97567),m=o(5641),g=o(3013),_=o(31019),C=n(o(23217)),v=n(o(1784)),x=o(85893);const S={addIcon:{position:"g0rxnol2",width:"d0st09ow",height:"bbl9m3t3",paddingBottom:"aus7m8kn",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",borderTop:"rom324v9",borderEnd:"na7ur5ty",borderBottom:"gjeyj30g",borderStart:"bmro6pka",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":before":{position:"oxaw94s0",top:"ijeufx4s",start:"meq75apj",display:"oa3lyrek",width:"slvs4faj",height:"jaq0b63r",content:"lij4d1x3",background:"nkmjymgc",transform:"k95pjfv1"},":after":{position:"dkvli2l0",top:"qi2a0yje",start:"bunkm0yn",display:"b0f5vxaq",width:"qbfuvgfc",height:"i0r7mfoh",content:"k15o3o4i",background:"fji5f4ri",transform:"cai600lj"}},largeGallerySpacing:{width:"b8z6cu80",height:"bbl9m3t3",marginEnd:"jnwc1y2a",marginBottom:"qrsyb3yy"},placeholderThumb:{width:"d0st09ow",height:"fujac5jc",paddingBottom:"lxvt2vq0",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",backgroundColor:"o27ac25e",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},subtitle:{marginTop:"tt8xd2xn",marginEnd:"q471nw87",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6"}};function y(e){const{onProductCatalog:t,title:o,subtitle:n,animation:y,sectionTheme:b,shouldLog:j,catalog:T,onProductDetail:P,filterProductId:E,productsToShow:k,hideIncompleteRows:I,showProductPlaceholders:w,seeMoreOverlay:A,catalogEntryLabel:M,showShopsLogo:O}=e,N=(0,r.useContext)(s.DrawerContext);(0,r.useEffect)((()=>{j&&null!=T&&(0,f.logBusinessProfileCatalogView)({catalogOwnerWid:T.id,catalogContext:(0,p.getProductCatalogContext)(N)})}),[]);const L=null==M?null:(0,x.jsx)("div",{className:l.default.catalogEntryButton,children:(0,x.jsx)(i.default,{a8nText:"catalog-entry-button",type:"secondary",onClick:()=>t((0,p.getProductCatalogContext)(N),"ContactInfo"),children:M})}),R=(()=>{let e,o,n=[],r=k;if((0,u.canSeeBizProfileV3)()&&(o="largeGallerySpacing"),null!=T?(e=T.productCollection,n=T.productCollection.getProductModels(),I&&n.length>3&&(r=Math.min(k,n.length-n.length%3)),n=n.slice(0,r+1),n=n.filter((e=>e.id.toString()!==E)).map(((e,n)=>{var i;const l=null===(i=e.getPreviewImage())||void 0===i?void 0:i.mediaData;if(!l)return(0,x.jsx)(x.Fragment,{});let s;A&&n===r-1&&T.productCollection.length>r-1&&(s=a.fbt._("See more",null,{hk:"450jnd"}));return(0,x.jsx)(g.ProductThumb,{onClick:()=>s?t((0,p.getProductCatalogContext)(N),"ContactInfo"):(e=>{j&&(0,f.logProfileProductClick)({product:(0,_.unproxy)(e),catalogContext:(0,p.getProductCatalogContext)(N)}),P(e)})(e),mediaData:l,overlayContent:s,theme:o},e.id.toString())})).slice(0,r)):(e=new m.ProductCollection,e.add({id:"_ph"})),!n.length&&!w)return null;let i,l=S.addIcon;for(;w&&n.length<r;)n.push((0,x.jsx)(v.default,{onClick:()=>t((0,p.getProductCatalogContext)(N),"ContactInfo"),title:a.fbt._("Add product",null,{hk:"3gdovw"}),xstyle:[l,"largeGallerySpacing"===o&&S.largeGallerySpacing],children:(0,x.jsx)(x.Fragment,{})},`_ph${n.length}`)),l=S.placeholderThumb;return(0,u.canSeeBizProfileV3)()&&(i="space-between"),(0,x.jsx)(h.MediaGalleryView,{productMedias:n,mediaCollection:e,justify:i})})(),D=n?(0,x.jsx)(c.FlexItem,{xstyle:S.subtitle,children:n}):null,B=(0,x.jsxs)(c.FlexRow,{align:"center",children:[D,(0,x.jsx)(c.FlexItem,{children:(0,x.jsx)(C.default,{className:l.default.chevron,name:"chevron-right-alt",directional:!0})})]});return(0,x.jsxs)(d.default,{title:o||a.fbt._("Products",null,{hk:"3Ky71N"}),titleOnClick:()=>t((0,p.getProductCatalogContext)(N),"ContactInfo"),subtitle:B,theme:b,animation:y,children:[R,L,O?(0,x.jsx)("div",{className:l.default.shopsLogo,children:(0,x.jsx)(C.default,{name:"fbshops",display:"inline"})}):null]})}y.defaultProps={productsToShow:6,sectionTheme:"padding",hideIncompleteRows:!1};var b=y;t.default=b},7532:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t,onCancel:o,catalog:n,contact:j,prompt:T,centerDrawer:P,onSend:E}=e,k=(0,r.useContext)(h.DrawerContext),I=()=>{s.Cmd.openModal((0,y.jsx)(v.default,{catalog:n,onSend:E}),{transition:"modal-flow"}),(0,g.logShareCatalogViaWALinkClick)({catalogOwnerWid:n.id,catalogContext:(0,C.getProductCatalogContext)(k)})},w=(0,y.jsx)(c.DetailImage,{id:j.id,size:82,quality:c.DETAIL_IMAGE_QUALITY.HIGH});let A,M;P&&(A="labels",M="center-column");return(0,y.jsxs)(u.default,{theme:A,children:[(0,y.jsx)(p.DrawerHeader,{a8n:"catalog-link-title",title:a.fbt._("Catalog link",null,{hk:"M36Dw"}),onBack:t,onCancel:o,type:p.DRAWER_HEADER_TYPE.SMALL}),(0,y.jsxs)(f.default,{theme:M,children:[(0,y.jsx)("div",{className:i.default.prompt,children:T}),(0,y.jsx)(l.default,{image:w,primary:(0,y.jsx)(_.Name,{contact:j,useVerifiedName:!0}),theme:"identity",secondary:(0,y.jsx)(m.default,{id:b,href:(0,S.createCatalogLink)(n.id.user),onClick:e=>{e.preventDefault(),I()},noHandle:!0})}),(0,y.jsx)(x.default,{onClick:I}),(0,y.jsx)(d.default,{elementId:b,onClick:()=>{(0,g.logShareCatalogCopyLinkClick)({catalogOwnerWid:n.id,catalogContext:(0,C.getProductCatalogContext)(k)})}})]})]},"catalog-link-drawer")};var a=o(48360),r=o(67294),i=n(o(70098)),l=n(o(44356)),s=o(88102),d=n(o(26609)),c=o(88984),u=n(o(60453)),f=n(o(69637)),h=o(27394),p=o(94790),m=n(o(786)),g=o(77975),_=o(12176),C=o(97567),v=n(o(35400)),x=n(o(51628)),S=o(61358),y=o(85893);const b="catalog-link-anchor"},17986:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return l.apply(this,arguments)};var a=n(o(48926)),r=o(93581),i=o(57701);function l(){return(l=(0,a.default)((function*(e){var t;if(!(0,i.cartPropEnabled)())return!1;let o=r.BusinessProfileCollection.get(e);if(!o||o.stale){const t=yield r.BusinessProfileCollection.update(e);o=Array.isArray(t)?t[0]:t}return(null===(t=o.profileOptions)||void 0===t?void 0:t.cartEnabled)||!1}))).apply(this,arguments)}},11466:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contactId:t,onSendProduct:o,onReportProduct:n,onProductLinkClick:v,onProductMoreInformation:x,onCartClick:S,cartCount:y,catalogId:b}=e,j=(0,r.useContext)(l.DrawerContext);return(0,C.jsxs)(C.Fragment,{children:[(()=>{if(S&&b){const e=(0,_.isNumber)(y)&&y>0?y.toString():void 0,t=(0,h.getOnCartClickWithLog)(S,b,(0,m.getProductCatalogContext)(j));return(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,C.jsx)(i.default,{}),text:e,title:a.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:t})}return null})(),(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-product-link",icon:(0,C.jsx)(f.default,{}),title:a.fbt._("Product link",null,{hk:"1RIlvV"}),onClick:v}),(0,C.jsx)(p.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,C.jsx)(g.default,{name:"menu"}),title:u.default.t(621),children:(0,C.jsxs)(s.Dropdown,{type:"dropdown_menu",flipOnRTL:!0,dirX:s.DirX.LEFT,children:[(0,C.jsx)(d.DropdownItem,{a8n:"mi-send menu-item",action:o,children:a.fbt._("Send product",null,{hk:"1wkzue"})}),(0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(t)&&(0,C.jsx)(d.DropdownItem,{a8n:"mi-send menu-item",action:x,children:a.fbt._("More information",null,{hk:"2JHvi1"})}),(0,C.jsx)(d.DropdownItem,{a8n:"mi-report menu-item",action:n,children:a.fbt._("Report product",null,{hk:"1jgCyX"})})]},"ProductDetailHeader")})]})};var a=o(48360),r=o(67294),i=n(o(51070)),l=o(27394),s=o(60811),d=o(71174),c=o(57701),u=n(o(43725)),f=n(o(62371)),h=o(88571),p=o(46346),m=o(97567),g=n(o(23217)),_=o(31515),C=o(85893)},14375:(e,t,o)=>{"use strict";var n=o(20862);Object.defineProperty(t,"__esModule",{value:!0}),t.parseErrorState=function(e,t){if(e instanceof r.Unmount);else if(e instanceof a.ServerStatusCodeError)"not_found"===e.status||404===e.status?t("NOT_FOUND"):(t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch from server`);else{if(!(e instanceof a.WebdDrop))throw t("ERROR"),e;t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch due to WebdDrop`}};var a=o(77591),r=n(o(64103))},61055:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{fetchState:t}=e;switch(t){case"NONE":case"SUCCESS":return null;case"PENDING":return(0,d.jsxs)("div",{className:(0,a.default)(i.default.loadingContainer),children:[(0,d.jsx)(l.Spinner,{size:14,color:l.colorOptions.highlight}),(0,d.jsx)(s.TextSpan,{className:(0,a.default)(i.default.text,i.default.loadingText),theme:"small",children:r.fbt._("Waiting for network",null,{hk:"3I2DtN"})})]});case"NOT_FOUND":case"ERROR":return(0,d.jsx)("div",{className:(0,a.default)(i.default.loadingContainer),children:(0,d.jsx)(s.TextSpan,{className:i.default.text,theme:"small",color:"danger",children:"NOT_FOUND"===t?r.fbt._("This product or service has been removed",null,{hk:"3mE1ld"}):r.fbt._("Something went wrong",null,{hk:"7C9hw"})})});default:throw new Error(`invalid fetchState ${t}`)}};var a=n(o(94184)),r=o(48360),i=n(o(71212)),l=o(11054),s=o(13923),d=o(85893)},62371:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(i.default,{name:"link",className:(0,a.default)(r.default.linkIcon,{[r.default.inheritColor]:"inherit-color"===e.theme})})};var a=n(o(94184)),r=n(o(85822)),i=n(o(23217)),l=o(85893)},786:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{id:t,href:o,onClick:n,noHandle:l}=e;return(0,i.jsx)("span",{className:a.default.linkContainer,children:(0,i.jsx)(r.SelectableLink,{id:t,href:o,className:a.default.activeLink,selectable:!0,onClick:n,"data-nohandle":l,children:o})})};var a=n(o(32442)),r=o(52596),i=o(85893)},47217:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleCollectionAppeal=function(){return b.apply(this,arguments)},t.handleCollectionDelete=function(e,t,o){return new Promise(((n,a)=>{l.Cmd.openModal((0,v.jsx)(s.default,{title:i.fbt._("Delete Collection",null,{hk:"2y3JZ4"}),okText:i.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{l.Cmd.closeModal(),function(){return y.apply(this,arguments)}(e,t,o).then((e=>n(e))).catch((e=>a(e)))},onCancel:()=>{l.Cmd.closeModal(),n(!1)},children:(0,v.jsx)("div",{children:i.fbt._("When you delete this collection, items in the collection will not be deleted.",null,{hk:"192Jcv"})})}))}))},t.handleCollectionSave=function(e,t,o,n,a,r){let s;m.QPL.markerPoint(g.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_start"),s=t?(0,p.editCollection)(t.id.toString()||"",o===t.name?void 0:o,!1,n.map((e=>e.id.toString())),a.map((e=>e.id.toString())),r.session.toString()).then((r=>(m.QPL.markerPoint(g.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),t.name=o,t.reviewStatus=r.reviewStatus,e.collections.replaceId(t.id,r.id),0===n.length&&0===a.length||(t.productCollection.reset(),t.afterCursor=void 0,e.collections.reset(),e.collections.afterCursor=""),!0))):(0,p.createCollection)(o,n.map((e=>e.id.toString())),r.session.toString()).then((t=>(m.QPL.markerPoint(g.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),(0,c.logCollectionCreated)({catalogContext:r,collectionId:t.id,productCount:n.length}),e.collections.reset(),e.collections.afterCursor="",!0)));return s.catch((e=>{const t=e=>{l.Cmd.openToast((0,v.jsx)(_.Toast,{msg:e,id:(0,_.genId)("catalog_save_collection_failed")}))};let o=i.fbt._("Failed to save collection",null,{hk:"3Chwhp"});if("not-acceptable"===e.text)return"products"===e.fieldName&&"duplicate"===e.fieldReason&&(o=i.fbt._("You already have a collection with this group of items. Add or delete items to make a different group.",null,{hk:"1fZXaY"})),"collection"===e.fieldName&&"empty"===e.fieldReason&&(o=i.fbt._("A collection must have at least one item in it",null,{hk:"39rLHR"})),t(o),!1;throw __LOG__(4,!0,new Error,!0)`Failed to save collection, error: ${e}`,SEND_LOGS("Saving collection failed"),t(o),e}))},t.handleProductDelete=function(e,t,o,n){return(0,d.logDeleteProductClick)(t,1,o),new Promise(((a,r)=>{l.Cmd.openModal((0,v.jsx)(s.default,{title:i.fbt._("Delete Item",null,{hk:"20DBg1"}),okText:i.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{l.Cmd.closeModal(),m.QPL.markerStart(g.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,{string:{EntryPoint:n}}),function(){return x.apply(this,arguments)}(e,t,o).then((e=>{m.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,m.QuickLogActionType.SUCCESS),a(e)})).catch((e=>{m.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,m.QuickLogActionType.FAIL),r(e)}))},onCancel:()=>{l.Cmd.closeModal(),a(!1)},children:(0,v.jsx)("div",{children:i.fbt._("Are you sure you want to delete this item from your catalog?",null,{hk:"2WwNSA"})})}))}))},t.handleProductVisibilityChange=function(e,t,o,n){const a=t.id.toString(),r=!t.isHidden;r?(0,d.logCatalogProductHideClick)(a,o):(0,d.logCatalogProductShowClick)(a,o);return new Promise(((c,u)=>{const f=t.isHidden?i.fbt._("Show item in your catalog?",null,{hk:"VfDKM"}):i.fbt._("Hide item in your catalog?",null,{hk:"1KmslI"});l.Cmd.openModal((0,v.jsx)(s.default,{okText:i.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{m.QPL.markerStart(g.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{string:{EntryPoint:n}}),l.Cmd.closeModal(),function(){return S.apply(this,arguments)}(e,t).then((()=>{m.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,m.QuickLogActionType.SUCCESS),r?(0,d.logCatalogProductHideSuccess)(a,o):(0,d.logCatalogProductShowSuccess)(a,o),c(!0)})).catch((e=>{m.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,m.QuickLogActionType.FAIL),r?(0,d.logCatalogProductHideFailed)(a,o):(0,d.logCatalogProductShowFailed)(a,o),u(e)}))},onCancel:()=>{l.Cmd.closeModal(),r?(0,d.logCatalogProductHideCancelled)(a,o):(0,d.logCatalogProductShowCancelled)(a,o),c(!1)},children:(0,v.jsx)("div",{children:f})}))}))};var a=n(o(48926)),r=o(50796),i=o(48360),l=o(88102),s=n(o(52665)),d=o(77975),c=o(35054),u=o(96519),f=o(21374),h=o(5641),p=o(60323),m=o(48870),g=o(27798),_=o(50452),C=o(77591),v=o(85893);function x(){return(x=(0,a.default)((function*(e,t,o){try{return yield(0,u.deleteProducts)([t.id.toString()]),(0,d.logDeleteProductSuccess)(t,1,o),e.productCollection.evictImagesFromCache(t.id.toString()),e.productCollection.remove(t.id.toString()),e.collections&&e.collections.forEach((e=>e.productCollection.remove(t.id.toString()))),!0}catch(e){return(0,r.filteredCatch)(C.ServerStatusCodeError,(e=>((0,d.logDeleteProductFailed)(t,1,o,e.statusCode),l.Cmd.openToast((0,v.jsx)(_.Toast,{msg:i.fbt._("Failed to delete product",null,{hk:"18E03X"}),id:(0,_.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function S(){return(S=(0,a.default)((function*(e,t){yield(0,f.productVisibilitySet)([{productId:t.id.toString(),isHidden:!t.isHidden}]),t.isHidden=!t.isHidden;[e.productCollection,...(e.collections||[]).map((e=>e.productCollection))].forEach((e=>{const o=e.get(t.id);o&&(o.isHidden=t.isHidden)}))}))).apply(this,arguments)}function y(){return(y=(0,a.default)((function*(e,t,o){try{return yield(0,p.deleteCollection)(t.id.toString(),o.session.sessionId.toString()),e.collections.remove(t.id.toString()),(0,c.logCollectionDeleted)({catalogContext:o,collectionId:t.id}),!0}catch(e){return(0,r.filteredCatch)(C.ServerStatusCodeError,(e=>(__LOG__(4,!0,new Error,!0)`Failed to delete collection, error: ${e}`,SEND_LOGS("Deleteing collection failed"),l.Cmd.openToast((0,v.jsx)(_.Toast,{msg:i.fbt._("Failed to delete collection",null,{hk:"S7UrR"}),id:(0,_.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function b(){return(b=(0,a.default)((function*(e,t){m.QPL.markerPoint(g.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_start"),yield(0,p.appealCollection)(e.id.toString(),t),e.set({canAppeal:!1,reviewStatus:h.PRODUCT_REVIEW_STATUS.PENDING}),m.QPL.markerPoint(g.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_end")}))).apply(this,arguments)}},33889:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,a8nText:o}=e,n=(0,a.default)(i.default.addItemButton,{[i.default.themeDefault]:"default"===e.theme,[i.default.themeInList]:"in-list"===e.theme,[i.default.themeCollections]:"collections"===e.theme}),u=(0,d.jsx)(s.default,{title:r.fbt._("Add new item",null,{hk:"2Tc6p3"}),onClick:()=>{},xstyle:c.addIcon,children:(0,d.jsx)(d.Fragment,{})});return(0,d.jsx)(l.default,{theme:"add-item",image:u,customImage:!0,primary:e.title||r.fbt._("Add new item",null,{hk:"2Tc6p3"}),className:n,onClick:t,idle:e.idle,a8n:o})};var a=n(o(94184)),r=o(48360),i=(n(o(56720)),n(o(71452))),l=n(o(44356)),s=n(o(1784)),d=o(85893);const c={addIcon:{position:"g0rxnol2",width:"o22r6p4i",height:"dng4fqht",borderTop:"btoh1681",borderEnd:"sngpozrj",borderBottom:"c2eze1zb",borderStart:"bd2x2sk5",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"},"::before":{position:"jiaumjzp",top:"iu8zqbur",left:"c4kjmepz",display:"chh99fau",width:"ln1ej6zg",height:"i0a739jv",content:"ckfn5qle",backgroundColor:"t4c1fkc8",transform:"bsbo06yw"},"::after":{position:"tkubpkrc",top:"khfyavfg",left:"nly7wueh",display:"l1wvjj35",width:"dbiwaw4z",height:"l9a7srmz",content:"lw9p9708",backgroundColor:"sadoqatt",transform:"n2obx7p9"}}}},79174:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionIntegrityBanner=function(e){const{collection:t,onEditCollection:o}=e,n=(0,m.jsx)("div",{className:d.default.iconContainerRejected,children:(0,m.jsx)(p.default,{name:"info"})}),i=()=>{o&&o(t)},g=()=>{s.Cmd.openModal((0,m.jsx)(r.default,{collection:t}))};switch(t.reviewStatus){case h.PRODUCT_REVIEW_STATUS.PENDING:return(0,m.jsxs)("div",{className:d.default.pendingBanner,children:[a.fbt._("This collection is being reviewed. Once it’s approved, your customers will see it in your catalog.",null,{hk:"3DQb07"}),(0,m.jsx)("div",{className:d.default.iconContainerPending,children:(0,m.jsx)(p.default,{name:"info"})})]});case h.PRODUCT_REVIEW_STATUS.REJECTED:return(0,u.canAppealCollections)()?(()=>{const e=(t.rejectReason||"other_violation").toLowerCase(),o=(0,c.getRejectedCollectionCopy)(e,t.commerceUrl),r=(0,m.jsx)(l.default,{onClick:i,children:a.fbt._("rename the collection",null,{hk:"2j5eIB"})});if(t.canAppeal){const e=(0,m.jsx)(l.default,{onClick:g,children:a.fbt._("request another review",null,{hk:"2BSEoy"})}),t=(0,m.jsx)(f.default,{id:310,params:{rename_collection_link:r,request_another_review_link:e}});return(0,m.jsxs)("div",{className:d.default.rejectedBannerWithAppeal,children:[o.first,(0,m.jsx)("br",{}),t,n]})}{const e=(0,m.jsx)(f.default,{id:334,params:{rename_collection_link:r}});return(0,m.jsxs)("div",{className:d.default.rejectedBannerWithAppeal,children:[o.second,(0,m.jsx)("br",{}),e,n]})}})():(0,m.jsxs)("div",{className:d.default.rejectedBanner,children:[a.fbt._("This collection wasn’t approved because it doesn’t follow our guidelines.",null,{hk:"4bjvNq"}),(0,m.jsx)(l.default,{onClick:i,children:a.fbt._("Rename",null,{hk:"2U6ctb"})}),n]});default:return null}},t.getCollectionIntegrityHeight=function(e){return(0,u.canAppealCollections)()&&e.reviewStatus===h.PRODUCT_REVIEW_STATUS.REJECTED?2*i.PRODUCT_LIST_ITEM_HEIGHT+10:i.PRODUCT_LIST_ITEM_HEIGHT+10};var a=o(48360),r=n(o(5970)),i=o(64481),l=n(o(99360)),s=o(88102),d=n(o(75619)),c=o(41399),u=o(57701),f=n(o(56074)),h=o(5641),p=n(o(23217)),m=o(85893)},74259:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductDetail:t,onProductShare:o,onCartOpen:n,shareLinks:C,canManageCatalog:v}=e,[x,S]=(0,a.useState)(void 0),y=(0,g.useModelValues)(e.catalog,["productCollection","afterCursor","id","index"]),b=e=>{o&&o(e)};if(!y.productCollection||!y.productCollection.getProductModels(e.canManageCatalog).length)return null;return(0,_.jsx)(c.default,{flatListControllers:[e.flatListController],children:(0,_.jsx)(d.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=void 0!==n;return y.productCollection.getProductModels(v).map((t=>({itemKey:`${t.id.toString()}_${e.toString()}`,product:t})))})(),renderItem:e=>{const{product:o}=e;return(0,_.jsx)(s.DrawerContext.Consumer,{children:e=>{const a=(0,h.getProductCatalogContext)(e);return(0,_.jsx)(p.default,{product:o,onCartOpen:n,onClick:()=>((e,o)=>((0,f.logCatalogListDetailClick)({product:(0,m.unproxy)(e),catalogContext:o}),S(e.id.toString()),t(e)))(o,a),onProductShare:C?b:null,onProductDelete:e=>((e,t)=>{(0,r.handleProductDelete)(y,e,t,"Catalog").then((()=>{e.id===x&&(l.Cmd.closeDrawerMid(),S(void 0))}))})(e,a),onProductHideShow:e=>((e,t)=>{(0,r.handleProductVisibilityChange)(y,e,t,"Catalog")})(e,a),canManageCatalog:v})}})},defaultItemHeight:i.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:u.KeyOrder.INVERSE})})};var a=o(67294),r=o(47217),i=o(64481),l=o(88102),s=o(27394),d=o(47915),c=n(o(44942)),u=o(43882),f=o(77975),h=o(97567),p=n(o(88990)),m=o(31019),g=o(49082),_=o(85893)},10805:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o;const n=(0,f.default)(),[_,C]=(0,i.useState)({state:m.NOT_STARTED}),[v,x]=(0,i.useState)(e.existingPostcode),S=function(){var t=(0,a.default)((function*(){if("string"==typeof v){C({state:m.IN_PROGRESS});try{const t=yield(0,h.verifyPostcode)(e.catalogId,v);n()&&C({state:m.COMPLETED,data:t}),(null==t?void 0:t.success)&&(e.onSuccess(),l.Cmd.openToast((0,p.jsx)(u.Toast,{msg:r.fbt._("Postcode Updated",null,{hk:"JqNfH"}),id:(0,u.genId)()})))}catch(e){n()&&C({state:m.FAILED})}}}));return function(){return t.apply(this,arguments)}}(),y=(0,i.useCallback)((()=>C({state:m.NOT_STARTED})),[]),b=!!_.data&&!_.data.success&&_.data.postcodeError===h.VerifyPostcodeError.UNSERVICEABLE_POSTCODE;let j=null;(null===(t=_.data)||void 0===t?void 0:t.success)||(null===(o=_.data)||void 0===o?void 0:o.postcodeError)!==h.VerifyPostcodeError.INVALID_POSTCODE?"string"!=typeof v||0===v.length?j=r.fbt._("Postcode must not be empty",null,{hk:"3OZGho"}):0!==v.search("^[0-9]{6}$")&&(j=r.fbt._("Postcode must be six digits. For example 400001",null,{hk:"3PYeri"})):j=r.fbt._("Provided postcode is invalid",null,{hk:"1MOgzc"});const T=_.state===m.IN_PROGRESS;return(0,p.jsx)(s.default,{onOK:()=>{b?y():S()},title:b?null:r.fbt._("Change Pincode",null,{hk:"3R9hJZ"}),okDisabled:T||!!j,okSpinner:T,okText:b?r.fbt._("OK",null,{hk:"2sRDxR"}):r.fbt._("Enter",null,{hk:"3Qj2Bg"}),onCancel:b||T?null:e.onCancel,children:b?(0,p.jsx)(d.Text,{as:"p",children:r.fbt._("We are currently not delivering in this area.",null,{hk:"1ZEmzv"})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Text,{as:"p",xstyle:g.infoText,children:r.fbt._("To see items available in your area, enter your pincode.",null,{hk:"1QTxOy"})}),(0,p.jsx)(c.TextInput,{onChange:e=>{y(),x(e)},value:v,managed:!0,editable:_.state!==m.IN_PROGRESS,managedError:!0,selectOnMount:!0,focusOnMount:!0,error:j}),(0,p.jsx)(d.Text,{as:"p",theme:"muted",xstyle:g.privacyText,children:r.fbt._("This pincode and your phone number will be shared with JioMart.",null,{hk:"1lrs1z"})})]})})};var a=n(o(48926)),r=o(48360),i=o(67294),l=(n(o(56720)),o(88102)),s=n(o(52665)),d=o(13923),c=o(90011),u=o(50452),f=n(o(88624)),h=o(7799),p=o(85893);const m=o(54302).Mirrored(["NOT_STARTED","COMPLETED","FAILED","IN_PROGRESS"]),g={infoText:{fontSize:"enbbiyaj",lineHeight:"erpdyial",marginBottom:"t4zgqcuo"},privacyText:{fontSize:"f8jlpxt4",lineHeight:"q5jc98e4",marginTop:"iy2cu22y"}}},70988:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{postcode:t,postcodeCityName:o}={postcode:"123456",postcodeCityName:"Test city"};return(0,h.jsxs)("div",(0,a.default)((0,a.default)({className:(0,i.default)(p.container)},(0,l.accessibleClickableButtonProps)({onClick:()=>{d.Cmd.openModal((0,h.jsx)(s.default,{existingPostcode:t,catalogId:e.catalogId,onCancel:()=>d.Cmd.closeModal(),onSuccess:()=>d.Cmd.closeModal()}))}})),{},{children:[(0,h.jsx)("span",{className:(0,i.default)(p.svgWrapper),children:(0,h.jsx)(u.default,{name:"business-address"})}),(0,h.jsxs)(c.FlexColumn,{children:[(0,h.jsx)(f.Text,{as:"p",xstyle:p.postcodeDescription,children:r.fbt._("Items available in {postcode-of-a-geographic-area}",[r.fbt._param("postcode-of-a-geographic-area",t)],{hk:"2ZYFWA"})}),(0,h.jsx)(f.Text,{as:"p",xstyle:p.postcodeCityName,theme:"muted",children:o})]})]}))};var a=n(o(81109)),r=o(48360),i=n(o(56720)),l=o(55712),s=n(o(10805)),d=o(88102),c=o(29623),u=n(o(23217)),f=o(13923),h=o(85893);const p={container:{display:"p357zi0d",alignItems:"gndfcl4n",backgroundColor:"ihvf49ua",":hover":{backgroundColor:"os03hap6"}},svgWrapper:{paddingTop:"nlnf8xo7",paddingBottom:"r219jyu0",paddingStart:"sta02ykp",width:"i94gqilv",marginEnd:"oz083wsx",color:"kv0r5hzt"},postcodeDescription:{lineHeight:"erpdyial",fontSize:"enbbiyaj"},postcodeCityName:{lineHeight:"r5qsrrlp",fontSize:"f8jlpxt4"}}},54414:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalogId:t,setScrollOffset:o,onCartClick:n,onCatalogLinkClick:W,canManageCatalog:U,canLogQpl:H=!0,isPushed:G=!0,scrollOffset:q,autoUpdate:z,businessProfile:K,blockCartInterstitialFn:Q=(()=>!1),onAddProduct:Y,onProductDetail:$,onProductShare:J,onCollectionSeeAll:X,onEditCollection:Z,onOpenCollections:ee,onRemoveProduct:te,onOpenSettings:oe,onOpenMerchantDetailsForm:ne}=e,ae=(0,F.default)(),re=(0,L.default)(),ie=(0,N.default)(re,100),le=(0,R.default)((()=>new T.default)),se=(0,D.useModelValues)(e.contact,["id"]),de=(0,l.useMemo)((()=>c.CartCollection.findCart(se.id.toString())),[se.id]),[ce,ue]=(0,l.useState)(!1),[fe,he]=(0,l.useState)(null),[pe,me]=(0,l.useState)(de.itemCount),[ge,_e]=(0,l.useState)("NONE"),[Ce,ve]=(0,l.useState)(null),[xe,Se]=(0,l.useState)(null),[ye,be]=(0,l.useState)(!0),je=function(){var e=(0,a.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),be(!1)}));return function(){return e.apply(this,arguments)}}(),Te=(0,N.default)((()=>{re(),null==te||te()}),100),Pe=()=>{const e=H&&G,o=e?O.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0;f.CatalogCollection.find(t,{markerId:o}).then((t=>{if(ae.aborted)return;const o=new _.CatalogWithCollectionsDataSource(t,U||!1,h.PRODUCT_LIST_ITEM_HEIGHT,e),n=new _.CatalogListItemScrollHelper(o);he(t),ve(o),Se(n),_e("SUCCESS"),je(o).then((()=>{e&&M.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,M.QuickLogActionType.SUCCESS)})).catch((()=>{e&&M.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,M.QuickLogActionType.FAIL)})),(e=>{z&&null!=e&&(e.productCollection.on("add",ie),e.productCollection.on("remove",Te),e.collections.on("add",ie),e.collections.on("remove",ie))})(t),void 0!==q&&le.current.setScrollFromStart(q)})).catch((t=>{e&&M.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,M.QuickLogActionType.FAIL),(0,b.parseErrorState)(t,(e=>{_e(e),be(!1)}))}))},Ee=()=>{const e=de.itemCount;pe!==e&&me(e)};(0,l.useEffect)((()=>{Pe(),(0,v.default)(t).then((e=>{ue(e),e&&de.on("all",Ee)}))}),[]);const ke=(0,B.default)(((e,t)=>{o&&o(t.scrollTop),(null==xe?void 0:xe.willLoadMore(t))&&be(!0),null==xe||xe.onScroll(e,t).then((e=>{e&&be(!1)})).catch((e=>{throw be(!1),e}))}),100),Ie=()=>{(0,I.qplStartCartView)("Catalog"),null==n||n(se.id.toString())},we=()=>{fe&&W(fe,se)};return(0,V.jsxs)(x.default,{theme:"products",onDrop:e.onBack,children:[(0,V.jsx)(y.DrawerHeader,{title:i.fbt._("Catalog",null,{hk:"3YVOSV"}),type:e.headerType||y.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(()=>{const e=ce?Ie:void 0;return(0,V.jsx)(p.default,{onSendCatalog:we,onCartClick:e,cartCount:de.itemCount,catalogId:t.toString(),canManageCatalog:U,onOpenCollections:ee,onOpenMerchantDetailsForm:ne,onOpenSettings:oe})})(),focusBackOrCancel:!0}),(0,V.jsx)(S.default,{onScroll:e=>{ke(e,e.currentTarget)},flatListControllers:[le.current],children:(()=>{var e;const o=ce&&n?Ie:void 0;let a,l,c,f;if(U&&Y&&(a=(0,V.jsx)(d.default,{onClick:()=>Y(),theme:"collections",a8nText:"add-item"})),fe&&U&&Z){l=fe.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))?(0,V.jsx)(d.default,{onClick:()=>{Z(null)},theme:"collections",title:i.fbt._("Add new collection",null,{hk:"1DddmB"}),a8nText:"add-collection"}):null}return fe&&Ce?(c=(0,V.jsx)(w.default,{onCartOpen:o,onProductDetail:$,flatListController:le.current,catalog:fe,canManageCatalog:U,shareLinks:U,onProductShare:J,onCollectionSeeAll:X,data:Ce.getData(),onEditCollection:Z}),k.GK.supportsFeature(k.GK.F.MD_BACKEND)&&U&&((0,s.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&ce&&!Q()&&(0,u.default)(),f=(0,V.jsx)(m.default,{onOpenCollections:ee}))):c=(0,V.jsx)(j.default,{fetchState:ge}),(0,V.jsxs)(V.Fragment,{children:[K&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{"data-a8n":r.default.key("catalog-header"),className:C.default.header,children:(0,V.jsx)(A.default,{profilePicThumb:se.getProfilePicThumb(),contact:se,businessProfile:K})}),(0,E.enablePostcodeInCatalog)()&&!0===(null===(e=K.profileOptions)||void 0===e?void 0:e.directConnection)&&(0,V.jsx)(g.default,{catalogId:t})]}),(0,V.jsxs)("div",{"data-a8n":r.default.key("catalog-items"),className:C.default.list,children:[f,a,l,c,ye&&(0,V.jsx)(P.default,{})]})]})})()})]})};var a=n(o(48926)),r=n(o(99964)),i=o(48360),l=o(67294),s=o(86945),d=n(o(33889)),c=o(12392),u=n(o(13712)),f=o(99989),h=o(64481),p=n(o(44043)),m=n(o(92351)),g=n(o(70988)),_=o(71599),C=n(o(8902)),v=n(o(17986)),x=n(o(60453)),S=n(o(69637)),y=o(94790),b=o(14375),j=n(o(61055)),T=n(o(30855)),P=n(o(29796)),E=o(76059),k=o(7293),I=o(82145),w=n(o(44315)),A=n(o(62647)),M=o(48870),O=o(27798),N=n(o(81559)),L=n(o(59909)),R=n(o(59552)),D=o(49082),B=n(o(88857)),F=n(o(38080)),V=o(85893)},19829:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionContentDrawer=function(e){var t;const{catalogId:o,onCartClick:n,onCatalogLinkClick:D,setScrollOffset:B,canManageCatalog:F,scrollOffset:V,collection:W,onProductDetail:U,onProductShare:H,onEditCollection:G}=e,q=(0,A.default)(),z=(0,L.default)(),K=(0,i.useContext)(C.DrawerContext),Q=(0,N.useModelValues)(e.contact,["id"]),Y=(0,i.useMemo)((()=>s.CartCollection.findCart(Q.id.toString())),[Q.id]),$=(0,M.default)((()=>new y.default)),[J,X]=(0,i.useState)(!1),[Z,ee]=(0,i.useState)(null),[te,oe]=(0,i.useState)(Y.itemCount),[ne,ae]=(0,i.useState)("NONE"),[re,ie]=(0,i.useState)(null),[le,se]=(0,i.useState)(null),[de,ce]=(0,i.useState)(!0);(0,O.useListener)(null==W?void 0:W.productCollection,["add","remove"],q),(0,O.useListener)(null==Z?void 0:Z.productCollection,["add","remove"],q),(0,O.useListener)(null==Z?void 0:Z.collections,["add","remove"],q),(0,O.useListener)(W,["change:reviewStatus","canAppeal"],q);const ue=function(){var e=(0,a.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),ce(!1),(0,j.logCollectionSeeAllView)({catalogOwnerJid:o.toString(),catalogContext:(0,P.getProductCatalogContext)(K),collectionId:null==e?void 0:e.collectionId})}));return function(){return e.apply(this,arguments)}}(),fe=()=>{const e=Y.itemCount;te!==e&&oe(e)};(0,i.useEffect)((()=>{d.CatalogCollection.find(o).then((e=>{if(z.aborted)return;ee(e),ae("SUCCESS");const t=new f.SingleCollectionDataSource(e,null==W?void 0:W.id.toString(),F||!1,c.PRODUCT_LIST_ITEM_HEIGHT),o=new f.CatalogListItemScrollHelper(t);ie(t),se(o),ue(t).then((()=>{k.QPL.markerEnd(I.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,k.QuickLogActionType.SUCCESS)})).catch((()=>{k.QPL.markerEnd(I.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,k.QuickLogActionType.FAIL)})),void 0!==V&&$.current.setScrollFromStart(V)})).catch((e=>{k.QPL.markerEnd(I.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,k.QuickLogActionType.FAIL),(0,x.parseErrorState)(e,(e=>{ae(e),ce(!1)}))})),(0,h.default)(o).then((e=>{X(e),e&&Y.on("all",fe)}))}),[]);const he=()=>{(0,T.qplStartCartView)("Collection"),null==n||n(Q.id.toString())},pe=()=>{Z&&D(Z,Q)},me=(0,w.default)((e=>{const t=e.currentTarget;null==B||B(t.scrollTop),(null==le?void 0:le.willLoadMore(t))&&ce(!0),null==le||le.onScroll(e,t).then((e=>{e&&ce(!1)})).catch((e=>{throw ce(!1),e}))}),100),ge=(null===(t=e.collection)||void 0===t?void 0:t.name)||r.fbt._("All Items",null,{hk:"2x8dE2"});return(0,R.jsxs)(g.default,{theme:"products",onDrop:e.onBack,children:[(0,R.jsx)(v.DrawerHeader,{title:ge,type:e.headerType||v.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(0,R.jsx)(u.default,{onSendCatalog:pe,onCartClick:J?he:void 0,cartCount:Y.itemCount,catalogId:o.toString(),canManageCatalog:F})}),(0,R.jsx)(_.default,{flatListControllers:[$.current],onScroll:me,children:(()=>{const e=J&&n?he:void 0;if(!Z||!re)return(0,R.jsx)(S.default,{fetchState:ne});const t=re.getData();if(0===t.length&&!de&&F&&W)return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{className:p.default.list,children:[(0,R.jsx)(l.default,{theme:"collections",onClick:()=>{null==G||G(W)}}),(0,R.jsx)("div",{className:p.default.addItemsNotice,children:r.fbt._("This collection won’t be visible to customers until you add at least 1 item",null,{hk:"34nbHb"})})]})});const o=(0,R.jsx)(E.default,{onCartOpen:e,onProductDetail:U,flatListController:$.current,catalog:Z,canManageCatalog:F,shareLinks:F,onProductShare:H,collectionId:null==W?void 0:W.id.toString(),data:t}),a=W?(0,R.jsx)(m.CollectionIntegrityBanner,{collection:W,onEditCollection:G}):void 0;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{className:p.default.list,children:[a,o,de&&(0,R.jsx)(b.default,{})]})})})()})]})};var a=n(o(48926)),r=o(48360),i=o(67294),l=n(o(33889)),s=o(12392),d=o(99989),c=o(64481),u=n(o(44043)),f=o(71599),h=n(o(17986)),p=n(o(4056)),m=o(79174),g=n(o(60453)),_=n(o(69637)),C=o(27394),v=o(94790),x=o(14375),S=n(o(61055)),y=n(o(30855)),b=n(o(29796)),j=o(35054),T=o(82145),P=o(97567),E=n(o(44315)),k=o(48870),I=o(27798),w=n(o(81559)),A=n(o(59909)),M=n(o(59552)),O=o(19529),N=o(49082),L=n(o(38080)),R=o(85893)},36153:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t,onSeeAll:o,allItems:n}=e;let h,p;t?({name:h,id:p}=t):n&&(h=a.fbt._("All Items",null,{hk:"2x8dE2"}));const m=(0,f.jsx)(u.TextDiv,{className:l.default.collectionName,theme:"title",children:(0,f.jsx)(s.EmojiText,{text:h,ellipsify:!0,titlify:!0})});function g(e){!function(e){e.preventDefault(),e.stopPropagation()}(e),(0,d.qplStartCollectionViewAll)("Catalog"),o&&t?o(t):o&&o()}let _;if(t)switch(t.reviewStatus){case c.PRODUCT_REVIEW_STATUS.REJECTED:_=(0,f.jsx)("span",{className:l.default.reviewStateRejected,children:a.fbt._("rejected",null,{hk:"3f3H8P"})})}return(0,f.jsx)(r.default,{primary:m,secondary:_,detail:(0,f.jsx)(i.default,{onClick:g,className:l.default.seeAllLink,title:a.fbt._("Collection {collectionName}, see all",[a.fbt._param("collectionName",h)],{hk:"1kqerQ"}),tabIndex:0,children:a.fbt._("See all",null,{hk:"UPjou"})}),theme:"collection-header",idle:!0,className:l.default.collectionListItem},p)};var a=o(48360),r=n(o(44356)),i=n(o(99360)),l=n(o(24128)),s=o(65417),d=o(82145),c=o(5641),u=o(13923),f=o(85893)},41399:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPolicyLink=c,t.getRejectedCollectionCopy=function(e,t){let o;switch(e){case"drugs":return o=a.fbt._("WhatsApp's Commerce Policy for prescription, recreational, or other types of Drugs",null,{hk:"B27ED"}),{first:(0,d.jsx)(s.default,{id:303,params:{collections_rejected_policy_drugs:c(o,t)}}),second:(0,d.jsx)(s.default,{id:327,params:{collections_rejected_policy_drugs:c(o,t)}})};case"weapons":return o=a.fbt._("WhatsApp's Commerce Policy for Weapons, ammunition, or explosives",null,{hk:"1X972I"}),{first:(0,d.jsx)(s.default,{id:319,params:{collections_rejected_policy_weapons:c(o,t)}}),second:(0,d.jsx)(s.default,{id:343,params:{collections_rejected_policy_weapons:c(o,t)}})};case"animals":return o=a.fbt._("WhatsApp's Commerce Policy for Animals",null,{hk:"3hxXr8"}),{first:(0,d.jsx)(s.default,{id:298,params:{collections_rejected_policy_animals:c(o,t)}}),second:(0,d.jsx)(s.default,{id:322,params:{collections_rejected_policy_animals:c(o,t)}})};case"alcohol":return o=a.fbt._("WhatsApp's Commerce Policy for Alcohol",null,{hk:"1G8YGL"}),{first:(0,d.jsx)(s.default,{id:297,params:{collections_rejected_policy_alcohol:c(o,t)}}),second:(0,d.jsx)(s.default,{id:321,params:{collections_rejected_policy_alcohol:c(o,t)}})};case"gambling":return o=a.fbt._("WhatsApp's Commerce Policy for Real money gambling services",null,{hk:"1zQIeM"}),{first:(0,d.jsx)(s.default,{id:304,params:{collections_rejected_policy_gambling:c(o,t)}}),second:(0,d.jsx)(s.default,{id:328,params:{collections_rejected_policy_gambling:c(o,t)}})};case"tobacco":return o=a.fbt._("WhatsApp's Commerce Policy for Tobacco items and related paraphernalia",null,{hk:"EAQLL"}),{first:(0,d.jsx)(s.default,{id:317,params:{collections_rejected_policy_tobacco:c(o,t)}}),second:(0,d.jsx)(s.default,{id:341,params:{collections_rejected_policy_tobacco:c(o,t)}})};case"overtly_sexualized_positioning":return o=a.fbt._("WhatsApp's Commerce Policy for Overtly sexualized positioning",null,{hk:"1oaFbX"}),{first:(0,d.jsx)(s.default,{id:312,params:{collections_rejected_policy_overtly_sexualized_positioning:c(o,t)}}),second:(0,d.jsx)(s.default,{id:336,params:{collections_rejected_policy_overtly_sexualized_positioning:c(o,t)}})};case"adult":return o=a.fbt._("WhatsApp's Commerce Policy for Adult products or service",null,{hk:"Wf7q5"}),{first:(0,d.jsx)(s.default,{id:296,params:{collections_rejected_policy_adult:c(o,t)}}),second:(0,d.jsx)(s.default,{id:320,params:{collections_rejected_policy_adult:c(o,t)}})};case"supplements":return o=a.fbt._("WhatsApp's Commerce Policy for Unsafe ingestible supplements",null,{hk:"9a4Y2"}),{first:(0,d.jsx)(s.default,{id:315,params:{collections_rejected_policy_supplements:c(o,t)}}),second:(0,d.jsx)(s.default,{id:339,params:{collections_rejected_policy_supplements:c(o,t)}})};case"body_parts_fluids":return o=a.fbt._("WhatsApp's Commerce Policy for Body parts and fluids",null,{hk:"2EAd21"}),{first:(0,d.jsx)(s.default,{id:299,params:{collections_rejected_policy_body_parts_fluids:c(o,t)}}),second:(0,d.jsx)(s.default,{id:323,params:{collections_rejected_policy_body_parts_fluids:c(o,t)}})};case"healthcare":return o=a.fbt._("WhatsApp's Commerce Policy for Medical and healthcare products",null,{hk:"3vvgOF"}),{first:(0,d.jsx)(s.default,{id:306,params:{collections_rejected_policy_healthcare:c(o,t)}}),second:(0,d.jsx)(s.default,{id:330,params:{collections_rejected_policy_healthcare:c(o,t)}})};case"misleading":return o=a.fbt._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:(0,d.jsx)(s.default,{id:309,params:{collections_rejected_policy_misleading:c(o,t)}}),second:(0,d.jsx)(s.default,{id:333,params:{collections_rejected_policy_misleading:c(o,t)}})};case"real_fake_currency":return o=a.fbt._("WhatsApp's Commerce Policy for Real, virtual, or fake currency",null,{hk:"2XnVq2"}),{first:(0,d.jsx)(s.default,{id:313,params:{collections_rejected_policy_real_fake_currency:c(o,t)}}),second:(0,d.jsx)(s.default,{id:337,params:{collections_rejected_policy_real_fake_currency:c(o,t)}})};case"digital_services_products":return o=a.fbt._("WhatsApp's Commerce Policy for Digital and subscription services",null,{hk:"2mvwqB"}),{first:(0,d.jsx)(s.default,{id:301,params:{collections_rejected_policy_digital_services_products:c(o,t)}}),second:(0,d.jsx)(s.default,{id:325,params:{collections_rejected_policy_digital_services_products:c(o,t)}})};case"thrid_party_infringements":return o=a.fbt._("WhatsApp's Commerce Policy for Third-Party Infringement",null,{hk:"48SSD"}),{first:(0,d.jsx)(s.default,{id:316,params:{collections_rejected_policy_thrid_party_infringements:c(o,t)}}),second:(0,d.jsx)(s.default,{id:340,params:{collections_rejected_policy_thrid_party_infringements:c(o,t)}})};case"unauthorized_media":return o=a.fbt._("WhatsApp's Commerce Policy for Products or items that facilitate or encourage unauthorized access to digital media",null,{hk:"2ldhoF"}),{first:(0,d.jsx)(s.default,{id:318,params:{collections_rejected_policy_unauthorized_media:c(o,t)}}),second:(0,d.jsx)(s.default,{id:342,params:{collections_rejected_policy_unauthorized_media:c(o,t)}})};case"illegal_products":return o=a.fbt._("WhatsApp's Commerce Policy for Illegal products or services",null,{hk:"c5Zjc"}),{first:(0,d.jsx)(s.default,{id:308,params:{collections_rejected_policy_illegal_products:c(o,t)}}),second:(0,d.jsx)(s.default,{id:332,params:{collections_rejected_policy_illegal_products:c(o,t)}})};case"hazardous_goods_and_materials":return o=a.fbt._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:(0,d.jsx)(s.default,{id:305,params:{collections_rejected_policy_hazardous_goods_and_materials:c(o,t)}}),second:(0,d.jsx)(s.default,{id:329,params:{collections_rejected_policy_hazardous_goods_and_materials:c(o,t)}})};case"stolen_goods":return o=a.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,d.jsx)(s.default,{id:314,params:{collections_rejected_policy_stolen_goods:c(o,t)}}),second:(0,d.jsx)(s.default,{id:338,params:{collections_rejected_policy_stolen_goods:c(o,t)}})};case"human_exploitation_and_sexual_services":return o=a.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,d.jsx)(s.default,{id:307,params:{collections_rejected_policy_human_exploitation_and_sexual_services:c(o,t)}}),second:(0,d.jsx)(s.default,{id:331,params:{collections_rejected_policy_human_exploitation_and_sexual_services:c(o,t)}})};case"community_standards":return o=a.fbt._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:(0,d.jsx)(s.default,{id:300,params:{collections_rejected_policy_community_standards:c(o,t)}}),second:(0,d.jsx)(s.default,{id:324,params:{collections_rejected_policy_community_standards:c(o,t)}})};case"discrimination":return o=a.fbt._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:(0,d.jsx)(s.default,{id:302,params:{collections_rejected_policy_discrimination:c(o,t)}}),second:(0,d.jsx)(s.default,{id:326,params:{collections_rejected_policy_discrimination:c(o,t)}})};default:return o=a.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,d.jsx)(s.default,{id:311,params:{collections_rejected_policy_other_violation:c(o,t)}}),second:(0,d.jsx)(s.default,{id:335,params:{collections_rejected_policy_other_violation:c(o,t)}})}}};var a=o(48360),r=n(o(99360)),i=n(o(69618)),l=o(12591),s=n(o(56074)),d=o(85893);function c(e,t){const o=t||i.default.WA_COMMERCE_POLICY_URL;return(0,d.jsx)(r.default,{href:o,onClick:e=>{e.preventDefault(),(0,l.openExternalLink)(o)},children:e})}},35054:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCollectionCreateClicked=function(e){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATE_CLICKED,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionCreated=function(e){let{catalogContext:t,collectionId:o,productCount:n}=e;new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:n}).commit()},t.logCollectionDeleted=function(e){let{catalogContext:t,collectionId:o}=e;new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:o}).commit()},t.logCollectionItemsAssignment=function(e){let{catalogContext:t,collectionId:o,addedCount:n,removedCount:a}=e;n>0&&new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_ASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:n,collectionId:o}).commit();a>0&&new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_UNASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:a,collectionId:o}).commit()},t.logCollectionMenuClicked=function(e){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_MENU_COLLECTIONS_CLICK,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionRenamed=function(e){let{catalogContext:t,collectionId:o}=e;new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:o}).commit()},t.logCollectionSeeAllView=function(e){let{catalogOwnerJid:t,catalogContext:o,collectionId:n}=e;const d=(0,r.getProductStatsInFetched)(t,n),c=null==d?void 0:d.productIndex,u=null==d?void 0:d.collectionIndex;(0,s.createCatalogViewEvent)((0,a.default)({isOwner:(0,s.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_IMPRESSION,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_COLLECTION_IMPRESSION,productIndex:c,collectionIndex:u},(0,l.toDataForCatalogViewEvents)(o))).commit()};var a=n(o(81109)),r=o(71599),i=n(o(11339)),l=o(97567),s=o(14545)},44315:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(67294),r=o(47217),i=o(64481),l=o(79174),s=n(o(36153)),d=o(27394),c=o(47915),u=n(o(44942)),f=n(o(30855)),h=o(43882),p=o(84387),m=o(77975),g=o(82145),_=o(97567),C=n(o(88990)),v=o(5641),x=n(o(65932)),S=o(31019),y=n(o(90012)),b=o(85893);class j extends a.Component{constructor(e){super(e),this.attachedListeners=new Set,this._catalogFlatListController=new f.default,this.handleProductDetail=(e,t)=>{const{onProductDetail:o}=this.props;return(0,g.qplStartProductView)("Collection"),(0,m.logCatalogListDetailClick)({product:(0,S.unproxy)(e),catalogContext:(0,_.getProductCatalogContext)(this.context)}),o(e,t)},this.handleProductShare=e=>{const{onProductShare:t}=this.props;t&&t(e)},this.handleProductDelete=e=>{const{catalog:t}=this.props;(0,r.handleProductDelete)(t,e,(0,_.getProductCatalogContext)(this.context),"Collection")},this.handleProductHideShow=e=>{const{catalog:t}=this.props;(0,r.handleProductVisibilityChange)(t,e,(0,_.getProductCatalogContext)(this.context),"Collections")},this.renderItem=e=>{const{collection:t,product:o,allItems:n,reviewBanner:a,collectionId:r}=e,{onCartOpen:i,shareLinks:d}=this.props;return t?a?(0,b.jsx)(l.CollectionIntegrityBanner,{collection:t,onEditCollection:this.props.onEditCollection}):(0,b.jsx)(s.default,{collection:t,onSeeAll:this.props.onCollectionSeeAll}):n?(0,b.jsx)(s.default,{allItems:n,onSeeAll:this.props.onCollectionSeeAll}):o?(0,b.jsx)(C.default,{collectionId:r,product:o,onCartOpen:i,onClick:()=>this.handleProductDetail(o,r),onProductShare:d?this.handleProductShare:null,onProductDelete:this.handleProductDelete,onProductHideShow:this.handleProductHideShow,theme:"product-of-collection",canManageCatalog:this.props.canManageCatalog}):null},this.state={loadingMore:!1,stopLoading:!1,catalogFetchState:e.catalog?"SUCCESS":"NONE"}}getData(){const{onCartOpen:e}=this.props,t=void 0!==e,o=this.props.data||[],n=[];return o.forEach((e=>{const o=e.collection,a=e.product,r=e.allItems;if(o&&a){const e=o.id;n.push({itemKey:`${e.toString()}_${a.id.toString()}_${t.toString()}`,product:a,collectionId:e})}else if(o)this.attachedListeners.has(o.id)||(this.attachedListeners.add(o.id),this.props.listeners.add(o,"change:reviewStatus canAppeal",(()=>{this.forceUpdate()}))),n.push({itemKey:`${o.id.toString()}_${o.reviewStatus.toString()}`,collection:o}),o.reviewStatus!==v.PRODUCT_REVIEW_STATUS.PENDING&&o.reviewStatus!==v.PRODUCT_REVIEW_STATUS.REJECTED||n.push({itemKey:`${o.id.toString()}_reviewBanner`,collection:o,height:(0,l.getCollectionIntegrityHeight)(o),reviewBanner:!0});else if(r)n.push({itemKey:"view_all",allItems:r});else if(a){const e=this.props.collectionId||void 0;n.push({itemKey:`${a.id.toString()}_${t.toString()}`,product:a,collectionId:e})}})),n}render(){const e=this.getData();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(u.default,{flatListControllers:[this._catalogFlatListController],children:(0,b.jsx)(c.FlatList,{flatListController:this._catalogFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:e,renderItem:this.renderItem,defaultItemHeight:i.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:h.KeyOrder.INVERSE})})})}}j.CONCERNS={catalog:["productCollection","collections","afterCursor","id","index"]},j.contextType=d.DrawerContext,j.displayName="ProductCollectionsList";var T=(0,y.default)((0,p.ListenerHOC)((0,x.default)(j,j.CONCERNS)));t.default=T},70107:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{collectionId:o,onCartClick:n,onProductLinkClick:l,onProductMoreInformation:y,onBack:L,onProductCatalog:D,onProductDetail:K,refreshCarousel:Q,chat:Y,isPushed:$=!0}=e,J=(0,B.default)(),X=(0,U.default)(),Z=(0,d.useContext)(S.DrawerContext),ee=(0,W.useModelValues)(e.product,["id","catalogWid","productImageCollection","fetchedFromServer","name","availability","reviewStatus"]),[te,oe]=(0,d.useState)(null),[ne,ae]=(0,d.useState)(!1),[re,ie]=(0,d.useState)(null),[le,se]=(0,d.useState)("NONE"),[de,ce]=(0,d.useState)("NONE"),ue=(0,F.default)((()=>f.CartCollection.findCart(ee.catalogWid.toString())));(0,V.useListener)(ue.current,"change:cartItemCollection",J);const fe=()=>{if(L)return L()},he=()=>{const e=ee.catalogWid,t=ee.id.toString(),o=h.CatalogCollection.findProduct({catalogWid:e,productId:t,productMsgMediaData:(0,R.unproxy)(ee).productMsgMediaData,canLogQpl:$}),n=c.BusinessProfileCollection.find(e);let i=!0;return Promise.all([n,o]).then((e=>{let[t]=e;if(X.aborted)throw new a.AbortError;return i=!1,$&&(0,T.qplEndProductView)(O.QuickLogActionType.SUCCESS),oe(t),se("SUCCESS"),t})).then((e=>{"PENDING"===de&&((0,u.hasCatalog)(e)?(()=>{const e=ee.catalogWid;h.CatalogCollection.findCarouselCatalog(e).then((e=>{if(X.aborted)return;const t=Array.isArray(e)?e[0]:e;ie(t||null),ce(t?"SUCCESS":"NONE")})).catch((0,r.filteredCatch)(H.ServerStatusCodeError,(e=>{"not_found"===e.status||404===e.status?(ie(null),ce("NOT_FOUND")):(ie(null),ce("ERROR"),__LOG__(3)`Failed to fetch product catalog from server`)}))).catch((0,r.filteredCatch)(H.WebdDrop,(()=>{ie(null),ce("ERROR"),__LOG__(3)`Failed to fetch product catalog`})))})():ce("NONE"))})).catch((0,a.catchAbort)((()=>{}))).catch((0,r.filteredCatch)(H.E404,(()=>{fe(),g.Cmd.openModal((0,G.jsx)(_.default,{onOK:()=>{g.Cmd.closeModal()},okText:s.fbt._("OK",null,{hk:"2KEeHb"}),children:s.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),se("NOT_FOUND"),i=!1,(0,T.qplDropProductView)()}))).catch((0,r.filteredCatch)(H.WebdDrop,(()=>{se("ERROR"),__LOG__(3)`Failed to fetch product`}))).catch((0,r.filteredCatch)(H.ServerStatusCodeError,(()=>{se("ERROR"),__LOG__(3)`Failed to fetch product from server`}))).finally((()=>{$&&i&&(0,T.qplEndProductView)(O.QuickLogActionType.FAIL)}))};(0,d.useEffect)((()=>{if(Q){const e=h.CatalogCollection.get(ee.catalogWid);(null==e?void 0:e.productCollection)&&e.fetchedFromServer?ce("SUCCESS"):ce("PENDING")}const e=(0,b.getMaybeMeUser)();$&&(0,T.qplAnnotateProductView)(!(null==e?void 0:e.equals(ee.catalogWid)));const t=ee.catalogWid,n=ee.id.toString();if(t&&n)return he(),(0,m.default)(t).then((e=>{ae(e)})),(0,j.logProductDetailView)({product:(0,R.unproxy)(ee),catalogContext:(0,E.getProductCatalogContext)(Z),cartToggle:ne,collectionId:o}),()=>{const e=ee.catalogWid,t=ee.id.toString();if(!e||!t)return;const o=h.CatalogCollection.get(e),n=o&&o.msgProductCollection.get(t);(null==n?void 0:n.fetchedFromServer)&&o&&o.msgProductCollection.remove(n)};(0,T.qplDropProductView)()}),[]);const pe=()=>{(0,T.qplStartCartView)("Product"),n&&n(ee.catalogWid.toString())},me=()=>{g.Cmd.openModal((0,G.jsx)(N.default,{product:ee,sessionId:(0,E.getProductCatalogSessionId)(Z)}))},ge=()=>{l(ee)},_e=()=>{const e=ee,{catalogWid:t}=e,o=h.CatalogCollection.get(t);if(!o)return;const n=o.productCollection.get(e.id);g.Cmd.attachProduct({product:n?(0,R.unproxy)(n):(0,R.unproxy)(e)})},Ce=()=>{y(ee)},ve=()=>"ERROR"!==le&&"NOT_FOUND"!==le&&!(()=>{const{reviewStatus:e}=ee;return e===k.PRODUCT_REVIEW_STATUS.REJECTED})(),xe=ve(),Se=(0,u.hasCatalog)(te);return(0,G.jsxs)(v.default,{onDrop:fe,theme:"striped",children:[(0,G.jsx)(z,{renderDrawerMenu:()=>ve()?(0,G.jsx)(C.default,{onSendProduct:_e,onReportProduct:me,onProductLinkClick:ge,onProductMoreInformation:Ce,onCartClick:ne?pe:void 0,cartCount:ue.current.itemCount,catalogId:ee.catalogWid.toString(),contactId:null==Y?void 0:Y.contact.id.user}):null,handleBack:fe}),(0,G.jsx)(x.default,{children:(0,G.jsxs)("div",{"data-a8n":i.default.key("product-details"),className:I.default.body,children:[(0,G.jsx)(q,{productFetchState:le,productCatalogFetchState:de,isAvailable:xe}),(0,G.jsx)(A.default,{product:ee,isAvailable:xe,fetching:"PENDING"===le}),ee.availability===M.ProductAvailability.OUT_OF_STOCK?(0,G.jsx)("div",{className:I.default.availabilityBanner,children:s.fbt._("This item is out of stock.",null,{hk:"4gOwiz"})}):null,(0,G.jsx)(w.default,{product:ee,collectionId:o,onSendChat:()=>{const e=h.CatalogCollection.get(ee.catalogWid);(0,P.sendProductToChat)(ee,e,(0,E.getProductCatalogContext)(Z)),(0,j.logProductMessageBusinessClick)(ee,(0,E.getProductCatalogContext)(Z))},isAvailable:xe,hideRetailerID:null===(t=e.chat)||void 0===t?void 0:t.contact.isEnterprise}),Se&&re?(0,G.jsx)(p.default,{catalog:re,onProductCatalog:()=>{D&&D(ee.catalogWid,(0,E.getProductCatalogContext)(Z))},onProductDetail:e=>{if((0,T.qplStartProductView)("Product"),K)return K(e)},filterProductId:ee.id.toString(),title:s.fbt._("More",null,{hk:"2A3GqV"}),animation:!1}):null]})})]},"product-details-drawer")};var a=o(89385),r=o(50796),i=n(o(99964)),l=n(o(94184)),s=o(48360),d=o(67294),c=o(93581),u=o(94010),f=o(12392),h=o(99989),p=n(o(42953)),m=n(o(17986)),g=o(88102),_=n(o(52665)),C=n(o(11466)),v=n(o(60453)),x=n(o(69637)),S=o(27394),y=o(94790),b=o(99234),j=o(77975),T=o(82145),P=o(96519),E=o(97567),k=o(5641),I=n(o(71212)),w=n(o(16481)),A=n(o(33382)),M=o(6822),O=o(48870),N=n(o(79387)),L=o(11054),R=o(31019),D=o(13923),B=n(o(59909)),F=n(o(59552)),V=o(19529),W=o(49082),U=n(o(38080)),H=o(77591),G=o(85893);function q(e){let t,{productFetchState:o,productCatalogFetchState:n,isAvailable:a}=e;t="ERROR"===o?(0,G.jsx)(D.TextSpan,{className:I.default.text,theme:"small",color:"danger",children:s.fbt._("Something went wrong",null,{hk:"7C9hw"})}):a?[(0,G.jsx)(L.Spinner,{size:14,color:L.colorOptions.highlight},"DetailDrawer-loadingBar-spinner"),(0,G.jsx)(D.TextSpan,{className:(0,l.default)(I.default.text,I.default.loadingText),theme:"small",children:s.fbt._("Waiting for network",null,{hk:"3I2DtN"})},"DetailDrawer-loadingBar-msg")]:(0,G.jsx)(D.TextSpan,{className:I.default.text,theme:"small",color:"danger",children:s.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})});const r="PENDING"===o||"PENDING"===n||!a;return(0,G.jsx)("div",{className:(0,l.default)({[I.default.loadingContainer]:r,[I.default.shiftUp]:!r}),children:t})}function z(e){let{renderDrawerMenu:t,handleBack:o}=e;return(0,G.jsx)(y.DrawerHeader,{title:s.fbt._("Details",null,{hk:"1hLRT1"}),onBack:o,type:y.DRAWER_HEADER_TYPE.SMALL,menu:t()})}},16481:(e,t,o)=>{"use strict";var n=o(20862),a=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collectionId:t,onSendChat:o,isAvailable:n}=e,a=(0,l.useContext)(h.DrawerContext),A=(0,I.useModelValues)(e.product,["name","url","description","availability","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","fetchedFromServer","retailerId","catalogWid","productImageCollection","imageHash","reviewStatus","imageCdnUrl","id"]),[M,O]=(0,l.useState)(!1),[N,L]=(0,l.useState)(!1);(0,l.useEffect)((()=>{(0,u.default)(A.catalogWid).then((e=>{L(e)}))}),[]);const R=e=>{T.QPL.markerStart(P.QuickLogMarkerId.WHATSAPP_CART_ADD,{string:{EntryPoint:"Product"}}),(0,s.default)(A,(0,x.getProductCatalogContext)(a),t),e.stopPropagation()},D=()=>{O(!0)},B=e=>{if(!A.fetchedFromServer||!e||!n)return null;const t=_.Configuration.TrustedGroupDesc({links:C.findLinks(e)});return(0,w.jsx)("div",{children:(0,w.jsx)(m.EmojiText,{selectable:!0,formatters:t,text:e,onClick:t=>((e,t)=>{e.stopPropagation(),(0,v.logDetailLinkClick)({product:(0,E.unproxy)(A),catalogContext:(0,x.getProductCatalogContext)(a)});const o=t&&C.findLink(t);o&&(0,g.openExternalLink)(o.url)})(t,e)})})};return(0,w.jsxs)(p.default,{theme:"padding-product",animation:!1,children:[(0,w.jsx)(k.TextDiv,{theme:"title",className:y.default.name,children:(0,w.jsx)(m.EmojiText,{text:A.name,selectable:!0})}),null!=A.priceAmount1000?(0,w.jsx)(k.TextDiv,{className:y.default.price,color:"dark",theme:"plain",children:(0,w.jsx)(b.default,{product:A,selectable:!0,direction:"inherit"})}):null,(()=>{if(!A.description&&!A.url&&!A.retailerId)return null;const t=!!A.description&&A.description.length>f.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH;let o;return A.description&&(o=(0,w.jsxs)("div",{children:[(0,w.jsx)(m.EmojiText,{selectable:!0,multiline:!0,text:A.description,textLimit:M?1/0:f.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),t&&!M?(0,w.jsxs)("span",{className:y.default.more,role:"button",onClick:D,children:[" ",i.fbt._("Read more",null,{hk:"2DvSvh"})]}):null]})),(0,w.jsxs)(k.TextDiv,{theme:"plain",className:y.default.description,children:[o,B(A.url),A.retailerId&&!e.hideRetailerID?(0,w.jsx)("div",{children:(0,w.jsx)(m.EmojiText,{text:A.retailerId,selectable:!0,direction:"inherit"})}):null]})})(),(()=>{if(!o||!A.fetchedFromServer||!n||A.reviewStatus!==S.PRODUCT_REVIEW_STATUS.APPROVED)return null;const e=i.fbt._("Message Business",null,{hk:"2JrycU"});return(0,w.jsx)("div",{className:y.default.buttonContainer,title:e,children:(0,w.jsx)(c.default,{a8nText:"product-message-business-btn",className:y.default.button,onClick:o,type:"secondary",children:e})})})(),(()=>{if(!N||!A.fetchedFromServer||!n||A.reviewStatus!==S.PRODUCT_REVIEW_STATUS.APPROVED)return null;const e=i.fbt._("Add to cart",null,{hk:"2qbS08"}),t=A.availability===j.ProductAvailability.OUT_OF_STOCK;return(0,w.jsx)("div",{className:y.default.buttonContainer,title:e,children:(0,w.jsx)(c.default,{a8nText:"add-to-cart-btn",className:(0,r.default)(y.default.button,y.default.addToCartButton),onClick:R,type:"secondary",disabled:t,children:(0,w.jsxs)("span",{className:y.default.addToCartContainer,children:[(0,w.jsx)(d.default,{className:(0,r.default)(y.default.addToCartIcon,{[y.default.addToCartIconDisabled]:t})}),e]})})})})()]})};var r=a(o(94184)),i=o(48360),l=o(67294),s=a(o(31892)),d=a(o(24170)),c=a(o(39770)),u=a(o(17986)),f=a(o(69618)),h=o(27394),p=a(o(33308)),m=o(65417),g=o(12591),_=o(5124),C=n(o(86688)),v=o(77975),x=o(97567),S=o(5641),y=a(o(40305)),b=a(o(62089)),j=o(6822),T=o(48870),P=o(27798),E=o(31019),k=o(13923),I=o(49082),w=o(85893)},79188:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsWithDeepLink=function(e){const{isPushed:t=!0,productInfo:{productId:o,businessOwnerJid:n},onBack:S}=e,[y,b]=(0,l.useState)((()=>(0,g.default)({productId:o,businessOwnerJid:n}))),[j,T]=(0,l.useState)((()=>y?"NONE":"PENDING"));if((0,l.useEffect)((()=>{y||(()=>{const e=(0,v.createWid)(n);s.CatalogCollection.findProduct({catalogWid:e,productId:o}).then((()=>{const t=s.CatalogCollection.get(e);b((0,r.default)(t,"catalog").productCollection.get(o)),T("SUCCESS")})).catch((0,a.filteredCatch)(C.E404,(()=>{S(),d.Cmd.openModal((0,x.jsx)(c.default,{onOK:()=>{d.Cmd.closeModal()},okText:i.fbt._("OK",null,{hk:"2KEeHb"}),children:i.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),T("ERROR")}))).catch((e=>{(0,p.parseErrorState)(e,(e=>{T(e)}))}))})()}),[]),y)return(0,x.jsx)(_.default,{chat:e.chat,isPushed:t,product:y,onEnd:e.onEnd,onBack:e.onBack,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalog,refreshCarousel:!0,onProductLinkClick:e.onProductLinkClick,onProductMoreInformation:e.onProductMoreInformation,onCartClick:e.onCartClick});return(0,x.jsxs)(u.default,{onDrop:e.onBack,children:[(0,x.jsx)(h.DrawerHeader,{a8n:"drawer-title-profile",title:i.fbt._("Details",null,{hk:"1hLRT1"}),onBack:e.onBack,type:h.DRAWER_HEADER_TYPE.SMALL}),(0,x.jsx)(f.default,{children:(0,x.jsx)(m.default,{fetchState:j})})]},"product-details-drawer")};var a=o(50796),r=n(o(45095)),i=o(48360),l=o(67294),s=o(99989),d=o(88102),c=n(o(52665)),u=n(o(60453)),f=n(o(69637)),h=o(94790),p=o(14375),m=n(o(61055)),g=n(o(26218)),_=n(o(70107)),C=o(77591),v=o(58021),x=o(85893)},54050:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t,onCancel:o,product:n,prompt:a,centerDrawer:v,sendProductMsg:k,onSend:I}=e,w=(0,i.useContext)(f.DrawerContext),A=()=>{s.Cmd.openModal((0,T.jsx)(y.default,{product:n,onSend:I}),{transition:"modal-flow"}),(0,g.logShareProductViaWALinkClick)({product:n,catalogContext:(0,_.getProductCatalogContext)(w)})},M=()=>{s.Cmd.attachProduct({product:(0,j.unproxy)(n),onSend:I})},O=(0,b.createProductLink)(n.catalogWid.user,n.id.toString());let N,L,R;v&&(N="labels",L="center-column");R=null!=k?(0,T.jsx)(S.default,{onClick:M}):(0,T.jsx)(x.default,{onClick:A});return(0,T.jsxs)(c.default,{theme:N,children:[(0,T.jsx)(h.DrawerHeader,{a8n:"product-link-title",title:r.fbt._("Product link",null,{hk:"1RIlvV"}),onBack:t,onCancel:o,type:h.DRAWER_HEADER_TYPE.SMALL,focusBackOrCancel:!0}),(0,T.jsxs)(u.default,{theme:L,children:[(0,T.jsx)("div",{className:C.default.prompt,children:a}),(0,T.jsx)(l.default,{image:E(n),primary:(0,T.jsx)(p.EmojiText,{text:n.name,direction:"auto"}),theme:"identity",secondary:(0,T.jsx)(m.default,{id:P,href:O,onClick:e=>{e.preventDefault(),A()},noHandle:!0})}),R,(0,T.jsx)(d.default,{elementId:P,onClick:()=>{(0,g.logShareProductCopyLinkClick)({product:n,catalogContext:(0,_.getProductCatalogContext)(w)})}})]})]},"product-link-drawer")};var a=n(o(94184)),r=o(48360),i=o(67294),l=n(o(44356)),s=o(88102),d=n(o(26609)),c=n(o(60453)),u=n(o(69637)),f=o(27394),h=o(94790),p=o(65417),m=n(o(786)),g=o(77975),_=o(97567),C=n(o(15475)),v=o(3013),x=n(o(51628)),S=n(o(23358)),y=n(o(38216)),b=o(61358),j=o(31019),T=o(85893);const P="product-link-anchor";function E(e){const t=e.getProductImageCollectionHead();return t?(0,T.jsx)(v.ProductThumb,{className:(0,a.default)(C.default.productImage,C.default.productImageContainer),mediaData:t.mediaData}):(0,T.jsx)(v.ProductThumbPlaceholder,{className:(0,a.default)(C.default.productThumb,C.default.productThumbContainer)})}},11395:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductListDrawer=function(e){const{catalogId:t,canManageCatalog:o,setScrollOffset:n,onCartClick:Y,onCatalogLinkClick:$,autoUpdate:J=!1,businessProfile:X,onAddProduct:Z,onProductDetail:ee,onProductShare:te,headerType:oe,onOpenSettings:ne,blockCartInterstitialFn:ae=(()=>!1)}=e,re=(0,z.default)(),ie=(0,s.useContext)(v.DrawerContext),le=(0,W.default)(),se=(0,V.default)(le,100),de=(0,G.useModelValues)(e.contact,["id"]),ce=(0,U.default)((()=>new T.default)),ue=()=>{const e=p.CatalogCollection.get(t);return!e||e.stale?null:e},fe=(0,s.useMemo)((()=>u.CartCollection.findCart(de.id.toString())),[de.id]),[he,pe]=(0,s.useState)(!1),[me,ge]=(0,s.useState)(0),[_e,Ce]=(0,s.useState)(!1),[ve,xe]=(0,s.useState)(!1),[Se,ye]=(0,s.useState)(ue),[be,je]=(0,s.useState)((()=>fe.itemCount)),[Te,Pe]=(0,s.useState)((()=>ue()?"SUCCESS":"NONE"));(0,H.useListener)(fe,"all",(()=>{const e=fe.itemCount;be!==e&&je(e)}));const Ee=()=>{if(_e)return;const e=p.CatalogCollection.assertGet(t);if(!e.afterCursor)return;const o=e.productCollection.getProductModels().length;pe(!0),ge(o),p.CatalogCollection.update(t).then((e=>{if(re.aborted)return;pe(!1);(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===me&&Ce(!0),o*m.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&Ee()})).catch((()=>{pe(!1),Ce(!0)}))},ke=(0,V.default)((()=>{var t;null===(t=e.onRemoveProduct)||void 0===t||t.call(e),le()}),100),Ie=J?null==Se?void 0:Se.productCollection:null;(0,H.useListener)(Ie,"add",se),(0,H.useListener)(Ie,"remove",ke);(0,s.useEffect)((()=>{(0,A.logCatalogListView)({catalogOwnerWid:t,catalogContext:(0,N.getProductCatalogContext)(ie),cartToggle:ve}),Se?Ee():p.CatalogCollection.find(t).then((e=>{ye(e),Pe("SUCCESS"),Ee()})).catch((0,a.filteredCatch)(K.ServerStatusCodeError,(e=>{403!==e.status&&404!==e.status||(ye(null),Pe("NOT_FOUND"))}))).catch((e=>{(0,b.parseErrorState)(e,(e=>Pe(e)))})),(0,g.default)(t).then((e=>{xe(e),E.GK.supportsFeature(E.GK.F.MD_BACKEND)&&o&&ve&&!ae()&&(0,d.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&(0,h.default)()}))}),[]);const we=(0,q.default)((e=>{he||e.scrollTop+i.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&Ee()}),100),Ae=()=>{null==Y||Y(de.id.toString())},Me=()=>{Se&&($(Se,de),(0,A.logCatalogShareLinkClick)({catalogOwnerWid:t,catalogContext:(0,N.getProductCatalogContext)(ie)}))},Oe=()=>{if(ve&&Y){const e=(0,F.isNumber)(be)&&be>0?be.toString():void 0,o=(0,M.getOnCartClickWithLog)(Ae,t.toString(),(0,N.getProductCatalogContext)(ie));return(0,Q.jsx)(O.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,Q.jsx)(f.default,{theme:oe===x.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),text:e,title:l.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:o})}return null};return(0,Q.jsxs)(_.default,{theme:"products",onDrop:e.onBack,children:[(0,Q.jsx)(x.DrawerHeader,{title:l.fbt._("Catalog",null,{hk:"3YVOSV"}),type:e.headerType||x.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(()=>{const e=o&&(0,k.canToggleCartOnOff)()?(0,Q.jsx)(O.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,Q.jsx)(B.default,{name:"menu"}),title:I.default.t(621),children:(0,Q.jsxs)(S.Dropdown,{type:"dropdown_menu",flipOnRTL:!0,dirX:S.DirX.LEFT,children:[(0,Q.jsx)(y.DropdownItem,{a8n:"mi-foward menu-item",action:Me,children:I.default.t(470)}),ne&&(0,Q.jsx)(y.DropdownItem,{a8n:"mi-settings menu-item",action:ne,children:l.fbt._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,Q.jsx)(O.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,Q.jsx)(w.default,{theme:oe===x.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),title:l.fbt._("Catalog link",null,{hk:"M36Dw"}),onClick:Me});return(0,Q.jsxs)(Q.Fragment,{children:[Oe(),e]})})(),focusBackOrCancel:!0}),(0,Q.jsx)(C.default,{onScroll:e=>{var t,o;e.currentTarget&&we(e.currentTarget),null==n||n(null!==(t=null===(o=e.currentTarget)||void 0===o?void 0:o.scrollTop)&&void 0!==t?t:0)},flatListControllers:[ce.current],scrollOffset:e.scrollOffset,children:(()=>{const e=ve&&Y?Ae:void 0;if(!Se)return(0,Q.jsx)(j.default,{fetchState:Te});let t;return o&&Z&&(t=(0,Q.jsx)(c.default,{onClick:()=>Z(),theme:"in-list"})),(0,Q.jsxs)(Q.Fragment,{children:[X&&(0,Q.jsx)("div",{"data-a8n":r.default.key("catalog-header"),className:R.default.header,children:(0,Q.jsx)(D.default,{profilePicThumb:de.getProfilePicThumb(),contact:de,businessProfile:X})}),(0,Q.jsxs)("div",{"data-a8n":r.default.key("catalog-items"),className:R.default.list,children:[t,(0,Q.jsx)(L.default,{onCartOpen:e,onProductDetail:ee,flatListController:ce.current,catalog:Se,canManageCatalog:o,shareLinks:o,onProductShare:te}),he&&(0,Q.jsx)(P.default,{})]})]})})()})]})};var a=o(50796),r=n(o(99964)),i=o(41906),l=o(48360),s=o(67294),d=o(86945),c=n(o(33889)),u=o(12392),f=n(o(51070)),h=n(o(13712)),p=o(99989),m=o(64481),g=n(o(17986)),_=n(o(60453)),C=n(o(69637)),v=o(27394),x=o(94790),S=o(60811),y=o(71174),b=o(14375),j=n(o(61055)),T=n(o(30855)),P=n(o(29796)),E=o(7293),k=o(57701),I=n(o(43725)),w=n(o(62371)),A=o(77975),M=o(88571),O=o(46346),N=o(97567),L=n(o(74259)),R=n(o(32967)),D=n(o(62647)),B=n(o(23217)),F=o(31515),V=n(o(81559)),W=n(o(59909)),U=n(o(59552)),H=o(19529),G=o(49082),q=n(o(88857)),z=n(o(38080)),K=o(77591),Q=o(85893)},62647:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.useOptionalModelValues)(e.profilePicThumb,["imgFull"]),o=(0,d.useModelValues)(e.contact,["id","isMe"]),n=(0,d.useOptionalModelValues)(e.businessProfile,["description"]);return(0,c.jsxs)("div",{className:l.default.header,"data-testid":"product-list-header",children:[(()=>{if(!t)return null;const e=(0,a.getDefaultIcon)(o.id);return(0,c.jsx)("div",{className:l.default.photo,children:(0,c.jsx)(a.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:e,profilePicThumbImg:t.imgFull,spinnerClassName:l.default.spinner,imgClassName:l.default.img,theme:"business"})})})(),(0,c.jsxs)("div",{className:l.default.text,children:[(0,c.jsx)(s.TextDiv,{className:l.default.name,theme:"large",children:(0,c.jsx)(i.Name,{contact:o,selectable:!0,useVerifiedName:!0})}),n&&n.description?(0,c.jsx)("div",{className:l.default.description,children:(0,c.jsx)(r.EmojiText,{text:n.description,direction:"auto",selectable:!0,titlify:!0})}):null]})]})};var a=o(88984),r=o(65417),i=o(12176),l=n(o(23978)),s=o(13923),d=o(49082),c=o(85893)},77776:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t}=e,o=(0,C.useModelValues)(e.product,["id","catalogWid"]),[n,S]=(0,s.useState)({}),[y,b]=(0,s.useState)(""),[j,T]=(0,s.useState)(""),[P,E]=(0,s.useState)(!0),k=e=>{var t,o;return(null===(t=e.complianceInfo)||void 0===t?void 0:t.countryCodeOrigin)===String(h.SyntheticCountryCode.NotApplicable)?Promise.resolve((0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:(0,d.default)(x),children:l.fbt._("Not Applicable",null,{hk:"2k1klN"})}),(0,v.jsx)("div",{children:l.fbt._("Item is a service or non-physical good",null,{hk:"3uDBY7"})})]})):(0,h.getCountryName)(null===(o=e.complianceInfo)||void 0===o?void 0:o.countryCodeOrigin)};(0,s.useEffect)((()=>{function e(){return(e=(0,r.default)((function*(){yield c.CatalogCollection.findProduct({catalogWid:o.catalogWid,productId:o.id.toString(),productMsgMediaData:(0,_.unproxy)(o).productMsgMediaData,shouldFetchComplianceFields:!0});const e=c.CatalogCollection.get(o.catalogWid),t=(0,i.default)(e,"catalog").productCollection.get(o.id);if(t){var n,a,r,l,s,d,u,f,p,m,g,C,v,x;const e=yield k(t),o=yield(0,h.getCountryName)(null===(n=t.complianceInfo)||void 0===n||null===(a=n.importerAddress)||void 0===a?void 0:a.countryCode),i={importerName:(null===(r=t.complianceInfo)||void 0===r?void 0:r.importerName)||"",countryCodeOrigin:(null===(l=t.complianceInfo)||void 0===l?void 0:l.countryCodeOrigin)||"",importerAddress:{street1:(null===(s=t.complianceInfo)||void 0===s||null===(d=s.importerAddress)||void 0===d?void 0:d.street1)||"",street2:(null===(u=t.complianceInfo)||void 0===u||null===(f=u.importerAddress)||void 0===f?void 0:f.street2)||"",city:(null===(p=t.complianceInfo)||void 0===p||null===(m=p.importerAddress)||void 0===m?void 0:m.city)||"",region:(null===(g=t.complianceInfo)||void 0===g||null===(C=g.importerAddress)||void 0===C?void 0:C.region)||"",postalCode:(null===(v=t.complianceInfo)||void 0===v||null===(x=v.importerAddress)||void 0===x?void 0:x.postalCode)||""}};S(i),E(!1),b(e),T(o)}else __LOG__(3)`Unable to fetch compliance for product: ${o.id}`}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);const I=()=>{if(t)return t()},{countryCodeOrigin:w,importerName:A,importerAddress:M}=n;return(0,v.jsxs)(p.default,{onDrop:I,theme:"striped",children:[(0,v.jsx)(g.DrawerHeader,{a8n:"drawer-title-profile",title:l.fbt._("More information",null,{hk:"2JHvi1"}),onBack:I,type:g.DRAWER_HEADER_TYPE.SMALL}),(0,v.jsx)(m.default,{theme:P?"center-content":void 0,children:P?(0,v.jsx)(f.ComplianceInfoLoading,{}):(0,v.jsxs)(f.ComplianceInfoGroup,{children:[(0,v.jsx)(f.ComplianceInfoPrimitiveField,{value:y,label:l.fbt._("Country of Origin",null,{hk:"2yl0F7"})}),w&&![u.COMPLIANCE_INFO_CODES.INDIA,h.SyntheticCountryCode.NotApplicable].includes(w)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.ComplianceInfoPrimitiveField,{value:A,label:l.fbt._("Name of Importer",null,{hk:"3gfW35"})}),(0,v.jsx)(f.ComplianceInfoStructuralField,{valuesMap:(0,a.default)({importerAddressCountryNameOrigin:j},M),keys:["street1","street2","city","region","postalCode","importerAddressCountryNameOrigin"],label:l.fbt._("Address of Importer",null,{hk:"Kxo8I"})})]}):null]})})]},"product-details-drawer")};var a=n(o(81109)),r=n(o(48926)),i=n(o(45095)),l=o(48360),s=o(67294),d=n(o(56720)),c=o(99989),u=o(24915),f=o(27105),h=o(9978),p=n(o(60453)),m=n(o(69637)),g=o(94790),_=o(31019),C=o(49082),v=o(85893);const x={marginBottom:"ngycyvoj"}},33382:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{isAvailable:t,fetching:o}=e,n=(0,a.useContext)(i.DrawerContext),p=(0,f.useModelValues)(e.product,["productImageCollection","productMsgMediaData","catalogWid","imageCdnUrl"]),m=p.lazyloadProductImageCollection().toArray();return(0,h.jsx)("div",{className:c.default.imageCarouselContainer,children:(0,h.jsx)(l.default,{images:m,fetching:o,onClick:t?(e,t)=>{(0,s.logDetailImageClick)({product:(0,u.unproxy)(p),catalogContext:(0,d.getProductCatalogContext)(n)});const o={activeProductImage:t,productImageCollection:p.lazyloadProductImageCollection(),getZoomNode:()=>e,product:p};r.Cmd.productImageViewerModal(o,(0,d.getProductCatalogSessionId)(n))}:null,renderFallback:!t,fallbackMediaData:p.productMsgMediaData})})};var a=o(67294),r=o(88102),i=o(27394),l=n(o(98046)),s=o(77975),d=o(97567),c=n(o(66990)),u=o(31019),f=o(49082),h=o(85893)},97802:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onPopupCancel:t,onReport:o,onTellUsMore:n}=e,c=a.fbt._("Report this product?",null,{hk:"3IDG0p"}),u=(0,d.jsx)("div",{children:a.fbt._("We will review the product and if it does not meet our guidelines, it will be removed.",null,{hk:"2CRdfl"})},"ReportProductChoicePopup-desc"),f=(0,d.jsx)(r.default,{a8nText:"popup-controls-more",type:"secondary",onClick:n,children:a.fbt._("Tell Us More",null,{hk:"2CkelY"})},"ReportProductChoicePopup-moreBtn"),h=(0,d.jsx)(r.default,{a8nText:"popup-controls-report",type:"secondary",onClick:()=>o(),children:a.fbt._("Report Product",null,{hk:"3XLjyb"})},"ReportProductChoicePopup-reportBtn"),p=(0,d.jsx)(r.default,{type:"secondary",onClick:t,children:a.fbt._("Cancel",null,{hk:"H0gNq"})},0),m=(0,d.jsxs)("div",{className:s.default.buttons,children:[(0,d.jsx)("div",{className:s.default.button,children:f}),(0,d.jsx)("div",{className:s.default.button,children:h}),(0,d.jsx)("div",{className:s.default.button,children:p})]});return(0,d.jsx)(i.HotKeys,{handlers:{escape:t},children:(0,d.jsx)(l.Modal,{title:c,actions:m,children:u})})};var a=o(48360),r=n(o(39770)),i=o(55414),l=o(57224),s=n(o(73738)),d=o(85893)},79387:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(48360),r=o(46331),i=o(88102),l=n(o(32973)),s=o(77975),d=o(96519),c=o(48870),u=o(27798),f=n(o(97802)),h=n(o(14819)),p=o(31019),m=o(85893);class g extends l.default{constructor(){var e;super(...arguments),e=this,this._submitReason=e=>{const{product:t,sessionId:o}=this.props;return(0,s.logReportProduct)({product:(0,p.unproxy)(t),catalogSessionId:o}),(0,d.reportProduct)(t.catalogWid,t.id.toString(),e)},this.onDelete=()=>{this.end()},this.onReport=e=>{c.QPL.markerStart(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT),this._onShowSubmittedToast(e)},this.onTellUsMore=()=>{this.push((0,m.jsx)(h.default,{onTellUsMoreSubmit:this.onReport,onCancel:this.onCancel}),"none")},this.onPopupCancel=()=>{this.end()},this.onCancel=()=>{this.end()},this._onReportSubmitted=()=>{this.end()},this._onShowSubmittedToast=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.genId)();const{product:n,sessionId:l}=e.props,d=e._submitReason(t),f=new r.ActionType(a.fbt._("Reporting product",null,{hk:"4qusYv"})),h=d.then((()=>((0,s.logReportProductSuccess)({product:(0,p.unproxy)(n),catalogSessionId:l}),c.QPL.markerEnd(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,c.QuickLogActionType.SUCCESS),new r.ActionType(a.fbt._("Thanks for your feedback",null,{hk:"1vRsPv"}).toString()+". "+a.fbt._("Your report has now been submitted.",null,{hk:"40tL3T"}).toString())))).catch((()=>((0,s.logReportProductFailure)({product:(0,p.unproxy)(n),catalogSessionId:l}),c.QPL.markerEnd(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,c.QuickLogActionType.FAIL),__LOG__(3)`error submitting product report`,new r.ActionType(a.fbt._("Couldn't report product",null,{hk:"11JN2U"}),{actionText:a.fbt._("Retry",null,{hk:"2jS9Tg"}),actionHandler:()=>e._onShowSubmittedToast(t,o)}))));return i.Cmd.openToast((0,m.jsx)(r.ActionToast,{id:o,initialAction:f,pendingAction:h})),e._onReportSubmitted(),d}}componentDidMount(){this.push((0,m.jsx)(f.default,{onTellUsMore:this.onTellUsMore,onReport:this.onReport,onPopupCancel:this.onPopupCancel,onCancel:this.onCancel}))}}t.default=g},14819:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCancel:t,onTellUsMoreSubmit:o}=e,[n,g]=(0,i.useState)(null),_=()=>{t&&t()},C=e=>{e.target.value&&g(e.target.value)},v=r.fbt._("Tell us more",null,{hk:"2fZHoO"}),x=(0,h.jsx)("div",{className:(0,a.default)(u.default.section),children:(0,h.jsx)("ul",{className:u.default.reasonList,children:p.map((e=>(0,h.jsx)("li",{children:(0,h.jsxs)("label",{className:u.default.label,children:[(0,h.jsx)("input",{type:"radio",name:e,value:e,onChange:C,className:u.default.input,checked:e===n}),(0,h.jsx)(m,{reason:e})]})},`ReportProductReasonPopup-${e}-option`)))})}),S=(0,h.jsx)(l.default,{a8nText:"popup-controls-submit",type:"primary",onClick:()=>{n?o(n):s.Cmd.openToast((0,h.jsx)(f.Toast,{msg:r.fbt._("Please select a reason.",null,{hk:"3UgUaa"}),id:(0,f.genId)()}))},disabled:!n,children:r.fbt._("Submit",null,{hk:"3npRPm"})},"ReportProductReasonPopup-submitButton"),y=(0,h.jsx)(l.default,{type:"secondary",a8nText:"popup-controls-cancel",onClick:_,children:r.fbt._("Cancel",null,{hk:"H0gNq"})},"ReportProductReasonPopup-cancelButton"),b=(0,h.jsxs)("div",{className:u.default.buttons,children:[y,S]});return(0,h.jsx)(d.HotKeys,{handlers:{escape:_},children:(0,h.jsx)(c.Modal,{title:v,actions:b,children:x})})};var a=n(o(94184)),r=o(48360),i=o(67294),l=n(o(39770)),s=o(88102),d=o(55414),c=o(57224),u=n(o(74463)),f=o(50452),h=o(85893);const p=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"];function m(e){const{reason:t}=e;switch(t){case"NO_MATCH":return r.fbt._("The pictures or descriptions don't match the item",null,{hk:"2ifaot"});case"SPAM":return r.fbt._("This is spam",null,{hk:"hjxQJ"});case"ILLEGAL":return r.fbt._("This is abusive, harmful or illegal",null,{hk:"3xz9jr"});case"SCAM":return r.fbt._("This is fraud or a scam",null,{hk:"2iFRd8"});case"KNOCKOFF":return r.fbt._("This appears to be a knockoff or counterfeit item",null,{hk:"UiFcs"});case"OTHER":return r.fbt._("Other",null,{hk:"1Kn4LY"});default:throw new Error(`Invalid reason: ${t}`)}}},82495:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{isEditMode:t,catalog:o,subtitle:n,hideIncompleteRows:p,productsToShow:m,businessProfile:g}=e;const _=(0,h.jsx)(f.default,{onViewShopClick:()=>{(0,c.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_FROM_EDIT_BIZ_PROFILE)},onCommerceManagerClick:()=>{(0,c.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_FROM_EDIT_BIZ_PROFILE)},onCancelClick:()=>{(0,c.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_FROM_EDIT_BIZ_PROFILE)}});return(0,h.jsx)(l.default,{onProductDetail:function(e){if(t)s.Cmd.openModal(_),(0,c.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_PRODUCT_PREVIEW_TILE,{shouldLogJid:!1});else{const t=new URL((0,a.default)(e.url,"product.url"),`https://${d.HOSTNAME.FACEBOOK}`);r.default.open(String(t))}},onProductCatalog:function(){t?(s.Cmd.openModal(_),(0,c.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_MANAGE_SHOPS)):(0,i.goToShop)(g)},catalog:o,subtitle:n,hideIncompleteRows:p,productsToShow:m,showShopsLogo:!0})};var a=n(o(45095)),r=n(o(87045)),i=o(94010),l=n(o(42953)),s=o(88102),d=o(40875),c=o(55631),u=n(o(11339)),f=n(o(95042)),h=o(85893)},47834:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.useModelValues)(e.msgInfoParticipant,["t"]),o=(0,d.useModelValues)(e.contact,["id","name","formattedName","notifyName"]),n=(0,c.jsx)(i.DetailImage,{id:o.id}),u=r.Clock.relativeDateAndTimeStr(t.t),f=(0,c.jsx)("span",{title:u,children:u});let h;!o.name&&o.notifyName&&(h=(0,c.jsx)(l.EmojiText,{className:s.default.notifyName,direction:"auto",text:o.notifyName}));return(0,c.jsx)(a.default,{contextEnabled:()=>!1,image:n,primary:(0,c.jsx)(l.EmojiText,{direction:"auto",text:o.formattedName,titlify:!0,ellipsify:!0}),secondary:f,secondaryDetail:h,style:{cursor:"auto"},theme:e.theme,idle:!0})};var a=n(o(49107)),r=o(22683),i=o(88984),l=o(65417),s=n(o(39893)),d=o(49082),c=o(85893)},27105:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleGrievanceOfficerDetailsError=t.handleCustomerCareDetailsError=t.getLegalEntityDetails=t.ComplianceInfoStructuralField=t.ComplianceInfoPrimitiveField=t.ComplianceInfoLoading=t.ComplianceInfoHelpCenterBanner=t.ComplianceInfoGroup=void 0;var a=n(o(48926)),r=o(28298),i=o(48360),l=n(o(56720)),s=n(o(62738)),d=o(93581),c=o(95176),u=n(o(35721)),f=n(o(33308)),h=o(12591),p=o(29623),m=n(o(43725)),g=o(11054),_=o(13923),C=o(85893);const v={fieldLabel:{display:"f804f6gw",lineHeight:"gz7w46tb"},fieldValue:{display:"f804f6gw",wordBreak:"cw3vfol9",whiteSpace:"c2jc77nu"},helpCenterBanner:{fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},displayRight:{textAlign:"cb8ormfa"}},x=()=>i.fbt._("Not Provided",null,{hk:"43OpXI"});t.ComplianceInfoGroup=e=>{let{title:t,children:o}=e;return(0,C.jsx)(f.default,{title:t,xstyle:r.uiPadding.vert8,children:o})};t.ComplianceInfoPrimitiveField=e=>{let{value:t,label:o,forceLTR:n}=e;return(0,C.jsxs)(S,{children:[(0,C.jsx)(j,{value:t,forceLTR:n}),(0,C.jsx)(b,{label:o})]})};t.ComplianceInfoStructuralField=e=>{let{valuesMap:t={},keys:o=[],label:n}=e;const a=o.reduce(((e,o)=>t[o]?e.concat(t[o]):e),[]),r=a.length?a.join(", "):x();return(0,C.jsxs)(S,{children:[(0,C.jsx)(j,{value:r}),(0,C.jsx)(b,{label:n})]})};const S=e=>{let{children:t}=e;return(0,C.jsx)(u.default,{multiline:!0,restrictSpacing:!0,children:(0,C.jsx)("div",{className:(0,l.default)(r.uiPadding.vert8),children:t})})};t.ComplianceInfoLoading=()=>(0,C.jsx)(p.FlexRow,{align:"center",justify:"center",a8nText:"compliance-info-loading",children:(0,C.jsx)(p.FlexItem,{children:(0,C.jsx)(g.Spinner,{})})});t.ComplianceInfoHelpCenterBanner=e=>{let{xstyle:t}=e;return(0,C.jsxs)("div",{className:(0,l.default)(v.helpCenterBanner,t),"data-testid":"compliance-help-center-banner",children:[i.fbt._("Indian law requires additional information from businesses selling online.",null,{hk:"1zuHU2"})," ",(0,C.jsx)(h.ExternalLink,{href:"https://faq.whatsapp.com/general/account-and-profile/how-to-comply-with-the-laws-for-selling-online-in-India",children:i.fbt._("Learn more",null,{hk:"1JNnQ1"})})]})};const y=function(){var e=(0,a.default)((function*(e){const t=(e=>(Array.isArray(e)?e[0]:e).serialize())(yield d.BusinessProfileCollection.update(e,{getMerchantCompliance:!0}));if(t)return t.legalEntityDetails||void 0;__LOG__(3)`compliance: cannot fetch business details (${e.toString()})`}));return function(){return e.apply(this,arguments)}}();t.getLegalEntityDetails=y;const b=e=>{let{label:t}=e;return(0,C.jsx)("div",{className:(0,l.default)(v.fieldLabel),"data-testid":"compliance-info-field-label",children:(0,C.jsx)(_.TextSpan,{theme:"muted",children:t})})},j=e=>{let{value:t,forceLTR:o=!1}=e;const n=m.default.isRTL();return(0,C.jsx)("div",{className:(0,l.default)(v.fieldValue,r.uiMargin.vert3,n&&o&&v.displayRight),dir:o||!n?"ltr":"rtl","data-testid":"compliance-info-field-value",children:t||x()})};t.handleCustomerCareDetailsError=(e,t,o,n)=>{(0,c.existsCustomerCareDetailsContact)(e,t,o,n)||(0,s.default)(i.fbt._("At least one phone number is required. Please provide another phone number before removing this.",null,{hk:"2LGoJd"}))};t.handleGrievanceOfficerDetailsError=(e,t,o,n)=>{(0,c.existsGrievanceOfficerDetailsContact)(e,t,o,n)||(0,s.default)(i.fbt._("At least one contact method is required. Please provide another contact method first before removing this.",null,{hk:"NXBiy"}))}},35721:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o;const n=null!=e.side?(0,d.jsx)("div",{className:(0,i.default)(c.side),children:e.side}):null,u=null===(t=e.separator)||void 0===t||t,f=(0,r.default)((0,i.default)(c.container,e.xstyle),e.className,{[l.default.separator]:u}),h=null!==(o=e.testid)&&void 0!==o?o:u?"container_with_separator":"container";return(0,d.jsx)("div",{"data-a8n":a.default.key(e.a8nText),className:f,role:e.onClick?"button":null,"data-testid":h,onClick:e.onClick,children:(0,d.jsxs)("div",{className:(0,r.default)(l.default.block,(0,i.default)(c.block,e.blockXstyle,e.multiline&&c.blockMultiline)),children:[(0,d.jsx)("div",{className:(0,r.default)((0,i.default)(c.main,e.multiline&&c.mainMultiline,e.restrictSpacing&&c.mainRestrictSpacing,s.isOSMac&&c.mainMac)),children:e.children}),n]})})};var a=n(o(99964)),r=n(o(94184)),i=n(o(56720)),l=n(o(61388)),s=o(12209),d=o(85893);const c={container:{paddingStart:"e8k79tju"},block:{display:"p357zi0d",alignItems:"gndfcl4n",height:"k45dudtp",paddingEnd:"bcymb0na"},blockMultiline:{height:"bvcnfjzh"},main:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",marginTop:"kv6wexeh",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},mainMultiline:{paddingTop:"hc2u0oym",paddingBottom:"myel2vfb",whiteSpace:"hmy10g0s"},mainMac:{marginTop:"tt8xd2xn"},mainRestrictSpacing:{paddingTop:"i5tg98hk",paddingBottom:"przvwfww",whiteSpace:"le5p0ye3"},side:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginStart:"jwvfxh5v"}}},31042:(e,t,o)=>{"use strict";var n=o(20862),a=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findFirstWebLink=void 0,t.useLinkPreview=function(e,t){const[o,n]=(0,s.useState)(null),a=()=>{n(null)};return(0,s.useEffect)((()=>{if(a(),!e)return;const o=new d.default,s=o.signal;return(0,i.default)((function*(){try{const o=yield(0,_.default)((0,h.default)(e,!0),s),a=null==o?void 0:o.data;if(!a)return;if(n(a),!a.thumbnailHQ)return;const i=yield function(){return x.apply(this,arguments)}(a.thumbnailHQ,s,t);if(!i)return;n((0,r.default)((0,r.default)({},a),i))}catch(e){if(e.name===l.ABORT_ERROR)return;__LOG__(2)`useLinkPreview: error`}}))(),()=>{o.signal.aborted||o.abort()}}),[e,t]),{linkPreview:o,clearLinkPreview:a}};var r=a(o(81109)),i=a(o(48926)),l=o(89385),s=o(67294),d=a(o(70714)),c=o(19773),u=a(o(69618)),f=a(o(46220)),h=a(o(75820)),p=n(o(86688)),m=o(61596),g=a(o(34949)),_=a(o(84644)),C=a(o(15554)),v=a(o(74460));function x(){return(x=(0,i.default)((function*(e,t,o){try{const n=yield(0,_.default)(g.default.createFromBase64Jpeg(e),t),a=yield(0,v.default)({thumbnail:n,mediaType:m.MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:(0,C.default)(),uploadOrigin:(0,f.default)(o),forwardedFromWeb:!1,signal:t,timeout:u.default.MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}),r=a.mediaEntry;if(!r)return;return{mediaKey:r.mediaKey,mediaKeyTimestamp:r.mediaKeyTimestamp,thumbnailDirectPath:r.directPath,thumbnailSha256:a.filehash,thumbnailEncSha256:r.encFilehash}}catch(e){if(e.name===l.ABORT_ERROR)return;__LOG__(2)`useLinkPreview.uploadHQPreview: error`}}))).apply(this,arguments)}t.findFirstWebLink=e=>{const t=(0,c.removeCodeBlocks)(e),o=p.findLinks(t,!0)[0];if(o)return o.url}},98046:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{images:t,renderFallback:o,fallbackMediaData:n,fetching:l,onClick:v}=e,x=(0,i.useRef)(null),S=(0,i.useRef)(null),y=(0,i.useRef)(null),b=(0,i.useRef)(null),j=(0,i.useRef)(null),[T,P]=(0,i.useState)(null),[E,k]=(0,i.useState)(t.filter((e=>e.mediaData.mediaStage===f.MEDIA_DATA_STAGE.RESOLVED)).length),[I,w]=(0,i.useState)(!1),A=E===t.length,M=()=>k((e=>e+1));(0,i.useEffect)((()=>{let e=null;if(!A&&!o){var t,n;const o=S.current;if(!o)return;null===(t=y.current)||void 0===t||t.controller.abort(),e=new s.default;const r=e.signal,i=((null===(n=y.current)||void 0===n?void 0:n.promise)||Promise.resolve()).then((()=>(0,_.default)(o,{opacity:[1,0]},{delay:75,duration:50}))),l=(0,h.default)(i,r).then((()=>{if(r.aborted)throw new a.AbortError;w(!0)})).catch((0,a.catchAbort)((()=>{(0,_.default)(o,"stop",!0)}))).finally((()=>{y.current=null}));y.current={promise:l,controller:e}}return()=>{var t;null===(t=e)||void 0===t||t.abort()}}),[A,o]);const O=()=>{var e;return(null===(e=x.current)||void 0===e?void 0:e.children)?x.current.scrollWidth===x.current.offsetWidth?null:0===x.current.scrollLeft?"next":x.current.scrollWidth-1<=x.current.scrollLeft+x.current.offsetWidth?"prev":"both":null};if((0,i.useEffect)((()=>{P(O())}),[A]),o&&0===t.length)return(0,C.jsx)("div",{className:c.default.carousel,dir:"ltr",children:(0,C.jsx)("div",{className:(0,r.default)(c.default.contentContainer,c.default.slidesContainer),children:n&&(0,C.jsx)(u.default,{altText:"",mediaData:n,renderFallback:!0,singleSlide:!0})})});let N,L,R;const D=()=>{b.current=null;const e=O();T!==e&&P(e)};if(t.length>1){const e=()=>{const e=x.current;if(null!=e&&("prev"===T||"both"===T)){let t=0;const o=e.scrollLeft+Math.floor(e.offsetWidth/2);let n=e.lastElementChild;for(;n instanceof HTMLElement&&0===t;){const e=n.offsetLeft+Math.floor(n.offsetWidth/2);e<o&&(t=e-o),n=n.previousElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},t=()=>{const e=x.current;if(null!=e&&("next"===T||"both"===T)){let t=0;const o=e.scrollLeft+Math.floor(e.offsetWidth/2);let n=e.firstElementChild;for(;n instanceof HTMLElement&&0===t;){const e=n.offsetLeft+Math.floor(n.offsetWidth/2);o<e&&(t=e-o),n=n.nextElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},o=()=>{j.current=null;const e=O();T!==e&&P(e)};R=()=>{null==j.current&&(j.current=requestAnimationFrame(o))},A&&null!=T&&(N=(0,C.jsx)(d.ChevronButton,{type:d.ButtonType.Prev,onClick:e,onKeyDown:e,disabled:"prev"!==T&&"both"!==T,theme:m.RoundTheme.Small,overMedia:!0}),L=(0,C.jsx)(d.ChevronButton,{type:d.ButtonType.Next,onClick:t,onKeyDown:t,disabled:"next"!==T&&"both"!==T,theme:m.RoundTheme.Small,overMedia:!0}))}const B=1===t.length,F=t.map(((e,t)=>(0,C.jsx)(u.default,{altText:"",image:e,singleSlide:B,mediaData:e.mediaData,onClick:v,onLoad:M},t))),V=A?null:(0,C.jsx)("div",{className:(0,r.default)(c.default.contentContainer,c.default.spinnerContainer),children:(0,C.jsx)("div",{className:c.default.spinner,ref:S,children:(0,C.jsx)(g.Spinner,{color:"default",size:50,stroke:4})})}),W=(0,r.default)(c.default.carousel,{[c.default.loaded]:!l&&A,[c.default.fadeIn]:I});return(0,C.jsxs)("div",{className:W,dir:"ltr",children:[V,(0,C.jsx)("div",{ref:x,className:(0,r.default)(c.default.contentContainer,c.default.slidesContainer),onScroll:R,children:F}),N,L,(0,C.jsx)(p.default,{onResize:()=>{null==b.current&&(b.current=requestAnimationFrame(D))}})]})};var a=o(89385),r=n(o(94184)),i=o(67294),l=n(o(30523)),s=n(o(70714)),d=o(61991),c=n(o(63696)),u=n(o(98491)),f=o(58668),h=n(o(84644)),p=n(o(8694)),m=o(82857),g=o(11054),_=n(o(75426)),C=o(85893);l.default.polyfill()},98491:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(67294),r=n(o(89882)),i=o(58668),l=o(49082),s=o(85893);var d=e=>{let{mediaData:t,altText:o,image:n,singleSlide:d,renderFallback:c,onClick:u,onLoad:f,forwardRef:h}=e;const{fullHeight:p,fullWidth:m,mediaStage:g,renderableUrl:_}=(0,l.useModelValues)(t,["fullHeight","fullWidth","mediaStage","renderableUrl"]),C=(0,a.useRef)(null),v=(0,a.useRef)(g===i.MEDIA_DATA_STAGE.RESOLVED);(0,a.useEffect)((()=>{!f||v.current||c||g!==i.MEDIA_DATA_STAGE.RESOLVED||(f(),v.current=!0)}),[f,c,g]);const x=!!d;let S=m&&p?m/p:.8;S<.8&&(S=.8),S>1.91&&(S=1.91),S>1&&!x&&(S=1);const y={width:x&&S<1?100*S+"%":1!==S||d?null:"100%"},b={paddingTop:`${Math.floor(100/S)}%`},j={cursor:""+(u?"pointer":"auto")};return(0,s.jsx)("div",{ref:h?e=>h(e):null,className:r.default.slide,style:y,children:(0,s.jsx)("div",{className:r.default.slideInnerContainer,style:b,children:(0,s.jsx)("img",{ref:C,alt:o,src:_,className:r.default.image,style:j,draggable:"false",onClick:()=>{u&&C.current&&n&&u(C.current,n)}})})})};t.default=d},60263:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyCanvas=h,t.MediaGalleryView=function(e){const{mediaCollection:t,fullCollection:o,chat:n,onScroll:i,justify:s}=e,c=e.medias||e.productMedias,m="new-chat-info"===e.theme;if(!c)return null;let g=(0,r.default)(d.default.container,{[d.default.drawer]:o,[d.default.galleryEmpty]:0===t.length,[d.default.justifySpaceBetween]:"space-between"===s,[d.default.themeNewChatInfo]:m}),_=[...c];if(t.queryMediaBefore&&(o||_.length<6)){const e=(0,r.default)(d.default.more,d.default.canvasComponent,{[d.default.canvasSecondRow]:!o&&_.length>=3,[d.default.canvasFirst]:0===t.length});_.push((0,f.jsx)("div",{className:e,children:(0,f.jsx)(u.Spinner,{stroke:6,size:24})},"spinner"))}if(0===t.length){if(o)return t.queryMediaBefore?(0,f.jsx)("div",{className:(0,r.default)(d.default.drawer,d.default.drawerBody),children:(0,f.jsx)(l.Loading,{})}):(0,f.jsx)(l.MediaMsgs,{});if(m)return null;t.queryMediaBefore||t.hasMediaBefore||(g=(0,r.default)(g,d.default.galleryEmpty),_=[p(Math.max(n?n.docCount:0,0),Math.max(n?n.linkCount:0,0),Math.max(n?n.productCount:0,0))])}else for(let e=0;e<6;e++)_.push((0,f.jsx)(h,{},"empty"+e));return(0,f.jsx)("div",{onScroll:i,"data-a8n":a.default.key("media-gallery"),className:g,children:_})};var a=n(o(99964)),r=n(o(94184)),i=o(48360),l=o(85600),s=n(o(43725)),d=n(o(97018)),c=o(64551),u=o(11054),f=o(85893);function h(){return(0,f.jsx)("div",{className:d.default.canvasEmpty})}function p(e,t,o){const n=[];return null!=e&&e>0&&n.push(s.default.t(401,{count:e,_plural:e})),null!=t&&t>0&&n.push(s.default.t(566,{count:t,_plural:t})),c.ServerProps.productMediaAttachments&&null!=o&&o>0&&n.push(s.default.t(718,{count:o,_plural:o})),n.length>0?n.join(s.default.t(411)):c.ServerProps.productMediaAttachments?i.fbt._("No Media, Links, Docs and Products",null,{hk:"3RKA8T"}):i.fbt._("No Media, Links and Docs",null,{hk:"226fK3"})}},27315:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(1769)),r=o(52835),i=o(18609),l=o(72761),s=n(o(8103)),d=n(o(68662));const c=new a.default;class u extends((0,l.PluggableInput)([r.EmojiPlugin,c,s.default])){}t.default=u,u.EmojiSuggestions=(0,d.default)(i.EmojiSuggestions,{plugin:c})},52711:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.jsx)("div",{className:(0,a.default)(i.icon,"transparent"===e.theme&&i.transparent,"compact"===e.theme&&i.compact,!0===e.disabled&&i.disabled,e.xstyle),children:e.children})};var a=n(o(56720)),r=o(85893);const i={icon:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"dyxdk6fi",height:"m3o1wsh7",color:"k17s6i4e",backgroundColor:"ju2rvew0",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},disabled:{backgroundColor:"lmoo7qev"},transparent:{color:"svlsagor",backgroundColor:"j1wdo6yn"},compact:{width:"qssinsw9",height:"lniyxyh2"}}},10595:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerDetailsStickerPackInfo=function(e){const{name:t,publisher:o,theme:n}=e;return(0,i.jsxs)(r.TextDiv,{theme:"plain",xstyle:[l.container,n===s.StickerStore&&l.stickerStore,n===s.MediaViewer&&l.mediaViewer],children:[t&&(0,i.jsx)(a.EmojiText,{xstyle:l.name,text:t}),t&&o&&(0,i.jsx)(a.EmojiText,{text:" • "}),o&&(0,i.jsx)(a.EmojiText,{text:o})]})},t.Theme=void 0;n(o(56720));var a=o(65417),r=o(13923),i=o(85893);const l={container:{color:"hp667wtd",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",textAlign:"qfejxiq4"},stickerStore:{marginBottom:"e2xccmyv"},mediaViewer:{marginBottom:"r2u2pyhj"},name:{fontSize:"enbbiyaj",lineHeight:"l85iiqla",color:"t0mgield"}},s=o(54302).Mirrored(["StickerStore","MediaViewer"]);t.Theme=s},99967:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(23279)),r=o(67294),i=o(76716),l=n(o(69618)),s=n(o(34553)),d=o(99234),c=o(84387),u=n(o(34949)),f=o(62583),h=n(o(65932)),p=o(65127),m=o(65044),g=o(85893);const _=(0,a.default)(((e,t)=>{(0,d.setVideoVolumeSettings)(e,t)}),500);class C extends r.PureComponent{constructor(){super(...arguments),this.checkIteration=0,this.checkForSuccessInterval=0,this.hasCalledPlaying=!1,this.mediaBlobWasDownloadedBeforeMount=Boolean(this.props.mediaData.mediaBlob),this.refVideo=(0,r.createRef)(),this.onVolumeChange=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;t&&_(t.volume,t.muted)},this.startCheckForSuccess=()=>{this.checkIteration=0,this.checkForSuccessInterval||(this.checkForSuccessInterval=setInterval(this.checkForSuccess,250))},this.clearCheckForSuccess=()=>{this.checkForSuccessInterval&&(clearInterval(this.checkForSuccessInterval),this.checkIteration=0,this.checkForSuccessInterval=0)},this.checkForSuccess=()=>{var e;if(m.Socket.state!==f.SOCKET_STATE.CONNECTED)return;this.checkIteration++;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current,o=null==t?void 0:t.buffered;(null==o?void 0:o.length)&&o.end(0)>0?this.onPlaying():this.checkIteration>240&&this.clearCheckForSuccess()},this.onPlayerError=()=>{this.clearCheckForSuccess()},this.pause=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;t&&(t.paused||t.pause())},this.onPlaying=()=>{this.clearCheckForSuccess()},this.onLoadedMetadata=e=>{this.setStartTime();const{onLoadedMetadata:t}=this.props;t&&t(e)},this.setStartTime=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;null!=this.props.startTime&&0!==this.props.startTime&&t&&(t.currentTime=this.props.startTime)},this.onContextMenu=e=>{this.props.disableContextMenu&&e.preventDefault()}}componentDidMount(){this._updateVideoUserPrefs(),this._updateAudioChannel(),this.props.refVideo&&this.props.refVideo(this.refVideo)}_updateAudioChannel(){var e;const t=this.refVideo.current;t!==this._prevVideo&&(this._prevVideo=t,null===(e=this._unregisterFromAudioChannel)||void 0===e||e.call(this),null!=t&&(this._unregisterFromAudioChannel=i.MainAudioChannel.registerMedia(t)))}componentWillUnmount(){var e;null===(e=this._unregisterFromAudioChannel)||void 0===e||e.call(this),_.flush(),this.clearCheckForSuccess(),this.pause(),p.UA.isBlink&&this.refVideo.current&&(0,s.default)(this.refVideo.current)}componentDidUpdate(e){this._updateVideoUserPrefs(),this._updateAudioChannel(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}_updateVideoUserPrefs(){var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;if(t){const e=(0,d.getVideoVolumeSettings)();e&&("number"==typeof e.volume&&(t.volume=e.volume),"boolean"==typeof e.muted&&(t.muted=e.muted)),x()&&this.props.autoPlay&&this.startCheckForSuccess()}}render(){const e=this.props,{mediaData:t}=e,o=t.mediaBlob;let n;const a=t.streamable&&t.isStreamable();if((this.mediaBlobWasDownloadedBeforeMount||!a)&&o instanceof u.default)n=o.url();else{if(!t.streamable||!t.isStreamable())return null;n=`${l.default.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`}const r=x()&&!e.autoPlay?this.startCheckForSuccess:void 0;return(0,g.jsx)("video",{ref:this.refVideo,src:n,poster:e.poster,className:e.className,controls:e.controls,autoPlay:e.autoPlay,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:r,onPlaying:this.onPlaying,onError:this.clearCheckForSuccess,onContextMenu:this.onContextMenu,children:e.children})}}C.CONCERNS={msg:["id"],mediaData:["mediaBlob","streamable"]},C.displayName="VideoTag";var v=(0,c.ListenerHOC)((0,h.default)(C,C.CONCERNS));function x(){return p.UA.isGecko||p.UA.isSafari}t.default=v},35400:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalog:t,onSend:o}=e,n=(0,l.createCatalogLink)(t.id.user),d=t.id.equals((0,r.getMaybeMeUser)())?`${a.fbt._("Follow this link to view our catalog on WhatsApp:",null,{hk:"1bmMoC"}).toString()} ${n}`:n;return(0,s.jsx)(i.default,{text:d,pushTransition:"none",popTransition:"none",onSend:o})};var a=o(48360),r=o(99234),i=n(o(24158)),l=o(61358),s=o(85893)},38216:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,onSend:o}=e,n=(0,l.createProductLink)(t.catalogWid.user,t.id.toString()),d=t.catalogWid.equals((0,r.getMaybeMeUser)())?`${a.fbt._("Follow this link to view our item on WhatsApp:",null,{hk:"H5KuN"}).toString()} ${n}`:n;return(0,s.jsx)(i.default,{text:d,pushTransition:"none",popTransition:"none",onSend:o})};var a=o(48360),r=o(99234),i=n(o(24158)),l=o(61358),s=o(85893)},24158:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(48926)),r=o(80140),i=o(88102),l=n(o(69618)),s=n(o(32973)),d=n(o(43725)),c=o(56728),u=o(18963),f=o(5524),h=o(64551),p=n(o(9031)),m=o(85893);class g extends s.default{constructor(){var e;super(...arguments),e=this,this._selected=[],this._getSelected=()=>this._selected,this._handleSelectionChange=(e,t,o)=>{this._selected=o},this._handleForwardConfirmed=e=>{this._send(e)},this._handleCancel=()=>{this.end()},this._send=function(){var t=(0,a.default)((function*(t){const{text:o,title:n,onSend:a}=e.props;if(1===t.length){const n=t[0];yield e._pasteText(n,o),e.end(),window.innerWidth<=l.default.LAYOUT_2COLUMNS_MAX_WIDTH&&i.Cmd.closeDrawerRight()}else e.push((0,m.jsx)(p.default,{defaultText:o,title:n||d.default.t(651),onSend:(o,n)=>e._handleSend(t,o,n),onBack:e._handleBack}));a&&a()}));return function(){return t.apply(this,arguments)}}(),this._handleSend=(e,t,o)=>{this._sendText(e,t,o),this.end()},this._handleBack=()=>{this.pop()},this._pasteText=function(){var t=(0,a.default)((function*(t,o){yield e._ensureContactUnblocked(t),t.active?i.Cmd.pasteChatTextInput(t,o):(t.setComposeContents({text:o}),i.Cmd.openChatFromUnread(t).then((e=>{e&&i.Cmd.focusChatTextInput(t)})))}));return function(){return t.apply(this,arguments)}}(),this._sendText=(t,o,n)=>{t.forEach(function(){var t=(0,a.default)((function*(t){yield e._ensureContactUnblocked(t),i.Cmd.once("ui_idle",(()=>{(0,f.sendTextMsgToChat)(t,o,{linkPreview:n})}))}));return function(){return t.apply(this,arguments)}}())},this._ensureContactUnblocked=function(){var e=(0,a.default)((function*(e){e.isUser&&e.contact.isBlocked()&&(yield(0,r.unblockContact)(e.contact))}));return function(){return e.apply(this,arguments)}}()}componentDidMount(){this.push((0,m.jsx)(c.SelectModal,{title:this.props.title||d.default.t(651),listType:c.ListType.CHAT_SELECT_MODAL,getInitialItems:this._getSelected,maxItems:h.ServerProps.multicastLimitGlobal,onConfirm:this._handleForwardConfirmed,onCancel:this._handleCancel,onSelectionChanged:this._handleSelectionChange,singleSelectionFooterType:u.FooterType.NEXT,multipleSelectionFooterType:u.FooterType.NEXT}))}}t.default=g},10121:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(32973)),r=n(o(61752)),i=o(85893);class l extends a.default{constructor(){super(...arguments),this.closeStatusViewer=()=>{this.end()}}componentDidMount(){this.push((0,i.jsx)(r.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}t.default=l},62921:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(99964)),r=o(48360),i=o(67294),l=n(o(39935)),s=o(16593),d=n(o(60453)),c=n(o(69637)),u=o(94790),f=o(92052),h=o(13923),p=o(49082),m=o(85893);var g=(0,i.forwardRef)(((e,t)=>{const{settings:o,onClose:n}=e,{archive:i}=(0,p.useModelValues)(o,["archive"]),g=!i.classic;return(0,m.jsxs)(d.default,{ref:t,children:[(0,m.jsx)(u.DrawerHeader,{title:r.fbt._("Archive settings",null,{hk:"1YI0jC"}),type:u.DRAWER_HEADER_TYPE.LARGE,onBack:n}),(0,m.jsx)(c.default,{children:(0,m.jsxs)("div",{className:l.default.section,children:[(0,m.jsx)("div",{"data-a8n":a.default.key("auto-unarchive-setting"),className:l.default.control,children:(0,m.jsx)(s.CheckBox,{onChange:()=>{const e=!i.classic;(0,f.setArchiveClassicSetting)(e)},checked:g})}),(0,m.jsxs)("div",{"data-a8n":a.default.key("auto-unarchive-setting-text"),children:[r.fbt._("Keep chats archived",null,{hk:"IqSCS"}),(0,m.jsx)(h.TextDiv,{theme:"muted",children:r.fbt._("Archived chats will remain archived when you receive a new message",null,{hk:"jrtLe"})})]})]})})]})}));t.default=g},5970:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t}=e,[o,n]=(0,i.useState)(!1),[v,x]=(0,i.useState)(!1),[S,y]=(0,i.useState)(""),b=e=>{y(e)},j=()=>{n(!0);let e=!0;f.QPL.markerStart(h.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL),(0,l.handleCollectionAppeal)(t,S).then((()=>{n(!1),x(!0),e=!1,f.QPL.markerEnd(h.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,f.QuickLogActionType.SUCCESS)})).catch((0,a.filteredCatch)(_.ServerStatusCodeError,(()=>{s.Cmd.openToast((0,C.jsx)(g.Toast,{msg:r.fbt._("Something went wrong and your request wasn't submitted. Try again.",null,{hk:"3sAwQH"}),id:(0,g.genId)("catalog_collection_appeal_submission_failed")})),n(!1)}))).finally((()=>{e&&f.QPL.markerEnd(h.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,f.QuickLogActionType.FAIL)}))},T=()=>{s.Cmd.closeModal()};if(v)return(0,C.jsx)(d.default,{title:r.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:T,children:(0,C.jsx)(p.TextDiv,{children:r.fbt._("We will review the collection and if it meets our guidelines, it will be added to your catalog.",null,{hk:"y5vML"})})});{const e=S.length<1||o;return(0,C.jsx)(d.default,{title:r.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:j,onCancel:T,okDisabled:e,children:(0,C.jsxs)("form",{children:[(0,C.jsx)(m.TextInput,{a8n:"confirm-popup-text-input",placeholder:r.fbt._("Enter reason for this request...",null,{hk:"3U5nE7"}),onChange:b,value:S,maxLength:1e3}),(0,C.jsx)(u.ExternalLink,{href:c.default.WA_COMMERCE_POLICY_URL,children:r.fbt._("Learn More",null,{hk:"FZuUT"})})]})})}};var a=o(50796),r=o(48360),i=o(67294),l=o(47217),s=o(88102),d=n(o(52665)),c=n(o(69618)),u=o(12591),f=o(48870),h=o(27798),p=o(13923),m=o(90011),g=o(50452),_=o(77591),C=o(85893)},62738:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(48360),r=o(88102),i=n(o(52665)),l=o(85893);var s=e=>{r.Cmd.openModal((0,l.jsx)(i.default,{okText:a.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>r.Cmd.closeModal(),children:e}))};t.default=s},13712:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=new u.CoolOffNux(m,_,{COOL_OFF_START_STORAGE_KEY:c.CoolOffPeriodKeys.CATALOG,MAX_VIEWS_IN_DAYS:1,COOL_OFF_DURATION_IN_DAYS:1});if(e.shouldShow()){const t=(0,p.jsx)(l.default,{onOK:()=>{e.dismiss(),i.Cmd.closeModal()},children:(0,p.jsxs)(s.FlexColumn,{align:"center",children:[(0,p.jsx)(s.FlexItem,{xstyle:g.graphic,children:(0,p.jsx)(f.default,{name:"cart-interstitial-graphic"})}),(0,p.jsx)(h.TextHeader,{theme:"popup-title",children:a.fbt._("New: Add to Cart",null,{hk:"34ysyY"})}),(0,p.jsx)(h.TextParagraph,{color:"secondary",className:r.default.description,children:a.fbt._("Simpler for you to keep track of order inquiries, manage requests, and close sales.",null,{hk:"25ZM2y"})})]})});i.Cmd.openModal(t),e.show(),e.startCoolOffToday()}};var a=o(48360),r=(n(o(56720)),n(o(22036))),i=o(88102),l=n(o(52665)),s=o(29623),d=n(o(11339)),c=o(61653),u=o(1710),f=n(o(23217)),h=o(13923),p=o(85893);const m=c.NuxKeyTypes.COOL_OFF_NUX.CART_INTERSTITIAL,g={graphic:{marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",color:"bc38n4nm"}},_=d.default.BANNER_TYPES.SMB_CATALOG_CART_INTERSTITIAL},92351:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onOpenCollections:t}=e;const[o,n]=(0,a.useState)(!1),u=r.CatalogCollection.get((0,l.getMeUser)());return(0,d.useListener)(null==u?void 0:u.collections,"change",(()=>{n(!0)})),o&&(0,c.jsx)(s.default,{children:(0,c.jsx)(i.default,{onClick:t})})};var a=o(67294),r=o(99989),i=n(o(31502)),l=o(99234),s=n(o(26293)),d=o(19529),c=o(85893)},31502:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(48360),r=o(86945),i=o(99989),l=n(o(87919)),s=o(17239),d=n(o(95993)),c=o(99234),u=n(o(11339)),f=o(61653),h=n(o(25550)),p=o(1710),m=o(85893);const g=f.NuxKeyTypes.COOL_OFF_NUX.COLLECTIONS,_={COOL_OFF_DURATION_IN_DAYS:2,VIEWS_BEFORE_COOL_OFF_IN_DAYS:1,CLICKS_BEFORE_COOL_OFF:1,MAX_VIEWS_IN_DAYS:2,COOL_OFF_START_STORAGE_KEY:f.CoolOffPeriodKeys.CATALOG};class C extends h.default{render(){const{onClick:e}=this.props,t=new p.CoolOffNux(g,u.default.BANNER_TYPES.SMB_COLLECTION_CREATION,_),o=(0,m.jsx)("span",{className:l.default.actionText,children:a.fbt._("Get started",null,{hk:"m7Zf5"})});return(0,m.jsx)(d.default,{title:a.fbt._("Create new collection",null,{hk:"19zBCQ"}),subtitle:a.fbt._("Group items into collections to stay organized.",null,{hk:"1sDPK6"}),actionText:o,onClick:e,nuxManager:t,theme:"nuxBlue"})}static shouldShow(){return(0,r.getABPropConfigValue)("web_abprop_collections_nux_banner")&&s.Conn.isSMB&&function(){const e=i.CatalogCollection.get((0,c.getMeUser)());if(null==e||null==e.collections)return!1;const t=e.collections.getCollectionModels(!0);return e.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))&&0===t.length}()&&(0,p.shouldShowNUX)(g,_)}}t.default=C,C.displayName="CollectionsBanner"},23358:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(r.default,{a8nText:"li-share-link",icon:(0,s.jsx)(l.default,{name:"forward",className:i.default.icon}),onClick:e.onClick,children:a.fbt._("Send product",null,{hk:"1wkzue"})})};var a=o(48360),r=n(o(64738)),i=n(o(98653)),l=n(o(23217)),s=o(85893)},39902:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{a8nText:t,icon:o,iconWidth:n,iconHeight:u,label:f,disabled:h,xstyle:p,theme:m,onClick:g}=e;const _="new-chat-info"===m,{isHovered:C,onMouseEnter:v,onMouseLeave:x}=function(){const[e,t]=(0,a.useState)(!1),o=(0,a.useCallback)((()=>{t(!0)}),[]),n=(0,a.useCallback)((()=>{t(!1)}),[]);return{isHovered:e,onMouseEnter:o,onMouseLeave:n}}(),S=(0,d.jsx)(l.default,{name:o,directional:!0,color:"teal",width:n,height:u});if(!_)return(0,d.jsxs)("div",{className:(0,r.default)(c.button,h&&c.disabled,p),children:[(0,d.jsx)("div",{onMouseEnter:v,onMouseLeave:x,children:(0,d.jsx)(i.Round,{inverted:!0,onClick:g,disabled:h,a8nText:t,hideBackground:!C,children:S})}),(0,d.jsx)("div",{className:(0,r.default)(c.label,_&&c.labelForNewChatInfo),children:f})]});return(0,d.jsxs)("div",{className:(0,r.default)(c.button,h&&c.disabled,p),onMouseEnter:v,onMouseLeave:x,children:[(0,d.jsx)(i.Round,{inverted:!0,onClick:g,disabled:h,a8nText:t,hideBackground:h||!C,children:S}),(0,d.jsx)(s.default,{xstyle:[c.label,_&&c.labelForNewChatInfo],disabled:h,a8nText:t,onClick:g,children:f})]})};var a=o(67294),r=n(o(56720)),i=o(82857),l=n(o(23217)),s=n(o(1784)),d=o(85893);const c={button:{textAlign:"qfejxiq4"},label:{marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",marginTop:"opp68qpq",fontSize:"ovllcyds"},labelForNewChatInfo:{marginTop:"qt60bha0",color:"jq3rn4u7"},disabled:{opacity:"ge6flnsz"}}},41470:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{text:t,secondary:o,icon:n,href:d,rowTheme:c}=e,u=(0,s.jsx)(l.default,{name:n});return(0,s.jsx)(r.default,{image:u,primary:t,secondary:o,theme:c,idle:void 0===d,onClick:()=>{if(void 0!==d){const e=(0,i.getWebsiteLink)(d);a.default.open(e)}}})};var a=n(o(87045)),r=n(o(44356)),i=o(43390),l=n(o(23217)),s=o(85893)},35580:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var a=o(48360),r=(n(o(56720)),n(o(33308))),i=o(65417),l=n(o(41470)),s=o(49082),d=o(85893);const c={infoText:{fontSize:"dsh4tgtl",lineHeight:"jgi8eev7",color:"t35qvd06",paddingStart:"rtas09xs",paddingEnd:"hmmjlwtp",display:"f804f6gw",paddingBottom:"p9a4hubg"}};function u(e){const{showEditHint:t,businessProfile:o,sectionTheme:n,rowTheme:u}=e,{fbPage:f,igProfessional:h}=(0,s.useModelValues)(o,["fbPage","igProfessional"]),p=[];if(null==f?void 0:f.displayName){const e=f.likes?a.fbt._({"*":"Facebook • {count} Likes",_1:"Facebook • 1 Like"},[a.fbt._plural(f.likes,"count")],{hk:"4fuveG"}):a.fbt._("Facebook",null,{hk:"2PcUTa"});p.push((0,d.jsx)(l.default,{icon:"logo-facebook-round",text:f.displayName,secondary:e,href:`https://www.facebook.com/${f.id}`,rowTheme:u},"fb"))}if(null==h?void 0:h.handle){const e=h.followers?a.fbt._({"*":"Instagram • {count} Followers",_1:"Instagram • 1 Follower"},[a.fbt._plural(h.followers,"count")],{hk:"4gGhJG"}):a.fbt._("Instagram",null,{hk:"4kjnWv"});p.push((0,d.jsx)(l.default,{icon:"logo-instagram-color",text:`@${h.handle}`,secondary:e,href:`https://www.instagram.com/${h.handle}`,rowTheme:u},"ig"))}if(0===p.length)return null;let m;if(!0===t){const e=a.fbt._("Facebook and Instagram handles can only be edited from the app on your mobile device.",null,{hk:"3JNYRt"});m=(0,d.jsx)(i.EmojiText,{xstyle:c.infoText,text:e.toString()})}return(0,d.jsxs)(r.default,{theme:n,children:[p.map((e=>e)),m]})}u.defaultProps={sectionTheme:"no-padding",rowTheme:"linked-account"}},26609:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{elementId:t,onClick:o}=e;return document.queryCommandSupported("copy")?(0,u.jsx)(s.default,{a8nText:"li-copy-link",icon:(0,u.jsx)(d.default,{name:"copy",className:i.default.icon}),onClick:()=>function(e,t){(0,l.default)(e)?r.Cmd.openToast((0,u.jsx)(c.Toast,{msg:a.fbt._("Link copied to clipboard.",null,{hk:"2d44NZ"}),id:(0,c.genId)()})):r.Cmd.openToast((0,u.jsx)(c.Toast,{msg:a.fbt._("Couldn't copy to clipboard. Copy using mouse or keyboard.",null,{hk:"4aKgWx"}),id:(0,c.genId)()}));null!=t&&t()}(t,o),children:a.fbt._("Copy link",null,{hk:"2ZtjA3"})}):null};var a=o(48360),r=o(88102),i=n(o(16115)),l=n(o(24687)),s=n(o(64738)),d=n(o(23217)),c=o(50452),u=o(85893)},64738:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,onClick:o,icon:n,className:f,theme:h,disabled:p=!1,testid:m}=e,[g,_]=(0,c.default)(o,{disabled:p}),C=p?void 0:e.color,v=null!=n?(0,u.jsx)("div",{className:(0,i.default)(l.default.icon,{[l.default.danger]:"danger"===C,[l.default.success]:"success"===C}),children:n}):null,x=(0,i.default)(l.default.container,f,{[l.default.containerNoIcon]:!n,[l.default.disabled]:Boolean(p),[l.default.containerListAligned]:"list-aligned"===h,[l.default.themeNewChatInfo]:"new-chat-info"===h}),S=(0,d.isStringOrFbt)(t)?t:null;return(0,u.jsxs)("div",(0,a.default)((0,a.default)({},_),{},{className:x,"data-a8n":r.default.key(e.a8nText),"data-ignore-capture":"any","data-testid":m,ref:g,title:S,children:[v,(0,u.jsx)("div",{className:(0,i.default)(l.default.bodyContainer),children:(0,u.jsx)("div",{className:l.default.body,children:(0,u.jsx)(s.TextSpan,{theme:"title",color:C,children:t})})})]}))};var a=n(o(81109)),r=n(o(99964)),i=n(o(94184)),l=n(o(89600)),s=o(13923),d=o(31515),c=n(o(60265)),u=o(85893)},71528:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(45095)),r=n(o(94184)),i=o(48360),l=o(67294),s=n(o(44356)),d=o(88102),c=o(88984),u=o(65417),f=n(o(47065)),h=o(46346),p=n(o(11791)),m=n(o(99597)),g=n(o(65932)),_=n(o(23217)),C=o(18644),v=n(o(75426)),x=o(85893);class S extends l.Component{constructor(){super(...arguments),this.state={style:{visibility:"hidden"}},this.handleScroll=e=>{Math.abs(e.deltaY)>3&&this.handleClose()},this.handleClose=()=>{if(this.closing)return;let e;if(this.closing=!0,this.props.getZoomNode((t=>{e=t})),!e)return d.Cmd.closeModalMedia();const t=this._refImage;if(t){this.props.animateBorderRadius&&(t.style.transition="border-radius 500ms cubic-bezier(.1,.82,.25,1)",t.style.borderRadius="50%");const o=(0,a.default)(e,"start"),n=t.getBoundingClientRect(),r=o.getBoundingClientRect(),i=r.top-n.top,l=r.left-n.left,s=o.clientWidth/t.clientWidth;(0,v.default)(t,{translateX:[l,0],translateY:[i,0],scale:[s,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{d.Cmd.closeModalMedia()}))}},this.handleImageLoad=e=>{const t=e.target;this.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},(()=>{this.props.getZoomNode((e=>{const o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=n.top-o.top,r={visibility:"hidden",transform:`translateX(${n.left-o.left}px) translateY(${a}px) scale(${e.clientWidth/t.clientWidth})`,transition:"transform 0s",borderRadius:void 0};this.props.animateBorderRadius&&(r.borderRadius="50%"),this.setState({style:r},(()=>{let e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform 500ms cubic-bezier(.1,.82,.25,1)"};this.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform 500ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius 500ms cubic-bezier(.1,.82,.25,1)"}),this.setState({style:e})}))}))}))},this.setRefImage=e=>{this._refImage=e}}shouldComponentUpdate(e){return!!e.profilePicThumb.imgFull||(this.handleClose(),!1)}render(){const{contact:e,profilePicThumb:t}=this.props;let o;return t.imgFull&&(o=(0,x.jsx)(f.default,{src:t.imgFull,hasPrivacyChecks:!0,onLoad:this.handleImageLoad,className:m.default.profileViewerImg})),(0,x.jsx)(C.UIE,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.handleClose,children:(0,x.jsxs)("div",{className:(0,r.default)("overlay",m.default.container),onWheel:this.handleScroll,onClick:this.handleClose,children:[(0,x.jsxs)("div",{className:m.default.headerContainer,children:[(0,x.jsx)("div",{className:m.default.profileThumb,children:(0,x.jsx)(s.default,{image:(0,x.jsx)(c.DetailImage,{id:e.id,size:40}),theme:"plain",primary:(0,x.jsx)(u.EmojiText,{text:e.formattedUser})})}),(0,x.jsx)("div",{className:m.default.mediaPanelTools,children:(0,x.jsx)(h.MenuBar,{theme:"strong",children:(0,x.jsx)(h.MenuBarItem,{a8nText:"btn-close",icon:(0,x.jsx)(_.default,{name:"x-viewer"}),title:i.fbt._("Close",null,{hk:"19Jpec"}),onClick:this.handleClose})},"media-panel-header")})]}),(0,x.jsx)("div",{className:m.default.profileContainer,dir:"ltr",children:(0,x.jsx)("div",{className:m.default.media,children:(0,x.jsx)(p.default,{type:"scaleDown",size:this.state.size,children:(0,x.jsx)("div",{className:m.default.profileViewer,ref:this.setRefImage,style:this.state.style,children:o})})})})]})})}}S.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},S.displayName="PhotoViewerModal";var y=(0,g.default)(S,S.CONCERNS);t.default=y},79876:(e,t,o)=>{"use strict";var n=o(95318),a=o(20862);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{profilePicThumb:t,size:o}=e,n=!t.canSet()&&!t.canDelete(),[a,m]=(0,l.useState)(!1),g=(0,h.default)();return(0,p.jsx)(d.PhotoPickerLoadable,{type:c.default.PROFILE,id:t.id,attachToChat:!1,pending:a,startImage:t.imgFull,readOnly:n,onImageSet:(t,o)=>{const n=e.profilePicThumb;let a;m(!0),a=t&&o?(0,u.setProfilePic)(n,t,o):(0,u.deleteProfilePic)(n),(0,f.default)(a,g).catch((0,i.filteredCatch)(s.ActionError,(()=>{__LOG__(3)`ProfileDrawer: failed to set/delete profile image`}))).catch((0,r.catchAbort)((()=>{}))).finally((()=>{m(!1)}))},size:o})};var r=o(89385),i=o(50796),l=o(67294),s=a(o(64103)),d=o(33646),c=n(o(43556)),u=o(3764),f=n(o(84644)),h=n(o(38080)),p=o(85893)},51628:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(r.default,{a8nText:"li-share-link",icon:(0,s.jsx)(l.default,{name:"forward",className:i.default.icon}),onClick:e.onClick,children:a.fbt._("Send link via WhatsApp",null,{hk:"459eKy"})})};var a=o(48360),r=n(o(64738)),i=n(o(17932)),l=n(o(23217)),s=o(85893)},95200:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{text:t,isExpandedCaptionText:o,onExpandCaptionText:n}=e;const p=t.length>120&&!o?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.EmojiText,{formatters:l.Configuration.StatusV3Caption(),text:Array.from(t).slice(0,119).join("")}),s.default.t(721),(0,c.jsxs)("strong",{children:[" ",a.fbt._("Read more",null,{hk:"2DvSvh"})]})]}):(0,c.jsx)(i.EmojiText,{formatters:l.Configuration.StatusV3Caption(),text:t});return(0,c.jsx)("div",{className:(0,r.default)(u),children:(0,c.jsx)("div",{className:(0,r.default)(h),children:(0,c.jsx)(d.default,{onClick:n,children:(0,c.jsxs)("div",{className:(0,r.default)(f),children:[" ",p," "]})})})})};var a=o(48360),r=n(o(56720)),i=o(65417),l=o(5124),s=n(o(43725)),d=n(o(1784)),c=o(85893);const u={position:"g0rxnol2",width:"ln8gz9je",height:"ppled2lx"},f={paddingTop:"tvsr5v2h",paddingEnd:"clw8hvz5",paddingBottom:"ja2dfh8z",paddingStart:"p2tfx3a3",hyphens:"ndq9n57b",wordBreak:"cw3vfol9"},h={position:"lhggkp7q",width:"ln8gz9je",bottom:"jxacihee",zIndex:"px10qoeu",marginEnd:"k1jo73ug",marginStart:"isfiuinm",color:"lxozqee9",textAlign:"qfejxiq4",backgroundColor:"tp4bj0rl",cursor:"ajgl1lbb",fontSize:"cqiun4t2",lineHeight:"q6wg26sa"}},71607:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(50796),r=o(48360),i=o(67294),l=n(o(56720)),s=o(88102),d=o(56512),c=n(o(89520)),u=o(60811),f=o(30424),h=o(18609),p=n(o(66797)),m=o(50101),g=o(7293),_=o(55414),C=n(o(43725)),v=n(o(11339)),x=o(24264),S=n(o(35072)),y=n(o(8694)),b=o(85330),j=o(5524),T=n(o(27315)),P=n(o(23217)),E=o(50452),k=o(18644),I=n(o(24717)),w=n(o(38080)),A=n(o(41956)),M=o(85893);const O={container:{position:"lhggkp7q",right:"grt5ktjy",bottom:"f7v6by6u",left:"tukmaf4q",zIndex:"nbczt5ty",width:"b1qcobdr",maxWidth:"ckq3dtew",marginRight:"oc1ubkv0",marginLeft:"jzfo78pl",paddingBottom:"aiput80m",borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",borderBottomEndRadius:"dc5qina8",borderBottomStartRadius:"kfr1vweg",transition:"iw1tz1w0"},popupPanel:{right:"grt5ktjy",bottom:"jxacihee",left:"tukmaf4q",zIndex:"thghmljt",paddingRight:"pppsat04",paddingBottom:"przvwfww",marginRight:"oc1ubkv0",marginLeft:"jzfo78pl",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",willChange:"d6finlhe"},popupPanelNonRichStatusReplies:{width:"ma66mwvu",maxWidth:"e91fykn7",backgroundColor:"rv6u8h8g"},popupPanelRichStatusReplies:{width:"t9hu7tsx",maxWidth:"ckq3dtew",paddingTop:"emrlamx0"},wrapper:{zIndex:"nbczt5ty",display:"p357zi0d",flexDirection:"sap93d0t",paddingRight:"fyqm2y5z",paddingLeft:"tw6b5hi5",paddingTop:"emrlamx0"},iconButton:{display:"l7jjieqr",alignSelf:"rwlvdxyg",marginTop:"opp68qpq",marginBottom:"rkip0xea",marginStart:"lhp4ctto",marginEnd:"ntr8esoy"},iconButtonColourFocused:{color:"svlsagor"},iconButtonColourOutOfFocus:{color:"lxozqee9"},square26Svg:{width:"ekdr8vow",height:"dhq51u3o"},lineWrapper:{position:"g0rxnol2",top:"qq0sjtgm",left:"tukmaf4q",display:"l7jjieqr",width:"crlpoz9d"},inputContainer:{boxSizing:"cm280p3y",width:"ln8gz9je",minHeight:"gc15jzxb",paddingTop:"eujn52yf",paddingEnd:"l9g3jx6n",paddingBottom:"ckm995li",paddingStart:"lyvj5e2u",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},containerInFocus:{backgroundColor:"rv6u8h8g"},inputInFocus:{backgroundColor:"f6cvynhn",borderTopColor:"rsltai19",borderEndColor:"boshimb4",borderBottomColor:"lw07f11l",borderStartColor:"jy0rc3ak",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopWidth:"gofg5ll1",borderEndWidth:"p7waza29",borderBottomWidth:"oteuebma",borderStartWidth:"mzoqfcbu"},inputOutOfFocus:{backgroundColor:"kx1rlajt"},panelButtons:{paddingEnd:"mgssq8h7"}};function N(e,t){const[o,n]=(0,i.useState)(!1),[N,L]=(0,i.useState)(void 0),[R,D]=(0,i.useState)(void 0),[B,F]=(0,i.useState)(null),[V,W]=(0,i.useState)(300);let U=!1,H=null;const G=g.GK.supportsFeature(g.GK.F.RICH_STATUS_REPLIES),q=(0,i.useRef)(null),z=(0,i.useRef)(null),K=(0,i.createRef)(),Q=(0,w.default)();(0,i.useEffect)((()=>{(0,m.findChat)(e.msg.sender).then((e=>{Q.aborted||D(e)}))}),[]);const Y=((e,t,o)=>Boolean(e)||t||Boolean(o))(N,o,B);(0,i.useEffect)((()=>{Y?e.pause():e.play()}),[Y]);const $=()=>Y,J=()=>{var e;null===(e=q.current)||void 0===e||e.focus()},X=()=>{F(null),J()},Z=()=>{L(void 0),F(null)},ee=()=>R?Promise.resolve(R):(0,m.findChat)(e.msg.sender),te=(t,o)=>{var n;e.statusReplyMetric.statusReplyMessageType=o;const i=(0,E.genId)();s.Cmd.openToast((0,M.jsx)(E.Toast,{msg:r.fbt._("Sending reply…",null,{hk:"WYxWt"}),id:i})),t.then((()=>{e.statusReplyMetric.statusReplyResult=v.default.STATUS_REPLY_RESULT.OK,e.onSend()})).catch((0,a.filteredCatch)(c.default,(()=>{R&&(s.Cmd.openToast((0,M.jsx)(E.Toast,{msg:C.default.t(870,{contact:R.contact.formattedName}),id:i})),e.statusReplyMetric.statusReplyResult=v.default.STATUS_REPLY_RESULT.ERROR_UNKNOWN)}))),Z(),null===(n=q.current)||void 0===n||n.reset(),e.dismissReply()},oe=t=>{if(t.stopPropagation(),t.preventDefault(),!q.current)return;const o=q.current.value.trim();o.length&&ee().then((t=>{const n=(0,j.sendTextMsgToChat)(t,(0,p.default)(o),{quotedMsg:e.msg});te(n,v.default.STATUS_REPLY_MESSAGE_TYPE.TEXT)}))},ne=()=>o,ae=()=>{n(!1),Z()},re=e=>{const t=q.current;t&&t.replaceSelection(e)},ie=()=>{var e;null===(e=z.current)||void 0===e||e.restoreFocus()},le=e=>{null==e?X():(F(e),n(!0))};(0,i.useImperativeHandle)(t,(()=>({isFocused:ne,isPaused:$,restoreFocus:J,blur:ae})));const se=G&&(ne()||null!=B);(0,i.useEffect)((()=>{var e;null===(e=q.current)||void 0===e||e.setTheme(se?"rich-status-reply":"status-reply")}),[se]);const de=null!=V&&null!=B&&G?(0,M.jsx)(y.default,{onResize:e=>{W(e.width)},children:(0,M.jsx)(d.ComposeBoxPanelsLoadable,{displayCache:H,width:V,onDisplayCache:e=>{H=e},onEmoji:re,onFocusRelease:()=>{},onGif:()=>{},onPanelChange:le,onSticker:(t,o)=>{t.isCreateButton||ee().then((n=>{const a=(0,b.sendStickerToChat)(n,t,{stickerSendOrigin:o,quotedMsg:e.msg});te(a,v.default.STATUS_REPLY_MESSAGE_TYPE.STICKER)}))},requestDismiss:X,forwardedRef:e=>{K.current=e},selectedPanelId:B,theme:x.PanelsTheme.StatusReplyComposeBox})}):null,ce=N?(0,M.jsx)(k.UIE,{displayName:"EmojiPicker",escapable:!0,requestFocus:ie,children:(0,M.jsx)("div",{children:(0,M.jsx)(k.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,requestDismiss:()=>{L(void 0),J()},requestFocus:ie,children:(0,M.jsx)(I.default,{contextMenu:N})})})}):null,ue=R&&(se||o&&!N)?(0,M.jsx)(k.UIE,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:e.dismissReply,children:(0,M.jsx)("div",{className:(0,l.default)(O.popupPanel,G?O.popupPanelRichStatusReplies:O.popupPanelNonRichStatusReplies),children:(0,M.jsx)(S.default,{msg:e.msg.safe(),theme:"statusV3",chat:R},e.msg.id.toString())})}):null,fe=G?(0,M.jsx)("div",{className:(0,l.default)(O.panelButtons),children:(0,M.jsx)(x.ComposeBoxPanelsMenu,{selectedPanelId:B,onChange:le,theme:x.PanelsTheme.StatusReplyComposeBox,buttonStyle:[se?O.iconButtonColourFocused:O.iconButtonColourOutOfFocus]})}):(0,M.jsx)("button",{className:(0,l.default)(O.iconButton,O.iconButtonColourOutOfFocus),onClick:e=>{e&&(e.preventDefault(),e.stopPropagation());const t=(0,M.jsx)(f.EmojiPanel,{ref:z,onEmoji:re,onFocusNext:J,onFocusPrev:J});L({menu:t,dirY:u.DirY.TOP,type:"emoji_picker",anchor:e.target})},children:(0,M.jsx)(P.default,{name:"smiley",iconXstyle:O.square26Svg})});return(0,M.jsxs)("div",{className:(0,l.default)(O.container,se&&O.containerInFocus),children:[(0,M.jsx)(A.default,{transitionName:"status-v3-panel",transitionAppear:!0,children:de}),(0,M.jsx)(A.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0,children:ue}),(0,M.jsxs)("div",{className:(0,l.default)(O.wrapper),children:[fe,(0,M.jsxs)("div",{className:(0,l.default)(O.lineWrapper),children:[(0,M.jsx)(T.default.EmojiSuggestions,{theme:h.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:e=>{U=e}}),(0,M.jsx)(_.HotKeys,{className:(0,l.default)(O.inputContainer,se?O.inputInFocus:O.inputOutOfFocus),onClick:J,children:(0,M.jsx)(T.default,{ref:q,theme:"status-reply",spellCheck:!0,onFocus:()=>{n(!0)},onBlur:()=>{U||document.activeElement===document.body&&(G||n(!1))},onEnter:oe,placeholder:r.fbt._("Type a reply…",null,{hk:"3bHadc"}),multiline:!0})})]}),(0,M.jsx)("button",{className:(0,l.default)(O.iconButton,se?O.iconButtonColourFocused:O.iconButtonColourOutOfFocus),onClick:oe,children:(0,M.jsx)(P.default,{name:"send",directional:!0,iconXstyle:O.square26Svg})}),ce]})]})}var L=(0,i.forwardRef)(N);t.default=L},89660:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Img=function(e){const{msg:t,onMouseDown:o,onMouseUp:n,play:f,markRead:C,statusV3:v,pause:x}=e,S=(0,m.useModelValues)(e.mediaData,["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio","fullPreviewData"]);return(0,r.useEffect)((()=>(S.mediaStage!==s.MEDIA_DATA_STAGE.RESOLVED&&t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:c.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0}),()=>{x()})),[]),(0,r.useEffect)((()=>{f(),S.mediaStage===s.MEDIA_DATA_STAGE.RESOLVED&&C(v,t)}),[C,S.mediaStage,t,f,v]),(0,g.jsx)(d.default,{mediaData:S,placeholderRenderer:()=>{var e;const t=(0,a.default)(p.default.playerContent,p.default.v3Image,p.default.loading);return(0,g.jsx)("div",{className:t,onMouseDown:o,onMouseUp:n,children:(0,g.jsx)(u.default,{type:"contain",size:{width:S.aspectRatio,height:1},children:(0,g.jsx)(l.default,{src:null!==(e=_(S))&&void 0!==e?e:""})})})},downloadMedia:()=>t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:c.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0}),renderProgressively:!0,children:e=>{var r;const s=(0,a.default)(p.default.playerContent,p.default.v3Image);return(0,g.jsx)("div",{className:s,onMouseDown:o,onMouseUp:n,onDragEnd:n,children:(0,g.jsx)(u.default,{type:"contain",size:{width:S.fullWidth,height:S.fullHeight},children:(0,g.jsxs)("div",{className:p.default.mediaViewer,children:[(0,g.jsx)(l.default,{src:e,disableContextMenu:!0}),t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&(0,g.jsx)(i.default,{annotations:t.interactiveAnnotations,onTooltipDisplay:o,onTooltipDismiss:n}),(null===(r=t.actionLink)||void 0===r?void 0:r.buttonTitle)&&t.actionLink.url&&(0,g.jsx)("div",{className:p.default.actionLink,children:(0,g.jsx)(h.default,{text:t.actionLink.buttonTitle,url:t.actionLink.url})}),null]})})})}})};var a=n(o(94184)),r=o(67294),i=n(o(62190)),l=n(o(47065)),s=o(58668),d=n(o(20553)),c=n(o(11339)),u=n(o(11791)),f=n(o(34949)),h=n(o(31778)),p=n(o(65257)),m=o(49082),g=o(85893);function _(e){return e?e.fullPreviewData?e.fullPreviewData.url():e.preview instanceof f.default?e.preview.url():null:null}},87998:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Player=function(e){const{msg:t,mediaData:o,statusV3:n,msgIdx:s,sessionId:c,rowIdx:T,onNext:P,markRead:E,closeStatusViewer:U}=e,z=(0,q.default)(),ee=(0,V.default)((()=>(0,A.setupStatusV3Controller)(o,t))),te=(0,d.useRef)(!0),oe=(0,V.default)((()=>new S.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}))),ne=(0,V.default)((()=>new S.default.StatusReply({statusReplyResult:S.default.STATUS_REPLY_RESULT.CANCELLED}))),ae=(0,d.useRef)(null),re=(0,d.useRef)(null),ie=(0,d.useRef)(null),le=(0,d.useRef)(null),se=(0,d.useRef)(null),de=(0,d.useRef)(null),ce=(0,d.useRef)(null),[ue,fe]=(0,d.useState)(!1),[he,pe]=(0,d.useState)(!1),[me,ge]=(0,d.useState)(!1),[_e,Ce]=(0,d.useState)(!1),[ve,xe]=(0,d.useState)(!1),[Se,ye]=(0,d.useState)(!1),[be,je]=(0,d.useState)(null),Te=()=>{const e=de.current,t=le.current;if(!e||!t)return;const o=e.getBoundingClientRect(),n=t.getBoundingClientRect();!C.default.isRTL()&&o.right>n.left-5||C.default.isRTL()&&o.left<n.right+5?fe(!0):fe(!1)},Pe=(0,F.default)(Te),Ee=(0,G.default)((e=>{if(o&&o.mediaStage!==x.MEDIA_DATA_STAGE.RESOLVED)return;const t=ae.current;null!=t&&(oe.current.webcStatusViewT+=Math.round(window.performance.now()-t),ae.current=void 0),ee.current.pause(),re.current=e})),ke=(0,G.default)((()=>{var e;if(o){if(o.mediaStage!==x.MEDIA_DATA_STAGE.RESOLVED)return;oe.current.webcStatusLoadT||(oe.current.markWebcStatusLoadT(),oe.current.webcStatusLoaded=!0)}(null===(e=ie.current)||void 0===e?void 0:e.isPaused())||te.current&&(ae.current=window.performance.now(),ee.current.resume())})),Ie=()=>{var e;const t=ce.current;t&&r.default.focus(t),null===(e=ie.current)||void 0===e||e.blur()},we=e=>{var t,o;(e&&(e.stopPropagation(),e.preventDefault()),n.contact.isMe)||((null===(t=ie.current)||void 0===t?void 0:t.isFocused())?Ie():null===(o=ie.current)||void 0===o||o.restoreFocus())},Ae=()=>{f.Cmd.closeModal(),ke(),pe(!1)},Me=()=>{ye(!Se)},Oe=(0,G.default)((()=>{Ee(Y.MOUSEDOWN)})),Ne=(0,G.default)((()=>{ke()})),Le=()=>{oe.current.webcStatusReplyCount++},Re=e=>{var t,o;(e&&(e.stopPropagation(),e.preventDefault()),null===(t=ie.current)||void 0===t?void 0:t.isFocused())&&(null===(o=ie.current)||void 0===o||o.restoreFocus())};(0,d.useLayoutEffect)((()=>{var e;if(null!=c){let e;n.contact.isMe?(e=S.default.WEBC_STATUS_ROW_SECTION.MY,y.MsgInfoCollection.find(t.id).then((e=>{z.aborted||je(e.read)})).catch((0,a.filteredCatch)(K.EphemeralDrop,(()=>{})))):e=n.contact.statusMute?S.default.WEBC_STATUS_ROW_SECTION.MUTED:n.hasUnread?S.default.WEBC_STATUS_ROW_SECTION.RECENT:S.default.WEBC_STATUS_ROW_SECTION.VIEWED;const r=n.msgs.length-1-s<n.unreadCount;let i;o?i=o.isGif?S.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===o.type?S.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:S.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(i=t.getLinks().length?S.default.WEBC_STATUS_MEDIA_TYPE.URL:S.default.WEBC_STATUS_MEDIA_TYPE.TEXT,oe.current.markWebcStatusLoadT(),oe.current.webcStatusLoaded=!0),oe.current.webcStatusSessionId=c,oe.current.webcStatusRowSection=e,oe.current.webcStatusRowIndex=T||0,oe.current.webcStatusMediaType=i,oe.current.webcStatusUnread=r,ne.current.statusSessionId=c,(0,g.smbStatusLoggingEnabled)()&&(oe.current.webcIsPosterBiz=n.contact.isBusiness,ne.current.isPosterBiz=n.contact.isBusiness,oe.current.webcIsPostersAddressBook=n.contact.isMyContact,ne.current.isPosterInAddressBook=n.contact.isMyContact)}null===(e=ee.current)||void 0===e||e.addListeners(((e,t)=>{const o=se.current;null==o||o.handleStart(e,t),ge(!1),re.current=null}),(()=>{const e=se.current;null==e||e.handlePause(),ge(!0)}),(()=>{const e=se.current;null==e||e.handleEnded().then((()=>{z.aborted||P()}))}),((e,t)=>{Ce(t),xe(e)})),o?(ke(),(null==o?void 0:o.mediaStage)===x.MEDIA_DATA_STAGE.RESOLVED&&E(n,t)):(t.type,i.MSG_TYPE.CHAT,ke(),E(n,t));const r=ce.current;null==r||r.focus(),Te()}),[]),(0,H.default)((()=>{if(ee.current.removeListeners(),null!=c){const e=Math.round(ee.current.duration||0);oe.current.webcStatusPlaybackT=e;const t=ae.current;null!=t&&(oe.current.webcStatusViewT+=Math.round(window.performance.now()-t),ae.current=void 0),oe.current.commit(),ne.current.commit()}}));const De=(0,G.default)(E);let Be,Fe;if((0,W.useListener)(window,"focus",(()=>{te.current=!0,he||re.current!==Y.WINDOW_BLUR||ke()})),(0,W.useListener)(window,"blur",(()=>{te.current=!1,me||Ee(Y.WINDOW_BLUR)})),(0,W.useListener)(window,"resize",Pe),o){const e=Z(o);e&&(Be={backgroundImage:`url(${e})`})}else if(t.type===i.MSG_TYPE.CHAT){const e=t.statusV3TextBg;Be={backgroundColor:e}}if(o)switch(o.type){case v.default.TYPE.IMAGE:Fe=(0,Q.jsx)(w.StatusV3Img,{msg:t,statusV3:n,mediaData:o,markRead:De,play:ke,pause:Ee,onMouseDown:Oe,onMouseUp:Ne});break;case v.default.TYPE.VIDEO:Fe=(0,Q.jsx)($,{msg:t,statusV3:n,mediaData:o,markRead:De,play:ke,pause:Ee,playbackController:ee.current,onMouseDown:Oe,onMouseUp:Ne});break;default:__LOG__(3)`Invalid status v3 image type: ${o.type}`}else Fe=t.type===i.MSG_TYPE.CHAT?(0,Q.jsx)(R.StatusV3Text,{msg:t,onMouseDown:Oe,onMouseUp:Ne}):(0,Q.jsx)(J,{onMouseDown:Oe,onMouseUp:Ne});const Ve=m.GK.supportsFeature(m.GK.F.STATUS_MEDIA_CONTROLS),We=(0,Q.jsx)("div",{ref:le,children:(0,Q.jsx)(N.default,{ref:se,current:e.msgIdx,total:e.totalMsgs,hasMediaControls:Ve,onClick:e.onClickProgressBar})}),Ue=t.isSentByMe||n.contact.isPSA,He=(0,l.default)(M.default.profile,{[M.default.nonClickProfile]:Ue,[M.default.profileNarrow]:ue,[M.default.profileWithMediaControls]:Ve}),Ge=(0,l.default)(M.default.profile,M.default.measuringProfile,{}),qe=e=>e.stopPropagation(),ze=(0,Q.jsx)(b.ContactName,{className:M.default.msgInfoName,contact:n.contact,you:!0,ellipsify:!0,showBusinessCheckmark:n.contact.showBusinessCheckmarkAsPrimary}),Ke=(0,Q.jsxs)("div",{className:He,onClick:Ue?null:()=>{const e=n.contact.id;(0,p.findChat)(e).then((e=>f.Cmd.openChatBottom(e))).then((()=>{U(!0)}))},children:[(0,Q.jsx)("div",{className:M.default.playerAvatar,children:(0,Q.jsx)(h.DetailImage,{id:n.contact.id,theme:"status_v3",size:40})}),(0,Q.jsxs)("div",{className:M.default.msgInfo,children:[(0,Q.jsx)("div",{className:!Ve&&Ue?null:M.default.msgInfoNameWrapper,children:ze}),(0,Q.jsx)("div",{className:M.default.timestamp,children:u.Clock.relativeDateAndTimeStr(t.t)})]}),Ve?(0,Q.jsx)("div",{className:M.default.statusMediaControls,onClick:qe,children:(0,Q.jsx)(O.default,{isPaused:me,hasAudio:(null==o?void 0:o.type)===v.default.TYPE.VIDEO&&ve,isMuted:_e,onPlay:ke,onPause:()=>{Ee(Y.PAUSE_BUTTON)},onMute:()=>{ee.current.mute(),Ce(!0)},onUnmute:()=>{ee.current.unmute(),Ce(!1)}})}):null]}),Qe=(0,Q.jsxs)("div",{ref:de,className:Ge,children:[(0,Q.jsx)("div",{className:M.default.playerAvatar,children:(0,Q.jsx)(h.DetailImage,{id:n.contact.id,theme:"status_v3",size:40})}),(0,Q.jsxs)("div",{className:M.default.msgInfo,children:[ze,(0,Q.jsx)("div",{className:M.default.timestamp,children:u.Clock.relativeDateAndTimeStr(t.t)})]})]});let Ye,$e;o&&(Ye=(0,Q.jsx)(X,{mediaData:o}));const Je=e.statusV3.contact;Je.isMe||Je.isPSA||($e=(0,Q.jsx)(_.HotKeys,{handlers:{left:qe,right:qe},onClick:Re,children:(0,Q.jsx)(I.default,{msg:e.msg,dismissReply:Ie,onSend:Le,pause:Ee,play:ke,ref:e=>{ie.current=e},statusReplyMetric:ne.current})}));const Xe=Je.isMe&&be?(0,Q.jsx)("div",{className:M.default.seen,children:(0,Q.jsx)(L.default,{seenCount:be.length,onClick:()=>{be&&(f.Cmd.openModal((0,Q.jsx)(D.default,{onClose:Ae,viewers:be})),Ee(Y.OPEN_SEE_VIEWERS_MODAL),pe(!0))}})}):null,Ze=(0,l.default)(M.default.playerBackground,{[M.default.media]:o});let et;const tt=(0,l.default)(M.default.progressBackdrop,{[M.default.progressBarBackdropNarrow]:ue});t.type!==i.MSG_TYPE.CHAT&&(et=(0,Q.jsx)("div",{className:tt}));let ot;t.type!==i.MSG_TYPE.CHAT&&"string"==typeof t.caption&&(ot=(0,Q.jsx)("div",{className:M.default.caption,children:(0,Q.jsx)(j.default,{type:"contain",size:{width:o.fullWidth,height:o.fullHeight},children:(0,Q.jsx)(k.default,{text:t.caption,isExpandedCaptionText:Se,onExpandCaptionText:Me})})}));return(0,Q.jsx)(B.UIE,{displayName:"StatusV3Player",escapable:!0,requestDismiss:t=>{t||e.closeStatusViewer()},requestFocus:Ie,children:(0,Q.jsx)(_.HotKeys,{handlers:{tab:we,"shift+tab":we},onClick:Ie,children:(0,Q.jsxs)("div",{className:M.default.playerWrapper,tabIndex:-1,ref:ce,children:[Qe,Ke,et,We,(0,Q.jsx)("div",{className:Ze,style:Be}),Fe,ot,Ye,Xe,$e]},t.id.toString())})})};var a=o(50796),r=n(o(52013)),i=o(15461),l=n(o(94184)),s=o(48360),d=o(67294),c=n(o(62190)),u=o(22683),f=o(88102),h=o(88984),p=o(50101),m=o(7293),g=o(57701),_=o(55414),C=n(o(43725)),v=n(o(2320)),x=o(58668),S=n(o(11339)),y=o(17972),b=o(12176),j=n(o(11791)),T=n(o(34949)),P=o(11054),E=n(o(31778)),k=n(o(95200)),I=n(o(71607)),w=o(89660),A=o(5358),M=n(o(65257)),O=n(o(78333)),N=n(o(4392)),L=n(o(21029)),R=o(47786),D=n(o(16495)),B=o(18644),F=n(o(81559)),V=n(o(59552)),W=o(19529),U=o(49082),H=n(o(84215)),G=n(o(83800)),q=n(o(38080)),z=n(o(99967)),K=o(77591),Q=o(85893);const Y=o(54302).Mirrored(["PAUSE_BUTTON","MOUSEDOWN","WINDOW_BLUR","OPEN_SEE_VIEWERS_MODAL"]);function $(e){var t,o;const{msg:n,onMouseDown:a,onMouseUp:r,playbackController:i,play:s,markRead:u,statusV3:f,pause:h}=e,p=(0,d.useRef)(null),m=(0,U.useModelValues)(e.mediaData,["preview","mediaStage","fullWidth","fullHeight","streamable","fullPreviewData"]);(0,d.useEffect)((()=>{m.streamable||m.isStreamable()||n.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:S.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}),[]),(0,H.default)((()=>{h()}));const g=(0,G.default)((e=>{p.current=e.current,i.setVideo(p.current)}));(0,d.useEffect)((()=>{s(),m.mediaStage===x.MEDIA_DATA_STAGE.RESOLVED&&u(f,n)}),[u,m.mediaStage,n,s,f]);const _=m.mediaStage!==x.MEDIA_DATA_STAGE.RESOLVED,v=(0,l.default)(M.default.playerContent,M.default.v3Video,{loading:_});return(0,Q.jsx)("div",{className:v,onMouseDown:a,onMouseUp:r,children:(0,Q.jsx)(j.default,{type:"contain",size:{width:m.fullWidth,height:m.fullHeight},children:(0,Q.jsxs)("div",{className:M.default.mediaViewer,children:[(0,Q.jsx)(z.default,{msg:n,mediaData:m,autoPlay:!0,refVideo:g,poster:null!==(t=Z(m))&&void 0!==t?t:"",disableContextMenu:!0,children:C.default.t(826)}),n.interactiveAnnotations&&n.interactiveAnnotations.length>0&&(0,Q.jsx)(c.default,{annotations:n.interactiveAnnotations,onTooltipDisplay:e.onMouseDown,onTooltipDismiss:e.onMouseUp}),(null===(o=n.actionLink)||void 0===o?void 0:o.buttonTitle)&&n.actionLink.url&&(0,Q.jsx)("div",{className:M.default.actionLink,children:(0,Q.jsx)(E.default,{text:n.actionLink.buttonTitle,url:n.actionLink.url})}),null]})})})}function J(e){return(0,Q.jsx)("div",{className:M.default.playerContent,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,children:(0,Q.jsx)("div",{className:M.default.unknown,children:s.fbt._("You received a status, but your version of WhatsApp doesn't support it.",null,{hk:"RNPf0"})})})}function X(e){return(0,U.useModelValues)(e.mediaData,["mediaStage"]).mediaStage!==x.MEDIA_DATA_STAGE.RESOLVED?(0,Q.jsx)("div",{className:M.default.mediaStateControls,children:(0,Q.jsx)("button",{className:"icon-media-disabled",children:(0,Q.jsx)(P.Spinner,{size:50,stroke:4,color:"white"})})}):null}function Z(e){return e?e.fullPreviewData?e.fullPreviewData.url():e.preview instanceof T.default?e.preview.url():null:null}},78333:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{isPaused:t,hasAudio:o,isMuted:n,onPlay:a,onPause:r,onMute:l,onUnmute:s}=e;return(0,d.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,d.jsxs)(i.FlexRow,{children:[(0,d.jsx)(h,{isPaused:t,handlePlayPauseButton:()=>{t?a():r()}}),(0,d.jsx)(p,{hasAudio:o,isMuted:n,handleMuteButton:()=>{n?s():l()}})]})})};var a=o(48360),r=n(o(56720)),i=o(29623),l=n(o(38932)),s=n(o(23217)),d=o(85893);const c={cursor:"bx7g2weo",width:"i94gqilv",height:"bmot90v7",color:"lxozqee9"},u={marginRight:"lyrceosr"},f={opacity:"brh521k9"};function h(e){let{isPaused:t,handlePlayPauseButton:o}=e;return(0,d.jsx)("div",{className:(0,r.default)(u,c),children:(0,d.jsx)(l.default,{"aria-label":t?a.fbt._("Play",null,{hk:"4CjEWt"}):a.fbt._("Pause",null,{hk:"1kvbzt"}),onClick:o,name:t?"status-media-controls-play":"status-media-controls-pause"})})}function p(e){let{hasAudio:t,isMuted:o,handleMuteButton:n}=e;return t?(0,d.jsx)("div",{className:(0,r.default)(c),children:(0,d.jsx)(l.default,{"aria-label":o?a.fbt._("Unmute",null,{hk:"aQpZx"}):a.fbt._("Mute",null,{hk:"1C7Sjw"}),onClick:n,name:o?"status-media-controls-volume-off":"status-media-controls-volume-on"})}):(0,d.jsx)("div",{className:(0,r.default)(f,c),children:(0,d.jsx)(s.default,{name:"status-media-controls-no-sound"})})}},47786:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=function(e){const{msg:t}=e;(0,r.useEffect)((()=>{l.default.load(t.font).catch((()=>{}))}),[]);const o=(0,c.numCodepoints)(e.msg.body);let n,f;const h={[d.default[`font_${e.msg.font}`]]:!0};o<=60?(n=(0,a.default)(d.default.text,d.default.textLarge,h),f=s.Configuration.StatusV3Text({links:e.msg.getLinks()})):o<=240?(n=(0,a.default)(d.default.text,d.default.textMedium,h),f=s.Configuration.StatusV3Text({links:e.msg.getLinks()})):n=(0,a.default)(d.default.text,d.default.textSmall,h);return(0,u.jsx)("div",{className:(0,a.default)(d.default.playerContent,{[d.default.statusPanelPlayerContent]:"status-panel"===e.theme,[d.default.statusThumbnailPlayerContent]:"status-thumbnail"===e.theme,[d.default.textThumbnailPlayerContent]:"text-thumb"===e.theme}),onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,children:(0,u.jsx)("div",{className:n,children:(0,u.jsx)(i.EmojiText,{text:e.msg.body,formatters:f})})})};var a=n(o(94184)),r=o(67294),i=o(65417),l=n(o(10483)),s=o(5124),d=n(o(65257)),c=o(3940),u=o(85893)},61752:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{initialStatusV3:t,quotedMsgKey:o,initialStatusMsg:n,onMsgNotFound:E}=e,k=(0,b.default)(),[I,w]=(0,c.useState)(null),[A,M]=(0,c.useState)(null),[O,N]=(0,c.useState)(!0),L=(0,y.default)((()=>new C.Statusv3Snapshot(t,o))),R=e=>{if((!I||e!==I.msgIdx)&&I){const t=L.current.statusAt(I,e);N(!0),t.then((e=>{k.aborted||w(e)})).catch((0,a.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`}))).catch((0,a.filteredCatch)(T.EphemeralDrop,(()=>{}))).catch((0,a.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))).finally((()=>{N(!1)}))}};(0,c.useEffect)((()=>{const e=L.current;if(I&&e&&e.hasNext(I)){e.getNext(I).then((t=>{if(k.aborted)return;const o=e.statuses[t.statusIdx].msgs[t.msgIdx];if(!o)throw new C.StatusV3MsgNotFound;if(o.type===l.MSG_TYPE.CHAT)f.default.load(o.font).catch((()=>{}));else{const e=o.mediaData;e&&e.mediaStage!==p.MEDIA_DATA_STAGE.RESOLVED&&o.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:m.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!1})}})).catch((0,a.filteredCatch)(C.StatusV3MsgNotFound,(()=>{__LOG__(3)`Error finding next status while preloading next status`}))).catch((0,a.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while preloading next status`}))).catch((0,a.filteredCatch)(T.EphemeralDrop,(()=>{}))).catch((0,a.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})))}}),[I,L,k.aborted]);const D=t=>{M(!0),(0,r.delayMs)(200).then((()=>{k.aborted||e.closeStatusViewer(t)}))},B=()=>{const e=L.current;if(I&&e&&e.hasPrev(I)){const t=I.statusIdx;e.getPrev(I).then((e=>{k.aborted||(e.statusIdx===t?w(e):(M(!0),(0,r.delayMs)(200).then((()=>{k.aborted||(w(e),M(!1))}))))})).catch((0,a.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting previous status msg`}))).catch((0,a.filteredCatch)(T.EphemeralDrop,(()=>{}))).catch((0,a.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})))}},F=()=>{const e=L.current;if(I&&e&&e.hasNext(I)){const t=I.statusIdx,o=e.getNext(I);N(!0),o.then((e=>{k.aborted||(e.statusIdx===t?w(e):(M(!0),N(!1),(0,r.delayMs)(200).then((()=>{k.aborted||(w(e),M(!1))}))))})).catch((0,a.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`,D()}))).catch((0,a.filteredCatch)(T.EphemeralDrop,(()=>{}))).catch((0,a.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))).finally((()=>{N(!1)}))}else D()},V=(e,t)=>{const o=L.current;if(!t)return;const n=e.unreadCount,a=e.totalCount;if(e.msgs.getModelsArray().findIndex((e=>e===t))>=a-n){const o=(0,i.unixTime)(),n=t.id.participant;n&&n.isPSA()&&t.set("statusPSAReadTimestamp",o),e.sendReadStatus(t.id,t.author,o)}const r=o.statuses.find((t=>t.statusV3===e));r&&r.readMsgKeys.push(t.id.toString())};let W,U,H,G,q,z,K,Q,Y;(0,c.useEffect)((()=>{const r=t;if(o){const t=o;if(-1!==r.msgs.getModelsArray().findIndex((e=>e.id.toString()===t.toString()))){L.current.getFirstUnread(r,!0,t).then((e=>{k.aborted||(w(e),N(!1))})).catch((0,a.filteredCatch)(T.EphemeralDrop,(()=>{}))).catch((0,a.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,u.Cmd.openToast((0,P.jsx)(S.Toast,{msg:d.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,S.genId)()})),e.closeStatusViewer()})))}else N(!0),r.loadMore(r.totalCount).then((()=>{N(!1);if(-1!==r.msgs.getModelsArray().findIndex((e=>e.id.toString()===t.toString()))){L.current.getFirstUnread(r,!0,t).then((e=>{k.aborted||(w(e),N(!1))})).catch((0,a.filteredCatch)(T.EphemeralDrop,(()=>{}))).catch((0,a.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,u.Cmd.openToast((0,P.jsx)(S.Toast,{msg:d.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,S.genId)()})),e.closeStatusViewer()})))}else null==E||E(),u.Cmd.openToast((0,P.jsx)(S.Toast,{msg:d.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,S.genId)()})),e.closeStatusViewer()})).catch((()=>{u.Cmd.openToast((0,P.jsx)(S.Toast,{msg:d.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,S.genId)()})),D()})).finally((()=>{N(!1)}))}else{const t=n;L.current.getFirstUnread(r,!0,null==t?void 0:t.id).then((e=>{k.aborted||(w(e),N(!1))})).catch((0,a.filteredCatch)(T.EphemeralDrop,(()=>{}))).catch((0,a.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,u.Cmd.openToast((0,P.jsx)(S.Toast,{msg:d.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,S.genId)()})),e.closeStatusViewer()})))}}),[]),I&&(q=L.current,z=q.statuses[I.statusIdx],K=z.statusV3,Q=z.msgs[I.msgIdx],q.hasPrev(I)&&(H=(0,P.jsx)("div",{className:v.default.chevronLeft,children:(0,P.jsx)(x.default,{name:"chevron-left"})}),G=(0,P.jsx)("div",{className:v.default.chevronLeftBg,onClick:B})),q.hasNext(I)&&(W=(0,P.jsx)("div",{className:v.default.chevronRight,children:(0,P.jsx)(x.default,{name:"chevron-right"})}),U=(0,P.jsx)("div",{className:v.default.chevronRightBg,onClick:()=>{F(),V(K,Q)}})));!A&&!O&&Q&&I&&z&&K&&(Y=(0,P.jsx)("div",{className:v.default.playerContainer,children:(0,P.jsx)(_.StatusV3Player,{statusV3:K,msg:Q,mediaData:Q.mediaData,msgIdx:I.msgIdx,totalMsgs:z.totalCount,markRead:V,closeStatusViewer:D,onClickProgressBar:R,onNext:F,onPrev:B,sessionId:e.sessionId,rowIdx:e.rowIdx},Q.id)},Q.id));const $=(0,s.default)(v.default.v3X,{[v.default.v3X_mac]:!1}),J=(0,P.jsx)("button",{className:$,onClick:()=>e.closeStatusViewer(!0),children:(0,P.jsx)(x.default,{name:"x-viewer"})}),X=(0,s.default)(v.default.backIcon,{[v.default.backIcon_mac]:!1}),Z=(0,P.jsx)("button",{className:X,onClick:()=>e.closeStatusViewer(),children:(0,P.jsx)(x.default,{name:"back",directional:!0})});let ee;O&&(ee=(0,P.jsx)("div",{className:v.default.mediaStateControls,children:(0,P.jsx)("button",{children:(0,P.jsx)(g.Spinner,{size:50,stroke:4,color:"white"})})}));return(0,P.jsx)(h.HotKeys,{handlers:{left:B,right:F},children:(0,P.jsxs)("div",{className:v.default.viewer,"data-animate-status-v3-viewer":!0,children:[J,Z,G,H,U,W,ee,(0,P.jsx)(j.default,{transitionName:"status-v3-player",transitionAppear:!0,children:Y})]})})};var a=o(50796),r=o(13959),i=o(92844),l=o(15461),s=n(o(94184)),d=o(48360),c=o(67294),u=o(88102),f=n(o(10483)),h=o(55414),p=(n(o(43725)),o(58668)),m=n(o(11339)),g=o(11054),_=o(87998),C=o(70860),v=n(o(46209)),x=n(o(23217)),S=o(50452),y=n(o(59552)),b=n(o(38080)),j=n(o(41956)),T=o(77591),P=o(85893)},16495:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{viewers:t,onClose:o}=e;(0,r.useEffect)((()=>o));const n=new u.default,a=function(e){const t=e.map((e=>({participant:e,itemKey:e.id.toString(),height:c.DEFAULT_ITEM_HEIGHT})));return t.sort(((e,t)=>t.participant.t-e.participant.t)),t}(t),d=a.length?(0,_.jsx)(c.FlatList,{flatListController:n,direction:"vertical",forceConsistentRenderCount:!0,data:a,renderItem:C}):(0,_.jsx)(x,{}),f=m.default.t(832,{count:a.length}),h={width:400,height:v(a.length)};return(0,_.jsx)(g.Modal,{type:g.ModalTheme.CustomSize,dimensions:h,children:(0,_.jsxs)(i.default,{theme:"settings",children:[(0,_.jsx)(s.DrawerHeader,{onCancel:o,title:f,type:s.DRAWER_HEADER_TYPE.POPUP}),(0,_.jsx)(l.default,{flatListControllers:[n],children:d})]})})};var a=o(48360),r=o(67294),i=n(o(60453)),l=n(o(69637)),s=o(94790),d=o(85600),c=o(47915),u=n(o(30855)),f=o(99234),h=o(7293),p=n(o(47834)),m=n(o(43725)),g=o(57224),_=o(85893);function C(e){const{participant:t}=e;return(0,_.jsx)(p.default,{msgInfoParticipant:t,contact:t.contact},t.id.toString())}function v(e){const t=e>0?72*e:h.GK.supportsFeature(h.GK.F.MD_BACKEND)?100:150;return Math.min(500,t+59)}function x(){return h.GK.supportsFeature(h.GK.F.MD_BACKEND)?(0,_.jsx)(d.Empty,{children:"none"===(0,f.getUserPrivacySettings)().readReceipts?a.fbt._("Can't see views because you disabled Read Receipts in Settings > Account > Privacy",null,{hk:"45oJGn"}):a.fbt._("No views yet",null,{hk:"456C0K"})}):(0,_.jsx)(d.Empty,{title:a.fbt._("No views yet",null,{hk:"456C0K"}),text:a.fbt._("Views are not visible if you have disabled Read Receipts in Settings > Account > Privacy on your phone",null,{hk:"1bIdNy"})})}},9031:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(67294),r=n(o(69618)),i=n(o(60453)),l=n(o(69637)),s=o(94790),d=o(65417),c=o(55414),u=n(o(51845)),f=o(57224),h=n(o(81880)),p=o(82857),m=n(o(23217)),g=o(90011),_=n(o(18914)),C=o(18644),v=o(31042),x=o(85893);var S=e=>{const{defaultText:t,title:o,onSend:n,onBack:S}=e,[y,b]=(0,a.useState)(t),j=(0,v.findFirstWebLink)(y),{linkPreview:T,clearLinkPreview:P}=(0,v.useLinkPreview)(j),E=o?(0,x.jsx)(d.EmojiText,{text:o,direction:"auto",titlify:!0,ellipsify:!0}):null,{title:k,canonicalUrl:I,description:w,thumbnail:A}=T||{},M=T?(0,x.jsx)(C.UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:P,children:(0,x.jsx)(h.default,{onOmit:P,children:(0,x.jsx)(u.default,{title:k,compose:!0,canonicalUrl:I,description:w,thumbnailJpeg:A})})}):null;return(0,x.jsx)(f.Modal,{type:f.ModalTheme.Box,children:(0,x.jsxs)(i.default,{children:[(0,x.jsx)(s.DrawerHeader,{type:s.DRAWER_HEADER_TYPE.POPUP,onBack:S,children:E}),(0,x.jsx)(l.default,{children:(0,x.jsxs)(c.HotKeys,{className:_.default.container,children:[(0,x.jsx)("div",{className:_.default.inputContainer,children:(0,x.jsx)(g.TextInput,{a8n:"text-message-modal-text-unput",value:y,maxLength:r.default.MAX_TXT_MSG_SIZE,onChange:e=>{b(e)},supportsEmoji:!0,multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small"})}),M]})}),(0,x.jsx)("div",{className:_.default.btnContainer,children:(0,x.jsx)("div",{className:_.default.btnPosition,children:(0,x.jsx)(p.Round,{large:!0,onClick:()=>{y.length&&n(y,T)},children:(0,x.jsx)(m.default,{name:"send",directional:!0})})})})]})})};t.default=S},31778:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{text:t,url:o}=e;return(0,i.jsx)(r.default,{xstyle:l.button,onClick:()=>{(0,a.openExternalLink)(o)},children:t})};n(o(56720));var a=o(12591),r=n(o(1784)),i=o(85893);const l={button:{display:"p357zi0d",borderTopStartRadius:"m2gb0jvt",borderTopEndRadius:"rfxpxord",borderBottomEndRadius:"gwd8mfxi",borderBottomStartRadius:"mnh9o63b",width:"ltyqj8pj",paddingTop:"b7n2qyd4",paddingEnd:"l9g3jx6n",paddingBottom:"ekpn4oxx",paddingStart:"lyvj5e2u",maxWidth:"rkwy1u70",fontSize:"enbbiyaj",height:"ohuqqxaf",lineHeight:"erpdyial",transform:"bnt9nn9b",opacity:"axi1ht8l",backgroundColor:"ppv8chjk",color:"qiqvuef5",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",animationName:"hr4hzv79",animationFillMode:"a21kwdn3",animationDuration:"h6edk2v2",animationDelay:"fdmybch3",":hover":{backgroundColor:"jhshxy31"}}}},24391:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RingTheme=void 0,t.StatusV3ImageRing=c;var a=n(o(81109)),r=n(o(94184)),i=n(o(42138)),l=o(49082),s=o(85893);const d=o(54302).Mirrored(["STATUS_V3_PANEL","BUSINESS_CONTACT_INFO"]);t.RingTheme=d;function c(e){const{stroke:t,size:o}=e,n=(0,l.useModelValues)(e.statusV3,["unreadCount","totalCount","contact"]),c=e=>{const o=100+t;return(0,s.jsx)("circle",(0,a.default)({cx:o/2,cy:o/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:t},e))},u=(e,t,o,n)=>{let a="";for(let r=0;r<e;r++)a+=r===e-1?`${t} ${o-e*(n+t)+n} `:`${t} ${n} `;return a},f=100+t,h=n.totalCount;let p=10;const m=50*Math.PI*2;m-10*h<1&&(p=m/h/1.2);const g=(m-p*h)/h,_=m/4-p/2,C=n.contact.isMe?0:n.unreadCount,v=h-C;let x,S;if(C){const e=_+h*(p+g);let t;1!==h&&(t=u(C,g,m,p)),x=c({strokeDashoffset:e,strokeDasharray:t,className:i.default.unread})}if(v){const e=_+v*(p+g);let t;1!==h&&(t=u(v,g,m,p)),S=c({strokeDashoffset:e,strokeDasharray:t,className:i.default.read})}return(0,s.jsxs)("svg",{className:(0,r.default)({[i.default.statusV3PanelRing]:e.theme===d.STATUS_V3_PANEL,[i.default.businessContactInfoRing]:e.theme===d.BUSINESS_CONTACT_INFO}),width:o,height:o,viewBox:`0 0 ${f} ${f}`,children:[x,S]})}c.defaultProps={size:48,stroke:4,theme:d.STATUS_V3_PANEL}},5358:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3GifController=t.StatusV3CountdownController=void 0,t.setupStatusV3Controller=function(e,t){if(e){if(e.type===i.default.TYPE.IMAGE){let e=4500;return(0,a.default)(t.caption)||(e+=2e3*Math.min(t.caption.length/150,1)),new d(e)}return e.type===i.default.TYPE.VIDEO?t.isGif?new u:new l.default:new d(3e3)}if(t.type===r.MSG_TYPE.CHAT){const e=2e3+60*Math.min(t.body.length,1e3);return new d(e)}return new d(3e3)};var a=n(o(41609)),r=o(15461),i=n(o(2320)),l=n(o(25829));const s=()=>{};class d{constructor(e){this.addListeners=(e,t,o,n)=>{this._onStart=e,this._onPause=t,this._onEnded=o,this._onLoaded=n},this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._onLoaded=void 0},this.play=()=>{var e;if(this._timer)return void __LOG__(2)`Duplicate timer start`;this._timer=setTimeout(this._onTimeup,this._timeout),this._start=(new Date).getTime();const t=this._onStart;t&&t(this._timeout,this._duration),null===(e=this._onLoaded)||void 0===e||e.call(this,!1,!0)},this.stop=()=>{if(this._timer){clearTimeout(this._timer),this._timer=null;const e=(new Date).getTime();this._timeout-=e-this._start;const t=this._onPause;t&&t()}else __LOG__(2)`Timer stop called on stopped timer`},this.resume=()=>{this.play()},this.pause=()=>{this.stop()},this._onTimeup=()=>{const e=this._onEnded;e&&e()},this.mute=s,this.unmute=s,this._duration=e,this._timeout=this._duration,this._start=0}get duration(){return this._duration}}t.StatusV3CountdownController=d;const c=6e3;class u{constructor(){this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._onLoaded=void 0,this._videoController.removeListeners(),this._countdownController.removeListeners()},this.setVideo=(e,t)=>{this._video!==e&&(this._video=e,null!=t&&(this._duration=t),this._videoController.setVideo(e))},this._onVideoStartHandler=()=>{const e=this._video;if(null==e)return;const t=this._onStart,o=e.duration||this._duration,n=Math.max(3*o*1e3,c);t&&t(n-1e3*o*this._playCounter-1e3*e.currentTime,n)},this._onVideoPauseHandler=()=>{const e=this._onPause;e&&e()},this._onVideoEndedHandler=()=>{const e=this._video;if(null==e)return;this._playCounter++;const t=this._onEnded;3===this._playCounter&&(this._videoEnded=!0,this._timerEnded&&t&&t()),e.currentTime=0,this._videoEnded&&this._timerEnded||setTimeout((()=>{this._videoController.play()}),0)},this._onVideoLoadedHandler=()=>{var e;null===(e=this._onLoaded)||void 0===e||e.call(this,!1,!0)},this._onTimerEndedHandler=()=>{const e=this._onEnded;this._timerEnded=!0,e&&this._videoEnded&&e()},this.play=()=>{this._videoController.play(),this._countdownController.play()},this.stop=()=>{this._videoController.stop(),this._countdownController.stop()},this.resume=()=>{this._videoController.resume(),this._countdownController.resume()},this.pause=()=>{this._videoController.pause(),this._countdownController.pause()},this.mute=s,this.unmute=s,this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new l.default,this._countdownController=new d(c),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler,this._onVideoLoadedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}addListeners(e,t,o,n){this._onStart=e,this._onPause=t,this._onEnded=o,this._onLoaded=n}get duration(){var e;return Math.max(3*((null===(e=this._video)||void 0===e?void 0:e.duration)||this._duration)*1e3,c)}}t.StatusV3GifController=u},4392:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(94184)),r=o(67294),i=o(64551),l=n(o(34466)),s=n(o(75426)),d=o(85893);function c(e,t){const{onClick:o,current:n,total:c,hasMediaControls:u}=e,f=(0,r.useRef)(null),h=(0,r.useRef)(null),p=[];(0,r.useEffect)((()=>{__LOG__(2)`Current index: ${n}, total count: ${c}`,n>=0&&n<c||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("bad current status v3 index"))}),[]);const m=e=>{o&&o(e)},g=(e,t)=>{if(!f.current)return;const o=1e3*i.ServerProps.statusVideoMaxDuration,n=Math.min(e,o),a=Math.min(t,o);(0,s.default)(f.current,"stop"),h.current=(0,s.default)(f.current,{translateX:["0%",`-${n/a*100}%`]},{duration:n,easing:"linear"})},_=()=>{f.current&&(0,s.default)(f.current,"stop")},C=()=>{const e=h.current;return e||Promise.resolve()};(0,r.useImperativeHandle)(t,(()=>({handleStart:g,handlePause:_,handleEnded:C})));const v=100/e.total+"%";for(let t=0;t<e.total;++t){const o=(0,a.default)(l.default.foreground,{[l.default.filled]:t<e.current,[l.default.empty]:t>e.current,[l.default.active]:t===e.current}),n=(0,d.jsxs)("div",{className:l.default.wrapper,style:{width:v},onClick:()=>m(t),children:[(0,d.jsx)("div",{className:l.default.bg}),(0,d.jsx)("div",{className:l.default.mask,children:(0,d.jsx)("div",{className:o,ref:t===e.current?f:()=>{}})})]},t);p.push(n)}return(0,d.jsx)("div",{className:u?l.default.containerWithMediaControls:l.default.container,children:p})}var u=(0,r.forwardRef)(c);t.default=u},21029:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{seenCount:t,onClick:o}=e;const n=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.default,{name:"status-v3-seen",className:(0,a.default)(d.iconSeen)}),(0,s.jsx)("div",{className:(0,a.default)(d.seenCount),children:t})]}),c=o?(0,s.jsx)(l.default,{xstyle:d.container,onClick:o,children:n}):n;if(null!=t)return(0,s.jsx)("div",{className:(0,a.default)(d.container),children:c});return(0,s.jsx)(r.Spinner,{stroke:3,size:12})};var a=n(o(56720)),r=o(11054),i=n(o(23217)),l=n(o(1784)),s=o(85893);const d={iconSeen:{color:"lxozqee9"},seenCount:{marginLeft:"qddwjlxl",color:"lxozqee9"},container:{display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"ac2vgrno"}}},70860:(e,t,o)=>{"use strict";var n=o(20862),a=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Statusv3Snapshot=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var r=a(o(48926)),i=a(o(57043)),l=a(o(44908)),s=a(o(35161)),d=o(40265),c=o(13959),u=o(4352),f=o(59387),h=n(o(22906));class p extends((0,d.customError)("InvalidStatusV3Iterator")){}t.InvalidStatusV3Iterator=p;class m extends((0,d.customError)("StatusV3LoadingError")){}t.StatusV3LoadingError=m;class g extends((0,d.customError)("StatusV3MsgNotFound")){}t.StatusV3MsgNotFound=g;t.Statusv3Snapshot=class{constructor(e,t){var o=this;if(this._printInfo=()=>{this.statuses.forEach((e=>{__LOG__(2)`Total count: ${e.totalCount}, unread count: ${e.unreadCount}, msgs length: ${e.msgs.length}`}))},this.getFirstUnread=(e,t,o)=>{const n=this.statuses.findIndex((t=>t.statusV3===e));if(-1!==n){const a=this.statuses[n],r=a.readMsgKeys;let i;return o?(i=a.msgs?a.msgs.findIndex((e=>o&&e.id.toString()===o.toString())):-1,i>=0?Promise.resolve({msgIdx:i,statusIdx:n}):Promise.reject(new p)):(i=a.msgs?a.msgs.findIndex((e=>!r.includes(e.id.toString()))):-1,-1===i&&e.msgs.msgLoadState.noEarlierMsgs?(i=t?0:a.msgs.length-1,Promise.resolve({msgIdx:i,statusIdx:n})):-1!==i?Promise.resolve({msgIdx:i,statusIdx:n}):0===a.unreadCount&&t&&a.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:n}):this._fetchMore(e).then((()=>this.getFirstUnread(e,t,o))).catch((e=>{throw __LOG__(3)`error while getting first unread status: ${String(e)}`,new p})))}return Promise.reject(new p)},this.hasNext=e=>{const t=this.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<this.statuses.length},this.getNext=e=>{const t=this.statuses[e.statusIdx],o=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return o.msgs.msgLoadState.noEarlierMsgs?(__LOG__(3)`Loaded ${t.msgs.length} messages with total count ${t.totalCount}, but noEarlierMsgs set`,Promise.reject(new p)):this._fetchMore(o).then((()=>this.getNext(e))).catch((t=>{if(__LOG__(3)`error while loading more status msgs: ${String(t)}`,e.statusIdx+1<this.statuses.length){const t=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(t,!0)}throw new p}));if(e.statusIdx+1<this.statuses.length){const t=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(t,!0)}return Promise.reject(new p)},this.hasPrev=e=>e.msgIdx>0||e.statusIdx>0,this.getPrev=e=>{if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){const t=this.statuses[e.statusIdx-1].statusV3;return this.getFirstUnread(t,!1)}return Promise.reject(new p)},this.statusAt=(e,t)=>{const o=this.statuses[e.statusIdx],n=o.statusV3;return t<o.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):n.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new p):this._fetchMore(n).then((()=>this.statusAt(e,t))).catch((e=>{throw __LOG__(3)`error while loading more status msgs: ${String(e)}`,new p}))},this._fetchMore=function(){var e=(0,r.default)((function*(e){if(!(yield(0,u.promiseLoop)(function(){var t=(0,r.default)((function*(t,n,a){const r=(0,c.delayMs)(h.expBackoff(a,12e4,1e3,.1));try{yield e.loadMore();const n=o.statuses.findIndex((t=>t.statusV3===e));if(-1!==n){const a=o.statuses[n],r=a.totalCount,d=a.unreadCount,c=e.msgs.getModelsArray().slice(0,r),u=c.slice(0,r-d),f=(0,s.default)(u,(e=>e.id.toString()));a.msgs=c,a.readMsgKeys=(0,l.default)((0,i.default)(a.readMsgKeys,f)),t(!0)}else{if(!(a>=4))return r;t(!1)}}catch(e){if(!(a>=4))return r;t(!1)}}));return function(){return t.apply(this,arguments)}}())))throw new m}));return function(){return e.apply(this,arguments)}}(),t){const o=e.msgs.getModelsArray().find((e=>t&&e.id.toString()===t.toString()));if(!o)throw new g;this.statuses=[{statusV3:e,totalCount:1,unreadCount:0,msgs:[o],readMsgKeys:[o.id.toString()]}]}else if(e.unreadCount>0&&!e.contact.isMe&&!e.contact.statusMute){const e=f.StatusV3Collection.getUnexpired(!0),t=[];e.forEach((e=>{if(e.contact.statusMute)return;const o=e.msgs.getModelsArray(),n=e.totalCount-e.unreadCount,a=o.slice(0,n),r=(0,s.default)(a,(e=>e.id.toString()));t.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:o,readMsgKeys:r})})),this.statuses=t}else{const t=e.msgs.getModelsArray(),o=e.totalCount-e.unreadCount,n=t.slice(0,o),a=(0,s.default)(n,(e=>e.id.toString())),r=[{statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:a}];this.statuses=r}this._printInfo()}}},25829:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(64551);function a(e){return Math.min(e,n.ServerProps.statusVideoMaxDuration)}var r=class{constructor(){this.addListeners=(e,t,o,n)=>{this._onStart=e,this._onPause=t,this._onEnded=o,this._onLoaded=n},this.setVideo=e=>{this._video!==e&&(this._unsetVideo(),this._video=e,null!=e&&(e.addEventListener("playing",this._onPlayingHandler),e.addEventListener("pause",this._onPauseHandler),e.addEventListener("ended",this._onEndedHandler),e.addEventListener("timeupdate",this._onTimeUpdate),e.addEventListener("loadeddata",this._onLoadedData)))},this._unsetVideo=()=>{const e=this._video;e&&(this.stop(),e.removeEventListener("playing",this._onPlayingHandler),e.removeEventListener("pause",this._onPauseHandler),e.removeEventListener("ended",this._onEndedHandler),e.removeEventListener("timeupdate",this._onTimeUpdate),e.removeEventListener("loadeddata",this._onLoadedData))},this.play=()=>{this._video&&this._video.play()},this.pause=()=>{this._video&&!this._video.paused&&this._video.pause()},this.resume=()=>{this._video&&this._video.play()},this.stop=()=>{this._video&&!this._video.paused&&this._video.pause()},this._changeMuted=e=>{this._video&&(this._video.muted=e)},this.mute=()=>{this._changeMuted(!0)},this.unmute=()=>{this._changeMuted(!1)},this._onPlayingHandler=()=>{const e=this._video;if(null==e)return;const t=this._onStart;if(t){const o=a(e.duration);t(1e3*(o-e.currentTime),1e3*o)}},this._onPauseHandler=()=>{const e=this._onPause;e&&e()},this._onEndedHandler=()=>{const e=this._onEnded;e&&e()},this._onTimeUpdate=()=>{var e;const t=null===(e=this._video)||void 0===e?void 0:e.currentTime;if(null!=t&&t>=n.ServerProps.statusVideoMaxDuration){this.stop(),this._onEndedHandler();const e=this._video;e&&(e.removeEventListener("timeupdate",this._onTimeUpdate),e.removeEventListener("ended",this._onEndedHandler))}},this._onLoadedData=()=>{const e=this._video;if(e){var t;const o=e.audioTracks&&e.audioTracks.length>0||!0===e.mozHasAudio||e.webkitAudioDecodedByteCount>0,n=e.muted;null===(t=this._onLoaded)||void 0===t||t.call(this,o,n)}},this.removeListeners=()=>{this.stop(),this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0}}get duration(){return null==this._video?0:1e3*a(this._video.duration)}};t.default=r},24687:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.getSelection().removeAllRanges();const t=document.getElementById(e),o=document.createRange();t&&o.selectNode(t),window.getSelection().addRange(o);try{const e=document.execCommand("copy");return window.getSelection().removeAllRanges(),e}catch(e){return!1}}},34553:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.pause(),e.src="",e.remove()}},10483:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(81109)),r=o(24808);const i=o(28757),l={};l[r.Message$ExtendedTextMessageFontType.SERIF]={google:{families:["Roboto"]}},l[r.Message$ExtendedTextMessageFontType.SANS_SERIF]={google:{families:["Droid Serif"]}},l[r.Message$ExtendedTextMessageFontType.NORICAN_REGULAR]={google:{families:["Norican"]}},l[r.Message$ExtendedTextMessageFontType.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},l[r.Message$ExtendedTextMessageFontType.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};const s={};s[r.Message$ExtendedTextMessageFontType.BRYNDAN_WRITE]=`@font-face {font-family:"Bryndan-Write"; src:url("${i}") format("truetype");}`;var d=new class{constructor(){this.loadedFonts={},this.loadingPromise={}}load(e){if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];const t=l[e],o=s[e];let n;n=o?new Promise(((e,t)=>{const n=document.createElement("style");n.appendChild(document.createTextNode(o)),n.onload=e,n.onerror=t,document.head&&document.head.appendChild(n)})):Promise.resolve();const r=n.then((()=>new Promise(((o,n)=>{const r=(0,a.default)((0,a.default)({},t),{},{active:()=>{this.loadedFonts[e]=!0,o()},inactive:()=>{this.loadingPromise[e]=void 0,n(new Error(`Failed to load font: ${e}`))}});WebFont.load(r)}))));return this.loadingPromise[e]=r,r}loadAllFonts(){return Promise.all(Array.from(r.Message$ExtendedTextMessageFontType.members()).map((e=>this.load(e))))}};t.default=d},61358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCatalogLink=function(e){return`https://wa.me/c/${e}`},t.createProductLink=function(e,t){return`https://wa.me/p/${t}/${e}`}},28757:(e,t,o)=>{e.exports=o.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},34203:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={coverPhoto:"_3bmNw",isEditable:"_1k-Tj",avatar:"_1KIoW",noStatusBorder:"kNRox",hasStatusBorder:"_8N7c7"}},2570:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={cartIcon:"_3Nx1E",inheritColor:"_1lxeQ"}},64871:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={labelRow:"_49vG",standaloneLabelRow:"_2l3_Y",labelContainer:"_1Nfyf",standaloneLabelContainer:"DENbs"}},483:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={chevron:"_2iDVt",catalogEntryButton:"_2m9wT",shopsLogo:"_31fGS"}},70098:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={prompt:"x-vzn"}},85822:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={linkIcon:"_1FiUT",inheritColor:"NwJSN"}},32442:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={linkContainer:"_39Tm3",activeLink:"_3YkDH"}},71452:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={addItemButton:"BmLy_",themeInList:"_3ZIW8",themeCollections:"NFwOH",themeDefault:"_2XlPd"}},75619:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={pendingBanner:"_26aYR",iconContainerPending:"L-2H5",iconContainerRejected:"_39dOD",rejectedBanner:"_1tqTc",rejectedBannerWithAppeal:"RHd_X"}},8902:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={header:"ycpXx",list:"iQNxs"}},4056:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={list:"_3ShRn",addItemsNotice:"_31dcv"}},24128:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={collectionListItem:"nIB_q",collectionName:"uK8-H",seeAllLink:"P0xwG",reviewStateRejected:"_3BNoL"}},71212:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={body:"iEmhs",loadingContainer:"_6Jq-L",text:"_1t5Y4",loadingText:"_2ZaWw",shiftUp:"_2DwjK",availabilityBanner:"_39YKr"}},40305:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={buttonContainer:"_1uea4",button:"_3dAt6",addToCartButton:"NeLXF",addToCartIcon:"ZfREZ",addToCartIconDisabled:"_16avf",addToCartContainer:"_3L8a9",name:"_2_mFa",price:"_15XLs",originalPrice:"_1oNAr",description:"_3ROY2",more:"_1dlIm"}},15475:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={productImage:"fkslc",productImageContainer:"_18n4q",productThumb:"IO4T6",productThumbContainer:"ime-i",prompt:"_3OFgQ"}},32967:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={header:"_2tWjM",list:"_3XbAc"}},23978:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={header:"_16mlH",photo:"_21sHs",text:"_2lk6f",name:"pTNRM",description:"_2GV6F",spinner:"O1bTA",img:"_3i1KT"}},66990:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={imageCarouselContainer:"_3lMwD"}},73738:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={buttons:"_1_Ctk",button:"_23YI8"}},74463:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={section:"_2_Qk3",reasonList:"_3671k",label:"_1mEAu",input:"Ot7Tv",buttons:"_1HIH3"}},39893:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={notifyName:"_3Pmbe"}},61388:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={separator:"Wt3HP",block:"_11V85"}},63696:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={carousel:"alksS",contentContainer:"OkAlG",slidesContainer:"_1w5W1",loaded:"j1J2j",fadeIn:"_2QkLV",spinnerContainer:"_1kDDe",spinner:"_3j4fM"}},89882:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={slide:"_2MjCA",slideInnerContainer:"_2cG76",image:"ubkU5"}},97018:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={canvasComponent:"_1OaQb",canvasEmpty:"_3jEqW",canvasSecondRow:"_13Jdf",canvasFirst:"az8Pk",more:"_2e4dR",container:"_1TLrW",justifySpaceBetween:"_2UyBh",galleryEmpty:"_160BB",drawer:"v7KVf",drawerBody:"_1QjIY",themeNewChatInfo:"mjwXn"}},39935:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={section:"_17dED",control:"_3T0RE"}},22036:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={description:"_1PJIk"}},87919:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={actionText:"-KBcF"}},98653:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={icon:"_3ovSZ"}},16115:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={icon:"_2I7Gg"}},89600:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={container:"_2QzJd",disabled:"_37VyS",containerNoIcon:"_1EaD-",containerListAligned:"_1I4H7",icon:"_13qOF",danger:"_1O1hL",success:"x8B-w",bodyContainer:"_36Lzk",body:"Qy5WW",themeNewChatInfo:"_1X2he"}},99597:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={mediaPanelTools:"f3Dup",profileThumb:"_2xUs5",profileContainer:"Cq6XJ",media:"_1_TZb",profileViewer:"_3OWRM",profileViewerImg:"_2hH_e",container:"_9-YHG","media-viewer-animate":"_7DTuk",mediaViewerAnimate:"_7DTuk",headerContainer:"_1U_13"}},17932:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={icon:"woEzZ"}},65257:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={playerWrapper:"eRZop",mediaViewer:"_26Q83",mediaStateControls:"_1QgJ4",playerBackground:"_1NZyY",media:"_1cMSa",mediaCaption:"_3mK4N",progressBackdrop:"_2x6Y5",progressBarBackdropNarrow:"_1XJW2",profile:"_1DNOU",nonClickProfile:"_1VRZa",profileNarrow:"ib1vZ",profileWithMediaControls:"_1SfD2",playerAvatar:"_2rzx9",verified:"_2iJLu",icon:"t9Exe",measuringProfile:"_2AJhM",profileMac:"_2_AIZ",msgInfo:"_20zpf",msgInfoNameWrapper:"_1tRGW",msgInfoName:"_3B-fQ",timestamp:"_5SjOa",playerContent:"_1xAJD",v3Image:"_2ATdo",actionLink:"_27-nF",v3Video:"EdAF7",statusPanelPlayerContent:"_2Ks9x",statusThumbnailPlayerContent:"_2RQ_J",loading:"_3aA3i",text:"_3KpnX",textLarge:"i-2rU",textMedium:"_2uTr8",textSmall:"_4WvQQ",font_1:"_2fG2M",font1:"_2fG2M",font_2:"_2MDaZ",font2:"_2MDaZ",font_3:"_1erpH",font3:"_1erpH",font_5:"Suusu",font5:"Suusu",unknown:"_3Rxrh",seen:"_3K-VL",caption:"o6dEt",textThumbnailPlayerContent:"_1V-um",statusMediaControls:"SU2X1"}},18914:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={container:"_1ufTj",inputContainer:"_1rO5S",btnContainer:"_3KRZ3",btnPosition:"D6yuB"}},42138:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={statusV3PanelRing:"cFfKt",businessContactInfoRing:"_3EL6s",read:"_3tgk6",unread:"_1min4"}},34466:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={container:"_3b17O",containerWithMediaControls:"i3Rke",wrapper:"sZBni",mask:"_3CRhO",bg:"_3r7AV",foreground:"_3f8oh",filled:"_3t0iC",empty:"_1A2HZ",active:"_2gskD"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.62a46f9922e4eb39982f.js.map
