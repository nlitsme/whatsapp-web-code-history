/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */!function(e){var r={};function t(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(o,a,function(r){return e[r]}.bind(null,a));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s="dgeiejggee")}({bcceefiggd:function(e,r,t){"use strict";var o=t("cfjecfhbfg");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ScriptLoaderClass=void 0;var a=t("dfjdhbagei"),n=o(t("bjiddchbgc")),s=o(t("jegfdjaci"));class c{_loadScript({src:e,size:r}){return new Promise((t,o)=>{var a="progress_script_"+e,n=document.getElementById(a);n&&document.head&&document.head.removeChild(n);var s=function(e){return/\.js$/.test(e)}(e)?function(e,r){var t=document.createElement("script");return t.id=r,t.type="text/javascript",t.charset="utf-8",t.src=e,t}(e,a):function(e,r){var t=document.createElement("link");return t.id=r,t.rel="stylesheet",t.href=e,t}(e,a);s.onload=()=>{s.onload=s.onerror=void 0,t({progress:r,size:r,src:e})},s.onerror=e=>{s.onload=s.onerror=void 0,o(e)},document.head&&document.head.appendChild(s)})}loadScriptsInParallel(e,r){var t=null==r?void 0:r.onProgress,o=[],a=[],s=[],c=e.reduce((e,{size:r})=>e+r,0),i=new n.default,d=e.map(e=>this._loadScript(e).then(r=>{o.push(e),i.updateProgress(r.src,r.progress),t&&t({totalSize:c,progress:i.getProgress()})}).catch(r=>{s.push(r),a.push(e)}));return Promise.all(d).then(()=>({succeededScripts:o,failedScripts:a,errors:s}))}loadInSeriesWithRetry(e,r){var t=r.onProgress,o=e.reduce((e,{size:r})=>e+r,0),c=new n.default;return(0,s.default)(e,e=>this.loadWithRetry(e).then(r=>(c.updateProgress(e.src,e.size),t&&t({totalSize:o,progress:c.getProgress()}),r))).then(r=>(Math.random()>.9&&e.forEach(({src:e},t)=>{var o=r[t],{errors:n}=o;if(n.length){var s=n.length+1;(0,a.logAsError)({error:"[eventual success]: Bundle loaded after ".concat(s," attempts"),reason:"[eventual success]: Bundle: ".concat((0,a.getBundleName)(e)," loaded after ").concat(s," attempts in series"),stack:""})}}),{strategy:"series"}))}loadWithRetry(e){var r=[];return new Promise(t=>{var o=()=>this._loadScript(e).then(()=>t({errors:r})).catch(t=>{window.setTimeout(o,Math.min(1e4,1e3*Math.pow(2,r.length))),r.push(t),(0,a.logScriptLoadError)(e.src,r.length)});o()})}loadScriptsWithFallbackToSeries(e,r){var t=null==r?void 0:r.onProgress,o=e.reduce((e,{size:r})=>e+r,0),a=new n.default;return this.loadScriptsInParallel(e,{onProgress:function(e){a.updateProgress("parallel",e.progress),s()}}).then(e=>{var{failedScripts:r}=e;return r.length?this.loadInSeriesWithRetry(r,{onProgress:c}).then(()=>({strategy:"series"})):{strategy:"parallel"}});function s(){t&&t({totalSize:o,progress:a.getProgress()})}function c(e){a.updateProgress("series",e.progress),s()}}}var i=c;r.ScriptLoaderClass=i;var d=new c;r.default=d},bjiddchbgc:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=class{constructor(){this._progressMap={}}updateProgress(e,r){if(!(r<0)){var t=this._progressMap[e]||0;this._progressMap[e]=Math.max(t,r)}}getProgress(){return Object.keys(this._progressMap).reduce((e,r)=>e+this._progressMap[r],0)}}},cahfddcdga:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r="?"){if(null==e)throw new Error("Unexpected null or undefined: ".concat(r));return e}},cfjecfhbfg:function(e,r){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},cjighbeabh:function(e,r,t){"use strict";function o(e){return e.includes("windows")?"Windows":e.includes("mac")?"Mac OS":e.includes("linux")?"Linux":"Unparsed"}Object.defineProperty(r,"__esModule",{value:!0}),r.parseUASimple=function(e,r){var t=e.toLowerCase();return{browser:c(t),device:o(t),appVersion:r}};var a=/(chrome|firefox)\/([\w\.]+)/i,n=/(edge|opr)\/([\w\.]+)/i,s={chrome:"Chrome",edge:"Edge",opr:"Opera",firefox:"Firefox"};function c(e){var r=e.match(n)||e.match(a);return null==r?"Unparsed":"".concat(s[r[1]]," ").concat(r[2])}},dadahbedbh:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getLogUserAgent=function({appVersion:e,browser:r,device:t}){var o;return o="Web/"+r,"WhatsApp/".concat(e," ").concat(o," Device/").concat(t)}},dfjdhbagei:function(e,r,t){"use strict";var o=t("cfjecfhbfg");Object.defineProperty(r,"__esModule",{value:!0}),r.logProgressError=function(e){v(d({error:"unexpected error in progress.js",reason:String(e),stack:e.stack||""}),"progress")},r.logScriptLoadError=function(e,r){if(0===r)return;var t=i(e),o=d({error:"failed to load a js or css bundle",reason:"failed to load [".concat(t,"] on [").concat(r,"] retry"),stack:""});5===r&&v(o,"load")},r.logAsError=function(e){v(d(e),"load")},r.getBundleName=i;var a=o(t("eaceddbccb")),n=o(t("cahfddcdga")),s=t("dadahbedbh"),c=t("cjighbeabh");function i(e){return e.split(".")[0].replace(/^\//,"")}function d({error:e,reason:r,stack:t}){var o=(new Date).toISOString();return"".concat(o,": error: ").concat(e,"\n").concat(o,": reason for logs: ").concat(r,"\n").concat(o,": userAgent: ").concat(window.navigator.userAgent,"\n").concat(t)}var l,u="2.2049.10",f="https://crashlogs.whatsapp.net/wa_clb_data",p="1063127757113399|745146ffa34413f9dbb5469f5370b7af",g="WAUnknownID",h="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36";function v(e,r){var t=window.navigator.userAgent;if(t!==h||!e.includes("getElementsByTagName")){var o=new FormData,i=new Blob([e],{type:"text/plain"});o.append("from",function(){if(l)return l;try{(l=JSON.parse((0,n.default)(a.default,"localStorage").getItem(g)))&&(l=l.replace("-",""))}catch(e){}if(!l){l="unknown"+Math.floor(1e10*Math.random());try{(0,n.default)(a.default,"localStorage").setItem(g,JSON.stringify(l))}catch(e){}}return l}()),o.append("agent",(0,s.getLogUserAgent)((0,c.parseUASimple)(t,u))),o.append("file",i,"logs.txt"),o.append("tags",r);var d=new XMLHttpRequest,v=f+"?access_token="+encodeURIComponent(p);d.open("POST",v,!0),d.send(o)}}},dgeiejggee:function(e,r,t){"use strict";var o=t("cfjecfhbfg");Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var a=o(t("dhgjdhifae")),n=t("dfjdhbagei"),s=o(t("bcceefiggd"));if(window.onerror=function(e,r,t,o,a){return(0,n.logProgressError)(a),!0},window.exeTracker=a.default,window.navigator.serviceWorker&&!window.navigator.serviceWorker.controller)try{window.navigator.serviceWorker.register("/serviceworker.js",{scope:"/"})}catch(e){}function c(){var e=document.getElementById("app");if(!e)throw new Error("root element app not found");if(!e.dataset)throw new Error("missing dataset annotations on app for bundles");var r=[{src:e.dataset.vendor1,size:+e.dataset.vendor1Size},{src:e.dataset.vendor2,size:+e.dataset.vendor2Size},{src:e.dataset.app,size:+e.dataset.appSize}],t=[{src:e.dataset.cssmApp,size:0},{src:e.dataset.app2,size:0}];s.default.loadScriptsWithFallbackToSeries(r,{onProgress:function(e){var r=document.getElementById("progressbar");r&&r.setAttribute("value",e.progress.toString())}}).then(({strategy:e})=>{var r="parallel"===e?s.default.loadScriptsWithFallbackToSeries(t):s.default.loadInSeriesWithRetry(t,{onProgress:()=>{}});if(window.Exe)window.Exe(r.then(()=>{}));else{var o=window.setTimeout(()=>{(0,n.logAsError)({error:"window.Exe was not found after waiting",reason:"window.Exe was not found after waiting for ".concat(5e3," ms"),stack:""})},5e3);a.default.onExe(e=>{window.clearTimeout(o),e(r.then(()=>{})),(0,n.logAsError)({error:"Avoided window.Exe crash",reason:"window.Exe was not ready when it was attempted to be used",stack:""})})}return r}).catch(e=>{throw(0,n.logProgressError)(e),e})}c()},dhgjdhifae:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ExeTrackerClass=void 0;class o{constructor(){this._exe=null,this._callback=null}onExe(e){if(this._callback)throw new Error("An onExe callback has already been set");this._callback=e,this._runCallback()}setExe(e){if(this._exe)throw new Error("Cannot set Exe twice");this._exe=e,this._runCallback()}_runCallback(){this._exe&&this._callback&&this._callback(this._exe)}}var a=o;r.ExeTrackerClass=a;var n=new o;r.default=n},eaceddbccb:function(e,r,t){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;try{o=window.localStorage}catch(e){}var a=o;r.default=a},jegfdjaci:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r){var t=[];return e.reduce((e,o)=>e.then(()=>r(o)).then(e=>(t.push(e),t)),Promise.resolve([]))}}});