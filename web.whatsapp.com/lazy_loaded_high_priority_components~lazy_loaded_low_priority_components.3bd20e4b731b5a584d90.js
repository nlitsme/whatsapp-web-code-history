/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[9488],{52778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPostcode=void 0;var o=n(7799);t.verifyPostcode=(e,t)=>(0,o.verifyPostcode)(e,t)},91960:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addFailedString=function(e,t){return i.default.t(91,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return l.fbt._("Couldn't add some participants.",null,{hk:"2usrY"})},t.addSuccessString=function(e,t){return i.default.t(92,{participantNames:e,_plural:t})},t.demoteFailedString=function(e,t,n){switch(n){case 406:return l.fbt._("You can't dismiss {participant} as admin because they created this group.",[l.fbt._param("participant",e)],{hk:"iFF5D"});default:return i.default.t(94,{participantNames:e,_plural:t})}},t.demotePartialFailedString=function(){return l.fbt._("Couldn't remove some participants as an admin.",null,{hk:"IRRDJ"})},t.demoteSuccessString=function(e,t){return i.default.t(95,{participantNames:e,_plural:t})},t.formatGroupStatusReasonString=d,t.formatParticipantActionString=c,t.formatParticipantStatusReasonString=u,t.formatRemoveResult=function(e,t){return s(e,f,p,h,t)},t.formatResult=s,t.promoteFailedString=function(e,t){return i.default.t(99,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return l.fbt._("Couldn't make some participants admin.",null,{hk:"4A8lPV"})},t.promoteSuccessString=function(e,t){return i.default.t(100,{participantNames:e,_plural:t})},t.removeFailedString=p,t.removePartialFailedString=h,t.removeSuccessString=f;var a=o(n(89867)),l=n(48360),r=n(19380),i=o(n(14296));function s(e,t,n,o,l){let i;if(207===e.status){const l={};for(const t in e){if(!a.default.isWid(t))continue;const n=e[t];if(403===n)continue;if(207===n)continue;l[n]||(l[n]=[]);const o=r.ContactCollection.get(t);o&&l[n].push(o)}const s=[];for(const e in l){const o=c(t,n,u,parseInt(e,10),l[e]);o&&s.push(o)}i=s.length>0?s.join("\n"):o()}else i=c(t,n,d,e.status,l);return i}function c(e,t,n,o,a){const l=a.map((e=>e.formattedShortName)).join(i.default.t(307)),r=200===o,s=r?e(l,a.length):t(l,a.length,o),c=r?"":n(o,a.length);return s.toString()+c.toString()}function d(e){let t="";switch(e){case 403:t=" "+l.fbt._("You're not a participant.",null,{hk:"4GsI1U"}).toString();break;case 408:t=" "+i.default.t(98);break;case 404:t=" "+l.fbt._("This group has ended.",null,{hk:"C2izu"}).toString();break;case 429:t=" "+l.fbt._("You've added too many contacts to groups too quickly. Try again later.",null,{hk:"aTFA4"}).toString()}return t}function u(e,t){let n="";switch(e){case 401:case 406:case 409:break;case 404:n=" "+i.default.t(97,{_plural:t});break;case 408:n=" "+i.default.t(98,{_plural:t});break;case 500:n=" "+l.fbt._("This group is full.",null,{hk:"27htUz"}).toString();break;default:n=" "+l.fbt._("Please try again.",null,{hk:"3S6IYT"}).toString()}return n}function f(e,t){return i.default.t(103,{participantNames:e,_plural:t})}function p(e,t,n){switch(n){case 406:return l.fbt._("You can't remove {participant} because they created this group.",[l.fbt._param("participant",e)],{hk:"14z8Fr"});default:return i.default.t(102,{participantNames:e,_plural:t})}}function h(){return l.fbt._("Couldn't remove some participants.",null,{hk:"3N0fyq"})}},89389:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(e,t){return m((0,u.unproxy)(e),t)},t.demoteParticipants=function(e,t){return v((0,u.unproxy)(e),t)},t.promoteParticipants=function(e,t){return S((0,u.unproxy)(e),t)},t.removeParticipants=function(e,t){return _((0,u.unproxy)(e),t)};var a=o(n(48926)),l=h(n(35232)),r=n(94816),i=n(46331),s=h(n(91960)),c=o(n(14296)),d=n(37722),u=n(18146),f=n(85893);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=a?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(o,l,r):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o}function m(){return g.apply(this,arguments)}function g(){return(g=(0,a.default)((function*(e,t){var n;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==a)return Promise.reject(new l.ActionError);if(t.some((e=>a.get(e.id))))return __LOG__(3)`models:groupMetadata:participantCollection:addParticipants already a group member`,Promise.reject(new l.ActionError);if(!a.canAdd())return Promise.reject(new l.ActionError);const u=(0,d.sendAddParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.formattedShortName)).join(c.default.t(307)),h=new i.ActionType(c.default.t(93,{participantNames:p,_plural:t.length})),g=u.then((e=>{a.sendForNeededAddRequest(e);const n=s.formatResult(e,s.addSuccessString,s.addFailedString,s.addPartialFailedString,t);return new i.ActionType(n)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:addParticipants dropped`,new i.ActionType(c.default.t(91,{participantNames:p,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>m(e,t,o)}))));r.ToastManager.open((0,f.jsx)(i.ActionToast,{id:o,initialAction:h,pendingAction:g})),yield u}))).apply(this,arguments)}function _(){return C.apply(this,arguments)}function C(){return(C=(0,a.default)((function*(e,t){var n;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==a)return Promise.reject(new l.ActionError);if(t.some((e=>!a.canRemove(e))))return Promise.reject(new l.ActionError);const u=(0,d.sendRemoveParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(c.default.t(307)),h=new i.ActionType(c.default.t(104,{participantNames:p,_plural:t.length})),m=u.then((e=>{const n=s.formatRemoveResult(e,t.map((e=>e.contact)));return new i.ActionType(n)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new i.ActionType(c.default.t(102,{participantNames:p,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>_(e,t,o)}))));r.ToastManager.open((0,f.jsx)(i.ActionToast,{id:o,initialAction:h,pendingAction:m})),yield u}))).apply(this,arguments)}function S(){return x.apply(this,arguments)}function x(){return(x=(0,a.default)((function*(e,t){var n;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==a)return Promise.reject(new l.ActionError);if(t.some((e=>!a.canPromote(e))))return Promise.reject(new l.ActionError);const u=(0,d.sendPromoteParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(c.default.t(307)),h=new i.ActionType(c.default.t(101,{participantNames:p,_plural:t.length})),m=u.then((e=>{const n=s.formatResult(e,s.promoteSuccessString,s.promoteFailedString,s.promotePartialFailedString,t.map((e=>e.contact)));return new i.ActionType(n)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new i.ActionType(c.default.t(99,{participantNames:p,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>S(e,t,o)}))));r.ToastManager.open((0,f.jsx)(i.ActionToast,{id:o,initialAction:h,pendingAction:m})),yield u}))).apply(this,arguments)}function v(){return P.apply(this,arguments)}function P(){return(P=(0,a.default)((function*(e,t){var n;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==a)return Promise.reject(new l.ActionError);if(t.some((e=>!a.canDemote(e))))return Promise.reject(new l.ActionError);const u=(0,d.sendDemoteParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(c.default.t(307)),h=new i.ActionType(c.default.t(96,{participantNames:p,_plural:t.length})),m=u.then((e=>{const n=s.formatResult(e,s.demoteSuccessString,s.demoteFailedString,s.demotePartialFailedString,t.map((e=>e.contact)));return new i.ActionType(n)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:demoteParticipants dropped`,new i.ActionType(c.default.t(94,{participantNames:p,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>v(e,t,o)}))));r.ToastManager.open((0,f.jsx)(i.ActionToast,{id:o,initialAction:h,pendingAction:m})),yield u}))).apply(this,arguments)}},35255:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addGroupParticipants=function(e,t){return C(e,t,h).catch((0,r.filteredCatch)(c.ServerStatusCodeError,(e=>({status:e.statusCode}))))},t.demoteGroupParticipants=function(e,t){return C(e,t,m).catch((e=>{__LOG__(3)`error sending demoting group participants iq: ${e}`}))},t.promoteGroupParticipants=function(e,t){return C(e,t,g).catch((e=>{__LOG__(3)`error sending promoting group participants iq: ${e}`}))},t.removeGroupParticipants=function(e,t){return C(e,t,p).catch((e=>{__LOG__(3)`error sending removing group participants iq: ${e}`}))};var a=o(n(81109)),l=o(n(48926)),r=n(50796),i=n(31914),s=n(71914),c=n(92574),d=n(81663),u=n(24747),f=n(39410);const p="remove",h="add",m="demote",g="promote";function _(e){return new s.WapParser(`${e}GroupParticipantsReplyParser`,(t=>({id:t.attrString("id"),participants:t.child(e).mapChildren((e=>{const t=e.maybeChild("add_request");return{wid:(0,d.userJidToUserWid)(e.attrUserJid("jid")),error:e.hasAttr("error")?e.attrInt("error"):null,invite_code:t&&t.attrString("code"),invite_code_exp:t&&t.attrString("expiration")}}))})))}function C(){return S.apply(this,arguments)}function S(){return(S=(0,l.default)((function*(e,t,n){const o=t.map((e=>(0,i.wap)("participant",{jid:(0,f.JID)(e)})));let l;switch(n){case h:l=(0,i.wap)("add",null,o);break;case p:l=(0,i.wap)("remove",null,o);break;case m:l=(0,i.wap)("demote",null,o);break;case g:l=(0,i.wap)("promote",null,o);break;default:return Promise.reject(new Error(`invalid group operation ${n}`))}const r=(0,i.wap)("iq",{to:(0,f.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},l),s=yield(0,u.sendIq)(r,_(n));if(s.success){const{participants:e}=s.result,t={};return e.forEach((e=>{Object.assign(t,{[e.wid.toString()]:null!=e.error?e.error:200})})),(0,a.default)((0,a.default)({},t),{},{status:207,participants:e.map((e=>({[e.wid.toString()]:{code:null!=e.error&&e.error.toString()||"200",invite_code:e.invite_code,invite_code_exp:e.invite_code_exp}})))})}return Promise.reject(new c.ServerStatusCodeError(s.errorCode,s.errorText))}))).apply(this,arguments)}},7799:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPostcode=function(e,t){if((0,a.isLegacyWebdBackend)())return Promise.reject(new Error("Postcode feature not supported in Non MD mode"));return l.default.verifyAndSavePostcode(e,t)};var a=n(88555),l=o(n(15131))},37722:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){if((0,a.isLegacyWebdBackend)())return r.default.addParticipants(e,t);return(0,l.addGroupParticipants)(e,t)},t.sendDemoteParticipants=function(e,t){if((0,a.isLegacyWebdBackend)())return r.default.demoteParticipants(e,t);return(0,l.demoteGroupParticipants)(e,t)},t.sendPromoteParticipants=function(e,t){if((0,a.isLegacyWebdBackend)())return r.default.promoteParticipants(e,t);return(0,l.promoteGroupParticipants)(e,t)},t.sendRemoveParticipants=function(e,t){if((0,a.isLegacyWebdBackend)())return r.default.removeParticipants(e,t);return(0,l.removeGroupParticipants)(e,t)};var a=n(88555),l=n(35255),r=o(n(56891))},82482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCatalogLink=function(e){return`https://wa.me/c/${e}`},t.createProductLink=function(e,t){return`https://wa.me/p/${t}/${e}`}},24697:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,editable:n,profilePicThumb:o,onClick:x,onOpenStatus:v,onLoad:P,hideStatusV3:T}=e;const[b,y]=(0,s.useState)(window.innerWidth),[j,k]=(0,s.useState)(null);(0,s.useEffect)((()=>{function e(){y(window.innerWidth)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]);const I=b>1300?152:122,E=!(0,a.canSeeStatusV3OnContact)()||t.statusMute||T?null:m.StatusV3Collection.get(t.id);function O(){E&&(l.ModalManager.openMedia((0,S.jsx)(h.default,{removeTopDrawer:!1,statusV3:E}),{transition:"status-v3-modal"}),null==v||v())}let A=null;j&&(A=(0,S.jsx)(_.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{k(null)},children:(0,S.jsx)(C.default,{contextMenu:j})}));let L,M=null,w=c.default.noStatusBorder;null!=E&&(M=(0,S.jsx)(g.StatusV3ImageRing,{statusV3:E,size:I+24,stroke:3,theme:g.RingTheme.BusinessContactInfo}),w=c.default.hasStatusBorder);L=n&&null!=o?(0,S.jsx)(p.default,{profilePicThumb:o,size:I}):(0,S.jsx)(d.DetailImage,{id:t.id,size:I,loader:!0,onLoad:P,onClick:function(e){if(x)if(null!=E&&E.totalCount>0){e.stopPropagation(),e.preventDefault();const t=[(0,S.jsx)(u.DropdownItem,{a8n:"mi-view-photo",action:()=>{x(e)},children:f.default.t(713)},"view-photo"),(0,S.jsx)(u.DropdownItem,{a8n:"mi-view-status",action:O,children:i.fbt._("View status",null,{hk:"1QQMZy"})},"view-status")];k({menu:t,event:e})}else x(e)},quality:d.DetailImageQuality.High});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:(0,r.default)(c.default.coverPhoto,{[c.default.isEditable]:n})}),(0,S.jsxs)("div",{className:c.default.avatar,children:[M,(0,S.jsx)("div",{className:w,children:L})]}),A]})};var a=n(8139),l=n(14597),r=o(n(94184)),i=n(48360),s=n(67294),c=o(n(95941)),d=n(88984),u=n(71174),f=o(n(14296)),p=o(n(79876)),h=o(n(10121)),m=n(59387),g=n(24391),_=n(18644),C=o(n(24717)),S=n(85893)},51070:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)(r.default,{name:"shopping-cart",className:(0,a.default)(l.default.cartIcon,{[l.default.inheritColor]:"inherit-color"===e.theme})})};var a=o(n(94184)),l=o(n(97449)),r=o(n(23217)),i=n(85893)},77577:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{labels:t,theme:n}=e;if(!t||!(0,a.canDisplayLabel)())return null;const o="standalone"===n;return(0,s.jsx)("div",{className:(0,l.default)(r.default.labelContainer,{[r.default.standaloneLabelContainer]:o}),children:t.map(((e,t)=>(0,s.jsx)(c,{labelId:e,isStandalone:o},t)))})};var a=n(8139),l=o(n(94184)),r=o(n(65753)),i=n(84543),s=n(85893);function c(e){let{labelId:t,isStandalone:n}=e;return(0,s.jsx)("div",{className:(0,l.default)(r.default.labelRow,{[r.default.standaloneLabelRow]:n}),children:(0,s.jsx)(i.Labels,{labels:[t],showName:!0})})}},44043:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCartClick:t,cartCount:n,catalogId:o,canManageCatalog:a,onSendCatalog:l,onOpenCollections:r,onOpenMerchantDetailsForm:i,onOpenSettings:c}=e,u=(0,s.useContext)(d.DrawerContext);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x,{onClick:null!=t&&null!=o?(0,m.getOnCartClickWithLog)(t,o,(0,_.getProductCatalogContext)(u)):void 0,catalogId:o,cartCount:n}),(0,S.jsx)(v,{canManageCatalog:a,onSendCatalog:l,onOpenCollections:r,onOpenMerchantDetailsForm:i,onOpenSettings:c})]})};var a=n(51737),l=n(8139),r=n(78820),i=n(48360),s=n(67294),c=o(n(51070)),d=n(27394),u=n(60811),f=n(71174),p=o(n(14296)),h=o(n(62371)),m=n(41868),g=n(46346),_=n(97567),C=o(n(23217)),S=n(85893);function x(e){let{onClick:t,catalogId:n,cartCount:o}=e;if(t&&n){const e=(0,a.isNumber)(o)&&o>0?o.toString():void 0;return(0,S.jsx)(g.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,S.jsx)(c.default,{theme:"inherit-color"}),text:e,title:i.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:t})}return null}function v(e){let{canManageCatalog:t,onSendCatalog:n,onOpenCollections:o,onOpenMerchantDetailsForm:a,onOpenSettings:s}=e;return t?(0,S.jsx)(g.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,S.jsx)(C.default,{name:"menu"}),title:p.default.t(504),children:(0,S.jsxs)(u.Dropdown,{type:u.MenuType.DropdownMenu,flipOnRTL:!0,dirX:u.DirX.LEFT,children:[(0,S.jsx)(f.DropdownItem,{a8n:"mi-foward menu-item",action:n,children:p.default.t(365)}),o&&(0,S.jsx)(f.DropdownItem,{a8n:"mi-collections menu-item",action:o,children:i.fbt._("Collections",null,{hk:"1VWu7A"})}),(0,l.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)((0,r.getMeUser)().user)&&a&&(0,S.jsx)(f.DropdownItem,{a8n:"merchant-details",action:a,children:i.fbt._("Business details",null,{hk:"m9xzp"})},"merchantDetails"),(0,l.canToggleCartOnOff)()&&s&&(0,S.jsx)(f.DropdownItem,{a8n:"mi-settings menu-item",action:s,children:i.fbt._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,S.jsx)(g.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,S.jsx)(h.default,{}),title:i.fbt._("Catalog link",null,{hk:"M36Dw"}),onClick:n})}},42953:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(8139),l=n(48360),r=n(67294),i=(o(n(56720)),o(n(39770))),s=o(n(52892)),c=n(27394),d=o(n(33308)),u=n(29623),f=o(n(48846)),p=n(77975),h=n(60263),m=n(97567),g=n(5641),_=n(3013),C=n(18146),S=o(n(23217)),x=o(n(1784)),v=n(85893);const P={addIcon:{position:"g0rxnol2",width:"d0st09ow",height:"bbl9m3t3",paddingBottom:"aus7m8kn",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",borderTop:"rom324v9",borderEnd:"na7ur5ty",borderBottom:"gjeyj30g",borderStart:"bmro6pka",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":before":{position:"oxaw94s0",top:"ijeufx4s",start:"meq75apj",display:"oa3lyrek",width:"slvs4faj",height:"jaq0b63r",content:"lij4d1x3",background:"nkmjymgc",transform:"k95pjfv1"},":after":{position:"dkvli2l0",top:"qi2a0yje",start:"bunkm0yn",display:"b0f5vxaq",width:"qbfuvgfc",height:"i0r7mfoh",content:"k15o3o4i",background:"fji5f4ri",transform:"cai600lj"}},largeGallerySpacing:{width:"b8z6cu80",height:"bbl9m3t3",marginEnd:"jnwc1y2a",marginBottom:"qrsyb3yy"},placeholderThumb:{width:"d0st09ow",height:"fujac5jc",paddingBottom:"lxvt2vq0",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",backgroundColor:"o27ac25e",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},subtitle:{marginTop:"tt8xd2xn",marginEnd:"q471nw87",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6"}};function T(e){let{catalogEntryLabel:t,onClick:n}=e;return null==t?null:(0,v.jsx)("div",{className:s.default.catalogEntryButton,children:(0,v.jsx)(i.default,{a8nText:"catalog-entry-button",type:"secondary",onClick:n,children:t})})}function b(){return(0,v.jsx)("div",{className:s.default.shopsLogo,children:(0,v.jsx)(S.default,{name:"fbshops",display:"inline"})})}function y(e){let t,n,{productsToShow:o,catalog:r,hideIncompleteRows:i,filterProductId:s,seeMoreOverlay:c,showProductPlaceholders:d,onProductThumbClick:u,onProductImageClick:f}=e,p=[],m=o;if((0,a.canSeeBizProfileV3)()&&(n="largeGallerySpacing"),null!=r?(t=r.productCollection,p=r.productCollection.getProductModels(),i&&p.length>3&&(m=Math.min(o,p.length-p.length%3)),p=p.slice(0,m+1),p=p.filter((e=>e.id.toString()!==s)).map(((e,t)=>{var o;const a=null===(o=e.getPreviewImage())||void 0===o?void 0:o.mediaData;if(!a)return(0,v.jsx)(v.Fragment,{});let i;c&&t===m-1&&r.productCollection.length>m-1&&(i=l.fbt._("See more",null,{hk:"450jnd"}));return(0,v.jsx)(_.ProductThumb,{onClick:()=>u(null!=i,e),mediaData:a,overlayContent:i,theme:n},e.id.toString())})).slice(0,m)):(t=new g.ProductCollection,t.add({id:"_ph"})),!p.length&&!d)return null;let C,S=P.addIcon;for(;d&&p.length<m;)p.push((0,v.jsx)(x.default,{onClick:f,title:l.fbt._("Add product",null,{hk:"3gdovw"}),xstyle:[S,"largeGallerySpacing"===n&&P.largeGallerySpacing],children:(0,v.jsx)(v.Fragment,{})},`_ph${p.length}`)),S=P.placeholderThumb;return(0,a.canSeeBizProfileV3)()&&(C="space-between"),(0,v.jsx)(h.MediaGalleryView,{productMedias:p,mediaCollection:t,justify:C})}function j(e){const{onProductCatalog:t,title:n,subtitle:o,animation:a,sectionTheme:i,shouldLog:h,catalog:g,onProductDetail:_,filterProductId:x,productsToShow:j,hideIncompleteRows:k,showProductPlaceholders:I,seeMoreOverlay:E,catalogEntryLabel:O,showShopsLogo:A}=e,L=(0,r.useContext)(c.DrawerContext);(0,r.useEffect)((()=>{h&&null!=g&&(0,p.logBusinessProfileCatalogView)({catalogOwnerWid:g.id,catalogContext:(0,m.getProductCatalogContext)(L)})}),[]);const M=(0,v.jsx)(T,{catalogEntryLabel:O,onClick:()=>t((0,m.getProductCatalogContext)(L),"ContactInfo")}),w=(0,v.jsx)(y,{productsToShow:j,catalog:g,hideIncompleteRows:k,filterProductId:x,seeMoreOverlay:E,showProductPlaceholders:I,onProductThumbClick:(e,n)=>e?t((0,m.getProductCatalogContext)(L),"ContactInfo"):(e=>{h&&(0,p.logProfileProductClick)({product:(0,C.unproxy)(e),catalogContext:(0,m.getProductCatalogContext)(L)}),_(e)})(n),onProductImageClick:()=>t((0,m.getProductCatalogContext)(L),"ContactInfo")}),N=o?(0,v.jsx)(f.default,{xstyle:P.subtitle,children:o}):null,R=(0,v.jsxs)(u.FlexRow,{align:"center",children:[N,(0,v.jsx)(f.default,{children:(0,v.jsx)(S.default,{className:s.default.chevron,name:"chevron-right-alt",directional:!0})})]});return(0,v.jsxs)(d.default,{title:n||l.fbt._("Products",null,{hk:"3Ky71N"}),titleOnClick:()=>t((0,m.getProductCatalogContext)(L),"ContactInfo"),subtitle:R,theme:i,animation:a,children:[w,M,!0===A?(0,v.jsx)(b,{}):null]})}j.defaultProps={productsToShow:6,sectionTheme:"padding",hideIncompleteRows:!1};var k=j;t.default=k},7532:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t,onCancel:n,catalog:o,contact:b,prompt:y,centerDrawer:j,onSend:k}=e,I=(0,r.useContext)(p.DrawerContext),E=()=>{a.ModalManager.open((0,P.jsx)(S.default,{catalog:o,onSend:k}),{transition:"modal-flow"}),(0,g.logShareCatalogViaWALinkClick)({catalogOwnerWid:o.id,catalogContext:(0,C.getProductCatalogContext)(I)})},O=(0,P.jsx)(d.DetailImage,{id:b.id,size:82,quality:d.DetailImageQuality.High});let A,L;j&&(A="labels",L="center-column");return(0,P.jsxs)(u.default,{theme:A,children:[(0,P.jsx)(h.DrawerHeader,{a8n:"catalog-link-title",title:l.fbt._("Catalog link",null,{hk:"M36Dw"}),onBack:t,onCancel:n,type:h.DRAWER_HEADER_TYPE.SMALL}),(0,P.jsxs)(f.default,{theme:L,children:[(0,P.jsx)("div",{className:i.default.prompt,children:y}),(0,P.jsx)(s.default,{image:O,primary:(0,P.jsx)(_.Name,{contact:b,useVerifiedName:!0}),theme:"identity",secondary:(0,P.jsx)(m.default,{id:T,href:(0,v.createCatalogLink)(o.id.user),onClick:e=>{e.preventDefault(),E()},noHandle:!0})}),(0,P.jsx)(x.default,{onClick:E}),(0,P.jsx)(c.default,{elementId:T,onClick:()=>{(0,g.logShareCatalogCopyLinkClick)({catalogOwnerWid:o.id,catalogContext:(0,C.getProductCatalogContext)(I)})}})]})]},"catalog-link-drawer")};var a=n(14597),l=n(48360),r=n(67294),i=o(n(71429)),s=o(n(44356)),c=o(n(26609)),d=n(88984),u=o(n(60453)),f=o(n(69637)),p=n(27394),h=n(94790),m=o(n(786)),g=n(77975),_=n(12176),C=n(97567),S=o(n(35400)),x=o(n(51628)),v=n(82482),P=n(85893);const T="catalog-link-anchor"},17986:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.apply(this,arguments)};var a=o(n(48926)),l=n(93581);function r(){return(r=(0,a.default)((function*(e){var t;let n=l.BusinessProfileCollection.get(e);if(!n||n.stale){const t=yield l.BusinessProfileCollection.update(e);n=Array.isArray(t)?t[0]:t}return(null===(t=n.profileOptions)||void 0===t?void 0:t.cartEnabled)||!1}))).apply(this,arguments)}},11466:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contactId:t,onSendProduct:n,onReportProduct:o,onProductLinkClick:a,onProductMoreInformation:i,onCartClick:s,cartCount:c,catalogId:h}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S,{cartCount:c,catalogId:h,onClick:s}),(0,C.jsx)(m.MenuBarItem,{a8nText:"menu-bar-product-link",icon:(0,C.jsx)(p.default,{}),title:r.fbt._("Product link",null,{hk:"1RIlvV"}),onClick:a}),(0,C.jsx)(m.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,C.jsx)(_.default,{name:"menu"}),title:f.default.t(504),children:(0,C.jsxs)(d.Dropdown,{type:d.MenuType.DropdownMenu,flipOnRTL:!0,dirX:d.DirX.LEFT,children:[(0,C.jsx)(u.DropdownItem,{a8n:"mi-send menu-item",action:n,children:r.fbt._("Send product",null,{hk:"1wkzue"})}),(0,l.canSeeECommerceComplianceIndiaSoftEnforcement)(t)&&(0,C.jsx)(u.DropdownItem,{a8n:"mi-send menu-item",action:i,children:r.fbt._("More information",null,{hk:"2JHvi1"})}),(0,C.jsx)(u.DropdownItem,{a8n:"mi-report menu-item",action:o,children:r.fbt._("Report product",null,{hk:"1jgCyX"})})]},"ProductDetailHeader")})]})};var a=n(51737),l=n(8139),r=n(48360),i=n(67294),s=o(n(51070)),c=n(27394),d=n(60811),u=n(71174),f=o(n(14296)),p=o(n(62371)),h=n(41868),m=n(46346),g=n(97567),_=o(n(23217)),C=n(85893);function S(e){let{onClick:t,cartCount:n,catalogId:o}=e;const l=(0,i.useContext)(c.DrawerContext);if(t&&o){const e=(0,a.isNumber)(n)&&n>0?n.toString():void 0;return(0,C.jsx)(m.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,C.jsx)(s.default,{}),text:e,title:r.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:(0,h.getOnCartClickWithLog)(t,o,(0,g.getProductCatalogContext)(l))})}return null}},14375:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseErrorState=function(e,t){if(e instanceof a.Unmount);else if(e instanceof o.ServerStatusCodeError)"not_found"===e.status||404===e.status?t("NOT_FOUND"):(t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch from server`);else{if(!(e instanceof o.WebdDrop))throw t("ERROR"),e;t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch due to WebdDrop`}};var o=n(92574),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,n&&n.set(e,o);return o}(n(35232));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},61055:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{fetchState:t}=e;switch(t){case"NONE":case"SUCCESS":return null;case"PENDING":return(0,c.jsxs)("div",{className:(0,a.default)(r.default.loadingContainer),children:[(0,c.jsx)(i.Spinner,{size:14,color:i.colorOptions.highlight}),(0,c.jsx)(s.TextSpan,{className:(0,a.default)(r.default.text,r.default.loadingText),theme:"small",children:l.fbt._("Waiting for network",null,{hk:"3I2DtN"})})]});case"NOT_FOUND":case"ERROR":return(0,c.jsx)("div",{className:(0,a.default)(r.default.loadingContainer),children:(0,c.jsx)(s.TextSpan,{className:r.default.text,theme:"small",color:"danger",children:"NOT_FOUND"===t?l.fbt._("This product or service has been removed",null,{hk:"3mE1ld"}):l.fbt._("Something went wrong",null,{hk:"7C9hw"})})});default:throw new Error(`invalid fetchState ${t}`)}};var a=o(n(94184)),l=n(48360),r=o(n(52387)),i=n(11054),s=n(13923),c=n(85893)},62371:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)(r.default,{name:"link",className:(0,a.default)(l.default.linkIcon,{[l.default.inheritColor]:"inherit-color"===e.theme})})};var a=o(n(94184)),l=o(n(34079)),r=o(n(23217)),i=n(85893)},786:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{id:t,href:n,onClick:o,noHandle:i}=e;return(0,r.jsx)("span",{className:a.default.linkContainer,children:(0,r.jsx)(l.SelectableLink,{id:t,href:n,className:a.default.activeLink,selectable:!0,onClick:o,"data-nohandle":i,children:n})})};var a=o(n(24100)),l=n(52596),r=n(85893)},47217:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleCollectionAppeal=function(){return b.apply(this,arguments)},t.handleCollectionDelete=function(e,t,n){return new Promise(((o,a)=>{i.ModalManager.open((0,x.jsx)(d.default,{title:c.fbt._("Delete Collection",null,{hk:"2y3JZ4"}),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:c.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{i.ModalManager.close(),function(){return T.apply(this,arguments)}(e,t,n).then((e=>o(e))).catch((e=>a(e)))},onCancel:()=>{i.ModalManager.close(),o(!1)},children:(0,x.jsx)("div",{children:c.fbt._("When you delete this collection, items in the collection will not be deleted.",null,{hk:"192Jcv"})})}))}))},t.handleCollectionSave=function(e,t,n,o,a,l){let r;_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_start"),r=t?(0,g.editCollection)(t.id.toString()||"",n===t.name?void 0:n,!1,o.map((e=>e.id.toString())),a.map((e=>e.id.toString())),l.session.toString()).then((l=>(_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),t.name=n,t.reviewStatus=l.reviewStatus,e.collections.replaceId(t.id,l.id),0===o.length&&0===a.length||(t.productCollection.reset(),t.afterCursor=void 0,e.collections.reset(),e.collections.afterCursor=""),!0))):(0,g.createCollection)(n,o.map((e=>e.id.toString())),l.session.toString()).then((t=>(_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),(0,f.logCollectionCreated)({catalogContext:l,collectionId:t.id,productCount:o.length}),e.collections.reset(),e.collections.afterCursor="",!0)));return r.catch((e=>{const t=e=>{s.ToastManager.open((0,x.jsx)(S.Toast,{msg:e,id:(0,S.genId)("catalog_save_collection_failed")}))};let n=c.fbt._("Failed to save collection",null,{hk:"3Chwhp"});if("not-acceptable"===e.text)return"products"===e.fieldName&&"duplicate"===e.fieldReason&&(n=c.fbt._("You already have a collection with this group of items. Add or delete items to make a different group.",null,{hk:"1fZXaY"})),"collection"===e.fieldName&&"empty"===e.fieldReason&&(n=c.fbt._("A collection must have at least one item in it",null,{hk:"39rLHR"})),t(n),!1;throw __LOG__(4,!0,new Error,!0)`Failed to save collection, error: ${e}`,SEND_LOGS("Saving collection failed"),t(n),e}))},t.handleProductDelete=function(e,t,n,o){return(0,u.logDeleteProductClick)(t,1,n),new Promise(((a,l)=>{i.ModalManager.open((0,x.jsx)(d.default,{title:c.fbt._("Delete Item",null,{hk:"20DBg1"}),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:c.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{i.ModalManager.close(),_.QPL.markerStart(C.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,{annotations:{string:{EntryPoint:o}}}),function(){return v.apply(this,arguments)}(e,t,n).then((e=>{_.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,_.QuickLogActionType.SUCCESS),a(e)})).catch((e=>{_.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,_.QuickLogActionType.FAIL),l(e)}))},onCancel:()=>{i.ModalManager.close(),a(!1)},children:(0,x.jsx)("div",{children:c.fbt._("Are you sure you want to delete this item from your catalog?",null,{hk:"2WwNSA"})})}))}))},t.handleProductVisibilityChange=function(e,t,n,o){const a=t.id.toString(),l=!t.isHidden;l?(0,u.logCatalogProductHideClick)(a,n):(0,u.logCatalogProductShowClick)(a,n);return new Promise(((r,s)=>{const f=t.isHidden?c.fbt._("Show item in your catalog?",null,{hk:"VfDKM"}):c.fbt._("Hide item in your catalog?",null,{hk:"1KmslI"});i.ModalManager.open((0,x.jsx)(d.default,{okText:c.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:c.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{_.QPL.markerStart(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{annotations:{string:{EntryPoint:o}}}),i.ModalManager.close(),function(){return P.apply(this,arguments)}(e,t).then((()=>{_.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,_.QuickLogActionType.SUCCESS),l?(0,u.logCatalogProductHideSuccess)(a,n):(0,u.logCatalogProductShowSuccess)(a,n),r(!0)})).catch((e=>{_.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,_.QuickLogActionType.FAIL),l?(0,u.logCatalogProductHideFailed)(a,n):(0,u.logCatalogProductShowFailed)(a,n),s(e)}))},onCancel:()=>{i.ModalManager.close(),l?(0,u.logCatalogProductHideCancelled)(a,n):(0,u.logCatalogProductShowCancelled)(a,n),r(!1)},children:(0,x.jsx)("div",{children:f})}))}))};var a=o(n(48926)),l=n(50796),r=n(92574),i=n(14597),s=n(94816),c=n(48360),d=o(n(52665)),u=n(77975),f=n(35054),p=n(96519),h=n(21374),m=n(5641),g=n(60323),_=n(48870),C=n(27798),S=n(50452),x=n(85893);function v(){return(v=(0,a.default)((function*(e,t,n){try{return yield(0,p.deleteProducts)([t.id.toString()]),(0,u.logDeleteProductSuccess)(t,1,n),e.productCollection.evictImagesFromCache(t.id.toString()),e.productCollection.remove(t.id.toString()),e.collections&&e.collections.forEach((e=>e.productCollection.remove(t.id.toString()))),!0}catch(e){return(0,l.filteredCatch)(r.ServerStatusCodeError,(e=>((0,u.logDeleteProductFailed)(t,1,n,e.statusCode),s.ToastManager.open((0,x.jsx)(S.Toast,{msg:c.fbt._("Failed to delete product",null,{hk:"18E03X"}),id:(0,S.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function P(){return(P=(0,a.default)((function*(e,t){yield(0,h.productVisibilitySet)([{productId:t.id.toString(),isHidden:!t.isHidden}]),t.isHidden=!t.isHidden;[e.productCollection,...(e.collections||[]).map((e=>e.productCollection))].forEach((e=>{const n=e.get(t.id);n&&(n.isHidden=t.isHidden)}))}))).apply(this,arguments)}function T(){return(T=(0,a.default)((function*(e,t,n){try{return yield(0,g.deleteCollection)(t.id.toString(),n.session.sessionId.toString()),e.collections.remove(t.id.toString()),(0,f.logCollectionDeleted)({catalogContext:n,collectionId:t.id}),!0}catch(e){return(0,l.filteredCatch)(r.ServerStatusCodeError,(e=>(__LOG__(4,!0,new Error,!0)`Failed to delete collection, error: ${e}`,SEND_LOGS("Deleteing collection failed"),s.ToastManager.open((0,x.jsx)(S.Toast,{msg:c.fbt._("Failed to delete collection",null,{hk:"S7UrR"}),id:(0,S.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function b(){return(b=(0,a.default)((function*(e,t){_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_start"),yield(0,g.appealCollection)(e.id.toString(),t),e.set({canAppeal:!1,reviewStatus:m.PRODUCT_REVIEW_STATUS.PENDING}),_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_end")}))).apply(this,arguments)}},33889:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,a8nText:n="add-item"}=e,o=(0,a.default)(r.default.addItemButton,{[r.default.themeDefault]:"default"===e.theme,[r.default.themeInList]:"in-list"===e.theme,[r.default.themeCollections]:"collections"===e.theme}),u=(0,c.jsx)(s.default,{title:l.fbt._("Add new item",null,{hk:"2Tc6p3"}),onClick:()=>{},xstyle:d.addIcon,children:(0,c.jsx)(c.Fragment,{})});return(0,c.jsx)(i.default,{theme:"add-item",image:u,customImage:!0,primary:e.title||l.fbt._("Add new item",null,{hk:"2Tc6p3"}),className:o,onClick:t,idle:e.idle,a8n:n})};var a=o(n(94184)),l=n(48360),r=(o(n(56720)),o(n(57086))),i=o(n(44356)),s=o(n(1784)),c=n(85893);const d={addIcon:{position:"g0rxnol2",width:"o22r6p4i",height:"dng4fqht",borderTop:"btoh1681",borderEnd:"sngpozrj",borderBottom:"c2eze1zb",borderStart:"bd2x2sk5",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"},"::before":{position:"jiaumjzp",top:"iu8zqbur",left:"c4kjmepz",display:"chh99fau",width:"ln1ej6zg",height:"i0a739jv",content:"ckfn5qle",backgroundColor:"t4c1fkc8",transform:"bsbo06yw"},"::after":{position:"tkubpkrc",top:"khfyavfg",left:"nly7wueh",display:"l1wvjj35",width:"dbiwaw4z",height:"l9a7srmz",content:"lw9p9708",backgroundColor:"sadoqatt",transform:"n2obx7p9"}}}},79174:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionIntegrityBanner=function(e){const{collection:t,onEditCollection:n}=e,o=()=>{null==n||n(t)},s=()=>{l.ModalManager.open((0,m.jsx)(i.default,{collection:t}))};switch(t.reviewStatus){case p.PRODUCT_REVIEW_STATUS.PENDING:return(0,m.jsxs)("div",{className:d.default.pendingBanner,children:[r.fbt._("This collection is being reviewed. Once it’s approved, your customers will see it in your catalog.",null,{hk:"3DQb07"}),(0,m.jsx)("div",{className:d.default.iconContainerPending,children:(0,m.jsx)(h.default,{name:"info"})})]});case p.PRODUCT_REVIEW_STATUS.REJECTED:return(0,a.canAppealCollections)()?(0,m.jsx)(C,{collection:t,onRename:o,onAppeal:s}):(0,m.jsx)(_,{onRename:o});default:return null}},t.getCollectionIntegrityHeight=function(e){return(0,a.canAppealCollections)()&&e.reviewStatus===p.PRODUCT_REVIEW_STATUS.REJECTED?2*s.PRODUCT_LIST_ITEM_HEIGHT+10:s.PRODUCT_LIST_ITEM_HEIGHT+10};var a=n(8139),l=n(14597),r=n(48360),i=o(n(5970)),s=n(64481),c=o(n(99360)),d=o(n(49437)),u=n(41399),f=o(n(56074)),p=n(5641),h=o(n(23217)),m=n(85893);function g(){return(0,m.jsx)("div",{className:d.default.iconContainerRejected,children:(0,m.jsx)(h.default,{name:"info"})})}function _(e){let{onRename:t}=e;return(0,m.jsxs)("div",{className:d.default.rejectedBanner,children:[r.fbt._("This collection wasn’t approved because it doesn’t follow our guidelines.",null,{hk:"4bjvNq"}),(0,m.jsx)(c.default,{onClick:t,children:r.fbt._("Rename",null,{hk:"2U6ctb"})}),(0,m.jsx)(g,{})]})}function C(e){let{collection:t,onRename:n,onAppeal:o}=e;const a=(t.rejectReason||"other_violation").toLowerCase(),l=(0,u.getRejectedCollectionCopy)(a,t.commerceUrl),i=(0,m.jsx)(c.default,{onClick:n,children:r.fbt._("rename the collection",null,{hk:"2j5eIB"})});if(t.canAppeal){const e=(0,m.jsx)(c.default,{onClick:o,children:r.fbt._("request another review",null,{hk:"2BSEoy"})}),t=(0,m.jsx)(f.default,{id:206,params:{rename_collection_link:i,request_another_review_link:e}});return(0,m.jsxs)("div",{className:d.default.rejectedBannerWithAppeal,children:[l.first,(0,m.jsx)("br",{}),t,(0,m.jsx)(g,{})]})}const s=(0,m.jsx)(f.default,{id:230,params:{rename_collection_link:i}});return(0,m.jsxs)("div",{className:d.default.rejectedBannerWithAppeal,children:[l.second,(0,m.jsx)("br",{}),s,(0,m.jsx)(g,{})]})}},74259:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductDetail:t,onProductShare:n,onCartOpen:o,shareLinks:C,canManageCatalog:S}=e,[x,v]=(0,l.useState)(void 0),P=(0,r.useModelValues)(e.catalog,["productCollection","afterCursor","id","index"]),T=e=>{n&&n(e)};if(!P.productCollection||!P.productCollection.getProductModels(e.canManageCatalog).length)return null;return(0,_.jsx)(u.default,{flatListControllers:[e.flatListController],children:(0,_.jsx)(d.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=void 0!==o;return P.productCollection.getProductModels(S).map((t=>({itemKey:`${t.id.toString()}_${e.toString()}`,product:t})))})(),renderItem:e=>{let{product:n}=e;return(0,_.jsx)(c.DrawerContext.Consumer,{children:e=>{const l=(0,h.getProductCatalogContext)(e);return(0,_.jsx)(m.default,{product:n,onCartOpen:o,onClick:()=>((e,n)=>((0,p.logCatalogListDetailClick)({product:(0,g.unproxy)(e),catalogContext:n}),v(e.id.toString()),t(e)))(n,l),onProductShare:C?T:null,onProductDelete:e=>((e,t)=>{(0,i.handleProductDelete)(P,e,t,"Catalog").then((()=>{e.id===x&&(a.DrawerManager.closeDrawerMid(),v(void 0))}))})(e,l),onProductHideShow:e=>((e,t)=>{(0,i.handleProductVisibilityChange)(P,e,t,"Catalog")})(e,l),canManageCatalog:S})}})},defaultItemHeight:s.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:f.KeyOrder.INVERSE})})};var a=n(41455),l=n(67294),r=n(35461),i=n(47217),s=n(64481),c=n(27394),d=n(47915),u=o(n(44942)),f=n(43882),p=n(77975),h=n(97567),m=o(n(88990)),g=n(18146),_=n(85893)},10805:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const o=(0,s.default)(),[_,C]=(0,i.useState)({state:m.NOT_STARTED}),[S,x]=(0,i.useState)(e.existingPostcode),v=e.existingPostcode===S,P=function(){var t=(0,a.default)((function*(){if("string"==typeof S){C({state:m.IN_PROGRESS});try{const t=yield(0,p.verifyPostcode)(e.catalogId,S);o()&&C({state:m.COMPLETED,data:t}),"success"===(null==t?void 0:t.resultCode)&&e.onSuccess()}catch(e){__LOG__(4,!0,new Error,!0)`[direct-connection] Updating postcode failed ${e}`,SEND_LOGS("[direct-connection] Updating postcode failed"),o()&&C({state:m.FAILED})}}}));return function(){return t.apply(this,arguments)}}(),T=(0,i.useCallback)((()=>C({state:m.NOT_STARTED})),[]),b="unserviceable_location"===(null===(t=_.data)||void 0===t?void 0:t.resultCode);let y=null;const j=r.fbt._("Enter a valid pincode.",null,{hk:"VOPnM"});("invalid_postcode"===(null===(n=_.data)||void 0===n?void 0:n.resultCode)||"string"!=typeof S||0===S.length||0!==S.search("^[0-9]{6}$"))&&(y=j);const k=_.state===m.IN_PROGRESS,I=k||null!=y||v,E=()=>{I||(b?T():P())};return(0,h.jsx)(c.default,{onOK:E,title:b?null:r.fbt._("Change pincode",null,{hk:"2LW3Lp"}),okDisabled:I,okSpinner:k,okText:b?r.fbt._("OK",null,{hk:"ReE7S"}):r.fbt._("SUBMIT",null,{hk:"4Aj76Q"}),onCancel:b?null:e.onCancel,cancelDisabled:k,children:b?(0,h.jsx)(u.Text,{as:"p",testid:"catalog_postcode_change_modal__unservicable-alert",children:r.fbt._("JioMart doesn’t have items available in that area. You can try a different pincode.",null,{hk:"3xh2vN"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Text,{as:"p",xstyle:g.infoText,children:r.fbt._("To see JioMart items available in a different area, enter the area’s pincode.",null,{hk:"4bHASx"})}),(0,h.jsx)(f.TextInput,{a8n:"catalog_postcode_change_modal__input",onChange:e=>{T(),x(e)},value:S,managed:!0,editable:!k,managedError:!0,selectOnMount:!0,focusOnMount:!0,error:y,onEnter:()=>{E()}}),(0,h.jsxs)(u.Text,{as:"p",theme:"muted",xstyle:g.privacyText,children:[r.fbt._("JioMart will use this pincode and your phone number to provide you customized services.",null,{hk:"4CwqSs"})," ",(0,h.jsx)(d.ExternalLink,{href:(0,l.getJioMartPostcodeChangeLearnMoreLink)(),children:r.fbt._("Learn More",null,{hk:"27Rbeo"})})]})]})})};var a=o(n(48926)),l=n(21310),r=n(48360),i=n(67294),s=(o(n(56720)),o(n(16747))),c=o(n(52665)),d=n(12591),u=n(13923),f=n(90011),p=n(52778),h=n(85893);const m=n(76672).Mirrored(["NOT_STARTED","COMPLETED","FAILED","IN_PROGRESS"]),g={infoText:{fontSize:"enbbiyaj",lineHeight:"erpdyial",marginBottom:"t4zgqcuo"},privacyText:{fontSize:"f8jlpxt4",lineHeight:"q5jc98e4",marginTop:"iy2cu22y"}}},70988:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogPostcodeMenu=function(e){const{postcode:t,postcodeLocationName:n,postcodeSetByUser:o}=(0,u.useModelValues)(e.businessDirectConnection,["postcode","postcodeLocationName","postcodeSetByUser"]),y=!0===o,[j,k]=(0,c.useState)(!1),I=()=>{r.ModalManager.close(),k(!1)},E=()=>{r.ModalManager.open((0,T.jsx)(h.default,{existingPostcode:null!=t?t:"",catalogId:e.catalogId,onCancel:I,onSuccess:()=>{I(),e.postcodeChangeSuccess()}})),k(!0)},O=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,l.delayMs)(e?m.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY:0).then(E)},[A,L]=(0,c.useState)(null),M=(0,c.useRef)(null),w=(0,c.useRef)(null);(0,c.useEffect)((()=>{y||((0,C.editPostcodeByDefaultEnabled)()?(()=>{if((0,i.getPostcodeAutoOpenChangePostcodeDone)())return!1;const e=(0,i.getPostcodeAutoOpenChangePostcodeCount)();if("number"==typeof e&&e>=2)return!1;return!0})()&&(O(!0),(0,i.setPostcodeAutoOpenChangePostcodeDone)(!0),(()=>{const e=(0,i.getPostcodeAutoOpenChangePostcodeCount)();(0,i.setPostcodeAutoOpenChangePostcodeCount)("number"==typeof e?e+1:1)})()):(()=>{if((0,i.getPostcodeTooltipViewedInSession)())return!1;const e=(0,i.getPostcodeTooltipViewCount)();if("number"==typeof e&&e>=5)return!1;return!0})()&&((()=>{const e=(0,i.getPostcodeTooltipViewCount)();(0,i.setPostcodeTooltipViewCount)("number"==typeof e?e+1:1)})(),(0,i.setPostcodeTooltipViewedInSession)(!0),setTimeout((()=>{if(M.current){const e=w.current?3*w.current.offsetWidth/4:null;L({menu:(0,T.jsx)("div",{style:"number"==typeof e?{maxWidth:`${e}px`}:null,children:(0,T.jsx)(x.Text,{as:"p",children:s.fbt._("Click to change pincode to see items available in your area",null,{hk:"2p5qlf"})})}),anchor:M.current,dirY:g.DirY.TOP,dirX:g.DirX.RIGHT,type:g.MenuType.Tooltip,horizontal:!0,tooltipColorScheme:g.TooltipColorScheme.Highlight})}else __LOG__(3)`[direct-connection] change postcode tooltip is not shown`}),m.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY)))}),[]),(0,f.default)((()=>{j&&I()}));const N=A?(0,T.jsx)(v.UIE,{displayName:"CatalogPostcodeTooltip",popable:!0,escapable:!0,requestDismiss:()=>{L(null)},children:(0,T.jsx)(P.default,{tooltip:A})}):null;return(0,T.jsxs)("div",(0,a.default)((0,a.default)({className:(0,d.default)(b.container)},(0,p.accessibleClickableButtonProps)({onClick:O})),{},{ref:w,children:[(0,T.jsx)("span",{className:(0,d.default)(b.svgWrapper),children:(0,T.jsx)(S.default,{name:"business-address"})}),(0,T.jsxs)(_.FlexColumn,{ref:M,children:[(0,T.jsx)(x.Text,{as:"p",xstyle:b.postcodeDescription,children:s.fbt._("Items available in {postcode-of-a-geographic-area}",[s.fbt._param("postcode-of-a-geographic-area",t)],{hk:"2ZYFWA"})}),(0,T.jsx)(x.Text,{as:"p",xstyle:b.postcodeLocationName,theme:"muted",children:y?n:s.fbt._("Click to change pincode",null,{hk:"2SNiYx"})}),N]})]}))},t.MAX_TIMES_POSTCODE_CHANGE_TOOLTIP_TO_SHOW=t.MAX_TIMES_POSTCODE_CHANGE_MODAL_AUTO_OPEN=void 0;var a=o(n(81109)),l=n(13959),r=n(14597),i=n(55452),s=n(48360),c=n(67294),d=o(n(56720)),u=n(35461),f=o(n(55010)),p=n(55712),h=o(n(10805)),m=n(8985),g=n(60811),_=n(29623),C=n(90915),S=o(n(23217)),x=n(13923),v=n(18644),P=o(n(46780)),T=n(85893);const b={container:{display:"p357zi0d",alignItems:"gndfcl4n",backgroundColor:"ihvf49ua",position:"cca4rwve",top:"qq0sjtgm",zIndex:"l355kaf8",boxShadow:"i35u2c65",":hover":{backgroundColor:"os03hap6"}},svgWrapper:{paddingTop:"nlnf8xo7",paddingBottom:"r219jyu0",paddingStart:"nntdgyy8",paddingEnd:"igb3k0ri",width:"i94gqilv",color:"kv0r5hzt"},postcodeDescription:{lineHeight:"erpdyial",fontSize:"enbbiyaj"},postcodeLocationName:{lineHeight:"r5qsrrlp",fontSize:"f8jlpxt4"}};t.MAX_TIMES_POSTCODE_CHANGE_MODAL_AUTO_OPEN=2;t.MAX_TIMES_POSTCODE_CHANGE_TOOLTIP_TO_SHOW=5},8985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY=t.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY=void 0;t.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY=500;t.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY=500},54414:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalogId:t,setScrollOffset:n,onCartClick:o,onCatalogLinkClick:G,canManageCatalog:V,canLogQpl:K=!0,isPushed:q=!0,scrollOffset:z,autoUpdate:Q,businessProfile:Y,blockCartInterstitialFn:X=(()=>!1),onAddProduct:J,onProductDetail:$,onProductShare:Z,onCollectionSeeAll:ee,onEditCollection:te,onOpenCollections:ne,onRemoveProduct:oe,onOpenSettings:ae,onOpenMerchantDetailsForm:le}=e,re=(0,R.enablePostcodeInCatalog)()&&!!Y&&(0,C.businessSupportsPostcode)(Y),ie=(0,h.default)(),se=(0,d.default)(),ce=(0,c.default)(se,100),de=(0,u.default)((()=>new w.default)),ue=(0,f.useModelValues)(e.contact,["id"]),fe=(0,s.useMemo)((()=>S.CartCollection.findCart(ue.id.toString())),[ue.id]),[pe,he]=(0,s.useState)(!1),[me,ge]=(0,s.useState)(null),[_e,Ce]=(0,s.useState)(fe.itemCount),[Se,xe]=(0,s.useState)("NONE"),[ve,Pe]=(0,s.useState)(null),[Te,be]=(0,s.useState)(null),[ye,je]=(0,s.useState)(!0),ke=function(){var e=(0,a.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),je(!1)}));return function(){return e.apply(this,arguments)}}(),Ie=(0,c.default)((()=>{se(),null==oe||oe()}),100),[Ee,Oe]=(0,s.useState)(),[Ae,Le]=(0,s.useState)(!1),Me=()=>{const e=K&&q,n=e?H.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0;v.CatalogCollection.find(t,{markerId:n}).then((t=>{if(ie.aborted)return;const n=new j.CatalogWithCollectionsDataSource(t,V||!1,P.PRODUCT_LIST_ITEM_HEIGHT,e),o=new j.CatalogListItemScrollHelper(n);ge(t),Pe(n),be(o),xe("SUCCESS"),ke(n).then((()=>{e&&F.QPL.markerEnd(H.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,F.QuickLogActionType.SUCCESS)})).catch((()=>{e&&F.QPL.markerEnd(H.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,F.QuickLogActionType.FAIL)})),(e=>{Q&&null!=e&&(e.productCollection.on("add",ce),e.productCollection.on("remove",Ie),e.collections.on("add",ce),e.collections.on("remove",ce))})(t),void 0!==z&&de.current.setScrollFromStart(z)})).catch((t=>{e&&F.QPL.markerEnd(H.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,F.QuickLogActionType.FAIL),(0,L.parseErrorState)(t,(e=>{xe(e),je(!1)}))}))},we=()=>{re?(Le(!0),_.default.getCypher(t).then((e=>{Oe(e),Le(!1),Me()}))):Me()},Ne=()=>{const e=fe.itemCount;_e!==e&&Ce(e)};(0,s.useEffect)((()=>{we(),(0,I.default)(t).then((e=>{he(e),e&&fe.on("all",Ne)}))}),[]);const Re=(0,p.default)(((e,t)=>{null==n||n(t.scrollTop),(null==Te?void 0:Te.willLoadMore(t))&&je(!0),null==Te||Te.onScroll(e,t).then((e=>{e&&je(!1)})).catch((e=>{throw je(!1),e}))}),100),De=()=>{(0,D.qplStartCartView)("Catalog"),null==o||o(ue.id.toString())},Be=(0,U.jsx)(T.default,{onSendCatalog:()=>{me&&G(me,ue)},onCartClick:pe?De:void 0,cartCount:fe.itemCount,catalogId:t.toString(),canManageCatalog:V,onOpenCollections:ne,onOpenMerchantDetailsForm:le,onOpenSettings:ae});return(0,U.jsxs)(E.default,{theme:"products",onDrop:e.onBack,children:[(0,U.jsx)(A.DrawerHeader,{title:i.fbt._("Catalog",null,{hk:"3YVOSV"}),type:e.headerType||A.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:Be,focusBackOrCancel:!0}),(0,U.jsx)(O.default,{onScroll:e=>{Re(e,e.currentTarget)},flatListControllers:[de.current],children:(()=>{const e=pe&&o?De:void 0;let n,a,s,c;if(V&&J&&(n=(0,U.jsx)(g.default,{onClick:()=>J(),theme:"collections",a8nText:"add-item"})),me&&V&&te){a=me.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))?(0,U.jsx)(g.default,{onClick:()=>{te(null)},theme:"collections",title:i.fbt._("Add new collection",null,{hk:"1DddmB"}),a8nText:"add-collection"}):null}return me&&ve?(s=(0,U.jsx)(B.default,{onCartOpen:e,onProductDetail:$,flatListController:de.current,catalog:me,canManageCatalog:V,shareLinks:V,onProductShare:Z,onCollectionSeeAll:ee,data:ve.getData(),onEditCollection:te}),(0,r.isMDBackend)()&&V&&((0,m.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&pe&&!X()&&(0,x.default)(),c=(0,U.jsx)(b.default,{onOpenCollections:ne}))):s=(0,U.jsx)(M.default,{fetchState:Se}),(0,U.jsxs)(U.Fragment,{children:[Y&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{"data-a8n":l.default.key("catalog-header"),className:k.default.header,children:(0,U.jsx)(W.default,{profilePicThumb:ue.getProfilePicThumb(),contact:ue,businessProfile:Y})}),re&&!Ae&&Ee&&(0,U.jsx)(y.CatalogPostcodeMenu,{catalogId:t,businessDirectConnection:Ee,postcodeChangeSuccess:()=>{v.CatalogCollection.removeCatalog(t),ge(null),Pe(null),be(null),xe("NONE"),je(!0),we()}})]}),(0,U.jsxs)("div",{"data-a8n":l.default.key("catalog-items"),className:k.default.list,children:[c,n,a,s,ye&&(0,U.jsx)(N.default,{})]})]})})()})]})};var a=o(n(48926)),l=o(n(99964)),r=n(88555),i=n(48360),s=n(67294),c=o(n(51799)),d=o(n(59312)),u=o(n(16223)),f=n(35461),p=o(n(90886)),h=o(n(3409)),m=n(57849),g=o(n(33889)),_=o(n(15131)),C=n(884),S=n(12392),x=o(n(13712)),v=n(99989),P=n(64481),T=o(n(44043)),b=o(n(92351)),y=n(70988),j=n(10448),k=o(n(71704)),I=o(n(17986)),E=o(n(60453)),O=o(n(69637)),A=n(94790),L=n(14375),M=o(n(61055)),w=o(n(30855)),N=o(n(29796)),R=n(90915),D=n(82145),B=o(n(44315)),W=o(n(62647)),F=n(48870),H=n(27798),U=n(85893)},19829:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionContentDrawer=function(e){var t;const{catalogId:n,onCartClick:o,onCatalogLinkClick:D,setScrollOffset:B,canManageCatalog:W,scrollOffset:F,collection:H,onProductDetail:U,onProductShare:G,onEditCollection:V}=e,K=(0,s.default)(),q=(0,f.default)(),z=(0,r.useContext)(b.DrawerContext),Q=(0,u.useModelValues)(e.contact,["id"]),Y=(0,r.useMemo)((()=>h.CartCollection.findCart(Q.id.toString())),[Q.id]),X=(0,c.default)((()=>new I.default)),[J,$]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(null),[te,ne]=(0,r.useState)(Y.itemCount),[oe,ae]=(0,r.useState)("NONE"),[le,re]=(0,r.useState)(null),[ie,se]=(0,r.useState)(null),[ce,de]=(0,r.useState)(!0);(0,d.useListener)(null==H?void 0:H.productCollection,["add","remove"],K),(0,d.useListener)(null==Z?void 0:Z.productCollection,["add","remove"],K),(0,d.useListener)(null==Z?void 0:Z.collections,["add","remove"],K),(0,d.useListener)(H,["change:reviewStatus","canAppeal"],K);const ue=function(){var e=(0,a.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),de(!1),(0,O.logCollectionSeeAllView)({catalogOwnerJid:n.toString(),catalogContext:(0,L.getProductCatalogContext)(z),collectionId:null==e?void 0:e.collectionId})}));return function(){return e.apply(this,arguments)}}(),fe=()=>{const e=Y.itemCount;te!==e&&ne(e)};(0,r.useEffect)((()=>{m.CatalogCollection.find(n).then((e=>{if(q.aborted)return;ee(e),ae("SUCCESS");const t=new C.SingleCollectionDataSource(e,null==H?void 0:H.id.toString(),W||!1,g.PRODUCT_LIST_ITEM_HEIGHT),n=new C.CatalogListItemScrollHelper(t);re(t),se(n),ue(t).then((()=>{w.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,w.QuickLogActionType.SUCCESS)})).catch((()=>{w.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,w.QuickLogActionType.FAIL)})),void 0!==F&&X.current.setScrollFromStart(F)})).catch((e=>{w.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,w.QuickLogActionType.FAIL),(0,j.parseErrorState)(e,(e=>{ae(e),de(!1)}))})),(0,S.default)(n).then((e=>{$(e),e&&Y.on("all",fe)}))}),[]);const pe=()=>{(0,A.qplStartCartView)("Collection"),null==o||o(Q.id.toString())},he=(0,i.default)(((e,t)=>{null==B||B(t.scrollTop),(null==ie?void 0:ie.willLoadMore(t))&&de(!0),null==ie||ie.onScroll(e,t).then((e=>{e&&de(!1)})).catch((e=>{throw de(!1),e}))}),100),me=(0,R.jsx)(_.default,{onSendCatalog:()=>{Z&&D(Z,Q)},onCartClick:J?pe:void 0,cartCount:Y.itemCount,catalogId:n.toString(),canManageCatalog:W}),ge=(null===(t=e.collection)||void 0===t?void 0:t.name)||l.fbt._("All Items",null,{hk:"2x8dE2"});return(0,R.jsxs)(P.default,{theme:"products",onDrop:e.onBack,children:[(0,R.jsx)(y.DrawerHeader,{title:ge,type:e.headerType||y.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:me}),(0,R.jsx)(T.default,{flatListControllers:[X.current],onScroll:e=>{he(e,e.currentTarget)},children:(()=>{const e=J&&o?pe:void 0;if(!Z||!le)return(0,R.jsx)(k.default,{fetchState:oe});const t=le.getData();if(0===t.length&&!ce&&W&&H)return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{className:x.default.list,children:[(0,R.jsx)(p.default,{theme:"collections",onClick:()=>{null==V||V(H)},a8nText:"add-collection"}),(0,R.jsx)("div",{className:x.default.addItemsNotice,children:l.fbt._("This collection won’t be visible to customers until you add at least 1 item",null,{hk:"34nbHb"})})]})});const n=(0,R.jsx)(M.default,{onCartOpen:e,onProductDetail:U,flatListController:X.current,catalog:Z,canManageCatalog:W,shareLinks:W,onProductShare:G,collectionId:null==H?void 0:H.id.toString(),data:t}),a=H?(0,R.jsx)(v.CollectionIntegrityBanner,{collection:H,onEditCollection:V}):void 0;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{className:x.default.list,children:[a,n,ce&&(0,R.jsx)(E.default,{})]})})})()})]})};var a=o(n(48926)),l=n(48360),r=n(67294),i=o(n(51799)),s=o(n(59312)),c=o(n(16223)),d=n(87550),u=n(35461),f=o(n(3409)),p=o(n(33889)),h=n(12392),m=n(99989),g=n(64481),_=o(n(44043)),C=n(10448),S=o(n(17986)),x=o(n(27897)),v=n(79174),P=o(n(60453)),T=o(n(69637)),b=n(27394),y=n(94790),j=n(14375),k=o(n(61055)),I=o(n(30855)),E=o(n(29796)),O=n(35054),A=n(82145),L=n(97567),M=o(n(44315)),w=n(48870),N=n(27798),R=n(85893)},36153:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t,onSeeAll:n,allItems:o}=e;let p,h;t?({name:p,id:h}=t):o&&(p=a.fbt._("All Items",null,{hk:"2x8dE2"}));const m=(0,f.jsx)(u.TextDiv,{className:i.default.collectionName,theme:"title",children:(0,f.jsx)(s.EmojiText,{text:p,ellipsify:!0,titlify:!0})});function g(e){!function(e){e.preventDefault(),e.stopPropagation()}(e),(0,c.qplStartCollectionViewAll)("Catalog"),n&&t?n(t):n&&n()}let _;if(t)switch(t.reviewStatus){case d.PRODUCT_REVIEW_STATUS.REJECTED:_=(0,f.jsx)("span",{className:i.default.reviewStateRejected,children:a.fbt._("rejected",null,{hk:"3f3H8P"})})}return(0,f.jsx)(l.default,{primary:m,secondary:_,detail:(0,f.jsx)(r.default,{onClick:g,className:i.default.seeAllLink,title:a.fbt._("Collection {collectionName}, see all",[a.fbt._param("collectionName",p)],{hk:"1kqerQ"}),tabIndex:0,children:a.fbt._("See all",null,{hk:"UPjou"})}),theme:"collection-header",idle:!0,className:i.default.collectionListItem},h)};var a=n(48360),l=o(n(44356)),r=o(n(99360)),i=o(n(32067)),s=n(65417),c=n(82145),d=n(5641),u=n(13923),f=n(85893)},41399:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPolicyLink=d,t.getRejectedCollectionCopy=function(e,t){let n;switch(e){case"drugs":return n=l.fbt._("WhatsApp's Commerce Policy for prescription, recreational, or other types of Drugs",null,{hk:"B27ED"}),{first:(0,c.jsx)(s.default,{id:199,params:{collections_rejected_policy_drugs:d(n,t)}}),second:(0,c.jsx)(s.default,{id:223,params:{collections_rejected_policy_drugs:d(n,t)}})};case"weapons":return n=l.fbt._("WhatsApp's Commerce Policy for Weapons, ammunition, or explosives",null,{hk:"1X972I"}),{first:(0,c.jsx)(s.default,{id:215,params:{collections_rejected_policy_weapons:d(n,t)}}),second:(0,c.jsx)(s.default,{id:239,params:{collections_rejected_policy_weapons:d(n,t)}})};case"animals":return n=l.fbt._("WhatsApp's Commerce Policy for Animals",null,{hk:"3hxXr8"}),{first:(0,c.jsx)(s.default,{id:194,params:{collections_rejected_policy_animals:d(n,t)}}),second:(0,c.jsx)(s.default,{id:218,params:{collections_rejected_policy_animals:d(n,t)}})};case"alcohol":return n=l.fbt._("WhatsApp's Commerce Policy for Alcohol",null,{hk:"1G8YGL"}),{first:(0,c.jsx)(s.default,{id:193,params:{collections_rejected_policy_alcohol:d(n,t)}}),second:(0,c.jsx)(s.default,{id:217,params:{collections_rejected_policy_alcohol:d(n,t)}})};case"gambling":return n=l.fbt._("WhatsApp's Commerce Policy for Real money gambling services",null,{hk:"1zQIeM"}),{first:(0,c.jsx)(s.default,{id:200,params:{collections_rejected_policy_gambling:d(n,t)}}),second:(0,c.jsx)(s.default,{id:224,params:{collections_rejected_policy_gambling:d(n,t)}})};case"tobacco":return n=l.fbt._("WhatsApp's Commerce Policy for Tobacco items and related paraphernalia",null,{hk:"EAQLL"}),{first:(0,c.jsx)(s.default,{id:213,params:{collections_rejected_policy_tobacco:d(n,t)}}),second:(0,c.jsx)(s.default,{id:237,params:{collections_rejected_policy_tobacco:d(n,t)}})};case"overtly_sexualized_positioning":return n=l.fbt._("WhatsApp's Commerce Policy for Overtly sexualized positioning",null,{hk:"1oaFbX"}),{first:(0,c.jsx)(s.default,{id:208,params:{collections_rejected_policy_overtly_sexualized_positioning:d(n,t)}}),second:(0,c.jsx)(s.default,{id:232,params:{collections_rejected_policy_overtly_sexualized_positioning:d(n,t)}})};case"adult":return n=l.fbt._("WhatsApp's Commerce Policy for Adult products or service",null,{hk:"Wf7q5"}),{first:(0,c.jsx)(s.default,{id:192,params:{collections_rejected_policy_adult:d(n,t)}}),second:(0,c.jsx)(s.default,{id:216,params:{collections_rejected_policy_adult:d(n,t)}})};case"supplements":return n=l.fbt._("WhatsApp's Commerce Policy for Unsafe ingestible supplements",null,{hk:"9a4Y2"}),{first:(0,c.jsx)(s.default,{id:211,params:{collections_rejected_policy_supplements:d(n,t)}}),second:(0,c.jsx)(s.default,{id:235,params:{collections_rejected_policy_supplements:d(n,t)}})};case"body_parts_fluids":return n=l.fbt._("WhatsApp's Commerce Policy for Body parts and fluids",null,{hk:"2EAd21"}),{first:(0,c.jsx)(s.default,{id:195,params:{collections_rejected_policy_body_parts_fluids:d(n,t)}}),second:(0,c.jsx)(s.default,{id:219,params:{collections_rejected_policy_body_parts_fluids:d(n,t)}})};case"healthcare":return n=l.fbt._("WhatsApp's Commerce Policy for Medical and healthcare products",null,{hk:"3vvgOF"}),{first:(0,c.jsx)(s.default,{id:202,params:{collections_rejected_policy_healthcare:d(n,t)}}),second:(0,c.jsx)(s.default,{id:226,params:{collections_rejected_policy_healthcare:d(n,t)}})};case"misleading":return n=l.fbt._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:(0,c.jsx)(s.default,{id:205,params:{collections_rejected_policy_misleading:d(n,t)}}),second:(0,c.jsx)(s.default,{id:229,params:{collections_rejected_policy_misleading:d(n,t)}})};case"real_fake_currency":return n=l.fbt._("WhatsApp's Commerce Policy for Real, virtual, or fake currency",null,{hk:"2XnVq2"}),{first:(0,c.jsx)(s.default,{id:209,params:{collections_rejected_policy_real_fake_currency:d(n,t)}}),second:(0,c.jsx)(s.default,{id:233,params:{collections_rejected_policy_real_fake_currency:d(n,t)}})};case"digital_services_products":return n=l.fbt._("WhatsApp's Commerce Policy for Digital and subscription services",null,{hk:"2mvwqB"}),{first:(0,c.jsx)(s.default,{id:197,params:{collections_rejected_policy_digital_services_products:d(n,t)}}),second:(0,c.jsx)(s.default,{id:221,params:{collections_rejected_policy_digital_services_products:d(n,t)}})};case"thrid_party_infringements":return n=l.fbt._("WhatsApp's Commerce Policy for Third-Party Infringement",null,{hk:"48SSD"}),{first:(0,c.jsx)(s.default,{id:212,params:{collections_rejected_policy_thrid_party_infringements:d(n,t)}}),second:(0,c.jsx)(s.default,{id:236,params:{collections_rejected_policy_thrid_party_infringements:d(n,t)}})};case"unauthorized_media":return n=l.fbt._("WhatsApp's Commerce Policy for Products or items that facilitate or encourage unauthorized access to digital media",null,{hk:"2ldhoF"}),{first:(0,c.jsx)(s.default,{id:214,params:{collections_rejected_policy_unauthorized_media:d(n,t)}}),second:(0,c.jsx)(s.default,{id:238,params:{collections_rejected_policy_unauthorized_media:d(n,t)}})};case"illegal_products":return n=l.fbt._("WhatsApp's Commerce Policy for Illegal products or services",null,{hk:"c5Zjc"}),{first:(0,c.jsx)(s.default,{id:204,params:{collections_rejected_policy_illegal_products:d(n,t)}}),second:(0,c.jsx)(s.default,{id:228,params:{collections_rejected_policy_illegal_products:d(n,t)}})};case"hazardous_goods_and_materials":return n=l.fbt._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:(0,c.jsx)(s.default,{id:201,params:{collections_rejected_policy_hazardous_goods_and_materials:d(n,t)}}),second:(0,c.jsx)(s.default,{id:225,params:{collections_rejected_policy_hazardous_goods_and_materials:d(n,t)}})};case"stolen_goods":return n=l.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,c.jsx)(s.default,{id:210,params:{collections_rejected_policy_stolen_goods:d(n,t)}}),second:(0,c.jsx)(s.default,{id:234,params:{collections_rejected_policy_stolen_goods:d(n,t)}})};case"human_exploitation_and_sexual_services":return n=l.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,c.jsx)(s.default,{id:203,params:{collections_rejected_policy_human_exploitation_and_sexual_services:d(n,t)}}),second:(0,c.jsx)(s.default,{id:227,params:{collections_rejected_policy_human_exploitation_and_sexual_services:d(n,t)}})};case"community_standards":return n=l.fbt._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:(0,c.jsx)(s.default,{id:196,params:{collections_rejected_policy_community_standards:d(n,t)}}),second:(0,c.jsx)(s.default,{id:220,params:{collections_rejected_policy_community_standards:d(n,t)}})};case"discrimination":return n=l.fbt._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:(0,c.jsx)(s.default,{id:198,params:{collections_rejected_policy_discrimination:d(n,t)}}),second:(0,c.jsx)(s.default,{id:222,params:{collections_rejected_policy_discrimination:d(n,t)}})};default:return n=l.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,c.jsx)(s.default,{id:207,params:{collections_rejected_policy_other_violation:d(n,t)}}),second:(0,c.jsx)(s.default,{id:231,params:{collections_rejected_policy_other_violation:d(n,t)}})}}};var a=o(n(64369)),l=n(48360),r=o(n(99360)),i=n(12591),s=o(n(56074)),c=n(85893);function d(e,t){const n=t||a.default.WA_COMMERCE_POLICY_URL;return(0,c.jsx)(r.default,{href:n,onClick:e=>{e.preventDefault(),(0,i.openExternalLink)(n)},children:e})}},35054:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCollectionCreateClicked=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATE_CLICKED,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionCreated=function(e){let{catalogContext:t,collectionId:n,productCount:o}=e;new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:o}).commit()},t.logCollectionDeleted=function(e){let{catalogContext:t,collectionId:n}=e;new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:n}).commit()},t.logCollectionItemsAssignment=function(e){let{catalogContext:t,collectionId:n,addedCount:o,removedCount:a}=e;o>0&&new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_ASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:o,collectionId:n}).commit();a>0&&new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_UNASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:a,collectionId:n}).commit()},t.logCollectionMenuClicked=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_MENU_COLLECTIONS_CLICK,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionRenamed=function(e){let{catalogContext:t,collectionId:n}=e;new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:n}).commit()},t.logCollectionSeeAllView=function(e){let{catalogOwnerJid:t,catalogContext:n,collectionId:o}=e;const c=(0,l.getProductStatsInFetched)(t,o),d=null==c?void 0:c.productIndex,u=null==c?void 0:c.collectionIndex;(0,s.createCatalogViewEvent)((0,a.default)({isOwner:(0,s.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_IMPRESSION,catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_COLLECTION_IMPRESSION,productIndex:d,collectionIndex:u},(0,i.toDataForCatalogViewEvents)(n))).commit()};var a=o(n(81109)),l=n(10448),r=o(n(11339)),i=n(97567),s=n(14545)},44315:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294),l=n(47217),r=n(64481),i=n(79174),s=o(n(36153)),c=n(27394),d=n(47915),u=o(n(44942)),f=o(n(30855)),p=n(43882),h=n(84387),m=n(77975),g=n(82145),_=n(97567),C=o(n(88990)),S=n(5641),x=o(n(65932)),v=n(18146),P=n(85893);class T extends a.Component{constructor(e){super(e),this.attachedListeners=new Set,this._catalogFlatListController=new f.default,this._handleProductDetail=(e,t)=>{const{onProductDetail:n}=this.props;return(0,g.qplStartProductView)("Collection"),(0,m.logCatalogListDetailClick)({product:(0,v.unproxy)(e),catalogContext:(0,_.getProductCatalogContext)(this.context)}),n(e,t)},this._handleProductShare=e=>{const{onProductShare:t}=this.props;t&&t(e)},this._handleProductDelete=e=>{const{catalog:t}=this.props;(0,l.handleProductDelete)(t,e,(0,_.getProductCatalogContext)(this.context),"Collection")},this._handleProductHideShow=e=>{const{catalog:t}=this.props;(0,l.handleProductVisibilityChange)(t,e,(0,_.getProductCatalogContext)(this.context),"Collections")},this.renderItem=e=>{const{collection:t,product:n,allItems:o,reviewBanner:a,collectionId:l}=e,{onCartOpen:r,shareLinks:c}=this.props;return t?a?(0,P.jsx)(i.CollectionIntegrityBanner,{collection:t,onEditCollection:this.props.onEditCollection}):(0,P.jsx)(s.default,{collection:t,onSeeAll:this.props.onCollectionSeeAll}):o?(0,P.jsx)(s.default,{allItems:o,onSeeAll:this.props.onCollectionSeeAll}):n?(0,P.jsx)(C.default,{collectionId:l,product:n,onCartOpen:r,onClick:()=>this._handleProductDetail(n,l),onProductShare:c?this._handleProductShare:null,onProductDelete:this._handleProductDelete,onProductHideShow:this._handleProductHideShow,theme:"product-of-collection",canManageCatalog:this.props.canManageCatalog}):null},this.state={loadingMore:!1,stopLoading:!1,catalogFetchState:e.catalog?"SUCCESS":"NONE"}}getData(){const{onCartOpen:e}=this.props,t=void 0!==e,n=this.props.data||[],o=[];return n.forEach((e=>{const n=e.collection,a=e.product,l=e.allItems;if(n&&a){const e=n.id;o.push({itemKey:`${e.toString()}_${a.id.toString()}_${t.toString()}`,product:a,collectionId:e})}else if(n)this.attachedListeners.has(n.id)||(this.attachedListeners.add(n.id),this.props.listeners.add(n,"change:reviewStatus canAppeal",(()=>{this.forceUpdate()}))),o.push({itemKey:`${n.id.toString()}_${n.reviewStatus.toString()}`,collection:n}),n.reviewStatus!==S.PRODUCT_REVIEW_STATUS.PENDING&&n.reviewStatus!==S.PRODUCT_REVIEW_STATUS.REJECTED||o.push({itemKey:`${n.id.toString()}_reviewBanner`,collection:n,height:(0,i.getCollectionIntegrityHeight)(n),reviewBanner:!0});else if(l)o.push({itemKey:"view_all",allItems:l});else if(a){const e=this.props.collectionId||void 0;o.push({itemKey:`${a.id.toString()}_${t.toString()}`,product:a,collectionId:e})}})),o}render(){const e=this.getData();return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(u.default,{flatListControllers:[this._catalogFlatListController],children:(0,P.jsx)(d.FlatList,{flatListController:this._catalogFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:e,renderItem:this.renderItem,defaultItemHeight:r.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:p.KeyOrder.INVERSE})})})}}T.CONCERNS={catalog:["productCollection","collections","afterCursor","id","index"]},T.contextType=c.DrawerContext,T.displayName="ProductCollectionsList";var b=(0,h.ListenerHOC)((0,x.default)(T,T.CONCERNS));t.default=b},70107:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{collectionId:n,onCartClick:o,onProductLinkClick:p,onProductMoreInformation:M,onBack:K,onProductCatalog:z,onProductDetail:J,refreshCarousel:$,chat:Z,isPushed:ee=!0}=e,te=(0,g.default)(),ne=(0,x.default)(),oe=(0,m.useContext)(L.DrawerContext),ae=(0,S.useModelValues)(e.product,["id","catalogWid","productImageCollection","fetchedFromServer","name","availability","reviewStatus"]),[le,re]=(0,m.useState)(null),[ie,se]=(0,m.useState)(!1),[ce,de]=(0,m.useState)(null),[ue,fe]=(0,m.useState)("NONE"),[pe,he]=(0,m.useState)("NONE"),me=(0,_.default)((()=>T.CartCollection.findCart(ae.catalogWid.toString())));(0,C.useListener)(me.current,"change:cartItemCollection",te);const ge=()=>{if(K)return K()},_e=()=>{const e=ae.catalogWid,t=ae.id.toString(),n=b.CatalogCollection.findProduct({catalogWid:e,productId:t,productMsgMediaData:(0,q.unproxy)(ae).productMsgMediaData,canLogQpl:ee}),o=v.BusinessProfileCollection.find(e);let r=!0;return Promise.all([o,n]).then((e=>{let[t]=e;if(ne.aborted)throw new a.AbortError;return r=!1,ee&&(0,N.qplEndProductView)(G.QuickLogActionType.SUCCESS),re(t),fe("SUCCESS"),t})).then((e=>{"PENDING"===pe&&((0,P.hasCatalog)(e)?(()=>{const e=ae.catalogWid;b.CatalogCollection.findCarouselCatalog(e).then((e=>{if(ne.aborted)return;const t=Array.isArray(e)?e[0]:e;de(t||null),he(t?"SUCCESS":"NONE")})).catch((0,l.filteredCatch)(s.ServerStatusCodeError,(e=>{"not_found"===e.status||404===e.status?(de(null),he("NOT_FOUND")):(de(null),he("ERROR"),__LOG__(3)`Failed to fetch product catalog from server`)}))).catch((0,l.filteredCatch)(s.WebdDrop,(()=>{de(null),he("ERROR"),__LOG__(3)`Failed to fetch product catalog`})))})():he("NONE"))})).catch((0,a.catchAbort)((()=>{}))).catch((0,l.filteredCatch)(s.E404,(()=>{ge(),u.ModalManager.open((0,Q.jsx)(I.default,{onOK:()=>{u.ModalManager.close()},okText:h.fbt._("OK",null,{hk:"2KEeHb"}),children:h.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),fe("NOT_FOUND"),r=!1,(0,N.qplDropProductView)()}))).catch((0,l.filteredCatch)(s.WebdDrop,(()=>{fe("ERROR"),__LOG__(3)`Failed to fetch product`}))).catch((0,l.filteredCatch)(s.ServerStatusCodeError,(()=>{fe("ERROR"),__LOG__(3)`Failed to fetch product from server`}))).finally((()=>{ee&&r&&(0,N.qplEndProductView)(G.QuickLogActionType.FAIL)}))};(0,m.useEffect)((()=>{if((0,d.commerceThreadsLoggingEnabled)()&&Z&&(0,j.addChatThreadLoggingActivities)([{activityType:"pdpViews",ts:(0,r.unixTime)(),chatId:Z.id}]),$){const e=b.CatalogCollection.get(ae.catalogWid);(null==e?void 0:e.productCollection)&&e.fetchedFromServer?he("SUCCESS"):he("PENDING")}const e=(0,f.getMaybeMeUser)();ee&&(0,N.qplAnnotateProductView)(!(null==e?void 0:e.equals(ae.catalogWid)));const t=ae.catalogWid,o=ae.id.toString();if(t&&o)return _e(),(0,k.default)(t).then((e=>{se(e)})),(0,w.logProductDetailView)({product:(0,q.unproxy)(ae),catalogContext:(0,D.getProductCatalogContext)(oe),cartToggle:ie,collectionId:n}),()=>{const e=ae.catalogWid,t=ae.id.toString();if(!e||!t)return;const n=b.CatalogCollection.get(e),o=n&&n.msgProductCollection.get(t);(null==o?void 0:o.fetchedFromServer)&&n&&n.msgProductCollection.remove(o)};(0,N.qplDropProductView)()}),[]);const Ce=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,d.commerceThreadsLoggingEnabled)()&&Z&&(0,j.addChatThreadLoggingActivities)([{activityType:e,ts:(0,r.unixTime)(),chatId:Z.id,boolValue:t}])},Se=()=>"ERROR"!==ue&&"NOT_FOUND"!==ue&&!(()=>{const{reviewStatus:e}=ae;return e===B.PRODUCT_REVIEW_STATUS.REJECTED})(),xe=Se(),ve=(0,P.hasCatalog)(le);return(0,Q.jsxs)(O.default,{onDrop:ge,theme:"striped",children:[(0,Q.jsx)(X,{handleBack:ge,menu:Se()?(0,Q.jsx)(E.default,{onSendProduct:()=>{const e=ae,{catalogWid:t}=e,n=b.CatalogCollection.get(t);if(!n)return;const o=n.productCollection.get(e.id);c.Cmd.attachProduct({product:o?(0,q.unproxy)(o):(0,q.unproxy)(e)})},onReportProduct:()=>{u.ModalManager.open((0,Q.jsx)(V.default,{product:ae,sessionId:(0,D.getProductCatalogSessionId)(oe)}))},onProductLinkClick:()=>{p(ae)},onProductMoreInformation:()=>{M(ae)},onCartClick:ie?()=>{(0,N.qplStartCartView)("Product"),null==o||o(ae.catalogWid.toString())}:void 0,cartCount:me.current.itemCount,catalogId:ae.catalogWid.toString(),contactId:null==Z?void 0:Z.contact.id.user}):null}),(0,Q.jsx)(A.default,{children:(0,Q.jsxs)("div",{"data-a8n":i.default.key("product-details"),className:W.default.body,children:[(0,Q.jsx)(Y,{productFetchState:ue,productCatalogFetchState:pe,isAvailable:xe}),(0,Q.jsx)(H.default,{product:ae,isAvailable:xe,fetching:"PENDING"===ue}),ae.availability===U.ProductAvailability.OUT_OF_STOCK?(0,Q.jsx)("div",{className:W.default.availabilityBanner,children:h.fbt._("This item is out of stock.",null,{hk:"4gOwiz"})}):null,(0,Q.jsx)(F.default,{product:ae,collectionId:n,onSendChat:()=>{const e=b.CatalogCollection.get(ae.catalogWid);(0,R.sendProductToChat)(ae,e,(0,D.getProductCatalogContext)(oe)),Ce("isCtaOnPdpClicked"),(0,w.logProductMessageBusinessClick)(ae,(0,D.getProductCatalogContext)(oe))},onAddToCart:()=>{Ce("isCartAddClicked")},isAvailable:xe,hideRetailerID:null===(t=e.chat)||void 0===t?void 0:t.contact.isEnterprise}),ve&&ce?(0,Q.jsx)(y.default,{catalog:ce,onProductCatalog:()=>{z&&z(ae.catalogWid,(0,D.getProductCatalogContext)(oe))},onProductDetail:e=>{if((0,N.qplStartProductView)("Product"),J)return J(e)},filterProductId:ae.id.toString(),title:h.fbt._("More",null,{hk:"2A3GqV"}),animation:!1}):null]})})]},"product-details-drawer")};var a=n(89385),l=n(50796),r=n(92844),i=o(n(99964)),s=n(92574),c=n(81572),d=n(8139),u=n(14597),f=n(78820),p=o(n(94184)),h=n(48360),m=n(67294),g=o(n(59312)),_=o(n(16223)),C=n(87550),S=n(35461),x=o(n(3409)),v=n(93581),P=n(94010),T=n(12392),b=n(99989),y=o(n(42953)),j=n(32107),k=o(n(17986)),I=o(n(52665)),E=o(n(11466)),O=o(n(60453)),A=o(n(69637)),L=n(27394),M=n(94790),w=n(77975),N=n(82145),R=n(96519),D=n(97567),B=n(5641),W=o(n(52387)),F=o(n(16481)),H=o(n(33382)),U=n(6822),G=n(48870),V=o(n(79387)),K=n(11054),q=n(18146),z=n(13923),Q=n(85893);function Y(e){let t,{productFetchState:n,productCatalogFetchState:o,isAvailable:a}=e;t="ERROR"===n?(0,Q.jsx)(z.TextSpan,{className:W.default.text,theme:"small",color:"danger",children:h.fbt._("Something went wrong",null,{hk:"7C9hw"})}):a?[(0,Q.jsx)(K.Spinner,{size:14,color:K.colorOptions.highlight},"DetailDrawer-loadingBar-spinner"),(0,Q.jsx)(z.TextSpan,{className:(0,p.default)(W.default.text,W.default.loadingText),theme:"small",children:h.fbt._("Waiting for network",null,{hk:"3I2DtN"})},"DetailDrawer-loadingBar-msg")]:(0,Q.jsx)(z.TextSpan,{className:W.default.text,theme:"small",color:"danger",children:h.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})});const l="PENDING"===n||"PENDING"===o||!a;return(0,Q.jsx)("div",{className:(0,p.default)({[W.default.loadingContainer]:l,[W.default.shiftUp]:!l}),children:t})}function X(e){let{menu:t,handleBack:n}=e;return(0,Q.jsx)(M.DrawerHeader,{title:h.fbt._("Details",null,{hk:"1hLRT1"}),onBack:n,type:M.DRAWER_HEADER_TYPE.SMALL,menu:t})}},16481:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collectionId:t,onSendChat:n,onAddToCart:o,isAvailable:a}=e,r=(0,s.useContext)(h.DrawerContext),i=(0,c.useModelValues)(e.product,["name","url","description","availability","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","fetchedFromServer","retailerId","catalogWid","productImageCollection","imageHash","reviewStatus","imageCdnUrl","id"]),[u,f]=(0,s.useState)(!1),[C,v]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(0,p.default)(i.catalogWid).then((e=>{v(e)}))}),[]),(0,E.jsxs)(m.default,{theme:"padding-product",animation:!1,children:[(0,E.jsx)(I.TextDiv,{theme:"title",className:P.default.name,children:(0,E.jsx)(g.EmojiText,{text:i.name,selectable:!0})}),null!=i.priceAmount1000?(0,E.jsx)(I.TextDiv,{className:P.default.price,color:"dark",theme:"plain",children:(0,E.jsx)(T.default,{product:i,selectable:!0,direction:"inherit"})}):null,(0,E.jsx)(w,{product:i,isAvailable:a,isDescExpanded:u,hideRetailerID:e.hideRetailerID,onReadMore:()=>{f(!0)},onClickUrl:(e,t)=>{e.stopPropagation(),(0,S.logDetailLinkClick)({product:(0,k.unproxy)(i),catalogContext:(0,x.getProductCatalogContext)(r)});const n=t&&l.findLink(t);n&&(0,_.openExternalLink)(n.url)}}),(0,E.jsx)(A,{onSendChat:()=>{null==n||n()},isAvailable:a,product:i}),(0,E.jsx)(L,{cartEnabled:C,isAvailable:a,product:i,onClick:e=>{y.QPL.markerStart(j.QuickLogMarkerId.WHATSAPP_CART_ADD,{annotations:{string:{EntryPoint:"Product"}}}),(0,d.default)(i,(0,x.getProductCatalogContext)(r),t),null==o||o(),e.stopPropagation()}})]})};var a=o(n(64369)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=a?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(o,l,r):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(95726)),r=o(n(94184)),i=n(48360),s=n(67294),c=n(35461),d=o(n(31892)),u=o(n(24170)),f=o(n(39770)),p=o(n(17986)),h=n(27394),m=o(n(33308)),g=n(65417),_=n(12591),C=n(30695),S=n(77975),x=n(97567),v=n(5641),P=o(n(21540)),T=o(n(62089)),b=n(6822),y=n(48870),j=n(27798),k=n(18146),I=n(13923),E=n(85893);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function A(e){let{onSendChat:t,isAvailable:n,product:o}=e;if(!t||!o.fetchedFromServer||!n||o.reviewStatus!==v.PRODUCT_REVIEW_STATUS.APPROVED)return null;const a=i.fbt._("Message Business",null,{hk:"byqjM"});return(0,E.jsx)("div",{className:P.default.buttonContainer,title:a,children:(0,E.jsx)(f.default,{a8nText:"product-message-business-btn",className:P.default.button,onClick:t,type:"secondary",children:a})})}function L(e){let{cartEnabled:t,isAvailable:n,product:o,onClick:a}=e;if(!t||!o.fetchedFromServer||!n||o.reviewStatus!==v.PRODUCT_REVIEW_STATUS.APPROVED)return null;const l=i.fbt._("Add to cart",null,{hk:"2qbS08"}),s=o.availability===b.ProductAvailability.OUT_OF_STOCK;return(0,E.jsx)("div",{className:P.default.buttonContainer,title:l,children:(0,E.jsx)(f.default,{a8nText:"add-to-cart-btn",className:(0,r.default)(P.default.button,P.default.addToCartButton),onClick:a,type:"secondary",disabled:s,children:(0,E.jsxs)("span",{className:P.default.addToCartContainer,children:[(0,E.jsx)(u.default,{className:(0,r.default)(P.default.addToCartIcon,{[P.default.addToCartIconDisabled]:s})}),l]})})})}function M(e){let{isAvailable:t,product:n,onClick:o}=e;const{url:a}=n;if(!n.fetchedFromServer||!a||!t)return null;const r=C.Configuration.TrustedGroupDesc({links:l.findLinks(a)});return(0,E.jsx)("div",{children:(0,E.jsx)(g.EmojiText,{selectable:!0,formatters:r,text:a,onClick:e=>o(e,a)})})}function w(e){let{product:t,isAvailable:n,isDescExpanded:o,hideRetailerID:l,onReadMore:r,onClickUrl:s}=e;if(!t.description&&!t.url&&!t.retailerId)return null;const c=!!t.description&&t.description.length>a.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH;let d;return t.description&&(d=(0,E.jsxs)("div",{children:[(0,E.jsx)(g.EmojiText,{selectable:!0,multiline:!0,text:t.description,textLimit:o?1/0:a.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),c&&!o?(0,E.jsxs)("span",{className:P.default.more,role:"button",onClick:r,children:[" ",i.fbt._("Read more",null,{hk:"2DvSvh"})]}):null]})),(0,E.jsxs)(I.TextDiv,{theme:"plain",className:P.default.description,children:[d,(0,E.jsx)(M,{isAvailable:n,product:t,onClick:s}),t.retailerId&&!l?(0,E.jsx)("div",{children:(0,E.jsx)(g.EmojiText,{text:t.retailerId,selectable:!0,direction:"inherit"})}):null]})}},79188:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsWithDeepLink=function(e){const{isPushed:t=!0,productInfo:{productId:n,businessOwnerJid:o},onBack:v}=e,[P,T]=(0,d.useState)((()=>(0,C.default)({productId:n,businessOwnerJid:o}))),[b,y]=(0,d.useState)((()=>P?"NONE":"PENDING"));if((0,d.useEffect)((()=>{P||(()=>{const e=(0,s.createWid)(o);u.CatalogCollection.findProduct({catalogWid:e,productId:n}).then((()=>{const t=u.CatalogCollection.get(e);T((0,l.default)(t,"catalog").productCollection.get(n)),y("SUCCESS")})).catch((0,a.filteredCatch)(r.E404,(()=>{v(),i.ModalManager.open((0,x.jsx)(f.default,{onOK:()=>{i.ModalManager.close()},okText:c.fbt._("OK",null,{hk:"2KEeHb"}),children:c.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),y("ERROR")}))).catch((e=>{(0,g.parseErrorState)(e,(e=>{y(e)}))}))})()}),[]),P)return(0,x.jsx)(S.default,{chat:e.chat,isPushed:t,product:P,onEnd:e.onEnd,onBack:e.onBack,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalog,refreshCarousel:!0,onProductLinkClick:e.onProductLinkClick,onProductMoreInformation:e.onProductMoreInformation,onCartClick:e.onCartClick});return(0,x.jsxs)(p.default,{onDrop:e.onBack,children:[(0,x.jsx)(m.DrawerHeader,{a8n:"drawer-title-profile",title:c.fbt._("Details",null,{hk:"1hLRT1"}),onBack:e.onBack,type:m.DRAWER_HEADER_TYPE.SMALL}),(0,x.jsx)(h.default,{children:(0,x.jsx)(_.default,{fetchState:b})})]},"product-details-drawer")};var a=n(50796),l=o(n(45095)),r=n(92574),i=n(14597),s=n(45454),c=n(48360),d=n(67294),u=n(99989),f=o(n(52665)),p=o(n(60453)),h=o(n(69637)),m=n(94790),g=n(14375),_=o(n(61055)),C=o(n(26218)),S=o(n(70107)),x=n(85893)},54050:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t,onCancel:n,product:o,prompt:r,centerDrawer:x,sendProductMsg:E,onSend:O}=e,A=(0,s.useContext)(p.DrawerContext),L=()=>{l.ModalManager.open((0,j.jsx)(T.default,{product:o,onSend:O}),{transition:"modal-flow"}),(0,_.logShareProductViaWALinkClick)({product:o,catalogContext:(0,C.getProductCatalogContext)(A)})},M=()=>{a.Cmd.attachProduct({product:(0,y.unproxy)(o),onSend:O})},w=(0,b.createProductLink)(o.catalogWid.user,o.id.toString());let N,R,D;x&&(N="labels",R="center-column");D=null!=E?(0,j.jsx)(P.default,{onClick:M}):(0,j.jsx)(v.default,{onClick:L});return(0,j.jsxs)(u.default,{theme:N,children:[(0,j.jsx)(h.DrawerHeader,{a8n:"product-link-title",title:i.fbt._("Product link",null,{hk:"1RIlvV"}),onBack:t,onCancel:n,type:h.DRAWER_HEADER_TYPE.SMALL,focusBackOrCancel:!0}),(0,j.jsxs)(f.default,{theme:R,children:[(0,j.jsx)("div",{className:S.default.prompt,children:r}),(0,j.jsx)(c.default,{image:I(o),primary:(0,j.jsx)(m.EmojiText,{text:o.name,direction:"auto"}),theme:"identity",secondary:(0,j.jsx)(g.default,{id:k,href:w,onClick:e=>{e.preventDefault(),L()},noHandle:!0})}),D,(0,j.jsx)(d.default,{elementId:k,onClick:()=>{(0,_.logShareProductCopyLinkClick)({product:o,catalogContext:(0,C.getProductCatalogContext)(A)})}})]})]},"product-link-drawer")};var a=n(81572),l=n(14597),r=o(n(94184)),i=n(48360),s=n(67294),c=o(n(44356)),d=o(n(26609)),u=o(n(60453)),f=o(n(69637)),p=n(27394),h=n(94790),m=n(65417),g=o(n(786)),_=n(77975),C=n(97567),S=o(n(49762)),x=n(3013),v=o(n(51628)),P=o(n(23358)),T=o(n(61266)),b=n(82482),y=n(18146),j=n(85893);const k="product-link-anchor";function I(e){const t=e.getProductImageCollectionHead();return t?(0,j.jsx)(x.ProductThumb,{className:(0,r.default)(S.default.productImage,S.default.productImageContainer),mediaData:t.mediaData}):(0,j.jsx)(x.ProductThumbPlaceholder,{className:(0,r.default)(S.default.productThumb,S.default.productThumbContainer)})}},11395:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductListDrawer=function(e){const{catalogId:t,canManageCatalog:n,setScrollOffset:o,onCartClick:l,onCatalogLinkClick:T,autoUpdate:X=!1,businessProfile:J,onAddProduct:$,onProductDetail:Z,onProductShare:ee,headerType:te,onOpenSettings:ne,blockCartInterstitialFn:oe=(()=>!1)}=e,ae=(0,S.default)(),le=(0,f.useContext)(O.DrawerContext),re=(0,h.default)(),ie=(0,p.default)(re,100),se=(0,_.useModelValues)(e.contact,["id"]),ce=(0,m.default)((()=>new R.default)),de=()=>{const e=y.CatalogCollection.get(t);return!e||e.stale?null:e},ue=(0,f.useMemo)((()=>P.CartCollection.findCart(se.id.toString())),[se.id]),[fe,pe]=(0,f.useState)(!1),[he,me]=(0,f.useState)(0),[ge,_e]=(0,f.useState)(!1),[Ce,Se]=(0,f.useState)(!1),[xe,ve]=(0,f.useState)(de),[Pe,Te]=(0,f.useState)((()=>ue.itemCount)),[be,ye]=(0,f.useState)((()=>de()?"SUCCESS":"NONE"));(0,g.useListener)(ue,"all",(()=>{const e=ue.itemCount;Pe!==e&&Te(e)}));const je=()=>{if(ge)return;const e=y.CatalogCollection.assertGet(t);if(!e.afterCursor)return;const n=e.productCollection.getProductModels().length;pe(!0),me(n),y.CatalogCollection.update(t).then((e=>{if(ae.aborted)return;pe(!1);(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===he&&_e(!0),n*j.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&je()})).catch((()=>{pe(!1),_e(!0)}))},ke=(0,p.default)((()=>{var t;null===(t=e.onRemoveProduct)||void 0===t||t.call(e),re()}),100),Ie=X?null==xe?void 0:xe.productCollection:null;(0,g.useListener)(Ie,"add",ie),(0,g.useListener)(Ie,"remove",ke);(0,f.useEffect)((()=>{(0,F.logCatalogListView)({catalogOwnerWid:t,catalogContext:(0,G.getProductCatalogContext)(le),cartToggle:Ce}),xe?je():y.CatalogCollection.find(t).then((e=>{ve(e),ye("SUCCESS"),je()})).catch((0,a.filteredCatch)(i.ServerStatusCodeError,(e=>{403!==e.status&&404!==e.status||(ve(null),ye("NOT_FOUND"))}))).catch((e=>{(0,w.parseErrorState)(e,(e=>ye(e)))})),(0,k.default)(t).then((e=>{Se(e),(0,s.isMDBackend)()&&n&&Ce&&!oe()&&(0,x.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&(0,b.default)()}))}),[]);const Ee=(0,C.default)((e=>{fe||e.scrollTop+c.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&je()}),100),Oe=()=>{null==l||l(se.id.toString())},Ae=()=>{xe&&(T(xe,se),(0,F.logCatalogShareLinkClick)({catalogOwnerWid:t,catalogContext:(0,G.getProductCatalogContext)(le)}))};return(0,Q.jsxs)(I.default,{theme:"products",onDrop:e.onBack,children:[(0,Q.jsx)(A.DrawerHeader,{title:u.fbt._("Catalog",null,{hk:"3YVOSV"}),type:e.headerType||A.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(()=>{const e=n&&(0,d.canToggleCartOnOff)()?(0,Q.jsx)(U.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,Q.jsx)(z.default,{name:"menu"}),title:B.default.t(504),children:(0,Q.jsxs)(L.Dropdown,{type:L.MenuType.DropdownMenu,flipOnRTL:!0,dirX:L.DirX.LEFT,children:[(0,Q.jsx)(M.DropdownItem,{a8n:"mi-foward menu-item",action:Ae,children:B.default.t(365)}),ne&&(0,Q.jsx)(M.DropdownItem,{a8n:"mi-settings menu-item",action:ne,children:u.fbt._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,Q.jsx)(U.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,Q.jsx)(W.default,{theme:te===A.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),title:u.fbt._("Catalog link",null,{hk:"M36Dw"}),onClick:Ae});return(0,Q.jsxs)(Q.Fragment,{children:[Ce&&l?(0,Q.jsx)(Y,{cartCount:Pe,headerType:te,onClick:()=>{(0,H.getOnCartClickWithLog)(Oe,t.toString(),(0,G.getProductCatalogContext)(le))}}):null,e]})})(),focusBackOrCancel:!0}),(0,Q.jsx)(E.default,{onScroll:e=>{var t,n;e.currentTarget&&Ee(e.currentTarget),null==o||o(null!==(t=null===(n=e.currentTarget)||void 0===n?void 0:n.scrollTop)&&void 0!==t?t:0)},flatListControllers:[ce.current],scrollOffset:e.scrollOffset,children:(()=>{const e=Ce&&l?Oe:void 0;if(!xe)return(0,Q.jsx)(N.default,{fetchState:be});let t;return n&&$&&(t=(0,Q.jsx)(v.default,{onClick:()=>$(),theme:"in-list",a8nText:"add-item"})),(0,Q.jsxs)(Q.Fragment,{children:[J&&(0,Q.jsx)("div",{"data-a8n":r.default.key("catalog-header"),className:K.default.header,children:(0,Q.jsx)(q.default,{profilePicThumb:se.getProfilePicThumb(),contact:se,businessProfile:J})}),(0,Q.jsxs)("div",{"data-a8n":r.default.key("catalog-items"),className:K.default.list,children:[t,(0,Q.jsx)(V.default,{onCartOpen:e,onProductDetail:Z,flatListController:ce.current,catalog:xe,canManageCatalog:n,shareLinks:n,onProductShare:ee}),fe&&(0,Q.jsx)(D.default,{})]})]})})()})]})};var a=n(50796),l=n(51737),r=o(n(99964)),i=n(92574),s=n(88555),c=n(41906),d=n(8139),u=n(48360),f=n(67294),p=o(n(51799)),h=o(n(59312)),m=o(n(16223)),g=n(87550),_=n(35461),C=o(n(90886)),S=o(n(3409)),x=n(57849),v=o(n(33889)),P=n(12392),T=o(n(51070)),b=o(n(13712)),y=n(99989),j=n(64481),k=o(n(17986)),I=o(n(60453)),E=o(n(69637)),O=n(27394),A=n(94790),L=n(60811),M=n(71174),w=n(14375),N=o(n(61055)),R=o(n(30855)),D=o(n(29796)),B=o(n(14296)),W=o(n(62371)),F=n(77975),H=n(41868),U=n(46346),G=n(97567),V=o(n(74259)),K=o(n(70270)),q=o(n(62647)),z=o(n(23217)),Q=n(85893);function Y(e){let{headerType:t,onClick:n,cartCount:o}=e;const a=(0,l.isNumber)(o)&&o>0?o.toString():void 0;return(0,Q.jsx)(U.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,Q.jsx)(T.default,{theme:t===A.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),text:a,title:u.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:n})}},62647:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{profilePicThumb:t,contact:n,businessProfile:o}=e;return(0,d.jsxs)("div",{className:s.default.header,"data-testid":"product-list-header",children:[(0,d.jsx)(f,{profilePicThumb:t,contact:n}),(0,d.jsxs)("div",{className:s.default.text,children:[(0,d.jsx)(c.TextDiv,{className:s.default.name,theme:"large",children:(0,d.jsx)(i.Name,{contact:n,selectable:!0,useVerifiedName:!0})}),(0,d.jsx)(u,{businessProfile:o})]})]})};var a=n(35461),l=n(88984),r=n(65417),i=n(12176),s=o(n(72940)),c=n(13923),d=n(85893);function u(e){const t=(0,a.useOptionalModelValues)(e.businessProfile,["description"]);return t&&t.description?(0,d.jsx)("div",{className:s.default.description,children:(0,d.jsx)(r.EmojiText,{text:t.description,direction:"auto",selectable:!0,titlify:!0})}):null}function f(e){const t=(0,a.useOptionalModelValues)(e.profilePicThumb,["imgFull"]),n=(0,a.useModelValues)(e.contact,["id","isMe"]);if(!t)return null;const o=(0,l.getDefaultIcon)(n.id);return(0,d.jsx)("div",{className:s.default.photo,children:(0,d.jsx)(l.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:o,profilePicThumbImg:t.imgFull,spinnerClassName:s.default.spinner,imgClassName:s.default.img,theme:"business"})})}},77776:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t}=e,n=(0,d.useModelValues)(e.product,["id","catalogWid"]),[o,v]=(0,s.useState)({}),[P,T]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),[j,k]=(0,s.useState)(!0),I=e=>{var t,n;return(null===(t=e.complianceInfo)||void 0===t?void 0:t.countryCodeOrigin)===String(h.SyntheticCountryCode.NotApplicable)?Promise.resolve((0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:(0,c.default)(x),children:i.fbt._("Not Applicable",null,{hk:"2k1klN"})}),(0,S.jsx)("div",{children:i.fbt._("Item is a service or non-physical good",null,{hk:"3uDBY7"})})]})):(0,h.getCountryName)(null===(n=e.complianceInfo)||void 0===n?void 0:n.countryCodeOrigin)};(0,s.useEffect)((()=>{function e(){return(e=(0,l.default)((function*(){yield u.CatalogCollection.findProduct({catalogWid:n.catalogWid,productId:n.id.toString(),productMsgMediaData:(0,C.unproxy)(n).productMsgMediaData,shouldFetchComplianceFields:!0});const e=u.CatalogCollection.get(n.catalogWid),t=(0,r.default)(e,"catalog").productCollection.get(n.id);if(t){var o,a,l,i,s,c,d,f,p,m,g,_,S,x;const e=yield I(t),n=yield(0,h.getCountryName)(null===(o=t.complianceInfo)||void 0===o||null===(a=o.importerAddress)||void 0===a?void 0:a.countryCode),r={importerName:(null===(l=t.complianceInfo)||void 0===l?void 0:l.importerName)||"",countryCodeOrigin:(null===(i=t.complianceInfo)||void 0===i?void 0:i.countryCodeOrigin)||"",importerAddress:{street1:(null===(s=t.complianceInfo)||void 0===s||null===(c=s.importerAddress)||void 0===c?void 0:c.street1)||"",street2:(null===(d=t.complianceInfo)||void 0===d||null===(f=d.importerAddress)||void 0===f?void 0:f.street2)||"",city:(null===(p=t.complianceInfo)||void 0===p||null===(m=p.importerAddress)||void 0===m?void 0:m.city)||"",region:(null===(g=t.complianceInfo)||void 0===g||null===(_=g.importerAddress)||void 0===_?void 0:_.region)||"",postalCode:(null===(S=t.complianceInfo)||void 0===S||null===(x=S.importerAddress)||void 0===x?void 0:x.postalCode)||""}};v(r),k(!1),T(e),y(n)}else __LOG__(3)`Unable to fetch compliance for product: ${n.id}`}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);const E=()=>{if(t)return t()},{countryCodeOrigin:O,importerName:A,importerAddress:L}=o;return(0,S.jsxs)(m.default,{onDrop:E,theme:"striped",children:[(0,S.jsx)(_.DrawerHeader,{a8n:"drawer-title-profile",title:i.fbt._("More information",null,{hk:"2JHvi1"}),onBack:E,type:_.DRAWER_HEADER_TYPE.SMALL}),(0,S.jsx)(g.default,{theme:j?"center-content":void 0,children:j?(0,S.jsx)(p.ComplianceInfoLoading,{}):(0,S.jsxs)(p.ComplianceInfoGroup,{children:[(0,S.jsx)(p.ComplianceInfoPrimitiveField,{value:P,label:i.fbt._("Country of Origin",null,{hk:"2yl0F7"})}),O&&![f.COMPLIANCE_INFO_CODES.INDIA,h.SyntheticCountryCode.NotApplicable].includes(O)?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.ComplianceInfoPrimitiveField,{value:A,label:i.fbt._("Name of Importer",null,{hk:"3gfW35"})}),(0,S.jsx)(p.ComplianceInfoStructuralField,{valuesMap:(0,a.default)({importerAddressCountryNameOrigin:b},L),keys:["street1","street2","city","region","postalCode","importerAddressCountryNameOrigin"],label:i.fbt._("Address of Importer",null,{hk:"Kxo8I"})})]}):null]})})]},"product-details-drawer")};var a=o(n(81109)),l=o(n(48926)),r=o(n(45095)),i=n(48360),s=n(67294),c=o(n(56720)),d=n(35461),u=n(99989),f=n(33049),p=n(27105),h=n(9978),m=o(n(60453)),g=o(n(69637)),_=n(94790),C=n(18146),S=n(85893);const x={marginBottom:"ngycyvoj"}},33382:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{isAvailable:t,fetching:n}=e,o=(0,l.useContext)(i.DrawerContext),h=(0,r.useModelValues)(e.product,["productImageCollection","productMsgMediaData","catalogWid","imageCdnUrl"]),m=h.lazyloadProductImageCollection().toArray();return(0,p.jsx)("div",{className:u.default.imageCarouselContainer,children:(0,p.jsx)(s.default,{images:m,fetching:n,onClick:t?(e,t)=>{(0,c.logDetailImageClick)({product:(0,f.unproxy)(h),catalogContext:(0,d.getProductCatalogContext)(o)});const n={activeProductImage:t,productImageCollection:h.lazyloadProductImageCollection(),getZoomNode:()=>e,product:h};a.Cmd.productImageViewerModal(n,(0,d.getProductCatalogSessionId)(o))}:null,renderFallback:!t,fallbackMediaData:h.productMsgMediaData})})};var a=n(81572),l=n(67294),r=n(35461),i=n(27394),s=o(n(98046)),c=n(77975),d=n(97567),u=o(n(30836)),f=n(18146),p=n(85893)},65788:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onPopupCancel:t,onReport:n,onTellUsMore:o}=e,d=a.fbt._("Report this product?",null,{hk:"3IDG0p"}),u=(0,c.jsx)("div",{children:a.fbt._("We will review the product and if it does not meet our guidelines, it will be removed.",null,{hk:"2CRdfl"})},"ReportProductChoicePopup-desc"),f=(0,c.jsx)(l.default,{a8nText:"popup-controls-more",type:"secondary",onClick:o,children:a.fbt._("Tell Us More",null,{hk:"2CkelY"})},"ReportProductChoicePopup-moreBtn"),p=(0,c.jsx)(l.default,{a8nText:"popup-controls-report",type:"secondary",onClick:()=>n(),children:a.fbt._("Report Product",null,{hk:"3XLjyb"})},"ReportProductChoicePopup-reportBtn"),h=(0,c.jsx)(l.default,{type:"secondary",onClick:t,children:a.fbt._("Cancel",null,{hk:"H0gNq"})},0),m=(0,c.jsxs)("div",{className:s.default.buttons,children:[(0,c.jsx)("div",{className:s.default.button,children:f}),(0,c.jsx)("div",{className:s.default.button,children:p}),(0,c.jsx)("div",{className:s.default.button,children:h})]});return(0,c.jsx)(r.HotKeys,{handlers:{escape:t},children:(0,c.jsx)(i.Modal,{title:d,actions:m,children:u})})};var a=n(48360),l=o(n(39770)),r=n(29424),i=n(57224),s=o(n(11967)),c=n(85893)},79387:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(94816),l=n(48360),r=n(46331),i=o(n(32973)),s=n(77975),c=n(96519),d=n(48870),u=n(27798),f=o(n(65788)),p=o(n(14819)),h=n(18146),m=n(85893);class g extends i.default{constructor(){var e;super(...arguments),e=this,this._submitReason=e=>{const{product:t,sessionId:n}=this.props;return(0,s.logReportProduct)({product:(0,h.unproxy)(t),catalogSessionId:n}),(0,c.reportProduct)(t.catalogWid,t.id.toString(),e)},this._handleDelete=()=>{this.end()},this._handleReport=e=>{d.QPL.markerStart(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT),this._handleShowSubmittedToast(e)},this._handleTellUsMore=()=>{this.push((0,m.jsx)(p.default,{onTellUsMoreSubmit:this._handleReport,onCancel:this._handleCancel}),"none")},this._handlePopupCancel=()=>{this.end()},this._handleCancel=()=>{this.end()},this._handleReportSubmitted=()=>{this.end()},this._handleShowSubmittedToast=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.genId)();const{product:o,sessionId:i}=e.props,c=e._submitReason(t),f=new r.ActionType(l.fbt._("Reporting product",null,{hk:"4qusYv"})),p=c.then((()=>((0,s.logReportProductSuccess)({product:(0,h.unproxy)(o),catalogSessionId:i}),d.QPL.markerEnd(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,d.QuickLogActionType.SUCCESS),new r.ActionType(l.fbt._("Thanks for your feedback",null,{hk:"1vRsPv"}).toString()+". "+l.fbt._("Your report has now been submitted.",null,{hk:"40tL3T"}).toString())))).catch((()=>((0,s.logReportProductFailure)({product:(0,h.unproxy)(o),catalogSessionId:i}),d.QPL.markerEnd(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,d.QuickLogActionType.FAIL),__LOG__(3)`error submitting product report`,new r.ActionType(l.fbt._("Couldn't report product",null,{hk:"11JN2U"}),{actionText:l.fbt._("Retry",null,{hk:"2jS9Tg"}),actionHandler:()=>e._handleShowSubmittedToast(t,n)}))));return a.ToastManager.open((0,m.jsx)(r.ActionToast,{id:n,initialAction:f,pendingAction:p})),e._handleReportSubmitted(),c}}componentDidMount(){this.push((0,m.jsx)(f.default,{onTellUsMore:this._handleTellUsMore,onReport:this._handleReport,onPopupCancel:this._handlePopupCancel,onCancel:this._handleCancel}))}}t.default=g},14819:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCancel:t,onTellUsMoreSubmit:n}=e,[o,g]=(0,i.useState)(null),_=()=>{null==t||t()},C=e=>{e.target.value&&g(e.target.value)},S=r.fbt._("Tell us more",null,{hk:"2fZHoO"}),x=(0,p.jsx)("div",{className:(0,l.default)(u.default.section),children:(0,p.jsx)("ul",{className:u.default.reasonList,children:h.map((e=>(0,p.jsx)(m,{reason:e,isChecked:o===e,onChange:C},`ReportProductReasonPopup-${e}-option`)))})}),v=(0,p.jsx)(s.default,{a8nText:"popup-controls-submit",type:"primary",onClick:()=>{o?n(o):a.ToastManager.open((0,p.jsx)(f.Toast,{msg:r.fbt._("Please select a reason.",null,{hk:"3UgUaa"}),id:(0,f.genId)()}))},disabled:!o,children:r.fbt._("Submit",null,{hk:"3npRPm"})},"ReportProductReasonPopup-submitButton"),P=(0,p.jsx)(s.default,{type:"secondary",a8nText:"popup-controls-cancel",onClick:_,children:r.fbt._("Cancel",null,{hk:"H0gNq"})},"ReportProductReasonPopup-cancelButton"),T=(0,p.jsxs)("div",{className:u.default.buttons,children:[P,v]});return(0,p.jsx)(c.HotKeys,{handlers:{escape:_},children:(0,p.jsx)(d.Modal,{title:S,actions:T,children:x})})};var a=n(94816),l=o(n(94184)),r=n(48360),i=n(67294),s=o(n(39770)),c=n(29424),d=n(57224),u=o(n(48246)),f=n(50452),p=n(85893);const h=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"];function m(e){let{reason:t,isChecked:n,onChange:o}=e;return(0,p.jsx)("li",{children:(0,p.jsxs)("label",{className:u.default.label,children:[(0,p.jsx)("input",{type:"radio",name:t,value:t,onChange:o,className:u.default.input,checked:n}),(0,p.jsx)(g,{reason:t})]})})}function g(e){const{reason:t}=e;switch(t){case"NO_MATCH":return r.fbt._("The pictures or descriptions don't match the item",null,{hk:"2ifaot"});case"SPAM":return r.fbt._("This is spam",null,{hk:"hjxQJ"});case"ILLEGAL":return r.fbt._("This is abusive, harmful or illegal",null,{hk:"3xz9jr"});case"SCAM":return r.fbt._("This is fraud or a scam",null,{hk:"2iFRd8"});case"KNOCKOFF":return r.fbt._("This appears to be a knockoff or counterfeit item",null,{hk:"UiFcs"});case"OTHER":return r.fbt._("Other",null,{hk:"1Kn4LY"});default:throw new Error(`Invalid reason: ${t}`)}}},96222:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{isEditMode:t,catalog:n,subtitle:o,hideIncompleteRows:h,productsToShow:m,businessProfile:g}=e;const _=(0,p.jsx)(f.default,{onViewShopClick:()=>{(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_FROM_EDIT_BIZ_PROFILE)},onCommerceManagerClick:()=>{(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_FROM_EDIT_BIZ_PROFILE)},onCancelClick:()=>{(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_FROM_EDIT_BIZ_PROFILE)}});return(0,p.jsx)(s.default,{onProductDetail:function(e){if(t)r.ModalManager.open(_),(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_PRODUCT_PREVIEW_TILE,{shouldLogJid:!1});else{const t=new URL((0,a.default)(e.url,"product.url"),`https://${c.HOSTNAME.FACEBOOK}`);l.default.open(String(t))}},onProductCatalog:function(){t?(r.ModalManager.open(_),(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_MANAGE_SHOPS)):(0,i.goToShop)(g)},catalog:n,subtitle:o,hideIncompleteRows:h,productsToShow:m,showShopsLogo:!0})};var a=o(n(45095)),l=o(n(79264)),r=n(14597),i=n(94010),s=o(n(42953)),c=n(40875),d=n(67883),u=o(n(11339)),f=o(n(95042)),p=n(85893)},27105:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleGrievanceOfficerDetailsError=t.handleCustomerCareDetailsError=t.getLegalEntityDetails=t.ComplianceInfoStructuralField=t.ComplianceInfoPrimitiveField=t.ComplianceInfoLoading=t.ComplianceInfoHelpCenterBanner=t.ComplianceInfoGroup=void 0;var a=o(n(48926)),l=n(28298),r=n(48360),i=o(n(56720)),s=o(n(62738)),c=n(93581),d=n(83657),u=o(n(35721)),f=o(n(33308)),p=n(12591),h=n(29623),m=o(n(48846)),g=o(n(14296)),_=n(11054),C=n(13923),S=n(85893);const x={fieldLabel:{display:"f804f6gw",lineHeight:"gz7w46tb"},fieldValue:{display:"f804f6gw",wordBreak:"cw3vfol9",whiteSpace:"c2jc77nu"},helpCenterBanner:{fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},displayRight:{textAlign:"cb8ormfa"}},v=()=>r.fbt._("Not Provided",null,{hk:"43OpXI"});t.ComplianceInfoGroup=e=>{let{title:t,children:n}=e;return(0,S.jsx)(f.default,{title:t,xstyle:l.uiPadding.vert8,children:n})};t.ComplianceInfoPrimitiveField=e=>{let{value:t,label:n,forceLTR:o}=e;return(0,S.jsxs)(P,{children:[(0,S.jsx)(y,{value:t,forceLTR:o}),(0,S.jsx)(b,{label:n})]})};t.ComplianceInfoStructuralField=e=>{let{valuesMap:t={},keys:n=[],label:o}=e;const a=n.reduce(((e,n)=>t[n]?e.concat(t[n]):e),[]),l=a.length?a.join(", "):v();return(0,S.jsxs)(P,{children:[(0,S.jsx)(y,{value:l}),(0,S.jsx)(b,{label:o})]})};const P=e=>{let{children:t}=e;return(0,S.jsx)(u.default,{multiline:!0,restrictSpacing:!0,children:(0,S.jsx)("div",{className:(0,i.default)(l.uiPadding.vert8),children:t})})};t.ComplianceInfoLoading=()=>(0,S.jsx)(h.FlexRow,{align:"center",justify:"center",a8nText:"compliance-info-loading",children:(0,S.jsx)(m.default,{children:(0,S.jsx)(_.Spinner,{})})});t.ComplianceInfoHelpCenterBanner=e=>{let{xstyle:t}=e;return(0,S.jsxs)("div",{className:(0,i.default)(x.helpCenterBanner,t),"data-testid":"compliance-help-center-banner",children:[r.fbt._("Indian law requires additional information from businesses selling online.",null,{hk:"1zuHU2"})," ",(0,S.jsx)(p.ExternalLink,{href:"https://faq.whatsapp.com/general/account-and-profile/how-to-comply-with-the-laws-for-selling-online-in-India",children:r.fbt._("Learn more",null,{hk:"1JNnQ1"})})]})};const T=function(){var e=(0,a.default)((function*(e){const t=(e=>(Array.isArray(e)?e[0]:e).serialize())(yield c.BusinessProfileCollection.update(e,{getMerchantCompliance:!0}));if(t)return t.legalEntityDetails||void 0;__LOG__(3)`compliance: cannot fetch business details (${e.toString()})`}));return function(){return e.apply(this,arguments)}}();t.getLegalEntityDetails=T;const b=e=>{let{label:t}=e;return(0,S.jsx)("div",{className:(0,i.default)(x.fieldLabel),"data-testid":"compliance-info-field-label",children:(0,S.jsx)(C.TextSpan,{theme:"muted",children:t})})},y=e=>{let{value:t,forceLTR:n=!1}=e;const o=g.default.isRTL();return(0,S.jsx)("div",{className:(0,i.default)(x.fieldValue,l.uiMargin.vert3,o&&n&&x.displayRight),dir:n||!o?"ltr":"rtl","data-testid":"compliance-info-field-value",children:t||v()})};t.handleCustomerCareDetailsError=(e,t,n,o)=>{(0,d.existsCustomerCareDetailsContact)(e,t,n,o)||(0,s.default)(r.fbt._("At least one phone number is required. Please provide another phone number before removing this.",null,{hk:"2LGoJd"}))};t.handleGrievanceOfficerDetailsError=(e,t,n,o)=>{(0,d.existsGrievanceOfficerDetailsContact)(e,t,n,o)||(0,s.default)(r.fbt._("At least one contact method is required. Please provide another contact method first before removing this.",null,{hk:"NXBiy"}))}},98046:(e,t,n)=>{"use strict";var o=n(59182).default,a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{images:t,renderFallback:n,fallbackMediaData:a,fetching:d,onClick:S}=e,x=(0,c.useRef)(null),v=(0,c.useRef)(null),P=(0,c.useRef)(null),T=(0,c.useRef)(null),b=(0,c.useRef)(null),[y,j]=(0,c.useState)(null),[k,I]=(0,c.useState)(t.filter((e=>e.mediaData.mediaStage===h.MEDIA_DATA_STAGE.RESOLVED)).length),[E,O]=(0,c.useState)(!1),A=k===t.length,L=()=>I((e=>e+1));(0,c.useEffect)((()=>{let e=null;if(!A&&!n){var t,a;const n=v.current;if(!n)return;null===(t=P.current)||void 0===t||t.controller.abort(),e=new o;const s=e.signal,c=((null===(a=P.current)||void 0===a?void 0:a.promise)||Promise.resolve()).then((()=>(0,i.default)(n,{opacity:[1,0]},{delay:75,duration:50}))),d=(0,r.default)(c,s).then((()=>{if(s.aborted)throw new l.AbortError;O(!0)})).catch((0,l.catchAbort)((()=>{(0,i.default)(n,"stop",!0)}))).finally((()=>{P.current=null}));P.current={promise:d,controller:e}}return()=>{var t;null===(t=e)||void 0===t||t.abort()}}),[A,n]);const M=()=>{var e;return(null===(e=x.current)||void 0===e?void 0:e.children)?x.current.scrollWidth===x.current.offsetWidth?null:0===x.current.scrollLeft?"next":x.current.scrollWidth-1<=x.current.scrollLeft+x.current.offsetWidth?"prev":"both":null};if((0,c.useEffect)((()=>{j(M())}),[A]),n&&0===t.length)return(0,C.jsx)("div",{className:f.default.carousel,dir:"ltr",children:(0,C.jsx)("div",{className:(0,s.default)(f.default.contentContainer,f.default.slidesContainer),children:a&&(0,C.jsx)(p.default,{altText:"",mediaData:a,renderFallback:!0,singleSlide:!0})})});let w,N,R;const D=()=>{T.current=null;const e=M();y!==e&&j(e)};if(t.length>1){const e=()=>{const e=x.current;if(null!=e&&("prev"===y||"both"===y)){let t=0;const n=e.scrollLeft+Math.floor(e.offsetWidth/2);let o=e.lastElementChild;for(;o instanceof HTMLElement&&0===t;){const e=o.offsetLeft+Math.floor(o.offsetWidth/2);e<n&&(t=e-n),o=o.previousElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},t=()=>{const e=x.current;if(null!=e&&("next"===y||"both"===y)){let t=0;const n=e.scrollLeft+Math.floor(e.offsetWidth/2);let o=e.firstElementChild;for(;o instanceof HTMLElement&&0===t;){const e=o.offsetLeft+Math.floor(o.offsetWidth/2);n<e&&(t=e-n),o=o.nextElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},n=()=>{b.current=null;const e=M();y!==e&&j(e)};R=()=>{null==b.current&&(b.current=requestAnimationFrame(n))},A&&null!=y&&(w=(0,C.jsx)(u.ChevronButton,{type:u.ButtonType.Prev,onClick:e,onKeyDown:e,disabled:"prev"!==y&&"both"!==y,theme:g.RoundTheme.Small,overMedia:!0}),N=(0,C.jsx)(u.ChevronButton,{type:u.ButtonType.Next,onClick:t,onKeyDown:t,disabled:"next"!==y&&"both"!==y,theme:g.RoundTheme.Small,overMedia:!0}))}const B=1===t.length,W=t.map(((e,t)=>(0,C.jsx)(p.default,{altText:"",image:e,singleSlide:B,mediaData:e.mediaData,onClick:S,onLoad:L},t))),F=A?null:(0,C.jsx)("div",{className:(0,s.default)(f.default.contentContainer,f.default.spinnerContainer),children:(0,C.jsx)("div",{className:f.default.spinner,ref:v,children:(0,C.jsx)(_.Spinner,{color:"default",size:50,stroke:4})})}),H=(0,s.default)(f.default.carousel,{[f.default.loaded]:!d&&A,[f.default.fadeIn]:E});return(0,C.jsxs)("div",{className:H,dir:"ltr",children:[F,(0,C.jsx)("div",{ref:x,className:(0,s.default)(f.default.contentContainer,f.default.slidesContainer),onScroll:R,children:W}),w,N,(0,C.jsx)(m.default,{onResize:()=>{null==T.current&&(T.current=requestAnimationFrame(D))}})]})};var l=n(89385),r=a(n(47259)),i=a(n(62831)),s=a(n(94184)),c=n(67294),d=a(n(30523)),u=n(61991),f=a(n(55140)),p=a(n(98491)),h=n(58668),m=a(n(8694)),g=n(82857),_=n(11054),C=n(85893);d.default.polyfill()},98491:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294),l=n(35461),r=o(n(57246)),i=n(58668),s=n(85893);var c=e=>{let{mediaData:t,altText:n,image:o,singleSlide:c,renderFallback:d,onClick:u,onLoad:f,forwardRef:p}=e;const{fullHeight:h,fullWidth:m,mediaStage:g,renderableUrl:_}=(0,l.useModelValues)(t,["fullHeight","fullWidth","mediaStage","renderableUrl"]),C=(0,a.useRef)(null),S=(0,a.useRef)(g===i.MEDIA_DATA_STAGE.RESOLVED);(0,a.useEffect)((()=>{!f||S.current||d||g!==i.MEDIA_DATA_STAGE.RESOLVED||(f(),S.current=!0)}),[f,d,g]);const x=!!c;let v=m&&h?m/h:.8;v<.8&&(v=.8),v>1.91&&(v=1.91),v>1&&!x&&(v=1);const P={width:x&&v<1?100*v+"%":1!==v||c?null:"100%"},T={paddingTop:`${Math.floor(100/v)}%`},b={cursor:""+(u?"pointer":"auto")};return(0,s.jsx)("div",{ref:p?e=>p(e):null,className:r.default.slide,style:P,children:(0,s.jsx)("div",{className:r.default.slideInnerContainer,style:T,children:(0,s.jsx)("img",{ref:C,alt:n,src:_,className:r.default.image,style:b,draggable:"false",onClick:()=>{u&&C.current&&o&&u(C.current,o)}})})})};t.default=c},60263:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyCanvas=p,t.MediaGalleryView=function(e){const{mediaCollection:t,fullCollection:n,chat:o,onScroll:r,justify:s}=e,d=e.medias||e.productMedias,m="chat-info"===e.theme;if(!d)return null;let g=(0,l.default)(c.default.container,{[c.default.drawer]:n,[c.default.galleryEmpty]:0===t.length,[c.default.justifySpaceBetween]:"space-between"===s,[c.default.themeChatInfo]:m}),_=[...d];if(t.queryMediaBefore&&(n||_.length<6)){const e=(0,l.default)(c.default.more,c.default.canvasComponent,{[c.default.canvasSecondRow]:!n&&_.length>=3,[c.default.canvasFirst]:0===t.length});_.push((0,f.jsx)("div",{className:e,children:(0,f.jsx)(u.Spinner,{stroke:6,size:24})},"spinner"))}if(0===t.length){if(n)return t.queryMediaBefore?(0,f.jsx)("div",{className:(0,l.default)(c.default.drawer,c.default.drawerBody),children:(0,f.jsx)(i.Loading,{})}):(0,f.jsx)(i.MediaMsgs,{});if(m)return null;t.queryMediaBefore||t.hasMediaBefore||(g=(0,l.default)(g,c.default.galleryEmpty),_=[h(Math.max(o?o.docCount:0,0),Math.max(o?o.linkCount:0,0),Math.max(o?o.productCount:0,0))])}else for(let e=0;e<6;e++)_.push((0,f.jsx)(p,{},"empty"+e));return(0,f.jsx)("div",{onScroll:r,"data-a8n":a.default.key("media-gallery"),className:g,children:_})};var a=o(n(99964)),l=o(n(94184)),r=n(48360),i=n(85600),s=o(n(14296)),c=o(n(70764)),d=n(64551),u=n(11054),f=n(85893);function p(){return(0,f.jsx)("div",{className:c.default.canvasEmpty})}function h(e,t,n){const o=[];return null!=e&&e>0&&o.push(s.default.t(298,{count:e,_plural:e})),null!=t&&t>0&&o.push(s.default.t(449,{count:t,_plural:t})),d.ServerProps.productMediaAttachments&&null!=n&&n>0&&o.push(s.default.t(601,{count:n,_plural:n})),o.length>0?o.join(s.default.t(307)):d.ServerProps.productMediaAttachments?r.fbt._("No Media, Links, Docs and Products",null,{hk:"3RKA8T"}):r.fbt._("No Media, Links and Docs",null,{hk:"226fK3"})}},10595:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerDetailsStickerPackInfo=function(e){const{name:t,publisher:n,theme:o}=e;return(0,r.jsxs)(l.TextDiv,{theme:"plain",xstyle:[i.container,o===s.StickerStore&&i.stickerStore,o===s.MediaViewer&&i.mediaViewer],children:[t&&(0,r.jsx)(a.EmojiText,{xstyle:i.name,text:t}),t&&n&&(0,r.jsx)(a.EmojiText,{text:" • "}),n&&(0,r.jsx)(a.EmojiText,{text:n})]})},t.Theme=void 0;o(n(56720));var a=n(65417),l=n(13923),r=n(85893);const i={container:{color:"hp667wtd",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",textAlign:"qfejxiq4"},stickerStore:{marginBottom:"e2xccmyv"},mediaViewer:{marginBottom:"r2u2pyhj"},name:{fontSize:"enbbiyaj",lineHeight:"l85iiqla",color:"tl2vja3b"}},s=n(76672).Mirrored(["StickerStore","MediaViewer"]);t.Theme=s},35400:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalog:t,onSend:n}=e,o=(0,i.createCatalogLink)(t.id.user),c=t.id.equals((0,a.getMaybeMeUser)())?`${l.fbt._("Follow this link to view our catalog on WhatsApp:",null,{hk:"1bmMoC"}).toString()} ${o}`:o;return(0,s.jsx)(r.default,{text:c,onSend:n})};var a=n(78820),l=n(48360),r=o(n(24158)),i=n(82482),s=n(85893)},61266:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,onSend:n}=e,o=(0,i.createProductLink)(t.catalogWid.user,t.id.toString()),c=t.catalogWid.equals((0,a.getMaybeMeUser)())?`${l.fbt._("Follow this link to view our item on WhatsApp:",null,{hk:"H5KuN"}).toString()} ${o}`:o;return(0,s.jsx)(r.default,{text:c,onSend:n})};var a=n(78820),l=n(48360),r=o(n(24158)),i=n(82482),s=n(85893)},24158:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,_.useFlow)({initialStep:S.SelectModal,initialTransition:"none"}),o=(0,c.useRef)([]),x=(0,c.useRef)([]),v=function(){var e=(0,a.default)((function*(e){e.isUser&&e.contact.isBlocked()&&(yield(0,d.unblockContact)(e.contact))}));return function(){return e.apply(this,arguments)}}();if(null==n.step)return null;let P=null;switch(n.step){case S.SelectModal:const t=function(){var e=(0,a.default)((function*(e,t){yield v(e),e.active?u.ComposeBoxActions.paste(e,t):(e.setComposeContents({text:t}),l.Cmd.openChatFromUnread(e).then((t=>{t&&u.ComposeBoxActions.focus(e)})))}));return function(){return e.apply(this,arguments)}}(),c=function(){var o=(0,a.default)((function*(o){if(x.current=o,1===o.length){const a=o[0];yield t(a,e.text),n.end(),window.innerWidth<=i.LAYOUT_2COLUMNS_MAX_WIDTH&&r.DrawerManager.closeDrawerRight()}else n.push(S.TextMessageModal,"none");e.onSend&&e.onSend()}));return function(){return o.apply(this,arguments)}}();P=(0,C.jsx)(f.SelectModal,{title:e.title||s.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:f.ListType.CHAT_SELECT_MODAL,getInitialItems:()=>o.current,maxItems:m.ServerProps.multicastLimitGlobal,onConfirm:c,onCancel:()=>n.end(),onSelectionChanged:(e,t,n)=>{o.current=n},singleSelectionFooterType:p.FooterType.NEXT,multipleSelectionFooterType:p.FooterType.NEXT});break;case S.TextMessageModal:const d=(e,t,o)=>{e.forEach(function(){var e=(0,a.default)((function*(e){yield v(e),l.Cmd.once("ui_idle",(()=>{(0,h.sendTextMsgToChat)(e,t,{linkPreview:o})}))}));return function(){return e.apply(this,arguments)}}()),n.end()};P=(0,C.jsx)(g.default,{defaultText:e.text,title:e.title||s.fbt._("Send message to",null,{hk:"2kkuQs"}),onSend:(e,t)=>d(x.current,e,t),onBack:()=>n.pop("none")})}return(0,C.jsx)(t,{flow:n,children:P})};var a=o(n(48926)),l=n(81572),r=n(41455),i=n(41906),s=n(48360),c=n(67294),d=n(80140),u=n(88172),f=n(56728),p=n(18963),h=n(5524),m=n(64551),g=o(n(9031)),_=n(76872),C=n(85893);const S=n(76672).Mirrored(["SelectModal","TextMessageModal"])},29929:(e,t,n)=>{"use strict";var o=n(59182).default,a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findFirstWebLink=void 0,t.useLinkPreview=function(e,t){const[n,a]=(0,u.useState)(null),c=()=>{a(null)};return(0,u.useEffect)((()=>{if(c(),!e)return;const n=new o,d=n.signal;return(0,r.default)((function*(){try{const n=yield(0,s.default)((0,h.default)(e,!0),d),o=null==n?void 0:n.data;if(!o)return;if(a(o),!o.thumbnailHQ)return;const r=yield function(){return x.apply(this,arguments)}(o.thumbnailHQ,d,t);if(!r)return;a((0,l.default)((0,l.default)({},o),r))}catch(e){if(e.name===i.ABORT_ERROR)return;__LOG__(2)`useLinkPreview: error`}}))(),()=>{n.signal.aborted||n.abort()}}),[e,t]),{linkPreview:n,clearLinkPreview:c}};var l=a(n(81109)),r=a(n(48926)),i=n(89385),s=a(n(47259)),c=a(n(64369)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=a?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(o,l,r):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(95726)),u=n(67294),f=n(4841),p=a(n(46220)),h=a(n(19146)),m=n(61596),g=a(n(34949)),_=a(n(15554)),C=a(n(74460));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function x(){return(x=(0,r.default)((function*(e,t,n){try{const o=yield(0,s.default)(g.default.createFromBase64Jpeg(e),t),a=yield(0,C.default)({thumbnail:o,mediaType:m.MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:(0,_.default)(),uploadOrigin:(0,p.default)(n),forwardedFromWeb:!1,signal:t,timeout:c.default.MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}),l=a.mediaEntry;if(!l)return;return{mediaKey:l.mediaKey,mediaKeyTimestamp:l.mediaKeyTimestamp,thumbnailDirectPath:l.directPath,thumbnailSha256:a.filehash,thumbnailEncSha256:l.encFilehash}}catch(e){if(e.name===i.ABORT_ERROR)return;__LOG__(2)`useLinkPreview.uploadHQPreview: error`}}))).apply(this,arguments)}t.findFirstWebLink=e=>{const t=(0,f.removeCodeBlocks)(e),n=d.findLinks(t,!0)[0];if(n)return n}},62921:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(99964)),l=n(48360),r=n(67294),i=n(35461),s=o(n(59271)),c=n(16593),d=o(n(60453)),u=o(n(69637)),f=n(94790),p=n(92052),h=n(13923),m=n(85893);var g=(0,r.forwardRef)(((e,t)=>{const{settings:n,onClose:o}=e,{archive:r}=(0,i.useModelValues)(n,["archive"]),g=!r.classic;return(0,m.jsxs)(d.default,{ref:t,children:[(0,m.jsx)(f.DrawerHeader,{title:l.fbt._("Archive settings",null,{hk:"1YI0jC"}),type:f.DRAWER_HEADER_TYPE.LARGE,onBack:o}),(0,m.jsx)(u.default,{children:(0,m.jsxs)("div",{className:s.default.section,children:[(0,m.jsx)("div",{"data-a8n":a.default.key("auto-unarchive-setting"),className:s.default.control,children:(0,m.jsx)(c.CheckBox,{onChange:()=>{const e=!r.classic;(0,p.setArchiveClassicSetting)(e)},checked:g})}),(0,m.jsxs)("div",{"data-a8n":a.default.key("auto-unarchive-setting-text"),children:[l.fbt._("Keep chats archived",null,{hk:"IqSCS"}),(0,m.jsx)(h.TextDiv,{theme:"muted",children:l.fbt._("Archived chats will remain archived when you receive a new message",null,{hk:"jrtLe"})})]})]})})]})}));t.default=g},5970:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t}=e,[n,o]=(0,d.useState)(!1),[x,v]=(0,d.useState)(!1),[P,T]=(0,d.useState)(""),b=()=>{i.ModalManager.close()};if(x)return(0,S.jsx)(f.default,{title:c.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:b,children:(0,S.jsx)(g.TextDiv,{children:c.fbt._("We will review the collection and if it meets our guidelines, it will be added to your catalog.",null,{hk:"y5vML"})})});const y=P.length<1||n;return(0,S.jsx)(f.default,{title:c.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:()=>{o(!0);let e=!0;h.QPL.markerStart(m.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL),(0,u.handleCollectionAppeal)(t,P).then((()=>{o(!1),v(!0),e=!1,h.QPL.markerEnd(m.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,h.QuickLogActionType.SUCCESS)})).catch((0,a.filteredCatch)(l.ServerStatusCodeError,(()=>{s.ToastManager.open((0,S.jsx)(C.Toast,{msg:c.fbt._("Something went wrong and your request wasn't submitted. Try again.",null,{hk:"3sAwQH"}),id:(0,C.genId)("catalog_collection_appeal_submission_failed")})),o(!1)}))).finally((()=>{e&&h.QPL.markerEnd(m.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,h.QuickLogActionType.FAIL)}))},onCancel:b,okDisabled:y,children:(0,S.jsxs)("form",{children:[(0,S.jsx)(_.TextInput,{a8n:"confirm-popup-text-input",placeholder:c.fbt._("Enter reason for this request...",null,{hk:"3U5nE7"}),onChange:e=>{T(e)},value:P,maxLength:1e3}),(0,S.jsx)(p.ExternalLink,{href:r.default.WA_COMMERCE_POLICY_URL,children:c.fbt._("Learn More",null,{hk:"FZuUT"})})]})})};var a=n(50796),l=n(92574),r=o(n(64369)),i=n(14597),s=n(94816),c=n(48360),d=n(67294),u=n(47217),f=o(n(52665)),p=n(12591),h=n(48870),m=n(27798),g=n(13923),_=n(90011),C=n(50452),S=n(85893)},62738:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(14597),l=n(48360),r=o(n(52665)),i=n(85893);var s=e=>{a.ModalManager.open((0,i.jsx)(r.default,{okText:l.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>a.ModalManager.close(),children:e}))};t.default=s},13712:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=new f.CoolOffNux(g,C,{COOL_OFF_START_STORAGE_KEY:u.CoolOffPeriodKeys.CATALOG,MAX_VIEWS_IN_DAYS:1,COOL_OFF_DURATION_IN_DAYS:1});if(e.shouldShow()){const t=(0,m.jsx)(i.default,{onOK:()=>{e.dismiss(),a.ModalManager.close()},children:(0,m.jsxs)(s.FlexColumn,{align:"center",children:[(0,m.jsx)(c.default,{xstyle:_.graphic,children:(0,m.jsx)(p.default,{name:"cart-interstitial-graphic"})}),(0,m.jsx)(h.TextHeader,{theme:"popup-title",children:l.fbt._("New: Add to Cart",null,{hk:"34ysyY"})}),(0,m.jsx)(h.TextParagraph,{color:"secondary",className:r.default.description,children:l.fbt._("Simpler for you to keep track of order inquiries, manage requests, and close sales.",null,{hk:"25ZM2y"})})]})});a.ModalManager.open(t),e.show(),e.startCoolOffToday()}};var a=n(14597),l=n(48360),r=(o(n(56720)),o(n(31907))),i=o(n(52665)),s=n(29623),c=o(n(48846)),d=o(n(11339)),u=n(61653),f=n(1710),p=o(n(23217)),h=n(13923),m=n(85893);const g=u.NuxKeyTypes.COOL_OFF_NUX.CART_INTERSTITIAL,_={graphic:{marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",color:"bc38n4nm"}},C=d.default.BANNER_TYPES.SMB_CATALOG_CART_INTERSTITIAL},92351:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onOpenCollections:t}=e;const[n,o]=(0,l.useState)(!1),u=i.CatalogCollection.get((0,a.getMeUser)());return(0,r.useListener)(null==u?void 0:u.collections,"change",(()=>{o(!0)})),n&&(0,d.jsx)(c.default,{children:(0,d.jsx)(s.default,{onClick:t})})};var a=n(78820),l=n(67294),r=n(87550),i=n(99989),s=o(n(31502)),c=o(n(26293)),d=n(85893)},31502:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(78820),l=n(48360),r=n(57849),i=n(99989),s=o(n(22235)),c=n(17239),d=o(n(95993)),u=o(n(11339)),f=n(61653),p=o(n(25550)),h=n(1710),m=n(85893);const g=f.NuxKeyTypes.COOL_OFF_NUX.COLLECTIONS,_={COOL_OFF_DURATION_IN_DAYS:2,VIEWS_BEFORE_COOL_OFF_IN_DAYS:1,CLICKS_BEFORE_COOL_OFF:1,MAX_VIEWS_IN_DAYS:2,COOL_OFF_START_STORAGE_KEY:f.CoolOffPeriodKeys.CATALOG};class C extends p.default{render(){const{onClick:e}=this.props,t=new h.CoolOffNux(g,u.default.BANNER_TYPES.SMB_COLLECTION_CREATION,_),n=(0,m.jsx)("span",{className:s.default.actionText,children:l.fbt._("Get started",null,{hk:"m7Zf5"})});return(0,m.jsx)(d.default,{title:l.fbt._("Create new collection",null,{hk:"19zBCQ"}),subtitle:l.fbt._("Group items into collections to stay organized.",null,{hk:"1sDPK6"}),actionText:n,onClick:e,nuxManager:t,theme:"nuxBlue"})}static shouldShow(){return(0,r.getABPropConfigValue)("web_abprop_collections_nux_banner")&&c.Conn.isSMB&&function(){const e=i.CatalogCollection.get((0,a.getMeUser)());if(null==e||null==e.collections)return!1;const t=e.collections.getCollectionModels(!0);return e.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))&&0===t.length}()&&(0,h.shouldShowNUX)(g,_)}}t.default=C,C.displayName="CollectionsBanner"},23358:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(l.default,{a8nText:"li-share-link",icon:(0,s.jsx)(i.default,{name:"forward",className:r.default.icon}),onClick:e.onClick,children:a.fbt._("Send product",null,{hk:"1wkzue"})})};var a=n(48360),l=o(n(64738)),r=o(n(37295)),i=o(n(23217)),s=n(85893)},39902:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{a8nText:t,icon:n,iconWidth:o,iconHeight:u,label:f,disabled:p,xstyle:h,onClick:m}=e;const{isHovered:g,onMouseEnter:_,onMouseLeave:C}=function(){const[e,t]=(0,a.useState)(!1),n=(0,a.useCallback)((()=>{t(!0)}),[]),o=(0,a.useCallback)((()=>{t(!1)}),[]);return{isHovered:e,onMouseEnter:n,onMouseLeave:o}}(),S=(0,c.jsx)(i.default,{name:n,directional:!0,color:"teal",width:o,height:u});return(0,c.jsxs)("div",{className:(0,l.default)(d.button,p&&d.disabled,h),onMouseEnter:_,onMouseLeave:C,children:[(0,c.jsx)(r.Round,{inverted:!0,onClick:m,disabled:p,a8nText:t,hideBackground:p||!g,children:S}),(0,c.jsx)(s.default,{xstyle:d.label,disabled:p,a8nText:t,onClick:m,children:f})]})};var a=n(67294),l=o(n(56720)),r=n(82857),i=o(n(23217)),s=o(n(1784)),c=n(85893);const d={button:{textAlign:"qfejxiq4"},label:{marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"ovllcyds",marginTop:"qt60bha0",color:"jq3rn4u7"},disabled:{opacity:"ge6flnsz"}}},57501:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCatalogClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_CATALOG_ICON,catalogSessionId:e,isProfileLinked:t})},t.logEmailClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_EMAIL,catalogSessionId:e,isProfileLinked:t})},t.logForwardClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_FORWARD,catalogSessionId:e,isProfileLinked:t})},t.logHoursClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_HOURS,catalogSessionId:e,isProfileLinked:t})},t.logLinkedAccountImpression=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_APP_IMPRESSION,linkedAccount:t,catalogSessionId:e,isProfileLinked:!0})},t.logLinkedFbClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_APP_LINK,linkedAccount:r.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.FACEBOOK,catalogSessionId:e,bizFbSize:s(t),isProfileLinked:!0})},t.logLinkedIgClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_APP_LINK,linkedAccount:r.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.INSTAGRAM,catalogSessionId:e,bizIgSize:s(t),isProfileLinked:!0})},t.logLocationClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_LOCATION,catalogSessionId:e,isProfileLinked:t})},t.logMessageClick=function(e){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_MESSAGE,catalogSessionId:e})},t.logProfileExit=function(e,t,n){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_EXIT,catalogSessionId:e,scrollDepth:t,isProfileLinked:n})},t.logProfileImpression=function(e,t,n){(0,l.smbBizProfileLoggingEnabled)()?new r.default.ViewBusinessProfile({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,catalogSessionId:e,profileEntryPoint:t,isProfileLinked:!!n}).commit():new r.default.ViewBusinessProfile({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,catalogSessionId:e,isProfileLinked:!!n}).commit()},t.logShopsClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_SHOPS_ICON,catalogSessionId:e,isProfileLinked:t})},t.logStatusClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_STATUS,catalogSessionId:e,isProfileLinked:t})},t.logVoiceCallClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_VOICE_CALL,catalogSessionId:e,isProfileLinked:t})},t.logWebsiteClick=function(e,t){i({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_WEBSITE,catalogSessionId:e,isProfileLinked:t})};var a=o(n(81109)),l=n(8139),r=o(n(11339));function i(e){const t=new r.default.ViewBusinessProfile((0,a.default)((0,a.default)({},e),{},{isProfileLinked:!!e.isProfileLinked}));t&&t.commit()}function s(e){return e>1e6?r.default.TRUST_SIGNAL_BUCKETS.B1M:e>=1e5?r.default.TRUST_SIGNAL_BUCKETS.B100K:e>=1e4?r.default.TRUST_SIGNAL_BUCKETS.B10K:e>=1e3?r.default.TRUST_SIGNAL_BUCKETS.B1K:e>=501?r.default.TRUST_SIGNAL_BUCKETS.B501:e>=101?r.default.TRUST_SIGNAL_BUCKETS.B101:e>=51?r.default.TRUST_SIGNAL_BUCKETS.B51:e>=11?r.default.TRUST_SIGNAL_BUCKETS.B11:e>=2?r.default.TRUST_SIGNAL_BUCKETS.B2:1===e?r.default.TRUST_SIGNAL_BUCKETS.B1:r.default.TRUST_SIGNAL_BUCKETS.B0}},41470:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{text:t,secondary:n,icon:o,href:p,linkedAccountType:h,onClick:m,rowTheme:g}=e,_=(0,f.jsx)(u.default,{name:o}),C=(0,l.useContext)(s.DrawerContext),S=(0,c.getProductCatalogSessionId)(C);return(0,l.useEffect)((()=>{(0,r.logLinkedAccountImpression)(S,h)}),[S,h]),(0,f.jsx)(i.default,{image:_,primary:t,secondary:n,theme:g,idle:void 0===p,onClick:()=>{if(void 0!==p){const e=(0,d.getWebsiteLink)(p);a.default.open(e),null==m||m()}}})};var a=o(n(79264)),l=n(67294),r=n(57501),i=o(n(44356)),s=n(27394),c=(o(n(11339)),n(97567)),d=n(26316),u=o(n(23217)),f=n(85893)},35580:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var a=n(48360),l=n(67294),r=(o(n(56720)),n(35461)),i=n(57501),s=n(27394),c=o(n(33308)),d=n(65417),u=o(n(41470)),f=o(n(11339)),p=n(97567),h=n(85893);const m={infoText:{fontSize:"dsh4tgtl",lineHeight:"jgi8eev7",color:"t35qvd06",paddingStart:"rtas09xs",paddingEnd:"hmmjlwtp",display:"f804f6gw",paddingBottom:"p9a4hubg"}};function g(e){const{showEditHint:t,businessProfile:n,sectionTheme:o,rowTheme:g}=e,{fbPage:_,igProfessional:C}=(0,r.useModelValues)(n,["fbPage","igProfessional"]),S=(0,p.getProductCatalogSessionId)((0,l.useContext)(s.DrawerContext)),x=[];if(null==_?void 0:_.displayName){const e=_.likes?a.fbt._({"*":"Facebook • {count} Likes",_1:"Facebook • 1 Like"},[a.fbt._plural(_.likes,"count")],{hk:"4fuveG"}):a.fbt._("Facebook",null,{hk:"2PcUTa"});x.push((0,h.jsx)(u.default,{icon:"logo-facebook-round",text:_.displayName,secondary:e,href:`https://www.facebook.com/${_.id}`,rowTheme:g,onClick:()=>{(0,i.logLinkedFbClick)(S,_.likes)},linkedAccountType:f.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.FACEBOOK},"fb"))}if(null==C?void 0:C.handle){const e=C.followers?a.fbt._({"*":"Instagram • {count} Followers",_1:"Instagram • 1 Follower"},[a.fbt._plural(C.followers,"count")],{hk:"4gGhJG"}):a.fbt._("Instagram",null,{hk:"4kjnWv"});x.push((0,h.jsx)(u.default,{icon:"logo-instagram-color",text:`@${C.handle}`,secondary:e,href:`https://www.instagram.com/${C.handle}`,rowTheme:g,onClick:()=>{(0,i.logLinkedIgClick)(S,C.followers)},linkedAccountType:f.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.INSTAGRAM},"ig"))}if(0===x.length)return null;let v;if(!0===t){const e=a.fbt._("Facebook and Instagram handles can only be edited from the app on your mobile device.",null,{hk:"3JNYRt"});v=(0,h.jsx)(d.EmojiText,{xstyle:m.infoText,text:e.toString()})}return(0,h.jsxs)(c.default,{theme:o,children:[x.map((e=>e)),v]})}g.defaultProps={sectionTheme:"no-padding",rowTheme:"linked-account"}},26609:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{elementId:t,onClick:n}=e;return document.queryCommandSupported("copy")?(0,u.jsx)(s.default,{a8nText:"li-copy-link",icon:(0,u.jsx)(c.default,{name:"copy",className:i.default.icon}),onClick:()=>function(e,t){(0,a.default)(e)?l.ToastManager.open((0,u.jsx)(d.Toast,{msg:r.fbt._("Link copied to clipboard.",null,{hk:"2d44NZ"}),id:(0,d.genId)()})):l.ToastManager.open((0,u.jsx)(d.Toast,{msg:r.fbt._("Couldn't copy to clipboard. Copy using mouse or keyboard.",null,{hk:"4aKgWx"}),id:(0,d.genId)()}));null!=t&&t()}(t,n),children:r.fbt._("Copy link",null,{hk:"2ZtjA3"})}):null};var a=o(n(39311)),l=n(94816),r=n(48360),i=o(n(555)),s=o(n(64738)),c=o(n(23217)),d=n(50452),u=n(85893)},25653:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(88555),l=n(61957),r=n(81572),i=n(13042),s=o(n(52013)),c=n(41906),d=n(15461),u=n(55715),f=o(n(40436)),p=n(67294),h=o(n(59312)),m=o(n(16223)),g=n(87550),_=o(n(89113)),C=o(n(90886)),S=o(n(95402)),x=o(n(74570)),v=o(n(3409)),P=o(n(58654)),T=o(n(60453)),b=o(n(69637)),y=n(94790),j=n(85600),k=n(29424),I=o(n(14296)),E=n(87931),O=o(n(61449)),A=n(75705),L=o(n(88406)),M=n(11054),w=o(n(35563)),N=o(n(23217)),R=n(85893);function D(e,t){const{msgCollection:n,chat:o=null,onClose:D,title:B,emptyListText:W,footerText:F,headerMenu:H}=e,U=(0,v.default)(),G=(0,S.default)(),V=(0,h.default)(),K=(0,x.default)(),q=(0,m.default)((()=>new L.default([],(e=>e.id.toString())))),z=(0,m.default)((()=>new L.default([],(e=>e.id.toString())))),Q=(0,m.default)((()=>new Set)),Y=(0,p.useRef)(0),X=(0,p.useRef)({}),J=(0,p.useRef)(null),$=(0,p.useRef)(null),Z=()=>A.RenderCursor.create({msgCollection:n,type:A.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(n,{count:i.MSG_PRELOAD_THRESHOLD}),[ee,te]=(0,p.useState)(Z),ne=()=>{const e=n.toArray();q.current.init(e,!0),z.current.init(e)},oe=(0,_.default)((()=>{const e=null==o?void 0:o.id,t=n.models;if(ee.getEnd(n)<t.length)te(ee.loadAfter(n));else{if(n.isSynced)return;n.sync(e).then((()=>{U.aborted||ee.hasAfter(n)&&te(ee.loadAfter(n))})).catch((e=>{__LOG__(2)`MsgDrawer:loadEarlierMsgs failed\n${e}`}))}})),ae=e=>{if(!J.current)return;(e?e.target:document.activeElement)===J.current&&(q.current.index<0?q.current.setFirst(!0):q.current.reset(!1))},le=e=>{q.current.setVal(e),z.current.setVal(e),r.Cmd.openChatAt(e.chat,e.chat.getSearchContext(e)),r.Cmd.focusShowMsg(e.id)},re=()=>{let e=n.toArray();const t=n.isSynced?ee.getEnd(n):Math.min(ee.getEnd(n),e.length);return e=e.slice(ee.getStart(n),t),Y.current=e.length,e},ie=e=>{if(!e)return E.MSG_VISIBILITY.BELOW;const t=$.current;if(!t)return;const n=t.previousSibling;if(!(n&&n instanceof HTMLElement))return;const o=n.clientHeight,a=t.scrollTop+o,l=a+t.clientHeight,r=e.getContainerElement();return r?r.offsetTop+r.clientHeight<=a?E.MSG_VISIBILITY.ABOVE:r.offsetTop>=l?E.MSG_VISIBILITY.BELOW:E.MSG_VISIBILITY.VISIBLE:E.MSG_VISIBILITY.BELOW},se=e=>{const t=X.current[e.toString()];if(!t)return;const n=t.getWrapperRef();return n&&"function"==typeof n.getMsgComponentRef?n.getMsgComponentRef():void 0},ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Q.current.has(e.toString())&&(!!t||se(e))},de=(0,C.default)((()=>{const e=re(),t=new Set;let o=0,a=Y.current-1;for(;o<a;){const t=Math.floor((o+a)/2),n=X.current[e[t].id.toString()];ie(n)===E.MSG_VISIBILITY.ABOVE?o=t+1:a=t}for(let n=o;n<e.length;n++){const o=X.current[e[n].id.toString()];if(ie(o)!==E.MSG_VISIBILITY.VISIBLE)break;t.add(e[n].id.toString())}var l,r;l=Q.current,r=t,l.forEach((e=>{if(!r.has(e)){const t=n.get(e);if(null==t?void 0:t.isGif){const t=se(e);(null==t?void 0:t.getPlayCount())&&(null==t||t.pause())}}})),Q.current=t}),100),ue=(0,C.default)((e=>{var t;de(),e.currentTarget&&(t=e.currentTarget).scrollTop+c.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&oe()}),100);(0,p.useEffect)((()=>{ne(),J.current&&s.default.focus(J.current),!n.isSynced&&n.length<i.PAGE_SIZE&&K(oe),ae()}),[]),(0,p.useEffect)((()=>{de()})),(0,g.useListener)(window,"resize",de),(0,g.useListener)(n,["reset","sync"],(()=>{ne(),V()})),(0,g.useListener)(n,["add","remove"],(()=>{ne(),V()})),(0,g.useListener)(n,"reset",(()=>{Q.current=new Set,te(Z()),oe()}));const{isSynced:fe,length:pe}=n;(0,p.useEffect)((()=>{!fe&&pe<i.PAGE_SIZE&&K(oe)}),[oe,K,fe,pe]);const he=re();let me,ge,_e;if(ge=n.isSynced&&ee.getEnd(n)>=he.length?null:e.msgCollection.syncPromise?(0,R.jsx)("div",{className:O.default.more,title:I.default.t(473),children:(0,R.jsx)(M.Spinner,{stroke:6,size:24})}):(0,R.jsx)("div",{className:O.default.more,children:(0,R.jsx)("div",{title:I.default.t(470),onClick:oe,children:(0,R.jsx)(N.default,{name:"refresh"})})}),he.length>0){const e=he.map((e=>{const t=e.type===d.MSG_TYPE.IMAGE||e.type===d.MSG_TYPE.VIDEO||e.type===d.MSG_TYPE.AUDIO;return(0,R.jsx)(w.default,{ref:t=>{((e,t)=>{t?X.current[e.id.toString()]=t:delete X.current[e.id.toString()]})(e,t)},msg:e,isMsgVisible:t?ce:()=>{},currSelection:q.current,activeSelection:z.current,onClickMsg:le},e.id.toString())}));me=(0,R.jsx)(f.default,{transitionName:"slide",children:e})}else e.msgCollection.isSynced?me=W:(me=(0,R.jsx)(j.Loading,{}),ge=null);return(0,a.isMDBackend)()&&(!o||o&&o.endOfHistoryTransferType===l.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||o.endOfHistoryTransferType===l.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC)&&(_e=(0,R.jsx)(P.default,{theme:"md-chat-search-list",children:F})),(0,R.jsx)(T.default,{theme:"gallery",ref:t,children:(0,R.jsxs)(k.HotKeys,{className:O.default.hotKeyWraper,handlers:{down:e=>{e&&(e.preventDefault(),e.stopPropagation());const t=q.current.next();q.current.index!==t&&q.current.setNext(!0)},up:e=>{e&&(e.stopPropagation(),e.preventDefault());q.current.prev()>-1&&q.current.setPrev(!0)}},onFocus:ae,"data-tab":u.TAB_ORDER.CHAT_STARRED_DRAWER,ref:J,children:[(0,R.jsx)(y.DrawerHeader,{title:B,onBack:()=>{D?D():null==G||G.requestDismiss()},type:y.DRAWER_HEADER_TYPE.LARGE,menu:H}),(0,R.jsxs)(b.default,{onScroll:ue,ref:$,children:[me,ge,_e]})]})})}var B=(0,p.forwardRef)(D);t.default=B},71528:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(45095)),l=n(14597),r=o(n(62831)),i=o(n(94184)),s=n(48360),c=n(67294),d=o(n(44356)),u=n(88984),f=n(65417),p=o(n(47065)),h=n(46346),m=o(n(11791)),g=o(n(67978)),_=o(n(65932)),C=o(n(23217)),S=n(18644),x=n(85893);class v extends c.Component{constructor(){super(...arguments),this.state={style:{visibility:"hidden"}},this.setRefImage=e=>{this._refImage=e},this._handleImageLoad=e=>{const t=e.currentTarget;this.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},(()=>{this.props.getZoomNode((e=>{const n=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=o.top-n.top,l={visibility:"hidden",transform:`translateX(${o.left-n.left}px) translateY(${a}px) scale(${e.clientWidth/t.clientWidth})`,transition:"transform 0s",borderRadius:void 0};this.props.animateBorderRadius&&(l.borderRadius="50%"),this.setState({style:l},(()=>{let e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform 500ms cubic-bezier(.1,.82,.25,1)"};this.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform 500ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius 500ms cubic-bezier(.1,.82,.25,1)"}),this.setState({style:e})}))}))}))},this._handleClose=()=>{if(this.closing)return;let e;if(this.closing=!0,this.props.getZoomNode((t=>{e=t})),!e)return l.ModalManager.closeMedia();const t=this._refImage;if(t){this.props.animateBorderRadius&&(t.style.transition="border-radius 500ms cubic-bezier(.1,.82,.25,1)",t.style.borderRadius="50%");const n=(0,a.default)(e,"start"),o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=i.top-o.top,c=i.left-o.left,d=n.clientWidth/t.clientWidth;(0,r.default)(t,{translateX:[c,0],translateY:[s,0],scale:[d,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{l.ModalManager.closeMedia()}))}},this._handleScroll=e=>{Math.abs(e.deltaY)>3&&this._handleClose()}}shouldComponentUpdate(e){return!!e.profilePicThumb.imgFull||(this._handleClose(),!1)}render(){const{contact:e,profilePicThumb:t}=this.props;let n;return t.imgFull&&(n=(0,x.jsx)(p.default,{src:t.imgFull,hasPrivacyChecks:!0,onLoad:this._handleImageLoad,className:g.default.profileViewerImg})),(0,x.jsx)(S.UIE,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this._handleClose,children:(0,x.jsxs)("div",{className:(0,i.default)("overlay",g.default.container),onWheel:this._handleScroll,onClick:this._handleClose,children:[(0,x.jsxs)("div",{className:g.default.headerContainer,children:[(0,x.jsx)("div",{className:g.default.profileThumb,children:(0,x.jsx)(d.default,{image:(0,x.jsx)(u.DetailImage,{id:e.id,size:40}),theme:"plain",primary:(0,x.jsx)(f.EmojiText,{text:e.formattedUser})})}),(0,x.jsx)("div",{className:g.default.mediaPanelTools,children:(0,x.jsx)(h.MenuBar,{theme:"strong",children:(0,x.jsx)(h.MenuBarItem,{a8nText:"btn-close",icon:(0,x.jsx)(C.default,{name:"x-viewer"}),title:s.fbt._("Close",null,{hk:"19Jpec"}),onClick:this._handleClose})},"media-panel-header")})]}),(0,x.jsx)("div",{className:g.default.profileContainer,dir:"ltr",children:(0,x.jsx)("div",{className:g.default.media,children:(0,x.jsx)(m.default,{type:"scaleDown",size:this.state.size,children:(0,x.jsx)("div",{className:g.default.profileViewer,ref:this.setRefImage,style:this.state.style,children:n})})})})]})})}}v.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},v.displayName="PhotoViewerModal";var P=(0,_.default)(v,v.CONCERNS);t.default=P},79876:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{profilePicThumb:t,size:n}=e,o=!t.canSet()&&!t.canDelete(),[h,m]=(0,s.useState)(!1),g=(0,c.default)();return(0,p.jsx)(d.PhotoPickerLoadable,{type:u.default.PROFILE,id:t.id,attachToChat:!1,pending:h,startImage:t.imgFull,readOnly:o,onImageSet:(t,n)=>{const o=e.profilePicThumb;let s;m(!0),s=t&&n?(0,f.setProfilePic)(o,t,n):(0,f.deleteProfilePic)(o),(0,r.default)(s,g).catch((0,l.filteredCatch)(i.ActionError,(()=>{__LOG__(3)`ProfileDrawer: failed to set/delete profile image`}))).catch((0,a.catchAbort)((()=>{}))).finally((()=>{m(!1)}))},size:n})};var a=n(89385),l=n(50796),r=o(n(47259)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=a?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(o,l,r):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(35232)),s=n(67294),c=o(n(3409)),d=n(33646),u=o(n(43556)),f=n(71517),p=n(85893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}},51628:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(l.default,{a8nText:"li-share-link",icon:(0,s.jsx)(i.default,{name:"forward",className:r.default.icon}),onClick:e.onClick,children:a.fbt._("Send link via WhatsApp",null,{hk:"459eKy"})})};var a=n(48360),l=o(n(64738)),r=o(n(60654)),i=o(n(23217)),s=n(85893)},9031:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(64369)),l=n(67294),r=n(29929),i=o(n(60453)),s=o(n(69637)),c=n(94790),d=n(65417),u=n(29424),f=o(n(51845)),p=n(57224),h=o(n(81880)),m=n(82857),g=o(n(23217)),_=n(90011),C=o(n(43693)),S=n(18644),x=n(85893);var v=e=>{const{defaultText:t,title:n,onSend:o,onBack:v}=e,[P,T]=(0,l.useState)(t),b=(0,r.findFirstWebLink)(P),{linkPreview:y,clearLinkPreview:j}=(0,r.useLinkPreview)(b),k=n?(0,x.jsx)(d.EmojiText,{text:n,direction:"auto",titlify:!0,ellipsify:!0}):null,{title:I,canonicalUrl:E,description:O,thumbnail:A}=y||{},L=y?(0,x.jsx)(S.UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:j,children:(0,x.jsx)(h.default,{onOmit:j,children:(0,x.jsx)(f.default,{title:I,compose:!0,canonicalUrl:E,description:O,thumbnailJpeg:A})})}):null;return(0,x.jsx)(p.Modal,{type:p.ModalTheme.Box,children:(0,x.jsxs)(i.default,{children:[(0,x.jsx)(c.DrawerHeader,{type:c.DRAWER_HEADER_TYPE.POPUP,onBack:v,children:k}),(0,x.jsx)(s.default,{children:(0,x.jsxs)(u.HotKeys,{className:C.default.container,children:[(0,x.jsx)("div",{className:C.default.inputContainer,children:(0,x.jsx)(_.TextInput,{a8n:"text-message-modal-text-unput",value:P,maxLength:a.default.MAX_TXT_MSG_SIZE,onChange:e=>{T(e)},supportsEmoji:!0,multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small"})}),L]})}),(0,x.jsx)("div",{className:C.default.btnContainer,children:(0,x.jsx)("div",{className:C.default.btnPosition,children:(0,x.jsx)(m.Round,{large:!0,onClick:()=>{P.length&&o(P,y)},children:(0,x.jsx)(g.default,{name:"send",directional:!0})})})})]})})};t.default=v},39311:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.getSelection().removeAllRanges();const t=document.getElementById(e),n=document.createRange();t&&n.selectNode(t),window.getSelection().addRange(n);try{const e=document.execCommand("copy");return window.getSelection().removeAllRanges(),e}catch(e){return!1}}},95941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={coverPhoto:"_3bmNw",isEditable:"_1k-Tj",avatar:"_1KIoW",noStatusBorder:"kNRox",hasStatusBorder:"_8N7c7"}},97449:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={cartIcon:"_3Nx1E",inheritColor:"_1lxeQ"}},65753:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={labelRow:"_49vG",standaloneLabelRow:"_2l3_Y",labelContainer:"_1Nfyf",standaloneLabelContainer:"DENbs"}},52892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={chevron:"_2iDVt",catalogEntryButton:"_2m9wT",shopsLogo:"_31fGS"}},71429:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={prompt:"x-vzn"}},34079:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={linkIcon:"_1FiUT",inheritColor:"NwJSN"}},24100:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={linkContainer:"_39Tm3",activeLink:"_3YkDH"}},57086:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={addItemButton:"BmLy_",themeInList:"_3ZIW8",themeCollections:"NFwOH",themeDefault:"_2XlPd"}},49437:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={pendingBanner:"_26aYR",iconContainerPending:"L-2H5",iconContainerRejected:"_39dOD",rejectedBanner:"_1tqTc",rejectedBannerWithAppeal:"RHd_X"}},71704:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={header:"ycpXx",list:"iQNxs"}},27897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={list:"_3ShRn",addItemsNotice:"_31dcv"}},32067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={collectionListItem:"nIB_q",collectionName:"uK8-H",seeAllLink:"P0xwG",reviewStateRejected:"_3BNoL"}},52387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={body:"iEmhs",loadingContainer:"_6Jq-L",text:"_1t5Y4",loadingText:"_2ZaWw",shiftUp:"_2DwjK",availabilityBanner:"_39YKr"}},21540:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={buttonContainer:"_1uea4",button:"_3dAt6",addToCartButton:"NeLXF",addToCartIcon:"ZfREZ",addToCartIconDisabled:"_16avf",addToCartContainer:"_3L8a9",name:"_2_mFa",price:"_15XLs",originalPrice:"_1oNAr",description:"_3ROY2",more:"_1dlIm"}},49762:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={productImage:"fkslc",productImageContainer:"_18n4q",productThumb:"IO4T6",productThumbContainer:"ime-i",prompt:"_3OFgQ"}},70270:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={header:"_2tWjM",list:"_3XbAc"}},72940:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={header:"_16mlH",photo:"_21sHs",text:"_2lk6f",name:"pTNRM",description:"_2GV6F",spinner:"O1bTA",img:"_3i1KT"}},30836:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={imageCarouselContainer:"_3lMwD"}},11967:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={buttons:"_1_Ctk",button:"_23YI8"}},48246:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={section:"_2_Qk3",reasonList:"_3671k",label:"_1mEAu",input:"Ot7Tv",buttons:"_1HIH3"}},55140:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={carousel:"alksS",contentContainer:"OkAlG",slidesContainer:"_1w5W1",loaded:"j1J2j",fadeIn:"_2QkLV",spinnerContainer:"_1kDDe",spinner:"_3j4fM"}},57246:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={slide:"_2MjCA",slideInnerContainer:"_2cG76",image:"ubkU5"}},70764:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={canvasComponent:"_1OaQb",canvasEmpty:"_3jEqW",canvasSecondRow:"_13Jdf",canvasFirst:"az8Pk",more:"_2e4dR",container:"_1TLrW",justifySpaceBetween:"_2UyBh",galleryEmpty:"_160BB",drawer:"v7KVf",drawerBody:"_1QjIY",themeChatInfo:"_1Y056"}},59271:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={section:"_17dED",control:"_3T0RE"}},31907:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={description:"_1PJIk"}},22235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={actionText:"-KBcF"}},37295:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={icon:"_3ovSZ"}},555:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={icon:"_2I7Gg"}},61449:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={more:"_3_DUj",hotKeyWraper:"_1wxKG"}},67978:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={mediaPanelTools:"f3Dup",profileThumb:"_2xUs5",profileContainer:"Cq6XJ",media:"_1_TZb",profileViewer:"_3OWRM",profileViewerImg:"_2hH_e",container:"_9-YHG","media-viewer-animate":"_7DTuk",mediaViewerAnimate:"_7DTuk",headerContainer:"_1U_13"}},60654:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={icon:"woEzZ"}},43693:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={container:"_1ufTj",inputContainer:"_1rO5S",btnContainer:"_3KRZ3",btnPosition:"D6yuB"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.3bd20e4b731b5a584d90.js.map
