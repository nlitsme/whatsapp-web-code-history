/*! For license information please see lazy_loaded_photo_picker.34a2b9de275d4257268a.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{bafdafhgja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("bgedbhhbbg")),o=i(a("djcchigfih")),c=i(a("djbhiedbef")),d=n(a("dajffajabh")),r=i(a("fffdgbfji")),f=n(a("ddhijeejag"));t.default=function(e){return f.createElement(o.default,null,f.createElement(d.default,{a8n:"drawer-title-notifications",title:r.default.t(891),onBack:e.onClose,type:d.DRAWER_HEADER_TYPE.LARGE}),f.createElement(c.default,null,f.createElement(l.default,{key:"notifications"})))}},baggaibbia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),s=n(a("dcghjbcbii")),u=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onEnd=function(){a.end()},a.onFinished=function(e,t){a.props.onFinished(e,t),a.end()},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(f.createElement(s.default,{onCancel:this.onEnd,onFinished:this.onFinished,onRetake:this.props.onRetake,retryText:s.RETRY_OPTIONS.RESTART,img:this.props.img}))}}]),t}(i(a("bcbahjefec")).default);t.default=u},bajidgjehj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),s=i(a("effbcehec")),u=i(a("bbchdeehff")),h=i(a("baagejbchg")),m=i(a("biddiiafgd")),g=i(a("bjigbaghc")),p=i(a("djcchigfih")),b=i(a("djbhiedbef")),j=n(a("dajffajabh")),v=i(a("fijafegab")),E=n(a("cajijabhgb")),y=i(a("dgjddffcfg")),S=i(a("jheedhagg")),_=i(a("bdiiahhjbe")),C=i(a("gdfgjiffc")),k=i(a("cdcaigjjii")),P=i(a("jhhgcfgee")),I=a("bbbdgehigj"),w=i(a("bjbedjfe")),M=a("bggdhciede"),R=i(a("ihfccfgdf")),N=a("bijjheifie"),T=i(a("eedjbihej")),x=i(a("hfhhcchgj")),O=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,c.default)(this,(0,d.default)(t).call(this,e))).onBack=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.validateStatus=function(e){return!!(e||"").trim()},a.onStatusBegin=function(){a.isEditingStatus=!0},a.onSetStatusError=function(){u.default.openModal(f.createElement(m.default,{onOK:function(){return u.default.closeModal()},okText:l10n.t(1340)},l10n.t(154)))},a.onSetStatus=function(){if(null!=a.state.status){a.isEditingStatus=!1;var e=a.props.status.status,t=y.default.emojify(a.state.status);if(t===e)return a.setState({status:t});a.setState({pendingStatus:!0}),(0,N.setMyStatus)(y.default.emojify(a.state.status)).checkpoint(a.props.rejectOnUnmount()).then((function(){a.setState({pendingStatus:!1})})).catch(E.Unmount,(function(){}))}else a.onCancelStatus()},a.onStatusChange=function(e){a.setState({status:e})},a.onCancelStatus=function(){a.isEditingStatus=!1,a.setState({status:a.props.status.status})},a.onPushnameBegin=function(){a.isEditingPushname=!0},a.validatePushname=function(){var e,t=a.state.pushname;return(t=(t||"").trim())?/[\u2714\u2705\u2611]/g.test(t)&&(e=l10n.t(149)):e=l10n.t(146),!e||(a.onSetPushnameError(e),!1)},a.onSetPushname=function(){if(a.isEditingPushname=!1,g.default.canSetMyPushname()){var e=a.state.pushname;if((e=y.default.emojify((e||"").trim()))===a.props.conn.pushname)return a.setState({pushname:e});a.setState({pendingPushname:!0}),(0,M.setPushname)(e).checkpoint(a.props.rejectOnUnmount()).then((function(){a.setState({pendingPushname:!1})})).catch(E.Unmount,(function(){}))}},a.onSetPushnameError=function(e){u.default.openModal(f.createElement(m.default,{onOK:function(){return u.default.closeModal()},okText:l10n.t(1340)},e))},a.onPushnameChange=function(e){a.setState({pushname:e})},a.onCancelPushname=function(){a.isEditingPushname=!1,a.setState({pushname:a.props.conn.pushname})},a.onImageSet=function(e,t){var n=a.props.profilePicThumb;a.setState({pendingPhoto:!0}),(e&&t?(0,I.setProfilePic)(n,e,t):(0,I.deleteProfilePic)(n)).checkpoint(a.props.rejectOnUnmount()).catch(E.Unmount,(function(){})).catch(E.ActionError,(function(e){_.default.warn("ProfileDrawer: failed to set/delete profile image")(e)})).finally((function(){a.setState({pendingPhoto:!1})}))},a.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.conn,a=e.status,n=e.profilePicThumb,i=this.isEditingStatus||this.state.pendingStatus?this.state.status:a.status,l=f.createElement(v.default,{a8nText:"col-main-profile",title:l10n.t(1413),theme:"padding"},f.createElement(x.default,{value:i,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:h.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),o=l10n.t(730),c=!n.canSet()&&!n.canDelete(),d=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:t.pushname,r=g.default.isSMB?l10n.t(232):l10n.t(954);return f.createElement(p.default,null,f.createElement(j.default,{a8n:"drawer-title-profile",title:o,onBack:this.onBack,type:j.DRAWER_HEADER_TYPE.LARGE}),f.createElement(b.default,null,f.createElement("div",{className:P.default.photoPickerWrapper},f.createElement(C.default,{type:k.default.PROFILE,id:n.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:n.imgFull,readOnly:c,onImageSet:this.onImageSet})),f.createElement(v.default,{a8nText:"col-main-profile",title:l10n.t(953),theme:"padding"},f.createElement(x.default,{value:d,editable:g.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:h.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),f.createElement("div",{"data-a8n":s.default.key("pushname-description"),className:P.default.nameWrapper},f.createElement(T.default,{theme:"muted"},r)),l))}}]),t}(f.Component);O.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]};var D=(0,S.default)((0,w.default)((0,R.default)(O,O.CONCERNS)));t.default=D},bgedbhhbbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=i(a("ceffhbhahb")),s=i(a("dgdjiicfdg")),u=n(a("ddhijeejag")),h=i(a("effbcehec")),m=i(a("dacdidjdfi")),g=i(a("bbchdeehff")),p=i(a("ejdjhbacj")),b=i(a("bdiiahhjbe")),j=i(a("dagdiahdfi")),v=i(a("eedjbihej")),E=n(a("bfjajhbdf")),y={title:0,hour:1,day:24,week:168},S=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={notifications:j.default.getGlobalNotifications(),sounds:j.default.getGlobalSounds(),previews:j.default.getGlobalPreviews(),collapseMuted:j.default.getCollapseMuted(),dnd:y.title},a.onSounds=function(){var e=!a.state.sounds;a.setState({sounds:e}),j.default.setGlobalSounds(e)},a.onNotifications=function(){var e=!a.state.notifications;a.setState({notifications:e}),j.default.setGlobalNotifications(e)},a.onPreviews=function(){var e=!a.state.previews;a.setState({previews:e}),j.default.setGlobalPreviews(e)},a.onCollapseMuted=function(){var e=!a.state.collapseMuted;a.setState({collapseMuted:e}),j.default.setCollapseMuted(e)},a.onDND=function(e){if(e.target&&e.target.value){var t=parseInt(e.target.value,10);if(0===t)return a.setState({dnd:y.title}),void j.default.globalMute().unmute();a.setState({dnd:t});var n=(0,s.default)().unix()+60*t*60;j.default.globalMute().mute(n)}},a.onClose=function(){g.default.closeModal()},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.state.dnd!==y.title&&g.default.openToast(u.createElement(E.default,{msg:this.globalMuteDurationLabel(this.state.dnd),id:(0,E.genId)()}))}},{key:"globalMuteDurationLabel",value:function(e){switch(this.state.dnd){case 1:return l10n.t(522);case 24:return l10n.t(521);case 168:return l10n.t(523);default:return b.default.log("DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:"+e)(),l10n.t(520)}}},{key:"render",value:function(){var e=[];if(window.Notification){e.push(u.createElement("div",{className:p.default.section,onClick:this.onNotifications,key:0},u.createElement("div",{"data-a8n":h.default.key("menu-icon-notifications"),className:p.default.control},u.createElement(m.default,{onChange:this.onNotifications,checked:this.state.notifications})),u.createElement("div",{"data-a8n":h.default.key("option-desktop-notifications"),className:p.default.label},l10n.t(904))));var t=(0,f.default)(p.default.section,{[p.default.disabled]:!this.state.notifications});e.push(u.createElement("div",{className:t,onClick:this.onPreviews,key:1},u.createElement("div",{"data-a8n":h.default.key("menu-icon-notifications"),className:p.default.control},u.createElement(m.default,{onChange:this.onPreviews,checked:this.state.previews})),u.createElement("div",{"data-a8n":h.default.key("option-msg-previews"),className:p.default.label},l10n.t(905),u.createElement(v.default,{theme:"muted",block:!0},l10n.t(906)))))}return u.createElement("div",{className:p.default.container},u.createElement("div",{className:p.default.section,onClick:this.onSounds},u.createElement("div",{"data-a8n":h.default.key("menu-icon-notifications"),className:p.default.control},u.createElement(m.default,{onChange:this.onSounds,checked:this.state.sounds})),u.createElement("div",{"data-a8n":h.default.key("option-sounds"),className:p.default.label},l10n.t(908))),e,void 0,u.createElement("div",{className:(0,f.default)(p.default.section,p.default.sectionWide)},u.createElement("div",{className:p.default.select},u.createElement("select",{"data-a8n":h.default.key("alert-dnd-options"),value:this.state.dnd,onChange:this.onDND},u.createElement("option",{value:y.title},l10n.t(907)),u.createElement("option",{value:y.hour},l10n.t(789)),u.createElement("option",{value:y.day},l10n.t(788)),u.createElement("option",{value:y.week},l10n.t(790))))))}}]),t}(u.Component);t.default=S},bggdhciede:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.genId)(),n=(0,s.default)(t),i=new o.ActionType(l10n.t(150)),h=d.default.pushname,m=n.then((function(t){return new o.ActionType(l10n.t(147),l10n.t(162),(function(){return e(h,a)}))})).catch(r.ServerStatusCodeError,(function(e){if(e.status>=400)return new o.ActionType(l10n.t(148))})).catch((function(t){throw f.default.error("models:conn:setPushname dropped")(t),new o.ActionType(l10n.t(148),l10n.t(158),(function(){return e(status,a)}))}));return c.default.openToast(l.createElement(o.ActionToast,{id:a,initialAction:i,pendingAction:m})),n.then((function(e){e._duplicate||(d.default.pushname=t,u.default.setPushname(t))}))}(e)};var l=i(a("ddhijeejag")),o=a("ccihhdchab"),c=n(a("bbchdeehff")),d=n(a("bjigbaghc")),r=a("ddjgcfjicj"),f=n(a("bdiiahhjbe")),s=n(a("gfhdfcfge")),u=n(a("egjjcjcg"))},bibadcdgfe:function(e,t){e.exports=function(e,t,a,n){for(var i=-1,l=null==e?0:e.length;++i<l;){var o=e[i];t(n,o,a(o),e)}return n}},bjhdcidgah:function(e,t,a){e.exports=a.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},cabhjigfgc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children,a=e.onClick,n=e.icon,i=e.className,f=e.color,s=e.theme,u=n?l.createElement("div",{className:(0,o.default)(d.default.icon,{[d.default.danger]:"danger"===f,[d.default.success]:"success"===f})},n):null,h=(0,o.default)(d.default.container,i,{[d.default.containerNoIcon]:!n,[d.default.containerListAligned]:"list-aligned"===s}),m=a?"button":null,g="string"==typeof t?t:null;return l.createElement("div",{"data-a8n":c.default.key(e.a8nText),className:h,"data-ignore-capture":"any",onClick:a,role:m,title:g},u,l.createElement("div",{className:d.default.bodyContainer},l.createElement("div",{className:d.default.body},l.createElement(r.default,{theme:"title",color:f},t))))};var l=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),c=n(a("effbcehec")),d=n(a("hddadiifa")),r=n(a("eedjbihej"))},cacaidhjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),s=i(a("dhbceejbjg")),u=i(a("bjigbaghc")),h=i(a("dhhfaeacef")),m=i(a("djcchigfih")),g=i(a("djbhiedbef")),p=i(a("cabhjigfgc")),b=n(a("dajffajabh")),j=i(a("fifhbjiec")),v=i(a("fffdgbfji")),E=i(a("ibeajfihb")),y=i(a("bfdcadbbif")),S=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=f.createElement(E.default,{id:this.props.profileId}),t=f.createElement(h.default,{id:u.default.me,size:82,quality:h.default.Quality.HIGH}),a=f.createElement(j.default,{text:u.default.pushname,ellipsify:!0,titlify:!0});return f.createElement(m.default,{theme:"settings"},f.createElement(b.default,{title:v.default.t(1059),onBack:this.props.onClose,type:b.DRAWER_HEADER_TYPE.LARGE}),f.createElement(g.default,null,f.createElement(s.default,{onClick:this.props.onProfile,image:t,primary:a,theme:"identity",secondary:e}),f.createElement(p.default,{a8nText:"li-notifications",icon:f.createElement(y.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},v.default.t(728)),f.createElement(p.default,{a8nText:"li-chat_wallpaper",icon:f.createElement(y.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},v.default.t(734)),f.createElement(p.default,{a8nText:"li-blocked",icon:f.createElement(y.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},v.default.t(721)),void 0,f.createElement(p.default,{a8nText:"li-help",icon:f.createElement(y.default,{name:"settings-help"}),onClick:this.props.onHelp},v.default.t(723)),void 0,void 0,void 0,void 0,void 0))}}]),t}(f.PureComponent);t.default=S},ceigihebcb:function(e,t,a){var n=a("gfghejage");e.exports=function(e,t,a,i){return n(e,(function(e,n,l){t(i,e,a(e),l)})),i}},chbcihghjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=i(a("dbahhcabjf")),s=i(a("dbafiicfja")),u=i(a("dadhheahfi")),h=n(a("ddhijeejag")),m=n(a("dhajefgece")),g=i(a("bbchdeehff")),p=i(a("baagejbchg")),b=i(a("djcchigfih")),j=i(a("djbhiedbef")),v=n(a("dajffajabh")),E=a("cicgeajfge"),y=n(a("cajijabhgb")),S=i(a("ddajbaceej")),_=n(a("dhfbfehaef")),C=i(a("dacbgadjcd")),k=i(a("dbciicjiad")),P=i(a("bdiiahhjbe")),I=i(a("bjbedjfe")),w=i(a("fbjjefaic")),M=n(a("bfjajhbdf")),R=n(a("bcjcbbafcj")),N=a("chhhffajfi"),T=i(a("bihdhbjih")),x=i(a("bjieiiccce")),O=i(a("dfjfejdjjh")),D=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,c.default)(this,(0,d.default)(t).call(this,e))).setRefSearch=function(e){a.refSearch=e},a.setRefSearchHotkeys=function(e){a.refSearchHotkeys=e},a.setRefGallery=function(e){a.refGallery=e},a._search=function(e,t){a._hasPendingSearch=!1;var n=m.search(e,t).cancellable().then((function(t){n===a._searchPromise&&(a._addSearchResults(e,t),a.setState({isSearching:!1}))})).catch(Promise.CancellationError,(function(){})).catch((function(e){P.default.errorVerbose("Image search failed")(e),g.default.openToast(h.createElement(M.default,{msg:l10n.t(624),id:(0,M.genId)()})),n===a._searchPromise&&a.setState({isSearching:!1})})).finally((function(){n===a._searchPromise&&(a._searchPromise=null)}));a._searchPromise=n,a.setState({isSearching:!0})},a.handleUserInput=function(e){var t=(e||"").trim();if(!t)return a._cancelSearch(),void a._resetState();(0,N.numCodepoints)(t)<p.default.FTS_MIN_CHARS||t!==a.state.query&&(a._cancelSearch(),a._resetState(),a._requestSearch(t))},a.handleRequestMoreImages=function(){a._hasPendingSearch||a._searchPromise||!a.state.totalEstimatedMatches||a.state.nextOffset>=a.state.totalEstimatedMatches||a._requestSearch(a.state.query,a.state.nextOffset)},a.handleImageClick=function(e){var t=a.state.imageData[e];if(t){var n=t.contentUrl;(R.isElectron?O.default.getRetry(n,x.default.RESP_TYPE.BLOB).then((function(e){if(200!==e.status)throw new y.ServerStatusError(null,n,e.status);return e.response})):T.default.downloadImage(n)).checkpoint(a.props.rejectOnUnmount()).then((function(e){if(!(e instanceof Blob))throw new y.ImageError("Server did not respond with image bytes",n);a.props.onImageSelected(e,t.hostPageUrl)})).catch(y.Unmount,(function(){})).catch((function(e){P.default.errorVerbose("Image search failed")(e),g.default.openToast(h.createElement(M.default,{msg:l10n.t(621),id:(0,M.genId)()}))}))}},a.focusSearch=function(){(0,_.shouldIndicateFocus)(),S.default.focus(a.refSearch)},a.focusGallery=function(e){e.repeat||a.refGallery&&a.refSearch&&a.refSearch.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),(0,_.shouldIndicateFocus)(),null!=a.refGallery&&S.default.focus(a.refGallery))},a.handleSearchFocus=function(e){(0,_.indicateFocus)(a.refSearchHotkeys,["#fbfbfb","#D9F3FF"])},a.state={imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0},a._hasPendingSearch=!1,a._searchPromise=null,a._debouncedSearch=a.props.debounce(a._search,750),a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this._cancelSearch()}},{key:"_requestSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._hasPendingSearch=!0,this._debouncedSearch(e,t)}},{key:"_cancelSearch",value:function(){this._hasPendingSearch&&(this._debouncedSearch.cancel(),this._hasPendingSearch=!1),this._searchPromise&&this._searchPromise.cancel()}},{key:"_resetState",value:function(){this.setState({imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0})}},{key:"_addSearchResults",value:function(e,t){this.setState((function(a,n){var i=(0,u.default)(t.value,(function(e){return e.thumbnailUrl})),l=(0,s.default)(t.value,(function(e){return{id:e.imageId,thumbUrl:e.thumbnailUrl}})),o=t.value.length,c={};return a.query===e?(c.nextOffset=t.nextOffset?t.nextOffset:a.nextOffset+o,c.thumbnails=(0,f.default)(a.thumbnails,l),c.totalEstimatedMatches=t.totalEstimatedMatches,c.imageData=Object.assign(i,a.imageData)):(c.imageData=i,c.nextOffset=t.nextOffset?t.nextOffset:o,c.query=e,c.thumbnails=l,c.totalEstimatedMatches=t.totalEstimatedMatches),c}))}},{key:"render",value:function(){var e,t=v.DRAWER_HEADER_TYPE.POPUP,a={down:this.focusGallery};return e=0===this.state.thumbnails.length?this.state.isSearching?h.createElement(E.SearchingImages,null):this.state.query?h.createElement(E.ImageSearchEmpty,null):h.createElement(E.BeforeImageSearch,null):h.createElement(C.default,{ref:this.setRefGallery,canLoadMore:this.state.nextOffset<this.state.totalEstimatedMatches,isLoadingMore:this.state.isSearching,thumbnails:this.state.thumbnails,onFocusPrev:this.focusSearch,onImageClick:this.handleImageClick,onRequestMoreImages:this.handleRequestMoreImages}),h.createElement(b.default,null,h.createElement(v.default,{title:l10n.t(628),type:t,onBack:this.props.onBack,onCancel:this.props.onCancel}),h.createElement(j.default,null,h.createElement(_.default,{onRef:this.setRefSearchHotkeys,handlers:a,onFocus:this.handleSearchFocus},h.createElement(k.default,{ref:this.setRefSearch,placeholder:l10n.t(625),onSearch:this.handleUserInput,loading:this.state.isSearching})),e))}}]),t}(h.Component),A=D;t.Component=A;var L=(0,w.default)((0,I.default)(D));t.default=L},ciebcgbegd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),s=n(a("jaigjeiig")),u=i(a("bbchdeehff")),h=i(a("djcchigfih")),m=i(a("djbhiedbef")),g=i(a("cabhjigfgc")),p=n(a("dajffajabh")),b=a("bidfjbaebi"),j=a("facgccaif"),v=i(a("fbdhjahjj")),E=i(a("ecbjchafdg")),y=a("bfbggcdbfb"),S=i(a("bfebbjhgbh")),_=a("dfjhjafaab"),C=i(a("dgegbejdeb")),k=a("bjhdcidgah"),P={id:"animated-doodle",selector:".".concat(v.default.animation),low:{default:k},high:{default:k}},I=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).openTime=-1,a.actionsTaken=!1,a.onTOS=function(){a.actionsTaken=!0,(0,b.openExternalLink)((0,_.getTosUrl)())},a.onFAQ=function(){(0,b.openExternalLink)((0,j.getFaqUrl)()),a.logSessionEvent(y.CONTACT_US_EXIT_STATE.FAQ)},a.onContactUs=function(){u.default.openModal(f.createElement(S.default,{onCancel:a.onContactUsCancel,onSend:a.onContactUsSend}))},a.onContactUsCancel=function(){a.logSessionEvent(y.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},a.onContactUsSend=function(e){a.logSessionEvent(y.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},a.onKeyboardShortcuts=function(){u.default.openModal(f.createElement(E.default,null))},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.openTime=performance.now(),s.default.loadAsset(P,s.LOAD_PRIORITY.HELP_ANIMATED_DOODLE)}},{key:"componentWillUnmount",value:function(){this.actionsTaken||this.logSessionEvent(y.CONTACT_US_EXIT_STATE.CANCELLED)}},{key:"logSessionEvent",value:function(e,t){var a=new y.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(a.contactUsAutomaticEmail=!0,a.contactUsProblemDescription=t.subject,a.contactUsScreenshotC=t.numScreenshots),a.commit(),this.actionsTaken=!0}},{key:"render",value:function(){return f.createElement(h.default,null,f.createElement(p.default,{a8n:"drawer-title-help",title:l10n.t(616),onBack:this.props.onClose,type:p.DRAWER_HEADER_TYPE.LARGE}),f.createElement(m.default,null,f.createElement("div",{className:v.default.animation}),f.createElement(C.default,{className:v.default.versionInfo}),f.createElement(g.default,{a8nText:"li-faq",onClick:this.onFAQ},l10n.t(1408)),void 0,f.createElement(g.default,{a8nText:"li-contact-us",onClick:this.onContactUs},l10n.t(1049)),f.createElement(g.default,{a8nText:"li-tos",onClick:this.onTOS},l10n.t(1100)),void 0,void 0))}}]),t}(f.Component);t.default=I},dacbgadjcd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=i(a("dbafiicfja")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),h=i(a("baagejbchg")),m=a("dghhefgjhc"),g=a("cgejchjdhj"),p=i(a("ddajbaceej")),b=n(a("dhfbfehaef")),j=i(a("fffjbcghd")),v=i(a("bdiiahhjbe")),E=i(a("cahfddcdga")),y=i(a("bcddhhfhda")),S=i(a("dcaibchbg")),_=i(a("becfabjeeg")),C=i(a("fbjjefaic")),k=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={},a.setRefBody=function(e){a.refBody=e},a.refImages=new Map,a.setRefImage=function(e,t){t?a.refImages.set(e,t):a.refImages.delete(e)},a.setImageRefCache=new y.default(a.setRefImage),a.selection=new S.default(a.props.thumbnails,(function(e){return e.id})),a._handleHotKeysRef=function(e){a._refHotKeys=e},a.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation()},a.handleClick=function(e){var t=e.target;a.props.onImageClick&&1===t.nodeType&&"IMG"===t.tagName&&a.props.onImageClick(t.src)},a.handleEnter=function(e){var t=a.selection.getVal();v.default.assert(t,"No value selected, but enter clicked")(),a.props.onImageClick&&t&&a.props.onImageClick(t.thumbUrl)},a._requestMoreImagesIfNeeded=function(){if(!a.props.isLoadingMore&&a.props.canLoadMore&&a.props.onRequestMoreImages){if(!a.refBody)throw new Error("Requesting more images when body not rendered");a.refBody.scrollTop+h.default.SCROLL_FUDGE>a.refBody.scrollHeight-a.refBody.clientHeight&&a.props.onRequestMoreImages()}},a.handleScroll=a.props.throttle(a._requestMoreImagesIfNeeded,100),a.selectPrev=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setPrev(!1),a._updateSelected(!0,!0)},a.selectNext=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!1),a._updateSelected(!0,!0)},a.selectPrevRow=function(e){if(e.preventDefault(),e.stopPropagation(),0===a.selection.index&&a.props.onFocusPrev)a.props.onFocusPrev();else{var t=Math.max(a.selection.index-3,0);a.selection.set(t,!1,!1),a._updateSelected(!0,!0)}},a.selectNextRow=function(e){e.preventDefault(),e.stopPropagation(),a.selection.set(a.selection.index+3,!1,!1),a._updateSelected(!0,!0)},a.handleFocus=function(e){e.stopPropagation(),e.preventDefault(),(null==a.selection.index||a.selection.index<0)&&a.selection.setFirst(!1),a._updateSelected(!0,!1);var t=(0,E.default)(a.refImages.get("".concat(a.selection.index))).getElementsByClassName(j.default.imageGalleryItemOverlay);if(1!==t.length)throw new Error("Unexpected number of overlay elements ".concat(t.length));(0,b.indicateFocus)(t[0],void 0,void 0,{backgroundColorAlpha:[0,.5]})},a.handleRequestDismiss=function(){a.selection.unset(),a.setState({selectedImage:void 0})},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this._updateSelected()}},{key:"componentDidUpdate",value:function(){this._requestMoreImagesIfNeeded(),this.selection.init(this.props.thumbnails,!1),this._updateSelected()}},{key:"focus",value:function(){this._refHotKeys&&this._refHotKeys.focus()}},{key:"_updateSelected",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.selection.getVal();if(t&&this.state.selectedImage!==t&&(this.setState({selectedImage:t}),this.selection.index>-1)){var a=this.refImages.get("".concat(this.selection.index));p.default.focus(a),e&&a&&(0,g.scrollIntoViewIfNeeded)(a,!1)}}},{key:"render",value:function(){var e=this,t={down:this.selectNextRow,enter:this.handleEnter,left:this.selectPrev,right:this.selectNext,up:this.selectPrevRow},a=(0,f.default)(this.props.thumbnails,(function(t,a){var n=t.id,i=t.thumbUrl,l=!!e.state.selectedImage&&e.state.selectedImage.id===n,o=(0,s.default)(j.default.imageGalleryItem,{[j.default.selected]:l}),c=u.createElement("div",{className:j.default.imageGalleryItemOverlay});return u.createElement("div",{key:n,ref:e.setImageRefCache.getRefSetter("".concat(a)),className:o,tabIndex:-1},c,u.createElement("img",{onClick:e.handleClick,className:j.default.imageGalleryItemImage,src:i}))})),n=this.props.isLoadingMore?u.createElement("div",{tabIndex:-1,className:j.default.imageGalleryFooter},u.createElement(_.default,{stroke:6,size:24})):null;return u.createElement(b.default,{className:j.default.imageGallery,"data-tab":m.TAB_ORDERS.CHAT_IMAGE_GALLERY,handlers:t,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onRef:this._handleHotKeysRef},u.createElement("div",{ref:this.setRefBody,className:j.default.imageGalleryList,onScroll:this.handleScroll},a,u.createElement("div",{tabIndex:-1,className:j.default.imageGalleryItemSpacer}),u.createElement("div",{tabIndex:-1,className:j.default.imageGalleryItemSpacer}),u.createElement("div",{tabIndex:-1,className:j.default.imageGalleryItemSpacer}),n))}}]),t}(u.PureComponent);k.defaultProps={thumbnails:[]};var P=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,r.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(){this.getComponent().focus()}}]),t}((0,C.default)(k));t.default=P},dadhheahfi:function(e,t,a){var n=a("hgiaacebd"),i=a("dgaadghiig")((function(e,t,a){n(e,a,t)}));e.exports=i},dbbiihddig:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=i(a("iidhbgeed")),s=n(a("ddhijeejag")),u=i(a("ecciceaiej")),h=i(a("cffibfiejh")),m=i(a("bbchdeehff")),g=i(a("baagejbchg")),p=i(a("biddiiafgd")),b=i(a("dhigahgdjb")),j=i(a("dcjhajfghf")),v=i(a("bhhdeihhhf")),E=i(a("baggaibbia")),y=a("cgffhfegce"),S=i(a("bjbdcigbdi")),_=i(a("jheedhagg")),C=i(a("hcjfjhdic")),k=i(a("cajbifjffe")),P=i(a("bdiiahhjbe")),I=i(a("baffhfhhda")),w=n(a("chcadgfgad")),M=n(a("dgfecega")),R=i(a("ejeehdija")),N=i(a("cdcaigjjii")),T=i(a("ebfgabegga")),x=i(a("bfdcadbbif")),O=i(a("eafibdfg")),D=i(a("caffijjhc")),A=i(a("dbjbhajgfd")),L=i(a("didfdhbecg")),U=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={img:a.props.startImage,hover:!1,imageSize:null},a.setRefImageContainer=function(e){a.refImageContainer=e},a.setRefImageInput=function(e){a.refImageInput=e},a.onUpload=function(e){var t=a.refImageInput;if(t)return t.click(),!0},a.removeImage=function(){a.props.onImageSet(),m.default.closeModal()},a.onRemove=function(e){var t=a.props.type===N.default.GROUP?l10n.t(959):l10n.t(963);m.default.openModal(s.createElement(p.default,{onOK:a.removeImage,okText:l10n.t(958),onCancel:function(){return m.default.closeModal()},cancelText:l10n.t(1206)},t))},a.onView=function(){var e=a.refImageContainer,t=a.props,n=t.id,i=t.attachToChat;if(e&&n){var l=b.default.assertGet(n),o={transition:"profile-viewer"};i&&(o.uim=a.props.uim),m.default.openModalMedia(s.createElement(T.default,{contact:l,profilePicThumb:l.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(t){t(e)}}),o)}},a.onPaste=function(e){if(a.state.contextMenu){var t=new j.default(e.clipboardData),n=(0,f.default)(t.getFiles(),(function(e){return"image"===(0,y.typeFromMimetype)(e.type)}));if(n.length){e.preventDefault(),e.stopPropagation(),a.contextClose();var i=n[0];a.onImagePick(i)}}},a.onImageSelected=function(e){a.contextClose();var t=e.target.files[0];if(!t)return!1;a.onImagePick(t),e.target.value=""},a.onImageReceived=function(e,t){e?I.default.loadImage(e).then((function(n){a.setState({img:e}),a.props.onImageSet(e,t)})).catch((function(e){P.default.error("PhotoPicker:onImageReceived failed to load image: "+String(e))();var t=a.props.type===N.default.GROUP?l10n.t(74):l10n.t(144);m.default.openModal(s.createElement(p.default,{onOK:function(){return m.default.closeModal()}},t))})):a.setState({img:null,imageSize:null})},a.onSearch=function(){m.default.openModal(s.createElement(w.default,{type:w.BoxModalType},s.createElement(C.default,{onFinished:a.onImageReceived})))},a.onImagePick=function(e){var t=URL.createObjectURL(e);I.default.loadImage(t).then((function(t){t&&(t.width<g.default.MIN_PIC_SIDE||t.height<g.default.MIN_PIC_SIDE)?m.default.openModal(s.createElement(p.default,{onOK:function(){return m.default.closeModal()}},l10n.t(950,{size:g.default.MIN_PIC_SIDE,_plural:g.default.MIN_PIC_SIDE}))):m.default.openModal(s.createElement(w.default,{type:w.BoxModalType},s.createElement(E.default,{img:e,onFinished:a.onImageReceived,onRetake:a.onUpload})))})).catch((function(e){var t=a.props.type===N.default.GROUP?l10n.t(74):l10n.t(144);m.default.openModal(s.createElement(p.default,{onOK:function(){return m.default.closeModal()}},t))})).finally((function(){URL.revokeObjectURL(t)}))},a.onImageClick=function(e){if(a.props.readOnly)a.state.img&&a.onView();else{e.stopPropagation(),e.preventDefault();var t=[];a.props.id&&a.state.img&&t.push(s.createElement(v.default,{a8n:"mi-view-photo",key:"view",action:a.onView},l10n.t(1161))),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&t.push(s.createElement(O.default,{key:"take",onImageTake:a.onImageReceived})),t.push(s.createElement(v.default,{a8n:"mi-upload-photo",key:"upload",action:a.onUpload},l10n.t(1133))),S.default.supportsFeature(S.default.F.BING_IMAGE_SEARCH)&&a.props.type===N.default.GROUP&&t.push(s.createElement(v.default,{a8n:"mi-search-photo",key:"search",action:a.onSearch},l10n.t(1402))),a.state.img&&t.push(s.createElement(v.default,{a8n:"mi-remove-photo",key:"remove",action:a.onRemove},l10n.t(962))),e.persist(),a.setState({contextMenu:{menu:t,event:e}})}},a.contextClose=function(){a.setState({contextMenu:null})},a.onMouseOver=function(e){a.state.hover||a.setState({hover:!0})},a.onMouseEnter=function(e){a.state.hover||a.setState({hover:!0})},a.onMouseLeave=function(e){a.state.hover&&a.setState({hover:!1})},a.onLoad=function(e){var t=e.target.clientWidth,n=e.target.clientHeight;a.setState({imageSize:{width:t,height:n}})},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t;this.state.img&&(e=s.createElement(M.default,{type:M.FIT_TYPE.COVER,size:this.state.imageSize},s.createElement(k.default,{src:this.state.img,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:this.onLoad}))),(this.props.pending||this.state.img&&!this.state.imageSize)&&(t=s.createElement(h.default,null));var a=null;if(!this.props.pending&&!this.props.readOnly&&(!this.state.img||this.state.imageSize)&&(!this.state.img||this.state.contextMenu||this.state.hover)){var n="";switch(this.props.type){case N.default.GROUP:n=this.state.img?l10n.t(281):l10n.t(172);break;case N.default.PROFILE:n=this.state.img?l10n.t(286):l10n.t(178)}a=s.createElement(u.default,{icon:s.createElement(x.default,{name:"camera-light"}),text:n})}var i,l,o=this.props.pending||!this.state.imageSize&&this.state.img?function(){}:this.onImageClick;if(this.state.contextMenu&&(i=s.createElement(D.default,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},s.createElement(A.default,{contextMenu:this.state.contextMenu}))),this.props.pending||!this.state.img||this.state.img&&!this.state.imageSize){var c=this.props.type===N.default.PROFILE?"default-user":"default-group";l=s.createElement("div",{className:R.default.defaultIcon},s.createElement(x.default,{name:c}))}return s.createElement("div",{className:R.default.container},s.createElement("div",{className:R.default.body,onClick:o,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPaste:this.onPaste,ref:this.setRefImageContainer,dir:"ltr"},s.createElement("div",{className:R.default.imageContainer},e,l),s.createElement(L.default,{transitionName:"fade"},t,a)),s.createElement("input",{ref:this.setRefImageInput,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:this.onImageSelected}),i)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.startImage?{img:e.startImage}:{img:e.startImage,imageSize:null}}}]),t}(s.Component),F=(0,_.default)(U);t.default=F},dcbcadjgid:function(e,t){e.exports={list:"_1jyyu",hint:"_1jd1m",button:"_3hhmj"}},dcbfjbeaad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("djecdhecha")),f=i(a("dbjagcfebh")),s=i(a("fhfbcdaib")),u=n(a("ddhijeejag")),h=i(a("effbcehec")),m=a("dfdebdgdei"),g=i(a("dcbcadjgid")),p=i(a("bgfcjjddjf")),b=i(a("bbchdeehff")),j=i(a("biddiiafgd")),v=i(a("hdccjfbbg")),E=i(a("dhigahgdjb")),y=i(a("ddbdcagdbi")),S=i(a("djcchigfih")),_=i(a("djbhiedbef")),C=i(a("cabhjigfgc")),k=n(a("dajffajabh")),P=a("cicgeajfge"),I=i(a("bbhhbdicgc")),w=i(a("cicjcfabii")),M=i(a("bggeiidigb")),R=i(a("eceadcicaf")),N=i(a("bfdcadbbif")),T=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new M.default,a.onBlockConfirm=function(e){(0,m.blockContact)(e).catch((function(){})),b.default.closeModal()},a.onBlock=function(){b.default.openModal(u.createElement(y.default,{title:l10n.t(168),filter:function(e){return!!E.default.isFilteredContact(e)&&(!p.default.get(e.id)||l10n.t(911))},onCancel:function(){return b.default.closeModal()},onSelect:(0,s.default)(a.onBlockConfirm)}))},a.onUnblockConfirm=function(e){(0,m.unblockContact)(e).catch((function(){})),b.default.closeModal()},a.onUnblockCancel=function(){b.default.closeModal()},a.onUnblock=function(e,t){b.default.openModal(u.createElement(j.default,{okText:l10n.t(1107),onOK:a.onUnblockConfirm.bind((0,r.default)(a),t),cancelText:l10n.t(1206),onCancel:a.onUnblockCancel},l10n.t(1108,{contact:t.formattedName})))},a.renderItem=function(e){var t=e.blocklist.contact();return u.createElement(v.default,{contact:t,key:t.id.toString(),onClick:a.onUnblock,onDelete:a.onUnblock,waitIdle:!0})},a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(p.default,"add remove",(function(){e.forceUpdate()}))}},{key:"getData",value:function(){return p.default.map((function(e){return{itemKey:e.id.toString(),blocklist:e}}))}},{key:"render",value:function(){var e,t;return p.default.length>0?(e=u.createElement(w.default,{flatListControllers:[this.flatListController],className:g.default.list},u.createElement(I.default,{flatListController:this.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem})),t=u.createElement("div",{"data-a8n":h.default.key("blocked-description"),className:g.default.hint},l10n.t(165))):e=u.createElement(P.Blocked,null),u.createElement(S.default,null,u.createElement(k.default,{title:l10n.t(224),onBack:this.props.onClose,type:k.DRAWER_HEADER_TYPE.LARGE}),u.createElement("div",{className:g.default.button},u.createElement(C.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:u.createElement(N.default,{name:"add-user",directional:!0})},l10n.t(168))),u.createElement(_.default,null,e,t))}}]),t}(u.Component),x=(0,R.default)(T);t.default=x},ddhbfebjfb:function(e,t){e.exports={wallpaperColorGrid:"tyVYE",wallpaperColorCanvas:"CDuBw",wallpaperDefaultTitle:"_22NjO",wallpaperColorEmpty:"N_TIP",canvasActive:"LzQzF",canvasHover:"_2DMPB"}},dgaadghiig:function(e,t,a){var n=a("bibadcdgfe"),i=a("ceigihebcb"),l=a("eacgdgihde"),o=a("ccgdigcbgj");e.exports=function(e,t){return function(a,c){var d=o(a)?n:i,r=t?t():{};return d(a,e,l(c,2),r)}}},dgegbejdeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),h=i(a("baagejbchg")),m=a("eagfdbhhhh"),g=i(a("digaijibbh")),p=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=h.default.VERSION_STR;return s.createElement(m.SelectableDiv,{"data-a8n":u.default.key("version"),className:(0,f.default)(g.default.versionInfo,this.props.className),selectable:!0},l10n.t(1155,{version:""}),s.createElement("span",{dir:"LTR"},e),null)}}]),t}(s.PureComponent);t.default=p},dhajefgece:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n={q:e,SafeSearch:"Strict",appid:d,mkt:s[l10n.getLocale()]||s.en,size:f,aspect:r,count:a,offset:t},i=c.build("https://www.bingapis.com/api/v6/images/search",n);return l.default.get(i,l.default.RESP_TYPE.JSON).then((function(t){if(!t.response.hasOwnProperty("_type"))throw new o.InvalidServerResponseError(i,status,"Not a valid Bing response: ".concat(JSON.stringify(t.response)));if("ErrorResponse"===t.response._type){var a=t.response;throw new o.BingServerError(e,t.status,a)}if("Images"!==t.response._type)throw new o.InvalidServerResponseError(i,status,"Did not receive an image search response, "+"potentially malformed query ".concat(JSON.stringify(t.response)));return t.response}))};var l=i(a("bjieiiccce")),o=n(a("cajijabhgb")),c=n(a("edbaidcaf")),d="D41D8CD98F00B204E9800998ECF8427E4F4A7492",r="Square",f="Medium",s={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW"}},digaijibbh:function(e,t){e.exports={versionInfo:"ZIgPi"}},djibddbgic:function(e,t){e.exports={mediaPanelTools:"_27nZR",profileThumb:"_2Q-Cb",profileContainer:"ao2gD",media:"_2L039",profileViewer:"P9iLC",profileViewerImg:"_1zH0g",container:"_1zcz2","media-viewer-animate":"_2rZ-T",mediaViewerAnimate:"_2rZ-T",headerContainer:"_2YdsD"}},eafibdfg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),s=i(a("bbchdeehff")),u=i(a("bhhdeihhhf")),h=i(a("baccejacic")),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onCapture=function(){s.default.openModal(f.createElement(h.default,{onFinished:a.props.onImageTake}))},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.createElement(u.default,{action:this.onCapture,a8n:"mi-take-photo",disabled:this.props.disabled},l10n.t(1098))}}]),t}(f.Component);t.default=m},ebfgabegga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),h=i(a("bbchdeehff")),m=i(a("dhhfaeacef")),g=i(a("fifhbjiec")),p=i(a("cajbifjffe")),b=i(a("fffdgbfji")),j=a("bhfdfhefca"),v=n(a("dgfecega")),E=i(a("djibddbgic")),y=i(a("ihfccfgdf")),S=i(a("bfdcadbbif")),_=i(a("caffijjhc")),C=i(a("bcifhbgija")),k=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={style:{visibility:"hidden"}},a.onScroll=function(e){Math.abs(e.deltaY)>3&&a.onClose()},a.onClose=function(){if(!a.closing){var e;if(a.closing=!0,a.props.getZoomNode((function(t){e=t})),!e)return h.default.closeModalMedia();var t=a.refImage;if(t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),l=i.top-n.top,o=i.left-n.left,c=e.clientWidth/t.clientWidth;(0,C.default)(t,{translateX:[o,0],translateY:[l,0],scale:[c,1]},{duration:200,easing:[.1,.82,.25,1]}).then((function(){h.default.closeModalMedia()}))}}},a.onImageLoad=function(e){var t=e.target;a.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},(function(){a.props.getZoomNode((function(e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),l=i.top-n.top,o=i.left-n.left,c=e.clientWidth/t.clientWidth,d={visibility:"hidden",transform:"translateX(".concat(o,"px) translateY(").concat(l,"px) scale(").concat(c,")"),transition:"transform 0s",borderRadius:void 0};a.props.animateBorderRadius&&(d.borderRadius="50%"),a.setState({style:d},(function(){var e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform ".concat(500,"ms cubic-bezier(.1,.82,.25,1)")};a.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform ".concat(500,"ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius ").concat(500,"ms cubic-bezier(.1,.82,.25,1)")}),a.setState({style:e})}))}))}))},a.setRefImage=function(e){a.refImage=e},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.profilePicThumb.imgFull||(this.onClose(),!1)}},{key:"render",value:function(){var e,t=this.props,a=t.contact,n=t.profilePicThumb;return n.imgFull&&(e=s.createElement(p.default,{src:n.imgFull,hasPrivacyChecks:!0,onLoad:this.onImageLoad,className:E.default.profileViewerImg})),s.createElement(_.default,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.onClose},s.createElement("div",{className:(0,f.default)("overlay",E.default.container),onWheel:this.onScroll,onClick:this.onClose},s.createElement("div",{className:E.default.headerContainer},s.createElement("div",{className:E.default.profileThumb},s.createElement(u.default,{image:s.createElement(m.default,{id:a.id,size:40}),theme:"plain",primary:s.createElement(g.default,{text:a.formattedUser})})),s.createElement("div",{className:E.default.mediaPanelTools},s.createElement(j.MenuBar,{key:"media-panel-header",theme:"strong"},s.createElement(j.MenuBarItem,{a8nText:"btn-close",icon:s.createElement(S.default,{name:"x-viewer"}),title:b.default.t(1211),onClick:this.onClose})))),s.createElement("div",{className:E.default.profileContainer,dir:"ltr"},s.createElement("div",{className:E.default.media},s.createElement(v.default,{type:v.FIT_TYPE.SCALE_DOWN,size:this.state.size},s.createElement("div",{className:E.default.profileViewer,"data-animate-profile-viewer":!0,ref:this.setRefImage,style:this.state.style},e))))))}}]),t}(s.Component);k.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]};var P=(0,y.default)(k,k.CONCERNS);t.default=P},ecciceaiej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),s=i(a("effbcehec")),u=i(a("hecjahfhf")),h=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.createElement("div",{className:u.default.overlay,key:"avatar-overlay"},f.createElement("div",{className:u.default.icon},this.props.icon),f.createElement("div",{"data-a8n":s.default.key("avatar-text"),className:u.default.text},this.props.text))}}]),t}(f.Component);t.default=h},ejdjhbacj:function(e,t){e.exports={container:"_3v1xd",section:"cFkAx",sectionWide:"_9qbSk",control:"_1YO_g",label:"_3FR9x",disabled:"_2ojWN",select:"uyEaY"}},fbdhjahjj:function(e,t){e.exports={animation:"_1gzBr","play-ltr":"_1sfYd",playLtr:"_1sfYd","play-rtl":"_1eCQY",playRtl:"_1eCQY",versionInfo:"_33aF3"}},fffjbcghd:function(e,t){e.exports={imageGallery:"_3R6k5",imageGalleryList:"_1l0-4",imageGalleryItem:"_3bVfD",imageGalleryItemSpacer:"jpKy7",imageGalleryItemImage:"_1_A1K",imageGalleryItemOverlay:"_3Crwj",selected:"_1f8pw",imageGalleryFooter:"Fm-2u"}},gfhdfcfge:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(l.default.supportsFeature(l.default.F.MD_BACKEND)){Promise.resolve();return Promise.reject(new Error("should never get here: MD_BACKEND GK pass but pragma not defined."))}return o.default.setPushname(e).then((function(e){if(e.status&&200!==e.status)throw new i.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}))};var i=a("ddjgcfjicj"),l=n(a("bjbdcigbdi")),o=n(a("bihdhbjih"))},hcjfjhdic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=n(a("dcghjbcbii")),s=i(a("bcbahjefec")),u=i(a("chbcihghjd")),h=n(a("ddhijeejag")),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onImageSelected=function(e,t){a.push(h.createElement(f.default,{onCancel:a._handleCancel,attributionUrl:t,onFinished:a.onFinished,onRetake:a._pop,retryText:f.RETRY_OPTIONS.NONE,img:e}))},a._handleCancel=function(){a.end()},a._pop=function(){a.pop()},a.onFinished=function(e,t){a.props.onFinished(e,t),a.end()},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(h.createElement(u.default,{onCancel:this._pop,onImageSelected:this.onImageSelected}))}}]),t}(s.default);t.default=m},hddadiifa:function(e,t){e.exports={container:"_1CkkN",containerNoIcon:"_1gKF2",containerListAligned:"_1RMZB",icon:"rrzlm",danger:"jBe5J",success:"_3_y79",bodyContainer:"_10xEB",body:"_2QrOO"}},hecjahfhf:function(e,t){e.exports={overlay:"WX_XW",icon:"_2oJYS",text:"_22f7I"}},icaahcghc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),s=i(a("dcbfjbeaad")),u=n(a("dfhjacfbjg")),h=i(a("bjigbaghc")),m=i(a("bcbahjefec")),g=i(a("ciebcgbegd")),p=i(a("bafdafhgja")),b=i(a("dgiebgh")),j=i(a("dhefcajhhb")),v=i(a("cacaidhjb")),E=i(a("gbbacfeci")),y=i(a("ijecjcidg")),S=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).showWallpaperDrawer=function(){a.push(f.createElement(y.default,{onClose:a._pop}))},a.showBlockedDrawer=function(){a.push(f.createElement(s.default,{onClose:a._pop}))},a.showProfileDrawer=function(){var e=E.default.assertGet(h.default.me),t=j.default.assertGet(h.default.me);a.push(f.createElement(b.default,{status:e,profilePicThumb:t,conn:h.default,onClose:a._pop}))},a.showNotifications=function(){a.push(f.createElement(p.default,{onClose:a._pop}))},a.showHelp=function(){u.upload("help-page-opened"),a.push(f.createElement(g.default,{onClose:a._pop}))},a._pop=function(){a.pop()},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(f.createElement(v.default,{profileId:h.default.me,onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onClose:this._pop}))}}]),t}(m.default);t.default=S},ijecjcidg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a("eaidjcib")),o=i(a("dgcdacjddi")),c=i(a("ffceefejc")),d=i(a("cjedcdbdii")),r=i(a("dbjagcfebh")),f=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),h=i(a("ebcagbhefg")),m=i(a("bbchdeehff")),g=i(a("baagejbchg")),p=i(a("djcchigfih")),b=i(a("djbhiedbef")),j=n(a("dajffajabh")),v=i(a("fffdgbfji")),E=i(a("ihfccfgdf")),y=n(a("bfjajhbdf")),S=i(a("ddhbfebjfb")),_=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a.onClick=function(e){var t=a.encodeColor(a.props.colorHex),n=h.default.get("defaultPreference");n&&t!==n.wallpaperColor&&(n.set("wallpaperColor",t),m.default.openToast(s.createElement(y.default,{msg:v.default.t(1189),id:(0,y.genId)()})))},a.onMouseOver=function(e){a.state.hover||(a.setState({hover:!0}),h.default.trigger("wallpaper_color_preview",a.encodeColor(a.props.colorHex)))},a.onMouseEnter=function(e){a.state.hover||(a.setState({hover:!0}),h.default.trigger("wallpaper_color_preview",a.encodeColor(a.props.colorHex)))},a.onMouseLeave=function(e){a.state.hover&&(a.setState({hover:!1}),h.default.trigger("wallpaper_color_preview"))},a.encodeColor=function(e){return"#ede9e4"===e?g.default.DEFAULT_CHAT_WALLPAPER:e},a}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.isDefault?s.createElement("span",{"data-a8n":u.default.key("wallpaper-default-title"),className:S.default.wallpaperDefaultTitle},v.default.t(374)):null,t=(0,f.default)(S.default.wallpaperColorCanvas,{[S.default.canvasHover]:this.state.hover,[S.default.canvasActive]:this.props.isSelected});return s.createElement("span",{className:t,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},e)}}]),t}(s.Component),C=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=this.props,t=e.chatPreference,a=e.colors,n=!0,i=t&&t.wallpaperColor,l=a.map((function(e){var t=!1,a=!1;return(i===e||i===g.default.DEFAULT_CHAT_WALLPAPER&&n)&&(t=!0),n&&(a=!0,n=!1),s.createElement(_,{colorHex:e,isSelected:t,isDefault:a,key:e})})),o=0;o<2;o++)l.push(s.createElement("div",{key:"emptyEl"+o,className:S.default.wallpaperColorEmpty}));return s.createElement("div",{className:S.default.wallpaperColorGrid},l)}}]),t}(s.Component);C.CONCERNS={chatPreference:["wallpaperColor"]};var k=(0,E.default)(C,C.CONCERNS),P=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){h.default.trigger("wallpaper_color_preview")}},{key:"render",value:function(){return s.createElement(p.default,null,s.createElement(j.default,{title:v.default.t(1190),onBack:this.props.onClose,type:j.DRAWER_HEADER_TYPE.LARGE}),s.createElement(b.default,null,s.createElement(k,{colors:g.default.WALLPAPER_COLOR,chatPreference:h.default.get("defaultPreference")})))}}]),t}(s.Component);t.default=P},jhhgcfgee:function(e,t){e.exports={photoPickerWrapper:"_12fSF",scale:"XVXvJ",nameWrapper:"_idKB","well-animation":"_3Gjbg",wellAnimation:"_3Gjbg"}}}]);