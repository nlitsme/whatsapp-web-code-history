/*! For license information please see lazy_loaded_info_flow.d3a48d7c18379f3398a1.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{babicefcfg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetGroupSubject=function(e,t){var a;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupSubject: not supported when not build with MD_BACKEND"));a=o.default.changeSubject(e,t).then((function(e){return 200!==e.status?Promise.reject(new c.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}}));return a},t.sendSetGroupDescription=function(e,t,a,n){var i;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupDescription: not supported when not build with MD_BACKEND"));i=o.default.setGroupDescription(e,t,a,n).then((function(e){return 200!==e.status?Promise.reject(new c.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}}));return i},t.sendSetGroupProperty=function(e,t,a){var n;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupProperty: not supported when not build with MD_BACKEND"));n=(n=t===i.default.GROUP_SETTING_TYPE.EPHEMERAL?o.default.setGroupEphemeralDuration(e,a):o.default.setGroupProperty(e,t,Boolean(a))).then((function(e){return 200!==e.status?Promise.reject(new c.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}}));return n};var i=n(a("baagejbchg")),c=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bihdhbjih"))},bbcihafjbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfadcbbiie")),f=i(a("baagejbchg")),h=i(a("cgaagghihe")),p=i(a("ihfccfgdf")),g=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onSelect=function(e){var t=a.props.chat;e!==a.getInitialValue()&&t.changeEphemeralDuration(e)},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"getOptions",value:function(){return Object.keys(f.default.EPHEMERAL_SETTINGS).map((function(e){var t=f.default.EPHEMERAL_SETTINGS[e];return{label:u.default.ephemeralDurationStr(t),value:t}}))}},{key:"getInitialValue",value:function(){return this.props.chat.ephemeralDuration||0}},{key:"getPopupTitle",value:function(){return l10n.t(570)}},{key:"render",value:function(){return s.createElement(h.default,{options:this.getOptions(),initialValue:this.getInitialValue(),title:this.getPopupTitle(),onSelect:this.onSelect})}}]),t}(s.PureComponent);g.CONCERNS={chat:["ephemeralDuration"]};var m=(0,p.default)(g,g.CONCERNS);t.default=m},bbgbbhfdaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.dayToWeekday=l,t.businessHoursFromConfig=d,t.getWebsiteLink=function(e){var t=encodeURIComponent(e);return"https://l.wl.co/l?u=".concat(t)},t.getBusinessHours=function(e){var t=e.config,a=(new Date).getDay();return c.DAYS_OF_WEEK.map((function(e,n){var i=(a+n)%c.DAYS_OF_WEEK.length,r=c.DAYS_OF_WEEK[i];return{day:l(i),hours:d(t[r]),first:0===n}}))};var i=n(a("dgdjiicfdg")),c=a("bechdajic"),r=n(a("cfadcbbiie"));function o(e){return i.default.utc().startOf("day").add(e,"minutes").format(r.default.timestampStrFormat())}function l(e){return i.default.weekdays(e)}function d(e){switch(e&&e.mode){case c.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return e.hours?e.hours.map((function(e){return e.map(o).join(" - ")})).join("\n"):"";case c.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return l10n.t(229);case c.BUSINESS_HOUR_MODES.OPEN_24H:return l10n.t(231);default:return l10n.t(230)}}},bbhjjecbjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessProfile=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dgjggjiggi")),h=i(a("jgjiiajej")),p=i(a("bbchdeehff")),g=a("baagejbchg"),m=i(a("cabhjigfgc")),b=i(a("fijafegab")),j=i(a("fifhbjiec")),v=i(a("bidfjbaebi")),E=i(a("bjbdcigbdi")),C=i(a("djhbegbdaf")),S=i(a("fffdgbfji")),_=i(a("behbcejhad")),y=a("igiffibee"),M=i(a("bfbggcdbfb")),P=a("bbgbbhfdaj"),k=i(a("becfabjeeg")),N=i(a("ihfccfgdf")),T=i(a("bfdcadbbif")),R=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={collapsedHours:!0},a.onBusinessHoursClick=function(){a.setState({collapsedHours:!a.state.collapsedHours})},a.onBusinessInfoClick=function(){p.default.openModal(u.createElement(f.default,{contact:a.props.contact}))},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){new M.default.ViewBusinessProfile({viewBusinessProfileAction:M.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,businessProfileJid:this.props.contact.id.toString()}).commit()}},{key:"getBusinessInfoTitle",value:function(){var e,t=this.props.contact,a=!t.name||t.name===t.verifiedName,n="psa-unverified";switch(t.verifiedLevel){case g.VERIFIED_LEVEL.HIGH:n="psa-verified",a?e=u.createElement(j.default,{className:h.default.verifiedLabel,text:S.default.t(242)}):(e=u.createElement(j.default,{className:h.default.verifiedLabel,text:S.default.t(240)}),e=u.createElement(C.default,{id:241,params:{verified:e,businessName:t.verifiedName}}));break;case g.VERIFIED_LEVEL.LOW:e=a?u.createElement(j.default,{text:S.default.t(238)}):S.default.t(237,{businessName:t.verifiedName});break;case g.VERIFIED_LEVEL.UNKNOWN:e=S.default.t(236)}return u.createElement(I,{icon:n,className:h.default.businessMarker,onClick:this.onBusinessInfoClick},e)}},{key:"getBusinessInfoTitleV2",value:function(){var e;switch(this.props.contact.verifiedLevel){case g.VERIFIED_LEVEL.HIGH:e=S.default.t(239);break;case g.VERIFIED_LEVEL.LOW:case g.VERIFIED_LEVEL.UNKNOWN:e=S.default.t(236)}return u.createElement(m.default,{a8nText:"business-title",className:h.default.businessTitleText,onClick:this.onBusinessInfoClick},e)}},{key:"getBusinessHours",value:function(e){var t=this,a=(0,P.getBusinessHours)(e).map((function(e,a){var n=e.day,i=e.hours,c=e.first;return!c&&t.state.collapsedHours?null:u.createElement(A,{day:n,key:n,hours:i,first:c,collapsed:t.state.collapsedHours})}));return u.createElement(I,{icon:"business-hours",onClick:this.onBusinessHoursClick},a)}},{key:"getAddressString",value:function(e){var t=e.streetAddress,a=e.localizedCityName,n=e.zipCode;return t&&a&&n?S.default.t(235,{streetAddress:t,city:a,zipCode:n}):t&&a?S.default.t(234,{streetAddress:t,city:a}):t}},{key:"getAddress",value:function(e,t,a,n){var i,c,r,o=n?this.getAddressString(n):null;if(null!=t&&null!=a){var l={height:150},d=o||e;i=u.createElement("div",{style:l,className:h.default.businessMap},u.createElement(_.default,{lat:t,lng:a,name:d,width:565,height:150}))}o&&(r=null!=t&&null!=a?(0,y.getMapUrl)(t,a,o):(0,y.getSearchUrl)(o),c=u.createElement("div",{className:h.default.address},u.createElement(v.default,{href:r},u.createElement(j.default,{selectable:!0,direction:"auto",text:o}))));return c||i?u.createElement(I,{icon:"business-address"},c,i):null}},{key:"render",value:function(){var e,t,a,n,i,c,r,o;e=E.default.supportsFeature(E.default.F.VNAME_V_2)?this.getBusinessInfoTitleV2():this.getBusinessInfoTitle();var l,d=this.props.businessProfile;if(d.stale)t=u.createElement("div",{className:h.default.contactBusinessInfoSpinner},u.createElement(k.default,{size:20,stroke:5}));else if(a=d.categories&&d.categories.length?u.createElement(I,{icon:"business-category"},u.createElement(j.default,{selectable:!0,direction:"auto",text:d.categories.map((function(e){return e.localized_display_name})).join(S.default.t(432))})):null,n=d.description?u.createElement(I,{icon:"business-description"},u.createElement(j.default,{selectable:!0,direction:"auto",text:d.description})):null,i=this.getAddress(this.props.contact.name,d.latitude,d.longitude,d.structuredAddress),d.website&&Array.isArray(d.website)&&d.website.length&&(c=d.website.map((function(e,t){var a=(0,P.getWebsiteLink)(e),n=u.createElement(j.default,{selectable:!0,direction:"auto",text:e}),i=u.createElement(v.default,{className:h.default.link,href:a},n);return u.createElement(I,{icon:"business-website",key:t},i)}))),d.businessHours&&(r=this.getBusinessHours(d.businessHours)),d.email){var s=u.createElement(j.default,{selectable:!0,direction:"auto",text:d.email}),f=u.createElement(v.default,{className:h.default.link,href:"mailto:".concat(d.email)},s);o=u.createElement(I,{icon:"business-email",dir:"auto"},f)}return(t||null!=i||a||n||null!=r||o||c)&&(l=u.createElement(b.default,{theme:"padding"},u.createElement("div",{className:h.default.contactBusinessInfo},t,i,a,n,r,o,c))),u.createElement(u.Fragment,null,u.createElement(b.default,null,e),l)}}]),t}(u.PureComponent);t.BusinessProfile=R,R.CONCERNS={contact:["id","verifiedLevel","name","verifiedName"],businessProfile:["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]};var A=function(e){var t=e.first?u.createElement("div",{className:h.default.businessHoursChevron,role:"button"},u.createElement(T.default,{className:e.collapsed?"":h.default.flipSvg,display:"inline",name:"chevron-down-alt"})):null;return u.createElement("div",{className:h.default.businessHoursRow},u.createElement("div",{className:h.default.businessHoursDay},u.createElement(j.default,{direction:"auto",text:e.day})),u.createElement("div",{className:h.default.businessHoursHours},u.createElement(j.default,{direction:"auto",text:e.hours})),t)},I=function(e){return u.createElement("div",{className:(0,s.default)(h.default.dataRow,e.className),onClick:e.onClick},u.createElement("div",{className:h.default.dataRowIcon},u.createElement(T.default,{name:e.icon})),u.createElement("div",{className:h.default.dataRowText},e.children))},D=(0,N.default)(R,R.CONCERNS);t.default=D},bcfjfagjhe:function(e,t){e.exports={header:"_2zkF3"}},bdaeijiihe:function(e,t){e.exports={header:"IrCRl"}},beedjhefad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.chat,a=e.groupMetadata,n=e.onClick;return a?s.createElement(v,{groupMetadata:a,onClick:n}):s.createElement(b,{chat:t,onClick:n})},t.BaseEphemeralSettingRow=E;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfadcbbiie")),f=i(a("gejdcbjjd")),h=i(a("bdaeijiihe")),p=i(a("ihfccfgdf")),g=i(a("eedjbihej"));var m=function(e){function t(){return(0,c.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.onClick;return s.createElement(E,{ephemeralDuration:t.ephemeralDuration||0,onClick:a})}}]),t}(s.PureComponent);m.CONCERNS={chat:["ephemeralDuration"]};var b=(0,p.default)(m,m.CONCERNS),j=function(e){function t(){return(0,c.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.groupMetadata,a=e.onClick;return s.createElement(E,{ephemeralDuration:t.ephemeralDuration||0,onClick:a})}}]),t}(s.PureComponent);j.CONCERNS={groupMetadata:["ephemeralDuration"]};var v=(0,p.default)(j,j.CONCERNS);function E(e){var t=e.ephemeralDuration,a=e.onClick,n=u.default.ephemeralDurationStr(t);return s.createElement(f.default,{onClick:a,multiline:!0},s.createElement("div",{className:h.default.header},s.createElement(g.default,{theme:"title"},l10n.t(570))),s.createElement(g.default,{theme:"muted",block:!0},n))}},bfffgbbdch:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("dacdidjdfi")),h=i(a("bbchdeehff")),p=i(a("biddiiafgd")),g=i(a("gejdcbjjd")),m=i(a("ihfccfgdf")),b=a("bheafeifce"),j=i(a("eedjbihej")),v=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onMute=function(e){h.default.muteChat((0,b.unproxy)(a.props.chat),e)},a.onUnmute=function(){var e=a.props.chat.isGroup?l10n.t(353):l10n.t(352);h.default.openModal(s.createElement(p.default,{onOK:a.unmute,okText:l10n.t(41),onCancel:function(){return h.default.closeModal()},cancelText:l10n.t(1206)},e))},a.unmute=function(){a.onMute(!1),h.default.closeModal()},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.mute.isMuted,a=t?this.onUnmute:function(){e.onMute(!0)},n=s.createElement(f.default,{checked:t,onChange:a}),i=t?l10n.t(1209):l10n.t(1316);return s.createElement(g.default,{a8nText:u.default.key("block-mute"),side:n,onClick:a},s.createElement(j.default,{theme:"title"},i))}}]),t}(s.PureComponent);v.CONCERNS={chat:["isGroup"],mute:["isMuted"]};var E=(0,m.default)(v,v.CONCERNS);t.default=E},bfhjgejice:function(e,t){e.exports={body:"_2vsnU",avatar:"_2u2Mg",nameSecondary:"_3ml_s",screenName:"_3uUu-",businessVname:"IEkLN",icon:"_19juz",titleAbout:"_37TcF",chevron:"_2F_bJ"}},bgaeiiadg:function(e,t){e.exports={border:"_3YwRO"}},bheehfahbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("iidhbgeed")),u=i(a("bebajedcaf")),f=i(a("bhdddbafig")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),g=i(a("effbcehec")),m=a("dfdebdgdei"),b=i(a("bbchdeehff")),j=i(a("biddiiafgd")),v=i(a("dhigahgdjb")),E=i(a("chdfbgffgh")),C=i(a("djcchigfih")),S=i(a("djbhiedbef")),_=n(a("dajffajabh")),y=a("cicgeajfge"),M=n(a("cajijabhgb")),P=i(a("cicjcfabii")),k=i(a("bggeiidigb")),N=i(a("ddajbaceej")),T=i(a("dgjddffcfg")),R=n(a("dhfbfehaef")),A=i(a("fffdgbfji")),I=i(a("cacgcabfhd")),D=i(a("dfigcajgai")),L=i(a("bjbedjfe")),O=i(a("cdjhjdcbeg")),x=a("eagfdbhhhh"),F=i(a("bfgbdiffgd")),w=i(a("becfabjeeg")),G=i(a("bfdcadbbif")),B=n(a("bfjajhbdf")),U=i(a("didfdhbecg")),V=(0,B.genId)("max_participant_toast"),W=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:"",participants:a.props.participants,shouldFocus:!0,isBusy:!1},a.flatListController=new k.default,a.setRefParticipantList=function(e){a.refParticipantList=e},a.setRefList=function(e){a.refList=e},a.onKeyDown=function(e){if("Backspace"===e.key&&!a.state.searchText&&!(0,u.default)(a.state.participants)){e.preventDefault();var t=a.state.participants;a.setState({participants:t.slice(0,t.length-1),shouldFocus:!0})}},a.onInput=function(e){a.setState({searchText:e.target.value})},a.onReset=function(){a.setState({searchText:"",shouldFocus:!0})},a.focus=function(){N.default.focus(a.refInput)},a.onBack=function(){a.props.onBack()},a.onContinue=function(){a.props.onContinue(a.state.participants)},a.onDelete=function(e,t){var n=(0,s.default)(a.state.participants,(function(e){return!e.id.equals(t.id)}));a.setState({participants:n,shouldFocus:!n.length})},a.onContactClick=function(e,t){a.state.participants.find((function(e){return e.id.equals(t.id)}))?a.removeContact(t):t.isBlocked()?b.default.openModal(p.createElement(j.default,{title:A.default.t(168),onOK:function(){a.unblockAndAddContact(t),b.default.closeModal()},onCancel:function(){return b.default.closeModal()},okText:A.default.t(1467),cancelText:A.default.t(1335)},A.default.t(164))):a.addContact(t)},a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),(0,R.shouldIndicateFocus)(),a.refList&&a.refList.focusFirst())},a.onFocusParticipants=function(e){e.repeat||a.refInput&&0!==a.refInput.selectionStart||a.refParticipantList&&(e.preventDefault(),e.stopPropagation(),R.default.flashFocus=0,a.refParticipantList&&a.refParticipantList.focusLast())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.getFilteredContacts()[0];t&&a.onContactClick(e,t)},a.onFocusSearch=function(e){(0,R.shouldIndicateFocus)(),N.default.focus(a.refInput)},a.setRefInput=function(e){a.refInput=e},a.setRefSizer=function(e){a.refSizer=e},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"componentDidUpdate",value:function(){this.adjustInput()}},{key:"getFilteredContacts",value:function(){var e=(0,f.default)(v.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=A.default.accentFold(t);var a=T.default.numberSearch(t);return e.filter((function(e){return e.searchMatch(t,a)}))}},{key:"adjustInput",value:function(){if(this.refInput){var e,t=this.refInput.offsetParent.offsetWidth-10,a=this.refSizer.offsetWidth,n=a>t?t:a;this.refInput.style.width=n+"px",e=t-this.refInput.offsetLeft-n>0?t-this.refInput.offsetLeft:t,this.refInput.style.width=e+"px",this.state.shouldFocus&&this.focus()}}},{key:"addContact",value:function(e){var t=this.state.participants;if(t.length>=F.default.maxParticipants){var a=A.default.t(54,{max:F.default.maxParticipants});b.default.openToast(p.createElement(B.default,{msg:a,id:V}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}},{key:"removeContact",value:function(e){var t=this.state.participants;this.setState({participants:(0,s.default)(t,(function(t){return!e.id.equals(t.id)})),shouldFocus:!0})}},{key:"unblockAndAddContact",value:function(e){var t=this;this.setState({isBusy:!0}),(0,m.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then((function(){t.addContact(e),t.setState({isBusy:!1})})).catch(M.Unmount,(function(){})).catch((function(e){t.setState({isBusy:!1})}))}},{key:"render",value:function(){var e;this.state.isBusy?e=p.createElement("div",{className:I.default.spinner},p.createElement(w.default,{stroke:6,size:24})):this.state.participants&&this.state.participants.length&&(e=p.createElement(O.default,{a8nText:"group-participants-btn",onClick:this.onContinue},p.createElement(G.default,{name:"forward-light",directional:!0})));var t=this.state.participants&&this.state.participants.length?" ":A.default.t(566),a={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:this.state.participants&&this.state.participants.length?this.onContinue:function(){},up:this.onFocusParticipants};a[A.default.LR("left","right")]=this.onFocusParticipants;var n,i=this.getFilteredContacts();return n=0===i.length?p.createElement(y.SearchContacts,null):p.createElement(E.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:i,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),p.createElement(C.default,null,p.createElement(_.default,{title:A.default.t(1492),type:_.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),p.createElement(S.default,null,p.createElement("div",{className:I.default.search},p.createElement("div",null,p.createElement(R.default,{handlers:a,className:I.default.inputLine},p.createElement("div",{"data-list-scroll-container":!0},p.createElement(D.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),p.createElement("input",{"data-a8n":g.default.key("inputarea"),className:(0,h.default)(I.default.inputarea,x.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),p.createElement("span",{className:I.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),p.createElement(P.default,{className:I.default.contacts,flatListControllers:[this.flatListController]},n),p.createElement(U.default,{transitionName:"btn",className:I.default.drawerSection},e)))}}]),t}(p.Component);W.defaultProps={participants:[]};var q=(0,L.default)(W);t.default=q},bhfgibecci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cbjgbhbhcj")),f=i(a("dbdfbgehgj")),h=i(a("cfadcbbiie")),p=i(a("bbchdeehff")),g=i(a("bjigbaghc")),m=i(a("hdccjfbbg")),b=i(a("dhigahgdjb")),j=i(a("dhhfaeacef")),v=i(a("djcchigfih")),E=i(a("djbhiedbef")),C=i(a("cabhjigfgc")),S=n(a("dajffajabh")),_=i(a("fijafegab")),y=i(a("bbhhbdicgc")),M=i(a("bggeiidigb")),P=i(a("bjbdcigbdi")),k=i(a("jheedhagg")),N=i(a("eceadcicaf")),T=i(a("bfajcggcdf")),R=i(a("ihfccfgdf")),A=a("bheafeifce"),I=i(a("bfdcadbbif")),D=i(a("eedjbihej")),L=i(a("jccfhaecf")),O=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new M.default,a.onParticipantClick=function(e,t){L.default.equals(g.default.me,t.id)||f.default.find(t.id).then((function(e){p.default.openChatFromUnread(e).then((function(t){t&&p.default.focusChatTextInput(e)}))}))},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onDelete=function(){p.default.deleteOrExitChat((0,A.unproxy)(a.props.chat))},a.renderItem=function(e){var t=e.participant,n=b.default.gadd(t.id);return s.createElement(m.default,{contact:n,theme:"drawer-list",admin:!!t.isAdmin,onClick:a.onParticipantClick,key:t.id.toString(),waitIdle:!0})},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata;this.props.listeners.add(t.participants,"add remove sort reset",(function(){e.forceUpdate()}))}},{key:"getData",value:function(){return this.props.chat.groupMetadata.participants.map((function(e){return{itemKey:e.id.toString(),participant:e}}))}},{key:"render",value:function(){var e=this.props.chat,t=null;if(this.props.onMediaGallery){var a=s.createElement(I.default,{className:u.default.chevron,name:"chevron-right-alt",directional:!0}),n=P.default.supportsFeature(P.default.F.LINK_DOC_GALLERY)?l10n.t(718):l10n.t(712);t=s.createElement(_.default,{title:n,titleOnClick:this.props.onMediaGallery||function(){},subtitle:a,theme:"padding"},s.createElement(T.default,{chat:(0,A.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var i,c=this.props.chat.groupMetadata.participants,r=s.createElement(D.default,{theme:"section-title"},l10n.n(c.length)),o=c.length?s.createElement(_.default,{title:l10n.t(1397),subtitle:r},s.createElement(y.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})):null,l=s.createElement(_.default,null,s.createElement(C.default,{a8nText:"li-delete-broadcast",icon:s.createElement(I.default,{name:"delete-danger"}),color:"danger",theme:"list-aligned",onClick:this.onDelete},l10n.t(1242)));e.groupMetadata.creation?(i=h.default.timeStr(e.groupMetadata.creation),i=s.createElement(D.default,{theme:"small",block:!0},l10n.t(1261,{when:i}))):i=null;var d=null;return s.createElement(v.default,{key:"contact-info-modal"},s.createElement(S.default,{type:S.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose},s.createElement(D.default,{theme:"title",block:!0},l10n.t(227)),i),s.createElement(E.default,{flatListControllers:[this.flatListController]},s.createElement("div",{className:u.default.body},s.createElement("div",{className:u.default.photo},s.createElement(j.default,{id:e.id,size:j.default.Size.LARGE})),t,d,o,l)))}}]),t}(s.Component);O.CONCERNS={chat:["id","groupMetadata"]};var x=(0,k.default)((0,N.default)((0,R.default)(O,O.CONCERNS)));t.default=x},bhghbagiah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("bacehaajgh")),r=i(a("dagbcgeifg")),o=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=i(a("eceadcicaf")),p=i(a("igfcfhefe")),g=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,d.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))))._setGallery=function(e){a._gallery=e},a._queryCollection=function(e,t){var n=a.props,i=n.docMsgs,c=n.chat;a.props.listeners.uiIdle((function(){i.queryDocs(c,t)}))},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.docMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.docMsgs,"query_doc_before",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()}))}},{key:"render",value:function(){var e=this.props,t=e.docMsgs,a=(e.listeners,(0,r.default)(e,["docMsgs","listeners"]));return f.createElement(p.default,(0,c.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasDocBefore,queryBefore:t.queryDocBefore,emptyText:l10n.t(878)},a))}}]),t}(f.Component),m=(0,h.default)(g);t.default=m},bifbiahgch:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bhfgibecci")),f=i(a("cagcbeeaab")),h=i(a("hfjchijff")),p=i(a("cefehjcibf")),g=i(a("bcbahjefec")),m=i(a("dabdhgiijc")),b=i(a("bhefghhebf")),j=i(a("eceebdidcc")),v=a("cafajifcca"),E=a("bgjddhffji"),C=n(a("dcdageegba")),S=i(a("gbbfhbhhc")),_=i(a("cadfgfddig")),y=i(a("djicifaabb")),M=i(a("cjhggaacbb")),P=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._scrollOffset=0,a._setScrollOffset=function(e){a._scrollOffset=e},a.onProductDetail=function(e,t){var n=a.props.chat,i=s.createElement(S.default,{chat:n,product:e,onEnd:a._end,onBack:a._popAndUpdate,refreshCarousel:!1,sessionId:t,onProductLinkClick:a._onProductLinkClick});a.push(i)},a._onProductLinkClick=function(e){a.push(s.createElement(_.default,{product:e,onBack:a._pop}))},a._onCatalogLinkClick=function(e,t){a.push(s.createElement(f.default,{catalog:e,contact:t,onBack:a._pop}))},a.onProductCatalog=function(e){var t=a.props.chat;(0,E.logCarouselViewMoreClick)(t.id.toString(),e);var n=s.createElement(y.default,{contact:t.contact,onProductDetail:a.onProductDetail,catalogId:t.id,onBack:a._pop,sessionId:e,businessProfile:t.contact.businessProfile,onCatalogLinkClick:a._onCatalogLinkClick});a.push(n)},a.onStarred=function(){var e=s.createElement(M.default,{chat:a.props.chat,starredMsgs:a.props.chat.getStarredMsgs(),onClose:a._pop});a.push(e)},a.onAdminSetting=function(){var e=a.props.chat,t=s.createElement(j.default,{chat:e,groupMetadata:e.groupMetadata,onClose:a._pop});a.push(t)},a.onContactCard=function(){a.push(s.createElement(h.default,{chat:a.props.chat,onClose:a._pop}))},a.onMediaGallery=function(){var e=s.createElement(C.default,{chat:a.props.chat,onBack:a._pop,onProductDetail:a.onProductDetail,setProductsScrollOffset:a._setScrollOffset});a.push(e)},a.onGroupInviteLink=function(){var e=a.props.chat,t=s.createElement(b.default,{chat:a.props.chat,groupMetadata:e.groupMetadata,onBack:a._pop});a.push(t)},a._pop=function(){a.pop()},a._popAndUpdate=function(){a.popAndUpdate({initialTab:C.TABS.PRODUCTS,productsScrollOffset:a._scrollOffset})},a._end=function(){a.end(!0)},a.onLiveLocation=function(){var e=s.createElement(v.LiveLocationDrawerLoadable,{chat:a.props.chat,onClose:a._pop});a.push(e)},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.onStarred,t=this.onMediaGallery,a=this.props.chat;this.props.chat.isGroup?this.push(s.createElement(m.default,{chat:a,showFullGroupDescription:this.props.showFullGroupDescription,groupMetadata:a.groupMetadata,contact:a.contact,profilePicThumb:a.contact.getProfilePicThumb(),onStarred:e,onMediaGallery:t,onAdminSetting:this.onAdminSetting,onGroupInviteLink:this.onGroupInviteLink,onLiveLocation:this.onLiveLocation,onClose:this._pop})):a.isBroadcast?this.push(s.createElement(u.default,{chat:a,contact:a.contact,onStarred:e,onMediaGallery:t,onClose:this._pop})):a.isUser&&this.push(s.createElement(p.default,{contact:a.contact,onStarred:e,onContactCard:this.onContactCard,onMediaGallery:t,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,onLiveLocation:this.onLiveLocation,onClose:this._pop}))}}]),t}(g.default);t.default=P},biiiigbhdf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupSubject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return p((0,f.unproxy)(e),t)};var c=i(a("ddhijeejag")),r=a("ccihhdchab"),o=n(a("bbchdeehff")),l=a("ddjgcfjicj"),d=i(a("cajijabhgb")),s=n(a("bdiiahhjbe")),u=a("babicefcfg"),f=a("bheafeifce"),h=a("dcjbdhhjge");function p(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.genId)(),n=t.trim();if(!n)return Promise.reject(new d.ActionError);if(n===e.contact.name)return Promise.reject(new d.ActionError);var i=(0,u.sendSetGroupSubject)(e.id,n),f=e.contact.name,g=new r.ActionType(l10n.t(81)),m=i.then((function(){return new r.ActionType(l10n.t(80,{subject:n}),l10n.t(162),(function(){return p(e,f,a)}))})).catch(l.ServerStatusCodeError,(function(e){if(e.status>=400)return new r.ActionType(l10n.t(79))})).catch((function(t){return s.default.error("models:chat:setSubject dropped")(t),new r.ActionType(l10n.t(79),l10n.t(158),(function(){return p(e,n,a)}))}));return o.default.openToast(c.createElement(r.ActionToast,{id:a,initialAction:g,pendingAction:m})),i.then((function(t){if(!t._duplicate){var a={name:n};return(0,h.updateLocal)(e.contact.id,a).then((function(){e.contact.set(a)}))}})).catch(l.ServerStatusCodeError,(function(e){}))}},bjjbghfcbd:function(e,t){e.exports={msg:"_36KaO",text:"XO_8o",bubble:"_1Z9m-",author:"_2DeEX",hasSuspiciousLinks:"_3VhhQ",hasAuthor:"_2bjGA",suspiciousLabel:"_1YAWd"}},cacgcabfhd:function(e,t){e.exports={spinner:"KXvTU",search:"_66JgU",inputLine:"_3_3Rs",inputarea:"_16RnB",contacts:"_1lIXT",drawerSection:"_28Pw9",inputareaSizer:"_1q1KN"}},cbbfcahecc:function(e,t){e.exports={wrapper:"_2Q8NM"}},cbdbejjhjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),c=i(a("bacehaajgh")),r=i(a("dagbcgeifg")),o=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=i(a("baagejbchg")),p=i(a("deaaffdfff")),g=i(a("eceadcicaf")),m=i(a("igfcfhefe")),b=i(a("iibcehaia")),j=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,d.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))))._setGallery=function(e){a._gallery=e},a._onNewMsgs=function(e){if(e){var t=[],n=Array.isArray(e)?e:[e];Promise.all(n.map((function(e){return e.getLinks().length&&t.push(e),Promise.resolve()}))).then((function(){t.length&&a.props.linkMsgs.add(t)}))}},a._queryCollection=function(e,t){var n=a.props,i=n.linkMsgs,c=n.chat;a.props.listeners.uiIdle((function(){i.queryLinks(c,t)}))},a._renderLinks=function(e){var t=a.props,n=t.linkMsgs,i=t.selectedMessages,c=[];return n.forEach((function(t){var n=!t.isSentByMe&&t.isGroupMsg;t.getGalleryLinks().forEach((function(r,o){r.href!==t.matchedText&&c.push(f.createElement(p.default,{key:"".concat(t.id.toString(),"-").concat(o),msg:t,link:r,displayAuthor:n,selectable:a.props.selectable,selectedMessages:i,onMessageSelect:a.props.onMessageSelect,onClickMsg:e}))})),t.linkPreview&&c.push(f.createElement(b.default,{key:t.id.toString(),msg:t,selectable:a.props.selectable,selectedMessages:i,onMessageSelect:a.props.onMessageSelect,displayType:h.default.DISP_TYPE.GALLERY,onClickMsg:e}))})),c.reverse(),c},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.linkMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.linkMsgs,"query_link_before",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.chat.msgs,"add bulk_add",this._onNewMsgs)}},{key:"render",value:function(){var e=this.props,t=e.linkMsgs,a=(e.listeners,(0,r.default)(e,["linkMsgs","listeners"]));return f.createElement(m.default,(0,c.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasLinkBefore,queryBefore:t.queryLinkBefore,renderElements:this._renderLinks,emptyText:l10n.t(880)},a))}}]),t}(f.Component);e.exports=(0,g.default)(j)},cbjgbhbhcj:function(e,t){e.exports={body:"_3fj4f",photo:"ePRKp",chevron:"_3YYO2"}},ccjabfdeje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("fhfbcdaib")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=a("dffedeegcb"),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=n(a("dajffajabh")),b=i(a("dgjddffcfg")),j=i(a("fffdgbfji")),v=i(a("ceghjibjjg")),E=i(a("gdfgjiffc")),C=i(a("cdcaigjjii")),S=i(a("cdjhjdcbeg")),_=i(a("bfdcadbbif")),y=i(a("hfhhcchgj")),M=i(a("didfdhbecg")),P=function(e){function t(e){var a;return(0,c.default)(this,t),(a=(0,o.default)(this,(0,l.default)(t).call(this,e))).onImageSet=function(e,t){a.setState({thumb:e,full:t})},a.onContinue=function(){var e=b.default.emojify(a.state.text.trim());(0,h.createGroup)(e,a.state.thumb,a.state.full,a.props.participants),a.props.onContinue()},a.onSubjectChange=function(e){a.setState({text:e})},a.setRefEmojiInput=function(e){a.refEmojiInput=e},a.state={text:e.subject||"",thumb:e.thumb,full:e.full},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}},{key:"render",value:function(){var e=this.state.text.trim().length>0,t=e?u.createElement("div",{className:v.default.nextButton},u.createElement(S.default,{a8nText:"create-group-btn",onClick:(0,s.default)(this.onContinue)},u.createElement(_.default,{name:"checkmark-light"}))):null;return u.createElement(p.default,null,u.createElement(m.default,{title:j.default.t(872),type:m.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(g.default,null,u.createElement("div",{className:v.default.section},u.createElement(E.default,{type:C.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),u.createElement("div",{"data-a8n":f.default.key("group-subject"),className:v.default.section},u.createElement(y.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:j.default.t(578),onEnter:e?(0,s.default)(this.onContinue):function(){},supportsEmoji:!0})),u.createElement(M.default,{transitionName:"btn"},t)))}}]),t}(u.Component);t.default=P},ceeafeafie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=n(a("iaibjaeb")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("fijafegab")),m=a("hbhjdibhf"),b=i(a("bbhhbdicgc")),j=i(a("eceadcicaf")),v=i(a("fdcfhecbj")),E=i(a("ihfccfgdf")),C=i(a("bfdcadbbif")),S=i(a("eedjbihej")),_=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).commonGroupInitialized=!1,a.state={collapsed:!1,numGroups:0},a.rerender=function(){a.forceUpdate()},a.onClick=function(e,t){h.default.openChatFromUnread(t).then((function(e){e&&h.default.focusChatTextInput(t)})),a.props.onClose()},a.onShowMore=function(){a.setState({collapsed:!1})},a.renderItem=function(e){var t=e.chat;return s.createElement(f.default,{chat:t,theme:"drawer-list",contact:t.contact,mode:f.Mode.INFO,onClick:a.onClick,key:t.id.toString()})},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.contact.commonGroups;e&&(this.props.listeners.add(e,"add remove",this.rerender),this.commonGroupInitialized=!0),(0,m.findCommonGroups)(this.props.contact)}},{key:"componentDidUpdate",value:function(e){if(e.contact!==this.props.contact){var t=e.contact.commonGroups;t&&e.listeners.remove(t,"add remove",this.rerender),this.commonGroupInitialized=!1}var a=this.props.contact.commonGroups;a&&(this.commonGroupInitialized||(this.props.listeners.add(a,"add remove",this.rerender),this.commonGroupInitialized=!0))}},{key:"componentWillUnmount",value:function(){var e=this.props.contact.commonGroups;e&&this.commonGroupInitialized&&(this.props.listeners.remove(e,"add remove",this.rerender),this.commonGroupInitialized=!1)}},{key:"getData",value:function(){var e=this.props.contact.commonGroups;return e.length>p.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed&&(e=e.slice(0,p.default.INFO_DRAWER_MAX_ROWS)),e.map((function(e){return{itemKey:e.id.toString(),chat:e}}))}},{key:"render",value:function(){var e=this.props.contact.commonGroups;if(!e||!e.length)return null;var t,a=s.createElement(S.default,{theme:"section-title"},l10n.n(e.length));if(e.length>p.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed){var n=e.length-p.default.INFO_DRAWER_MAX_ROWS,i=s.createElement(v.default,{theme:"transparent"},s.createElement(C.default,{name:"down"}));t=s.createElement(u.default,{image:i,theme:"drawer-list",primary:l10n.t(577,{count:n,_plural:n}),onClick:this.onShowMore})}return s.createElement(g.default,{a8nText:"section-common-groups",title:l10n.t(1309),subtitle:a},s.createElement(b.default,{flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.contact.commonGroups,n=a?a.length:0;return t.numGroups<=p.default.INFO_DRAWER_MAX_ROWS&&n>p.default.INFO_DRAWER_MAX_ROWS?{numGroups:n,collapsed:!0}:{numGroups:n}}}]),t}(s.Component);_.CONCERNS={contact:["commonGroups"]};var y=(0,j.default)((0,E.default)(_,_.CONCERNS));t.default=y},cefehjcibf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(a("ejfeeeaeg"))},cegfhjajbg:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return c.createElement("div",{className:r.default.border})};var c=i(a("ddhijeejag")),r=n(a("bgaeiiadg"))},ceghjibjjg:function(e,t){e.exports={nextButton:"_1ZJYc",section:"_2AafV"}},cehaihfgda:function(e,t){e.exports={newGroupButton:"_39pS-"}},ceiehehagg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupProperty=function(e,t,a){return function e(t,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.genId)();if(!t.groupMetadata.canSetGroupProperty())return Promise.reject(new u.ActionError);if(!a)return Promise.reject(new u.ActionError);var p=(0,h.sendSetGroupProperty)(t.id,a,n),g={[d.default.GROUP_SETTING_TYPE.ANNOUNCEMENT]:{on:[l10n.t(296),l10n.t(288)],off:[l10n.t(295),l10n.t(287)]},[d.default.GROUP_SETTING_TYPE.RESTRICT]:{on:[l10n.t(302),l10n.t(294)],off:[l10n.t(301),l10n.t(293)]},[d.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED]:{on:[l10n.t(300),l10n.t(292)],off:[l10n.t(299),l10n.t(291)]},[d.default.GROUP_SETTING_TYPE.EPHEMERAL]:{on:[l10n.t(298),l10n.t(290)],off:[l10n.t(297),l10n.t(289)]}},m=0===n?"off":"on",b=(0,c.default)(g[a][m],2),j=b[0],v=b[1],E=new o.ActionType(j),C=p.then((function(e){return new o.ActionType(v)})).catch(s.ServerStatusCodeError,(function(e){if(404===e.status)return new o.ActionType(l10n.t(12)+" "+l10n.t(68))})).catch((function(c){return f.default.error("")(c),new o.ActionType(l10n.t(12),l10n.t(158),(function(){return e(t,a,n,i)}))}));return l.default.openToast(r.createElement(o.ActionToast,{id:i,initialAction:E,pendingAction:C})),p.then((function(e){e._duplicate||t.groupMetadata.set(d.default.GROUP_SETTING_TO_METADATA[a],n)})).catch(s.ServerStatusCodeError,(function(e){}))}((0,p.unproxy)(e),t,a)};var c=i(a("hbddjfeei")),r=n(a("ddhijeejag")),o=a("ccihhdchab"),l=i(a("bbchdeehff")),d=i(a("baagejbchg")),s=a("ddjgcfjicj"),u=n(a("cajijabhgb")),f=i(a("bdiiahhjbe")),h=a("babicefcfg"),p=a("bheafeifce")},cfafieaaec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("jcfacighg")),u=n(a("ddhijeejag")),f=i(a("cegfhjajbg")),h=i(a("dhbceejbjg")),p=i(a("dhigahgdjb")),g=i(a("cehaihfgda")),m=i(a("chdfbgffgh")),b=i(a("djcchigfih")),j=i(a("djbhiedbef")),v=n(a("dajffajabh")),E=a("cicgeajfge"),C=i(a("bggeiidigb")),S=i(a("ddajbaceej")),_=i(a("dgjddffcfg")),y=i(a("bjbdcigbdi")),M=n(a("dhfbfehaef")),P=i(a("dbciicjiad")),k=i(a("fdcfhecbj")),N=i(a("bfdcadbbif")),T=i(a("fbjjefaic")),R=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:""},a.setSearch=function(e){a.search=e},a.setRefList=function(e){a.refList=e},a.flatListController=new C.default,a.onSearch=function(e){a.searchText=e,a._onSearch(e)},a._onSearch=a.props.debounce((function(e){a.setState({searchText:e})}),100),a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),(0,M.shouldIndicateFocus)(),a.refList&&a.refList.focusFirst())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.frequentContacts[0];if(t)return(0,M.shouldIndicateFocus)(),void a.props.onClick(e,t);var n=a.getFilteredContacts(a.searchText)[0];n&&((0,M.shouldIndicateFocus)(),a.props.onClick(e,n))},a.onFocusSearch=function(){(0,M.shouldIndicateFocus)(),S.default.focus(a.search)},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){S.default.focus(this.search)}},{key:"getFilteredContacts",value:function(e){var t=e;if(p.default.ensureSorted(),!(t="string"==typeof t?t:this.state.searchText))return p.default.getFilteredContacts();var a=p.default.getFilteredContacts().concat(p.default.filter((function(e){return e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact})));t=l10n.accentFold(t);var n=_.default.numberSearch(t);return a.filter((function(e){return e.searchMatch(t,n)}))}},{key:"calculateFrequentContacts",value:function(){if(this.state.searchText||!y.default.supportsFeature(y.default.F.FREQUENT_CONTACTS))return[];var e=p.default.frequentContacts("message");return(0,s.default)(e)}},{key:"render",value:function(){var e,t=null,a=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===a.length?this.state.searchText?(0,E.SearchWithKeyword)(this.state.searchText):(0,E.SearchWithoutKeyword)():u.createElement(m.default,{ref:this.setRefList,contacts:a,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var n=u.createElement(k.default,null,u.createElement(N.default,{name:"new-group",directional:!0}));t=u.createElement("div",{"data-list-scroll-offset":!0},u.createElement("div",{className:g.default.newGroupButton},u.createElement(h.default,{image:n,primary:l10n.t(1315),onClick:this.props.onNewGroup}),u.createElement(f.default,null)))}var i={down:this.onFocusList};return u.createElement(b.default,{key:"contact-modal"},u.createElement(v.default,{title:this.props.title,type:v.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(M.default,{handlers:i},u.createElement(P.default,{ref:this.setSearch,onSearch:this.onSearch,onEnter:this.onSelectFirst,placeholder:l10n.t(1013)})),u.createElement(j.default,{flatListControllers:[this.flatListController]},t,e))}}]),t}(u.Component),A=(0,T.default)(R);t.default=A},cgaagghihe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("biddiiafgd")),h=i(a("fjcbegghf")),p=function(e){function t(e){var a;return(0,c.default)(this,t),(a=(0,o.default)(this,(0,l.default)(t).call(this,e)))._handleOK=function(){var e=a.state.selectedValue;null!=e&&a.props.onSelect(e),a.closeModal()},a._handleChange=function(e){var t=e.target;t instanceof HTMLInputElement&&a.setState({selectedValue:parseInt(t.value,10)})},a.closeModal=function(){u.default.closeModal()},a.state={selectedValue:e.initialValue},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.options.map((function(t){var a=t.value,n=t.label;return s.createElement("li",{key:"setting-".concat(a)},s.createElement("label",{className:h.default.label},s.createElement("input",{type:"radio",className:h.default.input,value:String(a),checked:a===e.state.selectedValue,onChange:e._handleChange}),n))}));return s.createElement(f.default,{title:this.props.title,okText:l10n.t(332),onOK:this._handleOK,onCancel:this.closeModal},s.createElement("form",null,s.createElement("ol",null,t)))}}]),t}(s.PureComponent);t.default=p},cgfeeffgi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),s=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=i(a("bbchdeehff")),p=i(a("biddiiafgd")),g=i(a("dhigahgdjb")),m=i(a("fifhbjiec")),b=i(a("bcbahjefec")),j=a("cgjcdbggeb"),v=n(a("cjcffhicea")),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).isGroupParticipant=function(e){return!!a.props.chat.groupMetadata.participants.get(e)},a.customSecondaryText=function(e){return a.props.chat.groupMetadata.participants.get(e)?l10n.t(1493):null},a.contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!g.default.isFilteredContact(e)&&(!t.participants.get(e.id)||l10n.t(1493))},a.confirmAddParticipant=function(e){var t=a.props.chat;a.push(f.createElement(p.default,{onOK:a.onAddParticipant.bind((0,s.default)(a),e),okText:l10n.t(1491,{_plural:e.length}),onCancel:a._pop,cancelText:l10n.t(1206)},f.createElement(m.default,{text:a.makeNameEnumeration(e,t.contact.name)})))},a.makeNameEnumeration=function(e,t){var a=e.map((function(e){return e.formattedShortName||e.shortName})).reduce((function(t,a,n){return[].concat((0,c.default)(t),[a,n!==e.length-1&&l10n.t(432)||""])}),[]);return l10n.t(331,{participants:a.join(""),subject:t})},a.onAddParticipant=function(e){(0,j.addParticipants)(a.props.chat,e).catch((function(){})),h.default.closeModal()},a._pop=function(){a.pop()},a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(f.createElement(v.default,{onConfirm:this.confirmAddParticipant,filter:this.contactFilter,title:l10n.t(1491),isDisabled:this.isGroupParticipant,isSelected:this.isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:v.ListType.PARTICIPANT_MANAGE_MODAL}))}}]),t}(b.default);t.default=E},chdfbgffgh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("cegfhjajbg")),h=n(a("iaibjaeb")),p=i(a("dbdfbgehgj")),g=a("dghhefgjhc"),m=n(a("hdccjfbbg")),b=i(a("bcfjfagjhe")),j=n(a("bbhhbdicgc")),v=i(a("dhfbfehaef")),E=i(a("cbgeijgefb")),C=i(a("dcaibchbg")),S=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).selection=new C.default([],(function(e){return e.id.toString()})),a.getSelectionList=function(){var e=a.props,t=e.contacts,n=e.frequentContacts||[],i=[],c=[];return t.forEach((function(e){if(e.isGroup){var t=p.default.get(e.id);t&&c.push(t)}else i.push(e)})),n.concat(i).concat(c)},a.onFocusGain=function(e){e.target===a.refList&&(a.selection.index<0?a.focusFirst():a.selection.reset(!0))},a.focusFirst=function(){a.selection.setFirst(!0)},a.onNextContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1?a.selection.setPrev(!0):(a.selection.unset(),a.props.onFocusSearch(e))},a.setRefHotKeys=function(e){a.refList=e},a.renderContact=function(e,t){var n;return e.isBlocked()&&(n=l10n.t(360)),u.createElement(m.default,{active:a.selection,contact:e,onClick:a.props.onClick,secondary:n,frequent:t,waitIdle:!0})},a.renderItem=function(e){switch(e.type){case 0:return u.createElement(E.default,{key:"frequent-contacts-header",header:l10n.t(1249)});case 3:var t=e.data,n=e.frequent;return a.renderChat(t,n);case 2:var i=e.data,c=e.frequent;return a.renderContact(i,c);case 1:var r=e.data,o=e.separator;return u.createElement("div",{className:b.default.header},o?u.createElement(f.default,{key:"separator-".concat(r)}):null,u.createElement(E.default,{header:r}));default:throw new j.UnknownDataError(e)}},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"renderChat",value:function(e,t){return u.createElement(h.default,{active:this.selection,chat:e,mode:h.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}},{key:"getFrequentContactsData",value:function(e){var t=this,a=[];return e.forEach((function(e){var n=t.getContactDataItem(e,!0);n&&a.push(n)})),a}},{key:"getContactDataItem",value:function(e,t){var a=(t?m.FREQUENT_PREFIX:"")+e.id.toString();if(e.isGroup){var n=p.default.get(e.id);return n?{itemKey:a,data:n,type:3,frequent:t}:null}return{itemKey:a,data:e,type:2,frequent:t}}},{key:"getData",value:function(){var e=this.props.frequentContacts,t=[],a=[],n=[];e&&e.length&&(t.push({itemKey:"frequent-contacts-header",type:0}),t.push.apply(t,(0,c.default)(this.getFrequentContactsData(e)))),this.props.contacts.forEach((function(e){e.isGroup?n.push(e):a.push(e)}));var i=this.getDataFromContacts(a),r=this.getDataFromContacts(n);if(this.props.showPersonGroupDivisionHeader&&i.length>0){var o=l10n.t(1217);t.push({itemKey:"header-".concat(o),data:o,separator:!0,type:1})}if(t.push.apply(t,(0,c.default)(i)),this.props.showPersonGroupDivisionHeader&&r.length>0){var l=l10n.t(1308);t.push({itemKey:"header-".concat(l),data:l,separator:!0,type:1})}return t.push.apply(t,(0,c.default)(r)),t}},{key:"getDataFromContacts",value:function(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",a=[],n=e.length>10,i="XXX",c=0;c<e.length;c++){var r=e[c];if(n&&r.header){var o=r.header;if(o!==i){var l=c<e.length-1&&o!==e[c+1].header;a.push({itemKey:"header-".concat(t,"-").concat(o),data:o,separator:l,type:1}),i=o}}var d=this.getContactDataItem(r);d&&a.push(d)}return a}},{key:"render",value:function(){this.selection.init(this.getSelectionList());var e={down:this.onNextContact,up:this.onPrevContact};return u.createElement(v.default,{onRef:this.setRefHotKeys,handlers:e,onFocus:this.onFocusGain,"data-tab":g.TAB_ORDERS.CHAT_CONTACT_LIST},u.createElement(j.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical"}))}}]),t}(u.PureComponent);t.default=S},cjhacaccbi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=i(a("dhigahgdjb")),g=i(a("ddbdcagdbi")),m=i(a("fifhbjiec")),b=i(a("bcbahjefec")),j=a("cgjcdbggeb"),v=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!p.default.isFilteredContact(e)&&(!t.participants.get(e.id)||l10n.t(1493))},a.confirmAddParticipant=function(e){var t=a.onAddParticipant.bind((0,d.default)(a),e),n=l10n.t(330,{participant:e.formattedName,subject:a.props.chat.contact.name});a.push(u.createElement(h.default,{onOK:t,okText:l10n.t(1491),onCancel:a._pop,cancelText:l10n.t(1206)},u.createElement(m.default,{text:n})))},a.onAddParticipant=function(e){(0,j.addParticipants)(a.props.chat,[e]).catch((function(){})),f.default.closeModal()},a._pop=function(){a.pop()},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(u.createElement(g.default,{title:l10n.t(1491),filter:this.contactFilter,onCancel:this._pop,onSelect:this.confirmAddParticipant}))}}]),t}(b.default);t.default=v},cjhadciedg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfadcbbiie")),f=i(a("baagejbchg")),h=a("ceiehehagg"),p=i(a("cgaagghihe")),g=i(a("ihfccfgdf")),m=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._handleSelect=function(e){var t=a.props,n=t.chat,i=t.settingType;e!==a._getInitialValue()&&(0,h.setGroupProperty)(n,i,e).catch((function(e){return function(){}}))},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"_getOptions",value:function(){switch(this.props.settingType){case f.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:case f.default.GROUP_SETTING_TYPE.RESTRICT:return[{label:l10n.t(567),value:0},{label:l10n.t(574),value:1}];case f.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return[{label:l10n.t(571),value:0},{label:l10n.t(573),value:1}];case f.default.GROUP_SETTING_TYPE.EPHEMERAL:return Object.keys(f.default.EPHEMERAL_SETTINGS).map((function(e){var t=f.default.EPHEMERAL_SETTINGS[e];return{label:u.default.ephemeralDurationStr(t),value:t}}));default:return[]}}},{key:"_getInitialValue",value:function(){var e=this.props,t=e.settingType,a=e.groupMetadata,n=a.restrict,i=a.announce,c=a.noFrequentlyForwarded,r=a.ephemeralDuration;switch(t){case f.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return i?1:0;case f.default.GROUP_SETTING_TYPE.RESTRICT:return n?1:0;case f.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return c?1:0;case f.default.GROUP_SETTING_TYPE.EPHEMERAL:return r||0;default:return 0}}},{key:"_getPopupTitle",value:function(){switch(this.props.settingType){case f.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return l10n.t(575);case f.default.GROUP_SETTING_TYPE.RESTRICT:return l10n.t(569);case f.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return l10n.t(572);case f.default.GROUP_SETTING_TYPE.EPHEMERAL:return l10n.t(570);default:return""}}},{key:"render",value:function(){return s.createElement(p.default,{options:this._getOptions(),initialValue:this._getInitialValue(),title:this._getPopupTitle(),onSelect:this._handleSelect})}}]),t}(s.PureComponent);m.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded","ephemeralDuration"]};var b=(0,g.default)(m,m.CONCERNS);t.default=b},cjjjgbhjif:function(e,t){e.exports={icon:"_1jJLh",transparent:"_3Wg5_"}},daadijaaah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("dbdfbgehgj")),h=i(a("bbchdeehff")),p=i(a("bjigbaghc")),g=i(a("ddbdcagdbi")),m=i(a("bhhdeihhhf")),b=i(a("bjbdcigbdi")),j=i(a("eceadcicaf")),v=i(a("caffijjhc")),E=i(a("dbjbhajgfd")),C=i(a("jccfhaecf")),S=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={contextMenu:null},a.openChat=function(e){f.default.find(e).then((function(e){h.default.closeModal(),h.default.openChatFromUnread(e)}))},a.contextMenu=function(e){return!C.default.equals(p.default.me,e)},a.onParticipantMenu=function(e,t){var n=a.props.chat.groupMetadata.participants,i=n.assertGet(t.id),c=[];if(n.canPromote(i)){var r=a.props.onParticipantPromote.bind(null,i,!1);c.push(u.createElement(m.default,{a8n:"mi-grp-promote-admin",key:"promote",action:r},l10n.t(726)))}if(n.canRemove(i)){var o=a.props.onParticipantRemove.bind(null,i,!1);c.push(u.createElement(m.default,{a8n:"mi-grp-remove-participant",key:"remove",action:o},l10n.t(731)))}if(b.default.supportsFeature(b.default.F.GROUPS_V_3)&&n.canDemote(i)){var l=a.props.onDemoteAdmin.bind((0,d.default)(a),i);c.push(u.createElement(m.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:l},l10n.t(399)))}C.default.equals(p.default.me,i.id)||c.push(u.createElement(m.default,{key:"message author",action:a.openChat.bind(null,i.contact.id)},l10n.t(740,{author:i.contact.formattedName}))),e.anchor||e.event||e.persist(),a.setState({contextMenu:{contactId:t.id,menu:c,anchor:e.anchor,event:e.anchor?void 0:e}})},a.contextClose=function(){a.setState({contextMenu:null})},a.contextEnabled=function(){return!1},a.cancel=function(){h.default.closeModal()},a.isAdmin=function(e){return a.props.chat.groupMetadata.participants.assertGet(e).isAdmin},a.contactFilter=function(e){return!!a.props.chat.groupMetadata.participants.get(e.id)},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata.participants;this.props.listeners.add(t,"add remove reset",(function(){e.forceUpdate()}))}},{key:"render",value:function(){var e;return this.state.contextMenu&&(e=u.createElement(v.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},u.createElement(E.default,{contextMenu:this.state.contextMenu}))),u.createElement(u.Fragment,null,u.createElement(g.default,{title:l10n.t(1024),filter:this.contactFilter,onCancel:this.cancel,openContextOnClick:!0,contextEnabled:this.contextEnabled,contextMenu:this.contextMenu,onContext:this.onParticipantMenu,showNotifyName:!0,listenForAdminChange:!0,participantCollection:this.props.chat.groupMetadata.participants}),e)}}]),t}(u.Component),_=(0,j.default)(S);t.default=_},dabdhgiijc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),s=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=i(a("effbcehec")),p=i(a("cjhacaccbi")),g=i(a("cgfeeffgi")),m=i(a("dhbceejbjg")),b=i(a("dbdfbgehgj")),j=i(a("cfadcbbiie")),v=i(a("bbchdeehff")),E=i(a("baagejbchg")),C=i(a("biddiiafgd")),S=i(a("bjigbaghc")),_=i(a("djcchigfih")),y=i(a("gejdcbjjd")),M=i(a("djbhiedbef")),P=i(a("cabhjigfgc")),k=n(a("dajffajabh")),N=i(a("fijafegab")),T=i(a("bhhdeihhhf")),R=i(a("fifhbjiec")),A=n(a("cajijabhgb")),I=n(a("bbhhbdicgc")),D=i(a("bggeiidigb")),L=i(a("dgjddffcfg")),O=i(a("bjbdcigbdi")),x=i(a("dhdhbgbhed")),F=i(a("daadijaaah")),w=i(a("jheedhagg")),G=a("gaifbabbj"),B=i(a("cigbgdjabj")),U=n(a("dbcedfihd")),V=i(a("eceadcicaf")),W=i(a("ebdahjichh")),q=i(a("bdiiahhjbe")),H=i(a("bfajcggcdf")),Y=a("cgjcdbggeb"),K=i(a("bfffgbbdch")),z=i(a("fbcdaahdd")),X=i(a("gdfgjiffc")),Q=i(a("cdcaigjjii")),J=a("bbbdgehigj"),Z=i(a("bjbedjfe")),$=i(a("dadhidfcfe")),ee=i(a("fdcfhecbj")),te=a("dcbafbaejf"),ae=i(a("bfgbdiffgd")),ne=a("hjbhabfd"),ie=a("biiiigbhdf"),ce=i(a("ihfccfgdf")),re=a("bheafeifce"),oe=i(a("bfdcadbbif")),le=i(a("eedjbihej")),de=n(a("hfhhcchgj")),se=n(a("bfjajhbdf")),ue=i(a("caffijjhc")),fe=i(a("dbjbhajgfd")),he=i(a("jccfhaecf")),pe=(0,se.genId)("max_participant_toast"),ge=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).participantFlatListController=new D.default,a.pendingParticipantFlatListController=new D.default,a.updateGroupDescOnModelChange=function(){a.props.groupMetadata&&a.setState({groupDesc:a.props.groupMetadata.desc})},a.onImageSet=function(e,t){var n=a.props.profilePicThumb;a.setState({pendingPhoto:!0}),(e&&t?(0,J.setProfilePic)(n,e,t):(0,J.deleteProfilePic)(n)).checkpoint(a.props.rejectOnUnmount()).catch(A.Unmount,(function(){})).catch(A.ActionError,(function(e){q.default.warn("GroupInfoDrawer: failed to set/delete group image")(e),a.setState({resetPhotoPicker:!a.state.resetPhotoPicker})})).finally((function(){a.setState({pendingPhoto:!1})}))},a.onParticipantClick=function(e,t){he.default.equals(S.default.me,t.id)||b.default.find(t.id).then((function(e){v.default.openChatFromUnread(e).then((function(t){t&&v.default.focusChatTextInput(e)}))}))},a.menuEnabled=function(e){var t=a.props.groupMetadata.participants,n=t.get(e.id);return!!n&&(t.canPromote(n)||t.canRemove(n)||t.canVerifyIdentity(n))},a.onDemoteAdmin=function(e){e.contact.pendingAction++,(0,Y.demoteParticipants)(a.props.chat,[e]).then((function(){e.contact.pendingAction--})),a.setState({contextMenu:null})},a.onParticipantMenu=function(e,t){var n=a.props.groupMetadata.participants,i=n.assertGet(t.id);if(a.menuEnabled(t)){var c=[];if(n.canPromote(i)){var r=a.confirmParticipantPromote.bind((0,s.default)(a),i);c.push(f.createElement(T.default,{a8n:"mi-grp-promote-admin",key:"promote",action:r},l10n.t(726)))}if(n.canRemove(i)){var o=a.confirmParticipantRemove.bind((0,s.default)(a),i);c.push(f.createElement(T.default,{a8n:"mi-grp-remove-participant",key:"remove",action:o},l10n.t(731)))}if(O.default.supportsFeature(O.default.F.GROUPS_V_3)&&n.canDemote(i)){var l=a.onDemoteAdmin.bind((0,s.default)(a),i);c.push(f.createElement(T.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:l},l10n.t(399)))}e.event&&e.event.persist(),a.setState({contextMenu:{contactId:t.id,menu:c,anchor:e.anchor,event:e.event}})}},a.contextClose=function(){a.setState({contextMenu:null})},a.confirmParticipantRemove=function(e){var t=a.onParticipantRemove.bind((0,s.default)(a),e,!0),n=l10n.t(343,{participant:e.contact.formattedName,subject:a.props.contact.name});v.default.openModal(f.createElement(C.default,{onOK:t,okText:l10n.t(958),onCancel:function(){return v.default.closeModal()},cancelText:l10n.t(1206)},f.createElement(R.default,{text:n})))},a.onParticipantRemove=function(e,t){e.contact.pendingAction++,(0,Y.removeParticipants)(a.props.chat,[e]).then((function(){e.contact.pendingAction--})),t&&v.default.closeModal()},a.confirmParticipantPromote=function(e){var t=a.onParticipantPromote.bind((0,s.default)(a),e,!0),n=l10n.t(342,{participant:e.contact.formattedName,subject:a.props.contact.name});v.default.openModal(f.createElement(C.default,{onOK:t,okText:l10n.t(726),onCancel:function(){return v.default.closeModal()},cancelText:l10n.t(1206)},f.createElement(R.default,{text:n})))},a.onParticipantPromote=function(e,t){e.contact.pendingAction++,(0,Y.promoteParticipants)(a.props.chat,[e]).then((function(){e.contact.pendingAction--})),t&&v.default.closeModal()},a.openAddGroupParticipantFlow=function(){var e=a.props.chat;if(a.props.groupMetadata.participants.length>=ae.default.maxParticipants){var t=l10n.t(54,{max:ae.default.maxParticipants});v.default.openToast(f.createElement(se.default,{msg:t,id:pe}))}else{var n=O.default.supportsFeature(O.default.F.GROUPS_V_3)?f.createElement(g.default,{chat:(0,re.unproxy)(e),pushTransition:"none",popTransition:"none"}):f.createElement(p.default,{chat:(0,re.unproxy)(e),pushTransition:"none",popTransition:"none"});v.default.openModal(n,{transition:"modal-flow"})}},a.openParticpantSearch=function(){v.default.openModal(f.createElement(F.default,{chat:(0,re.unproxy)(a.props.chat),onParticipantPromote:a.onParticipantPromote,onParticipantRemove:a.onParticipantRemove,onDemoteAdmin:a.onDemoteAdmin}),{transition:"modal-flow"})},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onExitOrDeleteGroup=function(){v.default.deleteOrExitChat(a.props.chat)},a.onSubjectChange=function(e){a.setState({name:e})},a.onGroupDescChange=function(e){a.setState({groupDesc:e})},a.validateSubject=function(e){return!(!e||!e.trim())},a.onSetSubjectError=function(){v.default.openModal(f.createElement(C.default,{onOK:function(){return v.default.closeModal()},okText:l10n.t(1340)},l10n.t(82)))},a.onSetSubject=function(){var e=a.props.chat;if(a.props.groupMetadata.canSetSubject()){var t=L.default.emojify(a.state.name||"");if(t===a.props.contact.name)return a.setState({name:t});a.setState({pendingSubject:!0}),(0,ie.setGroupSubject)(e,t).then((function(){a.setState({name:a.props.contact.name,pendingSubject:!1})})).catch(A.Unmount,(function(){})).catch((function(e){q.default.error("group_info_drawer:onSetSubject failed")(e),a.setState({name:a.props.contact.name,pendingSubject:!1})}))}},a.onSetDescription=function(){var e=a.props,t=e.chat,n=e.groupMetadata;if(n.canSetDescription()){var i=a.state.groupDesc||"",c=i.match(/\r\n/gm)?"\r\n":"\n",r=new RegExp("^(".concat(c,"{2,})([^\n])"),"gm");i=i.replace(r,"".concat(c,"$2"));var o=L.default.emojify(i||"");if(o===n.desc)return a.setState({groupDesc:o});a.setState({pendingDesc:!0}),(0,ne.setGroupDesc)(t,o).then((function(){a.setState({groupDesc:n.desc,pendingDesc:!1})})).catch(A.Unmount,(function(){})).catch((function(e){q.default.error("group_info_drawer:onSetDescription failed")(e),a.setState({groupDesc:a.props.groupMetadata.desc,pendingDesc:!1})}))}},a.onCancelSubject=function(){a.setState({name:a.props.contact.name})},a.onCancelDesc=function(){a.setState({groupDesc:a.props.groupMetadata.desc})},a.onShowMore=function(){a.setState({participantListCollapsed:!1})},a.onShowMorePendingParticipants=function(){a.setState({pendingParticipantListCollapsed:!1})},a.renderItem=function(e){var t=e.id,n=a.props.groupMetadata.participants.get(t);if(!n)throw new I.UnknownDataError(e);var i=n.contact,c=!!a.state.contextMenu&&he.default.equals(i.id,a.state.contextMenu.contactId);return f.createElement(z.default,{contact:i,participant:n,key:n.id.toString(),onClick:a.onParticipantClick,contextEnabled:a.menuEnabled.bind((0,s.default)(a),i),contextMenu:c,onContext:function(e){return a.onParticipantMenu(e,i)},showNotifyName:!0,waitIdle:!0})},a.onReportSpam=function(){v.default.openModal(f.createElement($.default,{isGroupChat:!0,onReport:a.reportSpam,onReportExitClear:a.reportSpamExitClear,onCancel:function(){return v.default.closeModal()}}))},a.reportSpam=function(){(0,te.sendSpamReport)(a.props.chat),v.default.closeModal()},a.reportSpamExitClear=function(){(0,te.sendSpamExitClear)(a.props.chat),v.default.closeModal()},a.onDescriptionReadMore=function(){a.setState({descTruncated:!1})},a.showEditRestrictionInfo=function(){v.default.openModal(f.createElement(C.default,{onOK:function(){return v.default.closeModal()},okText:l10n.t(1340)},l10n.t(898)))},a.revokeGrpV4Invite=function(e){v.default.openModal(f.createElement(C.default,{onOK:function(){v.default.closeModal(),a.props.groupMetadata.revokeGroupV4AddInvite([e.id.toString()]).then((function(){v.default.openToast(f.createElement(se.default,{msg:l10n.t(1307),id:(0,se.genId)()}))}))},okText:l10n.t(1401),onCancel:function(){return v.default.closeModal()},cancelText:l10n.t(1206)},f.createElement(R.default,{text:l10n.t(589,{participant:e.contact.formattedName})})))},a.renderPendingParticipantItem=function(e){var t=e.id,n=a.props.groupMetadata.pendingParticipants.get(t);if(!n)throw new I.UnknownDataError(e);var i=n.contact;return f.createElement(z.default,{contact:i,participant:n,key:n.id.toString(),contextEnabled:function(){return!0},contextMenu:!0,onContext:function(e){return a.onPendingParticipantMenu(e,i)},showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0})},a.onPendingParticipantMenu=function(e,t){var n=a.props.groupMetadata.pendingParticipants.assertGet(t.id),i=[f.createElement(T.default,{a8n:"mi-grp-promote-admin",key:"promote",action:a.revokeGrpV4Invite.bind((0,s.default)(a),n)},l10n.t(1005))];e.event&&e.event.persist(),a.setState({contextMenu:{contactId:t.id,menu:i,anchor:e.anchor,event:e.event}})};var n=a.props,i=n.groupMetadata,c=i.desc,o=i.participants,u=i.pendingParticipants,h=n.showFullGroupDescription;return a.state={pendingSubject:!1,pendingDesc:!1,pendingPhoto:!1,contextMenu:null,name:e.contact.name,groupDesc:c,descTruncated:!h&&!!(c&&c.length>30),participantListCollapsed:o.length>E.default.INFO_DRAWER_MAX_ROWS,pendingParticipantListCollapsed:u.length>E.default.INFO_DRAWER_MAX_ROWS,resetPhotoPicker:!1},a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.groupMetadata;O.default.supportsFeature(O.default.F.GROUPS_V_4_JOIN_PERMISSION)&&t.queryGroupV4PendingInvite(),this.props.listeners.add(t.participants,"add remove reset sort change:isAdmin change:isSuperAdmin",(function(){e.forceUpdate()})),this.props.listeners.add(t.pendingParticipants,"add remove reset",(function(){e.forceUpdate()})),this.props.listeners.add(t,"change:desc",(function(){e.updateGroupDescOnModelChange()})),this.ensureParticipantsSorted()}},{key:"componentDidUpdate",value:function(){this.ensureParticipantsSorted()}},{key:"ensureParticipantsSorted",value:function(){this.props.groupMetadata.participants.ensureSorted(),this.props.groupMetadata.pendingParticipants.ensureSorted()}},{key:"getData",value:function(){var e,t=[],a=[],n=this.props.groupMetadata.participants;n.forEach((function(n){n.contact.isMe?e=n:n.isAdmin?t.push(n):a.push(n)}));var i=[];return e&&i.push(e),i=i.concat(t,a),n.length>E.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed&&(i=i.slice(0,E.default.INFO_DRAWER_MAX_ROWS)),i.map((function(e){return{itemKey:e.id.toString(),id:e.id}}))}},{key:"getPendingParticipantListData",value:function(){var e=this.props.groupMetadata.pendingParticipants.toArray(),t=(0,c.default)(e);return e.length>E.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed&&(t=t.slice(0,E.default.INFO_DRAWER_MAX_ROWS)),t.map((function(e){return{itemKey:e.id.toString(),id:e.id}}))}},{key:"getTitle",value:function(){return O.default.supportsFeature(O.default.F.LINK_DOC_GALLERY)?ae.default.productMediaAttachments?l10n.t(719):l10n.t(718):l10n.t(712)}},{key:"render",value:function(){var e,t,a,n,i,c,r,o=this.props.chat,l=this.props.groupMetadata,d=f.createElement(N.default,null,f.createElement(P.default,{a8nText:"li-delete-group",icon:f.createElement(oe.default,{name:"exit",directional:!0}),theme:"list-aligned",color:"danger",onClick:this.onExitOrDeleteGroup},o.isReadOnly?l10n.t(1240):l10n.t(1247)));if(o.isReadOnly||(e=f.createElement(N.default,null,f.createElement(P.default,{a8nText:"li-report-spam",theme:"list-aligned",color:"danger",icon:f.createElement(oe.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},l10n.t(973)))),l.participants.canAdd()){var s=f.createElement(ee.default,null,f.createElement(oe.default,{name:"add-user",directional:!0}));t=f.createElement(m.default,{image:s,theme:"drawer-list",primary:l10n.t(1491),onClick:this.openAddGroupParticipantFlow})}if(l.participants.iAmAdmin()&&this.props.onGroupInviteLink){var u=f.createElement(ee.default,null,f.createElement(oe.default,{name:"link"}));a=f.createElement(m.default,{image:u,theme:"drawer-list",primary:l10n.t(548),onClick:this.props.onGroupInviteLink})}if(l.participants.length>E.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed){var p=l.participants.length-E.default.INFO_DRAWER_MAX_ROWS,g=f.createElement(ee.default,{theme:"transparent"},f.createElement(oe.default,{name:"down"}));n=f.createElement(m.default,{image:g,theme:"drawer-list",primary:l10n.t(577,{count:p,_plural:p}),onClick:this.onShowMore})}if(l.pendingParticipants.length>E.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed){var b=l.pendingParticipants.length-E.default.INFO_DRAWER_MAX_ROWS,v=f.createElement(ee.default,{theme:"transparent"},f.createElement(oe.default,{name:"down"}));i=f.createElement(m.default,{image:v,theme:"drawer-list",primary:l10n.t(577,{count:b,_plural:b}),onClick:this.onShowMorePendingParticipants})}l.pendingParticipants.length>0&&(c=f.createElement(I.default,{flatListController:this.pendingParticipantFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getPendingParticipantListData(),renderItem:this.renderPendingParticipantItem}));var C=ae.default.restrictGroups||ae.default.announceGroups;if(l.participants.iAmAdmin()&&O.default.supportsFeature(O.default.F.GROUPS_V_3)&&C){var S=f.createElement(oe.default,{className:x.default.chevron,name:"chevron-right-alt",directional:!0});r=f.createElement(y.default,{onClick:this.props.onAdminSetting,side:S},f.createElement(le.default,{theme:"title"},l10n.t(576)))}var T,R=f.createElement(oe.default,{name:"search",className:x.default.iconSearch}),A=l.participants.length?f.createElement(N.default,{a8nText:"section-participants",title:l10n.t(1342,{count:l.participants.length,_plural:l.participants.length}),titleOnClick:O.default.supportsFeature(O.default.F.GROUPS_V_3)?this.openParticpantSearch:void 0,subtitle:O.default.supportsFeature(O.default.F.GROUPS_V_3)?R:void 0},t,a,f.createElement(I.default,{flatListController:this.participantFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),n):null;l.participants.iAmAdmin()&&l.pendingParticipants.length>0&&(T=f.createElement(N.default,{a8nText:"section-participants",title:l10n.t(581,{number:l.pendingParticipants.length})},c,i));var D=null;if(this.props.onMediaGallery){var L=this.props.onMediaGallery,F=f.createElement(oe.default,{className:x.default.chevron,name:"chevron-right-alt",directional:!0}),w=this.getTitle();D=f.createElement(N.default,{a8nText:"section-media",title:w,titleOnClick:L,subtitle:F,theme:"padding"},f.createElement(H.default,{chat:(0,re.unproxy)(o),mediaMsgs:o.getMediaMsgs()}))}var V=this.props.contact.profilePicThumb,q=Q.default.GROUP,Y=o.isReadOnly||!V.canDelete()&&!V.canSet(),z=f.createElement("div",{className:x.default.avatar},f.createElement(X.default,{key:String(this.state.resetPhotoPicker),type:q,id:this.props.contact.id,attachToChat:!0,pending:this.state.pendingPhoto,startImage:this.props.profilePicThumb.imgFull,readOnly:Y,onImageSet:this.onImageSet})),J=null;this.props.groupMetadata.creation&&(J=f.createElement("div",{"data-a8n":h.default.key("group-created-time"),className:x.default.nameSecondary},f.createElement(le.default,{theme:"muted"},l10n.t(1261,{when:j.default.relativeDateAndTimeStr(this.props.groupMetadata.creation)}))));var Z=null;O.default.supportsFeature(O.default.F.LIVE_LOCATIONS)&&(Z=f.createElement(W.default,{chat:o,onClick:this.props.onLiveLocation}));var $,te=o.mute.canMute()?f.createElement(K.default,{chat:o,mute:o.mute}):null,ne=null;if(this.props.onStarred){var ie=f.createElement(oe.default,{className:x.default.chevron,name:"chevron-right-alt",directional:!0});ne=f.createElement(y.default,{side:ie,onClick:this.props.onStarred},f.createElement(le.default,{theme:"title"},l10n.t(307)))}this.state.contextMenu&&($=f.createElement(ue.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},f.createElement(fe.default,{contextMenu:this.state.contextMenu})));var ce,se=null;if((te||ne)&&(se=f.createElement(N.default,null,te,ne,null,r)),O.default.supportsFeature(O.default.F.GROUPS_V_3)&&ae.default.groupDescLength>0){var he=this.state.groupDesc||"",pe={textLimit:this.state.descTruncated?E.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:1/0,readMoreText:l10n.t(956),onReadMore:this.onDescriptionReadMore,formatters:this.props.chat.isTrusted()?G.Configuration.TrustedGroupDesc({links:U.findLinks(he)}):G.Configuration.UntrustedGroupDesc()};ce=f.createElement(N.default,{theme:"group-desc-padding",title:l10n.t(534)},f.createElement("div",{className:x.default.description},f.createElement(de.default,{value:he,emptyValuePlaceholder:l10n.t(171),renderEmojiTextInLockMode:pe,editable:l.canSetDescription(),pending:this.state.pendingDesc,showRemaining:!0,maxLength:ae.default.groupDescLength,onChange:this.onGroupDescChange,onSave:this.onSetDescription,onCancel:this.onCancelDesc,multiline:!0,editRestrictionInfo:l.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,customStyleThemes:[de.TextInputCustomStyleThemes.groupInfoName],theme:"small"})))}return f.createElement(_.default,{key:"contact-info-modal"},f.createElement(k.default,{title:l10n.t(1270),type:k.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),f.createElement(M.default,{flatListControllers:[this.pendingParticipantFlatListController,this.participantFlatListController]},f.createElement("div",{className:x.default.body},f.createElement(N.default,{theme:"padding-large"},z,f.createElement(de.default,{value:this.state.name||"",editable:l.canSetSubject(),pending:this.state.pendingSubject,showRemaining:!0,validate:this.validateSubject,maxLength:ae.default.maxSubject,onChange:this.onSubjectChange,onSave:this.onSetSubject,onError:this.onSetSubjectError,onCancel:this.onCancelSubject,editRestrictionInfo:l.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,theme:"large",customStyleThemes:[de.TextInputCustomStyleThemes.groupInfoName]}),J,f.createElement(B.default,{labels:o.labels})),ce,Z,D,se,null,A,T,d,e)),$)}}]),t}(f.Component);ge.CONCERNS={chat:["isReadOnly","mute","id","pendingAction","liveLocation","labels"],groupMetadata:["desc","participants","pendingParticipants","creation","restrict","announce"],contact:["name","id","profilePicThumb","pendingAction"],profilePicThumb:["imgFull"]};var me=(0,w.default)((0,Z.default)((0,V.default)((0,ce.default)(ge,ge.CONCERNS))));t.default=me},dacddafdch:function(e,t){e.exports={header:"_3Htr3"}},daijadgha:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dhigahgdjb")),f=i(a("bcbahjefec")),h=i(a("ccjabfdeje")),p=i(a("bheehfahbe")),g=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onSetGroupInfo=function(e){a.push(s.createElement(h.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){u.default.ensureSorted(),this.push(s.createElement(p.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}]),t}(f.default);t.default=g},dcdageegba:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TABS=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("cehcfaibji")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=a("ccihhdchab"),p=i(a("bhghbagiah")),g=i(a("djcchigfih")),m=i(a("djbhiedbef")),b=n(a("dajffajabh")),j=i(a("bjbdcigbdi")),v=i(a("fffdgbfji")),E=i(a("cbdbejjhjd")),C=i(a("bfajcggcdf")),S=i(a("djbhhciahi")),_=i(a("bajcbaccgg")),y=i(a("dceicchccd")),M=i(a("jccagege")),P=i(a("bfgbdiffgd")),k=i(a("caffijjhc")),N=i(a("didfdhbecg")),T={MEDIA:"media",DOCS:"docs",LINKS:"links",PRODUCTS:"products"};t.TABS=T;var R=function(e){function t(){var e;return(0,c.default)(this,t),(e=(0,o.default)(this,(0,l.default)(t).apply(this,arguments))).state={selected:e.props.initialTab,direction:null,selectable:!1},e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,a){e.onSelectMessages(),e.selectedMessages.setVal(t,a),0===e.selectedMessages.getSelected().length&&e.onCancelSelection()},e.selectedMessages=new y.default([],(function(e){return e.id.toString()})),e}return(0,d.default)(t,e),(0,r.default)(t,[{key:"onSelectTab",value:function(e){var t=(0,s.default)(T).indexOf(this.state.selected),a=(0,s.default)(T).indexOf(e);t!==a&&this.selectedMessages.unsetAll();var n=a>t?"right":"left";this.setState({selected:e,direction:n,selectable:!1})}},{key:"getTabs",value:function(){var e=this;if(!j.default.supportsFeature(j.default.F.LINK_DOC_GALLERY))return null;var t=[{tab:T.MEDIA,title:v.default.t(712)},{tab:T.DOCS,title:v.default.t(400)},{tab:T.LINKS,title:v.default.t(655)}];P.default.productMediaAttachments&&t.push({tab:T.PRODUCTS,title:v.default.t(948)});var a=t.map((function(t){var a=(0,u.default)(S.default.menuItem,{[S.default.active]:e.state.selected===t.tab});return f.createElement("button",{className:a,onClick:e.onSelectTab.bind(e,t.tab),key:t.tab,title:t.title},t.title)})),n=(0,u.default)(S.default.menuTabsLists,P.default.productMediaAttachments?S.default.fourTabs:S.default.threeTabs);return f.createElement("div",{className:n,"data-active-tab":this.state.selected},a)}},{key:"getContent",value:function(){var e,t=this.props.chat;if(!j.default.supportsFeature(j.default.F.LINK_DOC_GALLERY))return f.createElement(C.default,{chat:t,mediaMsgs:t.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});switch(this.state.selected){case T.MEDIA:e=f.createElement(C.default,{chat:t,mediaMsgs:t.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});break;case T.LINKS:e=f.createElement(E.default,{chat:t,linkMsgs:t.getLinkMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case T.DOCS:e=f.createElement(p.default,{chat:t,docMsgs:t.getDocMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case T.PRODUCTS:e=f.createElement(M.default,{chat:t,productMsgs:t.getProductMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,onProductDetail:this.props.onProductDetail,setScrollOffset:this.props.setProductsScrollOffset,scrollOffset:this.props.productsScrollOffset})}return e}},{key:"render",value:function(){var e=this.props.chat,t=this.getTabs(),a=this.getContent(),n=[T.MEDIA,T.DOCS].includes(this.state.selected),i=this.state.selectable?f.createElement(k.default,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},f.createElement(_.default,{chat:e,noSortOnForward:!0,theme:"mediaGallery",toastPosition:h.ToastPosition.RIGHT,downloadButton:n,selectedMessages:this.selectedMessages,onCancel:this.onCancelSelection})):null,c="right"===this.state.direction?"slide-forward":"slide-back",r=j.default.supportsFeature(j.default.F.LINK_DOC_GALLERY)?" ":v.default.t(712);return f.createElement(g.default,{theme:"gallery"},f.createElement(b.default,{title:r,onBack:this.props.onBack,type:b.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),i,t,f.createElement(m.default,{"data-list-scroll-container":!0},f.createElement(N.default,{transitionName:c,className:S.default.column},f.createElement("div",{className:S.default.multimediaGallery,key:this.state.selected},f.createElement("div",{className:S.default.column},a)))))}}]),t}(f.Component);t.default=R,R.defaultProps={initialTab:T.MEDIA,productsScrollOffset:0}},deaaffdfff:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cehjjfagii")),h=i(a("baagejbchg")),p=i(a("fifhbjiec")),g=i(a("dheeebbech")),m=a("gaifbabbj"),b=i(a("fffdgbfji")),j=i(a("bjjbghfcbd")),v=i(a("cfhehaefih")),E=i(a("eceadcicaf")),C=i(a("dbfbdfhfee")),S=i(a("ihfccfgdf")),_=i(a("dgdadejebh")),y=i(a("didfdhbecg")),M=a("caceaafdic"),P=function(e){function t(e){var a;(0,c.default)(this,t),(a=(0,o.default)(this,(0,l.default)(t).call(this,e))).mouseOver=function(){a.state.hover||a.setState({hover:!0})},a.mouseEnter=function(){a.state.hover||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a.onSelectChange=function(e){a.state.selected!==e&&a.setState({selected:e})},a.onSelectClick=function(e){e&&e.stopPropagation(),a.props.onMessageSelect(a.props.msg,!a.state.selected)},a.onClick=function(){a.props.onClickMsg(a.props.msg,!a.state.selected)};var n=e.msg,i=e.selectedMessages;return a.state={hover:!1,selected:i.isSelected(n)},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.link,n=e.displayAuthor,i=this.props.selectable||this.state.hover?u.createElement(C.default,{checked:this.state.selected,onClick:this.onSelectClick,msgTheme:"gallery"}):null,c=(t.isTrusted()?m.Configuration.TrustedConversation:m.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),r=t.body&&t.body.includes(a.url)?t.body:t.caption,o=n?u.createElement("div",{className:j.default.author},u.createElement(f.default,{msg:t,contact:t.senderObj})):null,l=t.getSuspiciousLinks().length>0;return u.createElement(g.default,{hover:this.state.hover,onClick:this.onClick,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},u.createElement("div",{className:j.default.msg},u.createElement(y.default,{transitionName:"delay-leave"},i),u.createElement(M.MessageContainer,{isSentByMe:t.isSentByMe},u.createElement("div",{className:(0,s.default)(j.default.bubble,{[j.default.hasAuthor]:n,[j.default.hasSuspiciousLinks]:l})},o,u.createElement(_.default,{link:a,displayType:h.default.DISP_TYPE.GALLERY}),u.createElement(v.default,{title:a.url,isSentByMe:t.isSentByMe,canonicalUrl:a.domain,displayType:h.default.DISP_TYPE.GALLERY,star:t.star}),u.createElement(p.default,{text:r,selectable:!0,className:j.default.text,dirMismatch:t.rtl!==b.default.isRTL(),direction:t.dir,formatters:c})))))}}]),t}(u.Component);P.CONCERNS={msg:["body","caption","dir","id","isSentByMe","mediaData","type","rtl","senderObj","star","mediaData","isRevoked"]};var k=(0,E.default)((0,S.default)(P,P.CONCERNS));t.default=k},dgjggjiggi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfaacaccfj")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=i(a("biddiiafgd")),g=i(a("fifhbjiec")),m=a("bidfjbaebi"),b=a("facgccaif"),j=i(a("bjbdcigbdi")),v=i(a("fffdgbfji")),E=i(a("ihfccfgdf")),C=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onConfirm=function(){f.default.closeModal()},a.onLearnMore=function(e){e.preventDefault(),f.default.closeModal("none"),setTimeout((function(){return(0,m.openExternalLink)((0,b.getBusinessFaqUrl)())}),10)},a.getMessage=function(){var e=a.props.contact;switch(e.verifiedLevel){case h.default.VERIFIED_LEVEL.HIGH:return v.default.t(1415);case h.default.VERIFIED_LEVEL.LOW:return v.default.t(1417);case h.default.VERIFIED_LEVEL.UNKNOWN:return v.default.t(1419,{businessName:e.formattedName})}},a.getMessageV2=function(){var e=a.props.contact;switch(e.verifiedLevel){case h.default.VERIFIED_LEVEL.HIGH:return e.name===e.verifiedName?v.default.t(1199,{businessName:e.verifiedName}):v.default.t(1200,{businessName:e.verifiedName});case h.default.VERIFIED_LEVEL.LOW:case h.default.VERIFIED_LEVEL.UNKNOWN:return v.default.t(1201)}},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e;e=j.default.supportsFeature(j.default.F.VNAME_V_2)?this.getMessageV2():this.getMessage();var t=s.createElement(u.default,{onClick:this.onLearnMore},v.default.t(651));return s.createElement(p.default,{onOK:this.onConfirm,okText:v.default.t(897)},s.createElement(g.default,{text:e})," ",t)}}]),t}(s.PureComponent);C.CONCERNS={contact:["name","verifiedLevel","verifiedName","formattedName"]};var S=(0,E.default)(C,C.CONCERNS);t.default=S},dhdhbgbhed:function(e,t){e.exports={body:"AfVTG",avatar:"_1RIe1",description:"pqx2N",nameSecondary:"_3GoJv",chevron:"_3iGdK",iconSearch:"_3zJPS"}},djbhhciahi:function(e,t){e.exports={multimediaGallery:"rcDLF",column:"_3eST_",menuItem:"_2Mvo8",active:"fyJXn",menuTabsLists:"_3b2Cf",threeTabs:"_11j3g",fourTabs:"py9Ls"}},djibddbgic:function(e,t){e.exports={mediaPanelTools:"_27nZR",profileThumb:"_2Q-Cb",profileContainer:"ao2gD",media:"_2L039",profileViewer:"P9iLC",profileViewerImg:"_1zH0g",container:"_1zcz2","media-viewer-animate":"_2rZ-T",mediaViewerAnimate:"_2rZ-T",headerContainer:"_2YdsD"}},ebdahjichh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("fijafegab")),f=i(a("eceadcicaf")),h=i(a("cdcijfdgje")),p=a("cicjibbhdb"),g=i(a("bhifaggjcb")),m=i(a("ihfccfgdf")),b=a("bheafeifce"),j=i(a("bfdcadbbif")),v=i(a("eedjbihej")),E=function(e){function t(e){var a;return(0,c.default)(this,t),(a=(0,o.default)(this,(0,l.default)(t).call(this,e))).updateParticipants=function(){a.setState({participants:a.getParticipants(a.props.chat)})},a.state={participants:a.getParticipants(e.chat)},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.liveLocationQueried||h.default.getActive(t.id.toString()).then((function(){t.liveLocationQueried=!0})).catch((function(){})),this.props.listeners.add((0,b.unproxy)(t),"change:liveLocation",(function(){var a=t.liveLocation;a&&(e.removeParticipantListener(a),e.addParticipantListener(a),e.updateParticipants())}));var a=t.liveLocation;a&&this.addParticipantListener(a)}},{key:"addParticipantListener",value:function(e){this.props.listeners.add(e.participants,"add remove",this.updateParticipants)}},{key:"removeParticipantListener",value:function(e){this.props.listeners.remove(e.participants,"add remove",this.updateParticipants)}},{key:"getParticipants",value:function(e){var t=e.liveLocation;return t?t.participants.toArray():[]}},{key:"getText",value:function(){var e,t,a=this.props.chat,n=this.state.participants,i=0;if(n.forEach((function(a){a.isMe?e=!0:(t||(t=a.contact),i++)})),a.isGroup)return e?1===n.length?l10n.t(681):l10n.t(680,{count:i,_plural:i}):l10n.t(677,{count:i,_plural:i});if(e){if(1===n.length)return l10n.t(681);if(t)return l10n.t(679,{name:t.formattedShortNameWithNonBreakingSpaces})}else if(t)return l10n.t(676,{name:t.formattedShortNameWithNonBreakingSpaces});return""}},{key:"render",value:function(){var e=this.props.onClick;if(!this.state.participants.length)return null;var t=s.createElement(j.default,{name:(0,p.liveLocationIcon)(!0)});return s.createElement(u.default,{a8nText:"section-live-location",theme:"padding",title:l10n.t(684),titleOnClick:e},s.createElement(g.default,{side:t,onClick:e},s.createElement(v.default,{theme:"title"},this.getText())))}}]),t}(s.Component);E.CONCERNS={chat:["id","isGroup","liveLocation","liveLocationQueried"]};var C=(0,f.default)((0,m.default)(E,E.CONCERNS));t.default=C},ebfgabegga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dhbceejbjg")),h=i(a("bbchdeehff")),p=i(a("dhhfaeacef")),g=i(a("fifhbjiec")),m=i(a("cajbifjffe")),b=i(a("fffdgbfji")),j=a("bhfdfhefca"),v=n(a("dgfecega")),E=i(a("djibddbgic")),C=i(a("ihfccfgdf")),S=i(a("bfdcadbbif")),_=i(a("caffijjhc")),y=i(a("bcifhbgija")),M=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={style:{visibility:"hidden"}},a.onScroll=function(e){Math.abs(e.deltaY)>3&&a.onClose()},a.onClose=function(){if(!a.closing){var e;if(a.closing=!0,a.props.getZoomNode((function(t){e=t})),!e)return h.default.closeModalMedia();var t=a.refImage;if(t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),c=i.top-n.top,r=i.left-n.left,o=e.clientWidth/t.clientWidth;(0,y.default)(t,{translateX:[r,0],translateY:[c,0],scale:[o,1]},{duration:200,easing:[.1,.82,.25,1]}).then((function(){h.default.closeModalMedia()}))}}},a.onImageLoad=function(e){var t=e.target;a.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},(function(){a.props.getZoomNode((function(e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),c=i.top-n.top,r=i.left-n.left,o=e.clientWidth/t.clientWidth,l={visibility:"hidden",transform:"translateX(".concat(r,"px) translateY(").concat(c,"px) scale(").concat(o,")"),transition:"transform 0s",borderRadius:void 0};a.props.animateBorderRadius&&(l.borderRadius="50%"),a.setState({style:l},(function(){var e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform ".concat(500,"ms cubic-bezier(.1,.82,.25,1)")};a.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform ".concat(500,"ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius ").concat(500,"ms cubic-bezier(.1,.82,.25,1)")}),a.setState({style:e})}))}))}))},a.setRefImage=function(e){a.refImage=e},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.profilePicThumb.imgFull||(this.onClose(),!1)}},{key:"render",value:function(){var e,t=this.props,a=t.contact,n=t.profilePicThumb;return n.imgFull&&(e=u.createElement(m.default,{src:n.imgFull,hasPrivacyChecks:!0,onLoad:this.onImageLoad,className:E.default.profileViewerImg})),u.createElement(_.default,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.onClose},u.createElement("div",{className:(0,s.default)("overlay",E.default.container),onWheel:this.onScroll,onClick:this.onClose},u.createElement("div",{className:E.default.headerContainer},u.createElement("div",{className:E.default.profileThumb},u.createElement(f.default,{image:u.createElement(p.default,{id:a.id,size:40}),theme:"plain",primary:u.createElement(g.default,{text:a.formattedUser})})),u.createElement("div",{className:E.default.mediaPanelTools},u.createElement(j.MenuBar,{key:"media-panel-header",theme:"strong"},u.createElement(j.MenuBarItem,{a8nText:"btn-close",icon:u.createElement(S.default,{name:"x-viewer"}),title:b.default.t(1211),onClick:this.onClose})))),u.createElement("div",{className:E.default.profileContainer,dir:"ltr"},u.createElement("div",{className:E.default.media},u.createElement(v.default,{type:v.FIT_TYPE.SCALE_DOWN,size:this.state.size},u.createElement("div",{className:E.default.profileViewer,"data-animate-profile-viewer":!0,ref:this.setRefImage,style:this.state.style},e))))))}}]),t}(u.Component);M.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]};var P=(0,C.default)(M,M.CONCERNS);t.default=P},eceebdidcc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("beajagdaig")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=i(a("bjigbaghc")),g=i(a("djcchigfih")),m=i(a("gejdcbjjd")),b=i(a("djbhiedbef")),j=n(a("dajffajabh")),v=i(a("fijafegab")),E=i(a("beedjhefad")),C=i(a("bjbdcigbdi")),S=i(a("dacddafdch")),_=i(a("cjhadciedg")),y=i(a("jheedhagg")),M=i(a("fffdgbfji")),P=i(a("eceadcicaf")),k=a("cgjcdbggeb"),N=n(a("cjcffhicea")),T=i(a("bfgbdiffgd")),R=i(a("ihfccfgdf")),A=i(a("eedjbihej")),I=i(a("jccfhaecf")),D=function(e){var t=e.isRestricted,a=e.onClick;return u.createElement(m.default,{onClick:a,multiline:!0},u.createElement("div",{className:S.default.header},u.createElement(A.default,{theme:"title"},M.default.t(569))),u.createElement(A.default,{theme:"muted",block:!0},t?M.default.t(574):M.default.t(567)))},L=function(e){var t=e.isAnnouncement,a=e.onClick;return u.createElement(m.default,{onClick:a,multiline:!0},u.createElement("div",{className:S.default.header},u.createElement(A.default,{theme:"title"},M.default.t(575))),u.createElement(A.default,{theme:"muted",block:!0},t?M.default.t(574):M.default.t(567)))},O=function(e){var t=e.isNoFrequentlyForwarded,a=e.onClick;return u.createElement(m.default,{onClick:a,multiline:!0},u.createElement("div",{className:S.default.header},u.createElement(A.default,{theme:"title"},M.default.t(572))),u.createElement(A.default,{theme:"muted",block:!0},t?M.default.t(573):M.default.t(571)))},x=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).openSettingModal=function(e){var t=a.props,n=t.chat,i=t.groupMetadata;f.default.openModal(u.createElement(_.default,{settingType:e,chat:n,groupMetadata:i}),{transition:"modal",uim:a.props.uim})},a.openAnnouncementSettingModal=function(){a.openSettingModal(h.default.GROUP_SETTING_TYPE.ANNOUNCEMENT)},a.openRestrictedSettingModal=function(){a.openSettingModal(h.default.GROUP_SETTING_TYPE.RESTRICT)},a.openNoFrequentlyForwardedSettingModal=function(){a.openSettingModal(h.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED)},a.openEphemeralSettingModal=function(){a.openSettingModal(h.default.GROUP_SETTING_TYPE.EPHEMERAL)},a.getCurrentAdmins=function(){return a.props.groupMetadata.participants.filter((function(e){return e.isAdmin})).map((function(e){return e.contact}))},a.filterParticipants=function(e){return!!a.props.groupMetadata.participants.get(e.id)},a.isDisabled=function(e){var t=a.props.groupMetadata;return I.default.equals(e,t.owner)||p.default.me.equals(e)},a.openManageAdminModal=function(){f.default.openModal(u.createElement(N.default,{onConfirm:a.updateAdmins,getInitialItems:a.getCurrentAdmins,isDisabled:a.isDisabled,isSelected:a.isDisabled,filter:a.filterParticipants,title:M.default.t(709),useShortName:!0,useAllContacts:!0,listType:N.ListType.PARTICIPANT_MANAGE_MODAL}))},a.updateAdmins=function(e){var t=a.props,n=t.chat,i=t.groupMetadata.participants,c=i.filter((function(e){return e.isAdmin})),r=(0,s.default)(e,c,(function(e,t){return e.id.equals(t.id)})).map((function(e){return i.assertGet(e.id)})),o=(0,s.default)(c,e,(function(e,t){return e.id.equals(t.id)}));r.length>0&&(r.forEach((function(e){e.contact.pendingAction++})),(0,k.promoteParticipants)(n,r).finally((function(){r.forEach((function(e){e.contact.pendingAction--}))}))),o.length>0&&(o.forEach((function(e){e.contact.pendingAction++})),(0,k.demoteParticipants)(n,o).finally((function(){o.forEach((function(e){e.contact.pendingAction--}))}))),f.default.closeModal()},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e,t,a,n,i,c,r=this.props,o=r.groupMetadata,l=r.chat;return T.default.restrictGroups&&(t=u.createElement(D,{onClick:this.openRestrictedSettingModal,isRestricted:o.restrict})),T.default.announceGroups&&(a=u.createElement(L,{onClick:this.openAnnouncementSettingModal,isAnnouncement:o.announce})),T.default.ephemeralMessages&&C.default.supportsFeature(C.default.F.EPHEMERAL_MESSAGES)&&(n=u.createElement(E.default,{onClick:this.openEphemeralSettingModal,chat:l,groupMetadata:o})),(t||a||n)&&(e=u.createElement(v.default,null,t,a,n)),T.default.frequentlyForwardedGroupSetting&&C.default.supportsFeature(C.default.F.FREQUENTLY_FORWARDED_SETTING)&&(i=u.createElement(v.default,null,u.createElement(O,{onClick:this.openNoFrequentlyForwardedSettingModal,isNoFrequentlyForwarded:o.noFrequentlyForwarded}))),T.default.restrictGroups&&(c=u.createElement(v.default,null,u.createElement(m.default,{onClick:this.openManageAdminModal,multiline:!0},u.createElement("div",{className:S.default.header},u.createElement(A.default,{theme:"title"},M.default.t(709)))))),u.createElement(g.default,null,u.createElement(j.default,{title:M.default.t(576),type:j.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onClose}),u.createElement(b.default,null,e,i,c))}}]),t}(u.Component);x.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded","participants","owner"]};var F=(0,y.default)((0,P.default)((0,R.default)(x,x.CONCERNS)));t.default=F},ejfeeeaeg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("bgfcjjddjf")),h=i(a("bbhjjecbjb")),p=i(a("ejegihaeh")),g=i(a("djbgihfhif")),m=i(a("dbdfbgehgj")),b=i(a("bbchdeehff")),j=i(a("ceeafeafie")),v=i(a("biddiiafgd")),E=i(a("bfhjgejice")),C=i(a("dhhfaeacef")),S=i(a("djcchigfih")),_=i(a("gejdcbjjd")),y=i(a("djbhiedbef")),M=i(a("cabhjigfgc")),P=n(a("dajffajabh")),k=i(a("fijafegab")),N=i(a("fifhbjiec")),T=i(a("bbcihafjbe")),R=i(a("beedjhefad")),A=i(a("bggeiidigb")),I=i(a("bjbdcigbdi")),D=i(a("jheedhagg")),L=a("dfhgeaeig"),O=i(a("cigbgdjabj")),x=i(a("djhbegbdaf")),F=i(a("eceadcicaf")),w=i(a("ebdahjichh")),G=i(a("bfajcggcdf")),B=i(a("bfbggcdbfb")),U=i(a("bfffgbbdch")),V=i(a("bhheahajjg")),W=i(a("ebfgabegga")),q=i(a("deabffecii")),H=i(a("bjbedjfe")),Y=i(a("dadhidfcfe")),K=a("eagfdbhhhh"),z=a("dcbafbaejf"),X=i(a("bfgbdiffgd")),Q=i(a("ihfccfgdf")),J=i(a("ibeajfihb")),Z=i(a("bfdcadbbif")),$=i(a("eedjbihej")),ee=i(a("cjcaccbiih")),te=i(a("djbfhebjhe")),ae=function(e){function t(e){var a;return(0,c.default)(this,t),(a=(0,o.default)(this,(0,l.default)(t).call(this,e))).flatListController=new A.default,a.ProductCatalogSession=new q.default,a._init=function(){I.default.supportsFeature(I.default.F.QUERY_IDENTITY)&&(0,L.queryIdentity)(a.props.contact)},a.onBlocklistChange=function(){a.state.contactIsBlocked!==!!f.default.get(a.props.contact.id)&&a.setState({contactIsBlocked:!!f.default.get(a.props.contact.id)})},a.onDeleteChat=function(){var e=m.default.assertGet(a.props.contact.id);b.default.deleteOrExitChat(e)},a.onBlockContact=function(){var e=s.createElement(V.default,{contact:a.props.contact});b.default.openModal(s.createElement(v.default,{onOK:a.blockContact,okText:l10n.t(218),onCancel:function(){return b.default.closeModal()},cancelText:l10n.t(1206)},s.createElement(x.default,{id:220,params:{contact:e}})))},a.onReportSpam=function(){b.default.openModal(s.createElement(Y.default,{isBusiness:a.props.contact.isBusiness,isGroupChat:!1,onReport:a.reportSpam,onReportBlockClear:a.reportSpamBlockClear,onCancel:function(){return b.default.closeModal()}}))},a.reportSpam=function(){var e=m.default.get(a.props.contact.id);e&&(0,z.sendSpamReport)(e),b.default.closeModal()},a.reportSpamBlockClear=function(){var e=m.default.get(a.props.contact.id);e&&(0,z.sendSpamBlockClear)(e),b.default.closeModal()},a.onUnblockContact=function(){var e=s.createElement(V.default,{contact:a.props.contact});b.default.openModal(s.createElement(v.default,{okText:l10n.t(1107),onOK:a.unblockContact,cancelText:l10n.t(1206),onCancel:function(){return b.default.closeModal()}},s.createElement(x.default,{id:1108,params:{contact:e}})))},a.blockContact=function(){(0,u.blockContact)(a.props.contact),b.default.closeModal()},a.unblockContact=function(){(0,u.unblockContact)(a.props.contact),b.default.closeModal()},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onViewPicture=function(e){if(a.canViewPicture){var t=e.target;b.default.openModalMedia(s.createElement(W.default,{contact:a.props.contact,profilePicThumb:a.props.contact.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(e){e(t)}}),{transition:"profile-viewer",uim:a.props.uim})}},a.onDetailImageLoad=function(){a.canViewPicture=!0},a.onEphemeralSetting=function(){b.default.openModal(s.createElement(T.default,{chat:m.default.assertGet(a.props.contact.id)}))},a.canViewPicture=!1,a.state={contactIsBlocked:!!f.default.get(e.contact.id)},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(f.default,"add remove reset sync",this.onBlocklistChange),this.props.listeners.uiIdle(this._init);var e=this.props.contact;e.businessProfile&&!e.businessProfile.stale&&e.businessCatalog&&p.default.findCarouselCatalog(e.id)}},{key:"shouldRenderCatalog",value:function(){var e=this.props.contact;return!!(e&&e.isBusiness&&e.businessProfile)&&!(!e.businessProfile.catalogStatus||!e.businessCatalog)}},{key:"renderProductCatalogSection",value:function(){if(!this.shouldRenderCatalog())return null;var e=this.props,t=e.contact,a=e.onProductCatalog,n=e.onProductDetail,i=p.default.get(t.id);return i?s.createElement(g.default,{onProductDetail:n,onProductCatalog:a,catalog:i,sessionId:this.ProductCatalogSession.toString(),entryPoint:B.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE}):null}},{key:"render",value:function(){var e,t=this.props.contact,a=s.createElement(j.default,{contact:this.props.contact,onClose:this.onClose,flatListController:this.flatListController}),n=m.default.get(t.id);n&&(e=s.createElement(k.default,null,s.createElement(M.default,{a8nText:"li-delete-chat",icon:s.createElement(Z.default,{name:"delete-danger"}),color:"danger",onClick:this.onDeleteChat},l10n.t(377))));var i=null;i=this.state.contactIsBlocked?s.createElement(k.default,null,s.createElement(M.default,{a8nText:"li-unblock",color:"success",icon:s.createElement(Z.default,{name:"settings-blocked-success",directional:!0}),onClick:this.onUnblockContact},l10n.t(1107))):s.createElement(k.default,null,s.createElement(M.default,{a8nText:"li-block",icon:s.createElement(Z.default,{name:"settings-blocked",directional:!0}),onClick:this.onBlockContact},l10n.t(218)));var c=s.createElement(k.default,null,s.createElement(M.default,{a8nText:"li-report-spam",color:"danger",icon:s.createElement(Z.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},t.isBusiness?l10n.t(967):l10n.t(970))),r=null;if(this.props.onMediaGallery&&n){var o=this.props.onMediaGallery,l=s.createElement(Z.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0}),d=I.default.supportsFeature(I.default.F.LINK_DOC_GALLERY)?l10n.t(718):l10n.t(712);r=s.createElement(k.default,{a8nText:"section-media",title:d,titleOnClick:o,subtitle:l,theme:"padding"},s.createElement(G.default,{chat:n,mediaMsgs:n.getMediaMsgs()}))}var u=null;I.default.supportsFeature(I.default.F.LIVE_LOCATIONS)&&n&&(u=s.createElement(w.default,{chat:n,onClick:this.props.onLiveLocation}));var f=this.renderProductCatalogSection(),p=n&&n.mute.canMute()?s.createElement(U.default,{chat:n,mute:n.mute}):null,g=null;if(this.props.onStarred){var b=s.createElement(Z.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0});g=s.createElement(_.default,{a8nText:"block-starred-messages",side:b,onClick:this.props.onStarred,border:!0},s.createElement($.default,{theme:"title"},l10n.t(307)))}var v=X.default.ephemeralMessages&&I.default.supportsFeature(I.default.F.EPHEMERAL_MESSAGES)&&n?s.createElement(R.default,{onClick:this.onEphemeralSetting,chat:n}):null,T=null,A=n&&n.getReceivedVCardMsgs();if(I.default.supportsFeature(I.default.F.INDEX_RECEIVED_VCARD)&&A&&A.length){var D=s.createElement(Z.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0});T=s.createElement(_.default,{a8nText:"block-contact-card",side:D,onClick:this.props.onContactCard},s.createElement($.default,{theme:"title"},l10n.t(357,{_plural:A.length})))}var L=null;(p||g||v||T)&&(L=s.createElement(k.default,null,p,g,v,T,null));var x=s.createElement(_.default,{multiline:!0},s.createElement($.default,{theme:"title"},s.createElement(J.default,{id:t.id}))),F=s.createElement(_.default,null,s.createElement(K.SelectableSpan,{dir:"auto",selectable:!0},s.createElement($.default,{theme:"title"},(0,te.default)(t.id)))),B=s.createElement(k.default,{a8nText:"section-about-and-phone-number"},s.createElement("div",{className:E.default.titleAbout},s.createElement($.default,{theme:"section-title"},l10n.t(359))),x,F),W=n&&n.presence?s.createElement(ee.default,{contact:t,presence:n.presence,chatstate:n.presence.chatstate,location:"info"}):null,q=t.showBusinessVname&&I.default.supportsFeature(I.default.F.VNAME_V_2)?s.createElement("div",{className:E.default.businessVname},s.createElement(N.default,{text:t.verifiedName,direction:"auto"}),s.createElement("div",{className:E.default.icon},s.createElement(Z.default,{name:"psa-verified"}))):null,H=t.isBusiness&&t.businessProfile?s.createElement(h.default,{contact:t,businessProfile:t.businessProfile}):null,Y=!t.name&&t.notifyName?s.createElement("div",{className:E.default.nameSecondary},s.createElement($.default,{theme:"muted"},s.createElement(N.default,{className:E.default.screenName,direction:"auto",text:t.notifyName}))):null;return s.createElement(S.default,{key:"contact-info-modal"},s.createElement(P.default,{title:l10n.t(1212),type:P.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),s.createElement(y.default,{flatListControllers:[this.flatListController]},s.createElement("div",{className:E.default.body},s.createElement(k.default,{theme:"padding-large"},s.createElement("div",{className:E.default.avatar},s.createElement(C.default,{id:t.id,size:C.default.Size.LARGE,loader:!0,onLoad:this.onDetailImageLoad,onClick:this.onViewPicture,quality:C.default.Quality.HIGH})),s.createElement($.default,{theme:"large"},s.createElement(V.default,{contact:t,selectable:!0,showBusinessCheckmark:!0})),Y,s.createElement("div",{className:E.default.nameSecondary},s.createElement($.default,{theme:"muted"},q),s.createElement($.default,{theme:"muted"},W)),s.createElement(O.default,{labels:t.labels})),H,u,f,r,L,B,null,a,i,c,e)))}}]),t}(s.Component);ae.CONCERNS={contact:["id","formattedName","formattedUser","formattedShortName","isBusiness","commonGroups","businessProfile","showBusinessVname","verifiedName","name","notifyName","labels","businessCatalog"]};var ne=(0,D.default)((0,H.default)((0,F.default)((0,Q.default)(ae,ae.CONCERNS))));t.default=ne},fbcdaahdd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("hdccjfbbg")),f=i(a("ihfccfgdf")),h=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).contextEnabled=function(){var e=a.props,t=e.contextEnabled,n=e.contact;return null!=t&&t(n)},a.onContext=function(e){var t=a.props,n=t.onContext,i=t.contact;return n&&n(e,i)},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contact,a=e.participant,n=e.onClick,i=e.contextMenu,c=e.isPendingParticipant;return s.createElement(u.default,{contact:t,admin:a.isAdmin,onClick:n,theme:"drawer-list",contextEnabled:this.contextEnabled,contextMenu:i,onContext:this.onContext,isPendingParticipant:c,showNotifyName:!0,waitIdle:!0})}}]),t}(s.Component);h.CONCERNS={participant:["isAdmin"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},fdcfhecbj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return c.createElement("div",{className:(0,r.default)(o.default.icon,{[o.default.transparent]:e.theme&&"transparent"===e.theme})},e.children)};var c=i(a("ddhijeejag")),r=n(a("ceffhbhahb")),o=n(a("cjjjgbhjif"))},fjcbegghf:function(e,t){e.exports={label:"_1dT-j",input:"_1G1A1"}},gejdcbjjd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.side?c.createElement("div",{className:l.default.side},e.side):null,a=(0,r.default)(l.default.container,{[l.default.multiline]:e.multiline});return c.createElement("div",{"data-a8n":o.default.key(e.a8nText),className:a,role:e.onClick?"button":null,onClick:e.onClick},c.createElement("div",{className:l.default.block},c.createElement("div",{className:l.default.main},e.children),t))};var c=i(a("ddhijeejag")),r=n(a("ceffhbhahb")),o=n(a("effbcehec")),l=n(a("igfejfjdb"))},hjbhabfd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDesc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return p((0,h.unproxy)(e),t)};var c=i(a("ddhijeejag")),r=a("ccihhdchab"),o=n(a("bbchdeehff")),l=a("ddjgcfjicj"),d=i(a("cajijabhgb")),s=n(a("bdiiahhjbe")),u=a("babicefcfg"),f=n(a("cfejjfjhca")),h=a("bheafeifce");function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.genId)(),n=t&&t.trim();if(n===e.groupMetadata.desc)return Promise.reject(new d.ActionError);""===n&&(n=null);var i=(0,u.sendSetGroupDescription)(e.id,n,(0,f.default)(),e.groupMetadata.descId),h=e.groupMetadata.desc,g=new r.ActionType(l10n.t(60)),m=i.then((function(t){return new r.ActionType(l10n.t(62),l10n.t(162),(function(){return p(e,h,a)}))})).catch(l.ServerStatusCodeError,(function(e){if(e.status>=400)return new r.ActionType(l10n.t(61))})).catch((function(t){return s.default.error("models:chat:setGroupDesc dropped")(t),new r.ActionType(l10n.t(61),l10n.t(158),(function(){return p(e,n,a)}))}));return o.default.openToast(c.createElement(r.ActionToast,{id:a,initialAction:g,pendingAction:m})),i.then((function(t){t._duplicate||e.groupMetadata.set({desc:n||""})})).catch(l.ServerStatusCodeError,(function(e){}))}},icadbbfej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("dhigahgdjb")),p=i(a("cfafieaaec")),g=i(a("bcbahjefec")),m=i(a("ccjabfdeje")),b=i(a("bheehfahbe")),j=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onClick=function(e,t){u.default.find(t.id).then(f.default.openChatFromUnread.bind(f.default)),a.end()},a.onNewGroup=function(e){a.push(s.createElement(b.default,{onBack:a.pop,onContinue:a.onSetGroupInfo}))},a.onSetGroupInfo=function(e){a.push(s.createElement(m.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){h.default.ensureSorted(),this.push(s.createElement(p.default,{title:l10n.t(871),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}]),t}(g.default);t.default=j},igfcfhefe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("hhegggegb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=a("cicgeajfge"),g=i(a("chabbgefdj")),m=i(a("cbbfcahecc")),b=i(a("iibcehaia")),j=a("bheafeifce"),v=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._setScrollContainer=function(e){a._scrollContainer=e},a._onScroll=function(e){a._handleScroll(e.target)},a._handleScroll=(0,s.default)((function(e){var t=a.props,n=t.hasBefore,i=t.msgsCollection,c=t.setScrollOffset,r=e.scrollHeight-e.clientHeight-e.scrollTop<h.default.SCROLL_FUDGE;n&&r&&a._queryCollection(i.head()),c&&c(e.scrollTop)}),100),a._handleClickMsg=function(e,t){var n=(0,j.unproxy)(e);a.props.selectable&&void 0!==t?a.props.onMessageSelect(n,t):f.default.openChatAt(n.chat,n.chat.getSearchContext(n))},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.hasBefore,a=e.scrollOffset;t&&this._queryCollection(),this._scrollContainer&&(this._scrollContainer.scrollTop=a)}},{key:"componentWillUnmount",value:function(){this._handleScroll.cancel()}},{key:"_queryCollection",value:function(e){var t=this.props,a=t.hasBefore,n=t.queryCollection;a&&n(e)}},{key:"_renderElements",value:function(){var e=this,t=this.props,a=t.msgsCollection,n=t.selectedMessages,i=t.renderElements;return i?i(this._handleClickMsg):a.map((function(t,a){return u.createElement(b.default,{key:"".concat(t.id.toString(),"_").concat(a),msg:t,selectable:e.props.selectable,selectedMessages:n,onMessageSelect:e.props.onMessageSelect,displayType:h.default.DISP_TYPE.GALLERY,onClickMsg:e._handleClickMsg,onProductClick:e.props.onProductDetail})})).reverse()}},{key:"render",value:function(){var e=this.props,t=e.queryBefore,a=e.hasBefore,n=e.msgsCollection,i=e.emptyText,c=this._renderElements();if(t){if(0===c.length)return u.createElement(p.Loading,null);c.push(u.createElement(g.default,null))}return 0!==n.length||t||a?u.createElement("div",{ref:this._setScrollContainer,onScroll:this._onScroll,className:m.default.wrapper},c):u.createElement(p.Empty,{text:i,a8nText:"no-elements"})}}]),t}(u.Component);t.default=v,v.defaultProps={scrollOffset:0}},igfejfjdb:function(e,t){e.exports={container:"_14oqx",block:"DcItJ",main:"_3WCza",side:"_39lFW",multiline:"_1mf1Y"}},jccagege:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a("bacehaajgh")),r=i(a("dagbcgeifg")),o=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=i(a("eceadcicaf")),p=i(a("igfcfhefe")),g=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,d.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))))._setGallery=function(e){a._gallery=e},a._queryCollection=function(e,t){var n=a.props,i=n.productMsgs,c=n.chat;a.props.listeners.uiIdle((function(){i.queryProducts(c,t)}))},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.productMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()}))}},{key:"render",value:function(){var e=this.props,t=e.productMsgs,a=(e.listeners,(0,r.default)(e,["productMsgs","listeners"]));return f.createElement(p.default,(0,c.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasProductBefore,queryBefore:t.hasProductBefore?Promise.resolve():null,emptyText:l10n.t(884)},a))}}]),t}(f.Component),m=(0,h.default)(g);t.default=m},jgjiiajej:function(e,t){e.exports={contactBusinessInfo:"DKXPl",contactBusinessInfoSpinner:"oOOBW",dataRow:"_1u5dg",businessHoursRow:"_2KQM1",businessHoursDay:"_2NCE2",businessHoursHours:"_2SQ_W",businessHoursChevron:"_1o1Ps",flipSvg:"_32AJO",dataRowIcon:"JX05Q",dataRowText:"_21mxN",businessTitleText:"_2F-UM",businessMarker:"_3WFA-",verifiedLabel:"_3PMf6",businessMap:"WXJmx",address:"_1UV2c",link:"_1Zdwk"}}}]);