/*! Copyright (c) 2021 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[885],{50113:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defineWebPersistedJob=function(e){return(0,i.definePersistedJob)(e)};var i=r(80547)},90885:(e,t,r)=>{"use strict";var i=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(48926)),d=r(43129),n=r(84922),s=r(50113),u=r(54647),l=i(r(81771)),o=i(r(25886)),c=r(16689),p=r(49438),h=r(89573),f=new l.default("productListResponse",(e=>{e.assertTag("iq"),e.assertFromServer();var t=e.child("product_list"),r=[];return t.forEachChildWithTag("product",(e=>{var t=e.maybeChild("id");if(t){var i=e.maybeChild("status");(null==i?void 0:i.contentString())===c.INVALID_PRODUCT_TOKEN?r.push({id:t.contentString(),status:c.INVALID_PRODUCT_TOKEN}):r.push((0,o.default)(e))}})),r})),w=(0,s.defineWebPersistedJob)("queryProductList").finalStep("sendStanza",function(){var e=(0,a.default)((function*({catalogWid:e,productIds:t,width:r,height:i}){var a=(0,d.wap)("iq",{to:d.S_WHATSAPP_NET,type:"get",smax_id:"21",xmlns:"w:biz:catalog",id:(0,d.generateId)()},(0,d.wap)("product_list",{jid:(0,p.USER_JID)((0,h.createWid)(e))},t.map((e=>(0,d.wap)("product",null,(0,d.wap)("id",null,e)))).concat([(0,d.wap)("width",null,r.toString()),(0,d.wap)("height",null,i.toString())]))),s=yield(0,n.sendIq)(a,f);if(s.success)return s.result;throw new u.ServerStatusCodeError(s.errorCode)}));return function(){return e.apply(this,arguments)}}()).end();t.default=w}}]);