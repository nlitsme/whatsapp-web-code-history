/*! Copyright (c) 2024 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[275],{623959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FingerprintDataSpec=t.CombinedFingerprintSpec=void 0;var a=n(751206);const r={};t.FingerprintDataSpec=r;const l={};t.CombinedFingerprintSpec=l,r.internalSpec={publicKey:[1,a.TYPES.BYTES],pnIdentifier:[2,a.TYPES.BYTES],lidIdentifier:[3,a.TYPES.BYTES],usernameIdentifier:[4,a.TYPES.BYTES]},l.internalSpec={version:[1,a.TYPES.UINT32],localFingerprint:[2,a.TYPES.MESSAGE,r],remoteFingerprint:[3,a.TYPES.MESSAGE,r]}},173734:(e,t,n)=>{"use strict";var a=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.sendContactFormRPC=function(){return f.apply(this,arguments)};var r=a(n(311504)),l=n(250281),o=n(460415),i=n(412498),u=n(332656),d=n(649262),c=n(590062),s=n(216342);function f(){return(f=(0,r.default)((function*(e,t){const n=(0,d.makeContactFormRequest)(e),a=yield(0,l.sendSmaxStanza)(n,t),r=(0,u.parseContactFormResponseSuccess)(a,n);if(r.success)return{name:"ContactFormResponseSuccess",value:r.value};const f=(0,i.parseContactFormResponseRetryableError)(a,n);if(f.success)return{name:"ContactFormResponseRetryableError",value:f.value};const p=(0,o.parseContactFormResponseError)(a,n);if(p.success)return{name:"ContactFormResponseError",value:p.value};throw new c.SmaxParsingFailure((0,s.errorMessageRpcParsing)("ContactForm",{Success:r,RetryableError:f,Error:p}))}))).apply(this,arguments)}},460415:(e,t,n)=>{"use strict";var a=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseError=function(e,t){const n=(0,u.assertTag)(e,"iq");if(!n.success)return n;const a=(0,u.flattenedChildWithTag)(e,"error");if(!a.success)return a;const d=(0,o.parseHackBaseIQErrorResponseMixin)(e,t);if(!d.success)return d;const c=(0,i.parseIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup)(a.value);if(!c.success)return c;return(0,l.makeResult)((0,r.default)((0,r.default)({},d.value),{},{errorIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup:c.value}))};var r=a(n(73982)),l=n(135781),o=n(245671),i=n(129066),u=n(686310)},412498:(e,t,n)=>{"use strict";var a=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseRetryableError=function(e,t){const n=(0,i.assertTag)(e,"iq");if(!n.success)return n;const a=(0,i.flattenedChildWithTag)(e,"response");if(!a.success)return a;const u=(0,i.attrInt)(a.value,"error_code");if(!u.success)return u;const d=(0,i.optional)(i.attrString,a.value,"next_retry_ts");if(!d.success)return d;const c=(0,o.parseHackBaseIQResultResponseMixin)(e,t);if(!c.success)return c;return(0,l.makeResult)((0,r.default)({responseErrorCode:u.value,responseNextRetryTs:d.value},c.value))};var r=a(n(73982)),l=n(135781),o=n(290095),i=n(686310)},332656:(e,t,n)=>{"use strict";var a=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseSuccess=function(e,t){const n=(0,i.assertTag)(e,"iq");if(!n.success)return n;const a=(0,i.flattenedChildWithTag)(e,"response");if(!a.success)return a;const u=(0,i.flattenedChildWithTag)(a.value,"message");if(!u.success)return u;const d=(0,i.flattenedChildWithTag)(a.value,"ticket_id");if(!d.success)return d;const c=(0,i.flattenedChildWithTag)(a.value,"group_jid");if(!c.success)return c;const s=(0,i.literal)(i.attrString,a.value,"status","ok");if(!s.success)return s;const f=(0,i.contentString)(u.value);if(!f.success)return f;const p=(0,i.contentString)(d.value);if(!p.success)return p;const m=(0,i.contentString)(c.value);if(!m.success)return m;const h=(0,o.parseHackBaseIQResultResponseMixin)(e,t);if(!h.success)return h;return(0,l.makeResult)((0,r.default)({responseStatus:s.value,responseMessageElementValue:f.value,responseTicketIdElementValue:p.value,responseGroupJidElementValue:m.value},h.value))};var r=a(n(73982)),l=n(135781),o=n(290095),i=n(686310)},245671:(e,t,n)=>{"use strict";var a=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseHackBaseIQErrorResponseMixin=function(e,t){const n=(0,u.assertTag)(e,"iq");if(!n.success)return n;const a=(0,u.optional)(i.attrUserJid,e,"to");if(!a.success)return a;const d=(0,o.parseIQErrorResponseMixin)(e,t);if(!d.success)return d;return(0,l.makeResult)((0,r.default)({to:a.value},d.value))};var r=a(n(73982)),l=n(135781),o=n(650628),i=n(568113),u=n(686310)},290095:(e,t,n)=>{"use strict";var a=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseHackBaseIQResultResponseMixin=function(e,t){const n=(0,u.assertTag)(e,"iq");if(!n.success)return n;const a=(0,u.optional)(i.attrUserJid,e,"to");if(!a.success)return a;const d=(0,o.parseIQResultResponseMixin)(e,t);if(!d.success)return d;return(0,l.makeResult)((0,r.default)({to:a.value},d.value))};var r=a(n(73982)),l=n(135781),o=n(404257),i=n(568113),u=n(686310)},915576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestMixin=function(e){const t=(0,r.assertTag)(e,"error");if(!t.success)return t;const n=(0,r.literal)(r.attrString,e,"text","bad-request");if(!n.success)return n;const l=(0,r.literal)(r.attrInt,e,"code",400);if(!l.success)return l;return(0,a.makeResult)({text:n.value,code:l.value})};var a=n(135781),r=n(686310)},129066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup=function(e){const t=(0,r.parseIQErrorBadRequestMixin)(e);if(t.success)return(0,a.makeResult)({name:"IQErrorBadRequest",value:t.value});const n=(0,o.parseIQErrorNoticeRequiredMixin)(e);if(n.success)return(0,a.makeResult)({name:"IQErrorNoticeRequired",value:n.value});const u=(0,l.parseIQErrorInternalServerErrorMixin)(e);if(u.success)return(0,a.makeResult)({name:"IQErrorInternalServerError",value:u.value});return(0,i.errorMixinDisjunction)(e,["IQErrorBadRequest","IQErrorNoticeRequired","IQErrorInternalServerError"],[t,n,u])};var a=n(135781),r=n(915576),l=n(119446),o=n(680258),i=n(686310)},119446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorInternalServerErrorMixin=function(e){const t=(0,r.assertTag)(e,"error");if(!t.success)return t;const n=(0,r.literal)(r.attrString,e,"text","internal-server-error");if(!n.success)return n;const l=(0,r.literal)(r.attrInt,e,"code",500);if(!l.success)return l;return(0,a.makeResult)({text:n.value,code:l.value})};var a=n(135781),r=n(686310)},680258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorNoticeRequiredMixin=function(e){const t=(0,r.assertTag)(e,"error");if(!t.success)return t;const n=(0,r.literal)(r.attrString,e,"text","notice-required");if(!n.success)return n;const l=(0,r.literal)(r.attrInt,e,"code",475);if(!l.success)return l;const o=(0,r.attrIntRange)(e,"tos_version",1,65535);if(!o.success)return o;return(0,a.makeResult)({text:n.value,code:l.value,tosVersion:o.value})};var a=n(135781),r=n(686310)},650628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorResponseMixin=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const o=(0,r.attrStringFromReference)(t,["id"]);if(!o.success)return o;const i=(0,l.literal)(l.attrString,e,"id",o.value);if(!i.success)return i;const u=(0,r.attrStringFromReference)(t,["to"]);if(!u.success)return u;const d=(0,l.literal)(l.attrString,e,"from",u.value);if(!d.success)return d;const c=(0,l.literal)(l.attrString,e,"type","error");if(!c.success)return c;return(0,a.makeResult)({type:c.value})};var a=n(135781),r=n(591439),l=n(686310)},404257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQResultResponseMixin=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const o=(0,r.attrStringFromReference)(t,["id"]);if(!o.success)return o;const i=(0,l.literal)(l.attrString,e,"id",o.value);if(!i.success)return i;const u=(0,r.attrStringFromReference)(t,["to"]);if(!u.success)return u;const d=(0,l.literal)(l.attrString,e,"from",u.value);if(!d.success)return d;const c=(0,l.literal)(l.attrString,e,"type","result");if(!c.success)return c;return(0,a.makeResult)({type:c.value})};var a=n(135781),r=n(591439),l=n(686310)},111919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeBaseIQSetRequestMixin=function(e){const t=(0,a.smax)("iq",{id:(0,l.generateId)(),type:"set"});return(0,r.mergeStanzas)(e,t)};var a=n(758616),r=n(770006),l=n(716358)},649262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeContactFormRequest=function(e){const{topicArgs:t,topicIdArgs:n,debugInformationJsonArgs:a,uploadedLogsIdArgs:p,additionalAttributesArgs:m,descriptionElementValue:h}=e;return(0,o.mergeHackBaseIQSetRequestMixin)((0,l.smax)("iq",{xmlns:"fb:thrift_iq",smax_id:(0,i.INT)(3)},(0,l.smax)("description",null,h),(0,r.OPTIONAL_CHILD)(u,t),(0,r.OPTIONAL_CHILD)(d,n),(0,r.OPTIONAL_CHILD)(c,a),(0,r.OPTIONAL_CHILD)(s,p),(0,r.OPTIONAL_CHILD)(f,m)),e)},t.makeContactFormRequestAdditionalAttributes=f,t.makeContactFormRequestDebugInformationJson=c,t.makeContactFormRequestTopic=u,t.makeContactFormRequestTopicId=d,t.makeContactFormRequestUploadedLogsId=s;var a=n(93864),r=n(974339),l=n(758616),o=n(87868),i=n(716358);function u(e){const{topicElementValue:t}=e;return(0,l.smax)("topic",null,t)}function d(e){const{topicIdElementValue:t}=e;return(0,l.smax)("topic_id",null,t)}function c(e){const{debugInformationJsonElementValue:t}=e;return(0,l.smax)("debug_information_json",null,t)}function s(e){const{uploadedLogsIdElementValue:t}=e;return(0,l.smax)("uploaded_logs_id",null,t)}function f(e){const{additionalAttributesContextFlow:t}=e;return(0,l.smax)("additional_attributes",{context_flow:(0,a.OPTIONAL)(i.CUSTOM_STRING,t)})}},87868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeHackBaseIQSetRequestMixin=function(e,t){const n=function(e){const{iqFrom:t}=e;return(0,o.mergeBaseIQSetRequestMixin)((0,r.smax)("iq",{from:(0,a.OPTIONAL)(i.USER_JID,t),to:i.S_WHATSAPP_NET}))}(t);return(0,l.mergeStanzas)(e,n)};var a=n(93864),r=n(758616),l=n(770006),o=n(111919),i=n(716358)},798324:(e,t,n)=>{"use strict";var a=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.FingerprintValidationResult=void 0,t.validateFingerprint=function(e,t,n){const a=(0,i.decodeProtobuf)(l.CombinedFingerprintSpec,e),c=(0,i.decodeProtobuf)(l.CombinedFingerprintSpec,t);if(!a||null==a.version)return u.MALFORMED_CODE;if(a.version<0)return u.UNEXPECTED_VERSION_OLD;if(a.version>0)return u.UNEXPECTED_VERSION_NEW;const s=(0,o.default)(c.localFingerprint,"myFingerprint.localFingerprint"),f=s.pnIdentifier,p=s.lidIdentifier,m=(0,o.default)(c.remoteFingerprint,"myFingerprint.remoteFingerprint"),h=m.pnIdentifier,g=m.lidIdentifier,E=a.localFingerprint,y=a.remoteFingerprint;if(!E||!y)return u.MALFORMED_CODE;const v=d(E.pnIdentifier,f),C=d(E.lidIdentifier,p),b=d(y.pnIdentifier,f),w=d(y.lidIdentifier,p);let _,S,M=!1;if(v||C){M=!0,_=E;const e=d(y.pnIdentifier,h),t=d(y.lidIdentifier,g);if(!e&&!t)return u.REMOTE_WRONG_CHAT_PEER;S=y}else{if(!b&&!w)return u.LOCAL_WRONG_CHAT;{_=y;const e=d(E.pnIdentifier,h),t=d(E.lidIdentifier,g);if(!e&&!t)return u.REMOTE_WRONG_CHAT;S=E}}if(!d(_.publicKey,s.publicKey))return u.LOCAL_KEYS_MISMATCH;if(!d(S.publicKey,m.publicKey))return u.REMOTE_KEYS_MISMATCH;const k=d(_.pnIdentifier,s.pnIdentifier);if(_.pnIdentifier&&!k)return M?u.LOCAL_PN_MISMATCH_PEER:u.LOCAL_PN_MISMATCH;if(m.pnIdentifier){if(!S.pnIdentifier)return M?u.REMOTE_PN_MISSING_PEER:u.REMOTE_PN_MISSING;if(!(0,r.arrayBuffersEqual)(S.pnIdentifier,m.pnIdentifier))return M?u.REMOTE_PN_MISMATCH_PEER:u.REMOTE_PN_MISMATCH}else if(S.pnIdentifier)return u.REMOTE_PN_MISSING;if(n){if(null!=s.usernameIdentifier){if(null==_.usernameIdentifier)return M?u.LOCAL_USERNAME_MISSING_PEER:u.LOCAL_USERNAME_MISSING;if(!(0,r.arrayBuffersEqual)(_.usernameIdentifier,s.usernameIdentifier))return M?u.LOCAL_USERNAME_MISMATCH_PEER:u.LOCAL_USERNAME_MISMATCH}else if(null!=_.usernameIdentifier)return u.LOCAL_USERNAME_MISSING;if(null!=m.usernameIdentifier){if(null==S.usernameIdentifier)return M?u.REMOTE_USERNAME_MISSING_PEER:u.REMOTE_USERNAME_MISSING;if(!(0,r.arrayBuffersEqual)(S.usernameIdentifier,m.usernameIdentifier))return M?u.REMOTE_USERNAME_MISMATCH_PEER:u.REMOTE_USERNAME_MISMATCH}else if(null!=S.usernameIdentifier)return u.REMOTE_USERNAME_MISSING}return u.SUCCESS};var r=n(31549),l=n(623959),o=a(n(670983)),i=n(394629);const u=n(654302).Mirrored(["SUCCESS","MALFORMED_CODE","UNEXPECTED_VERSION_OLD","UNEXPECTED_VERSION_NEW","REMOTE_WRONG_CHAT_PEER","REMOTE_WRONG_CHAT","LOCAL_WRONG_CHAT","LOCAL_KEYS_MISMATCH","REMOTE_KEYS_MISMATCH","LOCAL_PN_MISMATCH_PEER","LOCAL_PN_MISMATCH","REMOTE_PN_MISMATCH_PEER","REMOTE_PN_MISMATCH","REMOTE_PN_MISSING_PEER","REMOTE_PN_MISSING","LOCAL_USERNAME_MISMATCH_PEER","LOCAL_USERNAME_MISMATCH","LOCAL_USERNAME_MISSING_PEER","LOCAL_USERNAME_MISSING","REMOTE_USERNAME_MISMATCH_PEER","REMOTE_USERNAME_MISMATCH","REMOTE_USERNAME_MISSING_PEER","REMOTE_USERNAME_MISSING"]);t.FingerprintValidationResult=u;function d(e,t){return!(!e||!t)&&(0,r.arrayBuffersEqual)(e,t)}},293760:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findArrayDiff=void 0;const n=function(e,t){return function(e,t,n){let a=t.length,r=n.length;const l={sequence:[],indices1:[],indices2:[]};for(;0!==a&&0!==r;)t[a-1]===n[r-1]?(l.sequence.unshift(t[a-1]),l.indices1.unshift(a-1),l.indices2.unshift(r-1),--a,--r):e[a][r-1]>e[a-1][r]?--r:--a;return l}(function(e,t){const n=e.length,a=t.length,r=Array(n+1).fill().map((()=>Array(a+1).fill(0)));for(let l=1;l<n+1;l++)for(let n=1;n<a+1;n++)e[l-1]===t[n-1]?r[l][n]=r[l-1][n-1]+1:r[l][n]=Math.max(r[l-1][n],r[l][n-1]);return r}(e,t),e,t)};t.findArrayDiff=function(e,t){const a={moved:[],inserted:[],removed:[]},r=e.length,l=t.length,{commonHead:o,commonTail:i}=function(e,t){let n=0,a=0;const r=e.length,l=t.length;for(;n<r&&n<l&&e[n]===t[n];)n++;for(;a+n<r&&a+n<l&&e[r-1-a]===t[l-1-a];)a++;return{commonHead:n,commonTail:a}}(e,t);if(o+i===r){if(r===l)return a;for(let e=o;e<l-i;e++)a.inserted.push([t[e],e]);return a}if(o+i===l){for(let t=o;t<r-i;t++)a.removed.push([e[t],t]);return a}const u=n(e.slice(o,r-i),t.slice(o,l-i));for(let t=o;t<r-i;t++)u.indices1.indexOf(t-o)<0&&a.removed.push([e[t],t]);for(let n=o;n<l-i;n++){if(u.indices2.indexOf(n-o)<0){let r=!1;a.removed.forEach(((l,o,i)=>{let[u,d]=l;if(e[d]===t[n])return a.moved.push([u,d,n]),i.splice(o,1),void(r=!0)})),r||a.inserted.push([t[n],n])}}return a}},320291:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendSupportRequest=function(){return s.apply(this,arguments)};var r=a(n(81109)),l=a(n(348926)),o=n(173734),i=n(996588),u=n(459857),d=n(574819);function c(e,t){__LOG__(3,void 0,void 0,!0)`supportRequest error: code=${e} message=${null!=t?t:""}`,SEND_LOGS("supportRequest")}function s(){return(s=(0,l.default)((function*(e,t){const n=(0,r.default)({iqFrom:(0,d.widToUserJid)((0,u.getMeUser)()),descriptionElementValue:e},null!=t&&{debugInformationJsonArgs:{debugInformationJsonElementValue:t}}),a=yield(0,o.sendContactFormRPC)(n);switch(a.name){case"ContactFormResponseError":{const{code:e,text:t}=a.value.errorIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup.value;return c(Number(e),t),{type:"error",errorCode:Number(e)}}case"ContactFormResponseRetryableError":{const e=a.value.responseErrorCode;return c(Number(e)),{type:"error",errorCode:Number(e)}}case"ContactFormResponseSuccess":{const e=a.value.responseMessageElementValue,n=a.value.responseTicketIdElementValue,r=a.value.responseGroupJidElementValue;return null!=t&&(__LOG__(2)`InAppSupport: Uploading logs for ticketId=${n}`,(0,i.upload)({reason:i.USER_REPORT,immediate:!0,isHighPri:!0,logType:i.LogType.SUPPORT,ticketId:n}).then((e=>{__LOG__(2)`InAppSupport: Logs upload complete for ticketId=${n}, logsId=${e}`}))),{type:"success",message:e,ticketId:n,groupId:r}}}}))).apply(this,arguments)}},162164:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getIdentityVerificationDataJob=function(e,t){const n=(0,r.default)({jid:e},t);return(0,i.createNonPersistedJob)("getIdentityVerificationData",(e=>(0,o.getIdentityVerificationData)(e)),{priority:l.JOB_PRIORITY.SKIP}).waitUntilCompleted(n)};var r=a(n(81109)),l=n(775593),o=n(726192),i=n(899137)},48149:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.mexFetchNewsletterDirectoryList=function(){return c.apply(this,arguments)};var r,l=a(n(348926)),o=n(123982),i=n(772787);const u=void 0!==r?r:r=n(641248);function d(e){switch(e){case i.NewsletterDirectoryListView.Recommended:return"RECOMMENDED";case i.NewsletterDirectoryListView.New:return"NEW";case i.NewsletterDirectoryListView.Popular:return"POPULAR";case i.NewsletterDirectoryListView.Featured:return"FEATURED";case i.NewsletterDirectoryListView.Trending:return"TRENDING"}}function c(){return(c=(0,l.default)((function*(e){let{view:t,countryCodes:n,limit:a,cursorToken:r}=e;const l={input:{view:d(t),filters:{country_codes:n},limit:a,start_cursor:r}};return yield(0,o.fetchQuery)(u,l)}))).apply(this,arguments)}},623585:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.mexFetchNewsletterDirectorySearchResults=function(){return u.apply(this,arguments)};var r,l=a(n(348926)),o=n(123982);const i=void 0!==r?r:r=n(281253);function u(){return(u=(0,l.default)((function*(e){let{searchText:t,limit:n,cursorToken:a}=e;return yield(0,o.fetchQuery)(i,{input:{search_text:t,limit:n,start_cursor:a}})}))).apply(this,arguments)}},206281:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.mexFetchRecommendedNewsletters=function(){return i.apply(this,arguments)};var r,l=a(n(348926)),o=n(123982);function i(){return(i=(0,l.default)((function*(e,t){const a=void 0!==r?r:r=n(850358);return yield(0,o.fetchQuery)(a,{input:{limit:e,country_codes:t}})}))).apply(this,arguments)}},641248:e=>{"use strict";var t,n,a,r,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"WAWebMexFetchNewsletterDirectoryListJobQuery",selections:r=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XWA2NewsletterSearchResponse",kind:"LinkedField",name:"xwa2_newsletters_directory_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWA2Newsletter",kind:"LinkedField",name:"result",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterThreadMetadata",kind:"LinkedField",name:"thread_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"invite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribers_count",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterName",kind:"LinkedField",name:"name",plural:!1,selections:a=[n,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"update_time",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterDescription",kind:"LinkedField",name:"description",plural:!1,selections:a,storageKey:null},{alias:null,args:[{kind:"Literal",name:"type",value:"PREVIEW"}],concreteType:"XWA2Picture",kind:"LinkedField",name:"picture",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"direct_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:'picture(type:"PREVIEW")'},{alias:null,args:null,kind:"ScalarField",name:"verification",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"WAWebMexFetchNewsletterDirectoryListJobQuery",selections:r},params:{id:"6190824427689257",metadata:{},name:"WAWebMexFetchNewsletterDirectoryListJobQuery",operationKind:"query",text:null}};e.exports=l},281253:e=>{"use strict";var t,n,a,r,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"WAWebMexFetchNewsletterDirectorySearchResultsJobQuery",selections:r=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XWA2NewsletterSearchResponse",kind:"LinkedField",name:"xwa2_newsletters_directory_search",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWA2Newsletter",kind:"LinkedField",name:"result",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterThreadMetadata",kind:"LinkedField",name:"thread_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"invite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribers_count",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterName",kind:"LinkedField",name:"name",plural:!1,selections:a=[n,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"update_time",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterDescription",kind:"LinkedField",name:"description",plural:!1,selections:a,storageKey:null},{alias:null,args:[{kind:"Literal",name:"type",value:"PREVIEW"}],concreteType:"XWA2Picture",kind:"LinkedField",name:"picture",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"direct_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:'picture(type:"PREVIEW")'},{alias:null,args:null,kind:"ScalarField",name:"verification",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"WAWebMexFetchNewsletterDirectorySearchResultsJobQuery",selections:r},params:{id:"6802402206520139",metadata:{},name:"WAWebMexFetchNewsletterDirectorySearchResultsJobQuery",operationKind:"query",text:null}};e.exports=l},850358:e=>{"use strict";var t,n,a,r,l,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"WAWebMexFetchRecommendedNewslettersJobQuery",selections:l=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XWA2NewsletterSearchResponse",kind:"LinkedField",name:"xwa2_newsletters_recommended",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWA2Newsletter",kind:"LinkedField",name:"result",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterState",kind:"LinkedField",name:"state",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterThreadMetadata",kind:"LinkedField",name:"thread_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterName",kind:"LinkedField",name:"name",plural:!1,selections:r=[n,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"update_time",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterDescription",kind:"LinkedField",name:"description",plural:!1,selections:r,storageKey:null},{alias:"preview",args:[{kind:"Literal",name:"type",value:"PREVIEW"}],concreteType:"XWA2Picture",kind:"LinkedField",name:"picture",plural:!1,selections:[n,a,{alias:null,args:null,kind:"ScalarField",name:"direct_path",storageKey:null}],storageKey:'picture(type:"PREVIEW")'},{alias:null,args:null,kind:"ScalarField",name:"invite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribers_count",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"WAWebMexFetchRecommendedNewslettersJobQuery",selections:l},params:{id:"7263823273662354",metadata:{},name:"WAWebMexFetchRecommendedNewslettersJobQuery",operationKind:"query",text:null}};e.exports=o},726192:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.deriveLidIdentifier=y,t.deriveStableJid=E,t.deriveUsernameIdentifier=v,t.getIdentityVerificationData=function(){return k.apply(this,arguments)};var r=a(n(348926)),l=n(904704),o=n(418987),i=a(n(670983)),u=n(12643),d=n(469422),c=n(917504),s=n(252451),f=n(10586),p=n(76256),m=n(459857),h=n(385914);const g=/^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;function E(e){const t=g.exec(e.user);return l.Binary.build(t?t[1]+t[2]:e.toString()).readByteArray()}function y(e){return l.Binary.build(`${e.user}${o.LID_DOMAIN}`).readByteArray()}function v(e){return l.Binary.build(e).readByteArray()}function C(e,t){return`00000${256*e.getUint32(t,!1)+e.getUint8(t+4)}`.slice(-5)}function b(){return w.apply(this,arguments)}function w(){return(w=(0,r.default)((function*(e,t){let n=Promise.resolve(l.Binary.build(0,0,t,e).readByteArray());for(let e=0;e<5200;e++)n=n.then((e=>self.crypto.subtle.digest({name:"SHA-512"},l.Binary.build(e,t).readByteArray())));const a=yield n,r=new DataView(a instanceof ArrayBuffer?a.slice(0,30):a.slice(0,30).buffer);return[C(r,0),C(r,5),C(r,10),C(r,15),C(r,20),C(r,25)].join("")}))).apply(this,arguments)}function _(){return S.apply(this,arguments)}function S(){return(S=(0,r.default)((function*(e,t,n,a){return(yield Promise.all([b(e,t),b(n,a)])).sort().join("")}))).apply(this,arguments)}function M(e,t,n,a,r,o,u,d){const c={publicKey:u},f={publicKey:a};(0,i.default)(null!=r?r:o,"remotePnIdentifier ?? remoteLidIdentifier"),(0,i.default)(null!=e?e:t,"localPnIdentifier ?? localLidIdentifier"),null!=r&&(c.pnIdentifier=r),null!=t&&null!=o&&(c.lidIdentifier=o),null!=e&&(f.pnIdentifier=e),null!=t&&null!=o&&(f.lidIdentifier=t),null!=n&&(f.usernameIdentifier=n),null!=d&&(c.usernameIdentifier=d);const p=new l.Binary;return(0,h.encodeProtobuf)(s.CombinedFingerprintSpec,{version:0,localFingerprint:f,remoteFingerprint:c},p),p.readBuffer()}function k(){return(k=(0,r.default)((function*(e){let{jid:t,shareOwnPn:n}=e;const a=(0,m.assertGetMe)(),r=(0,m.getMaybeMeLid)(),l=(0,m.getMeUser)(),o=yield(0,u.getContactUsername)(l);let i,s;t.isLid()?(i=t,s=(0,u.getPhoneNumber)(i)):(i=(0,u.getCurrentLid)(t),s=t);const h=yield(0,u.getContactUsername)(t),g=t.equals(l),C=yield(0,f.getFanOutListJob)([t,a]);try{yield(0,c.ensureE2ESessions)(C)}catch(e){__LOG__(4,void 0,new Error)`ensureE2ESessions with error`}const b=[],w=[];C.forEach((e=>{e.user===a.user&&w.push(e),(e.user!==a.user||g)&&b.push(e)}));try{const e=yield(0,d.getAllIdentityKeysBytesOrThrow)(b),t=yield(0,d.getAllIdentityKeysBytesOrThrow)(w),a=yield(0,p.getSignalProtocolStore)().getIdentityKeyPair();if(!a)return __LOG__(3)`getIdentityVerificationData: missing identity for device verification`,null;t.push(new Uint8Array(a.pubKey)),g&&e.push(new Uint8Array(a.pubKey));const u=(0,d.identityKeysToBinary)(t),c=(0,d.identityKeysToBinary)(e),f=n?E(l):null,m=s?E(s):null,C=r?y(r):null,S=i?y(i):null,k=null!=o?v(o):null,P=null!=h?v(h):null,O=f&&m?_(f,u,m,c):null,T=yield Promise.all([Promise.resolve(O),M(f,C,k,u,m,S,c,P)]),[x,I]=T;return{binary:I,string:x}}catch(e){return __LOG__(3)`getIdentityVerificationData: failed to generate identity QR code: ${e}`,null}}))).apply(this,arguments)}},433563:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getCommunitiesLearningCenterUrl=function(){return e="communities/learning",`${l}/${e}?lang=${r.default.getLocale()}`;var e};var r=a(n(932325));const l="https://www.whatsapp.com"},974496:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInternalUser=function(){return(0,a.getABPropConfigValue)("is_meta_employee_or_internal_tester")};var a=n(287461)},311329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getmMediaContainer=t.getStage=t.getIsInitialized=t.getCropOverlay=t.clearMediaEditControllerGetterCacheFor=void 0;var a=n(272619),r=n(535979);const{field:l,computed:o,clearCacheFor:i}=(0,a.createGetterFactories)({createCache:r.createMediaEditControllerCache}),u=i;t.clearMediaEditControllerGetterCacheFor=u;const d=Object.defineProperty(l("stage"),"name",{value:"getStage"});t.getStage=d;const c=Object.defineProperty(l("cropOverlay"),"name",{value:"getCropOverlay"});t.getCropOverlay=c;const s=Object.defineProperty(l("mediaContainer"),"name",{value:"getmMediaContainer"});t.getmMediaContainer=s;const f=Object.defineProperty(o((e=>{let[t,n,a]=e;return!!t&&!!n&&!!a}),[d,c,s]),"name",{value:"getIsInitialized"});t.getIsInitialized=f},808383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTrayImagePreview=t.getTrayImageId=t.getStickerPackMdUnsafe=t.getPublisher=t.getPreviewImageIds=t.getName=t.getIndex=t.getImageDataHash=t.getId=t.getFileSize=t.getDescription=t.getAnimated=t.clearStickerPackModelMdGetterCacheFor=void 0;var a=n(272619),r=n(535979);const{field:l,unsafeIdentityGetter:o,clearCacheFor:i}=(0,a.createGetterFactories)({createCache:r.createStickerModelMdCache}),u=i;t.clearStickerPackModelMdGetterCacheFor=u;const d=o;t.getStickerPackMdUnsafe=d;const c=Object.defineProperty(l("id"),"name",{value:"getId"});t.getId=c;const s=Object.defineProperty(l("index"),"name",{value:"getIndex"});t.getIndex=s;const f=Object.defineProperty(l("name"),"name",{value:"getName"});t.getName=f;const p=Object.defineProperty(l("publisher"),"name",{value:"getPublisher"});t.getPublisher=p;const m=Object.defineProperty(l("description"),"name",{value:"getDescription"});t.getDescription=m;const h=Object.defineProperty(l("fileSize"),"name",{value:"getFileSize"});t.getFileSize=h;const g=Object.defineProperty(l("imageDataHash"),"name",{value:"getImageDataHash"});t.getImageDataHash=g;const E=Object.defineProperty(l("animated"),"name",{value:"getAnimated"});t.getAnimated=E;const y=Object.defineProperty(l("previewImageIds"),"name",{value:"getPreviewImageIds"});t.getPreviewImageIds=y;const v=Object.defineProperty(l("trayImageId"),"name",{value:"getTrayImageId"});t.getTrayImageId=v;const C=Object.defineProperty(l("trayImagePreview"),"name",{value:"getTrayImagePreview"});t.getTrayImagePreview=C},252451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FingerprintDataSpec=t.CombinedFingerprintSpec=void 0;var a=n(751206);const r={};t.FingerprintDataSpec=r;const l={};t.CombinedFingerprintSpec=l,r.internalSpec={publicKey:[1,a.TYPES.BYTES],pnIdentifier:[2,a.TYPES.BYTES],lidIdentifier:[3,a.TYPES.BYTES],usernameIdentifier:[4,a.TYPES.BYTES]},l.internalSpec={version:[1,a.TYPES.UINT32],localFingerprint:[2,a.TYPES.MESSAGE,r],remoteFingerprint:[3,a.TYPES.MESSAGE,r]}},288990:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_DIRECTORY_ACTION=void 0;const n=Object.freeze({DIRECTORY_OPEN_TAP:1,DIRECTORY_CLOSED_TAP:2,DIRECTORY_SEARCH_TAP:3,DIRECTORY_SERVER_ERROR:4,DIRECTORY_NAVIGATE_TO_CHANNEL:5,DIRECTORY_RETURN_FROM_CHANNEL:6,DIRECTORY_FOLLOW_TAP:7,DIRECTORY_UNFOLLOW_TAP:8,DIRECTORY_SORT_BY_RECENTLY_ADDED:9,DIRECTORY_SORT_BY_POPULARITY:10,DIRECTORY_SORT_BY_ALPHABETICALLY:11,DIRECTORY_IMP:12,DIRECTORY_SEARCH_IMP:13});t.CHANNEL_DIRECTORY_ACTION=n},715919:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_DIRECTORY_IMP_REASON=void 0;const n=Object.freeze({PILL_SELECTION:1,COUNTRY_SELECTION:2,NOT_APPLICABLE:3});t.CHANNEL_DIRECTORY_IMP_REASON=n},318093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_DIRECTORY_PILL_SELECTED=void 0;const n=Object.freeze({RECOMMENDED:1,TRENDING:2,FEATURED:3,NEW:4,POPULAR:5});t.CHANNEL_DIRECTORY_PILL_SELECTED=n},735131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_FORWARD_CONTENT_TYPE=void 0;const n=Object.freeze({UPDATE:0,UPDATE_CARD:1});t.CHANNEL_FORWARD_CONTENT_TYPE=n},581451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CTWA_LABEL_TARGET=void 0;const n=Object.freeze({CHAT:0,MESSAGE:1});t.CTWA_LABEL_TARGET=n},762445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CTWA_LABEL_TYPE=void 0;const n=Object.freeze({NEW_ORDER:0,PENDING_PAYMENT:1,PAID:2,ORDER_COMPLETE:3});t.CTWA_LABEL_TYPE=n},243146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_TAB_SEARCH_EVENT_TYPE=void 0;const n=Object.freeze({SEARCH_TAP:1,STATUS_TAP:2,FOLLOWED_CHANNEL_TAP:3,DIRECTORY_CHANNEL_TAP:4});t.UPDATE_TAB_SEARCH_EVENT_TYPE=n},986961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=void 0;const n=Object.freeze({CONTACT:1,GROUP:2,CONTACTLESS:3});t.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=n},920769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelDirectoryWamEvent=void 0;var a=n(901032),r=n(288990),l=n(320390),o=n(715919),i=n(318093);const{BOOLEAN:u,INTEGER:d,STRING:c}=a.TYPES,s=(0,a.defineEvents)({ChannelDirectory:[4544,{channelDirectoryAction:[1,r.CHANNEL_DIRECTORY_ACTION],channelDirectoryActionSequenceNumber:[5,d],channelDirectoryEntryPoint:[2,l.CHANNEL_DIRECTORY_ENTRY_POINT],channelDirectorySessionId:[3,d],channelIndex:[6,d],cid:[4,c],countrySelector:[8,c],impReason:[9,o.CHANNEL_DIRECTORY_IMP_REASON],pillSelected:[10,i.CHANNEL_DIRECTORY_PILL_SELECTED],searchMode:[7,u]},[1,1,1],"regular"]});t.ChannelDirectoryWamEvent=s},879417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CtwaLabelSignalWamEvent=void 0;var a=n(901032),r=n(581451),l=n(762445);const{BOOLEAN:o,INTEGER:i,STRING:u}=a.TYPES,d=(0,a.defineEvents)({CtwaLabelSignal:[4662,{ctwaLabelSignalVersion:[1,i],ctwaLabelTarget:[2,r.CTWA_LABEL_TARGET],ctwaLabelType:[3,l.CTWA_LABEL_TYPE],deepLinkConversionData:[4,u],deepLinkConversionSource:[5,u],eventSharingSettingEnabled:[6,o],globalSharingSettingEnabled:[7,o]},[1,1,1],"regular"]});t.CtwaLabelSignalWamEvent=d},321575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PsChannelPostForwardWamEvent=void 0;var a=n(901032),r=n(735131),l=n(684290),o=n(244186);const{STRING:i}=a.TYPES,u=(0,a.defineEvents)({PsChannelPostForward:[4746,{channelForwardContentType:[6,r.CHANNEL_FORWARD_CONTENT_TYPE],channelForwardGroupType:[1,o.MESSAGE_CHAT_TYPE],cid:[2,i],mediaType:[3,l.MEDIA_TYPE],postId:[4,i]},[1,1,1],"private",0]});t.PsChannelPostForwardWamEvent=u},926377:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatesTabSearchWamEvent=void 0;var a=n(901032),r=n(243146);const{INTEGER:l}=a.TYPES,o=(0,a.defineEvents)({UpdatesTabSearch:[4838,{channelsAdminCount:[5,l],channelsFollowedCount:[1,l],recentStatusItemCount:[2,l],recentStatusRowCount:[3,l],updateTabSearchEventType:[4,r.UPDATE_TAB_SEARCH_EVENT_TYPE],viewedStatusItemCount:[6,l],viewedStatusRowCount:[7,l]},[1,1,1],"regular"]});t.UpdatesTabSearchWamEvent=o},191721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebContactListStartNewChatWamEvent=void 0;var a=n(901032),r=n(986961);const{BOOLEAN:l}=a.TYPES,o=(0,a.defineEvents)({WebContactListStartNewChat:[4560,{webContactListStartNewChatSearch:[1,l],webContactListStartNewChatType:[2,r.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE]},[1,1,1],"regular"]});t.WebContactListStartNewChatWamEvent=o},140960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebcMediaEditorSendWamEvent=void 0;var a=n(901032);const{INTEGER:r}=a.TYPES,l=(0,a.defineEvents)({WebcMediaEditorSend:[2890,{blurImageCount:[7,r],editedImageCount:[2,r],emojiLayerCount:[5,r],imageCount:[1,r],paintedImageCount:[3,r],stickerLayerCount:[6,r],textLayerCount:[4,r]},[1,1,1],"regular"]});t.WebcMediaEditorSendWamEvent=l},705153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logContactListStartNewChatAction=function(e){let{isSearchResult:t,chatType:n}=e;new o.WebContactListStartNewChatWamEvent({webContactListStartNewChatSearch:t,webContactListStartNewChatType:n}).commit()},t.logInitiatedContactlessChat=function(e){e.msgs.some((e=>e.isRealMessage()))||e.endOfHistoryTransferType===r.ConversationEndOfHistoryTransferModelPropType.INCOMPLETE||(0,l.handleActivitiesForChatThreadLogging)([{activityType:"viaContactlessChats",ts:(0,a.unixTime)(),chatId:e.id,boolValue:!0}])};var a=n(632157),r=n(735618),l=n(698867),o=n(191721)},69342:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),l=n(887341),o=n(72696),i=n(79672),u=a(n(883891)),d=n(317285),c=n(879417),s=n(163755),f=n(856311),p=n(772358),m=n(581451),h=n(762445);const g=3,E=4,y=5,v=new Map([[2,h.CTWA_LABEL_TYPE.NEW_ORDER],[g,h.CTWA_LABEL_TYPE.PENDING_PAYMENT],[E,h.CTWA_LABEL_TYPE.PAID],[y,h.CTWA_LABEL_TYPE.ORDER_COMPLETE]]),C={globalSharingSettingEnabled:!1},b=e=>{switch(d.CTWADataSharingModel.getValue()){case l.ENUM_FALSE_NOTSET_TRUE.true:return{globalSharingSettingEnabled:!0,eventSharingSettingEnabled:e};case l.ENUM_FALSE_NOTSET_TRUE.false:return C;case l.ENUM_FALSE_NOTSET_TRUE.notset:default:return null}};var w={logLabelSignalForModels:(e,t,n)=>{const a=[];t.forEach((e=>{const t=f.LabelCollection.get(e),n=null==t?void 0:t.predefinedId;if(null==n)return;const r=v.get(n);null!=r&&a.push(r)})),0!==a.length&&(e[0]instanceof p.Msg?((e,t,n)=>{const a=(0,s.getChat)(e);if(!a)return void __LOG__(4,void 0,new Error)`[ctwa][labels] logLabelAddedToMessageAction: chat is missing for a provided message`;const l=u.default.getCTWAEligibilityFromChat(a);null!=l&&(0,o.isSMBLabelsDataSharingEnabledForMessages)()&&t.forEach((e=>{new c.CtwaLabelSignalWamEvent((0,r.default)({ctwaLabelSignalVersion:1,ctwaLabelTarget:m.CTWA_LABEL_TARGET.MESSAGE,ctwaLabelType:e,deepLinkConversionData:l.data,deepLinkConversionSource:l.source},b(n))).commit()}))})(e[0],a,n):e.forEach((e=>{e instanceof i.Chat&&((e,t,n)=>{const a=u.default.getCTWAEligibilityFromChat(e);null!=a&&(0,o.isSMBLabelsDataSharingEnabledForChats)()&&t.forEach((e=>{new c.CtwaLabelSignalWamEvent((0,r.default)({ctwaLabelSignalVersion:1,ctwaLabelTarget:m.CTWA_LABEL_TARGET.CHAT,ctwaLabelType:e,deepLinkConversionData:a.data,deepLinkConversionSource:a.source},b(n))).commit()}))})(e,a,n)})))}};t.default=w},716910:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(967154)),l=n(952543),o=n(664149),i=n(675085),u=n(781035),d=n(180519),c=n(676345),s=n(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),p=a(n(156720));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h={borderTop:"kagi745y"},g=()=>s.fbt._("Standard quality",null,{hk:"1Hev22"}),E=()=>s.fbt._("HD quality",null,{hk:"1Jkxk6"}),y=()=>s.fbt._("HD photos are clearer. Standard photos use less storage space and are faster to send.",null,{hk:"2p0R8d"});function v(e){let{height:t,size:n,title:a,width:r}=e;return f.default.createElement("div",null,f.default.createElement(d.TextDiv,{theme:"title"},a),null!=n&&null!=r&&null!=t&&f.default.createElement(d.TextDiv,{theme:"plain",color:"secondary"},s.fbt._("{filesize} · {width} x {height}",[s.fbt._param("filesize",(0,u.getL10nFilesize)(n)),s.fbt._param("width",r),s.fbt._param("height",t)],{hk:"18YN3K"})))}function C(e,t){const{selectedQuality:n,onChangeQuality:a}=e,u=(0,f.useCallback)((()=>{n!==l.MediaQuality.Standard&&a(l.MediaQuality.Standard)}),[a,n]),s=(0,f.useCallback)((()=>{n!==l.MediaQuality.HD&&a(l.MediaQuality.HD)}),[a,n]),m=e.metadataByQuality.get(l.MediaQuality.HD),C=e.metadataByQuality.get(l.MediaQuality.Standard);return f.default.createElement(o.Dropdown,{ref:t,flipOnRTL:!0,type:o.MenuType.Dropdown,testid:"hd-photo-dropdown"},f.default.createElement(i.DropdownItem,{addSpacing:!0,fixedHeight:!1,xstyle:[c.uiPadding.top16,c.uiPadding.bottom16],selected:n===l.MediaQuality.Standard,testid:"hd-photo-dropdown-item-standard-quality",action:u},f.default.createElement(v,(0,r.default)({},C,{title:g()}))),f.default.createElement(i.DropdownItem,{addSpacing:!0,fixedHeight:!1,xstyle:[c.uiPadding.top16,c.uiPadding.bottom16],selected:n===l.MediaQuality.HD,testid:"hd-photo-dropdown-item-hd-quality",action:s},f.default.createElement(v,(0,r.default)({},m,{title:E()}))),f.default.createElement(d.TextDiv,{theme:"muted",className:(0,p.default)(h,c.uiPadding.top16,c.uiPadding.start16,c.uiPadding.end16,c.uiPadding.bottom7)},y()))}v.displayName="DropdownItemContent";var b=(0,f.forwardRef)(C);t.default=b},306961:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getNewsletterDirectoryList=function(e){return(0,d.createNonPersistedJob)("getNewsletterDirectoryList",(0,l.default)((function*(){const t={view:e.view,countryCodes:e.countryCodes},n=null==e.cursorToken||""===e.cursorToken;if(n){const e=yield(0,s.getCachedDirectoryNewsletterPage)(t);if(null!=e)return e}const a=yield(0,i.getNewsletterDirectoryListQuery)(e);return n&&(0,s.setCachedDirectoryNewsletterPage)(t,a),f(a.newsletters),a})),{priority:o.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()},t.getNewsletterDirectorySearchResults=function(e){return(0,d.createNonPersistedJob)("getNewsletterDirectorySearchResults",(0,l.default)((function*(){const t=yield(0,i.getNewsletterDirectorySearchResultsQuery)(e);return f(t.newsletters),t})),{priority:o.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()},t.getRecommendedNewsletters=function(e){return(0,d.createNonPersistedJob)("getRecommendedNewsletters",(0,l.default)((function*(){const t=yield(0,s.getCachedRecommendedNewsletters)();if(null!=t)return t;const{newsletters:n}=yield(0,i.getRecommendedNewslettersQuery)(20,[e]);return yield(0,s.setCachedRecommendedNewsletters)(n),n})),{priority:o.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()};var r=a(n(81109)),l=a(n(348926)),o=n(775593),i=n(111597),u=n(787671),d=n(899137),c=n(876358),s=n(803214);function f(){return p.apply(this,arguments)}function p(){return(p=(0,l.default)((function*(e){try{const t=e.reduce(((e,t)=>{var n;return e.set(t.idJid,{size:null===(n=t.newsletterSubscribersMetadataMixin)||void 0===n?void 0:n.subscribersCount})}),new Map),n=(yield(0,c.getNewsletterMetadataTable)().bulkGet(e.map((e=>e.idJid))).then((e=>e.filter(Boolean)))).map((e=>(0,r.default)({id:e.id},t.get(e.id))));yield(0,u.updateNewsletterMetadata)(n)}catch(e){__LOG__(4,void 0,new Error)`[searchNewsletterDirectory] failed to update db records`}}))).apply(this,arguments)}},111597:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getNewsletterDirectoryListQuery=function(){return m.apply(this,arguments)},t.getNewsletterDirectorySearchResultsQuery=function(){return h.apply(this,arguments)},t.getRecommendedNewslettersQuery=function(){return f.apply(this,arguments)},t.toDirectoryNewsletterMetadataTypes=p;var r=a(n(348926)),l=n(984330),o=n(48149),i=n(623585),u=n(206281),d=n(849342),c=n(716652),s=n(408818);function f(){return(f=(0,r.default)((function*(e,t){var n,a;const r=yield(0,c.runWithErrorHandler)((()=>(0,u.mexFetchRecommendedNewsletters)(e,t))),l=p(null===(n=r.xwa2_newsletters_recommended)||void 0===n?void 0:n.result,"recommended_newsletters");return{pageInfo:null===(a=r.xwa2_newsletters_recommended)||void 0===a?void 0:a.page_info,newsletters:l}}))).apply(this,arguments)}function p(e,t){if(null!=e)return e.map((e=>{const t=(0,d.parseMexNewsletterResponse)(e);if(null!=t)return function(e){const{idJid:t,newsletterCreationTimeMetadataMixin:n,newsletterNameMetadataMixin:a,newsletterPictureMetadataMixin:r,newsletterDescriptionMetadataMixin:l,newsletterInviteLinkMetadataMixin:o,newsletterHandleMetadataMixin:i,newsletterSubscribersMetadataMixin:u,newsletterPrivacyMetadataMixin:d,newsletterVerificationMetadataMixin:c}=e;return{idJid:t,newsletterCreationTimeMetadataMixin:n,newsletterNameMetadataMixin:a,newsletterPictureMetadataMixin:r,newsletterDescriptionMetadataMixin:l,newsletterInviteLinkMetadataMixin:o,newsletterHandleMetadataMixin:i,newsletterSubscribersMetadataMixin:u,newsletterPrivacyMetadataMixin:d,newsletterVerificationMetadataMixin:c}}(t);throw new l.ServerStatusCodeError(500,"unexpected null mex newsletter metadata")}));throw new l.ServerStatusCodeError(500,`unexpected ${t} response`)}function m(){return(m=(0,r.default)((function*(e){const t=function(){var t=(0,r.default)((function*(){var t,n;const a=yield(0,c.runWithErrorHandler)((0,r.default)((function*(){return(0,o.mexFetchNewsletterDirectoryList)(e)}))),l=p(null===(t=a.xwa2_newsletters_directory_list)||void 0===t?void 0:t.result,"directory_v2_list_newsletters");return{pageInfo:null===(n=a.xwa2_newsletters_directory_list)||void 0===n?void 0:n.page_info,newsletters:l}}));return function(){return t.apply(this,arguments)}}();return(0,s.runWithBackoff)(t)}))).apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){const t=function(){var t=(0,r.default)((function*(){var t,n;const a=yield(0,c.runWithErrorHandler)((0,r.default)((function*(){return(0,i.mexFetchNewsletterDirectorySearchResults)(e)}))),l=p(null===(t=a.xwa2_newsletters_directory_search)||void 0===t?void 0:t.result,"directory_v2_search_newsletter");return{pageInfo:null===(n=a.xwa2_newsletters_directory_search)||void 0===n?void 0:n.page_info,newsletters:l}}));return function(){return t.apply(this,arguments)}}();return(0,s.runWithBackoff)(t)}))).apply(this,arguments)}},717821:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=a(n(692629)),o=n(780549),i=n(949359),u=a(n(908081)),d=a(n(324093)),c=n(626194),s=a(n(969358)),f=n(690495),p=a(n(99398)),m=n(782785),h=n(73225),g=n(588792),E=n(511696),y=n(202391),v=n(937001),C=n(625786),b=n(390737),w=n(454905),_=n(676345),S=n(269430),M=n(460416),k=n(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),O=a(n(156720));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const x={channelMetadataSection:{display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"o4u7okr9",width:"ln8gz9je"}},I=()=>{},R=()=>P.default.createElement(C.Toast,{msg:k.fbt._("The channel couldn't be created. Please try again.",null,{hk:"1GotOP"})}),L=()=>P.default.createElement(C.Toast,{msg:k.fbt._("Channel could not be created. Check your internet connection and try again.",null,{hk:"3VKGRb"})}),N=(0,P.forwardRef)(((e,t)=>{const[n,a]=(0,P.useState)(!1),[C,T]=(0,P.useState)(""),[N,D]=(0,P.useState)(null),[A,j]=(0,P.useState)(null),{adminFunnelLogger:F}=e,B=(0,P.useRef)(""),W=(0,P.useRef)(null),H=[_.uiPadding.horiz32,_.uiPadding.bottom28];(0,P.useEffect)((()=>{F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_CREATE_LAUNCH_SUCCESS)}),[]);const U=(0,P.useCallback)((e=>{F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_FAILURE),b.ToastManager.open(e())}),[F]),z=function(){var e=(0,r.default)((function*(e){a(!0);const t=yield(0,m.createNewsletterAction)(e);a(!1),null!=t?(F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_SUCCESS),o.Cmd.openCreatedNewsletter(t)):U(R)}));return function(){return e.apply(this,arguments)}}(),G=(0,P.useCallback)((e=>{let{text:t}=e;T(t)}),[]),q=(0,P.useCallback)((e=>{let{text:t}=e;D(t)}),[]),V=(0,P.useCallback)(((e,t,n)=>{j(t),F.logImageSetEvent(n)}),[F]),Y=C.trim().length>0,K=()=>{C!==B.current&&(B.current=C,F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_NAME_SET))},X=()=>{N!==W.current&&(W.current=N,F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_DESCRIPTION_SET))},Z=()=>{var e;K(),X(),F.logEvent(S.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP),e={name:C,description:N,picture:A},p.default.online?z(e):U(L)},Q=P.default.createElement(f.FlexRow,{align:"center",justify:"center",xstyle:_.uiPadding.bottom32},P.default.createElement(l.default,{testid:"create-newsletter-button",type:"primary",onClick:Z,disabled:!Y||n,spinner:n},(0,i.getCreateChannelText)())),J=k.fbt._("Channel name",null,{hk:"F1L9d"}),$=k.fbt._("Describe your channel. Include information to help people understand what your channel is about.",null,{hk:"1C1bm1"}),ee=k.fbt._("Channel description",null,{hk:"1Uj20p"});return P.default.createElement(u.default,{ref:t,testid:"create-newsletter-drawer",tsNavigationData:(0,h.isNewsletterTSLEnabled)()?{surface:"channel-create-page",extras:{threadType:M.THREAD_TYPE.CHANNEL}}:void 0},P.default.createElement(c.DrawerHeader,{title:k.fbt._("New channel",null,{hk:"2xweuy"}),type:(0,w.topMenuRedesignEnabled)()?c.DRAWER_HEADER_TYPE.SMALL:c.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),P.default.createElement(d.default,null,P.default.createElement(s.default,{theme:"full-height",xstyle:x.channelMetadataSection},P.default.createElement("div",null,P.default.createElement("div",{className:(0,O.default)(_.uiPadding.top28,...H)},P.default.createElement(E.PhotoPickerLoadable,{type:g.PhotoPickerType.NEWSLETTER,attachToChat:!1,startImage:A,onImageSet:V})),P.default.createElement("div",{className:(0,O.default)(...H)},P.default.createElement(y.RichTextField,{testid:"newsletter-name-input",title:J,value:C,maxLength:v.ServerProps.maxSubject,showRemaining:!0,onChange:G,onBlur:K,placeholder:J,onEnter:Y?Z:I,supportsEmoji:!0,focusOnMount:!0})),P.default.createElement("div",{className:(0,O.default)(...H)},P.default.createElement(y.RichTextField,{testid:"newsletter-description-input",title:$,value:N,maxLength:v.ServerProps.groupDescLength,showRemaining:!0,onChange:q,onBlur:X,placeholder:ee,inputPlaceholder:$,onEnter:Y?Z:I,supportsEmoji:!0,multiline:!0,maxVisibleLines:5,minVisibleLines:5,textFormatEnabled:!0,bulletPointsEnabled:!0,theme:"gray-background"}))),Q)))}));N.displayName="NewNewsletterInfoDrawer";var D=N;t.default=D},600815:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryMenuDropdown=void 0;var r=n(949359),l=n(937069),o=n(664149),i=n(675085),u=n(695431),d=n(676345),c=n(851488),s=n(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),p=a(n(156720));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h={options:{minWidth:"rt0vj72k"}},g=(0,f.forwardRef)(((e,t)=>{let{selectedSortField:n,onSortFieldChange:a,directoryFunnelLogger:m}=e;const g=f.default.createElement("div",{className:(0,p.default)(d.uiPadding.top15,d.uiPadding.horiz24,d.uiPadding.bottom12)},f.default.createElement(c.WDSTextTitle,null,s.fbt._("Sort",null,{hk:"1LL27S"}))),E=(e,t,n)=>{e.preventDefault(),a(t,n),(e=>{m.logSortAction(e)})(t)},y=l.DIRECTORY_SORT_FIELD_OPTIONS.map((e=>f.default.createElement(i.DropdownItem,{key:`newsletter-directory-tab-overflow-menu-${e.sortField}`,action:t=>{E(t,e.sortField,e.sortOrder)},testid:`newsletter-directory-overflow-menu-${e.sortField}`},f.default.createElement(u.RadioWithLabel,{name:"sort-field",value:e.sortField,label:f.default.createElement(c.WDSTextSmall,{color:"primary"},(0,r.getNewsletterDirectorySortOptionLabel)(e.sortField)),checked:n===e.sortField,onChange:()=>{},xstyle:[h.options,d.uiPadding.horiz24]}))));return f.default.createElement(o.Dropdown,{ref:t,type:o.MenuType.DropdownMenu,key:"NewsletterDirectoryMenuDropdown",flipOnRTL:!0,dirX:o.DirX.LEFT,testid:"newsletter-directory-menu-dropdown"},g,y)}));t.NewsletterDirectoryMenuDropdown=g,g.displayName="NewsletterDirectoryMenuDropdown"},533393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterTabMenuDropdown=void 0;var a=n(949359),r=n(664149),l=n(675085),o=n(73225),i=n(320390),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const c=(0,u.forwardRef)(((e,t)=>{let{onCreateNewsletter:n,onNewsletterDirectorySearch:d}=e;const c=[],s=(0,u.useCallback)((()=>{d(i.CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_MENU)}),[d]);return(0,o.isNewsletterCreationEnabled)()&&c.push(u.default.createElement(l.DropdownItem,{key:"newsletter-tab-overflow-menu-create-channel",action:n,testid:"newsletter-overflow-menu-create-channel"},(0,a.getCreateChannelText)())),(0,o.isNewsletterDirectoryEnabled)()&&c.push(u.default.createElement(l.DropdownItem,{key:"newsletter-tab-overflow-menu-find-channels",action:s,testid:"newsletter-overflow-menu-find-channels"},(0,a.getFindNewslettersText)())),u.default.createElement(r.Dropdown,{ref:t,type:r.MenuType.DropdownMenu,key:"NewsletterMenuDropdown",flipOnRTL:!0,dirX:r.DirX.LEFT,testid:"newsletter-menu-dropdown"},c)}));t.NewsletterTabMenuDropdown=c,c.displayName="NewsletterTabMenuDropdown"},782785:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createNewsletterAction=function(e){return l.newsletterCreationQueue.enqueue((0,r.default)((function*(){const t=yield(0,i.createNewsletter)(e);if(null==t)return __LOG__(4,void 0,new Error,void 0,["newsletter"])`[newsletter][createNewsletterAction] failed to create newsletter`,null;const{newsletter:n,msgs:a}=t,{chat:r,metadata:l,pic:c}=(0,u.mapNewsletterToModels)(n);return yield o.NewsletterBridgeApi.joinNewsletter({newsletter:r,metadata:l,pic:c,msgs:a}),(0,d.toNewsletterWid)((0,d.createWid)(r.id.toString()))})))};var r=a(n(348926)),l=n(309570),o=n(549142),i=n(800413),u=n(14291),d=n(669050)},929638:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNewsletterDirectories=function(){return f.apply(this,arguments)},t.getNewsletterDirectoryListAction=m,t.getNewsletterDirectorySearchResultsAction=g,t.getRecommendedNewslettersAction=function(){return p.apply(this,arguments)};var r=a(n(348926)),l=n(936327),o=n(549142),i=a(n(358533)),u=n(306961),d=n(73225),c=n(14291),s=n(459857);function f(){return(f=(0,r.default)((function*(e){let{searchText:t,countryCodes:n,view:a,cursorToken:r}=e;const l=(0,d.getNewsletterDirectoryPageSize)();return""!==t.trim()?g({searchText:t,limit:l,cursorToken:r}):m({view:a,limit:l,countryCodes:n,cursorToken:r})}))).apply(this,arguments)}function p(){return(p=(0,r.default)((function*(){__LOG__(2)`[newsletters][getRecommendedNewslettersAction] Start`;const e=(0,l.getCountryCodeIso)((0,s.getMeUser)().user),t=yield(0,u.getRecommendedNewsletters)(e),n=yield y(t,{skipSubscribedNewsletters:!0});return __LOG__(2)`[newsletters][getRecommendedNewslettersAction] End`,n}))).apply(this,arguments)}function m(){return h.apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){__LOG__(2)`[newsletters][getNewsletterDirectoryListAction] Start`;const{pageInfo:t,newsletters:n}=yield(0,u.getNewsletterDirectoryList)(e),a=yield y(n,{skipSubscribedNewsletters:(0,d.isFilteringOutSubscribedNewslettersFromDirectoryListEnabled)()});return __LOG__(2)`[newsletters][getNewsletterDirectoryListAction] End`,{pageInfo:t,newsletters:a}}))).apply(this,arguments)}function g(){return E.apply(this,arguments)}function E(){return(E=(0,r.default)((function*(e){__LOG__(2)`[newsletters][getNewsletterDirectorSearchResultsAction] Start`;const{pageInfo:t,newsletters:n}=yield(0,u.getNewsletterDirectorySearchResults)(e),a=yield y(n,{skipSubscribedNewsletters:!1});return __LOG__(2)`[newsletters][getNewsletterDirectorSearchResultsAction] End`,{pageInfo:t,newsletters:a}}))).apply(this,arguments)}function y(){return v.apply(this,arguments)}function v(){return(v=(0,r.default)((function*(e,t){try{const{skipSubscribedNewsletters:n}=t,a=e.map((e=>{var t;const a=i.default.get(e.idJid);return!1===(null==a||null===(t=a.newsletterMetadata)||void 0===t?void 0:t.isPreview)?(w(a,e),n?Promise.resolve(null):Promise.resolve(a)):C(e)}));return(yield Promise.all(a)).filter(Boolean)}catch(e){throw __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter][getDirectoryNewsletterChats] Failed to retrieve directory newsletter chats`,SEND_LOGS("newsletter-failed-to-search-newsletter-directory",1,"newsletter"),e}}))).apply(this,arguments)}function C(){return b.apply(this,arguments)}function b(){return(b=(0,r.default)((function*(e){var t;const n=(0,c.mapDirectoryNewsletterToChat)(e),a=(0,c.mapDirectoryNewsletterToMetadata)(e),r=null===(t=e.newsletterPictureMetadataMixin)||void 0===t?void 0:t.picture,l=null!=r?(0,c.mapPicturesToProfilePicThumb)(e.idJid,r):null;return yield o.NewsletterBridgeApi.loadNewsletterPreviewChat({newsletter:n,metadata:a,pic:l})}))).apply(this,arguments)}function w(e,t){var n;const a=(0,c.mapNewsletterToMetadata)((0,c.convertDirectoryNewsletterMetadataToNewsletterMetadata)(t));null===(n=e.newsletterMetadata)||void 0===n||n.set(a,{merge:!0})}},914815:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.openNewsletterChat=void 0;var r=n(338042),l=n(780549),o=n(877171),i=n(666755),u=n(114850),d=n(73225),c=n(110113),s=n(604475),f=a(n(667294));t.openNewsletterChat=e=>{const{newsletter:t,onSelect:n}=e;null==n||n(),u.ModalManager.open(f.default.createElement(s.PDFNModal,{pdfnId:parseInt((0,d.getNewsletterConsumerTos)(),10),verifyTosAccepted:c.hasAcceptedNewsletterTos,runIfTosAccepted:()=>l.Cmd.openChatFromUnread(t,r.ChatEntryPoint.NewsletterChatlist).then((e=>(e&&(i.ConversationPanelActions.focus(),o.ComposeBoxActions.focus(t)),t)))}))}},867641:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(498913)),l=n(518024),o=n(690495),i=n(676345),u=a(n(667294));a(n(156720));const d={cellHeight:{minHeight:"nhwamvof"},container:{backgroundColor:"ihvf49ua",height:"ppled2lx"}};function c(){return u.default.createElement(o.FlexRow,{align:"center",xstyle:d.cellHeight},u.default.createElement(l.CircleShimmer,{diameter:49,xstyle:i.uiMargin.end15}),u.default.createElement(o.FlexColumn,null,u.default.createElement(l.RectangleShimmer,{height:12,width:139,xstyle:i.uiMargin.bottom12}),u.default.createElement(l.RectangleShimmer,{height:10,width:75})))}function s(e){let{count:t}=e;return u.default.createElement(o.FlexColumn,{xstyle:d.container},(0,r.default)(t,(e=>u.default.createElement(o.FlexColumn,{align:"start",xstyle:[i.uiMargin.horiz13,i.uiMargin.vert12],key:e},u.default.createElement(c,null)))))}c.displayName="NewsletterDirectoryShimmerSingleItem",s.displayName="NewsletterDirectoryShimmer"},204311:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(n(498913)),l=n(518024),o=n(690495),i=n(676345),u=a(n(667294));a(n(156720));const d={outerContainer:{width:"pbjvmppa",boxSizing:"cm280p3y",borderTop:"swyb62mu"}};function c(e){let{count:t}=e;return u.default.createElement(o.FlexColumn,null,(0,r.default)(t,(e=>u.default.createElement(o.FlexColumn,{align:"start",xstyle:[i.marginHoriz13,i.paddingVert12,d.outerContainer],key:e},u.default.createElement(o.FlexRow,{align:"center",justify:"start",xstyle:i.marginBottom5},u.default.createElement(l.CircleShimmer,{diameter:36,xstyle:i.marginEnd12}),u.default.createElement(l.RectangleShimmer,{width:108,height:12})),u.default.createElement(o.FlexColumn,{align:"start"},u.default.createElement(l.RectangleShimmer,{width:308,height:10,xstyle:i.marginTop5}),u.default.createElement(l.RectangleShimmer,{width:238,height:10,xstyle:[i.marginTop10,i.marginBottom28]}))))))}c.displayName="NewsletterInboxShimmer"},766298:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterRecommendationsBlockShimmer=h,t.NewsletterRecommendationsRowShimmer=p,t.NewsletterRecommendationsShimmerSingleItem=f;var r=a(n(498913)),l=n(518024),o=n(690495),i=n(73225),u=n(196815),d=n(59849),c=n(676345),s=a(n(667294));function f(e){let{xstyle:t}=e;return s.default.createElement(o.FlexColumn,{align:"center",xstyle:t},s.default.createElement(l.CircleShimmer,{diameter:64,xstyle:c.uiMargin.bottom8}),s.default.createElement(l.RectangleShimmer,{height:20,width:72}))}function p(e){let{count:t}=e;return s.default.createElement(o.FlexRow,{align:"center",xstyle:[c.uiMargin.horiz9,c.uiMargin.top7],shrink:0,justify:"evenly",columnGap:12,rowGap:32,wrap:"wrap"},(0,r.default)(t,(()=>s.default.createElement(o.FlexItem,{shrink:0},s.default.createElement(f,null)))))}function m(e){let{count:t}=e;return(0,i.isRecommendedUnitV2Enabled)()?s.default.createElement(o.FlexColumn,{rowGap:8,align:"center",xstyle:c.uiMargin.top16},(0,r.default)(t,(()=>s.default.createElement(o.FlexRow,{columnGap:8},s.default.createElement(d.NewsletterRecommendedItemShimmer,null),s.default.createElement(d.NewsletterRecommendedItemShimmer,null),s.default.createElement(d.NewsletterRecommendedItemShimmer,null))))):s.default.createElement(o.FlexRow,{xstyle:c.uiMargin.top24,justify:"center"},s.default.createElement(o.FlexColumn,null,(0,r.default)(t,(e=>s.default.createElement(o.FlexRow,{xstyle:c.uiMargin.vert16,align:"center",key:e},s.default.createElement(f,{xstyle:c.uiMargin.end10}),s.default.createElement(f,{xstyle:c.uiMargin.horiz10}),s.default.createElement(f,{xstyle:c.uiMargin.horiz10}),s.default.createElement(f,{xstyle:c.uiMargin.start10}))))))}function h(e){let{count:t}=e;return s.default.createElement(o.FlexColumn,{xstyle:c.uiMargin.top24,align:"center"},s.default.createElement(u.RecommendedNewsletterBlockHeading,null),s.default.createElement(m,{count:t}))}f.displayName="NewsletterRecommendationsShimmerSingleItem",p.displayName="NewsletterRecommendationsRowShimmer",m.displayName="RecommendedBlockShimmer",h.displayName="NewsletterRecommendationsBlockShimmer"},688601:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useNewsletterDirectoryResults=function(e){let{sortField:t,sortOrder:n,searchText:a,newsletterDirectoryFunnelLogger:s,countryCode:f,listView:p,filterSubscribedNewsletters:m}=e;const h=(0,d.useRef)(""),g=(0,d.useRef)(!1),[E,y]=(0,d.useState)([]),[v,C]=(0,d.useState)(!1),[b,w]=(0,d.useState)(!1),[_,S]=(0,d.useState)(!1),M=(0,c.default)(l.default,"change:online",(()=>!l.default.online)),k=(0,d.useCallback)((()=>{const e=a.trim(),l=""!==e;return s.setSearchMode(l),(0,o.fetchNewsletterDirectories)({countryCodes:""===f?[]:[f],sortOpts:{field:t,order:n},searchText:e,view:p,cursorToken:h.current}).then((e=>{var t;let{newsletters:n,pageInfo:a}=e;h.current=null!==(t=null==a?void 0:a.endCursor)&&void 0!==t?t:"",g.current=!0===(null==a?void 0:a.hasNextPage);return((e,t,n)=>{if(null==e)return[];return e.map(((e,a)=>({type:"NEWSLETTER_DIRECTORY_CELL",itemKey:`newsletter-${e.id.toString()}`,newsletter:e,chatEntryPoint:t,index:a,directoryFunnelLogger:n})))})(!0===m?n.filter((e=>(0,u.iAmGuest)(e.newsletterMetadata))):n,l?r.ChatEntryPoint.NewsletterDirectorySearch:r.ChatEntryPoint.NewsletterDirectory,s)})).catch((e=>{throw s.logServerError(),e}))}),[f,h,g,p,s,a,t,n,m]),P=(0,d.useCallback)((()=>{M||v||(S(!0),h.current="",g.current=!1,k().then(y).catch((()=>{C(!0)})).finally((()=>{S(!1)})))}),[M,v,h,g,k]),O=(0,d.useCallback)((()=>{w(!0),k().then((e=>{y([...E,...e])})).finally((()=>{w(!1)}))}),[k,E]),T=(0,d.useCallback)((()=>(0,i.isNewsletterDirectoryPaginationEnabled)()&&!0===g.current&&!b),[g,b]),x=(0,d.useCallback)((()=>(0,i.isNewsletterDirectoryPaginationEnabled)()&&g.current),[g]);return[E,T,P,O,x,_,v,C]};var r=n(338042),l=a(n(99398)),o=n(929638),i=n(73225),u=n(751460),d=n(667294),c=a(n(524578))},441625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNewsletterInboxSearch=function(e){let{filteredText:t,selectedFilter:n}=e;return(0,l.useCallback)((e=>{const l=""!==t.trim();return e.filter((e=>{if(!e.isNewsletter||null==e)return!1;if(l){var o;return function(e,t){var n,a;const r=null===(n=e.newsletterMetadata)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.toLocaleLowerCase();if(null==r||""===r||null==t||""===t)return!1;return r.includes(t)}(e,null==t||null===(o=t.toLocaleLowerCase())||void 0===o?void 0:o.trim())}switch(n){case a.NewsletterInboxFilterTypes.MyChannels:return(0,r.iAmAdminOrOwner)(null==e?void 0:e.newsletterMetadata);case a.NewsletterInboxFilterTypes.Unread:return e.optimisticUnreadCount>0||e.shouldShowUnreadDivider;case a.NewsletterInboxFilterTypes.All:return!0}}))}),[t,n])};var a=n(927531),r=n(751460),l=n(667294)},862154:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useRecommendedNewsletters=function(){const[e,t]=(0,l.useState)([]),n=(0,l.useRef)([]),[a,i]=(0,l.useState)(!1),u=(0,o.default)(),d=(0,l.useCallback)((()=>{t(n.current.filter((e=>{var t;return!1===e.isSuspendedOrTerminated()&&!0===(null===(t=e.newsletterMetadata)||void 0===t?void 0:t.isPreview)})))}),[]);return(0,l.useEffect)((()=>{a||u.aborted||(i(!0),(0,r.getRecommendedNewslettersAction)().then((e=>{u.aborted||(n.current=e,d())})).finally((()=>{u.aborted||i(!1)})))}),[]),[a,e]};var r=n(929638),l=n(667294),o=a(n(895851))},784845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logNewsletterMessagForward=function(e,t){var n,o;const i=(0,r.getIsNewsletterMsg)(e)?e.id.remote:null===(n=e.forwardedNewsletterMessageInfo)||void 0===n?void 0:n.newsletterId,u=e.getWamMediaType(),d=(0,r.getIsNewsletterMsg)(e)?e.serverId:null===(o=e.forwardedNewsletterMessageInfo)||void 0===o?void 0:o.serverMessageId;for(const e of t){const t=(0,a.getMessageChatTypeFromWid)(e.id);new l.PsChannelPostForwardWamEvent({cid:null==i?void 0:i.user,channelForwardGroupType:t,mediaType:u,postId:null==d?void 0:d.toString()}).commit()}};var a=n(859458),r=n(787742),l=n(321575)},889534:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryFunnelLogger=void 0,t.getNewsletterActionFromSortField=m,t.getNewsletterSelectedPill=h;var r=a(n(81109)),l=n(920769),o=n(937069),i=n(509169),u=n(772787),d=n(73225),c=n(288990),s=n(715919),f=n(318093),p=n(669050);function m(e){switch(e){case o.NewsletterDirectorySortField.CreationTime:return c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SORT_BY_RECENTLY_ADDED;case o.NewsletterDirectorySortField.Subscribers:return c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SORT_BY_POPULARITY}}function h(e){switch(e){case u.NewsletterDirectoryListView.Recommended:return f.CHANNEL_DIRECTORY_PILL_SELECTED.RECOMMENDED;case u.NewsletterDirectoryListView.New:return f.CHANNEL_DIRECTORY_PILL_SELECTED.NEW;case u.NewsletterDirectoryListView.Popular:return f.CHANNEL_DIRECTORY_PILL_SELECTED.POPULAR;case u.NewsletterDirectoryListView.Trending:return f.CHANNEL_DIRECTORY_PILL_SELECTED.TRENDING;case u.NewsletterDirectoryListView.Featured:return f.CHANNEL_DIRECTORY_PILL_SELECTED.FEATURED}}t.NewsletterDirectoryFunnelLogger=class{constructor(){this.sessionId=Math.round(1e9*Math.random()),this.eventSequence=0,this.searchMode=!1,i.NewsletterCoreEventLogger.setDirectorySessionId(this.sessionId)}_incrementEventSequence(){this.eventSequence+=1}setSearchMode(e){this.searchMode=e}logDirectoryOpen(e,t,n){let a=e;null==a&&(__LOG__(3)`[NewsletterDirectoryFunnelLogging] entrypoint is null`,a=void 0),this.logEvent({action:c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_OPEN_TAP,entryPoint:a}),this.logV2Event({action:c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_IMP,pillSelected:h(t),countrySelector:n,entryPoint:a,impReason:s.CHANNEL_DIRECTORY_IMP_REASON.NOT_APPLICABLE})}logDirectoryClose(){this.logEvent({action:c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_CLOSED_TAP})}logSearchTap(){this.searchMode||(this.logEvent({action:c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_TAP}),this.logV2Event({action:c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_IMP}))}logServerError(){this.logEvent({action:c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_SERVER_ERROR})}logViewChange(e,t){this._logDirectoryFilterChange(e,t,s.CHANNEL_DIRECTORY_IMP_REASON.PILL_SELECTION)}logRegionChange(e,t){this._logDirectoryFilterChange(e,t,s.CHANNEL_DIRECTORY_IMP_REASON.COUNTRY_SELECTION)}_logDirectoryFilterChange(e,t,n){this.searchMode||this.logV2Event({action:c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_IMP,pillSelected:h(e),countrySelector:t,impReason:n})}logSortAction(e){const t=m(e);this.logEvent({action:t})}_logNewsletterRowAction(e,t,n){try{this.logEvent({action:e,channelIndex:n,cid:(0,p.toNewsletterWid)(t).user})}catch(e){__LOG__(3)`[NewsletterDirectoryFunnelLogging] Could not log row actions: ${e}`}}logNavigateToNewsletterFromRow(e,t){this._logNewsletterRowAction(c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_NAVIGATE_TO_CHANNEL,e,t)}logNewsletterFollow(e,t){this._logNewsletterRowAction(c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_FOLLOW_TAP,e,t)}logNewsletterUnfollow(e,t){this._logNewsletterRowAction(c.CHANNEL_DIRECTORY_ACTION.DIRECTORY_UNFOLLOW_TAP,e,t)}logEvent(e){(0,d.isNewsletterDirectoryLoggingEnabled)()&&(this._logDirectoryFunnelEvent((0,r.default)({sessionId:this.sessionId,eventSequence:this.eventSequence,searchMode:this.searchMode},e)),this._incrementEventSequence())}logV2Event(e){var t;(0,d.isNewsletterDirectoryV2LoggingEnabled)()&&(this._logDirectoryFunnelEvent((0,r.default)({sessionId:this.sessionId,eventSequence:this.eventSequence,searchMode:this.searchMode,countrySelector:null==e.countrySelector?void 0:(t=e.countrySelector,""===t?"Global":t)},e)),this._incrementEventSequence())}_logDirectoryFunnelEvent(e){let{sessionId:t,eventSequence:n,action:a,channelIndex:r,cid:o,searchMode:i,entryPoint:u,pillSelected:d,countrySelector:c,impReason:s}=e;new l.ChannelDirectoryWamEvent({channelDirectorySessionId:t,channelDirectoryActionSequenceNumber:n,channelDirectoryAction:a,channelDirectoryEntryPoint:u,cid:o,searchMode:i,channelIndex:r,pillSelected:d,countrySelector:c,impReason:s}).commit()}}},337946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logNewsletterInboxSearchEvent=function(e){if(!(0,a.isNewsletterInboxSearchLoggingEnabled)())return;new r.UpdatesTabSearchWamEvent(e).commit()};var a=n(73225),r=n(926377)},899341:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterChatCell=y,t.NewsletterDirectoryCell=v;var r=n(700071),l=n(949359),o=n(23641),i=n(81644),u=n(21645),d=n(567049),c=n(914815),s=n(60249),f=n(219753),p=n(851488),m=n(548360),h=a(n(667294)),g=a(n(928361)),E=n(655241);function y(e){let{active:t,firstCellInList:n,heightStyle:a,newsletter:l,onSelect:o}=e;const[u,d]=(0,g.default)(t,`newsletter-local-${l.id.toString()}`),s=m.fbt._("{newsletter-name} Channel",[m.fbt._param("newsletter-name",l.formattedTitle)],{hk:"3uOLrU"}),f=e=>{e.preventDefault(),(0,c.openNewsletterChat)({newsletter:l,onSelect:o})};return h.default.createElement(i.HotKeys,{ref:u,handlers:{enter:f,space:f},"aria-label":s.toString(),role:"button"},h.default.createElement(r.Chat,{onClick:f,chat:l,forceActive:d,theme:"newsletter-cell",firstCellInList:n,noContext:!0,doNotBoldUnread:!0,hideArchivedIcon:!0,heightStyle:a,showNewsletterCheckmark:!1}))}function v(e){const{newsletter:t,onSelect:n,chatEntryPoint:a,index:r,directoryFunnelLogger:c}=e,[m,y]=(0,g.default)(e.active,`newsletter-${e.newsletter.id.toString()}`),v=(0,E.useOptionalModelValues)(t.newsletterMetadata,["name","size","inviteCode","isPreview"]);if(null==v)return null;const C=()=>{c.logNavigateToNewsletterFromRow(t.id,r),null==n||n(),(0,s.openNewsletterPreviewChat)(v.inviteCode,a)};return h.default.createElement(i.HotKeys,{ref:m,role:"button",handlers:{enter:C,space:C}},h.default.createElement(f.WDSCell,{active:y,onClick:C,colorScheme:"default",size:"large",border:!0===e.bottomItem?null:"bottom-partial",primary:h.default.createElement(p.WDSTextTitle,null,h.default.createElement(u.Name,{chat:t,ellipsify:!0})),secondary:h.default.createElement(p.WDSTextMuted,null,(0,l.getNewsletterFollowersText)(v.size)),detailLeft:h.default.createElement(o.DetailImage,{id:t.id,size:o.DetailImageSize.Small,quality:o.DetailImageQuality.Low,showOutline:!0}),detailRight:h.default.createElement(d.NewsletterFollowUnfollowButton,{iconSize:24,newsletter:t,newsletterIndexInDirectory:r,directoryFunnelLogger:c})}))}y.displayName="NewsletterChatCell",v.displayName="NewsletterDirectoryCell"},387406:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterChatItem=h;var r=n(338042),l=n(23641),o=n(690495),i=n(81644),u=n(60249),d=n(676345),c=n(851488),s=a(n(667294)),f=a(n(156720)),p=n(655241);const m={container:{width:"jgly3g7g",minHeight:"l2de57zk",cursor:"ajgl1lbb"},text:{width:"jgly3g7g",minHeight:"g4oj0cdv",textAlign:"qfejxiq4",overflowX:"gfz4du6o",overflowY:"r7fjleex",breakWord:"h4dsymob",textWrap:"inkpfgo1"}};function h(e){let{newsletter:t}=e;const n=(0,p.useOptionalModelValues)(t.newsletterMetadata,["name","inviteCode","verified"]);return null==n?null:s.default.createElement(i.HotKeys,{role:"button",onClick:()=>{(0,u.openNewsletterPreviewChat)(n.inviteCode,r.ChatEntryPoint.NewsLetterRecommendation)}},s.default.createElement(o.FlexColumn,{align:"center",xstyle:m.container},s.default.createElement(l.DetailImage,{id:t.id,size:64,checkmarkIcon:!0===(null==n?void 0:n.verified)?"chat-list":null,showOutline:!0}),s.default.createElement("div",{className:(0,f.default)(m.text,d.uiMargin.top8)},s.default.createElement(c.WDSTextSmall,{color:"primary",textWrap:"ellipsis"},null==n?void 0:n.name))))}h.displayName="NewsletterChatItem"},85517:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryDrawer=void 0;var r=n(949359),l=n(937069),o=a(n(908081)),i=a(n(324093)),u=n(626194),d=a(n(969358)),c=n(811720),s=a(n(395767)),f=n(387207),p=n(512938),m=a(n(570834)),h=a(n(335540)),g=n(914368),E=n(81644),y=n(936327),v=n(526795),C=a(n(99398)),b=n(509169),w=n(899341),_=n(835890),S=n(889534),M=n(600815),k=a(n(867641)),P=n(772787),O=n(73225),T=n(745170),x=a(n(237889)),I=n(931109),R=n(454905),L=n(676345),N=n(459857),D=n(460416),A=n(617425),j=n(548360),F=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),B=a(n(156720)),W=a(n(261716)),H=a(n(524578)),U=a(n(637660)),z=n(688601),G=a(n(28825));function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}const V={hotKeys:{height:"ppled2lx"},searchContainer:{height:"brqbuz94"},filtersContainer:{borderBottomColor:"mj87wc59",borderBottomStyle:"cmcp1to6",borderBottomWidth:"oteuebma"},drawer:{backgroundColor:"se2m7z6i"},errorMessageContainer:{marginTop:"jlwkizzp"}};function Y(){const{height:e}=(0,G.default)(),t=Math.floor(e/73)-2;return F.default.createElement(k.default,{count:t})}function K(){return F.default.createElement("div",{className:(0,B.default)(V.errorMessageContainer)},F.default.createElement(c.Empty,{text:(0,s.default)("No results found"),testid:"newsletter-directory-no-results",xstyle:L.uiPadding.vert18}))}function X(e){let{errorText:t,onRetry:n}=e;return F.default.createElement("div",{className:(0,B.default)(V.errorMessageContainer)},F.default.createElement(c.Empty,{text:t,testid:"directory-newsletter-error",xstyle:L.uiPadding.vert18},F.default.createElement(A.WDSButtonSimplified,{onClick:n,testid:"directory-error-try-again"},(0,s.default)("Try again"))))}function Z(e){let{data:t,onSelect:n,selectionRef:a}=e;return F.default.createElement(d.default,{shadow:!1,animation:!1},F.default.createElement(w.NewsletterDirectoryCell,{active:a,newsletter:t.newsletter,onSelect:()=>n(t),chatEntryPoint:t.chatEntryPoint,index:t.index,directoryFunnelLogger:t.directoryFunnelLogger}))}Y.displayName="DirectorySearch",K.displayName="NoDirectoryResults",X.displayName="DirectoryLoadError",Z.displayName="NewsletterDirectoryListItem";const Q=(0,p.FlatListFactory)(),J=(0,F.forwardRef)(((e,t)=>{const n=(0,F.useRef)(),a=(0,U.default)((()=>new m.default)),c=(0,F.useRef)(),p=(0,U.default)((()=>new x.default([],(e=>e.itemKey)))),[w,k]=(0,F.useState)(l.NewsletterDirectorySortField.Subscribers),A=(0,F.useRef)(0),G=(0,F.useRef)(!1),[q,J]=(0,F.useState)(l.NewsletterDirectorySortOrder.Descending),[$,ee]=(0,F.useState)((0,y.getCountryCodeIso)((0,N.getMeUser)().user)),[te,ne]=(0,W.default)((0,O.getNewsletterDirectorySearchDebounce)()),ae=(0,H.default)(C.default,"change:online",(()=>!C.default.online)),re=(0,F.useRef)(new S.NewsletterDirectoryFunnelLogger),le=(0,O.getNewsletterDirectoryV2FilterTypes)(),[oe,ie]=(0,F.useState)(P.NewsletterDirectoryListView.Recommended),ue=(0,F.useRef)(),de=(0,s.default)("Search"),ce=(0,F.useCallback)((()=>{n.current&&h.default.focus(n.current)}),[n]),[se,fe,pe,me,he,ge,Ee,ye]=(0,z.useNewsletterDirectoryResults)({countryCode:$,sortField:w,sortOrder:q,searchText:te,listView:oe,newsletterDirectoryFunnelLogger:re.current}),ve=(0,F.useCallback)((()=>{re.current.logSearchTap()}),[]),Ce=(0,F.useCallback)((()=>a.current.setScrollFromStart(0)),[a]);(0,F.useEffect)((()=>{pe(),Ce()}),[pe,Ce]),(0,F.useEffect)((()=>{0===p.current.list.length&&p.current.init(se)}),[p,se]),(0,F.useEffect)((()=>{ce()}),[ce]),(0,F.useEffect)((()=>{se.length&&!1===G.current&&(a.current.setScrollFromStart(0),G.current=!0)}),[se,a,e]),(0,F.useEffect)((()=>{const t=re.current;return t.logDirectoryOpen(e.entryPoint,oe,$),b.NewsletterCoreEventLogger.setDirectoryFilter((0,l.getNewsletterDirectoryFilterFromListView)(oe)),()=>{b.NewsletterCoreEventLogger.setDirectorySessionId(null),b.NewsletterCoreEventLogger.setDirectoryFilter(null),t.logDirectoryClose()}}),[]);const be=(0,F.useCallback)(((e,t)=>{k(e),J(t)}),[]),we=()=>{if(c.current){const t=p.current.value;if(null==t)return;const n=se.findIndex((e=>e.itemKey===t.itemKey));var e;if(-1!==n)null===(e=c.current)||void 0===e||e.scrollIntoViewIfNeeded(n,100)}},_e=e=>{p.current.setVal(e)},Se=(0,F.useCallback)((e=>{ie(e),b.NewsletterCoreEventLogger.setDirectoryFilter((0,l.getNewsletterDirectoryFilterFromListView)(e)),re.current.logViewChange(e,$)}),[$]),Me=(0,F.useCallback)((e=>{ee(e),re.current.logRegionChange(oe,e)}),[oe]),ke=(0,O.isNewsletterDirectoryV2Enabled)()?null:F.default.createElement(v.MenuBarItem,{tabOrder:I.TAB_ORDER.NEWSLETTER_TAB_HEADER,testid:"find-newsletters-dropdown-button",icon:F.default.createElement(f.FilterIcon,null),title:j.fbt._("Menu",null,{hk:"2xaXZl"})},F.default.createElement(M.NewsletterDirectoryMenuDropdown,{selectedSortField:w,onSortFieldChange:be,directoryFunnelLogger:re.current})),Pe=F.default.createElement(d.default,{shadow:!1,animation:!1,theme:"list-section",xstyle:V.searchContainer},F.default.createElement(T.DrawerSearchInput,{searchInputA11yLabel:de,placeholder:de,onSearch:ne,loading:ge,focusOnMount:!1,onFocus:ve})),Oe=(0,O.isNewsletterDirectoryV2Enabled)()?F.default.createElement(d.default,{shadow:!1,animation:!1,theme:"list-section",xstyle:V.filtersContainer},F.default.createElement(_.NewsletterDirectoryFilters,{xstyle:[L.uiPadding.horiz16,L.uiPadding.top2,L.uiPadding.bottom8],filters:le,selectedView:oe,selectedCountry:$,onViewSelect:Se,onRegionSelect:Me})):null,Te=F.default.createElement(F.default.Fragment,null,Pe,Oe);let xe;return xe=ae?F.default.createElement(X,{errorText:j.fbt._("WhatsApp can't search for channels right now. Please try again later",null,{hk:"1r8um1"}),onRetry:()=>{}}):Ee?F.default.createElement(X,{errorText:(0,r.getNoInternetConnectionText)(),onRetry:()=>ye(!1)}):se.length>0?F.default.createElement(Q,{ref:c,data:se,renderItem:e=>F.default.createElement(Z,{data:e,selectionRef:p.current,onSelect:_e}),flatListController:a.current,direction:"vertical",role:"navigation","aria-label":j.fbt._("Channel List",null,{hk:"MgvLU"}).toString()}):F.default.createElement(K,null),F.default.createElement(E.HotKeys,{ref:n,handlers:{down:e=>{if(0===se.length)return;null==e||e.preventDefault(),null==e||e.stopPropagation();const t=p.current.next();p.current.index!==t&&(p.current.setNext(!0),we())},up:e=>{if(0===se.length)return;null==e||e.preventDefault(),null==e||e.stopPropagation();p.current.prev()>-1&&(p.current.setPrev(!0),we())}},className:(0,B.default)(V.hotKeys),"aria-label":j.fbt._("Find channels drawer",null,{hk:"3wqW3J"})},F.default.createElement(o.default,{tsNavigationData:(0,O.isNewsletterTSLEnabled)()?{surface:"channel-directory-home",extras:{threadType:D.THREAD_TYPE.CHANNEL}}:void 0,ref:t,xstyle:V.drawer,testid:"find-newsletter-drawer"},F.default.createElement(u.DrawerHeader,{title:(0,r.getFindNewslettersText)(),type:(0,R.topMenuRedesignEnabled)()?u.DRAWER_HEADER_TYPE.SMALL:u.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,children:ke}),Te,F.default.createElement(i.default,{flatListControllers:[a.current],onScroll:e=>{var t;(A.current=e.currentTarget.scrollTop,null!=ue.current)&&((t=ue.current).scrollTop+g.SCROLL_FUDGE>=t.scrollHeight-t.clientHeight&&fe()&&me())},ref:ue},ge?F.default.createElement(Y,null):xe)))}));t.NewsletterDirectoryDrawer=J,J.displayName="NewsletterDirectoryDrawer"},835890:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryFilters=c;var r=n(949359),l=n(937069),o=n(690495),i=n(990276),u=n(488311),d=a(n(667294));function c(e){let{filters:t,onRegionSelect:n,onViewSelect:a,selectedCountry:c,selectedView:s,xstyle:f}=e;const p=(0,l.getNewsletterDirectoryFilterFromListView)(s),m=t.map(((e,t)=>{const o=`filter-${t}`;return e!==l.NewsletterDirectoryFilterType.Country?d.default.createElement(i.ListFilterButton,{key:o,label:(0,r.getNewsletterDirectoryFilterLabel)(e),selected:e===p,onClick:()=>{(e=>{const t=(0,l.getNewsletterDirectoryListViewFromFilter)(e);a(t)})(e)}}):d.default.createElement(u.NewsletterDirectoryRegionSelector,{key:o,selectedCountry:c,onSelectCountry:n})}));return d.default.createElement(o.FlexRow,{shrink:0,wrap:"wrap",rowGap:8,columnGap:8,xstyle:f},m)}c.displayName="NewsletterDirectoryFilters"},488311:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryRegionSelector=x;var r=a(n(348926)),l=n(34730),o=n(937337),i=n(974496),u=n(537469),d=n(811720),c=a(n(395767)),s=n(81644),f=n(936327),p=n(990276),m=n(114850),h=n(417696),g=n(695431),E=a(n(237889)),y=n(459857),v=n(219753),C=n(851488),b=a(n(286816)),w=n(548360),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),S=a(n(928361)),M=a(n(261716)),k=a(n(637660));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}const O=(0,h.ListModalFactory)();function T(){return(T=(0,r.default)((function*(){const e=yield(0,u.getCountries)({filter:u.COUNTRY_FILTER_TYPE.WHATSAPP_REGISTRATION});(0,i.isInternalUser)()&&e.unshift(["",b.default._("Global",null,{hk:"1YsP9l"}),void 0,void 0]);return{map:new Map(e),list:e.map((e=>{let[t,n]=e;return{code:t,name:n}}))}}))).apply(this,arguments)}function x(e){var t;let{onSelectCountry:n,selectedCountry:a}=e;const r=(0,f.getCountryCodeIso)((0,y.getMeUser)().user),[i,u]=(0,_.useState)({map:new Map,list:[]});(0,_.useEffect)((()=>{(function(){return T.apply(this,arguments)})().then(u).catch((e=>{__LOG__(4,!0,new Error)`[newsletter-directory-region-selector] Could not load country filter list: ${e}`}))}),[]);const{list:d,map:c}=i;return d.length>0?_.default.createElement(p.ListFilterButton,{label:null!==(t=c.get(a))&&void 0!==t?t:"",selected:r!==a,onClick:()=>{m.ModalManager.open(_.default.createElement(L,{countryList:d,selectedCountryCode:a,onSelect:e=>{let{code:t}=e;n(t)}}))},startIcon:_.default.createElement(l.BusinessWebsiteIcon,{width:16,height:16}),endIcon:_.default.createElement(o.CaretDownIcon,null)}):null}function I(){return _.default.createElement("div",null,_.default.createElement(d.Empty,{text:(0,c.default)("No results found"),testid:"newsletter-region-selector-no-results"}))}function R(e){let{active:t,country:n,onClick:a,selected:r}=e;const[l,o]=(0,S.default)(t,n.code),i=()=>{a(n)};return _.default.createElement(s.HotKeys,{ref:l,handlers:{enter:i,space:i},role:"button"},_.default.createElement(v.WDSCell,{active:o,onClick:i,colorScheme:"default",size:"large",border:"bottom-partial",primary:_.default.createElement(C.WDSTextTitle,null,n.name),detailLeft:_.default.createElement(g.Radio,{name:"region",checked:r,value:n.code,onChange:()=>{}})}))}function L(e){let{countryList:t,onSelect:n,selectedCountryCode:a}=e;const r=(0,k.default)((()=>new E.default([],(e=>e.itemKey)))),[l,o]=(0,M.default)(),i=(0,_.useMemo)((()=>{const e=t.filter((e=>{let{code:t,name:n}=e;if(""===l.trim())return!0;const a=l.toLowerCase();return t.toLowerCase()===a||n.toString().toLowerCase().startsWith(a)}));let n=-1;const o=e.map(((e,t)=>(e.code===a&&(n=t),{country:e,selected:e.code===a,itemKey:e.code.toString()})));return r.current.init(o),r.current.set(n,!0),o}),[t,l]),u=()=>{m.ModalManager.close()},d=e=>{n(e),u()};return _.default.createElement(O,{isNewsletter:!0,title:w.fbt._("Region",null,{hk:"ZyDcm"}),data:i,renderItem:e=>{let{country:t,selected:n}=e;return _.default.createElement(R,{country:t,selected:n,onClick:d,active:r.current})},onCancel:u,onSearch:o,emptyState:_.default.createElement(I,null),selection:r.current,scrollToInitialSelection:!0})}x.displayName="NewsletterDirectoryRegionSelector",I.displayName="NoSearchResults",R.displayName="CountryListItem",L.displayName="RegionSelectorModal"},830803:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterFailedBootstrap=f;var r=n(612462),l=a(n(395767)),o=n(690495),i=n(676345),u=n(617425),d=n(851488),c=n(548360),s=a(n(667294));function f(){return s.default.createElement(o.FlexContainer,{direction:"vertical",align:"center",justify:"center",xstyle:i.marginTop32},s.default.createElement(d.WDSTextTitle,{marginBottom:16},c.fbt._("Channels couldn't load. Please try again later.",null,{hk:"2v9uUk"})),s.default.createElement(u.WDSButtonPrimary,{onClick:()=>(0,r.bootstrapNewsletterBackend)()},(0,l.default)("Try again")))}f.displayName="NewsletterFailedBootstrap"},567049:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterFollowUnfollowButton=E;var r=n(603869),l=n(114850),o=n(751460),i=n(405473),u=n(970910),d=n(956113),c=n(220584),s=n(106645),f=a(n(625903)),p=n(874806),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=n(655241);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e){let{directoryFunnelLogger:t,iconSize:n,newsletter:a,newsletterIndexInDirectory:g}=e;const[E,y]=(0,m.useState)(!1),v=(0,h.useOptionalModelValues)(a.newsletterMetadata,["isPreview","membershipType"]);if(null==v)return null;if((0,o.iAmOwner)(v)||(0,o.iAmAdmin)(v))return null;if(E)return m.default.createElement(d.Spinner,{size:n,stroke:6,color:"highlight"});const C=v.isPreview?u.PlusLargeIcon:r.CheckmarkIcon;return m.default.createElement(f.default,{onClick:e=>{if(e.stopPropagation(),y(!0),v.isPreview){(0,i.subscribeToDirectoryNewsletter)(a,{eventSurface:t.searchMode?p.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY_SEARCH:p.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY}).finally((()=>{y(!1),t.logNewsletterFollow(a.id,g)}))}else l.ModalManager.open(m.default.createElement(s.UnfollowNewsletterConfirmationModal,{chat:a,eventSurface:t.searchMode?p.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY_SEARCH:p.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY})),y(!1),t.logNewsletterUnfollow(a.id,g)}},m.default.createElement(C,{width:n,height:n,color:c.SvgColorProp.TEAL_LIGHTER}))}E.displayName="NewsletterFollowUnfollowButton"},88136:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterInboxEmptySearchSection=x,t.NewsletterInboxEmptyUnreadSection=I,t.NewsletterInboxSearch=void 0,t.NewsletterInboxSearchFooter=T;var r=n(409623),l=n(927531),o=n(949359),i=a(n(969358)),u=n(811720),d=a(n(395767)),c=n(690495),s=n(81644),f=n(990276),p=n(73225),m=n(337946),h=n(751460),g=n(914815),E=n(676345),y=a(n(625903)),v=n(320390),C=n(243146),b=n(851488),w=n(548360),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),S=a(n(156720));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const k={searchContainer:{borderBottomColor:"mj87wc59",borderBottomStyle:"cmcp1to6",borderBottomWidth:"oteuebma"},inboxFilters:{position:"g0rxnol2",boxSizing:"cm280p3y",backgroundColor:"p51fsnpc"},emptyUnreadResult:{maxHeight:"mwp4sxku",boxSizing:"i5fuacyd"},searchFooterText:{lineHeight:"a4ywakfo",fontSize:"f8jlpxt4",color:"i8b0kslj"},semiBold:{fontWeight:"hnx8ox4h"},searchFooter:{textAlign:"qfejxiq4",boxSizing:"cm280p3y",borderTopColor:"cz500klw",borderTopStyle:"d1poss59",borderTopWidth:"gofg5ll1",minHeight:"pv1r9stl"}},P=_.default.forwardRef(O);function O(e,t){var n,a;let{filteredText:u,handleSearchChange:y,handleSelectNewsletter:v,listData:b,newsletters:w,selectedFilter:S,setSelectedFilter:M}=e;const[P,O]=(0,_.useState)(!1),T=(0,_.useRef)(),{followedChannelsCount:x,adminChannelsCount:I}=(e=>{const t={followedChannelsCount:0,adminChannelsCount:0};return e.forEach((e=>{(0,h.iAmSubscriber)(e.newsletterMetadata)?t.followedChannelsCount++:(0,h.iAmAdminOrOwner)(e.newsletterMetadata)&&t.adminChannelsCount++})),t})(w),R=(0,p.isNewsletterInboxFiltersEnabled)()?_.default.createElement(c.FlexRow,{shrink:0,wrap:"wrap",rowGap:8,columnGap:8,ref:T,style:{marginTop:P?-(null!==(n=null===(a=T.current)||void 0===a?void 0:a.clientHeight)&&void 0!==n?n:0)-8:0,transition:"margin-top 0.1s linear"},xstyle:[E.uiPadding.horiz12,E.uiMargin.bottom8,k.inboxFilters]},Array.from(l.NewsletterInboxFilterTypes.members()).map((e=>e===l.NewsletterInboxFilterTypes.MyChannels&&0===I?null:_.default.createElement(f.ListFilterButton,{key:e,label:(0,o.getChannelInboxFilterLabel)(e),onClick:()=>M(e),selected:S===e})))):null;return _.default.createElement(i.default,{shadow:!1,animation:!1,theme:"list-section",xstyle:k.searchContainer},_.default.createElement(s.HotKeys,{onBlur:()=>{""===u.trim()&&O(!1)}},_.default.createElement(r.ListSearch,{ref:t,placeholder:(0,d.default)("Search..."),onSearch:y,borderBottom:!1,onEnter:e=>{const t=0===b.length?null:b[0];null!=t&&"NEWSLETTER_CHAT_CELL"===t.type&&(e.preventDefault(),(0,g.openNewsletterChat)({newsletter:t.newsletter,onSelect:v(t)}))},onSearchInputFocus:()=>{""===u.trim()&&(P||""===u.trim()&&(0,m.logNewsletterInboxSearchEvent)({updateTabSearchEventType:C.UPDATE_TAB_SEARCH_EVENT_TYPE.SEARCH_TAP,channelsFollowedCount:x,channelsAdminCount:I}),M(l.NewsletterInboxFilterTypes.All),O(!0))},onBackButton:()=>{O(!1)}})),R)}function T(e){let{onNewsletterDirectorySearch:t}=e;return _.default.createElement(c.FlexRow,{xstyle:[E.uiPadding.horiz8,E.uiPadding.vert16,k.searchFooter],justify:"center"},_.default.createElement("span",{className:(0,S.default)(k.searchFooterText)},w.fbt._("Don't see the channel that you're looking for? Find more in the {channels_directory}",[w.fbt._param("channels_directory",_.default.createElement(b.WDSClickableText,{color:"teal",xstyle:k.semiBold,onClick:()=>t(v.CHANNEL_DIRECTORY_ENTRY_POINT.UPDATES_TAB_SEARCH)},"channels directory"))],{hk:"1nFQX2"})))}function x(){return _.default.createElement(u.Empty,{text:(0,d.default)("No results found")})}function I(e){let{setSelectedFilter:t}=e;return _.default.createElement(u.Empty,{title:(0,o.getNoUnreadChannelsFoundText)(),xstyle:k.emptyUnreadResult},_.default.createElement(y.default,{onClick:()=>t(l.NewsletterInboxFilterTypes.All)},_.default.createElement(b.WDSTextSectionTitle,{color:"teal"},(0,o.getViewAllChannelsText)())))}t.NewsletterInboxSearch=P,O.displayName="NewsletterInboxSearch_withRef",T.displayName="NewsletterInboxSearchFooter",x.displayName="NewsletterInboxEmptySearchSection",I.displayName="NewsletterInboxEmptyUnreadSection"},148281:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterTabFlow=w;var r=a(n(670983)),l=n(632157),o=n(900316),i=a(n(717821)),u=n(608637),d=a(n(358533)),c=n(85517),s=a(n(764635)),f=n(286832),p=n(246556),m=n(195627),h=n(803214),g=n(684259),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),y=a(n(524578)),v=n(839062),C=n(808446);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e){const t=(0,E.useRef)(0),{onBack:n,initialStep:a=f.NewsletterTabFlowStep.NewsletterTab,adminFunnelLogger:b=new u.NewsletterAdminFunnelLogger(g.ADMIN_FLOW_TYPE.CREATION),directoryEntryPoint:w}=e,_=()=>{(0,h.setNewsletterTabLastSeenTimestamp)((0,l.unixTime)()),d.default.trigger("newsletter_tab_close"),null!=n?n():o.DrawerManager.closeDrawerLeft()},[S,M]=(0,v.useFlow)(a,{transitions:v.FlowTransitions.DrawerRight,onEnd:_}),k=(0,E.useRef)(w),P=(0,E.useRef)(b),O=function(){const[e,t]=(0,E.useState)(!1);return(0,C.useListeners)(d.default.toArray().filter((e=>null!=e.newsletterMetadata)).map((n=>({source:(0,r.default)(n.newsletterMetadata,"newsletter.newsletterMetadata"),eventOrEvents:"change:isSubscribedOrOwned",callback:()=>t(!e)})))),(0,C.useListeners)(d.default.toArray().map((n=>({source:(0,r.default)(n,"newsletter"),eventOrEvents:["change:previewMessage","change:derivedLastAddOnPreview","change:active"],callback:()=>t(!e)})))),(0,y.default)(d.default,["add","remove","reset","sort"],(()=>d.default.filter((e=>{var t;return null===(t=e.newsletterMetadata)||void 0===t?void 0:t.isSubscribedOrOwned}))),[e])}();if(null==M.step)return null;let T;switch(M.step){case f.NewsletterTabFlowStep.NewsletterTab:T=E.default.createElement(s.default,{newsletters:O,onBack:_,initialScrollTop:t.current,setScrollTop:e=>{t.current=e},onCreateNewsletter:()=>{(0,p.openNewsletterCreationFlow)({tosAcceptCallback:e=>{M.push(f.NewsletterTabFlowStep.CreateNewsletter),P.current=e}})},onNewsletterDirectorySearch:e=>{(0,m.openNewsletterDirectory)({tosAcceptCallback:()=>{k.current=e,M.push(f.NewsletterTabFlowStep.NewsletterDirectory)}})}});break;case f.NewsletterTabFlowStep.CreateNewsletter:T=E.default.createElement(i.default,{onBack:()=>M.pop(),adminFunnelLogger:P.current});break;case f.NewsletterTabFlowStep.NewsletterDirectory:T=E.default.createElement(c.NewsletterDirectoryDrawer,{entryPoint:k.current,onBack:()=>M.pop()})}return E.default.createElement(S,{flow:M},T)}w.displayName="NewsletterTabFlow"},458196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendedNewsletterBlock=function(e){let{onNewsletterDirectorySearch:t,newsletters:n,isLoading:o}=e;const i=(0,l.useCallback)((()=>{t(r.CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_BUTTON)}),[t]);return l.default.createElement(a.NewsletterRecommendedBlockUnit,{isLoading:o,newsletters:n,onSeeAllClick:i})};var a=n(689806),r=n(320390),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=r?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},857149:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDrawerListItem=function(e){let{data:t,selectionRef:n,onSelect:a,onNewsletterDirectorySearch:f,bottomDirectoryIndex:h,firstCellInList:g}=e;const E=(0,c.useCallback)((()=>{a(t)}),[a,t]);switch(t.type){case m.NEWSLETTER_CHAT_CELL:return c.default.createElement(r.default,{shadow:!1,animation:!1},c.default.createElement(o.NewsletterChatCell,{newsletter:t.newsletter,heightStyle:t.heightStyle,active:n,onSelect:E,firstCellInList:g}));case m.NEWSLETTER_DIRECTORY_CELL:return c.default.createElement(r.default,{shadow:!1,animation:!1},c.default.createElement(o.NewsletterDirectoryCell,{active:n,newsletter:t.newsletter,onSelect:E,chatEntryPoint:t.chatEntryPoint,index:t.index,directoryFunnelLogger:t.directoryFunnelLogger,bottomItem:t.index===h}));case m.NEWSLETTER_CELL_HEADER:{const e=c.default.createElement("div",{className:(0,s.default)(p.header)},c.default.createElement(u.default,{header:t.title}));return t.hasTopBorder?c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:(0,s.default)(p.myChannelsFooter,d.uiMargin.horiz13)}),e):e}case m.MY_NEWSLETTERS_FOOTER:return c.default.createElement(l.FlexRow,{xstyle:[p.myChannelsFooter,d.uiMargin.horiz13]});case m.SEARCH_FOOTER:return c.default.createElement(i.NewsletterInboxSearchFooter,{onNewsletterDirectorySearch:f});case m.NEWSLETTER_DIRECTORY_NO_RESULTS:return c.default.createElement(i.NewsletterInboxEmptySearchSection,null);case m.NEWSLETTER_EMPTY_UNREAD:return c.default.createElement(i.NewsletterInboxEmptyUnreadSection,{setSelectedFilter:t.setSelectedFilter});default:t.type}},t.TabCellDataType=void 0;var r=a(n(969358)),l=n(690495),o=n(899341),i=n(88136),u=a(n(772549)),d=n(676345),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),s=a(n(156720));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p={myChannelsFooter:{borderTopColor:"cz500klw",borderTopStyle:"d1poss59",borderTopWidth:"gofg5ll1",height:"kanlod6e"},header:{height:"bsih0in0",overflowX:"gfz4du6o",overflowY:"r7fjleex"}},m={NEWSLETTER_CHAT_CELL:"NEWSLETTER_CHAT_CELL",NEWSLETTER_DIRECTORY_CELL:"NEWSLETTER_DIRECTORY_CELL",NEWSLETTER_DIRECTORY_NO_RESULTS:"NEWSLETTER_DIRECTORY_NO_RESULTS",NEWSLETTER_CELL_HEADER:"NEWSLETTER_CELL_HEADER",MY_NEWSLETTERS_FOOTER:"MY_NEWSLETTERS_FOOTER",SEARCH_FOOTER:"SEARCH_FOOTER",NEWSLETTER_EMPTY_UNREAD:"NEWSLETTER_EMPTY_UNREAD"};t.TabCellDataType=m},764635:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(908081)),l=n(626194),o=n(81644),i=n(526795),u=n(830803),d=n(73225),c=n(415432),s=n(67674),f=n(887842),p=n(533393),m=n(970910),h=n(931109),g=n(454905),E=n(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),v=(a(n(156720)),n(655241));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const b={drawer:{backgroundColor:"ihvf49ua"}},w=(0,y.forwardRef)(((e,t)=>{const{stage:n}=(0,v.useModelValues)(c.NewsletterLoadingStageManager,["stage"]),a=((0,d.isNewsletterCreationEnabled)()||(0,d.isNewsletterDirectoryEnabled)())&&y.default.createElement(i.MenuBarItem,{tabOrder:h.TAB_ORDER.NEWSLETTER_TAB_HEADER,testid:"newsletter-tab-dropdown-button",icon:y.default.createElement(m.PlusLargeIcon,null),title:E.fbt._("Menu",null,{hk:"2xaXZl"})},y.default.createElement(p.NewsletterTabMenuDropdown,{onCreateNewsletter:e.onCreateNewsletter,onNewsletterDirectorySearch:e.onNewsletterDirectorySearch}));let C=null;switch(n){case c.NewsletterLoadingStage.Failed:C=y.default.createElement(u.NewsletterFailedBootstrap,null);break;case c.NewsletterLoadingStage.Loading:C=y.default.createElement(f.LoadingTab,{newsletterCount:e.newsletters.length});break;case c.NewsletterLoadingStage.None:case c.NewsletterLoadingStage.Finished:C=y.default.createElement(s.NewsletterTabDrawerContent,{initialScrollTop:e.initialScrollTop,newsletters:e.newsletters,setScrollTop:e.setScrollTop,onNewsletterDirectorySearch:e.onNewsletterDirectorySearch})}return y.default.createElement(o.HotKeys,{"aria-label":E.fbt._("Channel Tab Drawer",null,{hk:"2Zi5QB"})},y.default.createElement(r.default,{ref:t,xstyle:b.drawer,testid:"newsletter-drawer",tsNavigationData:(0,d.isNewsletterTSLEnabled)()?{surface:"channel-updates-home"}:void 0},y.default.createElement(l.DrawerHeader,{title:E.fbt._("Channels",null,{hk:"2btjT0"}),type:(0,g.topMenuRedesignEnabled)()?l.DRAWER_HEADER_TYPE.TAB:l.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,children:a}),C))}));w.displayName="NewsletterTabDrawer";var _=w;t.default=_},67674:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterTabDrawerContent=W;var r=n(927531),l=n(949359),o=n(937069),i=n(512938),u=a(n(964223)),d=a(n(570834)),c=a(n(335540)),s=n(81644),f=n(936327),p=n(521425),m=a(n(358533)),h=n(889534),g=n(772787),E=n(857149),y=n(73225),v=n(88136),C=n(337946),b=n(692418),w=n(170261),_=n(458196),S=a(n(237889)),M=n(676345),k=n(459857),P=n(243146),O=n(548360),T=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),x=a(n(156720)),I=a(n(261716)),R=a(n(637660)),L=n(688601),N=n(441625),D=n(862154),A=a(n(28825));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}const F=(0,i.FlatListFactory)(),B={container:{height:"ppled2lx",display:"p357zi0d",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"r7fjleex"},flatListContainer:{display:"p357zi0d",flexDirection:"f8m0rgwh",height:"ppled2lx",overflowY:"ag5g9lrv"},flatList:{overflowAnchor:"exyrvlem"},recommendedUnitRow:{overflowAnchor:"awknuimu"}};function W(e){let{initialScrollTop:t,newsletters:n,onNewsletterDirectorySearch:a,setScrollTop:i}=e;const j=n.length<=0,[W,H]=(0,D.useRecommendedNewsletters)(),[U,z]=(0,T.useState)([]),G=(0,T.useRef)(),q=(0,T.useRef)(),V=(0,T.useRef)(null!=t?t:0),Y=(0,T.useRef)(null!=t?t:0),K=(0,T.useRef)(!1),X=(0,T.useRef)(),Z=(0,T.useRef)(),Q=(0,T.useRef)(new h.NewsletterDirectoryFunnelLogger),J=(0,R.default)((()=>new d.default)),$=(0,R.default)((()=>new S.default([],(e=>e.itemKey)))),ee=$.current,{value:te,list:ne}=ee,ae=(0,T.useMemo)((()=>U.filter((e=>e.type===E.TabCellDataType.NEWSLETTER_CHAT_CELL||e.type===E.TabCellDataType.NEWSLETTER_DIRECTORY_CELL))),[U]);0!==ne.length&&ae===ne||(ee.init(ae),null!=te&&ee.setVal(te));const[re,le]=(0,T.useState)(r.NewsletterInboxFilterTypes.All),[oe,ie]=(0,I.default)((0,y.getNewsletterDirectorySearchDebounce)()),ue=oe.trim(),[de,ce,se,fe,pe,me]=(0,L.useNewsletterDirectoryResults)({searchText:ue,countryCode:(0,f.getCountryCodeIso)((0,k.getMeUser)().user),listView:g.NewsletterDirectoryListView.Recommended,sortField:o.NewsletterDirectorySortField.Subscribers,sortOrder:o.NewsletterDirectorySortOrder.Descending,newsletterDirectoryFunnelLogger:Q.current,filterSubscribedNewsletters:!0}),he=(0,N.useNewsletterInboxSearch)({filteredText:ue,selectedFilter:re}),{width:ge}=(0,A.default)();(0,T.useEffect)((()=>{const e=Math.ceil(window.innerWidth/10),t=function(e){let{subscribedNewsletters:t,directoryNewsletters:n,loadingDirectory:a,selectedFilter:o,setSelectedFilter:i,screenWidth:u,trimmedSearchText:d}=e;const c=[];o===r.NewsletterInboxFilterTypes.Unread&&0===t.length&&c.push({type:E.TabCellDataType.NEWSLETTER_EMPTY_UNREAD,itemKey:"empty_unread_list",setSelectedFilter:i,height:200});const s=""!==d;s&&t.length>0&&c.push({type:E.TabCellDataType.NEWSLETTER_CELL_HEADER,itemKey:"followed_channels_search_header",title:(0,l.getFollowedChannelsSearchHeader)(),height:58,hasTopBorder:!1});t.forEach(((e,t)=>{const n=(0,p.getNewsletterCellHeight)(e,u);c.push({itemKey:`newsletter-local-${e.id.toString()}`,type:E.TabCellDataType.NEWSLETTER_CHAT_CELL,height:n,heightStyle:(0,p.newsletterCellHeightToHeightStyle)(n),newsletter:e,index:t,firstCellInList:0===t})})),s&&!a&&(n.length>0?(c.push({type:E.TabCellDataType.NEWSLETTER_CELL_HEADER,itemKey:"other_channels_search_header",title:(0,l.getOtherChannelsSearchHeader)(),height:58,hasTopBorder:!0}),c.push(...n)):0===t.length&&c.push({type:E.TabCellDataType.NEWSLETTER_DIRECTORY_NO_RESULTS,itemKey:"no_results_found",height:120}),c.push({itemKey:"search-footer",type:E.TabCellDataType.SEARCH_FOOTER}));o===r.NewsletterInboxFilterTypes.MyChannels&&""===d&&c.push({itemKey:"my-newsletters-footer",type:E.TabCellDataType.MY_NEWSLETTERS_FOOTER});return c}({subscribedNewsletters:he(n),directoryNewsletters:de,screenWidth:e,selectedFilter:re,trimmedSearchText:ue,setSelectedFilter:le,loadingDirectory:me});z(t)}),[n,ge,he,re,de,ue,me]);const Ee=(0,T.useCallback)((()=>{X.current&&c.default.focus(X.current)}),[X]);(0,T.useEffect)((()=>{Ee()}),[Ee]),(0,T.useEffect)((()=>{(0,y.isNewsletterInboxSearchDirectoryIntegrationEnabled)()&&""!==ue&&se()}),[se,ue]),(0,T.useEffect)((()=>{var e,t;""!==ue?null===(e=q.current)||void 0===e||e.scrollIntoViewIfNeeded(0):null===(t=J.current)||void 0===t||t.setScrollFromStart(Y.current)}),[ue,J]),(0,T.useEffect)((()=>{var e;if(null===(e=Z.current)||void 0===e?void 0:e.hasFocus())return;const t=m.default.getActive(),n=U.find((e=>e.type===E.TabCellDataType.NEWSLETTER_CHAT_CELL&&e.newsletter===t));null!=n&&$.current.setVal(n)}),[U,$]),(0,T.useEffect)((()=>(U.length&&!1===K.current&&(J.current.setScrollFromStart(null!=t?t:0),K.current=!0),()=>null==i?void 0:i(V.current))),[U.length,t,i,J]);const ye=e=>{if(""!==ue)switch(e.type){case E.TabCellDataType.NEWSLETTER_CHAT_CELL:(0,C.logNewsletterInboxSearchEvent)({updateTabSearchEventType:P.UPDATE_TAB_SEARCH_EVENT_TYPE.FOLLOWED_CHANNEL_TAP});break;case E.TabCellDataType.NEWSLETTER_DIRECTORY_CELL:(0,C.logNewsletterInboxSearchEvent)({updateTabSearchEventType:P.UPDATE_TAB_SEARCH_EVENT_TYPE.DIRECTORY_CHANNEL_TAP})}$.current.setVal(e)},ve=()=>{const e=G.current;null==e||j||e.scrollTo({top:e.scrollHeight})},Ce=()=>{if(q.current){const t=$.current.value;if(null==t)return;const n=U.findIndex((e=>e.itemKey===t.itemKey));var e;if(-1!==n)null===(e=q.current)||void 0===e||e.scrollIntoViewIfNeeded(n,100)}},be=!j&&(0,y.isNewsletterInboxSearchEnabled)()?T.default.createElement(v.NewsletterInboxSearch,{ref:Z,filteredText:ue,handleSearchChange:ie,handleSelectNewsletter:ye,listData:U,newsletters:n,selectedFilter:re,setSelectedFilter:le}):null,we=""===ue&&!j&&re!==r.NewsletterInboxFilterTypes.MyChannels&&(H.length>0||W);return T.default.createElement(s.HotKeys,{ref:X,handlers:{down:e=>{if(0===n.length)return;null==e||e.preventDefault(),null==e||e.stopPropagation();const t=$.current.next();$.current.index!==t&&($.current.setNext(!0),Ce())},up:e=>{if(0===n.length)return;null==e||e.preventDefault(),null==e||e.stopPropagation();$.current.prev()>-1&&($.current.setPrev(!0),Ce())}},className:(0,x.default)(B.container)},be,j&&T.default.createElement(_.RecommendedNewsletterBlock,{isLoading:W,onNewsletterDirectorySearch:a,newsletters:H}),T.default.createElement(u.default,{className:(0,x.default)(B.flatListContainer),ref:G,onScroll:e=>{V.current=e.currentTarget.scrollTop,""===oe.trim()&&(Y.current=e.currentTarget.scrollTop);const t=G.current;null!=t&&""!==ue&&(0,y.isNewsletterInboxSearchDirectoryIntegrationEnabled)()&&(0,w.isScrollAtBottomOfList)(t)&&ce()&&fe()},flatListControllers:[J.current]},T.default.createElement(F,{ref:q,data:U,className:(0,x.default)(B.flatList),flatListController:J.current,direction:"vertical",role:"navigation","aria-label":O.fbt._("Channel List",null,{hk:"MgvLU"}).toString(),renderItem:e=>T.default.createElement(E.NewsletterDrawerListItem,{data:e,selectionRef:$.current,onRecommendedUnitFollow:ve,onSelect:ye,onNewsletterDirectorySearch:a,loading:W,bottomDirectoryIndex:de.length-1,firstCellInList:e.type===E.TabCellDataType.NEWSLETTER_CHAT_CELL&&e.firstCellInList&&""!==ue})}),we&&T.default.createElement(b.NewsletterRecommendedRowUnit,{isLoading:W,newsletters:H,onSeeAllClick:a,xstyle:[M.uiMargin.bottom13,B.recommendedUnitRow],afterFollow:ve})))}W.displayName="NewsletterTabDrawerContent"},887842:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingTab=function(e){const{height:t}=(0,u.default)(),n=Math.floor(t/128);let a=e.newsletterCount>n?n:e.newsletterCount,d=i.default.createElement(l.default,{count:a});0===e.newsletterCount&&(a=Math.min(Math.floor(t/124)-2,3),d=i.default.createElement(o.NewsletterRecommendationsBlockShimmer,{count:a}));return i.default.createElement(r.default,{theme:"full-height"},d)};var r=a(n(969358)),l=a(n(204311)),o=n(766298),i=a(n(667294)),u=a(n(28825))},170261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScrollAtBottomOfList=function(e){return e.scrollTop+a.SCROLL_FUDGE>=e.scrollHeight-e.clientHeight};var a=n(914368)},196815:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendedNewsletterBlockHeading=d;var r=n(81644),l=n(851488),o=n(548360),i=a(n(667294));a(n(156720));const u={headingContainer:{textAlign:"qfejxiq4"}};function d(){const e=i.default.createElement(l.WDSTextLarge,null,o.fbt._("Stay updated on your favourite topics",null,{hk:"VNKOw"})),t=i.default.createElement(l.WDSTextTitle,{margin:8,color:"secondary"},o.fbt._("Find channels to follow below",null,{hk:"Sa61H"}));return i.default.createElement(r.HotKeys,{xstyle:u.headingContainer},e,t)}d.displayName="RecommendedNewsletterBlockHeading"},689806:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterRecommendedBlockUnit=m;var r=n(949359),l=n(690495),o=n(73225),i=n(196815),u=n(166892),d=n(676345),c=n(617425),s=a(n(667294)),f=a(n(156720));const p={height:"knhv706o"};function m(e){let{isLoading:t,newsletters:n,onSeeAllClick:a}=e;const m=(0,o.isNewsletterDirectoryEnabled)()?s.default.createElement(c.WDSButtonPrimary,{testid:"find-newsletter-button",onClick:a},(0,r.getFindNewslettersText)()):null;return s.default.createElement("div",{className:(0,f.default)(p)},s.default.createElement("div",{className:(0,f.default)([d.uiMargin.top24,d.uiMargin.bottom20,d.uiMargin.horiz32])},s.default.createElement(i.RecommendedNewsletterBlockHeading,null)),s.default.createElement(l.FlexRow,{justify:"center"},s.default.createElement(l.FlexRow,{justify:"start",align:"start"},s.default.createElement(u.NewsletterRecommendedUnit,{isLoading:t,newsletters:n,isFullUnit:!0}))),t?null:s.default.createElement(l.FlexRow,{justify:"center",align:"center",marginTop:24,marginBottom:20},m))}m.displayName="NewsletterRecommendedBlockUnit"},59849:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterRecommendedItem=C,t.NewsletterRecommendedItemShimmer=b;var r=n(518024),l=n(690495),o=n(387406),i=n(405473),u=n(229476),d=n(676345),c=a(n(625903)),s=n(874806),f=n(851488),p=n(548360),m=a(n(667294)),h=a(n(156720)),g=n(655241);const E={borderTopStartRadius:"nl2xi1ke",borderTopEndRadius:"r2bxqa8h",borderBottomEndRadius:"jyp9psb5",borderBottomStartRadius:"n1nfpgil",borderTopColor:"gclmp953",borderEndColor:"iqba26oe",borderBottomColor:"ehl16pob",borderStartColor:"bl7zmm6q",borderTopWidth:"gofg5ll1",borderEndWidth:"p7waza29",borderBottomWidth:"oteuebma",borderStartWidth:"mzoqfcbu",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",boxSizing:"cm280p3y",width:"cnprk2g9"};function y(e){let{following:t,newsletter:n,onFollow:a}=e;const r=t?p.fbt._("Following",null,{hk:"12FeeX"}):p.fbt._("Follow",null,{hk:"1nzVmF"});return m.default.createElement(c.default,{onClick:()=>{t?(0,u.unsubscribeFromNewsletterAction)(n,{deleteLocalModels:!1,eventSurface:s.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY}).catch((()=>{})):(0,i.subscribeToDirectoryNewsletter)(n,{eventSurface:s.CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY}).then((()=>a()))},xstyle:d.uiPadding.all6},m.default.createElement(l.FlexRow,{align:"center"},m.default.createElement(f.WDSTextSectionTitle,{color:t?"secondary":"teal"},r)))}function v(e){let{children:t}=e;return m.default.createElement(l.FlexColumn,{align:"center",testid:"newsletter-recommended-item",className:(0,h.default)(E,d.uiPadding.top12,d.uiPadding.horiz8,d.uiPadding.bottom8)},t)}function C(e){let{newsletter:t,onFollow:n}=e;const{newsletterMetadata:a}=(0,g.useModelValues)(t,["newsletterMetadata"]),r=!0===(null==a?void 0:a.isSubscribedOrOwned);return m.default.createElement(v,null,m.default.createElement(o.NewsletterChatItem,{newsletter:t}),m.default.createElement(y,{onFollow:n,following:r,newsletter:t}))}function b(){return m.default.createElement(v,null,m.default.createElement(r.CircleShimmer,{diameter:64,xstyle:d.uiMargin.bottom8}),m.default.createElement(r.RectangleShimmer,{height:20,width:96,xstyle:d.uiMargin.bottom16}),m.default.createElement(r.RectangleShimmer,{height:20,width:66,xstyle:d.uiMargin.bottom8}))}y.displayName="FollowButton",v.displayName="Wrapper",C.displayName="NewsletterRecommendedItem",b.displayName="NewsletterRecommendedItemShimmer"},692418:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterRecommendedRowUnit=C;var r=n(19869),l=n(820384),o=n(949359),i=n(690495),u=a(n(932325)),d=n(166892),c=n(220584),s=n(676345),f=a(n(625903)),p=n(320390),m=n(851488),h=n(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),E=a(n(156720));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const v={borderTopWidth:"gofg5ll1",borderTopStyle:"d1poss59",borderTopColor:"eo2nzah0"};function C(e){let{afterFollow:t,isLoading:n,newsletters:a,onSeeAllClick:r,xstyle:l}=e;return g.default.createElement("div",{className:(0,E.default)(l)},g.default.createElement("div",{className:(0,E.default)(v,s.uiMargin.horiz13,s.uiMargin.bottom24)}),g.default.createElement(i.FlexRow,{justify:"all",align:"center",xstyle:[s.uiMargin.bottom15,s.uiPadding.horiz13]},g.default.createElement(m.WDSTextTitle,null,(0,o.getFindNewslettersText)()),g.default.createElement(b,{onClick:r})),g.default.createElement(d.NewsletterRecommendedUnit,{isLoading:n,newsletters:a,isFullUnit:!1,afterFollow:t}))}function b(e){let{onClick:t}=e;const n=(0,g.useCallback)((()=>{t(p.CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_BUTTON)}),[t]),a=u.default.isRTL()?r.ChevronLeftIcon:l.ChevronRightIcon;return g.default.createElement(f.default,{onClick:n},g.default.createElement(i.FlexRow,{align:"center"},g.default.createElement(m.WDSTextSectionTitle,null,h.fbt._("See all",null,{hk:"4sHQwR"})),g.default.createElement(a,{height:24,width:24,color:c.SvgColorProp.TEAL})))}C.displayName="NewsletterRecommendedRowUnit",b.displayName="SeeAllButton"},166892:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterRecommendedUnit=w;var r=a(n(498913)),l=n(19869),o=n(820384),i=n(927531),u=n(690495),d=a(n(932325)),c=n(59849),s=n(220584),f=n(676345),p=a(n(625903)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=a(n(156720)),g=a(n(28825));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const y={scrollWrapper:{position:"g0rxnol2",maxWidth:"laorhtua"},scrollContainer:{overflowX:"ormcsqwh",maxWidth:"laorhtua","-ms-overflow-style":"i36vu85o",scrollbarWidth:"kmer8oxg","::-webkit-scrollbar":{display:"prbp9wo9"}},scrollButton:{opacity:"bs7a17vp",alignItems:"gndfcl4n",backgroundColor:"sronz6qe",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",boxShadow:"knwnrd2v",display:"p357zi0d",justifyContent:"ac2vgrno",height:"epwkujcx",position:"lhggkp7q",top:"myeiuhv9",transform:"m7vo9q63",width:"baeo9xnf",zIndex:"ity2ubfj"},scrollStartButton:{start:"tkdu00h0"},scrollEndButton:{end:"ebjesfe0"}},v=120;function C(e){let{containerRef:t,isFullUnit:n,newsletters:a,onFollow:r,size:l}=e;return n?m.default.createElement(S,{newsletters:a,onFollow:null,size:l}):m.default.createElement(u.FlexColumn,{rowGap:8,xstyle:y.scrollContainer,ref:t},m.default.createElement(_,{newsletters:a,onFollow:r}))}function b(e){let{isFullUnit:t,size:n}=e;return t?m.default.createElement(u.FlexColumn,{rowGap:8,align:"center"},(0,r.default)(n.width>970?3:2,(()=>m.default.createElement(u.FlexRow,{columnGap:8},n.height>450&&m.default.createElement(c.NewsletterRecommendedItemShimmer,null),n.height>600&&m.default.createElement(c.NewsletterRecommendedItemShimmer,null),n.height>750&&m.default.createElement(c.NewsletterRecommendedItemShimmer,null))))):m.default.createElement(u.FlexRow,{columnGap:8},m.default.createElement(c.NewsletterRecommendedItemShimmer,null),m.default.createElement(c.NewsletterRecommendedItemShimmer,null),m.default.createElement(c.NewsletterRecommendedItemShimmer,null),m.default.createElement(c.NewsletterRecommendedItemShimmer,null))}function w(e){const[t,n,a,r,l]=function(e){const{scrollBy:t,isLoading:n,itemsLoaded:a,isFullUnit:r}=e,l=(0,m.useRef)(),[o,i]=(0,m.useState)("start"),[u,c]=(0,m.useState)(!1),s=(0,g.default)();return(0,m.useLayoutEffect)((()=>{if(n||r)return c(!1);const e=l.current;null!=e&&(e.scrollWidth>e.clientWidth?c(!0):c(!1))}),[s.width,n,a,r]),[l,u?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;const n=l.current;if(null==n)return;const a=Math.abs(n.scrollLeft);if(a<180)n.scrollTo({left:0,behavior:"smooth"}),i("start");else{const t=e*(d.default.isRTL()?1:-1);n.scrollBy({left:t,behavior:"smooth"}),i(0===a?"start":"middle")}}:null,u?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;const n=l.current;if(null==n)return;const a=Math.abs(n.scrollLeft);n.scrollWidth-(n.clientWidth+a)<180?(n.scrollTo({left:n.scrollWidth*(d.default.isRTL()?-1:1),behavior:"smooth"}),i("end")):(n.scrollBy({left:e*(d.default.isRTL()?-1:1),behavior:"smooth"}),i(n.clientWidth+a===n.scrollWidth?"end":"middle"))}:null,o,()=>{const e=l.current;null!=e&&(0===Math.abs(e.scrollLeft)?i("start"):e.scrollWidth===Math.ceil(e.clientWidth+Math.abs(e.scrollLeft))?i("end"):i("middle"))}]}({scrollBy:v,isLoading:e.isLoading,itemsLoaded:e.newsletters.length,isFullUnit:e.isFullUnit}),o=(0,g.default)(),{afterFollow:c}=e,s=(0,m.useCallback)((t=>{null==c||c();const n=e.newsletters.findIndex(((e,n)=>{var a;return(null===(a=e.newsletterMetadata)||void 0===a?void 0:a.membershipType)===i.NewsletterMembershipType.Guest&&n>t}));-1!==n&&(null==a||a(v*(n-t)))}),[e.newsletters,a,c]),f=m.default.createElement(C,{containerRef:t,isFullUnit:e.isFullUnit,newsletters:e.newsletters,onFollow:s,size:o}),p=e.isLoading?m.default.createElement(b,{isFullUnit:e.isFullUnit,size:o}):f;return m.default.createElement(u.FlexColumn,{testid:"newsletter-recommended-unit"},m.default.createElement("div",{className:(0,h.default)(y.scrollWrapper),onWheel:l},p,"start"!==r&&null!=n&&m.default.createElement(M,{direction:"start",onClick:()=>n()}),"end"!==r&&null!=a&&m.default.createElement(M,{direction:"end",onClick:()=>a()})))}function _(e){let{newsletters:t,onFollow:n}=e;return m.default.createElement(u.FlexRow,{columnGap:8,xstyle:f.uiMargin.horiz13},t.map(((e,t)=>m.default.createElement(c.NewsletterRecommendedItem,{key:e.id.toJid(),newsletter:e,onFollow:()=>null==n?void 0:n(t)}))))}function S(e){let{newsletters:t,onFollow:n,size:a}=e;const r=a.width>970?3:2;return m.default.createElement(u.FlexColumn,{rowGap:8,align:"center"},a.height>450&&m.default.createElement(_,{newsletters:t.slice(0,r),onFollow:n}),a.height>600&&m.default.createElement(_,{newsletters:t.slice(r,2*r),onFollow:n}),a.height>750&&m.default.createElement(_,{newsletters:t.slice(2*r,3*r),onFollow:n}))}function M(e){let{direction:t,onClick:n}=e;const[a,r]=d.default.isRTL()?[o.ChevronRightIcon,l.ChevronLeftIcon]:[l.ChevronLeftIcon,o.ChevronRightIcon],i="start"===t?a:r,u="start"===t?[y.scrollStartButton,f.uiMargin.start13]:[y.scrollEndButton,f.uiMargin.end13];return m.default.createElement(p.default,{onClick:n,xstyle:[...u,y.scrollButton]},m.default.createElement(i,{height:24,width:24,color:s.SvgColorProp.TEAL}))}C.displayName="Unit",b.displayName="Shimmers",w.displayName="NewsletterRecommendedUnit",_.displayName="Row",S.displayName="BlockGrid",M.displayName="ScrollButton"},272586:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.LastStatusStatus=function(e){const{msg:t}=e,{ack:n,t:a}=(0,f.useModelValues)(t,["ack","t"]);let m=c.default.createElement("span",null,l.Clock.relativeDateAndTimeStr(a));(0,i.isStatusPostingEnabled)()&&n===r.ACK.CLOCK&&(m=c.default.createElement("span",null,c.default.createElement(o.MsgTimeIcon,{xstyle:[p.statusAck,u.uiMargin.end2]}),d.fbt._("Sending...",null,{hk:"3mAGse"})));return c.default.createElement("span",{className:(0,s.default)(p.secondaryHeaderText,(0,i.isStatusDrawerEnabled)()&&p.secondaryText)},m)};var r=n(402994),l=n(63014),o=n(518679),i=n(115927),u=n(676345),d=n(548360),c=a(n(667294)),s=a(n(156720)),f=n(655241);const p={secondaryHeaderText:{fontSize:"f8jlpxt4",color:"kcq1et6t"},secondaryText:{color:"pm5hny62"},statusAck:{verticalAlign:"fewfhwl7",display:"l7jjieqr",color:"g97rt3p3"}}},988997:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(664149),l=n(675085),o=n(690495),i=n(685381),u=n(249486),d=n(114850),c=n(999042),s=a(n(761857)),f=n(676345),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=a(n(156720));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const E={option:{boxSizing:"cm280p3y",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"tviruh8d",cursor:"ajgl1lbb",whiteSpace:"le5p0ye3"},iconContainer:{width:"i94gqilv",fill:"cfhfab5z"},optionName:{fontSize:"f8jlpxt4",lineHeight:"pvbam5uh",display:"l7jjieqr"},textIcon:{width:"dh5rsm73"}};function y(e){let{children:t,icon:n,label:a,onClick:r,optionId:i}=e;return m.default.createElement(l.DropdownItem,{testid:i,key:i,action:r},m.default.createElement(o.FlexRow,{align:"center",className:(0,h.default)([f.uiPadding.vert8,f.uiPadding.end32,f.uiPadding.start24,E.option])},m.default.createElement("div",{className:(0,h.default)(E.iconContainer)},n),m.default.createElement("div",{className:(0,h.default)([f.uiMargin.start8,E.optionName])},a,t)))}function v(e,t){const n=(0,m.useRef)(),{type:a,dirX:l,dirY:o}=e;return m.default.createElement(r.Dropdown,{ref:t,type:a,flipOnRTL:!0,key:"StatusPostDropdown",dirY:o,dirX:l},m.default.createElement(y,{optionId:"option_media_posting",onClick:e=>(null==e||e.preventDefault(),null==n.current||(n.current.open(),!1)),label:p.fbt._("Photos & Videos",null,{hk:"1ZJlI1"}),icon:m.default.createElement(u.MediaMultipleIcon,null)},m.default.createElement(c.StatusPostMediaPicker,{mediaPickerRef:n})),m.default.createElement(y,{optionId:"option_text_posting",onClick:()=>{d.ModalManager.openMedia(m.default.createElement(s.default,null),{transition:"status-v3-modal"})},label:p.fbt._("Text",null,{hk:"1hK4O3"}),icon:m.default.createElement(i.MediaEditorDrawingIcon,{iconXstyle:E.textIcon})}))}y.displayName="PostOptionDropDownItem";var C=(0,m.forwardRef)(v);t.default=C},244324:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.WebStatusPostingMediaViewLoadable=void 0;var r=a(n(348926)),l=a(n(114945)),o=a(n(472514)),i=a(n(997026)),u=a(n(544142)),d=a(n(667294));const c=(0,i.default)((0,r.default)((function*(){const e=yield Promise.all([n.e(5878),n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,180383));return(0,o.default)(e)})),"StatusPostingMediaView");t.requireBundle=c;const s=(0,l.default)({loader:c,loading:e=>d.default.createElement(u.default,{error:Boolean(e.error)})});t.WebStatusPostingMediaViewLoadable=s},999042:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusPostMediaPicker=function(e){const{mediaPickerRef:t}=e,n=new i.Chat({id:(0,p.createWid)(r.STATUS_JID)}),a=(0,h.default)(),g=()=>{null==a||a.requestDismiss()},E=[d.IMAGE_MIMES,d.VIDEO_MIMES].join(",");return m.default.createElement(u.default,{ref:t,mimes:E,onChange:e=>{var t;if(!e)return void g();e.stopPropagation();const a=Array.from(null!==(t=e.target.files)&&void 0!==t?t:[]);g(),a.length&&(e=>{let{attachments:t,onSend:a,onCancel:r}=e;n.attachMediaContents||n.setAttachMediaContents(new o.default({chatParticipantCount:n.getParticipantCount()}));const i=(0,l.default)(n.attachMediaContents,"chat.attachMediaContents");(()=>{const e=n.attachMediaContents;e?t&&t.length>0?e.processAttachments(t,f.MEDIA_PICKER_ORIGIN_TYPE.STATUS_TAB_CAMERA_PHOTO_LIBRARY,n):__LOG__(3)`StatusPostMediaPicker: receive empty attachments`:__LOG__(3)`StatusPostMediaPicker: attachMediaContents uninitialized`})();const u=m.default.createElement(s.WebStatusPostingMediaViewLoadable,{chat:n,onComplete:()=>{},onSend:a,onCancel:r,mediaCollection:i});c.ModalManager.openMedia(u,{transition:"status-v3-modal"})})({attachments:a.map((e=>({file:e}))),onSend:()=>{},onCancel:()=>{}})},multiple:!0})};var r=n(418987),l=a(n(670983)),o=a(n(788998)),i=n(79672),u=a(n(688988)),d=n(937484),c=n(114850),s=n(244324),f=n(169467),p=n(669050),m=a(n(667294)),h=a(n(321201))},180383:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(952543),o=n(780549),i=n(25878),u=n(114850),d=n(179268),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),s=a(n(156720));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx",willChange:"rigundgh",zIndex:"dzflfcgc",display:"p357zi0d"};function m(e){const{chat:t,mediaCollection:n,onComplete:a,onCancel:f,onSend:m}=e,h=()=>{t&&t.setAttachMediaContents(null)},g=function(){var e=(0,r.default)((function*(e){o.Cmd.once("ui_idle",(()=>{e.forEach((e=>{const n=e.media,a={};a.type=n.type,a.caption=n.caption,a.addEvenWhilePreparing=n.previewable&&n.state===l.ATTACH_MEDIA_STATE.PROCESSING,n.sendToChat(t,a)})),h()})),null==a||a(!0),null==m||m(),n.mediaPickerStatsLogger.logSend({isViewOnce:!1}),u.ModalManager.closeMedia()}));return function(){return e.apply(this,arguments)}}();return(0,d.prepareChatForMessageSending)(t),c.default.createElement("div",{className:(0,s.default)(p)},c.default.createElement(i.MediaEditor,{theme:i.MediaTheme.STATUS,chat:t,onClose:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&h(),null==a||a(!1),null==f||f(),n.mediaPickerStatsLogger.logCancel(),u.ModalManager.closeMedia()},initCaption:null,onSendMedia:g,mediaCollection:n,sendAsSticker:!1,onDropText:()=>{}}))}var h=(0,c.forwardRef)(m);t.default=h},761857:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=D;var r=n(418987),l=n(79672),o=a(n(659177)),i=n(84409),u=n(262337),d=n(690495),c=n(234200),s=n(526795),f=n(114850),p=n(640963),m=n(179268),h=n(533494),g=n(150610),E=n(858486),y=a(n(478163)),v=n(634401),C=n(113475),b=a(n(614839)),w=n(676345),_=n(669050),S=n(459192),M=n(548360),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),P=a(n(156720)),O=n(655241);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const x={container:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx",willChange:"rigundgh",backgroundColor:"iu4y6g9w",zIndex:"dzflfcgc",display:"p357zi0d"},textInputWrapper:{color:"lxozqee9",wordWrap:"b6f1x6w7",whiteSpace:"bbv8nyr4",maxHeight:"ibyb1pgl",flexGrow:"ggj6brxn"},input:{textAlign:"qfejxiq4"},inputText:{width:"ln8gz9je",fontSize:"kuk548i2"},sendWrapper:{backgroundColor:"s9lgn3x7",position:"lhggkp7q",bottom:"jxacihee",start:"tkdu00h0",height:"q8xcl7qa",display:"p357zi0d",alignItems:"gndfcl4n"},fullWidth:{width:"ln8gz9je"},optionWrapper:{position:"lhggkp7q",top:"bqmxb3s7",start:"tkdu00h0",height:"m3o1wsh7",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"kcgo1i74",boxSizing:"cm280p3y"},optionIconWrapper:{color:"lxozqee9"},fontIcon:{width:"ekdr8vow",height:"dhq51u3o",fontSize:"nhgg6f4l",textAlign:"qfejxiq4"},closeIcon:{position:"lhggkp7q",start:"guo0zu0m"},font_0:{},font_1:{fontFamily:"dq1s0tbz"},font_2:{fontFamily:"dof3c2ot"},textLarge:{fontSize:"efq66a5g",lineHeight:"imx83vnz",textAlign:"qfejxiq4"},textMedium:{fontSize:"ds12m5yo",lineHeight:"bdf91cm1",textAlign:"qfejxiq4"},textSmall:{fontSize:"enbbiyaj",lineHeight:"pfvztjrm",textAlign:"qfejxiq4"},placeholderText:{color:"tsjreo0q"}},I=new Map([[h.Message$ExtendedTextMessage$FontType.SYSTEM,x.font_0],[h.Message$ExtendedTextMessage$FontType.SYSTEM_TEXT,x.font_1],[h.Message$ExtendedTextMessage$FontType.FB_SCRIPT,x.font_2]]),R=[4289080433,4287670337,4290879551,4286128440,4289628020,4293964592,4290163495,4291207116,4287326608,4294937228,4283744869,4294933355,4280730844,4283943423,4285818730,4286484643,4283864831,4285408638,4286237605,4280563264,4286747850],L=()=>R[Math.floor(Math.random()*R.length)],N=e=>e<=60?u.EmojiSize.Large:e<=240?u.EmojiSize.Medium:u.EmojiSize.Small;function D(){const[e,t]=(0,k.useState)(h.Message$ExtendedTextMessage$FontType.SYSTEM),[n,a]=(0,k.useState)(L()),[u,T]=(0,k.useState)(!1),[R,D]=(0,k.useState)(""),A=(0,k.useRef)(),j=(0,k.useRef)(),F=(0,O.useModelValues)(o.default.getDefault(),["spellcheck","transformTextEmoji"]),B=new l.Chat({id:(0,_.createWid)(r.STATUS_JID)}),W=u&&A.current&&k.default.createElement(i.EmojiPanelPopup,{anchor:A.current,onSelect:e=>{const t=j.current;t&&(t.focus(),t.replaceSelection(e)),T(!1)},onClose:()=>{T(!1)}});return k.default.createElement("div",{className:(0,P.default)(x.container),style:{backgroundColor:(U=n,`rgba(${U>>16&255}, ${U>>8&255}, ${255&U}, ${U>>24&255})`)}},k.default.createElement("div",{className:(0,P.default)([x.optionWrapper,w.uiPadding.end18,x.fullWidth])},k.default.createElement(s.MenuBar,null,k.default.createElement(s.MenuBarItem,{ref:A,icon:k.default.createElement(c.MediaEditorEmojiIcon,{iconXstyle:x.optionIconWrapper}),testid:"emoji-button",title:M.fbt._("Emoji",null,{hk:"4deBNS"}),key:"emoji-button",onClick:()=>{T(!0)}}),k.default.createElement(s.MenuBarItem,{icon:k.default.createElement("span",{className:(0,P.default)([x.fontIcon,x.optionIconWrapper,I.get(e)])},"T"),testid:"font-button",title:M.fbt._("Font",null,{hk:"1RvSR"}),key:"font-button",onClick:()=>{var n;const a=I.keys();for(let t;(t=a.next())&&t.value!==e;null!=t);t(null!==(n=a.next().value)&&void 0!==n?n:h.Message$ExtendedTextMessage$FontType.SYSTEM)}}),k.default.createElement(s.MenuBarItem,{icon:k.default.createElement(p.PaletteIcon,{iconXstyle:x.optionIconWrapper}),testid:"palette-button",title:M.fbt._("Palette",null,{hk:"2vOUjX"}),key:"palette-button",onClick:()=>{a(L())}})),k.default.createElement("button",{className:(0,P.default)([x.optionIconWrapper,x.closeIcon]),onClick:()=>f.ModalManager.closeMedia()},k.default.createElement(S.XViewerIcon,null))),k.default.createElement("div",{className:(0,P.default)([w.uiMargin.allAuto,x.textInputWrapper,I.get(e),w.uiPadding.all12])},k.default.createElement(g.RichTextInput,{ref:j,xstyle:[w.uiMargin.vert6,x.input],textXstyle:[x.inputText,(H=R.length,H<=60?x.textLarge:H<=240?x.textMedium:x.textSmall)],placeholderTestXstyle:x.placeholderText,placeholder:M.fbt._("Type a status",null,{hk:"3PI7yY"}),onChange:e=>{D(e.text),(0,m.prepareChatForMessageSending)(B)},emojiSize:N(R.length),multiline:!0,focusOnMount:!0,textFormatEnabled:!0,textFormatShortcutsEnabled:(0,E.improvedMessageComposerEnabled)(),spellCheck:!(0,E.improvedMessageComposerEnabled)()||F.spellcheck,transformTextEmoji:!(0,E.improvedMessageComposerEnabled)()||F.transformTextEmoji})),k.default.createElement("div",{className:(0,P.default)([x.sendWrapper,x.fullWidth,w.uiPadding.vert16])},k.default.createElement(d.FlexRow,{align:"center",xstyle:[x.fullWidth,w.uiPadding.horiz28]},k.default.createElement(d.FlexItem,{grow:1},k.default.createElement(b.default,null)),k.default.createElement(d.FlexItem,null,k.default.createElement(y.default,{ariaLabel:M.fbt._("Send",null,{hk:"2tJdeW"}),large:!0,icon:k.default.createElement(v.SendIcon,{directional:!0}),onClick:()=>{f.ModalManager.closeMedia(),(0,C.sendStatusTextMsgAction)({text:R,color:n,font:e})}})))),W);var H,U}D.displayName="StatusV3TextPost"},614839:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(598334),l=n(114850),o=n(83369),i=n(865120),u=n(617425),d=n(548360),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),s=(a(n(156720)),n(978703));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p={icon:{color:"r4n0aloe"}};function m(){const e=e=>(null==e?void 0:e.setting)===i.StatusPrivacySettingType.Contact?d.fbt._("(Contacts)",null,{hk:"BURso"}):(null==e?void 0:e.setting)===i.StatusPrivacySettingType.DenyList?d.fbt._("({excluded-contacts-count} excluded)",[d.fbt._param("excluded-contacts-count",null==e?void 0:e.denyList.length)],{hk:"Ntu3z"}):(null==e?void 0:e.setting)===i.StatusPrivacySettingType.AllowList?d.fbt._("({included-contacts-count} included)",[d.fbt._param("included-contacts-count",null==e?void 0:e.allowList.length)],{hk:"26rhei"}):void 0,{statusPostingPrivacyConfig:t,setStatusPostingPrivacyConfig:n}=(0,s.useWAWebStatusPrivacySettingConfig)(),[a,f]=(0,c.useState)(e(t));return(0,c.useEffect)((()=>{f(e(t))}),[t]),c.default.createElement(u.WDSButtonPlainWhite,{icon:r.E2EStatusV2Icon,iconXstyle:p.icon,onClick:()=>{l.ModalManager.open(c.default.createElement(o.StatusPrivacySettingsFlowLoadable,{statusPostingPrivacyConfig:t,setStatusPostingPrivacyConfig:n}))}},d.fbt._("Status",null,{hk:"2N089x"})," ",a)}var h=(0,c.forwardRef)(m);t.default=h},791692:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(900316),l=a(n(850375)),o=a(n(956928)),i=a(n(667294)),u=n(839062);const d=n(76672).Mirrored(["StatusDrawer","StatusPrivacySettingDrawer"]);function c(e){const{onBack:t}=e,n=()=>{null!=t?t():r.DrawerManager.closeDrawerLeft()},a=()=>{s.pop()},[c,s]=(0,u.useFlow)(d.StatusDrawer,{transitions:u.FlowTransitions.DrawerLeft,onEnd:n});if(null==s.step)return null;let f;switch(s.step){case d.StatusDrawer:f=i.default.createElement(o.default,{onBack:n,onOpenStatusPrivacySettingDrawer:()=>{s.push(d.StatusPrivacySettingDrawer)}});break;case d.StatusPrivacySettingDrawer:f=i.default.createElement(l.default,{onClose:a})}return i.default.createElement(c,{flow:s},f)}c.displayName="StatusDrawerFlow"},119063:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=a(n(670983)),l=n(114850),o=a(n(971917)),i=a(n(703729)),u=n(573918),d=n(865120),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),s=n(839062);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=n(76672).Mirrored(["StatusPrivacySettingModal","StatusPrivacySettingContactsSelection"]);function m(e){var t,n;const{statusPostingPrivacyConfig:a,setStatusPostingPrivacyConfig:f}=e,m=null!==(t=null==a?void 0:a.allowList)&&void 0!==t?t:[],h=null!==(n=null==a?void 0:a.denyList)&&void 0!==n?n:[],[g,E]=(0,c.useState)(null),y=()=>{l.ModalManager.close()},v=()=>{b.pop("flow-transition-box-size-drawer-pop")},[C,b]=(0,s.useFlow)(p.StatusPrivacySettingModal,{transitions:s.FlowTransitions.Modal,onEnd:y});if(null==b.step)return null;let w;switch(b.step){case p.StatusPrivacySettingModal:w=c.default.createElement(i.default,{onClose:y,onSelectStatusPrivacyOption:e=>{E(e),e===d.StatusPrivacySettingType.Contact?((0,u.handleContactClick)(f,m,h),y()):b.push(p.StatusPrivacySettingContactsSelection,"flow-transition-box-size-drawer-push")},statusPostingPrivacyConfig:a});break;case p.StatusPrivacySettingContactsSelection:w=c.default.createElement(o.default,{updatedSettings:(0,r.default)(g,"updatedSettings"),statusPostingPrivacyConfig:a,setStatusPostingPrivacyConfig:f,onBack:v})}return c.default.createElement(C,{flow:b},w)}m.displayName="StatusPrivacySettingsModalFlow"},83369:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StatusPrivacySettingsFlowLoadable=void 0;var r=a(n(348926)),l=a(n(114945)),o=a(n(472514)),i=a(n(997026)),u=a(n(261724)),d=a(n(667294));const c=(0,i.default)((0,r.default)((function*(){const e=yield Promise.all([n.e(5878),n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,119063));return(0,o.default)(e)})),"StatusPrivacySettingsFlow");t.requireBundle=c;const s=(0,l.default)({loader:c,loading:e=>d.default.createElement(u.default,{error:Boolean(e.error)})});t.StatusPrivacySettingsFlowLoadable=s},971917:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(177938),o=n(114850),i=n(61740),u=n(792882),d=n(865541),c=a(n(96662)),s=n(625786),f=n(390737),p=n(865120),m=n(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){var n,a;let{statusPostingPrivacyConfig:g,setStatusPostingPrivacyConfig:E,updatedSettings:y,onBack:v}=e;const C=null!==(n=null==g?void 0:g.allowList)&&void 0!==n?n:[],b=null!==(a=null==g?void 0:g.denyList)&&void 0!==a?a:[],w=y===p.StatusPrivacySettingType.AllowList?C:b,_=w.map((e=>l.ContactCollection.gadd(e))),S=new Set(w.map(String)),M=function(){var e=(0,r.default)((function*(e){try{const t=e.map((e=>e.id));y===p.StatusPrivacySettingType.AllowList?(yield c.default.setStatusPrivacyAllowList(t),E({setting:p.StatusPrivacySettingType.AllowList,allowList:t,denyList:b})):y===p.StatusPrivacySettingType.DenyList&&(yield c.default.setStatusPrivacyDenyList(t),E({setting:p.StatusPrivacySettingType.DenyList,allowList:C,denyList:t}))}catch(e){__LOG__(4,void 0,new Error,!0)`error: ${String(e.stack)}`,SEND_LOGS("SelectStatusPrivacyContactsModal:failed to set privacy settings"),f.ToastManager.open(h.default.createElement(s.Toast,{msg:m.fbt._("Failed to update privacy settings. Please try again.",null,{hk:"h89q3"})}))}}));return function(){return e.apply(this,arguments)}}();return h.default.createElement(i.SelectModal,{ref:t,title:y===p.StatusPrivacySettingType.AllowList?m.fbt._("Only Share With...",null,{hk:"xhHAh"}):m.fbt._("My Contacts Except...",null,{hk:"4e2ltq"}),onBack:v,onConfirm:e=>{M(e),o.ModalManager.close()},getInitialItems:()=>_,listType:i.ListType.ContactSelectModal,maxItems:d.MAX_CONTACTS,singleSelectionFooterType:u.FooterType.CONFIRM,multipleSelectionFooterType:u.FooterType.CONFIRM,useAllContacts:!0,filter:e=>!e.id.isLid()&&(S.has(e.id.toString())||l.ContactCollection.isFilteredContact(e)),getSelectionSummary:e=>y===p.StatusPrivacySettingType.AllowList?m.fbt._({"*":"{allow-contacts} contacts included",_1:"1 contact included"},[m.fbt._plural(e.length,"allow-contacts")],{hk:"2SL0XY"}):m.fbt._({"*":"{allow-contacts} contacts excluded",_1:"1 contact excluded"},[m.fbt._plural(e.length,"allow-contacts")],{hk:"1O0mGJ"}),enableSelectAll:!0})}var y=(0,h.forwardRef)(E);t.default=y},956928:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(780549),l=a(n(908081)),o=a(n(324093)),i=n(626194),u=n(664149),d=n(81644),c=n(526795),s=n(459912),f=n(970910),p=n(115927),m=a(n(988997)),h=n(657694),g=a(n(17225)),E=n(856797),y=n(285199),v=n(931109),C=n(454905),b=n(757453),w=n(548360),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),S=a(n(637660));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const k=(0,_.forwardRef)(((e,t)=>{const n=(0,_.useRef)(),a=(0,S.default)((()=>Math.round(1e9*Math.random())));(0,_.useEffect)((()=>{(0,b.setLastStatusUsage)(),null!=a.current&&h.StatusV3Collection.logMetrics({type:"session",sessionId:a.current}),r.Cmd.onStatusViewerOpen()}),[]);const M=(0,p.isStatusPostingEnabled)()?_.default.createElement(c.MenuBarItem,{testid:"menu-bar-add-status",key:"menu-bar-add-status",tabOrder:v.TAB_ORDER.CHATLIST_HEADER,icon:_.default.createElement(f.PlusLargeIcon,null),title:w.fbt._("Add Status",null,{hk:"2b6jMo"})},_.default.createElement(m.default,{dirX:u.DirX.LEFT,type:u.MenuType.DropdownMenu})):null,k=(0,p.isStatusPostingEnabled)()?_.default.createElement(c.MenuBarItem,{testid:"status-menu",key:"status-menu",icon:_.default.createElement(s.MenuIcon,null),title:w.fbt._("Menu",null,{hk:"3BepKh"})},_.default.createElement(g.default,{onOpenStatusPrivacySettingDrawer:e.onOpenStatusPrivacySettingDrawer})):null,P=w.fbt._("Status",null,{hk:"3HkkWO"}),O=w.fbt._("Status Tab Drawer",null,{hk:"2ywPHm"});return _.default.createElement(d.HotKeys,{ref:n,"aria-label":O},_.default.createElement(l.default,{ref:t,theme:"white-bg",testid:"status-drawer",tsNavigationData:{surface:"status-v3"}},_.default.createElement(i.DrawerHeader,{title:P,type:(0,C.topMenuRedesignEnabled)()?i.DRAWER_HEADER_TYPE.TAB:i.DRAWER_HEADER_TYPE.LARGE,menu:[M,k],onBack:e.onBack}),_.default.createElement(o.default,null,_.default.createElement(y.StatusV3ListHeader,{sessionIdRef:a}),_.default.createElement(E.StatusV3List,{sessionIdRef:a}))))}));k.displayName="StatusDrawer";var P=k;t.default=P},703729:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(118612),l=a(n(30062)),o=n(865120),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=(0,i.forwardRef)(((e,t)=>{let{onClose:n,onSelectStatusPrivacyOption:a,statusPostingPrivacyConfig:u}=e;return i.default.createElement(r.Modal,{type:r.ModalTheme.Tower,ref:t},i.default.createElement(l.default,{statusPostingPrivacyConfig:u,onContactClick:()=>{a(o.StatusPrivacySettingType.Contact)},onDenyListClick:()=>{a(o.StatusPrivacySettingType.DenyList)},onAllowListClick:()=>{a(o.StatusPrivacySettingType.AllowList)},isModal:!0,onClose:n}))}));d.displayName="StatusPrivacySettingsModal";var c=d;t.default=c},17225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(664149),r=n(675085),l=n(548360),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t){const{onOpenStatusPrivacySettingDrawer:n}=e;return o.default.createElement(a.Dropdown,{ref:t,type:a.MenuType.DropdownMenu,flipOnRTL:!0,key:"StatusDrawerHeader",dirX:a.DirX.LEFT},o.default.createElement(r.DropdownItem,{testid:"mi-status-privacy",action:n},l.fbt._("Status Privacy",null,{hk:"xf2QH"})))}var d=(0,o.forwardRef)(u);t.default=d},856797:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3List=U;var r=n(950987),l=n(177938),o=n(660666),i=n(811720),u=n(512938),d=a(n(964223)),c=a(n(570834)),s=n(690495),f=n(97858),p=n(114850),m=n(177586),h=a(n(772549)),g=n(115927),E=a(n(567268)),y=n(657694),v=n(55001),C=a(n(564479)),b=n(676345),w=n(122093),_=n(851488),S=n(548360),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),k=a(n(156720)),P=a(n(637660)),O=n(808446);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const x={flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",paddingBottom:"lzi2pvmc",overflowY:"ag5g9lrv","::-webkit-scrollbar-track":{backgroundColor:"jhwejjuw"},"::-webkit-scrollbar-thumb":{backgroundColor:"ny7g4cd4"}},I={display:"p357zi0d",flexDirection:"f8m0rgwh",paddingEnd:"kyc7k6mt",paddingStart:"f78eapp6"},R={width:"ln8gz9je",height:"bbl9m3t3",marginTop:"fgtikrv0",borderTop:"he2qn9qk",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a"},L={display:"p357zi0d",flexDirection:"sap93d0t",justifyContent:"o4u7okr9",fontSize:"ovllcyds",color:"q1js4oc8"},N={fontSize:"ovllcyds",color:"q1js4oc8",":hover":{color:"la55qv5n"}},D="SEC_UNREAD",A="SEC_READ",j="SEC_MUTED",F="SEC_E2E_MESSAGE",B="ROW_STATUS";function W(e){let{data:t,onOpenStatus:n,onToggleMute:a,sessionIdRef:l}=e;const i=S.fbt._("RECENT",null,{hk:"vPbQs"}),d=S.fbt._("VIEWED",null,{hk:"17DrUs"}),c=S.fbt._("MUTED",null,{hk:"31XgZG"}),f=S.fbt._("HIDE",null,{hk:"3n6J18"}),y=S.fbt._("SHOW",null,{hk:"1KKhJ5"});switch(t.type){case D:return(0,g.isStatusDrawerEnabled)()?M.default.createElement(h.default,{header:i,isTransparent:!0}):M.default.createElement("div",{tabIndex:-1,"data-focusid":"status-row-item",className:(0,k.default)(I)},M.default.createElement("hr",{className:(0,k.default)(R)}),M.default.createElement("div",{className:(0,k.default)(L)},M.default.createElement("span",null,i)));case A:return(0,g.isStatusDrawerEnabled)()?M.default.createElement(h.default,{header:d,isTransparent:!0}):M.default.createElement("div",{tabIndex:-1,"data-focusid":"status-row-item",className:(0,k.default)(I)},M.default.createElement("hr",{className:(0,k.default)(R)}),M.default.createElement("div",{className:(0,k.default)(L)},M.default.createElement("span",null,d)));case j:return(0,g.isStatusDrawerEnabled)()?M.default.createElement(s.FlexRow,{align:"center",xstyle:b.uiPadding.end10},M.default.createElement(s.FlexItem,{grow:1},M.default.createElement(h.default,{header:c,isTransparent:!0})),M.default.createElement(s.FlexItem,{grow:0,align:"center"},M.default.createElement(r.Clickable,{onClick:a},M.default.createElement(_.WDSTextSmall,{as:"span",color:"teal"},Boolean(t.expanded)?f:y)))):M.default.createElement("div",{tabIndex:-1,"data-focusid":"status-row-item",className:(0,k.default)(I)},M.default.createElement("hr",{className:(0,k.default)(R)}),M.default.createElement("div",{className:(0,k.default)(L)},M.default.createElement("span",null,c),M.default.createElement("button",{className:(0,k.default)(N),onClick:a},Boolean(t.expanded)?f:y)));case B:{const e=(P=t.status,(0,o.getIsMe)(P.contact)?w.STATUS_ROW_SECTION.MY_STATUS:P.contact.statusMute?w.STATUS_ROW_SECTION.MUTED_STORIES:(0,v.getHasUnread)(P)?w.STATUS_ROW_SECTION.RECENT_STORIES:w.STATUS_ROW_SECTION.PREVIOUS_STORIES);return M.default.createElement(E.default,{isModalView:!(0,g.isStatusDrawerEnabled)(),statusV3:t.status,onClick:()=>{n?n(t.status,void 0,t.index,e):p.ModalManager.openMedia(M.default.createElement(C.default,{initialStatusV3:t.status,initialStatusMsg:void 0,closeStatusViewer:()=>{p.ModalManager.closeMedia()},sessionId:null==l?void 0:l.current,rowIdx:t.index,rowSection:e,continuousPlay:!0}),{transition:"status-v3-modal"})},contact:t.status.contact})}case F:return M.default.createElement(m.E2eMessageStatusV3List,null);default:throw new u.UnknownDataError(t)}var P}W.displayName="Item";const H=(0,u.FlatListFactory)();function U(e){const{onOpenStatus:t}=e,n=(0,P.default)((()=>new c.default)),a=()=>{const e=y.StatusV3Collection.getUnexpired(!0),t=y.StatusV3Collection.getUnexpired(!1);return{unread:e,read:t,muted:[...e,...t].filter((e=>e.contact.statusMute))}},{unread:r,read:o,muted:u}=(0,M.useMemo)(a,[]),[s,p]=(0,M.useState)((()=>r.filter((e=>!e.contact.statusMute)))),[m,h]=(0,M.useState)((()=>o.filter((e=>!e.contact.statusMute)))),[E,v]=(0,M.useState)(u),[C,b]=(0,M.useState)(!1);(0,O.useListener)(y.StatusV3Collection,"add remove bulk_add sort change:msgsChanged change:unreadCount",(()=>{const{unread:e,read:t,muted:n}=a();p(e.filter((e=>!e.contact.statusMute))),h(t.filter((e=>!e.contact.statusMute))),v(n)})),(0,O.useListener)(l.ContactCollection,"change:statusMute",(()=>{const{unread:e,read:t,muted:n}=a();p(e.filter((e=>!e.contact.statusMute))),h(t.filter((e=>!e.contact.statusMute))),v(n)}));const w=()=>{b(!C)},_=(0,g.isStatusDrawerEnabled)()?72:48,S=(0,g.isStatusDrawerEnabled)()?72:64,T=(0,M.useMemo)((()=>{const e=[];return s.length>0&&(e.push({type:D,itemKey:"section-unread",height:_}),e.push(...s.map(((e,t)=>({type:B,itemKey:e.id.toString(),height:S,status:e,index:t}))))),m.length>0&&(e.push({type:A,itemKey:"section-read",height:_}),e.push(...m.map(((e,t)=>({type:B,itemKey:e.id.toString(),height:S,status:e,index:t}))))),E.length>0&&(e.push({type:j,itemKey:"section-muted",height:_,expanded:C}),C&&e.push(...E.map(((e,t)=>({type:B,itemKey:e.id.toString(),height:S,status:e,index:t}))))),(0,f.isPrivacyNarrativeV1Enabled)()&&e.push({type:F,itemKey:"section-e2e-message"}),e}),[s,m,E,_,S,C]);let I;return I=y.StatusV3Collection.hasSynced()&&T.length>0?M.default.createElement(d.default,{className:(0,k.default)(x),flatListControllers:[n.current]},M.default.createElement(H,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:n.current,direction:"vertical",data:T,handleKeyboardNavigation:!0,role:"list",focusableItemSelector:"[data-focusid='status-row-item']",renderItem:e=>M.default.createElement(W,{data:e,onOpenStatus:t,onToggleMute:w})})):M.default.createElement(i.ListStatus,null),I}U.displayName="StatusV3List"},285199:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3ListHeader=x;var r=a(n(670983)),l=n(727356),o=n(177938),i=n(23641),u=n(664149),d=n(272586),c=n(114850),s=n(435595),f=n(115927),p=a(n(988997)),m=n(657694),h=a(n(376394)),g=a(n(564479)),E=n(392632),y=a(n(37875)),v=n(676345),C=a(n(395967)),b=n(459857),w=a(n(844453)),_=n(122093),S=n(548360),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),k=a(n(156720)),P=n(808446);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}const T={secondaryHeaderText:{fontSize:"ovllcyds",color:"kcq1et6t"},secondaryText:{color:"pm5hny62"},primaryHeaderText:{fontSize:"enbbiyaj"},panelHeader:{display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"t5t8swlc",paddingStart:"mjn2akup"},headerButtonsPrimary:{display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"fujhy7ri",height:"q8xcl7qa",color:"lxozqee9"},headerText:{display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"o4u7okr9",minWidth:"ecrppv57",height:"epwkujcx",marginEnd:"k1jo73ug"},roundComponent:{height:"m8k3rz5l",width:"ju98mj9v",transitionProperty:"o3x4pys2",boxShadow:"a27i2aag"},wrappingRoundComponent:{position:"lhggkp7q",bottom:"ipet1iae",zIndex:"thghmljt",end:"j2mzdvlq",backgroundColor:"ihvf49ua"},headerButtonsWrapper:{position:"g0rxnol2"}};function x(e){var t;let{onOpenStatus:n,sessionIdRef:a}=e;const O=(0,f.isStatusDrawerEnabled)()&&(0,f.isStatusPostingEnabled)(),{isKeyboardUser:x}=(0,C.default)(),I=(0,M.useRef)(null),[R,L]=(0,M.useState)((()=>m.StatusV3Collection.getMyStatus())),[N,D]=(0,M.useState)((()=>null==R?void 0:R.msgs.last())),[A,j]=(0,M.useState)(null),F=()=>{var e;L(m.StatusV3Collection.getMyStatus()),D(null===(e=m.StatusV3Collection.getMyStatus())||void 0===e?void 0:e.msgs.last())};let B,W,H;(0,P.useListener)(m.StatusV3Collection,"add remove bulk_add sort change:msgsChanged change:unreadCount",F),(0,P.useListener)(o.ContactCollection,"change:statusMute",F),R&&(H=R.msgs);const U=()=>{const e=null==R?void 0:R.msgs;R&&(null==e?void 0:e.length)&&(n?n(R,e.head(),0,_.STATUS_ROW_SECTION.MY_STATUS):c.ModalManager.openMedia(M.default.createElement(g.default,{initialStatusV3:R,initialStatusMsg:e.head(),closeStatusViewer:()=>{c.ModalManager.closeMedia()},sessionId:null==a?void 0:a.current,rowIdx:0,rowSection:_.STATUS_ROW_SECTION.MY_STATUS,continuousPlay:!0}),{transition:"status-v3-modal"}))},z=()=>{O&&j({DirX:u.DirX.RIGHT,DirY:u.DirY.BOTTOM,menu:M.default.createElement(p.default,{dirX:u.DirX.RIGHT,type:u.MenuType.Dropdown}),anchor:I.current,autoFocus:x})};let G,q,V=null;const Y=null!=R&&R.msgs.length>0;if(R&&(null===(t=H)||void 0===t?void 0:t.length))B=M.default.createElement(h.default,{tabIndex:Y?0:-1,role:Y?"button":null,ariaLabel:S.fbt._("My Status",null,{hk:"225G1q"}),id:R.id,contact:R.contact,onClick:U}),W=M.default.createElement(d.LastStatusStatus,{msg:(0,r.default)(N,"myLastStatus")}),q={cursor:"pointer"},G=U;else{V=O&&M.default.createElement(s.Round,{xstyle:[T.roundComponent,T.wrappingRoundComponent,v.uiPadding.all2]},M.default.createElement(s.Round,{xstyle:T.roundComponent,ref:I},M.default.createElement(l.AttachMenuPlusIcon,{width:12,height:12}))),B=M.default.createElement(i.DetailImage,{id:(0,b.getMaybeMeUser)(),theme:"status_v3",size:40});const e=(0,f.isStatusPostingEnabled)()?S.fbt._("Click to add status update",null,{hk:"221eqO"}):S.fbt._("No updates",null,{hk:"2Fcs7d"});W=M.default.createElement("span",{className:(0,k.default)(T.secondaryHeaderText,(0,f.isStatusDrawerEnabled)()&&T.secondaryText)},e),q=O?{cursor:"pointer"}:null,G=z}const K=M.default.createElement("span",{className:(0,k.default)(T.primaryHeaderText)},S.fbt._("My Status",null,{hk:"225G1q"}));return M.default.createElement("div",{className:(0,k.default)(T.panelHeader,(0,f.isStatusDrawerEnabled)()?v.uiMargin.top14:v.uiMargin.top32),style:q,onClick:G},M.default.createElement("div",{className:(0,k.default)(T.headerButtonsWrapper)},M.default.createElement("div",{className:(0,k.default)(T.headerButtonsPrimary)},B,V)),M.default.createElement("div",{className:(0,k.default)(T.headerText)},K,W),M.default.createElement(w.default,{transitionName:"pop-fast"},null==A?null:M.default.createElement(E.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{j(null)}},M.default.createElement(y.default,{contextMenu:A}))))}x.displayName="StatusV3ListHeader"},356439:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,s.useFlow)(null==e.stickerPackId?p.StickerStore:p.StickerPackDetails,{transitions:s.FlowTransitions.DrawerRight}),[a,f]=(0,c.useState)(null),[m,h]=(0,c.useState)(null),g=(0,c.useRef)(0),E=e=>{g.current=e},y=e=>{f(e),n.push(p.StickerPackDetails)},v=(e,t)=>{h(e),t&&f(t),n.push(p.StickerDetails)},C=()=>{n.pop()},b=()=>{n.pop(),m&&r.Cmd.once("ui_idle",(()=>{e.onSticker(m,d.STICKER_SEND_ORIGIN_TYPE.STICKER_STORE)}))};if(null==n.step)return null;let w=null;switch(n.step){case p.StickerStore:w=c.default.createElement(i.default,{onStickerPackDetails:y,onClose:()=>n.pop(),onScrollOffsetChange:E,scrollOffset:g.current});break;case p.StickerPackDetails:w=null==e.stickerPackId?null!=a?c.default.createElement(o.default,{stickerPack:a,onStickerClick:v,onStickerEnter:v,onBack:C}):null:c.default.createElement(o.default,{stickerPackId:e.stickerPackId,onStickerClick:v,onStickerEnter:v,onClose:()=>n.end(u.DismissReason.LIFECYCLE)});break;case p.StickerDetails:w=null!=m&&null!=a?c.default.createElement(l.default,{sticker:m,stickerPack:a,onSend:b,onBack:()=>n.pop()}):null}return c.default.createElement(t,{flow:n},w)};var r=n(780549),l=a(n(718630)),o=a(n(659415)),i=a(n(665695)),u=n(238669),d=n(843534),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),s=n(839062);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=n(76672).Mirrored(["StickerStore","StickerPackDetails","StickerDetails"])},84846:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerIconContainer=p;var r=n(23641),l=n(118914),o=n(165810),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),u=a(n(156720)),d=a(n(105170));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const s={boxSizing:"cm280p3y",height:"graaj7av",width:"jgly3g7g",minHeight:"lignnmtc",minWidth:"j3e9rhaw",position:"g0rxnol2"},f={width:"ln8gz9je",height:"ppled2lx"};function p(e){let{url:t,xstyle:n}=e;const[a,{isIntersecting:c}]=(0,d.default)({root:null,rootMargin:"0px",threshold:0}),p=(0,i.useRef)(c);return p.current=p.current||c,i.default.createElement("div",{ref:a,className:(0,u.default)(s,n)},p.current&&i.default.createElement(l.ImgWithFallback,{fallbackSVG:i.default.createElement(o.StickerIcon,null),wrapOptions:{centerWrapperChild:!0,wrapperClassName:""},className:(0,u.default)(f),size:"NONE",shape:r.DetailImageShape.Square,imgProps:{src:t,draggable:!1},theme:l.Theme.Transparent}))}p.displayName="StickerIconContainer"},399358:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(512938),l=a(n(964223)),o=a(n(570834)),i=n(390185),u=n(432938),d=a(n(999205)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),s=a(n(637660));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=(0,r.FlatListFactory)();function m(e){const{stickerPacks:t,onStickerPackDetails:n}=e,a=(0,s.default)((()=>new o.default)),r=(0,c.useMemo)((()=>t.map((e=>({itemKey:e.id,stickerPack:e})))),[t]);return c.default.createElement(l.default,{flatListControllers:[a.current]},c.default.createElement(p,{flatListController:a.current,direction:"vertical",forceConsistentRenderCount:!1,data:r,renderItem:e=>c.default.createElement(d.default,{data:e,onClick:n}),defaultItemHeight:u.STICKER_LIST_ITEM_HEIGHT,keyOrder:i.KeyOrder.INVERSE}))}m.displayName="StickerPackList"},999205:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=a(n(681176)),l=a(n(991370)),o=n(305521),i=n(529532),u=n(84846),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),c=a(n(156720));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const f={stickerPack:{paddingStart:"lyvj5e2u",color:"h15s16sg"},title:{display:"p357zi0d",alignItems:"gndfcl4n"},animatedIcon:{marginStart:"oz0g9ue8",color:"kw851w1p"},stickerIconsContainer:{display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"dnb887gk",marginTop:"dj1c3cmq"},stickerIcon:{marginEnd:"gwq3iy2m"}};function p(e){let{data:t,onClick:n}=e;const{stickerPack:a}=t,s=d.default.createElement("div",{className:(0,c.default)(f.title)},d.default.createElement(o.EmojiText,{text:a.name,ellipsify:!0,titlify:!0}),a.animated?d.default.createElement(i.RoundPlayIcon,{xstyle:f.animatedIcon,width:16,height:16}):null),p=[],m=Math.min(6,a.previewImageIds.length);for(let e=0;e<m;e++){const t=a.previewImageIds[e];p.push(d.default.createElement(d.Fragment,{key:t},d.default.createElement(r.default,{breakpoint:94*(e+1)-22,inverseToContainer:!0,maxWidth:"100%",minWidth:0}),d.default.createElement(u.StickerIconContainer,{url:`https://static.whatsapp.net/sticker?cat=sticker_preview_png&id=${t}`,xstyle:f.stickerIcon})))}const h=d.default.createElement(d.default.Fragment,null,d.default.createElement(o.EmojiText,{text:a.publisher,ellipsify:!0}),d.default.createElement("div",{className:(0,c.default)(f.stickerIconsContainer)},p));return d.default.createElement(l.default,{key:a.id,testid:"sticker-pack-list-item",theme:"sticker-pack",primary:s,secondary:h,onClick:()=>{n(a)},className:(0,c.default)(f.stickerPack),contextEnabled:()=>!1})}p.displayName="StickerPackListItem"},718630:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(983098)),l=a(n(908081)),o=a(n(324093)),i=n(626194),u=a(n(969358)),d=a(n(570834)),c=n(634401),s=n(438543),f=a(n(767569)),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=a(n(156720)),g=a(n(637660));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const y={stickerContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"hv5pdlef",marginBottom:"gdaqao4w",width:"ln8gz9je"},controlsContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"fhelu9n7"},controlsButton:{marginStart:"nzcjdldu",marginEnd:"gqi0zhd6"}};function v(e,t){const n=(0,g.default)((()=>new d.default)),{sticker:a,stickerPack:E,onSend:v,onBack:C}=e;return m.default.createElement(l.default,{key:"sticker-details-modal",theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-details"},m.default.createElement(i.DrawerHeader,{title:p.fbt._("Sticker Details",null,{hk:"44A1rH"}),type:i.DRAWER_HEADER_TYPE.SMALL,onBack:C}),m.default.createElement(o.default,{flatListControllers:[n.current]},m.default.createElement(u.default,{animation:!1,theme:"padding-no-margin",shadow:!1},m.default.createElement("div",{className:(0,h.default)(y.stickerContainer)},m.default.createElement(f.default,{key:a.id,sticker:a,theme:"stickerDetails"})),m.default.createElement(s.StickerDetailsStickerPackInfo,{name:E.name,publisher:E.publisher,theme:s.Theme.StickerStore}),m.default.createElement("div",{className:(0,h.default)(y.controlsContainer)},m.default.createElement(r.default,{Icon:c.SendIcon,label:p.fbt._("Send to this chat",null,{hk:"3uG4Tr"}),testid:"sticker-action send-button",xstyle:y.controlsButton,onClick:()=>{v(a)}})))))}var C=(0,m.forwardRef)(v);t.default=C},659415:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(908081)),l=a(n(324093)),o=n(626194),i=a(n(969358)),u=n(305521),d=a(n(570834)),c=n(507407),s=n(529532),f=n(956113),p=n(425192),m=a(n(767569)),h=n(180519),g=n(548360),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),y=a(n(156720)),v=a(n(524578)),C=a(n(637660)),b=n(384448),w=a(n(940630));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const S=n(95492),M={titleContainer:{display:"p357zi0d",alignItems:"gndfcl4n",marginBottom:"or9x5nie"},title:{flexGrow:"tvf2evcx"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},animatedIcon:{marginStart:"oz0g9ue8",color:"kw851w1p"},contentContainer:{marginBottom:"dblt22a0",color:"hp667wtd",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},stickersContainer:{display:"btb1m7bk",gridTemplateColumns:"dr6m1ylk",gridColumnGap:"zqptfkjs",gridRowGap:"lhjw8glk",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"ppled2lx"},emptyContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"hv5pdlef",marginBottom:"gdaqao4w",width:"ln8gz9je"},emptySticker:{width:"sr23wnuw",height:"rjxfi64q",marginBottom:"dblt22a0",backgroundRepeat:"sxl192xd",backgroundSize:"hbhfgwk1"},emptyText:{textAlign:"qfejxiq4",marginBottom:"fhelu9n7"}};function k(e,t){var n;const a=(0,C.default)((()=>new d.default)),{stickerPack:_,stickerPackId:k,onStickerClick:P,onStickerEnter:O,onBack:T,onClose:x}=e,I=function(e,t){return(0,v.default)(p.StickerPackCollectionMd,"add remove reset",(()=>e||(t?p.StickerPackCollectionMd.get(t):null)))||(null==t?null:void p.StickerPackCollectionMd.fetchStickerPack(t))}(_,k),[R]=null!==(n=(0,b.useOptionalStickerPackValues)(null==I?void 0:I.id,[c.getStickers]))&&void 0!==n?n:[],L=function(e){const t=(0,v.default)(e,"add remove reset",(()=>{var t;return null!==(t=null==e?void 0:e.toArray())&&void 0!==t?t:[]})),n=(0,w.default)();return(0,E.useEffect)((()=>{n((()=>{null==e||e.fetch()}))}),[e,n]),t}(R),N=function(e){return(0,v.default)(p.StickerPackCollectionMd,"change:packFetchState",(()=>e?p.StickerPackCollectionMd.packFetchState.get(e):null))}(k),D=(e,t)=>{I&&P(e,I,t)},A=(e,t)=>{I&&O(e,I,t)};let j;return(k&&N===p.FetchState.PENDING||0===(null==L?void 0:L.length))&&(j=E.default.createElement(h.TextDiv,{theme:"plain",xstyle:M.spinner},E.default.createElement(f.Spinner,{size:50,stroke:4}))),E.default.createElement(r.default,{key:"sticker-pack-details-modal",theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-pack-details"},E.default.createElement(o.DrawerHeader,{title:g.fbt._("Sticker Details",null,{hk:"44A1rH"}),type:o.DRAWER_HEADER_TYPE.SMALL,onBack:T,onCancel:x}),E.default.createElement(l.default,{flatListControllers:[a.current]},E.default.createElement(i.default,{animation:!1,theme:"padding-no-margin",shadow:!1},I?E.default.createElement(E.default.Fragment,null,E.default.createElement(h.TextDiv,{theme:"title",xstyle:M.titleContainer},E.default.createElement(u.EmojiText,{xstyle:M.title,text:I.name,ellipsify:!0,titlify:!0}),I.animated?E.default.createElement(s.RoundPlayIcon,{xstyle:M.animatedIcon,width:16,height:16}):null),I.publisher&&E.default.createElement(h.TextDiv,{theme:"plain",xstyle:M.contentContainer},E.default.createElement(u.EmojiText,{text:g.fbt._("Created by {name}",[g.fbt._param("name",I.publisher)],{hk:"4rhbUU"})})),I.description&&E.default.createElement(h.TextDiv,{theme:"plain",xstyle:M.contentContainer},E.default.createElement(u.EmojiText,{text:I.description})),j,E.default.createElement("div",{className:(0,y.default)(M.stickersContainer)},null==L?void 0:L.map((e=>E.default.createElement(m.default,{key:e.id,sticker:e,theme:"stickerStore",onClick:D,onEnter:A,dontShowViewPack:!0}))))):null,!I&&k&&N===p.FetchState.PENDING?j:null,I||k&&N===p.FetchState.PENDING?null:E.default.createElement(E.default.Fragment,null,E.default.createElement("div",{className:(0,y.default)(M.emptyContainer)},E.default.createElement("div",{className:(0,y.default)(M.emptySticker),style:{backgroundImage:`url(${S})`}})),E.default.createElement(h.TextDiv,{theme:"plain",xstyle:[M.contentContainer,M.emptyText]},E.default.createElement(u.EmojiText,{text:g.fbt._("Unable to find sticker pack",null,{hk:"3aIIxP"})}))))))}var P=(0,E.forwardRef)(k);t.default=P},665695:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(908081)),l=a(n(324093)),o=n(626194),i=a(n(969358)),u=a(n(570834)),d=n(956113),c=n(425192),s=a(n(399358)),f=n(180519),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=(a(n(156720)),a(n(524578))),g=a(n(637660));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const y={spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"}};function v(e,t){const n=(0,h.default)(c.StickerPackCollectionMd,"add remove reset",(()=>c.StickerPackCollectionMd.filter((e=>null!=e.index)))),a=(0,g.default)((()=>new u.default));let E;return 0===n.length&&(E=m.default.createElement(f.TextDiv,{theme:"plain",xstyle:y.spinner},m.default.createElement(d.Spinner,{size:50,stroke:4}))),m.default.createElement(r.default,{key:"sticker-store-modal",theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-store"},m.default.createElement(o.DrawerHeader,{title:p.fbt._("WhatsApp Sticker Store",null,{hk:"nicpq"}),type:o.DRAWER_HEADER_TYPE.SMALL,onCancel:e.onClose}),m.default.createElement(l.default,{flatListControllers:[a.current],onScroll:t=>{var n;null===(n=e.onScrollOffsetChange)||void 0===n||n.call(e,t.currentTarget.scrollTop)},scrollOffset:e.scrollOffset},m.default.createElement(i.default,{animation:!1,theme:"no-padding",shadow:!1},E,m.default.createElement(s.default,{stickerPacks:n,onStickerPackDetails:e.onStickerPackDetails}))))}var C=(0,m.forwardRef)(v);t.default=C},319029:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RootMsg=d;var r=n(356097),l=a(n(666413)),o=a(n(667294)),i=a(n(156720));const u={zIndex:"nbczt5ty",borderBottomWidth:"oteuebma",borderBottomStyle:"cmcp1to6",borderBottomColor:"ilgl9vsw",borderBottomStartRadius:"lrpjbpgm",borderBottomEndRadius:"nqm9sais"};function d(e){const{msg:t,replyMsg:n,chat:a}=e;return o.default.createElement("div",{className:(0,i.default)(u)},o.default.createElement(l.default,{msg:t.safe(),rootMsg:n.safe(),key:t.id.toString(),displayType:r.DISPLAY_TYPE.CONVERSATION,theme:"viewAllReplies",chat:a}))}d.displayName="RootMsg"},737745:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,o.useFlow)(i.ViewAllRepliesFlow,{transitions:o.FlowTransitions.DrawerRight});if(null==n.step)return null;return l.default.createElement(t,{flow:n},l.default.createElement(r.default,{rootMsg:e.rootMsg,replyMsg:e.replyMsg}))};var r=a(n(699587)),l=a(n(667294)),o=n(839062);const i=n(76672).Mirrored(["ViewAllRepliesFlow"])},699587:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(670983)),l=a(n(659177)),o=a(n(320357)),i=n(356097),u=a(n(908081)),d=a(n(324093)),c=n(626194),s=n(163755),f=a(n(275403)),p=n(319029),m=n(676345),h=n(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),E=a(n(156720)),y=a(n(814882)),v=n(655241),C=a(n(321201));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const w={repliesContainer:{borderStartWidth:"mzoqfcbu",borderStartStyle:"eg0col54",borderStartColor:"skfxoi2r",backgroundColor:"gmjkez2w",overflowY:"rpvcun8f",overflowX:"gfz4du6o",height:"ppled2lx"},msgListWrapper:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",zIndex:"jnl3jror"}};function _(e,t){const n=(0,v.useModelValues)(l.default.assertGet("defaultPreference"),["wallpaperColor","showDoodle"]),{wallpaperColor:a,showDoodle:b}=n,_=(0,g.useRef)(),S=(0,g.useRef)(null),{rootMsg:M,replyMsg:k}=e,P=(0,s.getChat)(M.unsafe()),O=(0,C.default)(),{selectedMessages:T}=(0,y.default)(P.msgs);return g.default.createElement(u.default,{ref:t,theme:"striped"},g.default.createElement(c.DrawerHeader,{title:h.fbt._("View Replies",null,{hk:"4zm8Co"}),type:c.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{null==O||O.requestDismiss()},focusBackOrCancel:!0}),g.default.createElement(d.default,null,g.default.createElement(p.RootMsg,{msg:M,replyMsg:k,chat:P}),g.default.createElement("div",{ref:_,className:(0,E.default)([w.repliesContainer,m.uiPadding.top12])},g.default.createElement("div",{className:(0,E.default)(w.msgListWrapper),ref:S},g.default.createElement(o.default,{wallpaperColor:a,showDoodle:b}),g.default.createElement(f.default,{getScrollContainer:()=>(0,r.default)(_.current,"repliesContainerRef.current"),chat:P,unreadCount:0,selectable:!1,onMessageSelect:()=>{},msgs:[k].map((e=>e.safe())),focusedMsgCtx:void 0,selectedMessages:T,isMsgVisible:()=>!0,isLoadingEarlierMsgs:!1,displayType:i.DISPLAY_TYPE.ALL_REPLIES})))))}var S=(0,g.forwardRef)(_);t.default=S},680110:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.cartItemCollection.reset(),e.set("message",void 0),e.trigger("change:cartItemCollection"),(0,r.default)(e)};var r=a(n(879366))},702727:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createProductFromRefreshCartItem=C,t.getSavingsFromCartItemsAndProducts=function(e){return e.reduce(((e,t)=>e+t.cartItem.quantity*(0,p.getSavings)(t.product)),0)},t.isPriceMatch=v,t.matchCartItemsToProducts=function(e,t){const n=d.CatalogCollection.get((0,m.createWid)(e.id)),a=[],r=[];let i=!0;n&&e.cartItemCollection.forEach((o=>{const u=n.productCollection.get(o.id);let d=t&&t.products.find((e=>e.id===o.id));if(d=function(e,t){if(e&&"deleted"===e.status)return void t.productCollection.remove(e.id);return e}(d,n),!t&&u){const e=function(e,t){const n=function(e,t){return e.priceAmount1000===(0,p.getActivePrice)(t)&&e.currency===t.currency&&e.name===t.name&&e.imageHash===t.imageHash&&e.maxAvailable===t.maxAvailable}(e,t);n||e.set({priceAmount1000:(0,p.getActivePrice)(t),currency:t.currency,name:t.name,imageHash:t.imageHash,maxAvailable:t.maxAvailable},{silent:!0});return n}(o,u);i=i&&e,a.push({product:u,cartItem:o})}else if(d){const t=function(e,t){const n=!t||function(e,t){var n,a;const r=(0,p.getActivePrice)(E(t));return v(e.priceAmount1000,r)&&(!(0,l.isString)(e.currency)&&!(0,l.isString)(t.currency)||e.currency===t.currency)&&e.name===t.name&&e.imageHash===(null===(n=t.media)||void 0===n||null===(a=n.image)||void 0===a?void 0:a.id)}(e,t);if(!n&&t){const n=E(t);e.set({priceAmount1000:(0,p.getActivePrice)(n),currency:n.currency,name:n.name,imageHash:n.imageHash,maxAvailable:n.maxAvailable},{silent:!0})}return n}(o,d);i=i&&t,a.push({product:C(d,e.id),cartItem:o})}else i=!1,r.push(o.id)})),n||(0,o.default)(e);i||(r.length&&e.cartItemCollection.remove(r),e.trigger("change:cartItemCollection"),s.ModalManager.open(g.default.createElement(c.ConfirmPopup,{onOK:()=>{s.ModalManager.close()}},h.fbt._("One or more items in your cart have been updated",null,{hk:"1jr9xE"}))));return(0,u.default)(e),a},t.parsePrice=y;var r=a(n(81109)),l=n(724976),o=a(n(680110)),i=n(172949),u=a(n(879366)),d=n(713464),c=n(103440),s=n(114850),f=n(517086),p=n(607592),m=n(669050),h=n(548360),g=a(n(667294));function E(e){var t,n,a,r,l,o,u,d;return{id:e.id,name:null!==(t=e.name)&&void 0!==t?t:"",imageCdnUrl:null===(n=e.media)||void 0===n||null===(a=n.image)||void 0===a?void 0:a.request_image_url,imageHash:null===(r=e.media)||void 0===r||null===(l=r.image)||void 0===l?void 0:l.id,currency:e.currency,priceAmount1000:y(e.price),salePriceAmount1000:y(null===(o=e.sale_price)||void 0===o?void 0:o.price),salePriceStartDate:(0,i.parseDateValue)(null===(u=e.sale_price)||void 0===u?void 0:u.start_date),salePriceEndDate:(0,i.parseDateValue)(null===(d=e.sale_price)||void 0===d?void 0:d.end_date),maxAvailable:e.max_available}}function y(e){return"string"==typeof e?e.length>0?parseInt(e,10):null:e}function v(e,t){const n=y(e),a=y(t);return(0,l.isNumber)(n)&&(0,l.isNumber)(a)?n===a:!(0,l.isNumber)(n)&&!(0,l.isNumber)(a)}function C(e,t){return new f.Product((0,r.default)((0,r.default)({},E(e)),{},{catalogWid:(0,m.createWid)(t),productMsgMediaData:null,imageCount:1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1}))}},106901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(0===e.cartItemCollection.length)return Promise.resolve({products:[],price:{}});const n=e.cartItemCollection.map((e=>e.id));return(0,a.refreshCart)((0,l.createWid)(e.id),n,r.CartCollection.imageWidth,r.CartCollection.imageHeight,t)};var a=n(59155),r=n(290895),l=n(669050)},961827:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return f.apply(this,arguments)};var r=a(n(348926)),l=n(239795),o=a(n(879366)),i=n(713464),u=a(n(756680)),d=a(n(234921)),c=n(669050);function s(e){var t,n;const a=e.cartItemCollection.at(0);if(null==a)return"";const r=i.CatalogCollection.get((0,c.createWid)(e.id)),l=null==r?void 0:r.productCollection.get(a.id),o=null==l||null===(t=l.getProductImageCollectionHead())||void 0===t?void 0:t.mediaData;return null==o?"":o.preview instanceof u.default&&null!==(n=o.preview.getBase64())&&void 0!==n?n:""}function f(){return(f=(0,r.default)((function*(e,t){const n=yield(0,l.createOrder)(t.id,e.cartItemCollection.toArray());return yield(0,d.default)(t,n,e.itemCount,s(e),e.message),(0,o.default)(e),n.id}))).apply(this,arguments)}},898475:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.set("message",t),(0,r.default)(e)};var r=a(n(879366))},234921:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return m.apply(this,arguments)};var r=a(n(348926)),l=n(632157),o=n(402994),i=n(72696),u=a(n(565754)),d=n(533494),c=n(918602),s=n(693741),f=n(459857),p=a(n(556869));function m(){return(m=(0,r.default)((function*(e,t,n,a,r){const l=yield h(e,t,n,a,r);if((0,f.isMeAccount)(e.id))return(0,c.addAndSendMsgToChat)(e,l)[0].then((()=>{})).catch((e=>{throw __LOG__(3)`Order message send to chat failure: ${e}`,e}));try{const t=yield(0,c.addAndSendMsgToChat)(e,l)[1];if(!t||t.messageSendResult!==s.SendMsgResult.OK)throw(0,p.default)("Order message SendMsgResult failure status")}catch(e){throw __LOG__(3)`Order message send to chat failure: ${e}`,e}}))).apply(this,arguments)}function h(){return g.apply(this,arguments)}function g(){return(g=(0,r.default)((function*(e,t,n,a,r){const c=(0,f.getMaybeMeUser)(),s=t.price.total;return{type:"order",ack:o.ACK.CLOCK,from:c,id:new u.default({from:c,to:e.id,id:yield u.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:(0,l.unixTime)(),to:e.id,orderId:t.id,token:t.token,orderTitle:e.name||e.formattedTitle,sellerJid:e.id.toString({legacy:!0}),status:d.Message$OrderMessage$OrderStatus.INQUIRY,messageVersion:(0,i.isBuyerOrderRevampEnabled)()?2:1,thumbnail:a,itemCount:n,message:r,totalAmount1000:s&&s.length>0?parseInt(s,10):void 0,totalCurrencyCode:t.price.currency&&t.price.currency.length>0?t.price.currency:void 0}}))).apply(this,arguments)}},293559:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,undelivered:n,canForward:a,cannotForward:i}=e;const u=a.length-n.length,d=i.length+n.length;if(u>0)return n.length?i.length?(0,l.getCannotForwardFileMissingAndCapabilityContactString)(d,t.formattedTitle):o.fbt._({"*":"{count} messages couldn't be forwarded because the file is missing.",_1:"{count} message couldn't be forwarded because the file is missing."},[o.fbt._plural(d),o.fbt._param("count",r.default.n(d))],{hk:"1JTcMZ"}):(0,l.getCannotForwardCapabilityContactString)(d,t.formattedTitle);if(n.length)return i.length?t.isUser?o.fbt._("No messages could be forwarded because the file is missing or {contact} is on a version of WhatsApp that doesn't support them.",[o.fbt._param("contact",t.formattedTitle)],{hk:"1dNF4S"}):o.fbt._("No messages could be forwarded because the file is missing or __contact__ is on a version of WhatsApp that doesn't support them.",null,{hk:"11bRZ3"}):o.fbt._("No messages could be forwarded because the file is missing.",null,{hk:"1dn9Vk"});if(!t.isUser)return o.fbt._("No messages could be forwarded because {contact} is on a version of WhatsApp that doesn't support them.",[o.fbt._param("contact",t.formattedTitle)],{hk:"3MTTaw"});return o.fbt._("No messages could be forwarded because {contact} is on a version of WhatsApp that doesn't support them.",[o.fbt._param("contact",t.formattedTitle)],{hk:"3MTTaw"})};var r=a(n(932325)),l=n(309527),o=n(548360)},4780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(477689);class r extends((0,a.customError)("ForwardError")){constructor(e){super(),this.reasons=e}}t.default=r},258058:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var r=a(n(348926)),l=n(122583),o=n(328620),i=n(984330),u=n(260854),d=n(103440),c=n(900316),s=a(n(395767)),f=n(650348),p=n(114850),m=a(n(99398)),h=n(625786),g=n(390737),E=n(548360),y=a(n(667294));function v(){c.DrawerManager.closeDrawerRight(),c.DrawerManager.closeDrawerLeft(),c.DrawerManager.openDrawerLeft(y.default.createElement(u.CommunityFlowLoadable,null))}function C(){return b.apply(this,arguments)}function b(){return(b=(0,r.default)((function*(e){if(!m.default.online)return void g.ToastManager.open(y.default.createElement(h.Toast,{msg:E.fbt._("Community was not deactivated. Check your connection and try again.",null,{hk:"3P15KK"})}));const t=e.id,n=(0,f.sendDeactivateCommunity)({parentGroupId:t}),a=(0,r.default)((function*(){try{return yield n,new o.ActionType(E.fbt._('"{community-name}" was deactivated',[E.fbt._param("community-name",e.formattedTitle)],{hk:"3q7YBe"}))}catch(e){(0,l.filteredCatch)(i.ServerStatusCodeError,(()=>{__LOG__(4,void 0,new Error,!0)`Community deactivation failed`,SEND_LOGS("community-deactivation-failed")}))(e)}}))(),u=new o.ActionType(E.fbt._("Deactivating community ...",null,{hk:"141Rtg"}));g.ToastManager.open(y.default.createElement(o.ActionToast,{initialAction:u,pendingAction:a}));try{yield n,v()}catch(t){(0,l.filteredCatch)(i.ServerStatusCodeError,(t=>{401===t.status?p.ModalManager.open(y.default.createElement(d.ConfirmPopup,{onOK:()=>p.ModalManager.close()},E.fbt._("Community could not be deactivated. You did not create this community, so you cannot deactivate it.",null,{hk:"2bDNa0"}))):404===t.status?(v(),g.ToastManager.open(y.default.createElement(h.Toast,{msg:E.fbt._("This community no longer exists",null,{hk:"1WSss7"})}))):500===t.status&&p.ModalManager.open(y.default.createElement(d.ConfirmPopup,{okText:(0,s.default)("Try again"),onOK:()=>{p.ModalManager.close(),C(e)},onCancel:()=>{p.ModalManager.close()}},E.fbt._("Something went wrong. Please try again.",null,{hk:"jvJcK"})))}))(t)}}))).apply(this,arguments)}},726e3:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return m.apply(this,arguments)};var r=a(n(348926)),l=n(122583),o=n(328620),i=n(984330),u=n(258784),d=n(650348),c=n(114850),s=n(390737),f=n(548360),p=a(n(667294));function m(){return(m=(0,r.default)((function*(e,t){const n=(0,d.sendLinkSubgroups)({parentGroupId:e,subgroupIds:t}),a=(0,r.default)((function*(){try{const e=yield n;if(e.failedGroups.length>0){return e.failedGroups.reduce(((e,t)=>e&&406===t.error),!0)?new o.ActionType(f.fbt._({"*":"These groups cannot be added because the community is full.",_1:"This group cannot be added because the community is full."},[f.fbt._plural(e.failedGroups.length)],{hk:"3lFhlB"})):new o.ActionType(f.fbt._({"*":"These groups were not linked.",_1:"This group was not linked."},[f.fbt._plural(e.failedGroups.length)],{hk:"vzIWG"}))}return e.failedParticipantJids.length>0&&c.ModalManager.open(p.default.createElement(u.GeneralChatFailedParticipantsModal,{failedParticipantJids:e.failedParticipantJids})),new o.ActionType(f.fbt._({"*":"Groups linked",_1:"Group linked"},[f.fbt._plural(t.length)],{hk:"2NDR70"}))}catch(e){return __LOG__(3,!0,void 0,!0)`Subgroup linking failed`,SEND_LOGS("subgroup-linking-failed"),new o.ActionType(f.fbt._("Subgroup could not be linked. Please try again.",null,{hk:"2Eihhk"}))}}))(),m=new o.ActionType(f.fbt._({"*":"Linking groups",_1:"Linking group"},[f.fbt._plural(t.length)],{hk:"3sVN59"}));s.ToastManager.open(p.default.createElement(o.ActionToast,{initialAction:m,pendingAction:a}));try{yield n}catch(e){(0,l.filteredCatch)(i.ServerStatusCodeError,(()=>{}))(e)}}))).apply(this,arguments)}},294414:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){l.ToastManager.open(i.default.createElement(r.Toast,{msg:o.fbt._("Something went wrong",null,{hk:"2TMztB"}),duration:6e3}))};var r=n(625786),l=n(390737),o=n(548360),i=a(n(667294))},48360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplEndProductMessageSend=function(e){const t=r.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;e.then((()=>{l.QPL.markerEnd(t,a.QuickLogActionType.SUCCESS)})).catch((()=>{l.QPL.markerEnd(t,a.QuickLogActionType.FAIL)}))},t.qplStartProductSendMessage=function(e,t,n){const a=r.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;l.QPL.markerStart(a,{annotations:{string:{EntryPoint:e}}}),void 0!==t&&l.QPL.markerAnnotate(a,{int:{ProductCount:t}}),void 0!==n&&l.QPL.markerAnnotate(a,{int:{ContactCount:n}})};var a=n(15842),r=n(316348),l=n(555622)},726855:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CartDetailDrawer=void 0;var r=a(n(348926)),l=n(652204),o=n(15842),i=n(632157),u=a(n(680110)),d=n(72696),c=n(702727),s=a(n(106901)),f=a(n(961827)),p=a(n(898475)),m=n(778945),h=n(542358),g=n(290895),E=n(784423),y=n(957256),v=a(n(704107)),C=n(698867),b=n(103440),w=a(n(908081)),_=a(n(324093)),S=n(568550),M=n(626194),k=n(900316),P=a(n(395767)),O=a(n(570834)),T=a(n(495012)),x=n(690495),I=n(114850),R=n(71977),L=n(932523),N=n(904827),D=a(n(294414)),A=n(180519),j=n(667738),F=n(676345),B=n(887222),W=n(617425),H=n(548360),U=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),z=a(n(156720)),G=a(n(637660)),q=n(808446);function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}const Y={emptyCartContainer:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",height:"ppled2lx",paddingTop:"gq7nj7y3",paddingEnd:"td5bf8pq",paddingBottom:"eynyaxvo",paddingStart:"l3k7h4x6",backgroundColor:"ihvf49ua"},emptyCardHeader:{marginTop:"nylzjxre",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka"},emptyCardText:{marginBottom:"bvhm1occ",textAlign:"qfejxiq4"},contentBackground:{backgroundColor:"ihvf49ua"},footer:{position:"g0rxnol2",zIndex:"b9fczbqn",boxSizing:"cm280p3y",backgroundColor:"ihvf49ua"},footerDark:{backgroundColor:"emqjox7q"}};function K(e){let{cart:t}=e;const n=t.itemCount;return null==n||0===n?null:U.default.createElement(A.TextDiv,{theme:"title"},H.fbt._({"*":"{cart-number-of-items} items",_1:"1 item"},[H.fbt._plural(n,"cart-number-of-items")],{hk:"3Xysc4"}))}function X(e){const{cart:t,onSend:n,cartFlatListControllerRef:a,onProductDetail:r,sellerJid:l,cartProductItems:o,isDarkTheme:i,isDirectConnection:u,onProductCatalog:d}=e,s=(0,c.getSavingsFromCartItemsAndProducts)(o);return U.default.createElement(U.default.Fragment,null,U.default.createElement(Q,{cart:t,onProductCatalog:d}),U.default.createElement(v.default,{flatListController:a.current,onProductDetail:r,cart:t,sellerJid:l,cartProductItems:o}),U.default.createElement("div",{className:(0,z.default)(Y.footer,i&&Y.footerDark)},U.default.createElement(E.CartDrawerContentFooter,{savings:s,cart:t,onSend:n,isDirectConnection:u})))}function Z(e){let{onProductCatalog:t}=e;return U.default.createElement(W.WDSButtonSecondary,{testid:"cart-add-more-button",onClick:t},H.fbt._("Add More",null,{hk:"2QM3jH"}))}function Q(e){let{cart:t,onProductCatalog:n}=e;return U.default.createElement(x.FlexRow,{justify:"all",align:"center",xstyle:[F.uiPadding.all16,Y.contentBackground]},U.default.createElement(K,{cart:t}),U.default.createElement(Z,{onProductCatalog:n}))}function J(e){let{businessProfile:t,onProductCatalog:n}=e;return U.default.createElement("div",{className:(0,z.default)(Y.emptyCartContainer)},U.default.createElement(N.ShoppingCartEmptyIcon,null),U.default.createElement(A.TextDiv,{xstyle:Y.emptyCardHeader,theme:"large"},H.fbt._("Add items to your cart",null,{hk:"411bLF"})),U.default.createElement(A.TextDiv,{xstyle:Y.emptyCardText,theme:"plain"},H.fbt._("Collect all the items you're interested in here and then send them to the business. Use your cart to ask about buying, customizing, delivery, or anything you want.",null,{hk:"2L1JTk"})),(0,h.hasCatalog)(t)&&U.default.createElement(W.WDSButtonPrimary,{onClick:n},H.fbt._("View catalog",null,{hk:"1bDXja"})))}K.displayName="CartDrawerContentTitle",X.displayName="DrawerContentComponent",Z.displayName="MoreButton",Q.displayName="DrawerContentHeader",J.displayName="EmptyCartContent";const $=n(76672)({LOADING:"loading",READY_EMPTY:"readyEmpty",READY_CONTENT:"readyContent"});function ee(e){let{children:t,drawerState:n,emptyContent:a}=e;switch(n){case $.READY_EMPTY:return a;case $.READY_CONTENT:return t;case $.LOADING:return U.default.createElement(T.default,null)}}ee.displayName="DrawerBodyState";const te=(0,U.forwardRef)(((e,t)=>{const{onBack:n,sellerJid:a,chat:h,closeDrawerRightOnSend:E,onProductCatalog:v,onProductDetail:T,isPushed:x=!0}=e,N=(0,U.useContext)(S.DrawerContext),A=(0,j.useIsDarkTheme)(),F=(0,U.useMemo)((()=>g.CartCollection.findCart(a)),[a]),W=(0,U.useRef)(null),z=(0,G.default)((()=>new l.PromiseQueue)),V=(0,G.default)((()=>new O.default)),[Y,K]=(0,U.useState)(!0),[Z,Q]=(0,U.useState)(void 0),[te,ne]=(0,U.useState)([]),[ae,re]=(0,U.useState)(F.message),le=function(){var e=(0,r.default)((function*(e){const[t,n]=yield Promise.all([e?(0,s.default)(F,x):Promise.resolve(),m.BusinessProfileCollection.find(h.id)]);t&&(W.current=t);const a=(0,c.matchCartItemsToProducts)(F,W.current);K(!1),Q(n),ne(a)}));return function(){return e.apply(this,arguments)}}();(0,q.useListener)(F,"change:cartItemCollection",(()=>{z.current.enqueue((()=>le()))})),(0,U.useEffect)((()=>{let e=!0;x&&(0,B.qplAnnotateCartView)(F.id.toString()!==a,F.itemCount),le(!0,x).then((()=>{e=!1,x&&(0,B.qplEndCartView)(o.QuickLogActionType.SUCCESS),(0,y.logCartListImpression)(F.id.toString(),(0,L.getProductCatalogContext)(N))})).catch((()=>{__LOG__(4,!0,new Error,!0)`Unable to open the cart`,SEND_LOGS("openCart: failed to open the cart"),(0,D.default)(),(0,u.default)(F)})).finally((()=>{e&&x&&(0,B.qplEndCartView)(o.QuickLogActionType.FAIL),K(!1)}))}),[]);const oe=(0,U.useMemo)((()=>Y?$.LOADING:F.itemCount?$.READY_CONTENT:$.READY_EMPTY),[Y,F.itemCount]),ie=U.default.createElement(J,{onProductCatalog:v,businessProfile:Z}),ue=(0,d.isBuyerOrderRequestVariantEnabled)()?H.fbt._("Your order request",null,{hk:"2HSxG4"}):H.fbt._("Your cart",null,{hk:"Sn66V"});return U.default.createElement(w.default,{ref:t,onDrop:n,theme:"striped"},U.default.createElement(M.DrawerHeader,{title:ue,type:M.DRAWER_HEADER_TYPE.SMALL,onBack:n}),U.default.createElement(_.default,{flatListControllers:[V.current]},U.default.createElement(ee,{drawerState:oe,emptyContent:ie},U.default.createElement(X,{cart:F,chat:h,onSend:()=>{K(!0),(0,B.qplStartOrderCreate)(te.length),(0,f.default)(F,h).then((e=>{const t=Boolean(F.message);(0,R.logSendOrderMessage)({orderId:e,catalogOwnerJid:F.id,catalogContext:(0,L.getProductCatalogContext)(N),isOrderMsgAttached:t,quantity:F.itemCount}),(0,d.commerceThreadsLoggingEnabled)()&&(0,C.handleActivitiesForChatThreadLogging)([{activityType:"ordersSent",ts:(0,i.unixTime)(),chatId:h.id}]),n(),(0,u.default)(F),F.message=void 0,E&&k.DrawerManager.existsDrawerRight((e=>{e&&k.DrawerManager.closeDrawerRight()})),(0,B.qplEndOrderCreate)(o.QuickLogActionType.SUCCESS)})).catch((()=>{__LOG__(4,!0,new Error,!0)`Unable to create catalog order`,SEND_LOGS("submitOrder: order creation or order message send error"),(0,D.default)(),le(!0),(0,B.qplEndOrderCreate)(o.QuickLogActionType.FAIL)})).finally((()=>{K(!1)}))},onChange:e=>{re(e),(0,p.default)(F,e)},onMaxPasteExceeded:()=>{I.ModalManager.open(U.default.createElement(b.ConfirmPopup,{title:H.fbt._("Message Too Long",null,{hk:"3CMbLA"}),onOK:()=>{I.ModalManager.close()},okText:(0,P.default)("OK")},H.fbt._("The message you're pasting is too long. Try shortening it or sending it as a separate message.",null,{hk:"3uhizb"})))},cartMessage:ae,cartFlatListControllerRef:V,onProductDetail:T,onProductCatalog:v,sellerJid:a,cartProductItems:te,isDarkTheme:A,isDirectConnection:Boolean(null==Z?void 0:Z.isBusinessDirectConnection())}))))}));t.CartDetailDrawer=te,te.displayName="CartDetailDrawer"},784423:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CartDrawerContentFooter=k;var r=n(287461),l=n(72696),o=a(n(692629)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(27578)),u=n(263079),d=n(753233),c=n(258105),s=n(690495),f=n(180519),p=n(676345),m=a(n(844453)),h=n(548360),g=a(n(667294));a(n(156720));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const y={footerPrice:{width:"ln8gz9je"},footerBorder:{borderTop:"swyb62mu"}},v=()=>g.default.createElement(g.default.Fragment,null,h.fbt._("By continuing, you agree to share your cart and phone number with the business so it can confirm your order and total price, including any tax, fees and discounts.",null,{hk:"a2Yd0"})," ",g.default.createElement(d.ExternalLink,{href:(0,c.getJioMartPostcodeChangeLearnMoreLink)()},h.fbt._("Learn More",null,{hk:"281Gd"}))),C=()=>(0,l.isBuyerOrderRequestVariantEnabled)()?h.fbt._("The business will confirm your order and final total price, including any discounts, taxes and shipping fees.",null,{hk:"38ykQT"}):h.fbt._("The business will confirm your order and total price, including any tax, fees and discounts",null,{hk:"13r7X"});function b(e){let{isDirectConnection:t}=e;return t&&(0,u.supportsDirectConnection)()&&(0,r.getABPropConfigValue)("share_phone_number_on_cart_send_to_direct_connection_biz_enabled")?g.default.createElement(v,null):g.default.createElement(C,null)}function w(e){let{currency:t,savings:n}=e;return g.default.createElement(s.FlexRow,{align:"baseline",justify:"all",xstyle:[p.uiMargin.bottom8,y.footerPrice]},g.default.createElement(f.TextSpan,{theme:"title",color:"secondary"},h.fbt._("You save",null,{hk:"2gJK4X"})),g.default.createElement(f.TextSpan,{theme:"title",color:"accent"},h.fbt._("{cart-savings}",[h.fbt._param("cart-savings",i.formatAmount1000(t,n))],{hk:"3rC0sz"})))}function _(e){let{currency:t,savings:n,total:a}=e;return g.default.createElement(g.default.Fragment,null,n>0?g.default.createElement(w,{currency:t,savings:n}):null,g.default.createElement(s.FlexRow,{align:"baseline",justify:"all",xstyle:[p.uiMargin.bottom8,y.footerPrice]},g.default.createElement(f.TextSpan,{theme:"title",color:"dark",weight:"medium"},h.fbt._("Estimated total",null,{hk:"1B6kY"})),g.default.createElement(f.TextSpan,{theme:"title",color:"dark"},h.fbt._("{cart-total-price}",[h.fbt._param("cart-total-price",i.formatAmount1000(t,a))],{hk:"3y3vJX"}))))}b.displayName="FooterDescription",w.displayName="FooterTotalPriceSavings",_.displayName="FooterPriceDescriptionTotalPrice";const S=()=>g.default.createElement(f.TextSpan,{theme:"title",color:"dark",weight:"medium"},h.fbt._("Business will provide total price",null,{hk:"3EzUju"}));function M(e){let{currency:t,savings:n,total:a}=e;return null!=a&&null!=t?g.default.createElement(_,{currency:t,savings:n,total:a}):g.default.createElement(S,null)}function k(e){const{onSend:t,isDirectConnection:n,cart:a,savings:r}=e;return g.default.createElement(s.FlexColumn,{xstyle:[y.footerBorder,p.uiPadding.all16]},g.default.createElement(M,{total:a.total,currency:a.currency,savings:r}),g.default.createElement(f.TextDiv,{theme:"plain",color:"secondary",xstyle:p.uiMargin.bottom15},g.default.createElement(b,{isDirectConnection:n})),g.default.createElement(m.default,{appear:!0,transitionName:"btn"},g.default.createElement(o.default,{testid:"cart-send-button",type:"primary",onClick:t},(0,l.isBuyerOrderRequestVariantEnabled)()?h.fbt._("Message business",null,{hk:"3CPb9Y"}):h.fbt._("Send to business",null,{hk:"3M6SXI"}))))}M.displayName="FooterPriceSection",k.displayName="CartDrawerContentFooter"},704107:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(873955)),l=a(n(327422)),o=n(512938),i=a(n(964223)),u=n(899841),d=a(n(667294));const c=(0,o.FlatListFactory)();function s(e){const{cartProductItems:t,onProductDetail:n,sellerJid:a}=e;return d.default.createElement(i.default,{flatListControllers:[e.flatListController]},d.default.createElement(c,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:t.map((e=>({itemKey:e.cartItem.id,contentKey:(0,r.default)("cartItem"),product:e.product,cartItem:e.cartItem}))),renderItem:e=>d.default.createElement(l.default,{cartId:a,product:e.product,quantity:e.cartItem.quantity,onClick:()=>n({productId:e.cartItem.id,businessOwnerJid:a})}),defaultItemHeight:u.CART_PRODUCT_LIST_ITEM_HEIGHT}))}s.displayName="CartProductList"},327422:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=P;var r=a(n(187783)),l=n(72696),o=a(n(905221)),i=a(n(305160)),u=n(957256),d=a(n(573006)),c=a(n(894138)),s=a(n(170206)),f=n(568550),p=n(305521),m=n(932523),h=a(n(269261)),g=n(493770),E=n(414493),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),v=a(n(156720)),C=a(n(478636));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const w={visibility:"kojwoqec"},_={paddingTop:"qomlamqu",visibility:"g5crjs6l"},S={display:"p357zi0d",marginEnd:"q471nw87"},M={alignItems:"gndfcl4n",display:"p357zi0d"};function k(e){let{cartId:t,cartProduct:n,isHovered:a,quantity:s}=e;const p=(0,y.useContext)(f.DrawerContext),h=(0,m.getProductCatalogContext)(p);const g=a?(0,v.default)(_):(0,v.default)(w),C=y.default.createElement(y.default.Fragment,null,y.default.createElement(d.default,{testid:"productQuantityDropdown",quantity:s,onChange:e=>function(e,t){(0,o.default)(n,e),(0,u.logEditProduct)(n,t,e)}(e,h)}),y.default.createElement("div",{className:g},y.default.createElement(i.default,{onClick:e=>function(e,a){const l=(0,r.default)(t,n.id.toString());(0,r.default)(t,n.id.toString()),(0,u.logDeleteProduct)(n,a),0===l&&(0,u.logCartAbandon)(n.catalogWid.toString(),a),(0,E.stopEvent)(e)}(e,h)}))),b=y.default.createElement(c.default,{product:n,context:p});return y.default.createElement("div",{className:(0,v.default)(S)},(0,l.isQuantityControlsFeatureEnabled)()?b:C)}function P(e){var t;const{cartId:n,product:a,quantity:r,onClick:l}=e,o=y.default.createElement(p.EmojiText,{text:a.name,ellipsify:!0,titlify:!0}),i=null===(t=a.getPreviewImage())||void 0===t?void 0:t.mediaData,u=i?y.default.createElement(g.ProductThumb,{theme:"cart-list",mediaData:i}):null,{isHovered:d,onMouseEnter:c,onMouseLeave:f}=(0,C.default)(),m=y.default.createElement(h.default,{className:(0,v.default)(M),showTotalPrice:!0,product:a}),E=y.default.createElement(k,{isHovered:d,cartId:n,cartProduct:a,quantity:r});return y.default.createElement(s.default,{onMouseEnter:c,onMouseLeave:f,key:a.id.toString(),image:u,customImage:!0,primary:o,secondary:E,theme:"cart-product",onClick:l,detail:m})}k.displayName="Controls",P.displayName="CartProductListItem"},573006:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(753958),l=n(414493),o=n(676345),i=a(n(667294)),u=a(n(156720));const d={position:"g0rxnol2",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"l07amlnk",width:"b6qzmhfs"},c={fontFamily:"shdiholb"},s={position:"lhggkp7q",top:"jgz0asyo",end:"j2mzdvlq",zIndex:"mb8var44",display:"f804f6gw",height:"hpdpob1j",fontSize:"cqiun4t2",lineHeight:"gz7w46tb",color:"hp667wtd",pointerEvents:"m62443ks",backgroundRepeat:"sxl192xd"};function f(){const e=[];for(let t=1;t<=r.CART_ITEM_MAX_QUANTITY;t++)e.push(i.default.createElement("option",{key:t,value:t},t));return e}function p(e){let{onChange:t,quantity:n,testid:a}=e;return i.default.createElement("div",{className:(0,u.default)(d)},i.default.createElement("span",{className:(0,u.default)(s)},"▾"),i.default.createElement("select",{className:(0,u.default)(c,o.uiPadding.horiz10),onClick:l.stopEvent,value:n,onChange:function(e){const n=e.target;n instanceof HTMLSelectElement&&t(parseInt(n.value,10))}},i.default.createElement(f,null)))}f.displayName="Options",p.displayName="CartProductQuantity"},411430:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(967154)),l=n(726855),o=n(568550),i=n(900316),u=a(n(329982)),d=n(932523),c=n(639793),s=n(316348),f=n(555622),p=n(238669),m=n(887222),h=n(455915),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}class y extends u.default{constructor(){super(...arguments),this._handleProductCatalog=()=>{const{sellerJid:e,chat:t}=this.props;f.QPL.markerStart(s.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Cart"}}}),this.push(g.default.createElement(c.ProductDetailsFlowLoadable,{chat:t,catalogOwnerJid:e}))},this._handleProductDetail=e=>{const{chat:t}=this.props;(0,m.qplStartProductView)("Cart"),this.push(g.default.createElement(c.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:t,productInfo:e,onEnd:this._pop}))},this._end=()=>{this.end(p.DismissReason.LIFECYCLE)},this._pop=()=>{this.pop()}}componentDidMount(){const{sellerJid:e,chat:t}=this.props,{isPushed:n}=this.state;this.push(g.default.createElement(v,{chat:t,sellerJid:e,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalog,onBack:this._end,isPushed:n})),i.DrawerManager.existsDrawerLeft((e=>{e&&i.DrawerManager.closeDrawerLeft()})),i.DrawerManager.existsDrawerMid((e=>{e&&i.DrawerManager.closeDrawerMid()}))}}t.default=y;const v=(0,g.forwardRef)(((e,t)=>{const n=(0,g.useContext)(o.DrawerContext),{entryPoint:a}=(0,d.getProductCatalogContext)(n);return g.default.createElement(l.CartDetailDrawer,(0,r.default)({ref:t,closeDrawerRightOnSend:a===h.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE},e))}));v.displayName="CartDetailDrawerWithContext"},501685:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(967154)),l=a(n(348926)),o=n(122583),i=n(15842),u=n(984330),d=n(691454),c=a(n(311397)),s=n(72696),f=n(172949),p=a(n(55423)),m=n(778945),h=n(713464),g=n(87630),E=n(177938),y=a(n(908081)),v=a(n(324093)),C=n(568550),b=n(626194),w=n(900316),_=a(n(329982)),S=n(299950),M=a(n(554740)),k=a(n(114742)),P=n(959673),O=a(n(386067)),T=n(45735),x=n(932523),I=n(77548),R=a(n(632289)),L=a(n(559893)),N=n(977575),D=a(n(980679)),A=n(854682),j=n(517086),F=n(316348),B=n(555622),W=n(625786),H=n(390737),U=n(238669),z=n(459857),G=n(887222),q=n(548360),V=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}const K=n(76672).Mirrored(["YES","NO","PENDING"]);class X extends _.default{constructor(){var e;super(...arguments),e=this,this._isComplianceFormVisible=!1,this._isProductListVisible=!1,this._blockCartInterstitial=()=>this.props.mustCompleteCompliance!==K.NO,this._isCreatingCatalog=()=>this.props.isCreatingCatalog,this._showProductList=e=>{this.push(V.default.createElement(L.default,{contact:this.props.contact,onCatalogLinkClick:this._handleCatalogShare,onProductShare:this._handleProductShare,onProductDetail:this._handleEditProduct,onAddProduct:this._handleAddProduct,onRemoveProduct:this._handleRemoveProduct,catalogId:this.props.catalogId,onBack:this._end,onCartClick:this._handleCartClick,businessProfile:null,headerType:b.DRAWER_HEADER_TYPE.LARGE,onCollectionSeeAll:this._handleCollectionSeeAll,canManageCatalog:!0,autoUpdate:!0,onOpenCollections:this._handleOpenCollections,onOpenMerchantDetailsForm:this._handleOpenMerchantDetailsForm,onEditCollection:this._handleEditCollection,onOpenSettings:this._handleOpenSettings,blockCartInterstitialFn:this._blockCartInterstitial,canLogQpl:e}))},this._handleOpenMerchantDetailsForm=()=>{const e=(0,z.getMeUser)();this.push(V.default.createElement(P.MerchantDetailsFormFlowLoadable,{contactId:e,onBack:this.pop}))},this._handleEditProduct=e=>{const t=h.CatalogCollection.assertGet(this.props.catalogId);w.DrawerManager.openDrawerMid(V.default.createElement(c.default,{catalog:t,product:e}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:S.FocusType.TABBABLE})},this._handleCartClick=e=>{(0,p.default)(e,void 0,this.props.context)},this._handleCollectionSeeAll=e=>{this.push(V.default.createElement(N.CollectionContentDrawer,{contact:this.props.contact,onProductDetail:this._handleEditProduct,onProductShare:this._handleProductShare,catalogId:this.props.catalogId,onBack:this._pop,onCatalogLinkClick:this._handleCatalogShare,onCartClick:this._handleCartClick,collection:e,canManageCatalog:!0,headerType:b.DRAWER_HEADER_TYPE.LARGE,onEditCollection:this._handleEditCollection}))},this._handleEditCollection=e=>{const t=h.CatalogCollection.get(this.props.catalogId);e||(0,A.logCollectionCreateClicked)((0,x.getProductCatalogContext)(this.props.context)),t&&this.push(V.default.createElement(M.default,{onBack:this._pop,collection:e,catalog:t}))},this._handleCatalogShare=(e,t)=>{w.DrawerManager.openDrawerMid(V.default.createElement(O.default,{onCancel:()=>{w.DrawerManager.closeDrawerMid()},catalog:e,contact:t,prompt:q.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"}),onSend:()=>w.DrawerManager.closeDrawerMid(),centerDrawer:!0}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:S.FocusType.TABBABLE})},this._handleProductShare=e=>{w.DrawerManager.openDrawerMid(V.default.createElement(R.default,{onCancel:()=>{w.DrawerManager.closeDrawerMid()},product:e,prompt:q.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"}),onSend:()=>w.DrawerManager.closeDrawerMid(),centerDrawer:!0,sendProductMsg:!0}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:S.FocusType.TABBABLE})},this._handleOpenCollections=()=>{B.QPL.markerStart(F.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW),this.push(V.default.createElement(D.default,{onBack:this._pop,editCollection:this.editCollection,onSeeCollection:this._handleSeeCollection,onReorderCollection:this._handleReorderCollections})),(0,A.logCollectionMenuClicked)((0,x.getProductCatalogContext)(this.props.context))},this._handleReorderCollections=()=>{this.push(V.default.createElement(D.default,{onBack:this._pop,editCollection:this.editCollection,onSeeCollection:this._handleSeeCollection,isReorder:!0}))},this._handleSeeCollection=e=>{(0,G.qplStartCollectionViewAll)("Collection"),this.push(V.default.createElement(Z,{catalogId:this.props.catalogId,collection:e,product:null}))},this.editCollection=e=>{const t=h.CatalogCollection.get(this.props.catalogId);e||(0,A.logCollectionCreateClicked)((0,x.getProductCatalogContext)(this.props.context)),t&&this.push(V.default.createElement(M.default,{onBack:this._pop,collection:e,catalog:t}))},this._handleOpenSettings=()=>{this.push(V.default.createElement(T.CatalogSettingsDrawer,{onBack:this._pop}))},this._handleAddProduct=()=>this.props.onAddProduct(),this._handleAddFirstProduct=()=>this.props.onAddFirstProduct(),this._handleRemoveProduct=()=>this.props.onRemoveProduct(),this._handleAddProductFromBusinessDetails=(0,l.default)((function*(){e._pop(),e._isComplianceFormVisible=!1,yield e.props.onComplianceFormClosed();h.CatalogCollection.get(e.props.catalogId)?e._handleAddProduct():e._handleAddFirstProduct()})),this._pop=()=>{this.pop(),w.DrawerManager.closeDrawerMid()},this._end=()=>{this.end(U.DismissReason.LIFECYCLE),w.DrawerManager.closeDrawerMid()}}componentDidMount(){null!=this.props.collection?this._handleCollectionSeeAll(this.props.collection):null!=this.props.catalog?(this._showProductList(!0),null!=this.props.product&&this._handleEditProduct(this.props.product)):(B.QPL.markerDrop(F.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW),this._showNewCatalog())}componentDidUpdate(){this.props.showComplianceForm&&!this._isComplianceFormVisible?(this._isComplianceFormVisible=!0,this._showComplianceForm()):this.props.showProductList&&!this._isProductListVisible&&(this._isProductListVisible=!0,this._showProductList(!1))}_showNewCatalog(){this.push(V.default.createElement(k.default,{isCreatingCatalogFn:this._isCreatingCatalog,onBack:this._pop,onAddProductClick:this._handleAddFirstProduct}))}_showComplianceForm(){this.push(V.default.createElement(P.MerchantDetailsFormFlowLoadable,{contactId:this.props.contact.id,enableCatalogCreationContext:!0,enableBusinessProfileAddress:!0,onAddProduct:this._handleAddProductFromBusinessDetails,onBack:()=>{this._pop(),this._isComplianceFormVisible=!1,this.props.onComplianceFormClosed()},onUnmount:()=>{this._isComplianceFormVisible=!1,this.props.onComplianceFormClosed()}}))}}const Z=(0,V.forwardRef)(((e,t)=>{const n=(0,V.useContext)(C.DrawerContext),[a,p]=(0,V.useState)(K.PENDING),_=E.ContactCollection.get(e.catalogId),[M,k]=(0,V.useState)(!1),[P,O]=(0,V.useState)(!1),[T,R]=(0,V.useState)(!1),[L,N]=(0,V.useState)(!1),D=(0,V.useCallback)((()=>h.CatalogCollection.get(e.catalogId)),[e.catalogId]),A=(0,V.useCallback)((0,l.default)((function*(){var e;if(!_)return __LOG__(4,void 0,new Error,!0)`Cannot update compliance for non existing user`,void SEND_LOGS("catalog-management-flow-compliance-no-contact-error");p(K.PENDING);const t=null===(e=m.BusinessProfileCollection.get(_.id))||void 0===e?void 0:e.address;let n=K.NO;const a=D();!(0,s.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(_.id)||a&&a.productCollection.length||(0,d.isBusinessCompliant)(t,yield(0,g.getLegalEntityDetails)(_.id),_.id)||(n=K.YES),p(n)})),[_,D]),U=(0,V.useCallback)((()=>{const e=D();if(a===K.YES)k(!0);else if(a===K.PENDING)R(!0);else if(e){const t=new j.Product({catalogWid:e.id,additionalImageCdnUrl:[]});w.DrawerManager.openDrawerMid(V.default.createElement(c.default,{catalog:e,product:t,onCreate:t=>{w.DrawerManager.openDrawerMid(V.default.createElement(c.default,{catalog:e,product:t}),{transition:"slide-left",newDrawerContext:n,focusType:S.FocusType.TABBABLE})},newProduct:!0}),{transition:"slide-left",newDrawerContext:n,focusType:S.FocusType.TABBABLE})}}),[a,n,D]),z=(0,V.useCallback)((0,l.default)((function*(){N(!0);const t=(0,x.getProductCatalogContext)(n);(0,I.logCreateProductCatalogClick)(t),B.QPL.markerStart(F.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE);let a=!0;try{yield(0,f.createCatalog)(),(0,I.logCreateProductCatalogSuccess)(t),a=!1,B.QPL.markerEnd(F.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE,i.QuickLogActionType.SUCCESS);try{yield h.CatalogCollection.find(e.catalogId),O(!0),U()}catch(e){(0,o.filteredCatch)(u.ServerStatusCodeError,(()=>{__LOG__(3)`Failed to fetch product catalog from server`}))}}catch(e){(0,o.filteredCatch)(u.ServerStatusCodeError,(e=>{(0,I.logCreateProductCatalogFailed)(t,e.statusCode),H.ToastManager.open(V.default.createElement(W.Toast,{msg:q.fbt._("Catalog already created.",null,{hk:"1s2DFD"}),id:(0,W.genId)("err_catalog_already_created")})),O(!0)}))}finally{a&&B.QPL.markerEnd(F.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE,i.QuickLogActionType.FAIL)}N(!1)})),[e.catalogId,n,U]),G=(0,V.useCallback)((0,l.default)((function*(){a===K.YES?k(!0):a===K.PENDING?R(!0):yield z()})),[a,z]),Y=(0,V.useCallback)((0,l.default)((function*(){yield A()})),[A]);return(0,V.useEffect)((()=>{A()}),[]),(0,V.useEffect)((()=>{const e=D();T&&a!==K.PENDING&&(R(!1),a===K.YES?k(!0):e?U():z()),a===K.YES&&w.DrawerManager.closeDrawerMid()}),[T,a,D,z,U]),_?T?V.default.createElement(y.default,{ref:t},V.default.createElement(b.DrawerHeader,{title:q.fbt._("Add new item",null,{hk:"2Tc6p3"}),onCancel:()=>{k(!1),R(!1)},type:b.DRAWER_HEADER_TYPE.LARGE}),V.default.createElement(v.default,{theme:"center-content"},V.default.createElement(g.ComplianceInfoLoading,null))):V.default.createElement(C.DrawerContext.Consumer,null,(n=>V.default.createElement(X,(0,r.default)({ref:t,contact:_,context:n,mustCompleteCompliance:a,showComplianceForm:M,showProductList:P,isCreatingCatalog:L,onAddProduct:U,onAddFirstProduct:G,onRemoveProduct:Y,onComplianceFormClosed:()=>(k(!1),A())},e)))):null}));Z.displayName="CatalogManagement";var Q=Z;t.default=Q},311397:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(900316),l=a(n(329982)),o=n(319170),i=n(387268),u=a(n(632289)),d=n(238669),c=n(887222),s=n(548360),f=a(n(667294));class p extends l.default{constructor(){super(...arguments),this._handleEditSuccess=e=>{(0,c.qplStartProductView)("EditProduct"),this._showInfoDrawer(e)},this._showInfoDrawer=e=>{const{catalog:t}=this.props;this.push(f.default.createElement(i.ProductInfoDrawer,{catalog:t,product:e,onCancel:this.end,onEditProduct:this._handleProductEdit,onShareProduct:this._handleShareProduct}))},this._handleShareProduct=e=>{this.push(f.default.createElement(u.default,{onBack:this._pop,product:e,prompt:f.default.createElement("div",null,s.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"})),onSend:()=>r.DrawerManager.closeDrawerMid(),centerDrawer:!0,sendProductMsg:!0}))},this._handleProductEdit=e=>{this.push(f.default.createElement(o.EditProductDrawer,{catalog:this.props.catalog,onBack:this._pop,onEditSuccess:this._handleEditSuccess,product:e,onDelete:this._handleDelete}))},this._handleDelete=e=>{var t,n;const{product:a}=this.props;a.id===e.id&&r.DrawerManager.closeDrawerMid(),null===(t=(n=this.props).onDelete)||void 0===t||t.call(n)},this._pop=()=>{this.pop()},this._end=()=>{this.end(d.DismissReason.LIFECYCLE)}}componentDidMount(){const{catalog:e,product:t,onCreate:n,newProduct:a}=this.props;e.productCollection.on("remove",this._handleDelete),a?this.push(f.default.createElement(o.EditProductDrawer,{onCancel:this._pop,onEditSuccess:e=>n?n(e):this._handleEditSuccess(t),catalog:e,product:t,newProduct:!0})):this._showInfoDrawer(t)}componentWillUnmount(){this.props.catalog.productCollection.off("remove",this._handleDelete)}}t.default=p},751188:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,c.default)((()=>new Set)),n=(0,d.useRef)();return(0,d.useEffect)((()=>{const t=e.modelsToUpdate.length;n.current=1===t?e.modelsToUpdate[0]instanceof l.Chat?i.LABEL_TARGETS.LABEL_CHAT_DIALOG:i.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:i.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,u.logLabelOperationEvent)(o.LABEL_OPERATIONS.VIEW,t,n.current)}),[]),d.default.createElement(r.default,{shouldScrollIntoViewAndSelect:e=>t.current.has(e)?(t.current.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1},onLabelUpdateComplete:()=>{var t,n;null===(t=e.onLabelUpdateComplete)||void 0===t||t.call(e),null===(n=e.onClose)||void 0===n||n.call(e)},onCancel:()=>{var t;n.current&&(0,u.logLabelOperationEvent)(o.LABEL_OPERATIONS.CLICK_NEGATIVE,e.modelsToUpdate.length,n.current),null===(t=e.onClose)||void 0===t||t.call(e)},onNewLabelAdded:e=>{t.current.add(e)},modelsToUpdate:e.modelsToUpdate})};var r=a(n(131929)),l=n(79672),o=n(248027),i=n(581826),u=n(651919),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),c=a(n(637660));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},568471:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),l=a(n(348926)),o=n(986120),i=n(823669),u=n(492014),d=a(n(685957)),c=n(691454),s=n(72696),f=n(179652),p=n(194787),m=n(778945),h=n(972855),g=n(107755),E=n(780549),y=n(676594),v=n(87630),C=a(n(908081)),b=a(n(324093)),w=n(626194),_=a(n(969358)),S=a(n(171915)),M=n(392832),k=a(n(329982)),P=n(131410),O=n(585987),T=n(202391),x=n(180519),I=n(459857),R=n(912837),L=a(n(556869)),N=n(548360),D=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));a(n(156720));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const j={complianceInfoHelpCenterBanner:{color:"hp667wtd",paddingTop:"nlnf8xo7",paddingEnd:"bcymb0na",paddingBottom:"r219jyu0",paddingStart:"e8k79tju"},formContainer:{paddingTop:"a4bywxmn",paddingEnd:"bcymb0na",paddingBottom:"ekpn4oxx",paddingStart:"e8k79tju",marginBottom:"brac1wpa"},formTitle:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginBottom:"oqp0d33z"},formTitleWithSubtitle:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginBottom:"inww9tbj"},subtitle:{color:"hp667wtd",marginBottom:"oqp0d33z"},containingBlock:{transform:"cgi16xlc"}};class F extends k.default{componentDidMount(){this.push(D.default.createElement(V,{contactId:this.props.contactId,enableCatalogCreationContext:this.props.enableCatalogCreationContext,enableBusinessProfileAddress:this.props.enableBusinessProfileAddress,onBack:()=>{this.props.onBack()},onAddProduct:this.props.onAddProduct}))}componentWillUnmount(){var e,t;null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t)}}t.default=F;const B=e=>e?j.formTitleWithSubtitle:j.formTitle,W=()=>N.fbt._("Add a legal name of business",null,{hk:"1Dgk4f"}),H=()=>N.fbt._("Add a business address",null,{hk:"2x7w3h"}),U=e=>e?N.fbt._("Incorrect email address format",null,{hk:"1KuwvT"}):N.fbt._("Add an email address",null,{hk:"KeJaU"}),z=()=>N.fbt._("Add a grievance officer name",null,{hk:"29OUSc"}),G=e=>!e||(0,o.isPotentiallyPhoneNumber)(e),q=(0,I.getMeUser)(),V=(0,D.forwardRef)(((e,t)=>{let{contactId:n,onBack:a,enableCatalogCreationContext:o,enableBusinessProfileAddress:f,onAddProduct:g}=e;const[M,k]=(0,D.useState)({}),[T,I]=(0,D.useState)({}),[A,F]=(0,D.useState)({}),[V,K]=(0,D.useState)(!0),[Z,Q]=(0,D.useState)(!1),[J,$]=(0,D.useState)(),[ee,te]=(0,D.useState)(!1);(0,D.useEffect)((()=>{let e=!0;return(0,l.default)((function*(){const[t,a]=yield Promise.all([(0,v.getLegalEntityDetails)(n),m.BusinessProfileCollection.find(n)]);e&&(k(t),$(a.serialize()),K(!1))}))(),()=>{e=!1}}),[n]),(0,D.useEffect)((()=>{te(!Object.keys(A).length&&!Object.keys(T).length&&(0,c.isBusinessCompliant)(null==J?void 0:J.address,M,n))}),[M,T,null==J?void 0:J.address,n,A]);const ne=function(){var e=(0,l.default)((function*(e){yield(0,h.editBusinessCompliance)(e);const t=yield m.BusinessProfileCollection.update(q,{getMerchantCompliance:!0});return(Array.isArray(t)?t[0]:t).serialize().legalEntityDetails}));return function(){return e.apply(this,arguments)}}(),ae=(0,D.useCallback)((e=>{F((t=>(0,r.default)((0,r.default)({},t),{},{[e]:!0})))}),[]),re=(0,D.useCallback)((e=>{F((t=>{const n=(0,r.default)({},t);return n.hasOwnProperty(e)&&delete n[e],n}))}),[]),le=(0,D.useCallback)(function(){var e=(0,l.default)((function*(e,t){const n={[e]:t,isRegistered:null==M?void 0:M.isRegistered};re(e),k((0,r.default)((0,r.default)({},M),n));const a=yield ne(n);k(a)}));return function(){return e.apply(this,arguments)}}(),[M,re]),oe=(0,D.useCallback)(((e,t)=>{I((n=>(0,r.default)((0,r.default)({},n),{},{[`${e}.${t}`]:!0})))}),[]),ie=(0,D.useCallback)(((e,t)=>{I((n=>{const a=(0,r.default)({},n);return delete a[`${e}.${t}`],a}))}),[]),ue=(0,D.useCallback)(function(){var e=(0,l.default)((function*(e,t,n){const a={[e]:{[t]:n},isRegistered:null==M?void 0:M.isRegistered};k((0,r.default)((0,r.default)({},M),{},{[e]:(0,r.default)((0,r.default)({},null==M?void 0:M[e]),a[e])}));try{oe(e,t);const n=yield ne(a);k(n),ie(e,t),re(`${e}.${t}`)}catch(e){throw(0,L.default)(e)}}));return function(){return e.apply(this,arguments)}}(),[M,oe,ie,re]),de=(0,D.useCallback)(function(){var e=(0,l.default)((function*(e){$(e),re("businessAddress"),yield m.BusinessProfileCollection.update(q)}));return function(){return e.apply(this,arguments)}}(),[re]),ce=(0,D.useCallback)(function(){var e=(0,l.default)((function*(e,t){k(yield(0,v.getLegalEntityDetails)(n)),ie(e,t)}));return function(){return e.apply(this,arguments)}}(),[n,ie]),se=(0,D.useCallback)(function(){var e=(0,l.default)((function*(e,t,n){if(e||t){Q(!0);const a=yield ne({entityType:e,entityTypeCustom:t,isRegistered:n});Q(!1),k(a)}}));return function(){return e.apply(this,arguments)}}(),[]),{entityName:fe,customerCareDetails:pe,grievanceOfficerDetails:me}=M||{},he=(0,D.useMemo)((()=>(0,c.getEntityTypeText)(M)),[M]),ge=(0,D.useCallback)((e=>(0,c.existsField)(e,n)),[n]),Ee=(0,D.useRef)(null),ye=(0,s.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(q);return D.default.createElement("div",{ref:t},D.default.createElement(C.default,{xstyle:j.containingBlock},D.default.createElement(w.DrawerHeader,{title:N.fbt._("Business details",null,{hk:"m9xzp"}),onBack:a,type:w.DRAWER_HEADER_TYPE.LARGE}),D.default.createElement(b.default,{theme:V?"center-content":void 0,ref:Ee},V?D.default.createElement(v.ComplianceInfoLoading,null):D.default.createElement(D.default.Fragment,null,D.default.createElement(v.ComplianceInfoHelpCenterBanner,{xstyle:j.complianceInfoHelpCenterBanner}),D.default.createElement(_.default,{titleXStyle:j.formTitle,xstyle:j.formContainer},D.default.createElement(Y,{value:fe,maxLength:y.COMPLIANCE_INFO_LENGTH.ENTITY_NAME,placeholder:N.fbt._("Legal Name of Business",null,{hk:"2s9jD"}),Icon:P.InfoIcon,validate:ge,errorFn:W,onSave:e=>le("entityName",e),onError:()=>ae("entityName")}),D.default.createElement(Y,{value:he,placeholder:N.fbt._("Business Type",null,{hk:"48J73B"}),Icon:i.AccountBalanceIcon,onFocus:()=>E.Cmd.showMerchantDetailsEntityTypePopup(M,se),isLoading:Z}),ye?D.default.createElement(X,{rawBusinessProfile:J,validate:ge,onAfterSave:de,errorFn:H,onError:()=>ae("businessAddress")}):null),D.default.createElement(_.default,{title:N.fbt._("Customer Care Information",null,{hk:"qlYos"}),titleXStyle:B(ye),xstyle:j.formContainer},ye?D.default.createElement(x.TextDiv,{xstyle:j.subtitle},N.fbt._("Provide at least one phone number and email address",null,{hk:"IKXYK"})):null,D.default.createElement(Y,{value:null==pe?void 0:pe.mobileNumber,maxLength:y.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,placeholder:N.fbt._("Mobile Phone Number",null,{hk:"PMTTg"}),Icon:O.PhoneIcon,validate:e=>(0,c.existsCustomerCareDetailsContact)(pe,n,"mobileNumber",e)&&G(e),onSave:e=>ue("customerCareDetails","mobileNumber",e),onCancel:()=>ce("customerCareDetails","mobileNumber"),onError:e=>(0,v.handleCustomerCareDetailsError)(pe,n,"mobileNumber",e),errorFn:e=>(0,c.getCustomerCareDetailsError)(pe,"mobileNumber",e,N.fbt._("Incorrect phone number format",null,{hk:"3lFQ1f"}),n)}),D.default.createElement(Y,{value:null==pe?void 0:pe.landlineNumber,maxLength:y.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,placeholder:N.fbt._("Landline Phone Number",null,{hk:"tXYaf"}),Icon:O.PhoneIcon,validate:e=>(0,c.existsCustomerCareDetailsContact)(pe,n,"landlineNumber",e)&&G(e),onSave:e=>ue("customerCareDetails","landlineNumber",e),onCancel:()=>ce("customerCareDetails","landlineNumber"),onError:e=>(0,v.handleCustomerCareDetailsError)(pe,n,"landlineNumber",e),errorFn:e=>(0,c.getCustomerCareDetailsError)(pe,"landlineNumber",e,N.fbt._("Incorrect landline phone number format",null,{hk:"4zXlsw"}),n)}),D.default.createElement(Y,{value:null==pe?void 0:pe.email,maxLength:y.COMPLIANCE_INFO_LENGTH.EMAIL,placeholder:N.fbt._("Email Address",null,{hk:"2jYxR1"}),Icon:p.BusinessEmailIcon,validate:e=>ge(e)&&(0,R.validateEmail)(e),onSave:e=>ue("customerCareDetails","email",e),errorFn:U,onError:()=>ae("customerCareDetails.email")})),D.default.createElement(_.default,{title:N.fbt._("Grievance Officer Information",null,{hk:"3emd7I"}),titleXStyle:B(ye),xstyle:j.formContainer},ye?D.default.createElement(x.TextDiv,{xstyle:j.subtitle},N.fbt._("Provide name and at least one contact method",null,{hk:"2Fjw3Y"})):null,D.default.createElement(Y,{value:null==me?void 0:me.name,maxLength:y.COMPLIANCE_INFO_LENGTH.GRIEVANCE_OFFICER_NAME,placeholder:N.fbt._("Name",null,{hk:"2vEs6r"}),validate:ge,Icon:u.AssignmentIndIcon,onSave:e=>ue("grievanceOfficerDetails","name",e),errorFn:z,onError:()=>ae("grievanceOfficerDetails.name")}),D.default.createElement(Y,{value:null==me?void 0:me.mobileNumber,maxLength:y.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,placeholder:N.fbt._("Mobile Phone Number",null,{hk:"3kk5I"}),Icon:O.PhoneIcon,validate:e=>(0,c.existsGrievanceOfficerDetailsContact)(me,n,"mobileNumber",e)&&G(e),onSave:e=>ue("grievanceOfficerDetails","mobileNumber",e),onCancel:()=>ce("grievanceOfficerDetails","mobileNumber"),onError:e=>(0,v.handleGrievanceOfficerDetailsError)(me,n,"mobileNumber",e),errorFn:e=>(0,c.getGrievanceOfficerDetailsError)(me,"mobileNumber",e,N.fbt._("Incorrect phone number format",null,{hk:"3lFQ1f"}),n)}),D.default.createElement(Y,{value:null==me?void 0:me.landlineNumber,maxLength:y.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,placeholder:N.fbt._("Landline Phone Number",null,{hk:"4GBzF0"}),Icon:O.PhoneIcon,validate:e=>(0,c.existsGrievanceOfficerDetailsContact)(me,n,"landlineNumber",e)&&G(e),onSave:e=>ue("grievanceOfficerDetails","landlineNumber",e),onCancel:()=>ce("grievanceOfficerDetails","landlineNumber"),onError:e=>(0,v.handleGrievanceOfficerDetailsError)(me,n,"landlineNumber",e),errorFn:e=>(0,c.getGrievanceOfficerDetailsError)(me,"landlineNumber",e,N.fbt._("Incorrect landline phone number format",null,{hk:"4zXlsw"}),n)}),D.default.createElement(Y,{value:null==me?void 0:me.email,maxLength:y.COMPLIANCE_INFO_LENGTH.EMAIL,placeholder:N.fbt._("Email Address",null,{hk:"3SvbLl"}),Icon:p.BusinessEmailIcon,validate:e=>(0,c.existsGrievanceOfficerDetailsContact)(me,n,"email",e)&&(0,R.validateEmail)(e),onSave:e=>ue("grievanceOfficerDetails","email",e),onError:e=>{ae("grievanceOfficerDetails.email"),(0,v.handleGrievanceOfficerDetailsError)(me,n,"email",e)},errorFn:e=>(0,c.getGrievanceOfficerDetailsError)(me,"email",e,N.fbt._("Incorrect email address format",null,{hk:"1KuwvT"}),n)})),null!=o&&null!=g?D.default.createElement(S.default,{disabled:!ee,rootRef:Ee.current,onClick:()=>(0,d.default)(g)},N.fbt._("Next: Add Items",null,{hk:"4gxzId"})):null))))}));function Y(e){let{Icon:t,errorFn:n,isLoading:a=!1,maxLength:r,onCancel:o,onChange:i,onError:u,onFocus:d,onSave:c,placeholder:s,validate:f,value:p=""}=e;const[m,h]=(0,D.useState)(p),[E,y]=(0,D.useState)(),[v,C]=(0,D.useState)(a);return(0,D.useEffect)((()=>{h(p)}),[p]),(0,D.useEffect)((()=>{(null==f?void 0:f(m))&&y(null)}),[m,f,n]),(0,D.useEffect)((()=>{C(a)}),[a]),D.default.createElement(g.IconSection,{Icon:t,theme:g.IconSectionTheme.NoMargin,content:D.default.createElement(T.RichTextField,{value:m,editable:!0,maxLength:r,pending:v,inputPlaceholder:s,showRemaining:!0,managedError:!0,validate:f,error:E,onChange:e=>{let{text:t}=e;return h(t)},onSave:(0,l.default)((function*(){C(!0);try{yield null==c?void 0:c(m)}catch(e){n&&y(n(m))}C(!1)})),onCancel:()=>{h(p),y(null),null==o||o()},onError:()=>{n&&y(n(m)),null==u||u(m)},theme:"text-input",onFocus:d,blockFocusOnLock:!!d,lockable:!0})})}function K(e,t,n){return{address:e,categories:[],hours:{days:[]},longitude:t,latitude:n}}function X(e){let{errorFn:t,onAfterSave:n,onError:a,rawBusinessProfile:o,validate:i}=e;const[u,d]=(0,D.useState)(),[c,s]=(0,D.useState)(null==o?void 0:o.address),[p,m]=(0,D.useState)(),{longitude:E,latitude:y}=o||{},[v,C]=(0,D.useState)(K(c,E,y));return(0,D.useEffect)((()=>C(K(c,E,y))),[c,E,y]),(0,D.useEffect)((()=>{i(c)&&m(null)}),[c,i]),null==o||null==v?null:D.default.createElement(g.IconSection,{Icon:f.BusinessAddressIcon,theme:g.IconSectionTheme.NoMargin,content:D.default.createElement(M.BusinessAddressField,{businessProfile:v,activeField:u,rawBusinessProfile:o,value:c,validate:i,error:p,lowProfile:!1,onActive:d,onChange:s,onCancel:()=>{s(o.address)},onSaveBusinessProfile:(0,l.default)((function*(){yield(0,h.editBusinessProfile)({address:c}),yield n((0,r.default)((0,r.default)({},o),{},{address:c}))})),onError:()=>{t&&m(t(c)),null==a||a()}})})}V.displayName="MerchantDetailsFormDrawer",Y.displayName="MerchantDetailsFieldDrawer",X.displayName="MerchantDetailsAddressField"},687786:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(908081)),l=a(n(324093)),o=n(626194),i=n(690495),u=a(n(329982)),d=n(52629),c=n(479375),s=n(453200),f=n(765396),p=n(956113),m=n(676345),h=n(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),E=a(n(156720));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}class v extends u.default{componentDidMount(){this.push(g.default.createElement(S,{onBack:this.end}))}}t.default=v;const C={backgroundColor:"ihvf49ua",overflowX:"i44ccddp",overflowY:"ag5g9lrv",height:"ppled2lx"},b={color:"re3l9645",fontWeight:"hnx8ox4h",fontSize:"f8jlpxt4",lineHeight:"t4tp0euv"},w={color:"re3l9645"},_=()=>g.default.createElement(g.default.Fragment,null,g.default.createElement("div",{className:(0,E.default)(b,m.uiPadding.horiz16,m.uiPadding.vert10)},h.fbt._("History",null,{hk:"3FbuEx"})),g.default.createElement(i.FlexColumn,{align:"center",xstyle:m.uiPadding.top9},g.default.createElement(f.PaymentHistoryEmptyIcon,null),g.default.createElement("div",{className:(0,E.default)(w,m.uiPadding.all16)},h.fbt._("No order requests",null,{hk:"l6lc5"})))),S=(0,g.forwardRef)(((e,t)=>{const n=(0,g.useRef)(null),{ordersInfoMap:{contactAndOrderRequestInfoMap:a},isLoading:u,ordersLazylist:f}=(0,d.useGetOrderRequests)(n,65);return g.default.createElement(r.default,{ref:t},g.default.createElement(o.DrawerHeader,{title:h.fbt._("Order Requests",null,{hk:"1b5KAx"}),type:o.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),g.default.createElement(l.default,{ref:n,className:(0,E.default)(C)},f.map(((e,t)=>g.default.createElement(g.Fragment,{key:e},g.default.createElement(M,{date:(0,s.getOrderDisplayDate)(a,f,t)}),g.default.createElement(c.OrderRequestDetail,{contactAndOrderInfo:a[e]})))),u&&g.default.createElement(i.FlexRow,{justify:"center",xstyle:m.uiPadding.all16},g.default.createElement(p.Spinner,{color:"default",size:24,stroke:6})),!u&&!f.length&&g.default.createElement(_,null)))}));function M(e){let{date:t=""}=e;return t&&g.default.createElement("div",{className:(0,E.default)(b,m.uiPadding.horiz16,m.uiPadding.vert10)},t.toUpperCase())}S.displayName="OrderRequestManagementDrawer",M.displayName="DateRow"},172827:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,o.useFlow)(i.Updatestatus,{transitions:o.FlowTransitions.DrawerRight}),a=l.default.createElement(r.default,{entryPoint:e.entryPoint,chat:e.chat,onBack:n.pop,orderInfo:e.orderInfo,sellerJid:e.sellerJid});return l.default.createElement(t,{flow:n},a)};var r=a(n(249118)),l=a(n(667294)),o=n(839062);const i=n(76672).Mirrored(["Updatestatus"])},81903:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(967154)),l=a(n(348926)),o=a(n(670983)),i=n(632157),u=a(n(120162)),d=n(72696),c=a(n(55423)),s=n(778945),f=n(542358),p=a(n(804005)),m=n(698867),h=n(103440),g=n(177938),E=n(891244),y=n(568550),v=a(n(395767)),C=a(n(329982)),b=n(114850),w=n(61113),_=n(699411),S=a(n(630582)),M=a(n(275687)),k=a(n(59380)),P=a(n(94530)),O=n(873994),T=n(716903),x=a(n(249118)),I=a(n(386067)),R=n(932523),L=n(77548),N=a(n(614058)),D=n(499020),A=a(n(632289)),j=n(559016),F=n(716890),B=a(n(898707)),W=a(n(559893)),H=n(977575),U=n(533494),z=a(n(444537)),G=n(625786),q=n(390737),V=n(238669),Y=n(459857),K=n(76195),X=n(767301),Z=n(669050),Q=a(n(556869)),J=n(548360),$=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ee(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function ee(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ee=function(e){return e?n:t})(e)}class te extends C.default{constructor(){var e;super(...arguments),e=this,this.scrollOffset=0,this.setScrollOffset=e=>{this.scrollOffset=e},this._handleCollectionSeeAll=e=>{var t,n;const{catalogOwnerJid:a,chat:r,product:l,productInfo:o,sellerJid:i}=this.props,u=null!==(t=null!==(n=null!=a?a:null==l?void 0:l.catalogWid.toString())&&void 0!==n?n:null==o?void 0:o.businessOwnerJid)&&void 0!==t?t:i;this.push($.default.createElement(ne,{chat:r,catalogOwnerJid:u,collection:e,isAllItems:!e}))},this._pushProductDetails=(e,t)=>{const{chat:n,refreshCarousel:a}=this.props,r=$.default.createElement(N.default,{chat:n,product:e,onEnd:this._end,onBack:this._popAndUpdate,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,refreshCarousel:a,onCartClick:this._handleCartClick,collectionId:t});this.push(r)},this._pushProductMoreInformation=e=>{const t=$.default.createElement(B.default,{product:e,onBack:this._popAndUpdate});this.push(t)},this._pushProductDetailsWithDeepLink=e=>{const t=$.default.createElement(D.ProductDetailsWithDeepLink,{chat:this.props.chat,productInfo:e,onEnd:this._end,onBack:this._pop,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(t)},this.pushProductCatalog=function(){var t=(0,l.default)((function*(t){const n=g.ContactCollection.gadd(t),a=yield s.BusinessProfileCollection.find(t),r=(0,f.hasCatalog)(a)?$.default.createElement(W.default,{contact:n,onProductDetail:e._handleProductDetail,catalogId:t,onBack:e._pop,businessProfile:a,scrollOffset:e.scrollOffset,setScrollOffset:e.setScrollOffset,onCatalogLinkClick:e._handleCatalogLinkClick,onCartClick:e._handleCartClick,onCollectionSeeAll:e._handleCollectionSeeAll}):$.default.createElement(j.ProductListDrawer,{contact:n,onProductDetail:e._handleProductDetail,catalogId:t,onBack:e._pop,businessProfile:a,setScrollOffset:e.setScrollOffset,onCatalogLinkClick:e._handleCatalogLinkClick,onCartClick:e._handleCartClick});e.push(r)}));return function(){return t.apply(this,arguments)}}(),this._pushCartOrderDetail=(e,t,n,a,r,l,o)=>{const i=$.default.createElement(p.default,{orderId:e,token:t,sellerJid:n,userIsCartOwner:a,onProductDetail:this._handleProductDetailFromInfo,onOrderCreate:this._handleOrderCreate,onOrderCancel:this._handleOrderCancel,ownerHasReviewed:r,orderMessage:l,chat:o});this.push(i)},this._pushProductList=(e,t)=>{const n=g.ContactCollection.gadd(t),a=$.default.createElement(F.ProductMessageListDrawer,{contact:n,productListId:e,onProductDetail:this._handleProductDetail,onCartClick:this._handleCartClick,onBack:this._pop,onEnd:this._end,setScrollOffset:this.setScrollOffset,catalogWid:t});this.push(a)},this._handleProductSummaryClick=e=>{this._pushOrderDetailProductList(e)},this._handleOrderStatusUpdateClick=()=>{new O.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:K.ORDER_DETAILS_CREATION_ACTION.CLICK_UPDATE_ORDER_STATUS,actionCategory:String(P.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(this.props.entryPoint),hasCatalog:(0,f.hasCatalog)(s.BusinessProfileCollection.get((0,Y.getMaybeMeUser)()))}).commit(),this._pushOrderStatusUpdate()},this._handleOrderCreate=function(t){var n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;new O.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:K.ORDER_DETAILS_CREATION_ACTION.CLICK_CREATE_ORDER_DETAILS_FROM_CART,actionCategory:String(P.default.RECEIVED_CART),orderDetailEntryPoint:String(null!==(n=e.props.entryPoint)&&void 0!==n?n:u.default.FROM_CART),hasCatalog:(0,f.hasCatalog)(s.BusinessProfileCollection.get((0,Y.getMaybeMeUser)()))}).commit();const r=()=>{e._pushOrderCreate(t,a)};z.default.maybeShowOrderDataSharingDialog(e.props.chat,r,X.SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.CART)},this.cancelOrder=()=>{const{orderId:e,token:t,sellerJid:n,userIsCartOwner:a,orderMessage:r,chat:l}=this.props;null!=e&&null!=t&&null!=n&&null!=a&&this._pushCartOrderDetail(e,t,n,a,!0,r,l),b.ModalManager.close()},this._handleOrderCancel=()=>{b.ModalManager.open($.default.createElement(h.ConfirmPopup,{onCancel:()=>{b.ModalManager.close()},cancelText:J.fbt._("Do not decline",null,{hk:"1GLBjf"}),onOK:this.cancelOrder,okText:J.fbt._("Decline",null,{hk:"thsKi"}),title:J.fbt._("Decline this order?",null,{hk:"2hlAzX"})},J.fbt._("You can include a note with the cancelation message.",null,{hk:"2gWAy7"})))},this._handleProductDetail=(e,t)=>{this._pushProductDetails(e,t)},this._handleProductMoreInformation=e=>{this._pushProductMoreInformation(e)},this._handleProductDetailFromInfo=e=>{this._pushProductDetailsWithDeepLink(e)},this._handleProductCatalogHeaderClick=(e,t)=>{(0,L.logCarouselViewMoreClick)({catalogOwnerWid:e,catalogContext:t}),this.pushProductCatalog(e)},this._handleProductLinkClick=e=>{this.push($.default.createElement(A.default,{product:e,onBack:this._pop}))},this._handleCatalogLinkClick=(e,t)=>{this.push($.default.createElement(I.default,{catalog:e,contact:t,onBack:this._pop}))},this._handleCartClick=e=>{const t=(0,R.getProductCatalogContext)(this.props.context),n=(0,c.default)(e,this.props.chat,t);n&&this.push(n)},this._pop=()=>{this.pop()},this._end=()=>{this.end(V.DismissReason.LIFECYCLE)},this._popAndUpdate=()=>{this.popAndUpdate({scrollOffset:this.scrollOffset})},this._handleFindOrderError=()=>{const e=(0,v.default)("OK");q.ToastManager.open($.default.createElement(G.Toast,{action:{dismiss:!0,actionText:e},msg:J.fbt._("Something went wrong. Please try again.",null,{hk:"28mZYT"}),id:(0,G.genId)()}))}}componentDidMount(){const{catalogOwnerJid:e,orderId:t,product:n,productInfo:a,productListId:r,collection:l,collectionId:u,isAllItems:c,token:s,sellerJid:f,userIsCartOwner:p,orderMessage:h,chat:g,orderInfo:E}=this.props;if((0,d.commerceThreadsLoggingEnabled)()&&(0,m.handleActivitiesForChatThreadLogging)([{activityType:"isCommerceViewed",ts:(0,i.unixTime)(),chatId:g.id}]),null!=e)null!=l||!0===c?this.pushCollectionContent((0,Z.createWid)(e)):null!=r?this._pushProductList(r,(0,Z.createWid)(e)):this.pushProductCatalog((0,Z.createWid)(e));else if(n)this._pushProductDetails(n,u);else if(a)this._pushProductDetailsWithDeepLink(a);else if(null!=t)null!=s&&null!=f&&null!=p&&((0,T.isOrderExpansionEnabled)()?_.OrderCollection.findOrder(t,f,s).then((e=>{this._handleOrderCreate((0,o.default)(e,"cartOrder"),this._handleOrderCancel)})).catch((()=>{this._handleFindOrderError()})):this._pushCartOrderDetail(t,s,f,p,!1,h,g));else{if(null==E||null==f)throw(0,Q.default)("ProductDetailsFlow:no-product");this._pushOrderDetail(g,E,(0,Z.createWid)(f))}}pushCollectionContent(e){const t=g.ContactCollection.gadd(e);this.push($.default.createElement(H.CollectionContentDrawer,{contact:t,onProductDetail:this._handleProductDetail,catalogId:e,onBack:this._pop,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,scrollOffset:this.scrollOffset,setScrollOffset:this.setScrollOffset,collection:this.props.collection}))}_pushOrderCreate(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.push($.default.createElement(S.default,{entryPoint:null!==(t=this.props.entryPoint)&&void 0!==t?t:u.default.FROM_CART,onBack:this._pop,order:e,chat:this.props.chat,onDeclineOrder:n,onSend:()=>(e=>{if((0,d.isSellerOrderRevampEnabled)()&&null!=e){const t={status:U.Message$OrderMessage$OrderStatus.ACCEPTED};(0,E.updateMessageTable)(e.id,t);const n=w.MsgCollection.get(e.id);n&&n.set(t)}})(this.props.orderMessage)}))}_pushOrderDetailProductList(e){this.push($.default.createElement(k.default,{onBack:this._pop,productItems:e}))}_pushOrderDetail(e,t,n){this.push($.default.createElement(M.default,{entryPoint:this.props.entryPoint,onBack:this._pop,orderInfo:t,sellerWid:n,chat:e,onProductSummaryClick:this._handleProductSummaryClick,onOrderStatusUpdateClick:this._handleOrderStatusUpdateClick}))}_pushOrderStatusUpdate(){const{orderInfo:e,sellerJid:t}=this.props;null!=e&&null!=t&&this.push($.default.createElement(x.default,{entryPoint:this.props.entryPoint,chat:this.props.chat,onBack:this._pop,orderInfo:e,sellerJid:t}))}}const ne=(0,$.forwardRef)(((e,t)=>{const n=(0,$.useContext)(y.DrawerContext);return $.default.createElement(te,(0,r.default)({ref:t,context:n},e))}));ne.displayName="ProductDetailsFlow";var ae=ne;t.default=ae},781657:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(n(625143)),l=a(n(667294)),o=n(839062);const i=n(76672).Mirrored(["QuickRepliesList"]);function u(){const[e,t]=(0,o.useFlow)(i.QuickRepliesList,{transitions:o.FlowTransitions.DrawerLeft});if(null==t.step)return null;let n;switch(t.step){case i.QuickRepliesList:n=l.default.createElement(r.default,{onBack:()=>t.pop()})}return l.default.createElement(e,{flow:t},n)}u.displayName="QuickRepliesFlow"},371839:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=a(n(348926)),l=n(48360),o=n(547979),i=n(780549),u=n(900316),d=n(914368),c=n(114850),s=n(61740),f=n(962260),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){(0,m.useEffect)((()=>{i.Cmd.closeContextMenu(),i.Cmd.closeTooltip()}),[]);return m.default.createElement(s.SelectModal,{onConfirm:t=>{var n;(0,l.qplStartProductSendMessage)("Forward",void 0,t.length);const a=t.map(function(){var t=(0,r.default)((function*(t){return t.isUser&&t.contact.isContactBlocked&&(yield(0,o.unblockContact)(t.contact)),(t=>{const{product:n}=e;return new Promise(((e,a)=>{i.Cmd.once("ui_idle",(()=>{t.sendProductMessage(n).then((()=>e())).catch((e=>a(e)))}))}))})(t)}));return function(){return t.apply(this,arguments)}}());(0,l.qplEndProductMessageSend)(Promise.all(a)),c.ModalManager.close(),1===t.length&&(i.Cmd.openChatFromUnread(t[0]),window.innerWidth<=d.LAYOUT_2COLUMNS_MAX_WIDTH&&u.DrawerManager.closeDrawerRight()),null===(n=e.onSend)||void 0===n||n.call(e)},maxItems:f.MULTICAST_LIMIT_GLOBAL,title:p.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:s.ListType.ChatSelectModal,onCancel:()=>{c.ModalManager.close()}})}g.displayName="SendProductModal"},513534:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var r=n(122583),l=n(15842),o=n(984330),i=n(739071),u=n(103440),d=a(n(846870)),c=n(753233),s=n(114850),f=n(77548),p=n(530485),m=n(316348),h=n(555622),g=n(202391),E=n(180519),y=n(625786),v=n(390737),C=n(548360),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function _(e){const{product:t,sessionId:n}=e,[a,w]=(0,b.useState)(!1),[_,S]=(0,b.useState)(!1),[M,k]=(0,b.useState)(""),P=()=>{s.ModalManager.close()};if(_)return b.default.createElement(u.ConfirmPopup,{title:C.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:P},b.default.createElement(E.TextDiv,null,C.fbt._("We will review the item and if it meets our guidelines, it will be added to your catalog.",null,{hk:"4tmhbu"})));const O=M.length<1||a;return b.default.createElement(u.ConfirmPopup,{title:C.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:()=>{(0,f.logAppealProductCatalogClick)(n),w(!0);let e=!0;h.QPL.markerStart(m.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL),(0,i.appealProduct)(t.id.toString(),M).then((()=>{t.canAppeal=!1,t.reviewStatus=p.PRODUCT_REVIEW_STATUS.PENDING,(0,f.logAppealProductCatalogSuccess)(n),w(!1),S(!0),e=!1,h.QPL.markerEnd(m.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL,l.QuickLogActionType.SUCCESS)})).catch((0,r.filteredCatch)(o.ServerStatusCodeError,(e=>{v.ToastManager.open(b.default.createElement(y.Toast,{msg:C.fbt._("Failed to send review request.",null,{hk:"1MNBtG"}),id:(0,y.genId)("catalog_appeal_submission_failed")})),(0,f.logAppealProductCatalogFailed)(n,e.status),w(!1)}))).finally((()=>{e&&h.QPL.markerEnd(m.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL,l.QuickLogActionType.FAIL)}))},onCancel:P,okDisabled:O},b.default.createElement("form",null,b.default.createElement(g.RichTextField,{testid:"confirm-popup-text-input",placeholder:C.fbt._("Enter reason for this request...",null,{hk:"49sHMz"}),onChange:e=>{let{text:t}=e;k(t)},value:M,maxLength:1e3}),b.default.createElement(c.ExternalLink,{href:d.default.WA_COMMERCE_POLICY_URL},C.fbt._("Learn more",null,{hk:"2S4fxr"}))))}_.displayName="AppealProductPopup"},761035:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=n(48360),l=n(22323),o=n(877171),i=n(114850),u=n(77548),d=a(n(614415)),c=n(548360),s=a(n(667294));function f(e){return s.default.createElement(d.default,{onCancel:()=>{var t;null===(t=e.onCancel)||void 0===t||t.call(e),i.ModalManager.close()},onConfirm:t=>{const{chat:n,sessionId:a,onSend:l}=e;(0,r.qplStartProductSendMessage)("Attachment",t.length);const o=t.map(((e,t)=>{const r=0===t?n.composeQuotedMsg:null;return n.sendProductMessage(e,r).then((()=>{(0,u.logProductMessageSent)({product:e,catalogSessionId:a})}))}));(0,r.qplEndProductMessageSend)(Promise.all(o)),n.composeQuotedMsg=null,null==l||l(),i.ModalManager.close()},onShare:t=>{const{chat:n,sessionId:a}=e,r=(0,l.createCatalogLink)(t.id.user),d=c.fbt._("Follow this link to view our catalog on WhatsApp: {catalogUrl}",[c.fbt._param("catalogUrl",r)],{hk:"2XU3Oe"}).toString();o.ComposeBoxActions.paste(n,d),(0,u.logSendCatalogClick)({catalogOwnerWid:t.id,catalogSessionId:a}),i.ModalManager.close()}})}f.displayName="AttachProductModal"},685957:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(103440),l=a(n(395767)),o=n(114850),i=n(548360),u=a(n(667294));var d=e=>{o.ModalManager.open(u.default.createElement(r.ConfirmPopup,{title:i.fbt._("Information accuracy",null,{hk:"1IkKdC"}),okText:(0,l.default)("OK"),onOK:()=>{null==e||e(),o.ModalManager.close()},cancelText:i.fbt._("Go back",null,{hk:"3k17TN"}),onCancel:()=>o.ModalManager.close()},u.default.createElement(u.default.Fragment,null,i.fbt._("By continuing, you confirm that all information you have provided is correct and current.",null,{hk:"3VB7Ib"}),u.default.createElement("br",null),u.default.createElement("br",null),i.fbt._("You are required by law to update this info on WhatsApp if it ever changes.",null,{hk:"3FF6ZU"}))))};t.default=d},131929:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(66604)),l=n(72696),o=a(n(692629)),i=a(n(883891)),u=a(n(298188)),d=n(626194),c=n(856311),s=a(n(358263)),f=n(417122),p=n(118612),m=a(n(930440)),h=a(n(936734)),g=a(n(69342)),E=n(163139),y=n(617425),v=n(548360),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),b=a(n(969651)),w=a(n(637660));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const S=0,M=1,k=2;function P(e,t){const[n,a]=(0,C.useState)(!0);(0,C.useEffect)((()=>()=>{u.default.enableUpsell()}),[]);const{modelsToUpdate:_,onLabelUpdateComplete:P}=e,O=(0,w.default)((()=>new m.default([],(e=>e.id)))),T=(0,C.useRef)(new Set),x=O.current,I=T.current,R=(0,b.default)(),L=(0,C.useMemo)((()=>{const e=(()=>{const e={};return _.forEach((t=>{const n=(0,E.unproxy)(t);n.labels&&n.labels.forEach((t=>{e[t]=e[t]?++e[t]:1}))})),e})();return(0,r.default)(e,(e=>e===_.length?M:e>0?k:S))}),[]),N=C.default.createElement(o.default,{testid:"popup-controls-ok",type:"primary",disabled:0===I.size,onClick:()=>{(0,f.logLabelOperationEventsForModels)(_);const e=x.list,t=x.selected,a=[],r=[];e.forEach(((e,n)=>{t[n]&&a.push(e.id),r.push({id:e.id,type:t[n]?"add":"remove"})})),c.LabelCollection.addOrRemoveLabels(r,_),a.length>0&&g.default.logLabelSignalForModels(_,a,n),P()},key:1},v.fbt._("Save",null,{hk:"2AH950"})),D=C.default.createElement(o.default,{testid:"popup-controls-cancel",type:"secondary",onClick:e.onCancel,key:0},v.fbt._("Cancel",null,{hk:"H0gNq"})),A=C.default.createElement(y.ButtonGroup,{direction:"horizontal"},D,N),j=C.default.createElement(d.DrawerHeader,{title:v.fbt._("Label items",null,{hk:"2xOVMD"}),type:d.DRAWER_HEADER_TYPE.POPUP,onCancel:e.onCancel}),F=i.default.shouldDisplayDataSharingLabelOptOutOrUpsell(_)?C.default.createElement(h.default,{checkboxValue:n,onCheckboxToggle:()=>a(!n),theme:"labels-opt-out"}):null;return C.default.createElement(p.Modal,{ref:t,type:p.ModalTheme.LabelList,actions:A,title:j},C.default.createElement(s.default,{onNewLabelAdded:e.onNewLabelAdded,shouldScrollIntoViewAndSelect:e.shouldScrollIntoViewAndSelect,initialLabelState:L,selectedLabels:x,renderContext:"label-selection",onMultiSelect:e=>{null!=e&&(L[e]===k?I.add("{labelId}_changed"):I.has(e)?I.delete(e):(null==L[e]&&(0,l.labelsEditingEnabled)()&&(L[e]=M),I.add(e)),R())}}),F)}var O=(0,C.forwardRef)(P);t.default=O},804005:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(122583),l=a(n(670983)),o=n(15842),i=n(984330),u=a(n(120162)),d=n(72696),c=n(778945),s=n(542358),f=n(63014),p=n(780549),m=n(103440),h=K(n(27578)),g=n(891244),E=a(n(908081)),y=a(n(324093)),v=n(36045),C=n(626194),b=n(900316),w=a(n(969358)),_=a(n(395767)),S=a(n(570834)),M=n(114850),k=n(61113),P=n(772358),O=n(699411),T=a(n(94530)),x=n(873994),I=a(n(601086)),R=n(744874),L=a(n(707769)),N=a(n(568414)),D=n(533494),A=n(498703),j=n(180519),F=n(676345),B=n(459857),W=n(887222),H=n(76195),U=n(669050),z=n(548360),G=K(n(667294)),q=a(n(156720)),V=a(n(637660));function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const X={backgroundColor:"ihvf49ua"};function Z(e){let{chat:t,onChange:n,onSubmit:a,value:r}=e;return G.default.createElement("div",{className:(0,q.default)(F.uiPadding.vert0,F.uiPadding.horiz18)},G.default.createElement(I.default,{chat:t,onChange:n,onSubmit:a,value:r,placeholder:z.fbt._("Add a cancelation note",null,{hk:"22DPGj"})}))}function Q(e){let{onCreateOrderClick:t,onDeclineOrderClick:n,order:a,sellerJid:r}=e;return(0,U.createUserWid)(r).equals((0,B.getMaybeMeUser)())?G.default.createElement(G.default.Fragment,null,G.default.createElement(w.default,null,G.default.createElement(v.DrawerButtonSimple,{testid:"order-create",color:"dark",onClick:t},z.fbt._("Create order",null,{hk:"1S0Pla"}))),G.default.createElement(w.default,null,G.default.createElement(v.DrawerButtonSimple,{testid:"order-decline",color:"dark",onClick:n},z.fbt._("Decline order",null,{hk:"1YQsHY"})))):null}function J(e){let{cancellationMessage:t,chat:n,fetchState:a,flatListController:r,isLoading:o,onOrderCancel:i,onOrderCreate:u,onProductDetail:c,order:s,ownerHasReviewed:p,sellerJid:m,sendCancelMessage:g,setCancellationMessage:E}=e;if(o||null==s)return G.default.createElement(N.default,{fetchState:a});let y="";y=s.products.length>0?z.fbt._({"*":"{count} items",_1:"1 item"},[z.fbt._plural((0,R.getTotalItemCount)(s)||0,"count")],{hk:"2j0nBZ"}):z.fbt._("No Items",null,{hk:"3x8YcR"});const v=G.default.createElement(j.TextDiv,{theme:"title"},y);let C=null;const b=s.products.reduce(((e,t)=>null==t.price?e:(e||0)+t.price*t.quantity),null),_=s.products.reduce(((e,t)=>null==t.currency?e:t.currency),null);C=null!=b&&null!=_?z.fbt._("{subtotal} (estimated)",[z.fbt._param("subtotal",h.formatAmount1000(_,b))],{hk:"1GxLQT"}):z.fbt._("No price entered",null,{hk:"1vzCQg"});const S=G.default.createElement(j.WDSTextSmall,{as:"div"},C);let M=null;if(null!=s.createdAt){const e=f.Clock.timeStr(s.createdAt);M=G.default.createElement(j.WDSTextSmall,null,`${e}`)}return G.default.createElement(G.default.Fragment,null,G.default.createElement(w.default,null,G.default.createElement(N.default,{fetchState:a}),G.default.createElement("div",{className:(0,q.default)(X,F.uiPadding.all18)},v,S),G.default.createElement(L.default,{flatListController:r,onProductDetail:c,order:s,sellerJid:m}),G.default.createElement("div",{className:(0,q.default)(X,F.uiPadding.all18)},M),p?G.default.createElement(Z,{chat:n,value:t,onSubmit:g,onChange:E}):null),(0,d.orderDetailsFromCartEnabled)()&&!p?G.default.createElement(Q,{sellerJid:m,order:s,onCreateOrderClick:()=>u((0,l.default)(s,"order")),onDeclineOrderClick:i}):null)}function $(e,t){const{userIsCartOwner:n,orderId:a,token:l,sellerJid:f,onProductDetail:h,onOrderCreate:v,ownerHasReviewed:w,chat:I,orderMessage:R,onOrderCancel:L,isPushed:N=!0}=e,[j,F]=(0,G.useState)(!0),[U,q]=(0,G.useState)("PENDING"),[Y,K]=(0,G.useState)(null),[X,Z]=(0,G.useState)(""),Q=(0,V.default)((()=>new S.default));(0,G.useEffect)((()=>{O.OrderCollection.findOrder(a,f,l).then((e=>{F(!1),q("SUCCESS"),K(e),N&&((0,W.qplAnnotateOrderView)((null==e?void 0:e.products.length)||0),(0,W.qplEndOrderView)(o.QuickLogActionType.SUCCESS))})).catch((0,r.filteredCatch)(i.E404,(()=>{M.ModalManager.open(G.default.createElement(m.ConfirmPopup,{onOK:()=>{M.ModalManager.close()},okText:(0,_.default)("OK")},z.fbt._("The seller has deleted your sent cart. Contact the seller for more information.",null,{hk:"1bBDJ6"}))),F(!1),q("ERROR"),(0,W.qplDropOrderView)()}))).catch((()=>{F(!1),q("ERROR"),__LOG__(4,!0,new Error,!0)`Catalog Order Display failed`,SEND_LOGS("OrderDetails: failed to display"),N&&(0,W.qplEndOrderView)(o.QuickLogActionType.FAIL)}))}),[]);const $=()=>{b.DrawerManager.closeDrawerRight()},ee=(0,d.isBuyerOrderRequestVariantEnabled)()?z.fbt._("Your order request",null,{hk:"1pe53V"}):z.fbt._("Your sent cart",null,{hk:"2rB2j3"}),te=(0,d.isSellerOrderRevampEnabled)()?z.fbt._("Order request",null,{hk:"uRg5i"}):z.fbt._("Received cart",null,{hk:"G9eXC"});return G.default.createElement(E.default,{ref:t,theme:"striped",onDrop:$},G.default.createElement(C.DrawerHeader,{title:n?ee:te,type:C.DRAWER_HEADER_TYPE.SMALL,onBack:$}),G.default.createElement(y.default,null,G.default.createElement(J,{cancellationMessage:X,chat:I,fetchState:U,flatListController:Q.current,isLoading:j,onOrderCancel:L,onOrderCreate:v,onProductDetail:h,ownerHasReviewed:w,order:Y,sellerJid:f,sendCancelMessage:()=>{if($(),null!=R){const e=(0,B.getMaybeMeUser)(),t=e?c.BusinessProfileCollection.get(e):null,n=(0,s.hasCatalog)(t);new x.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:H.ORDER_DETAILS_CREATION_ACTION.SEND_DECLINE_CART,actionCategory:String(T.default.RECEIVED_CART),orderDetailEntryPoint:String(u.default.FROM_CART),hasNote:Boolean(X),hasCatalog:n}).commit();const a=z.fbt._("We have canceled your order.",null,{hk:"3cbQBD"}).toString()+"\n"+X;if((0,A.sendTextMsgToChat)(I,a,{quotedMsg:new P.Msg(R)}),!(0,d.isSellerOrderRevampEnabled)())return;if(null!=R){const e={status:D.Message$OrderMessage$OrderStatus.DECLINED};(0,g.updateMessageTable)(R.id,e);const t=k.MsgCollection.get(R.id);t&&t.set(e)}}p.Cmd.openChatFromUnread(I)},setCancellationMessage:Z})))}Z.displayName="ComposerAndSendButton",Q.displayName="OrderDetailsButtons",J.displayName="DrawerContent";var ee=(0,G.forwardRef)($);t.default=ee},275687:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(72696),l=n(919175),o=n(778945),i=n(542358),u=a(n(692629)),d=W(n(27578)),c=a(n(908081)),s=a(n(324093)),f=n(36045),p=n(626194),m=n(900316),h=a(n(969358)),g=n(690495),E=a(n(469733)),y=a(n(453823)),v=n(238977),C=a(n(94530)),b=n(873994),w=a(n(535407)),_=a(n(210762)),S=a(n(697944)),M=n(458103),k=n(716903),P=n(620982),O=n(832545),T=n(956113),x=n(525366),I=n(180519),R=n(676345),L=a(n(280384)),N=n(459857),D=n(76195),A=n(548360),j=W(n(667294)),F=a(n(156720));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const H={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n"};function U(e,t){var n,a,E,T;const B=(0,N.getMeUser)(),{chat:W,orderInfo:U,sellerWid:G}=e,{referenceId:q,discount:V,tax:Y,shipping:K,subtotal:X,totalAmount:Z}=U,{orderItems:Q,isLoading:J}=(0,L.default)(U,G),$=(0,j.useMemo)((()=>(0,P.findOrderStatus)(W,q)),[W,q]);if((0,j.useEffect)((()=>{new b.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:D.ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS,actionCategory:String(C.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasCatalog:(0,i.hasCatalog)(o.BusinessProfileCollection.get((0,N.getMaybeMeUser)()))}).commit()}),[e.entryPoint]),null==X)return null;return j.default.createElement(c.default,{onDrop:e.onBack,ref:t},j.default.createElement(p.DrawerHeader,{title:(0,r.isOrderContentOptimizationEnabled)()?A.fbt._("Charge details",null,{hk:"2ZURIw"}):A.fbt._("Order details",null,{hk:"2HeBLz"}),onBack:e.onBack,type:p.DRAWER_HEADER_TYPE.SMALL}),j.default.createElement(s.default,{theme:J?"center-content":void 0},J?j.default.createElement(z,null):j.default.createElement(j.default.Fragment,null,j.default.createElement(h.default,{xstyle:[R.uiPadding.top20,R.uiPadding.bottom15]},j.default.createElement(w.default,null,j.default.createElement(_.default,{testid:"order-status-container",orderId:U.referenceId,sellerWid:G,orderStatus:j.default.createElement(S.default,{orderStatus:$})}),j.default.createElement(y.default,{details:!0,currency:U.currency,items:Q}),j.default.createElement(O.OrderValues,{tax:null!=Y?Y*v.DEFAULT_OFFSET:null,discount:null!=V?V*v.DEFAULT_OFFSET:null,shipping:null!=K?K*v.DEFAULT_OFFSET:null,subtotal:X*v.DEFAULT_OFFSET,currency:U.currency,canDisplayAdditionalCharges:!0}),j.default.createElement(g.FlexRow,{justify:"all",xstyle:R.uiPadding.horiz16,testid:"order-details-total-row"},j.default.createElement(I.TextSpan,{theme:"title"},A.fbt._("Total",null,{hk:"7xRrT"})),j.default.createElement(I.TextSpan,{theme:"title"},d.formatAmount(U.currency,Z))))),B.user===G.user&&(null!==(n=null===(a=(0,k.getOrdersExpansionAllowedCountries)())||void 0===a?void 0:a.length)&&void 0!==n?n:0)>0&&j.default.createElement(h.default,null,j.default.createElement(f.DrawerButtonSimple,{icon:j.default.createElement(x.StatusClockIcon,{width:20}),testid:"order-payment-details",color:"dark",disabled:!0,onClick:()=>{}},j.default.createElement(I.TextDiv,{size:"16"},A.fbt._("Payment details",null,{hk:"2J0d9B"})),j.default.createElement(I.TextDiv,{size:"12"},A.fbt._("To see payment details, open WhatsApp on your phone.",null,{hk:"aeAA6"})))),[P.OrderStatus.Canceled,P.OrderStatus.Complete].every((e=>$!==e))&&B.user===G.user&&j.default.createElement(h.default,null,j.default.createElement("div",{className:(0,F.default)(H,R.uiMargin.vert16)},j.default.createElement(u.default,{testid:"order-status-update",type:"primary",onClick:()=>{var t;null===(t=e.onOrderStatusUpdateClick)||void 0===t||t.call(e)}},A.fbt._("Update order status",null,{hk:"4j4YaZ"})))),B.user!==G.user&&$===P.OrderStatus.Pending&&(null!==(E=null===(T=(0,k.getConsumerOrdersExpansionAllowedCountries)())||void 0===T?void 0:T.length)&&void 0!==E?E:0)>0&&j.default.createElement(h.default,null,j.default.createElement("div",{className:(0,F.default)(H,R.uiMargin.vert16)},j.default.createElement(u.default,{testid:"order-payment-confirm",type:"primary",onClick:()=>{(0,l.sendOrderPaymentMethodUpdate)({chat:W,sellerJid:G.toJid(),orderInfo:U,orderStatus:$,offset:v.DEFAULT_OFFSET,orderNote:null,paymentStatus:null,paymentMethod:M.OrderPaymentMethod.Confirm}).finally((()=>{m.DrawerManager.closeDrawerRight()}))}},(0,r.isOrderContentOptimizationEnabled)()?A.fbt._("Confirm info",null,{hk:"1H7OGA"}):A.fbt._("Confirm order info",null,{hk:"1EkPTl"})))))))}function z(){return j.default.createElement(g.FlexRow,{align:"center",justify:"center",testid:"order-detail-drawer-loading"},j.default.createElement(E.default,null,j.default.createElement(T.Spinner,null)))}z.displayName="OrderDetailDrawerLoading";var G=(0,j.forwardRef)(U);t.default=G},402590:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(512938),l=a(n(964223)),o=a(n(47178)),i=a(n(667294));const u=(0,r.FlatListFactory)();function d(e){const{productItems:t}=e,n=t.map((e=>({itemKey:e.id.toString(),product:e})));return i.default.createElement(l.default,{flatListControllers:[e.flatListController]},i.default.createElement(u,{testid:"order-detail-product-list",flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:n,renderItem:e=>{let{product:t}=e;return i.default.createElement(o.default,{product:t})},defaultItemHeight:60}))}d.displayName="OrderDetailProductList"},59380:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(908081)),l=a(n(324093)),o=n(626194),i=a(n(969358)),u=a(n(570834)),d=a(n(402590)),c=n(548360),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),f=(a(n(156720)),a(n(637660)));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m={container:{paddingTop:"emrlamx0",paddingEnd:"folpon7g",paddingBottom:"aiput80m",paddingStart:"lyvj5e2u"}};function h(e,t){const{productItems:n}=e,a=(0,f.default)((()=>new u.default));return s.default.createElement(r.default,{onDrop:e.onBack,ref:t},s.default.createElement(o.DrawerHeader,{title:c.fbt._("Items",null,{hk:"3B8pMI"}),onBack:e.onBack,type:o.DRAWER_HEADER_TYPE.SMALL}),s.default.createElement(l.default,{flatListControllers:[a.current]},s.default.createElement(i.default,{xstyle:m.container,theme:"refresh-padding-title"},s.default.createElement(d.default,{flatListController:a.current,productItems:n}))))}var g=(0,s.forwardRef)(h);t.default=g},47178:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=a(n(170206)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(27578)),o=n(305521),i=n(114459),u=n(180519),d=n(548360),c=n(113189),s=a(n(667294));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){var t;const{product:n}=e,a=s.default.createElement(o.EmojiText,{text:n.name,ellipsify:!0,titlify:!0}),f=s.default.createElement(i.OrderItemIcon,{useCustomIcon:!1===Boolean(n.mediaData),mediaData:null!==(t=n.mediaData)&&void 0!==t?t:null});let p=null;if(n.quantity){const e=d.fbt._("Qty {quantity}",[d.fbt._param("quantity",n.quantity.toString())],{hk:"3Lc7pQ"});p=s.default.createElement(u.TextSpan,null,e)}let m=null;m=(0,c.isNonZeroNumber)(n.price)?l.formatAmount1000(n.currency,n.price):d.fbt._("Ask for price",null,{hk:"3t7lv2"});const h=s.default.createElement(u.TextSpan,null,m);return s.default.createElement(r.default,{image:f,customImage:!0,primary:a,secondary:p,detail:h,theme:"media"})}p.displayName="OrderDetailProductListItem"},411151:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(n(46650)),l=n(690495),o=a(n(625903)),i=a(n(667294)),u=a(n(156720));const d={canceledStyle:{color:"mvxzr2tb"},checkboxContainer:{paddingStart:"nqtxkp62",paddingEnd:"h1a80dm5"}};function c(e){let{checked:t,isCanceled:n,label:a,onClick:c,testid:s}=e;return i.default.createElement(o.default,{onClick:c,testid:null!=s?s:""},i.default.createElement(l.FlexRow,null,i.default.createElement(l.FlexColumn,{xstyle:d.checkboxContainer},i.default.createElement(r.default,{checked:t,radio:!0,hover:!1,systemUncheckedColor:!0,onChange:()=>{c()}})),i.default.createElement("div",{className:n?(0,u.default)(d.canceledStyle):null},a)))}c.displayName="OrderDetailRadioButton"},601086:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=a(n(846870)),l=n(202391),o=n(435595),i=n(634401),u=a(n(844453)),d=a(n(667294)),c=a(n(156720));const s={display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",zIndex:"mb8var44",position:"g0rxnol2",marginBottom:"mggyuyyy"},f={color:"svlsagor",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",opacity:"axi1ht8l",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",position:"lhggkp7q",right:"q82cfhbg",bottom:"efio351b",textAlign:"qfejxiq4"};function p(e){let{buttonTitle:t,chat:n,disabled:a,onChange:p,onSubmit:m,placeholder:h,testid:g,textFieldTestId:E,value:y}=e;return d.default.createElement(d.default.Fragment,null,d.default.createElement(u.default,{transitionName:"media-caption",className:(0,c.default)(s)},d.default.createElement("div",null,d.default.createElement(l.RichTextField,{maxLength:r.default.MAX_CART_MESSAGE_LENGTH,placeholder:h,value:y,testid:E,multiline:!0,showRemaining:!0,spellCheck:!0,supportsEmoji:!0,textFormatEnabled:!0,onEnter:()=>{!0!==a&&m()},onChange:e=>p(e.text)}))),d.default.createElement(u.default,{appear:!0,transitionName:"btn"},d.default.createElement("button",{disabled:a,className:(0,c.default)(f),tabIndex:"-1",onClick:()=>m(),title:t},d.default.createElement(o.Round,{disabled:a},d.default.createElement(i.SendIcon,{width:18,directional:!0})))))}p.displayName="OrderDetailTextComposer"},707769:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(568550),l=n(512938),o=a(n(964223)),i=n(71977),u=a(n(115893)),d=n(899841),c=n(932523),s=n(887222),f=a(n(667294));const p=(0,l.FlatListFactory)();function m(e){const{order:t,onProductDetail:n,sellerJid:a}=e,l=e=>{const n=t.orderItemCollection.toArray();return(0,i.logOrderListImpression)({catalogContext:e,orderId:t.id,productCount:n.length,catalogOwnerJid:a}),n.map((e=>({itemKey:e.id.toString(),product:e})))};return f.default.createElement(r.DrawerContext.Consumer,null,(t=>{const r=(0,c.getProductCatalogContext)(t);return f.default.createElement(o.default,{flatListControllers:[e.flatListController]},f.default.createElement(p,{testid:"order-product-list",flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:l(r),renderItem:t=>f.default.createElement(u.default,{product:t.product,onClick:()=>((t,r)=>{const l={productId:t.product.id,businessOwnerJid:a};(0,s.qplStartProductView)("Order"),(0,i.logOrderListItemClick)({catalogContext:r,orderId:e.order.id,catalogOwnerJid:a}),n(l)})(t,r)}),defaultItemHeight:d.PRODUCT_LIST_ITEM_HEIGHT}))}))}m.displayName="OrderProductList"},115893:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=a(n(170206)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(27578)),o=n(305521),i=n(255695),u=n(493770),d=n(180519),c=n(676345),s=n(548360),f=n(113189),p=a(n(667294)),m=a(n(156720));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){const{product:t,onClick:n}=e,a=p.default.createElement(o.EmojiText,{text:t.name,ellipsify:!0,titlify:!0}),h=p.default.createElement(u.ProductThumb,{mediaData:(0,i.getMediaData)(t),theme:"list"}),g=s.fbt._("Quantity {item-quantity}",[s.fbt._param("item-quantity",t.quantity)],{hk:"102wGk"});let E=null;t.quantity&&(E=p.default.createElement(d.TextSpan,{className:(0,m.default)(c.uiMargin.vert0,c.uiMargin.start0,c.uiMargin.end6)},g));let y=null;(0,f.isNonZeroNumber)(t.price)&&(y=p.default.createElement(d.TextSpan,{className:(0,m.default)(c.uiMargin.vert0,c.uiMargin.start0,c.uiMargin.end6)},l.formatAmount1000(t.currency,t.price)));let v=null;null!=y&&(v=p.default.createElement("span",{className:(0,m.default)(c.uiMargin.vert0,c.uiMargin.start0,c.uiMargin.end6)},"•"));const C=p.default.createElement("div",null,y,v,E);return p.default.createElement(r.default,{key:t.id.toString(),image:h,customImage:!0,primary:a,secondary:C,theme:"order-product",onClick:n})}g.displayName="OrderProductListItem"},249118:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(887341),l=n(72696),o=n(818670),i=n(919175),u=n(778945),d=n(542358),c=a(n(692629)),s=n(780549),f=a(n(883891)),p=n(103440),m=a(n(846870)),h=n(317285),g=a(n(908081)),E=a(n(324093)),y=n(626194),v=n(900316),C=a(n(969358)),b=a(n(395767)),w=n(690495),_=n(114850),S=a(n(936734)),M=n(238977),k=a(n(411151)),P=a(n(94530)),O=n(873994),T=n(458103),x=n(716903),I=n(620982),R=n(202391),L=a(n(682212)),N=n(137506),D=n(676345),A=n(459857),j=n(76195),F=n(548360),B=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),W=a(n(156720));function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}const U=(0,l.isOrderStatusM1Enabled)()?[I.OrderStatus.PaymentRequested,I.OrderStatus.PreparingToShip,I.OrderStatus.Shipped,I.OrderStatus.Delivered,I.OrderStatus.Canceled]:[I.OrderStatus.Processing,I.OrderStatus.Shipped,I.OrderStatus.Complete,I.OrderStatus.Canceled],z={checkboxContainer:{gap:"n8lfltvd"},spacer:{height:"bbl9m3t3",borderTop:"swyb62mu"}};function G(e){let{xstyle:t}=e;return B.default.createElement("div",{className:(0,W.default)(z.spacer,D.uiMargin.top16,t)})}G.displayName="Spacer";const q=()=>h.CTWADataSharingModel.getValue()===r.ENUM_FALSE_NOTSET_TRUE.true;function V(e,t){const[n,a]=(0,B.useState)(q),[H,V]=(0,B.useState)(""),Y=(0,B.useMemo)((()=>(0,I.findOrderStatus)(e.chat,e.orderInfo.referenceId)),[e.chat,e.orderInfo.referenceId]),K=(0,B.useMemo)((()=>(0,T.findLastOrderPaymentStatusInfo)(e.chat,e.orderInfo.referenceId)),[e.chat,e.orderInfo.referenceId]),[X,Z]=(0,B.useState)(Y),[Q,J]=(0,B.useState)((null==K?void 0:K.paymentStatus)===T.OrderPaymentStatus.Captured);(0,B.useEffect)((()=>{const e=e=>a(e===r.ENUM_FALSE_NOTSET_TRUE.true);return h.CTWADataSharingModel.subscribeForUpdates(e),()=>{h.CTWADataSharingModel.unsubscribeFromUpdates(e)}}),[]);const{chat:$,sellerJid:ee,orderInfo:te}=e;function ne(t,a,r,l){v.DrawerManager.closeDrawerRight(),t&&function(t,n,a){(0,i.sendOrderPaymentStatusMessageAsMerchant)({chat:$,sellerJid:ee,orderInfo:te,orderNote:t?H:null,orderStatus:n,offset:M.DEFAULT_OFFSET,paymentStatus:a?T.OrderPaymentStatus.Captured:T.OrderPaymentStatus.Pending,paymentMethod:null}).finally((()=>{(()=>{var t,n,a;const r=null!==(t=null===(n=te.externalPaymentConfigurations)||void 0===n||null===(a=n.at(0))||void 0===a?void 0:a.type)&&void 0!==t?t:"no_method_confirmed";new O.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:j.ORDER_DETAILS_CREATION_ACTION.SEND_MARK_AS_PAID,actionCategory:String(P.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasNote:Boolean(H),paymentStatus:!0,paymentType:r}).commit()})()}))}(!a,r,l),a&&function(t,a){new O.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:j.ORDER_DETAILS_CREATION_ACTION.SEND_ORDER_STATUS,actionCategory:String(P.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasCatalog:(0,d.hasCatalog)(u.BusinessProfileCollection.get((0,A.getMaybeMeUser)())),hasNote:Boolean(H)}).commit(),(0,i.sendOrderStatusMessageAsMerchant)({chat:$,sellerJid:ee,orderInfo:te,orderNote:H,orderStatus:t,offset:M.DEFAULT_OFFSET,paymentStatus:a?T.OrderPaymentStatus.Captured:T.OrderPaymentStatus.Pending,paymentMethod:null}),L.default.markOrderAsUpdatedStatusAction($,n,X,Q),s.Cmd.openChatFromUnread($)}(r,l)}function ae(e){return U.findIndex((t=>t===e))}function re(){const e=ae(X),t=ae(Y),n=(null==K?void 0:K.paymentStatus)===T.OrderPaymentStatus.Captured,a=e!==t,r=n!==Q;let i=X,u=Q;(0,l.isOrderStatusM1Enabled)()&&(r&&(Q?X===I.OrderStatus.PaymentRequested&&(i=I.OrderStatus.PreparingToShip):Q||X!==I.OrderStatus.PreparingToShip||(i=I.OrderStatus.PaymentRequested)),a&&Q&&X===I.OrderStatus.PaymentRequested&&(u=!1)),a||r?e<t?_.ModalManager.open(B.default.createElement(p.ConfirmPopup,{title:F.fbt._("Update sent status?",null,{hk:"Vz57T"}),okText:F.fbt._("Update",null,{hk:"1b5vbz"}),onOK:()=>{ne(r,a,i,u),_.ModalManager.close()},cancelText:F.fbt._("Cancel",null,{hk:"9jDpn"}),onCancel:()=>{_.ModalManager.close()}},F.fbt._("Your customer has already seen this order marked as {originalOrderStatus}. Do you want update it to {orderStatus}?",[F.fbt._param("originalOrderStatus",(0,o.getWAWebBizOrderStatusLabel)(Y)),F.fbt._param("orderStatus",(0,o.getWAWebBizOrderStatusLabel)(X))],{hk:"3MuiJd"}))):ne(r,a,i,u):_.ModalManager.open(B.default.createElement(p.ConfirmPopup,{title:F.fbt._("Status already sent",null,{hk:"3GmLDK"}),okText:(0,b.default)("OK"),onOK:()=>{_.ModalManager.close()}},F.fbt._("Your have already updated this order to {originalOrderStatus}",[F.fbt._param("originalOrderStatus",(0,o.getWAWebBizOrderStatusLabel)(Y))],{hk:"1C6myK"})))}const le=F.fbt._("Add a note",null,{hk:"37dHqT"});return B.default.createElement(g.default,{onDrop:e.onBack,ref:t},B.default.createElement(y.DrawerHeader,{title:F.fbt._("Update order status",null,{hk:"2pK0VF"}),onBack:e.onBack,type:y.DRAWER_HEADER_TYPE.SMALL}),B.default.createElement(E.default,null,B.default.createElement(C.default,null,(0,x.isOrderExpansionEnabled)()&&B.default.createElement(B.default.Fragment,null,B.default.createElement(w.FlexRow,{align:"center",xstyle:[D.uiPadding.top16,D.uiPadding.horiz16]},B.default.createElement(w.FlexColumn,{xstyle:D.uiPadding.end24},B.default.createElement(N.Switch,{checked:Q,onChange:()=>{J(!Q)},testid:"order-mark-as-paid-switch"})),B.default.createElement("div",null,F.fbt._("Paid",null,{hk:"7rrRt"}))),B.default.createElement(G,{xstyle:D.uiMargin.bottom16})),B.default.createElement("div",{className:(0,W.default)(D.uiPadding.vert4,D.uiPadding.horiz16)},B.default.createElement(w.FlexColumn,{xstyle:z.checkboxContainer},U.map((e=>B.default.createElement(k.default,{testid:`order-status-select-option-${e}`,key:e,label:(0,o.getWAWebBizOrderStatusLabel)(e),isCanceled:e===I.OrderStatus.Canceled,checked:X===e,onClick:()=>{Z(e)}}))))),B.default.createElement(G,null),B.default.createElement("div",{className:(0,W.default)(D.uiPadding.horiz28)},B.default.createElement(R.RichTextField,{maxLength:m.default.MAX_CART_MESSAGE_LENGTH,placeholder:le,value:H,testid:"order-status-note-text-field",multiline:!0,showRemaining:!0,spellCheck:!0,supportsEmoji:!0,textFormatEnabled:!0,onEnter:re,onChange:e=>V(e.text)})),((e,t,n,a)=>{if(f.default.shouldDisplayDataSharingOrderOptOutOrUpsell(e,"order-update",t))return B.default.createElement(S.default,{theme:"order-update",onCheckboxToggle:()=>a(!n),checkboxValue:n})})(e.chat,te.items.length,n,a),B.default.createElement(w.FlexColumn,{align:"center",xstyle:[D.uiPadding.horiz16,D.uiMargin.top8,D.uiMargin.bottom24]},B.default.createElement(c.default,{testid:"order-status-update-button",type:"primary",onClick:re},F.fbt._("Send update",null,{hk:"48h8YW"}))))))}var Y=(0,B.forwardRef)(V);t.default=Y},280384:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=(0,i.default)(t),[a,f]=(0,c.useState)([]),[p,m]=(0,c.useState)(!0),h=(0,s.default)(),g=(0,c.useCallback)((()=>null==n?new Map:n.productCollection.getProductModels().reduce(((e,t)=>{var n;return e.set(t.id.toString(),null===(n=t.getPreviewImage())||void 0===n?void 0:n.mediaUrl)}),new Map)),[n]),E=(0,c.useCallback)((t=>{if(null==n)return Promise.resolve([]);const a=e.items.reduce(((e,a)=>{if(a.isCustomItem||null!=t.get(a.id))return e;const r=o.CatalogCollection.findProduct({catalogWid:n.id,productId:a.id});return e.concat(r)}),[]);return Promise.all(a)}),[n,e.items]),y=(0,c.useCallback)(((t,n)=>{var a;return new d.default((0,l.default)((0,l.default)({},t),{},{price:(null!==(a=t.amount)&&void 0!==a?a:0)*u.DEFAULT_OFFSET,currency:e.currency,thumbnailUrl:n.get(t.id)}))}),[e.currency]),v=(0,c.useCallback)((t=>e.items.map((e=>y(e,t)))),[e.items,y]);return(0,c.useEffect)((()=>{(0,r.default)((function*(){const e=g();if(m(!0),yield E(e),h.aborted)return;m(!1);const t=g();f(v(t))}))()}),[n,h,E,g,v]),{orderItems:a,isLoading:p}};var r=a(n(348926)),l=a(n(81109)),o=n(713464),i=a(n(67791)),u=n(238977),d=a(n(454903)),c=n(667294),s=a(n(895851))},45735:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogSettingsDrawer=void 0;var r=n(898817),l=a(n(229922)),o=n(724472),i=n(778945),u=a(n(196554)),d=a(n(908081)),c=a(n(324093)),s=n(626194),f=a(n(969358)),p=n(753233),m=n(258105),h=a(n(284435)),g=n(956113),E=n(180519),y=n(625786),v=n(390737),C=n(459857),b=n(548360),w=P(n(667294)),_=P(n(973935)),S=a(n(156720)),M=a(n(895851));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const O={paddingTop:"nlnf8xo7",paddingEnd:"rmtqb32e",paddingBottom:"r219jyu0",paddingStart:"hmkl5ysc"},T={display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"};function x(e){let{cartEnabled:t,setCartEnabled:n}=e;const a=e=>{n(e),(0,o.updateCartEnabled)(e).catch((()=>{__LOG__(4,!0,new Error,!0)`Failed to update cartEnabled value`,SEND_LOGS("updateCartEnabled: cartEnabled toggle error"),v.ToastManager.open(w.default.createElement(y.Toast,{msg:b.fbt._("Failed to update the setting.",null,{hk:"RZBg9"}),duration:6e3})),n(t)}))},r=(0,m.getCatalogCartOnOffFaqUrl)(),l=w.default.createElement(u.default,{href:r,onClick:e=>{e.preventDefault(),(0,p.openExternalLink)(r)}},b.fbt._("Learn more",null,{hk:"1rcCLt"})),i=b.fbt._("Turn this on to let customers add items to a cart when shopping in your catalog. Turning this off won't affect carts you've already received. {learn_more_link}",[b.fbt._param("learn_more_link",l)],{hk:"iTzgD"});return w.default.createElement(w.default.Fragment,null,w.default.createElement(f.default,{title:b.fbt._("Add to cart",null,{hk:"1mbCt1"}),theme:"title-larger",animation:!1},w.default.createElement(h.default,{isChosen:t,onChoose:()=>{a(!0)},choiceText:b.fbt._("On",null,{hk:"2m7e5W"})}),w.default.createElement(h.default,{isChosen:!t,onChoose:()=>{a(!1)},choiceText:b.fbt._("Off",null,{hk:"1l0P5X"})})),w.default.createElement(E.TextDiv,{theme:"plain",className:(0,S.default)(O)},i))}x.displayName="ToggleCartSection";const I=(0,w.forwardRef)(((e,t)=>{const{onBack:n}=e,[a,o]=(0,w.useState)(!0),[u,f]=(0,w.useState)(!1),p=(0,M.default)();return(0,w.useEffect)((()=>{(0,l.default)(i.BusinessProfileCollection.fetchBizProfile((0,C.getMeUser)()),p).then((e=>{const t=e.profileOptions;_.unstable_batchedUpdates((()=>{f(null!=t&&t.cartEnabled),o(!1)}))})).catch((0,r.catchAbort)((()=>{}))).catch((()=>{__LOG__(4,!0,new Error)`Error fetching the business profile.`,v.ToastManager.open(w.default.createElement(y.Toast,{msg:b.fbt._("Failed to load catalog settings.",null,{hk:"2UxoQh"}),duration:6e3})),n()}))}),[]),w.default.createElement(d.default,{ref:t,theme:"catalog",onDrop:e.onBack},w.default.createElement(s.DrawerHeader,{title:b.fbt._("Settings",null,{hk:"2RmHUB"}),type:s.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,focusBackOrCancel:!0}),w.default.createElement(c.default,null,a?w.default.createElement("div",{className:(0,S.default)(T)},w.default.createElement(g.Spinner,null)):w.default.createElement(x,{cartEnabled:u,setCartEnabled:e=>{f(e)}})))}));t.CatalogSettingsDrawer=I,I.displayName="CatalogSettingsDrawer"},499020:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsWithDeepLink=void 0;var r=n(122583),l=a(n(670983)),o=n(984330),i=n(713464),u=n(103440),d=a(n(908081)),c=a(n(324093)),s=n(626194),f=a(n(395767)),p=n(114850),m=n(227604),h=a(n(568414)),g=a(n(654709)),E=a(n(614058)),y=n(669050),v=n(548360),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const w=(0,C.forwardRef)(((e,t)=>{const{isPushed:n=!0,productInfo:{productId:a,businessOwnerJid:b},onBack:w}=e,[_,S]=(0,C.useState)((()=>(0,g.default)({productId:a,businessOwnerJid:b}))),[M,k]=(0,C.useState)((()=>_?"NONE":"PENDING")),P=()=>{const e=(0,y.createWid)(b);i.CatalogCollection.findProduct({catalogWid:e,productId:a}).then((()=>{const t=i.CatalogCollection.get(e);S((0,l.default)(t,"catalog").productCollection.get(a)),k("SUCCESS")})).catch((0,r.filteredCatch)(o.E404,(()=>{w(),p.ModalManager.open(C.default.createElement(u.ConfirmPopup,{onOK:()=>{p.ModalManager.close()},okText:(0,f.default)("OK")},v.fbt._("This product or service has been removed",null,{hk:"3mE1ld"}))),k("ERROR")}))).catch((e=>{(0,m.parseErrorState)(e,(e=>{k(e)}))}))};return(0,C.useEffect)((()=>{_||P()}),[]),_?C.default.createElement(E.default,{ref:t,chat:e.chat,isPushed:n,product:_,onEnd:e.onEnd,onBack:e.onBack,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalog,refreshCarousel:!0,onProductLinkClick:e.onProductLinkClick,onProductMoreInformation:e.onProductMoreInformation,onCartClick:e.onCartClick}):C.default.createElement(d.default,{ref:t,onDrop:e.onBack,key:"product-details-drawer"},C.default.createElement(s.DrawerHeader,{testid:"drawer-title-profile",title:v.fbt._("Details",null,{hk:"1hLRT1"}),onBack:e.onBack,type:s.DRAWER_HEADER_TYPE.SMALL}),C.default.createElement(c.default,null,C.default.createElement(h.default,{fetchState:M})))}));t.ProductDetailsWithDeepLink=w,w.displayName="ProductDetailsWithDeepLink"},76987:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(952543),l=n(418541),o=n(488940),i=a(n(395767)),u=n(644234),d=a(n(756680)),c=n(172259),s=n(937484),f=n(373070),p=n(493770),m=n(316348),h=n(555622),g=n(625786),E=n(390737),y=n(676345),v=a(n(625903)),C=a(n(844453)),b=n(708233),w=n(548360),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),S=a(n(156720));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const k={tileContainer:{display:"p357zi0d",flexWrap:"lkhkxwyq"},btnDelete:{position:"lhggkp7q",top:"hdpg1tjz",end:"ltcz4qz9",zIndex:"mb8var44",color:"k17s6i4e",filter:"rhe1kc9j"},btnAdd:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"jkv2xdwy",height:"sptw4ec9",fontSize:"lak21jic",fontWeight:"hnx8ox4h",lineHeight:"gz7w46tb",letterSpacing:"hql59cr1"},btnAddContainer:{position:"g0rxnol2",display:"l7jjieqr",width:"jkv2xdwy",height:"sptw4ec9",color:"b4rtxgmj",verticalAlign:"fewfhwl7",backgroundColor:"pxg41zh7",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9"},btnAddText:{textAlign:"qfejxiq4"},imageTile:{position:"g0rxnol2",display:"l7jjieqr",width:"jkv2xdwy",height:"sptw4ec9",":focus":{boxShadow:"jgwac5b6"}},imageThumb:{width:"ln8gz9je",pointerEvents:"m62443ks"},errorMessage:{width:"ln8gz9je",minHeight:"dn5wc90o",color:"mvxzr2tb"}},P=(0,_.forwardRef)(((e,t)=>{let{imageData:n,onDelete:a,index:r}=e;return _.default.createElement("div",{ref:t,className:(0,S.default)(k.imageTile,y.uiMargin.end8,y.uiMargin.bottom10)},_.default.createElement(v.default,{xstyle:k.btnDelete,"aria-label":w.fbt._("Remove image number {imageNumber}",[w.fbt._param("imageNumber",r+1)],{hk:"11vQtK"}),testid:"delete-image",onClick:a},_.default.createElement(b.XAltIcon,{width:30,height:30})),_.default.createElement(p.ProductThumb,{mediaData:n.mediaData,xstyle:k.imageThumb}))}));function O(e){let{handleFilePick:t,inputRef:n}=e;return _.default.createElement("input",{ref:n,type:"file",accept:s.IMAGE_MIMES,style:{display:"none"},onChange:t,multiple:!0})}P.displayName="Tile",O.displayName="FileInput";const T=(0,_.forwardRef)(((e,t)=>{let{onAddFileClick:n}=e;return _.default.createElement("div",{ref:t,className:(0,S.default)(k.btnAddContainer,y.uiMargin.end8,y.uiMargin.bottom10)},_.default.createElement(v.default,{xstyle:k.btnAdd,"aria-label":w.fbt._("Add additional image",null,{hk:"1zIuu3"}),onClick:n,testid:"add-image"},_.default.createElement(l.CameraIcon,null),_.default.createElement("div",{className:(0,S.default)(k.btnAddText,y.uiMargin.top5)},w.fbt._("Add Images",null,{hk:"3yrGBr"}))))}));function x(e){let{error:t}=e;return _.default.createElement("div",{className:(0,S.default)(k.errorMessage),role:"alert"},t)}function I(e,t){const{maxImageCount:n,onChange:a,error:l,product:p}=e,v=(0,_.useRef)(null),[b,M]=(0,_.useState)((()=>p.productImageCollection.filter((e=>!e.old)).map((e=>({url:e.mediaUrl,mediaData:e.mediaData}))))),I=e=>{e.mediaPrep.waitForPrep().then((t=>{if(!(e=>!(b.filter((t=>t.mediaData.filehash===e.filehash)).length>0&&(E.ToastManager.open(_.default.createElement(g.Toast,{msg:w.fbt._("Two or more images are the same. Delete any duplicates and try again.",null,{hk:"3qIMS6"})})),1)))(t))return;t.mediaStage=c.MediaDataStage.RESOLVED,t.renderableUrl=e.fullPreview;const n=t.mediaBlob;!n||n instanceof d.default||d.default.createFromData(n,n.type).then((e=>{t.mediaBlob=e})),M((e=>[...e,{url:null,mediaData:t}])),null==a||a([...b,{url:null,mediaData:t}])}))},R=e=>{(0,o.getFiles)(e,s.IMAGE_MIMES).then((e=>{const t=n-b.length;e.length>t&&E.ToastManager.open(_.default.createElement(g.Toast,{msg:w.fbt._("You've reached the maximum number of images to add.",null,{hk:"2ra3Nx"}),duration:6e3,action:{actionText:(0,i.default)("GOT IT"),dismiss:!0,theme:"success"}})),e.slice(0,n-b.length).map((e=>({file:e,filename:e.name,mimetype:e.type,type:f.MSG_TYPE.PRODUCT}))).map((e=>{var t;const n=new r.AttachMedia({file:Promise.resolve(e)});return null===(t=n.processPromise)||void 0===t?void 0:t.then((()=>{I(n)}))}))})),null!=e.target.value&&""!==e.target.value&&(e.target.value="")},L=()=>{const e=b.filter((e=>null==e.url)).length;h.QPL.markerAnnotate(m.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,{int:{ImagesCount:e}}),h.QPL.markerPoint(m.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,"images_upload_start");const t=b.filter((e=>null==e.url)).map((e=>{const{mediaData:{mediaBlob:t,filehash:n}}=e;return t instanceof d.default?(0,u.uploadProductImage)(t,n).then((t=>{e.url=t})):null})).filter(Boolean);return Promise.all(t).then((()=>(h.QPL.markerPoint(m.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,"images_upload_end"),b.map((e=>e.url||"")))))};(0,_.useImperativeHandle)(t,(()=>({uploadImages:L,handleFilePick:R})));return _.default.createElement("div",{className:(0,S.default)(y.uiMargin.bottom14)},_.default.createElement("div",{className:(0,S.default)(k.tileContainer)},_.default.createElement(C.default,{appear:!0,transitionName:"thumb-scale-flex"},b.filter((e=>e.mediaData)).map(((e,t)=>_.default.createElement(P,{key:e.mediaData.filehash,index:t,imageData:e,onDelete:()=>(e=>{const t=b.filter((t=>t!==e));M(t),null==a||a(t)})(e)}))),b.length<n?_.default.createElement(T,{onAddFileClick:()=>{if(v.current){v.current.click()}}}):null),_.default.createElement(O,{inputRef:v,handleFilePick:R})),_.default.createElement(x,{error:l}))}T.displayName="AddImageButton",x.displayName="ErrorMessage";var R=(0,_.forwardRef)(I);t.default=R},533196:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var r=n(568550),l=n(900316),o=n(512938),i=a(n(964223)),u=n(114850),d=n(899841),c=n(932523),s=a(n(698690)),f=n(77548),p=a(n(373044)),m=a(n(772549)),h=n(163139),g=n(676345),E=n(887222),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),v=a(n(156720));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const b={overflowX:"gfz4du6o",overflowY:"r7fjleex"},w=(0,o.FlatListFactory)();function _(e){let{item:t,onProductDetail:n}=e;const a=(0,y.useCallback)(((e,t)=>((0,f.logCatalogListDetailClick)({product:(0,h.unproxy)(e),catalogContext:t}),(0,E.qplStartProductView)("PLM"),n(e))),[n]);let l=null;switch(t.type){case"section":{const{label:e}=t;l=y.default.createElement(m.default,{header:e});break}case"product":{const{product:e}=t;l=y.default.createElement(r.DrawerContext.Consumer,null,(t=>y.default.createElement(s.default,{product:e,onClick:()=>a(e,(0,c.getProductCatalogContext)(t)),canManageCatalog:!1})));break}}return l}function S(e){let{flatListController:t,onProductDetail:n,productMessageList:a}=e;const r=a.productCollection.getProductModels(),o=a.getSections(),c=a.getSectionsCount()>0,s=a.getTotalProductsFetchedOrFailed(),f=a.getProductSize()===s&&0===r.length,m=[];return o.forEach(((e,t)=>{let{title:n,products:a}=e;const l=[];a.forEach((e=>{let{productId:n}=e;const a=r.find((e=>e.id===n));null!=a&&l.push({itemKey:`section-${t}-${a.id.toString()}`,product:a,type:"product",height:d.PRODUCT_LIST_ITEM_HEIGHT})})),l.length>0&&(null!=n&&""!==n&&m.push({itemKey:`header-${t}-${n}`,label:n,type:"section",height:72}),m.push(...l))})),(0,y.useEffect)((()=>{f&&u.ModalManager.open(y.default.createElement(p.default,{onConfirm:()=>{l.DrawerManager.closeDrawerRight(),u.ModalManager.close()}}))}),[f]),y.default.createElement("div",{className:(0,v.default)(b,g.uiPadding.bottom8,!c&&g.uiMargin.top8)},y.default.createElement(i.default,{flatListControllers:[t]},y.default.createElement(w,{flatListController:t,direction:"vertical",forceConsistentRenderCount:!1,data:m,renderItem:e=>y.default.createElement(_,{item:e,onProductDetail:n}),itemEnterAnimationsEnabled:!0})))}_.displayName="Item",S.displayName="ProductMessageList"},716890:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductMessageListDrawer=void 0;var r=a(n(348926)),l=n(15842),o=n(724976),i=n(290895),u=n(263755),d=n(660666),c=a(n(908081)),s=a(n(324093)),f=n(568550),p=n(626194),m=n(305521),h=a(n(570834)),g=a(n(495012)),E=n(914368),y=n(899841),v=a(n(819543)),C=n(932523),b=n(227604),w=a(n(568414)),_=n(77548),S=a(n(533196)),M=n(466077),k=n(316348),P=n(555622),O=n(887222),T=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),x=a(n(156720)),I=n(379811),R=a(n(637660)),L=n(808446),N=a(n(895851));function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}const A={display:"p357zi0d"};function j(e){let{loadingMore:t,onProductDetail:n,productListFlatListControllerRef:a,productMessageList:r,productMessageListFetchState:l}=e;return r?T.default.createElement("div",null,T.default.createElement(S.default,{productMessageList:r,flatListController:a.current,onProductDetail:n}),t&&T.default.createElement(g.default,null)):T.default.createElement(w.default,{fetchState:l})}j.displayName="ProductMessageListDrawerContent";const F=(0,T.forwardRef)(((e,t)=>{const{productListId:n,setScrollOffset:a,onCartClick:g,onProductDetail:w,catalogWid:S}=e,D=(0,N.default)(),F=(0,T.useContext)(f.DrawerContext),B=(0,R.default)((()=>new h.default)),[W]=(0,I.useContactValues)(e.contact.id,[d.getId]),[H,U]=(0,T.useState)(!1),[z,G]=(0,T.useState)(0),[q,V]=(0,T.useState)(!1),[Y,K]=(0,T.useState)((()=>M.ProductMessageListCollection.get(n))),[X]=(0,T.useState)((()=>i.CartCollection.findCart(W.toString()))),[Z,Q]=(0,T.useState)(X.itemCount),[J,$]=(0,T.useState)(!1),[ee,te]=(0,T.useState)(Y?"SUCCESS":"NONE"),ne=t=>{const{isPushed:a=!0}=e,r=a&&!0===t,o=M.ProductMessageListCollection.assertGet(n),i=o.getTotalProductsFetchedOrFailed(),u=o.getProductSize();if(q||i===u)return r&&(P.QPL.markerAnnotate(k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{int:{ProductsCount:i}}),P.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,l.QuickLogActionType.SUCCESS)),void V(!0);U(!0),G(i);const d=r?k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW:void 0;M.ProductMessageListCollection.update(n,{markerId:d}).then((e=>{if(D.aborted)return void(r&&P.QPL.markerDrop(k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW));U(!1);const t=(Array.isArray(e)?e[0]:e).getTotalProductsFetchedOrFailed();t===z&&V(!0),r&&(P.QPL.markerAnnotate(k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{int:{ProductsCount:t}}),P.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,l.QuickLogActionType.SUCCESS)),i*y.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&ne()})).catch((()=>{U(!1),V(!0),r&&P.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,l.QuickLogActionType.FAIL)}))},ae=function(){var t=(0,r.default)((function*(){const{isPushed:t=!0}=e;try{const e=yield M.ProductMessageListCollection.find(n);if(D.aborted)return void(t&&P.QPL.markerDrop(k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW));K(e),te("SUCCESS"),ne(!0)}catch(e){(0,b.parseErrorState)(e,(e=>te(e))),t&&P.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,l.QuickLogActionType.FAIL)}}));return function(){return t.apply(this,arguments)}}();(0,T.useEffect)((()=>{Y?ne():ae(),(0,v.default)(W).then((e=>{D.aborted||($(e),(0,_.logCatalogListView)({catalogOwnerWid:S,catalogContext:(0,C.getProductCatalogContext)(F),cartToggle:e}))}))}),[]),(0,L.useListener)(X,"all",(()=>{Q(X.itemCount)}));const re=null!=g&&J?T.default.createElement(u.CartIconMenuBarItem,{cartCountText:(0,o.isNumber)(Z)&&Z>0?Z.toString():void 0,onClick:()=>{(0,O.qplStartCartView)("PLM"),null==g||g(W.toString())},catalogOwnerJid:W.toString()}):null;return T.default.createElement(c.default,{ref:t,theme:"products",onDrop:e.onBack},T.default.createElement(p.DrawerHeader,{title:T.default.createElement("div",{className:(0,x.default)(A)},T.default.createElement(m.EmojiText,{text:null==Y?void 0:Y.title,ellipsify:!0})),titleStr:null==Y?void 0:Y.title,type:p.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:re}),T.default.createElement(s.default,{onScroll:e=>{var t;t=e.currentTarget,H||t.scrollTop+E.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&ne(),null==a||a(e.currentTarget.scrollTop)},flatListControllers:[B.current],scrollOffset:e.scrollOffset},T.default.createElement(j,{productMessageList:Y,loadingMore:H,productMessageListFetchState:ee,onProductDetail:w,productListFlatListControllerRef:B})))}));t.ProductMessageListDrawer=F,F.displayName="ProductMessageListDrawer",F.displayName="ProductMessageListDrawer"},373044:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(103440),l=n(305521),o=a(n(395767)),i=n(548360),u=a(n(667294));function d(e){let{onConfirm:t}=e;return u.default.createElement(r.ConfirmPopup,{onOK:t,okText:(0,o.default)("OK")},u.default.createElement(l.EmojiText,{text:i.fbt._("Items in this message are no longer available",null,{hk:"1MclQl"})}))}d.displayName="ProductMessageListNoProductModal"},614415:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(670983)),l=n(713464),o=a(n(368084)),i=n(61740),u=n(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const s=(e,t)=>{const[n,a]=(0,d.useState)(!1),[c,s]=(0,d.useState)([]),f=d.default.createElement(o.default,{disabled:!n,onClick:()=>{var t;const n=(0,r.default)(null===(t=c[0])||void 0===t?void 0:t.catalogWid,"products[0]?.catalogWid"),a=(0,r.default)(l.CatalogCollection.get(n),"CatalogCollection.get(catalogWid)");e.onShare(a)}});return d.default.createElement(i.SelectModal,{ref:t,title:u.fbt._("Send products",null,{hk:"3C7pQj"}),onCancel:e.onCancel,onConfirm:e.onConfirm,listType:i.ListType.ProductSelectModal,enableSearchBox:!1,customHeader:f,onSelectionChanged:(e,t,n)=>{a(0===n.length)},onDataLoaded:e=>{const t=e;s(t),a(t.length>0)}})};var f=(0,d.forwardRef)(s);t.default=f},368084:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(682761),l=a(n(170206)),o=a(n(802211)),i=n(548360),u=a(n(667294));a(n(156720));function d(e){let{disabled:t,onClick:n}=e;const a=t?"bx7g2weo":"",d=t?"hp667wtd":"",c=t?null:n,s=u.default.createElement("span",{className:d},i.fbt._("Send catalog",null,{hk:"BiYcl"})),f=u.default.createElement(o.default,{theme:"compact",disabled:t},u.default.createElement(r.CatalogIcon,null));return u.default.createElement(l.default,{image:f,onClick:c,primary:s,theme:"list-button-compact",className:a})}d.displayName="SendCatalogButton"},67791:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,o.useState)((()=>l.CatalogCollection.get(e))),a=(0,i.default)();return(0,o.useEffect)((()=>{const o=l.CatalogCollection.get(e);o!==t&&(null!=o?n(o):(0,r.default)((function*(){const t=yield l.CatalogCollection.find(e);a.aborted||n(t)}))())}),[e,t,a]),t};var r=a(n(348926)),l=n(713464),o=n(667294),i=a(n(895851))},149917:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(512938),l=a(n(964223)),o=n(899841),i=a(n(313292)),u=a(n(667294));const d=(0,r.FlatListFactory)();function c(e){const{selections:t,active:n,onSelectionChanged:a,catalog:r}=e,c=e=>{((e,r,l)=>{t.setVal(e,r,l),n.setVal(e,l),a()})(e,!t.isSelected(e),!1)};return u.default.createElement(l.default,{flatListControllers:[e.flatListController]},u.default.createElement(d,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:r.productCollection.getProductModels(!0).map((e=>({itemKey:e.id.toString(),product:e}))),renderItem:e=>{let{product:a}=e;return u.default.createElement(i.default,{key:a.id.toString(),product:a,selections:t,onClick:()=>c(a),active:n})},defaultItemHeight:o.PRODUCT_LIST_ITEM_HEIGHT}))}c.displayName="CollectionProductsSelectionList"},554740:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(898817),o=n(15842),i=n(477627),u=n(676983),d=n(638107),c=a(n(908081)),s=a(n(324093)),f=n(568550),p=n(626194),m=a(n(570834)),h=a(n(495012)),g=a(n(932325)),E=n(491606),y=a(n(149917)),v=a(n(930440)),C=n(899841),b=n(932523),w=n(854682),_=n(316348),S=n(555622),M=n(202391),k=n(435595),P=a(n(237889)),O=n(956113),T=n(548360),x=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),I=a(n(156720)),R=a(n(969651)),L=a(n(637660)),N=a(n(286481)),D=a(n(895851));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const j={container:{position:"g0rxnol2",zIndex:"thghmljt",display:"p357zi0d",flex:"a1m9qzja",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"ag5g9lrv"},isSending:{pointerEvents:"m62443ks",opacity:"n791o4v8"},footer:{zIndex:"ercejckq",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"fe3aadhc",paddingEnd:"h1a80dm5",paddingStart:"sta02ykp",color:"k17s6i4e",backgroundColor:"gulicvea"},saveButton:{paddingTop:"b7n2qyd4",paddingEnd:"btzf6ewn",paddingBottom:"ekpn4oxx",paddingStart:"nqtxkp62"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},nameContainer:{position:"g0rxnol2"},nameIcon:{position:"g0rxnol2",top:"fcxg0yzc",display:"l7jjieqr",width:"jgly3g7g",marginStart:"lhp4ctto",transform:"mdse5hul"},nameEdit:{display:"l7jjieqr",width:"p56o3wws",height:"q7zw29cd",paddingTop:"emrlamx0",verticalAlign:"fewfhwl7"},operation:{paddingTop:"qomlamqu",paddingEnd:"f9ovudaz",paddingBottom:"r219jyu0",paddingStart:"rppts313",marginStart:"bv1sdm6y",color:"jq3rn4u7"},listContainer:{height:"cbqxid7y",overflowX:"i44ccddp",overflowY:"ag5g9lrv"},loadingSpinner:{display:"btb1m7bk",justifyContent:"ac2vgrno",height:"jdwybkuq"}};function F(e){let{errorName:t,onChange:n,value:a}=e;return x.default.createElement(M.RichTextField,{editable:!0,focusOnMount:!0,showRemaining:!0,value:a,onChange:e=>{let{text:t}=e;n(t)},inputPlaceholder:T.fbt._("New collection",null,{hk:"2NAI33"}),theme:"text-input",error:t,maxLength:30})}function B(e){let{onClick:t,updated:n}=e;const a=T.fbt._({"*":"{updated} Items Updated",_1:"{updated} Item Updated"},[T.fbt._plural(n),T.fbt._param("updated",g.default.n(n))],{hk:"31p9rh"});return x.default.createElement("div",{className:(0,I.default)(j.footer)},a,x.default.createElement("div",{className:(0,I.default)(j.saveButton)},x.default.createElement(k.Round,{large:!0,onClick:t},x.default.createElement(u.CheckmarkMediumIcon,null))))}function W(e){let{collection:t,nameInfo:n,selectionList:a,syncInfo:r}=e;const{name:l,errorName:o,handleNameChange:i}=n,{isUpdating:u,loadingMore:c,syncSelection:s,handleSave:p}=r,m=u?x.default.createElement("div",{className:(0,I.default)(j.spinner)},x.default.createElement(O.Spinner,{size:50,stroke:3})):null,g=s();return x.default.createElement(f.DrawerContext.Consumer,null,(e=>{const n=(0,b.getProductCatalogContext)(e);return x.default.createElement(x.default.Fragment,null,m,x.default.createElement("div",{className:(0,I.default)(j.nameContainer)},x.default.createElement("span",{className:(0,I.default)(j.nameIcon)},x.default.createElement(d.CollectionsFolderIcon,null)),x.default.createElement("span",{className:(0,I.default)(j.nameEdit)},x.default.createElement(F,{onChange:i,value:l,errorName:o}))),x.default.createElement("div",{className:(0,I.default)(j.operation)},t?T.fbt._("Update Items",null,{hk:"2dT3Pu"}):T.fbt._("Add Items",null,{hk:"3NRr27"})),x.default.createElement("div",{className:(0,I.default)(j.listContainer)},a,c&&x.default.createElement("div",{className:(0,I.default)(j.loadingSpinner)},x.default.createElement(h.default,null))),g>0||t&&l!==t.name?x.default.createElement(B,{updated:g,onClick:()=>{p(n)}}):null)}))}function H(e,t){var n;const{catalog:a,collection:u,onBack:d}=e,f=(0,L.default)((()=>new P.default([],(e=>e.id.toString())))),h=(0,L.default)((()=>new v.default([],(e=>e.id.toString())))),g=(0,L.default)((()=>new m.default)),M=(0,R.default)(),k=(0,D.default)(),[O,A]=(0,x.useState)(null),[F,B]=(0,x.useState)(null==u?void 0:u.name),[H,U]=(0,x.useState)(null==u?void 0:u.name),[z,G]=(0,x.useState)(null),[q,V]=(0,x.useState)(!1),[Y,K]=(0,x.useState)(!0);(0,x.useEffect)((()=>{(()=>{const e=new i.CollectionsContentDataSource(a,C.PRODUCT_LIST_ITEM_HEIGHT,null==u?void 0:u.id),t=new i.CatalogListItemScrollHelper(e);A(t),e.loadInitialItems().then((()=>{if(k.aborted)throw new l.AbortError;K(!1),M()})).catch((0,l.catchAbort)((()=>{})))})()}),[]);const X=(0,N.default)((e=>{const t=e.currentTarget;(null==O?void 0:O.willLoadMore(t))&&K(!0),null==O||O.onScroll(e,t).then((e=>{K(!1),e&&K(!1)})).catch((e=>{throw K(!1),e}))}),100),Z=function(){var e=(0,r.default)((function*(e){const t=(0,b.getProductCatalogContext)(e);if(F&&""!==F.trim()){S.QPL.markerStart(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT),V(!0);const{added:e,removed:n}=(()=>{const e=a.productCollection.getProductModels(!0),t=[],n=[];return e.forEach((e=>{const a=h.current.isSelected(e);e.checkmark!==a&&(a?n.push(e):t.push(e))})),{added:n,removed:t}})(),r=F!==H;S.QPL.markerAnnotate(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,{bool:{IsNew:!u},int:{ProductsAdded:e.length}}),u&&S.QPL.markerAnnotate(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,{bool:{Renamed:r},int:{ProductsDeleted:n.length}});try{if(yield(0,E.handleCollectionSave)(a,u,F||"",e,n,t)){d();const a=null==u?void 0:u.id;a&&r&&((0,w.logCollectionRenamed)({catalogContext:t,collectionId:a}),U(F)),u&&(0,w.logCollectionItemsAssignment)({collectionId:u.id,addedCount:e.length,removedCount:n.length,catalogContext:t}),S.QPL.markerEnd(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,o.QuickLogActionType.SUCCESS)}else V(!1),S.QPL.markerDrop(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT)}catch(e){V(!1),S.QPL.markerEnd(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,o.QuickLogActionType.FAIL)}}else G(T.fbt._("Name required",null,{hk:"1pvj2p"}))}));return function(){return e.apply(this,arguments)}}(),Q=(0,I.default)(j.container,q&&j.isSending),J=(null===(n=e.collection)||void 0===n?void 0:n.name)||T.fbt._("New collection",null,{hk:"4dusPd"});return x.default.createElement(c.default,{ref:t,theme:"products",onDrop:e.onBack},x.default.createElement(p.DrawerHeader,{title:J,type:p.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),x.default.createElement(s.default,{className:Q,flatListControllers:[g.current],onScroll:X},x.default.createElement(W,{nameInfo:{name:F,errorName:z,handleNameChange:e=>{B(e),G(z&&e?null:z)}},syncInfo:{isUpdating:q,loadingMore:Y,syncSelection:()=>{const e=a.productCollection.getProductModels(!0);let t=0;return e.forEach((e=>{h.current.isInList(e)?e.checkmark!==h.current.isSelected(e)&&t++:h.current.setVal(e,e.checkmark)})),t},handleSave:e=>{Z(e)}},collection:u,selectionList:x.default.createElement(y.default,{catalog:a,flatListController:g.current,active:f.current,selections:h.current,onSelectionChanged:()=>M()})})))}F.displayName="NameEdit",B.displayName="Footer",W.displayName="DrawerContent";var U=(0,x.forwardRef)(H);t.default=U},319170:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EditProductDrawer=void 0;var r=a(n(81109)),l=a(n(348926)),o=n(122583),i=a(n(670983)),u=n(15842),d=n(984330),c=n(691454),s=n(72696),f=n(172949),p=a(n(692629)),m=n(713464),h=n(468926),g=n(780549),E=n(676594),y=n(87630),v=n(537469),C=J(n(27578)),b=a(n(413252)),w=a(n(908081)),_=a(n(324093)),S=n(568550),M=n(626194),k=n(900316),P=n(690495),O=a(n(469733)),T=n(617433),x=n(486392),I=n(491606),R=n(932523),L=n(77548),N=a(n(76987)),D=n(517086),A=n(316348),j=n(555622),F=n(202391),B=n(956113),W=n(741703),H=n(180519),U=n(625786),z=n(390737),G=a(n(79291)),q=n(459857),V=n(548360),Y=J(n(667294)),K=a(n(156720)),X=n(808446),Z=n(655241);function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}function J(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const $={complianceInfoHelpCenterBanner:{paddingTop:"nlnf8xo7",paddingEnd:"f9ovudaz",paddingBottom:"jzp2c175",paddingStart:"gx1rr48f"},productWrapper:{position:"g0rxnol2",width:"dlt2z1m8",paddingTop:"gq7nj7y3",paddingEnd:"f9ovudaz",paddingBottom:"eynyaxvo",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm"},isSending:{pointerEvents:"m62443ks",opacity:"n791o4v8"},drawerHeader:{display:"p357zi0d",alignItems:"gndfcl4n"},drawerHeaderButtonContainer:{marginStart:"isfiuinm"},deleteButtonContainer:{marginTop:"dkeqio29",marginEnd:"jnwc1y2a",marginBottom:"ofb4x1dx",marginStart:"svoq16ka",textAlign:"qfejxiq4"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},hiddenContainer:{marginTop:"opp68qpq",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},hiddenLabel:{position:"g0rxnol2",top:"hd6b059k",marginStart:"a3oefunm"},hiddenDescr:{marginTop:"hymafltn",marginBottom:"bvhm1occ",marginStart:"gv7ona1m",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"pp1m8hwk"}},ee=(0,Y.forwardRef)(((e,t)=>{const{catalog:n,onBack:a,onCancel:g,newProduct:y=!1,onDelete:P,onEditSuccess:O,onCreate:T}=e,Q=(0,Y.useContext)(S.DrawerContext),J=(0,Y.useRef)(null),ee=(0,Z.useModelValues)(e.product,["id","additionalImageCdnUrl","name","priceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl","retailerId","currency","isHidden","complianceInfo"]),ne=e=>!(0,s.hideUnsupportedCurrency)()||C.isSupportedCurrency(e),ae=null!=ee.currency?ee.currency:C.currencyForCountryShortcode((0,x.getCountryShortcodeByPhone)((0,q.getMeUser)().user)),re=ne(ae),[le,oe]=(0,Y.useState)(ee.name||""),[ie,ue]=(0,Y.useState)(re?ee.priceAmount1000:null),[de,ce]=(0,Y.useState)(ee.description||""),[se,fe]=(0,Y.useState)(ee.url||""),[pe,me]=(0,Y.useState)(ee.retailerId||""),[he,ge]=(0,Y.useState)((()=>{if(null!=ee.priceAmount1000&&null!=ae&&re){const e=C.formatAmount1000ToParts(ae,ee.priceAmount1000);return`${e.integer}${e.decimal}`}return""})),Ee=re?ae:"",[ye,ve]=(0,Y.useState)(!1),[Ce,be]=(0,Y.useState)(""),[we,_e]=(0,Y.useState)(""),[Se,Me]=(0,Y.useState)(""),[ke,Pe]=(0,Y.useState)(""),[Oe,Te]=(0,Y.useState)(""),[xe,Ie]=(0,Y.useState)(!!ee.imageCdnUrl),[Re,Le]=(0,Y.useState)(!1),[Ne,De]=(0,Y.useState)(ee.isHidden),[Ae,je]=(0,Y.useState)(!!re),[Fe,Be]=(0,Y.useState)(!1),[We,He]=(0,Y.useState)(void 0);(0,X.useListener)(ee,"change:isHidden",(()=>{De(ee.isHidden)}));const Ue=function(){var e=(0,l.default)((function*(){if(y)Be(!0);else{yield m.CatalogCollection.findProduct({catalogWid:n.id,productId:ee.id.toString(),shouldFetchComplianceFields:!0});const e=(0,i.default)(n,"catalog").productCollection.get(ee.id),{countryCodeOrigin:t,importerName:a,importerAddress:r}=(null==e?void 0:e.complianceInfo)||{},l=t===String(W.SyntheticCountryCode.NotApplicable)?V.fbt._("Not Applicable",null,{hk:"2k1klN"}).toString():t&&(yield(0,v.getCountryName)(t,v.COUNTRY_FILTER_TYPE.META_RECOGNIZED)),o=(null==r?void 0:r.countryCode)&&(yield(0,v.getCountryName)(r.countryCode,v.COUNTRY_FILTER_TYPE.META_RECOGNIZED));Be(!0),He({countryCodeOrigin:t,countryNameOrigin:l,countryCodeOriginError:"",importerName:a,importerNameError:"",importerAddress:{street1:null==r?void 0:r.street1,street1Error:"",street2:null==r?void 0:r.street2,postalCode:null==r?void 0:r.postalCode,city:null==r?void 0:r.city,cityError:"",region:null==r?void 0:r.region,countryCode:null==r?void 0:r.countryCode,countryName:o,countryCodeError:""}})}}));return function(){return e.apply(this,arguments)}}();(0,Y.useEffect)((()=>{(0,s.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id)&&Ue()}),[]);const ze=(e,t,n)=>{if(null==We)return;const{importerAddress:a}=We;return t===e?n:a[e]},Ge=()=>{const e=null==We?void 0:We.countryCodeOrigin;return!!e&&![E.COMPLIANCE_INFO_CODES.INDIA,W.SyntheticCountryCode.NotApplicable].includes(e)},qe=()=>(0,s.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(n.id),Ve=(e,t)=>{y?(0,L.logAddProductFailed)((0,R.getProductCatalogContext)(Q)):(0,L.logEditProductFailed)(ee,(0,R.getProductCatalogContext)(Q),e.statusCode);let n=V.fbt._("Failed to save changes",null,{hk:"1rgjJH"});null!=e.errors&&(e.errors.filter((e=>"duplicate"===e.reason)).length>0?j.QPL.markerDrop(t):j.QPL.markerEnd(t,u.QuickLogActionType.FAIL),e.errors.map((e=>{"media"===e.name&&"duplicate"===e.reason&&Te(V.fbt._("Two or more images are the same. Delete any duplicates and try again.",null,{hk:"3qIMS6"})),"retailer_id"!==e.name&&"retailer-id"!==e.name||"duplicate"!==e.reason||Pe(V.fbt._("Item code must be unique.",null,{hk:"2T0KbL"})),(0,s.hideUnsupportedCurrency)()&&"currency"===e.name&&"invalid-data"===e.reason&&(n=V.fbt._("Price can't be shown in your country. Delete the price you entered.",null,{hk:"2fEiD0"}))}))),z.ToastManager.open(Y.default.createElement(U.Toast,{msg:n,id:(0,U.genId)("catalog_save_item_failed")}))},Ye=e=>{n.productCollection.add(e,{merge:!0}),y?(0,L.logAddProductSuccess)((0,R.getProductCatalogContext)(Q)):(0,L.logEditProductSuccess)(ee,(0,R.getProductCatalogContext)(Q)),z.ToastManager.open(Y.default.createElement(U.Toast,{msg:V.fbt._("Changes saved",null,{hk:"fmK60"}),id:(0,U.genId)("catalog_item_saved")})),O(e),null!=y&&(null==T||T())},Ke=function(){var e=(0,l.default)((function*(e,t){const n=ze("street1",e,t),a=ze("street2",e,t),l=ze("postalCode",e,t),o=ze("city",e,t),i=ze("region",e,t),u=ze("countryCode",e,t),d=[n,a,l,o,i,u].some((e=>e))||qe(),s=(0,r.default)((0,r.default)({},We),{},{importerAddress:(0,r.default)({},null==We?void 0:We.importerAddress)});if("countryCode"===e){const e=yield(0,v.getCountryName)(t,v.COUNTRY_FILTER_TYPE.META_RECOGNIZED);null==e||""===e?delete s.importerAddress.countryName:s.importerAddress.countryName=e}null==t||""===t?delete s.importerAddress[e]:s.importerAddress[e]=t,s.importerAddress.street1Error=d&&!(0,c.existsFieldIgnoreHardEnforcement)(n)?V.fbt._("Add an importer address line 1",null,{hk:"3HSMmN"}):"",s.importerAddress.cityError=d&&!(0,c.existsFieldIgnoreHardEnforcement)(o)?V.fbt._("Add an importer city",null,{hk:"1nq7dA"}):"",s.importerAddress.countryCodeError=d&&!(0,c.existsFieldIgnoreHardEnforcement)(u)?V.fbt._("Add an importer country",null,{hk:"3VmDTh"}):"",je(!0),He(s)}));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,l.default)((function*(e,t){let n;const a=(0,r.default)((0,r.default)({},We),{},{importerAddress:(0,r.default)({},null==We?void 0:We.importerAddress)});"countryCodeOrigin"===e&&(n=t===String(W.SyntheticCountryCode.NotApplicable)?V.fbt._("Not Applicable",null,{hk:"2k1klN"}).toString():yield(0,v.getCountryName)(t,v.COUNTRY_FILTER_TYPE.META_RECOGNIZED),a.countryNameOrigin=n,a.countryCodeOriginError=""),"importerName"===e&&(a.importerNameError=(0,c.existsField)(t,(0,q.getMeUser)())||!qe()?"":V.fbt._("Add an importer name",null,{hk:"3UwP1T"})),null==t||""===t?delete a[e]:a[e]=t,je(!0),He(a)}));return function(){return e.apply(this,arguments)}}(),Ze=Y.default.createElement(p.default,{type:"primary",onClick:()=>{let e=!0;const t=new D.Product({id:ee.id,priceAmount1000:ie,currency:Ee,description:de||"",imageCdnUrl:ee.imageCdnUrl,additionalImageCdnUrl:ee.additionalImageCdnUrl,name:le,retailerId:pe,url:se,isHidden:Ne,complianceInfo:(0,s.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id)?{countryCodeOrigin:null==We?void 0:We.countryCodeOrigin,importerName:null==We?void 0:We.importerName,importerAddress:{street1:null==We?void 0:We.importerAddress.street1,street2:null==We?void 0:We.importerAddress.street2,postalCode:null==We?void 0:We.importerAddress.postalCode,city:null==We?void 0:We.importerAddress.city,region:null==We?void 0:We.importerAddress.region,countryCode:null==We?void 0:We.importerAddress.countryCode}}:void 0});var a;(()=>{const e=(0,q.getMeUser)();if(!qe()||!Fe)return!1;const t=(0,r.default)((0,r.default)({},We),{},{importerAddress:(0,r.default)({},null==We?void 0:We.importerAddress)});if(!(0,c.existsField)(t.countryCodeOrigin,e))return t.countryCodeOriginError=V.fbt._("Add a country of origin",null,{hk:"3WA7X9"}),He(t),!0;if(!Ge())return!1;const{importerName:n,importerAddress:{street1:a,city:l,countryCode:o}}=t;let i=!1;return(0,c.existsField)(n,e)||(t.importerNameError=V.fbt._("Add an importer name",null,{hk:"3UwP1T"}),i=!0),(0,c.existsFieldIgnoreHardEnforcement)(a)||(t.importerAddress.street1Error=V.fbt._("Add an importer address line 1",null,{hk:"3HSMmN"}),i=!0),(0,c.existsFieldIgnoreHardEnforcement)(l)||(t.importerAddress.cityError=V.fbt._("Add an importer city",null,{hk:"1nq7dA"}),i=!0),(0,c.existsFieldIgnoreHardEnforcement)(o)||(t.importerAddress.countryCodeError=V.fbt._("Add an importer country",null,{hk:"3VmDTh"}),i=!0),!!i&&(He(t),!0)})()||(y?(0,L.logAddProductClick)((0,R.getProductCatalogContext)(Q)):(0,L.logEditProductClick)(ee,(0,R.getProductCatalogContext)(Q)),ve(!0),y||Ae?(j.QPL.markerStart(A.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,{annotations:{bool:{IsNewProduct:!!y}}}),null===(a=J.current)||void 0===a||a.uploadImages().then((a=>{t.imageCdnUrl=a[0],t.additionalImageCdnUrl=a.slice(1);(y?n.addProduct(t):n.editProduct(t)).then((t=>{Ye(t),e=!1,j.QPL.markerEnd(A.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,u.QuickLogActionType.SUCCESS)})).catch((0,o.filteredCatch)(d.CatalogEditServerError,(t=>{e=!1,Ve(t,A.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE)}))).finally((()=>{e&&j.QPL.markerEnd(A.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,u.QuickLogActionType.FAIL),ve(!1)}))})).catch((e=>{throw j.QPL.markerEnd(A.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,u.QuickLogActionType.FAIL),ve(!1),e}))):(j.QPL.markerStart(A.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{annotations:{string:{EntryPoint:"Product"}}}),(0,f.productVisibilitySet)([{productId:ee.id.toString(),isHidden:t.isHidden}]).then((()=>{ee.isHidden=t.isHidden,Ye(ee),e=!1,j.QPL.markerEnd(A.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,u.QuickLogActionType.SUCCESS)})).catch((0,o.filteredCatch)(d.CatalogEditServerError,(t=>{e=!1,Ve(t,A.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE)}))).finally((()=>{e&&j.QPL.markerEnd(A.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,u.QuickLogActionType.FAIL),ve(!1)}))))},disabled:!(()=>{if(""===le.trim()||!1===xe)return!1;const e=[Ce,we,Se,ke,Oe];return Ge()&&e.push(null==We?void 0:We.importerNameError,null==We?void 0:We.importerAddress.street1Error,null==We?void 0:We.importerAddress.cityError,null==We?void 0:We.importerAddress.countryCodeError),qe()&&e.push(null==We?void 0:We.countryCodeOriginError),e.every((e=>!e))})(),testid:"product-edit-drawer-save-button"},y?V.fbt._("Add to catalog",null,{hk:"3Dku2o"}):V.fbt._("Save",null,{hk:"44asBM"})),Qe=y?V.fbt._("Add new item",null,{hk:"3DqBBM"}):V.fbt._("Edit item",null,{hk:"2qzKLB"}),Je=Y.default.createElement("div",{className:(0,K.default)($.drawerHeader)},Y.default.createElement(H.TextHeader,{level:"2",weight:"normal",size:"inherit"},Qe),Y.default.createElement("div",{className:(0,K.default)($.drawerHeaderButtonContainer)},Ze)),$e=y?null:Y.default.createElement("div",{className:(0,K.default)($.deleteButtonContainer)},Y.default.createElement(p.default,{type:"warning",onClick:()=>{(0,I.handleProductDelete)(n,ee,(0,R.getProductCatalogContext)(Q),"Product").then((e=>{e&&(k.DrawerManager.closeDrawerMid(),null==P||P(ee))}))},testid:"product-edit-drawer-delete-button"},V.fbt._("Delete Item",null,{hk:"Frzv9"}))),et=(0,K.default)($.productWrapper,ye&&$.isSending),tt=Re?Y.default.createElement(b.default,null):null,nt=ye?Y.default.createElement("div",{className:(0,K.default)($.spinner)},Y.default.createElement(B.Spinner,{size:50,stroke:3})):null,at=Y.default.createElement("div",{className:(0,K.default)($.hiddenContainer)},Y.default.createElement(h.CheckBox,{id:"product-hidden-check",onChange:()=>{De((e=>!e))},checked:Ne,disabled:!1}),Y.default.createElement("label",{className:(0,K.default)($.hiddenLabel),htmlFor:"product-hidden-check"},V.fbt._("Hide item",null,{hk:"GjLlA"})),Y.default.createElement("div",{className:(0,K.default)($.hiddenDescr)},V.fbt._("When you hide an item, customers won't see it in your catalog.",null,{hk:"eoTzf"}))),rt=(0,Y.useMemo)((()=>{const e=""!==Ee?C.formatAmount1000ToParts(Ee,0).symbol:"";return V.fbt._("Price {currencySymbol} (Recommended)",[V.fbt._param("currencySymbol",e)],{hk:"3kOjhT"})}),[Ee]);return Y.default.createElement(w.default,{ref:t,key:"catalog-link-drawer",theme:"catalog",onDrop:e=>{var t;null===(t=J.current)||void 0===t||t.handleFilePick(e)},onDragChange:e=>{Le(e)}},tt,Y.default.createElement(M.DrawerHeader,{testid:"catalog-link-title",title:Je,titleStr:Qe,type:M.DRAWER_HEADER_TYPE.SMALL,onBack:a,onCancel:g,focusBackOrCancel:!0}),Y.default.createElement(_.default,null,Y.default.createElement("div",{className:et},nt,Y.default.createElement(N.default,{product:ee,maxImageCount:D.MAX_PRODUCT_IMAGES,onChange:e=>{let t="";0===e.length&&(t=V.fbt._("Add at least one image",null,{hk:"4tbVYS"})),Te(t),Ie(e.length>0),je(!0)},ref:J,error:Oe}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-name-input",value:le,placeholder:V.fbt._("Name",null,{hk:"46mqET"}),onChange:e=>{const t=e.text;oe(t),be(""===t.trim()?V.fbt._("Add a title",null,{hk:"3QauyV"}):""),je(!0)},theme:"small",showRemaining:!0,customStyleThemes:["desaturated"],maxLength:150,error:Ce,title:V.fbt._("Name",null,{hk:"47pzCN"})}),ne(Ee)&&Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-price-input",value:he,placeholder:rt,onChange:e=>{const t=e.text,n=C.valueFromString(Ee,t);let a="";""===t||C.validatePriceString(Ee,t,D.MIN_PRICE,D.MAX_PRICE)||(a=V.fbt._("Enter a valid price",null,{hk:"3JgcXg"})),ue(""===t?null:n),ge(`${t}`),_e(a),je(!0)},theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:we,title:V.fbt._("Price",null,{hk:"1q6KRK"})}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-description-input",value:de,placeholder:V.fbt._("Description (Optional)",null,{hk:"38PzGH"}),onChange:e=>{ce(e.text),je(!0)},theme:"small",maxLength:5e3,customStyleThemes:["desaturated"],multiline:!0,title:V.fbt._("Description",null,{hk:"2sGitZ"})}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-link-input",value:se,placeholder:V.fbt._("Link (Optional)",null,{hk:"18F36s"}),onChange:e=>{const t=e.text;let n="";""===t||G.default.isValid(t)||(n=V.fbt._("URL is incorrect",null,{hk:"xiOtm"})),fe(t),Me(n),je(!0)},onBlur:()=>{""===se||G.default.isHttps(se)||G.default.isHttp(se)||fe(`https://${se}`)},theme:"small",customStyleThemes:["desaturated"],maxLength:75,error:Se,managed:!0,title:V.fbt._("Link",null,{hk:"1yLSRM"})}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-retailer-id-input",value:pe,placeholder:V.fbt._("Item Code (Optional)",null,{hk:"MWG64"}),onChange:e=>{me(e.text),Pe(""),je(!0)},theme:"small",customStyleThemes:["desaturated"],maxLength:100,error:ke,title:V.fbt._("Item code",null,{hk:"6trPE"})}),(0,s.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id)?Y.default.createElement(te,{isComplianceHardEnforced:qe(),isComplianceInfoAvailable:Fe,showComplianceInfoImporterAddress:Ge(),complianceInfo:We,onComplianceInfoChange:Xe,onComplianceInfoImporterAddressChange:Ke}):null,at,$e)))}));function te(e){let{complianceInfo:t,isComplianceHardEnforced:n,isComplianceInfoAvailable:a,onComplianceInfoChange:r,onComplianceInfoImporterAddressChange:o,showComplianceInfoImporterAddress:i}=e;const[u,d]=(0,Y.useState)([]),c=(0,Y.useMemo)((()=>{const e=(0,q.getMeUser)();return u.length>0&&(0,s.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e)?(0,T.bubbleCountryOnListOfCountries)(u,E.COMPLIANCE_INFO_CODES.INDIA,!0):u}),[u]),f=(0,Y.useMemo)((()=>{const e=(0,q.getMeUser)();if(u.length>0&&(0,s.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e)){let e=E.COMPLIANCE_INFO_CODES.INDIA;return"string"==typeof(null==t?void 0:t.countryCodeOrigin)&&""!==t.countryCodeOrigin&&(e=t.countryCodeOrigin),(0,T.formatCountriesOfOrigin)(u,e)}return u}),[u,null==t?void 0:t.countryCodeOrigin]),p=e=>`${e.toString()} (${V.fbt._("Optional",null,{hk:"4vf9yI"}).toString()})`,m=e=>!t||Object.values(t.importerAddress).every((e=>!e))?p(e):e;return(0,Y.useEffect)((()=>{let e=!0;return(0,l.default)((function*(){const t=(0,q.getMeUser)();if((0,s.canSeeECommerceComplianceIndiaSoftEnforcement)(t)){const t=yield(0,v.getCountries)({filter:v.COUNTRY_FILTER_TYPE.META_RECOGNIZED});e&&d(t)}}))(),()=>{e=!1}}),[]),a&&u.length?Y.default.createElement("div",null,Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-country-of-origin-input",value:null==t?void 0:t.countryNameOrigin,placeholder:V.fbt._("Country of Origin",null,{hk:"2yl0F7"}),onChange:()=>{},theme:"small",customStyleThemes:["desaturated"],managed:!0,onFocus:()=>g.Cmd.showCountrySelector(V.fbt._("Country of Origin",null,{hk:"2yl0F7"}),null==t?void 0:t.countryCodeOrigin,f,(e=>{r("countryCodeOrigin",e)})),error:null==t?void 0:t.countryCodeOriginError}),i&&Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-name-input",value:null==t?void 0:t.importerName,placeholder:m(V.fbt._("Importer Name",null,{hk:"3DW3Nn"})),onChange:e=>{r("importerName",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:E.COMPLIANCE_INFO_LENGTH.IMPORTER_NAME,error:null==t?void 0:t.importerNameError}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-street-1-input",value:null==t?void 0:t.importerAddress.street1,placeholder:m(V.fbt._("Importer Address Line 1",null,{hk:"1ORfyh"})),onChange:e=>{o("street1",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:E.COMPLIANCE_INFO_LENGTH.STREET1,error:null==t?void 0:t.importerAddress.street1Error}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-street-2-input",value:null==t?void 0:t.importerAddress.street2,placeholder:p(V.fbt._("Importer Address Line 2",null,{hk:"2pYt7Y"})),onChange:e=>{o("street2",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:E.COMPLIANCE_INFO_LENGTH.STREET2}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-city-input",value:null==t?void 0:t.importerAddress.city,placeholder:m(V.fbt._("Importer City",null,{hk:"4c06Q3"})),onChange:e=>{o("city",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:E.COMPLIANCE_INFO_LENGTH.CITY,error:null==t?void 0:t.importerAddress.cityError}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-region-input",value:null==t?void 0:t.importerAddress.region,placeholder:p(V.fbt._("Importer Region",null,{hk:"3MkbQD"})),onChange:e=>{o("region",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:E.COMPLIANCE_INFO_LENGTH.REGION}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-country-code-input",value:null==t?void 0:t.importerAddress.countryName,placeholder:m(V.fbt._("Importer Country",null,{hk:"3ar6sr"})),onChange:()=>{},theme:"small",customStyleThemes:["desaturated"],managed:!0,onFocus:()=>g.Cmd.showCountrySelector(V.fbt._("Importer Country",null,{hk:"3ar6sr"}),null==t?void 0:t.importerAddress.countryCode,c,(e=>{o("countryCode",e)})),error:null==t?void 0:t.importerAddress.countryCodeError}),Y.default.createElement(F.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-postal-code-input",value:null==t?void 0:t.importerAddress.postalCode,placeholder:p(V.fbt._("Importer Zip/Postal Code",null,{hk:"Bbhqf"})),onChange:e=>{o("postalCode",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:E.COMPLIANCE_INFO_LENGTH.POSTAL_CODE}),Y.default.createElement(y.ComplianceInfoHelpCenterBanner,{xstyle:$.complianceInfoHelpCenterBanner}))):Y.default.createElement(P.FlexRow,{align:"center",justify:"center"},Y.default.createElement(O.default,null,Y.default.createElement(B.Spinner,null)))}t.EditProductDrawer=ee,ee.displayName="EditProductDrawer",te.displayName="ComplianceInfoFields"},114742:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(170206)),l=a(n(196554)),o=a(n(846870)),i=a(n(908081)),u=a(n(324093)),d=n(568550),c=n(626194),s=a(n(969358)),f=n(753233),p=a(n(468601)),m=n(956113),h=n(180519),g=n(548360),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),y=a(n(156720));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const C={isLoading:{pointerEvents:"m62443ks",opacity:"n791o4v8"},placeholderIcon:{position:"g0rxnol2",width:"dxy1asz1",height:"q7zw29cd",background:"tqd5if5z",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},placeholderContainer:{width:"ln8gz9je",paddingTop:"emrlamx0",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginTop:"c46o30wg",marginEnd:"jnwc1y2a",marginBottom:"du8bjn1j",marginStart:"svoq16ka",borderTop:"lufur1ix"},addItemPlaceholder:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",borderTop:"q4zabkcz"},divider:{width:"jpfst8ig",marginStart:"ia9wx81j",borderTop:"lufur1ix"}},b="https://www.facebook.com/legal/terms",w="https://www.facebook.com/policies/commerce";function _(e,t){const{onBack:n,onAddProductClick:a,isCreatingCatalogFn:v}=e,_=v(),S=E.default.createElement("div",{className:(0,y.default)(C.placeholderIcon)}),M=E.default.createElement(l.default,{href:b,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(b)}},g.fbt._("Facebook Product",null,{hk:"3JyFEa"})),k=E.default.createElement(l.default,{href:w,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(w)}},g.fbt._("Facebook Commercial Terms",null,{hk:"3LS54M"})),P=E.default.createElement(l.default,{href:o.default.WA_COMMERCE_POLICY_URL,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(o.default.WA_COMMERCE_POLICY_URL)}},g.fbt._("WhatsApp Commerce Policies",null,{hk:"2wf95I"})),O=g.fbt._("By using this feature, you're using a {fb_product_link} and agree that the {fb_commerce_link} and {wa_commerce_policy_link} apply.",[g.fbt._param("fb_product_link",M),g.fbt._param("fb_commerce_link",k),g.fbt._param("wa_commerce_policy_link",P)],{hk:"14xbJv"}),T=(0,y.default)(_&&C.isLoading),x=_?E.default.createElement("div",{className:(0,y.default)(C.spinner)},E.default.createElement(m.Spinner,{size:50,stroke:3})):null,I=_?E.default.createElement(p.default,{onClick:()=>{},theme:"default",idle:!!_,testid:"add-item"}):E.default.createElement(d.DrawerContext.Consumer,null,(()=>E.default.createElement(p.default,{onClick:()=>{a()},theme:"default",idle:!1,testid:"add-item"})));return E.default.createElement(i.default,{ref:t,key:"catalog-link-drawer"},E.default.createElement(c.DrawerHeader,{title:g.fbt._("Catalog",null,{hk:"3YVOSV"}),type:c.DRAWER_HEADER_TYPE.LARGE,onBack:n}),E.default.createElement(u.default,{className:T},E.default.createElement(s.default,{theme:"padding-small",animation:!1},x,E.default.createElement(h.TextDiv,{theme:"title"},g.fbt._("Add items to your catalog so customers can see what you're offering",null,{hk:"3z35i1"})),I,E.default.createElement(h.TextDiv,{theme:"plain"},O),E.default.createElement("div",{className:(0,y.default)(C.placeholderContainer)},E.default.createElement(r.default,{theme:"add-item-placeholder",image:S,customImage:!0,className:(0,y.default)(C.addItemPlaceholder),primary:"",secondary:"",idle:!0}),E.default.createElement("div",{className:(0,y.default)(C.divider)}),E.default.createElement(r.default,{theme:"add-item-placeholder",image:S,customImage:!0,className:(0,y.default)(C.addItemPlaceholder),primary:"",secondary:"",idle:!0}),E.default.createElement("div",{className:(0,y.default)(C.divider)})))))}var S=(0,E.forwardRef)(_);t.default=S},387268:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInfoDrawer=void 0;var r=n(15842),l=n(739071),o=a(n(692629)),i=a(n(908081)),u=a(n(324093)),d=n(568550),c=n(626194),s=a(n(969358)),f=a(n(495012)),p=a(n(245611)),m=a(n(331939)),h=n(932523),g=n(77548),E=a(n(791724)),y=a(n(557575)),v=n(530485),C=n(476473),b=n(180519),w=n(676345),_=n(459857),S=n(887222),M=n(548360),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),P=a(n(156720)),O=n(655241);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const x={drawerHeader:{display:"p357zi0d",alignItems:"gndfcl4n"},productName:{overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"cqiun4t2",fontWeight:"hnx8ox4h",textOverflow:"lhj4utae"},buttonSeparator:{display:"l7jjieqr"},drawerHeaderButtonContainer:{marginStart:"isfiuinm"},productWrapper:{width:"tcisnlar",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm"},businessInfoTitle:{color:"izlvswng"}},I=(0,k.forwardRef)(((e,t)=>{const{onCancel:n,collectionId:a,catalog:T,onEditProduct:I,onShareProduct:R,isPushed:L=!0}=e,N=(0,k.useContext)(d.DrawerContext),D=(0,O.useModelValues)(e.product,["id","catalogWid","name","priceAmount1000","description","productImageCollection","reviewStatus","url","canAppeal","imageCdnUrl","retailerId","currency","isHidden"]),[A,j]=(0,k.useState)(!0);(0,k.useEffect)((()=>{const e=(0,_.getMaybeMeUser)();L&&(0,S.qplAnnotateProductView)(!(null==e?void 0:e.equals(D.catalogWid))),T.pullProduct(D.id.toString(),L).then((()=>{L&&(0,S.qplEndProductView)(r.QuickLogActionType.SUCCESS)})).catch((()=>{L&&(0,S.qplEndProductView)(r.QuickLogActionType.FAIL)})).finally((()=>{j(!1)})),(0,g.logProductDetailView)({product:D,catalogContext:(0,h.getProductCatalogContext)(N),collectionId:a})}),[]);const F=(0,_.getMaybeMeUser)(),B=C.StatusCollection.get(F),W=k.default.createElement(b.TextDiv,{theme:"muted",xstyle:[x.businessInfoTitle,w.uiPadding.vert10,w.uiPadding.horiz20]},M.fbt._("Business Info",null,{hk:"20HLtr"})),H=D.reviewStatus!==v.PRODUCT_REVIEW_STATUS.APPROVED||D.isHidden,U=k.default.createElement("div",null,k.default.createElement("div",{className:(0,P.default)(x.buttonSeparator,w.uiPadding.all0,w.uiPadding.top3,w.uiMargin.end32)},k.default.createElement(o.default,{type:"strong",onClick:()=>{I&&I(D)},testid:"product-info-drawer edit-button"},M.fbt._("Edit",null,{hk:"4aIVNd"}))),k.default.createElement(o.default,{type:"strong-primary",onClick:()=>{R&&R(D)},disabled:H,testid:"product-info-drawer share-button"},M.fbt._("Share",null,{hk:"3RmUA"}))),z=k.default.createElement("div",{className:(0,P.default)(x.drawerHeader)},k.default.createElement("div",{className:(0,P.default)(x.productName)},D.name),k.default.createElement("div",{className:(0,P.default)(x.drawerHeaderButtonContainer,w.uiPadding.all0,w.uiPadding.end10)},U)),G=B?k.default.createElement(s.default,{title:W,theme:"no-padding"},k.default.createElement(m.default,{status:B})):null,q=A?k.default.createElement(f.default,null):k.default.createElement(k.default.Fragment,null,k.default.createElement(y.default,{product:D,isAvailable:!0,fetching:!1}),k.default.createElement(p.default,{product:D}),k.default.createElement(E.default,{product:D,collectionId:a,onSendChat:()=>{n(),(0,l.sendProductToChat)(D,T),(0,g.logProductMessageBusinessClick)(D,(0,h.getProductCatalogContext)(N))},isAvailable:!0}));return k.default.createElement(i.default,{ref:t,key:"catalog-link-drawer",theme:"catalog"},k.default.createElement(c.DrawerHeader,{testid:"catalog-product-title",title:z,titleStr:D.name,type:c.DRAWER_HEADER_TYPE.SMALL,onCancel:n,headingLevel:"2",focusBackOrCancel:!0}),k.default.createElement(u.default,null,k.default.createElement(s.default,{theme:"center-column-fixed-width"},q),k.default.createElement("div",{className:(0,P.default)(x.productWrapper)},G)))}));t.ProductInfoDrawer=I,I.displayName="ProductInfoDrawer"},245611:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var r=a(n(513534)),l=a(n(196554)),o=a(n(846870)),i=n(568550),u=n(753233),d=n(131410),c=n(114850),s=n(932523),f=n(530485),p=n(180519),m=n(376331),h=n(548360),g=a(n(667294)),E=a(n(156720));const y={paddingTop:"a71rq12o",paddingEnd:"bcymb0na",paddingBottom:"pcbmd69e",paddingStart:"e8k79tju",marginBottom:"mpdn4nr2",lineHeight:"r5qsrrlp",backgroundColor:"ronsgs3n"},v={display:"p357zi0d",flex:"n5hs2j7m",alignItems:"gndfcl4n"},C={marginStart:"r6x3u63k"},b={display:"l7jjieqr",marginTop:"a4rz4n5c",fontSize:"f8jlpxt4"};function w(e){const{product:t}=e;const n=g.default.createElement(l.default,{href:o.default.WA_COMMERCE_POLICY_URL,onClick:e=>{e.preventDefault(),(0,u.openExternalLink)(o.default.WA_COMMERCE_POLICY_URL)}},h.fbt._("Learn more",null,{hk:"1rcCLt"}));if(t.reviewStatus===f.PRODUCT_REVIEW_STATUS.APPROVED)return t.isHidden?g.default.createElement("div",{className:(0,E.default)(y)},g.default.createElement("div",{className:(0,E.default)(v)},g.default.createElement(m.VisibilityOffIcon,null)),g.default.createElement("div",{className:(0,E.default)(C)},g.default.createElement(p.TextDiv,null,h.fbt._("You hid this item. Your customers can't see it in your catalog",null,{hk:"28Rw4y"})))):null;if(t.reviewStatus===f.PRODUCT_REVIEW_STATUS.REJECTED){if(!0===t.canAppeal){const e=h.fbt._("This item wasn't approved because it doesn't follow our product or service guidelines. {learn_more_link}.",[h.fbt._param("learn_more_link",n)],{hk:"3r1bOw"}),a=g.default.createElement(l.default,{onClick:function(){c.ModalManager.open(g.default.createElement(i.DrawerContext.Consumer,null,(e=>g.default.createElement(r.default,{product:t,sessionId:(0,s.getProductCatalogSessionId)(e)}))))},testid:"product-appeal-button"},h.fbt._("request another review",null,{hk:"1edAPz"})),o=g.default.createElement("span",{className:(0,E.default)(b),tabIndex:"0"},h.fbt._("If you feel this is not correct, you can {request_review_link}.",[h.fbt._param("request_review_link",a)],{hk:"2Vozbp"}));return g.default.createElement("div",{className:(0,E.default)(y)},g.default.createElement("div",{className:(0,E.default)(v)},g.default.createElement(d.InfoIcon,null)),g.default.createElement("div",{className:(0,E.default)(C)},e,o))}const e=h.fbt._("We reviewed this item again and found it didn't follow product or service guidelines. {learn_more_link}.",[h.fbt._param("learn_more_link",n)],{hk:"4yu8I0"});return g.default.createElement("div",{className:(0,E.default)(y)},e)}if(t.reviewStatus===f.PRODUCT_REVIEW_STATUS.NO_REVIEW||t.reviewStatus===f.PRODUCT_REVIEW_STATUS.OUTDATED){const e=t.isHidden?h.fbt._("This item is being reviewed. You hid it, so customers won't see it in your catalog when it's approved. {learn_more_link}.",[h.fbt._param("learn_more_link",n)],{hk:"6Banw"}):h.fbt._("This item is being reviewed. If it's been approved, your customers will be able to see it on your profile. {learn_more_link}.",[h.fbt._param("learn_more_link",n)],{hk:"3qp9RQ"});return g.default.createElement("div",{className:(0,E.default)(y)},e)}if(!1===t.canAppeal){const e=h.fbt._("Your appeal was submitted. If it's approved, your item will be added to your catalog. If it's not approved, you'll be notified.",null,{hk:"1AmQTZ"});return g.default.createElement("div",{className:(0,E.default)(y)},e)}return null}w.displayName="ProductStatusBanner"},331939:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(n(170206)),l=n(445729),o=n(23641),i=n(459857),u=a(n(667294)),d=n(655241);function c(e){let{status:t}=e;const n=(0,d.useModelValues)(t,["status"]);return u.default.createElement(r.default,{image:u.default.createElement(o.DetailImage,{id:(0,i.getMaybeMeUser)()}),primary:l.Conn.pushname,secondary:n.status,idle:!0})}c.displayName="ProfileLockup"},83689:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var r=a(n(991370)),l=n(638107),o=n(223498),i=n(675085),u=n(305521),d=n(690495),c=n(392632),s=a(n(37875)),f=n(676345),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=a(n(156720));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const E={zIndex:"thghmljt",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"h4dw90qs",marginTop:"dj1c3cmq",marginEnd:"ds60debm",marginBottom:"or9x5nie",marginStart:"svoq16ka",color:"bot80yxp",pointerEvents:"m62443ks",backgroundColor:"ddl5anf2",borderTopStartRadius:"r18xjin9",borderTopEndRadius:"pz6oj2k2",borderBottomEndRadius:"sa2xs5zj",borderBottomStartRadius:"n58sa971"},y={transform:"t21h2yns"},v=()=>m.default.createElement(d.FlexColumn,{xstyle:f.uiMargin.end15,justify:"center",align:"center"},m.default.createElement(o.DraggableItemIcon,null));function C(e){const{collection:t,theme:n="collection-edit",onDelete:a,onEdit:o,onSeeCollection:d,canManage:f,isReorder:g}=e,[C]=(0,m.useState)(!1),[b,w]=(0,m.useState)(null),_=e=>{e.preventDefault(),e.stopPropagation(),a&&a(t)},S=e=>{e.preventDefault(),e.stopPropagation(),o&&o(t)},M=()=>{w(null)},k=m.default.createElement("div",{className:(0,h.default)(E)},m.default.createElement("div",{className:(0,h.default)(y)},m.default.createElement(l.CollectionsFolderIcon,null))),P=m.default.createElement(u.EmojiText,{text:t.name,ellipsify:!0,titlify:!0});let O;return b&&(O=m.default.createElement(c.UIE,{displayName:"CollectionContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:M},m.default.createElement(s.default,{contextMenu:b}))),m.default.createElement(m.default.Fragment,null,m.default.createElement(r.default,{key:t.id.toString(),customImage:!0,image:k,primary:P,theme:n,detail:g?m.default.createElement(v,null):void 0,active:C,contextEnabled:()=>e.canManage&&!g,onContext:e=>{if(b)return void w(null);const t=[];f&&(t.push(m.default.createElement(i.DropdownItem,{testid:"mi-edit-collection",action:S,key:"EditLabel"},p.fbt._("Edit",null,{hk:"Xow6E"}))),t.push(m.default.createElement(i.DropdownItem,{testid:"mi-delete-collection",action:_,key:"DeleteLabel"},p.fbt._("Delete",null,{hk:"1rLhBB"})))),w({menu:t,event:e.event,anchor:e.anchor})},onClick:e=>{e.preventDefault(),e.stopPropagation(),g||d&&d(t)}}),O)}C.displayName="CollectionManageListItem"},185602:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var r=n(568550),l=n(512938),o=a(n(964223)),i=n(658616),u=n(491606),d=n(899841),c=n(932523),s=a(n(83689)),f=n(163139),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),m=n(655241);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=(0,l.FlatListFactory)();function E(e){const{data:t,canManage:n,onEditCollection:a,onSeeCollection:l,isReorder:h,handleReorderMove:E,containerRef:y,onFinalDropOfItem:v}=e,C=(0,m.useModelValues)(e.catalog,["collections"]),b=(0,p.useMemo)((()=>t.map(((e,t)=>e.collection?{itemKey:e.collection.id,catalogListItem:e,order:t}:null)).filter(Boolean)),[t]),w=(0,p.useContext)(r.DrawerContext),_=e=>e?p.default.createElement(s.default,{collection:e,canManage:n,onDelete:()=>((e,t)=>{(0,u.handleCollectionDelete)((0,f.unproxy)(C),e,t)})(e,(0,c.getProductCatalogContext)(w)),onEdit:a,onSeeCollection:l,isReorder:h}):null;return p.default.createElement(o.default,{flatListControllers:[e.flatListController]},p.default.createElement(i.DragAndDropWrapper,{containerRef:y},p.default.createElement(g,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b,renderItem:e=>{let{catalogListItem:{collection:t},order:n}=e;return h?p.default.createElement(i.DragAndDropItem,{index:n,onMove:E,onFinalDrop:v},_(t)):_(t)},defaultItemHeight:d.PRODUCT_LIST_ITEM_HEIGHT})))}E.displayName="CollectionsList"},980679:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(293760),o=n(487769),i=a(n(98017)),u=n(15842),d=n(477627),c=n(713464),s=a(n(908081)),f=a(n(324093)),p=n(568550),m=n(626194),h=a(n(570834)),g=a(n(495012)),E=n(690495),y=a(n(469733)),v=n(491606),C=a(n(468601)),b=n(899841),w=n(932523),_=a(n(185602)),S=a(n(114495)),M=n(316348),k=n(555622),P=n(956113),O=n(368170),T=n(676345),x=n(459857),I=n(617425),R=n(548360),L=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),N=a(n(156720)),D=a(n(637660)),A=a(n(558532)),j=a(n(17533)),F=a(n(286481));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}const W={loadingSpinner:{display:"btb1m7bk",justifyContent:"ac2vgrno",height:"jdwybkuq"},footer:{backgroundColor:"rv6u8h8g"},reorderLoadingScreen:{minWidth:"llkbrke6",minHeight:"sdfuwbjb",position:"lhggkp7q",zIndex:"bgigc5s4",backgroundColor:"rz1eta6h",transitionProperty:"ariinwu3",transitionDuration:"p4t1lx4y",transitionTimingFunction:"pu4k07i0"}};function H(e){let{disableBtn:t=!1,isLoading:n,onClick:a}=e;return L.default.createElement(E.FlexContainer,{xstyle:[W.footer,T.uiPadding.all12,T.uiPadding.bottom20],direction:"horizontal",justify:"end"},L.default.createElement(I.WDSButtonPrimary,{onClick:a,disabled:t,spinner:n},R.fbt._("Save",null,{hk:"4EgenI"})))}function U(){return L.default.createElement(E.FlexRow,{xstyle:W.reorderLoadingScreen,align:"center",justify:"center",testid:"collection-reorder-updating-loading"},L.default.createElement(y.default,null,L.default.createElement(P.Spinner,{size:50,stroke:4,color:"accent"})))}function z(e){let{catalog:t,catalogFlatListController:n,checkIfCollectionIsDirty:a,drawerRef:r,editCollection:l,handleReorderMove:o,isLoadingMore:i,isReorder:u,onSeeCollection:d,reorderedCollection:c}=e;return t?L.default.createElement("div",null,!u&&L.default.createElement(C.default,{onClick:()=>{l(null)},theme:"collections",title:R.fbt._("New collection",null,{hk:"2Q4UnS"})}),0!==c.length&&L.default.createElement(_.default,{canManage:!0,catalog:t,onEditCollection:l,data:c,flatListController:n,onSeeCollection:d,isReorder:u,handleReorderMove:o,containerRef:r,onFinalDropOfItem:a}),i&&L.default.createElement("div",{className:(0,N.default)(W.loadingSpinner)},L.default.createElement(g.default,null))):null}function G(e,t){const{setScrollOffset:n,editCollection:a,onSeeCollection:g,onReorderCollection:E,isReorder:y=!1,onBack:C}=e,_=(0,D.default)((()=>new h.default)),P=(0,L.useRef)(null),[T,I]=(0,L.useState)(!0),N=(0,L.useRef)(null),[B,W]=(0,L.useState)(null),[G,q]=(0,L.useState)([]),[V,Y]=(0,L.useState)(!1),[K,X]=(0,L.useState)(!1),Z=(0,L.useRef)(!0),Q=(0,L.useContext)(p.DrawerContext),J=(0,L.useMemo)((()=>{const e=(0,x.getMeUser)();return c.CatalogCollection.get(e)}),[]),$=(0,L.useCallback)((e=>{(function(){var t=(0,r.default)((function*(){if(J)try{const t=new d.CollectionsDataSource(J,!0,b.PRODUCT_LIST_ITEM_HEIGHT,e);if(yield null==t?void 0:t.loadInitialItems(),!Z.current||!t)return;const n=new d.CatalogListItemScrollHelper(t);N.current=t,W(n),q(t.getData()),I(!1),e&&k.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW,u.QuickLogActionType.SUCCESS)}catch(t){e&&k.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW,u.QuickLogActionType.FAIL)}}));return function(){return t.apply(this,arguments)}})()()}),[J]);(0,L.useEffect)((()=>{if(!J)return;const{isPushed:t=!0}=e;J.collections.on("add remove",(()=>{Z.current&&N.current&&q((e=>{var t;const n=(null===(t=N.current)||void 0===t?void 0:t.getData())||[];return y?[...e,...n.slice(e.length)]:n}))})),$(t&&!y)}),[]);const ee=(0,F.default)(((e,t)=>{null==n||n(t.scrollTop),(null==B?void 0:B.willLoadMore(t))&&I(!0),null==B||B.onScroll(e,t).then((e=>{e&&I(!1)})).catch((e=>{throw I(!1),e}))}),100),te=(0,L.useCallback)(((e,t)=>{q((n=>(0,o.arrayMove)(n,e,t)))}),[]),ne=(0,j.default)((()=>{const e=(null==J?void 0:J.collections.map((e=>e.id)))||[],t=G.reduce(((e,t)=>t.collection?[...e,t.collection.id]:e),[]);Y(!(0,i.default)(e,t))}));(0,A.default)((()=>{Z.current=!1}));const ae=(0,L.useCallback)((()=>{(function(){var e=(0,r.default)((function*(){try{var e;if(!J)return;X(!0);const t=(0,w.getProductCatalogContext)(Q),n=(null==J?void 0:J.collections.map((e=>e.id)))||[],a=G.reduce(((e,t)=>t.collection?[...e,t.collection.id]:e),[]),{moved:r}=(0,l.findArrayDiff)(n,a);if(!r.length)return X(!1),void Y(!1);const o=yield(0,v.handleCollectionReorder)(r,t);if(!Z.current||!N.current)return;if(null===(e=N.current)||void 0===e||e.resetData(),o)return void C();yield $(!1),Y(!1)}finally{Z.current&&X(!1)}}));return function(){return e.apply(this,arguments)}})()()}),[G,J,C,Q,$]);return L.default.createElement(s.default,{ref:t,theme:"products"},L.default.createElement(m.DrawerHeader,{title:y?R.fbt._("Reorder",null,{hk:"41Tp0M"}):R.fbt._("Collections",null,{hk:"I9pEH"}),type:m.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,menu:L.default.createElement(S.default,{isReorderEnabled:!O.UA.isSafari&&!y&&G.length>1,onReorder:E})}),L.default.createElement(f.default,{ref:P,onScroll:e=>{e.currentTarget&&ee(e,e.currentTarget)},flatListControllers:[_.current],scrollOffset:e.scrollOffset},L.default.createElement(z,{catalog:J,isReorder:y,isLoadingMore:T,reorderedCollection:G,editCollection:a,onSeeCollection:g,handleReorderMove:te,checkIfCollectionIsDirty:ne,catalogFlatListController:_.current,drawerRef:P.current})),y&&L.default.createElement(H,{disableBtn:!V||K,isLoading:K,onClick:()=>{ae()}}),K&&L.default.createElement(U,null))}H.displayName="Footer",U.displayName="CollectionReorderUpdatingLoader",z.displayName="DrawerContent";var q=(0,L.forwardRef)(G);t.default=q},114495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(72696),r=n(664149),l=n(675085),o=n(526795),i=n(459912),u=n(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function s(e,t){let{isReorderEnabled:n,onReorder:c=(()=>{})}=e;const s=[];return n&&(0,a.isCollectionReorderingEnabled)()&&s.push(d.default.createElement(l.DropdownItem,{key:"reorder-button",testid:"menu-item",action:c},u.fbt._("Reorder",null,{hk:"2EAZAN"}))),0===s.length?null:d.default.createElement(o.MenuBarItem,{ref:t,testid:"menu-bar-menu",icon:d.default.createElement(i.MenuIcon,null),title:u.fbt._("Menu",null,{hk:"1WeEwR"})},d.default.createElement(r.Dropdown,{type:r.MenuType.DropdownMenu,flipOnRTL:!0,key:"CatalogDetailHeader",dirX:r.DirX.LEFT},s))}var f=(0,d.forwardRef)(s);t.default=f},417122:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.logLabelOperationEventsForModels=function(){return f.apply(this,arguments)};var r=a(n(348926)),l=n(72696),o=n(698867),i=n(772358),u=n(248027),d=n(581826),c=n(651919);function s(e,t){(0,c.logLabelOperationEvent)(u.LABEL_OPERATIONS.CLICK_POSITIVE,e,d.LABEL_TARGETS.LABEL_COMBINED_DIALOG,null==t?void 0:t)}function f(){return(f=(0,r.default)((function*(e){const t=e.length;(0,l.isSMBEnhancedLoggingEnabled)()?e.forEach((e=>{const n=e instanceof i.Msg?e.id.toString():e.id.toJid();(0,o.getChatThreadIDHMAC)(n).then((e=>s(t,e)))})):s(t)}))).apply(this,arguments)}},430772:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=a(n(991370)),l=n(63014),o=n(23641),i=n(305521),u=n(787742),d=a(n(667294)),c=a(n(156720)),s=n(871210);const f={position:"g0rxnol2"},p={cursor:"okw0zzku",boxShadow:"tio0brup"};function m(e){let{agentName:t,msg:n,theme:a}=e;const[m,h]=(0,s.useMsgValues)(n.id,[u.getFrom,u.getT]),g=l.Clock.relativeDateAndTimeStr(h),E=(0,o.getSize)(o.DetailImageSize.Small);return d.default.createElement(r.default,{contextEnabled:()=>!1,image:d.default.createElement("div",{className:(0,c.default)(f),style:{height:E,width:E}},d.default.createElement(o.DefaultIcon,{id:m})),primary:d.default.createElement(i.EmojiText,{direction:"auto",text:t,titlify:!0,ellipsify:!0}),secondary:d.default.createElement("span",{title:g},g),className:(0,c.default)(p),theme:a,idle:!0})}m.displayName="AgentMsgInfoCell"},163567:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(n(170206)),l=a(n(635263)),o=n(63014),i=n(305521),u=a(n(667294));function d(e){let{icon:t,t:n,title:a}=e;const d=null!=n?o.Clock.relativeDateAndTimeStr(n):"-",c=u.default.createElement("div",{className:l.default.title},t,u.default.createElement(i.EmojiText,{direction:"auto",text:a,titlify:!0,ellipsify:!0}));return u.default.createElement(r.default,{primary:c,secondary:d,theme:"plain",idle:!0,testid:"kept-by-info"})}d.displayName="ContactMsgInfoCell"},937945:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(n(991370)),l=n(63014),o=n(660666),i=n(23641),u=n(305521),d=n(714574),c=a(n(667294)),s=a(n(156720)),f=n(379811);const p={"::before":{content:"f76rftwh"}},m={cursor:"okw0zzku",boxShadow:"tio0brup"};function h(e){let{contact:t,kicTimestampMs:n,theme:a}=e;const[h,g,E,y]=(0,f.useContactValues)(t.id,[o.getId,o.getName,d.getFormattedName,o.getNotifyName]),v=c.default.createElement(i.DetailImage,{id:h});let C;null!=n&&(C=l.Clock.relativeDateAndTimeStr(n/1e3));const b=c.default.createElement("span",{title:C},C);let w;return!g&&y&&(w=c.default.createElement(u.EmojiText,{className:(0,s.default)(p),direction:"auto",text:y})),c.default.createElement(r.default,{contextEnabled:()=>!1,image:v,primary:c.default.createElement(u.EmojiText,{direction:"auto",text:E,titlify:!0,ellipsify:!0}),secondary:b,secondaryDetail:w,style:(0,s.default)(m),theme:a,idle:!0,testid:"kept-by-info"})}h.displayName="KeptByMsgInfoCell"},62375:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarOverlayTheme=t.AvatarOverlay=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=r?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),l=a(n(156720));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}const i=n(76672).Mirrored(["DEFAULT","COMMUNITY"]);t.AvatarOverlayTheme=i;const u={overlay:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"ercejckq",boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",paddingTop:"pxvlsfnc",fontSize:"ovllcyds",lineHeight:"tkq7s68q",color:"k239c91b",textTransform:"ofejerhi",backgroundColor:"epdck8xl",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},noBorderRadius:{borderTopStartRadius:"bi2mdrpt",borderTopEndRadius:"hsk1pqkj",borderBottomEndRadius:"e3yfz9gx",borderBottomStartRadius:"a0vc5f8u"},icon:{color:"k17s6i4e"},text:{width:"gbtdc75f",marginTop:"opp68qpq",textAlign:"qfejxiq4",overflowWrap:"fd365im1"}},d=(0,r.forwardRef)(((e,t)=>r.default.createElement("div",{ref:t,className:(0,l.default)([u.overlay,e.theme===i.COMMUNITY&&u.noBorderRadius]),key:"avatar-overlay"},r.default.createElement("div",{className:(0,l.default)(u.icon)},e.icon),r.default.createElement("div",{className:(0,l.default)(u.text)},e.text))));t.AvatarOverlay=d,d.displayName="AvatarOverlay"},681176:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(967154)),l=a(n(506479)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),i=a(n(156720));const u=["breakpoint","inverseToContainer","maxWidth","minWidth","xstyle"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const c={boxSizing:"cm280p3y",flexShrink:"oq44ahr5",position:"g0rxnol2"};function s(e,t){let{breakpoint:n,inverseToContainer:a=!1,maxWidth:d,minWidth:s,xstyle:f}=e,p=(0,l.default)(e,u);return o.default.createElement("div",(0,r.default)({},p,{className:(0,i.default)(c,f),ref:t,style:{maxWidth:d,minWidth:s,width:a?`calc((${n}px - 100%) * 9999)`:`calc((100% - ${n-.1}px) * 9999)`}}))}var f=(0,o.forwardRef)(s);t.default=f},245956:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(821130),l=a(n(625903)),o=a(n(667294));a(n(156720));const i={button:{display:"f804f6gw"}};function u(e){let{children:t,download:n,extension:a,file:u}=e;return o.default.createElement(l.default,{xstyle:i.button,onClick:()=>{null!=u&&r.FileSaver.downloadData(u,n,a)}},t)}u.displayName="DownloadableLink"},482500:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(435161)),l=a(n(670983)),o=n(396574),i=n(465113),u=a(n(988410)),d=a(n(335540)),c=n(914368),s=a(n(585951)),f=n(81644),p=a(n(359599)),m=a(n(237889)),h=n(956113),g=n(931109),E=a(n(625903)),y=a(n(556869)),v=n(548360),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),b=a(n(637660)),w=a(n(286481));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function S(e,t){const{onImageClick:n,isLoadingMore:a,canLoadMore:_,onRequestMoreImages:S,onFocusPrev:M,thumbnails:k}=e,P=(0,C.useRef)(null),O=(0,b.default)((()=>new Map)),T=(0,C.useRef)(null),x=(0,b.default)((()=>new m.default(k,(e=>e.id)))),[I,R]=(0,C.useState)(null),L=(0,C.useCallback)((function(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=x.current,n=t.getVal();if(n&&I!==n&&(R(n),t.index>-1)){const n=O.current.get(`${t.index}`);d.default.focus(n),e&&n&&(0,i.scrollIntoViewIfNeeded)(n,!1)}}),[O,I,x]),N=new p.default(((e,t)=>{t?O.current.set(e,t):O.current.delete(e)})),D=e=>{const t=e.target;n&&1===t.nodeType&&"IMG"===t.tagName&&n(t.src)},A=(0,C.useCallback)((()=>{if(!a&&_&&S){if(!P.current)throw(0,y.default)("Requesting more images when body not rendered");P.current.scrollTop+c.SCROLL_FUDGE>P.current.scrollHeight-P.current.clientHeight&&S()}}),[_,a,S]),j=(0,w.default)(A,100),F=()=>{x.current.unset(),R(void 0)};(0,C.useEffect)((()=>{A(),x.current.init(k,!1),L()}),[A,x,k,L]);const B=()=>{T.current&&T.current.focus()};(0,C.useImperativeHandle)(t,(()=>({focus:B,handleRequestDismiss:F})));const W=(0,r.default)(e.thumbnails,((e,t)=>{let{id:n,name:a,thumbUrl:r}=e;const l=!!I&&I.id===n,i=(0,o.classnamesConvertMeToStylexPlease)({[s.default.selected]:l,[s.default.imageGalleryItem]:!0}),u=C.default.createElement("div",{className:s.default.imageGalleryItemOverlay});return C.default.createElement("div",{key:n,ref:N.getRefSetter(`${t}`),className:i,tabIndex:-1},u,C.default.createElement(E.default,{onClick:D},C.default.createElement("img",{alt:v.fbt._("Result: {name}",[v.fbt._param("name",a)],{hk:"1u9YJJ"}),className:s.default.imageGalleryItemImage,src:r})))})),H=e.isLoadingMore?C.default.createElement("div",{tabIndex:-1,className:s.default.imageGalleryFooter},C.default.createElement(h.Spinner,{stroke:6,size:24})):null;return C.default.createElement(f.HotKeys,{className:s.default.imageGallery,"data-tab":g.TAB_ORDER.CHAT_IMAGE_GALLERY,handlers:{down:e=>{e.preventDefault(),e.stopPropagation(),x.current.set(x.current.index+3,!1,!1),L(!0,!0)},enter:()=>{const e=x.current.getVal();e||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("No value selected, but enter clicked")),n&&e&&n(e.thumbUrl)},left:e=>{e.preventDefault(),e.stopPropagation(),x.current.setPrev(!1),L(!0,!0)},right:e=>{e.preventDefault(),e.stopPropagation(),x.current.setNext(!1),L(!0,!0)},up:e=>{if(e.preventDefault(),e.stopPropagation(),0===x.current.index&&M)M();else{const e=Math.max(x.current.index-3,0);x.current.set(e,!1,!1),L(!0,!0)}}},onFocus:e=>{e.stopPropagation(),e.preventDefault(),(null==x.current.index||x.current.index<0)&&x.current.setFirst(!1),L(!0,!1);const t=(0,l.default)(O.current.get(`${x.current.index}`),"imagesRef.current.get(`${selectionRef.current.index}`)").getElementsByClassName(s.default.imageGalleryItemOverlay);if(1!==t.length)throw(0,y.default)(`Unexpected number of overlay elements ${t.length}`);u.default.maybeIndicateFocus(t[0],s.default.focusAnimation)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},ref:T},C.default.createElement("div",{ref:P,className:s.default.imageGalleryList,onScroll:j},W,C.default.createElement("div",{tabIndex:-1,className:s.default.imageGalleryItemSpacer}),C.default.createElement("div",{tabIndex:-1,className:s.default.imageGalleryItemSpacer}),C.default.createElement("div",{tabIndex:-1,className:s.default.imageGalleryItemSpacer}),H))}var M=(0,C.forwardRef)(S);t.default=M},127044:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{startImage:t="",type:n,attachToChat:a,id:ie,pending:ue=!1,readOnly:ce=!1,onImageSet:se,size:fe,testid:pe,theme:me,dimmed:he=!1,sendGroupProfilePictureLoggingEvent:ge,HoverIcon:Ee,showAddIconOverlay:ye=!0,showOutline:ve=!1}=e;const[Ce,be]=(0,re.useState)(null!=t?t:""),[we,_e]=(0,re.useState)(!1),[Se,Me]=(0,re.useState)(null),[ke,Pe]=(0,re.useState)(),[Oe,Te]=(0,re.useState)(),xe=(0,oe.default)(),{isKeyboardUser:Ie}=(0,Q.default)(),Re=(0,re.useRef)(null),Le=(0,re.useRef)(null);let Ne=ae.fbt._("Photo",null,{hk:"297glr"});const De=(0,re.useRef)(),Ae=(0,re.useRef)([...(0,j.getPhotoPickerQualifiedEmojis)()]);(null!=t?t:"")!==Ce&&(be(null!=t?t:""),Me(""===t?null:Se));const je=!ue&&(null!=Se||""===Ce&&!ce),Fe=e=>{n===j.PhotoPickerType.GROUP&&(null==ge||ge(e,!!t))},Be=e=>{n===j.PhotoPickerType.GROUP&&null!=ge&&ge(te.GROUP_PROFILE_ACTION_TYPE.PROFILE_PIC_UPDATED,!!t,e)},We=e=>{n===j.PhotoPickerType.GROUP&&null!=ge&&ge(te.GROUP_PROFILE_ACTION_TYPE[`${String(e)}_PANEL_OPEN`],!!t)},He=()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_UPLOAD_PHOTO);const e=Le.current;if(e)return e.click(),!0},Ue=()=>{Pe(null)},ze=e=>{const t=e.currentTarget.clientWidth,n=e.currentTarget.clientHeight;Me({width:t,height:n})},Ge=()=>{_e(!1)},qe=()=>{_e(!0)},Ve=(e,t,a)=>{const r=(0,N.asMaybeNonEmptyString)(e),l=(0,N.asMaybeNonEmptyString)(t);if(null==r||null==l)return be(""),void Me(null);x.loadImage(r).then((()=>{be(r),se(r,l,a)})).catch((e=>{let t;switch(__LOG__(3)`PhotoPicker:onImageReceived failed to load image: ${String(e)}`,n){case j.PhotoPickerType.NEWSLETTER:t=ae.fbt._("Couldn't set channel icon.",null,{hk:"444n7p"});break;case j.PhotoPickerType.GROUP:case j.PhotoPickerType.GENERAL_GROUP:t=ae.fbt._("Couldn't set group icon.",null,{hk:"1Yy6JI"});break;case j.PhotoPickerType.COMMUNITY:t=ae.fbt._("Couldn't set community icon.",null,{hk:"4bEr1Y"});break;case j.PhotoPickerType.PROFILE:t=ae.fbt._("Couldn't set profile photo.",null,{hk:"28vVyZ"});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case j.PhotoPickerType.COVER_PHOTO:}L.ModalManager.open(re.default.createElement(m.ConfirmPopup,{onOK:()=>L.ModalManager.close()},t))}))},Ye=e=>{const t=URL.createObjectURL(e);x.loadImage(t).then((t=>{if(t&&(t.width<H.PROF_PIC_MIN_SIDE||t.height<H.PROF_PIC_MIN_SIDE))L.ModalManager.open(re.default.createElement(m.ConfirmPopup,{onOK:()=>L.ModalManager.close()},ae.fbt._({"*":"This photo is too small. Please select a photo with height and width of at least {number_of_pixels} pixels.",_1:"This photo is too small. Please select a photo with height and width of at least 1 pixel."},[ae.fbt._plural(H.PROF_PIC_MIN_SIDE,"number_of_pixels")],{hk:"yLtJE"})));else{const t=n===j.PhotoPickerType.COVER_PHOTO?R.ModalTheme.BoxLarge:R.ModalTheme.Box;let a;a=n===j.PhotoPickerType.COVER_PHOTO?U.CropShapeType.RECT:n===j.PhotoPickerType.COMMUNITY?U.CropShapeType.SQUIRCLE:U.CropShapeType.CIRCLE,L.ModalManager.open(re.default.createElement(w.default,{img:e,onFinished:(e,t)=>{Be(ne.PROFILE_PICTURE_TYPE.PHOTO_UPLOAD),Ve(e,t,F.PhotoPickType.Gallery)},onRetake:He,cropShape:a,theme:t}))}})).catch((()=>{let e;switch(n){case j.PhotoPickerType.NEWSLETTER:e=ae.fbt._("Couldn't set channel icon.",null,{hk:"444n7p"});break;case j.PhotoPickerType.GROUP:case j.PhotoPickerType.GENERAL_GROUP:e=ae.fbt._("Couldn't set group icon.",null,{hk:"1Yy6JI"});break;case j.PhotoPickerType.COMMUNITY:e=ae.fbt._("Couldn't set community icon.",null,{hk:"4bEr1Y"});break;case j.PhotoPickerType.PROFILE:e=ae.fbt._("Couldn't set profile photo.",null,{hk:"28vVyZ"});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case j.PhotoPickerType.COVER_PHOTO:}L.ModalManager.open(re.default.createElement(m.ConfirmPopup,{onOK:()=>L.ModalManager.close()},e))})).finally((()=>{URL.revokeObjectURL(t)}))},Ke=function(){var e=(0,l.default)((function*(){const e=Math.floor(Math.random()*Ae.current.length);Te({color:(0,J.default)(b.COLOR_OPTIONS[Math.floor(Math.random()*b.COLOR_OPTIONS.length)],200),emoji:yield(0,O.createImageFromEmoji)(Ae.current[e])}),Ae.current.splice(e,1),0===Ae.current.length&&(Ae.current=[...(0,j.getPhotoPickerQualifiedEmojis)()])}));return function(){return e.apply(this,arguments)}}(),Xe=()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_WEB_SEARCH),L.ModalManager.open(re.default.createElement(R.Modal,{type:R.ModalTheme.Box},re.default.createElement(M.default,{onFinished:(e,t)=>{Be(ne.PROFILE_PICTURE_TYPE.WEB_SEARCH),Ve(e,t,F.PhotoPickType.WebSearch)}})))},Ze=()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_VIEW_PHOTO);const e=Re.current;if(!e||!ie)return;const t=h.ContactCollection.assertGet(ie),r={transition:"profile-viewer"};a&&(r.uim=xe),L.ModalManager.openMedia(re.default.createElement(B.default,{contact:t,profilePicThumb:t.getProfilePicThumb(),animateBorderRadius:n!==j.PhotoPickerType.COMMUNITY,animateSquircle:n===j.PhotoPickerType.COMMUNITY,getZoomNode:t=>{t(e)}}),r)},Qe=()=>{se(void 0,void 0,F.PhotoPickType.None),L.ModalManager.close(),Be(ne.PROFILE_PICTURE_TYPE.REMOVE_PHOTO)},Je=()=>{let e;switch(Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_REMOVE_PHOTO),n){case j.PhotoPickerType.NEWSLETTER:e=ae.fbt._("Remove this channel's icon?",null,{hk:"3b2j1F"});break;case j.PhotoPickerType.GROUP:case j.PhotoPickerType.GENERAL_GROUP:e=ae.fbt._("Remove this group's icon?",null,{hk:"3upRnn"});break;case j.PhotoPickerType.COMMUNITY:e=ae.fbt._("Remove this community's icon?",null,{hk:"3ejOXd"});break;case j.PhotoPickerType.PROFILE:e=ae.fbt._("Remove your profile photo?",null,{hk:"zHH3L"});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case j.PhotoPickerType.COVER_PHOTO:e=ae.fbt._("Remove your cover photo?",null,{hk:"1XkdPH"})}L.ModalManager.open(re.default.createElement(m.ConfirmPopup,{onOK:Qe,okText:ae.fbt._("Remove",null,{hk:"4uz2xw"}),onCancel:()=>L.ModalManager.close(),cancelText:ae.fbt._("Cancel",null,{hk:"H0gNq"})},e))},$e=()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_EMOJI_STICKER);const e=ae.fbt._("Emoji and sticker",null,{hk:"TUqHK"});L.ModalManager.open(re.default.createElement(R.Modal,{type:R.ModalTheme.Box,ariaLabel:e,testid:"profile-picture-edit-modal"},re.default.createElement(b.EditGroupProfileDrawer,{title:e,onCancel:()=>L.ModalManager.close(),onFinished:(e,t,n)=>{Be(ne.PROFILE_PICTURE_TYPE[String(n)]),Ve(e,t,n===b.ImageType.EMOJI?F.PhotoPickType.Emoji:F.PhotoPickType.Sticker),L.ModalManager.close()},sendEmojiStickerPanelOpenLoggingEvent:We})))},et=()=>{const e=[];if(null!=ie&&""!==Ce&&e.push(re.default.createElement(C.DropdownItem,{testid:"mi-view-photo",key:"view",action:Ze},ae.fbt._("View photo",null,{hk:"3e8MJc"}))),W.default){const t=n===j.PhotoPickerType.COVER_PHOTO?U.CropShapeType.RECT:U.CropShapeType.CIRCLE,a=n===j.PhotoPickerType.COVER_PHOTO?R.ModalTheme.BoxLarge:R.ModalTheme.Box;e.push(re.default.createElement(V.default,{key:"take",onImageTake:(e,t)=>{Be(ne.PROFILE_PICTURE_TYPE.PHOTO_CAMERA),Ve(e,t,F.PhotoPickType.Camera)},editCropShape:t,modalTheme:a,action:()=>{Fe(te.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_TAKE_PHOTO)}}))}return e.push(re.default.createElement(C.DropdownItem,{testid:"mi-upload-photo",key:"upload",action:He},ae.fbt._("Upload photo",null,{hk:"rYsA0"}))),!(0,I.groupProfileEditorEnabled)()||n!==j.PhotoPickerType.GROUP&&n!==j.PhotoPickerType.COMMUNITY&&n!==j.PhotoPickerType.NEWSLETTER||e.push(re.default.createElement(C.DropdownItem,{testid:"mi-edit-group-profile-picture",key:"edit",action:$e},ae.fbt._("Emoji & sticker",null,{hk:"255zwo"}))),Y.UA.isElectron&&(n!==j.PhotoPickerType.GROUP&&n!==j.PhotoPickerType.COMMUNITY||e.push(re.default.createElement(C.DropdownItem,{testid:"mi-search-photo",key:"search",action:Xe},ae.fbt._("Web Search",null,{hk:"3otQk8"})))),""!==Ce&&e.push(re.default.createElement(C.DropdownItem,{testid:"mi-remove-photo",key:"remove",action:Je},ae.fbt._("Remove photo",null,{hk:"1X2lKq"}))),e},tt=e=>{if(!je)return;if(ce)return void(""!==Ce&&Ze());e.stopPropagation(),e.preventDefault();const t=et();Pe({menu:t,anchor:Re.current})};let nt,at;""!==Ce&&(nt=re.default.createElement(D.default,{type:"cover",size:Se},re.default.createElement(k.default,{src:Ce,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:ze})));(ue||""!==Ce&&!Se)&&(at=n===j.PhotoPickerType.COVER_PHOTO?re.default.createElement("div",{className:(0,le.default)(de.loadingBg)},re.default.createElement("div",{className:(0,le.default)(de.cornerSpinner)},re.default.createElement(q.Spinner,{size:24,stroke:3,color:"solidwhite"}))):re.default.createElement(d.default,null));let rt,lt,ot,it,ut=null;if(!ue&&!ce&&(""===Ce||Se)&&(""===Ce||ke||we)){let e="";switch(n){case j.PhotoPickerType.NEWSLETTER:e=""!==Ce?ae.fbt._("Change channel icon",null,{hk:"2CKHBB"}):ae.fbt._("Add channel icon",null,{hk:"3wZdCL"});break;case j.PhotoPickerType.GROUP:case j.PhotoPickerType.GENERAL_GROUP:e=""!==Ce?ae.fbt._("Change group icon",null,{hk:"DhTFI"}):ae.fbt._("Add group icon",null,{hk:"eTjnN"});break;case j.PhotoPickerType.COMMUNITY:e=""!==Ce?ae.fbt._("Change community icon",null,{hk:"pg4UZ"}):ae.fbt._("Add community icon",null,{hk:"3djWDS"});break;case j.PhotoPickerType.PROFILE:e=""!==Ce?ae.fbt._("Change profile photo",null,{hk:"1TRs18"}):ae.fbt._("Add profile photo",null,{hk:"4zeUKC"});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case j.PhotoPickerType.COVER_PHOTO:}n!==j.PhotoPickerType.COVER_PHOTO&&ye&&(ut=re.default.createElement(u.AvatarOverlay,{icon:re.default.createElement(c.CameraIcon,null),text:e,theme:n===j.PhotoPickerType.COMMUNITY?u.AvatarOverlayTheme.COMMUNITY:u.AvatarOverlayTheme.DEFAULT})),Ne=e}if((0,re.useEffect)((()=>{if(me===j.PhotoPickerThemeType.EMOJI_SUGGESTIONS&&Oe){var e,t,n,a;const l={mimeType:"image/jpeg",width:b.PHOTO_SIZE,height:b.PHOTO_SIZE},o=null!==(e=null===(t=De.current)||void 0===t?void 0:t.toDataURL((0,r.default)((0,r.default)({},l),{},{pixelRatio:H.PROF_PIC_THUMB_SIDE/b.PHOTO_SIZE,quality:0})))&&void 0!==e?e:"",i=null!==(n=null===(a=De.current)||void 0===a?void 0:a.toDataURL((0,r.default)((0,r.default)({},l),{},{pixelRatio:2*H.PROF_PIC_MIN_SIDE/b.PHOTO_SIZE,quality:1})))&&void 0!==n?n:"";Ve(o,i,F.PhotoPickType.Emoji)}}),[Oe]),me===j.PhotoPickerThemeType.EMOJI_SUGGESTIONS){const{color:e,emoji:t}=Oe||{};rt=re.default.createElement(Z.default,{testid:"set-random-picture-btn",xstyle:de.newSuggestion,onClick:Ke,"aria-label":ae.fbt._("Set random picture",null,{hk:"4aShRL"})},re.default.createElement(G.default,null,re.default.createElement(z.RefreshIcon,{width:30,height:30}))),null!=e&&t&&(lt=re.default.createElement(T.Stage,{ref:De,width:b.PHOTO_SIZE,height:b.PHOTO_SIZE,className:(0,le.default)(de.hidden)},re.default.createElement(T.Layer,null,re.default.createElement(T.Rect,{width:b.PHOTO_SIZE,height:b.PHOTO_SIZE,fill:e}),re.default.createElement(T.Image,{width:b.IMAGE_SIZE,height:b.IMAGE_SIZE,offset:{x:b.IMAGE_SIZE/2,y:b.IMAGE_SIZE/2},x:b.PHOTO_SIZE/2,y:b.PHOTO_SIZE/2,image:t,filters:t.naturalWidth<=b.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD&&t.naturalHeight<=b.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD?[$.default]:[]}))))}ke&&(ot=re.default.createElement(K.UIE,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Ue},re.default.createElement(X.default,{contextMenu:ke})));if(ue||""===Ce||!Se){let e;switch(n){case j.PhotoPickerType.PROFILE:e=re.default.createElement(v.DefaultUserIcon,null);break;case j.PhotoPickerType.COMMUNITY:e=re.default.createElement(p.CommunitySquircleIcon,{iconXstyle:de.communitySquircle});break;case j.PhotoPickerType.NEWSLETTER:e=re.default.createElement(y.DefaultNewsletterIcon,{iconXstyle:de.newsletterAvatar});break;case j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:e=re.default.createElement(i.AnnouncementSpeakerIcon,{directional:!0});break;case j.PhotoPickerType.GENERAL_GROUP:it=re.default.createElement(f.CommunityGeneralChatImage,null);break;case j.PhotoPickerType.COVER_PHOTO:e=null;break;default:e=re.default.createElement(E.DefaultGroupIcon,null)}null!=e&&(it=re.default.createElement("div",{className:(0,s.classnamesConvertMeToStylexPlease)({[A.default.defaultAnnouncementGroupIcon]:n===j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP,[A.default.defaultIcon]:!0})},e))}const dt=document.activeElement===Re.current?{space:tt,enter:tt}:{};return re.default.createElement(P.HotKeys,{className:(0,s.classnamesConvertMeToStylexPlease)({[A.default.coverPhoto]:me===j.PhotoPickerThemeType.COVER_PHOTO,[A.default.container]:!0},(0,le.default)(we&&""!==Ce&&ce&&de.dimmed,ve&&null!=nt&&de.imageBorder)),style:null!=fe?{width:fe,height:fe}:void 0,handlers:dt,"aria-label":Ne.toString(),role:"button"},re.default.createElement("div",{className:(0,s.classnamesConvertMeToStylexPlease)({[A.default.squircleBackground]:n===j.PhotoPickerType.COMMUNITY||n===j.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP,[A.default.clickable]:je,[A.default.body]:!0},(0,le.default)(Ie&&je&&de.focusRing)),onClick:e=>{if(!je)return;if(ce)return void(""!==Ce&&Ze());e.stopPropagation(),e.preventDefault();const a=et();Pe({menu:a,event:e}),n===j.PhotoPickerType.GROUP&&null!=ge&&ge(te.GROUP_PROFILE_ACTION_TYPE.CHANGE_PROFILE_PHOTO,!!t)},onMouseOver:()=>{_e(!0)},onMouseEnter:qe,onMouseLeave:Ge,onPaste:e=>{if(!ke)return;const t=new g.default(e.clipboardData),n=(0,o.default)(t.getFiles(),(e=>"image"===(0,_.typeFromMimetype)(e.type)));if(!n.length)return;e.preventDefault(),e.stopPropagation(),Ue();const a=n[0];Ye(a)},onFocus:qe,onBlur:Ge,ref:Re,title:Ne,dir:"ltr",tabIndex:je?0:-1,role:je?"button":"none"},re.default.createElement("div",{className:(0,s.classnamesConvertMeToStylexPlease)({[A.default.imageContainer]:!0},(0,le.default)(he&&de.dimmed))},nt,it,lt),re.default.createElement(ee.default,{transitionName:"fade"},at,ut)),null!=Ee&&re.default.createElement("div",{className:(0,le.default)(de.icon)},re.default.createElement(Ee,{width:16,height:16})),re.default.createElement("input",{ref:Le,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:e=>{Ue();const t=e.target.files[0];if(!t)return!1;Ye(t),e.target.value="",Re.current&&S.default.focus(Re.current)}}),ot,rt)};var r=a(n(81109)),l=a(n(348926)),o=a(n(763105)),i=n(723613),u=n(62375),d=a(n(731792)),c=n(418541),s=n(396574),f=n(639839),p=n(909045),m=n(103440),h=n(177938),g=a(n(194886)),E=n(673079),y=n(590538),v=n(273371),C=n(675085),b=n(568898),w=a(n(428611)),_=n(698210),S=a(n(335540)),M=a(n(418372)),k=a(n(488922)),P=n(81644),O=n(675249),T=n(139519),x=ue(n(197636)),I=n(97858),R=n(118612),L=n(114850),N=n(68954),D=a(n(821384)),A=a(n(912306)),j=n(588792),F=n(825801),B=a(n(499717)),W=a(n(65162)),H=n(915272),U=n(785093),z=n(467152),G=a(n(802211)),q=n(956113),V=a(n(802602)),Y=n(368170),K=n(392632),X=a(n(37875)),Z=a(n(625903)),Q=a(n(395967)),J=a(n(774426)),$=a(n(747384)),ee=a(n(844453)),te=n(970739),ne=n(978244),ae=n(548360),re=ue(n(667294)),le=a(n(156720)),oe=a(n(321201));function ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ie=function(e){return e?n:t})(e)}function ue(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ie(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const de={cornerSpinner:{position:"lhggkp7q",start:"qo25nl7o",top:"bqmxb3s7",zIndex:"lqxtw3mz",pointerEvents:"m62443ks"},loadingBg:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",end:"ebjesfe0",bottom:"jxacihee",backgroundColor:"s9lgn3x7",zIndex:"jnl3jror"},communitySquircle:{color:"bk9ojlrj"},newsletterAvatar:{color:"bk9ojlrj"},dimmed:{opacity:"kaq19mkm"},hidden:{display:"qibyn6m3"},newSuggestion:{position:"lhggkp7q",bottom:"jxacihee",end:"ebjesfe0",zIndex:"qwzl264q",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",borderTopWidth:"stsrmwd6",borderEndWidth:"gu3pzwru",borderBottomWidth:"pik609ke",borderStartWidth:"g3qfir2v",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopColor:"is0s2vyk",borderEndColor:"bqpwlx4t",borderBottomColor:"j5tcbkoq",borderStartColor:"hx27gwwv"},focusRing:{":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"}},icon:{position:"lhggkp7q",bottom:"jxacihee",end:"ebjesfe0",zIndex:"g2bpp9au",borderTopColor:"hw8l4lk2",borderEndColor:"gj6a83ez",borderBottomColor:"ahfv0nfl",borderStartColor:"tn8jbayw",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopWidth:"stsrmwd6",borderEndWidth:"gu3pzwru",borderBottomWidth:"pik609ke",borderStartWidth:"g3qfir2v",color:"octy2vkd",backgroundColor:"aquyuamc",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",height:"bmot90v7",width:"i94gqilv",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",pointerEvents:"m62443ks"},imageBorder:{borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopColor:"eo2nzah0",borderEndColor:"hnzvqtrj",borderBottomColor:"m1y0i6k8",borderStartColor:"j4cx7yji",borderTopWidth:"gofg5ll1",borderEndWidth:"p7waza29",borderBottomWidth:"oteuebma",borderStartWidth:"mzoqfcbu",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"}}},478163:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(435595),l=a(n(667294)),o=a(n(156720));const i={container:{position:"g0rxnol2"},disabled:{opacity:"aiwu9bi8"},count:{position:"lhggkp7q",start:"fdi1u0wl",bottom:"iuagithl",zIndex:"g2bpp9au",width:"m0s4cjtr",height:"jdwybkuq",fontSize:"enbbiyaj",lineHeight:"htjsae3x",color:"m4sq1sd8",textAlign:"qfejxiq4",backgroundColor:"ovutvysd",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",boxShadow:"hftcxtij",transitionProperty:"e3b81npk",transitionDuration:"rtx6r8la",transitionTimingFunction:"oa9ii99z"},large:{bottom:"ayh9k7s5",width:"i94gqilv",height:"bmot90v7",lineHeight:"a4ywakfo",start:"cdp1hot0"},wide:{borderTopStartRadius:"kygtoxk5",borderTopEndRadius:"rykvhg4p",borderBottomEndRadius:"llwlbyh8",borderBottomStartRadius:"mhmt5mju",width:"gofbmt1g",paddingStart:"bdbt56hn",paddingEnd:"jfqm35v0"},countText:{verticalAlign:"neme6l2y"}};function u(e){return e>9}function d(e){let{ariaLabel:t,count:n,disabled:a,icon:d,large:c,onClick:s,testid:f}=e;return l.default.createElement("div",{className:(0,o.default)(i.container,!0===a&&i.disabled)},l.default.createElement(r.Round,{label:t,large:c,testid:f,onClick:s,disabled:a},d),null!=n&&l.default.createElement("div",{className:(0,o.default)(i.count,!0===c&&i.large,u(n)&&i.wide)},l.default.createElement("span",{className:(0,o.default)(i.countText)},function(e){return e>999}(n)?"999+":n)))}d.displayName="RoundWithCount"},563389:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=a(n(506479)),l=n(690495),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),i=a(n(156720));const u=["displayValue"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const c={WebkitAppearance:"rc6mlzu0",backgroundColor:"lmoo7qev",width:"jkv2xdwy",height:"itoi26wd",borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",outline:"gk6igrwd","::-webkit-slider-thumb":{WebkitAppearance:"lhcc0jp6",backgroundColor:"f8t368tc",width:"t68znmxb",height:"adibp37i",borderTopStartRadius:"dyphzmav",borderTopEndRadius:"cpexef3b",borderBottomEndRadius:"mdwvbymx",borderBottomStartRadius:"d1bl3yr6"},"::-moz-range-thumb":{backgroundColor:"eg5obqgd",width:"j09sh4ga",height:"q2g3zwp2",borderTopStartRadius:"f0tdcqsg",borderTopEndRadius:"ox1qo7wz",borderBottomEndRadius:"csvggiwl",borderBottomStartRadius:"s849znjx"},"::-ms-thumb":{backgroundColor:"h67vyybg",width:"dn131129",height:"cstjocha",borderTopStartRadius:"dowrn9ox",borderTopEndRadius:"f9qgu6hk",borderBottomEndRadius:"a9153urd",borderBottomStartRadius:"aa14nhyp"}},s={width:"i94gqilv",marginStart:"a3oefunm",marginBottom:"inogquss",fontSize:"f8jlpxt4",color:"j8jyn9yl"};function f(e){let{displayValue:t=!1}=e,n=(0,r.default)(e,u);const a=(0,o.useRef)(!1);return o.default.createElement(l.FlexRow,{align:"center"},o.default.createElement("input",{type:"range",className:(0,i.default)(c),min:n.min,max:n.max,value:n.value,onMouseDown:()=>{a.current=!0},onMouseUp:()=>{a.current=!1},onChange:e=>{e.preventDefault(),n.onChange(parseInt(e.target.value,10),a.current),a.current=!1}}),t?o.default.createElement("span",{className:(0,i.default)(s)},n.value):null)}f.displayName="Slider"},802602:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(675085),l=n(819052),o=n(118612),i=n(114850),u=n(785093),d=n(548360),c=a(n(667294));function s(e){const{onImageTake:t,editCropShape:n,modalTheme:a}=e;return c.default.createElement(r.DropdownItem,{action:r=>{null!=e.action&&e.action(r),i.ModalManager.open(c.default.createElement(l.EditCaptureFlowLoadable,{onFinished:t,editCropShape:n||u.CropShapeType.CIRCLE,modalTheme:a||o.ModalTheme.Box}))},testid:"mi-take-photo",disabled:e.disabled},d.fbt._("Take photo",null,{hk:"4DtdJO"}))}s.displayName="TakePhotoMenuItem"},945786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(810319),r=n(667294);const l=(e,t)=>{const[n,l]=(0,a.useLottie)(e);return(0,r.useImperativeHandle)(t,(()=>l)),n};var o=(0,r.forwardRef)(l);t.default=o},751905:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkResourceCache=void 0,t.getNetworkResourceCache=function(){i||(i=new o);return i};var r=a(n(8490)),l=a(n(556869));class o{constructor(){if(i)throw(0,l.default)("An instance of NetworkResourceCache is already created, use getNetworkResourceCache.");null==this.cache&&(this.cache=new r.default((e=>(e=>self.fetch(e).then((e=>e.json())))(e)),{maxCached:100,maxAge:36e4,shouldCache:e=>!!e}))}}let i;t.NetworkResourceCache=o},810319:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0,t.useLottie=function(e){let{autoplay:t=!1,data:n,direction:a=1,fallback:d=null,loop:s=!1,path:f,placeholder:p=null,renderer:m=c.SVG,speed:h=1,xstyle:g,wrapperXstyle:E,onComplete:y,onLoopComplete:v}=e;(0,l.default)(null==n&&null!=f||null!=n&&null==f,"These opts are mutually exclusive");const C=(0,i.useRef)(),b=(0,i.useRef)(),w=(0,r.getNetworkResourceCache)().cache,[_,S]=(0,i.useState)(null!=f&&!1===(null==w?void 0:w.isCached(f))),[M,k]=(0,i.useState)(!1),[P,O]=(0,i.useState)(n),T=(0,i.useCallback)((()=>{var e;null===(e=C.current)||void 0===e||e.play()}),[]),x=(0,i.useCallback)((()=>{var e;null===(e=C.current)||void 0===e||e.stop()}),[]),I=(0,i.useCallback)((()=>{var e;null===(e=C.current)||void 0===e||e.pause()}),[]),R=(0,i.useCallback)(((e,t)=>{var n;null===(n=C.current)||void 0===n||n.goToAndPlay(e,t)}),[]),L=(0,i.useCallback)(((e,t)=>{var n;null===(n=C.current)||void 0===n||n.goToAndStop(e,t)}),[]),N=(0,i.useCallback)((e=>{var t;null===(t=C.current)||void 0===t||t.getDuration(e)}),[]),D=(0,i.useCallback)((e=>{null!=C.current&&(C.current.loop=e)}),[]),A=(0,i.useCallback)((e=>{var t;null===(t=C.current)||void 0===t||t.addEventListener("loopComplete",e)}),[]),j=(0,i.useCallback)((()=>{var e;null===(e=C.current)||void 0===e||e.removeEventListener("loopComplete")}),[]);(0,i.useEffect)((()=>{null!=f&&""!==f&&(null==w||w.getOrRun(f).then((e=>{O(e),S(!1)})).catch((()=>k(!0))))}),[w,f]),(0,i.useEffect)((()=>{const e=o.default.loadAnimation({container:b.current,animationData:P,renderer:m,loop:s,autoplay:t});C.current=e;const n=[{name:"data_failed",handler:()=>k(!0)},{name:"complete",handler:()=>{null==y||y()}},{name:"loopComplete",handler:()=>{null==v||v()}}].map((t=>(e.addEventListener(t.name,t.handler),()=>e.removeEventListener(t.name,t.handler))));return()=>{n.forEach((e=>e()));try{e.destroy()}catch(e){}}}),[P,m,s,t,y,v]),(0,i.useEffect)((()=>{var e;null===(e=C.current)||void 0===e||e.setSpeed(h)}),[h]),(0,i.useEffect)((()=>{var e;null===(e=C.current)||void 0===e||e.setDirection(a)}),[a]);return[i.default.createElement("div",{className:(0,u.default)(E)},i.default.createElement("div",{className:(0,u.default)(g),ref:b}),_&&!M?p:null,M?d:null),{play:T,stop:x,pause:I,goToAndPlay:R,goToAndStop:L,getDuration:N,setLoop:D,addOnLoopCompleteHandler:A,removeOnLoopCompleteHandler:j}]};var r=n(751905),l=a(n(441143)),o=a(n(211248)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),u=a(n(156720));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const c=n(76672)({SVG:"svg",Canvas:"canvas"});t.Renderer=c},937134:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(692629)),l=n(419741),o=n(950200),i=n(305521),u=n(753233),d=n(81644),c=n(118612),s=n(667738),f=n(433563),p=n(617425),m=n(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),g=a(n(156720));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const y={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",backgroundColor:"b19fvycv"},v={marginBottom:"dblt22a0"},C={marginBottom:"dblt22a0",textAlign:"qfejxiq4"},b={fontSize:"p9fp32ui",lineHeight:"tkq7s68q",fontWeight:"hnx8ox4h"},w={marginBottom:"mdtr2l4m"},_={fontSize:"f8jlpxt4"};function S(e,t){const n=t=>{t.stopPropagation(),t.preventDefault(),e.onContinue()},a=h.default.createElement(p.ButtonGroup,{direction:"horizontal"},h.default.createElement(r.default,{key:"popup-controls-demote",testid:"popup-controls-demote",type:"secondary",onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onDemote()}},m.fbt._("Dismiss yourself as admin",null,{hk:"2576jl"})),h.default.createElement(r.default,{key:"popup-controls-continue",testid:"popup-controls-continue",type:"primary",onClick:n},m.fbt._("Continue",null,{hk:"tefLH"}))),E=h.default.createElement(u.ExternalLink,{href:(0,f.getCommunitiesLearningCenterUrl)()},m.fbt._("admin tools",null,{hk:"oQNuO"})),S=m.fbt._("You can send announcements, manage the community and use {learn-more-link} to help keep it safe. Your profile is now visible to community members.",[m.fbt._param("learn-more-link",E)],{hk:"3zcgMr"});return h.default.createElement(d.HotKeys,{ref:t,handlers:{enter:n,escape:n}},h.default.createElement(c.Modal,{type:c.ModalTheme.Promote,actions:a},h.default.createElement("div",{className:(0,g.default)(y)},h.default.createElement("div",{className:(0,g.default)(v)},(0,s.isLightTheme)()?h.default.createElement(o.CommunityAdminLightIcon,{width:130}):h.default.createElement(l.CommunityAdminDarkIcon,{width:130})),h.default.createElement("div",{className:(0,g.default)(C)},h.default.createElement(i.EmojiText,{className:(0,g.default)(b),text:m.fbt._("You're now a community admin",null,{hk:"4kw3lU"})})),h.default.createElement("div",{className:(0,g.default)(w)},h.default.createElement("div",{className:(0,g.default)(_)},S)))))}var M=(0,h.forwardRef)(S);t.default=M},274019:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(692629)),l=a(n(463680)),o=a(n(276105)),i=n(616133),u=n(370639),d=n(23641),c=a(n(908081)),s=a(n(324093)),f=n(626194),p=a(n(969358)),m=n(305521),h=n(690495),g=a(n(335540)),E=n(309909),y=n(114850),v=n(366898),C=n(180519),b=n(667738),w=n(454905),_=n(672892),S=n(676345),M=n(548360),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),P=(a(n(156720)),n(808446)),O=n(655241);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const x={container:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"byg5ndfj",paddingEnd:"gv1bfy1o",paddingBottom:"l7ubuiw1",paddingStart:"qt3358re"},buttonContainer:{marginTop:"fgtikrv0",textAlign:"qfejxiq4"},header:{marginTop:"lxsc1wef",marginBottom:"dblt22a0",textAlign:"qfejxiq4",lineHeight:"a4ywakfo"},badge:{zIndex:"b9fczbqn",bottom:"kwjb00gf",end:"n642r0m2",position:"g0rxnol2",marginEnd:"febin9tk"}};function I(e,t){const n=(0,O.useModelValues)(e.chat.contact,["id","name"]),{theme:a}=(0,k.useContext)(b.ThemeContext),T=(0,k.useRef)();(0,k.useEffect)((()=>{g.default.focus(T.current)}),[]),(0,P.useListener)(y.ModalManager,["close_modal"],(()=>g.default.focus(T.current)));const I="dark"===a?i.DeactivateBadgeDarkIcon:u.DeactivateBadgeIcon,R=M.fbt._('Deactivate "{community-name}"?',[M.fbt._param("community-name",k.default.createElement(m.EmojiText,{text:n.name}))],{hk:"2Stocg"}),L=M.fbt._("This action cannot be undone.",null,{hk:"4xj20P"}),N=[{title:M.fbt._("Groups will be disconnected",null,{hk:"37z2Qi"}),description:M.fbt._("Groups won't be in this community but will still work as usual.",null,{hk:"1poncX"}),Icon:E.LinkCrossedIcon},{title:M.fbt._("Announcement group will be closed",null,{hk:"4f10fq"}),description:M.fbt._("Past admins won't be able to message this community.",null,{hk:"3tdjc1"}),Icon:v.SpeakerCrossedIcon},{title:M.fbt._("Community info will be deleted",null,{hk:"3fnH2z"}),description:M.fbt._("Members won't have access to past info, like admins and groups.",null,{hk:"1xVPz4"}),Icon:_.TrashActiveIcon}];return k.default.createElement(c.default,{ref:t,testid:"community-deactivation-info-drawer"},k.default.createElement(f.DrawerHeader,{title:M.fbt._("Deactivate community",null,{hk:"LRCf4"}),type:e.fromInfo||(0,w.topMenuRedesignEnabled)()?f.DRAWER_HEADER_TYPE.SMALL:f.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),k.default.createElement(s.default,{ref:T,tabIndex:"-1"},k.default.createElement(p.default,{animation:!1,xstyle:x.container},k.default.createElement(h.FlexRow,{align:"center",justify:"center"},k.default.createElement(d.DetailImage,{id:e.chat.id,size:104,quality:d.DetailImageQuality.High,shape:d.DetailImageShape.Squircle}),k.default.createElement(I,{width:36,height:36,xstyle:x.badge})),k.default.createElement(h.FlexRow,{align:"center",justify:"center"},k.default.createElement(C.TextHeader,{xstyle:x.header,size:"24",color:"dark",weight:"bold"},R)),k.default.createElement(h.FlexRow,{align:"center",justify:"center",xstyle:S.uiMargin.bottom16},k.default.createElement(C.TextHeader,{theme:"title"},L)),N.map((e=>{let{title:t,description:n,Icon:a}=e;return k.default.createElement(o.default,{key:t,Icon:a,title:t,description:n})})),k.default.createElement(h.FlexRow,{xstyle:x.buttonContainer},k.default.createElement(r.default,{testid:"deactivate-community-button",type:"solidWarning",onClick:()=>{y.ModalManager.open(k.default.createElement(l.default,{chat:e.chat}))}},M.fbt._("Deactivate",null,{hk:"1wQQMo"}))))))}var R=(0,k.forwardRef)(I);t.default=R},463680:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(103440),l=a(n(258058)),o=n(114850),i=n(548360),u=a(n(667294)),d=n(655241);function c(e){let{chat:t}=e;const n=(0,d.useModelValues)(t,["id","formattedTitle"]),a=i.fbt._("Deactivate {community-name}",[i.fbt._param("community-name",n.formattedTitle)],{hk:"3qzJmw"}),c=i.fbt._('Are you sure you want to deactivate the community "{community-name}"? This action cannot be undone.',[i.fbt._param("community-name",n.formattedTitle)],{hk:"Qgbfe"});return u.default.createElement(r.ConfirmPopup,{title:a,onOK:()=>{(0,l.default)(n),o.ModalManager.close()},onCancel:()=>{o.ModalManager.close()},okButtonType:"solidWarning",okText:i.fbt._("Deactivate",null,{hk:"3kZPYS"})},c)}c.displayName="CommunityDeactivationPopup"},522897:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(103440),l=n(305521),o=a(n(395767)),i=n(114850),u=n(548360),d=a(n(667294));function c(e){let{communityName:t,groupCount:n,onContinue:a}=e;const c=null!=t?u.fbt._({"*":'Anyone in the community "{community-name}" will be able to join these groups.',_1:'Anyone in the community "{community-name}" will be able to join this group.'},[u.fbt._plural(n),u.fbt._param("community-name",d.default.createElement(l.EmojiText,{text:t}))],{hk:"24sLUO"}):u.fbt._({"*":"Anyone in a community will be able to join these groups.",_1:"Anyone in a community will be able to join this group."},[u.fbt._plural(n)],{hk:"3aeZpc"});return d.default.createElement(r.ConfirmPopup,{onOK:()=>{a(),i.ModalManager.close()},onCancel:()=>{i.ModalManager.close()},okText:(0,o.default)("Continue")},c)}c.displayName="CommunityExistingGroupConfirmationPopup"},946641:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=a(n(29521)),o=n(898817),i=a(n(670983)),u=a(n(229922)),d=n(351053),c=n(79672),s=a(n(227389)),f=n(603869),p=n(396574),m=a(n(743227)),h=a(n(522897)),g=n(174834),E=a(n(3586)),y=n(103440),v=n(177938),C=n(306703),b=a(n(908081)),w=a(n(324093)),_=n(626194),S=n(305521),M=a(n(395767)),k=a(n(964223)),P=a(n(570834)),O=a(n(988410)),T=a(n(335540)),x=a(n(667845)),I=n(862159),R=n(81644),L=a(n(932325)),N=n(114850),D=a(n(803203)),A=a(n(930440)),j=a(n(550506)),F=n(435595),B=n(470824),W=a(n(237889)),H=n(956113),U=n(180519),z=n(454905),G=a(n(625903)),q=a(n(844453)),V=n(548360),Y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),K=a(n(156720)),X=a(n(637660)),Z=a(n(895851));function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}const J={search:{paddingTop:"mw9hwy0h",paddingEnd:"ixsqo53d",paddingBottom:"ekpn4oxx",paddingStart:"iy3dfvyp",marginTop:"s15egc35",marginEnd:"r67mms0c",marginBottom:"pel5o5rz",marginStart:"m0ig7u5t",backgroundColor:"ihvf49ua"},inputArea:{display:"l7jjieqr",width:"ln8gz9je",height:"bvcnfjzh",paddingTop:"ppypbuwx",paddingEnd:"f9ovudaz",paddingBottom:"s8gyl5p1",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"bze30y65",lineHeight:"jgi8eev7",color:"mfzfak1c",verticalAlign:"fewfhwl7",backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a",outline:"gk6igrwd"},inputLine:{position:"g0rxnol2",width:"ln8gz9je",minHeight:"g4oj0cdv",maxHeight:"f0mh0h6e",paddingTop:"n1yiu2zv",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"mjn2akup",overflowY:"ag5g9lrv",fontSize:"bze30y65",fontWeight:"e1gr2w1z",lineHeight:"htjsae3x",backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderStart:"nsmrnv0a",borderBottom:"ob9ouq0z",outline:"gk6igrwd",transition:"qbtd8e50"},drawerSection:{zIndex:"b9fczbqn",display:"p357zi0d",justifyContent:"j1p1mz06",paddingBottom:"hjz8m82x",marginTop:"ignnouf6",textAlign:"qfejxiq4"},inputAreaSizer:{position:"snyj76hw",visibility:"kojwoqec"},contacts:{position:"g0rxnol2",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"l07amlnk",overflowX:"gfz4du6o",overflowY:"ag5g9lrv",backgroundColor:"ihvf49ua"},paragraph:{paddingTop:"a4bywxmn",paddingEnd:"h1a80dm5",paddingBottom:"lzi2pvmc",paddingStart:"sta02ykp",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",textAlign:"qfejxiq4",color:"pm5hny62",backgroundColor:"ihvf49ua",borderBottom:"daad4uqs",overflowWrap:"fd365im1"},spinner:{backgroundColor:"ihvf49ua",display:"p357zi0d",justifyContent:"ac2vgrno",paddingTop:"gzqlv4l6",paddingEnd:"f9ovudaz",paddingBottom:"lhcgb2gc",paddingStart:"gx1rr48f"},createNewGroupText:{color:"e1vllz7m"}},$=(0,Y.forwardRef)(((e,t)=>{const{onBack:n,onSubmit:a,onCreateNewGroup:Q,addedExistingGroups:$,groupsSuggestedByMeToCommunity:ee,communityName:te,currentSubgroupCount:ne,fromInfo:ae,isCommunityAdmin:re=!1,isCommunityCreation:le,isParentGroupClosed:oe=!1}=e,ie=!0===le?(0,g.getParentGroupLinkLimitCommunityCreation)():(0,g.getParentGroupLinkLimit)(),ue=ie-ne,de=Array.from(null!=$?$:[]),[ce,se]=(0,Y.useState)(!1),[fe,pe]=(0,Y.useState)(""),me=(0,X.default)((()=>new A.default([],(e=>e.id.toString())))),he=(0,X.default)((()=>new W.default([],(e=>e.id.toString())))),ge=(0,Y.useRef)(null),[Ee,ye]=(0,Y.useState)([]),[ve,Ce]=(0,Y.useState)([]),[be,we]=(0,Y.useState)(!0),_e=(0,Y.useRef)(new P.default),Se=(0,Y.useRef)();(0,Y.useEffect)((()=>{T.default.focus(Se.current)}));(0,Y.useEffect)((()=>{(()=>{we(!0);const e=v.ContactCollection.getGroupContacts().filter((e=>{var t;const n=d.ChatCollection.get(e.id.toString()),a=null==n||null===(t=n.groupMetadata)||void 0===t?void 0:t.participants;return null!=a&&a.iAmAdmin()&&!(null==$?void 0:$.has(e.id))})).filter((e=>{const t=x.default.get(e.id.toString());return(null==t?void 0:t.groupType)===I.GroupType.DEFAULT||(null==t?void 0:t.groupType)===I.GroupType.LINKED_SUBGROUP}));Ce(e),we(!1)})()}),[]);const Me=()=>{O.default.shouldIndicateFocus(),T.default.focus(Se.current)},ke=()=>{se(!0),a(Ee).finally((()=>se(!1)))},Pe=()=>{if(re)oe?ke():N.ModalManager.open(Y.default.createElement(h.default,{onContinue:ke,communityName:te,groupCount:Ee.length}));else{const e=V.fbt._({"*":"Add {group-count} groups to community?",_1:"Add 1 group to community?"},[V.fbt._plural(Ee.length,"group-count")],{hk:"4ydhSP"}),t=1===Ee.length?V.fbt._("If the group is approved by an admin, the people in this group will be added to the community as members.",null,{hk:"27E5v3"}):V.fbt._("If the groups are approved by an admin, the people in these groups will be added to the community as members.",null,{hk:"3rphwC"});N.ModalManager.open(Y.default.createElement(m.default,{title:e,disclaimer:t,onOK:()=>{N.ModalManager.close(),ke()},onCancel:()=>N.ModalManager.close()}))}},Oe=e=>{me.current.setVal(e,!1),ye(me.current.getSelected()),pe("")},Te=(0,Z.default)(),xe=function(){var e=(0,r.default)((function*(e,t){yield(0,u.default)((0,B.setGroupSubject)(t,e),Te).catch((0,o.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`name_group_modal:onSetSubject failed`})),N.ModalManager.close(),ye(me.current.getSelected()),pe("")}));return function(){return e.apply(this,arguments)}}(),Ie=()=>{N.ModalManager.open(Y.default.createElement(y.ConfirmPopup,{onOK:()=>N.ModalManager.close(),okText:(0,M.default)("OK")},V.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})))};let Re;Ee.length>0&&(Re=Y.default.createElement(F.Round,{testid:"group-participants-btn",onClick:Pe,label:(0,M.default)("Next")},ce?Y.default.createElement(H.Spinner,{color:"white",size:30}):Y.default.createElement(f.CheckmarkIcon,null)));const Le=(0,l.default)(ve,de,((e,t)=>e.id.equals(t))),Ne=Y.default.createElement(D.default,{ref:ge,active:he.current,selections:me.current,flatListController:_e.current,msgType:"message",onLeaveList:Me,searchText:fe,maxChats:ue,onSelectionChanged:(e,t)=>{if(Ee.length>=ue&&t)N.ModalManager.open(Y.default.createElement(E.default,{maxSubgroups:ie,isCommunityCreation:le}));else{const t=x.default.get(e.id);if(!0===(null==t?void 0:t.isUnnamed)){const n=(0,i.default)(d.ChatCollection.get(e.id.toString()),"ChatCollection.get(selectedItem.id.toString())"),a=(0,i.default)(me.current.list.find((t=>t.id.toString()===e.id.toString())),"selectedGroupsRef.current.list.find(si => si.id.toString() === selectedItem.id.toString())"),r=V.fbt._("This group was created without a name. Give it a name to add it to a community.",null,{hk:"4mUKhy"});N.ModalManager.open(Y.default.createElement(j.default,{chat:n,subtext:r,onCancel:()=>{Oe(a),N.ModalManager.close()},onOK:xe,editable:null==t?void 0:t.canSetSubject(),editRestrictionInfo:(null==t?void 0:t.restrict)?Ie:void 0}))}else ye(me.current.getSelected()),pe("")}},chatFilter:e=>Le.some((t=>t.id.equals(e.id))),excludeBroadcast:!0,excludeContacts:!0,isCommunityExistingGroupsDrawer:!0,isDisabled:e=>{const t=x.default.get(e.id.toString()),n=(null==t?void 0:t.groupType)===I.GroupType.LINKED_SUBGROUP,a=Boolean(null==ee?void 0:ee.some((t=>t.equals(e.id))));return n||a},customItemSecondaryText:(e,t)=>{if(!(t&&e instanceof c.Chat))return;const n=x.default.get(e.id.toString());if((null==n?void 0:n.groupType)===I.GroupType.LINKED_SUBGROUP){var a,r;const t=null===(a=e.groupMetadata)||void 0===a||null===(r=a.getParentGroupChat())||void 0===r?void 0:r.formattedTitle;return V.fbt._('Already added to "{community-name}"',[V.fbt._param("community-name",Y.default.createElement(S.EmojiText,{text:t}))],{hk:"2dKc7a"})}return Boolean(null==ee?void 0:ee.some((t=>t.equals(e.id))))?V.fbt._("Already suggested to this community",null,{hk:"oizPF"}):void 0}});let De;De=ve.length>0?re?oe?V.fbt._("Everyone in the groups will be added to the community.",null,{hk:"fAEBh"}):V.fbt._("Everyone in the groups will be added to the community. Anyone in the community can join these groups.",null,{hk:"1IFzys"}):V.fbt._("If approved by community admins, everyone in the groups will be added to the community.",null,{hk:"3bJkUA"}):Y.default.createElement(Y.default.Fragment,null,V.fbt._("All groups you're an admin of have already been added to other communities.",null,{hk:"23m9Tz"})," ",Y.default.createElement(G.default,{xstyle:J.createNewGroupText,onClick:Q},V.fbt._("Create new group",null,{hk:"2j5qDf"})));const Ae=V.fbt._("Add existing groups ({=m1})",[V.fbt._implicitParam("=m1",Y.default.createElement("span",{dir:L.default.LR("ltr","rtl")},V.fbt._("{groupcount}{=m2}{subgroups-left-to-max}",[V.fbt._param("groupcount",L.default.n(Ee.length)),V.fbt._param("subgroups-left-to-max",L.default.n(ue)),V.fbt._implicitParam("=m2",Y.default.createElement("span",{dir:L.default.LR("ltr","rtl")},V.fbt._("/",null,{hk:"7CI9K"})))],{hk:"311McY"})))],{hk:"BLbNQ"});return Y.default.createElement(b.default,{ref:t},Y.default.createElement(_.DrawerHeader,{title:Ae,type:!0===ae||(0,z.topMenuRedesignEnabled)()?_.DRAWER_HEADER_TYPE.SMALL:_.DRAWER_HEADER_TYPE.LARGE,onBack:n}),Y.default.createElement(w.default,null,Y.default.createElement(U.TextParagraph,{xstyle:J.paragraph},De),be?Y.default.createElement("div",{className:(0,K.default)(J.spinner)},Y.default.createElement(H.Spinner,null)):Y.default.createElement(Y.default.Fragment,null,Y.default.createElement("div",{className:(0,K.default)(J.search)},Y.default.createElement("div",{className:(0,K.default)(J.inputLine)},Y.default.createElement("div",{"data-list-scroll-container":!0},Y.default.createElement(s.default,{theme:"list-names",contacts:Ee,onDelete:(e,t)=>{Oe(t)},onFocusSearch:Me})),Y.default.createElement(R.HotKeys,{handlers:{down:e=>{null==e||e.preventDefault(),he.current.setFirst(!0)}},onFocus:()=>{he.current.unset(),T.default.focus(Se.current)}},Y.default.createElement("input",{className:(0,p.classnamesConvertMeToStylexPlease)((0,K.default)(J.inputArea),C.SELECTABLE_INPUT_CSS_CLASS),ref:Se,placeholder:V.fbt._("Type group name",null,{hk:"4EQeB2"}),onChange:e=>pe(e.target.value),value:fe,type:"text"})),Y.default.createElement("span",{className:(0,K.default)(J.inputAreaSizer)},fe))),Y.default.createElement(k.default,{className:(0,K.default)(J.contacts),flatListControllers:[_e.current]},Ne)),Y.default.createElement(q.default,{transitionName:"btn",className:(0,K.default)(J.drawerSection)},Re)))}));$.displayName="NewCommunityExistingGroupsDrawer";var ee=$;t.default=ee},258784:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralChatFailedParticipantsModal=s;var r=n(103440),l=n(177938),o=a(n(395767)),i=n(114850),u=n(669050),d=n(548360),c=a(n(667294));function s(e){let{failedParticipantJids:t}=e;const n=function(e){let t;const n=e.reduce(((e,t)=>{const n=l.ContactCollection.get(t);return null!=n&&n.shortName?e.push(n.shortName):null!=n&&n.name?e.push(n.name):e.push((0,u.createWid)(t).user),e}),[]);return t=1===n.length?d.fbt._("Couldn't add {participant_name_0} to the general member chat. You can invite them privately to join this group.",[d.fbt._param("participant_name_0",n[0])],{hk:"Jpvxp"}):2===n.length?d.fbt._("Couldn't add {participant_name_0} and {participant_name_1} to the general member chat. You can invite them privately to join this group.",[d.fbt._param("participant_name_0",n[0]),d.fbt._param("participant_name_1",n[1])],{hk:"5ZMl"}):3===n.length?d.fbt._("Couldn't add {participant_name_0}, {participant_name_1}, and {participant_name_2} to the general member chat. You can invite them privately to join this group.",[d.fbt._param("participant_name_0",n[0]),d.fbt._param("participant_name_1",n[1]),d.fbt._param("participant_name_2",n[2])],{hk:"2B1vrd"}):d.fbt._("Couldn't add {participant_name_0}, {participant_name_1}, {participant_name_2}, and {leftover_participant_count} more to the general member chat. You can invite them privately to join this group.",[d.fbt._param("participant_name_0",n[0]),d.fbt._param("participant_name_1",n[1]),d.fbt._param("participant_name_2",n[2]),d.fbt._param("leftover_participant_count",n.length-3)],{hk:"4hZKSw"}),t}(t);return c.default.createElement(r.ConfirmPopup,{okText:(0,o.default)("OK"),onOK:()=>i.ModalManager.close()},n)}s.displayName="GeneralChatFailedParticipantsModal"},276105:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(180519),l=a(n(667294)),o=a(n(156720));const i={informationCell:{display:"p357zi0d",marginTop:"fgtikrv0",marginBottom:"dblt22a0",width:"ln8gz9je"},textAreaColumn:{flexGrow:"ggj6brxn",marginEnd:"gqi0zhd6",marginStart:"nzcjdldu"},title:{color:"tviruh8d",lineHeight:"jgi8eev7"},iconColor:{color:"pm5hny62"},subText:{paddingTop:"fbgy3m38"},iconColumn:{paddingTop:"ppypbuwx",width:"i94gqilv",height:"bmot90v7"}};function u(e){let{Icon:t,description:n,title:a}=e;return l.default.createElement("div",{className:(0,o.default)(i.informationCell)},l.default.createElement("div",{className:(0,o.default)(i.iconColumn)},l.default.createElement(t,{width:24,height:24,iconXstyle:i.iconColor})),l.default.createElement("div",{className:(0,o.default)(i.textAreaColumn)},l.default.createElement(r.TextParagraph,{xstyle:i.title},a),l.default.createElement(r.TextParagraph,{theme:"muted",xstyle:i.subText},n)))}u.displayName="InformationCell"},286545:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.CommunityHomeGroupsManager=void 0;var r=a(n(670983)),l=n(723613),o=a(n(170206)),i=n(351053),u=n(648678),d=n(174834),c=n(43212),s=n(493678),f=n(411356),p=a(n(3586)),m=n(23641),h=a(n(908081)),g=a(n(324093)),E=n(626194),y=a(n(969358)),v=n(305521),C=n(753233),b=n(258105),w=a(n(395767)),_=a(n(667845)),S=n(862159),M=a(n(932325)),k=n(114850),P=n(164406),O=a(n(802211)),T=a(n(237889)),x=n(956113),I=a(n(928040)),R=n(454905),L=n(676345),N=a(n(22368)),D=a(n(625903)),A=a(n(844453)),j=n(851488),F=n(548360),B=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),W=(a(n(156720)),a(n(401715))),H=a(n(637660)),U=n(655241);function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}const G=(0,u.RemoveButtonFactory)(),q={icon:{height:"brqbuz94",width:"nfc7olq2",overflowX:"gfz4du6o",overflowY:"r7fjleex"},announcementIcon:{backgroundColor:"se52eggw"},announcementSpeaker:{color:"jn5oezdz"},hotKeys:{height:"ppled2lx"},communitySettingsButton:{color:"jq3rn4u7"},communitySettingsSection:{backgroundColor:"g6kkip0l"}};t.styles=q;const V=B.default.createElement(I.default,{xstyle:[q.icon,q.announcementIcon],transparent:!0},B.default.createElement(l.AnnouncementSpeakerIcon,{directional:!0,height:40,width:40,iconXstyle:q.announcementSpeaker}));function Y(e){var t,n;const{data:{itemKey:a,parentId:r,name:l,icon:u,secondary:d,showRemove:c,subgroupWid:f}}=e,[p,m]=(0,B.useState)(!1),h=i.ChatCollection.get(a),g=(0,U.useOptionalModelValues)(h,["formattedTitle"]);let E=null!==(t=null==g?void 0:g.formattedTitle)&&void 0!==t?t:l;(null==h||null===(n=h.groupMetadata)||void 0===n?void 0:n.groupType)===S.GroupType.LINKED_ANNOUNCEMENT_GROUP&&(E=F.fbt._("Announcements",null,{hk:"GNIKa"}).toString());return B.default.createElement(o.default,{primary:B.default.createElement(v.EmojiText,{text:E,ellipsify:!0}),image:u,secondary:d,detail:c&&(p?B.default.createElement(A.default,{transitionName:"fade"},B.default.createElement(x.Spinner,{size:18,stroke:6,color:"highlight"})):B.default.createElement(A.default,{transitionName:"fade"},B.default.createElement(G,{onClick:()=>{(0,s.handleRemoveSubgroup)({parentId:r,removedSubgroupWid:f,removedSubgroupTitle:E,setLoading:m})},active:e.active,subgroup:f,groupName:E})))})}Y.displayName="SubgroupCell";const K=(0,B.forwardRef)(((e,t)=>{var n;const{joinedSubgroups:a,unjoinedSubgroups:l,currentSubgroupCount:o,onNewGroupFlow:s,onExistingGroupFlow:v,onCommunitySettingsClick:S,onBack:x,parentId:I,fromInfo:A}=e,z=(0,d.getParentGroupLinkLimit)(),G=(0,H.default)((()=>new T.default([],(e=>e.itemKey)))),K=(0,W.default)(),X=(0,U.useOptionalModelValues)(_.default.get(I),["allowNonAdminSubGroupCreation","participants"]),Z=()=>{k.ModalManager.open(B.default.createElement(p.default,{maxSubgroups:z}))},Q=(0,B.useMemo)((()=>[...a,...l].map((e=>{var t;const[n,a]=(e=>{let t,n;const a=i.ChatCollection.get(e.toString());return a?(t=(0,r.default)(a.groupMetadata,"groupChat.groupMetadata"),n=a.title()):(t=N.default.assertGet(e.toString()),n=t.subject),[t,n]})(e);if(!0===n.defaultSubgroup)return{itemKey:e.toString(),subgroupWid:e,parentId:I,name:a,icon:V,secondary:null,announcementGroup:!0,showRemove:!1};const l=B.default.createElement(m.DetailImage,{id:e});let o;return o=n.participants.iAmMember()?null!=n.participants?(0,c.getParticipantInfoText)(n.participants):F.fbt._("You created group {subject}",[F.fbt._param("subject",a)],{hk:"2nJMx9"}):F.fbt._("You are not a member of this group",null,{hk:"3hsiuD"}),{name:a,subgroupWid:e,parentId:I,itemKey:e.toString(),icon:B.default.createElement(O.default,{xstyle:q.icon,transparent:!0},l),secondary:o,announcementGroup:!1,showRemove:null!==(t=null==X?void 0:X.participants.iAmAdmin())&&void 0!==t&&t}})).sort(f.SubgroupComparator)),[a,l,I,null==X?void 0:X.participants]),J=(0,B.useMemo)((()=>Q.map((e=>{let{showRemove:t,subgroupWid:n}=e;if(t)return{itemKey:`remove-button-${n.toString()}`}})).filter(Boolean)),[Q]);G.current.init(J);const $=null!==(n=null==X?void 0:X.participants.iAmAdmin())&&void 0!==n&&n,ee=M.default.getLocale(),te="ar"===ee||"fa"===ee?"rtl":"ltr",ne=$?F.fbt._("Manage groups ({=m1})",[F.fbt._implicitParam("=m1",B.default.createElement("span",{dir:te},F.fbt._("{groupcount}{=m2}{maxsubgroups}",[F.fbt._param("groupcount",M.default.n(o)),F.fbt._param("maxsubgroups",M.default.n(z)),F.fbt._implicitParam("=m2",B.default.createElement("span",{dir:te},F.fbt._("/",null,{hk:"1j0TgB"})))],{hk:"mOrOP"})))],{hk:"3hngRL"}):F.fbt._("Add groups ({=m1})",[F.fbt._implicitParam("=m1",B.default.createElement("span",{dir:te},F.fbt._("{groupcount}{=m2}{maxsubgroups}",[F.fbt._param("groupcount",M.default.n(o)),F.fbt._param("maxsubgroups",M.default.n(z)),F.fbt._implicitParam("=m2",B.default.createElement("span",{dir:te},F.fbt._("/",null,{hk:"n8PW0"})))],{hk:"2bygpM"})))],{hk:"3c876U"}),ae=!0===(null==X?void 0:X.allowNonAdminSubGroupCreation);let re;const le=B.default.createElement(C.ExternalLink,{href:(0,b.getMemberAddedGroupsUrl)()},(0,w.default)("Learn more"));re=$?ae?F.fbt._("Members can suggest existing groups for admin approval and add new groups directly. View in {=m2}",[F.fbt._implicitParam("=m2",B.default.createElement(D.default,{onClick:S,xstyle:q.communitySettingsButton},F.fbt._("Community settings",null,{hk:"z6DcI"})))],{hk:"2v1AwL"}):F.fbt._("Members can suggest groups for admin approval. Admins can add groups directly. View in {=m2}",[F.fbt._implicitParam("=m2",B.default.createElement(D.default,{onClick:S,xstyle:q.communitySettingsButton},F.fbt._("Community settings",null,{hk:"1phoDA"})))],{hk:"3jW0nK"}):ae?F.fbt._("Based on this community's settings, members can add new groups directly and suggest existing groups for admin approval. {learn-more}",[F.fbt._param("learn-more",le)],{hk:"3ClKQd"}):F.fbt._("Based on this community's settings, members can suggest groups for admin approval. {learn-more}",[F.fbt._param("learn-more",le)],{hk:"4hDHis"});const oe=(0,d.memberAddedGroupsM1Enabled)()?B.default.createElement(y.default,{xstyle:[q.communitySettingsSection,L.uiMargin.all30,L.uiMargin.top0],shadow:!1},B.default.createElement(j.WDSTextMuted,null,re)):null;return B.default.createElement("div",{role:"complementary",ref:K,tabIndex:"-1","aria-label":F.fbt._("Manage Community Groups Drawer",null,{hk:"29V3MC"})},B.default.createElement(h.default,{ref:t,testid:"community-manage-group-drawer"},B.default.createElement(E.DrawerHeader,{title:ne,titleStr:ne,type:A||(0,R.topMenuRedesignEnabled)()?E.DRAWER_HEADER_TYPE.SMALL:E.DRAWER_HEADER_TYPE.LARGE,onBack:x}),B.default.createElement(g.default,null,B.default.createElement(y.default,null,B.default.createElement(u.CreateNewGroupCell,{onClick:()=>{o>=z?Z():s()}}),B.default.createElement(u.AddExistingGroupsCell,{onClick:()=>{o>=z?Z():v()}})),oe,B.default.createElement(y.default,{title:F.fbt._("GROUPS IN THIS COMMUNITY",null,{hk:"1kTWJn"}),testid:"groups-in-community"},B.default.createElement(P.NavigableFlatList,{selection:G.current,ariaLabel:F.fbt._("Community Subgroups List",null,{hk:"5ScFc"}),listData:Q,onRenderItem:e=>B.default.createElement(Y,{data:e,active:G.current}),rotateList:!0})))))}));t.CommunityHomeGroupsManager=K,K.displayName="CommunityHomeGroupsManager"},323533:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(274019)),l=n(900316),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),i=a(n(829686));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=(0,o.forwardRef)(((e,t)=>{var n;const a=(0,i.default)((()=>{e.onBack?e.onBack():l.DrawerManager.closeDrawerLeft()}));return o.default.createElement(r.default,{ref:t,onBack:a,chat:e.chat,fromInfo:null!==(n=e.fromInfo)&&void 0!==n&&n})}));d.displayName="DeactivateCommunityDrawerFn";var c=d;t.default=c},411356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubgroupComparator=function(e,t){if(!0===e.announcementGroup)return-1;if(!0===t.announcementGroup)return 1;return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}},816304:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,v.useFlow)(b.SelectGroup),[a,C]=(0,y.useState)(),w=t=>{const n=t.groupMetadata;if(!t.isGroup||t.isGroup&&!(null==n?void 0:n.participants.iAmMember()))return!1;const a=!0===(null==n?void 0:n.isLidAddressingMode)?(0,l.getCurrentLid)(e.contact.id):e.contact.id;return null!=a&&(null==n?void 0:n.participants.get(a))?E.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString():!!(null==n?void 0:n.participants.iAmAdmin())||g.default._("You are not an admin",null,{hk:"1hWEyS"}).toString()},_=(0,y.useRef)(null),S=e=>{(()=>{if(!_.current)return;const e=_.current;e&&!e.contains(document.activeElement)&&f.default.focus(e)})(),C(e),n.push(b.Confirm)};if(null==n.step)return null;let M=null;switch(n.step){case b.SelectGroup:M=y.default.createElement(m.default,{chats:o.ChatCollection.filter((e=>(0,c.getIsGroup)(e))),filter:w,onCancel:()=>n.pop(),onGroup:S});break;case b.Confirm:M=y.default.createElement(d.ConfirmPopup,{cancelText:E.fbt._("Cancel",null,{hk:"H0gNq"}),okText:E.fbt._("Add member",null,{hk:"12VDbl"}),onOK:()=>{return t=(0,r.default)(a,"group"),(0,h.addParticipants)(t,[e.contact]).then((()=>{i.Cmd.openChatFromUnread(t).then((e=>{e&&u.ComposeBoxActions.focus(t)}))})).catch((()=>{})),void n.end();var t},onCancel:()=>n.pop()},y.default.createElement(s.EmojiText,{text:E.fbt._('Add {participant} to "{subject}" group?',[E.fbt._param("participant",(0,p.getFormattedName)(e.contact)),E.fbt._param("subject",(0,r.default)(a,"group").contact.name)],{hk:"1ZB4Hl"})}))}return y.default.createElement(t,{ref:_,flow:n},M)};var r=a(n(670983)),l=n(12643),o=n(351053),i=n(780549),u=n(877171),d=n(103440),c=n(660666),s=n(305521),f=a(n(335540)),p=n(714574),m=a(n(740068)),h=n(33014),g=a(n(286816)),E=n(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),v=n(839062);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const b=n(76672).Mirrored(["SelectGroup","Confirm"])},383923:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=a(n(781629)),o=a(n(751463)),i=n(95112),u=n(952543),d=n(763614),c=n(332221),s=n(780549),f=n(877171),p=n(900316),m=a(n(329982)),h=n(25878),g=n(179268),E=n(368170),y=n(238669),v=a(n(667294));class C extends m.default{constructor(){var e;super(...arguments),e=this,this._setRefMediaEditor=e=>{this._refMediaEditor=e},this._handleCancel=function(){var t,n,a,r;let l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];l&&e._clearAttachMedia(),null===(t=(n=e.props).onComplete)||void 0===t||t.call(n,!1),null===(a=(r=e.props).onCancel)||void 0===a||a.call(r),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},this._handleFailedMedias=e=>{const t=e.filter((e=>e.isGif));if(t.length>0){const e=t.map((e=>e.filename));s.Cmd.once("ui_idle",(()=>{f.ComposeBoxActions.paste(this.props.chat,e.join(" "))})),this.props.onComplete&&this.props.onComplete(!1),this._clearAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel(),this.end()}},this._sendMediaWithMentions=function(){var t=(0,r.default)((function*(t){var n,a,r,l;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chat:f}=e.props;yield(0,c.maybeShowBizBot1pTos)(f);const{initCaptionUsed:p,isViewOnce:m}=o;s.Cmd.once("ui_idle",(()=>{t.forEach(((t,n)=>{var a;const r=t.media,l={};if(0===n&&(l.quotedMsg=f.composeQuotedMsg,f.composeQuotedMsg=null),l.type=r.type,l.isViewOnce=m,l.mentionedJidList=t.mentionedJidList,l.groupMentions=t.groupMentions,l.caption=r.caption,l.addEvenWhilePreparing=r.previewable&&r.state===u.ATTACH_MEDIA_STATE.PROCESSING,null===(a=e.props.initCaption)||void 0===a?void 0:a.ctwaContextLinkData){const{ctwaContextLinkData:t,ctwaContext:n}=e.props.initCaption;l.ctwaContext=(0,i.prepareCtwaContextSend)(t,n)}r.sendToChat(f,l)})),e._clearAttachMedia()})),null===(n=(a=e.props).onComplete)||void 0===n||n.call(a,!0,{initCaptionUsed:p}),null===(r=(l=e.props).onSend)||void 0===r||r.call(l),e.props.mediaCollection.mediaPickerStatsLogger.logSend({isViewOnce:!!m}),(0,d.areExpressionPanelsEnabled)()&&s.Cmd.closeExpressionPanels(),e.end()}));return function(){return t.apply(this,arguments)}}(),this.setText=e=>{null!=e&&s.Cmd.once("ui_idle",(()=>{f.ComposeBoxActions.paste(this.props.chat,e)})),this.end()},this._clearAttachMedia=()=>{this.props.chat&&this.props.chat.setAttachMediaContents(null)},this.handleRequestDismiss=e=>{var t;(null===(t=this._refMediaEditor)||void 0===t?void 0:t.handleRequestDismiss(e))&&(e===y.DismissReason.UIM_INTERACTION&&this._handleCancel(!1),super.handleRequestDismiss())}}componentDidMount(){s.Cmd.closeContextMenu(),s.Cmd.closeTooltip(),p.DrawerManager.closeDrawerRight(),this.push(v.default.createElement(h.MediaEditor,{theme:h.MediaTheme.ATTACH,ref:this._setRefMediaEditor,chat:this.props.chat,onClose:this._handleCancel,initCaption:this.props.initCaption,onSendMedia:(0,o.default)(this._sendMediaWithMentions),mediaCollection:this.props.mediaCollection,onDropText:(0,o.default)(this.setText),sendAsSticker:this.props.sendAsSticker})),(0,g.prepareChatForMessageSending)(this.props.chat)}componentWillUnmount(){E.UA.isGecko?(0,l.default)((()=>f.ComposeBoxActions.focus(this.props.chat))):f.ComposeBoxActions.focus(this.props.chat)}}t.default=C},767206:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=a(n(348926)),l=n(332221),o=n(447164),i=n(61740),u=a(n(27752)),d=n(937001),c=a(n(306225)),s=n(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),p=n(839062);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=n(76672).Mirrored(["Select","Confirm"]);function g(e){const[t,n]=(0,p.useFlow)(h.Select),a=(0,f.useRef)([]);if(null==n.step)return null;let m;switch(n.step){case h.Select:{const t=d.ServerProps.maxParticipants;m=f.default.createElement(i.SelectModal,{title:s.fbt._("Send contacts",null,{hk:"9ZMyz"}),onCancel:()=>{e.onCancel(),n.pop()},onConfirm:e=>{n.push(h.Confirm),a.current=e},getInitialItems:()=>a.current,listType:i.ListType.ContactSelectModal,maxItems:t,includeLidContacts:(0,o.isLidVcardSharingEnabled)(),allowBlockedContacts:!0});break}case h.Confirm:{const t=function(){var t=(0,r.default)((function*(t){var a;n.end();const{chat:r}=e;yield(0,l.maybeShowBizBot1pTos)(r);const o=r.composeQuotedMsg;r.composeQuotedMsg=null;const i=(null===(a=r.getComposeContents())||void 0===a?void 0:a.ctwaContext)||void 0;(0,u.default)(t,r,o,i),e.onContactsSent()}));return function(){return t.apply(this,arguments)}}();m=f.default.createElement(c.default,{contactList:a.current,onSend:()=>{t(a.current)},onBack:()=>{n.pop()},chat:e.chat});break}}return f.default.createElement(t,{flow:n},m)}g.displayName="AttachVcardsFlow"},356432:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,d.useFlow)(s.MessageInfo,{transitions:d.FlowTransitions.DrawerRight}),[a,c]=(0,u.useState)();if(null==n.step)return null;let f;switch(n.step){case s.MessageInfo:f=u.default.createElement(l.default,{msg:e.msg,onProductClick:e=>{c(e),n.push(s.ProductDetails)}});break;case s.ProductDetails:f=u.default.createElement(i.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:(0,o.getChat)(e.msg),product:(0,r.default)(a,"product"),onEnd:()=>n.pop()})}return u.default.createElement(t,{flow:n},f)};var r=a(n(670983)),l=a(n(696716)),o=n(163755),i=n(639793),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),d=n(839062);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const s=n(76672).Mirrored(["MessageInfo","ProductDetails"])},262186:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=n(122583),l=a(n(670983)),o=a(n(905832)),i=n(323795),u=n(858770),d=E(n(213462)),c=E(n(288057)),s=n(118612),f=n(114850),p=n(548360),m=E(n(667294)),h=n(839062);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const y=n(76672).Mirrored(["Capture","Guide","EditImage"]);function v(e){const[t,n]=(0,m.useState)(null),a=(0,m.useRef)(null),g=(0,m.useRef)(),[E,v]=(0,h.useFlow)(y.Capture),C=()=>{var e;null===(e=g.current)||void 0===e||e.call(g);const{asyncStream:t,disposeStream:n}=d.start("camera",(()=>v.push(y.Guide,"modal")),5e3);g.current=n,t.then((e=>{a.current||v.pop("modal"),e&&a.current&&a.current.loadNewStream(e,n)})).catch((0,r.filteredCatch)(c.GetUserMedia.NotAllowedError,(()=>{v.end(),f.ModalManager.open(m.default.createElement(u.GuidePopup,{messaging:u.Messaging.CAMERA_FAIL,type:u.GuidePopupType.GUIDE_UNBLOCK}))}))).catch((0,r.filteredCatch)(c.GetUserMedia.GetUserMediaError,(()=>{v.end(),f.ModalManager.open(m.default.createElement(u.GuidePopup,{messaging:u.Messaging.CAMERA_MISSING,type:u.GuidePopupType.GUIDE_NONE}))})))};if((0,m.useEffect)((()=>(C(),()=>{var e;null===(e=g.current)||void 0===e||e.call(g)})),[]),null==v.step)return null;let b;switch(v.step){case y.Capture:b=m.default.createElement(s.Modal,{type:e.modalTheme||s.ModalTheme.Box,ariaLabel:p.fbt._("Take photo",null,{hk:"4DtdJO"}),testid:"profile-picture-edit-modal"},m.default.createElement(o.default,{ref:a,stream:void 0,disposeStream:void 0,caption:!1,theme:"capture-cover",onBack:()=>v.end(),onSend:null,onCaptured:e=>{n(e),v.push(y.EditImage,"flow-transition-box-size-drawer-push")},chat:void 0}));break;case y.Guide:b=m.default.createElement(u.GuidePopup,{messaging:u.Messaging.CAMERA,type:u.GuidePopupType.GUIDE_ALLOW,onConfirm:()=>v.pop("modal")});break;case y.EditImage:b=m.default.createElement(s.Modal,{type:e.modalTheme||s.ModalTheme.Box},m.default.createElement(i.EditImageDrawer,{onRetake:()=>{v.pop("flow-transition-box-size-drawer-pop"),C()},retryText:i.RETRY_OPTIONS.RETAKE,onFinished:(t,n)=>{e.onFinished(t,n),v.end()},onCancel:()=>v.end(),img:(0,l.default)(t,"blob"),cropShape:e.editCropShape}))}return m.default.createElement(E,{flow:v},b)}v.displayName="EditCaptureFlow"},82557:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,d.useFlow)(s.GroupMessageInfo,{transitions:d.FlowTransitions.DrawerRight}),[a,c]=(0,u.useState)();if(null==n.step)return null;let f;switch(n.step){case s.GroupMessageInfo:f=u.default.createElement(o.default,{msg:e.msg,onProductClick:e=>{c(e),n.push(s.ProductDetails)}});break;case s.ProductDetails:f=u.default.createElement(i.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:(0,l.getChat)(e.msg),product:(0,r.default)(a,"product"),onEnd:()=>n.pop()})}return u.default.createElement(t,{flow:n},f)};var r=a(n(670983)),l=n(163755),o=a(n(58465)),i=n(639793),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),d=n(839062);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const s=n(76672).Mirrored(["GroupMessageInfo","ProductDetails"])},390849:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(239523),o=n(103440),i=a(n(125991)),u=n(581354),d=a(n(329982)),c=n(714574),s=a(n(667845)),f=a(n(147158)),p=n(114850),m=n(21645),h=n(693741),g=n(625786),E=n(390737),y=n(548360),v=a(n(667294));class C extends d.default{constructor(){var e;super(...arguments),e=this,this._handleSendInvite=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;p.ModalManager.close(),Promise.all(e.props.participantNeedInvite.map(function(){var a=(0,r.default)((function*(a){const{contact:r,invite_code:o,invite_code_exp:i}=a,d=yield(0,u.findChat)(r.id,"groupsV4InviteFlow"),c=e.props.groupGid.toString(),f=s.default.assertGet(c);return(yield(0,l.sendGroupInviteMessage)(d,c,e.props.subject,o||"",i,t,n)).messageSendResult===h.SendMsgResult.OK&&(f.pendingParticipants.add({id:r.id}),!0)}));return function(){return a.apply(this,arguments)}}())).then((e=>{const t=e.filter(Boolean).length;E.ToastManager.open(v.default.createElement(g.Toast,{msg:y.fbt._({"*":"{num} invites sent",_1:"1 invite sent"},[y.fbt._plural(t,"num")],{hk:"3QDCqX"})}))}))},this._addInviteCommment=e=>{this.push(v.default.createElement(f.default,{participants:e,gid:this.props.groupGid,subject:this.props.subject,groupDesc:this.props.groupDesc,onClose:this._pop,onSend:this._handleSendInvite}))},this._pop=()=>{this.pop()}}componentDidMount(){const{participantNeedInvite:e}=this.props,t=this._getFormattedNames(e.map((e=>e.contact)),!0),n=y.fbt._({"*":"Couldn't add {member}. You can invite them privately to join this group.",_1:"Couldn't add {member}. You can invite them privately to join this group."},[y.fbt._plural(e.length),y.fbt._param("member",t)],{hk:"40JFHL"});this.push(v.default.createElement(o.ConfirmPopup,{onOK:this._addInviteCommment.bind(this,e),okText:y.fbt._("Invite to group",null,{hk:"FbMSO"}),onCancel:this._pop,cancelText:y.fbt._("Cancel",null,{hk:"H0gNq"})},n))}_getFormattedName(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,c.getFormattedUser)(e):v.default.createElement(m.Name,{contact:e})}_getFormattedNames(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this._getFormattedName(e,t);const n=e.map((e=>this._getFormattedName(e,t)));return(0,i.default)(n,i.default.CONJUNCTIONS.AND,i.default.DELIMITERS.COMMA)}}t.default=C,C.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none",displayName:"GroupsV4InviteFlow"}},418372:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(323795),l=a(n(120381)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),i=n(839062);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=n(76672).Mirrored(["ImageSearch","ImageEdit"]);function c(e){let{onFinished:t}=e;const[n,a]=(0,i.useFlow)(d.ImageSearch),[u,c]=(0,o.useState)(),[s,f]=(0,o.useState)();if(null==a.step)return null;let p;switch(a.step){case d.ImageSearch:p=o.default.createElement(l.default,{onCancel:()=>a.pop(),onImageSelected:(e,t)=>{c(e),f(t),a.push(d.ImageEdit)}});break;case d.ImageEdit:u&&null!=s&&(p=o.default.createElement(r.EditImageDrawer,{onCancel:()=>a.end(),attributionUrl:s,onFinished:(e,n)=>{t(e,n),a.end()},onRetake:()=>a.pop(),retryText:r.RETRY_OPTIONS.NONE,img:u}))}return o.default.createElement(n,{flow:a},p)}c.displayName="ImageSearchFlow"},592367:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(780549),o=n(440067),i=n(877171),u=n(177938),d=n(614921),c=n(660666),s=n(581354),f=n(165433),p=a(n(386315)),m=n(705153),h=a(n(834431)),g=n(427181),E=n(135516),y=n(909588),v=n(986961),C=n(548360),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),w=n(839062),_=n(808446);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const M=n(76672).Mirrored(["NewChatDrawer","NewCommunityFlow","NewGroupFlow"]);function k(e,t){let{onEnd:n}=e;u.ContactCollection.ensureSorted();const[a,S]=(0,w.useFlow)(M.NewChatDrawer,{transitions:w.FlowTransitions.DrawerLeft,onEnd:n});(0,_.useListener)(l.Cmd,"end_flow",(()=>{S.end()}));const k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;const r={};t.isEnterprise&&null!=t.privacyMode&&(r.nextPrivacyMode=t.privacyMode),(0,s.findChat)(t.id,null!=a?a:"newChatFlow",r).then((e=>{l.Cmd.openChatFromUnread(e).then((a=>{if(!a)return;const r=e.isGroup?v.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.GROUP:v.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACT;(0,m.logContactListStartNewChatAction)({chatType:r,isSearchResult:e.isGroup||n}),(0,c.getIsMe)(t)&&f.UiMessageYourselfNewChatAction.logMessageYourselfOpenedEvent(e,n),i.ComposeBoxActions.focus(e)}))})),S.end()},P=()=>{S.push(M.NewGroupFlow)},O=()=>{S.push(M.NewCommunityFlow),o.UiCommunityCreationAction.startSession(y.COMMUNITY_CREATION_ENTRYPOINT_TYPE.CHATS_TAB),o.UiCommunityCreationAction.enter(E.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.CHATS_TAB)},T=()=>{(0,d.showNewContactModal)()};if(null==S.step)return null;let x=null;switch(S.step){case M.NewChatDrawer:x=b.default.createElement(p.default,{title:C.fbt._("New chat",null,{hk:"36lSV2"}),onBack:()=>S.end(),onClick:k,onNewGroup:P,onNewCommunity:O,onNewContact:T});break;case M.NewGroupFlow:x=b.default.createElement(g.NewGroupFlowLoadable,{onCreateGroup:function(){var e=(0,r.default)((function*(e){yield e,S.end()}));return function(){return e.apply(this,arguments)}}(),onEnd:S.pop});break;case M.NewCommunityFlow:x=b.default.createElement(h.default,{onBack:S.pop})}return b.default.createElement(a,{ref:t,flow:S},x)}var P=(0,b.forwardRef)(k);t.default=P},685066:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(n(670983)),l=n(862159),o=a(n(210002)),i=n(548360),u=a(n(667294));function d(e){var t,n;const{chat:a}=e,d=(0,r.default)(null===(t=a.groupMetadata)||void 0===t?void 0:t.groupInviteLink,"chat.groupMetadata?.groupInviteLink"),c=(null===(n=a.groupMetadata)||void 0===n?void 0:n.groupType)===l.GroupType.COMMUNITY?`${i.fbt._("Follow this link to join my WhatsApp community:",null,{hk:"1ezDlv"}).toString()} ${d}`:`${i.fbt._("Follow this link to join my WhatsApp group:",null,{hk:"4FZHrC"}).toString()} ${d}`;return u.default.createElement(o.default,{title:i.fbt._("Send link to",null,{hk:"2Qb3Z6"}),text:c})}d.displayName="SendGroupInviteFlow"},300904:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=n(351053),l=a(n(937134)),o=a(n(488145)),i=n(378280),u=n(659862),d=n(114850),c=n(33014),s=n(95589),f=n(459857),p=n(909991),m=n(427360),h=a(n(667294)),g=n(839062),E=a(n(157558));const y=n(76672).Mirrored(["PromotionNotification","Demote"]);function v(e){const{communityMetadata:t}=e,n=(0,s.getCommunityAdminPromotionNuxKey)(t.id.toString()),[,,a]=(0,E.default)(n),[v,C]=(0,g.useFlow)(y.PromotionNotification);if(null==C.step)return null;let b;switch(C.step){case y.PromotionNotification:b=h.default.createElement(l.default,{onDemote:()=>{C.push(y.Demote)},onContinue:()=>{a(),C.end()}});break;case y.Demote:{const e=(0,f.isMeAccount)(t.owner),n=n=>{(0,i.logCadminDemoteEvent)(p.CADMIN_DEMOTE_ORIGIN_TYPE.PROMOTION_NOTIFICATION,n,1===t.participants.getAdmins().length||e)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n(e?m.CADMIN_DEMOTE_RESULT_TYPE.RETRY_CANCEL:m.CADMIN_DEMOTE_RESULT_TYPE.CANCEL),d.ModalManager.close()},s=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a();const o=t.participants.getMeParticipant(),i=r.ChatCollection.get(t.id);o&&i&&(o.contact.pendingAction++,(0,c.demoteCommunityParticipants)(i,[o]).then((()=>{n(e?m.CADMIN_DEMOTE_RESULT_TYPE.RETRY_SUCCESS:m.CADMIN_DEMOTE_RESULT_TYPE.SUCCESS)})).catch((()=>{__LOG__(3,!0,void 0,!0)`Error sending demote community participants iq`,SEND_LOGS("community-admin-self-demote-failed"),n(e?m.CADMIN_DEMOTE_RESULT_TYPE.RETRY_FAILURE:m.CADMIN_DEMOTE_RESULT_TYPE.FAILURE),d.ModalManager.open(h.default.createElement(u.CommunityAdminDemoteErrorPopup,{onParticipantDemote:()=>s(!0),onCancel:()=>l(!0),isMe:!0}))})).finally((()=>{o.contact.pendingAction--}))),e?d.ModalManager.close():C.end()};b=h.default.createElement(o.default,{onDemote:s,onCancel:l,onFailure:()=>{n(m.CADMIN_DEMOTE_RESULT_TYPE.FAILURE),C.pop()},isCommunityOwner:e});break}}return h.default.createElement(v,{flow:C},b)}v.displayName="CommunityAdminPromotionNotificationFlow"},324654:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(287461),o=n(351053),i=n(394164),u=n(780549),d=a(n(946641)),c=n(174834),s=n(286545),f=a(n(396879)),p=n(877171),m=n(552093),h=n(900316),g=n(581354),E=a(n(726e3)),y=n(409062),v=n(427181),C=a(n(590911)),b=n(382117),w=n(459857),_=n(744976),S=n(818674),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),k=a(n(829686)),P=a(n(847116)),O=n(839062),T=a(n(895851));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const I=n(76672).Mirrored(["GROUPS_MANAGER","NEW_GROUP","EXISTING_GROUP","COMMUNITY_SETTINGS"]);function R(e,t){const{parentGroupMetadata:n,fromInfo:a=!1,onBack:x}=e,{joinedSubgroups:R,unjoinedSubgroups:L,subgroupCount:N}=(0,P.default)(n),D=(0,i.isSubgroupSuggestionCreation)(n.id),A=(0,T.default)(),j=(0,k.default)((()=>{x?x():h.DrawerManager.closeDrawerRight()})),[F,B]=(0,O.useFlow)(I.GROUPS_MANAGER,{transitions:O.FlowTransitions.DrawerLeft,onEnd:j});function W(){return(W=(0,r.default)((function*(e){const t=yield e;B.pop(),null==t||A.aborted||(0,g.findChat)(t,"communityGroupsFlow").then((e=>{u.Cmd.openChatBottom(e).then((t=>{t&&p.ComposeBoxActions.focus(e)}))}))}))).apply(this,arguments)}function H(){return(H=(0,r.default)((function*(e){const t=new Set([...L,...R]),a=e.filter((e=>!t.has(e.id))).map((e=>e.id));if(a.length)if(n.participants.iAmAdmin()){const e=new b.UiActionWamEvent({uiActionType:_.UI_ACTION_TYPE.COMMUNITY_LINK,uiActionPreloaded:!1});yield(0,E.default)(n.id,a).then((()=>{e.markUiActionT(),e.commit(),(0,S.logUiActionShadowPrivateStatsTestEvents)()})),B.pop()}else yield(0,m.createExistingGroupsSubgroupSuggestionsAction)(n.id,a,B.pop,j)}))).apply(this,arguments)}if(null==B.step)return null;let U;switch(B.step){case I.GROUPS_MANAGER:U=M.default.createElement(s.CommunityHomeGroupsManager,{joinedSubgroups:R,unjoinedSubgroups:L,currentSubgroupCount:N,fromInfo:a,onBack:j,onNewGroupFlow:()=>B.push(I.NEW_GROUP),onExistingGroupFlow:()=>B.push(I.EXISTING_GROUP),onCommunitySettingsClick:()=>B.push(I.COMMUNITY_SETTINGS),parentId:n.id});break;case I.NEW_GROUP:{const e=n.participants.iAmAdmin();if(D)U=M.default.createElement(C.default,{parentGroup:n.id,onBack:()=>B.pop(),onEnd:j});else{const t=(0,c.communityShortGroupCreationEnabled)();U=M.default.createElement(v.NewGroupFlowLoadable,{onCreateGroup:function(){return W.apply(this,arguments)},onEnd:()=>B.pop(),parentGroupWid:n.id,initialStep:e&&!t?y.NewGroupFlowStep.ADD_PARTICIPANTS_DRAWER:y.NewGroupFlowStep.SET_GROUP_INFO_DRAWER,shortenedCreationFlow:t})}break}case I.EXISTING_GROUP:{var z,G;const e=o.ChatCollection.get(n.id),t=(0,l.getABPropConfigValue)("parent_group_no_disclaimer")&&!0===(null==e||null===(z=e.groupMetadata)||void 0===z?void 0:z.isParentGroupClosed),r=null==e?void 0:e.formattedTitle,i=null==e||null===(G=e.groupMetadata)||void 0===G?void 0:G.getSubgroupSuggestions().reduce(((e,t)=>((0,w.isMeAccount)(t.owner)&&e.push(t.groupId),e)),[]);U=M.default.createElement(d.default,{onBack:()=>B.pop(),fromInfo:a,onSubmit:function(){return H.apply(this,arguments)},onCreateNewGroup:()=>B.push(I.NEW_GROUP),currentSubgroupCount:N,communityName:r,isParentGroupClosed:t,isCommunityAdmin:n.participants.iAmAdmin(),groupsSuggestedByMeToCommunity:i});break}case I.COMMUNITY_SETTINGS:{const e=o.ChatCollection.assertGet(n.id);U=M.default.createElement(f.default,{chat:e,onBack:()=>B.pop()});break}}return M.default.createElement(F,{flow:B,ref:t},U)}var L=(0,M.forwardRef)(R);t.default=L},790590:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,d.useFlow)(p.StatusV3Main),[n,a]=(0,u.useState)(null),[f,m]=(0,u.useState)(null),[h,g]=(0,u.useState)(void 0),[E,y]=(0,u.useState)(void 0),v=(0,c.default)((()=>Math.round(1e9*Math.random()))),C=e=>{e?t.end():t.pop()},b=(e,n,r,l)=>{a(e),m(n),g(r),y(l),t.push(p.StatusV3Viewer,"none")};if((0,s.useListener)(r.Cmd,"close_status_viewer",(()=>{C(!0)})),null==t.step)return null;let w=null;switch(t.step){case p.StatusV3Main:w=u.default.createElement(l.default,{onOpenStatus:b,closeStatusViewer:C,sessionId:v.current});break;case p.StatusV3Viewer:(0,i.default)(null!=n,"This will never be null"),w=u.default.createElement(o.default,{initialStatusV3:n,initialStatusMsg:f,closeStatusViewer:C,sessionId:v.current,rowIdx:h,rowSection:E,continuousPlay:!0})}return u.default.createElement(e,{flow:t},w)};var r=n(780549),l=a(n(546922)),o=a(n(564479)),i=a(n(441143)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),d=n(839062),c=a(n(637660)),s=n(808446);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=n(76672).Mirrored(["StatusV3Main","StatusV3Viewer"])},507407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStickers=t.clearFrontendStickerPackMdGetterCacheFor=void 0;var a=n(272619),r=n(535979),l=n(808383);const{field:o,clearCacheFor:i}=(0,a.createGetterFactories)({root:l.getStickerPackMdUnsafe,createCache:r.createStickerModelMdCache}),u=i;t.clearFrontendStickerPackMdGetterCacheFor=u;const d=Object.defineProperty(o("stickers"),"name",{value:"getStickers"});t.getStickers=d},604774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaEditControllerValues=function(e,t){return(0,a.useModelGetterValues)(e,t)};var a=n(682828)},638897:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMsgInfoValues=function(e,t){return(0,r.useCollectionValues)(a.MsgInfoCollection,e,t)};var a=n(241164),r=n(682828)},384448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOptionalStickerPackValues=function(e,t){return(0,r.useOptionalCollectionValues)(a.StickerPackCollectionMd,e,t)},t.useStickerPackValues=function(e,t){return(0,r.useCollectionValues)(a.StickerPackCollectionMd,e,t)};var a=n(425192),r=n(682828)},173845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const n=(0,a.useRef)(null);(0,r.useListener)(t,"mousedown",(()=>{n.current=self.performance.now()})),(0,r.useListener)(t,"mouseup",(()=>{n.current=null}));const l=(0,a.useCallback)((()=>{const t=n.current;return null!=t&&self.performance.now()-t>=e}),[e]);return l};var a=n(667294),r=n(808446)},751976:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StartSupportChatErrorModalLoadable=void 0;var r=a(n(348926)),l=a(n(114945)),o=a(n(472514)),i=a(n(997026)),u=a(n(621570)),d=n(548360),c=a(n(667294));const s=(0,i.default)((0,r.default)((function*(){const e=yield Promise.all([n.e(5878),n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,163562));return(0,o.default)(e)})),"StartSupportChatErrorModal");t.requireBundle=s;const f=(0,l.default)({loader:s,loading:e=>c.default.createElement(u.default,{okText:d.fbt._("Contact via email",null,{hk:"3232h1"}),error:Boolean(e.error)})});t.StartSupportChatErrorModalLoadable=f},617433:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.bubbleCountryOnListOfCountries=d,t.formatCountriesOfOrigin=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=u(e,!0);if(""===t)return n;return d(n,t)},t.styles=void 0,t.unshiftNotApplicableToListOfCountries=u;var r=n(741703),l=a(n(286816)),o=n(548360);a(n(156720));const i={countrySeparator:{borderBottomWidth:"a985gkl7",borderBottomStyle:"cmcp1to6",borderBottomColor:"brezm3p7"}};function u(e,t){const n=[...e];return n.unshift([String(r.SyntheticCountryCode.NotApplicable),l.default._("Not Applicable",null,{hk:"2k1klN"}),o.fbt._("Item is a service or non-physical good",null,{hk:"3uDBY7"}),...!0===t?[i.countrySeparator]:[]]),n}function d(e,t,n){const a=e.findIndex((e=>{let[n]=e;return n===t})),[r,l]=[...e[a]],o=[...e];return o.splice(a,1),o.unshift([r,l,null,...n?[i.countrySeparator]:[]]),o}t.styles=i},25878:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaTheme=t.MediaEditor=void 0;var r=a(n(348926)),l=n(122583),o=a(n(670983)),i=n(234180),u=n(952543),d=n(396574),c=n(780549),s=a(n(194886)),f=a(n(908081)),p=a(n(324093)),m=n(488940),h=n(698210),g=n(690495),E=a(n(335540)),y=n(81644),v=a(n(867109)),C=(n(505945),a(n(287866))),b=n(358369),w=n(490836),_=n(695710),S=a(n(301667)),M=a(n(31579)),k=a(n(527539)),P=n(320561),O=n(477540),T=n(950079),x=n(272802),I=a(n(763560)),R=a(n(915373)),L=a(n(402420)),N=a(n(913466)),D=n(580716),A=n(675249),j=n(75421),F=n(937484),B=Ee(n(288057)),W=n(97858),H=n(373070),U=n(73225),z=a(n(478163)),G=n(634401),q=n(115927),V=n(956113),Y=a(n(614839)),K=n(432938),X=n(501372),Z=a(n(397778)),Q=n(717089),J=n(625786),$=n(390737),ee=n(238669),te=n(459857),ne=n(169467),ae=n(71677),re=n(843534),le=n(460416),oe=n(216579),ie=n(140960),ue=n(843274),de=n(548360),ce=Ee(n(667294)),se=(a(n(156720)),a(n(969651))),fe=a(n(637660)),pe=n(808446),me=a(n(305988)),he=a(n(895851));function ge(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ge=function(e){return e?n:t})(e)}function Ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ge(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const{IMAGE:ye,VIDEO:ve,AUDIO:Ce,STICKER:be,DOCUMENT:we}=H.MSG_TYPE,_e=3*x.DEFAULT_FONT_SIZE,Se=n(76672).Mirrored(["ATTACH","CAPTURE","STATUS"]);function Me(e,t){var n,a;(0,Q.useTsNavigation)(e.chat.isNewsletter&&(0,U.isNewsletterTSLEnabled)()?{surface:"channel-producer-media-editor",extras:{channelWid:e.chat.id,threadType:le.THREAD_TYPE.CHANNEL}}:null);const{onClose:H=(()=>{}),theme:ge=Se.ATTACH,sendAsSticker:Ee=!1,chat:Me,mediaCollection:ke,initCaption:Pe,onDropText:Oe,onSendMedia:Te}=e,[xe,Ie]=(0,ce.useState)((()=>(0,b.getColorValue)(b.ColorType.BLUE))),[Re,Le]=(0,ce.useState)(null!=Ee&&Ee?_.ThicknessType.XLARGE:_.ThicknessType.SMALL),[Ne,De]=(0,ce.useState)(!0),[Ae,je]=(0,ce.useState)((()=>(0,b.getColorValue)(b.ColorType.BLACK))),[Fe,Be]=(0,ce.useState)(w.FontType.SANS_SERIF),[We,He]=(0,ce.useState)(w.TextAlignment.CENTER),[Ue,ze]=(0,ce.useState)(!0),[Ge,qe]=(0,ce.useState)(!1),[Ve,Ye]=(0,ce.useState)(!1),[Ke,Xe]=(0,ce.useState)(!1),[Ze,Qe]=(0,ce.useState)(null),[Je,$e]=(0,ce.useState)(null),[et,tt]=(0,ce.useState)(!1),[nt,at]=(0,ce.useState)(null),[rt,lt]=(0,ce.useState)(null),[ot,it]=(0,me.default)(!1),[ut,dt]=(0,ce.useState)(null!=Ee&&Ee),ct=(0,ce.useRef)(),st=(0,ce.useRef)(),ft=(0,ce.useRef)(),pt=(0,ce.useRef)(),mt=(0,ce.useRef)(null==Pe?void 0:Pe.text),ht=(0,ce.useRef)(),gt=(0,ce.useRef)(D.BLUR_DEFAULT_MODE),Et=(0,ce.useRef)(D.BLUR_DEFAULT_RADIUS),yt=(0,fe.default)((()=>new Map)),vt=(e,t)=>{yt.current.set(e,t)},Ct=(0,fe.default)((()=>new Map)),bt=(0,fe.default)((()=>new Map)),wt=(e,t)=>{bt.current.set(e,t)},_t=(0,se.default)(),St=(0,he.default)();ke.isStickerMaker=ut,(0,pe.useListener)(ke,["add","remove","reset"],_t),(0,pe.useListener)(ke,["active-change","change:state","change:previewable"],(()=>{if(!ke.canSend())return;const{errorMsgs:e}=ke.uiProcessMsgs(Me);e&&($.ToastManager.open(ce.default.createElement(J.Toast,{msg:e})),0===ke.getPreviewableMedias().length&&H()),_t()}));(0,pe.useListener)(c.Cmd,"toggle_sticker_maker",(()=>{const e=!ut&&1===ke.length&&(null===(t=ke.at(0))||void 0===t?void 0:t.type)===ye;var t;dt(e),Le(e?_.ThicknessType.XLARGE:_.ThicknessType.SMALL)})),(0,ce.useEffect)((()=>{var e;return null===(e=pt.current)||void 0===e||e.focus(),()=>{ht.current&&self.clearTimeout(ht.current)}}),[]),(0,ce.useEffect)((()=>{ke.isStickerMaker=ut}));const Mt=()=>pt.current,kt=e=>{var t;if(null===(t=ct.current)||void 0===t?void 0:t.resetUIState())return!1;if(rt)return at(null),lt(null),!1;const n=e===ee.DismissReason.UIM_INTERACTION;return H(n),!0};(0,ce.useImperativeHandle)(t,(()=>({getElement:Mt,handleRequestDismiss:kt})));const Pt=ke.getActive(),Ot=mt.current;let Tt=et;Tt||Ze||null==Ot||""===Ot||!Pt||Pt.type!==ye&&Pt.type!==ve&&(Pt.type!==we||Me.contact.isEnterprise)||(Pt.caption=Ot,Tt=!0);const xt=null!==(n=null==Pt?void 0:Pt.canUndoMediaEditorData())&&void 0!==n&&n,It=null!==(a=null==Pt?void 0:Pt.canRedoMediaEditorData())&&void 0!==a&&a;Pt!==Je&&($e(Pt),Qe(Pt),Ye(xt),Xe(It),tt(Tt));const Rt=()=>null==Ze?C.default.create():Ze.mediaEditorData,Lt=()=>{var e,t;Ye(null!==(e=null==Ze?void 0:Ze.canUndoMediaEditorData())&&void 0!==e&&e),Xe(null!==(t=null==Ze?void 0:Ze.canRedoMediaEditorData())&&void 0!==t&&t)},Nt=(e,t)=>{if(e!==Rt()){var n,a,r;if(Ze)Ze.updateMediaEditorData(e,{undoable:null!==(n=null==t?void 0:t.undoable)&&void 0!==n&&n,lastAction:null!==(a=null==t?void 0:t.lastAction)&&void 0!==a?a:null}),Lt();if(null==t?void 0:t.updatePreview)null===(r=ct.current)||void 0===r||r.updatePreview();__LOG__(2)`MediaEditor: Updated MediaEditorData`}},Dt=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Ze&&Ze.canUndoMediaEditorData()){var t,n;const a=Ze.lastMediaEditorAction;Ze.undoMediaEditorData(e);const r=Ze.lastMediaEditorAction;Lt(),null===(t=ct.current)||void 0===t||t.updatePreview(),null===(n=ct.current)||void 0===n||n.undoAction(a,r)}},At=()=>{if(Ze&&Ze.canRedoMediaEditorData()){var e,t;const n=Ze.lastMediaEditorAction;Ze.redoMediaEditorData();const a=Ze.lastMediaEditorAction;Lt(),null===(e=ct.current)||void 0===e||e.updatePreview(),null===(t=ct.current)||void 0===t||t.redoAction(a,n)}},jt=(e,t,n,a)=>{const r=(0,o.default)(ct.current,"imageBodyRef.current").getCanvasScale(),l=t.width*r,i=t.height*r,u=Math.min(n/l,a/i),d=Rt().addImageLayerToCenter({type:e,image:t,editable:!0,scale:u});Nt(d,{updatePreview:!0,undoable:!0})},Ft=function(){var e=(0,r.default)((function*(e){try{const t=yield(0,A.createImageFromEmoji)(e);if(!t)return;const n=ut?128:64;jt(T.ImageLayerType.Emoji,t,n,n),ut&&new ue.WebcStickerMakerEventsWamEvent({stickerMakerEventName:oe.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.EMOJI_ADDED}).commit()}catch(e){$.ToastManager.open(ce.default.createElement(J.Toast,{msg:de.fbt._("Failed to add image",null,{hk:"1e7nnp"})}))}}));return function(){return e.apply(this,arguments)}}(),Bt=function(){var e=(0,r.default)((function*(e){try{const t=yield(0,A.createImageFromSticker)(e);jt(T.ImageLayerType.Sticker,t,128,128),ut&&new ue.WebcStickerMakerEventsWamEvent({stickerMakerEventName:oe.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_ADDED}).commit()}catch(e){$.ToastManager.open(ce.default.createElement(J.Toast,{msg:de.fbt._("Failed to add image",null,{hk:"1e7nnp"})}))}}));return function(){return e.apply(this,arguments)}}(),Wt=()=>{const e=Rt().clearSelectedLayer();Nt(e)},Ht=()=>{const e=Rt().clearSelectedLayer();Nt(e)},Ut=()=>{const e=null===(t=ct.current)||void 0===t?void 0:t.getBackground();var t;const n=Rt();if(!e||n.outlineLayer.isEmpty())return;const a=n.cropCenter,{width:r,height:l}=e,o=new M.default({x:a.x-r/2,y:a.y-l/2}),i=-n.rotation,d=Math.max(r,l),c=n.cropSize.dimension,s=n.updateBackground(e,o,i,c*((K.STICKER_DIMENSION-2*K.STICKER_PADDING)/K.STICKER_DIMENSION)/d).clearOutlinePaths();Nt(s,{undoable:!0,updatePreview:!0,lastAction:u.MediaEditorAction.OutlineDone}),ut&&new ue.WebcStickerMakerEventsWamEvent({stickerMakerEventName:oe.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_OUTLINED}).commit()},zt=()=>{const e=Rt().clearOutlinePaths();Nt(e,{undoable:!0,updatePreview:!0})},Gt=(e,t,n)=>{const a=Rt().setRotation(e).setCrop(t,n);Nt(a,{undoable:!0,updatePreview:!0,lastAction:u.MediaEditorAction.CropRotateCanvas}),ut&&new ue.WebcStickerMakerEventsWamEvent({stickerMakerEventName:oe.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_CROPPED}).commit()},qt=e=>{const{selectedLayer:t}=Rt();if(t instanceof O.BlurLayer){const n=Rt().setBlurMode(t,e);Nt(n,{updatePreview:!0,undoable:!0}),gt.current=e}},Vt=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{selectedLayer:n}=Rt();if(n instanceof O.BlurLayer){const a=Rt().setBlurRadius(n,e);Nt(a,{updatePreview:!0,undoable:t}),Et.current=e}},Yt=()=>{const e=Rt().selectedLayer;if(e instanceof O.BlurLayer&&!e.confirmed)Dt(!1);else{var t,n;const e=Rt().clearSelectedLayer();Nt(e),((e,t,n,a)=>{const r=(0,o.default)(ct.current,"imageBodyRef.current").getCanvasScale(),l=(0,o.default)(ct.current,"imageBodyRef.current").getCanvasSize(),i=Math.min(l.width,200/r),u=Math.min(l.height,100/r),d=Rt().addBlurLayerToCenter({image:e,size:new k.default({width:i,height:u}),mode:t,radius:n,backgroundFrame:a});Nt(d,{updatePreview:!0,undoable:!0})})((0,o.default)(null===(t=Rt().background)||void 0===t?void 0:t.image,"getData().background?.image"),gt.current,Et.current,(0,o.default)(null===(n=Rt().background)||void 0===n?void 0:n.frame,"getData().background?.frame"))}},Kt=e=>{Ie(e)},Xt=e=>{Le(e)},Zt=e=>{De(e)},Qt=()=>{Nt(Rt().clearSelectedLayer())},Jt=()=>{if(nt)return;Qt();let e=1.2/(0,o.default)(ct.current,"imageBodyRef.current").getCanvasScale();if(ut){const t=Rt().cropSize.dimension;e=_e*t/K.STICKER_DIMENSION/x.DEFAULT_FONT_SIZE}const t={origin:Rt().cropCenter,text:"",textColor:Ae,textBackground:Ue,alignment:We,font:Fe,scale:e},n=Rt().addTextLayer(t),a=(0,o.default)(n.lastTextLayer,"data.lastTextLayer");lt(a),at(null)},$t=e=>{Be(e);const{selectedLayer:t}=Rt();if(rt)lt(rt.setFont(e));else if(t&&t instanceof x.TextLayer){const n=Rt().setFont(t,e);Nt(n,{updatePreview:!0,undoable:!0})}},en=e=>{He(e);const{selectedLayer:t}=Rt();if(rt)lt(rt.setAlignment(e));else if(t&&t instanceof x.TextLayer){const n=Rt().setAlignment(t,e);Nt(n,{updatePreview:!0,undoable:!0})}},tn=e=>{je(e);const{selectedLayer:t}=Rt();if(rt)lt(rt.setTextColor(e));else if(t&&t instanceof x.TextLayer){const n=Rt().setTextColor(t,e);Nt(n,{updatePreview:!0,undoable:!0})}},nn=()=>{const e=!Ue;ze(e);const{selectedLayer:t}=Rt();if(rt)lt(rt.setTextBackground(e));else if(t&&t instanceof x.TextLayer){const n=Rt().setTextBackground(t,e);Nt(n,{updatePreview:!0,undoable:!0})}},an=e=>{lt(e),at(e)},rn=(e,t)=>{var n;if(t){let e=Rt();const n=(0,o.default)(rt,"draftTextLayer").setText(t);nt?e=e.updateLayer((0,o.default)(nt,"currentlyEditingTextLayer"),n):(e=e.addTextLayer(n),ut&&new ue.WebcStickerMakerEventsWamEvent({stickerMakerEventName:oe.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.TEXT_ADDED}).commit()),Nt(e,{updatePreview:!0,undoable:!0})}else nt&&Nt(Rt().deleteLayer(nt),{updatePreview:!0,undoable:Boolean(e.text)});self.setTimeout((()=>{lt(null),at(null)}),0),null===(n=pt.current)||void 0===n||n.focus()},ln=e=>{Nt(Rt().addPaintPath(e),{undoable:!0,updatePreview:!0})},on=e=>{Nt(Rt().addOutlinePath(e),{undoable:!0,updatePreview:!0,lastAction:u.MediaEditorAction.Outline})},un=e=>{if(!e.editable)return;let t=Rt().setSelectedLayer(e);e instanceof O.BlurLayer&&(e.confirmed||(t=t.updateLayer(e,e.setConfirmed())),gt.current=e.mode,Et.current=e.radius),Nt(t),e instanceof x.TextLayer&&(je(e.textColor),ze(e.textBackground),Be(e.font))},dn=(e,t)=>{const n=e instanceof T.ImageLayer&&e.isBackground();Nt(n?Rt().translateBackground(t):Rt().translateLayer(e,t),{updatePreview:!0,undoable:!0})},cn=(e,t,n,a)=>{const r=e instanceof T.ImageLayer&&e.isBackground();Nt(r?Rt().transformBackground(t,n):Rt().transformLayer(e,t,n,a),{updatePreview:!0,undoable:!0})},sn=e=>{const t=Rt().deleteLayer(e);Nt(t,{updatePreview:!0,undoable:!0})},fn=t=>{(0,m.getFiles)(t).then((n=>{if(St.aborted)return;let a;return t.shiftKey&&t.altKey&&1===n.length&&(dt(!0),Le(_.ThicknessType.XLARGE),a=!0),ke.processAttachments(n.map((e=>({file:e,stickerMaker:a}))),ne.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,e.chat)})).catch((0,l.filteredCatch)(B.MediaDragDropError,(e=>{ke.length||Oe(e.src)}))),t.target.value&&(t.target.value="")},pn=e=>{ot||ut||fn(e)},mn=(e,t)=>{ot||ut||(qe(e),e||t||ke.length||H())},hn=e=>{if(!Ze)return;const t=ke.indexOf(Ze);Ze.updateCaption(e),0===t&&""===e&&et&&tt(!1);const n=bt.current.get(Ze.id);n&&Ct.current.set(Ze.id,n.editorContent())},gn=t=>{const n=t.getFiles().filter((e=>{const t=(0,h.typeFromMimetype)(e.type);return"image"===t||"video"===t})).map((e=>({file:e})));ke.processAttachments(n,ne.MEDIA_PICKER_ORIGIN_TYPE.PASTE,e.chat)},En=e=>{e.preventDefault(),e.stopPropagation();const t=new s.default(e.clipboardData);t.hasFiles()&&gn(t)},yn=()=>{if(st.current){st.current.click()}},vn=()=>{var e;const t=Me.contact.isEnterprise;return 1===ke.length&&!0===(null===(e=ke.at(0))||void 0===e?void 0:e.isViewableOnce())&&!t&&!(0,te.isMeAccount)(Me.contact.id)&&!Ee},Cn=e=>{if(null==e||e.preventDefault(),null==e||e.stopPropagation(),!ke.canSend())return;const t=ke.getPreviewableMedias();if(0===t.length)return void H();var n;((null==Ze?void 0:Ze.mediaEditorData.hasEdits())||ut)&&(null===(n=ct.current)||void 0===n||n.updatePreview({immediately:!0}));const a=[];t.forEach((e=>{const{editedFile:t}=e;if(t&&(e.mediaEditorData.hasEdits()||ut)){const n=ke.replace(e.id,{file:t,asSticker:ut});a.push(n)}})),Promise.all(a).then((()=>{const e=ke.getPreviewableMedias();if(0===e.length)return;const n=e.map((e=>{var t,n;let a=null===(t=e.caption)||void 0===t?void 0:t.trim(),r=[],l=[];const o=Ct.current.get(e.id);if(o){const{text:e,data:t}=o;e.length&&(a=e.trim(),r=t.mentionedJidList||[],l=t.groupMentions||[])}return e.caption=null!==(n=a)&&void 0!==n?n:void 0,{media:e,mentionedJidList:r,groupMentions:l}}));Te(n,{initCaptionUsed:et,isViewOnce:vn()&&ot}),(e=>{if(ut)return new X.StickerSendWamEvent({stickerSendOrigin:re.STICKER_SEND_ORIGIN_TYPE.STICKER_MAKER,stickerIsAnimated:!1,stickerIsFirstParty:!1,stickerIsFromStickerMaker:!0,stickerMakerSourceType:ae.STICKER_MAKER_SOURCE_TYPE.WEB_STICKER_MAKER}).commit(),void new ue.WebcStickerMakerEventsWamEvent({stickerMakerEventName:oe.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.SEND_STICKER}).commit();let t=0,n=0,a=0,r=0,l=0,o=0,i=0;e.forEach((e=>{const u=e.mediaEditorData;e.type===ye&&(t++,u.hasEdits()&&n++,u.paintLayer.paths.length>0&&a++,u.layers.some((e=>e instanceof O.BlurLayer))&&i++),u.layers.forEach((e=>{e instanceof T.ImageLayer?(e.isEmoji()&&r++,e.isSticker()&&l++):e instanceof x.TextLayer&&o++}))})),new ie.WebcMediaEditorSendWamEvent({imageCount:t,editedImageCount:n,paintedImageCount:a,blurImageCount:i,emojiLayerCount:r,stickerLayerCount:l,textLayerCount:o}).commit()})(t)}))},bn=()=>{if(!Ze)return;const e=yt.current.get(Ze.id);e&&e.scrollIntoView()},wn=(e,t)=>{if(!Ze||t.repeat||rt)return;const n=Ze&&!Ze.caption,a=bt.current.get(Ze.id);let r=!1;a&&(r=!n&&a.isFocused()&&(!a.isCursorAtStart()||"left"!==e)&&(!a.isCursorAtEnd()||"right"!==e)),r||(t.preventDefault(),t.stopPropagation(),"left"===e?ke.setPrevAsActive()&&bn():ke.setNextAsActive()&&bn())},_n=e=>{ke.setActive(e)},Sn=(e,t)=>{t.stopPropagation(),t.preventDefault(),ke.remove(e),0===ke.getValidMedias().length?ht.current=self.setTimeout((()=>{H()}),200):ft.current&&E.default.focus(ft.current)};let Mn,kn=ke.getPreviewableMedias();const Pn=(0,j.getMaxNumberSelectableMedia)(kn.length,Me.id);kn.length>Pn&&(kn=kn.slice(0,Pn)),ke.canSend()?Ze&&(Mn=(e=>{let t=null;switch(e.type){case be:case ye:t=ce.default.createElement(P.ImageBody,{key:e.mediaEditorData.id,ref:ct,attachMedia:e,chat:Me,onCaptionChange:hn,onClose:ge===Se.CAPTURE?null:H,onEnter:Cn,setCaptionInputRef:wt,paintColor:xe,paintThickness:Re,outlineSmoothing:Ne,canUndo:Ve,canRedo:Ke,currentlyEditingTextLayer:nt,draftTextLayer:rt,viewOnce:ot,viewOnceDisabled:!vn(),sendAsSticker:ut,onPaintSelect:Wt,onOutlineSelect:Ht,onOutlineDone:Ut,onOutlineReset:zt,onTextSelect:Jt,onTextBackgroundToggle:nn,onEmojiSelect:Ft,onStickerSelect:Bt,onLayerSelect:un,onLayerUnselect:Qt,onLayerDelete:sn,onLayerTranslate:dn,onLayerTransform:cn,onTextEditingStart:an,onTextEditingEnd:rn,onTextColorSelect:tn,onFontSelect:$t,onAlignmentSelect:en,onPaintColorSelect:Kt,onPaintThicknessSelect:Xt,onOutlineSmoothingToggle:Zt,onCropRotateCanvas:Gt,onBlurModeChange:qt,onBlurRadiusChange:Vt,onBlurSelect:Yt,onUndo:Dt,onRedo:At,onPaintDrawEnd:ln,onOutlineDrawEnd:on,onToggleViewOnce:it,onFiles:gn});break;case ve:t=ce.default.createElement(N.default,{key:e.id,attachMedia:e,chat:Me,viewOnce:ot,viewOnceDisabled:!vn(),setCaptionInputRef:wt,onCaptionChange:hn,onClose:H,onEnter:Cn,onToggleViewOnce:it,onFiles:gn});break;case Ce:t=ce.default.createElement(I.default,{key:e.id,item:e,onClose:H});break;default:t="pdf"===(0,F.previewType)(e.mimetype)?ce.default.createElement(L.default,{key:e.id,item:e,onClose:H,attachMedia:e,chat:Me,setCaptionInputRef:wt,onCaptionChange:hn,onEnter:Cn,onToggleViewOnce:it,onFiles:gn}):ce.default.createElement(R.default,{key:e.id,mimeType:e.mimetype,filesize:e.filesize,filename:e.filename,fileExt:e.fileExt,onClose:H,attachMedia:e,chat:Me,setCaptionInputRef:wt,onCaptionChange:hn,onEnter:Cn,onToggleViewOnce:it,onFiles:gn})}return t})(Ze)):Mn=ce.default.createElement("div",{className:v.default.spinner},ce.default.createElement(V.Spinner,{key:"processing",color:"highlight"}));const On=Ge?ce.default.createElement("div",{key:"container",className:v.default.dropOverlay},ce.default.createElement("div",{className:v.default.dropOverlayOutline},de.fbt._("Drag file here",null,{hk:"y9aHs"}))):null,Tn="*"===F.DOC_MIMES?"*":[F.IMAGE_MIMES].join();let xn;if(null!=Mn){let e,t;if(kn.length>0&&((0,q.isStatusPostingEnabled)()&&ge===Se.STATUS&&(t=ce.default.createElement(Y.default,null)),e=ce.default.createElement("div",{className:v.default.sendButton,tabIndex:"-1",ref:ft,onKeyPress:e=>e.preventDefault()},ce.default.createElement(z.default,{ariaLabel:de.fbt._("Send",null,{hk:"2JJUaP"}),large:!0,icon:ce.default.createElement(G.SendIcon,{directional:!0}),count:1===kn.length?null:kn.length,onClick:Cn,disabled:!ke.canSend()}))),ge===Se.CAPTURE)xn=ce.default.createElement("div",{className:v.default.captureFooter},e);else{const n=!ot&&!ut&&kn.length<Pn,a=i.AddAltIcon,r=ut?null:ce.default.createElement(Z.default,{className_DONOTUSE:(0,d.classnamesConvertMeToStylexPlease)({[v.default.addMediaButtonDisabled]:!n,[v.default.addMediaButton]:!0}),disabled:!n,key:"media-more",Icon:a,title:de.fbt._("Add file",null,{hk:"4Gvj3D"}),onClick:yn,"aria-label":de.fbt._("Add file",null,{hk:"4Gvj3D"})});let l;kn.length>0&&(l=ce.default.createElement(g.FlexRow,{className:v.default.filmstripContainer,justify:"center",align:"start"},ce.default.createElement(S.default,{className:v.default.thumbs,mediaCollection:ke,onClick:_n,onClose:Sn,onElementRef:vt}),r)),xn=ce.default.createElement("div",{className:v.default.footer},t,l,e)}}const In=(0,d.classnamesConvertMeToStylexPlease)({[v.default.previewOnly]:(null==Ze?void 0:Ze.type)!==ye,[v.default.documentPreview]:(0,W.documentWithCaptionsSendEnabled)()&&(null==Ze?void 0:Ze.type)===we,[v.default.container]:!0});let Rn=ce.default.createElement(g.FlexColumn,{className:In,align:"stretch"},On,Mn,xn,ce.default.createElement("input",{ref:st,type:"file",accept:Tn,style:{display:"none"},onChange:fn,multiple:!0}));ge===Se.ATTACH&&(Rn=ce.default.createElement(f.default,{key:"attach-image-modal",theme:"media",onDrop:pn,onDragChange:mn},ce.default.createElement(p.default,{tabIndex:"-1",overflow:"hidden",onPaste:En},Rn)));const Ln=ge===Se.CAPTURE||Se.STATUS?"ppled2lx ln8gz9je":"";return ce.default.createElement(y.HotKeys,{className:Ln,handlers:{enter:e=>{var t;if(!Ze)return;if(e.repeat)return;if(e.shiftKey)return;if(rt)return;const n=bt.current.get(Ze.id);if(null==n?void 0:n.isFocused())return;const{selectedLayer:a}=Rt();if(a instanceof x.TextLayer)return e.preventDefault(),e.stopPropagation(),void an(a);(null===(t=ct.current)||void 0===t?void 0:t.resetUIState())||Cn()},left:e=>wn("left",e),right:e=>wn("right",e)},ref:pt},Rn)}t.MediaTheme=Se;const ke=(0,ce.forwardRef)(Me);t.MediaEditor=ke,ke.displayName="MediaEditor"},278791:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=R;var r=n(370257),l=a(n(353884)),o=a(n(659177)),i=n(743839),u=a(n(846870)),d=n(664149),c=n(235630),s=n(407497),f=n(637624),p=n(934740),m=n(690495),h=n(862159),g=a(n(932325)),E=n(597820),y=n(150610),v=n(858486),C=n(204875),b=n(392632),w=a(n(37875)),_=a(n(625903)),S=a(n(395967)),M=n(708233),k=n(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),O=a(n(156720)),T=n(655241);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const I={container:{position:"g0rxnol2",width:"ln8gz9je",maxWidth:"o779q1nt",marginTop:"tt8xd2xn",marginEnd:"r9gcara8",marginBottom:"mpdn4nr2",marginStart:"je7dqiji"},inputContainer:{boxSizing:"cm280p3y",width:"ln8gz9je",minHeight:"gc15jzxb",paddingTop:"eujn52yf",paddingEnd:"l9g3jx6n",paddingBottom:"ckm995li",paddingStart:"lyvj5e2u",backgroundColor:"qpz0rf1m",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},inputContainerForVideo:{backgroundColor:"la59b5bx"},inputContainerForDoc:{backgroundColor:"d5zlj0ol"},buttonContainer:{minHeight:"tiex1193"},inputButton:{marginStart:"fooq7fky",color:"cs9t9or5"},charCounter:{marginStart:"fooq7fky",fontSize:"f8jlpxt4",color:"t3rh7lfs"},suggestionsPositioner:{position:"lhggkp7q",end:"b4u6kxhc",bottom:"c5zpj14d",start:"okbql4zm",height:"smvc51u0",paddingEnd:"itegkywt",paddingStart:"rppts313",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"tviruh8d",pointerEvents:"m62443ks"},suggestionsContainer:{position:"lhggkp7q",end:"citmgm7b",bottom:"s7ynmu90",start:"cheugonp"},secondaryButtonContainer:{marginStart:"fooq7fky"},richTextInput:{width:"ln8gz9je",marginTop:"iin4x6c7",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka",minHeight:"g4oj0cdv",color:"tviruh8d",wordWrap:"b6f1x6w7",whiteSpace:"bbv8nyr4",userSelect:"to2l77zo"},richTextInputText:{fontSize:"fe5nidar"}};function R(e){var t,n;const{chat:a,caption:s,setCaptionInputRef:x,onEnter:R}=e,N=(0,P.useRef)(null),D=(0,P.useRef)(null),[A,j]=(0,P.useState)(null),{isKeyboardUser:F}=(0,S.default)(),B=()=>{var e;null===(e=N.current)||void 0===e||e.focus()},W=(0,T.useModelValues)(o.default.getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]);(0,P.useEffect)((()=>{B()}),[]);const H=()=>{j(null),F&&B()},U=e=>{const t=N.current;t&&(t.focus(),t.replaceSelection(e)),F&&H()},z=(0,r.numCodepoints)(e.caption||""),G=u.default.MAX_CAPTION_LENGTH-z<50,q=null!=s&&""!==s?P.default.createElement(_.default,{xstyle:I.inputButton,onClick:()=>{var e;null===(e=N.current)||void 0===e||e.reset(),B()},title:k.fbt._("Clear caption",null,{hk:"1MEvgr"})},P.default.createElement(M.XAltIcon,null)):null,V=G&&P.default.createElement("div",{className:(0,O.default)(I.charCounter)},g.default.n(u.default.MAX_CAPTION_LENGTH-z));let Y=null;A&&(Y=P.default.createElement(b.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,ref:D,requestDismiss:H},P.default.createElement(w.default,{contextMenu:A})));let K=null;"document"===e.theme||a.id.isStatusV3()||a.isNewsletter||(K=P.default.createElement("div",{className:(0,O.default)(I.secondaryButtonContainer)},P.default.createElement(l.default,{disabled:e.viewOnceDisabled,isOn:Boolean(e.viewOnce),mediaType:e.msgType,onChange:e.onToggleViewOnce})));let X=e.chat.groupMetadata;(null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.groupType)!==h.GroupType.LINKED_ANNOUNCEMENT_GROUP||(0,E.shouldEnableGroupMentions)(X)||(X=null);const Z=(0,i.getComposeBoxPlaceholderText)(e.chat),Q=P.default.createElement(y.RichTextInput,{ref:e=>{N.current=e,x(e)},testid:"media-caption-input-container",initialText:s,placeholder:Z,title:Z,onChange:t=>e.onChange(t.parsableText),onEnter:e=>{var t;(null===(t=N.current)||void 0===t?void 0:t.isFocused())?R(e):R()},onFiles:e.onFiles,maxLength:u.default.MAX_CAPTION_LENGTH,maxVisibleLines:5,multiline:!0,spellCheck:!(0,v.improvedMessageComposerEnabled)()||W.spellcheck,transformTextEmoji:!(0,v.improvedMessageComposerEnabled)()||W.transformTextEmoji,enterIsNewLine:!!(0,v.improvedMessageComposerEnabled)()&&!W.enterIsSend,focusOnMount:!0,textFormatEnabled:!0,groupMetadata:X,xstyle:I.richTextInput,textXstyle:I.richTextInputText,bulletPointsEnabled:(0,v.expandedTextFormattingPreviewEnabled)(),numberedListEnabled:(0,v.expandedTextFormattingPreviewEnabled)(),inlineCodeEnabled:(0,v.expandedTextFormattingPreviewEnabled)(),blockQuoteEnabled:(0,v.expandedTextFormattingPreviewEnabled)(),pasteFromHTML:(0,v.improvedMessageComposerEnabled)(),textFormatShortcutsEnabled:(0,v.improvedMessageComposerEnabled)()});let J;const $=null===(n=N.current)||void 0===n?void 0:n.editor;return null!=$&&(J=P.default.createElement("div",{className:(0,O.default)(I.suggestionsPositioner)},P.default.createElement("div",{className:(0,O.default)(I.suggestionsContainer)},P.default.createElement(E.MentionSuggestions,{kind:C.SuggestionsPanelKind.MediaEditorCaption,editor:$,groupMetadata:X,elevatedPushNamesEnabled:(0,c.elevatedPushNamesM2Enabled)(e.chat)}),P.default.createElement(p.EmojiSuggestions,{kind:C.SuggestionsPanelKind.MediaEditorCaption,editor:$})))),P.default.createElement(m.FlexRow,{className:(0,O.default)(I.container),align:"center",justify:"center"},J,P.default.createElement(m.FlexRow,{align:"start",className:(0,O.default)(I.inputContainer,"document"===e.theme&&I.inputContainerForDoc,"video"===e.theme&&I.inputContainerForVideo)},Q,P.default.createElement(m.FlexRow,{xstyle:I.buttonContainer,align:"center"},V,q,P.default.createElement(L,{onClick:e=>{e.preventDefault(),e.stopPropagation();const t=P.default.createElement(f.EmojiPanel,{onEmoji:U,onFocusNext:B,onFocusPrev:B});j({menu:t,dirY:d.DirY.TOP,type:d.MenuType.EmojiPicker,anchor:e.target}),B()}}))),K,Y)}function L(e){let{onClick:t}=e;return P.default.createElement(_.default,{onClick:t,xstyle:I.inputButton,title:k.fbt._("Open emojis panel",null,{hk:"2MKtLP"})},P.default.createElement(s.EmojiInputIcon,null))}R.displayName="CaptionInput",L.displayName="EmojiButton"},320561:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageBody=void 0;var r=n(952543),l=n(396574),o=n(431037),i=n(690495),u=a(n(849664)),d=a(n(278791)),c=n(358369),s=n(695710),f=a(n(31579)),p=a(n(527539)),m=a(n(530728)),h=n(477540),g=n(950079),E=n(272802),y=a(n(91801)),v=n(70882),C=n(580716),b=n(500713),w=a(n(429600)),_=n(160058),S=a(n(442864)),M=n(905540),k=a(n(634452)),P=n(372682),O=n(373070),T=n(881839),x=n(163139),I=a(n(625903)),R=a(n(79291)),L=n(763389),N=a(n(556869)),D=n(548360),A=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),j=a(n(710629)),F=a(n(969651)),B=n(808446),W=n(655241);function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}const U=new p.default({width:200,height:200}),z=(0,A.forwardRef)((function(e,t){const{paintColor:n,paintThickness:a,outlineSmoothing:H,onLayerDelete:z,onTextEditingStart:G,onTextEditingEnd:q,onOutlineDone:V,draftTextLayer:Y,onLayerUnselect:K,onPaintSelect:X,onCropRotateCanvas:Z,onOutlineSelect:Q,onClose:J}=e,$=(0,W.useModelValues)(e.attachMedia,["mediaEditorData","caption","id","quality","hdEligible","metadataByQuality"]),{isNewsletter:ee}=(0,W.useModelValues)(e.chat,["isNewsletter"]),te=(0,A.useRef)(null),ne=(0,A.useRef)(null),ae=(0,A.useRef)(null),re=(0,A.useRef)(null),le=(0,A.useRef)(null),oe=(0,A.useRef)(null),ie=(0,A.useRef)(null),[ue,de]=(0,A.useState)(p.default.empty()),[ce,se]=(0,A.useState)(!1),[fe,pe]=(0,A.useState)(!1),[me,he]=(0,A.useState)(!1),[ge,Ee]=(0,A.useState)(!1),[ye,ve]=(0,A.useState)(!1),Ce=()=>{se((e=>!e))},be=()=>$.mediaEditorData,we=()=>{if(!te.current)return;const e=te.current.getBoundingClientRect(),t=new p.default({width:e.width-40,height:e.height-40});de(t)},_e=()=>{!fe&&be().selectedLayer&&K(),pe((e=>!e)),we()},Se=()=>me,Me=()=>{he((e=>!e))},ke=()=>{if(ce)Ce();else if(fe)_e();else if(Se())V(),Me();else{if(!$.mediaEditorData.selectedLayer||Y)return!1;K()}return!0};(0,B.useListener)(window,"mousedown",(e=>{ie.current=e.target})),(0,B.useListener)(window,"click",(()=>{const e=ie.current;e!==te.current&&e!==ae.current&&e!==ne.current||ke()}));const Pe=()=>{const{selectedLayer:e}=$.mediaEditorData;e&&z(e)},Oe=e=>{"Backspace"!==e.code||e.target instanceof HTMLInputElement||e.target instanceof HTMLDivElement&&"true"===e.target.contentEditable||fe||Pe()},Te=()=>{const e=(()=>{if(!re.current)throw(0,N.default)("MediaEditor:canvas is not initialized");return re.current.getDataUrl()})();return R.default.dataURLtoFile(e)},xe=()=>{if(null!=re.current){const{width:e,height:t}=re.current.getStage().attrs;if(0!==e&&0!==t){const e=Te(),t=window.URL.createObjectURL(e);$.updateEditedFile(e),$.updatePreview(t),$.updateFullPreview(t)}}},Ie=(0,j.default)((()=>{oe.current&&((0,T.cancelIdleCallback)(oe.current),oe.current=null),oe.current=(0,T.requestIdleCallback)(xe)}),1e3),Re=e=>{(null==e?void 0:e.immediately)?xe():Ie()};(0,A.useEffect)((()=>(window.addEventListener("resize",we),window.addEventListener("keydown",Oe),we(),()=>{window.removeEventListener("resize",we),window.removeEventListener("keydown",Oe),Re({immediately:!0})})),[]);const Le=(0,F.default)(),Ne=()=>{if(fe)_e();else if(ce)Ce();else if(me)V(),Me();else if(Y){var e;null===(e=re.current)||void 0===e||e.endTextEditing()}else be().selectedLayer&&K()},De=e=>{Z(be().rotation+e,be().cropOrigin,be().cropSize)},Ae=()=>{Z(0,new f.default({x:0,y:0}),be().size)},je=(e,t)=>{Z(be().rotation,e,t)},Fe=(e,t)=>{e===r.MediaEditorAction.OutlineDone?(ke(),Me()):e===r.MediaEditorAction.Outline?(Se()&&Me(),t===r.MediaEditorAction.Outline&&Me()):e===r.MediaEditorAction.CropRotateCanvas&&(ke(),t===r.MediaEditorAction.CropRotateCanvas&&_e())},Be=(e,t)=>{e===r.MediaEditorAction.OutlineDone?ke():e===r.MediaEditorAction.Outline?Se()||Me():e===r.MediaEditorAction.CropRotateCanvas?(ke(),_e()):t===r.MediaEditorAction.CropRotateCanvas&&e!==r.MediaEditorAction.CropRotateCanvas&&ke()},We=()=>{const e=$.mediaEditorData;return(0,P.calculateContainScale)(e.screenWidth,e.screenHeight,ue,U)},He=()=>{const e=$.mediaEditorData;return new p.default({width:e.screenWidth,height:e.screenHeight})},Ue=()=>{var e;return null===(e=re.current)||void 0===e?void 0:e.getBackground()};(0,A.useImperativeHandle)(t,(()=>({updatePreview:Re,undoAction:Fe,redoAction:Be,getCanvasScale:We,getCanvasSize:He,resetUIState:ke,getBackground:Ue})));const ze=$.mediaEditorData,Ge=e.draftTextLayer||ze.selectedLayer;let qe;if(fe)qe=A.default.createElement(_.CropRotateToolbar,{canReset:ze.isRotated()||ze.isCropped(),onRotateCanvas:De,onReset:Ae});else if(me)qe=A.default.createElement(M.OutlineToolbar,{smoothing:e.outlineSmoothing,onSmoothingToggle:e.onOutlineSmoothingToggle,canReset:ze.isOutlined(),onReset:e.onOutlineReset});else if(Ge){const t=Ge instanceof g.ImageLayer&&Ge.isBackground();Ge instanceof E.TextLayer?qe=A.default.createElement(v.TextToolbar,{ref:le,textLayer:Ge,onAlignmentSelect:e.onAlignmentSelect,onFontSelect:e.onFontSelect,onTextBackgroundToggle:e.onTextBackgroundToggle,onTextColorSelect:e.onTextColorSelect,onDeleteLayer:Pe}):t||(qe=A.default.createElement(A.default.Fragment,null,Ge instanceof h.BlurLayer?A.default.createElement(C.BlurToolbar,{blurMode:Ge.mode,blurRadius:Ge.radius,onBlurModeChange:e.onBlurModeChange,onBlurRadiusChange:e.onBlurRadiusChange}):null,A.default.createElement(b.ToolbarButton,{icon:A.default.createElement(o.DeleteIcon,{displayInline:!0}),title:D.fbt._("Delete",null,{hk:"1XGJJN"}),onClick:Pe})))}else ce&&(qe=A.default.createElement(A.default.Fragment,null,A.default.createElement(w.default,{colors:(0,c.getAllColors)().map((e=>({primaryColor:(0,c.getColorValue)(e)}))),onColorSelect:e.onPaintColorSelect,selectedColor:n}),A.default.createElement(k.default,{thicknesses:(0,s.getAllThicknesses)(),onThicknessSelect:e.onPaintThicknessSelect,selectedThickness:a})));const Ve=!qe&&!e.draftTextLayer&&!e.sendAsSticker,Ye=A.default.createElement(i.FlexRow,{className:(0,l.classnamesConvertMeToStylexPlease)({[m.default.captionInputHidden]:!Ve,[m.default.captionInputContainer]:!0}),justify:"center"},A.default.createElement(d.default,{key:$.id,chat:e.chat,caption:$.caption,viewOnce:e.viewOnce,viewOnceDisabled:e.viewOnceDisabled,msgType:O.MSG_TYPE.IMAGE,theme:"image",onToggleViewOnce:e.onToggleViewOnce,onChange:e.onCaptionChange,onEnter:e.onEnter,onFiles:e.onFiles,setCaptionInputRef:t=>{e.setCaptionInputRef($.id,t)}})),Ke=A.default.createElement(i.FlexRow,{justify:"center",align:"center",className:m.default.footer,ref:ae},qe&&A.default.createElement(i.FlexRow,{justify:"center",align:"center",className:m.default.bottomToolbar},qe),Ye);let Xe=null;fe&&(Xe=A.default.createElement(y.default,{data:ze,rotation:be().rotation,cropOrigin:be().cropOrigin,cropSize:be().cropSize,onCropChange:je,containerSize:ue,keepRatio:e.sendAsSticker,sendAsSticker:e.sendAsSticker}));const Ze=fe||ce||me||ge||ye||Boolean(e.draftTextLayer)||Boolean(be().selectedLayer);return A.default.createElement("div",{className:m.default.container},A.default.createElement(i.FlexRow,{className:m.default.header,ref:ne},J?A.default.createElement("div",{className:m.default.closeButton},A.default.createElement(I.default,{onClick:J,"aria-label":D.fbt._("Close",null,{hk:"gQq3k"})},A.default.createElement(L.XIcon,null))):A.default.createElement("div",{className:m.default.closeButtonPlaceholder}),A.default.createElement(S.default,{selectedLayer:Ge,inPaintMode:ce,inCropRotateMode:fe,inTextEditingMode:Boolean(e.draftTextLayer),inOutlineMode:me,canUndo:e.canUndo,canRedo:e.canRedo,onPaintSelect:()=>{Ce(),X()},onChangeQuality:t=>{(0,x.unproxy)(e.attachMedia).updateQuality(t)},selectedQuality:$.quality,hdEligible:$.hdEligible&&!ee,metadataByQuality:$.metadataByQuality,onCropRotateSelect:()=>{_e()},onOutlineSelect:()=>{Me(),Q()},onTextSelect:e.onTextSelect,onEmojiSelect:e.onEmojiSelect,onStickerSelect:e.onStickerSelect,onToggleEmojiPanel:e=>{Ee(e)},onToggleStickerPanel:e=>{ve(e)},onBlurSelect:e.onBlurSelect,onUndo:e.onUndo,onRedo:e.onRedo,showOutline:e.sendAsSticker}),A.default.createElement(i.FlexRow,{className:m.default.headerRight,justify:"end"},Ze&&A.default.createElement(b.ToolbarButton,{onClick:Ne},D.fbt._("Done",null,{hk:"2nVR7W"})))),A.default.createElement("div",{ref:te,className:(0,l.classnamesConvertMeToStylexPlease)({[m.default.cropRotateContainer]:fe,[m.default.canvasContainer]:!0})},A.default.createElement("div",{className:m.default.canvas,style:{display:fe?"none":"unset"}},A.default.createElement(u.default,{ref:re,data:ze,inPaintMode:ce,inOutlineMode:me,paintColor:n,paintThickness:a,outlineSmoothing:H,currentlyEditingTextLayer:e.currentlyEditingTextLayer,draftTextLayer:e.draftTextLayer,scale:We(),onLayerSelect:e.onLayerSelect,onLayerUnselect:e.onLayerUnselect,onLayerTranslate:e.onLayerTranslate,onLayerTransform:e.onLayerTransform,onTextEditingStart:e=>{Le(),G(e)},onTextEditingEnd:(e,t)=>{Le(),q(e,t)},onTextInputOutsideClick:e=>{var t,n;const a=e.target;return!(a instanceof HTMLElement&&a.closest(`.${m.default.footer}`)&&a!==ae.current||(null===(t=le.current)||void 0===t?void 0:t.isColorPanelVisible())||(null===(n=le.current)||void 0===n?void 0:n.isFontMenuVisible()))},onPaintDrawEnd:e.onPaintDrawEnd,onOutlineDrawEnd:e.onOutlineDrawEnd,onOutlineDone:Ne,canEditBackground:e.sendAsSticker,outlineEnabled:e.sendAsSticker})),Xe),Ke)}));t.ImageBody=z,z.displayName="ImageBody"},849664:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),l=a(n(618446)),o=a(n(170225)),i=n(153724),u=n(931434),d=n(769662),c=a(n(554e3)),s=a(n(551004)),f=a(n(95713)),p=n(695710),m=n(477540),h=n(272802),g=n(102826),E=n(398573),y=n(139519),v=a(n(556869)),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const w="#52F818";function _(e){let{canEditBackground:t,canEditLayer:n,canvasContextRef:a,currentlyEditingTextLayer:r,data:l,dragging:o,inOutlineMode:i,inPaintMode:u,isEditingBackground:d,onDoubleClick:c,onDragEnd:s,onDragMove:f,onDragStart:p,onSelect:h,onTransformEnd:g,onTransformStart:E,scale:y,selectedGroupRef:v,selectedNodeRef:b,transformerRef:w}=e;const _=!1;return C.default.createElement(C.default.Fragment,null,t&&l.background&&C.default.createElement(M,{layer:l.background,hidden:!d(),data:l,scale:y,dragging:o,canEditLayer:n,inPaintMode:u,inOutlineMode:i,currentlyEditingTextLayer:r,selectedGroupRef:v,selectedNodeRef:b,transformerRef:w,onSelect:h,onDoubleClick:c,onDragMove:f,onDragStart:p,onDragEnd:s,onTransformStart:E,onTransformEnd:g}),!d()&&l.layers.filter((e=>e instanceof m.BlurLayer)).map((e=>C.default.createElement(M,{key:String(e.id),layer:e,hidden:_,data:l,scale:y,dragging:o,canEditLayer:n,inPaintMode:u,inOutlineMode:i,currentlyEditingTextLayer:r,selectedGroupRef:v,selectedNodeRef:b,transformerRef:w,onSelect:h,onDoubleClick:c,onDragMove:f,onDragStart:p,onDragEnd:s,onTransformStart:E,onTransformEnd:g}))),l.paintLayer&&C.default.createElement(M,{layer:l.paintLayer,hidden:_,data:l,scale:y,dragging:o,canEditLayer:n,inPaintMode:u,inOutlineMode:i,currentlyEditingTextLayer:r,selectedGroupRef:v,selectedNodeRef:b,transformerRef:w,onSelect:h,onDoubleClick:c,onDragMove:f,onDragStart:p,onDragEnd:s,onTransformStart:E,onTransformEnd:g}),l.layers.filter((e=>!(e instanceof m.BlurLayer))).map((e=>C.default.createElement(M,{key:String(e.id),layer:e,hidden:_,data:l,scale:y,dragging:o,canEditLayer:n,inPaintMode:u,inOutlineMode:i,currentlyEditingTextLayer:r,selectedGroupRef:v,selectedNodeRef:b,transformerRef:w,onSelect:h,onDoubleClick:c,onDragMove:f,onDragStart:p,onDragEnd:s,onTransformStart:E,onTransformEnd:g}))))}function S(e){let{getStage:t,guides:n,guidesLayerRef:a,scale:r}=e;const{vertical:l,horizontal:o}=n;if(!l&&!o)return null;const i=t();return C.default.createElement(y.Layer,{key:"guides",ref:a},l&&C.default.createElement(y.Line,{key:"vertical",x:l.position/r,y:0,points:[0,0,0,i.height()/r],stroke:w,strokeWidth:1,strokeScaleEnabled:!1}),o&&C.default.createElement(y.Line,{key:"horizontal",x:0,y:o.position/r,points:[0,0,i.width()/r,0],stroke:w,strokeWidth:1,strokeScaleEnabled:!1}))}function M(e){let{canEditLayer:t,currentlyEditingTextLayer:n,data:a,dragging:r,hidden:l,inOutlineMode:o,inPaintMode:i,layer:u,onDoubleClick:c,onDragEnd:s,onDragMove:f,onDragStart:p,onSelect:m,onTransformEnd:h,onTransformStart:g,scale:E,selectedGroupRef:y,selectedNodeRef:v,transformerRef:b}=e;const w=a.selectedLayer===u&&n!==u,_=a.screenWidth*E,S=a.screenHeight*E,M=a.cropSize.dimension,k=u.editable&&t&&!i&&!o&&!n;return C.default.createElement(d.CanvasLayer,{key:String(u.id),layer:u,scale:E,canvasRotation:a.rotation,textBackgroundShadow:!r,dimension:M,editing:n===u,selected:w,editable:k,stageHeight:S,stageWidth:_,selectedGroupRef:e=>{y.current=e},selectedNodeRef:e=>{v.current=e},transformerRef:e=>{b.current=e},onSelect:m,onDoubleClick:c,onDragMove:f,onDragStart:p,onDragEnd:s,onTransformStart:g,onTransformEnd:h,hidden:l})}function k(e){let{data:t,draftTextLayer:n,editableTextRef:a,onLayerUnselect:r,onTextInputOutsideClick:l,onTextSave:o,scale:i}=e;if(!n)return null;const d=t.toScreenPoint(n.frame.getCenter());return C.default.createElement(u.EditableText,{ref:a,layer:n,layerCenter:d,text:n.text,scale:i,onSave:o,onUnselect:r,onOutsideClick:l})}function P(e,t){var n;const{inPaintMode:a=!1,inOutlineMode:u=!1,paintColor:d=g.Color.White,paintThickness:m=p.ThicknessType.MEDIUM,outlineSmoothing:b=!0,canEditLayer:w=!0,canEditBackground:M=!1,outlineEnabled:P=!1,currentlyEditingTextLayer:O=null,draftTextLayer:T=null,onLayerSelect:x=(()=>{}),onLayerUnselect:I=(()=>{}),onLayerTranslate:R=(()=>{}),onLayerTransform:L=(()=>{}),onTextEditingStart:N=(()=>{}),onTextEditingEnd:D=(()=>{}),onTextInputOutsideClick:A=(()=>!0),onPaintDrawEnd:j=(()=>{}),onOutlineDrawEnd:F=(()=>{}),onOutlineDone:B=(()=>{}),scale:W,data:H}=e,U=(0,C.useRef)(null),z=(0,C.useRef)(null),G=(0,C.useRef)(null),q=(0,C.useRef)(null),V=(0,C.useRef)(null),Y=(0,C.useRef)(null),K=(0,C.useRef)(null),X=(0,C.useRef)(null),Z=(0,C.useRef)(null),Q=(0,C.useRef)(null),J=(0,C.useRef)({dragging:!1,transforming:!1,editing:!1,canEditBackground:M}),[$,ee]=(0,C.useState)({horizontal:null,vertical:null}),[te,ne]=(0,C.useState)(!1),[ae,re]=(0,C.useState)(!1),[le,oe]=(0,C.useState)("crosshair"),ie=()=>{if(!U.current)throw(0,v.default)("MediaEditorCanvas:stage is not initialized");return U.current.getStage()};(0,C.useEffect)((()=>{var e,t,n;G.current&&(null===(e=q.current)||void 0===e||e.nodes([G.current]),null===(t=q.current)||void 0===t||null===(n=t.getLayer())||void 0===n||n.batchDraw())}));const ue=()=>{var e,t,n,a,r,l,o,i,u,d,c;null===(e=q.current)||void 0===e||e.hide(),null===(t=z.current)||void 0===t||null===(n=t.getChildren()[1])||void 0===n||n.hide(),null===(a=z.current)||void 0===a||null===(r=a.getChildren()[2])||void 0===r||r.hide(),null===(l=V.current)||void 0===l||l.hide(),null===(o=K.current)||void 0===o||o.toggleCursor(!1),null===(i=X.current)||void 0===i||i.hide(),null===(u=q.current)||void 0===u||null===(d=u.getLayer())||void 0===d||d.batchDraw(),null===(c=Y.current)||void 0===c||c.hide();const s=ie().toDataURL({mimeType:"image/png",quality:1,pixelRatio:1/W});var f,p,m,h,g,E,y,v,C,b,w;return null===(f=q.current)||void 0===f||f.show(),null===(p=z.current)||void 0===p||null===(m=p.getChildren()[1])||void 0===m||m.show(),null===(h=z.current)||void 0===h||null===(g=h.getChildren()[2])||void 0===g||g.show(),null===(E=V.current)||void 0===E||E.show(),null===(y=K.current)||void 0===y||y.toggleCursor(!0),null===(v=X.current)||void 0===v||v.show(),null===(C=q.current)||void 0===C||null===(b=C.getLayer())||void 0===b||b.batchDraw(),null===(w=Y.current)||void 0===w||w.show(),s},de=()=>{var e;return null===(e=Q.current)||void 0===e?void 0:e.toCanvas()},ce=()=>{var e;null===(e=Z.current)||void 0===e||e.save()},se=()=>(te||ae)&&H.selectedLayer===H.background;(0,C.useImperativeHandle)(t,(()=>({getStage:ie,getDataUrl:ue,endTextEditing:ce,getBackground:de})));const fe=H.screenWidth/2,pe=H.screenHeight/2,me=H.toScreenPoint(H.cropCenter),he=H.toScreenPoint(H.canvasCenter),ge=fe-(me.x-he.x),Ee=pe-(me.y-he.y),ye=H.cropSize.dimension;return C.default.createElement(C.default.Fragment,null,C.default.createElement(y.Stage,{ref:U,width:H.screenWidth*W,height:H.screenHeight*W,onMouseDown:e=>{O||(0,E.isEventOnAnchor)(e)||I()},scaleX:W,scaleY:W,style:(0,r.default)({cursor:a?"none":u?le:"default"},null!==(n=e.style)&&void 0!==n?n:{})},C.default.createElement(i.CanvasContext.Provider,{value:J.current},P&&C.default.createElement(y.Layer,{x:ge,y:Ee,offsetX:H.width/2,offsetY:H.height/2,rotation:H.rotation,key:"transparent"},C.default.createElement(f.default,{ref:Y,width:H.width,height:H.height})),C.default.createElement(y.Layer,{x:ge,y:Ee,offsetX:H.width/2,offsetY:H.height/2,rotation:H.rotation,key:"background"},C.default.createElement(o.default,{ref:Q,layer:H.background,outlineLayer:H.outlineLayer,dimension:ye,removeBackground:P&&!u,scale:W,visible:!se()})),C.default.createElement(y.Layer,{x:ge,y:Ee,offsetX:H.width/2,offsetY:H.height/2,rotation:H.rotation,key:"edits"},C.default.createElement(_,{canEditBackground:M,data:H,scale:W,canvasContextRef:J,isEditingBackground:se,canEditLayer:w,dragging:te,inPaintMode:a,inOutlineMode:u,currentlyEditingTextLayer:O,selectedGroupRef:z,selectedNodeRef:G,transformerRef:q,onSelect:e=>{x(e)},onDoubleClick:e=>{e instanceof h.TextLayer&&N(e)},onDragMove:(e,t)=>{var n,a,r,o;const i=[{position:ie().width()/2,orientation:"v"},{position:ie().height()/2,orientation:"h"}],u=t.target,d=u.absolutePosition(),c=[{position:d.y,orientation:"h"},{position:d.x,orientation:"v"}],s=[];for(const e of c)for(const t of i){if(e.orientation!==t.orientation)continue;const n=Math.abs(t.position-e.position);n<=15&&s.push({guide:t,distance:n})}s.sort(((e,t)=>e.distance-t.distance));let f=null,p=null;for(const{guide:e}of s)"v"!==e.orientation||f?"h"!==e.orientation||p||(p=e):f=e;u.absolutePosition({x:null!==(n=null===(a=f)||void 0===a?void 0:a.position)&&void 0!==n?n:d.x,y:null!==(r=null===(o=p)||void 0===o?void 0:o.position)&&void 0!==r?r:d.y});const m={horizontal:p,vertical:f};(0,l.default)($,m)||ee(m)},onDragStart:()=>{J.current.dragging=!0,ne(!0)},onDragEnd:(e,t)=>{J.current.dragging=!1,R(e,t),ee({vertical:null,horizontal:null}),ne(!1)},onTransformStart:()=>{J.current.transforming=!0,re(!0)},onTransformEnd:(e,t,n,a)=>{J.current.transforming=!1,L(e,t,n,a),re(!1)}})),C.default.createElement(S,{guides:$,scale:W,guidesLayerRef:V,getStage:ie}),a&&C.default.createElement(s.default,{ref:K,width:H.screenWidth,height:H.screenHeight,scale:W,pathStyle:{color:d,thickness:(0,p.getThicknessValue)(m),smoothing:!1},data:H,onDrawEnd:j}),u&&C.default.createElement(c.default,{ref:X,width:H.screenWidth,height:H.screenHeight,scale:W,data:H,smoothing:b,onDrawEnd:F,onDone:B,onCursorChange:e=>{oe(e)}}))),C.default.createElement(k,{draftTextLayer:T,data:H,editableTextRef:Z,scale:W,onTextSave:e=>{T&&D(T,e)},onLayerUnselect:I,onTextInputOutsideClick:A}))}_.displayName="Layers",S.displayName="Guides",M.displayName="CanvasLayerWrapper",k.displayName="EditableTextView";var O=(0,C.forwardRef)(P);t.default=O},170225:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(588750),l=a(n(367838)),o=n(964643),i=n(139519),u=n(432938),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function s(e,t){let{layer:n,outlineLayer:a,dimension:c,removeBackground:s,scale:f,visible:p}=e;const m=(0,d.useRef)(),h=(0,d.useRef)();if((0,d.useImperativeHandle)(t,(()=>({toCanvas(){var e;const t=null===(e=h.current)||void 0===e?void 0:e.getBoundingRect(),n=m.current;if(!t||!n||t.size.isEmpty())return;const{x:a,y:l,width:o,height:i}=t;var d;null===(d=h.current)||void 0===d||d.show();const c=n.toCanvas({x:a,y:l,width:o,height:i,pixelRatio:1/f});var s;null===(s=h.current)||void 0===s||s.hide();const p=Math.max(c.width,c.height),g=Math.max(Math.ceil(u.STICKER_BORDER_WIDTH*(p/u.STICKER_DIMENSION)),2),E=(0,r.addBorder)(c,g);return(0,r.trim)(E)}}))),!n||!a)return null;const g=n.frame.getCenter();return d.default.createElement(i.Group,{ref:m,visible:p},d.default.createElement(i.Group,{x:g.x,y:g.y,offsetX:n.width/2,offsetY:n.height/2,width:n.width,height:n.height,rotation:n.rotation,scaleX:n.scale,scaleY:n.scale},d.default.createElement(l.default,{layer:n})),d.default.createElement(o.Outline,{ref:h,layer:a,dimension:c}))}var f=(0,d.forwardRef)(s);t.default=f},778326:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(477540),l=n(139519),o=a(n(820185)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){var t,n,a,u,d,c;let{frame:s,layer:f,onTransform:p,onTransformEnd:m,onTransformStart:h,scale:g,selectedNodeRef:E,showPadding:y}=e;const v=(0,i.useRef)();(0,i.useEffect)((()=>{var e;null==v||null===(e=v.current)||void 0===e||e.cache({pixelRatio:.4,imageSmoothingEnabled:!1})}),[f.image]);const C=y?50:0,b=null!==(t=null==s?void 0:s.x)&&void 0!==t?t:f.x,w=null!==(n=null==s?void 0:s.y)&&void 0!==n?n:f.y,_=null!==(a=null==s?void 0:s.width)&&void 0!==a?a:f.width,S=null!==(u=null==s?void 0:s.height)&&void 0!==u?u:f.height,M=(null!=g?g:1)*f.backgroundFrame.scale*3/.4,k=-b+f.backgroundFrame.width/2+f.backgroundFrame.x,P=-w+f.backgroundFrame.height/2+f.backgroundFrame.y,O=f.backgroundFrame.width+C/f.backgroundFrame.scale*2,T=f.backgroundFrame.height+C/f.backgroundFrame.scale*2;return i.default.createElement(l.Group,{width:_,height:S,clipX:0,clipY:0,clipWidth:_,clipHeight:S},i.default.createElement(l.Image,{ref:v,x:k,y:P,width:O,height:T,offsetX:O/2,offsetY:T/2,fillPatternImage:f.image,fillPatternOffsetX:-C/f.backgroundFrame.scale,fillPatternOffsetY:-C/f.backgroundFrame.scale,fillPatternRepeat:"no-repeat",scaleX:f.backgroundFrame.scale,scaleY:f.backgroundFrame.scale,rotation:null!==(d=null===(c=f.backgroundFrame)||void 0===c?void 0:c.rotation)&&void 0!==d?d:0,perfectDrawEnabled:!1,filters:[f.mode===r.BlurMode.Smooth?o.default.Filters.Blur:o.default.Filters.Pixelate],blurRadius:f.radius/M,pixelSize:f.radius/M}),i.default.createElement(l.Rect,{ref:E,x:0,y:0,width:_,height:S,fill:"transparent",onTransformStart:h,onTransformEnd:m,onTransform:p}))}d.displayName="BlurCanvas"},153724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasContext=void 0;const a={transforming:!1,dragging:!1,editing:!1,canEditBackground:!1},r=(0,n(667294).createContext)(a);t.CanvasContext=r},931434:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EditableText=void 0;var r=a(n(967154)),l=a(n(81109)),o=a(n(618446)),i=n(664149),u=n(637624),d=n(490836),c=n(920202),s=n(150610),f=n(272269),p=n(392632),m=a(n(37875)),h=n(676345),g=n(548360),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),y=a(n(156720)),v=n(667100),C=a(n(49710)),b=a(n(83233));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const _={positioner:{position:"lhggkp7q",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"jbm6vef4",height:"bbl9m3t3"},container:{boxSizing:"cm280p3y",borderTop:"fexf46gg",borderEnd:"a6hdn73q",borderBottom:"rswuywtv",borderStart:"fn83zwbf",borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",borderBottomEndRadius:"hwxn6iyz",borderBottomStartRadius:"dtx25v1e",borderTopWidth:"o6maxiec",borderEndWidth:"gmqjtjz9",borderBottomWidth:"po2rmeaw",borderStartWidth:"ri1nbnxe"},inputContainer:{position:"g0rxnol2"},inputWrapper:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ctjs45qd",width:"ln8gz9je",height:"ppled2lx",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},inputText:{fontSize:"fe5nidar"},emojiButton:{transform:"t9w6h8zt",top:"chytebbc",position:"lhggkp7q",start:"m7kgcvyw",color:"c613fk18"},emojiButtonWrapper:{cursor:"ajgl1lbb",backgroundColor:"ur864smd",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",":hover":{backgroundColor:"tcskrox1"}}},S=(0,E.forwardRef)(((e,t)=>{let{text:n,layer:a,layerCenter:c,scale:w,onSave:S,onUnselect:k,onOutsideClick:P}=e;const[O,x]=(0,E.useState)(n),[I,R]=(0,E.useState)(),L=(0,E.useRef)(),N=(0,E.useCallback)((()=>{S(O.replace(/^\n+/,"").replace(/\n+$/,""))}),[S,O]);(0,E.useImperativeHandle)(t,(()=>({save:()=>{N(),k()}})),[N,k]);const D=(0,v.useOnOutsideClickRef)((e=>{I||!1===(null==P?void 0:P(e))||(N(),k())})),A=e=>{const t=L.current;t&&t.replaceSelection(e)},j=()=>{R(null)},[F,B]=(0,b.default)((e=>{R({menu:E.default.createElement(u.EmojiPanel,{onEmoji:A,onFocusNext:j,onFocusPrev:j}),anchor:e.target})}));(0,E.useEffect)((()=>{var e;null===(e=L.current)||void 0===e||e.focus()}),[]);const W={left:c.x*w,top:c.y*w},H={color:a.textColor.toHex(),fontFamily:(0,d.getFontStyle)(a.font).fontFamily,textAlign:M(a.alignment),paddingLeft:a.styles.lineHorizontalPadding+1,paddingRight:a.styles.lineHorizontalPadding+1,paddingTop:1,paddingBottom:1,borderWidth:0,borderRadius:6,margin:0,boxSizing:"border-box",backgroundColor:a.textBackground?a.textBackgroundColor.toHex():void 0},U=a.styles.backgroundShadow,z=(0,l.default)((0,l.default)({},H),{},{boxShadow:a.textBackground?`${U.offsetX}px ${U.offsetY}px ${U.radius}px ${U.spread}px ${U.color.toRgbaString()}`:void 0}),G=function(e){const t=(0,C.default)(e),n=(0,E.useRef)(0);t&&!(0,o.default)(t,e)&&(n.current+=1);return n.current}(H),q=g.fbt._("Type something",null,{hk:"15NglL"});return E.default.createElement("div",{className:(0,y.default)(_.positioner),style:W},E.default.createElement("div",{className:(0,y.default)(_.container,h.uiPadding.all4)},E.default.createElement("div",{className:(0,y.default)(_.inputContainer),ref:D},E.default.createElement("div",(0,r.default)({className:(0,y.default)(_.emojiButton)},B,{ref:F}),E.default.createElement("div",{className:(0,y.default)(_.emojiButtonWrapper,h.uiPadding.all2)},E.default.createElement(f.SmileyIcon,null))),E.default.createElement("div",{className:(0,y.default)(_.inputWrapper),style:z},E.default.createElement(s.RichTextInput,{key:G,ref:L,textXstyle:_.inputText,initialText:O,onChange:e=>{x(e.text)},onEnter:N,multiline:!0,placeholder:q})),E.default.createElement(T,{layer:a,draftText:O,placeholderText:q,textStyle:H}))),I&&E.default.createElement(p.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:j},E.default.createElement(m.default,{contextMenu:(0,l.default)({dirY:i.DirY.TOP,type:i.MenuType.EmojiPicker},I)})))}));function M(e){switch(e){case d.TextAlignment.LEFT:return"left";case d.TextAlignment.CENTER:return"center";case d.TextAlignment.RIGHT:return"right"}}t.EditableText=S,S.displayName="EditableText";const k={boxSizing:"cm280p3y",whiteSpace:"bbv8nyr4",visibility:"kojwoqec"},P={whiteSpace:"ag95hn57"},O={display:"l7jjieqr",width:"cxkis295",height:"qgpfrw6h"};function T(e){let{draftText:t,layer:n,placeholderText:a,textStyle:r}=e,o=(0,l.default)((0,l.default)({},r),{},{fontSize:"17px",lineHeight:"25px",padding:"0 10px"});t||(o=(0,l.default)((0,l.default)({},o),{},{fontFamily:void 0,padding:"0 14px"}));const i=t||a.toString();return E.default.createElement("div",{className:(0,y.default)(k),style:o},(0,c.getLines)(i,n.font,n.fontSize,0).map(((e,t)=>E.default.createElement("div",{className:(0,y.default)(P),key:t},0===e.words.length?" ":e.words.map(((e,t)=>null!=e.emojiPath?E.default.createElement("span",{className:(0,y.default)(O),key:t}):e.text))))))}T.displayName="InputSpacer"},164781:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(102826),l=n(139519),o=a(n(667294));const i=new r.Color(82,248,24,1);function u(e){let{borderRadius:t,layer:n}=e;return o.default.createElement(l.Rect,{width:n.width,height:n.height,stroke:i.toRgbaString(),strokeWidth:2,cornerRadius:t,strokeScaleEnabled:!1})}u.displayName="HoveredState"},367838:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(139519),l=a(n(667294));function o(e){const{layer:t}=e;return l.default.createElement(r.Image,{width:t.width,height:t.height,image:t.image})}o.displayName="ImageCanvas"},769662:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasLayer=S;var r=a(n(778326)),l=n(153724),o=a(n(164781)),i=a(n(367838)),u=n(964643),d=a(n(119073)),c=a(n(699562)),s=a(n(861508)),f=a(n(780246)),p=n(477540),m=n(427698),h=n(950079),g=n(272802),E=n(398573),y=n(139519),v=a(n(261931)),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),b=a(n(38085));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const _=[0,45,90,135,180,225,270,315];function S(e){var t,n,a,w;let{canvasRotation:S,dimension:M,editable:k,editing:P,hidden:O,layer:T,onDoubleClick:x,onDragEnd:I,onDragMove:R,onDragStart:L,onSelect:N,onTransformEnd:D,onTransformStart:A,scale:j,selected:F,selectedGroupRef:B,selectedNodeRef:W,stageHeight:H,stageWidth:U,textBackgroundShadow:z,transformerRef:G}=e;const[q,V]=(0,C.useState)(!1),[Y,K]=(0,C.useState)(null),X=(0,C.useContext)(l.CanvasContext),Z=(0,b.default)(B,W),Q=T instanceof p.BlurLayer,J=T instanceof h.ImageLayer&&(T.isSticker()||T.isBackground()),$=T.frame.getCenter(),ee=null!==(t=null==Y?void 0:Y.x)&&void 0!==t?t:T.x,te=null!==(n=null==Y?void 0:Y.y)&&void 0!==n?n:T.y,ne=null!==(a=null==Y?void 0:Y.width)&&void 0!==a?a:T.width,ae=null!==(w=null==Y?void 0:Y.height)&&void 0!==w?w:T.height;let re=5;J&&(re=40),Q&&(re=0);const le=e=>{if(!F)return;const t=(0,E.getRotationFromGroup)(e),n=(0,E.getScaleFromGroup)(e);D(T,t,n,Y),Q&&K(null)},oe=e=>{if(!F||!Q)return;const t=e.target;t.width(t.width()*t.scaleX()),t.height(t.height()*t.scaleY()),t.scaleX(1),t.scaleY(1);const n=f.default.create({x:ee+t.x(),y:te+t.y(),width:t.width(),height:t.height(),rotation:t.rotation(),scale:T.scale});t.x(0),t.y(0),K(n)};let ie,ue,de,ce;k&&F&&!P&&(ue=C.default.createElement(c.default,{layer:T,borderRadius:re,frame:Y}),ce=C.default.createElement(y.Transformer,{key:"transformer",ref:G,anchorStroke:"blue",anchorFill:"white",anchorSize:8,anchorCornerRadius:4,borderEnabled:!1,centeredScaling:!Q,enabledAnchors:Q?["top-left","top-center","top-right","middle-left","middle-right","bottom-left","bottom-center","bottom-right"]:["bottom-right"],resizeEnabled:!0,rotateAnchorOffset:12,rotateEnabled:!Q,rotationSnaps:_,ignoreStroke:!0,rotationSnapTolerance:10,boundBoxFunc:(e,t)=>{const n=t.width/j,a=t.height/j;if(T instanceof g.TextLayer&&(n<=18||a<=18)||n<=36||a<=36)return e;if(Q){(0,v.default)(t,S),(0,v.default)(e,S);const n={x:{min:0,max:U-t.width},y:{min:0,max:H-t.height}};t.x<n.x.min?(t.width-=n.x.min-t.x,t.x=n.x.min):t.x>n.x.max&&(t.width-=t.x-n.x.max),t.y<n.y.min?(t.height-=n.y.min-t.y,t.y=n.y.min):t.y>n.y.max&&(t.height-=t.y-n.y.max),(0,v.default)(t,S,!0),(0,v.default)(e,S,!0)}return t},keepRatio:!Q})),k&&q&&!F&&(de=C.default.createElement(o.default,{layer:T,borderRadius:re})),T instanceof h.ImageLayer?ie=C.default.createElement(i.default,{layer:T}):T instanceof p.BlurLayer?ie=C.default.createElement(r.default,{layer:T,scale:j,frame:Y,selectedNodeRef:F?W:null,showPadding:X.canEditBackground,onTransformStart:()=>A(T),onTransformEnd:le,onTransform:oe}):T instanceof m.DrawLayer?T.type===m.DrawLayerType.Paint?ie=C.default.createElement(d.default,{layer:T}):T.type===m.DrawLayerType.Outline&&(ie=C.default.createElement(u.Outline,{layer:T,dimension:M})):T instanceof g.TextLayer&&!P&&(ie=C.default.createElement(s.default,{layer:T,shadow:z})),O&&(ie=C.default.createElement(y.Rect,{width:T.width,height:T.height})),(0,C.useEffect)((()=>{P&&V(!1)}),[P,V]);let se=null;return F&&(se=Q?B:Z),C.default.createElement(C.default.Fragment,null,C.default.createElement(y.Group,{ref:se,x:Q?ee:$.x,y:Q?te:$.y,offsetX:Q?0:ne/2,offsetY:Q?0:ae/2,width:ne,height:ae,rotation:T.rotation,scaleX:T.scale,scaleY:T.scale,draggable:k,dragBoundFunc:e=>{const t={x:{min:0,max:U},y:{min:0,max:H}};return Q&&(0===S?(t.x.max-=ne*j,t.y.max-=ae*j):90===S?(t.x.min+=ae*j,t.y.max-=ne*j):180===S?(t.x.min+=ne*j,t.y.min+=ae*j):(t.x.max-=ae*j,t.y.min+=ne*j)),e.x<t.x.min?e.x=t.x.min:e.x>t.x.max&&(e.x=t.x.max),e.y<t.y.min?e.y=t.y.min:e.y>t.y.max&&(e.y=t.y.max),e},onMouseEnter:e=>{!T.editable||X.dragging||X.transforming||(e.cancelBubble=!0,V(!0))},onMouseLeave:e=>{T.editable&&(e.cancelBubble=!0,V(!1))},onMouseDown:e=>{T.editable&&(e.cancelBubble=!0,N(T))},onDblClick:()=>x(T),onDragStart:()=>L(T),onDragEnd:e=>{const t=(0,E.getPointFromGroup)(e);I(T,t),Q&&K(null)},onDragMove:e=>{if(Q){const t=e.target;K(f.default.create({x:t.x(),y:t.y(),width:T.width,height:T.height,rotation:T.rotation,scale:T.scale}))}else R(T,e)},onTransformStart:()=>A(T),onTransformEnd:le,onTransform:oe},ie,ue,de),ce)}S.displayName="CanvasLayer"},964643:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Outline=void 0;var r=a(n(594654)),l=a(n(846870)),o=a(n(780246)),i=n(139519),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){let{layer:n,dimension:a}=e;const d=(0,u.useRef)(),c=(0,u.useRef)();(0,u.useImperativeHandle)(t,(()=>({show(){var e;null===(e=d.current)||void 0===e||e.show()},hide(){var e;null===(e=d.current)||void 0===e||e.hide()},getBoundingRect(){const e=c.current;if(!e)return;const{x:t,y:a,width:r,height:l}=e.getClientRect();return o.default.create({x:t,y:a,width:r,height:l,rotation:n.rotation,scale:n.scale})}})));const s=(0,r.default)(n.getAllPoints(),(e=>[e.x,e.y]));return u.default.createElement(i.Group,{ref:d,width:n.width,height:n.height,visible:!1},u.default.createElement(i.Line,{ref:c,points:s,closed:!0,fill:"white",lineCap:"round",lineJoin:"round",tension:l.default.MEDIA_EDITOR_OUTLINE_TENSION,globalCompositeOperation:"destination-in"}))}const s=(0,u.forwardRef)(c);t.Outline=s,s.displayName="Outline"},554e3:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(967154)),l=a(n(594654)),o=a(n(846870)),i=a(n(503202)),u=n(102826),d=n(139519),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const f="dot-first",p="dot-last";function m(e,t){var n;let{width:a,height:s,scale:m,data:h,smoothing:E,onDrawEnd:y,onDone:v,onCursorChange:C}=e;const b=(0,c.useRef)(),w=(0,c.useRef)(!1),_=(0,c.useRef)("crosshair");(0,c.useEffect)((()=>{C("crosshair")}),[]),(0,c.useImperativeHandle)(t,(()=>({show(){var e;null===(e=b.current)||void 0===e||e.show()},hide(){var e;null===(e=b.current)||void 0===e||e.hide()}})));const{cursorPosition:S,points:M,handlers:k}=(0,i.default)({onDrawStart:()=>{w.current=!0},onDrawEnd:e=>{w.current=!1,y(e)},onDone:v,onMouseMove:e=>{const t=e.target.name()===f,n=w.current,a=t&&!n?"pointer":"crosshair";a!==_.current&&(_.current=a,C(a))},data:h,stage:null===(n=b.current)||void 0===n?void 0:n.getStage(),minPointDistance:12/m,clickThreshold:200,boundToStage:!0,doneTargets:{mousedown:[f,p],mouseup:[f]},pathStyle:{color:u.Color.White,thickness:0,smoothing:E}}),P=h.outlineLayer.getAllPoints().map((e=>h.toScreenPoint(e)));!E&&P.length&&P.push(P[P.length-1]);Boolean(M.length)&&P.push(M[0]),P.push(...M);const O=[...P];!E&&O.length&&O.push(O[O.length-1]),S&&O.push(S);const T=(0,l.default)(O,(e=>[e.x,e.y]));return c.default.createElement(d.Layer,(0,r.default)({ref:b,key:"paintCursor"},k,{width:a,height:s}),c.default.createElement(d.Rect,{x:0,y:0,width:a,height:s,fill:"rgba(0,0,0,0)"}),c.default.createElement(d.Line,{points:T,lineCap:"round",lineJoin:"round",stroke:"#FA6533",strokeWidth:3/m,dash:[12/m,6/m],tension:o.default.MEDIA_EDITOR_OUTLINE_TENSION}),c.default.createElement(g,{points:P,scale:m}))}var h=(0,c.forwardRef)(m);function g(e){let{points:t,scale:n}=e;if(!t.length)return null;const a=t[0],r=t[t.length-1],l=3/n;return c.default.createElement(c.default.Fragment,null,undefined,c.default.createElement(d.Circle,{name:p,x:r.x,y:r.y,radius:l}),c.default.createElement(d.Circle,{x:a.x,y:a.y,radius:l,stroke:"white"}),c.default.createElement(d.Circle,{name:f,x:a.x,y:a.y,radius:4*l}))}t.default=h,g.displayName="ClosingPoints"},119073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(139519),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(667294));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function o(e){let{layer:t}=e;const n=(0,r.useMemo)((()=>{const e=document.createElement("canvas");return e.width=Math.max(t.width,1),e.height=Math.max(t.height,1),e}),[t.width,t.height]),l=(0,r.useRef)();return(0,r.useEffect)((()=>{var e,a;n.getContext("2d").clearRect(0,0,n.width,n.height),t.paths.forEach((e=>function(e,t){const{points:n}=t;if(!n.length)return;const a=e.getContext("2d"),r={color:t.color,thickness:t.thickness,smoothing:!1};(function(e,t){e.lineCap="round",e.lineJoin="round",e.lineWidth=t.thickness,e.strokeStyle=t.color.toHex()})(a,r),a.beginPath(),a.moveTo(n[0].x,n[0].y),n.forEach((e=>a.lineTo(e.x,e.y))),a.stroke()}(n,e))),null===(e=l.current)||void 0===e||null===(a=e.getLayer())||void 0===a||a.batchDraw()}),[t.paths,n]),r.default.createElement(a.Image,{ref:l,width:t.width,height:t.height,image:n,listening:!1})}o.displayName="PaintCanvas"},551004:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(967154)),l=a(n(594654)),o=a(n(503202)),i=n(139519),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const c=(e,t)=>{var n;let{width:a,height:d,scale:c,pathStyle:s,data:f,onDrawEnd:p}=e;const m=(0,u.useRef)(),h=(0,u.useRef)();(0,u.useImperativeHandle)(t,(()=>({toggleCursor(e){const t=h.current;t&&(e?t.show():t.hide())}})));const{cursorPosition:g,points:E,handlers:y}=(0,o.default)({onDrawEnd:p,data:f,pathStyle:s,stage:null===(n=m.current)||void 0===n?void 0:n.getStage()}),v=(0,l.default)(E,(e=>[e.x,e.y]));return u.default.createElement(i.Layer,(0,r.default)({ref:m,key:"paintCursor"},y,{width:a,height:d}),u.default.createElement(i.Rect,{width:a,height:d,fill:"rgba(0, 0, 0, 0)"}),g&&u.default.createElement(i.Circle,{ref:h,x:g.x,y:g.y,radius:s.thickness/2,fill:s.color.toRgbaString()}),u.default.createElement(i.Line,{points:v,lineCap:"round",lineJoin:"round",stroke:s.color.toRgbaString(),strokeWidth:s.thickness}))};var s=(0,u.forwardRef)(c);t.default=s},699562:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(477540),l=n(102826),o=n(139519),i=a(n(667294));const u=new l.Color(82,248,24,1),d=new l.Color(82,248,24,.1),c=new l.Color(0,0,0,0);function s(e){var t,n;let{borderRadius:a,frame:l,layer:s}=e;return i.default.createElement(o.Rect,{width:null!==(t=null==l?void 0:l.width)&&void 0!==t?t:s.width,height:null!==(n=null==l?void 0:l.height)&&void 0!==n?n:s.height,fill:(s instanceof r.BlurLayer?c:d).toRgbaString(),stroke:u.toRgbaString(),strokeWidth:2,cornerRadius:a,strokeScaleEnabled:!1})}s.displayName="SelectedState"},861508:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var a=n(490836),r=n(139519),l=n(920202),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e){let{emojiImages:t,layer:n,line:i}=e;const u=Math.max(...n.lineWidths);let d=0;switch(n.alignment){case a.TextAlignment.LEFT:d=0;break;case a.TextAlignment.CENTER:d=(u-i.width)/2;break;case a.TextAlignment.RIGHT:d=u-i.width}let c=0;return i.words.map(((e,i)=>{let{text:u,emojiPath:s,width:f}=e;const p=d+n.styles.lineHorizontalPadding+c,m=n.styles.lineVerticalPadding;let h;if(s){const e=t[s];h=e?o.default.createElement(r.Image,{key:i,x:p,y:m,width:n.lineHeight,height:n.lineHeight,image:e}):o.default.createElement(r.Rect,{key:i,x:p,y:m,width:n.lineHeight,height:n.lineHeight,fill:"rgba(0,0,0,0)"})}else{const e=(0,l.getTextBounds)(n.font,n.fontSize);h=o.default.createElement(r.Text,{key:i,x:p,y:m-e.top+(e.top+e.bottom)/2,width:f,height:n.lineHeight,text:u,fill:n.textColor.toHex(),fontFamily:(0,a.getFontStyle)(n.font).fontFamily,fontSize:n.fontSize})}return c+=f,h}))}function d(e){let{layer:t,shadow:n}=e;const a=function(e){const t=[];for(const n of e)for(const{emojiPath:e}of n.words)e&&t.push(e);return function(e){const t=Array.from(new Set(e)),n=t.join(""),a=(0,o.useRef)({}),[,r]=(0,o.useState)(0);return(0,o.useEffect)((()=>{a.current={},r(0),t.forEach((e=>{const t=new Image;t.onload=()=>{a.current[e]=t,r(Object.keys(a.current).length)},t.src=e}))}),[r,n]),a.current}(t)}(t.lines),l=t.lines.map(((e,n)=>{const l=e.width+2*t.styles.lineHorizontalPadding,i=t.lineHeight+2*t.styles.lineVerticalPadding;return o.default.createElement(r.Group,{width:l,height:i,y:n*i,key:n},o.default.createElement(u,{line:e,layer:t,emojiImages:a}))})),{backgroundShadow:i}=t.styles;return o.default.createElement(r.Group,{visible:0!==t.width,width:t.width,height:t.height},o.default.createElement(r.Group,{x:t.styles.layerPadding,y:t.styles.layerPadding},t.textBackground&&(n?o.default.createElement(r.Path,{key:"1",data:t.backgroundPath,stroke:t.textBackgroundColor.toHex(),fill:t.textBackgroundColor.toHex(),shadowColor:i.color.toHex(),shadowBlur:i.radius,shadowOffset:{x:i.offsetX,y:i.offsetY},shadowOpacity:i.color.alpha}):o.default.createElement(r.Path,{key:"2",data:t.backgroundPath,stroke:t.textBackgroundColor.toHex(),fill:t.textBackgroundColor.toHex()})),l))}u.displayName="Words",d.displayName="TextCanvas"},95713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(102826),r=n(139519),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=r?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}const i=new a.Color(230,230,230).toRgbString(),u=new a.Color(255,255,255).toRgbString();function d(e,t){let{width:n,height:a}=e;const o=(0,l.useRef)();(0,l.useImperativeHandle)(t,(()=>({hide(){var e;null===(e=o.current)||void 0===e||e.hide()},show(){var e;null===(e=o.current)||void 0===e||e.show()}})));const d=(0,l.useMemo)((()=>{const e=document.createElement("canvas");return e.width=Math.max(n,1),e.height=Math.max(a,1),e}),[n,a]);return(0,l.useEffect)((()=>{var e,t;const r=d.getContext("2d");r.clearRect(0,0,d.width,d.height);const l=20,c=Math.ceil(n/l),s=Math.ceil(a/l);for(let e=0;e<s;e++)for(let t=0;t<c;t++){const n=(e+t)%2==0?u:i;r.beginPath(),r.rect(t*l,e*l,l,l),r.fillStyle=n,r.fill()}null===(e=o.current)||void 0===e||null===(t=e.getLayer())||void 0===t||t.batchDraw()}),[d,n,a]),l.default.createElement(r.Image,{ref:o,width:n,height:a,image:d})}var c=(0,l.forwardRef)(d);t.default=c},503202:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onDrawStart:t,onDrawEnd:n,onDone:a,onMouseMove:c,data:s,minPointDistance:f=0,clickThreshold:p=0,boundToStage:m=!1,pathStyle:h,stage:g,doneTargets:E={}}=e;const[y,v]=(0,o.useState)(),C=(0,o.useRef)([]),b=(0,o.useRef)(!1),w=(0,i.default)(),_=(0,u.default)(p),S=(0,o.useRef)(!1);return(0,d.useListener)(window,"mouseup",(()=>{if(b.current=!1,0!==C.current.length){const e=C.current.map((e=>s.toCanvasPoint(e)));n((0,r.default)({points:e},h)),C.current=[],w()}})),(0,d.useListener)(window,"mousemove",(e=>{const t=(0,l.getPointFromStage)(e,g,m),n=m&&b.current;if(v(n?(0,l.getPointFromStage)(e,g,!0):t),b.current){const e=C.current,n=e[e.length-1];(!n||n.distance(t)>=f&&_()||(0,l.isStageCorner)(t,g))&&e.push(t)}})),(0,o.useEffect)((()=>{S.current&&(null==a||a(),S.current=!1)})),{cursorPosition:y,points:C.current,handlers:{onMouseDown:e=>{var n;if(null==t||t(),null===(n=E.mousedown)||void 0===n?void 0:n.includes(e.target.name()))return void(null==a||a());const r=(0,l.getPointFromStage)(e.evt,g,m);C.current.push(r),b.current=!0,w()},onMouseUp:e=>{var t;const n=!0===(null===(t=E.mouseup)||void 0===t?void 0:t.includes(e.target.name())),a=1===C.current.length;n&&!a&&(S.current=!0)},onMouseMove:e=>{null==c||c(e)}}}};var r=a(n(81109)),l=n(398573),o=n(667294),i=a(n(969651)),u=a(n(173845)),d=n(808446)},695710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThicknessType=void 0,t.getAllThicknesses=function(){return Array.from(a.members())},t.getThicknessValue=function(e){switch(e){case a.SMALL:return 8;case a.MEDIUM:return 12;case a.LARGE:return 18;case a.XLARGE:return 24}};const a=n(76672).Mirrored(["SMALL","MEDIUM","LARGE","XLARGE"]);t.ThicknessType=a},792339:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(595069),l=n(396574),o=a(n(929087)),i=n(937484),u=n(373070),d=n(163139),c=n(708233),s=n(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),p=n(655241);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const{IMAGE:h,VIDEO:g,AUDIO:E}=u.MSG_TYPE;function y(e){var t,n;let{attachMedia:a}=e;const u=(0,p.useModelValues)(a,["mimetype","preview","type","fullPreview","fullPreviewSize","documentPageCount"]);let d;if(u.type===h)d=u.preview;else if(u.type===g)d=`data:image/jpeg;base64,${u.preview}`;else if("pdf"===(0,i.previewType)(u.mimetype)){u.fullPreview&&u.fullPreviewSize&&null!=u.documentPageCount&&u.documentPageCount>0&&(d=u.fullPreview)}if(d)return f.default.createElement("div",{className:o.default.body},f.default.createElement("img",{src:d,alt:s.fbt._("Preview",null,{hk:"1wMxOr"})}));if(u.type===E)return f.default.createElement("div",{className:o.default.body},f.default.createElement(r.AudioFileIcon,null));const c=(0,l.classnamesConvertMeToStylexPlease)(o.default.body,o.default.bodyIcon,null!==(t=null===(n=i.DOCUMENT_MIMETYPES[u.mimetype])||void 0===n?void 0:n.icon)&&void 0!==t?t:"icon-doc-generic");return f.default.createElement("div",{className:c})}function v(e,t){const{attachMedia:n,onClick:a,onClose:r}=e;return f.default.createElement("button",{className:(0,l.classnamesConvertMeToStylexPlease)({[o.default.active]:e.active,[o.default.thumb]:!0}),onClick:e=>{a((0,d.unproxy)(n),e)},"aria-label":s.fbt._("Image Thumbnail",null,{hk:"1KyQD6"}),ref:t},f.default.createElement("div",{className:o.default.btnDelete,onClick:e=>{r((0,d.unproxy)(n),e)},role:"button"},f.default.createElement(c.XAltIcon,null)),f.default.createElement("div",{className:o.default.bodyWrapper},f.default.createElement(y,{attachMedia:n})))}y.displayName="Body";var C=(0,f.forwardRef)(v);t.default=C},301667:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(792339)),l=n(373070),o=a(n(667294)),i=n(299420),u=a(n(969651));const d=(0,i.SortableElement)((e=>{let{children:t}=e;return t})),c=(0,i.SortableContainer)((e=>{let{children:t}=e;return t}));function s(e){const{mediaCollection:t,className:n,onElementRef:a,onClick:i,onClose:s}=e,f=t.getPreviewableMedias(),p=(0,u.default)();return o.default.createElement(c,{onSortEnd:e=>{const{oldIndex:n,newIndex:a}=e;t.reorder(n,a),p()},axis:"x",helperClass:"SortableHelper",distance:10},o.default.createElement("div",{className:n},f.map(((e,n)=>{var u;return o.default.createElement(d,{key:e.id,index:n},o.default.createElement(r.default,{attachMedia:e,active:e===t.getActive(),previewMode:(null===(u=t.getActive())||void 0===u?void 0:u.type)!==l.MSG_TYPE.IMAGE,onClick:i,onClose:s,ref:t=>a(e.id,t)}))}))))}s.displayName="DragAndDrop"},763560:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(n(569389)),l=a(n(539858)),o=a(n(356281)),i=a(n(667294));function u(e){let{item:t,onClose:n}=e;const{mimetype:a,fullPreview:u}=t;return i.default.createElement("div",{className:l.default.container},i.default.createElement(o.default,{onClose:n}),i.default.createElement(r.default,{mimeType:a,url:u}))}u.displayName="AudioBody"},91801:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(n(849664)),l=a(n(31579)),o=a(n(527539)),i=a(n(862981)),u=n(139519),d=n(372682),c=a(n(556869)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=new o.default({width:200,height:200}),m=10;function h(e){let{containerSize:t,cropOrigin:n,cropSize:a,data:f,keepRatio:h,onCropChange:y,rotation:v,sendAsSticker:C}=e;const b=f.resetCropRotate().setRotation(v),w=(0,s.useRef)(),_=(0,s.useRef)(),{width:S,height:M}=a,{x:k,y:P}=n,O=(0,s.useRef)(a),T=S/O.current.width,x=M/O.current.height,I=f.width,R=f.height,{width:L,height:N}=g(I,R,v),D=new o.default({width:t.width-20,height:t.height-20}),A=(0,d.calculateContainScale)(v%180?R:I,v%180?I:R,D,p),j=m/A,F=new o.default({width:I+2*j,height:R+2*j}),{width:B,height:W}=g(F.width,F.height,v),H=F.width/2,U=F.height/2;(0,s.useEffect)((()=>{const e=w.current,t=_.current;var n;e&&t&&0===e.nodes().length&&(e.nodes([t]),null===(n=t.getLayer())||void 0===n||n.batchDraw())}));const z=e=>{const{target:t}=e,n=Math.round(t.x()),a=Math.round(t.y()),r=Math.min(Math.round(t.width()*t.scaleX()),I-n),i=Math.min(Math.round(t.height()*t.scaleY()),R-a);y(new l.default({x:n,y:a}),new o.default({width:r,height:i}))},G=["top-left","top-right","bottom-left","bottom-right"];return h||G.push("top-center","middle-right","middle-left","bottom-center"),s.default.createElement("div",{className:i.default.container},s.default.createElement(r.default,{data:b,scale:A,canEditLayer:!1,style:{padding:m},outlineEnabled:C}),s.default.createElement(u.Stage,{className:i.default.cropperContainer,width:Math.round(B*A),height:Math.round(W*A),scaleX:A,scaleY:A},s.default.createElement(u.Layer,{key:"cropper",rotation:v,offsetX:H,offsetY:U,x:B/2,y:W/2},s.default.createElement(u.Group,{x:j,y:j},s.default.createElement(u.Rect,{x:0,y:0,width:I,height:R,fill:"black",opacity:.6}),s.default.createElement(u.Rect,{ref:_,fill:"red",x:k,y:P,width:O.current.width,height:O.current.height,scaleX:T,scaleY:x,draggable:!0,dragBoundFunc:e=>{const{width:t,height:n}=g(S,M,v);let{x:a,y:r}=function(e,t,n,a,r){switch((r%360+360)%360){case 0:return{x:e,y:t};case 90:return{x:e-n,y:t};case 180:return{y:t-a,x:e-n};case 270:return{x:e,y:t-a};default:throw(0,c.default)("Unsupported angle")}}(e.x,e.y,t*A,n*A,v);a<m?a=m:(a-m)/A+t>L&&(a=Math.round(L-t+j)*A),r<m?r=m:(r-m)/A+n>N&&(r=Math.round(N-n+j)*A);return function(e,t,n,a,r){switch((r%360+360)%360){case 0:return{x:e,y:t};case 90:return{x:e+n,y:t};case 180:return{y:t+a,x:e+n};case 270:return{x:e,y:t+a};default:throw(0,c.default)("Unsupported angle")}}(a,r,t*A,n*A,v)},onTransformEnd:z,onDragEnd:z,globalCompositeOperation:"destination-out"}),s.default.createElement(u.Transformer,{key:"transformer",ref:w,anchorStroke:"blue",anchorFill:"white",anchorSize:10,anchorCornerRadius:5,borderEnabled:!1,centeredScaling:!1,resizeEnabled:!0,rotateEnabled:!1,ignoreStroke:!0,boundBoxFunc:(e,t)=>{const n=I*A+20,a=R*A+20,r=E(e,n,a,v,-v),l=E(t,n,a,v,-v);return Math.round(l.x)<m?(l.x=m,l.width=r.width+(r.x-m)):Math.round(l.width)<20?(l.x=r.x,l.width=r.width):Math.round(l.x+l.width)>Math.round(n)-m&&(l.width=n-l.x-m),Math.round(l.y)<m?(l.y=m,l.height=r.height+(r.y-m)):Math.round(l.height)<20?(l.y=r.y,l.height=r.height):Math.round(l.y+l.height)>Math.round(a)-m&&(l.height=a-l.y-m),E(l,n,a,0,v)},keepRatio:h,enabledAnchors:G})))))}function g(e,t,n){return{width:n%180==0?e:t,height:n%180==0?t:e}}function E(e,t,n,a,r){const o=Math.max(t,n),i=g(t,n,a),u=(o-i.width)/2,d=(o-i.height)/2,c=new l.default({x:e.x+u,y:e.y+d}),s=new l.default({x:o/2,y:o/2}),f=c.rotate(s,r),p=g(t,n,a+r),m=(o-p.width)/2,h=(o-p.height)/2;return{x:f.x-m,y:f.y-h,width:e.width,height:e.height,rotation:e.rotation}}h.displayName="CropRotatePreview"},915373:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var r=n(690495),l=n(781035),o=a(n(278791)),i=a(n(539858)),u=a(n(356281)),d=n(97858),c=n(373070),s=n(330734),f=n(420260),p=n(127481),m=n(258976),h=n(723845),g=n(145945),E=n(907935),y=n(548360),v=a(n(667294)),C=a(n(156720)),b=n(655241);const w={body:{flexGrow:"ggj6brxn",width:"ln8gz9je"},previewContainer:{boxSizing:"cm280p3y",paddingTop:"gq7nj7y3",paddingEnd:"ij4mqf17",paddingBottom:"eynyaxvo",paddingStart:"emy6cf64",color:"jmly3brn",backgroundColor:"qqs366u4",borderTopStartRadius:"ikqdvm1y",borderTopEndRadius:"m3qqxsiz",borderBottomEndRadius:"r1ncx0sg",borderBottomStartRadius:"mmj7r7ye"},previewIcon:{marginBottom:"du8bjn1j"},header:{marginTop:"opp68qpq",marginEnd:"jnwc1y2a",marginBottom:"brac1wpa",marginStart:"svoq16ka",fontSize:"q9lllk4z"},metadata:{fontSize:"f8jlpxt4"},footer:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"pazt69qo",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u"}};function _(e){let{attachMedia:t,chat:n,fileExt:a,filename:_,filesize:S,mimeType:M,onCaptionChange:k,onClose:P,onEnter:O,onFiles:T,onToggleViewOnce:x,setCaptionInputRef:I}=e;const{caption:R}=(0,b.useModelValues)(t,["caption"]);let L;const N=null!=S?(0,l.getL10nFilesize)(S):"",D=function(e){switch(e){case"text/plain":return v.default.createElement(E.PreviewTxtIcon,null);case"text/rtf":case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return v.default.createElement(p.PreviewDocIcon,null);case"text/csv":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return v.default.createElement(h.PreviewSheetIcon,null);case"application/vnd.ms-powerpoint":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return v.default.createElement(g.PreviewSlidesIcon,null);case"audio/aac":case"audio/mp4":case"audio/amr":case"audio/mpeg":case"audio/ogg; codecs=opus":case"audio/wav":return v.default.createElement(s.PreviewAudioIcon,null);case"application/zip":return v.default.createElement(f.PreviewCompressedIcon,null);default:return v.default.createElement(m.PreviewGenericIcon,null)}}(M);return(0,d.documentWithCaptionsSendEnabled)()&&(L=v.default.createElement("div",{className:(0,C.default)(w.footer)},v.default.createElement(o.default,{key:t.id,chat:n,caption:R,viewOnce:!1,viewOnceDisabled:!0,msgType:c.MSG_TYPE.DOCUMENT,theme:"document",onToggleViewOnce:x,onChange:k,onEnter:O,onFiles:T,setCaptionInputRef:e=>{I(t.id,e)}}))),v.default.createElement("div",{className:i.default.container},v.default.createElement(u.default,{onClose:P,filename:_}),v.default.createElement(r.FlexColumn,{xstyle:w.body,align:"center",justify:"center"},v.default.createElement(r.FlexColumn,{className:(0,C.default)(w.previewContainer),align:"center",justify:"center"},v.default.createElement("div",{className:(0,C.default)(w.previewIcon)},D),v.default.createElement("div",{className:(0,C.default)(w.header)},y.fbt._("No preview available",null,{hk:"3NAVbb"})),v.default.createElement("div",{className:(0,C.default)(w.metadata)},N,null!=a&&""!==a?` - ${a.toUpperCase()}`:null))),L)}_.displayName="FileBody"},356281:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(n(932325)),l=n(220584),o=n(763389),i=n(548360),u=a(n(667294)),d=a(n(156720));const c={display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",minHeight:"cl7oiv0o",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u",backgroundColor:"ej3x2ktq"},s={display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n"},f={fontSize:"f8jlpxt4",color:"tl2vja3b"},p={marginTop:"hymafltn",fontSize:"dsh4tgtl",color:"pm5hny62"},m={cursor:"ajgl1lbb"};function h(e){const{filename:t,pageCount:n}=e;let a=null;return null!=n&&n>0&&(a=i.fbt._({"*":"{count} Pages",_1:"{count} Page"},[i.fbt._plural(n),i.fbt._param("count",r.default.n(n))],{hk:"fZM9c"})),u.default.createElement("div",{className:(0,d.default)(c)},u.default.createElement("button",{"aria-label":i.fbt._("Close",null,{hk:"17RE2w"}),onClick:e.onClose,className:(0,d.default)(m)},u.default.createElement(o.XIcon,{"aria-hidden":!0,color:l.SvgColorProp.SECONDARY})),u.default.createElement("div",{className:(0,d.default)(s)},t&&u.default.createElement("span",{className:(0,d.default)(f)},t),null!=a&&u.default.createElement("span",{className:(0,d.default)(p)},a)))}h.displayName="Header"},402420:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(n(535355)),l=n(690495),o=a(n(469733)),i=a(n(278791)),u=a(n(915373)),d=a(n(356281)),c=n(97858),s=n(373070),f=a(n(667294)),p=(a(n(156720)),n(655241));const m={container:{position:"g0rxnol2",overflowX:"gfz4du6o",overflowY:"r7fjleex",height:"ppled2lx"},containerElements:{width:"ln8gz9je"},footer:{position:"g0rxnol2",minHeight:"pazt69qo",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u"}};function h(e){let{attachMedia:t,chat:n,item:a,onCaptionChange:h,onClose:g,onEnter:E,onFiles:y,onToggleViewOnce:v,setCaptionInputRef:C}=e;const{mimetype:b,fullPreview:w,fullPreviewSize:_,documentPageCount:S,filename:M}=a,{caption:k}=(0,p.useModelValues)(t,["caption"]);if(!(w&&_&&null!=S&&S>0))return f.default.createElement(u.default,{mimeType:a.mimetype,filesize:a.filesize,filename:a.filename,fileExt:a.fileExt,onClose:g,attachMedia:a,chat:n,onCaptionChange:h,onEnter:E,setCaptionInputRef:C,onToggleViewOnce:v,onFiles:y});const P=(0,c.documentWithCaptionsSendEnabled)()&&!n.contact.isEnterprise?f.default.createElement(i.default,{key:t.id,chat:n,caption:k,viewOnce:!1,viewOnceDisabled:!0,msgType:s.MSG_TYPE.DOCUMENT,theme:"document",onToggleViewOnce:v,onChange:h,onEnter:E,onFiles:y,setCaptionInputRef:e=>{C(t.id,e)}}):null;return f.default.createElement(l.FlexColumn,{xstyle:m.container,justify:"all",align:"center"},f.default.createElement(o.default,{xstyle:m.containerElements},f.default.createElement(d.default,{onClose:g,filename:M,pageCount:S})),f.default.createElement(r.default,{fullPreview:w,fullPreviewSize:_,pageCount:S,showPageCount:!1,showBorder:!0,mimeType:b,filename:M}),f.default.createElement(l.FlexRow,{xstyle:[m.footer,m.containerElements],justify:"center",align:"center"},P))}h.displayName="PdfBody"},913466:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=a(n(110535)),l=n(952543),o=a(n(278791)),i=a(n(356281)),u=a(n(581530)),d=n(373070),c=a(n(667294)),s=n(655241);const{PROCESSING:f}=l.ATTACH_MEDIA_STATE;function p(e){let{attachMedia:t,chat:n,onCaptionChange:a,onClose:l,onEnter:p,onFiles:m,onToggleViewOnce:h,setCaptionInputRef:g,viewOnce:E,viewOnceDisabled:y}=e;const{caption:v}=(0,s.useModelValues)(t,["caption"]);return c.default.createElement("div",{className:u.default.container},c.default.createElement(i.default,{onClose:l}),c.default.createElement(r.default,{mimeType:t.mimetype,url:t.fullPreview,isGif:t.isGif,size:t.fullPreviewSize,processing:t.state===f,preview:t.preview}),c.default.createElement("div",{className:u.default.footer},c.default.createElement(o.default,{key:t.id,chat:n,caption:v,viewOnce:E,viewOnceDisabled:y,msgType:d.MSG_TYPE.VIDEO,theme:"video",onToggleViewOnce:h,onChange:a,onEnter:p,onFiles:m,setCaptionInputRef:e=>{g(t.id,e)}})))}p.displayName="VideoBody"},70882:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TextToolbar=void 0;var r=n(287461),l=n(431037),o=n(358369),i=n(490836),u=n(204954),d=n(500713),c=a(n(429600)),s=n(691984),f=a(n(205370)),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(){return(0,r.getABPropConfigValue)("web_improved_text_tool_enabled")}function E(e,t){const n=(0,m.useRef)(null),a=(0,m.useRef)(null);(0,m.useImperativeHandle)(t,(()=>({isColorPanelVisible(){var e,t;return null!==(e=null===(t=n.current)||void 0===t?void 0:t.isPanelVisible())&&void 0!==e&&e},isFontMenuVisible(){var e,t;return null!==(e=null===(t=a.current)||void 0===t?void 0:t.isMenuVisible())&&void 0!==e&&e}})));const r=(0,o.getAllColors)().map((e=>{const t=(0,o.getColorValue)(e),n=(0,o.getColorValue)(t.isLight()?o.ColorType.BLACK:o.ColorType.WHITE);return{primaryColor:t,secondaryColor:n}}));return m.default.createElement(m.default.Fragment,null,m.default.createElement(c.default,{ref:n,colors:r,onColorSelect:e.onTextColorSelect,selectedColor:e.textLayer.textColor}),g()&&m.default.createElement(u.AlignmentToolbar,{activeAlignment:e.textLayer.alignment,onSelect:e.onAlignmentSelect}),m.default.createElement(s.Font,{ref:a,fonts:(0,i.getAllFonts)(),selectedFont:e.textLayer.font,selectedAlignment:e.textLayer.alignment,onFontSelect:e.onFontSelect,onAlignmentSelect:e.onAlignmentSelect,showImprovedToolbar:g()}),m.default.createElement(f.default,{checked:e.textLayer.textBackground,onBackgroundToggle:e.onTextBackgroundToggle}),m.default.createElement(d.ToolbarButton,{icon:m.default.createElement(l.DeleteIcon,{displayInline:!0}),title:p.fbt._("Delete",null,{hk:"1XGJJN"}),onClick:e.onDeleteLayer}))}const y=(0,m.forwardRef)(E);t.TextToolbar=y,y.displayName="TextToolbar"},204954:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignmentToolbar=h;var r=a(n(506479)),l=n(379278),o=n(855134),i=n(247815),u=n(490836),d=n(500713),c=a(n(667294));a(n(156720));const s=["alignment"],f={icon:{color:"emmn1ebo",transform:"op4y25zq"}};function p(e){let{alignment:t}=e,n=(0,r.default)(e,s);switch(t){case u.TextAlignment.LEFT:return c.default.createElement(o.AlignLeftAltIcon,n);case u.TextAlignment.RIGHT:return c.default.createElement(i.AlignRightAltIcon,n);case u.TextAlignment.CENTER:return c.default.createElement(l.AlignCenterAltIcon,n)}}p.displayName="AlignmentIcon";const m=Array.from(u.TextAlignment.members());function h(e){const{activeAlignment:t,onSelect:n}=e;return c.default.createElement(d.ToolbarRoundButton,{onClick:()=>{var e;const a=m.indexOf(t),r=null!==(e=m[a+1])&&void 0!==e?e:m[0];n(r)}},c.default.createElement(p,{xstyle:f.icon,alignment:t}))}h.displayName="AlignmentToolbar"},580716:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BlurToolbar=t.BLUR_MIN_RADIUS=t.BLUR_MAX_RADIUS=t.BLUR_DEFAULT_RADIUS=t.BLUR_DEFAULT_MODE=void 0;var r=a(n(670983)),l=n(676983),o=n(664149),i=n(675085),u=n(690495),d=n(576190),c=n(877531),s=n(477540),f=n(500713),p=a(n(563389)),m=n(392632),h=a(n(37875)),g=n(548360),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),y=a(n(156720));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}t.BLUR_MIN_RADIUS=10;t.BLUR_MAX_RADIUS=100;t.BLUR_DEFAULT_RADIUS=50;const C=s.BlurMode.Pixelate;t.BLUR_DEFAULT_MODE=C;const b={blurModeBtn:{paddingTop:"gaujl5hk",paddingBottom:"p9a4hubg",paddingStart:"kjjye8e3",paddingEnd:"tcyu26xv",":hover":{backgroundColor:"cjq3wztw"}},blurModeBtnDivider:{width:"c97dh06e",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},blurModeIconContainer:{marginEnd:"rvlagp7p"},blurModeIcon:{width:"i94gqilv",height:"bmot90v7"},checkmarkIcon:{width:"i0x3nve6",height:"ilf8vifs"},slider:{paddingStart:"sta02ykp",paddingEnd:"a5i9q28d"}};function w(e,t){let{blurMode:n,blurRadius:a,onBlurModeChange:v,onBlurRadiusChange:C}=e;const[w,_]=(0,E.useState)(null),S=(0,E.useRef)(null),M=()=>Boolean(w);(0,E.useImperativeHandle)(t,(()=>({isPanelVisible:M})));const k=n===s.BlurMode.Smooth?c.MediaEditorBlurSmoothIcon:d.MediaEditorBlurPixelateIcon;return E.default.createElement(u.FlexRow,{align:"center"},E.default.createElement(f.ToolbarButton,{ref:S,onClick:e=>{e.preventDefault();const t={menu:Array.from(s.BlurMode.members()).map((e=>{const t=e===s.BlurMode.Smooth?c.MediaEditorBlurSmoothIcon:d.MediaEditorBlurPixelateIcon;return E.default.createElement(i.DropdownItem,{testid:`${String(e).toLowerCase()}-mode-button`,key:e,action:t=>((e,t)=>{e.preventDefault(),v(t)})(t,e)},E.default.createElement(u.FlexRow,{align:"center",className:(0,y.default)(b.blurModeBtn)},E.default.createElement(t,{xstyle:b.blurModeIconContainer,iconXstyle:b.blurModeIcon}),e===n&&E.default.createElement(l.CheckmarkMediumIcon,{iconXstyle:b.checkmarkIcon})))})),dirX:o.DirX.CENTER,dirY:o.DirY.TOP,offsetY:-5,anchor:(0,r.default)(S.current,"blurModePickerButtonRef.current")};_(t)},caret:w?"down":"up",icon:E.default.createElement(k,{iconXstyle:b.blurModeIcon,displayInline:!0}),title:g.fbt._("Blur Mode",null,{hk:"a35qL"})},E.default.createElement("div",{className:(0,y.default)(b.blurModeBtnDivider)})),E.default.createElement("div",{className:(0,y.default)(b.slider)},E.default.createElement(p.default,{min:10,max:100,value:a,onChange:(e,t)=>{C(e,t)},displayValue:!0})),w&&E.default.createElement(m.UIE,{displayName:"BlurModePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{_(null)}},E.default.createElement(h.default,{contextMenu:w})))}const _=(0,E.forwardRef)(w);t.BlurToolbar=_,_.displayName="BlurToolbar"},500713:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButton=void 0,t.ToolbarRoundButton=m;var r=n(774650),l=n(396574),o=n(690495),i=a(n(625903)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),d=a(n(156720));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const s={container:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",paddingTop:"fbgy3m38",paddingEnd:"ft2m32mm",paddingBottom:"oq31bsqd",paddingStart:"nu34rnf1",fontSize:"bze30y65",lineHeight:"cr2cog7z",cursor:"ajgl1lbb",borderTopStartRadius:"g130k69c",borderTopEndRadius:"k1a7joe8",borderBottomEndRadius:"dc5qina8",borderBottomStartRadius:"kfr1vweg",":hover":{backgroundColor:"cjq3wztw"},":active":{backgroundColor:"jrrt430a"}},selected:{backgroundColor:"ll2o05za"},disabled:{opacity:"n791o4v8",":hover":{backgroundColor:"mln0jq66"},":active":{backgroundColor:"kuwt7ppc"}},icon:{width:"i94gqilv",height:"bmot90v7"},rotate:{transform:"hhgrpsx0"},body:{flexGrow:"ggj6brxn",height:"bmot90v7",marginTop:"tt8xd2xn",marginEnd:"mw4yctpw",marginBottom:"mpdn4nr2",marginStart:"qnz2jpws",lineHeight:"pvbam5uh",textAlign:"qfejxiq4"}},f=(0,u.forwardRef)(((e,t)=>{const{children:n,onClick:a,icon:i,caret:c,disabled:f=!1,title:p,selected:m=!1}=e;let h;if(c)switch(c){case"up":h=u.default.createElement(r.ChevronDownAltIcon,{displayInline:!0,xstyle:s.rotate,width:15,height:15});break;case"down":h=u.default.createElement(r.ChevronDownAltIcon,{displayInline:!0,width:15,height:15})}return u.default.createElement("div",{ref:t,role:"button",tabIndex:"-1",onClick:a,className:(0,l.classnamesConvertMeToStylexPlease)((0,d.default)(s.container,f&&s.disabled,!f&&m&&s.selected),e.className),title:p},i&&u.default.createElement(o.FlexRow,{align:"center",justify:"center",xstyle:s.icon},i),n&&u.default.createElement("span",{className:(0,d.default)(s.body)},n),h&&u.default.createElement("span",null,h))}));t.ToolbarButton=f,f.displayName="ToolbarButton";const p={button:{borderTop:"obwsf3p9",borderEnd:"s8q20rc0",borderBottom:"ebrh3t2g",borderStart:"rj9nbyht",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",":hover":{borderTopColor:"bl9w2cc8",borderEndColor:"jhwcl59r",borderBottomColor:"fidog9j4",borderStartColor:"lnb1a5ce"}},iconContainer:{width:"ekdr8vow",height:"dhq51u3o",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",backgroundColor:"ti3tnyff"},selected:{borderTopColor:"l6s06z0y",borderEndColor:"tvss2yle",borderBottomColor:"iha8m7gi",borderStartColor:"s0l7kvyq"}};function m(e){const{onClick:t,children:n,selected:a=!1}=e;return u.default.createElement(i.default,{xstyle:[p.button,a&&p.selected],onClick:t},u.default.createElement(o.FlexRow,{justify:"center",align:"center",xstyle:p.iconContainer},n))}m.displayName="ToolbarRoundButton"},429600:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(664149),l=n(690495),o=a(n(932325)),i=n(500713),u=a(n(943208)),d=a(n(34936)),c=a(n(643118)),s=n(392632),f=a(n(37875)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t){const{colors:n,onColorSelect:a,selectedColor:m}=e,[h,g]=(0,p.useState)(null),E=()=>{g(null)},y=()=>Boolean(h);(0,p.useImperativeHandle)(t,(()=>({isPanelVisible:y})));const v=n.map((e=>{let{primaryColor:t,secondaryColor:n}=e;return p.default.createElement(d.default,{key:t.toString(),primaryColor:t,onSelect:()=>a(t),selected:Boolean(m&&m.equals(t))})}));let C=null;return h&&(C=p.default.createElement(s.UIE,{displayName:"ColorPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:E},p.default.createElement(f.default,{contextMenu:h}))),p.default.createElement("div",{className:u.default.container},p.default.createElement(l.FlexRow,{className:u.default.colorChipsContainer},v),p.default.createElement(i.ToolbarButton,{onClick:e=>{e.preventDefault(),e.stopPropagation();const t={menu:p.default.createElement(c.default,{onColorSelect:a,selectedColor:m,onColorPickerClose:E}),dirX:o.default.isRTL()?r.DirX.RIGHT:r.DirX.LEFT,dirY:r.DirY.BOTTOM,type:r.MenuType.ColorPicker,anchor:e.target};g(t)},caret:h?"down":"up"}),C)}var g=(0,p.forwardRef)(h);t.default=g},34936:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(396574),l=a(n(388282)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e){const{primaryColor:t,secondaryColor:n,onSelect:a,selected:i,withBorder:u}=e,[d,c]=(0,o.useState)(!1),[s,f]=(0,o.useState)(!1);return o.default.createElement("div",{onClick:a,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},onMouseDown:()=>{f(!0)},onMouseUp:()=>{f(!1)},className:(0,r.classnamesConvertMeToStylexPlease)({[l.default.selected]:i,[l.default.hover]:d,[l.default.active]:s,[l.default.colorButton]:!0}),style:{backgroundColor:s&&!i?t.withAlpha(.2).toRgbaString():"transparent"}},o.default.createElement("div",{className:(0,r.classnamesConvertMeToStylexPlease)({[l.default.colorChipWithBorder]:u&&t.isWhite(),[l.default.primaryColorChipMedium]:"medium"===e.theme,[l.default.primaryColorChip]:!0}),style:{backgroundColor:t.toRgbaString()}},n&&i&&o.default.createElement("div",{className:l.default.secondaryColorChip,style:{backgroundColor:n.toRgbaString()}})))}u.displayName="ColorChip"},160058:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CropRotateToolbar=s;var r=n(690495),l=n(422310),o=n(733509),i=n(500713),u=a(n(81447)),d=n(548360),c=a(n(667294));function s(e){let{canReset:t,onReset:n,onRotateCanvas:a}=e;return c.default.createElement(r.FlexRow,{className:u.default.container},c.default.createElement(i.ToolbarButton,{className:u.default.rotateLeftButton,icon:c.default.createElement(l.MediaEditorRotateLeftIcon,{displayInline:!0}),title:d.fbt._("Rotate left",null,{hk:"2t86bC"}),onClick:()=>a(-90)}),c.default.createElement(i.ToolbarButton,{icon:c.default.createElement(o.MediaEditorRotateRightIcon,{displayInline:!0}),title:d.fbt._("Rotate right",null,{hk:"XqQCf"}),onClick:()=>a(90)}),c.default.createElement(i.ToolbarButton,{onClick:n,disabled:!t},d.fbt._("Reset",null,{hk:"1aUuOP"})))}s.displayName="CropRotateToolbar"},691984:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Font=void 0;var r=a(n(81109)),l=n(690495),o=n(490836),i=n(500713),u=a(n(695422)),d=n(392632),c=a(n(37875)),s=n(676345),f=a(n(844453)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),m=a(n(156720));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g={container:{position:"g0rxnol2",flexShrink:"oq44ahr5"},icon:{width:"m0s4cjtr",height:"jdwybkuq",fontSize:"ovllcyds",color:"gxyx3myq",textAlign:"qfejxiq4",backgroundColor:"ti3tnyff",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},iconOnly:{color:"emmn1ebo",fontSize:"bze30y65"}};function E(e,t){const{selectedFont:n,fonts:a,onFontSelect:h,onAlignmentSelect:E,selectedAlignment:y,showImprovedToolbar:v}=e,C=(0,p.useRef)(null),[b,w]=(0,p.useState)(null),_=()=>{if(b)return;if(!C.current)return;const e=p.default.createElement(u.default,{fonts:a,selectedFont:n,selectedAlignment:y,showAlignmentOptions:!v,onFontSelect:h,onAlignmentSelect:E});w({menu:e,anchor:C.current})},S=()=>{w(null)},M=()=>Boolean(b);(0,p.useImperativeHandle)(t,(()=>({isMenuVisible:M})));const k=Boolean(b);let P,O;if(b&&(P=p.default.createElement(d.UIE,{displayName:"MediaEditorFontDropdown",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:S},p.default.createElement(c.default,{contextMenu:b}))),v)O=p.default.createElement(i.ToolbarRoundButton,{onClick:_,selected:k},p.default.createElement(l.FlexRow,{xstyle:[g.icon,g.iconOnly],style:(0,r.default)({},(0,o.getFontStyle)(n)),justify:"center",align:"center"},"Aa"));else{const e=p.default.createElement(l.FlexRow,{xstyle:g.icon,style:(0,r.default)({},(0,o.getFontStyle)(n)),justify:"center",align:"center"},p.default.createElement("div",{"aria-hidden":"true"},"A"));O=p.default.createElement(i.ToolbarButton,{onClick:_,icon:e,selected:k,caret:k?"down":"up"},p.default.createElement("span",{className:(0,m.default)(s.uiPadding.end5)},(0,o.getFontTranslation)(n)))}return p.default.createElement("div",{ref:C,className:(0,m.default)(g.container)},O,p.default.createElement(f.default,{transitionName:"dropdown"},P))}const y=(0,p.forwardRef)(E);t.Font=y,y.displayName="Font"},695422:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var r=n(493583),l=n(369689),o=n(116282),i=n(603869),u=n(396574),d=n(675085),c=n(690495),s=a(n(469733)),f=n(393542),p=n(490836),m=a(n(610255)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const E=[{alignment:p.TextAlignment.LEFT,icon:l.AlignLeftIcon},{alignment:p.TextAlignment.CENTER,icon:r.AlignCenterIcon},{alignment:p.TextAlignment.RIGHT,icon:o.AlignRightIcon}];function y(e){let t,{font:n,isSelectedFont:a,onAction:r}=e;a&&(t=h.default.createElement("span",{className:m.default.selected},h.default.createElement(i.CheckmarkIcon,{displayInline:!0})));const l=(0,p.getFontTranslation)(n);let o;switch(n){case p.FontType.SANS_SERIF:o=m.default.sansSerif;break;case p.FontType.SERIF:o=m.default.serif;break;case p.FontType.NORICAN_REGULAR:o=m.default.noricanRegular;break;case p.FontType.BRYNDAN_WRITE:o=m.default.bryndanWrite;break;case p.FontType.OSWALD_HEAVY:o=m.default.oswaldHeavy}return h.default.createElement(d.DropdownItem,{action:e=>r(e,n)},h.default.createElement("div",{role:"button",className:m.default.item,style:(0,p.getFontStyle)(n)},h.default.createElement("span",{className:o},l),t))}function v(e){let{onAction:t,selectedAlignment:n}=e;return h.default.createElement(c.FlexRow,{className:m.default.alignmentContainer,justify:"around",align:"center"},E.map((e=>{let{alignment:a,icon:r}=e;return h.default.createElement(s.default,{key:a},h.default.createElement(d.DropdownItem,{action:e=>t(e,a)},h.default.createElement(r,{className_DONOTUSE:(0,u.classnamesConvertMeToStylexPlease)({[m.default.alignmentIconSelected]:n,[m.default.alignmentIcon]:!0})})))})))}function C(e){const{onFontSelect:t,onAlignmentSelect:n,selectedFont:a,selectedAlignment:r,showAlignmentOptions:l}=e;(0,h.useEffect)((()=>{f.FontLoader.loadAllFonts()}),[]);const o=(e,n)=>{e.stopPropagation(),t(n)};return h.default.createElement("div",null,e.fonts.map((e=>h.default.createElement(y,{key:e,font:e,isSelectedFont:a===e,onAction:o}))),l&&h.default.createElement(v,{key:"alignment",selectedAlignment:r,onAction:(e,t)=>{e.stopPropagation(),n(t)}}))}y.displayName="Font",v.displayName="Alignment",C.displayName="FontDropdown"},442864:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=N;var r=n(952543),l=n(103440),o=n(664149),i=n(637624),u=a(n(716910)),d=n(849410),c=n(863700),s=n(576190),f=n(675650),p=n(685381),m=n(234200),h=n(477540),g=n(950079),E=n(272802),y=n(419699),v=n(145192),C=n(349456),b=n(333569),w=n(75421),_=n(526795),S=n(97858),M=n(114850),k=n(493003),P=a(n(987610)),O=n(392632),T=a(n(37875)),x=n(548360),I=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));a(n(156720));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}const L={hdIcon:{opacity:"ge6flnsz"}};function N(e){let{canRedo:t,canUndo:n,hdEligible:a,inCropRotateMode:R,inOutlineMode:N,inPaintMode:D,inTextEditingMode:A,metadataByQuality:j,onBlurSelect:F,onChangeQuality:B,onCropRotateSelect:W,onEmojiSelect:H,onOutlineSelect:U,onPaintSelect:z,onRedo:G,onStickerSelect:q,onTextSelect:V,onToggleEmojiPanel:Y,onToggleStickerPanel:K,onUndo:X,selectedLayer:Z,selectedQuality:Q,showOutline:J}=e;const[$,ee]=(0,I.useState)(),[te,ne]=(0,I.useState)(),ae=(0,I.useRef)({inPaintMode:D,onEmojiSelect:H,onStickerSelect:q,onPaintSelect:z}),re=()=>{R?W():D?z():N&&U()},le=()=>{ee(null),Y(!1)},oe=()=>{ne(null),K(!1)};let ie;return(0,w.isSendHQPhotoEnabled)()&&(ie=a?I.default.createElement(_.MenuBarItem,{icon:Q===r.MediaQuality.HD?I.default.createElement(d.IcHdActiveIcon,null):I.default.createElement(c.IcHdSettingsIcon,null),testid:"hd-settings-button",title:x.fbt._("Photo quality",null,{hk:"2q8jwU"}),key:"hd-settings"},I.default.createElement(u.default,{onChangeQuality:B,selectedQuality:Q,metadataByQuality:j})):I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(c.IcHdSettingsIcon,{xstyle:L.hdIcon}),testid:"hd-settings-button",title:x.fbt._("This media is not HD resolution.",null,{hk:"S27vL"}),key:"hd-settings",onClick:()=>{M.ModalManager.open(I.default.createElement(l.ConfirmPopup,{title:x.fbt._("Cannot set to HD",null,{hk:"zHOaP"}),onOK:()=>M.ModalManager.close()},x.fbt._("This media is not HD resolution.",null,{hk:"S27vL"})))}})),I.default.createElement(_.MenuBar,{theme:"media-editor"},J&&I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(k.ScissorsIcon,null),testid:"outline-button",title:x.fbt._("Outline",null,{hk:"47JwiV"}),key:"outline",onClick:e=>{e.preventDefault(),N||re(),U()},selected:N}),I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(m.MediaEditorEmojiIcon,null),testid:"emoji-button",title:x.fbt._("Emoji",null,{hk:"3f1gtD"}),key:"emoji",onClick:e=>{e.preventDefault(),e.stopPropagation(),re();const t=I.default.createElement(i.EmojiPanel,{onEmoji:e=>{ae.current.inPaintMode&&ae.current.onPaintSelect(),ae.current.onEmojiSelect(e),le()},onFocusNext:le,onFocusPrev:le});ee({menu:t,dirY:o.DirY.TOP,type:o.MenuType.EmojiPicker,anchor:e.target}),Y(!0)},selected:Boolean($)||Z instanceof g.ImageLayer&&Z.isEmoji()}),I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(v.MediaEditorStickerIcon,null),testid:"sticker-button",title:x.fbt._("Sticker",null,{hk:"4342bb"}),key:"sticker",onClick:e=>{e.preventDefault(),e.stopPropagation(),re();const t=I.default.createElement(P.default,{onSticker:e=>{ae.current.inPaintMode&&ae.current.onPaintSelect(),ae.current.onStickerSelect(e),oe()},onFocusNext:oe,onFocusPrev:oe});t&&(ne({menu:t,dirY:o.DirY.TOP,type:o.MenuType.StickerPicker,anchor:e.target}),K(!0))},selected:Boolean(te)||Z instanceof g.ImageLayer&&Z.isSticker()}),I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(C.MediaEditorTextIcon,null),testid:"text-button",title:x.fbt._("Text",null,{hk:"12XnGO"}),key:"text",onClick:e=>{e.preventDefault(),re(),V()},selected:A||Z instanceof E.TextLayer}),I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(p.MediaEditorDrawingIcon,null),testid:"paint-button",title:x.fbt._("Paint",null,{hk:"U5v5P"}),key:"paint",onClick:e=>{e.preventDefault(),D||re(),z()},selected:D}),(0,S.mediaEditorBlurToolEnabled)()&&I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(s.MediaEditorBlurPixelateIcon,null),testid:"blur-button",title:x.fbt._("Blur",null,{hk:"2MLIAo"}),key:"blur",onClick:e=>{e.preventDefault(),re(),F()},selected:Z instanceof h.BlurLayer}),I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(f.MediaEditorCropRotateIcon,null),testid:"crop-rotate-button",title:x.fbt._("Crop & Rotate",null,{hk:"3WqVhk"}),key:"crop-rotate",onClick:e=>{e.preventDefault(),R||re(),W()},selected:R}),ie,I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(b.MediaEditorUndoIcon,null),testid:"undo-button",title:x.fbt._("Undo",null,{hk:"12qsD9"}),key:"undo",disabled:!n,onClick:X}),I.default.createElement(_.MenuBarItem,{icon:I.default.createElement(y.MediaEditorRedoIcon,null),testid:"redo-button",title:x.fbt._("Redo",null,{hk:"39SiUc"}),key:"redo",disabled:!t,onClick:G}),te&&I.default.createElement(O.UIE,{displayName:"StickerPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:oe},I.default.createElement(T.default,{contextMenu:te})),$&&I.default.createElement(O.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:le},I.default.createElement(T.default,{contextMenu:$})))}N.displayName="MainToolbar"},905540:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineToolbar=f;var r=n(690495),l=n(500713),o=n(918857),i=n(810904),u=n(548360),d=a(n(667294)),c=a(n(156720));const s={marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"mpdn4nr2",marginStart:"fooq7fky"};function f(e){let{canReset:t,onReset:n,onSmoothingToggle:a,smoothing:f}=e;return d.default.createElement(r.FlexRow,null,d.default.createElement(l.ToolbarButton,{className:(0,c.default)(s),icon:d.default.createElement(o.OutlineSmoothIcon,{displayInline:!0}),title:u.fbt._("Smooth",null,{hk:"4vwxxi"}),selected:f,onClick:()=>a(!0)}),d.default.createElement(l.ToolbarButton,{className:(0,c.default)(s),icon:d.default.createElement(i.OutlineStraightIcon,{displayInline:!0}),title:u.fbt._("Straight",null,{hk:"3KyC8d"}),selected:!f,onClick:()=>a(!1)}),d.default.createElement(l.ToolbarButton,{className:(0,c.default)(s),onClick:n,disabled:!t},u.fbt._("Reset",null,{hk:"1aUuOP"})))}f.displayName="OutlineToolbar"},205370:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(603869),l=n(396574),o=n(500713),i=a(n(715723)),u=n(548360),d=a(n(667294));function c(e){let{checked:t,onBackgroundToggle:n}=e;const a=d.default.createElement("div",{className:(0,l.classnamesConvertMeToStylexPlease)({[i.default.circleFilled]:t,[i.default.cirle]:!0})},t?d.default.createElement("div",{className:i.default.checked},d.default.createElement(r.CheckmarkIcon,null)):d.default.createElement("div",{className:i.default.unchecked}));return d.default.createElement(o.ToolbarButton,{icon:a,onClick:n},u.fbt._("Background",null,{hk:"3Y8odq"}))}c.displayName="TextBackgroundToolbar"},634452:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(396574),l=n(695710),o=a(n(505847)),i=a(n(667294));function u(e){let{onThicknessSelect:t,selectedThickness:n,thickness:a}=e;return i.default.createElement("div",{key:l.ThicknessType.getName(a),onClick:()=>t(a),className:(0,r.classnamesConvertMeToStylexPlease)({[o.default.selected]:n&&n===a,[o.default.thicknessButton]:!0})},i.default.createElement("div",{className:o.default.thicknessChip,style:{height:(0,l.getThicknessValue)(a),width:(0,l.getThicknessValue)(a)}}))}function d(e){let{onThicknessSelect:t,selectedThickness:n,thicknesses:a}=e;const r=a.map(((e,a)=>i.default.createElement(u,{key:a,thickness:e,onThicknessSelect:t,selectedThickness:n})));return i.default.createElement("div",{className:o.default.container},r)}u.displayName="ThicknessChip",d.displayName="ColorToolbar"},643118:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(50477),l=a(n(267901)),o=a(n(435661)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),u=a(n(156720));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const c={position:"g0rxnol2"};function s(e){const{selectedColor:t,onColorSelect:n}=e,[a,d]=(0,i.useState)(null!=t?t:r.DEFAULT_COLOR),s=e=>{d(e)},f=e=>{n(e)};return i.default.createElement("div",{className:(0,u.default)(c),style:{width:r.CONTAINER_WIDTH,height:r.CONTAINER_HEIGHT}},i.default.createElement(o.default,{color:a,onChangeCanvasColor:s,onChangeSelectedColor:f}),i.default.createElement(l.default,{color:a,onChangeColor:e=>{s(e),f(e)},onColorPickerClose:e.onColorPickerClose}))}s.displayName="ColorPicker"},50477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THROTTLE_WAIT_TIME=t.INPUT_HEIGHT=t.DEFAULT_COLOR=t.CURSOR_SIZE=t.CONTAINER_WIDTH=t.CONTAINER_HEIGHT=t.CANVAS_HEIGHT=void 0;var a=n(102826);t.CONTAINER_WIDTH=334;t.CONTAINER_HEIGHT=203;const r=150.22;t.CANVAS_HEIGHT=r;t.INPUT_HEIGHT=52.78;t.CURSOR_SIZE=20;const l=new a.Color(210,252,86);t.DEFAULT_COLOR=l;t.THROTTLE_WAIT_TIME=900},267901:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(306703),l=n(81644),o=a(n(34936)),i=n(50477),u=n(102826),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),c=a(n(156720));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const f={alignItems:"gndfcl4n",boxSizing:"cm280p3y",display:"p357zi0d",justifyContent:"fhf7t426",minHeight:"t2ljgofx",paddingTop:"i5tg98hk",paddingEnd:"ft2m32mm",paddingBottom:"przvwfww",paddingStart:"nu34rnf1"},p={backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a",color:"tviruh8d",fontSize:"bze30y65",lineHeight:"r5qsrrlp",outline:"gk6igrwd",paddingTop:"emrlamx0",paddingEnd:"ft2m32mm",paddingBottom:"aiput80m",paddingStart:"nu34rnf1"};function m(e){const{color:t,onColorPickerClose:n,onChangeColor:a}=e,s=(0,d.useRef)(null),[m,h]=(0,d.useState)(t.toHex());return d.default.createElement("div",{className:(0,c.default)(f),style:{width:i.CONTAINER_WIDTH,height:i.INPUT_HEIGHT}},d.default.createElement(o.default,{withBorder:!0,primaryColor:t,selected:!1,theme:"medium"}),d.default.createElement(l.HotKeys,{handlers:{enter:n}},d.default.createElement(r.SelectableDiv,{selectable:!0},d.default.createElement("input",{type:"text",ref:s,className:(0,c.default)(p),value:m,onChange:e=>{const t=e.target.value;if(h(t),!t||!(0,u.isValidHex)(t))return;const n=u.Color.fromHex(t);a(n)}}))))}m.displayName="ColorPickerInput"},435661:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(50477),l=n(102826),o=n(817128),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),u=a(n(156720)),d=a(n(286481));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const s={borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",boxSizing:"cm280p3y",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",position:"g0rxnol2"},f={borderTop:"omlynucm",borderEnd:"a0tvyxpe",borderBottom:"se50n2qd",borderStart:"o8ek0a1j",borderTopStartRadius:"pap8jtso",borderTopEndRadius:"fptqv7l3",borderBottomEndRadius:"gygahxu2",borderBottomStartRadius:"hm7f711o",boxShadow:"aejjokna",boxSizing:"cm280p3y",cursor:"bx7g2weo",pointerEvents:"m62443ks",position:"lhggkp7q"};function p(e){const{color:t,onChangeSelectedColor:n,onChangeCanvasColor:a}=e,c=(0,i.useRef)(null),[p,m]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=c.current;if(!e)return;const t=e.getContext("2d");let n=t.createLinearGradient(0,0,e.width,0);n.addColorStop(0,"#ff0000"),n.addColorStop(1/6,"#ffff00"),n.addColorStop(1/6*2,"#00ff00"),n.addColorStop(.5,"#00ffff"),n.addColorStop(1/6*4,"#0000ff"),n.addColorStop(1/6*5,"#ff00ff"),n.addColorStop(1,"#ff0000"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),n=t.createLinearGradient(0,0,0,e.height),n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),n=t.createLinearGradient(0,0,0,e.height),n.addColorStop(0,"rgba(0, 0, 0, 0)"),n.addColorStop(.5,"rgba(0, 0, 0, 0)"),n.addColorStop(1,"rgba(0, 0, 0, 1)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height)}),[]);const h=(0,o.getPositionFromColor)(t),g=(0,d.default)(n,r.THROTTLE_WAIT_TIME),E=(e,t)=>{null!=t&&m(t);const{x:n,y:o}=(e=>{const t=c.current;if(!t)return{x:0,y:0};const n=t.getBoundingClientRect();let a=e.clientX-n.left,l=e.clientY-n.top;return a>n.width&&(a=n.width-.1),a<0&&(a=0),l>n.height&&(l=n.height),l<0&&(l=.1),a-=r.CURSOR_SIZE/2,l-=r.CURSOR_SIZE/2,{x:a,y:l}})(e),i=(e=>{const t=c.current;if(!t)return new l.Color(0,0,0);const n=e.x+r.CURSOR_SIZE/2,a=e.y+r.CURSOR_SIZE/2,o=t.getContext("2d").getImageData(n,a,1,1).data;return new l.Color(o[0],o[1],o[2])})({x:n,y:o});g(i),a(i)};return i.default.createElement(i.default.Fragment,null,i.default.createElement("canvas",{width:r.CONTAINER_WIDTH,height:r.CANVAS_HEIGHT,className:(0,u.default)(s),ref:c,onMouseDown:e=>{E(e,!0)},onMouseMove:e=>{p&&(e.stopPropagation(),e.preventDefault(),E(e))},onMouseUp:e=>{E(e,!1)}}),i.default.createElement("div",{className:(0,u.default)(f),style:{width:r.CURSOR_SIZE,height:r.CURSOR_SIZE,left:h.x,top:h.y,backgroundColor:t.toRgbaString()}}))}p.displayName="ColorPickerPanel"},675249:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createCanvasFromSticker=s,t.createImageFromEmoji=function(){return m.apply(this,arguments)},t.createImageFromSticker=function(){return h.apply(this,arguments)};var r=a(n(348926)),l=n(70354),o=n(868607),i=n(698210),u=n(196127),d=a(n(566518)),c=a(n(556869));function s(){return f.apply(this,arguments)}function f(){return(f=(0,r.default)((function*(e){let t=e.rgbaBuffer;if(!t){const n=u.InMemoryMediaBlobCache.get(e.filehash);if(!n)throw(0,c.default)("Failed to get media blob");const a=yield(0,i.blobToArrayBuffer)(n),r=(yield(0,d.default)(a)).frames[0];if(!r)throw(0,c.default)("Failed to get sticker first frame.");t=r.rgbaBuffer}const n=e.fullWidth,a=e.fullHeight,r=document.createElement("canvas");r.width=n,r.height=a;const l=r.getContext("2d"),o=l.createImageData(n,a);return o.data.set(new Uint8Array(t)),l.putImageData(o,0,0),r}))).apply(this,arguments)}function p(e){return new Promise(((t,n)=>{const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{t(a)},a.onerror=n,a.src=e}))}function m(){return(m=(0,r.default)((function*(e){const t=l.EmojiUtil.getGlyphPath(e,160);if(null==t)return;return yield p(t)}))).apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){let t;if(yield(0,o.detectWebpSupport)()){const n=e.mediaData.filehash,a=u.InMemoryMediaBlobCache.getOrCreateURL(n);t=yield p(a)}else t=yield s(e.mediaData);return t}))).apply(this,arguments)}},817128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPositionFromColor=function(e){const t=e.toHsl(),n=a.CONTAINER_WIDTH*t.hue-a.CURSOR_SIZE/2,r=a.CANVAS_HEIGHT*(1-t.lightness)-a.CURSOR_SIZE/2;return{x:n,y:r}};var a=n(50477)},398573:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPointFromGroup=function(e){return new r.default({x:e.target.x()-e.target.offsetX(),y:e.target.y()-e.target.offsetY()})},t.getPointFromStage=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return new r.default({x:0,y:0});const{x:a,y:l}=t.getAbsoluteScale(),o=t.content.getBoundingClientRect();let i=e.clientX-o.left,u=e.clientY-o.top;n&&(i=Math.min(Math.max(0,i),o.width),u=Math.min(Math.max(0,u),o.height));return new r.default({x:i/a,y:u/l})},t.getRotationFromGroup=function(e){return e.target.rotation()},t.getScaleFromGroup=function(e){return e.target.scaleX()},t.isEventOnAnchor=function(e){var t,n;return null!==(t=null===(n=e.target.attrs.name)||void 0===n?void 0:n.includes("anchor"))&&void 0!==t&&t},t.isStageCorner=function(e,t){if(!t)return!1;const{x:n,y:a}=t.getAbsoluteScale(),{width:r,height:l}=t.content.getBoundingClientRect();return 0===e.x&&0===e.y||0===e.x&&e.y===l/a||e.x===r/n&&0===e.y||e.x===r/n&&e.y===l/a};var r=a(n(31579))},261931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=(t+360)%360;if(!n&&(90===a||270===a)){const t=e.height;e.height=e.width,e.width=t}90!==a&&180!==a||(n?e.x+=e.width:e.x-=e.width);180!==a&&270!==a||(n?e.y+=e.height:e.y-=e.height);if(n&&(90===a||270===a)){const t=e.height;e.height=e.width,e.width=t}}},372682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateContainScale=function(e,t,n,a){if(0===e||0===t)return 1;if(!n.isEmpty()&&(e>n.width||t>n.height))return Math.min(n.width/e,n.height/t);if(!a.isEmpty()&&e<a.width&&t<a.height)return Math.min(a.width/e,a.height/t);return 1}},905832:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(122583),o=a(n(670983)),i=n(685639),u=a(n(788998)),d=n(332221),c=n(418541),s=n(588750),f=n(437362),p=a(n(908081)),m=a(n(324093)),h=n(626194),g=n(698210),E=n(858770),y=F(n(213462)),v=n(25878),C=a(n(756680)),b=F(n(288057)),w=n(114850),_=a(n(821384)),S=n(193085),M=n(435595),k=n(956113),P=a(n(844453)),O=a(n(439114)),T=n(169467),x=n(456277),I=n(548360),R=F(n(667294)),L=a(n(156720)),N=a(n(637660)),D=a(n(17533)),A=a(n(895851));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const B={video:{width:"ln8gz9je",height:"ppled2lx",opacity:"bs7a17vp",transitionProperty:"cr6d9hz6",transitionDuration:"p4t1lx4y",transitionTimingFunction:"k46w8fxw",transform:"n4o0o7gj",transformOrigin:"sx61ek5s"},videoInactive:{opacity:"axi1ht8l"},btn:{position:"lhggkp7q",top:"rl8piizt",start:"m7kgcvyw",marginStart:"avk8rzj1",opacity:"axi1ht8l"},image:{position:"lhggkp7q",width:"ln8gz9je",height:"ppled2lx",animationName:"n0uige08",animationDuration:"hcuw515p"},retakeBtn:{display:"p357zi0d",alignItems:"gndfcl4n",cursor:"ajgl1lbb"},retakeIcon:{flexShrink:"oq44ahr5",marginEnd:"claouzo6",color:"k17s6i4e"},footer:{position:"g0rxnol2",zIndex:"b9fczbqn",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"tvjloe4n",paddingTop:"i5tg98hk",paddingEnd:"iffbo4e8",paddingBottom:"eb4rp10x",paddingStart:"khscay3k",backgroundColor:"emqjox7q"},container:{position:"g0rxnol2",display:"p357zi0d",flexGrow:"ggj6brxn",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je"},body:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",width:"ln8gz9je",height:"ppled2lx"},videoContainer:{zIndex:"b9fczbqn",width:"ln8gz9je",height:"ppled2lx"},webcamContainer:{width:"ln8gz9je",height:"ppled2lx"}},W="ANIMATING",H="LOADING",U="RECORDING",z="SENDING",G=e=>{null!=e.current&&(window.URL.revokeObjectURL(e.current),e.current=null)};function q(e,t){const{chat:n,disposeStream:a,onCaptured:j,onBack:F,onSend:q}=e,V=I.fbt._("Take photo",null,{hk:"4DtdJO"}),Y=(0,R.useRef)(null),K=(0,R.useRef)(null),X=(0,R.useRef)(null),Z=(0,R.useRef)(null),[Q,J]=(0,R.useState)(void 0),[$,ee]=(0,R.useState)(void 0),[te,ne]=(0,R.useState)(W),[ae,re]=(0,R.useState)(void 0),le=(0,D.default)(((e,t)=>{var n;e?(null===(n=K.current)||void 0===n||n.call(K),K.current=t,ne(H),re(e),(0,y.isSrcObjectInVideoElement)()||(e?(G(X),X.current=window.URL.createObjectURL(e)):G(X))):te===W&&ne(H)})),oe=(0,N.default)((()=>new i.ShiftTimer((e=>{let{stream:t,disposeStream:n}=e;le(t,n)})))),ie=(0,N.default)((()=>new i.ShiftTimer((e=>{let{stream:t,disposeStream:n}=e;var a;t&&n&&(null===(a=K.current)||void 0===a||a.call(K));(0,y.isSrcObjectInVideoElement)()||G(X)})))),ue=()=>{n&&n.setAttachMediaContents(null)},de=(0,A.default)();(0,R.useEffect)((()=>(oe.current.onOrBefore(300,{stream:e.stream,disposeStream:e.disposeStream}),()=>{oe.current.cancel(),G(X),null==a||a(),Y.current&&Y.current.logCancel(),ue()})),[]);const ce=(e,t)=>{oe.current.forceRunNow({stream:e,disposeStream:t})};(0,R.useImperativeHandle)(t,(()=>({loadNewStreamTimerUpdate:ce,loadNewStream:le})));const se=()=>{var e;const t=null===(e=Z.current)||void 0===e?void 0:e.underlyingVideo();if(!t)return;const r=document.createElement("canvas");r.height=t.videoHeight,r.width=t.videoWidth;const l=r.getContext("2d");if(l)if(l.translate(r.width,0),l.scale(-1,1),l.drawImage(t,0,0,t.videoWidth,t.videoHeight),j)(0,s.canvasToBlob)(r).then((e=>{de.aborted||j(e)}));else{ie.current.onOrBefore(500,{stream:ae,disposeStream:a});const e=new x.MediaPickerStatsLogger;e.logAdd("CAPTURE_MEDIA","image",T.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),e.chatRecipients=(null==n?void 0:n.groupMetadata)?n.groupMetadata.participants.length:1,Y.current=e;const t=r.toDataURL("image/jpeg"),l=(0,f.dataURLtoBlob)(t);if(n){n.attachMediaContents||n.setAttachMediaContents(new u.default({chatParticipantCount:n.getParticipantCount()}));(0,o.default)(n.attachMediaContents,"chat.attachMediaContents").processAttachments([{file:(0,g.createFile)([l],"",{type:"image/jpeg"})}],void 0,n)}J(t),ne(z),re(void 0)}else __LOG__(3)`CaptureDrawer:onCapture can not get 2d context`},fe=e=>{ne(U),ee({width:e.videoWidth,height:e.videoHeight})},pe=()=>{ne(H),ue();const{asyncStream:e,disposeStream:t}=y.start("camera");K.current=t,e.then((e=>{e&&((0,y.isSrcObjectInVideoElement)()||(X.current=window.URL.createObjectURL(e)),re(e))})).catch((0,l.filteredCatch)(b.GetUserMedia.NotAllowedError,(()=>{F(),w.ModalManager.open(R.default.createElement(E.GuidePopup,{messaging:E.Messaging.CAMERA_FAIL,type:E.GuidePopupType.GUIDE_UNBLOCK}))}))).catch((0,l.filteredCatch)(b.GetUserMedia.GetUserMediaError,(()=>{F(),w.ModalManager.open(R.default.createElement(E.GuidePopup,{messaging:E.Messaging.CAMERA_MISSING,type:E.GuidePopupType.GUIDE_NONE}))})))},me=function(){var e=(0,r.default)((function*(e,t){n&&(yield(0,d.maybeShowBizBot1pTos)(n));const a=!0===(null==t?void 0:t.isViewOnce);if(q)if(0===e.length)__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("capture-drawer-no-img");else{const{media:t,mentionedJidList:n,groupMentions:i}=(0,o.default)(e[0],"medias[0]"),u=t.file;var r,l;if(u instanceof Blob)q({getImg:C.default.createFromData(u,u.type),caption:null!==(r=t.caption)&&void 0!==r?r:void 0,isViewOnce:!!a,mentionedJidList:n,groupMentions:i}),null===(l=Y.current)||void 0===l||l.logSend({isViewOnce:!!a});ue()}else __LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("capture-drawer-no-onSend")}));return function(){return e.apply(this,arguments)}}();let he,ge,Ee,ye;const ve="capture-cover"===e.theme?"cover":"contain";switch(te){case W:case H:if(ye=R.default.createElement(k.Spinner,{stroke:4,size:50}),te===W)break;case U:{const e=(0,L.default)(B.video,ae&&te===H&&B.videoInactive),t=ae?R.default.createElement(O.default,{autoPlay:!0,ref:Z,onPlay:fe,src:null!=X.current?X.current:void 0,srcObject:null!=X.current?void 0:ae}):null;Ee=ae?R.default.createElement("div",{key:"webcam",className:(0,L.default)(B.webcamContainer)},R.default.createElement(_.default,{type:ve,size:$},R.default.createElement("div",{className:e,"data-animage-capture-webcam":!0},t))):null,he=te===U?R.default.createElement("div",{className:(0,L.default)(B.btn),key:"btn-capture"},R.default.createElement(M.Round,{large:!0,label:V,onClick:se},R.default.createElement(c.CameraIcon,null))):null;break}case z:if(Ee=R.default.createElement(_.default,{type:ve,size:$},R.default.createElement("img",{alt:"",className:(0,L.default)(B.image),"data-animate-capture-snapshot":!0,src:Q})),n){const e=(0,o.default)(n.attachMediaContents,"chat.attachMediaContents");Ee=R.default.createElement(v.MediaEditor,{theme:v.MediaTheme.CAPTURE,chat:n,initCaption:null,mediaCollection:e,onDropText:()=>{},onSendMedia:me})}ge=R.default.createElement("div",{className:(0,L.default)(B.retakeBtn),onClick:pe},R.default.createElement("div",{className:(0,L.default)(B.retakeIcon)},R.default.createElement(S.ReturnIcon,null)),I.fbt._("Retake",null,{hk:"tGeQz"}));break;default:__LOG__(2)`captureDrawer:render Unhandled video capture state ${te}`}const Ce=R.default.createElement("div",{className:(0,L.default)(B.footer)},R.default.createElement(P.default,{transitionName:"pop_delay"},he));return R.default.createElement(p.default,{key:"attach-capture-modal",theme:e.theme,tsNavigationData:{surface:"camera"}},R.default.createElement(h.DrawerHeader,{title:V,type:h.DRAWER_HEADER_TYPE.OFFSET,focusBackOrCancel:!0,onCancel:e.onBack},ge),R.default.createElement(m.default,{overflow:"hidden"},R.default.createElement("div",{className:(0,L.default)(B.container)},ye,R.default.createElement("div",{className:(0,L.default)(B.body)},R.default.createElement(P.default,{transitionName:"capture",className:(0,L.default)(B.videoContainer)},Ee))),Ce))}var V=(0,R.forwardRef)(q);t.default=V},289391:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.default.createElement(r.default,{onBack:()=>{e.onClose(),e.onCancel()},chat:e.chat,caption:!0,theme:"capture-contain",onSend:t=>{var n;let{getImg:a,caption:r,isViewOnce:o,mentionedJidList:i}=t;const u=e.chat,d=u.composeQuotedMsg;u.composeQuotedMsg=null;const c=(null===(n=u.getComposeContents())||void 0===n?void 0:n.ctwaContext)||void 0;(0,l.prepRawMedia)(a,{}).sendToChat(u,{caption:r,mentionedJidList:i,quotedMsg:d,ctwaContext:c,isViewOnce:o}),e.onCaptureSent(),e.onClose()},stream:e.stream,disposeStream:e.disposeStream})};var r=a(n(905832)),l=n(644234),o=a(n(667294))},696716:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(15842),l=n(919833),o=n(366202),i=n(72696),u=a(n(163567)),d=a(n(659177)),c=n(356097),s=a(n(908081)),f=a(n(324093)),p=n(626194),m=a(n(969358)),h=n(896971),g=n(163755),E=n(20194),y=a(n(344460)),v=n(48794),C=n(61113),b=n(787742),w=n(241164),_=a(n(273873)),S=n(373070),M=n(129673),k=n(316348),P=n(555622),O=n(956113),T=n(681959),x=n(784128),I=n(143532),R=n(625786),L=n(390737),N=n(382117),D=a(n(806077)),A=n(308840),j=n(744976),F=n(531737),B=n(818674),W=n(512873),H=n(548360),U=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Z(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),z=a(n(156720)),G=a(n(969651)),q=a(n(637660)),V=n(808446),Y=n(871210),K=a(n(321201)),X=a(n(895851));function Z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Z=function(e){return e?n:t})(e)}const Q={icon:{display:"l7jjieqr",width:"dh5rsm73",marginEnd:"bugiwsl0",color:"s4k44ver",textAlign:"qfejxiq4",verticalAlign:"j0vv7iav"},svg:{width:"dh5rsm73",height:"hpdpob1j"},statusBlue:{color:"sunvlxxz"},ack:{color:"ajgik1ph"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},body:{flexShrink:"oq44ahr5",paddingTop:"emrlamx0",paddingBottom:"s9fl9ege"}};function J(e,t){const{msg:n}=e,[a,Z,J,$,ee,te,ne,ae,re,le,oe,ie,ue,de,ce,se]=(0,Y.useMsgValues)(e.msg.id,[b.getId,b.getStar,b.getType,b.getIsGif,b.getIsViewOnce,b.getLabels,b.getNumTimesForwarded,b.getIsFrequentlyForwarded,b.getAgendId,b.getT,b.getIsMdHistoryMsg,b.getKicSender,b.getKicTimestampMs,b.getIsKept,g.getAsRevoked,b.getLatestEditMsgKey]),fe=(0,g.getChat)(n),pe=(0,K.default)(),me=(0,X.default)(),he=(0,U.useRef)(null),ge=(0,U.useRef)(null),Ee=null==fe?void 0:fe.id,ye=(0,q.default)((()=>new N.UiActionWamEvent({uiActionType:j.UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0,isLid:Ee.isLid()}))),[ve,Ce]=(0,U.useState)(void 0),[be,we]=(0,U.useState)(!1),_e=(0,G.default)();(0,V.useListener)(null==ve?void 0:ve.played,["add","remove"],_e),(0,V.useListener)(null==ve?void 0:ve.read,["add","remove"],_e),(0,V.useListener)(null==ve?void 0:ve.delivery,["add","remove"],_e),ce&&(null==pe||pe.requestDismiss()),(0,V.useListener)(C.MsgCollection,"remove",(e=>{e.id.equals(a)&&(null==pe||pe.requestDismiss())})),(0,V.useListener)(n,"change:latestEditMsgKey",(()=>null==pe?void 0:pe.requestDismiss()));const Se=(0,D.default)("MD_EXTENSION");let Me,ke,Pe;if((0,U.useEffect)((()=>{var e;P.QPL.markerStart(k.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,{annotations:{bool:{is_premium_subscriber:Se}}}),P.QPL.markerPoint(k.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_start"),w.MsgInfoCollection.find(a).then((e=>{P.QPL.markerPoint(k.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_end"),me.aborted?P.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,r.QuickLogActionType.CANCEL):(Ce(e),P.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,r.QuickLogActionType.SUCCESS))})).catch((()=>{P.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,r.QuickLogActionType.FAIL),we(!0),L.ToastManager.open(U.default.createElement(R.Toast,{msg:H.fbt._("Couldn't display message info. Try again later.",null,{hk:"mRFf6"}),id:(0,R.genId)("msg_info_failed")}))}));const t=null===(e=he.current)||void 0===e?void 0:e.getContainer();J===S.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight)}),[se]),(0,U.useEffect)((()=>{const e=ye.current;e&&(Object.assign(e,(0,F.getGroupCountMetricsFromChatWid)(null==fe?void 0:fe.id)),e.markUiActionT(),e.commit(),ye.current=void 0),(0,B.logUiActionShadowPrivateStatsTestEvents)(),(0,o.logMessageInfo)(re)}),[]),ve){const e=[];if(de&&null!=ie&&null!=ue){const t=(0,h.getKeptByString)(ie),n=U.default.createElement("span",{className:(0,z.default)(Q.icon)},U.default.createElement(E.KeepInChatIcon,{iconXstyle:Q.svg}));e.push(U.default.createElement(u.default,{title:t,t:ue/1e3,icon:n,key:"keep-in-chat"}))}if(!oe){var Oe;const t=(0,b.getIsAckPlayable)(n);if(t||ee){ke=t?H.fbt._("Seen",null,{hk:"2XnbT5"}):H.fbt._("Seen",null,{hk:"n9K7N"});const a=ve.played.head(),r=null==a?void 0:a.t;let l=U.default.createElement(A.ViewOnceViewedIcon,{xstyle:Q.statusBlue,iconXstyle:Q.svg});t&&!ee&&(n.type===S.MSG_TYPE.PTT?l=U.default.createElement(x.StatusPttIcon,{xstyle:Q.statusBlue,iconXstyle:Q.svg}):n.type===S.MSG_TYPE.PTV&&(l=U.default.createElement(I.StatusVideoIcon,{xstyle:Q.statusBlue,iconXstyle:Q.svg})));const o=U.default.createElement("span",{className:(0,z.default)(Q.icon)},l);e.push(U.default.createElement(u.default,{title:t&&!ee?H.fbt._("Played",null,{hk:"ovupC"}):H.fbt._("Opened",null,{hk:"4lUnhv"}),t:r,icon:o,key:"played"}))}const a=ve.read.head(),r=null==a?void 0:a.t,l=U.default.createElement("span",{className:(0,z.default)(Q.icon)},U.default.createElement(T.StatusDblcheckIcon,{xstyle:Q.ack,iconXstyle:Q.svg}));ke=null!==(Oe=ke)&&void 0!==Oe?Oe:H.fbt._("Read",null,{hk:"3uwRcw"}),e.push(U.default.createElement(u.default,{title:ke,t:r,icon:l,key:"read"}));const o=ve.delivery.head(),i=null==o?void 0:o.t,d=U.default.createElement("span",{className:(0,z.default)(Q.icon)},U.default.createElement(T.StatusDblcheckIcon,{iconXstyle:Q.svg}));e.push(U.default.createElement(u.default,{title:H.fbt._("Delivered",null,{hk:"2enm6q"}),t:i,icon:d,key:"delivery"}))}if(Se&&(0,i.isMultiDeviceMessageAttributionEnabled)()&&null!=re){var Te,xe;const t=null!==(Te=null===(xe=l.AgentCollection.get(re))||void 0===xe?void 0:xe.name)&&void 0!==Te?Te:"";e.push(U.default.createElement(u.default,{title:t,t:le,icon:U.default.createElement("span",{className:(0,z.default)(Q.icon)},U.default.createElement(M.MultiDeviceIcon,{iconXstyle:Q.svg})),key:"agent"}))}Me=U.default.createElement(m.default,{theme:"padding"},e)}ve||be||(Pe=U.default.createElement("div",{className:(0,z.default)(Q.spinner),key:"spinner"},U.default.createElement(O.Spinner,{size:50,stroke:4})));let Ie=null;return te&&te.length>0&&(0,i.canDisplayLabel)()&&(Ie=U.default.createElement(m.default,{theme:"padding"},U.default.createElement(y.default,{labels:te}))),U.default.createElement(s.default,{ref:t,key:"message-info-modal",theme:"striped"},U.default.createElement(p.DrawerHeader,{title:H.fbt._("Message info",null,{hk:"2h2aKZ"}),type:p.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,focusBackOrCancel:!0,onCancel:()=>{null==pe||pe.requestDismiss()}}),U.default.createElement(_.default,{ref:he,chatPreference:d.default.assertGet("defaultPreference")},U.default.createElement(W.Wrapper,{msg:n,ref:ge,displayType:c.DISPLAY_TYPE.MSG_INFO,isMsgVisible:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a&&(!!n||(null===(t=ge.current)||void 0===t?void 0:t.getMsgComponentRef()))},position:v.MsgPosition.END,onProductClick:e.onProductClick})),U.default.createElement(f.default,null,Ie,U.default.createElement("div",{className:(0,z.default)(Q.body)},Pe,Me)))}var $=(0,U.forwardRef)(J);t.default=$},481518:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=N;var r=a(n(348926)),l=n(898817),o=a(n(229922)),i=n(174662),u=n(468926),d=a(n(196554)),c=n(103440),s=n(900316),f=n(753233),p=n(258105),m=n(690495),h=a(n(469733)),g=n(81644),E=n(408827),y=n(114850),v=n(489891),C=n(202391),b=n(320291),w=n(666836),_=n(180519),S=n(625786),M=n(390737),k=n(757453),P=n(669050),O=n(548360),T=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),x=(a(n(156720)),a(n(710629))),I=a(n(895851));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}const L={deviceInfo:{marginBottom:"t4zgqcuo",marginTop:"opp68qpq"},deviceInfoCheckbox:{minWidth:"r7yn1a4o"},deviceInfoLabel:{paddingEnd:"l9g3jx6n"},emailLink:{marginTop:"opp68qpq"}};function N(e){const{supportTag:t,onSend:n,onFailure:a,onCancel:R,onEmail:N,entityId:D}=e,A=(0,I.default)(),[j,F]=(0,T.useState)(""),[B,W]=(0,T.useState)(null),[H,U]=(0,T.useState)(!0),[z,G]=(0,T.useState)(!1),[q,V]=(0,T.useState)(!1),[Y,K]=(0,T.useState)(!1),X=(0,T.useRef)(null);(0,T.useEffect)((()=>{var e;null===(e=X.current)||void 0===e||e.restoreFocus(),V((0,i.getIsSagaEnabled)()),K((0,i.getIsSagaCopyEnabled)())}),[]);const Z=e=>e.length>=10,Q=function(){var e=(0,r.default)((function*(){G(!0);if(Z(j)){const e=(yield(0,k.getWhatsAppWebExternalBetaJoinedIdb)())?"[External Web Beta] "+j:j;null==n||n({description:e});const t=$(),r=t?JSON.stringify(t):void 0;__LOG__(2)`InAppSupport: Sending support request with deviceInfo=${H}:${null!=r?r:"n/a"}`,(0,o.default)((0,b.sendSupportRequest)(e,r),A).then((t=>{if(null!=t.message){y.ModalManager.close();const e=t.groupId;void 0!==e&&e.includes("@s.whatsapp.net")?y.ModalManager.open(T.default.createElement(v.OpenChatFlow,{chatId:(0,P.createWid)(e),onSuccess:()=>{s.DrawerManager.closeDrawerLeft()},msgText:null}),{transition:"modal-flow"}):M.ToastManager.open(T.default.createElement(S.Toast,{msg:(0,w.SupportChatConfirmationToast)()}))}else a&&(a({description:e}),G(!1))})).catch((0,l.catchAbort)((()=>{G(!1)})))}else W(O.fbt._("Please add more to your description",null,{hk:"ZQEOl"}))}));return function(){return e.apply(this,arguments)}}(),J=(0,x.default)((()=>Q()),100),$=()=>{let e={};H&&(e=(0,E.getDebugInfo)({supportTag:t,convertFields:!0,addUserAgentDetails:!0,entityId:D}));let n="";return 1===(0,i.getSagaMVPValue)()?n="saga_control":q&&(n="saga"),n&&(e.sagaKey=n),e.saga_copy=Y,e},ee=e=>{e.stopPropagation()},te={enter:ee};z&&(te.esc=ee);const ne="contact-us-include-device";return T.default.createElement(c.ConfirmPopup,{title:O.fbt._("Contact us",null,{hk:"1FJ2cU"}),okDisabled:!Z(j)||z,okSpinner:z,okText:O.fbt._("Send",null,{hk:"2M7k89"}),onOK:J,onCancel:z?void 0:()=>{null==R||R(),y.ModalManager.close()}},T.default.createElement(g.HotKeys,{handlers:te},T.default.createElement(m.FlexColumn,{align:"stretch"},T.default.createElement(C.RichTextField,{error:B,maxLength:5e3,onChange:e=>{let{text:t}=e;F(t)},placeholder:O.fbt._("Tell us how we can help",null,{hk:"1R8W3F"}),ref:X,value:j,minVisibleLines:2,theme:"contact-us"}),(q||Y)&&T.default.createElement(h.default,{xstyle:L.deviceInfo,grow:1},T.default.createElement(_.TextParagraph,{theme:"plain"},O.fbt._("Messages from WhatsApp Support may be generated by AI using a secure technology from Meta. Your personal messages and calls remain end-to-end encrypted.",null,{hk:"MiwUD"}))),T.default.createElement(h.default,{xstyle:L.deviceInfo,grow:1},T.default.createElement(_.WDSTextSmall,{as:"p"},(0,w.SupportChatDeviceInfoQuestion)())),T.default.createElement(m.FlexRow,null,T.default.createElement(h.default,{xstyle:L.deviceInfoLabel,grow:1},T.default.createElement("label",{htmlFor:ne},T.default.createElement(_.TextParagraph,{theme:"plain"},(0,w.SupportChatDeviceInfoContext)()," ",T.default.createElement(f.ExternalLink,{href:(0,p.getSupportChatFaqUrl)()},O.fbt._("Learn more",null,{hk:"1rcCLt"}))))),T.default.createElement(h.default,{xstyle:L.deviceInfoCheckbox,grow:0},T.default.createElement(u.CheckBox,{checked:H,id:ne,onChange:()=>{U(!H)}}))),T.default.createElement(m.FlexRow,null,T.default.createElement(h.default,{xstyle:L.emailLink,grow:1},T.default.createElement(d.default,{onClick:()=>{N&&(y.ModalManager.close(),N({description:j}))}},O.fbt._("Get support via email",null,{hk:"3vajRd"})))))))}N.displayName="ContactUsModal"},413252:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(548360),l=a(n(667294)),o=a(n(156720));const i={position:"lhggkp7q",zIndex:"q297boen",width:"ln8gz9je",height:"ppled2lx",backgroundColor:"ipp30ku8"},u={boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"nioqejvd",marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",fontSize:"kuk548i2",color:"hn08p73j",borderTop:"joyebr9p",borderEnd:"jradjnc8",borderBottom:"opq9nt8f",borderStart:"ikkoynhc"};function d(){return l.default.createElement("div",{key:"container",className:(0,o.default)(i)},l.default.createElement("div",{className:(0,o.default)(u)},r.fbt._("Drag file here",null,{hk:"y9aHs"})))}d.displayName="DragAndDropMask"},171915:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(969358)),l=n(617425),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),i=a(n(156720)),u=a(n(105170));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const c={ctaContainerSticky:{position:"ly2gu7o9",bottom:"jxacihee",left:"tukmaf4q",boxShadow:"th8ck7tu"},ctaPlaceholder:{marginBottom:"brac1wpa"}};function s(e){let{children:t,disabled:n,onClick:a,rootRef:d}=e;const[s,f,p]=function(e){const[t,n]=(0,o.useState)(),[a,r]=(0,o.useState)(),[l,{isIntersecting:i}]=(0,u.default)({root:e,rootMargin:null!=t?`-${t.offsetHeight}px`:void 0});return(0,o.useEffect)((()=>{if(null!=e&&null!=t&&null!=a){if(i)t.style.removeProperty("right");else{const n=e.offsetWidth-(e.clientWidth+2*e.clientLeft);t.style.setProperty("right",`${n}px`)}a.style.setProperty("min-height",`${t.offsetHeight}px`)}}),[i,e,t,a]),[i,e=>{l(e),r(e)},n]}(d);return o.default.createElement("div",{ref:f,className:(0,i.default)(c.ctaPlaceholder)},o.default.createElement(r.default,{ref:p,xstyle:s?null:c.ctaContainerSticky,theme:"sticky-button-section"},o.default.createElement(l.WDSButtonPrimary,{onClick:a,disabled:n,stretch:!0},t)))}s.displayName="DrawerStickyCTAButton"},225882:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.E2eChangeModal=s;var r=n(103440),l=a(n(395767)),o=n(714574),i=n(114850),u=n(548360),d=a(n(667294)),c=n(379811);function s(e){let{contact:t}=e;const[n]=(0,c.useContactValues)(t.id,[o.getFormattedShortName]),a=(0,l.default)("OK"),s=n,f=u.fbt._("Your security code with {contactName} changed",[u.fbt._param("contactName",s)],{hk:"I4Flo"}),p=u.fbt._("This happened likely because {contactName} or you recently changed which devices you use WhatsApp on. Please verify the security code again.",[u.fbt._param("contactName",s)],{hk:"11nl7m"});return d.default.createElement(r.ConfirmPopup,{title:f,onOK:()=>i.ModalManager.close(),okText:a},p)}s.displayName="E2eChangeModal"},428611:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(323795),l=n(118612),o=n(114850),i=n(548360),u=a(n(667294));function d(e){let{cropShape:t,img:n,onFinished:a,onRetake:d,theme:c}=e;return u.default.createElement(l.Modal,{type:c,ariaLabel:i.fbt._("Drag the image to adjust",null,{hk:"atCd8"}),testid:"profile-picture-edit-modal"},u.default.createElement(r.EditImageDrawer,{onCancel:()=>{o.ModalManager.close()},onFinished:(e,t)=>{a(e,t),o.ModalManager.close()},onRetake:d,retryText:r.RETRY_OPTIONS.RESTART,img:n,cropShape:t||void 0}))}d.displayName="EditImageModal"},386315:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(348926)),l=n(287461),o=n(12643),i=a(n(579484)),u=a(n(557294)),d=n(409623),c=n(780549),s=n(174834),f=n(849308),p=n(877171),m=n(177938),h=n(660666),g=n(657866),E=n(215406),y=n(673079),v=n(273371),C=a(n(908081)),b=a(n(324093)),w=n(36045),_=n(626194),S=n(900316),M=n(811720),k=a(n(395767)),P=n(581354),O=a(n(570834)),T=a(n(988410)),x=a(n(932325)),I=n(447164),R=a(n(893320)),L=n(705153),N=n(608456),D=n(803737),A=a(n(802211)),j=n(454905),F=a(n(399506)),B=n(129417),W=n(459857),H=n(986961),U=n(718951),z=n(548360),G=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Z(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),q=(a(n(156720)),a(n(710629))),V=a(n(969651)),Y=n(808446),K=a(n(17533)),X=a(n(794305));function Z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Z=function(e){return e?n:t})(e)}const Q={newChatButton:{paddingBottom:"a15vwmim",height:"ga71456d"}};function J(e){let{image:t,onClick:n,primary:a}=e;const r=z.fbt._("{item-title}",[z.fbt._param("item-title",a.toString())],{hk:"4dm96j"});return G.default.createElement(G.default.Fragment,null,G.default.createElement(w.DrawerButtonSimple,{icon:t,onClick:n,ariaLabel:r,xstyle:Q.newChatButton},a),G.default.createElement(i.default,null))}function $(e,t){const{title:n,onBack:a,onClick:i,onNewGroup:w,onNewCommunity:Z,onNewContact:Q}=e,[$,ee]=(0,G.useState)(""),[te,ne]=(0,G.useState)(null),ae=(0,G.useRef)(),re=(0,G.useRef)(),le=(0,G.useRef)(),oe=Boolean($),ie=(0,G.useMemo)((()=>m.ContactCollection.frequentContacts("message")),[m.ContactCollection.length]),ue=(0,G.useMemo)((()=>oe?[]:ie),[oe,ie]),de=null!=te?m.ContactCollection.get(te):null,[ce]=(0,G.useState)((()=>new O.default)),se=(0,I.isLidContactOneOnOneChatEnabled)(),fe=(0,l.getABPropConfigValue)("web_chat_with_unknown_contacts"),pe=(0,B.usernameContactlessChatEnabled)();let me=z.fbt._("Search contacts",null,{hk:"22cmrf"});const he=(0,V.default)();(0,Y.useListener)(m.ContactCollection,"change:name",he),fe&&(me=pe?z.fbt._("Search name, number or @username",null,{hk:"4wq9Jg"}):(0,k.default)("Search name or number"));const ge=(0,G.useCallback)((e=>{m.ContactCollection.ensureSorted();const t="string"==typeof e?e:$;if(!t)return m.ContactCollection.getFilteredContacts({showMe:!!t,includeLidContacts:se});const n=m.ContactCollection.getFilteredContacts({showMe:!!t,includeLidContacts:se}).concat(m.ContactCollection.filter((e=>e.name&&!(0,h.getIsMe)(e)&&!(0,h.getIsPSA)(e)&&!(0,h.getIsWAContact)(e)&&!(0,h.getIsNewsletter)(e)))),a=x.default.accentFold(t),r=(0,N.numberSearch)(a);return n.filter((function(e){return e.searchMatch(a,r)}))}),[$,se]),Ee=ge(),{unknownContactInfo:ye,loading:ve,error:Ce,onRetry:be}=(0,X.default)({phoneNumber:$,shouldStartSearch:0===Ee.length&&fe}),we=(0,q.default)((e=>ee(e)),100),_e=(0,G.useCallback)((e=>{le.current=e,pe&&e.length>=3&&(0,D.queryUsernameExists)(e).then((t=>{var n;le.current===e&&(ne(null!==(n=null==t?void 0:t.wid)&&void 0!==n?n:null),we(e))})).catch((t=>{le.current===e&&(ne(null),we(e)),__LOG__(4,void 0,new Error)`queryUsernameExists failed with error:${t}`})),le.current=e,we(e)}),[pe,we]),Se=(0,G.useCallback)(((e,t,n)=>{T.default.shouldIndicateFocus(),i(e,t,void 0,n)}),[i]),Me=(0,K.default)(function(){var e=(0,r.default)((function*(e,t){var n;e.preventDefault(),e.stopPropagation(),S.DrawerManager.closeDrawerLeft();const a=null!==(n=null==ye?void 0:ye.chat)&&void 0!==n?n:yield(0,P.findChat)(t,"newChatFlow");c.Cmd.openChatFromUnread(a)&&((0,L.logInitiatedContactlessChat)(a),(0,L.logContactListStartNewChatAction)({chatType:H.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACTLESS,isSearchResult:!0}),p.ComposeBoxActions.focus(a))}));return function(){return e.apply(this,arguments)}}()),ke=(0,G.useCallback)((e=>{e.preventDefault(),e.stopPropagation();const t=ue[0];if(t)return void Se(e,t);if(de)return void Se(e,de,"username_contactless_search");if(!oe){const t=m.ContactCollection.assertGet((0,W.getMeUser)());return void Se(e,t)}const n=ge(le.current)[0];n?Se(e,n):(null==ye?void 0:ye.wid)&&Me(e,ye.wid)}),[ue,de,oe,ge,null==ye?void 0:ye.wid,Se,Me]),Pe=[];if(!$){const e=G.default.createElement(A.default,null,G.default.createElement(y.DefaultGroupIcon,{height:36,width:36,directional:!0,className_DONOTUSE:R.default.defaultGroupIcon}));if(Pe.push({image:e,id:z.fbt._("New group",null,{hk:"43A4qP"}),onClick:w}),(0,E.contactManagementEnabled)()){const e=G.default.createElement(A.default,null,G.default.createElement(v.DefaultUserIcon,{height:36,width:36,directional:!0,className_DONOTUSE:R.default.defaultGroupIcon})),t=z.fbt._("New contact",null,{hk:"lf7Vk"});Pe.push({image:e,id:t,onClick:Q})}if((0,s.communitiesEnabled)()&&(0,s.communitiesCreationEnabled)()){const e=G.default.createElement(A.default,null,G.default.createElement(f.CommunityGroupIcon,{directional:!0}));Pe.push({image:e,id:z.fbt._("New community",null,{hk:"2fzGYI"}),onClick:Z})}}let Oe;const Te=(e=>{if(null!=e){const t=(0,o.getPhoneNumber)(e.id),n=null!=t?m.ContactCollection.get(t):null;if(!(null!=n&&Ee.includes(n)||Ee.includes(e)))return[e]}})(de);return Oe=0!==Ee.length||de?G.default.createElement(u.default,{ref:re,contacts:Ee,flatListController:ce,frequentContacts:ue,usernameContacts:Te,onClick:i,showMe:!oe,showBot:!oe,showPersonGroupDivisionHeader:!0}):$?ve?G.default.createElement(M.SearchingNonContact,null):Ce?(0,M.SearchingNonContactError)((0,g.getErrorStr)(Ce),be):ye?G.default.createElement(F.default,{contactInfo:ye,onUnknownContactClick:Me}):G.default.createElement(M.SearchWithKeyword,{keyword:$}):G.default.createElement(M.SearchWithoutKeyword,null),G.default.createElement(C.default,{ref:t,key:"contact-modal",testid:"new-chat-drawer"},G.default.createElement(_.DrawerHeader,{title:n,type:(0,j.topMenuRedesignEnabled)()?_.DRAWER_HEADER_TYPE.SMALL:_.DRAWER_HEADER_TYPE.LARGE,onBack:a}),G.default.createElement(d.ListSearch,{ref:ae,onSearch:_e,onEnter:ke,placeholder:me,type:d.ListSearchType.NEW_CHAT_CONTACT_SEARCH,loading:ve,showPlaceholderUntilType:fe,focusOnMount:!0}),G.default.createElement(b.default,{flatListControllers:[ce],backgroundColor:(0,U.materialRefreshEnabled)()?"default":null},Pe.map(((e,t)=>{let{image:n,id:a,onClick:r}=e;return G.default.createElement(J,{key:t,image:n,primary:a,onClick:r})})),Oe))}J.displayName="PinnedItem";var ee=(0,G.forwardRef)($);t.default=ee},284435:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(n(170206)),l=a(n(46650)),o=a(n(667294));function i(e){let{choiceText:t,isChosen:n,onChoose:a}=e;return o.default.createElement(r.default,{primary:t,onClick:a,theme:"radio-button-row",image:o.default.createElement(l.default,{checked:n,hover:!1,radio:!0,onChange:a,systemUncheckedColor:!0})})}i.displayName="RadioButtonRow"},489999:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return m.default.createElement(c.SelectModal,{onConfirm:t=>{const n=e.msgText;if(1===t.length){let a;const d=t[0];a=d.isUser&&d.contact.isContactBlocked?(0,o.unblockContact)(d.contact):Promise.resolve(!0),a.then(function(){var t=(0,r.default)((function*(){if(n){if(d.urlText=e.urlText,d.active)return void u.ComposeBoxActions.paste(d,n);d.setComposeContents({text:n,timestamp:(0,l.unixTime)()})}(yield i.Cmd.openChatFromUnread(d))&&u.ComposeBoxActions.focus(d)}));return function(){return t.apply(this,arguments)}}())}else Promise.all(t.map((t=>{let a;a=t.isUser&&t.contact.isContactBlocked?(0,o.unblockContact)(t.contact):Promise.resolve(!0),a.then((()=>{t.urlText=e.urlText,(0,s.sendTextMsgToChat)(t,n)}))}))),i.Cmd.openChatFromUnread(t[0]);d.ModalManager.close()},maxItems:f.MULTICAST_LIMIT_GLOBAL,title:p.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:c.ListType.ChatSelectModal})};var r=a(n(348926)),l=n(632157),o=n(547979),i=n(780549),u=n(877171),d=n(114850),c=n(61740),s=n(498703),f=n(962260),p=n(548360),m=a(n(667294))},633698:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(103440),l=n(305521),o=a(n(395767)),i=n(114850),u=n(548360),d=a(n(667294));function c(e){const{onOK:t}=e,n=e.name||u.fbt._("Contact",null,{hk:"xBh6i"}),a=u.fbt._("To verify, send a message to {name} and try again.",[u.fbt._param("name",n)],{hk:"tR5c4"});return d.default.createElement(r.ConfirmPopup,{onOK:()=>{i.ModalManager.close(),t()},okText:(0,o.default)("OK")},d.default.createElement("div",null,d.default.createElement(l.EmojiText,{text:a})))}c.displayName="SendMsgToVerifyIdentityPopup"},229933:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(721563),l=n(811720),o=n(217714),i=n(526795),u=n(459912),d=a(n(75531)),c=a(n(923582)),s=n(454905),f=n(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t){const{starredMsgs:n,onClose:a,chat:m,headerType:h}=e,g=f.fbt._("Starred messages",null,{hk:"kjDwF"}),E=p.default.createElement(l.StarredMsgs,null),y=null!=m?p.default.createElement(o.HistorySyncChatStarredMsgsPlaceholderText,null):p.default.createElement(o.HistorySyncStarredMsgsPlaceholderText,null),v=p.default.createElement(i.MenuBarItem,{testid:"starred-menu",icon:(0,s.topMenuRedesignEnabled)()?p.default.createElement(r.CallMenuIcon,null):p.default.createElement(u.MenuIcon,null),title:f.fbt._("Menu",null,{hk:"1Kc9Wl"})},p.default.createElement(c.default,{chat:m,msgs:n.toArray()}));return p.default.createElement(d.default,{ref:t,msgCollection:n,onClose:a,chat:m,title:g,emptyListText:E,footerText:y,headerMenu:v,headerType:h})}var g=(0,p.forwardRef)(h);t.default=g},923582:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(664149),l=n(675085),o=n(114850),i=a(n(290710)),u=n(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function s(e,t){const{msgs:n,chat:a}=e;return d.default.createElement(r.Dropdown,{ref:t,type:r.MenuType.DropdownMenu,flipOnRTL:!0,key:"StarredDrawerHeader",dirX:r.DirX.LEFT},d.default.createElement(l.DropdownItem,{testid:"mi-unstar-all menu-item",action:()=>{o.ModalManager.open(d.default.createElement(i.default,{msgs:n,chat:a}))},disabled:0===n.length},u.fbt._("Unstar all",null,{hk:"34KaRh"})))}var f=(0,d.forwardRef)(s);t.default=f},163562:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onEmail:t}=e;return p.default.createElement(r.ConfirmPopup,{title:f.fbt._("Support chat is not available",null,{hk:"3TnaN7"}),onCancel:()=>u.ModalManager.close(),cancelText:(0,l.default)("Cancel"),okText:f.fbt._("Contact via email",null,{hk:"3232h1"}),onOK:()=>{new d.SupportAiSessionWamEvent({supportAiEventType:c.SUPPORT_AI_EVENT_TYPE.FALLBACK_EMAIL_BUTTON_CLICKED}).commit(),t()}},p.default.createElement(o.FlexColumn,null,p.default.createElement(i.default,{align:"center"},p.default.createElement(s.WDSTextTitle,null,f.fbt._("We are unable to start a support chat. Please try again later or contact us via email.",null,{hk:"5VWN9"})))))};var r=n(103440),l=a(n(395767)),o=n(690495),i=a(n(469733)),u=n(114850),d=n(945329),c=n(258175),s=n(851488),f=n(548360),p=a(n(667294))},331107:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=D;var r=a(n(81109)),l=a(n(348926)),o=a(n(229922)),i=n(468926),u=a(n(196554)),d=n(103440),c=n(900316),s=n(753233),f=n(258105),p=a(n(395767)),m=n(690495),h=a(n(469733)),g=n(408827),E=n(114850),y=a(n(99398)),v=n(489891),C=n(320291),b=n(751976),w=n(945329),_=n(729029),S=n(666836),M=n(625786),k=n(390737),P=n(757453),O=n(258175),T=n(851488),x=n(669050),I=n(548360),R=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),L=a(n(895851));function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function D(e){const{onEmail:t,supportTag:n,entityId:a}=e,N=(0,L.default)(),[D,A]=(0,R.useState)(!0),[j,F]=(0,R.useState)(!1),B=()=>{new w.SupportAiSessionWamEvent({supportAiEventType:O.SUPPORT_AI_EVENT_TYPE.FALLBACK_EMAIL_DIALOG_SHOWN}).commit(),E.ModalManager.open(R.default.createElement(b.StartSupportChatErrorModalLoadable,{onEmail:t}))},W=function(){var e=(0,l.default)((function*(){if(new w.SupportAiSessionWamEvent({supportAiEventType:O.SUPPORT_AI_EVENT_TYPE.START_CHAT_CLICKED}).commit(),!y.default.online)return new w.SupportAiSessionWamEvent({supportAiEventType:O.SUPPORT_AI_EVENT_TYPE.NO_INTERNET_DIALOG_SHOWN}).commit(),void E.ModalManager.open(R.default.createElement(d.ConfirmPopup,{okText:(0,p.default)("OK"),onOK:()=>E.ModalManager.close()},R.default.createElement(m.FlexColumn,null,R.default.createElement(T.WDSTextLarge,{marginBottom:20},(0,S.SupportChatNoInternetModalTitle)()),R.default.createElement(T.WDSTextSmall,null,(0,S.SupportChatNoInternetModalMessage)()))));F(!0);const e=(yield(0,P.getWhatsAppWebExternalBetaJoinedIdb)())?"[External Web Beta] #chatbot":"#chatbot",t=H();(0,o.default)((0,C.sendSupportRequest)(e,t?JSON.stringify(t):void 0),N).then((e=>{if(null!=e.message){E.ModalManager.close();const t=e.groupId;void 0!==t&&t.includes("@s.whatsapp.net")?E.ModalManager.open(R.default.createElement(v.OpenChatFlow,{chatId:(0,x.createWid)(t),onSuccess:()=>{c.DrawerManager.closeDrawerLeft()},msgText:null}),{transition:"modal-flow"}):(new w.SupportAiSessionWamEvent({supportAiEventType:O.SUPPORT_AI_EVENT_TYPE.TICKET_CREATION_DIALOG_SHOWN}).commit(),E.ModalManager.close(),k.ToastManager.open(R.default.createElement(M.Toast,{msg:(0,S.SupportChatConfirmationToast)()})))}else B(),F(!1)})).catch((()=>{B(),F(!1)}))}));return function(){return e.apply(this,arguments)}}(),H=()=>{let e={sagaKey:"saga_test"};if(D){const t=(0,g.getDebugInfo)({supportTag:n,convertFields:!0,addUserAgentDetails:!0,entityId:a});e=(0,r.default)((0,r.default)({},t),e)}return e};return R.default.createElement(d.ConfirmPopup,{okSpinner:j,okText:(0,S.SupportChatStartButtonText)(),onOK:()=>W(),okDisabled:j,cancelDisabled:j,onCancel:()=>E.ModalManager.close()},R.default.createElement(m.FlexColumn,null,R.default.createElement(h.default,{align:"center"},R.default.createElement(_.SupportChatNuxIcon,{width:200})),R.default.createElement(h.default,{marginTop:20},R.default.createElement(T.WDSTextLarge,{weight:"semibold"},I.fbt._("Chat with WhatsApp Support to get quick answers",null,{hk:"3dRh8d"}))),R.default.createElement(h.default,{marginTop:20},R.default.createElement(T.WDSTextMuted,null,(0,S.SupportChatDeviceInfoQuestion)())),R.default.createElement(m.FlexRow,{marginTop:20},R.default.createElement(h.default,{grow:1},R.default.createElement("label",{htmlFor:"contact-us-include-device"},R.default.createElement(T.WDSTextTitle,null,(0,S.SupportChatDeviceInfoContext)()," ",R.default.createElement(s.ExternalLink,{href:(0,f.getSupportChatFaqUrl)(),onClick:()=>{new w.SupportAiSessionWamEvent({supportAiEventType:O.SUPPORT_AI_EVENT_TYPE.REVIEW_INFORMATION_LEARN_MORE_CLICKED}).commit()}},I.fbt._("Learn more",null,{hk:"1rcCLt"}))))),R.default.createElement(h.default,{grow:0},R.default.createElement(i.CheckBox,{checked:D,id:"contact-us-include-device",testid:"contact-us-include-device",onChange:()=>A(!D)}))),R.default.createElement(h.default,{marginTop:20},R.default.createElement(T.WDSTextMuted,null,I.fbt._("Not ready for support chat? {linked_text_to_contact_support_via_email}",[I.fbt._param("linked_text_to_contact_support_via_email",R.default.createElement(u.default,{onClick:()=>{new w.SupportAiSessionWamEvent({supportAiEventType:O.SUPPORT_AI_EVENT_TYPE.CONTACT_US_VIA_EMAIL_MENU_ITEM_CLICKED}).commit(),E.ModalManager.close(),t()},testid:"contact-us-email-link"},I.fbt._("Contact us via email",null,{hk:"2VdfCn"})))],{hk:"ILR3s"})))))}D.displayName="StartSupportChatModal"},290710:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(351053),l=n(103440),o=n(305521),i=n(114850),u=n(548360),d=a(n(667294));const c=()=>{i.ModalManager.close()};function s(e){const{chat:t,msgs:n}=e;return d.default.createElement(l.ConfirmPopup,{onOK:()=>{t&&t.pendingAction++,r.ChatCollection.unstarAllMessages(n,t).finally((()=>{t&&t.pendingAction--})),i.ModalManager.close()},okText:u.fbt._("Unstar",null,{hk:"p4Vgd"}),onCancel:c},d.default.createElement("div",null,d.default.createElement(o.EmojiText,{text:u.fbt._("Unstar all messages?",null,{hk:"2DlC9f"})})))}s.displayName="UnstarAllPopup"},306225:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(953213),l=a(n(908081)),o=a(n(324093)),i=n(626194),u=n(305521),d=n(649917),c=n(81644),s=n(118612),f=n(435595),p=n(634401),m=a(n(401438)),h=n(791648),g=n(548360),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),y=a(n(156720));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const C={position:"g0rxnol2",marginBottom:"brac1wpa",backgroundColor:"ihvf49ua",boxShadow:"tio0brup"},b={paddingTop:"emrlamx0"},w={position:"g0rxnol2",zIndex:"nbczt5ty",height:"noboit18",backgroundColor:"gulicvea"},_={position:"lhggkp7q",end:"druapeav",bottom:"k2umuq2k"};function S(e){let{contact:t}=e;const n=(0,h.parseVcard)(t.vcard);return n?E.default.createElement("div",{className:(0,y.default)(C)},E.default.createElement(m.default,{parsedVcard:n,thumbnail:(0,h.vcardThumbnail)(n)})):null}function M(e,t){const{contactList:n,onSend:a,onBack:m,chat:h}=e;let v;if(null!=h.kind)switch(h.kind){case r.ChatKindType.Chat:v=g.fbt._({"*":'Send {count} contacts to "{chat}"?',_1:'Send 1 contact to "{chat}"?'},[g.fbt._plural(n.length,"count"),g.fbt._param("chat",h.title())],{hk:"1YHTCp"});break;case r.ChatKindType.Group:v=g.fbt._({"*":'Send {count} contacts to "{chat}"?',_1:'Send 1 contact to "{chat}"?'},[g.fbt._plural(n.length,"count"),g.fbt._param("chat",h.title())],{hk:"1fiTsV"});break;case r.ChatKindType.Broadcast:v=g.fbt._({"*":'Send {count} contacts to "{chat}"?',_1:'Send 1 contact to "{chat}"?'},[g.fbt._plural(n.length,"count"),g.fbt._param("chat",h.title())],{hk:"2YFPEr"});break;case r.ChatKindType.Community:case r.ChatKindType.Newsletter:}const C=v?E.default.createElement(u.EmojiText,{text:v,direction:"auto",titlify:!0,ellipsify:!0}):null;return E.default.createElement(s.Modal,{ref:t,type:s.ModalTheme.Box},E.default.createElement(l.default,null,E.default.createElement(i.DrawerHeader,{type:i.DRAWER_HEADER_TYPE.POPUP,onBack:m},C),E.default.createElement(o.default,null,E.default.createElement(c.HotKeys,null,E.default.createElement("div",{className:(0,y.default)(b)},n.map(((e,t)=>E.default.createElement(S,{key:t.toString(),contact:(0,d.vcardFromContactModel)(e)})))))),E.default.createElement("div",{className:(0,y.default)(w)},E.default.createElement("div",{className:(0,y.default)(_)},E.default.createElement(f.Round,{large:!0,onClick:a},E.default.createElement(p.SendIcon,{directional:!0}))))))}S.displayName="Vcard";var k=(0,E.forwardRef)(M);t.default=k},81499:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(881841),l=n(122583),o=a(n(670983)),i=n(798324),u=n(287461),d=n(62375),c=a(n(692629)),s=a(n(196554)),f=n(177938),p=n(660666),m=n(306703),h=a(n(245956)),g=a(n(908081)),E=a(n(324093)),y=n(626194),v=n(225882),C=n(305521),b=n(753233),w=n(258105),_=n(653887),S=n(914368),M=n(714574),k=n(858770),P=n(162164),O=J(n(213462)),T=J(n(288057)),x=n(114850),I=n(21645),R=a(n(65162)),L=n(647781),N=a(n(633698)),D=n(956113),A=n(180519),j=n(129417),F=n(459857),B=a(n(439114)),W=n(708233),H=n(548360),U=a(n(365616)),z=J(n(667294)),G=a(n(156720)),q=n(379811),V=a(n(10617)),Y=n(808446),K=n(441673),X=a(n(321201)),Z=a(n(895851));function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}function J(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const $={container:{position:"g0rxnol2",width:"e9dx81qg",height:"a2zl6d5m",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",transformOrigin:"rgztdhlt",animationName:"d30yvege",animationDuration:"eb9g83lr",animationTimingFunction:"kl1dhzdn"},circleContainer:{backgroundColor:"ur864smd"},checkmarkContainer:{backgroundColor:"bn27j4ou"},errorContainer:{backgroundColor:"rxgtltrb"},circle:{width:"ar4jf3c7",height:"aik2f73q",paddingTop:"af9wj70c",paddingEnd:"sjajxv0r",paddingBottom:"jzp2c175",paddingStart:"tdx57lpj"},spinner:{paddingTop:"af9wj70c",paddingEnd:"sjajxv0r",paddingStart:"tdx57lpj",paddingBottom:"t17ktnxr"},digit:{display:"l7jjieqr",width:"jte5jbqx"},block:{display:"l7jjieqr",width:"ilqz664c",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm"},row:{width:"yn8wkgi7",marginTop:"kiiy14zj",marginEnd:"k1jo73ug",marginBottom:"j4enbv94",marginStart:"isfiuinm",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"prv4wu9t"},checkmark:{position:"g0rxnol2",top:"myeiuhv9",fontSize:"ipry0idr",color:"k17s6i4e",textAlign:"qfejxiq4",transform:"m7vo9q63"},error:{position:"g0rxnol2",top:"myeiuhv9",fontSize:"ipry0idr",color:"k17s6i4e",textAlign:"qfejxiq4",transform:"m7vo9q63"},errorBanner:{position:"lhggkp7q",top:"dbs0ofhi",zIndex:"l355kaf8",boxSizing:"cm280p3y",width:"ln8gz9je",paddingTop:"emrlamx0",paddingEnd:"itegkywt",paddingBottom:"aiput80m",paddingStart:"rppts313",fontSize:"maaasku1",lineHeight:"q5jc98e4",color:"k17s6i4e",textAlign:"qfejxiq4",backgroundColor:"dte9zi8s"},webcam:{position:"g0rxnol2",width:"ln8gz9je",marginBottom:"r5imph41"},webcamVideo:{transform:"n4o0o7gj",transformOrigin:"sx61ek5s"},overlay:{position:"lhggkp7q",top:"qq0sjtgm",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",boxShadow:"t207h1ry"},btnClose:{position:"lhggkp7q",top:"qlcjp10l",end:"citmgm7b",color:"s4k44ver"},section:{marginTop:"ignnouf6",textAlign:"qfejxiq4",animationName:"gsqs0kct",animationDuration:"oauresqk",animationTimingFunction:"kl1dhzdn"},dragAndDropExplanation:{display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",fontSize:"enbbiyaj",textAlign:"qfejxiq4",position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0",background:"kwyvshhd"},form:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingEnd:"b7dpvuw3",paddingBottom:"s9fl9ege",paddingStart:"pxobjmf4"},photo:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"ignnouf6",marginBottom:"bibl1e27",transformOrigin:"rgztdhlt",animationName:"i9q6l8xd",animationDuration:"eb9g83lr",animationTimingFunction:"kl1dhzdn"},code:{marginTop:"iy2cu22y",textAlign:"qfejxiq4"},explanation:{fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"pm5hny62",textAlign:"qfejxiq4"},noWrap:{display:"p357zi0d",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"}};function ee(e){let{binary:t,contact:n}=e;const[a,r]=(0,z.useState)(!1),[l,o]=(0,z.useState)(null),i=(0,z.useCallback)((e=>{const t=null==e?void 0:e.getElementsByTagName("canvas")[0];if(!t)return void o(null);const n=document.createElement("canvas");n.width=t.width+10,n.height=t.height+10;const a=n.getContext("2d");a.fillStyle="white",a.fillRect(0,0,n.width,n.height),a.drawImage(t,5,5),n.toBlob((e=>o(e)),"image/png")}),[o]);let u=null;if(a&&l){const e=(0,M.getFormattedUser)(n),t=(0,M.getFormattedUser)(f.ContactCollection.assertGet((0,F.getMaybeMeUser)()));u=z.default.createElement(h.default,{file:l,download:"Verification Code between "+t+" and "+e,extension:_.AllowedFileExtensions.PNG},z.default.createElement(d.AvatarOverlay,{text:H.fbt._("Download code",null,{hk:"uiMxK"})}))}return z.default.createElement("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},u,z.default.createElement(L.WAWebQRCode,{data:t,size:S.QR_EDGE/2,onChange:i,xstyle:$.circle}))}function te(){return z.default.createElement("div",{className:(0,G.default)($.circle)},z.default.createElement("div",{className:(0,G.default)($.spinner)},z.default.createElement(D.Spinner,{size:52,stroke:4})))}function ne(e){let{binary:t,contact:n}=e;return z.default.createElement("div",{className:(0,G.default)($.container,$.circleContainer)},t?z.default.createElement(ee,{binary:t,contact:n}):z.default.createElement(te,null))}ee.displayName="VerificationQRCode",ne.displayName="QRCircle";function ae(e){if(null==e.string)return z.default.createElement("div",null,H.fbt._("Loading…",null,{hk:"3Ljo9r"}));const t=e.string;if(60!==t.length)return __LOG__(3)`verificationString:render props.string should be ${60} characters long instead of ${t.length}.`,z.default.createElement("div",null,H.fbt._("Couldn't display security code. You can verify using the QR code instead.",null,{hk:"3yMFFL"}));const n=[];for(let e=0;e<3;e++){const a=[];for(let n=0;n<4;n++){const r=[];for(let a=0;a<5;a++){const l=t.charAt(5*e*4+5*n+a);r.push(z.default.createElement("span",{className:(0,G.default)($.digit),key:a},l))}a.push(z.default.createElement("span",{className:(0,G.default)($.block),key:n},r))}n.push(z.default.createElement(m.SelectableDiv,{className:(0,G.default)($.row),key:e,selectable:!0},a))}return z.default.createElement(m.SelectableDiv,{selectable:!0},n)}const re=(0,z.memo)(ae,((e,t)=>t.string===e.string));function le(){return z.default.createElement("div",{className:(0,G.default)($.container,$.checkmarkContainer)},z.default.createElement("div",{className:(0,G.default)($.checkmark)},"✓ "))}function oe(){return z.default.createElement("div",{className:(0,G.default)($.container,$.errorContainer)},z.default.createElement("div",{className:(0,G.default)($.error)},"!"))}function ie(e){let{children:t}=e;return z.default.createElement("div",{className:(0,G.default)($.errorBanner)},t)}function ue(e){let{binary:t,contact:n,state:a}=e;switch(a){case"qr":return z.default.createElement(ne,{binary:t,contact:n});case"checkmark":return z.default.createElement(le,null);default:return z.default.createElement(oe,null)}}re.displayName="VerificationString",ie.displayName="VerificationBanner",ue.displayName="VerificationCircle";function de(e){const{stream:t,onCapture:n,disposeStream:a}=e,r=(0,z.useRef)(null),l=(0,z.useRef)(!1),o=(0,z.useRef)(null),i=(0,z.useRef)(null),[u]=(0,V.default)((()=>{var e;const t=null===(e=o.current)||void 0===e?void 0:e.underlyingVideo();if(!t)return;const a=document.createElement("canvas");a.width=t.videoWidth/2,a.height=t.videoHeight/2;const r=a.getContext("2d");r.drawImage(t,a.width/2,a.height/2,a.width,a.height,0,0,a.width,a.height);const l=r.getImageData(0,0,a.width,a.height);n(l)}),200);(0,z.useEffect)((()=>((0,O.isSrcObjectInVideoElement)()||(r.current=window.URL.createObjectURL(t)),()=>{t&&(null==a||a(),null!=r.current&&window.URL.revokeObjectURL(r.current))})),[]);const d=()=>{var e;const t=null===(e=o.current)||void 0===e?void 0:e.underlyingVideo(),n=i.current;if(!t||!n)return;const a=t.offsetHeight,r=t.offsetWidth,l=r/3,u=l;n.style.width=l+"px",n.style.height=u+"px",n.style.margin=(a-u)/2+"px "+(r-l)/2+"px"},c=()=>{!0!==l.current&&(d(),u())};(0,Y.useListener)(window,"resize",d);let s=null;var f;e.stream&&(s=z.default.createElement("div",{className:(0,G.default)($.webcam)},z.default.createElement("div",{className:(0,G.default)($.webcamVideo)},z.default.createElement(B.default,{autoPlay:!0,ref:o,onPlay:c,src:null!==(f=r.current)&&void 0!==f?f:void 0,srcObject:null!=r.current?void 0:e.stream,width:"100%"})),z.default.createElement("div",{className:(0,G.default)($.overlay),ref:i}),z.default.createElement("button",{onClick:e.onClose,className:(0,G.default)($.btnClose)},z.default.createElement(W.XAltIcon,null))));return s}function ce(e,t){const{contact:n,onClose:a,isFirstLevel:d=!1}=e,f=(0,X.default)(),m=(0,Z.default)(),[h,_,S,L,D,B,W,V,Y,Q,J]=(0,q.useContactValues)(n.id,[M.getVerificationBinary,M.getVerificationString,M.getFormattedUser,M.getFormattedShortName,p.getIsMe,p.getId,p.getShowBusinessCheckmarkAsPrimary,M.getPhoneNumber,M.getDisplayName,M.getShareOwnPn,M.getPnForLid]),ee=(0,z.useRef)(null),te=(0,z.useRef)(null),ne=(0,z.useRef)(null),[ae,le]=(0,z.useState)("qr"),[oe,ce]=(0,z.useState)(null),[se,fe]=(0,z.useState)(null),[pe,me]=(0,z.useState)(!1),[he,ge]=(0,z.useState)(null),[Ee,ye]=(0,z.useState)(null),ve=()=>{(0,P.getIdentityVerificationDataJob)(B,{shareOwnPn:Q||!B.isLid()||(0,F.isMeAccount)(B)}).then((e=>{m.aborted||(e?((0,r.compareArrayBuffer)(he,e.binary)&&!e.string!==Ee||(null!=he&&x.ModalManager.open(z.default.createElement(v.E2eChangeModal,{contact:n})),ge(e.binary),ye(e.string)),we()):(_e(),x.ModalManager.open(z.default.createElement(N.default,{name:S,onOK:()=>{a?a():null==f||f.requestDismiss()}}))))}))},[Ce]=(0,K.useTimeout)((0,z.useCallback)((()=>ce(null)),[ce]),5e3),be=e=>{le("qr"),ce(e),Ce()},[we,_e]=(0,K.useTimeout)(ve,1e3),[Se]=(0,K.useTimeout)((0,z.useCallback)((()=>le("qr")),[le]),3e3);function Me(e){Pe(),ce(null),le(e),Se()}const[ke]=(0,K.useTimeout)((()=>{se&&null==oe&&be(H.fbt._("Please try increasing the brightness or reducing light reflection.",null,{hk:"2uEW7v"}))}),7e3),Pe=()=>{ce(null),fe(null),ee.current=null},Oe=e=>{const t=(e=>{let t;const n=L;switch(e){case i.FingerprintValidationResult.UNEXPECTED_VERSION_OLD:t=H.fbt._("The scanned QR code was generated by an out of date app version, please update the other device to the latest version and try again.",null,{hk:"3fV95G"});break;case i.FingerprintValidationResult.UNEXPECTED_VERSION_NEW:t=H.fbt._("Your client version is out of date, please update this device to the latest version and try again.",null,{hk:"1MGkqb"});break;case i.FingerprintValidationResult.REMOTE_WRONG_CHAT_PEER:t=H.fbt._('You opened "Verify Security Code" for the wrong account on your other device. Open it for {contact_name} to verify.',[H.fbt._param("contact_name",n)],{hk:"4wlUz5"});break;case i.FingerprintValidationResult.REMOTE_WRONG_CHAT:t=H.fbt._('You opened "Verify Security Code" for the wrong phone number. Open it for the correct number to verify {contact_name}.',[H.fbt._param("contact_name",n)],{hk:"3Pn5o6"});break;case i.FingerprintValidationResult.LOCAL_WRONG_CHAT:t=H.fbt._('{contact_name} opened "Verify Security Code" for the wrong chat. Ask {contact_name} to open it for your account.',[H.fbt._param("contact_name",n)],{hk:"2T7QR"});break;case i.FingerprintValidationResult.LOCAL_PN_MISMATCH:t=H.fbt._("Unable to verify your phone number. Share your phone number with {contact_name} and try again.",[H.fbt._param("contact_name",n)],{hk:"4iLxUB"});break;case i.FingerprintValidationResult.REMOTE_PN_MISMATCH:case i.FingerprintValidationResult.REMOTE_PN_MISMATCH_PEER:case i.FingerprintValidationResult.REMOTE_PN_MISSING_PEER:case i.FingerprintValidationResult.REMOTE_PN_MISSING:t=H.fbt._("Unable to verify the phone number of {contact_name} . Ask {contact_name} to share their phone number and try again.",[H.fbt._param("contact_name",n)],{hk:"4tgzgH"});break;case i.FingerprintValidationResult.LOCAL_USERNAME_MISMATCH:case i.FingerprintValidationResult.LOCAL_USERNAME_MISSING_PEER:case i.FingerprintValidationResult.LOCAL_USERNAME_MISSING:t=H.fbt._("Unable to verify your username. Send a message to {contact_name} and try again.",[H.fbt._param("contact_name",n)],{hk:"3NvFyY"});break;case i.FingerprintValidationResult.REMOTE_USERNAME_MISMATCH_PEER:case i.FingerprintValidationResult.REMOTE_USERNAME_MISMATCH:case i.FingerprintValidationResult.REMOTE_USERNAME_MISSING_PEER:case i.FingerprintValidationResult.REMOTE_USERNAME_MISSING:t=H.fbt._("Unable to verify the username of {contact_name} . Ask {contact_name} to send you a message and try again.",[H.fbt._param("contact_name",n)],{hk:"2wKGai"});break;case i.FingerprintValidationResult.MALFORMED_CODE:default:t=H.fbt._("The image does not contain a valid identity verification QR code.",null,{hk:"4q3XzO"})}return t})(e);be(t)},Te=(e,t)=>{const n=function(e){const t=(0,U.default)(e.data,e.width,e.height,{inversionAttempts:"dontInvert"});if(!t)return null;return Uint8Array.from(t.binaryData)}(e);if(t&&!n)return;const a=function(e,t){if(!e)return i.FingerprintValidationResult.MALFORMED_CODE;try{const n=(0,j.usernameDisplayedEnabled)();return(0,i.validateFingerprint)(e,new Uint8Array(t),n)}catch(e){return i.FingerprintValidationResult.MALFORMED_CODE}}(n,(0,o.default)(he,"verificationBinary"));a!==i.FingerprintValidationResult.SUCCESS?a!==i.FingerprintValidationResult.LOCAL_KEYS_MISMATCH&&a!==i.FingerprintValidationResult.REMOTE_KEYS_MISMATCH&&a!==i.FingerprintValidationResult.LOCAL_PN_MISMATCH_PEER&&a!==i.FingerprintValidationResult.LOCAL_USERNAME_MISMATCH_PEER?Oe(a):Me("error"):Me("checkmark")},xe=e=>{e.stopPropagation(),Ie(e.target.files)},Ie=e=>{if(!e||!e[0])return;const t=e[0];Re(t);const n=te.current;n&&n.reset()},Re=e=>{const t=URL.createObjectURL(e),n=document.createElement("canvas"),a=n.getContext("2d"),r=new Image;r.src=t,r.onload=()=>{n.width=r.width,n.height=r.height,a.drawImage(r,0,0);const e=a.getImageData(0,0,r.width,r.height);Te(e,!1),window.URL.revokeObjectURL(t)}},Le=()=>{const{asyncStream:e,disposeStream:t}=O.start("camera");ee.current=t,e.then((e=>(e=>{le("qr"),fe(e),ke()})(e))).catch((0,l.filteredCatch)(T.GetUserMedia.NotAllowedError,(()=>{x.ModalManager.open(z.default.createElement(k.GuidePopup,{messaging:k.Messaging.CAMERA_FAIL,type:k.GuidePopupType.GUIDE_UNBLOCK}))}))).catch((0,l.filteredCatch)(T.GetUserMedia.GetUserMediaError,(()=>{x.ModalManager.open(z.default.createElement(k.GuidePopup,{messaging:k.Messaging.CAMERA_MISSING,type:k.GuidePopupType.GUIDE_NONE}))})))},Ne=()=>{const e=ne.current;null==e||e.click()},De=()=>{a?a():null==f||f.requestDismiss()};(0,z.useEffect)((()=>(ve(),()=>{var e;null===(e=ee.current)||void 0===e||e.call(ee)})),[]);const Ae=H.fbt._("To verify that messages and calls with {formatted_name} are end-to-end encrypted, open this screen on your phone, and follow the instructions.",[H.fbt._param("formatted_name",J)],{hk:"7Kbro"}),je=H.fbt._("To verify that messages and calls with {formatted_name} are end-to-end encrypted, scan or upload this code on their device.",[H.fbt._param("formatted_name",J)],{hk:"3hFN3T"});let Fe,Be=null,We=null,He=null;const Ue=B.isLid()&&(null==V||!0!==Q);Fe=(0,u.getABPropConfigValue)("adv_v2_m6")?Ue?je:H.fbt._("To verify that messages and calls with {contactName} are end-to-end encrypted, scan or upload this code on their device. You can also compare the number above instead.",[H.fbt._param("contactName",L)],{hk:"9dDDf"}):Ue?Ae:H.fbt._("To verify that messages and calls with {contactName} are end-to-end encrypted, scan or upload this code on their device. You can also compare the number above instead.",[H.fbt._param("contactName",L)],{hk:"9dDDf"}),D&&(Fe=H.fbt._("To verify that messages with yourself are end-to-end encrypted, scan or upload this code on your device. You can also compare the number above instead.",null,{hk:"2ZIyy6"})),he&&(R.default&&(Be=z.default.createElement("div",{className:(0,G.default)($.section)},null!=se?z.default.createElement(c.default,{type:"primary",onClick:Pe},H.fbt._("Turn Off Camera",null,{hk:"3OyAHl"})):z.default.createElement(c.default,{type:"primary",onClick:Le},H.fbt._("Scan Code",null,{hk:"170pLA"})))),We=z.default.createElement("div",{className:(0,G.default)($.section)},z.default.createElement(c.default,{type:"primary",onClick:Ne},H.fbt._("Upload Code",null,{hk:"2aJIAo"})),pe&&z.default.createElement("div",{className:(0,G.default)($.dragAndDropExplanation)},H.fbt._("Release to verify…",null,{hk:"2K08kb"}))),He=z.default.createElement("form",{ref:te,method:"POST"},z.default.createElement("input",{ref:ne,accept:"image/*",type:"file",style:{display:"none"},onChange:xe,onClick:e=>e.stopPropagation()})));const ze=se&&z.default.createElement(de,{stream:se,disposeStream:ee.current,onCapture:e=>{Te(e,!0)},onClose:Pe});let Ge,qe;d?Ge=De:qe=De;const Ve=z.default.createElement(I.Name,{contact:n,showBusinessCheckmark:W,titlify:!0,ellipsify:!0,showMessageYourselfName:!0});return z.default.createElement(g.default,{ref:t,onDrop:e=>{he&&(e.stopPropagation(),Ie(e.dataTransfer.files))},onDragChange:e=>{me(e)}},z.default.createElement(y.DrawerHeader,{type:y.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onBack:qe,onCancel:Ge},z.default.createElement(A.TextDiv,{theme:"title"},z.default.createElement(C.EmojiText,{text:H.fbt._("Verify Security Code",null,{hk:"1vTVgt"})})),z.default.createElement(A.TextDiv,{theme:"small",xstyle:$.noWrap},D?Ve:z.default.createElement(C.EmojiText,{text:H.fbt._("You, {contact-name}",[H.fbt._param("contact-name",S)],{hk:"3zkeq7"}),ellipsify:!0}))),ze,null!=oe&&z.default.createElement(ie,null,oe),z.default.createElement(E.default,null,z.default.createElement("div",{className:(0,G.default)($.form)},z.default.createElement("div",{className:(0,G.default)($.photo)},z.default.createElement(ue,{state:ae,binary:he,contact:n})),z.default.createElement("div",{className:(0,G.default)($.section)},z.default.createElement("div",{className:(0,G.default)($.code),dir:"ltr"},null!=Ee&&z.default.createElement(re,{string:Ee}))),z.default.createElement("div",{className:(0,G.default)($.section)},z.default.createElement("p",{className:(0,G.default)($.explanation)},z.default.createElement("span",null,Fe," "),z.default.createElement(s.default,{onClick:()=>{(0,b.openExternalLink)((0,w.getE2EFaqUrl)())}},H.fbt._("Learn more",null,{hk:"1rcCLt"})))),Be,We,He)))}var se=(0,z.forwardRef)(ce);t.default=se},569389:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=a(n(111457)),l=a(n(667294));function o(e){let{mimeType:t,url:n}=e;return l.default.createElement("div",{className:r.default.container,"data-animate-attach-media":!0},l.default.createElement("div",{className:r.default.media},l.default.createElement("audio",{controls:!0,type:t,src:n})))}o.displayName="AttachMediaTypeAudio"},470608:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(n(662519)),l=n(396574),o=n(937484),i=a(n(667294));function u(e){var t,n;let{filename:a,mimeType:u}=e;const d=(0,l.classnamesConvertMeToStylexPlease)(r.default.icon,null!==(t=null===(n=o.DOCUMENT_MIMETYPES[u])||void 0===n?void 0:n.icon)&&void 0!==t?t:"icon-doc-generic");return i.default.createElement("div",{className:r.default.container,"data-animate-attach-media":!0},i.default.createElement("div",{className:r.default.media},i.default.createElement("div",{className:r.default.document},i.default.createElement("div",{className:d}),i.default.createElement("div",{className:r.default.text},a))))}u.displayName="AttachMediaTypeFile"},110535:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=a(n(967154)),l=a(n(535937)),o=a(n(356933)),i=n(396574),u=n(937484),d=a(n(821384)),c=n(956113),s=a(n(439114)),f=n(548360),p=a(n(667294));const m=(0,l.default)(u.MIMETYPES,(e=>"image"===(null==e?void 0:e.msgType)||"video"===(null==e?void 0:e.msgType)));function h(e){let t,{isGif:n,mimeType:a,preview:l,processing:u,size:h,url:g}=e;switch(m[a].msgType){case"image":t=p.default.createElement("img",{alt:f.fbt._("Preview",null,{hk:"1wMxOr"}),src:g,className:o.default.img});break;case"video":{const e=n?{loop:!u,autoPlay:!u,muted:!1,controls:!1}:{},a=u?p.default.createElement("div",{className:o.default.spinner},p.default.createElement(c.Spinner,{color:"white",size:50,stroke:3})):null,d=l?p.default.createElement("img",{alt:f.fbt._("Preview",null,{hk:"1wMxOr"}),className:o.default.staticPreview,src:`data:image/jpeg;base64,${l}`}):null,m=u?null:p.default.createElement(s.default,(0,r.default)({controls:!0,controlsList:"nodownload nofullscreen",className:o.default.video},e,{src:g}));t=p.default.createElement("div",{className:(0,i.classnamesConvertMeToStylexPlease)(o.default.img,o.default.videoContainer)},a,m,d);break}case"audio":t=p.default.createElement("audio",{controls:!0,className:o.default.audio,type:a,src:g})}return p.default.createElement("div",{className:o.default.container,"data-animate-attach-media":!0},p.default.createElement("div",{className:o.default.media},p.default.createElement(d.default,{type:"scaleDown",size:h},t)))}h.displayName="AttachMediaTypeMedia"},535355:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(470608)),l=a(n(820989)),o=n(396574),i=a(n(932325)),u=a(n(821384)),d=n(548360),c=a(n(667294));function s(e){let{filename:t,fullPreview:n,fullPreviewSize:a,mimeType:s,pageCount:f,showBorder:p=!1,showPageCount:m=!0}=e;if(n&&a&&null!=f&&f>0){const e=d.fbt._({"*":"{count} Pages",_1:"{count} Page"},[d.fbt._plural(f),d.fbt._param("count",i.default.n(f))],{hk:"fZM9c"});return c.default.createElement("div",{className:l.default.container,"data-js-attach-preview":!0},c.default.createElement("div",{className:l.default.preview},c.default.createElement(u.default,{type:"scaleDown",size:a},c.default.createElement("img",{alt:d.fbt._("Preview",null,{hk:"1wMxOr"}),src:n,className:(0,o.classnamesConvertMeToStylexPlease)({[l.default.imgBorder]:p,[l.default.img]:!0})}))),m&&c.default.createElement("div",{className:l.default.caption},e))}return c.default.createElement(r.default,{mimeType:s,filename:t})}s.displayName="AttachMediaTypePdf"},915132:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=null==e.maxItems?i.ServerProps.maxParticipants:e.maxItems;return d.default.createElement(l.SelectModal,{onConfirm:t=>{0===t.length&&r.ModalManager.close(),(t=>{for(const n of t)(0,o.default)(e.contacts,n),n.composeQuotedMsg=null;e.onContactsSent(t[0]),r.ModalManager.close()})(t)},maxItems:t,title:u.fbt._("Send contacts",null,{hk:"9ZMyz"}),listType:l.ListType.ChatSelectModal,onCancel:()=>{r.ModalManager.close()}})};var r=n(114850),l=n(61740),o=a(n(27752)),i=n(937001),u=n(548360),d=a(n(667294))},568898:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=t.COLOR_OPTIONS=void 0,t.EditGroupProfileDrawer=H,t.PHOTO_SIZE=t.ImageType=t.IMAGE_SIZE=void 0;var r=a(n(348926)),l=a(n(670983)),o=n(327671),i=a(n(908081)),u=a(n(324093)),d=n(626194),c=a(n(842990)),s=n(84409),f=n(690495),p=a(n(469733)),m=n(29394),h=n(234200),g=n(145192),E=n(675249),y=n(139519),v=n(915272),C=n(435595),b=n(625786),w=n(390737),_=a(n(774426)),S=a(n(747384)),M=a(n(556869)),k=n(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),O=a(n(156720));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}t.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=64;const x=n(76672).Mirrored(["EMOJI","STICKER"]);t.ImageType=x;const I={container:{backgroundColor:"p1zdgkh6",position:"g0rxnol2",width:"ln8gz9je",height:"ppled2lx"},body:{flexGrow:"ggj6brxn"},footer:{display:"p357zi0d",position:"g0rxnol2",width:"ln8gz9je",height:"db4qzak4",zIndex:"b9fczbqn",alignItems:"gpmkiw74",justifyContent:"ac2vgrno",backgroundColor:"rrq4r3yd"},btn:{transform:"m7vo9q63"},photoContainer:{marginTop:"lxsc1wef",marginEnd:"poiibwu2",marginBottom:"iyjcf3gk",marginStart:"hqw9ulo5",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",overflowX:"gfz4du6o",overflowY:"r7fjleex",isolation:"mge1ni6g"},colorPanel:{marginTop:"etgvethi"}},R={emojiIcon:{width:"hgg0ttet",height:"qgpfrw6h"},stickerIcon:{width:"oimozejp",height:"f2o2jtpu"}},L=[["purple","sky-blue","green","yellow","orange","pink"],["cool-gray","cobalt","teal","red","sand"]],N=[].concat(...L);t.COLOR_OPTIONS=N;const D=160;t.PHOTO_SIZE=D;const A=104;t.IMAGE_SIZE=A;const j=90,F=48;function B(e){const t=[],n=e.split(" ");for(let e=0;e<n.length;e++)n[e].length>0&&t.push(n[e]);return t}function W(e,t){let n="";for(let e=0;e<t.length;e++)n+=(0===e?"":" ")+t[e].text;const a=B(n);if(e.length!==a.length)return!0;for(let t=0;t<e.length;t++)if(e[t]!==a[t])return!0;return!1}function H(e){var t,n;let{onCancel:a,onFinished:T,sendEmojiStickerPanelOpenLoggingEvent:H,title:U}=e;const[z,G]=(0,P.useState)(null),[q,V]=(0,P.useState)(null),[Y,K]=(0,P.useState)(null),[X,Z]=(0,P.useState)(0),Q=(0,P.useRef)(null),J=(0,P.useRef)(null),$=(0,P.useRef)(!1),ee={EMOJI:0,STICKER:1},te=(0,P.useRef)({[ee.EMOJI]:()=>{},[ee.STICKER]:()=>{}}),ne=(0,P.useRef)([]),ae=(0,P.useRef)(null),re=k.fbt._("CHOOSE AN EMOJI OR STICKER",null,{hk:"2wW3mU"}).toString();(0,P.useEffect)((()=>{var e;null===(e=J.current)||void 0===e||e.cache()}),[z]),(0,P.useEffect)((()=>{const e=ae.current;if(null==e)return;const t=B(re);let n=W(t,e.textArr);for(;e.getHeight()>F||n;)e.fontSize(e.fontSize()-1),n=W(t,e.textArr)}),[re]);const le=P.default.createElement(y.Stage,{width:D,height:D,className:(0,O.default)(I.photoContainer),ref:Q,onClick:()=>{null==z&&null==Y&&K(0)}},P.default.createElement(y.Layer,null,P.default.createElement(y.Rect,{width:D,height:D,fill:(0,_.default)(N[X],200)}),null==z?P.default.createElement(y.Text,{ref:ae,x:80,y:80,width:j,height:F,offset:{x:j/2,y:F/2},lineHeight:1.14,align:"center",verticalAlign:"middle",text:re,fontSize:14,fontFamily:'"SF Pro Text", "SF Pro Icons", system, -apple-system, system-ui, "system-ui", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", "Kohinoor Devanagari", sans-serif',fill:(0,_.default)("cool-gray-alpha",50)}):P.default.createElement(y.Image,{ref:J,width:A,height:A,offset:{x:52,y:52},x:80,y:80,image:z,filters:q===x.EMOJI&&$.current?[S.default]:[]})));Object.values(ee).forEach((e=>{"number"==typeof e&&(te.current[e]=()=>{Y===e&&K(null)})}));const oe=function(){var e=(0,r.default)((function*(e,t){try{if(null!=e){const t=yield(0,E.createImageFromEmoji)(e);t&&(G(t),$.current=t.naturalWidth<=64&&t.naturalHeight<=64,V(x.EMOJI))}else{if(null==t)throw(0,M.default)("Neither emoji nor sticker is provided in handleEmojiStickerSelect()");{const e=yield(0,E.createImageFromSticker)(t);G(e),V(x.STICKER)}}}catch(e){w.ToastManager.open(P.default.createElement(b.Toast,{msg:k.fbt._("Failed to add image",null,{hk:"4BUTOp"})}))}}));return function(){return e.apply(this,arguments)}}(),ie=P.default.createElement("div",{className:(0,O.default)(I.btn),key:"btn-submit"},P.default.createElement(C.Round,{large:!0,onClick:()=>{if(null==z)w.ToastManager.open(P.default.createElement(b.Toast,{msg:k.fbt._("Choose an emoji or sticker to continue",null,{hk:"4i6xej"}),id:"ChooseAnEmojiOrStickerToContinueToast"}),w.ToastPosition.CENTER);else{var e,t,n,a;const r=null!==(e=null===(t=Q.current)||void 0===t?void 0:t.toDataURL({mimeType:"image/jpeg",pixelRatio:v.PROF_PIC_THUMB_SIDE/D,quality:0,width:D,height:D}))&&void 0!==e?e:"",o=null!==(n=null===(a=Q.current)||void 0===a?void 0:a.toDataURL({mimeType:"image/jpeg",pixelRatio:2*v.PROF_PIC_MIN_SIDE/D,quality:1,width:D,height:D}))&&void 0!==n?n:"";T(r,o,(0,l.default)(q,"selectedImageType"))}},theme:null==z?C.RoundTheme.Disabled:void 0,label:k.fbt._("Submit picture",null,{hk:"Kgb4U"})},P.default.createElement(o.CheckmarkLargeIcon,null)));return P.default.createElement(i.default,{key:"attach-edit-group-profile-modal",theme:"products"},P.default.createElement(d.DrawerHeader,{title:U,type:"multiMediaGallery",onCancel:a}),P.default.createElement(u.default,{overflow:"hidden"},P.default.createElement(f.FlexColumn,{className:(0,O.default)(I.container),align:"center",justify:"center"},P.default.createElement(p.default,{grow:1,xstyle:I.body},P.default.createElement(f.FlexColumn,{align:"center"},P.default.createElement(p.default,null,le),P.default.createElement(p.default,null,P.default.createElement(m.IconTabs,{refs:ne.current,selectedIndex:Y,onSelect:e=>{var t;e!==Y&&(K(e),t=e===ee.EMOJI?x.EMOJI:x.STICKER,null!=H&&H(t))},tabConfigs:[{Icon:h.MediaEditorEmojiIcon,iconStyle:R.emojiIcon,ariaLabel:k.fbt._("Emojis selector",null,{hk:"3TL9SY"})},{Icon:g.MediaEditorStickerIcon,iconStyle:R.stickerIcon,ariaLabel:k.fbt._("Stickers selector",null,{hk:"2cPpsT"})}],popupAtLaunch:!0})),P.default.createElement(p.default,null,P.default.createElement(c.default,{className:(0,O.default)(I.colorPanel),colors:L,selectedIndex:X,onSelect:e=>{Z(e)}})))),P.default.createElement(p.default,{grow:0,xstyle:I.footer},ie)),Y===ee.EMOJI&&P.default.createElement(s.EmojiPanelPopup,{anchor:(0,l.default)(null===(t=ne.current[ee.EMOJI])||void 0===t?void 0:t.current,"iconTabRefs.current[tabsIndex.EMOJI]?.current"),onSelect:oe,onClose:()=>te.current[ee.EMOJI]()}),Y===ee.STICKER&&P.default.createElement(s.StickerPanelPopup,{anchor:(0,l.default)(null===(n=ne.current[ee.STICKER])||void 0===n?void 0:n.current,"iconTabRefs.current[tabsIndex.STICKER]?.current"),onSelect:e=>oe(null,e),onClose:()=>te.current[ee.STICKER]()})))}H.displayName="EditGroupProfileDrawer"},842990:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(396574),l=n(690495),o=n(81644),i=n(667738),u=a(n(774426)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),c=a(n(156720));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const f={row:{marginTop:"s11ka3oa"},btnOutline:{boxSizing:"cm280p3y",width:"mgp6u6um",height:"j8e73hjv",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",marginStart:"o1cmhq28",marginEnd:"itgzszx5"},btn:{width:"tknnhhou",height:"sai7fuui",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",":focus":{borderTopStartRadius:"mn9o3mn1",borderTopEndRadius:"xthzmdyy",borderBottomEndRadius:"jzps8tg2",borderBottomStartRadius:"jbikg389"}},btnSelected:{width:"jabl2ek9",height:"t1nufmh4"}};function p(e){let{className:t,colors:n,onSelect:a,selectedIndex:s}=e;const{theme:p}=(0,d.useContext)(i.ThemeContext),m=(0,d.useRef)(s),h=(0,d.useRef)([]),g={rows:n,getNum:()=>g.rows.reduce(((e,t)=>e+t.length),0)};let E=0;return d.default.createElement(o.HotKeys,{role:"tablist",handlers:{right:()=>{var e;const t=m.current===g.getNum()-1?0:m.current+1;null===(e=h.current[t])||void 0===e||e.focus()},left:()=>{var e;const t=0===m.current?g.getNum()-1:m.current-1;null===(e=h.current[t])||void 0===e||e.focus()}},className:(0,r.classnamesConvertMeToStylexPlease)(t)},g.rows.map(((e,t)=>d.default.createElement(l.FlexRow,{key:t,className:(0,c.default)(f.row),justify:"center"},e.map((e=>{const t=E++,n=s===t;return d.default.createElement(l.FlexRow,{key:t,justify:"center",align:"center"},d.default.createElement(l.FlexRow,{justify:"center",align:"center",className:(0,c.default)(f.btnOutline),style:{border:n?`1.5px solid ${(0,u.default)(e,"light"===p?600:300)}`:""}},d.default.createElement("button",{role:"tab",ref:e=>h.current[t]=e,tabIndex:n?0:-1,"aria-selected":n,className:(0,c.default)(f.btn,n&&f.btnSelected),style:{backgroundColor:(0,u.default)(e,200)},onClick:()=>a(t),onFocus:()=>m.current=t})))}))))))}p.displayName="ColorPanel"},774426:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n="sand"===e?(0,r.default)(o.get(`${e}-${t}`),"sandColorsMap.get(`${color}-${depth}`)"):(e=>getComputedStyle((0,r.default)(document.body,"document.body")).getPropertyValue(e))(`--wds-${e}-${t}`);if(""===n)throw(0,l.default)(`Get color failed (color=${e} depth=${t}). Please check whether wds color changed or there is a typo in color name.`);return n};var r=a(n(670983)),l=a(n(556869));const o=new Map([["sand-200","rgb(234, 224, 214)"],["sand-300","rgb(170, 148, 125)"],["sand-600","rgb(94, 83, 72)"]])},747384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[0,-1,0,-1,5,-1,0,-1,0],n=Math.round(Math.sqrt(t.length)),a=.5*n|0,r=e.data,l=e.width,o=e.height,i=new Uint8ClampedArray(r);for(let e=0;e<o;e++)for(let u=0;u<l;u++){const d=u,c=e,s=4*(e*l+u),f=[0,0,0];for(let e=0;e<n;e++)for(let r=0;r<n;r++){const u=c+e-a,s=d+r-a;if(u>=0&&u<o&&s>=0&&s<l){const a=4*(u*l+s),o=t[e*n+r];f[0]+=i[a]*o,f[1]+=i[a+1]*o,f[2]+=i[a+2]*o}}r[s]=f[0],r[s+1]=f[1],r[s+2]=f[2]}}},323795:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RETRY_OPTIONS=t.EditImageDrawer=void 0;var r=n(390934),l=n(327671),o=a(n(908081)),i=a(n(324093)),u=n(626194),d=a(n(573538)),c=a(n(727011)),s=n(753233),f=a(n(319419)),p=n(311329),m=a(n(929943)),h=a(n(821384)),g=n(785093),E=n(193085),y=n(435595),v=n(569056),C=a(n(79291)),b=a(n(844453)),w=n(548360),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),S=a(n(637660)),M=n(604774);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const P={NONE:"none",RETAKE:"retake",RESTART:"restart"};t.RETRY_OPTIONS=P;const O=(0,_.forwardRef)(((e,t)=>{var n;const{attributionUrl:a,onRetake:k,retryText:O,onFinished:T,cropShape:x}=e,I=(0,_.useRef)(),R=(0,_.useRef)(null),L=(0,S.default)((()=>new m.default({id:(0,r.randomHex)(8)}))),[N]=(0,M.useMediaEditControllerValues)(L.current,[p.getIsInitialized]),[D,A]=(0,_.useState)(!1),[j,F]=(0,_.useState)({width:500,height:361}),[B]=(0,_.useState)((()=>new d.default(e.img))),W=(e,t)=>{var n;null===(n=I.current)||void 0===n||n.drawCanvas(e,t)},H=D?_.default.createElement("div",{className:c.default.btnSend,key:"btn-send"},_.default.createElement(y.Round,{large:!0,onClick:()=>{var e,t;null===(t=I.current)||void 0===t||t.saveCanvas(),null===(e=R.current)||void 0===e||e.crop().then((e=>{let{thumb:t,full:n}=e;T(t,n),B.cleanUp()}))},label:w.fbt._("Submit image",null,{hk:"2x0Z1K"})},_.default.createElement(l.CheckmarkLargeIcon,null))):null;let U;N&&(U=_.default.createElement(g.WrappedProfileCropTool,{editedMedia:B,stage:L.current.stage,cropOverlay:L.current.cropOverlay,mediaContainer:L.current.mediaContainer,drawCanvas:W,ref:R,cropShape:x||g.CropShapeType.CIRCLE}));const z=_.default.createElement(f.default,{className:c.default.mediaElement,editedMedia:B,mediaEditController:L.current,fitType:"cover",ref:I});let G;if(k){let e;switch(O){case P.NONE:e=null;break;case P.RETAKE:e=w.fbt._("Retake",null,{hk:"tGeQz"});break;case P.RESTART:default:e=w.fbt._("Upload",null,{hk:"3FMQvb"})}G=_.default.createElement("button",{className:c.default.retake,onClick:k},_.default.createElement("div",{className:c.default.retakeIcon},_.default.createElement(E.ReturnIcon,null)),e)}const q=a?_.default.createElement("div",{className:c.default.attribution},_.default.createElement(s.ExternalLink,{className:c.default.attributionLink,href:a},C.default.hostname(a)),_.default.createElement("span",null,w.fbt._("Image may be subject to copyright.",null,{hk:"XoHv1"}),_.default.createElement(s.ExternalLink,{href:(0,v.getTosUrl)()},w.fbt._("Terms of Service",null,{hk:"1Lpm6J"})))):null,V=x===g.CropShapeType.RECT?_.default.createElement("div",{className:c.default.hintText},w.fbt._("Hint: Use 16:9 ratio images (eg. 1920 x 1020 or its multiples)",null,{hk:"Lt5na"})):void 0,Y=_.default.createElement("div",{className:c.default.footer},_.default.createElement(b.default,{transitionName:"btn"},H),q,V),K=null!==(n=e.imageSize)&&void 0!==n?n:{width:500,height:361};return _.default.createElement(o.default,{ref:t,key:"attach-edit-modal",theme:"edit"},_.default.createElement(u.DrawerHeader,{title:w.fbt._("Drag the image to adjust",null,{hk:"atCd8"}),type:"offset",onCancel:e.onCancel,focusBackOrCancel:!0},G),_.default.createElement(i.default,{overflow:"hidden"},_.default.createElement("div",{className:c.default.mediaBody},U,_.default.createElement("div",{className:c.default.containerBackground},_.default.createElement(b.default,{transitionName:"capture"},_.default.createElement(h.default,{type:"cover",size:K,onObjectLoad:e=>{null!=e&&e instanceof HTMLElement&&(!j||j.width===e.clientWidth&&j.height===e.clientHeight||F({width:e.clientWidth,height:e.clientHeight}),D||A(!0))}},z)))),Y))}));t.EditImageDrawer=O,O.displayName="EditImageDrawer"},573538:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(682492)),l=n(698210),o=a(n(79291));class i{constructor(e,t,n,a){this.updateEditData=e=>{this.saveEdits(),this.editData=(0,r.default)({},this.editData,e)},this.updateEditItems=(e,t)=>{this.saveEdits();const n=[];this.editData.items&&this.editData.items.forEach((e=>{e!==t&&n.push(e)})),n.push(e),this.editData.items=n},this.saveEdits=()=>{const e=new i(this.media,this.originalImage,this.editData,this.previous);this.previous=e},this.revertEdit=()=>{this.previous&&(this.editData=this.previous.editData,this.previous=this.previous.previous)},this.saveEditsFromCanvas=e=>{const t=e.toDataURL();this.editedImage||(this.editedImage=new Image),this.editedImage.src=t},this.exportEditedMedia=()=>{if(this.hasEdits()&&this.editedImage){const e=this.editedImage.src;return o.default.dataURLtoFile(e)}return this.media instanceof File?this.media:(0,l.createFile)([this.media],"",{type:this.media.type})},this.hasEdits=()=>!!this.previous&&this.editedImage,this.cleanUp=()=>{window.URL.revokeObjectURL(this.originalImage.src)},this.media=e,t?this.originalImage=t:(this.originalImage=new Image,this.originalImage.src=window.URL.createObjectURL(e)),this.previous=a,this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null},(0,r.default)(this.editData,n)}}t.default=i},319419:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(28238),l=a(n(821384)),o=a(n(404350)),i=n(113189),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),d=a(n(156720)),c=a(n(969651)),s=a(n(558532));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p={position:"lhggkp7q",zIndex:"rys9xrs2",display:"qibyn6m3",width:"kr1k453a",height:"lds9pm4u"},m={zIndex:"b9fczbqn",width:"ln8gz9je",height:"ppled2lx"};function h(e,t){const{mediaEditController:n,editedMedia:a,mediaPickerStatsLogger:f,activeMediaId:h}=e,g=(0,u.useRef)(null),E=(0,u.useRef)(null),y=(0,u.useRef)(null),v=(0,u.useRef)(null),[C,b]=(0,u.useState)({height:1,width:1}),[w,_]=(0,u.useState)(null),S=((0,c.default)(),(e,t)=>{if(!g.current)return;const l=g.current;t&&f&&null!=h&&f.logChange(h,t);const o=a.editData,u=(e=>{let t;return w?t=w:(t=new r.Easel.Stage(e),t.enableMouseOver()),n.stage=t,t})(l);e&&(l.width=o.width,l.height=o.height),u.removeAllChildren(),null!=o.baseItem&&u.addChild(o.baseItem),o.items&&u.addChild(...o.items);const d=a.originalImage.naturalWidth,c=a.originalImage.naturalHeight;u.regX=d/2,u.regY=c/2,u.rotation=o.rotation,(0,i.isNonZeroNumber)(o.width)&&(0,i.isNonZeroNumber)(o.height)&&(u.x=o.width/2+o.scale*o.offsetX,u.y=o.height/2+o.scale*o.offsetY),u.scaleX=o.scale,u.scaleY=o.scale,u.update(),b({width:l.width,height:l.height}),_(u)}),M=()=>{const e=a.editData;a.editedImage=null;const t=a.originalImage;if(e.width||e.height||(e.width=t.naturalWidth,e.height=t.naturalHeight),!e.baseItem){const n=new r.Easel.Bitmap(t);e.baseItem=n}S(!0)},k=()=>{S(!0);const e=g.current;e&&a.saveEditsFromCanvas(e)},P=e=>{e&&(e.children.forEach((e=>{e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.enableMouseOver(0),e.clear())};(0,u.useEffect)((()=>{(()=>{const e=a.originalImage;e.complete?M():e.onload=M})(),v.current=new r.Easel.Stage(y.current),v.current.autoClear=!1,v.current.enableMouseOver(),E.current&&(n.mediaContainer=E.current),n.cropOverlay=v.current}),[]),(0,s.default)((()=>{const e=a.originalImage;e.complete||(e.onload=void 0),k(),P(w),P(v.current)}));const O=(e,t)=>{b({width:e,height:t})};(0,u.useImperativeHandle)(t,(()=>({saveCanvas:k,drawCanvas:S,updateCanvasSize:O})));const T=u.default.createElement("canvas",{ref:y,className:(0,d.default)(p)});return u.default.createElement("div",{className:e.className,ref:E},u.default.createElement(l.default,{type:e.fitType||"scaleDown",size:C},T,u.default.createElement(o.default,{ref:g,className:(0,d.default)(m)})))}var g=(0,u.forwardRef)(h);t.default=g},929943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(481173);class r extends a.BaseModel{constructor(){super(...arguments),this.id=(0,a.prop)(),this.stage=(0,a.prop)(),this.cropOverlay=(0,a.prop)(),this.mediaContainer=(0,a.prop)()}clearStage(e){e&&(e.children.forEach((e=>{e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.clear())}}var l=(0,a.defineModel)(r);t.default=l},915272:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROF_PIC_THUMB_SIDE=t.PROF_PIC_MIN_SIDE=t.PROF_PIC_MAX_SIDE=void 0;t.PROF_PIC_MIN_SIDE=192;t.PROF_PIC_MAX_SIDE=640;t.PROF_PIC_THUMB_SIDE=96},785093:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedProfileCropTool=t.CropShapeType=void 0;var r=a(n(348926)),l=n(28238),o=y(n(428363)),i=n(81644),u=n(173144),d=n(27750),c=n(915272),s=a(n(625903)),f=a(n(556869)),p=n(548360),m=y(n(667294)),h=a(n(156720)),g=n(808446);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const v={scaler:{position:"lhggkp7q",end:"fz4q5utg",zIndex:"qjp6ryme",width:"a2hqsskl",lineHeight:"fyxtz58m",backgroundColor:"ihvf49ua",borderTopStartRadius:"f4zm7zaq",borderTopEndRadius:"aurtnaek",borderBottomEndRadius:"nsd82api",borderBottomStartRadius:"mhohgsbe",boxShadow:"d1gmyy70"},scalerButton:{color:"cs9t9or5",cursor:"ajgl1lbb"}},C=1.1,b=9/16,w=2.5625,_=n(76672).Mirrored(["CIRCLE","RECT","SQUIRCLE"]);function S(e,t){const{editedMedia:n,cropOverlay:a,drawCanvas:E}=e,y=(0,m.useRef)(0),S=(e,t)=>{const a=n.editData,r=y.current*w,l=(e-a.width/2)*a.scale,o=(e+a.width/2)*a.scale,i=(t+a.height/2)*a.scale,u=(t-a.height/2)*a.scale,d=r/2,c=r/2*b;return{overlapLeft:Math.min(0,-d-l)/a.scale,overlapRight:Math.min(0,o-d)/a.scale,overlapTop:Math.min(0,-c-u)/a.scale,overlapBottom:Math.min(0,i-c)/a.scale,x:l<-d&&o>d,y:u<-c&&i>c}},M=(t,a)=>{const r=n.editData,l=r.offsetX+t/r.scale,o=r.offsetY+a/r.scale,i=e.cropShape===_.RECT?S(l,o):((e,t)=>{const a=n.editData,r=y.current,l=(e-a.width/2)*a.scale,o=(e+a.width/2)*a.scale,i=(t+a.height/2)*a.scale;return{x:l<-r&&o>r,y:(t-a.height/2)*a.scale<-r&&i>r}})(l,o);i.x&&(r.offsetX=l),i.y&&(r.offsetY=o),E()},k=(e,t)=>{const n=e.stageX-t.x,a=e.stageY-t.y;M(n,a),t.x=e.stageX,t.y=e.stageY},P=t=>e.cropShape===_.RECT?(e=>{const t=y.current,a=n.editData,r=Math.max(e,t*w/a.width),l=Math.max(e,r);a.scale=l;const o=S(a.offsetX,a.offsetY);return{scale:a.scale,offsetX:a.offsetX+o.overlapLeft-o.overlapRight,offsetY:a.offsetY+o.overlapTop-o.overlapBottom}})(t):(e=>{const t=y.current,a=n.editData,r=Math.max(2*t/a.width,2*t/a.height),l=Math.max(e,r);if(a.width*e<t||a.height*e<t)return!1;const o=-t/l+a.width/2,i=t/l-a.width/2,u=-t/l+a.height/2,d=t/l-a.height/2;return{scale:l,offsetX:Math.min(Math.max(a.offsetX,i),o),offsetY:Math.min(Math.max(a.offsetY,d),u)}})(t),O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;const t=n.editData,a=0!==e?e:C,r=P(t.scale*a);r&&(t.scale=r.scale,t.offsetX=r.offsetX,t.offsetY=r.offsetY,E())},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;const t=n.editData,a=0!==e?e:C,r=P(t.scale/a);r&&(t.scale=r.scale,t.offsetX=r.offsetX,t.offsetY=r.offsetY,E())};(0,g.useListener)(a.canvas,"mousewheel",(e=>{e.deltaY>0?O(1.02):T(1.02)})),(0,m.useEffect)((()=>{n.saveEdits();const t=n.editData,r=a.canvas;let o;o=t.baseItem?t.baseItem.getBounds():{width:0,height:0},r.style.display="block",r.width=o.width,r.height=o.height;const i=new l.Easel.Shape;i.graphics.beginFill("rgba(0, 0, 0, 0.1)"),i.graphics.drawRect(0,0,o.width,o.height),i.regX=o.width/2,i.regY=o.height/2,i.x=o.width/2,i.y=o.height/2,i.on("mousedown",(e=>{const t={x:e.stageX,y:e.stageY},n=i.on("pressmove",k,null,!1,t);i.on("pressup",(()=>{i.off("pressmove",n)}),null,!0)})),i.cursor="move";const u=r.getContext("2d"),d=r.width,c=r.height,s=d/c>500/361?c/361:d/500;y.current=Math.min(361,500)/2*.9*s;const f=y.current;let p;if(u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,0,d,c),u.globalCompositeOperation="destination-out",u.beginPath(),e.cropShape===_.CIRCLE)u.arc(d/2,c/2,f,0,2*Math.PI,!0);else if(e.cropShape===_.RECT){const e=f*w,t=f*w*b;u.fillRect(d/2-e/2,c/2-t/2,e,t)}else if(e.cropShape===_.SQUIRCLE){p=new Path2D("M90 0C0 0 0 0 0 90s0 90 90 90 90 0 90-90 0-90-90-90Z"),u.translate(d/2-f,c/2-f);const e=2*s*.9;u.scale(e,e)}u.fillStyle="#ffffff",p?u.fill(p):u.fill(),a.addChild(i),a.update()}),[]);const x=function(){var e=(0,r.default)((function*(){var e;const t=n.editData,a=null===(e=n.editedImage)||void 0===e?void 0:e.src,r=y.current;if(!a)throw(0,f.default)("empty image");const l=2*r;let i=l;l>c.PROF_PIC_MAX_SIDE?i=c.PROF_PIC_MAX_SIDE:l<c.PROF_PIC_MIN_SIDE&&(i=c.PROF_PIC_MIN_SIDE);const u=r*w,d=r*w*b,s=yield o.crop(a,t.width/2-u/2,t.height/2-d/2,u,d,i,i*b,o.DATA_URL|o.CANVAS),p=s.images.dataUrl;return{thumb:s.images.dataUrl,full:p}}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,r.default)((function*(){var e;const t=n.editData,a=null===(e=n.editedImage)||void 0===e?void 0:e.src,r=y.current;if(!a)throw(0,f.default)("empty image");const l=2*r;let i=l;l>c.PROF_PIC_MAX_SIDE?i=c.PROF_PIC_MAX_SIDE:l<c.PROF_PIC_MIN_SIDE&&(i=c.PROF_PIC_MIN_SIDE);const u=yield o.crop(a,(t.width-l)/2,(t.height-l)/2,l,l,i,i,o.DATA_URL|o.CANVAS),d=yield o.crop(u.images.canvas,0,0,c.PROF_PIC_THUMB_SIDE,c.PROF_PIC_THUMB_SIDE),s=u.images.dataUrl;return{thumb:d.images.dataUrl,full:s}}));return function(){return e.apply(this,arguments)}}(),R=()=>e.cropShape===_.RECT?x():I();(0,m.useImperativeHandle)(t,(()=>({crop:R})));const L=(0,m.useRef)(null);return m.default.createElement("div",{className:(0,h.default)(v.scaler)},m.default.createElement(i.HotKeys,{handlers:{pageup:()=>O(),pagedown:()=>T(),down:()=>M(0,-10),up:()=>M(0,10),left:()=>M(10,0),right:()=>M(-10,0)},onFocus:e=>{if(!L.current)return;e?e.target:document.activeElement;L.current},ref:L,"aria-label":p.fbt._("Photo editor canvas widget: arrow keys move crop window, Page Up and Page Down enlarge or shrink the crop area",null,{hk:"1iV0bf"}),tabIndex:0}),m.default.createElement(s.default,{xstyle:v.scalerButton,onClick:()=>O(),"aria-label":p.fbt._("Zoom in or shrink area of photo to be cropped",null,{hk:"20MetM"}),testid:"crop-tool-zoom-in"},m.default.createElement(d.PlusIcon,null)),m.default.createElement(s.default,{xstyle:v.scalerButton,onClick:()=>T(),"aria-label":p.fbt._("Zoom out or enlarge area of photo to be cropped",null,{hk:"445oiP"}),testid:"crop-tool-zoom-out"},m.default.createElement(u.MinusIcon,null)))}t.CropShapeType=_;const M=(0,m.forwardRef)(S);t.WrappedProfileCropTool=M,M.displayName="WrappedProfileCropTool"},404350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(667294));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function l(e,t){return a.default.createElement("canvas",{className:e.className,ref:t})}function o(e,t){return e.className===t.className}var i=(0,a.memo)((0,a.forwardRef)(l),o);t.default=i},334846:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msgs:t,onForward:n,onClose:a}=e;const[i]=t,d=(0,v.getChat)(i),f="video"!==i.type&&"image"!==i.type?"message":i.type,h=t.some(w.getIsFrequentlyForwarded),g=t.some((e=>e.isForwarded)),P=t.filter((e=>!(0,w.getIsFrequentlyForwarded)(e)&&e.getForwardingScoreWhenForwarded()===c.default.FREQUENTLY_FORWARDED_SENTINEL)),x=P.length?L.default.createElement(y.default,{frequentlyForwardedCount:P.length,totalCount:t.length}):void 0,R=h?1:I.MULTICAST_LIMIT_GLOBAL,N=(0,_.getMediaMsgWithCaptionForForwarding)(t),[A,j]=(0,L.useState)(!!N),[G,q]=(0,D.default)(O.NUX.FORWARD_MEDIA_WITH_CAPTION),[V,Y]=(0,L.useState)(!1),[K,X]=(0,L.useState)(null);function Z(){return Q.apply(this,arguments)}function Q(){return(Q=(0,l.default)((function*(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(A&&G)return void Y(!0);const[l]=e,i=(0,E.forwardMessagesToChats)(t,e,A).catch((0,o.filteredCatch)(p.default,(e=>H(e.reasons)))).finally((()=>W(K,e)));return l.isNewsletter&&(yield i),a(),null==n||n(t),u.Cmd.openChatFromUnread(e[0]).then((t=>{t&&(0,s.getIsMe)(e[0].contact)&&C.UiMessageYourselfSearchAction.logMessageYourselfOpenedEvent(e[0],r)}))}))).apply(this,arguments)}const J={msgType:f,hasFrequentlyForwarded:h,hasForwarded:g,onConfirm:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.find((e=>e.isNewsletter));return null!=n?b.ModalManager.open(L.default.createElement(S.NewsletterForwardConfirmationModal,{forwardToChat:n,handleConfirm:()=>Z(e,t)})):Z(e,t)},maxItems:R,excludeChat:d,isDisabled:e=>function(e,t){if(!U(e))return!1;return!(0,M.isMsgTypeSupported)(t.type)}(e,i),customItemSecondaryText:z,excludeBroadcast:!0,title:B.title(t.length,i),includeNewsletters:(0,k.isNewsletterForwardToNewsletterEnabled)(),listType:T.ListType.ChatSelectModal,customHeader:x,ephemeralIcon:"chat-list",hasDirtyAppendMsgComposeBox:null!=K&&""!==K,previewComponent:L.default.createElement(F,{includeCaption:A,handleAppendMessage:e=>{X(e)},handleRemoveCaption:()=>{j(!1)},msgs:t,mediaMsgWithCaption:N})};return L.default.createElement(L.default.Fragment,null,L.default.createElement(T.SelectModal,(0,r.default)({},J,{tsNavigationData:d.isNewsletter&&(0,k.isNewsletterTSLEnabled)()?{surface:"channel-forward",extras:{channelWid:d.id}}:void 0})),V&&L.default.createElement(m.default,{onOk:()=>{q(),Y(!1)}}))};var r=a(n(967154)),l=a(n(348926)),o=n(122583),i=n(79672),u=n(780549),d=n(103440),c=a(n(846870)),s=n(660666),f=a(n(395767)),p=a(n(4780)),m=a(n(231422)),h=a(n(574755)),g=n(402066),E=n(450192),y=a(n(327744)),v=n(163755),C=n(165433),b=n(114850),w=n(787742),_=n(430231),S=n(829369),M=n(916330),k=n(73225),P=n(817176),O=n(95589),T=n(61740),x=n(498703),I=n(962260),R=n(548360),L=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),N=a(n(156720)),D=a(n(157558));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const j={forwardMediaWithCaptionPreview:{zIndex:"mb8var44",height:"ev3135j0",width:"ln8gz9je",backgroundColor:"ik2lb43m",boxSizing:"cm280p3y",boxShadow:"st4e8vvm"}};function F(e){let{msgs:t,mediaMsgWithCaption:n,includeCaption:a,handleRemoveCaption:r,handleAppendMessage:l}=e;const o=1===t.length&&(0,w.getIsMedia)(t[0])&&!t[0].caption,[i]=t;return(0,v.getChat)(i).isNewsletter?null:n?L.default.createElement("div",{className:(0,N.default)([j.forwardMediaWithCaptionPreview])},L.default.createElement(h.default,{msg:n,displayCaptionText:a,onRemoveCaptionSelect:r,onAppendMessage:l})):o&&(0,g.isAppendMessageWhenForwardingMediaWithoutCaptionEnabled)()?L.default.createElement("div",{className:(0,N.default)([j.forwardMediaWithCaptionPreview])},L.default.createElement(h.default,{msg:i,displayCaptionText:a,onRemoveCaptionSelect:r,onAppendMessage:l})):null}const B={title:(e,t)=>(0,w.getIsNewsletterMsg)(t)?R.fbt._({"*":"Forward updates to",_1:"Forward update to"},[R.fbt._plural(e)],{hk:"1CdG3j"}):R.fbt._({"*":"Forward messages to",_1:"Forward message to"},[R.fbt._plural(e)],{hk:"F6yRL"})};function W(e,t){if(null==e||""===e)return;const n=t.map((t=>t.isNewsletter?(0,P.sendNewsletterTextMsg)(t,e,{}):(0,x.sendTextMsgToChat)(t,e)));return Promise.all(n).catch((()=>{}))}function H(e){const t=e.map((e=>{let{chat:t,reason:n}=e;return L.default.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",n)}));b.ModalManager.open(L.default.createElement(d.ConfirmPopup,{onOK:()=>b.ModalManager.close(),okText:(0,f.default)("OK")},t),void 0)}function U(e){return e instanceof i.Chat&&e.isNewsletter}function z(e,t){if(t&&U(e))return R.fbt._("Message type not supported.",null,{hk:"2pbYhu"})}},327744:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=a(n(170206)),l=n(753233),o=n(258105),i=n(910399),u=n(548360),d=a(n(667294)),c=a(n(156720));const s={display:"p357zi0d",backgroundColor:"ihvf49ua",borderBottom:"daad4uqs"},f={display:"p357zi0d",alignItems:"gndfcl4n",marginEnd:"t9wpllip",marginStart:"hqw9ulo5",color:"tl2vja3b"};function p(e){let{frequentlyForwardedCount:t,totalCount:n}=e;const a=d.default.createElement("span",null,1===t&&1===n?u.fbt._("This message will be marked as forwarded many times.",null,{hk:"37i1m9"}):u.fbt._("One or more messages will be marked as forwarded many times.",null,{hk:"1Z8wFQ"})," ",d.default.createElement(l.ExternalLink,{href:(0,o.getFrequentlyForwardedFaqUrl)()},u.fbt._("Learn more",null,{hk:"1rcCLt"})));return d.default.createElement("div",{className:(0,c.default)(s)},d.default.createElement("div",{className:(0,c.default)(f)},d.default.createElement(i.HighlyForwardedIcon,{width:24,height:24})),d.default.createElement(r.default,{theme:"plain",primary:a,idle:!0}))}p.displayName="FrequentlyForwardedWarning"},829369:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterForwardConfirmationModal=s;var r=n(103440),l=a(n(395767)),o=n(114850),i=n(548360),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){o.ModalManager.close()}function s(e){let{forwardToChat:t,handleConfirm:n}=e;const[a,o]=(0,u.useState)(!1),i=(0,u.useCallback)((()=>{o(!0),n().finally((()=>{o(!1)}))}),[n]);return u.createElement(r.ConfirmPopup,{okSpinner:a,okDisabled:a,cancelDisabled:a,onOK:i,okText:f.okText(),title:f.title(t.name),onCancel:c,cancelText:(0,l.default)("Cancel")},f.body())}s.displayName="NewsletterForwardConfirmationModal";const f={title:e=>i.fbt._("Forward to the channel '{channel-name}'?",[i.fbt._param("channel-name",e)],{hk:"pFlK9"}),body:()=>i.fbt._("This will be visible to the channel's followers and anyone else who views the channel.",null,{hk:"Y42wn"}),okText:()=>i.fbt._("Forward to channel",null,{hk:"R3vdA"})}},231422:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=n(103440),l=n(690495),o=n(118612),i=n(180519),u=n(676345),d=n(548360),c=a(n(667294));a(n(156720));const s={featureDescriptionParagraph:{textAlign:"qfejxiq4"}};function f(e){const{onOk:t}=e,n=d.fbt._("Media and captions are now forwarded together. You can always remove the caption before you forward.",null,{hk:"2bum1H"});return c.default.createElement(r.ConfirmPopup,{okText:d.fbt._("Ok",null,{hk:"2Uluny"}),onOK:()=>{t()},type:o.ModalTheme.ForwardMediaWithCaption},c.default.createElement(l.FlexRow,{align:"center",justify:"center"},c.default.createElement(i.TextParagraph,{xstyle:[s.featureDescriptionParagraph,u.uiMargin.top16,u.uiMargin.bottom32]},n)))}f.displayName="FMWCPopupNux"},574755:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=A;var r=a(n(859297)),l=a(n(659177)),o=n(950987),i=n(63014),u=n(934740),d=n(305521),c=n(690495),s=a(n(469733)),f=N(n(675886)),p=a(n(353033)),m=n(402066),h=n(163755),g=n(397221),E=a(n(932325)),y=a(n(641206)),v=a(n(674465)),C=n(373070),b=n(150610),w=n(858486),_=n(204875),S=n(676345),M=a(n(625903)),k=n(584228),P=n(885313),O=n(763389),T=n(548360),x=N(n(667294)),I=a(n(156720)),R=n(655241);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}const D={wrapper:{position:"g0rxnol2",height:"e0pgnxzj",width:"nwg1e4mw",backgroundColor:"ik2lb43m"},textContainer:{position:"g0rxnol2",height:"ppled2lx",width:"ln8gz9je"},container:{position:"g0rxnol2",height:"ppled2lx",width:"e3boqewh",backgroundColor:"pu5bh2m8"},captionPreviewContainer:{display:"p357zi0d",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9"},composerContainer:{cursor:"n3nyt3io",opacity:"axi1ht8l",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},composerWrapper:{display:"p357zi0d"},composerInput:{height:"jzj7o2ns",alignItems:"gndfcl4n"},composerFont:{fontSize:"qaj2wqh6"},inputSuggestionsContainer:{position:"g0rxnol2",width:"ln8gz9je"},mediaThumbContainer:{minWidth:"k09609ll",height:"ppled2lx"},placeholderContainer:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},placeholderIcon:{width:"ln8gz9je",height:"ppled2lx"},thumbContainer:{width:"o0hk2os7",height:"r83416qn",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",borderTop:"ggsn7slg",borderEnd:"bwdjnla8",borderBottom:"cxbokjas",borderStart:"o9wp17a0"},thumb:{overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundRepeat:"sxl192xd",backgroundPosition:"t3g6t33p",backgroundSize:"qnwaluaf"},colorBar:{flexShrink:"oq44ahr5",width:"bbp2hc0k",backgroundColor:"tbdapmoc"},quotedCaption:{flexGrow:"ggj6brxn",width:"ln8gz9je",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"f8jlpxt4",fontWeight:"m1e7cby3",position:"g0rxnol2",color:"q70jrbp7"},xButton:{position:"g0rxnol2",top:"r8dd7jr1",end:"j2mzdvlq"},xDimensions:{height:"jdwybkuq",width:"m0s4cjtr"},xIconColor:{color:"nz9pocw8"},captionTextContainer:{width:"ln8gz9je"},captionText:{lineHeight:"a4ywakfo",display:"c32ccnay",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae","-webkit-line-clamp":"suguakab","-webkit-box-orient":"aoi073rw"},captionTextSpacing:{whiteSpace:"c2jc77nu"},mediaTypeText:{fontWeight:"hnx8ox4h"},captionPreviewContainerAnimate:{animationName:"g7kbfqzr",animationDuration:"j16a598t",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0"},mediaThumbContainerAnimate:{animationName:"a3i62pwv",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0",willChange:"ttixo1rk"},composerContainerAnimate:{animationName:"osz0hll6",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0"},mediaThumbContainerAnimateRTL:{animationName:"g39owkbt",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0",willChange:"ttixo1rk"}};function A(e){let{displayCaptionText:t,msg:n,onAppendMessage:a,onRemoveCaptionSelect:L}=e;const N=(0,R.useModelValues)(l.default.getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]),A=x.default.createElement(r.default,{msg:n.unsafe(),key:"msg-symbol"}),[j,F]=(()=>{let e=null,t=null;switch(n.type){case C.MSG_TYPE.IMAGE:e=T.fbt._("Photo",null,{hk:"4hsSZC"});break;case C.MSG_TYPE.VIDEO:n.isGif?e=T.fbt._("GIF",null,{hk:"3fkAwN"}):(e=T.fbt._("Video",null,{hk:"2SSSa2"}),t=i.Clock.durationStr(Number(n.duration))+" ")}return[t,x.default.createElement("span",{className:(0,I.default)(D.mediaTypeText)}," ",e," ")]})(),B=(0,p.default)(n.unsafe(),{stripFormatting:!1}),W=f.QuotedMention({mentions:n.mentionMap(),groupMentions:n.groupMentionMap()}),H=x.default.createElement(c.FlexColumn,{className:(0,I.default)([D.quotedCaption,S.uiPadding.all8]),align:"start",justify:"center"},x.default.createElement(s.default,null,A,j,F),x.default.createElement(s.default,{xstyle:[S.uiMargin.vert5,D.captionTextContainer]},x.default.createElement(d.EmojiText,{xstyle:D.captionTextSpacing,className:(0,I.default)(D.captionText),direction:(0,h.getDir)(n),text:B,formatters:W,ellipsify:!0,key:"status",testid:"forwarded-caption"}))),U=T.fbt._("Remove caption",null,{hk:"3DLllP"}),z=t?x.default.createElement(s.default,{grow:1,xstyle:[D.container,D.captionPreviewContainer,!t&&D.captionPreviewContainerAnimate]},x.default.createElement("span",{className:(0,I.default)(D.colorBar)}),H,x.default.createElement(M.default,{xstyle:[D.xButton,D.xDimensions],onClick:e=>{e.stopPropagation(),e.preventDefault(),L()},title:U,"aria-label":U,testid:"remove-caption"},x.default.createElement(O.XIcon,{xstyle:D.xDimensions,iconXstyle:D.xIconColor,height:20,width:20}))):null,[G,q]=(0,x.useState)(),V=null==G?void 0:G.editor,Y=V&&x.default.createElement("div",{className:(0,I.default)(D.inputSuggestionsContainer)},x.default.createElement(u.EmojiSuggestions,{kind:_.SuggestionsPanelKind.ComposeBox,editor:V})),K=T.fbt._("Add a message...",null,{hk:"3x2OzE"}),X=(0,m.isAppendMessageWhenForwardingMediaWithCaptionEnabled)()&&!t?x.default.createElement(o.Clickable,{onClick:()=>{null==G||G.focus()}},x.default.createElement(s.default,{grow:1,xstyle:[D.container,D.composerContainer,D.composerContainerAnimate]},x.default.createElement("div",{className:(0,I.default)(S.uiPadding.all12,D.composerWrapper)},x.default.createElement(b.RichTextInput,{ref:q,xstyle:D.composerInput,textXstyle:D.composerFont,multiline:!0,textFormatEnabled:!0,readOnly:!1,placeholder:K,title:K,maxVisibleLines:3,onChange:e=>{a(e.text)},testid:"append-message-compose-box",bulletPointsEnabled:(0,w.expandedTextFormattingPreviewEnabled)(),numberedListEnabled:(0,w.expandedTextFormattingPreviewEnabled)(),inlineCodeEnabled:(0,w.expandedTextFormattingPreviewEnabled)(),blockQuoteEnabled:(0,w.expandedTextFormattingPreviewEnabled)(),spellCheck:!(0,w.improvedMessageComposerEnabled)()||N.spellcheck,transformTextEmoji:!(0,w.improvedMessageComposerEnabled)()||N.transformTextEmoji,enterIsNewLine:!!(0,w.improvedMessageComposerEnabled)()&&!N.enterIsSend})))):null,Z=n.type===C.MSG_TYPE.IMAGE?g.ImgPlaceholderIcon:k.VideoPlaceholderIcon,Q=x.default.createElement("div",{className:(0,I.default)(D.placeholderContainer),key:"default"},x.default.createElement(Z,{iconXstyle:D.placeholderIcon})),J=n.type===C.MSG_TYPE.IMAGE?x.default.createElement(v.default,{mediaData:n.mediaData,placeholderRenderer:()=>Q,downloadMedia:()=>n.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:P.WEBC_RMR_REASON_CODE.OTHER,isUserInitiated:!1}),renderProgressively:!1},(e=>x.default.createElement("div",{className:(0,I.default)([D.thumbContainer,D.thumb,S.uiMargin.end8]),style:{backgroundImage:`url(${e})`}}))):x.default.createElement(y.default,{msg:n,thumbnailPlaceholder:Q,childClassName:(0,I.default)(D.thumbContainer,D.thumb,S.uiMargin.end8)});let $=null;(0,m.isAppendMessageWhenForwardingMediaWithCaptionEnabled)()||t||($=E.default.isRTL()?D.mediaThumbContainerAnimateRTL:D.mediaThumbContainerAnimate);const ee=x.default.createElement(s.default,{grow:0,xstyle:[D.mediaThumbContainer,$]},J);return x.default.createElement(x.default.Fragment,null,x.default.createElement(c.FlexRow,null,Y),x.default.createElement("div",{className:(0,I.default)([D.wrapper,S.uiPadding.all8])},x.default.createElement(c.FlexRow,{xstyle:D.textContainer,align:"center",justify:"start"},ee,z,X)))}A.displayName="ForwardMediaWithCaptionPreview"},58465:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(670983)),l=n(919833),o=n(366202),i=n(72696),u=a(n(430772)),d=a(n(682735)),c=a(n(937945)),s=a(n(659177)),f=n(177938),p=n(356097),m=a(n(908081)),h=a(n(324093)),g=n(626194),E=a(n(969358)),y=n(235630),v=n(512938),C=a(n(570834)),b=n(163755),w=a(n(667845)),_=a(n(17633)),S=n(522849),M=n(20194),k=a(n(344460)),P=n(48794),O=n(61113),T=n(787742),x=n(241164),I=a(n(273873)),R=n(373070),L=n(129673),N=a(n(258054)),D=n(956113),A=n(681959),j=n(784128),F=n(143532),B=n(180519),W=n(625786),H=n(390737),U=n(382117),z=a(n(806077)),G=n(459857),q=n(308840),V=n(402011),Y=n(744976),K=n(869513),X=n(818674),Z=n(512873),Q=n(548360),J=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=oe(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),$=a(n(156720)),ee=a(n(969651)),te=a(n(637660)),ne=n(808446),ae=n(871210),re=a(n(321201)),le=a(n(895851));function oe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(oe=function(e){return e?n:t})(e)}const ie={svg:{width:"dh5rsm73",height:"hpdpob1j"},statusBlue:{color:"sunvlxxz"},ack:{color:"ajgik1ph"},titleIcon:{display:"l7jjieqr",width:"dh5rsm73",height:"jdwybkuq",color:"s4k44ver",textAlign:"qfejxiq4",verticalAlign:"fewfhwl7"},title:{paddingTop:"gaujl5hk",paddingEnd:"bcymb0na",paddingBottom:"jd93c9cp",paddingStart:"e8k79tju",backgroundColor:"ihvf49ua"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},list:{paddingTop:"emrlamx0",paddingBottom:"gjfcmax9"}},ue=v.DEFAULT_ITEM_HEIGHT+10,de=(0,v.FlatListFactory)();function ce(e){let{participant:t,elevatedPushNamesEnabled:n}=e;return J.default.createElement(d.default,{msgInfoParticipant:t,contact:t.contact,elevatedPushNamesEnabled:n,theme:"drawer-list"})}function se(e){let{msg:t,agentName:n}=e;return J.default.createElement(u.default,{msg:t,agentName:n,theme:"drawer-list"})}function fe(e){let{msg:t}=e;const n=(0,T.getKicSender)(t);if(null!=n){const e=(a=n,f.ContactCollection.assertGet(a));return J.default.createElement(c.default,{kicTimestampMs:t.kicTimestampMs,contact:e,theme:"drawer-list"})}var a}function pe(e){let t,n,{section:a,msg:r}=e;switch(a){case S.Sections.PLAYED_HEADER:n=r.type===R.MSG_TYPE.PTV?J.default.createElement(F.StatusVideoIcon,{xstyle:ie.statusBlue,iconXstyle:ie.svg}):J.default.createElement(j.StatusPttIcon,{xstyle:ie.statusBlue,iconXstyle:ie.svg}),t=Q.fbt._("Played by",null,{hk:"3IOdgn"});break;case S.Sections.READ_HEADER:n=J.default.createElement(A.StatusDblcheckIcon,{xstyle:ie.ack,iconXstyle:ie.svg}),t=Q.fbt._("Read by",null,{hk:"4cDvak"});break;case S.Sections.SEEN_HEADER:n=J.default.createElement(A.StatusDblcheckIcon,{xstyle:ie.ack,iconXstyle:ie.svg}),t=r.isViewOnce?Q.fbt._("Seen by",null,{hk:"3MxARC"}):Q.fbt._("Seen by",null,{hk:"3vzp0U"});break;case S.Sections.DELIVERED_HEADER:n=J.default.createElement(A.StatusDblcheckIcon,{iconXstyle:ie.svg}),t=Q.fbt._("Delivered to",null,{hk:"3szSia"});break;case S.Sections.VIEWED_HEADER:n=J.default.createElement(q.ViewOnceViewedIcon,{xstyle:ie.statusBlue,iconXstyle:ie.svg}),t=Q.fbt._("Opened by",null,{hk:"1BkoM7"});break;case S.Sections.AGENT_HEADER:n=J.default.createElement(L.MultiDeviceIcon,{iconXstyle:ie.svg}),t=Q.fbt._("Sent from",null,{hk:"2AvZI7"});break;case S.Sections.KEEP_IN_CHAT_HEADER:n=J.default.createElement(M.KeepInChatIcon,{iconXstyle:ie.svg}),t=Q.fbt._("Kept by",null,{hk:"3vUw1c"});break;default:return __LOG__(4,void 0,new Error)`Invalid SECTION for group message info section header`,null}return n=J.default.createElement("div",{className:(0,$.default)(ie.titleIcon)},n),J.default.createElement("div",{className:(0,$.default)(ie.title)},J.default.createElement(N.default,{side:n,ellipsify:!0},J.default.createElement(B.TextSpan,{theme:"sectionTitle"},t)))}function me(e){let{data:t,msg:n,msgInfo:a}=e;if("contact-row"===t.kind)return J.default.createElement(ce,{participant:t.participant,elevatedPushNamesEnabled:(0,y.elevatedPushNamesM2Enabled)((0,b.getChat)(n))});if("agent-row"===t.kind)return J.default.createElement(se,{msg:n,agentName:t.agentName});if("kept-by-row"===t.kind)return J.default.createElement(fe,{msg:n});switch(t.type){case S.Sections.PLAYED_HEADER:case S.Sections.READ_HEADER:case S.Sections.SEEN_HEADER:case S.Sections.DELIVERED_HEADER:case S.Sections.VIEWED_HEADER:case S.Sections.AGENT_HEADER:case S.Sections.KEEP_IN_CHAT_HEADER:return J.default.createElement(pe,{msg:n,section:t.type});default:return J.default.createElement(_.default,{section:t.type,msgInfo:(0,r.default)(a,"msgInfo")})}}function he(e,t){const{msg:n}=e,[a,r,u,d,c,f,y,_,M,L,N,A,j,F]=(0,ae.useMsgValues)(e.msg.id,[T.getId,T.getStar,T.getType,T.getIsGif,T.getIsViewOnce,T.getLabels,T.getNumTimesForwarded,T.getIsFrequentlyForwarded,T.getAgendId,T.getKicSender,T.getKicTimestampMs,T.getIsKept,b.getAsRevoked,T.getLatestEditMsgKey]),B=(0,b.getChat)(n),q=(0,le.default)(),oe=(0,re.default)(),ce=(0,te.default)((()=>new U.UiActionWamEvent({uiActionType:Y.UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0}))),se=(0,te.default)((()=>new C.default)),fe=(0,J.useRef)(null),pe=(0,J.useRef)(null),[he,ge]=(0,J.useState)(void 0),[Ee,ye]=(0,J.useState)(!1);(0,J.useEffect)((()=>{var e;x.MsgInfoCollection.find(a).then((e=>{q.aborted||ge(e)})).catch((()=>{ye(!0),H.ToastManager.open(J.default.createElement(W.Toast,{msg:Q.fbt._("Couldn't display message info. Try again later.",null,{hk:"mRFf6"}),id:(0,W.genId)("msg_info_failed")}))}));const t=null===(e=fe.current)||void 0===e?void 0:e.getContainer();u===R.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight)}),[]),(0,J.useEffect)((()=>{const e=ce.current;if(e){const t=w.default.get(B.id),n=null==t?void 0:t.cachedDeviceSizeBucket;null!=n&&(e.sizeBucket=n),null!=t&&Object.assign(e,(0,K.getGroupCountMetricsFromGroupMetadata)(t),(0,V.getAddressingModeMetricsFromGroupMetadata)(t)),e.markUiActionT(),e.commit(),ce.current=void 0}(0,X.logUiActionShadowPrivateStatsTestEvents)(),(0,o.logMessageInfo)(M)}),[]);const ve=(0,z.default)("MD_EXTENSION"),Ce=(0,ee.default)();let be;(0,ne.useListener)(null==he?void 0:he.played,["add","remove"],Ce),(0,ne.useListener)(null==he?void 0:he.read,["add","remove"],Ce),(0,ne.useListener)(null==he?void 0:he.delivery,["add","remove"],Ce),j&&(null==oe||oe.requestDismiss()),(0,ne.useListener)(O.MsgCollection,"remove",(e=>{e.id.equals(a)&&(null==oe||oe.requestDismiss())})),(0,ne.useListener)(n,"change:latestEditMsgKey",(()=>null==oe?void 0:oe.requestDismiss())),he||Ee||(be=J.default.createElement("div",{className:(0,$.default)(ie.spinner)},J.default.createElement(D.Spinner,{size:50,stroke:4})));const we=(()=>{const e=[];if(he&&A&&null!=L&&(e.push({kind:"section",type:S.Sections.KEEP_IN_CHAT_HEADER,itemKey:S.Sections.KEEP_IN_CHAT_HEADER,height:50}),e.push({kind:"kept-by-row",itemKey:"kept-by-"+L.user,height:ue})),ve&&(0,i.isMultiDeviceMessageAttributionEnabled)()&&null!=M){var t,a;const n=null!==(t=null===(a=l.AgentCollection.get(M))||void 0===a?void 0:a.name)&&void 0!==t?t:"";e.push({kind:"section",type:S.Sections.AGENT_HEADER,itemKey:S.Sections.AGENT_HEADER,height:50}),e.push({kind:"agent-row",agentName:n,itemKey:"agent-"+n.toString(),height:ue})}const r=(0,T.getIsAckPlayable)(n),o=r||c;if(he&&o){let t=r&&!c?S.Sections.PLAYED_HEADER:S.Sections.VIEWED_HEADER;e.push({kind:"section",type:t,itemKey:t,height:50}),e.push(...he.played.map((e=>({participant:e,kind:"contact-row",itemKey:e.id.toString(),height:v.DEFAULT_ITEM_HEIGHT})))),he.playedRemaining>0&&(t=r&&!c?S.Sections.PLAYED_FOOTER:S.Sections.VIEWED_FOOTER,e.push({kind:"section",type:t,itemKey:t,height:50}))}return he&&(he.read.length>0||he.playedRemaining>0)&&(e.push({kind:"section",type:o?S.Sections.SEEN_HEADER:S.Sections.READ_HEADER,itemKey:S.Sections.READ_HEADER,height:50}),e.push(...he.read.map((e=>{var t;return(null===(t=n.invokedBotWid)||void 0===t?void 0:t.isBot())&&(0,G.isMeAccount)(e.id)?null:{participant:e,kind:"contact-row",itemKey:e.id.toString(),height:v.DEFAULT_ITEM_HEIGHT}})).filter(Boolean)),he.readRemaining>0&&e.push({kind:"section",type:S.Sections.READ_FOOTER,itemKey:o?S.Sections.SEEN_FOOTER:S.Sections.READ_FOOTER,height:50})),he&&(he.delivery.length>0||he.deliveryRemaining>0)&&(e.push({kind:"section",type:S.Sections.DELIVERED_HEADER,itemKey:S.Sections.DELIVERED_HEADER,height:50}),e.push(...he.delivery.map((e=>{var t;return(null===(t=n.invokedBotWid)||void 0===t?void 0:t.isBot())&&(0,G.isMeAccount)(e.id)?null:{participant:e,kind:"contact-row",itemKey:e.id.toString(),height:v.DEFAULT_ITEM_HEIGHT}})).filter(Boolean)),he.deliveryRemaining>0&&e.push({kind:"section",type:S.Sections.DELIVERED_FOOTER,itemKey:S.Sections.DELIVERED_FOOTER,height:50})),e})(),_e=we.length?J.default.createElement(de,{flatListController:se.current,direction:"vertical",forceConsistentRenderCount:!1,data:we,renderItem:e=>J.default.createElement(me,{data:e,msg:n,msgInfo:he})}):null;let Se=null;return f&&f.length>0&&(0,i.canDisplayLabel)()&&(Se=J.default.createElement(E.default,{theme:"padding"},J.default.createElement(k.default,{labels:f}))),J.default.createElement(m.default,{ref:t,theme:"striped"},J.default.createElement(g.DrawerHeader,{title:Q.fbt._("Message info",null,{hk:"2h2aKZ"}),type:g.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{null==oe||oe.requestDismiss()},focusBackOrCancel:!0}),J.default.createElement(I.default,{ref:fe,chatPreference:s.default.assertGet("defaultPreference")},J.default.createElement(Z.Wrapper,{msg:n,ref:pe,displayType:p.DISPLAY_TYPE.MSG_INFO,isMsgVisible:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a&&(!!n||(null===(t=pe.current)||void 0===t?void 0:t.getMsgComponentRef()))},position:P.MsgPosition.END,onProductClick:e.onProductClick})),J.default.createElement(h.default,{flatListControllers:[se.current]},Se,be,J.default.createElement("div",{className:(0,$.default)(ie.list)},_e)))}var ge=(0,J.forwardRef)(he);t.default=ge},17633:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=n(522849),l=n(830487),o=n(180519),i=n(548360),u=a(n(667294)),d=a(n(156720)),c=n(638897);const s={paddingTop:"n1yiu2zv",paddingEnd:"bcymb0na",paddingBottom:"p9a4hubg",paddingStart:"e8k79tju",backgroundColor:"ihvf49ua",boxShadow:"tio0brup"};function f(e){let{msgInfo:t,section:n}=e;const[a,f,p]=(0,c.useMsgInfoValues)(t.id,[l.getPlayedRemaining,l.getReadRemaining,l.getDeliveryRemaining]);let m,h;switch(n){case r.Sections.PLAYED_FOOTER:case r.Sections.VIEWED_FOOTER:m=a,h=a;break;case r.Sections.READ_FOOTER:case r.Sections.SEEN_FOOTER:m=f,h=f;break;case r.Sections.DELIVERED_FOOTER:m=p,h=p;break;default:return __LOG__(4,void 0,new Error)`Invalid SECTION for group message info section footer`,null}if(null==m||0===m)return null;const g=i.fbt._({"*":"{count} remaining",_1:"1 remaining"},[i.fbt._plural(h,"count")],{hk:"3ODmO9"});return u.default.createElement("div",{className:(0,d.default)(s)},u.default.createElement(o.TextSpan,{theme:"muted"},g))}f.displayName="GroupMsgInfoSectionFooter"},522849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sections=void 0;const a=n(76672).Mirrored(["DELIVERED_FOOTER","DELIVERED_HEADER","FORWARD_COUNT","PLAYED_FOOTER","PLAYED_HEADER","READ_FOOTER","READ_HEADER","SEEN_FOOTER","SEEN_HEADER","VIEWED_FOOTER","VIEWED_HEADER","AGENT_HEADER","KEEP_IN_CHAT_HEADER"]);t.Sections=a},147158:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(710920)),l=n(548360),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t){return o.default.createElement(r.default,{ref:t,onClose:e.onClose,onSend:e.onSend,wid:e.gid,invitees:e.participants.map((e=>e.contact)),chatName:e.subject,initialInviteComment:l.fbt._("Invitation to join my WhatsApp group",null,{hk:"2WNS77"}),chatNameSubtitle:l.fbt._("WhatsApp group invite",null,{hk:"Yox1t"})})}var d=(0,o.forwardRef)(u);t.default=d},120381:(e,t,n)=>{"use strict";var a=n(530066).default,r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(435161)),o=r(n(224350)),i=n(898817),u=n(370257),d=n(409623),c=r(n(908081)),s=r(n(324093)),f=n(626194),p=n(811720),m=r(n(988410)),h=r(n(335540)),g=r(n(482500)),E=I(n(978226)),y=r(n(856516)),v=n(81644),C=I(n(288057)),b=r(n(219368)),w=n(625786),_=n(390737),S=n(368170),M=r(n(556869)),k=n(548360),P=I(n(667294)),O=r(n(710629)),T=r(n(895851));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}function R(e,t){const{onImageSelected:n}=e,r=(0,T.default)(),x=(0,P.useRef)(null),I=(0,P.useRef)(null),R=(0,P.useRef)(null),L=(0,P.useRef)(!1),N=(0,P.useRef)(null),[D,A]=(0,P.useState)({}),[j,F]=(0,P.useState)(!1),[B,W]=(0,P.useState)(0),[H,U]=(0,P.useState)(""),[z,G]=(0,P.useState)([]),[q,V]=(0,P.useState)(0),Y=(0,O.default)(((e,t)=>{L.current=!1;const n=new a,r=E.search(e,t).then((t=>{var a;if(n.signal.aborted)throw new i.AbortError;r===(null===(a=N.current)||void 0===a?void 0:a.promise)&&(((e,t)=>{const n=(0,o.default)(t.value,(e=>e.thumbnailUrl)),a=(0,l.default)(t.value,(e=>({id:e.imageId,name:e.name,thumbUrl:e.thumbnailUrl}))),r=t.value.length;var i,u;H===e?(W(t.nextOffset?t.nextOffset:B+r),G(z.concat(a)),V(null!==(i=t.totalEstimatedMatches)&&void 0!==i?i:0),A(Object.assign(n,D))):(A(n),W(t.nextOffset?t.nextOffset:B+r),U(H),G(a),V(null!==(u=t.totalEstimatedMatches)&&void 0!==u?u:0))})(e,t),F(!1))})).catch((0,i.catchAbort)((()=>{}))).catch((()=>{var e;__LOG__(3,!0)`Image search failed`,_.ToastManager.open(P.default.createElement(w.Toast,{msg:k.fbt._("Image search failed",null,{hk:"9pHyN"})})),r===(null===(e=N.current)||void 0===e?void 0:e.promise)&&F(!1)})).finally((()=>{var e;r===(null===(e=N.current)||void 0===e?void 0:e.promise)&&(N.current=null)}));N.current={promise:r,controller:n},F(!0)}),750),K=()=>{Y.cancel(),L.current&&(L.current=!1),N.current&&N.current.controller.abort()},X=()=>{A({}),F(!1),W(0),U(""),G([]),V(0)},Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;L.current=!0,Y(e,t)},Q=()=>{L.current||N.current||!q||B>=q||Z(H,B)},J=e=>{const t=D[e];if(!t)return;const a=t.contentUrl;let l;if(!S.UA.isElectron)throw(0,M.default)("This call is only supported in non-MD mode");l=(0,y.default)((()=>(0,b.default)(a))).then((e=>{if(200!==e.status)throw new C.ServerStatusError(null,a,e.status);return e.blob()})),l.then((e=>{if(!r.aborted){if(!(e instanceof Blob))throw new C.ImageError("Server did not respond with image bytes",a);n(e,t.hostPageUrl)}})).catch((()=>{__LOG__(3,!0)`Image search failed`,_.ToastManager.open(P.default.createElement(w.Toast,{msg:k.fbt._("Failed to load image",null,{hk:"1k5xX"})}))}))},$=()=>{m.default.shouldIndicateFocus(),h.default.focus(x.current)},ee=f.DRAWER_HEADER_TYPE.POPUP;let te;return te=0===z.length?j?P.default.createElement(p.SearchingImages,null):H?P.default.createElement(p.ImageSearchEmpty,null):P.default.createElement(p.BeforeImageSearch,null):P.default.createElement(g.default,{ref:R,canLoadMore:B<q,isLoadingMore:j,thumbnails:z,onFocusPrev:$,onImageClick:J,onRequestMoreImages:Q}),P.default.createElement(c.default,{ref:t},P.default.createElement(f.DrawerHeader,{title:k.fbt._("Image Search",null,{hk:"p4JUz"}),type:ee,onBack:e.onBack,onCancel:e.onCancel}),P.default.createElement(s.default,null,P.default.createElement(v.HotKeys,{ref:I,handlers:{down:e=>{e.repeat||R.current&&x.current&&x.current.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),m.default.shouldIndicateFocus(),null!=R.current&&h.default.focus(R.current))}},onFocus:()=>{m.default.maybeIndicateFocus(I.current)}},P.default.createElement(d.ListSearch,{ref:x,placeholder:k.fbt._("Enter search term here",null,{hk:"sgCKx"}),onSearch:e=>{const t=(e||"").trim();if(!t)return K(),void X();(0,u.numCodepoints)(t)<2||t!==H&&(K(),X(),Z(t))},loading:j})),te))}var L=(0,P.forwardRef)(R);t.default=L},978226:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(){return h.apply(this,arguments)};var r=a(n(348926)),l=a(n(932325)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(288057)),i=a(n(79291)),u=a(n(794938));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const c="https://www.bingapis.com/api/v6/images/search",s="D41D8CD98F00B204E9800998ECF8427E4F4A7492",f="Square",p="Medium",m={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW","zh-HK":"zh-HK"};function h(){return(h=(0,r.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const a={q:e,SafeSearch:"Strict",appid:s,mkt:m[l.default.getLocale()]||m.en,size:p,aspect:f,count:n,offset:t},r=i.default.build(c,a),d=yield u.default.get(r,u.default.RESP_TYPE.JSON);if(!d.response.hasOwnProperty("_type"))throw new o.InvalidServerResponseError(r,d.status.toString(),`Not a valid Bing response: ${JSON.stringify(d.response)}`);if("ErrorResponse"===d.response._type){const t=d.response;throw new o.BingServerError(e,d.status,t)}if("Images"!==d.response._type)throw new o.InvalidServerResponseError(r,d.status.toString(),`Did not receive an image search response, potentially malformed query ${JSON.stringify(d.response)}`);return d.response}))).apply(this,arguments)}},856516:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,u.promiseLoop)(function(){var t=(0,r.default)((function*(t,n,a){const r=(0,i.delayMs)((0,o.expBackoff)(a,6e4,void 0,.1));try{yield function(){if(s.Socket.state===c.SOCKET_STATE.CONNECTED)return Promise.resolve();return(0,d.default)(s.Socket,"change:state",(0,l.default)({state:c.SOCKET_STATE.CONNECTED}))}();const n=yield e();if(n.status>=500&&n.status<600)return r;t(n)}catch(e){return r}}));return function(){return t.apply(this,arguments)}}())};var r=a(n(348926)),l=a(n(706410)),o=n(250655),i=n(8304),u=n(904086),d=a(n(799132)),c=n(226562),s=n(38878)},835539:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=n(856797),l=n(285199),o=a(n(667294)),i=a(n(156720));const u={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",flexDirection:"f8m0rgwh",height:"ppled2lx",backgroundColor:"bfsx6evv","@media screen and (max-width: 900px)":{width:"hj24v2v0"},"@media screen and (min-width: 901px) and (max-width: 1023px)":{width:"i9ba79ay"},"@media screen and (max-width: 1024px)":{width:"jykept17"},"@media screen and (min-width: 1025px) and (max-width: 1300px)":{width:"p7ivxbd6"},"@media screen and (min-width: 1301px)":{width:"o7f2woc0"}};function d(e){let{onOpenStatus:t}=e;return o.default.createElement("div",{className:(0,i.default)(u)},o.default.createElement(l.StatusV3ListHeader,{onOpenStatus:t}),o.default.createElement(r.StatusV3List,{onOpenStatus:t}))}d.displayName="StatusV3ListPanel"},546922:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(780549),l=a(n(335540)),o=(a(n(932325)),n(657694)),i=a(n(835539)),u=a(n(314122)),d=a(n(397778)),c=n(717089),s=n(757453),f=n(459192),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=a(n(156720)),g=n(808446);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const y={modalBackground:{position:"lhggkp7q",zIndex:"iijvqejl",boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",height:"ppled2lx",backgroundColor:"ss9a15xu"},mainWrapper:{position:"g0rxnol2",zIndex:"jnl3jror",display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",height:"ppled2lx",color:"lxozqee9","@media screen and (min-width: 1441px)":{top:"resm64uo",width:"aazg2tqz",height:"sqo8i9vu",marginEnd:"gcgr3cud",marginStart:"c44ed13a"}},v3x:{position:"lhggkp7q",top:"q177n8ra",end:"n642r0m2",zIndex:"b9fczbqn",color:"lxozqee9"},v3xMac:{end:"m58prw6j"}};function v(e,t){const{onOpenStatus:n,sessionId:a,closeStatusViewer:E}=e,v=(0,m.useRef)(null),[C,b]=(0,m.useState)((()=>o.StatusV3Collection.getMyStatus()));return(0,m.useEffect)((()=>{(0,s.setLastStatusUsage)(),null!=a&&o.StatusV3Collection.logMetrics({type:"session",sessionId:a}),r.Cmd.onStatusViewerOpen(),v.current&&l.default.focus(v.current)}),[]),(0,g.useListener)(o.StatusV3Collection,["add","remove"],(()=>{b(o.StatusV3Collection.getMyStatus())})),(0,g.useListener)(r.Cmd,["dismiss_status_v3_viewer"],(()=>{E(!0)})),(0,c.useTsNavigation)({surface:"status-v3"}),m.default.createElement("div",{ref:t,className:(0,h.default)(y.modalBackground),"data-animate-status-v3-modal-background":!0},m.default.createElement("div",{ref:v,tabIndex:-1,className:(0,h.default)(y.mainWrapper)},m.default.createElement(i.default,{onOpenStatus:n}),m.default.createElement(u.default,{status:C,onOpenStatus:n}),m.default.createElement(d.default,{"aria-label":p.fbt._("Close",null,{hk:"2BtYA2"}),xstyle:[y.v3x,!1],Icon:f.XViewerIcon,onClick:()=>e.closeStatusViewer(!0)})))}var C=(0,m.forwardRef)(v);t.default=C},314122:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=n(122583),l=n(984330),o=n(63014),i=n(23641),u=n(787742),d=n(241164),c=n(191789),s=a(n(502622)),f=a(n(376394)),p=n(122093),m=n(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(667294)),g=a(n(156720)),E=a(n(969651)),y=n(808446),v=a(n(895851));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const b={position:"lhggkp7q",top:"qq0sjtgm",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx","@media screen and (max-width: 900px)":{start:"r77w0ibt",width:"l6bevpbc"},"@media screen and (min-width: 901px) and (max-width: 1024px)":{start:"f82bpul8",width:"orypyu02"},"@media screen and (min-width: 1025px) and (max-width: 1300px)":{start:"sv1r5vap",width:"n0xp5siy"},"@media screen and (min-width: 1301px)":{start:"a21xwfzl",width:"m2tbfq6e"}},w={display:"p357zi0d",flexDirection:"f8m0rgwh",maxHeight:"ibyb1pgl"},_={marginTop:"kpwy2cir",marginBottom:"fhelu9n7",fontSize:"q9lllk4z",fontWeight:"hnx8ox4h",textAlign:"qfejxiq4"},S={boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"lkhkxwyq",justifyContent:"ac2vgrno",maxWidth:"c3m6791i",paddingTop:"i5tg98hk",paddingEnd:"td5bf8pq",paddingBottom:"eynyaxvo",paddingStart:"l3k7h4x6",overflowY:"ag5g9lrv"},M={display:"p357zi0d",flexDirection:"sap93d0t",justifyContent:"ac2vgrno",marginBottom:"fhelu9n7",color:"pgamn86x",pointerEvents:"m62443ks"},k={lineHeight:"d53pemmv",color:"kcq1et6t",textAlign:"qfejxiq4"},P={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",marginEnd:"spjzgwxb",marginBottom:"iyjcf3gk",marginStart:"a3oefunm"},O={marginTop:"eg3lofc5",marginBottom:"g105fvfm"},T={fontSize:"ovllcyds",color:"kcq1et6t"};function x(e){let{onOpenStatus:t,status:n}=e;const a=h.default.createElement(I,{statusV3:n,onOpenStatus:t});return h.default.createElement("div",{className:(0,g.default)(b)},a)}function I(e){const{statusV3:t}=e,n=(0,E.default)();(0,h.useEffect)((()=>{null==t||t.loadMore(t.totalCount).catch((e=>{__LOG__(3)`error while loading all out status: ${String(e)}`}))}),[]),(0,y.useListener)(t,"change:msgsChanged",n);const a=e.statusV3;if(a&&a.msgs.length>0){const t=a.msgs.map((t=>h.default.createElement(R,{key:t.id.toString(),msg:t,status:a,onOpenStatus:e.onOpenStatus})));return h.default.createElement("div",{className:(0,g.default)(w)},h.default.createElement("div",{className:(0,g.default)(_)},m.fbt._("View your updates",null,{hk:"1DTRQt"})),h.default.createElement("div",{className:(0,g.default)(S)},t))}return h.default.createElement("div",{className:(0,g.default)(w)},h.default.createElement("div",{className:(0,g.default)(M)},h.default.createElement(c.StatusV3PlaceholderIcon,null)),h.default.createElement("div",{className:(0,g.default)(k)},m.fbt._("Click on a contact to view their status updates",null,{hk:"d6xUd"})))}function R(e){const{msg:t,status:n}=e,a=(0,v.default)(),[c,E]=(0,h.useState)(null),[C,b]=(0,h.useState)(null);(0,h.useEffect)((()=>{d.MsgInfoCollection.find(t.id).then((e=>{a.aborted||(b(e),E(e.read.length))})).catch((0,r.filteredCatch)(l.EphemeralDrop,(()=>{})))}),[]),(0,y.useListener)(null==C?void 0:C.read,["add","remove"],(()=>{E(null==C?void 0:C.read.length)}));const w=h.default.createElement(i.DetailImage,{id:(0,u.getSender)(t),theme:"status_v3",size:80});return h.default.createElement("div",{className:(0,g.default)(P)},h.default.createElement(f.default,{tabIndex:0,ariaLabel:m.fbt._("View your updates",null,{hk:"1DTRQt"}),id:n.id,msg:t,onClick:()=>e.onOpenStatus(n,t,0,p.STATUS_ROW_SECTION.MY_STATUS),contact:n.contact,role:"button",theme:"status-panel",thumbnailPlaceholder:w}),h.default.createElement("div",{className:(0,g.default)(O)},h.default.createElement(s.default,{seenCount:c})),h.default.createElement("div",{className:(0,g.default)(T)},o.Clock.relativeDateAndTimeStr(t.t)))}x.displayName="StatusV3OutStatusPanel",I.displayName="StatusV3OutViewer",R.displayName="StatusV3OutDetail"},391985:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.forwardMessages=function(){return k.apply(this,arguments)},t.getForwardedMessageFields=P;var r=a(n(348926)),l=a(n(957557)),o=n(632157),i=n(402994),u=n(738501),d=a(n(235613)),c=n(660666),s=n(163755),f=n(194788),p=n(644234),m=n(787742),h=a(n(565754)),g=n(373070),E=n(817176),y=n(918602),v=n(459857),C=a(n(887927)),b=a(n(124928)),w=n(669050);function _(e){return Boolean((0,s.getAsMms)(e)&&!e.ctwaContext)}function S(){return M.apply(this,arguments)}function M(){return(M=(0,r.default)((function*(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(_(t))return(0,p.forwardMediaMsg)(t,e,a,r);const l=P(t,e),u=(0,v.getMaybeMeUser)();let d;n.isGroup()&&(d=(0,w.toUserWid)(u));const c=new h.default({from:u,to:n,id:yield h.default.newId(),participant:d,selfDir:"out"});return Object.assign(l,{id:c,from:u,t:(0,o.unixTime)(),to:n,ack:i.ACK.CLOCK,participant:void 0,local:!0,self:"out",isNewMsg:!0,star:!1,isForwarded:(0,m.getShouldDisplayAsForwarded)(t),forwardedFromWeb:!0,forwardingScore:t.getForwardingScoreWhenForwarded(),multicast:a}),b.default.isNewsletter(e.id)?(0,E.forwardNewsletterMessage)(e,l):((0,y.addAndSendMsgToChat)(e,l),Promise.resolve())}))).apply(this,arguments)}function k(){return(k=(0,r.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.id,l=e.contact;if((0,c.getIsUser)(l)&&l.isContactBlocked)throw new d.default("Forwarded to contact is blocked",l);const o=[];for(const l of t){const t=a||(0,m.getHasOriginatedFromNewsletter)(l);try{yield S(e,l,r,n,t)}catch(e){_(l)&&o.push(l)}}return o}))).apply(this,arguments)}function P(e,t){var n,a,r;let o=["buttons","caption","broadcast","ephemeralDuration","ephemeralSettingTimestamp","ephemeralStartTimestamp","ephemeralOutOfSync","disappearingModeInitiatedByMe","disappearingModeTrigger","dynamicReplyButtons","replyButtons","isMdHistoryMsg","bizPrivacyStatus","kicState","kicKey","kicTimestampMs","kicNotified","rcat","latestEditMsgKey","latestEditSenderTimestampMs","invokedBotWid","botMessageSecret","botEditType","botFeedbackKind","botFeedbackText","botTargetSenderJid","bizBotType","botPersonaId","botRespOrInvocationRevokeBotWid","botResponseTargetId","botPluginType","botPluginReferenceIndex","botPluginSearchProvider","botPluginSearchUrl","botEditTargetId","lastBotEditBodyLength","botPluginMaybeParent","rowId","serverId","viewCount","messageSecret"];!0===e.isDynamicReplyButtonsMsg&&e.type===g.MSG_TYPE.CHAT||(o=["footer",...o]),(null===(n=e.quotedMsg)||void 0===n?void 0:n.type)!==g.MSG_TYPE.PRODUCT&&(o=["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID",...o]);const i=(0,s.getAsUrl)(e);null==i||null==i.mediaKeyTimestamp||(0,C.default)(i.mediaKeyTimestamp)||(o=["mediaKey","mediaKeyTimestamp","thumbnailHQ","thumbnailDirectPath","thumbnailSha256","thumbnailEncSha256","thumbnailHeight","thumbnailWidth",...o]);const d=(0,l.default)(e.toJSON(),o);e.ctwaContext&&(d.body=e.ctwaContext.sourceUrl,d.type=g.MSG_TYPE.CHAT,d.mediaObject=void 0),d.forwardedNewsletterMessageInfo=(0,f.getNewsletterContextForForwardedMsg)(e),(0,u.isEphemeralSettingOn)(t)&&(d.ephemeralDuration=(0,u.getEphemeralSetting)(t));const c=(0,u.getEphemeralSettingTimestamp)(t);null!=c&&(d.ephemeralSettingTimestamp=c);const p=(0,u.getDisappearingModeInitiator)(t);null!=p&&(d.disappearingModeInitiator=p);const m=(0,u.getDisappearingModeTrigger)(t);null!=m&&(d.disappearingModeTrigger=m);const h=(0,u.getDisappearingModeInitiatedByMe)(t);return null!=h&&(d.disappearingModeInitiatedByMe=h),!(null===(a=e.id.remote)||void 0===a?void 0:a.isBot())&&null==(null===(r=e.mentionedJidList)||void 0===r?void 0:r.find((e=>e.isBot())))&&t.isCAGAdmin()&&Object.assign(d,{messageSecret:self.crypto.getRandomValues(new Uint8Array(32))}),d}},450192:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.forwardMessagesToChats=function(){return v.apply(this,arguments)};var r=a(n(348926)),l=a(n(639693)),o=a(n(763105)),i=a(n(435161)),u=n(423660),d=n(547979),c=n(391985),s=a(n(293559)),f=a(n(4780)),p=n(784845),m=n(939716),h=n(61113),g=n(787742),E=n(73225),y=n(369084);function v(){return(v=(0,r.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Promise.all(e.map((e=>((0,g.getIsPSA)(e)&&(0,y.logChatPSAForward)(e),(0,E.isNewsletterMessageForwardLoggingEnabled)()&&(0,g.getHasOriginatedFromNewsletter)(e)&&(0,p.logNewsletterMessagForward)(e,t),(0,u.promiseProps)({message:e,canForward:(0,m.canForwardMsg)(e)&&(null!=h.MsgCollection.get(e.id)||(0,g.getIsEphemeral)(e))}))))),v=yield Promise.all(t.filter((e=>e.canSend)).map(function(){var e=(0,r.default)((function*(e){const t=e.isUser&&e.contact.isContactBlocked?(0,d.unblockContact)(e.contact):Promise.resolve(!0),[r]=yield Promise.all([a,t]),l=(0,i.default)((0,o.default)(r,{canForward:!0}),"message"),s=(0,i.default)((0,o.default)(r,{canForward:!1}),"message");return(0,u.promiseProps)({chat:e,undelivered:(0,c.forwardMessages)(e,l,!0,n),msgsThatCanBeforwarded:l,msgsThatCannotBeForwarded:s})}));return function(){return e.apply(this,arguments)}}())),C=(0,l.default)(v.map((e=>{let{chat:t,undelivered:n,msgsThatCanBeforwarded:a,msgsThatCannotBeForwarded:r}=e,l=null;return(n.length||r.length)&&(l=(0,s.default)({chat:t,undelivered:n,canForward:a,cannotForward:r})),null!=l&&""!==l?{chat:t,reason:l}:null})));if(C.length)throw new f.default(C);return!0}))).apply(this,arguments)}},567268:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var r=a(n(991370)),l=n(63014),o=n(660666),i=n(714574),u=n(97858),d=n(515186),c=n(444192),s=n(55001),f=a(n(376394)),p=a(n(667294)),m=a(n(156720)),h=n(379811),g=n(261274);const E={dimmed:{opacity:"brh521k9"},verified:{display:"au4fhpva",overflowX:"swamzvm4",overflowY:"nel0soo2",textOverflow:"go4p2dcp",whiteSpace:"cnuwac07"},icon:{display:"l7jjieqr",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginTop:"b9l0eqez",marginStart:"k6y3xtnu",verticalAlign:"fewfhwl7"}};function y(e){const{statusV3:t,contact:n,onClick:a,isModalView:y=!0}=e,[v,C]=(0,g.useStatusV3Values)(t.id,[s.getId,s.getT]),[b,w,_]=(0,h.useContactValues)(n.id,[i.getFormattedName,o.getStatusMute,o.getIsPSA]),S=_?null:l.Clock.relativeDateAndTimeStr(C),M=_?p.default.createElement("span",{className:(0,m.default)(E.verified)},b,p.default.createElement("div",{className:(0,m.default)(E.icon)},(0,u.isBlueEnabled)()?p.default.createElement(d.PsaVerifiedBlueIcon,null):p.default.createElement(c.PsaVerifiedIcon,null))):b;return p.default.createElement(r.default,{className:(0,m.default)(w&&E.dimmed),key:v.toString(),customImage:!0,theme:y?"status-list-modal":null,image:p.default.createElement(f.default,{id:t.id,contact:n,onClick:a}),tabIndex:-1,handleKeyboardClick:!0,focusid:"status-row-item",primary:M,secondary:S,onClick:a,contextEnabled:()=>!1})}y.displayName="StatusV3Cell"},376394:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=O;var r=a(n(967154)),l=n(398284),o=n(660666),i=n(23641),u=n(679090),d=a(n(641206)),c=n(787742),s=n(373070),f=(n(163139),n(918715)),p=n(473016),m=n(688468),h=n(676345),g=a(n(395967)),E=a(n(124928)),y=a(n(667294)),v=a(n(156720)),C=n(379811),b=a(n(83233)),w=n(261274);const _={container:{paddingTop:"b7n2qyd4",paddingEnd:"kyc7k6mt",paddingBottom:"ekpn4oxx",paddingStart:"rn41jex5",position:"g0rxnol2"},statusImage:{backgroundPosition:"t3g6t33p",backgroundRepeat:"sxl192xd",backgroundSize:"qnwaluaf",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",overflowX:"gfz4du6o",overflowY:"r7fjleex"},statusImageFallbackBackground:{backgroundColor:"rx2toazg"},textThumb:{position:"g0rxnol2"},thumbContainer:{borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},thumbSizeLarge:{height:"fsgosuut",width:"h4dw90qs"},thumbSizeSmall:{height:"lniyxyh2",width:"qssinsw9"},focusRing:{":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"}}};function S(e){return"status-panel"===e?_.thumbSizeLarge:_.thumbSizeSmall}function M(e){const{msg:t,theme:n}=e,a=S(n);return y.default.createElement("div",{className:(0,v.default)(_.statusImage,a),style:{backgroundColor:(0,c.getStatusV3CanvasColor)(t)}},y.default.createElement("div",{className:(0,v.default)(_.textThumb,a)},y.default.createElement(m.StatusV3Text,{msg:t,theme:null!=n?n:"status-thumbnail"})))}function k(e){const{msg:t,theme:n}=e,a=S(n);return y.default.createElement("div",{className:(0,v.default)(_.statusImage,a),style:{backgroundColor:(0,c.getStatusV3CanvasColor)(t)}},y.default.createElement(l.AudioWaveThumbIcon,{iconXstyle:a}))}function P(e){const{msg:t,theme:n,thumbnailPlaceholder:a}=e,r=S(n),l=_.statusImage,o=(0,f.isStatusV3VoiceStatusReceiptEnabled)();if(t){if(E.default.isPSA((0,c.getSender)(t)))return y.default.createElement("div",{className:(0,v.default)(_.thumbContainer,r,_.statusImageFallbackBackground)},a);const e=y.default.createElement(d.default,{containerClassName:(0,v.default)(_.thumbContainer,r,_.statusImageFallbackBackground),childClassName:(0,v.default)(l,r),msg:t,thumbnailPlaceholder:a});switch(t.type){case s.MSG_TYPE.CHAT:return y.default.createElement(M,{msg:t,theme:n});case s.MSG_TYPE.PTT:case s.MSG_TYPE.AUDIO:return o?y.default.createElement(k,{msg:t,theme:n}):e;default:return e}}return y.default.createElement("div",{className:(0,v.default)(l,r,_.statusImageFallbackBackground)})}function O(e){const{id:t,theme:n,thumbnailPlaceholder:a,msg:l,tabIndex:d,ariaLabel:s}=e,[f]=(0,w.useStatusV3Values)(t,[u.getLastStatus]),[m]=(0,C.useContactValues)(e.contact.id,[o.getStatusMute]),{isKeyboardUser:E}=(0,g.default)(),[M,k]=(0,b.default)(e.onClick),O=null!=l?l:f,T=S(n);let x;return x=null!=a?a:O?y.default.createElement(i.DetailImage,{id:(0,c.getSender)(O),theme:"status_v3",size:40}):null,y.default.createElement("div",(0,r.default)({ref:M},k,{tabIndex:d,className:(0,v.default)(_.container,T,h.uiMargin.top2,E&&_.focusRing),"aria-label":s,role:e.role||"",onContextMenu:null,onClickCapture:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e),t.stopPropagation(),t.preventDefault()}}),m||"status-panel"===n?null:y.default.createElement(p.StatusV3ImageRing,{id:t,breakRing:!0}),y.default.createElement(P,{msg:O,theme:n,thumbnailPlaceholder:x}))}M.displayName="StatusV3TextWrapper",k.displayName="StatusV3VoiceStatusThumbnail",P.displayName="StatusV3MsgThumbnail",O.displayName="StatusV3Thumbnail"},823669:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AccountBalanceIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"currentColor"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),u.default.createElement("path",{d:"M4 11.5v4c0 .83.67 1.5 1.5 1.5S7 16.33 7 15.5v-4c0-.83-.67-1.5-1.5-1.5S4 10.67 4 11.5zm6 0v4c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5zM3.5 22h16c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5h-16c-.83 0-1.5.67-1.5 1.5S2.67 22 3.5 22zM16 11.5v4c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5zM10.57 1.49l-7.9 4.16c-.41.21-.67.64-.67 1.1C2 7.44 2.56 8 3.25 8h16.51C20.44 8 21 7.44 21 6.75c0-.46-.26-.89-.67-1.1l-7.9-4.16c-.58-.31-1.28-.31-1.86 0z"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="account-balance"},379278:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignCenterAltIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=15,g=18;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 18 15",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648Zm2.955 4.109H13.4a.643.643 0 1 0 0-1.287H4.592a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Zm-2.955 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648Zm2.955 4.109H13.4a.643.643 0 1 0 0-1.287H4.592a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="align-center-alt"},493583:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignCenterIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=28,g=28;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 28 28",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M18.5,19 C18.7761424,19 19,19.2238576 19,19.5 L19,20 C19,20.2761424 18.7761424,20.5 18.5,20.5 L9.5,20.5 C9.22385763,20.5 9,20.2761424 9,20 L9,19.5 C9,19.2238576 9.22385763,19 9.5,19 L18.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M21.5,11 C21.7761424,11 22,11.2238576 22,11.5 L22,12 C22,12.2761424 21.7761424,12.5 21.5,12.5 L6.5,12.5 C6.22385763,12.5 6,12.2761424 6,12 L6,11.5 C6,11.2238576 6.22385763,11 6.5,11 L21.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="align-center"},855134:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignLeftAltIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=15,g=18;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 18 15",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648Zm0 4.109h8.816a.643.643 0 1 0 0-1.287H1.637a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Zm0 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648Zm0 4.109h8.816a.643.643 0 1 0 0-1.287H1.637a.636.636 0 0 0-.647.64c0 .364.282.647.647.647Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="align-left-alt"},369689:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignLeftIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=28,g=28;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 28 28",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M14.5,19 C14.7761424,19 15,19.2238576 15,19.5 L15,20 C15,20.2761424 14.7761424,20.5 14.5,20.5 L5.5,20.5 C5.22385763,20.5 5,20.2761424 5,20 L5,19.5 C5,19.2238576 5.22385763,19 5.5,19 L14.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M20.5,11 C20.7761424,11 21,11.2238576 21,11.5 L21,12 C21,12.2761424 20.7761424,12.5 20.5,12.5 L5.5,12.5 C5.22385763,12.5 5,12.2761424 5,12 L5,11.5 C5,11.2238576 5.22385763,11 5.5,11 L20.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="align-left"},247815:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignRightAltIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=15,g=18;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 18 15",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M1.637 1.786h14.718a.65.65 0 0 0 .655-.648.645.645 0 0 0-.655-.647H1.637a.638.638 0 0 0-.647.647c0 .357.282.648.647.648ZM7.54 5.895h8.816a.643.643 0 1 0 0-1.287H7.539a.634.634 0 0 0-.64.64c0 .364.283.647.64.647Zm-5.902 4.117h14.718a.65.65 0 0 0 .655-.648.65.65 0 0 0-.655-.647H1.637a.643.643 0 0 0-.647.647c0 .357.282.648.647.648ZM7.54 14.12h8.816a.643.643 0 1 0 0-1.287H7.539a.634.634 0 0 0-.64.64c0 .364.283.647.64.647Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="align-right-alt"},116282:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignRightIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=28,g=28;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 28 28",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M22.5,19 C22.7761424,19 23,19.2238576 23,19.5 L23,20 C23,20.2761424 22.7761424,20.5 22.5,20.5 L13.5,20.5 C13.2238576,20.5 13,20.2761424 13,20 L13,19.5 C13,19.2238576 13.2238576,19 13.5,19 L22.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M22.5,11 C22.7761424,11 23,11.2238576 23,11.5 L23,12 C23,12.2761424 22.7761424,12.5 22.5,12.5 L7.5,12.5 C7.22385763,12.5 7,12.2761424 7,12 L7,11.5 C7,11.2238576 7.22385763,11 7.5,11 L22.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="align-right"},492014:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AssignmentIndIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"currentColor"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),u.default.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="assignment-ind"},398284:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioWaveThumbIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=40,g=40;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 40 40",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M18.1953 31.4492C18.7461 31.4492 19.1562 31.0156 19.1562 30.4883V10.6016C19.1562 10.0625 18.7344 9.64062 18.1953 9.64062C17.6562 9.64062 17.2344 10.0625 17.2344 10.6016V30.4883C17.2344 31.0156 17.6562 31.4492 18.1953 31.4492ZM25.4023 29.1172C25.9531 29.1172 26.3633 28.6953 26.3633 28.1562V12.9336C26.3633 12.3945 25.9414 11.9727 25.4023 11.9727C24.8516 11.9727 24.4414 12.3945 24.4414 12.9336V28.1562C24.4414 28.6953 24.8516 29.1172 25.4023 29.1172ZM14.5859 27.4414C15.1367 27.4414 15.5586 27.0195 15.5586 26.4805V14.6094C15.5586 14.0703 15.1367 13.6484 14.5859 13.6484C14.0469 13.6484 13.6367 14.0703 13.6367 14.6094V26.4805C13.6367 27.0195 14.0469 27.4414 14.5859 27.4414ZM21.8047 25.9648C22.3438 25.9648 22.7539 25.5312 22.7539 25.0039V16.0859C22.7539 15.5469 22.3438 15.125 21.8047 15.125C21.2539 15.125 20.8438 15.5586 20.8438 16.0859V25.0039C20.8438 25.5312 21.2539 25.9648 21.8047 25.9648ZM29 23.9727C29.5508 23.9727 29.9609 23.5508 29.9609 23.0117V18.0781C29.9609 17.5391 29.5508 17.1172 29 17.1172C28.4492 17.1172 28.0391 17.5391 28.0391 18.0781V23.0117C28.0391 23.5508 28.4609 23.9727 29 23.9727ZM10.9883 23.0469C11.5391 23.0469 11.9492 22.625 11.9492 22.0859V19.0039C11.9492 18.4648 11.5273 18.0312 10.9883 18.0312C10.4375 18.0312 10.0273 18.4648 10.0273 19.0039V22.0859C10.0273 22.625 10.4375 23.0469 10.9883 23.0469Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="audio-wave-thumb"},418541:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CameraIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M21.317,4.381H10.971L9.078,2.45C8.832,2.199,8.342,1.993,7.989,1.993H4.905 c-0.352,0-0.837,0.211-1.078,0.468L1.201,5.272C0.96,5.529,0.763,6.028,0.763,6.38v1.878c0,0.003-0.002,0.007-0.002,0.01v11.189 c0,1.061,0.86,1.921,1.921,1.921h18.634c1.061,0,1.921-0.86,1.921-1.921V6.302C23.238,5.241,22.378,4.381,21.317,4.381z  M12.076,18.51c-3.08,0-5.577-2.497-5.577-5.577s2.497-5.577,5.577-5.577s5.577,2.497,5.577,5.577 C17.654,16.013,15.157,18.51,12.076,18.51z M12.076,9.004c-2.17,0-3.929,1.759-3.929,3.929s1.759,3.929,3.929,3.929 s3.929-1.759,3.929-3.929C16.004,10.763,14.245,9.004,12.076,9.004z"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="camera"},682761:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1"},u.default.createElement("title",null,c),u.default.createElement("g",{id:"catalog_web",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},u.default.createElement("path",{d:"M3.25,15 L3.25,19 C3.25,19.9664983 4.03350169,20.75 5,20.75 L15,20.75 C15.9664983,20.75 16.75,19.9664983 16.75,19 L16.75,15 C16.75,14.5857864 16.4142136,14.25 16,14.25 C15.5857864,14.25 15.25,14.5857864 15.25,15 L15.25,19 C15.25,19.1380712 15.1380712,19.25 15,19.25 L5,19.25 C4.86192881,19.25 4.75,19.1380712 4.75,19 L4.75,15 C4.75,14.5857864 4.41421356,14.25 4,14.25 C3.58578644,14.25 3.25,14.5857864 3.25,15 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),u.default.createElement("path",{d:"M20.75,20 L20.75,15 C20.75,14.5857864 20.4142136,14.25 20,14.25 C19.5857864,14.25 19.25,14.5857864 19.25,15 L19.25,20 C19.25,20.4142136 19.5857864,20.75 20,20.75 C20.4142136,20.75 20.75,20.4142136 20.75,20 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),u.default.createElement("path",{d:"M19.0596875,4 L5.51793438,4 C4.40802085,4 3.43383032,4.73889996 3.13458536,5.80771262 L2.05872453,9.65036257 C1.82420376,10.488 2.31312637,11.3571559 3.15076375,11.5916766 C3.2889905,11.6303772 3.43185897,11.65 3.57540118,11.65 L21.0022207,11.65 C21.8720692,11.65 22.5772207,10.9448485 22.5772207,10.075 C22.5772207,9.93145779 22.557598,9.78858932 22.5188974,9.65036257 L21.4430366,5.80771262 C21.1437916,4.73889996 20.1696011,4 19.0596875,4 Z M19.0596875,5.35 C19.5641937,5.35 20.0070076,5.68586362 20.143028,6.17168755 L21.2188888,10.0143375 C21.2244175,10.0340842 21.2272207,10.054494 21.2272207,10.075 C21.2272207,10.1992641 21.1264848,10.3 21.0022207,10.3 L3.57540118,10.3 C3.55489515,10.3 3.53448537,10.2971967 3.51473869,10.2916681 C3.39507621,10.2581651 3.32523012,10.134 3.35873309,10.0143375 L4.43459391,6.17168755 C4.57061435,5.68586362 5.01342823,5.35 5.51793438,5.35 L19.0596875,5.35 Z",id:"Path",fill:"#000000",fillRule:"nonzero"}),u.default.createElement("path",{d:"M22.188811,10.975 L22.188811,11.3296105 C22.188811,12.1278748 21.2949411,13.225 20.1923038,13.225 C19.1592556,13.225 18.3198702,12.2052018 18.2168352,11.4776253 C18.1127212,12.2052018 17.2733358,13.225 16.2408271,13.225 C15.2072395,13.225 14.3683936,12.2052018 14.264819,11.4776253 C14.1612445,12.2052018 13.3218591,13.225 12.288811,13.225 C11.2552233,13.225 10.4163774,12.2052018 10.3128029,11.4776253 C10.2097678,12.2052018 9.369843,13.225 8.33679483,13.225 C7.30374666,13.225 6.46490076,12.2052018 6.36132621,11.4776253 C6.25775167,12.2052018 5.41782687,13.225 4.38531815,13.225 C3.28268083,13.225 2.38881096,12.1278748 2.38881096,11.3296105 L2.38881096,10.975 L22.188811,10.975 Z",id:"Fill-9",fill:"#000000"}))))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="catalog"},327671:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CheckmarkLargeIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=30,g=30;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 30 30",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 30 30"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M9.9,21.25l-6.7-6.7L1,16.75l8.9,8.9L29,6.55l-2.2-2.2L9.9,21.25z"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="checkmark-large"},419741:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityAdminDarkIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=157,g=224;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 224 157",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M176.395 133.783C202.079 125.033 221.527 100.338 218.74 64.6342C214.507 10.3886 162.863 -3.06763 130.691 12.9117C87.0477 34.5885 81.5198 38.1422 50.2608 38.1422C26.9784 38.1422 3.27272 49.4959 0.309525 80.193C-1.83832 102.443 6.80145 121.865 38.7733 131.781C96.9612 149.829 151.574 142.238 176.395 133.783Z",fill:"#A6CCC7"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.293 99.6867C27.0535 101.355 30.7418 103.637 31.4074 104.997C32.228 106.674 30.9928 110.9 29.8353 114.37C29.6388 114.958 30.4495 115.336 30.7732 114.808C32.5509 111.908 34.8757 108.32 36.4515 107.751C38.026 107.182 42.3203 108.547 45.6143 109.668C46.2027 109.868 46.5832 109.056 46.0527 108.732C43.0243 106.882 39.2021 104.422 38.6613 102.787C38.151 101.244 39.7028 96.5983 40.8637 93.2422C41.0683 92.6508 40.2467 92.2674 39.9241 92.8033C38.1077 95.8232 35.5519 99.9797 34.0649 100.588C32.4546 101.246 28.1113 99.8943 24.7277 98.7485C24.1378 98.5486 23.7597 99.3643 24.293 99.6867Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.603 6.78459C160.945 9.42458 162.712 12.9937 162.57 14.3772C162.396 16.0823 159.382 18.7764 156.795 20.9197C156.356 21.2825 156.805 21.9707 157.313 21.7158C160.107 20.3189 163.66 18.651 165.165 18.972C166.668 19.2932 169.353 22.4415 171.376 24.9143C171.737 25.3561 172.428 24.9077 172.172 24.3978C170.71 21.4856 168.925 17.7127 169.297 16.1757C169.648 14.7255 173.113 11.8582 175.647 9.80596C176.094 9.44436 175.639 8.74666 175.128 9.00773C172.246 10.4797 168.236 12.4786 166.782 12.2308C165.208 11.9618 162.478 8.79999 160.398 6.26437C160.035 5.8222 159.344 6.27439 159.603 6.78459Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M109.286 19.9086L109.286 19.9086C102.842 23.1185 87.3525 30.1026 68.0072 33.804L68.0071 33.804C64.0692 34.5576 61.1751 37.956 61.1751 41.9896V78.4977C61.1751 95.8063 64.3953 110.744 72.2448 122.656C80.1062 134.586 92.541 143.377 110.759 148.511L110.76 148.511C112.199 148.916 113.736 148.916 115.176 148.511L115.176 148.511C133.395 143.377 145.829 134.586 153.691 122.656C161.54 110.744 164.76 95.8063 164.76 78.4977V41.9896C164.76 37.9561 161.866 34.5577 157.93 33.804L157.93 33.804C138.583 30.1026 123.093 23.1185 116.65 19.9086L116.65 19.9086C114.33 18.7529 111.606 18.7529 109.286 19.9086Z",fill:"#73F793",stroke:"#326474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{opacity:.7,fillRule:"evenodd",clipRule:"evenodd",d:"M113.003 147.88C113.65 147.877 114.296 147.787 114.922 147.611C151.018 137.439 163.825 112.902 163.825 78.4977V41.9896C163.825 38.4165 161.262 35.3937 157.754 34.7221C138.293 30.999 122.719 23.9767 116.233 20.7453C115.168 20.2149 114.007 19.959 112.85 19.9775C112.85 19.9775 113.003 147.88 113.003 147.88Z",fill:"#326474",fillOpacity:.24}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.63 55.9921C124.733 61.8564 119.841 71.555 113.712 71.7298C107.582 71.904 102.535 62.4889 102.433 56.6242C102.33 50.7596 107.216 45.8638 113.346 45.6892C119.475 45.5147 124.527 50.1275 124.63 55.9921Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.304 108.889C141.352 110.234 140.929 112.456 139.062 112.593C131.568 113.141 123.268 113.291 115.461 113.276C105.994 113.258 98.3013 113.143 91.6051 112.528C89.47 112.332 89.1898 110.211 89.1435 108.894C88.5616 92.3891 99.7667 79.0083 114.17 79.007C128.574 79.006 140.722 92.3849 141.304 108.889Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M88.8634 124.688L88.8654 124.699L88.8677 124.71L90.5779 132.936C90.5808 132.958 90.5772 132.993 90.5574 133.03C90.5443 133.054 90.5327 133.063 90.5293 133.066L86.1695 134.637C85.3298 134.94 84.7883 135.671 84.6077 136.457C84.5266 136.81 84.4268 137.168 84.3132 137.525C84.193 137.904 84.0646 138.263 83.9269 138.606C83.6311 139.344 83.6722 140.219 84.135 140.932L86.722 144.917L86.7298 144.929L86.7379 144.94C86.7548 144.965 86.7559 144.981 86.7544 144.994C86.7529 145.008 86.7451 145.039 86.7061 145.079L80.6257 150.623L80.617 150.631L80.6084 150.639C80.5944 150.652 80.5849 150.657 80.5813 150.658C80.5772 150.66 80.5731 150.661 80.5678 150.661C80.5582 150.661 80.5356 150.658 80.5072 150.637L76.9313 147.535C76.2822 146.971 75.4112 146.822 74.6369 147.052C73.9344 147.262 73.2146 147.416 72.4798 147.507C71.6809 147.606 70.9399 148.087 70.5675 148.865L68.5234 153.133L68.5201 153.14L68.5169 153.147C68.5097 153.162 68.5031 153.17 68.4999 153.173C68.4964 153.176 68.4935 153.178 68.4908 153.179C68.488 153.18 68.4837 153.181 68.4774 153.182C68.4712 153.182 68.4605 153.181 68.4449 153.176L60.6394 150.49C60.6146 150.481 60.5989 150.469 60.5852 150.445C60.5708 150.421 60.5542 150.374 60.5578 150.306L61.3525 145.648C61.4965 144.804 61.182 143.98 60.6149 143.42C60.0761 142.888 59.5864 142.313 59.1316 141.697C58.6567 141.054 57.8837 140.636 57.0324 140.686L52.403 140.958C52.3615 140.954 52.3298 140.939 52.311 140.924C52.3009 140.916 52.2942 140.908 52.2894 140.9C52.2849 140.893 52.2785 140.88 52.2743 140.857L52.2722 140.845L52.2699 140.834L50.5597 132.609C50.5569 132.587 50.5605 132.551 50.5802 132.515C50.5934 132.491 50.605 132.481 50.6084 132.479L54.9682 130.908C55.8074 130.605 56.3496 129.874 56.5304 129.088C56.6131 128.729 56.7141 128.367 56.8245 128.019C56.9285 127.692 57.0629 127.351 57.2144 127.011C57.5519 126.254 57.5218 125.34 57.0378 124.602L54.4336 120.631L54.4209 120.612L54.4072 120.593C54.3996 120.583 54.3979 120.577 54.3974 120.575C54.3967 120.572 54.3959 120.567 54.3969 120.559C54.399 120.543 54.4094 120.512 54.4431 120.481C54.4433 120.481 54.4435 120.48 54.4437 120.48L60.5136 114.921L60.5215 114.913L60.5292 114.906C60.5433 114.892 60.5527 114.888 60.5564 114.886C60.5605 114.885 60.5646 114.884 60.5698 114.884C60.5794 114.884 60.602 114.886 60.6305 114.907L64.2157 118.018C64.8554 118.573 65.7157 118.73 66.4879 118.503C67.1984 118.295 67.925 118.134 68.6619 118.039C69.4572 117.937 70.1977 117.457 70.5701 116.68L72.6077 112.426C72.6333 112.378 72.6577 112.367 72.6611 112.365C72.6639 112.364 72.6657 112.364 72.6678 112.364C72.6697 112.364 72.6776 112.364 72.6928 112.369L80.4983 115.055C80.5268 115.065 80.5483 115.082 80.5635 115.108C80.5783 115.133 80.5892 115.169 80.5837 115.216L79.7852 119.897C79.6412 120.741 79.9557 121.564 80.5228 122.124C81.0616 122.657 81.5512 123.232 82.006 123.847C82.481 124.49 83.2539 124.909 84.1053 124.859L88.7347 124.586C88.7762 124.591 88.8079 124.606 88.8266 124.621C88.8368 124.629 88.8435 124.637 88.8483 124.645C88.8527 124.652 88.8592 124.665 88.8634 124.688ZM90.5334 133.064L90.5331 133.064L90.5334 133.064ZM50.6042 132.48L50.6045 132.48L50.6042 132.48Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("circle",{cx:70.569,cy:132.774,r:7.26307,transform:"rotate(-11.7053 70.569 132.774)",fill:"#A6CCC7",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M180.569 58.8458C180.569 58.8458 176.96 65.5006 177.039 66.0964C177.118 66.6924 182.278 65.5183 182.772 65.3757C183.265 65.2331 183.897 70.1809 184.73 71.2426C185.562 72.3045 186.593 72.2585 188.611 71.9274C190.629 71.5962 218.325 64.2513 218.325 64.2513C218.325 64.2513 221.971 63.975 221.295 60.6806C220.618 57.3864 216.928 38.503 216.729 37.8987C216.529 37.2945 216.409 34.6885 211.772 35.3087C207.134 35.9291 181.489 42.4728 181.489 42.4728C181.489 42.4728 178.275 43.4878 178.399 46.0349C178.523 48.5821 180.569 58.8458 180.569 58.8458Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M195.734 59.8696C196.455 57.2607 199.154 55.7299 201.763 56.4506L211.211 59.0602C213.819 59.7808 215.35 62.48 214.63 65.0889L211.857 75.1268C211.136 77.7357 208.437 79.2664 205.828 78.5458L196.381 75.9362C193.772 75.2155 192.241 72.5164 192.962 69.9075L195.734 59.8696Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.395 72.4404C204.024 73.6143 202.771 74.265 201.597 73.8941C200.423 73.5233 199.772 72.2707 200.143 71.0968C200.513 69.9229 201.766 69.2722 202.94 69.6431C204.114 70.0139 204.766 71.2663 204.395 72.4404Z",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M195.956 59.0666C196.554 56.9012 198.795 55.6306 200.96 56.2288L212.014 59.282C214.179 59.8801 215.45 62.1205 214.851 64.2859C214.253 66.4513 212.013 67.7219 209.847 67.1238L198.794 64.0705C196.628 63.4724 195.358 61.2321 195.956 59.0666Z",fill:"#EDE9E3",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{d:"M200.754 52.7398C201.763 49.0874 205.541 46.9443 209.194 47.9532C212.846 48.9621 214.989 52.7409 213.981 56.3933L212.017 63.503C212.017 63.503 211.274 64.3528 209.856 63.9613C208.439 63.5699 208.238 62.4592 208.238 62.4592L210.162 55.4913C210.595 53.9259 209.676 52.3065 208.111 51.8741C206.546 51.4417 204.926 52.3602 204.494 53.9255L202.569 60.8934C202.569 60.8934 201.826 61.7431 200.409 61.3517C198.992 60.9603 198.79 59.8495 198.79 59.8495L200.754 52.7398Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.748 100.235C199.5 102.479 197.156 105.943 194.806 105.709C192.457 105.475 190.991 101.631 191.24 99.3867C191.489 97.142 193.595 95.5121 195.944 95.7463C198.294 95.9806 199.997 97.9901 199.748 100.235Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M203.52 121.254C203.472 121.77 203.202 122.598 202.482 122.558C199.593 122.4 196.416 122.05 193.435 121.661C189.821 121.189 186.889 120.768 184.362 120.204C183.556 120.025 183.553 119.201 183.6 118.696C184.188 112.364 189.124 107.804 194.624 108.51C200.125 109.217 204.108 114.923 203.52 121.254Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.83 99.6489C184.788 101.26 183.42 103.843 181.846 103.793C180.271 103.743 179.085 101.079 179.128 99.4682C179.169 97.8574 180.48 96.5917 182.055 96.6417C183.63 96.6916 184.872 98.038 184.83 99.6489Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185.267 107.242C184.244 106.685 183.043 106.353 181.744 106.329C177.808 106.256 174.478 109.021 174.305 112.504C174.291 112.782 174.325 113.231 174.905 113.283C176.538 113.43 178.4 113.496 180.638 113.546C181.322 111.002 182.997 108.79 185.267 107.242Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M28.9824 44.2651L31.1808 39.3806C31.4314 38.8239 31.8365 38.3511 32.348 38.0186C33.6901 37.146 32.4959 39.4744 33.3707 40.82L47.1311 61.9843C48.023 63.3561 50.6282 63.2444 49.2601 64.1339C48.778 64.4474 48.2211 64.627 47.6464 64.6544L42.6015 64.8951C39.4188 65.0469 36.2878 65.6667 33.3065 66.7259C32.9225 66.8623 32.8228 67.3539 33.1145 67.6385C34.0807 68.5815 34.9974 69.5032 35.0613 69.5729L37.4241 72.1491C38.7976 73.6465 38.5873 75.9994 36.9709 77.2219C35.8196 78.0927 34.2456 78.1488 33.0313 77.3624C31.9197 76.5933 25.4778 70.8878 24.1959 71.6402C21.3482 73.3116 17.6574 72.4561 15.8343 69.6521L14.0729 66.9429C12.197 64.0577 13.0091 60.2022 15.8866 58.3313C16.2841 58.0728 16.6882 57.82 17.093 57.5667C22.0637 54.4563 26.5731 49.618 28.9824 44.2651Z",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{d:"M25.5366 70.553L26.0596 71.3278L26.0596 71.3278L25.5366 70.553ZM42.5182 65.0836L42.5134 64.1489L42.5182 65.0836ZM47.8745 65.0562L47.8793 65.991L47.8745 65.0562ZM49.1936 63.6206L48.8486 64.4894L48.8486 64.4894L49.1936 63.6206ZM14.3181 69.0346L14.9578 70.0184L16.5252 68.9993L15.8855 68.0155L14.3181 69.0346ZM14.9578 70.0184C17.1137 73.3344 21.5454 74.2827 24.8578 72.1291L23.8387 70.5617C21.3959 72.1499 18.1209 71.4536 16.5252 68.9993L14.9578 70.0184ZM24.8578 72.1291C25.2632 71.8655 25.665 71.5942 26.0596 71.3278L25.0135 69.7783C24.6166 70.0463 24.2283 70.3084 23.8387 70.5617L24.8578 72.1291ZM26.0596 71.3278C30.7859 68.1368 36.8602 66.0474 42.523 66.0184L42.5134 64.1489C36.4362 64.18 30.0067 66.4072 25.0135 69.7783L26.0596 71.3278ZM42.523 66.0184L47.8793 65.991L47.8697 64.1214L42.5134 64.1489L42.523 66.0184ZM47.8793 65.991C48.1844 65.9894 48.6818 65.9854 49.1759 65.9349C49.6181 65.8897 50.2582 65.7921 50.7223 65.4903L49.7032 63.9229C49.7068 63.9206 49.6932 63.9298 49.6537 63.945C49.6152 63.9599 49.5626 63.9766 49.4941 63.9934C49.3551 64.0276 49.1823 64.0549 48.9857 64.075C48.5912 64.1154 48.1752 64.1199 47.8697 64.1214L47.8793 65.991ZM50.7223 65.4903C50.9693 65.3297 51.4366 64.9499 51.3904 64.3086C51.3494 63.7413 50.9204 63.4252 50.7644 63.3182C50.5525 63.1728 50.3053 63.0603 50.1091 62.9778C49.9157 62.8965 49.6814 62.8086 49.5387 62.7519L48.8486 64.4894C49.0515 64.57 49.2085 64.6273 49.3847 64.7013C49.5583 64.7743 49.6592 64.8272 49.7067 64.8598C49.7291 64.8752 49.7036 64.8621 49.6647 64.8138C49.6238 64.763 49.5396 64.6366 49.5256 64.443C49.5107 64.2362 49.5846 64.0773 49.6465 63.9908C49.6989 63.9178 49.7384 63.9001 49.7032 63.9229L50.7223 65.4903ZM49.5387 62.7519C48.8913 62.4947 48.4404 62.2828 48.2312 61.9611L46.6638 62.9802C47.2548 63.8892 48.331 64.2838 48.8486 64.4894L49.5387 62.7519Z",fill:"#316474"}),u.default.createElement("ellipse",{cx:41.4607,cy:51.2452,rx:4.16271,ry:16.0562,transform:"rotate(-33.0306 41.4607 51.2452)",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1483 57.8186C39.9805 56.398 38.7929 54.7788 37.6467 53.0158C36.7429 51.6257 35.9312 50.2484 35.2241 48.9222C37.4134 47.6394 40.3897 48.5062 41.9598 50.9211C43.5056 53.2987 43.1269 56.313 41.1483 57.8186Z",fill:"#ECE8E2"}),u.default.createElement("path",{d:"M41.1483 57.8186L40.4262 58.4122L40.9979 59.1076L41.7143 58.5625L41.1483 57.8186ZM35.2241 48.9222L34.7515 48.1156L33.9768 48.5696L34.3993 49.362L35.2241 48.9222ZM41.8704 57.2249C40.7259 55.8327 39.5588 54.2418 38.4304 52.5063L36.863 53.5253C38.0271 55.3158 39.2351 56.9632 40.4262 58.4122L41.8704 57.2249ZM38.4304 52.5063C37.5408 51.138 36.743 49.784 36.049 48.4824L34.3993 49.362C35.1195 50.7128 35.945 52.1134 36.863 53.5253L38.4304 52.5063ZM35.6967 49.7287C37.3761 48.7447 39.8252 49.353 41.1761 51.4307L42.7435 50.4116C40.9541 47.6594 37.4508 46.5341 34.7515 48.1156L35.6967 49.7287ZM41.1761 51.4307C42.505 53.4747 42.1024 55.9179 40.5822 57.0747L41.7143 58.5625C44.1514 56.7081 44.5061 53.1227 42.7435 50.4116L41.1761 51.4307Z",fill:"#316474"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="community-admin-dark"},950200:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityAdminLightIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=157,g=221;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 221 157",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M176.395 133.783C202.079 125.033 221.526 100.338 218.74 64.6342C214.507 10.3886 162.863 -3.06763 130.691 12.9117C87.0476 34.5885 81.5197 38.1422 50.2607 38.1422C26.9783 38.1422 3.2726 49.4959 0.309402 80.193C-1.83844 102.443 6.80133 121.865 38.7732 131.781C96.9611 149.829 151.574 142.238 176.395 133.783Z",fill:"#DAF7F3"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.2931 99.6867C27.0536 101.355 30.7419 103.637 31.4075 104.997C32.2281 106.674 30.9929 110.9 29.8354 114.37C29.6389 114.958 30.4496 115.336 30.7734 114.808C32.551 111.908 34.8758 108.32 36.4516 107.751C38.0261 107.182 42.3204 108.547 45.6144 109.668C46.2029 109.868 46.5833 109.056 46.0529 108.732C43.0245 106.882 39.2022 104.422 38.6615 102.787C38.1511 101.244 39.703 96.5983 40.8638 93.2422C41.0684 92.6508 40.2468 92.2674 39.9242 92.8033C38.1078 95.8232 35.552 99.9797 34.0651 100.588C32.4547 101.246 28.1114 99.8943 24.7278 98.7485C24.1379 98.5486 23.7598 99.3643 24.2931 99.6867Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.603 6.78459C160.945 9.42458 162.712 12.9937 162.57 14.3772C162.396 16.0823 159.382 18.7764 156.795 20.9197C156.356 21.2825 156.805 21.9707 157.313 21.7158C160.107 20.3189 163.66 18.651 165.165 18.972C166.668 19.2932 169.353 22.4415 171.376 24.9143C171.737 25.3561 172.428 24.9077 172.172 24.3978C170.71 21.4856 168.925 17.7127 169.297 16.1757C169.648 14.7255 173.113 11.8582 175.647 9.80596C176.094 9.44436 175.639 8.74666 175.128 9.00773C172.246 10.4797 168.236 12.4786 166.782 12.2308C165.208 11.9618 162.478 8.79999 160.398 6.26437C160.035 5.8222 159.344 6.27439 159.603 6.78459Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M109.285 19.9086L109.285 19.9086C102.842 23.1185 87.3523 30.1026 68.0069 33.804L68.0069 33.804C64.069 34.5576 61.1748 37.956 61.1748 41.9896V78.4977C61.1748 95.8063 64.395 110.744 72.2446 122.656C80.1059 134.586 92.5407 143.377 110.759 148.511L110.759 148.511C112.199 148.916 113.736 148.916 115.176 148.511L115.176 148.511C133.394 143.377 145.829 134.586 153.69 122.656C161.54 110.744 164.76 95.8063 164.76 78.4977V41.9896C164.76 37.9561 161.866 34.5577 157.93 33.804L157.929 33.804C138.583 30.1026 123.093 23.1185 116.65 19.9086L116.65 19.9086C114.329 18.7529 111.606 18.7529 109.285 19.9086Z",fill:"#73F793",stroke:"#326474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{opacity:.7,fillRule:"evenodd",clipRule:"evenodd",d:"M113.002 147.88C113.649 147.877 114.296 147.787 114.922 147.611C151.018 137.439 163.825 112.902 163.825 78.4977V41.9896C163.825 38.4165 161.261 35.3937 157.753 34.7221C138.293 30.999 122.719 23.9767 116.233 20.7453C115.168 20.2149 114.007 19.959 112.85 19.9775C112.85 19.9775 113.002 147.88 113.002 147.88Z",fill:"#326474",fillOpacity:.24}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.63 55.9921C124.733 61.8564 119.841 71.555 113.712 71.7298C107.582 71.904 102.535 62.4889 102.432 56.6242C102.33 50.7596 107.215 45.8638 113.345 45.6892C119.475 45.5147 124.527 50.1275 124.63 55.9921Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.304 108.889C141.351 110.234 140.929 112.456 139.062 112.593C131.568 113.141 123.268 113.291 115.46 113.276C105.994 113.258 98.301 113.143 91.6049 112.528C89.4697 112.332 89.1896 110.211 89.1433 108.894C88.5614 92.3891 99.7665 79.0083 114.17 79.007C128.574 79.006 140.722 92.3849 141.304 108.889Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M88.8631 124.688L88.8652 124.699L88.8675 124.71L90.5777 132.936C90.5806 132.958 90.5769 132.993 90.5572 133.03C90.5441 133.054 90.5324 133.063 90.5291 133.066L86.1693 134.637C85.3296 134.94 84.788 135.671 84.6075 136.457C84.5264 136.81 84.4265 137.168 84.3129 137.525C84.1927 137.904 84.0643 138.263 83.9266 138.606C83.6308 139.344 83.672 140.219 84.1348 140.932L86.7217 144.917L86.7295 144.929L86.7377 144.94C86.7546 144.965 86.7557 144.981 86.7542 144.994C86.7526 145.008 86.7448 145.039 86.7059 145.079L80.6255 150.623L80.6167 150.631L80.6082 150.639C80.5941 150.652 80.5847 150.657 80.581 150.658C80.5769 150.66 80.5728 150.661 80.5676 150.661C80.558 150.661 80.5354 150.658 80.5069 150.637L76.9311 147.535C76.282 146.971 75.411 146.822 74.6367 147.052C73.9342 147.262 73.2144 147.416 72.4795 147.507C71.6807 147.606 70.9396 148.087 70.5673 148.865L68.5231 153.133L68.5198 153.14L68.5167 153.147C68.5095 153.162 68.5029 153.17 68.4996 153.173C68.4962 153.176 68.4932 153.178 68.4905 153.179C68.4878 153.18 68.4835 153.181 68.4771 153.182C68.471 153.182 68.4602 153.181 68.4446 153.176L60.6391 150.49C60.6144 150.481 60.5987 150.469 60.5849 150.445C60.5706 150.421 60.554 150.374 60.5576 150.306L61.3523 145.648C61.4962 144.804 61.1818 143.98 60.6147 143.42C60.0758 142.888 59.5862 142.313 59.1314 141.697C58.6565 141.054 57.8835 140.636 57.0321 140.686L52.4027 140.958C52.3613 140.954 52.3296 140.939 52.3108 140.924C52.3006 140.916 52.2939 140.908 52.2892 140.9C52.2847 140.893 52.2783 140.88 52.274 140.857L52.272 140.845L52.2697 140.834L50.5595 132.609C50.5566 132.587 50.5603 132.551 50.58 132.515C50.5931 132.491 50.6048 132.481 50.6081 132.479L54.9679 130.908C55.8072 130.605 56.3494 129.874 56.5302 129.088C56.6129 128.729 56.7139 128.367 56.8242 128.019C56.9282 127.692 57.0626 127.351 57.2142 127.011C57.5517 126.254 57.5216 125.34 57.0375 124.602L54.4334 120.631L54.4206 120.612L54.4069 120.593C54.3994 120.583 54.3977 120.577 54.3971 120.575C54.3964 120.572 54.3957 120.567 54.3967 120.559C54.3988 120.543 54.4092 120.512 54.4429 120.481C54.4431 120.481 54.4433 120.48 54.4435 120.48L60.5133 114.921L60.5212 114.913L60.529 114.906C60.5431 114.892 60.5525 114.888 60.5562 114.886C60.5603 114.885 60.5644 114.884 60.5696 114.884C60.5792 114.884 60.6018 114.886 60.6303 114.907L64.2155 118.018C64.8552 118.573 65.7154 118.73 66.4876 118.503C67.1982 118.295 67.9248 118.134 68.6616 118.039C69.4569 117.937 70.1974 117.457 70.5699 116.68L72.6075 112.426C72.633 112.378 72.6574 112.367 72.6608 112.365C72.6637 112.364 72.6655 112.364 72.6676 112.364C72.6694 112.364 72.6773 112.364 72.6926 112.369L80.4981 115.055C80.5265 115.065 80.548 115.082 80.5633 115.108C80.5781 115.133 80.589 115.169 80.5835 115.216L79.7849 119.897C79.6409 120.741 79.9554 121.564 80.5225 122.124C81.0614 122.657 81.551 123.232 82.0058 123.847C82.4807 124.49 83.2537 124.909 84.1051 124.859L88.7345 124.586C88.7759 124.591 88.8076 124.606 88.8264 124.621C88.8366 124.629 88.8432 124.637 88.848 124.645C88.8525 124.652 88.8589 124.665 88.8631 124.688ZM90.5332 133.064L90.5329 133.064L90.5332 133.064ZM50.604 132.48L50.6043 132.48L50.604 132.48Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("circle",{cx:70.5685,cy:132.774,r:7.26307,transform:"rotate(-11.7053 70.5685 132.774)",fill:"#DAF7F3",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M177.569 58.8458C177.569 58.8458 173.96 65.5006 174.039 66.0964C174.119 66.6924 179.278 65.5183 179.772 65.3757C180.266 65.2331 180.897 70.1809 181.73 71.2426C182.562 72.3045 183.593 72.2585 185.611 71.9274C187.629 71.5962 215.325 64.2513 215.325 64.2513C215.325 64.2513 218.971 63.975 218.295 60.6806C217.618 57.3864 213.929 38.503 213.729 37.8987C213.529 37.2945 213.409 34.6885 208.772 35.3087C204.134 35.9291 178.489 42.4728 178.489 42.4728C178.489 42.4728 175.275 43.4878 175.399 46.0349C175.523 48.5821 177.569 58.8458 177.569 58.8458Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M192.735 59.8696C193.455 57.2607 196.154 55.7299 198.763 56.4506L208.211 59.0602C210.82 59.7808 212.351 62.48 211.63 65.0889L208.857 75.1268C208.137 77.7357 205.438 79.2664 202.829 78.5458L193.381 75.9362C190.772 75.2155 189.241 72.5164 189.962 69.9075L192.735 59.8696Z",fill:"white",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M201.395 72.4404C201.024 73.6143 199.771 74.265 198.597 73.8941C197.423 73.5233 196.772 72.2707 197.143 71.0968C197.514 69.9229 198.766 69.2722 199.941 69.6431C201.115 70.0139 201.766 71.2663 201.395 72.4404Z",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M192.956 59.0666C193.555 56.9012 195.795 55.6306 197.96 56.2288L209.014 59.282C211.179 59.8801 212.45 62.1205 211.852 64.2859C211.254 66.4513 209.013 67.7219 206.848 67.1238L195.794 64.0705C193.629 63.4724 192.358 61.2321 192.956 59.0666Z",fill:"#EDE9E3",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{d:"M197.754 52.7398C198.763 49.0874 202.541 46.9443 206.194 47.9532C209.846 48.9621 211.989 52.7409 210.981 56.3933L209.017 63.503C209.017 63.503 208.274 64.3528 206.856 63.9613C205.439 63.5699 205.238 62.4592 205.238 62.4592L207.162 55.4913C207.595 53.9259 206.676 52.3065 205.111 51.8741C203.546 51.4417 201.926 52.3602 201.494 53.9255L199.569 60.8934C199.569 60.8934 198.826 61.7431 197.409 61.3517C195.992 60.9603 195.79 59.8495 195.79 59.8495L197.754 52.7398Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.748 100.235C199.499 102.479 197.155 105.943 194.806 105.709C192.456 105.475 190.991 101.631 191.24 99.3867C191.489 97.142 193.595 95.5121 195.944 95.7463C198.294 95.9806 199.997 97.9901 199.748 100.235Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M203.52 121.254C203.472 121.77 203.202 122.598 202.482 122.558C199.593 122.4 196.416 122.05 193.435 121.661C189.821 121.189 186.889 120.768 184.362 120.204C183.556 120.025 183.553 119.201 183.6 118.696C184.188 112.364 189.124 107.804 194.624 108.51C200.125 109.217 204.108 114.923 203.52 121.254Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.83 99.6489C184.788 101.26 183.42 103.843 181.845 103.793C180.27 103.743 179.085 101.079 179.127 99.4682C179.169 97.8574 180.48 96.5917 182.055 96.6417C183.63 96.6916 184.872 98.038 184.83 99.6489Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185.267 107.242C184.245 106.685 183.043 106.353 181.744 106.329C177.808 106.256 174.478 109.021 174.305 112.504C174.292 112.782 174.325 113.231 174.905 113.283C176.538 113.43 178.4 113.496 180.638 113.546C181.322 111.002 182.998 108.79 185.267 107.242Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),u.default.createElement("path",{d:"M28.9826 44.2651L31.1811 39.3806C31.4317 38.8239 31.8368 38.3511 32.3482 38.0186C33.6903 37.146 32.4961 39.4744 33.371 40.82L47.1313 61.9843C48.0232 63.3561 50.6285 63.2444 49.2603 64.1339C48.7782 64.4474 48.2214 64.627 47.6466 64.6544L42.6017 64.8951C39.4191 65.0469 36.288 65.6667 33.3067 66.7259C32.9227 66.8623 32.8231 67.3539 33.1147 67.6385C34.081 68.5815 34.9976 69.5032 35.0615 69.5729L37.4244 72.1491C38.7978 73.6465 38.5876 75.9994 36.9712 77.2219C35.8198 78.0927 34.2458 78.1488 33.0315 77.3624C31.92 76.5933 25.4781 70.8878 24.1962 71.6402C21.3485 73.3116 17.6576 72.4561 15.8346 69.6521L14.0731 66.9429C12.1973 64.0577 13.0093 60.2022 15.8868 58.3313C16.2843 58.0728 16.6884 57.82 17.0932 57.5667C22.0639 54.4563 26.5733 49.618 28.9826 44.2651Z",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{d:"M25.5367 70.553L26.0597 71.3278L26.0597 71.3278L25.5367 70.553ZM42.5183 65.0836L42.5135 64.1489L42.5183 65.0836ZM47.8746 65.0562L47.8794 65.991L47.8746 65.0562ZM49.1938 63.6206L48.8487 64.4894L48.8487 64.4894L49.1938 63.6206ZM14.3182 69.0346L14.9579 70.0184L16.5253 68.9993L15.8856 68.0155L14.3182 69.0346ZM14.9579 70.0184C17.1139 73.3344 21.5456 74.2827 24.8579 72.1291L23.8388 70.5617C21.3961 72.1499 18.121 71.4536 16.5253 68.9993L14.9579 70.0184ZM24.8579 72.1291C25.2633 71.8655 25.6651 71.5942 26.0597 71.3278L25.0136 69.7783C24.6167 70.0463 24.2284 70.3084 23.8388 70.5617L24.8579 72.1291ZM26.0597 71.3278C30.786 68.1368 36.8603 66.0474 42.5231 66.0184L42.5135 64.1489C36.4363 64.18 30.0068 66.4072 25.0136 69.7783L26.0597 71.3278ZM42.5231 66.0184L47.8794 65.991L47.8698 64.1214L42.5135 64.1489L42.5231 66.0184ZM47.8794 65.991C48.1845 65.9894 48.6819 65.9854 49.176 65.9349C49.6182 65.8897 50.2583 65.7921 50.7224 65.4903L49.7033 63.9229C49.7069 63.9206 49.6933 63.9298 49.6538 63.945C49.6154 63.9599 49.5627 63.9766 49.4942 63.9934C49.3552 64.0276 49.1824 64.0549 48.9858 64.075C48.5913 64.1154 48.1753 64.1199 47.8698 64.1214L47.8794 65.991ZM50.7224 65.4903C50.9694 65.3297 51.4367 64.9499 51.3905 64.3086C51.3496 63.7413 50.9205 63.4252 50.7645 63.3182C50.5526 63.1728 50.3054 63.0603 50.1092 62.9778C49.9158 62.8965 49.6815 62.8086 49.5388 62.7519L48.8487 64.4894C49.0516 64.57 49.2086 64.6273 49.3849 64.7013C49.5584 64.7743 49.6593 64.8272 49.7068 64.8598C49.7292 64.8752 49.7038 64.8621 49.6649 64.8138C49.6239 64.763 49.5397 64.6366 49.5257 64.443C49.5108 64.2362 49.5847 64.0773 49.6467 63.9908C49.699 63.9178 49.7385 63.9001 49.7033 63.9229L50.7224 65.4903ZM49.5388 62.7519C48.8914 62.4947 48.4405 62.2828 48.2314 61.9611L46.664 62.9802C47.255 63.8892 48.3311 64.2838 48.8487 64.4894L49.5388 62.7519Z",fill:"#316474"}),u.default.createElement("ellipse",{cx:41.4608,cy:51.2452,rx:4.16271,ry:16.0562,transform:"rotate(-33.0306 41.4608 51.2452)",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1483 57.8186C39.9805 56.398 38.7929 54.7788 37.6467 53.0158C36.7429 51.6257 35.9312 50.2484 35.2241 48.9222C37.4134 47.6394 40.3897 48.5062 41.9598 50.9211C43.5056 53.2987 43.1269 56.313 41.1483 57.8186Z",fill:"#ECE8E2"}),u.default.createElement("path",{d:"M41.1483 57.8186L40.4262 58.4122L40.9979 59.1076L41.7143 58.5625L41.1483 57.8186ZM35.2241 48.9222L34.7515 48.1156L33.9768 48.5696L34.3993 49.362L35.2241 48.9222ZM41.8704 57.2249C40.7259 55.8327 39.5588 54.2418 38.4304 52.5063L36.863 53.5253C38.0271 55.3158 39.2351 56.9632 40.4262 58.4122L41.8704 57.2249ZM38.4304 52.5063C37.5408 51.138 36.743 49.784 36.049 48.4824L34.3993 49.362C35.1195 50.7128 35.945 52.1134 36.863 53.5253L38.4304 52.5063ZM35.6967 49.7287C37.3761 48.7447 39.8252 49.353 41.1761 51.4307L42.7435 50.4116C40.9541 47.6594 37.4508 46.5341 34.7515 48.1156L35.6967 49.7287ZM41.1761 51.4307C42.505 53.4747 42.1024 55.9179 40.5822 57.0747L41.7143 58.5625C44.1514 56.7081 44.5061 53.1227 42.7435 50.4116L41.1761 51.4307Z",fill:"#316474"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="community-admin-light"},616133:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeactivateBadgeDarkIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=42,g=42;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 42 42",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M22.0607 22.7593L21 21.6987L19.9393 22.7593L15.6993 26.9993C15.5051 27.1936 15.1949 27.1936 15.0007 26.9993C14.8064 26.8051 14.8064 26.4949 15.0007 26.3007L19.2407 22.0607L20.3038 20.9975L19.2382 19.9368L14.9807 15.6993C14.9804 15.6991 14.9801 15.6988 14.9798 15.6985C14.7864 15.5042 14.7867 15.1946 14.9807 15.0007C15.1749 14.8064 15.4851 14.8064 15.6793 15.0007L15.6818 15.0032L19.9418 19.2432L21.0025 20.2988L22.0607 19.2407L26.3007 15.0007C26.4949 14.8064 26.8051 14.8064 26.9993 15.0007C27.1936 15.1949 27.1936 15.5051 26.9993 15.6993L22.7593 19.9393L21.6987 21L22.7593 22.0607L26.9993 26.3007L27.0061 26.3074L27.0128 26.314C27.2114 26.5076 27.2113 26.8274 27.0193 27.0193C26.8251 27.2136 26.5149 27.2136 26.3207 27.0193L22.0607 22.7593ZM26.8 1.5H15.2C13.7416 1.5 12.3403 2.07842 11.2993 3.11934L3.09934 11.3193C2.07444 12.3442 1.5 13.7473 1.5 15.2V26.8C1.5 28.2512 2.0737 29.6586 3.12587 30.6872L11.3129 38.8743C12.3415 39.9263 13.7488 40.5 15.2 40.5H26.8C28.2512 40.5 29.6585 39.9263 30.6871 38.8743L38.8743 30.6871C39.9263 29.6585 40.5 28.2512 40.5 26.8V15.2C40.5 13.7488 39.9263 12.3415 38.8743 11.3129L30.6872 3.12587C29.6586 2.0737 28.2512 1.5 26.8 1.5Z",fill:"#F15C6D",stroke:"#111b21",strokeWidth:3}),u.default.createElement("path",{d:"M28.08 28.08C27.3 28.86 26.04 28.86 25.26 28.08L21 23.82L16.76 28.06C15.98 28.84 14.72 28.84 13.94 28.06C13.16 27.28 13.16 26.02 13.94 25.24L18.18 21L13.92 16.76C13.14 15.98 13.14 14.72 13.92 13.94C14.7 13.16 15.96 13.16 16.74 13.94L21 18.18L25.24 13.94C26.02 13.16 27.28 13.16 28.06 13.94C28.84 14.72 28.84 15.98 28.06 16.76L23.82 21L28.06 25.24C28.86 26.02 28.86 27.3 28.08 28.08Z",fill:"#111b21"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="deactivate-badge-dark"},370639:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeactivateBadgeIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=42,g=42;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 42 42",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M22.0607 22.7593L21 21.6987L19.9393 22.7593L15.6993 26.9993C15.5051 27.1936 15.1949 27.1936 15.0007 26.9993C14.8064 26.8051 14.8064 26.4949 15.0007 26.3007L19.2407 22.0607L20.3038 20.9975L19.2382 19.9368L14.9807 15.6993C14.9804 15.6991 14.9801 15.6988 14.9798 15.6985C14.7864 15.5042 14.7867 15.1946 14.9807 15.0007C15.1749 14.8064 15.4851 14.8064 15.6793 15.0007L15.6818 15.0032L19.9418 19.2432L21.0025 20.2988L22.0607 19.2407L26.3007 15.0007C26.4949 14.8064 26.8051 14.8064 26.9993 15.0007C27.1936 15.1949 27.1936 15.5051 26.9993 15.6993L22.7593 19.9393L21.6987 21L22.7593 22.0607L26.9993 26.3007L27.0061 26.3074L27.0128 26.314C27.2114 26.5076 27.2113 26.8274 27.0193 27.0193C26.8251 27.2136 26.5149 27.2136 26.3207 27.0193L22.0607 22.7593ZM26.8 1.5H15.2C13.7416 1.5 12.3403 2.07842 11.2993 3.11934L3.09934 11.3193C2.07444 12.3442 1.5 13.7473 1.5 15.2V26.8C1.5 28.2512 2.0737 29.6586 3.12587 30.6872L11.3129 38.8743C12.3415 39.9263 13.7488 40.5 15.2 40.5H26.8C28.2512 40.5 29.6585 39.9263 30.6871 38.8743L38.8743 30.6871C39.9263 29.6585 40.5 28.2512 40.5 26.8V15.2C40.5 13.7488 39.9263 12.3415 38.8743 11.3129L30.6872 3.12587C29.6586 2.0737 28.2512 1.5 26.8 1.5Z",fill:"#ea0038",stroke:"white",strokeWidth:3}),u.default.createElement("path",{d:"M28.08 28.08C27.3 28.86 26.04 28.86 25.26 28.08L21 23.82L16.76 28.06C15.98 28.84 14.72 28.84 13.94 28.06C13.16 27.28 13.16 26.02 13.94 25.24L18.18 21L13.92 16.76C13.14 15.98 13.14 14.72 13.92 13.94C14.7 13.16 15.96 13.16 16.74 13.94L21 18.18L25.24 13.94C26.02 13.16 27.28 13.16 28.06 13.94C28.84 14.72 28.84 15.98 28.06 16.76L23.82 21L28.06 25.24C28.86 26.02 28.86 27.3 28.08 28.08Z",fill:"white"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="deactivate-badge"},910399:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.HighlyForwardedIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=16,g=20;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 20 16",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M13.6059557,5.26308901 C13.6220086,5.26163419 13.6302968,5.26102868 13.6302968,5.26102868 L13.6666317,3.82396292 C13.6881611,2.97246613 14.1900805,2.77489995 14.7806307,3.3754967 L18.4132486,7.06991365 C18.7126057,7.37436354 18.7160739,7.87287893 18.4230266,8.18124118 L14.7679628,12.0273223 C14.1812438,12.6447038 13.7056141,12.4510723 13.7056141,11.6045324 L13.7056141,9.93754567 L14.8701549,8.71214475 C15.4496567,8.10235763 15.441656,7.13001879 14.8512575,6.52957627 L13.6059557,5.26308901 L13.6059557,5.26308901 Z",fillOpacity:.25,fill:"currentColor"}),u.default.createElement("path",{d:"M9.55511091,3.82396292 C9.57664026,2.97246613 10.0785597,2.77489995 10.6691099,3.3754967 L14.3017278,7.06991365 C14.6010849,7.37436354 14.6045531,7.87287893 14.3115058,8.18124118 L10.656442,12.0273223 C10.069723,12.6447038 9.59409325,12.4510723 9.59409325,11.6045324 L9.59409325,9.87219486 C9.59409325,9.87219486 5.03474338,9.49878283 2.43099409,12.3846575 C1.83824676,12.8974744 1.66218866,12.9568393 1.47026458,12.8572726 C1.32851376,12.7423664 1.28325362,12.3846575 1.73218749,11.260453 C3.56459895,5.69602505 9.51877595,5.26102868 9.51877595,5.26102868 L9.55511091,3.82396292 Z",fillOpacity:.4,fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="highly-forwarded"},849410:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.IcHdActiveIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=32,g=32;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 32 32",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.79199 21.0949C3.792 23.2757 5.55996 25.0437 7.74085 25.0437H20.0548C20.3244 25.0402 20.5419 24.8206 20.5419 24.5501V22.0957C20.5419 20.4676 21.8617 19.1478 23.4899 19.1478H25.5556C26.0579 19.1478 26.4652 18.7405 26.4652 18.2382C26.4652 18.2043 26.4661 18.1707 26.4678 18.1375V10.8504C26.4678 8.66953 24.6998 6.90308 22.5189 6.90308L7.74088 6.90308C5.55997 6.90309 3.792 8.67106 3.792 10.852L3.79199 21.0949ZM12.9351 20.0024H14.4953V11.9413H12.9351V15.2022H10.6245V11.9413H9.05564V20.0024H10.6245V16.5531H12.9351V20.0024ZM16.5301 11.9413V20.0024H18.5401C19.4855 20.0024 20.2266 19.7016 20.7633 19.0999C21.3035 18.4946 21.5736 17.6623 21.5736 16.603V15.2964C21.563 14.2555 21.2875 13.4361 20.7473 12.8382C20.2106 12.2402 19.489 11.9413 18.5827 11.9413H16.5301ZM18.0975 18.6515V13.2977H18.668C19.1549 13.3125 19.4997 13.4693 19.7023 13.7683C19.9049 14.0636 20.0062 14.5877 20.0062 15.3407V16.7414C19.9955 17.4427 19.8836 17.9373 19.6703 18.2252C19.4571 18.5094 19.0892 18.6515 18.5667 18.6515H18.0975ZM30.4521 19.9975L25.9503 24.3925L24.5109 22.9873C24.3678 22.8474 24.1736 22.7687 23.9711 22.7687C23.7686 22.7687 23.5744 22.8474 23.4314 22.9873C23.1328 23.2788 23.1328 23.7497 23.4314 24.0412L25.4143 25.9772C25.7129 26.2687 26.1953 26.2687 26.4939 25.9772L31.5393 21.0514C31.8379 20.7599 31.8379 20.289 31.5393 19.9975C31.2407 19.706 30.7507 19.706 30.4521 19.9975Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="ic-hd-active"},863700:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.IcHdSettingsIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=32,g=32;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 32 32",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0606 8.44477H7.19032C6.16357 8.44477 5.33123 9.27712 5.33123 10.3039V21.6399C5.33123 22.6666 6.16357 23.499 7.19032 23.499H18.9996C19.0787 24.036 19.221 24.5525 19.4186 25.0407H7.19032C5.31213 25.0407 3.78955 23.5181 3.78955 21.6399V10.3039C3.78955 8.42567 5.31213 6.90308 7.19032 6.90308H23.0606C24.9388 6.90308 26.4613 8.42567 26.4613 10.3039V15.7792C26.2099 15.7508 25.9544 15.7363 25.6954 15.7363C25.4331 15.7363 25.1742 15.7512 24.9197 15.7803V10.3039C24.9197 9.27712 24.0873 8.44477 23.0606 8.44477ZM14.4944 20.0024H12.9341V16.5532H10.6235V20.0024H9.05472V11.9413H10.6235V15.2023H12.9341V11.9413H14.4944V20.0024ZM16.5291 20.0024V11.9413H18.5817C19.4881 11.9413 20.2096 12.2402 20.7463 12.8382C21.2865 13.4361 21.562 14.2555 21.5727 15.2964V16.603C21.5727 17.6623 21.3025 18.4947 20.7623 19.1C20.2256 19.7016 19.4845 20.0024 18.5391 20.0024H16.5291ZM18.0966 13.2977V18.6515H18.5657C19.0882 18.6515 19.4561 18.5094 19.6693 18.2252C19.8826 17.9373 19.9946 17.4427 20.0052 16.7414V15.3407C20.0052 14.5877 19.9039 14.0636 19.7013 13.7683C19.4987 13.4694 19.154 13.3125 18.667 13.2977H18.0966ZM24.8447 26.6327L24.581 25.3538C24.4052 25.2828 24.2406 25.2083 24.087 25.1304C23.9329 25.052 23.7753 24.9559 23.6141 24.8422L22.3396 25.2259L21.4606 23.7765L22.4715 22.9238C22.4422 22.7249 22.4275 22.5402 22.4275 22.3696C22.4275 22.1991 22.4422 22.0144 22.4715 21.8154L21.4606 20.9628L22.3396 19.5133L23.6141 19.897C23.7753 19.7833 23.9329 19.6873 24.087 19.6088C24.2406 19.531 24.4052 19.4565 24.581 19.3855L24.8447 18.1065H26.6027L26.8664 19.3855C27.0422 19.4565 27.2071 19.5347 27.3612 19.6199C27.5148 19.7052 27.6721 19.8118 27.8333 19.9397L29.1078 19.5133L29.9868 21.0054L28.9759 21.8581C29.0052 22.0286 29.0199 22.2062 29.0199 22.3909C29.0199 22.5757 29.0052 22.7533 28.9759 22.9238L29.9868 23.7765L29.1078 25.2259L27.8333 24.8422C27.6721 24.9559 27.5148 25.052 27.3612 25.1304C27.2071 25.2083 27.0422 25.2828 26.8664 25.3538L26.6027 26.6327H24.8447ZM25.7237 24.0749C26.2071 24.0749 26.6211 23.908 26.9657 23.5744C27.3097 23.2402 27.4817 22.8386 27.4817 22.3696C27.4817 21.9007 27.3097 21.4991 26.9657 21.1649C26.6211 20.8312 26.2071 20.6644 25.7237 20.6644C25.2403 20.6644 24.8265 20.8312 24.4826 21.1649C24.138 21.4991 23.9657 21.9007 23.9657 22.3696C23.9657 22.8386 24.138 23.2402 24.4826 23.5744C24.8265 23.908 25.2403 24.0749 25.7237 24.0749Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="ic-hd-settings"},309909:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.LinkCrossedIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M17 7H13V8.9H17C18.71 8.9 20.1 10.29 20.1 12C20.1 13.43 19.12 14.63 17.79 14.98L19.25 16.44C20.88 15.61 22 13.95 22 12C22 9.24 19.76 7 17 7ZM16 11H13.81L15.81 13H16V11ZM2 4.27L5.11 7.38C3.29 8.12 2 9.91 2 12C2 14.76 4.24 17 7 17H11V15.1H7C5.29 15.1 3.9 13.71 3.9 12C3.9 10.41 5.11 9.1 6.66 8.93L8.73 11H8V13H10.73L13 15.27V17H14.73L18.74 21L20 19.74L3.27 3L2 4.27Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="link-crossed"},505945:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorAddIcon=function(){throw(0,r.default)("This SVG doesn't exist on web!")};var r=a(n(556869))},576190:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorBlurPixelateIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("rect",{x:4.5,y:4.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:4.5,y:10.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:4.5,y:16.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:7.5,y:7.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:7.5,y:13.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:13.5,y:7.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:13.5,y:13.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:10.5,y:4.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:10.5,y:10.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:10.5,y:16.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:16.5,y:4.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:16.5,y:10.5,width:3,height:3,fill:"currentColor"}),u.default.createElement("rect",{x:16.5,y:16.5,width:3,height:3,fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-blur-pixelate"},877531:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorBlurSmoothIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M6 13C5.45 13 5 13.45 5 14C5 14.55 5.45 15 6 15C6.55 15 7 14.55 7 14C7 13.45 6.55 13 6 13ZM6 17C5.45 17 5 17.45 5 18C5 18.55 5.45 19 6 19C6.55 19 7 18.55 7 18C7 17.45 6.55 17 6 17ZM6 9C5.45 9 5 9.45 5 10C5 10.55 5.45 11 6 11C6.55 11 7 10.55 7 10C7 9.45 6.55 9 6 9ZM3 9.5C2.72 9.5 2.5 9.72 2.5 10C2.5 10.28 2.72 10.5 3 10.5C3.28 10.5 3.5 10.28 3.5 10C3.5 9.72 3.28 9.5 3 9.5ZM6 5C5.45 5 5 5.45 5 6C5 6.55 5.45 7 6 7C6.55 7 7 6.55 7 6C7 5.45 6.55 5 6 5ZM21 10.5C21.28 10.5 21.5 10.28 21.5 10C21.5 9.72 21.28 9.5 21 9.5C20.72 9.5 20.5 9.72 20.5 10C20.5 10.28 20.72 10.5 21 10.5ZM14 7C14.55 7 15 6.55 15 6C15 5.45 14.55 5 14 5C13.45 5 13 5.45 13 6C13 6.55 13.45 7 14 7ZM14 3.5C14.28 3.5 14.5 3.28 14.5 3C14.5 2.72 14.28 2.5 14 2.5C13.72 2.5 13.5 2.72 13.5 3C13.5 3.28 13.72 3.5 14 3.5ZM3 13.5C2.72 13.5 2.5 13.72 2.5 14C2.5 14.28 2.72 14.5 3 14.5C3.28 14.5 3.5 14.28 3.5 14C3.5 13.72 3.28 13.5 3 13.5ZM10 20.5C9.72 20.5 9.5 20.72 9.5 21C9.5 21.28 9.72 21.5 10 21.5C10.28 21.5 10.5 21.28 10.5 21C10.5 20.72 10.28 20.5 10 20.5ZM10 3.5C10.28 3.5 10.5 3.28 10.5 3C10.5 2.72 10.28 2.5 10 2.5C9.72 2.5 9.5 2.72 9.5 3C9.5 3.28 9.72 3.5 10 3.5ZM10 7C10.55 7 11 6.55 11 6C11 5.45 10.55 5 10 5C9.45 5 9 5.45 9 6C9 6.55 9.45 7 10 7ZM10 12.5C9.17 12.5 8.5 13.17 8.5 14C8.5 14.83 9.17 15.5 10 15.5C10.83 15.5 11.5 14.83 11.5 14C11.5 13.17 10.83 12.5 10 12.5ZM18 13C17.45 13 17 13.45 17 14C17 14.55 17.45 15 18 15C18.55 15 19 14.55 19 14C19 13.45 18.55 13 18 13ZM18 17C17.45 17 17 17.45 17 18C17 18.55 17.45 19 18 19C18.55 19 19 18.55 19 18C19 17.45 18.55 17 18 17ZM18 9C17.45 9 17 9.45 17 10C17 10.55 17.45 11 18 11C18.55 11 19 10.55 19 10C19 9.45 18.55 9 18 9ZM18 5C17.45 5 17 5.45 17 6C17 6.55 17.45 7 18 7C18.55 7 19 6.55 19 6C19 5.45 18.55 5 18 5ZM21 13.5C20.72 13.5 20.5 13.72 20.5 14C20.5 14.28 20.72 14.5 21 14.5C21.28 14.5 21.5 14.28 21.5 14C21.5 13.72 21.28 13.5 21 13.5ZM14 17C13.45 17 13 17.45 13 18C13 18.55 13.45 19 14 19C14.55 19 15 18.55 15 18C15 17.45 14.55 17 14 17ZM14 20.5C13.72 20.5 13.5 20.72 13.5 21C13.5 21.28 13.72 21.5 14 21.5C14.28 21.5 14.5 21.28 14.5 21C14.5 20.72 14.28 20.5 14 20.5ZM10 8.5C9.17 8.5 8.5 9.17 8.5 10C8.5 10.83 9.17 11.5 10 11.5C10.83 11.5 11.5 10.83 11.5 10C11.5 9.17 10.83 8.5 10 8.5ZM10 17C9.45 17 9 17.45 9 18C9 18.55 9.45 19 10 19C10.55 19 11 18.55 11 18C11 17.45 10.55 17 10 17ZM14 12.5C13.17 12.5 12.5 13.17 12.5 14C12.5 14.83 13.17 15.5 14 15.5C14.83 15.5 15.5 14.83 15.5 14C15.5 13.17 14.83 12.5 14 12.5ZM14 8.5C13.17 8.5 12.5 9.17 12.5 10C12.5 10.83 13.17 11.5 14 11.5C14.83 11.5 15.5 10.83 15.5 10C15.5 9.17 14.83 8.5 14 8.5Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-blur-smooth"},675650:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorCropRotateIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3816 3.90531C14.6637 3.90531 14.8923 3.67656 14.8923 3.39438L14.8918 2.84589C16.1791 2.85038 17.6246 3.213 18.7365 4.14324C19.3525 4.65862 20.1579 5.50436 20.5746 6.56201C21.1688 8.07002 21.2528 9.90516 21.2528 10.9187C21.2528 11.0355 21.3256 11.163 21.4225 11.2599C21.5194 11.3568 21.6468 11.4297 21.7636 11.4297H22.1521C22.2924 11.4297 22.4435 11.373 22.5595 11.282C22.6755 11.1911 22.76 11.0631 22.76 10.9187C22.76 9.62054 22.556 7.44191 21.7866 5.69255C21.2979 4.58147 20.4227 3.71554 19.7402 3.13325C18.3666 1.96127 16.5472 1.44043 14.8918 1.4354L14.8923 0.610953C14.8923 0.491427 14.8504 0.375683 14.774 0.283861C14.5934 0.0670835 14.2713 0.0377945 14.0546 0.218443L12.385 1.61015C12.3612 1.62994 12.3393 1.65183 12.3196 1.67557C12.139 1.89235 12.1682 2.21453 12.385 2.39517L14.0546 3.78689C14.1463 3.8634 14.2621 3.90531 14.3816 3.90531Z",fill:"currentColor"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8064 15.0538V9.00506L17.7987 9.00506C17.7852 7.6881 16.7109 6.62478 15.3878 6.62478L7.13536 6.62477L7.13536 3.43437C7.13536 2.99096 6.77596 2.63803 6.33319 2.63803H5.98825C5.54547 2.63803 5.18607 2.99096 5.18607 3.43437V6.62477H2.04586C1.60299 6.62477 1.23999 6.98386 1.23999 7.42717V7.76721C1.23999 8.21052 1.60299 8.5696 2.04586 8.5696L15.3878 8.56961C15.6429 8.56961 15.8495 8.77602 15.8495 9.03035L15.8622 11.4123V15.0538C15.8622 15.4969 16.2213 15.8562 16.6643 15.8562H17.0043C17.4473 15.8562 17.8064 15.4969 17.8064 15.0538Z",fill:"currentColor"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.18797 10.779V13.3284H5.18607L5.18609 16.8025C5.18609 18.1311 6.26561 19.208 7.59713 19.208H15.8495V22.2939C15.8495 22.7369 16.2085 23.1 16.6517 23.1H16.9967C17.4398 23.1 17.7988 22.7369 17.7988 22.2939V19.208H20.8904C21.3333 19.208 21.6963 18.8489 21.6963 18.4056V18.0655C21.6963 17.6222 21.3333 17.2631 20.8904 17.2631H7.59713C7.34204 17.2631 7.13537 17.0569 7.13537 16.8025L7.13536 13.3284H7.13226V10.779C7.13226 10.3358 6.77311 9.97659 6.33009 9.97659H5.99014C5.54711 9.97659 5.18797 10.3358 5.18797 10.779Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-crop-rotate"},419699:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRedoIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1711 6.65302L15.1706 8.51221C15.1706 9.11927 15.6414 9.63151 16.2464 9.63151C16.4274 9.63151 16.605 9.58399 16.763 9.49405L21.8193 6.61457C22.3483 6.31335 22.5358 5.62853 22.256 5.08554C22.1569 4.89308 22.0057 4.73331 21.8193 4.62721L16.763 1.74774C16.2331 1.44598 15.5777 1.65826 15.2983 2.20064C15.2143 2.36365 15.1706 2.54543 15.1706 2.72959L15.1711 4.63483H10.1842C5.56509 4.63483 1.61 8.23329 1.61 13.3828C1.61 18.506 5.02928 22.3855 9.67952 22.3855H19.1685C19.66 22.3855 20.0388 21.9699 20.0388 21.4822V21.2336C20.0388 20.7313 19.6457 20.3614 19.1685 20.3614H9.67952C6.36475 20.3614 3.53737 17.1539 3.53737 13.3828C3.53737 9.62489 6.35893 6.65302 9.67952 6.65302H15.1711Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-redo"},422310:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRotateLeftIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.3542 8.1443C6.3542 7.7438 6.03051 7.4185 5.63045 7.4185L5.01611 7.41915C5.03258 5.57318 5.47035 4.24139 6.34295 3.36586C7.23254 2.4733 8.59469 2.03425 10.4907 2.03425H10.6135C10.9457 2.03425 11.2144 1.76409 11.2144 1.43161V0.815805C11.2144 0.415302 10.8908 0.090004 10.4907 0.090004C8.0866 0.090004 6.22855 0.730549 4.97198 1.99134C3.73442 3.23304 3.09655 5.05999 3.07758 7.41919L2.11375 7.4185C1.94433 7.4185 1.78034 7.4781 1.65028 7.58684C1.34333 7.84348 1.30195 8.30096 1.55763 8.60881L3.31599 10.7259C3.344 10.7596 3.37501 10.7907 3.40863 10.8189C3.71579 11.0757 4.17235 11.034 4.42821 10.7259L6.18656 8.60881C6.29491 8.47836 6.3542 8.31399 6.3542 8.1443Z",fill:"currentColor"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.35864 8.89517V17.2464C9.35864 18.6072 10.4633 19.71 11.8256 19.71H20.143C21.5053 19.71 22.61 18.6072 22.61 17.2464V8.89517C22.61 7.53441 21.5053 6.43158 20.143 6.43158H11.8256C10.4633 6.43158 9.35864 7.53442 9.35864 8.89517ZM11.8256 17.764C11.5391 17.764 11.3071 17.5321 11.3071 17.2464V8.89517C11.3071 8.60945 11.5391 8.37755 11.8256 8.37755H20.143C20.4295 8.37755 20.6615 8.60945 20.6615 8.89517V17.2464C20.6615 17.5321 20.4295 17.764 20.143 17.764H11.8256Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-rotate-left"},733509:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRotateRightIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6458 8.1443C17.6458 7.7438 17.9695 7.4185 18.3695 7.4185L18.9839 7.41915C18.9674 5.57318 18.5296 4.24139 17.657 3.36586C16.7674 2.4733 15.4053 2.03425 13.5093 2.03425H13.3865C13.0543 2.03425 12.7855 1.76409 12.7855 1.43161V0.815805C12.7855 0.415302 13.1092 0.090004 13.5093 0.090004C15.9134 0.090004 17.7714 0.730551 19.028 1.99134C20.2655 3.23304 20.9034 5.05999 20.9224 7.41919L21.8862 7.4185C22.0556 7.4185 22.2196 7.4781 22.3497 7.58684C22.6566 7.84348 22.698 8.30096 22.4423 8.60881L20.684 10.7259C20.656 10.7596 20.625 10.7907 20.5913 10.8189C20.2842 11.0757 19.8276 11.034 19.5718 10.7259L17.8134 8.60881C17.7051 8.47836 17.6458 8.31399 17.6458 8.1443Z",fill:"currentColor"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6413 8.89517L14.6413 17.2464C14.6413 18.6072 13.5367 19.71 12.1743 19.71H3.85698C2.49465 19.71 1.38998 18.6072 1.38998 17.2464V8.89517C1.38998 7.53441 2.49465 6.43158 3.85698 6.43158H12.1743C13.5367 6.43158 14.6413 7.53442 14.6413 8.89517ZM12.1743 17.764C12.4609 17.764 12.6929 17.5321 12.6929 17.2464V8.89517C12.6929 8.60945 12.4609 8.37755 12.1743 8.37755H3.85698C3.57045 8.37755 3.33845 8.60945 3.33845 8.89517V17.2464C3.33845 17.5321 3.57045 17.764 3.85698 17.764H12.1743Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-rotate-right"},145192:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorStickerIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M22.492 10.0663C22.4899 9.87314 22.4875 9.67478 22.4823 9.4911C22.4613 8.68504 22.42 8.07629 22.3069 7.456C22.1771 6.74019 21.882 5.9027 21.5721 5.30025C21.2569 4.68415 20.8413 4.12354 20.3429 3.63024C19.8476 3.138 19.2816 2.72605 18.6554 2.41119C18.0523 2.10576 17.2104 1.81134 16.4869 1.68329C15.8691 1.57203 15.2575 1.52999 14.4335 1.50795C14.1005 1.49955 10.6565 1.49535 9.58425 1.50795C8.74865 1.52894 8.13609 1.57203 7.51619 1.68329C6.79473 1.81238 5.95342 2.1053 5.34714 2.41177C4.72306 2.72559 4.15656 3.13806 3.65918 3.63136C3.16389 4.1215 2.74885 4.68159 2.43053 5.30084C2.12268 5.90119 1.82571 6.7381 1.69482 7.4539C1.58277 8.07419 1.54148 8.69868 1.51949 9.4911C1.51111 9.78183 1.5 12.5159 1.5 12.5159C1.5 13.0617 1.5111 14.2446 1.51948 14.5364C1.54042 15.3288 1.58383 15.9522 1.69482 16.5704C1.82676 17.2915 2.12344 18.1266 2.43129 18.7259C2.74857 19.3451 3.15777 19.9121 3.65515 20.4043C4.15044 20.8966 4.72435 21.3016 5.34948 21.6165C5.95471 21.9219 6.79473 22.215 7.51724 22.3441C7.60624 22.3599 7.6963 22.3705 7.78844 22.3831C8.29001 22.4544 8.66069 22.4779 9.49839 22.5C9.53504 22.501 11.7162 22.4726 12.1979 22.461C13.9434 22.419 15.71 21.8418 16.9938 20.659C18.1749 19.5695 19.2233 18.5885 20.06 17.7856C21.3605 16.5366 22.3215 14.4713 22.4336 12.6639L22.5018 11.5598C22.5028 11.2491 22.5018 11.0361 22.5018 10.8587C22.5028 10.8345 22.4931 10.0841 22.492 10.0663ZM18.8541 16.2428C18.0269 17.0373 16.9702 18.0273 15.7953 19.1104C15.1796 19.6782 14.4806 20.0586 13.6931 20.3052C13.7465 20.1552 13.8146 20.0518 13.845 19.887C13.889 19.6414 13.9078 19.4032 13.9151 19.1104C13.9183 19.0002 13.9246 18.2822 13.9246 18.2822C13.9382 17.7753 13.9685 17.3744 14.0366 17.0018C14.1089 16.604 14.224 16.2576 14.3884 15.9354C14.556 15.609 14.7748 15.3109 15.0387 15.0496C15.3047 14.7851 15.6062 14.5689 15.9382 14.402C16.267 14.2362 16.6188 14.1207 17.024 14.0483C17.3999 13.9811 17.7916 13.9507 18.3361 13.9371C18.3361 13.9371 18.7371 13.9381 19.0701 13.9339C19.3853 13.9255 19.6177 13.9077 19.8607 13.8646C20.0554 13.8289 20.1895 13.7544 20.3644 13.6873C20.0995 14.6686 19.5944 15.5312 18.8541 16.2428ZM20.5842 11.0445C20.5549 11.2019 20.5102 11.317 20.46 11.4146C20.3972 11.5364 20.3335 11.6337 20.2497 11.7166C20.1575 11.8079 20.0879 11.8537 19.9738 11.9114C19.8596 11.9691 19.735 12.0021 19.5853 12.0283C19.4376 12.0546 19.2732 12.0707 19.0408 12.077C18.7172 12.0812 18.3214 12.077 18.3214 12.077C17.6795 12.0938 17.2188 12.1294 16.7486 12.2134C16.1968 12.3121 15.6994 12.4751 15.2335 12.7102C14.7549 12.9505 14.1203 13.3553 13.7371 13.7353C13.357 14.111 13.0302 14.5688 12.7863 15.0442C12.5486 15.5081 12.3049 16.1716 12.2054 16.7194C12.1206 17.1886 12.0848 17.6588 12.0691 18.2529C12.0691 18.2529 12.0614 18.9708 12.0593 19.0684C12.053 19.2867 12.0368 19.4567 12.0106 19.6047C11.9844 19.7474 11.9503 19.8681 11.8937 19.9783C11.8351 20.0917 11.7792 20.1778 11.6892 20.267C11.597 20.3583 11.5111 20.41 11.3969 20.4677C11.3215 20.5055 11.2285 20.5362 11.017 20.5729C10.9888 20.5781 10.747 20.5974 10.5397 20.6016C10.5177 20.6016 9.57587 20.6122 9.53922 20.6111C8.76226 20.5912 8.21671 20.5613 7.79263 20.4773C7.21567 20.3744 6.69412 20.2355 6.2271 19.9994C5.74857 19.759 5.31574 19.4479 4.93668 19.0722C4.55658 18.6964 4.29917 18.2843 4.05728 17.8131C3.82168 17.3555 3.65538 16.859 3.55067 16.2881C3.45643 15.7685 3.41763 15.2123 3.39773 14.4933C3.3904 14.2141 3.39878 13.9234 3.39773 13.6043C3.39459 13.2979 3.3904 9.81122 3.39773 9.53308C3.41867 8.81413 3.45643 8.25891 3.55067 7.73623C3.65329 7.16947 3.82168 6.67407 4.05728 6.21436C4.29917 5.74311 4.57483 5.35737 4.95389 4.98268C5.334 4.60483 5.7675 4.28628 6.24499 4.04593C6.71305 3.80977 7.21567 3.65068 7.79158 3.54887C8.31828 3.45441 8.86174 3.40737 9.61357 3.38638C10.6691 3.37378 14.0743 3.37798 14.3895 3.38638C15.1403 3.40632 15.6837 3.45441 16.2083 3.54887C16.7863 3.65173 17.289 3.81082 17.7539 4.04593C18.2335 4.28732 18.667 4.59737 19.046 4.97312C19.4272 5.34991 19.704 5.74206 19.9438 6.21121C20.1826 6.67407 20.3489 7.16947 20.4504 7.73623C20.5457 8.25996 20.5835 8.79944 20.6034 9.53308C20.6117 9.81752 20.6225 10.4428 20.6225 10.5866C20.6172 10.7703 20.6073 10.9185 20.5842 11.0445Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-sticker"},349456:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorTextIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M20.9636 2.1C21.6465 2.1 22.2 2.58298 22.2 3.26643C22.2 3.94989 21.6465 4.42307 20.9636 4.42307H17.2545H13.1573V20.6625C13.1573 21.3459 12.6828 21.9 12 21.9C11.3172 21.9 10.8427 21.3459 10.8427 20.6625V4.42307H6.74544H3.03635C2.35353 4.42307 1.79999 3.94989 1.79999 3.26643C1.79999 2.58298 2.35353 2.1 3.03635 2.1H20.9636Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-text"},333569:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorUndoIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.74895 9.63151C8.3539 9.63151 8.82472 9.1193 8.82472 8.51224L8.82426 6.65302H14.3158C17.6364 6.65302 20.458 9.62489 20.458 13.3828C20.458 17.1539 17.6306 20.3614 14.3158 20.3614H4.82686C4.34965 20.3614 3.95653 20.7313 3.95653 21.2336V21.4822C3.95653 21.9699 4.33532 22.3855 4.82686 22.3855H14.3158C18.966 22.3855 22.3853 18.506 22.3853 13.3828C22.3853 8.23329 18.4302 4.63483 13.8111 4.63483H8.82426L8.82472 2.72955C8.82472 2.5454 8.78106 2.36365 8.69707 2.20064C8.41763 1.65826 7.76223 1.44598 7.23234 1.74774L2.17598 4.62721C1.98966 4.73331 1.83846 4.89308 1.7393 5.08554C1.45954 5.62853 1.64703 6.31335 2.17598 6.61457L7.23234 9.49405C7.39028 9.58399 7.56789 9.63151 7.74895 9.63151Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-editor-undo"},249486:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaMultipleIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=20,g=20;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 20 20",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 14V2C20 0.9 19.1 0 18 0H6C4.9 0 4 0.9 4 2V14C4 15.1 4.9 16 6 16H18C19.1 16 20 15.1 20 14ZM9.4 10.53L11.03 12.71L13.61 9.49C13.81 9.24 14.19 9.24 14.39 9.49L17.35 13.19C17.61 13.52 17.38 14 16.96 14H7C6.59 14 6.35 13.53 6.6 13.2L8.6 10.53C8.8 10.27 9.2 10.27 9.4 10.53ZM0 18V5C0 4.45 0.45 4 1 4C1.55 4 2 4.45 2 5V17C2 17.55 2.45 18 3 18H15C15.55 18 16 18.45 16 19C16 19.55 15.55 20 15 20H2C0.9 20 0 19.1 0 18Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="media-multiple"},173144:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MinusIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=28,g=28;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 28 28",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 28 28"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M8.381,14.803v-1.605h11.237v1.605C19.618,14.803,8.381,14.803,8.381,14.803z"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="minus"},129673:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiDeviceIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=16,g=22;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 22 16",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n)},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M3.66667 2.49984H20.1667V0.666504H3.66667C2.65833 0.666504 1.83333 1.4915 1.83333 2.49984V12.5832H0V15.3332H12.8333V12.5832H3.66667V2.49984ZM21.0833 4.33317H15.5833C15.0792 4.33317 14.6667 4.74567 14.6667 5.24984V14.4165C14.6667 14.9207 15.0792 15.3332 15.5833 15.3332H21.0833C21.5875 15.3332 22 14.9207 22 14.4165V5.24984C22 4.74567 21.5875 4.33317 21.0833 4.33317ZM20.1667 12.5832H16.5V6.1665H20.1667V12.5832Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="multi-device"},918857:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineSmoothIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M12 6.8C13.3255 6.8 14.4 5.72548 14.4 4.4C14.4 3.07452 13.3255 2 12 2C10.6745 2 9.6 3.07452 9.6 4.4C9.6 5.72548 10.6745 6.8 12 6.8Z",fill:"currentColor"}),u.default.createElement("path",{d:"M2.4 18C3.72548 18 4.8 16.9255 4.8 15.6C4.8 14.2745 3.72548 13.2 2.4 13.2C1.07452 13.2 0 14.2745 0 15.6C0 16.9255 1.07452 18 2.4 18Z",fill:"currentColor"}),u.default.createElement("path",{d:"M24 15.6C24 16.9255 22.9255 18 21.6 18C20.2745 18 19.2 16.9255 19.2 15.6C19.2 14.2745 20.2745 13.2 21.6 13.2C22.9255 13.2 24 14.2745 24 15.6Z",fill:"currentColor"}),u.default.createElement("path",{d:"M8.45173 6.81238C8.84982 6.6207 9.01714 6.1426 8.82545 5.74452C8.63377 5.34644 8.15567 5.17912 7.75759 5.3708C6.96932 5.75036 6.23447 6.23171 5.56699 6.79818C5.23012 7.08406 5.18879 7.58891 5.47468 7.92578C5.76057 8.26264 6.26541 8.30397 6.60228 8.01808C7.16902 7.53711 7.78973 7.13114 8.45173 6.81238Z",fill:"currentColor"}),u.default.createElement("path",{d:"M16.2423 5.3708C15.8442 5.17912 15.3661 5.34644 15.1744 5.74452C14.9827 6.1426 15.15 6.6207 15.5481 6.81238C16.2101 7.13114 16.8308 7.53711 17.3976 8.01808C17.7344 8.30397 18.2393 8.26264 18.5252 7.92578C18.8111 7.58891 18.7697 7.08407 18.4329 6.79818C17.7654 6.23171 17.0305 5.75036 16.2423 5.3708Z",fill:"currentColor"}),u.default.createElement("path",{d:"M4.88232 9.95429C5.12771 9.58687 5.02879 9.09009 4.66137 8.8447C4.29395 8.59931 3.79717 8.69823 3.55178 9.06565C3.07649 9.77728 2.67721 10.5509 2.3661 11.3726C2.20967 11.7858 2.41782 12.2476 2.83102 12.404C3.24423 12.5605 3.70602 12.3523 3.86245 11.9391C4.13081 11.2303 4.47456 10.5648 4.88232 9.95429Z",fill:"currentColor"}),u.default.createElement("path",{d:"M20.4481 9.06565C20.2027 8.69823 19.7059 8.59931 19.3385 8.8447C18.9711 9.0901 18.8721 9.58687 19.1175 9.95429C19.5253 10.5648 19.869 11.2303 20.1374 11.9391C20.2938 12.3523 20.7556 12.5605 21.1688 12.404C21.582 12.2476 21.7902 11.7858 21.6337 11.3726C21.3226 10.5509 20.9234 9.77728 20.4481 9.06565Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="outline-smooth"},810904:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineStraightIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M14.4 4.4C14.4 5.72548 13.3255 6.8 12 6.8C10.6745 6.8 9.6 5.72548 9.6 4.4C9.6 3.07452 10.6745 2 12 2C13.3255 2 14.4 3.07452 14.4 4.4Z",fill:"currentColor"}),u.default.createElement("path",{d:"M15.1215 6.81258C14.8339 6.47712 14.3289 6.43827 13.9934 6.72581C13.658 7.01335 13.6191 7.51839 13.9067 7.85385L15.2781 9.45385C15.5656 9.78931 16.0707 9.82816 16.4061 9.54062C16.7416 9.25308 16.7804 8.74804 16.4929 8.41258L15.1215 6.81258Z",fill:"currentColor"}),u.default.createElement("path",{d:"M10.0929 7.85385C10.3804 7.51839 10.3416 7.01335 10.0061 6.72581C9.67068 6.43828 9.16564 6.47712 8.8781 6.81258L7.50667 8.41258C7.21913 8.74805 7.25798 9.25309 7.59344 9.54062C7.9289 9.82816 8.43394 9.78931 8.72148 9.45385L10.0929 7.85385Z",fill:"currentColor"}),u.default.createElement("path",{d:"M18.3215 10.5459C18.0339 10.2105 17.5289 10.1716 17.1934 10.4591C16.858 10.7467 16.8191 11.2517 17.1067 11.5872L18.4781 13.1872C18.7656 13.5226 19.2707 13.5615 19.6061 13.274C19.9416 12.9864 19.9804 12.4814 19.6929 12.1459L18.3215 10.5459Z",fill:"currentColor"}),u.default.createElement("path",{d:"M6.89291 11.5872C7.18045 11.2517 7.1416 10.7467 6.80614 10.4591C6.47068 10.1716 5.96564 10.2105 5.6781 10.5459L4.30667 12.1459C4.01913 12.4814 4.05798 12.9864 4.39344 13.274C4.7289 13.5615 5.23394 13.5226 5.52148 13.1872L6.89291 11.5872Z",fill:"currentColor"}),u.default.createElement("path",{d:"M2.4 18C3.72548 18 4.8 16.9255 4.8 15.6C4.8 14.2745 3.72548 13.2 2.4 13.2C1.07452 13.2 0 14.2745 0 15.6C0 16.9255 1.07452 18 2.4 18Z",fill:"currentColor"}),u.default.createElement("path",{d:"M21.6 18C22.9255 18 24 16.9255 24 15.6C24 14.2745 22.9255 13.2 21.6 13.2C20.2745 13.2 19.2 14.2745 19.2 15.6C19.2 16.9255 20.2745 18 21.6 18Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="outline-straight"},640963:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PaletteIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=28,g=28;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 28 28",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 3.5C8.20167 3.5 3.5 8.20167 3.5 14C3.5 19.7983 8.20167 24.5 14 24.5C14.9683 24.5 15.75 23.7183 15.75 22.75C15.75 22.295 15.575 21.8867 15.295 21.5717C15.0267 21.2683 14.8517 20.86 14.8517 20.4167C14.8517 19.4483 15.6333 18.6667 16.6017 18.6667H18.6667C21.8867 18.6667 24.5 16.0533 24.5 12.8333C24.5 7.67667 19.7983 3.5 14 3.5ZM7.58333 14C6.615 14 5.83333 13.2183 5.83333 12.25C5.83333 11.2817 6.615 10.5 7.58333 10.5C8.55167 10.5 9.33333 11.2817 9.33333 12.25C9.33333 13.2183 8.55167 14 7.58333 14ZM9.33333 7.58333C9.33333 8.55167 10.115 9.33333 11.0833 9.33333C12.0517 9.33333 12.8333 8.55167 12.8333 7.58333C12.8333 6.615 12.0517 5.83333 11.0833 5.83333C10.115 5.83333 9.33333 6.615 9.33333 7.58333ZM16.9167 9.33333C15.9483 9.33333 15.1667 8.55167 15.1667 7.58333C15.1667 6.615 15.9483 5.83333 16.9167 5.83333C17.885 5.83333 18.6667 6.615 18.6667 7.58333C18.6667 8.55167 17.885 9.33333 16.9167 9.33333ZM18.6667 12.25C18.6667 13.2183 19.4483 14 20.4167 14C21.385 14 22.1667 13.2183 22.1667 12.25C22.1667 11.2817 21.385 10.5 20.4167 10.5C19.4483 10.5 18.6667 11.2817 18.6667 12.25Z",fill:"currentColor"}),u.default.createElement("path",{d:"M14 3.16667C8.01757 3.16667 3.16667 8.01757 3.16667 14C3.16667 19.9824 8.01757 24.8333 14 24.8333C15.1524 24.8333 16.0833 23.9024 16.0833 22.75C16.0833 22.2065 15.8737 21.7209 15.5441 21.3502L15.295 21.5717L15.5447 21.3508C15.3256 21.1031 15.185 20.7719 15.185 20.4167C15.185 19.6324 15.8174 19 16.6017 19H18.6667C22.0708 19 24.8333 16.2374 24.8333 12.8333C24.8333 7.45669 19.9444 3.16667 14 3.16667ZM7.58333 13.6667C6.79909 13.6667 6.16667 13.0342 6.16667 12.25C6.16667 11.4658 6.79909 10.8333 7.58333 10.8333C8.36757 10.8333 9 11.4658 9 12.25C9 13.0342 8.36757 13.6667 7.58333 13.6667ZM11.0833 9C10.2991 9 9.66667 8.36757 9.66667 7.58333C9.66667 6.79909 10.2991 6.16667 11.0833 6.16667C11.8676 6.16667 12.5 6.79909 12.5 7.58333C12.5 8.36757 11.8676 9 11.0833 9ZM16.9167 9C16.1324 9 15.5 8.36757 15.5 7.58333C15.5 6.79909 16.1324 6.16667 16.9167 6.16667C17.7009 6.16667 18.3333 6.79909 18.3333 7.58333C18.3333 8.36757 17.7009 9 16.9167 9ZM20.4167 13.6667C19.6324 13.6667 19 13.0342 19 12.25C19 11.4658 19.6324 10.8333 20.4167 10.8333C21.2009 10.8333 21.8333 11.4658 21.8333 12.25C21.8333 13.0342 21.2009 13.6667 20.4167 13.6667Z"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="palette"},330734:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewAudioIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=112,g=88;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 88 112",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n)},u.default.createElement("title",null,c),u.default.createElement("defs",null,u.default.createElement("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),u.default.createElement("g",{fill:"none",fillRule:"evenodd"},u.default.createElement("g",{transform:"translate(4 3)"},u.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),u.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),u.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"})),u.default.createElement("path",{d:"M59 41v26.246a.501.501 0 0 1-.014.119A5 5 0 1 1 54 62.745c.19 0 .398.022.62.065A2 2 0 0 0 57 60.847V49.113a1 1 0 0 0-1.12-.993l-19 2.28a1 1 0 0 0-.88.993v18.853a.501.501 0 0 1-.014.119A5 5 0 1 1 31 65.745c.316 0 .676.06 1.08.178a1.5 1.5 0 0 0 1.92-1.44V43.52a2 2 0 0 1 1.762-1.986l21-2.52A2 2 0 0 1 59 41z",fillOpacity:.2,fill:"#000"}),u.default.createElement("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="preview-audio"},420260:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewCompressedIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=110,g=88;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 88 110",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n)},u.default.createElement("title",null,c),u.default.createElement("defs",null,u.default.createElement("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),u.default.createElement("g",{fill:"none",fillRule:"evenodd"},u.default.createElement("g",{transform:"translate(4 3)"},u.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),u.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),u.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"})),u.default.createElement("g",{transform:"translate(39 44)",fill:"#000"},u.default.createElement("rect",{fillOpacity:.1,y:61,width:5,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,x:5,y:58,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,y:55,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,x:5,y:52,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,y:49,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,x:5,y:46,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,y:43,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,x:5,y:40,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,y:37,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,x:5,y:34,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,y:31,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,x:5,y:28,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,y:25,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,x:5,y:22,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,y:19,width:5,height:3,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,x:5,y:16,width:5,height:3,rx:.5}),u.default.createElement("path",{d:"M8 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6zM7 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z",fillOpacity:.2})),u.default.createElement("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="preview-compressed"},127481:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewDocIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=110,g=88;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 88 110",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n)},u.default.createElement("title",null,c),u.default.createElement("defs",null,u.default.createElement("rect",{id:"b",x:0,y:0,width:54,height:36,rx:2.37}),u.default.createElement("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),u.default.createElement("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd"},u.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),u.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),u.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:84,width:54,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:89,width:27,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:24,width:54,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:29,width:54,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:34,width:40,height:2,rx:.5}),u.default.createElement("g",null,u.default.createElement("g",{transform:"translate(13 42)"},u.default.createElement("mask",{id:"c",fill:"#fff"},u.default.createElement("use",{xlinkHref:"#b"})),u.default.createElement("use",{fillOpacity:.1,fill:"#000",xlinkHref:"#b"}),u.default.createElement("circle",{fillOpacity:.1,fill:"#000",mask:"url(#c)",cx:37.5,cy:11.5,r:5.5}),u.default.createElement("path",{d:"m34.565 31.195 7.912-7.89a2.37 2.37 0 0 1 3.348 0l25.144 25.073L44.15 75.119l-19.556-19.5-11.259 11.228-26.817-26.742 25.143-25.072a2.37 2.37 0 0 1 3.348 0l16.208 16.162a2.37 2.37 0 0 0 3.347 0z",fillOpacity:.1,fill:"#000",mask:"url(#c)"}))),u.default.createElement("path",{d:"M61.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="preview-doc"},258976:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewGenericIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=110,g=88;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 88 110",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n)},u.default.createElement("title",null,c),u.default.createElement("g",{transform:"translate(4 3)"},u.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"#FFF",fillRule:"evenodd"})),u.default.createElement("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="preview-generic"},723845:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewSheetIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=88,g=110;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 110 88",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n)},u.default.createElement("title",null,c),u.default.createElement("defs",null,u.default.createElement("path",{d:"M3 0h80.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 104 20.07V77a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),u.default.createElement("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd"},u.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),u.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),u.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h80.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V77a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 77V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:22,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:22,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:22,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:22,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:12,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:34,y:12,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:54,y:12,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:74,y:12,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:32,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:32,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:32,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:32,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:42,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:42,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:42,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:42,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:52,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:52,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:52,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:52,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:14,y:62,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:34,y:62,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:54,y:62,width:16,height:6,rx:.5}),u.default.createElement("rect",{fillOpacity:.1,fill:"#000",x:74,y:62,width:16,height:6,rx:.5}),u.default.createElement("path",{d:"M85.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="preview-sheet"},145945:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewSlidesIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=88,g=110;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 110 88",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n)},u.default.createElement("title",null,c),u.default.createElement("g",{fill:"none",fillRule:"evenodd"},u.default.createElement("g",{transform:"translate(4 3)"},u.default.createElement("use",{fill:"#000",filter:"url(#filter-2)",xlinkHref:"#path-1"}),u.default.createElement("rect",{strokeOpacity:.08,stroke:"#000",fill:"#FFF",x:-.5,y:-.5,width:105,height:81,rx:3})),u.default.createElement("g",{transform:"translate(8 15)"},u.default.createElement("rect",{fillOpacity:.1,fill:"#000",width:96,height:56,rx:2}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:55,y:19,width:30,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:55,y:24,width:30,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:55,y:29,width:30,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:55,y:34,width:18,height:2,rx:.5}),u.default.createElement("g",{transform:"translate(12 13)"},u.default.createElement("circle",{fillOpacity:.2,fill:"#000",cx:16,cy:16,r:16}),u.default.createElement("path",{d:"M32 16c0 8.837-7.163 16-16 16V16z",fill:"#FFF"}))))))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="preview-slides"},907935:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewTxtIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=110,g=88;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 88 110",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n)},u.default.createElement("title",null,c),u.default.createElement("defs",null,u.default.createElement("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})),u.default.createElement("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd"},u.default.createElement("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),u.default.createElement("use",{fill:"#FFF",xlinkHref:"#a"}),u.default.createElement("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:28,width:52,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:33,width:52,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:38,width:52,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:43,width:40,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:53,width:52,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:58,width:52,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:63,width:52,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:68,width:52,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:73,width:52,height:2,rx:.5}),u.default.createElement("rect",{fillOpacity:.2,fill:"#000",x:13,y:78,width:27,height:2,rx:.5}),u.default.createElement("path",{d:"M61.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"}))))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="preview-txt"},193085:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReturnIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1",x:"0px",y:"0px"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M19.77,11.73c0,1.64-0.5,2.95-1.48,3.89c-1.38,1.32-3.26,1.41-3.75,1.41c-0.07,0-0.11,0-0.12,0l-5.41,0v-2.1 h5.46c0.05,0,1.47,0.04,2.38-0.84c0.55-0.53,0.82-1.32,0.82-2.37c0-1.27-0.33-2.23-0.99-2.84c-0.98-0.92-2.43-0.85-2.44-0.85 l-4.23,0v3.1L4,7.07L10.01,3v2.93h4.16c0.03,0,2.29-0.13,3.95,1.42C19.21,8.38,19.77,9.85,19.77,11.73z"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="return"},529532:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RoundPlayIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=16,g=16;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 16 16",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M6.46508 4.82093C6.01511 4.55151 5.64722 4.77192 5.64722 5.31048V10.6893C5.64722 11.2282 6.01511 11.4486 6.46508 11.1792L10.9568 8.48989C11.4068     8.22047 11.4068 7.77964 10.9568 7.51021L6.46508 4.82093Z",fill:"currentColor"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16     8ZM15.0588 8C15.0588 11.8985 11.8985 15.0588 8 15.0588C4.10152 15.0588 0.941177 11.8985 0.941177 8C0.941177 4.10152 4.10152 0.941177 8 0.941177C11.8985     0.941177 15.0588 4.10152 15.0588 8Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="round-play"},493003:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ScissorsIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("circle",{cx:6,cy:18,r:3.125,stroke:"currentColor",strokeWidth:1.75}),u.default.createElement("circle",{cx:6,cy:6,r:3.125,stroke:"currentColor",strokeWidth:1.75}),u.default.createElement("path",{d:"M7.71745 14.7425C7.32693 15.1331 7.32693 15.7662 7.71745 16.1567C8.10798 16.5473 8.74114 16.5473 9.13167 16.1567L11.9372 13.3512L10.523 11.937L7.71745 14.7425Z",fill:"currentColor"}),u.default.createElement("path",{d:"M13.3742 9.08579L14.7884 10.5L20.6956 4.59285C21.0861 4.20232 21.0861 3.56916 20.6956 3.17864C20.305 2.78811 19.6719 2.78811 19.2814 3.17864L13.3742 9.08579Z",fill:"currentColor"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.01594 7.60173C8.62542 7.21121 7.99226 7.21121 7.60173 7.60173C7.21121 7.99226 7.21121 8.62542 7.60173 9.01594L19.3586 20.7728C19.7492 21.1634 20.3823 21.1634 20.7728 20.7728C21.1634 20.3823 21.1634 19.7492 20.7728 19.3586L9.01594 7.60173ZM12 12.5001C12.2761 12.5001 12.5 12.2762 12.5 12.0001C12.5 11.724 12.2761 11.5001 12 11.5001C11.7239 11.5001 11.5 11.724 11.5 12.0001C11.5 12.2762 11.7239 12.5001 12 12.5001Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="scissors"},904827:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ShoppingCartEmptyIcon=function(e){const{iconXstyle:t,height:n,width:a,viewBox:s}=e,f=(0,l.default)(e,d);let p;if(s){const{x:e=0,y:t=0,width:n=0,height:a=0}=s;p=[e,t,n,a].join(" ")}let m=90,h=90;null==n&&null==a||(m=n,h=a);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},f),u.default.createElement("svg",{viewBox:p,height:m,width:h,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(t)},u.default.createElement("title",null,c),u.default.createElement("g",{fillRule:"nonzero",fill:"currentColor"},u.default.createElement("path",{d:"M36.6666667 55C34.8333333 55 33.35 56.5 33.35 58.3333333 33.35 60.1666667 34.8333333 61.6666667 36.6666667 61.6666667 38.5 61.6666667 40 60.1666667 40 58.3333333 40 56.5 38.5 55 36.6666667 55zM26.6666667 30C26.6666667 30.9166667 27.4166667 31.6666667 28.3333333 31.6666667L30 31.6666667 36 44.3166667 33.75 48.3833333C32.5333333 50.6166667 34.1333333 53.3333333 36.6666667 53.3333333L55 53.3333333C55.9166667 53.3333333 56.6666667 52.5833333 56.6666667 51.6666667 56.6666667 50.75 55.9166667 50 55 50L36.6666667 50 38.5 46.6666667 50.9166667 46.6666667C52.1666667 46.6666667 53.2666667 45.9833333 53.8333333 44.95L59.8 34.1333333C60.4166667 33.0333333 59.6166667 31.6666667 58.35 31.6666667L33.6833333 31.6666667 32.5666667 29.2833333C32.3 28.7 31.7 28.3333333 31.0666667 28.3333333L28.3333333 28.3333333C27.4166667 28.3333333 26.6666667 29.0833333 26.6666667 30zM53.3333333 55C51.5 55 50.0166667 56.5 50.0166667 58.3333333 50.0166667 60.1666667 51.5 61.6666667 53.3333333 61.6666667 55.1666667 61.6666667 56.6666667 60.1666667 56.6666667 58.3333333 56.6666667 56.5 55.1666667 55 53.3333333 55z"}),u.default.createElement("path",{d:"M44.957,2 C21.221,2 2,21.264 2,45 C2,68.736 21.221,88 44.957,88 C68.736,88 88,68.736 88,45 C88,21.264 68.736,2 44.957,2 Z M45,90 C20.1375,90 0,69.8625 0,45 C0,20.1375 20.1375,0 45,0 C69.8625,0 90,20.1375 90,45 C90,69.8625 69.8625,90 45,90 Z"}))))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="shopping-cart-empty"},366898:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerCrossedIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.17295 8.44087C8.17295 8.32308 8.23459 8.21389 8.33543 8.15303L12.3622 5.72284C12.7728 5.46882 13.3171 5.74791 13.3171 6.21249V15.9904C13.3171 16.4449 12.7936 16.7257 12.3822 16.4918L8.343 14.1959C8.23788 14.1361 8.17295 14.0245 8.17295 13.9036V8.44087ZM2 10.2005C2 9.12385 2.92124 8.25109 4.05765 8.25109H6.80793C6.99361 8.25109 7.14412 8.40161 7.14412 8.58728V13.763C7.14412 13.9487 6.99361 14.0992 6.80793 14.0992H6.20602L7.15101 17.4458C7.23322 17.737 7.06213 18.0333 6.76887 18.1076L5.78098 18.3579C5.48772 18.4323 5.18334 18.2565 5.10113 17.9654L4.0305 14.1737C4.02344 14.1487 4.01825 14.1237 4.01485 14.0988C2.8982 14.0772 2 13.2129 2 12.1498V10.2005Z",fill:"currentColor"}),u.default.createElement("path",{d:"M15.9116 13.2149L15.8232 13.3033L15.9116 13.3917L16.9723 14.4523L17.0607 14.5407L17.149 14.4523L19.182 12.4194L21.2149 14.4523L21.3033 14.5407L21.3917 14.4523L22.4523 13.3917L22.5407 13.3033L22.4523 13.2149L20.4194 11.182L22.4523 9.14905L22.5407 9.06066L22.4523 8.97227L21.3917 7.91161L21.3033 7.82322L21.2149 7.91161L19.182 9.94454L17.149 7.91161L17.0607 7.82322L16.9723 7.91161L15.9116 8.97227L15.8232 9.06066L15.9116 9.14905L17.9445 11.182L15.9116 13.2149Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.25})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="speaker-crossed"},191789:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3PlaceholderIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=80,g=80;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 80 80",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1",id:"Layer_1",x:"0px",y:"0px",enableBackground:"new 0 0 80 80"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M30.566,78.982c-0.222,0-0.447-0.028-0.672-0.087C12.587,74.324,0.5,58.588,0.5,40.631 c0-3.509,0.459-6.989,1.363-10.343c0.377-1.399,1.814-2.23,3.217-1.851c1.399,0.377,2.228,1.818,1.851,3.217 c-0.784,2.909-1.182,5.929-1.182,8.977c0,15.578,10.48,29.226,25.485,33.188c1.401,0.37,2.237,1.806,1.867,3.209 C32.79,78.204,31.728,78.982,30.566,78.982z M49.921,78.875C67.336,74.364,79.5,58.611,79.5,40.563c0-3.477-0.452-6.933-1.345-10.27 c-0.374-1.401-1.812-2.232-3.213-1.858c-1.4,0.375-2.233,1.813-1.858,3.214c0.773,2.896,1.166,5.895,1.166,8.914 c0,15.655-10.545,29.319-25.646,33.23c-1.403,0.363-2.246,1.796-1.883,3.199c0.306,1.182,1.371,1.967,2.539,1.967 C49.478,78.959,49.699,78.932,49.921,78.875z M15.482,16.5C21.968,9.901,30.628,6.267,39.867,6.267 c9.143,0,17.738,3.569,24.202,10.05c1.024,1.026,2.686,1.028,3.712,0.004c1.026-1.024,1.028-2.685,0.005-3.712 C60.329,5.135,50.413,1.018,39.867,1.018c-10.658,0-20.648,4.191-28.128,11.802c-1.016,1.034-1.002,2.696,0.032,3.711 c0.511,0.503,1.175,0.753,1.84,0.753C14.289,17.284,14.968,17.022,15.482,16.5z"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="status-v3-placeholder"},729029:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SupportChatNuxIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=88,g=154;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 154 88",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("rect",{x:45,y:12,width:64,height:64,rx:32,fill:"#00A884",style:{fillOpacity:1}}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M90.2371 30.0364C92.8077 30.0364 94.8916 32.1203 94.8916 34.6909V54.1818C94.8916 56.7525 92.8077 58.8364 90.2371 58.8364H66.3825C63.8119 58.8364 61.728 56.7525 61.728 54.1818V38.7636L57.8081 32.7331C57.0534 31.5719 57.8867 30.0364 59.2716 30.0364H90.2371ZM79.3233 46.2691C79.4106 45.8036 79.5633 45.3964 79.7815 45.0473C79.9997 44.6982 80.4288 44.2036 81.0688 43.5636C82.1451 42.4873 82.8724 41.6146 83.2506 40.9455C83.6288 40.2764 83.8179 39.52 83.8179 38.6764C83.8179 37.1927 83.2724 35.9636 82.1815 34.9891C81.0906 34.0146 79.7161 33.5273 78.0579 33.5273C76.807 33.5273 75.6942 33.7818 74.7197 34.2909C73.7451 34.8 72.9961 35.4764 72.4724 36.32C72.2106 36.7273 72.1379 37.1564 72.2542 37.6073C72.3706 38.0582 72.6324 38.3709 73.0397 38.5455C73.447 38.72 73.847 38.7273 74.2397 38.5673C74.6324 38.4073 74.9451 38.1382 75.1779 37.76C75.4688 37.3527 75.8615 37.04 76.3561 36.8218C76.8506 36.6036 77.3597 36.4946 77.8833 36.4946C78.6979 36.4946 79.3524 36.7127 79.847 37.1491C80.3415 37.5855 80.5888 38.1382 80.5888 38.8073C80.5888 39.36 80.4215 39.9127 80.087 40.4655C79.7524 41.0182 79.236 41.6 78.5379 42.2109C77.7815 42.88 77.1997 43.5636 76.7924 44.2618C76.3851 44.96 76.1815 45.6146 76.1815 46.2255C76.1815 46.6327 76.3342 46.9818 76.6397 47.2727C76.9451 47.5636 77.3161 47.7091 77.7524 47.7091C78.1597 47.7091 78.5015 47.5709 78.7779 47.2946C79.0542 47.0182 79.236 46.6764 79.3233 46.2691ZM77.5779 54.4727C78.1888 54.4727 78.7051 54.2618 79.127 53.84C79.5488 53.4182 79.7597 52.9018 79.7597 52.2909C79.7597 51.68 79.5488 51.1636 79.127 50.7418C78.7051 50.32 78.1888 50.1091 77.5779 50.1091C76.967 50.1091 76.4506 50.32 76.0288 50.7418C75.607 51.1636 75.3961 51.68 75.3961 52.2909C75.3961 52.9018 75.607 53.4182 76.0288 53.84C76.4506 54.2618 76.967 54.4727 77.5779 54.4727Z",fill:"white",style:{fillOpacity:1}}),u.default.createElement("path",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M39.3245 63.2658C39.2688 62.6522 38.89 62.1149 38.3308 61.8563C37.7716 61.5977 37.1169 61.6571 36.6134 62.0122L31.7309 65.4544C31.2273 65.8094 30.9514 66.4061 31.0071 67.0197C31.0627 67.6333 31.4415 68.1705 32.0008 68.4291L37.4231 70.9364C37.9823 71.195 38.637 71.1356 39.1405 70.7806C39.6441 70.4255 39.92 69.8289 39.8643 69.2153L39.3245 63.2658Z",fill:"#00A884",style:{fillOpacity:1}}),u.default.createElement("path",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M113.797 28.1486L113.801 28.1468L113.797 28.1486ZM118.853 20.3036C119.223 19.4157 120.063 19.3324 120.311 19.3324C120.549 19.3324 121.393 19.409 121.768 20.2927L123.395 24.074C123.477 24.2691 123.634 24.4278 123.844 24.5164L123.848 24.5181L127.649 26.1396L127.657 26.1435C128.516 26.5277 128.6 27.3383 128.6 27.5999C128.6 27.8776 128.507 28.6691 127.657 29.049L127.649 29.0529L123.844 30.6761C123.651 30.7576 123.487 30.9157 123.39 31.1359L121.738 34.9883L121.737 34.9914C121.359 35.865 120.526 35.9395 120.282 35.9395C120.015 35.9395 119.223 35.8528 118.838 35.0136L118.836 35.0098L117.062 31.1082C116.967 30.9078 116.811 30.7552 116.618 30.6692L116.616 30.6686L112.949 29.0621C112.074 28.6884 111.993 27.8602 111.993 27.6071C111.993 27.3368 112.084 26.5254 112.955 26.1569L116.778 24.5236C116.972 24.4417 117.137 24.2823 117.234 24.0672L118.853 20.3036Z",fill:"#00A884",style:{fillOpacity:1}}),u.default.createElement("path",{opacity:.3,fillRule:"evenodd",clipRule:"evenodd",d:"M110.147 11.0322C110.973 11.2037 111.504 12.0126 111.332 12.8389L111.037 14.2603L112.374 14.5378C113.2 14.7093 113.731 15.5182 113.56 16.3445C113.388 17.1708 112.579 17.7017 111.753 17.5302L110.416 17.2527L110.138 18.5917C109.967 19.4181 109.158 19.9489 108.331 19.7774C107.505 19.6059 106.974 18.797 107.146 17.9707L107.424 16.6316L106 16.3362C105.174 16.1647 104.643 15.3557 104.814 14.5294C104.986 13.7031 105.795 13.1722 106.621 13.3438L108.045 13.6392L108.34 12.2179C108.511 11.3915 109.32 10.8607 110.147 11.0322Z",fill:"#00A884",style:{fillOpacity:1}}),u.default.createElement("path",{opacity:.3,fillRule:"evenodd",clipRule:"evenodd",d:"M118.262 48.1428C117.047 48.1428 116.062 49.1279 116.062 50.343C116.062 51.5582 117.047 52.5433 118.262 52.5433C119.477 52.5433 120.462 51.5582 120.462 50.343C120.462 49.1279 119.477 48.1428 118.262 48.1428Z",fill:"#00A884",style:{fillOpacity:1}})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="support-chat-nux"},672892:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TrashActiveIcon=function(e){var t;const{iconXstyle:n,height:a,width:s,viewBox:f}=e,p=(0,l.default)(e,d);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==s||(h=a,g=s);return u.default.createElement(o.BaseSvgSpan,(0,r.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M16 7.5H22.25C22.6642 7.5 23 7.83579 23 8.25C23 8.66421 22.6642 9 22.25 9H16V7.5Z",fill:"currentColor"}),u.default.createElement("path",{d:"M16 12H21.25C21.6642 12 22 12.3358 22 12.75C22 13.1642 21.6642 13.5 21.25 13.5H16V12Z",fill:"currentColor"}),u.default.createElement("path",{d:"M16 16.5H19.25C19.6642 16.5 20 16.8358 20 17.25C20 17.6642 19.6642 18 19.25 18H16V16.5Z",fill:"currentColor"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 4.88889H13.1429C13.6143 4.88889 14 5.28889 14 5.77778C14 6.26667 13.6143 6.66667 13.1429 6.66667H2.85714C2.38571 6.66667 2 6.26667 2 5.77778C2 5.28889 2.38571 4.88889 2.85714 4.88889H5L5.60857 4.25778C5.76286 4.09778 5.98571 4 6.20857 4H9.79143C10.0143 4 10.2371 4.09778 10.3914 4.25778L11 4.88889ZM4.57143 20C3.62857 20 2.85714 19.2 2.85714 18.2222V9.33333C2.85714 8.35556 3.62857 7.55556 4.57143 7.55556H11.4286C12.3714 7.55556 13.1429 8.35556 13.1429 9.33333V18.2222C13.1429 19.2 12.3714 20 11.4286 20H4.57143Z",fill:"currentColor"})))};var r=a(n(967154)),l=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const d=["iconXstyle","height","width","viewBox"],c="trash-active"},28238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(576304);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},139519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return a.Circle}}),Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return a.Group}}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return a.Image}}),Object.defineProperty(t,"Layer",{enumerable:!0,get:function(){return a.Layer}}),Object.defineProperty(t,"Line",{enumerable:!0,get:function(){return a.Line}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return a.Path}}),Object.defineProperty(t,"Rect",{enumerable:!0,get:function(){return a.Rect}}),Object.defineProperty(t,"Stage",{enumerable:!0,get:function(){return a.Stage}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return a.Text}}),Object.defineProperty(t,"Transformer",{enumerable:!0,get:function(){return a.Transformer}});var a=n(577201);n(907643),n(671298),n(227149),n(87339),n(275244),n(723787),n(229516)},95492:(e,t,n)=>{e.exports=n.p+"img/sticker-pack-empty_9f0c66fc3aec33b2f78f0ae1721e053b.png"},635263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={title:"_1kkFH"}},585951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={imageGallery:"_19u-3",imageGalleryList:"_2PoM9",imageGalleryItem:"_2SRCV",imageGalleryItemSpacer:"_3pabu",imageGalleryItemImage:"_1UlsT",imageGalleryItemOverlay:"_3q8nB",selected:"Gqorz",imageGalleryFooter:"_1jDvB",focusAnimation:"_3REkg",focusAnimationKeyframes:"upbys"}},867109:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"HP5-u",previewOnly:"_14E9W",documentPreview:"_1N4Z2",dropOverlay:"_1unEs",dropOverlayOutline:"_2MD70",spinner:"byFMa",footer:"O2_ew",addMediaButton:"_3NnCl",addMediaButtonDisabled:"_3Ka-4",filmstripContainer:"YB9dD",thumbs:"_3Cxfu",sendButton:"_3wFFT",captureFooter:"_2YwjO"}},530728:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2l8Ym",header:"McTiQ",headerRight:"_2tgTl",canvasContainer:"_2RqWa",cropRotateContainer:"_2gvlN",closeButton:"_2QnjM",closeButtonPlaceholder:"_3-5gk",canvas:"-YT7w",footer:"_2Cdbt",bottomToolbar:"_3-sOG",captionInputContainer:"_3yjTi",captionInputHidden:"_28YM9"}},929087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={thumb:"_2xeDc",active:"_3yUIy",bodyWrapper:"_1cFYC",body:"_1Pr6q",bodyIcon:"_1FeQF",btnDelete:"_3eK6Q"}},539858:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1JOe-"}},862981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3ut4y",cropperContainer:"_2ki6c"}},581530:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2UoIS",footer:"_34oq2"}},943208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2c7WD",colorChipsContainer:"_1acBm"}},388282:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={colorButton:"_3F0S-",primaryColorChip:"_3ibOQ",primaryColorChipMedium:"_2gR5s",secondaryColorChip:"_1NW2k",active:"V-8sQ",hover:"_1QPYF",selected:"kK6zQ",colorChipWithBorder:"_1kVAh"}},81447:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_34shT",rotateLeftButton:"_2jAhY"}},610255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={item:"_2ImRZ",selected:"_25R64",sansSerif:"_20YSW",serif:"_1EoCE",noricanRegular:"_2996J",bryndanWrite:"_35IJ6",oswaldHeavy:"_1A4o4",alignmentContainer:"_2XDBQ",alignmentIcon:"_1gr8n",alignmentIconSelected:"_3vEP7"}},715723:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={cirle:"_34PK2",circleFilled:"_3GMgQ",unchecked:"_1CXf5",checked:"_3QTQd"}},505847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"W3geq",thicknessButton:"_3Bwvs",thicknessChip:"_2A3hZ",selected:"_2_MQq"}},893320:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={defaultGroupIcon:"ubD1k"}},111457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_16tdz",media:"_3DjVv"}},662519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_25eij",media:"_2-nkR",document:"_1pyNm",text:"_3vz6x",icon:"_3mFGD"}},356933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1HUcQ",media:"_1nMFv",img:"o9U1N",audio:"_1MgeQ",videoContainer:"_3qLdC",spinner:"_3KKUk",video:"K13VR",staticPreview:"_2tE0D"}},820989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_33XcX",preview:"MtkFD",caption:"_1B96F",img:"yE4aq",imgBorder:"_3WSt9"}},727011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={btnSend:"_3oDXB",attributionLink:"_1O8z3",mediaBody:"_2qwqL",attribution:"_2vDhI",footer:"_2hQ6O",containerBackground:"_2dHbO",retake:"_2_lBZ",retakeIcon:"_1BsqD",mediaElementBase:"_2nUrj",mediaElement:"_7G1ak _2nUrj",hintText:"_3vRPF"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_low_priority_components.527fbae6035d1e739acd.js.map
