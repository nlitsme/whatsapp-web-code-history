/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[2790],{274912:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendOrderDetailsMessageAsMerchant=function(){return O.apply(this,arguments)},t.sendOrderStatusMessageAsMerchant=function(){return P.apply(this,arguments)};var n=a(r(81109)),l=a(r(348926)),i=r(535470),o=S(r(979158)),d=a(r(133374)),s=S(r(779995)),u=r(40234),c=a(r(465212)),f=r(115461),m=r(623631),p=r(20551),h=r(978820),g=r(745454),b=a(r(478876)),v=a(r(355152)),x=a(r(534949)),y=r(511853),j=r(599989);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}function C(e,t){var r,a;if(null==t)return"";const n=j.CatalogCollection.get((0,g.createWid)(e)),l=null==n?void 0:n.productCollection.get(t),i=null==l||null===(r=l.getProductImageCollectionHead())||void 0===r?void 0:r.mediaData.preview;return i instanceof x.default&&null!==(a=i.getBase64())&&void 0!==a?a:""}function k(){return T.apply(this,arguments)}function T(){return(T=(0,l.default)((function*(e){const{caption:t,chat:r,nativeFlowName:a,buttonParamsJson:l,errorMessage:o,thumbnail:d,buttonName:s,contextInfo:g}=e,v=(0,h.getMaybeMeUser)(),x=d?{title:void 0,subtitle:void 0,mediaType:void 0,hasMediaAttachment:!1,thumbnail:d}:void 0,y=(0,n.default)({type:f.MSG_TYPE.INTERACTIVE,ack:i.ACK.CLOCK,from:v,id:new c.default({from:v,to:r.id,id:c.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:u.Clock.globalUnixTime(),to:r.id,caption:t,nativeFlowName:a,interactiveHeader:x,interactiveType:b.default.NATIVE_FLOW,interactivePayload:{buttons:[{name:s,buttonParamsJson:l}],messageVersion:1}},g);if((0,h.isMeAccount)(r.id))try{return void(yield(0,m.addAndSendMsgToChat)(r,y)[0])}catch(e){throw __LOG__(3)`${o}: ${e}`,e}try{const e=yield(0,m.addAndSendMsgToChat)(r,y)[1];if(!e||e!==p.SendMsgResult.OK)throw new Error("Order message SendMsgResult failure status")}catch(e){throw __LOG__(3)`${o}: ${e}`,e}}))).apply(this,arguments)}function O(){return(O=(0,l.default)((function*(e){var t;const{order:r,chat:a,orderNote:n,discount:l,shipping:i,tax:s,total:u,offset:c}=e,f=null===(t=r.orderItemCollection.head())||void 0===t?void 0:t.id,m=C(r.sellerJid,f),p=r.orderItemCollection.map((e=>({retailer_id:e.id,name:e.name,amount:{value:e.price,offset:c},quantity:e.quantity,isCustomItem:e.isCustomItem,isQuantitySet:e.isQuantitySet}))),h={reference_id:(0,d.default)(),type:"physical-goods",payment_configuration:"merchant_categorization_code",currency:r.currency,total_amount:{value:u,offset:c},order:{status:(0,y.getDefaultOrderStatus)(),items:p,subtotal:{value:Number(r.subtotal),offset:c},tax:null==s?void 0:{value:s,offset:c},shipping:null==i?void 0:{value:i,offset:c},discount:null==l?void 0:{value:l,offset:c}}};yield k({caption:n,chat:a,nativeFlowName:v.default.ORDER_DETAILS,buttonParamsJson:o.stringify(h),errorMessage:"Order message send to chat failure",thumbnail:m,buttonName:"review_and_pay"})}))).apply(this,arguments)}function P(){return(P=(0,l.default)((function*(e){const{chat:t,sellerJid:r,orderInfo:a,orderNote:n,orderStatus:l}=e,i=a.items,o=a.referenceId,d=C(r,i[0].id),u=(0,y.findOrderDetailsMessage)(t,o),c=null==u?void 0:u.msgContextInfo(t.id);yield k({caption:n,chat:t,nativeFlowName:v.default.ORDER_STATUS,buttonParamsJson:s.stringify({reference_id:o,order:{status:l}}),errorMessage:"Order message sent to chat failure",thumbnail:d,buttonName:"review_order",contextInfo:c})}))).apply(this,arguments)}},779995:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=function(e){return JSON.stringify(e)}},552814:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)(n.default,{"aria-label":l.fbt._("Remove from cart",null,{hk:"9voCj"}),name:"delete",title:l.fbt._("Remove from cart",null,{hk:"9voCj"}),className:(0,i.default)(d),onClick:e.onClick})};var n=a(r(438932)),l=r(548360),i=a(r(156720)),o=r(785893);const d={color:"svlsagor",":hover":{color:"kbf8aj4n"}}},458795:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AddOrderItem=function(e){let{title:t,onClick:r}=e;return(0,i.jsx)(l.default,{testid:"add-order-item-button",image:(0,i.jsx)(n.AddItemIcon,{}),primary:t,theme:"add-order-item",onClick:r})};var n=r(545395),l=a(r(744356)),i=r(785893)},532196:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogProductPrice=function(e){let{orderItem:t,price:r,priceStage:a,currency:m,onPriceChange:p,onPriceStageChange:h,onEnter:g}=e;switch(a){case f.Editing:return(0,c.jsx)("div",{role:"textbox",onClick:e=>e.stopPropagation(),"data-testid":"catalog-product-price-editing",children:(0,c.jsxs)(d.FlexRow,{align:"center",children:[(0,c.jsx)("span",{className:(0,u.default)(n.uiPadding.end3),children:(0,o.formatAmount1000ToParts)(m,0).symbol}),(0,c.jsx)(l.default,{currency:m,value:null!=r?String(r/1e3):"",onSave:e=>{h(f.EditableFilled),p((0,o.valueFromString)(m,e))},onCancel:()=>{h(null==r?f.EditableBlank:f.EditableFilled)}})]})});case f.EditableFilled:return(0,c.jsx)("div",{role:"button",className:(0,u.default)(i.default.clickableText),onClick:e=>{h(f.Editing),e.stopPropagation()},"data-testid":"catalog-product-price-editable-filled",children:(0,o.formatAmount1000)(m,Number(r))});case f.EditableBlank:return(0,c.jsx)("span",{role:"button",className:(0,u.default)(i.default.clickableText),onClick:e=>{h(f.Editing),e.stopPropagation()},"data-testid":"catalog-product-price-editable-blank",children:s.fbt._("Enter price",null,{hk:"1Bd2B6"})});default:return(0,c.jsx)("div",{"data-testid":"catalog-product-price-readonly",children:(0,o.formatAmount1000)(m,t.price)})}},t.PriceStage=void 0;var n=r(128298),l=a(r(531820)),i=a(r(236209)),o=r(939519),d=r(429623),s=r(548360),u=a(r(156720)),c=r(785893);const f=r(76672).Mirrored(["Readonly","EditableBlank","EditableFilled","Editing"]);t.PriceStage=f},531820:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{currency:t,value:r,onSave:a,onCancel:l}=e;const[i,p]=(0,s.useState)(null),[h,g]=(0,s.useState)(r);return(0,n.useShowToastErrors)({productPriceError:i}),(0,c.jsx)("div",{className:(0,u.default)(m),children:(0,c.jsx)(o.TextInput,{managed:!0,constrainedWidth:!0,hideFloatingLabel:!0,focusOnMount:!0,editable:!0,lockable:!0,startActive:!0,placeholder:d.fbt._("Price",null,{hk:"3OsKht"}),value:h,theme:"default",maxLength:12,customStyleThemes:["disabledLabel","noErrorInfo"],testid:"order-detail-amount-input",validate:e=>{const r=f(e,t);return p(r),!r},onChange:e=>{g(e),p(f(e,t))},onSave:()=>{a(h)},onCancel:l,error:i})})};var n=r(647188),l=r(859789),i=r(939519),o=r(990011),d=r(548360),s=r(667294),u=a(r(156720)),c=r(785893);function f(e,t){if(null==e||!e.length||!(0,i.validatePriceString)(t,e))return d.fbt._("Enter a valid price",null,{hk:"1WZB7p"});return(0,i.valueFromString)(t,e)/l.DEFAULT_OFFSET<0?d.fbt._("Enter a positive price",null,{hk:"1goGAM"}):void 0}const m={textAlign:"ljrqcn24",width:"h4dw90qs",overflowX:"gfz4du6o",overflowY:"r7fjleex",marginTop:"obt84bhp",paddingEnd:"fhfm09ip"}},647188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.additionalChargeErrorHandler=function(e){let{label:t,currency:r,fieldType:n,maxFlatValue:o,enablePercentValueCheck:d,value:s}=e;if(!(0,i.validatePriceString)(r,s))return c;const u=(0,i.valueFromString)(r,s)/l.DEFAULT_OFFSET;if(u<0)return f;if(n===l.PERCENTAGE_SYMBOL){if(Boolean(d)&&u>100)return m(null!=t?t:"")}else if((0,a.isNumber)(o)&&u>o)return p(null!=t?t:"");return""},t.negativeNumber=t.invalidNumber=t.errorMessageBigPercentageValue=t.errorMessageBigFlatValue=void 0,t.useShowToastErrors=function(e){(0,s.useEffect)((()=>{for(const t in e){const r=e[t];null!=r&&n.ToastManager.open((0,u.jsx)(o.Toast,{duration:1e4,id:t+r.toString(),msg:r,action:{actionText:d.fbt._("OKAY",null,{hk:"3RIrWh"}),dismiss:!0,theme:"success"}}))}}),[e])};var a=r(551737),n=r(694816),l=r(859789),i=r(939519),o=r(950452),d=r(548360),s=r(667294),u=r(785893);const c=d.fbt._("Enter a valid number",null,{hk:"34R7Hv"});t.invalidNumber=c;const f=d.fbt._("Enter a positive number",null,{hk:"3UMjdw"});t.negativeNumber=f;const m=e=>d.fbt._("{input_label} cannot be more than 100%",[d.fbt._param("input_label",e)],{hk:"1WMDbw"});t.errorMessageBigPercentageValue=m;const p=e=>d.fbt._("{input_label} cannot be more than subtotal",[d.fbt._param("input_label",e)],{hk:"3IRSWP"});t.errorMessageBigFlatValue=p},579550:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{details:t,currency:r,priceMap:a,items:j,onDeleteItem:_,onAddItem:S,onPriceChange:C,onItemQuantityChange:k}=e;const[T,O]=(0,b.useState)(null),[P,w]=(0,b.useState)({}),M=(0,b.useCallback)((e=>null!=e.price?s.PriceStage.Readonly:null!=(null==a?void 0:a[e.id])?s.PriceStage.EditableFilled:s.PriceStage.EditableBlank),[a]),E=(0,b.useCallback)(((e,t)=>{w((r=>(0,n.default)((0,n.default)({},r),{},{[t.id]:e})))}),[]),I=Boolean(t),A=(e,t)=>{var n,l;return(0,x.jsxs)("div",{className:(0,v.default)(y.productDeleteWrapper),children:[(0,x.jsx)(s.CatalogProductPrice,{price:null!==(n=null==a?void 0:a[e.id])&&void 0!==n?n:null,priceStage:null!==(l=P[e.id])&&void 0!==l?l:M(e),currency:r,orderItem:e,onPriceChange:t=>null==C?void 0:C(t,e.id),onPriceStageChange:t=>{E(t,e)},onEnter:()=>{O(null)}}),t===T&&(0,x.jsx)("div",{className:(0,v.default)(o.uiMargin.start5),children:(0,x.jsx)(c.default,{onClick:r=>{var a,n;r.stopPropagation(),a=()=>null==_?void 0:_(t),n=e.name,i.ModalManager.open((0,x.jsx)(h.default,{title:g.fbt._("Delete {order_item_name} from order?",[g.fbt._param("order_item_name",n)],{hk:"2Na2JW"}),okText:g.fbt._("Delete",null,{hk:"4m6dzv"}),onOK:()=>{null==a||a(),i.ModalManager.close()},cancelText:g.fbt._("Cancel",null,{hk:"15AkJV"}),onCancel:()=>{i.ModalManager.close()}}))}})})]})};return(0,x.jsxs)(p.FlexColumn,{align:"stretch",xstyle:[y.orderItemsContainer],children:[!I&&((0,l.orderDetailsFromCatalogEnabled)()||(0,l.orderDetailsCustomItemEnabled)())&&(0,x.jsx)(d.AddOrderItem,{title:g.fbt._("Add items",null,{hk:"M4YqU"}),onClick:()=>null==S?void 0:S()}),j.map(((e,t)=>{const r=g.fbt._("Quantity {item-quantity}",[g.fbt._param("item-quantity",e.quantity)],{hk:"3ESE8k"});return(0,x.jsx)(m.default,(0,n.default)({testid:"order-item-cell",className:(0,v.default)(t>0&&o.uiPadding.top10),disabled:!0,image:(0,x.jsx)(u.OrderItemIcon,{mediaData:e.thumbnailUrl?e.mediaData:null,useCustomIcon:e.isCustomItem}),primary:(0,x.jsx)("span",{className:(0,v.default)(y.orderItemName),title:e.name,children:e.name}),secondary:I?r:(0,x.jsx)(f.default,{quantity:e.quantity,onAddOneClick:()=>null==k?void 0:k(t,e.quantity+1),onRemoveOneClick:()=>null==k?void 0:k(t,e.quantity-1)}),theme:"add-order-item",detail:A(e,t)},I?void 0:{onMouseEnter:()=>O(t),onMouseLeave:()=>O(null)}),t)}))]})};var n=a(r(81109)),l=r(408139),i=r(914597),o=r(128298),d=r(458795),s=r(532196),u=r(545395),c=a(r(552814)),f=a(r(776044)),m=a(r(744356)),p=r(429623),h=a(r(452665)),g=r(548360),b=r(667294),v=a(r(156720)),x=r(785893);const y={orderItemsContainer:{marginTop:"jdreu547",marginEnd:"jnwc1y2a",marginBottom:"n5a6z3tu",marginStart:"svoq16ka"},orderItemName:{color:"tviruh8d",whiteSpace:"le5p0ye3",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae"},productDeleteWrapper:{display:"p357zi0d",alignItems:"gndfcl4n"}}},859789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PERCENTAGE_SYMBOL=t.DEFAULT_OFFSET=void 0,t.calculateFlatAmounts=function(e){let{orderSubtotal:t,discountType:r,discountText:a,taxType:o,taxText:d,shippingText:s}=e;const u=i({type:r,value:a,total:t}),c=i({type:o,value:d,total:t-(null!=u?u:0)}),f=l(s),m=t-(null!=u?u:0)+(null!=f?f:0)+(null!=c?c:0);return{total:Math.trunc(m*n),tax:null==c?null:Math.trunc(c*n),shipping:null==f?null:Math.trunc(f*n),discount:null==u?null:Math.trunc(u*n)}};var a=r(939519);t.PERCENTAGE_SYMBOL="%";const n=1e3;function l(e){if(""===e)return null;const t=(0,a.valueFromString)("USD",e)/n;return Number.isNaN(t)?0:t}function i(e){let{type:t,value:r,total:a}=e;const n=l(r);return null==n?null:"%"===t?n/100*a:n}t.DEFAULT_OFFSET=n},518985:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t}=e;return(0,o.jsx)(n.FlexColumn,{xstyle:d.container,align:"stretch",children:l.Children.map(t,((e,t)=>(0,o.jsxs)(o.Fragment,{children:[0!==t?(0,o.jsx)("div",{className:(0,i.default)(d.separator)}):null,e]})))})};var n=r(429623),l=r(667294),i=a(r(156720)),o=r(785893);const d={container:{gap:"mqqyhd6v"},separator:{height:"bbl9m3t3",borderTop:"iupwfssi"}}},342116:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{orderId:t,orderStatus:r,sellerWid:a,testid:p}=e;const h=s.ContactCollection.get(a),g=h?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.FlexRow,{children:(0,f.jsx)(l.DetailImage,{id:a,size:48})}),(0,f.jsxs)(i.FlexColumn,{align:"center",children:[(0,f.jsx)(o.Name,{className:(0,c.default)(m.sellerName),useDisplayName:!0,contact:h}),null!=t?(0,f.jsx)(d.TextDiv,{color:"secondary",weight:"medium",className:(0,c.default)(m.uppercase,n.uiMargin.top4),children:u.fbt._("order #{order-id}",[u.fbt._param("order-id",t)],{hk:"1JaZPw"})}):null]})]}):null;return(0,f.jsxs)(i.FlexColumn,{align:"center",xstyle:[m.container,n.uiPadding.horiz16],testid:p,children:[g,r]})};var n=r(128298),l=r(288984),i=r(429623),o=r(812176),d=r(113923),s=r(719380),u=r(548360),c=a(r(156720)),f=r(785893);const m={container:{gap:"nypubj7v"},uppercase:{textTransform:"ofejerhi"},sellerName:{fontSize:"p9fp32ui",lineHeight:"tkq7s68q",fontWeight:"hnx8ox4h",color:"tl2vja3b"}}},236209:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(r(156720));t.default={clickableText:{color:"o0rubyzf",cursor:"ajgl1lbb",fontWeight:"m1e7cby3",lineHeight:"iq0m558w",letterSpacing:"ysae3w6m",":hover":{textDecoration:"edeob0r2"}}}},982240:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{orderStatus:t=(0,n.getDefaultOrderStatus)()}=e;return(0,d.jsxs)(i.TextDiv,{color:c(t),theme:"small",xstyle:s.container,children:[f(t),u(t)]})};var n=r(511853),l=a(r(23217)),i=r(113923),o=r(548360),d=(a(r(156720)),r(785893));const s={container:{backgroundColor:"i16jpgpt",display:"i86elurf",alignItems:"gndfcl4n",fontSize:"dsh4tgtl",paddingTop:"i5tg98hk",paddingEnd:"ft2m32mm",paddingBottom:"przvwfww",paddingStart:"k4wy2cgb",borderTopStartRadius:"g130k69c",borderTopEndRadius:"k1a7joe8",borderBottomEndRadius:"dc5qina8",borderBottomStartRadius:"kfr1vweg"},icon:{marginEnd:"mw4yctpw"},iconCipherText:{marginTop:"dwvzf427"}};function u(e){switch(e){case n.OrderStatus.Pending:return o.fbt._("Order pending",null,{hk:"G8dLv"});case n.OrderStatus.Processing:return o.fbt._("Order processing",null,{hk:"4vPHTW"});case n.OrderStatus.PartiallyShipped:return o.fbt._("Order partially shipped",null,{hk:"3MR9kU"});case n.OrderStatus.Shipped:return o.fbt._("Order shipped",null,{hk:"1jZ5aa"});case n.OrderStatus.Canceled:return o.fbt._("Order canceled",null,{hk:"3veVcK"});case n.OrderStatus.Complete:return o.fbt._("Order complete",null,{hk:"30XhC7"})}}function c(e){switch(e){case n.OrderStatus.Pending:case n.OrderStatus.Processing:case n.OrderStatus.PartiallyShipped:case n.OrderStatus.Shipped:return;case n.OrderStatus.Canceled:return"danger";case n.OrderStatus.Complete:return"success"}}function f(e){switch(e){case n.OrderStatus.Pending:case n.OrderStatus.Processing:return(0,d.jsx)(l.default,{width:12,name:"status-clock",display:"inline",xstyle:[s.icon,s.iconCipherText]});case n.OrderStatus.PartiallyShipped:case n.OrderStatus.Shipped:return(0,d.jsx)(l.default,{width:12,name:"local-shipping",display:"inline",xstyle:s.icon});case n.OrderStatus.Canceled:return(0,d.jsx)(l.default,{width:12,name:"alert-error",display:"inline",xstyle:s.icon});case n.OrderStatus.Complete:return(0,d.jsx)(l.default,{width:12,name:"action-check-circle",display:"inline",xstyle:s.icon})}}},545395:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AddItemIcon=function(){return(0,o.jsx)("div",{className:(0,i.default)(d),children:(0,o.jsx)(l.default,{className:(0,i.default)(u),name:"add-item"})})},t.CustomItemIcon=c,t.OrderItemIcon=function(e){let{mediaData:t,useCustomIcon:r}=e;return r||null==t?(0,o.jsx)(c,{}):(0,o.jsx)(n.ProductThumb,{mediaData:t,theme:"orderSquareThumb"})};var n=r(303013),l=a(r(23217)),i=a(r(156720)),o=r(785893);const d={display:"p357zi0d",alignItems:"gndfcl4n",width:"dyxdk6fi",height:"m3o1wsh7",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",backgroundColor:"osuelnrh",boxShadow:"gnkxn0la"},s={marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",color:"s4recxw2"},u={marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",color:"s4recxw2"};function c(){return(0,o.jsx)("div",{className:(0,i.default)(d),children:(0,o.jsx)(l.default,{className:(0,i.default)(s),name:"list-msg-icon"})})}},152604:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderSummaryDrawer=function(e){let{chat:t,currency:r,priceMap:a,orderItems:n,orderSubtotal:d,additionalCharges:c,flatAmounts:h,onBack:g,onSubmit:b,onAddItem:S,onDeleteItem:P,onPriceChange:w,onAdditionalCharges:M,onItemQuantityChange:E}=e;const I=n.every((e=>{var t;return Number.isInteger(null!==(t=e.price)&&void 0!==t?t:a[e.id])})),A=0!==n.length;return(0,C.jsxs)(v.default,{children:[(0,C.jsx)(y.DrawerHeader,{title:_.fbt._("Create order",null,{hk:"3snLWG"}),onBack:g,type:y.DRAWER_HEADER_TYPE.SMALL}),(0,C.jsxs)(x.default,{children:[(0,C.jsx)(j.default,{xstyle:[k.orderItemsContainer,l.uiPadding.top20,l.uiPadding.bottom20],theme:"refresh-padding-title",children:(0,C.jsxs)(s.default,{children:[(0,C.jsx)(u.default,{sellerWid:(0,i.getMeUser)(),orderStatus:(0,C.jsx)(f.default,{})}),(0,C.jsx)(o.default,{currency:r,priceMap:a,items:n,onDeleteItem:P,onPriceChange:w,onAddItem:S,onItemQuantityChange:E}),(0,C.jsx)(O,{tax:h.tax,discount:h.discount,shipping:h.shipping,currency:r,subtotal:d,additionalCharges:c,canDisplayAdditionalCharges:A,canChangeAdditionalCharges:A,onAdditionalCharges:M})]})}),(0,C.jsx)(m.OrderTotalPrice,{xstyle:l.uiPadding.all16,visible:A,disabled:!I,testid:"send-order-button",totalPrice:(0,p.formatAmount1000)(r,h.total),title:_.fbt._("Total",null,{hk:"qKqct"}),onConfirm:b,confirmTitle:_.fbt._("Send Order",null,{hk:"dGwCV"}),error:T(I,h.total,r)})]})]})},t.OrderValues=O;var n=r(408139),l=r(128298),i=r(978820),o=a(r(579550)),d=r(859789),s=a(r(518985)),u=a(r(342116)),c=a(r(236209)),f=a(r(982240)),m=r(733877),p=r(939519),h=a(r(499360)),g=r(429623),b=r(113923),v=a(r(60453)),x=a(r(69637)),y=r(994790),j=a(r(833308)),_=r(548360),S=a(r(156720)),C=r(785893);const k={orderFieldsContainer:{gap:"sxkbojvh"},orderItemsContainer:{flexShrink:"m0h2a7mj",overflowY:"ag5g9lrv"}},T=(e,t,r)=>{if(!e)return _.fbt._("Items must all have a price",null,{hk:"1PvX8G"}).toString();const a=1e3*(0,n.orderDetailsTotalOrderMinimumValue)(),l=1e3*(0,n.orderDetailsTotalMaxValue)();return t<=a?_.fbt._("Total must be more than {order_min_allowed_amount}",[_.fbt._param("order_min_allowed_amount",(0,p.formatAmount1000)(r,a))],{hk:"1TzgFB"}).toString():t>l?_.fbt._("Total cannot be more than {order_max_allowed_amount}",[_.fbt._param("order_max_allowed_amount",(0,p.formatAmount1000)(r,l))],{hk:"2eOboQ"}).toString():null};function O(e){let{tax:t,discount:r,shipping:a,currency:n,subtotal:i,additionalCharges:o,canDisplayAdditionalCharges:s,canChangeAdditionalCharges:u,onAdditionalCharges:f}=e;const m=(null==o?void 0:o.discountText)&&o.discountType===d.PERCENTAGE_SYMBOL?` (${o.discountText}% ${String(_.fbt._("off",null,{hk:"1ln6YC"}))})`:null,v=(null==o?void 0:o.taxText)&&o.taxType===d.PERCENTAGE_SYMBOL?` (${o.taxText}%)`:null;return(0,C.jsxs)(g.FlexColumn,{align:"stretch",xstyle:[k.orderFieldsContainer,l.uiPadding.horiz16],children:[(0,C.jsxs)(g.FlexRow,{justify:"all",testid:"order-details-subtotal-row",children:[(0,C.jsx)(b.TextSpan,{color:"secondary",size:"16",children:_.fbt._("Subtotal",null,{hk:"3XD55n"})}),(0,C.jsx)(b.TextSpan,{color:"secondary",size:"16",children:(0,p.formatAmount1000)(n,i)})]}),Boolean(s)&&(0,C.jsxs)(C.Fragment,{children:[null!=r&&(0,C.jsxs)(g.FlexRow,{justify:"all",testid:"order-details-discount-row",children:[(0,C.jsxs)(b.TextSpan,{color:"secondary",size:"16",children:[_.fbt._("Discount",null,{hk:"1ZzkHY"}),m]}),(0,C.jsx)(b.TextSpan,{color:"secondary",size:"16",children:(0,p.formatAmount1000)(n,-r)})]}),null!=a&&(0,C.jsxs)(g.FlexRow,{justify:"all",testid:"order-details-shipping-row",children:[(0,C.jsx)(b.TextSpan,{color:"secondary",size:"16",children:_.fbt._("Shipping",null,{hk:"1pvvuy"})}),(0,C.jsx)(b.TextSpan,{color:"secondary",size:"16",children:(0,p.formatAmount1000)(n,a)})]}),null!=t&&(0,C.jsxs)(g.FlexRow,{justify:"all",testid:"order-details-tax-row",children:[(0,C.jsxs)(b.TextSpan,{color:"secondary",size:"16",children:[_.fbt._("Tax",null,{hk:"OjxE4"}),v]}),(0,C.jsx)(b.TextSpan,{color:"secondary",size:"16",children:(0,p.formatAmount1000)(n,t)})]}),Boolean(u)&&(0,C.jsx)(g.FlexRow,{justify:"all",align:"center",children:(0,C.jsx)(h.default,{onClick:()=>null==f?void 0:f(),testid:"order-details-additional-charges-button",className:(0,S.default)(c.default.clickableText,l.uiMargin.bottom0),children:(0,C.jsx)("span",{children:_.fbt._("Add discount, shipping or tax",null,{hk:"3GTNs0"})})})})]})]})}},733877:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderApplyChangesButton=c,t.OrderTotalPrice=function(e){let{title:t,xstyle:r,visible:a,disabled:n,totalPrice:l,confirmTitle:f,testid:m,onConfirm:p,error:h=null}=e;return a?(0,s.jsxs)(o.default,{xstyle:r,children:[null==h?(0,s.jsxs)("div",{className:(0,d.default)(u.priceContainer),"data-testid":"total-price-container",children:[t,(0,s.jsx)("p",{children:l})]}):(0,s.jsx)(i.TextDiv,{color:"danger",size:"16",xstyle:u.errorLabel,children:h}),(0,s.jsx)(c,{title:f,onClick:p,disabled:n||Boolean(h),testid:m})]}):null};var n=r(128298),l=a(r(39770)),i=r(113923),o=a(r(833308)),d=a(r(156720)),s=r(785893);const u={buttonWrapper:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n"},priceContainer:{display:"p357zi0d",flexDirection:"sap93d0t",justifyContent:"o4u7okr9",fontWeight:"nbipi2bn"},errorLabel:{textAlign:"qfejxiq4"}};function c(e){let{title:t,disabled:r,onClick:a,testid:i}=e;return(0,s.jsx)("div",{className:(0,d.default)(u.buttonWrapper,n.uiMargin.top16),children:(0,s.jsx)(l.default,{type:"primary",disabled:r,onClick:a,testid:i,children:t})})}},972332:(e,t,r)=>{"use strict";var a=r(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,label:r,prefixIcon:a,postfixIcon:c,xstyle:f}=e,m="padded-svg"===e.iconTheme,p=[u.iconSvg,m?u.paddedSvg:l.uiPadding.all4],h={width:m?20:16,height:m?20:16};return(0,s.jsxs)(o.default,{xstyle:[u.container,l.uiPadding.vert8,l.uiPadding.horiz12,null!=a&&l.uiPadding.start36,null!=c&&l.uiPadding.end36,f],onClick:t,"aria-label":e["aria-label"],children:[a&&(0,s.jsx)(i.default,(0,n.default)({name:a,xstyle:[u.icon,u.prefixIcon,l.uiMargin.start5],iconXstyle:p},h)),(0,s.jsx)("div",{className:(0,d.default)(u.content),children:r}),c&&(0,s.jsx)(i.default,(0,n.default)({name:c,xstyle:[u.icon,l.uiMargin.start5],iconXstyle:p},h))]})};var n=a(r(81109)),l=r(128298),i=a(r(23217)),o=a(r(701784)),d=a(r(156720)),s=r(785893);const u={container:{position:"g0rxnol2",color:"nuiuantz",backgroundColor:"jvy3y6qh",borderTopStartRadius:"g130k69c",borderTopEndRadius:"k1a7joe8",borderBottomEndRadius:"dc5qina8",borderBottomStartRadius:"kfr1vweg"},content:{display:"l7jjieqr"},icon:{display:"l7jjieqr",position:"lhggkp7q",right:"rsmgdaqi",top:"mvf5n2qr"},iconSvg:{color:"nuiuantz"},prefixIcon:{left:"lidbxt4q"},paddedSvg:{paddingTop:"qbqilfqo",paddingEnd:"iqx13udk",paddingBottom:"a15vwmim",paddingStart:"qiohso4h"}}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_low_priority_components~.ce2b8aafe87ff31b3f3d.js.map
