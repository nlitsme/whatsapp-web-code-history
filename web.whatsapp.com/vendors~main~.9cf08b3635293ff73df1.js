/*! Copyright (c) 2023 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[4700],{986907:(e,t,n)=>{"use strict";const r=n(471313);e.exports=r},471313:(e,t,n)=>{"use strict";var r=n(587592),i=n(389408),l=n(376969),o=n(932998);function s(e){throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?code=${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function a(e){let t=o.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return o.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?"":r.$generateHtmlFromNodes(e,t)}function u(e){let t=o.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return o.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(f(e,t))}function d(e,t,n){(o.DEPRECATED_$isGridSelection(n)||null!==l.$findMatchingParent(n.anchor.getNode(),(e=>o.DEPRECATED_$isGridCellNode(e)))&&null!==l.$findMatchingParent(n.focus.getNode(),(e=>o.DEPRECATED_$isGridCellNode(e))))&&1===t.length&&o.DEPRECATED_$isGridNode(t[0])?function(e,t,n,r){1===e.length&&o.DEPRECATED_$isGridNode(e[0])||s(42);var i=e[0];e=i.getChildren(),n=i.getFirstChildOrThrow().getChildrenSize();var a=i.getChildrenSize(),u=l.$findMatchingParent(t.anchor.getNode(),(e=>o.DEPRECATED_$isGridCellNode(e)));t=(i=u&&l.$findMatchingParent(u,(e=>o.DEPRECATED_$isGridRowNode(e))))&&l.$findMatchingParent(i,(e=>o.DEPRECATED_$isGridNode(e))),o.DEPRECATED_$isGridCellNode(u)&&o.DEPRECATED_$isGridRowNode(i)&&o.DEPRECATED_$isGridNode(t)||s(43);var d=i.getIndexWithinParent(),c=Math.min(t.getChildrenSize()-1,d+a-1);let f,h;a=u.getIndexWithinParent(),u=Math.min(i.getChildrenSize()-1,a+n-1),n=Math.min(a,u),i=Math.min(d,c),a=Math.max(a,u),d=Math.max(d,c),c=t.getChildren(),u=0;for(let t=i;t<=d;t++){var g=c[t];o.DEPRECATED_$isGridRowNode(g)||s(24);var _=e[u];o.DEPRECATED_$isGridRowNode(_)||s(24),g=g.getChildren(),_=_.getChildren();let r=0;for(let e=n;e<=a;e++){let l=g[e];o.DEPRECATED_$isGridCellNode(l)||s(25);let u=_[r];o.DEPRECATED_$isGridCellNode(u)||s(25),t===i&&e===n?f=l.getKey():t===d&&e===a&&(h=l.getKey());let c=l.getChildren();u.getChildren().forEach((e=>{o.$isTextNode(e)&&o.$createParagraphNode().append(e),l.append(e)})),c.forEach((e=>e.remove())),r++}u++}f&&h&&((e=o.DEPRECATED_$createGridSelection()).set(t.getKey(),f,h),o.$setSelection(e),r.dispatchCommand(o.SELECTION_CHANGE_COMMAND,void 0))}(t,n,!1,e):function(e,t){let n=[],r=null;for(let t=0;t<e.length;t++){let i=e[t],l=o.$isLineBreakNode(i);if(l||o.$isDecoratorNode(i)&&i.isInline()||o.$isElementNode(i)&&i.isInline()||o.$isTextNode(i)||i.isParentRequired()){if(null===r&&(r=i.createParentElementNode(),n.push(r),l))continue;null!==r&&r.append(i)}else n.push(i),r=null}o.$isRangeSelection(t)?t.insertNodes(n):o.DEPRECATED_$isGridSelection(t)&&(e=t.anchor.getNode(),o.DEPRECATED_$isGridCellNode(e)||s(41),e.append(...n))}(t,n)}function c(e,t,n,r=[]){let l=null==t||n.isSelected(t),a=o.$isElementNode(n)&&n.excludeFromCopy("html");var u=n;if(null!==t){var d=i.$cloneWithProperties(n);u=d=o.$isTextNode(d)&&null!=t?i.$sliceSelectedTextNodeContent(t,d):d}let f=o.$isElementNode(u)?u.getChildren():[];var h=u;(d=h.exportJSON()).type!==h.constructor.getType()&&s(58);var g=d.children;for(o.$isElementNode(h)&&(Array.isArray(g)||s(59)),o.$isTextNode(u)&&(0<(u=u.__text).length?d.text=u:l=!1),u=0;u<f.length;u++)g=c(e,t,h=f[u],d.children),!l&&o.$isElementNode(n)&&g&&n.extractWithChild(h,t,"clone")&&(l=!0);if(l&&!a)r.push(d);else if(Array.isArray(d.children))for(e=0;e<d.children.length;e++)r.push(d.children[e]);return l}function f(e,t){let n=[],r=o.$getRoot().getChildren();for(let i=0;i<r.length;i++)c(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}function h(e){let t=[];for(let n=0;n<e.length;n++){let r=o.$parseSerializedNode(e[n]);o.$isTextNode(r)&&i.$addNodeStyle(r),t.push(r)}return t}let g=null;function _(e,t){var n=window.getSelection();if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,null!==r&&null!==n&&!o.isSelectionWithinEditor(e,r,n))return!1;if(t.preventDefault(),t=t.clipboardData,r=o.$getSelection(),null===t||null===r)return!1;n=a(e),e=u(e);let i="";return null!==r&&(i=r.getTextContent()),null!==n&&t.setData("text/html",n),null!==e&&t.setData("application/x-lexical-editor",e),t.setData("text/plain",i),!0}t.$generateJSONFromSelectedNodes=f,t.$generateNodesFromSerializedNodes=h,t.$getHtmlContent=a,t.$getLexicalContent=u,t.$insertDataTransferForPlainText=function(e,t){null!=(e=e.getData("text/plain")||e.getData("text/uri-list"))&&t.insertRawText(e)},t.$insertDataTransferForRichText=function(e,t,n){var i=e.getData("application/x-lexical-editor");if(i)try{let e=JSON.parse(i);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes)){return d(n,h(e.nodes),t)}}catch{}if(i=e.getData("text/html"))try{var l=(new DOMParser).parseFromString(i,"text/html"),s=r.$generateNodesFromDOM(n,l);return d(n,s,t)}catch{}if(null!=(e=e.getData("text/plain")||e.getData("text/uri-list")))if(o.$isRangeSelection(t))for(n=(e=e.split(/(\r?\n|\t)/)).length,l=0;l<n;l++)"\n"===(s=e[l])||"\r\n"===s?t.insertParagraph():"\t"===s?t.insertNodes([o.$createTabNode()]):t.insertText(s);else t.insertRawText(e)},t.$insertGeneratedNodes=d,t.copyToClipboard=async function(e,t){if(null!==g)return!1;if(null!==t)return new Promise((n=>{e.update((()=>{n(_(e,t))}))}));var n=e.getRootElement();let r=document.getSelection();if(null===n||null===r)return!1;let i=document.createElement("span");return i.style.cssText="position: fixed; top: -1000px;",i.append(document.createTextNode("#")),n.append(i),(n=new Range).setStart(i,0),n.setEnd(i,1),r.removeAllRanges(),r.addRange(n),new Promise((t=>{let n=e.registerCommand(o.COPY_COMMAND,(r=>(r instanceof ClipboardEvent&&(n(),null!==g&&(window.clearTimeout(g),g=null),t(_(e,r))),!0)),o.COMMAND_PRIORITY_CRITICAL);g=window.setTimeout((()=>{n(),g=null,t(!1)}),50),document.execCommand("copy"),i.remove()}))}},570573:(e,t,n)=>{"use strict";const r=n(97370);e.exports=r},97370:(e,t,n)=>{"use strict";var r=n(932998);t.registerDragonSupport=function(e){let t=window.location.origin,n=n=>{if(n.origin===t){var i=e.getRootElement();if(document.activeElement===i&&"string"==typeof(i=n.data)){try{var l=JSON.parse(i)}catch(e){return}if(l&&"nuanria_messaging"===l.protocol&&"request"===l.type&&(l=l.payload)&&"makeChanges"===l.functionId&&(l=l.args)){const[t,i,o,s,a]=l;e.update((()=>{const e=r.$getSelection();if(r.$isRangeSelection(e)){var l=e.anchor;let u=l.getNode(),d=0,c=0;r.$isTextNode(u)&&0<=t&&0<=i&&(d=t,c=t+i,e.setTextNodeRange(u,d,u,c)),d===c&&""===o||(e.insertRawText(o),u=l.getNode()),r.$isTextNode(u)&&(d=s,c=s+a,d=d>(l=u.getTextContentSize())?l:d,c=c>l?l:c,e.setTextNodeRange(u,d,u,c)),n.stopImmediatePropagation()}}))}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}},548854:(e,t,n)=>{"use strict";const r=n(654379);e.exports=r},654379:(e,t,n)=>{"use strict";var r=n(376969),i=n(932998);function l(e,t){let n=Date.now(),r=0;return(l,o,s,a,u,d)=>{let c=Date.now();if(d.has("historic"))return r=0,n=c,2;let f=function(e,t,n,r,l){if(null===e||0===n.size&&0===r.size&&!l)return 0;var o=t._selection,s=e._selection;if(l)return 1;if(!(i.$isRangeSelection(o)&&i.$isRangeSelection(s)&&s.isCollapsed()&&o.isCollapsed()))return 0;l=t._nodeMap;let a=[];for(let e of n)void 0!==(n=l.get(e))&&a.push(n);for(let[e,t]of r)t&&(void 0===(r=l.get(e))||i.$isRootNode(r)||a.push(r));return 0===a.length?0:1<a.length?(t=(r=t._nodeMap).get(o.anchor.key),s=r.get(s.anchor.key),t&&s&&!e._nodeMap.has(t.__key)&&i.$isTextNode(t)&&1===t.__text.length&&1===o.anchor.offset?2:0):(t=a[0],e=e._nodeMap.get(t.__key),i.$isTextNode(e)&&i.$isTextNode(t)&&e.__mode===t.__mode?(e=e.__text)===(t=t.__text)?0:(o=o.anchor,s=s.anchor,o.key!==s.key||"text"!==o.type?0:(o=o.offset,s=s.offset,1==(e=t.length-e.length)&&s===o-1?2:-1===e&&s===o+1?3:-1===e&&s===o?4:0)):0)}(l,o,a,u,e.isComposing()),h=(()=>{var h=null===s||s.editor===e,g=d.has("history-push");if(!g&&h&&d.has("history-merge"))return 0;if(null===l)return 1;var _=o._selection;if(!(0<a.size||0<u.size))return null!==_?0:2;if(!1===g&&0!==f&&f===r&&c<n+t&&h)return 0;if(1===a.size){{g=Array.from(a)[0],h=l._nodeMap.get(g),g=o._nodeMap.get(g),_=l._selection;let e=o._selection,t=!1;i.$isRangeSelection(_)&&i.$isRangeSelection(e)&&(t="element"===_.anchor.type&&"element"===_.focus.type&&"text"===e.anchor.type&&"text"===e.focus.type),h=!(t||!i.$isTextNode(h)||!i.$isTextNode(g))&&(h.__type===g.__type&&h.__text===g.__text&&h.__mode===g.__mode&&h.__detail===g.__detail&&h.__style===g.__style&&h.__format===g.__format&&h.__parent===g.__parent)}if(h)return 0}return 1})();return n=c,r=f,h}}t.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},t.registerHistory=function(e,t,n){let o=l(e,n);n=({editorState:n,prevEditorState:r,dirtyLeaves:l,dirtyElements:s,tags:a})=>{const u=t.current,d=t.redoStack,c=t.undoStack,f=null===u?null:u.editorState;if(null===u||n!==f){if(1===(r=o(r,n,u,l,s,a)))0!==d.length&&(t.redoStack=[],e.dispatchCommand(i.CAN_REDO_COMMAND,!1)),null!==u&&(c.push({...u}),e.dispatchCommand(i.CAN_UNDO_COMMAND,!0));else if(2===r)return;t.current={editor:e,editorState:n}}};let s=r.mergeRegister(e.registerCommand(i.UNDO_COMMAND,(()=>{let n=t.redoStack,r=t.undoStack;if(0!==r.length){let l=t.current,o=r.pop();null!==l&&(n.push(l),e.dispatchCommand(i.CAN_REDO_COMMAND,!0)),0===r.length&&e.dispatchCommand(i.CAN_UNDO_COMMAND,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:"historic"})}return!0}),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.REDO_COMMAND,(()=>{let n=t.redoStack;var r=t.undoStack;if(0!==n.length){let l=t.current;null!==l&&(r.push(l),e.dispatchCommand(i.CAN_UNDO_COMMAND,!0)),r=n.pop(),0===n.length&&e.dispatchCommand(i.CAN_REDO_COMMAND,!1),t.current=r||null,r&&r.editor.setEditorState(r.editorState,{tag:"historic"})}return!0}),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.CLEAR_EDITOR_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,!1)),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.CLEAR_HISTORY_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,e.dispatchCommand(i.CAN_REDO_COMMAND,!1),e.dispatchCommand(i.CAN_UNDO_COMMAND,!1),!0)),i.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(n)),a=e.registerUpdateListener(n);return()=>{s(),a()}}},587592:(e,t,n)=>{"use strict";const r=n(164478);e.exports=r},164478:(e,t,n)=>{"use strict";var r=n(389408),i=n(932998);function l(e,t,n,o=null){let s=null==o||t.isSelected(o),a=i.$isElementNode(t)&&t.excludeFromCopy("html");var u=t;null!==o&&(u=r.$cloneWithProperties(t),u=i.$isTextNode(u)&&null!=o?r.$sliceSelectedTextNodeContent(o,u):u);let d=i.$isElementNode(u)?u.getChildren():[],{element:c,after:f}=u.exportDOM(e);if(!c)return!1;let h=document.createDocumentFragment();for(let n=0;n<d.length;n++){let r=d[n],a=l(e,r,h,o);!s&&i.$isElementNode(t)&&a&&t.extractWithChild(r,o,"html")&&(s=!0)}return s&&!a?(c.append(h),n.append(c),f&&(e=f.call(u,c))&&c.replaceWith(e)):n.append(h),s}let o=new Set(["STYLE","SCRIPT"]);function s(e,t,n=new Map,r){let l=[];if(o.has(e.nodeName))return l;let a=null;var u,{nodeName:d}=e,c=t._htmlConversions.get(d.toLowerCase());if(d=null,void 0!==c)for(u of c)null!==(c=u(e))&&(null===d||d.priority<c.priority)&&(d=c);if(d=(u=null!==d?d.conversion:null)?u(e):null,u=null,null!==d){if(u=d.after,c=d.node,a=Array.isArray(c)?c[c.length-1]:c,null!==a){for(var[,f]of n)if(a=f(a,r),!a)break;a&&l.push(...Array.isArray(c)?c:[a])}null!=d.forChild&&n.set(e.nodeName,d.forChild)}for(e=e.childNodes,r=[],f=0;f<e.length;f++)r.push(...s(e[f],t,new Map(n),a));return null!=u&&(r=u(r)),null==a?l=l.concat(r):i.$isElementNode(a)&&a.append(...r),l}t.$generateHtmlFromNodes=function(e,t){if("undefined"==typeof document||"undefined"==typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=i.$getRoot().getChildren();for(let i=0;i<r.length;i++)l(e,r[i],n,t);return n.innerHTML},t.$generateNodesFromDOM=function(e,t){t=t.body?t.body.childNodes:[];let n=[];for(let i=0;i<t.length;i++){var r=t[i];o.has(r.nodeName)||null!==(r=s(r,e))&&(n=n.concat(r))}return n}},873435:(e,t,n)=>{"use strict";const r=n(813906);e.exports=r},813906:(e,t,n)=>{"use strict";var r=n(376969),i=n(932998);let l=new Set(["http:","https:","mailto:","sms:","tel:"]);class o extends i.ElementNode{static getType(){return"link"}static clone(e){return new o(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e,t={},n){super(n);let{target:r=null,rel:i=null,title:l=null}=t;this.__url=e,this.__target=r,this.__rel=i,this.__title=l}createDOM(e){let t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),r.addClassNamesToElement(t,e.theme.link),t}updateDOM(e,t){let n=this.__url,r=this.__target,i=this.__rel,l=this.__title;return n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),l!==e.__title&&(l?t.title=l:t.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:s,priority:1})}}static importJSON(e){let t=a(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}sanitizeUrl(e){try{let t=new URL(e);if(!l.has(t.protocol))return"about:blank"}catch{}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),i.$isElementNode(e)?(t=a(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(t),t):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t){if(!i.$isRangeSelection(t))return!1;e=t.anchor.getNode();let n=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(n)&&0<t.getTextContent().length}}function s(e){let t=null;if(r.isHTMLAnchorElement(e)){let n=e.textContent;null!==n&&""!==n&&(t=a(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function a(e,t){return i.$applyNodeReplacement(new o(e,t))}function u(e){return e instanceof o}class d extends o{static getType(){return"autolink"}static clone(e){return new d(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}static importJSON(e){let t=c(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),i.$isElementNode(e)?(t=c(this.__url,{rel:this._rel,target:this.__target,title:this.__title}),e.append(t),t):null}}function c(e,t){return i.$applyNodeReplacement(new d(e,t))}let f=i.createCommand("TOGGLE_LINK_COMMAND");t.$createAutoLinkNode=c,t.$createLinkNode=a,t.$isAutoLinkNode=function(e){return e instanceof d},t.$isLinkNode=u,t.AutoLinkNode=d,t.LinkNode=o,t.TOGGLE_LINK_COMMAND=f,t.toggleLink=function(e,t={}){let{target:n,title:r}=t,l=void 0===t.rel?"noopener":t.rel;if(t=i.$getSelection(),i.$isRangeSelection(t))if(t=t.extract(),null===e)t.forEach((e=>{if(u(e=e.getParent())){let t=e.getChildren();for(let n=0;n<t.length;n++)e.insertBefore(t[n]);e.remove()}}));else{if(1===t.length){var o=t[0];if(null!==(o=u(o)?o:function(e,t){for(;null!==e&&null!==(e=e.getParent())&&!t(e););return e}(o,u)))return o.setURL(e),void 0!==n&&o.setTarget(n),null!==l&&o.setRel(l),void(void 0!==r&&o.setTitle(r))}let s=null,d=null;t.forEach((t=>{var o=t.getParent();if(o!==d&&null!==o&&(!i.$isElementNode(t)||t.isInline()))if(u(o))d=o,o.setURL(e),void 0!==n&&o.setTarget(n),null!==l&&d.setRel(l),void 0!==r&&d.setTitle(r);else if(o.is(s)||(s=o,d=a(e,{rel:l,target:n}),u(o)?null===t.getPreviousSibling()?o.insertBefore(d):o.insertAfter(d):t.insertBefore(d)),u(t)){if(!t.is(d)){if(null!==d){o=t.getChildren();for(let e=0;e<o.length;e++)d.append(o[e])}t.remove()}}else null!==d&&d.append(t)}))}}},329428:(e,t,n)=>{"use strict";const r=n(174301);e.exports=r},174301:(e,t,n)=>{"use strict";var r=n(932998),i=n(376969);class l extends r.ElementNode{static getType(){return"mark"}static clone(e){return new l(Array.from(e.__ids),e.__key)}static importDOM(){return null}static importJSON(e){let t=o(e.ids);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),ids:this.getIDs(),type:"mark",version:1}}constructor(e,t){super(t),this.__ids=e||[]}createDOM(e){let t=document.createElement("mark");return i.addClassNamesToElement(t,e.theme.mark),1<this.__ids.length&&i.addClassNamesToElement(t,e.theme.markOverlap),t}updateDOM(e,t,n){e=e.__ids.length;let r=this.__ids.length;return n=n.theme.markOverlap,e!==r&&(1===e?2===r&&i.addClassNamesToElement(t,n):1===r&&i.removeClassNamesFromElement(t,n)),!1}hasID(e){let t=this.getIDs();for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}getIDs(){let e=this.getLatest();return s(e)?e.__ids:[]}addID(e){var t=this.getWritable();if(s(t)){let n=t.__ids;for(t.__ids=n,t=0;t<n.length;t++)if(e===n[t])return;n.push(e)}}deleteID(e){var t=this.getWritable();if(s(t)){let n=t.__ids;for(t.__ids=n,t=0;t<n.length;t++)if(e===n[t]){n.splice(t,1);break}}}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),r.$isElementNode(e)?(t=o(this.__ids),e.append(t),t):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!r.$isRangeSelection(t)||"html"===n)return!1;let i=t.anchor,l=t.focus;return e=i.getNode(),n=l.getNode(),t=t.isBackward()?i.offset-l.offset:l.offset-i.offset,this.isParentOf(e)&&this.isParentOf(n)&&this.getTextContent().length===t}excludeFromCopy(e){return"clone"!==e}}function o(e){return r.$applyNodeReplacement(new l(e))}function s(e){return e instanceof l}t.$createMarkNode=o,t.$getMarkIDs=function(e,t){for(;null!==e;){if(s(e))return e.getIDs();if(r.$isTextNode(e)&&t===e.getTextContentSize()){let t=e.getNextSibling();if(s(t))return t.getIDs()}e=e.getParent()}return null},t.$isMarkNode=s,t.$unwrapMarkNode=function(e){let t=e.getChildren(),n=null;for(let r=0;r<t.length;r++){let i=t[r];null===n?e.insertBefore(i):n.insertAfter(i),n=i}e.remove()},t.$wrapSelectionInMarkNode=function(e,t,n,i){let l=e.getNodes();var a=e.anchor.offset,u=e.focus.offset;e=l.length;let d,c,f=t?u:a;for(a=t?a:u,u=0;u<e;u++){var h=l[u];if(r.$isElementNode(c)&&c.isParentOf(h))continue;var g=0===u;let t=u===e-1;var _=null;if(r.$isTextNode(h)){_=h.getTextContentSize();let e=g?f:0,n=t?a:_;if(0===e&&0===n)continue;_=1<(h=h.splitText(e,n)).length&&(3===h.length||g&&!t||n===_)?h[1]:h[0]}else{if(s(h))continue;r.$isElementNode(h)&&h.isInline()&&(_=h)}null!==_?_&&_.is(d)||(null!=(g=_.getParent())&&g.is(d)||(c=void 0),d=g,void 0===c&&(c=(i||o)([n]),_.insertBefore(c)),c.append(_)):c=d=void 0}r.$isElementNode(c)&&(t?c.selectStart():c.selectEnd())},t.MarkNode=l},99299:(e,t,n)=>{"use strict";const r=n(161490);e.exports=r},161490:(e,t,n)=>{"use strict";var r=n(986907),i=n(389408),l=n(376969),o=n(932998);let s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a=s&&"documentMode"in document?document.documentMode:null;s&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),s&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);let u=!(!s||!("InputEvent"in window)||a)&&"getTargetRanges"in new window.InputEvent("input"),d=s&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=s&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,f=s&&/^(?=.*Chrome).*/i.test(navigator.userAgent),h=s&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!f;function g(e,t){t.update((()=>{let n=e instanceof KeyboardEvent?null:e.clipboardData,i=o.$getSelection();if(null!==i&&null!=n){e.preventDefault();let l=r.$getHtmlContent(t);null!==l&&n.setData("text/html",l),n.setData("text/plain",i.getTextContent())}}))}t.registerPlainText=function(e){return l.mergeRegister(e.registerCommand(o.DELETE_CHARACTER_COMMAND,(e=>{const t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DELETE_WORD_COMMAND,(e=>{const t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.deleteWord(e),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DELETE_LINE_COMMAND,(e=>{const t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.deleteLine(e),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.CONTROLLED_TEXT_INSERTION_COMMAND,(e=>{const t=o.$getSelection();if(!o.$isRangeSelection(t))return!1;if("string"==typeof e)t.insertText(e);else{const n=e.dataTransfer;null!=n?r.$insertDataTransferForPlainText(n,t):(e=e.data)&&t.insertText(e)}return!0}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.REMOVE_TEXT_COMMAND,(()=>{const e=o.$getSelection();return!!o.$isRangeSelection(e)&&(e.removeText(),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.INSERT_LINE_BREAK_COMMAND,(e=>{const t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.INSERT_PARAGRAPH_COMMAND,(()=>{const e=o.$getSelection();return!!o.$isRangeSelection(e)&&(e.insertLineBreak(),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ARROW_LEFT_COMMAND,(e=>{const t=o.$getSelection();if(!o.$isRangeSelection(t))return!1;const n=e.shiftKey;return!!i.$shouldOverrideDefaultCharacterSelection(t,!0)&&(e.preventDefault(),i.$moveCharacter(t,n,!0),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ARROW_RIGHT_COMMAND,(e=>{const t=o.$getSelection();if(!o.$isRangeSelection(t))return!1;const n=e.shiftKey;return!!i.$shouldOverrideDefaultCharacterSelection(t,!1)&&(e.preventDefault(),i.$moveCharacter(t,n,!1),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_BACKSPACE_COMMAND,(t=>{const n=o.$getSelection();return!!o.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(o.DELETE_CHARACTER_COMMAND,!0))}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_DELETE_COMMAND,(t=>{const n=o.$getSelection();return!!o.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(o.DELETE_CHARACTER_COMMAND,!1))}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ENTER_COMMAND,(t=>{const n=o.$getSelection();if(!o.$isRangeSelection(n))return!1;if(null!==t){if((c||d||h)&&u)return!1;t.preventDefault()}return e.dispatchCommand(o.INSERT_LINE_BREAK_COMMAND,!1)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.COPY_COMMAND,(t=>{const n=o.$getSelection();return!!o.$isRangeSelection(n)&&(g(t,e),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.CUT_COMMAND,(t=>{const n=o.$getSelection();return!!o.$isRangeSelection(n)&&(function(e,t){g(e,t),t.update((()=>{let e=o.$getSelection();o.$isRangeSelection(e)&&e.removeText()}))}(t,e),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.PASTE_COMMAND,(t=>{const n=o.$getSelection();return!!o.$isRangeSelection(n)&&(function(e,t){e.preventDefault(),t.update((()=>{let t=o.$getSelection(),n=e instanceof InputEvent||e instanceof KeyboardEvent?null:e.clipboardData;null!=n&&o.$isRangeSelection(t)&&r.$insertDataTransferForPlainText(n,t)}),{tag:"paste"})}(t,e),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DROP_COMMAND,(e=>{const t=o.$getSelection();return!!o.$isRangeSelection(t)&&(e.preventDefault(),!0)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DRAGSTART_COMMAND,(e=>{const t=o.$getSelection();return!!o.$isRangeSelection(t)&&(e.preventDefault(),!0)}),o.COMMAND_PRIORITY_EDITOR))}},111356:(e,t,n)=>{"use strict";const r=n(650024);e.exports=r},650024:(e,t,n)=>{"use strict";var r=n(84260),i=n(932998),l=n(667294),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect;t.ClearEditorPlugin=function({onClear:e}){let[t]=r.useLexicalComposerContext();return o((()=>t.registerCommand(i.CLEAR_EDITOR_COMMAND,(()=>(t.update((()=>{if(null==e){let e=i.$getRoot(),t=i.$getSelection(),n=i.$createParagraphNode();e.clear(),e.append(n),null!==t&&n.select()}else e()})),!0)),i.COMMAND_PRIORITY_EDITOR)),[t,e]),null}},822292:(e,t,n)=>{"use strict";const r=n(544149);e.exports=r},544149:(e,t,n)=>{"use strict";var r=n(84260),i=n(932998),l=n(667294);let o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var s=o?l.useLayoutEffect:l.useEffect;let a={tag:"history-merge"};t.LexicalComposer=function({initialConfig:e,children:t}){let n=l.useMemo((()=>{const{theme:t,namespace:n,editor__DEPRECATED:l,nodes:s,onError:u,editorState:d}=e,c=r.createLexicalComposerContext(null,t);let f=l||null;if(null===f){const r=i.createEditor({editable:e.editable,namespace:n,nodes:s,onError:e=>u(e,r),theme:t});!function(e,t){if(null!==t)if(void 0===t)e.update((()=>{var t=i.$getRoot();if(t.isEmpty()){let n=i.$createParagraphNode();t.append(n),t=o?document.activeElement:null,(null!==i.$getSelection()||null!==t&&t===e.getRootElement())&&n.select()}}),a);else if(null!==t)switch(typeof t){case"string":let n=e.parseEditorState(t);e.setEditorState(n,a);break;case"object":e.setEditorState(t,a);break;case"function":e.update((()=>{i.$getRoot().isEmpty()&&t(e)}),a)}}(r,d),f=r}return[f,c]}),[]);return s((()=>{let t=e.editable,[r]=n;r.setEditable(void 0===t||t)}),[]),l.createElement(r.LexicalComposerContext.Provider,{value:n},t)}},84260:(e,t,n)=>{"use strict";const r=n(433489);e.exports=r},433489:(e,t,n)=>{"use strict";var r=n(667294);let i=r.createContext(null);t.LexicalComposerContext=i,t.createLexicalComposerContext=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},t.useLexicalComposerContext=function(){let e=r.useContext(i);if(null==e)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e}},777943:(e,t,n)=>{"use strict";const r=n(279848);e.exports=r},279848:(e,t,n)=>{"use strict";var r=n(667294);function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var l={error:null},o=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=l,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(l)},n.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},n.componentDidUpdate=function(e,t){var n,r,i=this.props.resetKeys;null!==this.state.error&&null!==t.error&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,i)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,i),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent;if(t=t.fallback,null!==e){if(e={error:e,resetErrorBoundary:this.resetErrorBoundary},r.isValidElement(t))return t;if("function"==typeof n)return n(e);if(i)return r.createElement(i,e);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);e.exports=function({children:e,onError:t}){return r.createElement(o,{fallback:r.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:t},e)}},704506:(e,t,n)=>{"use strict";const r=n(800548);e.exports=r},800548:(e,t,n)=>{"use strict";var r=n(84260),i=n(548854),l=n(667294);t.createEmptyHistoryState=i.createEmptyHistoryState,t.HistoryPlugin=function({externalHistoryState:e}){let[t]=r.useLexicalComposerContext();return function(e,t,n=1e3){let r=l.useMemo((()=>t||i.createEmptyHistoryState()),[t]);l.useEffect((()=>i.registerHistory(e,r,n)),[n,e,r])}(t,e),null}},717150:(e,t,n)=>{"use strict";const r=n(224800);e.exports=r},224800:(e,t,n)=>{"use strict";var r=n(84260),i=n(909722),l=n(667294),o=n(302977),s=n(376969),a=n(973935),u=n(570573),d=n(99299),c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect;function f(e){return e.getEditorState().read(o.$canShowPlaceholderCurry(e.isComposing()))}function h({content:e}){var[t]=r.useLexicalComposerContext();t=function(e){let[t,n]=l.useState((()=>f(e)));return c((()=>{function t(){let t=f(e);n(t)}return t(),s.mergeRegister(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(t);let n=i();return t?"function"==typeof e?e(n):e:null}t.PlainTextPlugin=function({contentEditable:e,placeholder:t,ErrorBoundary:n}){let[i]=r.useLexicalComposerContext();return n=function(e,t){let[n,r]=l.useState((()=>e.getDecorators()));return c((()=>e.registerDecoratorListener((e=>{a.flushSync((()=>{r(e)}))}))),[e]),l.useEffect((()=>{r(e.getDecorators())}),[e]),l.useMemo((()=>{let r=[],i=Object.keys(n);for(let o=0;o<i.length;o++){let s=i[o],u=l.createElement(t,{onError:t=>e._onError(t)},l.createElement(l.Suspense,{fallback:null},n[s])),d=e.getElementByKey(s);null!==d&&r.push(a.createPortal(u,d,s))}return r}),[t,n,e])}(i,n),function(e){c((()=>s.mergeRegister(d.registerPlainText(e),u.registerDragonSupport(e))),[e])}(i),l.createElement(l.Fragment,null,e,l.createElement(h,{content:t}),n)}},847480:(e,t,n)=>{"use strict";const r=n(22210);e.exports=r},22210:(e,t,n)=>{"use strict";var r=n(587592),i=n(873435),l=n(329428),o=n(376969),s=n(932998),a=n(667294);let u=Object.freeze({"\t":"\\t","\n":"\\n"}),d=new RegExp(Object.keys(u).join("|"),"g"),c=Object.freeze({ancestorHasNextSibling:"|",ancestorIsLastChild:" ",hasNextSibling:"├",isLastChild:"└",selectedChar:"^",selectedLine:">"});function f(e,t,n){let o=e.getEditorState(),a=e._config,u=e._compositionKey,f=e._editable;if(n){let t="";return o.read((()=>{var n=r.$generateHtmlFromNodes(e);let i=document.createElement("div");i.innerHTML=n.trim(),t=C(i,0).innerHTML})),t}let _=" root\n";if(n=o.read((()=>{const e=s.$getSelection();return h(s.$getRoot(),((t,n)=>{const r=`(${t.getKey()})`,o=t.getType()||"",a=t.isSelected(),u=l.$isMarkNode(t)?` id: [ ${t.getIDs().join(", ")} ] `:"";var f=_,h=a?c.selectedLine:" ",p=n.join(" ");if(s.$isTextNode(t)){var m=t.getTextContent(),C=0===m.length?"(empty)":`"${g(m)}"`;m=[C,0!==(m=[x(t),y(t),v(t)].filter(Boolean).join(", ")).length?`{ ${m} }`:null].filter(Boolean).join(" ").trim()}else if(i.$isLinkNode(t)){m=0===(m=t.getURL()).length?"(empty)":`"${g(m)}"`,null!=(C=t.getTarget())&&(C="target: "+C);var T=Boolean,N=t.getRel();null!=N&&(N="rel: "+N);let e=t.getTitle();null!=e&&(e="title: "+e),m=[m,0!==(C=[C,N,e].filter(T).join(", ")).length?`{ ${C} }`:null].filter(Boolean).join(" ").trim()}else m="";_=f+`${h} ${p} ${r} ${o} ${u} ${m}\n`,_+=function({indent:e,isSelected:t,node:n,nodeKeyDisplay:r,selection:i,typeDisplay:l}){if(!s.$isTextNode(n)||!s.$isRangeSelection(i)||!t||s.$isElementNode(n))return"";t=i.anchor;var o=i.focus;if(""===n.getTextContent()||t.getNode()===i.focus.getNode()&&t.offset===o.offset)return"";o=i.anchor;let a=i.focus,u=n.getTextContent(),f=u.length;if(t=i=-1,"text"===o.type&&"text"===a.type){let e=o.getNode(),r=a.getNode();e===r&&n===e&&o.offset!==a.offset?[i,t]=o.offset<a.offset?[o.offset,a.offset]:[a.offset,o.offset]:[i,t]=n===e?e.isBefore(r)?[o.offset,f]:[0,o.offset]:n===r?r.isBefore(e)?[a.offset,f]:[0,a.offset]:[0,f]}n=(u.slice(0,i).match(d)||[]).length,o=(u.slice(i,t).match(d)||[]).length;let[h,g]=[i+n,t+n+o];return h===g?"":(n=e[e.length-1]===c.hasNextSibling?c.ancestorHasNextSibling:c.ancestorIsLastChild,e=[...e.slice(0,e.length-1),n],n=Array(h+1).fill(" "),i=Array(g-h).fill(c.selectedChar),r=Array(r.length+(l.length+3)).fill(" "),[c.selectedLine,e.join(" "),[...r,...n,...i].join("")].join(" ")+"\n")}({indent:n,isSelected:a,node:t,nodeKeyDisplay:r,selection:e,typeDisplay:o})})),null===e?": null":s.$isRangeSelection(e)?function(e){let t="";var n=x(e);t+=`: range ${""!==n?`{ ${n} }`:""} ${""!==e.style?`{ style: ${e.style} } `:""}`,n=e.anchor,e=e.focus;let r=n.offset,i=e.offset;return t+=`\n  ├ anchor { key: ${n.key}, offset: ${null===r?"null":r}, type: ${n.type} }`,t+`\n  └ focus { key: ${e.key}, offset: ${null===i?"null":i}, type: ${e.type} }`}(e):s.DEPRECATED_$isGridSelection(e)?`: grid\n  └ { grid: ${e.gridKey}, anchorCell: ${e.anchor.key}, focusCell: ${e.focus.key} }`:`: node\n  └ [${Array.from(e._nodes).join(", ")}]`})),_+="\n selection"+n,_+="\n\n commands:",t.length)for(let{type:e,payload:n}of t)_+=`\n  └ { type: ${e}, payload: ${n instanceof Event?n.constructor.name:n} }`;else _+="\n  └ None dispatched.";return _+="\n\n editor:",_+=`\n  └ namespace ${a.namespace}`,null!==u&&(_+=`\n  └ compositionKey ${u}`),_+=`\n  └ editable ${String(f)}`}function h(e,t,n=[]){let r=(e=e.getChildren()).length;e.forEach(((e,i)=>{t(e,n.concat(i===r-1?c.isLastChild:c.hasNextSibling)),s.$isElementNode(e)&&h(e,t,n.concat(i===r-1?c.ancestorIsLastChild:c.ancestorHasNextSibling))}))}function g(e){return Object.entries(u).reduce(((e,[t,n])=>e.replace(new RegExp(t,"g"),String(n))),e)}let _=[e=>e.hasFormat("bold")&&"Bold",e=>e.hasFormat("code")&&"Code",e=>e.hasFormat("italic")&&"Italic",e=>e.hasFormat("strikethrough")&&"Strikethrough",e=>e.hasFormat("subscript")&&"Subscript",e=>e.hasFormat("superscript")&&"Superscript",e=>e.hasFormat("underline")&&"Underline"],p=[e=>e.isDirectionless()&&"Directionless",e=>e.isUnmergeable()&&"Unmergeable"],m=[e=>e.isToken()&&"Token",e=>e.isSegmented()&&"Segmented"];function y(e){let t=p.map((t=>t(e))).filter(Boolean).join(", ").toLocaleLowerCase();return""!==t&&(t="detail: "+t),t}function v(e){let t=m.map((t=>t(e))).filter(Boolean).join(", ").toLocaleLowerCase();return""!==t&&(t="mode: "+t),t}function x(e){let t=_.map((t=>t(e))).filter(Boolean).join(", ").toLocaleLowerCase();return""!==t&&(t="format: "+t),t}function C(e,t){let n,r=Array(1+t++).join("  "),i=Array(t-1).join("  ");for(let l=0;l<e.children.length;l++)n=document.createTextNode("\n"+r),e.insertBefore(n,e.children[l]),C(e.children[l],t),e.lastElementChild===e.children[l]&&(n=document.createTextNode("\n"+i),e.appendChild(n));return e}t.TreeView=function({treeTypeButtonClassName:e,timeTravelButtonClassName:t,timeTravelPanelSliderClassName:n,timeTravelPanelButtonClassName:r,viewClassName:i,timeTravelPanelClassName:l,editor:u}){let[d,c]=a.useState([]),[h,g]=a.useState(""),[_,p]=a.useState(!1),[m,y]=a.useState(!1),v=a.useRef(0),x=a.useRef(null),C=a.useRef(null),[T,N]=a.useState(!1),[E,S]=a.useState(!1),[w,D]=a.useState(!1),b=a.useRef(null),k=function(e){let[t,n]=a.useState([]);return a.useEffect((()=>{let t=new Set;for(let[r]of e._commands)t.add(e.registerCommand(r,(e=>(n((t=>((t=[...t]).push({payload:e,type:r.type?r.type:"UNKNOWN"}),10<t.length&&t.shift(),t))),!1)),s.COMMAND_PRIORITY_HIGH));return()=>t.forEach((e=>e()))}),[e]),a.useMemo((()=>t),[t])}(u),O=a.useCallback((e=>{const t=f(u,k,m);g(t),_||c((t=>[...t,[Date.now(),e]]))}),[k,u,_,m]);a.useEffect((()=>{let e=u.getEditorState();!w&&1e3>e._nodeMap.size&&g(f(u,k,m))}),[k,u,w,m]),a.useEffect((()=>o.mergeRegister(u.registerUpdateListener((({editorState:e})=>{!w&&1e3<e._nodeMap.size&&(b.current=e,S(!0),!w)||O(e)})),u.registerEditableListener((()=>{let e=f(u,k,m);g(e)})))),[k,u,m,E,O,w]);let M=d.length;return a.useEffect((()=>{if(T){let e,t=()=>{const n=v.current;n===M-1?N(!1):e=setTimeout((()=>{v.current++;const e=v.current,n=C.current;null!==n&&(n.value=String(e)),u.setEditorState(d[e][1]),t()}),d[n+1][0]-d[n][0])};return t(),()=>{clearTimeout(e)}}}),[d,T,u,M]),a.useEffect((()=>{let e=x.current;if(null!==e)return e.__lexicalEditor=u,()=>{e.__lexicalEditor=null}}),[u]),a.createElement("div",{className:i},!w&&E?a.createElement("div",{style:{padding:20}},a.createElement("span",{style:{marginRight:20}},"Detected large EditorState, this can impact debugging performance."),a.createElement("button",{onClick:()=>{D(!0);let e=b.current;null!==e&&(b.current=null,O(e))},style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer",padding:5}},"Show full tree")):null,w?null:a.createElement("button",{onClick:()=>y(!m),className:e,type:"button"},m?"Tree":"Export DOM"),!_&&(w||!E)&&2<M&&a.createElement("button",{onClick:()=>{let e=u.getRootElement();null!==e&&(e.contentEditable="false",v.current=M-1,p(!0))},className:t,type:"button"},"Time Travel"),(w||!E)&&a.createElement("pre",{ref:x},h),_&&(w||!E)&&a.createElement("div",{className:l},a.createElement("button",{className:r,onClick:()=>{v.current===M-1&&(v.current=1),N(!T)},type:"button"},T?"Pause":"Play"),a.createElement("input",{className:n,ref:C,onChange:e=>{e=Number(e.target.value);let t=d[e];t&&(v.current=e,u.setEditorState(t[1]))},type:"range",min:"1",max:M-1}),a.createElement("button",{className:r,onClick:()=>{var e=u.getRootElement();if(null!==e){e.contentEditable="true",e=d.length-1,u.setEditorState(d[e][1]);let t=C.current;null!==t&&(t.value=String(e)),p(!1),N(!1)}},type:"button"},"Exit")))}},909722:(e,t,n)=>{"use strict";const r=n(965836);e.exports=r},965836:(e,t,n)=>{"use strict";var r=n(84260),i=n(667294),l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function o(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}e.exports=function(){return function(e){let[t]=r.useLexicalComposerContext(),n=i.useMemo((()=>e(t)),[t,e]),o=i.useRef(n.initialValueFn()),[s,a]=i.useState(o.current);return l((()=>{let{initialValueFn:e,subscribe:t}=n,r=e();return o.current!==r&&(o.current=r,a(r)),t((e=>{o.current=e,a(e)}))}),[n,e]),s}(o)}},389408:(e,t,n)=>{"use strict";const r=n(649235);e.exports=r},649235:(e,t,n)=>{"use strict";var r=n(932998);let i=new Map;function l(e){for(;null!=e;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function o(e){let t=e.parentNode;if(null==t)throw Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function s(e){let t={};e=e.split(";");for(let n of e)if(""!==n){let[e,r]=n.split(/:([^]+)/);t[e.trim()]=r.trim()}return t}function a(e){let t=i.get(e);return void 0===t&&(t=s(e),i.set(e,t)),t}function u(e,t){var n=a("getStyle"in e?e.getStyle():e.style);n=function(e){let t="";for(let n in e)n&&(t+=`${n}: ${e[n]};`);return t}(t=Object.entries(t).reduce(((e,[t,n])=>(null===n?delete e[t]:e[t]=n,e)),{...n})),e.setStyle(n),i.set(n,t)}function d(e){for(;null!==e&&!r.$isRootOrShadowRoot(e);){let t=e.getLatest(),n=e.getParent();0===t.getChildrenSize()&&e.remove(!0),e=n}}function c(e,t,n,i,l=null){if(0!==t.length){var o=t[0],s=new Map,a=[];(o=r.$isElementNode(o)?o:o.getParentOrThrow()).isInline()&&(o=o.getParentOrThrow());for(var u=!1;null!==o;){var c=o.getPreviousSibling();if(null!==c){o=c,u=!0;break}if(o=o.getParentOrThrow(),r.$isRootOrShadowRoot(o))break}c=new Set;for(var f=0;f<n;f++){var h=t[f];r.$isElementNode(h)&&0===h.getChildrenSize()&&c.add(h.getKey())}var g=new Set;for(f=0;f<n;f++){var _=(h=t[f]).getParent();if(null!==_&&_.isInline()&&(_=_.getParent()),null!==_&&r.$isLeafNode(h)&&!g.has(h.getKey())){if(h=_.getKey(),void 0===s.get(h)){let e=i();e.setFormat(_.getFormatType()),e.setIndent(_.getIndent()),a.push(e),s.set(h,e),_.getChildren().forEach((t=>{e.append(t),g.add(t.getKey()),r.$isElementNode(t)&&t.getChildrenKeys().forEach((e=>g.add(e)))})),d(_)}}else c.has(h.getKey())&&((_=i()).setFormat(h.getFormatType()),_.setIndent(h.getIndent()),a.push(_),h.remove(!0))}if(null!==l)for(t=0;t<a.length;t++)l.append(a[t]);if(t=null,r.$isRootOrShadowRoot(o))if(u)if(null!==l)o.insertAfter(l);else for(l=a.length-1;0<=l;l--)o.insertAfter(a[l]);else if(u=o.getFirstChild(),r.$isElementNode(u)&&(o=u),null===u)if(l)o.append(l);else for(l=0;l<a.length;l++)u=a[l],o.append(u),t=u;else if(null!==l)u.insertBefore(l);else for(o=0;o<a.length;o++)l=a[o],u.insertBefore(l),t=l;else if(l)o.insertAfter(l);else for(l=a.length-1;0<=l;l--)u=a[l],o.insertAfter(u),t=u;a=r.$getPreviousSelection(),r.$isRangeSelection(a)&&a.anchor.getNode().isAttached()&&a.focus.getNode().isAttached()?r.$setSelection(a.clone()):null!==t?t.selectEnd():e.dirty=!0}}function f(e,t,n,r){e.modify(t?"extend":"move",n,r)}function h(e){return e=e.anchor.getNode(),"rtl"===(r.$isRootNode(e)?e:e.getParentOrThrow()).getDirection()}t.$addNodeStyle=function(e){let t=s(e=e.getStyle());i.set(e,t)},t.$cloneWithProperties=function(e){let t=(e=e.getLatest()).constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,r.$isElementNode(e)&&r.$isElementNode(t)?(t.__first=e.__first,t.__last=e.__last,t.__size=e.__size,t.__format=e.__format,t.__indent=e.__indent,t.__dir=e.__dir,t):(r.$isTextNode(e)&&r.$isTextNode(t)&&(t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail),t)},t.$getSelectionStyleValueForProperty=function(e,t,n=""){let i=null,l=e.getNodes();var o=e.anchor,s=e.focus,u=e.isBackward();let d=u?s.offset:o.offset;if(o=u?s.getNode():o.getNode(),""!==e.style&&(null!==(e=a(e.style))&&t in e))return e[t];for(e=0;e<l.length;e++){var c=l[e];if((0===e||0!==d||!c.is(o))&&r.$isTextNode(c))if(s=t,u=n,s=null!==(c=a(c=c.getStyle()))&&c[s]||u,null===i)i=s;else if(i!==s){i="";break}}return null===i?n:i},t.$isAtNodeEnd=function(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()},t.$isParentElementRTL=h,t.$moveCaretSelection=f,t.$moveCharacter=function(e,t,n){let r=h(e);f(e,t,n?!r:r,"character")},t.$patchStyleText=function(e,t){var n=e.getNodes();let i=n.length-1,l=n[0],o=n[i];if(e.isCollapsed())u(e,t);else{var s=e.anchor,a=e.focus,d=l.getTextContent().length,c=a.offset,f=s.offset,h=s.isBefore(a),g=h?f:c;e=h?c:f;var _=h?s.type:a.type,p=h?a.type:s.type;if(s=h?a.key:s.key,r.$isTextNode(l)&&g===d&&(a=l.getNextSibling(),r.$isTextNode(a)&&(g=f=0,l=a)),1===n.length)r.$isTextNode(l)&&((g="element"===_?0:f>c?c:f)!==(e="element"===p?d:f>c?f:c)&&(0===g&&e===d?(u(l,t),l.select(g,e)):(n=l.splitText(g,e),u(n=0===g?n[0]:n[1],t),n.select(0,e-g))));else for(r.$isTextNode(l)&&g<l.getTextContentSize()&&(0!==g&&(l=l.splitText(g)[1]),u(l,t)),r.$isTextNode(o)&&(g=o.getTextContent().length,o.__key!==s&&0!==e&&(e=g),e!==g&&([o]=o.splitText(e)),0!==e&&u(o,t)),e=1;e<i;e++)d=(g=n[e]).getKey(),r.$isTextNode(g)&&d!==l.getKey()&&d!==o.getKey()&&!g.isToken()&&u(g,t)}},t.$selectAll=function(e){let t=e.anchor;e=e.focus;var n=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();let i=n.getFirstDescendant();n=n.getLastDescendant();let l="element",o="element",s=0;r.$isTextNode(i)?l="text":r.$isElementNode(i)||null===i||(i=i.getParentOrThrow()),r.$isTextNode(n)?(o="text",s=n.getTextContentSize()):r.$isElementNode(n)||null===n||(n=n.getParentOrThrow()),i&&n&&(t.set(i.getKey(),0,l),e.set(n.getKey(),s,o))},t.$setBlocksType=function(e,t){if("root"===e.anchor.key){t=t();var n=r.$getRoot();(e=n.getFirstChild())?e.replace(t,!0):n.append(t)}else for(n=e.getNodes(),e=e.anchor.getNode().getParentOrThrow(),-1===n.indexOf(e)&&n.push(e),e.isInline()&&(e=e.getParentOrThrow(),-1===n.indexOf(e)&&n.push(e)),e=0;e<n.length;e++){let o=n[e];var i=o;if(!r.$isElementNode(i)||r.$isRootOrShadowRoot(i))i=!1;else{var l=i.getFirstChild();l=null===l||r.$isTextNode(l)||l.isInline(),i=!i.isInline()&&!1!==i.canBeEmpty()&&l}i&&((i=t()).setFormat(o.getFormatType()),i.setIndent(o.getIndent()),o.replace(i,!0))}},t.$shouldOverrideDefaultCharacterSelection=function(e,t){return e=r.$getAdjacentNode(e.focus,t),r.$isDecoratorNode(e)&&!e.isIsolated()||r.$isElementNode(e)&&!e.isInline()&&!e.canBeEmpty()},t.$sliceSelectedTextNodeContent=function(e,t){if(t.isSelected()&&!t.isSegmented()&&!t.isToken()&&(r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e))){var n=e.anchor.getNode(),i=e.focus.getNode(),l=t.is(n),o=t.is(i);if(l||o){l=e.isBackward();let r,[s,a]=e.getCharacterOffsets();e=n.is(i),o=t.is(l?i:n),i=t.is(l?n:i),n=0,e?(n=s>a?a:s,r=s>a?s:a):o?(n=l?a:s,r=void 0):i&&(n=0,r=l=l?s:a),t.__text=t.__text.slice(n,r)}}return t},t.$wrapNodes=function(e,t,n=null){var i=e.getNodes();let l=i.length;var o=e.anchor;if(0===l||1===l&&"element"===o.type&&0===o.getNode().getChildrenSize()){i=(e="text"===o.type?o.getNode().getParentOrThrow():o.getNode()).getChildren();let r=t();r.setFormat(e.getFormatType()),r.setIndent(e.getIndent()),i.forEach((e=>r.append(e))),n&&(r=n.append(r)),e.replace(r)}else{o=null;var s=[];for(let a=0;a<l;a++){let l=i[a];r.$isRootOrShadowRoot(l)?(c(e,s,s.length,t,n),s=[],o=l):null===o||null!==o&&r.$hasAncestor(l,o)?s.push(l):(c(e,s,s.length,t,n),s=[l])}c(e,s,s.length,t,n)}},t.createDOMRange=function(e,t,n,i,s){let a=t.getKey(),u=i.getKey(),d=document.createRange(),c=e.getElementByKey(a);if(e=e.getElementByKey(u),r.$isTextNode(t)&&(c=l(c)),r.$isTextNode(i)&&(e=l(e)),void 0===t||void 0===i||null===c||null===e)return null;"BR"===c.nodeName&&([c,n]=o(c)),"BR"===e.nodeName&&([e,s]=o(e)),t=c.firstChild,c===e&&null!=t&&"BR"===t.nodeName&&0===n&&0===s&&(s=1);try{d.setStart(c,n),d.setEnd(e,s)}catch(e){return null}return!d.collapsed||n===s&&a===u||(d.setStart(e,s),d.setEnd(c,n)),d},t.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];e=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);let r,i=(t=Array.from(t.getClientRects())).length;t.sort(((e,t)=>{let n=e.top-t.top;return 3>=Math.abs(n)?e.left-t.left:n}));for(let l=0;l<i;l++){let o=t[l],s=o.width+n===e.width;r&&r.top<=o.top&&r.top+r.height>o.top&&r.left+r.width>o.left||s?(t.splice(l--,1),i--):r=o}return t},t.getStyleObjectFromCSS=a,t.trimTextContentFromAnchor=function(e,t,n){let i=t.getNode();if(r.$isElementNode(i)){var l=i.getDescendantByIndex(t.offset);null!==l&&(i=l)}for(;0<n&&null!==i;){var o=i.getPreviousSibling(),s=0;if(null===o){for(var a=(l=i.getParentOrThrow()).getPreviousSibling();null===a;){if(null===(l=l.getParent())){o=null;break}a=l.getPreviousSibling()}null!==l&&(s=l.isInline()?0:2,o=r.$isElementNode(a)?a.getLastDescendant():a)}if(""===(a=i.getTextContent())&&r.$isElementNode(i)&&!i.isInline()&&(a="\n\n"),l=i.getTextContentSize(),!r.$isTextNode(i)||n>=l)a=i.getParent(),i.remove(),null==a||0!==a.getChildrenSize()||r.$isRootNode(a)||a.remove(),n-=l+s,i=o;else{let u=i.getKey();s=e.getEditorState().read((()=>{const e=r.$getNodeByKey(u);return r.$isTextNode(e)&&e.isSimpleText()?e.getTextContent():null})),o=l-n;let d=a.slice(0,o);null!==s&&s!==a?(n=r.$getPreviousSelection(),l=i,i.isSimpleText()?i.setTextContent(s):(l=r.$createTextNode(s),i.replace(l)),r.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,l.select(n,n))):i.isSimpleText()?(s=t.key===u,(a=t.offset)<n&&(a=l),n=s?a-n:0,l=s?a:o,s&&0===n?([n]=i.splitText(n,l),n.remove()):([,n]=i.splitText(n,l),n.remove())):(n=r.$createTextNode(d),i.replace(n)),n=0}}}},302977:(e,t,n)=>{"use strict";const r=n(328263);e.exports=r},328263:(e,t,n)=>{"use strict";var r=n(932998);function i(e,t=!0){return!e&&(e=l(),t&&(e=e.trim()),""===e)}function l(){return r.$getRoot().getTextContent()}function o(e){if(!i(e,!1))return!1;let t=(e=r.$getRoot().getChildren()).length;if(1<t)return!1;for(let i=0;i<t;i++){var n=e[i];if(r.$isDecoratorNode(n))return!1;if(r.$isElementNode(n)){if(!r.$isParagraphNode(n)||0!==n.__indent)return!1;let e=(n=n.getChildren()).length;for(let t=0;t<e;t++)if(!r.$isTextNode(n[i]))return!1}}return!0}t.$canShowPlaceholder=o,t.$canShowPlaceholderCurry=function(e){return()=>o(e)},t.$findTextIntersectionFromCharacters=function(e,t){var n=e.getFirstChild();e=0;e:for(;null!==n;){if(r.$isElementNode(n)){var i=n.getFirstChild();if(null!==i){n=i;continue}}else if(r.$isTextNode(n)){if(e+(i=n.getTextContentSize())>t)return{node:n,offset:t-e};e+=i}if(null===(i=n.getNextSibling())){for(n=n.getParent();null!==n;){if(null!==(i=n.getNextSibling())){n=i;continue e}n=n.getParent()}break}n=i}return null},t.$isRootTextContentEmpty=i,t.$isRootTextContentEmptyCurry=function(e,t){return()=>i(e,t)},t.$rootTextContent=l,t.registerLexicalTextEntity=function(e,t,n,i){let l=e=>{const t=r.$createTextNode(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(r.TextNode,(e=>{if(e.isSimpleText()){var o=e.getPreviousSibling(),s=e.getTextContent(),a=e;if(r.$isTextNode(o)){var u=o.getTextContent(),d=t(u+s);if(o instanceof n){if(null===d||0!==o.getLatest().__mode)return void l(o);if(0<(d=d.end-u.length))return a=u+(a=s.slice(0,d)),o.select(),o.setTextContent(a),void(d===s.length?e.remove():(o=s.slice(d),e.setTextContent(o)))}else if(null===d||d.start<u.length)return}for(;;){if(s=d=null===(e=t(s))?"":s.slice(e.end),""===d){if(u=a.getNextSibling(),r.$isTextNode(u)){if(d=a.getTextContent()+u.getTextContent(),null===(d=t(d))){u instanceof n?l(u):u.markDirty();break}if(0!==d.start)break}}else if(null!==(u=t(d))&&0===u.start)break;if(null===e)break;if(0===e.start&&r.$isTextNode(o)&&o.isTextEntity())continue;let c;if(0===e.start?[c,a]=a.splitText(e.end):[,c,a]=a.splitText(e.start,e.end),(e=i(c)).setFormat(c.getFormat()),c.replace(e),null==a)break}}})),e=e.registerNodeTransform(n,(e=>{var i=e.getTextContent();const o=t(i);null===o||0!==o.start?l(e):i.length>o.end?e.splitText(o.end):(i=e.getPreviousSibling(),r.$isTextNode(i)&&i.isTextEntity()&&(l(i),l(e)),i=e.getNextSibling(),r.$isTextNode(i)&&i.isTextEntity()&&(l(i),e instanceof n&&l(e)))}))]}},376969:(e,t,n)=>{"use strict";const r=n(487502);e.exports=r},487502:(e,t,n)=>{"use strict";var r=n(389408),i=n(932998);function l(e,t){for(let n of t)if(e.type.startsWith(n))return!0;return!1}function o(e,t){for(;e!==i.$getRoot()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function s(e){return 1===e.nodeType}t.$splitNode=i.$splitNode,t.$dfs=function(e,t){let n=[];e=(e||i.$getRoot()).getLatest(),t=t||(i.$isElementNode(e)?e.getLastDescendant():e);for(var r=e,l=0;null!==(r=r.getParent());)l++;for(r=l;null!==e&&!e.is(t);)if(n.push({depth:r,node:e}),i.$isElementNode(e)&&0<e.getChildrenSize())e=e.getFirstChild(),r++;else for(l=null;null===l&&null!==e;)null===(l=e.getNextSibling())?(e=e.getParent(),r--):e=l;return null!==e&&e.is(t)&&n.push({depth:r,node:e}),n},t.$findMatchingParent=o,t.$getNearestBlockElementAncestorOrThrow=function(e){if(e=o(e,(e=>i.$isElementNode(e)&&!e.isInline())),!i.$isElementNode(e))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e},t.$getNearestNodeOfType=function(e,t){for(;null!=e;){if(e instanceof t)return e;e=e.getParent()}return null},t.$insertNodeToNearestRoot=function(e){var t=i.$getSelection();if(i.$isRangeSelection(t)){var{focus:n}=t;if(t=n.getNode(),n=n.offset,i.$isRootOrShadowRoot(t))null==(n=t.getChildAtIndex(n))?t.append(e):n.insertBefore(e),e.selectNext();else{let r,l;i.$isTextNode(t)?(r=t.getParentOrThrow(),l=t.getIndexWithinParent(),0<n&&(l+=1,t.splitText(n))):(r=t,l=n),[,t]=i.$splitNode(r,l),t.insertBefore(e),t.selectStart()}}else i.$isNodeSelection(t)||i.DEPRECATED_$isGridSelection(t)?(t=t.getNodes())[t.length-1].getTopLevelElementOrThrow().insertAfter(e):i.$getRoot().append(e),t=i.$createParagraphNode(),e.insertAfter(t),t.select();return e.getLatest()},t.$restoreEditorState=function(e,t){let n=new Map,l=e._pendingEditorState;for(let[e,l]of t._nodeMap){let t=r.$cloneWithProperties(l);i.$isTextNode(t)&&(t.__text=l.__text),n.set(e,t)}l&&(l._nodeMap=n),e._dirtyType=2,e=t._selection,i.$setSelection(null===e?null:e.clone())},t.$wrapNodeInElement=function(e,t){return t=t(),e.replace(t),t.append(e),t},t.addClassNamesToElement=function(e,...t){t.forEach((t=>{"string"==typeof t&&(t=t.split(" ").filter((e=>""!==e)),e.classList.add(...t))}))},t.isHTMLAnchorElement=function(e){return s(e)&&"A"===e.tagName},t.isHTMLElement=s,t.isMimeType=l,t.mediaFileReader=function(e,t){let n=e[Symbol.iterator]();return new Promise(((e,r)=>{let i=[],o=()=>{const{done:s,value:a}=n.next();if(s)return e(i);const u=new FileReader;u.addEventListener("error",r),u.addEventListener("load",(()=>{const e=u.result;"string"==typeof e&&i.push({file:a,result:e}),o()})),l(a,t)?u.readAsDataURL(a):o()};o()}))},t.mergeRegister=function(...e){return()=>{e.forEach((e=>e()))}},t.registerNestedElementResolver=function(e,t,n,r){return e.registerNodeTransform(t,(e=>{e:{for(var i=e.getChildren(),l=0;l<i.length;l++)if(i[l]instanceof t){i=null;break e}for(i=e;null!==i;)if(l=i,(i=i.getParent())instanceof t){i={child:l,parent:i};break e}i=null}if(null!==i){const{child:t,parent:o}=i;if(t.is(e)){if(r(o,e),i=(e=t.getNextSiblings()).length,o.insertAfter(t),0!==i){l=n(o),t.insertAfter(l);for(let t=0;t<i;t++)l.append(e[t])}o.canBeEmpty()||0!==o.getChildrenSize()||o.remove()}}}))},t.removeClassNamesFromElement=function(e,...t){t.forEach((t=>{"string"==typeof t&&e.classList.remove(...t.split(" "))}))}},932998:(e,t,n)=>{"use strict";const r=n(734556);e.exports=r},734556:(e,t)=>{"use strict";let n={},r={},i={},l={},o={},s={},a={},u={},d={},c={},f={},h={},g={},_={},p={},m={},y={},v={},x={},C={},T={},N={},E={},S={},w={},D={},b={},k={},O={},M={},A={},R={},$={},P={},I={};function L(e){throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?code=${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let F="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,B=F&&"documentMode"in document?document.documentMode:null,W=F&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),z=F&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),K=!(!F||!("InputEvent"in window)||B)&&"getTargetRanges"in new window.InputEvent("input"),j=F&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Y=F&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,H=F&&/^(?=.*Chrome).*/i.test(navigator.userAgent),U=F&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!H,G=j||Y||U?" ":"​",J=z?" ":G,V=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,X=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,q={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Q={directionless:1,unmergeable:2},Z={center:2,end:6,justify:4,left:1,right:3,start:5},ee={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},te={normal:0,segmented:2,token:1},ne={0:"normal",2:"segmented",1:"token"},re=!1,ie=0;function le(e){ie=e.timeStamp}function oe(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function se(e,t,n){re=!0;let r=100<performance.now()-ie;try{Sr(e,(()=>{let i=er()||function(e){return e.getEditorState().read((()=>{let e=er();return null!==e?e.clone():null}))}(e);var l=new Map,o=e.getRootElement(),s=e._editorState,a=e._blockCursorElement;let u=!1,d="";for(var c=0;c<t.length;c++){var f=t[c],h=f.type,g=f.target,_=we(g,s);if(!(null===_&&g!==o||Dr(_)))if("characterData"===h){if(f=r&&kn(_))e:{h=g;var p=_;if(Fn(f=i)){var m=f.anchor.getNode();if(m.is(p)&&f.format!==m.getFormat()){f=!1;break e}}f=3===h.nodeType&&p.isAttached()}f&&(h=f=null,null!==(p=et(e._window))&&p.anchorNode===g&&(f=p.anchorOffset,h=p.focusOffset),null!==(g=g.nodeValue)&&Ie(_,g,f,h,!1))}else if("childList"===h){for(u=!0,h=f.addedNodes,p=0;p<h.length;p++){var y=Se(m=h[p]),v=m.parentNode;null==v||m===a||null!==y||"BR"===m.nodeName&&oe(m,v,e)||(z&&(y=m.innerText||m.nodeValue)&&(d+=y),v.removeChild(m))}if(0<(h=(f=f.removedNodes).length)){for(p=0,m=0;m<h;m++)("BR"===(v=f[m]).nodeName&&oe(v,g,e)||a===v)&&(g.appendChild(v),p++);h!==p&&(g===o&&(_=s._nodeMap.get("root")),l.set(g,_))}}}if(0<l.size)for(let[t,n]of l)if(kr(n))for(l=n.getChildrenKeys(),o=t.firstChild,s=0;s<l.length;s++)null!==(a=e.getElementByKey(l[s]))&&(null==o?(t.appendChild(a),o=a):o!==a&&t.replaceChild(a,o),o=o.nextSibling);else kn(n)&&n.markDirty();if(0<(l=n.takeRecords()).length){for(o=0;o<l.length;o++)for(s=(a=l[o]).addedNodes,a=a.target,c=0;c<s.length;c++)null==(g=(_=s[c]).parentNode)||"BR"!==_.nodeName||oe(_,a,e)||g.removeChild(_);n.takeRecords()}null!==i&&(u&&(i.dirty=!0,Oe(i)),z&&ze(e)&&i.insertRawText(d))}))}finally{re=!1}}function ae(e){let t=e._observer;if(null!==t){se(e,t.takeRecords(),t)}}function ue(e){0===ie&&Ue(e).addEventListener("textInput",le,!0),e._observer=new MutationObserver(((t,n)=>{se(e,t,n)}))}let de=1,ce="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function fe(e){let t=document.activeElement;if(null===t)return!1;let n=t.nodeName;return Dr(we(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function he(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!fe(t)&&ge(t)===e}catch(e){return!1}}function ge(e){for(;null!=e;){let t=e.__lexicalEditor;if(null!=t)return t;e=Ye(e)}return null}function _e(e){return e.isToken()||e.isSegmented()}function pe(e){for(;null!=e;){if(3===e.nodeType)return e;e=e.firstChild}return null}function me(e,t,n){return e&(t=q[t])&&(null===n||0==(n&t))?e^t:null===n||n&t?e|t:e}function ye(e){return kn(e)||hn(e)||Dr(e)}function ve(e,t){if(null!=t)e.__key=t;else{gr(),99<cr&&L(14),t=pr();var n=_r(),r=""+de++;n._nodeMap.set(r,e),kr(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function xe(e){var t=e.getParent();if(null!==t){let i=e.getWritable();t=t.getWritable();var n=e.getPreviousSibling();if(e=e.getNextSibling(),null===n)if(null!==e){var r=e.getWritable();t.__first=e.__key,r.__prev=null}else t.__first=null;else{if(r=n.getWritable(),null!==e){let t=e.getWritable();t.__prev=r.__key,r.__next=t.__key}else r.__next=null;i.__prev=null}null===e?null!==n?(e=n.getWritable(),t.__last=n.__key,e.__next=null):t.__last=null:(e=e.getWritable(),null!==n?((n=n.getWritable()).__next=e.__key,e.__prev=n.__key):e.__prev=null,i.__next=null),t.__size--,i.__parent=null}}function Ce(e){99<cr&&L(14);var t=e.getLatest(),n=t.__parent,r=_r();let i=pr(),l=r._nodeMap;if(r=i._dirtyElements,null!==n)e:for(;null!==n&&!r.has(n);){let e=l.get(n);if(void 0===e)break;r.set(n,!1),n=e.__parent}t=t.__key,i._dirtyType=1,kr(e)?r.set(t,!0):i._dirtyLeaves.add(t)}function Te(e){gr();var t=pr();let n=t._compositionKey;e!==n&&(t._compositionKey=e,null!==n&&(null!==(t=Ee(n))&&t.getWritable()),null!==e&&(null!==(e=Ee(e))&&e.getWritable()))}function Ne(){return hr()?null:pr()._compositionKey}function Ee(e,t){return void 0===(e=(t||_r())._nodeMap.get(e))?null:e}function Se(e,t){return void 0!==(e=e[`__lexicalKey_${pr()._key}`])?Ee(e,t):null}function we(e,t){for(;null!=e;){let n=Se(e,t);if(null!==n)return n;e=Ye(e)}return null}function De(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t}function be(e){return e.read((()=>ke().getTextContent()))}function ke(){return _r()._nodeMap.get("root")}function Oe(e){gr();let t=_r();null!==e&&(e.dirty=!0,e._cachedNodes=null),t._selection=e}function Me(e){var t,n=pr();e:{for(t=e;null!=t;){let e=t[`__lexicalKey_${n._key}`];if(void 0!==e){t=e;break e}t=Ye(t)}t=null}return null===t?e===(n=n.getRootElement())?Ee("root"):null:Ee(t)}function Ae(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function Re(e){let t=[];for(;null!==e;)t.push(e),e=e._parentEditor;return t}function $e(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Pe(e,t,n){if(null!==(t=et(t._window))){var r=t.anchorNode,{anchorOffset:i,focusOffset:l}=t;if(null!==r&&(t=3===r.nodeType?r.nodeValue:null,r=we(r),null!==t&&kn(r))){if(t===G&&n){t=n,l=i=n.length}null!==t&&Ie(r,t,i,l,e)}}}function Ie(e,t,n,r,i){let l=e;if(l.isAttached()&&(i||!l.isDirty())){let u=l.isComposing(),d=t;if((u||i)&&t[t.length-1]===G&&(d=t.slice(0,-1)),t=l.getTextContent(),i||d!==t)if(""===d)if(Te(null),j||Y||U)l.remove();else{let e=pr();setTimeout((()=>{e.update((()=>{l.isAttached()&&l.remove()}))}),20)}else{i=l.getParent(),t=tr();var o=l.getTextContentSize(),s=Ne(),a=l.getKey();l.isToken()||null!==s&&a===s&&!u||Fn(t)&&(null!==i&&!i.canInsertTextBefore()&&0===t.anchor.offset||t.anchor.key===e.__key&&0===t.anchor.offset&&!l.canInsertTextBefore()||t.focus.key===e.__key&&t.focus.offset===o&&!l.canInsertTextAfter())?l.markDirty():(Fn(e=er())&&null!==n&&null!==r&&(e.setTextNodeRange(l,n,l,r),l.isSegmented()&&(n=bn(n=l.getTextContent()),l.replace(n),l=n)),l.setTextContent(d))}}}function Le(e,t){var n=e[t];return"string"==typeof n?(n=n.split(" "),e[t]=n):n}function Fe(e,t,n,r,i){0!==n.size&&(n=r.__key,void 0===(t=t.get(r.__type))&&L(33),r=t.klass,void 0===(t=e.get(r))&&(t=new Map,e.set(r,t)),r="destroyed"===(e=t.get(n))&&"created"===i,(void 0===e||r)&&t.set(n,r?"updated":i))}function Be(e,t,n){let r=e.getParent(),i=n;return null!==r&&(t&&0===n?(i=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(i=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?i-1:i)}function We(e,t){var n=e.offset;return"element"===e.type?Be(e=e.getNode(),t,n):(e=e.getNode(),t&&0===n||!t&&n===e.getTextContentSize()?null===(n=t?e.getPreviousSibling():e.getNextSibling())?Be(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n:null)}function ze(e){return"insertFromPaste"===(e=(e=Ue(e).event)&&e.inputType)||"insertFromPasteAsQuotation"===e}function Ke(e){return!Ar(e)&&!e.isLastChild()&&!e.isInline()}function je(e,t){return void 0===(e=e._keyToDOMMap.get(t))&&L(75),e}function Ye(e){return null!==(e=e.assignedSlot||e.parentElement)&&11===e.nodeType?e.host:e}function He(e,t){for(e=e.getParent();null!==e;){if(e.is(t))return!0;e=e.getParent()}return!1}function Ue(e){return null===(e=e._window)&&L(78),e}function Ge(e){for(e=e.getParentOrThrow();null!==e&&!Je(e);)e=e.getParentOrThrow();return e}function Je(e){return Ar(e)||kr(e)&&e.isShadowRoot()}function Ve(e){return ve(e=e.constructor.clone(e),null),e}function Xe(e){var t=pr();let n=e.constructor.getType();return void 0===(t=t._nodes.get(n))&&L(97),null!==(t=t.replace)?((t=t(e))instanceof e.constructor||L(98),t):e}function qe(e,t){!Ar(e=e.getParent())||kr(t)||Dr(t)||L(99)}function Qe(e){return(Dr(e)||kr(e)&&!e.canBeEmpty())&&!e.isInline()}function Ze(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,null!==(t=e.parentElement)&&t.removeChild(e)}function et(e){return F?(e||window).getSelection():null}function tt(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),Je(e)&&L(102);let r=e=>{const t=e.getParentOrThrow(),i=Je(t),l=e!==n||i?Ve(e):e;if(i)return e.insertAfter(l),[e,l,l];const[o,s,a]=r(t);return e=e.getNextSiblings(),a.append(l,...e),[o,s,l]},[i,l]=r(n);return[i,l]}function nt(e,t){for(;e!==ke()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function rt(e){let t=[],n=[e];for(;0<n.length;){let r=n.pop();void 0===r&&L(112),kr(r)&&n.unshift(...r.getChildren()),r!==e&&t.push(r)}return t}function it(e,t,n,r,i,l){for(e=e.getFirstChild();null!==e;){let o=e.__key;e.__parent===t&&(kr(e)&&it(e,o,n,r,i,l),n.has(o)||l.delete(o),i.push(o)),e=e.getNextSibling()}}function lt(e,t){let n=e.__mode,r=e.__format;e=e.__style;let i=t.__mode,l=t.__format;return t=t.__style,!(null!==n&&n!==i||null!==r&&r!==l||null!==e&&e!==t)}function ot(e,t){let n=e.mergeWithSibling(t),r=pr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function st(e){if(""===e.__text&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t;null!==(t=e.getPreviousSibling())&&kn(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){lt(t,e)&&(e=ot(t,e));break}t.remove()}for(var n;null!==(n=e.getNextSibling())&&kn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){lt(e,n)&&ot(e,n);break}n.remove()}}}function at(e){return ut(e.anchor),ut(e.focus),e}function ut(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),kn(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}if(!kr(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}let dt,ct,ft,ht,gt,_t,pt,mt,yt,vt,xt="",Ct="",Tt="",Nt=!1,Et=!1,St=null;function wt(e,t){let n=pt.get(e);if(null!==t){let n=Wt(e);n.parentNode===t&&t.removeChild(n)}mt.has(e)||ct._keyToDOMMap.delete(e),kr(n)&&Dt(e=It(n,pt),0,e.length-1,null),void 0!==n&&Fe(vt,ft,ht,n,"destroyed")}function Dt(e,t,n,r){for(;t<=n;++t){let n=e[t];void 0!==n&&wt(n,r)}}function bt(e,t){e.setProperty("text-align",t)}function kt(e,t){var n=dt.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px",e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${n})`)}function Ot(e,t){e=e.style,0===t?bt(e,""):1===t?bt(e,"left"):2===t?bt(e,"center"):3===t?bt(e,"right"):4===t?bt(e,"justify"):5===t?bt(e,"start"):6===t&&bt(e,"end")}function Mt(e,t,n){let r=mt.get(e);void 0===r&&L(60);let i=r.createDOM(dt,ct);var l=ct._keyToDOMMap;if(i["__lexicalKey_"+ct._key]=e,l.set(e,i),kn(r)?i.setAttribute("data-lexical-text","true"):Dr(r)&&i.setAttribute("data-lexical-decorator","true"),kr(r)){if(e=r.__indent,l=r.__size,0!==e&&kt(i,e),0!==l){--l,e=It(r,mt);var o=Ct;Ct="",At(e,r,0,l,i,null),Pt(r,i),Ct=o}0!==(e=r.__format)&&Ot(i,e),r.isInline()||$t(null,r,i),Ke(r)&&(xt+="\n\n",Tt+="\n\n")}else l=r.getTextContent(),Dr(r)?(null!==(o=r.decorate(ct,dt))&&Ft(e,o),i.contentEditable="false"):kn(r)&&(r.isDirectionless()||(Ct+=l)),xt+=l,Tt+=l;return null!==t&&(null!=n?t.insertBefore(i,n):null!=(n=t.__lexicalLineBreak)?t.insertBefore(i,n):t.appendChild(i)),Fe(vt,ft,ht,r,"created"),i}function At(e,t,n,r,i,l){let o=xt;for(xt="";n<=r;++n)Mt(e[n],i,l);Ke(t)&&(xt+="\n\n"),i.__lexicalTextContent=xt,xt=o+xt}function Rt(e,t){return hn(e=t.get(e))||Dr(e)&&e.isInline()}function $t(e,t,n){e=null!==e&&(0===e.__size||Rt(e.__last,pt)),t=0===t.__size||Rt(t.__last,mt),e?t||(null!=(t=n.__lexicalLineBreak)&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function Pt(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==Ct||n!==St){let l=""===Ct;if(l)var r=St;else r=Ct,r=V.test(r)?"rtl":X.test(r)?"ltr":null;if(r!==n){let o=t.classList,s=dt.theme;var i=null!==n?s[n]:void 0;let a=null!==r?s[r]:void 0;void 0!==i&&("string"==typeof i&&(i=i.split(" "),i=s[n]=i),o.remove(...i)),null===r||l&&"ltr"===r?t.removeAttribute("dir"):(void 0!==a&&("string"==typeof a&&(n=a.split(" "),a=s[r]=n),void 0!==a&&o.add(...a)),t.dir=r),Et||(e.getWritable().__dir=r)}St=r,t.__lexicalDirTextContent=Ct,t.__lexicalDir=r}}function It(e,t){let n=[];for(e=e.__first;null!==e;){let r=t.get(e);void 0===r&&L(101),n.push(e),e=r.__next}return n}function Lt(e,t){var n=pt.get(e),r=mt.get(e);void 0!==n&&void 0!==r||L(61);var i=Nt||_t.has(e)||gt.has(e);let l=je(ct,e);if(n===r&&!i)return kr(n)?(void 0!==(r=l.__lexicalTextContent)&&(xt+=r,Tt+=r),void 0!==(r=l.__lexicalDirTextContent)&&(Ct+=r)):(r=n.getTextContent(),kn(n)&&!n.isDirectionless()&&(Ct+=r),Tt+=r,xt+=r),l;if(n!==r&&i&&Fe(vt,ft,ht,r,"updated"),r.updateDOM(n,l,dt))return r=Mt(e,null,null),null===t&&L(62),t.replaceChild(r,l),wt(e,null),r;if(kr(n)&&kr(r)){if((e=r.__indent)!==n.__indent&&kt(l,e),(e=r.__format)!==n.__format&&Ot(l,e),i){e=r,i=Ct,Ct="",t=xt;var o=n.__size,s=e.__size;if(xt="",1===o&&1===s){var a=n.__first,u=e.__first;if(a===u)Lt(a,l);else{var d=Wt(a);u=Mt(u,null,null),l.replaceChild(u,d),wt(a,null)}}else{u=It(n,pt);var c=It(e,mt);if(0===o)0!==s&&At(c,e,0,s-1,l,null);else if(0===s)0!==o&&(Dt(u,0,o-1,(a=null==l.__lexicalLineBreak)?null:l),a&&(l.textContent=""));else{var f=u;u=c,c=o-1,o=s-1;let t=l.firstChild,n=0;for(s=0;n<=c&&s<=o;){var h=f[n];let e=u[s];if(h===e)t=Bt(Lt(e,l)),n++,s++;else{void 0===a&&(a=new Set(f)),void 0===d&&(d=new Set(u));let r=d.has(h),i=a.has(e);r?(i?((h=je(ct,e))===t?t=Bt(Lt(e,l)):(null!=t?l.insertBefore(h,t):l.appendChild(h),Lt(e,l)),n++):Mt(e,l,t),s++):(t=Bt(Wt(h)),wt(h,l),n++)}}d=s>o,(a=n>c)&&!d?At(u,e,s,o,l,a=void 0===(a=u[o+1])?null:ct.getElementByKey(a)):d&&!a&&Dt(f,n,c,l)}}Ke(e)&&(xt+="\n\n"),l.__lexicalTextContent=xt,xt=t+xt,Pt(e,l),Ct=i,Ar(r)||r.isInline()||$t(n,r,l)}Ke(r)&&(xt+="\n\n",Tt+="\n\n")}else n=r.getTextContent(),Dr(r)?null!==(i=r.decorate(ct,dt))&&Ft(e,i):kn(r)&&!r.isDirectionless()&&(Ct+=n),xt+=n,Tt+=n;return!Et&&Ar(r)&&r.__cachedText!==Tt&&((r=r.getWritable()).__cachedText=Tt),l}function Ft(e,t){let n=ct._pendingDecorators,r=ct._decorators;if(null===n){if(r[e]===t)return;n=De(ct)}n[e]=t}function Bt(e){return null!==(e=e.nextSibling)&&e===ct._blockCursorElement&&(e=e.nextSibling),e}function Wt(e){return void 0===(e=yt.get(e))&&L(75),e}let zt=Object.freeze({}),Kt=[["keydown",function(e,t){if(jt=e.timeStamp,Yt=e.keyCode,!t.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:o,metaKey:s,altKey:a}=e;if(!Tr(t,_,e)){if(39!==n||o||s||a)if(39!==n||a||r||!o&&!s)if(37!==n||o||s||a)if(37!==n||a||r||!o&&!s)if(38!==n||o||s)if(40!==n||o||s)if(13===n&&r)Xt=!0,Tr(t,T,e);else if(32===n)Tr(t,N,e);else if(W&&o&&79===n)e.preventDefault(),Xt=!0,Tr(t,l,!0);else if(13!==n||r)if(W?a||s||!(8===n||72===n&&o):o||a||s||8!==n)if(27===n)Tr(t,S,e);else if(W?r||a||s||!(46===n||68===n&&o):o||a||s||46!==n)if(8===n&&(W?a:o))e.preventDefault(),Tr(t,d,!0);else if(46===n&&(W?a:o))e.preventDefault(),Tr(t,d,!1);else if(W&&s&&8===n)e.preventDefault(),Tr(t,c,!0);else if(W&&s&&46===n)e.preventDefault(),Tr(t,c,!1);else if(66===n&&!a&&(W?s:o))e.preventDefault(),Tr(t,f,"bold");else if(85===n&&!a&&(W?s:o))e.preventDefault(),Tr(t,f,"underline");else if(73===n&&!a&&(W?s:o))e.preventDefault(),Tr(t,f,"italic");else if(9!==n||a||o||s)if(90===n&&!r&&(W?s:o))e.preventDefault(),Tr(t,h,void 0);else{var u=W?90===n&&s&&r:89===n&&o||90===n&&o&&r;u?(e.preventDefault(),Tr(t,g,void 0)):Kn(t._editorState._selection)&&((u=!r&&(67===n&&(W?s:o)))?(e.preventDefault(),Tr(t,A,e)):(u=!r&&(88===n&&(W?s:o)))?(e.preventDefault(),Tr(t,R,e)):65===n&&(W?s:o)&&(e.preventDefault(),t.update((()=>{let e=ke();e.select(0,e.getChildrenSize())}))))}else Tr(t,D,e);else 46===n?Tr(t,w,e):(e.preventDefault(),Tr(t,i,!1));else 8===n?Tr(t,E,e):(e.preventDefault(),Tr(t,i,!0));else Xt=!1,Tr(t,T,e);else Tr(t,C,e);else Tr(t,x,e);else Tr(t,v,e);else Tr(t,y,e);else Tr(t,m,e);else Tr(t,p,e);(o||r||a||s)&&Tr(t,I,e)}}}],["pointerdown",function(e,t){let n=e.target;e=e.pointerType,n instanceof Node&&"touch"!==e&&Sr(t,(()=>{Dr(we(n))||(Vt=!0)}))}],["compositionstart",function(e,t){Sr(t,(()=>{let n=er();if(Fn(n)&&!t.isComposing()){let r=n.anchor,i=n.anchor.getNode();Te(r.key),(e.timeStamp<jt+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&Tr(t,s,J)}}))}],["compositionend",function(e,t){z?qt=!0:Sr(t,(()=>{rn(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),Sr(t,(()=>{var n=er(),r=e.data,i=nn(e);if(null!=r&&Fn(n)&&Zt(n,i,r,e.timeStamp,!1)){qt&&(rn(t,r),qt=!1);var l=n.anchor,o=l.getNode();if(null===(i=et(t._window)))return;let a=l.offset;(l=K&&!n.isCollapsed()&&kn(o)&&null!==i.anchorNode)&&(l=(o=o.getTextContent().slice(0,a)+r+o.getTextContent().slice(a+n.focus.offset))===(3===(i=i.anchorNode).nodeType?i.nodeValue:null)),l||Tr(t,s,r),r=r.length,z&&1<r&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=r),j||Y||U||!t.isComposing()||(jt=0,Te(null))}else Pe(!1,t,null!==r?r:void 0),qt&&(rn(t,r||void 0),qt=!1);gr(),ae(n=pr())})),Ut=null}],["click",function(e,t){Sr(t,(()=>{let n=er();var i=et(t._window);let l=tr();if(i)if(Fn(n)){let t=n.anchor;var o=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!Ar(o)&&1===ke().getChildrenSize()&&o.getTopLevelElementOrThrow().isEmpty()&&null!==l&&n.is(l)?(i.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||o!==(i=n.focus.getNode())&&(kr(o)?o.select(0):o.getParentOrThrow().select(0))}else"touch"===e.pointerType&&(null!==(o=i.anchorNode)&&(1===(o=o.nodeType)||3===o))&&Oe(i=Zn(l,i,t));Tr(t,r,e)}))}],["cut",zt],["copy",zt],["dragstart",zt],["dragover",zt],["dragend",zt],["paste",zt],["focus",zt],["blur",zt],["drop",zt]];K&&Kt.push(["beforeinput",(e,t)=>function(e,t){let n=e.inputType,r=nn(e);"deleteCompositionText"===n||z&&ze(t)||"insertCompositionText"!==n&&Sr(t,(()=>{let _=er();if("deleteContentBackward"===n){if(null===_){var p=tr();if(!Fn(p))return;Oe(p.clone())}if(Fn(_))return void(229===Yt&&e.timeStamp<jt+30&&t.isComposing()&&_.anchor.key===_.focus.key?(Te(null),jt=0,setTimeout((()=>{Sr(t,(()=>{Te(null)}))}),30),Fn(_)&&(p=_.anchor.getNode(),p.markDirty(),_.format=p.getFormat(),_.style=p.getStyle())):(e.preventDefault(),Tr(t,i,!0)))}if(Fn(_)){p=e.data,null!==Ut&&Pe(!1,t,Ut),_.dirty&&null===Ut||!_.isCollapsed()||Ar(_.anchor.getNode())||null===r||_.applyDOMRange(r),Ut=null;var m=_.focus,y=_.anchor.getNode();if(m=m.getNode(),"insertText"===n||"insertTranspose"===n)"\n"===p?(e.preventDefault(),Tr(t,l,!1)):"\n\n"===p?(e.preventDefault(),Tr(t,o,void 0)):null==p&&e.dataTransfer?(p=e.dataTransfer.getData("text/plain"),e.preventDefault(),_.insertRawText(p)):null!=p&&Zt(_,r,p,e.timeStamp,!0)?(e.preventDefault(),Tr(t,s,p)):Ut=p,Ht=e.timeStamp;else switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Tr(t,s,e);break;case"insertFromComposition":Te(null),Tr(t,s,e);break;case"insertLineBreak":Te(null),Tr(t,l,!1);break;case"insertParagraph":Te(null),Xt?(Xt=!1,Tr(t,l,!1)):Tr(t,o,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Tr(t,a,e);break;case"deleteByComposition":(function(e,t){return e!==t||kr(e)||kr(t)||!e.isToken()||!t.isToken()})(y,m)&&Tr(t,u,void 0);break;case"deleteByDrag":case"deleteByCut":Tr(t,u,void 0);break;case"deleteContent":Tr(t,i,!1);break;case"deleteWordBackward":Tr(t,d,!0);break;case"deleteWordForward":Tr(t,d,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Tr(t,c,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Tr(t,c,!1);break;case"formatStrikeThrough":Tr(t,f,"strikethrough");break;case"formatBold":Tr(t,f,"bold");break;case"formatItalic":Tr(t,f,"italic");break;case"formatUnderline":Tr(t,f,"underline");break;case"historyUndo":Tr(t,h,void 0);break;case"historyRedo":Tr(t,g,void 0)}}}))}(e,t)]);let jt=0,Yt=0,Ht=0,Ut=null,Gt=0,Jt=!1,Vt=!1,Xt=!1,qt=!1,Qt=[0,"",0,"root",0];function Zt(e,t,n,r,i){let l=e.anchor,o=e.focus,s=l.getNode();var a=pr();let u=et(a._window),d=null!==u?u.anchorNode:null,c=l.key;a=a.getElementByKey(c);let f=n.length;return c!==o.key||!kn(s)||(!i&&(!K||Ht<r+50)||s.isDirty()&&2>f||Ae(n))&&l.offset!==o.offset&&!s.isComposing()||_e(s)||s.isDirty()&&1<f||(i||!K)&&null!==a&&!s.isComposing()&&d!==pe(a)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;let n=t.getParentOrThrow(),r=t.isToken();return 0===e?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=(kn(t=t.getPreviousSibling())||kr(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()||r)}(e,s)}function en(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function tn(e,t,r){let{anchorNode:i,anchorOffset:l,focusNode:o,focusOffset:s}=e;Jt&&(Jt=!1,en(i,l)&&en(o,s))||Sr(t,(()=>{if(r){if(he(t,i,o)){var l=er();if(Fn(l)){var s=l.anchor,a=s.getNode();if(l.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(l.dirty=!0);var u=Ue(t).event;u=u?u.timeStamp:performance.now();let[n,r,i,o,d]=Qt;u<d+200&&s.offset===i&&s.key===o?(l.format=n,l.style=r):"text"===s.type?(l.format=a.getFormat(),l.style=a.getStyle()):"element"===s.type&&(l.format=0,l.style="")}else{s=255,a=!1;let e=(u=l.getNodes()).length;for(let t=0;t<e;t++){let e=u[t];if(kn(e)&&(a=!0,0===(s&=e.getFormat())))break}l.format=a?s:0}}Tr(t,n,void 0)}}else Oe(null)}))}function nn(e){return e.getTargetRanges?0===(e=e.getTargetRanges()).length?null:e[0]:null}function rn(e,t){var n=e._compositionKey;if(Te(null),null!==n&&null!=t){if(""===t)return t=Ee(n),void(null!==(e=pe(e.getElementByKey(n)))&&null!==e.nodeValue&&kn(t)&&Ie(t,e.nodeValue,null,null,!0));if("\n"===t[t.length-1]&&Fn(n=er()))return t=n.focus,n.anchor.set(t.key,t.offset,t.type),void Tr(e,T,null)}Pe(!0,e,t)}function ln(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}let on=new Map;function sn(e){let t=et(null==(e=e.target)?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null!==t){var n=ge(t.anchorNode);if(null!==n){Vt&&(Vt=!1,Sr(n,(()=>{var e=tr(),r=t.anchorNode;null!==r&&(1===(r=r.nodeType)||3===r)&&Oe(e=Zn(e,t,n))})));var r=(e=(e=Re(n))[e.length-1])._key,i=on.get(r),l=i||e;l!==n&&tn(t,l,!1),tn(t,n,!0),n!==e?on.set(r,n):i&&on.delete(r)}}}function an(e,t,n){gr();var r=e.__key;let i=e.getParent();if(null!==i){var l=function(e,t=0){if(0!==t&&L(1),!Fn(t=er())||!kr(e))return t;let{anchor:n,focus:r}=t,i=n.getNode(),l=r.getNode();return He(i,e)&&n.set(e.__key,0,"element"),He(l,e)&&r.set(e.__key,0,"element"),t}(e),o=!1;if(Fn(l)&&t){let t=l.anchor,n=l.focus;t.key===r&&(ir(t,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0),n.key===r&&(ir(n,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0)}Fn(l)&&t&&!o?(r=e.getIndexWithinParent(),xe(e),nr(l,i,r,-1)):xe(e),n||Je(i)||i.canBeEmpty()||!i.isEmpty()||an(i,t),t&&Ar(i)&&i.isEmpty()&&i.selectEnd()}}class un{static getType(){L(64)}static clone(){L(65)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,ve(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;null!==e;){if("root"===e)return!0;if(null===(e=Ee(e)))break;e=e.__parent}return!1}isSelected(e){if(null==(e=e||er()))return!1;let t=e.getNodes().some((e=>e.__key===this.__key));return(kn(this)||!Fn(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(null===e)return-1;e=e.getFirstChild();let t=0;for(;null!==e;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return null===e?null:Ee(e)}getParentOrThrow(){let e=this.getParent();return null===e&&L(66),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(Je(t))return e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&L(67),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:Ee(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(null===t)return e;for(t=t.getFirstChild();null!==t&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:Ee(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var n=e.getParents();kr(this)&&t.unshift(this),kr(e)&&n.unshift(e),e=t.length;var r=n.length;if(0===e||0===r||t[e-1]!==n[r-1])return null;for(n=new Set(n),r=0;r<e;r++){let e=t[r];if(n.has(e))return e}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let n=this;for(;;){var r=n.getParentOrThrow();if(r===t){r=n.getIndexWithinParent();break}n=r}for(n=e;;){if((e=n.getParentOrThrow())===t){t=n.getIndexWithinParent();break}n=e}return r<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;null!==e;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),n=[],r=new Set;for(var i=this;;){var l=i.__key;if(r.has(l)||(r.add(l),n.push(i)),i===e)break;if(null!==(l=kr(i)?t?i.getFirstChild():i.getLastChild():null))i=l;else if(null!==(l=t?i.getNextSibling():i.getPreviousSibling()))i=l;else{if(i=i.getParentOrThrow(),r.has(i.__key)||n.push(i),i===e)break;l=i;do{null===l&&L(68),i=t?l.getNextSibling():l.getPreviousSibling(),null!==(l=l.getParent())&&(null!==i||r.has(l.__key)||n.push(l))}while(null===i)}}return t||n.reverse(),n}isDirty(){let e=pr()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=Ee(this.__key);return null===e&&L(113),e}getWritable(){gr();var e=_r(),t=pr();e=e._nodeMap;let n=this.__key,r=this.getLatest(),i=r.__parent;t=t._cloneNotNeeded;var l=er();return null!==l&&(l._cachedNodes=null),t.has(n)?(Ce(r),r):((l=r.constructor.clone(r)).__parent=i,l.__next=r.__next,l.__prev=r.__prev,kr(r)&&kr(l)?(l.__first=r.__first,l.__last=r.__last,l.__size=r.__size,l.__indent=r.__indent,l.__format=r.__format,l.__dir=r.__dir):kn(r)&&kn(l)&&(l.__format=r.__format,l.__style=r.__style,l.__mode=r.__mode,l.__detail=r.__detail),t.add(n),l.__key=n,Ce(l),e.set(n,l),l)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){L(70)}updateDOM(){L(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){L(72)}static importJSON(){L(18)}static transform(){return null}remove(e){an(this,!0,e)}replace(e,t){gr();var n=er();null!==n&&(n=n.clone()),qe(this,e);let r=this.getLatest(),i=this.__key,l=e.__key,o=e.getWritable(),s=(e=this.getParentOrThrow().getWritable()).__size;xe(o);let a=r.getPreviousSibling(),u=r.getNextSibling(),d=r.__prev,c=r.__next,f=r.__parent;return an(r,!1,!0),null===a?e.__first=l:a.getWritable().__next=l,o.__prev=d,null===u?e.__last=l:u.getWritable().__prev=l,o.__next=c,o.__parent=f,e.__size=s,t&&this.getChildren().forEach((e=>{o.append(e)})),Fn(n)&&(Oe(n),t=n.anchor,n=n.focus,t.key===i&&$n(t,o),n.key===i&&$n(n,o)),Ne()===i&&Te(l),o}insertAfter(e,t=!0){gr(),qe(this,e);var n=this.getWritable();let r=e.getWritable();var i=r.getParent();let l=er();var o=!1,s=!1;if(null!==i){var a=e.getIndexWithinParent();xe(r),Fn(l)&&(s=i.__key,o=l.anchor,i=l.focus,o="element"===o.type&&o.key===s&&o.offset===a+1,s="element"===i.type&&i.key===s&&i.offset===a+1)}i=this.getNextSibling(),a=this.getParentOrThrow().getWritable();let u=r.__key,d=n.__next;return null===i?a.__last=u:i.getWritable().__prev=u,a.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&Fn(l)&&(nr(l,a,(t=this.getIndexWithinParent())+1),n=a.__key,o&&l.anchor.set(n,t+2,"element"),s&&l.focus.set(n,t+2,"element")),e}insertBefore(e,t=!0){gr(),qe(this,e);var n=this.getWritable();let r=e.getWritable(),i=r.__key;xe(r);let l=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),s=n.__prev,a=this.getIndexWithinParent();return null===l?o.__first=i:l.getWritable().__next=i,o.__size++,n.__prev=i,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent,n=er(),t&&Fn(n)&&nr(n,t=this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return Fr()}selectPrevious(e,t){gr();let n=this.getPreviousSibling(),r=this.getParentOrThrow();return null===n?r.select(0,0):kr(n)?n.select():kn(n)?n.select(e,t):(e=n.getIndexWithinParent()+1,r.select(e,e))}selectNext(e,t){gr();let n=this.getNextSibling(),r=this.getParentOrThrow();return null===n?r.select():kr(n)?n.select(0,0):kn(n)?n.select(e,t):(e=n.getIndexWithinParent(),r.select(e,e))}markDirty(){this.getWritable()}}class dn extends un{static getType(){return"linebreak"}static clone(e){return new dn(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t,n,r=e.parentElement;return null!==r&&((t=r.firstChild)===e||t.nextSibling===e&&3===t.nodeType&&null!==(t.textContent||"").match(/^[\s|\r?\n|\t]+$/))&&((n=r.lastChild)===e||n.previousSibling===e&&3===n.nodeType&&null!==(n.textContent||"").match(/^[\s|\r?\n|\t]+$/))?null:{conversion:cn,priority:0}}}}static importJSON(){return fn()}exportJSON(){return{type:"linebreak",version:1}}}function cn(){return{node:fn()}}function fn(){return Xe(new dn)}function hn(e){return e instanceof dn}function gn(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function _n(e,t){return 1&t?"strong":2&t?"em":"span"}function pn(e,t,n,r,i){e=r.classList,void 0!==(r=Le(i,"base"))&&e.add(...r);let l=!1,o=8&t&&4&t;var s=8&n&&4&n;void 0!==(r=Le(i,"underlineStrikethrough"))&&(s?(l=!0,o||e.add(...r)):o&&e.remove(...r));for(let a in q)s=q[a],void 0!==(r=Le(i,a))&&(n&s&&(!l||"underline"!==a&&"strikethrough"!==a)?(0==(t&s)||o&&"underline"===a||"strikethrough"===a)&&e.add(...r):t&s&&e.remove(...r))}function mn(e,t,n){let r=t.firstChild;if(e+=(n=n.isComposing())?G:"",null==r)t.textContent=e;else if((t=r.nodeValue)!==e)if(n||z){n=t.length;let i=e.length,l=0,o=0;for(;l<n&&l<i&&t[l]===e[l];)l++;for(;o+l<n&&o+l<i&&t[n-o-1]===e[i-o-1];)o++;e=[l,n-l-o,e.slice(l,i-o)];let[s,a,u]=e;0!==a&&r.deleteData(s,a),r.insertData(s,u)}else r.nodeValue=e}function yn(e,t){return(t=document.createElement(t)).appendChild(e),t}class vn extends un{static getType(){return"text"}static clone(e){return new vn(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return ne[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===Ne()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(e){return e=q[e],0!=(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return me(this.getLatest().__format,e,t)}createDOM(e){var t=this.__format,n=gn(0,t);let r=_n(0,t),i=document.createElement(null===n?r:n),l=i;return null!==n&&(l=document.createElement(r),i.appendChild(l)),n=l,mn(this.__text,n,this),void 0!==(e=e.theme.text)&&pn(r,0,t,n,e),""!==(t=this.__style)&&(i.style.cssText=t),i}updateDOM(e,t,n){let r=this.__text;var i=e.__format,l=this.__format,o=gn(0,i);let s=gn(0,l);var a=_n(0,i);let u=_n(0,l);return(null===o?a:o)!==(null===s?u:s)||(o===s&&a!==u?(null==(i=t.firstChild)&&L(48),mn(r,e=o=document.createElement(u),this),void 0!==(n=n.theme.text)&&pn(u,0,l,e,n),t.replaceChild(o,i),!1):(a=t,null!==s&&null!==o&&(null==(a=t.firstChild)&&L(49)),mn(r,a,this),void 0!==(n=n.theme.text)&&i!==l&&pn(u,i,l,a,n),l=this.__style,e.__style!==l&&(t.style.cssText=l),!1))}static importDOM(){return{"#text":()=>({conversion:Nn,priority:0}),b:()=>({conversion:Cn,priority:0}),code:()=>({conversion:Dn,priority:0}),em:()=>({conversion:Dn,priority:0}),i:()=>({conversion:Dn,priority:0}),s:()=>({conversion:Dn,priority:0}),span:()=>({conversion:xn,priority:0}),strong:()=>({conversion:Dn,priority:0}),sub:()=>({conversion:Dn,priority:0}),sup:()=>({conversion:Dn,priority:0}),u:()=>({conversion:Dn,priority:0})}}static importJSON(e){let t=bn(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return({element:e}=super.exportDOM(e)),null!==e&&(this.hasFormat("bold")&&(e=yn(e,"b")),this.hasFormat("italic")&&(e=yn(e,"i")),this.hasFormat("strikethrough")&&(e=yn(e,"s")),this.hasFormat("underline")&&(e=yn(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?q[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?Q[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=q[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=te[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){gr();let n=er();var r=this.getTextContent();let i=this.__key;return"string"==typeof r?(r=r.length,void 0===e&&(e=r),void 0===t&&(t=r)):t=e=0,Fn(n)?((r=Ne())!==n.anchor.key&&r!==n.focus.key||Te(i),n.setTextNodeRange(this,e,this,t),n):qn(i,e,i,t,"text","text")}spliceText(e,t,n,r){let i=this.getWritable(),l=i.__text,o=n.length,s=e;0>s&&(s=o+s,0>s&&(s=0));let a=er();return r&&Fn(a)&&(e+=o,a.setTextNodeRange(i,e,i,e)),t=l.slice(0,s)+n+l.slice(s+t),i.__text=t,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){gr();var t=this.getLatest(),n=t.getTextContent(),r=t.__key,i=Ne(),l=new Set(e);e=[];for(var o=n.length,s="",a=0;a<o;a++)""!==s&&l.has(a)&&(e.push(s),s=""),s+=n[a];if(""!==s&&e.push(s),0===(l=e.length))return[];if(e[0]===n)return[t];var u=e[0];n=t.getParentOrThrow(),a=t.getFormat();let d=t.getStyle(),c=t.__detail;o=!1,t.isSegmented()?((s=bn(u)).__format=a,s.__style=d,s.__detail=c,o=!0):(s=t.getWritable()).__text=u,t=er(),s=[s],u=u.length;for(let n=1;n<l;n++){var f=e[n],h=f.length;(f=bn(f).getWritable()).__format=a,f.__style=d,f.__detail=c;let l=f.__key;if(h=u+h,Fn(t)){let e=t.anchor,n=t.focus;e.key===r&&"text"===e.type&&e.offset>u&&e.offset<=h&&(e.key=l,e.offset-=u,t.dirty=!0),n.key===r&&"text"===n.type&&n.offset>u&&n.offset<=h&&(n.key=l,n.offset-=u,t.dirty=!0)}i===r&&Te(l),u=h,s.push(f)}return r=this.getPreviousSibling(),i=this.getNextSibling(),null!==r&&Ce(r),null!==i&&Ce(i),r=n.getWritable(),i=this.getIndexWithinParent(),o?(r.splice(i,0,s),this.remove()):r.splice(i,1,s),Fn(t)&&nr(t,n,i,l-1),s}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||L(50);var n=this.__key;let r=e.__key,i=this.__text,l=i.length;Ne()===r&&Te(n);let o=er();if(Fn(o)){let i=o.anchor,s=o.focus;null!==i&&i.key===r&&(lr(i,t,n,e,l),o.dirty=!0),null!==s&&s.key===r&&(lr(s,t,n,e,l),o.dirty=!0)}return n=e.__text,this.setTextContent(t?n+i:i+n),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function xn(e){let t="700"===e.style.fontWeight,n="line-through"===e.style.textDecoration,r="italic"===e.style.fontStyle,i="underline"===e.style.textDecoration,l=e.style.verticalAlign;return{forChild:e=>kn(e)?(t&&e.toggleFormat("bold"),n&&e.toggleFormat("strikethrough"),r&&e.toggleFormat("italic"),i&&e.toggleFormat("underline"),"sub"===l&&e.toggleFormat("subscript"),"super"===l&&e.toggleFormat("superscript"),e):e,node:null}}function Cn(e){let t="normal"===e.style.fontWeight;return{forChild:e=>(kn(e)&&!t&&e.toggleFormat("bold"),e),node:null}}let Tn=new WeakMap;function Nn(e){if(null===e.parentElement)throw Error("Expected parentElement of Text not to be null");for(var t,n=e.textContent||"",r=e.parentNode,i=[e];null!==r&&void 0===(t=Tn.get(r))&&!("PRE"===r.nodeName||1===r.nodeType&&r.style.whiteSpace.startsWith("pre"));)i.push(r),r=r.parentNode;for(t=void 0===t?r:t,r=0;r<i.length;r++)Tn.set(i[r],t);if(null!==t){for(e=[],i=(n=n.split(/(\r?\n|\t)/)).length,t=0;t<i;t++)"\n"===(r=n[t])||"\r\n"===r?e.push(fn()):"\t"===r?e.push(Mn()):""!==r&&e.push(bn(r));return{node:e}}if(""===(n=n.replace(/\r?\n|\t/gm," ").replace("\r","").replace(/\s+/g," ")))return{node:null};if(" "===n[0]){for(i=e,t=!0;null!==i&&null!==(i=Sn(i,!1));)if(0<(r=i.textContent||"").length){r.match(/(?:\s|\r?\n|\t)$/)&&(n=n.slice(1)),t=!1;break}t&&(n=n.slice(1))}if(" "===n[n.length-1]){for(i=!0;null!==e&&null!==(e=Sn(e,!0));)if(0<(e.textContent||"").replace(/^[\s|\r?\n|\t]+/,"").length){i=!1;break}i&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:bn(n)}}let En=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function Sn(e,t){for(;;){for(var n=void 0;null===(n=t?e.nextSibling:e.previousSibling);)if(null===(e=e.parentElement))return null;if(1===(e=n).nodeType&&(""===(n=e.style.display)&&null===e.nodeName.match(En)||""!==n&&!n.startsWith("inline")))return null;for(;null!==(n=t?e.firstChild:e.lastChild);)e=n;if(3===e.nodeType)return e;if("BR"===e.nodeName)return null}}let wn={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Dn(e){let t=wn[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(kn(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e),node:null}}function bn(e=""){return Xe(new vn(e))}function kn(e){return e instanceof vn}class On extends vn{static getType(){return"tab"}static clone(e){let t=new On(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}static importJSON(e){let t=Mn();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){throw Error("TabNode does not support setTextContent")}setDetail(){throw Error("TabNode does not support setDetail")}setMode(){throw Error("TabNode does not support setMode")}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Mn(){return Xe(new On)}class An{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode(),r=this.offset;if(e=e.offset,kr(t)){var i=t.getDescendantByIndex(r);t=null!=i?i:t}return kr(n)&&(i=n.getDescendantByIndex(e),n=null!=i?i:n),t===n?r<e:t.isBefore(n)}getNode(){let e=Ee(this.key);return null===e&&L(20),e}set(e,t,n){let r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,hr()||(Ne()===i&&Te(e),null!==r&&(r._cachedNodes=null,r.dirty=!0))}}function Rn(e,t){let n=t.__key,r=e.offset,i="element";if(kn(t))i="text",r>(t=t.getTextContentSize())&&(r=t);else if(!kr(t)){var l=t.getNextSibling();kn(l)?(n=l.__key,r=0,i="text"):(l=t.getParent())&&(n=l.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,i)}function $n(e,t){if(kr(t)){let n=t.getLastDescendant();kr(n)||kn(n)?Rn(e,n):Rn(e,t)}else Rn(e,t)}function Pn(e,t,n,r){let i=e.getNode(),l=i.getChildAtIndex(e.offset),o=bn(),s=Ar(i)?Fr().append(o):o;o.setFormat(n),o.setStyle(r),null===l?i.append(s):l.insertBefore(s),e.is(t)&&t.set(o.__key,0,"text"),e.set(o.__key,0,"text")}function In(e,t,n,r){e.key=t,e.offset=n,e.type=r}class Ln{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!Kn(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Ln(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.getNodes(),r=n.length;var i=n[r-1];if(kn(i))i=i.select();else{let e=i.getIndexWithinParent()+1;i=i.getParentOrThrow().select(e,e)}for(i.insertNodes(e,t),e=0;e<r;e++)n[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(null!==e)return e;var t=this._nodes;e=[];for(let n of t)null!==(t=Ee(n))&&e.push(t);return hr()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Fn(e){return e instanceof zn}class Bn{constructor(e,t,n){this.gridKey=e,this.anchor=t,this.focus=n,this.dirty=!1,this._cachedNodes=null,t._selection=this,n._selection=this}is(e){return!!Wn(e)&&(this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus))}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new Bn(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Yn(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.focus.getNode();return at(n.select(0,n.getChildrenSize())).insertNodes(e,t)}getShape(){var e=Ee(this.anchor.key);null===e&&L(21);var t=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var n=Ee(this.focus.key);null===n&&L(22);var r=n.getIndexWithinParent();let i=n.getParentOrThrow().getIndexWithinParent();return n=Math.min(t,r),t=Math.max(t,r),r=Math.min(e,i),e=Math.max(e,i),{fromX:Math.min(n,t),fromY:Math.min(r,e),toX:Math.max(n,t),toY:Math.max(r,e)}}getNodes(){function e(e){let{cell:t,startColumn:n,startRow:r}=e;s=Math.min(s,n),a=Math.min(a,r),u=Math.max(u,n+t.__colSpan-1),d=Math.max(d,r+t.__rowSpan-1)}var t=this._cachedNodes;if(null!==t)return t;var n=this.anchor.getNode();t=this.focus.getNode(),n=nt(n,Kr);var r=nt(t,Kr);Kr(n)||L(103),Kr(r)||L(104),Ur(t=n.getParent())||L(105),Yr(t=t.getParent())||L(106);let[i,l,o]=or(t,n,r),s=Math.min(l.startColumn,o.startColumn),a=Math.min(l.startRow,o.startRow),u=Math.max(l.startColumn+l.cell.__colSpan-1,o.startColumn+o.cell.__colSpan-1),d=Math.max(l.startRow+l.cell.__rowSpan-1,o.startRow+o.cell.__rowSpan-1);n=s,r=a;for(var c=s,f=a;s<n||a<r||u>c||d>f;){if(s<n){var h=f-r;--n;for(var g=0;g<=h;g++)e(i[r+g][n])}if(a<r)for(h=c-n,--r,g=0;g<=h;g++)e(i[r][n+g]);if(u>c)for(h=f-r,c+=1,g=0;g<=h;g++)e(i[r+g][c]);if(d>f)for(h=c-n,f+=1,g=0;g<=h;g++)e(i[f][n+g])}for(t=[t],n=null,r=a;r<=d;r++)for(c=s;c<=u;c++)({cell:f}=i[r][c]),Ur(h=f.getParent())||L(107),h!==n&&t.push(h),t.push(f,...rt(f)),n=h;return hr()||(this._cachedNodes=t),t}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Wn(e){return e instanceof Bn}class zn{constructor(e,t,n,r){this.anchor=e,this.focus=t,this.dirty=!1,this.format=n,this.style=r,this._cachedNodes=null,e._selection=this,t._selection=this}is(e){return!!Fn(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style)}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(null!==e)return e;e=this.anchor;var t=this.focus,n=e.isBefore(t),r=n?e:t;n=n?t:e,e=r.getNode(),t=n.getNode();let i=r.offset;return r=n.offset,kr(e)&&(n=e.getDescendantByIndex(i),e=null!=n?n:e),kr(t)&&(null!==(n=t.getDescendantByIndex(r))&&n!==e&&t.getChildAtIndex(r)===n&&(n=n.getPreviousSibling()),t=null!=n?n:t),e=e.is(t)?kr(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),hr()||(this._cachedNodes=e),e}setTextNodeRange(e,t,n,r){In(this.anchor,e.__key,t,"text"),In(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,l=r.isBefore(i),[o,s]=Yn(this),a="",u=!0;for(let d=0;d<e.length;d++){let c=e[d];if(kr(c)&&!c.isInline())u||(a+="\n"),u=!c.isEmpty();else if(u=!1,kn(c)){let e=c.getTextContent();c===t?c===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=o<s?e.slice(o,s):e.slice(s,o)):e=l?e.slice(o):e.slice(s):c===n&&(e=l?e.slice(0,s):e.slice(0,o)),a+=e}else!Dr(c)&&!hn(c)||c===n&&this.isCollapsed()||(a+=c.getTextContent())}return a}applyDOMRange(e){let t=pr(),n=t.getEditorState()._selection;if(null!==(e=Vn(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n))){var[r,i]=e;In(this.anchor,r.key,r.offset,r.type),In(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new zn(new An(e.key,e.offset,e.type),new An(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=me(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return 0!=(this.format&q[e])}insertRawText(e){let t=[],n=(e=e.split(/(\r?\n|\t)/)).length;for(let r=0;r<n;r++){let n=e[r];"\n"===n||"\r\n"===n?t.push(fn()):"\t"===n?t.push(Mn()):t.push(bn(n))}this.insertNodes(t)}insertText(e){var t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),i=this.format,l=this.style;r&&"element"===t.type?Pn(t,n,i,l):r||"element"!==n.type||Pn(n,t,i,l);var o=this.getNodes(),s=o.length,a=r?n:t;n=(r?t:n).offset;var u=a.offset;kn(t=o[0])||L(26),r=t.getTextContent().length;var d=t.getParentOrThrow(),c=o[s-1];if(this.isCollapsed()&&n===r&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!d.canInsertTextAfter()&&null===t.getNextSibling())){var f=t.getNextSibling();if(kn(f)&&f.canInsertTextBefore()&&!_e(f)||((f=bn()).setFormat(i),d.canInsertTextAfter()?t.insertAfter(f):d.insertAfter(f)),f.select(0,0),t=f,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===n&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!d.canInsertTextBefore()&&null===t.getPreviousSibling())){if(kn(f=t.getPreviousSibling())&&!_e(f)||((f=bn()).setFormat(i),d.canInsertTextBefore()?t.insertBefore(f):d.insertBefore(f)),f.select(),t=f,""!==e)return void this.insertText(e)}else if(t.isSegmented()&&n!==r)(d=bn(t.getTextContent())).setFormat(i),t.replace(d),t=d;else if(!(this.isCollapsed()||""===e||(f=c.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!kr(f)||f.canInsertTextBefore()&&f.canInsertTextAfter()))))return this.insertText(""),Jn(this.anchor,this.focus,null),void this.insertText(e);if(1===s)if(t.isToken())(e=bn(e)).select(),t.replace(e);else{if(o=t.getFormat(),s=t.getStyle(),n===u&&(o!==i||s!==l)){if(""!==t.getTextContent())return(o=bn(e)).setFormat(i),o.setStyle(l),o.select(),0===n?t.insertBefore(o,!1):([s]=t.splitText(n),s.insertAfter(o,!1)),void(o.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));t.setFormat(i),t.setStyle(l)}""===(t=t.spliceText(n,u-n,e,!0)).getTextContent()?t.remove():"text"===this.anchor.type&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=o,this.style=s))}else{if(i=new Set([...t.getParentKeys(),...c.getParentKeys()]),f=kr(t)?t:t.getParentOrThrow(),l=kr(c)?c:c.getParentOrThrow(),d=c,!f.is(l)&&l.isInline())do{d=l,l=l.getParentOrThrow()}while(l.isInline());"text"===a.type&&(0!==u||""===c.getTextContent())||"element"===a.type&&c.getIndexWithinParent()<u?kn(c)&&!c.isToken()&&u!==c.getTextContentSize()?(c.isSegmented()&&(a=bn(c.getTextContent()),c.replace(a),c=a),c=c.spliceText(0,u,""),i.add(c.__key)):(a=c.getParentOrThrow()).canBeEmpty()||1!==a.getChildrenSize()?c.remove():a.remove():i.add(c.__key),a=l.getChildren(),u=new Set(o),c=f.is(l),f=f.isInline()&&null===t.getNextSibling()?f:t;for(let e=a.length-1;0<=e;e--){let n=a[e];if(n.is(t)||kr(n)&&n.isParentOf(t))break;n.isAttached()&&(!u.has(n)||n.is(d)?c||f.insertAfter(n,!1):n.remove())}if(!c)for(a=l,u=null;null!==a;)(0===(c=(l=a.getChildren()).length)||l[c-1].is(u))&&(i.delete(a.__key),u=a),a=a.getParent();for(t.isToken()?n===r?t.select():((e=bn(e)).select(),t.replace(e)):""===(t=t.spliceText(n,r-n,e,!0)).getTextContent()?t.remove():t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length),e=1;e<s;e++)t=o[e],i.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),Te(null);else{var t=this.getNodes(),n=[];for(var r of t)kn(r)&&n.push(r);var i=n.length;if(0===i)this.toggleFormat(e),Te(null);else{r=this.anchor;var l=this.focus,o=this.isBackward();t=o?l:r,r=o?r:l;var s=0,a=n[0];if(l="element"===t.type?0:t.offset,"text"===t.type&&l===a.getTextContentSize()&&(s=1,a=n[1],l=0),null!=a){o=a.getFormatFlags(e,null);var u=i-1,d=n[u];if(i="text"===r.type?r.offset:d.getTextContentSize(),a.is(d))l!==i&&(0===l&&i===a.getTextContentSize()?a.setFormat(o):(e=a.splitText(l,i),(e=0===l?e[0]:e[1]).setFormat(o),"text"===t.type&&t.set(e.__key,0,"text"),"text"===r.type&&r.set(e.__key,i-l,"text")),this.format=o);else{0!==l&&([,a]=a.splitText(l),l=0),a.setFormat(o);var c=d.getFormatFlags(e,o);for(0<i&&(i!==d.getTextContentSize()&&([d]=d.splitText(i)),d.setFormat(c)),s+=1;s<u;s++){let t=n[s];if(!t.isToken()){let n=t.getFormatFlags(e,c);t.setFormat(n)}}"text"===t.type&&t.set(a.__key,l,"text"),"text"===r.type&&r.set(d.__key,i,"text"),this.format=o|c}}}}}insertNodes(e,t){if(!this.isCollapsed()){var n=this.isBackward()?this.anchor:this.focus,r=n.getNode().getNextSibling();if(r=r?r.getKey():null,n=(n=n.getNode().getPreviousSibling())?n.getKey():null,this.removeText(),this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===r&&0===this.focus.offset){var i=bn();this.focus.getNode().insertBefore(i)}else this.focus.key===n&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(i=bn(),this.focus.getNode().insertAfter(i));i&&(this.focus.set(i.__key,0,"text"),this.anchor.set(i.__key,0,"text"))}}n=(i=this.anchor).offset;var l=i.getNode();r=l,"element"===i.type&&(r=null===(r=(i=i.getNode()).getChildAtIndex(n-1))?i:r),i=[];var o=l.getNextSiblings(),s=Je(l)?null:l.getTopLevelElementOrThrow();if(kn(l))if(r=l.getTextContent().length,0===n&&0!==r)r=null!==(r=l.getPreviousSibling())?r:l.getParentOrThrow(),i.push(l);else if(n===r)r=l;else{if(l.isToken())return!1;[r,l]=l.splitText(n),i.push(l)}l=r,i.push(...o),o=e[0];var a=!1,u=null;for(let t=0;t<e.length;t++){var d=e[t];if(Je(r)||Dr(r)||!kr(d)||d.isInline())a&&!kr(d)&&!Dr(d)&&Je(r.getParent())&&L(28);else{if(d.is(o)){if(kr(r)&&r.isEmpty()&&r.canReplaceWith(d)){r.replace(d),r=d,a=!0;continue}if(ye(a=d.getFirstDescendant())){for(var c=a.getParentOrThrow();c.isInline();)c=c.getParentOrThrow();if(a=(u=c.getChildren()).length,kr(r)){var f=r.getFirstChild();for(let e=0;e<a;e++){let t=u[e];null===f?r.append(t):f.insertAfter(t),f=t}}else{for(f=a-1;0<=f;f--)r.insertAfter(u[f]);r=r.getParentOrThrow()}if(u=u[a-1],c.remove(),a=!0,c.is(d))continue}}kn(r)&&(null===s&&L(27),r=s)}a=!1,kr(r)&&!r.isInline()?(u=d,Dr(d)&&!d.isInline()?r=r.insertAfter(d,!1):kr(d)?!d.canBeEmpty()&&d.isEmpty()||(Ar(r)?(null!==(c=r.getChildAtIndex(n))?c.insertBefore(d):r.append(d),r=d):d.isInline()?(r.append(d),r=d):r=r.insertAfter(d,!1)):(null!==(c=r.getFirstChild())?c.insertBefore(d):r.append(d),r=d)):!kr(d)||kr(d)&&d.isInline()||Dr(r)&&!r.isInline()?(u=d,Fn(this)&&Dr(d)&&(kr(r)||kn(r))&&!d.isInline()?(kn(r)?(c=r.getParentOrThrow(),[r]=r.splitText(n),r=r.getIndexWithinParent()+1):(c=r,r=n),[,r]=tt(c,r),r=r.insertBefore(d)):r=r.insertAfter(d,!1)):(d=r.getParentOrThrow(),hn(r)&&r.remove(),r=d,t--)}if(t&&(kn(l)?l.select():kn(e=r.getPreviousSibling())?e.select():(e=r.getIndexWithinParent(),r.getParentOrThrow().select(e,e))),kr(r)){if(e=kn(u)?u:kr(u)&&u.isInline()?u.getLastDescendant():r.getLastDescendant(),t||(null===e?r.select():kn(e)?""===e.getTextContent()?e.selectPrevious():e.select():e.selectNext()),0!==i.length)for(t=r,e=i.length-1;0<=e;e--)s=(n=i[e]).getParentOrThrow(),!kr(r)||Xn(n)||Dr(n)&&(!n.isInline()||n.isIsolated())?kr(r)||Xn(n)?kr(n)&&!n.canInsertAfter(r)?(kr(l=s.constructor.clone(s))||L(29),l.append(n),r.insertAfter(l)):r.insertAfter(n):(r.insertBefore(n),r=n):(t===r?r.append(n):r.insertBefore(n),r=n),s.isEmpty()&&!s.canBeEmpty()&&s.remove()}else t||(kn(r)?r.select():(t=r.getParentOrThrow(),e=r.getIndexWithinParent()+1,t.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,t=e.offset,n=[];if("text"===e.type){var r=e.getNode(),i=r.getNextSiblings().reverse(),l=r.getParentOrThrow(),o=l.isInline(),s=o?l.getTextContentSize():r.getTextContentSize();0===t?i.push(r):(o&&(n=l.getNextSiblings()),t===s||o&&t===r.getTextContentSize()||([,r]=r.splitText(t),i.push(r)))}else{if(Je(l=e.getNode()))return i=Fr(),n=l.getChildAtIndex(t),i.select(),void(null!==n?n.insertBefore(i,!1):l.append(i));i=l.getChildren().slice(t).reverse()}if(r=i.length,0===t&&0<r&&l.isInline()){if(kr(i=(n=l.getParentOrThrow()).insertNewAfter(this,!1)))for(n=n.getChildren(),l=0;l<n.length;l++)i.append(n[l])}else if(null===(o=l.insertNewAfter(this,!1)))this.insertLineBreak();else if(kr(o))if(s=l.getFirstChild(),0===t&&(l.is(e.getNode())||s&&s.is(e.getNode()))&&0<r)l.insertBefore(o);else{if(l=null,t=n.length,e=o.getParentOrThrow(),0<t)for(s=0;s<t;s++)e.append(n[s]);if(0!==r)for(n=0;n<r;n++)t=i[n],null===l?o.append(t):l.insertBefore(t),l=t;o.canBeEmpty()||0!==o.getChildrenSize()?o.selectStart():(o.selectPrevious(),o.remove())}}insertLineBreak(e){let t=fn();var n=this.anchor;"element"===n.type&&(Ar(n=n.getNode())&&this.insertParagraph()),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}getCharacterOffsets(){return Yn(this)}extract(){var e=this.getNodes(),t=e.length,n=t-1,r=this.anchor;let i=this.focus;var l=e[0];let o=e[n],[s,a]=Yn(this);return 0===t?[]:1===t?kn(l)&&!this.isCollapsed()?(e=s>a?a:s,n=l.splitText(e,s>a?s:a),null!=(e=0===e?n[0]:n[1])?[e]:[]):[l]:(t=r.isBefore(i),kn(l)&&((r=t?s:a)===l.getTextContentSize()?e.shift():0!==r&&([,l]=l.splitText(r),e[0]=l)),kn(o)&&(l=o.getTextContent().length,0===(t=t?a:s)?e.pop():t!==l&&([o]=o.splitText(t),e[n]=o)),e)}modify(e,t,n){var r=this.focus,i=this.anchor,l="move"===e,o=We(r,t);if(Dr(o)&&!o.isIsolated())l&&o.isKeyboardSelectable()?((t=Qn()).add(o.__key),Oe(t)):kn(e=t?o.getPreviousSibling():o.getNextSibling())?(o=e.__key,t=t?e.getTextContent().length:0,r.set(o,t,"text"),l&&i.set(o,t,"text")):(n=o.getParentOrThrow(),kr(e)?(n=e.__key,o=t?e.getChildrenSize():0):(o=o.getIndexWithinParent(),n=n.__key,t||o++),r.set(n,o,"element"),l&&i.set(n,o,"element"));else if(r=et((i=pr())._window)){var s=i._blockCursorElement,a=i._rootElement;if(null===a||null===s||!kr(o)||o.isInline()||o.canBeEmpty()||Ze(s,i,a),r.modify(e,t?"backward":"forward",n),0<r.rangeCount&&(o=r.getRangeAt(0),i=Ar(i=this.anchor.getNode())?i:Ge(i),this.applyDOMRange(o),this.dirty=!0,!l)){for(l=this.getNodes(),e=[],n=!1,s=0;s<l.length;s++)He(a=l[s],i)?e.push(a):n=!0;n&&0<e.length&&(t?kr(t=e[0])?t.selectStart():t.getParentOrThrow().selectStart():kr(t=e[e.length-1])?t.selectEnd():t.getParentOrThrow().selectEnd()),r.anchorNode===o.startContainer&&r.anchorOffset===o.startOffset||(t=this.focus,r=(l=this.anchor).key,o=l.offset,i=l.type,In(l,t.key,t.offset,t.type),In(t,r,o,i),this._cachedNodes=null)}}}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){var r=this.anchor,i=this.focus,l=r.getNode();if(!e&&("element"===r.type&&kr(l)&&r.offset===l.getChildrenSize()||"text"===r.type&&r.offset===l.getTextContentSize())){var o=l.getParent();if(kr(o=l.getNextSibling()||(null===o?null:o.getNextSibling()))&&o.isShadowRoot())return}if(Dr(o=We(i,e))&&!o.isIsolated())return void(o.isKeyboardSelectable()&&kr(l)&&0===l.getChildrenSize()?(l.remove(),e=Qn(),e.add(o.__key),Oe(e)):(o.remove(),pr().dispatchCommand(n,void 0)));if(!e&&kr(o)&&kr(l)&&l.isEmpty())return l.remove(),void o.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===r.offset&&("element"===r.type?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o="text"===i.type?i.getNode():null,l="text"===r.type?r.getNode():null,null!==o&&o.isSegmented()){if(r=i.offset,i=o.getTextContentSize(),o.is(l)||e&&r!==i||!e&&0!==r)return void Hn(o,e,r)}else if(null!==l&&l.isSegmented()&&(r=r.offset,i=l.getTextContentSize(),l.is(o)||e&&0!==r||!e&&r!==i))return void Hn(l,e,r);if(l=this.anchor,o=this.focus,(r=l.getNode())===(i=o.getNode())&&"text"===l.type&&"text"===o.type){var s=l.offset,a=o.offset;let t=s<a;(i=t?s:a)!==(s=(a=t?a:s)-1)&&(Ae(r=r.getTextContent().slice(i,a))||(e?o.offset=s:l.offset=s))}}}this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&((e=this.anchor.getNode()).isEmpty()&&Ar(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function Kn(e){return e instanceof Ln}function jn(e){let t=e.offset;return"text"===e.type?t:t===(e=e.getNode()).getChildrenSize()?e.getTextContent().length:0}function Yn(e){let t=e.anchor;return e=e.focus,"element"===t.type&&"element"===e.type&&t.key===e.key&&t.offset===e.offset?[0,0]:[jn(t),jn(e)]}function Hn(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),i=r.length,l=0,o=0;for(let e=0;e<i;e++){let s=e===i-1;if(o=l,l+=r[e].length,t&&l===n||l>n||s){r.splice(e,1),s&&(o=void 0);break}}""===(t=r.join("").trim())?e.remove():(e.setTextContent(t),e.select(o,o))}function Un(e,t,n,r){var i=t;if(1===e.nodeType){let s=!1;var l=e.childNodes,o=l.length;i===o&&(s=!0,i=o-1);let a=l[i];if(o=!1,a===r._blockCursorElement?(a=l[i+1],o=!0):null!==r._blockCursorElement&&i--,kn(r=Me(a)))i=s?r.getTextContentSize():0;else{if(null===(l=Me(e)))return null;if(kr(l)?((t=kr(e=l.getChildAtIndex(i)))&&(t=e.getParent(),t=null===n||null===t||!t.canBeEmpty()||t!==n.getNode()),t&&(null===(n=s?e.getLastDescendant():e.getFirstDescendant())?(l=e,i=0):l=kr(e=n)?e:e.getParentOrThrow()),kn(e)?(r=e,l=null,i=s?e.getTextContentSize():0):e!==l&&s&&!o&&i++):(i=l.getIndexWithinParent(),i=0===t&&Dr(l)&&Me(e)===l?i:i+1,l=l.getParentOrThrow()),kr(l))return new An(l.__key,i,"element")}}else r=Me(e);return kn(r)?new An(r.__key,i,"text"):null}function Gn(e,t,n){var r=e.offset,i=e.getNode();0===r?(r=i.getPreviousSibling(),i=i.getParent(),t?(n||!t)&&null===r&&kr(i)&&i.isInline()&&(kn(t=i.getPreviousSibling())&&(e.key=t.__key,e.offset=t.getTextContent().length)):kr(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):kn(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),t&&kr(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&null===r&&kr(i)&&i.isInline()&&!i.canInsertTextAfter()&&(kn(t=i.getNextSibling())&&(e.key=t.__key,e.offset=0)))}function Jn(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t);let i=e.is(t);Gn(e,r,i),Gn(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type),(r=pr()).isComposing()&&r._compositionKey!==e.key&&Fn(n)&&(r=n.anchor,n=n.focus,In(e,r.key,r.offset,r.type),In(t,n.key,n.offset,n.type))}}function Vn(e,t,n,r,i,l){return null!==e&&null!==n&&he(i,e,n)?null===(t=Un(e,t,Fn(l)?l.anchor:null,i))||null===(r=Un(n,r,Fn(l)?l.focus:null,i))||"element"===t.type&&"element"===r.type&&(e=Me(e),n=Me(n),Dr(e)&&Dr(n))?null:(Jn(t,r,l),[t,r]):null}function Xn(e){return kr(e)&&!e.isInline()}function qn(e,t,n,r,i,l){let o=_r();return(e=new zn(new An(e,t,i),new An(n,r,l),0,"")).dirty=!0,o._selection=e}function Qn(){return new Ln(new Set)}function Zn(e,t,n){var r=n._window;if(null===r)return null;var i=r.event,l=i?i.type:void 0;let o;if(r="selectionchange"===l,i=!re&&(r||"beforeinput"===l||"compositionstart"===l||"compositionend"===l||"click"===l&&i&&3===i.detail||"drop"===l||void 0===l),Fn(e)&&!i)return e.clone();if(null===t)return null;if(i=t.anchorNode,l=t.focusNode,o=t.anchorOffset,t=t.focusOffset,r&&Fn(e)&&!he(n,i,l))return e.clone();if(null===(n=Vn(i,o,l,t,n,e)))return null;let[s,a]=n;return new zn(s,a,Fn(e)?e.format:0,Fn(e)?e.style:"")}function er(){return _r()._selection}function tr(){return pr()._editorState._selection}function nr(e,t,n,r=1){var i=e.anchor,l=e.focus,o=i.getNode(),s=l.getNode();if(t.is(o)||t.is(s)){if(o=t.__key,e.isCollapsed())(n<=(t=i.offset)&&0<r||n<t&&0>r)&&(n=Math.max(0,t+r),i.set(o,n,"element"),l.set(o,n,"element"),rr(e));else{let u=e.isBackward();var a=(s=u?l:i).getNode();l=(i=u?i:l).getNode(),t.is(a)&&((n<=(a=s.offset)&&0<r||n<a&&0>r)&&s.set(o,Math.max(0,a+r),"element")),t.is(l)&&((n<=(t=i.offset)&&0<r||n<t&&0>r)&&i.set(o,Math.max(0,t+r),"element"))}rr(e)}}function rr(e){var t=e.anchor,n=t.offset;let r=e.focus;var i=r.offset,l=t.getNode(),o=r.getNode();if(e.isCollapsed())kr(l)&&(kn(o=(i=n>=(o=l.getChildrenSize()))?l.getChildAtIndex(o-1):l.getChildAtIndex(n))&&(n=0,i&&(n=o.getTextContentSize()),t.set(o.__key,n,"text"),r.set(o.__key,n,"text")));else{if(kr(l)){let r=l.getChildrenSize();kn(n=(e=n>=r)?l.getChildAtIndex(r-1):l.getChildAtIndex(n))&&(l=0,e&&(l=n.getTextContentSize()),t.set(n.__key,l,"text"))}kr(o)&&(kn(i=(t=i>=(n=o.getChildrenSize()))?o.getChildAtIndex(n-1):o.getChildAtIndex(i))&&(o=0,t&&(o=i.getTextContentSize()),r.set(i.__key,o,"text")))}}function ir(e,t,n,r,i){let l=null,o=0,s=null;null!==r?(l=r.__key,kn(r)?(o=r.getTextContentSize(),s="text"):kr(r)&&(o=r.getChildrenSize(),s="element")):null!==i&&(l=i.__key,kn(i)?s="text":kr(i)&&(s="element")),null!==l&&null!==s?e.set(l,o,s):(o=t.getIndexWithinParent(),-1===o&&(o=n.getChildrenSize()),e.set(n.__key,o,"element"))}function lr(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&--e.offset}function or(e,t,n){let r=[],i=null,l=null;e=e.getChildren();for(let d=0;d<e.length;d++){var o=e[d];Ur(o)||L(108);var s=o.getChildren();o=0;for(let e of s){for(Kr(e)||L(109);void 0!==r[d]&&void 0!==r[d][o];)o++;var a=o,u=e;let c={cell:u,startColumn:a,startRow:s=d},f=u.__rowSpan,h=u.__colSpan;for(let e=0;e<f;e++){void 0===r[s+e]&&(r[s+e]=[]);for(let t=0;t<h;t++)r[s+e][a+t]=c}t.is(u)&&(i=c),n.is(u)&&(l=c),o+=e.__colSpan}}return null===i&&L(110),null===l&&L(111),[r,i,l]}let sr=null,ar=null,ur=!1,dr=!1,cr=0,fr={characterData:!0,childList:!0,subtree:!0};function hr(){return ur||null!==sr&&sr._readOnly}function gr(){ur&&L(13)}function _r(){return null===sr&&L(15),sr}function pr(){return null===ar&&L(16),ar}function mr(e,t,n){var r=t.__type;let i=e._nodes.get(r);for(void 0===i&&L(30),void 0===(e=n.get(r))&&(e=Array.from(i.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function yr(e,t){var n=t.get(e.type);if(void 0===n&&L(17),n=n.klass,e.type!==n.getType()&&L(18),n=n.importJSON(e),e=e.children,kr(n)&&Array.isArray(e))for(let r=0;r<e.length;r++){let i=yr(e[r],t);n.append(i)}return n}function vr(e,t){let n=sr,r=ur,i=ar;sr=e,ur=!0,ar=null;try{return t()}finally{sr=n,ur=r,ar=i}}function xr(e){let t=e._pendingEditorState,r=e._rootElement,i=e._headless||null===r;if(null!==t){var l=e._editorState,o=l._selection,s=t._selection,a=0!==e._dirtyType,u=sr,d=ur,c=ar,f=e._updating,h=e._observer,g=null;if(e._pendingEditorState=null,e._editorState=t,!i&&a&&null!==h){ar=e,sr=t,ur=!1,e._updating=!0;try{let n=e._dirtyType,i=e._dirtyElements,o=e._dirtyLeaves;h.disconnect();var _=i,p=o;Ct=Tt=xt="",Nt=2===n,St=null,ct=e,dt=e._config,ft=e._nodes,ht=ct._listeners.mutation,gt=_,_t=p,pt=l._nodeMap,mt=t._nodeMap,Et=t._readOnly,yt=new Map(e._keyToDOMMap);let s=new Map;vt=s,Lt("root",null),vt=yt=dt=mt=pt=_t=gt=ft=ct=void 0,g=s}catch(n){if(n instanceof Error&&e._onError(n),dr)throw n;return Br(e,null,r,t),ue(e),e._dirtyType=2,dr=!0,xr(e),void(dr=!1)}finally{h.observe(r,fr),e._updating=f,sr=u,ur=d,ar=c}}t._readOnly||(t._readOnly=!0);var m=e._dirtyLeaves,y=e._dirtyElements,v=e._normalizedNodes,x=e._updateTags,C=e._deferred;a&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set);var T,N=e._decorators,E=e._pendingDecorators||N,S=t._nodeMap;for(T in E)S.has(T)||(E===N&&(E=De(e)),delete E[T]);var w=i?null:et(e._window);if(e._editable&&null!==w&&(a||null===s||s.dirty)){ar=e,sr=t;try{if(null!==h&&h.disconnect(),a||null===s||s.dirty){let t=e._blockCursorElement;null!==t&&Ze(t,e,r);e:{let t=w.anchorNode,n=w.focusNode,i=w.anchorOffset,l=w.focusOffset,a=document.activeElement;if(!(x.has("collaboration")&&a!==r||null!==a&&fe(a)))if(Fn(s)){var D=s.anchor,b=s.focus,k=D.key,O=b.key,M=je(e,k),A=je(e,O),R=D.offset,$=b.offset,P=s.format,I=s.style,L=s.isCollapsed(),F=M,B=A,W=!1;if("text"===D.type){F=pe(M);let e=D.getNode();W=e.getFormat()!==P||e.getStyle()!==I}else Fn(o)&&"text"===o.anchor.type&&(W=!0);if("text"===b.type&&(B=pe(A)),null!==F&&null!==B){if(L&&(null===o||W||Fn(o)&&(o.format!==P||o.style!==I))){var z=performance.now();Qt=[P,I,R,k,z]}if(i===R&&l===$&&t===F&&n===B&&("Range"!==w.type||!L)&&(null!==a&&r.contains(a)||r.focus({preventScroll:!0}),"element"!==D.type))break e;try{w.setBaseAndExtent(F,R,B,$)}catch(e){}if(!x.has("skip-scroll-into-view")&&s.isCollapsed()&&null!==r&&r===document.activeElement){let t=s instanceof zn&&"element"===s.anchor.type?F.childNodes[R]||null:0<w.rangeCount?w.getRangeAt(0):null;if(null!==t){let n;if(t instanceof Text){let e=document.createRange();e.selectNode(t),n=e.getBoundingClientRect()}else n=t.getBoundingClientRect();let i=r.ownerDocument,l=i.defaultView;if(null!==l)for(var K,j,{top:Y,bottom:H}=n,U=r;null!==U;){let t=U===i.body;if(t)K=0,j=Ue(e).innerHeight;else{let e=U.getBoundingClientRect();K=e.top,j=e.bottom}let n=0;if(Y<K?n=-(K-Y):H>j&&(n=H-j),0!==n)if(t)l.scrollBy(0,n);else{let e=U.scrollTop;U.scrollTop+=n;let t=U.scrollTop-e;Y-=t,H-=t}if(t)break;U=Ye(U)}}}Jt=!0}}else null!==o&&he(e,t,n)&&w.removeAllRanges()}}e:{let t=e._blockCursorElement;if(Fn(s)&&s.isCollapsed()&&"element"===s.anchor.type&&r.contains(document.activeElement)){let n=s.anchor,i=n.getNode(),l=n.offset,o=i.getChildrenSize(),a=!1,u=null;if(l===o){Qe(i.getChildAtIndex(l-1))&&(a=!0)}else{let t=i.getChildAtIndex(l);if(Qe(t)){let n=t.getPreviousSibling();(null===n||Qe(n))&&(a=!0,u=e.getElementByKey(t.__key))}}if(a){let n=e.getElementByKey(i.__key);if(null===t){let n=e._config.theme,r=document.createElement("div");r.contentEditable="false",r.setAttribute("data-lexical-cursor","true");let i=n.blockCursor;if(void 0!==i){if("string"==typeof i){let e=i.split(" ");i=n.blockCursor=e}void 0!==i&&r.classList.add(...i)}e._blockCursorElement=t=r}r.style.caretColor="transparent",null===u?n.appendChild(t):n.insertBefore(t,u);break e}}null!==t&&Ze(t,e,r)}null!==h&&h.observe(r,fr)}finally{ar=c,sr=u}}if(null!==g){var G=g;let t=Array.from(e._listeners.mutation),n=t.length;for(let e=0;e<n;e++){let[n,r]=t[e],i=G.get(r);void 0!==i&&n(i,{dirtyLeaves:m,updateTags:x})}}Fn(s)||null===s||null!==o&&o.is(s)||e.dispatchCommand(n,void 0);var J=e._pendingDecorators;null!==J&&(e._decorators=J,e._pendingDecorators=null,Cr("decorator",e,!0,J));var V=be(l),X=be(t);if(V!==X&&Cr("textcontent",e,!0,X),Cr("update",e,!0,{dirtyElements:y,dirtyLeaves:m,editorState:t,normalizedNodes:v,prevEditorState:l,tags:x}),e._deferred=[],0!==C.length){let t=e._updating;e._updating=!0;try{for(let e=0;e<C.length;e++)C[e]()}finally{e._updating=t}}var q=e._updates;if(0!==q.length){let t=q.shift();if(t){let[n,r]=t;Er(e,n,r)}}}}function Cr(e,t,n,...r){let i=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function Tr(e,t,n){if(!1===e._updating||ar!==e){let r=!1;return e.update((()=>{r=Tr(e,t,n)})),r}let r=Re(e);for(let l=4;0<=l;l--)for(let o=0;o<r.length;o++){var i=r[o]._commands.get(t);if(void 0!==i&&void 0!==(i=i[l])){let t=(i=Array.from(i)).length;for(let r=0;r<t;r++)if(!0===i[r](n,e))return!0}}return!1}function Nr(e,t){let n=e._updates;for(t=t||!1;0!==n.length;){var r=n.shift();if(r){let n,[i,l]=r;void 0!==l&&(r=l.onUpdate,n=l.tag,l.skipTransforms&&(t=!0),r&&e._deferred.push(r),n&&e._updateTags.add(n)),i()}}return t}function Er(e,t,n){let r=e._updateTags;var i,l=i=!1;if(void 0!==n){var o=n.onUpdate;null!=(i=n.tag)&&r.add(i),i=n.skipTransforms||!1,l=n.discrete||!1}o&&e._deferred.push(o),n=e._editorState;let s=!1;(null===(o=e._pendingEditorState)||o._readOnly)&&(o=e._pendingEditorState=new Pr(new Map((o||n)._nodeMap)),s=!0),o._flushSync=l,l=sr;let a=ur,u=ar,d=e._updating;sr=o,ur=!1,e._updating=!0,ar=e;try{s&&(e._headless?null!=n._selection&&(o._selection=n._selection.clone()):o._selection=function(e){let t=e.getEditorState()._selection,n=et(e._window);return Kn(t)||Wn(t)?t.clone():Zn(t,n,e)}(e));let r=e._compositionKey;t(),i=Nr(e,i),function(e,t){if(t=t.getEditorState()._selection,Fn(e=e._selection)){var n=e.anchor;let r,i=e.focus;"text"===n.type&&(r=n.getNode(),r.selectionTransform(t,e)),"text"===i.type&&r!==(n=i.getNode())&&n.selectionTransform(t,e)}}(o,e),0!==e._dirtyType&&(i?function(e,t){t=t._dirtyLeaves,e=e._nodeMap;for(let n of t)kn(t=e.get(n))&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&st(t)}(o,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;let i=Ne(),l=new Map;var o=n;let s=o.size;for(var a=r,u=a.size;0<s||0<u;){if(0<s){t._dirtyLeaves=new Set;for(let r of o)kn(o=e.get(r))&&o.isAttached()&&o.isSimpleText()&&!o.isUnmergeable()&&st(o),void 0!==o&&void 0!==o&&o.__key!==i&&o.isAttached()&&mr(t,o,l),n.add(r);if(s=(o=t._dirtyLeaves).size,0<s){cr++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(let n of a)a=n[0],u=n[1],("root"===a||u)&&(void 0!==(o=e.get(a))&&void 0!==o&&o.__key!==i&&o.isAttached()&&mr(t,o,l),r.set(a,u));s=(o=t._dirtyLeaves).size,u=(a=t._dirtyElements).size,cr++}t._dirtyLeaves=n,t._dirtyElements=r}(o,e),Nr(e),function(e,t,n,r){e=e._nodeMap,t=t._nodeMap;let i=[];for(let[n]of r){let l=t.get(n);void 0===l||l.isAttached()||(kr(l)&&it(l,n,e,t,i,r),e.has(n)||r.delete(n),i.push(n))}for(let e of i)t.delete(e);for(let i of n)void 0===(r=t.get(i))||r.isAttached()||(e.has(i)||n.delete(i),t.delete(i))}(n,o,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(o._flushSync=!0);let c=o._selection;if(Fn(c)){let e=o._nodeMap,t=c.focus.key;void 0!==e.get(c.anchor.key)&&void 0!==e.get(t)||L(19)}else Kn(c)&&0===c._nodes.size&&(o._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=n,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void xr(e)}finally{sr=l,ur=a,ar=u,e._updating=d,cr=0}0!==e._dirtyType||function(e,t){if(t=t.getEditorState()._selection,null!==(e=e._selection)){if(e.dirty||!e.is(t))return!0}else if(null!==t)return!0;return!1}(o,e)?o._flushSync?(o._flushSync=!1,xr(e)):s&&ce((()=>{xr(e)})):(o._flushSync=!1,s&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function Sr(e,t,n){e._updating?e._updates.push([t,n]):Er(e,t,n)}class wr extends un{constructor(e){super(e)}decorate(){L(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Dr(e){return e instanceof wr}class br extends un{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return ee[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=pr()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(kn(t)&&e.push(t),kr(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(kr(e)){let t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(kr(e)){let t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;return e>=n?kr(e=t[n-1])&&e.getLastDescendant()||e||null:kr(e=t[e])&&e.getFirstDescendant()||e||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:Ee(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&L(45),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:Ee(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&L(96),e}getChildAtIndex(e){var t=this.getChildrenSize();let n;if(e<t/2){for(n=this.getFirstChild(),t=0;null!==n&&t<=e;){if(t===e)return n;n=n.getNextSibling(),t++}return null}for(n=this.getLastChild(),--t;null!==n&&t>=e;){if(t===e)return n;n=n.getPreviousSibling(),t--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContent(),kr(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}getTextContentSize(){let e=0,t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContentSize(),kr(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return""!==e&&(e=Z[e],0!=(this.getFormat()&e))}select(e,t){gr();let n=er(),r=e,i=t;var l=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){if(kn(e=this.getFirstChild())||kr(e))return e.select(0,0)}else if(!(void 0!==e&&e!==l||void 0!==t&&t!==l)&&(kn(e=this.getLastChild())||kr(e)))return e.select();return void 0===r&&(r=l),void 0===i&&(i=l),l=this.__key,Fn(n)?(n.anchor.set(l,r,"element"),n.focus.set(l,i,"element"),n.dirty=!0,n):qn(l,r,l,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return kr(e)||kn(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return kr(e)||kn(e)?e.select():null!==e?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?Z[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){let r=n.length,i=this.getChildrenSize(),l=this.getWritable(),o=l.__key;var s=[],a=[];let u=this.getChildAtIndex(e+t),d=null,c=i-t+r;if(0!==e)if(e===i)d=this.getLastChild();else{var f=this.getChildAtIndex(e);null!==f&&(d=f.getPreviousSibling())}if(0<t){var h=null===d?this.getFirstChild():d.getNextSibling();for(f=0;f<t;f++){null===h&&L(100);var g=h.getNextSibling(),_=h.__key;xe(h=h.getWritable()),a.push(_),h=g}}for(f=d,g=0;g<r;g++){_=n[g],null!==f&&_.is(f)&&(d=f=f.getPreviousSibling()),(h=_.getWritable()).__parent===o&&c--,xe(h);let e=_.__key;null===f?(l.__first=e,h.__prev=null):((f=f.getWritable()).__next=e,h.__prev=f.__key),_.__key===o&&L(76),h.__parent=o,s.push(e),f=_}if(e+t===i?null!==f&&(f.getWritable().__next=null,l.__last=f.__key):null!==u&&(e=u.getWritable(),null!==f?(t=f.getWritable(),e.__prev=f.__key,t.__next=u.__key):e.__prev=null),l.__size=c,a.length&&Fn(e=er())){a=new Set(a),s=new Set(s);let{anchor:t,focus:n}=e;Or(t,a,s)&&ir(t,t.getNode(),this,d,u),Or(n,a,s)&&ir(n,n.getNode(),this,d,u),0!==c||this.canBeEmpty()||Je(this)||this.remove()}return l}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function kr(e){return e instanceof br}function Or(e,t,n){for(e=e.getNode();e;){let r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}class Mr extends br{static getType(){return"root"}static clone(){return new Mr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){L(51)}getTextContent(){let e=this.__cachedText;return!hr()&&0!==pr()._dirtyType||null===e?super.getTextContent():e}remove(){L(52)}replace(){L(53)}insertBefore(){L(54)}insertAfter(){L(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let n=e[t];kr(n)||Dr(n)||L(56)}return super.append(...e)}static importJSON(e){let t=ke();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Ar(e){return e instanceof Mr}function Rr(){return new Pr(new Map([["root",new Mr]]))}function $r(e){let t=e.exportJSON();t.type!==e.constructor.getType()&&L(58);let n=t.children;if(kr(e)){Array.isArray(n)||L(59),e=e.getChildren();for(let t=0;t<e.length;t++){let r=$r(e[t]);n.push(r)}}return t}class Pr{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return vr(this,e)}clone(e){return(e=new Pr(this._nodeMap,void 0===e?this._selection:e))._readOnly=!0,e}toJSON(){return vr(this,(()=>({root:$r(ke())})))}}class Ir extends br{static getType(){return"paragraph"}static clone(e){return new Ir(e.__key)}createDOM(e){let t=document.createElement("p");return void 0!==(e=Le(e.theme,"paragraph"))&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Lr,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),0<(t=this.getIndent())&&(e.style.textIndent=20*t+"px")}return{element:e}}static importJSON(e){let t=Fr();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=Fr();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(0===e.length||kn(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function Lr(e){let t=Fr();return e.style&&(t.setFormat(e.style.textAlign),0<(e=parseInt(e.style.textIndent,10)/20)&&t.setIndent(e)),{node:t}}function Fr(){return Xe(new Ir)}function Br(e,t,n,r){let i=e._keyToDOMMap;i.clear(),e._editorState=Rr(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,null!==(r=e._observer)&&(r.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}class Wr{constructor(e,t,n,r,i,l,o){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=$e(),this._onError=i,this._htmlConversions=l,this._editable=o,this._headless=null!==t&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&L(35);let r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);let i=r.get(e);void 0===i&&L(36);let l=i[n];return l.add(t),()=>{l.delete(t),i.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t){void 0===this._nodes.get(e.getType())&&L(37);let n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransformToKlass(e,t){return e=e.getType(),void 0===(e=this._nodes.get(e))&&L(37),e.transforms.add(t),e}registerNodeTransform(e,t){var n=this.registerNodeTransformToKlass(e,t);let r=[n];return null!=(n=n.replaceWithKlass)&&(n=this.registerNodeTransformToKlass(n,t),r.push(n)),function(e,t){Sr(e,(()=>{var e=_r();if(!e.isEmpty())if("root"===t)ke().markDirty();else{e=e._nodeMap;for(let[,t]of e)t.markDirty()}}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,e.getType()),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNodes(e){for(let t=0;t<e.length;t++){let n=e[t].getType();if(!this._nodes.has(n))return!1}return!0}dispatchCommand(e,t){return Tr(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let i=Le(this._config.theme,"root");var n=this._pendingEditorState||this._editorState;if(this._rootElement=e,Br(this,t,e,n),null!==t){if(!this._config.disableEvents){if(0!==Gt&&(Gt--,0===Gt&&t.ownerDocument.removeEventListener("selectionchange",sn)),null!=(n=t.__lexicalEditor)){if(null!==n._parentEditor){var r=Re(n);r=r[r.length-1]._key,on.get(r)===n&&on.delete(r)}else on.delete(n._key);t.__lexicalEditor=null}for(n=ln(t),r=0;r<n.length;r++)n[r]();t.__lexicalEventHandles=[]}null!=i&&t.classList.remove(...i)}null!==e?(n=(n=e.ownerDocument)&&n.defaultView||null,(r=e.style).userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=n,this._dirtyType=2,ue(this),this._updateTags.add("history-merge"),xr(this),this._config.disableEvents||function(e,t){0===Gt&&e.ownerDocument.addEventListener("selectionchange",sn),Gt++,e.__lexicalEditor=t;let n=ln(e);for(let r=0;r<Kt.length;r++){let[i,l]=Kt[r],o="function"==typeof l?e=>{!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()&&l(e,t))}:e=>{if(!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()))switch(i){case"cut":return Tr(t,R,e);case"copy":return Tr(t,A,e);case"paste":return Tr(t,a,e);case"dragstart":return Tr(t,k,e);case"dragover":return Tr(t,O,e);case"dragend":return Tr(t,M,e);case"focus":return Tr(t,$,e);case"blur":return Tr(t,P,e);case"drop":return Tr(t,b,e)}};e.addEventListener(i,o),n.push((()=>{e.removeEventListener(i,o)}))}}(e,this),null!=i&&e.classList.add(...i)):this._window=null,Cr("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&L(38),ae(this);let n=this._pendingEditorState,r=this._updateTags;t=void 0!==t?t.tag:null,null===n||n.isEmpty()||(null!=t&&r.add(t),xr(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=t&&r.add(t),xr(this)}parseEditorState(e,t){e="string"==typeof e?JSON.parse(e):e;let n=Rr(),r=sr,i=ur,l=ar,o=this._dirtyElements,s=this._dirtyLeaves,a=this._cloneNotNeeded,u=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,sr=n,ur=!1,ar=this;try{yr(e.root,this._nodes),t&&t(),n._readOnly=!0}catch(e){e instanceof Error&&this._onError(e)}finally{this._dirtyElements=o,this._dirtyLeaves=s,this._cloneNotNeeded=a,this._dirtyType=u,sr=r,ur=i,ar=l}return n}update(e,t){Sr(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Sr(this,(()=>{let e=er(),n=ke();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;null!==e&&e.blur(),null!==(e=et(this._window))&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Cr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class zr extends br{constructor(e,t){super(t),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function Kr(e){return e instanceof zr}class jr extends br{}function Yr(e){return e instanceof jr}class Hr extends br{}function Ur(e){return e instanceof Hr}t.$addUpdateTag=function(e){gr(),pr()._updateTags.add(e)},t.$applyNodeReplacement=Xe,t.$copyNode=Ve,t.$createLineBreakNode=fn,t.$createNodeSelection=Qn,t.$createParagraphNode=Fr,t.$createRangeSelection=function(){let e=new An("root",0,"element"),t=new An("root",0,"element");return new zn(e,t,0,"")},t.$createTabNode=Mn,t.$createTextNode=bn,t.$getAdjacentNode=We,t.$getNearestNodeFromDOMNode=we,t.$getNearestRootOrShadowRoot=Ge,t.$getNodeByKey=Ee,t.$getPreviousSelection=tr,t.$getRoot=ke,t.$getSelection=er,t.$getTextContent=function(){let e=er();return null===e?"":e.getTextContent()},t.$hasAncestor=He,t.$hasUpdateTag=function(e){return pr()._updateTags.has(e)},t.$insertNodes=function(e,t){let n=er();return null===n&&(n=ke().selectEnd()),n.insertNodes(e,t)},t.$isBlockElementNode=Xn,t.$isDecoratorNode=Dr,t.$isElementNode=kr,t.$isInlineElementOrDecoratorNode=function(e){return kr(e)&&e.isInline()||Dr(e)&&e.isInline()},t.$isLeafNode=ye,t.$isLineBreakNode=hn,t.$isNodeSelection=Kn,t.$isParagraphNode=function(e){return e instanceof Ir},t.$isRangeSelection=Fn,t.$isRootNode=Ar,t.$isRootOrShadowRoot=Je,t.$isTabNode=function(e){return e instanceof On},t.$isTextNode=kn,t.$nodesOfType=function(e){var t=_r();let n=t._readOnly,r=e.getType();t=t._nodeMap;let i=[];for(let[,l]of t)l instanceof e&&l.__type===r&&(n||l.isAttached())&&i.push(l);return i},t.$normalizeSelection__EXPERIMENTAL=at,t.$parseSerializedNode=function(e){return yr(e,pr()._nodes)},t.$setCompositionKey=Te,t.$setSelection=Oe,t.$splitNode=tt,t.BLUR_COMMAND=P,t.CAN_REDO_COMMAND={},t.CAN_UNDO_COMMAND={},t.CLEAR_EDITOR_COMMAND={},t.CLEAR_HISTORY_COMMAND={},t.CLICK_COMMAND=r,t.COMMAND_PRIORITY_CRITICAL=4,t.COMMAND_PRIORITY_EDITOR=0,t.COMMAND_PRIORITY_HIGH=3,t.COMMAND_PRIORITY_LOW=1,t.COMMAND_PRIORITY_NORMAL=2,t.CONTROLLED_TEXT_INSERTION_COMMAND=s,t.COPY_COMMAND=A,t.CUT_COMMAND=R,t.DELETE_CHARACTER_COMMAND=i,t.DELETE_LINE_COMMAND=c,t.DELETE_WORD_COMMAND=d,t.DEPRECATED_$computeGridMap=or,t.DEPRECATED_$createGridSelection=function(){let e=new An("root",0,"element"),t=new An("root",0,"element");return new Bn("root",e,t)},t.DEPRECATED_$getNodeTriplet=function(e){e instanceof zr||(e instanceof un?Kr(e=nt(e,Kr))||L(114):Kr(e=nt(e.getNode(),Kr))||L(114));let t=e.getParent();Ur(t)||L(115);let n=t.getParent();return Yr(n)||L(116),[e,t,n]},t.DEPRECATED_$isGridCellNode=Kr,t.DEPRECATED_$isGridNode=Yr,t.DEPRECATED_$isGridRowNode=Ur,t.DEPRECATED_$isGridSelection=Wn,t.DEPRECATED_GridCellNode=zr,t.DEPRECATED_GridNode=jr,t.DEPRECATED_GridRowNode=Hr,t.DRAGEND_COMMAND=M,t.DRAGOVER_COMMAND=O,t.DRAGSTART_COMMAND=k,t.DROP_COMMAND=b,t.DecoratorNode=wr,t.ElementNode=br,t.FOCUS_COMMAND=$,t.FORMAT_ELEMENT_COMMAND={},t.FORMAT_TEXT_COMMAND=f,t.INDENT_CONTENT_COMMAND={},t.INSERT_LINE_BREAK_COMMAND=l,t.INSERT_PARAGRAPH_COMMAND=o,t.INSERT_TAB_COMMAND={},t.KEY_ARROW_DOWN_COMMAND=C,t.KEY_ARROW_LEFT_COMMAND=y,t.KEY_ARROW_RIGHT_COMMAND=p,t.KEY_ARROW_UP_COMMAND=x,t.KEY_BACKSPACE_COMMAND=E,t.KEY_DELETE_COMMAND=w,t.KEY_DOWN_COMMAND=_,t.KEY_ENTER_COMMAND=T,t.KEY_ESCAPE_COMMAND=S,t.KEY_MODIFIER_COMMAND=I,t.KEY_SPACE_COMMAND=N,t.KEY_TAB_COMMAND=D,t.LineBreakNode=dn,t.MOVE_TO_END=m,t.MOVE_TO_START=v,t.OUTDENT_CONTENT_COMMAND={},t.PASTE_COMMAND=a,t.ParagraphNode=Ir,t.REDO_COMMAND=g,t.REMOVE_TEXT_COMMAND=u,t.RootNode=Mr,t.SELECTION_CHANGE_COMMAND=n,t.TabNode=On,t.TextNode=vn,t.UNDO_COMMAND=h,t.createCommand=function(){return{}},t.createEditor=function(e){var t=e||{},n=ar,r=t.theme||{};let i=void 0===e?n:t.parentEditor||null,l=t.disableEvents||!1,o=Rr(),s=t.namespace||(null!==i?i._config.namespace:$e()),a=t.editorState,u=[Mr,vn,dn,On,Ir,...t.nodes||[]],d=t.onError;if(t=void 0===t.editable||t.editable,void 0===e&&null!==n)e=n._nodes;else for(e=new Map,n=0;n<u.length;n++){let t=u[n],r=null;var c=null;"function"!=typeof t&&(t=(c=t).replace,r=c.with,c=c.withKlass?c.withKlass:null);let i=t.getType(),l=t.transform(),o=new Set;null!==l&&o.add(l),e.set(i,{klass:t,replace:r,replaceWithKlass:c,transforms:o})}return r=new Wr(o,i,e,{disableEvents:l,namespace:s,theme:r},d||console.error,function(e){let t=new Map,n=new Set;return e.forEach((e=>{if(null!=(e=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null)&&!n.has(e)){n.add(e);var r=e();null!==r&&Object.keys(r).forEach((e=>{let n=t.get(e);void 0===n&&(n=[],t.set(e,n)),n.push(r[e])}))}})),t}(e),t),void 0!==a&&(r._pendingEditorState=a,r._dirtyType=2),r},t.getNearestEditorFromDOMNode=ge,t.isSelectionCapturedInDecoratorInput=fe,t.isSelectionWithinEditor=he},375933:(e,t,n)=>{var r;!function(){function i(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function o(e,t,n){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:l).apply(null,arguments)}var s=Date.now||function(){return+new Date};function a(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var u=!!window.FontFace;function d(e,t,n,r){if(t=e.c.createElement(t),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r&&t.appendChild(e.c.createTextNode(r)),t}function c(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var l=!1,o=0;o<r.length;o+=1)if(t[i]===r[o]){l=!0;break}l||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(l=!1,o=0;o<n.length;o+=1)if(r[i]===n[o]){l=!0;break}l||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function g(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function _(e,t,n){function r(){s&&i&&l&&(s(o),s=null)}t=d(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,l=!0,o=null,s=n||null;u?(t.onload=function(){i=!0,r()},t.onerror=function(){i=!0,o=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),c(e,"head",t)}function p(e,t,n,r){var i=e.c.getElementsByTagName("head")[0];if(i){var l=d(e,"script",{src:t}),o=!1;return l.onload=l.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,n&&n(null),l.onload=l.onreadystatechange=null,"HEAD"==l.parentNode.tagName&&i.removeChild(l))},i.appendChild(l),setTimeout((function(){o||(o=!0,n&&n(Error("Script load timeout")))}),r||5e3),l}return null}function m(){this.a=0,this.c=null}function y(e){return e.a++,function(){e.a--,x(e)}}function v(e,t){e.c=t,x(e)}function x(e){0==e.a&&e.c&&(e.c(),e.c=null)}function C(e){this.a=e||"-"}function T(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function N(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function E(e){return e.a+e.f}function S(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function w(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function D(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new C("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function b(e){if(e.g){var t=g(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),h(e.f,n,r)}k(e,"inactive")}function k(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,E(n)):e.h[t]())}function O(){this.c={}}function M(e,t){this.c=e,this.f=t,this.a=d(this.c,"span",{"aria-hidden":"true"},this.f)}function A(e){c(e.c,"body",e.a)}function R(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+N(e.c)+";font-style:"+S(e)+";font-weight:"+e.f+"00;"}function $(e,t,n,r,i,l){this.g=e,this.j=t,this.a=r,this.c=n,this.f=i||3e3,this.h=l||void 0}function P(e,t,n,r,i,l,o){this.v=e,this.B=t,this.c=n,this.a=r,this.s=o||"BESbswy",this.f={},this.w=i||3e3,this.u=l||null,this.m=this.j=this.h=this.g=null,this.g=new M(this.c,this.s),this.h=new M(this.c,this.s),this.j=new M(this.c,this.s),this.m=new M(this.c,this.s),e=R(e=new T(this.a.c+",serif",E(this.a))),this.g.a.style.cssText=e,e=R(e=new T(this.a.c+",sans-serif",E(this.a))),this.h.a.style.cssText=e,e=R(e=new T("serif",E(this.a))),this.j.a.style.cssText=e,e=R(e=new T("sans-serif",E(this.a))),this.m.a.style.cssText=e,A(this.g),A(this.h),A(this.j),A(this.m)}C.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},$.prototype.start=function(){var e=this.c.o.document,t=this,n=s(),r=new Promise((function(r,i){!function l(){s()-n>=t.f?i():e.fonts.load(function(e){return S(e)+" "+e.f+"00 300px "+N(e.c)}(t.a),t.h).then((function(e){1<=e.length?r():setTimeout(l,25)}),(function(){i()}))}()})),i=null,l=new Promise((function(e,n){i=setTimeout(n,t.f)}));Promise.race([l,r]).then((function(){i&&(clearTimeout(i),i=null),t.g(t.a)}),(function(){t.j(t.a)}))};var I={D:"serif",C:"sans-serif"},L=null;function F(){if(null===L){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);L=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return L}function B(e,t,n){for(var r in I)if(I.hasOwnProperty(r)&&t===e.f[I[r]]&&n===e.f[I[r]])return!0;return!1}function W(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=F()&&B(e,n,r)),t?s()-e.A>=e.w?F()&&B(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?z(e,e.v):z(e,e.B):function(e){setTimeout(o((function(){W(this)}),e),50)}(e):z(e,e.v)}function z(e,t){setTimeout(o((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),t(this.a)}),e),0)}function K(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}P.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),W(this)};var j=null;function Y(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&h(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),k(e,"active")):b(e.a))}function H(e){this.j=e,this.a=new O,this.h=0,this.f=this.g=!0}function U(e,t,n,r,i){var l=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=i||null,s=r||{};if(0===n.length&&l)b(t.a);else{t.f+=n.length,l&&(t.j=l);var a,u=[];for(a=0;a<n.length;a++){var d=n[a],c=s[d.c],f=t.a,g=d;if(f.g&&h(f.f,[f.a.c("wf",g.c,E(g).toString(),"loading")]),k(f,"fontloading",g),f=null,null===j)if(window.FontFace){g=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var _=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);j=g?42<parseInt(g[1],10):!_}else j=!1;f=j?new $(o(t.g,t),o(t.h,t),t.c,d,t.s,c):new P(o(t.g,t),o(t.h,t),t.c,d,t.s,e,c),u.push(f)}for(a=0;a<u.length;a++)u[a].start()}}),0)}function G(e,t){this.c=e,this.a=t}function J(e,t){this.c=e,this.a=t}function V(e,t){this.c=e||X,this.a=[],this.f=[],this.g=t||""}K.prototype.g=function(e){var t=this.a;t.g&&h(t.f,[t.a.c("wf",e.c,E(e).toString(),"active")],[t.a.c("wf",e.c,E(e).toString(),"loading"),t.a.c("wf",e.c,E(e).toString(),"inactive")]),k(t,"fontactive",e),this.m=!0,Y(this)},K.prototype.h=function(e){var t=this.a;if(t.g){var n=g(t.f,t.a.c("wf",e.c,E(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,E(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,E(e).toString(),"inactive")),h(t.f,r,i)}k(t,"fontinactive",e),Y(this)},H.prototype.load=function(e){this.c=new a(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var r=[],i=n.timeout;!function(e){e.g&&h(e.f,[e.a.c("wf","loading")]),k(e,"loading")}(t);r=function(e,t,n){var r,i=[];for(r in t)if(t.hasOwnProperty(r)){var l=e.c[r];l&&i.push(l(t[r],n))}return i}(e.a,n,e.c);var l=new K(e.c,t,i);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load((function(t,n,r){U(e,l,t,n,r)}))}(this,new D(this.c,e),e)},G.prototype.load=function(e){function t(){if(l["__mti_fntLst"+r]){var n,i=l["__mti_fntLst"+r](),o=[];if(i)for(var s=0;s<i.length;s++){var a=i[s].fontfamily;null!=i[s].fontStyle&&null!=i[s].fontWeight?(n=i[s].fontStyle+i[s].fontWeight,o.push(new T(a,n))):o.push(new T(a))}e(o)}else setTimeout((function(){t()}),50)}var n=this,r=n.a.projectId,i=n.a.version;if(r){var l=n.c.o;p(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(i?"?v="+i:""),(function(i){i?e([]):(l["__MonotypeConfiguration__"+r]=function(){return n.a},t())})).id="__MonotypeAPIScript__"+r}else e([])},J.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],l=this.a.testStrings||{},o=new m;for(t=0,n=r.length;t<n;t++)_(this.c,r[t],y(o));var s=[];for(t=0,n=i.length;t<n;t++)if((r=i[t].split(":"))[1])for(var a=r[1].split(","),u=0;u<a.length;u+=1)s.push(new T(r[0],a[u]));else s.push(new T(r[0]));v(o,(function(){e(s,l)}))};var X="https://fonts.googleapis.com/css";function q(e){this.f=e,this.a=[],this.c={}}var Q={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Z={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ne(e,t){this.c=e,this.a=t}var re={Arimo:!0,Cousine:!0,Tinos:!0};function ie(e,t){this.c=e,this.a=t}function le(e,t){this.c=e,this.f=t,this.a=[]}ne.prototype.load=function(e){var t=new m,n=this.c,r=new V(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var l="";2==i.length&&""!=i[1]&&(l=":"),e.a.push(i.join(l))}}(r,i);var l=new q(i);!function(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),l=["n4"];if(2<=r.length){var o;if(o=[],s=r[1])for(var s,a=(s=s.split(",")).length,u=0;u<a;u++){var d;if((d=s[u]).match(/^[\w-]+$/))if(null==(c=te.exec(d.toLowerCase())))d="";else{if(d=null==(d=c[2])||""==d?"n":ee[d],null==(c=c[1])||""==c)c="4";else var c=Z[c]||(isNaN(c)?"4":c.substr(0,1));d=[d,c].join("")}else d="";d&&o.push(d)}0<o.length&&(l=o),3==r.length&&(o=[],0<(r=(r=r[2])?r.split(","):o).length&&(r=Q[r[0]])&&(e.c[i]=r))}for(e.c[i]||(r=Q[i])&&(e.c[i]=r),r=0;r<l.length;r+=1)e.a.push(new T(i,l[r]))}}(l),_(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(r),y(t)),v(t,(function(){e(l.a,l.c,re)}))},ie.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?p(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],i=0;i<t.length;i+=2)for(var l=t[i],o=t[i+1],s=0;s<o.length;s++)r.push(new T(l,o[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(r)}}),2e3):e([])},le.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,l=n.fonts.length;i<l;++i){var o=n.fonts[i];r.a.push(new T(o.name,w("font-weight:"+o.weight+";font-style:"+o.style)))}e(r.a)},p(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var oe=new H(window);oe.a.c.custom=function(e,t){return new J(t,e)},oe.a.c.fontdeck=function(e,t){return new le(t,e)},oe.a.c.monotype=function(e,t){return new G(t,e)},oe.a.c.typekit=function(e,t){return new ie(t,e)},oe.a.c.google=function(e,t){return new ne(t,e)};var se={load:o(oe.load,oe)};void 0===(r=function(){return se}.call(t,n,t,e))||(e.exports=r)}()}}]);
//# sourceMappingURL=https://web.whatsapp.com/vendors~main~.9cf08b3635293ff73df1.js.map
