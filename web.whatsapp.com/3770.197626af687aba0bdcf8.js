/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[3770],{63770:(e,t,r)=>{"use strict";var n=r(20862),l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,s.useState)();(0,s.useEffect)((()=>{const e=o.BusinessProfileCollection.get((0,T.getMaybeMeUser)());t((0,i.hasCatalog)(e)?v.ADD_CATALOG_PRODUCTS:v.ADD_CUSTOM_ITEMS_FORM)}),[]);const r=(0,a.default)((()=>{f.Cmd.closeDrawerRight()})),n=O.indexOf(e);if(!e)return null;return(0,I.jsx)(E.default,{children:(0,I.jsx)(j.UIE,{displayName:`FlowDrawer${n}`,escapable:!0,requestDismiss:function(){r()},children:(0,I.jsx)("div",{children:function(e){switch(e){case v.ADD_CATALOG_PRODUCTS:return(0,I.jsx)(L,{onBack:r});case v.ADD_CUSTOM_ITEMS_FORM:return(0,I.jsx)(N,{onBack:r})}}(e)})},n)})};var a=l(r(51463)),u=l(r(48360)),s=r(67294),d=l(r(56720)),o=r(93581),i=r(94010),c=l(r(39770)),m=r(99989),f=r(88102),h=l(r(69618)),p=r(79502),_=n(r(74764)),g=l(r(60453)),C=l(r(69637)),S=r(94790),x=r(47915),D=l(r(44942)),y=l(r(30855)),T=r(99234),k=r(9468),A=l(r(88990)),M=r(90011),j=r(18644),b=l(r(59552)),E=l(r(41956)),I=r(85893);const v=r(54302).Mirrored(["ADD_CATALOG_PRODUCTS","ADD_CUSTOM_ITEMS_FORM"]),O=Array.from(v.members()),w={paddingTop:"tvsr5v2h",paddingEnd:"l9g3jx6n",paddingBottom:"jd93c9cp",paddingStart:"lyvj5e2u",backgroundColor:"ihvf49ua"},P={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",marginTop:"fgtikrv0"},R=_.currencyForCountryShortcode((0,p.getCountryShortcodeByPhone)((0,T.getMeUser)().user));function N(e){let{onBack:t}=e;const[r,n]=(0,s.useState)(null),[l,a]=(0,s.useState)(null),[o,i]=(0,s.useState)(0),[m,f]=(0,s.useState)(null),[h,p]=(0,s.useState)(""),x=(0,s.useMemo)((()=>function(e){if(null==e)return"";const t=String(u.default._("Add a title",null,{hk:"3QauyV"}));return""===e.trim()?t:""}(r)),[r]),D=(0,s.useMemo)((()=>function(e){if(null==e)return"";const t=String(u.default._("Enter a valid price",null,{hk:"nzgo4"}));return""!==e.trim()&&_.validatePriceString(R,e,k.MIN_PRICE,k.MAX_PRICE)?"":t}(l)),[l]),y=(0,s.useMemo)((()=>function(e){if(""===e)return"";const t=String(u.default._("Enter a valid quantity",null,{hk:"13oaEC"})),r=Number(e);return Number.isNaN()||!Number.isInteger(r)||r<0?t:""}(h)),[h]);return(0,I.jsxs)(g.default,{children:[(0,I.jsx)(S.DrawerHeader,{title:u.default._("Add items",null,{hk:"2SjafD"}),type:S.DRAWER_HEADER_TYPE.SMALL,onBack:t,focusBackOrCancel:!0}),(0,I.jsxs)(C.default,{className:(0,d.default)(w),children:[(0,I.jsx)(M.TextInput,{a8n:"product-edit-drawer-item-name-input",value:r,placeholder:u.default._("Item name",null,{hk:"1LDktG"}),onChange:e=>{n(e)},theme:"small",customStyleThemes:["desaturated"],maxLength:150,error:x}),(0,I.jsx)(M.TextInput,{a8n:"product-edit-drawer-item-price-input",value:l,placeholder:u.default._("Price {symbol}",[u.default._param("symbol",_.formatAmount1000ToParts(R,0).symbol)],{hk:"3yCPZW"}),onChange:e=>{const t=_.valueFromString(R,e);i(t),a(e)},theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:D}),(0,I.jsx)(M.TextInput,{a8n:"product-edit-drawer-item-quantity-input",value:h,placeholder:u.default._("Quantity (Optional)",null,{hk:"30uF5W"}),onChange:e=>{let t=""===e?null:Number(e);""!==e&&(Number.isNaN(t)||!Number.isInteger(t)||Number(t)<0)&&(t=null),f(t),p(e)},theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:y}),(0,I.jsx)("div",{className:(0,d.default)(P),children:(0,I.jsx)(c.default,{type:"primary",disabled:null==r||null==l||[x,D,y].some((e=>e)),onClick:()=>{},children:u.default._("Add",null,{hk:"1PtfmH"})})})]})]})}function L(e){let{onBack:t}=e;const r=(0,b.default)((()=>new y.default));return(0,I.jsxs)(g.default,{children:[(0,I.jsx)(S.DrawerHeader,{title:u.default._("Add items",null,{hk:"2nsVXo"}),type:S.DRAWER_HEADER_TYPE.SMALL,onBack:t,focusBackOrCancel:!0}),(0,I.jsx)(C.default,{className:(0,d.default)(w),children:(0,I.jsx)(D.default,{flatListControllers:[r.current],children:(0,I.jsx)(x.FlatList,{flatListController:r.current,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=m.CatalogCollection.get((0,T.getMaybeMeUser)());if(!e)return[];return e.productCollection.getProductModels().map((e=>({itemKey:e.id.toString(),product:e})))})(),renderItem:e=>{let{product:t}=e;return(0,I.jsx)(A.default,{product:t,onClick:()=>{}})},defaultItemHeight:h.default.PRODUCT_LIST_ITEM_HEIGHT})})})]})}}}]);
//# sourceMappingURL=https://web.whatsapp.com/3770.197626af687aba0bdcf8.js.map
