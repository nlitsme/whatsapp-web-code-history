/*! For license information please see lazy_loaded_live_location_drawer.b522134c9fda2f0662c8.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{bajfghahh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getSmallestElapsedTime=r,t.isStale=function(e){return r(e)>=600},t.MARKER_SIZE=t.AVATAR_SIZE=t.PIN_SIZE=t.GLOW_SIZE=t.IMAGE_BORDER_SIZE=t.IMAGE_SIZE=t.STALE_THRESHOLD=void 0;var n=i(a("bhfcfhafdj"));t.STALE_THRESHOLD=600;t.IMAGE_SIZE=40;t.IMAGE_BORDER_SIZE=2;t.GLOW_SIZE=4;t.PIN_SIZE=4;t.AVATAR_SIZE=44;function r(e){var t=e.participants.map((function(e){return e.elapsedTime()}));return Math.min.apply(Math,(0,n.default)(t))}t.MARKER_SIZE=52},bigicfbcdh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement("div",{className:e.inactive?l.default.inactive:l.default.offline,onClick:e.onClick},r.createElement("div",null,r.createElement("div",{className:l.default.circle},r.createElement(s.default,{name:e.svgName})),r.createElement("div",{className:l.default.text},e.text)))};var r=n(a("ddhijeejag")),l=i(a("daahhbhaaf")),s=i(a("bfdcadbbif"))},bjbhhjdbaf:function(e,t){e.exports={wrapper:"_15mME",offline:"_8h2Pa",circle:"_25K-L",text:"_1hwA9",notification:"_1lr6o",ended:"_3DryD",lastUpdated:"_26UVf"}},bjjgefhdjb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("eaidjcib")),l=n(a("dgcdacjddi")),s=n(a("ffceefejc")),o=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),u=i(a("ddhijeejag")),d=n(a("eceadcicaf")),f=n(a("fbjjefaic")),h=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,o.default)(t).call(this,e))).onUpdate=function(e){a.setState({timestampText:a.getTimestampText(e)})},a.state={timestampText:a.getTimestampText(e.participant)},a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.participant;e.isMe?this.props.listeners.add(e,"change:expiration",this.onUpdate):this.props.listeners.add(e,"change:lastUpdated",this.onUpdate);var t=this.getTime(e);this.setTimeoutForNextMinute(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.participant,a=e.participant;if(t.expiration!==a.expiration&&t.lastUpdated!==a.lastUpdated){null!=this.timeoutId&&this.props.clearTimeout(this.timeoutId),null!=this.intervalId&&this.props.clearInterval(this.intervalId);var i=this.getTime(t);this.setTimeoutForNextMinute(i)}}},{key:"getTimestampText",value:function(e){return e.isMe?this.remainingTimeText(e.remainingTime()):this.elapsedTimeText(e.elapsedTime())}},{key:"getTime",value:function(e){return e.isMe?e.remainingTime():e.elapsedTime()}},{key:"setTimeoutForNextMinute",value:function(e){var t=this,a=e%60;this.timeoutId=this.props.setTimeout((function(){t.setState({timestampText:t.getTimestampText(t.props.participant)}),t.setIntervalForEveryMinute()}),1e3*a)}},{key:"setIntervalForEveryMinute",value:function(){var e=this;this.intervalId=this.props.setInterval((function(){e.setState({timestampText:e.getTimestampText(e.props.participant)})}),6e4)}},{key:"elapsedTimeText",value:function(e){var t=this.toHoursAndMinutes(e),a=t.hours,i=t.minutes;return a>0?i>0?l10n.t(686,{hours:a,minutes:i}):l10n.t(685,{hours:a,_plural:a}):i>0?l10n.t(688,{minutes:i,_plural:i}):l10n.t(687)}},{key:"remainingTimeText",value:function(e){var t=this.toHoursAndMinutes(e,!0),a=t.hours,i=t.minutes;return a>0?i>0?l10n.t(673,{hours:a,minutes:i}):l10n.t(672,{hours:a,_plural:a}):l10n.t(674,{minutes:i,_plural:i})}},{key:"toHoursAndMinutes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e;t&&(a+=59);var i=3600,n=Math.floor(a/i),r=a%i,l=Math.floor(r/60);return{hours:n,minutes:l}}},{key:"render",value:function(){return u.createElement("span",null,this.state.timestampText)}}]),t}(u.Component),p=(0,d.default)((0,f.default)(h));t.default=p},bjjigfajfj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("eaidjcib")),l=n(a("dgcdacjddi")),s=n(a("ffceefejc")),o=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),u=n(a("ceffhbhahb")),d=i(a("ddhijeejag")),f=a("ceagbbhcha"),h=n(a("cjccfbbhgh")),p=a("bajfghahh"),m=n(a("eceadcicaf")),g=n(a("eaibdicdej")),v=n(a("hgbhaedcc")),b=n(a("fbjjefaic")),j=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,o.default)(t).call(this,e))).setOverlay=function(e){a.overlay=e},a.onLocationChanged=function(e){a.props.marker.isLive&&a.props.marker.onLocationChanged()},a.onLastUpdatedTimeChanged=function(e){if(a.props.marker.isLive){null!=a.timeoutId&&(a.props.clearTimeout(a.timeoutId),a.timeoutId=null);var t=(0,p.isStale)(a.props.marker.cluster);a.state.stale!==t&&a.setState({stale:t}),t||a.setStaleTimeout()}},a.getPixelPositionOffset=function(e,t){return{x:-e/2,y:-t}},a.state={stale:!e.marker.isLive||(0,p.isStale)(e.marker.cluster)},a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.marker.isLive){var t=this.props.marker.cluster;(0,p.isStale)(t)||this.setStaleTimeout(),t.participants.forEach((function(t){e.props.listeners.add(t,"change:lat change:lng",e.onLocationChanged),e.props.listeners.add(t,"change:lastUpdated",e.onLastUpdatedTimeChanged)}))}}},{key:"setStaleTimeout",value:function(){var e=this;if(this.props.marker.isLive){var t=this.props.marker.cluster,a=p.STALE_THRESHOLD-(0,p.getSmallestElapsedTime)(t);a<=0||(this.timeoutId=this.props.setTimeout((function(){return e.setState({stale:!0})}),1e3*a))}}},{key:"getMapPaneName",value:function(){return this.props.marker.onClick?f.OverlayView.OVERLAY_MOUSE_TARGET:f.OverlayView.OVERLAY_LAYER}},{key:"render",value:function(){var e,t,a,i,n=this.props.marker,r=n.onClick,l=n.selected,s=this.state.stale;if(this.props.marker.isLive){var o=this.props.marker.cluster;e=o.lat,t=o.lng,a=o.participants.map((function(e){return e.id}))}else e=this.props.marker.lat,t=this.props.marker.lng,a=[this.props.marker.contact.id];if(l){var c,m,b;if(this.props.marker.isLive){var j=this.props.marker.cluster,M=j.participants,E=j.hasSingleParticipant()?M.at(0):null;E&&(c=E.id,m=E.accuracy,b=E.isMe)}else{var C=this.props.marker.contact;c=C.id,b=C.isMe}c&&(i=d.createElement(v.default,{id:c,lat:e,lng:t,accuracy:m,isMe:b||!1,markerSize:p.MARKER_SIZE}))}var T={height:p.AVATAR_SIZE,width:p.AVATAR_SIZE,padding:p.GLOW_SIZE},y={height:p.PIN_SIZE,width:p.PIN_SIZE,marginLeft:(p.MARKER_SIZE-p.PIN_SIZE)/2};return d.createElement(f.OverlayView,{ref:this.setOverlay,position:{lat:e,lng:t},mapPaneName:this.getMapPaneName(),getPixelPositionOffset:this.getPixelPositionOffset},d.createElement("div",{className:(0,u.default)(g.default.container,{[g.default.selected]:l}),onClick:r},i,d.createElement("div",{className:(0,u.default)(g.default.glow,{[g.default.stale]:s,[g.default.expired]:!this.props.marker.isLive}),style:T},d.createElement("div",null,d.createElement(h.default,{ids:a,size:p.IMAGE_SIZE,border:!0,showCount:!0}))),d.createElement("div",{className:(0,u.default)(g.default.pin,{[g.default.selected]:l}),style:y})))}}]),t}(d.Component),M=(0,b.default)((0,m.default)(j));t.default=M},cbjieejbh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement(o.MenuBarItem,{a8nText:"live-location-map-menu",icon:r.createElement(c.default,{name:"menu"}),title:l10n.t(736)},r.createElement(l.default,{type:"dropdown_menu",flipOnRTL:!0,dirX:l.DirX.LEFT,dirY:l.DirY.BOTTOM},r.createElement(s.default,{a8n:"mi-roadmap-view menu-item",action:e.onRoadmapSelected},l10n.t(666)),r.createElement(s.default,{a8n:"mi-satellite-view menu-item",action:e.onSatelliteSelected},l10n.t(667)),r.createElement(s.default,{a8n:"mi-terrain-view menu-item",action:e.onTerrainSelected},l10n.t(668)),r.createElement(s.default,{a8n:"mi-traffic menu-item",action:e.onTrafficToggled},e.showTraffic?l10n.t(669):l10n.t(670))))};var r=n(a("ddhijeejag")),l=n(a("dbgdaechch")),s=i(a("bhhdeihhhf")),o=a("bhfdfhefca"),c=i(a("bfdcadbbif"))},ccfbgbbbi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.withConfig=function(e){return function(t){function a(){var e,t;(0,l.default)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=(0,o.default)(this,(e=(0,c.default)(a)).call.apply(e,[this].concat(n)))).state={authFailed:!0===window.gm_authFailed},t.onAuthFailed=function(){window.gm_authFailed=!0,t.setState({authFailed:!0});var e=t.getUrl(),a=String(p.default.googleMapsDoNotAuth),i=String(p.default.googleMapsKeyless);f.default.assert(!1,"google-map-auth-failed","url: ".concat(e,"\ntarget: ").concat("web","\nprops; ").concat(a," & ").concat(i))()},t}return(0,u.default)(a,t),(0,s.default)(a,[{key:"componentDidMount",value:function(){window.gm_authFailure=this.onAuthFailed}},{key:"componentWillUnmount",value:function(){window.gm_authFailure=void 0}},{key:"getUrl",value:function(){var e={client:"gme-whatsappinc",v:"3",libraries:"geometry,drawing,places",t:Math.floor(Date.now()/864e5)};return g.default.build("https://maps.googleapis.com/maps/api/js",e)}},{key:"getMapOptions",value:function(){return{clickableIcons:!1,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,minZoom:3,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}}}},{key:"render",value:function(){if(this.state.authFailed)return d.createElement("div",{className:h.default.authFailed},l10n.t(529));var t=this.getUrl(),a=d.createElement("div",{className:h.default.loading},d.createElement(m.default,{color:"highlight"})),i=d.createElement("div",{className:h.default.container}),n=d.createElement("div",{className:h.default.map});return d.createElement(e,(0,r.default)({googleMapURL:t,loadingElement:a,containerElement:i,mapElement:n,getMapOptions:this.getMapOptions},this.props))}}]),a}(d.Component)},t.MIN_ZOOM=t.INITIAL_ZOOM=t.MAP_TYPE=void 0;var r=n(a("bacehaajgh")),l=n(a("eaidjcib")),s=n(a("dgcdacjddi")),o=n(a("ffceefejc")),c=n(a("cjedcdbdii")),u=n(a("dbjagcfebh")),d=i(a("ddhijeejag")),f=n(a("bdiiahhjbe")),h=n(a("dgbbcjjfca")),p=n(a("bfgbdiffgd")),m=n(a("becfabjeeg")),g=n(a("edbaidcaf"));t.MAP_TYPE={ROADMAP:"roadmap",SATELLITE:"satellite",TERRAIN:"terrain"};t.INITIAL_ZOOM=15;t.MIN_ZOOM=3},cgddibhfef:function(e,t){e.exports={list:"V9yxQ",stopSharingButton:"_1VgUV"}},cihjagbacg:function(e,t){e.exports={container:"_1dQ0V",border:"_1Rypf",square:"_1p5D_",avatar:"L6HYt",count:"JunU7",two:"NqP6m",first:"_134aV",second:"_3lYKe",three:"_1_Amo",third:"B7f3J",four:"_1UC-x",fourth:"_2N5xF"}},cijcbjbedf:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,i){var r=new Map;if(!e.length)return r;for(var l=e.filter((function(e){return e!==a})).sort((function(e,t){return e.lat-t.lat})),s=function(e){var a=l[e],s=void 0;if(r.forEach((function(e){!s&&e.fits(a,t,i)&&(s=e)})),s){var o=s.id;r.delete(o),s.add(a)}else s=new n.default(a);r.set(s.id,s)},o=0;o<l.length;o++)s(o);if(a&&e.length!==l.length){var c=new n.default(a);r.set(c.id,c)}return r},t.participantInCluster=function(e,t){return e.split(n.ID_SEPARATOR).includes(t.toString())},t.singleParticipantClusterId=function(e){return!e.includes(n.ID_SEPARATOR)},t.findClusterForParticipant=function(e,t){var a,i=e.values();for(;(a=i.next())&&!a.done;){var n=a.value;if(n.participants.get(t))return n}return null};var n=i(a("cjfaiihceg"))},cjccfbbhgh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ids,a=e.size,i=e.onClick,n=e.showCount,c=e.square,u=e.border,d=t.length;if(0===d)return null;if(1===d)return l.createElement(o.default,{id:t[0],size:40,onClick:i,border:u});var f=t.slice(0,4).map((function(e,t){return l.createElement("div",{key:"avatar-combo-image-".concat(t),className:(0,r.default)(s.default.avatar,{[s.default.first]:0===t,[s.default.second]:1===t,[s.default.third]:2===t,[s.default.fourth]:3===t})},l.createElement(o.default,{id:e,size:a,square:!0}))})),h=(0,r.default)(s.default.container,{[s.default.square]:c,[s.default.border]:u},{[s.default.two]:2===d,[s.default.three]:3===d,[s.default.four]:d>=4}),p=(0,o.getSize)(a),m={height:p,width:p,cursor:i?"pointer":void 0},g=n?l.createElement("div",{className:s.default.count,style:m},t.length):null;return l.createElement("div",{className:h,style:m,onClick:i},f,g)};var r=n(a("ceffhbhahb")),l=i(a("ddhijeejag")),s=n(a("cihjagbacg")),o=i(a("dhhfaeacef"))},cjfaiihceg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ID_SEPARATOR=void 0;var n=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),s=i(a("gabccaieg")),o=a("ddegchgjee");t.ID_SEPARATOR=",";var c=function(){function e(){var t=this;(0,r.default)(this,e),this.participants=new s.default;for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];i.forEach((function(e){return t.add(e)}))}return(0,l.default)(e,[{key:"add",value:function(e){this.participants.add(e)}},{key:"hasSingleParticipant",value:function(){return 1===this.length}},{key:"fits",value:function(e,t,a){var i=this.center,n=i.lat,r=i.lng,l=e.lat,s=e.lng,c=(0,o.getMetersBetweenLatLngs)(n,r,n,s),u=(0,o.getMetersBetweenLatLngs)(n,r,l,r),d=(0,o.getMetersPerPixel)(n,t);return c/d<=a&&u/d<=a}},{key:"id",get:function(){return this.participants.map((function(e){return e.id.toString()})).join(",")}},{key:"center",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:(Math.min.apply(Math,(0,n.default)(e))+Math.max.apply(Math,(0,n.default)(e)))/2,lng:(Math.min.apply(Math,(0,n.default)(t))+Math.max.apply(Math,(0,n.default)(t)))/2}}},{key:"lat",get:function(){return this.center.lat}},{key:"lng",get:function(){return this.center.lng}},{key:"length",get:function(){return this.participants.length}},{key:"northeast",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:Math.max.apply(Math,(0,n.default)(e)),lng:Math.max.apply(Math,(0,n.default)(t))}}},{key:"southwest",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:Math.min.apply(Math,(0,n.default)(e)),lng:Math.min.apply(Math,(0,n.default)(t))}}}]),e}();t.default=c},daahhbhaaf:function(e,t){e.exports={wrapper:"_2fnzN",inactive:"_3ta5X",offline:"_2Ct3u",circle:"bgT-e",text:"_3_nUX",backToCenter:"_1j3be",visible:"_1kpZ9"}},dbgdhjcfjh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("hbddjfeei")),l=n(a("eaidjcib")),s=n(a("dgcdacjddi")),o=n(a("ffceefejc")),c=n(a("cjedcdbdii")),u=n(a("djecdhecha")),d=n(a("dbjagcfebh")),f=n(a("eaaagccfda")),h=i(a("ddhijeejag")),p=a("ceagbbhcha"),m=a("ccfbgbbbi"),g=n(a("bjjigfajfj")),v=n(a("ceddibdhdb")),b=a("ddegchgjee"),j=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,o.default)(this,(0,c.default)(t).call(this,e))).setMap=function(e){return a.map=e},a.onLocationChanged=function(e){var t=a.props,i=t.clusters,n=t.atCenter,r=t.selectedMarkerId;if(a.props.onLocationChanged(),!r&&n)a.viewAllClusters();else if(r&&r===e){var l=i.get(r);l&&a.viewSingleCluster(l)}},a.onIdle=(0,f.default)((function(){var e=a.map;if(e){var t=e.getZoom();if(a.zoomingToAllClusters){a.defaultZoomLevel=t,a.zoomingToAllClusters=!1;var i=(0,u.default)(a).zoomHistory;if(i.prev.preZoom===i.curr.postZoom&&i.prev.postZoom===i.curr.preZoom)return}a.props.onMapMoved(t,a.atCenter())}}),100),a.onDragStart=function(){var e=a.map;if(e){var t=e.getZoom();a.props.onMapMoved(t,!1)}},a.onResize=(0,f.default)((function(){a.setMapLatLngDiff()}),250),a.mapOnClick=function(e){a.dismissMarkerTimer.debounceAndCap(50,100)},a.markerOnClick=function(e,t){a.dismissMarkerTimer.isScheduled()&&a.dismissMarkerTimer.cancel(),a.props.onMarkerSelected(t)},a.dismissMarkerTimer=new v.default((function(){a.props.selectedMarkerId&&a.props.onClearSelected()})),a.defaultLatDiff=a.defaultLngDiff=.01,a.defaultZoomLevel=-1,a.zoomingToAllClusters=!1,a.zoomHistory={prev:{preZoom:-1,postZoom:-1},curr:{preZoom:-1,postZoom:-1}},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.onIdle.cancel(),this.onResize.cancel(),window.removeEventListener("resize",this.onResize),this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.setMapLatLngDiff(),this.viewAllClusters()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.clusters,i=t.secondaryClusters,n=t.selectedMarkerId,r=t.atCenter,l=e.selectedMarkerId;if(this.setMapLatLngDiff(),a.size&&(!l||n||r))if(n&&l!==n){var s=a.get(n)||i.get(n);s&&this.viewSingleCluster(s)}else!n&&r&&this.viewAllClusters()}},{key:"viewAllClusters",value:function(){var e=this.props.clusters;0===e.size||this.atCenter()||(this.zoomToFitAllClusters(e),this.centerAllClusters(e))}},{key:"viewSingleCluster",value:function(e){this.zoomToFitSingleCluster(e),this.centerSingleCluster(e)}},{key:"zoomToFitAllClusters",value:function(e){var t=this.map;if(t){this.zoomingToAllClusters=!0,this.zoomHistory.prev.preZoom=this.zoomHistory.curr.preZoom,this.zoomHistory.curr.preZoom=t.getZoom();var a=this.getBounds(e),i=e.entries().next();if(1!==e.size||i.done)this.boundsTooSmall(a)?t.fitBounds(this.getDefaultBounds(a.getCenter())):t.fitBounds(a);else{var n=(0,r.default)(i.value,2)[1];this.zoomToFitSingleCluster(n,!1)}this.zoomHistory.prev.postZoom=this.zoomHistory.curr.postZoom,this.zoomHistory.curr.postZoom=t.getZoom()}}},{key:"zoomToFitSingleCluster",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.map;if(a&&(!t||!this.boundsTooSmall(a.getBounds()))){var i=e.northeast,n=e.southwest,r=new google.maps.LatLng(i.lat,i.lng),l=new google.maps.LatLng(n.lat,n.lng),s=new google.maps.LatLngBounds(l,r);this.boundsTooSmall(s)?a.fitBounds(this.getDefaultBounds(s.getCenter())):a.fitBounds(s)}}},{key:"centerAllClusters",value:function(e){var t=this.getBounds(e).getCenter();this.centerMap(t)}},{key:"centerSingleCluster",value:function(e){var t=new google.maps.LatLng(e.center);this.centerMap(t)}},{key:"centerMap",value:function(e){var t=this.map;t&&(t.getCenter().equals(e)||t.panTo(e))}},{key:"getInitialCenter",value:function(){return this.getBounds(this.props.clusters).getCenter()}},{key:"getBounds",value:function(e){var t=new google.maps.LatLngBounds;return e.forEach((function(e){t.extend({lat:e.lat,lng:e.lng})})),t}},{key:"boundsTooSmall",value:function(e){var t=e.getNorthEast(),a=e.getSouthWest(),i=t.lat()-a.lat(),n=t.lng()-a.lng(),r=this.defaultLatDiff,l=this.defaultLngDiff,s=Math.abs(i)<r,o=Math.abs(n)<l;return s||o}},{key:"getDefaultBounds",value:function(e){var t=this.defaultLatDiff,a=this.defaultLngDiff,i=new google.maps.LatLng(e.lat()-t/2,e.lng()-a/2),n=new google.maps.LatLng(e.lat()+t/2,e.lng()+a/2);return new google.maps.LatLngBounds(i,n)}},{key:"atCenter",value:function(){var e=this.map;if(!e)return!0;var t=e.getCenter(),a=this.getInitialCenter(),i=t.lat()-a.lat(),n=t.lng()-a.lng();return Math.abs(i)<1e-4&&Math.abs(n)<1e-4&&this.defaultZoomLevel===e.getZoom()}},{key:"setMapLatLngDiff",value:function(){var e=this.map;if(e){var t=e.getCenter(),a=e.getDiv(),i=(0,b.getMetersPerPixel)(t.lat(),m.INITIAL_ZOOM),n=a.offsetWidth*i,r=a.offsetHeight*i;this.defaultLatDiff=(0,b.getLatDiff)(r),this.defaultLngDiff=(0,b.getLngDiff)(n,t.lat())}}},{key:"getMarkers",value:function(){var e=this,t=this.props,a=t.clusters,i=t.secondaryClusters,n=t.selectedMarkerId,r=[],l=function(t,a){var i={isLive:!0,cluster:t,onLocationChanged:function(){return e.onLocationChanged(a)},selected:n===a,onClick:function(t){return e.markerOnClick(t,a)}};r.push(h.createElement(g.default,{key:a,marker:i}))};return a.forEach(l),i.forEach(l),r}},{key:"getTrafficLayer",value:function(){return this.props.showTraffic?h.createElement(p.TrafficLayer,{autoRefresh:!0}):null}},{key:"render",value:function(){return h.createElement(p.GoogleMap,{ref:this.setMap,defaultCenter:this.getInitialCenter(),defaultOptions:this.props.getMapOptions(),defaultZoom:m.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick,onDragStart:this.onDragStart,onIdle:this.onIdle},this.getMarkers(),this.getTrafficLayer())}}]),t}(h.Component),M=(0,m.withConfig)((0,p.withScriptjs)((0,p.withGoogleMap)(j)));t.default=M},dbjbcfbedg:function(e,t){e.exports={container:"_1MWrl",list:"_2N1kz",header:"_1Zo4n",item:"_2pa5M",right:"_3akhE",left:"_2yXYr",close:"_2Tl9p",name:"pW-Fm",time:"_2vNEJ"}},ddegchgjee:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetersBetweenLatLngs=function(e,t,a,n){var r=i(a-e),l=i(n-t),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(i(e))*Math.cos(i(a))*Math.sin(l/2)*Math.sin(l/2),o=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return 6371e3*o},t.getMetersPerPixel=function(e,t){var a=Math.cos(e*Math.PI/180),i=1/Math.pow(2,t);return 156543.03392*a*i},t.getLatDiff=function(e){return n(e/6371e3)},t.getLngDiff=function(e,t){var a=6371e3*Math.cos(i(t));return n(e/a)};function i(e){return e*(Math.PI/180)}function n(e){return e*(180/Math.PI)}},ddijbgcjdg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("eaidjcib")),l=n(a("dgcdacjddi")),s=n(a("ffceefejc")),o=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),u=i(a("ddhijeejag")),d=n(a("cfadcbbiie")),f=n(a("djcchigfih")),h=n(a("djbhiedbef")),p=i(a("dajffajabh")),m=n(a("jheedhagg")),g=n(a("bjbhhjdbaf")),v=n(a("eceadcicaf")),b=n(a("djbagbhheh")),j=a("ccfbgbbbi"),M=n(a("cbjieejbh")),E=n(a("bbgcdfeifh")),C=n(a("ihfccfgdf")),T=n(a("bfdcadbbif")),y=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,o.default)(t).call(this,e))).onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onRoadmapSelected=function(e){a.setState({mapType:j.MAP_TYPE.ROADMAP})},a.onSatelliteSelected=function(e){a.setState({mapType:j.MAP_TYPE.SATELLITE})},a.onTerrainSelected=function(e){a.setState({mapType:j.MAP_TYPE.TERRAIN})},a.onTrafficToggled=function(e){a.setState((function(e){return{showTraffic:!e.showTraffic}}))},a.onMarkerSelected=function(e){a.setState({markerSelected:e})},a.state={mapType:j.MAP_TYPE.ROADMAP,showTraffic:!1,markerSelected:!1,online:E.default.online},a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(E.default,"change:online",(function(){e.setState({online:E.default.online})}))}},{key:"render",value:function(){var e,t,a,i,n=u.createElement(M.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:this.state.showTraffic}),r=this.props.msg,l=r.finalLat,s=r.finalLng,o=r.finalTimeOffset,c=r.lat,m=r.lng,v=r.senderObj,j=r.t,E=this.state,C=E.mapType,y=E.showTraffic,k=E.markerSelected;return void 0===l||void 0===s||void 0===o?(e=c,t=m,a=j):(e=l,t=s,a=j+o),i=E.online?u.createElement("div",{className:g.default.wrapper},u.createElement(b.default,{contact:v,lat:e,lng:t,mapType:C,showTraffic:y,markerSelected:k,onMarkerSelected:this.onMarkerSelected}),u.createElement("div",{className:g.default.notification},u.createElement("div",{className:g.default.ended},l10n.t(659)),u.createElement("div",{className:g.default.lastUpdated},d.default.liveLocationLastUpdatedStr(a)))):u.createElement("div",{className:g.default.offline},u.createElement("div",null,u.createElement("div",{className:g.default.circle},u.createElement(T.default,{name:"live-location-disconnected"})),u.createElement("div",{className:g.default.text},l10n.t(707)))),u.createElement(f.default,null,u.createElement(p.default,{title:l10n.t(660),type:p.DRAWER_HEADER_TYPE.SMALL,menu:n,onCancel:this.onClose}),u.createElement(h.default,null,i))}}]),t}(u.PureComponent);y.CONCERNS={msg:["finalLat","finalLng","finalTimeOffset","lat","lng","senderObj","t"]};var k=(0,m.default)((0,v.default)((0,C.default)(y,y.CONCERNS)));t.default=k},dfjgigggff:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("eaidjcib")),l=n(a("dgcdacjddi")),s=n(a("ffceefejc")),o=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),u=n(a("bebajedcaf")),d=n(a("hhegggegb")),f=n(a("ceffhbhahb")),h=i(a("ddhijeejag")),p=n(a("iffcchifj")),m=i(a("cijcbjbedf")),g=n(a("bbchdeehff")),v=a("bajfghahh"),b=n(a("djcchigfih")),j=n(a("djbhiedbef")),M=i(a("dajffajabh")),E=n(a("jheedhagg")),C=n(a("daahhbhaaf")),T=n(a("eceadcicaf")),y=n(a("cfhcfebgda")),k=n(a("dbgdhjcfjh")),S=a("ccfbgbbbi"),L=n(a("cbjieejbh")),I=n(a("bbgcdfeifh")),_=n(a("gbjbehfjb")),P=n(a("bigicfbcdh")),A=n(a("ihfccfgdf")),w=a("bheafeifce"),O=n(a("bfdcadbbif")),N=n(a("fbjjefaic")),R=i(a("bfjajhbdf")),x=n(a("jccfhaecf")),D=a("dcbdjheea"),Z=["click","mousedown","mousemove","scroll"],z="ACTIVE",F="INACTIVE",U="OFFLINE",B=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,o.default)(t).call(this,e))).onParticipantAdd=function(){var e=a.state,t=e.zoomLevel,i=e.selectedParticipantId;a.updateMinZoomClusters(),a.setState({clusters:a.getClusters(t,i)})},a.onParticipantRemove=function(e){var t=a.state,i=t.selectedClusterId,n=t.selectedParticipantId,r=t.zoomLevel;a.updateMinZoomClusters();var l=i,s=n;i&&(0,m.participantInCluster)(i,e.id)&&(l=null),x.default.equals(n,e.id)&&(s=null),a.setState({selectedClusterId:l,selectedParticipantId:s,clusters:a.getClusters(r,s)})},a.onParticipantDisable=function(e){if(!e.isMe){var t=e.contact.formattedName;g.default.openToast(h.createElement(R.default,{msg:l10n.t(683,{name:t}),id:(0,R.genId)()}))}},a.onLocationChanged=function(){var e=a.state,t=e.zoomLevel,i=e.selectedParticipantId;a.updateMinZoomClusters(),a.setState({clusters:a.getClusters(t,i)})},a.onIdle=function(){var e=a.props.chat.liveLocation;e&&(e.stopViewingMap(),a.setState({status:F}))},a.onActivity=(0,d.default)((function(){a.removeIdleTimeout(),a.addIdleTimeout()}),250),a.onRefresh=function(){var e=a.props.chat.liveLocation;e&&(e.startViewingMap(),a.setState({status:z}))},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onMarkerSelected=function(e){e?(0,m.singleParticipantClusterId)(e)?a.onParticipantSelected(e):a.onClusterSelected(e):a.onClearSelected()},a.onClearSelected=function(){var e=a.state,t=e.selectedParticipantId,i=e.selectedClusterId,n=e.zoomLevel;(t||i)&&a.setState({selectedParticipantId:null,selectedClusterId:null,clusters:a.getClusters(n)})},a.onClusterSelected=function(e){a.state.selectedClusterId!==e&&a.setState({selectedParticipantId:null,selectedClusterId:e})},a.onParticipantSelected=function(e){var t=a.state,i=t.selectedParticipantId,n=t.zoomLevel,r=(0,D.createWid)(e);x.default.equals(i,r)||a.setState({selectedParticipantId:r,selectedClusterId:null,clusters:a.getClusters(n,r)})},a.onStopSharing=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.chat;g.default.openModal(h.createElement(y.default,{chat:t}))},a.onRoadmapSelected=function(e){a.setState({mapType:S.MAP_TYPE.ROADMAP})},a.onSatelliteSelected=function(e){a.setState({mapType:S.MAP_TYPE.SATELLITE})},a.onTerrainSelected=function(e){a.setState({mapType:S.MAP_TYPE.TERRAIN})},a.onTrafficToggled=function(e){a.setState((function(e){return{showTraffic:!e.showTraffic}}))},a.onBackToCenter=function(e){a.setState({selectedParticipantId:null,selectedClusterId:null,atCenter:!0,clusters:a.getClusters(a.state.zoomLevel)})},a.onMapMoved=function(e,t){a.setState((function(i){var n={};if(i.zoomLevel!==e){var r=a.getClusters(e,i.selectedParticipantId);Object.assign(n,{zoomLevel:e,clusters:r})}return a.hasValidParticipants()&&i.atCenter!==t&&Object.assign(n,{atCenter:t}),(0,u.default)(n)?null:n}))},a.updateMinZoomClusters(),a.state={clusters:a.getClusters(S.INITIAL_ZOOM),selectedClusterId:null,selectedParticipantId:null,mapType:S.MAP_TYPE.ROADMAP,showTraffic:!1,zoomLevel:S.INITIAL_ZOOM,atCenter:!0,status:I.default.online?z:U},a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.listenToModelChange(),this.listenToNetworkChange(),this.startCheckingForIdle();var e=this.props.chat.liveLocation;e&&(e.startViewingMap(),this.addParticipantListeners(e))}},{key:"componentWillUnmount",value:function(){this.onActivity.cancel();var e=this.props.chat.liveLocation;e&&e.stopViewingMap()}},{key:"addParticipantListeners",value:function(e){this.props.listeners.add(e.participants,"add",this.onParticipantAdd),this.props.listeners.add(e.participants,"remove",this.onParticipantRemove),this.props.listeners.add(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.add(e.participants,"change:valid",this.onLocationChanged)}},{key:"removeParticipantListeners",value:function(e){this.props.listeners.remove(e.participants,"add",this.onParticipantAdd),this.props.listeners.remove(e.participants,"remove",this.onParticipantRemove),this.props.listeners.remove(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.remove(e.participants,"change:valid",this.onLocationChanged)}},{key:"listenToModelChange",value:function(){var e=this,t=this.props.chat;this.props.listeners.add((0,w.unproxy)(t),"change:liveLocation",(function(){var a=t.liveLocation;a&&(e.removeParticipantListeners(a),e.addParticipantListeners(a));var i=e.state.zoomLevel;e.setState({clusters:e.getClusters(i)})}))}},{key:"listenToNetworkChange",value:function(){var e=this;this.props.listeners.add(I.default,"change:online",(function(){I.default.online||e.stopCheckingForIdle(),e.setState({status:I.default.online?z:U})}))}},{key:"startCheckingForIdle",value:function(){this.addIdleTimeout(),this.addActivityListeners()}},{key:"stopCheckingForIdle",value:function(){this.removeIdleTimeout(),this.removeActivityListeners()}},{key:"addIdleTimeout",value:function(){this.idleTimeoutId=this.props.setTimeout(this.onIdle,18e4)}},{key:"removeIdleTimeout",value:function(){null!=this.idleTimeoutId&&this.props.clearTimeout(this.idleTimeoutId),this.idleTimeoutId=null}},{key:"addActivityListeners",value:function(){var e=this;Z.forEach((function(t){e.props.listeners.add(document,t,e.onActivity)}))}},{key:"removeActivityListeners",value:function(){var e=this;Z.forEach((function(t){e.props.listeners.remove(document,t,e.onActivity)}))}},{key:"updateMinZoomClusters",value:function(){var e=this.getParticipants(),t=e?e.validLocations():[];this.minZoomClusters=(0,m.default)(t,S.MIN_ZOOM,null,v.MARKER_SIZE)}},{key:"getParticipants",value:function(){var e=this.props.chat.liveLocation;return e?e.participants:null}},{key:"hasValidParticipants",value:function(){var e=this.getParticipants();return!!e&&!!e.validLocations().length}},{key:"getOpenFromCluster",value:function(){var e=this.getParticipants();if(!e||0===e.length)return null;var t=this.props.openFrom,a=null;if(t)a=t;else{var i=e.at(0);i&&(a=i.id)}return a?(0,m.findClusterForParticipant)(this.minZoomClusters,a):null}},{key:"getClusters",value:function(e,t){var a=this.getParticipants(),i=null,n=[];a&&(t&&(i=a.get(t)),n=a.validLocations());var r=n,l=[];if(this.minZoomClusters.size>1){var s=this.getOpenFromCluster();if(s){var o=s.participants;r=o.validLocations(),l=n.filter((function(e){var t=e.id;return!o.get(t)}))}}return{primary:(0,m.default)(r,e,i,v.MARKER_SIZE),secondary:(0,m.default)(l,e,i,v.MARKER_SIZE)}}},{key:"getList",value:function(){var e,t=this.state,a=t.clusters,i=t.selectedClusterId,n=this.getParticipants();if(n&&n.length){if(i){var r=a.primary.get(i)||a.secondary.get(i);if(r){var l=r.participants;e=h.createElement(p.default,{participants:l,onParticipantSelected:this.onParticipantSelected,onClearSelected:this.onClearSelected})}}e||(e=h.createElement(_.default,{participants:n,onParticipantSelected:this.onParticipantSelected,onStopSharing:this.onStopSharing}))}return e}},{key:"render",value:function(){var e,t;this.props.isFirstLevel?e=this.onClose:t=this.onClose;var a,i,n=this.state,r=n.selectedParticipantId,l=n.selectedClusterId,s=n.mapType,o=n.showTraffic,c=n.atCenter,u=n.status,d=u===z?h.createElement(L.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:o}):null;if(u===z||u===F){var p=r&&r.toString()||l;a=h.createElement("div",{className:C.default.wrapper},h.createElement("div",{className:(0,f.default)(C.default.backToCenter,{[C.default.visible]:!c}),onClick:this.onBackToCenter},h.createElement(O.default,{name:"live-location-reset"})),h.createElement(k.default,{clusters:this.state.clusters.primary,secondaryClusters:this.state.clusters.secondary,selectedMarkerId:p,openFrom:this.props.openFrom,mapType:s,showTraffic:o,atCenter:c,onMarkerSelected:this.onMarkerSelected,onClearSelected:this.onClearSelected,onLocationChanged:this.onLocationChanged,onMapMoved:this.onMapMoved}),this.getList())}if(u===F||u===U){var m=u===F,g=m?"live-location-refresh":"live-location-disconnected",v=m?l10n.t(671):l10n.t(707);i=h.createElement(P.default,{inactive:m,svgName:g,text:v,onClick:m?this.onRefresh:void 0})}return h.createElement(b.default,null,h.createElement(M.default,{title:l10n.t(684),type:M.DRAWER_HEADER_TYPE.SMALL,menu:d,onBack:t,onCancel:e}),h.createElement(j.default,null,a,i))}}]),t}(h.PureComponent);B.CONCERNS={chat:["id","liveLocation"]};var V=(0,E.default)((0,N.default)((0,T.default)((0,A.default)(B,B.CONCERNS))));t.default=V},dgbbcjjfca:function(e,t){e.exports={container:"_3ZRry",map:"_34_O7",loading:"-PD9k",authFailed:"_1UCLO"}},djbagbhheh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("eaidjcib")),l=n(a("dgcdacjddi")),s=n(a("ffceefejc")),o=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),u=i(a("ddhijeejag")),d=a("ceagbbhcha"),f=a("ccfbgbbbi"),h=n(a("bjjigfajfj")),p=n(a("ceddibdhdb")),m=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,o.default)(t).call(this,e))).setMap=function(e){return a.map=e},a.mapOnClick=function(e){a.dismissMarkerTimer.debounceAndCap(50,100)},a.markerOnClick=function(e){a.dismissMarkerTimer.isScheduled()&&a.dismissMarkerTimer.cancel(),a.props.onMarkerSelected(!0)},a.getPixelPositionOffset=function(e,t){return{x:-e/2,y:-t}},a.dismissMarkerTimer=new p.default((function(){a.props.markerSelected&&a.props.onMarkerSelected(!1)})),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}},{key:"getMapPaneName",value:function(){return d.OverlayView.OVERLAY_MOUSE_TARGET}},{key:"getMarkers",value:function(){var e=this,t=this.props,a=t.lat,i=t.lng,n={isLive:!1,contact:t.contact,lat:a,lng:i,selected:t.markerSelected,onClick:function(t){return e.markerOnClick(t)}};return u.createElement(h.default,{marker:n})}},{key:"getTrafficLayer",value:function(){return this.props.showTraffic?u.createElement(d.TrafficLayer,{autoRefresh:!0}):null}},{key:"render",value:function(){var e=this.props,t=e.lat,a=e.lng;return u.createElement(d.GoogleMap,{ref:this.setMap,defaultCenter:{lat:t,lng:a},defaultOptions:this.props.getMapOptions(),defaultZoom:f.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick},this.getMarkers(),this.getTrafficLayer())}}]),t}(u.Component),g=(0,f.withConfig)((0,d.withScriptjs)((0,d.withGoogleMap)(m)));t.default=g},eaibdicdej:function(e,t){e.exports={container:"_hqS5",selected:"_3a3LP",glow:"_1Z60u",stale:"dAoZL",expired:"_2zEG8",pin:"_1AIor"}},gbjbehfjb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("eaidjcib")),l=n(a("dgcdacjddi")),s=n(a("ffceefejc")),o=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),u=i(a("ddhijeejag")),d=n(a("hdccjfbbg")),f=n(a("bbhhbdicgc")),h=n(a("cicjcfabii")),p=n(a("bggeiidigb")),m=n(a("cgddibhfef")),g=n(a("bjjgefhdjb")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return(a=(0,s.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n)))).flatListController=new p.default,a.renderListItem=function(e){var t=e.participant,i=t.valid?u.createElement(g.default,{participant:t}):l10n.t(692),n=t.valid?function(){return a.props.onParticipantSelected(t.contact.id.toString())}:null,r=t.isMe?u.createElement("div",{onClick:a.props.onStopSharing,className:m.default.stopSharingButton},l10n.t(682)):null;return u.createElement(d.default,{contact:t.contact,secondary:i,onClick:n,detail:r})},a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"getListData",value:function(){return this.props.participants.map((function(e){return{itemKey:e.id.toString(),contentKey:e.valid?"valid":"invalid",participant:e}}))}},{key:"render",value:function(){var e=this.getListData();return u.createElement(h.default,{className:m.default.list,flatListControllers:[this.flatListController]},u.createElement(f.default,{data:e,renderItem:this.renderListItem,flatListController:this.flatListController,direction:"vertical"}))}}]),t}(u.Component);t.default=v},hgbhaedcc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("eaidjcib")),l=n(a("dgcdacjddi")),s=n(a("ffceefejc")),o=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),u=n(a("ceffhbhahb")),d=i(a("ddhijeejag")),f=n(a("dbdfbgehgj")),h=n(a("bbchdeehff")),p=n(a("ebcfjdcbhh")),m=n(a("dhigahgdjb")),g=n(a("bhhdeihhhf")),v=a("bidfjbaebi"),b=a("igiffibee"),j=n(a("bhheahajjg")),M=n(a("ijeidagjd")),E=n(a("bfdcadbbif")),C=n(a("caffijjhc")),T=n(a("dbjbhajgfd")),y=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,o.default)(t).call(this,e))).mouseEnter=function(e){a.state.hover||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a.onDirection=function(){var e=a.props,t=e.lat,i=e.lng;(0,v.openExternalLink)((0,b.getDirectionUrl)(t,i))},a.onMessage=function(){var e=a.props.id;f.default.find(e).then((function(e){e.active&&h.default.existsDrawerRight((function(e){e&&2===p.default.column&&h.default.closeDrawerRight()})),h.default.openChatFromUnread(e).then((function(t){t&&h.default.focusChatTextInput(e)}))}))},a.onContextOpen=function(e){var t=e&&e.target;a.setState({contextMenu:{menu:a.getContextMenu(),anchor:t}})},a.onContextClose=function(){a.setState({contextMenu:!1})},a.state={hover:!1,contextMenu:!1},a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"getContextMenu",value:function(){var e=[];return e.push(d.createElement(g.default,{key:"direction",a8n:"get-directions",action:this.onDirection},l10n.t(502))),e.push(d.createElement(g.default,{key:"message",a8n:"send-message",action:this.onMessage},l10n.t(737))),e}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.accuracy,i=e.isMe,n=e.markerSize,r=m.default.assertGet(t),l={transform:"translateX(calc(-50% + ".concat(n/2,"px))")},s=d.createElement("div",{className:M.default.name},d.createElement(j.default,{ellipsify:!0,you:!0,contact:r})),o=null!=a?d.createElement("div",{className:M.default.status},l10n.t(657,{accuracy:a,_plural:a})):null,c=i?null:d.createElement("div",{onClick:this.onContextOpen,className:M.default.menuButton},d.createElement(E.default,{name:"down"})),f=d.createElement("div",{className:M.default.triangle}),h=!i&&this.state.contextMenu?d.createElement(C.default,{displayName:"LiveLocationPopupContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},d.createElement(T.default,{contextMenu:this.state.contextMenu})):null;return d.createElement("div",{className:(0,u.default)(M.default.container,{[M.default.twoLines]:!!o}),style:l},d.createElement("div",{className:M.default.popup,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseLeave,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},s,o,c),f,h)}}]),t}(d.Component);t.default=y},iffcchifj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("eaidjcib")),l=n(a("dgcdacjddi")),s=n(a("ffceefejc")),o=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),u=i(a("ddhijeejag")),d=n(a("dbjbcfbedg")),f=n(a("dhhfaeacef")),h=n(a("bbhhbdicgc")),p=n(a("cicjcfabii")),m=n(a("bggeiidigb")),g=n(a("bhheahajjg")),v=n(a("bfdcadbbif")),b=n(a("bjjgefhdjb")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return(a=(0,s.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n)))).flatListController=new m.default,a.renderListItem=function(e){var t=e.participant,i=t.isMe?u.createElement("div",{className:d.default.time},u.createElement(b.default,{participant:t})):null;return u.createElement("div",{className:d.default.item,onClick:function(){return a.props.onParticipantSelected(t.contact.id.toString())}},u.createElement("div",{className:d.default.left},u.createElement(f.default,{id:t.contact.id,size:28})),u.createElement("div",{className:d.default.right},u.createElement("div",{className:d.default.name},u.createElement(g.default,{contact:t.contact,titlify:!0,ellipsify:!0,you:!0})),i))},a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"getListData",value:function(){return this.props.participants.map((function(e){return{itemKey:e.id.toString(),participant:e}}))}},{key:"render",value:function(){return u.createElement("div",{className:d.default.container},u.createElement("div",{className:d.default.header},u.createElement("div",{className:d.default.left},u.createElement("span",{className:d.default.close,onClick:this.props.onClearSelected},u.createElement(v.default,{name:"x-light"}))),u.createElement("div",{className:d.default.right},l10n.t(658,{count:this.props.participants.length,_plural:this.props.participants.length}))),u.createElement(p.default,{className:d.default.list,flatListControllers:[this.flatListController]},u.createElement(h.default,{data:this.getListData(),flatListController:this.flatListController,direction:"vertical",defaultItemHeight:48,renderItem:this.renderListItem})))}}]),t}(u.Component);t.default=j},ijeidagjd:function(e,t){e.exports={popup:"_1JhHy",container:"_1v0kv",twoLines:"_2Hd2W",name:"_1LT33",status:"_3RQo-",menuButton:"_28WN-",triangle:"nsMfv"}}}]);