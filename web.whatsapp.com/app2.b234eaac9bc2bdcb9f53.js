/*! Copyright (c) 2019 WhatsApp Inc. All Rights Reserved. */
webpackJsonp([0],{baaaeiafec:function(e,t){e.exports={muted:"yQFcY",item:"X7YrQ"}},babadgcffh:function(e,t){e.exports={muted:"_3IgiV",title:"_2XH7W"}},babbeaeffj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("ddeihcgfbg"),o=a(r),i=n("bdiiahhjbe"),l=a(i),s=function(e,t){l.default.assert(t.focusNode,"serializeTextBeforeCursor requires selection.focusNode")();var n=document.createRange();n.setStart(e,0),n.setEnd(t.focusNode,t.focusOffset);var a=n.cloneContents();return(0,o.default)(a,[])};t.default=s},babhhabdgf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("eadfaddcj"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("ceffhbhahb"),g=a(b),v=n("fifhbjiec"),y=a(v),_=n("cijhchjfjc"),E=a(_),j=n("bidfjbaebi"),w=a(j),O=n("edbaidcaf"),C=a(O),S=n("ddfjdghbjb"),P=a(S),M=n("ecibddhig"),T=r(M),k=n("ichhibhgh"),N=a(k),I=n("eceadcicaf"),R=a(I),A=n("ejbdjaifi"),D=n("bheafeifce"),x=n("chajfbfiga"),L=a(x),F=n("ccaaiecfib"),U=a(F),B=n("cgecdbiihg"),G=n("fffdgbfji"),V=a(G),W=n("bdiiahhjbe"),H=a(W),Y=n("bcafcjajcb"),q=a(Y),K=n("bfdcadbbif"),z=a(K),Q=n("bfjajhbdf"),X=a(Q),J={PREVIEW:"PREVIEW",FLOATER:"FLOATER"},Z=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefThumbnailWrapper=function(e){n.refThumbnailWrapper=e},n.getThumbnailWrapperRect=function(){return n.refThumbnailWrapper?n.refThumbnailWrapper.getBoundingClientRect():null},n.setPreviewMode=function(){n.state.mode!==J.PREVIEW&&n.setState({mode:J.PREVIEW})},n.setFloaterMode=function(){n.state.mode!==J.FLOATER&&n.setState({mode:J.FLOATER})},n.parseYoutubeVideoId=function(e){for(var t=B.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE,n=null,a=0;a<t.length;a++){var r=e.match(t[a]);if(r){n=r[1];break}}return n},n.parseYoutubeVideoStartTime=function(e){var t=e.split("?");if(2!==t.length)return 0;var n=t[1],a=new P.default(n).get(B.YOUTUBE_URL_TIME_PARAM_NAME);if(!a)return 0;var r=a.match(B.YOUTUBE_URL_TIME_PARAM_PATTERN),o=0;if(r&&r.length)for(var i=1;i<r.length;i++){var l=r[i];if(l){var s=parseInt(l,10);if(isNaN(s))return 0;l.endsWith("h")&&(o+=3600*s),l.endsWith("m")&&(o+=60*s),l.endsWith("s")&&(o+=s),/^\d+$/.test(l)&&(o+=s)}}return o};var a=N.default.isOpened((0,D.unproxy)(e.msg))?J.FLOATER:J.PREVIEW;return n.state={mode:a},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(N.default,this.props.msg.id.toString()+"_pip_did_open",this.setFloaterMode),this.props.listeners.add(N.default,this.props.msg.id.toString()+"_pip_did_close",this.setPreviewMode)}},{key:"render",value:function(){var e,t=this,n=this.props.msg.description?f.createElement("div",{className:E.default.description,title:this.props.msg.description},f.createElement(y.default,{text:this.props.msg.description})):null,a=C.default.hostname(this.props.msg.canonicalUrl||this.props.msg.matchedText),r=f.createElement("div",{className:E.default.source},f.createElement(y.default,{text:a})),i=(0,g.default)(E.default.body,o({},E.default.noThumb,!this.props.msg.thumbnail)),l=void 0;if(this.state.mode===J.PREVIEW)switch(a){case p.default.HOSTNAME.YOUTUBE:var s=this.parseYoutubeVideoId(this.props.msg.matchedText);if(s){var u=this.parseYoutubeVideoStartTime(this.props.msg.matchedText);l=function(e){e&&e.stopPropagation(),N.default.openYoutubePiP(s,t.props.msg,u,t.getThumbnailWrapperRect())}}break;case p.default.HOSTNAME.INSTAGRAM:case p.default.HOSTNAME.STREAMABLE:case p.default.HOSTNAME.FACEBOOK:U.default.supportsFeature(U.default.F.VIDEO_PLAYBACK_URL)&&(l=function(e){N.default.openOgVideoPiP("",t.props.msg.thumbnail,t.props.msg,0,t.getThumbnailWrapperRect()),L.default.queryVideoPlaybackUrl(t.props.msg.matchedText).then(function(e){if(N.default.isOpened(t.props.msg)){if(!e.url)throw new Error("Url is missing in response.");N.default.openOgVideoPiP(e.url,t.props.msg.thumbnail,t.props.msg,0,null)}}).catch(function(e){H.default.assert(!1,"Wap Error","The request Wap.queryVideoPlaybackUrl receives an invalid response: "+e)(),N.default.closeOgVideoPiP(),m.default.openToast(f.createElement(X.default,{id:(0,Q.genId)(),msg:V.default.t("picture_in_picture_cannot_play"),action:{actionText:V.default.t("picture_in_picture_open_link"),onAction:function(){(0,j.openExternalLink)(t.props.msg.matchedText)}}}))})});break;default:return null}var c=(0,g.default)(E.default.preview,(e={},o(e,E.default.bubbleIn,!this.props.msg.isSentByMe),o(e,E.default.bubbleOut,this.props.msg.isSentByMe),e)),d=this.state.mode===J.PREVIEW?f.createElement("div",{className:E.default.mediaStateControlsWrapper},f.createElement(T.Play,null)):null,h=this.state.mode===J.FLOATER?f.createElement(q.default,{icon:f.createElement(z.default,{name:"video-pip-large"})},V.default.t("picture_in_picture_playing")):null,b=void 0;if(this.props.msg.thumbnail)switch(a){case p.default.HOSTNAME.YOUTUBE:b=f.createElement("img",{className:(0,g.default)(E.default.thumbnail,E.default.youtubeThumbnail),src:"data:image/jpeg;base64,"+this.props.msg.thumbnail});break;case p.default.HOSTNAME.INSTAGRAM:case p.default.HOSTNAME.STREAMABLE:case p.default.HOSTNAME.FACEBOOK:b=f.createElement("img",{className:E.default.thumbnail,src:"data:image/jpeg;base64,"+this.props.msg.thumbnail});break;default:b=f.createElement("div",{className:E.default.thumbnailPlaceholder})}else b=f.createElement("div",{className:E.default.thumbnailPlaceholder});return f.createElement("div",{className:c},f.createElement("div",{ref:this.setRefThumbnailWrapper,className:E.default.thumbnailWrapper,onClick:l},b,d,h),f.createElement(w.default,{className:i,href:this.props.msg.matchedText},f.createElement("div",{className:E.default.title,title:this.props.msg.title},f.createElement(y.default,{text:this.props.msg.title})),n,r))}}]),t}(f.Component);Z.displayName="VideoLinkPreview",t.default=(0,R.default)((0,A.hoc)(Z))},babicefcfg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.reject(new Error("sendSetGroupSubject: not supported when not build with MD_BACKEND")):c.default.changeSubject(e,t).then(function(e){return 200!==e.status?Promise.reject(new d.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}})}function o(e,t,n,a){return s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.reject(new Error("sendSetGroupDescription: not supported when not build with MD_BACKEND")):c.default.setGroupDescription(e,t,n,a).then(function(e){return 200!==e.status?Promise.reject(new d.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}})}function i(e,t,n){return s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.reject(new Error("sendSetGroupProperty: not supported when not build with MD_BACKEND")):c.default.setGroupProperty(e,t,n).then(function(e){return 200!==e.status?Promise.reject(new d.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetGroupSubject=r,t.sendSetGroupDescription=o,t.sendSetGroupProperty=i;var l=n("ccaaiecfib"),s=a(l),u=n("chajfbfiga"),c=a(u),f=n("eadfaddcj"),d=(a(f),n("cajijabhgb"))},bacfgbeffc:function(e,t){e.exports={muted:"_1WUgw",menuTabsMarker:"Orl3a",hide:"mFPJz"}},bacgdahheh:function(e,t){e.exports={muted:"_3Iaew",ack:"_3VIru"}},baeacdffeb:function(e,t,n){"use strict";function a(e){return e instanceof HTMLElement&&Boolean(e.dataset&&e.dataset.mentionJid)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},baehciajii:function(e,t){e.exports={muted:"ECaRD",section:"_1d7QJ",reasonList:"_2IBqE",label:"WwC8b",input:"_1ftwL",buttons:"_1NLsK"}},bafbadjdec:function(e,t,n){"use strict";var a={queryStarredStickers:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Need implementation")}};e.exports=a},bafdafhgja:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("bgedbhhbbg"),o=a(r),i=n("djcchigfih"),l=a(i),s=n("djbhiedbef"),u=a(s),c=n("dajffajabh"),f=a(c),d=n("fffdgbfji"),p=a(d),h=n("ddhijeejag"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h);t.default=function(e){return m.createElement(l.default,null,m.createElement(f.default,{a8n:"drawer-title-notifications",title:p.default.t("notifications_drawer_title"),onBack:e.onClose,type:c.DRAWER_HEADER_TYPE.LARGE}),m.createElement(u.default,null,m.createElement(o.default,{key:"notifications"})))}},bafdbchefg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n("digcccheca"),s=a(l),u=n("gbfffciea"),c=a(u),f=n("cijaehcdg"),d=a(f),p=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handlers={onKeyDown:function(e){var t=this;return!t.ctx.isComposing&&(!(" "!==e.key||!(0,d.default)(e))&&(!t.ctx.value.length&&(c.default.scrollMessages(),!0)))}},i=n,o(a,i)}return i(t,e),t}(s.default);t.default=new p},bafegjjfbj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("fifhbjiec"),m=a(h),b=n("bdiiahhjbe"),g=a(b),v=n("ihfccfgdf"),y=a(v),_=n("ejbdjaifi"),E=n("dcdbiiejfc"),j=n("bafdehfigc"),w=n("hjbbdjjdf"),O=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.getText=function(){var e=a.props.chat,t=e.title();return e.isGroup?e.isReadOnly?l10n.t("web_delete_group_dialog_title",{groupName:t}):l10n.t("web_exit_group_dialog_title",{groupName:t}):e.isUser?l10n.t("delete_chat_dialog_title",{name:t}):e.isBroadcast?l10n.t("delete_list_dialog_title"):void 0},a.getButton=function(){var e=a.props.chat;return e.isGroup?e.isReadOnly?l10n.t("web_delete"):l10n.t("web_exit"):e.isUser||e.isBroadcast?l10n.t("web_delete"):void 0},a.onCancel=function(){f.default.closeModal();var e=a.props.onCancel;e&&(0,w.isFunction)(e)&&e()},a.onDelete=function(){var e=a.props.chat,t=void 0;e.isGroup?t=e.isReadOnly?(0,E.sendDelete)(e):(0,j.sendExitGroup)(e):e.isUser||e.isBroadcast?t=(0,E.sendDelete)(e):g.default.error("deleteChatPopup:onDelete Unsupported chat type")(),(0,w.isFunction)(a.props.onDeleteOrExit)&&t&&a.props.onDeleteOrExit(t),f.default.closeModal()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.createElement(p.default,{onOK:this.onDelete,okText:this.getButton(),onCancel:this.onCancel},u.createElement(m.default,{text:this.getText()}))}}]),t}(u.PureComponent);O.CONCERNS={chat:["isReadOnly","isGroup","isUser","isBroadcast"]},O.displayName="DeleteChatPopup",t.default=(0,y.default)((0,_.hoc)(O),O.CONCERNS)},bafjbifhgj:function(e,t){e.exports={muted:"_3FMIL",bubble:"_2NTm6",hasCaption:"_1C-mw",meta:"_2Krt0",isPSA:"AeWjB",isPsa:"AeWjB",author:"xYHJC",forwarded:"_3EQmZ",forwardedIndicator:"_35RRm",hasAuthor:"RWKZp",quote:"_30WBO"}},bagaghiajb:function(e,t){e.exports={muted:"pKASV",container:"o_uNe"}},bagahaffif:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("ceffhbhahb"),h=a(p),m=n("ccegihfjhe"),b=a(m),g=n("fifhbjiec"),v=a(g),y=n("bffjfbgbg"),_=a(y),E=n("jcdghfjgd"),j=a(E),w=n("ihfccfgdf"),O=a(w),C=n("bfdcadbbif"),S=a(C),P=n("caffijjhc"),M=a(P),T=n("bcifhbgija"),k=a(T),N=n("bgddggdhc"),I=n("ejbdjaifi"),R=n("dcfaachegb"),A=n("hjbbdjjdf"),D=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMediaImage=function(e){return n.mediaImage=e},n.onImageLoad=function(e){if(!n.zoomed){n.zoomed=!0;var t=n.state.zoomElement;t&&e&&n.props.zoomIn&&e instanceof HTMLElement&&n.animateZoom(t,e)}},n.animateZoom=function(e,t){var a=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-a.top,i=r.left-a.left,l=e.clientWidth/t.clientWidth,s=(t.clientHeight-e.clientHeight)/2,u=(t.clientWidth-e.clientWidth)/2;o-=s,i-=u,(0,k.default)(t,{opacity:[1,0],translateX:[0,i],translateY:[0,o],scale:[1,l]},{duration:R.ANIMATION_DURATION,easing:[.1,.82,.25,1]});var c=(0,N.forbiddenFindDOMNode)(n.caption);c&&(0,k.default)(c,{opacity:[1,0]},{duration:R.ANIMATION_DURATION})},n.onScroll=function(e){Math.abs(e.deltaY)>7&&n.onClose()},n.onImgZoomIn=function(e){var t=n.mediaImage;e&&t&&(n.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),n.setState({imgZoomed:e}),n.props.onImgZoomIn(e)},n.onZoomOut=function(e){var t=n.mediaImage;t&&n.state.imgZoomed&&t.onImageClick(e)},n.onMouseMove=function(e){n.handleMouseMove(e.pageX,e.pageY)},n._handleMouseMove=function(e,t){var a=n.mediaImage;if(a){var r=a.image;if(r){var o=(0,N.forbiddenAssertDOMNode)(r);if(o){var i=o.parentNode,l=i.parentNode,s=a.getTranslatePosition(l,e,t),u=s.translateX,c=s.translateY;(0,k.default)(i,"stop"),(0,k.default)(i,{translateX:u,translateY:c,scale:R.ZOOM_IN_FACTOR},{duration:0})}}}},n.onClose=function(){if(!n.closing){if(n.closing=!0,(0,A.isFunction)(n.props.onExitAnimation)&&n.props.onExitAnimation(),!n.props.getZoomNode)return n.props.onBack();var e=n.props.getZoomNode();if(!e)return n.props.onBack();var t=n.mediaImage&&n.mediaImage.image;t=(0,N.forbiddenAssertDOMNode)(t);var a=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-a.top,i=r.left-a.left,l=e.clientWidth/t.clientWidth,s=(t.clientHeight-e.clientHeight)/2,u=(t.clientWidth-e.clientWidth)/2;o-=s,i-=u,(0,k.default)(t,{translateX:[i,0],translateY:[o,0],scale:[l,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){n.props.onBack()})}},n.handleMouseMove=d.default.throttle(n._handleMouseMove,42),n.zoomed=!1,n.closing=!1,n.state={imgZoomed:!1,zoomElement:null},n}return l(t,e),s(t,[{key:"componentWillMount",value:function(){if(this.props.mediaData.mediaStage===_.default.STAGE.RESOLVED&&this.props.zoomIn){if(this.props.getZoomNode){var e=this.props.getZoomNode();this.setState({zoomElement:e})}this.transparentStyle={opacity:0}}}},{key:"componentDidMount",value:function(){this.transparentStyle={}}},{key:"render",value:function(){var e,t=this.props,n=t.mediaData,a=t.product,o=c.createElement(R.WrappedMediaImage,{mediaData:n,key:n.renderableUrl,style:this.transparentStyle,onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,ref:this.setMediaImage}),i=void 0;if(a.description){var l=this.props.zoomIn&&(n.isGif||n.type===_.default.TYPE.IMAGE),s=(0,h.default)(b.default.mediaCaption,r({},b.default.captionHidden,l));i=c.createElement(v.default,{className:s,ref:(0,I.GetRef)("caption",this),text:a.description})}var u=(0,h.default)(b.default.media,r({},b.default.mediaWithCaption,!!i)),f=c.createElement(S.default,{name:"chevron-right",title:l10n.t("next_button")}),d=(0,h.default)(b.default.btn,b.default.btnMediaNext,r({},b.default.disabledBtn,!this.props.onNext)),p=c.createElement("div",{role:"button",className:d,onClick:this.props.onNext||function(e){return e.stopPropagation()}},f),m=c.createElement(S.default,{name:"chevron-left",title:l10n.t("previous_button")}),g=(0,h.default)(b.default.btn,b.default.btnMediaPrev,r({},b.default.disabledBtn,!this.props.onPrev)),y=c.createElement("div",{role:"button",className:g,onClick:this.props.onPrev||function(e){return e.stopPropagation()}},m),E=(0,h.default)("overlay",b.default.mediaViewer,(e={},r(e,b.default.mediaViewerAnimate,this.props.zoomIn),r(e,b.default.cursorZoomOut,this.state.imgZoomed),e)),w=this.state.imgZoomed?null:this.onScroll,O=this.state.imgZoomed?null:this.onClose,C=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,P=this.state.imgZoomed?this.onZoomOut:null;return c.createElement(M.default,{displayName:"ProductViewer",escapable:!0,requestDismiss:this.onClose},c.createElement("div",{className:E,"data-animate-media-viewer":!0,onClick:P,onMouseMove:C},c.createElement(j.default,{mediaData:n,onClose:this.onClose,product:this.props.product}),c.createElement("div",{className:b.default.mediaContent,dir:"ltr",onWheel:w,onClick:O},y,c.createElement("div",{className:u},c.createElement("div",{className:b.default.media},o),i),p)))}}]),t}(c.PureComponent);D.CONCERNS={mediaData:["mediaStage","renderableUrl","isGif","type"],product:["description"]},D.displayName="ProductImageViewerModal",t.default=(0,O.default)((0,I.hoc)(D),D.CONCERNS)},bahefhdbbb:function(e,t){e.exports={muted:"_3JTOP",drawer:"_1KDYa",white:"_1yAd4",drawerGallery:"Y9547",drawerMedia:"kqC9O",drawerEdit:"_1BdTk",drawerCapture:"_1cJw0"}},bahefiaghi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.fullPreview,n=e.fullPreviewSize,a=e.mimeType,r=e.filename;return t&&n?i.createElement("div",{className:d.default.container,"data-animate-attach-media":!0},i.createElement("div",{className:d.default.preview},i.createElement(s.default,{type:l.FIT_TYPE.SCALE_DOWN,size:n},i.createElement("img",{src:t,className:d.default.img})))):i.createElement(c.default,{mimeType:a,filename:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("dgfecega"),s=a(l),u=n("becegcbegb"),c=a(u),f=n("jgbhhadeh"),d=a(f)},bahgfcjcda:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("dhhfaeacef"),d=a(f),p=n("dhefcajhhb"),h=a(p),m=n("bfdcadbbif"),b=a(m),g=n("ceffhbhahb"),v=a(g),y=n("edbaidcaf"),_=a(y),E=n("eceadcicaf"),j=a(E),w=n("ejbdjaifi"),O=n("ceddibihdf"),C=a(O),S=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.promise=null,n._clearPromise=function(){n.promise=null},n._handleImageChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.setState({img:e.img})},n.state={img:null},n}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.waid;t&&(this.promise=h.default.find(t).then(function(t){e.props.listeners.add(t,"change:img",e._handleImageChange),e._handleImageChange(t)}).catch(function(){}).finally(this._clearPromise))}},{key:"componentWillUnmount",value:function(){this.promise&&this.promise.cancel()}},{key:"render",value:function(){var e;if(this.state.img&&this.props.waid)return c.createElement(d.default,{id:this.props.waid,quoted:this.props.quoted,size:this.props.size,square:this.props.square,border:this.props.border});var t=this.props.size||d.default.Size.SMALL,n={height:(0,f.getSize)(t),width:(0,f.getSize)(t)},a=(0,v.default)(C.default.container,(e={},r(e,C.default.square,this.props.square),r(e,C.default.hasBorder,this.props.border),e)),o=this.props.thumb?c.createElement("div",{className:C.default.image,style:_.default.thumbAsBackgroundImage(this.props.thumb)}):c.createElement("div",{className:C.default.default},c.createElement(b.default,{name:this.props.quoted?"default-user-square":"default-user",style:n}));return c.createElement("div",{className:a,style:n},o)}}]),t}(c.PureComponent);S.displayName="ProfileImage",t.default=(0,j.default)((0,w.hoc)(S))},baiheeddah:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("ceffhbhahb"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("ejbdjaifi"),_=n("bfdcadbbif"),E=a(_),j=n("bgabfdfhj"),w=a(j),O=n("cfhgffgbcb"),C=a(O),S=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.addOrRemoveLabelOnSelected=function(){var e=a.props.selectedModels.getSelected();h.default.openModal(c.createElement(C.default,{onLabelUpdateComplete:a.props.onCancel,modelsToUpdate:e}))},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.selectedModels&&this.props.listeners.add(this.props.selectedModels,"all")}},{key:"componentDidUpdate",value:function(){var e=this.props.selectedModels.getSelected();0===d.default.size(e)&&this.props.onCancel&&this.props.onCancel()}},{key:"render",value:function(){var e,t=this.props,n=t.labelEditEnabled,a=t.onRemoveLabel,o=this.props.selectedModels.getSelected(),i=d.default.size(o),l=void 0,s=void 0,u=void 0,f=this.props.onDelete;n&&i>0&&(l=c.createElement(P,{name:"label",disabled:!i,title:l10n.t("web_button_download"),onClick:this.addOrRemoveLabelOnSelected})),a&&i>0&&(u=c.createElement(P,{name:"label-delete",disabled:!i,title:l10n.t("web_button_label_remove"),onClick:a})),f&&i>0&&(s=c.createElement(P,{name:"delete",disabled:!i,title:l10n.t("web_button_download"),onClick:f}));var p=(0,b.default)(w.default.multiControls,(e={},r(e,w.default.drawerHeader,"drawer-header"===this.props.theme),r(e,w.default.chatListPanel,"chatlist-panel"===this.props.theme),e)),h=this.props.arrowBack?"back":"x";return c.createElement("div",{className:p},c.createElement(P,{name:h,onClick:this.props.onCancel}),c.createElement("div",{className:w.default.multiCount},l10n.t("selected_count",{count:i,_plural:i})),l,s,u)}}]),t}(c.Component);S.displayName="MultiselectBar",t.default=(0,v.default)((0,y.hoc)(S));var P=function(e){var t=e.name,n=e.title,a=e.onClick,r=e.directional,o=e.disabled;return c.createElement("button",{className:w.default.multiselectIcon,title:n,onClick:a,disabled:o?"disabled":void 0},c.createElement(E.default,{name:t,directional:r}))};P.displayName="BtnIcon"},baijejebfi:function(e,t){e.exports={muted:"_2MVYX",preview:"_1Bw-K"}},bajidgjehj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("cajijabhgb"),c=r(u),f=n("ddhijeejag"),d=r(f),p=n("effbcehec"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("biddiiafgd"),v=a(g),y=n("bjigbaghc"),_=a(y),E=n("eadfaddcj"),j=a(E),w=n("djcchigfih"),O=a(w),C=n("djbhiedbef"),S=a(C),P=n("dajffajabh"),M=a(P),T=n("fijafegab"),k=a(T),N=n("bbbdgehigj"),I=n("dgjddffcfg"),R=a(I),A=n("ejbdjaifi"),D=n("jbchjhhe"),x=a(D),L=n("cdcaigjjii"),F=a(L),U=n("bjbedjfe"),B=a(U),G=n("bfejacaeaj"),V=a(G),W=n("ihfccfgdf"),H=a(W),Y=n("jhhgcfgee"),q=a(Y),K=n("eedjbihej"),z=a(K),Q=n("hfhhcchgj"),X=a(Q),J=n("dcjdgceiej"),Z=a(J),$=n("bggdhciede"),ee=n("bijjheifie"),te=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onBack=function(){n.props.onClose?n.props.onClose():n.context.uim.uie.requestDismiss()},n.validateStatus=function(e){return!!(e||"").trim()},n.onStatusBegin=function(){n.isEditingStatus=!0},n.onSetStatusError=function(){b.default.openModal(d.createElement(v.default,{onOK:function(){return b.default.closeModal()},okText:l10n.t("web_ok")},l10n.t("action_status_empty")))},n.onSetStatus=function(e){if(null==n.state.status)return void n.onCancelStatus();n.isEditingStatus=!1;var t=n.props.status.status,a=R.default.emojify(n.state.status);if(a===t)return n.setState({status:a});n.setState({pendingStatus:!0}),(0,ee.setMyStatus)(R.default.emojify(n.state.status)).checkpoint(n.props.rejectOnUnmount()).then(function(){n.setState({pendingStatus:!1})}).catch(c.Unmount,function(){})},n.onStatusChange=function(e){n.setState({status:e})},n.onCancelStatus=function(){n.isEditingStatus=!1,n.setState({status:n.props.status.status})},n.onPushnameBegin=function(){n.isEditingPushname=!0},n.validatePushname=function(){var e=n.state.pushname,t=void 0,a=/[\u2714\u2705\u2611]/g;return e=(e||"").trim(),e?a.test(e)&&(t=l10n.t("action_pushname_set_failed_check")):t=l10n.t("action_pushname_empty"),!t||(n.onSetPushnameError(t),!1)},n.onSetPushname=function(e){if(n.isEditingPushname=!1,_.default.canSetMyPushname()){var t=n.state.pushname;t=R.default.emojify((t||"").trim());if(t===n.props.conn.pushname)return n.setState({pushname:t});n.setState({pendingPushname:!0}),(0,$.setPushname)(t).checkpoint(n.props.rejectOnUnmount()).then(function(){n.setState({pendingPushname:!1})}).catch(c.Unmount,function(){})}},n.onSetPushnameError=function(e){b.default.openModal(d.createElement(v.default,{onOK:function(){return b.default.closeModal()},okText:l10n.t("web_ok")},e))},n.onPushnameChange=function(e){n.setState({pushname:e})},n.onCancelPushname=function(){n.isEditingPushname=!1,n.setState({pushname:n.props.conn.pushname})},n.onImageSet=function(e,t){var a=n.props.profilePicThumb;n.setState({pendingPhoto:!0});var r=void 0;r=e&&t?(0,N.setProfilePic)(a,e,t):(0,N.deleteProfilePic)(a),r.checkpoint(n.props.rejectOnUnmount()).then(function(){n.setState({pendingPhoto:!1})}).catch(c.Unmount,function(){})},n.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1},n}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.conn,n=e.status,a=e.profilePicThumb,r=this.isEditingStatus||this.state.pendingStatus?this.state.status:n.status,o=d.createElement(k.default,{a8nText:"col-main-profile",title:l10n.t("web_status"),theme:"padding"},d.createElement(X.default,{value:r,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:j.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),i=l10n.t("menuitem_profile_status"),l=!a.canSet()&&!a.canDelete(),s=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:t.pushname,u=_.default.isSMB?l10n.t("business_name_description"):l10n.t("pushname_description");return d.createElement(O.default,null,d.createElement(M.default,{a8n:"drawer-title-profile",title:i,onBack:this.onBack,type:P.DRAWER_HEADER_TYPE.LARGE}),d.createElement(S.default,null,d.createElement("div",{className:q.default.photoPickerWrapper},d.createElement(x.default,{type:F.default.PROFILE,id:a.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:a.imgFull,readOnly:l,onImageSet:this.onImageSet})),d.createElement(k.default,{a8nText:"col-main-profile",title:l10n.t("pushname"),theme:"padding"},d.createElement(X.default,{value:s,editable:_.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:j.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),d.createElement("div",{"data-a8n":h.default.key("pushname-description"),className:q.default.nameWrapper},d.createElement(z.default,{theme:"muted"},u)),o))}}]),t}(d.Component);te.contextTypes={uim:V.default.instanceOf(Z.default)},te.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]},te.displayName="ProfileDrawer",t.default=(0,B.default)((0,H.default)((0,A.hoc)(te),te.CONCERNS))},bbagfcaiaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={shouldAnimate:!0}},bbahcjdgfa:function(e,t){e.exports={muted:"m3ENb",docState:"_1qlav",spinner:"Hg0cw"}},bbccbjiaeb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ejbdjaifi"),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("eadfaddcj"),d=(a(f),n("ebijaadcje")),p=a(d),h=n("bdiiahhjbe"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handleClick=function(){a.props.msg.resend().catch(function(e){m.default.log("PlainMsgFailIcon: failed to resend message")(e)})},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayType;return t.isFailed?c.createElement(p.default,{displayType:n,tooltip:l10n.t("resend_message"),onClick:this.handleClick}):null}}]),t}(c.PureComponent);v.CONCERNS={msg:["ack","isFailed"]},v.displayName="PlainMsgFailIcon",t.default=(0,g.default)((0,s.hoc)(v),v.CONCERNS)},bbcccehdad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("dhfbfehaef"),h=a(p),m=n("cgfdjcbhag"),b=a(m),g=n("ecjegjabde"),v=a(g),y=n("eceadcicaf"),_=a(y),E=n("fagbfehid"),j=a(E),w=n("decfffijad"),O=a(w),C=n("ddajbaceej"),S=n("ejbdjaifi"),P=n("bfdcadbbif"),M=a(P),T=n("ccijgeidci"),k=a(T),N=n("cegfacfjjj"),I=a(N),R=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={numItems:a.props.specialItemsCount+j.default.length},a._handleLengthChange=function(){a.setState({numItems:a.props.specialItemsCount+j.default.length})},a._setRefContainer=function(e){a._refContainer=e},a._renderItem=function(e){return a.props.recentStickersEnabled&&0===e?c.createElement("div",{className:(0,d.default)(I.default.centerChild,I.default.show)},c.createElement(M.default,{name:"panel-recent"})):c.createElement(O.default,{index:e-a.props.specialItemsCount})},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(j.default,"change:length",this._handleLengthChange),this._handleLengthChange()}},{key:"focus",value:function(){this._refContainer&&(this.hasFocus()||(0,C.focus)(this._refContainer))}},{key:"hasFocus",value:function(){return!!this._refContainer&&this._refContainer===document.activeElement}},{key:"render",value:function(){var e=this.state.numItems;return c.createElement(h.default,{onRef:this._setRefContainer,handlers:(0,v.default)({down:this.props.onFocusBelow,"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},c.createElement(b.default,{className:(0,d.default)(r({},k.default.shadow,this.props.shadow)),numItems:e,numColumns:E.PAGE_SIZE,onItemClick:this.props.onItemClick,renderItem:this._renderItem,selectedIndex:this.props.selectedStickerPackIndex}))}}]),t}(c.PureComponent);R.displayName="StickerPanelMenu";var A=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"focus",value:function(){this.getComponent().focus()}}]),t}((0,_.default)((0,S.hoc)(R)));t.default=A},bbcjhfahhb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPickerChangeTypes=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n("cjihgicbe"),s=a(l),u=n("bfbggcdbfb"),c=a(u),f=(t.MediaPickerChangeTypes={mediaPickerCroppedRotated:"mediaPickerCroppedRotated",mediaPickerDrawing:"mediaPickerCroppedRotated",mediaPickerStickers:"mediaPickerCroppedRotated",mediaPickerText:"mediaPickerCroppedRotated"},function(){function e(){r(this,e),this.mediaByTypeAndOrigin=new Map,this.mediaEventReverseIndex=new Map,this.chatRecipients=null}return i(e,[{key:"pauseTimer",value:function(){this.mediaByTypeAndOrigin.forEach(function(e){e.onPause()})}},{key:"resumeTimer",value:function(){this.mediaByTypeAndOrigin.forEach(function(e){e.onResume()})}},{key:"_getKey",value:function(e,t){return e+"_"+t}},{key:"_commitLog",value:function(e){new c.default.MediaPicker(o({},e,{chatRecipients:this.chatRecipients})).commit()}},{key:"_processNewMedia",value:function(e,t,n){var a=this._getKey(t,n),r=this.mediaByTypeAndOrigin.get(a);if(r)r.onAdd(e),this.mediaEventReverseIndex.set(e,r);else{var o=new s.default(e,t,n);this.mediaByTypeAndOrigin.set(a,o),this.mediaEventReverseIndex.set(e,o)}}},{key:"logChange",value:function(e,t){var n=this.mediaEventReverseIndex.get(e);n&&n.onChange(e,t)}},{key:"logDelete",value:function(e){var t=this.mediaEventReverseIndex.get(e);t&&t.onDelete(e)}},{key:"logSend",value:function(){var e=this;this.mediaByTypeAndOrigin.forEach(function(t){e._commitLog(t.onSend())})}},{key:"logCancel",value:function(){var e=this;this.mediaByTypeAndOrigin.forEach(function(t){e._commitLog(t.onCancel())})}},{key:"logAdd",value:function(e,t,n){this.mediaEventReverseIndex.get(e)||this._processNewMedia(e,t,n)}}]),e}());t.default=f},bbddghdigd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("effbcehec"),p=a(d),h=n("dacdidjdfi"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("dhfbfehaef"),y=a(v),_=n("fffdgbfji"),E=a(_),j=n("chcadgfgad"),w=a(j),O=n("cfaiaibca"),C=a(O),S=n("dciidighgh"),P=a(S),M=n("ccaaiecfib"),T=a(M),k=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={clearMedia:!0},a.onCancel=function(){(0,a.props.onPopupCancel)()},a.onRevoke=function(){var e=a.props,t=e.chat,n=e.msgList,r=e.toastPosition,o=e.onCancel,i=e.onRevoke;g.default.sendRevokeMsgs(t,n,a.state.clearMedia,null,r),i(),o&&o()},a.onDelete=function(){var e=a.props,t=e.chat,n=e.msgList,r=e.toastPosition,o=e.onCancel,i=e.onDelete,l=e.isMsgVisible;g.default.sendDeleteMsgs(t,n,a.state.clearMedia,null,r),i(),o&&o(),g.default.existsDrawerRight(function(e){e&&l&&n.forEach(function(e){l(e.id,!0)&&g.default.closeDrawerRight()})})},a.onToggleClearMedia=function(){a.setState({clearMedia:!a.state.clearMedia})},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=void 0,t=this.props,n=t.msgList,a=t.deletePrompt,r=t.revokePrompt;T.default.supportsFeature(T.default.F.DELETE_MSG_CLEAR_MEDIA)&&f.default.some(n,function(e){return e.isMMS})&&(e=u.createElement("div",{className:P.default.container,onClick:this.onToggleClearMedia,key:0},u.createElement("div",{"data-a8n":p.default.key("menu-icon-revoke-message"),className:P.default.control},u.createElement(m.default,{onChange:this.onToggleClearMedia,checked:this.state.clearMedia?h.CHECKBOX_STATE.CHECKED:h.CHECKBOX_STATE.UNCHECKED})),u.createElement("div",{className:P.default.label},E.default.t("clear_file"))));var o=u.createElement(C.default,{type:"plain",onClick:this.onCancel,key:0},E.default.t("web_cancel")),i=null,l=null,s=null,c=function(){},d=n.length,b=E.default.t("delete_message_confirmation",{_plural:d});if(r&&(i=u.createElement(C.default,{a8nText:"popup-controls-revoke",type:"plain",onClick:this.onRevoke,key:1},E.default.t("revoke_button")),c=this.onRevoke),a){var g=T.default.supportsFeature(T.default.F.REVOKE)?E.default.t("delete_button"):E.default.t("web_delete");l=u.createElement(C.default,{a8nText:"popup-controls-delete",type:r?"plain":"primary",onClick:this.onDelete,key:2},g),c=this.onDelete}var v={enter:c,escape:this.onCancel};return l&&(s=i?u.createElement("div",{className:P.default.buttons},u.createElement("div",{className:P.default.button},l),u.createElement("div",{className:P.default.button},o),u.createElement("div",{className:P.default.button},i)):[o,l]),u.createElement(y.default,{handlers:v},u.createElement(w.default,{title:b,actions:s,children:[e]}))}}]),t}(u.Component);k.displayName="DeleteRevokeMsgPopup",t.default=k},bbdfiiibib:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PIP_BUTTON_THEME=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("ceffhbhahb"),d=a(f),p=n("cbddhcffbc"),h=a(p),m=n("bfdcadbbif"),b=a(m),g=t.PIP_BUTTON_THEME={PLAYER:"PLAYER",PREVIEW:"PREVIEW"},v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e;return c.default.createElement("div",{className:(0,d.default)(h.default.pipBtn,(e={},r(e,h.default.player,this.props.theme===g.PLAYER),r(e,h.default.preview,this.props.theme===g.PREVIEW),e)),onClick:this.props.onClick},c.default.createElement(b.default,{name:"video-pip"}))}}]),t}(u.PureComponent);v.displayName="PiPButton",t.default=v},bbegbfcgh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("cfaiaibca"),u=a(s),c=n("gbfffciea"),f=a(c),d=n("hfjchijff"),p=a(d),h=n("djhbegbdaf"),m=a(h),b=n("bfejacaeaj"),g=a(b),v=n("ihfccfgdf"),y=a(v),_=n("ejbdjaifi"),E=n("ddhijeejag"),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(E),w=n("ieddhhghi"),O=a(w),C=n("dcjdgceiej"),S=a(C),P=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onViewContact=function(){f.default.openDrawerRight(j.createElement(p.default,{chat:a.props.chat}),"slide-left",a.context.uim)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.dismissVCardPanel,a=t.receivedVCardMsgs;return j.createElement("div",{className:O.default.vcard},j.createElement(m.default,{id:"found_contact_card_text",plural:a.length}),j.createElement("div",{className:O.default.controls},j.createElement(u.default,{onClick:this.onViewContact,type:"plain-white"},j.createElement(m.default,{id:"view_contact_card",plural:a.length})),j.createElement(u.default,{onClick:n,type:"plain-white"},j.createElement(m.default,{id:"no_thanks"}))))}}]),t}(j.PureComponent);P.CONCERNS={chat:["receivedVCardMsgs"]},P.contextTypes={uim:g.default.instanceOf(S.default)},P.displayName="VCardPanel",t.default=(0,y.default)((0,_.hoc)(P),P.CONCERNS)},bbfiaehhcd:function(e,t){e.exports={muted:"_3lUI9",tab:"_2Bfgm",menu:"_2MyYN",carousel:"_2gwVC",carouselEnd:"_3-2hi",selected:"_2wn58"}},bbgbbhfdaj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return d.default.utc().startOf("day").add(e,"minutes").format(h.default.timestampStrFormat())}function o(e){return d.default.weekdays(e)}function i(e){switch(e&&e.mode){case c.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return e.hours?e.hours.map(function(e){return e.map(r).join(" - ")}).join("\n"):"";case c.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return l10n.t("business_hours_appointment_only");case c.BUSINESS_HOUR_MODES.OPEN_24H:return l10n.t("business_hours_open_24h");default:return l10n.t("business_hours_closed")}}function l(e){switch(e){case"auto":return l10n.t("business_vertical_automotive");case"beauty":return l10n.t("business_vertical_beauty_spa_salon");case"apparel":return l10n.t("business_vertical_clothing_apparel");case"edu":return l10n.t("business_vertical_education");case"entertain":return l10n.t("business_vertical_entertainment");case"event-plan":return l10n.t("business_vertical_event_planning_service");case"finance":return l10n.t("business_vertical_finance_banking");case"grocery":return l10n.t("business_vertical_food_grocery");case"govt":return l10n.t("business_vertical_public_government_service");case"hotel":return l10n.t("business_vertical_hotel_lodging");case"health":return l10n.t("business_vertical_medical_health");case"nonprofit":return l10n.t("business_vertical_non_profit");case"prof-services":return l10n.t("business_vertical_professional_services");case"retail":return l10n.t("business_vertical_shopping_retail");case"travel":return l10n.t("business_vertical_travel_transportation");case"restaurant":return l10n.t("business_vertical_restaurant");default:return l10n.t("business_vertical_other")}}function s(e){return"https://l.wl.co/l?u="+encodeURIComponent(e)}function u(e){var t=e.config,n=(new Date).getDay();return c.DAYS_OF_WEEK.map(function(e,a){var r=(n+a)%c.DAYS_OF_WEEK.length,l=c.DAYS_OF_WEEK[r];return{day:o(r),hours:i(t[l]),first:0===a}})}Object.defineProperty(t,"__esModule",{value:!0}),t.dayToWeekday=o,t.businessHoursFromConfig=i,t.getCategoryString=l,t.getWebsiteLink=s,t.getBusinessHours=u;var c=n("bechdajic"),f=n("dgdjiicfdg"),d=a(f),p=n("bjebjijbfc"),h=a(p)},bbgehjjjbb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("dgdjiicfdg"),o=a(r),i=n("eacidghfgh"),l=a(i),s={findGroupPendingInvitesFromPhone:function(e,t){var n=this;return new Promise(function(a,r){var o=function(e){n.BinaryProtocol.read(e).then(function(e){if("response"!==n.N.tag(e)||"group"!==n.N.attr("type",e))return void a({status:"error",info:"bad format: response incorrect"});var t=n.N.children(e),r=t&&t[0];if(!r)return void a({status:"error",info:"bad format: no group node"});var o=[],i=n.N.children(r);Array.isArray(i)&&i.forEach(function(e){switch(n.N.tag(e)){case"participant":o.push({id:n.N.attr("jid",e)})}}),a({participants:o})}).catch(r)},i=n.queryNode({type:"group",kind:"invite",from:e,jid:t},[]);n.binSend("sendEphemeral",i,r,{onSend:n.binWrap(o,a),onDrop:n.wrap(r)},{debugString:"query,group_pending_invite",metric:n.M.QUERY_GROUP,ackRequest:!1})})},acceptGroupV4Invite:function(e,t,n,a,r){var i=this;return new Promise(function(s,u){var c=l.default.tag(),f=i.wrap(s);f.tag=c;var d=[["accept",{admin:t,expiration:a,code:n},void 0]],p=["group",{id:c,author:r,jid:e,type:"accept"},d],h=i.actionNode("set",[p]);i.binSend("send",h,u,{clientCacheable:!0,onSend:f,onDrop:i.wrap(u)},{debugString:"action,group_invite_accept,",ackRequest:!1,expires:(0,o.default)().unix()})})},revokeGroupV4Invite:function(e,t,n){var a=this;return new Promise(function(r,i){var s=l.default.tag(),u=a.wrap(r);u.tag=s;var c=e.map(function(e){return["participant",{jid:e},void 0]}),f=["group",{id:s,author:n,jid:t,type:"revoke"},c],d=a.actionNode("set",[f]);a.binSend("send",d,i,{clientCacheable:!0,onSend:u,onDrop:a.wrap(i)},{debugString:"action,group_invite_revoke,",ackRequest:!1,expires:(0,o.default)().unix()})})},parseInviteUpdate:function(e){var t=[],n=[this.N.attr("kind",e),this.N.attr("jid",e),this.N.attr("type",e)],a=n[0],r=n[1],o=n[2];if("update"===a&&"invite"===o&&void 0!==r){for(var i=this.N.children(e),l=0;l<i.length;l++){var s=i[l];"participant"===this.N.tag(s)&&t.push(this.N.attr("jid",s))}return{gid:r,participants:t}}}};e.exports=s},bbhahjgijh:function(e,t,n){"use strict";function a(e,t){return e===t}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return e===t||e.length===t.length&&e.every(function(e,a){return n(e,t[a])})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},bbhdaaahah:function(e,t){e.exports={muted:"_1MlFv",tooltip:"_2KuNh","tooltip-left-ltr":"_1hDS8",tooltipLeftLtr:"_1hDS8","tooltip-left-rtl":"_2ehMR",tooltipLeftRtl:"_2ehMR"}},bbhdgdbggg:function(e,t){e.exports={muted:"_2WRQ_",container:"_3IHPx",image:"_3ktqx",body:"_3WHNc",badge:"_27UdA",name:"_2nJlj",address:"_3AuNx",description:"bfgpN"}},bbhhbdicgc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownDataError=t.DEFAULT_ITEM_HEIGHT=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("iffjgahba"),d=a(f),p=n("ceffhbhahb"),h=a(p),m=n("dfafdjbjfd"),b=a(m),g=n("bbagfcaiaf"),v=a(g),y=n("bdigfbgefi"),_=a(y),E=n("bebjeaagc"),j=a(E),w=n("gjaijjfhh"),O=a(w),C=n("hbhijdici"),S=a(C),P=t.DEFAULT_ITEM_HEIGHT=72,M=150,T=(t.UnknownDataError=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Unknown data encountered while rendering. Key: "+e.key))}return i(t,e),t}((0,d.default)("UnknownDataError")),function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.keyPool=new _.default,a.scrollTop=0,a.offsetTop=0,a.bodyHeight=0,a.listHeight=0,a.hanging=!1,a.pointerEvents=!0,a.setRefList=function(e){a.refList=e},a.state={firstIndex:0,lastIndex:0},a.onLayout=function(e){var t=a.refList;if(t){var n=Math.max(t.getBoundingClientRect().top-e.position.top,0);a.bodyHeight=e.height,a.offsetTop=n,a.setState(a.computeIndexes(a.props))}},a.onScroll=function(){a.animationFrame?a.hanging=!0:(a.hanging=!1,a.animationFrame=requestAnimationFrame(a._onScroll))},a._onScroll=function(){a.disablePointerEvents();var e=a.state,t=e.firstIndex,n=e.lastIndex,r=a.props.flatListController.getScrollTop();if(null==r)throw new Error("FlatList:ScrollEvent thrown while container is unmounted");a.scrollTop=Math.max(r,0);var o=a.computeIndexes(a.props);if(t===o.firstIndex&&n===o.lastIndex)return a.onFinishScroll();a.setState(o,a.onFinishScroll)},a.onFinishScroll=function(){a.animationFrame=void 0,a.enablePointerEvents(),a.hanging&&a.onScroll()},a.enablePointerEvents=S.default.debounce(function(){if(a.animationFrame)return a.enablePointerEvents();j.default.clearBusy(a.busyId),delete a.busyId,a.props.onPointerEventsOn&&a.props.onPointerEventsOn();var e=a.refList;e&&(e.style.pointerEvents="auto"),a.pointerEvents=!1},M),i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.computeHeights(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.computeHeights(e),this.setState(this.computeIndexes(e))}},{key:"componentDidMount",value:function(){this.props.flatListController.registerList({handleLayout:this.onLayout,handleScroll:this.onScroll})}},{key:"componentWillUnmount",value:function(){this.props.flatListController.unregisterList(),this.enablePointerEvents.cancel(),this.cancelScroll()}},{key:"computeHeights",value:function(e){var t=0;this.data=e.data.map(function(n,a){var r=l({},n,{offset:t});return t+=n.height||e.defaultItemHeight,r}),this.listHeight=t}},{key:"computeIndexes",value:function(e){if(void 0===this.bodyHeight||void 0===this.offsetTop)throw new Error("FlatList:Computing FlatList without a valid Container");for(var t=e.defaultItemHeight,n=e.extraItems,a=e.forceConsistentRenderCount,r=this.scrollTop,o=0,i=0;i<this.data.length;i++){var l=this.data[i];if(this.offsetTop+l.offset+(l.height||t)>r){o=i;break}}for(var s=void 0,u=a?Math.min(this.data[o].offset+this.bodyHeight,this.listHeight):Math.min(r+this.bodyHeight,this.listHeight+this.offsetTop),c=o;c<this.data.length;c++){var f=this.data[c];if(this.offsetTop+f.offset+(f.height||t)>=u){s=c;break}}var d=n,p=n-o;p>0&&(d+=p);var h=n,m=s+n-this.data.length;return m>0&&(h+=m),{firstIndex:Math.max(o-h,0),lastIndex:Math.min(s+d,this.data.length-1)}}},{key:"cancelScroll",value:function(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.hanging=!1)}},{key:"disablePointerEvents",value:function(){if(this.busyId=j.default.setBusy(this.busyId),!this.pointerEvents){this.props.onPointerEventsOff&&this.props.onPointerEventsOff();var e=this.refList;e&&(e.style.pointerEvents="none"),this.pointerEvents=!0}}},{key:"scrollIntoViewIfNeeded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0||e>=this.data.length)throw new Error("Invalid Index.");var n=this.data[e].offset;(n<this.scrollTop-t||n>this.scrollTop+this.bodyHeight+t)&&this.props.flatListController.setScrollTop(n)}},{key:"getComponents",value:function(){var e=this,t=this.props,n=t.disableAnimations,a=t.renderItem,r=t.defaultItemHeight,o=this.state,i=o.firstIndex,s=o.lastIndex,u=this.data.slice(i,s+1);return this.keyPool.recycleKeysAndMap(u).map(function(t,o){var i=t.rctKey,s=t.data;return c.createElement(b.default,{key:i,data:l({},s,{height:s.height||r}),animate:!n&&v.default.shouldAnimate,zIndex:e.data.length-o-1,renderItem:a})})}},{key:"render",value:function(){return c.createElement("div",{className:(0,h.default)(this.props.className),ref:this.setRefList},c.createElement("div",{className:O.default.viewport,style:{height:this.listHeight}},this.getComponents()))}}]),t}(c.Component));T.defaultProps={defaultItemHeight:P,forceConsistentRenderCount:!0,extraItems:5,initialScrollTop:0},T.displayName="FlatList",t.default=T},bbhjjecbjb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ceffhbhahb"),f=a(c),d=n("cabhjigfgc"),p=a(d),h=n("fifhbjiec"),m=a(h),b=n("bbgbbhfdaj"),g=n("igiffibee"),v=n("ccaaiecfib"),y=a(v),_=n("fffdgbfji"),E=a(_),j=n("becfabjeeg"),w=a(j),O=n("ihfccfgdf"),C=a(O),S=n("ejbdjaifi"),P=n("bfdcadbbif"),M=a(P),T=n("jgjiiajej"),k=a(T),N=n("behbcejhad"),I=a(N),R=n("bfbggcdbfb"),A=a(R),D=n("eadfaddcj"),x=n("djhbegbdaf"),L=a(x),F=n("gbfffciea"),U=a(F),B=n("dgjggjiggi"),G=a(B),V=n("bidfjbaebi"),W=a(V),H=n("fijafegab"),Y=a(H),q=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={collapsedHours:!0},a.onBusinessHoursClick=function(){a.setState({collapsedHours:!a.state.collapsedHours})},a.onBusinessInfoClick=function(){U.default.openModal(u.createElement(G.default,{contact:a.props.contact}))},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){new A.default.ViewBusinessProfile({viewBusinessProfileAction:A.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,businessProfileJid:this.props.contact.id.toString()}).commit()}},{key:"getBusinessInfoTitle",value:function(){var e=this.props.contact,t=!e.name||e.name===e.verifiedName,n="psa-unverified",a=void 0;switch(e.verifiedLevel){case D.VERIFIED_LEVEL.HIGH:n="psa-verified",t?a=u.createElement(m.default,{className:k.default.verifiedLabel,text:E.default.t("business_profile_verified_business")}):(a=u.createElement(m.default,{className:k.default.verifiedLabel,text:E.default.t("business_profile_verified")}),a=u.createElement(L.default,{id:"business_profile_verified_as",params:{verified:a,businessName:e.verifiedName}}));break;case D.VERIFIED_LEVEL.LOW:a=t?u.createElement(m.default,{text:E.default.t("business_profile_confirmed_business")}):E.default.t("business_profile_confirmed_as",{businessName:e.verifiedName});break;case D.VERIFIED_LEVEL.UNKNOWN:a=E.default.t("business_profile_business_account")}return u.createElement(z,{icon:n,className:k.default.businessMarker,onClick:this.onBusinessInfoClick},a)}},{key:"getBusinessInfoTitleV2",value:function(){var e=void 0;switch(this.props.contact.verifiedLevel){case D.VERIFIED_LEVEL.HIGH:e=E.default.t("business_profile_official_business");break;case D.VERIFIED_LEVEL.LOW:case D.VERIFIED_LEVEL.UNKNOWN:e=E.default.t("business_profile_business_account")}return u.createElement(p.default,{a8nText:"business-title",className:k.default.businessTitleText,onClick:this.onBusinessInfoClick},e)}},{key:"getBusinessHours",value:function(e){var t=this,n=(0,b.getBusinessHours)(e),a=n.map(function(e,n){var a=e.day,r=e.hours,o=e.first;return!o&&t.state.collapsedHours?null:u.createElement(K,{day:a,key:a,hours:r,first:o,collapsed:t.state.collapsedHours})});return u.createElement(z,{icon:"business-hours",onClick:this.onBusinessHoursClick},a)}},{key:"render",value:function(){var e=void 0;e=y.default.supportsFeature(y.default.F.VNAME_V_2)?this.getBusinessInfoTitleV2():this.getBusinessInfoTitle();var t=void 0,n=void 0,a=void 0,r=void 0,o=void 0,i=void 0,l=void 0,s=void 0,c=void 0,f=this.props.businessProfile;if(f.stale)t=u.createElement("div",{className:k.default.contactBusinessInfoSpinner},u.createElement(w.default,{size:20,stroke:5}));else{n=f.vertical&&f.vertical.canonical?u.createElement(z,{icon:"business-category"},u.createElement(m.default,{selectable:!0,direction:"auto",text:(0,b.getCategoryString)(f.vertical.canonical)})):null,a=f.description?u.createElement(z,{icon:"business-description"},u.createElement(m.default,{selectable:!0,direction:"auto",text:f.description})):null;var d=void 0;if(f.latitude&&f.longitude){var p={height:150},h=f.address?f.address:this.props.contact.name;c=u.createElement("div",{style:p,className:k.default.businessMap},u.createElement(I.default,{lat:f.latitude,lng:f.longitude,name:h,width:565,height:150})),d=(0,g.getMapUrl)(f.latitude,f.longitude,h)}if(f.address&&(d=d||(0,g.getSearchUrl)(f.address),o=u.createElement("div",{className:k.default.address},u.createElement(W.default,{href:d},u.createElement(m.default,{selectable:!0,direction:"auto",text:f.address})))),r=o||c?u.createElement(z,{icon:"business-address"},o,c):null,f.website&&Array.isArray(f.website)&&f.website.length&&(i=f.website.map(function(e,t){var n=(0,b.getWebsiteLink)(e),a=u.createElement(m.default,{selectable:!0,direction:"auto",text:e}),r=u.createElement(W.default,{className:k.default.link,href:n},a);return u.createElement(z,{icon:"business-website",key:t},r)})),f.businessHours&&(l=this.getBusinessHours(f.businessHours)),f.email){var v=u.createElement(m.default,{selectable:!0,direction:"auto",text:f.email}),_=u.createElement(W.default,{className:k.default.link,href:"mailto:"+f.email},v);s=u.createElement(z,{icon:"business-email",dir:"auto"},_)}}var E=void 0;return(t||r||n||a||l||s||i)&&(E=u.createElement(Y.default,{theme:"padding"},u.createElement("div",{className:k.default.contactBusinessInfo},t,r,n,a,l,s,i))),u.createElement(u.Fragment,null,u.createElement(Y.default,null,e),E)}}]),t}(u.PureComponent);q.CONCERNS={contact:["id","verifiedLevel","name","verifiedName"],businessProfile:["address","description","vertical","website","email","stale","latitude","longitude","businessHours"]},q.displayName="BusinessProfile";var K=function(e){var t=e.first?u.createElement("div",{className:k.default.businessHoursChevron,role:"button"},u.createElement(M.default,{className:e.collapsed?"":k.default.flipSvg,display:"inline",name:"chevron-down-alt"})):null;return u.createElement("div",{className:k.default.businessHoursRow},u.createElement("div",{className:k.default.businessHoursDay},u.createElement(m.default,{direction:"auto",text:e.day})),u.createElement("div",{className:k.default.businessHoursHours},u.createElement(m.default,{direction:"auto",text:e.hours})),t)};K.displayName="BusinessHoursRow";var z=function(e){return u.createElement("div",{className:(0,f.default)(k.default.dataRow,e.className),onClick:e.onClick},u.createElement("div",{className:k.default.dataRowIcon},u.createElement(M.default,{name:e.icon})),u.createElement("div",{className:k.default.dataRowText},e.children))};z.displayName="DataRow",t.default=(0,C.default)((0,S.hoc)(q),q.CONCERNS)},bbiacghfif:function(e,t,n){"use strict";function a(e,t,n){if(e){var a=[];for(a.push(e);a.length;){var r=a.shift();if(n(r))return r;a=a.concat(t(r))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},bbijaajigb:function(e,t,n){"use strict";var a={singleByte:["privacy","blacklist","whitelist","verify"]};e.exports=a},bbjadhadbg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bffjfbgbg"),f=a(c),d=n("bfafbgcdjg"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=e.mediaData.filehash,i=p.default.has(a);!i&&e.mediaData.mediaStage===f.default.STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia();var l=null;return i&&(p.default.increaseUsageCount(a),l=p.default.getOrCreateURL(a)),n.state={url:l},n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(){var e=this.props.mediaData.filehash;if(p.default.has(e)&&!this.state.url){p.default.increaseUsageCount(e);var t=p.default.getOrCreateURL(e);this.setState({url:t})}}},{key:"componentWillUnmount",value:function(){this.state.url&&p.default.decreaseUsageCount(this.props.mediaData.filehash)}},{key:"render",value:function(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}]),t}(u.Component);g.CONCERNS={mediaData:["filehash","mediaStage"]},g.displayName="MediaUrlProvider",t.default=(0,m.default)((0,b.hoc)(g),g.CONCERNS)},bbjdcggice:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SenderElement=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("fifhbjiec"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=n("ecbgbhdahb"),b=a(m),g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.contact;return u.createElement(v,{text:e.formattedShortName,isNumber:!e.name})}}]),t}(u.PureComponent);g.CONCERNS={contact:["formattedShortName","name"]},g.displayName="Sender",t.default=(0,p.default)((0,h.hoc)(g),g.CONCERNS);var v=t.SenderElement=function(e){var t=e.text,n=e.isNumber;return u.createElement("span",{className:b.default.sender},u.createElement(f.default,{text:t,direction:n?"ltr":"auto"}),":")};v.displayName="SenderElement"},bcadhjihfb:function(e,t){e.exports={muted:"_1X34V",icon:"_1ECO8"}},bcafcjajcb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.icon?i.createElement("div",{className:s.default.icon},e.icon):null;return i.createElement("div",{className:s.default.note},t,i.createElement("div",{className:s.default.noteBody},e.children))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("dghbeeheia"),s=a(l),u=n("bfdcadbbif");a(u);r.displayName="PiPOverlay"},bcajjbibcd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("eceadcicaf"),d=a(f),p=n("ejbdjaifi"),h=n("dacdidjdfi"),m=a(h),b=n("ddfbaajaeh"),g=a(b),v=n("ceffhbhahb"),y=a(v),_=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));E.call(n);var a=n.props,r=a.multiSelection,l=a.initalSelection,s=a.model;return n.state={selected:l||(r.isSelected(s)?1:0)},n}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(this.props.multiSelection,this.props.model.id.toString(),this.onSelectChange),this.props.selectableState&&this.props.listeners.add(this.props.selectableState,"all",this.onSelectableChange)}},{key:"componentWillUpdate",value:function(e){var t=this.props,n=t.model,a=t.multiSelection,r=t.listeners,o=[n.id.toString(),e.model.id.toString()],i=o[0],l=o[1];a&&i!==l&&(r.remove(a,i,this.onSelectChange),r.add(a,l,this.onSelectChange),this.setState({selected:a.isSelected(e.model)?1:0}))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.selectableState,a=e.children,o=(0,y.default)(g.default.checkboxChatControl,r({},g.default.labelSelection,"label-selection"===this.props.theme)),i=n&&n.isSelectable,l={};if(i&&t&&Object.assign(l,{theme:t}),i&&Object.assign(l,{noContext:!0}),!a)return null;var s=c.default.Children.toArray(a)[0],u="label-selection"===t?this.onSelect:null;return c.default.createElement("div",{className:g.default.checkboxChatWrapper,onClick:u},i&&c.default.createElement("div",{className:o,onClick:this.onSelect},c.default.createElement(m.default,{onChange:this.onSelect,checked:this.state.selected})),c.default.cloneElement(s,l))}}]),t}(u.Component),E=function(){var e=this;this.onSelectableChange=function(){e.forceUpdate()},this.onSelectChange=function(t){e.state.selected!==t&&e.setState({selected:t?1:0})},this.onSelect=function(t){t&&t.stopPropagation();var n=e.props,a=n.onSelect,r=n.model,o=e.state.selected,i=void 0;switch(o){case 0:i=1;break;case 1:case 2:e.setState({selected:0}),i=0}a&&a(r,!!i,!1)}};_.displayName="CheckboxWrapper",t.default=(0,d.default)((0,p.hoc)(_))},bcbahjefec:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("bdiiahhjbe"),f=a(c),d=n("hbhijdici"),p=a(d),h=n("didfdhbecg"),m=a(h),b=n("bfejacaeaj"),g=a(b),v=n("dcjdgceiej"),y=a(v),_=n("caffijjhc"),E=a(_),j=n("edjfhjcce"),w=a(j),O=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={_stack:[],_transition:"default",_activeKey:0},a.setRefUIE=function(e){a.refUIE=e},a.popAndUpdate=function(e,t){var n=a.state._stack;n.length<2&&a.pop(t);var r=u.default.cloneElement(n[n.length-2],e);n[n.length-2]=r,a.pop(t)},a.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.pushTransition;a.setState({_stack:a.state._stack.concat(e),_transition:t,_activeKey:++a.state._activeKey})},a.pop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.popTransition,t=p.default.dropRight(a.state._stack);t.length?a.setState({_stack:t,_transition:e,_activeKey:--a.state._activeKey}):a.end()},a.end=function(e){a.context.uim.uie.requestDismiss(e)},a.requestFocus=function(){},i=n,o(a,i)}return i(t,e),l(t,[{key:"handleRequestDismiss",value:function(e){this.pop()}},{key:"render",value:function(){var e=this.state,t=e._stack,n=e._transition,a=e._activeKey,r=p.default.last(t);return f.default.assert(!!r,"empty-flow")(),r=u.default.createElement(E.default,{displayName:"FlowDrawer"+a,key:a,escapable:!0,ref:this.setRefUIE,requestFocus:this.requestFocus,requestDismiss:this.handleRequestDismiss.bind(this)},r),u.default.createElement(m.default,{transitionName:n,className:w.default.container},this.props.removeTopDrawer?r:t)}}]),t}(s.Component);O.contextTypes={uim:g.default.instanceOf(y.default)},O.defaultProps={removeTopDrawer:!0,pushTransition:"flow-transition-drawer-push",popTransition:"flow-transition-drawer-pop"},O.displayName="FlowComponent",t.default=O},bcbeeajhgb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("hbhijdici"),o=a(r),i=n("bjigbaghc"),l=a(i),s=n("bdiiahhjbe"),u=a(s),c=n("ccgjijjbbj"),f=a(c),d=n("cahfddcdga"),p=a(d),h=n("bbcaggdbc"),m=h.WebMessageInfo,b=n("bgiachiigg"),g=b.Message,v=n("dcdifccjdh"),y={version:"13",parseMsgMessage:function(e,t){if("message"!==this.N.tag(e))return void u.default.error("drop: not message")(e);var n=this.N.children(e);if(!(n instanceof ArrayBuffer))return void u.default.error("drop: no bytes")(e);try{var a=m.parse(n);return this.parseWebMessageInfo(a,t)}catch(t){return u.default.log("wmi error: "+String(t))(),void u.default.assert(!1,"parse-error","drop: failed parsing wmi")(e)}},parseWebMessageInfo:function(e,t){var n=e.key,a=this.decodeJid(n.remoteJid),r=n.fromMe?a:l.default.me,o=n.fromMe?l.default.me:a,i=this.decodeJid(n.participant),s="in";if(l.default.me.equals(a)&&(s=n.fromMe?"out":"in"),"broadcast"===r)return void u.default.error("drop: broadcast")(e);var c=void 0;try{c=new f.default({fromMe:(0,p.default)(n.fromMe),remote:a,id:(0,p.default)(n.id),participant:i})}catch(e){return void u.default.error("drop: cannot create MsgKey: "+e.stack)()}var d={id:c,from:o,to:r,self:s,participant:i,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?1:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:n.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256),shareDuration:e.message&&e.message.liveLocationMessage?e.duration:void 0,labels:e.labels};return e.message?this.parseMsgProto(e.message,d,t,e.paymentInfo,e.finalLiveLocation,e.quotedPaymentInfo):this.parseMsgStubProto(e,d)},parseMsgStubProto:function(e,t){var n=m.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.FUTUREPROOF:return t.type="unknown",t.subtype="phone",t;default:return t}},parseProtocolMessageProto:function(e,t,n){if("relay"===n){var a=void 0;switch(t.type){case g.ProtocolMessage.TYPE.REVOKE:a="revoke";break;default:a="unknown"}var r=t.key,o=new f.default({fromMe:r.fromMe,remote:this.decodeJid(r.remoteJid),id:r.id,participant:this.decodeJid(r.participant)});e.type="protocol",e.subtype=a,e.protocolMessageKey=o}}};e.exports=o.default.defaults(y,v)},bcbeebghff:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++)if(!e[t[n]])return!1;return!0}var r=n("bdiiahhjbe"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=["url","mediaKey","filehash","encFilehash","width","height","mimetype"],l=["url","mediaKey","filehash","encFilehash","mimetype"],s={mediaUpload:function(e,t){var n=this;return new Promise(function(r,s){var u=n.queryNode({type:"media",kind:e,id:t.toString()},void 0),c=function(t){n.BinaryProtocol.read(t).then(function(t){if(o.default.logColor("green","bin-recv: response,media",t)(),"response"!==n.N.tag(t)||"media"!==n.N.attr("type",t))return o.default.error("wap:mediaUpload:malformed")(),void r({status:400});var s=parseInt(n.N.attr("code",t))||200;if(200!==s)return o.default.error("wap:mediaUpload:error "+s)(),void r({status:s});switch(e){case"sticker":var u={directPath:n.N.attr("direct_path",t),url:n.N.attr("url",t),filehash:n.N.attr("filehash",t),encFilehash:n.N.attr("enc_filehash",t),mediaKey:n.N.attr("media_key",t),mimetype:n.N.attr("mimetype",t),height:n.N.attr("height",t),width:n.N.attr("width",t)};return a(u,i)?void r({status:s,sticker:u}):(o.default.error("wap:mediaUpload:missing-field")(),void r({status:400}));case"sticker-pack":var c={directPath:n.N.attr("direct_path",t),url:n.N.attr("url",t),filehash:n.N.attr("filehash",t),encFilehash:n.N.attr("enc_filehash",t),mediaKey:n.N.attr("media_key",t),mimetype:n.N.attr("mimetype",t)};return a(c,l)?void r({status:s,stickerPack:c}):(o.default.error("wap:mediaUpload:missing-field")(),void r({status:400}));case"quick-reply":throw new Error('"quick-reply" not yet implemented');default:throw new Error("unknown kind "+e)}})};n.binSend("sendEphemeral",u,s,{onSend:n.binWrap(c,r),onDrop:n.wrap(s)},{debugString:"query,media",metric:n.M.QUERY_MEDIA,ackRequest:!1})})}};e.exports=s},bcbfebgcic:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND")):c.default.groupInviteCode(e).then(function(e){return 200===e.status?e.code:Promise.reject(new f.ServerStatusCodeError(e.status))})}function o(e){return s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND")):c.default.revokeGroupInvite(e).then(function(e){return 200===e.status?e.code:Promise.reject(new f.ServerStatusCodeError(e.status))})}function i(e){return s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.reject(new Error("joinGroupViaInvite: not supported when not build with MD_BACKEND")):c.default.acceptGroupInvite(e).then(function(e){return 200===e.status?e.gid:Promise.reject(new f.ServerStatusCodeError(e.status))})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroupInviteCode=r,t.sendRevokeGroupInviteCode=o,t.sendJoinGroupViaInvite=i;var l=n("ccaaiecfib"),s=a(l),u=n("chajfbfiga"),c=a(u),f=n("cajijabhgb")},bcbhcfbjff:function(e,t){e.exports={muted:"_3jy1v",quote:"oLwmo",hasAuthor:"_19aTC",bubble:"Eu2_h",meta:"_3qAvH",isTransparent:"_2Hp95",body:"_3FGS1",author:"_3Mf7Z",isFirst:"_1X6iJ"}},bcdgdcghdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("ddhijeejag"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),o=n("bbhdaaahah"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){var t=e.children;return r.createElement("div",{className:i.default.tooltip},t)};l.displayName="ErrorTooltip",t.default=l},bcdjifadgi:function(e,t){e.exports={muted:"eHGZy",msgUnread:"_3Xx0y",msgUnreadBody:"_1lo-H"}},bceahhbbcj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return u.default.supportsFeature(u.default.F.MD_BACKEND)?Promise.reject(new Error("addParticipants: not supported when not build with MD_BACKEND")):f.default.addParticipants(e,t)}function o(e,t){return u.default.supportsFeature(u.default.F.MD_BACKEND)?Promise.reject(new Error("sendRemoveParticipants: not supported when not build with MD_BACKEND")):f.default.removeParticipants(e,t)}function i(e,t){return u.default.supportsFeature(u.default.F.MD_BACKEND)?Promise.reject(new Error("sendDemoteParticipants: not supported when not build with MD_BACKEND")):f.default.demoteParticipants(e,t)}function l(e,t){return u.default.supportsFeature(u.default.F.MD_BACKEND)?Promise.reject(new Error("sendPromoteParticipants: not supported when not build with MD_BACKEND")):f.default.promoteParticipants(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=r,t.sendRemoveParticipants=o,t.sendDemoteParticipants=i,t.sendPromoteParticipants=l;var s=n("ccaaiecfib"),u=a(s),c=n("chajfbfiga"),f=a(c)},bcebbbdfff:function(e,t){e.exports={muted:"_1DaF1",title:"_3dcGh",titleMain:"_3KSMx",meta:"_2V2qB",chat:"_3KF1B",divider:"jLybP",chevron:"_1eKcW",avatar:"_2v7qI",author:"_3iZHE"}},bceghabha:function(e,t){e.exports={muted:"_2fYrl",caption:"_1gsyD",meta:"_20GYl"}},bcfhbihafa:function(e,t){e.exports={muted:"_3_-Se",bubble:"ziVVa",nonAlbumBubble:"_1B0zT",isPreview:"_7CZzC",author:"_3SEoy",forwarded:"_1Mor7",forwardedIndicator:"_2Jc4M",hasAuthor:"pQmpN",meta:"I9Ei4",hasCaption:"TKXOd",caption:"_2T6qL",isPSA:"UCfcT",isPsa:"UCfcT",quote:"_1KUAa",thumb:"QKz-g",inAlbum:"_2Ww6n",cursorPointer:"cMrTV",thumbBody:"_2IYG6",duration:"_3_IKd",icon:"_1aGfY",pipBtn:"_3izSd",isHover:"_pvFP",footer:"_3-TD0",overlay:"_1I2vC",overlayAlbumText:"_3rxI-"}},bcfiaiddii:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("gbfffciea"),f=a(c),d=n("bffjfbgbg"),p=a(d),h=n("eiiicijcj"),m=a(h),b=n("eafjfadchb"),g=a(b),v=n("dcjaajabae"),y=a(v),_=n("ihfccfgdf"),E=a(_),j=n("ejbdjaifi"),w=n("bheafeifce"),O=(n("cgecdbiihg"),n("ichhibhgh")),C=a(O),S=n("beddiafhbh"),P=a(S),M=(t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3,function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setRefVideoPlayer=function(e){a.refVideoPlayer=e},a.handleOpenMediaViewer=function(){a.props.onOpenMediaViewer&&a.props.onOpenMediaViewer(),f.default.mediaViewerModal(a.props.msg,null,a.getCurrentTimeFromVideo())},a.handleOpenVideoFloater=function(){a.props.onOpenVideoFloater&&a.props.onOpenVideoFloater(),C.default.openPiP((0,w.unproxy)(a.props.msg),a.getCurrentTimeFromVideo(),null)},a.handleMissingMedia=function(){a.props.onMissingMedia&&a.props.onMissingMedia(),f.default.openModal(u.default.createElement(m.default,{msg:a.props.msg})),a.props.onClose()},a.handleUnsupportedMedia=function(){a.props.onUnsupportedMedia&&a.props.onUnsupportedMedia(),f.default.openModal(u.default.createElement(g.default,{msg:a.props.msg})),a.props.onClose()},a.handleNeedPokeMedia=function(){a.props.onNeedPokeMedia&&a.props.onNeedPokeMedia(),f.default.openModal(u.default.createElement(y.default,{msg:a.props.msg})),a.props.onClose()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(){switch(this.props.mediaData.mediaStage){case p.default.STAGE.ERROR_MISSING:this.handleMissingMedia();break;case p.default.STAGE.ERROR_UNSUPPORTED:this.handleUnsupportedMedia();break;case p.default.STAGE.NEED_POKE:this.handleNeedPokeMedia()}}},{key:"getCurrentTimeFromVideo",value:function(){return this.refVideoPlayer?this.refVideoPlayer.getCurrentTimeFromVideo():0}},{key:"render",value:function(){var e={msg:this.props.msg,mediaData:this.props.mediaData};return u.default.createElement(P.default,{ref:this.setRefVideoPlayer,type:this.props.type,msgVideoInfo:e,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onOpenMediaViewer:this.handleOpenMediaViewer,onOpenVideoFloater:this.handleOpenVideoFloater,onMissingMedia:this.handleMissingMedia,onUnsupportedMedia:this.handleUnsupportedMedia,autoPlay:this.props.autoPlay})}}]),t}(s.Component));M.CONCERNS={msg:["id"],mediaData:["mediaStage","preview","streamable"]},M.displayName="MsgVideoPlayer",t.default=(0,E.default)((0,j.hoc)(M),M.CONCERNS)},bcfjfagjhe:function(e,t){e.exports={muted:"fPXdA",header:"_8-yzK"}},bchahacead:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("bdjgfabbia"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=n("ddbdcagdbi"),v=a(g),y=n("gbfffciea"),_=a(y),E=n("djhbegbdaf"),j=a(E),w=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.filterAdmins=function(e){var t=a.props.groupMetadata,n=t.participants.get(e.id);return!(!n||!n.isAdmin)},a.onSelectAdminToMsg=function(e){a.openChat(e.id),_.default.closeModal()},a.openChat=function(e){f.default.find(e).then(function(e){e.quotedMsgAdminGroupJid=a.props.chat.id,_.default.openChatBottom(e)})},a.onMsgAdmin=function(){var e=a.props.groupMetadata,t=e.participants.getAdmins();if(1===t.length)return void a.openChat(t[0].id);_.default.openModal(u.createElement(v.default,{title:l10n.t("message_admin"),filter:a.filterAdmins,onCancel:function(){return _.default.closeModal()},onSelect:a.onSelectAdminToMsg}))},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=u.createElement("span",{role:"button",onClick:this.onMsgAdmin,className:p.default.adminBtn},l10n.t("announcement_only_msg_admin"));return u.createElement(j.default,{id:"announcement_only_msg",params:{admins:e}})}}]),t}(u.Component);w.CONCERNS={mute:["isMuted"],chat:["id"],groupMetadata:["participants"]},w.displayName="AnnouncementsOnlyMsgBar",t.default=(0,m.default)((0,b.hoc)(w),w.CONCERNS)},bcibfcjcbf:function(e,t){e.exports={muted:"_2oHKz",btnContext:"_1mGV6"}},bcidefefj:function(e,t){e.exports={muted:"_3ZVmH",container:"_35e3l",containerBg:"_1h1c7",loadingBlock:"_30LsT",fadeIn:"_1eaSE",column:"_3C2U5",lastColumn:"_3k7bP",lastColumnWidth:"C1Los",headContainer:"_2eLFJ",spinner:"_3qukr"}},bcijadidjd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("gbfffciea"),u=a(s),c=n("djcchigfih"),f=a(c),d=n("djbhiedbef"),p=a(d),h=n("dajffajabh"),m=a(h),b=n("dhfbfehaef"),g=a(b),v=n("fffdgbfji"),y=a(v),_=n("chcadgfgad"),E=a(_),j=n("ddhijeejag"),w=a(j),O=n("dggeggcjcd"),C=a(O),S=n("cgfjebhhej"),P=a(S),M=n("cjidjghdjj"),T=a(M),k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.vcardList;return w.default.createElement(E.default,{type:_.BoxModalType},w.default.createElement(f.default,null,w.default.createElement(m.default,{title:y.default.t("multi_vcard_number_of_contacts",{count:t.length,_plural:t.length}),type:h.DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return u.default.closeModal()}}),w.default.createElement(p.default,null,w.default.createElement(g.default,null,w.default.createElement("div",{className:T.default.body},t.map(function(t,n){return e.renderVCard(t,n)}))))))}},{key:"renderVCard",value:function(e,t){var n=P.default.parse(e);return n?w.default.createElement("div",{className:T.default.vcardWrapper,key:t},w.default.createElement(C.default,{parsedVCard:n,thumbnail:P.default.thumbnail(e)})):null}}]),t}(j.Component);k.displayName="MultiVCardModal",t.default=k},bcjbggbah:function(e,t){e.exports={muted:"qdEPv",result:"_1omcu",selected:"_2saG0",slash:"_3AXnO",shortcutPrefix:"_3kuPz",shortcutSuffix:"_2Cw5t",message:"_2l2Tm"}},bcjhbcbjbf:function(e,t){e.exports={muted:"_3YGrW",thumb:"_1gcLL",active:"_1_w6f",body:"_2sn3C",btnDelete:"_2PHoH",bodyDoc:"_1nsYl"}},bdacfjbfhj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("eceadcicaf"),m=a(h),b=n("ejbdjaifi"),g=n("egjjcjcg"),v=a(g),y=n("degbdgggga"),_=a(y),E=n("hjbbdjjdf"),j=f.default.debounce(function(e,t){v.default.setVideoVolumeSettings(e,t)},500),w=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.videoRef=null,a.setRefVideo=function(e){if(a.videoRef!==e&&(a.videoRef=e,e)){var t=v.default.getVideoVolumeSettings();t&&(f.default.isNumber(t.volume)&&e.setVolume(t.volume),f.default.isBoolean(t.muted)&&e.setMuted(t.muted))}},a.onVolumeChange=function(e){var t=a.videoRef;if(t){var n=t.getVolume(),r=t.getMuted();j(n,r),a.props.onVolumeChange({volume:n,muted:r})}},a.onOtherPlaying=function(e){e!==a&&a.videoRef&&a.videoRef.pause()},a.onPlaying=function(){p.default.mediaPlaying(a),a.props.onPlaying()},a.setStartTime=function(){a.videoRef&&(0,E.isNumber)(a.props.startTime)&&a.videoRef.setCurrentTime(a.props.startTime)},a.play=function(){var e=a.videoRef;e&&e.getPaused()&&e.play()},a.pause=function(){var e=a.videoRef;e&&(e.getPaused()||e.pause())},a.getPaused=function(){return!a.videoRef||a.videoRef.getPaused()},a.onLoadedMetadata=function(e){a.props.startTime&&a.setStartTime();var t=f.default.pick(e.target,["duration","volume","muted","videoWidth","videoHeight"]);a.props.onLoadedMetadata(t)},a.getCurrentTime=function(){return a.videoRef?a.videoRef.getCurrentTime():0},a.setCurrentTime=function(e){a.videoRef&&a.videoRef.setCurrentTime(e)},a.getDuration=function(){return a.videoRef?a.videoRef.getDuration():0},a.getVolume=function(){return a.videoRef?a.videoRef.getVolume():0},a.setVolume=function(e){a.videoRef&&a.videoRef.setVolume(e)},a.getMuted=function(){return!!a.videoRef&&a.videoRef.getMuted()},a.setMuted=function(e){a.videoRef&&a.videoRef.setMuted(e)},a.onProgress=function(e){if(a.videoRef){var t=a.videoRef.getBuffered(),n=[];if(t)for(var r=0;r<t.length;r++)n.push([t.start(r),t.end(r)]);a.props.onProgress(n)}},a.onTimeUpdate=function(e){var t=e.target.currentTime;a.props.onTimeUpdate(t)},a.onError=function(e){var t=a.videoRef&&a.videoRef.refVideo&&a.videoRef.refVideo.error?a.videoRef.refVideo.error.code:null;if(null==t&&null!=e.code)return void a.props.onError(e.code);a.props.onError(t)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(p.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){j.flush()}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){return u.createElement(_.default,{ref:this.setRefVideo,src:this.props.url,poster:this.props.poster,className:this.props.className,onVolumeChange:this.onVolumeChange,onEnded:this.props.onEnded,onError:this.onError,onPause:this.props.onPause,onPlaying:this.onPlaying,onProgress:this.onProgress,onTimeUpdate:this.onTimeUpdate,onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},this.props.children)}}]),t}(u.PureComponent);w.displayName="UrlVideoTag";var O=(0,m.default)((0,b.hoc)(w)),C=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.play=function(){a.getComponent().play()},a.pause=function(){a.getComponent().pause()},a.getPaused=function(){return a.getComponent().getPaused()},a.getCurrentTime=function(){return a.getComponent().getCurrentTime()},a.setCurrentTime=function(e){a.getComponent().setCurrentTime(e)},a.getDuration=function(){return a.getComponent().getDuration()},a.getVolume=function(){return a.getComponent().getVolume()},a.setVolume=function(e){a.getComponent().setVolume(e)},a.getMuted=function(){return a.getComponent().getMuted()},a.setMuted=function(e){a.getComponent().setMuted(e)},i=n,o(a,i)}return i(t,e),t}(O);t.default=C},bdbcafgecc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("fffdgbfji"),f=a(c),d=n("hbhijdici"),p=a(d),h=n("djbhiedbef"),m=a(h),b=n("cfaiaibca"),g=a(b),v=n("chcadgfgad"),y=a(v),_=n("dajffajabh"),E=a(_),j=n("djcchigfih"),w=a(j),O=n("cbcfgjhjhj"),C=a(O),S=n("dceicchccd"),P=a(S),M=n("bijffg"),T=a(M),k=n("cgbgedjgag"),N=a(k),I=n("bheafeifce"),R=n("eceadcicaf"),A=a(R),D=n("ejbdjaifi"),x=n("bfdcadbbif"),L=a(x),F=n("bddhdheedf"),U=n("bfbggcdbfb"),B=a(U),G={NONE_SELECTED:0,ALL_SELECTED:1,PARTIALLY_SELECTED:2},V=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));W.call(n);var a=n.props.modelsToUpdate,i=n.constructLabelCountMap();return n.initialLabelState=p.default.mapValues(i,function(e){return e===a.length?G.ALL_SELECTED:e>0?G.PARTIALLY_SELECTED:G.NONE_SELECTED}),n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.selectedLabels=new P.default([],function(e){return e.id})}},{key:"render",value:function(){var e=u.createElement(g.default,{a8nText:"popup-controls-ok",type:"primary",disabled:0===this.changeSet.size,onClick:this.onUpdateLabelsOK,key:1},f.default.t("save_button")),t=u.createElement(g.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.props.onCancel,key:0},f.default.t("web_cancel")),n=u.createElement(g.default,{a8nText:"popup-controls-cancel",type:"simplified",onClick:this.props.onAddNewLabel,key:2},u.createElement(L.default,{name:"plus-large",className:N.default.plus,display:"inline"}),f.default.t("add_new_label_btn_name"));return u.createElement(y.default,{type:v.TowerModalType},u.createElement(w.default,{key:"mange_label_modal",theme:"labels"},u.createElement(E.default,{title:f.default.t("label_item_title"),type:_.DRAWER_HEADER_TYPE.POPUP,onCancel:this.props.onCancel}),u.createElement(m.default,{"data-list-scroll-container":!0,theme:"padding"},u.createElement(C.default,{shouldScrollIntoViewAndSelect:this.props.shouldScrollIntoViewAndSelect,initialLabelState:this.initialLabelState,selectedLabels:this.selectedLabels,renderContex:"label-selection",onLabelClick:this.props.onLabelClick,onMultiSelect:this.onMultiSelect})),u.createElement("div",{className:N.default.newLabelBtn},n),u.createElement("div",{className:N.default.actionBtns},t,e)))}}]),t}(u.Component),W=function(){var e=this;this.changeSet=new Set,this.onMultiSelect=function(t){t&&(e.initialLabelState[t]===G.PARTIALLY_SELECTED?e.changeSet.add("{labelId}_changed"):e.changeSet.has(t)?e.changeSet.delete(t):e.changeSet.add(t),e.forceUpdate())},this.constructLabelCountMap=function(){var t={};return e.props.modelsToUpdate.forEach(function(e){var n=(0,I.unproxy)(e);n.labels&&n.labels.forEach(function(e){t[e]=t[e]?++t[e]:1})}),t},this.onUpdateLabelsOK=function(){(0,F.logLabelOperationEvent)(B.default.LABEL_OPERATIONS.CLICK_POSITIVE,e.props.modelsToUpdate.length,B.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);var t=e.selectedLabels.list,n=e.selectedLabels.selected,a=t.map(function(e,t){return{id:e.id,type:n[t]?"add":"remove"}});T.default.addOrRemoveLabels(a,e.props.modelsToUpdate),e.props.onLabelUpdateComplete&&e.props.onLabelUpdateComplete()}};V.displayName="ManageLabelModal",t.default=(0,A.default)((0,D.hoc)(V))},bdcjhdddde:function(e,t){e.exports={muted:"_2Rq0o",title:"_2AJf5",titleIcon:"_3tCj6",forwardCount:"_1NZZN",spinner:"_20U-x",list:"_3Za3d",footer:"_19xqi"}},bdeabjehdj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("hbhijdici"),i=a(o),l=n("bjigbaghc"),s=a(l),u=n("ccaaiecfib"),c=a(u),f=n("bdiiahhjbe"),d=a(f),p=n("ccgjijjbbj"),h=a(p),m=n("dahaahdjfa"),b=a(m),g=n("bhggeigghg"),v=a(g),y=n("jccfhaecf"),_=a(y),E=n("cbgifejihh"),j=n("eidjcbbdf"),w=n("bbcaggdbc"),O=w.WebMessageInfo,C=n("ehfgacedb"),S=r({version:"10"},b.default,{parseMsgMessage:function(e,t){if("message"!==this.N.tag(e))return void d.default.error("drop: not message")(e);if("ciphertext"===this.N.attr("type",e)){var n=this.N.attr("id",e),a=this.N.attr("from",e),r=this.N.attr("participant",e),o=_.default.isBroadcast(a)?r:a,i=void 0;try{i=new h.default({from:o,to:s.default.me,id:n,participant:r})}catch(e){return void d.default.error("drop: cannot create MsgKey: "+e.stack)()}return{type:"ciphertext",t:parseInt(this.N.attr("t",e),10)||0,id:i,from:o,to:s.default.me,participant:r,author:_.default.isBroadcast(a)?void 0:r,star:"true"===this.N.attr("star",e)}}var l=this.N.children(e);if(!(l instanceof ArrayBuffer))return void d.default.error("drop: no bytes")(e);try{var u=O.parse(l);return this.parseWebMessageInfo(u,t)}catch(t){return d.default.log("wmi error: "+String(t))(),void d.default.assert(!1,"parse-error","drop: failed parsing wmi")(e)}},parseWebMessageInfo:function(e,t){var n=e.key,a=this.decodeJid(n.remoteJid),r=n.fromMe?a:s.default.me,o=n.fromMe?s.default.me:a,i=this.decodeJid(n.participant),l=void 0;if(s.default.me.equals(a)&&(l=n.fromMe?"out":"in"),"broadcast"===r)return void d.default.error("drop: broadcast")(e);var u=void 0;try{u=new h.default({fromMe:n.fromMe,remote:a,id:n.id,participant:i})}catch(e){return void d.default.error("drop: cannot create MsgKey: "+e.stack)()}return this.parseMsgProto(e.message,{id:u,from:o,to:r,self:l,participant:i,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?1:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:n.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256)},t)},parseProductMessageProto:function(e,t){if(c.default.supportsFeature(c.default.F.CATALOG)){var n=t.product,a=n.productImage;this.parseImageMessageProto(e,a),e.type="product",e.businessOwnerJid=t.businessOwnerJid,e.contextInfo=t.contextInfo,e.productId=n.productId,e.currencyCode=n.currencyCode,e.priceAmount1000=n.priceAmount1000,e.retailerId=n.retailerId,e.url=n.url,e.productImageCount=n.productImageCount,e.title=n.title,e.description=n.description,e.pseudoReply=n.pseudoReply}},parseProtocolMessageProto:function(e,t,n){if("relay"===n){var a=t.key,r=new h.default({fromMe:a.fromMe,remote:this.decodeJid(a.remoteJid),id:a.id,participant:this.decodeJid(a.participant)});i.default.merge(e,{type:"protocol",subtype:"unknown",protocolMessageKey:r})}},parseLiveLocationMessageProto:function(e,t,n){e.type="location",e.isLive=!0,e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.accuracy=t.accuracyInMeters,e.speed=t.speedInMps,e.degrees=t.degreesClockwiseFromMagneticNorth,e.comment=t.caption,e.sequence=t.sequenceNumber,n&&(e.finalLat=void 0!==n.degreesLatitude?n.degreesLatitude:void 0,e.finalLng=void 0!==n.degreesLongitude?n.degreesLongitude:void 0,e.finalThumbnail=this.decodeBytes(n.jpegThumbnail)||"",e.finalAccuracy=n.accuracyInMeters,e.finalSpeed=n.speedInMps,e.finalDegrees=n.degreesClockwiseFromMagneticNorth,e.finalTimeOffset=n.timeOffset)},parseSendPaymentMessageProto:function(e,t,n){if(e.type="payment",this.callFeatureFlagFun(c.default.F.PAYMENTS,"parsePaymentInfo",e,n),c.default.supportsFeature(c.default.F.PAYMENTS)){e.subtype="send";var a=t.requestMessageKey;e.paymentRequestMessageKey=t.requestMessageKey?new h.default({fromMe:a.fromMe,remote:this.decodeJid(a.remoteJid),id:a.id,participant:this.decodeJid(a.participant)}):void 0,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg))}},parseRequestPaymentMessageProto:function(e,t,n){e.type="payment",this.callFeatureFlagFun(c.default.F.PAYMENTS,"parsePaymentInfo",e,n),c.default.supportsFeature(c.default.F.PAYMENTS)&&(e.subtype="request",e._currencyCodeIso4217=t.currencyCodeIso4217,e._paymentRequestFrom=t.requestFrom,e._paymentExpiryTimestamp=t.expiryTimestamp,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg)))},parseGroupInviteMessageProto:function(e,t){e.type="groups_v4_invite",c.default.supportsFeature(c.default.F.GROUPS_V_4_JOIN_PERMISSION)&&(e.inviteCode=t.inviteCode,e.inviteCodeExp=t.inviteExpiration,e.inviteGrp=t.groupJid,e.inviteGrpName=t.groupName,e.inviteGrpJpegThum=this.decodeBytes(t.jpegThumbnail),e.comment=t.caption)},parseContextInfoProto:function(e,t,n){var a=t.quotedMessage,r=t.mentionedJid;e.quotedMsg=a&&this.parseMsgProto(a,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&n&&this.callFeatureFlagFun(c.default.F.PAYMENTS,"parsePaymentInfo",e.quotedMsg,n),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(r)?r.map(this.decodeJid):r,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore},msgCreateRecord:function(e){var t=this;return Promise.callSynchronously(function(){if(["ptt","audio","image","video","document","sticker","product"].indexOf(e.type)>-1){var n="ptt"===e.type?"audio":e.type,a=void 0;return e.isMMS&&(a=e.isUnsentPhoneMsg()?{type:e.type}:e.avParams()),e.local&&!e.mediaKey?t.sendMedia(a):i.default.merge({status:200,type:n},a)}}).catch(function(e){return d.default.error("wap:msgCreateRecord mPromise error ("+(0,j.encodeErrorInfo)()+"): "+e.stack)(),Promise.reject("wap:msgCreateRecord mPromise error")}).then(function(n){if(n&&200!==n.status){var a="wap:msgCreateRecord:sendMedia error "+n.status;return d.default.error(a)(),Promise.reject(a)}var r=e.id.id,o=(0,E.createMessageKey)(e),i=(0,E.createMsgProtobuf)(e,n||{}),l=!!e.multicast||void 0,s=!!e.urlText||void 0,u=!!e.urlNumber||void 0,c=!!e.clearMedia||void 0,f=new O({key:o,message:i,messageTimestamp:e.t,multicast:l,urlText:s,urlNumber:u,clearMedia:c}),p=t.actionNode("relay",[["message",void 0,O.encode(f).readBuffer()]]);return new Promise(function(n,a){t.binSend("send",p,a,{tag:r,onSend:t.wrap(n),onDrop:t.wrap(a),retryOn5xx:!0,resendGuard:function(){var t=v.default.Msg.get(e.id);return"protocol"===e.type||t&&t.id.equals(e.id)}},{debugString:["action","message",e.type,e.subtype,r].join(),debugObj:{xml:p,pb:f},metric:t.M.MESSAGE,ackRequest:!1})})})},msgFindQuery:function(e,t,n){var a=this,r=e;return new Promise(function(e,o){var i=function(t){a.BinaryProtocol.read(t).then(function(t){var n=[],o=a.N.children(t);if(d.default.logColor("green","bin-recv: response,msg",t)(),"response"===a.N.tag(t)&&("message"===a.N.attr("type",t)||"star"===a.N.attr("type",t)||"search"===a.N.attr("type",t)||"media_message"===a.N.attr("type",t))){if(Array.isArray(o)){var i=void 0,l=o.length;for(i=0;i<l;i++){var s=a.parseMsg(o[i],"response");s&&n.push(s)}}"search"===a.N.attr("type",t)?n={eof:"true"===a.N.attr("last",t),messages:n}:"media"===r&&(n={messages:n})}e(n)}).catch(o)},l=void 0,s="";switch(r){case"after":t.id||(r="before");case"before":l={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s=[t instanceof h.default?t.toString():t.remote,t.count].join();break;case"search":l={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote},s=["search",t.page,t.count,t.jid].join();break;case"star":l={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="starred";break;case"media":l={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="media"}var u=a.queryNode(l,void 0);a.binSend("sendEphemeral",u,o,{onSend:a.binWrap(i,e),onDrop:a.wrap(o),logOnSend:n},{debugString:"query,message,"+s,metric:"search"===r?a.M.QUERY_SEARCH:a.M.QUERY_MESSAGES,ackRequest:!1})})}});e.exports=i.default.defaults(S,C)},bdebgadbea:function(e,t){e.exports={muted:"_3ED0k",column:"_2xLKR"}},bdecdecede:function(e,t,n){"use strict";function a(e){var t=0;if(!e)return t;switch(e.quotedMsg&&(t+=54),e.caption&&(t+=31),e.type){case u.MSG_TYPE.NOTIFICATION:case u.MSG_TYPE.GROUP_NOTIFICATION:case u.MSG_TYPE.GP2:case u.MSG_TYPE.BROADCAST_NOTIFICATION:case u.MSG_TYPE.E2E_NOTIFICATION:case u.MSG_TYPE.CALL_LOG:case u.MSG_TYPE.CIPHERTEXT:case u.MSG_TYPE.REVOKED:case u.MSG_TYPE.CHAT:e.linkPreview&&(t+=53);var n=(0,s.numCodepoints)(e.body&&e.body.toString());return t+19*o.default.ceil(n/100)+13;case u.MSG_TYPE.IMAGE:return t+(e.mediaData&&e.mediaData.fullWidth&&e.mediaData.fullHeight||0)?Math.floor(Math.min(330/e.mediaData.fullWidth*e.mediaData.fullHeight,330)):330;case u.MSG_TYPE.VIDEO:case u.MSG_TYPE.AUDIO:return e.isGif?t+137:t+166;case u.MSG_TYPE.LOCATION:return t+e.isLive?l.MSG_HEIGHT:i.PREVIEW_HEIGHT;case u.MSG_TYPE.PTT:return t+67;case u.MSG_TYPE.VCARD:return t+74;case u.MSG_TYPE.DOCUMENT:return t+188;case u.MSG_TYPE.STICKER:return t+125;case u.MSG_TYPE.UNKNOWN:default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("hbhijdici"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n("biadgfadhh"),l=n("icbjhhidg"),s=n("chhhffajfi"),u=n("eadfaddcj")},bdfheihabb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("bijffg"),u=a(s),c=n("eceadcicaf"),f=a(c),d=n("ddhijeejag"),p=a(d),h=n("ejbdjaifi"),m=n("icghcjegh"),b=a(m),g=n("dhbceejbjg"),v=a(g),y=n("fifhbjiec"),_=a(y),E=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.updateLabels=function(){a.forceUpdate()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"label_updated_"+this.props.label,this.updateLabels)}},{key:"render",value:function(){var e=this.props.label,t=u.default.get(e);if(!t||!t.name)return null;if("label-list"===this.props.theme){var n=p.default.createElement(b.default,{renderAsCircle:"label-list"===this.props.theme,theme:this.props.theme,labels:[e]}),a=p.default.createElement(_.default,{text:t.name,ellipsify:!0,titlify:!0});return p.default.createElement(v.default,{theme:"chat-checkbox",image:n,primary:a,secondary:l10n.t("label_count",{count:parseInt(t.count||0,10),_plural:parseInt(t.count||0,10)})})}var r=(0,m.renderLabelSvg)(t.hexColor),o=p.default.createElement(_.default,{text:t.name,ellipsify:!0,titlify:!0});return p.default.createElement(v.default,{theme:"label-selection",image:r,primary:o})}}]),t}(d.PureComponent);E.displayName="LabelListItem",t.default=(0,f.default)((0,h.hoc)(E))},bdfjbfgea:function(e,t){e.exports={muted:"_3Q9PP",selectedListContainer:"I72vi"}},bdgbijheih:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("cajijabhgb"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("bdiiahhjbe"),u=a(s),c=n("bcjjbcbjaa"),f=a(c),d=function(){function e(){r(this,e),this._writeQueue=[],this.Node=f.default}return o(e,[{key:"read",value:function(){return u.default.error("Attempted to call `read` on BinaryProtocolQueue")(),Promise.reject(new l.Disconnected)}},{key:"write",value:function(e){var t=this;return new Promise(function(n,a){t._writeQueue.push({resolve:n,reject:a,n:e})})}},{key:"dropAllBecauseLogout",value:function(){for(var e=new l.LogoutDrop("cancelled binary protocol call");this._writeQueue.length;){this._writeQueue.shift().reject(e)}}},{key:"getWriteQueue",value:function(){return this._writeQueue}}]),e}();t.default=d},bdgdgicfaf:function(e,t){e.exports={muted:"_1JY4f",symbol:"WVFpp",margin:"_3cO_w"}},bdgdjfajce:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bjebjijbfc"),f=a(c),d=n("dhhfaeacef"),p=a(d),h=n("fifhbjiec"),m=a(h),b=n("bffjfbgbg"),g=a(b),v=n("ihfccfgdf"),y=a(v),_=n("ejbdjaifi"),E=n("bfdcadbbif"),j=a(E),w=n("bhfdfhefca"),O=n("eaaihhcibf"),C=a(O),S=n("dhbceejbjg"),P=a(S),M=n("ccaaiecfib"),T=a(M),k=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.getMenuBtns=function(){var e=a.props,t=e.msg,n=e.mediaData,r=u.createElement(w.MenuBarItem,{icon:u.createElement(j.default,{name:"bubble"}),title:l10n.t("go_to_message"),onClick:a.props.onGoToMsgClick}),o=void 0,i=void 0,l=void 0;t.star?(o=a.props.onUnstarClick,i="unstar-btn",l=l10n.t("unstar_message")):(o=a.props.onStarClick,i="star-btn",l=l10n.t("star_message"));var s=u.createElement(w.MenuBarItem,{icon:u.createElement(j.default,{name:i}),title:l,onClick:o}),c=u.createElement(w.MenuBarItem,{icon:u.createElement(j.default,{name:"forward"}),title:l10n.t("forward"),onClick:a.props.openForwardFlow}),f=void 0;return f=!n.renderableUrl&&(!T.default.supportsFeature(T.default.F.REPLACE_MEDIABLOB)||n.mediaStage!==g.default.STAGE.RESOLVED),{btnGoToMsg:r,btnStar:s,btnForward:c,btnDownload:u.createElement(w.MenuBarItem,{icon:u.createElement(j.default,{name:"download"}),title:l10n.t("web_button_download"),disabled:f,onClick:a.props.onDownloadClick})}},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg,t=e.displayName(!0,!0);e.isGroupMsg&&(t+=" @ "+e.chat.title());var n=this.getMenuBtns(),a=n.btnGoToMsg,r=n.btnStar,o=n.btnForward,i=n.btnDownload;return u.createElement("div",{className:C.default.mediaPanelHeader},u.createElement("div",{className:C.default.info},u.createElement(P.default,{idle:!0,image:u.createElement(p.default,{id:e.sender,size:40}),primary:u.createElement(m.default,{ellipsify:!0,text:t}),secondary:f.default.relativeDateAndTimeStr(e.t),theme:"media"})),u.createElement("div",{className:C.default.mediaPanelTools},u.createElement(w.MenuBar,{key:"media-panel-header"},a,r,o,i,u.createElement(w.MenuBarItem,{a8nText:"btn-close",icon:u.createElement(j.default,{name:"x-viewer"}),title:l10n.t("web_close"),onClick:this.props.onClose}))))}}]),t}(u.PureComponent);k.CONCERNS={msg:["star","isGroupMsg","chat","type","isGif","sender","t"],mediaData:["filehash","mediaStage","renderableUrl"]},k.displayName="MediaPanelHeader",t.default=(0,y.default)((0,_.hoc)(k),k.CONCERNS)},bdghdbcbdc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ceffhbhahb"),f=a(c),d=n("eadgafjbag"),p=a(d),h=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleMouseDown=function(e){e.stopPropagation()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.createElement("div",{className:(0,f.default)(p.default.container,this.props.className),onMouseDown:this._handleMouseDown},this.props.children)}}]),t}(u.PureComponent);h.displayName="MenuContainer",t.default=h},bdhbdihbca:function(e,t){e.exports={muted:"_1AFtX",cancelIcon:"_2MUsN",inputContainer:"_2gisX",inputEmojiSearch:"_2GXNm",searchRow:"_2Qm0c",ffFix:"_664gn",rowShadow:"_16-WE",rowInput:"_2hMsh"}},bdheiggeaf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o((0,p.unproxy)(e),t)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,d.genId)(),a=e.promises;a.setPin&&a.setPin.cancel();var r=void 0,i=void 0;t?r=Math.round(+new Date/1e3):i=e.pin;var s=(0,h.sendConversationPin)(e.id,r,i).cancellable(),c=t?new d.ActionType(l10n.t("action_chat_pinning")):new d.ActionType(l10n.t("action_chat_unpinning")),p=s.then(function(a){var r=void 0;return 200===a.status?(r=t?l10n.t("action_chat_pinned"):l10n.t("action_chat_unpinned"),new d.ActionType(r,l10n.t("action_undo"),function(){return o(e,!t,n)})):405===a.status?new d.ActionType(l10n.t("action_chat_pin_failed_405")):a.status>=400?t?new d.ActionType(l10n.t("action_chat_pin_failed")):new d.ActionType(l10n.t("action_chat_unpin_failed")):void 0}).catch(function(a){u.default.error("models:chat:setPin dropped")(a);var r=t?l10n.t("action_chat_pin_failed"):l10n.t("action_chat_unpin_failed");return new d.ActionType(r,l10n.t("action_try_again"),function(){return o(e,t,n)})});return l.default.openToast(f.default.createElement(d.ActionToast,{id:n,initialAction:c,pendingAction:p})),a.setPin=s.then(function(t){200!==t.status||t._duplicate||(e.pin=r)}).finally(function(){a.setPin=null})}Object.defineProperty(t,"__esModule",{value:!0}),t.setPin=r;var i=n("gbfffciea"),l=a(i),s=n("bdiiahhjbe"),u=a(s),c=n("ddhijeejag"),f=a(c),d=n("ccihhdchab"),p=n("bheafeifce"),h=n("cihffbbgjc")},bdigfbgefi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n("hbhijdici"),s=a(l),u=n("cahfddcdga"),c=a(u),f=function(){function e(){o(this,e),this.rctKeyToData=new Map,this.keyToRctKey=new Map}return i(e,[{key:"genNewKeys",value:function(e){var t=e-this.rctKeyToData.size;if(t<=0)return[];for(var n=[],a=0;a<e&&(this.rctKeyToData.has(a)||(n.push(a),t!==n.length));a++);return n}},{key:"recycleKeysAndMap",value:function(e){var t=this,n=new Map,a=new Map,o=this.genNewKeys(e.length),i=new Set(this.rctKeyToData.keys()),l=[];e.forEach(function(e){var r=t.keyToRctKey.get(e.key);void 0!==r?(a.set(e.key,r),n.set(r,e),i.delete(r)):l.push(e)});var u=[].concat(r(o),r(i));l.forEach(function(e){var t=u.pop();a.set(e.key,t),n.set(t,e)});var f=s.default.sortBy(e,[function(e){return a.get(e.key)}]).map(function(e){return{rctKey:(0,c.default)(a.get(e.key)),data:e}});return this.rctKeyToData=n,this.keyToRctKey=a,f}}]),e}();t.default=f},bdjgfabbia:function(e,t){e.exports={muted:"_281ct",adminBtn:"e4PKG"}},bdjihaecid:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.StickerItem=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhfbfehaef"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("bgghfidcfh"),m=a(h),b=n("ifbjhfegj"),g=a(b),v=n("ddajbaceej"),y=n("ejbdjaifi"),_=n("bheafeifce"),E=n("ccaaiecfib"),j=a(E),w=t.StickerItem=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleClick=function(e){var t=a.props.onClick;t&&t((0,_.unproxy)(a.props.sticker),e)},a._handleEnterKey=function(e){var t=a.props.onEnter;t&&t((0,_.unproxy)(a.props.sticker),e)},a._setRefContainer=function(e){a._refContainer=e},a._handleDownloadMedia=function(){return a.props.sticker.downloadMedia()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.sticker.downloadMedia()}},{key:"focus",value:function(){this._refContainer&&(this.hasFocus()||(0,v.focus)(this._refContainer))}},{key:"getOffsetTop",value:function(){return this._refContainer?this._refContainer.offsetTop:0}},{key:"hasFocus",value:function(){return!!this._refContainer&&this._refContainer===document.activeElement}},{key:"render",value:function(){var e=this.props.sticker;return u.createElement(f.default,{onRef:this._setRefContainer,className:g.default.container,handlers:{enter:this._handleEnterKey}},u.createElement("div",{className:g.default.border},u.createElement(m.default,{mediaData:e.mediaData,onClick:this._handleClick,theme:"stickerPanel",loopAnimation:!0,downloadMedia:j.default.supportsFeature(j.default.F.REPLACE_MEDIABLOB)?this._handleDownloadMedia:null})))}}]),t}(u.PureComponent);w.CONCERNS={sticker:["id","mediaData"]},w.displayName="StickerItem";var O=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"focus",value:function(){this.getComponent().focus()}},{key:"getOffsetTop",value:function(){return this.getComponent().getOffsetTop()}},{key:"hasFocus",value:function(){return this.getComponent().hasFocus()}}]),t}((0,p.default)((0,y.hoc)(w),w.CONCERNS));t.default=O},bebbajcbbb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("eadfaddcj"),d=(a(f),n("ceffhbhahb")),p=a(d),h=n("fifhbjiec"),m=a(h),b=n("fffdgbfji"),g=a(b),v=n("dbbbgjbbgf"),y=a(v),_=n("cfiighfhhg"),E=a(_),j=n("ihfccfgdf"),w=a(j),O=n("bihbdchfhc"),C=a(O),S=n("dbabefhajh"),P=a(S),M=n("ejbdjaifi"),T=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props.msg,n=t.comment?c.createElement(y.default,{msg:t},c.createElement(m.default,{text:t.comment,selectable:!0,dirMismatch:t.rtl!==g.default.isRTL(),direction:t.dir})):null,a=void 0;if(this.props.quotedMsg){var o,i=(0,p.default)(C.default.quote,(o={},r(o,C.default.hasAuthor,this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg),r(o,C.default.forwarded,t.showForwarded()),o));a=c.createElement("div",{className:i},this.props.quotedMsg)}var l="unknown",s=g.default.t("check_phone_for_payment_message");this.props.placeholderText&&(l="ciphertext",s=this.props.placeholderText);var u=(0,p.default)((e={},r(e,C.default.hasText,n),r(e,C.default.noText,!n),e));return c.createElement(P.default,{msg:t,displayAuthor:this.props.displayAuthor},a,this.props.paymentInfo,c.createElement("div",{className:u},c.createElement(E.default,{hasCaption:!!n,iconName:l,msg:t},s)),n)}}]),t}(c.Component);T.CONCERNS={msg:["rtl","dir","comment","isSentByMe","isGroupMsg","isPSA","senderObj"]},T.displayName="PaymentMessagePlaceholder",t.default=(0,w.default)((0,M.hoc)(T),T.CONCERNS)},bebecagjgj:function(e,t){e.exports={muted:"_2_YUG",bodyContainer:"QChXd",list:"_1LsoD",search:"xq3Z0",hidden:"_3jqaL"}},becegcbegb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.mimeType,n=e.filename,a=(0,s.default)(d.default.icon,h[t]?h[t].icon:"icon-doc-generic");return i.createElement("div",{className:d.default.container,"data-animate-attach-media":!0},i.createElement("div",{className:d.default.media},i.createElement("div",{className:d.default.document},i.createElement("div",{className:a}),i.createElement("div",{className:d.default.text},n))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("hbhijdici"),c=a(u),f=n("cihjadddhc"),d=a(f),p=n("behbjhhbg"),h=c.default.pickBy(p.MIMETYPES,function(e){return"document"===e.msgType});r.displayName="AttachMediaTypeFile"},beddiafhbh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=a(c),d=n("hbhijdici"),p=a(d),h=n("ceffhbhahb"),m=a(h),b=n("fffdgbfji"),g=a(b),v=n("eceadcicaf"),y=a(v),_=n("ejbdjaifi"),E=n("bdacfjbfhj"),j=a(E),w=n("ccjagcdajg"),O=a(w),C=n("bhdgigicfd"),S=a(C),P=n("dcfaachegb"),M=n("bjhhaacbib"),T=a(M),k=n("didfdhbecg"),N=a(k),I=n("dbfiijcdie"),R=a(I),A=n("bffjfbgbg"),D=a(A),x=n("cgecdbiihg"),L=n("chbfbiahhb"),F=a(L),U=n("bigcibhibh"),B=a(U),G=n("bbdfiiibib"),V=a(G),W=n("cgajhcgiji"),H=a(W),Y=n("ecibddhig"),q=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(Y),K=n("bcjcbbafcj"),z=a(K),Q=n("bdiiahhjbe"),X=a(Q),J=n("edbaidcaf"),Z=a(J),$=n("bcafcjajcb"),ee=a($),te=n("bidfjbaebi"),ne=a(te),ae=n("bfdcadbbif"),re=a(ae),oe=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3,ie=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.resetMouseMoveRecently=p.default.debounce(function(){n.setState({mouseMoveRecently:!1})},oe),n.buffered=[],n.setRefVideo=function(e){n.refVideo=e},n.setRefContainer=function(e){n.refContainer=e,n.refContainer},n.handleLoadedMetadata=function(e){var t=n.props.startTime?n.props.startTime:0;n.setState({videoMetadata:{duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0}}),n.props.onAspectRatio&&e.videoWidth&&e.videoHeight&&n.props.onAspectRatio(e.videoWidth/e.videoHeight)},n.handleTimeUpdate=function(e){var t=null,a=n.state.videoMetadata;if(a){var r=n.getRelevantBufferedTime(n.buffered,e);t=s({},a,{currentTime:e,bufferedTime:r})}n.setState({videoMetadata:t})},n.handleVolumeChange=function(e){var t=null;n.state.videoMetadata&&(t=s({},n.state.videoMetadata,{volume:e.volume,muted:e.muted})),n.setState({videoMetadata:t})},n.handleEnded=function(){n.props.onVideoEnded&&n.props.onVideoEnded(),n.setState({isVideoPlaying:!1})},n.handleError=function(e){if(20===e)return void n.setState({isVideoPlaying:!1});if(n.props.msgVideoInfo)X.default.assert(!1,"Video Player Media Error","message video error code: "+(null!=e?e:""))();else if(n.props.ogVideoInfo){var t=Z.default.hostname(n.props.ogVideoInfo.videoMsg.matchedText);X.default.assert(!1,"Video Player Media Error","source: "+t+", error code: "+(null!=e?e:""))()}n.setState({isVideoError:!0}),n.props.onError&&n.props.onError()},n.handlePause=function(){n.setState({isVideoPlaying:!1})},n.handlePlaying=function(){n.setState({isVideoPlaying:!0})},n.handleProgress=function(e){n.buffered=e;var t=n.state.videoMetadata;if(t){var a=t.currentTime,r=n.getRelevantBufferedTime(e,a),o=s({},t,{bufferedTime:r});n.setState({videoMetadata:o})}},n.handleEnterFullscreen=function(e){e.stopPropagation(),R.default.requestFullscreen(n.refContainer)},n.handleExitFullscreen=function(e){e.stopPropagation(),R.default.exitFullscreen()},n.handleFullscreenToggleButtonClick=function(e){n.state.isFullscreenMode?n.handleExitFullscreen(e):n.handleEnterFullscreen(e)},n.state={videoMetadata:null,isVideoPlaying:!1,isVideoError:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:R.default.isFullscreenMode},n}return l(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.props.listeners.add(R.default,"fullscreen_change",function(){R.default.isFullscreenMode&&R.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):R.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"componentWillUnmount",value:function(){this.resetMouseMoveRecently.cancel()}},{key:"getCurrentTimeFromVideo",value:function(){return this.refVideo?this.refVideo.getCurrentTime():0}},{key:"getVolumeFromVideo",value:function(){return this.refVideo?this.refVideo.getVolume():0}},{key:"getMutedFromVideo",value:function(){return!!this.refVideo&&this.refVideo.getMuted()}},{key:"getRelevantBufferedTime",value:function(e,t){for(var n=0,a=0;a<e.length;a++)if(t>=e[a][0]&&t<e[a][1]){n=e[a][1];break}return n}},{key:"renderMedia",value:function(){switch(this.props.type){case x.PLAYER_TYPE.FLOATER:case x.PLAYER_TYPE.MEDIA_VIEWER:return this.renderMsgMedia();case x.PLAYER_TYPE.OG_FLOATER:return this.renderOgMedia()}return null}},{key:"renderOgMedia",value:function(){var e=this.props.ogVideoInfo;if(!e)return null;var t={backgroundImage:"url("+e.previewUrl+")"};return f.default.createElement(c.Fragment,null,this.state.isFullscreenMode?null:f.default.createElement("div",{className:S.default.preview,style:t}),""!==e.videoUrl?f.default.createElement(j.default,{ref:this.setRefVideo,key:"floating-media",url:e.videoUrl,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},g.default.t("video_playback_not_supported")):null)}},{key:"renderMsgMedia",value:function(){var e=this.props.msgVideoInfo;if(!e)return null;var t=e.mediaData.preview;if(this.isMediaRenderable()){var n=t?{backgroundImage:"url("+t.url()+")"}:void 0;return f.default.createElement(c.Fragment,null,this.state.isFullscreenMode||this.props.type!==x.PLAYER_TYPE.FLOATER?null:f.default.createElement("div",{className:S.default.preview,style:n}),f.default.createElement(O.default,{ref:this.setRefVideo,key:"floating-media",msg:e.msg,mediaData:e.mediaData,className:S.default.videoTag,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},g.default.t("video_playback_not_supported")))}return t?f.default.createElement("img",{key:"floating-media",src:t.url(),draggable:"false"}):null}},{key:"isMediaRenderable",value:function(){switch(this.props.type){case x.PLAYER_TYPE.FLOATER:case x.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;if(!e)return!1;var t=e.mediaData;return t.mediaStage===D.default.STAGE.RESOLVED||t.streamable&&t.isStreamable();case x.PLAYER_TYPE.OG_FLOATER:return!0}return!0}},{key:"renderMediaStage",value:function(){switch(this.props.type){case x.PLAYER_TYPE.FLOATER:case x.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;return e?f.default.createElement("div",{className:S.default.mediaStageWrapper},f.default.createElement(P.MediaStage,{msg:e.msg,mediaData:e.mediaData})):null;case x.PLAYER_TYPE.OG_FLOATER:var t=this.props.ogVideoInfo;return t&&""===t.videoUrl?f.default.createElement("div",{className:S.default.mediaStageWrapper},f.default.createElement(q.Pending,null)):null}return null}},{key:"renderVideoControls",value:function(){if(!this.isMediaRenderable())return null;var e=this.state.videoMetadata;return e?f.default.createElement(T.default,{refVideo:this.refVideo,videoMetadata:e,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying}):null}},{key:"renderErrorMessage",value:function(){return f.default.createElement(ee.default,null,g.default.t("picture_in_picture_cannot_play"),this.renderErrorMessageLink())}},{key:"renderErrorMessageLink",value:function(){if(this.props.type!==x.PLAYER_TYPE.OG_FLOATER)return null;if(!this.props.ogVideoInfo)return null;var e=this.props.ogVideoInfo.videoMsg.matchedText;return f.default.createElement(ne.default,{className:S.default.errorLink,href:e},f.default.createElement("span",null,g.default.t("picture_in_picture_open_link")),f.default.createElement(re.default,{directional:!0,display:"inline",name:"chevron-right-text",className:S.default.errorLinkChevron}))}},{key:"render",value:function(){var e=this,t=void 0,n=void 0,a=void 0,o=this.isMediaRenderable();o&&(n=f.default.createElement(F.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick}));var i=f.default.createElement(B.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}});switch(this.props.type){case x.PLAYER_TYPE.OG_FLOATER:case x.PLAYER_TYPE.FLOATER:t=f.default.createElement(c.Fragment,null,z.default.isSafari?null:n,i);break;case x.PLAYER_TYPE.MEDIA_VIEWER:var l=void 0;l=this.state.isFullscreenMode?i:o?f.default.createElement(V.default,{onClick:function(t){t.stopPropagation(),e.props.onClose&&e.props.onClose(),e.props.onOpenVideoFloater&&e.props.onOpenVideoFloater()},theme:G.PIP_BUTTON_THEME.PLAYER}):null,t=f.default.createElement(c.Fragment,null,n,l),a=function(t){t.stopPropagation(),e.refVideo&&(e.state.isVideoPlaying?e.refVideo.pause():e.refVideo.play())}}var s=void 0;s=this.state.isFullscreenMode?f.default.createElement(c.Fragment,null,f.default.createElement(H.default,{theme:"upper"}),f.default.createElement(H.default,{theme:"lower"})):this.props.type===x.PLAYER_TYPE.MEDIA_VIEWER?f.default.createElement(H.default,{theme:"full-sharp"}):f.default.createElement(H.default,{theme:"full-rounded"});var u=this.state.isVideoError?this.renderErrorMessage():null;return f.default.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,m.default)(S.default.container,r({},S.default.fullscreen,this.state.isFullscreenMode)),onMouseEnter:function(t){e.setState({isMouseOver:!0})},onMouseLeave:function(t){e.setState({isMouseOver:!1})},onMouseDown:function(t){e.state.isFullscreenMode&&t.stopPropagation()},onMouseMove:function(t){e.state.isMouseOver||e.setState({isMouseOver:!0}),e.state.mouseMoveRecently||e.setState({mouseMoveRecently:!0}),e.resetMouseMoveRecently()},onClick:a},f.default.createElement("div",{className:S.default.videoFloaterMedia},this.renderMedia()),this.renderMediaStage(),u,f.default.createElement(N.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently?f.default.createElement(c.Fragment,null,s,this.renderVideoControls(),t):null))}}]),t}(c.Component);ie.displayName="SharedVideoPlayer";var le=(0,y.default)((0,_.hoc)(ie)),se=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.getCurrentTimeFromVideo=function(){return a.getComponent().getCurrentTimeFromVideo()},r=n,i(a,r)}return l(t,e),t}(le);t.default=se},beebhcdhhh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhfbfehaef"),f=a(c),d=n("djhbegbdaf"),p=a(d),h=n("bhheahajjg"),m=a(h),b=n("chcadgfgad"),g=a(b),v=n("cfaiaibca"),y=a(v),_=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.blockContact=function(e){e.stopPropagation(),e.preventDefault(),a.props.onBlock()},a.onCancel=function(e){e.stopPropagation(),e.preventDefault(),a.props.onCancel()},a.reportSpamBlock=function(e){e.stopPropagation(),e.preventDefault(),a.props.onReportSpamBlock()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=u.createElement(y.default,{a8nText:"popup-controls-block",type:"primary",onClick:this.blockContact,key:0},l10n.t("block")),t=u.createElement(y.default,{a8nText:"popup-controls-report-spam",type:"plain",onClick:this.reportSpamBlock,key:1},l10n.t("report_and_block")),n=u.createElement(y.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.onCancel,key:2},l10n.t("web_cancel")),a={enter:this.blockContact,escape:this.onCancel},r=[t,e,n],o=u.createElement(m.default,{contact:this.props.contact}),i=u.createElement(p.default,{id:"block_confirmation",params:{contact:o}});return u.createElement(f.default,{handlers:a},u.createElement(g.default,{children:i,actions:r}))}}]),t}(u.Component);_.displayName="BlockContactPopup",t.default=_},beejfjjdjf:function(e,t){e.exports={muted:"_3q-81",bubble:"-N6Gq",meta:"_1RNhZ",isPSA:"_35jKp",isPsa:"_35jKp"}},befacdeach:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CombinedFingerprint=t.FingerprintData=void 0;var i=n("hehdadejj"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n("bfbigbhhbg"),u=t.FingerprintData=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(l.default),c=t.CombinedFingerprint=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(l.default);u._spec={publicKey:[1,s.TYPES.BYTES],identifier:[2,s.TYPES.BYTES]},c._spec={version:[1,s.TYPES.UINT32],localFingerprint:[2,s.TYPES.MESSAGE,u],remoteFingerprint:[3,s.TYPES.MESSAGE,u]}},begdabbfeh:function(e,t){e.exports={muted:"_314B5",panel:"_1ebw2",body:"FkdAD",cancelButton:"OWYLS"}},begehhgeec:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.visible,n=null;return t&&(n=_.createElement("div",{className:ie.default.circle},_.createElement("div",{className:ie.default.spinner},_.createElement(ne.default,{size:40,stroke:4})))),n}function u(e){var t=e.binary,n=e.contact,a=e.visible,r=null;return a&&(r=_.createElement("div",{className:(0,A.default)(ie.default.container,ie.default.circleContainer)},_.createElement(Oe,{visible:!!t,binary:t,contact:n}),_.createElement(s,{visible:!t}))),r}function c(e){var t=e.visible,n=null;return t&&(n=_.createElement("div",{className:(0,A.default)(ie.default.container,ie.default.checkmarkContainer)},_.createElement("div",{className:ie.default.checkmark},"✓ "))),n}function f(e){var t=e.visible,n=null;return t&&(n=_.createElement("div",{className:(0,A.default)(ie.default.container,ie.default.errorContainer)},_.createElement("div",{className:ie.default.error},"!"))),n}function d(e){var t=e.children;return _.createElement("div",{className:ie.default.errorBanner},t)}function p(e,t){if(!e||!t)return!1;var n=new Uint8Array(e),a=new Uint8Array(t),r=n.length;if(r!==a.length)return!1;for(var o=0;o<r;o++)if(n[o]!==a[o])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=n("cajijabhgb"),b=r(m),g=n("dcecgegjfc"),v=r(g),y=n("ddhijeejag"),_=r(y),E=n("ecciceaiej"),j=a(E),w=n("cfaiaibca"),O=a(w),C=n("gbfffciea"),S=a(C),P=n("bjigbaghc"),M=a(P),T=n("eadfaddcj"),k=a(T),N=n("dhigahgdjb"),I=a(N),R=n("ceffhbhahb"),A=a(R),D=n("djcchigfih"),x=a(D),L=n("djbhiedbef"),F=a(L),U=n("dajffajabh"),B=a(U),G=n("ffchhcfdj"),V=a(G),W=n("eceadcicaf"),H=a(W),Y=n("bdiiahhjbe"),q=a(Y),K=n("bjbedjfe"),z=a(K),Q=n("bfejacaeaj"),X=a(Q),J=n("ibbabijgf"),Z=a(J),$=n("bfdghhdgea"),ee=a($),te=n("becfabjeeg"),ne=a(te),ae=n("ihfccfgdf"),re=a(ae),oe=n("dgbgffeagd"),ie=a(oe),le=n("bfdcadbbif"),se=a(le),ue=n("eedjbihej"),ce=a(ue),fe=n("fbjjefaic"),de=a(fe),pe=n("dcjdgceiej"),he=a(pe),me=n("ccfdaijebj"),be=a(me),ge=n("befacdeach"),ve=n("bgddggdhc"),ye=n("ejbdjaifi"),_e=n("dfhgeaeig"),Ee=n("eagfdbhhhh"),je=n("facgccaif"),we=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.stopPropagation=function(e){e.stopPropagation()},r=n,i(a,r)}return l(t,e),h(t,[{key:"render",value:function(){return _.createElement("input",{accept:this.props.mime,type:"file",style:{display:"none"},onChange:this.props.onPick,onClick:this.stopPropagation})}}]),t}(_.Component);we.displayName="VerificationFilePicker";var Oe=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hover:!1,currentQRBinary:null,currentQRDataURL:null},a.onMouseOver=function(e){a.state.hover||a.setState({hover:!0})},a.onMouseEnter=function(e){a.state.hover||a.setState({hover:!0})},a.onMouseLeave=function(e){a.state.hover&&a.setState({hover:!1})},a.setRefQRCodeContainer=function(e){a.refQRCodeContainer=e},r=n,i(a,r)}return l(t,e),h(t,[{key:"componentDidMount",value:function(){this.props.binary&&this.generateQRCode()}},{key:"componentDidUpdate",value:function(e,t){this.generateQRCode()}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.compareBinary(e.binary,this.props.binary)&&this.compareBinary(t.currentQRBinary,this.state.currentQRBinary)&&e.visible===this.props.visible&&t.hover===this.state.hover&&t.currentQRDataURL===this.state.currentQRDataURL)}},{key:"fingerprintsMatched",value:function(e,t){return!!e&&!!t&&p(e.publicKey,t.publicKey)&&p(e.identifier,t.identifier)}},{key:"compareBinary",value:function(e,t){if(!e&&!t)return!0;var n=ge.CombinedFingerprint.parse(e),a=ge.CombinedFingerprint.parse(t);if(!n&&!a)return!0;if(!(n.version||a.version||n.localFingerprint||a.localFingerprint||n.remoteFingerprint||a.remoteFingerprint))return!0;if(n.version!==a.version)return!1;var r=this.fingerprintsMatched(n.localFingerprint,a.localFingerprint),o=this.fingerprintsMatched(n.remoteFingerprint,a.remoteFingerprint);return r&&o}},{key:"generateQRCode",value:function(){var e=(0,ve.forbiddenFindDOMNode)(this.refQRCodeContainer),t=this.props.binary;if(!e||!t)return void this.setState({currentQRBinary:null,currentQRDataURL:null});if(!this.compareBinary(this.state.currentQRBinary,t)){this.qr&&delete this.qr,this.qr=new ee.default(e,{text:t,width:k.default.QR_EDGE/2,height:k.default.QR_EDGE/2,correctLevel:ee.default.CorrectLevel.L}),this.setState({currentQRBinary:t});var n=e.getElementsByTagName("canvas")[0];if(!n)return void this.setState({currentQRDataURL:null});var a=n.toDataURL("image/png");this.setState({currentQRDataURL:a})}}},{key:"render",value:function(){var e=null;if(this.props.visible){var t=null;if(this.state.hover&&this.state.currentQRDataURL){var n=this.props.contact.formattedUser||"",a=I.default.assertGet(M.default.me).formattedUser,r="Verification Code between "+a+" and "+n+".png";t=_.createElement("a",{href:this.state.currentQRDataURL,download:r},_.createElement(j.default,{text:l10n.t("web_verify_download_code")}))}e=_.createElement("div",{onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},t,_.createElement("div",{className:ie.default.circle,ref:this.setRefQRCodeContainer}))}return e}}]),t}(_.Component);Oe.defaultProps={binary:null},Oe.displayName="VerificationQRCode";var Ce=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),h(t,[{key:"shouldComponentUpdate",value:function(e){return e.string!==this.props.string}},{key:"numDigitsInVerificationString",value:function(){return 60}},{key:"render",value:function(){if(!this.props.string)return _.createElement("div",null,l10n.t("loading"));var e=this.props.string;if(e.length!==this.numDigitsInVerificationString())return q.default.error("verificationString:render this.props.stringshould be "+this.numDigitsInVerificationString()+" characters long instead of "+e.length+".")(),_.createElement("div",null,l10n.t("web_verify_string_error"));for(var t=[],n=0;n<3;n++){for(var a=[],r=0;r<4;r++){for(var o=[],i=0;i<5;i++){var l=e.charAt(5*n*4+5*r+i);o.push(_.createElement("span",{className:ie.default.digit,key:i},l))}a.push(_.createElement("span",{className:ie.default.block,key:r},o))}t.push(_.createElement(Ee.SelectableDiv,{className:ie.default.row,key:n,selectable:!0},a))}return _.createElement(Ee.SelectableDiv,{selectable:!0},t)}}]),t}(_.Component);Ce.defaultProps={string:null},Ce.displayName="VerificationString",d.displayName="VerificationBanner";var Se=200,Pe=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onVideoLoaded=function(){a.captureInterval||(a.adjustOverlayPosition(),a.captureInterval=a.props.setInterval(a.capture,Se))},a.capture=function(){if(a.verificationVideo){var e=a.verificationVideo.underlyingVideo();if(e){var t=document.createElement("canvas");t.width=e.videoWidth/2,t.height=e.videoHeight/2;t.getContext("2d").drawImage(e,t.width/2,t.height/2,t.width,t.height,0,0,t.width,t.height),t.toBlob(function(e){var t=window.URL.createObjectURL(e);q.default.log(t)(),a.props.onCapture(t)},"image/jpeg",1)}}},a.adjustOverlayPosition=function(){var e=a.verificationVideo.underlyingVideo(),t=(0,ve.forbiddenAssertDOMNode)(a.refVerificationOverlay);if(e&&t){var n=e.offsetHeight,r=e.offsetWidth,o=r/3,i=o,l=(r-o)/2,s=(n-i)/2;t.style.width=o+"px",t.style.height=i+"px",t.style.margin=s+"px "+l+"px"}},a.setVerificationOverlay=function(e){a.refVerificationOverlay=e},r=n,i(a,r)}return l(t,e),h(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(window,"resize",this.adjustOverlayPosition),(0,g.isSrcObjectInVideoElement)()||(this.videoURL=window.URL.createObjectURL(this.props.stream))}},{key:"componentWillUnmount",value:function(){this.captureInterval&&this.props.clearInterval(this.captureInterval),this.props.stream&&(v.stop(this.props.stream),this.videoURL&&window.URL.revokeObjectURL(this.videoURL))}},{key:"render",value:function(){var e=null;return this.props.stream&&(e=_.createElement("div",{className:ie.default.webcam},_.createElement("div",{className:ie.default.webcamVideo},_.createElement(be.default,{autoPlay:!0,ref:(0,ye.GetRef)("verificationVideo",this),onPlay:this.onVideoLoaded,src:this.videoURL?this.videoURL:void 0,srcObject:this.videoURL?void 0:this.props.stream,width:"100%"})),_.createElement("div",{className:ie.default.overlay,ref:this.setVerificationOverlay}),_.createElement("button",{onClick:this.props.onClose,className:ie.default.btnClose},_.createElement(se.default,{name:"x-alt"})))),e}}]),t}(_.Component);Pe.displayName="VerificationWebcamComponent";var Me=(0,H.default)((0,de.default)((0,ye.hoc)(Pe))),Te={CORRECT:0,PUBLIC_KEY_MISMATCHED:1,REMOTE_MISMATCHED:2,LOCAL_MISMATCHED:3,BOTH_MISMATCHED:4,INVALID_QR_CODE:5},ke=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={circleVisible:!0,checkmarkVisible:!1,errorIconVisible:!1,webcamVisible:!1,bannerVisible:!1,bannerText:null,stream:null,isDragging:!1},a.onDragChange=function(e){a.setState({isDragging:e})},a.onDrop=function(e){a.props.contact.verificationBinary&&a.props.contact.verificationString&&a.onUploadSelect(e)},a.showWebcamHint=function(){a.state.webcamVisible&&!a.state.bannerVisible&&a.showBanner(l10n.t("web_verify_webcam_hint"))},a.onWebcamOpen=function(e){var t=v.start("camera");Promise.race([t,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then(function(e){return a.showWebcamStream(e)}).catch(b.Unmount,function(){t.then(function(e){return v.stop(e)}).catch(function(){})}).catch(b.GUM.NotAllowedError,function(){S.default.openModal(_.createElement(V.default,{title:"guide_desktop_camera_title",desc:"guide_desktop_camera_fail_description",type:V.default.TYPE.GUIDE_UNBLOCK}))}).catch(b.GUM.GUMError,function(){S.default.openModal(_.createElement(V.default,{title:"guide_desktop_camera_missing_title",desc:"guide_desktop_camera_missing_description",type:V.default.TYPE.GUIDE_NONE}))})},a.onWebcamClose=function(){a.setState({webcamVisible:!1,bannerVisible:!1,stream:null})},a.onWebcamCapture=function(e){a.verifyImage(e,!0)},a.onUploadClick=function(){(0,ve.forbiddenAssertDOMNode)(a.refVerificationFilePicker).click()},a.onUploadSelect=function(e){e.stopPropagation();var t=e.target.files||e.dataTransfer.files;if(t&&t[0]){var n=t[0],r=URL.createObjectURL(n);a.verifyImage(r,!1);var o=(0,ve.forbiddenFindDOMNode)(a.refVerificationFilePickerForm);o&&o.reset()}},a.onClose=function(e){a.props.onClose?a.props.onClose():a.context.uim.uie.requestDismiss()},a.hideCheckmark=function(){a.state.errorIconVisible||a.setState({circleVisible:!0}),a.setState({checkmarkVisible:!1})},a.hideError=function(){a.state.checkmarkVisible||a.setState({circleVisible:!0}),a.setState({errorIconVisible:!1})},a.hideBanner=function(){a.setState({bannerVisible:!1})},a.setVerificationFilePickerForm=function(e){a.refVerificationFilePickerForm=e},a.setVerificationFilePicker=function(e){a.refVerificationFilePicker=e},r=n,i(a,r)}return l(t,e),h(t,[{key:"componentDidUpdate",value:function(e,t){e.contact!==this.props.contact&&(0,_e.queryIdentity)(this.props.contact)}},{key:"componentWillMount",value:function(){(0,_e.queryIdentity)(this.props.contact)}},{key:"componentWillUnmount",value:function(){this.iconTimer&&this.props.clearTimeout(this.iconTimer),this.bannerTimer&&this.props.clearTimeout(this.bannerTimer),this.hintTimer&&this.props.clearTimeout(this.hintTimer)}},{key:"showWebcamStream",value:function(e){this.setState({webcamVisible:!0,circleVisible:!0,checkmarkVisible:!1,errorIconVisible:!1,stream:e}),this.hintTimer&&(this.props.clearTimeout(this.hintTimer),delete this.hintTimer),this.hintTimer=this.props.setTimeout(this.showWebcamHint,7e3)}},{key:"getErrorBannerText",value:function(e){var t=void 0,n=this.props.contact.formattedShortName;switch(e){case Te.REMOTE_MISMATCHED:t=l10n.t("web_verify_error_remote_mismatched",{contact:n});break;case Te.LOCAL_MISMATCHED:case Te.BOTH_MISMATCHED:t=l10n.t("web_verify_error_local_mismatched",{contact:n});break;case Te.INVALID_QR_CODE:default:t=l10n.t("web_verify_error_invalid_upload")}return t}},{key:"showCheckmark",value:function(){this.onWebcamClose(),this.setState({circleVisible:!1,checkmarkVisible:!0,errorIconVisible:!1,bannerVisible:!1}),this.iconTimer&&(this.props.clearTimeout(this.iconTimer),delete this.iconTimer),this.iconTimer=this.props.setTimeout(this.hideCheckmark,3e3)}},{key:"showErrorIcon",value:function(){this.onWebcamClose(),this.setState({circleVisible:!1,checkmarkVisible:!1,errorIconVisible:!0,bannerVisible:!1}),this.iconTimer&&(this.props.clearTimeout(this.iconTimer),delete this.iconTimer),this.iconTimer=this.props.setTimeout(this.hideError,3e3)}},{key:"showErrorBanner",value:function(e){var t=this.getErrorBannerText(e);this.showBanner(t)}},{key:"showBanner",value:function(e){this.setState({circleVisible:!0,checkmarkVisible:!1,errorIconVisible:!1,bannerVisible:!0,bannerText:e}),this.bannerTimer&&(this.props.clearTimeout(this.bannerTimer),delete this.bannerTimer),this.bannerTimer=this.props.setTimeout(this.hideBanner,5e3)}},{key:"validateFingerprint",value:function(e){if(!e||0===!e.version||!e.localFingerprint||!e.remoteFingerprint)return Te.INVALID_QR_CODE;var t=ge.CombinedFingerprint.parse(this.props.contact.verificationBinary),n=p(e.remoteFingerprint&&e.remoteFingerprint.identifier,t.localFingerprint&&t.localFingerprint.identifier),a=p(e.localFingerprint&&e.localFingerprint.identifier,t.remoteFingerprint&&t.remoteFingerprint.identifier);if(!n&&!a)return Te.BOTH_MISMATCHED;if(!n)return Te.REMOTE_MISMATCHED;if(!a)return Te.LOCAL_MISMATCHED;var r=p(e.remoteFingerprint&&e.remoteFingerprint.publicKey,t.localFingerprint&&t.localFingerprint.publicKey),o=p(e.localFingerprint&&e.localFingerprint.publicKey,t.remoteFingerprint&&t.remoteFingerprint.publicKey);return r&&o?Te.CORRECT:Te.PUBLIC_KEY_MISMATCHED}},{key:"decodeQRCode",value:function(e){return new Promise(function(t,n){Z.default.callback=function(e,a){if(a)n(a);else if(e.length<1)n("QR decoder did not return decoded binary");else{var r=new Uint8Array(e[0]);t(r)}},Z.default.decode(e)})}},{key:"verifyImage",value:function(e,t){var n=this;this.decodeQRCode(e).then(function(e){return ge.CombinedFingerprint.parse(e)}).then(function(e){var a=n.validateFingerprint(e);a?t&&a===Te.INVALID_QR_CODE||(n.setState({errorType:a}),a===Te.PUBLIC_KEY_MISMATCHED?n.showErrorIcon():n.showErrorBanner(a)):n.showCheckmark()}).catch(function(e){t||(n.setState({errorType:Te.INVALID_QR_CODE}),n.showErrorBanner(Te.INVALID_QR_CODE))}).finally(function(){window.URL.revokeObjectURL(e)})}},{key:"render",value:function(){var e=null,t=null,n=null;this.props.contact.verificationBinary&&(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(e=_.createElement("div",{className:ie.default.section},_.createElement(O.default,{type:"primary",onClick:this.state.webcamVisible?this.onWebcamClose:this.onWebcamOpen},this.state.webcamVisible?l10n.t("web_verify_webcam_close_button"):l10n.t("web_verify_webcam_open_button")))),t=_.createElement("div",{className:ie.default.section},_.createElement(O.default,{type:"primary",onClick:this.onUploadClick},l10n.t("web_verify_upload_button")),_.createElement("p",{className:ie.default.dragAndDropExplanation},this.state.isDragging?l10n.t("web_verify_drag_and_drop_dragging"):null)),n=_.createElement("form",{ref:this.setVerificationFilePickerForm},_.createElement(we,{mime:"image/*",onPick:this.onUploadSelect,ref:this.setVerificationFilePicker})));var a=null;this.state.webcamVisible&&this.state.stream&&(a=_.createElement(Me,{stream:this.state.stream,onCapture:this.onWebcamCapture,onClose:this.onWebcamClose}));var r=null;return this.state.bannerVisible&&(r=_.createElement(d,null,this.state.bannerText)),_.createElement(x.default,{theme:"verification",onDrop:this.onDrop,onDragChange:this.onDragChange},_.createElement(B.default,{type:U.DRAWER_HEADER_TYPE.SMALL,onBack:this.onClose},_.createElement(ce.default,{theme:"title",block:!0},l10n.t("web_verify_title")),_.createElement(ce.default,{theme:"small",block:!0},l10n.t("web_you"),", ",this.props.contact.formattedUser)),a,r,_.createElement(F.default,null,_.createElement("div",{className:ie.default.form},_.createElement("div",{className:ie.default.photo},_.createElement(u,{binary:this.props.contact.verificationBinary,contact:this.props.contact,visible:this.state.circleVisible}),_.createElement(c,{visible:this.state.checkmarkVisible}),_.createElement(f,{visible:this.state.errorIconVisible})),_.createElement("div",{className:ie.default.section},_.createElement("div",{className:ie.default.code},_.createElement(Ce,{string:this.props.contact.verificationString}))),_.createElement("div",{className:ie.default.section},_.createElement("p",{className:ie.default.explanation},_.createElement("span",null,l10n.t("web_verify_explanation")," "),_.createElement("a",{target:"_blank",href:(0,je.getE2EFaqUrl)()},l10n.t("learn_more")))),e,t,n)))}}]),t}(_.Component);ke.contextTypes={uim:X.default.instanceOf(he.default)},ke.CONCERNS={contact:["verificationBinary","verificationString","formattedUser","formattedShortName"]},ke.displayName="VerificationDrawer",t.default=(0,z.default)((0,de.default)((0,re.default)((0,ye.hoc)(ke),ke.CONCERNS)))},begicajfb:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){new te.default.ChatFilterEvent({actionType:te.default.CHAT_FILTER_ACTION_TYPES.SEARCH_WITH_FILTER,filterType:te.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:e}).commit()}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("hbhijdici"),f=r(c),d=n("cajijabhgb"),p=a(d),h=n("ddhijeejag"),m=a(h),b=n("cgfjiaegih"),g=r(b),v=n("dbdfbgehgj"),y=r(v),_=n("cgbdjhghfb"),E=r(_),j=n("cefeghcbch"),w=r(j),O=n("gbfffciea"),C=r(O),S=n("eadfaddcj"),P=r(S),M=n("dhigahgdjb"),T=r(M),k=n("ceffhbhahb"),N=r(k),I=n("cicjcfabii"),R=r(I),A=n("bggeiidigb"),D=r(A),x=n("ddajbaceej"),L=r(x),F=n("dgjddffcfg"),U=r(F),B=n("dacfecidja"),G=r(B),V=n("ccaaiecfib"),W=r(V),H=n("dhfbfehaef"),Y=r(H),q=n("fffdgbfji"),K=r(q),z=n("bijffg"),Q=r(z),X=n("eceadcicaf"),J=r(X),Z=n("dbciicjiad"),$=r(Z),ee=n("bfbggcdbfb"),te=r(ee),ne=n("biecbbiiee"),ae=r(ne),re=n("baiheeddah"),oe=r(re),ie=n("dceicchccd"),le=r(ie),se=n("dagdiahdfi"),ue=r(se),ce=n("bjbedjfe"),fe=r(ce),de=n("caijdggfg"),pe=r(de),he=n("gfgihaeab"),me=r(he),be=n("ceddibdhdb"),ge=r(be),ve=n("dcaibchbg"),ye=r(ve),_e=n("bjaehhfffd"),Ee=r(_e),je=n("becfabjeeg"),we=r(je),Oe=n("bjedheiidd"),Ce=r(Oe),Se=n("fbjjefaic"),Pe=r(Se),Me=n("caffijjhc"),Te=r(Me),ke=n("bcifhbgija"),Ne=r(ke),Ie=n("cicgeajfge"),Re=n("hbhjdibhf"),Ae=n("ejbdjaifi"),De=n("chhhffajfi"),xe=n("cbedjffdai"),Le=r(xe),Fe=P.default.MIN_CHARS_FOR_FTS,Ue={THROTTLE:450},Be=50,Ge=75,Ve=5,We=10,He=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.refPanel=null,n.flatListController=new D.default,n._batchState={},n.setRefSearch=function(e){return n.refSearch=e},n.setRefInputHotkey=function(e){return n.refInputHotkey=e},n.SmbFilterSesssion=new Ee.default,n.hasLabelEditGK=!1,n._debounceSetState=new ge.default(function(){n.setState(n._batchState),n._batchState={}}),n.debounceSetState=function(e,t,a){Object.assign(n._batchState,e),void 0===t?n._debounceSetState.onOrBeforeRepaint():void 0===a?n._debounceSetState.debounce(t):n._debounceSetState.debounceAndCap(t,a)},n.updateLabelFeatureFlagChange=function(){!n.hasLabelEditGK&&W.default.supportsFeature(W.default.F.LABELS_EDIT)&&(n.hasLabelEditGK=!0,n.props.listeners.add(Q.default,"bulk_msg_chat_label_change",function(){n.searchQuery&&!n.searchQuery.isEmptyQuery&&(n.ftsMsgs.updateFtsAfterMsgLabelUpdate(),n.onSearch(n.searchQuery.trimmed,{label:n.searchQuery.filter.label,kind:n.searchQuery.filter.kind}))}),n.multiSelection=n.props.multiSelection||new le.default([],function(e){return e.id.toString()}),n.selectableState=new me.default(n.props.selectable||!1),n.props.listeners.add(n.multiSelection,"all",n.updateShowMultiselectBar),n.setState({chatlistKeyId:1}))},n.updateShowMultiselectBar=function(){var e=n.state.showMultiSelectBar,t=n.multiSelection&&n.multiSelection.getSelected().length>0&&!n.props.hideMultiSelectBar;!1===e&&t&&n.setState({showMultiSelectBar:!0})},n.scrollChatListToTop=function(){var e=n.refPanel;if(e){var t=e.scrollTop;0!==e.scrollTop&&(t<e.clientHeight?(0,Ne.default)(e,"scroll",{duration:300,container:e,offset:-(e.scrollTop+e.getBoundingClientRect().top)}):e.scrollTop=0)}},n.getFilteredContacts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f.default.trim(e);if(!r&&n.isEmptyFilterQuery(t))return[];r=K.default.accentFold(r);var o=U.default.numberSearch(r);return T.default.getFilteredContacts().filter(function(e){if(!e.searchMatch(r,o,t.label))return!1;if(!a){var n=y.default.get(e.id);if(n&&n.isVisible)return!1}return!0})},n.getFilteredChats=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=f.default.trim(e);if(a||!n.isEmptyFilterQuery(t)){a=K.default.accentFold(a);var r=U.default.numberSearch(a);return W.default.supportsFeature(W.default.F.LABELS_DISPLAY)?y.default.filter(function(e){var n=t.label&&e.contact.searchMatch(a,r,t.label),o=!a||e.contact.searchMatch(a,r),i=!t.kind&&!t.label||e.matchFilter(t);return n||o&&i}):y.default.filter(function(e){return e.contact.searchMatch(a,r)&&e.isVisible})}return y.default.filter(function(e){return!e.archive&&e.isVisible})},n.fullTextSearch=function(e,t){var a=f.default.trim(e||n.searchQuery.query);(0,De.numCodepoints)(a)>=Fe||t&&t.label?n._fts():n.isFTSSearching()?n.cancelSearch():n.ftsMsgs.reset()},n.shouldFTSSearch=function(e){return!(!n.ftsMsgs.hasMoreMsgs||n.isFTSSearching()||(0,De.numCodepoints)(n.searchQuery.query||"")<Fe)&&e.scrollTop+P.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight},n.mapGroupToContacts=function(e,t){for(var n=new Map,a=0;a<e.length;a++)!function(a){var r=e[a];r&&r.forEach(function(e){e&&(n.has(e)||n.set(e,[]),n.get(e).push(t[a]))})}(a);var r=[];return n.forEach(function(e,t,n){r.push([t,e])}),r.sort(function(e,t){return e[1].length===t[1].length?e[0].t&&t[0].t?t[0].t-e[0].t:e[0].t?-1:1:t[1].length-e[1].length}),f.default.take(r,We)},n.onSearch=function(e,t){var a=W.default.supportsFeature(W.default.F.LABELS_DISPLAY),r=a?t:{};if(!e&&n.isEmptyFilterQuery(r))return n.searchQuery.updateQuery(e),n.searchQuery.updateLabelQuery({}),void n.onStopSearch();e===n.searchQuery.query&&n.isEmptyFilterQuery(r)||(n.fullTextSearch(e,r),n.commonGroupSearch(),n.throttledFilteredChats(e,r),n.throttledFilteredContacts(e,r),n.searchQuery.updateQuery(e),n.searchQuery.updateLabelQuery(r))},n.hasSearchText=function(){return W.default.supportsFeature(W.default.F.LABELS_DISPLAY)?!!n.searchQuery.query||!n.isEmptyFilterQuery(n.searchQuery.filter):!!n.searchQuery.query},n.isFTSSearching=function(){var e=n._batchState;return"searching"in e?e.searching:n.state.searching},n.cancelSearch=function(){n._fts.cancel(),n.commonGroupSearch.cancel(),n.ftsMsgs.resetSearch(),n.ftsMsgs.reset(),n._ftsPromise&&n._ftsPromise.cancel(),n._findCommonGroupsPromise&&n._findCommonGroupsPromise.cancel(),n.setState({groupChats:[]}),n.isFTSSearching()&&n.debounceSetState({searching:!1},Ge)},n.cancelThrottled=function(){n.throttledFilteredChats.cancel(),n.throttledFilteredContacts.cancel(),n.throttledOnScroll.cancel()},n.onStopSearch=function(){return new Promise(function(e){n.isEmptyFilterQuery(n.searchQuery.filter)||s(n.SmbFilterSesssion.sessionId),n.cancelSearch(),n.searchQuery.clear(),n.cancelThrottled(),n.refSearch&&n.refSearch.setSearchText(n.searchQuery.query),n.setState({chats:n.getFilteredChats(),contacts:n.getFilteredContacts(),searching:!1},function(){return e()})})},n.onFocusList=function(e){e.repeat||n.chatlist&&(n.refSearch&&!n.refSearch.isAtEnd()||(e.preventDefault(),e.stopPropagation(),(0,H.shouldIndicateFocus)(),n.chatlist.focusFirst()))},n.onOpenFirst=function(e){e.preventDefault();var t=n.searchQuery.query,a=n.searchQuery.filter,r=f.default.head(n.getFilteredChats(t,a))||f.default.head(n.getFilteredContacts(t,a));r&&y.default.find(r.id).then(function(e){n.onStopSearch(),(0,H.shouldIndicateFocus)(),C.default.openChatFromUnread(e).then(function(t){t&&C.default.focusChatTextInput(e)})})},n.onFocusSearch=function(e){C.default.existsDrawerLeft(function(e){e||((0,H.shouldIndicateFocus)(),L.default.focus(n.refSearch))})},n.indicateFocus=function(){(0,H.indicateFocus)(n.refInputHotkey,["#FBFBFB","#D9F3FF"])},n.onScroll=function(e){n.throttledOnScroll(e.target)},n.getEmptyChatlistState=function(e,t,a){return e&&e.length||t&&t.length||a&&a.length?null:n.props.labelFilter?n.state.searching?m.createElement("span",null):m.createElement(Ie.NoResultForLabel,{labelId:n.props.labelFilter}):n.searchQuery.query?n.state.searching?m.createElement(Ie.Searching,null):m.createElement(Ie.Search,null):y.default.some(function(e){return e.isVisible})?m.createElement(Ie.AllArchived,null):m.createElement(Ie.ListChats,null)},n.setRefPanel=function(e){n.refPanel=e},n.onCancelLabelSelection=function(){n.setState({showMultiSelectBar:!1}),n.multiSelection&&n.multiSelection.unsetAll(),n.selectableState&&n.selectableState.setSelectable(!!n.props.selectable)},n.ftsMsgs=new G.default,n.selection=new ye.default([],function(e){return e.id.toString()}),n.searchQuery=new pe.default,n.updateLabelFeatureFlagChange(),n._fts=n.props.debounce(function(){var e=n.searchQuery.trimmed;n._ftsPromise&&n._ftsPromise.cancel(),n._ftsPromise=Promise.resolve().then(function(){n.isFTSSearching()||n.debounceSetState({searching:!0},Ge)}).then(function(){return n.ftsMsgs.search(e,void 0,n.searchQuery.filter)}).checkpoint(n.props.rejectOnUnmount()).then(function(e){n.debounceSetState({searching:!1},Ge)}).catch(p.Unmount,function(){}).catch(Promise.CancellationError,function(){}).finally(function(){n._ftsPromise=void 0}).catch(function(){n.isFTSSearching()&&n.debounceSetState({searching:!1},Ge)})},750),n.throttledFilteredChats=n.props.throttle(function(e,t){var a=n.getFilteredChats(e,t);n.debounceSetState({chats:a},Ge,Be)},Ue.THROTTLE,{leading:!1,trailing:!0}),n.throttledFilteredContacts=n.props.throttle(function(e,t){var a=n.getFilteredContacts(e,t);n.debounceSetState({contacts:a},Ge,Be)},Ue.THROTTLE,{leading:!1,trailing:!0}),n.throttledOnScroll=n.props.throttle(function(e){n.shouldFTSSearch(e)&&n.fullTextSearch()},100),n.commonGroupSearch=f.default.debounce(function(){var e=n.searchQuery.trimmed;if(!e)return void n.setState({groupChats:[]});var t=n.getFilteredContacts(e,{},!0);if(0===t.length||t.length>Ve)return void n.setState({groupChats:[]});var a=f.default.map(t,function(e){return(0,Re.findCommonGroups)(e).then(function(){return e.commonGroups})});n._findCommonGroupsPromise&&n._findCommonGroupsPromise.cancel(),n._findCommonGroupsPromise=Promise.all(a).then(function(a){if(e===n.searchQuery.trimmed){var r=n.mapGroupToContacts(a,t);n.setState({groupChats:r})}}).catch(function(){}).finally(function(){n._findCommonGroupsPromise=null})},750);var a=n.props.labelFilter,r=n.props.labelFilter?{label:a}:void 0;return n.state={searching:!!r,chats:n.getFilteredChats("",r),contacts:n.getFilteredContacts("",r),groupChats:[],showMultiSelectBar:!1,chatlistKeyId:0,textsize:Le.default.get().textsize},n.searchQuery.updateLabelQuery(r),n}return l(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.labelFilter,a=t.listeners;n&&this.onSearch("",{label:n}),a.add(W.default,W.default.FEATURE_CHANGE_EVENT,this.updateLabelFeatureFlagChange),this.props.listeners.add(y.default,"remove",function(t){if(e.searchQuery.query){var n=f.default.without(e.state.chats,t);e.state.chats&&n.length!==e.state.chats.length&&e.debounceSetState({chats:n})}else e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()})}),this.props.listeners.add(T.default,"remove",function(t){if(e.searchQuery.query||!e.isEmptyFilterQuery(e.searchQuery.filter)){var n=f.default.without(e.state.contacts,t);e.state.contacts&&n.length!==e.state.contacts.length&&e.debounceSetState({contacts:n})}else e.throttledFilteredContacts.cancel(),e.debounceSetState({contacts:e.getFilteredContacts()})}),this.props.listeners.add(y.default,"sort change:archive",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()}))}),this.props.listeners.add(T.default,"sort",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredContacts.cancel(),e.debounceSetState({contacts:e.getFilteredContacts()}))}),this.props.listeners.add(this.ftsMsgs,"bulk_remove reset",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()}))}),this.props.listeners.add(C.default,"focus_chat_search",this.onFocusSearch),this.props.listeners.add(C.default,"textsize_change",function(t){e.debounceSetState({textsize:t})}),this.props.listeners.add(ae.default,"new_msg_sent",function(){e.hasSearchText()||!e.isEmptyFilterQuery(e.searchQuery.filter)?e.onStopSearch().then(function(){return e.scrollChatListToTop()}):e.scrollChatListToTop()})}},{key:"componentWillUnmount",value:function(){this.cancelSearch(),this.cancelThrottled(),this._debounceSetState.cancel()}},{key:"isEmptyFilterQuery",value:function(e){return!e||!(e.label||e.kind)}},{key:"_showUnread",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.chats,a=t.contacts,r=t.groupChats,o=this.ftsMsgs.toArray(),i=this.getEmptyChatlistState(n,a,o);i||(i=m.createElement(w.default,{key:this.state.chatlistKeyId,ref:(0,Ae.GetRef)("chatlist",this),flatListController:this.flatListController,chats:n,contacts:a||[],groupChats:r,isSearching:!!this.hasSearchText(),searchQuery:this.searchQuery,ftsResult:o,selection:this.selection,onFocusSearch:this.onFocusSearch,multiSelection:this.multiSelection,selectableState:this.selectableState}));var l={down:this.onFocusList,enter:this.onOpenFirst},s=this.state.searching&&this.props.labelFilter||this.state.searching&&this.ftsMsgs.length?m.createElement("div",{key:"spinner",className:Ce.default.spinner},m.createElement(we.default,{stroke:6,size:24})):null,u=void 0,c=f.default.find(P.default.TEXTSIZE_CLASS_MAP,function(t){return t.scale===e.state.textsize});c&&(u=c.classname);var d=(0,N.default)(Ce.default.chatListPanel,u),p=this.ftsMsgs.hasMoreMsgs&&o.length||this._showUnread()?this.onScroll:void 0,h=void 0,b=void 0,v=void 0;return this.state.showMultiSelectBar&&this.multiSelection?h=m.createElement(Te.default,{key:"multiSelectBar",displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelLabelSelection},m.createElement(oe.default,{theme:"chatlist-panel",selectedModels:this.multiSelection,labelEditEnabled:!0,iconColor:"#8d9194",onCancel:this.onCancelLabelSelection})):v=m.createElement(Y.default,{key:"ListSearchHotKey",handlers:l,onFocus:this.indicateFocus,ref:this.setRefInputHotkey,className:Ce.default.panelSearch},m.createElement($.default,{ref:this.setRefSearch,onSearch:this.onSearch,loading:this.state.searching,SmbFilterSession:this.SmbFilterSesssion,listFilterEnabled:!0})),this.props.labelFilter||(b=m.createElement(m.Fragment,null,m.createElement(E.default,{mute:ue.default.globalMute()}),m.createElement(g.default,null),v,h)),m.createElement("div",{id:"side",className:d},b,m.createElement(R.default,{flatListControllers:[this.flatListController],onRef:this.setRefPanel,className:Ce.default.panelBody,onScroll:p,id:"pane-side"},i,s))}}]),t}(m.Component);He.displayName="ChatlistPanel",t.default=(0,fe.default)((0,Pe.default)((0,J.default)((0,Ae.hoc)(He))))},begjfegacj:function(e,t){e.exports={muted:"_339PA",commentInput:"k7wLF",search:"cIdsW",groupInfo:"_2MxY2",onSendInvite:"aSzLC"}},behbcejhad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=a(c),d=n("ceffhbhahb"),p=a(d),h=n("igiffibee"),m=n("cajbifjffe"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("bjbedjfe"),_=a(y),E=n("dgjacfgggf"),j=a(E),w=n("jjhbchhce"),O=a(w),C=n("cajijabhgb"),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),P=n("cjedbjfabb"),M=n("cgjijjgidi"),T=a(M),k=n("bfdcadbbif"),N=a(k),I=n("edbaidcaf"),R=a(I),A=n("ejbdjaifi"),D=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return x.call(n),n.state={imgSrcUrl:null,hiResAvail:!1},n.updateImgSrcUrl(e),n}return l(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.props.listeners.add(window,"dpichange",function(){return e.updateImgSrcUrl(e.props)})}},{key:"componentWillReceiveProps",value:function(e){this.updateImgSrcUrl(e)}},{key:"render",value:function(){var e=this.props,t=e.lat,n=e.lng,a=e.name,o=e.width,i=e.height,l=e.className,s=e.linkify,u={pointerEvents:"none",width:o,height:this.state.hiResAvail?void 0:i},c=(0,p.default)(l,r({},T.default.hidden,!this.state.hiResAvail)),d=this.state.hiResAvail?null:f.default.createElement(N.default,{name:"map-placeholder",display:"inline"}),m=f.default.createElement(b.default,{src:this.state.imgSrcUrl||"",className:c,style:u,hasPrivacyChecks:!1,onLoad:this.onImgLoaded,noXHR:!0});return s?f.default.createElement("a",{href:(0,h.getMapUrl)(t,n,a),target:"_blank",className:T.default.container},d,m):f.default.createElement("span",{className:T.default.container},d,m)}}]),t}(f.default.PureComponent);D.defaultProps={linkify:!0,showMarker:!0};var x=function(){var e=this;this.updateImgSrcUrl=function(t){var n=t.height+50,a="color:red|"+t.lat+", "+t.lng,r=t.lat+", "+t.lng,o=t.width+"x"+n,i=O.default.currentRes===O.default.RES.HIGH?2:1,l=l10n.getLocale(),u=R.default.GSM_NAME,c=R.default.build(P.G_MAPS_IMG_URL,s({zoom:15,size:o,scale:i,language:l,client:u},t.showMarker?{markers:a}:null,t.showMarker?null:{center:r}));e.lastURL!==c&&(e.lastURL=c,R.default.gsmURL(c,R.default.GSM_NUMS).checkpoint(t.rejectOnUnmount()).then(function(t){e.setState({imgSrcUrl:t,hiResAvail:j.default.isCached(t)})}).catch(S.Unmount,function(){}))},this.onImgLoaded=function(t){e.state.hiResAvail||e.setState({hiResAvail:!0}),e.props.onLoad&&e.props.onLoad()}};D.displayName="Map",t.default=(0,v.default)((0,_.default)((0,A.hocWithDefaults)(D)))},beiggaad:function(e,t,n){"use strict";var a=n("hbhijdici"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n("cccfbheica"),i={version:"17",supportsFeatureFlags:!0,implementedFeatures:{}};e.exports=r.default.defaults(i,o)},beijddaacj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("eceadcicaf"),f=a(c),d=n("ejbdjaifi"),p=n("ebjaejiaba"),h=a(p),m=n("iaibjaeb"),b=a(m),g=n("dacdidjdfi"),v=a(g),y=n("ccjbgacbad"),_=a(y),E=n("deabjbejhf"),j=a(E),w=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={selected:a.props.selections.isSelected(a.props.chat)||!!a.props.checked},a.onSelectChange=function(e){a.state.selected!==e&&a.setState({selected:e})},a.onSelect=function(){if(!a.props.disabled){var e=a.props.onSelect;e&&e(a.props.chat,!a.state.selected,!1)}},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(this.props.selections,this.props.chat.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.active,a=e.customSecondaryText,r=e.disabled,o=void 0;if(t instanceof h.default)o=u.default.createElement(b.default,{theme:r?"chat-checkbox-no-delete":"chat-checkbox",active:n,chat:t,mode:m.Mode.INFO,noContext:!0,onClick:this.props.disabled?null:this.onSelect,secondary:a});else{var i=this.props.chat;o=u.default.createElement(j.default,{contact:i,disabled:r,onSelect:this.onSelect,customSecondaryText:a,active:n,allowBlockedContacts:this.props.allowBlockedContacts})}return u.default.createElement("div",{className:_.default.checkboxChatWrapper},u.default.createElement("div",{className:_.default.checkboxChatControl},u.default.createElement(v.default,{onChange:this.onSelect,checked:this.state.selected?g.CHECKBOX_STATE.CHECKED:g.CHECKBOX_STATE.UNCHECKED,disabled:r})),o)}}]),t}(s.Component);w.displayName="CheckboxChatWrapper",t.default=(0,f.default)((0,d.hoc)(w))},bejbgaghc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return l((0,b.unproxy)(e))}function o(e){return s((0,b.unproxy)(e))}function i(e){return(0,m.sendJoinGroupViaInvite)(e).then(function(e){return c.default.supportsFeature(c.default.F.MD_BACKEND)?d.default.gadd(e):d.default.find(e)})}function l(e){return e.groupInviteCodePromise?e.groupInviteCodePromise:e.groupInviteCodePromise=(0,m.sendQueryGroupInviteCode)(e.id).then(function(t){e.inviteCode=t}).finally(function(){e.groupInviteCodePromise=null})}function s(e){return e.revokeGroupInvitePromise?e.revokeGroupInvitePromise:e.revokeGroupInvitePromise=(0,m.sendRevokeGroupInviteCode)(e.id).then(function(t){e.inviteCode=t}).catch(g.ServerStatusCodeError,function(e){throw e}).catch(function(e){h.default.error("models:groupMetadata:participantCollection:revokeGroupInvite dropped")(e)}).finally(function(){e.revokeGroupInvitePromise=null})}Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupInviteCode=r,t.revokeGroupInvite=o,t.joinGroupViaInvite=i;var u=n("ccaaiecfib"),c=a(u),f=n("dbdfbgehgj"),d=a(f),p=n("bdiiahhjbe"),h=a(p),m=n("bcbfebgcic"),b=n("bheafeifce"),g=n("cajijabhgb")},bejccccege:function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function r(){if(e.mas||e.windowsStore)return f.default.manualDownload();h.default.openToast(l.createElement(P.default,{msg:g.default.t("updating_webclient"),id:(0,S.genId)()})),f.default.update().then(function(e){e===d.DownloadState.UPDATE_NOT_AVAILABLE?(y.default.error("Got unsupported message but no newer release found")(),h.default.openToast(l.createElement(P.default,{msg:g.default.t("no_update_available_electron"),id:(0,S.genId)()}))):e===d.DownloadState.UPDATE_DOWNLOADED?f.default.restart():y.default.error("Got unsupported message but updater errored")()})}function o(e){var t=e.msg,n=e.displayAuthor,a=(e.displayType,t.isSentByMe||!t.subtype?l.createElement("span",{className:w.default.action,role:"button",onClick:r},g.default.t("unsupported_msg_web_click_to_update")):null);return l.createElement(C.default,{msg:t,displayAuthor:n},l.createElement(E.default,{iconName:"unknown",msg:t},u.default.msgText(t)," ",a))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("dgjddffcfg"),u=a(s),c=n("cbbhbjebii"),f=a(c),d=n("dbhfachiij"),p=n("gbfffciea"),h=a(p),m=n("eadfaddcj"),b=(a(m),n("fffdgbfji")),g=a(b),v=n("bdiiahhjbe"),y=a(v),_=n("cfiighfhhg"),E=a(_),j=n("egibbfjcd"),w=a(j),O=n("dbabefhajh"),C=a(O),S=n("bfjajhbdf"),P=a(S);window.updater=f.default,o.displayName="UnsupportedMsg"}).call(t,n("ddghcccjbh"))},bfajcggcdf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(e&&t){var n=[];return n.push(w.default.t("links_count",{count:t,_plural:t})),n.push(w.default.t("docs_count",{count:e,_plural:e})),n.join(w.default.t("enumeration_comma"))}return t?w.default.t("links_count",{count:t,_plural:t}):e?w.default.t("docs_count",{count:e,_plural:e}):w.default.t("no_media_links_docs")}Object.defineProperty(t,"__esModule",{value:!0}),t.Gallery=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("hbhijdici"),d=a(f),p=n("effbcehec"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("eadfaddcj"),v=a(g),y=n("ceffhbhahb"),_=a(y),E=n("cicgeajfge"),j=n("fffdgbfji"),w=a(j),O=n("eceadcicaf"),C=a(O),S=n("bffjfbgbg"),P=a(S),M=n("eiiicijcj"),T=a(M),k=n("cifjfjfegc"),N=a(k),I=n("becfabjeeg"),R=a(I),A=n("ihfccfgdf"),D=a(A),x=n("ejbdjaifi"),L=n("bheafeifce"),F=n("bicjggdg"),U=a(F),B=n("ddhijeejag"),G=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onScroll=function(e){a.handleScroll(e.currentTarget)},a.handleScroll=d.default.throttle(function(e){var t=a.props.mediaMsgs;t.hasMediaBefore&&e.scrollTop+v.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a.queryMedia(t.head())},100),r=n,l(a,r)}return s(t,e),c(t,[{key:"componentWillMount",value:function(){this.props.mediaMsgs.hasMediaBefore&&this.queryMedia()}},{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.mediaMsgs,"add remove reset"),this.props.listeners.add(this.props.mediaMsgs,"query_media_before")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryMedia",value:function(e){var t=this,n=this.props.mediaMsgs;n.hasMediaBefore&&this.props.listeners.uiIdle(function(){n.queryMedia((0,L.unproxy)(t.props.chat),e)})}},{key:"render",value:function(){var e=this,t=this.props.mediaMsgs,n=this.props,a=n.fullCollection,r=n.selectedMessages,o=n.chat,i=t.map(function(n,o){var i=void 0;return!e.props.fullCollection&&o>=t.length-6&&o<=t.length-4&&(i="hideableSecondRow"),B.createElement(H,{msg:n,hoverEvent:a,selectable:e.props.selectable,selectedMessages:r,onMessageSelect:e.props.onMessageSelect,theme:i,key:n.id.toString()})});return i.reverse(),a||(i=d.default.slice(i,0,6)),B.createElement(Y,{medias:i,mediaCollection:t,fullCollection:a,chat:(0,L.unproxy)(o),onScroll:this.onScroll})}}]),t}(B.Component);G.CONCERNS={chat:["linkCount","docCount"]},G.displayName="MediaGallery";var V=function(e){function t(){i(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));W.call(e);var n=e.props,a=n.msg,r=n.selectedMessages;return e.state={selected:!(!r||!r.isSelected(a))},e}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.selectedMessages&&this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props.msg,t=e.mediaData,n=t.type===P.default.TYPE.IMAGE&&t.renderableUrl?this.onDragStart:null,a=(0,_.default)(this.props.className);return B.createElement(N.default,{classes:a,onClick:this.onClick,hoverEvent:this.props.hoverEvent,selectable:this.props.selectable,selected:this.state.selected,onMessageSelect:this.props.onMessageSelect,onDragStart:n,msg:e,theme:this.props.theme,imgRef:(0,x.GetRef)("img",this)})}}]),t}(B.Component),W=function(){var e=this;this.onSelectChange=function(t){e.state.selected!==t&&e.setState({selected:t})},this.onClick=function(t){var n=e.props,a=n.msg,r=n.selectable,o=n.onMessageSelect,i=a.mediaData;if(r&&o)return void o(a,!e.state.selected);if(i.mediaStage===P.default.STAGE.ERROR_MISSING)return void b.default.openModal(B.createElement(T.default,{msg:a}));t&&t.stopPropagation();var l=void 0,s=a.id;if(i.isGif||i.type===P.default.TYPE.IMAGE){var u=e.img;l=function(e){return s.equals(e)&&u?u:null}}b.default.mediaViewerModal(a,l)},this.onDragStart=function(t){t.nativeEvent.dataTransfer.setData(v.default.DRAG_TYPE_LOCAL_IMAGE,!0),t.nativeEvent.dataTransfer.setData("text/uri-list",e.props.msg.mediaData.renderableUrl)}};V.displayName="MediaCanvas";var H=(0,C.default)((0,x.hoc)(V)),Y=t.Gallery=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){var e,t=this.props,n=t.mediaCollection,a=t.fullCollection,i=t.chat,l=t.onScroll,s=this.props.medias||this.props.productMedias;if(!s)return null;var c=(0,_.default)(U.default.container,(e={},o(e,U.default.drawer,a),o(e,U.default.galleryEmpty,0===n.length),e)),f=[].concat(r(s));if(n.queryMediaBefore&&(a||f.length<6)){var d,p=(0,_.default)(U.default.more,U.default.canvasComponent,(d={},o(d,U.default.canvasSecondRow,!a&&f.length>=3),o(d,U.default.canvasFirst,0===n.length),d));f.push(B.createElement("div",{className:p,key:"spinner"},B.createElement(R.default,{stroke:6,size:24})))}if(0===n.length){if(a)return n.queryMediaBefore?B.createElement("div",{className:(0,_.default)(U.default.drawer,U.default.drawerBody)},B.createElement(E.Loading,null)):B.createElement(E.MediaMsgs,null);n.queryMediaBefore||n.hasMediaBefore||(c=(0,_.default)(c,U.default.galleryEmpty),f=[u(Math.max(i?i.docCount:0,0),Math.max(i?i.linkCount:0,0))])}else for(var m=0;m<6;m++)f.push(B.createElement("div",{className:U.default.canvasEmpty,key:"empty"+m}));return B.createElement("div",{onScroll:l,"data-a8n":h.default.key("media-gallery"),className:c},f)}}]),t}(B.Component);Y.displayName="Gallery",t.default=(0,C.default)((0,D.default)((0,x.hoc)(G),G.CONCERNS))},bfajhabbdf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return s.createElement(d.default,{name:p[e.sectionId]})}Object.defineProperty(t,"__esModule",{value:!0}),t.sectionIdToIcon=void 0;var i;t.default=o;var l=n("ddhijeejag"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),u=n("bheebijggd"),c=a(u),f=n("bfdcadbbif"),d=a(f),p=t.sectionIdToIcon=(i={},r(i,c.default.RECENT,"panel-recent"),r(i,c.default.SMILEYS_PEOPLE,"panel-emoji-people"),r(i,c.default.ANIMALS_NATURE,"panel-emoji-nature"),r(i,c.default.FOOD_DRINK,"panel-emoji-food"),r(i,c.default.ACTIVITY,"panel-emoji-activity"),r(i,c.default.TRAVEL_PLACES,"panel-emoji-travel"),r(i,c.default.OBJECTS,"panel-emoji-objects"),r(i,c.default.SYMBOLS,"panel-emoji-symbols"),r(i,c.default.FLAGS,"panel-emoji-flags"),i);o.displayName="EmojiSectionIcon"},bfccafhbbb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return function(n,a){return!(!t.state.active||!t.state.results.length)&&((!n||!(0,_.default)(n))&&(e.call(t,n,a),!0))}}Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOptions=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("hbhijdici"),p=a(d),h=n("bgddggdhc"),m=n("ejbdjaifi"),b=n("cdgeeegaih"),g=n("ceffhbhahb"),v=a(g),y=n("ccajjgdjf"),_=a(y),E=n("chgaccicf"),j=a(E),w=n("hfccidehd"),O=a(w),C=n("djeajhjhb"),S=a(C),P=n("dhbghcbcbi"),M=a(P),T=n("ihfccfgdf"),k=a(T),N=n("djhhbaegjb"),I=a(N),R=n("caffijjhc"),A=a(R),D=n("didfdhbecg"),x=a(D),L=t.ThemeOptions=(0,j.default)({MEDIA_CAPTION:null}),F={active:!1,offset:0,omitted:"",query:"",results:[],scrollTop:0},U=52,B=function(e){function t(){var e,n,a,l;o(this,t);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state=F,a.onEnter=s(function(){return a.handleSelect(a.state.offset)},a),a.onInactive=s(function(){return a.setState(F)},a),a.onSearch=function(e){var t=a,n=t.state.omitted;if((!n||!p.default.startsWith(e,n))&&a.props.chat&&a.props.chat.isGroup){var r=a.props.chat.groupMetadata.participants;a.setState({active:!0,offset:0,omitted:null,query:e,results:(0,b.getResults)(e,r)})}},a.onEscape=function(){a.setState({active:!1,offset:0,omitted:a.state.query,query:"",results:[]})},a.onUp=s(function(){var e=Math.max(a.state.offset-1,0);a.setOffset(e)},a),a.onDown=s(function(){var e=a.state.results.length-1,t=Math.min(a.state.offset+1,e);a.setOffset(t)},a),a.setRefOverflow=function(e){return a.refOverflow=e},a.renderList=function(e,t,n){if(!e||!t.length)return null;var o=t.map(function(e,t){return f.createElement(M.default,{key:e.id,contact:e,term:n,selected:t===a.state.offset,theme:a.props.theme===L.MEDIA_CAPTION?"mediaCaption":null,onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(){return a.handleSelect(t)},onMouseOver:function(){return a.setOffset(t,!0)}})});return f.createElement(A.default,{displayName:"MentionSuggestions",escapable:!0,requestDismiss:a.onEscape,requestRecentFocusOnUnmount:!1},f.createElement("div",{className:(0,v.default)(I.default.overlayContainer,r({},I.default.mediaCaption,a.props.theme===L.MEDIA_CAPTION))},f.createElement("div",{className:I.default.resultsContainer,"data-list-scroll-container":"true",ref:a.setRefOverflow},f.createElement(O.default,{data:o,height:U,scrollTop:a.state.scrollTop,animate:!1}))))},l=n,i(a,l)}return l(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.props.plugin;e.registerHandler(this,S.default.ENTER,this.onEnter),e.registerHandler(this,S.default.TAB,this.onEnter),e.registerHandler(this,S.default.SEARCH,this.onSearch),e.registerHandler(this,S.default.INACTIVE,this.onInactive),e.registerHandler(this,S.default.UP,this.onUp),e.registerHandler(this,S.default.DOWN,this.onDown)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,S.default.ENTER),e.unregisterHandler(this,S.default.TAB),e.unregisterHandler(this,S.default.SEARCH),e.unregisterHandler(this,S.default.INACTIVE),e.unregisterHandler(this,S.default.UP),e.unregisterHandler(this,S.default.DOWN)}},{key:"handleSelect",value:function(e){var t=this.state.results[e];if(t&&t.id){var n=this.props.chat.assignedColor(t.id);this.props.plugin.handleSelect(t,n)}}},{key:"setOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e*U,a=n+U,r=(0,h.forbiddenAssertDOMNode)(this.refOverflow),o=r.scrollTop,i=o+r.clientHeight,l={offset:e,scrollTop:o};t||(o>n?l.scrollTop=n:i<a&&(l.scrollTop+=a-i)),this.setState(l)}},{key:"render",value:function(){var e=this.state,t=e.query,n=e.results,a=e.active;return f.createElement(x.default,{component:"div",className:I.default.positioningContainer,transitionName:"slide-up"},this.renderList(a,n,t))}}]),t}(f.Component);B.CONCERNS={chat:["groupMetadata","isGroup"]},B.displayName="Suggestions",t.default=(0,k.default)((0,m.hoc)(B),B.CONCERNS)},bfcjfjfjjj:function(e,t){e.exports={muted:"hcznv",spinner:"_38l_q"}},bfdhjgffdh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("dfabffebdg"),d=a(f),p=n("deibcghej"),h=n("cehjjfagii"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("biddiiafgd"),y=a(v),_=n("eadfaddcj"),E=a(_),j=n("ceffhbhahb"),w=a(j),O=n("bjjjdidhhi"),C=a(O),S=n("bhhdeihhhf"),P=a(S),M=n("ghbbeafj"),T=a(M),k=n("bfhbfhhceg"),N=a(k),I=n("ddbddjjgia"),R=n("deifjeacc"),A=a(R),D=n("didfdhbecg"),x=a(D),L=n("cighigadh"),F=a(L),U=n("bfdcadbbif"),B=a(U),G=n("caffijjhc"),V=a(G),W=n("dbjbhajgfd"),H=a(W),Y=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={contextMenu:null,hover:!1},a.refAlbumComponents={},a.setRefContext=function(e){return a.refContext=e},a.mouseOver=function(e){e.buttons||a.state.hover||a.setState({hover:!0})},a.mouseDown=function(){a.state.hover&&a.setState({hover:!1})},a.contextMenu=function(e){e.stopPropagation()},a.openForwardFlow=function(){for(var e=a.props.msgs,t=void 0,n=0;n<e.length;n++)if(e[n].isUnsentMedia){t=l10n.t("err_unsent_forward_text",{_plural:1});break}t?g.default.openModal(c.createElement(y.default,{title:l10n.t("err_unsent_forward_title"),onOK:function(){return g.default.closeModal()},okText:l10n.t("web_ok")},t)):g.default.openModal(c.createElement(T.default,{msgs:e}),{transition:"modal-flow"})},a.onStarMessage=function(e){g.default.sendStarMsgs(a.props.msgs[0].chat,e)},a.onUnstarMessage=function(){g.default.sendUnstarMsgs(a.props.msgs[0].chat,a.props.msgs)},a.onDeleteMessage=function(){var e=a.props.msgs;g.default.openModal(c.createElement(C.default,{chat:e[0].chat,msgList:e,deletePrompt:!0,revokePrompt:e[0].canRevoke(),isMsgVisible:a.props.isMsgVisible}))},a.onMenu=function(e,t){var n=a.props.msgs;if(t&&a.state.contextMenu)return void a.setState({contextMenu:null});var r=t?a.refContext&&a.refContext.component&&a.refContext.component.refContext:e,o=[];if(n.every(function(e){return e.canForward()})&&o.push(c.createElement(P.default,{key:"forward",a8n:"mi-msg-forward",action:a.openForwardFlow},l10n.t("forward_all"))),n.every(function(e){return e.canStar()})){var i=n.filter(function(e){return!e.star});0===i.length?o.push(c.createElement(P.default,{key:"star",a8n:"mi-msg-unstar",action:a.onUnstarMessage},l10n.t("unstar_all"))):o.push(c.createElement(P.default,{key:"star",a8n:"mi-msg-star",action:function(){a.onStarMessage(i)}},l10n.t("star_all")))}o.push(c.createElement(P.default,{key:"delete",a8n:"mi-msg-delete",action:a.onDeleteMessage},l10n.t("delete_all"))),a.setState({contextMenu:{menu:o,anchor:r,theme:S.ThemeOptions.COMPACT}})},a.onAlbumGridRendered=function(e,t){e?a.refAlbumComponents[t.id.toString()]=e:delete a.refAlbumComponents[t.id.toString()]},r=n,i(a,r)}return l(t,e),s(t,[{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:null})}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.msgs,o=n.position,i=n.isMsgVisible,l=n.albumId,s=a[0],u=a[1],f=s.isSentByMe,h=s.isGroupMsg,b=s.type===E.default.MSG_TYPE.STICKER,g=a.length>E.default.ALBUM_MIN_SIZE?a.length-E.default.ALBUM_MIN_SIZE+1:null,v=o===I.MsgPosition.FRONT||o===I.MsgPosition.SINGLE||b,y=b&&v&&(f||!h),_=(0,w.default)(F.default.msg,r({},F.default.msgСontinuation,o===I.MsgPosition.FRONT||o===I.MsgPosition.MID)),j=(0,w.default)(F.default.message,(e={},r(e,F.default.messageTransparent,b),r(e,"message-out",f),r(e,"message-in",!f),r(e,"tail",v),r(e,F.default.tailOverrideHide,y),e)),O=void 0;v&&(O=c.createElement("span",{className:"tail-container"}));var C=!f&&h,S=(0,w.default)(F.default.author,r({},F.default.groupStickerAuthor,b)),P=C?c.createElement("div",{className:S},c.createElement(m.default,{msg:a[0],contact:a[0].senderObj,albumId:l})):null,M=void 0;s.canQuickForward()&&(M=c.createElement("div",{className:(0,w.default)(F.default.btnForward,r({},F.default.authorForward,C)),onClick:function(){return t.openForwardFlow()},role:"button"},c.createElement(B.default,{name:"forward-chat"})));var T=void 0;(this.state.hover||this.state.contextMenu)&&(T=c.createElement(A.default,{msg:s,position:o,key:"icon-context",ref:this.setRefContext,onToggle:function(e){t.onMenu(e)}}));var k=void 0;k=this.state.contextMenu?"none":s.isRTL?"pop-fast-reverse":"pop-fast";var R=void 0;this.state.contextMenu&&(R=c.createElement(V.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return t.contextClose()}},c.createElement(H.default,{contextMenu:this.state.contextMenu})));var D=a.length>E.default.ALBUM_MIN_SIZE?a[0]:null;return b?c.createElement("div",{className:_},c.createElement("div",{className:j},O,P,c.createElement("div",{className:F.default.groupStickerContainer},c.createElement(N.default,{msg:s,menuTransition:k,position:o,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:i}),c.createElement(N.default,{msg:u,menuTransition:k,position:o,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:i})))):c.createElement("div",{className:_},c.createElement("div",{className:j,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown},O,c.createElement("div",{className:F.default.albumBubbleContainer},P,c.createElement("div",{className:F.default.gridContainer},c.createElement(d.default,{msg:a[0],albumPosition:p.AlbumPosition.TOP_LEFT,isMsgVisible:i,ref:function(e){t.onAlbumGridRendered(e,a[0])}}),c.createElement(d.default,{msg:a[1],albumPosition:p.AlbumPosition.TOP_RIGHT,isMsgVisible:i,ref:function(e){t.onAlbumGridRendered(e,a[1])}}),c.createElement(d.default,{msg:a[2],albumPosition:p.AlbumPosition.BOTTOM_LEFT,isMsgVisible:i,ref:function(e){t.onAlbumGridRendered(e,a[2])}}),c.createElement(d.default,{msg:a[3],albumPosition:p.AlbumPosition.BOTTOM_RIGHT,isMsgVisible:i,zoomMsg:D,numAdditionalMedia:g,ref:function(e){t.onAlbumGridRendered(e,a[3])}}))),c.createElement(x.default,{transitionName:k},T),M),R)}}]),t}(c.Component);Y.displayName="AlbumWrapper",t.default=Y},bfdijdeegj:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n("ddhijeejag"),s=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){return null}}]),t}(l.Component);s.displayName="VoipModalManager",t.default=s},bfdjgcjbeh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("beebhcdhhh"),u=a(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("dcjaicbbhg"),m=a(h),b=n("dbgdaechch"),g=a(b),v=n("bhhdeihhhf"),y=a(v),_=n("djhbegbdaf"),E=a(_),j=n("fffdgbfji"),w=a(j),O=n("dhhcghbjeb"),C=a(O),S=n("bhheahajjg"),P=a(S),M=n("ddhijeejag"),T=a(M),k=n("dadhidfcfe"),N=a(k),I=n("ihfccfgdf"),R=a(I),A=n("dfdebdgdei"),D=n("ejbdjaifi"),x=n("dcbafbaejf"),L=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.reportSpam=function(){(0,x.sendSpamReport)(a.props.chat),f.default.closeModal()},a.reportSpamBlock=function(){var e=a.props,t=e.chat,n=e.contact;(0,x.sendSpamReport)(t),(0,A.blockContact)(n),f.default.closeModal()},a.reportSpamBlockClear=function(){(0,x.sendSpamBlockClear)(a.props.chat),f.default.closeModal()},a.onReportSpam=function(){f.default.openModal(T.default.createElement(N.default,{isBusiness:a.props.contact.isBusiness,isGroupChat:!1,onReport:a.reportSpam,onReportBlockClear:a.reportSpamBlockClear,onCancel:function(){return f.default.closeModal()}}))},a.blockContact=function(){(0,A.blockContact)(a.props.contact),f.default.closeModal()},a.unblockContact=function(){(0,A.unblockContact)(a.props.contact),f.default.closeModal()},a.onBlockContact=function(){f.default.openModal(T.default.createElement(u.default,{contact:a.props.contact,onCancel:function(){return f.default.closeModal()},onBlock:a.blockContact,onReportSpamBlock:a.reportSpamBlock}))},a.onUnblockContact=function(){var e=T.default.createElement(P.default,{contact:a.props.contact});f.default.openModal(T.default.createElement(p.default,{okText:w.default.t("unblock_button"),onOK:a.unblockContact,cancelText:w.default.t("web_cancel"),onCancel:function(){return f.default.closeModal()}},T.default.createElement(E.default,{id:"unblock_confirmation",params:{contact:e}})))},i=n,o(a,i)}return i(t,e),l(t,[{key:"menus",value:function(){var e=this.props,t=e.chat,n=e.contact,a=e.onSelectMessages,r=[];return t.isPSA||r.push(T.default.createElement(y.default,{key:"info",a8n:"mi-contact",action:function(){return f.default.chatInfoDrawer(t)}},w.default.t("web_contact_info"))),n.isBusiness&&r.push(T.default.createElement(y.default,{key:"report",a8n:"report",action:this.onReportSpam},w.default.t("report_business")),T.default.createElement(y.default,{key:"block",a8n:"block",action:n.isBlocked()?this.onUnblockContact:this.onBlockContact},n.isBlocked()?w.default.t("unblock_button"):w.default.t("block"))),r.push(T.default.createElement(y.default,{a8n:"mi-select-messages",key:"select",action:a},w.default.t("web_select_messages"))),t.mute.canMute()&&r.push(T.default.createElement(C.default,{key:"mute",onMute:function(e){return f.default.muteChat(t,e)},mute:t.mute})),r.push(T.default.createElement(y.default,{key:"clear",a8n:"mi-clear",action:function(){return f.default.clearChatMsgs(t)}},w.default.t("clear_chat"))),r.push(T.default.createElement(m.default,{key:"delete",onDeleteOrExit:function(){return f.default.deleteOrExitChat(t)},chat:t})),r}},{key:"render",value:function(){return this.props.toContextMenuManager?T.default.createElement("div",null,this.menus()):T.default.createElement(g.default,{type:"dropdown_menu",key:"ContactMenuDropdown",flipOnRTL:!0,dirX:"LEFT"},this.menus())}}]),t}(M.PureComponent);L.CONCERNS={chat:["isPSA","mute"],contact:["isBusiness"]},L.displayName="ContactMenuDropdown",t.default=(0,R.default)((0,D.hoc)(L),L.CONCERNS)},bfebbjhgbh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return j.default.isSMB?A.default.t("send_logs_web_biz_default_subject"):A.default.t("send_logs_web_default_subject")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=r(f),p=n("hbhijdici"),h=a(p),m=n("dfhjacfbjg"),b=r(m),g=n("biddiiafgd"),v=a(g),y=n("gbfffciea"),_=a(y),E=n("bjigbaghc"),j=a(E),w=n("dhfbfehaef"),O=a(w),C=n("dbcedfihd"),S=r(C),P=n("djaachhgag"),M=a(P),T=n("hfhhcchgj"),k=a(T),N=n("bfjajhbdf"),I=a(N),R=n("fffdgbfji"),A=a(R),D=n("cfffidafid"),x=n("bfdcadbbif"),L=a(x),F=n("ceghehfgdc"),U=a(F),B=n("ceffhbhahb"),G=a(B),V=n("eadfaddcj"),W=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={email:"",emailError:void 0,confirmEmail:"",confirmEmailError:void 0,subject:s(),subjectError:void 0,description:"",descriptionError:void 0,screenshots:[],isDragging:!1},a.setAttachButton=function(e){a.attachButton=e},a.setEmailAddr=function(e){a.emailAddrInput=e},a.onSend=function(){var e={},t=a.state,n=t.email,r=t.confirmEmail,o=t.subject,i=t.description,l=t.screenshots,s=n.trim(),u=r.trim();if(a.validateEmail(s)||(e.emailError=A.default.t("send_logs_email_invalid")),a.validateConfirmEmail(u)||(e.confirmEmailError=A.default.t("send_logs_email_nomatch")),a.validateDescription(i)||(e.descriptionError=A.default.t("send_logs_too_short")),a.validateSubject(o)||(e.subjectError=A.default.t("send_logs_subject_error")),h.default.isEmpty(e)){a.setState({email:s,confirmEmail:u,emailError:void 0,confirmEmailError:void 0,descriptionError:void 0,subjectError:void 0}),l.map(function(e){e.url&&(URL.revokeObjectURL(e.url),delete e.url)});var c=j.default.me?(0,M.default)(j.default.me.user):null,f=o.trim()||A.default.t("send_logs_default_subject");b.uploadUserReport(c,s,f,i,l),a.props.onSend&&a.props.onSend({subject:f,description:i,numScreenshots:l.length}),_.default.closeModal(),_.default.openToast(d.createElement(I.default,{msg:A.default.t("send_logs_sent"),id:(0,N.genId)()}))}else e.email=s,e.confirmEmail=u,a.setState(e)},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),_.default.closeModal()},a.onSubjectChange=function(e){var t={subject:e,subjectError:a.state.subjectError};a.state.subjectError&&a.validateSubject(t.subject)&&(t.subjectError=void 0),a.setState(t)},a.onSubjectBlur=function(){var e=void 0;a.validateSubject(a.state.subject)||(e=A.default.t("send_logs_subject_error")),a.state.subjectError!==e&&a.setState({subjectError:e})},a.onDescriptionChange=function(e){var t={description:e,descriptionError:a.state.descriptionError};a.state.descriptionError&&a.validateDescription(t.description)&&(t.descriptionError=void 0),a.setState(t)},a.onDescriptionBlur=function(){var e=void 0;!a.state.description&&!a.state.descriptionError||a.validateDescription(a.state.description)||(e=A.default.t("send_logs_too_short")),a.state.descriptionError!==e&&a.setState({descriptionError:e})},a.onEmailChange=function(e){var t={email:e,emailError:a.state.emailError};a.state.emailError&&a.validateEmail(t.email)&&(t.emailError=void 0),a.setState(t)},a.onEmailBlur=function(){var e=void 0,t=a.state.email.trim(),n={};!a.state.email&&!a.state.emailError||a.validateEmail(t)||(e=A.default.t("send_logs_email_invalid")),a.state.emailError!==e&&(n.emailError=e),a.state.email!==t&&(n.email=t),h.default.isEmpty(n)||a.setState(n)},a.onConfirmEmailChange=function(e){var t={confirmEmail:e,confirmEmailError:a.state.confirmEmailError};a.state.confirmEmailError&&a.validateConfirmEmail(t.confirmEmail)&&(t.confirmEmailError=void 0),a.setState(t)},a.onConfirmEmailBlur=function(){var e=void 0,t=a.state.confirmEmail.trim(),n={};!a.state.confirmEmail&&!a.state.confirmEmailError||a.validateConfirmEmail(t)||(e=A.default.t("send_logs_email_nomatch")),a.state.confirmEmailError!==e&&(n.confirmEmailError=e),a.state.confirmEmail!==t&&(n.confirmEmail=t),h.default.isEmpty(n)||a.setState(n)},a.validateEmail=function(e){return S.validateEmail(e)},a.validateConfirmEmail=function(e){return a.state.email===e},a.validateDescription=function(e){return e.length>V.SEND_LOGS_MIN_DESC_LENGTH},a.validateSubject=function(e){return!0},a.onFilePick=function(e){e.preventDefault(),e.stopPropagation(),a.reachMaxScreenshots()||(0,D.getFiles)(e,"image/*").then(function(e){a.attachButton&&(a.attachButton.value="");var t=e.filter(function(e){return e.size<=V.SEND_LOGS_MAX_SCREENSHOT_SIZE});t.length<e.length&&_.default.openToast(d.createElement(I.default,{msg:A.default.t("send_logs_image_too_big"),id:(0,N.genId)()}));var n=a.state.screenshots.concat(t).slice(0,V.SEND_LOGS_MAX_SCREENSHOTS);n.map(function(e){e.url||(e.url=URL.createObjectURL(e))}),a.setState({screenshots:n})})},a.onDragChange=function(e,t){a.setState({isDragging:e})},a.handleAttachClick=function(e){a.attachButton&&!a.reachMaxScreenshots()&&a.attachButton.click()},a.stopPropagation=function(e){e.stopPropagation()},r=n,i(a,r)}return l(t,e),c(t,[{key:"componentDidMount",value:function(){this.emailAddrInput&&this.emailAddrInput.restoreFocus()}},{key:"componentWillUnmount",value:function(){this.state.screenshots.map(function(e){var t=e.url;return t&&URL.revokeObjectURL(t)})}},{key:"reachMaxScreenshots",value:function(){return this.state.screenshots.length>=V.SEND_LOGS_MAX_SCREENSHOTS}},{key:"deleteScreenshot",value:function(e){var t=this.state.screenshots.slice(),n=t.splice(e,1),a=u(n,1),r=a[0];r.url&&URL.revokeObjectURL(r.url),this.setState({screenshots:t})}},{key:"getScreenshotsList",value:function(){var e=this,t=this.state.screenshots.map(function(t,n){if(!t.url)return null;var a="url("+t.url+")",r="screenshot-"+n;return d.createElement("div",{key:r,className:U.default.screenshotsImg,style:{backgroundImage:a}},d.createElement("button",{className:U.default.btnDelete,onClick:function(){e.deleteScreenshot(n)}},d.createElement(L.default,{name:"x-alt-light"})))});return t.length?d.createElement("div",{className:U.default.screenshotPreview},t):null}},{key:"getScreenshotAction",value:function(){if(this.reachMaxScreenshots()){var e=V.SEND_LOGS_MAX_SCREENSHOTS;return d.createElement("div",{className:(0,G.default)(U.default.action,U.default.disabled)},A.default.t("send_logs_too_many_screenshots",{count:e,_plural:e}))}return this.state.isDragging?d.createElement("div",{className:U.default.action},A.default.t("send_logs_release_screenshots")):d.createElement("div",{className:U.default.action,onClick:this.handleAttachClick},A.default.t("send_logs_screenshots"))}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=d.createElement("div",{className:U.default.screenshots},this.getScreenshotsList(),this.getScreenshotAction(),d.createElement("input",{accept:"image/*",type:"file",multiple:!0,onClick:this.stopPropagation,onChange:this.onFilePick,ref:this.setAttachButton,disabled:this.reachMaxScreenshots()}));return d.createElement(v.default,{title:A.default.t("send_logs_title"),okText:A.default.t("send_logs_confirm"),onOK:this.onSend,onCancel:this.onCancel,onDrop:this.onFilePick,onDragChange:this.onDragChange},d.createElement(O.default,{handlers:e},d.createElement(k.default,{ref:this.setEmailAddr,value:this.state.email,error:this.state.emailError,maxLength:V.SEND_LOGS_MAX_EMAIL_LENGTH,onChange:this.onEmailChange,onBlur:this.onEmailBlur,placeholder:A.default.t("send_logs_email_address")}),d.createElement(k.default,{editable:!0,value:this.state.confirmEmail,error:this.state.confirmEmailError,maxLength:V.SEND_LOGS_MAX_EMAIL_LENGTH,onChange:this.onConfirmEmailChange,onBlur:this.onConfirmEmailBlur,placeholder:A.default.t("send_logs_email_confirm")}),d.createElement(k.default,{value:this.state.subject,error:this.state.subjectError,maxLength:V.SEND_LOGS_MAX_SUBJECT_LENGTH,onChange:this.onSubjectChange,onBlur:this.onSubjectBlur,placeholder:A.default.t("send_logs_email_subject")}),d.createElement(k.default,{value:this.state.description,error:this.state.descriptionError,maxLength:V.SEND_LOGS_MAX_DESC_LENGTH,onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,placeholder:A.default.t("describe_logs"),multiline:!0}),t))}}]),t}(d.Component);W.displayName="SendLogsPopup",t.default=W},bffbahfgga:function(e,t){e.exports={muted:"_3JUot",inputContainer:"_12h2d",label:"_2rGJA",input:"_1EoYL"}},bffcbhabha:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){c.default.closeModal()}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("gbfffciea"),c=a(u),f=n("fifhbjiec"),d=a(f),p=n("fffdgbfji"),h=a(p),m=n("dgdjiicfdg"),b=a(m),g=n("ddhijeejag"),v=a(g),y=n("ihfccfgdf"),_=a(y),E=n("ejbdjaifi"),j=n("egjjcjcg"),w=a(j),O=n("biddiiafgd"),C=a(O),S=n("djhbfghcdb"),P=a(S),M=function(){return[{label:h.default.t("web_mute_8hours"),duration:8},{label:h.default.t("web_mute_1week"),duration:168},{label:h.default.t("web_mute_1year"),duration:8760}]},T=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={},a.onChange=function(e){var t=e.target;t instanceof HTMLInputElement&&a.setState({mute:parseInt(t.value,10)})},a.onMute=function(){c.default.closeModal();var e=a.getMuteDuration();w.default.setLastChatMuteDuration(e),a.props.onMute(3600*e+(0,b.default)().unix(),!0)},i=n,o(a,i)}return i(t,e),s(t,[{key:"getMuteDuration",value:function(){return this.state.mute||w.default.getLastChatMuteDuration()||8}},{key:"render",value:function(){var e=this,t=this.props.onCancel||l,n=this.getMuteDuration(),a=M().map(function(t){var a=t.duration;return v.default.createElement("li",{key:"mute-"+a},v.default.createElement("label",{className:P.default.label},v.default.createElement("input",{type:"radio",name:"duration",className:P.default.input,value:t.duration,checked:n===a,onChange:e.onChange}),t.label))}),r=v.default.createElement(d.default,{text:h.default.t("mute_time",{name:this.props.chat.title()})});return v.default.createElement(C.default,{title:r,okText:h.default.t("web_menuitem_mute"),onOK:this.onMute,onCancel:t},v.default.createElement("form",null,v.default.createElement("ol",null,a)))}}]),t}(g.PureComponent);T.CONCERNS={chat:["id","formattedTitle"]},T.displayName="MutePopup",t.default=(0,_.default)((0,E.hoc)(T),T.CONCERNS)},bfffgbbdch:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("effbcehec"),f=a(c),d=n("dacdidjdfi"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("biddiiafgd"),g=a(b),v=n("gejdcbjjd"),y=a(v),_=n("ihfccfgdf"),E=a(_),j=n("ejbdjaifi"),w=n("bheafeifce"),O=n("eedjbihej"),C=a(O),S=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onMute=function(e){m.default.muteChat((0,w.unproxy)(a.props.chat),e)},a.onUnmute=function(){var e=a.props.chat.isGroup?l10n.t("confirm_unmute_group"):l10n.t("confirm_unmute_chat");m.default.openModal(u.createElement(g.default,{onOK:a.unmute,okText:l10n.t("action_chat_unmute"),onCancel:function(){return m.default.closeModal()},cancelText:l10n.t("web_cancel")},e))},a.unmute=function(){a.onMute(!1),m.default.closeModal()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.mute.isMuted,n=t?this.onUnmute:function(){e.onMute(!0)},a=u.createElement(p.default,{checked:t?d.CHECKBOX_STATE.CHECKED:d.CHECKBOX_STATE.UNCHECKED,onChange:n}),r=t?l10n.t("web_chat_muted"):l10n.t("web_menuitem_mute");return u.createElement(y.default,{a8nText:f.default.key("block-mute"),side:a,onClick:n},u.createElement(C.default,{theme:"title"},r))}}]),t}(u.PureComponent);S.CONCERNS={chat:["isGroup"],mute:["isMuted"]},S.displayName="MuteRow",t.default=(0,E.default)((0,j.hoc)(S),S.CONCERNS)},bffhabgiib:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n("ddhijeejag"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o._onRefChange=function(e){e?(o._ctx=e.getContext("2d"),o._imageData=o._ctx.createImageData(o.props.width,o.props.height)):(o._ctx=null,o._imageData=null)},i=n,r(o,i)}return o(t,e),i(t,[{key:"_updateCanvas",value:function(){var e=this._ctx,t=this._imageData,n=this.props.rgbaBuffer;e&&t&&n&&(t.data.set(new Uint8Array(n)),e.putImageData(t,0,0))}},{key:"componentDidMount",value:function(){this._updateCanvas()}},{key:"componentDidUpdate",value:function(){this._updateCanvas()}},{key:"render",value:function(){return s.default.createElement("canvas",{className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,ref:this._onRefChange})}}]),t}(s.default.PureComponent);u.displayName="RGBACanvas",t.default=u},bfggfbdghf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={TRENDING:"TRENDING",HAHA:"HAHA",SAD:"SAD",LOVE:"LOVE",REACTIONS:"REACTIONS",SPORTS:"SPORTS",TV:"TV"};t.default=a},bfgjcdgecg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return i.default.sendConversationArchive(e,t,n).then(function(n){if(s.default.supportsFeature(s.default.F.MODEL_STORAGE)&&200===n.status&&!n._duplicate){var a={archive:t};return t&&(a.pin=void 0),u.Chat.merge(e.toString(),a).then(function(){return n})}return n})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationArchive=r;var o=n("chajfbfiga"),i=a(o),l=n("ccaaiecfib"),s=a(l),u=n("cefcddgdgg")},bfhbfhhceg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("bjjjdidhhi"),m=a(h),b=n("bhhdeihhhf"),g=a(b),v=n("deifjeacc"),y=a(v),_=n("ddbddjjgia"),E=n("didfdhbecg"),j=a(E),w=n("dghebhejhb"),O=a(w),C=n("cijjejhjfh"),S=a(C),P=n("caffijjhc"),M=a(P),T=n("dbjbhajgfd"),k=a(T),N=n("bheafeifce"),I=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={contextMenu:null,hover:!1},a.setRefContext=function(e){return a.refContext=e},a.mouseOver=function(e){e.buttons||a.state.hover||a.setState({hover:!0})},a.mouseDown=function(){a.state.hover&&a.setState({hover:!1})},a.onReplyMessage=function(){var e=(0,N.unproxy)(a.props.msg),t=e.chat;t.composeQuotedMsg=e,p.default.focusChatTextInput(t)},a.onPrivateReplyMessage=function(){var e=(0,N.unproxy)(a.props.msg);f.default.find(e.sender).then(function(e){return Promise.props({ok:p.default.openChatBottom(e),chat:e})}).then(function(t){var n=t.ok,r=t.chat;n&&(r.composeQuotedMsg=e,a.props.msg&&a.props.msg.chat&&(r.composeQuotedMsgRemoteJid=a.props.msg.chat.id))})},a.onStarMessage=function(){var e=(0,N.unproxy)(a.props.msg);p.default.sendStarMsgs(e.chat,[e])},a.onUnstarMessage=function(){var e=(0,N.unproxy)(a.props.msg);p.default.sendUnstarMsgs(e.chat,[e])},a.onDeleteMessage=function(){var e=a.props,t=e.msg,n=e.isMsgVisible;p.default.openModal(u.createElement(m.default,{chat:t.chat,msgList:[t].map(N.unproxy),deletePrompt:!0,revokePrompt:t.canRevoke(),isMsgVisible:n}))},a.openContactChat=function(){f.default.find(a.props.msg.author).then(function(e){p.default.openChatFromUnread(e).then(function(t){t&&p.default.focusChatTextInput(e)})})},a.onMenu=function(e,t){if(t&&a.state.contextMenu)return void a.setState({contextMenu:null});var n=t?a.refContext&&a.refContext.component&&a.refContext.component.refContext:e,r=(0,N.unproxy)(a.props.msg),o=[];r.canReply()&&o.push(u.createElement(g.default,{key:"reply",a8n:"mi-msg-reply",action:a.onReplyMessage},l10n.t("reply"))),(r.canPrivateReply()||r.canPrivateReplyInRestrictedGrp())&&o.push(u.createElement(g.default,{key:"private_reply",a8n:"mi-msg-reply",action:a.onPrivateReplyMessage},l10n.t("private_reply"))),r.canForward()&&o.push(u.createElement(g.default,{key:"forward",a8n:"mi-msg-forward",action:a.props.onOpenForwardFlow},l10n.t("forward_message"))),r.canStar()&&(r.star?o.push(u.createElement(g.default,{key:"star",a8n:"mi-msg-unstar",action:a.onUnstarMessage},l10n.t("unstar_message"))):o.push(u.createElement(g.default,{key:"star",a8n:"mi-msg-star",action:a.onStarMessage},l10n.t("star_message")))),o.push(u.createElement(g.default,{key:"delete",a8n:"mi-msg-delete",action:a.onDeleteMessage},l10n.t("delete_message"))),r.isGroupMsg&&r.author&&!r.isSentByMe&&o.push(u.createElement(g.default,{key:"author",a8n:"mi-msg-author",action:a.openContactChat},l10n.t("message_author",{author:r.displayName()}))),a.setState({contextMenu:{menu:o,anchor:n,theme:b.ThemeOptions.COMPACT}})},i=n,o(a,i)}return i(t,e),l(t,[{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,a=t.menuTransition,r=void 0;(this.state.hover||this.state.contextMenu)&&(r=u.createElement(y.default,{msg:n,position:_.MsgPosition.SINGLE,key:"icon-context",ref:this.setRefContext,onToggle:function(t){e.onMenu(t)},isGroupedSticker:!0}));var o=void 0;return this.state.contextMenu&&(o=u.createElement(M.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return e.contextClose()}},u.createElement(k.default,{contextMenu:this.state.contextMenu}))),u.createElement("div",{className:S.default.stickerItem,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown},u.createElement(O.default,{mediaData:n.mediaData,msg:n}),u.createElement("div",{className:S.default.stickerMenu},u.createElement(j.default,{transitionName:a},r)),o)}}]),t}(u.Component);I.displayName="GroupedSticker",t.default=I},bfhcddbbhg:function(e,t){e.exports={muted:"_2hLgs",albumGridClass:"_36Yqt",albumTopLeft:"_1b8RS",albumTopRight:"_2ip-H",albumBottomLeft:"_3mNmN",albumBottomRight:"_125Xa",numberText:"_1XSxP"}},bfhjgejice:function(e,t){e.exports={muted:"_14Rn_",body:"_3s5Z_",avatar:"_2vJOg",nameSecondary:"_2IwIk",screenName:"_2he9-",businessVname:"_1WLhk",icon:"lBve6",titleAbout:"_2k1Z5"}},bfiaijhcgh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbhhbejbcb"),f=a(c),d=n("hbhijdici"),p=a(d),h=n("dgbdeadddb"),m=a(h),b=n("eagfdbhhhh"),g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.emojis,n=p.default.size(t);if(0===n)return null;var a=void 0;switch(n){default:case 3:a=c.SIZE.MEDIUM;break;case 2:a=c.SIZE.LARGE;break;case 1:a=c.SIZE.XLARGE}var r=t.map(function(t,n){return u.createElement(f.default,{animation:e.props.animation,size:a,emoji:t,key:t+n,selectable:!0})});return u.createElement(b.SelectableDiv,{selectable:!0,className:m.default.wrapper},r)}}]),t}(u.Component);g.displayName="MultiEmoji",t.default=g},bfidcjhfda:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0,n={},a=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(n[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(n[e.doubleByte[t]]=t+f.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var n=t[1]?2*Object.keys(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+n+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,a){if("string"!=typeof t&&!(t instanceof s.default))throw i.default.error("writer:writeString passed non-string/wid type: "+typeof t)(t),new Error("invalid string");if(t instanceof s.default)return void this.writeJid(e,t);var r=n.hasOwnProperty(t)?n[t]:void 0,o=void 0,l=void 0;if("c.us"!==t||a)if(void 0===r){var c=t.indexOf("@");if(c<1)this.writeStringRaw(e,t);else try{var d=(0,u.createWid)(t);this.writeJid(e,d)}catch(n){this.writeStringRaw(e,t)}}else{if(r<f.SINGLE_BYTE_MAX)this.writeToken(e,r);else{var p=r-f.SINGLE_BYTE_MAX,h=p>>8;switch(l=p%256,h){case 0:o=f.DICTIONARY_0;break;case 1:o=f.DICTIONARY_1;break;case 2:o=f.DICTIONARY_2;break;case 3:o=f.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+r)}}this.writeToken(e,o),this.writeToken(e,l)}else this.writeToken(e,n["s.whatsapp.net"])},this.writeStringRaw=function(e,t){var n=c.numUtf8Bytes(t);if(n>=4294967296)throw new Error("string too large to encode (len = "+n+"): "+t);n>=1<<20?(e.pushByte(f.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(f.BINARY_20),e.pushInt20(n)):(e.pushByte(f.BINARY_8),e.pushByte(n)),e.pushString(t)},this.writeJid=function(e,t){var n=t.user,a=t.server,r=t.agent,o=t.device;if(r||o){if(r>255||o>255||"c.us"!==a&&"s.whatsapp.net"!==a)throw new Error("invalid agent:"+r+" or device:"+o+" or server:"+a+" for wid "+t.toString());e.pushByte(f.JID_AD),e.pushByte(r||0),e.pushByte(o||0),n?this.writePackedBytesStringFallback(e,n):this.writeToken(e,f.LIST_EMPTY)}else e.pushByte(f.JID_PAIR),n?this.writePackedBytesStringFallback(e,n):this.writeToken(e,f.LIST_EMPTY),this.writeString(e,a)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){this.isAttr=!0;for(var n in t)t[n]&&(this.writeString(e,n),this.writeString(e,t[n]));this.isAttr=!1}},this.writeChildren=function(e,t){var n=void 0;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((n=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+n);n>=1<<20?(e.pushByte(f.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(f.BINARY_20),e.pushInt20(n)):(e.pushByte(f.BINARY_8),e.pushByte(n)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");n=t.length,this.writeListStart(e,n);for(var a=0;a<n;a++)this.writeNode(e,t[a])}},this.writeListStart=function(e,t){0===t?e.pushByte(f.LIST_EMPTY):t<256?(e.pushByte(f.LIST_8),e.pushByte(t)):(e.pushByte(f.LIST_16),e.pushInt16(t))},this.writePackedBytesStringFallback=function(e,t){try{this.writePackedBytes(e,t)}catch(n){i.default.warnVerbose('writer:encode-fallback "'+n.message+'"')(t),this.writeString(e,t)}},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,f.NIBBLE_8)}catch(n){i.default.warn('writer:enc nib fail, try hex "'+n.message+'"')(t),this.writePackedBytesImpl(e,t,f.HEX_8)}},this.writePackedBytesImpl=function(e,t,n){var a=c.numUtf8Bytes(t);if(a>f.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+a);var r=Math.ceil(a/2),o=[],i=void 0,l=0;a%2>0&&(l=128);var s=l|r;o.push(n),o.push(s);for(var u=Math.floor(a/2),d=0;d<u;d++)i=this.packBytePair(n,t[2*d],t[2*d+1]),o.push(i);l>0&&(i=this.packBytePair(n,t[a-1],"\0"),o.push(i));var p=new Uint8Array(o);e.pushUint8Array(p)},this.packBytePair=function(e,t,n){var a=void 0,r=void 0;switch(e){case f.NIBBLE_8:a=this.packNibble(t),r=this.packNibble(n);break;case f.HEX_8:a=this.packHex(t),r=this.packHex(n);break;default:throw new Error("invalid byte pack type: "+e)}return a<<4|r},this.packNibble=function(e){if(!a.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return a[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}var o=n("bdiiahhjbe"),i=a(o),l=n("jccfhaecf"),s=a(l),u=n("dcbdjheea"),c=n("dbajccegac"),f=n("dicfecifhd");e.exports=r},bfidigcji:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ejbdjaifi"),f=n("ihfccfgdf"),d=a(f),p=n("dgacgafafa"),h=a(p),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.stickerPack,t=e.id,n=e.name,a=e.url;return u.createElement(h.default,{id:t,name:n,url:a})}}]),t}(u.PureComponent);m.CONCERNS={stickerPack:["id","name","url"]},m.displayName="StickerPackIconFirstParty",t.default=(0,d.default)((0,c.hoc)(m),m.CONCERNS)},bfifafibjc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("ceffhbhahb"),p=a(d),h=n("dbhcbbgdji"),m=a(h),b=n("dcicgjefd"),g=a(b),v=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a._setRefResizeObserver=function(e){a._refResizeObserver=e,a.props.onRef&&a.props.onRef(e),a._handleResize()},a._handleResize=function(){var e=a._refResizeObserver;if(e){var t={height:e.offsetHeight,width:e.offsetWidth};a._prevDimensions&&a._prevDimensions.width===t.width&&a._prevDimensions.height===t.height||(a._prevDimensions=t,a.props.onResize(s({},t)))}},r=n,i(a,r)}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=(e.onResize,e.onRef,r(e,["children","className","onResize","onRef"]));return f.createElement("div",s({className:(0,p.default)(g.default.container,n),ref:this._setRefResizeObserver},a),t,f.createElement(m.default,{onResize:this._handleResize}))}}]),t}(f.PureComponent);v.displayName="ResizeObserver",t.default=v},bfigfbdgha:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("gbfffciea"),u=a(s),c=n("fffdgbfji"),f=a(c),d=n("ddhijeejag"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=n("biddiiafgd"),v=a(g),y=n("bhdigcjfbj"),_=a(y),E=n("eadfaddcj"),j=a(E),w=n("ceiehehagg"),O=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getInitialSelection=function(){var e=n.props,t=e.settingType,a=e.groupMetadata,r=a.restrict,o=a.announce,i=a.noFrequentlyForwarded;switch(t){case j.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return!!o;case j.default.GROUP_SETTING_TYPE.RESTRICT:return!!r;case j.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return!!i;default:return!1}},n.onConfirm=function(e){var t=n.props,a=t.chat,r=t.settingType;n.state.activeOption!==n.getInitialSelection()&&(0,w.setGroupProperty)(a,r,!!n.state.activeOption).catch(function(e){return function(){}}),u.default.closeModal()},n.getPopupTitle=function(){switch(n.props.settingType){case j.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return f.default.t("group_setting_send_msg_setting_btn");case j.default.GROUP_SETTING_TYPE.RESTRICT:return f.default.t("group_setting_edit_group_info_setting_btn");case j.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return f.default.t("group_setting_frequently_forwarded_btn");default:return""}},n.onChange=function(e){var t=e.target;t instanceof HTMLInputElement&&n.setState({activeOption:parseInt(t.value,10)})},n.state={activeOption:+n.getInitialSelection()},n}return i(t,e),l(t,[{key:"closeModal",value:function(){u.default.closeModal()}},{key:"render",value:function(){var e=this,t=this.state.activeOption,n=void 0;n=this.props.settingType===j.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED?[{label:f.default.t("group_setting_frequently_forwarded_allow"),value:0},{label:f.default.t("group_setting_frequently_forwarded_disallow"),value:1}]:[{label:f.default.t("group_setting_all_participants"),value:0},{label:f.default.t("group_setting_only_admin"),value:1}];var a=n.map(function(n,a){return p.default.createElement("li",{key:"setting-"+a},p.default.createElement("label",{className:_.default.label},p.default.createElement("input",{type:"radio",className:_.default.input,value:n.value,checked:n.value===t,onChange:e.onChange}),n.label))});return p.default.createElement(v.default,{title:this.getPopupTitle(),okText:f.default.t("group_setting_confirm_btn"),onOK:this.onConfirm,onCancel:this.closeModal},p.default.createElement("form",null,p.default.createElement("ol",null,a)))}}]),t}(d.PureComponent);O.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded"]},O.displayName="GroupAdminSettingPopup",t.default=(0,m.default)((0,b.hoc)(O),O.CONCERNS)},bfihjhiege:function(e,t){e.exports={muted:"uBPnx",fit:"_3NteO",fitRelative:"_1kgcV",fitScaledown:"_3eeXM",fitZoomin:"_14CNR",nativeCover:"_3WAy7",nativeScaleDown:"_39KgN"}},bfjbdahdag:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("fifhbjiec"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=n("gaifbabbj"),b=n("dbbbgjbbgf"),g=a(b),v=n("dgdadejebh"),y=a(v),_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.spacer,a=e.trusted,r=a?m.Configuration.TrustedConversation:m.Configuration.UntrustedConversation,o=r({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0});return u.createElement(u.Fragment,null,u.createElement(y.default,{msg:t}),u.createElement(g.default,{msg:t,"data-id":t.id,spacer:n},u.createElement(f.default,{direction:t.dir,dirMismatch:!(!t.dir||t.rtl===l10n.isRTL()),formatters:o,inferLinesDirection:!0,selectable:!0,text:t.text})))}}]),t}(u.PureComponent);_.CONCERNS={msg:["t","id","dir","rtl","text"]},_.displayName="Caption",t.default=(0,p.default)((0,h.hoc)(_),_.CONCERNS)},bfjchhccjd:function(e,t,n){"use strict";function a(e,t){if(!e)return!1;var n=e.parentElement;if(!n)return!1;var a=t>=0?t:n.childNodes.length+t;return e===n.childNodes[a]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},bfjegcdcag:function(e,t){e.exports={muted:"_385-r",container:"_2LSbZ",title:"_3EN0l","padding-large":"_1ur1f",paddingLarge:"_1ur1f",padding:"_2ZVEo","group-desc-padding":"ujWpH",groupDescPadding:"ujWpH","padding-product":"_2x5h1",paddingProduct:"_2x5h1",animate:"_2j5ir","well-animation2":"_3e_bD",wellAnimation2:"_3e_bD"}},bfjeggfcij:function(e,t){e.exports={muted:"_1Owwf",playerWrapper:"_2sTOw"}},bfjfgcfade:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null,r=null,o="",i=0,l=null;return(0,d.default)(e,t,function(e,t,n){if("@"===e||" "===e&&" "===r)return!0;if(":"===r)if(" "===a);else{if(u(e))return l=o,!0;if(/\W/.test(e))return l=n.slice(t+1)+o,!0}return 0===t&&(o=n+o),a=r,r=e,(i+=1)>=E||void 0}),!l&&i<E&&":"===r&&(l=o),n&&l&&l.length&&(0,h.default)(t,l.length),l}function u(e){return Boolean(b.default[e])}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("bidcddiaag"),d=a(f),p=n("decdhbjfjc"),h=a(p),m=n("jjjdieajj"),b=a(m),g=n("digcccheca"),v=n("bjgibbgbai"),y=n("debfbiicee"),_={ArrowLeft:v.EMOJI_LEFT,ArrowRight:v.EMOJI_RIGHT,Enter:v.EMOJI_ENTER,Tab:v.EMOJI_TAB},E=50,j=function(e){function t(){var e,n,a,l;o(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.hooks=r({},y.CHANGE,function(e,t){""===t.refInput.textContent&&this.handle(v.EMOJI_INACTIVE)}),a.handlers={onKeyDown:function(e,t){var n=this;8!==e.keyCode&&e.repeat&&(this._lastSyncKeyDownWasRepeat=!0,setTimeout(function(){delete n._lastSyncKeyDownWasRepeat},0));var a=_[e.key];return!!a&&this.handle(a,[e,t])},onSelect:function(e,t){if(this.ctx.isComposing)return!1;if(this._lastSyncKeyDownWasRepeat)return!1;var n=window.getSelection();if(!n.modify)return!1;var a=s(t,n);return a?(a=a.slice(1),this.handle(v.EMOJI_SEARCH,[a]),!1):this.handle(v.EMOJI_INACTIVE)}},l=n,i(a,l)}return l(t,e),c(t,[{key:"handleSelect",value:function(e){this.ctx.forceFocus(),s(this.ctx,window.getSelection(),!0)&&(this.ctx.replaceSelection(e),this.handle(v.EMOJI_INACTIVE))}}]),t}(g);e.exports=j},bgabfdfhj:function(e,t){e.exports={muted:"_3Q5ur",multiControls:"_35W3r",chatListPanel:"_3yBED",drawerHeader:"_1g08n",multiselectIcon:"TRZQd",multiCount:"_9hazY",mediaGalleryTheme:"_14YVp"}},bgaeiiadg:function(e,t){e.exports={muted:"_3-Yb0",border:"_2DxRd"}},bgajdijche:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("effbcehec"),u=a(s),c=n("fffdgbfji"),f=a(c),d=n("bdiiahhjbe"),p=a(d),h=n("eigdejjai"),m=a(h),b=n("hjbcfjaai"),g=n("eceadcicaf"),v=a(g),y=n("bjbedjfe"),_=a(y),E=n("ejbdjaifi"),j=n("bjebjijbfc"),w=a(j),O=n("ccaaiecfib"),C=a(O),S=n("cajijabhgb"),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(S),M=n("bfdcadbbif"),T=a(M),k=n("becfabjeeg"),N=a(k),I=n("cdeaahaeee"),R=a(I),A=n("eadfaddcj"),D=a(A),x=n("ddhijeejag"),L=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=x.createElement(U,{statusV3:this.props.status,onOpenStatus:this.props.onOpenStatus}),t=void 0,n=void 0;return C.default.supportsFeature(C.default.F.STATUS_V3_UI_SENDING)&&(t=x.createElement("div",{className:R.default.updateWrapper},x.createElement("div",{className:R.default.updateTitle},f.default.t("status_v3_update_status")),x.createElement("div",{className:R.default.uploadButtons},x.createElement("div",{className:R.default.buttonContainer},x.createElement(T.default,{name:"status-v3-upload"}),x.createElement("p",null,f.default.t("status_v3_upload"))),x.createElement("div",{className:R.default.buttonContainer},x.createElement(T.default,{name:"status-v3-camera"}),x.createElement("p",null,f.default.t("status_v3_camera"))))),n=x.createElement("hr",null)),x.createElement("div",{className:R.default.outStatusPanel},t,n,e)}}]),t}(x.Component);L.displayName="StatusV3OutStatusPanel";var F=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.statusV3,n=e.listeners;t&&(n.add(t,"change:msgsChanged"),t.loadMore(t.totalCount).catch(function(e){p.default.error("error while loading all out status: "+String(e))()}))}},{key:"componentWillReceiveProps",value:function(e){this.props.statusV3!==e.statusV3&&(this.props.statusV3&&this.props.listeners.remove(this.props.statusV3,"change:msgsChanged"),e.statusV3&&this.props.listeners.add(e.statusV3,"change:msgsChanged"))}},{key:"render",value:function(){var e=this,t=this.props.statusV3;if(t&&t.msgs.length>0){var n=t.msgs.map(function(n){return x.createElement(G,{key:n.id.toString(),msg:n,status:t,onOpenStatus:e.props.onOpenStatus})});return x.createElement("div",{className:R.default.viewWrapper},x.createElement("div",{className:R.default.viewTitle},f.default.t("status_v3_view_status")),x.createElement("div",{className:R.default.viewUpdates},n))}return x.createElement("div",{className:R.default.viewWrapper},x.createElement("div",{className:R.default.placeholderIcon},x.createElement("div",{className:R.default.placeholderIcon},x.createElement(T.default,{name:"status-v3-placeholder"}))),x.createElement("div",{"data-a8n":u.default.key("status-placeholder"),className:R.default.placeholderText},f.default.t("status_v3_out_status_placeholder")))}}]),t}(x.Component);F.displayName="StatusV3OutViewerImpl";var U=(0,v.default)((0,E.hoc)(F)),B=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={},e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;m.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.props.listeners.add(t.read,"add remove",function(){e.setState({seenCount:t.read.length})}),e.setState({seenCount:t.read.length})}).catch(P.Unmount,function(){}).catch(P.EphemeralDrop,function(){})}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,a=t.status,r=n.mediaData,o=void 0;if(r&&r.preview)o={backgroundImage:"url("+r.preview.url()+")"};else if(n.type===D.default.MSG_TYPE.CHAT){var i=n.statusV3TextBg;o={backgroundColor:i}}var l=void 0;n.type===D.default.MSG_TYPE.CHAT&&(l=x.createElement(b.StatusV3Text,{msg:n,theme:"status-panel"}));var s=void 0;return s=void 0!==this.state.seenCount?x.createElement(x.Fragment,null,x.createElement(T.default,{name:"status-v3-seen"}),x.createElement("div",{className:R.default.seenCount},this.state.seenCount)):x.createElement(N.default,{stroke:3,size:12}),x.createElement("div",{className:R.default.outDetail},x.createElement("div",{className:R.default.statusImage,style:o,onClickCapture:function(t){e.props.onOpenStatus(a,n),t.preventDefault(),t.stopPropagation()}},l),x.createElement("div",{className:R.default.seen},s),x.createElement("div",{className:R.default.timestamp},w.default.relativeDateAndTimeStr(n.t)))}}]),t}(x.Component);B.displayName="StatusV3OutDetailImpl";var G=(0,_.default)((0,v.default)((0,E.hoc)(B)));t.default=L},bgedbhhbbg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("effbcehec"),c=a(u),f=n("dacdidjdfi"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("ceffhbhahb"),b=a(m),g=n("bdiiahhjbe"),v=a(g),y=n("dgdjiicfdg"),_=a(y),E=n("ddhijeejag"),j=a(E),w=n("dagdiahdfi"),O=a(w),C=n("bfjajhbdf"),S=a(C),P=n("eedjbihej"),M=a(P),T=n("ejdjhbacj"),k=a(T),N={title:0,hour:1,day:24,week:168},I=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={notifications:O.default.getGlobalNotifications(),sounds:O.default.getGlobalSounds(),previews:O.default.getGlobalPreviews(),dnd:N.title},a.onSounds=function(){var e=!a.state.sounds;a.setState({sounds:e}),O.default.setGlobalSounds(e)},a.onNotifications=function(){var e=!a.state.notifications;a.setState({notifications:e}),O.default.setGlobalNotifications(e)},a.onPreviews=function(){var e=!a.state.previews;a.setState({previews:e}),O.default.setGlobalPreviews(e)},a.onDND=function(e){if(e.target&&e.target.value){var t=parseInt(e.target.value,10);if(0===t)return a.setState({dnd:N.title}),void O.default.globalMute().unmute();a.setState({dnd:t});var n=(0,_.default)().unix()+60*t*60;O.default.globalMute().mute(n)}},a.onClose=function(){h.default.closeModal()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.state.dnd!==N.title&&h.default.openToast(j.default.createElement(S.default,{msg:this.globalMuteDurationLabel(this.state.dnd),id:(0,C.genId)()}))}},{key:"globalMuteDurationLabel",value:function(e){switch(this.state.dnd){case 1:return l10n.t("global_muted_1hour");case 24:return l10n.t("global_muted_1day");case 168:return l10n.t("global_muted_1week");default:return v.default.log("DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:"+e)(),l10n.t("global_muted")}}},{key:"render",value:function(){var e=[];if(window.Notification){e.push(j.default.createElement("div",{className:k.default.section,onClick:this.onNotifications,key:0},j.default.createElement("div",{"data-a8n":c.default.key("menu-icon-notifications"),className:k.default.control},j.default.createElement(d.default,{onChange:this.onNotifications,checked:this.state.notifications?f.CHECKBOX_STATE.CHECKED:f.CHECKBOX_STATE.UNCHECKED})),j.default.createElement("div",{"data-a8n":c.default.key("option-desktop-notifications"),className:k.default.label},l10n.t("option_desktop_notifications"))));var t=(0,b.default)(k.default.section,r({},k.default.disabled,!this.state.notifications));e.push(j.default.createElement("div",{className:t,onClick:this.onPreviews,key:1},j.default.createElement("div",{"data-a8n":c.default.key("menu-icon-notifications"),className:k.default.control},j.default.createElement(d.default,{onChange:this.onPreviews,checked:this.state.previews?f.CHECKBOX_STATE.CHECKED:f.CHECKBOX_STATE.UNCHECKED})),j.default.createElement("div",{"data-a8n":c.default.key("option-msg-previews"),className:k.default.label},l10n.t("option_msg_previews"),j.default.createElement(M.default,{theme:"muted",block:!0},l10n.t("option_msg_previews_hint_text")))))}return j.default.createElement("div",{className:k.default.container},j.default.createElement("div",{className:k.default.section,onClick:this.onSounds},j.default.createElement("div",{"data-a8n":c.default.key("menu-icon-notifications"),className:k.default.control},j.default.createElement(d.default,{onChange:this.onSounds,checked:this.state.sounds?f.CHECKBOX_STATE.CHECKED:f.CHECKBOX_STATE.UNCHECKED})),j.default.createElement("div",{"data-a8n":c.default.key("option-sounds"),className:k.default.label},l10n.t("option_sounds"))),e,j.default.createElement("div",{className:(0,b.default)(k.default.section,k.default.sectionWide)},j.default.createElement("div",{className:k.default.select},j.default.createElement("select",{"data-a8n":c.default.key("alert-dnd-options"),value:this.state.dnd,onChange:this.onDND},j.default.createElement("option",{value:N.title},l10n.t("option_select_mute")),j.default.createElement("option",{value:N.hour},l10n.t("mute_1hour")),j.default.createElement("option",{value:N.day},l10n.t("mute_1day")),j.default.createElement("option",{value:N.week},l10n.t("mute_1week"))))))}}]),t}(E.Component);I.displayName="DoNotDisturbSettings",t.default=I},bgefgjjhb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("fifhbjiec"),f=a(c),d=n("didfdhbecg"),p=a(d),h=n("caceaafdic"),m=n("eahbabfhi"),b=a(m),g=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={date:void 0,visible:!0},i=n,o(a,i)}return i(t,e),l(t,[{key:"updateDateMarkerText",value:function(e){this.setState({date:e})}},{key:"setVisibility",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e=void 0;return this.state.date&&this.state.visible&&(e=u.default.createElement("div",{className:b.default.sticky},u.default.createElement(h.SystemBubble,null,u.default.createElement(f.default,{direction:"auto",text:this.state.date})))),u.default.createElement(p.default,{transitionName:"slide-down-date"},e)}}]),t}(s.PureComponent);g.displayName="StickyDateMarker",t.default=g},bggcifcgdc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("cajijabhgb"),p=r(d),h=n("ceffhbhahb"),m=a(h),b=n("fffdgbfji"),g=a(b),v=n("caaaaajeei"),y=a(v),_=n("ejegihaeh"),E=a(_),j=n("djbgihfhif"),w=a(j),O=n("dbdfbgehgj"),C=a(O),S=n("gbfffciea"),P=a(S),M=n("bjigbaghc"),T=a(M),k=n("bjjiehdfge"),N=a(k),I=n("djcchigfih"),R=a(I),A=n("djbhiedbef"),D=a(A),x=n("dajffajabh"),L=a(x),F=n("ccaaiecfib"),U=a(F),B=n("bdiiahhjbe"),G=a(B),V=n("gicgagfjj"),W=a(V),H=n("bhfgbcfeae"),Y=a(H),q=n("cacbgbjgef"),K=a(q),z=n("ihfccfgdf"),Q=a(z),X=n("becfabjeeg"),J=a(X),Z=n("eedjbihej"),$=a(Z),ee=n("cbcbdjdah"),te=n("bgjddhffji"),ne=n("ejbdjaifi"),ae=n("bheafeifce"),re=n("cjcghajbag"),oe=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ie.call(n);var a=E.default.get(e.product.catalogWid);return n.state={fetching:!(a&&a.fetchedFromServer&&a.productCollection&&e.product.fetchedFromServer),fetchedCatalog:e.refreshCarousel&&a?a:null,deletedProduct:e.product.reviewStatus===re.PRODUCT_REVIEW_STATUS.REJECTED},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;if(U.default.supportsFeature(U.default.F.CATALOG)){var t=this.props,n=t.product,a=t.refreshCarousel,r=t.sessionId,o=n.catalogWid,i=n.id.toString();o&&i&&(E.default.findProduct(o,i).catch(function(t){e.setState({fetching:!1,deletedProduct:!0}),G.default.error("Failed to fetch catalog collection",t)()}),a&&E.default.findCarouselCatalog(o).then(function(t){var n=Array.isArray(t)?t[0]:t;n&&e.setState({fetching:!1,fetchedCatalog:n})}).catch(p.WapDrop,function(e){G.default.warn(e.toString())()}),(0,te.logProductDetailView)((0,ae.unproxy)(n),r))}}},{key:"componentWillUnmount",value:function(){if(U.default.supportsFeature(U.default.F.CATALOG)){var e=this.props.product,t=e.catalogWid,n=e.id.toString();if(t&&n){var a=E.default.get(t),r=a&&a.msgProductCollection.get(n);r&&r.fetchedFromServer&&a&&a.msgProductCollection.remove(r)}}}},{key:"renderLoadingBar",value:function(){var e,t=this.state,n=t.fetching,a=t.deletedProduct,r=this.isRejected(this.props.product),i=a||r,l=i?f.createElement($.default,{className:y.default.text,theme:"small",color:"danger"},g.default.t("product_removed")):[f.createElement(J.default,{size:14,color:X.colorOptions.highlight,key:"DetailDrawer-loadingBar-spinner"}),f.createElement($.default,{className:(0,m.default)(y.default.text,y.default.loadingText),theme:"small",key:"DetailDrawer-loadingBar-msg"},g.default.t("product_waiting_for_network"))];return f.createElement("div",{className:(0,m.default)((e={},o(e,y.default.loadingContainer,n||i),o(e,y.default.shiftUp,!n&&!i),e))},l)}},{key:"renderDrawerMenu",value:function(){var e=this.props.product,t=this.state.deletedProduct,n=this.isRejected(e),a=t||n;return!e.fetchedFromServer||a?null:f.createElement(N.default,{onSendProduct:this.onSendProduct,onReportProduct:this.onReportProduct})}},{key:"renderDrawerHeader",value:function(){return f.createElement(L.default,{a8n:"drawer-title-profile",title:g.default.t("product_details_title"),onBack:this.onBack,type:x.DRAWER_HEADER_TYPE.SMALL,menu:this.renderDrawerMenu()})}},{key:"render",value:function(){if(!U.default.supportsFeature(U.default.F.CATALOG))return null;var e=this.props,t=e.product,n=e.sessionId,a=this.state,r=a.deletedProduct,o=a.fetching,i=a.fetchedCatalog,l=this.isRejected(t),s=r||l;return f.createElement(R.default,{onDrop:this.onBack,key:"product-details-drawer"},this.renderDrawerHeader(),f.createElement(D.default,null,this.renderLoadingBar(),f.createElement(K.default,{product:t,deletedProduct:s,fetching:o,sessionId:n}),f.createElement(Y.default,{product:t,onSendChat:this.onSendChat,deletedProduct:s,sessionId:n}),i?f.createElement(w.default,{catalog:i,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,filterProductId:t.id.toString(),title:g.default.t("product_catalog_more"),animation:!1,sessionId:n}):null))}}]),t}(f.Component);oe.CONCERNS={product:["id","catalogWid","productImageCollection","fetchedFromServer","name","reviewStatus"]};var ie=function(){var e=this;this.onReportProduct=function(){var t=e.props,n=t.product,a=t.sessionId;P.default.openModal(f.createElement(W.default,{product:n,sessionId:a}))},this.onSendChat=function(){var t=e.props.product,n=t.catalogWid,a=E.default.get(n);if(a){var r=a.productCollection.get(t.id),o=r?(0,ae.unproxy)(r):(0,ae.unproxy)(t);if(o){if(n.toString()===T.default.me.toString())return e.onSendProduct();var i=o.productImageCollection.head(),l=i&&i.mediaData;l&&C.default.find(n).then(function(e){P.default.openChatFromUnread(e).then(function(t){if(t){var a=(0,ae.unproxy)((0,ee.createProductInquiry)(o,n,l));e.composeQuotedMsg=a,P.default.focusChatTextInput(e),window.innerWidth<=1024&&P.default.closeDrawerRight()}})})}}},this.onSendProduct=function(){var t=e.props,n=t.chat,a=t.product,r=a.catalogWid,o=a.productImageCollection,i=a.name,l=E.default.get(r);if(l){var s=l.productCollection.get(a.id),u=s?(0,ae.unproxy)(s):(0,ae.unproxy)(a);if(u){var c=o.head();if(c){var f=void 0;if(c.mediaData&&c.mediaData.mediaBlob&&c.mediaData.mediaBlob._blob&&(f=c.mediaData.mediaBlob._blob),u&&r&&f){var d=new File([f],i+".jpg",{type:"image/jpeg"});0===u.priceAmount1000&&(u.priceAmount1000=null,u.currency=null),P.default.attachProduct({chat:n,fileOrigin:1,file:d,product:u,catalogWid:r})}}}}},this.onBack=function(){var t=e.props.onBack;if(t)return t()},this.onProductCatalog=function(){var t=e.props,n=t.onProductCatalog,a=t.sessionId;if(n)return n(a)},this.onProductDetail=function(t){var n=e.props,a=n.onProductDetail,r=n.sessionId;if(a)return a(t,r)},this.isRejected=function(e){return e.reviewStatus===re.PRODUCT_REVIEW_STATUS.REJECTED}};oe.displayName="ProductDetails",t.default=(0,Q.default)((0,ne.hoc)(oe),oe.CONCERNS)},bggdbeiaie:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("ihfccfgdf"),d=a(f),p=n("ejbdjaifi"),h=n("cjfiaefceb"),m=a(h),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"genCircle",value:function(e){var t=100+this.props.stroke;return c.default.createElement("circle",l({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e))}},{key:"genDasharray",value:function(e,t,n,a){for(var r="",o=0;o<e;o++)r+=o===e-1?t+" "+(n-e*(a+t)+a)+" ":t+" "+a+" ";return r}},{key:"render",value:function(){var e=this.props,t=e.statusV3,n=e.stroke,a=e.size,r=100+n,o="0 0 "+r+" "+r,i=t.totalCount,l=10,s=50*Math.PI*2;s-10*i<1&&(l=s/i/1.2);var u=(s-l*i)/i,f=s/4-l/2,d=t.contact.isMe?0:t.unreadCount,p=i-d,h=void 0;if(d){var b=f+i*(l+u),g=void 0;1!==i&&(g=this.genDasharray(d,u,s,l)),h=this.genCircle({strokeDashoffset:b,strokeDasharray:g,className:m.default.unread})}var v=void 0;if(p){var y=f+p*(l+u),_=void 0;1!==i&&(_=this.genDasharray(p,u,s,l)),v=this.genCircle({strokeDashoffset:y,strokeDasharray:_,className:m.default.read})}return c.default.createElement("svg",{className:m.default.ring,width:a,height:a,viewBox:o},h,v)}}]),t}(u.PureComponent);b.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},b.defaultProps={size:48,stroke:4},b.displayName="StatusV3ImageRing",t.default=(0,d.default)((0,p.hocWithDefaults)(b),b.CONCERNS)},bggdhciede:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return o(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,v.genId)(),n=g.default.setPushname(e),a=new v.ActionType(l10n.t("action_pushname_setting")),r=u.default.pushname,i=n.then(function(e){return 200===e.status?new v.ActionType(l10n.t("action_pushname_set"),l10n.t("action_undo"),function(){return o(r,t)}):e.status>=400?new v.ActionType(l10n.t("action_pushname_set_failed")):void 0}).catch(function(e){throw f.default.error("models:conn:setPushname dropped")(e),new v.ActionType(l10n.t("action_pushname_set_failed"),l10n.t("action_try_again"),function(){return o(status,t)})});return l.default.openToast(p.default.createElement(v.ActionToast,{id:t,initialAction:a,pendingAction:i})),n.then(function(t){200!==t.status||t._duplicate||(u.default.pushname=e,m.default.setPushname(e))})}Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=r;var i=n("gbfffciea"),l=a(i),s=n("bjigbaghc"),u=a(s),c=n("bdiiahhjbe"),f=a(c),d=n("ddhijeejag"),p=a(d),h=n("egjjcjcg"),m=a(h),b=n("chajfbfiga"),g=a(b),v=n("ccihhdchab")},bggeiidigb:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){a(this,e)}return r(e,[{key:"registerContainer",value:function(e){this._containerAPI=e,this._listHandlers&&e.onRegisterList()}},{key:"unregisterContainer",value:function(){delete this._containerAPI}},{key:"triggerScroll",value:function(){this._listHandlers&&this._listHandlers.handleScroll()}},{key:"triggerLayout",value:function(e){this._listHandlers&&this._listHandlers.handleLayout(e)}},{key:"registerList",value:function(e){this._listHandlers=e,this._containerAPI&&this._containerAPI.onRegisterList()}},{key:"unregisterList",value:function(){delete this._listHandlers}},{key:"getScrollTop",value:function(){return this._containerAPI.getScrollTop()}},{key:"setScrollTop",value:function(e){this._containerAPI.setScrollTop(e)}}]),e}();t.default=o},bgghfidcfh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ceffhbhahb"),c=a(u),f=n("ddhijeejag"),d=a(f),p=n("dcaiaeaebb"),h=a(p),m=n("ejbdjaifi"),b=n("bjbedjfe"),g=a(b),v=n("bffhabgiib"),y=a(v),_=n("ihfccfgdf"),E=a(_),j=n("didbbgcjac"),w=a(j),O=n("cgchdicacf"),C=a(O),S=n("djebbfefcf"),P=a(S),M=n("cjdaccjhdg"),T=(a(M),n("bbjadhadbg")),k=a(T),N=n("ccaaiecfib"),I=a(N),R=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={},n._animatedAsNewMsg=n.props.mediaData.animatedAsNewMsg,n._renderPreview=function(){var e=n.props.mediaData.preview,t=e&&e.url(),a=n._getClassName();return t?d.default.createElement("img",{className:a,draggable:"false",onClick:n.props.onClick,src:t}):d.default.createElement(w.default,{className:(0,c.default)(C.default.placeholder,a)})},n._renderImage=function(e){return d.default.createElement("img",{className:n._getClassName(),draggable:"false",onClick:n.props.onClick,src:e})};var a=(0,h.default)();return a.isFulfilled()?n.state.supportsWebp=a.value():a.checkpoint(n.props.rejectOnUnmount()).then(function(e){return n.setState({supportsWebp:e})}),n}return l(t,e),s(t,[{key:"_getClassName",value:function(){var e;return(0,c.default)((e={},r(e,C.default.conversation,"conversation"===this.props.theme),r(e,C.default.quoted,"quoted"===this.props.theme),r(e,C.default.composeBoxQuoted,"composeBoxQuoted"===this.props.theme),r(e,C.default.stickerPanel,"stickerPanel"===this.props.theme),r(e,C.default.clickable,Boolean(this.props.onClick)),e))}},{key:"render",value:function(){var e=this.state.supportsWebp;if(null==e)return this._renderPreview();var t=this._getClassName(),n=this.props.mediaData,a=Boolean(this.props.isNewMsg&&!this._animatedAsNewMsg);if(e){if(n.animationDuration>0&&!this.props.loopAnimation)return d.default.createElement(P.default,{className:t,mediaData:n,startAnimation:a,onClick:this.props.onClick,placeholderRenderer:I.default.supportsFeature(I.default.F.REPLACE_MEDIABLOB)?this._renderPreview:null,downloadMedia:I.default.supportsFeature(I.default.F.REPLACE_MEDIABLOB)?this.props.downloadMedia:null});if(!I.default.supportsFeature(I.default.F.REPLACE_MEDIABLOB))return n.renderableUrl?this._renderImage(n.renderableUrl):this._renderPreview();if(null!=this.props.downloadMedia)return d.default.createElement(k.default,{mediaData:n,placeholderRenderer:this._renderPreview,downloadMedia:this.props.downloadMedia},this._renderImage)}return!e&&n.rgbaBuffer?d.default.createElement(y.default,{className:t,height:n.rgbaHeight,onClick:this.props.onClick,rgbaBuffer:n.rgbaBuffer,width:n.rgbaWidth}):this._renderPreview()}}]),t}(d.default.PureComponent);R.CONCERNS={mediaData:["animatedAsNewMsg","animationDuration","mediaBlob","preview","renderableUrl","rgbaBuffer","rgbaHeight","rgbaWidth"]},R.displayName="Sticker",t.default=(0,g.default)((0,E.default)((0,m.hoc)(R),R.CONCERNS))},bghbcggigd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("dhigahgdjb"),p=a(d),h=n("bjgiedaj"),m=n("bhheahajjg"),b=a(m),g=n("bbcaggdbc"),v=n("djbfhebjhe"),y=a(v),_=n("caacedccf"),E=a(_),j=n("ceffhbhahb"),w=a(j),O=n("djhbegbdaf"),C=a(O),S=n("bfdcadbbif"),P=a(S),M=n("iiaihjfbi"),T=a(M),k=g.PaymentInfo.STATUS,N={FAIILED:"failed",PROCESSING:"processing",WAITING:"waiting",SUCCESS:"success"},I=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.getPaymentTypeMsg=function(){var e=null;if(!a.props.receiverJid)return null;var t=p.default.get(a.props.receiverJid);switch(e=t?f.createElement(b.default,{contact:t,showNotifyName:!0}):(0,y.default)(a.props.receiverJid),a.props.messageStubType){case"send":return f.createElement(C.default,{id:"web_payment_to",params:{receiverName:e}});case"request":return f.createElement(C.default,{id:"web_payment_request_from",params:{receiverName:e}});default:return null}},a.getCurrencyRegex=function(e){switch(e){case"MXN":return/(^\D{3})(.*(?=\.))(.*)/g;default:return/(^\D)(.*(?=\.))(.*)/g}},a.renderAmount=function(){var e=(0,h.format)(a.props.currency,a.props.amount1000),t=a.getCurrencyRegex(a.props.currency),n=t.exec(e);if(!n)return null;var r=[n[1],n[2],n[3]],o=r[0],i=r[1],l=r[2];return f.createElement("div",{className:E.default.container},f.createElement("div",{className:(0,w.default)(E.default.thumb,{"bg-payments":!a.props.isQuoted})},f.createElement("div",{className:E.default.amount},f.createElement("span",{className:E.default.amountCurrency},o),f.createElement("span",{className:E.default.amountInteger},i),f.createElement("span",{className:E.default.amountDecimal},l))))},r=n,i(a,r)}return l(t,e),u(t,[{key:"paymentStatusStr",value:function(e){var t=void 0,n=void 0;switch(e){case k.PROCESSING:t=l10n.t("web_payment_transaction_status_processing"),n=N.PROCESSING;break;case k.SENT:t=l10n.t("web_payment_transaction_status_sent"),n=N.PROCESSING;break;case k.NEED_TO_ACCEPT:t=l10n.t("web_payment_transaction_status_need_to_accept"),n=N.WAITING;break;case k.COMPLETE:t=l10n.t("web_payment_transaction_status_complete"),n=N.SUCCESS;break;case k.COULD_NOT_COMPLETE:t=l10n.t("web_payment_transaction_status_couldnt_complete"),n=N.FAIILED;break;case k.REFUNDED:n=N.FAIILED,t=l10n.t("web_payment_transaction_status_refunded");break;case k.EXPIRED:n=N.FAIILED,t=l10n.t("web_payment_transaction_status_expired");break;case k.REJECTED:n=N.FAIILED,t=l10n.t("web_payment_transaction_status_rejected");break;case k.CANCELLED:n=N.PROCESSING,t=l10n.t("web_payment_transaction_status_cancelled");break;case k.WAITING_FOR_PAYER:n=N.WAITING,t=l10n.t("web_payment_transaction_status_waiting_for_payer");break;default:t="",n=N.WAITING}return this.props.isGroupMsg&&(n=N.PROCESSING),[t,n]}},{key:"render",value:function(){var e,t=this.paymentStatusStr(this.props.paymentStatus),n=s(t,2),a=n[0],o=n[1],i=(0,w.default)((e={},r(e,E.default.bubbleOut,this.props.isSentByMe),r(e,E.default.bubbleIn,!this.props.isSentByMe),r(e,E.default.quotedMsg,!!this.props.isQuoted),r(e,E.default.quotedMsgInComposeBox,"composeBox"===this.props.theme),e)),l="send"===this.props.messageStubType?f.createElement(P.default,{name:"payment-send"}):f.createElement(P.default,{name:"payment-request"}),u=f.createElement("div",{className:E.default.icon},f.createElement(P.default,{className:E.default.iconSymbol,name:"currency-dollar"}),l),c=this.getPaymentTypeMsg(),d=void 0;if(this.props.isQuoted&&this.props.quotedMsgAuthor)d=f.createElement("div",{className:E.default.quotedMsgAuthor},this.props.quotedMsgAuthor,c);else{var p=void 0;if(a){var h=this.props.hasCaption?f.createElement("div",{className:E.default.status},a):f.createElement(T.default,{msg:this.props.msg,className:E.default.status},a);p=f.createElement(f.Fragment,null,f.createElement("div",{className:E.default.receiverTxt},c),h)}else p=this.props.hasCaption?f.createElement("div",{className:E.default.receiverTxt},c):f.createElement(T.default,{msg:this.props.msg,className:E.default.receiverTxt},c);d=f.createElement("div",{className:(0,w.default)(E.default.body,E.default[o])},f.createElement("div",{className:E.default.bodyIcon},u),f.createElement("div",{className:E.default.bodyText},p))}return f.createElement("div",{className:i},this.renderAmount(),d)}}]),t}(f.Component);I.displayName="PaymentInfo",t.default=I},bghjfahjfd:function(e,t){e.exports={muted:"Kc873",cursorAuto:"_2W3Ap"}},bgjaficfde:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bhhdeihhhf"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled,a=this.props.onArchive.bind(null,!t.archive);return u.createElement(f.default,{a8n:"mi-archive",action:a,key:"ArchiveMenuItem",disabled:n},t.archive?l10n.t("unarchive_chat"):l10n.t("archive_chat"))}}]),t}(u.PureComponent);m.CONCERNS={chat:["archive"]},m.displayName="ArchiveMenuItem",t.default=(0,p.default)((0,h.hoc)(m),m.CONCERNS)},bgjddhffji:function(e,t,n){"use strict";function a(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_CARD_IMPRESSION,catalogEntryPoint:y.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,catalogOwnerJid:e,catalogSessionId:t}).commit()}function r(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_CARD_ITEM_CLICK,catalogEntryPoint:y.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function o(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_CARD_MORE_CLICK,catalogOwnerJid:e,catalogSessionId:t}).commit()}function i(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_LIST_IMPRESSION,catalogOwnerJid:e,catalogSessionId:t}).commit()}function l(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_LIST_ITEM_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function s(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMAGE_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function u(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_LINK_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function c(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function f(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_SWIPE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function d(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function p(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function h(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_SUCCESS,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function m(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_FAILURE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function b(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:y.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}function g(e,t){new y.default.CatalogView({catalogViewAction:y.default.CATALOG_VIEW_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:y.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()}Object.defineProperty(t,"__esModule",{value:!0}),t.logBusinessProfileCatalogView=a,t.logProfileProductClick=r,t.logCarouselViewMoreClick=o,t.logCatalogListView=i,t.logCatalogListDetailClick=l,t.logDetailImageClick=s,t.logDetailLinkClick=u,t.logFullImageView=c,t.logImageNavigate=f,t.logProductDetailView=d,t.logReportProduct=p,t.logReportProductSuccess=h,t.logReportProductFailure=m,t.logProductInquiryClick=b,t.logProductMsgClick=g;var v=n("bfbggcdbfb"),y=function(e){return e&&e.__esModule?e:{default:e}}(v)},bhaaifddjf:function(e,t){e.exports={muted:"r8VY9",container:"qiFt5",wrapper:"FXIEb",mask:"_1HTIY",bg:"_3MP3K",foreground:"_2ON21",filled:"_3u9U6",empty:"_2KImX",active:"xiH0N"}},bhaigiibeh:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("eadfaddcj"),p=r(d),h=n("gbfffciea"),m=r(h),b=n("ceffhbhahb"),g=r(b),v=n("djcchigfih"),y=r(v),_=n("djbhiedbef"),E=r(_),j=n("dajffajabh"),w=r(j),O=n("dgjacfgggf"),C=r(O),S=n("dcecgegjfc"),P=a(S),M=n("bdiiahhjbe"),T=r(M),k=n("jgcieiibj"),N=r(k),I=n("dgfecega"),R=r(I),A=n("beeieigghj"),D=r(A),x=n("didfdhbecg"),L=r(x),F=n("cdjhjdcbeg"),U=r(F),B=n("becfabjeeg"),G=r(B),V=n("ceddibdhdb"),W=r(V),H=n("edbaidcaf"),Y=r(H),q=n("ccfdaijebj"),K=r(q),z=n("ejbdjaifi"),Q=n("bfdcadbbif"),X=r(Q),J=n("bbcjhfahhb"),Z=r(J),$=n("bfbggcdbfb"),ee=n("bjbedjfe"),te=r(ee),ne=n("cajijabhgb"),ae=a(ne),re=n("ffchhcfdj"),oe=r(re),ie=n("cdcfgefbba"),le=r(ie),se="CAPTURE_MEDIA",ue={ANIMATING:"ANIMATING",LOADING:"LOADING",RECORDING:"RECORDING",SENDING:"SENDING"},ce=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={state:ue.ANIMATING,stream:void 0,img:void 0,caption:void 0,videoSize:void 0},a.videoRef=null,a.startTimer=new W.default(function(e){a.loadNewStream(e)}),a.loadNewStream=function(e){if(!e)return void(a.state.state===ue.ANIMATING&&a.setState({state:ue.LOADING}));a.setState({state:ue.LOADING,stream:e}),(0,S.isSrcObjectInVideoElement)()||(e?(window.URL.revokeObjectURL(a.url),a.url=window.URL.createObjectURL(e)):(window.URL.revokeObjectURL(a.url),a.url=void 0))},a.stopStreamTimer=new W.default(function(e){e&&P.stop(e),(0,S.isSrcObjectInVideoElement)()||(a.url=window.URL.revokeObjectURL(a.url))}),a.onCapture=function(){if(a.videoRef){var e=a.videoRef.underlyingVideo();if(e){var t=a.props.chat,n=document.createElement("canvas");n.height=e.videoHeight,n.width=e.videoWidth;var r=n.getContext("2d");if(!r)return void T.default.warn("CaptureDrawer:onCapture can not get 2d context")();r.translate(n.width,0),r.scale(-1,1),r.drawImage(e,0,0,e.videoWidth,e.videoHeight);var o=a.props.onCaptured;if(o)C.default.canvasToBlob(n).then(function(e){o(e)});else{a.stopStreamTimer.onOrBefore(500,a.state.stream),a.mediaLogger=new Z.default,a.mediaLogger.logAdd(se,"image",$.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),a.mediaLogger.chatRecipients=t&&t.groupMetadata?t.groupMetadata.participants.length:1;var i=n.toDataURL("image/jpeg");a.setState({state:ue.SENDING,stream:void 0,img:i})}}}},a.onVideoLoaded=function(e){a.setState({state:ue.RECORDING,videoSize:{width:e.videoWidth,height:e.videoHeight}})},a.onRetake=function(){a.setState({state:ue.LOADING,caption:void 0});var e=P.start("camera");Promise.race([e,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then(function(e){e&&((0,S.isSrcObjectInVideoElement)()||(a.url=window.URL.createObjectURL(e)),a.setState({stream:e}))}).catch(ae.Unmount,function(){e.then(function(e){return P.stop(e)}).catch(function(){})}).catch(ae.GUM.NotAllowedError,function(){a.props.onBack(),m.default.openModal(f.default.createElement(oe.default,{title:"guide_desktop_camera_title",desc:"guide_desktop_camera_fail_description",type:oe.default.TYPE.GUIDE_UNBLOCK}))}).catch(ae.GUM.GUMError,function(){a.props.onBack(),m.default.openModal(f.default.createElement(oe.default,{title:"guide_desktop_camera_missing_title",desc:"guide_desktop_camera_missing_description",type:oe.default.TYPE.GUIDE_NONE}))})},a.onSend=function(){var e=a.state,t=e.img,n=e.caption,r=a.props.onSend;if(r)if(t){var o=t,i=a.refCaptionInput&&a.refCaptionInput.refInput,l=[];if(n&&i){var s=i.serialize(n),u=[s[0].trim(),s[1]],c=u[0],f=u[1];c.length&&(n=c,l=f.mentionedJidList||[])}r({getImg:D.default.createFromBase64Jpeg(Y.default.parseDataURL(o).data),caption:n,mentionedJidList:l}),a.mediaLogger.logSend()}else T.default.assert(t,"capture-drawer-no-img")();else T.default.assert(r,"capture-drawer-no-onSend")()},a.onCaptionChange=function(e){a.setState({caption:e})},a.setRefCaptionInput=function(e){a.refCaptionInput=e},r=n,l(a,r)}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.startTimer.onOrBefore(300,this.props.stream)}},{key:"componentWillUnmount",value:function(){this.startTimer.cancel(),this.url&&window.URL.revokeObjectURL(this.url),this.state.stream&&P.stop(this.state.stream),this.mediaLogger&&this.mediaLogger.logCancel()}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0,a=void 0,r=void 0;switch(this.state.state){case ue.ANIMATING:case ue.LOADING:if(r=f.default.createElement(G.default,{stroke:4,size:50}),this.state.state===ue.ANIMATING)break;case ue.RECORDING:var i=(0,g.default)(le.default.video,o({},le.default.videoInactive,this.state.stream&&this.state.state===ue.LOADING)),l=this.state.stream?f.default.createElement(K.default,{autoPlay:!0,ref:(0,z.GetRef)("videoRef",this),onPlay:this.onVideoLoaded,src:this.url?this.url:void 0,srcObject:this.url?void 0:this.state.stream}):null;n=this.state.stream?f.default.createElement("div",{key:"webcam"},f.default.createElement(R.default,{type:this.props.layoutType,size:this.state.videoSize},f.default.createElement("div",{className:i,"data-animage-capture-webcam":!0},l))):null,e=this.state.state===ue.RECORDING?f.default.createElement("div",{className:le.default.btn,key:"btn-capture"},f.default.createElement(U.default,{large:!0,onClick:this.onCapture},f.default.createElement(X.default,{name:"camera-light"}))):null;break;case ue.SENDING:n=f.default.createElement(R.default,{type:this.props.layoutType,size:this.state.videoSize},f.default.createElement("img",{className:le.default.image,"data-animate-capture-snapshot":!0,src:this.state.img})),e=f.default.createElement("div",{className:(0,g.default)(le.default.btn,le.default.btnSend),key:"btn-send"},f.default.createElement(U.default,{large:!0,onClick:this.onSend},f.default.createElement(X.default,{name:"send-light",directional:!0}))),t=f.default.createElement("div",{className:le.default.retakeBtn,onClick:this.onRetake},f.default.createElement("div",{className:le.default.retakeIcon},f.default.createElement(X.default,{name:"refresh-light"})),l10n.t("retake")),a=this.props.chat?f.default.createElement(N.default,{ref:this.setRefCaptionInput,chat:this.props.chat,maxLength:p.default.MAX_CAPTION_LENGTH,multiline:!0,onEnter:this.onSend,onChange:this.onCaptionChange,placeholder:l10n.t("add_a_caption"),showRemaining:!0,spellCheck:!0,supportsEmoji:!0,value:this.state.caption}):null;break;default:T.default.log("captureDrawer:render Unhandled video capture state "+this.state.state)()}var s=this.props.caption?f.default.createElement(L.default,{transitionName:"media-caption",className:le.default.caption},a):null;return f.default.createElement(y.default,{key:"attach-capture-modal",theme:"capture"},f.default.createElement(w.default,{title:l10n.t("take_photo"),type:j.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack},t),f.default.createElement(E.default,{overflow:"hidden"},f.default.createElement("div",{className:le.default.container},r,f.default.createElement("div",{className:le.default.body},f.default.createElement(L.default,{transitionName:"capture",className:le.default.videoContainer},n))),f.default.createElement("div",{className:le.default.footer},s,f.default.createElement(L.default,{transitionName:"pop_delay"},e))))}}]),t}(c.PureComponent);ce.defaultProps={caption:!1},ce.displayName="CaptureDrawer";var fe=(0,te.default)((0,z.hoc)(ce)),de=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.loadNewStream=function(e){a.getComponent().loadNewStream(e)},r=n,l(a,r)}return s(t,e),t}(fe);t.default=de},bhbihjaicd:function(e,t,n){"use strict";var a=n("fdhajffgc"),r=function e(t){var n=t;if(!e.isRecordingSupported())throw"Recording is not supported in this browser";this.audioContext=new window.AudioContext,this.config=n=n||{},this.config.command="encode-init",this.config.bufferLength=n.bufferLength||4096,this.config.monitorGain=n.monitorGain||0,this.config.numberOfChannels=n.numberOfChannels||1,this.config.originalSampleRate=this.audioContext.sampleRate,this.config.encoderSampleRate=n.encoderSampleRate||48e3,this.config.streamPages=n.streamPages||!1,this.config.leaveStreamOpen=n.leaveStreamOpen||!1,this.config.maxBuffersPerPage=n.maxBuffersPerPage||40,this.config.encoderApplication=n.encoderApplication||2049,this.config.encoderFrameSize=n.encoderFrameSize||20,this.config.streamOptions=n.streamOptions||{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}},this.storePage=this._storePage.bind(this),this.streamPage=this._streamPage.bind(this),this.state="inactive",this.eventTarget=document.createDocumentFragment(),this.createAudioNodes()};r.isRecordingSupported=function(){return window.AudioContext&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},r.prototype.addEventListener=function(e,t,n){this.eventTarget.addEventListener(e,t,n)},r.prototype.clearStream=function(){this.stream&&(this.stream.getTracks().forEach(function(e){e.stop()}),delete this.stream)},r.prototype.createAudioNodes=function(){var e=this;this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.scriptProcessorNode.onaudioprocess=function(t){e.encodeBuffers(t.inputBuffer)},this.monitorNode=this.audioContext.createGain(),this.setMonitorGain(this.config.monitorGain),this.config.sampleRate<this.audioContext.sampleRate&&this.createButterworthFilter()},r.prototype.createButterworthFilter=function(){this.filterNode=this.audioContext.createBiquadFilter(),this.filterNode2=this.audioContext.createBiquadFilter(),this.filterNode3=this.audioContext.createBiquadFilter(),this.filterNode.type=this.filterNode2.type=this.filterNode3.type="lowpass";var e=this.config.sampleRate/2;this.filterNode.frequency.value=this.filterNode2.frequency.value=this.filterNode3.frequency.value=e-e/3.5355,this.filterNode.Q.value=.51764,this.filterNode2.Q.value=.70711,this.filterNode3.Q.value=1.93184,this.filterNode.connect(this.filterNode2),this.filterNode2.connect(this.filterNode3),this.filterNode3.connect(this.scriptProcessorNode)},r.prototype.encodeBuffers=function(e){if("recording"===this.state){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);this.encoder.postMessage({command:"encode",buffers:t}),this.duration+=e.duration,this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration}))}},r.prototype.initStream=function(e){if(this.stream)return void this.eventTarget.dispatchEvent(new Event("streamReady"));if(e)return this.stream=e,this.sourceNode=this.audioContext.createMediaStreamSource(e),this.sourceNode.connect(this.filterNode||this.scriptProcessorNode),this.sourceNode.connect(this.monitorNode),void this.eventTarget.dispatchEvent(new Event("streamReady"));var t=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:this.config.streamOptions}).then(function(e){t.stream=e,t.sourceNode=t.audioContext.createMediaStreamSource(e),t.sourceNode.connect(t.filterNode||t.scriptProcessorNode),t.sourceNode.connect(t.monitorNode),t.eventTarget.dispatchEvent(new Event("streamReady"))}).catch(function(e){t.eventTarget.dispatchEvent(new ErrorEvent("streamError",{error:e}))})},r.prototype.pause=function(){"recording"===this.state&&(this.state="paused",this.eventTarget.dispatchEvent(new Event("pause")))},r.prototype.removeEventListener=function(e,t,n){this.eventTarget.removeEventListener(e,t,n)},r.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.eventTarget.dispatchEvent(new Event("resume")))},r.prototype.setMonitorGain=function(e){this.monitorNode.gain.value=e},r.prototype.start=function(){"inactive"===this.state&&this.stream&&(this.encoder=new a,this.config.streamPages?this.encoder.addEventListener("message",this.streamPage):(this.recordedPages=[],this.totalLength=0,this.encoder.addEventListener("message",this.storePage)),this.encodeBuffers=function(){delete this.encodeBuffers},this.duration=0,this.state="recording",this.monitorNode.connect(this.audioContext.destination),this.scriptProcessorNode.connect(this.audioContext.destination),this.eventTarget.dispatchEvent(new Event("start")),this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration})),this.encoder.postMessage(this.config))},r.prototype.stop=function(){"inactive"!==this.state&&(this.state="inactive",this.audioContext.close&&this.audioContext.close(),this.monitorNode.disconnect(),this.scriptProcessorNode.disconnect(),this.config.leaveStreamOpen||this.clearStream(),this.encoder.postMessage({command:"encode-done"}))},r.prototype._storePage=function(e){var t=e.data;if(this.recordedPages.push(t),this.totalLength+=t.length,4&t[5]){this.encoder.removeEventListener("message",this.storePage);for(var n=new Uint8Array(this.totalLength),a=0,r=0;r<this.recordedPages.length;r++)n.set(this.recordedPages[r],a),a+=this.recordedPages[r].length;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([n],{type:"audio/ogg; codecs=opus"})})),this.recordedPages=[],this.eventTarget.dispatchEvent(new Event("stop"))}},r.prototype._streamPage=function(e){var t=e.data;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([t],{type:"audio/ogg; codecs=opus"})})),4&t[5]&&(this.encoder.removeEventListener("message",this.streamPage),this.eventTarget.dispatchEvent(new Event("stop")))},e.exports=r},bhcacchcde:function(e,t){e.exports={muted:"lIVRp",section:"_2eMOq",control:"_3__0E",label:"DiGkU"}},bhcdajjdgi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("dhigahgdjb"),c=a(u),f=n("cicgeajfge"),d=n("beijddaacj"),p=a(d),h=n("dhfbfehaef"),m=a(h),b=n("bbhhbdicgc"),g=a(b),v=n("cbgeijgefb"),y=a(v),_=n("dgjddffcfg"),E=a(_),j=n("bdebgadbea"),w=a(j),O=n("bfjajhbdf"),C=a(O),S=n("gbfffciea"),P=a(S),M=n("ddhijeejag"),T={SEC_CONTACTS:"SEC_CONTACTS"},k={ROW_CONTACTS:"ROW_CONTACTS"},N=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setList=function(e){return a.list=e},a.state={filteredData:a.calculateFilteredData(a.props.searchText)},a.renderItem=function(e){switch(e.type){case T.SEC_CONTACTS:return M.createElement(y.default,{header:l10n.t("web_contacts")});case k.ROW_CONTACTS:var t=e.data,n=a.props,r=n.isDisabled,o=n.customSecondaryText;return M.createElement(p.default,{key:t.id.toString(),customSecondaryText:o&&o(t.id),chat:t,active:a.props.activeChat,selections:a.props.selectedChats,disabled:r&&r(t.id),checked:!!a.props.isSelected&&a.props.isSelected(t.id),onSelect:a.handleSelect,allowBlockedContacts:a.props.allowBlockedContacts});default:throw new b.UnknownDataError(e)}},a.handleSelect=function(e,t,n){var r=a.props,o=r.selectedChats,i=r.maxContacts,l=r.activeChat,s=r.onSelectionChanged;if(t&&"number"==typeof i&&o.getSelected().length>=i)return void P.default.openToast(M.createElement(C.default,{id:(0,O.genId)(),msg:l10n.t("multi_vcard_send_limit",{count:i,_plural:i})}));o.setVal(e,t,n),l.setVal(e,n),s&&s(e,t)},a.onFocusList=function(e){e.preventDefault(),e.stopPropagation(),(0,h.shouldIndicateFocus)(),a.props.activeChat.setFirst(!0),a.list&&a.list.scrollIntoViewIfNeeded(a.props.activeChat.index)},a.onNext=function(e){e.preventDefault(),e.stopPropagation(),a.props.activeChat.setNext(!0),a.list&&a.list.scrollIntoViewIfNeeded(a.props.activeChat.index)},a.onPrev=function(e){e.stopPropagation(),e.preventDefault(),a.props.activeChat.prev()>-1?(a.props.activeChat.setPrev(!0),a.list&&a.list.scrollIntoViewIfNeeded(a.props.activeChat.index)):a.props.onLeaveList&&(a.props.onLeaveList(e),a.clearActive())},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;this.props.activeChat.init(this.flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(function(t){return e.props.selectedChats.setVal(t,!0)})}},{key:"componentWillReceiveProps",value:function(e){if(e.searchText!==this.props.searchText){var t=this.calculateFilteredData(e.searchText);this.setState({filteredData:t}),this.props.activeChat.init(this.flattenData(t))}}},{key:"calculateFilteredData",value:function(e){return{contacts:this.calculateFilteredContacts(e)}}},{key:"calculateFilteredContacts",value:function(e){var t=e,n=this.props,a=n.filter,r=n.useAllContacts,o=r?c.default.toArray():c.default.getFilteredContacts();if(a&&(o=o.filter(function(e){return a(e)})),!t)return o;t=l10n.accentFold(t);var i=E.default.numberSearch(t);return o.filter(function(e){return e.searchMatch(t,i)})}},{key:"flattenData",value:function(e){return e.contacts}},{key:"isEmpty",value:function(){return!this.state.filteredData.contacts.length}},{key:"getData",value:function(){var e=[],t=this.state.filteredData.contacts;return t.length&&(e.push({key:T.SEC_CONTACTS,type:T.SEC_CONTACTS}),e.push.apply(e,r(t.map(function(e){return{key:e.id.toString(),type:k.ROW_CONTACTS,data:e}})))),e}},{key:"getList",value:function(){return this.isEmpty()?null:M.createElement(g.default,{ref:this.setList,flatListController:this.props.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})}},{key:"toggleFirst",value:function(e){if(this.state.filteredData.contacts.length){var t=this.state.filteredData.contacts[0],n=!this.props.selectedChats.isSelected(t);this.handleSelect(t,n,e)}}},{key:"clearActive",value:function(){this.props.activeChat.unset()}},{key:"render",value:function(){var e=this.getList();e||(e=this.props.searchText?M.createElement(f.Search,null):M.createElement(f.ListChats,null));var t={down:this.onNext,up:this.onPrev};return M.createElement(m.default,{handlers:t,className:w.default.column,onFocus:this.onFocusList},e)}}]),t}(M.Component);N.displayName="ContactsSelectModal",t.default=N},bhcdbgbbad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("dbdfbgehgj"),p=a(d),h=n("bjigbaghc"),m=a(h),b=n("dcjdgceiej"),g=a(b),v=n("bfejacaeaj"),y=a(v),_=n("gbfffciea"),E=a(_),j=n("fifhbjiec"),w=a(j),O=n("chjdbchg"),C=a(O),S=n("djhbegbdaf"),P=a(S),M=n("bdiiahhjbe"),T=a(M),k=n("bfdcadbbif"),N=a(k),I=n("ihfccfgdf"),R=a(I),A=n("ejbdjaifi"),D=n("djbfhebjhe"),x=a(D),L=n("jccfhaecf"),F=a(L),U=n("cffhcdjiff"),B=a(U),G=n("jegbhjbde"),V=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"stopEvent",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"openInfoDrawer",value:function(){var e=this;return function(t){e.stopEvent(t),E.default.chatInfoDrawer(e.props.msg.chat)}}},{key:"openGroupInviteLinkDrawer",value:function(){var e=this;return function(t){e.stopEvent(t);var n=e.props.msg.chat;E.default.openDrawerRight(u.createElement(C.default,{chat:n,groupMetadata:n.groupMetadata,onBack:function(){return E.default.closeDrawerRight()}}),"slide-left",e.context.uim)}}},{key:"openExpandedGroupDesc",value:function(){var e=this;return function(t){e.stopEvent(t);var n=e.props.msg.chat;E.default.chatInfoDrawer(n,!0)}}},{key:"openChat",value:function(e){var t=this;return function(n){t.stopEvent(n),p.default.find(e).then(function(e){E.default.openChatFromUnread(e).then(function(t){t&&E.default.focusChatTextInput(e)})})}}},{key:"getFormattedText",value:function(e){return u.createElement(w.default,{direction:"auto",text:e})}},{key:"isMe",value:function(e){return F.default.equals(e,m.default.me)}},{key:"handleGroupNotification",value:function(e,t,n,a){var r={},o=void 0,i=void 0,l=t?(0,G.getFormattedName)(t,!this.props.clickable):null;switch(e){case"add":this.isMe(t)?o="web_group_participant_added_you":(o="web_group_participant_added_name",r.name=l);break;case"remove":this.isMe(t)?o="web_group_participant_removed_you":(o="web_group_participant_removed_name",r.name=l);break;case"leave":this.isMe(t)?o="web_group_participant_left_you":(o="web_group_participant_left_name",r.name=l);break;case"picture":"remove"===a?this.isMe(t)?o="web_photo_removed_by_you":(o="web_photo_removed_by",r.name=l):this.isMe(t)?o="web_photo_changed_by_you":(o="web_photo_changed_by",r.name=l),i=this.openInfoDrawer();break;case"subject":this.isMe(t)?o="web_group_subject_changed_by_you":(o="web_group_subject_changed_by_name",r.name=l),r.subject=this.getFormattedText(a),i=this.openInfoDrawer();break;case"modify":var s=(0,x.default)(a);this.isMe(t)?(o="web_group_participant_changed_number_unknown_name",r.new_number=s):o="web_group_participant_changed_number",r.name=l;break;default:T.default.log("wa:groupNotification:unknown message subtype: "+e)()}return{l10nId:o,params:r,plural:void 0,onClick:i,icon:void 0}}},{key:"handleGP2",value:function(e,t,n,a,r){var o={},i=void 0,l=void 0,s=void 0,c=void 0,d=void 0,p=t?(0,G.getFormattedName)(t,!this.props.clickable):null,h=r?f.default.head(r):void 0,m=h?(0,G.getFormattedName)(h,!this.props.clickable):null,b=(0,G.getFormattedNames)(r,!this.props.clickable);switch(e){case"add":t?this.isMe(t)?(i="web_group_participants_you_added_names",o.participants=b):(this.isMe(h)?i="web_group_participants_name_added_you":(i="web_group_participants_name_added_names",o.participants=b),o.name=p):this.isMe(h)?i="web_group_participant_added_you":(i="web_group_participant_added_name",o.name=m);break;case"remove":t?F.default.equals(t,h)?i="web_group_participant_removed_you":this.isMe(t)?(i="web_group_participants_you_removed_names",o.participants=b):(this.isMe(h)?i="web_group_participants_name_removed_you":(i="web_group_participants_name_removed_names",o.participants=b),o.name=p):this.isMe(h)?i="web_group_participant_removed_you":(i="web_group_participant_removed_name",o.name=m);break;case"leave":this.isMe(h)?i="web_group_participant_left_you":(i="web_group_participant_left_name",o.name=b);break;case"picture":"remove"===a?this.isMe(t)?i="web_photo_removed_by_you":(i="web_photo_removed_by",o.name=p):this.isMe(t)?i="web_photo_changed_by_you":(i="web_photo_changed_by",o.name=p),s=this.openInfoDrawer();break;case"subject":this.isMe(t)?i="web_group_subject_changed_by_you":(i="web_group_subject_changed_by_name",o.name=p),o.subject=this.getFormattedText(a),s=this.openInfoDrawer();break;case"modify":var g=(0,x.default)(t),v=(0,x.default)(h);g===n?(i="web_group_participant_changed_number_unknown_name",o.new_number=v):i="web_group_participant_changed_number",o.name=n;break;case"create":this.isMe(t)?a?(i="web_group_created_by_you",o.subject=this.getFormattedText(a)):i="web_group_created_by_you_no_subject":(a?(i="web_group_created_by_name",o.subject=this.getFormattedText(a)):i="web_group_created_by_name_no_subject",o.name=p);break;case"delete":this.isMe(t)?i="web_group_ended_you":(i="web_group_ended_name",o.name=p);break;case"promote":c=r.length,1===c&&this.isMe(h)?i="web_group_participant_promoted_you":(i="web_group_participant_promoted_names",o.count=c,o.participants=b,l=c);break;case"demote":c=r.length,1===c&&this.isMe(h)?i="web_group_participant_demoted_you":(i="web_group_participant_demoted_names",o.count=c,o.participants=b,l=c);break;case"invite":this.isMe(h)?i="web_group_participant_join_via_invite_you":(i="web_group_participant_join_via_invite_name",o.name=m);break;case"revoke_invite":this.isMe(t)?i="web_group_invite_revoked_you":(i="web_group_invite_revoked_name",o.name=p),s=this.openGroupInviteLinkDrawer();break;case"description":this.isMe(t)?i="web_group_description_change_you":(i="web_group_description_change_name",o.name=p),s=this.openExpandedGroupDesc();break;case"announce":d=u.createElement("div",{className:B.default.icon},u.createElement(N.default,{name:"megaphone"})),"on"===a?this.isMe(t)?i="web_group_announcement_on_you":(i="web_group_announcement_on_name",o.name=p):this.isMe(t)?i="web_group_announcement_off_you":(i="web_group_announcement_off_name",o.name=p);break;case"restrict":"on"===a?this.isMe(t)?i="web_group_restrict_on_you":(i="web_group_restrict_on_name",o.name=p):this.isMe(t)?i="web_group_restrict_off_you":(i="web_group_restrict_off_name",o.name=p);break;case"no_frequently_forwarded":"on"===a?this.isMe(t)?i="web_group_no_frequently_forwarded_on_you":(i="web_group_no_frequently_forwarded_on_name",o.name=p):this.isMe(t)?i="web_group_no_frequently_forwarded_off_you":(i="web_group_no_frequently_forwarded_off_name",o.name=p);break;case"announce_msg_bounce":i="web_group_announce_mode_msg_bounce";break;case"v4_add_invite_sent":i="v4_add_invite_sent_system_msg",o.participants=b,o.count=r.length;break;case"v4_add_invite_join":i="v4_add_invite_join_system_msg",o.participants=b,o.count=r.length;break;default:T.default.log("wa:groupNotification:unknown message subtype: "+e)()}return{l10nId:i,params:o,plural:l,onClick:s,icon:d}}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.clickable,a=t.type,r=t.subtype,o=t.author,i=t.body,l=t.recipients,s=t.displayName();if("group_notification"!==a&&"gp2"!==a)return null;var c="gp2"===a?this.handleGP2(r,o,s,i,l):this.handleGroupNotification(r,o,s,i),f=c.l10nId,d=c.params,p=c.plural,h=c.onClick,m=c.icon;return f?u.createElement("span",{role:h?"button":void 0,className:B.default.notification},m,u.createElement(P.default,{id:f,params:d,plural:p,wrapInHiddenToken:!0,onClick:n?h:void 0})):null}}]),t}(u.PureComponent);V.CONCERNS={msg:["type","subtype","author","body","recipients","chat"]},V.contextTypes={uim:y.default.instanceOf(g.default)},V.displayName="GroupNotification",t.default=(0,R.default)((0,A.hoc)(V),V.CONCERNS)},bhdgigicfd:function(e,t){e.exports={muted:"_3BYuk",container:"_3b8_6",fullscreen:"_2V_gW",videoFloaterMedia:"Rxe5u",videoTag:"_2vGFe",mediaStageWrapper:"_2-Jil",preview:"JZ2FH",errorLink:"_2MfdM",errorLinkChevron:"ooG8r"}},bhdigcjfbj:function(e,t){e.exports={muted:"_19rAO",label:"lLIkM",input:"_19y4J"}},bhedcifgbg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ccdhdfebfj"),f=a(c),d=n("bcbahjefec"),p=a(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.push(u.createElement(f.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}]),t}(p.default);t.default=h},bheebijggd:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("cjedbjfabb"),l=i.EMOJI,s=l.CATEGORIES,u=l.ORDERED_CATEGORY_IDS,c=o({RECENT:"RECENT"},s,{SEARCH_RESULT:"SEARCH_RESULT"});t.default=c;var f=(r={},a(r,c.RECENT,c.RECENT),a(r,c.SMILEYS_PEOPLE,c.SMILEYS_PEOPLE),a(r,c.ANIMALS_NATURE,c.ANIMALS_NATURE),a(r,c.FOOD_DRINK,c.FOOD_DRINK),a(r,c.ACTIVITY,c.ACTIVITY),a(r,c.TRAVEL_PLACES,c.TRAVEL_PLACES),a(r,c.OBJECTS,c.OBJECTS),a(r,c.SYMBOLS,c.SYMBOLS),a(r,c.FLAGS,c.FLAGS),r);t.ORDERED_TAB_SECTION_IDS=[f.RECENT].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(u))},bheehfahbe:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("hbhijdici"),u=a(s),c=n("effbcehec"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("biddiiafgd"),m=a(h),b=n("dhigahgdjb"),g=a(b),v=n("chdfbgffgh"),y=a(v),_=n("ceffhbhahb"),E=a(_),j=n("djcchigfih"),w=a(j),O=n("djbhiedbef"),C=a(O),S=n("dajffajabh"),P=a(S),M=n("cajijabhgb"),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(M),k=n("ddajbaceej"),N=a(k),I=n("dgjddffcfg"),R=a(I),A=n("dhfbfehaef"),D=a(A),x=n("fffdgbfji"),L=a(x),F=n("dfigcajgai"),U=a(F),B=n("bjbedjfe"),G=a(B),V=n("ejbdjaifi"),W=n("ddhijeejag"),H=a(W),Y=n("didfdhbecg"),q=a(Y),K=n("cdjhjdcbeg"),z=a(K),Q=n("becfabjeeg"),X=a(Q),J=n("bfjajhbdf"),Z=a(J),$=n("eagfdbhhhh"),ee=n("bfdcadbbif"),te=a(ee),ne=n("cacgcabfhd"),ae=a(ne),re=n("cicgeajfge"),oe=n("bfgbdiffgd"),ie=a(oe),le=n("cicjcfabii"),se=a(le),ue=n("bggeiidigb"),ce=a(ue),fe=n("dfdebdgdei"),de=(0,J.genId)("max_participant_toast"),pe=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={searchText:"",participants:a.props.participants,shouldFocus:!0,isBusy:!1},a.flatListController=new ce.default,a.setRefParticipantList=function(e){a.refParticipantList=e},a.setRefList=function(e){a.refList=e},a.onKeyDown=function(e){if("Backspace"===e.key&&!a.state.searchText&&!u.default.isEmpty(a.state.participants)){e.preventDefault();var t=a.state.participants;a.setState({participants:t.slice(0,t.length-1),shouldFocus:!0})}},a.onInput=function(e){a.setState({searchText:e.target.value})},a.onReset=function(){a.setState({searchText:"",shouldFocus:!0})},a.focus=function(){N.default.focus(a.refInput)},a.onBack=function(){a.props.onBack()},a.onContinue=function(){a.props.onContinue(a.state.participants)},a.onDelete=function(e,t){var n=u.default.filter(a.state.participants,function(e){return!e.id.equals(t.id)});a.setState({participants:n,shouldFocus:!n.length})},a.onContactClick=function(e,t){u.default.find(a.state.participants,function(e){return e.id.equals(t.id)})?a.removeContact(t):t.isBlocked()?p.default.openModal(H.default.createElement(m.default,{title:L.default.t("add_blocked_title"),onOK:function(){a.unblockAndAddContact(t),p.default.closeModal()},onCancel:function(){return p.default.closeModal()},okText:L.default.t("web_yes"),cancelText:L.default.t("web_no")},L.default.t("add_blocked_contact_to_group"))):a.addContact(t)},a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),(0,A.shouldIndicateFocus)(),a.refList&&a.refList.focusFirst())},a.onFocusParticipants=function(e){e.repeat||a.refInput&&0!==a.refInput.selectionStart||a.refParticipantList&&(e.preventDefault(),e.stopPropagation(),D.default.flashFocus=0,a.refParticipantList&&a.refParticipantList.focusLast())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=u.default.head(a.getFilteredContacts());t&&a.onContactClick(e,t)},a.onFocusSearch=function(e){(0,A.shouldIndicateFocus)(),N.default.focus(a.refInput)},a.setRefInput=function(e){a.refInput=e},a.setRefSizer=function(e){a.refSizer=e},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"componentDidUpdate",value:function(){this.adjustInput()}},{key:"getFilteredContacts",value:function(){var e=u.default.difference(g.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=L.default.accentFold(t);var n=R.default.numberSearch(t);return e.filter(function(e){return e.searchMatch(t,n)})}},{key:"adjustInput",value:function(){if(this.refInput){var e=this.refInput.offsetParent.offsetWidth-10,t=this.refSizer.offsetWidth,n=t>e?e:t;this.refInput.style.width=n+"px";var a=void 0;a=e-this.refInput.offsetLeft-n>0?e-this.refInput.offsetLeft:e,this.refInput.style.width=a+"px",this.state.shouldFocus&&this.focus()}}},{key:"addContact",value:function(e){var t=this.state.participants;if(t.length>=ie.default.maxParticipants){var n=L.default.t("action_group_create_failed_participant",{max:ie.default.maxParticipants});p.default.openToast(H.default.createElement(Z.default,{msg:n,id:de}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}},{key:"removeContact",value:function(e){var t=this.state.participants;this.setState({participants:u.default.filter(t,function(t){return!e.id.equals(t.id)}),shouldFocus:!0})}},{key:"unblockAndAddContact",value:function(e){var t=this;this.setState({isBusy:!0}),(0,fe.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then(function(){t.addContact(e),t.setState({isBusy:!1})}).catch(T.Unmount,function(){}).catch(function(e){t.setState({isBusy:!1})})}},{key:"render",value:function(){var e=void 0;this.state.isBusy?e=H.default.createElement("div",{className:ae.default.spinner},H.default.createElement(X.default,{stroke:6,size:24})):u.default.size(this.state.participants)&&(e=H.default.createElement(z.default,{a8nText:"group-participants-btn",onClick:this.onContinue},H.default.createElement(te.default,{name:"forward-light",directional:!0})));var t=u.default.size(this.state.participants)?" ":L.default.t("group_participant_hint"),n={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:u.default.size(this.state.participants)?this.onContinue:function(){},up:this.onFocusParticipants};n[L.default.LR("left","right")]=this.onFocusParticipants;var a=this.getFilteredContacts(),r=void 0;return r=0===a.length?H.default.createElement(re.SearchContacts,null):H.default.createElement(y.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:a,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),H.default.createElement(w.default,null,H.default.createElement(P.default,{title:L.default.t("add_group_participants_title"),type:S.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),H.default.createElement(C.default,null,H.default.createElement("div",{className:ae.default.search},H.default.createElement("div",null,H.default.createElement(D.default,{handlers:n,className:ae.default.inputLine},H.default.createElement("div",{"data-list-scroll-container":!0},H.default.createElement(U.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),H.default.createElement("input",{"data-a8n":f.default.key("inputarea"),className:(0,E.default)(ae.default.inputarea,$.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),H.default.createElement("span",{className:ae.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),H.default.createElement(se.default,{className:ae.default.contacts,flatListControllers:[this.flatListController]},r),H.default.createElement(q.default,{transitionName:"btn",className:ae.default.drawerSection},e)))}}]),t}(W.Component);pe.defaultProps={participants:[]},pe.displayName="NewGroupParticipantsDrawer",t.default=(0,G.default)((0,V.hocWithDefaults)(pe))},bhfcdbibdf:function(e,t,n){"use strict";function a(e){e.parentNode&&e.parentNode.removeChild(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},bhfdfhefca:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.children;return f.createElement("div",{className:E.default.menu},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBarItem=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.MenuBar=s;var c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("didfdhbecg"),p=a(d),h=n("ceffhbhahb"),m=a(h),b=n("effbcehec"),g=a(b),v=n("caffijjhc"),y=a(v),_=n("daddjfeaa"),E=a(_);s.displayName="MenuBar";var j=t.MenuBarItem=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=function(){n.setState({active:!1})},n.handleClick=function(e){n.props.onClick&&n.props.onClick(e),e.isDefaultPrevented()||(e.preventDefault(),n.state.active||n.onOpen())},n.state={active:!1},n}return l(t,e),u(t,[{key:"onOpen",value:function(){this.setState({active:!0})}},{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.icon,o=t.transitionName,i=t.title,l=t.selected,s=t.disabled,u=this.state.active,c=n&&u?f.createElement(y.default,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,requestDismiss:this.onClose},f.Children.only(n)):null,d=(0,m.default)(E.default.item,(e={},r(e,E.default.selected,l),r(e,E.default.active,u),r(e,E.default.disabled,s),e));return f.createElement("div",{"data-a8n":g.default.key(this.props.a8nText),className:d},f.createElement("div",{role:"button",onMouseDown:this.handleClick,title:i},a),f.createElement(p.default,{transitionName:o},c))}}]),t}(f.PureComponent);j.defaultProps={transitionName:"dropdown",disabled:!1},j.displayName="MenuBarItem"},bhfeffjbfg:function(e,t){e.exports={muted:"_3uCkJ",searchContainer:"_2wmGC",section:"SI-QE",blank:"XWe4-",row:"_1Yyly",noResults:"_2Vtro"}},bhfgbcfeae:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("dbcedfihd"),d=r(f),p=n("cbidhfhhbb"),h=a(p),m=n("fffdgbfji"),b=a(m),g=n("eadfaddcj"),v=a(g),y=n("bjgiedaj"),_=a(y),E=n("fijafegab"),j=a(E),w=n("fifhbjiec"),O=a(w),C=n("cfaiaibca"),S=a(C),P=n("ihfccfgdf"),M=a(P),T=n("bjigbaghc"),k=a(T),N=n("ejbdjaifi"),I=n("bgjddhffji"),R=n("bheafeifce"),A=n("gaifbabbj"),D=n("bidfjbaebi"),x=n("eedjbihej"),L=a(x),F=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onReadMore=function(){n.setState({isDescExpanded:!0})},n.onClickUrl=function(e,t){e.stopPropagation();var a=n.props,r=a.product,o=a.sessionId;(0,I.logDetailLinkClick)((0,R.unproxy)(r),o);var i=t&&d.findLink(t);i&&(0,D.openExternalLink)(i.url)},n.state={isDescExpanded:!1},n}return l(t,e),s(t,[{key:"renderMessageBusinessButton",value:function(){var e=this.props,t=e.onSendChat,n=e.product,a=e.deletedProduct;if(!n.fetchedFromServer||a)return null;var r=b.default.t("product_message_business");return c.createElement("div",{className:h.default.buttonContainer,title:r},c.createElement(S.default,{onClick:t,type:"primary"},r))}},{key:"renderLink",value:function(e){var t=this,n=this.props,a=n.product,r=n.deletedProduct;if(!a.fetchedFromServer||!e||r)return null;var o=A.Configuration.TrustedGroupDesc({links:d.findLinks(e)});return c.createElement("div",{className:h.default.descBlock},c.createElement(O.default,{selectable:!0,formatters:o,text:e,onClick:function(n){return t.onClickUrl(n,e)}}))}},{key:"renderDesc",value:function(){var e=this.props.product,t=this.state.isDescExpanded;if(!e.description&&!e.url&&!e.retailerId)return null;var n=!(!e||!e.description)&&e.description.length>v.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,a=void 0;return e.description&&(a=c.createElement("div",{className:h.default.descBlock},c.createElement(O.default,{selectable:!0,text:e.description,textLimit:t?1/0:v.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),n&&!t?c.createElement("span",{className:h.default.more,role:"button",onClick:this.onReadMore}," "+b.default.t("read_more")):null)),c.createElement(L.default,{theme:"plain",block:!0,className:h.default.description},a,this.renderLink(e.url),e.retailerId?c.createElement("div",{className:h.default.descBlock},c.createElement(O.default,{text:e.retailerId,selectable:!0,direction:"inherit"})):null)}},{key:"render",value:function(){var e=this.props.product,t=e.catalogWid,n=t.equals(k.default.me),a=n?null:this.renderMessageBusinessButton();return c.createElement(j.default,{theme:"padding-product",animation:!1},c.createElement(L.default,{theme:"title",block:!0,className:h.default.name},c.createElement(O.default,{text:e.name,selectable:!0})),e.currency&&e.priceAmount1000?c.createElement(L.default,{block:!0,className:h.default.price,color:"dark",theme:"plain"},c.createElement(O.default,{text:_.default.format(e.currency,e.priceAmount1000),selectable:!0,direction:"inherit"})):null,this.renderDesc(),a)}}]),t}(c.Component);F.CONCERNS={product:["name","url","description","currency","priceAmount1000","fetchedFromServer","retailerId","catalogWid"]},F.displayName="ProductDetailsInfo",t.default=(0,M.default)((0,N.hoc)(F),F.CONCERNS)},bhfgibecci:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("bjebjijbfc"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("bjigbaghc"),g=a(b),v=n("hdccjfbbg"),y=a(v),_=n("dhigahgdjb"),E=a(_),j=n("dhhfaeacef"),w=a(j),O=n("djcchigfih"),C=a(O),S=n("djbhiedbef"),P=a(S),M=n("dajffajabh"),T=a(M),k=n("cabhjigfgc"),N=a(k),I=n("fijafegab"),R=a(I),A=n("ccaaiecfib"),D=a(A),x=n("bggeiidigb"),L=a(x),F=n("bbhhbdicgc"),U=a(F),B=n("eceadcicaf"),G=a(B),V=n("bfajcggcdf"),W=a(V),H=n("ihfccfgdf"),Y=a(H),q=n("ejbdjaifi"),K=n("bheafeifce"),z=n("dcjdgceiej"),Q=a(z),X=n("jccfhaecf"),J=a(X),Z=n("bfdcadbbif"),$=a(Z),ee=n("eedjbihej"),te=a(ee),ne=n("cbjgbhbhcj"),ae=a(ne),re=n("bfejacaeaj"),oe=a(re),ie=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.flatListController=new L.default,a.onParticipantClick=function(e,t){J.default.equals(g.default.me,t.id)||f.default.find(t.id).then(function(e){m.default.openChatFromUnread(e).then(function(t){t&&m.default.focusChatTextInput(e)})})},a.onClose=function(){a.props.onClose?a.props.onClose():a.context.uim.uie.requestDismiss()},a.onDelete=function(){m.default.deleteOrExitChat((0,K.unproxy)(a.props.chat))},a.renderItem=function(e){var t=e.participant,n=E.default.gadd(t.id);return u.createElement(y.default,{contact:n,theme:"drawer-list",admin:!!t.isAdmin,onClick:a.onParticipantClick,key:t.id.toString(),waitIdle:!0})},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.chat.groupMetadata;this.props.listeners.add(e.participants,"add remove sort reset")}},{key:"getData",value:function(){return this.props.chat.groupMetadata.participants.map(function(e){return{key:e.id.toString(),participant:e}})}},{key:"render",value:function(){var e=this.props.chat,t=null;if(this.props.onMediaGallery){var n=u.createElement($.default,{name:"chevron-right-alt",directional:!0}),a=D.default.supportsFeature(D.default.F.LINK_DOC_GALLERY)?l10n.t("media_links_docs"):l10n.t("media");t=u.createElement(R.default,{title:a,titleOnClick:this.props.onMediaGallery||function(){},subtitle:n,theme:"padding"},u.createElement(W.default,{chat:(0,K.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var r=this.props.chat.groupMetadata.participants,o=u.createElement(te.default,{theme:"section-title"},l10n.n(r.length)),i=r.length?u.createElement(R.default,{title:l10n.t("web_recipients_title"),subtitle:o},u.createElement(U.default,{flatListController:this.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})):null,l=u.createElement(R.default,null,u.createElement(N.default,{a8nText:"li-delete-broadcast",icon:u.createElement($.default,{name:"delete-danger"}),color:"danger",theme:"list-aligned",onClick:this.onDelete},l10n.t("web_delete_list"))),s=void 0;e.groupMetadata.creation?(s=p.default.timeStr(e.groupMetadata.creation),s=u.createElement(te.default,{theme:"small",block:!0},l10n.t("web_group_creation_time",{when:s}))):s=null;var c=null;return u.createElement(C.default,{key:"contact-info-modal"},u.createElement(T.default,{type:M.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose},u.createElement(te.default,{theme:"title",block:!0},l10n.t("broadcast_list_info")),s),u.createElement(P.default,{flatListControllers:[this.flatListController]},u.createElement("div",{className:ae.default.body},u.createElement("div",{className:ae.default.photo},u.createElement(w.default,{id:e.id,size:w.default.Size.LARGE})),t,c,i,l)))}}]),t}(u.Component);ie.contextTypes={uim:oe.default.instanceOf(Q.default)},ie.CONCERNS={chat:["id","groupMetadata"]},ie.displayName="BroadcastInfoDrawer",t.default=(0,G.default)((0,Y.default)((0,q.hoc)(ie),ie.CONCERNS))},bhghbagiah:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("eceadcicaf"),u=a(s),c=n("ejbdjaifi"),f=n("hbhijdici"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("iibcehaia"),b=a(m),g=n("becfabjeeg"),v=a(g),y=n("cicgeajfge"),_=n("dgihdjihd"),E=a(_),j=n("ddhijeejag"),w=n("eadfaddcj"),O=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onScroll=function(e){a.handleScroll(e.target)},a.handleScroll=d.default.throttle(function(e){var t=a.props.docMsgs;t.hasDocBefore&&e.scrollTop+w.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a.queryDocs(t.head())},100),a.onClickMsg=function(e,t){a.props.selectable&&void 0!==t?a.props.onMessageSelect(e,t):h.default.openChatAt(e.chat,e.chat.getSearchContext(e))},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.docMsgs.hasDocBefore&&this.queryDocs()}},{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.docMsgs,"add remove reset"),this.props.listeners.add(this.props.docMsgs,"query_doc_before")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryDocs",value:function(e){var t=this,n=this.props.docMsgs;n.hasDocBefore&&this.props.listeners.uiIdle(function(){n.queryDocs(t.props.chat,e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.docMsgs,a=t.selectedMessages,r=n.map(function(t){return j.createElement(b.default,{key:t.id.toString(),msg:t,displayType:w.DISP_TYPE.GALLERY,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,onClickMsg:e.onClickMsg})});if(r.reverse(),n.queryDocBefore){if(0===r.length)return j.createElement(y.Loading,null);r.push(j.createElement("div",{className:E.default.spinner,key:"spinner"},j.createElement(v.default,{stroke:6,size:24})))}return 0!==n.length||n.queryDocBefore||n.hasDocBefore?j.createElement("div",{onScroll:this.onScroll,className:E.default.docGallery},r):j.createElement(y.DocMsgs,null)}}]),t}(j.Component);O.displayName="DocGallery",e.exports=(0,u.default)((0,c.hoc)(O))},bhgjdccfde:function(e,t){e.exports={muted:"SLy0F",tile:"fzCXy",backgroundColor:"_3GHFH"}},bhhdeihhhf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOptions=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("bgddggdhc"),h=n("dhfbfehaef"),m=a(h),b=n("effbcehec"),g=a(b),v=n("ceffhbhahb"),y=a(v),_=n("dcjdgceiej"),E=a(_),j=n("ddchejfidi"),w=a(j),O=n("chgaccicf"),C=a(O),S=n("bfejacaeaj"),P=a(S),M=n("hjbbdjjdf"),T=t.ThemeOptions=(0,C.default)({COMPACT:null}),k=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hover:!1,focus:!1},a.onMouseEnter=function(){a.setState({hover:!0})},a.onMouseLeave=function(){a.setState({hover:!1})},a.onFocus=function(){a.setState({focus:!0})},a.onBlur=function(){a.setState({focus:!1})},a.onClick=function(e){a.onAction(e)},a.onEnter=function(e){e.repeat||a.onAction(e)},a.onAction=function(e){var t=a.props.action;if(t){if(!(!1===t(e))){var n=a.context.uim;n&&n.uie.requestDismiss()}}},r=n,i(a,r)}return l(t,e),c(t,[{key:"triggerInput",value:function(){if(this.filePicker){(0,p.forbiddenAssertDOMNode)(this.filePicker).click()}}},{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.tooltip,o=t.type,i=t.disabled,l=void 0!==i&&i,c=t.theme,f=this.state,p=f.hover,h=f.focus,b=(p||h)&&a?a:null,v=(0,M.isString)(n)?d.createElement("div",{className:(0,y.default)(w.default.ellipsify,w.default.action,r({},w.default.compact,c===T.COMPACT)),role:"button",title:n},n):n,_={enter:this.onEnter},E=(0,y.default)(w.default.item,w.default.shortcut,(e={},r(e,w.default.hover,p||h),r(e,w.default.text,"text"===o),r(e,w.default.emoji,"emoji"===o),r(e,w.default.icon,"icon"===o),r(e,w.default.disabled,l),e)),j=l?{}:{handlers:_,onContextMenu:s,onMouseDown:s,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur};return d.createElement(m.default,u({component:"li","data-a8n":g.default.key(this.props.a8n),className:E,"data-animate-dropdown-item":!0},j),v,b)}}]),t}(d.PureComponent);k.defaultProps={type:"text"},k.contextTypes={uim:P.default.instanceOf(E.default)},k.displayName="DropdownItem",t.default=k},bhhgagadei:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("ddjfcdfihc"),i=n("dfeigdcjhi"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(){a(this,e),document.addEventListener("keydown",function(e){var t=(0,o.getAction)(e);t&&(0,l.default)(t)})}return r(e,[{key:"trigger",value:function(e){}},{key:"menuBatchRenderWith",value:function(e){}}]),e}();e.exports=new s},bhibhdeccd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=f[e],n=void 0;return t&&(n=i.default.skinToneEmojis[t]&&c.default.getVariant(t)),n||t}Object.defineProperty(t,"__esModule",{value:!0}),t.backwardsEmojiTextsTrie=t.emojiTexts=void 0,t.default=r;var o=n("djegeegcbf"),i=a(o),l=n("cjdfbfihbe"),s=a(l),u=n("dfbhcehadj"),c=a(u),f={"(y)":"👍","(Y)":"👍","(n)":"👎","(N)":"👎",":-)":"🙂",":-(":"🙁",":-p":"😛",":-P":"😛",":-|":"😐",":-\\":"😕",":-D":"😀",":-*":"😘",":-o":"😮","<3":"❤️","^_^":"😁",">_<":"😆",";-)":"😉"},d=t.emojiTexts=Object.keys(f);t.backwardsEmojiTextsTrie=s.default.fromBackwardsStrings(d)},bhifaggjcb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("dhhbgegf"),c=a(u),f=function(e){var t=e.children,n=e.side,a=e.ellipsify,o=e.onClick,l=(0,s.default)(r({},c.default.clickable,o)),u=(0,s.default)(c.default.main,r({},c.default.mainEllipsify,a)),f=n?i.createElement("div",{className:c.default.side},n):null;return i.createElement("div",{className:l,onClick:o},i.createElement("div",{className:c.default.body},i.createElement("div",{className:u},t),f))};f.displayName="Row",t.default=f},biadgfadhh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PREVIEW_HEIGHT=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("hbhijdici"),h=a(p),m=n("jhcabjcaf"),b=a(m),g=n("cieaeggjg"),v=a(g),y=n("cehjjfagii"),_=a(y),E=n("dfeecdfijg"),j=a(E),w=n("igiffibee"),O=n("edbaidcaf"),C=a(O),S=n("ihfccfgdf"),P=a(S),M=n("ejbdjaifi"),T=n("dbbbgjbbgf"),k=a(T),N=n("cbjacjjfgc"),I=a(N),R=n("fifhbjiec"),A=a(R),D=n("bfjbdahdag"),x=a(D),L=n("cjeajhjegi"),F=a(L),U=n("eagfdbhhhh"),B=n("beadfddidc"),G=n("behbcejhad"),V=a(G),W=t.PREVIEW_HEIGHT=150,H=["foursquare.com","facebook.com","maps.google.com"],Y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loc=function(){var e=n.props.msg.get("loc");if(e)return e=e.split("\n"),2===e.length?{name:e[0],addr:e[1]}:{name:e}},n.getLocationDetails=function(e){var t=n.props.msg,a=n.loc(),o=t.clientUrl||e,i=void 0,l=void 0,s=void 0,u=C.default.hostname(o),f=h.default.isEmpty(H.filter(function(e){return u.indexOf(e)>-1})),p=f?c.createElement("span",{className:F.default.link},u):null;if(a){i=a.name?c.createElement(U.SelectableLink,{className:F.default.title,dir:"auto",href:o,plainText:a.name+"\n"+o,selectable:!0,target:"_blank",title:a.name},a.name):null;var m=(0,d.default)(F.default.address,r({},F.default.hasURL,p));l=a.addr?c.createElement(U.SelectableDiv,{className:m,selectable:!0,title:a.addr},a.addr):null}return(i||l||p)&&(s=c.createElement("div",{className:F.default.text},c.createElement(k.default,{msg:t,"data-id":t.id},i,l,p))),s},n.onClick=function(e){e.stopPropagation()},n}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props.msg,n=t.lat,a=t.lng,o=this.loc(),i=o&&o.name,l=(0,w.getMapUrl)(n,a,i),s=this.getLocationDetails(l),u=s?null:c.createElement(I.default,null),f=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,p=t.showForwarded(),h=f?c.createElement("div",{className:F.default.author},c.createElement(_.default,{msg:t,contact:t.senderObj})):null,m=p?c.createElement(j.default,{msg:t,className:F.default.forwardedIndicator}):null,g=(0,d.default)(F.default.container,(e={},r(e,F.default.hasCaption,s),r(e,F.default.hasAuthor,f),r(e,F.default.forwarded,p),e)),y={height:W},E=this.props.quotedMsg?c.createElement("div",{className:F.default.quote},this.props.quotedMsg):null,O=void 0,C=void 0;return(0,B.shouldEnableHsm)()&&(O=t.caption?c.createElement("div",{className:F.default.caption},c.createElement(x.default,{msg:t,spacer:!t.footer})):null,C=t.footer?c.createElement("div",{className:F.default.footer},c.createElement(A.default,{text:t.footer,dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir})):null),c.createElement(b.default,{className:g,contact:t.senderObj,msg:t},h,m,E,c.createElement(U.SelectableDiv,{className:F.default.thumb,onClick:this.onClick,plainText:l,selectable:!0,style:y},c.createElement(V.default,{lat:t.lat,lng:t.lng,width:270,height:W,name:i,className:F.default.thumbBody}),u),s,O,C,c.createElement("div",{className:F.default.meta},c.createElement(v.default,{msg:t})))}}]),t}(c.PureComponent);Y.CONCERNS={msg:["clientUrl","id","isSentByMe","isGroupMsg","lat","lng","senderObj","rtl","caption","footer","dir"]},Y.displayName="Location",t.default=(0,P.default)((0,M.hoc)(Y),Y.CONCERNS)},biahchiahj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ccaaiecfib"),f=a(c),d=n("eceadcicaf"),p=a(d),h=n("fagbfehid"),m=a(h),b=n("bbcccehdad"),g=a(b),v=n("cgjafchgje"),y=a(v),_=n("febicjijd"),E=a(_),j=n("ddajbaceej"),w=n("ejbdjaifi"),O=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hasFetchedData:m.default.hasFetchedData(),hasStickers:m.default.length>0,menuShadow:!1,selectedStickerPackIndex:0},a._setRefEmptyContent=function(e){a._refEmptyContent=e},a._setRefContent=function(e){a._refContent=e},a._setRefMenu=function(e){a._refMenu=e},a._handleContainerClick=function(e){a._stopEvent(e),a.restoreFocus()},a._handleContentFocusNext=function(e){a._stopEvent(e),a._refMenu&&a._refMenu.focus()},a._handleContentFocusPrev=function(e){a._stopEvent(e),a._refMenu&&a._refMenu.focus()},a._handleEmptyFocusPrev=function(e){a._stopEvent(e),a._focusPrev()},a._handleEmptyFocusNext=function(e){a._stopEvent(e),a._focusNext()},a._handleItemClick=function(e){a.setState({selectedStickerPackIndex:e})},a._handleMenuFocusBelow=function(e){a._stopEvent(e),a._refContent&&a._refContent.focus()},a._handleMenuFocusNext=function(e){a._stopEvent(e),a._focusNext()},a._handleMenuFocusPrev=function(e){a._stopEvent(e),a._focusPrev()},a._handleScroll=function(e){a._lastScrollTop=e,a.setState({menuShadow:e>0})},a._handleStickerPacksChange=function(){a.setState({hasFetchedData:m.default.hasFetchedData(),hasStickers:m.default.length>0})},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(m.default,"change:length",this._handleStickerPacksChange),this.props.listeners.add(m.default,"change:pageFetchStates",this._handleStickerPacksChange),this.props.listeners.uiIdle(function(){e.restoreFocus(),m.default.fetchAt(0)})}},{key:"componentWillUnmount",value:function(){var e=this._lastScrollTop;this.props.onDisplayCache&&null!=e&&this.props.onDisplayCache({scrollTop:e})}},{key:"restoreFocus",value:function(){var e=this;this.props.listeners.uiIdle(function(){if(e._refEmptyContent){if(document.activeElement===e._refEmptyContent)return;(0,j.focus)(e._refEmptyContent)}else e._refMenu&&e._refMenu.focus()})}},{key:"_focusPrev",value:function(){this.props.onFocusPrev&&this.props.onFocusPrev()}},{key:"_focusNext",value:function(){this.props.onFocusNext&&this.props.onFocusNext()}},{key:"_stopEvent",value:function(e){e&&(e.preventDefault(),e.stopPropagation())}},{key:"render",value:function(){var e=f.default.supportsFeature(f.default.F.RECENT_STICKERS),t=e?1:0,n=this.state.selectedStickerPackIndex;return e||!this.state.hasFetchedData||this.state.hasStickers?u.createElement("div",{className:E.default.panelContainer,onClick:this._handleContainerClick},u.createElement(g.default,{ref:this._setRefMenu,onFocusBelow:this._handleMenuFocusBelow,onFocusNext:this._handleMenuFocusNext,onFocusPrev:this._handleMenuFocusPrev,onItemClick:this._handleItemClick,selectedStickerPackIndex:n,shadow:this.state.menuShadow,recentStickersEnabled:e,specialItemsCount:t}),u.createElement(y.default,{ref:this._setRefContent,onFocusNext:this._handleContentFocusNext,onFocusPrev:this._handleContentFocusPrev,onScroll:this._handleScroll,onSticker:this.props.onSticker,selectedStickerPackIndex:n,recentStickersEnabled:e,specialItemsCount:t})):u.createElement(v.StickerPanelEmpty,{containerClassName:E.default.panelContainer,onClick:this._handleContainerClick,onFocusPrev:this._handleEmptyFocusPrev,onFocusNext:this._handleEmptyFocusNext,onRef:this._setRefEmptyContent})}}]),t}(u.PureComponent);O.displayName="StickerPanel";var C=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"restoreFocus",value:function(){this.getComponent().restoreFocus()}}]),t}((0,p.default)((0,w.hoc)(O)));t.default=C},bibjgdifc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("ifijdebbd"),h=a(p),m=n("ddjcbfehh"),b=a(m),g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.chatPreference;return u.createElement("div",{className:b.default.container},u.createElement("div",{className:b.default.body},u.createElement(h.default,{wallpaperColor:e.wallpaperColor}),this.props.children))}}]),t}(u.Component);g.CONCERNS={chatPreference:["wallpaperColor"]},g.displayName="MsgPreview",t.default=(0,f.default)((0,d.hoc)(g),g.CONCERNS)},bicbefgjgg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("dagibffcjf"),f=a(c),d=n("biehbcgiib"),p=a(d),h=n("cjijbdhgbf"),m=a(h),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._handleAspectRatio=function(e){(!n.state.aspectRatio&&e||n.state.aspectRatio&&e&&Math.abs(e-n.state.aspectRatio)>.01)&&n.setState({aspectRatio:e})};var a=(0,m.default)(n.props.ogVideoInfo.previewUrl),i=a.width&&a.height?a.width/a.height:void 0;return n.state={aspectRatio:i},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.default,{aspectRatio:this.state.aspectRatio,previewUrl:this.props.ogVideoInfo.previewUrl,animationStartStyle:this.props.animationStartStyle},u.default.createElement(p.default,{ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onAspectRatio:this._handleAspectRatio,autoPlay:!0}))}}]),t}(s.Component);b.displayName="FloatingOgVideoPlayer",t.default=b},bicjggdg:function(e,t){e.exports={muted:"Zifpo",canvasComponent:"_3iJaK",canvasEmpty:"_1L19m",canvasSecondRow:"_3ChBw",canvasFirst:"_1uPx1",more:"_2raSX",container:"_26Nvu",galleryEmpty:"_1goQ0",drawer:"_2BqsJ",drawerBody:"aA-bE"}},bidcddiaag:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){if(1===t.rangeCount){if(t.getRangeAt(0).collapsed){var a=t.anchorNode,r=t.anchorOffset;if(a&&a===e.refInput){if(-1===(r-=1))return;a=a.childNodes[r],r=a.textContent.length}a=(0,f.default)(a)?o(a):a,(0,l.default)(a,function(e){var t=o(e);return t?[t]:[]},function(e){var t=void 0,o=void 0;if((0,d.isEmojiEl)(e))return t=u.default.fromNode(e,!0).toPlainString(),n(t,0,t);o=e===a?e.textContent.slice(0,r):e.textContent;var i=o.lastIndexOf("\n"),l=i>=0;l&&(o=o.slice(i+1));for(var s=o.length-1;s>=0;s--)if(t=o.charAt(s),n(t,s,o))return!0;return!!l||void 0})}}}function o(e){var t=e;do{if((t=t&&t.previousSibling)&&t.nodeType!==Node.TEXT_NODE&&!(0,d.isEmojiEl)(t))return null}while(t&&(0,f.default)(t));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("bbiacghfif"),l=a(i),s=n("cebdcdcgja"),u=a(s),c=n("ccagfiehde"),f=a(c),d=n("dfcggebdjj")},bidgicbbjf:function(e,t){e.exports={"-open-menu-width":"110px",openMenuWidth:"110px",muted:"WdkvY",menu:"_3GnEH",button:"_1rWTA",open:"_19THG",full:"_1rv_w",closeButton:"_3Kbqm",firstButton:"Kwld2",secondButton:"OoTjh",thirdButton:"_2pZnl"}},biehbcgiib:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("beddiafhbh"),f=a(c),d=n("cgecdbiihg"),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.default,{type:d.PLAYER_TYPE.OG_FLOATER,ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onAspectRatio:this.props.onAspectRatio,autoPlay:this.props.autoPlay})}}]),t}(s.PureComponent);p.displayName="OgVideoPlayer",t.default=p},bifahbdaeg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bgddggdhc"),f=n("dgibicjjj"),d=a(f),p=n("cgejchjdhj"),h=n("ddajbaceej"),m=a(h),b=n("dhfbfehaef"),g=a(b),v=n("eceadcicaf"),y=a(v),_=n("ihfccfgdf"),E=a(_),j=n("ejbdjaifi"),w=n("bheafeifce"),O=n("cbeecgcage"),C=a(O),S=n("bcifhbgija"),P=a(S),M=n("dgiechcbec"),T=a(M),k=n("hjbbdjjdf"),N=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));I.call(n);var a=e.msg,i=e.author,l=e.active;return n.state={active:!!l&&l.value===a,author:i||null},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.active&&this.props.listeners.add(this.props.active,this.props.msg.id.toString(),this.onActiveChange)}},{key:"componentWillReceiveProps",value:function(e){e.author!==this.props.author&&this.setState({author:e.author})}},{key:"render",value:function(){var e=this.props.msg,t=u.createElement(C.default,{msg:e}),n=u.createElement(T.default,{msg:e,msgType:"Search",author:this.state.author,searchQuery:this.props.searchText?[this.props.searchText]:[]}),a={enter:this.onEnter};return u.createElement(g.default,{handlers:a,onFocus:this.indicateFocus,onBlur:this.onBlur},u.createElement(d.default,{ref:this.setRefCell,contextEnabled:this.contextEnabled,theme:"chat-search",active:!!this.state.active,primaryDetail:t,secondary:n,primary:void 0,onClick:this.onClick}))}}]),t}(u.Component);N.CONCERNS={msg:["id","chat","isSentByMe","senderObj","rtl","dir","type"]};var I=function(){var e=this;this.onActiveChange=function(t,n){if("focus"===t){var a=(0,c.forbiddenAssertDOMNode)(e);m.default.focus(a),n&&(0,p.scrollIntoViewIfNeeded)(a)}e.setState({active:!!t})},this.onClick=function(t){if((0,k.isFunction)(e.props.onClick)){var n=(0,w.unproxy)(e.props.msg),a=n.chat,r=a.getSearchContext(n);r.msg=n,e.props.onClick(t,a,r)}},this.onEnter=function(t){t.preventDefault(),t.stopPropagation(),(0,b.shouldIndicateFocus)(),e.onClick(t)},this.indicateFocus=function(t){(0,b.indicateFocus)(e.refCell,["#e9eaeb","#cbdde7"],{complete:e.onBlur})},this.onBlur=function(t){var n=(0,c.forbiddenAssertDOMNode)(e.refCell);(0,P.default)(n,"stop"),n.style.backgroundColor=""},this.contextEnabled=function(){return!1},this.setRefCell=function(t){e.refCell=t}};N.displayName="MessageClass",t.default=(0,y.default)((0,E.default)((0,j.hoc)(N),N.CONCERNS))},bifbhbbiie:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("hbhijdici"),f=a(c),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"_renderColumns",value:function(){var e=this,t=this.props,n=t.numColumns,a=t.numItems,r=t.offset,o=t.renderItem,i=t.selectedIndex,l=0,s=a-n;return 1===r&&(n+=1,l=-1),r===s-1&&(n+=1),f.default.times(n,function(t){var n=t+l,s=n+r;return s<0?null:s>=a?null:o(s,s===i,e.props.menuWidth)})}},{key:"render",value:function(){return u.default.createElement(u.default.Fragment,null,this._renderColumns())}}]),t}(u.default.PureComponent);d.displayName="CarouselMenuItems",t.default=d},bifbiahgch:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bhfgibecci"),f=a(c),d=n("hfjchijff"),p=a(d),h=n("cefehjcibf"),m=a(h),b=n("bcbahjefec"),g=a(b),v=n("ccaaiecfib"),y=a(v),_=n("dabdhgiijc"),E=a(_),j=n("chjdbchg"),w=a(j),O=n("dcabggiiff"),C=a(O),S=n("ebacbhahej"),P=n("dcdageegba"),M=a(P),T=n("bggcifcgdc"),k=a(T),N=n("djicifaabb"),I=a(N),R=n("ceibefacih"),A=a(R),D=n("bgjddhffji"),x=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onProductDetail=function(e,t){if(y.default.supportsFeature(y.default.F.CATALOG)){var n=a.props.chat,r=u.createElement(k.default,{chat:n,product:e,onEnd:a._end,onBack:a._pop,refreshCarousel:!1,sessionId:t});a.push(r)}},a.onProductCatalog=function(e){if(y.default.supportsFeature(y.default.F.CATALOG)){var t=a.props.chat;(0,D.logCarouselViewMoreClick)(t.id.toString(),e);var n=u.createElement(I.default,{contact:t.contact,onProductDetail:a.onProductDetail,catalogId:t.id,onBack:a._pop,sessionId:e,businessProfile:t.contact.businessProfile});a.push(n)}},a.onStarred=function(){var e=u.createElement(A.default,{chat:a.props.chat,starredMsgs:a.props.chat.getStarredMsgs(),onClose:a._pop});a.push(e)},a.onAdminSetting=function(){var e=a.props.chat,t=u.createElement(C.default,{chat:e,groupMetadata:e.groupMetadata,onClose:a._pop});a.push(t)},a.onContactCard=function(){a.push(u.createElement(p.default,{chat:a.props.chat,onClose:a._pop}))},a.onMediaGallery=function(){var e=u.createElement(M.default,{chat:a.props.chat,onBack:a._pop});a.push(e)},a.onGroupInviteLink=function(){var e=a.props.chat,t=u.createElement(w.default,{chat:a.props.chat,groupMetadata:e.groupMetadata,onBack:a._pop});a.push(t)},a._pop=function(){a.pop()},a._end=function(){a.end(!0)},a.onLiveLocation=function(){var e=u.createElement(S.LiveLocationDrawerLoadable,{chat:a.props.chat,onClose:a._pop});a.push(e)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.onStarred,t=this.onMediaGallery,n=this.props.chat;this.props.chat.isGroup?this.push(u.createElement(E.default,{chat:n,showFullGroupDescription:this.props.showFullGroupDescription,groupMetadata:n.groupMetadata,contact:n.contact,profilePicThumb:n.contact.getProfilePicThumb(),onStarred:e,onMediaGallery:t,onAdminSetting:this.onAdminSetting,onGroupInviteLink:this.onGroupInviteLink,onLiveLocation:this.onLiveLocation,onClose:this._pop})):n.isBroadcast?this.push(u.createElement(f.default,{chat:n,contact:n.contact,onStarred:e,onMediaGallery:t,onClose:this._pop})):n.isUser&&this.push(u.createElement(m.default,{contact:n.contact,onStarred:e,onContactCard:this.onContactCard,onMediaGallery:t,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,onLiveLocation:this.onLiveLocation,onClose:this._pop}))}}]),t}(g.default);t.default=x},bifgjibich:function(e,t,n){"use strict";function a(e){new l.default.QuickReply({quickReplyAction:l.default.QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:e}).commit()}function r(){new l.default.QuickReply({quickReplyAction:l.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1}).commit()}function o(){new l.default.QuickReply({quickReplyAction:l.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL}).commit()}Object.defineProperty(t,"__esModule",{value:!0}),t.logFilterEvent=a,t.logSelectEvent=r,t.logCancelEvent=o;var i=n("bfbggcdbfb"),l=function(e){return e&&e.__esModule?e:{default:e}}(i)},bifjfdedi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("dgiechcbec"),h=a(p),m=n("fifhbjiec"),b=a(m),g=n("dhgeaaaega"),v=a(g),y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.presence;if(n.isActive()){var a=n.getFormattedString();if(a)return u.createElement(b.default,{className:v.default.chatstateTyping,direction:"inherit",ellipsify:!0,titlify:!0,text:a})}var r=t.previewMessage;return r?u.createElement(h.default,{msg:r,msgType:"LastMessage"}):null}}]),t}(u.PureComponent);y.displayName="ChatStateInfo",y.CONCERNS={chat:["previewMessage"],chatstate:["id","type"]},y.WEAK_CONCERNS={presence:["hasData","withholdDisplay"]},y.displayName="ChatstateInfo";var _=(0,f.default)((0,d.hoc)(y),y.CONCERNS,y.WEAK_CONCERNS);t.default=function(e){var t=e.chat;return u.createElement(_,{chat:t,presence:t.presence,chatstate:t.presence.chatstate})}},bigcibhibh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("dadagidhdg"),d=a(f),p=n("bfdcadbbif"),h=a(p),m=n("ceffhbhahb"),b=a(m),g=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("div",{className:(0,b.default)(d.default.closeBtn,r({},d.default.fullscreen,this.props.isFullscreenMode)),onClick:this.props.onClick},c.default.createElement(h.default,{name:"video-x"}))}}]),t}(u.PureComponent);g.displayName="CloseButton",t.default=g},bigicfbcdh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return i.createElement("div",{className:e.inactive?s.default.inactive:s.default.offline,onClick:e.onClick},i.createElement("div",null,i.createElement("div",{className:s.default.circle},i.createElement(c.default,{name:e.svgName})),i.createElement("div",{className:s.default.text},e.text)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("daahhbhaaf"),s=a(l),u=n("bfdcadbbif"),c=a(u);r.displayName="RetryOverlay"},bihbdchfhc:function(e,t){e.exports={muted:"_2-Hk-",hasText:"_3ZzfG",noText:"_1llsm",quote:"T55bS",hasAuthor:"_2zxsH",forwarded:"_2cLXT"}},bihdbbidff:function(e,t){e.exports={muted:"_1IVXA",container:"_2fsn0",popupPanel:"QRsOy",wrapper:"aNhVd",emojiIcon:"_2dEi2",sendIcon:"_2Oy0E",lineWrapper:"_2Gbfq"}},biiiheaiih:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.reconnect=void 0;var o=n("dcdiaahjj"),i=a(o),l=n("eacidghfgh"),s=a(l),u=function e(){var t=this;r(this,e),this.isReconnecting=!1,this.reconnectIfDisconnected=function(){t.isReconnecting||i.default.displayInfo!==o.StreamInfo.OFFLINE||(t.isReconnecting=!0,s.default.poke(),s.default.summary(),setTimeout(function(){return t.isReconnecting=!1},3e3))}};t.reconnect=(new u).reconnectIfDisconnected},biiiigbhdf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o((0,b.unproxy)(e),t)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,s.genId)(),a=t.trim();if(!a)return Promise.reject(new l.ActionError);if(a===e.contact.name)return Promise.reject(new l.ActionError);var r=(0,m.sendSetGroupSubject)(e.id,a),u=e.contact.name,f=new s.ActionType(l10n.t("action_group_renaming")),p=r.then(function(){return new s.ActionType(l10n.t("action_group_renamed",{subject:a}),l10n.t("action_undo"),function(){return o(e,u,n)})}).catch(i.ServerStatusCodeError,function(e){if(e.status>=400)return new s.ActionType(l10n.t("action_group_rename_failed"))}).catch(function(t){return d.default.error("models:chat:setSubject dropped")(t),new s.ActionType(l10n.t("action_group_rename_failed"),l10n.t("action_try_again"),function(){return o(e,a,n)})});return c.default.openToast(h.default.createElement(s.ActionToast,{id:n,initialAction:f,pendingAction:p})),r.then(function(t){if(!t._duplicate){var n={name:a};return(0,g.updateLocal)(e.contact.id,n).then(function(){e.contact.set(n)})}}).catch(i.ServerStatusCodeError,function(e){})}Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupSubject=r;var i=n("cajijabhgb"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("ccihhdchab"),u=n("gbfffciea"),c=a(u),f=n("bdiiahhjbe"),d=a(f),p=n("ddhijeejag"),h=a(p),m=n("babicefcfg"),b=n("bheafeifce"),g=n("dcjbdhhjge")},biijfeijcb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){for(var a=n<0?-1:1,r=t+n;r>=0&&r<e.length;){var o=e[r];if("emojis"===o.kind)return o;r+=a}}function u(e){var t=e-2*D.SIDE_MARGIN-B;return Math.floor(t/D.EMOJI_WIDTH)}Object.defineProperty(t,"__esModule",{value:!0}),t.TOTAL_SEARCH_HEIGHT=void 0;var c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.findEmojiRowAt=s,t.getNumColumns=u;var d=n("ddhijeejag"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),h=n("dgbjhghjfc"),m=a(h),b=n("bbhhbdicgc"),g=a(b),v=n("bggeiidigb"),y=a(v),_=n("cicjcfabii"),E=a(_),j=n("eceadcicaf"),w=a(j),O=n("ejbdjaifi"),C=n("bcifhbgija"),S=a(C),P=n("ecdffdifib"),M=a(P),T=n("bheebijggd"),k=a(T),N=n("ehjcaiibe"),I=a(N),R=n("hbhijdici"),A=a(R),D=n("dfihaffaee"),x=a(D),L=t.TOTAL_SEARCH_HEIGHT=parseInt(I.default["-total-search-height"],10),F=parseInt(I.default["-title-height"],10),U=(c={},l(c,k.default.SEARCH_RESULT,function(){throw new Error("Search results should not be shown with a title.")}),l(c,k.default.RECENT,function(){return l10n.t("emoji_tab_recent")}),l(c,m.default.SMILEYS_PEOPLE,function(){return l10n.t("emoji_tab_smileys_people")}),l(c,m.default.ANIMALS_NATURE,function(){return l10n.t("emoji_tab_animals_nature")}),l(c,m.default.FOOD_DRINK,function(){return l10n.t("emoji_tab_food_drink")}),l(c,m.default.ACTIVITY,function(){return l10n.t("emoji_tab_activity")}),l(c,m.default.TRAVEL_PLACES,function(){return l10n.t("emoji_tab_travel_places")}),l(c,m.default.OBJECTS,function(){return l10n.t("emoji_tab_objects")}),l(c,m.default.SYMBOLS,function(){return l10n.t("emoji_tab_symbols")}),l(c,m.default.FLAGS,function(){return l10n.t("emoji_tab_flags")}),c),B=0;B=parseInt(I.default["-scrollbar-width"].replace(/px$/,""),10);var G=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={extraItems:2},n._rowComponents=new Map,n._flatListController=new y.default,n._renderBlanks=!1,n._getRowsAndSectionDataMemoized=(0,M.default)(function(e){var t=e.numColumns,n=e.data,a=e.showTitles,r=L,o={},i=[];return n.forEach(function(e,l){var s=e.sectionId,u=e.emojiIds,c=0,f=r;if(0!==u.length){a&&(i.push({kind:"title",key:"section_"+s+"_title",index:i.length,title:U[s](),sectionId:s,height:F,offsetTop:r}),c+=F,r+=F);var d=A.default.chunk(u,t),p=l===n.length-1;d.forEach(function(e,t){var n=t===d.length-1,a=n&&!p?D.EMOJI_HEIGHT+parseInt(I.default["-section-bottom-margin"],10):D.EMOJI_HEIGHT;i.push({kind:"emojis",key:"section_"+s+"_emoji_"+t,index:i.length,emojiIds:e,sectionId:s,height:a,offsetTop:r}),c+=a,r+=a}),o[s]={height:c,offsetTop:f}}}),{rows:i,sectionData:o}}),n._handleEmojiFocus=function(e){var t=n._refScrollContainer;t&&n.props.onEmojiFocus(e,t)},n._handleScroll=function(e){n._animationFrameID||(n._animationFrameID=requestAnimationFrame(n._handleScrollOnAnimationFrame))},n._handleScrollOnAnimationFrame=function(){if(delete n._animationFrameID,n._refScrollContainer){var e=n._refScrollContainer.scrollTop;n.props.onScroll&&n.props.onScroll(e);var t=n._getSectionIdFromScrollTop(e);t&&n.props.onSection&&n.props.onSection(t)}},n._setRefScrollContainer=function(e){n._refScrollContainer=e},n._renderRow=function(e){switch(e.kind){case"title":return p.createElement("div",{className:I.default.title},e.title);case"emojis":return p.createElement(x.default,{emojiIds:e.emojiIds,focusAbove:function(t){n._focusEmojiAt(e.index,-1,t)},focusBelow:function(t){n._focusEmojiAt(e.index,1,t)},numColumns:n._getNumColumns(),onEmoji:n.props.onEmoji,onEmojiFocus:n._handleEmojiFocus,ref:function(t){t?n._rowComponents.set(e.key,t):n._rowComponents.delete(e.key)},allowVariantPrompt:e.sectionId!==k.default.RECENT});default:throw e.kind,new Error("Invalid row kind: "+e.kind)}},n._getRowsAndSectionData(),n}return i(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this;this._refScrollContainer&&this._refScrollContainer.scrollTop!==this.props.initialScrollTop&&(this._refScrollContainer.scrollTop=this.props.initialScrollTop),this.props.listeners.uiIdle(function(){e.setState({extraItems:Number.MAX_SAFE_INTEGER})})}},{key:"focusFirstVisibleEmoji",value:function(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.focusEmojiAt(0)}},{key:"scrollToSection",value:function(e,t){var n=this,a=t||0,r=this._refScrollContainer;if(!r)return Promise.resolve();var o=this._getRowsAndSectionData(),i=o.sectionData,l=i[e];if(!l)return Promise.resolve();var s=l.offsetTop;if(r.scrollTop===s)return Promise.resolve();if(this._activeAnimation){if(this._activeAnimation.sectionId===e)return this._activeAnimation.promise;(0,S.default)(this._activeAnimation.scrollTarget,"stop"),this._activeAnimation&&this._activeAnimation.promise.cancel()}if(r.scrollTop===s)return Promise.resolve();var u=document.createElement("div");u.style.position="absolute",u.style.top=s+a+"px",u.style.left="0px",r.appendChild(u);var c=(0,S.default)(u,"scroll",{container:r,duration:300,easing:[.99,.13,.13,.99]}).then(function(){}).delay(100);return this._activeAnimation={promise:c,sectionId:e,scrollTarget:u},c.finally(function(){r.removeChild(u),n._activeAnimation&&n._activeAnimation.promise===c&&delete n._activeAnimation}),c}},{key:"scrollToTop",value:function(){this._refScrollContainer&&(this._refScrollContainer.scrollTop=0)}},{key:"selectFirstVisibleEmoji",value:function(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.selectFirstEmoji()}},{key:"_getCurrentSearchInputHeight",value:function(){return this.props.searchInputVisible?L:0}},{key:"_getNumColumns",value:function(){return u(this.props.width)}},{key:"_getRowsAndSectionData",value:function(){return this._getRowsAndSectionDataMemoized({numColumns:this._getNumColumns(),data:this.props.data,showTitles:this.props.showTitles})}},{key:"_getFirstVisibleEmojiRowComponent",value:function(e){if(this._refScrollContainer){var t=this._refScrollContainer.scrollTop+e,n=this._getEmojiRowFromScrollTop(t);if(n){return this._rowComponents.get(n.key)}}}},{key:"_getEmojiRowFromScrollTop",value:function(e){var t=this._getRowsAndSectionData(),n=t.rows;return A.default.find(n.map(function(e){return"emojis"===e.kind?e:null}).filter(Boolean),function(t){return t.offsetTop+t.height>e})}},{key:"_getSectionIdFromScrollTop",value:function(e){var t=this._getEmojiRowFromScrollTop(e+this._getCurrentSearchInputHeight());if(t)return t.sectionId}},{key:"_focusEmojiAt",value:function(e,t,n){var a=this._getRowsAndSectionData(),r=a.rows,o=s(r,e,t);if(o){var i=this._rowComponents.get(o.key);i&&i.focusEmojiAt(n)}}},{key:"render",value:function(){var e=this._getRowsAndSectionData(),t=e.rows,n=Math.min(t.length,this.state.extraItems),a=void 0;return(this.props.onScroll||this.props.onSection)&&(a=this._handleScroll),p.createElement(E.default,{onScroll:a,className:I.default.container,onRef:this._setRefScrollContainer,flatListControllers:[this._flatListController]},p.createElement(g.default,{data:t,disableAnimations:!0,forceConsistentRenderCount:!1,flatListController:this._flatListController,extraItems:n,initialScrollTop:this.props.initialScrollTop,renderItem:this._renderRow}))}}]),t}(p.PureComponent);G.displayName="EmojiSectionScrollList";var V=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"focusFirstVisibleEmoji",value:function(e){return this.getComponent().focusFirstVisibleEmoji(e)}},{key:"scrollToSection",value:function(e,t){return this.getComponent().scrollToSection(e,t)}},{key:"scrollToTop",value:function(){return this.getComponent().scrollToTop()}},{key:"selectFirstVisibleEmoji",value:function(e){return this.getComponent().selectFirstVisibleEmoji(e)}}]),t}((0,w.default)((0,O.hoc)(G)));t.default=V},bijdjchach:function(e,t){e.exports={muted:"NgTFT",count:"P6z4j",ffFix:"_1W1Se"}},bijebbjggf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o((0,m.unproxy)(e),t)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,h.genId)();if(e.archive===t)return Promise.reject(new l.ActionError);var a=e.promises;if(a.setArchive)return a.setArchive;var r=e.getLastMsgKeyForAction(),i=(0,b.sendConversationArchive)(e.id,t,r).cancellable(),s=t?new h.ActionType(l10n.t("action_chat_archiving")):new h.ActionType(l10n.t("action_chat_unarchiving")),c=i.then(function(a){var r=void 0;return 200===a.status?(r=t?l10n.t("action_chat_archived"):l10n.t("action_chat_unarchived"),new h.ActionType(r,l10n.t("action_undo"),function(){return o(e,!t,n)})):a.status>=400?t?new h.ActionType(l10n.t("action_chat_archive_failed")):new h.ActionType(l10n.t("action_chat_unarchive_failed")):void 0}).catch(function(a){f.default.error("models:chat:setArchive dropped")(a);var r=t?l10n.t("action_chat_archive_failed"):l10n.t("action_chat_unarchive_failed");return new h.ActionType(r,l10n.t("action_try_again"),function(){return o(e,t,n)})});u.default.openToast(p.default.createElement(h.ActionToast,{id:n,initialAction:s,pendingAction:c}));var d=a.setArchive=i.then(function(n){200!==n.status||n._duplicate||(e.archive=t,t&&(e.pin=void 0))}).finally(function(){a.setArchive=null});return d.archive=t,d}Object.defineProperty(t,"__esModule",{value:!0}),t.setArchive=r;var i=n("cajijabhgb"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("gbfffciea"),u=a(s),c=n("bdiiahhjbe"),f=a(c),d=n("ddhijeejag"),p=a(d),h=n("ccihhdchab"),m=n("bheafeifce"),b=n("bfgjcdgecg")},bijegdjcac:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return null==e?null:null!=e.key?f({},e,{msg:N.default.get(e.key)}):e}function c(e){var t=e.msgLoadState;return{noEarlierMsgs:t.noEarlierMsgs,isLoadingEarlierMsgs:t.isLoadingEarlierMsgs,isLoadingRecentMsgs:t.isLoadingRecentMsgs,isLoadingAroundMsgs:t.isLoadingAroundMsgs,contextLoaded:t.contextLoaded}}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=n("ddhijeejag"),h=a(p),m=n("djciiabagi"),b=a(m),g=n("bgddggdhc"),v=n("cdbddjfbcd"),y=a(v),_=n("dcjhajfghf"),E=a(_),j=n("eadfaddcj"),w=a(j),O=n("cbdehahifi"),C=a(O),S=n("cijhadicdb"),P=a(S),M=n("gbfffciea"),T=a(M),k=n("biecbbiiee"),N=a(k),I=n("bcifhbgija"),R=a(I),A=n("cgffhfegce"),D=n("ceffhbhahb"),x=a(D),L=n("ddchcbhaia"),F=a(L),U=n("bfdjgcjbeh"),B=a(U),G=n("ceddibdhdb"),V=a(G),W=n("jcfhjhibi"),H=a(W),Y=n("bgefgjjhb"),q=a(Y),K=n("didfdhbecg"),z=a(K),Q=n("bdiiahhjbe"),X=a(Q),J=n("bjebjijbfc"),Z=a(J),$=n("dbjbhajgfd"),ee=a($),te=n("caffijjhc"),ne=a(te),ae=n("fffdgbfji"),re=a(ae),oe=n("ddajbaceej"),ie=a(oe),le=n("bfjajhbdf"),se=a(le),ue=n("cdegfghcid"),ce=a(ue),fe=n("cajijabhgb"),de=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(fe),pe=n("hbhijdici"),he=a(pe),me=n("eceadcicaf"),be=a(me),ge=n("bjbedjfe"),ve=a(ge),ye=n("ejbdjaifi"),_e=n("ccegbieicj"),Ee=a(_e),je=n("bfdcadbbif"),we=a(je),Oe=n("bcjcbbafcj"),Ce=a(Oe),Se=n("cgijjjgici"),Pe=a(Se),Me=n("cbcchiaeeb"),Te=a(Me),ke=n("dgdhcdgffe"),Ne=n("cbedjffdai"),Ie=a(Ne),Re=n("fciifhbdb"),Ae=a(Re),De=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));xe.call(n);var a=e.chat;return n.state=f({},n._getInitialCursorAndFocusContext(e),{unreadCount:a.pendingSeenCount?0:a.unreadCount,isNearBottom:!0,newUnread:0,contextMenu:null,textsize:Ie.default.get().textsize,msgLoadState:c(e.msgCollection)}),n}return s(t,e),d(t,[{key:"_getInitialCursorAndFocusContext",value:function(e){var t=e.focusCtx,n=e.chat,a=e.msgCollection,r=u(t)||this.getUnreadFocusCtx(e),o=r&&r.msg,i=o&&o.id;return{cursor:H.default.create({msgCollection:a,focusedMsgKey:i,type:n.isGroup?w.default.RENDER_CURSOR.GROUP_CONVERSATION:w.default.RENDER_CURSOR.CONVERSATION}),focusCtx:r}}},{key:"componentWillUnmount",value:function(){null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this.updateStickyDateMarker.cancel(),this.updateForCurrentPosition.cancel(),this.onResizeThrottle.cancel(),this.onResizeDebounce.cancel(),this.hideStickyDateMarker.cancel(),this.clearUnreadTimer&&clearTimeout(this.clearUnreadTimer),this.maybeSendSeen(),this.props.chat.markedUnread=!1}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.chat,a=t.listeners;a.add(T.default,"scroll_chat_to_bottom",function(t){e.scrollToBottom(t)}),a.add(T.default,"scroll_messages",this.scrollMessages),a.add(T.default,"textsize_change",function(t){return e.setState({textsize:t})}),a.add(T.default,"panes_will_change",this.onPanesWillChange),a.add(T.default,"panes_did_change",this.onPanesDidChange),a.add(T.default,"scroll_to_focused_msg",function(){e.chatOpenScrollTimestamp=Date.now()}),a.add(window,"focus",this.onWindowGainedFocus),a.add(window,"blur",this.onWindowLostFocus),a.add(window,"resize",this.onResizeThrottle),a.add(window,"resize",this.onResizeDebounce),a.add(N.default,"change:msgKey",this.onMsgKeyChange),this.attachMsgCollectionObservers(this.props);var r=this.props.rejectOnUnmount();(0,Te.default)({signal:r}).then(function(){r.isRejected()||e.showStickyDateMarker()}).catch(Pe.default,function(){}),this.props.updateOpenedChatInfo({chat:n}),(0,ke.sendSeen)(n),this.updateForCurrentPosition()}},{key:"componentWillReceiveProps",value:function(e){e.selectable===this.props.selectable&&(this.loadRecentMsgsPromise&&this.loadRecentMsgsPromise.cancel(),this.setState(f({msgLoadState:c(e.msgCollection)},this._getInitialCursorAndFocusContext(e))),this.attachMsgCollectionObservers(e))}},{key:"shouldComponentUpdate",value:function(e,t){if(!(0,y.default)(e,this.props))return!0;var n=this.state,a=n.msgLoadState,r=o(n,["msgLoadState"]),i=t.msgLoadState,l=o(t,["msgLoadState"]);return!(0,y.default)(i,a)||!(0,y.default)(l,r)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.chat;this.updateRenderedMsgCache(e.chat===n),this.props.updateOpenedChatInfo({chat:n})}},{key:"getMsgBottom",value:function(e,t){var n=e.scrollTop,a=e.scrollHeight,r=e.clientHeight,o=a-(n+r);return a-(t.offsetTop+t.clientHeight+o)}},{key:"setMsgBottom",value:function(e,t,n){var a=t.offsetTop,r=t.clientHeight,o=a+r+n-e.clientHeight;this.setScrollTop(e,o)}},{key:"getRenderedMessageCount",value:function(){return this.getMsgs().length}},{key:"isMostRecentCMC",value:function(){return this.props.chat.msgs===this.props.msgCollection}},{key:"setScrollBottom",value:function(e){var t=this.scrollContainer;t&&this.setScrollTop(t,t.scrollHeight-e-t.clientHeight)}},{key:"setScrollTop",value:function(e,t){this.programmaticScroll=Date.now(),e&&(e.scrollTop=t)}},{key:"showStickyDateMarker",value:function(){this.stickyDateMarker&&this.stickyDateMarker.setVisibility(!0),this.hideStickyDateMarker.debounce(3e3)}},{key:"nearBottom",value:function(){var e=this.scrollContainer;return!!e&&e.scrollTop+w.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}},{key:"getUnreadFocusCtx",value:function(e){var t=e||this.props,n=t.chat,a=t.msgCollection,r=t.focusCtx,o=void 0;if(n.unreadCount?o=n.unreadCount:this.state&&this.state.unreadCount&&(o=this.state.unreadCount),(!r||this.isMostRecentCMC())&&o){var i=a.toArray().filter(function(e){return e.isUnreadType}).reverse().slice(0,o);if(i.length===o)return i=he.default.last(i),{msg:i,isUnreadDivider:n.shouldShowUnreadDivider,highlightMsg:!1}}}},{key:"getMsgs",value:function(){var e=this.props.msgCollection,t=this.state.cursor;return e.toArray().slice(t.getStart(e),t.getEnd(e))}},{key:"updateRenderedMsgCache",value:function(e){var t=this.messageList;if(!t)return void this.renderedMsgCache.clear();for(var n=[],a=t.props.msgs,r=new Map,o={},i=0,l=a.length-1;i<l;){var s=Math.floor((i+l)/2),u=a[s].id.toString(),c=t.getMsgWrapperRef(u);t.getMsgVisibility(c).visibility===w.default.VISIBILITY.ABOVE?i=s+1:l=s}for(var f=i;f<a.length;f++){var d=a[f].id.toString(),p=t.getMsgWrapperRef(d);if(!p)throw new Error("msgRef not found!");var h=t.getMsgVisibility(p);if(h.visibility!==w.default.VISIBILITY.VISIBLE)break;o[d]={offset:h.offset,t:a[f].t},r.set(d,p),n.push(a[f].id)}if(this.scrollContainer){var m=this.scrollContainer.scrollTop;i=0,l=he.default.size(t.renderedDateMarkers)-1;var b=t.getDateMarkerRef(0),v=b&&(0,g.forbiddenAssertDOMNode)(b);if(v&&v.offsetTop<=m+8.5)for(;i<l;){var y=Math.ceil((i+l)/2),_=t.getDateMarkerRef(y);if(!_)throw new Error("DateMarkerRef: "+y+" not found. "+Object.keys(t.renderedDateMarkers).toString()+"}");var E=(0,g.forbiddenAssertDOMNode)(_);E.offsetTop>m+8.5?l=y-1:i=y}else i=-1;this.updateStickyDateMarker.onOrBefore(0,{dateMarkerIdx:i,silent:e}),this.dateMarkerIdx=i,this.pauseHiddenGifs(this.renderedMsgCache,r),this.renderedMsgCache=r,this.visibleMsgOrder=n,this.props.updateOpenedChatInfo({renderedMsgsInfo:o,visibleMsgOrder:n,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0})}}},{key:"getMsgComponent",value:function(e){var t=this.messageList;if(t)return t.getMsgComponentRef(e.toString())}},{key:"pauseHiddenGifs",value:function(e,t){var n=this;e.forEach(function(e,a){if(!t.has(a)){var r=n.props.msgCollection.get(a);r&&r.isGif&&"function"==typeof e.pause&&e.pause()}})}},{key:"maybeSendSeen",value:function(e,t){var n=e,a=t,r=this.props,o=r.chat,i=r.msgCollection,l=this.state.cursor;if(o.isDirty()&&this.isMostRecentCMC()&&l.getEnd(i)>=i.length&&(he.default.isUndefined(a)&&(a=document.hasFocus()),a&&(he.default.isUndefined(n)&&(n=this.nearBottom()),n)))return(0,ke.sendSeen)(o),!0}},{key:"render",value:function(){var e=this,t=this.props,n=t.chat,a=t.msgCollection,o=t.selectable,i=t.onMessageSelect,l=this.state,s=l.focusCtx,u=l.msgLoadState,c=(0,x.default)(Ae.default.pane,r({},Ae.default.selectable,o)),f=this.isMostRecentCMC(),d=!!s,p=void 0,m=he.default.find(w.default.TEXTSIZE_CLASS_MAP,function(t){return t.scale===e.state.textsize});m&&(p=m.classname);var b=h.default.createElement(C.default,{ref:(0,ye.GetRef)("messageList",this),unreadCount:this.state.unreadCount,selectable:o,onMessageSelect:i,msgs:this.getMsgs(),focusedMsgCtx:s,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,notifyChatRendered:this.props.notifyChatRendered,getSequentialMsg:this.getSequentialMsg}),g=h.default.createElement(P.default,{direction:"around",isMostRecentCMC:f,loadMoreMsgs:function(){},isLoadingEarlierMsgs:u.isLoadingEarlierMsgs,isLoadingRecentMsgs:u.isLoadingRecentMsgs,isLoadingAroundMsgs:u.isLoadingAroundMsgs}),v=void 0;(this.state.cursor.getStart(a)>0||!u.noEarlierMsgs)&&(v=h.default.createElement(P.default,{direction:"earlier",isMostRecentCMC:f,loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:u.isLoadingEarlierMsgs,isLoadingRecentMsgs:u.isLoadingRecentMsgs,isLoadingAroundMsgs:u.isLoadingAroundMsgs}));var y=void 0;(this.state.cursor.getEnd(a)<a.length||!f)&&(y=h.default.createElement(P.default,{direction:"recent",isMostRecentCMC:f,loadMoreMsgs:this.loadRecentMsgs,isLoadingEarlierMsgs:u.isLoadingEarlierMsgs,isLoadingRecentMsgs:u.isLoadingRecentMsgs,isLoadingAroundMsgs:u.isLoadingAroundMsgs})),d&&u.isLoadingAroundMsgs?(y=void 0,v=void 0,b=void 0):g=void 0;var _=void 0,E=void 0,j=this.state,O=j.isNearBottom,S=j.newUnread;if(!O||!u.isLoadingAroundMsgs&&!f){S&&n.unreadCount&&(E=h.default.createElement(ce.default,{count:this.state.newUnread,key:"icon-unread"}));var M=(0,x.default)(Ae.default.incoming,r({},Ae.default.ffFix,Ce.default.isGecko));_=h.default.createElement("div",{className:M,onClick:this.jumpToBottom,role:"button"},h.default.createElement(z.default,{transitionName:"pop",className:Ae.default.unread},E),h.default.createElement(we.default,{name:"down"}))}var T=void 0;return this.state.contextMenu&&(T=h.default.createElement(ne.default,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},h.default.createElement(ee.default,{contextMenu:this.state.contextMenu}))),h.default.createElement(Ee.default,{className:p},h.default.createElement(q.default,{ref:(0,ye.GetRef)("stickyDateMarker",this)}),h.default.createElement(z.default,{transitionName:"pop"},_),h.default.createElement("div",{className:c,ref:this.setScrollContainer,onScroll:this.onScroll,onKeyPress:this.onKeyPress,onContextMenu:o?null:this.onContextMenu,onPaste:this.onPaste,tabIndex:"0"},h.default.createElement("div",{className:Ae.default.empty}),g,v,b,y),T)}}]),t}(h.default.Component),xe=function(){var e=this;this.chatOpenScrollTimestamp=0,this.renderedMsgCache=new Map,this.visibleMsgOrder=[],this.setScrollContainer=function(t){return e.scrollContainer=t},this.onPanesWillChange=function(t){var n=he.default.last(e.visibleMsgOrder);if(n){var a=n.toString(),r=e.messageList;if(a&&r){var o=r.getMsgWrapperRef(a);if(o){var i=e.scrollContainer,l=(0,g.forbiddenAssertDOMNode)(o);if(!i)return;var s=e.getMsgBottom(i,l);e.panesChanging={msg:l,container:i,msgBottom:s}}}}},this.onPanesDidChange=function(t){if(e.panesChanging){var n=e.panesChanging,a=n.msg,r=n.container,o=n.msgBottom;e.setMsgBottom(r,a,o),e.panesChanging=void 0}},this.attachMsgCollectionObservers=function(t){var n=e.props,a=n.listeners,r=n.chat,o=n.msgCollection,i=t.focusCtx,l=t.chat,s=t.msgCollection;o&&(r.msgs===o&&a.remove(r,"change:unreadCount",e.onUnreadCount),a.remove(o,"remove_msgs",e.onMsgsDelete),a.remove(r.msgs,"change:last",e.onLastMsgChanged)),null!=e._msgLoadStateChangeUnsubscribe&&e._msgLoadStateChangeUnsubscribe(),e._msgLoadStateChangeUnsubscribe=s.onMsgLoadStateChange(e._handleMsgLoadStateChange),s===l.msgs&&a.add(l,"change:unreadCount",e.onUnreadCount),a.add(l.msgs,"change:last",e.onLastMsgChanged),a.add(s,"remove_msgs",e.onMsgsDelete),i&&s.loadAroundPromise&&s.loadAroundPromise.then(function(){return!0}).checkpoint(e.props.rejectOnUnmount()).catch(de.Unmount,function(){return!1}).catch(de.E404,function(){return T.default.openToast(h.default.createElement(se.default,{msg:re.default.t("message_query_404"),id:(0,le.genId)()})),!0}).catch(function(){return!0}).then(function(t){if(t&&i){var n=u(i),a=n&&n.msg;a&&e.setState({cursor:e.state.cursor.init(a.id,s),focusCtx:n})}})},this.updateForCurrentPosition=he.default.throttle(function(){var t=e.props.rejectOnUnmount();(0,Te.default)({signal:t}).then(function(){t.isRejected()||(e.updateRenderedMsgCache(),b.default.unstable_batchedUpdates(function(){var t=e.scrollContainer;if(null!=t){t.scrollTop<300&&e.loadEarlierMsgs();var n=e.state,a=n.isNearBottom,r=n.cursor,o=e.nearBottom();o?(e.maybeSendSeen(!0),e.isMostRecentCMC()&&a!==o&&e.setState({isNearBottom:o,newUnread:0}),(r.getEnd(e.props.msgCollection)<e.props.msgCollection.length||!e.isMostRecentCMC())&&e.loadRecentMsgs()):a!==o&&e.setState({isNearBottom:o})}}))}).catch(Pe.default,function(){})},100),this._handleMsgLoadStateChange=function(){e.setState({msgLoadState:c(e.props.msgCollection)})},this.onResizeThrottle=he.default.throttle(function(){e.updateRenderedMsgCache()},100),this.onMsgKeyChange=function(t){var n=t.newKey,a=t.oldKey,r=a.toString(),o=n.toString(),i=e.renderedMsgCache.get(r);i&&(e.renderedMsgCache.delete(r),e.renderedMsgCache.set(o,i));for(var l=0;l<e.visibleMsgOrder.length;++l)if(e.visibleMsgOrder[l]===a){e.visibleMsgOrder[l]=n;break}},this.onResizeDebounce=he.default.debounce(function(){var t=e.nearBottom();e.nearBottom!==t&&e.setState({isNearBottom:t})},100),this.loadEarlierMsgs=function(){var t=e.props,n=t.chat,a=t.msgCollection,r=e.state,o=r.cursor,i=r.msgLoadState;if(o.getStart(a)>0)o.hasBefore(a)&&e.setState({cursor:o.loadBefore(a)});else{if(i.noEarlierMsgs||i.isLoadingEarlierMsgs||i.isLoadingAroundMsgs)return;n.loadEarlierMsgs(a).checkpoint(e.props.rejectOnUnmount()).then(function(){var t={};e.state.focusCtx||(t.focusCtx=e.getUnreadFocusCtx(e.props)),o.hasBefore(a)?(t.cursor=o.loadBefore(a),e.setState(t)):e.setState(t)}).catch(de.Unmount,function(){}).catch(function(e){X.default.log("ConversationMsgs:loadEarlierMsgs failed")(),X.default.log(e)()})}},this.loadRecentMsgs=function(){var t=e.props,n=t.chat,a=t.msgCollection,r=e.state,o=r.cursor,i=r.msgLoadState;if(o.getEnd(a)<a.length)e.setState({cursor:o.loadAfter(a)});else{if(i.isLoadingRecentMsgs||i.isLoadingAroundMsgs)return;e.loadRecentMsgsPromise=n.loadRecentMsgs(a).cancellable().checkpoint(e.props.rejectOnUnmount()).then(function(){o.hasAfter(a)?e.setState({cursor:o.loadAfter(a)}):e.state.cursor.getEnd(a)>=a.length&&e.isMostRecentCMC()&&e.forceUpdate()}).catch(de.Unmount,function(){}).catch(function(e){X.default.log("ConversationMsgs:loadRecentMsgs failed")(),X.default.log(e)()}).finally(function(){e.loadRecentMsgsPromise=null})}},this.onComposeHeightChange=function(t){var n=e.scrollContainer;if(n)if(t){if(n&&t<0&&n.scrollTop===n.scrollHeight-n.clientHeight)return;e.setScrollTop(n,n.scrollTop+t)}else{var a=n.scrollHeight-(n.scrollTop+n.clientHeight);(0,R.default)(n,{tween:18},{progress:function(){e.setScrollTop(n,n.scrollHeight-a-n.clientHeight)},duration:300},[.1,.82,.25,1])}},this.getScrollBottom=function(){var t=e.scrollContainer;return t?t.scrollHeight-(t.scrollTop+t.clientHeight):0},this.hideStickyDateMarker=new V.default(function(){e.stickyDateMarker&&e.stickyDateMarker.setVisibility(!1)}),this.updateStickyDateMarker=new V.default(function(t){var n=t||{},a=n.dateMarkerIdx,r=n.silent,o=void 0!==r&&r,i=e.messageList;if(i&&"number"==typeof a){o||Date.now()-(e.programmaticScroll||0)<200||e.showStickyDateMarker();var l=i.getDateMarkerRef(a);if(-1===a)e.stickyDateMarker.updateDateMarkerText();else if(l){var s=l.getTimestamp(),u=Z.default.relativeDateStr(s).toUpperCase();e.stickyDateMarker.updateDateMarkerText(u)}if(e.dateMarkerIdx!==a){var c=i.getDateMarkerRef(e.dateMarkerIdx);c&&c.hide(!1),l&&l.hide(!0)}}}),this.isMsgVisible=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.renderedMsgCache.has(t.toString())&&(!!n||e.getMsgComponent(t))},this.getSequentialMsg=function(t){var n=e.getMsgs();if(n){var a=he.default.findIndex(n,function(e){return t.equals(e.id)});return a>=n.length-1?null:n[a+1]}},this.onScroll=function(t){Date.now()-e.chatOpenScrollTimestamp>w.default.MSG_FOCUS_SCROLL_ANIMATION_DURATION+50&&e.updateForCurrentPosition()},this.onWindowGainedFocus=function(){var t=e.props.chat;!e.clearUnreadTimer&&t.isDirty()&&(e.clearUnreadTimer=setTimeout(function(){delete e.clearUnreadTimer,e.maybeSendSeen()},w.default.CLEAR_CHAT_DIRTY_WAIT))},this.onWindowLostFocus=function(){if(e.state.unreadCount&&e.isMostRecentCMC()){var t=e.props.chat;0===t.unreadCount&&e.setState({unreadCount:0}),t.markedUnread=!1}},this.jumpToBottom=function(){var t=e.props.msgCollection;e.isMostRecentCMC()&&e.state.cursor.getEnd(t)>=t.length?e.scrollToBottom():T.default.openChatBottom(e.props.chat).then(function(t){t&&T.default.focusChatTextInput(e.props.chat)})},this.scrollToBottom=function(t){var n=e.scrollContainer;n&&e.setScrollTop(n,n.scrollHeight),t&&t();var a=e.props.rejectOnUnmount();(0,Te.default)({signal:a}).then(function(){a.isRejected()||e.setState({cursor:e.state.cursor.resetBeforeCursor(e.props.msgCollection)})}).catch(Pe.default,function(){})},this.onLastMsgChanged=function(t,n){var a=e.props.msgCollection,r=e.state.focusCtx,o=e.state.cursor,i=a.last();if(!e.isMostRecentCMC())return void(n&&t&&t.isSentByMe&&e.jumpToBottom());var l={},s=document.hasFocus(),u=e.nearBottom(),c=u;s&&u?(l.unreadCount=0,l.focusCtx=void 0,o=o.setFocusedMsgKey(a)):i&&i.isSentByMe&&n&&(c=!0,e.state.unreadCount&&(l.unreadCount=0,l.focusCtx=void 0,o=o.setFocusedMsgKey(a)),e.jumpToBottom()),o=r&&!l.hasOwnProperty("focusCtx")?o.loadAfter(a,{count:1}):o.loadBeforeCapped(a,{count:1}),o!==e.state.cursor&&(l.cursor=o),he.default.isEmpty(l)||e.setState(l,function(){c&&e.scrollToBottom()})},this.onUnreadCount=function(){var t=e.props.chat,n=e.nearBottom(),a=document.hasFocus();e.maybeSendSeen(n,a);var r={};if(t.unreadCount&&!t.pendingSeenCount&&e.isMostRecentCMC()){r.unreadCount=t.unreadCount;var o=e.getUnreadFocusCtx();o&&(r.focusCtx=o,r.cursor=e.state.cursor.setFocusedMsgKey(e.props.msgCollection,o.msg&&o.msg.id))}var i=n&&r.unreadCount-e.state.unreadCount==1;(!n&&e.isMostRecentCMC()||!t.pendingSeenCount&&e.state.newUnread!==t.unreadCount)&&(r.newUnread=t.unreadCount),he.default.isEmpty(r)||e.setState(r,function(){i&&e.scrollToBottom()})},this.onMsgsDelete=function(){var t=e.state.cursor.ensureValidFocus(e.props.msgCollection);e.state.cursor!==t?e.setState({cursor:t}):e.forceUpdate()},this.onPageUpDown=function(t){ie.default.focus(e.scrollContainer)},this.scrollMessages=function(){var t=he.default.last(e.visibleMsgOrder);if(t){var n=e.messageList;if(n){var a=n.getMsgWrapperRef(t.toString());if(a){var r=(0,g.forbiddenFindDOMNode)(a);if(r){var o=1===e.visibleMsgOrder.length?r.clientHeight:0,i=e.scrollContainer;(0,R.default)(r,"stop"),i&&(0,R.default)(i,"stop"),(0,R.default)(r,"scroll",{duration:300,container:i,offset:o})}}}}},this.onKeyPress=function(t){t.metaKey||t.ctrlKey||(t.preventDefault(),"Enter"!==t.key||t.shiftKey?T.default.pasteChatTextInput(e.props.chat,String.fromCharCode(t.charCode)):T.default.enterChatTextInput(e.props.chat))},this.onContextMenu=function(t){var n=e.props.chat,a=e.props.onSelectMessages,r=void 0;if(n.isUser)r=h.default.createElement(B.default,{chat:n,toContextMenuManager:!0,contact:n.contact,onSelectMessages:a});else if(n.isGroup)r=F.default.group(n,a);else{if(!n.isBroadcast)return;r=F.default.broadcast(n,a)}t.preventDefault(),t.stopPropagation(),t.persist(),e.setState({contextMenu:{menu:r,event:t}})},this.onContextClose=function(){e.setState({contextMenu:null})},this.onPaste=function(t){t.preventDefault();var n=new E.default(t.clipboardData);if(!n.hasFiles()&&n.hasType("text/plain"))return t.persist(),void T.default.sendPasteToCompose(e.props.chat,t);var a=he.default.filter(n.getFiles(),function(e){var t=(0,A.typeFromMimetype)(e.type);return"image"===t||"video"===t});a.length&&T.default.attachMediaDrawer({chat:e.props.chat,files:a})}};De.displayName="ConversationMsgs",t.default=(0,ve.default)((0,be.default)((0,ye.hoc)(De)))},bjaehhfffd:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){a(this,e),this.initSessionId()}return r(e,[{key:"initSessionId",value:function(){this.sessionId=this.newSessionId()}},{key:"newSessionId",value:function(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}}]),e}();t.default=o},bjajdfefga:function(e,t){e.exports={muted:"_2tFQL",viewport:"_1cOGb"}},bjbggbjed:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DISP_LOCATION=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("dcfafchbae"),h=a(p),m=n("defeghgfc"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("caciiaejed"),_=a(y),E=n("bjfecgfdgj"),j=a(E),w=n("dibjgbdhfg"),O=a(w),C=n("bheebijggd"),S=a(C),P=n("egjjcjcg"),M=a(P),T=n("dbgdaechch"),k=n("ejbdjaifi"),N=t.DISP_LOCATION={COMPOSE_BOX:"COMPOSE_BOX",DROPDOWN:"DROPDOWN"},I=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._sectionIds=0===j.default.length?C.ORDERED_TAB_SECTION_IDS.filter(function(e){return e!==S.default.RECENT}):C.ORDERED_TAB_SECTION_IDS,n._handleEmojiPanelFocusNext=function(){n.props.onFocusNext()},n._handleMenuTabClick=function(e){n._selectSection(e)},n._handleMouseDown=function(e){e.stopPropagation(),e.preventDefault(),n._focusSearchInput()},n._handlePanelSection=function(e){n._animationPromise||n.state.selectedSectionId!==e&&n.setState({selectedSectionId:e})},n._onEmoji=function(e){j.default.increment(e),n.props.onEmoji(e)},n._setRefContent=function(e){n._refContent=e},n.renderEmojiTab=function(e,t){return c.createElement(b.default,{key:e,onClick:n._handleMenuTabClick,sectionId:e,selected:t})},n._scrollSectionIds=n._sectionIds;var a=void 0;return a=n.props.displayCache?n.props.displayCache:{scrollTop:0,sectionId:n._sectionIds[0],showSearchInput:!0},n._displayCache=a,n.state={selectedSectionId:a.sectionId},n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.uiIdle(function(){e.restoreFocus()})}},{key:"restoreFocus",value:function(e){this._focusSearchInput(e)}},{key:"_focusSearchInput",value:function(e){this._refContent&&this._refContent.focusSearchInput(e)}},{key:"_selectSection",value:function(e){this.state.selectedSectionId!==e&&(M.default.setLastEmojiTab(e),this.setState({selectedSectionId:e}),this._focusSearchInput(),this._scrollToSection(e))}},{key:"_scrollToSection",value:function(e){var t=this;if(this._refContent){var n=this._refContent.scrollToSection(e);this._animationPromise=n,n.finally(function(){n===t._animationPromise&&delete t._animationPromise})}}},{key:"render",value:function(){var e=(0,d.default)(O.default.emojiPanel,r({},O.default.panelDropdown,this.props.displayLocation===N.DROPDOWN));return c.createElement("div",{className:e,onMouseDown:this._handleMouseDown},c.createElement(_.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderEmojiTab}),c.createElement(h.default,{displayCache:this._displayCache,width:this.props.width||T.EMOJI_PICKER_WIDTH,onDisplayCache:this.props.onDisplayCache,onFocusPrev:this.props.onFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext,onEmoji:this._onEmoji,onSection:this._handlePanelSection,ref:this._setRefContent,sectionIds:this._scrollSectionIds}))}}]),t}(c.PureComponent);I.defaultProps={displayLocation:N.DROPDOWN},I.displayName="EmojiPanel";var R=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"restoreFocus",value:function(e){this.getComponent().restoreFocus(e)}}]),t}((0,v.default)((0,k.hocWithDefaults)(I)));t.default=R},bjcfdghhfc:function(e,t){e.exports={"-item-spacing":"16px",itemSpacing:"16px","-item-width":"26px",itemWidth:"26px",muted:"_1LS1z",container:"-XQxp",active:"_1oNFt",square24:"_1jjUV",square26:"UNg3F",btn:"_27Kg1",top:"_24zF5",padding:"_2NeJ7"}},bjcgcdejaa:function(e,t,n){"use strict";function a(e,t){var n=e;if(n){do{n=t===i.NEXT?n.nextSibling:n.previousSibling}while(n&&(0,o.default)(n));return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.DIR=void 0,t.default=a;var r=n("ccagfiehde"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=t.DIR={NEXT:"NEXT",PREV:"PREV"}},bjddgjgae:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("ceffhbhahb"),d=a(f),p=n("ejbdjaifi"),h=n("gbfffciea"),m=a(h),b=n("eiiicijcj"),g=a(b),v=n("ecibddhig"),y=r(v),_=n("ihfccfgdf"),E=a(_),j=n("dfhbgghjei"),w=a(j),O=n("bghjfahjfd"),C=a(O),S=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._showMediaMissing=function(){m.default.openModal(c.createElement(g.default,{msg:a.props.msg}))},a._downloadMedia=function(){a.props.msg.forceDownloadMedia(!0)},a._cancelDownload=function(){a.props.msg.cancelDownload()},a._cancelUpload=function(){a.props.msg.cancelUpload()},a._resumeUpload=function(){a.props.msg.resumeUpload()},a._resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props.mediaData,t=void 0,n=void 0,a=e.mediaStage;switch(a){case"RESOLVED":t=null,n=null;break;case"FETCHING":t=this._cancelDownload,n=c.createElement(y.PendingCancel,null);break;case"NEED_POKE":t=this._downloadMedia,n=c.createElement(y.Download,{filesize:e.size});break;case"UPLOADING":t=this._cancelUpload,n=c.createElement(y.PendingCancel,null);break;case"NEED_UPLOAD":t=this._resumeUpload,n=c.createElement(y.Upload,{filesize:e.size});break;case"REMOTE_NEED_UPLOAD":t=this._resumeRemoteUpload,n=c.createElement(y.Upload,{filesize:e.size});break;case"ERROR_MISSING":t=this._showMediaMissing,n=c.createElement(y.Upload,{filesize:e.size});break;case"ERROR_UNSUPPORTED":t=this._showMediaMissing,n=c.createElement(y.Download,{filesize:e.size});break;case"SENDING":case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":n=c.createElement(y.Pending,null);break;default:throw new Error("invalid value for sticker mediaStage '"+a+"'")}return c.createElement("div",{className:(0,d.default)(w.default.thumb,C.default.cursorAuto),onClick:t},n,this.props.children)}}]),t}(c.PureComponent);S.CONCERNS={mediaData:["mediaStage","size"]},S.displayName="StickerMediaControl",t.default=(0,E.default)((0,p.hoc)(S),S.CONCERNS)},bjdfbiahbi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=(0,u.default)(p.default.chatSubtitle,r({},p.default.chatSubtitleHeader,"title"===e.location));return l.createElement("div",{className:t},l.createElement(f.default,{titlify:!0,className:p.default.chatSubtitleText,direction:"inherit",text:e.text}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("ceffhbhahb"),u=a(s),c=n("fifhbjiec"),f=a(c),d=n("hbfbchadb"),p=a(d);o.displayName="ChatSubtitleText"},bjdjbcefcc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n("dfcggebdjj"),s=a(l),u=n("ccchcigijb"),c=a(u),f=n("eccjbdjafd"),d=a(f),p=n("bafdbchefg"),h=a(p),m=n("bfccafhbbb"),b=a(m),g=n("bfjfgcfade"),v=a(g),y=n("eaecbgafff"),_=a(y),E=n("cdheafhdbh"),j=a(E),w=n("ciibfajghc"),O=a(w),C=n("ddibegacej"),S=a(C),P=n("ecidjifge"),M=a(P),T=new c.default,k=new v.default,N=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}((0,d.default)([s.default,k,_.default,T,h.default,O.default]));N.Suggestions=(0,M.default)(b.default,{plugin:T}),N.EmojiSuggestions=(0,M.default)(j.default,{plugin:k}),N.QuickRepliesSuggestions=(0,M.default)(S.default,{plugin:O.default}),t.default=N},bjeccdffag:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("becfabjeeg"),i=a(o),l=n("bfdcadbbif"),s=a(l),u=n("bbahcjdgfa"),c=a(u),f=n("ddhijeejag"),d=function(e){var t=e.children,n=e.onClick,a=n?{onClick:n}:{};return f.createElement("div",r({className:c.default.docState},a),t)};d.displayName="DocState";var p=function(e){var t=e.onClick;return f.createElement(d,{onClick:t||function(){}},f.createElement(s.default,{name:"audio-download"}))};p.displayName="Download";var h=function(e){var t=e.outgoingMsg;return f.createElement(d,null,f.createElement("div",{className:c.default.spinner},f.createElement(i.default,{stroke:3,size:32,outgoingMsg:t})))};h.displayName="Pending";var m=function(e){var t=e.outgoingMsg;return f.createElement(d,null,f.createElement("div",{className:c.default.spinner},f.createElement(i.default,{stroke:3,size:32,outgoingMsg:t})),f.createElement(s.default,{name:"audio-cancel-noborder"}))};m.displayName="PendingCancel";var b=function(){return f.createElement(d,null,f.createElement(s.default,{name:"audio-upload"}))};b.displayName="Upload",e.exports={Download:p,Pending:h,PendingCancel:m,Upload:b}},bjecicbiic:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return i.default.sendConversationDelete(e,t).then(function(a){if(s.default.supportsFeature(s.default.F.MODEL_STORAGE)&&200===a.status&&!a._duplicate){var r=n();if(t&&t.equals(r)||t===r)return u.Chat.remove(e.toString()).then(function(){return a})}return a})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationDelete=r;var o=n("chajfbfiga"),i=a(o),l=n("ccaaiecfib"),s=a(l),u=n("cefcddgdgg")},bjedheiidd:function(e,t){e.exports={muted:"_21wvf",chatListPanel:"_1uESL",panelBody:"_1RYPC",panelSearch:"_2HS9r",spinner:"etTyb",unreadContainer:"H5L2i",unread:"_3-3IT",unreadBody:"_3X__T",unreadIcon:"_2Ojo7"}},bjfacgbcjj:function(e,t){e.exports={muted:"wZH48",msg:"_1WMT2",hover:"_1lakC",current:"_2nA3s",active:"_2V_Wj"}},bjfjacgeai:function(e,t){e.exports={muted:"_1abrG",sensor:"_2xINO"}},bjghdijfjd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bhhdeihhhf"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled,a=this.props.onMarkUnread.bind(null,!t.unreadCount);return u.createElement(f.default,{a8n:"mi-mark-as",action:a,key:"MarkUnreadMenuItem",disabled:n},t.unreadCount?l10n.t("mark_read_chat"):l10n.t("mark_unread_chat"))}}]),t}(u.PureComponent);m.CONCERNS={chat:["unreadCount"]},m.displayName="MarkUnreadMenuItem",t.default=(0,p.default)((0,h.hoc)(m),m.CONCERNS)},bjgibbgbai:function(e,t,n){"use strict";var a=n("chgaccicf"),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=(0,r.default)({EMOJI_ENTER:void 0,EMOJI_INACTIVE:void 0,EMOJI_LEFT:void 0,EMOJI_RIGHT:void 0,EMOJI_SEARCH:void 0,EMOJI_TAB:void 0})},bjhbahjgdi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e&&Array.isArray(e)?e.reduce(function(e,n){return[].concat(r(e),[(0,f.default)(t("id",n))])},[]):[]}var i=n("bdiiahhjbe"),l=a(i),s=n("ccgjijjbbj"),u=a(s),c=n("cahfddcdga"),f=a(c),d={chat:["Chat","Contact"],message:["Msg"],contact:["Contact"]},p={queryLabels:function(){var e=this;return new Promise(function(t,n){var a=function(a){e.BinaryProtocol.read(a).then(function(n){var a={labels:[]};if(l.default.logColor("green","bin-recv: response,label",n)(),"response"===e.N.tag(n)&&"label"===e.N.attr("type",n)){a.checksum=e.N.attr("checksum",n);var r=e.N.children(n);if(Array.isArray(r))for(var o=0;o<r.length;o++){var i=e.parseLabel(r[o]),s=i&&i.label;s&&a.labels.push(s)}}t(a)}).catch(n)},r=e.queryNode({type:"label"});e.binSend("sendEphemeral",r,n,{onSend:e.binWrap(a,t),onDrop:e.wrap(n)},{debugString:"query,labels",metric:e.M.QUERY_LABELS})})},parseLabel:function(e){if("label"===this.N.tag(e)){var t=parseInt(this.N.attr("count",e),10),n=this.N.attr("id",e),a=this.N.attr("name",e),r=this.N.attr("color",e),i=isNaN(t)?void 0:t,l=this.N.attr("type",e),s=void 0;if("update"===l)for(var c=this.N.children(e),p=0;p<c.length;p++){var h=c[p],m=null;switch(this.N.tag(h)){case"chat":m=this.N.attr("jid",h);break;case"message":var b=this.N.attr("jid",h),g=this.N.attr("index",h),v="true"===this.N.attr("owner",h),y=this.N.attr("participant",h);m=new u.default({fromMe:v,remote:b,id:g,participant:y})}var _={id:(0,f.default)(m),labels:o(this.N.children(h),this.N.attr),collection:d[this.N.tag(h)]};s=s?s.concat(_):[_]}var E={label:{id:n,name:a,color:r,count:i},type:l,labelUpdates:s},j=[!(l||n&&a&&r),l&&"update"!==l&&"delete"!==l];return this.dropIfConditionMet(j,E)}}};e.exports=p},bjhcbbbjdc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MsgComponent=void 0;var l=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ebhdjgicgg"),d=a(f),p=n("cbifffdech"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("dibgadcjce"),v=a(g),y=n("cfficaagef"),_=a(y),E=n("ccaaiecfib"),j=a(E),w=n("icbjhhidg"),O=a(w),C=n("gddafccec"),S=a(C),P=n("biadgfadhh"),M=a(P),T=n("bdiiahhjbe"),k=a(T),N=n("fccahhfch"),I=a(N),R=n("dhccihecch"),A=a(R),D=n("gigggciff"),x=a(D),L=n("caigihje"),F=a(L),U=n("ihfccfgdf"),B=a(U),G=n("dghebhejhb"),V=a(G),W=n("ejbdjaifi"),H=n("bheafeifce"),Y=n("dbifijhjeg"),q=a(Y),K=n("bejccccege"),z=a(K),Q=n("chdggedfah"),X=a(Q),J=n("cfbeeihgea"),Z=a(J),$=n("ccjgccbced"),ee=a($),te=n("djjgggigcf"),ne=a(te),ae=n("cggajedfhg"),re=a(ae),oe=n("dbgefjefac"),ie=a(oe),le=n("jjbcbhhjh"),se=a(le),ue=n("beadfddidc"),ce=n("hichbacjh"),fe=a(ce),de=n("eacehgiidh"),pe=a(de),he=t.MsgComponent=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"getQuotedMsg",value:function(e){var t=this.props,n=t.displayType,a=t.msg,r=t.chat,o=void 0;if(j.default.supportsFeature(j.default.F.REPLIES_IN)&&n!==b.default.DISP_TYPE.GALLERY){var i=a.quotedMsgObj();if(i)o=c.createElement(se.default,{msg:i,key:i.id.toString(),rootMsg:(0,H.unproxy)(a),displayType:n,chat:(0,H.unproxy)(r),t:a.t});else{var l=a.getQuotedMsgAdminGroupJid();l&&(o=c.createElement(fe.default,{quotedGroupJid:l}))}}return o}},{key:"getRef",value:function(){return this.ref}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.displayAuthor,a=e.displayType,r=e.isMsgVisible,o=e.msg;switch(o.type){case b.default.MSG_TYPE.CHAT:return c.createElement(q.default,{msg:(0,H.unproxy)(o),contact:o.senderObj,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.CHAT),trusted:o.isTrusted(),displayType:a,displayAuthor:n});case b.default.MSG_TYPE.IMAGE:return c.createElement(A.default,{msg:o,displayType:a,mediaData:o.mediaData,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.IMAGE),isMsgVisible:r,trusted:o.isTrusted(),displayAuthor:n});case b.default.MSG_TYPE.PRODUCT:return j.default.supportsFeature(j.default.F.CATALOG)?c.createElement(re.default,{msg:o,mediaData:o.mediaData,displayAuthor:n,trusted:o.isTrusted()}):c.createElement(z.default,{msg:(0,H.unproxy)(o),displayAuthor:n});case b.default.MSG_TYPE.GROUP_NOTIFICATION:case b.default.MSG_TYPE.GP2:case b.default.MSG_TYPE.BROADCAST_NOTIFICATION:case b.default.MSG_TYPE.NOTIFICATION:case b.default.MSG_TYPE.NOTIFICATION_TEMPLATE:case b.default.MSG_TYPE.E2E_NOTIFICATION:case b.default.MSG_TYPE.CALL_LOG:return c.createElement(I.default,{contact:(0,H.unproxy)(t).contact,msg:o,ref:(0,W.GetRef)("ref",this)});case b.default.MSG_TYPE.AUDIO:return c.createElement(d.default,{msg:o,mediaData:o.mediaData,quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.AUDIO),displayAuthor:n,displayType:a,ref:(0,W.GetRef)("ref",this)});case b.default.MSG_TYPE.VIDEO:return o.isGif?c.createElement(_.default,{displayAuthor:n,displayType:a,isMsgVisible:r,maxWidth:this.props.maxWidth,mediaData:o.mediaData,msg:o,quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.VIDEO),ref:(0,W.GetRef)("ref",this),trusted:o.isTrusted()}):c.createElement(ie.default,{displayAuthor:n,displayType:a,hover:this.props.hover,isMsgVisible:r,mediaData:o.mediaData,msg:o,quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.VIDEO),ref:(0,W.GetRef)("ref",this),trusted:o.isTrusted()});case b.default.MSG_TYPE.VCARD:return c.createElement(ee.default,{msg:o,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:a,displayAuthor:n});case b.default.MSG_TYPE.MULTI_VCARD:return c.createElement(ne.default,{msg:o,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:a,displayAuthor:n});case b.default.MSG_TYPE.GROUPS_V4_INVITE:return c.createElement(pe.default,{msg:o,ref:(0,W.GetRef)("ref",this),displayAuthor:n});case b.default.MSG_TYPE.LOCATION:return o.isLive?c.createElement(O.default,{msg:(0,H.unproxy)(o),ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.LOCATION),trusted:o.isTrusted(),displayAuthor:n}):c.createElement(M.default,{msg:(0,H.unproxy)(o),ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.LOCATION),displayAuthor:n});case b.default.MSG_TYPE.PAYMENT:return c.createElement(S.default,{msg:o,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.PAYMENT),displayAuthor:n});case b.default.MSG_TYPE.PTT:return c.createElement(x.default,{msg:o,mediaData:o.mediaData,quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.PTT),displayAuthor:n,displayType:a,ref:(0,W.GetRef)("ref",this),getSequentialMsg:this.props.getSequentialMsg});case b.default.MSG_TYPE.STICKER:return c.createElement(V.default,{msg:o,mediaData:o.mediaData,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.IMAGE),displayAuthor:n,position:this.props.position});case b.default.MSG_TYPE.DOCUMENT:return c.createElement(v.default,{msg:o,displayType:a,mediaData:o.mediaData,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.DOCUMENT),trusted:o.isTrusted(),displayAuthor:n});case b.default.MSG_TYPE.UNKNOWN:return c.createElement(z.default,{msg:(0,H.unproxy)(o),displayAuthor:n});case b.default.MSG_TYPE.CIPHERTEXT:return c.createElement(h.default,{msg:o,ref:(0,W.GetRef)("ref",this),displayAuthor:n});case b.default.MSG_TYPE.REVOKED:return c.createElement(F.default,{msg:(0,H.unproxy)(o),ref:(0,W.GetRef)("ref",this)});case b.default.MSG_TYPE.OVERSIZED:return c.createElement(Z.default,{msg:(0,H.unproxy)(o),displayAuthor:n});case b.default.MSG_TYPE.TEMPLATE:if(!(0,ue.shouldEnableHsm)())return c.createElement(X.default,{msg:(0,H.unproxy)(o),displayType:a,displayAuthor:n});switch(o.subtype){case"image":return c.createElement(A.default,{msg:o,displayType:a,mediaData:o.mediaData,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.TEMPLATE),isMsgVisible:r,trusted:o.isTrusted(),displayAuthor:n});case"video":return c.createElement(ie.default,{displayAuthor:n,displayType:a,hover:this.props.hover,isMsgVisible:r,mediaData:o.mediaData,msg:o,quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.TEMPLATE),ref:(0,W.GetRef)("ref",this),trusted:o.isTrusted()});case"location":return c.createElement(M.default,{msg:(0,H.unproxy)(o),ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.TEMPLATE),displayAuthor:n});case"document":return c.createElement(v.default,{msg:o,displayType:a,mediaData:o.mediaData,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.TEMPLATE),trusted:o.isTrusted(),displayAuthor:n});case"text":return c.createElement(q.default,{msg:(0,H.unproxy)(o),contact:o.senderObj,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.TEMPLATE),trusted:o.isTrusted(),displayType:a,displayAuthor:n});default:return c.createElement(X.default,{msg:(0,H.unproxy)(o),displayType:a,displayAuthor:n})}case b.default.MSG_TYPE.HSM:return c.createElement(q.default,{msg:(0,H.unproxy)(o),contact:o.senderObj,ref:(0,W.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(b.default.MSG_TYPE.HSM),trusted:o.isTrusted(),displayType:a,displayAuthor:n});default:return k.default.log("messageList:render Unknown message type: "+o.type)(),c.createElement(z.default,{msg:(0,H.unproxy)(o),ref:(0,W.GetRef)("ref",this),displayAuthor:n})}}}]),t}(c.PureComponent);he.CONCERNS={msg:["isGif","isLive","mediaData","senderObj","subtype","type","t","id","title"],chat:["trusted"]},he.displayName="MsgComponent";var me=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"getRef",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getRef()}}]),t}((0,B.default)((0,W.hoc)(he),he.CONCERNS));t.default=me},bjhdcidgah:function(e,t,n){e.exports=n.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},bjhfhjjdgd:function(e,t){e.exports={muted:"_1UAz5",container:"_3W2zz",retryButton:"_3_cuW"}},bjhhaacbib:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("dddjddjahc"),f=a(c),d=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handlePlayByControls=function(){a.props.refVideo&&a.props.refVideo.play()},a.handlePauseByControls=function(){a.props.refVideo&&a.props.refVideo.pause()},a.handleSetCurrentTimeByControls=function(e){a.props.refVideo&&a.props.refVideo.setCurrentTime(e)},a.handleSetVolumeByControls=function(e){a.props.refVideo&&a.props.refVideo.setVolume(e)},a.handleSetMutedByControls=function(e){a.props.refVideo&&a.props.refVideo.setMuted(e)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){if(!this.props.refVideo)return null;var e=this.props.videoMetadata;return e?u.default.createElement(f.default,{duration:e.duration,progress:e.currentTime,volume:e.volume,muted:e.muted,bufferedTime:e.bufferedTime,onPlay:this.handlePlayByControls,onPause:this.handlePauseByControls,onProgressChange:this.props.handleSetCurrentTimeByControls?this.props.handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,onVolumeValueChange:this.handleSetVolumeByControls,onMutedValueChange:this.handleSetMutedByControls,isVideoPlaying:this.props.isVideoPlaying,isFullscreenMode:this.props.isFullscreenMode,className:this.props.controlsClassName}):null}}]),t}(s.PureComponent);d.displayName="VideoRefControls",t.default=d},bjjbghfcbd:function(e,t){e.exports={muted:"_2NZ7X",msg:"_2jwrE",text:"_3avGD",bubble:"_1jnqn",author:"_3qTO9",hasSuspiciousLinks:"_2dH21",hasAuthor:"_1SCY2",suspiciousLabel:"VcunG"}},bjjegiiahd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("bjigbaghc"),o=a(r),i=n("eacidghfgh"),l=a(i),s=n("hjbbdjjdf"),u=n("dgdjiicfdg"),c={setGroupDescription:function(e,t,n,a){var r=this;return new Promise(function(i,c){var f=l.default.tag(),d=r.wrap(i);d.tag=f;var p=void 0;p=(0,s.isString)(t)?[["description",{id:n,prev:a||"none"},t]]:[["description",{prev:a||"none",delete:"true"},void 0]];var h=["group",{id:f,jid:e,type:"description",author:o.default.me},p],m=r.actionNode("set",[h]);r.binSend("send",m,c,{clientCacheable:!0,onSend:d,onDrop:r.wrap(c)},{debugString:"action,group,desc",metric:r.M.GROUP,expires:u().unix()})})},setGroupProperty:function(e,t,n){var a=this;return"announcement"!==t&&"restrict"!==t&&"no_frequently_forwarded"!==t?Promise.reject("invalid group property"):new Promise(function(r,i){var s=l.default.tag(),c=a.wrap(r);c.tag=s;var f=void 0;switch(t){case"announcement":f=[["announcement",{value:(!!n).toString()},void 0]];break;case"restrict":f=[["locked",{value:(!!n).toString()},void 0]];break;case"no_frequently_forwarded":f=[["no_frequently_forwarded",{value:(!!n).toString()},void 0]]}var d=["group",{id:s,jid:e,type:"prop",author:o.default.me},f],p=a.actionNode("set",[d]);a.binSend("send",p,i,{clientCacheable:!0,onSend:c,onDrop:a.wrap(i)},{debugString:["action,group,prop",t,n].join(),metric:a.M.GROUP,expires:u().unix()})})},demoteParticipants:function(e,t){return this.setGroupParticipants("demote",e,t)}};e.exports=c},bjjiehdfge:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbgdaechch"),f=a(c),d=n("bhhdeihhhf"),p=a(d),h=n("bfdcadbbif"),m=a(h),b=n("bhfdfhefca"),g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.onSendProduct,n=e.onReportProduct;return u.createElement(b.MenuBarItem,{a8nText:"menu-bar-menu",icon:u.createElement(m.default,{name:"menu"}),title:l10n.t("menutitle_menu")},u.createElement(f.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ProductDetailHeader",dirX:"LEFT"},u.createElement(p.default,{a8n:"mi-send menu-item",action:t},l10n.t("send_product_btn")),u.createElement(p.default,{a8n:"mi-report menu-item",action:n},l10n.t("report_product_btn"))))}}]),t}(u.PureComponent);g.displayName="DetailDrawerMenu",t.default=g},bjjjdidhhi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhfbfehaef"),f=a(c),d=n("fffdgbfji"),p=a(d),h=n("chcadgfgad"),m=a(h),b=n("caffijjhc"),g=a(b),v=n("cfaiaibca"),y=a(v),_=n("dciidighgh"),E=a(_),j=n("bbddghdigd"),w=a(j),O=n("eadfaddcj"),C=a(O),S=n("egjjcjcg"),P=a(S),M=n("bcbahjefec"),T=a(M),k=n("facgccaif"),N=n("bidfjbaebi"),I=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onDelete=function(){e.end()},e.onRevoke=function(){e.showRevokeNux?(e.push(e.renderRevokeNux(),"none"),P.default.setNUX(C.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX,{views:1,maxViews:1})):e.end()},e.onPopupCancel=function(){e.end()},e.onCancel=function(){e.end()},e.openRevokeLearnMore=function(){(0,N.openExternalLink)((0,k.getRevokeFaqUrl)())},e.onRevokeNuxClicked=function(){e.end()},e.renderRevokeNux=function(){var t=[u.createElement(y.default,{type:"plain",onClick:e.openRevokeLearnMore,key:1},p.default.t("learn_more")),u.createElement(y.default,{type:"primary",onClick:e.onRevokeNuxClicked,key:0},p.default.t("web_ok"))];return u.createElement(g.default,{displayName:"MsgRevokeNuxModal",escapable:!1},u.createElement(f.default,{handlers:{enter:e.onRevokeNuxClicked}},u.createElement(m.default,{actions:t},u.createElement("div",{className:E.default.label},p.default.t("revoke_legal_disclaimer_nux")))))};var n=P.default.getNUX(C.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX);return e.showRevokeNux=!n||n.views<n.maxViews,e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.chat,n=e.msgList,a=e.deletePrompt,r=e.revokePrompt,o=e.toastPosition,i=e.onCancel,l=e.isMsgVisible;this.push(u.createElement(w.default,{chat:t,msgList:n,deletePrompt:a,revokePrompt:r,toastPosition:o,onDelete:this.onDelete,onRevoke:this.onRevoke,onPopupCancel:this.onPopupCancel,onCancel:i,isMsgVisible:l}))}}]),t}(T.default);t.default=I},caaaaajeei:function(e,t){e.exports={muted:"_3KBaQ",loadingContainer:"_2oFRN",text:"_1k-B6",loadingText:"_1un6f",shiftUp:"GXo3L"}},caacedccf:function(e,t){e.exports={muted:"_16Um-",receiverTxt:"_2lhWJ",container:"mvJ45",thumb:"_2v9GR",amount:"_3toSE",amountCurrency:"_2K1zq",amountInteger:"VAqie",amountDecimal:"-Jyco",body:"_3HzTz",bubbleIn:"S3POh",bubbleOut:"_3HMts",bodyIcon:"_1zHVl",bodyText:"_3mOte",status:"sFZLk",failed:"_2HENr",processing:"_3Z_S4",waiting:"_1nWYZ",success:"_2LC2w",quotedMsg:"_3kaXn",quotedMsgInComposeBox:"_15F_E",wrapper:"X0OVJ",quotedMsgAuthor:"_3ewWV",icon:"_3UyrL",iconSymbol:"WXyoJ"}},caafgbfcba:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=e.spinner&&!e.button?f.default.createElement("div",{className:N.default.spinner},f.default.createElement(T.default,{stroke:3,size:34,outgoingMsg:e.outgoingMsg})):null,a=!e.icon||e.button||e.spinner?null:f.default.createElement("button",{className:N.default.button,onClick:e.action},e.icon),o=e.children||f.default.createElement("input",{type:"range",className:N.default.track,min:0,max:100,value:0,disabled:"disabled"}),i=(0,b.default)(N.default.audio,(t={},r(t,N.default.audioIn,!e.outgoingMsg),r(t,N.default.audioOut,e.outgoingMsg),r(t,N.default.played,e.played),r(t,N.default.isGallery,e.displayType===R.default.DISP_TYPE.STARRED_MSGS||e.displayType===R.default.DISP_TYPE.GALLERY),t));return f.default.createElement("div",{className:i},f.default.createElement("div",{className:N.default.controls},e.button,n,a),f.default.createElement("div",{className:N.default.body},o))}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.AudioPlayerFrame=s;var c=n("ddhijeejag"),f=a(c),d=n("djciiabagi"),p=n("cahfddcdga"),h=a(p),m=n("ceffhbhahb"),b=a(m),g=n("hbhijdici"),v=a(g),y=n("djidacbicd"),_=a(y),E=n("eceadcicaf"),j=a(E),w=n("ejbdjaifi"),O=n("bjebjijbfc"),C=a(O),S=n("bfdcadbbif"),P=a(S),M=n("becfabjeeg"),T=a(M),k=n("dhbegafffi"),N=a(k),I=n("eadfaddcj"),R=a(I),A=n("gbfffciea"),D=a(A),x=n("fbjjefaic"),L=a(x),F=n("ccaaiecfib"),U=a(F),B=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefAudio=function(e){n.refAudio=(0,d.findDOMNode)(e)},n.onPlayClick=function(){var e=n.refAudio;e&&(n.props.playing?e.pause():(n.trackCursorRef&&n.trackCursorRef.current&&(n.startingScrollPos=n.trackCursorRef.current.getBoundingClientRect().top),e.play()))},n.onPttPlayback=function(e){if(n.props.currMsgId===e){n.setState({sequentialPlayback:!0,progress:0}),n.trackCursorRef&&n.trackCursorRef.current&&(n.startingScrollPos=n.trackCursorRef.current.getBoundingClientRect().top);var t=n.refAudio;t&&n.delayPtt(R.default.PTT_PLAYBACK_DELAY).then(function(){t.currentTime=0,t.play()})}},n.delayPtt=function(e){return new Promise(function(t){return n.props.setInterval(t,e)})},n.onNewPttRecording=function(){var e=n.refAudio;e&&(n.props.playing&&e.pause(),n.delayPttPromise&&n.delayPttPromise.cancel())},n.onPlaying=function(){n.props.onPlayingUpdate(!0)},n.onPause=function(){n.props.onPlayingUpdate(!1)},n.onEnded=function(){var e=n.refAudio;e&&(e.currentTime=0,e.load(),U.default.supportsFeature(U.default.F.SEQUENTIAL_PLAYBACK))},n.onTimeUpdate=function(){var e=n.refAudio;if(e){var t=0;v.default.isFinite(e.duration)&&(t=Math.round(100*Math.min(1,e.currentTime/e.duration)),n.props.onTimeUpdate(e.currentTime)),n.setState({progress:t})}},n.onDrag=function(e){var t=n.refAudio;if(t){var a=e.target.value;n.setState({progress:a}),t.duration&&(t.currentTime=t.duration/100*a)}},n.onPlayerError=function(e){},n.state={progress:0,playedBefore:e.played,sequentialPlayback:!1},n.trackCursorRef=f.default.createRef(),n}return l(t,e),u(t,[{key:"componentDidMount",value:function(){var e=(0,h.default)(this.refAudio);this.props.listeners.add(e,"playing",this.onPlaying),this.props.listeners.add(e,"pause",this.onPause),this.props.listeners.add(e,"ended",this.onEnded),this.props.listeners.add(e,"timeupdate",this.onTimeUpdate),this.props.listeners.add(e,"durationchange",this.onTimeUpdate),this.props.listeners.add(e,"progress",this.onTimeUpdate),this.props.listeners.add(D.default,"pttRecording",this.onNewPttRecording),this.props.listeners.add(D.default,"sequential_playback_ptt",this.onPttPlayback)}},{key:"isValidPlaybackSequence",value:function(e){return e.type===R.default.MSG_TYPE.PTT&&!(e.isSentByMe&&!this.props.outgoingMsg&&!this.state.playedBefore)}},{key:"render",value:function(){var e=this.props.playing?"audio-pause":"audio-play",t={width:this.state.progress-this.state.progress/100*3+"%"},n=this.props.duration?f.default.createElement("div",{className:N.default.duration},C.default.durationStr(this.props.duration)):null,a=f.default.createElement("button",{className:N.default.button,onClick:this.onPlayClick},f.default.createElement(P.default,{name:e,directional:!0}));return f.default.createElement(s,{button:a,played:this.props.played,outgoingMsg:this.props.outgoingMsg,displayType:this.props.displayType},n,f.default.createElement("div",{className:N.default.trackContainer,ref:this.trackCursorRef},f.default.createElement("span",{className:N.default.progress,style:t}),f.default.createElement("input",{type:"range",className:N.default.track,value:this.state.progress,onChange:this.onDrag,min:"0",max:"100"}),f.default.createElement(_.default,{ref:this.setRefAudio,url:this.props.url,preload:"auto",onError:this.onPlayerError,autoPlay:this.props.autoPlay})))}}]),t}(c.PureComponent);B.displayName="PTTPlayer",s.displayName="AudioPlayerFrame",t.default=(0,L.default)((0,j.default)((0,w.hoc)(B)))},caahjiefj:function(e,t){e.exports={muted:"_3w4BY",bodyContainer:"_20KNO",gifPanel:"_2PAm9",panelBody:"_3HCkv"}},cabhjigfgc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t,n=e.children,a=e.onClick,o=e.icon,i=e.className,s=e.color,c=e.theme,d=o?l.createElement("div",{className:p.default.icon},o):null,h=(0,u.default)(p.default.container,i,(t={},r(t,p.default.containerNoIcon,!o),r(t,p.default.containerListAligned,"list-aligned"===c),t)),b=a?"button":null,g="string"==typeof n?n:null;return l.createElement("div",{"data-a8n":f.default.key(e.a8nText),className:h,"data-ignore-capture":"any",onClick:a,role:b,title:g},d,l.createElement("div",{className:p.default.bodyContainer},l.createElement("div",{className:p.default.body},l.createElement(m.default,{theme:"title",color:s},n))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("ceffhbhahb"),u=a(s),c=n("effbcehec"),f=a(c),d=n("hddadiifa"),p=a(d),h=n("eedjbihej"),m=a(h);o.displayName="DrawerButton"},cacaidhjb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bjigbaghc"),f=a(c),d=n("djcchigfih"),p=a(d),h=n("dajffajabh"),m=a(h),b=n("djbhiedbef"),g=a(b),v=n("cabhjigfgc"),y=a(v),_=n("fifhbjiec"),E=a(_),j=n("ibeajfihb"),w=a(j),O=n("fffdgbfji"),C=a(O),S=n("dhhfaeacef"),P=a(S),M=n("dhbceejbjg"),T=a(M),k=n("bfdcadbbif"),N=a(k),I=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=u.createElement(w.default,{id:this.props.profileId}),t=u.createElement(P.default,{id:f.default.me,size:82,quality:P.default.Quality.HIGH}),n=u.createElement(E.default,{text:f.default.pushname,ellipsify:!0,titlify:!0});return u.createElement(p.default,{theme:"settings"},u.createElement(m.default,{title:C.default.t("settings_flow_title"),onBack:this.props.onClose,type:h.DRAWER_HEADER_TYPE.LARGE}),u.createElement(g.default,null,u.createElement(T.default,{onClick:this.props.onProfile,image:t,primary:n,theme:"identity",secondary:e}),u.createElement(y.default,{a8nText:"li-notifications",icon:u.createElement(N.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},C.default.t("menuitem_notifications")),u.createElement(y.default,{a8nText:"li-chat_wallpaper",icon:u.createElement(N.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},C.default.t("menuitem_wallpaper")),u.createElement(y.default,{a8nText:"li-blocked",icon:u.createElement(N.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},C.default.t("menuitem_blocked")),void 0,u.createElement(y.default,{a8nText:"li-help",icon:u.createElement(N.default,{name:"settings-help"}),onClick:this.props.onHelp},C.default.t("menuitem_help")),void 0))}}]),t}(u.PureComponent);I.displayName="SettingsDrawer",t.default=I},cacbgbjgef:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("ddidadfgch"),b=a(m),g=n("ecdifdiid"),v=a(g),y=n("ihfccfgdf"),_=a(y),E=n("ejbdjaifi"),j=n("bgjddhffji"),w=n("bheafeifce"),O=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onClick=function(e,t){var n=a.props,r=n.product,o=n.sessionId;(0,j.logDetailImageClick)((0,w.unproxy)(r),o);var i=function(){return e},l={activeProductImage:t,productImageCollection:r.productImageCollection,getZoomNode:i,product:r};h.default.productImageViewerModal(l,o)},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.product,a=t.shouldShrinkUp,o=t.deletedProduct,i=t.fetching,l=n.productImageCollection.toArray();return c.createElement("div",{className:(0,d.default)((e={},r(e,v.default.container,1===l.length),r(e,v.default.gridContainer,l.length>1),r(e,v.default.shrinkUp,l.length>1&&a),e))},c.createElement(b.default,{columns:2,lastColumnNumRows:2,imageModels:l,numberTextClassName:v.default.numberText,onClick:this.onClick,lastColumnClassName:l.length>1?v.default.lastColumn:void 0,deletedProduct:o,fetching:i}))}}]),t}(c.Component);O.CONCERNS={product:["productImageCollection"]},O.displayName="ProductTile",t.default=(0,_.default)((0,E.hoc)(O),O.CONCERNS)},caceaafdic:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){switch(e.type){case P.default.MSG_TYPE.NOTIFICATION_TEMPLATE:return e.isBizNotification?me.default.messageBizNotification:void 0;case P.default.MSG_TYPE.E2E_NOTIFICATION:return me.default.messageE2ENotification;case P.default.MSG_TYPE.GROUPS_V4_INVITE:return me.default.messageChat;case P.default.MSG_TYPE.CHAT:return(0,be.isParsableOnlineVideoURL)(e.richPreviewType,e.matchedText)?me.default.messageVideoLinkPreview:me.default.messageChat;case P.default.MSG_TYPE.LOCATION:return e.isLive?me.default.messageLiveLocation:me.default.messageLocation;case P.default.MSG_TYPE.VCARD:return me.default.messageVcard;case P.default.MSG_TYPE.CIPHERTEXT:return(0,T.default)(me.default.messageChat,me.default.messagePlaceholder);case P.default.MSG_TYPE.MULTI_VCARD:return me.default.messageMultiVcard;case P.default.MSG_TYPE.IMAGE:return me.default.messageImage;case P.default.MSG_TYPE.PRODUCT:return B.default.supportsFeature(B.default.F.CATALOG)?me.default.messageProduct:(0,T.default)(me.default.messageChat,me.default.messagePlaceholder);case P.default.MSG_TYPE.STICKER:return d(e)?me.default.messageTransparent:me.default.messageSticker;case P.default.MSG_TYPE.VIDEO:return e.mediaData.isGif?me.default.messageGif:me.default.messageVideo;case P.default.MSG_TYPE.AUDIO:return me.default.messageAudio;case P.default.MSG_TYPE.PTT:return me.default.messagePTT;case P.default.MSG_TYPE.DOCUMENT:return me.default.messageDocument;case P.default.MSG_TYPE.TEMPLATE:if((0,ve.shouldEnableHsm)()){if("image"===e.subtype)return me.default.messageImage;if("video"===e.subtype)return me.default.messageVideo;if("location"===e.subtype)return me.default.messageLocation;if("document"===e.subtype)return me.default.messageDocument;if("text"===e.subtype)return me.default.messageChat}case P.default.MSG_TYPE.UNKNOWN:return(0,T.default)(me.default.messageChat,me.default.messagePlaceholder);default:return}}function u(e){e.stopPropagation()}function c(e){var t=(0,T.default)(me.default.message,me.default.messageSystem,r({},me.default.messageHidden,e.hidden));return m.createElement("div",{className:(0,T.default)(me.default.msg,me.default.msgSystem)},m.createElement("div",{className:t},e.children))}function f(e){var t=(0,T.default)(me.default.message,me.default.messageContainer,"tail tail-override-left",{"message-out":e.isSentByMe,"message-in":!e.isSentByMe});return m.createElement("div",{className:t},m.createElement("span",{className:"tail-container"}),e.children)}function d(e){return e.type===P.default.MSG_TYPE.STICKER&&!e.quotedMsg}Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.SystemBubble=c,t.MessageContainer=f;var h=n("ddhijeejag"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),b=n("effbcehec"),g=a(b),v=n("dbdfbgehgj"),y=a(v),_=n("gbfffciea"),E=a(_),j=n("dacicgjcai"),w=a(j),O=n("biddiiafgd"),C=a(O),S=n("eadfaddcj"),P=a(S),M=n("ceffhbhahb"),T=a(M),k=n("bjjjdidhhi"),N=a(k),I=n("cgejchjdhj"),R=n("bhcegecbha"),A=a(R),D=n("gdeficihh"),x=a(D),L=n("ghbbeafj"),F=a(L),U=n("ccaaiecfib"),B=a(U),G=n("eceadcicaf"),V=a(G),W=n("bdiiahhjbe"),H=a(W),Y=n("deifjeacc"),q=a(Y),K=n("bhhdeihhhf"),z=a(K),Q=n("dbfbdfhfee"),X=a(Q),J=n("bjhcbbbjdc"),Z=a(J),$=n("didfdhbecg"),ee=a($),te=n("bgddggdhc"),ne=n("ihfccfgdf"),ae=a(ne),re=n("bheafeifce"),oe=n("caffijjhc"),ie=a(oe),le=n("dbjbhajgfd"),se=a(le),ue=n("bcifhbgija"),ce=a(ue),fe=n("ejbdjaifi"),de=n("bfdcadbbif"),pe=a(de),he=n("cighigadh"),me=a(he),be=n("ciajafaaie"),ge=n("ddbddjjgia"),ve=n("beadfddidc"),ye=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.scrollMsg=function(e,t){a.props.parent.scrollMsg(e,t)},a.flashFocusedMsg=function(e){a.props.parent.highlight(e)},r=n,i(a,r)}return l(t,e),p(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(E.default,"scroll_to_focused_msg",this.scrollMsg),this.props.listeners.add(E.default,"flash_focused_msg",this.flashFocusedMsg)}},{key:"render",value:function(){return null}}]),t}(m.PureComponent);ye.displayName="WhileFocused";var _e=(0,V.default)((0,fe.hoc)(ye)),Ee=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onSelectChange=function(e){a.props.parent.onSelectChange(e)},r=n,i(a,r)}return l(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.listeners,n=e.msgId,a=e.selectedMessages;t.add(a,n,this.onSelectChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.listeners,a=t.msgId,r=t.selectedMessages;e.selectedMessages!==r&&(n.remove(e.selectedMessages,a,this.onSelectChange),n.add(r,a,this.onSelectChange))}},{key:"render",value:function(){return null}}]),t}(m.PureComponent);Ee.displayName="Selection";var je=(0,V.default)((0,fe.hoc)(Ee)),we=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),p(t,[{key:"componentDidUpdate",value:function(){this.props.parent.forceUpdate()}},{key:"render",value:function(){return null}}]),t}(m.PureComponent);we.CONCERNS={mediaData:["isGif"]},we.displayName="MediaListenerClass";var Oe=(0,ae.default)((0,fe.hoc)(we),we.CONCERNS),Ce=t.Wrapper=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.didCancel=!1,n.highlightAnimation=null,n.setRefMsgComponent=function(e){return n.refMsgComponent=e},n.setRefContext=function(e){return n.refContext=e},n.setRefHighlightTail=function(e){return n.refHighlightTail=e},n.setRefBubble=function(e){return n.refBubble=e},n.sizeMismatch=!1,n.resend=function(){n.props.msg.resend().catch(function(e){H.default.log("wrapper:resend failure: "+e)()})},n.mouseEnter=function(e){e.buttons||n.state.hover||!n.contextEnabled()||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.contextEnabled()&&n.setState({hover:!1})},n.mouseDown=function(){n.state.hover&&n.setState({hover:!1})},n.onMenu=function(e,t){if(t&&n.state.contextMenu)return void n.setState({contextMenu:!1});var a=t?n.refContext&&n.refContext.component&&n.refContext.component.refContext:e,r=(0,re.unproxy)(n.props.msg),o=[];r.isSentByMe&&n.props.displayType!==P.default.DISP_TYPE.MSG_INFO&&r.type!==P.default.MSG_TYPE.REVOKED&&o.push(m.createElement(z.default,{key:"info",a8n:"mi-msg-info",action:function(){n.openInfoDrawer()}},l10n.t("message_info"))),r.canReply()&&o.push(m.createElement(z.default,{key:"reply",a8n:"mi-msg-reply",action:function(){n.onReplyMessage()}},l10n.t("reply"))),(r.canPrivateReply()||r.canPrivateReplyInRestrictedGrp())&&o.push(m.createElement(z.default,{key:"private_reply",a8n:"mi-msg-reply",action:function(){n.onPrivateReplyMessage()}},l10n.t("private_reply"))),r.mediaData&&r.mediaData.renderableUrl&&r.type!==P.default.MSG_TYPE.STICKER&&r.type!==P.default.MSG_TYPE.REVOKED&&o.push(m.createElement(z.default,{key:"download",a8n:"mi-msg-download",action:function(){n.onDownload()}},l10n.t("web_button_download"))),r.canForward()&&o.push(m.createElement(z.default,{key:"forward",a8n:"mi-msg-forward",action:function(){n.openForwardFlow(!0)}},l10n.t("forward_message"))),B.default.supportsFeature(B.default.F.LABELS_EDIT)&&o.push(m.createElement(z.default,{key:"editLabel",a8n:"mi-edit-label",action:function(){n.onSelectClick()}},l10n.t("edit_label_title"))),r.canStar()&&(r.star?o.push(m.createElement(z.default,{key:"star",a8n:"mi-msg-unstar",action:function(){n.onUnstarMessage()}},l10n.t("unstar_message"))):o.push(m.createElement(z.default,{key:"star",a8n:"mi-msg-star",action:function(){n.onStarMessage()}},l10n.t("star_message")))),o.push(m.createElement(z.default,{key:"delete",a8n:"mi-msg-delete",action:function(){n.onDeleteMessage()}},l10n.t("delete_message"))),r.isGroupMsg&&r.author&&!r.isSentByMe&&o.push(m.createElement(z.default,{key:"author",a8n:"mi-msg-author",action:function(){n.openContactChat()}},l10n.t("message_author",{author:r.displayName()}))),n.setState({contextMenu:{menu:o,anchor:a,theme:K.ThemeOptions.COMPACT}})},n.onSelectClick=function(e){e&&e.stopPropagation();var t=n.props.onMessageSelect;t?t((0,re.unproxy)(n.props.msg),!n.state.selected,e):H.default.assert(!1,"wrapper-onSelectClick","no onMessageSelect")()},n.onDoubleClick=function(e){var t=n.props.displayType,a=(0,re.unproxy)(n.props.msg);if(a.canReply()&&!n.props.selectable&&t===P.default.DISP_TYPE.CONVERSATION){(function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1})(n.refBubble,e.target)||(a.chat.composeQuotedMsg=a,E.default.focusChatTextInput(a.chat),n.highlight())}},n.onResize=function(){n.forceUpdate()},n.state={contextMenu:!1,hover:!1,highlighting:!1,selected:!!e.selectedMessages&&e.selectedMessages.isSelected((0,re.unproxy)(e.msg))};var a=n.props.displayType===P.default.DISP_TYPE.STARRED_MSGS||n.props.displayType===P.default.DISP_TYPE.GALLERY||n.props.displayType===P.default.DISP_TYPE.MSG_INFO;return n.sizeMismatch=a&&n.props.msg.isGif,n}return l(t,e),p(t,[{key:"componentDidMount",value:function(){this.sizeMismatch&&this.refBubble&&(this.maxWidth=this.refBubble.offsetWidth,this.forceUpdate(),window.addEventListener("resize",this.onResize))}},{key:"componentWillUnmount",value:function(){this.refBubble&&(0,ce.default)(this.refBubble,"finish",!0),this.sizeMismatch&&window.removeEventListener("resize",this.onResize)}},{key:"scrollMsg",value:function(e,t){H.default.info("scroll msg")(),H.default.info(t)();var n=(0,te.forbiddenFindDOMNode)(this);n?(H.default.info("node found")(),H.default.info("calling DOM.scrollAt ")(),(0,I.scrollAt)(n,void 0,t).then(e)):H.default.info("node not found!")()}},{key:"highlight",value:function(e){var t=this,n=this.refHighlightTail,a=this.refBubble;a&&(d(this.props.msg)||(this.setState({highlighting:!0}),this.highlightAnimation&&(this.didCancel=!0,this.highlightAnimation.cancel()),this.highlightAnimation=(this.highlightAnimation||Promise.resolve()).then(function(){var e=void 0,r=void 0;n&&(e=(0,ce.default)(n,{opacity:[1,0]},{duration:250}),r=(0,ce.default)(n,{opacity:[0,1]},{duration:250,delay:250}));var o=void 0,i=void 0;t.props.msg.isNotification?(o="#e1f2fb",i="#b6c9d2"):(o=t.props.msg.isSentByMe?"#dcf8c6":"#ffffff",i=t.props.msg.isSentByMe?"#b3cba1":"#cccccc");var l=(0,ce.default)(a,{backgroundColor:[i,o]},{duration:250}),s=(0,ce.default)(a,{backgroundColor:[o,i]},{duration:250,delay:250});return Promise.all(n?[e,r,l,s]:[l,s])}).cancellable().then(function(){t.onHighlightComplete(e)}).catch(Promise.CancellationError,function(){(0,ce.default)(n,"stop",!0),(0,ce.default)(a,"stop",!0)}).finally(function(){t.didCancel?t.didCancel=!1:t.highlightAnimation=null})))}},{key:"onHighlightComplete",value:function(e){this.setState({highlighting:!1},function(){e&&e()})}},{key:"openForwardFlow",value:function(e){var t=this.props.msg,n=void 0;if(t.type===P.default.MSG_TYPE.CIPHERTEXT?n=l10n.t("err_unsent_forward_text_decrypting"):t.type===P.default.MSG_TYPE.REVOKED?n=l10n.t("err_unsent_forward_text_revoked"):t.isUnsentMedia&&(n=l10n.t("err_unsent_forward_text",{_plural:1})),n)E.default.openModal(m.createElement(C.default,{title:l10n.t("err_unsent_forward_title"),onOK:function(){return E.default.closeModal()},okText:l10n.t("web_ok")},n));else{if(e&&this.props.displayType===P.default.DISP_TYPE.CONVERSATION)return void this.onSelectClick();E.default.openModal(m.createElement(F.default,{msgs:[(0,re.unproxy)(t)]}),{transition:"modal-flow"})}}},{key:"openInfoDrawer",value:function(){E.default.msgInfoDrawer((0,re.unproxy)(this.props.msg))}},{key:"openContactChat",value:function(){y.default.find(this.props.msg.author).then(function(e){E.default.openChatFromUnread(e).then(function(t){t&&E.default.focusChatTextInput(e)})})}},{key:"contextEnabled",value:function(){return!this.props.msg.isNotification}},{key:"onDeleteMessage",value:function(){var e=this.props,t=e.msg,n=e.isMsgVisible;E.default.openModal(m.createElement(N.default,{chat:t.chat,msgList:[t].map(re.unproxy),deletePrompt:!0,revokePrompt:t.canRevoke(),isMsgVisible:n}))}},{key:"onReplyMessage",value:function(){var e=(0,re.unproxy)(this.props.msg),t=e.chat;t.composeQuotedMsg=e,E.default.focusChatTextInput(t)}},{key:"onPrivateReplyMessage",value:function(){var e=this,t=(0,re.unproxy)(this.props.msg);y.default.find(t.sender).then(function(e){return Promise.props({ok:E.default.openChatBottom(e),chat:e})}).then(function(n){var a=n.ok,r=n.chat;a&&(r.composeQuotedMsg=t,e.props.msg&&e.props.msg.chat&&(r.composeQuotedMsgRemoteJid=e.props.msg.chat.id))})}},{key:"onDownload",value:function(){A.default.initDownload((0,re.unproxy)(this.props.msg))}},{key:"onStarMessage",value:function(){var e=(0,re.unproxy)(this.props.msg);E.default.sendStarMsgs(e.chat,[e])}},{key:"onUnstarMessage",value:function(){var e=(0,re.unproxy)(this.props.msg);E.default.sendUnstarMsgs(e.chat,[e])}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:!1})}},{key:"getMsgComponent",value:function(e){var t=this.props,n=t.msg,a=t.position,r=t.displayType,o=t.isMsgVisible,i=t.getSequentialMsg;return m.createElement(Z.default,{chat:n.chat,displayAuthor:e,displayType:r,hover:this.state.hover,isMsgVisible:o,maxWidth:this.maxWidth,msg:n,ref:this.setRefMsgComponent,position:a,getSequentialMsg:i})}},{key:"getMsgComponentRef",value:function(){return this.refMsgComponent&&this.refMsgComponent.getRef()}},{key:"onSelectChange",value:function(e){this.state.selected!==e&&this.setState({selected:e})}},{key:"render",value:function(){var e,t,n=this,a=this.props,o=a.msg,i=a.position,l=a.displayType,c=a.selectedMessages,f=l===P.default.DISP_TYPE.CONVERSATION,p=o.type!==P.default.MSG_TYPE.CHAT||l!==P.default.DISP_TYPE.STARRED_MSGS&&!!o.quotedMsg||!(i===ge.MsgPosition.MID||i===ge.MsgPosition.END)||l===P.default.DISP_TYPE.GALLERY||(0,be.isParsableOnlineVideoURL)(o.richPreviewType,o.matchedText),h=void 0;(this.state.hover&&!this.state.highlighting||this.props.current||this.state.contextMenu)&&l!==P.default.DISP_TYPE.GALLERY&&(h=m.createElement(q.default,{msg:o,position:i,key:"icon-context",ref:this.setRefContext,onToggle:function(e){n.onMenu(e)}}));var b=null;if(!o.isNotification&&this.props.selectable){var v=l===P.default.DISP_TYPE.GALLERY?"gallery":null;b=m.createElement(X.default,{checked:!!this.state.selected,onClick:this.onSelectClick,theme:v})}var y=!1;if(o.type===P.default.MSG_TYPE.CHAT){var _=w.default.match(o.body);y=1===_.length&&_[0][4][0].length===o.body.length}var E=o.chat&&o.chat.isPSA,j=!E&&!this.props.tailOverride&&(i===ge.MsgPosition.FRONT||i===ge.MsgPosition.SINGLE)||l===P.default.DISP_TYPE.MSG_INFO||this.props.tailOverride,O=d(o)&&(!p||o.isSentByMe||!o.isGroupMsg&&!o.quotedMsg)&&(f&&(i===ge.MsgPosition.FRONT||i===ge.MsgPosition.SINGLE)||!f),C=(0,T.default)(me.default.msg,(e={},r(e,me.default.msgСontinuation,i===ge.MsgPosition.FRONT||i===ge.MsgPosition.MID),r(e,me.default.msgPSA,l!==P.default.DISP_TYPE.STARRED_MSGS&&E),r(e,me.default.msgSystem,o.isNotification),r(e,me.default.msgGallery,l===P.default.DISP_TYPE.STARRED_MSGS||l===P.default.DISP_TYPE.GALLERY),r(e,me.default.msgInfo,l===P.default.DISP_TYPE.MSG_INFO),e)),S=(0,T.default)(me.default.message,s(o),(t={},r(t,me.default.messageSystem,o.isNotification),r(t,me.default.messageCode,y),r(t,"message-out",!o.isNotification&&o.isSentByMe||l===P.default.DISP_TYPE.MSG_INFO),r(t,"message-in",!o.isNotification&&!o.isSentByMe),r(t,"tail",j),r(t,"tail-override-left","left"===this.props.tailOverride),r(t,"tail-override-right","right"===this.props.tailOverride),r(t,me.default.tailOverrideHide,O),t));if(this.sizeMismatch&&!this.refBubble)return m.createElement("div",{className:me.default.placeholder,ref:this.setRefBubble});var M=void 0;M=this.state.contextMenu?"none":o.isRTL?"pop-fast-reverse":"pop-fast";var k=void 0;this.state.contextMenu&&(k=m.createElement(ie.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return n.contextClose()}},m.createElement(se.default,{contextMenu:this.state.contextMenu})));var N=void 0;this.props.isFocusedMsg&&(N=m.createElement(_e,{parent:this}));var I=void 0;c&&(I=m.createElement(je,{parent:this,msgId:o.id.toString(),selectedMessages:c}));var R=void 0;f&&!this.props.selectable&&o.canQuickForward()&&(R=m.createElement("div",{className:me.default.btnForward,onClick:function(){return n.openForwardFlow(!1)},role:"button"},m.createElement(pe.default,{name:"forward-chat"})));var A=void 0;o.mediaData&&(A=m.createElement(Oe,{parent:this,mediaData:o.mediaData}));var D=u,L="msg-container";o.isNotification&&(L="msg-notification-container");var F=void 0,U=void 0;return j&&(F=m.createElement("span",{className:"tail-container"}),U=m.createElement("span",{className:"tail-container highlight",ref:this.setRefHighlightTail})),o.logInitialRender(),m.createElement("div",{className:C,onDoubleClick:this.onDoubleClick},m.createElement(ee.default,{transitionName:"delay-leave"},b),m.createElement("div",{"data-a8n":g.default.key(L),className:S,ref:this.setRefBubble,onContextMenu:D,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseDown,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},F,U,m.createElement(x.default,{displayType:l,msg:o}),this.getMsgComponent(p),m.createElement(ee.default,{transitionName:M},h),R),k,N,I,A)}}]),t}(m.PureComponent);Ce.defaultProps={displayType:P.default.DISP_TYPE.CONVERSATION},Ce.CONCERNS={msg:["author","body","chat","dir","id","isBizNotification","isFailed","isGroupMsg","isLive","isMedia","isMMS","isGif","isNotification","isRevoked","isRTL","isSentByMe","isUnsentMedia","linkPreview","mediaData","matchedText","quotedMsg","richPreviewType","sender","star","subtype","type","title"]},Ce.displayName="Wrapper",t.default=(0,ae.default)((0,fe.hocWithDefaults)(Ce),Ce.CONCERNS),c.displayName="SystemBubble",f.displayName="MessageContainer"},cacgcabfhd:function(e,t){e.exports={muted:"_31m0R",spinner:"_2JqQZ",search:"_1w-mX",inputLine:"_39cGk",inputarea:"_44uDJ",contacts:"_70TS5",drawerSection:"_39zhW",inputareaSizer:"_3Xd_4"}},caciiaejed:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bdghdbcbdc"),f=a(c),d=n("ciaidfgabf"),p=a(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=-1,n=this.props.sectionIds.map(function(n,a){var r=!1;return n===e.props.selectedSectionId&&(t=a,r=!0),e.props.renderSectionTab(n,r)});return u.createElement(f.default,null,u.createElement(p.default,{numTabs:this.props.sectionIds.length,selectedTabIndex:t}),n)}}]),t}(u.Component);h.displayName="PanelMenu",t.default=h},cadbaeefbb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.items.map(function(e,t){return l.default.createElement("div",{className:f.default.actionsBtn,key:t,onClick:e.onClick,role:"button",title:e.title||e.label},e.label)});return l.default.createElement("div",{className:(0,u.default)(f.default.actions,r({},f.default.noDivider,"no-divider"===e.theme))},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=a(i),s=n("ceffhbhahb"),u=a(s),c=n("diigahjidi"),f=a(c);o.displayName="BubbleActions"},cadjjhjjci:function(e,t,n){"use strict";function a(e,t){var n=t.parentNode;if(n)return t.nextSibling?void n.insertBefore(e,t.nextSibling):(n.appendChild(e),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},caeigadddg:function(e,t,n){"use strict";function a(e,t){return function(n){e.some(function(e){var a=r(e,2),o=a[0],i=a[1],l=i.call(o,n,t);return!!n.defaultPrevented||!0===l&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!0)})}}var r=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e,t){var n=e.reduce(function(e,t){var n=t.hotkeys;return n?(Object.keys(n).forEach(function(a){e[a]||(e[a]=[]),e[a].push([t,n[a]])}),e):e},{});return Object.keys(n).reduce(function(e,r){return e[r]=a(n[r],t),e},{})}},caeigdhgia:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=o(e.mediaType);return s.createElement(d.default,{displayType:e.displayType,onClick:i.bind(null,t),tooltip:t})}function o(e){var t={maxSize:l10n.filesize(b.default.media)},n={maxSize:l10n.filesize(b.default.maxFileSize)};switch(e){case v.default.MSG_TYPE.AUDIO:case v.default.MSG_TYPE.PTT:return l10n.t("message_audio_too_big",t);case v.default.MSG_TYPE.IMAGE:return l10n.t("message_image_too_big",t);case v.default.MSG_TYPE.VIDEO:return l10n.t("message_video_too_big",t);case v.default.MSG_TYPE.DOCUMENT:return l10n.t("message_document_too_big",n);case v.default.MSG_TYPE.UNKNOWN:default:return l10n.t("message_file_too_big",n)}}function i(e){c.default.openModal(s.createElement(h.default,{onOK:function(){return c.default.closeModal()}},e))}Object.defineProperty(t,"__esModule",{value:!0});var l=n("ddhijeejag"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),u=n("gbfffciea"),c=a(u),f=n("ebijaadcje"),d=a(f),p=n("biddiiafgd"),h=a(p),m=n("bfgbdiffgd"),b=a(m),g=n("eadfaddcj"),v=a(g);r.displayName="MsgMediaTooLargeFailedIcon",t.default=r},cafgbeeihg:function(e,t){e.exports={muted:"_27kkc",mediaCanvas:"grK2C",shade:"_1ekmt",iconType:"QEFLC",iconStar:"_30H48",mediaCanvasDuration:"JVArc",shadeTop:"_1DNPt",canvasBody:"_2Ji5m",canvasSelected:"_1oTUk",mediaSelect:"KV2wQ",canvasComponent:"_2wPfr",canvasSecondRow:"IJkhc",viewerFlow:"_1LdNS",active:"cJP5q"}},caghbagede:function(e,t){e.exports={muted:"_3kzWs",container:"_1Zlsf",roundIcon:"_1DnDx",unchecked:"_3i9Xl",passive:"_2eJeD"}},cahcacghci:function(e,t){e.exports={muted:"_2UfhX",iconSpinner:"_3y7Hk",iconMorph:"_2F_Gi",iconCloseSearch:"_2heX1",iconLabelSelect:"_2pjfI",inputSearch:"_2zCfw",labelSearchPlaceholder:"_201Bk",inputPlaceholder:"_183ES",listSearch:"ZP8RM",contInputSearch:"eiCXe",active:"_19OGD",iconSearchMorph:"_1XCAr",iconMorphSearch:"_3I7nT",iconMorphBack:"_2l_xV",labels:"_29Ziv",kind:"_2eGMB",kindName:"_2NyQz",filterTitle:"KrrR1"}},cahigbeecb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("djcchigfih"),h=a(p),m=n("dajffajabh"),b=a(m),g=n("djbhiedbef"),v=a(g),y=n("fffdgbfji"),_=a(y),E=n("gcdabficb"),j=a(E),w=n("bfdcadbbif"),O=a(w),C=n("becfabjeeg"),S=a(C),P=n("bijffg"),M=a(P),T=n("bbjjjbicfb"),k=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hover:!1},a.onClick=function(e){a.props.onUpdateColor(a.props.labelId,a.props.colorInt),a.props.onBack()},a.disableHover=function(e){a.state.hover&&a.setState({hover:!1})},a.enableHover=function(e){a.state.hover||a.setState({hover:!0})},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props.isSelected?c.createElement(O.default,{name:"checkmark-light"}):null,n=(0,d.default)(j.default.wallpaperColorCanvas,(e={},r(e,j.default.canvasHover,this.state.hover),r(e,j.default.canvasActive,this.props.isSelected),e));return c.createElement("span",{className:n,style:{backgroundColor:(0,T.intColorToHex)(this.props.colorInt)},onMouseOver:this.enableHover,onMouseEnter:this.enableHover,onMouseLeave:this.disableHover,onClick:this.onClick},t)}}]),t}(c.Component);k.displayName="ColorCanvas";var N=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){for(var e=this,t=this.props,n=t.currentColor,a=t.colors,r=a.map(function(t){return c.createElement(k,{onUpdateColor:e.props.onUpdateColor,colorInt:t,onBack:e.props.onBack,labelId:e.props.labelId,isSelected:n===t,key:t})}),o=0;o<2;o++)r.push(c.createElement("div",{key:"emptyEl"+o,className:j.default.wallpaperColorEmpty}));return r}}]),t}(c.Component);N.displayName="ColorGrid";var I=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getColorPromise=null,e.state={colors:M.default.labelColorPalette&&M.default.labelColorPalette.colors},e}return l(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.getColorPromise&&this.getColorPromise.cancel()}},{key:"render",value:function(){var e=this,t=c.createElement(S.default,{stroke:6,size:24});return this.state.colors?t=c.createElement(N,{labelId:this.props.labelId,onBack:this.props.onClose,onUpdateColor:this.props.onUpdateColor,colors:this.state.colors,currentColor:this.props.currentColor}):(this.getColorPromise=M.default.getLabelColorPalette(),this.getColorPromise.cancellable().then(function(t){e.setState({colors:t})})),c.createElement(h.default,null,c.createElement(b.default,{theme:this.state.colors?void 0:"center-content",title:_.default.t("label_choose_color_title"),onBack:this.props.onClose,type:m.DRAWER_HEADER_TYPE.LARGE}),c.createElement(v.default,null,c.createElement("div",{className:j.default.container},t)))}}]),t}(c.Component);I.displayName="LabelColorDrawer",t.default=I},caigihje:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bfdcadbbif"),f=a(c),d=n("eadfaddcj"),p=(a(d),n("dbbbgjbbgf")),h=a(p),m=n("dbabefhajh"),b=a(m),g=n("ccfhgdcjch"),v=a(g),y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg,t=e.isSentByMe?l10n.t("revoke_outgoing"):l10n.t("revoke_incoming"),n=e.isSentByMe?"recalled-out":"recalled-in";return u.createElement(b.default,{msg:e},u.createElement(h.default,{msg:e,theme:"placeholder"},u.createElement("div",{className:v.default.icon},u.createElement(f.default,{name:n})),t))}}]),t}(u.Component);y.displayName="Revoked",t.default=y},caijdggfg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_EVENT=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("cccehdaiaf"),u=a(s),c=n("hbhijdici"),f=a(c),d=t.SEARCH_EVENT="SEARCH_EVENT",p=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.query="",a.filter={},i=n,o(a,i)}return i(t,e),l(t,[{key:"updateQuery",value:function(e){var t=this.query;this.query=e,f.default.trim(e)!==t&&this.trigger(d)}},{key:"updateLabelQuery",value:function(e){this.filter=e||{}}},{key:"clear",value:function(){this.updateQuery("")}},{key:"trimmed",get:function(){return f.default.trim(this.query)}},{key:"highlighted",get:function(){var e=this.trimmed.toLowerCase().split(" ");return f.default.uniq(f.default.compact(e))}},{key:"isEmptySearchTerm",get:function(){return""===this.trimmed||!this.trimmed}},{key:"isEmptyQuery",get:function(){return this.isEmptySearchTerm&&!this.filter.kind&&!this.filter.label}}]),t}(u.default);t.default=p},cajbicccif:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("bgddggdhc"),p=n("gbfffciea"),h=a(p),m=n("djcchigfih"),b=a(m),g=n("dajffajabh"),v=a(g),y=n("djbhiedbef"),_=a(y),E=n("bggeiidigb"),j=a(E),w=n("bbhhbdicgc"),O=a(w),C=n("cicgeajfge"),S=n("iaibjaeb"),P=a(S),M=n("dcaibchbg"),T=a(M),k=n("ddajbaceej"),N=a(k),I=n("dcjdgceiej"),R=a(I),A=n("dhfbfehaef"),D=a(A),x=n("eceadcicaf"),L=a(x),F=n("ejbdjaifi"),U=n("bfejacaeaj"),B=a(U),G=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.selection=new T.default([],function(e){return e.id.toString()}),a.flatListController=new j.default,a.setRefList=function(e){return a.refList=e},a.onClick=function(e,t){h.default.openChatFromUnread(t).then(function(e){e&&h.default.focusChatTextInput(t)}),a.onClose()},a.onClose=function(){a.context.uim.uie.requestDismiss()},a.getList=function(){return f.default.filter(function(e){return e.archive})},a.onNextChat=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevChat=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setPrev(!0)},a.renderItem=function(e){return u.createElement(P.default,{chat:e.chat,mode:S.Mode.LAST,active:a.selection,onClick:a.onClick})},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.archived=this.getList(),this.selection.init(this.archived,!0)}},{key:"componentWillReceiveProps",value:function(e){this.archived=this.getList(),this.selection.init(this.archived,!0)}},{key:"componentDidMount",value:function(){this.props.listeners.add(f.default,"change:archive add remove"),this.refList&&N.default.focus((0,d.forbiddenAssertDOMNode)(this.refList))}},{key:"getData",value:function(){return this.archived.map(function(e){return{key:e.id.toString(),chat:e}})}},{key:"render",value:function(){var e=void 0;if(this.archived.length>0){var t={down:this.onNextChat,up:this.onPrevChat};e=u.createElement(D.default,{handlers:t,ref:this.setRefList},u.createElement(O.default,{data:this.getData(),flatListController:this.flatListController,renderItem:this.renderItem}))}else e=u.createElement(C.Archived,null);return u.createElement(b.default,null,u.createElement(v.default,{title:l10n.t("archived_flow_title"),onBack:this.onClose,type:g.DRAWER_HEADER_TYPE.LARGE}),u.createElement(_.default,{flatListControllers:[this.flatListController]},e))}}]),t}(u.Component);G.contextTypes={uim:B.default.instanceOf(R.default)},G.displayName="ArchivedDrawer",e.exports=(0,L.default)((0,F.hoc)(G))},cajjfeahjc:function(e,t){e.exports={muted:"_3K1bu",listPanel:"IMn_C",listBody:"_2eMVG",listSectionSep:"qlhJH",listSectionText:"_3hF3J",panelHeader:"_3pEci",headerText:"_1AHPD",primaryHeaderText:"_26-u-",secondaryHeaderText:"OEFaY",headerButtonsPrimary:"n5y-k",headerButtonsSecondary:"aVknD"}},cbcfgjhjhj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("bijffg"),c=a(u),f=n("eceadcicaf"),d=a(f),p=n("ddhijeejag"),h=a(p),m=n("ejbdjaifi"),b=n("bcajjbibcd"),g=a(b),v=n("gfgihaeab"),y=a(v),_=n("bdfheihabb"),E=a(_),j=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.refLastLabel=null,e.updateData=function(t,n,a){var r=e.props.shouldScrollIntoViewAndSelect;e.setState({labels:c.default.toArray()},function(){if(a.add&&r){var n=r(t.name),o=n.shouldScrollIntoView,i=n.shouldSelect;o&&e.refLastLabel&&e.refLastLabel.scrollIntoView({behavior:"smooth"}),i&&e.onMultiSelect(t,!0,!1)}})},e.setRefLastLabel=function(t){e.refLastLabel=t},e.onMultiSelect=function(t,n,a){var r=e.props,o=r.selectedLabels,i=r.onMultiSelect;o&&o.setVal(t,n,a),i&&i(t.id)},e.renderLabelRow=function(){var t=e.props,n=t.renderContex,a=t.onLabelClick,o=t.initialLabelState,i=void 0===o?{}:o,l=e.props.SelectableState||new y.default(!0);return e.state.labels.reduce(function(t,o,s){var u=c.default.assertGet(o.id);return o.name?[].concat(r(t),[h.default.createElement("div",{key:"label_item_"+o.id,ref:s===e.state.labels.length-1?e.setRefLastLabel:function(){},onClick:a?a.bind(null,o.id):function(){}},h.default.createElement(g.default,{theme:n,model:u,initalSelection:i[o.id]||0,multiSelection:e.props.selectedLabels,selectableState:l,onSelect:e.onMultiSelect},h.default.createElement(E.default,{label:o.id})))]):t},[])},e.state={labels:c.default.toArray()},e}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(c.default,"add remove",this.updateData)}},{key:"render",value:function(){return h.default.createElement("div",null,this.renderLabelRow())}}]),t}(p.PureComponent);j.displayName="MultiSelectLabelList",t.default=(0,d.default)((0,m.hoc)(j))},cbcgbajadc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("beebhcdhhh"),f=a(c),d=n("bgfcjjddjf"),p=a(d),h=n("cfaiaibca"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("biddiiafgd"),y=a(v),_=n("ccaaiecfib"),E=a(_),j=n("bifbiahgch"),w=a(j),O=n("eceadcicaf"),C=a(O),S=n("bfejacaeaj"),P=a(S),M=n("dadhidfcfe"),T=a(M),k=n("ccgdgjcjjh"),N=a(k),I=n("ihfccfgdf"),R=a(I),A=n("dhhcgceeai"),D=a(A),x=n("dcjdgceiej"),L=a(x),F=n("dfdebdgdei"),U=n("ejbdjaifi"),B=n("dcbafbaejf"),G=n("bheafeifce"),V=n("eadfaddcj"),W=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.confirmReportGroupSpam=function(){g.default.openModal(u.createElement(T.default,{isGroupChat:!0,onReport:a.reportSpam,onReportExitClear:a.reportSpamExitClear,onCancel:function(){return g.default.closeModal()}}))},a.exitChat=function(){g.default.deleteOrExitChat(a.props.chat)},a.confirmReportSpam=function(){g.default.openModal(u.createElement(T.default,{isBusiness:a.props.contact.isBusiness,isGroupChat:!1,onReport:a.reportSpam,onReportBlockClear:a.reportSpamBlockClear,onCancel:function(){return g.default.closeModal()}}))},a.reportSpam=function(){(0,B.sendSpamReport)(a.props.chat),g.default.closeModal()},a.reportSpamExitClear=function(){(0,B.sendSpamExitClear)(a.props.chat),g.default.closeModal()},a.reportSpamBlockClear=function(){(0,B.sendSpamBlockClear)(a.props.chat),g.default.closeModal()},a.notSpam=function(){(0,B.sendNotSpam)(a.props.chat,!0).catch(function(){})},a.confirmBlock=function(){g.default.openModal(u.createElement(f.default,{contact:a.props.contact,onCancel:function(){return g.default.closeModal()},onBlock:a.block,onReportSpamBlock:a.reportSpamBlock}))},a.block=function(){(0,F.blockContact)(a.props.contact).catch(function(){}),g.default.closeModal()},a.reportSpamBlock=function(){(0,B.sendSpamReport)(a.props.chat),(0,F.blockContact)(a.props.contact).catch(function(){}),g.default.closeModal()},a.confirmUnblock=function(){g.default.openModal(u.createElement(y.default,{okText:l10n.t("unblock_button"),onOK:a.unblock,cancelText:l10n.t("web_cancel"),onCancel:function(){return g.default.closeModal()}},l10n.t("unblock_confirmation",{contact:a.props.contact.formattedName})))},a.unblock=function(){(0,F.unblockContact)(a.props.contact).catch(function(){}),g.default.closeModal()},a.getNotSpamButton=function(){return u.createElement("div",{key:"not_spam",className:D.default.button},u.createElement(m.default,{onClick:a.notSpam,type:"plain-white"},l10n.t("web_ok")))},a.onViewInfo=function(){g.default.openDrawerRight(u.createElement(w.default,{chat:(0,G.unproxy)(a.props.chat),key:"info-"+a.props.chat.id.toString()}),"slide-left",a.context.uim)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,"add remove reset")}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.contact;if(t.isPSA||!t.isVisible||t.trusted)return null;var a=p.default.get(t.id),r=void 0,o=[];if(t.isGroup)r=l10n.t("group_admin_not_a_contact"),o.push(u.createElement("div",{key:"report_spam",className:D.default.button},u.createElement(m.default,{type:"plain-white",onClick:this.confirmReportGroupSpam},l10n.t("report")))),o.push(u.createElement("div",{key:"exit_group",className:D.default.button},u.createElement(m.default,{type:"plain-white",onClick:this.exitChat},l10n.t("web_exit_group")))),o.push(this.getNotSpamButton());else{if(r=u.createElement("div",{className:D.default.text},l10n.t("sender_not_a_contact")),n.isBusiness)if(E.default.supportsFeature(E.default.F.VNAME_V_2)){var i=n.verifiedLevel===V.VERIFIED_LEVEL.HIGH?l10n.t("official_business_not_a_contact"):l10n.t("low_business_not_a_contact");r=u.createElement("div",{className:D.default.text},i)}else n.verifiedLevel>V.VERIFIED_LEVEL.UNKNOWN&&n.businessProfile&&(r=u.createElement(N.default,{contact:n,businessProfile:n.businessProfile,onClick:this.onViewInfo}));o.push(u.createElement("div",{key:"report_spam",className:D.default.button},u.createElement(m.default,{type:"plain-white",onClick:this.confirmReportSpam},l10n.t("report")))),a?o.push(u.createElement("div",{key:"unblock",className:D.default.button},u.createElement(m.default,{onClick:this.confirmUnblock,type:"plain-white"},l10n.t("unblock_button")))):o.push(u.createElement("div",{key:"block",className:D.default.button},u.createElement(m.default,{onClick:this.confirmBlock,type:"plain-white"},l10n.t("block")))),o.push(this.getNotSpamButton())}return u.createElement("div",{className:D.default.spam},r,u.createElement("div",{className:D.default.controls},o))}}]),t}(u.PureComponent);W.CONCERNS={chat:["id","isPSA","isVisible","trusted","isGroup","vcardDismissed"],contact:["id","isBusiness","verifiedLevel","formattedName","businessProfile"]},W.contextTypes={uim:P.default.instanceOf(L.default)},W.displayName="Spam",t.default=(0,C.default)((0,R.default)((0,U.hoc)(W),W.CONCERNS))},cbdagjiddg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dgibicjjj"),f=a(c),d=n("dhhfaeacef"),p=a(d),h=n("bjebjijbfc"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=n("ejbdjaifi"),y=n("fifhbjiec"),_=a(y),E=n("dgdegachj"),j=a(E),w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.msgInfoParticipant,a={cursor:"auto"},r=u.createElement(p.default,{id:t.id}),o=m.default.relativeDateAndTimeStr(n.t),i=u.createElement("span",{title:o},o),l=void 0;return!t.name&&t.notifyName&&(l=u.createElement("span",{className:j.default.secondaryDetailContainer},u.createElement(_.default,{direction:"auto",text:t.notifyName}))),u.createElement(f.default,{contextEnabled:function(){return!1},image:r,primary:t.formattedName,secondary:i,secondaryDetail:l,style:a,theme:"drawer-list",idle:!0})}}]),t}(u.PureComponent);w.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]},w.displayName="GroupMsgInfoCell",t.default=(0,g.default)((0,v.hoc)(w),w.CONCERNS)},cbdbcgchaj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("bgddggdhc"),f=n("bcifhbgija"),d=a(f),p=n("effbcehec"),h=a(p),m=n("ejbdjaifi"),b=n("eadfaddcj"),g=a(b),v=n("bcjcbbafcj"),y=a(v),_=n("bfdcadbbif"),E=a(_),j=n("cehfihhdba"),w=a(j),O=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=(0,c.forbiddenAssertDOMNode)(this.img),t=(0,c.forbiddenAssertDOMNode)(this.txt);this.props.animate?((0,d.default)(e,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]}),(0,d.default)(t,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})):(e.style.opacity=1,t.style.opacity=1)}},{key:"render",value:function(){return u.default.createElement("div",{className:w.default.intro},u.default.createElement("div",{className:w.default.body},u.default.createElement("div",{ref:(0,m.GetRef)("img",this),"data-asset-intro-image":!0,className:w.default.image}),u.default.createElement("div",{ref:(0,m.GetRef)("txt",this),className:w.default.textContainer},u.default.createElement("h1",{"data-a8n":h.default.key("intro-title"),className:w.default.title},l10n.t("intro_title")),u.default.createElement("div",{"data-a8n":h.default.key("intro-text"),className:w.default.text},l10n.t("intro_connection")),u.default.createElement(C,null),u.default.createElement(P,null))))}}]),t}(s.PureComponent);O.displayName="IntroPanel";var C=function(){var e=void 0;switch(y.default.os){case g.default.OS_TYPE.MAC:e=l10n.t("intro_native_mac");break;case g.default.OS_TYPE.WINDOWS:e=l10n.t("intro_native_windows")}if(e){var t='<a href="https://www.whatsapp.com/download" target="_blank">'+l10n.t("intro_native_link")+"</a>";return e=e.replace("__get_it_here__",t),u.default.createElement(S,null,u.default.createElement("span",{className:w.default.secondaryIcon},u.default.createElement(E.default,{name:"laptop"})),u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e},className:w.default.secondaryTextBody}))}return null},S=function(e){var t=e.children;return u.default.createElement("div",{className:w.default.secondary},u.default.createElement("div",{className:w.default.divider}),u.default.createElement("div",{className:w.default.secondaryText},t))};S.displayName="IntroSecondary";var P=function(){return null};t.default=O},cbdbejjhjd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("hbhijdici"),u=a(s),c=n("gbfffciea"),f=a(c),d=n("eadfaddcj"),p=a(d),h=n("cicgeajfge"),m=n("deaaffdfff"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("ejbdjaifi"),_=n("becfabjeeg"),E=a(_),j=n("iibcehaia"),w=a(j),O=n("jfaihhdjc"),C=a(O),S=n("ddhijeejag"),P=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onNewMsgs=function(e){if(e){var t=[],n=Array.isArray(e)?e:[e];Promise.all(n.map(function(e){return e.getLinks().length&&t.push(e),Promise.resolve()})).then(function(){t.length&&a.props.linkMsgs.add(t)})}},a.onScroll=function(e){a.handleScroll(e.target)},a.handleScroll=u.default.throttle(function(e){var t=a.props.linkMsgs;t.hasLinkBefore&&e.scrollTop+p.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a.queryLinks(t.head())},100),a.onClickMsg=function(e,t){a.props.selectable&&void 0!==t?a.props.onMessageSelect(e,t):f.default.openChatAt(e.chat,e.chat.getSearchContext(e))},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.linkMsgs.hasLinkBefore&&this.queryLinks()}},{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.linkMsgs,"add remove reset"),this.props.listeners.add(this.props.linkMsgs,"query_link_before"),this.props.listeners.add(this.props.chat.msgs,"add bulk_add",this.onNewMsgs)}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryLinks",value:function(e){var t=this,n=this.props.linkMsgs;n.hasLinkBefore&&this.props.listeners.uiIdle(function(){n.queryLinks(t.props.chat,e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.linkMsgs,a=t.selectedMessages,r=[];if(n.forEach(function(t){var n=!t.isSentByMe&&t.isGroupMsg;t.getGalleryLinks().forEach(function(o,i){o.href!==t.matchedText&&r.push(S.createElement(b.default,{key:t.id.toString()+"-"+i,msg:t,link:o,displayAuthor:n,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,onClickMsg:e.onClickMsg}))}),t.linkPreview&&r.push(S.createElement(w.default,{key:t.id.toString(),msg:t,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,displayType:p.default.DISP_TYPE.GALLERY,onClickMsg:e.onClickMsg}))}),r.reverse(),n.queryLinkBefore){if(0===r.length)return S.createElement(h.Loading,null);r.push(S.createElement("div",{className:C.default.spinner,key:"spinner"},S.createElement(E.default,{stroke:6,size:24})))}return 0!==n.length||n.queryLinkBefore||n.hasLinkBefore?S.createElement("div",{onScroll:this.onScroll,className:C.default.wrapper},r):S.createElement(h.LinkMsgs,null)}}]),t}(S.Component);P.displayName="LinkGallery",e.exports=(0,v.default)((0,y.hoc)(P))},cbddhcffbc:function(e,t){e.exports={muted:"zM7w1",pipBtn:"_9RNXq",player:"_1Otoj",preview:"_2h7rw"}},cbdehahifi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("hbhijdici"),p=a(d),h=n("eadfaddcj"),m=a(h),b=n("ceffhbhahb"),g=a(b),v=n("haidjjcae"),y=a(v),_=n("faeabjacf"),E=a(_),j=n("eceadcicaf"),w=a(j),O=n("ejbdjaifi"),C=n("bdiiahhjbe"),S=a(C),P=n("ccaaiecfib"),M=a(P),T=n("biecbbiiee"),k=a(T),N=n("bgddggdhc"),I=n("dcfghhhajg"),R=a(I),A=n("caceaafdic"),D=a(A),x=n("bfdhjgffdh"),L=a(x),F=n("ddbddjjgia"),U=n("ceaabfjiba"),B=a(U),G=n("cdbddjfbcd"),V=a(G),W=n("bbhahjgijh"),H=a(W),Y=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.renderedMsgs={},a.renderedDateMarkers={},a.renderedAlbums={},a.renderedMsgToAlbum={},a.onMsgKeyChange=function(e){var t=e.newKey,n=e.oldKey,r=t.toString(),o=n.toString(),i=a.renderedMsgs[o];i&&(delete a.renderedMsgs[o],a.renderedMsgs[r]=i)},a.onMsgRendered=function(e,t){e?a.renderedMsgs[t]=e:delete a.renderedMsgs[t]},a.rowRenderers={msg:function(e){function t(t,n,a,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n,r){var o=a.props,i=void 0;i=r&&!n?F.MsgPosition.FRONT:r&&n?F.MsgPosition.MID:!r&&n?F.MsgPosition.END:F.MsgPosition.SINGLE;var l=e.type===m.default.MSG_TYPE.IMAGE||e.type===m.default.MSG_TYPE.VIDEO||e.type===m.default.MSG_TYPE.AUDIO||M.default.supportsFeature(M.default.F.MD_BACKEND)&&e.type===m.default.MSG_TYPE.TEMPLATE;return f.createElement(D.default,{key:"msg-"+e.id.toString(),ref:function(t){var n={};(0,O.GetRef)("wrapper",n)(t),a.onMsgRendered(n.wrapper,e.id.toString())},msg:e,displayType:m.default.DISP_TYPE.CONVERSATION,isMsgVisible:l?o.isMsgVisible:function(){},selectable:o.selectable,selectedMessages:o.selectedMessages,onMessageSelect:o.onMessageSelect,position:i,isFocusedMsg:t,getSequentialMsg:a.props.getSequentialMsg})}),album:function(e,t,n,r){var o=void 0;return o=r&&!n?F.MsgPosition.FRONT:r&&n?F.MsgPosition.MID:!r&&n?F.MsgPosition.END:F.MsgPosition.SINGLE,f.createElement(L.default,{msgs:e,ref:function(n){a.onAlbumRendered(n,t,e)},key:"album-"+t,position:o,isMsgVisible:a.props.isMsgVisible,albumId:t})},date:function(e,t){return f.createElement(y.default,{ref:function(e){return void a.onDateMarkerRendered(t,e)},key:"msg-"+e.id.toString()+"-date",timestamp:e.t})},unread:function(){return f.createElement(R.default,{key:"msg-unread",count:a.props.unreadCount})}},r=n,l(a,r)}return s(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.msgs,n=o(e,["msgs"]),a=this.props,r=a.msgs,i=o(a,["msgs"]);return!(0,V.default)(n,i)||!(0,H.default)(t,r)}},{key:"componentWillUpdate",value:function(e){var t=this,n=(0,N.forbiddenAssertDOMNode)(this).parentNode,a=p.default.find(e.msgs,function(e){return t.renderedMsgs.hasOwnProperty(e.id)});if(null==a)return void(this._beforeRenderScrollInfo=null);var r=a.id.toString(),o=(0,N.forbiddenAssertDOMNode)(this.getMsgWrapperRef(r));this._beforeRenderScrollInfo={commonMessageId:r,commonMessageTop:o.offsetTop-n.scrollTop}}},{key:"componentDidMount",value:function(){this.maybeNotifyChatRendered(),this.props.listeners.add(k.default,"change:msgKey",this.onMsgKeyChange)}},{key:"componentDidUpdate",value:function(e){var t=(0,N.forbiddenAssertDOMNode)(this).parentNode,n=this._beforeRenderScrollInfo;if(null!=n){var a=n.commonMessageId,r=n.commonMessageTop,o=(0,N.forbiddenAssertDOMNode)(this.getMsgWrapperRef(a));t.scrollTop=o.offsetTop-r}this.maybeNotifyChatRendered()}},{key:"maybeNotifyChatRendered",value:function(){this.props.notifyChatRendered&&(this.props.focusedMsgCtx&&this.props.focusedMsgCtx.msg&&!p.default.includes(this.props.msgs,this.props.focusedMsgCtx.msg)||this.props.notifyChatRendered())}},{key:"getMsgVisibility",value:function(e){var t=(0,N.forbiddenAssertDOMNode)(this).parentNode,n=t.scrollTop,a=n+t.clientHeight,r=(0,N.forbiddenFindDOMNode)(e);return r?r.offsetTop+r.clientHeight<=n?{visibility:m.default.VISIBILITY.ABOVE,offset:r.offsetTop-n}:r.offsetTop>=a?{visibility:m.default.VISIBILITY.BELOW,offset:r.offsetTop-n}:{visibility:m.default.VISIBILITY.VISIBLE,offset:r.offsetTop-n}:(S.default.error("getMsgVisibility on invalid ref: "+e)(),{visibility:m.default.VISIBILITY.VISIBLE,offset:0})}},{key:"getMsgWrapperRef",value:function(e){return this.renderedMsgs[e]||this.renderedMsgToAlbum[e]}},{key:"getMsgComponentRef",value:function(e){return this.renderedMsgs[e]?this.renderedMsgs[e].refMsgComponent&&this.renderedMsgs[e].refMsgComponent.getRef():this.renderedMsgToAlbum[e]?this.renderedMsgToAlbum[e].refAlbumComponents[e]&&this.renderedMsgToAlbum[e].refAlbumComponents[e].getRef():void 0}},{key:"getDateMarkerRef",value:function(e){return this.renderedDateMarkers[e]}},{key:"onDateMarkerRendered",value:function(e,t){t?this.renderedDateMarkers[e]=t:delete this.renderedDateMarkers[e]}},{key:"onAlbumRendered",value:function(e,t,n){var a=this;e?(this.renderedAlbums[t]=e,n.forEach(function(t){a.renderedMsgToAlbum[t.id.toString()]=e})):delete this.renderedAlbums[t]}},{key:"render",value:function(){var e=this.props,t=e.msgs,n=e.focusedMsgCtx,a=e.unreadCount,o=void 0,i=void 0;n&&(o=n.msg,n.isUnreadDivider&&a>0&&(i=n.msg));var l=(0,g.default)(B.default.messageList,r({},B.default.messageListSelectable,this.props.selectable));return f.createElement("div",{className:l},(0,E.default)(this.rowRenderers,t,o,i,a))}}]),t}(f.Component);Y.displayName="MessageList",t.default=(0,w.default)((0,O.hoc)(Y))},cbebjghfgg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n("hbhijdici"),i=a(o),l=n("diaggdeic"),s=a(l),u=n("bjigbaghc"),c=a(u),f=n("bjddijedhj"),d=a(f),p=n("cajijabhgb"),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n("ccaaiecfib"),b=a(m),g=n("bdiiahhjbe"),v=a(g),y=n("eacidghfgh"),_=a(y),E=n("bhggeigghg"),j=a(E),w=n("jccfhaecf"),O=a(w),C=n("bdgbijheih"),S=a(C),P=n("beafbeighe"),M=a(P),T=n("dgicehhija"),k=a(T),N=n("cjgfiijjee"),I=a(N),R=n("hgjcbccfg"),A={epochCount:0,epoch:0,epochSend:function(e){return 0===this.epochCount&&this.epoch++,e||this.epochCount++,v.default.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)(),this.epoch.toString()},epochRecv:function(){this.epochCount>0?this.epochCount--:v.default.error("wap:epochRecv: NEGATIVE")(),v.default.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)()},setSubProtocol:function(e){if(-1===e)this.BinaryProtocol=new S.default,this.N=this.BinaryProtocol.Node;else{if(!e)throw v.default.error("Wap:setSubProtocol unknown "+String(e))(),new h.UpdateImmediately(this.version+"_unknown_version");this.BinaryProtocol=new s.default(e),this.N=this.BinaryProtocol.Node}},clearBPQueue:function(){var e=this;return new Promise(function(t,n){e.BinaryProtocol.dropAllBecauseLogout(),t()})},upgradeProtoVersion:function(e){if(e.BinaryProtocol instanceof S.default)for(var t=e.BinaryProtocol.getWriteQueue();t.length;){var n=t.shift(),a=n.n,r=n.resolve,o=n.reject;this.BinaryProtocol.write(a).then(r).catch(o)}},delete:function(){this.epochCount=0,this.epoch=0},error2412:function(){this.epochRecv()},dropIfConditionMet:function(e,t){return e.reduce(function(e,t){return e||t},!1)?void 0:t},pruneUndefinedProps:function(e){for(var t in e){void 0===e[t]&&delete e[t]}},callFeatureFlagFun:function(e,t){if(b.default.supportsFeature(e)){for(var n=[],a=2;a<arguments.length;a++)n.push(arguments[a]);return this[t].apply(this,n)}},safeParseInt:function(e,t){var n=parseInt(this.N.attr(t,e),10);return i.default.isNaN(n)?void 0:n},wrap:function(e){var t=this;return function(n){if(n&&"object"==typeof n&&"number"==typeof n.status&&n.status>=500)return n;t.epochRecv(),e(n)}},wrap02:function(e){return function(t){if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;e(t)}},binWrap:function(e,t){var n=this;return function(a){if(a&&"object"==typeof a&&"number"==typeof a.status){if(401===a.status)throw n.epochRecv(),new h.E401;if(a.status>=500)return a;n.epochRecv(),t(a)}else n.epochRecv(),e(a)}},binSend:function(e,t,n,a,r){var o=this,i=a.epochIneligible?n:function(e){o.epochRecv(),n(e)};return delete a.epochIneligible,this.BinaryProtocol.write(t).then(function(n){r.debugObj||(r.debugObj=t),a.data=n,a.binaryOpts=r,_.default[e](a)}).catch(i)},msgGetTarget:function(e){return O.default.equals(e.from,c.default.me)?e.to:e.from},thumbFromMediaXml:function(e){return"raw"===this.N.attr("encoding",e)?this.N.children(e)instanceof ArrayBuffer?R.encode(this.N.children(e)):"":this.N.dataStr(e)},actionNode:function(e,t,n){return["action",{type:e,epoch:this.epochSend(n)},t]},queryNode:function(e,t){var n=e;return n||(n={}),n.epoch=this.epochSend(),["query",n,t]},responseNode:function(e,t){var n=e;return n||(n={}),n.epoch=this.epochSend(),["response",n,t]},errorNode:function(e){return["error",{code:e.toString(),epoch:this.epochSend()},void 0]},actionGetMeta:function(e){var t={};if("action"!==this.N.tag(e))return t;var n=this.N.attr("add",e),a=this.N.attr("missing",e),r=this.N.attr("checksum",e);switch(n){case"unread":t.unreadId=this.N.attr("index",e),t.unreadFromMe="true"===this.N.attr("owner",e),t.unreadParticipant=this.N.attr("participant",e);case"after":case"before":case"last":t.pendingMsgsDone="true"===this.N.attr("last",e),t.resume="true"===this.N.attr("resume",e);case"relay":case"update":t.add=n}switch(a){case"remove":t.missing=a}return r&&(t.checksum=r),t},groupActionsByType:function(e){var t={};if(!Array.isArray(e))return t;var n=void 0,a=void 0,r=e.length;for(a=0;a<r;a++)switch(n=e[a],this.N.tag(n)){case"broadcast":switch(this.N.attr("type",n)){case"create":case"add":case"remove":t.msg||(t.msg=[]),t.msg.push(n);break;case"modify":t.bcUpdate||(t.bcUpdate=[]),t.bcUpdate.push(n)}break;case"message":case"groups_v2":case"notification":case"call_log":case"security":t.msg||(t.msg=[]),t.msg.push(n);break;case"read":case"log":case"identity":t.cmd||(t.cmd=[]),t.cmd.push(n);break;case"received":t.ack||(t.ack=[]),t.ack.push(n);break;case"user":t.contact||(t.contact=[]),t.contact.push(n);break;case"contacts":t.contacts||(t.contacts=[]),t.contacts.push(n);break;case"chat":switch(this.N.attr("type",n)){case"mute":t.mute||(t.mute=[]),t.mute.push(n);break;default:t.chat||(t.chat=[]),t.chat.push(n)}break;case"battery":t.battery||(t.battery=[]),t.battery.push(n);break;case"location":t.location||(t.location=[]),t.location.push(n);break;case"label":t.label||(t.label=[]),t.label.push(n);break;case"group":t.group||(t.group=[]),t.group.push(n);break;case"quick_reply":t.quickReply||(t.quickReply=[]),t.quickReply.push(n);break;case"call":t.call||(t.call=[]),t.call.push(n);break;case"stickerPack":case"sticker_pack":t.stickerPack||(t.stickerPack=[]),t.stickerPack.push(n);break;case"recent_stickers":t.recentStickers||(t.recentStickers=[]),t.recentStickers.push(n);break;case"status":t.status||(t.status=[]),t.status.push(n);break;default:v.default.errorVerbose("Wap:groupActionsByType unknown action: "+this.N.toString(n),n)()}return t},handleResponse:function(e,t,n,a){if(0===e.indexOf("preempt"))switch(this.N.attr("type",t)){case"chat":v.default.logColor("green","bin-recv: "+e+",response,chat",t)();var r=this.N.children(t)||[];if(Array.isArray(r)){for(var o=r.length,i=[],l=0;l<o;l++){var s=this.parseChat(r[l]);s&&i.push(s)}(0,M.default)([{cmd:"preempt",response:i,binarySize:n}])}break;case"contacts":v.default.logColor("green","bin-recv: "+e+",response,contact",t)();var u=this.N.children(t);if(Array.isArray(u)){for(var c=u.length,f=[],p=0;p<c;p++){var h=this.parseContact(u[p]);h&&f.push(h)}(0,d.default)([{cmd:"preempt",checksum:this.N.attr("checksum",t),response:f,binarySize:n}])}break;default:v.default.error("Wap:handle unknown response type: "+this.N.toString(t,!0),t)()}else v.default.error("Wap:handle non-preemptive response: "+this.N.toString(t,!0),t)()},handleActionMsg:function(e,t,n,a,r){var o=a.length;switch(n.add){case"relay":case"update":var i=this.parseMsg(a[0],"relay");if(1!==o&&v.default.error("Wap:handle action msg relay length not 1",r)(),i){v.default.logColor("green","bin-recv: "+[e,"action","msg",n.add,i.type,i.from,i.to,i.id,i.author].join(","),r,i)();var l=this.msgGetTarget(i);(0,k.default)([{meta:n,chat:l,msg:i}])}else v.default.error("Wap:handle action msg relay dropped",a[0])();break;case"last":for(var s=[],u=0;u<o;u++){var c=this.parseMsg(a[u],"last");c?s.push(c):v.default.error("Wap:handle action msg last dropped",a[u])()}if(s.length>0){v.default.logColor("green","bin-recv: "+[e,"action","msg","last",a.length].join(","),r,[s])();for(var f={recent:!0,meta:n,binarySize:t},d=0;d<s.length;d++)f[this.msgGetTarget(s[d])]=s[d];(0,k.default)([f])}else v.default.error("Wap:handle action msg last dropped to 0")();break;case"before":case"after":case"unread":if(o>0){for(var p=[],h=0;h<o;h++){var m=this.parseMsg(a[h],n.add);m?p.push(m):v.default.error("Wap:handle action msg before/after dropped",a[h])()}if(p.length>0){var b=this.msgGetTarget(p[0]);v.default.logColor("green","bin-recv: "+[e,"action","msg",n.add,b,p.length].join(","),r,[p])(),(0,k.default)([{meta:n,chat:b,msgs:p,binarySize:t}])}else v.default.error("Wap:handle action msg "+n.add+" dropped to 0")()}else v.default.error("Wap:handle action msg before/after 0 msgs")();break;default:v.default.error("Wap:handle action msg no meta.add",r)()}},handleAction:function(e,t,n,a){var o=this.actionGetMeta(t),l=this.groupActionsByType(this.N.children(t)),s=Object.keys(l);if(!Array.isArray(s))return void v.default.error("Wap:handle:action keys not array: "+typeof s)(s);var u=s.length;if(0===u&&"last"===o.add)return void(0,k.default)([{recent:!0,meta:o,binarySize:n}]);for(var c=0;c<u;c++){var f=s[c],p=l[f],h=p.length;switch(f){case"msg":this.handleActionMsg(e,n,o,p,t);break;case"cmd":for(var m=0;m<h;m++){var g=this.parseCmd(p[m]);if(g){var y=i.default.values(g).join(",");v.default.logColor("green","bin-recv: "+[e,"action","cmd",y].join(","),t)(),j.default.Cmd.handle([g])}else v.default.error("Wap:handle action cmd invalid",t)()}break;case"bcUpdate":for(var _=[],E=0;E<h;E++){var w=this.parseBCUpdate(p[E]);w?_.push(w):v.default.error("Wap:handle action bc update invalid",p[E])()}v.default.logColor("green","bin-recv: "+[e,"action","bcUpdate",_.length].join(","),t)(),_.length>0&&j.default.GroupMetadata.handle(_);break;case"ack":for(var O=0;O<h;O++){var C=this.parseAck(p[O]);C?(v.default.logColor("green","bin-recv: "+[e,"action","ack",C.to,C.id,C.ack].join(","),t)(),(0,k.default)([C])):v.default.error("Wap:handle action ack invalid",t)()}break;case"contact":for(var S=[],P=0;P<h;P++){var T=this.parseContact(p[P]);T?S.push(T):v.default.error("Wap:handle action contact dropped",p[P])()}if(v.default.logColor("green","bin-recv: "+[e,"action","contact",S.length,o.missing].join(","),t)(),S.length>0){var N=[S];(o.missing||o.checksum)&&N.push(o),(0,d.default)(N)}break;case"contacts":var R=this.parseContacts(p[0]);v.default.logColor("green","bin-recv: "+[e,"action","contacts"].join(","),t)(),R?(0,d.default)([R]):v.default.error("Wap:handle:action:contacts dropped",p[0])();break;case"chat":for(var A=[],D=0;D<h;D++){var x=this.parseChat(p[D]);x?A.push(x):v.default.error("Wap:handle action chat dropped",p[D])()}v.default.logColor("green","bin-recv: "+[e,"action","chat",A.length].join(","),t)(),A.length>0&&(0,M.default)([A]);break;case"battery":var L=this.parseBattery(p[0]);L?(v.default.logColor("green","bin-recv: "+[e,"action","battery",L.battery,L.plugged].join(","),t)(),(0,I.default)([L])):v.default.error("Wap:handle action battery dropped",p[0])();break;case"mute":for(var F=[],U=0;U<h;U++){var B=this.parseChat(p[U]);B?F.push(B):v.default.error("Wap:handle action mute dropped",p[U])()}v.default.logColor("green","bin-recv: "+[e,"action","mute",F.length].join(","),t)(),F.length>0&&j.default.Mute.handle(F);break;case"location":for(var G=[],V=0;V<h;V++){var W=this.parseLocation(p[V]);W?G.push(W):v.default.error("Wap:handle:location dropped",p[V])(),v.default.logColor("green","bin-recv:"+[e,"action,location",G.length].join(),t)(),G.length>0&&j.default.LiveLocation.handle(G)}break;case"label":for(var H=[],Y=0;Y<h;Y++){var q=this.callFeatureFlagFun(b.default.F.LABELS_DISPLAY,"parseLabel",p[Y]);q?H.push(q):v.default.error("Wap:handle:label dropped",p[Y])(),v.default.logColor("green","bin-recv:"+[e,"action,label",H.length].join(),t)(),H.length>0&&j.default.Label.handle({checksum:o.checksum,labels:H})}break;case"group":for(var K=0;K<h;K++){var z=this.callFeatureFlagFun(b.default.F.GROUPS_V_4_JOIN_PERMISSION,"parseInviteUpdate",p[K]);v.default.logColor("green","bin-recv:"+[e,"action,group_v4_pending_invites",z&&z.length].join(),t)(),void 0!==z&&j.default.GroupMetadata.handlePendingInvite({gid:z.gid,participants:z.participants})}break;case"quickReply":for(var Q=[],X=0;X<h;X++){var J=this.callFeatureFlagFun(b.default.F.QUICK_REPLIES_QUERY,"parseQuickReply",p[X]);J?Q.push(J):v.default.error("Wap:handle:quickReply dropped",p[X])(),v.default.logColor("green","bin-recv:"+[e,"action,quickReply",Q.length].join(),t)(),Q.length>0&&j.default.QuickReply.handle({checksum:o.checksum,quickReplies:Q})}break;case"call":var Z=this.callFeatureFlagFun(b.default.F.VOIP_INDIVIDUAL_INCOMING,"parseCall",p[0]);v.default.logColor("green","bin-recv:"+[e,"action","call"].join(),t)(),Z?j.default.Call.handle([Z]):v.default.error("Wap:handle:action:call dropped",p[0])();break;case"stickerPack":case"sticker_pack":for(var $=[],ee=0;ee<h;ee++){var te=this.callFeatureFlagFun(b.default.F.STICKER_PACK_QUERY,"parseStickerPackUpdate",p[ee]);te?($.push(te),j.default.StickerPack.sync(o.checksum)):v.default.error("Wap:handle:stickerPack dropped",p[ee])(),v.default.logColor("green","bin-recv:"+[e,"action,stickerPack",$.length].join(),t)()}break;case"recentStickers":for(var ne=0;ne<h;ne++){var ae=this.callFeatureFlagFun(b.default.F.RECENT_STICKERS,"parseRecentStickersAction",p[ne]);ae?(j.default.RecentSticker.setChecksum(o.checksum),j.default.RecentSticker.remove(ae),v.default.logColor("green","bin-recv:"+[e,"action,recentStickers",ae].join(),t)()):v.default.error("Wap:handle:recentStickers dropped",p[ne])()}break;case"status":for(var re=[],oe=0;oe<h;oe++){var ie=this.callFeatureFlagFun(b.default.F.STATUS_RANKING,"parseStatusRankingScores",p[oe]);ie&&ie.length?re.push.apply(re,r(ie)):v.default.error("Wap:handle:status dropped",p[oe])(),v.default.logColor("green","bin-recv:"+[e,"action,status",re.length].join(),t)(),re.length>0&&j.default.StatusV3.handle([{type:"score",scores:re}])}break;default:v.default.error("Wap:handle action unknown "+f,t)()}}},handleQuery:function(e,t,n){var a=this,r=this.N.children(t);if(Array.isArray(r))for(var o=0;o<r.length;o++)!function(n){var o=r[n],i=a.N.tag(o);v.default.logColor("green","bin-recv:"+[e,"query",i].join(),t)();var l=void 0;switch(i){case"call":l=a.callFeatureFlagFun(b.default.F.VOIP_INDIVIDUAL_INCOMING,"handleCallQuery",o);break;default:v.default.error("wap:handle:query unknown "+i,t)()}l||(l=Promise.resolve(a.errorNode(501))),l.then(function(t){a.BinaryProtocol.write(t).then(function(n){_.default.send({tag:e,data:n,onSend:a.wrap(function(){}),onDrop:a.wrap(function(){}),retryOn5xx:!0,binaryOpts:{debugString:["response",i].join(),debugObj:t,metric:a.M.QUERY_RESPONSE,ackRequest:!0}})}).catch(function(e){a.epochRecv()})})}(o)},handle:function(e,t,n,a){var r=this;return this.BinaryProtocol.read(e).then(function(e){switch(r.N.tag(e)){case"response":r.handleResponse(n,e,a,t);break;case"action":r.handleAction(n,e,a,t);break;case"query":r.handleQuery(n,e,a);break;case"read":var o=r.parseCmd(e);if(o){var l=i.default.values(o).join();v.default.logColor("green","bin-recv:"+[n,"action",l].join(),e)(),j.default.Cmd.handle([o])}else v.default.error("Wap:handle read invalid",e)();break;default:v.default.errorVerbose("TODO "+r.N.toString(e,!0),e)()}return!0}).catch(function(e){throw v.default.info("BinaryProtocol read error with tag "+n+", size: "+a)(),new Error("BinaryProtocol read error: "+e)})}};e.exports=A},cbedjffdai:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){a(this,e)}return r(e,[{key:"init",value:function(){}},{key:"get",value:function(){return{textsize:0}}},{key:"set",value:function(e){}}]),e}();t.default=new o},cbeecgcage:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bjebjijbfc"),f=a(c),d=n("dgdjiicfdg"),p=a(d),h=n("eceadcicaf"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=n("ejbdjaifi"),y=n("gbfffciea"),_=a(y),E=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={updater:!1},a.listening=!1,a.rerender=function(){a.setState({updater:!a.state.updater})},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.maybeRegMidnight()}},{key:"componentWillReceiveProps",value:function(){this.maybeRegMidnight()}},{key:"maybeRegMidnight",value:function(){var e=this.props,t=e.listeners,n=e.msg,a=(0,p.default)().startOf("day").subtract(7,"day");n.t>=a.unix()?this.listening||(this.listening=!0,t.add(_.default,"midnight",this.rerender)):this.listening&&(this.listening=!1,t.remove(_.default,"midnight",this.rerender))}},{key:"render",value:function(){return u.createElement(u.Fragment,null,f.default.relativeStr(this.props.msg.t))}}]),t}(u.PureComponent);E.CONCERNS={msg:["t"]},E.displayName="TimestampWithMsg";var j=(0,m.default)((0,g.default)((0,v.hoc)(E),E.CONCERNS)),w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.chat;return e.previewMessage?u.createElement(j,{msg:e.previewMessage}):null}}]),t}(u.PureComponent);w.CONCERNS={chat:["previewMessage"]},w.displayName="TimestampWithChat";var O=(0,g.default)((0,v.hoc)(w),w.CONCERNS);t.default=function(e){var t=e.chat,n=e.msg;return t?u.createElement(O,{chat:t}):n?u.createElement(j,{msg:n}):null}},cbeedeeja:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("hbhijdici"),d=a(f),p=n("fffdgbfji"),h=a(p),m=n("echbdbadad"),b=a(m),g=n("gbfffciea"),v=a(g),y=n("bjigbaghc"),_=a(y),E=n("eadfaddcj"),j=a(E),w=n("bafegjjfbj"),O=a(w),C=n("cajijabhgb"),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),P=n("cdgebfdaif"),M=a(P),T=n("bdiiahhjbe"),k=a(T),N=n("bffcbhabha"),I=a(N),R=n("dcjdgceiej"),A=a(R),D=n("chajfbfiga"),x=a(D),L=n("eceadcicaf"),F=a(L),U=n("ccihhdchab"),B=n("ejbdjaifi"),G=n("bfejacaeaj"),V=a(G),W=n("bijebbjggf"),H=n("bdheiggeaf"),Y=n("dgdhcdgffe"),q=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.openGroupV4InviteRequestFlow=function(e,t,n,a){v.default.openModal(c.default.createElement(M.default,{participantNeedInvite:e,groupGid:t,subject:n,groupDesc:a}))},a.onMute=function(e,t){if(t){var n=function(t){e.pendingAction++,e.mute.mute(t,!0).finally(function(){e.pendingAction--})};v.default.openModal(c.default.createElement(I.default,{chat:e,onMute:n}),{transition:"modal",uim:a.context.uim})}else e.pendingAction++,e.mute.unmute(!0).finally(function(){e.pendingAction--})},a.onDeleteOrExit=function(e){var t=function(t){e.pendingAction++,t.finally(function(){e.pendingAction--})};v.default.openModal(c.default.createElement(O.default,{chat:e,onDeleteOrExit:t}),{transition:"modal",uim:a.context.uim})},a.onPin=function(e,t){e.pendingAction++,(0,H.setPin)(e,t).catch(function(){}).finally(function(){e.pendingAction--})},a.onClear=function(e){v.default.openModal(c.default.createElement(b.default,{chat:e}),{transition:"modal",uim:a.context.uim})},a.onArchive=function(e,t){e.pendingAction++,(0,W.setArchive)(e,t).catch(function(){}).finally(function(){e.pendingAction--})},a.onMarkUnread=function(e,t){e.pendingAction++,(0,Y.markUnread)(e,t).finally(function(){e.pendingAction--})},a.onSendStarMsgs=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new S.ActionError);if(d.default.some(t,function(e){return!e.id}))return Promise.reject(new S.ActionError);var o=n||(0,U.genId)(),i=d.default.size(t),l={count:i,_plural:i},s=new U.ActionType(h.default.t("action_message_starring",l)),u=e.sendStarMsgs(t,!0).then(function(){return new U.ActionType(h.default.t("action_message_starred",l),h.default.t("action_undo"),a.onSendUnstarMsgs.bind(a,e,t,o,r))}).catch(S.ServerStatusCodeError,function(e){if(e.status>=400)return new U.ActionType(h.default.t("action_message_star_failed",l))}).catch(function(n){return k.default.error("chatAction:sendStarMsgs dropped")(n),new U.ActionType(h.default.t("action_message_star_failed",l),h.default.t("action_try_again"),a.onSendStarMsgs.bind(a,e,t,o,r))});return v.default.openToast(c.default.createElement(U.ActionToast,{id:o,toastPosition:r,initialAction:s,pendingAction:u})),u},a.onSendUnstarMsgs=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new S.ActionError);if(d.default.some(t,function(e){return!e.id}))return Promise.reject(new S.ActionError);var o=n||(0,U.genId)(),i=d.default.size(t),l={count:i,_plural:i},s=new U.ActionType(h.default.t("action_message_unstarring",l)),u=e.sendStarMsgs(t,!1).then(function(){return new U.ActionType(h.default.t("action_message_unstarred",l),h.default.t("action_undo"),a.onSendStarMsgs.bind(a,e,t,o,r))}).catch(S.ServerStatusCodeError,function(e){if(e.status>=400)return new U.ActionType(h.default.t("action_message_unstar_failed",l))}).catch(function(n){return k.default.error("chatAction:sendUnstarMsgs dropped")(n),new U.ActionType(h.default.t("action_message_unstar_failed",l),h.default.t("action_try_again"),a.onSendUnstarMsgs.bind(a,e,t,o,r))});return v.default.openToast(c.default.createElement(U.ActionToast,{id:o,toastPosition:r,initialAction:s,pendingAction:u})),u},a.onSendDeleteMsgs=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT";if(!t)return Promise.reject(new S.ActionError);if(d.default.some(t,function(e){return!e.id}))return Promise.reject(new S.ActionError);var i=t.length,l=r||(0,U.genId)(),s={count:i,_plural:i},u=new U.ActionType(h.default.t("action_message_deleting",s)),f=e.sendDeleteMsgs(t,n).then(function(e){if(e===i)return new U.ActionType(h.default.t("action_message_deleted",s));var t=i-e;return s={count:t,_plural:t},new U.ActionType(h.default.t("action_message_delete_failed",s))}).catch(function(n){return k.default.error("chatAction:sendDeleteMsgs dropped")(n),new U.ActionType(h.default.t("action_message_delete_failed",s),h.default.t("action_try_again"),a.onSendDeleteMsgs.bind(a,e,t,!1,l,o))});return v.default.openToast(c.default.createElement(U.ActionToast,{id:l,toastPosition:o,initialAction:u,pendingAction:f})),f},a.onSendRevokeMsgs=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT",i=r;if(!t)return Promise.reject(new S.ActionError);var s=t.reduce(function(e,t){var n=[t.canRevoke(),t.type!==j.default.MSG_TYPE.GROUPS_V4_INVITE||t.isGroupsV4InviteExpired?null:t],a=n[0],r=n[1];return[e[0]||!a,e[1]||r]},[!1,null]),u=l(s,2),f=u[0],p=u[1];if(f)return Promise.reject(new S.ActionError);p&&a.handleGroupInviteMsgRevoke(e,p);var m=d.default.size(t);i=i||(0,U.genId)();var b={count:m,_plural:m},g=new U.ActionType(h.default.t("action_message_deleting",b)),y=e.sendRevokeMsgs(t,n).then(function(e){return new U.ActionType(h.default.t("action_message_deleted",b))}).catch(function(e){return k.default.error("chatAction:sendRevokeMsgs fail")(e),new U.ActionType(h.default.t("action_message_delete_failed",b))});return v.default.openToast(c.default.createElement(U.ActionToast,{id:i,toastPosition:o,initialAction:g,pendingAction:y})),y},a.handleGroupInviteMsgRevoke=function(e,t){var n=t.inviteGrp,a=_.default.me.toString();x.default.revokeGroupV4Invite([t.to.toString()],n,a)},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(v.default,"mute_chat",this.onMute),this.props.listeners.add(v.default,"delete_or_exit_chat",this.onDeleteOrExit),this.props.listeners.add(v.default,"archive_chat",this.onArchive),this.props.listeners.add(v.default,"clear_chat_msgs",this.onClear),this.props.listeners.add(v.default,"mark_chat_unread",this.onMarkUnread),this.props.listeners.add(v.default,"pin_chat",this.onPin),this.props.listeners.add(v.default,"send_star_msgs",this.onSendStarMsgs),this.props.listeners.add(v.default,"send_unstar_msgs",this.onSendUnstarMsgs),this.props.listeners.add(v.default,"send_delete_msgs",this.onSendDeleteMsgs),this.props.listeners.add(v.default,"send_revoke_msgs",this.onSendRevokeMsgs),this.props.listeners.add(v.default,"open_group_v4_invite_request_flow",this.openGroupV4InviteRequestFlow)}},{key:"render",value:function(){return null}}]),t}(u.PureComponent);q.contextTypes={uim:V.default.instanceOf(A.default)},q.displayName="ActionListener",t.default=(0,F.default)((0,B.hoc)(q))},cbfidcgebe:function(e,t){e.exports={muted:"_3MEAr",container:"_1V-to",media:"eP1x7"}},cbgeijgefb:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("eccjjjfhdj"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){var t=e.header,n=a(e,["header"]);return i.createElement("div",r({className:s.default.container},n),t)};u.displayName="SectionHeader",t.default=u},cbghhhdedg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return!t.isComposing&&o(e,window.getSelection(),t)}function o(e,t,n){if(!t.modify)return!1;if(1!==t.rangeCount)return!1;var a=p.backwardsEmojiTextsTrie,r=e.data||"";if(!(a=a.get(r)))return!1;if(!t.getRangeAt(0).collapsed)return!1;var o=r,i=null,s=null;if((0,u.default)(n,t,function(e,t,n){return(0,b.default)(a,"Trie ptr somehow not set"),!(a=a.get(e))||(a.hasChildren()?void(0===t&&(o=n+o)):(o=n.slice(t)+o,s=(0,h.default)(o),s&&(i=o),!0))}),!i)return!1;var c=n.serializeTextBeforeCursor();if((0,d.isInsideCodeBlock)(c))return!1;(0,f.default)(t,i.length-1),n.replaceSelection(s);var m=n.refInput,v=(0,l.default)(m,g.BACKWARD);return!v||(v.dataset.replacedEmojiText=i,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("dbegdchadg"),l=a(i),s=n("bidcddiaag"),u=a(s),c=n("decdhbjfjc"),f=a(c),d=n("dacicgjcai"),p=n("bhibhdeccd"),h=a(p),m=n("cgeeeeddea"),b=a(m),g=l.default.Direction},cbhejdgihi:function(e,t){e.exports={muted:"_8nsUD",mainWrapper:"_11ARv",v3_x:"_1C7S1",v3X:"_1C7S1",v3_x_mac:"_3jOF8",v3XMac:"_3jOF8",modalBackground:"_2dLx9"}},cbhhfeaigc:function(e,t){e.exports={muted:"Cqv5U",container:"_19l4G",error:"_1OJm4",compact:"_3st4K"}},cbhhieidga:function(e,t,n){"use strict";var a={singleByte:["ciphertext","invite"]};e.exports=a},cbiciaafaf:function(e,t){e.exports={muted:"U7QNg",tooltip:"_3Fjw5","menu-tooltip":"_2fn4u",menuTooltip:"_2fn4u"}},cbidhfhhbb:function(e,t){e.exports={muted:"MkD-B",chatIcon:"DLg-l",buttonContainer:"a2oPi",name:"_5CRCo",price:"_1_rGc",description:"ExrSP",more:"_1NstX",descBlock:"_9GmPg"}},cbifffdech:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("dbabefhajh"),h=a(p),m=n("jdgfdffcj"),b=a(m),g=n("bheafeifce"),v=n("cfiighfhhg"),y=a(v),_=n("facgccaif"),E=n("bidfjbaebi"),j=function(){(0,E.openExternalLink)((0,_.getCiphertextFaqUrl)())},w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.createElement(h.default,{msg:(0,g.unproxy)(this.props.msg),displayAuthor:this.props.displayAuthor},u.createElement(y.default,{iconName:"ciphertext",msg:this.props.msg},l10n.t("placeholder_msg")," ",u.createElement("span",{className:b.default.action,role:"button",onClick:j},l10n.t("learn_more"))))}}]),t}(u.PureComponent);w.CONCERNS={msg:["isSentByMe","isGroupMsg","senderObj"]},w.displayName="Ciphertext",t.default=(0,f.default)((0,d.hoc)(w),w.CONCERNS)},cbigbjjigh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return C.default.isGecko||C.default.isSafari}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("eacidghfgh"),_=a(y),E=n("ihfccfgdf"),j=a(E),w=n("ejbdjaifi"),O=n("bcjcbbafcj"),C=a(O),S=n("egjjcjcg"),P=a(S),M=n("cgbdcdhgig"),T=d.default.debounce(function(e,t){P.default.setVideoVolumeSettings(e,t)},500),k=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={hasSentPlayed:!1},a.checkIteration=0,a.checkForSuccessInterval=0,a.hasCalledPlaying=!1,a.mediaBlobWasDownloadedBeforeMount=Boolean(a.props.mediaData.mediaBlob),a.videoRef=null,a.setRefVideo=function(e){if(a.videoRef!==e&&(a.videoRef=e,e)){var t=P.default.getVideoVolumeSettings();t&&(d.default.isNumber(t.volume)&&(e.volume=t.volume),d.default.isBoolean(t.muted)&&(e.muted=t.muted)),l()&&a.props.autoPlay&&a.startCheckForSuccess()}},a.onVolumeChange=function(){var e=a.videoRef;e&&T(e.volume,e.muted)},a.onTimeUpdate=function(){var e=a.videoRef;e&&(e.currentTime/e.duration>.5||e.currentTime>10)&&((0,M.markPlayed)(a.props.msg),a.setState({hasSentPlayed:!0}))},a.startCheckForSuccess=function(){a.checkIteration=0,a.checkForSuccessInterval||(a.checkForSuccessInterval=setInterval(a.checkForSuccess,250))},a.clearCheckForSuccess=function(){a.checkForSuccessInterval&&(clearInterval(a.checkForSuccessInterval),a.checkIteration=0,a.checkForSuccessInterval=0)},a.checkForSuccess=function(){if(_.default.state===y.STATE.CONNECTED){a.checkIteration++;var e=a.videoRef&&a.videoRef.buffered;e&&e.length&&e.end(0)>0?a.onPlaying():a.checkIteration>240&&a.clearCheckForSuccess()}},a.onPlayerError=function(){a.clearCheckForSuccess()},a.onOtherPlaying=function(e){e!==a&&a.pause()},a.pause=function(){var e=a.videoRef;e&&(e.paused||e.pause())},a.onPlaying=function(){a.clearCheckForSuccess(),h.default.mediaPlaying(a)},a.setStartTime=function(){a.props.startTime&&a.videoRef&&(a.videoRef.currentTime=a.props.startTime)},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(h.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){T.flush(),this.clearCheckForSuccess()}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,a=n.mediaBlob,r=void 0,o=n.streamable&&n.isStreamable();r=!this.mediaBlobWasDownloadedBeforeMount&&o||!a?n.streamable&&n.isStreamable()?b.default.VIDEO_STREAM_URL+"?key="+this.props.msg.id.toString():void 0:a.url();var i=!this.state.hasSentPlayed&&(0,M.canMarkPlayed)(t)?this.onTimeUpdate:void 0,s=e.startTime?this.setStartTime:void 0,u=l()&&!e.autoPlay?this.startCheckForSuccess:void 0;return c.createElement("video",{ref:this.setRefVideo,src:r,poster:e.poster,className:e.className,controls:e.controls,autoPlay:e.autoPlay,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:s,onPlay:u,onPlaying:this.onPlaying,onTimeUpdate:i,onError:this.clearCheckForSuccess},e.children)}}]),t}(c.PureComponent);k.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable"]},k.displayName="VideoTag",t.default=(0,v.default)((0,j.default)((0,w.hoc)(k),k.CONCERNS))},cbjacjjfgc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return i.default.createElement("div",{className:s.default.shade})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=a(o),l=n("cdegajchcj"),s=a(l);r.displayName="ThumbShade"},cbjagjcgia:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("dbdfbgehgj"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("eceadcicaf"),b=a(m),g=n("ejbdjaifi"),v=n("dgjifchfde"),y=r(v),_=n("cacaefcddj"),E=n("dcdiaahjj"),j=a(E),w=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.count=0,a.updateUnreadCount=function(){var e=void 0;e=j.default.displayInfo===E.StreamInfo.OFFLINE?-1:j.default.displayInfo===E.StreamInfo.TIMEOUT?-1:d.default.filter(function(e){return!e.archive&&e.isDirty()}).length,a.count!==e&&(a.count=e,(0,_.setTitleAndIcon)(e))},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.listeners;t.add(h.default,"alert_new_msg",function(t){return y.showMsgNotification(t,e.matchesFilter)}),t.add(h.default,"alert_call",y.showCallNotification),t.add(h.default,"cancel_call",y.cancelCallNotification),t.add(d.default,"add remove reset change:archive change:unreadCount",this.updateUnreadCount),t.add(d.default,"change:hasUnread",y.closeNotifications),t.add(j.default,"change:displayInfo",this.updateUnreadCount),this.updateUnreadCount()}},{key:"componentWillUnmount",value:function(){(0,_.setTitleAndIcon)(0)}},{key:"matchesFilter",value:function(e){return!1}},{key:"render",value:function(){return null}}]),t}(c.Component);w.displayName="NotificationManager",t.default=(0,b.default)((0,g.hoc)(w))},cbjedbdgjh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("bjigbaghc"),m=a(h),b=n("eacidghfgh"),g=a(b),v=n("eceadcicaf"),y=a(v),_=n("bbajjgjhej"),E=a(_),j=n("ejbdjaifi"),w=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.close=function(){m.default.smbTos||f.default.closeModal()},a.logout=function(){f.default.closeModal(),g.default.logout()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(m.default,"change:smbTos",this.close)}},{key:"render",value:function(){var e=l10n.t("web_smb_terms_of_service"),t=l10n.t("menuitem_logout"),n=this.logout;return u.createElement(p.default,{onOK:n,okText:t},e," ",u.createElement(E.default,null))}}]),t}(u.Component);w.displayName="TermsOfServiceModal",t.default=(0,y.default)((0,j.hoc)(w))},cbjgbhbhcj:function(e,t){e.exports={muted:"_2us2O",body:"_2f4K6",photo:"_1QnNL"}},ccagfiehde:function(e,t,n){"use strict";function a(e){return!!e&&(e.nodeType===Node.TEXT_NODE&&0===e.textContent.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},ccajjgdjf:function(e,t,n){"use strict";function a(e){return e.metaKey||e.shiftKey||e.altKey||e.ctrlKey}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},ccbjfaficd:function(e,t){e.exports={muted:"_38cfN",pane:"NuujD",footer:"_3EeLD",body:"_1_q7u",filler:"_3B8vA",footerMessage:"_26pkE",subheader:"_3SYkD"}},cccaiafbjc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bcbahjefec"),f=a(c),d=n("gcbiehega"),p=a(d),h=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.closeStatusViewer=function(){a.end()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.push(u.createElement(p.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}]),t}(f.default);e.exports=h},cccfbheica:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("hbhijdici"),o=a(r),i=n("ccaaiecfib"),l=a(i),s=n("ddcbacabaj"),u=a(s),c=n("cfejjfjhca"),f=a(c),d=n("bbcaggdbc"),p=d.WebMessageInfo,h=n("eaiefjeabj"),m={version:"16",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34,QUERY_VNAME:35,QUERY_LABELS:36,CALL:37,QUERY_CALL:38,QUERY_QUICK_REPLIES:39,QUERY_CALL_OFFER:40,QUERY_RESPONSE:41,QUERY_STICKER_PACKS:42,QUERY_STICKERS:43,ADD_OR_REMOVE_LABELS:44,QUERY_NEXT_LABEL_COLOR:45,QUERY_LABEL_PALETTE:46,CREATE_OR_DELETE_LABELS:47,EDIT_LABELS:48,QUERY_RECENT_STICKERS:49},parseMsgStubProto:function(e,t){var n=p.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.OVERSIZED:return t.type="oversized",t;case n.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgGp2:function(e){},parseMsgBroadcast:function(e){},parseMsgNotification:function(e){},parseMsgSecurity:function(e){},parseMsgCallLog:function(e){},parseMsgStubTemplate:function(e,t){var n=this,a=p.STUBTYPE;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(function(t){return e.messageStubType===a.GROUP_CREATE||e.messageStubType===a.GROUP_CHANGE_SUBJECT?t:n.decodeJid(t)}):void 0,e.messageStubType){case a.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case a.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case a.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case a.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case a.VERIFIED_HIGH:t.subtype="verified_high";break;case a.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case a.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case a.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case a.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case a.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case a.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case a.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case a.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case a.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case a.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case a.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;case a.GROUP_CREATE:t.type="gp2",t.subtype="create",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case a.GROUP_DELETE:t.type="gp2",t.subtype="delete",t.recipients=[],t.templateParams=void 0;break;case a.GROUP_CHANGE_SUBJECT:t.type="gp2",t.subtype="subject",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case a.GROUP_CHANGE_ICON:t.type="gp2",t.subtype="picture",t.recipients=[],t.body=t.templateParams[0],t.templateParams=void 0;break;case a.GROUP_CHANGE_INVITE_LINK:t.type="gp2",t.subtype="revoke_invite",t.recipients=[];break;case a.GROUP_CHANGE_DESCRIPTION:t.type="gp2",t.subtype="description",t.recipients=[];break;case a.GROUP_CHANGE_RESTRICT:t.type="gp2",t.subtype="restrict",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_CHANGE_ANNOUNCE:t.type="gp2",t.subtype="announce",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:t.type="gp2",t.subtype="no_frequently_forwarded",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:t.type="gp2",t.subtype="announce_msg_bounce",t.recipients=[],t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_ADD:t.type="gp2",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_REMOVE:t.type="gp2",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_PROMOTE:t.type="gp2",t.subtype="promote",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_DEMOTE:t.type="gp2",t.subtype="demote",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_INVITE:t.type="gp2",t.subtype="invite",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_LEAVE:t.type="gp2",t.subtype="leave",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_CHANGE_NUMBER:t.type="gp2",t.subtype="modify",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_V4_ADD_INVITE_SENT:t.type="gp2",t.subtype="v4_add_invite_sent",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:t.type="gp2",t.subtype="v4_add_invite_join",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.BROADCAST_CREATE:t.type="broadcast_notification",t.subtype="create",t.body=t.templateParams[0]||"0",t.templateParams=void 0;break;case a.BROADCAST_ADD:t.type="broadcast_notification",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.BROADCAST_REMOVE:t.type="broadcast_notification",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GENERIC_NOTIFICATION:t.type="notification",t.body=t.templateParams[0],t.templateParams=void 0;break;case a.E2E_IDENTITY_CHANGED:t.type="e2e_notification",t.subtype="identity",t.body=t.templateParams[0],t.templateParams=void 0;break;case a.E2E_ENCRYPTED:t.type="e2e_notification",t.subtype="encrypt";break;case a.CALL_MISSED_VOICE:t.type="call_log",t.subtype="miss";break;case a.CALL_MISSED_VIDEO:t.type="call_log",t.subtype="miss_video";break;case a.CALL_MISSED_GROUP_VOICE:t.type="call_log",t.subtype="miss_group";break;case a.CALL_MISSED_GROUP_VIDEO:t.type="call_log",t.subtype="miss_group_video";break;case a.INDIVIDUAL_CHANGE_NUMBER:t.subtype="change_number";break;case a.PAYMENT_CIPHERTEXT:t.type="payment",t.subtype="ciphertext",this.callFeatureFlagFun(l.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case a.PAYMENT_FUTUREPROOF:t.type="payment",t.subtype="futureproof",this.callFeatureFlagFun(l.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case a.PAYMENT_ACTION_REQUEST_CANCELLED:t.subtype="payment_transaction_request_cancelled";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:t.subtype="payment_transaction_status_update_failed";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:t.subtype="payment_transaction_status_update_refunded";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:t.subtype="payment_transaction_status_update_refund_failed";break;case a.PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:t.subtype="payment_transaction_status_receiver_pending_setup";break;case a.PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:t.subtype="payment_transaction_status_receiver_success_after_hiccup";break;case a.PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:t.subtype="payment_action_account_setup_reminder";break;case a.PAYMENT_ACTION_SEND_PAYMENT_REMINDER:t.subtype="payment_action_send_payment_reminder";break;case a.PAYMENT_ACTION_SEND_PAYMENT_INVITATION:t.subtype="payment_action_send_payment_invitation";break;case a.PAYMENT_ACTION_REQUEST_DECLINED:t.subtype="payment_action_request_declined";break;case a.PAYMENT_ACTION_REQUEST_EXPIRED:t.subtype="payment_action_request_expired";break;case a.BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:t.subtype="biz_verified_transition_top_to_bottom";break;case a.BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:t.subtype="biz_verified_transition_bottom_to_top";break;case a.BIZ_INTRO_TOP:t.subtype="biz_intro_top";break;case a.BIZ_INTRO_BOTTOM:t.subtype="biz_intro_bottom";break;case a.BIZ_NAME_CHANGE:t.subtype="biz_name_change";break;case a.BIZ_MOVE_TO_CONSUMER_APP:t.subtype="biz_move_to_consumer_app";break;case a.BIZ_TWO_TIER_MIGRATION_TOP:t.subtype="biz_two_tier_migration_top";break;case a.BIZ_TWO_TIER_MIGRATION_BOTTOM:t.subtype="biz_two_tier_migration_bottom";break;default:t.templateParams=void 0}return t},sendCallOffer:function(e,t){var n=this;return new Promise(function(a,r){var o=function(e){a(e)},i=(0,f.default)(),l=t?u.default.formatCallXMLOffer(n,i,e):u.default.formatCallOffer(n,i,e);n.binSend("send",l,r,{tag:i,onSend:n.wrap(o,a),onDrop:n.wrap(r),retryOn5xx:!0},{debugString:["action","call","offer",e.common.peer_jid].join(),debugObj:{xml:l,struct:e},metric:n.M.CALL})})}};e.exports=o.default.defaults(m,h)},cccgaejadd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("bcbahjefec"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("eadfaddcj"),g=a(b),v=n("cjcffhicea"),y=a(v),_=n("dgjacfgggf"),E=a(_),j=n("ifeefbdg"),w=a(j),O=n("fffdgbfji"),C=a(O),S=n("bgiachiigg"),P=n("cahfddcdga"),M=a(P),T=n("dfdebdgdei"),k=n("dbbhhgjjbg"),N=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handleForwardConfirmed=function(e){Promise.map(e,function(e){var t=void 0;t=e.isUser&&e.contact.isBlocked()?(0,T.unblockContact)(e.contact):Promise.resolve(!0),t.then(function(t){(0,k.sendTextMsgToChat)(e,a.props.chat.groupMetadata.groupInviteLink,{linkPreview:a.linkPreview})})}),a.end(),m.default.openChatFromUnread(f.default.head(e))},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;this.push(u.createElement(y.default,{onChat:this.handleForwardConfirmed,title:C.default.t("group_invite_send_link_title"),listType:v.ListType.CHAT_SELECT_MODAL}));var t=this.props.chat,n=(0,M.default)(t.groupMetadata.groupInviteLink);this.linkPreview={canonicalUrl:g.default.GROUP_INVITE_LINK_URL,description:C.default.t("whatsapp_group_invite"),matchedText:n,title:t.title(),richPreviewType:S.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.NONE,thumbnail:null};var a=t.contact.profilePicThumb;a&&a.imgFull?E.default.generateLinkPreview(a.imgFull).then(function(t){e.linkPreview.thumbnail=t}):(0,w.default)(n).then(function(t){t&&(e.linkPreview.thumbnail=t.data.thumbnail)}).catch(function(){})}}]),t}(p.default);t.default=N},ccchcigijb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=window.getSelection();if(0===t.rangeCount)return{};var n=t.getRangeAt(0),a=n.startContainer,r=n.startOffset,o=n.endContainer,i=n.endOffset,l=0===r,s=o instanceof HTMLElement?o.childNodes.length===i:o.textContent&&o.textContent.length===i,u=void 0,c=void 0;l&&(u=a===e?e.childNodes[r]:(0,y.default)(a,function(t){return t&&t!==e&&(t.parentElement===e||(0,N.default)(t,0))?[t.parentElement]:[]},function(t){return t&&t.parentElement===e})),s&&(c=o===e?e.childNodes[i]:(0,y.default)(o,function(t){return t&&t!==e&&(t.parentElement===e||(0,N.default)(t,-1))?[t.parentElement]:[]},function(t){return t&&t.parentElement===e}));var f=void 0,d=void 0,p=void 0,h=void 0,m=(0,C.default)(u,O.DIR.PREV);(0,R.default)(m)&&(f=m),(0,R.default)(u)&&(d=u),(0,R.default)(c)&&(p=c,n.collapsed&&(f=f||p));var b=(0,C.default)(c,O.DIR.NEXT);return(0,R.default)(b)&&(h=b,n.collapsed&&(d=d||h)),{mentionBeforeStart:f,mentionAfterStart:d,mentionBeforeEnd:p,mentionAfterEnd:h}}function u(e){var t=s(e),n=t.mentionBeforeStart,a=t.mentionAfterStart,r=t.mentionBeforeEnd,o=t.mentionAfterEnd;if(n||a||r||o){var i=window.getSelection(),l=i.getRangeAt(0),u=l.collapsed,c=!1;if(n){var p=f(n);c=!0,l.setStartAfter(p),l.collapsed&&l.setEndAfter(p)}if(a){var h=d(a);c=!0,l.setStartBefore(h),u&&l.setEndBefore(h)}if(!u){if(r){var m=f(r);c=!0,l.setEndAfter(m)}if(o){var b=d(o);c=!0,l.setEndBefore(b)}}c&&(i.removeAllRanges(),i.addRange(l))}}function c(){var e=document.createElement("span");return e.textContent="​",e.contentEditable="false",setTimeout(function(){return(0,G.default)(e)},0),e}function f(e){var t=c();return(0,L.default)(t,e),t}function d(e){var t=c();return(0,U.default)(t,e),t}function p(e){if(e.hasChildNodes())for(;e.childNodes.length;)e.removeChild(e.childNodes[0])}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,T.default)(e.refInput,"BACKWARD");if((0,R.default)(a))return"";var r=null,o="",i=0,l=null;return(0,W.default)(e,t,function(e,t,n){if("@"===r){if(g(e))return l=o,!0;if(/\W/.test(e))return l=n.slice(t+1)+o,!0}if(0===t&&(o=n+o),r=e,(i+=1)>=ie)return!0}),!l&&i<ie&&"@"===r&&(l=o),n&&l&&l.length&&(0,Y.default)(t,l.length),l}function m(e,t){var n=t.anchorNode,a=t.anchorOffset;if(n&&n===e.refInput){if(0===a)return!0;n=n.childNodes[t.getRangeAt(0).startOffset],a=(0,D.default)(n)?n.textContent.length:0}if((0,P.default)(n,"br"))return!0;if(!n)return!1;if(!(0,D.default)(n))return!1;if("\n"===n.textContent)return!0;var r=n.textContent.slice(0,a);if(""===r){var o=(0,C.default)(n,O.DIR.PREV);if(!o)return!0;if(!(0,D.default)(o))return!1;r=o.textContent}return"\n"===r.charAt(r.length-1)}function b(e,t){var n=t.anchorNode,a=t.anchorOffset;if(n&&n===e.containerRef&&(n=n.childNodes[a],a=n.textContent.length),!n||n&&n.nodeType!==Node.TEXT_NODE)return!1;for(var r=n.textContent.slice(a),o=n;0===r.length;){if(!(o=o.nextSibling)||o.nodeType!==Node.TEXT_NODE)return!1;r=o.textContent}return" "===r.charAt(0)}function g(e){return Boolean(K.default[e])}var v=n("bbiacghfif"),y=a(v),_=n("eadfaddcj"),E=a(_),j=n("dhigahgdjb"),w=a(j),O=n("bjcgcdejaa"),C=a(O),S=n("cjacjbhhib"),P=a(S),M=n("dbegdchadg"),T=a(M),k=n("bfjchhccjd"),N=a(k),I=n("baeacdffeb"),R=a(I),A=n("bgeafedbjd"),D=a(A),x=n("cadjjhjjci"),L=a(x),F=n("jjaddhidj"),U=a(F),B=n("bhfcdbibdf"),G=a(B),V=n("bidcddiaag"),W=a(V),H=n("decdhbjfjc"),Y=a(H),q=n("jjjdieajj"),K=a(q),z=n("eagfdbhhhh"),Q=n("dcbdjheea"),X=n("digcccheca"),J=n("djeajhjhb"),Z=n("ccaaiecfib"),$=n("debfbiicee"),ee=n("daffbcegjj"),te=ee.dir,ne=n("bcjcbbafcj"),ae=ne.isGecko,re=ne.isTrident,oe=n("cijaehcdg"),ie=2*E.default.MAX_PUSHNAME_LENGTH,le=/\u200B((\d+)@c\.us)\u200B/g,se={Enter:J.ENTER,Tab:J.TAB,ArrowUp:J.UP,ArrowDown:J.DOWN},ue=function(e){function t(){var e,n,a,l,c;o(this,t);for(var f=arguments.length,g=Array(f),v=0;v<f;v++)g[v]=arguments[v];return a=l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(g))),l.serializers=[["span[data-mention-jid]",function(e){return p(e),"​"+(e.getAttribute("data-mention-jid")||"")+"​"}]],l.parsers=[function(e){return e.replace(le,function(e,t,n){var a=w.default.get(t);if(!a)return t;var r=!a.isMyContact&&a.notifyName?a.notifyName:a.formattedName,o=(0,z.createSelectableElement)("span");o.dataset.mentionJid=a.id.toString();var i=document.createElement("span");i.className="at-symbol",i.appendChild(document.createTextNode("@"));var l=document.createElement("span");return l.setAttribute("dir",te(r)||"auto"),l.appendChild(document.createTextNode(r)),o.appendChild(i),o.appendChild(l),o.dataset.originalName=o.textContent||"",o.dataset.appTextTemplate="​"+t+"​",o.outerHTML})}],l.serialize=function(e,t){return t.mentionedJidList=[],[e.replace(le,function(e,n,a){return t.mentionedJidList.push((0,Q.createWid)(n)),"@"+a}),t]},l.handleSelect=function(e,t){var n=window.getSelection();if(b(l.ctx,n)&&n.modify("move","forward","character"),h(l.ctx,n,!0)){n=window.getSelection();var a=l.ctx.refInput,r=a?s(a):{},o=r.mentionAfterEnd;o&&d(o),l.ctx.replaceSelection("​"+e.id.toString()+"​ "),l.handle(J.INACTIVE)}},l.hooks=(n={},r(n,$.CHANGE,function(e,t){var n=t.refInput;if(ae)for(var a=n.querySelectorAll("[data-mention-jid]"),r=0;r<a.length;++r){var o=a[r].nextSibling;o&&(o instanceof Element&&"BR"===o.tagName&&"_moz"===o.getAttribute("type")&&o.remove())}}),r(n,$.INPUT,function(e){var t=e.refInput,n=t.querySelectorAll("[data-mention-jid]");if(n.length)for(var a=0;a<n.length;++a){var r=n[a];if(r.textContent!==r.getAttribute("data-original-name")){var o=r.querySelector(".at-symbol"),i=r.querySelector("span [dir]"),l=window.getSelection(),s=l.focusOffset,u=l.focusNode&&l.focusNode.parentNode&&l.focusNode.parentNode.className,c=r.parentNode,f=document.createDocumentFragment();o&&f.appendChild(document.createTextNode(o.textContent)),i&&f.appendChild(document.createTextNode(i.textContent));var d="at-symbol"===u?f.firstChild:f.lastChild;if(1===f.childNodes.length&&f.lastChild&&(s="@"===f.lastChild.textContent?1:0),c.replaceChild(f,r),l.rangeCount<=0)return;var p=l.getRangeAt(0);p.setEnd(d,s),p.collapse(!1),l.removeAllRanges(),l.addRange(p)}}}),n),l.handlers={onKeyDown:function(e,t){var n=e.key;if(!this.ctx.isComposing&&("Backspace"===n||"Delete"===n&&oe(e))){var a=window.getSelection();if(a.isCollapsed){var r=e.key,o=s(this.ctx.refInput),i=o.mentionBeforeStart,l=o.mentionAfterEnd,c=null;if("Delete"===r&&l&&(c=l),"Backspace"===r&&i&&(c=i),c){a.removeAllRanges();var f=document.createRange();f.selectNode(c),a.addRange(f),u(this.ctx.refInput)}}else u(this.ctx.refInput)}var d=se[e.key];return!!d&&this.handle(d,[e,t])},onKeyPress:function(e,t){return this.ctx.isComposing||u(this.ctx.refInput),!1},onBlur:function(){return this.handle(J.INACTIVE),!1},onSelect:function(e,t){var n=Z.supportsFeature(Z.F.MENTIONS_OUT);if(re||this.ctx.isComposing||!n)return!1;var a=window.getSelection();if(a.isCollapsed&&a.rangeCount>0&&a.anchorNode&&m(t,a)){var r=a.getRangeAt(0);a.removeAllRanges(),a.addRange(r)}var o=h(this.ctx,a);if(!o||a.focusNode&&a.focusNode.parentElement&&(0,R.default)(a.focusNode.parentElement.parentElement))return this.handle(J.INACTIVE),!1;var i=o.slice(1);return this.handle(J.SEARCH,[i]),!1},onPaste:function(){return u(this.ctx.refInput),!1}},c=a,i(l,c)}return l(t,e),t}(X);e.exports=ue},cccicaceef:function(e,t){e.exports={muted:"_3GCYG",bubble:"_2qE0x",isPreview:"_18M7T",isGallery:"_1xfjD",quote:"_4iqBD",hasAuthor:"_3LoL9",vcard:"_2kIVZ",author:"_34Kkb",hasQuote:"_2rE0d",body:"nUQs8",avatar:"WKVRW",meta:"_10PqF",name:"_2LRBk"}},cccjfjdgcj:function(e,t){e.exports={muted:"_2SBZC",chevronLeftBg:"_2AJhR",chevronRightBg:"_3bHbx",chevronLeft:"_3fJCe",chevronRight:"xLf9V",playerContainer:"_1f1Hl",mediaStateControls:"_2jtqw",viewer:"_1oEGl",v3X:"_2Bzjg",v3X_mac:"_3q8_P",v3XMac:"_3q8_P",backIcon:"_3ZC5d",backIcon_mac:"gaWWe",backIconMac:"gaWWe"}},ccdfjfdccf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("ddhijeejag"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n("bjebjijbfc"),l=a(i),s=n("effbcehec"),u=a(s),c=n("dhbceejbjg"),f=a(c),d=n("babadgcffh"),p=a(d);t.default=function(e){var t=e.title,n=e.icon,a=e.t,r=a?l.default.relativeDateAndTimeStr(a):"-",i=o.createElement("div",{className:p.default.title,"data-a8n":u.default.key("msg-info-title")},n,t);return o.createElement(f.default,{primary:i,secondary:r,theme:"plain",idle:!0})}},ccdhdfebfj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("biddiiafgd"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("fffdgbfji"),m=a(h),b=n("iaejfgacj"),g=a(b),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handleCancel=function(){p.default.closeModal()},a.handleOK=function(){a.props.onConfirm(),p.default.closeModal()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.createElement(f.default,{title:m.default.t("group_invite_drawer_revoke_link"),onOK:this.handleOK,okText:m.default.t("group_invite_drawer_revoke_link"),onCancel:this.handleCancel,cancelText:m.default.t("web_cancel")},u.createElement("div",{className:g.default.confirmationText},m.default.t("group_invite_revoke_confirmation_text",{groupName:this.props.chat.contact.name})))}}]),t}(u.Component);v.displayName="GroupInviteRevokeModal",t.default=v},ccebfaijda:function(e,t,n){"use strict";var a={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254};e.exports=a},ccegihfjhe:function(e,t){e.exports={muted:"_1XDJ_",mediaViewerAnimate:"_3a12y","media-viewer-animate":"_3a12y",cursorZoomOut:"_Doi_",media:"_1YV64",mediaViewer:"_18IfL",mediaContent:"_3EJ7Q",btn:"QL-Ef",btnMediaNext:"_2wTLJ",btnMediaPrev:"LAhFg",mediaWithCaption:"C3wjY",mediaCaption:"aLdCc",captionHidden:"_2QQWZ",disabledBtn:"_2FR9h"}},ccfdaijebj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("eceadcicaf"),f=a(c),d=n("bdiiahhjbe"),p=a(d),h=n("ejbdjaifi"),m=n("ceffhbhahb"),b=a(m),g=n("dbhbjaeieh"),v=a(g),y=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._videoRef=null,a._onPlayTriggered=!1,a.setRefVideo=function(e){a._videoRef&&a.props.listeners.remove(a._videoRef,"playing",a.onPlay),a._videoRef=e,e&&("srcObject"in e&&a.props.srcObject?e.srcObject=a.props.srcObject:a.props.src&&(e.src=a.props.src),a.props.listeners.add(e,"playing",a.onPlay),a.props.autoPlay&&e.play())},a.onPlay=function(e){var t=a._videoRef;t&&(t.videoHeight&&t.videoWidth||a._onPlayTriggered||(a._onPlayTriggered=!0,t.pause(),t.play(),p.default.assert(!1,"non-zero height and width","Neither the height nor the width of video should have zero value")()),t.videoHeight&&t.videoWidth&&a.props.onPlay&&(a.props.onPlay(t),a._onPlayTriggered=!1))},i=n,o(a,i)}return i(t,e),l(t,[{key:"underlyingVideo",value:function(){return this._videoRef}},{key:"play",value:function(){var e=this._videoRef;e&&e.paused&&e.play()}},{key:"pauseAndReset",value:function(){var e=this._videoRef;e&&(e.currentTime=0,e.paused||e.pause())}},{key:"render",value:function(){var e=this.props;return u.default.createElement("video",{ref:this.setRefVideo,className:(0,b.default)(v.default.video,e.className),muted:e.muted,controls:e.controls,width:e.width,height:e.height,loop:e.loop,onClick:e.onClick,onEnded:e.onEnded,style:e.style},e.children)}}]),t}(s.PureComponent);y.displayName="Video";t.Component=y;t.default=(0,f.default)((0,h.hoc)(y))},ccfhgdcjch:function(e,t){e.exports={muted:"_3yrB0",icon:"-bh0C"}},ccgchaejji:function(e,t){e.exports={muted:"_3mONR",subheader:"_3jzsh",main:"_2Fyg3",closeBtn:"_2Wd6Q"}},ccgdfaeibd:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){switch(i.default.gifSearch){case"giphy":return s;case"tenor":default:return u}}Object.defineProperty(t,"__esModule",{value:!0}),t.GIPHY_LOCALES=t.BRAND_NAMES=t.GifInfo=t.TENOR=t.GIPHY=t.GAP_SIZE=t.TARGET_GIF_HEIGHT=void 0,t.gifProvider=r;var o=n("bfgbdiffgd"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=t.TARGET_GIF_HEIGHT=130,s=(t.GAP_SIZE=6,t.GIPHY="giphy"),u=t.TENOR="tenor",c=0;t.GifInfo=function e(t,n,r,o,i,s,u,f){a(this,e),this.rank=t,this.gifId=++c,this.url=n,this.size=r,this.previewUrl=o||n,this.nonVideoUrl=i,this.width=s,this.widthStr=s+"px",this.ratioStr=Math.ceil(100*l/s)+"%",this.attribution=u,this.trending=f},t.BRAND_NAMES={giphy:"GIPHY",tenor:"Tenor"},t.GIPHY_LOCALES=["en","es","pt","id","fr","ar","tr","th","vi","de","it","ja","zh-CN","zh-TW","ru","ko","pl","nl","ro","hu","sv","cs","hi","bn","da","fa","tl","fi","iw","ms","no","uk"]},ccgdgjcjjh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("becfabjeeg"),f=a(c),d=n("fifhbjiec"),p=a(d),h=n("dhhfaeacef"),m=a(h),b=n("bfdcadbbif"),g=a(b),v=n("eadfaddcj"),y=n("ihfccfgdf"),_=a(y),E=n("ejbdjaifi"),j=n("bbhdgdbggg"),w=a(j),O=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.businessProfile,n=e.contact,a=n.id,r=n.formattedName,o=n.verifiedLevel,i=void 0,l=void 0,s=void 0,c=void 0;return t.stale?s=u.createElement("div",null,u.createElement(f.default,{size:20,stroke:5})):(t.address&&(i=u.createElement("div",{className:w.default.address},u.createElement(p.default,{selectable:!0,direction:"auto",text:t.address}))),t.description&&(l=u.createElement("div",{className:w.default.description,title:t.description},u.createElement(p.default,{selectable:!0,direction:"auto",text:t.description})))),o===v.VERIFIED_LEVEL.HIGH&&(c=u.createElement("div",{className:w.default.badge},u.createElement(g.default,{name:"psa-verified"}))),u.createElement("div",{className:w.default.container,onClick:this.props.onClick},u.createElement("div",{className:w.default.image},u.createElement(m.default,{id:a,size:55}),c),u.createElement("div",{className:w.default.body},u.createElement("div",{className:w.default.name},r),s,i,l))}}]),t}(u.PureComponent);O.CONCERNS={contact:["id","verifiedLevel","formattedName"],businessProfile:["stale","address","description"]},O.displayName="SpamBusinessInfo",t.default=(0,_.default)((0,E.hoc)(O),O.CONCERNS)},cchefegdjj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_MENU_WIDTH=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("effbcehec"),h=a(p),m=n("ccaaiecfib"),b=a(m),g=n("cdgdijchcg"),v=a(g),y=n("bfgbdiffgd"),_=a(y),E=n("bidgicbbjf"),j=a(E),w=n("egjjcjcg"),O=a(w),C=n("dehacgjjde"),S=(t.OPEN_MENU_WIDTH=parseInt(j.default["-open-menu-width"].replace(/px$/,""),10),function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleOpenClick=function(){a.props.onChange(a._getLastSelectedPanel())},a._handleCloseClick=function(){a.props.onChange(null)},a._handleEmojiClick=function(){if(!Boolean(a.props.selectedPanelId))return void a._handleOpenClick();O.default.setLastComposeBoxPanel(C.PANELS.EMOJI),a.props.onChange(C.PANELS.EMOJI)},a._handleGifClick=function(){O.default.setLastComposeBoxPanel(C.PANELS.GIF),a.props.onChange(C.PANELS.GIF)},a._handleStickerClick=function(){O.default.setLastComposeBoxPanel(C.PANELS.STICKER),a.props.onChange(C.PANELS.STICKER)},a._setRefCloseButtonRef=function(e){a._refCloseButton=e},a._setRefEmojiButtonRef=function(e){a._refEmojiButton=e},a._setRefGifButtonRef=function(e){a._refGifButton=e},a._setRefStickerButtonRef=function(e){a._refStickerButton=e},a._setRefMenu=function(e){a._refMenu=e},r=n,i(a,r)}return l(t,e),s(t,[{key:"_getLastSelectedPanel",value:function(){var e=O.default.getLastEmojiTab(),t=void 0;"GIFS"===e&&(t=C.PANELS.GIF,O.default.setLastEmojiTab(null)),t=t||O.default.getLastComposeBoxPanel()||C.PANELS.EMOJI;var n=_.default.stickers&&b.default.supportsFeature(b.default.F.STICKER_PACK_QUERY);return t!==C.PANELS.STICKER||n||(t=C.PANELS.EMOJI),t}},{key:"render",value:function(){var e,t=_.default.stickers&&b.default.supportsFeature(b.default.F.STICKER_PACK_QUERY),n=Boolean(this.props.selectedPanelId),a=t?c.createElement(v.default,{className:(0,d.default)(j.default.button,j.default.thirdButton),icon:"sticker",isActive:this.props.selectedPanelId===C.PANELS.STICKER,onClick:this._handleStickerClick,onRef:this._setRefStickerButtonRef,size:g.SIZES.SQUARE26}):null;return c.createElement("div",{"data-state":n?"open":"closed",ref:this._setRefMenu,className:(0,d.default)(j.default.menu,(e={},r(e,j.default.full,t),r(e,j.default.open,n),e))},c.createElement(v.default,{className:(0,d.default)(j.default.button,j.default.closeButton),"data-tab":n?4:null,icon:"x",onClick:this._handleCloseClick,onRef:this._setRefCloseButtonRef,size:g.SIZES.SQUARE24}),c.createElement(v.default,{className:(0,d.default)(j.default.button,j.default.firstButton),"data-a8n":h.default.key("compose-btn-emoji"),"data-tab":n?null:4,icon:"smiley",isActive:this.props.selectedPanelId===C.PANELS.EMOJI,isMain:!0,onClick:this._handleEmojiClick,onRef:this._setRefEmojiButtonRef,size:g.SIZES.SQUARE26}),c.createElement(v.default,{className:(0,d.default)(j.default.button,j.default.secondButton),icon:"gif",isActive:this.props.selectedPanelId===C.PANELS.GIF,onClick:this._handleGifClick,onRef:this._setRefGifButtonRef,size:g.SIZES.SQUARE26}),a)}}]),t}(c.PureComponent));S.displayName="ComposeBoxPanelsMenu",t.default=S},ccijgeidci:function(e,t){e.exports={muted:"_3Ph-Q",shadow:"_37gp4"}},ccjabfdeje:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("hbhijdici"),f=a(c),d=n("effbcehec"),p=a(d),h=n("djcchigfih"),m=a(h),b=n("djbhiedbef"),g=a(b),v=n("dajffajabh"),y=a(v),_=n("dgjddffcfg"),E=a(_),j=n("fffdgbfji"),w=a(j),O=n("jbchjhhe"),C=a(O),S=n("cdcaigjjii"),P=a(S),M=n("didfdhbecg"),T=a(M),k=n("cdjhjdcbeg"),N=a(k),I=n("hfhhcchgj"),R=a(I),A=n("bfdcadbbif"),D=a(A),x=n("ceghjibjjg"),L=a(x),F=n("dffedeegcb"),U=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onPreventBlur=function(e){e.preventDefault(),e.stopPropagation(),n.refEmojiInput&&n.refEmojiInput.restoreFocus()},n.onImageSet=function(e,t){n.setState({thumb:e,full:t})},n.onContinue=function(){var e=E.default.emojify(n.state.text.trim());(0,F.createGroup)(e,n.state.thumb,n.state.full,n.props.participants),n.props.onContinue()},n.onSubjectChange=function(e){n.setState({text:e})},n.setRefEmojiInput=function(e){n.refEmojiInput=e},n.state={text:e.subject||"",thumb:e.thumb,full:e.full},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}},{key:"render",value:function(){var e=this.state.text.trim().length>0,t=e?u.default.createElement("div",{className:L.default.nextButton},u.default.createElement(N.default,{a8nText:"create-group-btn",onClick:f.default.once(this.onContinue)},u.default.createElement(D.default,{name:"checkmark-light"}))):null;return u.default.createElement(m.default,null,u.default.createElement(y.default,{title:w.default.t("new_group_flow_title"),type:v.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.default.createElement(g.default,null,u.default.createElement("div",{className:L.default.section},u.default.createElement(C.default,{type:P.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),u.default.createElement("div",{"data-a8n":p.default.key("group-subject"),className:L.default.section,onMouseDown:this.onPreventBlur},u.default.createElement(R.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:w.default.t("group_subject"),onEnter:e?f.default.once(this.onContinue):function(){},supportsEmoji:!0})),u.default.createElement(T.default,{transitionName:"btn"},t)))}}]),t}(s.Component);U.displayName="NewGroupDrawer",t.default=U},ccjagcdajg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("eadfaddcj"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=n("egjjcjcg"),v=a(g),y=n("bdacfjbfhj"),_=a(y),E=n("cgbdcdhgig"),j=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hasSentPlayed:!1},a.mediaBlobWasDownloadedBeforeMount=Boolean(a.props.mediaData.mediaBlob),a.videoRef=null,a.setRefVideo=function(e){if(a.videoRef!==e&&(a.videoRef=e,e)){var t=v.default.getVideoVolumeSettings();t&&(f.default.isNumber(t.volume)&&e.setVolume(t.volume),f.default.isBoolean(t.muted)&&e.setMuted(t.muted))}},a.onSendPlayed=function(){var e=a.videoRef;e&&(e.getCurrentTime()/e.getDuration()>.5||e.getCurrentTime()>10)&&((0,E.markPlayed)(a.props.msg),a.setState({hasSentPlayed:!0}))},a.onLoadedMetadata=function(e){var t=a.props.mediaData.aspectRatio,n=0!==e.videoWidth&&0!==e.videoHeight?e.videoWidth/e.videoHeight:void 0;(!t&&n||t&&n&&Math.abs(n-t)>.01)&&a.props.mediaData.set({aspectRatio:n}),a.props.onLoadedMetadata(e)},a.play=function(){var e=a.videoRef;e&&e.getPaused()&&e.play()},a.pause=function(){var e=a.videoRef;e&&(e.getPaused()||e.pause())},a.getPaused=function(){return!a.videoRef||a.videoRef.getPaused()},a.getCurrentTime=function(){return a.videoRef?a.videoRef.getCurrentTime():0},a.setCurrentTime=function(e){a.videoRef&&a.videoRef.setCurrentTime(e)},a.getDuration=function(){return a.videoRef?a.videoRef.getDuration():0},a.getVolume=function(){return a.videoRef?a.videoRef.getVolume():0},a.setVolume=function(e){a.videoRef&&a.videoRef.setVolume(e)},a.getMuted=function(){return!!a.videoRef&&a.videoRef.getMuted()},a.setMuted=function(e){a.videoRef&&a.videoRef.setMuted(e)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.msg,a=t.mediaData,r=a.mediaBlob,o=void 0,i=a.streamable&&a.isStreamable();o=!this.mediaBlobWasDownloadedBeforeMount&&i||!r?a.streamable&&a.isStreamable()?p.default.VIDEO_STREAM_URL+"?key="+this.props.msg.id.toString():void 0:r.url();var l=!this.state.hasSentPlayed&&(0,E.canMarkPlayed)(n)?this.onSendPlayed:void 0,s=function(t){l&&l(),e.props.onTimeUpdate(t)};return u.createElement(_.default,{ref:this.setRefVideo,url:o,startTime:this.props.startTime,poster:this.props.poster,className:this.props.className,onVolumeChange:this.props.onVolumeChange,onEnded:this.props.onEnded,onError:this.props.onError,onPause:this.props.onPause,onPlaying:this.props.onPlaying,onProgress:this.props.onProgress,onTimeUpdate:s,onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},t.children)}}]),t}(u.PureComponent);j.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable","aspectRatio"]},j.displayName="MsgVideoTag";var w=(0,m.default)((0,b.hoc)(j),j.CONCERNS),O=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.play=function(){a.getComponent().play()},a.pause=function(){a.getComponent().pause()},a.getPaused=function(){return a.getComponent().getPaused()},a.getCurrentTime=function(){return a.getComponent().getCurrentTime()},a.setCurrentTime=function(e){a.getComponent().setCurrentTime(e)},a.getDuration=function(){return a.getComponent().getDuration()},a.getVolume=function(){return a.getComponent().getVolume()},a.setVolume=function(e){a.getComponent().setVolume(e)},a.getMuted=function(){return a.getComponent().getMuted()},a.setMuted=function(e){a.getComponent().setMuted(e)},i=n,o(a,i)}return i(t,e),t}(w);t.default=O},ccjbgacbad:function(e,t){e.exports={muted:"VXMK3",checkboxChatWrapper:"ZnBGP",checkboxChatControl:"A6bRq"}},ccjfaefeaj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){window.history.pushState({},"",window.location.href)}function c(){if(!D.default.connected)return!1;var e=n("ecfbchagde").hasText,t=S.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}),a=O.default.some(function(e){return!!e.composeContents.text});return t||a||e()}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.hasPending=c;var p=n("ddhijeejag"),h=r(p),m=n("ceffhbhahb"),b=a(m),g=n("hbhijdici"),v=a(g),y=n("cbeedeeja"),_=a(y),E=n("djheacfeif"),j=a(E),w=n("dbdfbgehgj"),O=a(w),C=n("biecbbiiee"),S=a(C),P=n("cjbafegbjg"),M=n("djeffaehji"),T=a(M),k=n("begicajfb"),N=a(k),I=n("gbfffciea"),R=a(I),A=n("bjigbaghc"),D=a(A),x=n("biddiiafgd"),L=a(x),F=n("eadfaddcj"),U=a(F),B=n("fjeagagdf"),G=a(B),V=n("djcjacfcic"),W=a(V),H=n("cajijabhgb"),Y=r(H),q=n("ddajbaceej"),K=a(q),z=n("dhfbfehaef"),Q=a(z),X=n("ebidfedahj"),J=a(X),Z=n("bdgeaggfea"),$=a(Z),ee=n("bhhgagadei"),te=a(ee),ne=n("eceadcicaf"),ae=a(ne),re=n("bjbedjfe"),oe=a(re),ie=n("bdiiahhjbe"),le=a(ie),se=n("dgdjiicfdg"),ue=a(se),ce=n("cbjagjcgia"),fe=a(ce),de=n("bgddggdhc"),pe=n("ceddibdhdb"),he=a(pe),me=n("eacidghfgh"),be=a(me),ge=n("dcdiaahjj"),ve=a(ge),ye=n("dedjffeefj"),_e=a(ye),Ee=n("cfcdedaej"),je=a(Ee),we=n("cbjedbdgjh"),Oe=a(we),Ce=n("bcjcbbafcj"),Se=a(Ce),Pe=n("caffijjhc"),Me=a(Pe),Te=n("dcjdgceiej"),ke=a(Te),Ne=n("edbaidcaf"),Ie=a(Ne),Re=n("djegeegcbf"),Ae=a(Re),De=n("bbicdddbdj"),xe=n("gifddfdia"),Le=a(xe),Fe=n("egjjcjcg"),Ue=a(Fe),Be=n("bcifhbgija"),Ge=a(Be),Ve=n("dhabbfcefj"),We=a(Ve),He=n("bfdijdeegj"),Ye=a(He),qe=n("ebiehcaghg"),Ke=a(qe),ze=n("ejbdjaifi"),Qe=n("bfgbdiffgd"),Xe=a(Qe),Je=n("ecbjchafdg"),Ze=a(Je),$e=n("ihgefacbb"),et=a($e),tt=n("bfbggcdbfb"),nt=a(tt),at=n("gcbhjhjhg"),rt=a(at),ot=n("dhefcajhhb"),it=a(ot),lt=n("bbaibbdgdj"),st=n("chiaeadhif");rt.default.supported&&it.default.on("change:tag",function(e){var t=navigator.serviceWorker;t&&t.controller&&!e.tag&&st.request(t.controller,lt.REMOVE_PP,e.id).catch(function(){})});var ut=[[document,"mousemove"],[document,"scroll"],[document,"keydown"],[window,"focus"],[window,"resize"]],ct=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={drawerActive:!1,drawerAnimating:!1},a.idleMonitor=null,a.serverPropsQueryLoop=null,a.rightDrawerOut=!1,a.onBlurTimer=new he.default(function(){if(document.activeElement===document.body){var e=ke.default.Manager.top;e&&e.uie.requestFocus()}}),a.onBlur=function(){a.onBlurTimer.debounce(10)},a.onClick=function(e){var t=e.target;if(t&&"A"===t.nodeName){var n=t.getAttribute("href");if(n){var r=(0,P.parseAPICmd)(n);"INVALID"!==r[0]&&a.execApiCmd(r)&&e.preventDefault()}}},a.onRightDrawerIn=function(){a.rightDrawerOut=!1,R.default.onPanesWillChange(3),a.setState({drawerActive:!0,drawerAnimating:!0},function(){R.default.onPanesDidChange(3)});var e=a.calculateConversationPaneScale();null!=e&&a.animateConversationPane(e)},a.onRightDrawerOut=function(){a.rightDrawerOut=!0;var e={drawerActive:a.state.drawerActive,drawerAnimating:!0},t=a.calculateConversationPaneScale();null!=t&&a.animateConversationPane(t),1!==t?(R.default.onPanesWillChange(2),e.drawerActive=!1,a.setState(e,R.default.onPanesDidChange.bind(R.default,2))):a.setState(e)},a.onRightDrawerAnimationComplete=function(){var e={drawerActive:a.state.drawerActive,drawerAnimating:!1};a.state.drawerActive&&a.rightDrawerOut&&(e.drawerActive=!1),a.setState(e)},a.onRotateFocus=function(e){var t=1;e&&(e.stopPropagation(),e.preventDefault(),t=e.shiftKey?-1:1,(0,z.shouldIndicateFocus)());var n=[];if(v.default.toArray((0,de.forbiddenAssertDOMNode)(a).querySelectorAll("[data-tab]")).forEach(function(e){n.push(e)}),R.default.existsDrawerLeft(function(e){if(e){var t=(0,de.forbiddenFindDOMNode)(a.refChatList);n=n.filter(function(e){return!(t&&t.contains(e))})}}),R.default.existsDrawerMid(function(e){if(e){var t=(0,de.forbiddenFindDOMNode)(a.refConversation);t&&(n=n.filter(function(e){return!(t&&t.contains(e))}))}}),n.length){n=v.default.sortBy(n,function(e){return parseInt(e.getAttribute("data-tab"),10)||0});var r=0,o=document.activeElement;o&&(r=$.default.ring(v.default.findIndex(n,function(e){return e.contains(o)})+t,n));var i=n[r];(0,z.shouldIndicateFocus)(),i.restoreFocus?i.restoreFocus():K.default.focus(i)}},a.showTOS=function(){switch(D.default.tos){case 1:case 2:R.default.openModal(h.createElement(je.default,null),{blockClose:!0});break;case 3:be.default.logout()}},a.showSmbTos=function(){D.default.smbTos&&R.default.openModal(h.createElement(Oe.default,null),{blockClose:!0})},a.setRefContainer=function(e){a.refContainer=e},a.setRefChatList=function(e){a.refChatList=e},a.setRefConversation=function(e){a.refConversation=e},a.showKeyboardShortcuts=function(e){for(var t=e.target,n=0;n<5;n++){if(function(e){return e&&e.getAttribute("contentEditable")||e instanceof HTMLInputElement}(t))return;t=t.parentNode}R.default.openModal(h.createElement(Ze.default,null)),e.preventDefault()},r=n,l(a,r)}return s(t,e),d(t,[{key:"componentWillMount",value:function(){ve.default.uiActive=!0,ve.default.markAvailable(),this.props.listeners.add(window,"click",this.onClick,!0);var e=(0,A.getPlatformTypeForLastSession)(),t=D.default.platform;e!==t&&(Le.default.downloadEmojiAsset(t),Ae.default.setEmojiType("iphone"===t?De.EMOJI_TYPE.APPLE:De.EMOJI_TYPE.WHATSAPP))}},{key:"componentWillReceiveProps",value:function(e){e.apiCmd&&this.execApiCmd(e.apiCmd)}},{key:"componentWillUnmount",value:function(){this.onBlurTimer.cancel(),te.default.menuBatchRenderWith(function(){te.default.trigger(J.default.Event+":"+J.default.Events.LOGGED_OUT)}),Ie.default.canMuckHistory()&&window.history.back(),ve.default.uiActive=!1,this.clearIdleMonitor(),this.clearServerPropsQueryLoop(),this.stopTrackingFPS&&this.stopTrackingFPS()}},{key:"componentDidMount",value:function(){var e=this.props.listeners;if(te.default.menuBatchRenderWith(function(){te.default.trigger(J.default.Event+":"+J.default.Events.LOGGED_IN)}),this.props.apiCmd&&this.execApiCmd(this.props.apiCmd),Ie.default.canMuckHistory()&&(window.history.pushState({},"",window.location.href),e.add(window,"popstate",u)),this.beginIdleMonitor(!0),this.beginServerPropsQueryLoop(),e.add(D.default,"change:tos",this.showTOS),this.showTOS(),D.default.isSMB&&(e.add(D.default,"change:smbTos",this.showSmbTos),this.showSmbTos()),K.default.focus((0,de.forbiddenAssertDOMNode)(this)),Se.default.isSafari&&(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)){var t=Ue.default.getNUX(U.default.NUX.SAFARI_LIMITED_SUPPORT);(!t||t<t.maxViews)&&(setTimeout(function(){var e=l10n.t("whatsapp_safari_limited").replace("__chrome_homepage__",U.default.BROWSER_LINK.CHROME).replace("__firefox_homepage__",U.default.BROWSER_LINK.FIREFOX).replace("__opera_homepage__",U.default.BROWSER_LINK.OPERA);R.default.openModal(h.createElement(L.default,{onOK:function(){return R.default.closeModal()},okText:l10n.t("ok_got_it")},h.createElement("div",{dangerouslySetInnerHTML:{__html:e}})))},250),Ue.default.setNUX(U.default.NUX.SAFARI_LIMITED_SUPPORT,{views:1,maxViews:1}))}if(this.stopTrackingFPS=et.default.whenLessThan(10,function(e,t){new nt.default.WebcUiFreeze({webcUiFreezeFps:e,webcUiFreezeT:v.default.round(t,0)}).commit(),le.default.log("Low FPS Tracker: "+v.default.round(e,2)+"fps, "+v.default.round(t,3)/1e3+"s since page open.")()}),rt.default.supported){var n=navigator.serviceWorker;n&&n.controller&&st.request(n.controller,lt.PRELOAD_LAZY_LOADED_BUNDLES).catch(function(){})}}},{key:"execApiCmd",value:function(e){var t=f(e,2),n=t[0],a=t[1];return le.default.log("main:execApiCmd:"+n)(a),this.props.apiCmdHandled(),(0,T.default)(n,a)}},{key:"beginIdleMonitor",value:function(e){var t=this,n=e?U.default.IDLE_TIMEOUT:0;this.idleMonitor=Promise.loop(function(){return Promise.delay(n).addCancelControl().then(function(){ve.default.markUnavailable(3e4);var e=void 0,a=new Promise(function(t){e=t});return ut.forEach(function(n){var a=f(n,2),r=a[0],o=a[1];t.props.listeners.add(r,o,e)}),a.addCancelControl().finally(function(){ut.forEach(function(n){var a=f(n,2),r=a[0],o=a[1];t.props.listeners.remove(r,o,e)})}).then(function(){document.hasFocus()&&ve.default.markAvailable(),n=U.default.IDLE_TIMEOUT})})}).finally(function(){t.idleMonitor=null}).catch(Promise.CancellationError,function(){}).endWithControls("cancel")}},{key:"clearIdleMonitor",value:function(){this.idleMonitor&&this.idleMonitor.control.cancel()}},{key:"beginServerPropsQueryLoop",value:function(){var e=this;this.serverPropsQueryLoop=j.default.setLocalTimeout(function(){Xe.default.fetch().catch(Y.WapDrop,function(){}),e.beginServerPropsQueryLoop()},(0,ue.default)().add(1,"days").valueOf())}},{key:"clearServerPropsQueryLoop",value:function(){j.default.clearTimeout(this.serverPropsQueryLoop)}},{key:"calculateConversationPaneScale",value:function(){if(!(this.refChatList&&this.refContainer&&this.refConversation))return null;var e=(0,de.forbiddenAssertDOMNode)(this.refChatList),t=(0,de.forbiddenAssertDOMNode)(this.refConversation),n=(0,de.forbiddenAssertDOMNode)(this.refContainer);return t.clientWidth/(n.clientWidth-e.clientWidth)}},{key:"animateConversationPane",value:function(e){(0,Ge.default)((0,de.forbiddenAssertDOMNode)(this.refConversation),{scaleX:[1,e]},{duration:300,easing:[.1,.82,.25,1]})}},{key:"render",value:function(){var e=(0,b.default)("app",Ke.default.app,o({three:this.state.drawerActive,two:!this.state.drawerActive,"app-animating":this.state.drawerAnimating},Ke.default.noAnimation,!this.props.animate)),t={tab:this.onRotateFocus,"shift+tab":this.onRotateFocus,"shift+?":this.showKeyboardShortcuts};return h.createElement(Me.default,{state:Me.default.State.INACTIVE,ref:this.setRefContainer,displayName:"Main"},h.createElement(Q.default,{handlers:t,className:e,onBlur:this.onBlur},h.createElement(fe.default,null),h.createElement(_.default,null),h.createElement(We.default,null),h.createElement(Ye.default,null),h.createElement(_e.default,null),h.createElement("div",{className:Ke.default.drawerManager},h.createElement("div",{className:(0,b.default)(Ke.default.pane,Ke.default.paneOne)},h.createElement(W.default,{direction:V.Dir.LEFT})),h.createElement("div",{className:(0,b.default)(Ke.default.pane,Ke.default.paneTwo)},h.createElement(W.default,{direction:V.Dir.MID})),h.createElement("div",{className:(0,b.default)(Ke.default.pane,Ke.default.paneThree)},h.createElement(W.default,{direction:V.Dir.RIGHT,onDrawerIn:this.onRightDrawerIn,onDrawerOut:this.onRightDrawerOut,onDrawerAnimationComplete:this.onRightDrawerAnimationComplete}))),h.createElement("div",{className:(0,b.default)(Ke.default.pane,Ke.default.paneOne)},h.createElement(N.default,{ref:this.setRefChatList})),h.createElement("div",{className:(0,b.default)(Ke.default.pane,Ke.default.paneTwo)},h.createElement(G.default,{animate:this.props.animate,ref:this.setRefConversation}))))}}]),t}(h.Component);ct.displayName="Main",t.default=(0,ae.default)((0,oe.default)((0,ze.hoc)(ct)))},ccjgccbced:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("hbhijdici"),c=a(u),f=n("dbdfbgehgj"),d=a(f),p=n("gaifbabbj"),h=n("dhjeadeagb"),m=a(h),b=n("cehjjfagii"),g=a(b),v=n("cadbaeefbb"),y=a(v),_=n("jhcabjcaf"),E=a(_),j=n("gbfffciea"),w=a(j),O=n("biddiiafgd"),C=a(O),S=n("dhigahgdjb"),P=a(S),M=n("ddihbaicfd"),T=a(M),k=n("ceffhbhahb"),N=a(k),I=n("bhcegecbha"),R=a(I),A=n("cajijabhgb"),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(A),x=n("fifhbjiec"),L=a(x),F=n("ccaaiecfib"),U=a(F),B=n("cieaeggjg"),G=a(B),V=n("bahgfcjcda"),W=a(V),H=n("ddhijeejag"),Y=a(H),q=n("ihfccfgdf"),K=a(q),z=n("ejbdjaifi"),Q=n("bheafeifce"),X=n("cgfjebhhej"),J=a(X),Z=n("ciddcjeaij"),$=a(Z),ee=n("bfdcadbbif"),te=a(ee),ne=n("eadfaddcj"),ae=a(ne),re=n("cccicaceef"),oe=a(re),ie=n("chajfbfiga"),le=a(ie),se=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onMessageClick=function(){var e=a.props.msg.getWAids();e&&e.length>1&&a.props.msg.vcard?w.default.openModal(Y.default.createElement($.default,{vCard:a.props.msg.vcard,onCancel:function(){return w.default.closeModal()},icon:Y.default.createElement(te.default,{name:"chat",directional:!0}),onSelect:a.openContactChat})):a.openContactChat(c.default.first(e))},a.onViewContact=function(){a.props.msg.vcard?w.default.openModal(Y.default.createElement(T.default,{vcard:a.props.msg.body})):w.default.openModal(Y.default.createElement(C.default,{onCancel:function(){return w.default.closeModal()},onOK:function(){w.default.closeModal(),R.default.initDownload((0,Q.unproxy)(a.props.msg))},okText:l10n.t("web_button_download"),cancelText:l10n.t("web_cancel"),title:l10n.t("download_contact_title")},l10n.t("download_contact_prompt")))},a.onAddToGroupClick=function(){var e=a.props.msg.getWAids();e&&e.length>1&&a.props.msg.vcard?w.default.openModal(Y.default.createElement($.default,{vCard:a.props.msg.vcard,onCancel:function(){return w.default.closeModal()},onSelect:a.addContactToGroup,icon:Y.default.createElement(te.default,{name:"add-user",directional:!0})})):a.addContactToGroup(c.default.first(e))},r=n,i(a,r)}return l(t,e),s(t,[{key:"openContactChat",value:function(e){var t=U.default.supportsFeature(U.default.F.QUERY_VNAME)&&!P.default.get(e);d.default.find(e).then(function(n){w.default.closeModal(),w.default.openChatFromUnread(n).then(function(e){e&&w.default.focusChatTextInput(n)}),t&&le.default.queryExist(e).then(function(t){200===t.status&&t.biz&&le.default.queryVname(e).catch(D.WapDrop,function(){})})})}},{key:"addContactToGroup",value:function(e){P.default.find(e).then(function(e){w.default.openModal(Y.default.createElement(m.default,{contact:e,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})})}},{key:"render",value:function(){var e,t=this.props.msg,n=t.getWAids(),a=c.default.truncate(t.subtype||l10n.t("attach_vcard"),{length:120,omission:l10n.t("punctuation_ellipsis")}),o=void 0;n&&n.length>0&&(o=Y.default.createElement(y.default,{items:[{label:l10n.t("message"),onClick:this.onMessageClick,title:l10n.t("message_author",{author:a})},{label:l10n.t("add_contact_to_group"),onClick:this.onAddToGroupClick}]}));var i=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?Y.default.createElement("div",{className:oe.default.author},Y.default.createElement(g.default,{msg:t,contact:t.senderObj})):null,l=this.props.quotedMsg?Y.default.createElement("div",{className:oe.default.quote},this.props.quotedMsg):null,s=(0,N.default)(oe.default.bubble,(e={},r(e,oe.default.hasAuthor,i),r(e,oe.default.hasQuote,l),r(e,oe.default.isPreview,this.props.displayType===ae.default.DISP_TYPE.MSG_INFO),r(e,oe.default.isGallery,this.props.displayType===ae.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===ae.default.DISP_TYPE.GALLERY),e)),u=this.props.msg.vcard||this.props.msg.chat.isTrusted(),f=u?this.onViewContact:function(){},d=p.Configuration.Compatibility({selectable:!0});return Y.default.createElement(E.default,{className:s,contact:t.senderObj,msg:t},i,l,Y.default.createElement("div",{className:oe.default.vcard,role:u?"button":null,onClick:f},Y.default.createElement("div",{className:oe.default.avatar},Y.default.createElement(W.default,{size:49,thumb:J.default.thumbnail(t.body),waid:t.getVCardThumbnailWAid()})),Y.default.createElement("div",{className:oe.default.body},Y.default.createElement(L.default,{text:a,element:"div",className:oe.default.name,selectable:!0,dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir,formatters:d})),Y.default.createElement("div",{className:oe.default.meta},Y.default.createElement(G.default,{msg:t}))),o)}}]),t}(H.Component);se.CONCERNS={msg:["vcard","isQuoted","body","subtype","rtl","dir","isSentByMe","isGroupMsg","senderObj","chat"]},se.displayName="Vcard",t.default=(0,K.default)((0,z.hoc)(se),se.CONCERNS)},cdaaeifjfh:function(e,t){e.exports={muted:"fT4OR",buttons:"_3cBNw",button:"_3kZj4"}},cdaddeffii:function(e,t){e.exports={muted:"_3MzkW",context:"_15CAo",contextIn:"_2Nkc4",contextOut:"_3EQsG",contextIcon:"_2-qoA",contextSpecial:"_3WZEQ",contextInverse:"_38wik",contextMedia:"_1eJVc",contextMediaLtr:"_20WGU",contextMediaRtr:"DuEXX",contextMediaDocument:"gTQOV",contextIconMedia:"_3MU5v",contextDoc:"_3ZNgA",contextPttFix:"_3Bm9i",contextPtt:"_1TDSM",contextMultiVcard:"_2rg5w",contextStickerAuthor:"_3kHVU",contextStickerTransparent:"_2PpWQ",badge:"_1j7jW",contextStickerInverse:"I3gU2"}},cdbcigcahd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("eagfdbhhhh"),c=n("dgefajbgai"),f=a(c),d=function(e){var t=e.title,n=e.icon,a=e.onClick,o=e.children,l=(0,s.default)(f.default.itemBody,r({},f.default.row,n)),c=(0,s.default)(r({},f.default.main,n)),d=(0,s.default)(r({},f.default.side,n));return i.createElement("div",{className:f.default.item,onClick:a,role:a?"button":""},i.createElement("div",{className:l},i.createElement("div",{className:c,dir:"auto"},i.createElement(u.SelectableDiv,{className:f.default.primary,selectable:!0},t),i.createElement("div",{className:f.default.secondary},o)),i.createElement("div",{className:d},n)))};d.displayName="DrawerItem",t.default=d},cdcaigjjii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={GROUP:"GROUP",PROFILE:"PROFILE"};t.default=a},cdcbgdeab:function(e,t){e.exports={muted:"bgjKF",pager:"_3j_mW",pagerLeft:"Hh963",pagerRight:"_3WJ6c",pagerDisabled:"_3tHA6",body:"_3MoCW",section:"_J-Y0",searchRow:"_2NkaG"}},cdcfgefbba:function(e,t){e.exports={muted:"_1LBaF",container:"_11FF7",body:"_3bY6N",footer:"_2HyTU",retakeBtn:"_3C0e6",retakeIcon:"_37zqu",caption:"_3iVC4",videoContainer:"_2On8w",video:"_1A1HX",videoInactive:"_2bPbZ",btn:"_1cZ2V",btnSend:"_3Mn8m",image:"_2pRfq",snapshot:"_30MUA"}},cdeaahaeee:function(e,t){e.exports={muted:"_1oRpM",updateWrapper:"_3eMSw",updateTitle:"W5vNF",uploadButtons:"_1my7I",buttonContainer:"_385o1",outStatusPanel:"_3MBzN",outDetail:"_2jgce",seen:"_1Yxff",timestamp:"_1Wv89",placeholderIcon:"AOhCd",placeholderText:"ojaNO",viewWrapper:"_2Erv5",viewTitle:"_3PAk1",viewUpdates:"_13BGY",statusImage:"_3Karf",seenCount:"_1yzfb"}},cdebbfjhbf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bcbahjefec"),f=a(c),d=n("iibiehcaf"),p=a(d),h=n("gcbiehega"),m=a(h),b=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.sessionId=Math.round(1e9*Math.random()),a.openStatusViewer=function(e,t,n){a.push(u.createElement(m.default,{initialStatusV3:e,initialStatusMsg:t,closeStatusViewer:a.closeStatusViewer,sessionId:a.sessionId,rowIdx:n}),"none")},a.closeStatusViewer=function(e){e?a.end():a.pop("none")},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.push(u.createElement(p.default,{onOpenStatus:this.openStatusViewer,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId}),"status-v3-modal")}},{key:"componentWillUnmount",value:function(){this.props.onFlowEnd()}}]),t}(f.default);e.exports=b},cdeciahhed:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("cjcffhicea"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("bcbahjefec"),v=a(g),y=n("bfgbdiffgd"),_=a(y),E=n("dfdebdgdei"),j=n("dbbhhgjjbg"),w=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onForwardConfirmed=function(e){var t=a.props.msgText;if(1===e.length){var n=void 0,r=d.default.head(e);n=r.isUser&&r.contact.isBlocked()?(0,E.unblockContact)(r.contact):Promise.resolve(!0),n.then(function(e){if(t){if(r.urlText=a.props.urlText,r.active)return void b.default.pasteChatTextInput(r,t);r.setComposeContents({text:t})}return b.default.openChatFromUnread(r).then(function(e){e&&b.default.focusChatTextInput(r)})})}else Promise.map(e,function(e){var n=void 0;n=e.isUser&&e.contact.isBlocked()?(0,E.unblockContact)(e.contact):Promise.resolve(!0),n.then(function(n){e.urlText=a.props.urlText,(0,j.sendTextMsgToChat)(e,t)})}),b.default.openChatFromUnread(d.default.head(e));a.end()},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.push(c.createElement(h.default,{onChat:this.onForwardConfirmed,maxItems:this.props.serverProps.multicastLimitGlobal,title:l10n.t("msg_send_title"),listType:p.ListType.CHAT_SELECT_MODAL}))}}]),t}(v.default);t.default=function(e){return c.createElement(w,l({},e,{serverProps:_.default}))}},cdegajchcj:function(e,t){e.exports={muted:"_3ubjX",shade:"_3TrQs"}},cdegfghcid:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.count,n=(0,m.default)(f.default.count,r({},f.default.ffFix,p.default.isGecko));return l.createElement("span",{className:n},t>0?u.default.n(t):null)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("fffdgbfji"),u=a(s),c=n("bijdjchach"),f=a(c),d=n("bcjcbbafcj"),p=a(d),h=n("ceffhbhahb"),m=a(h);o.displayName="UnreadCount"},cdffadcgjg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("bdiiahhjbe"),o=a(r),i=n("chfehjfdj"),l=a(i),s={queryRecentStickers:function(){var e=this;return new Promise(function(t,n){var a=function(a){e.BinaryProtocol.read(a).then(function(n){o.default.logColor("green","bin-recv: response,recent_stickers",n)();var a=e.N.tag(n);if("response"!==a)throw new Error("node tage for recent_stickers response is invalid: "+a);var r=e.N.attr("type",n);if("recent_stickers"!==r)throw new Error("node type for recent_stickers response is invalid: "+r);var i=parseInt(e.N.attr("code",n),10)||200;if(200!==i)throw new Error("response status for recent_stickers is invalid: "+i);var s=e.N.attr("checksum",n)||"",u=e.N.children(n)||[],c=u.map(function(t){return(0,l.default)(t,e.N)}).filter(Boolean);t({checksum:s,stickers:c})}).catch(n)},r=e.queryNode({type:"recent_stickers"},void 0);e.binSend("sendEphemeral",r,n,{onSend:e.binWrap(a,t),onDrop:e.wrap(n)},{debugString:"query,recent_stickers",metric:e.M.QUERY_RECENT_STICKERS})})},parseRecentStickersAction:function(e){if("recent_stickers"===this.N.tag(e)){if("delete"===this.N.attr("type",e))return this.N.attr("filehash",e)}}};e.exports=s},cdfiibedj:function(e,t){e.exports={muted:"IFEYr",container:"ekffg",icon:"_2ZVha",text:"_2UyQS",containerSmallIcon:"_3KaFM"}},cdgdijchcg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SIZES=t.ITEM_SPACING=t.ITEM_WIDTH=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("dhfbfehaef"),h=a(p),m=n("bjcfdghhfc"),b=a(m),g=n("bfdcadbbif"),v=a(g),y=(t.ITEM_WIDTH=parseInt(b.default["-item-width"].replace(/px$/,""),10),t.ITEM_SPACING=parseInt(b.default["-item-spacing"].replace(/px$/,""),10),t.SIZES={SQUARE24:"SQUARE24",SQUARE26:"SQUARE26"}),_=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleEnterKey=function(e){e.stopPropagation(),e.preventDefault(),a.props.onClick()},a._handleClick=function(){a.props.onClick()},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e;return c.createElement(h.default,{className:(0,d.default)(b.default.container,this.props.className,(e={},r(e,b.default.active,this.props.isActive),r(e,b.default.top,this.props.isMain||this.props.singleButton),r(e,b.default.padding,this.props.singleButton),r(e,b.default.square24,this.props.size===y.SQUARE24),r(e,b.default.square26,this.props.size===y.SQUARE26),e)),"data-tab":this.props["data-tab"],onRef:this.props.onRef,handlers:{enter:this._handleEnterKey}},c.createElement("button",{"data-a8n":this.props["data-a8n"],className:b.default.btn,onClick:this._handleClick},c.createElement(v.default,{name:this.props.icon})))}}]),t}(c.PureComponent);_.displayName="ComposeBoxPanelsMenuButton",t.default=_},cdgebfdaif:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("biddiiafgd"),f=a(c),d=n("bcbahjefec"),p=a(d),h=n("dabieifebj"),m=a(h),b=n("cihcggiidc"),g=a(b),v=n("dbdfbgehgj"),y=a(v),_=n("gbfffciea"),E=a(_),j=n("bhheahajjg"),w=a(j),O=n("bfjajhbdf"),C=a(O),S=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onSendInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];E.default.closeModal(),Promise.all(a.props.participantNeedInvite.map(function(n){var r=n.contact,o=n.invite_code,i=n.invite_code_exp;return y.default.find(r.id).then(function(n){var r=a.props.groupGid.toString();return n.sendGroupInviteMessage(r,a.props.subject,o,i,e,t).then(function(e){return"success"===e})})})).then(function(e){var t=e.filter(Boolean).length;E.default.openToast(u.createElement(C.default,{msg:l10n.t("web_group_v4_invite_sent_success",{num:t,_plural:t}),id:(0,O.genId)()}))})},a.addInviteCommment=function(e){a.push(u.createElement(g.default,{participants:e,gid:a.props.groupGid,subject:a.props.subject,groupDesc:a.props.groupDesc,onClose:a._pop,onSend:a.onSendInvite}))},a._pop=function(){a.pop()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.participantNeedInvite,t=this.getFormattedNames(e.map(function(e){return e.contact}),!0),n=l10n.t("group_v4_invite_prompt_modal",{participant:t,_plural:e.length});this.push(u.createElement(f.default,{onOK:this.addInviteCommment.bind(this,e),okText:l10n.t("web_group_v4_button_invite_to_group"),onCancel:this._pop,cancelText:l10n.t("web_cancel")},n))}},{key:"getFormattedName",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.formattedUser:u.createElement(w.default,{contact:e})}},{key:"getFormattedNames",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this.getFormattedName(e,n);var a=e.map(function(e){return t.getFormattedName(e,n)});return(0,m.default)(a,n)}}]),t}(p.default);S.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=S},cdgeeegaih:function(e,t,n){"use strict";function a(e,t){var n=t.map(function(e){return e.contact}),a=(e||"").toLowerCase();return n.filter(function(e){return r(a,e)})}function r(e,t){if(t.isMe)return!1;var n=[t.searchName||t.formattedName];return!t.isMyContact&&t.notifyName&&n.push(t.notifyName.toLowerCase()),n.some(function(t){return o(e,t)})}function o(e,t){var n=-1;do{if(t.indexOf(e,n+1)===n+1)return!0}while(-1!==(n=t.indexOf(" ",n+1)));return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.getResults=a},cdhdchfidf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("bjigbaghc"),o=a(r),i=n("bdiiahhjbe"),l=a(i),s=n("eacidghfgh"),u=a(s),c=n("hjbbdjjdf"),f=n("dgdjiicfdg"),d={createGroup:function(e,t,n,a,r,i){var s=this;return new Promise(function(d,p){var h=u.default.tag(),m=s.wrap(d);m.tag=h;var b=t.map(function(e){return["participant",{jid:e},void 0]});(0,c.isString)(n)&&(0,c.isString)(a)&&b.unshift(["description",{id:a},n]),r&&b.unshift(["locked",void 0,void 0]),i&&b.unshift(["announcement",void 0,void 0]),l.default.log("create group tag",h)();var g=["group",{id:h,type:"create",author:o.default.me,subject:e},b],v=s.actionNode("set",[g]);s.binSend("send",v,p,{clientCacheable:!0,onSend:m,onDrop:s.wrap(p)},{debugString:"action,group,create",metric:s.M.GROUP,expires:f().unix()})})}};e.exports=d},cdheafhdbh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.ThemeOptions=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("ceffhbhahb"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("bjgibbgbai"),v=a(g),y=n("dicggaeied"),_=a(y),E=n("cicabfhdbb"),j=a(E),w=n("ccajjgdjf"),O=a(w),C=n("bjfecgfdgj"),S=a(C),P=n("fbjjefaic"),M=a(P),T=n("ejbdjaifi"),k=n("caffijjhc"),N=a(k),I=n("didfdhbecg"),R=a(I),A=n("eaijjhejbf"),D=a(A),x=n("chgaccicf"),L=a(x),F=t.ThemeOptions=(0,L.default)({MEDIA_CAPTION:null,EMOJI_INPUT:null}),U={omitted:"",query:"",emojiList:null},B=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state=U,a.onEmoji=function(e){S.default.increment(e),a.props.plugin.handleSelect(e)},a.onSearch=function(e){var t=e?e.trim():e,n=a.state.omitted,r=a.props.chat;if(r&&r.isGroup&&t&&t.indexOf("@")>-1)return void a.setState({emojiList:null,query:""});if(!n||!d.default.startsWith(t,n))if(t.length<2){if(!a.state.emojiList)return;a.setState({emojiList:""===t?null:(0,_.default)(t),query:t})}else{var o=(0,_.default)(t);o.length?a.setState({omitted:null,emojiList:o,query:t}):a.setState({emojiList:null,query:t})}},a.onInactive=function(){a.setState(U)},a.onEscape=function(){a.setState({emojiList:null,query:"",omitted:a.state.query})},a.onKeyPress=function(e){e.preventDefault();var t=a.props.chat;t&&b.default.pasteChatTextInput(t,String.fromCharCode(e.charCode))},a.onKeyDown=function(e){return"Backspace"===e.key&&(e.preventDefault(),document.execCommand("delete"),a.props.plugin.ctx.focus()),!1},a.onEnter=function(e){if(!(0,O.default)(e)){var t=a.emojiSuggestionsPanel;return t?(e.preventDefault(),e.stopPropagation(),t.pickSelectedEmoji(),!1):void 0}},a.onLeft=function(e){if(!(0,O.default)(e)){var t=a.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionLeft())}},a.onRight=function(e){if(!(0,O.default)(e)){var t=a.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionRight())}},a.releaseFocus=function(){a.props.plugin.ctx.focus()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props.plugin;e.registerHandler(this,v.default.EMOJI_SEARCH,this.onSearch),e.registerHandler(this,v.default.EMOJI_INACTIVE,this.onInactive),e.registerHandler(this,v.default.EMOJI_ENTER,this.onEnter),e.registerHandler(this,v.default.EMOJI_LEFT,this.onLeft),e.registerHandler(this,v.default.EMOJI_RIGHT,this.onRight),e.registerHandler(this,v.default.EMOJI_TAB,this.onEnter)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,v.default.EMOJI_SEARCH),e.unregisterHandler(this,v.default.EMOJI_INACTIVE),e.unregisterHandler(this,v.default.EMOJI_ENTER),e.unregisterHandler(this,v.default.EMOJI_LEFT),e.unregisterHandler(this,v.default.EMOJI_RIGHT),e.unregisterHandler(this,v.default.EMOJI_TAB)}},{key:"renderTab",value:function(e){return c.createElement("div",{className:D.default.searchBody,key:"RECENT"},c.createElement(j.default,{ref:(0,T.GetRef)("emojiSuggestionsPanel",this),key:this.state.query,onEmoji:this.onEmoji,onFocusRelease:this.onInactive,onSkinTonePicker:this.props.onSkinTonePicker,emojiList:e}))}},{key:"render",value:function(){var e,t=this.state.emojiList,n=t?c.createElement(N.default,{displayName:"EmojiSuggestions",escapable:!0,requestDismiss:this.onEscape,requestFocus:this.releaseFocus},c.createElement("div",{className:(0,h.default)(D.default.overlayContainer,(e={},r(e,D.default.mediaCaption,this.props.theme===F.MEDIA_CAPTION),r(e,D.default.emojiInput,this.props.theme===F.EMOJI_INPUT),e))},c.createElement("div",{className:D.default.resultsContainer,"data-list-scroll-container":"false"},c.createElement("div",{className:D.default.emojiSearch,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown},this.renderTab(t))))):null;return c.createElement(R.default,{component:"div",className:D.default.positioningContainer,transitionName:"emoji-search-panel-slide-up"},n)}}]),t}(c.Component);B.displayName="EmojiSuggestions";t.Component=B;t.default=(0,M.default)((0,T.hoc)(B))},cdhichafeb:function(e,t){e.exports={"-thumb-radius-window":"4.5px",thumbRadiusWindow:"4.5px","-thumb-radius-fullscreen":"5px",thumbRadiusFullscreen:"5px",muted:"mzdM-",controls:"_1ZSng",playpauseBtnContainer:"_2sQuC",fullscreen:"_1LLDD",currentTime:"_2tjFy",duration:"_1ahx-",timeText:"_2sWbB",progressBarContainer:"OZVc4",hiddenProgressBar:"_3N5w5",displayedProgressBar:"_2bTRm",displayedProgress:"_2ZXtj",displayedBuffer:"_29NP7",displayedTrack:"BlZHO",thumb:"_12kgx",hideThumb:"_3P5mI",volumeContainer:"_130CI",volumeBarContainer:"AD15h",volumeLowerTrack:"_3Nf6W",firefoxFix:"_31xd3",lowerTrackLongest:"_3H-Mh",volumeBar:"scAIX",volumePadding:"_28kjQ",tooltipWrapper:"_3T5kf",tooltipTextBoxPosAndSize:"_2nN7G",tooltipTextBoxGeneral:"_2vqPI",tooltipTailGeneral:"_23EAc",tooltipTailPosAndSize:"_4MCrh"}},cdjajhiedh:function(e,t){e.exports={muted:"_1CHPf",container:"_2XJM3"}},cdjdachjig:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){try{return(0,s.createWid)(e)}catch(t){return e}}function o(e){var t="",n="",a=e.singleByte,o=e.doubleByte,i=e.nibbleDecode;this.readNode=function(e){var n=e.readByte(),a=this.readListSize(e,n);if((n=e.readByte())===f.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var r=this.readString(e,n);if(t=r,0===a||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var o=a-2+a%2>>1,i=this.readAttributes(e,o);if(a%2==1)return[r,i,void 0];var l=void 0;if(n=e.readByte(),this.isListTag(n))l=this.readList(e,n);else if(n===f.BINARY_8){var s=e.readByte();l=e.readBytes(s)}else if(n===f.BINARY_20){var u=e.readInt20();l=e.readBytes(u)}else if(n===f.BINARY_32){var c=e.readInt32();l=e.readBytes(c)}else l=this.readString(e,n);return[r,i,l]},this.isListTag=function(e){return e===f.LIST_EMPTY||e===f.LIST_8||e===f.LIST_16},this.readListSize=function(e,t){if(t===f.LIST_EMPTY)return 0;if(t===f.LIST_8)return e.readByte();if(t===f.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,a){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=void 0;if(-1===a)throw new Error("invalid start token readString"+e.debugInfo());if(a>2&&a<236){var s=this.getToken(a);return"s.whatsapp.net"===s&&(s="c.us"),s}switch(a){case f.DICTIONARY_0:case f.DICTIONARY_1:case f.DICTIONARY_2:case f.DICTIONARY_3:var u=e.readByte();return this.getTokenDouble(a-f.DICTIONARY_0,u);case f.LIST_EMPTY:return;case f.BINARY_8:return i=e.readString(e.readByte()),this.isAttr&&o&&l.default.isWid(i)?r(i):i;case f.BINARY_20:return i=e.readString(e.readInt20()),this.isAttr&&o&&l.default.isWid(i)?r(i):i;case f.BINARY_32:return i=e.readString(e.readInt32()),this.isAttr&&o&&l.default.isWid(i)?r(i):i;case f.JID_PAIR:var d=this.readString(e,e.readByte()),p=this.readString(e,e.readByte());if(void 0!==d&&void 0!==p){var h=d+"@"+p;return o&&l.default.isWid(h)?r(h):h}if(void 0!==p)return p;throw new Error("invalid jid "+d+","+p+" "+e.debugInfo());case f.JID_AD:var m=e.readByte(),b=e.readByte(),g=this.readString(e,e.readByte());if(void 0!==g)return r(m&&b?g+"."+m+":"+b+"@c.us":m?g+"."+m+"@c.us":b?g+":"+b+"@c.us":g+"@c.us");throw new Error("invalid JID_AD agent:"+m+" device:"+b+" user:"+g);case f.NIBBLE_8:case f.HEX_8:return this.readPacked8(a,e);default:throw c.default.infoVerbose("\n                Unexpected token in binary protocol read. Token : "+a+"\n                lastTag: "+t+"\n                lastAttributeKey: "+n+"\n                "+e.debugInfoWithPadding()+"\n              ")(),new Error("invalid string "+a)}},this.getToken=function(e){var t=void 0;if(e>=0&&e<a.length&&(t=a[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var n=void 0,a=256*e+t;if(a>=0&&a<o.length&&(n=o[a]),void 0===n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){this.isAttr=!0;for(var a=void 0,r=void 0,o=t?{}:void 0,i=0;i<t;i++)a=this.readString(e,e.readByte()),n=a,r=this.readString(e,e.readByte(),l.default.canBeWid(a)),o[a]=r;return this.isAttr=!1,o},this.readList=function(e,t){for(var n=[],a=this.readListSize(e,t),r=0;r<a;r++)n.push(this.readNode(e));return n},this.readPacked8=function(e,t){for(var n=t.readByte(),a=n>>7,r=127&n,o="",i=0;i<r;i++){var l=t.readByte();o+=this.unpackByte(e,(240&l)>>4),o+=this.unpackByte(e,15&l)}return a&&(o=o.substring(0,o.length-1)),o},this.unpackByte=function(e,t){switch(e){case f.NIBBLE_8:return this.unpackNibble(t);case f.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!i.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return i[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}var i=n("jccfhaecf"),l=a(i),s=n("dcbdjheea"),u=n("bdiiahhjbe"),c=a(u),f=n("dicfecifhd");e.exports=o},cdjfcjheca:function(e,t,n){"use strict";var a=n("bdiiahhjbe"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n("hjbbdjjdf"),i={queryQuickReplies:function(e){return this.sendQuickRepliesQuery(e,!1)},flushQuickReplyCounts:function(e){return this.sendQuickRepliesQuery(e,!0)},sendQuickRepliesQuery:function(e,t){var n=this;return new Promise(function(a,o){var i=function(e){n.BinaryProtocol.read(e).then(function(e){var o={data:[]};if(r.default.logColor("green","bin-recv: response,quick_reply",e)(),"response"===n.N.tag(e)&&"quick_reply"===n.N.attr("type",e)){o.checksum=n.N.attr("checksum",e);var i=n.N.children(e);if(Array.isArray(i))for(var l=0;l<i.length;l++){var s=t?n.parseQuickReplyCount.bind(n):n.parseQuickReply.bind(n),u=s(i[l]);u&&o.data.push(u)}}a(o)}).catch(o)},l=e?Object.keys(e).map(function(t){return["quick_reply",{id:t,count:e[t].toString()},void 0]}):void 0,s={};s.type="quick_reply",t&&(s.kind="count");var u=n.queryNode(s,l);n.binSend("sendEphemeral",u,o,{onSend:n.binWrap(i,a),onDrop:n.wrap(o)},{debugString:"query,quick_replies",metric:n.M.QUERY_QUICK_REPLIES})})},parseQuickReply:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),n=this.N.attr("short",e),a=this.N.attr("message",e),r=parseInt(this.N.attr("count",e),10)||0,i=this.N.attr("type",e),l=[];if("delete"!==i){var s=this.N.children(e);if(Array.isArray(s))for(var u=0;u<s.length;u++){var c=s[u];"matched-text"===this.N.tag(c)&&l.push(this.N.dataStr(c))}}var f={id:t,shortcut:n,message:a,count:r,keywords:l,type:i},d=[!(i||t&&n&&a&&(0,o.isNumber)(r)),i&&"delete"!==i,"delete"===i&&!t];return this.dropIfConditionMet(d,f)}},parseQuickReplyCount:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),n=parseInt(this.N.attr("count",e),10)||0,a={id:t,count:n},r=[!t||!(0,o.isNumber)(n)];return this.dropIfConditionMet(r,a)}}};e.exports=i},cdjhjdcbeg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("effbcehec"),c=a(u),f=n("cjgadgafji"),d=a(f),p=function(e){var t=e.large,n=e.a8nText,a=e.onClick,o=e.children,l=(0,s.default)(d.default.btn,r({},d.default.large,t));return i.createElement("div",{"data-a8n":c.default.key(n),role:"button",className:l,onClick:a},o)};p.displayName="Round",t.default=p},ceaabfjiba:function(e,t){e.exports={muted:"_3Obpr",messageList:"_1ays2",messageListSelectable:"_2A6NB"}},cebdifcdab:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("ebcagbhefg"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("ccdfjfdccf"),v=a(g),y=n("djcchigfih"),_=a(y),E=n("djbhiedbef"),j=a(E),w=n("dajffajabh"),O=a(w),C=n("fijafegab"),S=a(C),P=n("cajijabhgb"),M=r(P),T=n("eceadcicaf"),k=a(T),N=n("eigdejjai"),I=a(N),R=n("bjbedjfe"),A=a(R),D=n("becfabjeeg"),x=a(D),L=n("ihfccfgdf"),F=a(L),U=n("ejbdjaifi"),B=n("bfdcadbbif"),G=a(B),V=n("bfjajhbdf"),W=a(V),H=n("dcjdgceiej"),Y=a(H),q=n("caceaafdic"),K=a(q),z=n("ddbddjjgia"),Q=n("bibjgdifc"),X=a(Q),J=n("ddjbidjfjh"),Z=a(J),$=n("bfejacaeaj"),ee=a($),te=n("bgddggdhc"),ne=n("cigbgdjabj"),ae=a(ne),re=n("ccaaiecfib"),oe=a(re),ie=n("eafabiffad"),le=a(ie),se=n("bfgbdiffgd"),ue=a(se),ce=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setRefScrollable=function(e){return a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.context.uim.uie.requestDismiss()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;I.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.setState({msgInfo:t}),e.props.listeners.add(t,"change:playedRemaining change:readRemaining change:deliveryRemaining")}).catch(M.Unmount,function(){}).catch(function(){e.setState({unimplemented:!0}),h.default.openToast(c.createElement(W.default,{msg:l10n.t("msg_info_failed"),id:(0,V.genId)("msg_info_failed")}))})}},{key:"componentDidMount",value:function(){var e=(0,te.forbiddenFindDOMNode)(this.refScrollable);this.props.msg.type===b.default.MSG_TYPE.IMAGE&&e&&(e.scrollTop=e.scrollHeight)}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"render",value:function(){var e=this.props.msg,t=this.state,n=t.msgInfo,a=t.unimplemented,r=void 0,o=void 0;if(n){var i=[],l=void 0,s=void 0,u=void 0;n.isPTT&&(o=l10n.t("message_info_seen"),l=n.played.head(),s=l&&l.t,u=c.createElement("span",{className:Z.default.icon},c.createElement(G.default,{name:"status-ptt-blue"})),i.push(c.createElement(v.default,{title:l10n.t("message_info_played"),t:s,icon:u,key:"played"}))),l=n.read.head(),s=l&&l.t,u=c.createElement("span",{className:Z.default.icon},c.createElement(G.default,{name:"status-dblcheck-ack"})),o=o||l10n.t("message_info_read"),i.push(c.createElement(v.default,{title:o,t:s,icon:u,key:"read"})),l=n.delivery.head(),s=l&&l.t,u=c.createElement("span",{className:Z.default.icon},c.createElement(G.default,{name:"status-dblcheck"})),i.push(c.createElement(v.default,{title:l10n.t("message_info_delivered"),t:s,icon:u,key:"delivery"})),ue.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&i.push(c.createElement(le.default,{key:"forward",msg:e})),r=c.createElement(S.default,{theme:"padding"},i)}var f=void 0;n||a||(f=c.createElement("div",{className:Z.default.spinner,key:"spinner"},c.createElement(x.default,{size:50,stroke:4})));var p=null;return e.labels&&e.labels.length&&oe.default.supportsFeature(oe.default.F.LABELS_DISPLAY)&&(p=c.createElement(S.default,{theme:"padding"},c.createElement(ae.default,{labels:e.labels}))),c.createElement(_.default,{key:"message-info-modal"},c.createElement(O.default,{title:l10n.t("message_info"),type:w.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),c.createElement(X.default,{ref:this.setRefScrollable,chatPreference:d.default.assertGet("defaultPreference")},c.createElement(K.default,{msg:e,ref:(0,U.GetRef)("wrapper",this),displayType:b.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:z.MsgPosition.END})),c.createElement(j.default,null,p,c.createElement("div",{className:Z.default.body},f,r)))}}]),t}(c.Component);ce.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]},ce.contextTypes={uim:ee.default.instanceOf(Y.default)},ce.displayName="ContactMsgInfoDrawer",t.default=(0,A.default)((0,k.default)((0,F.default)((0,U.hoc)(ce),ce.CONCERNS)))},cedaiijige:function(e,t){e.exports={muted:"LEfZ0",markerAdmin:"FPZFa",markerInvited:"_3ywxI",chatControls:"_1Dfrr",screenName:"_3VvbK",contactSmall:"_2ILbv"}},ceddibihdf:function(e,t){e.exports={muted:"SMIlp",image:"_1yrMk",default:"_3gatw",container:"_1wybK",hasBorder:"_1d0W1",square:"_3KG1x"}},cedifchehj:function(e,t){e.exports={muted:"_1rFZr",meta:"_3MYI2",metaLight:"_3UgZX",timestamp:"_3fnHB",icon:"_3Ux6T",status:"_370iZ",labels:"_2HsLW"}},ceeafeafie:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhbceejbjg"),f=a(c),d=n("iaibjaeb"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("eadfaddcj"),g=a(b),v=n("fijafegab"),y=a(v),_=n("bbhhbdicgc"),E=a(_),j=n("eceadcicaf"),w=a(j),O=n("fdcfhecbj"),C=a(O),S=n("ihfccfgdf"),P=a(S),M=n("bfdcadbbif"),T=a(M),k=n("eedjbihej"),N=a(k),I=n("hbhjdibhf"),R=n("ejbdjaifi"),A=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.commonGroupInitialized=!1,a.state={collapsed:!1},a.onClick=function(e,t){m.default.openChatFromUnread(t).then(function(e){e&&m.default.focusChatTextInput(t)}),a.props.onClose()},a.onShowMore=function(){a.setState({collapsed:!1})},a.renderItem=function(e){var t=e.chat;return u.createElement(p.default,{chat:t,theme:"drawer-list",contact:t.contact,mode:d.Mode.INFO,onClick:a.onClick,key:t.id.toString()})},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.contact.commonGroups;e&&(this.props.listeners.add(e,"add remove"),this.commonGroupInitialized=!0),(0,I.findCommonGroups)(this.props.contact)}},{key:"componentWillReceiveProps",value:function(e,t){if(this.props.contact!==e.contact){var n=this.props.contact.commonGroups;n&&this.props.listeners.remove(n,"add remove"),this.commonGroupInitialized=!1}var a=e.contact.commonGroups;a&&(this.setState({collapsed:a.length>g.default.INFO_DRAWER_MAX_ROWS}),this.commonGroupInitialized||(this.props.listeners.add(a,"add remove"),this.commonGroupInitialized=!0))}},{key:"componentWillUnmount",value:function(){var e=this.props.contact.commonGroups;e&&this.commonGroupInitialized&&(this.props.listeners.remove(e,"add remove"),this.commonGroupInitialized=!1)}},{key:"getData",value:function(){var e=this.props.contact.commonGroups;return e.length>g.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed&&(e=e.slice(0,g.default.INFO_DRAWER_MAX_ROWS)),e.map(function(e){return{key:e.id.toString(),chat:e}})}},{key:"render",value:function(){var e=this.props.contact.commonGroups;if(!e||!e.length)return null;var t=u.createElement(N.default,{theme:"section-title"},l10n.n(e.length)),n=void 0;if(e.length>g.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed){var a=e.length-g.default.INFO_DRAWER_MAX_ROWS,r=u.createElement(C.default,{theme:"transparent"},u.createElement(T.default,{name:"down",directional:!0}));n=u.createElement(f.default,{image:r,theme:"drawer-list",primary:l10n.t("group_show_more_contacts",{count:a,_plural:a}),onClick:this.onShowMore})}return u.createElement(y.default,{a8nText:"section-common-groups",title:l10n.t("web_groups_participation_you_and_name"),subtitle:t},u.createElement(E.default,{flatListController:this.props.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),n)}}]),t}(u.Component);A.CONCERNS={contact:["commonGroups"]},A.displayName="CommonGroupsWell",t.default=(0,w.default)((0,P.default)((0,R.hoc)(A),A.CONCERNS))},ceeggdegaf:function(e,t,n){"use strict";function a(e,t){return t.reduce(function(e,t){var n=t.parsers;return n?n.reduce(function(e,t){return t(e)},e):e},o.default.escape(e))}var r=n("hbhijdici"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=a},cefeghcbch:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("hbhijdici"),c=a(u),f=n("iaibjaeb"),d=a(f),p=n("dbdfbgehgj"),h=a(p),m=n("ebjaejiaba"),b=a(m),g=n("ccfcjccjbg"),v=(a(g),n("gbfffciea")),y=a(v),_=n("hdccjfbbg"),E=a(_),j=n("dhfbfehaef"),w=a(j),O=n("cbedjffdai"),C=a(O),S=n("eceadcicaf"),P=a(S),M=n("ejbdjaifi"),T=n("ceigficjgj"),k=a(T),N=n("ddhijeejag"),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(N),R=n("bgddggdhc"),A=n("cbgeijgefb"),D=a(A),x=n("fbjjefaic"),L=a(x),F=n("caffijjhc"),U=a(F),B=n("bbhhbdicgc"),G=a(B),V=n("eadfaddcj"),W=a(V),H=n("cbcbdjdah"),Y=(a(H),n("ddajbaceej")),q=a(Y),K=n("bcajjbibcd"),z=a(K),Q=n("fifhbjiec"),X=a(Q),J=n("gaifbabbj"),Z={SEC_CHATS:"SEC_CHATS",SEC_CONTACTS:"SEC_CONTACTS",SEC_GROUPCHATS:"SEC_GROUPCHATS",SEC_STARRED:"SEC_STARRED",SEC_MSG:"SEC_MSG"},$={ROW_CHATS:"ROW_CHATS",ROW_CONTACTS:"ROW_CONTACTS",ROW_GROUPCHATS:"ROW_GROUPCHATS",ROW_STARRED:"ROW_STARRED",ROW_MSG:"ROW_MSG"},ee=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return te.call(n),n._listPointerEvents=!0,n.ftsStarred=n.getFTSStarred(e),n.ftsMessages=n.getFTSMessages(e),n.oldSelection=null,n.debouncedOpenSelected=n.props.debounce(function(){n.openSelected(n.focusComposer),n.focusComposer=!1},200),n.state={textsize:C.default.get().textsize},n}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.selection.init(this.getSelection())}},{key:"componentWillReceiveProps",value:function(e){this.ftsStarred=this.getFTSStarred(e),this.ftsMessages=this.getFTSMessages(e),!this.props.selection.getVal()&&this.props.isSearching&&!e.isSearching&&this.oldSelection&&this.props.selection.setVal(this.oldSelection)}},{key:"componentWillUnmount",value:function(){var e=this.getSelection(),t=this.props.selection.getVal();t&&t.isState&&!this.props.isSearching&&!e.length&&y.default.clearChat(t)}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(y.default,"focus_chat_list",this.restoreFocus),this.props.listeners.add(y.default,"focus_next_chat",function(t){e.onNextChat(null,!0,t)}),this.props.listeners.add(y.default,"focus_prev_chat",function(t){e.onPrevChat(null,!0,t)}),this.props.listeners.add(y.default,"update_chatlist_selection",this.updateSelected),this.props.listeners.add(y.default,"textsize_change",function(t){e.setState({textsize:t})})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.selection.getVal();n&&(this.oldSelection=n),this.props.selection.init(this.getSelection(),!e.isSearching&&!this.props.isSearching),n!==this.props.selection.getVal()&&(this.focusComposer=!0,this.debouncedOpenSelected())}},{key:"openSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.selection.getVal();t&&(t instanceof b.default&&t!==this.getActiveChat()?y.default.openChatFromUnread(t).then(function(n){n&&e&&y.default.focusChatTextInput(t)}):e&&y.default.focusChatTextInput(t))}},{key:"getSelection",value:function(){return[].concat(r(this.props.chats),r(this.props.contacts),r(this.props.groupChats.map(function(e){return e[0]})),r(this.ftsStarred),r(this.ftsMessages))}},{key:"scrollListIntoFocusedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.refList&&this.refList.scrollIntoViewIfNeeded(this.props.selection.index,e)}},{key:"focusFirst",value:function(){var e=this.uie;e&&e.activate(),this.props.selection.setFirst(),this.scrollListIntoFocusedItem(0),this.debouncedOpenSelected()}},{key:"onNextChat",value:function(e,t,n){e&&(e.preventDefault(),e.stopPropagation());var a=this.props.selection.next();this.props.selection.index!==a&&(this.props.selection.setNext(!0),this.focusComposer=n,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected())}},{key:"onPrevChat",value:function(e,t,n){e&&(e.stopPropagation(),e.preventDefault()),this.props.selection.prev()>-1?(this.props.selection.setPrev(!0),this.focusComposer=n,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected()):t||(this.debouncedOpenSelected.cancel(),this.openSelected(),this.props.onFocusSearch())}},{key:"getHeight",value:function(){var e=this.state.textsize,t=c.default.find(W.default.LIST_HEIGHT_TEXTSIZE_MAP,function(t){return t.scale===e});return t?t.height:72}},{key:"getData",value:function(){var e=this.props,t=e.chats,n=e.contacts,a=e.groupChats,o=e.isSearching,i=this.ftsStarred,l=this.ftsMessages,s=[];return o&&t.length>0&&s.push({key:"section-chats",type:Z.SEC_CHATS}),s.push.apply(s,r(t.map(function(e){return{key:"chat-"+e.id.toString(),data:e,type:$.ROW_CHATS}}))),o&&n.length>0&&s.push({key:"section-contacts",type:Z.SEC_CONTACTS}),s.push.apply(s,r(n.map(function(e){return{key:"contact-"+e.id.toString(),data:e,type:$.ROW_CONTACTS}}))),o&&a.length>0&&s.push({key:"section-groupchats",type:Z.SEC_GROUPCHATS}),s.push.apply(s,r(a.map(function(e){return{key:"groupchat-"+e[0].id.toString()+"-"+e[1].map(function(e){return e.id.toString()}).join("-"),data:e,type:$.ROW_GROUPCHATS}}))),o&&i.length>0&&s.push({key:"section-starred",type:Z.SEC_STARRED}),s.push.apply(s,r(i.map(function(e){return{key:"starred-"+e.id.toString(),data:e,type:$.ROW_STARRED}}))),o&&l.length>0&&s.push({key:"section-msg",type:Z.SEC_MSG}),s.push.apply(s,r(l.map(function(e){return{key:"msg-"+e.id.toString(),data:e,type:$.ROW_MSG}}))),s}},{key:"render",value:function(){var e=this,t={down:function(t){return e.onNextChat(t,!0)},j:function(t){return e.onNextChat(t,!0)},up:function(t){return e.onPrevChat(t,!0)},k:function(t){return e.onPrevChat(t,!0)},"/":function(t){return e.onFocusSearch(t)}};return I.createElement(U.default,{displayName:"Chatlist",ref:this.setRefUIE,state:U.default.State.PASSIVE,requestFocus:this.requestFocus},I.createElement(w.default,{handlers:t,onFocus:this.onFocusGain,"data-tab":3},I.createElement(G.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,defaultItemHeight:this.getHeight(),onPointerEventsOff:this.onListPointerEventsOff,onPointerEventsOn:this.onListPointerEventsOn,ref:this.setRefList})))}},{key:"getActiveChat",value:function(){return c.default.find(h.default.toArray(),{active:!0})}},{key:"getGroupChatSubtitle",value:function(e){var t=e[1],n=e[0].groupMetadata,a=n.participants.map(function(e){return e.contact}),r=c.default.difference(a,t),o=c.default.union(t,r),i=o.map(function(e){return e.formattedShortNameWithNonBreakingSpaces}).join(l10n.t("enumeration_comma")),l=J.Configuration.Search({terms:[this.props.searchQuery.trimmed]});return I.createElement(X.default,{text:i,formatters:l,titlify:!0,direction:"auto"})}}]),t}(I.Component);ee.defaultProps={chats:[],groupChats:[]};var te=function(){var e=this;this.onListPointerEventsOff=function(){e._listPointerEvents=!1},this.onListPointerEventsOn=function(){e._listPointerEvents=!0},this.updateSelected=function(t){e.debouncedOpenSelected.cancel(),e.props.selection.setVal(t,!1)},this.onContactClick=function(t,n){e.onClick(t,n.id)},this.onChatClick=function(t,n){e.onClick(t,n.id)},this.onMessageClick=function(t,n,a){e.onClick(t,n.id,a)},this.onClick=function(t,n,a){t.preventDefault(),t.stopPropagation(),h.default.find(n).then(function(t){a?y.default.openChatAt(t,a).then(function(e){e&&y.default.focusChatTextInput(t)}):t!==e.getActiveChat()?y.default.openChatFromUnread(t).then(function(e){e&&y.default.focusChatTextInput(t)}):y.default.focusChatTextInput(t)})},this.getFTSStarred=function(e){return c.default.filter(e.ftsResult,{star:!0})},this.getFTSMessages=function(e){return c.default.filter(e.ftsResult,{star:!1})},this.restoreFocus=function(){e.props.selection.reset(!0)},this.onFocusGain=function(t){if(t.target===(0,R.forbiddenAssertDOMNode)(e)&&!e.props.multiSelection&&e._listPointerEvents)if(e.props.selection.index<0)e.focusFirst();else{var n=e.uie;n&&n.activate(),e.props.selection.reset(!0)}},this.onFocusSearch=function(t){t.stopPropagation(),t.preventDefault(),e.props.onFocusSearch()},this.setRefUIE=function(t){e.uie=t,t&&(e.hotKey=t.getRef())},this.onFocusList=function(){var t=e.refList,n=e.hotKey;t&&n&&q.default.focus((0,R.forbiddenAssertDOMNode)(n))},this.requestFocus=function(){e.props.selection.reset(!1),e.props.selection.index>-1&&document.activeElement===document.body&&e.onFocusList()},this.setRefList=function(t){e.refList=t},this.onMultiSelect=function(t,n,a){var r=e.props.multiSelection;r&&r.setVal(t,n,a)},this.renderWrappedItem=function(t,n){var a=e.props,r=a.multiSelection,o=a.selectableState;return r&&o?I.createElement(z.default,{model:n,theme:"chat-checkbox",selectableState:o,multiSelection:r,onSelect:e.onMultiSelect},t):t},this.renderItem=function(t){var n=e.props.searchQuery;switch(t.type){case Z.SEC_CHATS:return I.createElement(D.default,{header:l10n.t("web_chats")});case Z.SEC_CONTACTS:return I.createElement(D.default,{header:l10n.t("web_contacts")});case Z.SEC_GROUPCHATS:return I.createElement(D.default,{header:l10n.t("web_groups")});case Z.SEC_STARRED:return I.createElement(D.default,{header:l10n.t("web_starred_messages")});case Z.SEC_MSG:return I.createElement(D.default,{header:l10n.t("web_messages")});case $.ROW_CHATS:var a=t.data;return e.renderWrappedItem(I.createElement(d.default,{chat:a,contact:a.contact,mode:f.Mode.LAST,searchQuery:n,onClick:e.onChatClick,mouseDownAsClick:!0,selectableState:e.props.selectableState,multiSelection:e.props.multiSelection,active:e.props.selection}),a);case $.ROW_CONTACTS:var r=t.data;return e.renderWrappedItem(I.createElement(E.default,{contact:r,active:e.props.selection,searchQuery:n,onClick:e.onContactClick,mouseDownAsClick:!0,waitIdle:!0}),r);case $.ROW_GROUPCHATS:var o=t.data,i=o[0],l=e.getGroupChatSubtitle(o);return e.renderWrappedItem(I.createElement(d.default,{chat:i,contact:i.contact,secondary:l,mode:f.Mode.LAST,searchQuery:n,onClick:e.onChatClick,mouseDownAsClick:!0,selectableState:e.props.selectableState,multiSelection:e.props.multiSelection,active:e.props.selection}),i);case $.ROW_STARRED:var s=t.data;return e.renderWrappedItem(I.createElement(k.default,{msg:s,chat:s.chat,searchQuery:n,onClick:e.onMessageClick,active:e.props.selection}),s);case $.ROW_MSG:var u=t.data;return e.renderWrappedItem(I.createElement(k.default,{msg:u,chat:u.chat,searchQuery:n,onClick:e.onMessageClick,active:e.props.selection}),u);default:throw new B.UnknownDataError(t)}}};ee.displayName="Chatlist";t.Component=ee;t.default=(0,P.default)((0,L.default)((0,M.hocWithDefaults)(ee)))},cefehjcibf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("ejfeeeaeg");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(r).default}})},cegfacfjjj:function(e,t){e.exports={muted:"_2-7uT",container:"_1w7r7",centerChild:"_1V7b0",show:"_14WjA",image:"_1Wf2y"}},cegfhjajbg:function(e,t,n){"use strict";function a(){return o.createElement("div",{className:l.default.border})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("ddhijeejag"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n("bgaeiiadg"),l=function(e){return e&&e.__esModule?e:{default:e}}(i);a.displayName="CellBorder"},ceghehfgdc:function(e,t){e.exports={muted:"_2057O",screenshots:"_1tV1q",action:"_1T8rb",disabled:"_3yioW",screenshotPreview:"_2VDPW",screenshotsImg:"opM6t",btnDelete:"_3H9fr"}},ceghjibjjg:function(e,t){e.exports={muted:"_2nQrH",nextButton:"x9mId",section:"_1eFDy"}},cehaihfgda:function(e,t){e.exports={muted:"_2qyPH",newGroupButton:"_11p3Q"}},cehfihhdba:function(e,t){e.exports={muted:"hR2qO",intro:"iFKgT",body:"_1kdWs",title:"_1cDWi",text:"_3mkas",textContainer:"_35BbM",image:"_1wSzK",secondary:"aheht",divider:"_3ZVgT",secondaryText:"_3UQPd",secondaryTextBody:"_1IaO2",secondaryIcon:"_3jDzD"}},cehhcbdgih:function(e,t){e.exports={muted:"_1guqz",linkContainer:"_1Td9v",descContainer:"_1ODlg",icon:"_3M3Wb"}},cehjcbedfe:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("eceadcicaf"),p=a(d),h=n("bdjihaecid"),m=a(h),b=n("dfcihdhibf"),g=a(b),v=n("cgfidiajgj"),y=a(v),_=n("dhjffabgfb"),E=n("ejbdjaifi"),j=n("faeabghda"),w=a(j),O=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleFetchState=function(){n.forceUpdate()},n._handleRetryClick=function(){n.props.stickers.fetch(!0)},n._setRefScrollGrid=function(e){n._refScrollGrid=e},n._fetchStickers(n.props.stickers),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.stickers;t.fetchState===_.FETCH_STATE.ERROR&&t.fetch(!0)}},{key:"componentWillUpdate",value:function(e){var t=this.props.stickers,n=e.stickers;this._handleStickersChange(t,n)}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"_fetchStickers",value:function(e){this.props.listeners.add(e,"change:fetchState",this._handleFetchState),e.fetch()}},{key:"_handleStickersChange",value:function(e,t){e!==t&&(e&&this.props.listeners.remove(e,"change:fetchState",this._handleFetchState),this._fetchStickers(t),this._refScrollGrid&&this._refScrollGrid.scrollToTop())}},{key:"render",value:function(){var e=this.props.stickers;if(e.fetchState===_.FETCH_STATE.ERROR)return this.props.renderError(this._handleRetryClick);if(!e.fetchState||e.fetchState===_.FETCH_STATE.PENDING){var t=y.default.getPlaceholder();return u.createElement("div",{className:w.default.container},f.default.times(24,function(e){return u.createElement(m.default,{key:e,sticker:t})}))}return u.createElement(g.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:this.props.stickers.toArray()})}}]),t}(u.PureComponent);O.displayName="StickersScrollGrid";var C=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}((0,p.default)((0,E.hoc)(O)));t.default=C},cehjjfagii:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){var a=void 0;if(n){var r=d.default.get(n);a=r?r.formattedTitle:l10n.t("group")}return t?e+" · "+l10n.t("status_v3"):a?e+" · "+a:e}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ejbdjaifi"),f=n("dbdfbgehgj"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("ceffhbhahb"),b=a(m),g=n("fifhbjiec"),v=a(g),y=n("bdiiahhjbe"),_=a(y),E=n("ddhijeejag"),j=a(E),w=n("ihfccfgdf"),O=a(w),C=n("cjaagagigi"),S=a(C),P=n("djbfhebjhe"),M=a(P),T=n("ccaaiecfib"),k=a(T),N=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onClick=function(){d.default.find(a.props.msg.sender).then(function(e){h.default.openChatFromUnread(e).then(function(t){t&&h.default.focusChatTextInput(e)})})},r=n,i(a,r)}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.chat,a=e.contact,o=e.disableClick,i=e.displaySelf,l=e.quotedRemoteJid,u=e.albumId,c=n||t.chat;_.default.assert(c,"author-with-no-chat")();var f=c?c.assignedColor(t.sender):1,d=o?null:this.onClick,p=(0,b.default)(S.default.author,"color-"+f,r({},S.default.hoverable,d)),h=void 0;if(i)h=j.default.createElement(v.default,{text:s(l10n.t("web_you"),t.isStatusV3,l)});else if(a.name)h=[j.default.createElement(v.default,{text:s(a.name,t.isStatusV3,l),className:S.default.name,key:"author",onClick:d})];else if(h=[j.default.createElement("span",{className:S.default.number,role:d?"button":null,key:t.id.toString()+"-number",onClick:d},s((0,M.default)(a.id),t.isStatusV3,l))],!t.isStatusV3){var m=u?u+"-push-name":t.id.toString()+"-push-name",g=void 0;a.notifyName?g=a.notifyName:k.default.supportsFeature(k.default.F.CONTACT_HAS_PUSHNAME)&&(g=a.pushname),h.push(j.default.createElement(v.default,{className:S.default.screenName,key:m,onClick:d,direction:"auto",ellipsify:!0,text:g}))}return j.default.createElement("div",{className:p,role:this.props.role||""},h)}}]),t}(j.default.PureComponent);N.CONCERNS={msg:["sender","chat","type","isLive","isStatusV3","id","quotedMsg"],contact:["id","name","notifyName","pushname"]},N.displayName="Author",t.default=(0,O.default)((0,c.hoc)(N),N.CONCERNS)},ceibefacih:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.scrollTop+b.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("bgddggdhc"),p=n("hbhijdici"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("gbfffciea"),v=a(g),y=n("djcchigfih"),_=a(y),E=n("cicgeajfge"),j=n("dajffajabh"),w=a(j),O=n("djbhiedbef"),C=a(O),S=n("didfdhbecg"),P=a(S),M=n("iibcehaia"),T=a(M),k=n("dcaibchbg"),N=a(k),I=n("jcfhjhibi"),R=a(I),A=n("becfabjeeg"),D=a(A),x=n("cajijabhgb"),L=r(x),F=n("bdiiahhjbe"),U=a(F),B=n("ddajbaceej"),G=a(B),V=n("bhfdfhefca"),W=n("bhhdeihhhf"),H=a(W),Y=n("dbgdaechch"),q=a(Y),K=n("djbecaeiae"),z=a(K),Q=n("dcjdgceiej"),X=a(Q),J=n("dhfbfehaef"),Z=a(J),$=n("fffdgbfji"),ee=a($),te=n("bfdcadbbif"),ne=a(te),ae=n("bfejacaeaj"),re=a(ae),oe=n("ejbdjaifi"),ie=n("bjbedjfe"),le=a(ie),se=n("eceadcicaf"),ue=a(se),ce=n("ddifaecacd"),fe=a(ce),de=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.msgRefs={},n.getInitialState=function(){var e=n.props.starredMsgs;return{cursor:R.default.create({msgCollection:e,type:b.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:b.default.MSG_PRELOAD_THRESHOLD})}},n.handleStarChange=function(e){n.initSelectionObjects(),n.forceUpdate()},n.initSelectionObjects=function(){var e=n.props.starredMsgs.toArray();n.currSelection.init(e,!0),n.activeSelection.init(e)},n.setRefMsgComponent=function(e,t){t?n.msgRefs[e.id.toString()]=t:delete n.msgRefs[e.id.toString()]},n.loadEarlierMsgs=function(){var e=n.state.cursor,t=n.props.chat&&n.props.chat.id,a=n.props.starredMsgs,r=a.models;if(e.getEnd(a)<r.length)n.setState({cursor:e.loadAfter(a)});else{if(a.isSynced)return;n.props.starredMsgs.sync(t).checkpoint(n.props.rejectOnUnmount()).then(function(){e.hasAfter(a)&&n.setState({cursor:e.loadAfter(a)})}).catch(L.Unmount,function(){}).catch(function(e){U.default.log("StarredDrawer:loadEarlierMsgs failed")(),U.default.log(e)()})}},n.onClose=function(){n.props.onClose?n.props.onClose():n.context.uim.uie.requestDismiss()},n.focus=function(){n.body&&G.default.focus((0,d.forbiddenAssertDOMNode)(n.body))},n.onFocusGain=function(e){if(n.body){(e?e.target:document.activeElement)===(0,d.forbiddenAssertDOMNode)(n.body)&&(n.currSelection.index<0?n.currSelection.setFirst(!0):n.currSelection.reset(!1))}},n.onNextMsg=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=n.currSelection.next();n.currSelection.index!==t&&n.currSelection.setNext(!0)},n.onPrevMsg=function(e){e&&(e.stopPropagation(),e.preventDefault()),n.currSelection.prev()>-1&&n.currSelection.setPrev(!0)},n.onScroll=function(e){n.handleScroll(e.currentTarget)},n._handleScroll=function(e){n.updateMsgListInfo(),s(e)&&n.loadEarlierMsgs()},n.selectMsg=function(e){n.currSelection.setVal(e),n.activeSelection.setVal(e),v.default.openChatAt(e.chat,e.chat.getSearchContext(e)),v.default.focusShowMsg(e.id)},n.getMsgList=function(){var e=n.state.cursor,t=n.props.starredMsgs,a=t.toArray(),r=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),a.length);return a=a.slice(e.getStart(t),r),n.length=a.length,a},n.getMsgVisibility=function(e){if(!e)return b.default.VISIBILITY.BELOW;if(n.scrollContainer){var t=(0,d.forbiddenAssertDOMNode)(n.scrollContainer),a=t.previousSibling.clientHeight,r=t.scrollTop+a,o=r+t.clientHeight,i=(0,d.forbiddenAssertDOMNode)(e);return i?i.offsetTop+i.clientHeight<=r?b.default.VISIBILITY.ABOVE:i.offsetTop>=o?b.default.VISIBILITY.BELOW:b.default.VISIBILITY.VISIBLE:b.default.VISIBILITY.BELOW}},n.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!n.msgListInfo.visibleMsgs[e.toString()]&&(!!t||n.getMsgComponent(e))},n.getMsgComponent=function(e){var t=n.msgRefs[e.toString()];if(t){var a=t.getComponent(),r=a&&a.wrapper;return r&&"function"==typeof r.getMsgComponentRef?r.getMsgComponentRef():void 0}},n._updateMsgListInfo=function(){for(var e=n.getMsgList(),t={},a=0,r=n.length-1;a<r;){var o=Math.floor((a+r)/2),i=n.msgRefs[e[o].id.toString()];n.getMsgVisibility(i)===b.default.VISIBILITY.ABOVE?a=o+1:r=o}for(var l=a;l<e.length;l++){var s=n.msgRefs[e[l].id.toString()];if(n.getMsgVisibility(s)!==b.default.VISIBILITY.VISIBLE)break;t[e[l].id.toString()]=!0}n.pauseHiddenGifs(n.msgListInfo.visibleMsgs,t),n.msgListInfo.visibleMsgs=t},n.pauseHiddenGifs=function(e,t){for(var a in e)if(!t[a]){var r=n.props.starredMsgs.get(a);if(r&&r.isGif){var o=n.getMsgComponent(a);o&&o.playCount&&o.pause()}}},n.handleScroll=h.default.throttle(n._handleScroll,100),n.updateMsgListInfo=h.default.throttle(n._updateMsgListInfo,100),n.msgListInfo={visibleMsgs:{}},n.state=n.getInitialState(),n}return l(t,e),u(t,[{key:"componentWillMount",value:function(){this.currSelection=new N.default([],function(e){return e.id.toString()}),this.activeSelection=new N.default([],function(e){return e.id.toString()})}},{key:"componentDidMount",value:function(){var e=this;this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<b.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",function(){e.initSelectionObjects(),e.forceUpdate()}),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",function(){e.msgListInfo={visibleMsgs:{}},e.setState(e.getInitialState()),e.loadEarlierMsgs()})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}},{key:"componentDidUpdate",value:function(){this.updateMsgListInfo()}},{key:"render",value:function(){var e=this,t=this.getMsgList(),n=this.state.cursor,a=this.props.starredMsgs,r=this.props.chat||null,o=void 0,i=void 0;if(i=a.isSynced&&n.getEnd(a)>=t.length?null:this.props.starredMsgs.syncPromise?f.createElement("div",{className:fe.default.more,title:ee.default.t("loading_messages")},f.createElement(D.default,{stroke:6,size:24})):f.createElement("div",{className:fe.default.more},f.createElement("div",{title:ee.default.t("load_earlier_messages"),onClick:this.loadEarlierMsgs},f.createElement(ne.default,{name:"refresh"}))),t.length>0){var l=t.map(function(t){var n=t.type===b.default.MSG_TYPE.IMAGE||t.type===b.default.MSG_TYPE.VIDEO||t.type===b.default.MSG_TYPE.AUDIO;return f.createElement(T.default,{key:t.id.toString(),ref:function(n){return void e.setRefMsgComponent(t,n)},msg:t,isMsgVisible:n?e.isMsgVisible:function(){},currSelection:e.currSelection,activeSelection:e.activeSelection,onClickMsg:e.selectMsg})});o=f.createElement(P.default,{transitionName:"slide"},l)}else this.props.starredMsgs.isSynced?o=f.createElement(E.StarredMsgs,null):(o=f.createElement(E.Loading,null),i=null);var s={down:this.onNextMsg,up:this.onPrevMsg},u=t.length>0?f.createElement(V.MenuBarItem,{a8nText:"starred-menu",icon:f.createElement(ne.default,{name:"menu-white"}),title:ee.default.t("menutitle_menu")},f.createElement(pe,{chat:r,msgs:t})):null;return f.createElement(_.default,{theme:"gallery"},f.createElement(Z.default,{className:fe.default.hotKeyWraper,handlers:s,onFocus:this.onFocusGain,"data-tab":2,ref:(0,oe.GetRef)("body",this)},f.createElement(w.default,{title:ee.default.t("starred_flow_title"),onBack:this.onClose,type:j.DRAWER_HEADER_TYPE.LARGE,menu:u}),f.createElement(C.default,{onScroll:this.onScroll,ref:(0,oe.GetRef)("scrollContainer",this)},o,i)))}}]),t}(f.Component);de.contextTypes={uim:re.default.instanceOf(X.default)},de.displayName="StarredDrawer";var pe=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.sendUnstarAll=function(){v.default.openModal(f.createElement(z.default,{msgs:a.props.msgs,chat:a.props.chat}))},r=n,i(a,r)}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props.msgs;return f.createElement(q.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},f.createElement(H.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},ee.default.t("unstar_all")))}}]),t}(f.Component);pe.displayName="StarredHeaderDropdown",t.default=(0,le.default)((0,ue.default)((0,oe.hoc)(de)))},ceiehehagg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){return i((0,y.unproxy)(e),t,n)}function i(e,t,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,g.genId)();if(!e.groupMetadata.canSetGroupProperty())return Promise.reject(new s.ActionError);if(!t)return Promise.reject(new s.ActionError);var u=(0,v.sendSetGroupProperty)(e.id,t,n),f=(a={},r(a,d.default.GROUP_SETTING_TYPE.ANNOUNCEMENT,{true:[l10n.t("changing_web_group_announcement_to_on"),l10n.t("changed_web_group_announcement_to_on")],false:[l10n.t("changing_web_group_announcement_to_off"),l10n.t("changed_web_group_announcement_to_off")]}),r(a,d.default.GROUP_SETTING_TYPE.RESTRICT,{true:[l10n.t("changing_web_group_restrict_to_on"),l10n.t("changed_web_group_restrict_to_on")],false:[l10n.t("changing_web_group_restrict_to_off"),l10n.t("changed_web_group_restrict_to_off")]}),r(a,d.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED,{true:[l10n.t("changing_web_group_no_frequently_forwarded_to_on"),l10n.t("changed_web_group_no_frequently_forwarded_to_on")],false:[l10n.t("changing_web_group_no_frequently_forwarded_to_off"),l10n.t("changed_web_group_no_frequently_forwarded_to_off")]}),a),p=f[t][n.toString()],m=new g.ActionType(p[0]),y=u.then(function(e){return new g.ActionType(p[1])}).catch(l.ServerStatusCodeError,function(e){if(404===e.status)return new g.ActionType(l10n.t("action_change_group_property_failed")+" "+l10n.t("action_group_failed_404"))}).catch(function(a){return h.default.error("")(a),new g.ActionType(l10n.t("action_change_group_property_failed"),l10n.t("action_try_again"),function(){return i(e,t,n,o)})});return c.default.openToast(b.default.createElement(g.ActionToast,{id:o,initialAction:m,pendingAction:y})),u.then(function(a){a._duplicate||e.groupMetadata.set(d.default.GROUP_SETTING_TO_METADATA[t],n)}).catch(l.ServerStatusCodeError,function(e){})}Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupProperty=o;var l=n("cajijabhgb"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),u=n("gbfffciea"),c=a(u),f=n("eadfaddcj"),d=a(f),p=n("bdiiahhjbe"),h=a(p),m=n("ddhijeejag"),b=a(m),g=n("ccihhdchab"),v=n("babicefcfg"),y=n("bheafeifce")},ceigficjgj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("biecbbiiee"),u=a(s),c=n("caijdggfg"),f=n("bcifhbgija"),d=a(f),p=n("ddhijeejag"),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n("bgddggdhc"),b=n("dgibicjjj"),g=a(b),v=n("cgejchjdhj"),y=n("ddajbaceej"),_=a(y),E=n("cbeecgcage"),j=a(E),w=n("cbcbdjdah"),O=a(w),C=n("dhfbfehaef"),S=a(C),P=n("ihfccfgdf"),M=a(P),T=n("eceadcicaf"),k=a(T),N=n("ejbdjaifi"),I=n("bhheahajjg"),R=a(I),A=n("bheafeifce"),D=n("dgiechcbec"),x=a(D),L=n("hjbbdjjdf"),F=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onSearch=function(){a.setState({searchText:a.props.searchQuery.trimmed})},a.onActiveChange=function(e,t){if("focus"===e){var n=(0,m.forbiddenAssertDOMNode)(a);_.default.focus(n),(0,v.scrollIntoViewIfNeeded)(n)}a.setState({active:!!e})},a.onClick=function(e){var t=a.props.onClick;if((0,L.isFunction)(t)){var n=a.props,r=n.msg,o=n.chat,i=u.default.assertGet(r.id),l=o.getSearchContext(i);l.msg=i,t(e,(0,A.unproxy)(o),l)}},a.onMouseDown=function(e){0===e.button&&a.onClick(e)},a.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,C.shouldIndicateFocus)(),a.onClick(e)},a.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,C.indicateFocus)(a.cell,["#e9eaeb","#cbdde7"],{complete:a.onBlur})},a.onBlur=function(e){var t=(0,m.forbiddenFindDOMNode)(a.cell);t&&((0,d.default)(t,"stop"),t.style.backgroundColor="")},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.initListeners(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var n=e.listeners,a=e.active,r=e.msg,o=e.searchQuery;t&&t.searchQuery&&t.searchQuery!==o&&n.remove(o,c.SEARCH_EVENT,this.onSearch),!o||t&&o===t.searchQuery||n.add(o,c.SEARCH_EVENT,this.onSearch);var i=t?t.msg.id:null;i&&!r.id.equals(i)&&(t&&t.active&&n.remove(t.active,t.msg.id.toString(),this.onActiveChange),a&&n.add(a,r.id.toString(),this.onActiveChange));var l=a&&a.value instanceof O.default&&a.value.id.equals(r.id);this.setState({searchText:o.trimmed,active:l})}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.chat,a=e.searchQuery,r=e.mouseDownAsClick,o=this.state.active,i=h.createElement(j.default,{msg:t}),l=h.createElement(x.default,{msg:t,msgType:"FTSMessage",searchQuery:a.highlighted}),s={enter:this.onEnter};return h.createElement(S.default,{handlers:s,onFocus:this.indicateFocus,onBlur:this.onBlur},h.createElement(g.default,{ref:(0,N.GetRef)("cell",this),contextEnabled:function(){return!1},theme:"chat-checkbox"===this.props.theme?"cell-message-checkbox":"cell-message",active:!!o,primary:h.createElement(R.default,{chat:n,labels:t.labels,showLabel:!0,titlify:!0,ellipsify:!0}),primaryDetail:i,secondary:l,onClick:r?null:this.onClick,onMouseDown:r?this.onMouseDown:null}))}}]),t}(h.PureComponent);F.CONCERNS={msg:["id","isSentByMe","isGroupMsg","isNotification","senderObj","dir","rtl","type","labels"],chat:["id","isUser","contact","formattedTitle"]},F.displayName="Message",t.default=(0,k.default)((0,M.default)((0,N.hoc)(F),F.CONCERNS))},ceihfbbggi:function(e,t,n){"use strict";var a={singleByte:["location","document","elapsed","revoke_invite","expiration","unsubscribe","disable"]};e.exports=a},cejheebceh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("eadfaddcj"),p=(a(d),n("dddgijibah")),h=a(p),m=n("ihfccfgdf"),b=a(m),g=n("ejbdjaifi"),v=n("edbaidcaf"),y=a(v),_=n("cfhehaefih"),E=a(_),j=n("ciheehhei"),w=a(j),O=n("bidfjbaebi"),C=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onLinkClick=function(){var e=a.props.msg.matchedText;(0,O.openExternalLink)(e)},a.onSuspiciousLinkClick=function(e){f.default.openModal(u.createElement(w.default,{link:e}))},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.msg,a=t.displayType,r=t.invite,o=null;if(!r){o=y.default.hostname(n.canonicalUrl||n.matchedText);try{o=h.default.toUnicode(o)}catch(e){}}var i=n.getSuspiciousLinks().filter(function(e){var t=e.url;return n.matchedText===t}),l=void 0,s=void 0,c=void 0;return i.length?c=function(){return e.onSuspiciousLinkClick(i[0])}:(l=n.description,s=n.thumbnail,c=this.onLinkClick),u.createElement(E.default,{canonicalUrl:o,description:l,displayType:a,invite:r,onClick:c,isSentByMe:n.isSentByMe,thumbnailJpeg:s,title:n.title,star:n.star})}}]),t}(u.PureComponent);C.CONCERNS={msg:["thumbnail","title","description","canonicalUrl","matchedText","isSentByMe","star"]},C.displayName="LinkPreviewContainer",t.default=(0,b.default)((0,g.hoc)(C),C.CONCERNS)},cfafieaaec:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("dhigahgdjb"),p=a(d),h=n("chdfbgffgh"),m=a(h),b=n("djcchigfih"),g=a(b),v=n("djbhiedbef"),y=a(v),_=n("dajffajabh"),E=a(_),j=n("cicgeajfge"),w=n("ddajbaceej"),O=a(w),C=n("dhfbfehaef"),S=a(C),P=n("dgjddffcfg"),M=a(P),T=n("dbciicjiad"),k=a(T),N=n("fbjjefaic"),I=a(N),R=n("ejbdjaifi"),A=n("ccaaiecfib"),D=a(A),x=n("bggeiidigb"),L=a(x),F=n("dhbceejbjg"),U=a(F),B=n("cegfhjajbg"),G=a(B),V=n("fdcfhecbj"),W=a(V),H=n("bfdcadbbif"),Y=a(H),q=n("cehaihfgda"),K=a(q),z=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={searchText:""},a.setSearch=function(e){return a.search=e},a.setRefList=function(e){return a.refList=e},a.flatListController=new L.default,a.onSearch=function(e){a.searchText=e,a._onSearch(e)},a._onSearch=a.props.debounce(function(e){a.setState({searchText:e})},100),a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),(0,C.shouldIndicateFocus)(),a.refList&&a.refList.focusFirst())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=f.default.head(a.frequentContacts);if(t)return(0,C.shouldIndicateFocus)(),void a.props.onClick(e,t);var n=f.default.head(a.getFilteredContacts(a.searchText));n&&((0,C.shouldIndicateFocus)(),a.props.onClick(e,n))},a.onFocusSearch=function(){(0,C.shouldIndicateFocus)(),O.default.focus(a.search)},i=n,o(a,i)}return i(t,e),l(t,[{key:"getFilteredContacts",value:function(e){var t=e;if(p.default._sort.flush(),!(t="string"==typeof t?t:this.state.searchText))return p.default.getFilteredContacts();var n=p.default.getFilteredContacts().concat(p.default.filter(function(e){return e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact}));t=l10n.accentFold(t);var a=M.default.numberSearch(t);return n.filter(function(e){return e.searchMatch(t,a)})}},{key:"calculateFrequentContacts",value:function(){if(this.state.searchText||!D.default.supportsFeature(D.default.F.FREQUENT_CONTACTS))return[];var e=p.default.frequentContacts("message");return f.default.compact(e)}},{key:"render",value:function(){var e=void 0,t=null,n=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===n.length?this.state.searchText?(0,j.SearchWithKeyword)(this.state.searchText):(0,j.SearchWithoutKeyword)():u.createElement(m.default,{ref:this.setRefList,contacts:n,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var a=u.createElement(W.default,null,u.createElement(Y.default,{name:"new-group",directional:!0}));t=u.createElement("div",{"data-list-scroll-offset":!0},u.createElement("div",{className:K.default.newGroupButton},u.createElement(U.default,{image:a,primary:l10n.t("web_menuitem_groupchat"),onClick:this.props.onNewGroup}),u.createElement(G.default,null)))}var r={down:this.onFocusList,enter:this.onSelectFirst};return u.createElement(g.default,{key:"contact-modal"},u.createElement(E.default,{title:this.props.title,type:_.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(S.default,{handlers:r},u.createElement(k.default,{ref:this.setSearch,onSearch:this.onSearch,placeholder:l10n.t("search_contacts")})),u.createElement(y.default,{flatListControllers:[this.flatListController]},t,e))}}]),t}(u.Component);z.displayName="ContactDrawer",t.default=(0,I.default)((0,R.hoc)(z))},cfbeeihgea:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.msg,n=e.displayAuthor;return i.createElement(h.default,{msg:t,displayAuthor:n},i.createElement("div",{className:b.default.icon},i.createElement(c.default,{name:"unknown"})),i.createElement("div",{className:b.default.text},i.createElement(d.default,{msg:t,theme:"placeholder"},s.default.msgText(t))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("dgjddffcfg"),s=a(l),u=n("bfdcadbbif"),c=a(u),f=n("dbbbgjbbgf"),d=a(f),p=n("dbabefhajh"),h=a(p),m=n("ijbagjdgc"),b=a(m);r.displayName="OversizedMsg"},cfcdedaej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("bjigbaghc"),m=a(h),b=n("eacidghfgh"),g=a(b),v=n("eceadcicaf"),y=a(v),_=n("ejbdjaifi"),E=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.close=function(){0===m.default.tos&&f.default.closeModal()},a.logout=function(){f.default.closeModal(),g.default.logout()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(m.default,"change:tos",this.close)}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0;switch(m.default.tos){default:case 1:e=l10n.t("web_terms_of_service_1"),t=l10n.t("ok_got_it"),n=function(){return f.default.closeModal()};break;case 2:e=l10n.t("web_terms_of_service_2"),t=l10n.t("menuitem_logout"),n=this.logout}return u.createElement(p.default,{onOK:n,okText:t},e)}}]),t}(u.Component);E.displayName="TermsOfServiceModal",t.default=(0,y.default)((0,_.hoc)(E))},cfchhaeaaf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("bhhdeihhhf"),h=a(p),m=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.pin=function(){var e=a.props,t=e.chat;(0,e.onPinOrUnpin)(!t.pin)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled;return u.createElement(h.default,{a8n:"mi-pin",action:this.pin,key:"PinChat",disabled:n},t.pin?l10n.t("unpin_chat"):l10n.t("pin_chat"))}}]),t}(u.PureComponent);m.CONCERNS={chat:["pin"]},m.displayName="PinMenuItem",t.default=(0,f.default)((0,d.hoc)(m),m.CONCERNS)},cfdejhjab:function(e,t){e.exports={"-overlay-border-right":"1px",overlayBorderRight:"1px","-overlay-border-left":"1px",overlayBorderLeft:"1px",muted:"_1nW25",footer:"_1N6pS",positioningContainer:"_3LVW7",overlayContainer:"_30sf0",blockCompose:"_2i7Ej",inputContainer:"_13mgZ",childPadding:"hnQHL",disabled:"_15S_w",btnSend:"_3M-N-"}},cfdfdbefea:function(e,t){e.exports={muted:"_1o-pK",button:"_26IFT",buttonIcon:"k5AVL",nextButton:"_3qJWs",prevButton:"wF7YD",resizeContainer:"_2iLBO"}},cfedfiga:function(e,t){e.exports={muted:"_2ynN-",imageWrapper:"_12ikd",msgImage:"_3j0rH",composeBox:"_2B8Xd",statusV3:"_3rn4N",image:"_2gKWQ"}},cfegjiegcd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ejiicdbii"),f=a(c),d=n("dhigahgdjb"),p=a(d),h=n("bcbahjefec"),m=a(h),b=n("bggcifcgdc"),g=a(b),v=n("djicifaabb"),y=a(v),_=n("bgjddhffji"),E=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.pushProductDetails=function(e,t){var n=a.props,r=n.chat,o=n.refreshCarousel,i=u.createElement(g.default,{chat:r,product:e,onEnd:a._end,onBack:a._pop,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalog,refreshCarousel:o,sessionId:t});a.push(i)},a.onProductDetail=function(e,t){a.pushProductDetails(e,t)},a.onProductCatalog=function(e){var t=a.props.product,n=t.catalogWid,r=p.default.get(n);r&&((0,_.logCarouselViewMoreClick)(n.toString(),e),f.default.find(n).then(function(t){var o=u.createElement(y.default,{contact:r,onProductDetail:a.onProductDetail,catalogId:n,onBack:a._pop,sessionId:e,businessProfile:t});a.push(o)}))},a._pop=function(){a.pop()},a._end=function(){a.end(!0)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.product,n=e.sessionId;this.pushProductDetails(t,n)}}]),t}(m.default);t.default=E},cfffidafid:function(e,t,n){"use strict";function a(e,t){var n=e.target.files||e.dataTransfer.files,a=Array.from(n);if(t){var r="string"==typeof t?[t]:t,i=r.map(function(e){return new RegExp(e)});a=a.filter(function(e){return i.some(function(t){return e.type.match(t)})})}if(a.length)return Promise.resolve(a);var s=e.dataTransfer;if(s&&s.getData("text/uri-list"))return l.default.urlToFile(s.getData("text/uri-list")).then(function(e){return[e]});if(s&&s.getData("text/html")){var u=new DOMParser,c=u.parseFromString(s.getData("text/html"),"text/html");if(c.createNodeIterator(c.childNodes[0],NodeFilter.SHOW_TEXT).nextNode()){if(s.getData("text/plain")){var f=new o.MediaDragDropError("dropped html has text nodes: "+s.getData("text/plain"));return Promise.reject(f)}}else{var d=c.getElementsByTagName("img");if(d.length)return l.default.urlToFile(d[0].src).then(function(e){return[e]})}}return Promise.resolve(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=a;var r=n("cajijabhgb"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n("dgjacfgggf"),l=function(e){return e&&e.__esModule?e:{default:e}}(i)},cffhcdjiff:function(e,t){e.exports={muted:"_1Agzl",notification:"_1_8_q",icon:"_3egzF"}},cffibfiejh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ceffhbhahb"),f=a(c),d=n("becfabjeeg"),p=a(d),h=n("djijjheei"),m=a(h),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.className;return u.createElement("div",{className:(0,f.default)(m.default.container,e)},u.createElement(p.default,{size:50,stroke:3,color:"solidwhite"}))}}]),t}(u.Component);b.displayName="AvatarSpinner",t.default=b},cfficaagef:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0}),t.BUBBLE_PADDING=t.MAX_DIM=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=r(f),p=n("bgddggdhc"),h=n("ceffhbhahb"),m=a(h),b=n("cehjjfagii"),g=a(b),v=n("effbcehec"),y=a(v),_=n("jhcabjcaf"),E=a(_),j=n("bfjbdahdag"),w=a(j),O=n("gbfffciea"),C=a(O),S=n("eadfaddcj"),P=a(S),M=n("dfeecdfijg"),T=a(M),k=n("bffjfbgbg"),N=a(k),I=n("eiiicijcj"),R=a(I),A=n("ecibddhig"),D=r(A),x=n("cieaeggjg"),L=a(x),F=n("bgiachiigg"),U=n("ihfccfgdf"),B=a(U),G=n("ejbdjaifi"),V=n("bheafeifce"),W=n("ccfdaijebj"),H=a(W),Y=n("bfdcadbbif"),q=a(Y),K=n("cbjacjjfgc"),z=a(K),Q=n("ecfbhafded"),X=a(Q),J=t.MAX_DIM=parseInt(X.default["-width-picture-bubble-inner"].replace(/px$/,""),10),Z=t.BUBBLE_PADDING=parseInt(X.default["-padding-picture-bubble"].replace(/px$/,""),10),$=J/5.4,ee=3,te=6,ne=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={playing:!1},a.playCount=0,a.pause=function(){a.playCount=0,a._pause()},a.play=function(e){var t=a.props.mediaData,n=a.playerRef;if(t.mediaStage===N.default.STAGE.RESOLVED&&n){e&&e.stopPropagation();var r=a.duration;if(!r){var o=(0,p.forbiddenFindDOMNode)(n);o&&o.duration?r=o.duration:t.duration&&"0"!==t.duration&&(r=parseInt(t.duration,10))}if(r){var i=Math.ceil(te/r);a.playCount=Math.max(i,ee)}else a.playCount=ee;a._play()}},a._pause=function(){a.setState({playing:!1}),a.playerRef&&a.playerRef.pauseAndReset()},a._play=function(){if(a.playerRef){if(a.playCount<=0)return void a.pause();a.playCount-=1,a.state.playing||a.setState({playing:!0}),a.playerRef.play()}},a.showMediaMissing=function(){C.default.openModal(d.createElement(R.default,{msg:a.props.msg}))},a.getZoomNode=function(e){var t=a.props.isMsgVisible;if(!t)return null;var n=t(e);return n?n.getImgNode&&n.getImgNode():null},a.launchMediaViewer=function(e){e&&e.stopPropagation(),C.default.mediaViewerModal((0,V.unproxy)(a.props.msg),a.getZoomNode)},a.downloadMedia=function(){a.props.msg.forceDownloadMedia(!0)},a.cancelDownload=function(){a.props.msg.cancelDownload()},a.cancelUpload=function(){a.props.msg.cancelUpload()},a.resumeUpload=function(){a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},a.onDragStart=function(e){e.nativeEvent.dataTransfer.setData(P.default.DRAG_TYPE_LOCAL_IMAGE,!0)},r=n,l(a,r)}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia()}},{key:"getStyle",value:function(){var e=this.props.mediaData,t=e.aspectRatio;if(!t)return{bubbleWidth:J,bubbleHeight:"100%",contentWidth:J,contentHeight:"100%"};var n=void 0,a=void 0,r=2.5*$;t<1/5.4?(a=J,n=r):t<1?(a=J,n=J*t):t<5.4?(n=J,a=J/t):(n=J,a=$);var o=e.renderableUrl?e.fullWidth||n:n,i=e.renderableUrl?e.fullHeight||a:a;return o/i>n/a?(o=o*a/i,i=a):(i=i*n/o,o=n),i>J&&(i=J),{bubbleWidth:n,bubbleHeight:a,contentWidth:o,contentHeight:i}}},{key:"getFlexSize",value:function(e){var t=this.props.mediaData,n=t.aspectRatio,a=void 0,r=void 0,o=2.5*$;n>=1?e<J?(a=e,(r=a/n)<$&&(r=$)):(a=J,(r=a/n)<$&&(r=$)):(r=J,a=r*n,a<o&&(a=o),e<J&&a>e&&(a=e));var i=a,l=r;return i/l>a/r?(i=i*r/l,l=r):(l=l*a/i,i=a),{bubbleWidth:a,bubbleHeight:r,contentWidth:i,contentHeight:l}}},{key:"getImgNode",value:function(){if(this.playerRef)return this.playerRef.underlyingVideo()}},{key:"render",value:function(){var e,t=this.props.msg,n=this.props.mediaData,a=n.preview?n.preview.url():void 0,r=null,i=null,l=null,s=this.getStyle();this.props.maxWidth&&this.props.maxWidth<s.bubbleWidth&&(s=this.getFlexSize(this.props.maxWidth));var c=s,f=c.bubbleWidth,p=c.contentWidth,h=c.contentHeight;switch(n.mediaStage){case N.default.STAGE.RESOLVED:this.state.playing||this.playCount!==1/0&&(r=d.createElement(A.GifIcon,{onClick:this.play}));var b=n.aspectRatio>=1?{width:"auto",height:h}:{width:p,height:"auto"};l=d.createElement("div",{className:X.default.thumbVideo},d.createElement(H.default,{ref:(0,G.GetRef)("playerRef",this),src:n.renderableUrl,style:b,onEnded:this._play,muted:!0},l10n.t("video_playback_not_supported"))),i=this.launchMediaViewer;break;case N.default.STAGE.INIT:i=this.launchMediaViewer;break;case N.default.STAGE.FETCHING:r=d.createElement(D.PendingCancel,null),i=this.cancelDownload;break;case N.default.STAGE.NEED_POKE:r=d.createElement(D.Download,{filesize:n.size}),i=this.downloadMedia;break;case N.default.STAGE.UPLOADING:r=d.createElement(D.PendingCancel,null),i=this.cancelUpload;break;case N.default.STAGE.NEED_UPLOAD:r=d.createElement(D.Upload,{filesize:n.size}),i=this.resumeUpload;break;case N.default.STAGE.REMOTE_NEED_UPLOAD:r=d.createElement(D.Upload,{filesize:n.size}),i=this.resumeRemoteUpload;break;case N.default.STAGE.ERROR_MISSING:i=this.showMediaMissing;break;default:r=d.createElement(D.Pending,null)}var v=a?d.createElement("div",{className:X.default.thumbImage,style:{backgroundImage:"url("+a+")"}}):null,_=t.caption?d.createElement("div",{className:X.default.caption,style:{maxWidth:f}},d.createElement(w.default,{msg:t,trusted:this.props.trusted})):null,j=_?null:d.createElement(z.default,null),O=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,C=t.showForwarded(),S=(0,m.default)(X.default.bubble,(e={},o(e,X.default.hasCaption,t.caption),o(e,X.default.hasAuthor,O),o(e,X.default.forwarded,C),o(e,X.default.isPSA,t.isPSA),o(e,X.default.isGallery,this.props.displayType===P.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===P.default.DISP_TYPE.GALLERY),o(e,X.default.isInfo,this.props.displayType===P.default.DISP_TYPE.MSG_INFO),e)),M=O?d.createElement("div",{className:X.default.author},d.createElement(g.default,{msg:t,contact:t.senderObj})):null,k=C?d.createElement(T.default,{msg:t,className:X.default.forwardedIndicator}):null,I=void 0;switch(t.gifAttribution){case F.VIDEO_MESSAGE_ATTRIBUTION.GIPHY:I=d.createElement("div",{className:X.default.vendor},d.createElement(q.default,{name:"giphy"}));break;case F.VIDEO_MESSAGE_ATTRIBUTION.TENOR:I=d.createElement("div",{className:X.default.vendor},d.createElement(q.default,{name:"tenor"}));break;default:I=null}var R=this.props.quotedMsg?d.createElement("div",{className:X.default.quote},this.props.quotedMsg):null,x=d.createElement(d.Fragment,null,M,k,R,d.createElement("div",{"data-a8n":y.default.key("image-thumb-gif"),className:X.default.thumb,onClick:i,style:{width:p,height:h}},r,v,l,j,I),_,d.createElement("div",{className:X.default.meta},d.createElement(L.default,{msg:this.props.msg})));if(_)return d.createElement(E.default,{contact:t.senderObj,msg:t,className:S,onClick:u,style:{width:f}},x);var U=f+2*Z;return d.createElement("div",{className:S,onClick:u,style:{width:U}},x)}}]),t}(d.PureComponent);ne.CONCERNS={msg:["id","ack","caption","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj"],mediaData:["aspectRatio","preview","duration","type","mediaStage","renderableUrl","fullWidth","fullHeight","size"]},ne.displayName="Gif",t.default=(0,B.default)((0,G.hoc)(ne),ne.CONCERNS)},cfghbhcedd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bhaigiibeh"),f=a(c),d=n("bcbahjefec"),p=a(d),h=n("dgfecega"),m=n("ddgbhifaji"),b=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.sendMedia=function(e){var t=e.getImg,n=e.caption,r=e.mentionedJidList,o=a.props.chat,i=o.composeQuotedMsg;o.composeQuotedMsg=null,(0,m.prepRawMedia)(t,{}).sendToChat(o,{caption:n,mentionedJidList:r,quotedMsg:i}),a.end()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;this.push(u.createElement(f.default,{onBack:function(){e.end()},chat:this.props.chat,caption:!0,layoutType:h.FIT_TYPE.CONTAIN,onSend:this.sendMedia,stream:this.props.stream}))}}]),t}(p.default);t.default=b},cfhcfebgda:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("fifhbjiec"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=n("ejbdjaifi"),y=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onStop=function(){var e=a.props.chat.liveLocation;e&&e.stopMyLiveLocation(),f.default.closeModal()},a.onCancel=function(){f.default.closeModal()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.chat,t=e.name,n=e.isGroup,a=n?l10n.t("action_live_location_stop_group_confirmation",{name:t}):l10n.t("action_live_location_stop_individual_confirmation",{name:t});return u.createElement(p.default,{onOK:this.onStop,okText:l10n.t("live_location_stop_sharing"),onCancel:this.onCancel},u.createElement(m.default,{text:a}))}}]),t}(u.PureComponent);y.CONCERNS={chat:["name","isGroup","liveLocation"]},y.displayName="LiveLocationStopPopup",t.default=(0,g.default)((0,v.hoc)(y),y.CONCERNS)},cfhehaefih:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t,n=e.canonicalUrl,a=e.compose,o=e.description,i=e.displayType,s=e.invite,c=e.onClick,d=e.isSentByMe,h=e.star,b=e.thumbnail,v=e.thumbnailJpeg,y=e.title,_=e.theme,E=void 0,j=void 0;if(j=b?l.createElement("div",{className:m.default.media},b):v?l.createElement("img",{className:m.default.media,src:"data:image/jpeg;base64,"+v}):l.createElement("div",{className:m.default.noThumbContainer},l.createElement(g.default,{className:m.default.noThumbIcon,name:"link"})),i===u.default.DISP_TYPE.GALLERY){var w=h?l.createElement(g.default,{className:m.default.iconStar,name:"star-light"}):null;E=l.createElement("div",{className:m.default.noThumbContainer},j,w)}else E=j;var O=o?l.createElement("div",{className:m.default.description},"string"==typeof o?l.createElement(p.default,{text:o,titlify:!0}):o):null,C=n?l.createElement("div",{className:m.default.source},l.createElement(p.default,{text:n})):null,S=(0,f.default)(m.default.preview,(t={},r(t,m.default.isInvite,i!==u.default.DISP_TYPE.GALLERY&&s),r(t,m.default.isCompose,a),r(t,m.default.bubbleIn,!d),r(t,m.default.bubbleOut,d),r(t,m.default.extended,"extended"===_),t));return l.createElement("div",{className:S,onClick:c},E,l.createElement("div",{className:m.default.body},l.createElement("div",{className:m.default.title,title:y},l.createElement(p.default,{text:y})),O,C))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("eadfaddcj"),u=a(s),c=n("ceffhbhahb"),f=a(c),d=n("fifhbjiec"),p=a(d),h=n("dajegcbgdi"),m=a(h),b=n("bfdcadbbif"),g=a(b);o.displayName="LinkPreview"},cfhgffgbcb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bcbahjefec"),f=a(c),d=n("fidbefhib"),p=a(d),h=n("bijffg"),m=a(h),b=n("bdbcafgecc"),g=a(b),v=n("bddhdheedf"),y=n("bfbggcdbfb"),_=a(y),E=n("ebjaejiaba"),j=a(E),w=n("gbfffciea"),O=a(w),C=n("biddiiafgd"),S=a(C),P=n("eadfaddcj"),M=a(P),T=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.newlyAddedLabels=new Set,a.logWamEvent=function(){var e=a.props.modelsToUpdate.length;a.labelViewType=1===e?a.props.modelsToUpdate[0]instanceof j.default?_.default.LABEL_TARGETS.LABEL_CHAT_DIALOG:_.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:_.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,v.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW,e,a.labelViewType)},a.onLabelUpdateComplete=function(){a.props.onLabelUpdateComplete&&a.props.onLabelUpdateComplete(),a._pop()},a.onAddLabel=function(e,t){m.default.addNewLabel(e,t).then(function(){a.newlyAddedLabels.add(e)})},a.shouldScrollIntoViewAndSelect=function(e){return a.newlyAddedLabels.has(e)?(a.newlyAddedLabels.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1}},a.onAddNewLabel=function(){m.default.toArray().length>=M.default.MAX_SMB_LABEL_COUNT?O.default.openModal(u.createElement(S.default,{okText:l10n.t("ok_got_it"),onOK:function(){return O.default.closeModal()}},l10n.t("you_cant_add_more_than_x_labels",{count:M.default.MAX_SMB_LABEL_COUNT}))):a.push(u.createElement(p.default,{onAddLabel:a.onAddLabel,onCancel:a._pop}))},a.popAndLogEvent=function(){a.labelViewType&&(0,v.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_NEGATIVE,a.props.modelsToUpdate.length,a.labelViewType),a.pop()},a._pop=function(){a.pop()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.logWamEvent(),this.push(u.createElement(g.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,onAddNewLabel:this.onAddNewLabel,onLabelUpdateComplete:this.onLabelUpdateComplete,onCancel:this.popAndLogEvent,modelsToUpdate:this.props.modelsToUpdate}))}}]),t}(f.default);T.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=T},cfigdibdj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("bcbahjefec"),d=a(f),p=n("cjcffhicea"),h=a(p),m=n("ebbghebbdh"),b=a(m),g=n("bfgbdiffgd"),v=a(g),y=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.confirmSendContacts=function(e){a.push(c.createElement(b.default,{contactList:e,onSend:function(){return a.sendContacts(e)},onBack:a._popNone,chat:a.props.chat}),"none"),a.contacts=e},a.sendContacts=function(e){var t=a.props.chat,n=t.composeQuotedMsg;1===e.length?t.sendContact(e[0],n):t.sendContactList(e,n),t.composeQuotedMsg=null,a.end()},a._getContacts=function(){return a.contacts},a._pop=function(){a.pop()},a._popNone=function(){a.pop("none")},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props.serverProps.maxParticipants;this.contacts=[],this.push(c.createElement(h.default,{title:l10n.t("send_contacts"),onCancel:this._pop,onChat:this.confirmSendContacts,getInitialItems:this._getContacts,listType:p.ListType.CONTACT_SELECT_MODAL,maxItems:e,allowBlockedContacts:!0}))}}]),t}(d.default);t.default=function(e){return c.createElement(y,l({},e,{serverProps:v.default}))}},cfiighfhhg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("dbbbgjbbgf"),c=a(u),f=n("cdfiibedj"),d=a(f),p=n("bfdcadbbif"),h=a(p),m=function(e){var t=e.hasCaption?e.children:i.createElement("div",{className:d.default.text},i.createElement(c.default,{msg:e.msg,theme:"placeholder"},e.children)),n=e.iconName?i.createElement("div",{className:d.default.icon},i.createElement(h.default,{name:e.iconName})):null;return i.createElement("div",{className:(0,s.default)(d.default.container,r({},d.default.containerSmallIcon,"small-icon"===e.theme))},n,t)};m.displayName="MsgPlaceholder",t.default=m},cgajhcgiji:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("ecbgeejjjh"),f=a(c),d=n("ceffhbhahb"),p=a(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=null;switch(this.props.theme){case"upper":e=u.default.createElement("div",{key:"upper-shade",className:(0,p.default)(f.default.fullWidthShade,f.default.stripHeightShade,f.default.upperShade)});break;case"lower":e=u.default.createElement("div",{key:"lower-shade",className:(0,p.default)(f.default.fullWidthShade,f.default.stripHeightShade,f.default.lowerShade)});break;case"full-rounded":e=u.default.createElement("div",{key:"full-rounded-shade",className:(0,p.default)(f.default.fullWidthShade,f.default.fullHeightShade,f.default.roundedCorners)});break;case"full-sharp":e=u.default.createElement("div",{key:"full-sharp-shade",className:(0,p.default)(f.default.fullWidthShade,f.default.fullHeightShade)})}return e}}]),t}(s.PureComponent);h.displayName="Shade",t.default=h},cgbbacefei:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("bdiiahhjbe"),o=a(r),i=n("bhggeigghg"),l=a(i),s=n("dgdjiicfdg"),u={queryNextLabelColor:function(){return this._queryLabelColor(!0)},queryLabelPalette:function(){return this._queryLabelColor()},createLabel:function(e,t){return this._createOrDeleteLabels("create",e,t)},deleteLabel:function(e){return this._createOrDeleteLabels("delete",void 0,void 0,e)},_queryLabelColor:function(e){var t=this,n=e?"next label color":"all label color palette";return new Promise(function(a,r){var i=function(e){t.BinaryProtocol.read(e).then(function(e){var r={};if(o.default.logColor("green","bin-recv: response,"+n,e)(),"response"===t.N.tag(e)&&"label"===t.N.attr("type",e)){r.labelColors=[];var i=t.N.children(e);if(Array.isArray(i))for(var l=0;l<i.length;l++){var s=t.parseLabelColor(i[l]);s&&r.labelColors.push(s)}}a(r)}).catch(r)},l=t.queryNode({type:"label",kind:"color",create:e?"true":void 0});t.binSend("sendEphemeral",l,r,{onSend:t.binWrap(i,a),onDrop:t.wrap(r)},{debugString:"query,"+n,metric:e?t.M.QUERY_NEXT_LABEL_COLOR:t.M.QUERY_LABEL_PALETTE})})},addOrRemoveLabels:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(a,r){var o=t.wrap(a),i=e.map(function(e){return["label",{id:e.id,type:e.type},void 0]}),u=n.map(function(e){return e instanceof l.default.Chat._model?["chat",{jid:e.id},void 0]:e instanceof l.default.Contact._model?["contact",{jid:e.id},void 0]:e instanceof l.default.Msg._model?["message",{index:e.id.id,owner:void 0===e.id.fromMe?void 0:e.id.fromMe.toString(),jid:e.id.remote},void 0]:void 0}),c=t.actionNode("set",[["label",{type:"update"},u.concat(i)]]);t.binSend("send",c,r,{onSend:o,onDrop:t.wrap(r)},{debugString:"action,label,remove or add",metric:t.M.ADD_OR_REMOVE_LABELS,expires:s().unix()})})},_createOrDeleteLabels:function(e,t,n,a){var r=this;if("delete"!==e&&"create"!==e)throw new Error("_createOrDeleteLabels must be called with type of delete or create");return new Promise(function(o,i){var l=r.wrap(o),u={type:e,name:t,color:n,id:a||void 0},c=r.actionNode("set",[["label",u,void 0]]);r.binSend("send",c,i,{onSend:l,onDrop:r.wrap(i)},{debugString:"action,label,create or delete",metric:r.M.CREATE_OR_DELETE_LABELS,expires:s().unix()})})},editLabel:function(e,t,n){var a=this;return new Promise(function(r,o){var i=a.wrap(r),l={id:e,name:t||void 0,color:n||void 0,type:"update"},u=a.actionNode("set",[["label",l,void 0]]);a.binSend("send",u,o,{onSend:i,onDrop:a.wrap(o)},{debugString:"action,label,edit",metric:a.M.EDIT_LABELS,expires:s().unix()})})},parseLabelColor:function(e){if("label"===this.N.tag(e)){var t=this.N.attr("color",e),n={color:t},a=[!t];return this.dropIfConditionMet(a,n)}}};e.exports=u},cgbdcdhgig:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return i((0,v.unproxy)(e))}function o(e){return l((0,v.unproxy)(e))}function i(e){l(e)?g.default.sendMessagePlayed(e.id).then(function(t){e.ack=f.default.ACK_PLAYED}).catch(u.WapDrop,function(){}):m.default.log("Msg:msg should not call sendPlayed")()}function l(e){return!e.isSentByMe&&(!(e.ack>=f.default.ACK_PLAYED)&&("ptt"===e.type||"video"===e.type&&!e.isGif&&p.default.supportsFeature(p.default.F.VIDEO_PLAYED_STATUS)))}Object.defineProperty(t,"__esModule",{value:!0}),t.markPlayed=r,t.canMarkPlayed=o;var s=n("cajijabhgb"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("eadfaddcj"),f=a(c),d=n("ccaaiecfib"),p=a(d),h=n("bdiiahhjbe"),m=a(h),b=n("chajfbfiga"),g=a(b),v=n("bheafeifce")},cgbdhdjdcf:function(e,t,n){e.exports=n.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},cgbdjhghfb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("djfhiceeje"),f=a(c),d=n("bjigbaghc"),p=a(d),h=n("biecbbiiee"),m=a(h),b=n("dagdiahdfi"),g=a(b),v=n("dhefcajhhb"),y=a(v),_=n("eacidghfgh"),E=a(_),j=n("bajidgjehj"),w=a(j),O=n("biddiiafgd"),C=a(O),S=n("icadbbfej"),P=a(S),M=n("daijadgha"),T=a(M),k=n("icaahcghc"),N=a(k),I=n("chcdheijc"),R=a(I),A=n("cajbicccif"),D=a(A),x=n("ceibefacih"),L=a(x),F=n("egjjcjcg"),U=a(F),B=n("dbgdaechch"),G=a(B),V=n("bhhdeihhhf"),W=a(V),H=n("dhhfaeacef"),Y=a(H),q=n("gbfffciea"),K=a(q),z=n("gbbacfeci"),Q=a(z),X=n("egfffcbhi"),J=a(X),Z=n("bhfdfhefca"),$=n("ccaaiecfib"),ee=a($),te=n("bfjajhbdf"),ne=a(te),ae=n("ihfccfgdf"),re=a(ae),oe=n("fbjjefaic"),ie=a(oe),le=n("eceadcicaf"),se=a(le),ue=n("ejbdjaifi"),ce=n("didfdhbecg"),fe=a(ce),de=n("bfdcadbbif"),pe=a(de),he=n("dabbhadeic"),me=a(he),be=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onWindowFocus=function(){},e.onMouseDown=function(){},e.onDrag=function(t){e.didDrag=!0},e.onClickCapture=function(e){},e.onNewChat=function(e){e.preventDefault(),K.default.openDrawerLeft(u.createElement(P.default,null))},e.onProfile=function(){var e=Q.default.assertGet(p.default.me),t=y.default.assertGet(p.default.me);K.default.openDrawerLeft(u.createElement(w.default,{status:e,profilePicThumb:t,conn:p.default}))},e.onUnmute=function(){g.default.globalMute().unmute(),K.default.openToast(u.createElement(ne.default,{msg:l10n.t("global_unmuted"),id:(0,te.genId)()}))},e.state={},e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=null;this.props.mute.isMuted&&(e=u.createElement(Z.MenuBarItem,{a8nText:"menu-bar-unmute",icon:u.createElement(pe.default,{name:"dnd"}),title:l10n.t("global_unmute"),onClick:this.onUnmute,key:"btn-dnd"}));var t=null;return ee.default.supportsFeature(ee.default.F.STATUS_V3_UI_VIEWING)&&(t=u.createElement(J.default,null)),u.createElement("header",{className:me.default.header,onMouseDown:this.onMouseDown,onClickCapture:this.onClickCapture},u.createElement("div",{className:me.default.listUser},u.createElement(Y.default,{id:p.default.me,size:40,onClick:this.onProfile})),u.createElement("div",{className:me.default.listControls},u.createElement(Z.MenuBar,{key:"chatlist-header"},u.createElement(fe.default,{transitionName:"btn"},e,t,u.createElement(Z.MenuBarItem,{a8nText:"menu-bar-chat",icon:u.createElement(pe.default,{name:"chat",directional:!0}),title:l10n.t("web_menuitem_new"),onClick:this.onNewChat}),u.createElement(Z.MenuBarItem,{a8nText:"menu-bar-menu",icon:u.createElement(pe.default,{name:"menu"}),title:l10n.t("menutitle_menu")},u.createElement(ge,null))))))}}]),t}(u.Component);be.CONCERNS={mute:["isMuted"]},be.displayName="ChatlistHeader",e.exports=(0,ie.default)((0,se.default)((0,re.default)((0,ue.hoc)(be),be.CONCERNS)));var ge=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onCreateGroup=function(){K.default.openDrawerLeft(u.createElement(T.default,null))},e.onProfile=function(){var e=Q.default.assertGet(p.default.me),t=y.default.assertGet(p.default.me);K.default.openDrawerLeft(u.createElement(w.default,{status:e,profilePicThumb:t,conn:p.default}))},e.onDisconnect=function(){if(!m.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}))return E.default.logout();K.default.openModal(u.createElement(C.default,{title:l10n.t("confirm_logout"),onOK:function(){return E.default.logout()},okText:l10n.t("menuitem_logout"),onCancel:function(){return K.default.closeModal()},cancelText:l10n.t("web_cancel")},l10n.t("some_of_your_messages_are_still_sending")))},e.onArchived=function(){K.default.openDrawerLeft(u.createElement(D.default,null))},e.onSettings=function(){K.default.openDrawerLeft(u.createElement(N.default,null))},e.onStarred=function(){K.default.openDrawerLeft(u.createElement(L.default,{starredMsgs:f.default}))},e.onLabel=function(){K.default.openDrawerLeft(u.createElement(R.default,null))},e.state={rememberMe:U.default.getRememberMe()},e}return i(t,e),l(t,[{key:"render",value:function(){var e=u.createElement(W.default,{a8n:"mi-new-group menu-item",action:this.onCreateGroup},l10n.t("web_menuitem_groupchat")),t=u.createElement(W.default,{a8n:"mi-starred menu-item",action:this.onStarred},l10n.t("menuitem_starred")),n=null;ee.default.supportsFeature(ee.default.F.LABELS_EDIT)&&(n=u.createElement(W.default,{a8n:"mi-setting menu-item",action:this.onLabel},l10n.t("labels_setting_title")));var a=l10n.t("menuitem_profile_status");return u.createElement(G.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ChatlistHeader",dirX:B.DirX.LEFT},e,u.createElement(W.default,{a8n:"mi-profile-status menu-item",action:this.onProfile},a),u.createElement(W.default,{a8n:"mi-archived menu-item",action:this.onArchived},l10n.t("menuitem_archived")),t,n,u.createElement(W.default,{a8n:"mi-setting menu-item",action:this.onSettings},l10n.t("menuitem_settings")),u.createElement(W.default,{a8n:"mi-logout menu-item",action:this.onDisconnect},l10n.t("menuitem_logout")))}}]),t}(u.Component);ge.displayName="ChatlistHeaderDropdown"},cgbfcjgjcf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("bffjfbgbg"),h=a(p),m=n("dhgfhcggji"),b=a(m),g=n("ihfccfgdf"),v=a(g),y=n("bfdcadbbif"),_=a(y),E=n("ejbdjaifi"),j=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.imgRef&&this.props.imgRef(this.img)}},{key:"componentWillUnmount",value:function(){this.props.imgRef&&this.props.imgRef(null)}},{key:"renderPlaceholder",value:function(){return c.createElement("div",{className:(0,d.default)(b.default.mediaCanvas,b.default.placeholder),onClick:this.props.onClick},c.createElement(_.default,{name:"business-description"}))}},{key:"render",value:function(){var e,t=this.props,n=t.mediaData,a=t.theme,o=t.active,i=t.onClick,l=void 0;l=n.mediaStage===h.default.STAGE.RESOLVED?c.createElement("div",{className:b.default.mediaCanvas,style:{backgroundImage:"url("+n.renderableUrl+")"},onClick:i,ref:(0,E.GetRef)("img",this)}):n.mediaStage===h.default.STAGE.PREPARING?this.renderPlaceholder():n.mediaStage===h.default.STAGE.ERROR_MISSING?null:c.createElement("div",{className:b.default.mediaCanvas});var s=(0,d.default)(this.props.classes,(e={},r(e,b.default.canvasSecondRow,"hideableSecondRow"===a),r(e,b.default.canvasComponent,"list"!==a),r(e,b.default.list,"list"===a),r(e,b.default.viewerFlow,"viewerFlow"===a),r(e,b.default.active,!0===o),e));return this.props.large?c.createElement("div",{className:b.default.canvasComponentLarge},l):c.createElement("div",{className:s},c.createElement("div",{className:b.default.canvasBody}),l)}}]),t}(c.Component);j.CONCERNS={mediaData:["mediaStage","mediaBlob","renderableUrl","preview"]},j.displayName="ProductThumb",t.default=(0,v.default)((0,E.hoc)(j),j.CONCERNS)},cgbgedjgag:function(e,t){e.exports={muted:"Yxg_3",actionBtns:"pTuis",newLabelBtn:"_1Lre5",plus:"R8Aiw"}},cgcgefjeah:function(e,t){e.exports={muted:"_2S0Lg",dimmed:"W1iiE"}},cgchdicacf:function(e,t){e.exports={muted:"pmboJ",conversation:"lp3Gs",placeholder:"_1g3ta",composeBoxQuoted:"_3a9fe",quoted:"_1G7oM",stickerPanel:"n9kOx",clickable:"_1VqBB",hide:"_1PrrL"}},cgebaggcga:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("ceffhbhahb"),d=a(f),p=n("ihfccfgdf"),h=a(p),m=n("ejbdjaifi"),b=n("dgibicjjj"),g=a(b),v=n("gdhdegbhg"),y=a(v),_=n("cgcgefjeah"),E=a(_),j=n("bfgbdiffgd"),w=a(j),O=n("ccaaiecfib"),C=a(O),S=n("bjebjijbfc"),P=a(S),M=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.statusV3,n=e.contact,a=(0,d.default)(r({},E.default.dimmed,n.statusMute)),o=void 0;return o=w.default.statusRanking&&C.default.supportsFeature(C.default.F.STATUS_RANKING)?t.hasUnread?l10n.t("status_v3_num_unread_updates",{count:t.unreadCount,_plural:t.unreadCount}):l10n.t("status_v3_num_read_updates",{count:t.totalCount,_plural:t.totalCount}):P.default.relativeDateAndTimeStr(t.t),c.default.createElement(g.default,{className:a,key:t.id.toString(),customImage:!0,theme:"status-list",image:c.default.createElement(y.default,{statusV3:t,contact:n,onClick:this.props.onClick}),primary:n.formattedName,secondary:o,onClick:this.props.onClick,contextEnabled:function(){return!1}})}}]),t}(u.PureComponent);M.CONCERNS={statusV3:["id","t","hasUnread","unreadCount","totalCount","contact"],contact:["formattedName","statusMute"]},M.displayName="StatusV3Cell",t.default=(0,h.default)((0,m.hoc)(M),M.CONCERNS)},cgecdbiihg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLAYER_TYPE={FLOATER:"FLOATER",OG_FLOATER:"OG_FLOATER",MEDIA_VIEWER:"MEDIA_VIEWER"},t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=16/9,t.URL_PATTERNS={ONLINE_VIDEO_URL:{YOUTUBE:[/^https?:\/\/youtu\.be\/(.{11})/,/^https?:\/\/www\.youtube\.com\/watch\?v=(.{11})/,/^https?:\/\/m\.youtube\.com\/watch\?v=(.{11})/]}},t.YOUTUBE_URL_TIME_PARAM_NAME="t",t.YOUTUBE_URL_TIME_PARAM_PATTERN=/^(\d+h)?(\d+m)?(\d+s)?(\d+)?$/},cgejchjdhj:function(e,t,n){"use strict";function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2];if(e.scrollIntoViewIfNeeded&&(0,u.isFunction)(e.scrollIntoViewIfNeeded))return e.scrollIntoViewIfNeeded(t);var a=i(n||e.parentNode),r=window.getComputedStyle(a,null),o=parseInt(r.getPropertyValue("border-top-width")),l=e.offsetTop-a.offsetTop<a.scrollTop,s=e.offsetTop-a.offsetTop+e.clientHeight-o>a.scrollTop+a.clientHeight,c=l&&!s;return(l||s)&&t&&(a.scrollTop=e.offsetTop-a.offsetTop-a.clientHeight/2-o+e.clientHeight/2),!l&&!s||t||e.scrollIntoView(c),!(l||s)}function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],a=i(n||e.parentNode),r=window.getComputedStyle(a,null),o=parseInt(r.getPropertyValue("border-top-width")),l=e.offsetTop-a.offsetTop<a.scrollTop,s=e.offsetTop-a.offsetTop+e.clientHeight-o>a.scrollTop+a.clientHeight,u=l&&!s;return t?a.scrollTop=e.offsetTop-a.offsetTop-a.clientHeight/2-o+e.clientHeight/2:e.scrollIntoView(u),!(l||s)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i(t||e.offsetParent),r=n.pos||"center",o=n.duration||1e3,l=n.offset||0;switch(r){case"top":return a.scrollTop=e.offsetTop+l,Promise.resolve();case"bottom":return a.scrollTop=e.offsetTop+e.clientHeight-a.clientHeight,Promise.resolve();case"center":return n.animate?((0,s.default)(e,"stop"),(0,s.default)(a,"stop"),(0,s.default)(e,"scroll",{duration:o,container:a,offset:(e.clientHeight-a.clientHeight)/2,easing:n.easing})):(a.scrollTop=e.offsetTop+e.clientHeight/2-a.clientHeight/2,Promise.resolve());case"offset":return n.animate?((0,s.default)(e,"stop"),(0,s.default)(a,"stop"),(0,s.default)(e,"scroll",{duration:o,container:a,offset:-l,easing:n.easing})):(a.scrollTop=e.offsetTop-l,Promise.resolve())}return Promise.resolve()}function i(e){if(e&&e instanceof HTMLElement)return e;throw new Error("utils:DOM parent not defined or is not a valid HTMLElement")}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoViewIfNeeded=a,t.scrollIntoView=r,t.scrollAt=o;var l=n("bcifhbgija"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n("hjbbdjjdf")},cgfdjcbhag:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ceffhbhahb"),f=a(c),d=n("hbhijdici"),p=a(d),h=n("bdiiahhjbe"),m=a(h),b=n("bifbhbbiie"),g=a(b),v=n("dgfhiaehb"),y=a(v),_=n("fffdgbfji"),E=a(_),j=n("bdghdbcbdc"),w=a(j),O=n("ciaidfgabf"),C=a(O),S=n("didfdhbecg"),P=a(S),M=n("bfifafibjc"),T=a(M),k=n("cfdfdbefea"),N=a(k),I=n("bfdcadbbif"),R=a(I),A=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={menuWidth:null,offset:0},n._handleItemClick=function(e,t){n.props.onItemClick&&n.props.onItemClick(e,t)},n._handleNextClick=function(){var e=n.props.numItems,t=n.state.offset+n.props.numColumns;"number"!=typeof e||t>e||n.setState({offset:n.state.offset+1})},n._handlePrevClick=function(){0!==n.state.offset&&n.setState({offset:n.state.offset-1})},n._handleResize=function(e){var t=e.width;n.setState({menuWidth:t})},n._renderItem=function(e,t,a){var r=n.props.numItems;if("number"==typeof r&&e>=r)return null;var o=e-n.state.offset;return u.createElement(y.default,{column:o,carouselNumColumns:n.props.numColumns,key:e,menuWidth:a,onClick:n._handleItemClick,index:e,selected:t},n.props.renderItem(e))},n._checkSelectedIndex(e),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this._checkSelectedIndex(e)}},{key:"_checkSelectedIndex",value:function(e){var t=e.onItemClick,n=e.numItems,a=e.selectedIndex;if(t&&0!==n){m.default.assert(a>=0,"carousel_menu: selectedIndex is smaller than 0")();var r=n-1;a>r&&t(r)}}},{key:"_renderPrevButton",value:function(){if(0===this.state.offset)return null;var e=E.default.isRTL()?"chevron-right":"chevron-left";return this._renderButton({className:N.default.prevButton,icon:e,onClick:this._handlePrevClick})}},{key:"_renderNextButton",value:function(){var e=this.props,t=e.numColumns,n=e.numItems;if("number"!=typeof n)return null;if(this.state.offset+t>=n)return null;var a=E.default.isRTL()?"chevron-left":"chevron-right";return this._renderButton({className:N.default.nextButton,icon:a,onClick:this._handleNextClick})}},{key:"_renderButton",value:function(e){var t=e.className,n=e.icon,a=e.onClick,r=this.props.numColumns,o=this.state.menuWidth?p.default.round(this.state.menuWidth/r)+"px":100/r+"%";return u.createElement("div",{className:(0,f.default)(N.default.button,t),style:{width:o},onClick:a,role:"button"},u.createElement(R.default,{className:N.default.buttonIcon,name:n}))}},{key:"render",value:function(){var e=this.props,t=e.numColumns,n=e.numItems,a=e.selectedIndex,r=this.state,o=r.menuWidth,i=r.offset,l=void 0;if(a<i)l=-1;else if(a>=i+t){var s=t-1;l=s+1}else l=(a-i)%t;return u.createElement(w.default,{className:this.props.className},u.createElement(T.default,{className:N.default.resizeContainer,onResize:this._handleResize},u.createElement(P.default,null,this._renderPrevButton()),u.createElement(g.default,{menuWidth:o,numColumns:t,numItems:n,offset:i,renderItem:this._renderItem,selectedIndex:a}),u.createElement(P.default,null,this._renderNextButton()),u.createElement(C.default,{numTabs:t,selectedTabIndex:l,hide:-1===l||0===l&&i>0||l===t})))}}]),t}(u.PureComponent);A.displayName="CarouselMenu",t.default=A},cgfeeffgi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("gbfffciea"),d=a(f),p=n("biddiiafgd"),h=a(p),m=n("dhigahgdjb"),b=a(m),g=n("fifhbjiec"),v=a(g),y=n("bcbahjefec"),_=a(y),E=n("cjcffhicea"),j=a(E),w=n("cgjcdbggeb"),O=function(e){function t(){var e,n,a,l;o(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.isGroupParticipant=function(e){return!!a.props.chat.groupMetadata.participants.get(e)},a.customSecondaryText=function(e){return a.props.chat.groupMetadata.participants.get(e)?l10n.t("already_added_to_group"):null},a.contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!b.default.isFilteredContact(e)&&(!t.participants.get(e.id)||l10n.t("already_added_to_group"))},a.confirmAddParticipant=function(e){var t=a.props.chat;a.push(c.createElement(h.default,{onOK:a.onAddParticipant.bind(a,e),okText:l10n.t("add_group_participant",{_plural:e.length}),onCancel:a._pop,cancelText:l10n.t("web_cancel")},c.createElement(v.default,{text:a.makeNameEnumeration(e,t.contact.name)})))},a.makeNameEnumeration=function(e,t){var n=e.map(function(e){return e.formattedShortName||e.shortName}).reduce(function(t,n,a){return[].concat(r(t),[n,a!==e.length-1&&l10n.t("enumeration_comma")||""])},[]);return l10n.t("confirm_add_group_participants",{participants:n.join(""),subject:t})},a.onAddParticipant=function(e){(0,w.addParticipants)(a.props.chat,e).catch(function(){}),d.default.closeModal()},a._pop=function(){a.pop()},l=n,i(a,l)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.push(c.createElement(j.default,{onChat:this.confirmAddParticipant,filter:this.contactFilter,title:l10n.t("add_group_participant"),isDisabled:this.isGroupParticipant,isSelected:this.isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:E.ListType.PARTICIPANT_MANAGE_MODAL}))}}]),t}(_.default);t.default=O},cgffcjcehg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("bfdcadbbif"),h=a(p),m=n("eadfaddcj"),b=a(m),g=b.default.MSG_TYPE,v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg,t=e.ack,n=e.isMedia&&!e.caption&&e.type!==g.AUDIO&&e.type!==g.PRODUCT||e.type===g.LOCATION&&!e.loc&&!e.isLive,a=void 0;return a=t<1?n?"msg-time-light":"msg-time":1===t?n?"msg-check-light":"msg-check":2===t?n?"msg-dblcheck-light":"msg-dblcheck":n?"msg-dblcheck-ack-light":"msg-dblcheck-ack",u.createElement(h.default,{name:a})}}]),t}(u.PureComponent);v.CONCERNS={msg:["ack","isMedia","caption","type","loc","isLive"]},v.displayName="Status",t.default=(0,f.default)((0,d.hoc)(v),v.CONCERNS)},cgfgefjfje:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("cjhcbjdgc"),h=a(p),m=n("effbcehec"),b=a(m),g=n("egbbijije"),v=a(g),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rendered:!1},n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.setState({rendered:!0})}},{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.rowNumber,o=t.rowHeight,i=t.zIndex,l=r({zIndex:i,height:o},h.default.prefix("transform"),"translate3d(0, "+o*a+"px, 0)"),s=(0,d.default)(v.default.item,(e={},r(e,v.default.keyframe,this.props.animate&&!this.state.rendered),r(e,v.default.transition,this.props.animate),e));return c.createElement("div",{"data-a8n":b.default.key("infinite-list-item"),className:s,style:l},n)}}]),t}(c.Component);y.displayName="ListItem",e.exports=y},cgfjiaegih:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=e.action||null,a=(0,g.default)(ne.default.butterbar,(t={},r(t,ne.default.action,n),r(t,ne.default.computer,"computer"===e.type),r(t,ne.default.phone,"phone"===e.type),r(t,ne.default.notification,"notification"===e.type),r(t,ne.default.battery,"battery"===e.type),r(t,ne.default.update,"update"===e.type),t)),o={computer:"alert-computer",phone:"alert-phone",notification:"alert-notification",battery:"alert-battery",update:"alert-update"},i=e.onDismiss?m.default.createElement("div",{className:ne.default.controls},m.default.createElement(Z.default,{name:"x-light",onClick:e.onDismiss})):null,l=e.text?m.default.createElement("div",{className:ne.default.text},e.text):null;return m.default.createElement("div",{className:ne.default.wrapper},m.default.createElement("div",{className:a,onClick:n},m.default.createElement("div",{className:ne.default.icon},m.default.createElement(Z.default,{name:o[e.type]})),m.default.createElement("div",{className:ne.default.body},m.default.createElement("div",{className:ne.default.title},e.title),l),i))}function u(){y.default.closeModal()}function c(){switch(q.default.browser){case w.default.BROWSER_TYPE.CHROME:return(0,ee.openExternalLink)((0,$.getNotificationChromeFaqUrl)());case w.default.BROWSER_TYPE.FIREFOX:return(0,ee.openExternalLink)((0,$.getNotificationFirefoxFaqUrl)());case w.default.BROWSER_TYPE.SAFARI:return(0,ee.openExternalLink)((0,$.getNotificationSafariFaqUrl)());case w.default.BROWSER_TYPE.OPERA:return(0,ee.openExternalLink)((0,$.getNotificationOperaFaqUrl)());case w.default.BROWSER_TYPE.EDGE:return(0,ee.openExternalLink)((0,$.getNotificationEdgeFaqUrl)());default:return(0,ee.openExternalLink)((0,$.getNotificationChromeFaqUrl)())}}function f(){(0,ee.openExternalLink)((0,$.getCannotConnectFaqUrl)())}function d(e){return m.default.createElement("span",{className:ne.default.actionLink},m.default.createElement("span",{className:ne.default.actionText,onClick:e.action},e.children),m.default.createElement(Z.default,{className:ne.default.chevron,directional:!0,name:"chevron-right-text"}))}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=n("ddhijeejag"),m=a(h),b=n("ceffhbhahb"),g=a(b),v=n("gbfffciea"),y=a(v),_=n("bjigbaghc"),E=a(_),j=n("eadfaddcj"),w=a(j),O=n("ffchhcfdj"),C=a(O),S=n("eceadcicaf"),P=a(S),M=n("bfbggcdbfb"),T=a(M),k=n("dgdjiicfdg"),N=a(k),I=n("ebggjhghhi"),R=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(I),A=n("didfdhbecg"),D=a(A),x=n("ceddibdhdb"),L=a(x),F=n("eacidghfgh"),U=a(F),B=n("ihfccfgdf"),G=a(B),V=n("ejbdjaifi"),W=n("dcdiaahjj"),H=a(W),Y=n("bcjcbbafcj"),q=a(Y),K=n("cbbhbjebii"),z=a(K),Q=n("cfgcdfcfee"),X=a(Q),J=n("bfdcadbbif"),Z=a(J),$=n("facgccaif"),ee=n("bidfjbaebi"),te=n("djibdcebeh"),ne=a(te),ae=3e3,re=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={allowReconnect:!0},a.reconnect=function(){var e=X.default.numSocketsAttempted+1;U.default.poke(),R.waitForBBEvent(H.default,"change:displayInfo",function(){return H.default.displayInfo===W.StreamInfo.NORMAL}).then(function(){new T.default.WebcManualWebsocketAttempt({webcManualWebsocketAttemptSuccessful:X.default.numSocketsAttempted===e}).commit()}),a.setState({allowReconnect:!1}),a._reconnectTimeoutTimer.onOrAfter(ae)},a._reconnectTimeoutTimer=new L.default(function(){a.setState({allowReconnect:!0})}),r=n,i(a,r)}return l(t,e),p(t,[{key:"componentWillUnmount",value:function(){this._reconnectTimeoutTimer.cancel()}},{key:"render",value:function(){var e=void 0,t=void 0;return this.state.allowReconnect?(e=m.default.createElement(m.default.Fragment,null,l10n.t("make_sure_computer_active_internet_connection")+" ",m.default.createElement(d,{action:this.reconnect},l10n.t("reconnect"))),t=l10n.t("computer_not_connected")):(e=null,t=l10n.t("connecting_to_whatsapp_or_phone")),m.default.createElement(s,{type:"computer",title:t,text:e})}}]),t}(h.PureComponent);re.displayName="Offline";var oe=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={takingTooLong:!1,didShowSubtitle:!1},a._timeoutTimer=new L.default(function(){a.setState({takingTooLong:!0,didShowSubtitle:!0})}),a.onProgress=function(){a._rerenderTimer.cancel(),a._timeoutTimer.onOrBefore(3e3),a.setState({takingTooLong:!1})},a._rerenderTimer=new L.default(function(){a.forceUpdate()}),a.retry=function(){U.default.poke(),a.onProgress()},r=n,i(a,r)}return l(t,e),p(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(U.default,"change:state",this.onProgress),this.props.listeners.add(U.default,"change:retryTimestamp",this.onProgress)}},{key:"componentDidMount",value:function(){this._timeoutTimer.onOrBefore(3e3)}},{key:"componentWillUnmount",value:function(){this._timeoutTimer.cancel(),this._rerenderTimer.cancel()}},{key:"render",value:function(){var e=void 0,t=void 0;if(H.default.displayInfo===W.StreamInfo.OPENING)e=l10n.t("connecting_to_whatsapp");else{if(H.default.displayInfo!==W.StreamInfo.CONNECTING)return null;e=l10n.t("connecting_to_whatsapp_or_phone")}if(this.state.takingTooLong){this._rerenderTimer.onOrAfter(1e3);var n=U.default.retryTimestamp-Date.now();if(n<1)n=l10n.t("retrying"),setTimeout(function(){U.default.poke()},0);else if(n<6e4){var a=Math.ceil(n/1e3);n=l10n.t("retrying_in_some_seconds",{number:a,_plural:a})}else n=l10n.t("retrying_in",{duration:N.default.duration(n).humanize()});t=m.default.createElement(m.default.Fragment,null,n," ",m.default.createElement(d,{action:this.retry},l10n.t("retry_now")))}else t=this.state.didShowSubtitle?m.default.createElement("span",null,l10n.t("retrying")):null;return m.default.createElement(s,{type:"computer",title:e,text:t})}}]),t}(h.Component);oe.displayName="ResumeClass";var ie=(0,P.default)((0,V.hoc)(oe)),le=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onReload=function(){z.default.restart()},n.onClickManualDownload=function(){},n._showBatteryTimer=new L.default(function(){return n.batteryUpdate(!1)}),n.dismissLowBatteryWarning=function(){var e=n.state.lowBatteryWarning;e>0&&n.setState({lowBatteryWarning:-e})},n._showNotifyTimer=new L.default(function(e){n.setState({showNotify:e})}),n.requestPermissions=function(){y.default.openModal(m.default.createElement(C.default,{title:"guide_desktop_notifications_title",desc:"guide_desktop_notifications_description",onConfirm:u,onCancel:c,type:C.default.TYPE.GUIDE_ALLOW})),window.Notification.requestPermission(function(e){y.default.closeModal(),n.setState({notifyPermission:e})})};var a=E.default.battery<w.default.BATTERY_LOW_THRESHOLD_1?E.default.battery<w.default.BATTERY_LOW_THRESHOLD_2?2:1:0;n.state={lowBatteryWarning:E.default.plugged?0:a,notifyPermission:window.Notification&&window.Notification.permission,showNotify:!1};var r=function(){n.batteryUpdate(!0)};return e.listeners.add(E.default,"change:plugged",r),e.listeners.add(E.default,"change:battery",r),n}return l(t,e),p(t,[{key:"componentWillUnmount",value:function(){this._showNotifyTimer.cancel(),this._showBatteryTimer.cancel()}},{key:"batteryUpdate",value:function(e){var t=this.state.lowBatteryWarning;E.default.plugged||E.default.battery>w.default.BATTERY_LOW_THRESHOLD_1?0!==t&&this.setState({lowBatteryWarning:0}):E.default.battery<=w.default.BATTERY_LOW_THRESHOLD_2?-2!==t&&(e?this._showBatteryTimer.onOrBefore(w.default.BATTERY_DELAY):2!==t&&this.setState({lowBatteryWarning:2})):t>-1&&E.default.battery<=w.default.BATTERY_LOW_THRESHOLD_1&&(e?this._showBatteryTimer.onOrBefore(w.default.BATTERY_DELAY):1!==t&&this.setState({lowBatteryWarning:1}))}},{key:"render",value:function(){var e=null;switch(H.default.displayInfo){case W.StreamInfo.OFFLINE:e=m.default.createElement(re,{key:"bbar"});break;case W.StreamInfo.OPENING:case W.StreamInfo.CONNECTING:e=m.default.createElement(ie,{key:"bbar"});break;case W.StreamInfo.NORMAL:break;case W.StreamInfo.RESUMING:case W.StreamInfo.TIMEOUT:var t=m.default.createElement(m.default.Fragment,null,l10n.t("make_sure_phone_active_internet_connection")," ",m.default.createElement(d,{action:f},l10n.t("learn_more")));e=m.default.createElement(s,{type:"phone",key:"bbar",title:l10n.t("phone_not_connected"),text:t})}if(!e&&this.state.lowBatteryWarning>0&&(e=m.default.createElement(s,{type:"battery",key:"bbar",title:l10n.t("phone_battery_low"),text:l10n.t("charge_phone_description"),dismissable:!0,onDismiss:this.dismissLowBatteryWarning})),!e&&H.default.needsUpdate){var n=m.default.createElement(d,null,l10n.t("click_to_update_whatsapp_web"));e=m.default.createElement(s,{type:"update",key:"bbar",title:l10n.t("update_available"),text:n,action:this.onReload})}if(e)this.state.showNotify&&this._showNotifyTimer.onOrBefore(0,!1);else if(this.state.showNotify){if(window.Notification&&this.state.notifyPermission===w.default.PERMISSION_DEFAULT){var a=m.default.createElement(d,null,l10n.t("enable_desktop_notifications"));e=m.default.createElement(s,{type:"notification",key:"bbar",title:l10n.t("get_notified_of_new_messages"),text:a,action:this.requestPermissions})}}else this._showNotifyTimer.onOrBefore(w.default.NOTIFICATION_PROMPT_DELAY,!0);return m.default.createElement(D.default,{transitionName:"butterbar",className:ne.default.container},e)}}]),t}(h.PureComponent);le.CONCERNS={stream:["displayInfo","needsUpdate"]},le.displayName="ButterBarClass";var se=(0,P.default)((0,G.default)((0,V.hoc)(le),le.CONCERNS));t.default=function(){return m.default.createElement(se,{stream:H.default})},s.displayName="BB",d.displayName="ActionLink"},cggajedfhg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("eeghcebdh"),d=a(f),p=n("ejegihaeh"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("eadfaddcj"),v=a(g),y=n("bjgiedaj"),_=a(y),E=n("fifhbjiec"),j=a(E),w=n("ccaaiecfib"),O=a(w),C=n("dhccihecch"),S=a(C),P=n("deabffecii"),M=a(P),T=n("cfegjiegcd"),k=a(T),N=n("bfejacaeaj"),I=a(N),R=n("ihfccfgdf"),A=a(R),D=n("dcjdgceiej"),x=a(D),L=n("cehjjfagii"),F=a(L),U=n("gaifbabbj"),B=n("dcbdjheea"),G=n("ejbdjaifi"),V=n("bgjddhffji"),W=n("bheafeifce"),H=n("iiaihjfbi"),Y=a(H),q=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.ProductCatalogSession=new M.default,a.launchProductView=function(e){if(e&&e.stopPropagation(),O.default.supportsFeature(O.default.F.CATALOG)){var t=a.props.msg;if(t){var n=t.businessOwnerJid&&(0,B.createWid)(t.businessOwnerJid);if(n){var r=h.default.get(n);if(r){var o=t.productId&&r.productCollection.get(t.productId),i=t.productId&&r.msgProductCollection.get(t.productId);if(o||i){var l=i;o&&o.t>=t.t&&(l=o,i&&r.msgProductCollection.remove(i)),l&&((0,V.logProductMsgClick)((0,W.unproxy)(l),a.ProductCatalogSession.toString()),b.default.openDrawerRight(c.createElement(k.default,{chat:t.chat,product:l,refreshCarousel:!0,sessionId:a.ProductCatalogSession.toString()}),"slide-left",a.context.uim))}}}}}},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){if(O.default.supportsFeature(O.default.F.CATALOG)){var e=this.props.msg;if(!(e.businessOwnerJid&&(0,B.createWid)(e.businessOwnerJid)))return;h.default.addMsgAsproduct((0,W.unproxy)(e))}}},{key:"renderProductInfo",value:function(){var e=this.props,t=e.msg,n=e.trusted,a=t.title,r=t.description,o=t.priceAmount1000,i=t.currencyCode,l=n?U.Configuration.TrustedConversation:U.Configuration.UntrustedConversation,s=l({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),u=o&&i?_.default.format(i,o):r,f=c.createElement(j.default,{direction:"inherit",selectable:!0,text:a,formatters:s,ellipsify:!0,className:d.default.title}),p=c.createElement(Y.default,{msg:t,className:d.default.subtitle},c.createElement(j.default,{direction:"inherit",selectable:!0,text:u,formatters:s,textLimit:v.default.MAX_PRODUCT_SUBTITLE_LENGTH}));return c.createElement("div",{className:d.default.productInfo,onClick:this.launchProductView},f,p)}},{key:"render",value:function(){if(!O.default.supportsFeature(O.default.F.CATALOG))return null;var e=this.props,t=e.displayAuthor,n=e.msg,a=!1!==t?!n.isSentByMe&&n.isGroupMsg:null,r=a?c.createElement("div",{className:d.default.author},c.createElement(F.default,{msg:n,contact:n.senderObj})):null,o=c.createElement(S.default,l({},this.props,{displayAuthor:!1,contentContainerClassName:d.default.productContainer,captionComponent:this.renderProductInfo(),thumbClassName:d.default.thumb,onThumbClick:this.launchProductView})),i=c.createElement(j.default,{className:d.default.productCta,onClick:this.launchProductView,text:l10n.t("product_message_view_product")});return c.createElement("div",{className:d.default.bubble},r,o,i)}}]),t}(c.Component);q.contextTypes={uim:I.default.instanceOf(x.default)},q.CONCERNS={msg:["businessOwnerJid","chat","chat","currencyCode","description","dir","id","isGroupMsg","isProductInquiry","isSentByMe","mediaData","priceAmount1000","productId","productImageCount","retailerId","rtl","senderObj","t","title","url"]},q.displayName="Product",t.default=(0,A.default)((0,G.hoc)(q),q.CONCERNS)},cggchheahd:function(e,t){e.exports={muted:"wcUYd",container:"_38w5G",fullscreen:"blq_W",youtubeContainer:"_7KBPw",blockYoutube:"_25JqX",videoControlsWrapper:"_3Tkpy",strippedVideoControls:"_2wzgf",opacityTransition:"_1Cx2d",widgetsWrapper:"Xv_gE",dimmed:"_2oMEO"}},cgjafchgje:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.containerClassName,n=e.onClick,a=e.onFocusPrev,r=e.onFocusNext,o=e.onRef;return c.createElement("div",{className:(0,d.default)(t,j.default.emptyContainer),onClick:n},c.createElement("div",{className:j.default.emptySticker,style:{backgroundImage:"url("+O.default+")"}}),c.createElement(b.default,{handlers:{"shift+tab":a,tab:r},onRef:o},c.createElement("p",{className:j.default.emptyText},l10n.t("sticker_panel_empty"))))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.StickerPanelEmpty=l;var u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("ecjegjabde"),h=a(p),m=n("dhfbfehaef"),b=a(m),g=n("iagahbjff"),v=a(g),y=n("dbhijaface"),_=a(y),E=n("dfhebgbhja"),j=a(E),w=n("cjfhhbcfdh"),O=a(w),C=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleGridFocusPrev=function(){a.props.onFocusPrev&&a.props.onFocusPrev()},a._setRefScrollGrid=function(e){a._refScrollGrid=e},i=n,o(a,i)}return i(t,e),s(t,[{key:"focus",value:function(){this._refScrollGrid&&this._refScrollGrid.focus()}},{key:"_getContent",value:function(){return this.props.recentStickersEnabled&&0===this.props.selectedStickerPackIndex?c.createElement(v.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker}):c.createElement(_.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker,selectedStickerPackIndex:this.props.selectedStickerPackIndex-this.props.specialItemsCount})}},{key:"render",value:function(){return c.createElement(b.default,{className:j.default.container,handlers:(0,h.default)({"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},this._getContent())}}]),t}(c.PureComponent);C.displayName="StickerPanelContent",t.default=C,l.displayName="StickerPanelEmpty"},cgjcdbggeb:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return u((0,P.unproxy)(e),t)}function i(e,t){return c((0,P.unproxy)(e),t)}function l(e,t){return f((0,P.unproxy)(e),t)}function s(e,t){return d((0,P.unproxy)(e),t)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,C.genId)(),a=e.groupMetadata.participants;if(h.default.some(t,function(e){return a.get(e.id)}))return j.default.error("models:groupMetadata:participantCollection:addParticipants already a group member")(),Promise.reject(new b.ActionError);if(!a.canAdd())return Promise.reject(new b.ActionError);var r=(0,S.sendAddParticipants)(e.id,t.map(function(e){return e.id})),o=t.map(function(e){return e.formattedShortName}).join(l10n.t("enumeration_comma")),i=new C.ActionType(l10n.t("action_participant_adding",{participantNames:o,_plural:t.length})),l=r.then(function(e){a.sendForNeededAddRequest(e);var n=v.formatResult(e,v.addSuccessString,v.addFailedString,v.addPartialFailedString,t);return new C.ActionType(n)}).catch(function(a){return j.default.error("models:groupMetadata:participantCollection:addParticipants dropped")(a),new C.ActionType(l10n.t("action_participant_add_failed",{participantNames:o,_plural:t.length}),l10n.t("action_try_again"),function(){return u(e,t,n)})});return _.default.openToast(O.default.createElement(C.ActionToast,{id:n,initialAction:i,pendingAction:l})),r.then(function(){})}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,C.genId)(),a=e.groupMetadata.participants;if(h.default.some(t,function(e){return!a.canRemove(e)}))return Promise.reject(new b.ActionError);var r=(0,S.sendRemoveParticipants)(e.id,t.map(function(e){return e.id})),o=t.map(function(e){return e.contact.formattedShortName}).join(l10n.t("enumeration_comma")),i=new C.ActionType(l10n.t("action_participant_removing",{participantNames:o,_plural:t.length})),l=r.then(function(e){var n=v.formatRemoveResult(e,t.map(function(e){return e.contact}));return new C.ActionType(n)}).catch(function(a){return j.default.error("models:groupMetadata:participantCollection:removeParticipants dropped")(a),new C.ActionType(l10n.t("action_participant_remove_failed",{participantNames:o,_plural:t.length}),l10n.t("action_try_again"),function(){return c(e,t,n)})});return _.default.openToast(O.default.createElement(C.ActionToast,{id:n,initialAction:i,pendingAction:l})),r.then(function(){})}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,C.genId)(),a=e.groupMetadata.participants;if(h.default.some(t,function(e){return!a.canPromote(e)}))return Promise.reject(new b.ActionError);var r=(0,S.sendPromoteParticipants)(e.id,t.map(function(e){return e.id})),o=t.map(function(e){return e.contact.formattedShortName}).join(l10n.t("enumeration_comma")),i=new C.ActionType(l10n.t("action_participant_promoting",{participantNames:o,_plural:t.length})),l=r.then(function(e){var n=v.formatResult(e,v.promoteSuccessString,v.promoteFailedString,v.promotePartialFailedString,t.map(function(e){return e.contact}));return new C.ActionType(n)}).catch(function(a){return j.default.error("models:groupMetadata:participantCollection:removeParticipants dropped")(a),new C.ActionType(l10n.t("action_participant_promote_failed",{participantNames:o,_plural:t.length}),l10n.t("action_try_again"),function(){return f(e,t,n)})});return _.default.openToast(O.default.createElement(C.ActionToast,{id:n,initialAction:i,pendingAction:l})),r.then(function(){})}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,C.genId)(),a=e.groupMetadata.participants;if(h.default.some(t,function(e){return!a.canDemote(e)}))return Promise.reject(new b.ActionError);var r=(0,S.sendDemoteParticipants)(e.id,t.map(function(e){return e.id})),o=t.map(function(e){return e.contact.formattedShortName}).join(l10n.t("enumeration_comma")),i=new C.ActionType(l10n.t("action_participant_demoting",{participantNames:o,_plural:t.length})),l=r.then(function(e){var n=v.formatResult(e,v.demoteSuccessString,v.demoteFailedString,v.demotePartialFailedString,t.map(function(e){return e.contact}));return new C.ActionType(n)}).catch(function(a){return j.default.error("models:groupMetadata:participantCollection:demoteParticipants dropped")(a),new C.ActionType(l10n.t("action_participant_demote_failed",{participantNames:o,_plural:t.length}),l10n.t("action_try_again"),function(){return d(e,t,n)})});return _.default.openToast(O.default.createElement(C.ActionToast,{id:n,initialAction:i,pendingAction:l})),r.then(function(){})}Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=o,t.removeParticipants=i,t.promoteParticipants=l,t.demoteParticipants=s;var p=n("hbhijdici"),h=r(p),m=n("cajijabhgb"),b=a(m),g=n("gcehifbbc"),v=a(g),y=n("gbfffciea"),_=r(y),E=n("bdiiahhjbe"),j=r(E),w=n("ddhijeejag"),O=r(w),C=n("ccihhdchab"),S=n("bceahhbbcj"),P=n("bheafeifce")},cgjijjgidi:function(e,t){e.exports={muted:"_1wi1c",hidden:"_3hTQn",container:"_34tCm"}},chaebfegeh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){try{return(0,s.createWid)(e)}catch(t){return e}}function o(e){var t="",n="",a=e.singleByte,o=e.doubleByte,i=e.nibbleDecode;this.readNode=function(e){var n=e.readByte(),a=this.readListSize(e,n);if((n=e.readByte())===f.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var r=this.readString(e,n);if(0===a||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var o=a-2+a%2>>1;t=r;var i=this.readAttributes(e,o);if(a%2==1)return[r,i,void 0];var l=void 0;if(n=e.readByte(),this.isListTag(n))l=this.readList(e,n);else if(n===f.BINARY_8){var s=e.readByte();l=e.readBytes(s)}else if(n===f.BINARY_20){var u=e.readInt20();l=e.readBytes(u)}else if(n===f.BINARY_32){var c=e.readInt32();l=e.readBytes(c)}else l=this.readString(e,n);return[r,i,l]},this.isListTag=function(e){return e===f.LIST_EMPTY||e===f.LIST_8||e===f.LIST_16},this.readListSize=function(e,t){if(t===f.LIST_EMPTY)return 0;if(t===f.LIST_8)return e.readByte();if(t===f.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,a){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=void 0;if(-1===a)throw new Error("invalid start token readString"+e.debugInfo());if(a>2&&a<236){var s=this.getToken(a);return"s.whatsapp.net"===s&&(s="c.us"),s}switch(a){case f.DICTIONARY_0:case f.DICTIONARY_1:case f.DICTIONARY_2:case f.DICTIONARY_3:var u=e.readByte();return this.getTokenDouble(a-f.DICTIONARY_0,u);case f.LIST_EMPTY:return;case f.BINARY_8:return i=e.readString(e.readByte()),this.isAttr&&o&&l.default.isWid(i)?r(i):i;case f.BINARY_20:return i=e.readString(e.readInt20()),this.isAttr&&o&&l.default.isWid(i)?r(i):i;case f.BINARY_32:return i=e.readString(e.readInt32()),this.isAttr&&o&&l.default.isWid(i)?r(i):i;case f.JID_PAIR:var d=this.readString(e,e.readByte()),p=this.readString(e,e.readByte());if(void 0!==d&&void 0!==p){var h=d+"@"+p;return o&&l.default.isWid(h)?r(h):h}if(void 0!==p)return p;throw new Error("invalid jid "+d+","+p+" "+e.debugInfo());case f.NIBBLE_8:case f.HEX_8:return this.readPacked8(a,e);default:throw c.default.infoVerbose("\n                Unexpected token in binary protocol read. Token : "+a+"\n                lastTag: "+t+"\n                lastAttributeKey: "+n+"\n                "+e.debugInfoWithPadding()+"\n              ")(),new Error("invalid string "+a)}},this.getToken=function(e){var t=void 0;if(e>=0&&e<a.length&&(t=a[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var n=void 0,a=256*e+t;if(a>=0&&a<o.length&&(n=o[a]),void 0===n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){this.isAttr=!0;for(var a=void 0,r=void 0,o=t?{}:void 0,i=0;i<t;i++)a=this.readString(e,e.readByte()),n=a,r=this.readString(e,e.readByte(),l.default.canBeWid(a)),o[a]=r;return this.isAttr=!1,o},this.readList=function(e,t){for(var n=[],a=this.readListSize(e,t),r=0;r<a;r++)n.push(this.readNode(e));return n},this.readPacked8=function(e,t){for(var n=t.readByte(),a=n>>7,r=127&n,o="",i=0;i<r;i++){var l=t.readByte();o+=this.unpackByte(e,(240&l)>>4),o+=this.unpackByte(e,15&l)}return a&&(o=o.substring(0,o.length-1)),o},this.unpackByte=function(e,t){switch(e){case f.NIBBLE_8:return this.unpackNibble(t);case f.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!i.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return i[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}var i=n("jccfhaecf"),l=a(i),s=n("dcbdjheea"),u=n("bdiiahhjbe"),c=a(u),f=n("ccebfaijda");e.exports=o},chbfbiahhb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("dfbccdiiii"),d=a(f),p=n("bfdcadbbif"),h=a(p),m=n("ceffhbhahb"),b=a(m),g=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("div",{className:(0,b.default)(d.default.button,r({},d.default.fullscreen,this.props.isFullscreenMode)),onClick:this.props.onClick},this.props.isFullscreenMode?c.default.createElement(h.default,{name:"video-exit-fullscreen"}):c.default.createElement(h.default,{name:"video-fullscreen"}))}}]),t}(u.PureComponent);g.displayName="FullscreenToogleButton",t.default=g},chbgjdggfh:function(e,t){e.exports={muted:"_1Jc4O",chat:"_2UaNq",chatAvatar:"_3vpWv",chatBody:"_2WP9Q",chatDetails:"_2-LYg",chatMain:"KgevS",noDelete:"_221a1",chatSecondary:"xD91K",chatTitle:"_3H4MS",chatStatus:"_2Bw3Q",chatMeta:"_0LqQ",unread:"_2ko65",active:"_3mMX1",chatDrag:"_3w49t",idle:"_1k-OW",themeMessage:"_2J5yE",themeSearch:"_3sA1g",themeDrawerList:"_2nQ7u",themeStatus:"_2t0gn",themeCheckbox:"_3UYKy",themeIdentity:"_3fAgu",themePlain:"_3Ff9z",themeListNames:"_27Ppf",member:"_30Q1W",themeLabel:"_2ZcHO",groupV4Invite:"_1tsvT",product:"_2f0ay",media:"ROigK"}},chccggajbc:function(e,t){e.exports={muted:"o_Fi2",statusLoading:"_2kE6F"}},chcdheijc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bcbahjefec"),f=a(c),d=n("hbciiabei"),p=a(d),h=n("dggfjficbb"),m=a(h),b=n("fidbefhib"),g=a(b),v=n("bijffg"),y=a(v),_=n("gbfffciea"),E=a(_),j=n("cahigbeecb"),w=a(j),O=n("eadfaddcj"),C=a(O),S=n("biddiiafgd"),P=a(S),M=n("cfhgffgbcb"),T=a(M),k=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onDeleteLabel=function(e){e.forEach(function(e){var t=e.id;y.default.deleteLabel(t)})},a.onManageLabels=function(e){E.default.openModal(u.createElement(T.default,{modelsToUpdate:e}))},a.onEditLabel=function(e){E.default.openModal(u.createElement(g.default,{labelId:e,onUpdateLabel:a.onUpdateLabel,onCancel:E.default.closeModal()}))},a.onLabelClick=function(e){a.push(u.createElement(m.default,{openLabelColorDrawer:a.openLabelColorDrawer,labelId:e,onManageLabels:a.onManageLabels,onClose:a._pop,onRemoveLabel:a.onRemoveLabel,onEditLabel:a.onEditLabel}))},a.openAddLabel=function(){y.default.toArray().length>=C.default.MAX_SMB_LABEL_COUNT?E.default.openModal(u.createElement(P.default,{okText:l10n.t("ok_got_it"),onOK:function(){return E.default.closeModal()}},l10n.t("you_cant_add_more_than_x_labels",{count:C.default.MAX_SMB_LABEL_COUNT}))):E.default.openModal(u.createElement(g.default,{onAddLabel:a.onAddLabel,onCancel:E.default.closeModal()}))},a.onUpdateLabel=function(e,t,n){y.default.updateLabel(e,t,n)},a.openLabelColorDrawer=function(e,t){a.push(u.createElement(w.default,{labelId:e,onClose:a._pop,onUpdateColor:a.onUpdateLabel,currentColor:t}))},a._pop=function(){a.pop()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.push(u.createElement(p.default,{onDeleteLabel:this.onDeleteLabel,onLabelClick:this.onLabelClick,onClose:this._pop,openAddLabel:this.openAddLabel}))}},{key:"onAddLabel",value:function(e,t){y.default.addNewLabel(e,t)}},{key:"onRemoveLabel",value:function(e,t){var n=[{id:e,type:"remove"}];y.default.addOrRemoveLabels(n,t)}}]),t}(f.default);t.default=k},chdfbgffgh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("cegfhjajbg"),d=a(f),p=n("dbdfbgehgj"),h=a(p),m=n("iaibjaeb"),b=a(m),g=n("hdccjfbbg"),v=a(g),y=n("dhfbfehaef"),_=a(y),E=n("bbhhbdicgc"),j=a(E),w=n("cbgeijgefb"),O=a(w),C=n("dcaibchbg"),S=a(C),P=n("bcfjfagjhe"),M=a(P),T=n("bgddggdhc"),k=0,N=1,I=2,R=3,A=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onFocusGain=function(e){e.target===(0,T.forbiddenAssertDOMNode)(a)&&(a.selection.index<0?a.focusFirst():a.selection.reset(!0))},a.focusFirst=function(){a.selection.setFirst(!0)},a.onNextContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1?a.selection.setPrev(!0):(a.selection.unset(),a.props.onFocusSearch(e))},a.renderContact=function(e,t){var n=void 0;return e.isBlocked()&&(n=l10n.t("contact_list_blocked_contact")),c.createElement(v.default,{active:a.selection,contact:e,onClick:a.props.onClick,secondary:n,frequent:t,waitIdle:!0})},a.renderItem=function(e){switch(e.type){case k:return c.createElement(O.default,{key:"frequent-contacts-header",header:l10n.t("web_frequent_contacts")});case R:var t=e.data,n=e.frequent;return a.renderChat(t,n);case I:var r=e.data,o=e.frequent;return a.renderContact(r,o);case N:var i=e.data,l=e.separator;return c.createElement("div",{className:M.default.header},l?c.createElement(d.default,{key:"separator-"+i}):null,c.createElement(O.default,{header:i}));default:throw new E.UnknownDataError(e)}},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.selection=new S.default(this.getSelectionList(this.props)),this.frequentContacts=this.props.frequentContacts||[]}},{key:"componentWillReceiveProps",value:function(e){this.selection.init(this.getSelectionList(e)),this.frequentContacts=e.frequentContacts||[]}},{key:"getSelectionList",value:function(e){var t=e.contacts,n=e.frequentContacts,a=n?n.map(function(e){return g.FREQUENT_PREFIX+e.id.toString()}):[],r=[],o=[];return t.forEach(function(e){e.isGroup?o.push(e.id.toString()):r.push(e.id.toString())}),a.concat(r).concat(o)}},{key:"renderChat",value:function(e,t){return c.createElement(b.default,{active:this.selection,chat:e,mode:m.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}},{key:"getFrequentContactsData",value:function(){var e=this,t=[];return this.frequentContacts.forEach(function(n){var a=e.getContactDataItem(n,!0);a&&t.push(a)}),t}},{key:"getContactDataItem",value:function(e,t){var n=t?g.FREQUENT_PREFIX:"",a=n+e.id.toString();if(e.isGroup){var r=h.default.get(e.id);return r?{key:a,data:r,type:R,frequent:t}:null}return{key:a,data:e,type:I,frequent:t}}},{key:"getData",value:function(){var e=[],t=[],n=[];this.frequentContacts&&this.frequentContacts.length&&(e.push({key:"frequent-contacts-header",type:k}),e.push.apply(e,r(this.getFrequentContactsData()))),this.props.contacts.forEach(function(e){e.isGroup?n.push(e):t.push(e)});var a=this.getDataFromContacts(t),o=this.getDataFromContacts(n);if(this.props.showPersonGroupDivisionHeader&&a.length>0){var i=l10n.t("web_contacts");e.push({key:"header-"+i,data:i,separator:!0,type:N})}if(e.push.apply(e,r(a)),this.props.showPersonGroupDivisionHeader&&o.length>0){var l=l10n.t("web_groups");e.push({key:"header-"+l,data:l,separator:!0,type:N})}return e.push.apply(e,r(o)),e}},{key:"getDataFromContacts",value:function(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",n=[],a=e.length>10,r="XXX",o=0;o<e.length;o++){var i=e[o];if(a&&i.header){var l=i.header;if(l!==r){var s=o<e.length-1&&l!==e[o+1].header;n.push({key:"header-"+t+"-"+l,data:l,separator:s,type:N}),r=l}}var u=this.getContactDataItem(i);u&&n.push(u)}return n}},{key:"render",value:function(){var e={down:this.onNextContact,up:this.onPrevContact};return c.createElement(_.default,{handlers:e,onFocus:this.onFocusGain,"data-tab":3},c.createElement(j.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController}))}}]),t}(c.PureComponent);A.displayName="ContactList",t.default=A},chdggedfah:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.msg,n=e.displayAuthor;e.displayType;return i.createElement(p.default,{msg:t,displayAuthor:n},i.createElement(f.default,{iconName:"unknown",msg:t},s.default.msgText(t)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("dgjddffcfg"),s=a(l),u=n("eadfaddcj"),c=(a(u),n("cfiighfhhg")),f=a(c),d=n("dbabefhajh"),p=a(d);r.displayName="TemplateMessage"},chdhhgfaj:function(e,t){e.exports={muted:"_4renq",container:"_15Ywg",wrapper:"fsf95",innerWrapper:"_1Awt5",starIcon:"_11MuB",thumb:"K-kNO",blur:"_2sb6A"}},chegeejfcg:function(e,t){e.exports={"-emoji-width":"44px",emojiWidth:"44px",muted:"_3Rs2r",panel:"_2JiCb"}},chfehjfdj:function(e,t,n){"use strict";function a(e,t){if("sticker"===t.tag(e)){var n=t.attr("filehash",e);if(!n)return void o.default.error("sticker:parse missing filehash field")();var a={id:n,clientUrl:t.attr("url",e),directPath:t.attr("direct_path",e),mediaKey:t.attr("media_key",e),filehash:n,uploadhash:t.attr("enc_filehash",e),mimetype:t.attr("mimetype",e),width:parseInt(t.attr("width",e),10),height:parseInt(t.attr("height",e),10),size:parseInt(t.attr("size",e),10)};return(!a.mimetype||Number.isNaN(a.width)||Number.isNaN(a.height)||Number.isNaN(a.size))&&o.default.error("sticker:parse missing preferred fields: ")(a),a}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("bdiiahhjbe"),o=function(e){return e&&e.__esModule?e:{default:e}}(r)},chgafjbahd:function(e,t){e.exports={muted:"wlceo",container:"Drque",quotedMsg:"_2HTIU",statusV3QuotedMsg:"_7Q1c5",composeBoxQuotedMsg:"_2I-yY",hover:"_1W7nH",colorBar:"_1dvF4",msgBody:"_3LVMN",msgText:"SdGy6",quotedPaymentMsg:"zPdFn"}},chhcagejdh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("dfgeejdaib"),h=a(p),m=n("cjiiehdbge"),b=a(m),g=n("ccgdfaeibd"),v=n("bfdcadbbif"),y=a(v),_=n("eceadcicaf"),E=a(_),j=n("ejbdjaifi"),w=n("cdcbgdeab"),O=a(w),C=n("hbhijdici"),S=a(C),P=n("dhfbfehaef"),M=a(P),T=n("ddajbaceej"),k=n("bgddggdhc"),N={RIGHT:"RIGHT",LEFT:"LEFT"},I=4,R=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={curIndex:0,direction:N.RIGHT},a.msgLength=0,a.starredPreviewRef={},a.selectionIndex=0,a.onSlideLeft=function(){return a.hasLeft()?new Promise(function(e){a.setState({curIndex:a.state.curIndex-1,direction:N.LEFT},function(){e(!0)})}):Promise.resolve(!1)},a.onSlideRight=function(){return a.hasRight()?new Promise(function(e){a.setState({curIndex:a.state.curIndex+1,direction:N.RIGHT},function(){e(!0)})}):Promise.resolve(!1)},a.setRef=function(e){a._ref=e},a.hasRight=function(){return a.state.curIndex+I<a.msgLength},a.hasLeft=function(){return a.state.curIndex>0},a.handleLeftArrow=function(e){a.onSlideLeft().then(function(t){if(a.selectionIndex=t?a.selectionIndex:a.selectionIndex-1,a.selectionIndex<0)return void a.stopEvent(e);a.stopEvent(e),a.focusStarredGif()})},a.handleRightArrow=function(e){a.onSlideRight().then(function(t){a.selectionIndex=t?a.selectionIndex-1:a.selectionIndex;var n=Object.keys(a.starredPreviewRef).length;if(a.selectionIndex<3&&a.selectionIndex<n-1)a.selectionIndex=a.selectionIndex+1;else{if(!a.hasRight())return void a.stopEvent(e);a.selectionIndex=3}a.stopEvent(e),a.focusStarredGif()})},a.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},a.handleEnter=function(e){a.stopEvent(e),a.starredPreviewRef[a.selectionIndex].component._gifRef.handleClick()},a.focusStarredGif=function(){var e=(0,k.forbiddenAssertDOMNode)(a.starredPreviewRef[a.selectionIndex]);e&&(0,T.focus)(e)},a.initSelection=function(){a.selectionIndex=0,a.focusStarredGif()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this,t=h.default;this.props.listeners.add(t,"add remove reset",function(){e.forceUpdate()}),t.isSynced||t.sync()}},{key:"getClientHeight",value:function(){return this._ref&&this._ref.clientHeight}},{key:"hasGifs",value:function(){return Boolean(this._ref&&this._ref.childNodes.length)}},{key:"isStarredGif",value:function(e){return!!e&&(!!this._ref&&this._ref.contains(e))}},{key:"render",value:function(){var e=this,t={left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},n=S.default.uniqBy(h.default.toArray(),"filehash");if(this.msgLength=n.length,0===n.length)return c.createElement("div",null);if(n.length<=I){var a=0,o=n.map(function(t,n){return a+=Math.round(t.mediaData.aspectRatio*g.TARGET_GIF_HEIGHT),c.createElement(b.default,{key:t.filehash,ref:function(t){return e.starredPreviewRef[n]=t},msg:t,onSend:e.props.onSend})});return a+=(o.length-1)*g.GAP_SIZE,c.createElement(M.default,{className:O.default.section,handlers:t},c.createElement("div",{ref:this.setRef,className:O.default.searchRow,style:{maxWidth:a+"px"}},o))}var i=this.hasLeft(),l=this.hasRight(),s=i?this.onSlideLeft:null,u=l?this.onSlideRight:null,f=(0,d.default)(O.default.pager,O.default.pagerLeft,r({},O.default.pagerDisabled,!i)),p=(0,d.default)(O.default.pager,O.default.pagerRight,r({},O.default.pagerDisabled,!l)),m=c.createElement("div",{className:f,onClick:s},c.createElement(y.default,{name:"chevron-left-alt"})),v=c.createElement("div",{className:p,onClick:u},c.createElement(y.default,{name:"chevron-right-alt"})),_=n.slice(this.state.curIndex,this.state.curIndex+I).map(function(t,n){return c.createElement(b.default,{key:t.filehash,ref:function(t){return e.starredPreviewRef[n]=t},msg:t,onSend:e.props.onSend})});return c.createElement("div",{className:O.default.section},c.createElement(M.default,{onRef:this.setRef,className:O.default.searchRow,handlers:t},m,c.createElement("div",{className:O.default.body},_),v))}}]),t}(c.Component);R.displayName="StarredGifs";var A=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getClientHeight",value:function(){return this.getComponent().getClientHeight()}},{key:"hasGifs",value:function(){return this.getComponent().hasGifs()}},{key:"isStarredGif",value:function(e){return this.getComponent().isStarredGif(e)}}]),t}((0,E.default)((0,j.hoc)(R)));t.default=A},chjchbjied:function(e,t){e.exports={muted:"_1AsLo",quote:"_2FaAB",hasAuthor:"woe4f",forwarded:"_3mOLI",hasSuspiciousLinks:"_2UjxI",more:"_2VdJh",linkPreview:"NB3Gq",meta:"_1sfgn",title:"KfTPt",footer:"_3Pggp"}},chjdbchg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("cajijabhgb"),d=r(f),p=n("dhbceejbjg"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("dhhfaeacef"),v=a(g),y=n("djcchigfih"),_=a(y),E=n("djbhiedbef"),j=a(E),w=n("cabhjigfgc"),O=a(w),C=n("dajffajabh"),S=a(C),P=n("fifhbjiec"),M=a(P),T=n("bhedcifgbg"),k=a(T),N=n("fffdgbfji"),I=a(N),R=n("bjbedjfe"),A=a(R),D=n("cccgaejadd"),x=a(D),L=n("ihfccfgdf"),F=a(L),U=n("cehhcbdgih"),B=a(U),G=n("bfdcadbbif"),V=a(G),W=n("bfjajhbdf"),H=a(W),Y=n("ejbdjaifi"),q=n("cicgeajfge"),K=n("bejbgaghc"),z=n("eagfdbhhhh"),Q={LOADING:0,REVOKING:1,SUCCESS:2},X=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={state:Q.LOADING},a.getErrorMessageFromStatusCode=function(e){switch(e){case 401:return I.default.t("group_invite_query_401");case 403:return I.default.t("group_invite_query_403");case 404:return I.default.t("group_invite_query_404");default:return I.default.t("group_invite_query_406")}},a.handleLoadingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),b.default.openToast(c.createElement(H.default,{msg:t,id:(0,W.genId)()}))},a.handleRevokeGroupInvite=function(){b.default.openModal(c.createElement(k.default,{pushTransition:"none",popTransition:"none",chat:a.props.chat,onConfirm:a.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},a.handleRevokingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),b.default.openToast(c.createElement(H.default,{msg:t,id:(0,W.genId)()}))},a.handleConfirmRevokeGroupInvite=function(){a.setState({state:Q.REVOKING});var e=(0,K.revokeGroupInvite)(a.props.groupMetadata);Promise.delay(500).then(function(){return e}).checkpoint(a.props.rejectOnUnmount()).then(function(){b.default.openToast(c.createElement(H.default,{msg:I.default.t("group_invite_revoke_success"),id:(0,W.genId)()})),a.setState({state:Q.SUCCESS})}).catch(d.ServerStatusCodeError,function(e){a.handleRevokingErrorStatusCode(e.code)}).catch(d.Unmount,function(){})},a.handleSendGroupInviteLink=function(){b.default.openModal(c.createElement(x.default,{chat:a.props.chat,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})},a.handleClickGroupInviteLinkCapture=function(e){e.preventDefault(),e.stopPropagation()},a.handleCopyLink=function(){window.getSelection().removeAllRanges();var e=document.querySelector("#group-invite-link-anchor"),t=document.createRange();e&&t.selectNode(e),window.getSelection().addRange(t);var n=void 0;try{n=document.execCommand("copy"),window.getSelection().removeAllRanges()}catch(e){n=!1}n?b.default.openToast(c.createElement(H.default,{msg:I.default.t("group_invite_link_copy_success"),id:(0,W.genId)()})):b.default.openToast(c.createElement(H.default,{msg:I.default.t("group_invite_link_copy_failed"),id:(0,W.genId)()}))},a.renderDrawerBody=function(){var e=a.props.groupMetadata,t=void 0;if(a.state.state===Q.LOADING)t=c.createElement(q.LoadingWithText,{text:I.default.t("group_invite_check_link")});else if(a.state.state===Q.REVOKING)t=c.createElement(q.LoadingWithText,{text:I.default.t("group_invite_revoke_in_progress",{groupName:a.props.chat.contact.name})});else{var n=e.groupInviteLink,r=null;document.queryCommandSupported("copy")&&(r=c.createElement(O.default,{a8nText:"li-copy-link",icon:c.createElement(V.default,{name:"copy",className:B.default.icon}),onClick:a.handleCopyLink},I.default.t("group_invite_drawer_copy_link")));var o=c.createElement(v.default,{id:a.props.chat.id,size:82,quality:v.default.Quality.HIGH}),i=c.createElement("span",{className:B.default.linkContainer},c.createElement(z.SelectableLink,{id:"group-invite-link-anchor",href:n,selectable:!0},n));t=c.createElement(j.default,null,c.createElement(h.default,{image:o,primary:c.createElement(M.default,{text:a.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:i}),c.createElement("div",{className:B.default.descContainer},I.default.t("group_invite_link_description")),c.createElement(O.default,{a8nText:"li-share-link",icon:c.createElement(V.default,{name:"forward",className:B.default.icon}),onClick:a.handleSendGroupInviteLink},I.default.t("group_invite_drawer_send_link")),r,c.createElement(O.default,{a8nText:"li-revoke-link",icon:c.createElement(V.default,{name:"revoke",className:B.default.icon}),onClick:a.handleRevokeGroupInvite},I.default.t("group_invite_drawer_revoke_link")))}return t},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;(0,K.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then(function(){e.setState({state:Q.SUCCESS})}).catch(d.ServerStatusCodeError,function(t){e.handleLoadingErrorStatusCode(t.code)}).catch(d.Unmount,function(){})}},{key:"render",value:function(){return c.createElement(_.default,null,c.createElement(S.default,{title:I.default.t("group_invite_link"),onBack:this.props.onBack,type:C.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}]),t}(c.Component);X.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]},X.displayName="GroupInviteLinkDrawer",t.default=(0,A.default)((0,F.default)((0,Y.hoc)(X),X.CONCERNS))},ciaidfgabf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=f.default.isRTL()?-1:1,n=-1===e.selectedTabIndex?-2:e.selectedTabIndex,a={width:100/e.numTabs+"%",transform:"translateX("+100*n*t+"%)"};return l.createElement("div",{className:(0,u.default)(p.default.menuTabsMarker,r({},p.default.hide,e.hide)),style:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("ceffhbhahb"),u=a(s),c=n("fffdgbfji"),f=a(c),d=n("bacfgbeffc"),p=a(d);o.displayName="MenuTabMarker"},ciajafaaie:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!i.default.supportsFeature(i.default.F.VIDEO_PLAYBACK_URL))return!1;if(e===s.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.VIDEO&&t){var n=d.default.hostname(t);if(n===c.default.HOSTNAME.INSTAGRAM||n===c.default.HOSTNAME.STREAMABLE||n===c.default.HOSTNAME.FACEBOOK)return!0}if(t)for(var a in l.URL_PATTERNS.ONLINE_VIDEO_URL)for(var r=l.URL_PATTERNS.ONLINE_VIDEO_URL[a],o=0;o<r.length;o++)if(r[o].test(t))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isParsableOnlineVideoURL=r;var o=n("ccaaiecfib"),i=a(o),l=n("cgecdbiihg"),s=n("bgiachiigg"),u=n("eadfaddcj"),c=a(u),f=n("edbaidcaf"),d=a(f)},cibcaiabfd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ceffhbhahb"),f=a(c),d=n("bdiiahhjbe"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=n("bfdcadbbif"),v=a(g),y=n("bdgdgicfaf"),_=a(y),E=n("eadfaddcj"),j=a(E),w=n("cicjibbhdb"),O=n("ccaaiecfib"),C=a(O),S=n("eceadcicaf"),P=a(S),M=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.updateAfterFeatureFlagChange=function(){a.forceUpdate()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(C.default,C.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}},{key:"render",value:function(){var e=this.props.msg,t=void 0;switch(e.type){case j.default.MSG_TYPE.VIDEO:case j.default.MSG_TYPE.AUDIO:case j.default.MSG_TYPE.VCARD:case j.default.MSG_TYPE.MULTI_VCARD:case j.default.MSG_TYPE.DOCUMENT:case j.default.MSG_TYPE.CIPHERTEXT:case j.default.MSG_TYPE.UNKNOWN:case j.default.MSG_TYPE.IMAGE:var n={video:"status-video",audio:"status-audio",vcard:"status-vcard",multi_vcard:"status-vcard",document:"status-document",ciphertext:"status-ciphertext",unknown:"status-unknown",image:"status-image"};t=e.isGif?"status-gif":n[e.type];break;case j.default.MSG_TYPE.PRODUCT:t=C.default.supportsFeature(C.default.F.CATALOG)?"business-description":"status-unknown";break;case j.default.MSG_TYPE.STICKER:t="status-sticker";break;case j.default.MSG_TYPE.CALL_LOG:switch(e.subtype){case"miss_video":case"miss_group_video":t="status-miss_video";break;default:t="status-miss"}break;case j.default.MSG_TYPE.PTT:t=4===e.ack?"status-ptt-blue":e.isSentByMe?"status-ptt-gray":"status-ptt-green";break;case j.default.MSG_TYPE.REVOKED:t="recalled-in";break;case j.default.MSG_TYPE.LOCATION:t=e.isLive?(0,w.liveLocationIcon)(!1):"status-location";break;case j.default.MSG_TYPE.GROUPS_V4_INVITE:t=C.default.supportsFeature(C.default.F.GROUPS_V_4_JOIN_PERMISSION)?"group":"status-unknown";break;case j.default.MSG_TYPE.PAYMENT:switch(e.subtype){case"send":t="status-document";break;case"ciphertext":t="status-ciphertext";break;case"futureproof":default:t="status-unknown"}break;case j.default.MSG_TYPE.TEMPLATE:switch(e.subtype){case"image":t="status-image";break;case"video":t="status-video";break;case"document":t="status-document";break;case"location":t="status-location";break;default:t="status-unknown"}break;default:t="status-unknown",p.default.log('chat:getClasses Invalid msg type:"'+e.type+'"')()}var a=(0,f.default)(_.default.symbol,t,e.isRevoked?null:_.default.margin);return u.createElement("div",{className:a},u.createElement(v.default,{name:t}))}}]),t}(u.PureComponent);M.CONCERNS={msg:["ack","isGif","isLive","type","subtype","isRevoked","isSentByMe"]},M.displayName="MsgSymbol",t.default=(0,P.default)((0,m.default)((0,b.hoc)(M),M.CONCERNS))},cicabfhdbb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){e&&(e.preventDefault(),e.stopPropagation())}Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiSuggestionsPanelComponent=t.EMOJI_WIDTH=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("hbhijdici"),c=a(u),f=n("gbfffciea"),d=a(f),p=n("djegeegcbf"),h=a(p),m=n("fifhbjiec"),b=a(m),g=n("bggjbiacd"),v=a(g),y=n("dfbhcehadj"),_=a(y),E=n("dhfbfehaef"),j=a(E),w=n("eceadcicaf"),O=a(w),C=n("bhhdeihhhf"),S=a(C),P=n("ddhijeejag"),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(P),T=n("bgddggdhc"),k=n("fbjjefaic"),N=a(k),I=n("ejbdjaifi"),R=n("caffijjhc"),A=a(R),D=n("dadidajbgf"),x=a(D),L=n("dcjdgceiej"),F=a(L),U=n("gaifbabbj"),B=n("dbgdaechch"),G=n("eecehffbj"),V=n("bfejacaeaj"),W=a(V),H=n("chegeejfcg"),Y=a(H),q=t.EMOJI_WIDTH=parseInt(Y.default["-emoji-width"].replace(/px$/,""),10),K=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={selectedIndex:0,skinTonePicker:null},a.emojiList=null,a.rowLength=0,a.windowResized=function(){var e=a.getEmojiRowLength();if(a.rowLength!==e){a.rowLength=e;var t=a.state.selectedIndex>=e?e-1:a.state.selectedIndex;a.setState({selectedIndex:t})}},a.onEmojiClick=function(e){if(l(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;if(t)if(h.default.skinToneEmojis[t]){var n=a.getEmojiVariant(t);n?a.onEmoji(n):a.onContextMenu(e)}else a.onEmoji(t)}},a.onEmojiMouseDown=function(e){if(l(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;t&&h.default.skinToneEmojis[t]&&a.startPickerTimer(e)}},a.onEmoji=function(e){a.props.onEmoji(e),a.releaseFocus()},a.releaseFocus=function(){a.props.onFocusRelease&&a.props.onFocusRelease()},a.getEmojiVariant=function(e){return h.default.skinToneEmojis[e]?_.default.getVariant(e):null},a.setEmojiVariant=function(e,t,n){l(e),a.onEmoji(n),_.default.setVariant(t,n);var r=a.context.uim;return r&&(r.pop(!1,!1),r.uie.requestDismiss()),!1},a.onContextMenu=function(e){if(l(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;t&&h.default.skinToneEmojis[t]&&a._onContextMenu(t,e.target)}},a._onContextMenu=function(e,t,n){a.clearPickerTimer();var r=h.default.skinToneEmojis[e],o=G.SKIN_TONE_VARIATIONS.map(function(t){var n=h.default.variantToUnicode(r,t);return M.createElement(S.default,{type:"emoji",key:n,a8n:"mi-emoji-variant",action:function(t){return a.setEmojiVariant(t,e,n)}},M.createElement(b.default,{text:n,formatters:U.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))});a.setState({skinTonePicker:{menu:o,anchor:t,type:"picker",dirX:B.DirX.RIGHT,dirY:B.DirY.TOP,horizontal:!0,autoFocus:n}},function(){var e=a.props.onSkinTonePicker;e&&e(!0)})},a.closeSkinTonePicker=function(){a.setState({skinTonePicker:null},function(){var e=a.props.onSkinTonePicker;e&&e(!1)})},a.clearPickerTimer=function(){a.pickerTimer&&(a.props.clearTimeout(a.pickerTimer),a.pickerTimer=null)},a.startPickerTimer=function(e){l(e),a.clearPickerTimer();var t=e.target;if(t instanceof HTMLElement){var n=t.dataset.unicode;a.pickerTimer=a.props.setTimeout(function(){a.props.listeners.addOnce(d.default,"window_click",l),a._onContextMenu(n,t)},250),a.props.listeners.addOnce(window,"mouseup",a.clearPickerTimer,!0)}},a.getEmojiRowLength=function(){var e=a.emojiPanel&&a.emojiPanel.offsetWidth;return e?Math.floor(e/q):8},a.onEmojiArrowLeft=function(e){a.onEmojiArrow(e,"left")},a.onEmojiArrowRight=function(e){a.onEmojiArrow(e,"right")},a.onEmojiArrow=function(e,t){if(l(e),e.target instanceof HTMLElement){var n=e.target.dataset.emojiIndex;if(n){n=Number(n);var r=a.props.emojiList,o=n;switch(t){case"left":n>0&&(o=n-1);break;case"right":if(n+1>=r.length)return;o=n+1}a.setState({selectedIndex:o})}}},a.renderEmojiList=function(e){var t=e,n=a.getEmojiRowLength();t&&t.length>n&&(t=t.slice(0,n));var r=c.default.map(t,function(e,t){var n=h.default.getUnicodeFromEmoji(e),r=a.getEmojiVariant(n),o=a.state.selectedIndex===t&&!a.state.skinTonePicker;return M.createElement(v.default,{element:"span",emoji:r||n,size:"large",key:n,"data-unicode":n,"data-variant":r,tabIndex:"-1","data-emoji-index":t,selected:o})});return M.createElement(j.default,{onMouseDown:a.onEmojiMouseDown,onClick:a.onEmojiClick,onContextMenu:a.onContextMenu},M.createElement("div",{className:Y.default.panel,ref:(0,I.GetRef)("emojis",a)},r))},a.onEmojiEnter=function(e){if(l(e),e.target instanceof HTMLElement){var t=e.target.dataset.emojiIndex;if(t&&a.props.emojiList){var n=a.props.emojiList[Number(t)],r=h.default.getUnicodeFromEmoji(n);a.keyboardSelectEmoji(e,r)}}},a.keyboardSelectEmoji=function(e,t){if(h.default.skinToneEmojis[t]){var n=a.getEmojiVariant(t);if(n)a.onEmoji(n);else{if(l(e),!(e.target instanceof HTMLElement))return;a._onContextMenu(t,e.target,!0)}}else a.onEmoji(t)},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=Math.min(this.state.selectedIndex,e.emojiList.length-1);this.setState({selectedIndex:t}),this.state.skinTonePicker&&this.closeSkinTonePicker()}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(_.default,"add remove change:variant",function(){return e.forceUpdate()});var t=this.props.debounce(this.windowResized,100);this.props.listeners.add(window,"resize",t),this.windowResized()}},{key:"getEmojiAtIndex",value:function(e){return e>=0&&e<this.props.emojiList.length?h.default.getUnicodeFromEmoji(this.props.emojiList[e]):null}},{key:"getEmojiElement",value:function(e){if(!(e<0)&&this.emojis){var t=(0,T.forbiddenAssertDOMNode)(this.emojis).children;if(!(e>=t.length))return t[e]}}},{key:"render",value:function(){var e=void 0;return this.state.skinTonePicker&&(e=M.createElement(A.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this.closeSkinTonePicker},M.createElement(x.default,{tooltip:this.state.skinTonePicker}))),M.createElement("div",{ref:(0,I.GetRef)("emojiPanel",this)},this.renderEmojiList(this.props.emojiList),e)}},{key:"moveSelectionLeft",value:function(){this.setState({selectedIndex:Math.max(this.state.selectedIndex-1,0)})}},{key:"moveSelectionRight",value:function(){this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.getEmojiRowLength()-1,this.props.emojiList.length-1)})}},{key:"pickSelectedEmoji",value:function(){var e=this.getEmojiAtIndex(this.state.selectedIndex);if(!e)return null;if(h.default.skinToneEmojis[e]){var t=this.getEmojiVariant(e);if(t)this.onEmoji(t);else{var n=this.getEmojiElement(this.state.selectedIndex);n&&this._onContextMenu(e,n,!0)}}else this.onEmoji(e)}}]),t}(M.Component);K.contextTypes={uim:W.default.instanceOf(F.default)},K.displayName="EmojiSuggestionsPanel";t.EmojiSuggestionsPanelComponent=K;t.default=(0,O.default)((0,N.default)((0,I.hoc)(K)))},cicgeajfge:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(){var e=n("cajbicccif");w.default.openDrawerLeft(u.createElement(e,null))}Object.defineProperty(t,"__esModule",{value:!0}),t.LazyLoadRetry=t.NoResultForLabel=t.LoadingWithText=t.Loading=t.ImageSearchEmpty=t.SearchingImages=t.BeforeImageSearch=t.DocMsgs=t.LinkMsgs=t.MediaMsgs=t.StarredMsgs=t.AllArchived=t.ListStatus=t.BeforeSearchMessages=t.ListGroups=t.ListChats=t.SearchMessagesUnavailable=t.SearchMessages=t.SearchGroups=t.SearchWithKeyword=t.SearchWithoutKeyword=t.SearchContacts=t.SearchingMessages=t.Searching=t.Search=t.Archived=t.Blocked=t.Empty=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("becfabjeeg"),p=a(d),h=n("effbcehec"),m=a(h),b=n("ceffhbhahb"),g=a(b),v=n("fifhbjiec"),y=a(v),_=n("bfdcadbbif"),E=a(_),j=n("gbfffciea"),w=a(j),O=n("dfbcaibdjh"),C=a(O),S=n("bijffg"),P=a(S),M=function(e){var t=e.a8nText,n=e.a8nTitle,a=e.children,i=e.className,s=e.icon,c=e.text,f=e.theme,d=e.title,p=o(e,["a8nText","a8nTitle","children","className","icon","text","theme","title"]),h=d?u.createElement("div",{"data-a8n":m.default.key(n),className:C.default.title},d):null,b=c?u.createElement("div",{"data-a8n":m.default.key(t),className:C.default.text},u.createElement(y.default,{text:c})):null,v=(0,g.default)(C.default.empty,i,r({},C.default.compact,"compact"===f));return u.createElement("div",l({className:v},p),s,h,b,a)};M.displayName="Empty",t.Empty=M,(t.Blocked=function(){var e=u.createElement("div",{className:C.default.icon},u.createElement(E.default,{name:"empty-blocked"}));return u.createElement(M,{icon:e,title:l10n.t("blocked_empty"),text:l10n.t("add_blocked_description"),a8nTitle:"blocked-empty",a8nText:"add-blocked-description"})}).displayName="Blocked",(t.Archived=function(){var e=u.createElement("div",{className:C.default.icon},u.createElement(E.default,{name:"empty-archived"}));return u.createElement(M,{icon:e,title:l10n.t("archived_empty"),a8nTitle:"archived-empty"})}).displayName="Archived",(t.Search=function(){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("search_no_chats_or_contacts"),a8nText:"search-no-chats-or-contacts"})}).displayName="Search",(t.Searching=function(){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("searching_chats_contacts_messages"),a8nText:"searching-chats-contacts-messages"})}).displayName="Searching",(t.SearchingMessages=function(){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("searching_messages"),a8nText:"searching-messages"})}).displayName="SearchingMessages",(t.SearchContacts=function(){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("search_no_contacts"),a8nText:"search-no-contacts"})}).displayName="SearchContacts",(t.SearchWithoutKeyword=function(){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("no_results"),a8nText:"search-no-results-without-keyword"})}).displayName="SearchWithoutKeyword",(t.SearchWithKeyword=function(e){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("search_no_results_for_keyword",{keyword:e}),a8nText:"search-no-results-without-keyword"})}).displayName="SearchWithKeyword",(t.SearchGroups=function(){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("search_no_groups"),a8nText:"search-no-groups"})}).displayName="SearchGroups",(t.SearchMessages=function(){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("search_no_messages"),a8nText:"search-no-messages"})}).displayName="SearchMessages",(t.SearchMessagesUnavailable=function(){return u.createElement(M,{className:C.default.emptyTop,text:l10n.t("search_results_unavailable"),a8nText:"search-results-unavailable"})}).displayName="SearchMessagesUnavailable",(t.ListChats=function(){return u.createElement(M,{text:l10n.t("no_chats"),a8nText:"no-chats"})}).displayName="ListChats",(t.ListGroups=function(){return u.createElement(M,{text:l10n.t("no_groups"),a8nText:"no-groups"})}).displayName="ListGroups",(t.BeforeSearchMessages=function(e,t){var n=t?l10n.t("chat_search_prompt",{chatName:e}):l10n.t("conversation_search_prompt",{chatName:e});return u.createElement(M,{className:C.default.emptyTop,text:n,a8nText:"chat-search-prompt"})}).displayName="BeforeSearchMessages",(t.ListStatus=function(){return u.createElement(M,null)}).displayName="ListStatus",(t.AllArchived=function(){var e=f.default.filter(function(e){return e.archive}).length;return u.createElement(M,{title:l10n.t("all_chats_archived"),a8nTitle:"all-chats-archived"},u.createElement("div",{"data-a8n":m.default.key("see-archived"),role:"button",onClick:i,className:C.default.action},l10n.t("see_archived",{count:e,_plural:e})))}).displayName="AllArchived",(t.StarredMsgs=function(){return u.createElement(M,{text:l10n.t("no_starred_messages"),a8nText:"no-starred-messages"})}).displayName="StarredMsgs",(t.MediaMsgs=function(){return u.createElement(M,{text:l10n.t("no_media"),a8nText:"no-media"})}).displayName="MediaMsgs",(t.LinkMsgs=function(){return u.createElement(M,{text:l10n.t("no_links"),a8nText:"no-links"})}).displayName="LinkMsgs",(t.DocMsgs=function(){return u.createElement(M,{text:l10n.t("no_docs"),a8nText:"no-docs"})}).displayName="DocMsgs",(t.BeforeImageSearch=function(){return u.createElement(M,{text:l10n.t("image_search_prompt"),a8nText:"image-search-prompt"})}).displayName="BeforeImageSearch",(t.SearchingImages=function(){return u.createElement(M,{text:l10n.t("searching_images"),a8nText:"searching-images"})}).displayName="SearchingImages",(t.ImageSearchEmpty=function(){return u.createElement(M,{text:l10n.t("image_search_no_results"),a8nText:"image-search-no-results"})}).displayName="ImageSearchEmpty",(t.Loading=function(){return u.createElement(M,null,u.createElement(p.default,{size:50,stroke:4}))}).displayName="Loading",(t.LoadingWithText=function(e){var t=e.text;return u.createElement(M,null,u.createElement("div",{className:C.default.spinner},u.createElement(p.default,{size:50,stroke:4})),u.createElement(y.default,{element:"div",className:C.default.text,text:t}))}).displayName="LoadingWithText",(t.NoResultForLabel=function(e){var t=e.labelId,n=P.default.assertGet(t);return u.createElement(M,null,u.createElement(y.default,{element:"div",className:C.default.text,text:l10n.t("no_result_found_for_label",{labelName:n.name})}))}).displayName="NoResultForLabel",(t.LazyLoadRetry=function(e){var t=e.className,n=e.onClick;return u.createElement(M,{className:t,onClick:n},u.createElement(E.default,{name:"live-location-refresh"}),u.createElement("div",null,l10n.t("retry")))}).displayName="LazyLoadRetry"},cicjcfabii:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=a(c),d=n("bfifafibjc"),p=a(d),h=n("cahfddcdga"),m=a(h),b=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a._setRefObserver=function(e){a._refObserver=e,a.props.onRef&&a.props.onRef(e)},a.getScrollTop=function(){var e=a._refObserver;if(e)return e.scrollTop},a.setScrollTop=function(e){var t=a._refObserver;t&&(t.scrollTop=e)},a._handleRegisterList=function(){var e=(0,m.default)(a._refObserver);a.props.flatListControllers.forEach(function(t){return t.triggerLayout({position:e.getBoundingClientRect(),width:e.clientWidth,height:e.clientHeight})})},a._handleScroll=function(e){var t=a.props,n=t.flatListControllers,r=t.onScroll;r&&r(e),n.forEach(function(e){return e.triggerScroll()})},a._handleResize=function(e){var t=a.props,n=t.flatListControllers,r=t.onLayout,o=(0,m.default)(a._refObserver),i=s({position:o.getBoundingClientRect()},e);n.forEach(function(e){return e.triggerLayout(i)}),r&&r(i)},r=n,i(a,r)}return l(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.props.flatListControllers.forEach(function(t){return t.registerContainer({getScrollTop:e.getScrollTop,setScrollTop:e.setScrollTop,onRegisterList:e._handleRegisterList})})}},{key:"componentWillUnmount",value:function(){this.props.flatListControllers.forEach(function(e){return e.unregisterContainer()})}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.flatListControllers,e.onScroll,e.onLayout,e.onRef,r(e,["children","flatListControllers","onScroll","onLayout","onRef"]));return f.default.createElement(p.default,s({},n,{onResize:this._handleResize,onScroll:this._handleScroll,onRef:this._setRefObserver}),t)}}]),t}(c.Component);b.displayName="FlatListContainer",t.default=b},cicjibbhdb:function(e,t,n){"use strict";function a(e){var t="live-location";e&&(t+="-active");var n=r();return n&&(t+="-"+n),t}function r(){switch(i.default.platform){case o.PLATFORMS.ANDROID:case o.PLATFORMS.SMBA:return"android";case o.PLATFORMS.IPHONE:case o.PLATFORMS.SMBI:case o.PLATFORMS.IPAD:case o.PLATFORMS.IPOD:return"iphone";case o.PLATFORMS.WP7:return"wp";default:return""}}Object.defineProperty(t,"__esModule",{value:!0}),t.liveLocationIcon=a;var o=n("bjigbaghc"),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},ciddcjeaij:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("hbhijdici"),u=a(s),c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("chcadgfgad"),p=a(d),h=n("djcchigfih"),m=a(h),b=n("dajffajabh"),g=a(b),v=n("djbhiedbef"),y=a(v),_=n("cdbcigcahd"),E=a(_),j=n("dcbdjheea"),w=n("djbfhebjhe"),O=a(w),C=n("cdjajhiedh"),S=a(C),P=n("cgfjebhhej"),M=window.l10n,T=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"renderContacts",value:function(){var e=this;return u.default.filter(this.props.vCard.TEL,function(e){return e.properties.waid}).map(function(t){var n=(0,j.numberToWid)(u.default.first(t.properties.waid));return f.createElement("div",{className:S.default.container,key:"vCard-"+t.index},f.createElement(E.default,{title:(0,O.default)(n),onClick:function(){return e.onSelect(n)},icon:e.props.icon},P.getType(t)))})}},{key:"onSelect",value:function(e){this.props.onSelect(e)}},{key:"render",value:function(){return f.createElement(p.default,{type:d.BoxModalType},f.createElement(m.default,null,f.createElement(g.default,{onCancel:this.props.onCancel,type:b.DRAWER_HEADER_TYPE.POPUP,title:M.t("choose_phone_number")}),f.createElement(y.default,null,this.renderContacts())))}}]),t}(f.Component);T.defaultProps={onCancel:function(){},onSelect:function(){}},T.displayName="VCardWAidChoiceModal",e.exports=T},cieaeggjg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.icons&&e.icons.length>0?e.icons.map(function(e,t){return f.createElement("div",{className:P.default.icon,key:"icon-"+t},e)}):null,n=e.labels?f.createElement("div",{className:P.default.labels},e.labels):null,a=e.status?f.createElement("div",{className:P.default.status},e.status):null,o=(0,C.default)(P.default.meta,r({},P.default.metaLight,e.light));return f.createElement("div",{className:o,onClick:e.onClick,role:e.onClick?"button":null},t,n,f.createElement("span",{className:P.default.timestamp},e.children),a)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.MetaFrame=s;var c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("cgffcjcehg"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=n("bheafeifce"),v=n("bjebjijbfc"),y=a(v),_=n("gbfffciea"),E=a(_),j=n("bfdcadbbif"),w=a(j),O=n("ceffhbhahb"),C=a(O),S=n("cedifchehj"),P=a(S),M=n("eadfaddcj"),T=a(M),k=n("icghcjegh"),N=a(k),I=n("beadfddidc"),R=T.default.MSG_TYPE,A=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.openInfoDrawer=function(){E.default.msgInfoDrawer((0,g.unproxy)(a.props.msg))},r=n,i(a,r)}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props.msg,t=this.props.theme,n=[],a=(e.type===R.IMAGE||e.type===R.VIDEO)&&!e.caption||e.type===R.LOCATION&&!e.isLive&&!e.get("loc")&&(0,I.shouldEnableHsm)()&&!e.caption;if(e.star&&!e.isRevoked){var r=a?"star-light":e.isSentByMe?"star":"star-in";n.push(f.createElement(w.default,{name:r}))}if(e.broadcast){var o=a?"broadcast-light":"broadcast";n.push(f.createElement(w.default,{name:o}))}var i=e.isSentByMe&&e.type!==R.REVOKED,l=i?f.createElement(p.default,{msg:this.props.msg}):null,u=e.labels&&e.labels.length>0?f.createElement(N.default,{labels:e.labels,showName:!1}):null;return f.createElement(s,{icons:n,labels:u,light:a,onClick:i?this.openInfoDrawer:null,status:l},"date"!==t?e.t?y.default.timestampStr(e.t):null:e.t?y.default.relativeStr(e.t):null)}}]),t}(f.PureComponent);A.CONCERNS={msg:["t","isSentByMe","isLive","isRevoked","type","broadcast","star","caption","labels"]},A.displayName="Meta",s.displayName="MetaFrame",t.default=(0,m.default)((0,b.hoc)(A),A.CONCERNS)},ciebcgbegd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("effbcehec"),f=a(c),d=n("eadfaddcj"),p=a(d),h=n("djcchigfih"),m=a(h),b=n("dajffajabh"),g=a(b),v=n("djbhiedbef"),y=a(v),_=n("cabhjigfgc"),E=a(_),j=n("bfbggcdbfb"),w=n("ecbjchafdg"),O=a(w),C=n("bfebbjhgbh"),S=a(C),P=n("gbfffciea"),M=a(P),T=n("gifddfdia"),k=a(T),N=n("eagfdbhhhh"),I=n("facgccaif"),R=n("dfjhjafaab"),A=n("bidfjbaebi"),D=n("fbdhjahjj"),x=a(D),L="animated-doodle",F=n("bjhdcidgah"),U={selector:"."+x.default.animation,low:{default:F},high:{default:F}},B=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.openTime=-1,a.actionsTaken=!1,a.onTOS=function(){a.actionsTaken=!0,(0,A.openExternalLink)((0,R.getTosUrl)())},a.onFAQ=function(){(0,A.openExternalLink)((0,I.getFaqUrl)()),a.logSessionEvent(j.CONTACT_US_EXIT_STATE.FAQ)},a.onContactUs=function(){M.default.openModal(u.createElement(S.default,{onCancel:a.onContactUsCancel,onSend:a.onContactUsSend}))},a.onSendNativeLogComplete=function(e,t){e?a.onContactUsSend():a.onContactUsCancel()},a.onContactUsCancel=function(){a.logSessionEvent(j.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},a.onContactUsSend=function(e){a.logSessionEvent(j.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},a.onKeyboardShortcuts=function(){M.default.openModal(u.createElement(O.default,null))},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.openTime=performance.now(),k.default.isAssetLoaded(L)||k.default.loadAsset(U,L)}},{key:"componentWillUnmount",value:function(){this.actionsTaken||this.logSessionEvent(j.CONTACT_US_EXIT_STATE.CANCELLED)}},{key:"logSessionEvent",value:function(e,t){var n=new j.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(n.contactUsAutomaticEmail=!0,n.contactUsProblemDescription=t.subject,n.contactUsScreenshotC=t.numScreenshots),n.commit(),this.actionsTaken=!0}},{key:"render",value:function(){return u.createElement(m.default,null,u.createElement(g.default,{a8n:"drawer-title-help",title:l10n.t("help_drawer_title"),onBack:this.props.onClose,type:b.DRAWER_HEADER_TYPE.LARGE}),u.createElement(y.default,null,u.createElement("div",{className:x.default.animation}),u.createElement(N.SelectableDiv,{"data-a8n":f.default.key("version"),className:x.default.version,selectable:!0},l10n.t("version",{version:p.default.VERSION_STR})),u.createElement(E.default,{a8nText:"li-faq",onClick:this.onFAQ},l10n.t("web_settings_faq")),u.createElement(E.default,{a8nText:"li-contact-us",onClick:this.onContactUs},l10n.t("send_logs_title")),u.createElement(E.default,{a8nText:"li-tos",onClick:this.onTOS},l10n.t("terms_and_privacy_link"))))}}]),t}(u.Component);B.displayName="HelpDrawer",t.default=B},cieccfhhib:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("eceadcicaf"),f=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n("ejbdjaifi"),p=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.isOpen=!1,o._setRefInput=function(e){o._refInput=e},o._handleClick=function(e){e.stopPropagation(),o._handleOpen()},o._handleChange=function(e){o._handleClose(),o.props.onChange(e)},i=n,r(o,i)}return o(t,e),l(t,[{key:"open",value:function(){this._refInput&&(this.isOpen||this._refInput.click())}},{key:"_handleOpen",value:function(){this.isOpen=!0}},{key:"_handleClose",value:function(){this.isOpen=!1}},{key:"render",value:function(){return u.createElement("input",{accept:this.props.mimes,ref:this._setRefInput,type:"file",multiple:!0,style:{display:"none"},onClick:this._handleClick,onChange:this._handleChange})}}]),t}(u.PureComponent);p.displayName="FilePicker";var h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"open",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).open()}}]),t}((0,f.default)((0,d.hoc)(p)));t.default=h},ciefdgaafc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hdccjfbbg"),d=a(f),p=n("bdfjbfgea"),h=a(p),m=n("hbhijdici"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("ejbdjaifi"),_=n("didfdhbecg"),E=a(_),j=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPills=function(e){var t=n.props,a=t.useShortName,r=t.isDisabled,o=t.onDelete;return b.default.size(e)?e.map(function(e){var t=r&&r(e.id)?null:{onDelete:o};return c.createElement(d.default,l({contact:e,useShortName:a},t,{type:f.Type.SMALL,key:e.id.toString(),theme:"list-names",waitIdle:!0}))}):null},n.props.listeners.add(n.props.selections,"all"),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){return c.createElement(E.default,{transitionName:"slide-up-down-footer",className:h.default.selectedListContainer},this.renderPills(this.props.selections.getSelected()))}}]),t}(c.Component);j.displayName="ContactSelectionPill",t.default=(0,v.default)((0,y.hoc)(j))},cificacaii:function(e,t){e.exports={muted:"_1f7YV",header:"_1mJpB",photo:"_1Z4e7",text:"_3K8QZ",name:"_1zc7y",description:"_1S1xi",spinner:"_160a0",img:"_1IGJ4"}},cifjfjfegc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.duration,n=f.default.durationStr(t);return n?P.createElement("span",{className:j.default.mediaCanvasDuration},n):null}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("bjebjijbfc"),f=a(c),d=n("djiibcjggg"),p=a(d),h=n("eceadcicaf"),m=a(h),b=n("bffjfbgbg"),g=a(b),v=n("ejbdjaifi"),y=n("bfdcadbbif"),_=a(y),E=n("cafgbeeihg"),j=a(E),w=n("bbjadhadbg"),O=a(w),C=n("ccaaiecfib"),S=a(C),P=n("ddhijeejag"),M=n("ceffhbhahb"),T=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSelectClick=function(t){e.props.onMessageSelect&&e.props.onMessageSelect(e.props.msg,!e.props.selected)},e.onMouseOver=function(t){e.state.hover||e.setState({hover:!0})},e.onMouseEnter=function(t){e.state.hover||e.setState({hover:!0})},e.onMouseLeave=function(t){e.state.hover&&e.setState({hover:!1})},e._renderImg=function(t,n,a){return e.props.onDragStart?P.createElement("div",{className:t,style:n,onClick:e.props.onClick||null,ref:(0,v.GetRef)("img",e),onDragStart:e.props.onDragStart,draggable:!0},a):P.createElement("div",{className:t,style:n,onClick:e.props.onClick||null,ref:(0,v.GetRef)("img",e)},a)},e.state={hover:!1},e}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.msg.mediaData,"change:preview"),this.props.listeners.add(this.props.msg,"change:star"),this.props.imgRef&&this.props.imgRef(this.img)}},{key:"componentWillUnmount",value:function(){this.props.imgRef&&this.props.imgRef(null)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.msg.mediaData,o=n.selectable,i=n.theme,l=n.active,u=this.props.selected||!1,c=void 0,f=null,d=null,h=null,m=null,b=null,v=null;if(this.props.msg.star&&(a.type!==g.default.TYPE.AUDIO&&(d=P.createElement("div",{className:j.default.shade})),b=P.createElement("div",{className:j.default.iconStar},P.createElement(_.default,{name:"star-light"}))),a.type===g.default.TYPE.IMAGE)if(c=j.default.mediaCanvas,S.default.supportsFeature(S.default.F.REPLACE_MEDIABLOB)){var y=function(e){return t._renderImg(c,{backgroundImage:"url("+e+")"},d)},E=function(){return a.preview?y(a.preview.url()):t._renderImg(c,null,d)};v=P.createElement(O.default,{mediaData:a,placeholderRenderer:E},y)}else a.renderableUrl?f={backgroundImage:"url("+a.renderableUrl+")"}:a.preview&&(f={backgroundImage:'url("'+a.preview.url()+'")'}),v=this._renderImg(c,f,d);else{switch(a.type){case g.default.TYPE.AUDIO:c=j.default.mediaCanvas+" attach-media-audio-thumb",h=P.createElement("div",{className:j.default.iconType},P.createElement(_.default,{name:"msg-audio-light"})),m=P.createElement(s,{duration:a.duration});break;case g.default.TYPE.VIDEO:d=P.createElement("div",{className:j.default.shade}),a.isGif?(c=a.preview?j.default.mediaCanvas:j.default.mediaCanvas+" media-video-thumb",h=P.createElement("div",{className:j.default.iconType},P.createElement(_.default,{name:"msg-gif-light"}))):(c=j.default.mediaCanvas,h=P.createElement("div",{className:j.default.iconType},P.createElement(_.default,{name:"msg-video-light"})),m=P.createElement(s,{duration:a.duration})),a.preview&&(f={backgroundImage:'url("'+a.preview.url()+'")'})}v=this._renderImg(c,f,d)}var w=void 0;(o||this.state.hover)&&(w=P.createElement("div",{className:j.default.mediaSelect},P.createElement("div",{className:j.default.shadeTop,onClick:this.props.onClick||null}),P.createElement(p.default,{onChange:this.onSelectClick,hover:this.state.hover,checked:u})));var C=null,T=null,k=null;this.props.hoverEvent&&(C=this.onMouseOver,T=this.onMouseEnter,k=this.onMouseLeave);var N=M(this.props.classes,j.default.canvasComponent,(e={},r(e,j.default.canvasSelected,u),r(e,j.default.canvasSecondRow,"hideableSecondRow"===i),r(e,j.default.viewerFlow,"viewerFlow"===i),r(e,j.default.active,!0===l),e));return P.createElement("div",{className:N,onMouseOver:C,onMouseEnter:T,onMouseLeave:k},w,P.createElement("div",{className:j.default.canvasBody},h,m,b),v)}}]),t}(P.Component);T.displayName="MediaThumb",e.exports=(0,m.default)((0,v.hoc)(T))},cigbgdjabj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ichcjagij"),f=a(c),d=n("icghcjegh"),p=a(d),h=n("ccaaiecfib"),m=a(h),b=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.renderLabel=function(){var e=a.props.labels;if(e)return e.map(function(e,t){return u.createElement("div",{key:t,className:f.default.labelRow},u.createElement(p.default,{labels:[e],showName:!0}))})},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return this.props.labels&&m.default.supportsFeature(m.default.F.LABELS_DISPLAY)?u.createElement("div",{className:f.default.labelContainer},this.renderLabel()):null}}]),t}(u.PureComponent);b.displayName="InfoDrawerLabelWell",t.default=b},cigddfbici:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("gbfffciea"),d=a(f),p=n("biddiiafgd"),h=a(p),m=n("dbdfbgehgj"),b=a(m),g=n("dhigahgdjb"),v=a(g),y=n("cajijabhgb"),_=r(y),E=n("bcbahjefec"),j=a(E),w=n("ccaaiecfib"),O=a(w),C=n("bfcjfjfjjj"),S=a(C),P=n("becfabjeeg"),M=a(P),T=n("chajfbfiga"),k=a(T),N=n("dcbdjheea"),I=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._cancel=function(){a._queryChatPromise&&a._queryChatPromise.cancel(),a._queryChatPromise=void 0,a.end()},a.error=function(e){a.push(c.createElement(h.default,{onOK:function(){return a.end()},okText:l10n.t("web_ok")},l10n.t("msg_send_error")))},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;this.push(c.createElement(h.default,{title:l10n.t("starting_chat"),onCancel:this._cancel,cancelText:l10n.t("web_cancel")},c.createElement("div",{className:S.default.spinner},c.createElement(M.default,{stroke:6,size:24})))),this._queryChatPromise=this.queryChat().cancellable().then(function(e){return b.default.find(e)}).then(function(t){e.props.onSuccess(t),e.openChat(t),e.end()}).catch(Promise.CancellationError,function(){}).catch(this.error)}},{key:"queryChat",value:function(){var e=this.props.phone,t=(0,N.createWid)(e.slice(1));return v.default.get(t)?Promise.resolve(t):k.default.queryExist(e).then(function(e){return 200===e.status?(O.default.supportsFeature(O.default.F.QUERY_VNAME)&&e.biz&&k.default.queryVname(e.jid).catch(_.WapDrop,function(){}),e.jid):Promise.reject("Invalid number")})}},{key:"openChat",value:function(e){var t=this.props.msgText;e.active&&t?d.default.pasteChatTextInput(e,t):(t&&e.setComposeContents({text:t}),d.default.openChatFromUnread(e).then(function(t){t&&d.default.focusChatTextInput(e)}))}}]),t}(j.default);I.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=I},cighigadh:function(e,t){e.exports={muted:"_2GCfc",msg:"FTBzM","msgСontinuation":"_17BiH","msgсontinuation":"_17BiH",msgSystem:"_3CGDY",message:"_1zGQT",messageTransparent:"a81-s",tailOverrideHide:"PJFFv",messageSystem:"a7otO",messageChat:"_2ugFP",messageCode:"_3kab4",messageE2ENotification:"S-bQb",messageBizNotification:"_1LwB5",messagePlaceholder:"_28d1E",msgGallery:"_3RxKY",messageAudio:"_1uSEj",messageDocument:"oty3x",messageImage:"_26GKj",messageProduct:"nt61F",messageMultiVcard:"_2HP6E",messagePTT:"xPyAe",messagePtt:"xPyAe",messageSticker:"ossEC",messageVcard:"_1ikYm",messageGif:"_2lXrM",messageVideo:"_1hLcX",messageLocation:"_2qxEJ",messageLiveLocation:"_3Vhqk",msgInfo:"_2DWMU",messageHidden:"_2Bze7",messageContainer:"_3FLoA",btnForward:"gxf3C",msgPSA:"_3ZL2B",msgPsa:"_3ZL2B",messageVideoLinkPreview:"wsR1v",placeholder:"_1wS8b",gridContainer:"_1b0ym",author:"_3892J",albumBubbleContainer:"O4QF8",authorForward:"_11U8j",groupStickerContainer:"hvF75",groupStickerAuthor:"_3tMyP"}},cihcggiidc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("djcchigfih"),u=a(s),c=n("djbhiedbef"),f=a(c),d=n("dajffajabh"),p=a(d),h=n("fffdgbfji"),m=a(h),b=n("dfigcajgai"),g=a(b),v=n("bjbedjfe"),y=a(v),_=n("ejbdjaifi"),E=n("ddhijeejag"),j=a(E),w=n("didfdhbecg"),O=a(w),C=n("cdjhjdcbeg"),S=a(C),P=n("bfdcadbbif"),M=a(P),T=n("begjfegacj"),k=a(T),N=n("hfhhcchgj"),I=a(N),R=n("chcadgfgad"),A=a(R),D=n("dhbceejbjg"),x=a(D),L=n("dhhfaeacef"),F=a(L),U=n("bjieiiccce"),B=a(U),G=n("dhefcajhhb"),V=a(G),W=n("fifhbjiec"),H=a(W),Y=n("eadfaddcj"),q=a(Y),K=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={isBusy:!1,inviteComment:m.default.t("group_v4_invite_add_a_caption_placeholder")},a.setRefParticipantList=function(e){a.refParticipantList=e},a.onClose=function(){(0,a.props.onClose)()},a.getGroupThumbBase64=function(){var e=a.props.gid,t=V.default.get(e);return new Promise(function(e,n){if(!t||!t.img)return void e(void 0);B.default.get(t.img,B.default.RESP_TYPE.BLOB).then(function(t){if(200===t.status){var n=new FileReader;n.onloadend=function(){var t=n.result.toString().split(",")[1];e(t)},n.readAsDataURL(t.response)}else e(void 0)}).catch(function(){return e(void 0)})})},a.onSend=function(){var e=a.props.onSend,t=a.state.inviteComment;a.getGroupThumbBase64().then(function(n){e(t,n)})},a.onInviteCommentChange=function(e){a.setState({inviteComment:e})},a.setRefEmojiInput=function(e){a.refEmojiInput=e},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=j.default.createElement(S.default,{a8nText:"group-participants-btn",large:!0,onClick:this.onSend},j.default.createElement(M.default,{name:"send-light",directional:!0})),t=j.default.createElement(F.default,{id:this.props.gid}),n=j.default.createElement(H.default,{text:this.props.subject});return j.default.createElement(A.default,{type:"invite"},j.default.createElement(u.default,{theme:"invite"},j.default.createElement(p.default,{type:d.DRAWER_HEADER_TYPE.POPUP,title:m.default.t("groups_v4_invite_add_caption_modal_title"),onCancel:this.onClose}),j.default.createElement(f.default,null,j.default.createElement("div",{className:k.default.search},j.default.createElement("div",{"data-list-scroll-container":!0},j.default.createElement(g.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.props.participants.map(function(e){return e.contact})}))),j.default.createElement("div",{className:k.default.commentInput},j.default.createElement(I.default,{ref:this.setRefEmojiInput,value:this.state.inviteComment,showRemaining:!0,maxLength:q.default.MAX_CAPTION_LENGTH,onChange:this.onInviteCommentChange,theme:"v4-invite-caption",supportsEmoji:!0})),j.default.createElement(O.default,{transitionName:"btn",className:k.default.onSendInvite},e),j.default.createElement("div",{className:k.default.groupInfo},j.default.createElement(x.default,{idle:!0,image:t,primary:n,secondary:m.default.t("group_v4_invite_subtitle"),theme:"group_v4_invite"})))))}}]),t}(E.Component);K.displayName="GroupV4InviteAddComment",t.default=(0,y.default)((0,_.hoc)(K))},cihffbbgjc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return i.default.sendConversationPin(e,t,n).then(function(n){return u.default.supportsFeature(u.default.F.MODEL_STORAGE)&&200===n.status&&!n._duplicate?l.Chat.merge(e.toString(),{pin:t}).then(function(){return n}):n})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationPin=r;var o=n("chajfbfiga"),i=a(o),l=n("cefcddgdgg"),s=n("ccaaiecfib"),u=a(s)},cihhicgaca:function(e,t){e.exports={muted:"_1trhb",textThumb:"_25_R-",statusImage:"_39J1B",container:"_20CJh"}},cihiahfgbc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("iaibjaeb"),p=a(d),h=n("cicgeajfge"),m=n("dfjibhjhde"),b=a(m),g=n("dcaibchbg"),v=a(g),y=n("dgjddffcfg"),_=a(y),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=function(e,t){if(t instanceof d.Mode){var a=t.props.chat;!0===n.props.filter(a)&&n.props.onGroup(t.props.chat)}},n.onSearch=f.default.debounce(function(e){n.setState({searchText:e})},100),n.renderItem=function(e){var t=n.props,a=t.onGroup,r=t.filter,o=void 0,i=void 0,l=r(e.chat),s="boolean"!=typeof l;return s&&(o=l,i="group-modal"),u.createElement(p.default,{chat:e.chat,contact:e.chat.contact,mode:d.Mode.INFO,active:n.selection,secondary:o,noContext:!0,theme:i,onClick:s?void 0:a.bind(null,e.chat)})},n.selection=new v.default,n.state={loading:!0,searchText:void 0},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.chats;Promise.delay(300).then(function(){return Promise.all(f.default.map(f.default.filter(t,function(e){return e.groupMetadata.stale}),function(e){return e.groupMetadata.update().catch(function(){})}))}).then(function(){return e.setState({loading:!1})})}},{key:"getData",value:function(){var e=this.props,t=e.chats,n=e.filter,a=this.state,r=a.loading,o=a.searchText,i=[];if(r)return i;var l=l10n.accentFold(o),s=_.default.numberSearch(l),u=t.filter(function(e){return n(e)&&(!l||l&&e.contact.searchMatch(l,s))});return this.selection.init(u.filter(function(e){return!0===n(e)}).map(function(e){return e.id})),u.map(function(e){return{chat:e,key:e.id.toString()}})}},{key:"render",value:function(){var e=this.props.onCancel,t=this.state.loading,n=t?u.createElement(h.Loading,null):u.createElement(h.SearchGroups,null);return u.createElement(b.default,{title:l10n.t("web_groups"),data:this.getData(),renderItem:this.renderItem,emptyState:n,selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t("search_groups"),onSelect:this.onSelect,onCancel:e})}}]),t}(u.Component);E.defaultProps={filter:function(){return!0}},E.displayName="GroupsModal",t.default=E},cihjadddhc:function(e,t){e.exports={muted:"-Wycj",container:"_1XANn",media:"_2vDTu",document:"_10zRs",text:"Cltyv",icon:"_3YCc3"}},ciibfajghc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="",a=!1,r=!0;return(0,h.default)(e,t,function(e,t,o){return a?(r=s(e),!0):n.length>E||void((a=e===j)||(n=e+n))}),a&&r?n:void 0}function s(e){return Boolean(v.default[e])||C.test(e)}var u=n("digcccheca"),c=a(u),f=n("ebgjhfacdb"),d=a(f),p=n("bidcddiaag"),h=a(p),m=n("decdhbjfjc"),b=a(m),g=n("jjjdieajj"),v=a(g),y=n("bcjcbbafcj"),_=y.isTrident,E=25,j="/",w={Enter:d.default.ENTER,Tab:d.default.TAB,ArrowUp:d.default.UP,ArrowDown:d.default.DOWN,Backspace:d.default.BACKSPACE},O=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.handleSelect=function(e){e.useOnce();var t=window.getSelection(),n=l(a.ctx,t);void 0!==n&&((0,b.default)(t,n.length+1),a.ctx.replaceSelection(e.message),(0,b.default)(t,e.message.length),a.handle(d.default.INACTIVE))},a.handlers={onKeyDown:function(e,t){var n=w[e.key];return!!n&&this.handle(n,[e,t])},onSelect:function(e,t){if(_)return!1;if(this.ctx.isComposing)return!1;var n=window.getSelection(),a=l(this.ctx,n);return void 0===a?(this.handle(d.default.INACTIVE),!1):(this.handle(d.default.FILTER,[a]),!1)},onBlur:function(){return this.handle(d.default.INACTIVE),!1}},i=n,o(a,i)}return i(t,e),t}(c.default),C=/\W/;e.exports=new O},ciifehaief:function(e,t){e.exports={muted:"_1pOq-",container:"_2ndBv",clickable:"_3UFi3",caption:"_3FeE8",author:"_3Qug7",meta:"_1L1b-",hasCaption:"_21klb",actionButton:"_1B0oP",thumb:"_3qW--",avatar:"_2rdru",map:"uTFa6",overlay:"_2qCGf",expired:"aJedp",thumbBody:"_1NZVj",quote:"_23sdy",status:"_3C3Pi",statusIcon:"_149ps",statusText:"_2ofvs",stopLocation:"_2SLZ5",viewLocation:"zPczZ",hidden:"_3upOq"}},cijaehcdg:function(e,t,n){"use strict";e.exports=function(e){return!e.getModifierState("Shift")&&!e.getModifierState("Alt")&&!e.getModifierState("Control")}},cijhadicdb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("becfabjeeg"),f=a(c),d=n("bfdcadbbif"),p=a(d),h=n("dcbcechchi"),m=a(h),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.direction,t=void 0,n=void 0,a=void 0;if("earlier"===e&&this.props.isLoadingEarlierMsgs||"recent"===e&&this.props.isLoadingRecentMsgs||"around"===e&&this.props.isLoadingAroundMsgs)t=u.createElement(f.default,{stroke:6,size:24,color:"highlight"}),n=l10n.t("loading_messages");else{switch(e){case"earlier":n=l10n.t("load_earlier_messages");break;case"recent":n=l10n.t("load_recent_messages");break;default:n=l10n.t("loading_messages")}t=u.createElement("div",{className:m.default.icon},u.createElement(p.default,{name:"refresh"})),a=this.props.loadMoreMsgs}return u.createElement("div",{className:m.default.wrapper},u.createElement("div",{className:m.default.button,title:n,onClick:a},t))}}]),t}(u.PureComponent);b.displayName="LoadMoreMessages",t.default=b},cijhchjfjc:function(e,t){e.exports={muted:"_21zN-",preview:"HNuTV",bubbleIn:"Lhd3q",bubbleOut:"_2nZ2E",title:"_2IHkF",description:"_3JxFB",source:"_23MBZ",body:"_2a6mc",noThumb:"D_Fkg",thumbnailWrapper:"h6D8Z",thumbnail:"WGJYh",youtubeThumbnail:"pCs82",thumbnailPlaceholder:"_1RKID",mediaStateControlsWrapper:"_2QYdY"}},cijihedhb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("cificacaii"),f=a(c),d=n("fifhbjiec"),p=a(d),h=n("bhheahajjg"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=n("eedjbihej"),y=a(v),_=n("ejbdjaifi"),E=n("dhhfaeacef"),j=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"renderDescription",value:function(){var e=this.props.businessProfile;return e&&e.description?u.createElement("div",{className:f.default.description},u.createElement(p.default,{text:e.description,direction:"auto",selectable:!0,titlify:!0})):null}},{key:"renderPicture",value:function(){var e=this.props,t=e.profilePicThumb,n=e.contact;if(!t)return null;var a=(0,E.getDefaultIcon)(n.id);return u.createElement("div",{className:f.default.photo},u.createElement(E.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:a,profilePicThumbImg:t.imgFull,spinnerClassName:f.default.spinner,imgClassName:f.default.img,theme:"business"}))}},{key:"render",value:function(){var e=this.props.contact;return u.createElement("div",{className:f.default.header},this.renderPicture(),u.createElement("div",{className:f.default.text},u.createElement(y.default,{block:!0,className:f.default.name,theme:"large"},u.createElement(m.default,{contact:e,selectable:!0,showBusinessCheckmark:!0})),this.renderDescription()))}}]),t}(u.Component);j.CONCERNS={profilePicThumb:["imgFull"],contact:["id","isMe"],businessProfile:["description"]},j.displayName="ProductListDrawerHeader",t.default=(0,g.default)((0,_.hoc)(j),j.CONCERNS)},cijjejhjfh:function(e,t){e.exports={muted:"_2tSdY",stickerItem:"_20-F",stickerMenu:"U-JiQ"}},cjaagagigi:function(e,t){e.exports={muted:"zCXcX",author:"_1QjgA",name:"_1uQFN",number:"ZObjg",screenName:"_1F9Ap",verifiedIcon:"_1Tvm-",hoverable:"_2q8oz"}},cjaiehadfe:function(e,t,n){"use strict";var a={sendConversationDismissChangeNumber:function(e){return this.sendConversationOpWithKey("modify",e,void 0,void 0)}};e.exports=a},cjbgdeaacg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("bfdcadbbif"),h=a(p),m=n("bacgdahheh"),b=a(m),g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg.ack,t=void 0;return t=e<1?"status-time":1===e?"status-check":2===e?"status-dblcheck":"status-dblcheck-ack",u.createElement("div",{className:b.default.ack},u.createElement(h.default,{name:t}))}}]),t}(u.PureComponent);g.CONCERNS={msg:["ack"]},g.displayName="MsgAck",t.default=(0,f.default)((0,d.hoc)(g),g.CONCERNS)},cjbicbfaej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("baehciajii"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("dhfbfehaef"),m=a(h),b=n("djhbegbdaf"),g=a(b),v=n("fffdgbfji"),y=a(v),_=n("chcadgfgad"),E=a(_),j=n("cfaiaibca"),w=a(j),O=n("bfjajhbdf"),C=a(O),S=n("ceffhbhahb"),P=a(S),M={ILLEGAL:"ILLEGAL",KNOCKOFF:"KNOCKOFF",NO_MATCH:"NO_MATCH",OTHER:"OTHER",SCAM:"SCAM",SPAM:"SPAM",SELECT_REASON:"SELECT_REASON"},T=[M.NO_MATCH,M.SPAM,M.ILLEGAL,M.SCAM,M.KNOCKOFF,M.OTHER],k={NO_MATCH:"product_report_reason_no_match",SPAM:"product_report_reason_spam",ILLEGAL:"product_report_reason_illegal",SCAM:"product_report_reason_scam",KNOCKOFF:"product_report_reason_knockoff",OTHER:"product_report_reason_other"},N=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={reason:null},a.onCancel=function(){var e=a.props.onCancel;e&&e()},a.onSubmit=function(){if(!a.state.reason)return a.noSelectionToast();a.props.onTellUsMoreSubmit(a.state.reason)},a.onReasonChange=function(e){e.target&&e.target.value&&a.setState({reason:e.target.value})},i=n,o(a,i)}return i(t,e),l(t,[{key:"noSelectionToast",value:function(){p.default.openToast(u.createElement(C.default,{msg:y.default.t("product_report_reason_unselected"),id:(0,O.genId)()}))}},{key:"renderRadioOptions",value:function(){var e=this,t=this.state.reason;return T.map(function(n){return u.createElement("li",{key:"ReportProductReasonPopup-"+n+"-option"},u.createElement("label",{className:f.default.label},u.createElement("input",{type:"radio",name:n,value:n,onChange:e.onReasonChange,className:f.default.input,checked:t===n}),u.createElement(g.default,{id:k[n]})))})}},{key:"render",value:function(){var e=y.default.t("product_report_reason_popup_title"),t=u.createElement("div",{className:(0,P.default)(f.default.section)},u.createElement("ul",{className:f.default.reasonList},this.renderRadioOptions())),n=u.createElement(w.default,{a8nText:"popup-controls-submit",type:"primary",onClick:this.onSubmit,key:"ReportProductReasonPopup-submitButton",disabled:!this.state.reason},y.default.t("product_report_reason_submit")),a=u.createElement(w.default,{type:"plain",a8nText:"popup-controls-cancel",onClick:this.onCancel,key:"ReportProductReasonPopup-cancelButton"},y.default.t("web_cancel")),r={escape:this.onCancel},o=u.createElement("div",{className:f.default.buttons},a,n);return u.createElement(m.default,{handlers:r},u.createElement(E.default,{title:e,actions:o,children:t}))}}]),t}(u.Component);N.displayName="ReportProductReasonPopup",t.default=N},cjcaccbiih:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bjdfbiahbi"),f=a(c),d=n("fifhbjiec"),p=a(d),h=n("ccaaiecfib"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=n("ejbdjaifi"),y=n("bfdcadbbif"),_=a(y),E=n("ecgfheibgg"),j=a(E),w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.presence,a=void 0,r=void 0;return a="list"===this.props.location||"info"===this.props.location?n.getFormattedString():n.withholdDisplay?this.props.placeholder:n.getFormattedString()||(n.forceDisplay?"":this.props.placeholder),a&&(r=u.createElement(f.default,{text:a,location:this.props.location})),"title"===this.props.location&&m.default.supportsFeature(m.default.F.VNAME_V_2)&&a!==this.props.placeholder&&t&&t.showBusinessVname?u.createElement("div",{className:j.default.wrapper},u.createElement(p.default,{text:t.verifiedName,className:j.default.verifiedText,direction:"auto",ellipsify:!0,titlify:!0}),u.createElement("div",{className:j.default.icon},u.createElement(_.default,{name:"psa-verified"})),r&&u.createElement("span",{className:j.default.divider},"·"),r):r||null}}]),t}(u.PureComponent);w.CONCERNS={contact:["name","verifiedName","showBusinessVname"],presence:["withholdDisplay","forceDisplay","hasData"],chatstate:["type","deny","t"]},w.displayName="UserSubtitle",t.default=(0,g.default)((0,v.hoc)(w),w.CONCERNS)},cjcecfgaji:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.mimeType,n=e.url,a=e.isGif,r=e.size,i=e.processing,d=e.preview,h=void 0;switch(E[t].msgType){case"image":h=l.createElement("img",{src:n,className:y.default.img});break;case"video":var m=a?{loop:!i,autoPlay:!i,muted:!1,controls:!1}:{},b=i?l.createElement("div",{className:y.default.spinner},l.createElement(f.default,{color:c.colorOptions.white,size:50,stroke:3})):null,v=d?l.createElement("img",{className:y.default.staticPreview,src:"data:image/jpeg;base64,"+d}):null,_=i?null:l.createElement(p.default,o({controls:!0,className:y.default.video},m,{src:n}));h=l.createElement("div",{className:(0,g.default)(y.default.img,y.default.videoContainer)},b,_,v);break;case"audio":h=l.createElement("audio",{controls:!0,className:y.default.audio,type:t,src:n})}return l.createElement("div",{className:y.default.container,"data-animate-attach-media":!0},l.createElement("div",{className:y.default.media},l.createElement(u.default,{type:s.FIT_TYPE.SCALE_DOWN,size:r},h)))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=r;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("dgfecega"),u=a(s),c=n("becfabjeeg"),f=a(c),d=n("ccfdaijebj"),p=a(d),h=n("hbhijdici"),m=a(h),b=n("ceffhbhahb"),g=a(b),v=n("dhhbehfjej"),y=a(v),_=n("behbjhhbg"),E=m.default.pickBy(_.MIMETYPES,function(e){return"image"===e.msgType||"video"===e.msgType});r.displayName="AttachMediaTypeMedia"},cjcffhicea:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ListType=void 0;var l=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("dbdfbgehgj"),c=a(u),f=n("dceicchccd"),d=a(f),p=n("bgddggdhc"),h=n("dcaibchbg"),m=a(h),b=n("gajigdged"),g=a(b),v=n("gbfffciea"),y=a(v),_=n("djcchigfih"),E=a(_),j=n("djbhiedbef"),w=a(j),O=n("dajffajabh"),C=a(O),S=n("bggeiidigb"),P=a(S),M=n("dhfbfehaef"),T=a(M),k=n("dbciicjiad"),N=a(k),I=n("chcadgfgad"),R=a(I),A=n("efhjefegg"),D=a(A),x=n("bhcdajjdgi"),L=a(x),F=n("fbjjefaic"),U=a(F),B=n("ejbdjaifi"),G=n("ccfcjccjbg"),V=a(G),W=n("ciefdgaafc"),H=a(W),Y=n("ddajbaceej"),q=n("ddhijeejag"),K=t.ListType={CHAT_SELECT_MODAL:"CHAT_SELECT_MODAL",CONTACT_SELECT_MODAL:"CONTACT_SELECT_MODAL",PARTICIPANT_MANAGE_MODAL:"PARTICIPANT_MANAGE_MODAL"},z=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setSearch=function(e){return a.search=e},a.setList=function(e){return a.list=e},a.flatListController=new P.default,a.state={searchText:""},a.onSearch=a.props.debounce(function(e){a.setState({searchText:e})},100),a.onFocusList=function(e){e&&(e.preventDefault(),e.stopPropagation()),a.list&&Y.focus((0,p.forbiddenAssertDOMNode)(a.list))},a.indicateSearchFocus=function(e){a.active.unset(),(0,M.indicateFocus)(a.search,["#fbfbfb","#D9F3FF"])},a.onLeaveList=function(e){(0,M.shouldIndicateFocus)(),Y.focus(a.search)},a.handleEnter=function(e){a.list&&a.list.toggleFirst(!1)},a.handleForward=function(){var e=a.props,t=e.onChat,n=e.listType,r=a.selectedChats.getSelected();n===K.CONTACT_SELECT_MODAL||n===K.PARTICIPANT_MANAGE_MODAL?t(r):Promise.map(r,function(e){return e instanceof V.default?c.default.find(e.id):e}).then(function(e){t(e)})},a.handleSelectionChanged=function(e,t){a.search&&a.search.select()},a.onSelectedListDelete=function(e,t){a.selectedChats.setVal(t,!1)},a.onCancel=a.props.onCancel?a.props.onCancel:function(){return y.default.closeModal()},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.active=new m.default([],function(e){return e.id}),this.selectedChats=new d.default([],function(e){return e.id.toString()})}},{key:"componentWillUnmount",value:function(){this.onSearch.cancel()}},{key:"render",value:function(){var e={down:this.onFocusList,enter:this.handleEnter},t=void 0;switch(this.props.listType){case K.CHAT_SELECT_MODAL:t=q.createElement(D.default,{ref:this.setList,msgType:this.props.msgType,excludeChat:this.props.excludeChat,getInitialItems:this.props.getInitialItems,searchText:this.state.searchText,activeChat:this.active,selectedChats:this.selectedChats,maxChats:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,hasFrequentlyForwarded:this.props.hasFrequentlyForwarded,flatListController:this.flatListController});break;case K.PARTICIPANT_MANAGE_MODAL:case K.CONTACT_SELECT_MODAL:t=q.createElement(L.default,{ref:this.setList,useAllContacts:this.props.useAllContacts,getInitialItems:this.props.getInitialItems,searchText:this.state.searchText,activeChat:this.active,selectedChats:this.selectedChats,maxContacts:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,customSecondaryText:this.props.customSecondaryText,filter:this.props.filter,allowBlockedContacts:this.props.allowBlockedContacts,flatListController:this.flatListController});break;default:throw new Error("Invalid list type: "+this.props.listType)}var n=this.props,a=n.listType,r=n.useShortName,o=!!this.props.getInitialItems&&0!==this.props.getInitialItems().length,i=a===K.PARTICIPANT_MANAGE_MODAL?q.createElement(H.default,{selections:this.selectedChats,useShortName:r,onDelete:this.onSelectedListDelete,isDisabled:this.props.isDisabled}):null,l=a===K.PARTICIPANT_MANAGE_MODAL?b.FooterType.MANAGE_ADMINS:null;return q.createElement(R.default,{type:I.TowerModalType},q.createElement(E.default,{key:"chat-modal"},q.createElement(C.default,{title:this.props.title,type:O.DRAWER_HEADER_TYPE.POPUP,onCancel:this.onCancel}),q.createElement(T.default,{handlers:e,onFocus:this.indicateSearchFocus},q.createElement(N.default,{ref:this.setSearch,onSearch:this.onSearch,placeholder:l10n.t("search")})),this.props.customHeader,i,q.createElement(w.default,{flatListControllers:[this.flatListController]},t),q.createElement(g.default,{type:l,selections:this.selectedChats,onForward:this.handleForward,startActive:o})))}}]),t}(q.Component);z.displayName="SelectModal";var Q=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"onFocusList",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).onFocusList(e)}}]),t}((0,U.default)((0,B.hoc)(z)));t.default=Q},cjdaccjhdg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bffjfbgbg"),f=a(c),d=n("bfafbgcdjg"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={blob:p.default.get(n.props.mediaData.filehash)},n.state.blob||e.mediaData.mediaStage!==f.default.STAGE.RESOLVED||e.downloadMedia(),n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(){if(!this.state.blob){var e=this.props.mediaData.filehash;p.default.has(e)&&this.setState({blob:p.default.get(e)})}}},{key:"render",value:function(){var e=this.state.blob;return e?this.props.render(e):this.props.renderPlaceholder()}}]),t}(u.Component);g.CONCERNS={mediaData:["filehash","mediaStage"]},g.displayName="MediaBlobProvider",t.default=(0,m.default)((0,b.hoc)(g),g.CONCERNS)},cjdafdbcjb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("eadfaddcj"),h=a(p),m=n("eahbjifecd"),b=a(m),g=n("bahgfcjcda"),v=a(g),y=n("cgfjebhhej"),_=a(y),E=n("cfedfiga"),j=a(E),w=h.default.MSG_TYPE,O=w.CHAT,C=w.IMAGE,S=w.VIDEO,P=w.LOCATION,M=w.DOCUMENT,T=w.VCARD,k=w.MULTI_VCARD,N=w.PRODUCT,I=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.inConversation,o=t.theme,i=void 0,l=void 0;switch(n.type){case C:case S:case M:case N:i=c.createElement(b.default,{mediaData:n.mediaData});break;case P:n.body&&(i=c.createElement("div",{style:{backgroundImage:"url(data:image/jpeg;base64,"+n.body+")"},className:j.default.image}));break;case O:n.thumbnail&&(i=c.createElement("div",{style:{backgroundImage:'url("data:image/jpeg;base64,'+n.thumbnail+'")'},className:j.default.image}));break;case T:l=a?58:79,i=c.createElement(v.default,{waid:n.getVCardThumbnailWAid(),thumb:n.body&&_.default.thumbnail(n.body),quoted:!0,square:!0,size:l});break;case k:l=a?58:79,i=c.createElement(v.default,{size:l,square:!0,quoted:!0})}var s=(0,d.default)(j.default.imageWrapper,(e={},r(e,j.default.composeBox,"composeBox"===o),r(e,j.default.statusV3,"statusV3"===o),e));return i?c.createElement("div",{className:s},c.createElement("div",{className:j.default.msgImage},i)):null}}]),t}(c.PureComponent);I.displayName="QuotedMedia",t.default=I},cjdfbfihbe:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){for(var t in e)return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this._children={}}return o(e,[{key:"addBackwardsString",value:function(t){for(var n=t.length-1,a=this;n>=0;){var r=t.charAt(n);a=a.get(r)||a.set(r,new e),n--}return this}},{key:"get",value:function(e){return this._children[e]}},{key:"set",value:function(e,t){return this._children[e]=t,t}},{key:"hasChildren",value:function(){return!r(this._children)}}],[{key:"fromBackwardsStrings",value:function(t){return t.reduce(function(e,t){return e.addBackwardsString(t)},new e)}}]),e}();t.default=i},cjeajhjegi:function(e,t){e.exports={muted:"_3oqez",container:"_15Rkh",link:"_1000r",title:"lnNFH",address:"eqh3k",hasURL:"_32tnI",hasUrl:"_32tnI",text:"_2mjS6",author:"KKKc8",forwarded:"ZT7uk",forwardedIndicator:"_3Jnwt",hasAuthor:"_2nXsu",meta:"_29iuh",thumb:"_3s-xU",thumbBody:"_1YW53",quote:"_3wvFg",hasCaption:"_3z_3G",caption:"_1FHrD",footer:"_2N5do"}},cjegehjigc:function(e,t){e.exports={muted:"t3vGj",playerWrapper:"_2VR0P",mediaStateControls:"g5ZbI",playerBackground:"_3KWZg",media:"_2Rvcb",captionBackdrop:"_3omcs",mediaCaption:"_23YnB",progresBarBackdrop:"_1wQjq",progressBarBackdropNarrow:"_3qWvl",profile:"_2soDh",nonClickProfile:"_1biSk",profileNarrow:"_20Axr",playerAvatar:"_38nNR",measuringProfile:"_1f7BH",profileMac:"N4pj4",msgInfo:"F6FSn",msgInfoName:"_1Og5G",timestamp:"_3sv8f",playerContent:"_1nKyQ",statusPanelPlayerContent:"_3ZnPf",statusThumbnailPlayerContent:"_24B2W",loading:"nck4i",v3Image:"_3LH4d",v3Video:"QYk9n",text:"_2ylxC",textLarge:"Iz658",textMedium:"_3JSAh",textSmall:"_2Rme_",font_1:"_3xchW",font1:"_3xchW",font_2:"_3Y-cn",font2:"_3Y-cn",font_3:"izRyU",font3:"izRyU",font_5:"_1el17",font5:"_1el17",unknown:"_37AKF",textThumbnailPlayerContent:"_1A1Ek"}},cjejfecgc:function(e,t){e.exports={muted:"_2Wn9_",avatar:"_3RWII",avatarDefault:"B9BIa",avatarImage:"jZhyM",isLoaded:"_13Xdg",avatarSquare:"eLUC2",avatarBorder:"L4M2f",status_v3:"_1G8Da",statusV3:"_1G8Da"}},cjfhhbcfdh:function(e,t,n){e.exports=n.p+"img/sticker-empty_9d7feb47a66ef5b59cc731acafd02266.png"},cjfiaefceb:function(e,t){e.exports={muted:"_4sjWD",ring:"_18eSE",read:"_3J6CL",unread:"_3yudO"}},cjgadgafji:function(e,t){e.exports={muted:"_1C0vb",btn:"_1g8sv",large:"NOJWi"}},cjgafgfbff:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("fffdgbfji"),f=a(c),d=n("cfiighfhhg"),p=a(d),h=n("dbabefhajh"),m=a(h),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg;return u.createElement(m.default,{msg:e,displayAuthor:this.props.displayAuthor},u.createElement(p.default,{iconName:"unknown",msg:e},f.default.t("check_phone_for_invite_message")))}}]),t}(u.Component);b.displayName="GroupsV4InviteMsgPlaceholder",t.default=b},cjgdeggcdi:function(e,t){e.exports={muted:"WHk74",inputEmoji:"_2hexs",wrapper:"_3ogpF",textInput:"_3B1_S",labelText:"Am8s6",clearInput:"_2DGEU",float:"WoUSh",textActive:"_35YcC",suggestionsPositioner:"_1A9F6",suggestionsContainer:"_2bcHA",charCounter:"_3LlXC",inputControls:"_1zv3N",charCounterWithClearBtn:"_2bX7-",spacer:"_388ph",noPlaceholder:"_1aGJU",buttonContainer:"_3vWnP",active:"_2Fvnm"}},cjhacaccbi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("dhigahgdjb"),m=a(h),b=n("ddbdcagdbi"),g=a(b),v=n("fifhbjiec"),y=a(v),_=n("bcbahjefec"),E=a(_),j=n("cgjcdbggeb"),w=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!m.default.isFilteredContact(e)&&(!t.participants.get(e.id)||l10n.t("already_added_to_group"))},a.confirmAddParticipant=function(e){var t=a.onAddParticipant.bind(a,e),n=l10n.t("confirm_add_group_participant",{participant:e.formattedName,subject:a.props.chat.contact.name});a.push(u.createElement(p.default,{onOK:t,okText:l10n.t("add_group_participant"),onCancel:a._pop,cancelText:l10n.t("web_cancel")},u.createElement(y.default,{text:n})))},a.onAddParticipant=function(e){(0,j.addParticipants)(a.props.chat,[e]).catch(function(){}),f.default.closeModal()},a._pop=function(){a.pop()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.push(u.createElement(g.default,{title:l10n.t("add_group_participant"),filter:this.contactFilter,onCancel:this._pop,onSelect:this.confirmAddParticipant}))}}]),t}(E.default);t.default=w},cjidjghdjj:function(e,t){e.exports={muted:"_3CMWE",body:"_1IiPy",vcardWrapper:"_1v8mQ"}},cjihajjici:function(e,t){e.exports={muted:"_2K_Lw",mediaPanelHeader:"_3Jv5R",info:"_31qvp",productName:"_1_-3U",mediaPanelTools:"OUGX2",infoName:"_2Hnjv"}},cjihgicbe:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("bfbggcdbfb"),i=n("bdiiahhjbe"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s={document:o.MEDIA_TYPE.DOCUMENT,video:o.MEDIA_TYPE.VIDEO,gif:o.MEDIA_TYPE.GIF,image:o.MEDIA_TYPE.PHOTO,audio:o.MEDIA_TYPE.AUDIO},u=function(){function e(t,n,r){a(this,e),this.mediaPickerSentUnchanged=0,this.mediaPickerDeleted=0,this.mediaPickerChanged=new Set,this.mediaPickerCroppedRotated=new Set,this.mediaPickerDrawing=new Set,this.mediaPickerStickers=new Set,this.mediaPickerText=new Set,this.mediaPickerLikeDoc=0,this.mediaPickerNotLikeDoc=0,this.mediaPickerOrigin=0,this.mediaPickerT=0,this.t0=Date.now(),this.mediaType=s[n],this.mediaPickerOrigin=r,this.medias=new Set,this.medias.add(t),this.changeTypes={mediaPickerCroppedRotated:this.mediaPickerCroppedRotated,mediaPickerDrawing:this.mediaPickerDrawing,mediaPickerStickers:this.mediaPickerStickers,mediaPickerText:this.mediaPickerText}}return r(e,[{key:"onAdd",value:function(e){this.medias.add(e),"document"===this.mediaType?this.mediaPickerLikeDoc++:this.mediaPickerNotLikeDoc++}},{key:"onChange",value:function(e,t){this.mediaPickerChanged.add(e),this.changeTypes[t].add(e)}},{key:"onDelete",value:function(e){if(this.medias.delete(e),this.mediaPickerDeleted++,0===this.medias.size)return this.onCancel()}},{key:"onSend",value:function(){return this.mediaPickerSent=this.medias.size,this.mediaPickerSentUnchanged=this.mediaPickerSent-this.mediaPickerChanged.size,this.dataPreflight()}},{key:"onCancel",value:function(){return this.mediaPickerSent=0,this.mediaPickerSentUnchanged=0,this.dataPreflight()}},{key:"onPause",value:function(){this.mediaPickerT+=Date.now()-(this.t0||0),this.t0=null}},{key:"onResume",value:function(){this.t0=this.t0||Date.now()}},{key:"dataPreflight",value:function(){var e=this.mediaPickerSentUnchanged;return isNaN(e)&&(e=0,l.default.assert(!1,"mediaPickerSentUnchange is not a number","mediaPickerSentUnchange mediaPickerSent: "+(this.mediaPickerSent||"undefined")+", mediaPickerChanged: "+(this.mediaPickerChanged.size||"undefined"))()),{mediaPickerSent:this.mediaPickerSent,mediaPickerSentUnchanged:e,mediaPickerT:this.mediaPickerT+(Date.now()-(this.t0||0)),mediaType:this.mediaType,mediaPickerOrigin:this.mediaPickerOrigin,mediaPickerChanged:this.mediaPickerChanged.size,mediaPickerCroppedRotated:this.mediaPickerCroppedRotated.size,mediaPickerDrawing:this.mediaPickerDrawing.size,mediaPickerStickers:this.mediaPickerStickers.size,mediaPickerText:this.mediaPickerText.size,mediaPickerLikeDoc:this.mediaPickerLikeDoc,mediaPickerNotLikeDoc:this.mediaPickerNotLikeDoc,mediaPickerDeleted:this.mediaPickerDeleted}}}]),e}();t.default=u},cjiiehdbge:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("ceffhbhahb"),p=a(d),h=n("hbabifghf"),m=a(h),b=n("ccgdfaeibd"),g=n("bgiachiigg"),v=n("bffjfbgbg"),y=a(v),_=n("ecibddhig"),E=r(_),j=n("gbfffciea"),w=a(j),O=n("biddiiafgd"),C=a(O),S=n("bfdcadbbif"),P=a(S),M=n("dfgeejdaib"),T=a(M),k=n("eceadcicaf"),N=a(k),I=n("ejbdjaifi"),R=n("chdhhgfaj"),A=a(R),D=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setRefGif=function(e){a._gifRef=e},a.getGifProvider=function(){switch(a.props.msg.gifAttribution){case g.VIDEO_MESSAGE_ATTRIBUTION.GIPHY:return b.GIPHY;case g.VIDEO_MESSAGE_ATTRIBUTION.TENOR:return b.TENOR;default:return""}},a.handleClick=function(e){switch(e.stopPropagation(),a.props.msg.mediaData.mediaStage){case y.default.STAGE.NEED_POKE:a.props.msg.downloadMedia(!0);break;case y.default.STAGE.FETCHING:a.props.msg.cancelDownload();break;case y.default.STAGE.UPLOADING:a.props.msg.cancelUpload();break;case y.default.STAGE.ERROR_MISSING:w.default.openModal(f.createElement(C.default,{title:l10n.t("missing_photo_title"),onOK:function(){return w.default.closeModal()},okText:l10n.t("web_ok")},l10n.t("missing_photo_text")))}},a.onUnstarMsg=function(){var e=a.props.msg;T.default.remove(e)},r=n,l(a,r)}return s(t,e),u(t,[{key:"animateGif",value:function(){var e=this;this.props.listeners.uiIdle(function(){e._gifRef&&e._gifRef.setShouldAnimate(!0)})}},{key:"componentDidMount",value:function(){this.animateGif()}},{key:"componentDidUpdate",value:function(){this.animateGif()}},{key:"componentWillMount",value:function(){var e=this,t=this.props.msg;this.props.listeners.add(t,"change:mediaData.mediaStage",function(){e.forceUpdate()}),this.props.listeners.uiIdle(function(){t.downloadMedia()})}},{key:"render",value:function(){var e=this.props.msg,t=e.mediaData,n=new b.GifInfo(void 0,t.renderableUrl,void 0,void 0,void 0,Math.round(t.aspectRatio*b.TARGET_GIF_HEIGHT),this.getGifProvider(),!1);if(t.mediaStage===y.default.STAGE.RESOLVED)return f.createElement(m.default,{key:e.filehash,ref:this.setRefGif,gif:n,onSend:this.props.onSend,isStarred:!0,onUnstarMsg:this.onUnstarMsg});if(t.preview){var a=t.preview.url(),r=void 0;switch(t.mediaStage){case y.default.STAGE.ERROR_MISSING:break;case y.default.STAGE.NEED_POKE:r=f.createElement(E.Download,null);break;case y.default.STAGE.FETCHING:case y.default.STAGE.UPLOADING:r=f.createElement(E.PendingCancel,null);break;default:r=f.createElement(E.Pending,null)}var i=(0,p.default)(A.default.thumb,o({},A.default.blur,t.mediaStage===y.default.STAGE.ERROR_MISSING)),l=f.createElement("div",{className:i,style:{backgroundImage:"url("+a+")",height:b.TARGET_GIF_HEIGHT+"px"}});return f.createElement("div",{className:A.default.container,style:{flexBasis:n.widthStr},key:e.filehash},f.createElement("div",{className:A.default.wrapper,style:{width:n.widthStr},onClick:this.handleClick},f.createElement("div",{className:A.default.innerWrapper,style:{paddingBottom:n.ratioStr}},r,l)),f.createElement("button",{className:A.default.starIcon,onClick:this.onUnstarMsg},f.createElement(P.default,{name:"star-light"})))}return null}}]),t}(f.Component);D.displayName="StarredGifPreview",t.default=(0,N.default)((0,I.hoc)(D))},cjijbdhgbf:function(e,t,n){"use strict";function a(e){var t=document.createElement("img");return t.src=e,{width:t.naturalWidth,height:t.naturalHeight}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},cjijcbcfhd:function(e,t,n){"use strict";var a=n("cahfddcdga"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o={parsePaymentInfo:function(e,t){t&&(e.currency=t.currency||"",e.amount1000=(0,r.default)(t.amount1000),e.receiverJid=this.decodeJid((0,r.default)(t.receiverJid)),e.paymentStatus=t.status,e.paymentTransactionTimestamp=(0,r.default)(t.transactionTimestamp))}};e.exports=o},cjijggjfed:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("hbhijdici"),h=a(p),m=n("bbfiaehhcd"),b=a(m),g=t.THEMES={CAROUSEL:"CAROUSEL",CAROUSEL_END:"CAROUSEL_END",MENU:"MENU"},v=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleClick=function(e){a.props.onClick&&a.props.onClick(a.props.sectionId,e)},r=n,i(a,r)}return l(t,e),s(t,[{key:"_getStyle",value:function(e){return h.default.isEqual(this._style,e)?this._style:(this._style=e,this._style)}},{key:"render",value:function(){var e,t=this.props,n=t.theme,a=t.title;return c.createElement("div",{ref:this.props.onRef,role:"button",className:(0,d.default)(b.default.tab,(e={},r(e,b.default.menu,n===g.MENU),r(e,b.default.carousel,n===g.CAROUSEL||n===g.CAROUSEL_END),r(e,b.default.carouselEnd,n===g.CAROUSEL_END),r(e,b.default.selected,this.props.selected),e)),onClick:this._handleClick,style:this._getStyle({width:this.props.width,transform:this.props.transform}),title:a},this.props.children)}}]),t}(c.PureComponent);v.displayName="MenuTab",t.default=v},cjjjgbhjif:function(e,t){e.exports={muted:"crGsa",icon:"_3p0T6",transparent:"w4k6i"}},daadijaaah:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ddbdcagdbi"),f=a(c),d=n("ccaaiecfib"),p=a(d),h=n("bhhdeihhhf"),m=a(h),b=n("caffijjhc"),g=a(b),v=n("dbjbhajgfd"),y=a(v),_=n("bjigbaghc"),E=a(_),j=n("jccfhaecf"),w=a(j),O=n("dbdfbgehgj"),C=a(O),S=n("gbfffciea"),P=a(S),M=n("eceadcicaf"),T=a(M),k=n("ejbdjaifi"),N=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={contextMenu:null},a.openChat=function(e){C.default.find(e).then(function(e){P.default.closeModal(),P.default.openChatFromUnread(e)})},a.contextMenu=function(e){return!w.default.equals(E.default.me,e)},a.onParticipantMenu=function(e,t){var n=a.props.chat.groupMetadata.participants,r=n.assertGet(t.id),o=[];if(n.canPromote(r)){var i=a.props.onParticipantPromote.bind(null,r,!1);o.push(u.createElement(m.default,{a8n:"mi-grp-promote-admin",key:"promote",action:i},l10n.t("menuitem_make_group_admin")))}if(n.canRemove(r)){var l=a.props.onParticipantRemove.bind(null,r,!1);o.push(u.createElement(m.default,{a8n:"mi-grp-remove-participant",key:"remove",action:l},l10n.t("menuitem_remove")))}if(p.default.supportsFeature(p.default.F.GROUPS_V_3)&&n.canDemote(r)){var s=a.props.onDemoteAdmin.bind(a,r);o.push(u.createElement(m.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:s},l10n.t("dismiss_as_admin")))}w.default.equals(E.default.me,r.id)||o.push(u.createElement(m.default,{key:"message author",action:a.openChat.bind(null,r.contact.id)},l10n.t("message_author",{author:r.contact.formattedName}))),e.anchor||e.event||e.persist(),a.setState({contextMenu:{contactId:t.id,menu:o,anchor:e.anchor,event:e.anchor?void 0:e}})},a.contextClose=function(){a.setState({contextMenu:null})},a.contextEnabled=function(){return!1},a.cancel=function(){P.default.closeModal()},a.isAdmin=function(e){return a.props.chat.groupMetadata.participants.assertGet(e).isAdmin},a.contactFilter=function(e){return!!a.props.chat.groupMetadata.participants.get(e.id)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata.participants;this.props.listeners.add(t,"add remove reset",function(){e.forceUpdate()})}},{key:"render",value:function(){var e=void 0;return this.state.contextMenu&&(e=u.createElement(g.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},u.createElement(y.default,{contextMenu:this.state.contextMenu}))),u.createElement(u.Fragment,null,u.createElement(f.default,{title:l10n.t("search_participants_title"),filter:this.contactFilter,onCancel:this.cancel,openContextOnClick:!0,contextEnabled:this.contextEnabled,contextMenu:this.contextMenu,onContext:this.onParticipantMenu,showNotifyName:!0,listenForAdminChange:!0,participantCollection:this.props.chat.groupMetadata.participants}),e)}}]),t}(u.Component);N.displayName="GroupParticipantSearch",t.default=(0,T.default)((0,k.hoc)(N))},daahhbhaaf:function(e,t){e.exports={muted:"_1f2ta",wrapper:"_1Ahi2",inactive:"zU1W3",offline:"_3-OfU",circle:"_38rfD",text:"t5gsa",backToCenter:"_4QzIW",visible:"_71XX9"}},dabbhadeic:function(e,t){e.exports={muted:"_3PomN",listUser:"_2rZZg",header:"_3Jvyf",listControls:"sbcXq"}},dabbjcaadh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("ebcagbhefg"),d=a(f),p=n("bgddggdhc"),h=n("hbhijdici"),m=a(h),b=n("effbcehec"),g=a(b),v=n("cbcchiaeeb"),y=a(v),_=n("cgijjjgici"),E=a(_),j=n("djdhjggcbi"),w=a(j),O=n("bcifhbgija"),C=a(O),S=n("jdcjegfeb"),P=a(S),M=n("ifijdebbd"),T=a(M),k=n("dejcdgeeje"),N=a(k),I=n("bijegdjcac"),R=a(I),A=n("djigcbdaeh"),D=a(A),x=n("ecfbchagde"),L=a(x),F=n("dbdidgdgai"),U=a(F),B=n("gbfffciea"),G=a(B),V=n("bfbggcdbfb"),W=a(V),H=n("didfdhbecg"),Y=a(H),q=n("dceicchccd"),K=a(q),z=n("ddffjbhaib"),Q=a(z),X=n("ejbdjaifi"),J=n("cajijabhgb"),Z=r(J),$=n("egjjcjcg"),ee=a($),te=n("ccaaiecfib"),ne=a(te),ae=n("bfgbdiffgd"),re=a(ae),oe=n("ihfccfgdf"),ie=a(oe),le=n("eceadcicaf"),se=a(le),ue=n("bjbedjfe"),ce=a(ue),fe=n("caffijjhc"),de=a(fe),pe=n("ccbjfaficd"),he=a(pe),me=n("eadfaddcj"),be=a(me),ge=n("cahfddcdga"),ve=a(ge),ye=n("djjdedaheg"),_e=a(ye),Ee=n("bchahacead"),je=a(Ee),we=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));e.fillerHeight=0,e.updateAnnounceGrpState=function(){e.forceUpdate()},e.onComposeState=function(){var t=e.props.chat.canSend;e.state.canCompose!==t&&e.setState({canCompose:t})},e.onComposeHeightChange=function(t,n){var a=t.input,r=t.overlay,o=void 0===r?0:r,i=(0,p.forbiddenFindDOMNode)(e.refMsgPanel);if(i&&e.msgs){var l=e.msgs,s=l.getScrollBottom();if(void 0!==a)return void e.msgs.onComposeHeightChange(a);if(n)return e.fillerHeight=o,void(e.refFiller&&(e.refFiller.style.height=e.fillerHeight+"px",e.msgs.setScrollBottom(s)));e.fillerHeight+=o,o<0&&(e.refFiller&&(e.refFiller.style.height=e.fillerHeight+"px"),e.msgs&&e.msgs.setScrollBottom(s)),e.msgPanelAnimation&&(e.didCancel=!0,e.msgPanelAnimation.cancel()),e.msgPanelAnimation=(e.msgPanelAnimation||Promise.resolve()).then(function(){return(0,C.default)(i,{translateY:o>0?[-o,0]:[0,o]},{duration:300,easing:[.1,.82,.25,1]})}).cancellable().catch(Z.Unmount,function(){}).then(function(){o>0&&e.refFiller&&(e.refFiller.style.height=e.fillerHeight+"px"),i.style.transform="",e.msgs&&o>0&&e.msgs.setScrollBottom(s)}).catch(Promise.CancellationError,function(){(0,C.default)(i,"finish",!0)}).then(function(){e.didCancel?e.didCancel=!1:e.msgPanelAnimation=void 0})}},e.onWallpaperColorPreview=function(t){t?e.state.wallpaperColor!==t&&e.setState({wallpaperColor:t}):e.setState({wallpaperColor:d.default.get("defaultPreference").wallpaperColor})},e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,n,a){e.onSelectMessages();var r=e.selectedMessages.getSelected().pop(),o=a&&a.shiftKey;e.selectedMessages.setVal(t,n,!0),o&&e.selectMsgRange(r,t,n)},e.selectMsgRange=function(t,n,a){var r=e.props.msgCollection;if(t&&r){var o=r.indexOf(t);if(o)for(var i=r.indexOf(n),l=i>o?-1:1,s=o+(a?l:i<o?0:2*l);i!==s;)e.selectedMessages.setVal((0,ve.default)(r.at(i)),a,!0),i+=l}},e.onPageUpDown=function(t){e.msgs.onPageUpDown(t)},e.onDragStart=function(t){e.state.canCompose&&(e.blockDrop=!0)},e.onDragEnd=function(t){e.state.canCompose&&(e.blockDrop=!1)},e.onDragEnter=function(t){e.state.canCompose&&(e.onCancelSelection(),e.ComposeBoxRef&&!e.blockDrop&&t.dataTransfer&&(m.default.includes(t.dataTransfer.types,"Files")||m.default.includes(t.dataTransfer.types,"text/uri-list")||m.default.includes(t.dataTransfer.types,"text/html"))&&(e.ComposeBoxRef.saveComposeContentDebounced.flush(),G.default.attachMediaDrawer({chat:e.props.chat,initCaption:e.ComposeBoxRef.getCurrentComposeContent(),onComplete:e.ComposeBoxRef.updateTextAfterMediaDrawerClose}),t.stopPropagation(),t.preventDefault()))},e.getComposeContents=function(){return e.ComposeBoxRef&&e.ComposeBoxRef.getCurrentComposeContent()},e.onMenuComplete=function(t,n){return e.ComposeBoxRef&&e.ComposeBoxRef.updateTextAfterMediaDrawerClose(t,n)},e.setRefFiller=function(t){e.refFiller=t},e.setRefMsgPanel=function(t){e.refMsgPanel=t},e.handleSetRefHeader=function(t){e.refHeader=t},e.getHeaderOffset=function(t){if(e.refHeader){var n=e.refHeader.getBoundingClientRect();t(m.default.pick(n,["right","bottom"]))}else t(null)},e.closeGroupDescription=function(){e.setState({showGroupDesc:!1})},e.getMsgs=(0,X.GetRef)("msgs",e);var n=e.props.chat;return e.selectedMessages=new K.default([],function(e){return e.id.toString()}),e.state={canCompose:n.canSend,selectable:!1,showGroupDesc:n.isGroup&&e.showGroupDesc(),wallpaperColor:e.props.chatPreference.wallpaperColor},e}return l(t,e),s(t,[{key:"showGroupDesc",value:function(){if(!(ne.default.supportsFeature(ne.default.F.GROUPS_V_3)&&re.default.groupDescLength>0))return!1;var e=this.props.chat;return!ee.default.getSeenGroupDesc(e.id)&&(ee.default.setSeenGroupDesc(e.id),0===e.unreadCount?!e.msgs.some(function(e){return e.type!==be.default.MSG_TYPE.E2E_NOTIFICATION&&e.type!==be.default.MSG_TYPE.GP2}):!e.shouldShowUnreadDivider)}},{key:"componentWillMount",value:function(){var e=this.props.chat;this.props.listeners.add(e,"change:canSend",this.onComposeState),this.props.listeners.add(e,"change:isReadOnly change:isAnnounceGrpRestrict",this.updateAnnounceGrpState),this.props.listeners.add(G.default,"get_conversation_header_offset",this.getHeaderOffset),this.openEvent=new W.default.WebcChatOpen({webcUnreadCount:e.unreadCount,webcWindowHeight:(0,w.default)()}),this.uiActionEvent=new W.default.UiAction({uiActionType:W.default.UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0});var t=e.getReceivedVCardMsgs();t&&!t.isSynced&&t.sync(e)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.set({active:!0,viewed:!0});var n=this.openEvent;if(n){this.openEvent=null,this.msgs&&(n.webcRenderedMessageCount=this.msgs.getRenderedMessageCount()),n.markWebcChatOpenT(),this._beforePaintRafId=requestAnimationFrame(function(){e._beforePaintRafId=null,n.markWebcChatOpenBeforePaintT()});var a=this.props.rejectOnUnmount();(0,y.default)({signal:a}).then(function(){a.isRejected()||(e.msgs&&(n.webcFinalRenderedMessageCount=e.msgs.getRenderedMessageCount()),n.markWebcChatOpenPaintedT(),n.commit())}).catch(E.default,function(){})}var r=this.uiActionEvent;r&&(r.markUiActionT(),r.commit(),this.uiActionEvent=void 0),this.props.listeners.add(d.default,"wallpaper_color_preview",this.onWallpaperColorPreview),t.composeAttachMediaContents&&G.default.attachMediaDrawer({chat:t,animationName:"noop"})}},{key:"componentWillUnmount",value:function(){var e=this.props.chat;e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),e.active=!1,null!=this._beforePaintRafId&&cancelAnimationFrame(this._beforePaintRafId)}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.msgCollection,a=e.focusCtx,r=e.groupMetadata,o=void 0,i=void 0,l=void 0,s=void 0;if(this.state.showGroupDesc&&r&&r.desc&&(s=c.createElement(de.default,{displayName:"GroupDesc",escapable:!0,requestDismiss:this.closeGroupDescription},c.createElement(D.default,{onClose:this.closeGroupDescription},c.createElement(_e.default,{chat:t,groupMetadata:r})))),this.state.selectable)i=c.createElement(de.default,{displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},c.createElement(U.default,{chat:t,selectedMessages:this.selectedMessages,disableRevoke:!1,noSortOnForward:!1,onCancel:this.onCancelSelection})),o=c.createElement("footer",{className:he.default.footer}),l=c.createElement("div",{ref:this.setRefFiller,className:he.default.filler});else if(this.state.canCompose)o=c.createElement(L.default,{chat:t,ref:(0,X.GetRef)("ComposeBoxRef",this),onComposeHeightChange:this.onComposeHeightChange,onPageUpDown:this.onPageUpDown}),l=c.createElement("div",{ref:this.setRefFiller,style:{height:this.fillerHeight+"px"},className:he.default.filler});else{var u=void 0,f=void 0;t.isGroup&&!t.isReadOnly&&t.isAnnounceGrpRestrict&&r?u=c.createElement(je.default,{chat:t,groupMetadata:r,mute:t.mute}):f=t.isGroup?l10n.t("web_cannot_send_not_a_group_participant"):t.isPSA?l10n.t("web_psa_title"):l10n.t("web_cannot_send_to_blocked_contact_1",{contact:t.contact.formattedName}),o=c.createElement("footer",{className:he.default.footer},c.createElement("div",{"data-a8n":g.default.key("block-message"),className:he.default.footerMessage},u||f))}return c.createElement(de.default,{displayName:"ConversationPanel",state:de.default.State.INACTIVE},c.createElement("div",{id:"main",className:he.default.pane},c.createElement(T.default,{wallpaperColor:this.state.wallpaperColor}),c.createElement(N.default,{chat:t,onSelectMessages:this.onSelectMessages,canAttach:this.state.canCompose,onRef:this.handleSetRefHeader,getComposeContents:this.getComposeContents,onMenuComplete:this.onMenuComplete}),c.createElement(Y.default,{transitionName:"butterbar",className:he.default.subheader},s),c.createElement("div",{className:he.default.subheader},c.createElement(P.default,{chat:t})),c.createElement("div",{className:he.default.body,ref:this.setRefMsgPanel,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragEnter:this.onDragEnter},c.createElement(R.default,{ref:this.getMsgs,chat:t,selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,msgCollection:n,onSelectMessages:this.onSelectMessages,focusCtx:a,selectedMessages:this.selectedMessages,notifyChatRendered:this.props.notifyChatRendered,updateOpenedChatInfo:this.props.updateOpenedChatInfo})),l,o,c.createElement(Y.default,{transitionName:"slide-up"},i),c.createElement(Q.default,null)))}}]),t}(c.Component);we.CONCERNS={chatPreference:["wallpaperColor"]},we.WEAK_CONCERNS={groupMetadata:["desc","announce","participants"]},we.displayName="ConversationPanel",e.exports=(0,ce.default)((0,se.default)((0,ie.default)((0,X.hoc)(we),we.CONCERNS)))},dabcaghhah:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r,o={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:(r={},a(r,0,"0"),a(r,1,"1"),a(r,2,"2"),a(r,3,"3"),a(r,4,"4"),a(r,5,"5"),a(r,6,"6"),a(r,7,"7"),a(r,8,"8"),a(r,9,"9"),a(r,10,"-"),a(r,11,"."),a(r,15,"\0"),r)};e.exports=o},dabcbibhcf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return i.createElement("div",{className:(0,s.default)(c.default.centerChild,c.default.show)},i.createElement(d.default,{name:"sticker"}))}Object.defineProperty(t,"__esModule",{value:!0});var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("cegfacfjjj"),c=a(u),f=n("bfdcadbbif"),d=a(f);r.displayName="StickerPackIconPlaceHolder",t.default=r},dabdhgiijc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("cajijabhgb"),f=r(c),d=n("dbcedfihd"),p=r(d),h=n("ddhijeejag"),m=r(h),b=n("effbcehec"),g=a(b),v=n("cjhacaccbi"),y=a(v),_=n("cgfeeffgi"),E=a(_),j=n("dhbceejbjg"),w=a(j),O=n("dbdfbgehgj"),C=a(O),S=n("bjebjijbfc"),P=a(S),M=n("gbfffciea"),T=a(M),k=n("biddiiafgd"),N=a(k),I=n("bjigbaghc"),R=a(I),A=n("eadfaddcj"),D=a(A),x=n("djcchigfih"),L=a(x),F=n("gejdcbjjd"),U=a(F),B=n("djbhiedbef"),G=a(B),V=n("cabhjigfgc"),W=a(V),H=n("dajffajabh"),Y=a(H),q=n("fijafegab"),K=a(q),z=n("bhhdeihhhf"),Q=a(z),X=n("fifhbjiec"),J=a(X),Z=n("bggeiidigb"),$=a(Z),ee=n("bbhhbdicgc"),te=a(ee),ne=n("dgjddffcfg"),ae=a(ne),re=n("ccaaiecfib"),oe=a(re),ie=n("daadijaaah"),le=a(ie),se=n("cigbgdjabj"),ue=a(se),ce=n("eceadcicaf"),fe=a(ce),de=n("ebdahjichh"),pe=a(de),he=n("bdiiahhjbe"),me=a(he),be=n("bfajcggcdf"),ge=a(be),ve=n("bfffgbbdch"),ye=a(ve),_e=n("fbcdaahdd"),Ee=a(_e),je=n("jbchjhhe"),we=a(je),Oe=n("cdcaigjjii"),Ce=a(Oe),Se=n("bfejacaeaj"),Pe=a(Se),Me=n("dadhidfcfe"),Te=a(Me),ke=n("fdcfhecbj"),Ne=a(ke),Ie=n("bfgbdiffgd"),Re=a(Ie),Ae=n("ihfccfgdf"),De=a(Ae),xe=n("dhdhbgbhed"),Le=a(xe),Fe=n("bfdcadbbif"),Ue=a(Fe),Be=n("eedjbihej"),Ge=a(Be),Ve=n("hfhhcchgj"),We=a(Ve),He=n("bfjajhbdf"),Ye=a(He),qe=n("caffijjhc"),Ke=a(qe),ze=n("dbjbhajgfd"),Qe=a(ze),Xe=n("dcjdgceiej"),Je=a(Xe),Ze=n("jccfhaecf"),$e=a(Ze),et=n("gaifbabbj"),tt=n("bbbdgehigj"),nt=n("ejbdjaifi"),at=n("dcbafbaejf"),rt=n("biiiigbhdf"),ot=n("hjbhabfd"),it=n("cgjcdbggeb"),lt=n("bheafeifce"),st=(0,He.genId)("max_participant_toast"),ut=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ct.call(n);var a=n.props,r=a.groupMetadata,o=r.desc,s=r.participants,u=r.pendingParticipants,c=a.showFullGroupDescription;return n.state={pendingSubject:!1,pendingDesc:!1,pendingPhoto:!1,contextMenu:null,name:e.contact.name,groupDesc:o,descTruncated:!c&&!!(o&&o.length>30),participantListCollapsed:s.length>D.default.INFO_DRAWER_MAX_ROWS,pendingParticipantListCollapsed:u.length>D.default.INFO_DRAWER_MAX_ROWS},n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.groupMetadata;oe.default.supportsFeature(oe.default.F.GROUPS_V_4_JOIN_PERMISSION)&&t.queryGroupV4PendingInvite(),this.props.listeners.add(t.participants,"add remove reset sort change:isAdmin change:isSuperAdmin",function(){e.forceUpdate()}),this.props.listeners.add(t.pendingParticipants,"add remove reset",function(){e.forceUpdate()}),this.props.listeners.add(t,"change:desc",function(){e.updateGroupDescOnModelChange()})}},{key:"getData",value:function(){var e=void 0,t=[],n=[],a=this.props.groupMetadata.participants;a.forEach(function(a){a.contact.isMe?e=a:a.isAdmin?t.push(a):n.push(a)});var r=[];return e&&r.push(e),r=r.concat(t,n),a.length>D.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed&&(r=r.slice(0,D.default.INFO_DRAWER_MAX_ROWS)),r.map(function(e){return{key:e.id.toString(),id:e.id}})}},{key:"getPendingParticipantListData",value:function(){var e=this.props.groupMetadata.pendingParticipants.toArray(),t=[].concat(o(e));return e.length>D.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed&&(t=t.slice(0,D.default.INFO_DRAWER_MAX_ROWS)),t.map(function(e){return{key:e.id.toString(),id:e.id}})}},{key:"render",value:function(){var e=this.props.chat,t=this.props.groupMetadata,n=m.createElement(K.default,null,m.createElement(W.default,{a8nText:"li-delete-group",icon:m.createElement(Ue.default,{name:"exit",directional:!0}),theme:"list-aligned",color:"danger",onClick:this.onExitOrDeleteGroup},e.isReadOnly?l10n.t("web_delete_group"):l10n.t("web_exit_group"))),a=void 0;e.isReadOnly||(a=m.createElement(K.default,null,m.createElement(W.default,{a8nText:"li-report-spam",theme:"list-aligned",color:"danger",icon:m.createElement(Ue.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},l10n.t("report_group"))));var r=void 0;if(t.participants.canAdd()){var o=m.createElement(Ne.default,null,m.createElement(Ue.default,{name:"add-user-light",directional:!0}));r=m.createElement(w.default,{image:o,theme:"drawer-list",primary:l10n.t("add_group_participant"),onClick:this.openAddGroupParticipantFlow})}var i=void 0;if(t.participants.iAmAdmin()&&this.props.onGroupInviteLink){var l=m.createElement(Ne.default,null,m.createElement(Ue.default,{name:"link"}));i=m.createElement(w.default,{image:l,theme:"drawer-list",primary:l10n.t("group_invite_link"),onClick:this.props.onGroupInviteLink})}var s=void 0;if(t.participants.length>D.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed){var u=t.participants.length-D.default.INFO_DRAWER_MAX_ROWS,c=m.createElement(Ne.default,{theme:"transparent"},m.createElement(Ue.default,{name:"down",directional:!0}));s=m.createElement(w.default,{image:c,theme:"drawer-list",primary:l10n.t("group_show_more_contacts",{count:u,_plural:u}),onClick:this.onShowMore})}var f=void 0;if(t.pendingParticipants.length>D.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed){var d=t.pendingParticipants.length-D.default.INFO_DRAWER_MAX_ROWS,h=m.createElement(Ne.default,{theme:"transparent"},m.createElement(Ue.default,{name:"down",directional:!0}));f=m.createElement(w.default,{image:h,theme:"drawer-list",primary:l10n.t("group_show_more_contacts",{count:d,_plural:d}),onClick:this.onShowMorePendingParticipants})}var b=void 0;t.pendingParticipants.length>0&&(b=m.createElement(te.default,{flatListController:this.pendingParticipantFlatListController,forceConsistentRenderCount:!1,data:this.getPendingParticipantListData(),renderItem:this.renderPendingParticipantItem}));var v=void 0,y=Re.default.restrictGroups||Re.default.announceGroups;if(t.participants.iAmAdmin()&&oe.default.supportsFeature(oe.default.F.GROUPS_V_3)&&y){var _=m.createElement(Ue.default,{name:"chevron-right-alt",directional:!0});v=m.createElement(U.default,{onClick:this.props.onAdminSetting,side:_},m.createElement(Ge.default,{theme:"title"},l10n.t("group_setting_title")))}var E=m.createElement(Ue.default,{name:"search"}),j=t.participants.length?m.createElement(K.default,{a8nText:"section-participants",title:l10n.t("web_participants_title",{count:t.participants.length,_plural:t.participants.length}),titleOnClick:oe.default.supportsFeature(oe.default.F.GROUPS_V_3)?this.openParticpantSearch:void 0,subtitle:oe.default.supportsFeature(oe.default.F.GROUPS_V_3)?E:void 0},r,i,m.createElement(te.default,{flatListController:this.participantFlatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),s):null,O=void 0;t.participants.iAmAdmin()&&t.pendingParticipants.length>0&&(O=m.createElement(K.default,{a8nText:"section-participants",title:l10n.t("group_v4_invite_list_section_header",{number:t.pendingParticipants.length})},b,f));var C=null;if(this.props.onMediaGallery){var S=this.props.onMediaGallery,M=m.createElement(Ue.default,{name:"chevron-right-alt",directional:!0}),T=oe.default.supportsFeature(oe.default.F.LINK_DOC_GALLERY)?l10n.t("media_links_docs"):l10n.t("media");C=m.createElement(K.default,{a8nText:"section-media",title:T,titleOnClick:S,subtitle:M,theme:"padding"},m.createElement(ge.default,{chat:(0,lt.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var k=this.props.contact.profilePicThumb,N=Ce.default.GROUP,I=e.isReadOnly||!k.canDelete()&&!k.canSet(),R=m.createElement("div",{className:Le.default.avatar},m.createElement(we.default,{type:N,id:this.props.contact.id,attachToChat:!0,pending:this.state.pendingPhoto,startImage:this.props.profilePicThumb.imgFull,readOnly:I,onImageSet:this.onImageSet})),A=null;this.props.groupMetadata.creation&&(A=m.createElement("div",{"data-a8n":g.default.key("group-created-time"),className:Le.default.nameSecondary},m.createElement(Ge.default,{theme:"muted"},l10n.t("web_group_creation_time",{when:P.default.relativeDateAndTimeStr(this.props.groupMetadata.creation)}))));var x=null;oe.default.supportsFeature(oe.default.F.LIVE_LOCATIONS)&&(x=m.createElement(pe.default,{chat:e,onClick:this.props.onLiveLocation}));var F=e.mute.canMute()?m.createElement(ye.default,{chat:e,mute:e.mute}):null,B=null;if(this.props.onStarred){var V=m.createElement(Ue.default,{name:"chevron-right-alt",directional:!0});B=m.createElement(U.default,{side:V,onClick:this.props.onStarred},m.createElement(Ge.default,{theme:"title"},l10n.t("chat_starred_msgs")))}var q=void 0;this.state.contextMenu&&(q=m.createElement(Ke.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},m.createElement(Qe.default,{contextMenu:this.state.contextMenu})));var z=null;(F||B)&&(z=m.createElement(K.default,null,F,B,null,v));var Q=void 0;if(oe.default.supportsFeature(oe.default.F.GROUPS_V_3)&&Re.default.groupDescLength>0){var X=this.state.groupDesc||"",J={textLimit:this.state.descTruncated?D.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:1/0,readMoreText:l10n.t("read_more"),onReadMore:this.onDescriptionReadMore,formatters:this.props.chat.isTrusted()?et.Configuration.TrustedGroupDesc({links:p.findLinks(X)}):et.Configuration.UntrustedGroupDesc()};Q=m.createElement(K.default,{theme:"group-desc-padding",title:l10n.t("group_description_title")},m.createElement("div",{className:Le.default.description},m.createElement(We.default,{value:X,emptyValuePlaceholder:l10n.t("add_group_description"),renderEmojiTextInLockMode:J,editable:this.canEditGroupDescription(),pending:this.state.pendingDesc,showRemaining:!0,maxLength:Re.default.groupDescLength,onChange:this.onGroupDescChange,onSave:this.onSetDescription,onCancel:this.onCancelDesc,multiline:!0,editRestrictionInfo:t.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,customStyleThemes:[Ve.TextInputCustomStyleThemes.groupInfoName],theme:"small"})))}return m.createElement(L.default,{key:"contact-info-modal"},m.createElement(Y.default,{title:l10n.t("web_group_info"),type:H.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),m.createElement(G.default,{flatListControllers:[this.pendingParticipantFlatListController,this.participantFlatListController]},m.createElement("div",{className:Le.default.body},m.createElement(K.default,{theme:"padding-large"},R,m.createElement(We.default,{value:this.state.name||"",editable:t.canSetSubject(),pending:this.state.pendingSubject,showRemaining:!0,validate:this.validateSubject,maxLength:Re.default.maxSubject,onChange:this.onSubjectChange,onSave:this.onSetSubject,onError:this.onSetSubjectError,onCancel:this.onCancelSubject,editRestrictionInfo:t.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,theme:"large",customStyleThemes:[Ve.TextInputCustomStyleThemes.groupInfoName]}),A,m.createElement(ue.default,{labels:e.labels})),Q,x,C,z,null,j,O,n,a)),q)}}]),t}(m.Component);ut.contextTypes={uim:Pe.default.instanceOf(Je.default)},ut.CONCERNS={chat:["isReadOnly","mute","id","pendingAction","liveLocation","labels"],groupMetadata:["desc","participants","pendingParticipants","creation","restrict","announce"],contact:["name","id","profilePicThumb","pendingAction"],profilePicThumb:["imgFull"]};var ct=function(){var e=this;this.participantFlatListController=new $.default,this.pendingParticipantFlatListController=new $.default,this.updateGroupDescOnModelChange=function(){e.props.groupMetadata&&e.setState({groupDesc:e.props.groupMetadata.desc})},this.onImageSet=function(t,n){var a=e.props.profilePicThumb;e.setState({pendingPhoto:!0});var r=void 0;r=t&&n?(0,tt.setProfilePic)(a,t,n):(0,tt.deleteProfilePic)(a),r.then(function(){e.setState({pendingPhoto:!1})}).catch(f.Unmount,function(){})},this.onParticipantClick=function(e,t){$e.default.equals(R.default.me,t.id)||C.default.find(t.id).then(function(e){T.default.openChatFromUnread(e).then(function(t){t&&T.default.focusChatTextInput(e)})})},this.menuEnabled=function(t){var n=e.props.groupMetadata.participants,a=n.get(t.id);return!!a&&(n.canPromote(a)||n.canRemove(a)||n.canVerifyIdentity(a))},this.onDemoteAdmin=function(t){t.contact.pendingAction++,(0,it.demoteParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),e.setState({contextMenu:null})},this.onParticipantMenu=function(t,n){var a=e.props.groupMetadata.participants,r=a.assertGet(n.id);if(e.menuEnabled(n)){var o=[];if(a.canPromote(r)){var i=e.confirmParticipantPromote.bind(e,r);o.push(m.createElement(Q.default,{a8n:"mi-grp-promote-admin",key:"promote",action:i},l10n.t("menuitem_make_group_admin")))}if(a.canRemove(r)){var l=e.confirmParticipantRemove.bind(e,r);o.push(m.createElement(Q.default,{a8n:"mi-grp-remove-participant",key:"remove",action:l},l10n.t("menuitem_remove")))}if(oe.default.supportsFeature(oe.default.F.GROUPS_V_3)&&a.canDemote(r)){var s=e.onDemoteAdmin.bind(e,r);o.push(m.createElement(Q.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:s},l10n.t("dismiss_as_admin")))}t.event&&t.event.persist(),e.setState({contextMenu:{contactId:n.id,menu:o,anchor:t.anchor,event:t.event}})}},this.contextClose=function(){e.setState({contextMenu:null})},this.confirmParticipantRemove=function(t){var n=e.onParticipantRemove.bind(e,t,!0),a=l10n.t("confirm_remove_group_participant",{participant:t.contact.formattedName,subject:e.props.contact.name});T.default.openModal(m.createElement(N.default,{onOK:n,okText:l10n.t("remove"),onCancel:function(){return T.default.closeModal()},cancelText:l10n.t("web_cancel")},m.createElement(J.default,{text:a})))},this.onParticipantRemove=function(t,n){t.contact.pendingAction++,(0,it.removeParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),n&&T.default.closeModal()},this.confirmParticipantPromote=function(t){var n=e.onParticipantPromote.bind(e,t,!0),a=l10n.t("confirm_promote_group_participant",{participant:t.contact.formattedName,subject:e.props.contact.name});T.default.openModal(m.createElement(N.default,{onOK:n,okText:l10n.t("menuitem_make_group_admin"),onCancel:function(){return T.default.closeModal()},cancelText:l10n.t("web_cancel")},m.createElement(J.default,{text:a})))},this.onParticipantPromote=function(t,n){t.contact.pendingAction++,(0,it.promoteParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),n&&T.default.closeModal()},this.openAddGroupParticipantFlow=function(){var t=e.props.chat;if(e.props.groupMetadata.participants.length>=Re.default.maxParticipants){var n=l10n.t("action_group_create_failed_participant",{max:Re.default.maxParticipants});T.default.openToast(m.createElement(Ye.default,{msg:n,id:st}))}else{var a=oe.default.supportsFeature(oe.default.F.GROUPS_V_3)?m.createElement(E.default,{chat:(0,lt.unproxy)(t),pushTransition:"none",popTransition:"none"}):m.createElement(y.default,{chat:(0,lt.unproxy)(t),pushTransition:"none",popTransition:"none"});T.default.openModal(a,{transition:"modal-flow"})}},this.openParticpantSearch=function(){T.default.openModal(m.createElement(le.default,{chat:(0,lt.unproxy)(e.props.chat),onParticipantPromote:e.onParticipantPromote,onParticipantRemove:e.onParticipantRemove,onDemoteAdmin:e.onDemoteAdmin}),{transition:"modal-flow"})},this.onClose=function(){e.props.onClose?e.props.onClose():e.context.uim.uie.requestDismiss()},this.onExitOrDeleteGroup=function(){T.default.deleteOrExitChat(e.props.chat)},this.onSubjectChange=function(t){e.setState({name:t})},this.onGroupDescChange=function(t){e.setState({groupDesc:t})},this.validateSubject=function(e){return!(!e||!e.trim())},this.onSetSubjectError=function(){T.default.openModal(m.createElement(N.default,{onOK:function(){return T.default.closeModal()},okText:l10n.t("web_ok")},l10n.t("action_group_subject_empty")))},this.onSetSubject=function(t){var n=e.props.chat;if(e.props.groupMetadata.canSetSubject()){var a=ae.default.emojify(e.state.name||"");if(a===e.props.contact.name)return e.setState({name:a});e.setState({pendingSubject:!0}),(0,rt.setGroupSubject)(n,a).then(function(){e.setState({name:e.props.contact.name,pendingSubject:!1})}).catch(f.Unmount,function(){})}},this.onSetDescription=function(t){var n=e.props,a=n.chat,r=n.groupMetadata;if(r.canSetDescription()){var o=e.state.groupDesc||"",i=o.match(/\r\n/gm)?"\r\n":"\n",l=new RegExp("^("+i+"{2,})([^\n])","gm");o=o.replace(l,i+"$2");var s=ae.default.emojify(o||"");if(s===r.desc)return e.setState({groupDesc:s});e.setState({pendingDesc:!0}),(0,ot.setGroupDesc)(a,s).then(function(){e.setState({groupDesc:r.desc,pendingDesc:!1})}).catch(f.Unmount,function(){}).catch(function(t){me.default.error("group_info_drawer:onSetDescription failed")(t),e.setState({groupDesc:e.props.groupMetadata.desc,pendingDesc:!1})})}},this.onCancelSubject=function(){e.setState({name:e.props.contact.name})},this.onCancelDesc=function(){e.setState({groupDesc:e.props.groupMetadata.desc})},this.onShowMore=function(){e.setState({participantListCollapsed:!1})},this.onShowMorePendingParticipants=function(){e.setState({pendingParticipantListCollapsed:!1})},this.renderItem=function(t){var n=t.id,a=e.props.groupMetadata.participants.get(n);if(!a)throw new ee.UnknownDataError(t);var r=a.contact,o=!!e.state.contextMenu&&$e.default.equals(r.id,e.state.contextMenu.contactId);return m.createElement(Ee.default,{contact:r,participant:a,key:a.id.toString(),onClick:e.onParticipantClick,contextEnabled:e.menuEnabled.bind(e,r),contextMenu:o,onContext:function(t){return e.onParticipantMenu(t,r)},showNotifyName:!0,waitIdle:!0})},this.onReportSpam=function(){T.default.openModal(m.createElement(Te.default,{isGroupChat:!0,onReport:e.reportSpam,onReportExitClear:e.reportSpamExitClear,onCancel:function(){return T.default.closeModal()}}))},this.reportSpam=function(){(0,at.sendSpamReport)(e.props.chat),T.default.closeModal()},this.reportSpamExitClear=function(){(0,at.sendSpamExitClear)(e.props.chat),T.default.closeModal()},this.canEditGroupDescription=function(){var t=e.props.groupMetadata;return t.participants.iAmAdmin()||!t.restrict},this.onDescriptionReadMore=function(){e.setState({descTruncated:!1})},this.showEditRestrictionInfo=function(){T.default.openModal(m.createElement(N.default,{onOK:function(){return T.default.closeModal()},okText:l10n.t("web_ok")},l10n.t("only_admin_can_edit_group_info_msg")))},this.revokeGrpV4Invite=function(t){var n=function(){T.default.closeModal(),e.props.groupMetadata.revokeGroupV4AddInvite([t.id.toString()]).then(function(){T.default.openToast(m.createElement(Ye.default,{msg:l10n.t("web_group_v4_revoking_invite_success"),id:(0,He.genId)()}))})};T.default.openModal(m.createElement(N.default,{onOK:n,okText:l10n.t("web_revoke"),onCancel:function(){return T.default.closeModal()},cancelText:l10n.t("web_cancel")},m.createElement(J.default,{text:l10n.t("groups_v4_revoke_confirm",{participant:t.contact.formattedName})})))},this.renderPendingParticipantItem=function(t){var n=t.id,a=e.props.groupMetadata.pendingParticipants.get(n);if(!a)throw new ee.UnknownDataError(t);var r=a.contact;return m.createElement(Ee.default,{contact:r,participant:a,key:a.id.toString(),contextEnabled:function(){return!0},contextMenu:!0,onContext:function(t){return e.onPendingParticipantMenu(t,r)},showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0})},this.onPendingParticipantMenu=function(t,n){var a=e.props.groupMetadata.pendingParticipants,r=a.assertGet(n.id),o=[m.createElement(Q.default,{a8n:"mi-grp-promote-admin",key:"promote",action:e.revokeGrpV4Invite.bind(e,r)},l10n.t("revoke_groups_v4_invite_button_text"))];t.event&&t.event.persist(),e.setState({contextMenu:{contactId:n.id,menu:o,anchor:t.anchor,event:t.event}})}};ut.displayName="GroupInfoDrawer",t.default=(0,fe.default)((0,De.default)((0,nt.hoc)(ut),ut.CONCERNS))},dabiaaabdf:function(e,t){e.exports={muted:"_1DrqE",checkboxContainer:"_3wpnE",checkbox:"_1Zo-R",checkmark:"_1ygtt",partialCheckMark:"_3MbsG",checkedCheckbox:"_15wNI",checkedCheckmark:"_3zTzS","checkmark-expand":"_1M_aK",checkmarkExpand:"_1M_aK",uncheckedCheckmark:"_31Di_",disabled:"_2lvd3"}},dabidjgjaj:function(e,t,n){"use strict";var a={singleByte:["gif","vcard","frequent"]};e.exports=a},dacdidjdfi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CHECKBOX_STATE=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("dabiaaabdf"),h=a(p),m=(t.CHECKBOX_STATE={UNCHECKED:0,CHECKED:1,PARTIAL:2},function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onToggle=function(e){e&&e.stopPropagation(),a.props.onChange(e)},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t,n=this.props,a=n.checked,o=n.disabled,i=(0,d.default)(h.default.checkbox,(e={},r(e,h.default.checkedCheckbox,!!a),r(e,h.default.disabled,o),e)),l=(0,d.default)(h.default.checkmark,(t={},r(t,h.default.checkedCheckmark,1===a),r(t,h.default.uncheckedCheckmark,0===a),r(t,h.default.partialCheckMark,2===a),t));return c.createElement("div",{className:h.default.checkboxContainer,onClick:this.onToggle},c.createElement("div",{className:i},c.createElement("div",{className:l})))}}]),t}(c.Component));m.displayName="CheckBox",t.default=m},dadagidhdg:function(e,t){e.exports={muted:"qgBHk",closeBtn:"_1DWLi",fullscreen:"_--P4m"}},daddjfeaa:function(e,t){e.exports={muted:"_2BKKL",menu:"_3lq69",item:"_3j8Pd",selected:"_1eXOh",active:"GPmgf",disabled:"_2-xTw"}},dadhidfcfe:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("effbcehec"),f=a(c),d=n("dacdidjdfi"),p=a(d),h=n("biddiiafgd"),m=a(h),b=n("bhcacchcde"),g=a(b),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={additionalActions:!0},a.onToggleAdditionalActions=function(){a.setState({additionalActions:!a.state.additionalActions})},a.onReport=function(){if(!a.state.additionalActions)return void a.props.onReport();a.props.isGroupChat?a.props.onReportExitClear():a.props.onReportBlockClear()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=void 0,t=void 0;return this.props.isGroupChat?(e=l10n.t("report_group_ask"),t=l10n.t("report_group_also_exit_clear")):this.props.isBusiness?(e=l10n.t("report_business_ask"),t=l10n.t("report_business_also_block_clear")):(e=l10n.t("report_contact_ask"),t=l10n.t("report_contact_also_block_clear")),u.createElement(m.default,{onOK:this.onReport,okText:l10n.t("report"),onCancel:this.props.onCancel},e,u.createElement("div",{className:g.default.section,onClick:this.onToggleAdditionalActions},u.createElement("div",{"data-a8n":f.default.key("menu-icon-report-spam"),className:g.default.control},u.createElement(p.default,{onChange:this.onToggleAdditionalActions,checked:this.state.additionalActions?d.CHECKBOX_STATE.CHECKED:d.CHECKBOX_STATE.UNCHECKED})),u.createElement("div",{className:g.default.label},t)))}}]),t}(u.Component);v.displayName="ReportSpamPopup",t.default=v},dadidajbgf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=n("gbfffciea"),f=a(c),d=n("dcjdgceiej"),p=a(d),h=n("bfejacaeaj"),m=a(h),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=l({},this.props.tooltip,{uim:this.context.uim});f.default.openTooltip(t,function(t){e.element=t})}},{key:"componentWillUnmount",value:function(){f.default.closeTooltip(this.context.uim)}},{key:"getElement",value:function(){return this.element}},{key:"render",value:function(){return null}}]),t}(u.Component);b.contextTypes={uim:m.default.instanceOf(p.default)},b.displayName="UIETooltip",t.default=b},daedihffb:function(e,t){e.exports={muted:"_1hBvD",price:"_3xyXO",description:"_14zFZ"}},daeidjcaja:function(e,t){e.exports={muted:"bUCwV",controls:"_3Z-uK",spinner:"_2se6c","progress-container":"_1rTdA",progressContainer:"_1rTdA",btnMeta:"_10YBz",button:"_3UAb1",icon:"f9onB",cancel:"_1IV9x",cursorPointer:"UsM-b",play:"_13zv_",iconMeta:"_1gFPQ"}},dagibffcjf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_ASPECT_RATIO=t.MIN_ASPECT_RATIO=t.MIN_WIDTH=t.MIN_HEIGHT=t.LONGER_SIDE_DEFAULT_LENGTH=t.MARGIN_Y=t.MARGIN_X=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("gbfffciea"),f=a(c),d=n("bffjfbgbg"),p=(a(d),n("gejffefga")),h=a(p),m=n("habccggff"),b=a(m),g=t.MARGIN_X=10,v=t.MARGIN_Y=10,y=t.LONGER_SIDE_DEFAULT_LENGTH=330,_=t.MIN_HEIGHT=145,E=t.MIN_WIDTH=145,j=t.MIN_ASPECT_RATIO=E/y,w=t.MAX_ASPECT_RATIO=y/_,O=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getInitialMediaStyle(n.props.aspectRatio),n}return i(t,e),l(t,[{key:"getInitialMediaStyle",value:function(e){var t=this.getAspectRatio(e);if(this.props.initialPiPStyle)return{initialPiPStyle:this.props.initialPiPStyle,aspectRatio:t};var n=void 0;f.default.getConversationHeaderOffset(function(e){n=e});var a=void 0,r=void 0;return t>1?(a=y,r=a/t):(r=y,a=r*t),n||(n={right:window.innerWidth,bottom:0}),{initialPiPStyle:{width:a,left:n.right<window.innerWidth?n.right-a-g:window.innerWidth-a-g,bottom:window.innerHeight-v-r-n.bottom},aspectRatio:t}}},{key:"getAspectRatio",value:function(e){var t=1;return e&&(t=e<j?j:e>w?w:e),t}},{key:"componentWillReceiveProps",value:function(e){e.aspectRatio!==this.props.aspectRatio&&this.setState(this.getInitialMediaStyle(e.aspectRatio))}},{key:"render",value:function(){var e=this.state.aspectRatio;if(!e)return null;var t=_*e,n=E<t?t:E,a={x:g,y:v},r=void 0;if(this.props.aspectRatio&&e===j&&e>this.props.aspectRatio||this.props.aspectRatio&&e===w&&e<this.props.aspectRatio){var o=void 0;if(this.props.previewUrl){var i={backgroundImage:this.props.previewUrl};o=u.default.createElement("div",{className:b.default.bgImg,style:i})}r=u.default.createElement("div",{className:b.default.bottomLayer},o)}return u.default.createElement(h.default,{aspectRatio:e,margin:a,minWidth:n,className:b.default.videoFloater,initialStyle:this.state.initialPiPStyle,animationStartStyle:this.props.animationStartStyle},r,this.props.children)}}]),t}(s.Component);O.displayName="FloatingVideoPlayer",t.default=O},dahicgggee:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GifPanel=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("hbhijdici"),c=r(u),f=n("ddhijeejag"),d=a(f),p=n("cgejchjdhj"),h=a(p),m=n("bgddggdhc"),b=n("ccaaiecfib"),g=r(b),v=n("caciiaejed"),y=r(v),_=n("djhfffbdac"),E=r(_),j=n("ejbdjaifi"),w=n("dhfbfehaef"),O=r(w),C=n("djcjgfjggc"),S=r(C),P=n("dcjcghaij"),M=r(P),T=n("ccgdfaeibd"),k=n("eceadcicaf"),N=r(k),I=n("bfbggcdbfb"),R=r(I),A=n("cahfddcdga"),D=r(A),x=n("didfdhbecg"),L=r(x),F=n("igbbahaj"),U=r(F),B=n("caahjiefj"),G=r(B),V=1e3,W=100,H=62,Y=5,q=15,K=.7*H,z=1.5*H,Q=t.GifPanel=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.lastScrollTop=0,n.fastScroll=!1,n.lastClickTime=0,n._sectionIds=F.ORDERED_TAB_SECTION_IDS,n.handleScroll=function(){if(n.state.searchText&&n.scrollContainer&&n.gifPanel)return void n.gifPanel.animateOnScroll(n.scrollContainer);if(!(Date.now()-n.lastClickTime<V)){var e={};if(n.state.isPreview&&(e.isPreview=!1),n.scrollContainer){var t=n.scrollContainer,a=t.scrollTop,r=a<=0;r!==n.state.scrolledToTop&&(e.scrolledToTop=r);var o=n.lastScrollTop-a,i=Math.abs(o)>Y;n.fastScroll=Math.abs(o)>q,o<0?n.state.showSearchInput&&(a>K&&i||n.lastScrollTop<K&&a>=K)&&(e.showSearchInput=!1):n.state.showSearchInput||(i||a<z)&&(e.showSearchInput=!0),n.gifPanel&&n.gifPanel.animateOnScroll(t),n.lastScrollTop=a,c.default.isEmpty(e)||n.setState(e)}}},n.setRefSearchInput=function(e){n.searchInput=e},n.restoreFocus=function(e){n.focusSearchInput(e)},n.onRotateFocus=function(e){n.stopEvent(e),n.searchInputHasFocus()?n.props.onFocusRelease&&n.props.onFocusRelease():n.focusSearchInput()},n.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},n.scrollGifIntoViewIfNeeded=function(e){n.scrollContainer&&e.offsetTop-n.scrollContainer.scrollTop<H&&h.scrollIntoView(e,!0,n.scrollContainer)},n.searchInputHasFocus=function(){return!!n.searchInput&&n.searchInput.hasFocus()},n.focusSearchInput=function(e){if(!n.searchInput)return n.fastScroll=!0,void n.setState({showSearchInput:!0},function(){return n.focusSearchInput(!0)});n.searchInput.focus(e)},n.onGifSearchDown=function(e){n.stopEvent(e),n.gifPanel&&n.gifPanel.initSelection()},n.getSearchBox=function(){var e=null;n.state.showSearchInput&&(e=d.createElement(E.default,{label:l10n.t("search_gifs",{service:T.BRAND_NAMES[(0,T.gifProvider)()]}),onChange:n.onSearch,onDownKey:n.onGifSearchDown,ref:n.setRefSearchInput,shadow:!n.state.scrolledToTop,tabFocused:n.state.tabFocused,value:n.state.searchText||""}));var t=n.fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return d.createElement(L.default,{transitionName:t},e)},n.onSearch=function(e,t){n.stopEvent(t);var a=c.default.trimStart(e);0===a.length&&(a=null),null==n.state.searchText&&(n.scrollTopBeforeSearch=n.scrollContainer&&n.scrollContainer.scrollTop),n.setState({searchText:a,tabFocused:!1})},n.preventBlur=function(e){n.stopEvent(e),n.restoreFocus()},n.handleParentContainerUp=function(e){var t=e&&e.nativeEvent.target,a=t instanceof HTMLElement&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.isStarredGif(t),r=t instanceof HTMLElement&&!!n.gifPanel&&(0,m.forbiddenAssertDOMNode)(n.gifPanel).contains(t);a?(n.focusSearchInput(),n.stopEvent(e)):r&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.hasGifs()?(n.gifPanel&&n.gifPanel.initSelection(!1),n.stopEvent(e)):r&&(n.focusSearchInput(),n.stopEvent(e))},n.handleDownArrow=function(e){var t=e&&e.nativeEvent.target;t instanceof HTMLElement&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.isStarredGif(t)?(n.gifPanel&&n.gifPanel.initSelection(!0),n.stopEvent(e)):n.gifPanel&&(0,m.forbiddenAssertDOMNode)(n.gifPanel).contains(t)&&(n.gifPanel&&n.gifPanel.initSelection(!1),n.stopEvent(e))},n.handleTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),n.searchInput)return n.searchInput.hasFocus()?void(n.props.onFocusNext&&n.props.onFocusNext()):n.focusSearchInput()},n.handleShiftTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),n.searchInput)return n.searchInput.hasFocus()?void(n.props.onFocusPrev&&n.props.onFocusPrev()):n.focusSearchInput()},n.handleMenuTabClick=function(e){e===U.default.FAVORITES?n.setState({selectedSectionId:e,searchText:null,tabFocused:!0}):n.setState({selectedSectionId:e,searchText:e,tabFocused:!0})},n.renderGifTab=function(e,t){return d.createElement(M.default,{key:e,onClick:n.handleMenuTabClick,sectionId:e,selected:t})};var a=c.default.defaults(n.props.displayCache||{},{scrollTop:0,showSearchInput:!0});return g.default.supportsFeature(g.default.F.STARRED_GIFS)||(n._sectionIds=n._sectionIds.filter(function(e){return e!==U.default.FAVORITES})),n.handleScroll=c.default.throttle(n.handleScroll,W),n.state={isPreview:!a.scrollTop,scrolledToTop:0===a.scrollTop,searchText:null,searchResults:null,showSearchInput:a.showSearchInput,selectedSectionId:U.default.TRENDING,tabFocused:!1},n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.lastClickTime=Date.now();var t=this.props.displayCache&&this.props.displayCache.scrollTop;this.scrollContainer&&t&&(this.scrollContainer.scrollTop=t),this.props.listeners.uiIdle(function(){e.restoreFocus(),new R.default.WebcEmojiOpen({webcEmojiOpenTab:"GIF"}).commit(),e.setState({isPreview:!1})})}},{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this.scrollContainer?this.scrollContainer.scrollTop:0,showSearchInput:this.state.showSearchInput}),this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(t.searchText!==this.state.searchText){if(!this.scrollContainer)return;this.state.searchText?this.scrollContainer.scrollTop=0:this.scrollTopBeforeSearch&&(this.scrollContainer.scrollTop=this.scrollTopBeforeSearch)}}},{key:"render",value:function(){var e=this.getSearchBox();return d.createElement(O.default,{handlers:{tab:this.handleTabKey,"shift+tab":this.handleShiftTabKey,up:this.handleParentContainerUp,down:this.handleDownArrow}},d.createElement(y.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderGifTab}),d.createElement("div",{className:G.default.gifPanel},d.createElement("div",{className:G.default.bodyContainer,onMouseDown:this.preventBlur},e,d.createElement("div",{className:G.default.panelBody,onScroll:this.handleScroll,ref:(0,j.GetRef)("scrollContainer",this)},d.createElement(S.default,{ref:(0,j.GetRef)("gifPanel",this),onGif:(0,D.default)(this.props.onGif),searchText:this.state.searchText,scrollGifIntoViewIfNeeded:this.scrollGifIntoViewIfNeeded,selectedSectionId:this.state.selectedSectionId})))))}}]),t}(d.PureComponent);Q.displayName="GifPanel";var X=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"focusSearchInput",value:function(e){this.getComponent().focusSearchInput(e)}},{key:"restoreFocus",value:function(e){this.getComponent().restoreFocus(e)}}]),t}((0,N.default)((0,j.hoc)(Q)));t.default=X},daiaacfgce:function(e,t){e.exports={muted:"_2rX1j",description:"JmH7x",containerAllow:"NWyjc",icon:"X5OiD",title:"_2yVvV",controls:"_2TDHw",topCenter:"_3_Q4R",topLeft:"AZ3xD",bottomCenter:"_3Ikk4"}},daibgjhabc:function(e,t){e.exports={muted:"_1ovL5",container:"qTFAl",isChecked:"_3Z2tD",gallery:"_21W00"}},daiibfchg:function(e,t){e.exports={muted:"_236F6",mediaViewerImg:"_1z6jS",mediaViewerAnimate:"qr_9f","media-viewer-animate":"qr_9f",cursorZoomOut:"LAMxZ",media:"vahb0",mediaViewer:"_2KgjI",mediaContent:"_1HjMu",cursorZoomIn:"_1UPkW",mediaViewerBlurCrop:"_3hQXv",mediaViewerBlurImg:"ARHD2",btn:"_3yth3",btnMediaNext:"yyUKR",btnMediaPrev:"_1cB__",imageAudio:"IhuRP",mediaWithCaption:"_2Lhpe",mediaCaption:"_3qb2N",captionHidden:"_2z3FK",disabledBtn:"_2fw_A",mediaViewerAudio:"_1c2Tf"}},daijadgha:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhigahgdjb"),f=a(c),d=n("bcbahjefec"),p=a(d),h=n("ccjabfdeje"),m=a(h),b=n("bheehfahbe"),g=a(b),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onSetGroupInfo=function(e){a.push(u.createElement(m.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){f.default._sort.flush(),this.push(u.createElement(g.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}]),t}(p.default);t.default=v},dajegcbgdi:function(e,t){e.exports={muted:"utF0r",preview:"_1SsXF",bubbleIn:"_3qblR",bubbleOut:"_1AUdd",noThumbContainer:"_3_nIn",noThumbIcon:"_3waZq",media:"_2B3Ci",iconStar:"_4HPfp",isInvite:"oRECq",title:"_3RQIp",description:"_2cR8w",source:"_17hud",body:"_2Lp2x",isCompose:"_5U8oQ",extended:"_3eauZ"}},dajffajabh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.DRAWER_HEADER_TYPE=void 0;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("effbcehec"),s=a(l),u=n("ceffhbhahb"),c=a(u),f=n("bhfdfhefca"),d=n("didfdhbecg"),p=a(d),h=n("bfdcadbbif"),m=a(h),b=n("dgafbfebjc"),g=a(b),v=t.DRAWER_HEADER_TYPE={SMALL:"small",LARGE:"large",POPUP:"popup",OFFSET:"offset",MULTI_MEDIA_GALLERY:"multiMediaGallery",LABELS:"labels"},y=function(e){var t,n=e.title,a=e.onBack,o=e.onCancel,l=e.type,u=e.children,d=e.menu,h=l===v.SMALL?"back":"back-light",b=a?i.createElement("button",{className:g.default.btnCloseDrawer,"data-a8n":s.default.key("btn-closer-drawer"),onClick:a},i.createElement(m.default,{name:h,directional:!0})):null,y=l===v.SMALL?"x":"x-light",_=o?i.createElement("button",{className:g.default.btnCloseDrawer,"data-a8n":s.default.key("btn-closer-drawer"),onClick:o},i.createElement(m.default,{name:y})):null,E=d?i.createElement("span",{className:g.default.paneListControls},i.createElement(f.MenuBar,{key:"drawer-header"},i.createElement(p.default,{transitionName:"btn"},d))):null,j=(0,c.default)((t={},r(t,g.default.multiMediaGallery,l===v.MULTI_MEDIA_GALLERY),r(t,g.default.labels,l===v.LABELS),r(t,g.default.drawerHeader,l===v.LARGE||l===v.MULTI_MEDIA_GALLERY||l===v.LABELS),r(t,g.default.drawerHeaderSmall,l===v.SMALL),r(t,g.default.drawerHeaderOffset,l===v.OFFSET||l===v.POPUP),r(t,g.default.drawerHeaderPopup,l===v.POPUP),t)),w=n&&u?i.createElement("div",{className:g.default.side},u):null;return i.createElement("header",{className:j},i.createElement("div",{className:g.default.drawerTitle,"data-animate-drawer-title":!0},i.createElement("div",{className:g.default.drawerTitleAction},b,_),i.createElement("div",{"data-a8n":s.default.key("drawer-title-body"),className:g.default.drawerTitleBody},n||u),w,E))};y.displayName="DrawerHeader",t.default=y},dajhhehjhc:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("dbajccegac"),i=function(){function e(){a(this,e),this.buf=new o}return r(e,[{key:"pushInt16",value:function(e){this.buf.writeUint16(e)}},{key:"pushInt20",value:function(e){if("number"!=typeof e)throw new Error("invalid int20");this.buf.writeUint8((983040&e)>>16),this.buf.writeUint16(65535&e)}},{key:"pushInt32",value:function(e){this.buf.writeUint32(e)}},{key:"pushByte",value:function(e){this.buf.writeUint8(e)}},{key:"pushBytes",value:function(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");this.buf.writeBuffer(e)}},{key:"pushUint8Array",value:function(e){if("[object Uint8Array]"!==Object.prototype.toString.call(e))throw new Error("invalid Uint8Array");this.buf.writeByteArray(e)}},{key:"pushString",value:function(e){if("string"!=typeof e)throw new Error("invalid string");this.buf.writeString(e)}},{key:"toBuffer",value:function(){return this.buf.readBuffer()}}]),e}();t.default=i},dbabefhajh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=(0,f.default)(y.default.bubble,r({},y.default.isPSA,e.msg.isPSA)),n=!1!==e.displayAuthor?!e.msg.isSentByMe&&e.msg.isGroupMsg:null,a=n?g.default.createElement(l.default,{msg:e.msg,contact:e.msg.senderObj}):null,o=e.msg.showForwarded()?g.default.createElement(p.default,{msg:e.msg}):null,i=e.displayType===u.default.DISP_TYPE.GALLERY||e.hideMeta?null:g.default.createElement("div",{className:y.default.meta},g.default.createElement(m.default,{msg:e.msg}));return g.default.createElement("div",{className:t},a,o,e.children,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("cehjjfagii"),l=a(i),s=n("eadfaddcj"),u=a(s),c=n("ceffhbhahb"),f=a(c),d=n("dfeecdfijg"),p=a(d),h=n("cieaeggjg"),m=a(h),b=n("ddhijeejag"),g=a(b),v=n("beejfjjdjf"),y=a(v);o.displayName="TextBubble"},dbahdjadcb:function(e,t){e.exports={muted:"_1qWhd",title:"_6xQdq",large:"_1drsQ","section-title":"_3he1q",sectionTitle:"_3he1q",small:"_3D8gv",plain:"_3CjAc",danger:"_23Un5",success:"XSHGx",dark:"_2tNox"}},dbbbgjbbgf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ceffhbhahb"),c=a(u),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("ihfccfgdf"),h=a(p),m=n("ejbdjaifi"),b=n("djidhiidef"),g=a(b),v=n("ccaaiecfib"),y=a(v),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=void 0===t.spacer||t.spacer,a=(0,c.default)(g.default.text,(e={},r(e,g.default.spacer,n),r(e,g.default.spacerStar,n&&t.msg.star),r(e,g.default.spacerBroadcast,n&&t.msg.broadcast),r(e,g.default.placeholderIn,"placeholder"===t.theme&&!t.msg.isSentByMe),r(e,g.default.placeholderOut,"placeholder"===t.theme&&t.msg.isSentByMe),r(e,g.default.spacerLabels,t.msg.labels&&t.msg.labels.length&&y.default.supportsFeature(y.default.F.LABELS_DISPLAY)),r(e,g.default.template,y.default.supportsFeature(y.default.F.MD_BACKEND)&&("template"===t.msg.type||"hsm"===t.msg.type)),e));return d.createElement("div",{className:a},t.children)}}]),t}(d.PureComponent);_.CONCERNS={msg:["broadcast","star","isSentByMe","labels","type"]},_.displayName="MessageText",t.default=(0,h.default)((0,m.hoc)(_),_.CONCERNS)},dbbhhgjjbg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o((0,E.unproxy)(e),t,n)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(t||"").trim(),r=n.linkPreview,o=n.quotedMsg,i=n.mentionedJidList,s=n.quotedMsgAdminGroupJid;if(""===a)return Promise.resolve();(0,y.clearPresence)(e);var c=e.id,d=u.default.me,h=new p.default({from:d,to:c,id:(0,g.default)(),participant:void 0,selfDir:"out"}),b=void 0;o?b=o.msgContextInfo(e.id):s&&(b={quotedRemoteJid:s});var E=l.default.defaults({id:h,body:a,type:"chat",subtype:r&&!l.default.isEmpty(r)?"url":null,t:f.default.globalUnixTime(),from:d,to:c,self:"out",local:!0,ack:0,urlText:e.urlText,urlNumber:e.urlNumber},r||{},b||{},{mentionedJidList:i});e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0);var j=new m.default(E);return(0,v.appendMessage)(e.id,j.toJSON()).then(function(){var t=(0,_.sendMsgRecord)(j);return e.msgs.add(j),t})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendTextMsgToChat=r;var i=n("hbhijdici"),l=a(i),s=n("bjigbaghc"),u=a(s),c=n("bjebjijbfc"),f=a(c),d=n("ccgjijjbbj"),p=a(d),h=n("cbcbdjdah"),m=a(h),b=n("cfejjfjhca"),g=a(b),v=n("cceagdehdf"),y=n("icbibjcg"),_=n("bdgehigfig"),E=n("bheafeifce")},dbcfhfbbbf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n("dfcggebdjj"),s=a(l),u=n("ccchcigijb"),c=a(u),f=n("eccjbdjafd"),d=a(f),p=n("eaecbgafff"),h=a(p),m=n("bfccafhbbb"),b=a(m),g=n("bfjfgcfade"),v=a(g),y=n("cdheafhdbh"),_=a(y),E=n("ecidjifge"),j=a(E),w=new c.default,O=new v.default,C=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}((0,d.default)([s.default,O,w,h.default]));C.MentionSuggestions=(0,j.default)(b.default,{plugin:w}),C.EmojiSuggestions=(0,j.default)(_.default,{plugin:O}),t.default=C},dbciicjiad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){new Q.default.ChatFilterEvent({actionType:Q.default.CHAT_FILTER_ACTION_TYPES.OPEN,sessionId:e}).commit()}function c(e){new Q.default.ChatFilterEvent({actionType:Q.default.CHAT_FILTER_ACTION_TYPES.SELECT_FILTER,filterType:Q.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:e}).commit()}Object.defineProperty(t,"__esModule",{value:!0});var f=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=n("ddhijeejag"),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n("bgddggdhc"),b=n("effbcehec"),g=a(b),v=n("fbjjefaic"),y=a(v),_=n("ejbdjaifi"),E=n("becfabjeeg"),j=a(E),w=n("caffijjhc"),O=a(w),C=n("ddajbaceej"),S=a(C),P=n("fffdgbfji"),M=a(P),T=n("ceffhbhahb"),k=a(T),N=n("eagfdbhhhh"),I=n("bfdcadbbif"),R=a(I),A=n("didfdhbecg"),D=a(A),x=n("cahcacghci"),L=a(x),F=n("bijffg"),U=a(F),B=n("icghcjegh"),G=a(B),V=n("bhhdeihhhf"),W=a(V),H=n("dbjbhajgfd"),Y=a(H),q=n("ccaaiecfib"),K=a(q),z=n("bfbggcdbfb"),Q=a(z),X=n("eadfaddcj"),J=a(X),Z=n("hbhijdici"),$=a(Z),ee=n("biecbbiiee"),te=a(ee),ne=n("eceadcicaf"),ae=a(ne),re=function(){},oe=function(e){function t(){var e,n,a,r;i(this,t);for(var s=arguments.length,f=Array(s),d=0;d<s;d++)f[d]=arguments[d];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),a.state={searchText:"",searchLabel:null,searchKind:null,isSearching:!1,contextMenu:null},a.disableOnBlur=!1,a.setRefInput=function(e){return a.refInput=e},a.onBlur=function(){a.disableOnBlur||a.props.setTimeout(function(){a.state.searchText||a.state.searchLabel||a.state.searchKind||a.onCancel()},0)},a.onChange=function(e){if(e.target instanceof HTMLInputElement){var t=e.target.value;a.setState({searchText:t},function(){a.props.onSearch(t,{label:a.state.searchLabel,kind:a.state.searchKind})})}},a.renderSmbSearchKindDropDownItem=function(e,t,n){var r="chat_filter_"+e;return h.createElement(W.default,{a8n:r,key:r,action:a.updateSearchFilter.bind(a,{kind:e})},h.createElement("div",{className:L.default.kind},h.createElement(R.default,{name:t}),h.createElement("div",{className:L.default.kindName},n)))},a.renderMsgTypeFilter=function(){return K.default.supportsFeature(K.default.F.LABELS_EDIT)&&"chat-msg-search"!==a.props.type?[h.createElement("div",{className:L.default.filterTitle,key:"chat_filter_kind_header"},M.default.t("web_chats")),a.renderSmbSearchKindDropDownItem(J.default.SMB_SEARCH_FILTERS.UNREAD,"search-unread",M.default.t("smb_search_filter_unread")),a.renderSmbSearchKindDropDownItem(J.default.SMB_SEARCH_FILTERS.GROUP,"group",M.default.t("web_groups")),a.renderSmbSearchKindDropDownItem(J.default.SMB_SEARCH_FILTERS.BROADCAST,"search-broadcasts",M.default.t("smb_search_filter_broadcast"))]:[]},a.renderFilterSelectorMenu=function(){var e=U.default.toArray(),t=e.reduce(function(e,t){return t.name&&t.count&&0!==t.count?[].concat(o(e),[h.createElement(W.default,{a8n:"label_item_"+t.id,key:"label_item_"+t.id,action:a.updateSearchFilter.bind(a,{label:t.id})},h.createElement("button",{className:L.default.labels},h.createElement(G.default,{labels:[t.id],showName:!0,theme:"label-filter"})))]):e},[]),n=0===t.length?null:h.createElement("div",{className:L.default.filterTitle,key:"chat_filter_label_header"},M.default.t("smb_search_labels_title"));return[].concat(o(a.renderMsgTypeFilter()),[n],o(t))},a.onCancel=function(){a.refInput&&!a.state.contextMenu&&(a.refInput.blur(),a.setState({searchText:"",searchLabel:null,searchKind:null,isSearching:!1}),a.props.onSearch("",void 0))},a.onReset=function(e){e.stopPropagation(),a.focus(),a.setState({searchText:"",searchLabel:null,searchKind:null}),a.props.onSearch("",void 0)},a.onSearchOn=function(){a.setState({isSearching:!0}),a.props.setTimeout(a.focus,0)},a.focus=function(){S.default.focus(a.refInput)},a.showFilterSelector=function(e){var t=a.props.SmbFilterSession;t&&u(t.newSessionId()),e.stopPropagation(),a.setState({contextMenu:{menu:a.renderFilterSelectorMenu(),anchor:e.target}})},a.contextClose=function(){a.setState({contextMenu:null})},a.updateSearchFilter=function(e){var t=a.props.SmbFilterSession;a.state.contextMenu&&a.contextClose(),a.setState({searchLabel:e.label,searchKind:e.kind}),t&&c(t.sessionId),a.props.onSearch("",e)},a.labelSelectorMouseEnter=function(){K.default.supportsFeature(K.default.F.LABELS_DISPLAY)&&(a.disableOnBlur=!0)},a.labelSelectorMouseLeave=function(){a.disableOnBlur=!1},a.onContextClose=function(){a.setState({contextMenu:null})},a.constructSearchPlaceholder=function(e){return h.createElement("div",{"data-a8n":g.default.key("input-placeholder"),className:L.default.labelSearchPlaceholder},e)},a.hasActiveLabel=function(){var e=U.default.toArray();return $.default.some(e,function(e){return!(!e.name||!e.count||0===e.count)})},r=n,l(a,r)}return s(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){!this.state.isSearching||this.state.searchText||this.state.searchLabel||this.state.searchKind||(0,m.forbiddenAssertDOMNode)(this).contains(document.activeElement)||this.onCancel()}},{key:"componentWillUnmount",value:function(){this.onCancel()}},{key:"componentDidMount",value:function(){var e=this;K.default.supportsFeature(K.default.F.LABELS_EDIT)&&this.props.listeners.add(te.default,"new_msg_sent",function(){(e.state.searchKind||e.state.searchLabel)&&e.onCancel()})}},{key:"isAtBeginning",value:function(){var e=this.refInput;if(!e)throw new Error("Accessing Input element when unmounted");return 0===e.selectionStart&&0===e.selectionEnd}},{key:"isAtEnd",value:function(){var e=this.refInput;if(!e)throw new Error("Accessing Input element when unmounted");var t=e.value.length;return e.selectionStart===t&&e.selectionEnd===t}},{key:"select",value:function(){var e=this.refInput;if(!e)throw new Error("Accessing Input element when unmounted");e.select()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.placeholder,a=e.spellCheck,o=e.listFilterEnabled,i=this.state,l=i.isSearching,s=i.searchText,u=i.searchLabel,c=i.searchKind,f=null;l&&(t?f=h.createElement("div",{className:L.default.iconSpinner,key:"icon-clear-search",onClick:this.onReset},h.createElement(j.default,{size:20,stroke:5,color:"highlight"})):s.length||u||c?f=h.createElement("button",{className:L.default.iconCloseSearch,key:"icon-clear-search",onClick:this.onReset},h.createElement(R.default,{name:"x-alt"})):K.default.supportsFeature(K.default.F.LABELS_DISPLAY)&&this.hasActiveLabel()&&o&&(f=h.createElement("button",{className:L.default.iconLabelSelect,key:"icon-select-label",onClick:this.showFilterSelector},h.createElement(R.default,{name:"filter"}))));var d=void 0;l&&(d=h.createElement(O.default,{displayName:"ListSearch",escapable:!0,requestDismiss:this.onCancel,requestFocus:this.focus}));var p=n||M.default.t("search_or_start_new_chat"),m=l?this.onCancel:this.onSearchOn,b=(0,k.default)(L.default.listSearch,r({},L.default.active,l||u||c)),v=void 0;this.state.contextMenu&&(v=h.createElement(O.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},h.createElement(Y.default,{contextMenu:this.state.contextMenu})));var y=void 0;return!s&&K.default.supportsFeature(K.default.F.LABELS_DISPLAY)&&(u?y=this.constructSearchPlaceholder(M.default.t("label_search_placeholder",{labelName:U.default.assertGet(u).name})):c===J.default.SMB_SEARCH_FILTERS.GROUP?y=this.constructSearchPlaceholder(M.default.t("smb_search_group_placeholder")):c===J.default.SMB_SEARCH_FILTERS.UNREAD?y=this.constructSearchPlaceholder(M.default.t("smb_search_unread_placeholder")):c===J.default.SMB_SEARCH_FILTERS.BROADCAST&&(y=this.constructSearchPlaceholder(M.default.t("smb_search_broadcast_placeholder")))),h.createElement("div",{onMouseEnter:this.labelSelectorMouseEnter,onMouseLeave:this.labelSelectorMouseLeave,className:b},h.createElement("button",{"data-a8n":g.default.key("icon-search-morph"),className:L.default.iconSearchMorph,onMouseDown:m},h.createElement("div",{className:(0,k.default)(L.default.iconMorph,L.default.iconMorphBack)},h.createElement(R.default,{name:"back-blue"})),h.createElement("div",{className:(0,k.default)(L.default.iconMorph,L.default.iconMorphSearch)},h.createElement(R.default,{name:"search"}))),h.createElement(D.default,{transitionName:"pop"},f,v),h.createElement("div",{"data-a8n":g.default.key("input-placeholder"),className:L.default.inputPlaceholder},s?null:p),y,h.createElement("label",{className:L.default.contInputSearch},h.createElement("input",{type:"text",ref:this.setRefInput,"data-a8n":g.default.key("input-search"),className:(0,k.default)(L.default.inputSearch,N.SELECTABLE_INPUT_CSS_CLASS),"data-tab":2,dir:"auto",spellCheck:a,title:p,value:s,onBlur:this.onBlur,onFocus:l?null:this.onSearchOn,onChange:l?this.onChange:re})),d)}}]),t}(h.Component);oe.displayName="ListSearch";var ie=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"focus",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).focus()}},{key:"isAtEnd",value:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).isAtEnd()}},{key:"setSearchText",value:function(e){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).setState({searchText:e})}},{key:"select",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).select()}}]),t}((0,y.default)((0,ae.default)((0,_.hoc)(oe))));t.default=ie},dbdidgdgai:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("biddiiafgd"),b=a(m),g=n("ceffhbhahb"),v=a(g),y=n("bjjjdidhhi"),_=a(y),E=n("bhcegecbha"),j=a(E),w=n("ghbbeafj"),O=a(w),C=n("ccaaiecfib"),S=a(C),P=n("eceadcicaf"),M=a(P),T=n("ejbdjaifi"),k=n("bheafeifce"),N=n("biecbbiiee"),I=a(N),R=n("bfdcadbbif"),A=a(R),D=n("bfjajhbdf"),x=a(D),L=n("gchdabbf"),F=a(L),U=n("eadfaddcj"),B=a(U),G=n("cfhgffgbcb"),V=a(G),W=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onStarChanged=function(e){a.props.selectedMessages.isSelected(e)&&a.forceUpdate()},a.onStarSelected=function(){var e=a.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,o=n.getSelected();t&&h.default.sendStarMsgs(t,o,null,r),a.props.onCancel()},a.onUnstarSelected=function(){var e=a.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,o=n.getSelected();t&&h.default.sendUnstarMsgs(t,o,null,r),a.props.onCancel()},a.onDownloadSelected=function(){var e=d.default.filter(a.props.selectedMessages.getSelected(),function(e){return e.mediaData});if(e.length){var t=d.default.filter(e,function(e){return!e.mediaData.renderableUrl});t.length>0?(h.default.openToast(c.createElement(x.default,{msg:l10n.t("download_progress"),id:(0,D.genId)()})),Promise.all(d.default.map(t,function(e){return e.forceDownloadMedia()})).then(function(){var t=d.default.filter(e,function(e){return e.mediaData.renderableUrl});e.length>t.length&&h.default.openToast(c.createElement(x.default,{msg:l10n.t("files_failed_to_download",{_plural:e.length-t.length,count:e.length-t.length}),id:(0,D.genId)()})),t.length&&j.default.initDownload(t)})):j.default.initDownload(e),a.props.onCancel()}},a.addOrRemoveLabelOnSelected=function(){var e=a.props.selectedMessages.getSelected();h.default.openModal(c.createElement(V.default,{onLabelUpdateComplete:a.props.onCancel,modelsToUpdate:e}))},a.onDeleteSelected=function(){var e=a.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,o=n.getSelected(),i=d.default.every(o,function(e){return e.canRevoke()});t&&h.default.openModal(c.createElement(_.default,{chat:t,msgList:o.map(k.unproxy),deletePrompt:!0,revokePrompt:i&&!a.props.disableRevoke,toastPosition:r,onCancel:a.props.onCancel}))},a.onForwardSelected=function(){var e=a.props.selectedMessages.getSelected();!a.props.noSortOnForward&&a.props.chat&&(e=a.props.chat.sortMsgs(e));var t=d.default.size(e),n=function(){a.props.onCancel()},r=d.default.filter(e,function(e){return e.canForward()});if(d.default.size(r))if(t!==d.default.size(r)){var o=function(){h.default.openModal(c.createElement(O.default,{msgs:r,pushTransition:"none",popTransition:"none",onForward:n}),{transition:"modal-flow"})};h.default.openModal(c.createElement(b.default,{title:l10n.t("confirm_forward_partial_messages_title"),onOK:o,okText:l10n.t("forward"),onCancel:function(){return h.default.closeModal()},cancelText:l10n.t("web_cancel")},l10n.t("confirm_forward_partial_messages_text")))}else h.default.openModal(c.createElement(O.default,{msgs:e,pushTransition:"none",popTransition:"none",onForward:n}),{transition:"modal-flow"});else h.default.openModal(c.createElement(b.default,{title:l10n.t("err_unsent_forward_title"),onOK:function(){return h.default.closeModal()},okText:l10n.t("web_ok")},l10n.t("err_unsent_forward_text",{_plural:t})))},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;this.props.selectedMessages.getSelected().forEach(function(t){e.props.listeners.add(t,"change:star")}),this.props.listeners.add(this.props.selectedMessages,"all"),this.props.listeners.add(I.default,"change:star",this.onStarChanged)}},{key:"render",value:function(){var e=this.props.selectedMessages.getSelected(),t=d.default.size(e),n=S.default.supportsFeature(S.default.F.ENC_DOC)||d.default.every(e,function(e){return e.type!==B.default.MSG_TYPE.DOCUMENT}),a=d.default.every(e,function(e){return e.canForward()}),o=d.default.every(e,function(e){return e.canStar()}),i=d.default.every(e,function(e){return e.mediaData}),l=!t||!n||!a,s=c.createElement(H,{disabled:l,name:"forward",onClick:this.onForwardSelected,title:l10n.t("forward_message",{_plural:t})}),u=c.createElement(H,{name:"delete",disabled:!t,title:l10n.t("delete_message",{_plural:t}),onClick:this.onDeleteSelected}),f=void 0,p=void 0,h=void 0;t&&d.default.every(e,"star")?(f=this.onUnstarSelected,p="unstar-btn",h=l10n.t("unstar_message",{_plural:t})):(f=this.onStarSelected,p="star-btn",h=l10n.t("star_message",{_plural:t}));var m=c.createElement(H,{name:p,disabled:!t||!o,title:h,onClick:f}),b=void 0;S.default.supportsFeature(S.default.F.LABELS_EDIT)&&(b=c.createElement(H,{disabled:!t,name:"label",onClick:this.addOrRemoveLabelOnSelected,title:l10n.t("label_item_title")}));var g=void 0;Modernizr.adownload&&this.props.downloadButton&&i&&(g=c.createElement(H,{name:"download",disabled:!t,title:l10n.t("web_button_download"),onClick:this.onDownloadSelected}));var y=(0,v.default)(F.default.multiControls,r({},F.default.mediaGalleryTheme,"mediaGallery"===this.props.theme));return c.createElement("div",{className:y},c.createElement(H,{name:"x",onClick:this.props.onCancel}),c.createElement("span",{className:F.default.multiCount},l10n.t("selected_count",{count:t,_plural:t})),b,m,u,s,g)}}]),t}(c.Component);W.defaultProps={downloadButton:!0},W.displayName="MultiselectBar",t.default=(0,M.default)((0,T.hocWithDefaults)(W));var H=function(e){var t=e.name,n=e.title,a=e.onClick,r=e.directional,o=e.disabled;return c.createElement("button",{className:F.default.multiselectIcon,title:n,onClick:a,disabled:o?"disabled":void 0},c.createElement(A.default,{name:t,directional:r}))};H.displayName="BtnIcon"},dbdjchfgia:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(e.videoId!==t.videoId)return!0;var n=e.opts.playerVars||{},a=t.opts.playerVars||{};return n.start!==a.start||n.end!==a.end}function s(e){return d({},e,{playerVars:d({},e.playerVars,{autoplay:0,start:0,end:0})})}function u(e,t){return!b.default.isEqual(s(e.opts),s(t.opts))}function c(e,t){return e.id===t.id||e.className===t.className}Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerState=void 0;var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=n("ddhijeejag"),h=a(p),m=n("hbhijdici"),b=a(m),g=n("cehheibgje"),v=a(g),y=t.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},_=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.listeners=[],a.onPlayerReady=function(e){return a.props.onReady(e)},a.onPlayerError=function(e){return a.props.onError(e)},a.onPlayerStateChange=function(e){switch(a.props.onStateChange(e),e.data){case y.ENDED:a.props.onEnd(e);break;case y.PLAYING:a.props.onPlay(e);break;case y.PAUSED:a.props.onPause(e);break;default:return}},a.onPlayerPlaybackRateChange=function(e){return a.props.onPlaybackRateChange(e)},a.onPlayerPlaybackQualityChange=function(e){return a.props.onPlaybackQualityChange(e)},a.createPlayer=function(){var e=d({},a.props.opts,{videoId:a.props.videoId});a.internalPlayer=(0,v.default)(a.container,e),a.listeners.push(a.internalPlayer.on("ready",a.onPlayerReady),a.internalPlayer.on("error",a.onPlayerError),a.internalPlayer.on("stateChange",a.onPlayerStateChange),a.internalPlayer.on("playbackRateChange",a.onPlayerPlaybackRateChange),a.internalPlayer.on("playbackQualityChange",a.onPlayerPlaybackQualityChange))},a.resetPlayer=function(){return a.internalPlayer.destroy().then(a.createPlayer)},a.updatePlayer=function(){var e=a.internalPlayer.getIframe();a.props.id?e.setAttribute("id",a.props.id):e.removeAttribute("id"),a.props.className?e.setAttribute("class",a.props.className):e.removeAttribute("class")},a.updateVideo=function(){if(null==a.props.videoId)return void a.internalPlayer.stopVideo();var e=!1,t=void 0,n=void 0;"playerVars"in a.props.opts&&(e=1===a.props.opts.playerVars.autoplay,"start"in a.props.opts.playerVars&&(t=a.props.opts.playerVars.start),"end"in a.props.opts.playerVars&&(n=a.props.opts.playerVars.end));var r={videoId:a.props.videoId,startSeconds:t,endSeconds:n};if(e)return void a.internalPlayer.loadVideoById(r);a.internalPlayer.cueVideoById(r)},a.refContainer=function(e){a.container=e},i=n,o(a,i)}return i(t,e),f(t,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){c(e,this.props)&&this.updatePlayer(),u(e,this.props)&&this.resetPlayer(),l(e,this.props)&&this.updateVideo()}},{key:"componentWillUnmount",value:function(){var e=this;this.listeners.forEach(function(t){e.internalPlayer.off(t)}),this.internalPlayer.destroy()}},{key:"render",value:function(){return h.default.createElement("span",{className:this.props.containerClassName},h.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.refContainer}))}}]),t}(h.default.Component);_.defaultProps={id:null,className:null,opts:{playerVars:{}},containerClassName:"",onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}},_.displayName="YouTube",t.default=_},dbegdchadg:function(e,t,n){"use strict";var a=n("chgaccicf"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o=(0,r.default)({FORWARD:void 0,BACKWARD:void 0});e.exports=function(e,t){var n=window.getSelection();if(!n||!n.rangeCount)return null;var a=n.getRangeAt(0);if(!a.collapsed)return null;var r=a.startContainer,i=a.startOffset;if(r===e){var l=r.childNodes,s=l.length;if(t===o.FORWARD&&i>s||t===o.BACKWARD&&!i)return null;var u=t===o.BACKWARD?1:0,c=l[i-u];return c instanceof Element?c:null}var f=r.length===i;if(t===o.BACKWARD&&i)return null;if(t===o.FORWARD&&!f)return null;var d=t===o.BACKWARD?"previousSibling":"nextSibling",p=r[d];return p instanceof Element?p:null},e.exports.Direction=o},dbfaahhhec:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("ihgbiaiaa"),h=a(p),m=n("bffjfbgbg"),b=a(m),g=n("ihfccfgdf"),v=a(g),y=n("eedjbihej"),_=a(y),E=n("ejbdjaifi"),j=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.hasResolved=!1,r=n,i(a,r)}return l(t,e),s(t,[{key:"componentDidUpdate",value:function(){this.hasResolved||this.props.deletedProduct||this.props.mediaData.mediaStage!==b.default.STAGE.RESOLVED||(this.props.incrementResolvedCount(),this.hasResolved=!0)}},{key:"getItemClassName",value:function(){var e=this.props.className;return(0,d.default)(r({},h.default.item,!e),e)}},{key:"renderLoadingMedia",value:function(){var e=this.props.mediaData,t=e.renderableUrl||e.preview&&e.preview.url();return c.createElement("div",{className:(0,d.default)(this.getItemClassName(),h.default.loadingImageContainer)},t&&c.createElement("div",{className:h.default.loadingImage,style:{backgroundImage:"url('"+t+"')",backgroundSize:"cover",backgroundPosition:"center center"}}))}},{key:"renderGridItem",value:function(){var e=this,t=this.props,n=t.mediaData,a=t.imageModel,r=t.onClick;return c.createElement("div",{className:this.getItemClassName(),style:{backgroundImage:"url('"+n.renderableUrl+"')",backgroundSize:"cover",backgroundPosition:"center center",cursor:r?"pointer":"auto"},ref:(0,E.GetRef)("image",this),onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r&&r(e.image,a)})})}},{key:"renderOverlayTile",value:function(){var e=this,t=this.props,n=t.numImagesNotRendered,a=t.numberTextClassName,o=t.imageModel,i=t.onClick,l=a?r({},a,"string"==typeof a):null;return c.createElement("div",{className:(0,d.default)(h.default.item,h.default.overlay),onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return i&&i(e.image,o)})},this.renderGridItem(),n?c.createElement(_.default,{theme:"large",className:(0,d.default)(h.default.numberText,l)},l10n.t("num_images_not_rendered",{number:n})):null)}},{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.renderOverlay,a=e.renderImage;return e.deletedProduct?this.renderLoadingMedia():t.mediaStage!==b.default.STAGE.RESOLVED?null:a?n?this.renderOverlayTile():this.renderGridItem():null}}]),t}(c.PureComponent);j.CONCERNS={mediaData:["mediaStage","filehash","renderableUrl","preview"]},j.displayName="ImageGridItem",t.default=(0,v.default)((0,E.hoc)(j),j.CONCERNS)},dbfbdfhfee:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t,n=(0,u.default)(p.default.container,(t={},r(t,p.default.isChecked,e.checked),r(t,p.default.gallery,"gallery"===e.theme),t));return f.default.createElement("div",{className:n,onClick:e.onClick},f.default.createElement(l.default,{onChange:e.onClick,checked:e.checked?i.CHECKBOX_STATE.CHECKED:i.CHECKBOX_STATE.UNCHECKED}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("dacdidjdfi"),l=a(i),s=n("ceffhbhahb"),u=a(s),c=n("ddhijeejag"),f=a(c),d=n("daibgjhabc"),p=a(d);o.displayName="MsgCheckbox"},dbfiijcdie:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("cccehdaiaf"),u=a(s),c=n("bdiiahhjbe"),f=a(c),d={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},p=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],h=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],m=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","msfullscreenchange","msfullscreenerror"],b=void 0,g=void 0,v=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requestFullscreen=function(e){return e?b?void e[b[d.requestFullscreen]]():void f.default.warn("Your browser does not support fullscreen API.")():void f.default.error("The element requesting fullscreen is null or undefined.")()},e._fullscreenChangeTrigger=function(t){e.trigger("fullscreen_change",t)},e._fullscreenErrorTrigger=function(t){e.trigger("fullscreen_error",t)},"object"!=typeof window||"object"!=typeof window.document?(f.default.error("document object does not exist")(),o(e)):(g=window.document,"fullscreenEnabled"in g?b=Object.keys(d):p[d.fullscreenEnabled]in g?b=p:h[d.fullscreenEnabled]in g?b=h:m[d.fullscreenEnabled]in g&&(b=m),b?(g.addEventListener(b[d.fullscreenchange],e._fullscreenChangeTrigger),g.addEventListener(b[d.fullscreenerror],e._fullscreenErrorTrigger),e):(f.default.warn("Your browser does not support fullscreen API.")(),o(e)))}return i(t,e),l(t,[{key:"exitFullscreen",get:function(){return g?b?g[b[d.exitFullscreen]].bind(g):(f.default.warn("Your browser does not support fullscreen API.")(),function(){}):(f.default.error("document object does not exist")(),function(){})}},{key:"isFullscreenMode",get:function(){return g?b?!!g[b[d.fullscreenElement]]:(f.default.warn("Your browser does not support fullscreen API.")(),!1):(f.default.error("document object does not exist")(),!1)}},{key:"fullscreenEnabled",get:function(){return g?b?Boolean(g[b[d.fullscreenEnabled]]):(f.default.warn("Your browser does not support fullscreen API.")(),!1):(f.default.error("document object does not exist")(),!1)}},{key:"fullscreenElement",get:function(){return g?b?g[b[d.fullscreenElement]]:void f.default.warn("Your browser does not support fullscreen API.")():void f.default.error("document object does not exist")()}}]),t}(u.default),y=new v;f.default.exportToWindow("Fullscreen",y),t.default=y},dbgefjefac:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=r(f),p=n("jhcabjcaf"),h=a(p),m=n("ihfccfgdf"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("ejbdjaifi"),_=n("bheafeifce"),E=n("bffjfbgbg"),j=a(E),w=n("ecibddhig"),O=r(w),C=n("bfjbdahdag"),S=a(C),P=n("cieaeggjg"),M=a(P),T=n("cehjjfagii"),k=a(T),N=n("dfeecdfijg"),I=a(N),R=n("gbfffciea"),A=a(R),D=n("eiiicijcj"),x=a(D),L=n("eafjfadchb"),F=a(L),U=n("bjebjijbfc"),B=a(U),G=n("edbaidcaf"),V=a(G),W=n("bfdcadbbif"),H=a(W),Y=n("ceffhbhahb"),q=a(Y),K=n("cbjacjjfgc"),z=a(K),Q=n("fifhbjiec"),X=a(Q),J=n("bcfhbihafa"),Z=a(J),$=n("eadfaddcj"),ee=(a($),n("ichhibhgh")),te=a(ee),ne=n("bbdfiiibib"),ae=a(ne),re=n("bcafcjajcb"),oe=a(re),ie=n("dhccihecch"),le=n("beadfddidc"),se={PREVIEW:"PREVIEW",FLOATER:"FLOATER"},ue=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefThumb=function(e){n.refThumb=e},n.showMediaMissing=function(){A.default.openModal(d.createElement(x.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.forceDownloadMedia(!0)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.downloadUnsupportedToDesktop=function(e){e&&e.stopPropagation(),A.default.openModal(d.createElement(F.default,{msg:(0,_.unproxy)(n.props.msg)}))},n.launchMediaViewer=function(e){if(e&&e.stopPropagation(),n.props.theme===ie.THEMES.ALBUM){var t=n.props.zoomMsg||n.props.msg;A.default.mediaViewerModal((0,_.unproxy)(t),null)}else A.default.mediaViewerModal((0,_.unproxy)(n.props.msg),null)},n.launchVideoFloater=function(e){e&&e.stopPropagation();var t=n.refThumb?n.refThumb.getBoundingClientRect():null;te.default.openPiP((0,_.unproxy)(n.props.msg),0,t)},n.setPreviewMode=function(){n.state.mode!==se.PREVIEW&&n.setState({mode:se.PREVIEW})},n.setFloaterMode=function(){n.state.mode!==se.FLOATER&&n.setState({mode:se.FLOATER})};var a=te.default.isOpened((0,_.unproxy)(e.msg))?se.FLOATER:se.PREVIEW;return n.state={mode:a},n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(te.default,this.props.msg.id.toString()+"_pip_did_open",this.setFloaterMode),this.props.listeners.add(te.default,this.props.msg.id.toString()+"_pip_did_close",this.setPreviewMode)}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=a.msg,i=a.mediaData,l=a.theme,s=a.overlayContent,c=null,f=null;switch(i.mediaStage){case j.default.STAGE.RESOLVED:case j.default.STAGE.INIT:c=d.createElement(O.Play,null),f=this.launchMediaViewer;break;case j.default.STAGE.NEED_POKE:c=d.createElement(O.Download,{filesize:i.size}),f=this.downloadMedia;break;case j.default.STAGE.UPLOADING:c=d.createElement(O.PendingCancel,null),f=this.cancelUpload;break;case j.default.STAGE.NEED_UPLOAD:c=d.createElement(O.Upload,{filesize:i.size}),f=this.resumeUpload;break;case j.default.STAGE.REMOTE_NEED_UPLOAD:c=d.createElement(O.Upload,{filesize:i.size}),f=this.resumeRemoteUpload;break;case j.default.STAGE.ERROR_MISSING:f=this.showMediaMissing;break;case j.default.STAGE.ERROR_UNSUPPORTED:r.isUnsentMedia||(c=d.createElement(O.Download,{filesize:i.size}),f=this.downloadUnsupportedToDesktop);break;default:c=d.createElement(O.Pending,null)}var p=B.default.durationStr(i.duration),m=p?d.createElement("span",{className:Z.default.duration},d.createElement("div",{className:Z.default.icon},d.createElement(H.default,{name:"msg-video-light"})),p):null,b=i.preview?V.default.thumbAsBackgroundImage(i.preview.url()):void 0,g=d.createElement("div",{className:Z.default.thumbBody,style:b}),v=this.props.displayAuthor&&!r.isSentByMe&&r.isGroupMsg,y=v?d.createElement("div",{className:Z.default.author},d.createElement(k.default,{msg:r,contact:r.senderObj})):null,_=r.showForwarded()?d.createElement(I.default,{msg:r,className:Z.default.forwardedIndicator}):null,E=d.createElement(z.default,null),w=r.caption?d.createElement("div",{className:Z.default.caption},d.createElement(S.default,{msg:r,trusted:this.props.trusted,spacer:!((0,le.shouldEnableHsm)()&&r.footer)})):null,C=(0,q.default)(Z.default.bubble,o({},Z.default.nonAlbumBubble,!l||l!==ie.THEMES.ALBUM)),P=(0,q.default)(C,(e={},o(e,Z.default.hasCaption,w),o(e,Z.default.hasAuthor,v),o(e,Z.default.isHover,this.props.hover),o(e,Z.default.forwarded,r.showForwarded()),o(e,Z.default.isPSA,r.isPSA),e)),T=void 0;switch(i.mediaStage){case j.default.STAGE.INIT:case j.default.STAGE.RESOLVED:T=d.createElement("div",{className:(0,q.default)(Z.default.pipBtn,o({},Z.default.isHover,!!this.props.hover))},d.createElement(ae.default,{onClick:function(e){e&&e.stopPropagation(),n.launchVideoFloater()},theme:ne.PIP_BUTTON_THEME.PREVIEW}));break;default:T=null}var N=this.props.quotedMsg?d.createElement("div",{className:Z.default.quote},this.props.quotedMsg):null,R=void 0;switch(this.state.mode){case se.PREVIEW:R=d.createElement(d.Fragment,null,T,c);break;case se.FLOATER:R=d.createElement(oe.default,{icon:d.createElement(H.default,{name:"video-pip-large"})},l10n.t("picture_in_picture_playing"))}var A=(0,q.default)(Z.default.thumb,o({},Z.default.inAlbum,l===ie.THEMES.ALBUM)),D=void 0;s||(D=d.createElement("div",{className:Z.default.meta},d.createElement(M.default,{msg:r})));var x=d.createElement("div",{className:P},y,_,N,d.createElement("div",{ref:this.setRefThumb,className:(0,q.default)(A,"video-thumb",(t={},o(t,Z.default.cursorPointer,this.state.mode===se.PREVIEW),o(t,Z.default.overlay,s),t)),onClick:f},s?null:R,g,E,s?null:m),w,(0,le.shouldEnableHsm)()&&r.footer?d.createElement("div",{className:Z.default.footer},d.createElement(X.default,{text:r.footer,dirMismatch:r.rtl!==l10n.isRTL(),direction:r.dir})):null,D);return w?d.createElement(h.default,{contact:r.senderObj,msg:r,onClick:u},x):(s&&(x=d.createElement("div",{className:Z.default.overlayAlbumText},x,s)),d.createElement("div",{onClick:u},x))}}]),t}(d.PureComponent);ue.CONCERNS={msg:["id","ack","caption","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj","isUnsentMedia","footer","rtl","dir"],mediaData:["aspectRatio","preview","duration","mediaStage","size"]},ue.displayName="Video",t.default=(0,v.default)((0,b.default)((0,y.hoc)(ue),ue.CONCERNS))},dbhbjaeieh:function(e,t){e.exports={muted:"_2QjVs",video:"_1cIQK"}},dbhcbbgdji:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeSensor=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("eceadcicaf"),f=a(c),d=n("ejbdjaifi"),p=n("bjfjacgeai"),h=a(p),m=n("cgeeeeddea"),b=a(m),g=window.ResizeObserver,v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleLoad=function(e){e.currentTarget instanceof HTMLObjectElement&&a._addRefListeners(e.currentTarget)},a._handleResize=function(e){a._animationFrameId&&(cancelAnimationFrame(a._animationFrameId),delete a._animationFrameId),a._animationFrameId=requestAnimationFrame(a._handleResizeAtNextAnimationFrame)},a._handleResizeAtNextAnimationFrame=function(){delete a._animationFrameId,a.props.onResize()},i=n,o(a,i)}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_addRefListeners",value:function(e){var t=e&&e.contentDocument&&e.contentDocument.defaultView;t&&this.props.listeners.add(t,"resize",this._handleResize)}},{key:"render",value:function(){return u.createElement("object",{className:h.default.sensor,data:"about:blank",onLoad:this._handleLoad,type:"text/html"})}}]),t}(u.Component);v.displayName="ObjectBasedResizeSensor";var y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleDiv=function(e){if(null==e)return void n._resizeObserver.disconnect();n._resizeObserver.observe(e)},(0,b.default)(null!=g,"The native ResizeObserver API is missing. ObjectBasedResizeSensor should be used."),n._resizeObserver=new g(function(){n._handleResize()}),n}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_handleResize",value:function(){this.props.onResize()}},{key:"render",value:function(){return u.createElement("div",{ref:this._handleDiv,className:h.default.sensor})}}]),t}(u.Component);y.displayName="ROBasedResizeSensor";var _=t.ResizeSensor=null==g?v:y;t.default=(0,f.default)((0,d.hoc)(_))},dbhcidbdcf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ceffhbhahb"),c=a(u),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("bjebjijbfc"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("fifhbjiec"),v=a(g),y=n("dgjddffcfg"),_=a(y),E=n("cibcaiabfd"),j=a(E),w=n("bgghfidcfh"),O=a(w),C=n("djicgijbjb"),S=a(C),P=n("gaifbabbj"),M=n("ccaaiecfib"),T=a(M),k=b.default.MSG_TYPE,N=k.CHAT,I=k.IMAGE,R=k.VIDEO,A=k.AUDIO,D=k.STICKER,x=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleDownloadMedia=function(){return a.props.msg.downloadMedia()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.msg;e.type===D&&e.downloadMedia()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.inConversation,a=[];t.hasSymbol()&&t.type!==D&&a.push(d.createElement(j.default,{msg:t,key:"msg-symbol"})),t.type!==R&&t.type!==A||t.isGif||t.caption||a.push(h.default.durationStr(Number(t.duration))+" ");var o=P.Configuration.QuotedMention({mentions:t.mentionMap()});if(t.type===N||t.type===I||t.type===R)a.push(d.createElement(v.default,{formatters:o,className:"quoted-mention",text:_.default.msgText(t,!1),textLimit:t.initialPageSize,direction:"auto",key:"status"}));else if(D===t.type){var i="composeBox"===this.props.theme?"composeBoxQuoted":"quoted";a.push(d.createElement(O.default,{key:"sticker",mediaData:t.mediaData,theme:i,downloadMedia:T.default.supportsFeature(T.default.F.REPLACE_MEDIABLOB)?this._handleDownloadMedia:null}))}else a.push(d.createElement(v.default,{formatters:o,className:"quoted-mention",text:_.default.msgText(t),textLimit:t.initialPageSize,direction:"auto",key:"status"}));var l=(0,c.default)(S.default.messageText,r({},S.default.composeBoxQuotedMsg,"composeBox"===this.props.theme));return d.createElement("div",{className:l,role:n?"button":null},a)}}]),t}(d.PureComponent);x.displayName="QuotedMsgContent",t.default=x},dbhidcdghb:function(e,t){e.exports={muted:"_2lcbE",title:"_3XHR-",text:"_1w7vp"}},dbhijaface:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("fffdgbfji"),f=a(c),d=n("eceadcicaf"),p=a(d),h=n("fagbfehid"),m=a(h),b=n("cehjcbedfe"),g=a(b),v=n("bjhfhjjdgd"),y=a(v),_=n("ejbdjaifi"),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleRetryClick=function(){m.default.fetchAt(n.props.selectedStickerPackIndex,!0)},n._handleStickerPackPageFetchState=function(e,t){m.default.pageWithIndex(n.props.selectedStickerPackIndex)===e&&(t?n.forceUpdate():m.default.fetchAt(n.props.selectedStickerPackIndex))},n._setRefScrollGrid=function(e){n._refScrollGrid=e},n._renderError=function(e){return u.createElement("div",{className:y.default.container},u.createElement("div",null,f.default.t("make_sure_computer_active_internet_connection")),u.createElement("div",{"data-id":"retry",className:y.default.retryButton,onClick:e},f.default.t("retry").toUpperCase()))},m.default.fetchAt(n.props.selectedStickerPackIndex),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(m.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedStickerPackIndex;if(t!==this.props.selectedStickerPackIndex){var n=m.default.pageWithIndex(t);m.default.pageFetchStates[n]===h.PAGE_FETCH_STATE.ERROR&&m.default.fetchAt(t,!0)}}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){var e=m.default.at(this.props.selectedStickerPackIndex);if(!e)return null;var t=m.default.pageWithIndex(this.props.selectedStickerPackIndex);return m.default.pageFetchStates[t]===h.PAGE_FETCH_STATE.ERROR?this._renderError(this._handleRetryClick):u.createElement(g.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:e.stickers,renderError:this._renderError})}}]),t}(u.PureComponent);E.displayName="StickerPackStickersScrollGrid";var j=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}((0,p.default)((0,_.hoc)(E)));t.default=j},dbifaacaac:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},u=n("hbhijdici"),c=a(u),f=n("biheibdage"),d=n("ihfgagaij"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("bcbahjefec"),g=a(b),v=n("ddhijeejag"),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),_=n("bcjcbbafcj"),E=a(_),j=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onCancel=function(){e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},e.sendMediaWithMentions=function(t,n){var a=e.props.chat;m.default.once("ui_idle",function(){t.forEach(function(e,t){var n=e.media,r={};0===t&&(r.quotedMsg=a.composeQuotedMsg,a.composeQuotedMsg=null),r.mentionedJidList=e.mentionedJidList,r.caption=n.caption,r.addEvenWhilePreparing=n.previewable&&n.state===f.ATTACH_MEDIA_STATE.PROCESSING,n.sendToChat(a,r)}),e.clearComposeAttachMedia()}),e.props.onComplete&&e.props.onComplete(!0,n),e.props.mediaCollection.mediaPickerStatsLogger.logSend(),e.end()},e.setText=function(t){m.default.once("ui_idle",function(){m.default.pasteChatTextInput(e.props.chat,t)}),e.end()},e.clearComposeAttachMedia=function(){e.props.chat&&e.props.chat.setComposeAttachMediaContents(null)},e.handleRequestDismiss=e.handleRequestDismiss.bind(e),e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){m.default.closeContextMenu(),m.default.closeTooltip(),this.push(y.createElement(p.default,{chat:this.props.chat,files:this.props.files,onBack:this.onCancel,initCaption:this.props.initCaption,onSendMedia:c.default.once(this.sendMediaWithMentions),onDropText:c.default.once(this.setText),mediaCollection:this.props.mediaCollection}))}},{key:"componentWillUnmount",value:function(){var e=this;E.default.isGecko?c.default.defer(function(){return m.default.focusChatTextInput(e.props.chat)}):m.default.focusChatTextInput(this.props.chat)}},{key:"handleRequestDismiss",value:function(e){!1===e&&(this.clearComposeAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel()),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleRequestDismiss",this).call(this)}}]),t}(g.default);t.default=j},dbifijhjeg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return(0,N.numCodepoints)(e)-t>n*v.default.OVERFLOWING_PAGE_THRESHOLD}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("ceffhbhahb"),h=a(p),m=n("jhcabjcaf"),b=a(m),g=n("eadfaddcj"),v=a(g),y=n("fifhbjiec"),_=a(y),E=n("cejheebceh"),j=a(E),w=n("dgdadejebh"),O=a(w),C=n("babhhabdgf"),S=a(C),P=n("fffdgbfji"),M=a(P),T=n("jgficfddf"),k=n("cjbafegbjg"),N=n("chhhffajfi"),I=n("bidfjbaebi"),R=n("ciajafaaie"),A=n("bfiaijhcgh"),D=a(A),x=n("djegeegcbf"),L=a(x),F=n("dbbbgjbbgf"),U=a(F),B=n("beadfddidc"),G=n("gaifbabbj"),V=n("dbabefhajh"),W=a(V),H=n("cadbaeefbb"),Y=a(H),q=n("chjchbjied"),K=a(q),z=n("cieaeggjg"),Q=a(z),X=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleReadMoreClick=function(){var e=n.state.textLimit+v.default.SUBSEQUENT_PAGE_SIZE;e=s(n.props.msg.body,e,v.default.SUBSEQUENT_PAGE_SIZE)?e:1/0,n.setState({textLimit:e})};var a=e.msg;return n.state={textLimit:s(a.body,a.initialPageSize,a.initialPageSize)?a.initialPageSize:1/0},n}return l(t,e),c(t,[{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.displayAuthor,o=t.trusted,i=t.displayType,l=void 0,s=void 0;if(o&&n.linkPreview)if(n.matchedText&&(0,R.isParsableOnlineVideoURL)(n.richPreviewType,n.matchedText))l=d.createElement("div",{className:K.default.linkPreview},d.createElement(S.default,{msg:n}));else{var c=(0,k.parseAPICmd)(n.matchedText),f=u(c,1),p=f[0];if(p===T.APICmd.GROUP_INVITE){if(l=d.createElement("div",{className:K.default.linkPreview},d.createElement(j.default,{msg:n,displayType:i,invite:!0})),i!==v.default.DISP_TYPE.GALLERY){var m=function(e){var t=n.matchedText;(0,I.openExternalLink)(t)},g=n.isSentByMe?M.default.t("group_invite_view"):M.default.t("group_invite_join");s=d.createElement(Y.default,{items:[{label:g,onClick:m}]})}}else l=d.createElement("div",{className:K.default.linkPreview},d.createElement(j.default,{msg:n,displayType:i}))}var y=void 0,E=void 0,w=this.state.textLimit!==1/0,C=w?(0,N.firstNCodepoints)(n.body,this.state.textLimit+1):n.body,P=L.default.getMatchedEmojis(C);if(P){var A=1===P.length&&"❤"===P[0];y=d.createElement(D.default,{animation:A,emojis:P}),E=!0}else{var x=o?G.Configuration.TrustedConversation:G.Configuration.UntrustedConversation,F=x({mentions:n.mentionMap(),links:n.getLinks(C.length),selectable:!0});y=d.createElement(_.default,{text:n.body,className:i===v.default.DISP_TYPE.GALLERY?"message-text-link":"",dirMismatch:n.rtl!==M.default.isRTL(),direction:n.dir,inferLinesDirection:!0,formatters:F,selectable:!0,textLimit:this.state.textLimit})}var V=void 0,H=void 0;(0,B.shouldEnableHsm)()&&(V=n.title?d.createElement("div",{className:K.default.title},d.createElement(_.default,{text:n.title,dirMismatch:n.rtl!==M.default.isRTL(),direction:n.dir})):null,H=n.footer?d.createElement("div",{className:K.default.footer},d.createElement(_.default,{text:n.footer,dirMismatch:n.rtl!==M.default.isRTL(),direction:n.dir})):null);var q=this.state.textLimit!==1/0?d.createElement("span",{className:K.default.more,role:"button",onClick:this.handleReadMoreClick}," "+M.default.t("read_more")):null,z=i!==v.default.DISP_TYPE.GALLERY&&!n.isPSA&&!E,X=void 0;this.props.quotedMsg&&(X=d.createElement("div",{className:K.default.quote},this.props.quotedMsg));var J=this.props.displayAuthor&&!n.isSentByMe&&n.isGroupMsg,Z=n.showForwarded(),$=n.getSuspiciousLinks().length>0,ee=!!s,te=void 0;return ee&&(te=d.createElement("div",{className:K.default.meta},d.createElement(Q.default,{msg:n}))),d.createElement(W.default,{msg:n,displayType:i,displayAuthor:a,hideMeta:ee},d.createElement(b.default,{className:(0,h.default)((e={},r(e,K.default.hasAuthor,J),r(e,K.default.forwarded,Z),r(e,K.default.hasSuspiciousLinks,$),e)),contact:n.senderObj,msg:n},X,d.createElement(O.default,{msg:n,displayType:i}),l,d.createElement(U.default,{msg:n,spacer:z&&!n.footer,"data-id":n.id},V,y,q,H,te),s))}}]),t}(d.PureComponent);X.displayName="Text",t.default=X},dbjbhajgfd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("gbfffciea"),c=a(u),f=n("ddhijeejag"),d=n("dcjdgceiej"),p=a(d),h=n("bfejacaeaj"),m=a(h),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=l({},this.props.contextMenu,{uim:this.context.uim});c.default.openContextMenu(t,function(t){e.element=t})}},{key:"componentWillUnmount",value:function(){c.default.closeContextMenu(this.context.uim)}},{key:"getElement",value:function(){return this.element}},{key:"render",value:function(){return null}}]),t}(f.Component);b.contextTypes={uim:m.default.instanceOf(p.default)},b.displayName="UIEMenu",t.default=b},dbjhghahdd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e,t,n=new f.default;return t=e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}((0,m.default)([u.default,n,g.default])),e.EmojiSuggestions=(0,y.default)(p.default,{plugin:n}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var s=n("dfcggebdjj"),u=a(s),c=n("bfjfgcfade"),f=a(c),d=n("cdheafhdbh"),p=a(d),h=n("eccjbdjafd"),m=a(h),b=n("eaecbgafff"),g=a(b),v=n("ecidjifge"),y=a(v)},dcabggiiff:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bjigbaghc"),f=a(c),d=n("eadfaddcj"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("djcchigfih"),g=a(b),v=n("dajffajabh"),y=a(v),_=n("djbhiedbef"),E=a(_),j=n("ccaaiecfib"),w=a(j),O=n("dcjdgceiej"),C=a(O),S=n("fffdgbfji"),P=a(S),M=n("eedjbihej"),T=a(M),k=n("bfejacaeaj"),N=a(k),I=n("bfgbdiffgd"),R=a(I),A=n("jccfhaecf"),D=a(A),x=n("eceadcicaf"),L=a(x),F=n("ihfccfgdf"),U=a(F),B=n("ejbdjaifi"),G=n("gecdhggfj"),V=a(G),W=n("gejdcbjjd"),H=a(W),Y=n("fijafegab"),q=a(Y),K=n("bfigfbdgha"),z=a(K),Q=n("cjcffhicea"),X=a(Q),J=n("hbhijdici"),Z=a(J),$=n("cgjcdbggeb"),ee=function(e){var t=e.isRestricted,n=e.onClick;return u.createElement(H.default,{onClick:n,multiline:!0},u.createElement("div",{className:V.default.header},u.createElement(T.default,{theme:"title"},P.default.t("group_setting_edit_group_info_setting_btn"))),u.createElement(T.default,{theme:"muted",block:!0},t?P.default.t("group_setting_only_admin"):P.default.t("group_setting_all_participants")))};ee.displayName="RestrictedSettingDrawerBlock";var te=function(e){var t=e.isAnnouncement,n=e.onClick;return u.createElement(H.default,{onClick:n,multiline:!0},u.createElement("div",{className:V.default.header},u.createElement(T.default,{theme:"title"},P.default.t("group_setting_send_msg_setting_btn"))),u.createElement(T.default,{theme:"muted",block:!0},t?P.default.t("group_setting_only_admin"):P.default.t("group_setting_all_participants")))};te.displayName="AnnouncementSettingDrawerBlock";var ne=function(e){var t=e.isNoFrequentlyForwarded,n=e.onClick;return u.createElement(H.default,{onClick:n,multiline:!0},u.createElement("div",{className:V.default.header},u.createElement(T.default,{theme:"title"},P.default.t("group_setting_frequently_forwarded_btn"))),u.createElement(T.default,{theme:"muted",block:!0},t?P.default.t("group_setting_frequently_forwarded_disallow"):P.default.t("group_setting_frequently_forwarded_allow")))};ne.displayName="NoFrequentlyForwardedDrawerBlock";var ae=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.openSettingModal=function(e){var t=a.props,n=t.chat,r=t.groupMetadata;m.default.openModal(u.createElement(z.default,{settingType:e,chat:n,groupMetadata:r}),{transition:"modal",uim:a.context.uim})},a.openAnnouncementSettingModal=function(){a.openSettingModal(p.default.GROUP_SETTING_TYPE.ANNOUNCEMENT)},a.openRestrictedSettingModal=function(){a.openSettingModal(p.default.GROUP_SETTING_TYPE.RESTRICT)},a.openNoFrequentlyForwardedSettingModal=function(){a.openSettingModal(p.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED)},a.getCurrentAdmins=function(){return a.props.groupMetadata.participants.filter(function(e){return e.isAdmin}).map(function(e){return e.contact})},a.filterParticipants=function(e){return!!a.props.groupMetadata.participants.get(e.id)},a.isDisabled=function(e){var t=a.props.groupMetadata;return D.default.equals(e,t.owner)||f.default.me.equals(e)},a.openManageAdminModal=function(){m.default.openModal(u.createElement(X.default,{onChat:a.updateAdmins,getInitialItems:a.getCurrentAdmins,isDisabled:a.isDisabled,isSelected:a.isDisabled,filter:a.filterParticipants,title:P.default.t("manage_admins"),useShortName:!0,useAllContacts:!0,listType:Q.ListType.PARTICIPANT_MANAGE_MODAL}))},a.updateAdmins=function(e){var t=a.props,n=t.chat,r=t.groupMetadata,o=r.participants,i=o.filter(function(e){return e.isAdmin}),l=Z.default.differenceBy(e,i,"id").map(function(e){return o.assertGet(e.id)}),s=Z.default.differenceBy(i,e,"id");l.length>0&&(l.forEach(function(e){e.contact.pendingAction++}),(0,$.promoteParticipants)(n,l).finally(function(){l.forEach(function(e){e.contact.pendingAction--})})),s.length>0&&(s.forEach(function(e){e.contact.pendingAction++}),(0,$.demoteParticipants)(n,s).finally(function(){s.forEach(function(e){e.contact.pendingAction--})})),m.default.closeModal()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.groupMetadata,t=void 0,n=void 0,a=void 0,r=void 0,o=void 0;return R.default.restrictGroups&&(n=u.createElement(ee,{onClick:this.openRestrictedSettingModal,isRestricted:e.restrict})),R.default.announceGroups&&(a=u.createElement(te,{onClick:this.openAnnouncementSettingModal,isAnnouncement:e.announce})),(n||a)&&(t=u.createElement(q.default,null,n,a)),R.default.frequentlyForwardedGroupSetting&&w.default.supportsFeature(w.default.F.FREQUENTLY_FORWARDED_SETTING)&&(r=u.createElement(q.default,null,u.createElement(ne,{onClick:this.openNoFrequentlyForwardedSettingModal,isNoFrequentlyForwarded:e.noFrequentlyForwarded}))),R.default.restrictGroups&&(o=u.createElement(q.default,null,u.createElement(H.default,{onClick:this.openManageAdminModal,multiline:!0},u.createElement("div",{className:V.default.header},u.createElement(T.default,{theme:"title"},P.default.t("manage_admins")))))),u.createElement(g.default,null,u.createElement(y.default,{title:P.default.t("group_setting_title"),type:v.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onClose}),u.createElement(E.default,null,t,r,o))}}]),t}(u.Component);ae.contextTypes={uim:N.default.instanceOf(C.default)},ae.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded","participants","owner"]},ae.displayName="GroupAdminSetting",t.default=(0,L.default)((0,U.default)((0,B.hoc)(ae),ae.CONCERNS))},dcaibchbg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("hbhijdici"),u=a(s),c=n("cccehdaiaf"),f=a(c),d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next";r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.list=e,i.index=-1,i.value=void 0,i.getter=n||function(e){return e},i.deleteDir=a,i}return i(t,e),l(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t,a=void 0,r=void 0;if(this.list=e,this.value){if(u.default.isEmpty(e))return void this.unset();if((a=e.indexOf(this.value))>-1){if(a===this.index)return;r=!0,n=!1}else if(!n||this.index<0)a=-1;else{var o="prev"===this.deleteDir?-1:0;a=this.index+o,a=Math.max(a,0),a=Math.min(a,e.length-1),r=a>-1}this.set(a,n,r)}}},{key:"unset",value:function(){var e=this.value;this.value=void 0,this.index=-1,e&&this.trigger(this.getter(e),!1)}},{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.index<0||this.value&&this.trigger(this.getter(this.value),"focus",e)}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.list.length){var a=Math.min(Math.max(e,-1),this.list.length-1),r=this.value,o=a>-1?this.list[a]:void 0;o?(this.value=o,this.trigger(this.getter(o),t?"focus":"select")):n&&(this.value=void 0),n&&r&&r!==o&&this.trigger(this.getter(r),!1),this.index=a}}},{key:"getVal",value:function(){return this.value}},{key:"setVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.list.indexOf(e);n>-1?this.set(n,t):(this.unset(),this.value=e)}},{key:"setFirst",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.default.isEmpty(this.list)||this.set(0,e,!0)}},{key:"setLast",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.default.isEmpty(this.list)||this.set(this.list.length-1,e,!0)}},{key:"setPrev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.default.isEmpty(this.list)||this.set(this.prev(),e,!0)}},{key:"setNext",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.default.isEmpty(this.list)||this.set(this.next(),e,!0)}},{key:"prev",value:function(){return u.default.isEmpty(this.list)?-1:-1===this.index?-1:this.index-1}},{key:"next",value:function(){return u.default.isEmpty(this.list)?-1:Math.min(this.index+1,this.list.length-1)}}]),t}(f.default);t.default=d},dcbcadjgid:function(e,t){e.exports={muted:"_2Ezia",list:"_3zCpe",hint:"bHCVK",button:"_2TLLH"}},dcbcechchi:function(e,t){e.exports={muted:"_2l_LJ",wrapper:"_1_vLz",button:"_2sOZc",icon:"_1_rsn"}},dcbfjbeaad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("effbcehec"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("biddiiafgd"),g=a(b),v=n("hdccjfbbg"),y=a(v),_=n("dhigahgdjb"),E=a(_),j=n("ddbdcagdbi"),w=a(j),O=n("djcchigfih"),C=a(O),S=n("djbhiedbef"),P=a(S),M=n("dajffajabh"),T=a(M),k=n("cabhjigfgc"),N=a(k),I=n("cicgeajfge"),R=n("bbhhbdicgc"),A=a(R),D=n("cicjcfabii"),x=a(D),L=n("bggeiidigb"),F=a(L),U=n("eceadcicaf"),B=a(U),G=n("ejbdjaifi"),V=n("dcbcadjgid"),W=a(V),H=n("bfdcadbbif"),Y=a(H),q=n("bgfcjjddjf"),K=a(q),z=n("dfdebdgdei"),Q=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.flatListController=new F.default,a.onBlockConfirm=function(e){(0,z.blockContact)(e).catch(function(){}),m.default.closeModal()},a.onBlock=function(){var e=function(e){return!!E.default.isFilteredContact(e)&&(!K.default.get(e.id)||l10n.t("participant_already_blocked"))};m.default.openModal(u.createElement(w.default,{title:l10n.t("add_blocked_title"),filter:e,onCancel:function(){return m.default.closeModal()},onSelect:f.default.once(a.onBlockConfirm)}))},a.onUnblockConfirm=function(e){(0,z.unblockContact)(e).catch(function(){}),m.default.closeModal()},a.onUnblockCancel=function(){m.default.closeModal()},a.onUnblock=function(e,t){m.default.openModal(u.createElement(g.default,{okText:l10n.t("unblock_button"),onOK:a.onUnblockConfirm.bind(a,t),cancelText:l10n.t("web_cancel"),onCancel:a.onUnblockCancel},l10n.t("unblock_confirmation",{contact:t.formattedName})))},a.renderItem=function(e){var t=e.blocklist,n=t.contact();return u.createElement(y.default,{contact:n,key:n.id.toString(),onClick:a.onUnblock,onDelete:a.onUnblock,waitIdle:!0})},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(K.default,"add remove")}},{key:"getData",value:function(){return K.default.map(function(e){return{key:e.id.toString(),blocklist:e}})}},{key:"render",value:function(){var e=void 0,t=void 0;return K.default.length>0?(e=u.createElement(x.default,{flatListControllers:[this.flatListController],className:W.default.list},u.createElement(A.default,{flatListController:this.flatListController,data:this.getData(),renderItem:this.renderItem})),t=u.createElement("div",{"data-a8n":p.default.key("blocked-description"),className:W.default.hint},l10n.t("add_blocked_description"))):e=u.createElement(I.Blocked,null),u.createElement(C.default,null,u.createElement(T.default,{title:l10n.t("blocked_flow_title"),onBack:this.props.onClose,type:M.DRAWER_HEADER_TYPE.LARGE}),u.createElement("div",{className:W.default.button},u.createElement(N.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:u.createElement(Y.default,{name:"add-user",directional:!0})},l10n.t("add_blocked_title"))),u.createElement(P.default,null,e,t))}}]),t}(u.Component);Q.displayName="BlockedDrawer",t.default=(0,B.default)((0,G.hoc)(Q))},dccdiajhdf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("effbcehec"),p=a(d),h=n("ebcagbhefg"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("eadfaddcj"),y=a(v),_=n("djcchigfih"),E=a(_),j=n("djbhiedbef"),w=a(j),O=n("dajffajabh"),C=a(O),S=n("cajijabhgb"),P=r(S),M=n("bbhhbdicgc"),T=a(M),k=n("bggeiidigb"),N=a(k),I=n("bgddggdhc"),R=n("ejbdjaifi"),A=n("cbdagjiddg"),D=a(A),x=n("dhfbggbbbd"),L=a(x),F=n("eceadcicaf"),U=a(F),B=n("eigdejjai"),G=a(B),V=n("bibjgdifc"),W=a(V),H=n("cahfddcdga"),Y=a(H),q=n("bjbedjfe"),K=a(q),z=n("bfejacaeaj"),Q=a(z),X=n("bhifaggjcb"),J=a(X),Z=n("becfabjeeg"),$=a(Z),ee=n("ihfccfgdf"),te=a(ee),ne=n("bdcjhdddde"),ae=a(ne),re=n("bfdcadbbif"),oe=a(re),ie=n("eedjbihej"),le=a(ie),se=n("bfjajhbdf"),ue=a(se),ce=n("dcjdgceiej"),fe=a(ce),de=n("caceaafdic"),pe=a(de),he=n("ddbddjjgia"),me=n("cigbgdjabj"),be=a(me),ge=n("fijafegab"),ve=a(ge),ye=n("ccaaiecfib"),_e=a(ye),Ee=n("eafabiffad"),je=a(Ee),we=n("bfgbdiffgd"),Oe=a(we),Ce=t.SECTIONS={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"},Se="MSG_INFO_ROW",Pe=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.flatListController=new N.default,a.setRefScrollable=function(e){return a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.context.uim.uie.requestDismiss()},a.getHeaderAtSection=function(e){var t=void 0,n=void 0;switch(e){case Ce.PLAYED_HEADER:n=f.createElement(oe.default,{name:"status-ptt-blue"}),t=l10n.t("message_info_played_by");break;case Ce.READ_HEADER:n=f.createElement(oe.default,{name:"status-dblcheck-ack"}),t=l10n.t("message_info_read_by");break;case Ce.DELIVERED_HEADER:n=f.createElement(oe.default,{name:"status-dblcheck"}),t=l10n.t("message_info_delivered_to")}return n=f.createElement("div",{className:ae.default.titleIcon},n),f.createElement("div",{"data-a8n":p.default.key("msg-info-title"),className:ae.default.title},f.createElement(J.default,{side:n,ellipsify:!0},f.createElement(le.default,{theme:"section-title"},t)))},a.getFooterAtSection=function(e){var t=(0,Y.default)(a.state.msgInfo);return f.createElement(L.default,{key:e,section:e,msgInfo:t})},a.renderItem=function(e){return e.type===Se?a.getInfoCell(e.participant):e.type===Ce.FORWARD_COUNT?a.getForwardCount():e.type===Ce.PLAYED_HEADER||e.type===Ce.READ_HEADER||e.type===Ce.DELIVERED_HEADER?a.getHeaderAtSection(e.type):a.getFooterAtSection(e.type)},r=n,l(a,r)}return s(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;G.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.setState({msgInfo:t}),e.props.listeners.add(t.played,"add remove"),e.props.listeners.add(t.read,"add remove"),e.props.listeners.add(t.delivery,"add remove")}).catch(P.Unmount,function(){}).catch(function(){e.setState({unimplemented:!0}),g.default.openToast(f.createElement(ue.default,{msg:l10n.t("msg_info_failed"),id:(0,se.genId)("msg_info_failed")}))})}},{key:"componentDidMount",value:function(){var e=(0,I.forbiddenFindDOMNode)(this.refScrollable);this.props.msg.type===y.default.MSG_TYPE.IMAGE&&e&&(e.scrollTop=e.scrollHeight)}},{key:"getAnimateEnterClass",value:function(e){return"animate-enter"+(-1===e?"":e)}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"getInfoCell",value:function(e){return f.createElement(D.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}},{key:"getForwardCount",value:function(){return f.createElement("div",{className:ae.default.forwardCount},f.createElement(je.default,{msg:this.props.msg}))}},{key:"getData",value:function(){var e=this.props.msg,t=this.state.msgInfo,n=[];return t&&t.isPTT&&(n.push({type:Ce.PLAYED_HEADER,key:Ce.PLAYED_HEADER,height:50}),n.push.apply(n,o(t.played.map(function(e){return{participant:e,type:Se,key:e.id.toString(),height:M.DEFAULT_ITEM_HEIGHT}}))),t.playedRemaining>0&&n.push({type:Ce.PLAYED_FOOTER,key:Ce.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(n.push({type:Ce.READ_HEADER,key:Ce.READ_HEADER,height:50}),n.push.apply(n,o(t.read.map(function(e){return{participant:e,type:Se,key:e.id.toString(),height:M.DEFAULT_ITEM_HEIGHT}}))),t.readRemaining>0&&n.push({type:Ce.READ_FOOTER,key:Ce.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(n.push({type:Ce.DELIVERED_HEADER,key:Ce.DELIVERED_HEADER,height:50}),n.push.apply(n,o(t.delivery.map(function(e){return{participant:e,type:Se,key:e.id.toString(),height:M.DEFAULT_ITEM_HEIGHT}}))),t.deliveryRemaining>0&&n.push({type:Ce.DELIVERED_FOOTER,key:Ce.DELIVERED_FOOTER,height:50})),Oe.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&n.push({type:Ce.FORWARD_COUNT,key:Ce.FORWARD_COUNT,height:60}),n}},{key:"render",value:function(){var e=this.props.msg,t=this.state,n=t.msgInfo,a=t.unimplemented,r=void 0;n||a||(r=f.createElement("div",{className:ae.default.spinner,key:"spinner"},f.createElement($.default,{size:50,stroke:4})));var o=this.getData(),i=o.length?f.createElement(T.default,{flatListController:this.flatListController,forceConsistentRenderCount:!1,data:o,renderItem:this.renderItem}):null,l=null;return e.labels&&e.labels.length&&_e.default.supportsFeature(_e.default.F.LABELS_DISPLAY)&&(l=f.createElement(ve.default,{theme:"padding"},f.createElement(be.default,{labels:e.labels}))),f.createElement(E.default,{key:"message-info-modal"},f.createElement(C.default,{title:l10n.t("message_info"),type:O.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),f.createElement(W.default,{ref:this.setRefScrollable,chatPreference:m.default.assertGet("defaultPreference")},f.createElement(pe.default,{msg:e,ref:(0,R.GetRef)("wrapper",this),displayType:y.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:he.MsgPosition.END})),f.createElement(w.default,{flatListControllers:[this.flatListController]},l,r,f.createElement("div",{className:ae.default.list},i)))}}]),t}(f.Component);Pe.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]},Pe.contextTypes={uim:Q.default.instanceOf(fe.default)},Pe.displayName="GroupMsgInfoDrawer",t.default=(0,K.default)((0,U.default)((0,te.default)((0,R.hoc)(Pe),Pe.CONCERNS)))},dcdageegba:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ccihhdchab"),c=n("djcchigfih"),f=a(c),d=n("dajffajabh"),p=a(d),h=n("djbhiedbef"),m=a(h),b=n("bfajcggcdf"),g=a(b),v=n("dbdidgdgai"),y=a(v),_=n("dceicchccd"),E=a(_),j=n("didfdhbecg"),w=a(j),O=n("djbhhciahi"),C=a(O),S=n("hbhijdici"),P=a(S),M=n("ddhijeejag"),T=n("cbdbejjhjd"),k=n("bhghbagiah"),N=n("caffijjhc"),I=n("fffdgbfji"),R=n("ccaaiecfib"),A=n("ceffhbhahb"),D={MEDIA:"media",DOCS:"docs",LINKS:"links"},x=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,n){e.onSelectMessages(),e.selectedMessages.setVal(t,n),0===e.selectedMessages.getSelected().length&&e.onCancelSelection()},e.selectedMessages=new E.default([],function(e){return e.id.toString()}),e.state={selected:D.MEDIA,direction:null,selectable:!1},e}return l(t,e),s(t,[{key:"onSelectTab",value:function(e){var t=P.default.values(D).indexOf(this.state.selected),n=P.default.values(D).indexOf(e);t!==n&&this.selectedMessages.unsetAll();var a=n>t?"right":"left";this.setState({selected:e,direction:a,selectable:!1})}},{key:"getTabs",value:function(){var e=this;if(!R.supportsFeature(R.F.LINK_DOC_GALLERY))return null;var t=[{tab:D.MEDIA,title:I.t("media")},{tab:D.DOCS,title:I.t("docs")},{tab:D.LINKS,title:I.t("links")}].map(function(t){var n=A(C.default.menuItem,r({},C.default.active,e.state.selected===t.tab));return M.createElement("button",{className:n,onClick:e.onSelectTab.bind(e,t.tab),key:t.tab,title:t.title},t.title)});return M.createElement("div",{className:C.default.menuTabsLists,"data-active-tab":this.state.selected},t)}},{key:"getContent",value:function(){var e=this.props.chat;if(!R.supportsFeature(R.F.LINK_DOC_GALLERY))return M.createElement(g.default,{chat:e,mediaMsgs:e.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});var t=void 0;switch(this.state.selected){case D.MEDIA:t=M.createElement(g.default,{chat:e,mediaMsgs:e.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});break;case D.LINKS:t=M.createElement(T,{chat:e,linkMsgs:e.getLinkMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case D.DOCS:t=M.createElement(k,{chat:e,docMsgs:e.getDocMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages})}return t}},{key:"render",value:function(){var e=this.props.chat,t=this.getTabs(),n=this.getContent(),a=this.state.selectable?M.createElement(N,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},M.createElement(y.default,{chat:e,disableRevoke:!0,noSortOnForward:!0,theme:"mediaGallery",toastPosition:u.ToastPosition.RIGHT,downloadButton:this.state.selected!==D.LINKS,selectedMessages:this.selectedMessages,onCancel:this.onCancelSelection})):null,r="right"===this.state.direction?"slide-forward":"slide-back",o=R.supportsFeature(R.F.LINK_DOC_GALLERY)?" ":I.t("media");return M.createElement(f.default,{theme:"gallery"},M.createElement(p.default,{title:o,onBack:this.props.onBack,type:d.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),a,t,M.createElement(m.default,{"data-list-scroll-container":!0},M.createElement(w.default,{transitionName:r,className:C.default.column},M.createElement("div",{className:C.default.multimediaGallery,key:this.state.selected},M.createElement("div",{className:C.default.column},n)))))}}]),t}(M.Component);x.displayName="MediaGalleryDrawer",e.exports=x},dcdbiiejfc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return o((0,h.unproxy)(e))}function o(e){if(e.promises.sendDelete)return e.promises.sendDelete;var t=e.getLastMsgKeyForAction(),n=t?e.msgs.get(t):void 0,a=e.promises.sendDelete=(0,m.sendConversationDelete)(e.id,t,e.getLastMsgKeyForAction.bind(e)),r=e.kind,l=void 0;switch(r){case u.KIND.GROUP:l=l10n.t("action_group_deleting");break;case u.KIND.BROADCAST:l=l10n.t("action_broadcast_deleting");break;case u.KIND.CHAT:l=l10n.t("action_chat_deleting")}l=new i.ActionType(l);var c=a.then(function(e){if(200===e.status)switch(r){case u.KIND.GROUP:return new i.ActionType(l10n.t("action_group_deleted"));case u.KIND.BROADCAST:return new i.ActionType(l10n.t("action_broadcast_deleted"));case u.KIND.CHAT:return new i.ActionType(l10n.t("action_chat_deleted"))}else if(e.status>=400)switch(r){case u.KIND.GROUP:return new i.ActionType(l10n.t("action_group_delete_failed"));case u.KIND.BROADCAST:return new i.ActionType(l10n.t("action_broadcast_delete_failed"));case u.KIND.CHAT:return new i.ActionType(l10n.t("action_chat_delete_failed"))}}).catch(function(t){f.default.error("models:chat:sendDelete dropped")(t);var n=void 0;switch(r){case u.KIND.GROUP:n=l10n.t("action_group_delete_failed");break;case u.KIND.BROADCAST:n=l10n.t("action_broadcast_delete_failed");break;case u.KIND.CHAT:n=l10n.t("action_chat_delete_failed")}return new i.ActionType(n,l10n.t("action_try_again"),function(){return o(e)})});return s.default.openToast(p.default.createElement(i.ActionToast,{id:(0,i.genId)(),initialAction:l,pendingAction:c})),a.then(function(a){if(200===a.status&&!a._duplicate){var r=e.getLastMsgKeyForAction();t&&t.equals(r)||t===r?e.delete():e.deleteMsgsBeforeMsgInclusive(n)}}).finally(function(){e.promises.sendDelete=null})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendDelete=r;var i=n("ccihhdchab"),l=n("gbfffciea"),s=a(l),u=n("ebjaejiaba"),c=n("bdiiahhjbe"),f=a(c),d=n("ddhijeejag"),p=a(d),h=n("bheafeifce"),m=n("bjecicbiic")},dcdifccjdh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("hbhijdici"),o=a(r),i=n("bjigbaghc"),l=a(i),s=n("bdiiahhjbe"),u=a(s),c=n("ccgjijjbbj"),f=a(c),d=n("eadfaddcj"),p=a(d),h=n("jccfhaecf"),m=a(h),b=n("dhacjhbgfj"),g={version:"12",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32},statusQuery:function(){switch(arguments.length){case 2:case 3:case 4:return this.statusQueryUpdate.apply(this,arguments);case 0:default:return this.statusQueryAll()}},statusQueryAll:function(){var e=this;return new Promise(function(t,n){var a=function(a){e.BinaryProtocol.read(a).then(function(n){var a={statuses:[]},r=e.N.children(n);if(u.default.logColor("green","bin-recv: response,statusv3",n)(),"response"===e.N.tag(n)&&"status"===e.N.attr("type",n)&&(a.checksum=e.N.attr("checksum",n),Array.isArray(r)))for(var o=r.length,i=0;i<o;i++){var l=r[i],s=e.N.attr("jid",l),c=e.N.attr("unread",l),f=e.N.attr("count",l),d=e.N.attr("t",l),p=e.N.attr("score",l);if("status"===e.N.tag(l)&&s&&f&&d){var h={id:s,unreadCount:parseInt(c,10)||0,totalCount:parseInt(f,10)||0,t:parseInt(d,10)||0,score:parseFloat(p)||0,_msgs:[]},m=e.N.children(l);if(Array.isArray(m))for(var b=m.length,g=0;g<b;g++)switch(e.N.tag(m[g])){default:case"message":var v=e.parseMsgMessage(m[g],"response");v&&h._msgs.push(v);break;case"picture":var y=e.N.children(m[g]);y instanceof ArrayBuffer&&(h.pic=y)}a.statuses.push(h)}}t(a)}).catch(n)},r=e.queryNode({type:"status"},void 0);e.binSend("sendEphemeral",r,n,{onSend:e.binWrap(a,t),onDrop:e.wrap(n)},{debugString:"query,statusv3",metric:e.M.QUERY_STATUS,ackRequest:!1})})},statusQueryUpdate:function(e,t,n,a){var r=this;return new Promise(function(o,i){var l=function(e){r.BinaryProtocol.read(e).then(function(e){var t=[],n=r.N.children(e);if(u.default.logColor("green","bin-recv: response,statusv3",e)(),"response"===r.N.tag(e)&&"status"===r.N.attr("type",e)&&Array.isArray(n))for(var a=n.length,i=0;i<a;i++){var l=r.parseMsg(n[i],"response");l&&t.push(l)}o(t)}).catch(i)},s="before"===a?"before":"after",c={type:"status",kind:s,chat:e,count:t.toString(),jid:n?n.remote:void 0,index:n?n.id:void 0,owner:n?n.fromMe.toString():void 0,participant:n?n.participant:void 0},d=r.queryNode(c,void 0);r.binSend("sendEphemeral",d,i,{onSend:r.binWrap(l,o),onDrop:r.wrap(i)},{debugString:["query","statusv3",s,t,n instanceof f.default?n.toString():e].join(),metric:r.M.QUERY_STATUS_UPDATE,ackRequest:!1})})},sendConversationSeen:function(e,t,n,a,r){var o=this;return new Promise(function(i,l){var s=o.actionNode("set",[["read",{kind:a?"status":void 0,chat:a?r:void 0,jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:n&&t?n.toString():void 0},void 0]]);o.binSend("send",s,l,{clientCacheable:!0,onSend:o.wrap(i),onDrop:o.wrap(l)},{debugString:"action,"+(a?"status":"chat")+",read,"+JSON.stringify(t)+","+n,metric:o.M.READ,ackRequest:!0})})},sendStatusSeen:function(e,t){return this.sendConversationSeen(e.remote,e,void 0,!0,t)},sendStatusMute:function(e,t){var n=this;return new Promise(function(a,r){var o=n.actionNode("set",[["status",{jid:e,mute:(!!t).toString()},void 0]]);n.binSend("send",o,r,{clientCacheable:!0,onSend:n.wrap(a),onDrop:n.wrap(r)},{debugString:"action,status,mute,"+[e,t].join(),metric:n.M.STATUS,ackRequest:!0})})},requestMediaReupload:function(e,t){var n=this;return new Promise(function(a,r){var o=e.id,i=function(e){n.BinaryProtocol.read(e).then(function(e){var t=void 0;if(u.default.logColor("green","bin-recv: response,media",e)(),"response"===n.N.tag(e)&&"media"===n.N.attr("type",e)){var r=parseInt(n.N.attr("code",e))||400,o=n.N.attr("url",e);r>=500&&502!==r?(u.default.error("wap:requestMediaReupload:error "+r)(),t={status:r}):200===r&&o?t={status:200,url:o,mediaKey:n.N.attr("media_key",e)}:200!==r||o?(u.default.error("wap:requestMediaReupload:error "+r)(),t={status:r}):t={status:400}}else u.default.error("wap:requestMediaReupload:malformed")(),t={status:400};a(t)}).catch(r)},l=Array.isArray(t)?t.map(function(e){return["user",{jid:e},void 0]}):void 0,s=o,c=n.queryNode({type:"media",index:s.id,jid:s.remote,owner:s.fromMe.toString(),participant:s.participant},l);n.binSend("sendEphemeral",c,r,{onSend:n.binWrap(i,a),onDrop:n.wrap(r)},{debugString:"query,media",metric:n.M.QUERY_MEDIA,ackRequest:!1})})},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),n="false"===this.N.attr("type",e),a="status"===this.N.attr("kind",e),r=this.N.attr("checksum",e),o=this.N.attr("index",e),i="true"===this.N.attr("owner",e),l=this.N.attr("participant",e),s=this.N.attr("chat",e),u=void 0;try{u=new f.default({id:o,fromMe:i,remote:t,participant:l})}catch(e){}var c={type:n?"unread":"read",jid:t,isStatus:a,checksum:r,chat:this.decodeJid(s),key:u},d=[!t,a&&!u];return this.dropIfConditionMet(d,c);case"identity":var p=this.parseIdentity(e);if(p)return p.type="identity",p;return;default:return}},parseContact:function(e,t){if("user"!==this.N.tag(e))return void u.default.assert(!1,"wap-unexpected-tag","expected tag: user, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var n=this.N.attr("name",e),a="true"===this.N.attr("enterprise",e),r=this.N.attr("jid",e)||t,o=this.N.attr("short",e)||void 0,i=this.N.attr("type",e)||"in",l=this.N.attr("notify",e),s=this.N.attr("verify",e),c="true"===this.N.attr("status_mute",e),f=this.N.attr("index",e)||void 0,d=this.N.attr("vname",e),h=void 0,m=void 0;switch(s){case"true":case"0":case"1":case"2":h=!0,m=parseInt(s,10)||0;break;default:h=!1,a=!1}n||m!==p.default.VERIFIED_LEVEL.HIGH||(n=d);var b=this.N.children(e),g=[];if(Array.isArray(b))for(var v=0;v<b.length;v++){var y=b[v];if("label"===this.N.tag(y)){var _=this.N.attr("id",y);_&&g.push(_)}}var E={id:r,name:n,type:i,shortName:o,pushname:l,isBusiness:h,verifiedLevel:m,statusMute:c,sectionHeader:f,verifiedName:d,labels:g,isEnterprise:a},j=[!r,"in"!==i&&"out"!==i&&!!i];return this.dropIfConditionMet(j,E)},parseAck:function(e){if("received"!==this.N.tag(e))return void u.default.assert(!1,"wap-unexpected-tag","expected tag: received, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=this.N.attr("type",e),n=this.N.attr("index",e),a=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),i=void 0;switch(t){case"message":i=2;break;case"read":i=3;break;case"played":i=4;break;case"error":i=-1;break;case"pending":default:i=0}var s={cmd:"ack",id:n,ack:i,from:r?l.default.me:a,to:r?a:l.default.me,participant:o,self:r?"out":"in"},c=[!n,!a,m.default.isStatusV3(a),"message"!==t&&"read"!==t&&"played"!==t&&"error"!==t&&"pending"!==t];return this.dropIfConditionMet(c,s)}};e.exports=o.default.defaults(g,b)},dcebcbcdih:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=(0,D.default)(1e3*e).diff((0,D.default)()),n=Math.floor(t/re);return t<=0?l10n.t("invite_expired"):n<12?l10n.t("invite_exp_at",{time:(0,D.default)().local().format("LT")}):n<24?l10n.t("invite_exp_in_x_days",{number:1,_plural:1}):n<48?l10n.t("invite_exp_in_x_days",{number:2,_plural:2}):l10n.t("invite_exp_in_x_days",{number:3,_plural:3})}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("cajijabhgb"),p=r(d),h=n("dbdfbgehgj"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("biddiiafgd"),y=a(v),_=n("bjigbaghc"),E=a(_),j=n("eadfaddcj"),w=a(j),O=n("dhigahgdjb"),C=a(O),S=n("dhhfaeacef"),P=a(S),M=n("fifhbjiec"),T=a(M),k=n("fcfchiagj"),N=a(k),I=n("dihehaccca"),R=a(I),A=n("dgdjiicfdg"),D=a(A),x=n("bjbedjfe"),L=a(x),F=n("ihfccfgdf"),U=a(F),B=n("ebacfjjdeb"),G=a(B),V=n("dcbdjheea"),W=n("bahgfcjcda"),H=a(W),Y=n("bfjajhbdf"),q=a(Y),K=n("bfdcadbbif"),z=a(K),Q=n("chajfbfiga"),X=a(Q),J=n("chcadgfgad"),Z=n("ejbdjaifi"),$=n("cicgeajfge"),ee=n("djaadchjch"),te=a(ee),ne={LOADING:0,SUCCESS:1,ERROR:2},ae=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={state:ne.LOADING,status:void 0,groupMetadata:void 0,subject:void 0},a.onViewGroup=function(e){var t=void 0;e?t=e:a.state.groupMetadata&&(t=a.state.groupMetadata.id),t&&g.default.openChatFromUnread(m.default.assertGet(t)),g.default.closeModal()},a.revokeGrpV4Invite=function(){var e=a.props.msg,t=a.props.msg.inviteGrp,n=m.default.assertGet((0,V.createWid)(t)).groupMetadata,r=function(){g.default.closeModal(),n.revokeGroupV4AddInvite([e.to.toString()]).then(function(){g.default.openToast(f.createElement(q.default,{msg:l10n.t("web_group_v4_revoking_invite_success"),id:(0,Y.genId)()}))})};g.default.openModal(f.createElement(y.default,{onOK:r,okText:l10n.t("web_revoke"),onCancel:function(){return g.default.closeModal()},cancelText:l10n.t("web_cancel")},f.createElement(T.default,{text:l10n.t("groups_v4_revoke_confirm",{participant:e.chat.contact.formattedName})})))},a.onJoinGroup=function(){var e=a.props.msg,t=e.inviteCode,n=e.inviteCodeExp,r=e.inviteGrp,o=e.from;X.default.acceptGroupV4Invite(r,o.toString(),t,""+n,E.default.me.toString()).then(function(e){return 200===e.status?m.default.find((0,V.createWid)(r)):Promise.reject(e.status)}).then(function(e){g.default.openChatFromUnread(e).then(function(t){t&&g.default.focusChatTextInput(e)}),g.default.closeModal()}).checkpoint(a.props.rejectOnUnmount()).catch(p.Unmount,function(){}).catch(function(e){a.setState({state:ne.ERROR,status:e})})},a.onCancel=function(){g.default.closeModal()},r=n,i(a,r)}return l(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.msg,n=t.inviteCode,a=t.inviteCodeExp,r=t.inviteGrp;if(t.isSentByMe){var o=m.default.assertGet((0,V.createWid)(r));return void(o.groupMetadata&&te.default.find(o.id).catch(p.WapDrop,p.ProtoVersionUndefined,function(){}).finally(function(){e.setState({status:200,groupMetadata:o.groupMetadata,subject:o.formattedTitle||o.name,state:ne.SUCCESS})}))}X.default.groupV4InviteRequestMetadataFind(E.default.me.toString(),this.props.msg.from.toString(),n,""+a,r).then(function(t){if(t.status&&t.status>=400)e.setState({status:t.status,state:ne.ERROR});else if(t.id){var n=new N.default({id:t.id,owner:t.owner,creation:t.creation,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:t.restrict,announce:t.announce,participants:t.participants});e.setState({status:200,groupMetadata:n,subject:t.subject,state:ne.SUCCESS})}else e.setState({status:t.status,state:ne.ERROR})}).catch(p.Unmount,function(){})}},{key:"render",value:function(){var e=this.props.msg,t=e.inviteGrp,n=e.inviteCodeExp,a=e.inviteCode,r=e.from,o=e.isSentByMe,i=this.state,l=i.state,u=i.status,c=i.groupMetadata,d=i.subject,p={cancelText:l10n.t("group_invite_cancel"),onCancel:this.onCancel,onOK:void 0,okText:void 0},h=void 0,b=void 0;if(l===ne.LOADING)h=f.createElement($.Loading,null);else if(l===ne.SUCCESS&&c){var g=c.participants,v=c.size||g.length,_=g.filter(function(e){return!!C.default.assertGet(e.id).name}),j=void 0,O=c.desc?f.createElement("div",{className:G.default.metadataDesc},f.createElement(T.default,{text:c.desc})):null;j=_.length?f.createElement("div",{className:G.default.participantList},f.createElement("div",{className:G.default.participantsTitle},l10n.t("group_invite_participants",{count:v,_plural:v})," ","•"," ",l10n.t("group_invite_contacts",{count:_.length,_plural:_.length})),f.createElement("div",{className:G.default.participantsContainer},_.map(function(e){return f.createElement("div",{key:e.id.toString(),className:G.default.participantWrapper},f.createElement(P.default,{id:e.id}),f.createElement(T.default,{className:G.default.participantText,text:e.contact.formattedName}))}))):f.createElement("div",{className:G.default.emptyContentContainer},f.createElement("span",{className:G.default.participantsText},l10n.t("group_invite_participants",{count:g.length,_plural:g.length})),f.createElement("span",{className:G.default.contactsText}," ","•"," ",l10n.t("group_invite_contacts",{count:_.length,_plural:_.length})));var S="w="+encodeURIComponent(E.default.me.toString())+"&g="+encodeURIComponent(t)+"&c="+encodeURIComponent(a)+"&e="+encodeURIComponent(n)+"&a="+encodeURIComponent(r.toString()),M=w.default.GROUP_V4_INVITE_ICON_URL+"?"+S;h=f.createElement("div",null,f.createElement("div",{className:G.default.metadataContainer},o?f.createElement(H.default,{size:82,waid:(0,V.createWid)(t)}):f.createElement(R.default,{src:M,fallback:"default-group",size:82}),f.createElement("div",{className:G.default.metadataText},f.createElement(T.default,{className:G.default.metadataTitle,text:d}),O)),j);var k=m.default.get(c.id),N=!!k&&!k.isReadOnly;e.isSentByMe?(p.onOK=this.revokeGrpV4Invite,p.okText=l10n.t("revoke_groups_v4_invite_button_text")):N?(p.onOK=this.onViewGroup,p.okText=l10n.t("group_invite_view")):(p.onOK=this.onJoinGroup,p.okText=l10n.t("group_invite_join")),b=J.FlexModalType}else{var I=void 0;switch(u){case 401:I=l10n.t("group_invite_accept_401");break;case 404:I=l10n.t("group_invite_accept_404");break;case 410:I=l10n.t("group_invite_accept_410");break;case 419:I=l10n.t("group_invite_accept_419");break;default:I=l10n.t("group_invite_accept_500")}p.cancelText=l10n.t("web_ok"),h=f.createElement("div",null,I)}var A=l===ne.SUCCESS?f.createElement("div",{className:G.default.inviteExpiration},f.createElement(z.default,{name:"panel-recent",display:"inline",className:G.default.inviteExpirationIcon}),f.createElement("span",null,s(parseInt(n,10)))):null;return f.createElement(y.default,{cancelText:p.cancelText,onCancel:p.onCancel,onOK:p.onOK,okText:p.okText,type:b},h,A)}}]),t}(f.Component);ae.CONCERNS={msg:["id","to","inviteCode","inviteCodeExp","inviteGrp","from","chat","isSentByMe"]},ae.displayName="GroupV4InviteModal";var re=36e5;t.default=(0,U.default)((0,L.default)((0,Z.hoc)(ae)),ae.CONCERNS)},dcecgegjfc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=!1,a=0;return Promise.resolve().then(function(){var r="camera"===e?{video:{width:h.default.imageMaxEdge,height:h.default.imageMaxEdge}}:{audio:!0},o=void 0;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MediaCapture:start no ability to capture media");return o=navigator.mediaDevices.getUserMedia(r),a=setTimeout(function(){t?t():(i(e),n=!0)},1e3),o.catch(function(e){var t=e&&e.name||e,n=d.GUM[t]||d.GUM.GUMError;return Promise.reject(new n)})}).finally(function(){n&&f.default.closeModal(),a&&clearTimeout(a)})}function o(e){if("function"==typeof e.stop)e.stop();else for(var t=e.getTracks(),n=0;n<t.length;n++)t[n].stop()}function i(e){"camera"===e?f.default.openModal(u.createElement(b.default,{title:"guide_desktop_camera_title",desc:"guide_desktop_camera_description",type:b.default.TYPE.GUIDE_ALLOW})):f.default.openModal(u.createElement(b.default,{title:"guide_desktop_mic_title",desc:"guide_desktop_mic_description",type:b.default.TYPE.GUIDE_ALLOW}))}function l(){return void 0===g&&(g="srcObject"in document.createElement("video")),g}Object.defineProperty(t,"__esModule",{value:!0}),t.start=r,t.stop=o,t.isSrcObjectInVideoElement=l;var s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("cajijabhgb"),p=n("bfgbdiffgd"),h=a(p),m=n("ffchhcfdj"),b=a(m),g=void 0},dceicchccd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("cccehdaiaf"),u=a(s),c=n("hbhijdici"),f=a(c),d=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.list=e,a.selected=e.reduce(function(e,t,n){return e[n]=!1,e},{}),a.getter=n,a}return i(t,e),l(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!f.default.isEmpty(this.selected)){if(f.default.isEmpty(t))return void this.unsetAll();this.selected=t.reduce(function(t,n,a){var r=e.list.indexOf(n);return t[a]=r>-1&&e.selected[r],t},{}),this.list=t}}},{key:"unsetAll",value:function(){var e=this;f.default.forOwn(this.selected,function(t,n){t&&e.set(n,!1)})}},{key:"reset",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f.default.forOwn(this.selected,function(n,a){n&&e.trigger(e.getter(e.list[a]),!0,!0,t)})}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.list.length){var a=Math.min(Math.max(e,-1),this.list.length-1),r=a>-1?this.list[a]:void 0;r&&(this.selected[a]&&!t||!this.selected[a]&&t)&&(this.selected[a]=t,this.trigger(this.getter(r),t,n))}}},{key:"setVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.list.indexOf(e);-1===a&&(a=this.list.length,this.list.push(e),this.selected[a]=!1),this.set(a,t,n)}},{key:"setFirst",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f.default.isEmpty(this.list)||this.set(0,!0,e)}},{key:"setLast",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f.default.isEmpty(this.list)||this.set(this.list.length-1,!0,e)}},{key:"getSelected",value:function(){var e=this;return this.list.reduce(function(t,n,a){return e.selected[a]&&t.push(n),t},[])}},{key:"isSelected",value:function(e){return!!this.selected[this.list.indexOf(e)]}}]),t}(u.default);t.default=d},dcfaachegb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaStage=t.WrappedMediaImage=t.ZOOM_IN_FACTOR=t.ANIMATION_DURATION=void 0;var u=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=r(f),p=n("bgddggdhc"),h=n("hbhijdici"),m=a(h),b=n("djidacbicd"),g=a(b),v=n("gbfffciea"),y=a(v),_=n("ebcfjdcbhh"),E=a(_),j=n("biddiiafgd"),w=a(j),O=n("ceffhbhahb"),C=a(O),S=n("bhcegecbha"),P=a(S),M=n("fifhbjiec"),T=a(M),k=n("ghbbeafj"),N=a(k),I=n("cajbifjffe"),R=a(I),A=n("bffjfbgbg"),D=a(A),x=n("bdgdjfajce"),L=a(x),F=n("eafjfadchb"),U=a(F),B=n("ecibddhig"),G=r(B),V=n("dgfecega"),W=a(V),H=n("ihfccfgdf"),Y=a(H),q=n("bheafeifce"),K=n("caffijjhc"),z=a(K),Q=n("bcifhbgija"),X=a(Q),J=n("ccfdaijebj"),Z=a(J),$=n("cdbgdedbdh"),ee=n("gaifbabbj"),te=n("ejbdjaifi"),ne=n("bfdcadbbif"),ae=a(ne),re=n("daiibfchg"),oe=a(re),ie=n("bcfiaiddii"),le=a(ie),se=n("cgecdbiihg"),ue=n("dagibffcjf"),ce=n("bbjadhadbg"),fe=a(ce),de=n("ccaaiecfib"),pe=a(de),he=n("hjbbdjjdf"),me=t.ANIMATION_DURATION=500,be=t.ZOOM_IN_FACTOR=2,ge=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMediaImage=function(e){return n.mediaImage=e},n.setMediaVideo=function(e){return n.mediaVideo=e},n.onImageLoad=function(e){if(n.props.onImageLoad&&n.props.onImageLoad(),!n.zoomed){n.zoomed=!0;var t=n.state.zoomElement;t&&e&&n.props.zoomIn&&e instanceof HTMLElement&&n.animateZoom(t,e)}},n.animateZoom=function(e,t){var a=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-a.top,i=r.left-a.left,l=e.clientWidth/t.clientWidth,s=(t.clientHeight-e.clientHeight)/2,u=(t.clientWidth-e.clientWidth)/2;o-=s,i-=u,(0,X.default)(t,{opacity:[1,0],translateX:[0,i],translateY:[0,o],scale:[1,l]},{duration:me,easing:[.1,.82,.25,1]});var c=(0,p.forbiddenFindDOMNode)(n.caption);c&&(0,X.default)(c,{opacity:[1,0]},{duration:me})},n.openForwardFlow=function(e){e.stopPropagation();var t=n.props.msg;t.isUnsentMedia?y.default.openModal(d.createElement(w.default,{title:l10n.t("err_unsent_forward_title"),onOK:function(){return y.default.closeModal()},okText:l10n.t("web_ok")},l10n.t("err_unsent_forward_text"))):y.default.openModal(d.createElement(N.default,{msgs:[(0,q.unproxy)(t)]}),{transition:"modal-flow"})},n.onScroll=function(e){Math.abs(e.deltaY)>7&&n.onClose()},n.onImgZoomIn=function(e){var t=n.mediaImage;e&&t&&(n.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),n.setState({imgZoomed:e}),n.props.onImgZoomIn(e)},n.onZoomOut=function(e){var t=n.mediaImage;t&&n.state.imgZoomed&&t.onImageClick(e)},n.onMouseMove=function(e){n.handleMouseMove(e.pageX,e.pageY)},n._handleMouseMove=function(e,t){var a=n.mediaImage;if(a){var r=a.image;if(r){var o=(0,p.forbiddenAssertDOMNode)(r);if(o){var i=o.parentNode,l=i.parentNode,s=a.getTranslatePosition(l,e,t),u=s.translateX,c=s.translateY;(0,X.default)(i,"stop"),(0,X.default)(i,{translateX:u,translateY:c,scale:be},{duration:0})}}}},n.onDownloadClick=function(e){e.stopPropagation(),P.default.initDownload((0,q.unproxy)(n.props.msg))},n.onStarClick=function(e){e.stopPropagation();var t=n.props.msg;y.default.sendStarMsgs(t.chat,[(0,q.unproxy)(t)])},n.onUnstarClick=function(e){e.stopPropagation();var t=n.props.msg;y.default.sendUnstarMsgs(t.chat,[(0,q.unproxy)(t)])},n.onGoToMsgClick=function(e){e.stopPropagation(),n.onClose(),y.default.existsDrawerRight(function(e){e&&2===E.default.column&&y.default.closeDrawerRight()});var t=n.props.msg;y.default.openChatAt(t.chat,t.chat.getSearchContext((0,q.unproxy)(t)))},n.onClose=function(){if(!n.closing){n.closing=!0,(0,he.isFunction)(n.props.onExitAnimation)&&n.props.onExitAnimation();var e=n.props.getZoomNode&&n.props.getZoomNode(n.props.msg.id);if(!e)return n.props.onBack();var t=void 0;if(n.props.mediaData.type===D.default.TYPE.IMAGE&&n.mediaImage?t=n.mediaImage.image:n.props.mediaData.isGif&&n.mediaVideo&&(t=n.mediaVideo.player),!t)return n.props.onBack();t=(0,p.forbiddenAssertDOMNode)(t);var a=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-a.top,i=r.left-a.left,l=e.clientWidth/t.clientWidth,s=(t.clientHeight-e.clientHeight)/2,u=(t.clientWidth-e.clientWidth)/2;o-=s,i-=u,(0,X.default)(t,{translateX:[i,0],translateY:[o,0],scale:[l,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){n.props.onBack()});var c=(0,p.forbiddenFindDOMNode)(n.caption);c&&(0,X.default)(c,{opacity:[0,1]},{duration:200,easing:[.1,.82,.25,1]})}},n.handleMouseMove=m.default.throttle(n._handleMouseMove,42),n.zoomed=!1,n.closing=!1,n.listenToMouseMove=!1,n.state={imgZoomed:!1,zoomElement:null},n}return s(t,e),c(t,[{key:"componentWillMount",value:function(){if(this.props.mediaData.mediaStage===D.default.STAGE.RESOLVED&&this.props.zoomIn){if(this.props.getZoomNode){var e=this.props.getZoomNode(this.props.msg.id);this.setState({zoomElement:e})}this.transparentStyle={opacity:0}}}},{key:"componentDidMount",value:function(){this.transparentStyle={}}},{key:"componentWillUnmount",value:function(){this.handleMouseMove.cancel()}},{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.mediaData,r=void 0;switch(a.type){case D.default.TYPE.IMAGE:r=d.createElement(ye,{msg:n,mediaData:a,key:n.id.toString(),style:this.transparentStyle,onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,ref:this.setMediaImage});break;case D.default.TYPE.VIDEO:r=d.createElement(Ee,{msg:n,mediaData:a,key:n.id.toString(),onLoad:a.isGif?this.onImageLoad:null,startTime:this.props.startTime,onClose:this.onClose,ref:this.setMediaVideo});break;case D.default.TYPE.AUDIO:r=d.createElement(Ce,{mediaData:a,key:n.id.toString()})}var i=void 0;if(n.caption){var l=ee.Configuration.TrustedConversation({mentions:n.mentionMap(),links:n.getLinks()}),s=this.props.zoomIn&&(a.isGif||a.type===D.default.TYPE.IMAGE),u=(0,C.default)(oe.default.mediaCaption,o({},oe.default.captionHidden,s));i=d.createElement(T.default,{className:u,formatters:l,ref:(0,te.GetRef)("caption",this),text:n.caption})}var c=(0,C.default)(oe.default.media,o({},oe.default.mediaWithCaption,!!i)),f=d.createElement(ae.default,{name:"chevron-right",title:l10n.t("next_button")}),p=(0,C.default)(oe.default.btn,oe.default.btnMediaNext,o({},oe.default.disabledBtn,!this.props.onNext)),h=d.createElement("div",{role:"button",className:p,onClick:this.props.onNext||function(e){return e.stopPropagation()}},f),m=d.createElement(ae.default,{name:"chevron-left",title:l10n.t("previous_button")}),b=(0,C.default)(oe.default.btn,oe.default.btnMediaPrev,o({},oe.default.disabledBtn,!this.props.onPrev)),g=d.createElement("div",{role:"button",className:b,onClick:this.props.onPrev||function(e){return e.stopPropagation()}},m),v=(0,C.default)("overlay",oe.default.mediaViewer,(e={},o(e,oe.default.mediaViewerAnimate,this.props.zoomIn),o(e,oe.default.cursorZoomOut,this.state.imgZoomed),e)),y=this.state.imgZoomed?null:this.onScroll,_=this.state.imgZoomed?null:this.onClose,E=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,j=this.state.imgZoomed?this.onZoomOut:null;return d.createElement(z.default,{displayName:"MediaViewer",escapable:!0,requestDismiss:this.onClose},d.createElement("div",{className:v,"data-animate-media-viewer":!0,onClick:j,onMouseMove:E},d.createElement(L.default,{msg:n,mediaData:a,onGoToMsgClick:this.onGoToMsgClick,onUnstarClick:this.onUnstarClick,onStarClick:this.onStarClick,openForwardFlow:this.openForwardFlow,onDownloadClick:this.onDownloadClick,onClose:this.onClose}),d.createElement("div",{className:oe.default.mediaContent,dir:"ltr",onWheel:y,onClick:_},g,d.createElement("div",{className:c},d.createElement(Pe,{msg:n,mediaData:a}),r,i),h)))}}]),t}(d.PureComponent);ge.CONCERNS={msg:["id","star","isUnsentMedia","chat","caption","subtype"],mediaData:["mediaStage","type","isGif"]},ge.displayName="MediaViewerModal",t.default=(0,Y.default)((0,te.hoc)(ge),ge.CONCERNS);var ve=function(e){function t(){var e,n,a,r;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={zoomIn:null},a.onImageClick=function(e){if(e.stopPropagation(),a.state.zoomIn)return void a.cancelZoomIn();var t=(0,p.forbiddenAssertDOMNode)(a.image);if(t&&t.parentNode&&t.parentNode.parentNode){var n=t.parentNode,r=n.parentNode;a.heightOverflow=n.clientHeight*be-r.clientHeight,a.widthOverflow=n.clientWidth*be-r.clientWidth;var o=a.getTranslatePosition(r,e.pageX,e.pageY),i=o.translateX,l=o.translateY;a.props.onImgZoomIn(!0),a.setState({zoomIn:{factor:be,translateX:i,translateY:l}})}},a.cancelZoomIn=function(){a.props.onImgZoomIn(!1),a.setState({zoomIn:null})},a.getTranslatePosition=function(e,t,n){var r=window.innerWidth/2-t,o=window.innerHeight/2-n;return{translateX:a.widthOverflow>0?Math.round(1.2*r*a.widthOverflow/e.clientWidth):0,translateY:a.heightOverflow>0?Math.round(1.2*o*a.heightOverflow/e.clientHeight):0}},a._renderBlurredImage=function(){return d.createElement(we,{mediaData:a.props.mediaData})},a._renderImage=function(e){var t=a.state.zoomIn,n=(0,C.default)(oe.default.mediaViewerImg,o({},oe.default.cursorZoomIn,!t));return d.createElement(R.default,{src:e,ref:(0,te.GetRef)("image",a),onClick:a.onImageClick,style:a.props.style,className:n})},r=n,l(a,r)}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.msg&&this.props.msg.forceDownloadMedia()}},{key:"render",value:function(){var e=this.props.mediaData;if(e.mediaStage!==D.default.STAGE.RESOLVED)return this._renderBlurredImage();var t={width:e.fullWidth,height:e.fullHeight},n=void 0;if(pe.default.supportsFeature(pe.default.F.REPLACE_MEDIABLOB)){var a=this.props.msg;if(a){var r=function(){return a.forceDownloadMedia()};n=d.createElement(fe.default,{mediaData:e,placeholderRenderer:this._renderBlurredImage,downloadMedia:r},this._renderImage)}else n=this._renderImage(e.renderableUrl)}else n=this._renderImage(e.renderableUrl);return this.state.zoomIn&&(n=d.createElement(z.default,{displayName:"ZoomInImage",ref:(0,te.GetRef)("image",this),escapable:!0,requestDismiss:this.cancelZoomIn},n)),d.createElement(W.default,{type:"zoomIn",size:t,position:"relative",zoomIn:this.state.zoomIn,onObjectLoad:this.props.onLoad},n)}}]),t}(d.PureComponent);ve.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","renderableUrl"]},ve.displayName="MediaImage";var ye=t.WrappedMediaImage=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"onImageClick",value:function(e){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).onImageClick(e)}},{key:"getTranslatePosition",value:function(e,n,a){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getTranslatePosition(e,n,a)}},{key:"heightOverflow",get:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).heightOverflow}},{key:"widthOverflow",get:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).widthOverflow}},{key:"image",get:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).image}}]),t}((0,Y.default)((0,te.hoc)(ve),ve.CONCERNS)),_e=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={played:!1,size:{width:0,height:0}},a.updateSize=function(){var e=a.props.mediaData;(e.mediaStage===D.default.STAGE.RESOLVED||e.streamable&&e.isStreamable())&&e.fullWidth&&e.fullHeight&&a.setState({size:a.getSize()})},a.stopPropagation=function(e){e.stopPropagation()},a.getSize=function(){var e=a.props.mediaData;if(e.isGif){return e.fullWidth>=330?{width:e.fullWidth,height:e.fullHeight}:{width:330,height:330*e.fullHeight/e.fullWidth}}return e.fullWidth>=ue.MIN_WIDTH?{width:e.fullWidth,height:e.fullHeight}:{width:ue.MIN_WIDTH,height:e.fullHeight}},r=n,l(a,r)}return s(t,e),c(t,[{key:"componentWillMount",value:function(){this.updateSize()}},{key:"componentWillReceiveProps",value:function(){this.updateSize()}},{key:"componentDidMount",value:function(){this.props.mediaData.isStreamable()||this.props.msg.forceDownloadMedia()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,a=n.isGif,r=n.mediaStage===D.default.STAGE.RESOLVED||n.streamable&&n.isStreamable();if(r=r||t.isForcingRMR()){var o=l10n.t("video_playback_not_supported"),i=void 0;return i=a?d.createElement("div",{className:oe.default.mediaViewerImg},d.createElement(Z.default,{ref:(0,te.GetRef)("player",this),src:n.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0},o)):d.createElement("div",{className:oe.default.mediaViewerImg,onClick:this.stopPropagation},d.createElement(le.default,{ref:(0,te.GetRef)("player",this),msg:t,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:function(){},autoPlay:!0,type:se.PLAYER_TYPE.MEDIA_VIEWER})),d.createElement(W.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad},i)}return d.createElement(we,{mediaData:n})}}]),t}(d.PureComponent);_e.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","preview","renderableUrl","streamable"]},_e.defaultProps={startTime:0},_e.displayName="MediaVideo";var Ee=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"player",get:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).player}}]),t}((0,Y.default)((0,te.hoc)(_e),_e.CONCERNS)),je=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.stopPropagation=function(e){e.stopPropagation()},r=n,l(a,r)}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props.mediaData,t=e.preview&&e.preview.url(),n=(0,$.aspectRatioScaled)(e.aspectRatio,500);return d.createElement("div",{className:oe.default.mediaViewerBlurCrop,style:n,onClick:this.stopPropagation},d.createElement("img",{className:oe.default.mediaViewerBlurImg,src:t}))}}]),t}(d.PureComponent);je.CONCERNS={mediaData:["preview","aspectRatio"]},je.displayName="BlurredImageClass";var we=(0,Y.default)((0,te.hoc)(je),je.CONCERNS),Oe=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props.mediaData;return e.mediaStage===D.default.STAGE.RESOLVED?d.createElement(g.default,{url:e.renderableUrl,className:oe.default.mediaViewerAudio,autoPlay:!0,controls:!0},l10n.t("audio_playback_not_supported")):d.createElement("div",{className:oe.default.imageAudio})}}]),t}(d.PureComponent);Oe.CONCERNS={mediaData:["mediaStage","renderableUrl"]},Oe.displayName="MediaAudioClass";var Ce=(0,Y.default)((0,te.hoc)(Oe),Oe.CONCERNS),Se=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onUnsupportedDownloadClick=function(e){e.stopPropagation(),y.default.openModal(d.createElement(U.default,{msg:(0,q.unproxy)(a.props.msg)}))},a.downloadMedia=function(e){e.stopPropagation(),a.props.msg.forceDownloadMedia()},a.stopPropagation=function(e){e.stopPropagation()},r=n,l(a,r)}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props.mediaData,t=null;if(this.props.mediaData.streamable&&this.props.mediaData.isStreamable())return null;switch(e.mediaStage){case D.default.STAGE.RESOLVED:case D.default.STAGE.ERROR_MISSING:return null;case D.default.STAGE.ERROR_UNSUPPORTED:return t=this.onUnsupportedDownloadClick,d.createElement(G.Download,{filesize:e.size,onClick:t});case D.default.STAGE.NEED_POKE:return t=this.downloadMedia,d.createElement(G.Download,{filesize:e.size,onClick:t});default:return t=this.stopPropagation,d.createElement("div",{onClick:t},d.createElement(G.Pending,null))}}}]),t}(d.PureComponent);Se.CONCERNS={mediaData:["mediaStage","size","streamable"]},Se.displayName="MediaStageClass";var Pe=t.MediaStage=(0,Y.default)((0,te.hoc)(Se),Se.CONCERNS)},dcfafchbae:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return R.default.uniq(y.default.map(function(e){var t=m.default.skinToneEmojis[e.id]||e.id;return m.default.getEmojiFromUnicode(t)}).filter(function(e){return e}))}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("biijfeijcb"),p=a(d),h=n("djegeegcbf"),m=a(h),b=n("dicggaeied"),g=a(b),v=n("bjfecgfdgj"),y=a(v),_=n("dhfbfehaef"),E=a(_),j=n("ecdffdifib"),w=a(j),O=n("djhfffbdac"),C=a(O),S=n("didfdhbecg"),P=a(S),M=n("bheebijggd"),T=a(M),k=n("bebecagjgj"),N=a(k),I=n("hbhijdici"),R=a(I),A=n("ceffhbhahb"),D=a(A),x=15,L=5,F=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a._fastScroll=!1,a._scrollFromAnimation=!1,a._scrollFromFocus=!1,a._lastScrollTop=a.props.displayCache.scrollTop,a._lastSectionId=a.props.displayCache.sectionId,a.state={scrolledToTop:0===a.props.displayCache.scrollTop,searchText:"",showSearchInput:a.props.displayCache.showSearchInput},a._handleEmojiFocus=function(e,t){a._scrollFromFocus=!0,a._scrollFromFocusHandlerTimeoutID&&clearTimeout(a._scrollFromFocusHandlerTimeoutID),a._scrollFromFocusHandlerTimeoutID=setTimeout(function(){a._scrollFromFocus=!1},200);var n=t.scrollTop,r=e.getBoundingClientRect().top-t.getBoundingClientRect().top+n,o=r-t.clientHeight+e.clientHeight+2,i=a.state.showSearchInput?r-d.TOTAL_SEARCH_HEIGHT:r-2;t.scrollTop=R.default.clamp(n,o,i)},a._handleListFocusAbove=function(){a._focusSearchAndScrollToTop()},a._handleListScroll=function(e){var t=e-a._lastScrollTop;if(a._lastScrollTop=e,!a._scrollFromFocus&&!a._scrollFromAnimation&&!a._checkScrollTop()){var n=Math.abs(t);a._fastScroll=n>x;var r=t>=0?1:-1,o=0===e;if(e<d.TOTAL_SEARCH_HEIGHT)return void a.setState({scrolledToTop:o,showSearchInput:!0});n<L||(a.state.showSearchInput?1===r&&a.setState({scrolledToTop:o,showSearchInput:!1}):-1===r&&a.setState({scrolledToTop:o,showSearchInput:!0}))}},a._handleListSection=function(e){a._scrollFromAnimation||(a._lastSectionId=e,a.props.onSection(e))},a._handleSearchResultsFocusAbove=function(){a._focusSearchAndScrollToTop()},a._handleSearchChange=function(e,t){a.setState({searchText:e})},a._handleSearchDownKey=function(){if(a.state.searchText){if(!a._refSearchResults)return;return void a._refSearchResults.focusFirstVisibleEmoji()}a._refScrollList&&a._refScrollList.focusFirstVisibleEmoji(d.TOTAL_SEARCH_HEIGHT)},a._handleSearchEnterKey=function(){a.state.searchText&&a._refSearchResults&&a._refSearchResults.selectFirstVisibleEmoji()},a._handleShiftTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),a._refSearchInput)return a._refSearchInput.hasFocus()?void a.props.onFocusPrev():a.focusSearchInput()},a._handleTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),a._refSearchInput)return a._refSearchInput.hasFocus()?void a.props.onFocusNext():a.focusSearchInput()},a._setRefSearchInput=function(e){a._refSearchInput=e},a._setRefScrollList=function(e){a._refScrollList=e},a._setRefSearchResults=function(e){a._refSearchResults=e},a._getSectionListDataMemoized=(0,w.default)(function(e){return e.sectionIds.map(function(e){return{sectionId:e,emojiIds:e===T.default.RECENT?s():m.default.getEmojiListInCategory(e)}})},function(e,t){return e.sectionIds===t.sectionIds||R.default.isEqual(e.sectionIds,t.sectionIds)}),a._getSearchResultsDataMemoized=(0,w.default)(function(e){var t=e.searchText;return[{sectionId:T.default.SEARCH_RESULT,emojiIds:(0,g.default)(R.default.trimEnd(t))}]}),r=n,i(a,r)}return l(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this._lastScrollTop,sectionId:this._lastSectionId,showSearchInput:this.state.showSearchInput})}},{key:"focusSearchInput",value:function(e){var t=this;if(!this._refSearchInput)return this._fastScroll=!0,void this.setState({showSearchInput:!0},function(){return t.focusSearchInput(!0)});this._refSearchInput.focus(e)}},{key:"scrollToSection",value:function(e){var t=this;return this._lastSectionId=e,new Promise(function(e){t._fastScroll=!0,t.setState({searchText:"",showSearchInput:!0},e)}).then(function(){t._scrollFromAnimation=!0;var n=t._refScrollList?t._refScrollList.scrollToSection(e,0-d.TOTAL_SEARCH_HEIGHT):Promise.resolve();return n.finally(function(){n===t._animationPromise&&(t._scrollFromAnimation=!1,t._checkScrollTop()||t.state.showSearchInput&&t.setState({scrolledToTop:0===t._lastScrollTop}))}),t._animationPromise=n,n})}},{key:"_checkScrollTop",value:function(){var e=0===this._lastScrollTop;return e&&this.setState({scrolledToTop:e,showSearchInput:!0}),e}},{key:"_focusSearchAndScrollToTop",value:function(){var e=this;this._scrollFromFocus=!0,this._scrollFromFocusHandlerTimeoutID&&clearTimeout(this._scrollFromFocusHandlerTimeoutID),this._scrollFromFocusHandlerTimeoutID=setTimeout(function(){e._scrollFromFocus=!1},200),this.focusSearchInput(),this._refScrollList&&this._refScrollList.scrollToTop()}},{key:"_stopEvent",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){return f.createElement(E.default,{handlers:{tab:this._handleTabKey,"shift+tab":this._handleShiftTabKey}},f.createElement("div",{className:N.default.bodyContainer},this._renderSearchInput(),this._renderSearchResults(),f.createElement("div",{className:(0,D.default)(N.default.list,r({},N.default.hidden,!!this.state.searchText))},f.createElement(p.default,{data:this._getSectionListData(),width:this.props.width,initialScrollTop:this.props.displayCache.scrollTop,searchInputVisible:this.state.showSearchInput,focusAbove:this._handleListFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,onScroll:this._handleListScroll,onSection:this._handleListSection,ref:this._setRefScrollList,showTitles:!0}))))}},{key:"_renderSearchInput",value:function(){var e=null;this.state.showSearchInput&&(e=f.createElement(C.default,{label:l10n.t("search_emoji"),onChange:this._handleSearchChange,onDownKey:this._handleSearchDownKey,onEnterKey:this._handleSearchEnterKey,ref:this._setRefSearchInput,shadow:!this.state.scrolledToTop,value:this.state.searchText||""}));var t=this._fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return f.createElement(P.default,{transitionName:t,className:N.default.search},e)}},{key:"_renderSearchResults",value:function(){return this.state.searchText?f.createElement("div",{className:N.default.list},f.createElement(p.default,{data:this._getSearchResultsData(),width:this.props.width,initialScrollTop:0,searchInputVisible:!0,focusAbove:this._handleSearchResultsFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,ref:this._setRefSearchResults,showTitles:!1})):null}},{key:"_getSectionListData",value:function(){return this._getSectionListDataMemoized({sectionIds:this.props.sectionIds})}},{key:"_getSearchResultsData",value:function(){return this._getSearchResultsDataMemoized({searchText:this.state.searchText})}}]),t}(f.PureComponent);F.displayName="EmojiPanelContent",t.default=F},dcfghhhajg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("ddhijeejag"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n("fffdgbfji"),l=a(i),s=n("bcdjifadgi"),u=a(s);t.default=function(e){var t=e.count,n=l.default.t("unread_message_count",{count:l.default.n(t),_plural:t});return o.createElement("div",{className:u.default.msgUnread},o.createElement("span",{className:u.default.msgUnreadBody},n))}},dcfijghjic:function(e,t){e.exports={muted:"_1n0Pe",thumbsContainer:"_2AP3i",scrollContainer:"_26oAS",viewerThumbs:"VIAHn",mediaThumb:"_3l9d7",thumbPadding:"V5PdJ"}},dcggjjdeaj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){for(var a=[],r=0,o=0;r<e.length||o<t.length;)n(e[r],t[o])?a.push(e[r++]):a.push(t[o++]);return r<e.length?a.concat(e.slice(r)):o<t.length?a.concat(t.slice(o)):a}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=n("gbfffciea"),d=a(f),p=n("ddhijeejag"),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n("bgddggdhc"),b=n("bcifhbgija"),g=a(b),v=n("bebjeaagc"),y=a(v),_=n("bcddhhfhda"),E=a(_),j=n("bfifafibjc"),w=a(j),O={duration:300,easing:[.1,.82,.25,1]},C=function(e,t){return e.map(function(e,n){return[t[n]===e,n]}).filter(function(e){return!c(e,1)[0]}).map(function(e){return c(e,2)[1]})},S=function(e,t){return C(e,t).filter(function(n){return e[n]&&!t[n]})},P=function(e,t,n){var a=C(e,t).filter(function(n){return!e[n]&&t[n]}),r=n.filter(function(e){return!!t[e]});return r.length?s(a,r,function(e,t){return e<t}):a},M=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.containerHeight=0,a.childAnimations=[],a.didCancel=!1,a.unmounting=!1,a.state={children:a.props.children||[]},a.pendingRemoval=[],a.refChildren=new Map,a.setRefChild=function(e,t){t?a.refChildren.set(e,t):a.refChildren.delete(e)},a.setChildRefCache=new E.default(a.setRefChild),a._heightCallbackCache=new Map,r=n,i(a,r)}return l(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"getHeightChange",value:function(e,t){var n=this;return e.reduce(function(e,a){if(a<t)return e;var r=n.refChildren.get(""+a);return r?e+(0,m.forbiddenAssertDOMNode)(r).clientHeight:e},0)}},{key:"animateElement",value:function(e,t,n,a){var r=this;this.childAnimations[e]&&(this.didCancel=!0,this.childAnimations[e].cancel());var o=n>0?[0,n]:[-n,0];return this.childAnimations[e]=(this.childAnimations[e]||Promise.resolve()).then(function(){return(0,g.default)(t,{translateY:o},O)}).delay(100).cancellable().then(function(){return n<0&&(-1===a.indexOf(e)?t.style.transform="":t.style.opacity="0"),e}).catch(Promise.CancellationError,function(){return(0,g.default)(t,"stop",!0),t.style.transform="",!1}).finally(function(t){if(!r.didCancel)return delete r.childAnimations[e],d.default.setUiBusy(!1,"animation_group"),t;r.didCancel=!1}),this.childAnimations[e]}},{key:"transitionAffected",value:function(e,t){if(!e)return Promise.resolve();for(var n=[],a=e.slice(-1),r=c(a,1),o=r[0],i=0;i<=o;++i){var l=this.refChildren.get(""+i);l&&n.push(this.animateElement(i,(0,m.forbiddenAssertDOMNode)(l),(t?1:-1)*this.getHeightChange(e,i),e))}return Promise.all(n).then(function(e){return e.filter(function(e){return!1!==e})})}},{key:"notifyHeightChange",value:function(e,t){e.length&&this.props.onHeightChange&&this.props.onHeightChange((t?1:-1)*this.getHeightChange(e,0))}},{key:"componentWillReceiveProps",value:function(e){var t,n=this,a=e.children,o=void 0===a?[]:a,i=S(this.state.children,o);this.added=P(this.state.children,o,this.pendingRemoval);for(var l=0;l<this.added.length;++l)this.busyId=y.default.setBusy(this.busyId),d.default.setUiBusy(!0,"animation_group");if(!i.length)return this.setState({children:o});var s=i.filter(function(e){return-1===n.pendingRemoval.indexOf(e)});if(s.length){for(var u=0;u<s.length;++u)this.busyId=y.default.setBusy(this.busyId),d.default.setUiBusy(!0,"animation_group");(t=this.pendingRemoval).push.apply(t,r(s)),this.notifyHeightChange(s,!1),this.transitionAffected(s,!1).then(function(e){n.unmounting||(n.pendingRemoval=n.pendingRemoval.filter(function(e){return-1===s.indexOf(e)}),e.length>0&&n.setState({children:o},function(){y.default.decBusy(n.busyId)}))})}}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.children;this.added.length&&(this.notifyHeightChange(this.added,!0),this.transitionAffected(this.added,!0).then(function(){y.default.decBusy(n.busyId)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.state.children.reduce(function(t,n,a){var r=e.refChildren.get(""+a);if(!r)return t;var o=(0,m.forbiddenAssertDOMNode)(r);return o.style.transform="translateY(0)",t+o.clientHeight},0);this.props.onHeightChange(t,!0)}},{key:"childHeightCallback",value:function(e){var t=this,n=this._heightCallbackCache.get(e);if(n)return n;var a=this.refChildren.get(""+e),r=a?(0,m.forbiddenAssertDOMNode)(a).clientHeight:0,o=function(e){var n=e.height;if(!r||!n)return void(r=n);t.props.onHeightChange(n-r),r=n};return this._heightCallbackCache.set(e,o),o}},{key:"cloneChild",value:function(e,t){var n=this;if(!e)return e;var a=e.ref?function(a){n.setChildRefCache.getRefSetter(""+t)(a),e&&e.ref&&e.ref(a)}:this.setChildRefCache.getRefSetter(""+t);return h.cloneElement(e,{ref:a})}},{key:"render",value:function(){var e=this;return this.state.children.map(function(t,n){return h.createElement(w.default,{key:"."+n,onResize:e.childHeightCallback(n)},e.cloneChild(t,n))})}}]),t}(h.Component);M.displayName="AnimationGroup",e.exports=M},dcicgjefd:function(e,t){e.exports={muted:"_3CBgP",container:"_1c8mz"}},dcifjbigdg:function(e,t){e.exports={muted:"_3wdw2",spacer:"bypk9",spacerStar:"_1-w8s",spacerBroadcast:"_2PHuc",spacerLabels:"_16lJc"}},dciidighgh:function(e,t){e.exports={muted:"Zy9M0",container:"_32fST",control:"saez2",label:"_3_4Uv",buttons:"_2KA93",button:"_3v4Q3"}},dcjaajabae:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("fffdgbfji"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=n("ejbdjaifi"),y=n("eadfaddcj"),_=a(y),E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=void 0;switch(this.props.msg.type){case _.default.MSG_TYPE.VIDEO:this.props.msg.isGif||(e=m.default.t("need_poke_video_text"))}return u.createElement(p.default,{onOK:function(){f.default.closeModal()},okText:m.default.t("web_ok")},e)}}]),t}(u.PureComponent);E.CONCERNS={msg:["type","isGif"]},E.displayName="MediaNeedPokeModal",t.default=(0,g.default)((0,v.hoc)(E),E.CONCERNS)},dcjaicbbhg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ebjaejiaba"),f=n("bhhdeihhhf"),d=a(f),p=n("ihfccfgdf"),h=a(p),m=n("ejbdjaifi"),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=void 0;switch(this.props.chat.kind){case c.CHAT_KIND.GROUP:e=this.props.chat.isReadOnly?l10n.t("web_delete_group"):l10n.t("web_exit_group");break;case c.CHAT_KIND.BROADCAST:e=l10n.t("web_delete_list");break;case c.CHAT_KIND.CHAT:e=l10n.t("delete_chat")}return u.createElement(d.default,{a8n:"mi-delete",action:this.props.onDeleteOrExit,disabled:this.props.disabled},e)}}]),t}(u.PureComponent);b.CONCERNS={chat:["isReadOnly","kind"]},b.displayName="DeleteMenuItem",t.default=(0,h.default)((0,m.hoc)(b),b.CONCERNS)},dcjcghaij:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("debediheaf"),d=a(f),p=n("fffdgbfji"),h=a(p),m=n("cjijggjfed"),b=a(m),g=n("igbbahaj"),v=a(g),y=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleClick=function(e){a.props.onClick(a.props.sectionId,e)},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t=(e={},r(e,v.default.FAVORITES,h.default.t("gif_tab_favorites")),r(e,v.default.TRENDING,h.default.t("gif_tab_trending")),r(e,v.default.HAHA,h.default.t("gif_tab_haha")),r(e,v.default.SAD,h.default.t("gif_tab_sad")),r(e,v.default.LOVE,h.default.t("gif_tab_love")),r(e,v.default.REACTIONS,h.default.t("gif_tab_reactions")),r(e,v.default.SPORTS,h.default.t("gif_tab_sports")),r(e,v.default.TV,h.default.t("gif_tab_tv")),e),n=this.props.sectionId,a=t[n];return c.createElement(b.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,title:a,theme:m.THEMES.MENU},c.createElement(d.default,{sectionId:n,sectionTitle:a}))}}]),t}(c.PureComponent);y.displayName="GifSectionTab",t.default=y},dcjhajfghf:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return t.reduce(function(t,n){var a=l.default.find(e,function(e){return e.type===n});return a&&t.push(a),t},[])}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("hbhijdici"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=/\r\n/g,u=function(){function e(t){var n=this;a(this,e),this.hasText=function(){return n.hasType("text/plain")},this.hasType=function(e){return-1!==n.types.indexOf(e)},this.data=t,this.types=t.types?Array.prototype.slice.call(t.types):[]}return o(e,[{key:"getItems",value:function(){var e=this;if(this.data.items)return Array.prototype.slice.call(this.data.items);var t=this._getFileTypes();return this.types.map(function(n){return{type:n,data:e.data.getData(n),kind:t.indexOf(n)>=0?"string":"file"}})}},{key:"_getFileTypes",value:function(){return Array.prototype.slice.call(this.data.files).map(function(e){return e.type})}},{key:"getText",value:function(e){return this._getText(e).then(function(e){return e?e.replace(s,"\n"):null})}},{key:"_getText",value:function(e){var t=e||[];0===t.length&&t.push("text/plain");var n=this.data;if(n.getData){var a=void 0;return t.some(function(e){if(n.getData(e))return a=n.getData(e),!0}),Promise.resolve(a)}var o=r(this.data.items,t);return o.length?Promise.all(o.map(function(e){return new Promise(function(t){return e.getAsString(t)})})).then(function(e){return e.find(function(e){return e.length})}):Promise.resolve()}},{key:"getFiles",value:function(){return this.data.items?Array.prototype.slice.call(this.data.items).filter(function(e){return"file"===e.kind}).map(function(e){return e.getAsFile()}).filter(function(e){return!!e}):Array.prototype.slice.call(this.data.files||[])}},{key:"getData",value:function(e){return this.data.getData(e)}},{key:"hasFiles",value:function(){return this.data.items?Array.prototype.slice.call(this.data.items).some(function(e){return"file"===e.kind}):!!Array.prototype.slice.call(this.data.files||[]).length}}]),e}();e.exports=u},ddadaeidcc:function(e,t){e.exports={muted:"_2RNXR",icon:"_13zxx"}},ddafjfecha:function(e,t){e.exports={muted:"_1BTvE",recording:"_1pmIt",btnBorder:"_15EcM",isHover:"_4kcXP",btnStateDefault:"_1V2op",btnStateHover:"Qvj1g",pttCounter:"_2NdXo","ptt-indicator":"_20RFk",pttIndicator:"_20RFk",btnBorderIcon:"_3IFEL",btnPtt:"hjJpn",container:"cEdds",active:"dgjLl"}},ddbdcagdbi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hdccjfbbg"),d=a(f),p=n("dhigahgdjb"),h=a(p),m=n("cicgeajfge"),b=n("dgjddffcfg"),g=a(b),v=n("eceadcicaf"),y=a(v),_=n("ejbdjaifi"),E=n("dfjibhjhde"),j=a(E),w=n("cbgeijgefb"),O=a(w),C=n("dcaibchbg"),S=a(C),P=n("bbhhbdicgc"),M=n("fbjjefaic"),T=a(M),k=n("hjbbdjjdf"),N={HEADER:"HEADER",ROW:"ROW"},I=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.selection=new S.default([],function(e){return e.id}),a.state={searchFilter:void 0},a.onSelect=function(e,t){if(t.type===N.ROW){var n=t.contact;!0===a.props.filter(n)&&a.props.onSelect&&a.props.onSelect(n)}},a.onSearch=a.props.debounce(function(e){a.setState({searchFilter:e})},100),a.renderItem=function(e){var t=a.props,n=t.filter,r=t.onSelect,o=t.onContext,i=t.contextEnabled,s=t.contextMenu,u=t.openContextOnClick,f=t.showNotifyName,p=t.participantCollection,h=t.listenForAdminChange;switch(e.type){case N.HEADER:return c.createElement(O.default,{header:e.header});case N.ROW:var m=(0,k.isString)(n(e.contact)),b=m?"group-modal":null,g=m?n(e.contact):null,v=o&&s?{contextEnabled:i,contextMenu:s(e.contact.id),onContext:o}:{};return c.createElement(d.default,l({contact:e.contact,active:a.selection,theme:b,secondary:g,onClick:u&&o?o:m?void 0:r?function(){r(e.contact)}:function(){},waitIdle:!0,showNotifyName:f,listenForAdminChange:h,participantCollection:p},v));default:throw new P.UnknownDataError(e)}},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.contacts||this.props.listeners.add(h.default,"add remove change:name")}},{key:"getData",value:function(){var e=this.props.filter,t=l10n.accentFold(this.state.searchFilter),n=g.default.numberSearch(t),a=this.props.contacts||h.default,r=a.filter(function(a){return e(a)&&(!t||t&&a.searchMatch(t,n))});this.selection.init(r.filter(function(t){return!0===e(t)}));var o=[];if(!r.length)return o;for(var i=void 0,l=void 0,s=r.length>10,u=0;u<r.length;u++)i=r[u],s&&i.header!==l&&o.push({type:N.HEADER,header:i.header,key:(i.header||"")+"_"+u}),o.push({type:N.ROW,contact:i,key:i.id.toString()+"_"+u}),l=i.header;return o}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.onCancel;return c.createElement(j.default,{title:t,data:this.getData(),renderItem:this.renderItem,emptyState:c.createElement(m.SearchContacts,null),selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t("search_contacts"),onSelect:this.onSelect,onCancel:n})}}]),t}(c.Component);I.defaultProps={filter:function(e){return h.default.isFilteredContact(e)}},I.displayName="ContactsModal",t.default=(0,y.default)((0,T.default)((0,_.hocWithDefaults)(I)))},ddbddjjgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MsgPosition={FRONT:"FRONT",MID:"MID",END:"END",SINGLE:"SINGLE"}},ddcbhjdfdg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("effbcehec"),p=a(d),h=n("bdiiahhjbe"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("cajijabhgb"),y=r(v),_=n("ffchhcfdj"),E=a(_),j=n("dcecgegjfc"),w=r(j),O=n("bhbihjaicd"),C=a(O),S=n("dgdjiicfdg"),P=a(S),M=n("ebggjhghhi"),T=r(M),k=n("beeieigghj"),N=a(k),I=n("ceffhbhahb"),R=a(I),A=n("fbjjefaic"),D=a(A),x=n("ejbdjaifi"),L=n("eceadcicaf"),F=a(L),U=n("bjbedjfe"),B=a(U),G=n("bfdcadbbif"),V=a(G),W=n("ddafjfecha"),H=a(W),Y=n("ddgbhifaji"),q=n("caffijjhc"),K=a(q),z=n("didfdhbecg"),Q=a(z),X=n("icbibjcg"),J=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cancelRecording=function(){"ready"!==n.state.state&&(n.recorder&&n.recorder.stop(),n.clearInterval(),(0,X.markPaused)(n.props.chat),n.setState({state:"ready",active:void 0,elapsed:0}),n.props.onRecState(!1))},n._incElapsed=function(){n.setState({elapsed:n.state.elapsed+1})},n.onPTTReady=function(){n.cancelPTTTimer(),"delay"===n.state.state&&n.setState({state:"recording"})},n.onMouseOverSend=function(){n.setState({active:"send"})},n.onMouseOutSend=function(){n.setState({active:void 0})},n.onMouseOverCancel=function(){n.setState({active:"cancel"})},n.onMouseOutCancel=function(){n.setState({active:void 0})},n.onMouseUpCancel=function(){n.state.elapsed<1||(n.cancelPTTTimer(),n.cancelRecording())},n.onMouseUpSend=function(){if(!(n.state.elapsed<1)){if(n.cancelPTTTimer(),"recording"!==n.state.state)return void n.cancelRecording();var e=n.props.chat;n.setState({state:"processing"}),n.props.onRecState(!1);var t=e.regCancellablePromise(T.waitForEvent(n.recorder,"dataAvailable").then(function(e){return N.default.createFromData(e.detail,e.detail.type)}));(0,Y.prepRawMedia)(t,{isPtt:!0,precomputedDuration:~~n.recorder.duration}).sendToChat(e,{quotedMsg:e.composeQuotedMsg||void 0,addEvenWhilePreparing:!0}),e.composeQuotedMsg=null,t.catch(Promise.CancellationError,function(){}).finally(function(){n.cancelRecording()}),n.recorder.stop()}},n.onMouseDown=function(){if("ready"===n.state.state){var e=w.start("microphone");Promise.race([e,n.props.rejectOnUnmount()]).checkpoint(n.props.rejectOnUnmount()).then(function(e){g.default.pttRecording(),n.recorder=new C.default({bitRate:16e3,encoderSampleRate:16e3,encoderApplication:2048}),n.recorder.initStream(e),n.recorder.start(),n.props.chat.presence.update().catch(y.WapDrop,function(){}),(0,X.markRecording)(n.props.chat),n.setState({state:"delay"}),n.props.onRecState(!0),n.pttTimer=n.props.setTimeout(n.onPTTReady,1500),n.startInterval()}).catch(y.Unmount,function(){e.then(function(e){return w.stop(e)}).catch(function(){})}).catch(y.GUM.NotAllowedError,function(){g.default.openModal(f.createElement(E.default,{title:"guide_desktop_mic_title",desc:"guide_desktop_mic_fail_description",type:E.default.TYPE.GUIDE_UNBLOCK}))}).catch(y.GUM.GUMError,function(){g.default.openModal(f.createElement(E.default,{title:"guide_desktop_mic_missing_title",desc:"guide_desktop_mic_missing_description",type:E.default.TYPE.GUIDE_NONE}))}).catch(function(e){n.recorder&&n.recorder.stop(),m.default.error("PTT Recording Error")(e)})}},n.state={state:"ready",active:null,elapsed:0},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(window,"blur",this.cancelRecording)}},{key:"componentWillUnmount",value:function(){}},{key:"startInterval",value:function(){this.clearInterval(),this.elapsedInterval=this.props.setInterval(this._incElapsed,1e3)}},{key:"clearInterval",value:function(){this.elapsedInterval&&(this.props.clearInterval(this.elapsedInterval),this.elapsedInterval=null),this.setState({elapsed:0})}},{key:"cancelPTTTimer",value:function(){this.pttTimer&&(this.props.clearTimeout(this.pttTimer),this.pttTimer=null)}},{key:"render",value:function(){var e=this.state.state,t=(0,R.default)(H.default.btnBorder,o({},H.default.isHover,"cancel"===this.state.active)),n=(0,R.default)(H.default.btnBorder,o({},H.default.isHover,"send"===this.state.active)),a="delay"===e||"recording"===e?f.createElement(K.default,{displayName:"PTT",popable:!0,escapable:!0,requestDismiss:this.cancelRecording},f.createElement("div",{className:H.default.recording,key:"recording"},f.createElement("button",{"data-a8n":p.default.key("ptt-cancel-btn"),className:t,onMouseOver:this.onMouseOverCancel,onMouseOut:this.onMouseOutCancel,onMouseUp:this.onMouseUpCancel,"data-animate-btn-border":!0},f.createElement("div",{className:(0,R.default)(H.default.btnBorderIcon,H.default.btnStateDefault)},f.createElement(V.default,{name:"round-x"})),f.createElement("div",{className:(0,R.default)(H.default.btnBorderIcon,H.default.btnStateHover)},f.createElement(V.default,{name:"round-x-inv"}))),f.createElement("div",{className:H.default.pttCounter,"data-animate-ptt-counter":!0},P.default.unix(this.state.elapsed).format("m:ss")),f.createElement("button",{"data-a8n":p.default.key("ptt-send-btn"),className:n,onMouseOver:this.onMouseOverSend,onMouseOut:this.onMouseOutSend,onMouseUp:this.onMouseUpSend,"data-animate-btn-border":!0},f.createElement("div",{className:(0,R.default)(H.default.btnBorderIcon,H.default.btnStateDefault)},f.createElement(V.default,{name:"round-send"})),f.createElement("div",{className:(0,R.default)(H.default.btnBorderIcon,H.default.btnStateHover)},f.createElement(V.default,{name:"round-send-inv"}))))):null,r="ready"===e||"processing"===e?f.createElement("button",{"data-a8n":p.default.key("ptt-ready-btn"),className:H.default.btnPtt,onMouseDown:this.onMouseDown,disabled:"processing"===e,key:"button"},f.createElement(V.default,{name:"ptt"})):null,i=(0,R.default)(H.default.container,o({},H.default.active,!!a));return f.createElement("div",{className:i},f.createElement(Q.default,{transitionName:"ptt"},a||r))}}]),t}(f.PureComponent);J.displayName="PTT",t.default=(0,B.default)((0,D.default)((0,F.default)((0,x.hoc)(J))))},ddcchcchag:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("cajijabhgb"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n("ecjehifjdd"),l=a(i),s=n("dhgjbgdbhg"),u=n("cahfddcdga"),c=a(u),f=n("dcbbccfgab"),d={encrypt:function(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:encrypt");var t=f.get(),n=(0,s.encryptAndMac)((0,c.default)(t.encKey),(0,c.default)(t.macKey),e);return this._encryptQueue.enqueue(n)},decrypt:function(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:decrypt");var t=f.get(),n=(0,s.macAndDecrypt)((0,c.default)(t.encKey),(0,c.default)(t.macKey),e);return this._decryptQueue.enqueue(n)},dropAllBecauseLogout:function(){var e=new o.LogoutDrop("cancelled binary protocol call");this._encryptQueue.cancelAll(e),this._decryptQueue.cancelAll(e)},_encryptQueue:new l.default,_decryptQueue:new l.default};e.exports=d},ddchcbhaia:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=[];return n.push(h.createElement(u.default,{key:"info",a8n:"mi-group-info",action:function(){return l.default.chatInfoDrawer(e)}},l10n.t("web_group_info"))),n.push(h.createElement(u.default,{a8n:"mi-select-messages",key:"select",action:t},l10n.t("web_select_messages"))),e.mute.canMute()&&n.push(h.createElement(f.default,{key:"mute",onMute:function(t){return l.default.muteChat(e,t)},mute:e.mute})),n.push(h.createElement(u.default,{key:"clear",a8n:"mi-clear",action:function(){return l.default.clearChatMsgs(e)}},l10n.t("clear_chat"))),n.push(h.createElement(p.default,{key:"delete",onDeleteOrExit:function(){return l.default.deleteOrExitChat(e)},chat:e})),n}function o(e,t){var n=[];return n.push(h.createElement(u.default,{key:"info",a8n:"mi-broadcast-info",action:function(){return l.default.chatInfoDrawer(e)}},l10n.t("web_list_info"))),n.push(h.createElement(u.default,{a8n:"mi-select-messages",key:"select",action:t},l10n.t("web_select_messages"))),n.push(h.createElement(u.default,{key:"clear",a8n:"mi-clear",action:function(){return l.default.clearChatMsgs(e)}},l10n.t("clear_chat"))),n.push(h.createElement(p.default,{key:"delete",onDeleteOrExit:function(){return l.default.deleteOrExitChat(e)},chat:e})),n}var i=n("gbfffciea"),l=a(i),s=n("bhhdeihhhf"),u=a(s),c=n("dhhcghbjeb"),f=a(c),d=n("dcjaicbbhg"),p=a(d),h=n("ddhijeejag");e.exports={group:r,broadcast:o}},ddchejfidi:function(e,t){e.exports={muted:"_3p3lc",item:"_3cfBY",text:"_3BqnP",hover:"_3VXiW",action:"Sl-9e",compact:"_3_4Kp",icon:"_3mQ-P",emoji:"_1sHYl",ellipsify:"_3zy-4",disabled:"_3rvh2",shortcut:"_2yhpw"}},dddjddjahc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_RADIUS_FULLSCREEN=t.THUMB_RADIUS_WINDOW=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("bcjcbbafcj"),h=a(p),m=n("bjebjijbfc"),b=a(m),g=n("ceffhbhahb"),v=a(g),y=n("bfdcadbbif"),_=a(y),E=n("cdhichafeb"),j=a(E),w=t.THUMB_RADIUS_WINDOW=parseFloat(j.default["-thumb-radius-window"].replace(/px$/,"")),O=t.THUMB_RADIUS_FULLSCREEN=parseFloat(j.default["-thumb-radius-fullscreen"].replace(/px$/,"")),C=.25,S=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePause=function(){n.props.onPause()},n.handlePlay=function(){n.props.onPlay()},n.isVideoPlayingBeforeDrag=null,n.isDraggingProgress=!1,n.handleProgressChange=function(e){var t=parseFloat(e.target.value);n.props.onProgressChange(t);var a=Math.abs(n.state.bufferedTime-n.props.duration)<.1?n.state.bufferedTime:0;n.setState({progress:t,bufferedTime:a})},n.handleProgressMouseUp=function(e){n.isDraggingProgress=!1,null!=n.isVideoPlayingBeforeDrag&&(n.isVideoPlayingBeforeDrag&&n.handlePlay(),n.isVideoPlayingBeforeDrag=null)},n.handleProgressMouseDown=function(e){n.isDraggingProgress=!0,n.isVideoPlayingBeforeDrag=n.props.isVideoPlaying,n.isVideoPlayingBeforeDrag&&n.handlePause()},n.handleVolumeValueChange=function(e){var t=parseFloat(e.target.value);n.props.onVolumeValueChange(t),n.setState({volume:t})},n.handleMute=function(){n.props.onMutedValueChange(!0),n.setState({muted:!0})},n.handleUnmute=function(){n.props.onMutedValueChange(!1),n.setState({muted:!1})},n.stopEventPropagation=function(e){e.stopPropagation()},n.renderTooltip=function(){var e=n.state.mouseOverProgressRatio;if(void 0===e)return c.createElement("div",{className:j.default.tooltipWrapper});var t=b.default.durationStr(e*n.props.duration),a=100*e+"%";return c.createElement("div",{className:j.default.tooltipWrapper,style:{left:a}},c.createElement("div",{className:(0,v.default)(j.default.tooltipTextBoxGeneral,j.default.tooltipTextBoxPosAndSize)},t),c.createElement("div",{className:(0,v.default)(j.default.tooltipTailGeneral,j.default.tooltipTailPosAndSize)}))},n.renderVolume=function(){var e,t=void 0;t=n.state.muted||0===n.state.volume?c.createElement(_.default,{name:"video-volume-muted",display:"inline",onClick:function(e){n.handleUnmute(),0===n.props.volume&&n.props.onVolumeValueChange(C)}}):n.state.volume<.5?c.createElement(_.default,{name:"video-volume-1",display:"inline",onClick:n.handleMute}):n.state.volume>=.5&&n.state.volume<1?c.createElement(_.default,{name:"video-volume-2",display:"inline",onClick:n.handleMute}):c.createElement(_.default,{name:"video-volume",display:"inline",onClick:n.handleMute});var a={width:100*n.state.volume+"%"},o=n.state.isMouseOverVolumeControl&&!n.state.muted,i=o?c.createElement("div",{className:j.default.volumeBarContainer},c.createElement("div",{className:(0,v.default)(j.default.volumeLowerTrack,(e={},r(e,j.default.lowerTrackLongest,1===n.state.volume),r(e,j.default.firefoxFix,h.default.isGecko),e)),style:a}),c.createElement("input",{className:j.default.volumeBar,onChange:n.handleVolumeValueChange,type:"range",min:"0",max:1,step:"any",value:n.state.volume})):c.createElement("div",{className:j.default.volumeBarContainer});return c.createElement("div",{className:(0,v.default)(j.default.volumeContainer,r({},j.default.volumePadding,o)),onClick:n.stopEventPropagation,onMouseEnter:function(e){n.setState({isMouseOverVolumeControl:!0})},onMouseLeave:function(e){n.setState({isMouseOverVolumeControl:!1}),0!==n.props.volume||n.state.muted||n.handleMute()},onMouseDown:n.stopEventPropagation},t,i)},n.renderProgress=function(){var e=n.state.progress/n.props.duration;e>1&&(e=1);var t=100*e+"%",a={width:t},o=n.state.bufferedTime/n.props.duration;o>1&&(o=1);var i=100*o+"%",l={width:i},s={left:t};return c.createElement("div",{className:(0,v.default)(j.default.progressBarContainer),onClick:n.stopEventPropagation,onMouseDown:n.stopEventPropagation,onMouseEnter:function(e){n.setState({isMouseOverProgressBar:!0})},onMouseLeave:function(e){n.setState({isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0})},onMouseMove:function(e){var t=n.props.isFullscreenMode?O:w,a=e.currentTarget.getBoundingClientRect().left,r=e.pageX,o=e.currentTarget.offsetWidth,i=r-a-t,l=o-2*t,s=(r-a-t)/l,u=l*(n.state.progress/n.props.duration),c=Math.abs(i-u)<=t;s<0?s=c?0:void 0:s>1&&(s=c?1:void 0),n.setState({mouseOverProgressRatio:s})}},c.createElement("input",{className:j.default.hiddenProgressBar,onChange:n.handleProgressChange,onMouseDown:n.handleProgressMouseDown,onMouseUp:n.handleProgressMouseUp,type:"range",min:"0",max:d.default.floor(n.props.duration,2),step:"any",value:n.state.progress}),c.createElement("div",{className:j.default.displayedProgressBar},c.createElement("div",{className:j.default.displayedTrack}),c.createElement("div",{className:(0,v.default)(j.default.displayedBuffer,r({},j.default.lowerTrackLongest,1===o)),style:l}),c.createElement("div",{className:(0,v.default)(j.default.displayedProgress,r({},j.default.lowerTrackLongest,1===e)),style:a}),c.createElement("div",{className:(0,v.default)(j.default.thumb,r({},j.default.hideThumb,!n.state.isMouseOverProgressBar)),style:s}),n.renderTooltip()))},n.state={progress:n.props.progress,volume:n.props.volume,muted:n.props.muted,bufferedTime:n.props.bufferedTime,isMouseOverVolumeControl:!1,isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0},n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.progress===this.state.progress||this.isDraggingProgress||this.setState({progress:e.progress}),e.volume!==this.state.volume&&this.setState({volume:e.volume}),e.muted!==this.state.muted&&this.setState({muted:e.muted}),e.bufferedTime!==this.state.bufferedTime&&this.setState({bufferedTime:e.bufferedTime})}},{key:"componentDidMount",value:function(){0!==this.props.volume||this.props.muted||this.handleMute()}},{key:"componentWillMount",value:function(){this.setState({progress:this.props.progress,volume:this.props.volume,muted:this.props.muted})}},{key:"render",value:function(){var e=this.props.isFullscreenMode,t=e?c.createElement("div",{className:(0,v.default)(j.default.timeText,j.default.currentTime),onClick:this.stopEventPropagation},b.default.durationStr(this.state.progress)):null,n=e?c.createElement("div",{className:(0,v.default)(j.default.timeText,j.default.duration),onClick:this.stopEventPropagation},b.default.durationStr(this.props.duration)):null,a=this.props.className?this.props.className:j.default.controls;return c.createElement("div",{className:(0,v.default)(a,r({},j.default.fullscreen,e))},c.createElement("div",{className:j.default.playpauseBtnContainer,onClick:this.stopEventPropagation,onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation},c.createElement(_.default,{name:this.props.isVideoPlaying?"video-pause":"video-play",display:"inline",onClick:this.props.isVideoPlaying?this.handlePause:this.handlePlay})),this.renderProgress(),this.renderVolume(),t,n)}}]),t}(c.PureComponent);S.displayName="VideoControls",t.default=S},dddjjdbfga:function(e,t,n){"use strict";var a={labelsDisplay:n("bjhbahjgdi"),groupsV3:n("bjjegiiahd"),groupsV3Create:n("cdhdchfidf"),changeNumberV2:n("cjaiehadfe"),queryStatusV3Thumbnail:n("djhbejhbda"),queryVname:n("dgfcjhijbf"),voipIndividualIncoming:n("jijhjeei"),quickRepliesQuery:n("cdjfcjheca"),payments:n("cjijcbcfhd"),stickerPackQuery:n("ecidgeifdi"),labelsEdit:n("cgbbacefei"),mediaUpload:n("bcbeebghff"),videoPlaybackUrl:n("dhjaadicdd"),statusRanking:n("jciegiifi"),recentStickers:n("cdffadcgjg"),starredStickers:n("bafbadjdec"),groupsV4JoinPermission:n("bbgehjjjbb")};e.exports=a},ddeihcgfbg:function(e,t,n){"use strict";function a(e,t){return e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.matches(t)}function r(e,t){for(var n=0;n<t.length;++n){var r=t[n].serializers;if(r)for(var o=0;o<r.length;++o){var l=i(r[o],2),s=l[0],u=l[1];if(a(e,s))return u}}return null}function o(e,t){for(var n=[],a=e.cloneNode(!0),o=a.firstChild;o;){switch(o.nodeType){case 1:var i=r(o,t);if(i){n.push(i(o));break}switch(o.tagName){case"P":case"BR":case"PRE":n.push("\n");break;case"DIV":o.firstChild&&3!==o.firstChild.nodeType||n.push("\n")}break;case 3:n.push(o.nodeValue)}if(o.hasChildNodes())o=o.firstChild;else{for(;o&&!o.nextSibling;)if((o=o.parentNode)===e){o=null;break}o&&(o=o.nextSibling)}}return n.join("")}var i=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=o},ddfbaajaeh:function(e,t){e.exports={muted:"_1kJ6B",checkboxChatWrapper:"_3WtUH",checkboxChatControl:"p9kzm",labelSelection:"_1Ao9U"}},ddffjbhaib:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("cahfddcdga"),f=a(c),d=n("dbjacfjdhg"),p=a(d),h=n("dbifaacaac"),m=a(h),b=n("ffebdchi"),g=a(b),v=n("gbfffciea"),y=a(v),_=n("dhigahgdjb"),E=a(_),j=n("cebdifcdab"),w=a(j),O=n("ccaaiecfib"),C=a(O),S=n("dccdiajhdf"),P=a(S),M=n("bifbiahgch"),T=a(M),k=n("ebacbhahej"),N=n("eceadcicaf"),I=a(N),R=n("eiiicijcj"),A=a(R),D=n("ebibecaibi"),x=a(D),L=n("biecbbiiee"),F=a(L),U=n("ebbfdafeec"),B=a(U),G=n("bfejacaeaj"),V=a(G),W=n("jjgaeci"),H=a(W),Y=n("dcjdgceiej"),q=a(Y),K=n("begehhgeec"),z=a(K),Q=n("ebjaejiaba"),X=n("ejbdjaifi"),J=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onAttachProduct=function(e){var t=e.chat,n=e.file,r=e.fileOrigin,o=e.product,i=e.catalogWid;if(C.default.supportsFeature(C.default.F.CATALOG)){var l=(0,f.default)(new p.default);n&&l.processFiles([n],t,r),y.default.openModal(u.createElement(H.default,{mediaCollection:l,product:o,catalogWid:i,chat:t,fileOrigin:r}),{transition:"modal-flow",uim:a.context.uim})}},a.onProductImageViewer=function(e,t){C.default.supportsFeature(C.default.F.CATALOG)&&y.default.openModalMedia(u.createElement(B.default,{activeProductImage:e.activeProductImage,productImageCollection:e.productImageCollection,getZoomNode:e.getZoomNode,product:e.product,sessionId:t}),{transition:"media-viewer",uim:a.context.uim})},a.onChatInfoDrawer=function(e,t){y.default.openDrawerRight(u.createElement(T.default,{chat:e,key:"info-"+e.id.toString(),showFullGroupDescription:t}),"slide-left",a.context.uim)},a.onLiveLocationDrawer=function(e,t){e.liveLocation&&e.liveLocation.active||y.default.openDrawerRight(u.createElement(k.LiveLocationDrawerLoadable,{chat:e,openFrom:t,isFirstLevel:!0}),"slide-left",a.context.uim)},a.onExpiredLocationDrawer=function(e){y.default.openDrawerRight(u.createElement(k.ExpiredLocationDrawerLoadable,{msg:e}),"slide-left",a.context.uim)},a.onVerificationDrawer=function(e){y.default.openDrawerRight(u.createElement(z.default,{contact:E.default.assertGet(e),isFirstLevel:!0}),"slide-left",a.context.uim)},a.onMsgInfoDrawer=function(e){e.chat.kind===Q.CHAT_KIND.CHAT?y.default.openDrawerRight(u.createElement(w.default,{msg:e}),"slide-left",a.context.uim):y.default.openDrawerRight(u.createElement(P.default,{msg:e}),"slide-left",a.context.uim)},a.onAttachMediaDrawer=function(e){var t=e.chat,n=e.files,r=e.animationName,o=e.initCaption,i=e.onComplete,l=e.fileOrigin;y.default.existsDrawerMid(function(e){if(!e){t.composeAttachMediaContents||t.setComposeAttachMediaContents(new p.default);var s=(0,f.default)(t.composeAttachMediaContents),c={noFocus:!0,onEnterAnimationComplete:function(){n&&s.processFiles(n,t,l)}};y.default.openDrawerMid(u.createElement(m.default,{chat:t,files:n,onComplete:i,initCaption:o,mediaCollection:s}),r||"slide-up",a.context.uim,c)}})},a.onChatSearch=function(e){y.default.openDrawerRight(u.createElement(g.default,{chat:e}),"slide-left",a.context.uim)},a.onMediaViewer=function(e,t,n){F.default.get(e.id)?y.default.openModalMedia(u.createElement(x.default,{msg:e,startTime:n,getZoomNode:t}),{transition:"media-viewer",uim:a.context.uim}):y.default.openModal(u.createElement(A.default,{msg:e}))},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.listeners;e.add(y.default,"chat_info_drawer",this.onChatInfoDrawer),e.add(y.default,"msg_info_drawer",this.onMsgInfoDrawer),e.add(y.default,"chat_search",this.onChatSearch),e.add(y.default,"attach_media_drawer",this.onAttachMediaDrawer),e.add(y.default,"verification_drawer",this.onVerificationDrawer),e.add(y.default,"live_location_drawer",this.onLiveLocationDrawer),e.add(y.default,"media_viewer_modal",this.onMediaViewer),e.add(y.default,"expired_location_drawer",this.onExpiredLocationDrawer),e.add(y.default,"product_image_viewer_modal",this.onProductImageViewer),e.add(y.default,"attach_product",this.onAttachProduct)}},{key:"render",value:function(){return null}}]),t}(u.Component);J.contextTypes={uim:V.default.instanceOf(q.default)},J.displayName="ChatActionListener",t.default=(0,I.default)((0,X.hoc)(J))},ddfgdjiacb:function(e,t,n){"use strict";var a={singleByte:["vname","old_jid","new_jid","announcement","locked","prop","label","color","call","offer","call-id"]};e.exports=a},ddfihebbjf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bffjfbgbg"),f=a(c),d=n("bfafbgcdjg"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.refreshBlob=function(){var e=n.blob;if(!e)throw new Error("Cannot call refreshBlob when the blob does not exist.");var t=new Blob([e],{type:e.type}),a=window.URL.createObjectURL(t);n.state.url&&window.URL.revokeObjectURL(n.state.url),n.setState({url:a})};var a=e.mediaData.filehash,i=p.default.has(a);!i&&e.mediaData.mediaStage===f.default.STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia();var l=i?n.createURL(a):null;return n.state={url:l},n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(){var e=this.props.mediaData.filehash;p.default.has(e)&&!this.state.url&&this.setState({url:this.createURL(e)})}},{key:"componentWillUnmount",value:function(){this.state.url&&this.revokeURL(this.state.url)}},{key:"createURL",value:function(e){var t=p.default.get(e);if(!t)throw new Error("Cannot call createURL when the blob does not exist.");this.blob=t;var n=new Blob([t],{type:t.type});return window.URL.createObjectURL(n)}},{key:"revokeURL",value:function(e){window.URL.revokeObjectURL(e)}},{key:"render",value:function(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}]),t}(u.Component);g.CONCERNS={mediaData:["filehash","mediaStage"]},g.displayName="AnimatedStickerUrlProvider";var v=(0,m.default)((0,b.hoc)(g),g.CONCERNS),y=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.refreshBlob=function(){a.getComponent().refreshBlob()},i=n,o(a,i)}return i(t,e),t}(v);t.default=y},ddhbfebjfb:function(e,t){e.exports={muted:"_1wfSc",wallpaperColorGrid:"_3ErqO",wallpaperColorCanvas:"_2l-YP",wallpaperDefaultTitle:"_23AyA",wallpaperColorEmpty:"mz3NP",canvasActive:"_3u8cf",canvasHover:"_3DZa-"}},ddibegacej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return function(n,a){return!(!t.state.active||!t.state.results.length)&&((!n||!(0,v.default)(n))&&(e.call(t,n,a),!0))}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("ceffhbhahb"),h=a(p),m=n("ebgjhfacdb"),b=a(m),g=n("ccajjgdjf"),v=a(g),y=n("bbhhbdicgc"),_=a(y),E=n("bggeiidigb"),j=a(E),w=n("cicjcfabii"),O=a(w),C=n("eceadcicaf"),S=a(C),P=n("bechejbabh"),M=a(P),T=n("gegihfgbf"),k=a(T),N=n("ddifcjhjde"),I=a(N),R=n("caffijjhc"),A=a(R),D=n("didfdhbecg"),x=a(D),L=n("ejbdjaifi"),F=n("bifgjibich"),U={query:"",results:[],active:!1,offset:0},B=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state=U,a.flatListController=new j.default,a.setRefList=function(e){return a.list=e},a.onUpdate=l(function(){return a.onFilter(a.state.query)},a),a.onFilter=function(e){M.default.synced()||a.syncIfNeeded();var t=M.default.filterShortcuts(e);t.length&&(0,F.logFilterEvent)(t.length),a.setState({query:e,results:t,active:!0,offset:0})},a.onInactive=l(function(){a.setState(U)},a),a.onSelect=l(function(){return a.handleSelect(a.state.offset)},a),a.onUp=l(function(){var e=Math.max(a.state.offset-1,0);a.setOffset(e)},a),a.onDown=l(function(){var e=a.state.results.length-1,t=Math.min(a.state.offset+1,e);a.setOffset(t)},a),a.onBackspace=function(){var e=window.getSelection().toString();a.lastInsertedText&&e===a.lastInsertedText&&(0,F.logCancelEvent)()},a.onEscape=function(){a.setState(U)},a.syncIfNeeded=d.default.throttle(function(){M.default.synced()||M.default.sync()},1e3),a.renderItem=function(e){var t=e.index,n=e.quickReply;return c.createElement(k.default,{key:n.id,quickReply:n,query:a.state.query,selected:t===a.state.offset,onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(){return a.handleSelect(t)},onMouseEnter:function(){return a.setOffset(t,!0)}})},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props.plugin;e.registerHandler(this,b.default.ENTER,this.onSelect),e.registerHandler(this,b.default.TAB,this.onSelect),e.registerHandler(this,b.default.FILTER,this.onFilter),e.registerHandler(this,b.default.INACTIVE,this.onInactive),e.registerHandler(this,b.default.UP,this.onUp),e.registerHandler(this,b.default.DOWN,this.onDown),e.registerHandler(this,b.default.BACKSPACE,this.onBackspace)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,b.default.ENTER),e.unregisterHandler(this,b.default.TAB),e.unregisterHandler(this,b.default.FILTER),e.unregisterHandler(this,b.default.INACTIVE),e.unregisterHandler(this,b.default.UP),e.unregisterHandler(this,b.default.DOWN),e.unregisterHandler(this,b.default.BACKSPACE),this.syncIfNeeded.cancel()}},{key:"componentDidMount",value:function(){this.props.listeners.add(M.default,"add remove change:shortcut",this.onUpdate)}},{key:"setOffset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==this.state.offset&&this.setState({offset:e},function(){!n&&t.list&&t.list.scrollIntoViewIfNeeded(e)})}},{key:"handleSelect",value:function(e){var t=this.state.results[e];t&&t.id&&(this.lastInsertedText=t.message,(0,F.logSelectEvent)(),this.props.plugin.handleSelect(t))}},{key:"renderList",value:function(){var e=this.state,t=e.results,n=e.query,a=e.offset,r=t.map(function(e,t){return{height:52,key:e.id+"-"+n+(t===a?"-selected":""),index:t,quickReply:e}});return t.length?c.createElement(A.default,{displayName:"QuickReplySuggestions",escapable:!0,requestDismiss:this.onEscape},c.createElement("div",{className:(0,h.default)(I.default.overlayContainer)},c.createElement(O.default,{className:I.default.resultsContainer,flatListControllers:[this.flatListController]},c.createElement(_.default,{ref:this.setRefList,data:r,flatListController:this.flatListController,renderItem:this.renderItem})))):null}},{key:"render",value:function(){return c.createElement(x.default,{component:"div",className:I.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}]),t}(c.Component);B.displayName="Suggestions",t.default=(0,S.default)((0,L.hoc)(B))},ddidadfgch:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("bcidefefj"),h=a(p),m=n("dbfaahhhec"),b=a(m),g=n("becfabjeeg"),v=a(g),y=n("bcifhbgija"),_=a(y),E=n("daichdjff"),j=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefElement=function(e){return n.refElement=e},n.setRefSpinner=function(e){return n.refSpinner=e},n.spinningAnimation=null,n.incrementResolvedCount=function(){n.setState({resolved:n.state.resolved+1})};for(var a=0,r=0;r<e.imageModels.length;r++)e.imageModels[r].mediaData.mediaStage===E.STAGE.RESOLVED&&(a+=1);return n.state={resolved:a,fadeInImages:!1},n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.isAllImagesLoaded()||this.props.deletedProduct||this.animateSpinnerAppearance()}},{key:"componentWillUnmount",value:function(){this.spinningAnimation&&this.spinningAnimation.cancel()}},{key:"animateSpinnerAppearance",value:function(){var e=this,t=this.refSpinner;t&&(this.spinningAnimation&&this.spinningAnimation.cancel(),this.spinningAnimation=(this.spinningAnimation||Promise.resolve()).then(function(){return(0,_.default)(t,{opacity:[1,0]},{delay:75,duration:50})}).cancellable().then(function(){e.setState({fadeInImages:!0})}).catch(Promise.CancellationError,function(){(0,_.default)(t,"stop",!0)}).finally(function(){e.spinningAnimation=null}))}},{key:"getRowKey",value:function(e){return"ImageGrid-row-"+e}},{key:"getColumnKey",value:function(e){return"ImageGrid-col-"+e}},{key:"isAllImagesLoaded",value:function(){var e=this.props.imageModels;return this.state.resolved>=Math.min(3,e.length)}},{key:"renderLastItem",value:function(e){var t=this.props,n=t.imageModels,a=t.numberTextClassName,r=t.deletedProduct,o=t.fetching,i=n.length-1-e,l=n[e];return c.createElement(b.default,{key:this.getRowKey(e),onClick:this.props.onClick,imageModel:l,mediaData:l.mediaData,renderOverlay:i>0,numImagesNotRendered:i,numberTextClassName:a,incrementResolvedCount:this.incrementResolvedCount,renderImage:!!r||this.isAllImagesLoaded()&&!o,deletedProduct:r})}},{key:"renderItem",value:function(e,t,n){var a=this.props,r=a.deletedProduct,o=a.fetching;return c.createElement(b.default,{key:e,className:n,onClick:this.props.onClick,imageModel:t,mediaData:t.mediaData,incrementResolvedCount:this.incrementResolvedCount,renderImage:!!r||this.isAllImagesLoaded()&&!o,deletedProduct:r})}},{key:"renderLastColumnImages",value:function(e,t){for(var n=this.props.imageModels,a=[],r=e;r<t-1;r++)a.push(this.renderItem(this.getRowKey(r),n[r]));return a.push(this.renderLastItem(t-1)),a}},{key:"renderLastColumn",value:function(e,t,n){var a=this.props.lastColumnClassName;return c.createElement("div",{key:e,className:(0,d.default)(h.default.column,h.default.lastColumn,a,r({},h.default.lastColumnWidth,!a))},this.renderLastColumnImages(t,n))}},{key:"renderImagesInColumns",value:function(e,t){var n=this.props.imageModels;if(!n.length)return null;var a=Math.min(n.length,e-1+t);if(1===a)return this.renderItem(this.getColumnKey(0),n[0],h.default.column);if(2===a)return[this.renderItem(this.getColumnKey(0),n[0],h.default.column),this.renderItem(this.getColumnKey(1),n[1],h.default.column)];for(var r=[],o=0;o<e-1;o++){var i=n[o];r.push(this.renderItem(this.getColumnKey(o),i,h.default.column))}return e-1<a-1&&r.push(this.renderLastColumn(this.getColumnKey(e-1),e-1,a)),r}},{key:"render",value:function(){var e,t=this.props,n=t.columns,a=t.lastColumnNumRows,o=t.deletedProduct,i=t.fetching,l=this.state.fadeInImages;n||(n=2),a||(a=2);var s=this.isAllImagesLoaded();return c.createElement("div",{className:h.default.headContainer},c.createElement("div",{className:h.default.loadingBlock},!o&&c.createElement("div",{className:h.default.spinner,ref:this.setRefSpinner},c.createElement(v.default,{color:"default",size:50,stroke:4}))),c.createElement("div",{className:(0,d.default)(h.default.container,(e={},r(e,h.default.containerBg,!i&&s&&!o),r(e,h.default.fadeIn,l),e)),ref:this.setRefElement},this.renderImagesInColumns(n,a)))}}]),t}(c.Component);j.displayName="ImageGrid",t.default=j},ddifaecacd:function(e,t){e.exports={muted:"_3wnN6",more:"_2TQyO",hotKeyWraper:"BfrqJ"}},ddifcjhjde:function(e,t){e.exports={muted:"lADbn",positioningContainer:"Ya_1h",resultsContainer:"_2sVI6",overlayContainer:"SFlCH"}},ddihbaicfd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("ddhijeejag"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n("gbfffciea"),l=a(i),s=n("chcadgfgad"),u=a(s),c=n("djcchigfih"),f=a(c),d=n("dajffajabh"),p=a(d),h=n("djbhiedbef"),m=a(h),b=n("dhfbfehaef"),g=a(b),v=n("dggeggcjcd"),y=a(v),_=n("cgfjebhhej"),E=a(_);t.default=function(e){var t=e.vcard,n=E.default.parse(t);return n?o.createElement(u.default,{type:s.BoxModalType},o.createElement(f.default,{key:"vcard-modal"},o.createElement(p.default,{title:l10n.t("contact_viewer"),type:d.DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return l.default.closeModal()}}),o.createElement(m.default,null,o.createElement(g.default,null,o.createElement(y.default,{parsedVCard:n,thumbnail:E.default.thumbnail(t)}))))):null}},ddjbidjfjh:function(e,t){e.exports={muted:"JvwJU",icon:"_2fF63",body:"_3P-1q",spinner:"_3kjgZ"}},ddjcbfehh:function(e,t){e.exports={muted:"-qhtt",container:"_1wA0y",body:"_2rGVQ"}},ddjfcdfihc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.key,n=e.ctrlKey,a=e.metaKey,r=e.altKey,o=e.shiftKey;if("Control"!==t&&"Meta"!==t&&"Alt"!==t&&"Shift"!==t){var i=n&&a,l=n&&r;if(i||l)return g[c(t,o)]}}function i(e){var t=b[e];if(t.length){var n=t[0],a=n.key,r=n.nativeKey,o=n.nativeModifier,i=r||a;if(i)return u(i,o)}}function l(e){var t=b[e];if(t.length){var n=t[0],a=n.key,r=n.webKey,o=r||a;if(o)return o}}function s(){var e={};return Object.keys(b).forEach(function(t){var n=b[t];n.length<=1||n.slice(1).forEach(function(n){var a=n.key,r=n.nativeKey,o=n.nativeModifier,i=r||a;i&&(e[u(i,o)]=t)})}),e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CmdOrCtrl",n="+"!==e?e:"Plus";return 1===n.length&&n.match(/[a-z]/i)?n.match(/[a-z]/)?t+"+"+p.default.upperFirst(n):"Shift+"+t+"+"+n:t+"+"+p.default.upperFirst(n)}function c(e,t){return!t||"Tab"!==e&&"Enter"!==e&&"Backspace"!==e&&" "!==e?e:"Shift+"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG=void 0;var f;t.getAction=o,t.getKey=i,t.getWebKey=l,t.getAdditionalShortcuts=s;var d=n("hbhijdici"),p=a(d),h=n("dieejegcge"),m=a(h),b=t.CONFIG=(f={},r(f,m.default.CONTACT_US,[{key:"H"}]),r(f,m.default.DELETE_OR_EXIT_CHAT,[{key:"Backspace"}]),r(f,m.default.GO_TO_NEXT_CHAT,[{key:"Tab",nativeModifier:"Ctrl"},{key:"}"}]),r(f,m.default.GO_TO_PREV_CHAT,[{key:"Shift+Tab",nativeModifier:"Ctrl"},{key:"{"}]),r(f,m.default.LOGOUT,[]),r(f,m.default.OPEN_NEW_CHAT,[{key:"n"}]),r(f,m.default.OPEN_NEW_GROUP,[{key:"N"}]),r(f,m.default.OPEN_PROFILE,[{key:"p"}]),r(f,m.default.OPEN_SETTINGS,[{key:","}]),r(f,m.default.SEARCH,[{webKey:"/",nativeKey:"f"}]),r(f,m.default.SEARCH_IN_CHAT,[{key:"F"}]),r(f,m.default.TOGGLE_ARCHIVE,[{key:"e"}]),r(f,m.default.TOGGLE_MUTE,[{key:"M"}]),r(f,m.default.TOGGLE_UNREAD,[{key:"U"}]),r(f,m.default.ZOOM_IN,[{key:"+"}]),r(f,m.default.ZOOM_OUT,[{key:"-"}]),r(f,m.default.ZOOM_RESET,[{key:"0"}]),f),g=function(){var e={};return Object.keys(b).forEach(function(t){b[t].forEach(function(n){var a=n.key,r=n.webKey,o=r||a;o&&(e[o]=t)})}),e}()},deaaffdfff:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("cehjjfagii"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("ihfccfgdf"),_=a(y),E=n("ejbdjaifi"),j=n("cfhehaefih"),w=a(j),O=n("fifhbjiec"),C=a(O),S=n("didfdhbecg"),P=a(S),M=n("fffdgbfji"),T=a(M),k=n("caceaafdic"),N=n("dheeebbech"),I=a(N),R=n("gaifbabbj"),A=n("dbfbdfhfee"),D=a(A),x=n("dgdadejebh"),L=a(x),F=n("bjjbghfcbd"),U=a(F),B=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.mouseOver=function(){n.state.hover||n.setState({hover:!0})},n.mouseEnter=function(){n.state.hover||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onSelectChange=function(e){n.state.selected!==e&&n.setState({selected:e})},n.onSelectClick=function(e){e&&e.stopPropagation(),n.props.onMessageSelect(n.props.msg,!n.state.selected)},n.onClick=function(){n.props.onClickMsg(n.props.msg,!n.state.selected)};var a=e.msg,r=e.selectedMessages;return n.state={hover:!1,selected:r.isSelected(a)},n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.link,o=t.displayAuthor,i=this.props.selectable||this.state.hover?c.createElement(D.default,{checked:this.state.selected,onClick:this.onSelectClick,theme:"gallery"}):null,l=n.isTrusted()?R.Configuration.TrustedConversation:R.Configuration.UntrustedConversation,s=l({mentions:n.mentionMap(),links:n.getLinks(),selectable:!0}),u=n.body&&n.body.indexOf(a.url)>-1?n.body:n.caption,f=o?c.createElement("div",{className:U.default.author},c.createElement(h.default,{msg:n,contact:n.senderObj})):null,p=n.getSuspiciousLinks().length>0;return c.createElement(I.default,{hover:this.state.hover,onClick:this.onClick,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},c.createElement("div",{className:U.default.msg},c.createElement(P.default,{transitionName:"delay-leave"},i),c.createElement(k.MessageContainer,{isSentByMe:n.isSentByMe},c.createElement("div",{className:(0,d.default)(U.default.bubble,(e={},r(e,U.default.hasAuthor,o),r(e,U.default.hasSuspiciousLinks,p),e))},f,c.createElement(L.default,{link:a,displayType:b.default.DISP_TYPE.GALLERY}),c.createElement(w.default,{title:a.url,isSentByMe:n.isSentByMe,canonicalUrl:a.domain,displayType:b.default.DISP_TYPE.GALLERY,star:n.star}),c.createElement(C.default,{text:u,selectable:!0,className:U.default.text,dirMismatch:n.rtl!==T.default.isRTL(),direction:n.dir,formatters:s})))))}}]),t}(c.Component);B.CONCERNS={msg:["body","id","isSentByMe","star","rtl","dir","senderObj"]},B.displayName="LinkMsg",t.default=(0,v.default)((0,_.default)((0,E.hoc)(B),B.CONCERNS))},deabffecii:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){a(this,e),this.initSessionId()}return r(e,[{key:"initSessionId",value:function(){this.sessionId=this.newSessionId()}},{key:"newSessionId",value:function(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}},{key:"toString",value:function(){return""+this.sessionId}}]),e}();t.default=o},deabjbejhf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("eceadcicaf"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=n("hdccjfbbg"),b=a(m),g=n("fffdgbfji"),v=a(g),y=n("dbjbhajgfd"),_=a(y),E=n("caffijjhc"),j=a(E),w=n("bhhdeihhhf"),O=a(w),C=n("dfdebdgdei"),S=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={contextMenu:null},a.unblockContactTrigger=function(e){var t=a.props.contact,n=[u.createElement(O.default,{a8n:"unblock-contact-in-multi-select",key:"unblock",action:a.unblockContact},v.default.t("confirm_unblock_contact_button",{contact:t.shortName||t.name}))];e.event&&e.event.persist(),a.setState({contextMenu:{contactId:t.id.toString(),menu:n,anchor:e.anchor,event:e.event}})},a.contextClose=function(){a.setState({contextMenu:null})},a.unblockContact=function(){var e=a.props.contact;a.contextClose(),e.addPendingAction((0,C.unblockContact)(e)).then(function(){return a.props.onSelect()}).catch(function(){})},a.onSelect=function(e){if(!a.props.disabled){if(a.props.allowBlockedContacts)return void a.props.onSelect();var t=a.props.contact;return a.state.contextMenu?void a.contextClose():t.isContactBlocked?void a.unblockContactTrigger({event:e}):void a.props.onSelect()}},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.customSecondaryText,a=e.contact,r=e.active,o=e.allowBlockedContacts,i=void 0;return this.state.contextMenu&&(i=u.createElement(j.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0},u.createElement(_.default,{contextMenu:this.state.contextMenu}))),u.createElement(u.Fragment,null,u.createElement(b.default,{theme:t||a.isContactBlocked&&!o?"chat-checkbox-no-delete":"chat-checkbox",active:r,contact:a,onClick:t?null:this.onSelect,secondary:a.isContactBlocked&&!o?v.default.t("confirm_unblock_contact_and_forward_text"):n||null,waitIdle:!0}),i)}}]),t}(u.Component);S.CONCERNS={contact:["id","isGroup","isContactBlocked","pendingAction","shortName","name"]},S.displayName="UnblockableContactWrapper",t.default=(0,f.default)((0,p.default)((0,h.hoc)(S),S.CONCERNS))},deahbiefdi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("daedihffb"),f=a(c),d=n("dhbceejbjg"),p=a(d),h=n("bjgiedaj"),m=a(h),b=n("eadfaddcj"),g=a(b),v=n("fifhbjiec"),y=a(v),_=n("bbhhbdicgc"),E=a(_),j=n("cicjcfabii"),w=a(j),O=n("cgbfcjgjcf"),C=a(O),S=n("ihfccfgdf"),P=a(S),M=n("ejbdjaifi"),T=n("bgjddhffji"),k=n("bheafeifce"),N=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onProductDetail=function(e){var t=a.props,n=t.onProductDetail,r=t.sessionId;return(0,T.logCatalogListDetailClick)((0,k.unproxy)(e),r),n(e,r)},a.renderItem=function(e){var t=e.product,n=t.imageCdnUrl.productImageModel.mediaData,r=u.createElement(C.default,{theme:"list",onClick:function(){return a.onProductDetail(t)},mediaData:n}),o=u.createElement(y.default,{text:t.name,ellipsify:!0,titlify:!0}),i=u.createElement("div",{className:f.default.description,key:"desc"},u.createElement(y.default,{text:t.description,ellipsify:!0})),l=t.currency&&t.priceAmount1000&&0!==t.priceAmount1000?u.createElement("div",{className:f.default.price,key:"price"},u.createElement(y.default,{text:m.default.format(t.currency,t.priceAmount1000),ellipsify:!0})):null,s=[i,l];return u.createElement(p.default,{key:t.id.toString(),customImage:!0,image:r,primary:o,onClick:function(){return a.onProductDetail(t)},secondary:s,theme:"product"})},i=n,o(a,i)}return i(t,e),l(t,[{key:"getData",value:function(){return this.props.catalog.productCollection.getProductModels().map(function(e){return{key:e.id.toString(),product:e}})}},{key:"render",value:function(){var e=this.props.catalog;return e.productCollection&&e.productCollection.getProductModels().length?u.createElement(w.default,{flatListControllers:[this.props.flatListController]},u.createElement(E.default,{flatListController:this.props.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem,defaultItemHeight:g.default.PRODUCT_LIST_ITEM_HEIGHT})):null}}]),t}(u.Component);N.CONCERNS={catalog:["productCollection","afterCursor","id","index"]},N.displayName="ProductCatalogList",t.default=(0,P.default)((0,M.hoc)(N),N.CONCERNS)},debediheaf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.sectionId&&e.sectionId===s.default.FAVORITES?i.createElement(c.default,{name:p}):i.createElement("span",{className:d.default.text},e.sectionTitle)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("igbbahaj"),s=a(l),u=n("bfdcadbbif"),c=a(u),f=n("dhagjfdjei"),d=a(f),p="panel-starred";r.displayName="EmojiSectionIcon"},debfbiicee:function(e,t,n){"use strict";var a=n("chgaccicf"),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=(0,r.default)({CHANGE:void 0,MOUNT:void 0,INPUT:void 0})},decdhbjfjc:function(e,t,n){"use strict";function a(e,t){for(var n=t;n>0;)e.modify("extend","backward","character"),n--}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},decebhabae:function(e,t){e.exports={muted:"yuE68",attachMenuContainer:"KSY4t",iconsItem:"Ijb1Q"}},decfffijad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ejbdjaifi"),f=n("eceadcicaf"),d=a(f),p=n("fagbfehid"),h=a(p),m=n("bfidigcji"),b=a(m),g=n("dabcbibhcf"),v=a(g),y=n("hfcihgigj"),_=a(y),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleStickerPackPageFetchState=function(e,t){if(!n._unmounted){var a=n.props.index;h.default.pageWithIndex(a)===e&&(t||h.default.fetchAt(a),n.setState({stickerPack:h.default.at(a)}))}},h.default.fetchAt(e.index),n.state={stickerPack:h.default.at(e.index)},n._unmounted=!1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}},{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var e=this.state.stickerPack;return e?e.isPlaceholder?u.createElement(v.default,null):e.isFirstParty?u.createElement(b.default,{stickerPack:e}):u.createElement(_.default,{stickerPack:e,mediaData:e.mediaData}):null}}]),t}(u.PureComponent);E.displayName="StickerPackIconAtIndex",t.default=(0,d.default)((0,c.hoc)(E))},decfjabfdj:function(e,t){e.exports={"-side-margin":"12px",sideMargin:"12px","-emoji-width":"44px",emojiWidth:"44px","-emoji-height":"44px",emojiHeight:"44px",muted:"_3agIN",panel:"_3hIRi",section:"_2ecE7"}},dedicfgaca:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("bgddggdhc"),d=n("bcifhbgija"),p=a(d),h=n("bhaaifddjf"),m=a(h),b=n("bdiiahhjbe"),g=a(b),v=n("ceffhbhahb"),y=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.setRefBar=function(t){e.refBar=t},e.onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.onStart=function(t,n){var a=e.refBar&&(0,f.forbiddenAssertDOMNode)(e.refBar);if(a){var r="-"+t/n*100+"%";(0,p.default)(a,"stop"),e.barAnimation=(0,p.default)(a,{translateX:["0%",r]},{duration:t,easing:"linear"})}},e.onPause=function(){var t=e.refBar&&(0,f.forbiddenAssertDOMNode)(e.refBar);(0,p.default)(t,"stop")},e.onEnded=function(){return e.barAnimation?e.barAnimation:Promise.resolve()},g.default.info("Current index: "+e.props.current+", total count: "+e.props.total)(),g.default.assert(e.props.current>=0&&e.props.current<e.props.total,"bad current status v3 index")(),e}return l(t,e),s(t,[{key:"render",value:function(){for(var e=this,t=[],n=100/this.props.total+"%",a=0;a<this.props.total;++a)!function(a){var o,i=v(m.default.foreground,(o={},r(o,m.default.filled,a<e.props.current),r(o,m.default.empty,a>e.props.current),r(o,m.default.active,a===e.props.current),o)),l={width:n},s=c.createElement("div",{className:m.default.wrapper,style:l,key:a,onClick:function(){return e.onClick(a)}},c.createElement("div",{className:m.default.bg}),c.createElement("div",{className:m.default.mask},c.createElement("div",{className:i,ref:a===e.props.current?e.setRefBar:function(){}})));t.push(s)}(a);return c.createElement("div",{className:m.default.container},t)}}]),t}(c.Component);y.displayName="StatusV3ProgressBar",e.exports=y},dedjffeefj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return Array.isArray(e)?e:Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("eadfaddcj"),d=a(f),p=n("eceadcicaf"),h=a(p),m=n("bdiiahhjbe"),b=a(m),g=n("bfbggcdbfb"),v=a(g),y=n("deagfdiahe"),_=a(y),E=n("djgjhgjdcd"),j=a(E),w=n("cbjcfbbhja"),O=a(w),C=n("ejbdjaifi"),S=-5,P=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}],M=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.lastInform=Date.now(),a.lastPageX=-1,a.lastPageY=-1,a.bitArray=null,a.endSession=function(){a.bitArray&&a.bitArray.shipAndEndSession()},a.handleRestore=function(){var e=a.bitArray;if(!e)return void b.default.error("Time Spent Logger not started")();a.lastInform=Date.now(),e.update(a.lastInform)},a.handleEvent=function(e){var t=a.bitArray;if(t){if(e instanceof MouseEvent){if(e.pageX===a.lastPageX&&e.pageY===a.lastPageY&&"click"!==e.type)return;a.lastPageX=e.pageX,a.lastPageY=e.pageY}var n=Date.now(),r=n-a.lastInform;r>0?(a.lastInform=n,t.update(a.lastInform)):r<S&&(a.lastInform=n)}},a.handleUnload=function(){a.bitArray&&(a.bitArray.ship(a.stashLogs),a.bitArray=null)},a.shipLogs=function(e){var t=new v.default.UserActivity({userActivitySessionId:e.sessionId,userActivityStartTime:e.startTime,userActivityBitmapLen:e.bitmapLen,userActivityBitmapLow:e.bitmap[0],userActivitySessionSeq:e.sessionSeq,userActivitySessionCum:e.sessionCum});e.bitmapLen>32&&(t.userActivityBitmapHigh=e.bitmap[1]),t.commit()},a.stashLogs=function(e){for(var t=""+e.bitmap[0],n=1;n<e.bitmap.length;++n)t+=":"+e.bitmap[n];var a=e.sessionId+":"+e.sessionSeq+":"+e.sessionCum+":"+e.startTime+":"+e.bitmapLen+"$"+t;O.default.permanentStorage.setItem(d.default.KEY_TIME_SPENT_EVENT,a)},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=O.default.permanentStorage.getItem(d.default.KEY_TIME_SPENT_EVENT);e&&(this.parseAndShipStashed(e),O.default.permanentStorage.removeItem(d.default.KEY_TIME_SPENT_EVENT));var t=this.props.listeners;this.bitArray=new j.default(this.shipLogs);var n=!_.default||{passive:!0,capture:!0};t.add(window,"beforeunload",this.handleUnload);for(var a=0;a<P.length;++a){var r=P[a],o=r.source,i=r.name;t.add(o,i,this.handleEvent,n)}}},{key:"componentWillUnmount",value:function(){this.bitArray&&(this.bitArray.ship(),this.bitArray=null)}},{key:"parseAndShipStashed",value:function(e){var t=e.split("$"),n=r(t),a=n[0],o=n[1];if(n.slice(2).length||!o)return void b.default.error("Invalid stashed time spent event")(e);if(a=a.split(":"),5!==a.length)return void b.default.error("Invalid stashed time spent event")(e);o=new Int32Array(o.split(":").map(function(e){return Number(e)}));var i={sessionId:a[0],sessionSeq:Number(a[1]),sessionCum:Number(a[2]),startTime:Number(a[3]),bitmapLen:Number(a[4]),bitmap:o};this.shipLogs(i)}},{key:"render",value:function(){return null}}]),t}(c.Component);M.displayName="TimeSpentLogger",t.default=(0,h.default)((0,C.hoc)(M))},deecfijhbf:function(e,t){e.exports={muted:"_2JcCi",bubble:"CqLtL",isPreview:"_1C-RS",isGallery:"z9Uq5",quote:"_2LeWN",hasAuthor:"dnNr8",vcard:"_3j7-G",author:"_2ohYw",hasQuote:"ahnAe",body:"_1XWux",avatar:"_1t5VN",meta:"_2CQ-C",name:"_3ZVco",image:"_1C4N3"}},defeghgfc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("bheebijggd"),d=a(f),p=n("bfajhabbdf"),h=a(p),m=n("fffdgbfji"),b=a(m),g=n("cjijggjfed"),v=a(g),y=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleClick=function(e){a.props.onClick(a.props.sectionId,e)},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t=(e={},r(e,d.default.RECENT,b.default.t("emoji_tab_recent")),r(e,d.default.SMILEYS_PEOPLE,b.default.t("emoji_tab_smileys_people")),r(e,d.default.ANIMALS_NATURE,b.default.t("emoji_tab_animals_nature")),r(e,d.default.FOOD_DRINK,b.default.t("emoji_tab_food_drink")),r(e,d.default.ACTIVITY,b.default.t("emoji_tab_activity")),r(e,d.default.TRAVEL_PLACES,b.default.t("emoji_tab_travel_places")),r(e,d.default.OBJECTS,b.default.t("emoji_tab_objects")),r(e,d.default.SYMBOLS,b.default.t("emoji_tab_symbols")),r(e,d.default.FLAGS,b.default.t("emoji_tab_flags")),e),n=this.props.sectionId,a=t[n];return c.createElement(v.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,theme:g.THEMES.MENU,title:a},c.createElement(h.default,{sectionId:n}))}}]),t}(c.PureComponent);y.displayName="EmojiSectionTab",t.default=y},degbdgggga:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("bdiiahhjbe"),f=a(c),d=n("dbhbjaeieh"),p=a(d),h=n("hcfegac"),m=a(h),b=n("bcjcbbafcj"),g=a(b),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.refVideo=null,a.autoPlayErrorCount=0,a.setRefVideo=function(e){if(e!==a.refVideo&&(a.refVideo&&a.refVideo.removeEventListener("playing",a.onPlaying),a.refVideo=e,e&&("srcObject"in e&&a.props.srcObject?e.srcObject=a.props.srcObject:e.src||f.default.warn("srcObject is not supported in video tag while src is not set.")(),e&&e.addEventListener("playing",a.onPlaying),a.props.autoPlay))){if(e.addEventListener("playing",a.onceAutoplay),e.srcObject)return void a.play();(g.default.isGecko||g.default.isSafari)&&a.props.autoPlay&&e.paused&&a.play()}},a.onceAutoplay=function(e){var t=a.refVideo;if(t&&(t.removeEventListener("playing",a.onceAutoplay),!t.videoHeight||!t.videoWidth)){a.pause(),a.play();a.autoPlayErrorCount<6&&a.autoPlayErrorCount++;var n=void 0;a.autoPlayErrorCount>1&&a.autoPlayErrorCount<6&&(n="the height and width of the video is not zero, count (larger than 1): "+a.autoPlayErrorCount),a.autoPlayErrorCount>=6&&(n="the height and width of the video is not zero, count larger than "+a.autoPlayErrorCount),n&&f.default.assert(!1,"non-zero height and width",n)()}},a.onPlaying=function(e){var t=a.refVideo;t&&(t.paused||t.videoHeight&&t.videoWidth&&a.props.onPlaying&&a.props.onPlaying())},a.getVolume=function(){return a.refVideo?a.refVideo.volume:0},a.setVolume=function(e){a.refVideo&&(a.refVideo.volume=e)},a.getMuted=function(){return!!a.refVideo&&a.refVideo.muted},a.setMuted=function(e){a.refVideo&&(a.refVideo.muted=e)},a.getPaused=function(){return!a.refVideo||a.refVideo.paused},a.getCurrentTime=function(){return a.refVideo?a.refVideo.currentTime:0},a.setCurrentTime=function(e){a.refVideo&&(a.refVideo.currentTime=e)},a.getDuration=function(){return a.refVideo?a.refVideo.duration:0},a.setDuration=function(e){a.refVideo&&(a.refVideo.duration=e)},a.getBuffered=function(){return a.refVideo?a.refVideo.buffered:null},i=n,o(a,i)}return i(t,e),l(t,[{key:"underlyingVideo",value:function(){return this.refVideo}},{key:"play",value:function(){this._play()}},{key:"_play",value:function(){var e=this,t=this.refVideo;return t?t.paused?(t.removeEventListener("playing",this.onPlaying),(0,m.default)(t).then(function(){t&&t.addEventListener("playing",e.onPlaying),e.onPlaying()}).catch(function(n){if(t&&t.addEventListener("playing",e.onPlaying),"AbortError"===n.name)return void f.default.error("video.play() promise rejected w/ AbortError: "+n.message+", error code: "+n.code)();var a=e.refVideo&&e.refVideo.error&&e.refVideo.error.message?e.refVideo.error.message:"",r=e.refVideo&&e.refVideo.error?e.refVideo.error.code:"";f.default.error("video.play() promise rejected: "+a+" The error code is "+r+".")(),e.props.onError&&e.props.onError(n)})):Promise.resolve():Promise.reject(new Error("cannot play unmounted video"))}},{key:"pause",value:function(){var e=this.refVideo;e&&(e.paused||e.pause())}},{key:"pauseAndReset",value:function(){var e=this.refVideo;e&&(e.currentTime=0,this.pause())}},{key:"render",value:function(){return u.default.createElement("video",{ref:this.setRefVideo,autoPlay:this.props.src?this.props.autoPlay:void 0,className:this.props.className?this.props.className:p.default.video,controls:this.props.controls,height:this.props.height,loop:this.props.loop,muted:this.props.muted,poster:this.props.poster,src:this.props.src?this.props.src:void 0,width:this.props.width,onClick:this.props.onClick,onAbort:this.props.onAbort,onCanPlay:this.props.onCanPlay,onCanPlayThrough:this.props.onCanPlayThrough,onDurationChange:this.props.onDurationChange,onEmptied:this.props.onEmptied,onEncrypted:this.props.onEncrypted,onEnded:this.props.onEnded,onError:this.props.onError,onLoadedData:this.props.onLoadedData,onLoadedMetadata:this.props.onLoadedMetadata,onLoadStart:this.props.onLoadStart,onPause:this.props.onPause,onPlay:this.props.onPlay,onProgress:this.props.onProgress,onRateChange:this.props.onRateChange,onSeeked:this.props.onSeeked,onSeeking:this.props.onSeeking,onStalled:this.props.onStalled,onSuspend:this.props.onSuspend,onTimeUpdate:this.props.onTimeUpdate,onVolumeChange:this.props.onVolumeChange,onWaiting:this.props.onWaiting},this.props.children)}}]),t}(s.PureComponent);v.displayName="BaseVideo",t.default=v},dehacgjjde:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PANELS=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bjbggbjed"),f=a(c),d=n("dahicgggee"),p=a(d),h=n("bfgbdiffgd"),m=a(h),b=n("caffijjhc"),g=a(b),v=n("ccaaiecfib"),y=a(v),_=n("biahchiahj"),E=a(_),j=t.PANELS={EMOJI:"EMOJI",GIF:"GIF",STICKER:"STICKER"},w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.restoreFocus=function(e){switch(n.props.selectedPanelId){case j.STICKER:n._refStickerPanel&&n._refStickerPanel.restoreFocus();break;case j.GIF:n._refGifPanel&&n._refGifPanel.restoreFocus(e);break;case j.EMOJI:default:n._refEmojiPanel&&n._refEmojiPanel.restoreFocus(e)}},n._setRefEmojiPanel=function(e){n._refEmojiPanel=e},n._setRefGifPanel=function(e){n._refGifPanel=e},n._setRefStickerPanel=function(e){n._refStickerPanel=e},n._handleEmojiPanelDisplayCache=function(e){n._emojiPanelDisplayCache=e,n._triggerDisplayCache()},n._handleEmojiPanelFocusNext=function(){n.props.onPanelChange(j.GIF)},n._handleEmojiPanelFocusPrev=function(){n.props.onFocusRelease()},n._handleGifPanelDisplayCache=function(e){n._gifPanelDisplayCache=e,n._triggerDisplayCache()},n._handleGifPanelFocusNext=function(){if(m.default.stickers&&y.default.supportsFeature(y.default.F.STICKER_PACK_QUERY))return void n.props.onPanelChange(j.STICKER);n.props.onFocusRelease()},n._handleGifPanelFocusPrev=function(){n.props.onPanelChange(j.EMOJI)},n._handleRequestFocus=function(){n.restoreFocus(!1)},n._handleStickerPanelDisplayCache=function(e){n._stickerPanelDisplayCache=e,n._triggerDisplayCache()},n._handleStickerPanelFocusNext=function(){n.props.onFocusRelease()},n._handleStickerPanelFocusPrev=function(){n.props.onPanelChange(j.GIF)},e.displayCache&&(n._emojiPanelDisplayCache=e.displayCache.emojiPanel,n._gifPanelDisplayCache=e.displayCache.gifPanel),n}return i(t,e),l(t,[{key:"_triggerDisplayCache",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({emojiPanel:this._emojiPanelDisplayCache,gifPanel:this._gifPanelDisplayCache,stickerPanel:this._stickerPanelDisplayCache})}},{key:"render",value:function(){var e=null;switch(this.props.selectedPanelId){case j.STICKER:e=u.createElement(E.default,{ref:this._setRefStickerPanel,displayCache:this._stickerPanelDisplayCache,onDisplayCache:this._handleStickerPanelDisplayCache,onFocusPrev:this._handleStickerPanelFocusPrev,onFocusNext:this._handleStickerPanelFocusNext,onSticker:this.props.onSticker});break;case j.EMOJI:default:e=u.createElement(f.default,{ref:this._setRefEmojiPanel,displayCache:this._emojiPanelDisplayCache,width:this.props.width,displayLocation:c.DISP_LOCATION.COMPOSE_BOX,onDisplayCache:this._handleEmojiPanelDisplayCache,onEmoji:this.props.onEmoji,onFocusPrev:this._handleEmojiPanelFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext});break;case j.GIF:e=u.createElement(p.default,{ref:this._setRefGifPanel,displayCache:this._gifPanelDisplayCache,onDisplayCache:this._handleGifPanelDisplayCache,onFocusRelease:this.props.onFocusRelease,onFocusNext:this._handleGifPanelFocusNext,onFocusPrev:this._handleGifPanelFocusPrev,onGif:this.props.onGif})}return u.createElement(g.default,{displayName:"ComposeBoxPanels",escapable:!0,requestDismiss:this.props.requestDismiss,requestFocus:this._handleRequestFocus},e)}}]),t}(u.PureComponent);w.displayName="ComposeBoxPanels",t.default=w},dehfhdefdi:function(e,t){e.exports={muted:"z589f",body:"_3UbnA",vcardWrapper:"WOXAS",btnContainer:"_21bWq",btnPosition:"_1ecLP"}},deibcghej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AlbumPosition={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}},deifjeacc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("effbcehec"),h=a(p),m=n("ihfccfgdf"),b=a(m),g=n("ejbdjaifi"),v=n("bfdcadbbif"),y=a(v),_=n("cdaddeffii"),E=a(_),j=n("eadfaddcj"),w=a(j),O=n("ciajafaaie"),C=n("ebcagbhefg"),S=a(C),P={FRONT:"FRONT",MID:"MID",END:"END",SINGLE:"SINGLE"},M=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setRefContext=function(e){return a.refContext=e},a.handleMouseDown=function(e){e.stopPropagation(),e.preventDefault(),a.props.onToggle(e.target)},r=n,i(a,r)}return l(t,e),s(t,[{key:"handleClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.position,o=t.isGroupedSticker,i=n.isSentByMe,l=n.isGroupMsg,s=n.type,u=n.subtype,f=!!n.quotedMsg,p=!n.quotedMsg&&n.quotedRemoteJid,m=n.showForwarded(),b=p?null:i?E.default.contextOut:E.default.contextIn,g=(s===w.default.MSG_TYPE.DOCUMENT||s===w.default.MSG_TYPE.TEMPLATE&&"document"===u)&&!n.body,v=(s===w.default.MSG_TYPE.DOCUMENT||s===w.default.MSG_TYPE.TEMPLATE&&"document"===u)&&n.body,_=s===w.default.MSG_TYPE.LOCATION||s===w.default.MSG_TYPE.TEMPLATE&&"location"===u,j=n.linkPreview&&(0,O.isParsableOnlineVideoURL)(n.richPreviewType,n.matchedText),C=n.isMedia&&s!==w.default.MSG_TYPE.AUDIO||v||_||f||s===w.default.MSG_TYPE.PAYMENT||j||s===w.default.MSG_TYPE.PRODUCT,M=!1;l&&(M=!i&&(a===P.FRONT||a===P.SINGLE||f||C));var T=n.getSuspiciousLinks().length>0;C=C&&!M&&!T&&!m;var k=s===w.default.MSG_TYPE.CHAT&&n.linkPreview&&!j&&!M&&!m&&!T&&n.isTrusted(),N=(0,d.default)(C?E.default.contextIconMedia:E.default.contextIcon),I=s===w.default.MSG_TYPE.PTT||s===w.default.MSG_TYPE.AUDIO,R=n.type===w.default.MSG_TYPE.MULTI_VCARD&&!f&&!M&&!m,A=s===w.default.MSG_TYPE.GROUPS_V4_INVITE,D=(k||g||A)&&!M&&!m&&!f,x=s===w.default.MSG_TYPE.STICKER&&!f&&(o||!n.isGroupMsg||n.isGroupMsg&&n.isSentByMe),L=void 0,F=void 0;if(x){var U=S.default.get("defaultPreference"),B=U?U.wallpaperColor:w.default.WALLPAPER_COLOR[0],G={backgroundColor:B,opacity:.9};F=c.createElement("div",{className:E.default.badge,style:G}),L=w.default.INVERT_TRANSPARENT_CONTEXT[B]}var V=(0,d.default)(b,C?l10n.isRTL()?E.default.contextMediaRtr:E.default.contextMediaLtr:null,(e={},r(e,E.default.context,!(C||k)||D),r(e,E.default.contextMedia,C),r(e,E.default.contextPtt,I&&!f&&!M),r(e,E.default.contextPttFix,I&&M),r(e,E.default.contextSpecial,D),r(e,E.default.contextDoc,g&&!M&&!m&&!f),r(e,E.default.contextMediaDocument,v),r(e,E.default.contextMultiVcard,R),r(e,E.default.contextInverse,!(s!==w.default.MSG_TYPE.CHAT||f||M||m||!n.dir||n.rtl===l10n.isRTL())),r(e,E.default.contextStickerAuthor,s===w.default.MSG_TYPE.STICKER&&!x),r(e,E.default.contextStickerTransparent,x),r(e,E.default.contextStickerInverse,x&&L),e));return c.createElement("div",{className:V},c.createElement("div",{"data-a8n":h.default.key("icon-down-context"),"data-js-context-icon":!0,className:N,ref:this.setRefContext,onMouseDown:this.handleMouseDown,onClick:this.handleClick},c.createElement(y.default,{name:"down-context",color:C?"white":null})),F)}}]),t}(c.PureComponent);M.CONCERNS={msg:["linkPreview","matchedText","dir","rtl","isMedia","isSentByMe","isGroupMsg","type","quotedMsg","body","quotedRemoteJid","richPreviewType","subtype"]},M.displayName="Menu",t.default=(0,b.default)((0,g.hoc)(M),M.CONCERNS)},deijdcaadj:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){var t=this;a(this,e),this.addListeners=function(e,n,a){t._onStart=e,t._onPause=n,t._onEnded=a},this.setVideo=function(e,n){t._video=e,t._video.addEventListener("playing",t._onPlayingHandler),t._video.addEventListener("pause",t._onPauseHandler),t._video.addEventListener("ended",t._onEndedHandler)},this.play=function(){t._video&&t._video.play()},this.pause=function(){t._video&&!t._video.paused&&t._video.pause()},this.resume=function(){t._video&&t._video.play()},this.stop=function(){t._video&&!t._video.paused&&t._video.pause()},this._onPlayingHandler=function(){var e=t._onStart;e&&e(1e3*(t._video.duration-t._video.currentTime),1e3*t._video.duration)},this._onPauseHandler=function(){var e=t._onPause;e&&e()},this._onEndedHandler=function(){var e=t._onEnded;e&&e()},this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0}}return r(e,[{key:"duration",get:function(){return 1e3*this._video.duration}}]),e}();t.default=o},dejbbcaghh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(e.isGroupMsg?u.default.equals(e.author,t.author):u.default.equals(e.from,t.from))&&t.t-e.t<=l.default.ALBUM_DIFF_INTERVAL}function o(e,t){return!e.isNotification&&!t.isNotification&&(e.isGroupMsg?u.default.equals(e.author,t.author):u.default.equals(e.from,t.from))}Object.defineProperty(t,"__esModule",{value:!0}),t.canBeGroupedAsAlbum=r,t.canBeGroupedWithNext=o;var i=n("eadfaddcj"),l=a(i),s=n("jccfhaecf"),u=a(s)},dejcdgeeje:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ecahagbbfh"),f=a(c),d=n("ejeidfcga"),p=a(d),h=n("eihefeaje"),m=a(h),b=n("hehdicceb"),g=a(b),v=n("cjcaccbiih"),y=a(v),_=n("dhhfaeacef"),E=a(_),j=n("bifbiahgch"),w=a(j),O=n("ffebdchi"),C=a(O),S=n("gbfffciea"),P=a(S),M=n("bhheahajjg"),T=a(M),k=n("bfejacaeaj"),N=a(k),I=n("dcjdgceiej"),R=a(I),A=n("bhfdfhefca"),D=n("fbjjefaic"),x=a(D),L=n("eceadcicaf"),F=a(L),U=n("bjbedjfe"),B=a(U),G=n("ihfccfgdf"),V=a(G),W=n("ejbdjaifi"),H=n("bheafeifce"),Y=n("bfdjgcjbeh"),q=a(Y),K=n("bfdcadbbif"),z=a(K),Q=n("djiejaiah"),X=a(Q),J=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.isListeningForMove=!1,e.didDrag=!1,e.setRef=function(t){e.ref=t,e.props.onRef(t)},e.onWindowFocus=function(){},e.onMouseDown=function(e){},e.onDrag=function(t){e.didDrag=!0},e.onClickCapture=function(e){},e.onInfoPanel=function(){var t=e.props.chat;!t.isPSA&&(t.isUser||t.isBroadcast||t.isGroup)&&P.default.openDrawerRight(u.createElement(w.default,{chat:(0,H.unproxy)(t),key:"info-"+t.id.toString()}),"slide-left",e.context.uim)},e.checkForDrawerMid=function(e){P.default.existsDrawerMid(function(t){t&&e.preventDefault()})},e.onChatSearch=function(t){t.preventDefault();var n=e.props.chat;P.default.openDrawerRight(u.createElement(C.default,{chat:(0,H.unproxy)(n),key:"chat-search-"+n.id.toString()}),"slide-left",e.context.uim)},e.state={},e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.chat,t=void 0,a=void 0;if(e.isUser)t=u.createElement(q.default,{chat:e,contact:e.contact,onSelectMessages:this.props.onSelectMessages}),a=u.createElement(y.default,{contact:e.contact,presence:e.presence,chatstate:e.presence.chatstate,placeholder:l10n.t("click_here_for_user_info"),location:"title"});else if(e.isBroadcast)t=u.createElement(p.default,{chat:(0,H.unproxy)(e),onSelectMessages:this.props.onSelectMessages}),a=null;else if(e.isGroup){t=u.createElement(g.default,{chat:(0,H.unproxy)(e),onSelectMessages:this.props.onSelectMessages});var r=e.groupMetadata&&e.groupMetadata.participants&&e.groupMetadata.participants.iAmAdmin()&&e.groupMetadata.announce?l10n.t("announcement_only_group_header_subtitle"):l10n.t("click_here_for_group_info");a=u.createElement(m.default,{chatstate:e.presence.chatstate,groupMetadata:e.groupMetadata,presence:e.presence,placeholder:r,location:"title"})}var o=n("ccaaiecfib"),i=o.supportsFeature(o.F.FTS_IN_CONV)?u.createElement(A.MenuBarItem,{a8nText:"search-button",icon:u.createElement(z.default,{name:"search-alt"}),title:l10n.t("search"),onClick:this.onChatSearch}):null,l=this.props.canAttach?u.createElement(f.default,{chat:(0,H.unproxy)(e),getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}):null;return e.isPSA&&(a=null),u.createElement("header",{ref:this.setRef,className:X.default.chatHeader,onClickCapture:this.onClickCapture,onMouseDown:this.onMouseDown},u.createElement("div",{className:X.default.chatAvatar,onClick:this.onInfoPanel,role:e.isPSA?null:"button"},u.createElement(E.default,{id:e.id,size:40})),u.createElement("div",{className:X.default.chatBody,onClick:this.onInfoPanel,role:e.isPSA?null:"button"},u.createElement("div",{className:X.default.chatMain},u.createElement("div",{className:X.default.chatTitle},u.createElement(T.default,{chat:e,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0}))),a),u.createElement("div",{className:X.default.chatControls},u.createElement(A.MenuBar,{key:"conversation-header"},i,l,u.createElement(A.MenuBarItem,{a8nText:"conversation-menu",icon:u.createElement(z.default,{name:"menu"}),title:l10n.t("menutitle_menu"),onClick:this.checkForDrawerMid},t))))}}]),t}(u.Component);J.contextTypes={uim:N.default.instanceOf(R.default)},J.CONCERNS={chat:["id","formattedTitle","presence","isUser","isGroup","isBroadcast","groupMetadata","isPSA","contact"]},J.displayName="ConversationHeader",t.default=(0,x.default)((0,F.default)((0,B.default)((0,V.default)((0,W.hoc)(J),J.CONCERNS))))},dfabffebdg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("deibcghej"),h=n("eadfaddcj"),m=n("ejbdjaifi"),b=n("dhccihecch"),g=a(b),v=n("dbgefjefac"),y=a(v),_=n("bfhcddbbhg"),E=a(_),j=n("eedjbihej"),w=a(j),O=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"getRef",value:function(){return this.ref}},{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.albumPosition,o=t.isMsgVisible,i=t.zoomMsg,l=t.numAdditionalMedia,s=(0,d.default)((e={},r(e,E.default.albumTopLeft,a===p.AlbumPosition.TOP_LEFT),r(e,E.default.albumTopRight,a===p.AlbumPosition.TOP_RIGHT),r(e,E.default.albumBottomLeft,a===p.AlbumPosition.BOTTOM_LEFT),r(e,E.default.albumBottomRight,a===p.AlbumPosition.BOTTOM_RIGHT),e)),u=void 0;l&&(u=c.createElement(w.default,{theme:"large",className:(0,d.default)(E.default.numberText)},l10n.t("num_images_not_rendered",{number:l})));var f=void 0;if(n.type===h.MSG_TYPE.IMAGE)f=c.createElement(g.default,{theme:b.THEMES.ALBUM,msg:n,mediaData:n.mediaData,ref:(0,m.GetRef)("ref",this),isMsgVisible:o,zoomMsg:i,overlayContent:u});else{if(n.type!==h.MSG_TYPE.VIDEO)throw new Error("Unexpected Album Type: "+n.type);f=c.createElement(y.default,{theme:b.THEMES.ALBUM,msg:n,mediaData:n.mediaData,ref:(0,m.GetRef)("ref",this),zoomMsg:i,overlayContent:u})}return c.createElement("div",{className:E.default.albumGridClass},c.createElement("div",{className:s},f))}}]),t}(c.Component);O.displayName="AlbumGrid",t.default=O},dfafdjbjfd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!e.animate)return!1;var n=t.prevDataKey;return e.data.key===n&&e.data.offset!==t.prevRowOffset}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("cjhcbjdgc"),h=a(p),m=n("baaaeiafec"),b=a(m),g=n("cdbddjfbcd"),v=a(g),y=h.default.prefix("transform"),_=h.default.prefix("transition"),E=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={shouldAnimate:!0,prevDataKey:null,prevRowOffset:null},r=n,i(a,r)}return l(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.animate!==e.animate||this.props.zIndex!==this.props.zIndex||this.props.renderItem!==e.renderItem||this.state.shouldAnimate!==t.shouldAnimate||!(0,v.default)(this.props.data,e.data)}},{key:"render",value:function(){var e,t=this.props,n=t.data,a=t.zIndex,o=n.height,i=n.offset,l=this.state.shouldAnimate,s=l?y+" 200ms ease-in-out":"none",u=(e={zIndex:a,height:o},r(e,y,"translateY("+i+"px)"),r(e,_,s),e),c=this.props.renderItem(n);return d.createElement("div",{className:b.default.item,style:u},c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return u({},t,{prevDataKey:e.data.key,prevRowOffset:e.data.offset,shouldAnimate:s(e,t)})}}]),t}(d.Component);E.displayName="ListItem",t.default=E},dfbbbjdejj:function(e,t){e.exports={muted:"_1lzL5",avatar:"_2Z5XD",avatarDefault:"_3Vh6k",avatarImage:"o7roc",isLoaded:"_1Ve1Q"}},dfbcaibdjh:function(e,t){e.exports={muted:"R1PVR",empty:"_13U-5",emptyTop:"_2dEsb",compact:"_1EZrc",icon:"_1i7uJ",title:"_1qGyP",text:"_3dwyT",spinner:"_334hl",action:"_32ACA"}},dfbccdiiii:function(e,t){e.exports={muted:"hdqm0",button:"_1f9br",fullscreen:"_3ffkZ"}},dfcdejcheh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("bgddggdhc"),p=n("gbfffciea"),h=a(p),m=n("ebcfjdcbhh"),b=a(m),g=n("bbhhbdicgc"),v=a(g),y=n("dhfbfehaef"),_=a(y),E=n("dcjdgceiej"),j=a(E),w=n("bfejacaeaj"),O=a(w),C=n("bifahbdaeg"),S=a(C),P=n("ecgfaicjah"),M=a(P),T=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._listPointerEvents=!0,a.onListPointerEventsOff=function(){a._listPointerEvents=!1},a.onListPointerEventsOn=function(){a._listPointerEvents=!0},a.onClick=function(e,t,n){e.preventDefault(),e.stopPropagation(),f.default.find(t.id).then(function(e){2===b.default.column&&a.context.uim.uie.requestDismiss(),h.default.focusChatTextInput(e),h.default.openChatAt(e,n)})},a.getSelection=function(){return a.props.ftsResult||[]},a.renderItem=function(e){var t=e.msg;return t.sender&&t.isGroupMsg&&!t.isNotification&&!t.isSentByMe?u.createElement(M.default,{contact:t.senderObj,msg:t,chat:t.chat,searchText:a.props.searchText,onClick:a.onClick,active:a.props.selection,key:t.id.toString()}):u.createElement(S.default,{msg:t,chat:t.chat,searchText:a.props.searchText,onClick:a.onClick,active:a.props.selection,key:t.id.toString()})},a.restoreFocus=function(){a.props.selection.reset(!0)},a.onFocusGain=function(e){e.target===(0,d.forbiddenAssertDOMNode)(a)&&a._listPointerEvents&&(a.props.selection.index<0?a.focusFirst():a.props.selection.reset(!0))},a.focusFirst=function(){a.props.selection.setFirst(!0)},a.onNextChat=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=a.props.selection.next();a.props.selection.index!==t&&a.props.selection.setNext(!0)},a.onPrevChat=function(e){e&&(e.stopPropagation(),e.preventDefault()),a.props.selection.prev()>-1?a.props.selection.setPrev(!0):a.props.onFocusSearch()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.selection.init(this.getSelection())}},{key:"getData",value:function(){return this.props.ftsResult.map(function(e){return{key:e.id.toString(),msg:e}})}},{key:"render",value:function(){var e=this,t={down:function(t){return e.onNextChat(t)},up:function(t){return e.onPrevChat(t)}};return u.createElement(_.default,{handlers:t,onFocus:this.onFocusGain,"data-tab":3},u.createElement(v.default,{flatListController:this.props.flatListController,data:this.getData(),renderItem:this.renderItem,forceConsistentRenderCount:!1}))}}]),t}(u.Component);T.contextTypes={uim:O.default.instanceOf(j.default)},T.displayName="MsgList",t.default=T},dfcggebdjj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return!!e&&(e instanceof HTMLElement&&!!e.dataset[y])}function o(){return new Promise(function(e){0===u.default.uiBusy&&e(),u.default.once("ui_idle",function(){e()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmojiEl=r;var i=n("ceffhbhahb"),l=a(i),s=n("gbfffciea"),u=a(s),c=n("djegeegcbf"),f=a(c),d=n("eagfdbhhhh"),p=f.default.emojiRegex,h=f.default.getEmojiFromUnicode,m=n("eadfaddcj"),b=m.ONE_BY_ONE_TRANS_GIF,g=n("debfbiicee"),v=p(),y="isEmoji",_=!1,E=function(e){var t=h(e);if(!t)return null;var n=(0,d.createSelectableElement)("img",e);return n.setAttribute("alt",e),n.setAttribute("draggable","false"),n.setAttribute("class",(0,l.default)(n.getAttribute("class"),f.default.getClasses(t))),Object.assign(n.style,f.default.getStyle(t)),n.setAttribute("src",b),n.dataset[y]="true",n},j={serializers:[["img.emoji",function(e){return e.getAttribute("alt")||""}]],parsers:[function(e){return e.replace("️","")},function(e){return e.replace(v,function(e,t){var n=E(t);return n?n.outerHTML:""})}],hooks:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},g.MOUNT,function(){_||(_=!0,o().delay(0).then(function(){document.execCommand("enableObjectResizing",!1,!1)}).catch(function(){}))}),handlers:{onBeforeInput:function(e,t){var n=e.data,a=v.exec(n);return!!a&&(t.replaceSelection(a[0]),!0)},onClick:function(e){if(!e.target)return!1;var t=e.target.getAttribute("class");if(!t||!~t.indexOf("emoji"))return!1;var n=window.getSelection(),a=new Range;return e.pageX<e.target.x+e.target.width/2?(a.setStartBefore(e.target),a.setEndBefore(e.target)):(a.setStartAfter(e.target),a.setEndAfter(e.target)),n.removeAllRanges(),n.addRange(a),!0}}};t.default=j},dfcihdhibf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhfbfehaef"),f=a(c),d=n("bdjihaecid"),p=a(d),h=n("faeabghda"),m=a(h),b=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._stickerItems=new Map,a._setRefContainer=function(e){a._refContainer=e},a._handleStickerArrowDown=function(e){e.stopPropagation(),e.preventDefault();var t=a._getActiveStickerItemIndex(),n=a._getNumCols(),r=Math.min(t+n,a._stickerItems.size-1);Math.floor(t/n)!==Math.floor(r/n)&&a._incActiveIndex(n)},a._handleStickerArrowLeft=function(e){e.stopPropagation(),e.preventDefault(),a._decActiveIndex(1)},a._handleStickerArrowRight=function(e){e.stopPropagation(),e.preventDefault(),a._incActiveIndex(1)},a._handleStickerArrowUp=function(e){e.stopPropagation(),e.preventDefault(),a._decActiveIndex(a._getNumCols())},a._handleScroll=function(e){a.props.onScroll&&a._refContainer&&a.props.onScroll(a._refContainer.scrollTop)},a._setRefContainer=function(e){a._refContainer=e},i=n,o(a,i)}return i(t,e),l(t,[{key:"focus",value:function(e){var t=e||0;t=Math.min(t,this._stickerItems.size),t=Math.max(t,0);var n=this._stickerItems.get(t);n&&n.focus()}},{key:"scrollToTop",value:function(){this._refContainer&&(this._refContainer.scrollTop=0)}},{key:"_decActiveIndex",value:function(e){this._incActiveIndex(0-e)}},{key:"_getActiveStickerItemIndex",value:function(){for(var e=this._stickerItems.size,t=0;t<e;t++){var n=this._stickerItems.get(t);if(n&&n.hasFocus())return t}return-1}},{key:"_getNumCols",value:function(){var e=this._stickerItems.get(0);if(!e)return 0;for(var t=e.getOffsetTop(),n=this._stickerItems.size,a=0;a<n;a++){var r=this._stickerItems.get(a);if(r&&r.getOffsetTop()!==t)return a}return this._stickerItems.size}},{key:"_incActiveIndex",value:function(e){if(0!==e){var t=this._getActiveStickerItemIndex();if(-1!==t){var n=t+e;if(n<0){if(!this.props.onFocusPrev)return;return void this.props.onFocusPrev()}n=Math.min(n,this._stickerItems.size-1);var a=this._stickerItems.get(n);a&&a.focus()}}}},{key:"_renderStickers",value:function(){var e=this;return this.props.stickers.map(function(t,n){return u.createElement(p.default,{key:t.id,onClick:e.props.onStickerClick,onEnter:e.props.onStickerEnter,ref:function(t){t?e._stickerItems.set(n,t):e._stickerItems.delete(n)},sticker:t})})}},{key:"render",value:function(){return u.createElement(f.default,{onRef:this._setRefContainer,className:m.default.container,handlers:{up:this._handleStickerArrowUp,down:this._handleStickerArrowDown,left:this._handleStickerArrowLeft,right:this._handleStickerArrowRight},onScroll:this._handleScroll},this._renderStickers())}}]),t}(u.PureComponent);b.displayName="StickersScrollGridPresentational",t.default=b},dfeecdfijg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("ceffhbhahb"),f=a(c),d=n("ejbdjaifi"),p=n("bfgbdiffgd"),h=a(p),m=n("ihfccfgdf"),b=a(m),g=n("dhbejdh"),v=a(g),y=n("bfdcadbbif"),_=a(y),E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.className;if(!t.showForwarded())return null;var a=h.default.frequentlyForwardedMessages&&t.isFrequentlyForwarded?"highly-forwarded":"forwarded";return u.default.createElement("div",{className:(0,f.default)(v.default.container,n)},u.default.createElement(_.default,{name:a,display:"inline"}),u.default.createElement("span",{className:v.default.text},l10n.t("forwarded")))}}]),t}(u.default.Component);E.CONCERNS={msg:["isForwarded","forwardingScore","numTimesForwarded","isFrequentlyForwarded"]},E.displayName="ForwardedIndicator",t.default=(0,b.default)((0,d.hoc)(E),E.CONCERNS)},dfeigdcjhi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=ae[e];if(t)try{t()}catch(t){F.default.error("keyboard:error occurred running action "+e+".",t)()}}function i(){I.default.existsDrawerLeft(function(e){e&&I.default.closeDrawerLeft(),I.default.openDrawerLeft(S.createElement(Z.default,null))})}function l(){I.default.existsDrawerLeft(function(e){e&&I.default.closeDrawerLeft(),I.default.openDrawerLeft(S.createElement(V.default,null))})}function s(){I.default.existsDrawerLeft(function(e){e&&I.default.closeDrawerLeft(),I.default.openDrawerLeft(S.createElement(H.default,null))})}function u(){I.default.existsDrawerLeft(function(e){e&&I.default.closeDrawerLeft();var t=ne.default.assertGet(x.default.me),n=z.default.assertGet(x.default.me);I.default.openDrawerLeft(S.createElement(q.default,{status:t,profilePicThumb:n,conn:x.default}))})}function c(){if(!B.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}))return ee.default.logout();I.default.openModal(S.createElement(A.default,{title:l10n.t("confirm_logout"),onOK:function(){return ee.default.logout()},okText:l10n.t("menuitem_logout"),onCancel:function(){return I.default.closeModal()},cancelText:l10n.t("web_cancel")},l10n.t("some_of_your_messages_are_still_sending")))}function f(){I.default.focusChatSearch()}function d(){var e=w();if(e&&e.canArchive()){var t=e.archive;I.default.archiveChat(e,!t)}}function p(){var e=w();if(e&&e.mute.canMute()){var t=e.mute.isMuted;I.default.muteChat(e,!t)}}function h(){var e=w();if(e){var t=e.markedUnread;I.default.markChatUnread(e,!t)}}function m(){var e=w();e&&I.default.chatSearch(e)}function b(){var e=w();e&&I.default.deleteOrExitChat(e)}function g(){I.default.focusNextChat(!0)}function v(){I.default.focusPrevChat(!0)}function y(){I.default.openModal(S.createElement(X.default,null))}function _(){}function E(){}function j(){}function w(){var e=k.default.filter(function(e){return e.active});return e.length?e[0]:void 0}Object.defineProperty(t,"__esModule",{value:!0});var O;t.default=o;var C=n("ddhijeejag"),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),P=n("dieejegcge"),M=a(P),T=n("dbdfbgehgj"),k=a(T),N=n("gbfffciea"),I=a(N),R=n("biddiiafgd"),A=a(R),D=n("bjigbaghc"),x=a(D),L=n("bdiiahhjbe"),F=a(L),U=n("biecbbiiee"),B=a(U),G=n("icadbbfej"),V=a(G),W=n("daijadgha"),H=a(W),Y=n("bajidgjehj"),q=a(Y),K=n("dhefcajhhb"),z=a(K),Q=n("bfebbjhgbh"),X=a(Q),J=n("icaahcghc"),Z=a(J),$=n("eacidghfgh"),ee=a($),te=n("gbbacfeci"),ne=a(te),ae=(O={},r(O,M.default.CONTACT_US,y),r(O,M.default.DELETE_OR_EXIT_CHAT,b),r(O,M.default.GO_TO_NEXT_CHAT,g),r(O,M.default.GO_TO_PREV_CHAT,v),r(O,M.default.LOGOUT,c),r(O,M.default.OPEN_NEW_CHAT,l),r(O,M.default.OPEN_NEW_GROUP,s),r(O,M.default.OPEN_PROFILE,u),r(O,M.default.OPEN_SETTINGS,i),r(O,M.default.SEARCH,f),r(O,M.default.SEARCH_IN_CHAT,m),r(O,M.default.TOGGLE_ARCHIVE,d),r(O,M.default.TOGGLE_MUTE,p),r(O,M.default.TOGGLE_UNREAD,h),r(O,M.default.ZOOM_IN,_),r(O,M.default.ZOOM_OUT,E),r(O,M.default.ZOOM_RESET,j),O)},dffedieagi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("dfeecdfijg"),c=a(u),f=n("cieaeggjg"),d=a(f),p=n("eadfaddcj"),h=a(p),m=n("ffhghhcgf"),b=a(m),g=function(e){var t,n=e.msg,a=(0,s.default)(b.default.bubble,(t={},r(t,b.default.bubbleIn,!n.isSentByMe),r(t,b.default.bubbleOut,n.isSentByMe),r(t,b.default.hasAuthor,e.author),r(t,b.default.hasQuote,e.quotedMsg),r(t,b.default.isGallery,e.displayType===h.default.DISP_TYPE.STARRED_MSGS||e.displayType===h.default.DISP_TYPE.GALLERY),r(t,b.default.isForwarded,n.showForwarded()),t)),o=e.status?i.createElement("div",{className:b.default.status},e.status):null,l=e.author?i.createElement("div",{className:b.default.author},e.author):null,u=n.showForwarded()?i.createElement(c.default,{msg:n,className:b.default.forwardedIndicator}):null,f=e.quotedMsg?i.createElement("div",{className:b.default.quote},e.quotedMsg):null;return i.createElement("div",{className:a},l,u,f,i.createElement("div",{className:b.default.body},i.createElement("div",{className:b.default.player},e.player),i.createElement("div",{className:b.default.avatar},o,e.avatar)),i.createElement("div",{className:b.default.meta},i.createElement(d.default,{msg:n})))};g.displayName="AudioBubble",t.default=g},dfhbgghjei:function(e,t){e.exports={muted:"_2bpdE",bubble:"_3SaET",nonAlbumBubble:"_1Rlp7",isPreview:"_269ND",author:"_1UWph",forwarded:"X41CX",forwardedIndicator:"Lmjye",hasAuthor:"_2blB5",meta:"iVt71",hasCaption:"_1Jk6Y",caption:"_3AT9Y",isPSA:"XR5vd",isPsa:"XR5vd",quote:"_1-viB",thumb:"_3mdDl",inAlbum:"_389Ju",thumbBody:"_18vxA",thumbBodyLores:"_1RZLX",isGallery:"_11lI2",footer:"_3BuXD",overlay:"_1cdQD",overlayAlbumText:"_3Ms7M"}},dfhebgbhja:function(e,t){e.exports={muted:"_356HW",container:"RxbUw",contentContainer:"_2r0i1",emptyContainer:"U9fHd",emptySticker:"_3WpZ3",emptyText:"_2Hze1"}},dfigcajgai:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("hdccjfbbg"),p=a(d),h=n("dhfbfehaef"),m=a(h),b=n("dcaibchbg"),g=a(b),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.focusLast=function(){f.default.size(a.props.contacts)&&a.selection.setLast(!0)},a.focusPrev=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1&&a.selection.setPrev(!0)},a.focusNext=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.onFocusSearch,n=a.selection.next();a.selection.index===n?(a.selection.unset(),t&&t(e)):a.selection.setNext(!0)},a.deleteContact=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.onDelete,n=a.selection.getVal();if(n){var r=f.default.find(a.props.contacts,n);r&&t&&t(e,r)}},a.onParticipantClick=function(e,t){a.selection.setVal(t)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.selection=new g.default(this.props.contacts,function(e){return e.id})}},{key:"componentWillReceiveProps",value:function(e){this.selection.init(e.contacts,!0)}},{key:"render",value:function(){var e=this,t=this.props.contacts;if(!t)return null;var n=f.default.size(t)?f.default.map(t,function(t){return u.createElement(p.default,{contact:t,active:e.selection,onDelete:e.props.onDelete,onClick:e.onParticipantClick,type:d.Type.SMALL,key:t.id.toString(),theme:e.props.theme,waitIdle:!0})}):null,a={up:this.focusPrev,down:this.focusNext};this.props.onDelete&&(a[l10n.LR("left","right")]=this.focusPrev,a[l10n.LR("right","left")]=this.focusNext,a.backspace=this.deleteContact);var r=u.createElement("ul",null,n);return u.createElement(m.default,{handlers:a},r)}}]),t}(u.PureComponent);v.displayName="ParticipantList",t.default=v},dfihaffaee:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){e.preventDefault(),e.stopPropagation()}function s(e){if(!(e.target instanceof HTMLElement))return null;var t=parseInt(e.target.dataset.emojiIndex,10);return isNaN(t)?null:t}Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_WIDTH=t.EMOJI_HEIGHT=t.SIDE_MARGIN=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("djegeegcbf"),p=a(d),h=n("fifhbjiec"),m=a(h),b=n("dadidajbgf"),g=a(b),v=n("bhhdeihhhf"),y=a(v),_=n("dbgdaechch"),E=n("bfejacaeaj"),j=a(E),w=n("gaifbabbj"),O=n("gbfffciea"),C=a(O),S=n("bggjbiacd"),P=a(S),M=n("dcjdgceiej"),T=a(M),k=n("dhfbfehaef"),N=a(k),I=n("caffijjhc"),R=a(I),A=n("eecehffbj"),D=n("dfbhcehadj"),x=a(D),L=n("eceadcicaf"),F=a(L),U=n("ddajbaceej"),B=n("ejbdjaifi"),G=n("decfjabfdj"),V=a(G),W=(t.SIDE_MARGIN=parseInt(V.default["-side-margin"],10),t.EMOJI_HEIGHT=parseInt(V.default["-emoji-height"],10),t.EMOJI_WIDTH=parseInt(V.default["-emoji-width"],10),function(e){function t(){var e,n,a,i;r(this,t);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={skinTonePicker:null},a._lastFocusedElement=null,a._closeSkinTonePicker=function(){var e=a.state.skinTonePicker&&a.state.skinTonePicker.anchor;e&&e instanceof HTMLElement&&a._focusElement(e),a.setState({skinTonePicker:null})},a._setEmojiVariant=function(e,t,n){l(e),x.default.setVariant(t,n),a._handleEmoji(t)},a._clearPickerTimer=function(){a._pickerTimer&&clearTimeout(a._pickerTimer)},a._showContextMenu=function(e,t,n){var r=p.default.skinToneEmojis[e];if(r){var o=A.SKIN_TONE_VARIATIONS.map(function(t){var n=p.default.variantToUnicode(r,t);return f.createElement(y.default,{type:"emoji",key:n,a8n:"mi-emoji-variant",action:function(t){return a._setEmojiVariant(t,e,n)}},f.createElement(m.default,{text:n,formatters:w.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))});a.setState({skinTonePicker:{menu:o,anchor:t,type:"picker",dirX:_.DirX.RIGHT,dirY:_.DirY.TOP,horizontal:!0,autoFocus:n}})}},a._handleEmoji=function(e){var t=e;if(p.default.skinToneEmojis[t]){var n=x.default.getVariantIfExists(t);if(null!=n)t=n;else if(a.props.allowVariantPrompt)return!0}a.props.onEmoji(t)},a._handleEmojiArrowDown=function(e){l(e);var t=s(e);null!=t&&a.props.focusBelow&&a.props.focusBelow(t)},a._handleEmojiArrowLeft=function(e){l(e);var t=s(e);if(null!=t){var n=t-1;if(n<0)return void a.props.focusAbove(a.props.numColumns-1);a.focusEmojiAt(n)}},a._handleEmojiArrowRight=function(e){l(e);var t=s(e);if(null!=t){var n=t+1;if(n>=a.props.emojiIds.length)return void(a.props.focusBelow&&a.props.focusBelow(0));a.focusEmojiAt(n)}},a._handleEmojiArrowUp=function(e){l(e);var t=s(e);null!=t&&a.props.focusAbove(t)},a._handleEmojiEnter=function(e){l(e);var t=s(e);a._selectEmojiAt(t)},a._handleClick=function(e){l(e);var t=s(e);a._selectEmojiAt(t)},a._handleContextMenu=function(e){l(e);var t=a._getEmojiUnicode(e);t&&e.target instanceof HTMLElement&&a._showContextMenu(t,e.target)},a._handleMouseDown=function(e){l(e);var t=e.target;if(t instanceof HTMLElement){var n=a._getEmojiUnicode(e);n&&a._startPickerTimer(n,t)}},a._setRefEmojis=function(e){a.refEmojis=e},i=n,o(a,i)}return i(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.emojiIds!==e.emojiIds||this.state.skinTonePicker!==t.skinTonePicker}},{key:"componentWillReceiveProps",value:function(e){this.state.skinTonePicker&&this._closeSkinTonePicker()}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(x.default,"add remove change:variant",function(){return e.forceUpdate()})}},{key:"focusEmojiAt",value:function(e){var t=this._getRefEmojiAt(e);t&&this._focusElement(t)}},{key:"selectFirstEmoji",value:function(){this._selectEmojiAt(0)}},{key:"restoreFocus",value:function(){this._lastFocusedElement&&this._focusElement(this._lastFocusedElement)}},{key:"_focusElement",value:function(e){var t=parseInt(e.dataset.emojiIndex,10);isNaN(t)||((0,U.focus)(e,{preventScroll:!0}),this.props.onEmojiFocus(e),this._lastFocusedElement=e)}},{key:"_selectEmojiAt",value:function(e){if(null!=e){var t=this.props.emojiIds[e],n=p.default.getUnicodeFromEmoji(t);if(n){var a=this._getRefEmojiAt(e);if(a){this._clearPickerTimer();this._handleEmoji(n)&&this._showContextMenu(n,a,!0)}}}}},{key:"_getEmojiUnicode",value:function(e){var t=s(e);if(null!=t){var n=this.props.emojiIds[t],a=p.default.getUnicodeFromEmoji(n);return a||null}}},{key:"_getRefEmojiAt",value:function(e){var t=this.props.emojiIds.length-1,n=Math.max(Math.min(e,t),0);if(this.refEmojis)return this.refEmojis.children[n]}},{key:"_startPickerTimer",value:function(e,t){var n=this;this._clearPickerTimer(),this._pickerTimer=setTimeout(function(){delete n._pickerTimer,n.props.listeners.addOnce(C.default,"window_click",l),n._showContextMenu(e,t)},250),this.props.listeners.addOnce(window,"mouseup",this._clearPickerTimer,!0)}},{key:"render",value:function(){var e=void 0;this.state.skinTonePicker&&(e=f.createElement(R.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this._closeSkinTonePicker,requestRecentFocusOnUnmount:!1},f.createElement(g.default,{tooltip:this.state.skinTonePicker})));var t=this.props.emojiIds;return t.length?f.createElement("div",{className:V.default.panel},f.createElement(N.default,{onMouseDown:this._handleMouseDown,onClick:this._handleClick,onContextMenu:this._handleContextMenu,handlers:{up:this._handleEmojiArrowUp,down:this._handleEmojiArrowDown,left:this._handleEmojiArrowLeft,right:this._handleEmojiArrowRight,enter:this._handleEmojiEnter}},f.createElement("div",{ref:this._setRefEmojis,className:V.default.section},t.map(function(e,t){var n=p.default.getUnicodeFromEmoji(e),a=x.default.getVariantIfExists(n);return f.createElement(P.default,{element:"span",emoji:a||n,size:"large",key:e,tabIndex:"-1","data-emoji-index":t})}))),e):null}}]),t}(f.Component));W.contextTypes={uim:j.default.instanceOf(T.default)},W.displayName="EmojiRow";var H=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"focusEmojiAt",value:function(e){this.getComponent().focusEmojiAt(e)}},{key:"selectFirstEmoji",value:function(){this.getComponent().selectFirstEmoji()}},{key:"restoreFocus",value:function(){this.getComponent().restoreFocus()}}]),t}((0,F.default)((0,B.hoc)(W)));t.default=H},dfjgaaeeeb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){e.resend().catch(function(e){v.default.log("msg_media_fail_icon:resend failure: "+e)()})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("eadfaddcj"),d=a(f),p=n("ebijaadcje"),h=a(p),m=n("ccaaiecfib"),b=a(m),g=n("bdiiahhjbe"),v=a(g),y=n("bffjfbgbg"),_=a(y),E=n("caeigdhgia"),j=a(E),w=n("ihfccfgdf"),O=a(w),C=n("ejbdjaifi"),S=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.displayType,n=e.mediaData,a=e.msg,r=t===d.default.DISP_TYPE.CONVERSATION,o=n.mediaStage;if(o===_.default.STAGE.ERROR_TOO_LARGE)return c.createElement(j.default,{displayType:this.props.displayType,mediaType:n.type});if(a.isUnsentMedia&&(o===_.default.STAGE.ERROR_MISSING||o===_.default.STAGE.ERROR_UNSUPPORTED))return c.createElement(h.default,{displayType:this.props.displayType,tooltip:l10n.t("send_failed")});if(a.isFailed){if(o===_.default.STAGE.ERROR_MISSING)return c.createElement(h.default,{displayType:this.props.displayType,tooltip:l10n.t("unsent_file_not_on_phone")});if(a.type===d.default.MSG_TYPE.PTT&&o===_.default.STAGE.PREPARING)return c.createElement(h.default,{displayType:this.props.displayType,tooltip:l10n.t("ptt_failed")});if(b.default.supportsFeature(b.default.F.RESEND_ICON)&&r&&o!==_.default.STAGE.REMOTE_UPLOADING)return c.createElement(h.default,{displayType:this.props.displayType,onClick:l.bind(null,a),tooltip:l10n.t("resend_message")})}return null}}]),t}(u.PureComponent);S.CONCERNS={msg:["isFailed","isMMS","type","isUnsentMedia"],mediaData:["mediaStage","type"]},S.displayName="MsgMediaFailIcon",t.default=(0,O.default)((0,C.hoc)(S),S.CONCERNS)},dfjhjafaab:function(e,t,n){"use strict";function a(){return r+"?lg="+l10n.getLocale()}Object.defineProperty(t,"__esModule",{value:!0}),t.getTosUrl=a;var r="https://www.whatsapp.com/legal/"},dfjibhjhde:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("djcchigfih"),f=a(c),d=n("djbhiedbef"),p=a(d),h=n("dajffajabh"),m=a(h),b=n("ddajbaceej"),g=a(b),v=n("dhfbfehaef"),y=a(v),_=n("bbhhbdicgc"),E=a(_),j=n("bggeiidigb"),w=a(j),O=n("dbciicjiad"),C=a(O),S=n("chcadgfgad"),P=a(S),M=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.flatListController=new w.default,a.listRef=u.createRef(),a.searchRef=u.createRef(),a.onNext=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.selection;t&&t.setNext(!0)},a.onPrev=function(e){var t=a.props.selection;if(t){e.preventDefault(),e.stopPropagation();t.prev()>-1?t.setPrev(!0):(t.unset(),(0,v.shouldIndicateFocus)(),g.default.focus(a.searchRef.current))}},a.onFocusList=function(e){a.listRef.current&&(e.preventDefault(),e.stopPropagation(),(0,v.shouldIndicateFocus)(),a.props.selection.setFirst(!0))},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.data[0];t&&a.props.onSelect(e,t)},a.onSearch=function(e){a.props.onSearch(e)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.onCancel,a=e.onSearch,r=e.searchPlaceholder,o=e.renderItem,i=e.data,l=e.emptyState,s={down:this.onFocusList,enter:this.onSelectFirst},c={down:this.onNext,up:this.onPrev},d=void 0;a&&(d=u.createElement(y.default,{handlers:s},u.createElement(C.default,{ref:this.searchRef,onSearch:this.onSearch,placeholder:r||l10n.t("search")})));var b=i.length?u.createElement(y.default,{handlers:c},u.createElement(E.default,{data:i,ref:this.listRef,flatListController:this.flatListController,renderItem:o})):l;return u.createElement(P.default,{type:S.TowerModalType},u.createElement(f.default,{key:"contact-modal"},u.createElement(m.default,{title:t,type:h.DRAWER_HEADER_TYPE.POPUP,onCancel:n}),d,u.createElement(p.default,{flatListControllers:[this.flatListController]},b)))}}]),t}(u.Component);M.displayName="ListModal",t.default=M},dgacgafafa:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.id,n=e.name,a=e.url;return i.createElement("div",{className:c.default.container},a?i.createElement("div",{className:(0,s.default)(c.default.centerChild,c.default.show),"data-id":t},i.createElement(h.default,{alt:n,className:c.default.image,draggable:!1,renderError:d.default,renderLoading:d.default,src:a})):i.createElement(d.default,null))}Object.defineProperty(t,"__esModule",{value:!0});var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("cegfacfjjj"),c=a(u),f=n("dabcbibhcf"),d=a(f),p=n("cajbifjffe"),h=a(p);r.displayName="StickerPackIcon",t.default=r},dgafbfebjc:function(e,t){e.exports={muted:"_1qcHB",drawerHeader:"_3jHKU",drawerTitle:"kyJvR",drawerTitleBody:"_1pYs5",side:"_2aXcZ",drawerTitleAction:"_2DP8_",multiMediaGallery:"_1lH_n",drawerHeaderSmall:"kiodY",drawerHeaderOffset:"_1WD8C",drawerHeaderPopup:"_3D31H",btnCloseDrawer:"qfKkX",paneListControls:"_278GW",labels:"_1B-sv"}},dgbdeadddb:function(e,t){e.exports={muted:"gH-j6",wrapper:"_3X58t"}},dgbgffeagd:function(e,t){e.exports={muted:"nPosn",form:"_3kwMq",section:"_1uPiZ","well-animation2":"_15B5F",wellAnimation2:"_15B5F",circle:"_-8BIx",spinner:"_3KXbS",container:"_2P4q4",show:"_3sWdJ",circleContainer:"_2rX2L",checkmarkContainer:"_3jFIN",errorContainer:"_3YmAb",checkmark:"_5l4bP",error:"MvlBm",errorBanner:"_1R7_5",code:"VAFJk",row:"Qbg1O",block:"_3AGqJ",digit:"_34OSk",explanation:"IZN7H",dragAndDropExplanation:"_11TWN",photo:"qf2_G","drawer-scale":"_37SXd",drawerScale:"_37SXd",webcam:"_3SsE0",webcamVideo:"_3IjvS",btnClose:"_3BPH7",overlay:"Xjgzr"}},dgbjhghjfc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("hddfjdhii"),o=a(r),i=n("chgaccicf"),l=a(i),s=(0,l.default)(o.default);t.default=s},dgcbhjfhad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("begdabbfeh"),f=a(c),d=n("bfdcadbbif"),p=a(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.createElement("div",{className:f.default.panel},u.createElement("div",{className:f.default.body},this.props.children),u.createElement("div",{className:f.default.cancelButton},u.createElement("div",{role:"button",onClick:this.props.onOmit},u.createElement(p.default,{name:"x"}))))}}]),t}(u.PureComponent);h.displayName="PopupPanel",t.default=h},dgdadejebh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.msg,n=e.link,a=e.displayType;if(!t&&!n)return null;var o=void 0;if(n)n.suspiciousCharacters&&n.suspiciousCharacters.size&&(o=l10n.t("suspicious_link_label"));else if(t){var i=t.getSuspiciousLinks().length;if(i){var s=t.getLinks().length;o=1===s||a===u.default.DISP_TYPE.GALLERY?l10n.t("suspicious_link_label"):l10n.t("suspicious_link_label_multiple",{count:i,_plural:i})}}return o?l.createElement("div",{className:(0,f.default)(p.default.container,r({},p.default.isLinkMsg,Boolean(n)))},l.createElement(m.default,{name:"alert",display:"inline"}),l.createElement("span",{className:p.default.text},o)):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("eadfaddcj"),u=a(s),c=n("ceffhbhahb"),f=a(c),d=n("djggfadejg"),p=a(d),h=n("bfdcadbbif"),m=a(h);o.displayName="SuspiciousLabel"},dgdeceggdh:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function e(t){a(this,e),this.promise=t,this.lastUsedTime=this.createdTime=+Date.now()},i=function(){function e(t,n){var r=n.maxCached,o=void 0===r?10:r,i=n.maxAge,l=void 0===i?1/0:i,s=n.shouldCache;a(this,e),this._cache={},this._maxCached=o,this._maxAge=l,this._createPromiseFunc=t,this._shouldCacheFunc=s}return r(e,[{key:"getOrRun",value:function(e){var t=this,n=this._cache;if(this._maxAge!==1/0)for(var a=Date.now()-this._maxAge,r=Object.keys(n),i=0;i<r.length;i++){var l=r[i];n[l].createdTime<a&&delete n[l]}var s=n[e];if(s)return s.lastUsedTime=+Date.now(),s.promise;var u=Object.keys(n);if(u.length>=this._maxCached){for(var c=void 0,f=void 0,d=0;d<u.length;d++){var p=u[d],h=n[p];(!f||h.lastUsedTime<f)&&(f=h.lastUsedTime,c=p)}c&&delete n[c]}for(var m=arguments.length,b=Array(m>1?m-1:0),g=1;g<m;g++)b[g-1]=arguments[g];var v=this._createPromiseFunc.apply(void 0,[e].concat(b));return n[e]=new o(v),v.then(function(n){var a=t._shouldCacheFunc;a&&t._cache[e]===v&&!a(n)&&delete t._cache[e]}).catch(function(){t._cache[e]===v&&delete t._cache[e]}),v}}]),e}();e.exports=i},dgdegachj:function(e,t){e.exports={muted:"_3GyxT",secondaryDetailContainer:"_1z1e6"}},dgefajbgai:function(e,t){e.exports={muted:"_1lp_L",item:"_22OEK",itemBody:"_317xe",row:"_22FXD",main:"_2s00i",side:"_3BAin",primary:"_1VI-m",secondary:"fwByR"}},dgfcjhijbf:function(e,t,n){"use strict";var a=n("bdiiahhjbe"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o={queryVname:function(e){var t=this;return new Promise(function(n,a){var o=function(o){t.BinaryProtocol.read(o).then(function(a){var o=void 0;r.default.logColor("green","bin-recv: response,vname",a)(),"response"===t.N.tag(a)&&"vname"===t.N.attr("type",a)&&(o=t.parseContact(t.N.child("user",a),e)),n(o)}).catch(a)},i=t.queryNode({type:"vname",jid:e},void 0);t.binSend("sendEphemeral",i,a,{onSend:t.binWrap(o,n),onDrop:t.wrap(a)},{debugString:"query,vname,"+e,metric:t.M.QUERY_VNAME})})}};e.exports=o},dgfecega:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){var a=e.clientWidth,r=e.clientHeight,o=t,i=n,l=0,s=0;return o!==a&&(i*=a/o,o=a,i>r&&(l=r/2-i/2)),i<r&&(o*=r/i,i=r,o>a&&(s=a/2-o/2)),{style:{width:o,height:i,top:l,left:s,position:"absolute"},className:(0,v.default)(C.default.fit)}}function u(e,t,n){var a=e.clientWidth,r=e.clientHeight,o=t,i=n,l=0,s=0;return o/a>i/r?(i*=a/o,o=a,i<r&&(l=r/2-i/2)):(o*=r/i,i=r,o<a&&(s=a/2-o/2)),{style:{width:o,height:i,top:l,left:s,position:"absolute"},className:(0,v.default)(C.default.fit)}}function c(e,t,n){var a=e.clientWidth,r=e.clientHeight,o=n,i=t;return o>r&&(o=r,i=t*(r/n)),i>a&&(i=a,o=n*(a/t)),{style:{width:i,height:o},className:(0,v.default)(C.default.fit,C.default.fitScaledown)}}function f(e,t,n,a){var r=c(e,t,n).style,o=void 0;return o=a?{width:r.width,height:r.height,transition:S,transform:"translateX("+a.translateX+"px) translateY("+a.translateY+"px) scale("+a.factor+")"}:{width:r.width,height:r.height,transition:S},{style:o,className:(0,v.default)(C.default.fit,C.default.fitScaledown,C.default.fitZoomin)}}Object.defineProperty(t,"__esModule",{value:!0}),t.FIT_TYPE=void 0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=n("ddhijeejag"),m=a(h),b=n("bgddggdhc"),g=n("ceffhbhahb"),v=a(g),y=n("eceadcicaf"),_=a(y),E=n("ejbdjaifi"),j=n("bdiiahhjbe"),w=a(j),O=n("bfihjhiege"),C=a(O),S=(t.FIT_TYPE={CONTAIN:"contain",COVER:"cover",SCALE_DOWN:"scaleDown",ZOOM_IN:"zoomIn"},"transform 300ms cubic-bezier(.1,.82,.25,1)"),P=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefObject=function(e){return n.refObject=e},n.onObjectLoad=function(){var e=n.props.onObjectLoad;e&&n.refObject&&n.refObject.firstChild&&e(n.refObject.firstChild)},n.state={style:{visibility:"hidden"},className:(0,v.default)(C.default.fit)},n}return l(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this;this.shouldUseNativeObjectFit()||(this.initialize(this.props),this.props.listeners.add(window,"resize",function(){e.initialize(e.props)}))}},{key:"componentWillReceiveProps",value:function(e){this.shouldUseNativeObjectFit()||this.initialize(e)}},{key:"initialize",value:function(e){var t=e.size,n=e.type;if(t){var a=(0,b.forbiddenAssertDOMNode)(this),r=void 0;switch(n){case"contain":r=u(a,t.width,t.height);break;case"cover":r=s(a,t.width,t.height);break;case"scaleDown":r=c(a,t.width,t.height);break;case"zoomIn":r=f(a,t.width,t.height,e.zoomIn);break;default:return void w.default.assert(!1,"object-fit","unrecognized type "+n)()}this.setState(r,this.onObjectLoad)}}},{key:"shouldUseNativeObjectFit",value:function(){return!1}},{key:"render",value:function(){if(this.shouldUseNativeObjectFit())return m.default.createElement("div",{className:C.default.nativeScaleDown},this.props.children);var e=this.props,t=this.state,n=(0,v.default)(t.className,r({},C.default.fitRelative,"relative"===e.position)),a=this.props.objectPosition?d({},t.style,{position:this.props.objectPosition}):t.style;return m.default.createElement("div",{className:n},m.default.createElement("div",{style:a,ref:this.setRefObject},e.children))}}]),t}(h.Component);P.displayName="ObjectFit",t.default=(0,_.default)((0,E.hoc)(P))},dgfhiaehb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("cjijggjfed"),p=a(d),h=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._setRef=function(e){a._ref=e},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.carouselNumColumns,a=e.index,r=e.menuWidth,o=r?f.default.round(r/n)+"px":100/n+"%",i=0!==a&&(t<=0||t>=n),l=l10n.isRTL()?-1:1;return u.createElement(p.default,{onRef:this._setRef,onClick:this.props.onClick,sectionId:a,selected:this.props.selected,theme:i?d.THEMES.CAROUSEL_END:d.THEMES.CAROUSEL,transform:"translateX("+100*t*l+"%)",width:o},this.props.children)}}]),t}(u.PureComponent);h.displayName="CarouselMenuItem",t.default=h},dggbjaijga:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("fffdgbfji"),h=a(p),m=n("cdegfghcid"),b=a(m),g=n("bfdcadbbif"),v=a(g),y=n("fabjefgai"),_=a(y),E=n("ceffhbhahb"),j=a(E),w=n("jccfhaecf"),O=a(w),C=n("didfdhbecg"),S=a(C),P=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.shouldAnimate=!1,i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillUpdate",value:function(e){this.shouldAnimate=O.default.equals(this.props.chat.id,e.chat.id)}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.mute,a=n.isMuted?u.createElement("div",{className:_.default.icon,key:"icon-muted"},u.createElement(v.default,{name:"muted"})):null,r=t.pin?u.createElement("div",{className:_.default.icon,key:"icon-pinned"},u.createElement(v.default,{name:"pinned"})):null,o=0!==t.unreadCount?u.createElement("div",{className:_.default.icon,key:"icon-unread"},u.createElement(b.default,{count:t.unreadCount})):null,i=t.archive?u.createElement("span",{className:(0,j.default)(_.default.icon,_.default.archived),key:"icon-archived"},h.default.t("chat_archived")):null;return u.createElement(S.default,{transitionName:"pop",transitionEnter:this.shouldAnimate,transitionLeave:this.shouldAnimate},a,i,r,o)}}]),t}(u.PureComponent);P.CONCERNS={chat:["id","unreadCount","archive","pin"],mute:["isMuted"]},P.displayName="Icons",t.default=(0,f.default)((0,d.hoc)(P),P.CONCERNS)},dggccgeid:function(e,t){e.exports={muted:"_1E-HR",content:"_1VwzF"}},dggeggcjcd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e.join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("hbhijdici"),d=a(f),p=n("dhbceejbjg"),h=a(p),m=n("dbdfbgehgj"),b=a(m),g=n("gbfffciea"),v=a(g),y=n("cdbcigcahd"),_=a(y),E=n("fffdgbfji"),j=a(E),w=n("fifhbjiec"),O=a(w),C=n("dhhfaeacef"),S=a(C),P=n("bidfjbaebi"),M=n("bahgfcjcda"),T=a(M),k=n("eagfdbhhhh"),N=n("cgfjebhhej"),I=a(N),R=n("dcbdjheea"),A=n("djbfhebjhe"),D=a(A),x=n("bfdcadbbif"),L=a(x),F=n("dggccgeid"),U=a(F),B=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"openChat",value:function(e){v.default.closeModal(),b.default.find((0,R.numberToWid)(e)).then(function(e){v.default.openChatFromUnread(e).then(function(t){t&&v.default.focusChatTextInput(e)})})}},{key:"sendEmail",value:function(e){var t="mailto:"+e;(0,P.openExternalLink)(t)}},{key:"openLocation",value:function(e){var t=d.default.map(d.default.filter(e),encodeURIComponent).join(", "),n="https://maps.google.com/maps/search/"+t+"?hl="+j.default.getLocale();(0,P.openExternalLink)(n)}},{key:"getHeader",value:function(){var e=this.props.parsedVCard,t=I.default.vcardWAids(e),n=c.default.createElement(O.default,{text:I.default.getNameFromParsedVCard(e),direction:"auto",titlify:!0,ellipsify:!0,selectable:!0}),a=I.default.getOrganizationString(e),r=c.default.createElement(T.default,{thumb:this.props.thumbnail,size:S.default.Size.SMALL,waid:I.default.thumbnailWAid(t)});return c.default.createElement(h.default,{image:r,theme:"plain",primary:n,secondary:a})}},{key:"render",value:function(){var e=this,t=this.props.parsedVCard,n=d.default.filter(t.TEL,function(e){return e.properties.waid}),a=d.default.filter(t.TEL,function(e){return!e.properties.waid}),r=d.default.map(n,function(t){var n=d.default.first(t.properties.waid),a=function(){return e.openChat(n)},r=c.default.createElement(L.default,{name:"chat",onClick:a}),o=c.default.createElement(k.SelectableSpan,{selectable:!0},(0,D.default)(n));return c.default.createElement(_.default,{title:o,icon:r,key:"vCard-"+String(t.index)},I.default.getType(t))}),o=d.default.map(t.EMAIL,function(t){return c.default.createElement(_.default,{title:j.default.forceLTR(t.value),onClick:function(){return e.sendEmail(t.value)},key:"vCard-"+String(t.index)},I.default.getType(t))}),i=d.default.map(t.ADR,function(t){var n=l(t.value);return c.default.createElement(_.default,{title:n,onClick:function(){return e.openLocation(t.value)},key:"vCard-"+String(t.index)},I.default.getType(t))}),s=d.default.map(a,function(e){return c.default.createElement(_.default,{title:j.default.forceLTR(e.value),key:"vCard-"+String(e.index)},I.default.getType(e))}),u=d.default.map(t.SERVICE,function(e){return c.default.createElement(_.default,{title:e.value,key:"vCard-"+String(e.index)},I.default.getType(e))}),f=d.default.map(t.BDAY,function(e){return c.default.createElement(_.default,{title:I.default.getDate(e.value),key:"vCard-"+String(e.index)},j.default.t("vcard_birthday"))}),p=d.default.map(t.NICKNAME,function(e){return c.default.createElement(_.default,{title:e.value,key:"vCard-"+String(e.index)},j.default.t("vcard_nickname"))}),h=this.getHeader();return c.default.createElement("div",null,h,c.default.createElement("div",{className:U.default.content},r,o,i,s,f,p,u))}}]),t}(u.Component);B.displayName="VCardModalDetails",t.default=B},dggfjficbb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("djcchigfih"),f=a(c),d=n("dajffajabh"),p=a(d),h=n("djbhiedbef"),m=a(h),b=n("begicajfb"),g=a(b),v=n("icghcjegh"),y=a(v),_=n("bfdcadbbif"),E=a(_),j=n("bijffg"),w=a(j),O=n("dceicchccd"),C=a(O),S=n("baiheeddah"),P=a(S),M=n("ejbdjaifi"),T=n("eceadcicaf"),k=a(T),N=n("bhfdfhefca"),I=n("bhhdeihhhf"),R=a(I),A=n("dbgdaechch"),D=a(A),x=n("cbcbdjdah"),L=a(x),F=n("gbfffciea"),U=a(F),B=n("biddiiafgd"),G=a(B),V=n("bddhdheedf"),W=n("bfbggcdbfb"),H=a(W),Y=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.openColorPicker=function(){var t=e.props.labelId,n=w.default.assertGet(t);e.props.openLabelColorDrawer(e.props.labelId,n.color)},e.openEditLabel=function(){e.props.onEditLabel&&e.props.onEditLabel(e.props.labelId)},e.onCancelLabelSelection=function(){e.multiSelection.unsetAll()},e.renderMenu=function(){return u.createElement(N.MenuBarItem,{a8nText:"starred-menu",icon:u.createElement(E.default,{name:"menu-white"}),title:l10n.t("menutitle_menu")},u.createElement(D.default,{type:"dropdown_menu",flipOnRTL:!0,key:"labelChooseColor",dirX:"LEFT"},u.createElement(R.default,{a8n:"menu-item",action:e.openColorPicker},l10n.t("label_choose_color_title")),u.createElement(R.default,{a8n:"menu-item",action:e.openEditLabel},l10n.t("edit_label_title"))))},e.onRemoveLabel=function(){var t=e.multiSelection.getSelected(),n=e.props,a=n.onRemoveLabel,r=n.labelId;if(a){var o=w.default.assertGet(r);(0,V.logLabelOperationEvent)(H.default.LABEL_OPERATIONS.VIEW,t.length,H.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),U.default.openModal(u.createElement(G.default,{title:l10n.t("remove_label_confirm_message",{count:t.length,labelName:o.name,_plural:t.length}),okText:l10n.t("web_ok"),cancelText:l10n.t("web_cancel"),onCancel:e._closeModal,onOK:e.onRemoveLabelConfirmed.bind(null,r,t)}))}},e._closeModal=function(){var t=e.multiSelection.getSelected();(0,V.logLabelOperationEvent)(H.default.LABEL_OPERATIONS.CLICK_NEGATIVE,t.length,H.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),U.default.closeModal()},e.onRemoveLabelConfirmed=function(t,n){U.default.closeModal(),e.onCancelLabelSelection(),e.props.onRemoveLabel(t,n),(0,V.logLabelOperationEvent)(H.default.LABEL_OPERATIONS.CLICK_POSITIVE,n.length,H.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)},e.multiSelection=new C.default([],function(e){return e.id.toString()}),e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;this.props.listeners.add(this.multiSelection,"all",function(){return e.forceUpdate()}),(0,V.logLabelOperationEvent)(H.default.LABEL_OPERATIONS.VIEW,void 0,H.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}},{key:"hasMixedSelection",value:function(e){for(var t=void 0,n=void 0,a=0;a<e.length;a++){if(e[a]instanceof L.default?n=!0:t=!0,t&&n)return!0}return!1}},{key:"render",value:function(){var e=this.props.labelId,t=this.multiSelection.getSelected(),n=this.hasMixedSelection(t),a=parseInt(w.default.assertGet(e).count,10),r=this.multiSelection.getSelected().length>0?u.createElement(P.default,{labelEditEnabled:!n,onRemoveLabel:this.onRemoveLabel,selectedModels:this.multiSelection,onCancel:this.onCancelLabelSelection,theme:"drawer-header"}):u.createElement(p.default,{onBack:this.props.onClose,menu:a>0?this.renderMenu():void 0,type:d.DRAWER_HEADER_TYPE.LABELS},u.createElement(y.default,{labels:[this.props.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"}));return u.createElement(f.default,{theme:"settings"},r,u.createElement(m.default,null,u.createElement(g.default,{hideMultiSelectBar:!0,multiSelection:this.multiSelection,labelFilter:this.props.labelId,selectable:!0})))}}]),t}(u.PureComponent);Y.displayName="LabelItemDrawer",t.default=(0,k.default)((0,M.hoc)(Y))},dggicghjch:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("effbcehec"),d=a(f),p=n("bjigbaghc"),h=a(p),m=n("dhigahgdjb"),b=a(m),g=n("bggeiidigb"),v=a(g),y=n("cicjcfabii"),_=a(y),E=n("bbhhbdicgc"),j=a(E),w=n("bgcdajbhif"),O=a(w),C=n("cgebaggcga"),S=a(C),P=n("eceadcicaf"),M=a(P),T=n("ejbdjaifi"),k=n("cicgeajfge"),N=n("gdhdegbhg"),I=a(N),R=n("dhhfaeacef"),A=a(R),D=n("ccaaiecfib"),x=a(D),L=n("fffdgbfji"),F=a(L),U=n("bjebjijbfc"),B=a(U),G=n("bfdcadbbif"),V=a(G),W=n("cajjfeahjc"),H=a(W),Y=n("cahfddcdga"),q=a(Y),K=n("bfgbdiffgd"),z=a(K),Q={SEC_UNREAD:"SEC_UNREAD",SEC_READ:"SEC_READ",SEC_MUTED:"SEC_MUTED",ROW_STATUS:"ROW_STATUS"},X=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));J.call(e);var n=e.getUnreadStatusList(),a=e.getReadStatusList(),l=[].concat(r(n),r(a)).filter(function(e){return e.contact.statusMute});return e.state={unreadStatusList:n.filter(function(e){return!e.contact.statusMute}),readStatusList:a.filter(function(e){return!e.contact.statusMute}),mutedStatusList:l,myStatus:O.default.getMyStatus()},e}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(O.default,"add remove bulk_add sort change:msgsChanged change:hasUnread",this.onStatusChange),this.props.listeners.add(b.default,"change:statusMute",this.onContactMuteChange),this.props.listeners.add(O.default,"sync")}},{key:"getUnreadStatusList",value:function(){return O.default.getUnexpired(!0)}},{key:"getReadStatusList",value:function(){return O.default.getUnexpired(!1)}},{key:"getData",value:function(){var e=this.state,t=e.unreadStatusList,n=e.readStatusList,a=e.mutedStatusList,o=[];return t.length>0&&(o.push({type:Q.SEC_UNREAD,key:"section-unread",height:48}),o.push.apply(o,r(t.map(function(e,t){return{type:Q.ROW_STATUS,key:e.id.toString(),height:64,status:e,index:t}})))),n.length>0&&(o.push({type:Q.SEC_READ,key:"section-read",height:48}),o.push.apply(o,r(n.map(function(e,t){return{type:Q.ROW_STATUS,key:e.id.toString(),height:64,status:e,index:t}})))),a.length>0&&(o.push({type:Q.SEC_MUTED,key:"section-muted",height:48}),o.push.apply(o,r(a.map(function(e,t){return{type:Q.ROW_STATUS,key:e.id.toString(),height:64,status:e,index:t}})))),o}},{key:"render",value:function(){var e=this.getData(),t=void 0;return t=O.default.hasSynced()&&e.length>0?c.default.createElement(j.default,{className:"statusList",flatListController:this.flatListController,data:e,renderItem:this.renderItem}):c.default.createElement(k.ListStatus,null),c.default.createElement("div",{className:H.default.listPanel},c.default.createElement(Z,{statusV3:this.state.myStatus,onOpenStatus:this.props.onOpenStatus}),c.default.createElement(_.default,{className:H.default.listBody,flatListControllers:[this.flatListController]},t))}}]),t}(c.default.Component),J=function(){var e=this;this.flatListController=new v.default,this.onStatusChange=function(){var t=e.getUnreadStatusList(),n=e.getReadStatusList(),a=[].concat(r(t),r(n)).filter(function(e){return e.contact.statusMute});e.setState({unreadStatusList:t.filter(function(e){return!e.contact.statusMute}),readStatusList:n.filter(function(e){return!e.contact.statusMute}),mutedStatusList:a,myStatus:O.default.getMyStatus()})},this.onContactMuteChange=function(){var t=e.getUnreadStatusList(),n=e.getReadStatusList(),a=[].concat(r(t),r(n)).filter(function(e){return e.contact.statusMute});e.setState({unreadStatusList:t.filter(function(e){return!e.contact.statusMute}),readStatusList:n.filter(function(e){return!e.contact.statusMute}),mutedStatusList:a,myStatus:O.default.getMyStatus()})},this.renderItem=function(t){switch(t.type){case Q.SEC_UNREAD:return c.default.createElement("div",{className:H.default.listSectionSep},c.default.createElement("hr",null),c.default.createElement("div",{className:H.default.listSectionText},c.default.createElement("span",null,F.default.t("status_v3_recent_updates"))));case Q.SEC_READ:return c.default.createElement("div",{className:H.default.listSectionSep},c.default.createElement("hr",null),c.default.createElement("div",{className:H.default.listSectionText},c.default.createElement("span",null,F.default.t("status_v3_viewed_updates"))));case Q.SEC_MUTED:return c.default.createElement("div",{className:H.default.listSectionSep},c.default.createElement("hr",null),c.default.createElement("div",{className:H.default.listSectionText},c.default.createElement("span",null,F.default.t("status_v3_muted_updates"))));case Q.ROW_STATUS:var n=function(){return e.props.onOpenStatus(t.status,void 0,t.index)};return c.default.createElement(S.default,{statusV3:t.status,onClick:n,contact:t.status.contact});default:throw new E.UnknownDataError(t)}}};X.displayName="StatusV3ListPanel";var Z=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this,t=void 0,n=this.props.statusV3,a=void 0,r=void 0;n&&(r=n.msgs);var o=function(){var t=n&&n.msgs;n&&t&&t.length&&e.props.onOpenStatus(n,t.head(),0)},i=void 0,l=void 0;if(n&&r&&r.length){t=c.default.createElement(I.default,{statusV3:n,contact:n.contact,onClick:o});var s=(0,q.default)(r.last()).t;a=c.default.createElement("span",{className:H.default.secondaryHeaderText},z.default.statusRanking&&x.default.supportsFeature(x.default.F.STATUS_RANKING)?F.default.t("status_v3_num_read_updates",{count:r.length,_plural:r.length}):B.default.relativeDateAndTimeStr(s)),l={cursor:"pointer"},i=o}else t=c.default.createElement(A.default,{id:h.default.me,theme:"status_v3",size:40}),a=c.default.createElement("span",{"data-a8n":d.default.key("status-no-updates"),className:H.default.secondaryHeaderText},F.default.t("status_v3_no_updates"));var u=void 0,f=void 0;x.default.supportsFeature(x.default.F.STATUS_V3_UI_SENDING)&&(u=c.default.createElement(V.default,{name:"menu-white"}),f=c.default.createElement(V.default,{name:"status-v3-create"}));var p=c.default.createElement("span",{"data-a8n":d.default.key("my-status"),className:H.default.primaryHeaderText},F.default.t("status_v3_my_status"));return c.default.createElement("div",{className:H.default.panelHeader,style:l,onClick:i},c.default.createElement("div",{className:H.default.headerButtonsPrimary},t),c.default.createElement("div",{className:H.default.headerText},p,a),c.default.createElement("div",{className:H.default.headerButtonsSecondary},f,u))}}]),t}(c.default.Component);Z.displayName="StatusV3ListHeader",t.default=(0,M.default)((0,T.hoc)(X))},dghbeeheia:function(e,t){e.exports={muted:"_2AUIc",note:"lfgvk",icon:"OYyjt",noteBody:"_2QOAV"}},dghebhejhb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("cehjjfagii"),h=a(p),m=n("ihfccfgdf"),b=a(m),g=n("ejbdjaifi"),v=n("cieaeggjg"),y=a(v),_=n("bjddgjgae"),E=a(_),j=n("bgghfidcfh"),w=a(j),O=n("bcbhcfbjff"),C=a(O),S=n("ddbddjjgia"),P=n("ccaaiecfib"),M=a(P),T=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._stopPropagation=function(e){e.stopPropagation()},a._handleDownloadMedia=function(){return a.props.msg.downloadMedia()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia()}},{key:"render",value:function(){var e,t=this.props.msg,n=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,a=n?c.createElement("div",{className:C.default.author},c.createElement(h.default,{msg:t,contact:t.senderObj})):null,o=this.props.quotedMsg?c.createElement("div",{className:C.default.quote},this.props.quotedMsg):null,i=(0,d.default)(C.default.bubble,(e={},r(e,C.default.hasAuthor,n),r(e,C.default.isFirst,this.props.position===S.MsgPosition.FRONT||this.props.position===S.MsgPosition.SINGLE),r(e,C.default.isTransparent,!t.quotedMsg),e));return c.createElement("div",{className:i,onClick:this._stopPropagation},a,o,c.createElement("div",{className:C.default.body},c.createElement(E.default,{mediaData:this.props.mediaData,msg:t},c.createElement(w.default,{mediaData:this.props.mediaData,theme:"conversation",isNewMsg:t.isNewMsg,downloadMedia:M.default.supportsFeature(M.default.F.REPLACE_MEDIABLOB)?this._handleDownloadMedia:null})),c.createElement("div",{className:C.default.meta},c.createElement(y.default,{msg:t}))))}}]),t}(c.PureComponent);T.CONCERNS={msg:["isNewMsg","isSentByMe","isGroupMsg","senderObj","quotedMsg"]},T.displayName="StickerBubble",t.default=(0,b.default)((0,g.hoc)(T),T.CONCERNS)},dgibicjjj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ceffhbhahb"),u=a(s),c=n("ddhijeejag"),f=a(c),d=n("effbcehec"),p=a(d),h=n("fifhbjiec"),m=a(h),b=n("didfdhbecg"),g=a(b),v=n("becfabjeeg"),y=a(v),_=n("bfdcadbbif"),E=a(_),j=n("gaifbabbj"),w=n("dhbceejbjg"),O=a(w),C=n("bcibfcjcbf"),S=a(C),P=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hover:!1,contextMenu:!1},a.setRefContext=function(e){return a.refContext=e},a.handleMenuMouseDown=function(e){var t=a.props,n=t.contextEnabled,r=t.onContext;n()&&(e.stopPropagation(),e.preventDefault(),r&&r({anchor:e.target}))},a.handleMenuClick=function(e){e.stopPropagation()},a.onContextMenu=function(e){var t=a.props,n=t.contextEnabled,r=t.onContext;n()&&(e.stopPropagation(),e.preventDefault(),r&&r({event:e}))},a.openContextMenu=function(){a.props.contextEnabled()&&a.setState({contextMenu:!0},function(){if(!a.refContext)throw new Error("Context ref not set");a.refContext.click()})},a.mouseOver=function(){a.state.hover||a.props.contextMenu||!a.props.contextEnabled()||a.setState({hover:!0})},a.mouseEnter=function(){a.state.hover||a.props.contextMenu||!a.props.contextEnabled()||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.setState({hover:!1})},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillUpdate",value:function(e){this.props.contextMenu&&this.state.contextMenu&&!e.contextMenu&&this.setState({contextMenu:!1})}},{key:"render",value:function(){var e=this.props.contextMenu||this.state.contextMenu,t=e||this.state.hover,n=(0,u.default)(this.props.className,{hover:t}),a="string"==typeof this.props.primary?f.default.createElement(m.default,{text:this.props.primary,direction:"auto",formatters:j.Configuration.Search({terms:this.props.searchText?[this.props.searchText]:[]}),titlify:!0,ellipsify:!0}):this.props.primary,r=null,o=null;this.props.pendingAction?o=f.default.createElement("div",{className:S.default.btnContext},f.default.createElement(y.default,{size:18,stroke:6,color:"highlight"})):t&&(r=f.default.createElement("div",{"data-a8n":p.default.key("context-btn"),className:S.default.btnContext,key:"icon-context",ref:this.setRefContext,onMouseDown:this.handleMenuMouseDown,onClick:this.handleMenuClick},f.default.createElement(E.default,{name:"down"})));var i=f.default.createElement(g.default,{transitionName:"fade"},o),l=f.default.createElement(g.default,{transitionName:"pop-fast-chat"},t?r:null),s=void 0,d=void 0;return this.props.secondary?(s=this.props.primaryDetail,d=[f.default.createElement(c.Fragment,{key:"prop"},this.props.secondaryDetail),f.default.createElement(c.Fragment,{key:"spinner"},i),f.default.createElement(c.Fragment,{key:"button"},l)]):s=[f.default.createElement(c.Fragment,{key:"prop"},this.props.primaryDetail),f.default.createElement(c.Fragment,{key:"spinner"},i),f.default.createElement(c.Fragment,{key:"button"},l)],f.default.createElement(O.default,{image:this.props.image,customImage:this.props.customImage,className:n,unread:this.props.unread,active:this.props.active,dragging:this.props.dragging,theme:this.props.theme,primary:a,primaryDetail:s,secondary:this.props.secondary,secondaryDetail:d,detail:this.props.detail,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.contextEnabled()?this.onContextMenu:null,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null})}}]),t}(c.PureComponent);P.displayName="Cell",e.exports=P},dgiechcbec:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bbjdcggice"),f=a(c),d=n("fffdgbfji"),p=a(d),h=n("eighdgacb"),m=a(h),b=n("dgjddffcfg"),g=a(b),v=n("cjbgdeaacg"),y=a(v),_=n("cibcaiabfd"),E=a(_),j=n("fifhbjiec"),w=a(j),O=n("bhcdbgbbad"),C=a(O),S=n("iabebjcej"),P=a(S),M=n("ccaaiecfib"),T=a(M),k=n("gaifbabbj"),N=n("ihfccfgdf"),I=a(N),R=n("eceadcicaf"),A=a(R),D=n("ejbdjaifi"),x=n("bheafeifce"),L=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.updateAfterFeatureFlagChange=function(){a.props.listeners._unmounted||a.forceUpdate()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(T.default,T.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.searchQuery,a=void 0===n?[]:n,r=e.msgType,o=e.author,i=[];t.isSentByMe&&!t.isRevoked&&i.push(u.createElement(y.default,{msg:t,key:"symbol"})),"Search"===r||t.isSentByMe||!t.isGroupMsg||t.isNotification||i.push(u.createElement(f.default,{contact:t.senderObj,key:"author"})),o&&"Search"===r&&(i.push(u.createElement(w.default,{text:o,direction:"auto",key:"author"})),i.push(u.createElement("span",{key:"divider"},":"," "))),t.hasSymbol()&&i.push(u.createElement(E.default,{msg:t,key:"msg-symbol"})),t.isGroupNotification?i.push(u.createElement(C.default,{msg:t,clickable:!1,key:"status"})):t.isBroadcastNotification?i.push(u.createElement(P.default,{msg:t,clickable:!1,key:"broadcast_notification"})):i.push(u.createElement(w.default,{className:t.isRevoked?m.default.revoked:null,direction:t.dir,text:g.default.msgText((0,x.unproxy)(t),!1,!0),dirMismatch:t.rtl!==p.default.isRTL(),formatters:k.Configuration[r]({mentions:t.mentionMap(),terms:a}),ellipsify:!0,inlineblock:!0,key:"status"}));var l=p.default.embedDir(g.default.msgText((0,x.unproxy)(t)),t.rtl);return u.createElement("span",{className:m.default.last,title:l},i)}}]),t}(u.PureComponent);L.CONCERNS={msg:["dir","isGroupMsg","isGroupNotification","isBroadcastNotification","isNotification","isRevoked","isSentByMe","rtl","senderObj","type"]},L.displayName="LastMsg",t.default=(0,A.default)((0,I.default)((0,D.hoc)(L),L.CONCERNS))},dgihdjihd:function(e,t){e.exports={muted:"_1Zrf-",docGallery:"_1NuWB",spinner:"_2wsUd"}},dgijhbdidg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("hbhijdici"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("djcchigfih"),v=a(g),y=n("djbhiedbef"),_=a(y),E=n("dajffajabh"),j=a(E),w=n("cajijabhgb"),O=r(w),C=n("cicgeajfge"),S=n("bggeiidigb"),P=a(S),M=n("ddajbaceej"),T=a(M),k=n("dacfecidja"),N=a(k),I=n("dhfbfehaef"),R=a(I),A=n("eceadcicaf"),D=a(A),x=n("dbciicjiad"),L=a(x),F=n("dfcdejcheh"),U=a(F),B=n("bjbedjfe"),G=a(B),V=n("ceddibdhdb"),W=a(V),H=n("dcaibchbg"),Y=a(H),q=n("becfabjeeg"),K=a(q),z=n("ejbdjaifi"),Q=n("chhhffajfi"),X=n("dcjdgceiej"),J=a(X),Z=n("bfejacaeaj"),$=a(Z),ee=n("ggfcffeaf"),te=a(ee),ne=2,ae=te.default["-color-bg-light"],re=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.flatListController=new P.default,a.state={searchText:"",searching:!1,resultsUnavailable:!1},a.setSearch=function(e){return a.search=e},a.ftsMsgs=new N.default,a.selection=new Y.default([],function(e){return e.id.toString()}),a.pending=!1,a._batchRenderState={},a._handleScroll=function(e){a.shouldFTSSearch(e)&&(a.fts(),a.pending=!0)},a.handleScroll=d.default.throttle(a._handleScroll,100),a._debounceSetState=new W.default(function(){a.setState(a._batchRenderState),a._batchRenderState={}}),a.batchSetState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75;Object.assign(a._batchRenderState,e),a._debounceSetState.debounce(t)},a.fts=d.default.debounce(function(){a.pending=!1;var e=d.default.trim(a.state.searchText||"");(0,Q.numCodepoints)(e)<ne||(a._ftsPromise&&a._ftsPromise.cancel(),a._ftsPromise=Promise.resolve().then(function(){a.isFTSSearching()||a.batchSetState({searching:!0})}).then(function(){return a.ftsMsgs.search(e,a.props.chat)}).checkpoint(a.props.rejectOnUnmount()).then(function(t){e===d.default.trim(a.state.searchText)&&a.batchSetState({searching:!1,resultsUnavailable:!1})}).catch(O.Unmount,function(){}).catch(function(e){a.pending||a.batchSetState({searching:!1,resultsUnavailable:e instanceof O.E404})}))},750),a.fullTextSearch=function(e){var t=d.default.trim(e);(0,Q.numCodepoints)(t)>=ne?(a.fts(),a.pending=!0):(a.fts.cancel(),a.ftsMsgs.resetSearch(),a.ftsMsgs.delete(),a._ftsPromise&&a._ftsPromise.cancel(),a.pending=!1,a.state.searching&&a.batchSetState({searching:!1,resultsUnavailable:!1}))},a.shouldFTSSearch=function(e){return!(!a.ftsMsgs.hasMoreMsgs||a.pending||a.state.searching||a.ftsMsgs.searchPromise||(0,Q.numCodepoints)(a.state.searchText||"")<ne)&&e.scrollTop+b.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight},a.isFTSSearching=function(){var e=a._batchRenderState;return"searching"in e?e.searching:a.state.searching},a.onSearch=function(e){if(!e)return void a.onStopSearch();if(e!==a.state.searchText){var t={searchText:e,resultsUnavailable:!1};a.fullTextSearch(e),a.setState({searchText:e}),a.batchSetState(t)}},a.onStopSearch=function(){a.fts.cancel(),a.ftsMsgs.resetSearch(),a.ftsMsgs.delete(),a._ftsPromise&&a._ftsPromise.cancel(),a.pending=!1,a.setState({searchText:"",searching:!1})},a.onFocusList=function(e){e.repeat||a.refMsglist&&(a.search&&!a.search.isAtEnd()||(e.preventDefault(),e.stopPropagation(),(0,I.shouldIndicateFocus)(),a.refMsglist&&a.refMsglist.focusFirst()))},a.onOpenFirst=function(e){e.preventDefault();var t=a.ftsMsgs.head();if(t){var n=t.chat,r=n.getSearchContext(t);h.default.focusChatTextInput(n),h.default.openChatAt(n,r)}},a.onFocusSearch=function(){(0,I.shouldIndicateFocus)(),T.default.focus(a.search)},a.onClose=function(){a.context.uim.uie.requestDismiss()},a.indicateFocus=function(e){(0,I.indicateFocus)(a.refInputHotkey,[ae,"#D9F3FF"])},a.onScroll=function(e){a.handleScroll(e.currentTarget)},a.getEmptyChatlistState=function(e){if(e.length)return null;var t=d.default.trim(a.state.searchText||"");return(0,Q.numCodepoints)(t)>=ne?a.state.searching?c.createElement(C.SearchingMessages,null):a.state.resultsUnavailable?c.createElement(C.SearchMessagesUnavailable,null):c.createElement(C.SearchMessages,null):(0,C.BeforeSearchMessages)(a.props.chat.title(),a.props.chat.isGroup)},a.setRefMsglist=function(e){a.refMsglist=e},a.setInputHotkey=function(e){a.refInputHotkey=e},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.onFocusSearch(),this.props.listeners.add(this.ftsMsgs,"bulk_remove")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.fts.cancel(),this.ftsMsgs.delete(!0),this._ftsPromise&&this._ftsPromise.cancel(),this._debounceSetState.cancel()}},{key:"render",value:function(){var e=this.ftsMsgs.toArray(),t=this.getEmptyChatlistState(e);if(!t){var n=this.state.searchText?d.default.trim(this.state.searchText):null;t=c.createElement(U.default,{ref:this.setRefMsglist,flatListController:this.flatListController,isSearching:!!this.state.searchText,searchText:n,ftsResult:e,selection:this.selection,onFocusSearch:this.onFocusSearch})}var a={down:this.onFocusList,enter:this.onOpenFirst},r=this.state.searching&&e.length?c.createElement("div",{className:te.default.searchSpinner},c.createElement(K.default,{stroke:6,size:24})):null;return c.createElement(v.default,{key:"search-modal"},c.createElement(j.default,{title:l10n.t("search_msgs"),type:E.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),c.createElement(R.default,{handlers:a,onFocus:this.indicateFocus,ref:this.setInputHotkey,className:te.default.panelSearch},c.createElement(L.default,{ref:this.setSearch,type:"chat-msg-search",onSearch:this.onSearch,placeholder:l10n.t("search"),loading:this.state.searching})),c.createElement(_.default,{flatListControllers:[this.flatListController],className:te.default.panelBody,onScroll:this.onScroll,id:"pane-side"},t,r))}}]),t}(c.Component);re.contextTypes={uim:$.default.instanceOf(J.default)},re.displayName="ChatSearch",t.default=(0,D.default)((0,G.default)((0,z.hoc)(re)))},dgjdeicghc:function(e,t){e.exports={muted:"_2sFxm",container:"_2-yrI",btnActive:"_3PmhT",btnAction:"_1AWh3",controlsSummary:"_22oFl",adminSetting:"_3rjFB",summaryText:"_2GEk_",item:"_2N-Up"}},dgjggjiggi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ejbdjaifi"),f=n("gbfffciea"),d=a(f),p=n("biddiiafgd"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("fifhbjiec"),v=a(g),y=n("ccaaiecfib"),_=a(y),E=n("bidfjbaebi"),j=n("fffdgbfji"),w=a(j),O=n("ihfccfgdf"),C=a(O),S=n("facgccaif"),P=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onConfirm=function(){d.default.closeModal()},a.onLearnMore=function(e){e.preventDefault(),d.default.closeModal("none"),setTimeout(function(){return(0,E.openExternalLink)((0,S.getBusinessFaqUrl)())},10)},a.getMessage=function(){var e=a.props.contact;switch(e.verifiedLevel){case b.default.VERIFIED_LEVEL.HIGH:return w.default.t("web_sys_msg_initial_v_high_alert");case b.default.VERIFIED_LEVEL.LOW:return w.default.t("web_sys_msg_initial_v_low_alert");case b.default.VERIFIED_LEVEL.UNKNOWN:return w.default.t("web_sys_msg_initial_v_unknown_alert",{businessName:e.formattedName})}},a.getMessageV2=function(){var e=a.props.contact;switch(e.verifiedLevel){case b.default.VERIFIED_LEVEL.HIGH:return e.name===e.verifiedName?w.default.t("web_business_profile_high_alert",{businessName:e.verifiedName}):w.default.t("web_business_profile_high_mismatch_alert",{businessName:e.verifiedName});case b.default.VERIFIED_LEVEL.LOW:case b.default.VERIFIED_LEVEL.UNKNOWN:return w.default.t("web_business_profile_low_alert")}},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=void 0;e=_.default.supportsFeature(_.default.F.VNAME_V_2)?this.getMessageV2():this.getMessage();var t=u.createElement("a",{target:"_blank",href:"#",onClick:this.onLearnMore},w.default.t("learn_more"));return u.createElement(h.default,{onOK:this.onConfirm,okText:w.default.t("ok_got_it")},u.createElement(v.default,{text:e})," ",t)}}]),t}(u.PureComponent);P.CONCERNS={contact:["name","verifiedLevel","verifiedName","formattedName"]},P.displayName="BusinessInfoModal",t.default=(0,C.default)((0,c.hoc)(P),P.CONCERNS)},dgjifchfde:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){}function o(){p()}function i(e,t,n){if(e&&t&&!A.default.globalMute().isMuted){if(window.Notification&&window.Notification.permission===O.default.PERMISSION_ALLOWED&&A.default.getGlobalNotifications()){var a=S.default.get(e),r=a?a.formattedName:(0,F.default)(e),o=n?B.default.t("incoming_video_call_notification_title",{name:r}):B.default.t("incoming_voice_call_notification_title",{name:r}),i=B.default.t("incoming_call_notification_text");d(Y,e,t,o,i,O.default.USER_DEFAULT_ICON)}A.default.getGlobalSounds()&&(Y.get(e.toString())||Promise.resolve()).then(W.playNotification).catch(function(){})}}function l(e,t){var n=e.chat;if(!(document.hasFocus()&&n.active||A.default.globalMute().isMuted||t&&t(e)||f(e)||c(e.chat))){if(window.Notification&&window.Notification.permission===O.default.PERMISSION_ALLOWED&&A.default.getGlobalNotifications()){var a=M.default.asDesktopNotification(e);a&&a.charCodeAt(0)>=128&&(a=" "+a);var r=n.isGroup?O.default.GROUP_DEFAULT_ICON:O.default.USER_DEFAULT_ICON,o=n.isGroup?B.default.t("default_group_message_notification_title"):B.default.t("default_contact_message_notification_title"),i=n.contact.formattedName||o;d(H,n.id,e.id.toString(),i,a,r,n.canSend)}A.default.getGlobalSounds()&&(n.id&&H.get(n.id.toString())||Promise.resolve()).then(W.playNotification).catch(function(){})}}function s(e){e&&b(Y,e.toString())}function u(e){e&&e.id&&(b(H,e.id.toString()),b(Y,e.id.toString()))}function c(e){return!!e.isGroup&&((!e.isGroup||!e.isReadOnly)&&!(Date.now()>(e.squelch||0)&&(k.default.find(e.id).then(function(t){var n=k.default.get(e.id);if(n){var a=n.participants.length,r=1e3*Math.min(120,30+5*a);e.squelch=Date.now()+r}}).catch(V.WapDrop,function(){e.squelch=Date.now()+6e4}),1)))}function f(e){var t=e.chat;if(!t.mute.isMuted)return!1;if(!t.isGroup)return!0;if(e.isMentioned(j.default.me)||e.isQuoted(j.default.me)){var n=_.default.get(e.sender);return!(!n||!n.mute.isMuted)}return!0}function d(e,t,n,a,r,o,i){var l=x.default.find(t).cancellable().timeout(1500,"showNotificationTimeout").then(function(e){var t=e&&e.img?e.img:o;return(0,W.cachePath)(t)}).catch(V.WapDrop,Promise.TimeoutError,function(e){return I.default.log("NotificationBackend:IconLoadTimeoutError:"+t.toString())(e),(0,W.cachePath)(o)}).then(function(o){if(window.Notification.permission!==O.default.PERMISSION_ALLOWED)return Promise.reject(new Promise.CancellationError("Permission Denied"));var l=new v.default(t,n,a,r,o,i);return l.waitForClose().then(function(){h(e,t,l)}),l});return l.catch(Promise.CancellationError,function(n){h(e,t)}),e.get(t.toString())&&m(e,t),e.set(t.toString(),l),l}function p(){H.forEach(function(e,t){b(H,t)}),Y.forEach(function(e,t){b(Y,t)})}function h(e,t,n){var a=e.get(t.toString());if(a){if(n){if(a.isFulfilled()&&n!==a.value())return;if(a.isPending())return}e.delete(t.toString())}}function m(e,t){var n=e.get(t.toString());if(n){if(n.isFulfilled()){n.value().close()}else n.cancel();e.delete(t.toString())}}function b(e,t){var n=e.get(t);if(n){if(n.isFulfilled()){n.value().close()}else n.cancel();e.delete(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.initAsNeeded=r,t.shutdownAsNeeded=o,t.showCallNotification=i,t.showMsgNotification=l,t.cancelCallNotification=s,t.closeNotifications=u;var g=n("dhfjegifba"),v=a(g),y=n("dbdfbgehgj"),_=a(y),E=n("bjigbaghc"),j=a(E),w=n("eadfaddcj"),O=a(w),C=n("dhigahgdjb"),S=a(C),P=n("dgjddffcfg"),M=a(P),T=n("djaadchjch"),k=a(T),N=n("bdiiahhjbe"),I=a(N),R=n("dagdiahdfi"),A=a(R),D=n("dhefcajhhb"),x=a(D),L=n("djbfhebjhe"),F=a(L),U=n("fffdgbfji"),B=a(U),G=n("cajijabhgb"),V=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(G),W=n("ihfbgdebe"),H=new Map,Y=new Map},dhabbfcefj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PiPManager=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("gbfffciea"),f=a(c),d=n("dagibffcjf"),p=a(d),h=n("igaagcbbj"),m=a(h),b=n("eceadcicaf"),g=a(b),v=n("ejbdjaifi"),y=n("didfdhbecg"),_=a(y),E=n("bfjeggfcij"),j=a(E),w=n("ichhibhgh"),O=a(w),C=n("cgecdbiihg"),S=n("ibebafhjb"),P=a(S),M=n("bicbefgjgg"),T=a(M),k=n("biecbbiiee"),N=a(k),I=n("bfjajhbdf"),R=a(I),A=n("fffdgbfji"),D=a(A),x=t.PiPManager=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMediaViewerModal=function(e,t,a){n.state.msg&&n.state.msg.id.equals(e.id)&&n.closePiP()},n.closePiPFromMsg=function(e){n.state.msg&&n.state.msg.id.equals(e.id)?n.closePiP():n.state.youtubeVideoInfo&&n.state.youtubeVideoInfo.videoMsg.id.equals(e.id)?n.closeYoutubePiP():n.state.ogVideoInfo&&n.state.ogVideoInfo.videoMsg.id.equals(e.id)&&n.closeOgVideoPiP()},n.openPiP=function(e,t,a){n.previousPiPDidClose(),O.default.didOpen(e),e.forceDownloadMedia(),n.setState({msg:e,youtubeVideoInfo:null,ogVideoInfo:null,startTime:t,zoomRect:a})},n.closePiP=function(){n.state.msg&&O.default.didClose(n.state.msg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.pausePiP=function(){},n.isOpened=function(e){return!(!n.state.msg||!e.id.equals(n.state.msg.id))||(!(!n.state.youtubeVideoInfo||!e.id.equals(n.state.youtubeVideoInfo.videoMsg.id))||!(!n.state.ogVideoInfo||!e.id.equals(n.state.ogVideoInfo.videoMsg.id)))},n.openYoutubePiP=function(e,t,a,r){n.previousPiPDidClose(),O.default.didOpen(t),n.setState({msg:null,youtubeVideoInfo:{videoId:e,videoMsg:t},ogVideoInfo:null,startTime:a,zoomRect:r})},n.closeYoutubePiP=function(){n.state.youtubeVideoInfo&&O.default.didClose(n.state.youtubeVideoInfo.videoMsg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.openOgVideoPiP=function(e,t,a,r,o){n.previousPiPDidClose(),O.default.didOpen(a);var i="data:image/jpeg;base64,"+t;n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:{videoUrl:e,previewUrl:i,videoMsg:a},startTime:r,zoomRect:o})},n.closeOgVideoPiP=function(){n.state.ogVideoInfo&&O.default.didClose(n.state.ogVideoInfo.videoMsg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.previousPiPDidClose=function(){n.state.msg&&O.default.didClose(n.state.msg),n.state.youtubeVideoInfo&&O.default.didClose(n.state.youtubeVideoInfo.videoMsg),n.state.ogVideoInfo&&O.default.didClose(n.state.ogVideoInfo.videoMsg)},n.handleMsgVideoPiPError=function(){n.state.msg&&O.default.didError(n.state.msg)},n.handleOgVideoPiPError=function(){n.state.ogVideoInfo&&O.default.didError(n.state.ogVideoInfo.videoMsg)},n.state={msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;O.default.register(this),this.props.listeners.add(f.default,"media_viewer_modal",this.onMediaViewerModal),this.props.listeners.add(N.default,"remove",function(t){e.closePiPFromMsg(t)}),this.props.listeners.add(N.default,"change:isRevoked",function(t){if(t.isRevoked){if(!t.isSentByMe){var n=e.state.msg&&e.state.msg.id.equals(t.id),a=e.state.youtubeVideoInfo&&e.state.youtubeVideoInfo.videoMsg.id.equals(t.id),r=e.state.ogVideoInfo&&e.state.ogVideoInfo.videoMsg.id.equals(t.id);(n||a||r)&&f.default.openToast(u.default.createElement(R.default,{id:(0,I.genId)(),msg:D.default.t("picture_in_picture_revoked_by_other")}))}e.closePiPFromMsg(t)}})}},{key:"componentWillUnmount",value:function(){O.default.unregister()}},{key:"renderVideoPlayer",value:function(){var e=this.state,t=e.msg,n=e.youtubeVideoInfo,a=e.ogVideoInfo;return t?u.default.createElement(P.default,{key:t.id.toString(),msg:t,mediaData:t.mediaData,animationStartStyle:this.getAnimationStartStyle(),startTime:this.state.startTime,onClose:this.closePiP,onError:this.handleOgVideoPiPError,onOpenMediaViewer:this.closePiP,onMissingMedia:this.closePiP,onUnsupportedMedia:this.closePiP,autoPlay:!0}):n?u.default.createElement(p.default,{key:n.videoId,aspectRatio:C.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:this.getAnimationStartStyle()},u.default.createElement(m.default,{key:n.videoId,youtubeVideoId:n.videoId,startTime:this.state.startTime,onClose:this.closeYoutubePiP,autoPlay:!0})):a?u.default.createElement(T.default,{key:a.videoMsg.id.toString(),ogVideoInfo:a,startTime:this.state.startTime,onClose:this.closeOgVideoPiP,onError:this.handleOgVideoPiPError,animationStartStyle:this.getAnimationStartStyle(),autoPlay:!0}):null}},{key:"getAnimationStartStyle",value:function(){return this.state.zoomRect?{height:this.state.zoomRect.bottom-this.state.zoomRect.top,width:this.state.zoomRect.right-this.state.zoomRect.left,left:this.state.zoomRect.left,bottom:window.innerHeight-this.state.zoomRect.bottom}:null}},{key:"render",value:function(){return u.default.createElement(_.default,{transitionName:"pip",className:j.default.playerWrapper,component:"div"},this.renderVideoPlayer())}}]),t}(s.Component);x.displayName="PiPManager",t.default=(0,g.default)((0,v.hoc)(x))},dhacjhbgfj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("hbhijdici"),i=a(o),l=n("bjigbaghc"),s=a(l),u=n("bdiiahhjbe"),c=a(u),f=n("ccgjijjbbj"),d=a(f),p=n("bdeabjehdj"),h={version:"11",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29},msgFindQuery:function(e,t,n){var a=this,o=e;return new Promise(function(e,i){var l=function(n){a.BinaryProtocol.read(n).then(function(n){var r=[],i=a.N.children(n);if(c.default.logColor("green","bin-recv: response,msg",n)(),"response"===a.N.tag(n)&&("message"===a.N.attr("type",n)||"star"===a.N.attr("type",n)||"search"===a.N.attr("type",n)||"media_message"===a.N.attr("type",n)||"label"===a.N.attr("type",n))){if(Array.isArray(i)){var l=void 0,s=i.length;for(l=0;l<s;l++){var u=a.parseMsg(i[l],"response");if(u)switch(o){case"star":("gif"!==t.media||"video"===u.type&&u.isGif)&&r.push(u);break;case"media":"document"===t.media&&"document"===u.type?r.push(u):"url"===t.media&&"chat"===u.type?r.push(u):t.media||r.push(u);break;default:r.push(u)}}}"search"===a.N.attr("type",n)||"label"===a.N.attr("type",n)?r={eof:"true"===a.N.attr("last",n),messages:r}:"media"!==o||t.media||(r={docCount:parseInt(a.N.attr("document",n),10)||void 0,linkCount:parseInt(a.N.attr("url",n),10)||void 0,mediaCount:parseInt(a.N.attr("media",n),10)||void 0,messages:r})}e(r)}).catch(i)},s=void 0,u="";switch(o){case"after":t.id||(o="before");case"before":s={type:"message",kind:o,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u=[t instanceof d.default?t.toString():t.remote,t.count].join();break;case"search":s={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote},t.label?s=r({},s,{label:t.label}):t.filter&&(s=r({},s,{filter:t.filter})),u=["search",t.page,t.count,t.jid,t.label].join();break;case"star":s={type:"star",media:"gif"===t.media?t.media:void 0,chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u="starred";break;case"media":s={type:"media_message",media:"document"===t.media||"url"===t.media?t.media:void 0,count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u="media"}var f=a.queryNode(s,void 0);a.binSend("sendEphemeral",f,i,{onSend:a.binWrap(l,e),onDrop:a.wrap(i),logOnSend:n},{debugString:"query,message,"+u,metric:"search"===o?a.M.QUERY_SEARCH:a.M.QUERY_MESSAGES,ackRequest:!1})})},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),a=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),i="video"===this.N.attr("kind",e),l=this.N.attr("type",e);switch(l){case"miss":i&&(l="miss_video")}var u=void 0;try{u=new d.default({fromMe:r,remote:a,id:n,participant:o})}catch(e){return void c.default.error("drop: cannot create MsgKey: "+e.stack)()}var f={id:u,t:t,participant:o,type:"call_log",subtype:l,from:r?s.default.me:a,to:r?a:s.default.me},p=[!n,!t,!a,"miss"!==l&&"miss_video"!==l];return this.dropIfConditionMet(p,f)}},queryVCard:function(e){var t=this;return new Promise(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a=[],r=t.N.children(e);if("response"===t.N.tag(e)&&"vcard"===t.N.attr("type",e)&&Array.isArray(r))for(var o=r.length,i=0;i<o;i++){var l=t.parseMsg(r[i],"response");!l||"vcard"!==l.type&&"multi_vcard"!==l.type||a.push(l)}n(a)}).catch(a)},o=t.queryNode({type:"vcard",jid:e},void 0);t.binSend("sendEphemeral",o,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,vcard,"+e,metric:t.M.QUERY_VCARD,ackRequest:!1})})},parseContact:function(e){if("user"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: user, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=this.N.attr("jid",e),n=this.N.attr("name",e),a=this.N.attr("short",e)||void 0,r=this.N.attr("type",e)||"in",o={id:t,name:n,type:r,shortName:a},i=[!t,"in"!==r&&"out"!==r&&!!r];return this.dropIfConditionMet(i,o)},parseContacts:function(e){if("contacts"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.children(e),a=void 0,r=void 0,o=void 0,i=void 0,l=void 0;switch(t){case"frequent":if(Array.isArray(n)){r=n.length;for(var s=0;s<r;s++)switch(l=n[s],o=this.N.tag(l)){case"image":case"video":case"message":i=this.N.attr("jid",l),i&&(a||(a={type:"frequent"}),a[o]?a[o].push(i):a[o]=[i])}}}return a}}};e.exports=i.default.defaults(h,p)},dhagjfdjei:function(e,t){e.exports={muted:"_21RC4",text:"_37OJc"}},dhajfeafhd:function(e,t){e.exports={muted:"PUrEe",container:"rK2ei",noscroll:"USE1O",centerItem:"_32Dig",padding:"_23C8w"}},dhbceejbjg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("effbcehec"),c=a(u),f=n("chbgjdggfh"),d=a(f),p=function(e){var t,n=(0,s.default)(e.className,d.default.chat,(t={},r(t,d.default.themeCheckbox,"chat-checkbox"===e.theme||"label-list"===e.theme||"chat-checkbox-no-delete"===e.theme||"cell-message-checkbox"===e.theme),r(t,d.default.themeDrawerList,"drawer-list"===e.theme),r(t,d.default.themeIdentity,"identity"===e.theme),r(t,d.default.themeListNames,"list-names"===e.theme||"list-names-no-delete"===e.theme),r(t,d.default.themeMessage,"cell-message"===e.theme||"cell-message-checkbox"===e.theme),r(t,d.default.themePlain,"plain"===e.theme),r(t,d.default.themeSearch,"chat-search"===e.theme),r(t,d.default.themeStatus,"status-list"===e.theme),r(t,d.default.themeLabel,"label-selection"===e.theme),r(t,d.default.idle,e.idle),r(t,d.default.member,"group-modal"===e.theme||"chat-checkbox-no-delete"===e.theme),r(t,d.default.unread,!!e.unread),r(t,d.default.chatDrag,!!e.dragging),r(t,d.default.active,!!e.active),r(t,d.default.groupV4Invite,"group_v4_invite"===e.theme),r(t,d.default.product,"product"===e.theme),r(t,d.default.media,"media"===e.theme),t)),a=void 0;e.image&&(a=e.customImage?e.image:i.createElement("div",{className:d.default.chatAvatar},e.image));var o=e.primaryDetail?i.createElement("div",{className:d.default.chatMeta},e.primaryDetail):null,l=void 0,u=void 0;e.secondary&&(u=e.secondaryDetail?i.createElement("div",{className:d.default.chatMeta},e.secondaryDetail):null,l=i.createElement("div",{className:d.default.chatSecondary},i.createElement("div",{className:d.default.chatStatus},e.secondary),u));var f=e.detail?i.createElement("div",{className:(0,s.default)(d.default.chatBody,d.default.chatDetails)},e.detail):null;return i.createElement("div",{"data-a8n":c.default.key("chat-card"),className:n,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu},a,i.createElement("div",{className:d.default.chatBody},i.createElement("div",{className:(0,s.default)(d.default.chatMain,r({},d.default.noDelete,"list-names-no-delete"===e.theme))},i.createElement("div",{className:d.default.chatTitle},e.primary),o),l),f)};p.displayName="CellFrame",t.default=p},dhbegafffi:function(e,t){e.exports={muted:"_2xql7",audio:"uqRgA",controls:"_1h3dW",body:"TeXXU",button:"dVD5a",duration:"_3HwRC",trackContainer:"_27pBm",track:"_30LFW",audioIn:"_2PmJH",audioOut:"_38Akx",progress:"_1N8Pv",spinner:"Nuoph",played:"_2gO--",isGallery:"Da4D2"}},dhbejdh:function(e,t){e.exports={muted:"_1mcy3",container:"GXmef",text:"_8fE-g"}},dhbghcbcbi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("dhhfaeacef"),c=a(u),f=n("fifhbjiec"),d=a(f),p=n("eceejifaac"),h=a(p),m=n("ceffhbhahb"),b=a(m),g=n("ddhijeejag"),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(g),y=n("gaifbabbj"),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.theme,a=t.contact,o=a.id,i=a.formattedName,l=a.isMyContact,s=a.notifyName,u=t.onMouseDown,f=t.onMouseOver,p=t.onMouseUp,m=t.term,g=t.selected,_=y.Configuration.Search({terms:m?[m]:[],boundary:!0});return v.createElement("div",{className:(0,b.default)(h.default.mentionsResult,(e={},r(e,h.default.mediaCaption,"mediaCaption"===n),r(e,h.default.selected,!0===g),e)),onMouseDown:u,onMouseUp:p,onMouseOver:f},v.createElement("div",{className:h.default.resultImage},v.createElement(c.default,{id:o,size:32})),v.createElement("div",{className:h.default.textContact,dir:"auto"},v.createElement(d.default,{text:i,formatters:_})),v.createElement("div",{className:h.default.textPushname,dir:"auto"},!l&&s?v.createElement(d.default,{text:"~"+s,formatters:_}):null))}}]),t}(v.PureComponent);_.displayName="Result",e.exports=_},dhbjfhjgbc:function(e,t){e.exports={muted:"_2YQWI",moveResizeComponentContainer:"_1kh4T",resizer:"_1hjdR",topResizer:"Y1Z6l",bottomResizer:"_1fmP5",leftResizer:"_1Acgj",rightResizer:"_2wPUP",topRightResizer:"LjzBs",topLeftResizer:"_3SNiV",bottomRightResizer:"p4AWt",bottomLeftResizer:"_3VG07",moveable:"_1Yf-_",defaultCursor:"_111Ju"}},dhccihecch:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(!e)return $;var t=void 0;return t=e<=1?$:e<=2.4?Z/e:Z/2.4,Math.round(t)}function c(e,t,n,a){return e&&t&&n&&a?t/e>a/n?{height:"100%"}:{width:"100%"}:{height:"100%",width:"100%"}}function f(e){e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=n("ddhijeejag"),h=r(p),m=n("ceffhbhahb"),b=a(m),g=n("cehjjfagii"),v=a(g),y=n("dfeecdfijg"),_=a(y),E=n("effbcehec"),j=a(E),w=n("jhcabjcaf"),O=a(w),C=n("ihfccfgdf"),S=a(C),P=n("ejbdjaifi"),M=n("bheafeifce"),T=n("bfjbdahdag"),k=a(T),N=n("gbfffciea"),I=a(N),R=n("eiiicijcj"),A=a(R),D=n("ecibddhig"),x=r(D),L=n("cieaeggjg"),F=a(L),U=n("eadfaddcj"),B=a(U),G=n("cbjacjjfgc"),V=a(G),W=n("fifhbjiec"),H=a(W),Y=n("bbjadhadbg"),q=a(Y),K=n("dfhbgghjei"),z=a(K),Q=n("ccaaiecfib"),X=a(Q),J=n("beadfddidc"),Z=330,$=330,ee=t.THEMES={ALBUM:"ALBUM"},te=function(e){function t(){var e,n,a,r;i(this,t);for(var s=arguments.length,f=Array(s),d=0;d<s;d++)f[d]=arguments[d];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),a.setRefImg=function(e){return a.refImg=e},a.showMediaMissing=function(){I.default.openModal(h.createElement(A.default,{msg:a.props.msg}))},a.getZoomNode=function(e){var t=a.props.isMsgVisible;if(!t)return null;var n=t(e);return n?n.getImgNode&&n.getImgNode():null},a.launchMediaViewer=function(e){if(e&&e.stopPropagation(),a.props.theme===ee.ALBUM){var t=a.props.zoomMsg||a.props.msg;I.default.mediaViewerModal((0,M.unproxy)(t),a.getZoomNode)}else I.default.mediaViewerModal((0,M.unproxy)(a.props.msg),a.getZoomNode)},a.forceDownloadMedia=function(){a.props.msg.forceDownloadMedia(!0)},a.downloadMedia=function(){return a.props.msg.downloadMedia()},a.cancelDownload=function(){a.props.msg.cancelDownload()},a.cancelUpload=function(){a.props.msg.cancelUpload()},a.resumeUpload=function(){a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},a._renderImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.props.mediaData,r=(0,b.default)(z.default.thumbBody,o({},z.default.thumbBodyLores,t)),i=Z,l=u(n.aspectRatio),s=n.fullHeight||l,f=n.fullWidth||i,d=c(s,f,l,i);return h.createElement("img",{src:e,onDragStart:a.onDragStart,className:r,style:d,ref:a.setRefImg})},a._renderPreviewImage=function(){return a._renderImage(a.props.mediaData.preview&&a.props.mediaData.preview.url(),!0)},r=n,l(a,r)}return s(t,e),d(t,[{key:"componentDidMount",value:function(){this.downloadMedia()}},{key:"onDragStart",value:function(e){e.nativeEvent.dataTransfer.setData(B.default.DRAG_TYPE_LOCAL_IMAGE,!0)}},{key:"getImgNode",value:function(){return this.refImg}},{key:"render",value:function(){var e,t,n=this.props,a=n.msg,r=n.contentContainerClassName,i=n.captionComponent,l=n.thumbClassName,s=n.onThumbClick,c=n.mediaData,d=n.theme,p=n.overlayContent,m=a.caption?null:h.createElement(V.default,null),g=a.caption?h.createElement("div",{className:z.default.caption},h.createElement(k.default,{msg:a,trusted:this.props.trusted,spacer:!((0,J.shouldEnableHsm)()&&a.footer)})):null,y=null,E=null,w=c.mediaStage;switch(w){case"RESOLVED":E=s||this.launchMediaViewer;break;case"FETCHING":y=h.createElement(x.PendingCancel,null),E=this.cancelDownload;break;case"NEED_POKE":y=h.createElement(x.Download,{filesize:c.size}),E=this.forceDownloadMedia;break;case"UPLOADING":y=h.createElement(x.PendingCancel,null),E=this.cancelUpload;break;case"NEED_UPLOAD":y=h.createElement(x.Upload,{filesize:c.size}),E=this.resumeUpload;break;case"REMOTE_NEED_UPLOAD":y=h.createElement(x.Upload,{filesize:c.size}),E=this.resumeRemoteUpload;break;case"ERROR_MISSING":E=this.showMediaMissing;break;case"ERROR_UNSUPPORTED":y=h.createElement(x.Download,{filesize:c.size}),E=s||this.launchMediaViewer;break;case"SENDING":case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":y=h.createElement(x.Pending,null);break;default:throw new Error("invalid value for picture mediaStage '"+w+"'")}var C=this.props.displayAuthor&&!a.isSentByMe&&a.isGroupMsg,S=a.showForwarded(),P=(0,b.default)(z.default.bubble,o({},z.default.nonAlbumBubble,!d||d!==ee.ALBUM)),M=(0,b.default)(P,(e={},o(e,z.default.hasCaption,a.caption),o(e,z.default.hasAuthor,C),o(e,z.default.forwarded,S),o(e,z.default.isPSA,a.isPSA),o(e,z.default.isPreview,this.props.displayType===B.default.DISP_TYPE.MSG_INFO),o(e,z.default.isGallery,this.props.displayType===B.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===B.default.DISP_TYPE.GALLERY),e)),T=C?h.createElement("div",{className:z.default.author},h.createElement(v.default,{msg:a,contact:a.senderObj})):null,N=S?h.createElement(_.default,{msg:a,className:z.default.forwardedIndicator}):null,I=Z,R=u((0,J.shouldEnableHsm)()&&a.type===B.default.MSG_TYPE.TEMPLATE&&c.aspectRatio<=B.default.HSM_ASPECT_RATIO?B.default.HSM_ASPECT_RATIO:c.aspectRatio),A={width:I,height:R},D=this.props.quotedMsg?h.createElement("div",{className:z.default.quote},this.props.quotedMsg):null,L=void 0;L=X.default.supportsFeature(X.default.F.REPLACE_MEDIABLOB)?h.createElement(q.default,{mediaData:c,placeholderRenderer:this._renderPreviewImage,downloadMedia:this.downloadMedia},this._renderImage):c.renderableUrl?this._renderImage(c.renderableUrl):this._renderPreviewImage();var U=(0,b.default)(z.default.thumb,(t={},o(t,z.default.inAlbum,d===ee.ALBUM),o(t,z.default.overlay,p),t)),G=void 0;p||(G=h.createElement("div",{className:z.default.meta},h.createElement(F.default,{msg:a})));var W=h.createElement("div",{className:r},T,N,D,h.createElement("div",{"data-a8n":j.default.key("image-thumb"),className:l||U,onClick:E,style:A},y,L,m),i||g,G);return g?h.createElement(O.default,{contact:a.senderObj,msg:a,className:M,onClick:f},W,(0,J.shouldEnableHsm)()&&a.footer?h.createElement("div",{className:z.default.footer},h.createElement(H.default,{text:a.footer,dirMismatch:a.rtl!==l10n.isRTL(),direction:a.dir})):null):(p&&(W=h.createElement("div",{className:z.default.overlayAlbumText},W,p)),h.createElement("div",{className:M,onClick:f},W))}}]),t}(h.PureComponent);te.CONCERNS={msg:["id","ack","caption","isSentByMe","isGroupMsg","senderObj","isPSA","footer","type","rtl","dir"],mediaData:["aspectRatio","preview","mediaStage","renderableUrl","fullWidth","fullHeight","size"]},te.displayName="Picture",t.default=(0,S.default)((0,P.hoc)(te),te.CONCERNS)},dhcejciehh:function(e,t){e.exports={muted:"_2_267",section:"_19o76",control:"_3PsB1",label:"wVU1s"}},dhdhbgbhed:function(e,t){e.exports={muted:"_3VBkQ",body:"_3xdMj",avatar:"_2XJ_f",description:"p1-qj",nameSecondary:"_1dDzK"}},dheeebbech:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("ceffhbhahb"),d=a(f),p=n("bjfacgbcjj"),h=a(p),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=(0,d.default)(h.default.msg,(e={},r(e,h.default.hover,t.hover),r(e,h.default.current,t.current),r(e,h.default.active,t.active),e));return c.default.createElement("div",{className:n,onClick:t.onClick,onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave},t.children)}}]),t}(c.default.PureComponent);m.displayName="GalleryMsg",t.default=m},dheiadgfhj:function(e,t){e.exports={muted:"_2nuZ8",bubble:"_1BN2j",templateBubble:"_1Rd1y",isPreview:"_1auwW",isGallery:"_9dwDm",author:"_3OPGn",forwarded:"KmdWq",forwardedIndicator:"_3moRf",hasAuthor:"qKTgP",container:"_3F4Fd",body:"_1mrMQ",bubbleIn:"_3cukQ",bubbleOut:"_1o6AT",docMeta:"_1o0MN",metaValue:"_35Zop",meta:"_3vA5B",text:"_1NeOh",icon:"_1ceQM",quote:"_2-LEp",filetypeIcon:"_3ZoBw",thumb:"_2k0GR",hasCaption:"_2i0x3",caption:"_1vlJw",footer:"_2AmZw"}},dhfbggbbbd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("effbcehec"),f=a(c),d=n("ejbdjaifi"),p=n("ihfccfgdf"),h=a(p),m=n("bdcjhdddde"),b=a(m),g=n("eedjbihej"),v=a(g),y=n("dccdiajhdf"),_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=void 0,t=void 0;switch(this.props.section){case y.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case y.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case y.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}var n=e?{count:e,_plural:t}:{_plural:t},a=l10n.t("message_info_remaining",n);return u.createElement("div",{"data-a8n":f.default.key("msg-info-remaining"),className:b.default.footer},u.createElement(v.default,{theme:"muted"},a))}}]),t}(u.Component);_.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]},_.displayName="GroupMsgInfoSectionFooter",t.default=(0,h.default)((0,d.hoc)(_),_.CONCERNS)},dhfjegifba:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n("djegeegcbf"),s=a(l),u=n("edbaidcaf"),c=a(u),f=n("jhddfhjhh"),d=a(f),p=function(e){function t(e,n,a,i,l){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{title:s.default.normalizeEmoji(a),notification:window.Notification,body:s.default.normalizeEmoji(i),icon:c.default.relToAbs(l)}))}return i(t,e),t}(d.default);t.default=p},dhgdjhdfdh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.frequentlyForwardedCount,n=e.totalCount,a=i.createElement("span",{className:m.default.text},1===t&&1===n?l10n.t("forwarded_frequently_warning_single"):l10n.t("forwarded_frequently_warning_multiple")," ",i.createElement(c.default,{href:(0,f.getFrequentlyForwardedFaqUrl)()},l10n.t("learn_more")));return i.createElement("div",{className:m.default.wrapper},i.createElement("div",{className:m.default.icon},i.createElement(p.default,{name:"highly-forwarded"})),i.createElement(s.default,{theme:"plain",primary:a,idle:!0}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("dhbceejbjg"),s=a(l),u=n("bidfjbaebi"),c=a(u),f=n("facgccaif"),d=n("bfdcadbbif"),p=a(d),h=n("dijcicjfhc"),m=a(h);r.displayName="FrequentlyForwardedWarning"},dhgeaaaega:function(e,t){e.exports={muted:"_1N9k_",chatstateTyping:"_2ZAIy"}},dhgfhcggji:function(e,t){e.exports={muted:"_2jeg2",mediaCanvas:"_3fLj2",canvasBody:"_26DoP",list:"LQJlb",canvasComponent:"_2eLQ5",canvasComponentLarge:"_1nQDL",canvasSecondRow:"_1en8j",viewerFlow:"H7wMr",active:"_3P8qe",placeholder:"_3gKoq"}},dhgjbgdbhg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return(0,i.aesCbcEncrypt)(e,new Uint8Array(n)).then(function(e){return new c.default(t).sign(e).then(function(t){return d.build(t,e).readBuffer()})})}function o(e,t,n){return Promise.resolve(new Uint8Array(n)).then(function(n){var a=f.encode(n.subarray(0,32)),r=n.subarray(32);return new c.default(t).sign(r).then(function(t){var n=f.encode(t);if(a!==n)throw s.default.error("crypto:macAndDecrypt HMAC don't match "+a+" vs. "+n)(),new Error("macAndDecrypt HMAC mismatch");return(0,i.aesCbcDecrypt)(e,r)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.encryptAndMac=r,t.macAndDecrypt=o;var i=n("eaiigfgagg"),l=n("bdiiahhjbe"),s=a(l),u=n("bbejegbieb"),c=a(u),f=n("hgjcbccfg"),d=n("dbajccegac")},dhhabjhgej:function(e,t){e.exports={muted:"_2IS5x",body:"_1wC3s",text:"_3dPfH",hidden:"xvj7V",desc:"_1oAdg",more:"_3GIEC"}},dhhbehfjej:function(e,t){e.exports={muted:"ETha7",container:"_13fQ2",media:"_3in0k",img:"UAI6v",audio:"_3352Z",videoContainer:"_2Bop3",spinner:"mAc_L",video:"F5UsY",staticPreview:"_2qzas"}},dhhbgegf:function(e,t){e.exports={muted:"voT5T",clickable:"_2LRFQ",body:"_1J99z",main:"_1kz4p",mainEllipsify:"VfNCr",side:"_2h7Od"}},dhhcgceeai:function(e,t){e.exports={muted:"_2QxV_",spam:"_2Pown",text:"_3Dvhp",controls:"xD5k0",button:"GdqkG"}},dhhcghbjeb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bhhdeihhhf"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.mute,n=e.disabled,a=this.props.onMute.bind(null,!t.isMuted),r=t.isMuted?l10n.t("web_menuitem_mute_off"):l10n.t("web_menuitem_mute");return u.createElement(f.default,{action:a,a8n:"mi-mute",disabled:n},r)}}]),t}(u.PureComponent);m.CONCERNS={mute:["isMuted"]},m.displayName="MuteMenuItem",t.default=(0,p.default)((0,h.hoc)(m),m.CONCERNS)},dhhfaeacef:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){switch(e){case x.SMALL:return 49;case x.MEDIUM:return 100;case x.LARGE:return 200;case x.NONE:return;default:return e}}function u(e,t){var n="default-user";return g.default.isUser(e)&&!g.default.isPSA(e)&&t?n="default-user-square":g.default.isGroup(e)?n="default-group":g.default.isBroadcast(e)?n="default-broadcast":g.default.isPSA(e)&&(n="default-psa"),D.createElement("div",{className:R.default.avatarDefault,key:"default"},D.createElement(P.default,{name:n}))}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailImageCommon=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getSize=s,t.getDefaultIcon=u;var d=n("dhigahgdjb"),p=a(d),h=n("cajbifjffe"),m=a(h),b=n("jccfhaecf"),g=a(b),v=n("cajijabhgb"),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),_=n("ihfccfgdf"),E=a(_),j=n("ejbdjaifi"),w=n("bheafeifce"),O=n("efgfgjab"),C=a(O),S=n("bfdcadbbif"),P=a(S),M=n("cffibfiejh"),T=a(M),k=n("ceddibdhdb"),N=a(k),I=n("cjejfecgc"),R=a(I),A=n("ceffhbhahb"),D=n("ddhijeejag"),x={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"},L={LOW:"LOW",HIGH:"HIGH"},F=100,U=t.DetailImageCommon=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.retriedAfter403=!1,n.state={loading:!0,loaded:!1,showSpinner:!1},n.onLoad=function(e){n.showSpinnerTimeout&&n.showSpinnerTimeout.cancel(),n.setState({loading:!1,loaded:!0}),n.props.onLoad&&n.props.onLoad()},n.onError=function(e){if(n.showSpinnerTimeout&&n.showSpinnerTimeout.cancel(),e instanceof y.ServerStatusError){var t=n.props.profilePicThumb;switch(e.status){case 403:t.markStale({eurl:!0}),n.retriedAfter403||(n.retriedAfter403=!0,t.validate());break;case 410:t.markStale()}}n.setState({loading:!1,loaded:!1})},n.enableSpinner="business"!==e.theme,e.loader&&n.enableSpinner&&(n.showSpinnerTimeout=new N.default(function(){n.setState({showSpinner:!0})}),n.showSpinnerTimeout.onOrAfter(F)),n}return l(t,e),f(t,[{key:"componentWillUnmount",value:function(){this.showSpinnerTimeout&&this.showSpinnerTimeout.cancel()}},{key:"componentWillReceiveProps",value:function(e){this.props.profilePicThumbImg!==e.profilePicThumbImg&&(this.setState({loading:!0,loaded:!1,showSpinner:!1}),this.showSpinnerTimeout&&this.showSpinnerTimeout.onOrAfter(F))}},{key:"shouldShowSpinner",value:function(){var e=this.props,t=e.profilePicThumb,n=e.loader,a=this.state,r=a.loading,o=a.showSpinner;return!!this.enableSpinner&&(!!n&&o&&r&&!(!(0,w.unproxy)(t).stale&&!this.props.profilePicThumbImg))}},{key:"render",value:function(){var e=this.props,t=e.profilePicThumbImg,n=e.spinnerClassName,a=e.imgClassName,o=this.state,i=o.loading,l=(o.loaded,r({},R.default.isLoaded,!i));a&&(l=c({},l,r({},a,"string"==typeof a)));var s=A(R.default.avatarImage,l),u=void 0,f=void 0;this.shouldShowSpinner()&&(u=D.createElement(T.default,{key:"spinner",className:n})),t&&(f=D.createElement(m.default,{src:t,hasPrivacyChecks:!0,crossOrigin:!1,className:s,draggable:!1,key:"image",onLoad:this.onLoad,onError:this.onError}));var d=this.props.defaultIcon;return D.createElement(D.Fragment,null,u,f,d)}}]),t}(D.PureComponent);U.displayName="DetailImageCommon";var B=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:"render",value:function(){return D.createElement(U,c({},this.props,{profilePicThumbImg:this.props.profilePicThumb.imgFull}))}}]),t}(D.PureComponent);B.CONCERNS={profilePicThumb:["imgFull"]},B.displayName="DetailImageFull";var G=(0,E.default)((0,j.hoc)(B),B.CONCERNS),V=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:"render",value:function(){return D.createElement(U,c({},this.props,{profilePicThumbImg:this.props.profilePicThumb.img}))}}]),t}(D.PureComponent);V.CONCERNS={profilePicThumb:["img"]},V.displayName="DetailImageThumb";var W=(0,E.default)((0,j.hoc)(V),V.CONCERNS),H=function(e){var t,n=e.id,a=e.size,o=e.quality,i=e.loader,l=e.onClick,c=e.onLoad,f=e.quoted,d=e.square,h=e.border,m=e.waitIdle,b=e.theme,g=a||x.SMALL,v=o||L.LOW,y={height:s(g),width:s(g)};l&&(y.cursor="pointer");var _=A(R.default.avatar,(t={},r(t,R.default.status_v3,"status_v3"===b),r(t,R.default.avatarSquare,d),r(t,R.default.avatarBorder,h),t)),E=u(n,f),j=function(){var e=null,t=p.default.gadd(n),a=t.getProfilePicThumb();return a&&(e=v===L.HIGH?D.createElement(G,{profilePicThumb:a,defaultIcon:E,loader:i,onLoad:c}):D.createElement(W,{profilePicThumb:a,defaultIcon:E,loader:i,onLoad:c})),D.createElement("div",{className:_,style:y,onClick:l},e)};return D.createElement(C.default,{id:n,onComplex:j,waitIdle:m},D.createElement("div",{className:_,style:y,onClick:l},E))};H.displayName="DetailImage",H.Size=x,H.Quality=L,t.default=H},dhjaadicdd:function(e,t,n){"use strict";var a=n("bdiiahhjbe"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o={queryVideoPlaybackUrl:function(e){var t=this;return new Promise(function(n,a){var o=function(e){t.BinaryProtocol.read(e).then(function(e){r.default.logColor("green","bin-recv: response,video_playback_url",e)();var a=void 0;if("response"===t.N.tag(e)&&"video"===t.N.attr("type",e)){var o=t.N.attr("url",e);o&&(a={url:o})}n(a)}).catch(a)},i=t.queryNode({type:"video",url:e},void 0);t.binSend("sendEphemeral",i,a,{onSend:t.binWrap(o,n),onDrop:t.wrap(a)},{debugString:"query,video_playback_url",metric:t.M.QUERY_URL})})}};e.exports=o},dhjeadeagb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("biddiiafgd"),m=a(h),b=n("fifhbjiec"),g=a(b),v=n("bcbahjefec"),y=a(v),_=n("cihiahfgbc"),E=a(_),j=n("cgjcdbggeb"),w=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.filter=function(e){var t=e.groupMetadata;return!(!e.isGroup||e.isGroup&&!t.participants.iAmMember())&&(t.participants.get(a.props.contact.id)?l10n.t("already_added_to_group"):!!t.participants.iAmAdmin()||l10n.t("chat_not_an_admin"))},a.confirmAddToGroup=function(e){a.push(u.createElement(m.default,{onOK:a.addToGroup.bind(null,e),okText:l10n.t("add_group_participant"),onCancel:a._pop,cancelText:l10n.t("web_cancel")},u.createElement(g.default,{text:l10n.t("confirm_add_group_participant",{participant:a.props.contact.formattedName,subject:e.contact.name})})))},a.addToGroup=function(e){(0,j.addParticipants)(e,[a.props.contact]).then(function(){p.default.openChatFromUnread(e).then(function(t){t&&p.default.focusChatTextInput(e)})}).catch(function(){}),a.end()},a._pop=function(){a.pop()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.push(u.createElement(E.default,{chats:f.default.filter(function(e){return e.isGroup}),filter:this.filter,onCancel:this._pop,onGroup:this.confirmAddToGroup}))}}]),t}(y.default);t.default=w},diaggdeic:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("hbhijdici"),i=a(o),l=n("cajijabhgb"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),u=n("bdiiahhjbe"),c=a(u),f=n("djchfddccj"),d=a(f),p=n("dajhhehjhc"),h=a(p),m=function(e,t){if(Array.isArray(e)&&t)return e.concat(t)},b=function(e,t){if(e.Dictionary){var n={};i.default.mergeWith(n,t.Dictionary,e.Dictionary,m),e.Dictionary=n}return i.default.defaults(e,t)},g={OutputStream:h.default,Writer:n("djiifidhej"),InputStream:d.default,Reader:n("chaebfegeh"),Dictionary:n("dabcaghhah"),Crypto:n("ddcchcchag")},v=b({Dictionary:n("cbhhieidga")},g),y=b({Dictionary:n("dabidjgjaj")},v),_=b({Dictionary:n("bbijaajigb")},y),E=b({Dictionary:n("ceihfbbggi")},_),j=b({Dictionary:n("ddfgdjiacb")},E),w=b({Writer:n("bfidcjhfda"),Reader:n("cdjdachjig"),Dictionary:n("gjcabeieb")},j),O={"01":!0,"03":!0,"04":!0,"05":!0,"06":!0,v1:!0,v2:!0,v3:!0,v4:!0},C={v5:g,v6:v,v7:y,v8:_,v9:E,v10:j,v11:w},S=function e(t){r(this,e);var a="number"==typeof t?"v"+t:t;if(O[a])throw c.default.error("binaryProtocol deprecated version: "+a)(),new s.DeprecatedProtocolVersion("bp_deprecated_version");var o=C[a];if(!o)throw c.default.error("binaryProtocol unknown version: "+a)(),new s.UpdateImmediately("bp_unknown_version");var i=o.OutputStream,l=new o.Writer(o.Dictionary),u=o.InputStream,f=new o.Reader(o.Dictionary),d=o.Crypto;this.Node=n("bcjjbcbjaa"),this.read=function(e){return d.decrypt(e).then(function(e){return f.readNode(new u(e))})},this.write=function(e){return Promise.callSynchronously(function(){var t=new i;return l.writeNode(t,e),d.encrypt(t.toBuffer())})},this.dropAllBecauseLogout=function(){return d.dropAllBecauseLogout()}};t.default=S},dibgadcjce:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e&&(e.stopPropagation(),e.preventDefault())}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("cehjjfagii"),h=a(p),m=n("dfeecdfijg"),b=a(m),g=n("ihfccfgdf"),v=a(g),y=n("ejbdjaifi"),_=n("bheafeifce"),E=n("cieaeggjg"),j=a(E),w=n("bffjfbgbg"),O=a(w),C=n("fifhbjiec"),S=a(C),P=n("ceffhbhahb"),M=a(P),T=n("eiiicijcj"),k=a(T),N=n("bjeccdffag"),I=a(N),R=n("gbfffciea"),A=a(R),D=n("bfjbdahdag"),x=a(D),L=n("behbjhhbg"),F=n("bhcegecbha"),U=a(F),B=n("hbhijdici"),G=a(B),V=n("biddiiafgd"),W=a(V),H=n("eadfaddcj"),Y=a(H),q=n("dheiadgfhj"),K=a(q),z=n("beadfddidc"),Q=n("bfjajhbdf"),X=a(Q),J=G.default.pickBy(L.MIMETYPES,function(e){return"document"===e.msgType}),Z=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.showMediaMissing=function(e){s(e),A.default.openModal(d.createElement(k.default,{msg:a.props.msg}))},a.downloadMedia=function(e){if(s(e),!Modernizr.adownload){var t=l10n.t("whatsapp_safari_limited").replace("__chrome_homepage__",Y.default.BROWSER_LINK.CHROME).replace("__firefox_homepage__",Y.default.BROWSER_LINK.FIREFOX).replace("__opera_homepage__",Y.default.BROWSER_LINK.OPERA);return void A.default.openModal(d.createElement(W.default,{onOK:function(){return A.default.closeModal()},okText:l10n.t("web_ok")},d.createElement("div",{dangerouslySetInnerHTML:{__html:t}})))}a.props.msg.forceDownloadMedia().catch(function(){}).then(function(){switch(a.props.mediaData.mediaStage){case O.default.STAGE.RESOLVED:case O.default.STAGE.ERROR_UNSUPPORTED:a.displayToast(),U.default.initDownload((0,_.unproxy)(a.props.msg));break;case O.default.STAGE.ERROR_MISSING:a.showMediaMissing()}})},a.cancelDownload=function(e){s(e),a.props.msg.cancelDownload()},a.cancelUpload=function(e){s(e),a.props.msg.cancelUpload()},a.resumeUpload=function(e){s(e),a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(e){s(e),a.props.msg.resumeRemoteUpload()},r=n,i(a,r)}return l(t,e),c(t,[{key:"displayToast",value:function(){var e=this.props.mediaData,t=e.filename||l10n.t("untitled_document");A.default.openToast(d.createElement(X.default,{msg:l10n.t("document_downloaded",{name:t}),id:(0,Q.genId)()}))}},{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.mediaData,o=t.displayAuthor,i=t.displayType,l=o&&!n.isSentByMe&&n.isGroupMsg,s=n.showForwarded(),c=l?d.createElement("div",{className:K.default.author},d.createElement(h.default,{msg:n,contact:n.senderObj})):null,f=s?d.createElement(b.default,{msg:n,className:K.default.forwardedIndicator}):null,p=(0,z.shouldEnableHsm)()&&n.caption?K.default.templateBubble:K.default.bubble,m=(0,M.default)(p,(e={},r(e,K.default.hasCaption,(0,z.shouldEnableHsm)()&&n.caption),r(e,K.default.bubbleOut,n.isSentByMe),r(e,K.default.bubbleIn,!n.isSentByMe),r(e,K.default.hasAuthor,l),r(e,K.default.forwarded,s),r(e,K.default.isPreview,this.props.displayType===Y.default.DISP_TYPE.MSG_INFO),r(e,K.default.isGallery,this.props.displayType===Y.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===Y.default.DISP_TYPE.GALLERY),e)),g=void 0;a.pageCount>0&&(g=d.createElement("span",{className:K.default.metaValue},l10n.t("web_conversations_most_recent_document",{count:a.pageCount,_plural:a.pageCount})));var v=a.size>0?d.createElement("span",{className:K.default.metaValue},l10n.filesize(a.size)):null,y=void 0,_=K.default.filetypeIcon,E=void 0,w=void 0;G.default.has(J,a.mimetype)&&(E=J[a.mimetype].ext,w=a.mimetype);var C=void 0;if(a.filename){var P=a.filename.split(".");P.length>1&&(C=G.default.upperCase(G.default.last(P)))}(!E||C&&E!==C)&&(E=C,w=G.default.get(L.EXT_TO_MIME,E)),_=(0,M.default)(_,w&&G.default.get(J,[w,"icon"])||"icon-doc-generic"),E&&(y=d.createElement("span",{"data-meta-key":"type",className:K.default.metaValue},E));var T=a.preview&&this.props.trusted?d.createElement("div",{className:K.default.thumb,style:{backgroundImage:'url("'+a.preview.url()+'")'}}):null,k=a.filename||l10n.t("untitled_document"),N=null,R={href:"#",onClick:null};switch(a.mediaStage){case O.default.STAGE.RESOLVED:case O.default.STAGE.ERROR_UNSUPPORTED:R.onClick=this.downloadMedia,N=d.createElement(I.default.Download,{onClick:R.onClick});break;case O.default.STAGE.FETCHING:N=d.createElement(I.default.PendingCancel,null),R.onClick=this.cancelDownload;break;case O.default.STAGE.NEED_POKE:case O.default.STAGE.INIT:R.onClick=this.downloadMedia,N=d.createElement(I.default.Download,{onClick:R.onClick});break;case O.default.STAGE.UPLOADING:N=d.createElement(I.default.PendingCancel,{outgoingMsg:n.isSentByMe}),R.onClick=this.cancelUpload;break;case O.default.STAGE.NEED_UPLOAD:N=d.createElement(I.default.Upload,null),R.onClick=this.resumeUpload;break;case O.default.STAGE.REMOTE_NEED_UPLOAD:N=d.createElement(I.default.Upload,null),R.onClick=this.resumeRemoteUpload;break;case O.default.STAGE.ERROR_TOO_LARGE:R.onClick=null;break;case O.default.STAGE.ERROR_MISSING:R.onClick=this.showMediaMissing;break;default:N=d.createElement(I.default.Pending,{outgoingMsg:n.isSentByMe})}var A=i===Y.default.DISP_TYPE.GALLERY?d.createElement("div",{className:K.default.meta},d.createElement(j.default,{msg:n,theme:"date"})):d.createElement("div",{className:K.default.meta},d.createElement(j.default,{msg:n})),D=this.props.quotedMsg?d.createElement("div",{className:K.default.quote},this.props.quotedMsg):null,F=void 0,U=void 0;(0,z.shouldEnableHsm)()&&(F="template"===n.type&&n.caption?d.createElement("div",{className:K.default.caption},d.createElement(x.default,{msg:n,trusted:this.props.trusted,spacer:!n.footer})):null,U=n.footer?d.createElement("div",{className:K.default.footer},d.createElement(S.default,{text:n.footer,dirMismatch:n.rtl!==l10n.isRTL(),direction:n.dir})):null);var B=(0,z.shouldEnableHsm)()&&"template"===n.type&&n.caption?null:d.createElement("div",{className:K.default.docMeta},g,y,v);return d.createElement("div",{className:m},c,f,D,d.createElement("a",u({className:K.default.container,title:l10n.t("web_download_document",{name:k})},R),T,d.createElement("div",{className:K.default.body},d.createElement("div",{className:K.default.icon},d.createElement("div",{className:_})),d.createElement("div",{className:K.default.text},d.createElement(S.default,{text:k,dirMismatch:n.rtl!==l10n.isRTL(),direction:"auto"})),N)),F,U,B,A)}}]),t}(d.PureComponent);Z.CONCERNS={msg:["rtl","ack","isSentByMe","isGroupMsg","senderObj","caption","footer","type","dir"],mediaData:["mediaStage","filename","pageCount","size","mimetype","preview"]},Z.displayName="Doc",t.default=(0,v.default)((0,y.hoc)(Z),Z.CONCERNS)},dibjgbdhfg:function(e,t){e.exports={muted:"_1GRv7",emojiPanel:"_342qq",panelBody:"_3hg8T",panelDropdown:"_1mTBR"}},diccedcfdi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("fifhbjiec"),h=a(p),m=n("fffdgbfji"),b=a(m),g=n("dbbbgjbbgf"),v=a(g),y=n("cfiighfhhg"),_=a(y),E=n("faeadiehh"),j=a(E),w=n("dbabefhajh"),O=a(w),C=n("gaifbabbj"),S=n("cicjibbhdb"),P=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props.msg,t=e.isTrusted()?C.Configuration.TrustedConversation:C.Configuration.UntrustedConversation,n=t({mentions:e.mentionMap(),links:e.getLinks(),selectable:!0}),a=e.comment?c.createElement(v.default,{msg:e},c.createElement(h.default,{text:e.comment,formatters:n,selectable:!0,dirMismatch:e.rtl!==b.default.isRTL(),direction:e.dir})):null,o=void 0;if(this.props.quotedMsg){var i,l=(0,d.default)(j.default.quote,(i={},r(i,j.default.hasAuthor,this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg),r(i,j.default.forwarded,e.showForwarded()),i));o=c.createElement("div",{className:l},this.props.quotedMsg)}return c.createElement(O.default,{msg:e,displayAuthor:this.props.displayAuthor},o,c.createElement("div",{className:a?j.default.hasText:j.default.noText},c.createElement(_.default,{hasCaption:!!a,iconName:(0,S.liveLocationIcon)(!1),msg:this.props.msg,theme:"small-icon"},b.default.t("check_phone_for_live_location"))),a)}}]),t}(c.Component);P.displayName="LiveLocation",t.default=P},dicfecifhd:function(e,t,n){"use strict";var a={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,JID_AD:247,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254};e.exports=a},dicggaeied:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return Promise.loop(function(t,a,r){var o=Promise.delay(h.default.expBackoff(r,12e4,1e3,.1));return n("fbighchac")("./"+e)().then(function(e){var n=i(e,2),a=n[1];return t(a)}).catch(function(){return o})}).catch(function(){return{}})}function o(){var e=s.default.uniq(["en",l10n.getLocale()]).filter(function(e){return E.has(e)});if(!(0,_.default)(O,e)){O=e;var t=Promise.map(e,function(e){return r(e)}).then(function(e){w===t&&(j=(0,g.emojiLocaleDictsToTrie)(e))}).catch(function(){}).finally(function(){w===t&&(w=null)});w=t}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return(0,v.default)(e,j)};var l=n("hbhijdici"),s=a(l),u=n("gbfffciea"),c=a(u),f=n("dcdiaahjj"),d=a(f),p=n("bgabgddgch"),h=a(p),m=n("ebggjhghhi"),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),g=n("dideejhcch"),v=a(g),y=n("bbhahjgijh"),_=a(y),E=new Set(["ar","bn","cs","de","en","es","fa","fr","gu","he","hi","hu","id","it","mr","ms","nl","pl","pt","pt-BR","ro","ru","sk","th","tr","uk","ur","zh-CN","zh-TW"]),j=null,w=null,O=[];c.default.on("locale_change",function(){o()}),b.waitForBBEvent(d.default,"change:mode",function(){return d.default.mode===f.StreamMode.MAIN}).then(function(){o()})},didbbgcjac:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n("ddhijeejag"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),u=n("bfdcadbbif"),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.className;return s.createElement(c.default,{className:e,name:"sticker-placeholder"})}}]),t}(s.PureComponent);f.displayName="StickerPlaceholder",t.default=f},dideejhcch:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=[];if(e){var a=i(e.toLowerCase(),t);n=f.default.uniq(a)}return n}function o(e,t){if(!t)return[];if(e.length<=5)return t.getMatches(e,{splitRegex:v});var n=e.substring(0,5).trim(),a=t.getMatches(n,{splitRegex:v});return a=f.default.filter(a,function(t){return f.default.startsWith(t.keyword,e)})}function i(e,t){var n=o(e,t),a=f.default.flatMap(f.default.filter(n,{keyword:e}),"value");n=f.default.flatMap(n,"value");var r=f.default.intersection(p.default.map(function(e){return e.id}),n),i=f.default.intersection(y,n),s=f.default.intersection(f.default.union(r,i),a);return s=f.default.compact(f.default.map(s,function(e){return m.default.getEmojiFromUnicode(e)})),a=f.default.compact(f.default.map(a,function(e){return m.default.getEmojiFromUnicode(e)})),a=l(a),r=f.default.compact(f.default.map(r,function(e){return m.default.getEmojiFromUnicode(e)})),i=f.default.compact(f.default.map(i,function(e){return m.default.getEmojiFromUnicode(e)})),n=f.default.compact(f.default.map(n,function(e){return m.default.getEmojiFromUnicode(e)})),n=f.default.difference(n,f.default.union(a,r,i)),n=l(n),f.default.union(s,a,r,i,n)}function l(e){var t={};return _.forEach(function(e){t[e]=[]}),e.forEach(function(e){var n=m.default.getCategoryString(e);t[n].push(e)}),f.default.forOwn(t,function(e,n){e.length>0&&(t[n]=f.default.intersection(m.default.getEmojiListInCategory(n),e))}),f.default.flatMap(t)}function s(e){var t=e[0];e.length>1&&(t=u({},t,e[1]));var n=f.default.map(t,function(e,t){var n=t.toLowerCase();return{value:e,keyword:n,shortKeyword:n.substring(0,5)}});return(0,g.default)(n,"shortKeyword",{splitRegex:v})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=r,t.emojiLocaleDictsToTrie=s;var c=n("hbhijdici"),f=a(c),d=n("bjfecgfdgj"),p=a(d),h=n("djegeegcbf"),m=a(h),b=n("bjiibhij"),g=a(b),v="^>",y=["😂","😍","😘","🤣","😀","❤️","😉","😊","🤔","😭","😁","😜","👏","😎","👍","😬","😆","🙂","😇","😠","😅","☺️","🤗","😄","😒","😃","😏","😌","👌","😝","🙃","😋","🎂","😡","😱","🙏","😔","😢","😳","😞","🤤","👊","😛","😚","🙄","💕","✌️","💪","💞","🌹"],_=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS","VARIATION"]},dieejegcge:function(e,t,n){"use strict";var a=n("chgaccicf"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o=(0,r.default)({CONTACT_US:void 0,DELETE_OR_EXIT_CHAT:void 0,GO_TO_NEXT_CHAT:void 0,GO_TO_PREV_CHAT:void 0,LOGOUT:void 0,OPEN_NEW_CHAT:void 0,OPEN_NEW_GROUP:void 0,OPEN_PROFILE:void 0,OPEN_SETTINGS:void 0,SEARCH:void 0,SEARCH_IN_CHAT:void 0,TOGGLE_ARCHIVE:void 0,TOGGLE_MUTE:void 0,TOGGLE_UNREAD:void 0,ZOOM_IN:void 0,ZOOM_OUT:void 0,ZOOM_RESET:void 0});e.exports=o},diegbjcafg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("bjigbaghc"),m=a(h),b=n("eadfaddcj"),g=a(b),v=n("dhigahgdjb"),y=a(v),_=n("dcjdgceiej"),E=a(_),j=n("edbaidcaf"),w=a(j),O=n("jccfhaecf"),C=a(O),S=n("djbfhebjhe"),P=a(S),M=n("bfejacaeaj"),T=a(M),k=n("dgjddffcfg"),N=n("facgccaif"),I=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onVerificationClick=function(){var e=a.props.jid;e&&(f.default.closeModal(),f.default.verificationDrawer(e))},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=void 0,t=void 0,n=null,a=null,r=function(){return f.default.closeModal()},o=l10n.t("web_ok"),i=this.props,l=i.e2eSubtype,s=i.chatId;switch(l){case"info_encrypted":C.default.isGroup(s)?e=l10n.t("web_group_info_encrypted_description"):C.default.isBroadcast(s)&&(e=l10n.t("web_broadcast_info_encrypted_description")),t=(0,N.getE2EFaqUrl)();break;case"identity":var c=this.props.jid,d=c&&y.default.get(c),h=d?d.formattedName:(0,P.default)(this.props.jid);e=l10n.t("web_security_code_change_description",{name:h}),n=r,a=o,r=this.onVerificationClick,o=l10n.t("web_verify_button"),t=(0,N.getCodeChangeFaqUrl)();break;case"encrypt":default:if(t=w.default.build(g.default.SECURITY_LINK,{lg:m.default.lg,lc:m.default.lc}),C.default.isGroup(s))e=l10n.t("web_group_encryption_state_change_description");else if(C.default.isBroadcast(s))e=l10n.t("web_broadcast_encryption_state_change_description");else if(C.default.isOfficialBizAccount(s))e=l10n.t("web_official_biz_encryption_change_description"),t=(0,N.getE2EEnterpriseFaqUrl)();else{var b=y.default.get(s);if(b&&b.isEnterprise){var v=(0,k.formatEnterpriseE2EName)(b);e=l10n.t("web_individual_chat_encryption_state_change_description_enterprise",{businessName:v}),t=(0,N.getE2EEnterpriseFaqUrl)()}else e=l10n.t("web_individual_chat_encryption_state_change_description")}}var _=u.createElement("a",{target:"_blank",href:t},l10n.t("learn_more"));return u.createElement(p.default,{onOK:r,okText:o,onCancel:n,cancelText:a},e," ",_)}}]),t}(u.Component);I.contextTypes={uim:T.default.instanceOf(E.default)},I.displayName="E2EInfoModal",t.default=I},digcccheca:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=[];return e.forEach(function(e){return t.push(e)}),t}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this.internalHandlers=new Map}return o(e,[{key:"initialize",value:function(e){this.ctx=e}},{key:"registerHandler",value:function(e,t,n){var a=this.internalHandlers.get(t)||new Map;a.set(e,n),this.internalHandlers.set(t,a)}},{key:"unregisterHandler",value:function(e,t){var n=this.internalHandlers.get(t);n&&(n.delete(e),n.size||this.internalHandlers.delete(t))}},{key:"handle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.internalHandlers.get(e);return!!n&&r(n).some(function(e){return e.apply(null,t)})}}]),e}();e.exports=i},dihehaccca:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){switch(e){case j.SMALL:return 49;case j.MEDIUM:return 100;case j.LARGE:return 200;case j.NONE:return;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=a(c),d=n("cajbifjffe"),p=a(d),h=n("cffibfiejh"),m=a(h),b=n("bfdcadbbif"),g=a(b),v=n("ceffhbhahb"),y=a(v),_=n("dfbbbjdejj"),E=a(_),j={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"},w=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={isLoaded:!1},a.onLoad=function(){a.setState({isLoaded:!0})},r=n,i(a,r)}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.src,a=e.fallback,o=e.className,i=e.loader,l=this.state.isLoaded,u=(0,y.default)(E.default.avatarImage,r({},E.default.isLoaded,l)),c={height:s(t),width:s(t)},d=void 0;return i&&!l&&(d=f.default.createElement(m.default,null)),f.default.createElement("div",{className:(0,y.default)(E.default.avatar,o),style:c},d,f.default.createElement(p.default,{src:n,className:u,onLoad:this.onLoad}),f.default.createElement("div",{className:E.default.avatarDefault},f.default.createElement(g.default,{name:a})))}}]),t}(c.PureComponent);w.defaultProps={size:j.SMALL,loader:!1},w.displayName="ImgWithFallback",t.default=w},diigahjidi:function(e,t){e.exports={muted:"_2ZFoJ",actions:"_1PENu",actionsBtn:"Ir_Ne",noDivider:"_K9qV"}},dijcicjfhc:function(e,t){e.exports={muted:"_1FgmA",wrapper:"_1kjoa",icon:"exVc0",text:"_2SQDy"}},djahiefbec:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("cajijabhgb"),d=r(f),p=n("dbdfbgehgj"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("biddiiafgd"),v=a(g),y=n("eadfaddcj"),_=a(y),E=n("dhigahgdjb"),j=a(E),w=n("dhhfaeacef"),O=a(w),C=n("fifhbjiec"),S=a(C),P=n("dihehaccca"),M=a(P),T=n("bjbedjfe"),k=a(T),N=n("hhjiahbag"),I=a(N),R=n("chcadgfgad"),A=n("ejbdjaifi"),D=n("bejbgaghc"),x=n("cicgeajfge"),L=n("bjcegba"),F={LOADING:0,SUCCESS:1,ERROR:2},U=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={state:F.LOADING,status:void 0,groupMetadata:void 0,subject:void 0},a.onViewGroup=function(e){var t=void 0;e?t=e:a.state.groupMetadata&&(t=a.state.groupMetadata.id),t&&b.default.openChatFromUnread(h.default.assertGet(t)),b.default.closeModal()},a.onJoinGroup=function(){(0,D.joinGroupViaInvite)(a.props.groupCode).then(function(e){b.default.openChatFromUnread(e).then(function(t){t&&b.default.focusChatTextInput(e)}),b.default.closeModal()}).checkpoint(a.props.rejectOnUnmount()).catch(d.Unmount,function(){}).catch(d.ServerStatusCodeError,function(e){a.setState({state:F.ERROR,status:e.status})})},a.onCancel=function(){b.default.closeModal()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;(0,L.queryGroupInviteInfo)(this.props.groupCode).checkpoint(this.props.rejectOnUnmount()).then(function(t){var n=t.status,a=t.subject,r=t.groupMetadata;t.inGroup?e.onViewGroup(r.id):e.setState({status:n,groupMetadata:r,subject:a,state:F.SUCCESS})}).catch(d.ServerStatusCodeError,function(t){e.setState({status:t.status,state:F.ERROR})}).catch(d.Unmount,function(){})}},{key:"render",value:function(){var e=this.props.groupCode,t=this.state,n=t.state,a=t.status,r=t.groupMetadata,o=t.subject,i={cancelText:l10n.t("group_invite_cancel"),onCancel:this.onCancel,onOK:void 0,okText:void 0},l=void 0,s=void 0;if(n===F.LOADING)l=c.createElement(x.LoadingWithText,{text:l10n.t("group_invite_check_link")});else if(n===F.SUCCESS&&r){var u=r.participants,f=r.size||u.length,d=u.filter(function(e){return!!j.default.assertGet(e.id).name}),p=void 0,m=r.desc?c.createElement("div",{className:I.default.metadataDesc},r.desc):null;p=d.length?c.createElement("div",{className:I.default.participantList},c.createElement("div",{className:I.default.participantsTitle},l10n.t("group_invite_participants",{count:f,_plural:f})," ","•"," ",l10n.t("group_invite_contacts",{count:d.length,_plural:d.length})),c.createElement("div",{className:I.default.participantsContainer},d.map(function(e){return c.createElement("div",{key:e.id.toString(),className:I.default.participantWrapper},c.createElement(O.default,{id:e.id}),c.createElement(S.default,{className:I.default.participantText,text:e.contact.formattedName}))}))):c.createElement("div",{className:I.default.emptyContentContainer},c.createElement("span",{className:I.default.participantsText},l10n.t("group_invite_participants",{count:u.length,_plural:u.length})),c.createElement("span",{className:I.default.contactsText}," ","•"," ",l10n.t("group_invite_contacts",{count:d.length,_plural:d.length})));var b=""+_.default.GROUP_INVITE_URL+e,g=j.default.gadd(r.owner).formattedName;l=c.createElement("div",null,c.createElement("div",{className:I.default.metadataContainer},c.createElement(M.default,{src:b,fallback:"default-group",size:82}),c.createElement("div",{className:I.default.metadataText},c.createElement(S.default,{className:I.default.metadataTitle,text:o}),c.createElement("span",{className:I.default.metadataSubtitle},l10n.t("group_invite_created_by",{participant:g})),m)),p);var y=h.default.get(r.id),E=!!y&&!y.isReadOnly;i.onOK=E?this.onViewGroup:this.onJoinGroup,i.okText=E?l10n.t("group_invite_view"):l10n.t("group_invite_join"),s=R.FlexModalType}else{var w=void 0;switch(a){case 401:w=l10n.t("group_invite_accept_401");break;case 404:w=l10n.t("group_invite_accept_404");break;case 410:w=l10n.t("group_invite_accept_410");break;case 419:w=l10n.t("group_invite_accept_419");break;default:w=l10n.t("group_invite_accept_500")}i.cancelText=l10n.t("web_ok"),l=c.createElement("div",null,w)}return c.createElement(v.default,{cancelText:i.cancelText,onCancel:i.onCancel,onOK:i.onOK,okText:i.okText,type:s},l)}}]),t}(c.Component);U.displayName="GroupInviteModal",t.default=(0,k.default)((0,A.hoc)(U))},djbecaeiae:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("fifhbjiec"),m=a(h),b=n("biddiiafgd"),g=a(b),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onCancel=function(){p.default.closeModal()},a.onUnstar=function(){var e=a.props.chat,t=a.props.msgs;e&&e.pendingAction++,f.default.unstarAllMessages(t,e).finally(function(){e&&e.pendingAction--}),p.default.closeModal()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.createElement(g.default,{onOK:this.onUnstar,okText:l10n.t("unstar_all_button"),onCancel:this.onCancel},u.createElement("div",null,u.createElement(m.default,{text:l10n.t("unstar_all_confirm")})))}}]),t}(u.Component);v.displayName="UnstarAllPopup",t.default=v},djbgihfhif:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("fijafegab"),f=a(c),d=n("bfbggcdbfb"),p=a(d),h=n("cgbfcjgjcf"),m=a(h),b=n("bfdcadbbif"),g=a(b),v=n("bheafeifce"),y=n("bgjddhffji"),_=n("bfajcggcdf"),E=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onProductDetail=function(e){var t=a.props,n=t.onProductDetail,r=t.sessionId;t.entryPoint===p.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE&&(0,y.logProfileProductClick)((0,v.unproxy)(e),r),n(e,r)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.entryPoint,n=e.catalog,a=e.sessionId;t===p.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE&&(0,y.logBusinessProfileCatalogView)(n.id.toString(),a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.catalog,a=t.onProductCatalog,r=t.filterProductId,o=t.title,i=t.animation,l=t.sessionId,s=n.productCollection.getProductModels().slice(0,7).filter(function(e){return e.id.toString()!==r}).map(function(t,n){return u.createElement(m.default,{key:t.id.toString(),onClick:function(){return e.onProductDetail(t)},mediaData:t.imageCdnUrl.productImageModel.mediaData})}).slice(0,6);if(!s.length)return null;var c=u.createElement(g.default,{name:"chevron-right-alt",directional:!0});return u.createElement(f.default,{title:o||l10n.t("product_catalog"),titleOnClick:a.bind(this,l),subtitle:c,theme:"padding",animation:i},u.createElement(_.Gallery,{productMedias:s,mediaCollection:n.productCollection}))}}]),t}(u.Component);E.displayName="CatalogDrawerSection",t.default=E},djbhhciahi:function(e,t){e.exports={muted:"UUbo4",multimediaGallery:"ca1V1",column:"_3JYvu",menuItem:"Y1iVg",active:"_3caqI",menuTabsLists:"_27U_m"}},djbhiedbef:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("ceffhbhahb"),h=a(p),m=n("dhajfeafhd"),b=a(m),g=n("cicjcfabii"),v=a(g),y=n("hbhijdici"),_=a(y),E=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){var e,t=this.props,n=t.overflow,a=t.flatListControllers,i=t.children,l=o(t,["overflow","flatListControllers","children"]),s=(0,h.default)(b.default.container,(e={},r(e,b.default.noscroll,"hidden"===n),r(e,b.default.centerItem,"center-content"===this.props.theme),r(e,b.default.padding,"padding"===this.props.theme),e));return a&&a.length?d.createElement(v.default,u({flatListControllers:a,className:s},_.default.omit(l,["theme"])),i):d.createElement("div",u({className:s},l),i)}}]),t}(d.Component);E.displayName="DrawerBody",t.default=E},djcchigfih:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ceffhbhahb"),c=a(u),f=n("ddhijeejag"),d=a(f),p=n("ccegbieicj"),h=a(p),m=n("ccabcdcjec"),b=a(m),g=n("bahefhdbbb"),v=a(g),y=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setDragAndDropRef=function(e){a.dragAndDropRef=e},a.onDragOver=function(e){a.dragAndDropRef&&a.dragAndDropRef.onDragOver(e)},a.onDragStart=function(e){a.dragAndDropRef&&a.dragAndDropRef.onDragStart(e)},a.onDragEnd=function(e){a.dragAndDropRef&&a.dragAndDropRef.onDragEnd(e)},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.onDrop,o=t.onDragChange,i=t.theme,l=(0,c.default)(v.default.drawer,(e={},r(e,v.default.white,"invite"===i||"products"===i||"labels"===i||"settings"===i),r(e,v.default.drawerCapture,"capture"===i),r(e,v.default.drawerEdit,"edit"===i),r(e,v.default.drawerMedia,"media"===i),r(e,v.default.drawerGallery,"gallery"===i),r(e,"drawer-verification","verification"===i),e));return d.default.createElement(h.default,{className:l,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},a&&d.default.createElement(b.default,{ref:this.setDragAndDropRef,disableFromWithin:!0,onDragChange:o,onDrop:a}),n)}}]),t}(f.PureComponent);y.displayName="Drawer",t.default=y},djchfddccj:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("dbajccegac"),i=function(){function e(t){a(this,e),this.binary=new o(t)}return r(e,[{key:"readByte",value:function(){return this.binary.readUint8()}},{key:"readInt16",value:function(){return this.binary.readUint16()}},{key:"readInt20",value:function(){return((15&this.binary.readUint8())<<16)+(this.binary.readUint8()<<8)+this.binary.readUint8()}},{key:"readInt32",value:function(){return this.binary.readUint32()}},{key:"readString",value:function(e){return this.binary.readString(e)}},{key:"readBytes",value:function(e){return this.binary.readBuffer(e)}},{key:"debugInfo",value:function(){return"offset: "+this.binary._readIndex+" byte: "+this.binary._buffer[this.binary._readIndex]}},{key:"debugInfoWithPadding",value:function(){var e=this.binary._buffer.slice(Math.max(0,this.binary._readIndex-20),this.binary._readIndex).toString(),t=this.binary._buffer.slice(this.binary._readIndex,Math.min(this.binary._buffer.length,this.binary._readIndex+20)).toString();return"offset: "+this.binary._readIndex+" byte: "+this.binary._buffer[this.binary._readIndex]+" previous 20 bytes: "+e+"\n        following 20 bytes: "+t+"\n        "}}]),e}();t.default=i},djcjacfcic:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dir=t.Transition=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("ddajbaceej"),m=a(h),b=n("eceadcicaf"),g=a(b),v=n("ejbdjaifi"),y=n("didfdhbecg"),_=a(y),E=n("bgddggdhc"),j=n("dhfbjgicha"),w=a(j),O=n("caffijjhc"),C=a(O),S=n("dcjdgceiej"),P=a(S),M=n("bfejacaeaj"),T=a(M),k=n("hjbbdjjdf"),N=n("bagaghiajb"),I=a(N),R=t.Transition={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"},A=(t.Dir={LEFT:"left",MID:"mid",RIGHT:"right"},function(e){return R[e.toUpperCase()]}),D=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={drawer:void 0,drawerId:null,transition:A(a.props.direction),uim:void 0,option:void 0},a.blockTransition=null,a.flowDismissPending=!1,a.setRefUIE=function(e){return a.refUIE=e},a.openFlow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A(a.props.direction),n=arguments[2],r=arguments[3],o=f.default.uniqueId("DrawerManager"+a.props.direction);if(!a.flowDismissPending&&a.state.drawer){if(e.key&&f.default.isEqual(a.state.drawer.key,e.key))return;a.blockTransition=R.NONE,a.setState({drawer:e,drawerId:o,transition:t,uim:n,option:r},function(){a.blockTransition=t})}else a.props.onDrawerIn&&a.props.onDrawerIn(),a.setState({drawer:e,drawerId:o,transition:t,uim:n,option:r})},a.existsFlow=function(e){e(!0!==a.flowDismissPending&&!!a.state.drawer)},a.closeFlow=function(e){e&&a.state.drawerId!==e||a.state.drawer&&(a.props.onDrawerOut&&a.props.onDrawerOut(),a.flowDismissPending=!0,a.setState({drawer:void 0},function(){a.flowDismissPending=!1}))},a.requestFocus=function(){var e=(0,E.forbiddenFindDOMNode)(a.refUIE);e&&!e.contains(document.activeElement)&&m.default.focus(e)},a.onAnimationComplete=function(){var e=a.props.onDrawerAnimationComplete;e&&e();var t=a.state,n=t.option,r=t.drawer;n&&(r&&(0,k.isFunction)(n.onEnterAnimationComplete)&&n.onEnterAnimationComplete(),!r&&(0,k.isFunction)(n.onLeaveAnimationComplete)&&n.onLeaveAnimationComplete())},i=n,o(a,i)}return i(t,e),l(t,[{key:"getChildContext",value:function(){return{uim:this.state.uim||this.context.uim}}},{key:"componentWillMount",value:function(){this.props.listeners.add(p.default,"open_drawer_"+this.props.direction,this.openFlow),this.props.listeners.add(p.default,"exists_drawer_"+this.props.direction,this.existsFlow),this.props.listeners.add(p.default,"close_drawer_"+this.props.direction,this.closeFlow)}},{key:"componentWillReceiveProps",value:function(e){e.direction!==this.props.direction&&(this.props.listeners.remove(p.default,"open_drawer_"+this.props.direction,this.openFlow),this.props.listeners.remove(p.default,"exists_drawer_"+this.props.direction,this.existsFlow),this.props.listeners.remove(p.default,"close_drawer_"+this.props.direction,this.closeFlow),e.listeners.add(p.default,"open_drawer_"+e.direction,this.openFlow),e.listeners.add(p.default,"exists_drawer_"+e.direction,this.existsFlow),e.listeners.add(p.default,"close_drawer_"+e.direction,this.closeFlow))}},{key:"render",value:function(){var e=this.props.direction,t=this.state,n=t.drawer,a=t.drawerId,r=t.transition,o=t.option,i=this.blockTransition||r,l=o&&o.noFocus?null:this.requestFocus;return n&&(n=u.createElement(C.default,{displayName:"Drawer"+f.default.upperFirst(e),escapable:!0,key:a,ref:this.setRefUIE,requestFocus:l,requestDismiss:this.closeFlow.bind(null,a)},u.createElement(w.default,{style:{height:"100%"}},n))),u.createElement(_.default,{className:I.default.container,transitionName:i,onAnimationComplete:this.onAnimationComplete},n)}}]),t}(u.PureComponent);D.contextTypes={uim:T.default.instanceOf(P.default)},D.childContextTypes={uim:T.default.instanceOf(P.default)},D.displayName="DrawerManager",t.default=(0,g.default)((0,v.hoc)(D))},djcjgfjggc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){switch((0,W.gifProvider)()){case"giphy":return u(e);case"tenor":return f(e);default:throw new Error("Unrecognized provider "+(0,W.gifProvider)())}}function u(e){var t=e===V.default.TRENDING,n=void 0;if(t)n=L.default.request("https://api.giphy.com/v1/gifs/trending","GET",{api_key:Z,limit:100,rating:"pg-13"},"json");else{var a=l10n.getLocale(),r=void 0;W.GIPHY_LOCALES.indexOf(a)>=0&&(r=a),n=L.default.request("https://api.giphy.com/v1/gifs/search","GET",{q:e,api_key:Z,limit:100,rating:"pg-13",lang:r},"json")}return n.catch(function(){return null}).then(function(e){return e&&e.status<300&&c(e.response,t)})}function c(e,t){if(!e||!Array.isArray(e.data))return[];for(var n=e.data,a=[],r=0;r<n.length;r++){var o=n[r];if(o&&o.images){var i=o.images,l=i.downsized_small,s=i.preview_mp4,u=i.preview_webp,c=i.preview_gif;if(l){var f=l.mp4,d=parseInt(l.width,10),p=parseInt(l.height,10);f&&d&&p&&a.push(new W.GifInfo(a.length,f,l.size,s&&s.mp4||void 0,u&&u.url||c&&c.url||void 0,Math.round(d*W.TARGET_GIF_HEIGHT/p),W.GIPHY,t))}}}return a}function f(e){var t=e===V.default.TRENDING,n=l10n.lng().replace("-","_"),a=void 0;return a=t?L.default.request("https://wa.tenor.co/v1/trending","GET",{key:$,limit:50,contentfilter:"high",locale:n},"json"):L.default.request("https://wa.tenor.co/v1/search","GET",{q:e,key:$,limit:50,contentfilter:"high",locale:n},"json"),a.catch(function(){return null}).then(function(e){return e&&e.status<300&&d(e.response)})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!Array.isArray(e.results))return[];for(var n=e.results,a=[],r=0;r<n.length;r++){var o=n[r];if(o&&o.media&&o.media[0]){var i=o.media[0],l=i.tinymp4,s=i.previewmp4,u=i.previewgif;if(l){var c=h(l.dims,2),f=c[0],d=c[1];a.push(new W.GifInfo(a.length,l.url,l.size,s&&s.url||void 0,u&&u.url||void 0,Math.round(f*W.TARGET_GIF_HEIGHT/d),W.TENOR,t))}}}return a}function p(e,t){for(var n=[],a=.9*t,r=e,o=null,i=.05;i<1&&r.length;i+=.05){r.sort(function(e,t){var n=e.rank-t.rank;return Math.abs(n)>8?n:t.width-e.width});for(var l=(1+i)*t,s=[],u=[],c=0;c<r.length;c++){for(var f=r[c],d=!1,p=Math.min(l-f.width,a),h=0;!d&&h<s.length;h++)s[h]<p&&(s[h]+=f.width+W.GAP_SIZE,u[h].push(f),d=!0);d||(s.push(f.width),u.push([f]))}if(1===u.length){r=[];var m=t-s[0]-W.GAP_SIZE;o={gifs:u[0],blankStr:m>0?m+"px":void 0}}else{r=[];for(var b=0;b<u.length;b++)s[b]>a?n.push(u[b]):r.push.apply(r,u[b])}}n.forEach(function(e){return e.sort(function(e,t){return e.rank-t.rank})}),n.sort(function(e,t){return e[0].rank-t[0].rank});var g=n.map(function(e){return{gifs:e,blankStr:void 0}});return o&&g.push(o),g}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var h=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=n("ddhijeejag"),g=r(b),v=n("cicgeajfge"),y=n("bgddggdhc"),_=n("cajijabhgb"),E=r(_),j=n("bfbggcdbfb"),w=a(j),O=n("bgiachiigg"),C=n("deiciccchg"),S=a(C),P=n("ceddibdhdb"),M=a(P),T=n("ebggjhghhi"),k=r(T),N=n("dgdeceggdh"),I=a(N),R=n("bjbedjfe"),A=a(R),D=n("ejbdjaifi"),x=n("bjieiiccce"),L=a(x),F=n("ddajbaceej"),U=n("bcddhhfhda"),B=a(U),G=n("igbbahaj"),V=a(G),W=n("ccgdfaeibd"),H=n("chhcagejdh"),Y=a(H),q=n("hbabifghf"),K=a(q),z=n("bhfeffjbfg"),Q=a(z),X=n("dhfbfehaef"),J=a(X),Z=void 0;Z="3o85xmWDYKgihhIKSA";var $="DLAQBEYLJJIM",ee={giphy:w.default.GIF_SEARCH_PROVIDER.GIPHY,tenor:w.default.GIF_SEARCH_PROVIDER.TENOR},te={giphy:O.VIDEO_MESSAGE_ATTRIBUTION.GIPHY,tenor:O.VIDEO_MESSAGE_ATTRIBUTION.TENOR},ne=new I.default(s,{maxCached:6,maxAge:36e4,shouldCache:function(e){return!(!e||!e.length)}}),ae={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},re=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._scrollTop=0,n._didSendGif=!1,n._onlineRestarter=null,n._pendingQuery=null,n.refGifs={},n.refGifsBySectionId={},n.setRefGif=function(e,t){var a=h(e,2),r=a[0],o=a[1];t?(n.refGifs[r]=t,n.refGifsBySectionId[o]=t):(delete n.refGifs[r],delete n.refGifsBySectionId[o])},n.setRefGifCache=new B.default(n.setRefGif),n.onSend=function(e){var t=ee[e.attribution];new w.default.GifFromProviderSent({gifSearchProvider:t}).commit(),e.trending||"number"!=typeof e.rank||new w.default.GifSearchResultTapped({gifSearchProvider:t,rank:e.rank}).commit(),n._didSendGif=!0,n.props.onGif(e.url,te[e.attribution])},n.animateGif=function(){var e=n._animatingRow,t=n._scrollTop+W.GAP_SIZE;n._starredGifs&&(t-=n._starredGifs.getClientHeight()||0);var a=Math.round(t/(W.TARGET_GIF_HEIGHT+W.GAP_SIZE)),r=n.state.gifRows[a];if(r&&r.gifs.length&&r!==e){if(n._animatingRow=r,e)for(var o=0;o<e.gifs.length;o++)n.setGifAnimating(e.gifs[o].gifId,!1);for(var i=0;i<r.gifs.length;i++)n.setGifAnimating(r.gifs[i].gifId,!0)}[a+1,a-1].forEach(function(e){if(n.state.gifRows[e])for(var t=n.state.gifRows[e].gifs,a=0;a<t.length;a++)n.setGifAnimating(t[a].gifId,!1)})},n.searchForAndSetGifs=function(){var e=ee[(0,W.gifProvider)()],t=n.props.searchText||n.props.selectedSectionId,a=ne.getOrRun(t);a=a.then(),n._pendingQuery=a,a.checkpoint(n.props.rejectOnUnmount()).then(function(r){if(r&&0===r.length&&new w.default.GifSearchNoResults({gifSearchProvider:e}).commit(),a===n._pendingQuery&&(n._pendingQuery=null,r)){t||new w.default.GifTrendingViewed({gifSearchProvider:e}).commit();var o=n._containerDom&&n._containerDom.clientWidth||0;o-=2*W.GAP_SIZE,n._resetScroll=!0,n._animateTimer.debounce(0),n.setState({gifRows:p(r,o),width:o})}}).catch(E.Unmount,Promise.CancellationError,function(){}),setTimeout(function(){n.props.rejectOnUnmount().isPending()&&t===n.props.searchText&&new w.default.GifSearchPerformed({gifSearchProvider:e}).commit()},500)},n.onStarredGifsMount=function(e){n._starredGifs=e},n.onContainerMount=function(e){n._containerDom=e,null!=e&&e&&n._resetScroll&&(e.scrollTop=0)},n.initSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n._starredGifs&&n._starredGifs.hasGifs()&&!e?n._starredGifs&&n._starredGifs.component&&n._starredGifs.component.initSelection():(n.selection=[0,0],n.focusGif())},n.getNewColPostion=function(e){var t=n.state.gifRows,a=[n.selection[0],n.selection[1],t[Math.min(n.selection[0],t.length-1)].gifs.length-1,t[Math.min(n.selection[0]+1,t.length-1)].gifs.length-1,t[Math.max(n.selection[0]-1,0)].gifs.length-1],r=a[0],o=a[1],i=a[2],l=a[3],s=a[4],u=o/i;switch(e){case ae.UP:var c=Math.floor(s*u);return[Math.max(r-1,0),c];case ae.DOWN:return[r+1,Math.floor(l*u)]}return[0,0]},n.handleArrowKeys=function(e,t){var a=n.state.gifRows,r=[n.selection[0],n.selection[1]],o=r[0],i=r[1];switch(t){case ae.UP:if(0===o)return;n.selection=n.getNewColPostion(ae.UP);break;case ae.DOWN:if(o===a.length-1)return;n.selection=n.getNewColPostion(ae.DOWN);break;case ae.LEFT:if(0===i&&0===o)return;n.selection=0===i?n.getNewSelection(o-1,a[o-1].gifs.length-1):n.getNewSelection(o,i-1);break;case ae.RIGHT:a[o]?a[o].gifs.length===i+1?n.selection=n.getNewSelection(o+1,0):n.selection=n.getNewSelection(o,i+1):n.selection=[0,0]}n.stopEvent(e),n.focusGif()},n.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},n.restoreFocus=function(){},n.focusGif=function(){var e=n.selection.join("_"),t=n.refGifsBySectionId[e];if(t){var a=(0,y.forbiddenAssertDOMNode)(t);(0,F.focus)(a),n.props.scrollGifIntoViewIfNeeded(a)}},n.handleUpArrow=function(e){n.handleArrowKeys(e,ae.UP)},n.handleDownArrow=function(e){n.handleArrowKeys(e,ae.DOWN)},n.handleLeftArrow=function(e){n.handleArrowKeys(e,ae.LEFT)},n.handleRightArrow=function(e){n.handleArrowKeys(e,ae.RIGHT)},n.handleEnter=function(e){n.stopEvent(e);var t=n.state.gifRows,a=[n.selection[0],n.selection[1],n.selection[2]],r=a[0],o=a[1];n.onSend(t[r].gifs[o])},n._scrollTop=0,n._animatingRow=null,n._containerDom=null,n._didSendGif=!1,n.state={gifRows:[],width:0},n}return l(t,e),m(t,[{key:"componentWillReceiveProps",value:function(e){e.searchText!==this.props.searchText&&this.scheduleQuery()}},{key:"shouldComponentUpdate",value:function(e,t){return e.onGif!==this.props.onGif||t.gifRows!==this.state.gifRows||e.selectedSectionId!==this.props.selectedSectionId}},{key:"componentWillMount",value:function(){var e=this;this._searchTimer=new M.default(this.searchForAndSetGifs),this._animateTimer=new M.default(this.animateGif),this._onlineRestarter=Promise.loop(function(){return k.waitForBBEvent(S.default,"change:online",function(){return S.default.online}).then(function(){return e.scheduleQuery()})}).cancellable(),this._onlineRestarter.catch(Promise.CancellationError,function(){}),this.searchForAndSetGifs(),new w.default.GifSearchSessionStarted({gifSearchProvider:ee[(0,W.gifProvider)()]}).commit()}},{key:"componentWillUnmount",value:function(){this._animateTimer.cancel(),this._searchTimer.cancel(),this._onlineRestarter&&this._onlineRestarter.cancel(),this._didSendGif||new w.default.GifSearchCancelled({gifSearchProvider:ee[(0,W.gifProvider)()]}).commit()}},{key:"scheduleQuery",value:function(){this._searchTimer.debounceAndCap(200,2e3)}},{key:"animateOnScroll",value:function(e){this._scrollTop=e.scrollTop,this._animateTimer.debounce(200)}},{key:"setGifAnimating",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.refGifs[e];n&&n.setShouldAnimate(t)}},{key:"getNewSelection",value:function(e,t){return[Math.max(0,e),Math.max(0,t)]}},{key:"render",value:function(){var e=this,t=this.state.gifRows,n={up:this.handleUpArrow,down:this.handleDownArrow,left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},a=t.map(function(t,n){var a=t.gifs.map(function(t,a){return g.createElement(K.default,{key:t.gifId,ref:e.setRefGifCache.getRefSetter([""+t.gifId,n+"_"+a]),gif:t,onSend:e.onSend})}),r=null;return t.blankStr&&(r=g.createElement("div",{className:Q.default.blank,style:{flexBasis:t.blankStr}})),g.createElement("div",{key:n,className:Q.default.row},a,r)}),r=this.props.selectedSectionId!==V.default.FAVORITES&&(0===a.length?g.createElement("div",{className:Q.default.noResults},g.createElement(v.SearchWithoutKeyword,null)):g.createElement(J.default,{className:Q.default.section,handlers:n},a)),o=!this.props.searchText&&this.props.selectedSectionId===V.default.FAVORITES&&g.createElement(Y.default,{onSend:this.onSend,ref:this.onStarredGifsMount});return g.createElement("div",{className:Q.default.searchContainer,ref:this.onContainerMount},r,o)}}]),t}(g.Component);re.displayName="GifSearch";t.Component=re;t.default=(0,A.default)((0,D.hoc)(re))},djdhjggcbi:function(e,t,n){"use strict";function a(){return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("hbhijdici"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=window.innerHeight,l=o.default.debounce(function(e){i=window.innerHeight},500);window.addEventListener("resize",l)},djeajhjhb:function(e,t,n){"use strict";var a=n("chgaccicf"),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=(0,r.default)({SEARCH:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0})},djebbfefcf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ceffhbhahb"),c=a(u),f=n("ddhijeejag"),d=a(f),p=n("cgchdicacf"),h=a(p),m=n("ccaaiecfib"),b=a(m),g=n("ddfihebbjf"),v=a(g),y=function(e){function t(){var e,n,a,l;o(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={isAnimated:a.props.startAnimation,isReady:!1,renderableUrl:b.default.supportsFeature(b.default.F.REPLACE_MEDIABLOB)?null:a._createRenderableUrl()},a._setImgRef=function(e){a._imgRef=e},a._setUrlProviderRef=function(e){a._urlProviderRef=e},a._setCanvasRef=function(e){a._canvasRef=e},a._onImageLoad=function(){if(!a.state.isReady){var e=a._canvasRef,t=a._imgRef;e&&t&&(e.width=t.naturalWidth/2,e.height=t.naturalHeight/2,e.getContext("2d").drawImage(t,0,0,e.width,e.height)),a.props.startAnimation&&(a._startAnimationCountDown(),a.props.mediaData.animatedAsNewMsg=!0),a.setState({isReady:!0})}},a._onMouseEnter=function(){null==a._timeoutID&&(a.setState({isAnimated:!0}),a._startAnimationCountDown())},a._renderImage=function(e){return d.default.createElement("img",{className:(0,c.default)(a.props.className,r({},h.default.hide,!a.state.isReady||!a.state.isAnimated)),draggable:"false",src:e,ref:a._setImgRef,onLoad:a._onImageLoad})},l=n,i(a,l)}return l(t,e),s(t,[{key:"componentWillUnmount",value:function(){null!=this._timeoutID&&clearTimeout(this._timeoutID),b.default.supportsFeature(b.default.F.REPLACE_MEDIABLOB)||this.state.renderableUrl&&URL.revokeObjectURL(this.state.renderableUrl)}},{key:"_startAnimationCountDown",value:function(){var e=this;this._timeoutID=window.setTimeout(function(){b.default.supportsFeature(b.default.F.REPLACE_MEDIABLOB)?(e._urlProviderRef&&e._urlProviderRef.refreshBlob(),e.setState({isAnimated:!1})):(e.state.renderableUrl&&URL.revokeObjectURL(e.state.renderableUrl),e.setState({isAnimated:!1,renderableUrl:e._createRenderableUrl()})),e._timeoutID=null},this.props.mediaData.animationDuration)}},{key:"_createRenderableUrl",value:function(){return URL.createObjectURL(new Blob([this.props.mediaData.mediaBlob.formData()]))}},{key:"render",value:function(){var e=void 0;return b.default.supportsFeature(b.default.F.REPLACE_MEDIABLOB)?null!=this.props.placeholderRenderer&&null!=this.props.downloadMedia&&(e=d.default.createElement(v.default,{ref:this._setUrlProviderRef,mediaData:this.props.mediaData,placeholderRenderer:this.props.placeholderRenderer,downloadMedia:this.props.downloadMedia},this._renderImage)):e=this.state.renderableUrl&&this._renderImage(this.state.renderableUrl),d.default.createElement("div",{className:this.props.className,onMouseEnter:this._onMouseEnter,onClick:this.props.onClick},e,d.default.createElement("canvas",{className:(0,c.default)(this.props.className,r({},h.default.hide,!this.state.isReady||this.state.isAnimated)),draggable:"false",ref:this._setCanvasRef}))}}]),t}(d.default.PureComponent);y.displayName="ControlledAnimatedSticker",t.default=y},djeffaehji:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){switch(e){case s.APICmd.GROUP_INVITE:var n=t;return d.default.openModal(l.createElement(b.default,{groupCode:n.code})),!0;case s.APICmd.MSG_SEND:var a=t,r=a.text,i=a.phone,u=a.conversionTuple;if(i){var f=function(e){u&&h.default.add(o({id:e.id,conversionData:void 0,conversionSource:void 0,timestamp:c.default.globalUnixTime()},u),{merge:!0}),r&&(e.urlText=!0),e.urlNumber=!0};d.default.openModal(l.createElement(v.default,{phone:i,msgText:r,onSuccess:f}),{transition:"modal-flow"})}else d.default.openModal(l.createElement(_.default,{msgText:r,urlText:!0}),{transition:"modal-flow"});return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=r;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("jgficfddf"),u=n("bjebjijbfc"),c=a(u),f=n("gbfffciea"),d=a(f),p=n("ccbihadedf"),h=a(p),m=n("djahiefbec"),b=a(m),g=n("cigddfbici"),v=a(g),y=n("cdeciahhed"),_=a(y)},djfbibifah:function(e,t,n){"use strict";function a(e,t){return function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];e.forEach(function(e){var n=r(e,2),o=n[0],i=n[1];return i.call.apply(i,[o].concat(a,[t]))})}}var r=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e,t){var n=e.reduce(function(e,t){var n=t.hooks;return n?(Object.keys(n).forEach(function(a){e[a]||(e[a]=[]),e[a].push([t,n[a]])}),e):e},{});return Object.keys(n).reduce(function(e,r){return e[r]=a(n[r],t),e},{})}},djgaefehgg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.startOfDaySkew;return void 0!==t&&t>i.default.skew-30&&t<i.default.skew+30?e.startOfDay:(e.startOfDaySkew=i.default.skew,e.startOfDay=s.default.unix(e.t+i.default.skew).startOf("day").unix())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("bjebjijbfc"),i=a(o),l=n("dgdjiicfdg"),s=a(l)},djggfadejg:function(e,t){e.exports={muted:"_1GC2t",container:"_3L6MW",isLinkMsg:"_3Lmfg",text:"_1tHfI"}},djgjhgjdcd:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return Math.floor(2147483648*Math.random()).toString(36)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("ceddibdhdb"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(t){a(this,e),u.call(this),this.loggingCallback=t,this.timer=new l.default(this.ship),this._initSession(),this._initArray(Math.floor(Date.now()/1e3))}return o(e,[{key:"_initSession",value:function(){this.cumulativeBitsSet=0,this.sequenceId=-1,this.sessionId=r()}},{key:"_initArray",value:function(e){this.startTimeInSec=e,this.lastActiveInMS=1e3*this.startTimeInSec,this.bitmap=new Int32Array(2),this.bitmap[0]=1,this.bitmapLength=1,this.cumulativeBitsSet+=1,this.sequenceId+=1;this.timer.debounceAndCap(64e3,64e3)}},{key:"_doUpdate",value:function(e){var t=e-this.startTimeInSec;this.bitmap&&(t<0||t>=64)&&this.ship(),this.bitmap?(this.bitmap[t>>5]|=1<<(31&t),this.bitmapLength=t+1,this.cumulativeBitsSet+=1,this.lastActiveInMS=1e3*e):this._initArray(e)}},{key:"update",value:function(e){e>=this.lastActiveInMS&&e-this.lastActiveInMS<1e3||this._doUpdate(Math.floor(e/1e3))}},{key:"shipAndEndSession",value:function(e){this.ship(e),this._initSession()}}]),e}(),u=function(){var e=this;this.ship=function(t){var n=e.bitmap;if(n){var a=Date.now();a>e.lastActiveInMS&&(e.bitmapLength=Math.min(64,Math.ceil(a/1e3-e.startTimeInSec)));var r={sessionId:e.sessionId,startTime:e.startTimeInSec,bitmap:n,bitmapLen:e.bitmapLength,sessionSeq:e.sequenceId,sessionCum:e.cumulativeBitsSet};(t||e.loggingCallback)(r),e.timer.cancel(),e.bitmap=null}}};t.default=s},djhbejhbda:function(e,t,n){"use strict";var a={statusQueryThumbnail:function(e){return this.profilePicFindThumbFromPhone(e,void 0,!0)}};e.exports=a},djhbfghcdb:function(e,t){e.exports={muted:"_3ZhLs",label:"kmyjo",input:"_1PSHh"}},djhfffbdac:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HEIGHT=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("effbcehec"),h=a(p),m=n("ddajbaceej"),b=n("dhfbfehaef"),g=a(b),v=n("fffdgbfji"),y=a(v),_=n("bdhbdihbca"),E=a(_),j=n("bfdcadbbif"),w=a(j),O=n("bcjcbbafcj"),C=a(O),S=n("eagfdbhhhh"),P=(t.HEIGHT=56,function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={value:a.props.value||"",tabFocused:!!a.props.tabFocused},a._handleChange=function(e){var t=e.target.value;a.setState({value:t}),a.props.onChange&&a.props.onChange(t,e)},a._handleClearButtonClick=function(e){a.setState({value:""}),a.props.onChange&&a.props.onChange("",e)},a._handleDownKey=function(e){e.stopPropagation(),e.preventDefault(),a.props.onDownKey&&a.props.onDownKey(e)},a._handleEnterKey=function(e){e.preventDefault(),e.stopPropagation(),a.props.onEnterKey&&a.props.onEnterKey(e)},a._handleFocus=function(e){a.focus()},a._setRefInput=function(e){a._refInput=e},a._setRefInputContainer=function(e){a._refInputContainer=e},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value,tabFocused:e.tabFocused})}},{key:"focus",value:function(e){this._refInput&&(this.hasFocus()||(e&&(0,b.shouldIndicateFocus)(),(0,m.focus)(this._refInput),e&&(0,b.indicateFocus)(this._refInputContainer,["#e0e1e2","#d9f3ff"])))}},{key:"hasFocus",value:function(){return!!document.activeElement&&this._refInput===document.activeElement}},{key:"render",value:function(){var e,t=null;return this.state.value&&!this.props.tabFocused&&(t=c.createElement("button",{className:E.default.cancelIcon,onClick:this._handleClearButtonClick},c.createElement(w.default,{name:"x-alt-small"}))),c.createElement(g.default,{handlers:{enter:this._handleEnterKey,down:this._handleDownKey},"data-tab":4,className:(0,d.default)(E.default.searchRow,(e={},r(e,E.default.ffFix,C.default.isGecko),r(e,E.default.rowShadow,this.props.shadow),e)),key:"search-input",onFocus:this._handleFocus},c.createElement("label",{ref:this._setRefInputContainer,className:E.default.rowInput},c.createElement("div",{className:E.default.inputContainer},c.createElement("input",{"data-a8n":h.default.key("input-emoji-search"),ref:this._setRefInput,className:(0,d.default)(E.default.inputEmojiSearch,S.SELECTABLE_INPUT_CSS_CLASS),type:"text",dir:y.default.isRTL()?"rtl":"ltr",value:this.props.tabFocused?"":this.state.value,title:this.props.label,placeholder:this.props.label,onMouseDown:function(e){e.stopPropagation()},onChange:this._handleChange}),t)))}}]),t}(c.PureComponent));P.displayName="PanelSearchInput",t.default=P},djhhbaegjb:function(e,t){e.exports={muted:"_1ADjK",positioningContainer:"_15EmS",resultsContainer:"_3312R",overlayContainer:"_2j-wI",mediaCaption:"f2pyv"}},djibdcebeh:function(e,t){e.exports={muted:"_2nMWP",action:"_2GB6m",container:"_3O0po",wrapper:"_25f0v",butterbar:"_2-Q3h",icon:"_1Tv0N",body:"_3K1Z_",controls:"_1cvvW",title:"_28Bny",text:"_2JIoO",notification:"_1sFYw",update:"_3Dr0Q",computer:"_2xikZ",phone:"_1puWZ",battery:"_2t3oV",actionText:"_11zMf",actionLink:"_1bLBY",chevron:"_3vCgA"}},djibddbgic:function(e,t){e.exports={muted:"eMUdD",close:"_8icek",profileThumb:"btMYD",profileContainer:"_19YfI",media:"_11UqX",profileViewer:"_3SCfu",profileViewerImg:"_2p8um",container:"_1iNsf","media-viewer-animate":"_2pKlK",mediaViewerAnimate:"_2pKlK",headerContainer:"s4BtI"}},djicgijbjb:function(e,t){e.exports={muted:"_1JXRl",messageText:"_2HHbr",composeBoxQuotedMsg:"hJLQA"}},djicifaabb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("eadgjjifdb"),p=a(d),h=n("ejegihaeh"),m=a(h),b=n("eadfaddcj"),g=a(b),v=n("djcchigfih"),y=a(v),_=n("dajffajabh"),E=a(_),j=n("djbhiedbef"),w=a(j),O=n("bggeiidigb"),C=a(O),S=n("deahbiefdi"),P=a(S),M=n("cijihedhb"),T=a(M),k=n("becfabjeeg"),N=a(k),I=n("ihfccfgdf"),R=a(I),A=n("ejbdjaifi"),D=n("bgjddhffji"),x=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.catalogFlatListController=new C.default,a.state={loadingMore:!1,loadedProducts:0,stopLoading:!1},a._handleScroll=function(e){a.state.loadingMore||e.scrollTop+g.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a.loadMoreProduct()},a.handleScroll=f.default.throttle(a._handleScroll,100),a.loadMoreProduct=function(){var e=a.props.catalogId,t=a.state,n=t.stopLoading,r=t.loadedProducts;if(!n){var o=m.default.assertGet(e);if(o.afterCursor){var i=o.productCollection.getProductModels().length;a.setState({loadingMore:!0,loadedProducts:i}),m.default.update(e).then(function(e){a.setState({loadingMore:!1}),(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===r&&a.setState({stopLoading:!0}),i*g.default.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&a.loadMoreProduct()}).catch(function(e){a.setState({loadingMore:!1,stopLoading:!0})})}}},a.onScroll=function(e){a.handleScroll(e.currentTarget)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.catalogId,n=e.sessionId;(0,D.logCatalogListView)(t.toString(),n),this.loadMoreProduct()}},{key:"render",value:function(){var e=this.props,t=e.catalogId,n=e.contact,a=e.sessionId,r=this.props.businessProfile,o=this.state.loadingMore?u.createElement("div",{className:p.default.searchSpinner},u.createElement(N.default,{stroke:6,size:24})):null,i=l10n.t("product_catalog_title"),l=m.default.assertGet(t);return u.createElement(y.default,{theme:"products",onDrop:this.props.onBack},u.createElement(E.default,{title:i,type:_.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onBack}),u.createElement(w.default,{onScroll:this.onScroll,flatListControllers:[this.catalogFlatListController]},r?u.createElement("div",{className:p.default.header},u.createElement(T.default,{profilePicThumb:n.getProfilePicThumb(),contact:n,businessProfile:r})):null,u.createElement("div",{className:p.default.list},u.createElement(P.default,{onProductDetail:this.props.onProductDetail,flatListController:this.catalogFlatListController,catalog:l,sessionId:a}),o)))}}]),t}(u.Component);x.CONCERNS={contact:["id"]},x.displayName="ProductListDrawer",t.default=(0,R.default)((0,A.hoc)(x),x.CONCERNS)},djidacbicd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bgddggdhc"),f=n("eacidghfgh"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("bcjcbbafcj"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("fbjjefaic"),_=a(y),E=n("ejbdjaifi"),j=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.startCheckForSuccess=function(){a.checkIteration=0,a.checkForSuccessInterval=a.props.setInterval(a.checkForSuccess,250)},a.clearCheckForSuccess=function(){a.checkForSuccessInterval&&(a.props.clearInterval(a.checkForSuccessInterval),delete a.checkForSuccessInterval,delete a.checkIteration)},a.checkForSuccess=function(){if(d.default.state===f.STATE.CONNECTED){a.checkIteration++;var e=a.props.url;if(a.checkIteration>40)return void a.onPlayerError({target:{src:e,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});var t=(0,c.forbiddenAssertDOMNode)(a),n=t.buffered;n&&n.length&&n.end(0)>0&&a.onPlaying({target:t})}},a.onPlayerError=function(e){a.clearCheckForSuccess(),a.props.onError&&a.props.onError(e.target.src)},a.onOtherPlaying=function(e){e!==a&&(0,c.forbiddenAssertDOMNode)(a).pause()},a.onPlaying=function(e){a.clearCheckForSuccess(),h.default.mediaPlaying(a),a.props.onPlay&&a.props.onPlay(e)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.listeners,t=(0,c.forbiddenAssertDOMNode)(this);e.add(t,"error",this.onPlayerError,!0),e.add(t,"playing",this.onPlaying),e.add(h.default,"mediaPlaying",this.onOtherPlaying),(b.default.isGecko||b.default.isSafari)&&(this.props.autoPlay?(this.checkIteration=0,this.checkForSuccessInterval=this.props.setInterval(this.checkForSuccess,250)):this.props.autoPlay?this.startCheckForSuccess():e.add(t,"play",this.startCheckForSuccess))}},{key:"render",value:function(){return u.createElement("audio",{src:this.props.url,className:this.props.className,onClick:this.props.onClick,controls:this.props.controls,preload:this.props.preload,type:this.props.type,autoPlay:this.props.autoPlay},this.props.children)}}]),t}(u.Component);j.displayName="AudioTag",t.default=(0,v.default)((0,_.default)((0,E.hoc)(j)))},djidhiidef:function(e,t){e.exports={muted:"zXEy2",text:"_12pGw",template:"_1K1bk",spacer:"EopGb",spacerStar:"_1zQt7",spacerBroadcast:"_1S8RM",spacerLabels:"_2k7fD",placeholderIn:"_2v02G",placeholderOut:"_3uHCS"}},djiejaiah:function(e,t){e.exports={muted:"_2IPk6",chatControls:"_2kYeZ",chatAvatar:"_1SwuT",chatHeader:"_3fs0K",chatBody:"_3V5x5",chatMain:"_1lpto",chatTitle:"_19vo_"}},djifeiaaea:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("bgiachiigg"),l=n("cgbdhdjdcf"),s={};s[i.EXTENDED_TEXT_MESSAGE_FONTTYPE.SERIF]={google:{families:["Roboto"]}},s[i.EXTENDED_TEXT_MESSAGE_FONTTYPE.SANS_SERIF]={google:{families:["Droid Serif"]}},s[i.EXTENDED_TEXT_MESSAGE_FONTTYPE.NORICAN_REGULAR]={google:{families:["Norican"]}},s[i.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},s[i.EXTENDED_TEXT_MESSAGE_FONTTYPE.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var u={};u[i.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]='@font-face {font-family:"Bryndan-Write"; src:url("'+l+'") format("truetype");}';var c=function(){function e(){a(this,e),this.loadedFonts={},this.loadingPromise={}}return o(e,[{key:"load",value:function(e){var t=this;if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var n=s[e],a=u[e],o=void 0;o=a?new Promise(function(e,t){var n=document.createElement("style");n.appendChild(document.createTextNode(a)),n.onload=e,n.onerror=t,document.head&&document.head.appendChild(n)}):Promise.resolve();var i=o.then(function(){return new Promise(function(a,o){var i=r({},n,{active:function(){t.loadedFonts[e]=!0,a()},inactive:function(){t.loadingPromise[e]=void 0,o("Failed to load font: "+e)}});WebFont.load(i)})});return this.loadingPromise[e]=i,i}}]),e}();t.default=new c},djigcbdaeh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ccgchaejji"),f=a(c),d=n("bfdcadbbif"),p=a(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.onClose?u.createElement("div",{className:f.default.closeBtn,role:"button",onClick:this.props.onClose},u.createElement(p.default,{name:"x"})):null;return u.createElement("div",{className:f.default.subheader},u.createElement("div",{className:f.default.main},this.props.children),e)}}]),t}(u.PureComponent);h.displayName="ConversationSubheader",t.default=h},djiibcjggg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("bfdcadbbif"),h=a(p),m=n("didfdhbecg"),b=a(m),g=n("caghbagede"),v=a(g),y=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onToggle=function(e){e&&e.stopPropagation(),a.props.onChange()},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t=void 0,n=void 0;this.props.checked?(n="checkbox-round-checked",t="checked"):(t="unchecked",n=this.props.hover?"checkbox-round-unchecked":"checkbox-round-passive");var a=(0,d.default)(v.default.roundIcon,(e={},r(e,v.default.unchecked,!this.props.checked&&this.props.hover),r(e,v.default.passive,!this.props.checked&&!this.props.hover),e));return c.createElement(b.default,{className:v.default.container,transitionName:"pop"},c.createElement("div",{className:a,key:t,onClick:this.onToggle},c.createElement(h.default,{name:n})))}}]),t}(c.Component);y.displayName="CheckBoxRound",t.default=y},djiifidhej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0,n={},a=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(n[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(n[e.doubleByte[t]]=t+c.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var n=t[1]?2*Object.keys(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+n+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,a){if("string"!=typeof t&&!(t instanceof s.default))throw i.default.error("writer:writeString passed non-string/wid type: "+typeof t)(t),new Error("invalid string");if(t instanceof s.default)return void this.writeJid(e,t.user,t.server);var r=n.hasOwnProperty(t)?n[t]:void 0,o=void 0,l=void 0;if("c.us"!==t||a)if(void 0===r){var u=t.indexOf("@");if(u<1)this.writeStringRaw(e,t);else{var f=t.substring(0,u),d=t.substring(u+1);this.writeJid(e,f,d)}}else{if(r<c.SINGLE_BYTE_MAX)this.writeToken(e,r);else{var p=r-c.SINGLE_BYTE_MAX,h=p>>8;switch(l=p%256,h){case 0:o=c.DICTIONARY_0;break;case 1:o=c.DICTIONARY_1;break;case 2:o=c.DICTIONARY_2;break;case 3:o=c.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+r)}}this.writeToken(e,o),this.writeToken(e,l)}else this.writeToken(e,n["s.whatsapp.net"])},this.writeStringRaw=function(e,t){var n=u.numUtf8Bytes(t);if(n>=4294967296)throw new Error("string too large to encode (len = "+n+"): "+t);n>=1<<20?(e.pushByte(c.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(c.BINARY_20),e.pushInt20(n)):(e.pushByte(c.BINARY_8),e.pushByte(n)),e.pushString(t)},this.writeJid=function(e,t,n){if(e.pushByte(c.JID_PAIR),t)try{this.writePackedBytes(e,t)}catch(n){i.default.warnVerbose('writer:encode-fallback "'+n.message+'"')(t),this.writeString(e,t)}else this.writeToken(e,c.LIST_EMPTY);this.writeString(e,n)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){this.isAttr=!0;for(var n in t)t[n]&&(this.writeString(e,n),this.writeString(e,t[n]));this.isAttr=!1}},this.writeChildren=function(e,t){var n=void 0;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((n=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+n);n>=1<<20?(e.pushByte(c.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(c.BINARY_20),e.pushInt20(n)):(e.pushByte(c.BINARY_8),e.pushByte(n)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");n=t.length,this.writeListStart(e,n);for(var a=0;a<n;a++)this.writeNode(e,t[a])}},this.writeListStart=function(e,t){0===t?e.pushByte(c.LIST_EMPTY):t<256?(e.pushByte(c.LIST_8),e.pushByte(t)):(e.pushByte(c.LIST_16),e.pushInt16(t))},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,c.NIBBLE_8)}catch(n){i.default.warn('writer:enc nib fail, try hex "'+n.message+'"')(t),this.writePackedBytesImpl(e,t,c.HEX_8)}},this.writePackedBytesImpl=function(e,t,n){var a=u.numUtf8Bytes(t);if(a>c.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+a);var r=Math.ceil(a/2),o=[],i=void 0,l=0;a%2>0&&(l=128);var s=l|r;o.push(n),o.push(s);for(var f=Math.floor(a/2),d=0;d<f;d++)i=this.packBytePair(n,t[2*d],t[2*d+1]),o.push(i);l>0&&(i=this.packBytePair(n,t[a-1],"\0"),o.push(i));var p=new Uint8Array(o);e.pushUint8Array(p)},this.packBytePair=function(e,t,n){var a=void 0,r=void 0;switch(e){case c.NIBBLE_8:a=this.packNibble(t),r=this.packNibble(n);break;case c.HEX_8:a=this.packHex(t),r=this.packHex(n);break;default:throw new Error("invalid byte pack type: "+e)}return a<<4|r},this.packNibble=function(e){if(!a.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return a[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}var o=n("bdiiahhjbe"),i=a(o),l=n("jccfhaecf"),s=a(l),u=n("dbajccegac"),c=n("ccebfaijda");e.exports=r},djijgaefjc:function(e,t){e.exports={muted:"Nq91u",container:"C7Rx_",text:"_2wTpd",messageNewNumberButton:"P1xkW"}},djijjheei:function(e,t){e.exports={muted:"_3iYFX",container:"_2EaHs"}},djjdedaheg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("ceffhbhahb"),p=a(d),h=n("dhhabjhgej"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=n("ejbdjaifi"),y=n("fifhbjiec"),_=a(y),E=n("gbfffciea"),j=a(E),w=n("gaifbabbj"),O=n("dbcedfihd"),C=r(O),S=n("eedjbihej"),P=a(S),M=n("bfifafibjc"),T=a(M),k=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setBodyRef=function(e){n.bodyRef=e},n.setDescRef=function(e){n.descRef=e},n.handleResize=function(e){var t=e.width,a=n.state.descWidth;a<=0||n.setState({truncated:t<a})},n.onReadMore=function(){var e=n.props.chat;j.default.chatInfoDrawer(e,!0)},n.state={desc:n.getDesc(e.groupMetadata),descWidth:0,truncated:!1,hidden:!0},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.onDescWidthObtained()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getDesc(e.groupMetadata);t!==this.state.desc&&this.setState({desc:t,descWidth:0,truncated:!1,hidden:!0})}},{key:"componentDidUpdate",value:function(e,t){t.desc!==this.state.desc&&this.onDescWidthObtained()}},{key:"getDesc",value:function(e){return e&&e.desc}},{key:"onDescWidthObtained",value:function(){var e=this.bodyRef,t=this.descRef;if(e&&t){var n=e.clientWidth,a=t.getWidth();this.setState({descWidth:a,truncated:n<a,hidden:!1})}}},{key:"render",value:function(){var e=this.state.desc;if(!e)return null;var t=this.state,n=t.truncated,a=t.hidden,r=this.props.chat.isTrusted()?w.Configuration.TrustedGroupDesc({links:C.findLinks(e)}):w.Configuration.UntrustedGroupDesc();return f.createElement(f.Fragment,null,f.createElement(P.default,{theme:"title",block:!0},l10n.t("web_group_description_title")),f.createElement(T.default,{onRef:this.setBodyRef,onResize:this.handleResize,className:m.default.body},f.createElement(P.default,{theme:"small",className:(0,p.default)(m.default.text,o({},m.default.hidden,a))},f.createElement(_.default,{ref:this.setDescRef,text:e,selectable:!0,formatters:r,className:m.default.desc}),n&&f.createElement("div",{className:m.default.more,role:"button",onClick:this.onReadMore},l10n.t("read_more")))))}}]),t}(f.Component);k.CONCERNS={groupMetadata:["desc"]},k.displayName="GroupDescriptionBar",t.default=(0,g.default)((0,v.hoc)(k),k.CONCERNS)},djjgggigcf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("cehjjfagii"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("ceffhbhahb"),m=a(h),b=n("fifhbjiec"),g=a(b),v=n("cieaeggjg"),y=a(v),_=n("bcijadidjd"),E=a(_),j=n("bjhjaiccai"),w=n("bahgfcjcda"),O=a(w),C=n("dhefcajhhb"),S=a(C),P=n("ddhijeejag"),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(P),T=n("ihfccfgdf"),k=a(T),N=n("ejbdjaifi"),I=n("cgfjebhhej"),R=a(I),A=n("eadfaddcj"),D=a(A),x=n("deecfijhbf"),L=a(x),F=n("cadbaeefbb"),U=a(F),B=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._showContactsModal=function(){if(n.props.msg.vcardList){var e=n.props.msg.vcardList.map(function(e){return e.vcard});p.default.openModal(M.createElement(E.default,{vcardList:e}))}},n.state={loading:!0,vcardData:n._getVcardDisplayData(e.msg.vcardList)},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this._loadProfilePics()}},{key:"componentDidUpdate",value:function(e){e.msg.vcardList!==this.props.msg.vcardList&&(this.setState({loading:!0,vcardData:this._getVcardDisplayData(this.props.msg.vcardList)}),this._loadProfilePics())}},{key:"_getVcardDisplayData",value:function(e){return e.map(function(e){var t=e.displayName,n=e.vcard,a=R.default.parse(n);return{displayName:t,waids:R.default.vcardWAids(a),thumbnail:R.default.thumbnail(n)}})}},{key:"_loadProfilePics",value:function(){var e,t=this,n=(e=[]).concat.apply(e,o(this.state.vcardData.map(function(e){return e.waids}))).slice(0,10);Promise.map(n,function(e){return S.default.find(e)}).then(function(){t.setState({loading:!1,vcardData:t._sortVcardDisplayData()})})}},{key:"_sortVcardDisplayData",value:function(){var e=this;return this.state.vcardData.sort(function(t,n){var a=e._hasPic(t),r=e._hasPic(n);return a&&!r?-1:!a&&r?1:t.displayName<n.displayName?-1:t.displayName>n.displayName?1:0})}},{key:"_hasPic",value:function(e){return Boolean(R.default.thumbnailWAid(e.waids)||e.thumbnail)}},{key:"_renderProfilePics",value:function(e){for(var t=Math.min(e.length,3),n=[],a=0;a<t;a++){var r=e[a],o=r.waids,i=r.thumbnail,l=R.default.thumbnailWAid(o);this.state.loading||!l&&!i?n.push(M.createElement("div",{className:L.default.image,key:"default-pic-"+a},M.createElement(O.default,{size:39,border:!0}))):n.push(M.createElement("div",{className:L.default.image,key:"profile-pic-"+a},M.createElement(O.default,{waid:l,thumb:i,size:39,border:!0})))}return n}},{key:"render",value:function(){var e,t=this.props.msg,n=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?M.createElement("div",{className:L.default.author},M.createElement(f.default,{msg:t,contact:t.senderObj})):null,a=this.state.vcardData,o=a.map(function(e){return e.displayName}),i=(0,j.getNameStringFromNames)(o),l=this._renderProfilePics(a),s=t.vcardList||t.chat.isTrusted(),u=this.props.quotedMsg?M.createElement("div",{className:L.default.quote},this.props.quotedMsg):null,c=(0,m.default)(L.default.bubble,(e={},r(e,L.default.hasAuthor,n),r(e,L.default.hasQuote,u),r(e,L.default.isPreview,this.props.displayType===D.default.DISP_TYPE.MSG_INFO),r(e,L.default.isGallery,this.props.displayType===D.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===D.default.DISP_TYPE.GALLERY),e));return M.createElement("div",{className:c},n,u,M.createElement("div",{className:L.default.vcard,role:s?"button":null,title:i,onClick:this._showContactsModal},M.createElement("div",{className:L.default.avatar},l),M.createElement("div",{className:L.default.body},M.createElement(g.default,{text:i,element:"div",className:L.default.name,dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir,wbr:15})),M.createElement("div",{className:L.default.meta},M.createElement(y.default,{msg:t}))),M.createElement(U.default,{items:[{label:l10n.t("multi_vcard_view_all"),onClick:this._showContactsModal}]}))}}]),t}(M.PureComponent);B.CONCERNS={msg:["rtl","dir","senderObj","vcardList","isSentByMe","isGroupMsg"]},B.displayName="MultiVcard",t.default=(0,k.default)((0,N.hoc)(B),B.CONCERNS)},eaaihhcibf:function(e,t){e.exports={muted:"_1-TBB",mediaPanelHeader:"cGLoy",mediaPanelTools:"_1GdY6",info:"_15eME"}},eacehgiidh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("cadbaeefbb"),d=a(f),p=n("jhcabjcaf"),h=a(p),m=n("bfjbdahdag"),b=a(m),g=n("gbfffciea"),v=a(g),y=n("ceffhbhahb"),_=a(y),E=n("cjgafgfbff"),j=a(E),w=n("ccaaiecfib"),O=a(w),C=n("bahgfcjcda"),S=a(C),P=n("dcebcbcdih"),M=a(P),T=n("cfhehaefih"),k=a(T),N=n("ihfccfgdf"),I=a(N),R=n("fibdihid"),A=a(R),D=n("dbabefhajh"),x=a(D),L=n("ejbdjaifi"),F=n("bheafeifce"),U=n("cieaeggjg"),B=a(U),G=n("iiaihjfbi"),V=a(G),W=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onOpenInvite=function(){var e=a.props.msg;v.default.openModal(c.createElement(M.default,{msg:e}))},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.displayAuthor,o=n.isGroupsV4InviteExpired,i=n.inviteGrpName;if(!O.default.supportsFeature(O.default.F.GROUPS_V_4_JOIN_PERMISSION))return c.createElement(j.default,{msg:(0,F.unproxy)(n),displayAuthor:a});var l=c.createElement(S.default,{size:49,thumb:this.props.msg.inviteGrpJpegThum}),s=n.comment?c.createElement("div",{className:A.default.caption},c.createElement(b.default,{msg:n,spacer:!0,trusted:n.isTrusted()})):null,u=o?null:c.createElement(d.default,{items:[{label:this.props.msg.isSentByMe?l10n.t("group_v4_view_invite_btn_text"):l10n.t("group_invite_join"),onClick:this.onOpenInvite}],theme:n.comment?void 0:"no-divider"}),f=!o||!s,p=f?c.createElement("div",{className:A.default.meta},c.createElement(B.default,{msg:n})):null,m=n.comment?l10n.t("group_v4_invite_subtitle"):c.createElement(V.default,{msg:n},l10n.t("group_v4_invite_subtitle")),g=void 0;if(o){var v=s?l10n.t("group_v4_invite_expired"):c.createElement(V.default,{msg:n},l10n.t("group_v4_invite_expired"));g=c.createElement("div",{className:A.default.status},v)}return c.createElement(x.default,{msg:n,displayAuthor:a,hideMeta:f},c.createElement(h.default,{contact:n.senderObj,msg:n,className:(0,_.default)(A.default.container,(e={},r(e,A.default.expired,o),r(e,A.default.noCaption,!s),e))},c.createElement("div",{className:A.default.linkPreview},c.createElement(k.default,{description:m,invite:!0,isSentByMe:n.isSentByMe,onClick:o?void 0:this.onOpenInvite,thumbnail:l,title:i,theme:o?"extended":void 0})),g,s,p),u)}}]),t}(c.PureComponent);W.CONCERNS={msg:["id","inviteCode","inviteCodeExp","inviteGrp","inviteGrpName","inviteGrpJpegThum","senderObj","comment","isSentByMe","isGroupMsg","isPSA","isGroupsV4InviteExpired"]},W.displayName="GroupsV4InviteMsg",t.default=(0,I.default)((0,L.hoc)(W),W.CONCERNS)},eadgafjbag:function(e,t){e.exports={muted:"_3Q8ik",container:"_2avTY"}},eadgjjifdb:function(e,t){e.exports={muted:"InrXq",header:"_36Ctd",list:"_33P-O",searchSpinner:"_2pRPd"}},eaecbgafff:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n("digcccheca"),s=a(l),u=n("cbghhhdedg"),c=a(u),f=n("jhjgghei"),d=a(f),p=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handlers={onBeforeInput:c.default,onKeyDown:d.default},i=n,o(a,i)}return i(t,e),t}(s.default);e.exports=new p},eafabiffad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("bfdcadbbif"),h=a(p),m=n("eedjbihej"),b=a(m),g=n("dbhidcdghb"),v=a(g),y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg,t=e.numTimesForwarded,n=e.isFrequentlyForwarded;if(t<=0||n)return null;var a=u.createElement(h.default,{name:"forwarded",display:"inline"}),r=l10n.t("forwarded_count",{count:t,_plural:t});return u.createElement("div",{className:v.default.title},a,u.createElement(b.default,{theme:"title",className:v.default.text},r))}}]),t}(u.PureComponent);y.CONCERNS={msg:["numTimesForwarded","isFrequentlyForwarded"]},y.displayName="MsgInfoForwardCount",t.default=(0,f.default)((0,d.hoc)(y),y.CONCERNS)},eafjfadchb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("bhcegecbha"),m=a(h),b=n("fffdgbfji"),g=a(b),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onDownload=function(){f.default.closeModal(),m.default.initDownload(a.props.msg)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(p.default,{onCancel:function(){return f.default.closeModal()},onOK:this.onDownload,okText:g.default.t("web_button_download"),cancelText:g.default.t("web_cancel"),title:g.default.t("download_unsupported_file_title")},g.default.t("download_unsupported_file_prompt"))}}]),t}(s.Component);v.displayName="MediaUnsupportedModal",t.default=v},eahbabfhi:function(e,t){e.exports={muted:"-R-3m",sticky:"_1GhQD"}},eahbjifecd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("eadfaddcj"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=n("baijejebfi"),b=a(m),g=n("bbjadhadbg"),v=a(g),y=n("ccaaiecfib"),_=a(y),E=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._renderImage=function(e){return u.createElement("div",{style:{backgroundImage:"url("+e+")"},className:b.default.preview})},a._renderPreview=function(){var e=a.props.mediaData;if(e.preview&&e.preview.url){var t=e.preview.url();if(t)return a._renderImage(t)}return null},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.mediaData;return e.type===f.default.MSG_TYPE.IMAGE||e.type===f.default.MSG_TYPE.PRODUCT?_.default.supportsFeature(_.default.F.REPLACE_MEDIABLOB)?u.createElement(v.default,{mediaData:e,placeholderRenderer:this._renderPreview},this._renderImage):e.renderableUrl?this._renderImage(e.renderableUrl):this._renderPreview():this._renderPreview()}}]),t}(u.PureComponent);E.CONCERNS={mediaData:["filehash","type","preview","renderableUrl","mediaStage"]},E.displayName="MediaMsgPreview",t.default=(0,p.default)((0,h.hoc)(E),E.CONCERNS)},eahhieahd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("cdaaeifjfh"),f=a(c),d=n("dhfbfehaef"),p=a(d),h=n("fffdgbfji"),m=a(h),b=n("chcadgfgad"),g=a(b),v=n("cfaiaibca"),y=a(v),_=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onCancel=function(){(0,a.props.onPopupCancel)()},a.onReport=function(){a.props.onReport()},a.onTellUsMore=function(){a.props.onTellUsMore()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=m.default.t("report_product_popup_title"),t=u.createElement("div",{key:"ReportProductChoicePopup-desc"},m.default.t("report_product_popup_desc")),n=u.createElement(y.default,{a8nText:"popup-controls-more",type:"plain",onClick:this.onTellUsMore,key:"ReportProductChoicePopup-moreBtn"},m.default.t("report_product_tell_us_more")),a=u.createElement(y.default,{a8nText:"popup-controls-report",type:"plain",onClick:this.onReport,key:"ReportProductChoicePopup-reportBtn"},m.default.t("report_product_popup_btn")),r=u.createElement(y.default,{type:"plain",onClick:this.onCancel,key:0},m.default.t("web_cancel")),o={escape:this.onCancel},i=u.createElement("div",{className:f.default.buttons},u.createElement("div",{className:f.default.button},n),u.createElement("div",{className:f.default.button},a),u.createElement("div",{className:f.default.button},r));return u.createElement(p.default,{handlers:o},u.createElement(g.default,{title:e,actions:i,children:t}))}}]),t}(u.Component);_.displayName="ReportProductChoicePopup",t.default=_},eaiefjeabj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("hbhijdici"),o=a(r),i=n("bdiiahhjbe"),l=a(i),s=n("eacidghfgh"),u=a(s),c=n("bbcaggdbc"),f=c.WebMessageInfo,d=n("bgiachiigg"),p=d.Message,h=n("ihiijcdag"),m={version:"15",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34},parseMsgStubProto:function(e,t){var n=f.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgStubTemplate:function(e,t){var n=f.STUBTYPE;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(this.decodeJid):void 0,e.messageStubType){case n.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case n.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case n.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case n.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case n.VERIFIED_HIGH:t.subtype="verified_high";break;case n.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case n.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case n.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case n.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case n.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case n.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case n.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case n.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case n.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case n.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case n.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;default:t.templateParams=void 0}return t},subscribeLiveLocation:function(e,t){var n=this;return new Promise(function(a,r){var i=function(e){n.BinaryProtocol.read(e).then(function(e){var r=n.N.children(e),i={participants:[]};if(l.default.logColor("green","bin-recv: response,location",e)(),"response"!==n.N.tag(e)||"location"!==n.N.attr("type",e))return void a(i);var s=parseInt(n.N.attr("duration",e),10);if(i.duration=o.default.isNaN(s)?void 0:s,!t||!Array.isArray(r))return t&&l.default.log("LiveLocation:response with no participants")(),void a(i);for(var u=r.length,c=0;c<u;c++){var f=r[c],d=n.N.attr("jid",f),h=parseInt(n.N.attr("expiration",f),10),m=parseInt(n.N.attr("elapsed",f),10)||0,b=n.N.children(f);if("participant"===n.N.tag(f)&&d){var g={id:d,expiration:o.default.isNaN(h)?void 0:h,elapsed:m};if(b){var v=p.parse(b).liveLocationMessage;v&&n.parseLiveLocationMessageProto(g,v)}g.lat&&g.lng?l.default.log("LiveLocation:response with lat/lng")():l.default.log("LiveLocation:response without lat/lng")(),i.participants.push(g)}}a(i)}).catch(r)},s=n.queryNode({type:"location",kind:"subscribe",jid:e,participant:t?"true":void 0},void 0);n.binSend("sendEphemeral",s,r,{onSend:n.binWrap(i,a),onDrop:n.wrap(r)},{debugString:["query,location",e,t].join(),metric:n.M.QUERY_LIVE_LOCATIONS})})},unsubscribeLiveLocation:function(e){var t=this;return new Promise(function(n,a){var r=t.actionNode("set",[["location",{type:"unsubscribe",jid:e},void 0]]);t.binSend("send",r,a,{clientCacheable:!0,onSend:t.wrap(n),onDrop:t.wrap(a)},{debugString:"action,location,unsubscribe,"+e,metric:t.M.LIVE_LOCATION})})},queryActiveLiveLocation:function(e){var t=this;return new Promise(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a=t.N.children(e),r={participants:[]};if(l.default.logColor("green","bin-recv: response,location",e)(),"response"!==t.N.tag(e)||"location"!==t.N.attr("type",e))return void n(r);if(!Array.isArray(a))return void n(r);for(var i=a.length,s=0;s<i;s++){var u=a[s],c=t.N.attr("jid",u),f=parseInt(t.N.attr("expiration",u),10);if("participant"===t.N.tag(u)&&c){var d={id:c,expiration:o.default.isNaN(f)?void 0:f};r.participants.push(d)}}n(r)}).catch(a)},i=t.queryNode({type:"location",kind:"participant",jid:e},void 0);t.binSend("sendEphemeral",i,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,location,participant,"+e,metric:t.M.QUERY_LIVE_LOCATIONS})})},disableLiveLocation:function(e){var t=this;return new Promise(function(n,a){var r=t.actionNode("set",[["location",{type:"disable",jid:e},void 0]]);t.binSend("send",r,a,{clientCacheable:!0,onSend:t.wrap(n),onDrop:t.wrap(a)},{debugString:"action,location,disable,"+e,metric:t.M.LIVE_LOCATION})})},parseLocation:function(e){if("location"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("jid",e),a=this.N.attr("author",e),r=parseInt(this.N.attr("elapsed",e),10)||0,o=parseInt(this.N.attr("id",e),10)||0,i=this.N.children(e),s={type:t};switch(t){case"update":if(s.jid=n,s.elapsed=r,i){var u=p.parse(i).liveLocationMessage;u&&this.parseLiveLocationMessageProto(s,u)}s.type="update",s.lat&&s.lng?l.default.log("LiveLocation:update with lat/lng")():l.default.log("LiveLocation:update without lat/lng")();break;case"disable":s.jid=a||n,s.chat=n,s.seq=o}this.pruneUndefinedProps(s);var c=["update"!==t&&"disable"!==t,!("update"!==t||n&&i),"disable"===t&&!n];return this.dropIfConditionMet(c,s)}},binSend:function(e,t,n,a,r){var o=this,i=a.epochIneligible?n:function(e){o.epochRecv(),n(e)};return delete a.epochIneligible,this.BinaryProtocol.write(t).then(function(n){r.debugObj||(r.debugObj=t),r.ackRequest=!1,a.data=n,a.binaryOpts=r,u.default[e](a)}).catch(i)}};e.exports=o.default.defaults(m,h)},eaijjhejbf:function(e,t){e.exports={muted:"pYiAs",emojiSearch:"_2JTFh",searchBody:"h2Zsb",positioningContainer:"_3KUIv",overlayContainer:"_2mlOb",resultsContainer:"_IWON",mediaCaption:"aWTXv",emojiInput:"_1GTvX"}},eajjbbihhc:function(e,t,n){"use strict";function a(e){var t=e.mimeType,n=e.url;return o.createElement("div",{className:l.default.container,"data-animate-attach-media":!0},o.createElement("div",{className:l.default.media},o.createElement("audio",{controls:!0,type:t,src:n})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("ddhijeejag"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n("cbfidcgebe"),l=function(e){return e&&e.__esModule?e:{default:e}}(i);a.displayName="AttachMediaTypeAudio"},ebacbhahej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return n.e(133).then(function(e){return{LiveLocationDrawer:n("dfjgigggff").default,ExpiredLocationDrawer:n("ddijbgcjdg").default}}.bind(null,n)).catch(n.oe)}Object.defineProperty(t,"__esModule",{value:!0}),t.ExpiredLocationDrawerLoadable=t.LiveLocationDrawerLoadable=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.requireBundle=l;var u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("bfejacaeaj"),d=a(f),p=n("cbhegcchgg"),h=a(p),m=n("djcchigfih"),b=a(m),g=n("djbhiedbef"),v=a(g),y=n("dajffajabh"),_=a(y),E=n("dcjdgceiej"),j=a(E),w=n("cjedbjfabb"),O=a(w),C=n("bigicfbcdh"),S=a(C),P=n("cicgeajfge"),M=n("bdiiahhjbe"),T=a(M),k=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onCancel=function(){a.context.uim.uie.requestDismiss()},i=n,o(a,i)}return i(t,e),s(t,[{key:"render",value:function(){return c.createElement(b.default,null,c.createElement(_.default,{title:this.props.title,type:y.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onCancel}),c.createElement(v.default,null,this.props.error?c.createElement(S.default,{inactive:!0,svgName:"live-location-refresh",text:l10n.t("retry"),onClick:this.props.retry}):c.createElement(P.Loading,null)))}}]),t}(c.PureComponent);k.contextTypes={uim:d.default.instanceOf(j.default)},k.displayName="LoadingDrawer";t.LiveLocationDrawerLoadable=(0,h.default)({loader:function(){return l().then(function(e){return e.LiveLocationDrawer}).catch(function(e){throw T.default.assert(!1,"loadable:LiveLocationDrawer loading error")(e),e})},loading:function(e){return c.createElement(k,{title:l10n.t("live_location_title"),error:Boolean(e.error),retry:e.retry})},delay:O.default.LOADABLE_DELAY}),t.ExpiredLocationDrawerLoadable=(0,h.default)({loader:function(){return l().then(function(e){return e.ExpiredLocationDrawer}).catch(function(e){throw T.default.assert(!1,"loadable:ExpiredLocationDrawer loading error")(e),e})},loading:function(e){return c.createElement(k,{title:l10n.t("live_location_expired_title"),error:Boolean(e.error),retry:e.retry})},delay:O.default.LOADABLE_DELAY})},ebacfjjdeb:function(e,t){e.exports={muted:"_2xDXX",metadataContainer:"ws2Cf",metadataText:"_2R0AT",metadataTitle:"_30aqP",metadataDesc:"_2oB8w",participantList:"Ni4TD",participantsTitle:"AgMOJ",participantsContainer:"Gwi7O",participantWrapper:"I_zKN",emptyContentContainer:"_111YX",participantsText:"VJRH_",contactsText:"_2DFcR",participantText:"_3mjJr",inviteExpiration:"_2CrtD",inviteExpirationIcon:"KYIjc"}},ebbeeceebe:function(e,t){e.exports={muted:"D9xkd",container:"_28v7x",section:"kY7yF",action:"_2qxdj",shortcut:"u6ytL",key:"_1Y3mw",plus:"_3fN5l"}},ebbfdafeec:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ieffcccfh"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("eceadcicaf"),m=a(h),b=n("bagahaffif"),g=a(b),v=n("cgbfcjgjcf"),y=a(v),_=n("didfdhbecg"),E=a(_),j=n("bcifhbgija"),w=a(j),O=n("bgddggdhc"),C=n("bgjddhffji"),S=n("ejbdjaifi"),P=n("bheafeifce"),M=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));T.call(n),n.zoomIn=!0;var a=n.props,i=a.activeProductImage,l=a.productImageCollection;return n.state={activeImgIndex:l.toArray().indexOf(i),imgZoomed:!1},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(window,"keydown",this.onKeyDown)}},{key:"componentDidMount",value:function(){this.zoomIn=!1,this.scrollToActive(),this.refThumbsContainer&&(0,w.default)(this.refThumbsContainer,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]});var e=this.props,t=e.product,n=e.sessionId;(0,C.logFullImageView)((0,P.unproxy)(t),n)}},{key:"componentDidUpdate",value:function(e,t){var n=e.product,a=e.sessionId;t.activeImgIndex!==this.state.activeImgIndex&&(this.scrollToActive(!0),(0,C.logFullImageView)((0,P.unproxy)(n),a))}},{key:"render",value:function(){var e=this.getThumbs(),t=this.props,n=t.product,a=t.productImageCollection,r=a.length,o=this.state.activeImgIndex,i=o>0?this.onPrev:null,l=o+1<r?this.onNext:null;return u.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},u.createElement("div",{className:f.default.thumbsContainer,ref:this.setRefThumbsContainer},u.createElement("div",{className:f.default.scrollContainer,dir:"ltr"},u.createElement(E.default,{className:f.default.viewerThumbs,ref:this.setRefThumbs,transitionName:"thumb-scale"},e))),u.createElement(g.default,{mediaData:a.toArray()[this.state.activeImgIndex].mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:l,onPrev:i,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,zoomIn:this.zoomIn,product:n}))}}]),t}(u.Component),T=function(){var e=this;this.onKeyDown=function(t){37===t.keyCode?e.onPrev():39===t.keyCode&&e.onNext()},this.onNext=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.props.productImageCollection,a=n.length,r=e.state.activeImgIndex,o=(r+1)%a;e.onSelectThumb(o)}},this.onPrev=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.props.productImageCollection,a=n.length,r=e.state.activeImgIndex,o=r-1<0?a-1:(r-1)%a;e.onSelectThumb(o)}},this.onImgZoomIn=function(t){e.setState({imgZoomed:t})},this.endFlow=function(){p.default.closeModalMedia()},this.willEndFlow=function(){e.refThumbsContainer&&(0,w.default)(e.refThumbsContainer,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},this.onSelectThumb=function(t){if(t!==e.state.activeImgIndex){var n=e.props,a=n.product,r=n.sessionId;(0,C.logImageNavigate)((0,P.unproxy)(a),r)}e.setState({activeImgIndex:t})},this.scrollToActive=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.refThumbsContainer,a=(0,O.forbiddenFindDOMNode)(e.refThumbs),r=(0,O.forbiddenFindDOMNode)(e.refActiveThumb);if(n&&a&&r){var o=0;r instanceof HTMLElement&&(o=r.clientWidth/2-n.clientWidth/2),(0,w.default)(a,"stop");var i=0;t&&(i=300),(0,w.default)(r,"scroll",{duration:i,container:a,offset:o,axis:"x",easing:[.1,.82,.25,1]})}},this.setRefActiveThumb=function(t){return e.refActiveThumb=t},this.setRefThumbsContainer=function(t){return e.refThumbsContainer=t},this.setRefThumbs=function(t){return e.refThumbs=t},this.getThumbs=function(){var t=e.props.productImageCollection,n=t.toArray().map(function(t,n){var a=n===e.state.activeImgIndex;return u.createElement(y.default,{theme:"viewerFlow",active:a,ref:a?e.setRefActiveThumb:null,key:"product-image-"+n,mediaData:t.mediaData,onClick:e.onSelectThumb.bind(e,n)})});return[u.createElement("div",{className:f.default.thumbPadding,key:"padding-left"}),n,u.createElement("div",{className:f.default.thumbPadding,key:"padding-right"})]}};M.displayName="ProductImageViewerFlow",t.default=(0,m.default)((0,S.hoc)(M))},ebbghebbdh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ebjaejiaba"),u=n("djcchigfih"),c=a(u),f=n("djbhiedbef"),d=a(f),p=n("dajffajabh"),h=a(p),m=n("fifhbjiec"),b=a(m),g=n("dhfbfehaef"),v=a(g),y=n("fffdgbfji"),_=a(y),E=n("chcadgfgad"),j=a(E),w=n("ddhijeejag"),O=a(w),C=n("cdjhjdcbeg"),S=a(C),P=n("dggeggcjcd"),M=a(P),T=n("cgfjebhhej"),k=a(T),N=n("bfdcadbbif"),I=a(N),R=n("dehfhdefdi"),A=a(R),D=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.contactList,a=t.onSend,r=t.onBack,o=t.chat,i=void 0;switch(o.kind){case s.CHAT_KIND.CHAT:i=_.default.t("confirm_sending_contact_chat",{chat:o.title(),count:_.default.n(n.length),_plural:n.length});break;case s.CHAT_KIND.GROUP:i=_.default.t("confirm_sending_contact_group",{chat:o.title(),count:_.default.n(n.length),_plural:n.length});break;case s.CHAT_KIND.BROADCAST:i=_.default.t("confirm_sending_contact_broadcast",{chat:o.title(),count:_.default.n(n.length),_plural:n.length})}var l=i?O.default.createElement(b.default,{text:i,direction:"auto",titlify:!0,ellipsify:!0}):null;return O.default.createElement(j.default,{type:E.BoxModalType},O.default.createElement(c.default,null,O.default.createElement(h.default,{type:p.DRAWER_HEADER_TYPE.POPUP,onBack:r},l),O.default.createElement(d.default,null,O.default.createElement(v.default,null,O.default.createElement("div",{className:A.default.body},n.map(function(t,n){return e.renderVCard(k.default.fromContactModel(t),n.toString())})))),O.default.createElement("div",{className:A.default.btnContainer},O.default.createElement("div",{className:A.default.btnPosition},O.default.createElement(S.default,{large:!0,onClick:a},O.default.createElement(I.default,{name:"send-light",directional:!0}))))))}},{key:"renderVCard",value:function(e,t){var n=k.default.parse(e.vcard);return n?O.default.createElement("div",{key:t,className:A.default.vcardWrapper},O.default.createElement(M.default,{parsedVCard:n,thumbnail:k.default.thumbnail(e.vcard)})):null}}]),t}(w.Component);D.displayName="VCardConfirmModal",t.default=D},ebcfjdcbhh:function(e,t,n){"use strict";var a=window.matchMedia("\nonly screen and (max-width: 1024px)\n"),r={column:a.matches?2:3},o=function(e){var t=e.matches?2:3;if(r.column!==t){r.column=t;var n=document.createEvent("Event");n.initEvent("columnChange",!0,!0),window.dispatchEvent(n)}};a.addListener(o),e.exports=r},ebdahjichh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("fijafegab"),f=a(c),d=n("eceadcicaf"),p=a(d),h=n("cdcijfdgje"),m=a(h),b=n("bhifaggjcb"),g=a(b),v=n("ihfccfgdf"),y=a(v),_=n("bfdcadbbif"),E=a(_),j=n("eedjbihej"),w=a(j),O=n("ejbdjaifi"),C=n("cicjibbhdb"),S=n("bheafeifce"),P=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateParticipants=function(){n.setState({participants:n.getParticipants(n.props.chat)})},n.state={participants:n.getParticipants(e.chat)},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.liveLocationQueried||m.default.getActive(t.id.toString()).then(function(){t.liveLocationQueried=!0}).catch(function(){}),this.props.listeners.add((0,S.unproxy)(t),"change:liveLocation",function(){var n=t.liveLocation;n&&(e.removeParticipantListener(n),e.addParticipantListener(n),e.updateParticipants())});var n=t.liveLocation;n&&this.addParticipantListener(n)}},{key:"addParticipantListener",value:function(e){this.props.listeners.add(e.participants,"add remove",this.updateParticipants)}},{key:"removeParticipantListener",value:function(e){this.props.listeners.remove(e.participants,"add remove",this.updateParticipants)}},{key:"getParticipants",value:function(e){var t=e.liveLocation;return t?t.participants.toArray():[]}},{key:"getText",value:function(){var e=this.props.chat,t=this.state.participants,n=void 0,a=void 0,r=0;if(t.forEach(function(e){e.isMe?n=!0:(a||(a=e.contact),r++)}),e.isGroup)return n?1===t.length?l10n.t("live_location_sharers_you_are_sharing"):l10n.t("live_location_sharers_you_and_people_are_sharing",{count:r,_plural:r}):l10n.t("live_location_sharers_people_are_sharing",{count:r,_plural:r});if(n){if(1===t.length)return l10n.t("live_location_sharers_you_are_sharing");if(a)return l10n.t("live_location_sharers_you_and_friend_are_sharing",{name:a.formattedShortNameWithNonBreakingSpaces})}else if(a)return l10n.t("live_location_sharers_friend_is_sharing",{name:a.formattedShortNameWithNonBreakingSpaces});return""}},{key:"render",value:function(){var e=this.props.onClick;if(!this.state.participants.length)return null;var t=u.createElement(E.default,{name:(0,C.liveLocationIcon)(!0)});return u.createElement(f.default,{a8nText:"section-live-location",theme:"padding",title:l10n.t("live_location_title"),titleOnClick:e},u.createElement(g.default,{side:t,onClick:e},u.createElement(w.default,{theme:"title"},this.getText())))}}]),t}(u.Component);P.CONCERNS={chat:["id","isGroup","liveLocation","liveLocationQueried"]},P.displayName="LiveLocationRow",t.default=(0,p.default)((0,y.default)((0,O.hoc)(P),P.CONCERNS))},ebfgabegga:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ceffhbhahb"),f=a(c),d=n("bcifhbgija"),p=a(d),h=n("cajbifjffe"),m=a(h),b=n("dhhfaeacef"),g=a(b),v=n("fifhbjiec"),y=a(v),_=n("dgfecega"),E=a(_),j=n("gbfffciea"),w=a(j),O=n("caffijjhc"),C=a(O),S=n("ihfccfgdf"),P=a(S),M=n("ejbdjaifi"),T=n("fffdgbfji"),k=a(T),N=n("bfdcadbbif"),I=a(N),R=n("dhbceejbjg"),A=a(R),D=n("djibddbgic"),x=a(D),L=500,F=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={style:{visibility:"hidden"}},a.onScroll=function(e){Math.abs(e.deltaY)>3&&a.onClose()},a.onClose=function(){if(!a.closing){a.closing=!0;var e=void 0;if(a.props.getZoomNode(function(t){e=t}),!e)return w.default.closeModalMedia();var t=a.refImage;if(t){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-n.top,i=r.left-n.left,l=e.clientWidth/t.clientWidth;(0,p.default)(t,{translateX:[i,0],translateY:[o,0],scale:[l,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){w.default.closeModalMedia()})}}},a.onImageLoad=function(e){var t=e.target;a.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},function(){a.props.getZoomNode(function(e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-n.top,i=r.left-n.left,l=e.clientWidth/t.clientWidth,s={visibility:"hidden",transform:"translateX("+i+"px) translateY("+o+"px) scale("+l+")",transition:"transform 0s",borderRadius:void 0};a.props.animateBorderRadius&&(s.borderRadius="50%"),a.setState({style:s},function(){var e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform "+L+"ms cubic-bezier(.1,.82,.25,1)"};a.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform "+L+"ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius "+L+"ms cubic-bezier(.1,.82,.25,1)"}),a.setState({style:e})})})})},a.setRefImage=function(e){a.refImage=e},i=n,o(a,i)}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.profilePicThumb.imgFull||(this.onClose(),!1)}},{key:"render",value:function(){var e=this.props,t=e.contact,n=e.profilePicThumb,a=void 0;return n.imgFull&&(a=u.createElement(m.default,{src:n.imgFull,hasPrivacyChecks:!0,onLoad:this.onImageLoad,className:x.default.profileViewerImg})),u.createElement(C.default,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.onClose},u.createElement("div",{className:(0,f.default)("overlay",x.default.container),onWheel:this.onScroll,onClick:this.onClose},u.createElement("div",{className:x.default.headerContainer},u.createElement("div",{className:x.default.profileThumb},u.createElement(A.default,{image:u.createElement(g.default,{id:t.id,size:40}),theme:"plain",primary:u.createElement(y.default,{text:t.formattedUser})})),u.createElement("div",{className:x.default.close},u.createElement(I.default,{name:"x-viewer",title:k.default.t("web_close"),onClick:this.onClose}))),u.createElement("div",{className:x.default.profileContainer,dir:"ltr"},u.createElement("div",{className:x.default.media},u.createElement(E.default,{type:_.FIT_TYPE.SCALE_DOWN,size:this.state.size},u.createElement("div",{className:x.default.profileViewer,"data-animate-profile-viewer":!0,ref:this.setRefImage,style:this.state.style},a))))))}}]),t}(u.Component);F.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},F.displayName="PhotoViewerModal",t.default=(0,P.default)((0,M.hoc)(F),F.CONCERNS)},ebgbahdcjg:function(e,t,n){"use strict";function a(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var n=t.getRangeAt(0);if(!n.collapsed||0!==n.startOffset)return!1;var a=n.startContainer;if(e===a)return!0;if(!e.contains(a))return!1;var r=a;do{if(r.previousSibling)return!1;r=r.parentNode}while(r!==e);return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},ebgedhejjf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("eadfaddcj"),f=(a(c),n("fifhbjiec")),d=a(f),p=n("ejbdjaifi"),h=n("dbbbgjbbgf"),m=a(h),b=n("bceghabha"),g=a(b),v=n("geegjgjdg"),y=a(v),_=n("ihfccfgdf"),E=a(_),j=n("gaifbabbj"),w=n("cieaeggjg"),O=a(w),C=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg,t=e.paymentNoteMsg&&e.paymentNoteMsg.body,n=!t,a=null,r=void 0;if(t){var o=e.isTrusted()?j.Configuration.TrustedConversation:j.Configuration.UntrustedConversation,i=o({mentions:e.mentionMap(),links:e.getLinks()});a=u.createElement("div",{className:g.default.caption},u.createElement(m.default,{msg:e},u.createElement(d.default,{text:t,selectable:!0,formatters:i,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir})))}else r=u.createElement("div",{className:g.default.meta},u.createElement(O.default,{msg:e}));return u.createElement(y.default,{displayAuthor:this.props.displayAuthor,displayType:this.props.displayType,hasCaption:!!a,msg:e,quotedMsg:this.props.quotedMsg,hideMeta:n},this.props.paymentInfo,r,a)}}]),t}(u.Component);C.CONCERNS={msg:["rtl","dir","isGroupMsg","isPSA","isSentByMe","senderObj","paymentNoteMsg"]},C.displayName="SendOrRequestPaymentMessage",t.default=(0,E.default)((0,p.hoc)(C),C.CONCERNS)},ebgjhfacdb:function(e,t,n){"use strict";var a=n("chgaccicf"),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=(0,r.default)({FILTER:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0,BACKSPACE:void 0})},ebhdjgicgg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("bheafeifce"),h=n("cehjjfagii"),m=a(h),b=n("caafgbfcba"),g=a(b),v=n("gbfffciea"),y=a(v),_=n("eiiicijcj"),E=a(_),j=n("eafjfadchb"),w=a(j),O=n("bffjfbgbg"),C=a(O),S=n("dffedieagi"),P=a(S),M=n("bfdcadbbif"),T=a(M),k=n("bcadhjihfb"),N=a(k),I=n("eadfaddcj"),R=(a(I),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMediaMissing=function(){y.default.openModal(u.createElement(E.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.forceDownloadMedia(!0)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.downloadUnsupportedToDesktop=function(e){e&&e.stopPropagation(),y.default.openModal(u.createElement(w.default,{msg:(0,p.unproxy)(n.props.msg)}))},n.handleTimeUpdate=function(e){n.setState({currentTime:e})},n.handlePlayingUpdate=function(e){n.setState({autoPlay:!1,playing:e})},n.state={currentTime:0,playing:!1,autoPlay:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia()}},{key:"render",value:function(){var e=this.props.msg,t=this.props.mediaData,n=void 0,a=this.state.playing?this.state.currentTime:t.duration;switch(t.mediaStage){case C.default.STAGE.RESOLVED:n=u.createElement(g.default,{url:t.renderableUrl,duration:a,playing:this.state.playing,played:!0,autoPlay:!1,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:e.isSentByMe,displayType:this.props.displayType});break;case C.default.STAGE.NEED_POKE:n=u.createElement(b.AudioPlayerFrame,{icon:u.createElement(T.default,{name:"audio-download"}),outgoingMsg:e.isSentByMe,action:this.downloadMedia});break;case C.default.STAGE.NEED_UPLOAD:n=u.createElement(b.AudioPlayerFrame,{icon:u.createElement(T.default,{name:"audio-upload"}),outgoingMsg:e.isSentByMe,action:this.resumeUpload});break;case C.default.STAGE.REMOTE_NEED_UPLOAD:n=u.createElement(b.AudioPlayerFrame,{icon:u.createElement(T.default,{name:"audio-upload"}),outgoingMsg:e.isSentByMe,action:this.resumeRemoteUpload});break;case C.default.STAGE.ERROR_MISSING:n=u.createElement(b.AudioPlayerFrame,{icon:u.createElement(T.default,{name:"audio-play",directional:!0}),outgoingMsg:e.isSentByMe,action:this.showMediaMissing});break;default:n=u.createElement(b.AudioPlayerFrame,{outgoingMsg:e.isSentByMe,spinner:!0})}var r=u.createElement("div",{className:N.default.icon},u.createElement(T.default,{name:"audio-file"})),o=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?u.createElement(m.default,{msg:e,contact:e.senderObj}):null;return u.createElement(P.default,{msg:e,quotedMsg:this.props.quotedMsg,author:o,player:n,avatar:r,displayType:this.props.displayType})}}]),t}(u.PureComponent));R.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj"],mediaData:["duration","type","mediaStage","renderableUrl"]},R.displayName="Audio",t.default=(0,f.default)((0,d.hoc)(R),R.CONCERNS)},ebhfgcddae:function(e,t){e.exports={muted:"_11Epw",body:"_3yE2x",icon:"_3FWXq",wrapper:"_1KmPi",container:"_287WJ",focusBorder:"_27JTh",preview:"_2x9yi"}},ebibecaibi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("hbhijdici"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("cajijabhgb"),v=r(g),y=n("eceadcicaf"),_=a(y),E=n("ejbdjaifi"),j=n("bdiiahhjbe"),w=a(j),O=n("bffjfbgbg"),C=a(O),S=n("cifjfjfegc"),P=a(S),M=n("dcfaachegb"),T=a(M),k=n("bfbggcdbfb"),N=a(k),I=n("bjbedjfe"),R=a(I),A=n("bgddggdhc"),D=n("becfabjeeg"),x=a(D),L=n("bcifhbgija"),F=a(L),U=n("dcfijghjic"),B=a(U),G=n("cahfddcdga"),V=a(G),W=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));H.call(n),n.zoomIn=!0,n.prevScrollWidth=null;var a=n.props.msg;return n.mediaMsgs=a.chat.constructMediaMsgs(a),n.handleScroll=d.default.throttle(n._handleScroll,100),a.type===b.default.MSG_TYPE.IMAGE&&(n.uiActionEvent=new N.default.UiAction({uiActionType:N.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:a.mediaData.mediaStage===C.default.STAGE.RESOLVED})),n.state={activeMsg:a,imgZoomed:!1},n}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(window,"keydown",this.onKeyDown)}},{key:"componentDidMount",value:function(){var e=this;this.zoomIn=!1;var t=this.props.listeners;t.uiIdle(function(){e.mediaMsgs.loadMoreAroundIfNeeded(e.state.activeMsg)}),t.add(this.mediaMsgs,"remove reset",function(t,n,a){if(e.mediaMsgs.indexOf(t)>-1||e.state.activeMsg!==t)return void e.forceUpdate();var r=a.index;0===e.mediaMsgs.length?e.endFlow():e.mediaMsgs.length===r?e.onSelectThumb(e.mediaMsgs.at(r-1)):e.onSelectThumb(e.mediaMsgs.at(r))}),t.add(this.mediaMsgs,"query_media_after"),t.add(this.mediaMsgs,"query_media_before",function(){var t=(0,A.forbiddenFindDOMNode)(e.refThumbs);t&&t instanceof HTMLElement&&(e.prevScrollWidth=t.scrollWidth,e.forceUpdate())}),this.scrollToActive(),this.refThumbsContainer&&(0,F.default)(this.refThumbsContainer,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(t.activeMsg!==this.state.activeMsg)this.scrollToActive(!0);else{var n=(0,A.forbiddenFindDOMNode)(this.refThumbs);if(!n||!this.prevScrollWidth)return;n instanceof HTMLElement&&(n.scrollLeft+=n.scrollWidth-this.prevScrollWidth),this.prevScrollWidth=null}}},{key:"render",value:function(){var e=this.mediaMsgs.last(),t=this.mediaMsgs.hasMediaAfter||this.state.activeMsg!==e?this.onNext:null,n=this.mediaMsgs.head(),a=this.mediaMsgs.hasMediaBefore||this.state.activeMsg!==n?this.onPrev:null,r=this.getThumbs(),o=this.onScroll;return c.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},c.createElement("div",{className:B.default.thumbsContainer,ref:this.setRefThumbsContainer},c.createElement("div",{className:B.default.scrollContainer,dir:"ltr"},c.createElement("div",{onScroll:o,className:B.default.viewerThumbs,ref:this.setRefThumbs},r))),c.createElement(T.default,{msg:this.state.activeMsg,mediaData:this.state.activeMsg.mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:t,onPrev:a,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,startTime:this.props.startTime,zoomIn:this.zoomIn,onImageLoad:this.uiActionEvent?this.onImageLoad:null}))}}]),t}(c.Component),H=function(){var e=this;this.onKeyDown=function(t){37===t.keyCode?e.onPrev():39===t.keyCode&&e.onNext()},this.onImageLoad=function(){e.uiActionEvent&&(e.uiActionEvent.markUiActionT(),e.uiActionEvent.commit(),delete e.uiActionEvent)},this.onScroll=function(t){e.handleScroll(t.currentTarget)},this._handleScroll=function(t){if(0!==e.mediaMsgs.length){if(e.mediaMsgs.hasMediaBefore&&t.scrollLeft<t.clientWidth){var n=(0,V.default)(e.mediaMsgs.head());e.props.listeners.uiIdle(function(){e.mediaMsgs.queryMedia(n.chat,n),e.forceUpdate()})}if(e.mediaMsgs.hasMediaAfter&&t.scrollLeft+b.default.SCROLL_FUDGE>t.scrollWidth-2*t.clientWidth){var a=(0,V.default)(e.mediaMsgs.last());e.props.listeners.uiIdle(function(){e.mediaMsgs.queryMedia(a.chat,a,"after"),e.forceUpdate()})}}},this.onNext=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.state.activeMsg,a=e.mediaMsgs.getAfter(n);if(a)return void e.onSelectThumb(a);e.mediaMsgs.hasMediaAfter&&(e._queryMediaAfter||(e._queryMediaAfter=e.mediaMsgs.queryMedia(n.chat,n,"after").checkpoint(e.props.rejectOnUnmount()).then(function(t){"number"==typeof t.length&&t.length>0&&e.state.activeMsg===n&&e.onNext()}).catch(v.Unmount,function(){}).catch(function(e){w.default.error("query media msgs error: ",e)()}).finally(function(){e._queryMediaAfter=null})))}},this.onPrev=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.state.activeMsg,a=e.mediaMsgs.getBefore(n);if(a)return void e.onSelectThumb(a);e.mediaMsgs.hasMediaBefore&&(e._queryMediaBefore||(e._queryMediaBefore=e.mediaMsgs.queryMedia(n.chat,n,"before").checkpoint(e.props.rejectOnUnmount()).then(function(t){"number"==typeof t.length&&t.length>0&&e.state.activeMsg===n&&e.onPrev()}).catch(v.Unmount,function(){}).catch(function(e){w.default.error("query media msgs error: ",e)()}).finally(function(){e._queryMediaBefore=null})))}},this.onImgZoomIn=function(t){e.setState({imgZoomed:t})},this.endFlow=function(){h.default.closeModalMedia()},this.willEndFlow=function(){e.refThumbsContainer&&(0,F.default)(e.refThumbsContainer,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},this.onSelectThumb=function(t){e.props.listeners.uiIdle(function(){e.mediaMsgs.loadMoreAroundIfNeeded(t)}),e.setState({activeMsg:t})},this.scrollToActive=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.refThumbsContainer,a=(0,A.forbiddenFindDOMNode)(e.refThumbs),r=(0,A.forbiddenFindDOMNode)(e.refActiveThumb);if(n&&a&&r){var o=0;r instanceof HTMLElement&&(o=r.clientWidth/2-n.clientWidth/2),(0,F.default)(a,"stop");var i=0;t&&(i=300),(0,F.default)(r,"scroll",{duration:i,container:a,offset:o,axis:"x",easing:[.1,.82,.25,1]})}},this.setRefActiveThumb=function(t){return e.refActiveThumb=t},this.setRefThumbsContainer=function(t){return e.refThumbsContainer=t},this.setRefThumbs=function(t){return e.refThumbs=t},this.getThumbs=function(){var t=[];return e.mediaMsgs.forEach(function(n){if(null==n.mediaData){var a=e.props.msg;return void w.default.errorVerbose("MediaViewerFlow: attempted to render a msg without mediaData: "+JSON.stringify({type:n.type,isMedia:n.isMedia,startMsgType:a.type,startMsgIsMedia:a.isMedia}))()}t.push(c.createElement(P.default,{theme:"viewerFlow",active:n===e.state.activeMsg,msg:n,ref:n===e.state.activeMsg?e.setRefActiveThumb:null,key:"media-"+n.id.id,onClick:e.onSelectThumb.bind(e,n)}))}),t.push(c.createElement("div",{className:B.default.mediaThumb,key:"spinner-right"},e.mediaMsgs.queryMediaAfter?c.createElement(x.default,{stroke:6,size:24}):null)),t.unshift(c.createElement("div",{className:B.default.mediaThumb,key:"spinner-left"},e.mediaMsgs.queryMediaBefore?c.createElement(x.default,{stroke:6,size:24}):null)),t.push(c.createElement("div",{className:B.default.thumbPadding,key:"padding-right"})),t.unshift(c.createElement("div",{className:B.default.thumbPadding,key:"padding-left"})),t}};W.displayName="MediaViewerFlow",t.default=(0,R.default)((0,_.default)((0,E.hoc)(W)))},ebidfedahj:function(e,t,n){"use strict";e.exports={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",BATCH_RENDER:"batch_render"}}},ebiehcaghg:function(e,t){e.exports={muted:"MZ83E",app:"_3fUe9","app-enter":"_19rFe",appEnter:"_19rFe",noAnimation:"_1frXk",drawerManager:"_37f_5",paneTwo:"_2rI9W",pane:"_3HZor",paneThree:"_1C9rS",paneOne:"_3kF8H",showroomButton:"fzQrB"}},ebijaadcje:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("eadfaddcj"),h=a(p),m=n("bcdgdcghdi"),b=a(m),g=n("bfdcadbbif"),v=a(g),y=n("cbhhfeaigc"),_=a(y),E=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hover:!1},a._onMouseEnter=function(){a.setState({hover:!0})},a._onMouseLeave=function(){a.setState({hover:!1})},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e=(0,d.default)(_.default.container,r({},_.default.compact,this.props.displayType===h.default.DISP_TYPE.MSG_INFO));return c.createElement("div",{className:e,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.state.hover?c.createElement(b.default,null,this.props.tooltip):null,c.createElement("div",{className:_.default.error,onClick:this.props.onClick,role:"button"},c.createElement(v.default,{name:"error"})))}}]),t}(c.PureComponent);E.displayName="FailIcon",t.default=E},ecabefjaea:function(e,t,n){"use strict";function a(e,t){return function(n){e.some(function(e){var a=r(e,2),o=a[0],i=a[1],l=i.call(o,n,t);return!!n.defaultPrevented||!0===l&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!0)})}}var r=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e,t){var n=e.reduce(function(e,t){var n=t.handlers;return n?(Object.keys(n).forEach(function(a){e[a]||(e[a]=[]);var r=n[a];null!=r&&e[a].push([t,r])}),e):e},{});return Object.keys(n).reduce(function(e,r){var o=n[r];return e[r]=a(o,t),e},{})}},ecahagbbfh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("cajijabhgb"),d=r(f),p=n("dcecgegjfc"),h=r(p),m=n("efjajjbaf"),b=a(m),g=n("gbfffciea"),v=a(g),y=n("cfghbhcedd"),_=a(y),E=n("ffchhcfdj"),j=a(E),w=n("bjbedjfe"),O=a(w),C=n("bfdcadbbif"),S=a(C),P=n("ejbdjaifi"),M=n("bhfdfhefca"),T=n("bheafeifce"),k=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._handleClick=function(e){a._checkForDrawerMid(e)},a._handleDropdownCaptureClick=function(){a._openCaptureFlow()},r=n,i(a,r)}return l(t,e),s(t,[{key:"_checkForDrawerMid",value:function(e){v.default.existsDrawerMid(function(t){t&&e.preventDefault()})}},{key:"_openCaptureFlow",value:function(){var e=this,t=this.props.chat,n=h.start("camera");Promise.race([n,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(function(n){n&&v.default.openDrawerMid(c.createElement(_.default,{chat:(0,T.unproxy)(t),stream:n}),"slide-up",e.context.uim,{noFocus:!0})}).catch(d.Unmount,function(){n.then(function(e){return h.stop(e)}).catch(function(){})}).catch(d.GUM.NotAllowedError,function(){v.default.openModal(c.createElement(j.default,{title:"guide_desktop_camera_title",desc:"guide_desktop_camera_fail_description",type:j.default.TYPE.GUIDE_UNBLOCK}))}).catch(d.GUM.GUMError,function(){v.default.openModal(c.createElement(j.default,{title:"guide_desktop_camera_missing_title",desc:"guide_desktop_camera_missing_description",type:j.default.TYPE.GUIDE_NONE}))})}},{key:"render",value:function(){return c.createElement(M.MenuBarItem,{a8nText:"conversation-clip",icon:c.createElement(S.default,{name:"clip"}),title:l10n.t("menutitle_attach"),transitionName:"menu",onClick:this._handleClick},c.createElement(b.default,{chat:this.props.chat,onCaptureClick:this._handleDropdownCaptureClick,getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}))}}]),t}(c.PureComponent);k.displayName="AttachMenuBarItem",t.default=(0,O.default)((0,P.hoc)(k))},ecbgbhdahb:function(e,t){e.exports={muted:"_38_dR",sender:"_2I4wO"}},ecbgeejjjh:function(e,t){e.exports={muted:"_25Rew",fullWidthShade:"_1_XHS",stripHeightShade:"_1y_mQ",lowerShade:"_3ieM9",upperShade:"_3Asgg",fullHeightShade:"_5yx6d",roundedCorners:"_3nuhn"}},ecbjchafdg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("gbfffciea"),d=a(f),p=n("biddiiafgd"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("bcjcbbafcj"),v=a(g),y=n("ddjfcdfihc"),_=n("dieejegcge"),E=a(_),j=n("ebbeeceebe"),w=a(j),O=[[l10n.t("nc_new_chat"),(0,y.getWebKey)(E.default.OPEN_NEW_CHAT)],[l10n.t("nc_new_group"),(0,y.getWebKey)(E.default.OPEN_NEW_GROUP)],[l10n.t("nc_profile_status"),(0,y.getWebKey)(E.default.OPEN_PROFILE)],[l10n.t("menuitem_settings"),(0,y.getWebKey)(E.default.OPEN_SETTINGS)],[l10n.t("nc_menu_mac_search"),(0,y.getWebKey)(E.default.SEARCH)],[l10n.t("nc_menu_search_chat"),(0,y.getWebKey)(E.default.SEARCH_IN_CHAT)],[l10n.t("nc_archive_chat"),(0,y.getWebKey)(E.default.TOGGLE_ARCHIVE)],[l10n.t("nc_mute"),(0,y.getWebKey)(E.default.TOGGLE_MUTE)],[l10n.t("nc_mark_unread"),(0,y.getWebKey)(E.default.TOGGLE_UNREAD)],[l10n.t("nc_delete_chat"),(0,y.getWebKey)(E.default.DELETE_OR_EXIT_CHAT)],[l10n.t("nc_menu_next_chat"),(0,y.getWebKey)(E.default.GO_TO_NEXT_CHAT)],[l10n.t("nc_menu_prev_chat"),(0,y.getWebKey)(E.default.GO_TO_PREV_CHAT)]],C=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onClose=function(){d.default.closeModal()},i=n,o(a,i)}return i(t,e),s(t,[{key:"render",value:function(){var e=O.map(function(e){var t=l(e,2),n=t[0],a=t[1];if(a){var r=a.indexOf("Shift+"),o=void 0;return o=-1===r?c.createElement("span",{className:w.default.key},a):c.createElement(c.Fragment,null,c.createElement("span",{className:w.default.key},"Shift"),c.createElement("span",{className:w.default.plus},"+"),c.createElement("span",{className:w.default.key},a.substr("Shift+".length))),c.createElement("div",{key:"shortcut-"+a,className:w.default.section},c.createElement("div",{className:w.default.action},n),c.createElement("div",{className:w.default.shortcut},c.createElement("span",{className:w.default.key},v.default.os===b.default.OS_TYPE.MAC?"Cmd":"Alt"),c.createElement("span",{className:w.default.plus},"+"),c.createElement("span",{className:w.default.key},"Ctrl"),c.createElement("span",{className:w.default.plus},"+"),o))}});return c.createElement(h.default,{onOK:this.onClose,okText:l10n.t("web_ok"),title:l10n.t("keyboard_shortcuts_title")},c.createElement("div",{className:w.default.container},e))}}]),t}(c.Component);C.displayName="KeyboardShortcutsPopup",t.default=C},ecciceaiej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("effbcehec"),f=a(c),d=n("hecjahfhf"),p=a(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:p.default.overlay,key:"avatar-overlay"},this.props.icon,u.default.createElement("div",{"data-a8n":f.default.key("avatar-text"),className:p.default.text},this.props.text))}}]),t}(s.Component);h.displayName="AvatarOverlay",t.default=h},eccjbdjafd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{handlers:c(e,X)}}function c(e,t){return t.reduce(function(t,n){return Array.isArray(n)?t[n[0]]=e[n[1]]:t[n]=e[n],t},{})}function f(e){return e.which===K&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}function d(e,t){var n=e.startOffset,a=e.startContainer;return 0===n&&a!==t&&(!(!a||!a.previousSibling)&&"\n"===a.previousSibling.textContent.slice(-1))}function p(e,t,n){var a={};return n.forEach(function(n){return a[n]=e[n]!==t[n]}),a}function h(e){return y.default.dir(e)||C.default.LR("ltr","rtl")}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInput=void 0;var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=n("daffbcegjj"),y=a(v),_=n("ihhfhbadh"),E=a(_),j=n("ebgbahdcjg"),w=a(j),O=n("fffdgbfji"),C=a(O),S=n("effbcehec"),P=a(S),M=n("dhfbfehaef"),T=a(M),k=n("babbeaeffj"),N=a(k),I=n("chhhffajfi"),R=n("eagfdbhhhh"),A=n("fchcjedjf"),D=a(A),x=n("digcccheca"),L=n("dcjhajfghf"),F=n("ddajbaceej"),U=n("debfbiicee"),B=n("ddhijeejag"),G=n("ecabefjaea"),V=n("djfbibifah"),W=n("caeigadddg"),H=n("ceffhbhahb"),Y=n("ddeihcgfbg"),q=n("ceeggdegaf"),K=13,z=t.BaseInput=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),Q.call(a),r=n,l(a,r)}return s(t,e),g(t,[{key:"serialize",value:function(e){var t=e||this.state.value;return this.plugins.reduce(function(e,t){var n=b(e,2),a=n[0],r=n[1];return t.serialize?t.serialize(a,r):[a,r]},[t,{}])}},{key:"replaceSelection",value:function(e){if(!this.props.readOnly){var t=this.refInput;this._hasFocus(t)||(F.focus(t),this.selection&&this.restoreSelection(this.selection));var n=this.trimToFit(e);if(n.length){this.props.multiline||(n=n.replace(/\r?\n/g,""));var a=window.getSelection().getRangeAt(0);d(a,this.refInput)&&(n="\n"+n),a.deleteContents();var r=t||{},o=r.scrollTop,i=r.scrollHeight;if(document.execCommand("insertHTML",!1,q(n,this.plugins)),this.onSelect(),t){var l=t.scrollHeight;if(l<=t.clientHeight)return;t.scrollTop=(o||0)+(l-i)}}}}},{key:"restoreSelection",value:function(e){var t=this.refInput;if(t){var n=e.anchorIndex,a=e.focusIndex,r=e.anchorOffset,o=e.focusOffset,i=t.childNodes,l=-1===n?t:i[n],s=-1===a?t:i[a];if(l&&s)try{if(l===s&&r>o){var u=[o,r];r=u[0],o=u[1]}var c=document.createRange();c.setStart(l,r),c.setEnd(s,o);var f=window.getSelection();f.removeAllRanges(),f.addRange(c);try{var d=document.createRange();d.setStart(s,o),d.setEnd(s,o);var p=d.getBoundingClientRect(),h=p.bottom,m=p.top,b=this.refInput&&this.refInput.getBoundingClientRect(),g=b||{},v=g.bottom,y=g.top;if(m>=y&&h<=v)return;this.refInput&&(this.refInput.scrollTop+=h<y?m-y:h-v)}catch(e){}}catch(e){this.focus(!0)}}}},{key:"getSelection",value:function(){var e=this.refInput;if(!e||document.activeElement!==e)return null;for(var t=window.getSelection(),n=t.anchorNode,a=t.anchorOffset,r=t.focusNode,o=t.focusOffset,i=e.childNodes,l=-1,s=-1,u=0,c=void 0;(l<0||s<0)&&(c=i[u++]);)n===c&&(l=u-1),r===c&&(s=u-1);return{anchorIndex:l,anchorOffset:a,focusIndex:s,focusOffset:o}}},{key:"trimToFit",value:function(e){var t=this.props.maxLength;if(!t)return e;var n=this.selectionLength,a=this.length,r=t+n-a;return r<=0?"":(0,I.substring)(String(e),0,r)}},{key:"cursorAtEnd",value:function(){return!(!this.state.focused||""!==this.state.value)||(0,E.default)(this.refInput)}},{key:"cursorAtStart",value:function(){return!(!this.state.focused||""!==this.state.value)||(0,w.default)(this.refInput)}},{key:"isFocused",value:function(){return this.state.focused}},{key:"render",value:function(){var e,t=this.props.placeholder,n=this.state,a=n.value,r=n.direction,i=a.length?"hidden":"visible",l=H(D.default.input,(e={},o(e,D.default.compose,"compose"===this.props.theme),o(e,D.default.default,"default"===this.props.theme||"media-caption"===this.props.theme),o(e,D.default.large,"large"===this.props.theme),o(e,D.default.media,"media-caption"===this.props.theme),o(e,D.default.invite,"v4-invite-caption"===this.props.theme),o(e,D.default.small,"small"===this.props.theme),o(e,D.default.status,"status-reply"===this.props.theme),e));return B.createElement(T.default,{className:l,handlers:this.hotKeyMap,onRef:this.setRefContainer},B.createElement("div",{"data-a8n":P.default.key("pluggable-input-placeholder"),className:D.default.placeholder,ref:this.setRefPlaceholder,style:{visibility:i}},t),B.createElement("div",m({},this.handlerMap,{"data-a8n":P.default.key("pluggable-input-body"),className:H(D.default.body,R.SELECTABLE_INPUT_CSS_CLASS),contentEditable:!this.props.readOnly,dangerouslySetInnerHTML:{__html:q(a,this.plugins)},"data-tab":this.props.readOnly?null:1,dir:r,ref:this.setRefInput,spellCheck:this.props.spellCheck})))}},{key:"value",get:function(){return this.state.value}},{key:"selectionLength",get:function(){if(this.props.readOnly)return 0;this._hasFocus(this.refInput)||F.focus(this.refInput);var e=window.getSelection();return e.rangeCount?(0,I.numCodepoints)(Y(e.getRangeAt(0).cloneContents(),this.plugins)):0}},{key:"length",get:function(){return(0,I.numCodepoints)(this.state.value)}},{key:"isComposing",get:function(){return this.__isComposing}}]),t}(B.Component),Q=function(){var e=this;this.__changeDueToReset=!1,this.__isMounted=!0,this.__isComposing=!1,this.containerRef=null,this.selection=this.props.initialSelection,this.state={direction:h(this.props.initialValue||""),focused:!1,value:this.props.initialValue||""},this.trigger=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.hookMap[t];a&&a.apply(void 0,r(n))},this.serializeNode=function(t){return Y(t,e.plugins)},this.serializeTextBeforeCursor=function(){return(0,N.default)(e.refInput||document.createElement("span"),window.getSelection())},this._hasFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.refInput;if(!t)return!1;var n=document,a=n.activeElement;return!!a&&(a===t||t.contains(a))},this.forceFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e.props.readOnly&&e.__isMounted){var n=e.refInput;if(n){var a=e._hasFocus(n);if(!a||t)if(a||F.focus(n),!t&&e.selection)e.restoreSelection(e.selection);else{var r=window.getSelection();r&&r.rangeCount&&(r.selectAllChildren(n),r.collapseToEnd())}}}},this.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return void setTimeout(function(){return void e.forceFocus(t)},0)},this.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.__changeDueToReset=!0,e.selection=null,e._setValue(t)},this._setValue=function(t){if(t!==e.state.value){var n=t||"";e.setState({value:n,direction:h(n)},function(){e.trigger(U.CHANGE,[n]),e.props.onChange&&e.props.onChange(n)})}},this.onSelect=function(){e.selection=e.getSelection(),e.props.onSelect&&e.props.onSelect(e.selection)},this.shouldComponentUpdate=function(t,n){var a=n.value,r=n.focused,o=n.direction;if(r!==e.state.focused&&e.containerRef&&(r?e.containerRef.classList.add("focused"):e.containerRef.classList.remove("focused")),o!==e.state.direction&&e.refInput&&e.refInput.setAttribute("dir",o),e.__changeDueToReset){e.__changeDueToReset=!1;var i=q(a,e.plugins);e.refInput&&(e.refInput.innerHTML=i)}var l=!a.length&&!!e.state.value.length,s=!!a.length&&!e.state.value.length;if(!s&&!l)return!1;var u=s?"hidden":"visible";return e.refPlaceholder&&e.refPlaceholder.setAttribute("style","visibility: "+u),l&&e.refInput&&(e.refInput.innerHTML=""),!1},this.componentWillReceiveProps=function(t){p(e.props,t,["readOnly"]).readOnly&&e.refInput&&e.refInput.setAttribute("contentEditable",String(!t.readOnly))},this.componentWillUnmount=function(){e.__isMounted=!1,e.refInput&&(e.refInput.restoreFocus=null)},this.onInput=function(t){var n=null,a=e.refInput;a&&(n=Y(a,e.plugins));var r="\n"===n?"":n||"",o=e.props.maxLength;if(o>0&&(0,I.numCodepoints)(r)>o){var i=e.selection;return a&&(a.innerHTML=q(e.state.value,e.plugins)),void(i&&e.restoreSelection(i))}e.trigger(U.INPUT),e._setValue(r)},this.onPaste=function(t){t.preventDefault(),t.stopPropagation();var n=new L(t.clipboardData),a=e.props,r=a.onFiles,o=a.onTextPaste;n.hasFiles()&&r&&r(n)||n.hasText()&&n.getText(e.props.textPasteMimePriority).then(function(t){if(t&&(!o||!o(t))){if(e.length-e.selectionLength+(0,I.numCodepoints)(t)>e.props.maxLength){var n=e.props.onMaxPasteExceeded;return n&&n()}e.replaceSelection(t)}})},this.onBeforeInput=function(t){if(e.props.readOnly)return!0;var n=e.props.maxLength;if(!n)return!1;var a=t.data.charCodeAt(0);if(8===a||127===a)return!1;var r=e.selectionLength,o=e.length,i=n+r-o;return(0,I.numCodepoints)(t.data)>i},this.onKeyDown=function(t){return!(!e.props.onKeyDown||!e.props.onKeyDown(t))||t.which===K&&((!e.props.multiline||!f(t))&&(e.props.onEnter&&e.props.onEnter(t),!0))},this.componentDidMount=function(){e.refInput&&(e.refInput.restoreFocus=e.focus),e.trigger(U.MOUNT)},this.onBlur=function(t){e.setState({focused:!1}),e.props.onBlur&&e.props.onBlur(t)},this.onFocus=function(t){e.setState({focused:!0}),e.props.onFocus&&e.props.onFocus(t)},this.onCompositionStart=function(t){return!(e.__isComposing=!0)},this.onCompositionEnd=function(){return e.__isComposing=!1},this.setRefContainer=function(t){e.containerRef=t},this.setRefPlaceholder=function(t){e.refPlaceholder=t},this.setRefInput=function(t){e.refInput=t}};z.displayName="BaseInput",t.default=function(e){return function(t){function n(){var t,a,o,s;i(this,n);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return a=o=l(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(f))),o.plugins=[].concat(r(e.map(function(e){return e instanceof x&&e.initialize(o),e})),[u(o)]),o.handlerMap=G(o.plugins,o),o.hookMap=V(o.plugins,o),o.hotKeyMap=W(o.plugins,o),s=a,l(o,s)}return s(n,t),n}(z)};var X=["onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onFocus","onInput","onKeyDown","onPaste","onSelect"]},eccjjjfhdj:function(e,t){e.exports={muted:"_2cOuW",container:"r7sRK"}},ecdffdifib:function(e,t,n){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default,n=null,a=function(a){return null!=n&&t(n.params,a)?n.params=a:n={params:a,result:e.call(this,a)},n.result};return a.clear=function(){n=null},a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("cdbddjfbcd"),o=function(e){return e&&e.__esModule?e:{default:e}}(r)},ecdifdiid:function(e,t){e.exports={muted:"_3qrRK",container:"_1HpUW",gridContainer:"_3a12b",lastColumn:"_3W3rd",shrinkUp:"_1J9DT","container-animateShrinkUp":"_5vpXV",containerAnimateShrinkUp:"_5vpXV",numberText:"_1Lq_-"}},eceejifaac:function(e,t){e.exports={muted:"_1X-LW",mentionsResult:"_1Yz8K",selected:"XSeqj",resultImage:"_3xRlR",mediaCaption:"_1oocP",textContact:"_1B_hp",textPushname:"_3SW-z"}},ecfbchagde:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return Xe}function c(e){e&&(e.preventDefault(),e.stopPropagation())}function f(e){for(var t=R.default.TEXTSIZE_CLASS_MAP,n=0;n<t.length;n++)if(t[n].scale===e)return t[n].classname}function d(){return N.default.isSMB&&V.default.supportsFeature(V.default.F.QUICK_REPLIES_QUERY)}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.hasText=u;var h=n("ddhijeejag"),m=r(h),b=n("effbcehec"),g=a(b),v=n("dcggjjdeaj"),y=a(v),_=n("bgfcjjddjf"),E=a(_),j=n("gbfffciea"),w=a(j),O=n("dehacgjjde"),C=a(O),S=n("cchefegdjj"),P=a(S),M=n("biddiiafgd"),T=a(M),k=n("bjigbaghc"),N=a(k),I=n("eadfaddcj"),R=a(I),A=n("ccegbieicj"),D=a(A),x=n("ceffhbhahb"),L=a(x),F=n("cajijabhgb"),U=r(F),B=n("cgffhfegce"),G=n("ccaaiecfib"),V=a(G),W=n("dhfbfehaef"),H=a(W),Y=n("dgjacfgggf"),q=a(Y),K=n("dbcedfihd"),z=r(K),Q=n("cfhehaefih"),X=a(Q),J=n("ifeefbdg"),Z=a(J),$=n("bdiiahhjbe"),ee=a($),te=n("eceadcicaf"),ne=a(te),ae=n("bjdjbcefcc"),re=a(ae),oe=n("bgiachiigg"),ie=n("ddcbhjdfdg"),le=a(ie),se=n("dgcbhjfhad"),ue=a(se),ce=n("jjbcbhhjh"),fe=a(ce),de=n("hichbacjh"),pe=a(de),he=n("bgddggdhc"),me=n("ceddibdhdb"),be=a(me),ge=n("cbcgbajadc"),ve=a(ge),ye=n("ihfccfgdf"),_e=a(ye),Ee=n("bheafeifce"),je=n("bfdcadbbif"),we=a(je),Oe=n("bfjajhbdf"),Ce=a(Oe),Se=n("caffijjhc"),Pe=a(Se),Me=n("edbaidcaf"),Te=a(Me),ke=n("bjieiiccce"),Ne=a(ke),Ie=n("fbjjefaic"),Re=a(Ie),Ae=n("ejbdjaifi"),De=n("dacicgjcai"),xe=n("cebdcdcgja"),Le=n("cfdejhjab"),Fe=a(Le),Ue=n("bbegbfcgh"),Be=a(Ue),Ge=n("bfifafibjc"),Ve=a(Ge),We=n("biiiheaiih"),He=n("dbbhhgjjbg"),Ye=n("icbibjcg"),qe=n("cbedjffdai"),Ke=a(qe),ze=n("bfbggcdbfb"),Qe=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,Xe=!1,Je=parseInt(Fe.default["-overlay-border-left"].replace(/px$/,""),10),Ze=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));$e.call(n);var a=e.chat,r=a.getComposeContents();return n.text=r.text||"",n.selection=r.selection,n.preview=n.omittedURL=r.omittedURL,n.saveComposeContentDebounced=n.props.debounce(n.saveComposeContent,200),n.state={hasText:!!n.text,recording:!1,linkPreview:null,selectedPanelId:null,textsize:Ke.default.get().textsize,width:null},n}return s(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.listeners,n=e.chat;if(this.props.listeners.add(E.default,"add remove reset"),V.default.supportsFeature(V.default.F.INDEX_RECEIVED_VCARD)){var a=n.getReceivedVCardMsgs();a&&t.add(a,"add remove reset")}this.height=(0,he.forbiddenAssertDOMNode)(this.refComposeBlock).clientHeight,this.scanForLinksTimer.debounceAndCap(50,50)}},{key:"componentWillUnmount",value:function(){this.scanForLinksTimer.cancel(),this.restoreFocusTimer.cancel(),this.saveComposeContent(),this.removeEmojisFromTouchBar()}},{key:"_setSelectedPanelId",value:function(e){var t=null==this.state.selectedPanelId&&null!=e;this.setState({selectedPanelId:e,width:t&&null!=this.refComposeBlock?this.refComposeBlock.offsetWidth-Je:this.state.width})}},{key:"render",value:function(){return m.createElement(Pe.default,{displayName:"ComposeBox",ref:this.setRefContainer,state:Pe.default.State.PASSIVE,requestFocus:this.restoreFocus},m.createElement(H.default,{component:"footer",handlers:{pagedown:this.onPageUpDown,pageup:this.onPageUpDown},className:Fe.default.footer,onMouseDown:this.preventBlur,onContextMenu:this.preventBlur},m.createElement(D.default,{className:(0,L.default)(Fe.default.blockCompose,f(this.state.textsize)),onRef:this.setRefComposeBlock},m.createElement("div",{style:{willChange:"width"},className:Fe.default.childPadding},m.createElement(P.default,{selectedPanelId:this.state.selectedPanelId,onChange:this.handlePanelChange})),m.createElement(H.default,{ref:this.setRefInputHotkey,className:(0,L.default)(Fe.default.inputContainer,o({},Fe.default.disabled,this.state.recording)),handlers:{tab:this.handleTab,"shift+tab":this.handleTab},onFocus:this.onInputFocus,onBlur:this.onInputBlur},m.createElement(re.default,{placeholder:l10n.t("type_a_message"),readOnly:this.state.recording,ref:this.setRefInput,initialValue:this.text,initialSelection:this.selection,spellCheck:!0,multiline:!0,maxLength:R.default.MAX_TXT_MSG_SIZE,onMaxPasteExceeded:this.onMaxPasteExceeded,onEnter:this.onEnter,onFiles:this.onFiles,onTextPaste:this.onTextPaste,onChange:this.onChange,onSelect:this.onSelectionChange,textPasteMimePriority:[xe.APP_TEXT_MIMETYPE,"text/plain"],theme:"compose"})),m.createElement("div",{className:Fe.default.childPadding},this.renderSendButton())),this.renderPopupPanel(),m.createElement(re.default.EmojiSuggestions,{chat:(0,Ee.unproxy)(this.props.chat)}),m.createElement(tt,{key:this.props.chat.id.toString(),parent:this,chatId:this.props.chat.id}),m.createElement(re.default.Suggestions,{chat:(0,Ee.unproxy)(this.props.chat)}),d()&&m.createElement(re.default.QuickRepliesSuggestions,{chat:(0,Ee.unproxy)(this.props.chat)})))}}]),t}(m.PureComponent);Ze.CONCERNS={chat:["id","trusted","composeContents","composeQuotedMsg","isPSA","isVisible","presence","contact","composeAttachMediaContents","quotedMsgAdminGroupJid","receivedVCardMsgs","vcardDismissed","composeQuotedMsgRemoteJid"]};var $e=function(){var e=this;this.height=0,this.pendingLinkPreviewPromises=[],this.pasteTriggeredOnChange=!1,this._wasCleared=!1,this.dismissVCardPanel=function(){(0,Ee.unproxy)(e.props.chat).dismissVCard()},this.saveComposeContent=function(){e.props.chat.setComposeContents({text:e.text,selection:e.selection,omittedURL:e.omittedURL})},this.onTextSizeChange=function(t){e.setState({textsize:t})},this.pasteEmojiInput=function(t){if(" "===t&&!e.hasText())return w.default.scrollMessages();e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.replaceSelection(t))},this.handleRoutedPaste=function(t){e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.onPaste(t))},this.onMaxPasteExceeded=function(){w.default.openModal(m.createElement(T.default,{title:l10n.t("message_too_large_title"),onOK:function(){w.default.closeModal()},okText:l10n.t("web_ok")},l10n.t("message_too_large_text")))},this.restoreFocus=function(){e.refInput&&e.refInput.focus()},this.clearLinkPreview=function(){e.preview=null,e.omitLinkPreview()},this.cancelPendingLinkPreviews=function(){e.pendingLinkPreviewPromises.forEach(function(e){return e.cancel()}),e.pendingLinkPreviewPromises=[]},this.omitLinkPreview=function(t){!0!==t&&e.state.linkPreview&&(e.omittedURL=e.preview,e.setState({linkPreview:null}))},this.omitQuotedPreview=function(t){!0!==t&&(e.props.chat.composeQuotedMsg=null)},this.omitQuotedMsgAdminGroupNamePreview=function(t){!0!==t&&(e.props.chat.quotedMsgAdminGroupJid=null)},this._findFirstWebLink=function(){var t=(0,De.removeCodeBlocks)(e.text);return z.findLinks(t,!0)[0]},this.scanForLinksTimer=new be.default(function(){if(!e.state.hasText)return void e.clearLinkPreview();var t=e._findFirstWebLink();if(!t)return void e.clearLinkPreview();var n=t.url;if(!e.preview||e.preview!==n){e.preview=n,e.omittedURL=null;var a=(0,Z.default)(n).cancellable().tap(function(t){t&&e.preview&&e.preview===t.url&&t.data&&(t.data.title||t.data.description)&&e.setState({linkPreview:t})});e.pendingLinkPreviewPromises.push(a),a.catch(U.Unmount,U.WapDrop,Promise.CancellationError,function(){})}}),this.onInputFocus=function(){e.indicateFocus(),e.addEmojisToTouchBar()},this.onInputBlur=function(t){e.removeEmojisFromTouchBar()},this.indicateFocus=function(){var t=e.refContainer;t&&t.activate(),(0,W.indicateFocus)(e.refInputHotkey,["#FFFFFF","#D9F3FF"],void 0,{borderColor:["#FFFFFF","#CBE4EF"]}),e.refInput&&e.refInput.focus(!1)},this.addEmojisToTouchBar=function(){},this.removeEmojisFromTouchBar=function(){},this.onPageUpDown=function(t){e.props.onPageUpDown&&(t.stopPropagation(),e.props.onPageUpDown(t),t.persist(),e.restoreFocusTimer.debounce(0))},this.restoreFocusTimer=new be.default(function(){e.refInput&&e.refInput.focus(!1)}),this.handleEmoji=function(t){e.refInput&&e.refInput.replaceSelection(t)},this.handleGif=function(t,n){var a=Ne.default.get(t,Ne.default.RESP_TYPE.BLOB,{Accept:"video/mp4"}).then(function(e){if(200!==e.status)throw ee.default.error("failed loading gif (status: "+e.status+")")(),new U.MediaFileFailedLoad;var t=e.response;return q.default.generateVideoThumbAndDuration(t,R.default.IMG_THUMB_MAX_EDGE).then(function(e){var a=e.thumb,r=(e.duration,{width:a.fullWidth,height:a.fullHeight});return{file:t,mimetype:t.type,isGif:!0,gifAttribution:n,fullPreview:window.URL.createObjectURL(t),fullPreviewSize:r,preview:Te.default.parseDataURL(a.url).data}})});return e.saveComposeContentDebounced.flush(),w.default.attachMediaDrawer({chat:e.props.chat,files:[a],initCaption:e.getCurrentComposeContent(),fileOrigin:ze.MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:function(t,n){e.updateTextAfterMediaDrawerClose(t,!!n),t&&e.closeEmojiPanel()}}),a.catch(function(){}),a},this.setRefPanels=function(t){e.refPanels=t},this.handlePanelsDisplayCache=function(t){e.panelsDisplayCache=t},this.handlePanelsGif=function(t,n){e.handleGif(t,n)},this.handlePanelsSticker=function(t){t.sendToChat((0,Ee.unproxy)(e.props.chat))},this.handlePanelsFocusRelease=function(){(0,W.shouldIndicateFocus)(),e.restoreFocus()},this.openEmojiPanel=function(){e._setSelectedPanelId(O.PANELS.EMOJI)},this.closeEmojiPanel=function(){e._setSelectedPanelId(null),e.restoreFocus()},this.onPTTRecState=function(t){e.setState({recording:t})},this.preventBlur=function(t){var n=t.target,a=(0,he.forbiddenAssertDOMNode)(e.refInput),r=(0,he.forbiddenAssertDOMNode)(e.refContainer);do{if(n===a)return}while(n!==r&&n instanceof HTMLElement&&(n=n.parentNode));c(t),e.refInput&&e.refInput.focus(!1)},this.onChange=function(t){var n=(0,he.forbiddenAssertDOMNode)(e.refComposeBlock),a=n.clientHeight,r=a-e.height;r&&e.props.onComposeHeightChange({input:r},!1),e.height=a;var o=e.hasText();e.text=t||"",""===t&&(e._wasCleared=!0);var i=e.hasText();i!==o&&e.setState({hasText:i}),i?(e.props.chat.presence.subscribe().catch(U.WapDrop,function(){}),(0,Ye.markComposing)(e.props.chat)):(0,Ye.markPaused)(e.props.chat);var l=e._findFirstWebLink();(!l&&e.preview||l&&l.url!==e.preview)&&e.clearLinkPreview(),e.pasteTriggeredOnChange?e.scanForLinksTimer.onOrBefore(1):e.scanForLinksTimer.debounce(700),e.pasteTriggeredOnChange=!1,e.saveComposeContentDebounced()},this.renderSendButton=function(){var t=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.AudioContext;if(e.state.hasText||!t)return m.createElement("button",{"data-a8n":g.default.key("compose-btn-send"),className:Fe.default.btnSend,onClick:e.onSendText,disabled:!e.hasText},m.createElement(we.default,{name:"send",directional:!0}));var n=e.props.chat;return m.createElement(le.default,{key:"ptt",chat:n,onRecState:e.onPTTRecState})},this.renderPopupPanel=function(){var t=void 0;if(e.state.linkPreview){var n=e.state.linkPreview.data,a=n.title,r=n.canonicalUrl,o=n.description,i=n.thumbnail;t=m.createElement(Pe.default,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:e.omitLinkPreview},m.createElement(ue.default,{onOmit:e.omitLinkPreview},m.createElement(X.default,{title:a,compose:!0,canonicalUrl:r,description:o,thumbnailJpeg:i})))}var l=e.props.chat.composeQuotedMsg,s=e.props.chat.quotedMsgAdminGroupJid,u=e.props.chat.composeQuotedMsgRemoteJid,c=void 0;l?c=m.createElement(Pe.default,{displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:e.restoreFocus,requestDismiss:e.omitQuotedPreview},m.createElement(ue.default,{onOmit:e.omitQuotedPreview},m.createElement(fe.default,{msg:l,composeQuotedMsgRemoteJid:u,theme:"composeBox",key:l.id.toString(),chat:l.chat}))):s&&(c=m.createElement(Pe.default,{displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:e.restoreFocus,requestDismiss:e.omitQuotedPreview},m.createElement(ue.default,{onOmit:e.omitQuotedMsgAdminGroupNamePreview},m.createElement(pe.default,{isComposePreview:!0,quotedGroupJid:s,key:s.toString()}))));var f=(0,Ee.unproxy)(e.props.chat),d=!f.isPSA&&f.isVisible&&f.msgs&&f.msgs.length>0,p=null;if(d){var h=E.default.get(f.id),b=f.getReceivedVCardMsgs();!h&&b&&b.length&&!f.vcardDismissed&&(p=m.createElement(Be.default,{chat:f,dismissVCardPanel:e.dismissVCardPanel}))}var g=null;!f.trusted&&d&&null==p&&(g=m.createElement(ve.default,{chat:f,contact:f.contact}));var v=null;return e.state.selectedPanelId&&null!=e.state.width&&(v=m.createElement(Ve.default,{onResize:e._handleResize},m.createElement(C.default,{displayCache:e.panelsDisplayCache,width:e.state.width,onDisplayCache:e.handlePanelsDisplayCache,onEmoji:e.handleEmoji,onFocusRelease:e.handlePanelsFocusRelease,onGif:e.handlePanelsGif,onPanelChange:e.handlePanelChange,onSticker:e.handlePanelsSticker,requestDismiss:e.closeEmojiPanel,ref:e.setRefPanels,selectedPanelId:e.state.selectedPanelId}))),m.createElement("div",{className:Fe.default.positioningContainer},m.createElement("div",{className:Fe.default.overlayContainer},m.createElement(y.default,{onHeightChange:e.onHeightChange},g,p,v,c,t)))},this.onHeightChange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.props.onComposeHeightChange({overlay:t},n)},this.onFiles=function(t){var n=t.getFiles().filter(function(e){var t=(0,B.typeFromMimetype)(e.type);return"image"===t||"video"===t});if(t.hasType("text/html")){var a=t.getData("text/html");if(a){if(-1!==a.indexOf("<meta name=ProgId content=PowerPoint.Slide>"))return!1;var r=-1!==a.indexOf("urn:schemas-microsoft-com:office"),o=-1!==a.indexOf("urn:schemas-microsoft-com:office:excel");if(r&&!o)return!1}}if(n.length)return e.saveComposeContentDebounced.flush(),w.default.attachMediaDrawer({chat:e.props.chat,files:n,initCaption:e.getCurrentComposeContent(),onComplete:e.updateTextAfterMediaDrawerClose}),!0},this.updateTextAfterMediaDrawerClose=function(t,n){t&&n&&e.refInput&&e.refInput.reset()},this.getCurrentComposeContent=function(){return e.props.chat.getComposeContents()},this.onTextPaste=function(t){var n=Qe.exec(t);if(n){var a="https://media.giphy.com/media/"+n[1]+"/200w.mp4";return e.handleGif(a,oe.VIDEO_MESSAGE_ATTRIBUTION.GIPHY).catch(function(n){w.default.closeDrawerMid(),e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.replaceSelection(t)),w.default.openToast(m.createElement(Ce.default,{msg:l10n.t("media_failed_load"),id:(0,Oe.genId)()}))}),!0}return e.pasteTriggeredOnChange=!0,!1},this.onSelectionChange=function(t){e.selection=t},this.hasText=function(){return Xe=e.text.trim().length>0},this.onEnter=function(t){t&&t.repeat||e.onSendText()},this.onSendText=function(){(0,We.reconnect)();var t=e.refInput,n=e.props.chat;if(t){var a=t.serialize(),r=[a[0].trim(),a[1]],o=r[0],i=r[1];if(o.length){e.cancelPendingLinkPreviews();var l=n.composeQuotedMsg,s=n.quotedMsgAdminGroupJid,u=e.state.linkPreview&&e.state.linkPreview.data,c=i.mentionedJidList||[],f=e._wasCleared;e._setSelectedPanelId(null),e.setState({hasText:!1,linkPreview:null},function(){if(f){var t=(0,Ee.unproxy)(n);t.urlText&&(t.urlText=void 0)}(0,He.sendTextMsgToChat)(n,o,{linkPreview:u,quotedMsg:l,mentionedJidList:c,quotedMsgAdminGroupJid:s}),e._wasCleared=!1}),n.composeQuotedMsg=null,n.quotedMsgAdminGroupJid=null,n.composeQuotedMsgRemoteJid=null,n.setComposeContents({}),t.reset(),e.text="",e.hasText()}}},this.handlePanelChange=function(t){e._setSelectedPanelId(t)},this.handleTab=function(t){e.state.selectedPanelId&&(e.refPanels&&e.refPanels.restoreFocus(!0),c(t))},this.setRefContainer=function(t){e.refContainer=t},this.setRefComposeBlock=function(t){e.refComposeBlock=t},this.setRefInputHotkey=function(t){e.refInputHotkey=t},this.setRefInput=function(t){e.refInput=t},this._handleResize=function(t){var n=t.width;e.state.width!==n&&e.setState({width:n})}};Ze.displayName="ComposeBox",t.default=(0,Re.default)((0,ne.default)((0,_e.default)((0,Ae.hoc)(Ze),Ze.CONCERNS)));var et=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.restoreFocus=function(){a.props.parent.restoreFocus()},a.pasteEmojiInput=function(e){a.props.parent.pasteEmojiInput(e)},a.handleRoutedPaste=function(e){a.props.parent.handleRoutedPaste(e)},a.onSendText=function(){a.props.parent.onSendText()},a.onTextSizeChange=function(e){a.props.parent.onTextSizeChange(e)},r=n,l(a,r)}return s(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.chatId,n=e.listeners;n.add(w.default,"focus_chat_text_input_"+t.toString(),this.restoreFocus),n.add(w.default,"paste_chat_text_input_"+t.toString(),this.pasteEmojiInput),n.add(w.default,"send_paste_to_compose_"+t.toString(),this.handleRoutedPaste),n.add(w.default,"enter_chat_text_input_"+t.toString(),this.onSendText),n.add(w.default,"focus_chat_text_input",this.restoreFocus),n.add(w.default,"textsize_change",this.onTextSizeChange)}},{key:"render",value:function(){return null}}]),t}(m.PureComponent);et.displayName="ComposeBoxCmd";var tt=(0,ne.default)((0,Ae.hoc)(et))},ecfbhafded:function(e,t){e.exports={"-width-picture-bubble-inner":"330px",widthPictureBubbleInner:"330px","-padding-picture-bubble":"3px",paddingPictureBubble:"3px",muted:"_1lVvZ",bubble:"_2iEEP",vendor:"_2AMkE",meta:"_3hsuL",hasCaption:"_3pGIB",author:"_13lcO",forwarded:"_1o9Eg",forwardedIndicator:"_1T9rN",hasAuthor:"_1p_x4",quote:"_7RgFD",thumb:"_3KBs6",caption:"_2PQ0u",isPSA:"KfOVJ",isPsa:"KfOVJ",thumbVideo:"_16iRL",thumbImage:"_3zi7t",isGallery:"_2ye2k",isInfo:"_3PBoC"}},ecfgejfiia:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("hbhijdici"),d=a(f),p=n("gbfffciea"),h=a(p),m=n("dbdjchfgia"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("ejbdjaifi"),_=n("hjbbdjjdf"),E=n("bdiiahhjbe"),j=a(E),w=n("egjjcjcg"),O=a(w),C=d.default.debounce(function(e){O.default.setVideoVolumeSetting(e)},500),S=d.default.debounce(function(e){O.default.setVideoMutedSetting(e)},500),P={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},M={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}},T=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.updateInterval=null,a.player=void 0,a.currentTime=0,a.videoLoadedFraction=0,a.getPlayerState=function(){return a.player?a.player.getPlayerState():void 0},a.setStartTime=function(){a.player&&(0,_.isNumber)(a.props.startTime)&&a.player.seekTo(a.props.startTime,!0)},a.onOtherPlaying=function(e){e!==a&&a.player&&a.player.pauseVideo()},a.onReady=function(e){a.player=e.target;var t=a.player,n=O.default.getVideoVolumeSettings(),r=void 0,o=void 0;n&&(d.default.isNumber(n.volume)&&(r=n.volume),d.default.isBoolean(n.muted)&&(o=n.muted));var i=t.getDuration(),l=null!=r?r:.01*t.getVolume(),s=null!=o?o:t.isMuted(),u=t.getIframe().getBoundingClientRect(),c=u.width,f=u.height;a.videoTagMetadata={duration:i,volume:l,muted:s,videoWidth:c,videoHeight:f},a.props.onLoadedMetadata(a.videoTagMetadata),a.currentTime=t.getCurrentTime(),a.updateInterval=setInterval(a.update,250),a.props.startTime&&a.setStartTime(),null!=r&&a.setVolume(r),null!=o&&a.setMuted(o)},a.update=function(){var e=a.player;if(e){var t=e.getCurrentTime();t!==a.currentTime&&(a.currentTime=t,a.props.onTimeUpdate(t));var n=e.getVideoLoadedFraction();if(n!==a.videoLoadedFraction){a.videoLoadedFraction=n;var r=a.videoTagMetadata?a.videoTagMetadata.duration*n:0;a.props.onProgress([[0,r]])}var o=a.videoTagMetadata;if(o){var i=.01*e.getVolume(),s=e.isMuted();i===o.volume&&s===o.muted||(a.videoTagMetadata=l({},o,{volume:i,muted:s}),a.props.onVolumeChange({volume:i,muted:s}))}}},a.onPlay=function(e){h.default.mediaPlaying(a),a.props.onPlaying()},a.onPause=function(e){a.props.onPause()},a.onEnd=function(e){a.props.onEnded();var t=a.player;t&&(t.playVideo(),t.pauseVideo())},a.onError=function(e){j.default.assert(!1,"YouTube Video Player Error","error code: "+("number"==typeof e.data?e.data:""))(),a.props.onError()},a.onStateChange=function(e){e.target.getPlayerState()!==P.PLAYING&&a.props.onPause()},a.play=function(){a.player&&a.player.playVideo()},a.pause=function(){a.player&&a.player.pauseVideo()},a.getPaused=function(){return!a.player||a.getPlayerState()!==P.PLAYING},a.getCurrentTime=function(){return a.player?a.player.getCurrentTime():0},a.setCurrentTime=function(e){a.player&&a.player.seekTo(e,!0)},a.getDuration=function(){return a.player?a.player.getDuration():0},a.getVolume=function(){return a.player?.01*a.player.getVolume():0},a.setVolume=function(e){a.player&&(a.player.setVolume(100*e),C(e))},a.getMuted=function(){return!!a.player&&a.player.isMuted()},a.setMuted=function(e){var t=a.player;t&&(e?t.mute():t.unMute(),S(e))},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(h.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(h.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){this.updateInterval&&clearInterval(this.updateInterval)}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){var e=d.default.merge({},M,{playerVars:{autoplay:this.props.autoPlay?1:0}});return c.default.createElement(b.default,{videoId:this.props.youtubeVideoId,opts:e,onReady:this.onReady,onPlay:this.onPlay,onPause:this.onPause,onEnd:this.onEnd,onError:this.onError,onStateChange:this.onStateChange})}}]),t}(u.PureComponent);T.displayName="YoutubeVideoTag";var k=(0,v.default)((0,y.hoc)(T)),N=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.play=function(){a.getComponent().play()},a.pause=function(){a.getComponent().pause()},a.getPaused=function(){return a.getComponent().getPaused()},a.getCurrentTime=function(){return a.getComponent().getCurrentTime()},a.setCurrentTime=function(e){a.getComponent().setCurrentTime(e)},a.getDuration=function(){return a.getComponent().getDuration()},a.getVolume=function(){return a.getComponent().getVolume()},a.setVolume=function(e){a.getComponent().setVolume(e)},a.getMuted=function(){return a.getComponent().getMuted()},a.setMuted=function(e){a.getComponent().setMuted(e)},i=n,o(a,i)}return i(t,e),t}(k);t.default=N},ecgeiijacj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("ddhijeejag"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n("cbiciaafaf"),l=a(i),s=n("effbcehec"),u=a(s),c=function(e){var t=e.children;return o.createElement("div",{"data-a8n":u.default.key("tooltip"),className:l.default.tooltip},t)};c.displayName="Tooltip",t.default=c},ecgfaicjah:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bifahbdaeg"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg;return u.createElement(f.default,{msg:e,chat:e.chat,author:this.props.contact.formattedShortName,searchText:this.props.searchText,onClick:this.props.onClick,active:this.props.active,key:e.id.toString()})}}]),t}(u.Component);m.CONCERNS={msg:["id","chat"],contact:["formattedShortName"]},m.displayName="MessageWithAuthorClass",t.default=(0,p.default)((0,h.hoc)(m),m.CONCERNS)},ecgfheibgg:function(e,t){e.exports={muted:"_2DHGI",wrapper:"_3cNlM",icon:"_3C_ON",verifiedText:"_36_SM",divider:"_3F9pD"}},echbdbadad:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("effbcehec"),f=a(c),d=n("ebjaejiaba"),p=n("gbfffciea"),h=a(p),m=n("ccaaiecfib"),b=a(m),g=n("dacdidjdfi"),v=a(g),y=n("fifhbjiec"),_=a(y),E=n("biddiiafgd"),j=a(E),w=n("dhcejciehh"),O=a(w),C=n("cjciachhej"),S=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={keepStarred:!0},a.onCancel=function(){h.default.closeModal()},a.onClear=function(){var e=a.props.chat;e.pendingAction++,(0,C.sendClear)(e,b.default.supportsFeature(b.default.F.CHAT_CLEAR_STARRED)&&a.state.keepStarred).finally(function(){e.pendingAction--}),h.default.closeModal()},a.onToggleStarred=function(){a.setState({keepStarred:!a.state.keepStarred})},i=n,o(a,i)}return i(t,e),l(t,[{key:"getText",value:function(){var e=this.props.chat;switch(e.kind){case d.CHAT_KIND.GROUP:return l10n.t("clear_chat_group",{name:e.title()});case d.CHAT_KIND.CHAT:return l10n.t("clear_chat_chat",{name:e.title()});case d.CHAT_KIND.BROADCAST:return l10n.t("clear_chat_broadcast");default:return""}}},{key:"render",value:function(){var e=void 0;return b.default.supportsFeature(b.default.F.CHAT_CLEAR_STARRED)&&(e=u.createElement("div",{className:O.default.section,onClick:this.onToggleStarred},u.createElement("div",{"data-a8n":f.default.key("menu-icon-clear-chat"),className:O.default.control},u.createElement(v.default,{onChange:this.onToggleStarred,checked:this.state.keepStarred?g.CHECKBOX_STATE.CHECKED:g.CHECKBOX_STATE.UNCHECKED})),u.createElement("div",{className:O.default.label},l10n.t("keep_starred")))),u.createElement(j.default,{onOK:this.onClear,okText:l10n.t("clear_button"),onCancel:this.onCancel},u.createElement("div",null,u.createElement(_.default,{text:this.getText()}),e))}}]),t}(u.Component);S.displayName="ClearChatPopup",t.default=S},ecibddhig:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return f.createElement("div",{className:y.default.controls},f.createElement("div",{className:(0,p.default)(y.default.icon,y.default.cursorPointer)},f.createElement("div",{className:y.default.spinner},f.createElement(m.default,{size:50,stroke:3,color:"white"})),f.createElement("div",{className:y.default.cancel},f.createElement(g.default,{name:"media-disabled"}))))}function o(){return f.createElement("div",{className:y.default.controls},f.createElement("div",{className:(0,p.default)(y.default.icon,y.default.cursorPointer)},f.createElement("div",{className:y.default.spinner},f.createElement(m.default,{size:50,stroke:3,color:"white"})),f.createElement("div",{className:y.default.cancel},f.createElement(g.default,{name:"media-cancel"}))))}function i(e){var t=e.filesize,n=void 0===t?0:t,a=e.onClick;return n>0?f.createElement("div",{className:y.default.controls},f.createElement("button",{className:(0,p.default)(y.default.btnMeta,y.default.cursorPointer),onClick:a},f.createElement(g.default,{name:"media-download",className:y.default.iconMeta}),f.createElement("span",null,l10n.filesize(n)))):f.createElement("div",{className:y.default.controls},f.createElement("button",{className:(0,p.default)(y.default.button,y.default.cursorPointer),onClick:a},f.createElement(g.default,{name:"media-download"})))}function l(e){var t=e.filesize,n=void 0===t?0:t;return n>0?f.createElement("div",{className:y.default.controls},f.createElement("button",{className:(0,p.default)(y.default.btnMeta,y.default.cursorPointer)},f.createElement(g.default,{name:"media-upload",className:y.default.iconMeta}),f.createElement("span",null,l10n.filesize(n)))):f.createElement("div",{className:y.default.controls},f.createElement("div",{className:y.default.button},f.createElement(g.default,{name:"media-upload"})))}function s(){return f.createElement("div",{className:y.default.controls},f.createElement("div",{className:y.default.button},f.createElement(g.default,{name:"media-play",className:y.default.play})))}function u(e){var t=e.onClick;return f.createElement("div",{className:y.default.controls,onClick:t},f.createElement("div",{className:y.default.button},f.createElement(g.default,{name:"media-gif"})))}Object.defineProperty(t,"__esModule",{value:!0}),t.Pending=r,t.PendingCancel=o,t.Download=i,t.Upload=l,t.Play=s,t.GifIcon=u;var c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("ceffhbhahb"),p=a(d),h=n("becfabjeeg"),m=a(h),b=n("bfdcadbbif"),g=a(b),v=n("daeidjcaja"),y=a(v);r.displayName="Pending",o.displayName="PendingCancel",s.displayName="Play",u.displayName="GifIcon"},ecidgeifdi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("bdiiahhjbe"),i=a(o),l=n("ccaaiecfib"),s=a(l),u={queryStickerPacks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new Promise(function(a,r){var o=function(t){e.BinaryProtocol.read(t).then(function(t){var n={};if(i.default.logColor("green","bin-recv: response,sticker_pack",t)(),"response"===e.N.tag(t)&&"sticker_pack"===e.N.attr("type",t)){var r=parseInt(e.N.attr("code",t),10)||200;n.status=r,n.data=[],n.checksum=e.N.attr("checksum",t);var o=e.N.attr("count",t);n.count=null==o?null:parseInt(o);var l=e.N.children(t);if(Array.isArray(l))for(var s=0;s<l.length;s++){var u=e.parseStickerPack(l[s]);u&&n.data.push(u)}}a(n)}).catch(r)},l={type:s.default.supportsFeature(s.default.F.THIRD_PARTY_STICKERS)?"sticker_pack_v2":"sticker_pack",page:t.toString(),count:n.toString()},u=e.queryNode(l,void 0);e.binSend("sendEphemeral",u,r,{onSend:e.binWrap(o,a),onDrop:e.wrap(r)},{debugString:"query,sticker_pack",metric:e.M.QUERY_STICKER_PACKS})})},queryStickersInStickerPack:function(e){return this.queryStickers({id:e})},queryStickers:function(e){var t=this;return new Promise(function(n,a){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var a={};if(i.default.logColor("green","bin-recv: response,sticker",e)(),"response"===t.N.tag(e)&&"sticker"===t.N.attr("type",e)){var r=parseInt(t.N.attr("code",e),10)||200;a.status=r,a.data=[];var o=t.N.children(e);if(Array.isArray(o))for(var l=0;l<o.length;l++){var s=t.parseSticker(o[l]);s&&a.data.push(s)}}n(a)}).catch(a)},l=r({type:"sticker"},e),s=t.queryNode(l,void 0);t.binSend("sendEphemeral",s,a,{onSend:t.binWrap(o,n),onDrop:t.wrap(a)},{debugString:"query,sticker,"+e.id,metric:t.M.QUERY_STICKERS})})},parseSticker:function(e){if("sticker"===this.N.tag(e)){var t={url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e),width:parseInt(this.N.attr("width",e)||125,10),height:parseInt(this.N.attr("height",e)||125,10),size:parseInt(this.N.attr("size",e)||0,10)||null};return t.filehash?t:void 0}},parseStickerPack:function(e){if("sticker_pack"===this.N.tag(e)){var t={id:this.N.attr("id",e),name:this.N.attr("name",e),url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e)};return t.id?t:void 0}},parseStickerPackUpdate:function(e){if("sticker_pack"===this.N.tag(e)){var t=this.N.attr("type",e),n={type:t},a=[!t];return this.dropIfConditionMet(a,n)}}};e.exports=u},ecidjifge:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e,t){var n,u;return u=n=function(n){function u(){return a(this,u),r(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return o(u,n),l(u,[{key:"render",value:function(){return s.createElement(e,i({},this.props,t))}}]),u}(s.Component),n.displayName="Wrapper("+(e.displayName||e.name)+")",u};e.exports=u},ecjegjabde:function(e,t,n){"use strict";function a(e){return Object.keys(e).reduce(function(t,n){return null!=e[n]&&(t[n]=e[n]),t},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},edjfhjcce:function(e,t){e.exports={muted:"_1PYzr",container:"_7YAGC"}},eecehffbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SKIN_TONE_VARIATIONS=void 0;var a=n("djegeegcbf"),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.SKIN_TONE_VARIATIONS=[""].concat(r.default.skinToneVariations)},eedjbihej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.theme?c.default[e.theme]:null,n=e.color?c.default[e.color]:null,a=(0,s.default)(t,n,e.className);return e.block?i.createElement("div",{className:a},e.children):i.createElement("span",{className:a},e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("ceffhbhahb"),s=a(l),u=n("dbahdjadcb"),c=a(u)},eeghcebdh:function(e,t){e.exports={muted:"_3VPR7",bubble:"_1YfLQ",productInfo:"_2_fsu",author:"_1y-BH",title:"_1ypng",subtitle:"_38osG",thumb:"Il57F",productContainer:"dfwro",productCta:"_3k2jA"}},efgfgjab:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bebjeaagc"),f=a(c),d=n("jccfhaecf"),p=a(d),h=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={isBusy:f.default.isBusy()},a.onIdle=function(){a.setState({isBusy:!1})},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.waitIdle&&(this.idleTaskId=f.default.enqueue(this.onIdle))}},{key:"componentWillReceiveProps",value:function(e){if(!p.default.equals(this.props.id,e.id)||!e.waitIdle){this.state.isBusy&&f.default.dequeue(this.idleTaskId);var t=f.default.isBusy();t&&e.waitIdle&&(this.idleTaskId=f.default.enqueue(this.onIdle)),this.setState({isBusy:t})}}},{key:"componentWillUnmount",value:function(){this.props.waitIdle&&f.default.dequeue(this.idleTaskId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onComplex,a=e.waitIdle;return this.state.isBusy&&a?u.createElement(u.Fragment,null,t):n()}}]),t}(u.PureComponent);h.displayName="IdleComponent",t.default=h},efgideggi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var l=n("bgcdajbhif"),s=a(l),u=n("hbhijdici"),c=a(u),f=n("iffjgahba"),d=a(f),p=n("bdiiahhjbe"),h=a(p),m=n("bgabgddgch"),b=a(m),g=t.InvalidStatusV3Iterator=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}((0,d.default)("InvalidStatusV3Iterator")),v=t.StatusV3LoadingError=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}((0,d.default)("StatusV3LoadingError")),y=t.StatusV3MsgNotFound=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}((0,d.default)("StatusV3MsgNotFound")),_=function e(t,n){if(r(this,e),E.call(this),n){var a=c.default.find(t.msgs.getModelsArray(),function(e){return n&&e.id.toString()===n.toString()});if(!a)throw new y;this.statuses=[{statusV3:t,totalCount:1,unreadCount:0,msgs:[a],readMsgKeys:[a.id.toString()]}]}else if(t.unreadCount>0&&!t.contact.isMe&&!t.contact.statusMute){var o=s.default.getUnexpired(!0),i=[];o.forEach(function(e){if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),n=e.totalCount-e.unreadCount,a=t.slice(0,n),r=c.default.map(a,function(e){return e.id.toString()});i.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:r})}}),this.statuses=i}else{var l=t.msgs.getModelsArray(),u=t.totalCount-t.unreadCount,f=l.slice(0,u),d=c.default.map(f,function(e){return e.id.toString()}),p=[{statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:l,readMsgKeys:d}];this.statuses=p}this.printInfo()},E=function(){var e=this;this.printInfo=function(){e.statuses.forEach(function(e){h.default.log("Total count: "+e.totalCount+", unread count: "+e.unreadCount+", msgs length: "+e.msgs.length)()})},this.getFirstUnread=function(t,n,a){var r=c.default.findIndex(e.statuses,{statusV3:t});if(-1!==r){var o=e.statuses[r],i=o.readMsgKeys,l=void 0;return a?(l=c.default.findIndex(o.msgs,function(e){return a&&e.id.toString()===a.toString()}),l>=0?Promise.resolve({msgIdx:l,statusIdx:r}):Promise.reject(new g)):(l=c.default.findIndex(o.msgs,function(e){return-1===i.indexOf(e.id.toString())}),-1===l&&t.msgs.msgLoadState.noEarlierMsgs?(l=n?0:o.msgs.length-1,Promise.resolve({msgIdx:l,statusIdx:r})):-1!==l?Promise.resolve({msgIdx:l,statusIdx:r}):0===o.unreadCount&&n&&o.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:r}):e.fetchMore(t).then(function(){return e.getFirstUnread(t,n,a)}).catch(function(e){return h.default.error("error while getting first unread status: "+String(e))(),Promise.reject(new g)}))}return Promise.reject(new g)},this.hasNext=function(t){var n=e.statuses[t.statusIdx];return t.msgIdx+1<n.totalCount||t.statusIdx+1<e.statuses.length},this.getNext=function(t){var n=e.statuses[t.statusIdx],a=n.statusV3;if(t.msgIdx+1<n.totalCount&&t.msgIdx+1<n.msgs.length)return Promise.resolve({msgIdx:t.msgIdx+1,statusIdx:t.statusIdx});if(t.msgIdx+1<n.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(h.default.error("Loaded "+n.msgs.length+" messages with total count "+n.totalCount+", but noEarlierMsgs set")(),Promise.reject(new g)):e.fetchMore(a).then(function(){return e.getNext(t)}).catch(function(n){if(h.default.error("error while loading more status msgs: "+String(n))(),t.statusIdx+1<e.statuses.length){var a=e.statuses[t.statusIdx+1].statusV3;return e.getFirstUnread(a,!0)}return Promise.reject(new g)});if(t.statusIdx+1<e.statuses.length){var r=e.statuses[t.statusIdx+1].statusV3;return e.getFirstUnread(r,!0)}return Promise.reject(new g)},this.hasPrev=function(e){return e.msgIdx>0||e.statusIdx>0},this.getPrev=function(t){if(t.msgIdx>0)return Promise.resolve({msgIdx:t.msgIdx-1,statusIdx:t.statusIdx});if(t.statusIdx>0){var n=e.statuses[t.statusIdx-1].statusV3;return e.getFirstUnread(n,!1)}return Promise.reject(new g)},this.statusAt=function(t,n){var a=e.statuses[t.statusIdx],r=a.statusV3;return n<a.msgs.length?Promise.resolve({msgIdx:n,statusIdx:t.statusIdx}):r.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new g):e.fetchMore(r).then(function(){return e.statusAt(t,n)}).catch(function(e){return h.default.error("error while loading more status msgs: "+String(e))(),Promise.reject(new g)})},this.fetchMore=function(t){return Promise.loop(function(n,a,r){var o=Promise.delay(b.default.expBackoff(r,12e4,1e3,.1));return t.loadMore().then(function(){var a=c.default.findIndex(e.statuses,{statusV3:t});if(-1!==a){var i=e.statuses[a],l=i.totalCount,s=i.unreadCount,u=t.msgs.getModelsArray().slice(0,l),f=l-s,d=u.slice(0,f),p=c.default.map(d,function(e){return e.id.toString()});i.msgs=u,i.readMsgKeys=c.default.uniq(c.default.concat(i.readMsgKeys,p)),n(!0)}else{if(!(r>=4))return o;n(!1)}}).catch(function(e){if(!(r>=4))return o;n(!1)})}).then(function(e){if(!e)throw new v})}};t.default=_},efhjefegg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("cicgeajfge"),c=n("dbdfbgehgj"),f=a(c),d=n("dhigahgdjb"),p=a(d),h=n("beijddaacj"),m=a(h),b=n("dgjddffcfg"),g=a(b),v=n("dhfbfehaef"),y=a(v),_=n("bbhhbdicgc"),E=a(_),j=n("cbgeijgefb"),w=a(j),O=n("bfjajhbdf"),C=a(O),S=n("gbfffciea"),P=a(S),M=n("ccaaiecfib"),T=n("ddhijeejag"),k=n("fffdgbfji"),N={SEC_FREQUENT_CONTACTS:"SEC_FREQUENT_CONTACTS",SEC_CHATS:"SEC_CHATS",SEC_CONTACTS:"SEC_CONTACTS"},I={ROW_FREQUENT_CONTACTS:"ROW_FREQUENT_CONTACTS",ROW_CHATS:"ROW_CHATS",ROW_CONTACTS:"ROW_CONTACTS"},R=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setSearch=function(e){return a.search=e},a.setList=function(e){return a.list=e},a.state={filteredData:a.calculateFilteredData(a.props.searchText)},a.renderItem=function(e){switch(e.type){case N.SEC_FREQUENT_CONTACTS:return T.createElement(w.default,{header:k.t("web_frequent_contacts")});case N.SEC_CHATS:return T.createElement(w.default,{header:k.t("web_recent_chats")});case N.SEC_CONTACTS:return T.createElement(w.default,{header:k.t("web_other_contacts")});case I.ROW_FREQUENT_CONTACTS:case I.ROW_CHATS:case I.ROW_CONTACTS:var t=e.data,n=!1,r=void 0;return a.props.hasFrequentlyForwarded&&t.groupMetadata&&t.groupMetadata.noFrequentlyForwarded&&(n=!0,r=k.t("forwarded_disallow")),T.createElement(m.default,{key:t.id.toString(),chat:t,active:a.props.activeChat,selections:a.props.selectedChats,onSelect:a.handleSelect,disabled:n,customSecondaryText:r});default:throw new _.UnknownDataError(e)}},a.handleSelect=function(e,t,n){var r=a.props,o=r.selectedChats,i=r.maxChats,l=r.activeChat,s=r.onSelectionChanged,u=r.hasFrequentlyForwarded;if(t&&"number"==typeof i&&o.getSelected().length>=i){var c=u?k.t("forward_chat_limit_frequently_forwarded",{count:i,_plural:i}):k.t("forward_chat_limit",{count:i,_plural:i});return void P.default.openToast(T.createElement(C.default,{id:(0,O.genId)(),msg:c}))}o.setVal(e,t,n),l.setVal(e,n),s&&s(e,t)},a.onCancelSelection=function(){a.props.selectedChats.unsetAll()},a.onFocusList=function(e){e.preventDefault(),e.stopPropagation(),(0,v.shouldIndicateFocus)(),a.props.activeChat.setFirst(!0),a.list&&a.list.scrollIntoViewIfNeeded(a.props.activeChat.index)},a.onNext=function(e){e.preventDefault(),e.stopPropagation(),a.props.activeChat.setNext(!0),a.list&&a.list.scrollIntoViewIfNeeded(a.props.activeChat.index)},a.onPrev=function(e){e.stopPropagation(),e.preventDefault(),a.props.activeChat.prev()>-1?(a.props.activeChat.setPrev(!0),a.list&&a.list.scrollIntoViewIfNeeded(a.props.activeChat.index)):a.props.onLeaveList&&(a.props.onLeaveList(e),a.props.activeChat.unset())},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;this.props.activeChat.init(this.flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(function(t){return e.props.selectedChats.setVal(t,!0)})}},{key:"componentWillReceiveProps",value:function(e){if(e.searchText!==this.props.searchText){var t=this.calculateFilteredData(e.searchText);this.setState({filteredData:t}),this.props.activeChat.init(this.flattenData(t))}}},{key:"calculateFrequentContacts",value:function(e){var t=this.props,n=t.msgType,a=t.excludeChat;return e||!M.supportsFeature(M.F.FREQUENT_CONTACTS)?[]:p.default.frequentContacts(n,a)}},{key:"calculateFilteredChats",value:function(e){var t=e;if(t){t=k.accentFold(t);var n=g.default.numberSearch(t);return f.default.filter(function(e){return e.canSend&&e.isVisible&&e.contact.searchMatch(t,n)})}return f.default.filter(function(e){return e.canSend&&e.isVisible})}},{key:"calculateFilteredContacts",value:function(e){var t=e,n=p.default.getFilteredContacts();if(!t)return n;t=k.accentFold(e);var a=g.default.numberSearch(t);return n.filter(function(e){return e.searchMatch(t,a)})}},{key:"calculateFilteredData",value:function(e){var t={};return{frequentContacts:this.calculateFrequentContacts(e).map(function(e){var n=e.isGroup?f.default.get(e.id):e;return n&&(t[n.id]=!0),n}).filter(Boolean),chats:this.calculateFilteredChats(e).map(function(e){var n=e.isGroup?e:e.contact;return t[n.id]?null:(t[n.id]=!0,n)}).filter(Boolean),contacts:this.calculateFilteredContacts(e).map(function(e){return t[e.id]?null:e}).filter(Boolean)}}},{key:"flattenData",value:function(e){var t=e.frequentContacts,n=e.chats,a=e.contacts;return t.concat(n,a)}},{key:"isEmpty",value:function(){var e=this.state.filteredData,t=e.frequentContacts,n=e.chats,a=e.contacts;return!t.length&&!n.length&&!a.length}},{key:"getData",value:function(){var e=[],t=this.state.filteredData,n=t.frequentContacts,a=t.chats,o=t.contacts;return n.length&&(e.push({key:N.SEC_FREQUENT_CONTACTS,type:N.SEC_FREQUENT_CONTACTS}),e.push.apply(e,r(n.map(function(e){return{key:e.id.toString(),type:I.ROW_FREQUENT_CONTACTS,data:e}})))),a.length&&(e.push({key:N.SEC_CHATS,type:N.SEC_CHATS}),e.push.apply(e,r(a.map(function(e){return{key:e.id.toString(),type:I.ROW_CHATS,data:e}})))),o.length&&(e.push({key:N.SEC_CONTACTS,type:N.SEC_CONTACTS}),e.push.apply(e,r(o.map(function(e){return{key:e.id.toString(),type:I.ROW_CONTACTS,data:e}})))),e}},{key:"toggleFirst",value:function(e){var t=this.state.filteredData,n=t.frequentContacts,a=t.chats,r=t.contacts,o=void 0;if(n.length)o=n[0];else if(a.length)o=a[0];else{if(!r.length)return;o=r[0]}var i=!this.props.selectedChats.isSelected(o);this.handleSelect(o,i,e)}},{key:"getList",value:function(){return this.isEmpty()?null:T.createElement(E.default,{ref:this.setList,flatListController:this.props.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})}},{key:"render",value:function(){var e=this.getList();e||(e=this.props.searchText?T.createElement(u.Search,null):T.createElement(u.ListChats,null));var t={down:this.onNext,up:this.onPrev};return T.createElement(y.default,{handlers:t},e)}}]),t}(T.Component);R.displayName="MultiSelectChatList",t.default=R},efjajjbaf:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("bfejacaeaj"),c=r(u),f=n("ddhijeejag"),d=a(f),p=n("hbhijdici"),h=r(p),m=n("cajijabhgb"),b=a(m),g=n("cfigdibdj"),v=r(g),y=n("gbfffciea"),_=r(y),E=n("eadfaddcj"),j=r(E),w=n("biddiiafgd"),O=r(w),C=n("dbgdaechch"),S=r(C),P=n("bhhdeihhhf"),M=r(P),T=n("fifhbjiec"),k=r(T),N=n("cieccfhhib"),I=r(N),R=n("ccaaiecfib"),A=r(R),D=n("cieaaiahhf"),x=r(D),L=n("behbjhhbg"),F=r(L),U=n("bfgbdiffgd"),B=r(U),G=n("decebhabae"),V=r(G),W=n("bfdcadbbif"),H=r(W),Y=n("ecgeiijacj"),q=r(Y),K=n("dcjdgceiej"),z=r(K),Q=n("bfbggcdbfb"),X=n("cgffhfegce"),J=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setDocPicker=function(e){return a.docPicker=e},a.setMediaPicker=function(e){return a.mediaPicker=e},a.onDocumentPick=function(e){if(!e)return void a.dismiss();e.stopPropagation();var t=h.default.toArray(e.target.files);if(a.dismiss(),t.length){var n=t.map(function(e){return{file:e,type:X.FILETYPE.DOCUMENT}});a.canSendDocument()?_.default.attachMediaDrawer({chat:a.props.chat,files:n,fileOrigin:Q.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY}):a.showCantSendDocument()}},a.onMediaPick=function(e){if(!e)return void a.dismiss();e.stopPropagation();var t=h.default.toArray(e.target.files);a.dismiss(),t.length&&_.default.attachMediaDrawer({chat:a.props.chat,files:t,fileOrigin:Q.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:a.props.getComposeContents&&a.props.getComposeContents(),onComplete:function(e,t){a.props.onMenuComplete&&a.props.onMenuComplete(e,t)}})},a.onMediaClick=function(e){if(e.preventDefault(),a.mediaPicker)return a.mediaPicker.open(),!1},a.onDocumentClick=function(e){if(e.preventDefault(),a.canSendDocument()&&a.docPicker)return a.docPicker.open(),!1;a.showCantSendDocument()},a.onContactClick=function(e){e.preventDefault(),_.default.openModal(d.createElement(v.default,{chat:a.props.chat}))},a.showCantSendDocument=function(e){var t=void 0;if(e instanceof b.InvalidMediaFileType)t=l10n.t("cannot_send_document_type_unsupported");else if(e instanceof x.default)t=l10n.t("message_file_too_big",{maxSize:l10n.filesize(B.default.media)});else{var n=a.props.chat;t=n.isUser?l10n.t("cannot_send_document_to_contact_unsupported",{contact:n.title()}):l10n.t("cannot_send_document_to_group_unsupported",{group:n.title()})}_.default.openModal(d.createElement(O.default,{key:"doc_cant_send",onOK:function(){return _.default.closeModal()}},d.createElement(k.default,{text:t})))},r=n,i(a,r)}return l(t,e),s(t,[{key:"canSendDocument",value:function(){return A.default.supportsFeature(A.default.F.ENC_DOC)}},{key:"dismiss",value:function(){var e=this.context.uim;e&&e.uie.requestDismiss()}},{key:"renderAttachDocDropdownItem",value:function(){return A.default.supportsFeature(A.default.F.ENC_DOC)?d.createElement(M.default,{type:"icon",tooltip:d.createElement(q.default,null,l10n.t("attach_document")),a8n:"mi-attach-document",action:this.onDocumentClick},d.createElement("button",{className:V.default.iconsItem,"data-animate-menu-icons-item":!0},d.createElement(H.default,{name:"document"}),d.createElement(I.default,{ref:this.setDocPicker,mimes:F.default.DOC_MIMES,onChange:this.onDocumentPick}))):null}},{key:"render",value:function(){return d.createElement("div",{className:V.default.attachMenuContainer},d.createElement(S.default,{type:"menu",key:"AttachMenuDropdown"},d.createElement(M.default,{type:"icon",tooltip:d.createElement(q.default,null,l10n.t("attach_media")),a8n:"mi-attach-media",action:this.onMediaClick},d.createElement("button",{className:V.default.iconsItem,"data-animate-menu-icons-item":!0},d.createElement(H.default,{name:"image"}),d.createElement(I.default,{ref:this.setMediaPicker,mimes:[j.default.IMAGE_MIMES,j.default.VIDEO_MIMES].join(","),onChange:this.onMediaPick}))),d.createElement(M.default,{type:"icon",tooltip:d.createElement(q.default,null,l10n.t("attach_capture")),a8n:"mi-attach-camera",action:this.props.onCaptureClick,disabled:!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)},d.createElement("button",{className:V.default.iconsItem,"data-animate-menu-icons-item":!0},d.createElement(H.default,{name:"camera"}))),this.renderAttachDocDropdownItem(),d.createElement(M.default,{type:"icon",tooltip:d.createElement(q.default,null,l10n.t("attach_vcard")),a8n:"mi-attach-contact",action:this.onContactClick},d.createElement("button",{className:V.default.iconsItem,"data-animate-menu-icons-item":!0},d.createElement(H.default,{name:"contact"})))))}}]),t}(d.Component);J.contextTypes={uim:c.default.instanceOf(z.default)},J.displayName="AttachMenuDropdown",t.default=J},egbbijije:function(e,t){e.exports={muted:"_2SW7z",item:"heebC",keyframe:"_3QGW4","delay-fade":"_11GaD",delayFade:"_11GaD","fade-in":"_2Sn8h",fadeIn:"_2Sn8h",transition:"_2yMGP"}},egfffcbhi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("eceadcicaf"),f=a(c),d=n("ejbdjaifi"),p=n("fffdgbfji"),h=a(p),m=n("bgcdajbhif"),b=a(m),g=n("cdebbfjhbf"),v=a(g),y=n("gbfffciea"),_=a(y),E=n("hbhijdici"),j=a(E),w=n("bfdcadbbif"),O=a(w),C=n("bhfdfhefca"),S=C.MenuBarItem,P=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));M.call(e);var n=j.default.some(b.default.getUnexpired(!0),function(e){return e.unreadCount>0&&!e.contact.statusMute});return e.state={hasUnread:n},e.lastViewerTimestamps={},e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(b.default,"add remove change:unreadCount change:t",this.onUnreadChange)}},{key:"render",value:function(){var e=this.state.hasUnread?u.default.createElement(O.default,{name:"status-v3-unread",directional:!0}):u.default.createElement(O.default,{name:"status-v3"});return u.default.createElement(S,{a8nText:"menu-bar-status",icon:e,title:h.default.t("web_menuitem_status_v3"),onClick:this.onStatus})}}]),t}(s.PureComponent);P.CONCERNS={statusV3:["unreadCount"]};var M=function(){var e=this;this.onUnreadChange=function(){var t=j.default.some(b.default.getUnexpired(!0),function(t){var n=e.lastViewerTimestamps[t.id.toString()],a=!n||t.t>n;return!t.contact.statusMute&&t.unreadCount>0&&a});t!==e.state.hasUnread&&e.setState({hasUnread:t})},this.updateViewerTimestamps=function(){b.default.getUnexpired(!0).forEach(function(t){e.lastViewerTimestamps[t.id.toString()]=t.t})},this.onFlowEnd=function(){e.updateViewerTimestamps(),e.setState({hasUnread:!1})},this.onStatus=function(t){t.preventDefault(),_.default.openModalMedia(u.default.createElement(v.default,{onFlowEnd:e.onFlowEnd,removeTopDrawer:!1}),{transition:"status-v3-modal"})}};P.displayName="StatusV3MenuBarItem",t.default=(0,f.default)((0,d.hoc)(P))},egibbfjcd:function(e,t){e.exports={muted:"_12Ocw",action:"_3gGZl"}},ehaaiddhe:function(e,t){e.exports={muted:"eSAR4",addLabelBtContainer:"_2kvFV"}},ehfgacedb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("hbhijdici"),i=a(o),l=n("bjigbaghc"),s=a(l),u=n("bdiiahhjbe"),c=a(u),f=n("ccgjijjbbj"),d=a(f),p=n("eacidghfgh"),h=a(p),m=n("jccfhaecf"),b=a(m),g=n("hjbbdjjdf"),v=n("bffjfbgbg"),y=n("hgjcbccfg"),_=n("dgdjiicfdg"),E=n("djafcfdghc"),j=n("edbaidcaf"),w=n("cbebjghfgg"),O={version:"09",BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28},addContact:function(e){var t=this;return new Promise(function(n,a){var r=t.actionNode("set",[["contacts",{type:"add"},e]]);t.binSend("send",r,a,{clientCacheable:!0,onSend:t.binWrap(n,n),onDrop:t.wrap(a)},{debugString:"action,contact,add",metric:t.M.CONTACT,ackRequest:!0})})},addParticipants:function(e,t){return this.setGroupParticipants("add",e,t)},changeSubject:function(e,t){var n=this;return new Promise(function(a,r){var o=h.default.tag(),i=n.wrap(a);i.tag=o;var l=["group",{id:o,jid:e,type:"subject",author:s.default.me,subject:t},void 0],u=n.actionNode("set",[l]);n.binSend("send",u,r,{clientCacheable:!0,onSend:i,onDrop:n.wrap(r)},{debugString:"action,group,subject",metric:n.M.GROUP,ackRequest:!1,expires:_().unix()})})},chatFindQuery:function(e,t){var n=this;return new Promise(function(a,r){var o=function(e){n.BinaryProtocol.read(e).then(function(e){var t=[],r=n.N.children(e);if("response"===n.N.tag(e)&&"chat"===n.N.attr("type",e))if("true"===n.N.attr("duplicate",e))t="preempted";else if(Array.isArray(r)){var o=void 0,i=r.length;for(o=0;o<i;o++){var l=n.parseChat(r[o]);l&&t.push(l)}}a(t)}).catch(r)},i={type:"chat"};"boolean"==typeof e&&e?i.kind="retry":"string"==typeof e&&(i.jid=e);var l=n.queryNode(i,void 0);n.binSend("sendEphemeral",l,r,{onSend:n.binWrap(o,a),logOnSend:t,onDrop:n.wrap(r)},{debugString:["query","chat",e].join(),metric:n.M.QUERY_CHAT,ackRequest:!1})})},contactFindQuery:function(e,t){var n=this;return new Promise(function(a,r){var o=function(e){n.BinaryProtocol.read(e).then(function(e){var t=[],r=n.N.children(e);if("response"===n.N.tag(e)&&"contacts"===n.N.attr("type",e))if("true"===n.N.attr("duplicate",e))t="preempted";else if(Array.isArray(r)){var o=void 0,i=r.length;for(o=0;o<i;o++){var l=n.parseContact(r[o]);l&&t.push(l)}}a({checksum:n.N.attr("checksum",e),data:t})}).catch(r)},i=n.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);n.binSend("send",i,r,{onSend:n.binWrap(o,a),logOnSend:t,onDrop:n.wrap(r)},{debugString:"query,contacts, "+String(e),metric:n.M.QUERY_CONTACTS,ackRequest:!1})})},createGroup:function(e,t){var n=this;return new Promise(function(a,r){var o=h.default.tag(),i=n.wrap(a);i.tag=o;var l=t.map(function(e){return["participant",{jid:e},void 0]});c.default.log("create group tag",o)();var u=["group",{id:o,type:"create",author:s.default.me,subject:e},l],f=n.actionNode("set",[u]);n.binSend("send",f,r,{clientCacheable:!0,onSend:i,onDrop:n.wrap(r)},{debugString:"action,group,create",metric:n.M.GROUP,ackRequest:!1,expires:_().unix()})})},deletePicture:function(e){var t=this;return new Promise(function(n,a){var r=h.default.tag(),o=t.wrap(n);o.tag=r;var i=["picture",{id:r,jid:e,type:"delete"},void 0],l=t.actionNode("set",[i]);t.binSend("send",l,a,{clientCacheable:!0,onSend:o,onDrop:t.wrap(a)},{debugString:"action,delete_pic,"+e,metric:t.M.PIC,ackRequest:!1,expires:_().unix()})})},groupMetadataFindFromPhone:function(e){var t=this;return new Promise(function(n,a){var r=function(r){t.BinaryProtocol.read(r).then(function(a){if("response"!==t.N.tag(a)||"group"!==t.N.attr("type",a))return void n({status:"error",info:"bad format: response incorrect"});var r=t.N.children(a),o=r&&r[0];if(!o)return void n({status:"error",info:"bad format: no group node"});if("missing"===t.N.attr("type"))return void n({status:"missing"});var i=[],l=void 0,s=t.N.children(o);Array.isArray(s)&&s.forEach(function(e){switch(t.N.tag(e)){case"participant":i.push({id:t.N.attr("jid",e),isAdmin:"admin"===t.N.attr("type",e)});break;case"description":l=t.N.dataStr(e)}}),n({status:"ok",data:{id:e,owner:t.N.attr("creator",o),creation:parseInt(t.N.attr("create",o),10)||void 0,participants:i,desc:l}})}).catch(a)},o=t.queryNode({type:"group",jid:e},[]);t.binSend("sendEphemeral",o,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,group,"+e,metric:t.M.QUERY_GROUP,ackRequest:!1})})},leaveGroup:function(e){var t=this;return new Promise(function(n,a){var r=h.default.tag(),o=t.wrap(n);o.tag=r;var i=["group",{id:r,jid:e,type:"leave",author:s.default.me},void 0],l=t.actionNode("set",[i]);t.binSend("send",l,a,{clientCacheable:!0,onSend:o,onDrop:t.wrap(a)},{debugString:"action,group,delete",metric:t.M.GROUP,ackRequest:!1,expires:_().unix()})})},msgCreateRecord:function(e,t){var n=this;return new Promise(function(a,o){var l=e.id.id,s=void 0,u=void 0;if("chat"===e.type){var f=[["body",void 0,e.body]];"url"===e.subtype&&f.push(["media",{type:"url",title:e.title,description:e.description,"canonical-url":e.canonicalUrl,"matched-text":e.matchedText,preview:e.richPreviewType,encoding:"raw"},e.thumbnail?y.decode(e.thumbnail):void 0]),u=Promise.resolve(["message",{type:"text",to:e.to,id:e.id.id,t:e.t.toString()},f])}else if("location"===e.type)s=e.body?y.decode(e.body):void 0,u=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"location",latitude:e.lat||void 0,longitude:e.lng||void 0,name:e.loc&&e.clientUrl?e.loc:void 0,url:e.loc&&e.clientUrl?e.clientUrl:void 0,encoding:e.body?"raw":void 0},s]]]);else if("vcard"===e.type){var d=["vcard",{name:e.subtype},e.body];u=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"vcard"},[d]]]])}else{var p=e.mediaKey;s=e.body?y.decode(e.body):void 0;var h="ptt"===e.type?"audio":e.type,m={};u=(t&&!p?n.sendMedia(e.avparams):Promise.resolve(i.default.merge({status:200,type:h},e.avparams))).then(function(t){if(200===t.status)return Promise.resolve(["message",r({type:"media",to:e.to,id:e.id.id,t:e.t.toString()},m),[["media",{encoding:e.body?"raw":void 0,origin:"ptt"===e.type?"live":void 0,seconds:"ptt"===e.type&&e.duration?e.duration.toString():void 0,type:t.type,mimetype:e.mimetype||t.mimetype||void 0,size:e.size?e.size.toString():void 0,filehash:t.filehash,url:t.url,duration:t.duration?t.duration.toString():void 0,vcodec:t.vcodec||void 0,width:t.width?t.width.toString():void 0,height:t.height?t.height.toString():void 0,fps:t.fps?t.fps.toString():void 0,vbitrate:t.vbitrate?t.vbitrate.toString():void 0,acodec:t.acodec||void 0,asampfreq:t.asampfreq?t.asampfreq.toString():void 0,asampfmt:t.asampfmt||void 0,abitrate:t.abitrate?t.abitrate.toString():void 0,caption:"video"!==e.type&&"image"!==e.type&&"document"!==e.type||!e.caption?void 0:e.caption,page_count:"number"!=typeof e.pageCount||isNaN(e.pageCount)?void 0:e.pageCount.toString(),media_key:p,filename:t.filename},s]]]);var n="wap:msgCreateRecord:sendMedia error "+t.status;return c.default.error(n)(),Promise.reject(n)}).catch(function(){return c.default.error("wap:msgCreateRecord:sendMedia dropped")(),Promise.reject("wap:msgCreateRecord:sendMedia dropped")})}u.then(function(t){var r=n.actionNode("relay",[t]),i=n.wrap(a);i.tag=l,i.meta={type:"message",key:e.id},n.binSend("send",r,o,{onSend:i,onDrop:n.wrap(o)},{debugString:["action","message",e.type,e.subtype].join(),metric:n.M.MESSAGE,ackRequest:!1})}).catch(function(){c.default.error("wap:msgCreateRecord mPromise error")(),o("wap:msgCreateRecord mPromise error")})})},msgFindQuery:function(e,t,n){var a=this,r=e;return new Promise(function(e,o){var i=function(t){a.BinaryProtocol.read(t).then(function(t){var n=[],o=a.N.children(t);if(c.default.logColor("green","bin-recv: response,msg",t)(),"response"===a.N.tag(t)&&("message"===a.N.attr("type",t)||"star"===a.N.attr("type",t)||"search"===a.N.attr("type",t)||"media_message"===a.N.attr("type",t))){if(Array.isArray(o)){var i=void 0,l=o.length;for(i=0;i<l;i++){var s=a.parseMsg(o[i],"response");s&&n.push(s)}}"search"===a.N.attr("type",t)?n={eof:"true"===a.N.attr("last",t),messages:n}:"media"===r&&(n={messages:n})}e(n)}).catch(o)},l=void 0,s="";switch(r){case"after":t.id||(r="before");case"before":l={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s=[t.toString(),t.count].join();break;case"search":l={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString()},s=["search",t.page,t.count].join();break;case"star":l={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="starred";break;case"media":l={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},s="media"}var u=a.queryNode(l,void 0);a.binSend("sendEphemeral",u,o,{onSend:a.binWrap(i,e),onDrop:a.wrap(o),logOnSend:n},{debugString:"query,message,"+s,metric:"search"===r?a.M.QUERY_SEARCH:a.M.QUERY_MESSAGES,ackRequest:!1})})},parseAck:function(e){if("received"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: received, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=this.N.attr("type",e),n=this.N.attr("id",e),a=this.N.attr("to",e),r=void 0;switch(t){case"message":r=2;break;case"read":r=3;break;case"played":r=4;break;case"error":r=-1;break;case"pending":default:r=0}var o={cmd:"ack",id:n,ack:r,from:s.default.me,to:a},i=[!n,!a,"message"!==t&&"read"!==t&&"played"!==t&&"error"!==t&&"pending"!==t];return this.dropIfConditionMet(i,o)},parseBattery:function(e){if("battery"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: battery, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=Math.min(parseInt(this.N.attr("value",e),10)||-1,100),n=this.N.attr("live",e),a={battery:t<0?void 0:t,plugged:n?"true"===n:void 0},r=[t<0&&!n];return this.dropIfConditionMet(r,a)},parseBCUpdate:function(e){if("broadcast"!==this.N.tag(e)||"modify"!==this.N.attr("type",e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: broadcast, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=this.N.attr("jid",e),n=this.N.children(e),a=[];if(Array.isArray(n)){var r=n.length,o=void 0,i=void 0,l=void 0;for(o=0;o<r;o++)i=n[o],l=this.N.attr("jid",i),"recipient"===this.N.tag(i)&&l&&b.default.isUser(l)&&a.push({id:l})}var s={id:t,participants:a},u=[!t,!b.default.isBroadcast(t),0===a.length];return this.dropIfConditionMet(u,s)},parseChat:function(e){if("chat"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: chat, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=this.N.attr("kind",e),n=this.N.attr("type",e),a=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,o=parseInt(this.N.attr("mute",e),10),i=parseInt(this.N.attr("before",e),10)||void 0,l="true"===this.N.attr("archive",e),s="true"===this.N.attr("read_only",e),u=parseInt(this.N.attr("modify_tag",e),10)||void 0,f=this.N.attr("name",e)||void 0,d=this.safeParseInt(e,"count"),p="true"===this.N.attr("message",e),h="true"===this.N.attr("star",e),m="false"===this.N.attr("spam",e),b=parseInt(this.N.attr("pin",e),10)||0,g=this.N.attr("old_jid",e),v=this.N.attr("new_jid",e);switch(t){case"text":case"image":case"video":case"gif":case"audio":case"ptt":case"document":case"location":case"vcard":case"url":case"sticker":break;default:t=void 0}"ahead"===n&&(n="clear");var y=this.N.children(e),_=void 0,E=void 0;if(Array.isArray(y)){_=[],E=[];var j=void 0,w=void 0,O=y.length;for(j=0;j<O;j++)if(w=y[j],"item"===this.N.tag(w)){var C=this.N.attr("index",w);C&&_.push([C,"true"===this.N.attr("owner",w),this.N.attr("participant",w)])}else if("label"===this.N.tag(w)){var S=this.N.attr("id",w);S&&E.push(S)}else{var P=this.parseMsgMessage(w,"response");P&&_.push(P)}}var M={id:a,t:r,type:n,kind:t,keys:_,before:i,archive:l,isReadOnly:s,unreadCount:d,muteExpiration:isNaN(o)?void 0:o,modifyTag:u,name:f,pendingMsgs:p,star:h,notSpam:m,pin:b,changeNumberOldJid:g,changeNumberNewJid:v,labels:E};this.pruneUndefinedProps(M);var T=[n&&"delete"!==n&&"clear"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"star"!==n&&"unstar"!==n&&"spam"!==n&&"modify_tag"!==n&&"pin"!==n&&"modify"!==n,!n&&!a,l&&n&&"clear"!==n,"clear"!==n&&i&&i>0,"clear"!==n&&"star"!==n&&"unstar"!==n&&_&&_.length>0];return this.dropIfConditionMet(T,M)},parseMsg:function(e,t){switch(this.N.tag(e)){case"message":return this.parseMsgMessage(e,t);case"groups_v2":return this.parseMsgGp2(e);case"broadcast":return this.parseMsgBroadcast(e);case"notification":return this.parseMsgNotification(e);case"call_log":return this.parseMsgCallLog(e);case"security":return this.parseMsgSecurity(e);default:return void c.default.assert(!1,"wap-unknown-tag","received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))()}},parseMsgBroadcast:function(e){if("broadcast"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: broadcast, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=this.N.attr("type",e),n=this.N.attr("id",e),a=parseInt(this.N.attr("t",e),10)||0,r=this.N.attr("jid",e),o="true"===this.N.attr("owner",e),i=this.N.attr("participant",e),l=void 0,u=void 0;switch(t){case"create":l=""+(parseInt(this.N.attr("count",e),10)||0);break;case"add":case"remove":u=this.N.child("participant",e),u&&(l=this.N.attr("jid",u))}var f=void 0;try{f=new d.default({fromMe:o,remote:r,id:n,participant:i})}catch(e){return void c.default.error("drop: cannot create MsgKey: "+e.stack)()}var p={id:f,t:a,participant:i,type:"broadcast_notification",subtype:t,from:o?s.default.me:r,to:o?r:s.default.me,body:l||void 0},h=[!n,!a,!r,!b.default.isBroadcast(r),"create"!==t&&"add"!==t&&"remove"!==t,("add"===t||"remove"===t)&&!b.default.isWid(l)];return this.dropIfConditionMet(h,p)},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),a=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),i=this.N.attr("type",e);i;var l=void 0;try{l=new d.default({fromMe:r,remote:a,id:n,participant:o})}catch(e){return void c.default.error("drop: cannot create MsgKey: "+e.stack)()}var u={id:l,t:t,participant:o,type:"call_log",subtype:i,from:r?s.default.me:a,to:r?a:s.default.me},f=[!n,!t,!a,"miss"!==i];return this.dropIfConditionMet(f,u)}},parseMsgGp2:function(e){if("groups_v2"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: groups_v2, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),a=this.N.attr("jid",e),r="invis"===this.N.attr("web",e),o="true"===this.N.attr("owner",e),i=this.N.attr("type",e),l=this.N.attr("author",e),u=this.N.children(e),f=this.N.attr("participant",e),p=[],h=void 0;switch(i){case"create":case"subject":h=this.N.attr("subject",e);break;case"picture":h=this.N.attr("picture",e)}if(Array.isArray(u)){var m=void 0,g=u.length;for(m=0;m<g;m++){var v=u[m],y=this.N.attr("jid",v);"participant"===this.N.tag(v)&&y&&p.push(y)}}var _=void 0;try{_=new d.default({fromMe:o,remote:a,id:n,participant:f})}catch(e){return void c.default.error("drop: cannot create MsgKey: "+e.stack)()}var E={t:t,id:_,from:o?s.default.me:a,to:o?a:s.default.me,author:l,participant:f,body:h?h.toString():void 0,type:"gp2",subtype:i,invis:r,recipients:p},j=[!n,!t,"subject"!==i&&"add"!==i&&"invite"!==i&&"remove"!==i&&"leave"!==i&&"picture"!==i&&"modify"!==i&&"create"!==i&&"delete"!==i&&"promote"!==i&&"demote"!==i&&"revoke_invite"!==i,"subject"===i&&!h,("add"===i||"invite"===i||"remove"===i||"leave"===i||"promote"===i||"demote"===i||"modify"===i)&&0===p.length,!a,!b.default.isGroup(a)];return this.dropIfConditionMet(j,E)},parseMsgMessage:function(e,t){if("message"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: message, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var n=void 0;s.default.me.equals(this.N.attr("from",e))&&!this.N.attr("to",e)?n="in":s.default.me.equals(this.N.attr("to",e))&&!this.N.attr("from",e)&&(n="out");var a=this.N.attr("id",e),r=parseInt(this.N.attr("t",e),10)||0,o=this.N.attr("to",e)||s.default.me,l=this.N.attr("from",e)||s.default.me,u=b.default.isBroadcast(l),f=this.N.attr("participant",e),p=u?f:l,h=u?void 0:f,m=!u&&(this.N.child("broadcast",e)&&s.default.me.equals(l)),y="invis"===this.N.attr("web",e),_=this.N.attr("notify",e)||"",E=parseInt(this.N.attr("status",e))||0,j=[],w=this.N.child("broadcast",e),O="true"===this.N.attr("star",e),C=void 0;if("broadcast"!==o){var S=void 0;try{S=new d.default({from:p,to:o,id:a,participant:f,selfDir:n})}catch(e){return void c.default.error("drop: cannot create MsgKey: "+e.stack)()}switch(t){case"fresh":C=1;break;default:C=E>=-1&&E<=4?E:1}if(Array.isArray(w)){var P=void 0,M=w.length;for(P=0;P<M;P++){var T=w[P],k=this.N.attr("jid",T);"to"===this.N.tag(T)&&k&&j.push(k)}}var N=void 0,I=[],R=this.N.attr("type",e);switch(R){case"ciphertext":case"unknown":N={id:S,type:R,t:r,notifyName:_,from:p,to:o,self:n,author:h,participant:f,invis:y,ack:C,broadcast:m,recipients:j,star:O},I=[!a,!r,!p,!o];break;case"text":N={id:S,body:this.N.dataStr(this.N.child("body",e))||"",type:"chat",t:r,notifyName:_,from:p,to:o,self:n,author:h,participant:f,invis:y,ack:C,broadcast:m,recipients:j,star:O};var A=this.N.child("media",e);A&&"url"===this.N.attr("type",A)&&i.default.merge(N,{subtype:"url",title:this.N.attr("title",A),description:this.N.attr("description",A),canonicalUrl:this.N.attr("canonical-url",A),matchedText:this.N.attr("matched-text",A),thumbnail:this.thumbFromMediaXml(A),richPreviewType:this.N.attr("preview",A)}),I=[!a,!r,!p,!o];break;case"media":var D=this.N.child("media",e),x=this.N.attr("type",D),L=this.N.attr("media_key",D),F=this.N.attr("mimetype",D),U=void 0,B=void 0,G=void 0,V=void 0,W=void 0,H=void 0;if("retry"===this.N.attr("reason",D))return;switch(x){case"image":case"video":case"document":var Y=parseInt(this.N.attr("page_count",D),10)||0,q=(0,v.cleanIncomingFilename)(this.N.attr("filename",D));H=(0,v.cleanIncomingFilename)(this.N.attr("caption",D)),U=this.thumbFromMediaXml(D),B=this.N.attr("url",D),B=(0,g.isString)(B)&&B.indexOf("/u/")>0?void 0:B,G=this.N.attr("filehash",D),V=parseInt(this.N.attr("size",D),10)||0,W=this.N.attr("seconds",D),N={id:S,body:U,type:x,t:r,notifyName:_,from:p,to:o,self:n,author:h,participant:f,invis:y,ack:C,clientUrl:B,duration:W,broadcast:m,recipients:j,filehash:G,size:V,caption:H,mediaKey:L,star:O,pageCount:Y,mimetype:F,filename:q},I=[!a,!r,!p,!o];break;case"location":var K=this.N.attr("latitude",D),z=this.N.attr("longitude",D),Q=this.N.attr("name",D);U=this.thumbFromMediaXml(D),B=this.N.attr("url",D),N={id:S,body:U,type:x,t:r,notifyName:_,from:p,to:o,self:n,author:h,participant:f,invis:y,ack:C,clientUrl:B,loc:Q,lat:K,lng:z,broadcast:m,recipients:j,star:O},I=[!a,!r,!p,!o,!K||!z];break;case"audio":var X="live"===this.N.attr("origin",D)?"ptt":x;B=this.N.attr("url",D),B=(0,g.isString)(B)&&B.indexOf("/u/")>0?void 0:B,G=this.N.attr("filehash",D),V=parseInt(this.N.attr("size",D),10)||0,W=this.N.attr("seconds",D),N={id:S,type:X,t:r,notifyName:_,from:p,to:o,self:n,author:h,participant:f,invis:y,ack:C,clientUrl:B,duration:W,broadcast:m,recipients:j,filehash:G,size:V,star:O,mediaKey:L,mimetype:F},I=[!a,!r,!p,!o];break;case"vcard":var J=this.N.child("vcard",D),Z=this.N.dataStr(J),$=this.N.attr("name",J);N={id:S,body:Z,type:x,subtype:$,t:r,notifyName:_,from:p,to:o,self:n,author:h,participant:f,invis:y,ack:C,broadcast:m,recipients:j,star:O},I=[!a,!r,!p,!o,!Z,!$];break;default:c.default.error("wap:parseMsgMessage unknown media type: "+this.N.toString(e),e)()}break;default:c.default.error("wap:parseMsgMessage unknown message type: "+this.N.toString(e),e)()}return this.dropIfConditionMet(I,N)}},parseMsgNotification:function(e){if("notification"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: notification, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=this.N.attr("id",e),n=parseInt(this.N.attr("t",e),10)||0,a=this.N.attr("jid",e),r=this.N.attr("participant",e),o="invis"===this.N.attr("web",e),i=this.N.dataStr(e),l="true"===this.N.attr("owner",e),u=void 0;try{u=new d.default({fromMe:l,remote:a,id:t,participant:r})}catch(e){return void c.default.error("drop: cannot create MsgKey: "+e.stack)()}var f={id:u,type:"notification",t:n,invis:o,from:l?s.default.me:a,to:l?a:s.default.me,participant:r,body:i},p=[!t,!n,!a];return this.dropIfConditionMet(p,f)},parseMsgSecurity:function(e){if("security"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),a=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),i=this.N.attr("type",e),l=void 0;switch(i){case"identity":var u=this.N.child("participant",e);u&&(l=this.N.attr("jid",u))}var f=void 0;try{f=new d.default({fromMe:r,remote:a,id:n,participant:o})}catch(e){return void c.default.error("drop: cannot create MsgKey: "+e.stack)()}var p={id:f,t:t,participant:o,type:"e2e_notification",subtype:i,from:r?s.default.me:a,to:r?a:s.default.me,body:l},h=[!n,!t,!a,"identity"!==i&&"encrypt"!==i,"identity"===i&&!l];return this.dropIfConditionMet(h,p)}},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),n="false"===this.N.attr("type",e),a={type:n?"unread":"read",jid:t},r=[!t];return this.dropIfConditionMet(r,a);case"identity":var o=this.parseIdentity(e);if(o)return o.type="identity",o;return;default:return}},parseContact:function(e){if("user"!==this.N.tag(e))return void c.default.assert(!1,"wap-unexpected-tag","expected tag: user, received tag: "+this.N.tag(e)+", tag id: "+this.N.attr("id",e))();var t=this.N.attr("jid",e),n=this.N.attr("name",e),a=this.N.attr("short",e)||void 0,r=this.N.attr("type",e)||"in",o={id:t,name:n,type:r,shortName:a},i=[!t,"in"!==r&&"out"!==r&&!!r];return this.dropIfConditionMet(i,o)},parseIdentity:function(e){var t=this.N.child("raw",e),n=this.N.child("text",e);if(t&&n&&this.N.children(t)instanceof ArrayBuffer&&this.N.dataStr(n))return{jid:this.N.attr("jid",e),binary:this.N.children(t),string:this.N.dataStr(n)}},profilePicFindThumbFromPhone:function(e,t,n){var a=this;return new Promise(function(r,o){var i=function(n){a.BinaryProtocol.read(n).then(function(n){"response"===a.N.tag(n)&&"preview"===a.N.attr("type",n)||o("Not response or preview");var i=a.N.children(n),l=i&&i[0];if(l||o("Missing preview node"),"missing"===a.N.attr("type",l))r({id:e,tag:void 0,raw:void 0});else{var s=a.N.attr("id",l),u=void 0;if(t&&s===t.tag&&t.raw)u=t.raw;else{var c=a.N.children(l);u=c?y.encode(c):void 0}r({id:e,tag:s,raw:u})}}).catch(o)},l={type:"preview",jid:e};t&&t.tag&&t.raw&&(l.id=t.tag),n&&(l.kind="status");var s=a.queryNode(l,[]);a.binSend("sendEphemeral",s,o,{onSend:a.binWrap(i,r),onDrop:a.wrap(o)},{debugString:"query,thumb,"+e,metric:a.M.QUERY_PREVIEW,ackRequest:!1})})},promoteParticipants:function(e,t){return this.setGroupParticipants("promote",e,t)},queryIdentity:function(e){var t=this;return new Promise(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a=void 0;c.default.logColor("green","bin-recv: response,identity",e)(),"response"===t.N.tag(e)&&"identity"===t.N.attr("type",e)&&(a=t.parseIdentity(e)),n(a)}).catch(a)},o=t.queryNode({type:"identity",jid:e},void 0);t.binSend("sendEphemeral",o,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,identity,"+e,metric:t.M.QUERY_IDENTITY,ackRequest:!1})})},queryLinkPreview:function(e){var t=this;return new Promise(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a=void 0;if(c.default.logColor("green","bin-recv: response,url",e)(),"response"===t.N.tag(e)&&"url"===t.N.attr("type",e)){var r=t.N.children(e);a={title:t.N.attr("title",e),description:t.N.attr("description",e),canonicalUrl:t.N.attr("canonical-url",e),matchedText:t.N.attr("matched-text",e),preview:t.N.attr("preview",e),thumbnail:r?y.encode(r):void 0}}n(a)}).catch(a)},o=t.queryNode({type:"url",url:e},void 0);t.binSend("sendEphemeral",o,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,url",metric:t.M.QUERY_URL,ackRequest:!1})})},queryMsgInfo:function(e){var t=this,n=function(e){var n=void 0,a=void 0,r=[];if(Array.isArray(e)){n=e.length;for(var o=0;o<n;o++)a=e[o],"item"===t.N.tag(a)&&t.N.attr("jid",a)&&t.N.attr("t",a)&&r.push({id:t.N.attr("jid",a),t:parseInt(t.N.attr("t",a),10)||0})}return r};return new Promise(function(a,r){var o=function(e){t.BinaryProtocol.read(e).then(function(e){var r={played:[],playedRemaining:0,read:[],readRemaining:0,delivery:[],deliveryRemaining:0};if(c.default.logColor("green","bin-recv: response,msg,info",e)(),"response"===t.N.tag(e)&&"message_info"===t.N.attr("type",e)){var o=t.N.child("played",e),i=t.N.child("read",e),l=t.N.child("delivery",e),s=t.N.children(o),u=t.N.children(i),f=t.N.children(l),d=parseInt(t.N.attr("count",e),10)||0;r.played=n(s),r.read=n(u),r.delivery=n(f);var p=d-r.played.length,h=d-r.played.length-r.read.length,m=d-r.played.length-r.read.length-r.delivery.length;r.playedRemaining=p<0?0:p,r.readRemaining=h<0?0:h,r.deliveryRemaining=m<0?0:m}a(r)}).catch(r)},i=t.queryNode({type:"message_info",index:e.id,jid:e.remote},void 0);t.binSend("sendEphemeral",i,r,{onSend:t.binWrap(o,a),onDrop:t.wrap(r)},{debugString:["query,msg,info",e.id,e.remote,e.fromMe].join(),metric:t.M.QUERY_MESSAGE_INFO,ackRequest:!1})})},queryReceivedActions:function(e){var t=this;return new Promise(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a=[],r=t.N.children(e);if(c.default.logColor("green","bin-recv: response,actions",e)(),"response"===t.N.tag(e)&&"action"===t.N.attr("type",e))if(Array.isArray(r)){var o=void 0,i=r.length;for(o=0;o<i;o++){var l=r[o],s=t.N.attr("id",l),u=parseInt(t.N.attr("code",l),10)||0;"item"===t.N.tag(l)&&s&&0!==u&&a.push({id:s,code:u})}}else"true"===t.N.attr("replaced",e)&&(a="replaced");n(a)}).catch(a)},o=e.map(function(e){return["item",{id:e},void 0]}),i=t.queryNode({type:"action"},o);t.binSend("sendEphemeral",i,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,actions",metric:t.M.QUERY_ACTIONS,ackRequest:!1})})},recentEmojiQuery:function(e){var t=this;return new Promise(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a=[],r=t.N.children(e);if(c.default.logColor("green","bin-recv: response,emoji",e)(),"response"===t.N.tag(e)&&"emoji"===t.N.attr("type",e)&&Array.isArray(r)){var o=void 0,i=r.length;for(o=0;o<i;o++){var l=r[o],s=t.N.attr("code",l),u=parseFloat(t.N.attr("value",l))||0;"item"===t.N.tag(l)&&s&&u&&!isNaN(u)&&a.push({id:s,weight:u})}}n(a)}).catch(a)},o=Array.isArray(e)?e.map(function(e){return["item",{code:e.id,value:e.weight.toString()},void 0]}):void 0,i=t.queryNode({type:"emoji"},o);t.binSend("sendEphemeral",i,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,emoji",metric:t.M.QUERY_EMOJI,ackRequest:!1})})},removeParticipants:function(e,t){return this.setGroupParticipants("remove",e,t)},requestMediaReupload:function(e){var t=this;return new Promise(function(n,a){var r=e.id,o=function(e){t.BinaryProtocol.read(e).then(function(e){var a=void 0;if(c.default.logColor("green","bin-recv: response,media",e)(),"response"===t.N.tag(e)&&"media"===t.N.attr("type",e)){var r=parseInt(t.N.attr("code",e))||400,o=t.N.attr("url",e);r>=500&&502!==r?(c.default.error("wap:requestMediaReupload:error "+r)(),a={status:r}):200===r&&o?a={status:200,url:o,mediaKey:t.N.attr("media_key",e)}:200!==r||o?(c.default.error("wap:requestMediaReupload:error "+r)(),a={status:r}):a={status:400}}else c.default.error("wap:requestMediaReupload:malformed")(),a={status:400};n(a)}).catch(a)},i=r,l=t.queryNode({type:"media",index:i.id,jid:i.remote,owner:i.fromMe.toString(),participant:i.participant},void 0);t.binSend("sendEphemeral",l,a,{onSend:t.binWrap(o,n),onDrop:t.wrap(a)},{debugString:"query,media",metric:t.M.QUERY_MEDIA,ackRequest:!1})})},resyncMessages:function(e){var t=this;return new E(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a=[],r=t.N.children(e);if(c.default.logColor("green","bin-recv: response,resume",e)(),"response"===t.N.tag(e)&&"resume"===t.N.attr("type",e)&&Array.isArray(r)){var o=void 0,i=r.length;for(o=0;o<i;o++){var l=t.parseChat(r[o]);l&&a.push(l)}}n({checksum:t.N.attr("checksum",e),statusChecksum:t.N.attr("status",e),labelsChecksum:t.N.attr("label",e),quickRepliesChecksum:t.N.attr("quick_reply",e),stickerPackChecksum:t.N.attr("sticker_pack",e),recentStickersChecksum:t.N.attr("recent_stickers",e),data:a})}).catch(a)},o=e.map(function(e){var t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString(),spam:(!e.notSpam).toString(),old_jid:e.changeNumberOldJid,new_jid:e.changeNumberNewJid};return e.mute&&(t.mute=e.mute.toString()),e.active&&(t.active="true"),b.default.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),e.pin&&(t.pin=e.pin.toString()),["last",t,void 0]}),i=t.queryNode({type:"resume"},o);t.binSend("sendEphemeral",i,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,resume",metric:t.M.QUERY_RESUME,ackRequest:!1})})},resyncReceipts:function(e){var t=this;return new Promise(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a=[],r=t.N.children(e);if(c.default.logColor("green","bin-recv: response,receipt",e)(),"response"===t.N.tag(e)&&"receipt"===t.N.attr("type",e)&&Array.isArray(r)){var o=void 0,i=void 0,l=void 0,s=r.length;for(o=0;o<s;o++){i=r[o],l=t.N.children(i);var u=t.N.attr("jid",i),f=t.N.attr("t",i),d=t.N.attr("pay_t",i);if("receipt"===t.N.tag(i)&&u&&(f||d)&&Array.isArray(l)){var p=void 0,h=[],m=[],b=l.length;for(p=0;p<b;p++){var g=l[p];if("item"===t.N.tag(g)){var v=t.N.attr("index",g),y="true"===t.N.attr("owner",g),_=parseInt(t.N.attr("status",g),10)||0,E=t.N.attr("participant",g);v&&0!==_&&_<=4&&h.push([v,y,E,_])}else if("message"===t.N.tag(g)){var j=t.parseMsgMessage(g);j&&m.push(j)}}h.length>0&&a.push({id:u,t:f&&parseInt(f,10),payT:d&&parseInt(d,10),acks:h,msgs:m})}}}n(a)}).catch(a)},o=e.map(function(e){return["last",{jid:e.remote,index:e.id,owner:e.fromMe.toString(),participant:e.participant,t:e.t.toString(),pay_t:e.payT&&e.payT.toString()},void 0]}),i=t.queryNode({type:"receipt"},o);t.binSend("sendEphemeral",i,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,receipt",metric:t.M.QUERY_RECEIPT,ackRequest:!1})})},sendChatstateUpdate:function(e,t){var n=this;if(["composing","paused","recording"].indexOf(e)>-1)return new Promise(function(a,r){var o=a,i=n.actionNode("set",[["presence",{type:e,to:t},void 0]],!0);n.binSend("sendEphemeralIgnore",i,r,{onSend:o,onDrop:r,epochIneligible:!0},{debugString:"action,chatstate,"+e,metric:n.M.PRESENCE,skipOffline:!0,ackRequest:!1})})},sendConversationArchive:function(e,t,n){return this.sendConversationOpWithKey(t?"archive":"unarchive",e,n)},sendConversationClear:function(e,t,n){return this.sendConversationOpWithKey("clear",e,t,n)},sendConversationDelete:function(e,t){return this.sendConversationOpWithKey("delete",e,t)},sendConversationMute:function(e,t,n){var a=this;return new Promise(function(r,o){var i=t?t.toString():void 0,l=n?n.toString():void 0,s=a.actionNode("set",[["chat",{type:"mute",mute:i,previous:l,jid:e},void 0]]);a.binSend("send",s,o,{clientCacheable:!0,onSend:a.wrap(r),onDrop:a.wrap(o)},{debugString:"action,chat,"+e+", "+(i?"mute,"+i:"unmute"),metric:a.M.CHAT,ackRequest:!0})})},sendConversationNotSpam:function(e){return this.sendConversationOpWithKey("spam",e,void 0,!1)},sendConversationOpWithKey:function(e,t,n,a){var r=this;return new Promise(function(o,i){var l=void 0,s=void 0;switch(e){case"clear":l=(!!a).toString();break;case"spam":s=(!!a).toString()}var u=r.actionNode("set",[["chat",{type:e,jid:t,index:n?n.id:void 0,owner:n?n.fromMe.toString():void 0,participant:n?n.participant:void 0,star:void 0!==l?l:void 0,spam:void 0!==s?s:void 0},void 0]]);r.binSend("send",u,i,{clientCacheable:!0,onSend:r.wrap(o),onDrop:r.wrap(i)},{debugString:"action,chat,"+[e,n,a].join(),metric:r.M.CHAT,ackRequest:!0})})},sendConversationSeen:function(e,t,n){var a=this;return new Promise(function(r,o){var i=a.actionNode("set",[["read",{jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:n&&t?n.toString():void 0},void 0]]);a.binSend("send",i,o,{clientCacheable:!0,onSend:a.wrap(r),onDrop:a.wrap(o)},{debugString:"action,chat,read,"+JSON.stringify(t)+","+n,metric:a.M.READ,ackRequest:!0})})},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendMedia:function(e){var t=this;return new Promise(function(n,a){var r=i.default.clone(e),o=function(e){n(i.default.merge(r,e))};h.default.send({data:["query","sendMedia",r.url],onSend:t.wrap02(o),onDrop:a})})},sendMessageDelete:function(e,t,n){var a=this;return new Promise(function(r,o){var i=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),l=a.actionNode("set",[["chat",{type:"clear",jid:e,media:n.toString()},i]]);a.binSend("send",l,o,{clientCacheable:!0,onSend:a.wrap(r),onDrop:a.wrap(o)},{debugString:"action,msgs,delete,"+[e,n,t.length].join(),metric:a.M.CHAT,ackRequest:!0})})},sendMessagePlayed:function(e){var t=this;return new Promise(function(n,a){var r=t.wrap(n),o=t.actionNode("set",[["received",{type:"played",index:e.id,from:e.remote,participant:e.participant},void 0]]);t.binSend("send",o,a,{onSend:r,onDrop:t.wrap(a)},{debugString:"action,played,"+e.toString(),metric:t.M.RECEIVED,ackRequest:!0})})},sendMessageStarred:function(e,t,n){var a=this;return new Promise(function(r,o){var i=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),l=a.actionNode("set",[["chat",{type:n?"star":"unstar",jid:e},i]]);a.binSend("send",l,o,{clientCacheable:!0,onSend:a.wrap(r),onDrop:a.wrap(o)},{debugString:"action,msgs,star,"+[e,n,t.length].join(),metrics:a.M.CHAT,ackRequest:!0})})},sendPresenceUpdate:function(e){var t=this;if(["available","unavailable"].indexOf(e)>-1)return new Promise(function(n,a){var r="available"===e,o=t.actionNode("set",[["presence",{type:e},void 0]],!r),i=r?"sendEphemeral":"sendEphemeralIgnore";t.binSend(i,o,a,{onSend:r?t.wrap(n):n,onDrop:r?t.wrap(a):n,epochIneligible:!r},{debugString:"action,presence,"+e,metric:t.M.PRESENCE,available:"available"===e,ackRequest:r})})},sendSetBlock:function(e,t){var n=this;return new Promise(function(a,r){var o=t.map(function(e){return["user",{jid:e.jid},void 0]}),l=["block",{type:e?"add":"remove"},o],s=n.actionNode("set",[l]);n.binSend("send",s,r,{clientCacheable:!0,onSend:n.wrap(a),onDrop:n.wrap(r)},{debugString:"action,block,"+e+","+i.default.map(t,"jid").join(","),metric:n.M.BLOCK,ackRequest:!1,expires:_().unix()})})},sendSetPicture:function(e,t,n){var a=this;return new Promise(function(r,o){var i=j.parseDataURL(t).data,l=j.parseDataURL(n).data,s=y.decode(i),u=y.decode(l),c=h.default.tag(),f=a.wrap(r);f.tag=c;var d=["picture",{id:c,jid:e,type:"set"},[["image",void 0,u],["preview",void 0,s]]],p=a.actionNode("set",[d]);a.binSend("send",p,o,{clientCacheable:!0,onSend:f,onDrop:a.wrap(o)},{debugString:"action,set_pic,"+e,metric:a.M.PIC,ackRequest:!1,expires:_().unix()})})},sendSetStatus:function(e){var t=this;return new Promise(function(n,a){var r=t.wrap(n),o=t.actionNode("set",[["status",void 0,e]]);t.binSend("send",o,a,{clientCacheable:!0,onSend:r,onDrop:t.wrap(a)},{debugString:"action,status,set",metric:t.M.STATUS,ackRequest:!1,expires:_().unix()})})},sendSpamReport:function(e){var t=this;return new Promise(function(n,a){var r=t.actionNode("set",[["spam",{jid:e},void 0]]);t.binSend("send",r,a,{onSend:t.wrap(n),onDrop:t.wrap(a)},{debugString:"action,spam,"+e,metric:t.M.SPAM,ackRequest:!1,expires:_().unix()})})},sendUnstarAll:function(e){var t=this;return new Promise(function(n,a){var r=t.actionNode("set",[["chat",{type:"unstar",jid:e||void 0},void 0]]);t.binSend("send",r,a,{clientCacheable:!0,onSend:t.binWrap(n,n),onDrop:t.wrap(a)},{debugString:"action,unstar,all,"+e,metrics:t.M.CHAT,ackRequest:!0,expires:_().unix()})})},setGroupParticipants:function(e,t,n){var a=this;return new Promise(function(r,o){var i=h.default.tag(),l=a.wrap(r),u=n.map(function(e){return["participant",{jid:e},void 0]}),c=["group",{id:i,jid:t,type:e,author:s.default.me},u],f=a.actionNode("set",[c]);a.binSend("send",f,o,{tag:i,clientCacheable:!0,onSend:l,onDrop:a.wrap(o)},{debugString:["action,group,participant",e,t].concat(n).join(),metric:a.M.GROUP,ackRequest:!1,expires:_().unix()})})},setPushname:function(e){var t=this;return new Promise(function(n,a){var r=t.actionNode("set",[["profile",{name:e},void 0]]);t.binSend("send",r,a,{onSend:t.binWrap(n,n),onDrop:t.wrap(a)},{debugString:"action,pushname",metric:t.M.PROFILE,ackRequest:!1})})}};e.exports=i.default.defaults(O,w)},ehjcaiibe:function(e,t){e.exports={"-total-search-height":"62px",totalSearchHeight:"62px","-scrollbar-width":"6px",scrollbarWidth:"6px","-windows-scrollbar-width":"8px",windowsScrollbarWidth:"8px","-section-bottom-margin":"12px",sectionBottomMargin:"12px","-title-height":"27px",titleHeight:"27px",muted:"_2TCvs",container:"_1mJO-",title:"_2lKjK"}},eighdgacb:function(e,t){e.exports={muted:"_1eyhI",revoked:"pST37",last:"_1Wn_k"}},eihefeaje:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e.map(function(e){return e.contact.formattedShortNameWithNonBreakingSpaces})}Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantsList=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=a(u),f=n("eceadcicaf"),d=a(f),p=n("ceddibdhdb"),h=a(p),m=n("ihfccfgdf"),b=a(m),g=n("ejbdjaifi"),v=n("bjdfbiahbi"),y=a(v),_="sort remove reset add",E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onParticipantsUpdate=function(){n.recalculateParticipantsTimer.debounce(100)},n.recalculateParticipantsTimer=new h.default(function(){n.setState({participants:l(n.props.groupMetadata.participants)})});var a=e.listeners,i=e.groupMetadata.participants;return n.state={participants:l(i)},a.add(i,_,n.onParticipantsUpdate),n}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.groupMetadata.participants,n=e.groupMetadata.participants;if(n!==t){var a=e.listeners;a.remove(t,_,this.onParticipantsUpdate),a.add(n,_,this.onParticipantsUpdate),this.recalculateParticipantsTimer.cancel(),this.setState({participants:l(n)})}}},{key:"componentWillUnmount",value:function(){this.recalculateParticipantsTimer.cancel()}},{key:"render",value:function(){var e=this.props.overridingText||this.state.participants.join(l10n.t("enumeration_comma"))||this.props.placeholder;return e?c.default.createElement(y.default,{text:e,location:this.props.location}):null}}]),t}(u.PureComponent);E.CONCERNS={groupMetadata:["participants"]},E.displayName="ParticipantsListClass";var j=t.ParticipantsList=(0,d.default)((0,b.default)((0,g.hoc)(E),E.CONCERNS)),w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.presence.withholdDisplay?e.placeholder:e.presence.getFormattedString();return c.default.createElement(j,{groupMetadata:e.groupMetadata,overridingText:t,placeholder:e.placeholder,location:e.location})}}]),t}(u.PureComponent);w.CONCERNS={chatstate:["id","type","deny","t"],groupMetadata:["announce","participants"],presence:["forceDisplay","withholdDisplay"]},w.displayName="GroupSubtitle",t.default=(0,b.default)((0,g.hoc)(w),w.CONCERNS)},eiiicijcj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("biddiiafgd"),p=a(d),h=n("fffdgbfji"),m=a(h),b=n("ihfccfgdf"),g=a(b),v=n("ejbdjaifi"),y=n("eadfaddcj"),_=a(y),E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=void 0,t=void 0;switch(this.props.msg.type){case _.default.MSG_TYPE.VIDEO:this.props.msg.isGif?(e=m.default.t("missing_gif_title"),t=m.default.t("missing_gif_text")):(e=m.default.t("missing_video_title"),t=m.default.t("missing_video_text"));break;case _.default.MSG_TYPE.AUDIO:e=m.default.t("missing_audio_title"),t=m.default.t("missing_audio_text");break;case _.default.MSG_TYPE.IMAGE:e=m.default.t("missing_photo_title"),t=m.default.t("missing_photo_text");break;case _.default.MSG_TYPE.DOCUMENT:e=m.default.t("missing_document_title"),t=m.default.t("missing_document_text");break;case _.default.MSG_TYPE.STICKER:e=m.default.t("missing_sticker_title"),t=m.default.t("missing_sticker_text")}return u.createElement(p.default,{title:e,onOK:function(){f.default.closeModal()},okText:m.default.t("web_ok")},t)}}]),t}(u.PureComponent);E.CONCERNS={msg:["type","isGif"]},E.displayName="MediaMissingModal",t.default=(0,g.default)((0,v.hoc)(E),E.CONCERNS)},ejdjhbacj:function(e,t){e.exports={muted:"nUu7e",container:"_3qPa0",section:"_2vOyW",sectionWide:"_2RCUQ",control:"_3231I",label:"lz4Mo",disabled:"_26EsD",select:"Fzl83"}},ejeehdija:function(e,t){e.exports={muted:"nPkUR",container:"MCTeI",body:"_3BYwr",imageContainer:"BIM-V",lazyLoadRetry:"_2Zvyc",defaultIcon:"_3tZTj"}},ejeidfcga:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbgdaechch"),f=a(c),d=n("ddchcbhaia"),p=a(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.onSelectMessages;return u.createElement(f.default,{type:"dropdown_menu",key:"BroadcastMenuDropdown",flipOnRTL:!0,dirX:c.DirX.LEFT},p.default.broadcast(t,n))}}]),t}(u.Component);h.displayName="BroadcastMenuDropdown",t.default=h},ejfeeeaeg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bgfcjjddjf"),f=a(c),d=n("bbhjjecbjb"),p=a(d),h=n("ejegihaeh"),m=a(h),b=n("djbgihfhif"),g=a(b),v=n("dbdfbgehgj"),y=a(v),_=n("gbfffciea"),E=a(_),j=n("ceeafeafie"),w=a(j),O=n("biddiiafgd"),C=a(O),S=n("dhhfaeacef"),P=a(S),M=n("djcchigfih"),T=a(M),k=n("gejdcbjjd"),N=a(k),I=n("djbhiedbef"),R=a(I),A=n("cabhjigfgc"),D=a(A),x=n("dajffajabh"),L=a(x),F=n("fijafegab"),U=a(F),B=n("fifhbjiec"),G=a(B),V=n("bggeiidigb"),W=a(V),H=n("ccaaiecfib"),Y=a(H),q=n("djhbegbdaf"),K=a(q),z=n("eceadcicaf"),Q=a(z),X=n("ebdahjichh"),J=a(X),Z=n("bfajcggcdf"),$=a(Z),ee=n("bfbggcdbfb"),te=a(ee),ne=n("bfffgbbdch"),ae=a(ne),re=n("bhheahajjg"),oe=a(re),ie=n("ebfgabegga"),le=a(ie),se=n("deabffecii"),ue=a(se),ce=n("bjbedjfe"),fe=a(ce),de=n("bfejacaeaj"),pe=a(de),he=n("dadhidfcfe"),me=a(he),be=n("ihfccfgdf"),ge=a(be),ve=n("bfhjgejice"),ye=a(ve),_e=n("bfdcadbbif"),Ee=a(_e),je=n("eedjbihej"),we=a(je),Oe=n("dcjdgceiej"),Ce=a(Oe),Se=n("cjcaccbiih"),Pe=a(Se),Me=n("djbfhebjhe"),Te=a(Me),ke=n("dfdebdgdei"),Ne=n("ejbdjaifi"),Ie=n("dfhgeaeig"),Re=n("eagfdbhhhh"),Ae=n("dcbafbaejf"),De=n("ibeajfihb"),xe=a(De),Le=n("cigbgdjabj"),Fe=a(Le),Ue=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.flatListController=new W.default,n.ProductCatalogSession=new ue.default,n._init=function(){Y.default.supportsFeature(Y.default.F.QUERY_IDENTITY)&&(0,Ie.queryIdentity)(n.props.contact)},n.onBlocklistChange=function(){n.state.contactIsBlocked!==!!f.default.get(n.props.contact.id)&&n.setState({contactIsBlocked:!!f.default.get(n.props.contact.id)})},n.onDeleteChat=function(){var e=y.default.assertGet(n.props.contact.id);E.default.deleteOrExitChat(e)},n.onBlockContact=function(){var e=u.createElement(oe.default,{contact:n.props.contact});E.default.openModal(u.createElement(C.default,{onOK:n.blockContact,okText:l10n.t("block"),onCancel:function(){return E.default.closeModal()},cancelText:l10n.t("web_cancel")},u.createElement(K.default,{id:"block_confirmation",params:{contact:e}})))},n.onReportSpam=function(){E.default.openModal(u.createElement(me.default,{isBusiness:n.props.contact.isBusiness,isGroupChat:!1,onReport:n.reportSpam,onReportBlockClear:n.reportSpamBlockClear,onCancel:function(){return E.default.closeModal()}}))},n.reportSpam=function(){var e=y.default.get(n.props.contact.id);e&&(0,Ae.sendSpamReport)(e),E.default.closeModal()},n.reportSpamBlockClear=function(){var e=y.default.get(n.props.contact.id);e&&(0,Ae.sendSpamBlockClear)(e),E.default.closeModal()},n.onUnblockContact=function(){var e=u.createElement(oe.default,{contact:n.props.contact});E.default.openModal(u.createElement(C.default,{okText:l10n.t("unblock_button"),onOK:n.unblockContact,cancelText:l10n.t("web_cancel"),onCancel:function(){return E.default.closeModal()}},u.createElement(K.default,{id:"unblock_confirmation",params:{contact:e}})))},n.blockContact=function(){(0,ke.blockContact)(n.props.contact),E.default.closeModal()},n.unblockContact=function(){(0,ke.unblockContact)(n.props.contact),E.default.closeModal()},n.onClose=function(){n.props.onClose?n.props.onClose():n.context.uim.uie.requestDismiss()},n.onViewPicture=function(e){if(n.canViewPicture){var t=e.target,a=function(e){e(t)};E.default.openModalMedia(u.createElement(le.default,{contact:n.props.contact,profilePicThumb:n.props.contact.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:a}),{transition:"profile-viewer",uim:n.context.uim})}},n.onDetailImageLoad=function(){n.canViewPicture=!0},n.canViewPicture=!1,n.state={contactIsBlocked:!!f.default.get(e.contact.id)},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(f.default,"add remove reset sync",this.onBlocklistChange),this.props.listeners.uiIdle(this._init);var e=this.props.contact;e.businessProfile&&!e.businessProfile.stale&&Y.default.supportsFeature(Y.default.F.CATALOG)&&e.businessCatalog&&m.default.findCarouselCatalog(e.id)}},{key:"shouldRenderCatalog",value:function(){var e=this.props.contact;return!!(e&&e.isBusiness&&e.businessProfile)&&(!(!e.businessProfile.catalogStatus||!e.businessCatalog)&&Y.default.supportsFeature(Y.default.F.CATALOG))}},{key:"renderProductCatalogSection",value:function(){if(!this.shouldRenderCatalog())return null;var e=this.props,t=e.contact,n=e.onProductCatalog,a=e.onProductDetail,r=m.default.get(t.id);return r?u.createElement(g.default,{onProductDetail:a,onProductCatalog:n,catalog:r,sessionId:this.ProductCatalogSession.toString(),entryPoint:te.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE}):null}},{key:"render",value:function(){var e=this.props.contact,t=void 0,n=u.createElement(w.default,{contact:this.props.contact,onClose:this.onClose,flatListController:this.flatListController}),a=y.default.get(e.id);a&&(t=u.createElement(U.default,null,u.createElement(D.default,{a8nText:"li-delete-chat",icon:u.createElement(Ee.default,{name:"delete-danger"}),color:"danger",onClick:this.onDeleteChat},l10n.t("delete_chat"))));var r=null;r=this.state.contactIsBlocked?u.createElement(U.default,null,u.createElement(D.default,{a8nText:"li-unblock",color:"success",icon:u.createElement(Ee.default,{name:"settings-blocked-success",directional:!0}),onClick:this.onUnblockContact},l10n.t("unblock_button"))):u.createElement(U.default,null,u.createElement(D.default,{a8nText:"li-block",icon:u.createElement(Ee.default,{name:"settings-blocked",directional:!0}),onClick:this.onBlockContact},l10n.t("block")));var o=u.createElement(U.default,null,u.createElement(D.default,{a8nText:"li-report-spam",color:"danger",icon:u.createElement(Ee.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},e.isBusiness?l10n.t("report_business"):l10n.t("report_contact"))),i=null;if(this.props.onMediaGallery&&a){var l=this.props.onMediaGallery,s=u.createElement(Ee.default,{name:"chevron-right-alt",directional:!0}),c=Y.default.supportsFeature(Y.default.F.LINK_DOC_GALLERY)?l10n.t("media_links_docs"):l10n.t("media");i=u.createElement(U.default,{a8nText:"section-media",title:c,titleOnClick:l,subtitle:s,theme:"padding"},u.createElement($.default,{chat:a,mediaMsgs:a.getMediaMsgs()}))}var f=null;Y.default.supportsFeature(Y.default.F.LIVE_LOCATIONS)&&a&&(f=u.createElement(J.default,{chat:a,onClick:this.props.onLiveLocation}));var d=this.renderProductCatalogSection(),h=a&&a.mute.canMute()?u.createElement(ae.default,{chat:a,mute:a.mute}):null,m=null;if(this.props.onStarred){var b=u.createElement(Ee.default,{name:"chevron-right-alt",directional:!0});m=u.createElement(N.default,{a8nText:"block-starred-messages",side:b,onClick:this.props.onStarred,border:!0},u.createElement(we.default,{theme:"title"},l10n.t("chat_starred_msgs")))}var g=null,v=a&&a.getReceivedVCardMsgs();if(Y.default.supportsFeature(Y.default.F.INDEX_RECEIVED_VCARD)&&v&&v.length){var _=u.createElement(Ee.default,{name:"chevron-right-alt",directional:!0});g=u.createElement(N.default,{a8nText:"block-contact-card",side:_,onClick:this.props.onContactCard},u.createElement(we.default,{theme:"title"},l10n.t("contact_card",{_plural:v.length})))}var E=null;(h||m||g)&&(E=u.createElement(U.default,null,h,m,g,null));var j=u.createElement(N.default,{multiline:!0},u.createElement(we.default,{theme:"title"},u.createElement(xe.default,{id:e.id}))),O=u.createElement(N.default,null,u.createElement(Re.SelectableSpan,{dir:"auto",selectable:!0},u.createElement(we.default,{theme:"title"},(0,Te.default)(e.id)))),C=u.createElement(U.default,{a8nText:"section-about-and-phone-number"},u.createElement("div",{className:ye.default.titleAbout},u.createElement(we.default,{theme:"section-title"},l10n.t("contact_info_status_phone"))),j,O),S=a&&a.presence?u.createElement(Pe.default,{contact:e,presence:a.presence,chatstate:a.presence.chatstate,location:"info"}):null,M=e.showBusinessVname&&Y.default.supportsFeature(Y.default.F.VNAME_V_2)?u.createElement("div",{className:ye.default.businessVname},u.createElement(G.default,{text:e.verifiedName,direction:"auto"}),u.createElement("div",{className:ye.default.icon},u.createElement(Ee.default,{name:"psa-verified"}))):null,k=e.isBusiness&&e.businessProfile?u.createElement(p.default,{contact:e,businessProfile:e.businessProfile}):null,I=!e.name&&e.notifyName?u.createElement("div",{className:ye.default.nameSecondary},u.createElement(we.default,{theme:"muted"},u.createElement(G.default,{className:ye.default.screenName,direction:"auto",text:e.notifyName}))):null;return u.createElement(T.default,{key:"contact-info-modal"},u.createElement(L.default,{title:l10n.t("web_contact_info"),type:x.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),u.createElement(R.default,{flatListControllers:[this.flatListController]},u.createElement("div",{className:ye.default.body},u.createElement(U.default,{theme:"padding-large"},u.createElement("div",{className:ye.default.avatar},u.createElement(P.default,{id:e.id,size:P.default.Size.LARGE,loader:!0,onLoad:this.onDetailImageLoad,onClick:this.onViewPicture,quality:P.default.Quality.HIGH})),u.createElement(we.default,{theme:"large"},u.createElement(oe.default,{contact:e,selectable:!0,showBusinessCheckmark:!0})),I,u.createElement("div",{className:ye.default.nameSecondary},u.createElement(we.default,{theme:"muted"},M),u.createElement(we.default,{theme:"muted"},S)),u.createElement(Fe.default,{labels:e.labels})),k,f,d,i,E,C,null,n,r,o,t)))}}]),t}(u.Component);Ue.contextTypes={uim:pe.default.instanceOf(Ce.default)},Ue.CONCERNS={contact:["id","formattedName","formattedUser","formattedShortName","isBusiness","commonGroups","businessProfile","showBusinessVname","verifiedName","name","notifyName","labels","businessCatalog"]},Ue.displayName="ContactInfoDrawer",t.default=(0,fe.default)((0,Q.default)((0,ge.default)((0,Ne.hoc)(Ue),Ue.CONCERNS)))},fabjefgai:function(e,t){e.exports={muted:"_2K8rw",icon:"_1ZMSM",archived:"_2WwbV"}},faeabghda:function(e,t){e.exports={muted:"_3Qodk",container:"jkZx4"}},faeabjacf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a,r){var o=e.msg,l=e.date,u=e.unread,d=e.album,h=[],m=0,b=void 0;for(m=0;!b&&m<t.length;m++)b=t[m];m--;for(var g=!1,v=!1,y=b?(0,i.default)(b):0,_=0,E=m;b;){v||h.push(l(b,_++)),b===a&&u&&h.push(u(r));for(var j=void 0,w=m+1;!j&&w<t.length;w++)j=t[w];var O=void 0,C=void 0,S=void 0,P=[],M=!1;if(p.default.supportsFeature(p.default.F.GROUPED_STICKERS)&&b.isValidGroupedSticker){P.push(b),E=m;var T=t[E+1];T&&T.isValidGroupedSticker&&(0,f.canBeGroupedAsAlbum)(b,T)&&T!==a&&(P.push(T),j=T,E++,M=!0)}if(p.default.supportsFeature(p.default.F.ALBUMS)&&b.isValidAlbumAsset){P.push(b);var k=b,N=void 0;for(E=m;E<t.length-1&&P.length<s.default.ALBUM_MAX_SIZE&&(k=t[E],(N=t[E+1])&&N.isValidAlbumAsset&&(0,f.canBeGroupedAsAlbum)(k,N)&&N!==a);E++)P.push(N);P.length>=s.default.ALBUM_MIN_SIZE&&(M=!0,j=t[E+1])}if(j?(S=(0,i.default)(j),C=S===y,O=C&&(0,f.canBeGroupedWithNext)(b,j)):(O=!1,C=!1,S=0),M){var I=(0,c.default)();h.push(d(P,I,g,O)),m=E+1,b=t[m],g=O,v=C,y=S}else h.push(o(b,b===n,g,O)),m++,g=O,v=C,y=S,b=j}return h}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("djgaefehgg"),i=a(o),l=n("eadfaddcj"),s=a(l),u=n("cfejjfjhca"),c=a(u),f=n("dejbbcaghh"),d=n("ccaaiecfib"),p=a(d)},faeadiehh:function(e,t){e.exports={muted:"_24E3J",hasText:"_2U4vq",noText:"_30g2M",quote:"bXSaQ",hasAuthor:"_2VXAV",forwarded:"_3ZlHZ"}},fbcdaahdd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("hdccjfbbg"),h=a(p),m=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.contextEnabled=function(){var e=a.props,t=e.contextEnabled,n=e.contact;return t&&t(n)},a.onContext=function(e){var t=a.props,n=t.onContext,r=t.contact;return n&&n(e,r)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.participant,a=e.onClick,r=e.contextMenu,o=e.isPendingParticipant;return u.default.createElement(h.default,{contact:t,admin:n.isAdmin,onClick:a,theme:"drawer-list",contextEnabled:this.contextEnabled,contextMenu:r,onContext:this.onContext,isPendingParticipant:o,showNotifyName:!0,waitIdle:!0})}}]),t}(s.Component);m.CONCERNS={participant:["isAdmin"]},m.displayName="Participant",t.default=(0,f.default)((0,d.hoc)(m),m.CONCERNS)},fbdhjahjj:function(e,t){e.exports={muted:"_22XNs",animation:"_3XqhJ","play-ltr":"_1GxgH",playLtr:"_1GxgH","play-rtl":"bB2Q8",playRtl:"bB2Q8",version:"_357v7"}},fccahhfch:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){v.default.openModal(d.createElement(O.default,{e2eSubtype:e,jid:t,chatId:n}))}function s(e){var t=h.default.gadd(e);v.default.openChatFromUnread(t).then(function(e){e&&v.default.focusChatTextInput(t)})}function u(e,t){var n=null,a=function(e){e.preventDefault(),v.default.closeModal("none"),setTimeout(function(){return(0,P.openExternalLink)(t)},10)};n=d.createElement("a",{target:"_blank",href:"#",onClick:a},l10n.t("learn_more"));var r=d.createElement(_.default,{onOK:function(){return v.default.closeModal()},okText:l10n.t("web_ok")},e,"   ",n);v.default.openModal(r)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("dbdfbgehgj"),h=a(p),m=n("dhigahgdjb"),b=a(m),g=n("gbfffciea"),v=a(g),y=n("biddiiafgd"),_=a(y),E=n("eadfaddcj"),j=a(E),w=n("diegbjcafg"),O=a(w),C=n("fifhbjiec"),S=a(C),P=n("bidfjbaebi"),M=n("dgjddffcfg"),T=a(M),k=n("bhcdbgbbad"),N=a(k),I=n("ihfccfgdf"),R=a(I),A=n("ejbdjaifi"),D=n("bheafeifce"),x=n("bfdcadbbif"),L=a(x),F=n("gbgcehdj"),U=a(F),B=n("iabebjcej"),G=a(B),V=n("djbfhebjhe"),W=a(V),H=n("jccfhaecf"),Y=a(H),q=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props.msg,t=void 0,n=void 0,a=void 0,r=void 0;switch(e.type){case j.default.MSG_TYPE.NOTIFICATION:n=e.body;break;case j.default.MSG_TYPE.GP2:case j.default.MSG_TYPE.GROUP_NOTIFICATION:return d.createElement(N.default,{msg:e,clickable:!0});case j.default.MSG_TYPE.BROADCAST_NOTIFICATION:return d.createElement(G.default,{msg:e,clickable:!0});case j.default.MSG_TYPE.E2E_NOTIFICATION:n=T.default.formatE2ENotification((0,D.unproxy)(e));var o=e.subtype,i=e.body,c=e.id.remote;r=function(){l(o,i,c)};break;case j.default.MSG_TYPE.CALL_LOG:t="miss_video"===e.subtype||"miss_group_video"===e.subtype?d.createElement(L.default,{name:"miss_video"}):d.createElement(L.default,{name:"miss"}),t=d.createElement("div",{className:U.default.icon},t),n=T.default.formatCallLog((0,D.unproxy)(e),!0);break;case j.default.MSG_TYPE.NOTIFICATION_TEMPLATE:if("change_number"===e.subtype){var f=e.templateParams[0],p=e.templateParams[1],h=b.default.get(f),m=h&&h.isMyContact?h.formattedName:(0,W.default)(f),g=Y.default.equals(e.chat.id,f);n=g?l10n.t("change_number_old_chat_click",{name:m}):l10n.t("change_number_new_chat",{name:m}),g&&(r=function(){return s(p)})}else if(n=T.default.formatNotificationTemplateText((0,D.unproxy)(e)),a=T.default.formatNotificationTemplateOnClickText((0,D.unproxy)(e))){var v=T.default.notificationTemplateFAQ(e.subtype);r=function(){u(a,v)}}}var y=d.createElement("span",null,t,d.createElement(S.default,{direction:l10n.isRTL()?"rtl":"ltr",text:n}));return r?d.createElement("div",{role:"button",onClick:r},y):d.createElement("span",null,y)}}]),t}(d.PureComponent);q.CONCERNS={contact:["isEnterprise","verifiedLevel","verifiedName"],msg:["id","body","chat","type","subtype","templateParams"]},q.displayName="Notification",t.default=(0,R.default)((0,A.hoc)(q),q.CONCERNS)},fchcjedjf:function(e,t){e.exports={muted:"_23JL6",input:"_3FeAD",placeholder:"wjdTm",body:"_3u328",default:"_2YgjU",compose:"_1PRhq",large:"_3jJ43",status:"_2nW8k",media:"_1pSqv",invite:"_2uNpC",small:"_3HUPQ"}},fciifhbdb:function(e,t){e.exports={muted:"LP3KG",pane:"_1_keJ",selectable:"_2AqZl",empty:"_3-kxx",incoming:"_3KRbU",ffFix:"_3sLGI",unread:"_1KNhm"}},fdcfhecbj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return l.createElement("div",{className:(0,u.default)(f.default.icon,r({},f.default.transparent,e.theme&&"transparent"===e.theme))},e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("ceffhbhahb"),u=a(s),c=n("cjjjgbhjif"),f=a(c);o.displayName="RoundIcon"},febicjijd:function(e,t){e.exports={muted:"_5p6PF",panelContainer:"_3LFRS"}},fehbggfdh:function(e,t){e.exports={muted:"_2bcYV",textInput:"_7w-84",labelText:"_1wt6r",hideFloatingLabel:"_3vTVM",float:"_2orhV",spacer:"_3Xs1j",noPlaceholder:"_-3Ijj",wrapper:"_3hnO5",locked:"_3K9Sw",textError:"oCQ29",errorText:"_3q759",textActive:"_3Hgym",iconMainContainer:"_2xHOS",iconsEditContainer:"_3F9q9",invite:"_1N6NG",emojiBtn:"_2asZk",charCounter:"_3Yulp",iconMain:"_30prC",iconSpinner:"_3CfRk",infoStrip:"_3YmEG",inputLarge:"_2daOi",active:"_5UNoc",emptyValPlaceholder:"_1be_K",more:"_3THW4",emojiText:"_5KVVe",groupInfoName:"_1jo6p",small:"liawM"}},ffchhcfdj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("eadfaddcj"),h=a(p),m=n("biddiiafgd"),b=a(m),g=n("chcadgfgad"),v=a(g),y=n("gbfffciea"),_=a(y),E=n("bcjcbbafcj"),j=a(E),w=n("daiaacfgce"),O=a(w),C=n("djhbegbdaf"),S=a(C),P=n("bfdcadbbif"),M=a(P),T=n("cfaiaibca"),k=a(T),N={GUIDE_ALLOW:"guide-allow",GUIDE_UNBLOCK:"guide-unblock",GUIDE_NONE:"guide-none"},I={CHROME_MEDIA_ERROR:"chrome_media_error",FIREFOX_LOCK:"firefox_lock",OPERA_MEDIA:"opera_media"},R=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.type,a=t.onCancel,o=t.onConfirm,i=t.title,l=t.desc,s=(e={},r(e,I.CHROME_MEDIA_ERROR,c.createElement("span",{className:"chrome-media-icon"})),r(e,I.FIREFOX_LOCK,c.createElement("span",{className:"firefox-lock-icon"})),r(e,I.OPERA_MEDIA,c.createElement("span",{className:"opera-media-icon"})),e),u=l+"_"+j.default.browser,f=l10n.hasT(u)?u:l,p=c.createElement(S.default,{id:f,params:s});if(n===N.GUIDE_ALLOW){var m=void 0;switch(j.default.browser){case h.default.BROWSER_TYPE.CHROME:case h.default.BROWSER_TYPE.FIREFOX:m=O.default.topLeft;break;case h.default.BROWSER_TYPE.EDGE:m=O.default.bottomCenter;break;default:m=O.default.topCenter}return c.createElement(v.default,{type:"guide"},c.createElement("div",{className:(0,d.default)(O.default.containerAllow,m)},c.createElement("div",{className:O.default.icon},c.createElement(M.default,{name:"back-light"})),c.createElement("div",{className:O.default.title},c.createElement(S.default,{id:i})),c.createElement("div",{className:O.default.description},p),c.createElement("div",{className:O.default.controls},c.createElement(k.default,{onClick:o,type:"primary"},l10n.t("ok_got_it")))))}return c.createElement(b.default,{title:c.createElement(S.default,{id:i}),onOK:o,okText:l10n.t("ok_got_it"),onCancel:a,cancelText:a?l10n.t("learn_more"):void 0},c.createElement("div",{className:O.default.description},p))}}]),t}(c.Component);R.TYPE=N,R.defaultProps={type:N.GUIDE_NONE,onConfirm:function(){return _.default.closeModal()}},R.displayName="GuidePopup",t.default=R},ffebdchi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("dgijhbdidg");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(r).default}})},ffgjgcghi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(e){if(e.type===c.default.TYPE.IMAGE){var n=g;return h.default.isEmpty(t.caption)||(n+=v*Math.min(t.caption.length/150,1)),new E(n)}return e.type===c.default.TYPE.VIDEO?t.isGif?new O:new b.default:new E(y)}if(t.type===d.default.MSG_TYPE.CHAT){var a=_+60*Math.min(t.body.length,1e3);return new E(a)}return new E(y)}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3GifController=t.StatusV3CountdownController=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.setupStatusV3Controller=o;var l=n("bdiiahhjbe"),s=a(l),u=n("bffjfbgbg"),c=a(u),f=n("eadfaddcj"),d=a(f),p=n("hbhijdici"),h=a(p),m=n("deijdcaadj"),b=a(m),g=4500,v=2e3,y=3e3,_=2e3,E=t.StatusV3CountdownController=function(){function e(t){var n=this;r(this,e),this.addListeners=function(e,t,a){n._onStart=e,n._onPause=t,n._onEnded=a},this.removeListeners=function(){n._onStart=void 0,n._onPause=void 0,n._onEnded=void 0},this.play=function(){if(n._timer)return void s.default.info("Duplicate timer start")();n._timer=setTimeout(n._onTimeup,n._timeout),n._start=(new Date).getTime();var e=n._onStart;e&&e(n._timeout,n._duration)},this.stop=function(){if(n._timer){clearTimeout(n._timer),n._timer=null;var e=(new Date).getTime();n._timeout-=e-n._start;var t=n._onPause;t&&t()}else s.default.info("Timer stop called on stopped timer")()},this.resume=function(){n.play()},this.pause=function(){n.stop()},this._onTimeup=function(){var e=n._onEnded;e&&e()},this._duration=t,this._timeout=this._duration,this._start=0}return i(e,[{key:"duration",get:function(){return this._duration}}]),e}(),j=6e3,w=3,O=t.StatusV3GifController=function(){function e(){var t=this;r(this,e),this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0,t._videoController.removeListeners(),t._countdownController.removeListeners()},this.setVideo=function(e,n){t._video=e,n&&(t._duration=n),t._videoController.setVideo(e)},this._onVideoStartHandler=function(){var e=t._onStart,n=t._video.duration||t._duration,a=Math.max(w*n*1e3,j);e&&e(a-1e3*n*t._playCounter-1e3*t._video.currentTime,a)},this._onVideoPauseHandler=function(){var e=t._onPause;e&&e()},this._onVideoEndedHandler=function(){t._playCounter++;var e=t._onEnded;t._playCounter===w&&(t._videoEnded=!0,t._timerEnded&&e&&e()),t._video.currentTime=0,t._videoEnded&&t._timerEnded||setTimeout(function(){t._videoController.play()},0)},this._onTimerEndedHandler=function(){var e=t._onEnded;t._timerEnded=!0,e&&t._videoEnded&&e()},this.play=function(){t._videoController.play(),t._countdownController.play()},this.stop=function(){t._videoController.stop(),t._countdownController.stop()},this.resume=function(){t._videoController.resume(),t._countdownController.resume()},this.pause=function(){t._videoController.pause(),t._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new b.default,this._countdownController=new E(j),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}return i(e,[{key:"addListeners",value:function(e,t,n){this._onStart=e,this._onPause=t,this._onEnded=n}},{key:"duration",get:function(){return Math.max(w*(this._video.duration||this._duration)*1e3,j)}}]),e}()},ffhghhcgf:function(e,t){e.exports={muted:"_1zkwj",bubble:"_2Zgm-",hasAuthor:"_7U2w9",forwardedIndicator:"_1EYt6",hasQuote:"nINd1",meta:"J26d7",bubbleOut:"_2R63d",bubbleIn:"_2g0bm",body:"_1-4qJ",player:"wJW7M",avatar:"TMd-Z",status:"_3l9hL",author:"_11ZKc",isForwarded:"qJm9j",quote:"_1PNK0",isGallery:"asmex"}},ffhhggjcj:function(e,t){e.exports={muted:"_3182g",container:"_3Durm",preview:"Q5IMh",caption:"_2_Q45",img:"_1lU4-"}},fhdffdech:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.fullPreview,n=e.fullPreviewSize,a=e.pdfPages,r=e.mimeType,o=e.filename;if(t&&n&&a){var u=l10n.t("attach_document_pdf_total_pages",{count:a,_plural:a});return i.createElement("div",{className:d.default.container,"data-js-attach-preview":!0},i.createElement("div",{className:d.default.preview},i.createElement(s.default,{type:l.FIT_TYPE.SCALE_DOWN,size:n},i.createElement("img",{src:t,className:d.default.img}))),i.createElement("div",{className:d.default.caption},u))}return i.createElement(c.default,{mimeType:r,filename:o})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("dgfecega"),s=a(l),u=n("becegcbegb"),c=a(u),f=n("ffhhggjcj"),d=a(f)},fibdihid:function(e,t){e.exports={muted:"ygVAO",container:"_1ikwU",status:"YDD6v",caption:"_3IJiH",linkPreview:"BWe1v",expired:"_3D6Pq",noCaption:"_2tpON",meta:"_1SFZJ"}},fidbefhib:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("biddiiafgd"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("dhfbfehaef"),m=a(h),b=n("hfhhcchgj"),g=a(b),v=n("fffdgbfji"),y=a(v),_=n("icghcjegh"),E=n("bffbahfgga"),j=a(E),w=n("bijffg"),O=a(w),C=n("becfabjeeg"),S=a(C),P=n("eadfaddcj"),M=a(P),T=n("bbjjjbicfb"),k=n("bddhdheedf"),N=n("bfbggcdbfb"),I=a(N),R=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.labelModel=null,n.onOk=function(){(0,k.logLabelOperationEvent)(I.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,n.props.onAddLabel?I.default.LABEL_TARGETS.ADD_LABEL_DIALOG:I.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);var e=n.state,t=e.labelName,a=e.labelColor;if(!e.labelNameError){var r=t&&t.trim(),o=n.validateLabelName(r||"");o.passed?(n.props.labelId&&n.props.onUpdateLabel?n.props.onUpdateLabel(n.props.labelId,a,t):n.props.onAddLabel&&n.props.onAddLabel(t||"",a),n.props.onCancel?n.props.onCancel():p.default.closeModal()):n.setState({labelNameError:o.error})}},n.onCancel=function(){(0,k.logLabelOperationEvent)(I.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,n.props.onAddLabel?I.default.LABEL_TARGETS.ADD_LABEL_DIALOG:I.default.LABEL_TARGETS.EDIT_LABEL_DIALOG),n.props.onCancel?n.props.onCancel():p.default.closeModal()},n.onLabelNameChange=function(e){var t=n.validateLabelName(e);n.setState({labelName:e,labelNameError:t.passed?void 0:t.error})},n.validateLabelName=function(e){var t=!0,a=null;return e&&""!==e.trim()||(t=!1),n.labelModel&&n.labelModel.name===e||0===O.default.where({name:e}).length||(t=!1,a=y.default.t("add_label_duplicate_name_error")),{passed:t,error:a}},n.stopPropagation=function(e){e.stopPropagation()},n.props.labelId&&(n.labelModel=O.default.assertGet(n.props.labelId)),n.state={labelColor:n.labelModel&&n.labelModel.color||void 0,labelName:n.labelModel&&n.labelModel.name||"",labelNameError:void 0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onAddLabel?(O.default.getNewLabelColor().then(function(t){e.setState({labelColor:t||M.default.DEFAULT_SMB__NEW_LABEL_COLOR})}),(0,k.logLabelOperationEvent)(I.default.LABEL_OPERATIONS.VIEW,1,I.default.LABEL_TARGETS.ADD_LABEL_DIALOG)):this.props.onUpdateLabel&&(0,k.logLabelOperationEvent)(I.default.LABEL_OPERATIONS.VIEW,1,I.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=!this.validateLabelName(this.state.labelName.trim()).passed;return u.createElement(f.default,{title:this.props.onUpdateLabel?y.default.t("edit_label_title"):y.default.t("add_new_label_title"),okText:y.default.t("web_ok"),onOK:this.onOk,okDisabled:t,onCancel:this.onCancel},u.createElement("div",{className:j.default.inputContainer},u.createElement("div",{className:j.default.label},this.state.labelColor?(0,_.renderLabelSvg)((0,T.intColorToHex)(this.state.labelColor)):u.createElement(S.default,{stroke:5,size:20})),u.createElement("div",{className:j.default.input},u.createElement(m.default,{handlers:e},u.createElement(g.default,{hideFloatingLabel:!0,showRemaining:!0,supportsEmoji:!0,value:this.state.labelName,error:this.state.labelNameError,maxLength:M.default.SMB_LABELS.MAX_LABEL_LENGTH,onChange:this.onLabelNameChange,placeholder:y.default.t("add_new_label_name_placeholder")})))))}}]),t}(u.Component);R.displayName="AddOrEditLabelPopup",t.default=R},fijafegab:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("effbcehec"),h=a(p),m=n("bhifaggjcb"),b=a(m),g=n("eedjbihej"),v=a(g),y=n("bfjegcdcag"),_=a(y),E=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,a=e.subtitle,o=e.titleOnClick,i=e.a8nText,l=e["data-list-scroll-offset"],s=e.theme,u=e.animation,f=s?_.default[s]:null,p=(0,d.default)(_.default.container,r({},_.default.animate,u),f),m=void 0;return n&&(m=c.createElement("div",{className:_.default.title,"data-a8n":h.default.key(i),role:o?"button":null,onClick:o},c.createElement(b.default,{side:a,ellipsify:!0},c.createElement(v.default,{theme:"section-title"},n)))),c.createElement("div",{className:p,"data-list-scroll-offset":l},m,t)}}]),t}(c.PureComponent);E.defaultProps={animation:!0},E.displayName="DrawerSection",t.default=E},fjeagagdf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("hbhijdici"),d=a(f),p=n("ejiicdbii"),h=a(p),m=n("ebcagbhefg"),b=a(m),g=n("dabbjcaadh"),v=a(g),y=n("cbdbcgchaj"),_=a(y),E=n("cajijabhgb"),j=r(E),w=n("eadfaddcj"),O=a(w),C=n("biecbbiiee"),S=a(C),P=n("dcdiaahjj"),M=a(P),T=n("gbfffciea"),k=a(T),N=n("eceadcicaf"),I=a(N),R=n("fbjjefaic"),A=a(R),D=n("ejbdjaifi"),x=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.msgCollectionChanged=function(t,n,a,r){var o=e.state.msgCollection;o!==t&&o!==n||e.setState({msgCollection:a,focusCtx:r&&(r.msg||r.collection)?r:e.state.focusCtx})},e.windowGainedFocus=function(){M.default.markAvailable();var t=e.state.chat;t&&t.isUser&&t.presence.subscribe().catch(j.WapDrop,function(){})},e.windowLostFocus=function(){M.default.markUnavailable(O.default.SEND_UNAVAILABLE_WAIT)},e.handleClearChat=function(t){e.state.chat===t&&e.setState({chat:void 0,msgCollection:void 0,focusCtx:void 0})},e.handleOpenChat=function(t,n,a){k.default.updateChatlistSelection(t);var r=e.openedChatInfo,o={},i=function(e){Object.assign(o,e)};e.state.chat!==t?e.setState({chat:t,msgCollection:n?n.collection:t.msgs,focusCtx:n,notifyChatRendered:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return a(e.newChatScrollInfo(r,n))}),updateOpenedChatInfo:i}):e.setState({msgCollection:n?n.collection:t.msgs,focusCtx:n,notifyChatRendered:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return a(e.newChatScrollInfo(r,n))}),updateOpenedChatInfo:i}),e.openedChatInfo=o},e.newChatScrollInfo=function(e,t){var n=t?t.msg||S.default.get(t.key):void 0;if(t&&n&&e){var a=e.chat,r=e.renderedMsgsInfo,o=e.visibleMsgOrder;if(a&&r&&o&&!d.default.isEmpty(r)&&!d.default.isEmpty(o)){var i=r[d.default.head(o).toString()],l=d.default.find(r,function(e,t){return t===n.id.toString()});if(l)return{wasVisible:!0,offset:l.offset};if(a===n.chat)return i&&n.t<i.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}},e.state={chat:void 0,msgCollection:void 0,focusCtx:void 0},e}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(k.default,"open_chat",this.handleOpenChat),this.props.listeners.add(k.default,"clear_chat",this.handleClearChat),this.props.listeners.add(window,"focus",this.windowGainedFocus),this.props.listeners.add(window,"blur",this.windowLostFocus)}},{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state||e.animate!==this.props.animate}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.chat,a=t.chat;if(n&&a!==n){this.props.listeners.add(n,"change:cmc:merge",this.msgCollectionChanged),a&&this.props.listeners.remove(a,"change:cmc:merge");if(!n.contact.isBusiness)return;var r=h.default.get(n.id);r&&!r.stale||h.default.find(n.id)}}},{key:"render",value:function(){var e=this.state,t=e.chat,n=e.msgCollection,a=e.focusCtx;return t&&n?c.createElement(v.default,{chat:t,groupMetadata:t.groupMetadata,chatPreference:b.default.get("defaultPreference"),focusCtx:a,msgCollection:n,notifyChatRendered:this.state.notifyChatRendered||function(){},updateOpenedChatInfo:this.state.updateOpenedChatInfo||function(){},key:t.id.toString()}):c.createElement(_.default,{animate:this.props.animate})}}]),t}(c.Component);x.displayName="Conversation",e.exports=(0,I.default)((0,A.default)((0,D.hoc)(x)))},gajigdged:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FooterType=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("fifhbjiec"),h=a(p),m=n("fffdgbfji"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("ejbdjaifi"),_=n("didfdhbecg"),E=a(_),j=n("cdjhjdcbeg"),w=a(j),O=n("ebjaejiaba"),C=a(O),S=n("bfdcadbbif"),P=a(S),M=n("dgjdeicghc"),T=a(M),k=n("ceffhbhahb"),N=a(k),I=t.FooterType={MANAGE_ADMINS:"MANAGE_ADMINS"},R=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handleForwardClick=function(){a.forwardIsEnabled&&(a.forwardIsEnabled=!1,a.props.onForward())},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(this.props.selections,"all"),this.firstRenderActive=this.props.startActive||!1,this.forwardIsEnabled=!0}},{key:"render",value:function(){var e=void 0,t=this.props.type,n=t===I.MANAGE_ADMINS?c.createElement(P.default,{name:"checkmark-light"}):c.createElement(P.default,{directional:!0,name:"send-light"});return d.default.size(this.props.selections.getSelected())>0?e=c.createElement("div",{className:(0,N.default)(T.default.controlsSummary,r({},T.default.adminSetting,t===I.MANAGE_ADMINS))},t!==I.MANAGE_ADMINS&&c.createElement(A,{chats:this.props.selections.getSelected()}),c.createElement("div",{"data-animate-btn":!0,className:this.firstRenderActive?T.default.btnActive:T.default.btnAction},c.createElement(w.default,{large:!0,onClick:this.handleForwardClick},n))):this.firstRenderActive=!1,c.createElement(E.default,{transitionName:"slide-up-down-footer",className:T.default.container},e)}}]),t}(c.Component);R.displayName="ChatSelectorFooter",t.default=(0,v.default)((0,y.hoc)(R));var A=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={chats:n.props.chats},n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.chats,n=e.chats;t=d.default.size(n)>d.default.size(t)?t.concat(d.default.difference(n,t)):d.default.intersection(t,n),this.setState({chats:t})}},{key:"render",value:function(){for(var e=d.default.map(this.state.chats,function(e){return e instanceof C.default?e.formattedTitle:e.formattedShortNameWithNonBreakingSpaces}),t=[],n=e.length-1;n>=0;n--)t.push(c.createElement(h.default,{className:T.default.item,key:n,text:e[n]})),n>0&&t.push(c.createElement("span",{key:"comma-"+n},b.default.t("enumeration_comma")));return c.createElement(E.default,{transitionName:"pop",className:T.default.summaryText},t)}}]),t}(c.Component);A.displayName="SelectedChatsList"},gbgcehdj:function(e,t){e.exports={muted:"_3yz2E",icon:"_3-N0F"}},gcbiehega:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("didfdhbecg"),d=a(f),p=n("hbhijdici"),h=a(p),m=n("cajijabhgb"),b=r(m),g=n("dhfbfehaef"),v=a(g),y=n("bdiiahhjbe"),_=a(y),E=n("eadfaddcj"),j=a(E),w=n("ceffhbhahb"),O=a(w),C=n("hjbcfjaai"),S=a(C),P=n("efgideggi"),M=a(P),T=n("djifeiaaea"),k=a(T),N=n("bffjfbgbg"),I=a(N),R=n("becfabjeeg"),A=a(R),D=n("bfjajhbdf"),x=a(D),L=n("gbfffciea"),F=a(L),U=n("fffdgbfji"),B=a(U),G=n("bjbedjfe"),V=a(G),W=n("ejbdjaifi"),H=n("bfdcadbbif"),Y=a(H),q=n("cccjfjdgcj"),K=a(q),z=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));Q.call(e);var n=e.props.initialStatusV3;if(e.props.quotedMsgKey){e.state={};var a=e.props.quotedMsgKey;if(-1!==h.default.findIndex(n.msgs.getModelsArray(),function(e){return e.id.toString()===a.toString()})){e.statusV3Snapshot=new M.default(n,a);e.statusV3Snapshot.getFirstUnread(n,!0,a).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(b.Unmount,function(){}).catch(b.EphemeralDrop,function(){}).catch(P.InvalidStatusV3Iterator,function(){_.default.error("Invalid iterator while loading first unread msg")(),F.default.openToast(c.createElement(x.default,{msg:B.default.t("status_v3_msg_not_found"),id:(0,D.genId)()})),e.props.closeStatusViewer()})}else e.state={loading:!0},n.loadMore(n.totalCount).then(function(){(e.setState({loading:!1}),-1!==h.default.findIndex(n.msgs.getModelsArray(),function(e){return e.id.toString()===a.toString()}))?(e.statusV3Snapshot=new M.default(n,a),e.statusV3Snapshot.getFirstUnread(n,!0,a).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(b.Unmount,function(){}).catch(b.EphemeralDrop,function(){}).catch(P.InvalidStatusV3Iterator,function(){_.default.error("Invalid iterator while loading first unread msg")(),F.default.openToast(c.createElement(x.default,{msg:B.default.t("status_v3_msg_not_found"),id:(0,D.genId)()})),e.props.closeStatusViewer()})):(e.props.onMsgNotFound&&e.props.onMsgNotFound(),F.default.openToast(c.createElement(x.default,{msg:B.default.t("status_v3_msg_not_found"),id:(0,D.genId)()})),e.props.closeStatusViewer())}).catch(function(){F.default.openToast(c.createElement(x.default,{msg:B.default.t("status_v3_msg_not_found"),id:(0,D.genId)()})),e.props.closeStatusViewer()}).finally(function(){e.setState({loading:!1})})}else{var r=e.props.initialStatusMsg;e.statusV3Snapshot=new M.default(n);var l=e.statusV3Snapshot.getFirstUnread(n,!0,r&&r.id);l.isFulfilled()?e.state={}:e.state={loading:!0},l.checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(b.Unmount,function(){}).catch(b.EphemeralDrop,function(){}).catch(P.InvalidStatusV3Iterator,function(){_.default.error("Invalid iterator while loading first unread msg")(),F.default.openToast(c.createElement(x.default,{msg:B.default.t("status_v3_msg_not_found"),id:(0,D.genId)()})),e.props.closeStatusViewer()})}return e}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.preloadNextStatus()}},{key:"componentDidUpdate",value:function(){this.preloadNextStatus()}},{key:"render",value:function(){var e=this,t=this.state.iterator,n=void 0,a=void 0,r=void 0,o=void 0,i=void 0,l=void 0,s=void 0,u=void 0;t&&(i=this.statusV3Snapshot,l=i.statuses[t.statusIdx],s=l.statusV3,u=l.msgs[t.msgIdx],i.hasPrev(t)&&(r=c.createElement("div",{className:K.default.chevronLeft},c.createElement(Y.default,{name:"chevron-left"})),o=c.createElement("div",{className:K.default.chevronLeftBg,onClick:this.onPrev})),i.hasNext(t)&&(n=c.createElement("div",{className:K.default.chevronRight},c.createElement(Y.default,{name:"chevron-right"})),a=c.createElement("div",{className:K.default.chevronRightBg,onClick:function(){e.onNext(),e.markRead(s,u)}})));var f={left:this.onPrev,right:this.onNext},p=void 0;!this.state.transitioning&&!this.state.loading&&u&&t&&l&&s&&(p=c.createElement("div",{className:K.default.playerContainer,key:u.id},c.createElement(S.default,{key:u.id,statusV3:s,msg:u,mediaData:u.mediaData,msgIdx:t.msgIdx,totalMsgs:l.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var h=(0,O.default)(K.default.v3X,{}),m=c.createElement("button",{className:h,onClick:function(){return e.props.closeStatusViewer(!0)}},c.createElement(Y.default,{name:"status-v3-x"})),b=(0,O.default)(K.default.backIcon,{}),g=c.createElement("button",{className:b,onClick:function(){return e.props.closeStatusViewer()}},c.createElement(Y.default,{name:"back-light",directional:!0})),y=void 0;return this.state.loading&&(y=c.createElement("div",{className:K.default.mediaStateControls},c.createElement("button",null,c.createElement(A.default,{size:50,stroke:4,color:"white"})))),c.createElement(v.default,{handlers:f},c.createElement("div",{className:K.default.viewer,"data-animate-status-v3-viewer":!0},m,g,o,r,a,n,y,c.createElement(d.default,{transitionName:"status-v3-player",transitionAppear:!0},p)))}}]),t}(c.Component),Q=function(){var e=this;this.onClickProgressBar=function(t){var n=e.state.iterator;if((!n||t!==n.msgIdx)&&n){var a=e.statusV3Snapshot.statusAt(n,t);a.isFulfilled()||e.setState({loading:!0}),a.checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t})}).catch(b.Unmount,function(){}).catch(b.EphemeralDrop,function(){}).catch(P.InvalidStatusV3Iterator,function(){_.default.error("Invalid iterator while getting next status msg")()}).catch(P.StatusV3LoadingError,function(){_.default.error("No more status v3 while preloading next status")()}).finally(function(){e.setState({loading:!1})})}},this.preloadNextStatus=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasNext(t)){e.statusV3Snapshot.getNext(t).checkpoint(e.props.rejectOnUnmount()).then(function(t){var n=e.statusV3Snapshot.statuses[t.statusIdx],a=n.msgs[t.msgIdx];if(!a)throw new P.StatusV3MsgNotFound;if(a.type===j.default.MSG_TYPE.CHAT)k.default.load(a.font).catch(function(){});else{var r=a.mediaData;r&&r.mediaStage!==I.default.STAGE.RESOLVED&&a.forceDownloadMedia()}}).catch(b.Unmount,function(){}).catch(b.EphemeralDrop,function(){}).catch(P.InvalidStatusV3Iterator,function(){_.default.error("Invalid iterator while preloading next status")()}).catch(P.StatusV3MsgNotFound,function(){_.default.error("Error finding next status while preloading next status")()}).catch(P.StatusV3LoadingError,function(){_.default.error("No more status v3 while preloading next status")()})}},this.onPrev=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasPrev(t)){var n=t.statusIdx;e.statusV3Snapshot.getPrev(t).checkpoint(e.props.rejectOnUnmount()).then(function(t){t.statusIdx===n?e.setState({iterator:t}):(e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState({iterator:t,transitioning:!1})}).catch(b.Unmount,function(){}))}).catch(b.Unmount,function(){}).catch(b.EphemeralDrop,function(){}).catch(P.InvalidStatusV3Iterator,function(){_.default.error("Invalid iterator while getting previous status msg")()}).catch(P.StatusV3LoadingError,function(){_.default.error("No more status v3 while preloading next status")()})}},this.onNext=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasNext(t)){var n=t.statusIdx,a=e.statusV3Snapshot.getNext(t);a.isFulfilled()||e.setState({loading:!0}),a.checkpoint(e.props.rejectOnUnmount()).then(function(t){t.statusIdx===n?e.setState({iterator:t}):(e.setState({transitioning:!0,loading:!1}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState({iterator:t,transitioning:!1})}).catch(b.Unmount,function(){}))}).catch(b.Unmount,function(){}).catch(b.EphemeralDrop,function(){}).catch(P.InvalidStatusV3Iterator,function(){_.default.error("Invalid iterator while getting next status msg")(),e.closeStatusViewer()}).catch(P.StatusV3LoadingError,function(){_.default.error("No more status v3 while preloading next status")()}).finally(function(){e.setState({loading:!1})})}else e.closeStatusViewer()},this.markRead=function(t,n){if(n){var a=t.unreadCount,r=t.totalCount;h.default.findIndex(t.msgs.getModelsArray(),n)>=r-a&&t.sendReadStatus(n.id,n.author);var o=h.default.find(e.statusV3Snapshot.statuses,{statusV3:t});o&&o.readMsgKeys.push(n.id.toString())}},this.closeStatusViewer=function(t){e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.props.closeStatusViewer(t)}).catch(b.Unmount,function(){})}};z.displayName="StatusV3Viewer",e.exports=(0,V.default)((0,W.hoc)(z))},gcdabficb:function(e,t){e.exports={muted:"_1mv2_",container:"_2U-0s",wallpaperColorCanvas:"_1FReI",wallpaperColorEmpty:"_2SFLd",canvasActive:"_3QlfT",canvasHover:"_3Mhyi"}},gcehifbbc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o(e,d,p,h,t)}function o(e,t,n,a,r){var o=void 0;if(207===e.status){var u={};for(var c in e)if(S.default.isWid(c)){var f=e[c];if((403!==f||!O.default.supportsFeature(O.default.F.GROUPS_V_4_JOIN_PERMISSION))&&207!==f){u[f]||(u[f]=[]);var d=j.default.get(c);d&&u[f].push(d)}}var p=[];for(var h in u){var m=i(t,n,s,parseInt(h,10),u[h]);m&&p.push(m)}o=p.length>0?p.join("\n"):a()}else o=i(t,n,l,e.status,r);return o}function i(e,t,n,a,r){var o=r.map(function(e){return e.formattedShortName}).join(l10n.t("enumeration_comma")),i=200===a;return(i?e(o,r.length):t(o,r.length,a))+(i?"":n(a,r.length))}function l(e,t){var n="";switch(e){case 403:n=" "+l10n.t("action_group_failed_403");break;case 408:n=" "+l10n.t("action_participant_failed_408");break;case 404:n=" "+l10n.t("action_group_failed_404");break;case 429:n=" "+l10n.t("action_group_failed_429")}return n}function s(e,t){var n="";switch(e){case 401:case 409:break;case 404:n=" "+l10n.t("action_participant_failed_404",{_plural:t});break;case 408:n=" "+l10n.t("action_participant_failed_408",{_plural:t});break;case 500:n=" "+l10n.t("action_participant_failed_500");break;default:n=" "+l10n.t("action_participant_failed_unknown")}return n}function u(e,t){return l10n.t("action_participant_added",{participantNames:e,_plural:t})}function c(e,t,n){return l10n.t("action_participant_add_failed",{participantNames:e,_plural:t})}function f(){return l10n.t("action_participant_add_failed_partial")}function d(e,t){return l10n.t("action_participant_removed",{participantNames:e,_plural:t})}function p(e,t,n){switch(n){case 406:return l10n.t("action_participant_remove_failed_remove_creator",{participant:e});default:return l10n.t("action_participant_remove_failed",{participantNames:e,_plural:t})}}function h(){return l10n.t("action_participant_remove_failed_partial")}function m(e,t){return l10n.t("action_participant_promoted",{participantNames:e,_plural:t})}function b(e,t,n){return l10n.t("action_participant_promote_failed",{participantNames:e,_plural:t})}function g(){return l10n.t("action_participant_promote_failed_partial")}function v(e,t,n){switch(n){case 406:return l10n.t("action_participant_demote_failed_group_creator",{participant:e});default:return l10n.t("action_participant_demote_failed",{participantNames:e,_plural:t})}}function y(e,t){return l10n.t("action_participant_demoted",{participantNames:e,_plural:t})}function _(){return l10n.t("action_participant_demote_failed_partial")}Object.defineProperty(t,"__esModule",{value:!0}),t.formatRemoveResult=r,t.formatResult=o,t.formatParticipantActionString=i,t.formatGroupStatusReasonString=l,t.formatParticipantStatusReasonString=s,t.addSuccessString=u,t.addFailedString=c,t.addPartialFailedString=f,t.removeSuccessString=d,t.removeFailedString=p,t.removePartialFailedString=h,t.promoteSuccessString=m,t.promoteFailedString=b,t.promotePartialFailedString=g,t.demoteFailedString=v,t.demoteSuccessString=y,t.demotePartialFailedString=_;var E=n("dhigahgdjb"),j=a(E),w=n("ccaaiecfib"),O=a(w),C=n("jccfhaecf"),S=a(C)},gchdabbf:function(e,t){e.exports={muted:"_1TD5e",multiControls:"_1hhkM",multiselectIcon:"_1wRbe",multiCount:"_11QIG",mediaGalleryTheme:"yrOIH"}},gddafccec:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ccaaiecfib"),f=a(c),d=n("ejbdjaifi"),p=n("bghbcggigd"),h=a(p),m=n("bebbajcbbb"),b=a(m),g=n("ebgedhejjf"),v=a(g),y=n("ihfccfgdf"),_=a(y),E=n("eadfaddcj"),j=(a(E),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayAuthor,a=e.displayType,r=e.quotedMsg;if(!f.default.supportsFeature(f.default.F.PAYMENTS))return u.createElement(b.default,{msg:t,displayAuthor:n,displayType:a,quotedMsg:r});var o=null;switch(o=t.amount1000?u.createElement(h.default,{isGroupMsg:t.isGroupMsg,isSentByMe:t.isSentByMe,currency:t.currency,amount1000:t.amount1000,receiverJid:t.receiverJid,paymentStatus:t.paymentStatus,messageStubType:t.subtype,msg:t}):l10n.t("web_payment_details_unavailable"),t.subtype){case"ciphertext":return u.createElement(b.default,{msg:t,displayAuthor:n,displayType:a,quotedMsg:r,paymentInfo:o,placeholderText:l10n.t("web_payment_ciphertext_placeholder")});case"futureproof":return u.createElement(b.default,{msg:t,displayAuthor:n,displayType:a,quotedMsg:r,paymentInfo:o,placeholderText:l10n.t("web_payment_futureproof_placeholder")});case"send":case"request":return u.createElement(v.default,{msg:t,displayAuthor:n,displayType:a,quotedMsg:r,paymentInfo:o});default:return u.createElement(b.default,{msg:t,displayAuthor:n,displayType:a,quotedMsg:r})}}}]),t}(u.Component));j.CONCERNS={msg:["amount1000","currency","id","isGroupMsg","isSentByMe","paymentNoteMsg","paymentStatus","receiverJid","subtype"]},j.displayName="PaymentMessage",t.default=(0,_.default)((0,d.hoc)(j),j.CONCERNS)},gdeficihh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("eadfaddcj"),f=(a(c),n("dfjgaaeeeb")),d=a(f),p=n("ihfccfgdf"),h=a(p),m=n("ejbdjaifi"),b=n("bbccbjiaeb"),g=a(b),v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.displayType,n=e.msg;return n.mediaData?u.createElement(d.default,{displayType:t,mediaData:n.mediaData,msg:n}):u.createElement(g.default,{msg:n,displayType:t})}}]),t}(s.PureComponent);v.CONCERNS={msg:["mediaData"]},v.displayName="MsgFailIcon",t.default=(0,h.default)((0,m.hoc)(v),v.CONCERNS)},gdhdegbhg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("bggdbeiaie"),h=a(p),m=n("hjbcfjaai"),b=n("cihhicgaca"),g=a(b),v=n("eadfaddcj"),y=a(v),_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.statusV3,a=t.contact,r=void 0,o=n.lastStatus;r=o&&o.type===y.default.MSG_TYPE.CHAT?u.default.createElement(E,{msg:o}):u.default.createElement(j,{renderedThumbnail:n.renderedThumbnail});var i=void 0;return a.statusMute||(i=u.default.createElement(h.default,{statusV3:n})),u.default.createElement("div",{className:g.default.container,role:this.props.role||"",onClickCapture:function(t){e.props.onClick&&e.props.onClick(),t.stopPropagation(),t.preventDefault()}},i,r)}}]),t}(s.PureComponent);_.CONCERNS={statusV3:["renderedThumbnail","lastStatus"],contact:["statusMute"]},_.displayName="StatusV3Thumbnail";var E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg,t=e.statusV3TextBg,n={backgroundColor:t};return u.default.createElement("div",{className:g.default.statusImage,style:n},u.default.createElement("div",{className:g.default.textThumb},u.default.createElement(m.StatusV3Text,{msg:e,theme:"status-thumbnail"})))}}]),t}(s.PureComponent);E.displayName="StatusV3TextWrapper";var j=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.renderedThumbnail;e&&e.retain()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.renderedThumbnail,n=e.renderedThumbnail;t!==n&&(t&&t.autorelease(),n&&n.retain())}},{key:"componentWillUnmount",value:function(){var e=this.props.renderedThumbnail;e&&e.autorelease()}},{key:"render",value:function(){var e=this.props.renderedThumbnail,t={backgroundImage:e&&"url("+e.url()+")"};return u.default.createElement("div",{className:g.default.statusImage,style:t})}}]),t}(s.PureComponent);j.displayName="StatusV3ImgWrapper",t.default=(0,f.default)((0,d.hoc)(_),_.CONCERNS)},gecdhggfj:function(e,t){e.exports={muted:"_1r2Wd",header:"sw9Gc"}},geegjgjdg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t,n=!1!==e.displayAuthor?!e.msg.isSentByMe&&e.msg.isGroupMsg:null,a=e.msg.showForwarded(),o=n?l.createElement("div",{className:y.default.author},l.createElement(u.default,{msg:e.msg,contact:e.msg.senderObj})):null,i=e.displayType===f.default.DISP_TYPE.GALLERY||e.hideMeta?null:l.createElement("div",{className:y.default.meta},l.createElement(g.default,{msg:e.msg})),s=a?l.createElement(m.default,{msg:e.msg,className:y.default.forwardedIndicator}):null,c=e.quotedMsg?l.createElement("div",{className:y.default.quote},e.quotedMsg):null,d=(0,p.default)(y.default.bubble,(t={},r(t,y.default.forwarded,a),r(t,y.default.hasAuthor,n),r(t,y.default.hasCaption,e.hasCaption),r(t,y.default.isPSA,e.msg.isPSA),t));return l.createElement("div",{className:d},o,s,c,e.children,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("cehjjfagii"),u=a(s),c=n("eadfaddcj"),f=a(c),d=n("ceffhbhahb"),p=a(d),h=n("dfeecdfijg"),m=a(h),b=n("cieaeggjg"),g=a(b),v=n("bafjbifhgj"),y=a(v);o.displayName="MediaBubble"},gegihfgbf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("fifhbjiec"),h=a(p),m=n("ihfccfgdf"),b=a(m),g=n("bcjbggbah"),v=a(g),y=n("ejbdjaifi"),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.quickReply,n=t.shortcut,a=t.message,o=e.query,i=e.selected,l=e.onMouseDown,s=e.onMouseEnter,u=e.onMouseUp,f=n.slice(o.length);return c.createElement("div",{className:(0,d.default)(v.default.result,r({},v.default.selected,i)),onMouseDown:l,onMouseUp:u,onMouseEnter:s},c.createElement("span",{className:v.default.slash},"/"),c.createElement(h.default,{className:v.default.shortcutPrefix,text:o}),c.createElement(h.default,{className:v.default.shortcutSuffix,text:f}),c.createElement(h.default,{className:v.default.message,ellipsify:!0,text:a}))}}]),t}(c.Component);_.CONCERNS={quickReply:["shortcut","message"]},_.displayName="Result",t.default=(0,b.default)((0,y.hoc)(_),_.CONCERNS)},gejdcbjjd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.side?l.createElement("div",{className:p.default.side},e.side):null,n=(0,u.default)(p.default.container,r({},p.default.multiline,e.multiline));return l.createElement("div",{"data-a8n":f.default.key(e.a8nText),className:n,role:e.onClick?"button":null,onClick:e.onClick},l.createElement("div",{className:p.default.block},l.createElement("div",{className:p.default.main},e.children),t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("ddhijeejag"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("ceffhbhahb"),u=a(s),c=n("effbcehec"),f=a(c),d=n("igfejfjdb"),p=a(d);o.displayName="DrawerBlock"},gejffefga:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("hbhijdici"),f=a(c),d=n("ddhijeejag"),p=a(d),h=n("ceffhbhahb"),m=a(h),b=n("dhbjfhjgbc"),g=a(b),v=n("eceadcicaf"),y=a(v),_=n("bjbedjfe"),E=a(_),j=n("ejbdjaifi"),w=n("gbfffciea"),O=a(w),C=n("bcifhbgija"),S=a(C),P=n("bgddggdhc"),M=n("cajijabhgb"),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(M),k=n("ceddibdhdb"),N=a(k),I=0,R=0,A=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));D.call(n);var a=void 0;O.default.getConversationHeaderOffset(function(e){a=e.right});var r={resizeDirection:I,currentAction:R,resizeStartMousePosition:{x:0,y:0},resizeStartPiPStyle:{width:0,bottom:0,left:0},moveStartMousePosition:{x:0,y:0},moveStartPositionStyle:{left:0,bottom:0},previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:a};return n.props.animationStartStyle?n.state=s({},r,n.props.animationStartStyle):n.state=s({},r,n.getInitialStyle()),n}return l(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.setStateTimer.cancel(),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.handleResize)}},{key:"componentDidMount",value:function(){var e=this;if(!this.props.animationStartStyle)return this.addListeners(),void this.handleResize();var t=this.props.animationStartStyle,n=this.getInitialStyle(),a=t.width/this.props.aspectRatio,r=t.height,o=r/a,i=(a-r)/2/o,l=s({},n,{height:n.width/this.props.aspectRatio,scaleY:[1,o],translateY:[0,i]}),u=(0,S.default)((0,P.forbiddenAssertDOMNode)(this),l,{easing:"easeInOutQuart",duration:400});this.initialAnimationPromise=Promise.race([u,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(function(){e.initialAnimationPromise=null,e.setState(n),e.addListeners(),e.handleResize()}).catch(T.Unmount,function(){})}},{key:"componentWillReceiveProps",value:function(e){if(e.aspectRatio!==this.props.aspectRatio&&e.initialStyle){if(this.initialAnimationPromise)return void this.setStateTimer.onOrAfter(400,e.initialStyle);var t=e.initialStyle.width,n=e.initialStyle.left+t-(this.state.width+this.state.left),a=e.initialStyle.bottom+t/e.aspectRatio-(this.state.bottom+this.state.width/this.props.aspectRatio);Math.abs(n)<.1&&Math.abs(a)<.1?this.setState(e.initialStyle):this.setState({width:t})}}},{key:"getDimensions",value:function(){return{width:this.state.width,height:this.state.width/this.props.aspectRatio}}},{key:"doOverlap",value:function(e,t){return!(e.right<=t.left||e.left>=t.right)&&!(e.bottom<=t.top||e.top>=t.bottom)}},{key:"escapeDistance",value:function(e,t){return{toLeftDistance:e.right-t.left,toBottomDistance:t.bottom-e.top,toRightDistance:t.right-e.left,toTopDistance:e.bottom-t.top}}},{key:"isTranslationOutOfBound",value:function(e,t){var n=window.innerWidth,a=window.innerHeight,r=this.state.left+e,o=this.state.bottom+t,i=this.state.width,l=i/this.props.aspectRatio,s=this.props.margin.x,u=n-i-this.props.margin.x,c=this.props.margin.y,f=a-l-this.props.margin.y;return c>o||o>f||(s>r||r>u)}},{key:"render",value:function(){var e=this.getDimensions(),t={width:e.width,height:e.height,bottom:this.state.bottom+"px",left:this.state.left+"px"};return p.default.createElement("div",{className:(0,m.default)(this.props.className,g.default.moveResizeComponentContainer),style:t},p.default.createElement("div",{className:(0,m.default)(g.default.topResizer,g.default.resizer,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.getResizerCallback(I)}),p.default.createElement("div",{className:(0,m.default)(g.default.bottomResizer,g.default.resizer,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.getResizerCallback(1)}),p.default.createElement("div",{className:(0,m.default)(g.default.leftResizer,g.default.resizer,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.getResizerCallback(2)}),p.default.createElement("div",{className:(0,m.default)(g.default.rightResizer,g.default.resizer,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.getResizerCallback(3)}),p.default.createElement("div",{className:(0,m.default)(g.default.topRightResizer,g.default.resizer,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.getResizerCallback(4)}),p.default.createElement("div",{className:(0,m.default)(g.default.topLeftResizer,g.default.resizer,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.getResizerCallback(5)}),p.default.createElement("div",{className:(0,m.default)(g.default.bottomRightResizer,g.default.resizer,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.getResizerCallback(6)}),p.default.createElement("div",{className:(0,m.default)(g.default.bottomLeftResizer,g.default.resizer,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.getResizerCallback(7)}),p.default.createElement("div",{className:(0,m.default)(g.default.moveable,r({},g.default.defaultCursor,1===this.state.currentAction)),onMouseDown:this.onMoveStart},this.props.children))}}]),t}(d.Component),D=function(){var e=this;this.setStateTimer=new N.default(function(t){e.setState(t)}),this.addListeners=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),window.addEventListener("resize",e.handleResize),e.props.listeners.add(O.default,"floater_escape_overlap",e.escapeOverlapMove)},this.getInitialStyle=function(){return e.props.initialStyle?{width:e.props.initialStyle.width,left:e.props.initialStyle.left,bottom:e.props.initialStyle.bottom}:{width:e.props.minWidth,left:e.props.margin.x,bottom:e.props.margin.y}},this.getResizerCallback=function(t){return function(n){0===n.button&&e.setState({resizeDirection:t,currentAction:1,resizeStartPiPStyle:{width:e.state.width,left:e.state.left,bottom:e.state.bottom},resizeStartMousePosition:{x:n.clientX,y:n.clientY}}),n.stopPropagation()}},this.onMoveStart=function(t){0===t.button&&e.setState({currentAction:2,moveStartPositionStyle:{left:e.state.left,bottom:e.state.bottom},moveStartMousePosition:{x:t.clientX,y:t.clientY}}),t.stopPropagation()},this.handleResize=f.default.debounce(function(){var t=window.innerHeight-2*e.props.margin.y,n=window.innerWidth-2*e.props.margin.x,a=e.state.width,r=a/e.props.aspectRatio,o=e.state.bottom,i=e.state.left;r>t&&(r=t,a=t*e.props.aspectRatio),a>n&&(r=n/e.props.aspectRatio,a=n),o+r>t+e.props.margin.y&&(o=t+e.props.margin.y-r),i+a>n+e.props.margin.x&&(i=n+e.props.margin.x-a),e.state.previousWindowSize.width<i+a+e.props.margin.x+3&&(i=n+e.props.margin.x-a),e.state.previousWindowSize.height<o+r+e.props.margin.y+3&&(o=t+e.props.margin.y-r);var l=e.state.previousConvPanelRightBorder&&Math.abs(e.state.left+a+e.props.margin.x-e.state.previousConvPanelRightBorder)<3,s=void 0;O.default.getConversationHeaderOffset(function(e){s=e.right});var u=s&&s<window.innerWidth;l&&s&&u&&(i=s-e.props.margin.x-a);var c={bottom:Math.max(e.props.margin.y,o),left:Math.max(e.props.margin.x,i),width:Math.max(e.props.minWidth,a),previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:s},d=f.default.pick(e.state,["bottom","left","width","previousWindowSize","previousConvPanelRightBorder"]);f.default.isEqual(c,d)||e.setState(c)},50),this.validateMoveResize=function(t,n,a,r){var o=t,i=n,l=a,s=0,u=0,c=0;switch(r){case 1:s=e.state.resizeStartPiPStyle.width,u=e.state.resizeStartPiPStyle.left,c=e.state.resizeStartPiPStyle.bottom;break;case 2:s=e.state.width,u=e.state.moveStartPositionStyle.left,c=e.state.moveStartPositionStyle.bottom}var d=window.innerHeight,p=window.innerWidth,h=s+o,m=h/e.props.aspectRatio,b=c+l,g=f.default.round(b,2),v=u+i,y=f.default.round(v,2),_=e.props.minWidth,E=f.default.round(e.props.margin.y,2),j=f.default.round(d-m-e.props.margin.y,2),w=f.default.round(e.props.margin.x,2),O=f.default.round(p-h-e.props.margin.x,2);if(E>g||g>j)switch(r){case 1:l=0,i=0,o=0;break;case 2:l=0}if(w>y||y>O)switch(r){case 1:l=0,i=0,o=0;break;case 2:i=0}if(o&&b+m+e.props.margin.y>d)switch(r){case 1:l=0,i=0,o=0}if(o&&v+h+e.props.margin.x>p)switch(r){case 1:l=0,i=0,o=0}return(h<_||m+2*e.props.margin.y>d||h+2*e.props.margin.x>p)&&(l=0,i=0,o=0),{deltaWidth:o,deltaBottom:l,deltaLeft:i}},this.onMouseMove=function(t){var n=0,a=0,r=0,o=0,i=void 0;switch(e.state.currentAction){case R:return;case 1:switch(e.state.resizeDirection){case I:a=e.state.resizeStartMousePosition.y-t.clientY,n=a*e.props.aspectRatio;break;case 1:a=t.clientY-e.state.resizeStartMousePosition.y,n=a*e.props.aspectRatio,o=-a;break;case 3:n=t.clientX-e.state.resizeStartMousePosition.x,a=n/e.props.aspectRatio,o=-a;break;case 2:n=e.state.resizeStartMousePosition.x-t.clientX,a=n/e.props.aspectRatio,o=-a,r=-n;break;case 4:n=Math.max(t.clientX-e.state.resizeStartMousePosition.x,e.props.aspectRatio*(e.state.resizeStartMousePosition.y-t.clientY)),a=n/e.props.aspectRatio;break;case 5:n=Math.max(e.state.resizeStartMousePosition.x-t.clientX,e.props.aspectRatio*(e.state.resizeStartMousePosition.y-t.clientY)),a=n/e.props.aspectRatio,r=-n;break;case 6:n=Math.max(t.clientX-e.state.resizeStartMousePosition.x,e.props.aspectRatio*(t.clientY-e.state.resizeStartMousePosition.y)),a=n/e.props.aspectRatio,o=-a;break;case 7:n=Math.max(e.state.resizeStartMousePosition.x-t.clientX,e.props.aspectRatio*(t.clientY-e.state.resizeStartMousePosition.y)),a=n/e.props.aspectRatio,o=-a,r=-n}i=e.validateMoveResize(n,r,o,1);var l=0,s=0,u=0;if(0===i.deltaWidth&&0===i.deltaLeft&&0===i.deltaBottom){if(n<0)switch(e.state.resizeDirection){case I:case 4:n=e.props.minWidth-e.state.resizeStartPiPStyle.width,o=0,r=0;break;case 5:n=e.props.minWidth-e.state.resizeStartPiPStyle.width,r=-n,o=0;break;case 1:case 3:case 6:n=e.props.minWidth-e.state.resizeStartPiPStyle.width,a=n/e.props.aspectRatio,o=-a,r=0;break;case 2:case 7:n=e.props.minWidth-e.state.resizeStartPiPStyle.width,a=n/e.props.aspectRatio,o=-a,r=-n}else if(n>0){var c=e.state.resizeStartPiPStyle.width/e.props.aspectRatio;switch(e.state.resizeDirection){case I:case 4:n=Math.min(window.innerWidth-e.props.margin.x-e.state.resizeStartPiPStyle.width-e.state.resizeStartPiPStyle.left,e.props.aspectRatio*(window.innerHeight-e.props.margin.y-c-e.state.resizeStartPiPStyle.bottom))-.1;break;case 5:n=Math.min(e.state.resizeStartPiPStyle.left-e.props.margin.x,e.props.aspectRatio*(window.innerHeight-e.props.margin.y-c-e.state.resizeStartPiPStyle.bottom))-.1,a=n/e.props.aspectRatio,r=-n;break;case 1:case 3:case 6:n=Math.min(window.innerWidth-e.props.margin.x-e.state.resizeStartPiPStyle.width-e.state.resizeStartPiPStyle.left,e.props.aspectRatio*(e.state.resizeStartPiPStyle.bottom-e.props.margin.y))-.1,a=n/e.props.aspectRatio,o=-a;break;case 2:case 7:n=Math.min(e.state.resizeStartPiPStyle.left-e.props.margin.x,e.props.aspectRatio*(e.state.resizeStartPiPStyle.bottom-e.props.margin.y))-.1,a=n/e.props.aspectRatio,o=-a,r=-n}}l=e.state.resizeStartPiPStyle.width+n,s=e.state.resizeStartPiPStyle.left+r,u=e.state.resizeStartPiPStyle.bottom+o,e.setState({width:l,left:s,bottom:u})}else l=e.state.resizeStartPiPStyle.width+i.deltaWidth,s=e.state.resizeStartPiPStyle.left+i.deltaLeft,u=e.state.resizeStartPiPStyle.bottom+i.deltaBottom,e.setState({width:l,left:s,bottom:u});e.props.onResize&&e.props.onResize(l,s,u);break;case 2:r=t.clientX-e.state.moveStartMousePosition.x,o=e.state.moveStartMousePosition.y-t.clientY,i=e.validateMoveResize(n,r,o,2);var f=0,d=0;f=0!==r&&0===i.deltaLeft?r>0?window.innerWidth-e.state.width-e.props.margin.x:e.props.margin.x:e.state.moveStartPositionStyle.left+i.deltaLeft,d=0!==o&&0===i.deltaBottom?o>0?window.innerHeight-e.state.width/e.props.aspectRatio-e.props.margin.y-.1:e.props.margin.y:e.state.moveStartPositionStyle.bottom+i.deltaBottom,e.setState({left:f,bottom:d}),e.props.onMove&&e.props.onMove(f,d)}},this.onMouseUp=function(t){e.setState({currentAction:R})},this.getRect=function(){return{top:window.innerHeight-e.state.bottom-e.state.width/e.props.aspectRatio,left:e.state.left,bottom:window.innerHeight-e.state.bottom,right:e.state.left+e.state.width}},this.escapeOverlapMove=function(t,n){var a=t.getBoundingClientRect(),r={left:a.left-n,top:a.top-n,right:a.right+n,bottom:a.bottom+n},o=e.getRect();if(e.doOverlap(o,r)){var i=e.escapeDistance(o,r),l=void 0,s=void 0;if(e.isTranslationOutOfBound(-i.toLeftDistance,0)||(void 0===l||i.toLeftDistance<l)&&(l=i.toLeftDistance,s=2),e.isTranslationOutOfBound(0,-i.toBottomDistance)||(void 0===l||i.toBottomDistance<l)&&(l=i.toBottomDistance,s=1),e.isTranslationOutOfBound(i.toRightDistance,0)||(void 0===l||i.toRightDistance<l)&&(l=i.toRightDistance,s=3),e.isTranslationOutOfBound(0,i.toTopDistance)||(void 0===l||i.toTopDistance<l)&&(l=i.toTopDistance,s=I),void 0!==l){var u={};switch(s){case 2:u={left:e.state.left-i.toLeftDistance};break;case 1:u={bottom:e.state.bottom-i.toBottomDistance};break;case 3:u={left:e.state.left+i.toRightDistance};break;case I:u={bottom:e.state.bottom+i.toTopDistance}}var c=(0,S.default)((0,P.forbiddenAssertDOMNode)(e),u,{duration:200});Promise.race([c,e.props.rejectOnUnmount()]).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState(u)}).catch(T.Unmount,function(){})}}}};A.displayName="MoveResizeComponent",t.default=(0,y.default)((0,E.default)((0,j.hoc)(A)))},gfgihaeab:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n("cccehdaiaf"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.isSelectable=e,n}return o(t,e),i(t,[{key:"setSelectable",value:function(e){return this.isSelectable=e,this.trigger("update-selectable",e),this.isSelectable}}]),t}(s.default);t.default=u},ggfcffeaf:function(e,t){e.exports={"-color-bg-light":"#f8f8f8",colorBgLight:"#f8f8f8",muted:"_3-waT",panelBody:"_1Kstu",searchSpinner:"jqdrp",panelSearch:"a5vst"}},ghbbeafj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("hbhijdici"),f=a(c),d=n("dbdfbgehgj"),p=a(d),h=n("cjcffhicea"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("biddiiafgd"),y=a(v),_=n("eadfaddcj"),E=a(_),j=n("bihjahgcja"),w=a(j),O=n("bcbahjefec"),C=a(O),S=n("bfgbdiffgd"),P=a(S),M=n("dhgdjhdfdh"),T=a(M),k=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.requestFocus=function(){var e=a.refUIE;if(e){var t=e.getRef();t&&t.onFocusList&&t.onFocusList()}},a.onForwardConfirmed=function(e){var t=a.props,n=t.msgs,r=t.onForward;p.default.forwardMessagesToChats(n,e).catch(w.default,function(e){a.showMediaSendError(e.reasons)}),a.end(),r&&r(n),g.default.openChatFromUnread(f.default.head(e))},a.showMediaSendError=function(e){var t=e.map(function(e){var t=e.chat,n=e.reason;return u.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",n)});g.default.openModal(u.createElement(y.default,{onOK:function(){return g.default.closeModal()},okText:l10n.t("web_ok")},t),void 0)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.msgs,t=l10n.t("forward_message_to",{_plural:e.length||1}),n=f.default.head(e),a=n&&n.chat,r=void 0;r="video"!==n.type&&"image"!==n.type?"message":n.type;var o=e.some(function(e){return e.isFrequentlyForwarded}),i=e.filter(function(e){return!e.isFrequentlyForwarded&&e.getForwardingScoreWhenForwarded()===E.default.FREQUENTLY_FORWARDED_SENTINEL}),l=void 0;P.default.frequentlyForwardedMessages&&i.length&&(l=u.createElement(T.default,{frequentlyForwardedCount:i.length,totalCount:e.length}));var s=P.default.frequentlyForwardedMessages&&o?P.default.frequentlyForwardedMax:P.default.multicastLimitGlobal;this.push(u.createElement(m.default,{onChat:this.onForwardConfirmed,maxItems:s,excludeChat:a,msgType:r,title:t,listType:h.ListType.CHAT_SELECT_MODAL,customHeader:l,hasFrequentlyForwarded:o}))}}]),t}(C.default);t.default=k},gicgagfjj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("gbfffciea"),f=a(c),d=n("bcbahjefec"),p=a(d),h=n("eahhieahd"),m=a(h),b=n("bfjajhbdf"),g=a(b),v=n("cjbicbfaej"),y=a(v),_=n("bgjddhffji"),E=n("bheafeifce"),j=n("chajfbfiga"),w=a(j),O=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.submitReason=function(e){var t=a.props,n=t.product,r=t.sessionId;return(0,_.logReportProduct)((0,E.unproxy)(n),r),w.default.reportBusinessCatalogProduct(n.catalogWid.toString(),n.id.toString(),e)},a.onDelete=function(){a.end()},a.onReport=function(e){a.onShowSubmittedToast(e)},a.onTellUsMore=function(){a.push(u.createElement(y.default,{onTellUsMoreSubmit:a.onReport,onCancel:a.onCancel}),"none")},a.onPopupCancel=function(){a.end()},a.onCancel=function(){a.end()},a.onReportSubmitted=function(){a.end()},a.onShowSubmittedToast=function(e){a.submitReason(e).then(function(){f.default.openToast(u.createElement(g.default,{msg:l10n.t("product_report_reason_submitted")+". "+l10n.t("report_product_popup_submitted_desc"),id:(0,b.genId)()}))}).catch(function(){}),a.onReportSubmitted()},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.push(u.createElement(m.default,{onTellUsMore:this.onTellUsMore,onReport:this.onReport,onPopupCancel:this.onPopupCancel,onCancel:this.onCancel}))}}]),t}(p.default);t.default=O},gigbjdedj:function(e,t){e.exports={muted:"_3kdFf",hover:"_1ySpe",quotedMsg:"_2aWeC",composeBoxQuotedMsg:"_3SwSG",msg:"OuwTy",colorBar:"_11Kl0",msgBody:"vuD1j"}},gigggciff:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("eadfaddcj"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=n("cehjjfagii"),b=a(m),g=n("caafgbfcba"),v=a(g),y=n("gbfffciea"),_=a(y),E=n("bffjfbgbg"),j=a(E),w=n("eiiicijcj"),O=a(w),C=n("dhhfaeacef"),S=a(C),P=n("dffedieagi"),M=a(P),T=n("bfdcadbbif"),k=a(T),N=n("ddadaeidcc"),I=a(N),R=n("cgbdcdhgig"),A=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMediaMissing=function(){_.default.openModal(u.createElement(O.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.forceDownloadMedia(!0)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.handleTimeUpdate=function(e){n.setState({currentTime:e})},n.handlePlayingUpdate=function(e){var t=n.props.msg;e&&(0,R.canMarkPlayed)(t)&&(0,R.markPlayed)(t),n.setState({autoPlay:!1,playing:e})},n.state={currentTime:0,playing:!1,autoPlay:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,a=t.ack===f.default.ACK_PLAYED,r=a?t.isSentByMe?"ptt-out-blue":"ptt-in-blue":t.isSentByMe?"ptt-out-gray":"ptt-in-green",o=u.createElement("div",{className:I.default.icon,key:"status"},u.createElement(k.default,{name:r})),i=void 0,l=this.state.playing?this.state.currentTime:n.duration;switch(n.mediaStage){case j.default.STAGE.RESOLVED:i=u.createElement(v.default,{autoPlay:this.state.autoPlay,duration:l,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:t.isSentByMe,playing:this.state.playing,played:a,displayType:this.props.displayType,url:n.renderableUrl,getSequentialMsg:this.props.getSequentialMsg,currMsgId:t.id});break;case j.default.STAGE.NEED_POKE:i=u.createElement(g.AudioPlayerFrame,{icon:u.createElement(k.default,{name:"audio-download"}),outgoingMsg:t.isSentByMe,action:this.downloadMedia});break;case j.default.STAGE.NEED_UPLOAD:i=u.createElement(g.AudioPlayerFrame,{icon:u.createElement(k.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeUpload});break;case j.default.STAGE.REMOTE_NEED_UPLOAD:i=u.createElement(g.AudioPlayerFrame,{icon:u.createElement(k.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeRemoteUpload});break;case j.default.STAGE.ERROR_MISSING:i=u.createElement(g.AudioPlayerFrame,{icon:u.createElement(k.default,{name:"audio-play",directional:!0}),outgoingMsg:t.isSentByMe,action:this.showMediaMissing});break;default:i=u.createElement(g.AudioPlayerFrame,{spinner:!0,outgoingMsg:t.isSentByMe})}var s=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?u.createElement(b.default,{msg:t,contact:t.senderObj}):null,c=u.createElement(S.default,{id:t.senderObj.id,size:55});return u.createElement(M.default,{msg:t,quotedMsg:this.props.quotedMsg,author:s,status:o,player:i,avatar:c,displayType:this.props.displayType})}}]),t}(u.PureComponent);A.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj","id"],mediaData:["duration","type","mediaStage","renderableUrl"]},A.displayName="PTT",t.default=(0,p.default)((0,h.hoc)(A),A.CONCERNS)},gjaijjfhh:function(e,t){e.exports={muted:"_3lBL8",viewport:"_3La1s"}},gjcabeieb:function(e,t,n){"use strict";var a={singleByte:["quick_reply","sticker","pay_t","accept","reject","sticker_pack","invalid","canceled","missed","connected","result","audio","video","recent"]};e.exports=a},habccggff:function(e,t){e.exports={muted:"_3KOEE",videoFloater:"_1p-0O",bgImg:"_20Y2q",bottomLayer:"_2MK_3"}},haidjjcae:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("bjebjijbfc"),d=a(f),p=n("dgdjiicfdg"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("eceadcicaf"),v=a(g),y=n("ejbdjaifi"),_=n("caceaafdic"),E=n("fifhbjiec"),j=a(E),w=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hide:!1},a.rerender=function(){a.forceUpdate()},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.maybeRegMidnight()}},{key:"componentDidUpdate",value:function(){this.maybeRegMidnight()}},{key:"getTimestamp",value:function(){return this.props.timestamp}},{key:"hide",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.state.hide!==e&&this.setState({hide:e})})},{key:"maybeRegMidnight",value:function(){this.props.listeners.remove(b.default,"midnight",this.rerender);var e=(0,h.default)().startOf("day").subtract(7,"day");this.props.timestamp>=e.unix()&&this.props.listeners.add(b.default,"midnight",this.rerender)}},{key:"render",value:function(){var e=d.default.relativeDateStr(this.props.timestamp);return c.createElement(_.SystemBubble,{hidden:this.state.hide},c.createElement(j.default,{direction:"auto",text:e.toUpperCase()}))}}]),t}(c.PureComponent);w.displayName="DateMarker";var O=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"getTimestamp",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getTimestamp()}},{key:"hide",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).hide(e)})}]),t}((0,v.default)((0,y.hoc)(w)));t.default=O},hbabifghf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bcjcbbafcj"),f=a(c),d=n("bfdcadbbif"),p=a(d),h=n("ebhfgcddae"),m=a(h),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefVideo=function(e){n._videoRef=e,n.synchronizeVideo()},n.synchronizeVideo=function(){var e=n._videoRef;e&&(n.state.animate?e.paused&&e.play():e.paused||(e.pause(),e.currentTime=0))},n.setShouldAnimate=function(e){n.state.animate===e&&n.state.show||n.setState({animate:e,show:!0},n.synchronizeVideo)},n.handleClick=function(){n.props.onSend(n.props.gif)},n.setRefHotKeys=function(e){n.messagePreviewRef=e},n.onFocus=function(e){e.preventDefault(),e.stopPropagation(),n.setState({focused:!0})},n.onBlur=function(e){e.preventDefault(),e.stopPropagation(),n.setState({focused:!1})},n._videoRef=null,n.state={animate:!1,show:!1,focused:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.gif,t=null;this.state.show&&(t=f.default.troublesWithLotsOfVideos&&e.nonVideoUrl?u.createElement("img",{className:m.default.body,onClick:this.handleClick,src:e.nonVideoUrl}):u.createElement("video",{className:m.default.body,onClick:this.handleClick,controls:!1,autoPlay:this.state.animate,loop:!0,muted:!0,ref:this.setRefVideo,src:e.previewUrl}));var n=void 0;return this.props.isStarred&&this.props.onUnstarMsg&&(n=u.createElement("button",{className:m.default.icon,onClick:this.props.onUnstarMsg},u.createElement(p.default,{name:"star-light"}))),u.createElement("div",{ref:this.setRefHotKeys,className:m.default.preview,tabIndex:"-1",onFocus:this.onFocus,onBlur:this.onBlur,style:{flexBasis:e.widthStr}},this.state.focused&&u.createElement("div",{style:{flexBasis:e.widthStr},className:m.default.focusBorder}),u.createElement("div",{style:{width:e.widthStr},className:m.default.wrapper},u.createElement("div",{style:{paddingBottom:e.ratioStr},className:m.default.container},t)),n)}}]),t}(u.Component);b.displayName="GifPreview",t.default=b},hbciiabei:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("djcchigfih"),f=a(c),d=n("dajffajabh"),p=a(d),h=n("djbhiedbef"),m=a(h),b=n("fffdgbfji"),g=a(b),v=n("eceadcicaf"),y=a(v),_=n("ejbdjaifi"),E=n("ehaaiddhe"),j=a(E),w=n("cdjhjdcbeg"),O=a(w),C=n("bfdcadbbif"),S=a(C),P=n("dceicchccd"),M=a(P),T=n("hbhijdici"),k=a(T),N=n("cbcfgjhjhj"),I=a(N),R=n("gbfffciea"),A=a(R),D=n("baiheeddah"),x=a(D),L=n("biddiiafgd"),F=a(L),U=n("bddhdheedf"),B=n("bfbggcdbfb"),G=a(B),V=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onMultiSelect=function(){var t=k.default.size(e.multiSelection.getSelected());e.setState({selectedCount:t})},e.shouldScrollIntoViewAndSelect=function(e){return{shouldScrollIntoView:!0,shouldSelect:!1}},e.onDeleteLabel=function(t){A.default.closeModal(),e.multiSelection.unsetAll(),e.props.onDeleteLabel(t)},e.confirmDeleteSelectedLabels=function(){var t=e.multiSelection.getSelected();(0,U.logLabelOperationEvent)(G.default.LABEL_OPERATIONS.VIEW,t.length,G.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),A.default.openModal(u.createElement(F.default,{title:g.default.t("delete_label_confirm",{_plural:t.length}),okText:g.default.t("web_yes"),cancelText:g.default.t("web_no"),onCancel:function(){(0,U.logLabelOperationEvent)(G.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,G.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),A.default.closeModal()},onOK:function(){(0,U.logLabelOperationEvent)(G.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,G.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),e.onDeleteLabel(t)}}))},e.onCancelSelection=function(){e.multiSelection.unsetAll(),e.setState({selectedCount:0})},e.state={selectedCount:0},e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.multiSelection=new M.default([],function(e){return e.id}),(0,U.logLabelOperationEvent)(G.default.LABEL_OPERATIONS.VIEW,void 0,G.default.LABEL_TARGETS.LABELS_SCREEN)}},{key:"render",value:function(){var e=this.state.selectedCount,t=null;return t=e>0?u.createElement(x.default,{selectedModels:this.multiSelection,onCancel:this.onCancelSelection,onDelete:this.confirmDeleteSelectedLabels,theme:"drawer-header"}):u.createElement(p.default,{title:g.default.t("labels_setting_title"),onBack:this.props.onClose,type:d.DRAWER_HEADER_TYPE.LARGE}),u.createElement(f.default,{theme:"settings"},t,u.createElement(m.default,null,u.createElement(I.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,selectedLabels:this.multiSelection,renderContex:"label-list",onMultiSelect:this.onMultiSelect,onLabelClick:this.props.onLabelClick})),u.createElement("div",{className:j.default.addLabelBtContainer},u.createElement(O.default,{large:!0,onClick:this.props.openAddLabel},u.createElement(S.default,{name:"plus-large"}))))}}]),t}(u.PureComponent);V.displayName="LabelDrawer",t.default=(0,y.default)((0,_.hoc)(V))},hbfbchadb:function(e,t){e.exports={muted:"_2_BKR",chatSubtitle:"_3Q3ui",chatSubtitleHeader:"i1XSV",chatSubtitleText:"_315-i"}},hbhjdibhf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,m.unproxy)(e),n=t.commonGroups,a=t.id,r=t.promises;return r.findCommonGroups?r.findCommonGroups:n&&!n.stale?Promise.resolve():r.findCommonGroups=h.default.commonGroupsFind(a).then(function(e){if(200===e.status){var r=i.default.compact(e.groups.map(function(e){return d.default.Chat.get(e)}));return n?(n.set(r),n.stale=!1):t.commonGroups=new s.default(r,a),!0}return c.default.error("models:Contact:findCommonGroups error: "+e.status)(),Promise.reject(new Error("models:Contact:findCommonGroups error: "+e.status))}).finally(function(){r.findCommonGroups=null})}Object.defineProperty(t,"__esModule",{value:!0}),t.findCommonGroups=r;var o=n("hbhijdici"),i=a(o),l=n("cjabddhidj"),s=a(l),u=n("bdiiahhjbe"),c=a(u),f=n("bhggeigghg"),d=a(f),p=n("chajfbfiga"),h=a(p),m=n("bheafeifce")},hcfegac:function(e,t,n){"use strict";function a(e){if(e.__playPromise)return e.__playPromise;var t=new Promise(function(t,n){function a(n){e.removeEventListener("playing",a),e.removeEventListener("error",o),e.videoHeight&&e.videoWidth||a(n),delete e.__playPromise,t(n)}function o(t){e.removeEventListener("playing",a),e.removeEventListener("error",o),delete e.__playPromise,n(t)}e.addEventListener("playing",a),e.addEventListener("error",o);var i=e.play();r(i)&&(e.removeEventListener("playing",a),e.removeEventListener("error",o),i.then(function(){delete e.__playPromise,t()}).catch(function(t){delete e.__playPromise,n(t)}))});return e.__playPromise=t,t}function r(e){return e&&"function"==typeof e.then}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},hdccjfbbg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.FREQUENT_PREFIX=t.Type=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("bgddggdhc"),d=n("effbcehec"),p=a(d),h=n("ccfcjccjbg"),m=a(h),b=n("caijdggfg"),g=n("dgibicjjj"),v=a(g),y=n("dhhfaeacef"),_=a(y),E=n("ibeajfihb"),j=a(E),w=n("ihfccfgdf"),O=a(w),C=n("bheafeifce"),S=n("eceadcicaf"),P=a(S),M=n("ejbdjaifi"),T=n("ceffhbhahb"),k=a(T),N=n("fifhbjiec"),I=a(N),R=n("cgejchjdhj"),A=n("ddajbaceej"),D=a(A),x=n("bdiiahhjbe"),L=a(x),F=n("dhfbfehaef"),U=a(F),B=n("bhheahajjg"),G=a(B),V=n("bfdcadbbif"),W=a(V),H=n("bcifhbgija"),Y=a(H),q=n("cedaiijige"),K=a(q),z=n("jccfhaecf"),Q=a(z),X=t.Type={SMALL:"SMALL",DEFAULT:"DEFAULT"},J=t.FREQUENT_PREFIX="freq_",Z=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onSearch=function(){a.props.searchQuery?a.setState({searchText:a.props.searchQuery.trimmed}):L.default.error("Contact: prop searchQuery is undefined")()},a.onActiveChange=function(e,t){if("focus"===e){var n=(0,f.forbiddenAssertDOMNode)(a);D.default.focus(n),t&&(0,R.scrollIntoViewIfNeeded)(n)}a.setState({active:!!e})},a.onDelete=function(e){e.stopPropagation();var t=a.props.onDelete;t&&t(e,(0,C.unproxy)(a.props.contact))},a.onClick=function(e){var t=a.props,n=t.onClick,r=t.contact;n&&n(e,(0,C.unproxy)(r))},a.onMouseDown=function(e){0===e.button&&a.onClick(e)},a.onEnter=function(e){e.preventDefault(),e.stopPropagation(),a.onClick(e)},a.onContext=function(e){a.props.onContext&&a.props.onContext(e,a.props.contact)},a.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,F.indicateFocus)(a.cell,["#e9eaeb","#cbdde7"],{complete:a.onBlur})},a.onBlur=function(e){var t=(0,f.forbiddenFindDOMNode)(a.cell);t&&((0,Y.default)(t,"stop"),t.style.backgroundColor="")},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.setState({contextMenu:!1}),this.initListeners(this.props)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.listenForAdminChange,a=t.listeners,r=t.participantCollection,o=t.contact;n&&r&&a.add(r,"change:isAdmin change:isSuperAdmin",function(t){Q.default.equals(t.id,o.id)&&e.forceUpdate()})}},{key:"componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var n=e.listeners,a=e.active,r=e.contact,o=e.searchQuery,i=e.frequent;if(t&&t.searchQuery&&t.searchQuery!==o&&n.remove(t.searchQuery,b.SEARCH_EVENT,this.onSearch),!o||t&&o===t.searchQuery||n.add(o,b.SEARCH_EVENT,this.onSearch),(!t||!r.id.equals(t.contact.id))&&(t&&t.active&&n.remove(t.active,t.contact.id.toString(),this.onActiveChange),a)){var l=(i?J:"")+r.id.toString();n.add(a,l,this.onActiveChange)}var s=a&&a.value instanceof m.default&&r.isProxyOf(a.value);this.setState({searchText:o?o.trimmed:"",active:s})}},{key:"contextEnabled",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.contact,n=e.secondary,a=e.onContext,o=e.onDelete,i=e.contextEnabled,l=e.contextMenu,s=e.admin,u=e.showNotifyName,f=e.waitIdle,d=e.theme,h=e.useShortName,m=e.detail,b=e.listenForAdminChange,g=e.participantCollection,y=e.isPendingParticipant,E=this.state,w=E.active,O=E.searchText,C=(0,k.default)(r({},K.default.contactSmall,this.props.type===X.SMALL)),S=void 0,P=void 0,T=void 0;if(!t.name&&u&&t.notifyName&&(T=c.createElement("span",{className:K.default.screenName},c.createElement(I.default,{direction:"auto",text:t.notifyName}))),(s||b&&g&&g.assertGet(t.id).isAdmin)&&(P=c.createElement("div",{className:K.default.markerAdmin},l10n.t("web_group_admin"))),y&&(P=c.createElement("div",{className:K.default.markerInvited},l10n.t("group_v4_invite_tag"))),m)S=m;else if(o){var N=this.props.type===X.SMALL?"x-alt-small":"x-alt";S=c.createElement("div",{"data-a8n":p.default.key("chat-controls"),className:K.default.chatControls,role:"button",onClick:this.onDelete},c.createElement(W.default,{name:N}))}var R=n;R||(R=c.createElement(j.default,{id:t.id,waitIdle:f}));var A=void 0;a&&(A=this.onContext);var D=this.props.type===X.SMALL?26:null,x={enter:this.onEnter},L=this.props.mouseDownAsClick,F=c.createElement(G.default,{contact:t,useShortName:h,highlightText:O,showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),B="list-names"!==d||o?d:"list-names-no-delete";return c.createElement(U.default,{handlers:x,onFocus:this.indicateFocus,onBlur:this.onBlur,className:C},c.createElement(v.default,{ref:(0,M.GetRef)("cell",this),theme:B,active:w,contextEnabled:i||this.contextEnabled,contextMenu:l,pendingAction:t.pendingAction,detail:S,image:c.createElement(_.default,{id:t.id,size:D,waitIdle:f}),primary:F,primaryDetail:P,secondary:R,secondaryDetail:T,onClick:L?null:this.onClick,onMouseDown:L?this.onMouseDown:null,onContext:A}))}}]),t}(c.Component);Z.CONCERNS={contact:["id","pendingAction","notifyName","name"]},Z.displayName="Contact";t.Component=Z;t.default=(0,P.default)((0,O.default)((0,M.hoc)(Z),Z.CONCERNS))},hddadiifa:function(e,t){e.exports={muted:"_1zNSq",container:"_26JG5",containerNoIcon:"_10L7G",containerListAligned:"pgYve",icon:"_1tyVr",bodyContainer:"_27Ie2",body:"_1SYAj"}},hecjahfhf:function(e,t){e.exports={muted:"JAtEj",overlay:"_1JS2G",text:"_12KQN"}},hehdicceb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbgdaechch"),f=a(c),d=n("ddchcbhaia"),p=a(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.onSelectMessages;return u.createElement(f.default,{type:"dropdown_menu",key:"GroupMenuDropdown",flipOnRTL:!0,dirX:c.DirX.LEFT},p.default.group(t,n))}}]),t}(u.Component);h.displayName="GroupMenuDropdown",t.default=h},hfccidehd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.DEFAULT_HEIGHT=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("bgddggdhc"),u=n("gbfffciea"),c=a(u),f=n("hbhijdici"),d=a(f),p=n("eceadcicaf"),h=a(p),m=n("ejbdjaifi"),b=n("deagfdiahe"),g=a(b),v=n("bjajdfefga"),y=a(v),_=n("ddhijeejag"),E=n("cgfgefjfje"),j=t.DEFAULT_HEIGHT=72,w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollTop=0,n.offsetTop=0,n.bodyHeight=0,n.pointerEvents=!0,n.enablePointerEvents=d.default.debounce(function(){c.default.setUiBusy(!1),n.pointerEvents=!1,(0,s.forbiddenAssertDOMNode)(n.refViewport).style.pointerEvents="auto",n.props.onPointerEventsOn&&n.props.onPointerEventsOn()},150),n.onScroll=function(){n.animationFrame?n.hanging=!0:(n.hanging=!1,n.animationFrame=window.requestAnimationFrame(n._onScroll))},n._onScroll=function(){var e=n.state.scrollTarget;n.disablePointerEvents(),e&&(n.scrollTop=e.scrollTop);var t=n.getPhysicalIndexes(n.props),a=t.firstPhysicalIndex,r=t.lastPhysicalIndex,o=void 0;for(o=a;o<r;o++){var i=n.props.data[o].key;if(!n.renderedItems[i])break}if(o===r)return n.animationFrame=void 0,void(n.hanging&&n.onScroll());n.setState({firstPhysicalIndex:a,lastPhysicalIndex:r},function(){n.animationFrame=void 0,n.hanging&&n.onScroll()})},n.setRefViewport=function(e){n.refViewport=e},n.state={scrollTarget:void 0,firstPhysicalIndex:0,lastPhysicalIndex:0},n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){if(void 0!==e.scrollTop&&this.state.scrollTarget&&(this.state.scrollTarget.scrollTop=e.scrollTop),this.props.scrollTarget!==e.scrollTarget||this.props.height!==e.height||this.props.data.length!==e.data.length)this.initialize(e);else{var t=this.state,n=t.firstPhysicalIndex,a=t.lastPhysicalIndex,r=this.getFirstVisibleIndex(e.height);(r<n||r>a)&&this.setState(this.getPhysicalIndexes(e))}}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(window,"resize",function(){return e.initialize()}),this.initialize()}},{key:"componentWillUnmount",value:function(){this.cancelScroll(),this.enablePointerEvents.cancel()}},{key:"initialize",value:function(e){var t=e||this.props;if(this.cancelScroll(),this.state.scrollTarget){var n=g.default?{passive:!0}:void 0;this.props.listeners.remove(this.state.scrollTarget,"scroll",this.onScroll,n)}var a=(0,s.forbiddenAssertDOMNode)(this),r=void 0,o=a,i=void 0;for(i=0;i<5;i++){if(o instanceof HTMLElement&&o.hasAttribute("data-list-scroll-container")){r=o;break}o=o&&o.parentNode}var l=void 0;o=a;for(var u=0;u<i;u++){if(o instanceof HTMLElement&&o.hasAttribute("data-list-scroll-offset")){l=o;break}o=o&&o.parentNode}if(!r)throw new Error("list scroll container not found");var c=g.default?{passive:!0}:void 0;this.props.listeners.add(r,"scroll",this.onScroll,c),this.scrollTop=r.scrollTop,this.offsetTop=l?l.offsetTop:0,this.bodyHeight=r.clientHeight;var f=this.getPhysicalIndexes(t),d=f.firstPhysicalIndex,p=f.lastPhysicalIndex;return this.renderedItems={},this.setState({scrollTarget:r,firstPhysicalIndex:d,lastPhysicalIndex:p}),r}},{key:"getFirstVisibleIndex",value:function(e){return Math.floor(Math.max(this.scrollTop-this.offsetTop,0)/e)}},{key:"getPhysicalIndexes",value:function(e){var t=this.getFirstVisibleIndex(e.height),n=Math.max(this.offsetTop-this.scrollTop,0),a=Math.max(this.bodyHeight-n,0),r=Math.min(Math.ceil(a/e.height),e.data.length);return{firstPhysicalIndex:Math.max(t-e.extraItems,0),lastPhysicalIndex:Math.min(t+r+e.extraItems,e.data.length)}}},{key:"cancelScroll",value:function(){this.animationFrame&&(window.cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.hanging=!1)}},{key:"disablePointerEvents",value:function(){this.enablePointerEvents(),this.pointerEvents||(this.props.onPointerEventsOff&&this.props.onPointerEventsOff(),(0,s.forbiddenAssertDOMNode)(this.refViewport).style.pointerEvents="none",c.default.setUiBusy(!0),this.pointerEvents=!0)}},{key:"getComponents",value:function(){var e=this,t=this.props,n=t.height,a=t.data,r=t.animate,o=this.state,i=o.firstPhysicalIndex,l=o.lastPhysicalIndex,s={};return a.forEach(function(e,t){s[e.key]=t}),a.slice(i,l).forEach(function(t){e.renderedItems[t.key]=t}),d.default.sortBy(this.renderedItems,"key").map(function(t){return _.createElement(E,{animate:r&&!e.animationFrame,key:t.key,rowHeight:n,zIndex:a.length-s[t.key]-1,rowNumber:s[t.key]},t)})}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.height,a={height:t.length*n};return _.createElement("div",{className:y.default.viewport,ref:this.setRefViewport,style:a},this.getComponents())}}]),t}(_.Component);w.defaultProps={animate:!1,height:j,extraItems:30},w.displayName="List";t.Component=w;t.default=(0,h.default)((0,m.hocWithDefaults)(w))},hfcihgigj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ejbdjaifi"),f=n("ihfccfgdf"),d=a(f),p=n("dgacgafafa"),h=a(p),m=n("bbjadhadbg"),b=a(m),g=n("ccaaiecfib"),v=a(g),y=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._downloadMedia=function(){return a.props.stickerPack.downloadMedia()},a._renderStickerPackIcon=function(e){var t=a.props.stickerPack,n=t.id,r=t.name;return u.createElement(h.default,{id:n,name:r,url:e})},a._renderPlaceholder=function(){return a._renderStickerPackIcon(null)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this._downloadMedia()}},{key:"render",value:function(){return v.default.supportsFeature(v.default.F.REPLACE_MEDIABLOB)?u.createElement(b.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPlaceholder,downloadMedia:this._downloadMedia},this._renderStickerPackIcon):this._renderStickerPackIcon(this.props.mediaData.renderableUrl)}}]),t}(u.PureComponent);y.CONCERNS={stickerPack:["id","name"],mediaData:["renderableUrl","mediaStage"]},y.displayName="StickerPackIconThirdParty",t.default=(0,d.default)((0,c.hoc)(y),y.CONCERNS)},hfhhcchgj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextInputCustomStyleThemes=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ceffhbhahb"),c=a(u),f=n("dbjhghahdd"),d=a(f),p=n("bjbggbjed"),h=a(p),m=n("dhfbfehaef"),b=a(m),g=n("ddhijeejag"),v=a(g),y=n("didfdhbecg"),_=a(y),E=n("becfabjeeg"),j=a(E),w=n("chhhffajfi"),O=n("caffijjhc"),C=a(O),S=n("dbjbhajgfd"),P=a(S),M=n("dbgdaechch"),T=n("ejbdjaifi"),k=n("bfdcadbbif"),N=a(k),I=n("fehbggfdh"),R=a(I),A=n("chgaccicf"),D=a(A),x=n("fifhbjiec"),L=a(x),F=n("cdheafhdbh"),U=(t.TextInputCustomStyleThemes=(0,D.default)({groupInfoName:null}),function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={active:!1,locked:!!a.props.lockable,emojiPicker:null},a.emojiInputComponent=(0,d.default)(),a.isSkinTonePickerOpen=!1,a.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=v.default.createElement(h.default,{onEmoji:a.onEmoji,onFocusNext:a.restoreFocus,onFocusPrev:a.restoreFocus});a.setState({emojiPicker:{menu:t,dirY:M.DirY.TOP,type:"emoji_picker",anchor:e.target}}),a.restoreFocus()},a.onEmojiPickerClose=function(){a.setState({emojiPicker:null})},a.onRestoreEmojiPickerFocus=function(){if(a.refEmojiPickerUIE){var e=a.refEmojiPickerUIE.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},a.onEmoji=function(e){a.inputLine&&a.inputLine.replaceSelection(e)},a.onEnter=function(e){a.props.lockable&&a.onSaveAndLock(),a.props.onEnter&&!a.props.multiline&&(e.persist(),a.props.onEnter(e))},a.onChange=function(e){a.props.onChange&&a.props.onChange(e)},a.restoreFocus=function(){a.inputLine&&a.inputLine.focus()},a.onBlur=function(e){a.isSkinTonePickerOpen||(a.state.active&&a.setState({active:!1}),a.props.onBlur&&a.props.onBlur(e))},a.onFocus=function(e){e.stopPropagation(),a.state.active||a.setState({active:!0}),a.props.onFocus&&a.props.onFocus(e)},a.onSkinTonePicker=function(e){a.isSkinTonePickerOpen=e},a.onUnlock=function(){a.props.onBeginEdit&&a.props.onBeginEdit(),a.setState({locked:!1})},a.onSaveAndLock=function(){var e=!(!a.props.lowProfile&&a.props.error);a.props.validate&&e&&(e=a.props.validate(a.props.value)),e?(a.props.onSave&&a.props.onSave(),a.setState({locked:!0})):a.props.onError&&a.props.onError()},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),a.setState({locked:!0})},a.setRefEmojiPickerUIE=function(e){a.refEmojiPickerUIE=e},a.showEmptyValuePlaceholder=function(){var e=a.props.value;return(!e||""===e)&&a.props.emptyValuePlaceholder&&a.state.locked},a.renderEmojiText=function(){var e=a.props,t=e.renderEmojiTextInLockMode,n=e.value;if(t&&n){var r=t.textLimit,o=t.readMoreText,i=t.onReadMore,l=t.formatters;return v.default.createElement("div",{className:R.default.emojiText},v.default.createElement(L.default,{text:n,selectable:!0,emojiSize:x.EMOJI_SIZE.SMALL,textLimit:r,formatters:l}),(0,w.numCodepoints)(n)>r&&v.default.createElement("span",{className:R.default.more,role:"button",onClick:i}," "+o))}},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentDidUpdate",value:function(e,t){t.locked||!e.editable||this.props.editable||this.onCancel()}},{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"componentWillReceiveProps",value:function(e){this.inputLine&&!e.editing&&this.inputLine.value!==e.value&&this.inputLine.reset(e.value)}},{key:"render",value:function(){var e,n,a,o,i=this.props.maxLength||t.defaultProps.maxLength,l=this.props.editable&&!this.state.locked,s=l&&!!this.props.error&&!this.props.lowProfile,u=this.props.customStyleThemes,f=void 0===u?[]:u,d={container:(0,c.default)(R.default.textInput,f&&f.map(function(e){return R.default[e]}),(e={},r(e,R.default.noPlaceholder,!this.props.placeholder),r(e,R.default.invite,"v4-invite-caption"===this.props.theme),r(e,R.default.active,l),r(e,R.default.small,"small"===this.props.theme),r(e,R.default.inputLarge,"large"===this.props.theme),e)),label:(0,c.default)(R.default.labelText,(n={},r(n,R.default.float,!!this.props.value),r(n,R.default.hideFloatingLabel,!!this.props.hideFloatingLabel),n)),inputWrapper:(0,c.default)(R.default.wrapper,(a={},r(a,R.default.textError,s),r(a,R.default.invite,"v4-invite-caption"===this.props.theme),r(a,R.default.textActive,this.state.active),r(a,R.default.locked,this.state.locked),a)),infoWrapper:(0,c.default)(R.default.infoStrip,(o={},r(o,R.default.textError,s),r(o,R.default.textActive,this.state.active),o))},p=void 0,h=void 0;this.props.lockable&&(this.props.pending?h=v.default.createElement("div",{className:(0,c.default)(R.default.iconSpinner,R.default.iconMain),key:"spinner"},v.default.createElement(j.default,{size:18,stroke:6,color:"highlight"})):this.state.locked?this.props.editable?h=v.default.createElement("div",{className:R.default.iconMain,onClick:this.onUnlock,key:"btn-edit",title:l10n.t("edit_button")},v.default.createElement(N.default,{name:"pencil",directional:!0})):this.props.editRestrictionInfo&&!this.props.editable&&(h=v.default.createElement("div",{className:R.default.iconMain,onClick:this.props.editRestrictionInfo,key:"btn-info"},v.default.createElement(N.default,{name:"info"}))):h=v.default.createElement("div",{className:R.default.iconMain,onClick:this.onSaveAndLock,key:"btn-done",title:l10n.t("click_to_save_esc_to_cancel")},v.default.createElement(N.default,{name:"checkmark"})),p=this.props.lockable?v.default.createElement(_.default,{className:R.default.iconMainContainer,transitionName:"pop"},h):null);var m=l&&this.props.supportsEmoji?v.default.createElement("div",{className:(0,c.default)(R.default.emojiBtn),onClick:this.onEmojiPicker,key:"emoji-btn"},v.default.createElement(N.default,{name:"emoji-input"})):null,g=void 0;if(this.props.showRemaining){var y=(0,w.numCodepoints)(this.props.value||"");g=i-y<50&&l?v.default.createElement("div",{className:(0,c.default)(R.default.charCounter),key:"counter"},l10n.n(i-y)):null}var E=this.props.supportsEmoji||this.props.showRemaining?v.default.createElement(_.default,{className:R.default.iconsEditContainer,transitionName:"pop"},g,m):null,O=this.props.lowProfile?null:v.default.createElement("div",{className:d.infoWrapper},v.default.createElement("div",{className:R.default.errorText},s?this.props.error:null)),S=void 0;if(this.props.lockable&&!this.state.locked){var M=void 0;this.state.emojiPicker&&(M=v.default.createElement(C.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},v.default.createElement(P.default,{contextMenu:this.state.emojiPicker}))),S=v.default.createElement(C.default,{displayName:"TextInput",escapable:!0,requestFocus:this.restoreFocus,requestDismiss:this.onCancel},v.default.createElement("div",null,M))}else!this.props.lockable&&this.state.emojiPicker&&(S=v.default.createElement(C.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},v.default.createElement(P.default,{contextMenu:this.state.emojiPicker})));var k=this.props.editable&&!this.state.locked,I=this.props,A=I.emptyValuePlaceholder,D=I.renderEmojiTextInLockMode,x=this.emojiInputComponent,L=k||!D,U=L?v.default.createElement(x,{ref:(0,T.GetRef)("inputLine",this),initialValue:this.props.value,theme:this.props.theme||"default",multiline:this.props.multiline,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onEnter,onFiles:this.props.onFiles,pending:this.props.pending,spellCheck:this.props.spellCheck,maxLength:this.props.maxLength,readOnly:!k}):this.renderEmojiText(),B=void 0,G=void 0;return this.props.placeholder&&(B=(!this.props.value||!this.props.hideFloatingLabel)&&v.default.createElement("span",{className:d.label},this.props.placeholder),G=v.default.createElement("div",{className:R.default.spacer})),v.default.createElement(b.default,{className:d.container,onFocus:this.restoreFocus},B,G,v.default.createElement("div",{className:d.inputWrapper},U,this.showEmptyValuePlaceholder()&&v.default.createElement("div",{className:R.default.emptyValPlaceholder},A),E,p),L&&v.default.createElement(x.EmojiSuggestions,{theme:F.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),O,S)}}]),t}(g.Component));U.defaultProps={maxLength:25,editable:!0},U.displayName="TextInput",t.default=U},hfjchijff:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("djcchigfih"),f=a(c),d=n("dajffajabh"),p=a(d),h=n("djbhiedbef"),m=a(h),b=n("dcjdgceiej"),g=a(b),v=n("iibcehaia"),y=a(v),_=n("bfejacaeaj"),E=a(_),j=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onClose=function(){a.props.onClose?a.props.onClose():a.context.uim.uie.requestDismiss()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.chat.getReceivedVCardMsgs(),t=e&&e.map(function(e){return u.createElement(y.default,{key:e.id.toString(),msg:e})});return u.createElement(f.default,null,u.createElement(p.default,{title:l10n.t("contact_card",{_plural:e?e.length:0}),onBack:this.onClose,type:d.DRAWER_HEADER_TYPE.LARGE}),u.createElement(m.default,null,t))}}]),t}(u.Component);j.contextTypes={uim:E.default.instanceOf(g.default)},j.displayName="ContactCardDrawer",t.default=j},hhjiahbag:function(e,t){e.exports={muted:"_3keZW",metadataContainer:"XOIaT",metadataText:"_3luN5",metadataTitle:"_3yN2_",metadataSubtitle:"_3WFBR",metadataDesc:"vJCph",participantList:"_18tvF",participantsTitle:"_3xWWz",participantsContainer:"_2qj30",participantWrapper:"_89Cym",emptyContentContainer:"_1LQrs",participantsText:"_1WSDe",contactsText:"_2oG62",participantText:"_3Z_4g"}},hicgdccej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("dgjddffcfg"),p=a(d),h=n("bjbedjfe"),m=a(h),b=n("ejbdjaifi"),g=n("dbjhghahdd"),v=a(g),y=n("bjbggbjed"),_=a(y),E=n("caffijjhc"),j=a(E),w=n("dbjbhajgfd"),O=a(w),C=n("jjbcbhhjh"),S=a(C),P=n("didfdhbecg"),M=a(P),T=n("dbgdaechch"),k=n("gbfffciea"),N=a(k),I=n("bfjajhbdf"),R=a(I),A=n("bfdcadbbif"),D=a(A),x=n("bihdbbidff"),L=a(x),F=n("fffdgbfji"),U=a(F),B=n("cdheafhdbh"),G=n("dbbhhgjjbg"),V=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.emojiInputComponent=(0,v.default)(),e.isSkinTonePickerOpen=!1,e.onSend=function(t){if(t.preventDefault(),e.inputLine){var n=e.inputLine.value.trim();n.length&&(f.default.find(e.props.msg.sender).then(function(t){(0,G.sendTextMsgToChat)(t,p.default.emojify(n),{quotedMsg:e.props.msg}),e.props.onSend(),N.default.openToast(u.createElement(R.default,{msg:U.default.t("status_v3_reply"),id:(0,I.genId)()}))}),e.inputLine&&e.inputLine.reset(),e.props.dismissReply())}},e.onFocus=function(t){e.setState({focused:!0})},e.onBlur=function(t){e.isSkinTonePickerOpen||e.setState({focused:!1})},e.onSkinTonePicker=function(t){e.isSkinTonePickerOpen=t},e.isFocused=function(){return e.state.focused},e.onEmojiPicker=function(t){t&&(t.preventDefault(),t.stopPropagation());var n=u.createElement(_.default,{onEmoji:e.onEmoji,onFocusNext:e.restoreFocus,onFocusPrev:e.restoreFocus});e.setState({emojiPicker:{menu:n,dirY:T.DirY.TOP,type:"emoji_picker",anchor:t.target}})},e.onEmoji=function(t){e.inputLine&&e.inputLine.replaceSelection(t)},e.restoreFocus=function(){e.inputLine&&e.inputLine.focus()},e.restoreEmojiPickerFocus=function(){if(e.refEmojiPickerUIE){var t=e.refEmojiPickerUIE.getRef();if(t){var n=t.getElement();n&&n.restoreFocus()}}},e.emojiPickerClose=function(){e.setState({emojiPicker:void 0})},e.setRefEmojiPickerUIE=function(t){e.refEmojiPickerUIE=t},e.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},f.default.find(e.props.msg.sender).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({chat:t})}),e}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e,t){this.shouldPausePlayback(t)&&!this.shouldPausePlayback(this.state)?this.props.play():!this.shouldPausePlayback(t)&&this.shouldPausePlayback(this.state)&&this.props.pause()}},{key:"shouldPausePlayback",value:function(e){return e.emojiPicker||e.focused}},{key:"isPaused",value:function(){return this.shouldPausePlayback(this.state)}},{key:"render",value:function(){var e=void 0,t=void 0;this.state.emojiPicker&&(e=u.createElement(j.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.emojiPickerClose,requestFocus:this.restoreEmojiPickerFocus},u.createElement(O.default,{contextMenu:this.state.emojiPicker})),t=u.createElement(j.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this.restoreEmojiPickerFocus},u.createElement("div",null,e)));var n=void 0,a=this.state.chat;a&&this.state.focused&&!this.state.emojiPicker&&(n=u.createElement(j.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},u.createElement("div",{className:L.default.popupPanel},u.createElement(S.default,{msg:this.props.msg,theme:"statusV3",key:this.props.msg.id.toString(),chat:a}))));var r=this.emojiInputComponent;return u.createElement("div",{className:L.default.container},u.createElement(M.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},n),u.createElement("div",{className:L.default.wrapper},u.createElement("button",{className:L.default.emojiIcon,onClick:this.onEmojiPicker},u.createElement(D.default,{name:"status-v3-smiley"})),u.createElement("div",{className:L.default.lineWrapper},u.createElement(r.EmojiSuggestions,{theme:B.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),u.createElement(r,{ref:(0,b.GetRef)("inputLine",this),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:U.default.t("type_a_reply"),editable:!0,multiline:!0})),u.createElement("button",{className:L.default.sendIcon,onClick:this.onSend},u.createElement(D.default,{name:"send-light",directional:!0})),t))}}]),t}(u.Component);V.displayName="StatusV3ComposeBox",t.default=(0,m.default)((0,b.hoc)(V))},hichbacjh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("dbdfbgehgj"),h=a(p),m=n("fifhbjiec"),b=a(m),g=n("gigbjdedj"),v=a(g),y=n("gbfffciea"),_=a(y),E=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hover:!1},a.onMouseOver=function(e){a.setState({hover:!0})},a.onMouseEnter=function(e){a.setState({hover:!0})},a.onMouseLeave=function(e){a.setState({hover:!1})},a.getGroupName=function(){var e=a.props.quotedGroupJid,t=h.default.get(e);return t&&t.formattedTitle},a.onClick=function(){var e=a.props.quotedGroupJid;h.default.find(e).then(function(e){return _.default.openChatBottom(e)})},r=n,i(a,r)}return l(t,e),s(t,[{key:"hoverable",value:function(){return!this.state.hover&&!this.props.isComposePreview}},{key:"render",value:function(){var e,t=this.props.isComposePreview,n=this.getGroupName();if(!n)return null;var a=(0,d.default)(v.default.quotedMsg,(e={},r(e,v.default.hover,this.state.hover),r(e,v.default.composeBoxQuotedMsg,!!t),e));return c.createElement("div",{onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:a},c.createElement("div",{className:v.default.msg,role:t?"none":"button",onClick:this.onClick},c.createElement("span",{className:v.default.colorBar}),c.createElement("div",{className:v.default.msgBody},c.createElement(b.default,{className:"quoted-mention",text:l10n.t("quoted_admin_msg_group_name",{groupName:n}),direction:"auto",key:"status"}))))}}]),t}(c.PureComponent);E.displayName="QuotedAdminMsgGroupName",t.default=E},hjbcfjaai:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("bgddggdhc"),p=n("ihfccfgdf"),h=a(p),m=n("eceadcicaf"),b=a(m),g=n("bjbedjfe"),v=a(g),y=n("ejbdjaifi"),_=n("ceffhbhahb"),E=a(_),j=n("hbhijdici"),w=a(j),O=n("cajijabhgb"),C=r(O),S=n("bfejacaeaj"),P=a(S),M=n("eadfaddcj"),T=a(M),k=n("hicgdccej"),N=a(k),I=n("gbfffciea"),R=a(I),A=n("dbdfbgehgj"),D=a(A),x=n("cajbifjffe"),L=a(x),F=n("cbigbjjigh"),U=a(F),B=n("fifhbjiec"),G=a(B),V=n("gaifbabbj"),W=n("dedicfgaca"),H=a(W),Y=n("ffgjgcghi"),q=n("dhhfaeacef"),K=a(q),z=n("dhfbfehaef"),Q=a(z),X=n("becfabjeeg"),J=a(X),Z=n("dgfecega"),$=a(Z),ee=n("chhhffajfi"),te=n("djifeiaaea"),ne=a(te),ae=n("bffjfbgbg"),re=a(ae),oe=n("bjebjijbfc"),ie=a(oe),le=n("ddajbaceej"),se=a(le),ue=n("cjegehjigc"),ce=a(ue),fe=n("bdiiahhjbe"),de=a(fe),pe=n("bfbggcdbfb"),he=a(pe),me=n("bbjadhadbg"),be=a(me),ge=n("ccaaiecfib"),ve=a(ge),ye=n("caffijjhc"),_e=n("dcjdgceiej"),Ee=function(e){function t(){i(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.componentWillUnmount=function(){if(e.playbackController.removeListeners(),e.props.sessionId){var t=Math.round(e.playbackController.duration||0);e.statusViewEvent.webcStatusPlaybackT=t;var n=e.playStartTime;n&&(e.statusViewEvent.webcStatusViewT+=w.default.round(window.performance.now()-n),e.playStartTime=void 0),e.statusViewEvent.commit()}},e.onWindowResize=function(){if(e.refMeasuringProfile&&e.refProgressBar){var t=(0,d.forbiddenAssertDOMNode)(e.refMeasuringProfile).getBoundingClientRect(),n=(0,d.forbiddenAssertDOMNode)(e.refProgressBar).getBoundingClientRect();!l10n.isRTL()&&t.right>n.left-5||l10n.isRTL()&&t.left<n.right+5?e.setState({narrow:!0}):e.setState({narrow:!1})}},e.onTab=function(t){if(t&&(t.stopPropagation(),t.preventDefault()),!e.props.statusV3.contact.isMe){e.composeBox.isFocused()?e.dismissReply():e.startReply()}},e.onWindowGainedFocus=function(){e.windowFocused=!0,e.play()},e.onWindowLostFocus=function(){e.windowFocused=!1,e.pause()},e.onClickProfile=function(){var t=e.props.statusV3.contact.id;D.default.find(t).then(function(e){return R.default.openChatBottom(e)}).then(function(){e.props.closeStatusViewer(!0)})},e.play=function(){var t=e.props.mediaData;if(t){if(t.mediaStage!==re.default.STAGE.RESOLVED)return;e.statusViewEvent.webcStatusLoadT||(e.statusViewEvent.markWebcStatusLoadT(),e.statusViewEvent.webcStatusLoaded=!0)}var n=e.composeBox;n&&n.isPaused()||e.windowFocused&&(e.playStartTime=window.performance.now(),e.playbackController.resume())},e.pause=function(){var t=e.props.mediaData;if(!t||t.mediaStage===re.default.STAGE.RESOLVED){var n=e.playStartTime;n&&(e.statusViewEvent.webcStatusViewT+=w.default.round(window.performance.now()-n),e.playStartTime=void 0),e.playbackController.pause()}},e.onMouseDown=function(t){e.pause()},e.onMouseUp=function(t){e.play()},e.dismissReply=function(){var t=(0,d.forbiddenFindDOMNode)(e.refWrapper);t&&se.default.focus(t)},e.startReply=function(){e.composeBox.restoreFocus()},e.onSend=function(){e.statusViewEvent.webcStatusReplyCount++},e.setRefProgressBar=function(t){e.refProgressBar=t},e.setRefMeasuringProfile=function(t){e.refMeasuringProfile=t},e.setRefWrapper=function(t){e.refWrapper=t},e.state={chat:void 0,narrow:!1},e.windowFocused=!0,e.playbackController=(0,Y.setupStatusV3Controller)(e.props.mediaData,e.props.msg),e.statusViewEvent=new he.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),e}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.statusV3,a=t.msg,r=t.mediaData,o=t.msgIdx,i=t.sessionId;if(i){var l=void 0;l=n.contact.isMe?he.default.WEBC_STATUS_ROW_SECTION.MY:n.contact.statusMute?he.default.WEBC_STATUS_ROW_SECTION.MUTED:n.hasUnread?he.default.WEBC_STATUS_ROW_SECTION.RECENT:he.default.WEBC_STATUS_ROW_SECTION.VIEWED;var s=this.props.rowIdx||0,u=n.msgs.length-1-o<n.unreadCount,c=void 0;r?c=r.isGif?he.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===r.type?he.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:he.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(c=a.getLinks().length?he.default.WEBC_STATUS_MEDIA_TYPE.URL:he.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0),this.statusViewEvent.webcStatusSessionId=i,this.statusViewEvent.webcStatusRowSection=l,this.statusViewEvent.webcStatusRowIndex=s,this.statusViewEvent.webcStatusMediaType=c,this.statusViewEvent.webcStatusUnread=u}this.refProgressBar&&this.playbackController.addListeners(function(t,n){e.refProgressBar&&e.refProgressBar.onStart(t,n)},function(){e.refProgressBar&&e.refProgressBar.onPause()},function(){e.refProgressBar&&e.refProgressBar.onEnded().checkpoint(e.props.rejectOnUnmount()).then(function(){e.props.onNext()}).catch(C.Unmount,function(){})}),r?(this.play(),r&&r.mediaStage===re.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,T.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg)),(0,d.forbiddenAssertDOMNode)(this.refWrapper).focus();var f=this.props.listeners;f.add(window,"focus",this.onWindowGainedFocus),f.add(window,"blur",this.onWindowLostFocus),f.add(window,"resize",w.default.debounce(this.onWindowResize)),this.onWindowResize()}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.msg,r=n.mediaData,i=n.statusV3,l=void 0;if(r&&r.preview)l={backgroundImage:"url("+r.preview.url()+")"};else if(a.type===T.default.MSG_TYPE.CHAT){var s=a.statusV3TextBg;l={backgroundColor:s}}var u=void 0;if(r)switch(r.type){case re.default.TYPE.IMAGE:u=f.createElement(we,{msg:a,statusV3:i,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case re.default.TYPE.VIDEO:u=f.createElement(Ce,{msg:a,statusV3:i,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this.playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:de.default.error("Invalid status v3 image type: "+r.type)()}else u=a.type===T.default.MSG_TYPE.CHAT?f.createElement(Se,{msg:a,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):f.createElement(Pe,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var c=f.createElement(H.default,{ref:this.setRefProgressBar,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar}),d=void 0;a.type!==T.default.MSG_TYPE.CHAT&&(d=f.createElement("div",{className:ce.default.captionBackdrop},f.createElement(G.default,{className:ce.default.mediaCaption,text:a.caption,formatters:V.Configuration.StatusV3Caption()})));var p=function(e){e||t.props.closeStatusViewer()},h=(0,E.default)(ce.default.profile,(e={},o(e,ce.default.nonClickProfile,a.isSentByMe),o(e,ce.default.profileNarrow,this.state.narrow),e)),m=(0,E.default)(ce.default.profile,ce.default.measuringProfile,{}),b=f.createElement("div",{ref:"profile",className:h,onClick:a.isSentByMe?null:this.onClickProfile},f.createElement("div",{className:ce.default.playerAvatar},f.createElement(K.default,{id:i.contact.id,theme:"status_v3",size:40})),f.createElement("div",{className:ce.default.msgInfo},f.createElement(G.default,{className:ce.default.msgInfoName,text:i.contact.formattedName}),f.createElement("div",{className:ce.default.timestamp},ie.default.relativeDateAndTimeStr(a.t)))),g=f.createElement("div",{ref:this.setRefMeasuringProfile,className:m},f.createElement("div",{className:ce.default.playerAvatar},f.createElement(K.default,{id:i.contact.id,theme:"status_v3",size:40})),f.createElement("div",{className:ce.default.msgInfo},f.createElement(G.default,{className:ce.default.msgInfoName,text:i.contact.formattedName}),f.createElement("div",{className:ce.default.timestamp},ie.default.relativeDateAndTimeStr(a.t)))),v={tab:this.onTab,"shift+tab":this.onTab},_=function(e){return e.stopPropagation()},j={left:_,right:_},w=void 0;r&&(w=f.createElement(Te,{mediaData:r}));var O=void 0;this.props.statusV3.contact.isMe||(O=f.createElement(Q.default,{handlers:j},f.createElement(N.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,y.GetRef)("composeBox",this)})));var C=(0,E.default)(ce.default.playerBackground,o({},ce.default.media,r)),S=void 0,P=(0,E.default)(ce.default.progresBarBackdrop,o({},ce.default.progressBarBackdropNarrow,this.state.narrow));return a.type!==T.default.MSG_TYPE.CHAT&&(S=f.createElement("div",{className:P})),f.createElement(ye,{displayName:"StatusV3Player",escapable:!0,requestDismiss:p,requestFocus:this.dismissReply},f.createElement(Q.default,{handlers:v},f.createElement("div",{className:ce.default.playerWrapper,key:a.id.toString(),tabIndex:-1,ref:this.setRefWrapper},g,b,S,c,d,f.createElement("div",{className:C,style:l}),u,w,O)))}}]),t}(f.Component);Ee.contextTypes={uim:P.default.instanceOf(_e)},Ee.displayName="_StatusV3Player";var je=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._renderImage=function(e){var t=a.props.mediaData,n=(0,E.default)(ce.default.playerContent,ce.default.v3Image);return f.createElement("div",{className:n,onMouseDown:a.props.onMouseDown,onMouseUp:a.props.onMouseUp,onDragEnd:a.props.onMouseUp},f.createElement($.default,{type:Z.FIT_TYPE.CONTAIN,size:{width:t.fullWidth,height:t.fullHeight}},f.createElement(L.default,{src:e})))},a._renderPreviewImage=function(){var e=a.props.mediaData,t=(0,E.default)(ce.default.playerContent,ce.default.v3Image,ce.default.loading);return f.createElement("div",{className:t,onMouseDown:a.props.onMouseDown,onMouseUp:a.props.onMouseUp},f.createElement($.default,{type:Z.FIT_TYPE.CONTAIN,size:{width:e.aspectRatio,height:1}},f.createElement(L.default,{src:e.preview&&e.preview.url()})))},a._downloadMedia=function(){return a.props.msg.forceDownloadMedia()},r=n,l(a,r)}return s(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.mediaData.mediaStage!==re.default.STAGE.RESOLVED&&this.props.msg.forceDownloadMedia()}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===re.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){if(ve.default.supportsFeature(ve.default.F.REPLACE_MEDIABLOB))return f.createElement(be.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia},this._renderImage);var e=this.props.mediaData;return e.mediaStage===re.default.STAGE.RESOLVED?this._renderImage(e.renderableUrl):this._renderPreviewImage()}}]),t}(f.PureComponent);je.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio"]},je.displayName="_StatusV3Img";var we=(0,h.default)((0,y.hoc)(je),je.CONCERNS),Oe=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setPlayer=function(e){a.refPlayer=e},r=n,l(a,r)}return s(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.mediaData.mediaStage!==re.default.STAGE.RESOLVED&&this.props.msg.forceDownloadMedia()}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===re.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"componentDidMount",value:function(){var e=(0,d.forbiddenAssertDOMNode)(this.refPlayer);this.props.playbackController.setVideo(e)}},{key:"render",value:function(){var e=this.props.mediaData,t=e.mediaStage!==re.default.STAGE.RESOLVED,n=(0,E.default)(ce.default.playerContent,ce.default.v3Video,{loading:t}),a=e.preview?e.preview.url():void 0;return f.createElement("div",{className:n,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},f.createElement(U.default,{msg:this.props.msg,mediaData:this.props.mediaData,autoPlay:!0,ref:this.setPlayer,poster:a},l10n.t("video_playback_not_supported")))}}]),t}(f.PureComponent);Oe.CONCERNS={mediaData:["preview","mediaStage"]},Oe.displayName="_StatusV3Video";var Ce=(0,h.default)((0,y.hoc)(Oe),Oe.CONCERNS),Se=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"componentWillMount",value:function(){ne.default.load(this.props.msg.font).catch(function(){})}},{key:"render",value:function(){var e,t=(0,ee.numCodepoints)(this.props.msg.body),n=void 0,a=void 0,r=o({},ce.default["font_"+(this.props.msg.font||0)],!0);return t<=60?(n=(0,E.default)(ce.default.text,ce.default.textLarge,r),a=V.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):t<=240?(n=(0,E.default)(ce.default.text,ce.default.textMedium,r),a=V.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):n=(0,E.default)(ce.default.text,ce.default.textSmall,r),f.createElement("div",{className:(0,E.default)(ce.default.playerContent,(e={},o(e,ce.default.statusPanelPlayerContent,"status-panel"===this.props.theme),o(e,ce.default.statusThumbnailPlayerContent,"status-thumbnail"===this.props.theme),o(e,ce.default.textThumbnailPlayerContent,"text-thumb"===this.props.theme),e)),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},f.createElement("div",{className:n},f.createElement(G.default,{text:this.props.msg.body,formatters:a})))}}]),t}(f.PureComponent);Se.displayName="StatusV3Text";var Pe=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){return f.createElement("div",{className:ce.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},f.createElement("div",{className:ce.default.unknown},l10n.t("status_v3_unknown_placeholder")))}}]),t}(f.PureComponent);Pe.displayName="StatusV3Unknown";var Me=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){return this.props.mediaData.mediaStage!==re.default.STAGE.RESOLVED?f.createElement("div",{className:ce.default.mediaStateControls},f.createElement("button",{className:"icon-media-disabled"},f.createElement(J.default,{size:50,stroke:4,color:"white"}))):null}}]),t}(f.Component);Me.CONCERNS={mediaData:["mediaStage"]},Me.displayName="_LoadingSpinner";var Te=(0,h.default)((0,y.hoc)(Me),Me.CONCERNS),ke=(0,v.default)((0,b.default)((0,y.hoc)(Ee)));t.default=ke,t.StatusV3Text=Se},hjbhabfd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o((0,v.unproxy)(e),t)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,b.genId)(),a=t&&t.trim();if(a===e.groupMetadata.desc)return Promise.reject(new l.ActionError);""===a&&(a=null);var r=(0,g.sendSetGroupDescription)(e.id,a,(0,p.default)(),e.groupMetadata.descId),s=e.groupMetadata.desc,c=new b.ActionType(l10n.t("action_group_desc_change")),d=r.then(function(t){return new b.ActionType(l10n.t("action_group_desc_changed"),l10n.t("action_undo"),function(){return o(e,s,n)})}).catch(i.ServerStatusCodeError,function(e){if(e.status>=400)return new b.ActionType(l10n.t("action_group_desc_change_failed"))}).catch(function(t){return f.default.error("models:chat:setGroupDesc dropped")(t),new b.ActionType(l10n.t("action_group_desc_change_failed"),l10n.t("action_try_again"),function(){return o(e,a,n)})});return u.default.openToast(m.default.createElement(b.ActionToast,{id:n,initialAction:c,pendingAction:d})),r.then(function(t){t._duplicate||(e.groupMetadata.desc=a||"")}).catch(i.ServerStatusCodeError,function(e){})}Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDesc=r;var i=n("cajijabhgb"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n("gbfffciea"),u=a(s),c=n("bdiiahhjbe"),f=a(c),d=n("cfejjfjhca"),p=a(d),h=n("ddhijeejag"),m=a(h),b=n("ccihhdchab"),g=n("babicefcfg"),v=n("bheafeifce")},iabebjcej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("djhbegbdaf"),f=a(c),d=n("ihfccfgdf"),p=a(d),h=n("ejbdjaifi"),m=n("jegbhjbde"),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.msg,t=e.subtype,n=e.body,a=e.recipients,r={},o=void 0,i=void 0;if("create"===t){var l=parseInt(n,10);o="web_you_created_list_unnamed",r.count=l,i=l}else if("add"===t){var s=a.length;o="web_list_recipient_added",r.name=(0,m.getFormattedNames)(a,!0),i=s}else if("remove"===t){var c=a.length;o="web_list_recipient_removed",r.name=(0,m.getFormattedNames)(a,!0),i=c}return o?u.createElement(f.default,{id:o,params:r,plural:i,wrapInHiddenToken:!0}):null}}]),t}(u.PureComponent);b.CONCERNS={msg:["type","subtype","body","recipients"]},b.displayName="BroadcastNotification",t.default=(0,p.default)((0,h.hoc)(b),b.CONCERNS)},iaejfgacj:function(e,t){e.exports={muted:"_1a5q8",confirmationText:"BJa6O"}},iagahbjff:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("ceffhbhahb"),f=a(c),d=n("hbhijdici"),p=a(d),h=n("fffdgbfji"),m=a(h),b=n("jdigiabic"),g=a(b),v=n("cgfidiajgj"),y=a(v),_=n("dfcihdhibf"),E=a(_),j=n("bdjihaecid"),w=a(j),O=n("dfhebgbhja"),C=a(O),S=n("faeabghda"),P=a(S),M=n("cjfhhbcfdh"),T=a(M),k=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={isCollectionReady:g.default.isSynced()},a._setRefScrollGrid=function(e){a._refScrollGrid=e},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.state.isCollectionReady||g.default.syncOnce().then(function(){e.setState({isCollectionReady:!0})})}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){return this.state.isCollectionReady?0===g.default.length?u.createElement("div",{className:(0,f.default)(C.default.emptyContainer,C.default.contentContainer)},u.createElement("div",{className:C.default.emptySticker,style:{backgroundImage:"url("+T.default+")"}}),u.createElement("p",{className:C.default.emptyText},m.default.t("sticker_panel_recent_empty"))):u.createElement(E.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:g.default.toArray()}):u.createElement("div",{className:P.default.container},p.default.times(b.RECENT_STICKERS_LIMIT,function(e){return u.createElement(w.default,{key:e,sticker:y.default.getPlaceholder()})}))}}]),t}(u.PureComponent);k.displayName="StickerPackStickersRecent",t.default=k},iaibjaeb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.Mode=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("dbdfbgehgj"),d=a(f),p=n("bgddggdhc"),h=n("djaadchjch"),m=a(h),b=n("bcifhbgija"),g=a(b),v=n("ebjaejiaba"),y=a(v),_=n("cjcaccbiih"),E=a(_),j=n("dggbjaijga"),w=a(j),O=n("ihfccfgdf"),C=a(O),S=n("bdiiahhjbe"),P=a(S),M=n("eceadcicaf"),T=a(M),k=n("ejbdjaifi"),N=n("dhfbfehaef"),I=a(N),R=n("cbeecgcage"),A=a(R),D=n("bifjfdedi"),x=a(D),L=n("hbhijdici"),F=a(L),U=n("biddiiafgd"),B=a(U),G=n("caijdggfg"),V=n("dgibicjjj"),W=a(V),H=n("dhhfaeacef"),Y=a(H),q=n("dhhcghbjeb"),K=a(q),z=n("bgjaficfde"),Q=a(z),X=n("dcjaicbbhg"),J=a(X),Z=n("bjghdijfjd"),$=a(Z),ee=n("cfchhaeaaf"),te=a(ee),ne=n("eihefeaje"),ae=n("eadfaddcj"),re=a(ae),oe=n("gbfffciea"),ie=a(oe),le=n("cgejchjdhj"),se=n("cajijabhgb"),ue=r(se),ce=n("cfffidafid"),fe=n("dbjbhajgfd"),de=a(fe),pe=n("caffijjhc"),he=a(pe),me=n("ddajbaceej"),be=a(me),ge=n("fffdgbfji"),ve=a(ge),ye=n("bhheahajjg"),_e=a(ye),Ee=n("bjigbaghc"),je=a(Ee),we=n("bfbggcdbfb"),Oe=n("bebjeaagc"),Ce=a(Oe),Se=n("ccaaiecfib"),Pe=a(Se),Me=n("bheafeifce"),Te=n("jccfhaecf"),ke=a(Te),Ne=n("bhhdeihhhf"),Ie=a(Ne),Re=n("cfhgffgbcb"),Ae=a(Re),De=n("hdccjfbbg"),xe=t.Mode={LAST:"LAST",INFO:"INFO"},Le=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.hoverCounter=0,a.preFetchGroupMetadata=function(){var e=a.props.chat;e.groupMetadata&&e.groupMetadata.stale&&m.default.find(e.id).catch(ue.WapDrop,ue.ProtoVersionUndefined,function(){})},a.onSearch=function(){a.props.searchQuery?a.setState({searchText:a.props.searchQuery.trimmed}):P.default.error("Chat: prop searchQuery is undefined")()},a.onActiveChange=function(e,t){if("focus"===e){var n=(0,p.forbiddenAssertDOMNode)(a);be.default.focus(n),t&&(0,le.scrollIntoViewIfNeeded)(n)}a.setState({active:!!e})},a.contextEnabled=function(){return!a.props.noContext},a.editLabel=function(){var e=a.props,t=e.selectableState,n=e.multiSelection;if(a.props.searchQuery&&!a.props.searchQuery.isEmptyQuery)return void a.addOrRemoveLabelOnSelected();t&&n&&(t.setSelectable(!0),n.setVal((0,Me.unproxy)(a.props.chat)))},a.addOrRemoveLabelOnSelected=function(){var e=[(0,Me.unproxy)(a.props.chat)];ie.default.openModal(c.createElement(Ae.default,{modelsToUpdate:e}))},a.onMenu=function(e){if(a.state.contextMenu)return void a.setState({contextMenu:void 0});var t=a.props.chat,n=[];t.canArchive()&&n.push(c.createElement(Q.default,{key:"archive",onArchive:a.onArchive,chat:(0,Me.unproxy)(t)})),t.mute.canMute()&&n.push(c.createElement(K.default,{key:"mute",onMute:a.onMute,mute:t.mute})),n.push(c.createElement(J.default,{key:"delete",onDeleteOrExit:a.onDeleteOrExit,chat:(0,Me.unproxy)(t)})),je.default.platform===Ee.PLATFORMS.IPHONE&&t.isBroadcast||!t.canPin()||n.push(c.createElement(te.default,{key:"pin",onPinOrUnpin:a.onPinOrUnpin,chat:t})),Pe.default.supportsFeature(Pe.default.F.LABELS_EDIT)&&n.push(c.createElement(Ie.default,{a8n:"mi-edit-label",action:a.editLabel,key:"EditLabel"},ve.default.t("edit_label_title"))),n.push(c.createElement($.default,{key:"mark_unread",onMarkUnread:a.onMarkUnread,chat:(0,Me.unproxy)(t)})),e.event&&e.event.persist(),a.setState({contextMenu:{menu:n,event:e.event,anchor:e.anchor}})},a.removeContext=function(){a.setState({contextMenu:void 0})},a.onMute=function(e){ie.default.muteChat((0,Me.unproxy)(a.props.chat),e)},a.onArchive=function(e){ie.default.archiveChat((0,Me.unproxy)(a.props.chat),e)},a.onDeleteOrExit=function(){ie.default.deleteOrExitChat((0,Me.unproxy)(a.props.chat),a)},a.onPinOrUnpin=function(e){!e||d.default.filter(function(e){return e.pin}).length<3?ie.default.pinChat((0,Me.unproxy)(a.props.chat),e):ie.default.openModal(c.createElement(B.default,{onOK:function(){return ie.default.closeModal()},okText:ve.default.t("web_ok")},ve.default.t("action_chat_pin_failed_405")))},a.onMarkUnread=function(e){ie.default.markChatUnread((0,Me.unproxy)(a.props.chat),e)},a.onClick=function(e){var t=a.props,n=t.onClick,r=t.chat;n&&n(e,(0,Me.unproxy)(r))},a.onMouseDown=function(e){0===e.button&&a.onClick(e)},a.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,N.shouldIndicateFocus)(),a.onClick(e)},a.onDragEnter=function(e){if(a.props.chat.canSend){var t=e.dataTransfer;F.default.includes(t.types,re.default.DRAG_TYPE_FILE)&&(0===a.hoverCounter&&a.setState({dragging:!0}),a.hoverCounter+=1)}},a.onDragLeave=function(e){if(a.props.chat.canSend){var t=e.dataTransfer;F.default.includes(t.types,re.default.DRAG_TYPE_FILE)&&(a.hoverCounter-=1,0===a.hoverCounter&&a.setState({dragging:!1}))}},a.onDrop=function(e){var t=a.props.chat;if(t.canSend){a.setState({dragging:!1});var n=e.dataTransfer;(F.default.includes(n.types,re.default.DRAG_TYPE_FILE)||F.default.includes(n.types,"text/uri-list")||F.default.includes(n.types,"text/html"))&&(0,ce.getFiles)(e).then(function(e){ie.default.openChatFromUnread(t).then(function(n){n&&ie.default.attachMediaDrawer({chat:t,files:e,fileOrigin:we.MEDIA_PICKER_ORIGIN_TYPE.PASTE})})}).catch(ue.MediaDragDropError,function(e){ie.default.openChatFromUnread(t).then(function(n){n&&ie.default.pasteChatTextInput(t,e.src)})})}},a.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,N.indicateFocus)(a.cell,["#e9eaeb","#cbdde7"],{complete:a.onBlur})},a.onBlur=function(e){var t=(0,p.forbiddenFindDOMNode)(a.cell);t&&((0,g.default)(t,"stop"),t.style.backgroundColor="")},a.openContextMenu=function(){a.cell.openContextMenu()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props.chat;this.initListeners(this.props),this.setState({dragging:!1,contextMenu:void 0}),Pe.default.supportsFeature(Pe.default.F.GROUPS_V_3)&&e.isGroup&&e.groupMetadata&&e.groupMetadata.stale&&Ce.default.enqueue(this.preFetchGroupMetadata)}},{key:"componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var n=e.listeners,a=e.active,r=e.chat,o=e.searchQuery,i=e.frequent;t&&t.searchQuery&&t.searchQuery!==o&&n.remove(t.searchQuery,G.SEARCH_EVENT,this.onSearch),!o||t&&o===t.searchQuery||n.add(o,G.SEARCH_EVENT,this.onSearch);var l=t&&t.chat.id;if(!r.id.equals(l)&&(t&&t.active&&n.remove(t.active,t.chat.id.toString(),this.onActiveChange),a)){var s=(i?De.FREQUENT_PREFIX:"")+r.id.toString();n.add(a,s,this.onActiveChange)}var u=a&&a.value instanceof y.default&&ke.default.equals(a.value.id,r.id);this.setState({searchText:o?o.trimmed:"",active:u})}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.mode,a=e.secondary,r=e.theme,o=this.state,i=o.searchText,l=o.active,s=o.dragging,u=o.contextMenu,f=void 0,d=void 0,p={};switch(n){case xe.LAST:f=c.createElement(A.default,{chat:t}),a||(a=c.createElement(x.default,{chat:t}),d=c.createElement(w.default,{chat:t,mute:t.mute})),p.enter=this.onEnter,p[ve.default.LR("right","left")]=this.openContextMenu;break;case xe.INFO:a||(a=t.isGroup?c.createElement(ne.ParticipantsList,{groupMetadata:t.groupMetadata}):c.createElement(E.default,{presence:t.presence,chatstate:t.presence.chatstate,location:"list"})),p.enter=this.onEnter}var h=c.createElement(Y.default,{id:t.id,waitIdle:!0}),m=this.props.mouseDownAsClick,b=void 0;u&&(b=c.createElement(he.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.removeContext},c.createElement(de.default,{contextMenu:u})));var g=c.createElement(_e.default,{chat:t,highlightText:i,showLabel:!0,titlify:!0,ellipsify:!0});return c.createElement(I.default,{handlers:p,onFocus:this.indicateFocus,onBlur:this.onBlur,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop},c.createElement(W.default,{id:t.id,ref:(0,k.GetRef)("cell",this),theme:r,contextEnabled:this.contextEnabled,pendingAction:t.pendingAction,contextMenu:!!u,unread:!!t.hasUnread,active:!!l,dragging:!!s,image:h,primary:g,primaryDetail:f,secondary:a,secondaryDetail:d,onClick:m?void 0:this.onClick,onMouseDown:m?this.onMouseDown:void 0,onContext:this.onMenu}),b)}}]),t}(c.PureComponent);Le.CONCERNS={chat:["id","hasUnread","isReadOnly","isGroup","pendingAction","canSend","isUser","contact","presence","groupMetadata","mute","isBroadcast"]},Le.defaultProps={mode:xe.LAST},Le.displayName="Chat";t.Component=Le;t.default=(0,T.default)((0,C.default)((0,k.hocWithDefaults)(Le),Le.CONCERNS))},ibeajfihb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhigahgdjb"),f=a(c),d=n("fifhbjiec"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=n("bheafeifce"),v=n("efgfgjab"),y=a(v),_=n("chccggajbc"),E=a(_),j=n("gbbacfeci"),w=a(j),O=n("jccfhaecf"),C=a(O),S=u.createElement("span",{className:E.default.statusLoading},l10n.t("contact_status_loading")),P=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.status,t=u.createElement(p.default,{direction:"auto",ellipsify:!0,titlify:!0,text:e.status}),n=function(){return w.default.find(e.id),void 0!==e.status?t:S},a=(0,g.unproxy)(e).stale?S:t;return u.createElement(y.default,{id:e.id,onComplex:n,waitIdle:this.props.waitIdle},a)}}]),t}(u.PureComponent);P.WEAK_CONCERNS={status:["id","stale","status"]},P.displayName="Status";var M=(0,m.default)((0,b.hoc)(P),void 0,P.WEAK_CONCERNS),T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:w.default.get(e.id)},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){if(!this.state.status){var e=f.default.gadd(this.props.id);this.setState({status:e.getStatus()})}}},{key:"componentDidUpdate",value:function(e){if(!C.default.equals(this.props.id,e.id)){var t=f.default.gadd(this.props.id);this.setState({status:t.getStatus()})}}},{key:"render",value:function(){var e=this.state.status;return e?u.createElement(M,{status:e,waitIdle:this.props.waitIdle}):S}}]),t}(u.PureComponent);T.displayName="StatusWrapper",t.default=T},ibebafhjb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=a(s),c=n("ihfccfgdf"),f=a(c),d=n("ejbdjaifi"),p=n("dagibffcjf"),h=a(p),m=n("bcfiaiddii"),b=a(m),g=n("cgecdbiihg"),v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,a=n.preview?"url("+n.preview.url()+")":void 0;return u.default.createElement(h.default,{aspectRatio:n.aspectRatio,previewUrl:a,animationStartStyle:this.props.animationStartStyle},u.default.createElement(b.default,{msg:t,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onOpenMediaViewer:this.props.onOpenMediaViewer,onMissingMedia:this.props.onMissingMedia,onUnsupportedMedia:this.props.onUnsupportedMedia,autoPlay:this.props.autoPlay,type:g.PLAYER_TYPE.FLOATER}))}}]),t}(s.Component);v.CONCERNS={mediaData:["preview","aspectRatio"]},v.displayName="FloatingMsgVideoPlayer",t.default=(0,f.default)((0,d.hoc)(v),v.CONCERNS)},icaahcghc:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("dcbfjbeaad"),d=a(f),p=n("dfhjacfbjg"),h=r(p),m=n("bjigbaghc"),b=a(m),g=n("bcbahjefec"),v=a(g),y=n("ciebcgbegd"),_=a(y),E=n("bafdafhgja"),j=a(E),w=n("bajidgjehj"),O=a(w),C=n("dhefcajhhb"),S=a(C),P=n("cacaidhjb"),M=a(P),T=n("ijecjcidg"),k=a(T),N=n("gbbacfeci"),I=a(N),R=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.showWallpaperDrawer=function(){a.push(c.createElement(k.default,{onClose:a._pop}))},a.showBlockedDrawer=function(){a.push(c.createElement(d.default,{onClose:a._pop}))},a.showProfileDrawer=function(){var e=I.default.assertGet(b.default.me),t=S.default.assertGet(b.default.me);a.push(c.createElement(O.default,{status:e,profilePicThumb:t,conn:b.default,onClose:a._pop}))},a.showNotifications=function(){a.push(c.createElement(j.default,{onClose:a._pop}))},a.showHelp=function(){h.upload("help-page-opened"),a.push(c.createElement(_.default,{onClose:a._pop}))},a._pop=function(){a.pop()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.push(c.createElement(M.default,{profileId:b.default.me,onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onClose:this._pop}))}}]),t}(v.default);t.default=R},icadbbfej:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dbdfbgehgj"),f=a(c),d=n("gbfffciea"),p=a(d),h=n("dhigahgdjb"),m=a(h),b=n("cfafieaaec"),g=a(b),v=n("bcbahjefec"),y=a(v),_=n("ccjabfdeje"),E=a(_),j=n("bheehfahbe"),w=a(j),O=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onClick=function(e,t){f.default.find(t.id).then(p.default.openChatFromUnread.bind(p.default)),a.end()},a.onNewGroup=function(e){a.push(u.createElement(w.default,{onBack:a.pop,onContinue:a.onSetGroupInfo}))},a.onSetGroupInfo=function(e){a.push(u.createElement(E.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){m.default._sort.flush(),this.push(u.createElement(g.default,{title:l10n.t("new_chat_flow_title"),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}]),t}(y.default);t.default=O},icbjhhidg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MSG_HEIGHT=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("cehjjfagii"),h=a(p),m=n("jhcabjcaf"),b=a(m),g=n("bfjbdahdag"),v=a(g),y=n("bjebjijbfc"),_=a(y),E=n("gbfffciea"),j=a(E),w=n("dhhfaeacef"),O=a(w),C=n("ccaaiecfib"),S=a(C),P=n("eceadcicaf"),M=a(P),T=n("diccedcfdi"),k=a(T),N=n("cfhcfebgda"),I=a(N),R=n("behbcejhad"),A=a(R),D=n("cieaeggjg"),x=a(D),L=n("bfgbdiffgd"),F=a(L),U=n("bfdcadbbif"),B=a(U),G=n("ihfccfgdf"),V=a(G),W=n("ciifehaief"),H=a(W),Y=n("ejbdjaifi"),q=n("cicjibbhdb"),K=(t.MSG_HEIGHT=220,function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openLiveLocationDrawer=function(){var e=n.props.msg,t=e.chat,a=e.sender;j.default.liveLocationDrawer(t,a)},n.openExpiredLocationDrawer=function(){j.default.expiredLocationDrawer(n.props.msg)},n.stopSharing=function(){var e=n.props.msg.chat;j.default.openModal(c.createElement(I.default,{chat:e}))},n.onMapLoad=function(){n.setState({mapLoaded:!0})},n.state={mapLoaded:!1},n}return l(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.listeners.add(this.props.msg,"change:shareDuration")}},{key:"getExpiration",value:function(){var e=this.props.msg;return e.t+e.shareDuration}},{key:"isExpired",value:function(){return _.default.globalUnixTime()>=this.getExpiration()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.trusted,a=e.displayAuthor,o=e.quotedMsg;if(S.default.supportsFeature(S.default.F.LIVE_LOCATIONS)){var i,l=a&&!t.isSentByMe&&t.isGroupMsg?c.createElement("div",{className:H.default.author},c.createElement(h.default,{msg:t,contact:t.senderObj})):null,s=o?c.createElement("div",{className:H.default.quote},o):null,u=this.isExpired(),f=S.default.supportsFeature(S.default.F.LIVE_LOCATIONS_FINAL)&&F.default.finalLiveLocation,p=u&&void 0!==t.finalLat&&void 0!==t.finalLng,m=t.lat,g=t.lng,y=u?void 0:this.openLiveLocationDrawer;f&&(y||(y=this.openExpiredLocationDrawer),p&&(m=t.finalLat,g=t.finalLng));var E={height:150},j=c.createElement("div",{className:H.default.thumb,onClick:y,style:E},c.createElement("div",{className:H.default.map},c.createElement(A.default,{lat:m,lng:g,width:270,height:150,className:H.default.thumbBody,linkify:!1,showMarker:!1,onLoad:this.onMapLoad})),c.createElement("div",{className:(0,d.default)(H.default.avatar,r({},H.default.hidden,!this.state.mapLoaded))},c.createElement(O.default,{id:t.sender,size:40,border:!0})),c.createElement("div",{className:H.default.overlay})),w=this.getExpiration(),C=u?l10n.t("live_location_ended"):l10n.t("live_location_live_until",{time:_.default.timestampStr(w),_plural:_.default.timestampHour(w)}),P=c.createElement("div",{className:H.default.status,onClick:y},c.createElement("span",{className:H.default.statusIcon},c.createElement(B.default,{name:(0,q.liveLocationIcon)(!u),display:"inline"})),c.createElement("span",{className:H.default.statusText},C)),M=t.comment?c.createElement("div",{className:H.default.caption},c.createElement(v.default,{msg:t,trusted:n})):null,T=c.createElement("div",{className:H.default.meta},c.createElement(x.default,{msg:t})),N=void 0;if(!u){var I=void 0,R=void 0,D=void 0;t.isSentByMe?(I=this.stopSharing,R=H.default.stopLocation,D=l10n.t("live_location_stop_sharing")):(I=this.openLiveLocationDrawer,R=H.default.viewLocation,D=l10n.t("live_location_view")),N=c.createElement("div",{className:H.default.actionButton,onClick:I},c.createElement("span",{className:R},D))}return c.createElement("div",{className:(0,d.default)((i={},r(i,H.default.expired,u),r(i,H.default.hasCaption,!!t.comment),i))},c.createElement(b.default,{className:(0,d.default)(H.default.container,r({},H.default.clickable,!!y)),contact:t.senderObj,msg:t},l,s,j,P,M,T),N)}return c.createElement(k.default,{msg:t,displayAuthor:a,quotedMsg:o})}}]),t}(c.Component));K.CONCERNS={msg:["chat","comment","dir","finalLat","finalLng","isGroupMsg","isPSA","isSentByMe","lat","lng","rtl","sender","senderObj","shareDuration","t"]},K.displayName="LiveLocation",t.default=(0,M.default)((0,V.default)((0,Y.hoc)(K),K.CONCERNS))},ichcjagij:function(e,t){e.exports={muted:"WkTgR",labelRow:"aQhyH",labelContainer:"_26f5k"}},ichhibhgh:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n("cccehdaiaf"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.openPiP=function(t,n,a){e.manager&&e.manager.openPiP(t,n,a)},e.closePiP=function(){e.manager&&e.manager.closePiP()},e.pausePiP=function(){e.manager&&e.manager.pausePiP()},e.openYoutubePiP=function(t,n,a,r){e.manager&&e.manager.openYoutubePiP(t,n,a,r)},e.closeYoutubePiP=function(){e.manager&&e.manager.closeYoutubePiP()},e.openOgVideoPiP=function(t,n,a,r,o){e.manager&&e.manager.openOgVideoPiP(t,n,a,r,o)},e.closeOgVideoPiP=function(){e.manager&&e.manager.closeOgVideoPiP()},e.isOpened=function(t){return!!e.manager&&e.manager.isOpened(t)},e}return o(t,e),i(t,[{key:"register",value:function(e){this.manager=e}},{key:"unregister",value:function(){this.manager=null}},{key:"didOpen",value:function(e){this.trigger(e.id.toString()+"_pip_did_open")}},{key:"didClose",value:function(e){this.trigger(e.id.toString()+"_pip_did_close")}},{key:"didError",value:function(e){this.trigger(e.id.toString()+"_pip_did_error")}}]),t}(s.default),c=new u;t.default=c},ieddhhghi:function(e,t){e.exports={muted:"_3tCKq",vcard:"_2oNQN",controls:"_1t6xD"}},ieffcccfh:function(e,t){e.exports={muted:"_1By2n",thumbsContainer:"_14vUG",scrollContainer:"_20OzW",viewerThumbs:"_2bBH2",thumbPadding:"_3k5IR"}},ifbjhfegj:function(e,t){e.exports={muted:"NdXJS",container:"_3nET-",border:"_2spUf"}},ifeefbdg:function(e,t,n){"use strict";function a(e){return l.hasOwnProperty(e)?l[e]:l[e]=o.default.queryLinkPreview(e).then(function(t){var n=t.title,a=t.description,r=t.canonicalUrl,o=t.matchedText,l=t.preview,s=t.thumbnail;return o&&(n||a)?{url:e,data:{title:n||void 0,description:a||void 0,canonicalUrl:r||void 0,matchedText:o,richPreviewType:"video"===l?i.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.VIDEO:i.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.NONE,thumbnail:s||void 0}}:null})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("chajfbfiga"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n("bgiachiigg"),l={}},ifijdebbd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.wallpaperColor;if(t===s.default.DEFAULT_CHAT_WALLPAPER)return i.createElement("div",{className:c.default.tile,"data-asset-chat-background":!0});var n={background:t};return i.createElement("div",{className:c.default.backgroundColor,style:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n("ddhijeejag"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=n("eadfaddcj"),s=a(l),u=n("bhgjdccfde"),c=a(u)},igaagcbbj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=a(c),d=n("hbhijdici"),p=a(d),h=n("ceffhbhahb"),m=a(h),b=n("didfdhbecg"),g=a(b),v=n("beddiafhbh"),y=n("cggchheahd"),_=a(y),E=n("bjhhaacbib"),j=a(E),w=n("dbfiijcdie"),O=a(w),C=n("ejbdjaifi"),S=n("eceadcicaf"),P=a(S),M=n("bcjcbbafcj"),T=a(M),k=n("ecfgejfiia"),N=a(k),I=n("chbfbiahhb"),R=a(I),A=n("bigcibhibh"),D=a(A),x=n("cgajhcgiji"),L=a(x),F=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefContainer=function(e){n.refContainer=e},n.setRefVideo=function(e){n.refVideo=e},n.resetMouseMoveRecently=p.default.debounce(function(){n.setState({mouseMoveRecently:!1})},v.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT),n.mouseDownCoor=null,n.handleEnded=function(){n.props.onVideoEnded&&n.props.onVideoEnded();var e=n.refVideo;e&&(e.play(),e.pause()),n.setState({isVideoPlaying:!1})},n.handleError=function(){n.props.onError&&n.props.onError()},n.handlePause=function(){var e=n.refVideo?n.refVideo.getCurrentTime():null,t=null;n.state.videoMetadata&&null!=e&&(t=s({},n.state.videoMetadata,{currentTime:e})),n.setState({isVideoPlaying:!1,videoMetadata:t}),n.blockTimeUpdateOnce=!0},n.handlePlaying=function(){var e=n.refVideo?n.refVideo.getCurrentTime():null,t=null;n.state.videoMetadata&&null!=e&&(t=s({},n.state.videoMetadata,{currentTime:e})),n.setState({isVideoPlaying:!0,videoMetadata:t}),n.blockTimeUpdateOnce=!0},n.handleLoadedMetadata=function(e){var t=n.props.startTime?n.props.startTime:0;n.setState({videoMetadata:{duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0}})},n.handleVolumeChange=function(e){var t=null;n.state.videoMetadata&&(t=s({},n.state.videoMetadata,{volume:e.volume,muted:e.muted})),n.setState({videoMetadata:t})},n.handleTimeUpdate=function(e){if(n.blockTimeUpdateOnce)return void(n.blockTimeUpdateOnce=!1);var t=null;n.state.videoMetadata&&(t=s({},n.state.videoMetadata,{currentTime:e})),n.setState({videoMetadata:t})},n.handleSetCurrentTimeByControls=function(e){if(n.refVideo){var t=e;n.state.videoMetadata&&e>=n.state.videoMetadata.duration-1&&n.state.videoMetadata.duration>1&&(t=n.state.videoMetadata.duration-1),n.refVideo.setCurrentTime(t)}},n.handleProgress=function(e){var t=e[0],a=t[1],r=null;n.state.videoMetadata&&(r=s({},n.state.videoMetadata,{bufferedTime:a})),n.setState({videoMetadata:r})},n.state={videoMetadata:void 0,isVideoPlaying:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:!1,exposeIframeInPiP:!1},n}return l(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.props.listeners.add(O.default,"fullscreen_change",function(){O.default.isFullscreenMode&&O.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):O.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"componentWillUnmount",value:function(){this.resetMouseMoveRecently.cancel()}},{key:"renderVideoControls",value:function(){var e=this,t=void 0,n=this.state.videoMetadata;if(n){var a=(0,m.default)(_.default.strippedVideoControls,_.default.opacityTransition,r({},_.default.dimmed,!this.state.mouseMoveRecently));t=f.default.createElement(j.default,{refVideo:this.refVideo,videoMetadata:n,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying,handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,controlsClassName:this.state.isFullscreenMode?a:void 0}),this.state.isFullscreenMode||(t=f.default.createElement("div",{className:_.default.videoControlsWrapper,onMouseDown:function(t){e.mouseDownCoor={x:t.clientX,y:t.clientY}},onMouseUp:function(t){var n=t.clientX,a=t.clientY,r=e.mouseDownCoor?e.mouseDownCoor.x:void 0,o=e.mouseDownCoor?e.mouseDownCoor.y:void 0;r&&o&&Math.abs(n-r)+Math.abs(a-o)<4&&e.setState({exposeIframeInPiP:!0})}},t))}return t}},{key:"render",value:function(){var e=this,t=this.state.exposeIframeInPiP||this.state.isFullscreenMode?null:f.default.createElement("div",{className:_.default.blockYoutube}),n=f.default.createElement("div",{className:(0,m.default)(_.default.youtubeContainer,r({},_.default.fullscreen,this.state.isFullscreenMode))},t,f.default.createElement(N.default,{ref:this.setRefVideo,youtubeVideoId:this.props.youtubeVideoId,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay})),a=this.renderVideoControls(),o=void 0;T.default.isSafari||(o=f.default.createElement(R.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.state.isFullscreenMode?function(e){e.stopPropagation(),O.default.exitFullscreen()}:function(t){t.stopPropagation(),O.default.requestFullscreen(e.refContainer)}}));var i=f.default.createElement(L.default,{theme:"full-rounded"}),l=this.state.isFullscreenMode?f.default.createElement(c.Fragment,null,n,a,f.default.createElement("div",{className:(0,m.default)(_.default.widgetsWrapper,_.default.opacityTransition,r({},_.default.dimmed,!this.state.mouseMoveRecently))},o,f.default.createElement(D.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}}))):f.default.createElement(c.Fragment,null,n,f.default.createElement(g.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently&&!this.state.exposeIframeInPiP?f.default.createElement(c.Fragment,null,i,a,o,f.default.createElement(D.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}})):null));return f.default.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,m.default)(_.default.container,r({},_.default.fullscreen,this.state.isFullscreenMode)),onMouseEnter:function(t){if(e.state.exposeIframeInPiP){if(T.default.isGecko&&e.state.isMouseOver)return;e.setState({exposeIframeInPiP:!1})}e.setState({isMouseOver:!0})},onMouseLeave:function(t){e.setState({isMouseOver:!1})},onMouseDown:function(t){e.state.isFullscreenMode&&t.stopPropagation()},onMouseMove:function(t){e.state.isMouseOver||e.setState({isMouseOver:!0}),e.state.mouseMoveRecently||e.setState({mouseMoveRecently:!0}),e.resetMouseMoveRecently()}},l)}}]),t}(c.Component);F.displayName="YoutubeVideoPlayer",t.default=(0,P.default)((0,C.hoc)(F))},igbbahaj:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.ORDERED_TAB_SECTION_IDS=void 0;var r,o,i=n("bfggfbdghf"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=(r={FAVORITES:"FAVORITES"},a(r,l.default.TRENDING,l.default.TRENDING),a(r,l.default.HAHA,l.default.HAHA),a(r,l.default.SAD,l.default.SAD),a(r,l.default.LOVE,l.default.LOVE),a(r,l.default.REACTIONS,l.default.REACTIONS),a(r,l.default.SPORTS,l.default.SPORTS),a(r,l.default.TV,l.default.TV),r);t.default=s;var u=(o={},a(o,s.FAVORITES,s.FAVORITES),a(o,s.TRENDING,s.TRENDING),a(o,s.HAHA,s.HAHA),a(o,s.SAD,s.SAD),a(o,s.LOVE,s.LOVE),a(o,s.REACTIONS,s.REACTIONS),a(o,s.SPORTS,s.SPORTS),a(o,s.TV,s.TV),o);t.ORDERED_TAB_SECTION_IDS=[u.FAVORITES,u.TRENDING,u.HAHA,u.SAD,u.LOVE,u.REACTIONS,u.SPORTS,u.TV]},igfejfjdb:function(e,t){e.exports={muted:"_2qjll",container:"_3_-Si",block:"_2x2XP",main:"_2kUhl",side:"_88RDg",multiline:"_2sl9a"}},igiffibee:function(e,t,n){"use strict";function a(e,t){var n=l10n.getLocale(),a=e+","+t;return i.G_MAPS_DIR_URL+"//"+a+"?hl="+n}function r(e){var t=l10n.getLocale();return i.G_MAPS_SEARCH_URL+"/"+encodeURIComponent(e)+"/z?hl="+t}function o(e,t,n){var a=l10n.getLocale();return n?i.G_MAPS_SEARCH_URL+"/"+encodeURIComponent(n)+"/@"+e+","+t+","+i.SEARCH_ZOOM+"z?hl="+a:s.default.build(i.G_MAPS_URL,{q:e+","+t,z:i.SEARCH_ZOOM,hl:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionUrl=a,t.getSearchUrl=r,t.getMapUrl=o;var i=n("cjedbjfabb"),l=n("edbaidcaf"),s=function(e){return e&&e.__esModule?e:{default:e}}(l)},ihfbgdebe:function(e,t,n){"use strict";function a(){l.play()}function r(e){return Promise.resolve(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.playNotification=a,t.cachePath=r;var o=n("eadfaddcj"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new window.Audio(i.default.NOTIFICATION_TONE_PATH)},ihfgagaij:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=r(u),f=n("bgddggdhc"),d=n("hbhijdici"),p=a(d),h=n("biheibdage"),m=n("jfbdejdfi"),b=a(m),g=n("eajjbbihhc"),v=a(g),y=n("bahefiaghi"),_=a(y),E=n("becegcbegb"),j=a(E),w=n("cjcecfgaji"),O=a(w),C=n("fhdffdech"),S=a(C),P=n("gbfffciea"),M=a(P),T=n("eadfaddcj"),k=a(T),N=n("dcjhajfghf"),I=a(N),R=n("djcchigfih"),A=a(R),D=n("djbhiedbef"),x=a(D),L=n("dajffajabh"),F=a(L),U=n("cajijabhgb"),B=r(U),G=n("cgffhfegce"),V=n("ddajbaceej"),W=a(V),H=n("cfffidafid"),Y=n("dhfbfehaef"),q=a(Y),K=n("eceadcicaf"),z=a(K),Q=n("behbjhhbg"),X=a(Q),J=n("bjbedjfe"),Z=a(J),$=n("ejbdjaifi"),ee=n("didfdhbecg"),te=a(ee),ne=n("cdjhjdcbeg"),ae=a(ne),re=n("becfabjeeg"),oe=a(re),ie=n("jgcieiibj"),le=a(ie),se=n("bfjajhbdf"),ue=a(se),ce=n("bfbggcdbfb"),fe=n("bfdcadbbif"),de=a(fe),pe=n("ijdibihbi"),he=a(pe),me=k.default.MSG_TYPE,be=me.IMAGE,ge=me.VIDEO,ve=me.DOCUMENT,ye=me.AUDIO,_e=function(e){return 150+15*e},Ee=200,je=h.ATTACH_MEDIA_STATE.PROCESSING,we=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.populateInitCaption=function(e,t,a){var r=n.props.initCaption;if(!e&&t&&r&&r.text&&""!==r.text&&a.activeMedia){if(a.activeMedia.type!==be&&a.activeMedia.type!==ge)return;!1===n.initCaptionUsed&&(a.activeMedia.caption=r.text,n.initCaptionUsed=!0)}},n.onMediaProcessUpdate=function(){if(n.props.mediaCollection.canSend()){var e=n.props.mediaCollection.getPreviewableMedias(),t=n.props.mediaCollection.getActive(),a=n.props.mediaCollection.uiProcessMsgs(),r=a.errorMsgs;r&&e.length>0&&M.default.openToast(c.createElement(ue.default,{msg:r,id:(0,se.genId)()})),t||t!==n.state.activeMedia?n.setState({activeMedia:t}):n.forceUpdate()}},n.showIgnoredToast=function(e){if(e>0){var t=l10n.t("too_many_files_uploaded",{number:e,_plural:e});M.default.openToast(c.createElement(ue.default,{msg:t,id:(0,se.genId)()}))}},n.onWindowDrop=function(){p.default.isEmpty(n.props.files)&&p.default.isEmpty(n.props.mediaCollection)&&n.props.onBack()},n.onDrop=function(e){n.onFilePick(e)},n.onDragLeave=function(e){n.props.mediaCollection.length||n.props.onBack()},n.onDragChange=function(e,t){n.setState({isDragging:e}),e||t||n.props.mediaCollection.length||n.props.onBack()},n.onEnter=function(e){n.state.activeMedia&&(e.repeat||e.shiftKey||n.onSend())},n.onArrowLeft=function(e){if(n.state.activeMedia&&!e.repeat){var t=n.state.activeMedia&&!n.state.activeMedia.caption,a=n.refCaptionInput&&n.refCaptionInput.refInput;(t||a&&!a.isFocused()||a&&a.cursorAtStart())&&n.onPrev()}},n.onArrowRight=function(e){if(n.state.activeMedia&&!e.repeat){var t=n.state.activeMedia&&!n.state.activeMedia.caption,a=n.refCaptionInput&&n.refCaptionInput.refInput;(t||a&&!a.isFocused()||a&&a.cursorAtEnd())&&n.onNext()}},n.onNext=function(){n.props.mediaCollection.setNextAsActive()&&n.refSendButton&&W.default.focus(n.refSendButton)},n.onPrev=function(){n.props.mediaCollection.setPrevAsActive()&&n.refSendButton&&W.default.focus(n.refSendButton)},n.onSelectThumb=function(e){n.props.mediaCollection.setActive(e)},n.onSend=function(e){if(e&&e.preventDefault(),(!e||!e.shiftKey)&&n.props.mediaCollection.canSend()){var t=[];Promise.all(t).then(function(){var e=n.props.mediaCollection.getPreviewableMedias();if(0!==e.length){var t=e.map(function(e){var t=e.caption,a=[],r=n.refCaptionInput&&n.refCaptionInput.refInput;if(t&&r){var o=r.serialize(t),i=[o[0].trim(),o[1]],l=i[0],s=i[1];l.length&&(t=l,a=s.mentionedJidList||[])}return e.caption=t||void 0,{media:e,mentionedJidList:a}});n.props.onSendMedia(t,n.initCaptionUsed)}})}},n.setRefInput=function(e){n.refInput=e},n.onAddFileClick=function(){if(n.refInput){n.refInput.click()}},n.onFilePick=function(e){(0,H.getFiles)(e).then(function(e){return n.props.mediaCollection.processFiles(e,n.props.chat,ce.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)}).checkpoint(n.props.rejectOnUnmount()).catch(B.Unmount,function(){}).catch(B.MediaDragDropError,function(e){if(n.props.mediaCollection.length)throw e;n.props.onDropText(e.src)}),e.target&&e.target.value&&(e.target.value="")},n.onRemoveThumb=function(e,t){t.stopPropagation(),t.preventDefault(),n.props.mediaCollection.remove(e),0===n.props.mediaCollection.length?n.delayedClose=setTimeout(function(){n.props.onBack()},Ee):n.refSendButton&&W.default.focus(n.refSendButton)},n.onCaptionChange=function(e){var t=n.state.activeMedia;if(t){var a=n.props.mediaCollection.indexOf(n.state.activeMedia);t.caption=e,0===a&&""===e&&n.initCaptionUsed&&(n.initCaptionUsed=!1),n.forceUpdate()}},n.onPaste=function(e){e.preventDefault(),e.stopPropagation();var t=new I.default(e.clipboardData);t.hasFiles()&&n.onFiles(t)},n.onFiles=function(e){var t=p.default.filter(e.getFiles(),function(e){var t=(0,G.typeFromMimetype)(e.type);return"image"===t||"video"===t});n.props.mediaCollection.processFiles(t,n.props.chat,ce.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},n.setRefCaptionInput=function(e){n.state.activeMedia&&!e||(n.refCaptionInput=e)},n.getMedia=function(e){var t=void 0,a=void 0;switch(e.type){case be:case ge:t||(t=c.createElement(O.default,{mimeType:e.mimetype,url:e.fullPreview,isGif:e.isGif,size:e.fullPreviewSize,processing:e.state===je,preview:e.preview})),a=c.createElement("div",{className:he.default.captionInput,"data-animate-media-caption":!0},c.createElement(le.default,{ref:n.setRefCaptionInput,value:e.caption,placeholder:l10n.t("add_a_caption"),maxLength:k.default.MAX_CAPTION_LENGTH,onEnter:n.onSend,onChange:n.onCaptionChange,onFiles:n.onFiles,chat:n.props.chat,showRemaining:!0,spellCheck:!0,multiline:!0,supportsEmoji:!0}));break;case ye:t=c.createElement(v.default,{mimeType:e.mimetype,url:e.fullPreview});break;case ve:switch(X.default.previewType(e.mimetype)){case"pdf":t=c.createElement(S.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,pdfPages:e.pdfPages,mimeType:e.mimetype,filename:e.filename});break;case"msoffice":t=c.createElement(_.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,mimeType:e.mimetype,filename:e.filename});break;default:t=c.createElement(j.default,{mimeType:e.mimetype,filename:e.filename})}}return c.createElement("div",{className:he.default.mediaBody,key:e.id},t,a)},n.getThumbs=function(e){return e.map(function(e,t){return c.createElement(b.default,{key:"media-"+e.id,active:e===n.state.activeMedia,attachMedia:e,onClick:n.onSelectThumb,onClose:n.onRemoveThumb})})},n.setRefSendButton=function(e){n.refSendButton=e},n.transition="media-scale",n.disableTransistions=!1,n.initCaptionUsed=!1,n.state={activeMedia:n.props.mediaCollection.getActive(),isDragging:!1},n}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;this.props.listeners.add(window,"drop",this.onWindowDrop);var t=this.props.mediaCollection,n=t.getPreviewableMedias();!this.state.activeMedia&&n.length>0&&(this.disableTransistions=!0,this.setState({activeMedia:n[0]},function(){e.disableTransistions=!1}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.mediaCollection,n=e.listeners;n.add(t,"add remove reset"),n.add(t,"active-change change:state change:previewable",this.onMediaProcessUpdate),n.add(t,"max_upload_limit",this.showIgnoredToast),this.props.mediaCollection.mediaPickerStatsLogger.resumeTimer()}},{key:"componentWillUpdate",value:function(e,t){var n=t.activeMedia,a=this.state.activeMedia;if(this.populateInitCaption(a,n,t),!a||!n||a===n)return void(this.transition="media-scale");this.props.mediaCollection.indexOf(n)>this.props.mediaCollection.indexOf(a)?this.transition="media-slide-forward":this.transition="media-slide-back"}},{key:"componentDidUpdate",value:function(e,t){var n=this;!t.activeMedia&&this.state.activeMedia&&this.refCaptionInput?this.props.listeners.uiIdle(function(){n.refCaptionInput&&n.refCaptionInput.restoreFocus()}):!(0,f.forbiddenAssertDOMNode)(this).contains(document.activeElement)&&this.refSendButton&&W.default.focus(this.refSendButton)}},{key:"componentWillUnmount",value:function(){this.delayedClose&&clearTimeout(this.delayedClose),this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0,a=0,r=!0,o=this.props.mediaCollection.getPreviewableMedias();o.length>k.default.MAX_FILES&&(o=o.slice(0,k.default.MAX_FILES)),this.props.mediaCollection.canSend()?this.state.activeMedia?e=this.getMedia(this.state.activeMedia):0===o.length&&this.props.mediaCollection.errorMsgs&&(e=c.createElement("div",{className:he.default.invalidContainer,key:"pending"},c.createElement("div",{className:he.default.invalidMedia},this.props.mediaCollection.errorMsgs))):(r=!1,e=c.createElement(oe.default,{key:"processing",color:"highlight"})),o.length>0&&(t=this.getThumbs(o),a=1===o.length?400:400+_e(o.length),n=r?c.createElement("div",{className:he.default.btnSend,tabIndex:"-1",ref:this.setRefSendButton,onKeyPress:function(e){return e.preventDefault()}},c.createElement(ae.default,{large:!0,onClick:this.onSend},c.createElement(de.default,{name:"send-light",directional:!0}))):null);var i=this.state.isDragging?c.createElement("div",{key:"container",className:he.default.dropOverlay},c.createElement("div",{className:he.default.dropOverlayOutline},l10n.t("drag_file_here"))):null,l=o.length<k.default.MAX_FILES?c.createElement("div",{className:he.default.btnAdd,key:"media-more",onClick:this.onAddFileClick,role:"button"},c.createElement(de.default,{name:"add-alt"}),c.createElement("div",{className:he.default.btnAddText},l10n.t("add_file"))):null,s={enter:this.onEnter,left:this.onArrowLeft,right:this.onArrowRight},u="*"===X.default.DOC_MIMES?"*":[k.default.IMAGE_MIMES,k.default.VIDEO_MIMES,X.default.DOC_MIMES].join();return c.createElement(q.default,{handlers:s},c.createElement(A.default,{key:"attach-image-modal",theme:"media",onDrop:this.onDrop,onDragChange:this.onDragChange},c.createElement(F.default,{title:l10n.t("web_preview_msg"),type:L.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack}),c.createElement(x.default,{tabIndex:"-1",overflow:"hidden",onPaste:this.onPaste},i,c.createElement("div",{className:he.default.body},c.createElement(te.default,{transitionName:this.disableTransistions?"noop":this.transition},e)),c.createElement(te.default,{transitionAppear:!0,transitionName:this.disableTransistions?"noop-full-opacity":"thumb-scale",className:he.default.thumbs},t,l),c.createElement(te.default,{transitionAppear:!0,transitionName:this.disableTransistions?"noop-full-opacity":"btn",delay:this.disableTransistions?0:a},n),c.createElement("input",{ref:this.setRefInput,type:"file",accept:u,style:{display:"none"},onChange:this.onFilePick,multiple:!0}))))}}]),t}(c.Component);we.displayName="AttachMediaDrawer",t.default=(0,Z.default)((0,z.default)((0,$.hoc)(we)))},ihgbiaiaa:function(e,t){e.exports={muted:"_9nu0_",item:"_24rpv",overlay:"dSmPg",numberText:"_14Diy",loadingImageContainer:"_38jO3",loadingImage:"_65oJx"}},ihgefacbb:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0,a=e.length-1,r=Math.floor((n+a)/2);e[r]!==t&&n<a;)t<e[r]?a=r-1:n=r+1,r=Math.floor((n+a)/2);return e[r]<t?r+1:r}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=500,s=function(){function e(){var t=this;a(this,e),this._trackers=[],this._currFPS=0,this._numSamples=0,this._totalTime=0,this._startTracking=function(){t._frameId||(t._prevFrameTS=t._prevUpdateTS=window.performance.now(),t._frameId=requestAnimationFrame(t._handleFrame))},this._stopTracking=function(){t._frameId&&(t._prevFrameTS=t._prevUpdateTS=void 0,cancelAnimationFrame(t._frameId),t._frameId=void 0)},this._handleFrame=function(){if(t._trackers.length){var e=t._prevFrameTS,n=t._prevUpdateTS;if(e&&n){var a=window.performance.now();t._numSamples+=1,t._totalTime+=a-e,a-n>=l&&t._update(a),t._prevFrameTS=a,t._frameId=requestAnimationFrame(t._handleFrame)}}}}return i(e,[{key:"whenLessThan",value:function(e,t){var n=this;if(e<0||e>60)throw new RangeError("fps must be between 0 and 60");return this._insertTracker([e,t]),function(){n._removeTracker(t)}}},{key:"_insertTracker",value:function(e){var t=e[0],n=this._trackers.map(function(e){return e[0]}),a=r(n,t);this._trackers.splice(a,0,e),1===this._trackers.length&&(this._addEventListeners(),this._startTracking())}},{key:"_removeTracker",value:function(e){for(var t=this._trackers.length,n=0;n<t;n++)if(e===this._trackers[n][1]){this._trackers.splice(n,1),0===this._trackers.length&&(this._removeEventListeners(),this._stopTracking());break}}},{key:"_update",value:function(e){var t=1e3/(this._totalTime/this._numSamples),n=Math.min(t,60);if(Math.abs(n-this._currFPS)>1){this._currFPS=n;var a=this._filterCallbacks();a.length&&this._triggerCallbacks(a,n)}this._numSamples=0,this._totalTime=0,this._prevUpdateTS=e}},{key:"_filterCallbacks",value:function(){for(var e=this._trackers.length,t=[],n=e-1;n>=0;n--){var a=o(this._trackers[n],2),r=a[0],i=a[1];if(r<=this._currFPS)break;t.push(i)}return t}},{key:"_triggerCallbacks",value:function(e,t){var n=window.performance.now(),a=function(){e.forEach(function(e){return e(t,n)})};window.requestIdleCallback?window.requestIdleCallback(a):window.setTimeout(a,0)}},{key:"_addEventListeners",value:function(){window.addEventListener("focus",this._startTracking),window.addEventListener("blur",this._stopTracking)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("focus",this._startTracking),window.removeEventListener("blur",this._stopTracking)}}]),e}();t.default=new s},ihhfhbadh:function(e,t,n){"use strict";function a(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var n=t.getRangeAt(0);if(!n.collapsed)return!1;var a=n.endContainer;if(n.startOffset!==r(a))return!1;if(e===a)return!0;if(!e.contains(a))return!1;var o=a;do{if(o.nextSibling)return!1;o=o.parentNode}while(o!==e);return!0}function r(e){return(0,i.default)(e)?e.textContent.length:e.childNodes.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n("bgeafedbjd"),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},ihiijcdag:function(e,t,n){"use strict";var a=n("hbhijdici"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n("bcbeeajhgb"),i={version:"14",sendConversationPin:function(e,t,n){var a=this;return new Promise(function(r,o){var i=a.actionNode("set",[["chat",{type:"pin",pin:t?t.toString():void 0,previous:n?n.toString():void 0,jid:e},void 0]]);a.binSend("send",i,o,{clientCacheable:!0,onSend:a.wrap(r),onDrop:a.wrap(o)},{debugString:["action","chat",e,t?"pin,"+t:"unpin,"+n].join(),metric:a.M.CHAT,ackRequest:!0})})}};e.exports=r.default.defaults(i,o)},iiaihjfbi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ceffhbhahb"),c=a(u),f=n("ddhijeejag"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n("ihfccfgdf"),h=a(p),m=n("ejbdjaifi"),b=n("dcifjbigdg"),g=a(b),v=n("ccaaiecfib"),y=a(v),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.className,o=t.msg;if(!o)return d.createElement(d.Fragment,null,n);var i=(0,c.default)(g.default.spacer,a,(e={},r(e,g.default.spacerStar,o.star),r(e,g.default.spacerBroadcast,o.broadcast),r(e,g.default.spacerLabels,o.labels&&o.labels.length&&y.default.supportsFeature(y.default.F.LABELS_DISPLAY)),e));return d.createElement("span",{className:i},n)}}]),t}(d.PureComponent);_.CONCERNS={msg:["broadcast","star","labels"]},_.displayName="SpacerText",t.default=(0,h.default)((0,m.hoc)(_),_.CONCERNS)},iibcehaia:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhigahgdjb"),f=a(c),d=n("bgddggdhc"),p=n("bjebjijbfc"),h=a(p),m=n("eadfaddcj"),b=a(m),g=n("dhhfaeacef"),v=a(g),y=n("cgejchjdhj"),_=n("fifhbjiec"),E=a(_),j=n("ddajbaceej"),w=a(j),O=n("dhfbfehaef"),C=a(O),S=n("eceadcicaf"),P=a(S),M=n("ejbdjaifi"),T=n("bcifhbgija"),k=a(T),N=n("djbfhebjhe"),I=a(N),R=n("caceaafdic"),A=a(R),D=n("ddbddjjgia"),x=n("bfdcadbbif"),L=a(x),F=n("dheeebbech"),U=a(F),B=n("bcebbbdfff"),G=a(B),V=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.wrapper=null,n.onSelectionChange=function(e,t){var a="focus"===e;if(a){var r=(0,d.forbiddenAssertDOMNode)(n);w.default.focus(r),t&&(0,y.scrollIntoViewIfNeeded)(r)}n.setState({current:a})},n.onActiveChange=function(e,t){if("focus"===e){var a=(0,d.forbiddenAssertDOMNode)(n);w.default.focus(a),(0,y.scrollIntoViewIfNeeded)(a)}n.setState({active:!!e})},n.mouseOver=function(){n.state.hover||n.setState({hover:!0})},n.mouseEnter=function(){n.state.hover||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onEnter=function(e){e.stopPropagation(),e.preventDefault(),n.props.onClickMsg&&n.props.onClickMsg(n.props.msg)},n.openContextMenu=function(){n.wrapper&&n.wrapper.contextOpen()},n.onFocus=function(e){n.setState({focus:!0}),n.indicateFocus()},n.onBlur=function(e){n.finishFocusIndication(),n.setState({focus:!1})},n.indicateFocus=function(){var e=n.state.active?"#d6d7d8":"#e2e3e3";(0,O.indicateFocus)(n.row,[e,"#cbdde7"],{complete:n.finishFocusIndication})},n.finishFocusIndication=function(){var e=(0,d.forbiddenFindDOMNode)(n.row);e&&((0,k.default)(e,"stop"),e.style.backgroundColor="")};var a=e.currSelection,i=e.activeSelection,l=e.msg;return n.state={hover:!1,current:!!a&&a.value===l,active:!!i&&i.value===l,focus:!1},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.msg,n=e.currSelection,a=e.activeSelection,r=e.listeners;n&&r.add(n,t.id.toString(),this.onSelectionChange),a&&r.add(a,t.id.toString(),this.onActiveChange)}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,a=t.selectedMessages,r=t.displayType,o=n.senderObj.formattedName,i=n.chat.isUser?f.default.assertGet(n.to).formattedName?f.default.assertGet(n.to).formattedName:(0,I.default)(n.to):n.chat.title(),l=r===b.default.DISP_TYPE.GALLERY?null:u.createElement("div",{className:G.default.title},u.createElement("div",{className:G.default.titleMain},u.createElement("div",{className:G.default.avatar},u.createElement(v.default,{id:n.senderObj.id,size:26})),u.createElement(E.default,{className:G.default.author,text:o,direction:"auto",titlify:!0}),u.createElement("span",{className:G.default.divider}),u.createElement(E.default,{className:G.default.chat,text:i,direction:"auto",titlify:!0})),u.createElement("div",{className:G.default.meta,dir:"auto"},h.default.relativeStr(n.t)),u.createElement("div",{className:G.default.chevron},u.createElement(L.default,{name:"chevron-right-alt",directional:!0}))),s={enter:this.onEnter};s[l10n.LR("right","left")]=this.openContextMenu;var c=this.props.selectable||this.state.hover&&r===b.default.DISP_TYPE.GALLERY;return u.createElement(C.default,{handlers:s,onFocus:this.onFocus,onBlur:this.onBlur},u.createElement(U.default,{ref:(0,M.GetRef)("row",this),hover:this.state.hover,current:this.state.current&&this.state.focus,active:this.state.active,onClick:function(){return e.props.onClickMsg&&e.props.onClickMsg(n,a&&!a.isSelected(n))},onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},l,u.createElement(A.default,{msg:n,key:n.id.toString(),ref:(0,M.GetRef)("wrapper",this),current:this.state.current&&this.state.focus,displayType:r||b.default.DISP_TYPE.STARRED_MSGS,isMsgVisible:this.props.isMsgVisible,selectable:c,selectedMessages:a,onMessageSelect:this.props.onMessageSelect,position:D.MsgPosition.END,tailOverride:"left"})))}}]),t}(u.Component);V.displayName="StarredMsg",t.default=(0,P.default)((0,M.hoc)(V))},iibiehcaf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("bgcdajbhif"),u=a(s),c=n("dggicghjch"),f=a(c),d=n("bgajdijche"),p=a(d),h=n("gbfffciea"),m=a(h),b=n("ceffhbhahb"),g=a(b),v=n("bfdcadbbif"),y=a(v),_=n("eceadcicaf"),E=a(_),j=n("cbhejdgihi"),w=a(j),O=n("ejbdjaifi"),C=n("ddhijeejag"),S=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onStatusAddRemove=function(){n.setState({status:u.default.getMyStatus()})},n.state={status:u.default.getMyStatus()},n}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"componentWillMount",value:function(){var e=this;this.props.listeners.add(u.default,"add remove",this.onStatusAddRemove),this.props.listeners.add(m.default,"dismiss_status_v3_viewer",function(){e.props.closeStatusViewer(!0)})}},{key:"componentDidMount",value:function(){var e=this.props.sessionId;e&&u.default.logMetrics({type:"session",sessionId:e})}},{key:"render",value:function(){var e=this,t=this.props.onOpenStatus,n=(0,g.default)(w.default.v3_x,{});return C.createElement("div",{className:w.default.modalBackground,"data-animate-status-v3-modal-background":!0},C.createElement("div",{className:w.default.mainWrapper},C.createElement(f.default,{onOpenStatus:t}),C.createElement(p.default,{status:this.state.status,onOpenStatus:t}),C.createElement("button",{className:n,onClick:function(){return e.props.closeStatusViewer(!0)}},C.createElement(y.default,{name:"status-v3-x"}))))}}]),t}(C.Component);S.displayName="StatusV3Main",t.default=(0,E.default)((0,O.hoc)(S))},ijbagjdgc:function(e,t){e.exports={muted:"_3sO8h",icon:"_33gYI",text:"_1Sxbg"}},ijdibihbi:function(e,t){e.exports={muted:"_1tsRj",body:"_2CDPn",thumbs:"NeQRT",btnSend:"iA40b",captionInput:"_3cDQo",mediaBody:"_3NANR",invalidContainer:"dW6GK",invalidMedia:"azEEh",dropOverlay:"lC2xi",dropOverlayOutline:"_8C3uJ",btnAdd:"_3fktq",btnAddText:"A_Kh_"}},ijecjcidg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("effbcehec"),h=a(p),m=n("ebcagbhefg"),b=a(m),g=n("djcchigfih"),v=a(g),y=n("dajffajabh"),_=a(y),E=n("djbhiedbef"),j=a(E),w=n("gbfffciea"),O=a(w),C=n("bfjajhbdf"),S=a(C),P=n("eadfaddcj"),M=a(P),T=n("fffdgbfji"),k=a(T),N=n("ihfccfgdf"),I=a(N),R=n("ejbdjaifi"),A=n("ddhbfebjfb"),D=a(A),x=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={hover:!1},a.onClick=function(e){var t=a.encodeColor(a.props.colorHex),n=b.default.get("defaultPreference");n&&t!==n.wallpaperColor&&(n.set("wallpaperColor",t),O.default.openToast(c.createElement(S.default,{msg:k.default.t("wallpaper_color_set"),id:(0,C.genId)()})))},a.onMouseOver=function(e){a.state.hover||(a.setState({hover:!0}),b.default.trigger("wallpaper_color_preview",a.encodeColor(a.props.colorHex)))},a.onMouseEnter=function(e){a.state.hover||(a.setState({hover:!0}),b.default.trigger("wallpaper_color_preview",a.encodeColor(a.props.colorHex)))},a.onMouseLeave=function(e){a.state.hover&&(a.setState({hover:!1}),b.default.trigger("wallpaper_color_preview"))},a.encodeColor=function(e){return"#ede9e4"===e?M.default.DEFAULT_CHAT_WALLPAPER:e},r=n,i(a,r)}return l(t,e),s(t,[{key:"render",value:function(){var e,t=this.props.isDefault?c.createElement("span",{"data-a8n":h.default.key("wallpaper-default-title"),className:D.default.wallpaperDefaultTitle},k.default.t("default_wallpaper")):null,n=(0,d.default)(D.default.wallpaperColorCanvas,(e={},r(e,D.default.canvasHover,this.state.hover),r(e,D.default.canvasActive,this.props.isSelected),e));return c.createElement("span",{className:n,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},t)}}]),t}(c.Component);x.displayName="ColorCanvas";var L=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){for(var e=this.props,t=e.chatPreference,n=e.colors,a=!0,r=t&&t.wallpaperColor,o=n.map(function(e){var t=!1,n=!1;return(r===e||r===M.default.DEFAULT_CHAT_WALLPAPER&&a)&&(t=!0),a&&(n=!0,a=!1),c.createElement(x,{colorHex:e,isSelected:t,isDefault:n,key:e})}),i=0;i<2;i++)o.push(c.createElement("div",{key:"emptyEl"+i,className:D.default.wallpaperColorEmpty}));return c.createElement("div",{className:D.default.wallpaperColorGrid},o)}}]),t}(c.Component);L.CONCERNS={chatPreference:["wallpaperColor"]},L.displayName="ColorGridClass";var F=(0,I.default)((0,R.hoc)(L),L.CONCERNS),U=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"componentWillUnmount",value:function(){b.default.trigger("wallpaper_color_preview")}},{key:"render",value:function(){return c.createElement(v.default,null,c.createElement(_.default,{title:k.default.t("wallpaper_flow_title"),onBack:this.props.onClose,type:y.DRAWER_HEADER_TYPE.LARGE}),c.createElement(j.default,null,c.createElement(F,{colors:M.default.WALLPAPER_COLOR,chatPreference:b.default.get("defaultPreference")})))}}]),t}(c.Component);U.displayName="WallpaperDrawer",t.default=U},jbchjhhe:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return n.e(134).then(n.bind(null,"dbbiihddig")).then(function(e){return e.default})}function s(e){return f.createElement("div",{className:y.default.container},f.createElement("div",{className:y.default.body,dir:"ltr"},f.createElement("div",{className:y.default.imageContainer},f.createElement("div",{className:y.default.defaultIcon},f.createElement(E.default,{name:e.svgName}))),e.error?f.createElement(j.LazyLoadRetry,{className:y.default.lazyLoadRetry,onClick:e.retry}):f.createElement(p.default,null)))}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.requireBundle=l;var c=n("ddhijeejag"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("cffibfiejh"),p=a(d),h=n("cjedbjfabb"),m=a(h),b=n("cbhegcchgg"),g=a(b),v=n("ejeehdija"),y=a(v),_=n("bfdcadbbif"),E=a(_),j=n("cicgeajfge"),w=n("cdcaigjjii"),O=a(w),C=n("bdiiahhjbe"),S=a(C);s.displayName="Loading";var P=(0,g.default)({loader:function(){return l().catch(function(e){throw S.default.assert(!1,"loadable:PhotoPicker loading error")(e),e})},loading:function(e){return f.createElement(s,{svgName:"default-user",error:Boolean(e.error),retry:e.retry})},delay:m.default.LOADABLE_DELAY}),M=(0,g.default)({loader:function(){return l().catch(function(e){throw S.default.assert(!1,"loadable:PhotoPicker loading error")(e),e})},loading:function(e){return f.createElement(s,{svgName:"default-group",error:Boolean(e.error),retry:e.retry})},delay:m.default.LOADABLE_DELAY}),T=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return this.props.type===O.default.PROFILE?f.createElement(P,this.props):f.createElement(M,this.props)}}]),t}(f.PureComponent);T.displayName="PhotoPickerLoadable",t.default=T},jcdghfjgd:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("dhbceejbjg"),f=a(c),d=n("dhigahgdjb"),p=a(d),h=n("dhhfaeacef"),m=a(h),b=n("fifhbjiec"),g=a(b),v=n("bhheahajjg"),y=a(v),_=n("ihfccfgdf"),E=a(_),j=n("cjihajjici"),w=a(j),O=n("bfdcadbbif"),C=a(O),S=n("ejbdjaifi"),P=n("bhfdfhefca"),M=n("eedjbihej"),T=a(M),k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.product,t=p.default.get(e.catalogWid),n=void 0;if(t){var a=u.createElement(y.default,{contact:t,selectable:!0,showBusinessCheckmark:!0}),r=u.createElement(m.default,{id:t.id,size:40}),o=u.createElement("div",{className:w.default.productName},u.createElement(C.default,{name:"business-description",display:"inline"}),u.createElement(g.default,{text:e.name,titlify:!0,ellipsify:!0}));n=u.createElement(f.default,{idle:!0,image:r,primary:a,secondary:o,theme:"media"})}else n=u.createElement(T.default,{theme:"large",className:w.default.infoName},u.createElement(g.default,{text:e.name,titlify:!0,ellipsify:!0}));return u.createElement("div",{className:w.default.mediaPanelHeader},u.createElement("div",{className:w.default.info},n),u.createElement("div",{className:w.default.mediaPanelTools},u.createElement(P.MenuBar,{key:"media-panel-header"},u.createElement(P.MenuBarItem,{a8nText:"btn-close",icon:u.createElement(C.default,{name:"x-viewer"}),title:l10n.t("web_close"),onClick:this.props.onClose}))))}}]),t}(u.PureComponent);k.CONCERNS={mediaData:["renderableUrl"],product:["name","catalogWid"]},k.displayName="ProductImageViewerHeader",t.default=(0,E.default)((0,S.hoc)(k),k.CONCERNS)},jcfhjhibi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){var a=t,r=e.toArray();if(n===P.BEFORE){return{hasNext:function(){return a<r.length&&a>=0},next:function(){var e=r[a];return e||v.default.error("Invalid cursor at "+a+", array.length = "+r.length+", element = "+e)(),a--,e}}}if(n===P.AFTER){var o=r.length-1;return{hasNext:function(){return a<r.length&&a<=o},next:function(){var e=r[a];return e||v.default.error("Invalid cursor at "+a+", array.length = "+r.length+", element = "+e)(),a++,e}}}throw new Error("RendorCursor:invalid direction")}function i(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments[4],i=(0,_.default)()*a,l=o(e,t,n),s=0,u=0,c=0,f=void 0,d=void 0;l.hasNext();){var p=l.next(),h=(0,j.default)(p),m=2*(p.isNotification?1:0)+p.isSentByMe;if(s+=h+(m&&m===f?M:T),u++,s>i)break;if(u>=r)break;if(O.default.supportsFeature(O.default.F.GROUPED_STICKERS)&&p.isValidGroupedSticker){var b=void 0;if(l.hasNext()){if(b=l.next(),++u>=r)break;(0,C.canBeGroupedAsAlbum)(p,b)&&b.isValidGroupedSticker&&(d=!0)}}if(O.default.supportsFeature(O.default.F.ALBUMS)&&p.isValidAlbumAsset)for(var g=p,v=void 0;l.hasNext()&&c<S.ALBUM_MAX_SIZE&&(v=l.next(),!(++u>=r))&&(0,C.canBeGroupedAsAlbum)(g,v)&&v.isValidAlbumAsset;)c++,g=v;if(c+1>=S.ALBUM_MIN_SIZE||d)c=0,d=!1;else if((s+=(0,j.default)(p)*c)>i)break;f=m}return u}function l(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments[4],i=(0,_.default)()*a,l=o(e,t,n),s=0,u=0,c=0,f=void 0,d=void 0;l.hasNext();){var p=l.next(),h=(0,j.default)(p),m=p.author||(p.isSentByMe?b.default.me:void 0);if(s+=h+(m&&!p.isSentByMe&&m!==f?k:0)+(m&&m===f?M:T),u++,s>i)break;if(u>=r)break;if(O.default.supportsFeature(O.default.F.GROUPED_STICKERS)&&p.isValidGroupedSticker){var g=void 0;if(l.hasNext()){if(g=l.next(),++u>=r)break;(0,C.canBeGroupedAsAlbum)(p,g)&&g.isValidGroupedSticker&&(d=!0)}}if(O.default.supportsFeature(O.default.F.ALBUMS)&&p.isValidAlbumAsset)for(var v=p,y=void 0;l.hasNext()&&c<S.ALBUM_MAX_SIZE&&(y=l.next(),!(++u>=r))&&(0,C.canBeGroupedAsAlbum)(v,y)&&y.isValidAlbumAsset;)c++,v=y;if(c+1>=S.ALBUM_MIN_SIZE||d)c=0,d=!1;else if((s+=(0,j.default)(p)*c)>i)break;f=m}return u}function s(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments[4],i=(0,_.default)()*a,l=o(e,t,n),s=0,u=0;l.hasNext();){var c=l.next();if(s+=(0,j.default)(c)+N,u++,s>i)break;if(u>=r)break}return u}function u(e){switch(e){case S.RENDER_CURSOR.CONVERSATION:case S.RENDER_CURSOR.GROUP_CONVERSATION:return S.RENDER_CURSOR.RECENT_AT_BOTTOM;case S.RENDER_CURSOR.STARRED_DRAWER:return S.RENDER_CURSOR.RECENT_AT_TOP;default:return S.RENDER_CURSOR.RECENT_AT_BOTTOM}}function c(e){switch(e){case S.RENDER_CURSOR.CONVERSATION:return i;case S.RENDER_CURSOR.GROUP_CONVERSATION:return l;case S.RENDER_CURSOR.STARRED_DRAWER:return s;default:return i}}function f(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.AFTER,a=(0,_.default)()*I,r=o(e,t,n),i=0,l=!0,s=null;r.hasNext();){var u=r.next(),c=(0,j.default)(u),f=2*(u.isNotification?1:0)+u.isSentByMe;if((i+=c+(f&&f===s?M:T))>a){l=!1;break}s=f}return l}function d(e,t,n){if(e){var a=t.get(e),r=t.indexOf(a);if(-1!==r)return r}return u(n)===S.RENDER_CURSOR.RECENT_AT_TOP?0:t.length-1}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=n("bjigbaghc"),b=a(m),g=n("bdiiahhjbe"),v=a(g),y=n("djdhjggcbi"),_=a(y),E=n("bdecdecede"),j=a(E),w=n("ccaaiecfib"),O=a(w),C=n("dejbbcaghh"),S=n("eadfaddcj"),P={BEFORE:"before",AFTER:"after"},M=2,T=12,k=19,N=65,I=2,R=function(){function e(t){r(this,e);var n=t.type,a=t.before,o=t.after,i=t.focusedMsgKey,l=t.prevFocusedMsgKey;this._type=n,this._focusedMsgKey=i,this._prevFocusedMsgKey=l,this.before=a||0,this.after=o||0}return h(e,null,[{key:"create",value:function(t){var n=t.msgCollection,a=t.focusedMsgKey,r=t.type,o=t.maxInitialCount,i=void 0===o?Number.MAX_SAFE_INTEGER:o;return new e({type:r}).init(a,n,i)}}]),h(e,[{key:"_cloneWith",value:function(t){return new e(p({type:this._type,before:this.before,after:this.after,focusedMsgKey:this._focusedMsgKey,prevFocusedMsgKey:this._prevFocusedMsgKey},t))}},{key:"_getCursorSize",value:function(e,t,n,a,r){return c(this._type)(e,t,n,a,r)}},{key:"getStart",value:function(e){return Math.max(d(this._focusedMsgKey,e,this._type)-this.before,0)}},{key:"getEnd",value:function(e){return Math.min(d(this._focusedMsgKey,e,this._type)+this.after+1,e.length)}},{key:"hasBefore",value:function(e){return d(this._focusedMsgKey,e,this._type)-this.before>0}},{key:"hasAfter",value:function(e){return d(this._focusedMsgKey,e,this._type)+this.after<e.length-1}},{key:"init",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return new e({type:this._type,before:0,after:0,focusedMsgKey:t}).loadBefore(n,{factor:1,maxCount:a}).loadAfter(n,{factor:1,maxCount:a})}},{key:"setFocusedMsgKey",value:function(e,t){var n=d(this._focusedMsgKey,e,this._type),a=d(t,e,this._type),r=void 0,o=void 0;return t?(o=this.after-(a-n),r=this.before+(a-n)):(r=this.before+this.after,o=0),this._cloneWith({focusedMsgKey:t,before:r,after:o})._updatePrev(e)}},{key:"ensureValidFocus",value:function(e){var t=null!=this._prevFocusedMsgKey&&null==e.get(this._prevFocusedMsgKey),n=null!=this._focusedMsgKey&&null==e.get(this._focusedMsgKey),a=this;return t&&(a=a._updatePrev(e)),n&&(a=a.focusBefore(e)),a}},{key:"_updatePrev",value:function(e){var t=d(this._focusedMsgKey,e,this._type);return this._cloneWith({prevFocusedMsgKey:t>0?e.at(t-1).id:void 0})}},{key:"focusBefore",value:function(e){return this._cloneWith({focusedMsgKey:this._prevFocusedMsgKey})._updatePrev(e)}},{key:"loadBefore",value:function(e,t){var n=t||{},a=n.count,r=n.maxCount,o=void 0===r?Number.MAX_SAFE_INTEGER:r,i=n.factor,l=void 0===i?2:i,s=a||this._getCursorSize(e,this.getStart(e)-1,P.BEFORE,l,o);return this._cloneWith({before:this.before+s})}},{key:"loadAfter",value:function(e,t){var n=t||{},a=n.count,r=n.maxCount,o=void 0===r?Number.MAX_SAFE_INTEGER:r,i=n.factor,l=void 0===i?2:i,s=a||this._getCursorSize(e,this.getEnd(e),P.AFTER,l,o);return this._cloneWith({after:this.after+s})}},{key:"loadBeforeCapped",value:function(e,t){var n=t||{},a=n.count,r=n.factor,o=void 0===r?2:r;return f(e,this.getStart(e),P.AFTER)?this.loadBefore(e,{count:a,factor:o}):this}},{key:"resetBeforeCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;if(!f(e,this.getStart(e),P.AFTER)){var n=Math.max(0,this.getEnd(e)-1),a=this._getCursorSize(e,n,P.BEFORE,2,t);return this._cloneWith({before:Math.min(this.before,a)})}return this}}]),e}();e.exports=R},jciegiifi:function(e,t,n){"use strict";var a={parseStatusRankingScores:function(e){if("status"===this.N.tag(e)&&"score"===this.N.attr("type",e)){var t=[],n=this.N.children(e);if(Array.isArray(n))for(var a=0;a<n.length;a++){var r=n[a];if("user"===this.N.tag(r)){var o=this.N.attr("jid",r),i=parseFloat(this.N.attr("score",r))||void 0;void 0!==o&&void 0!==i&&t.push({jid:o,score:i})}}return t}}};e.exports=a},jdcjegfeb:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("cfaiaibca"),f=a(c),d=n("dbdfbgehgj"),p=a(d),h=n("dhigahgdjb"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("didfdhbecg"),y=a(v),_=n("ihfccfgdf"),E=a(_),j=n("djijgaefjc"),w=a(j),O=n("djbfhebjhe"),C=a(O),S=n("ejbdjaifi"),P=n("cahfddcdga"),M=a(P),T=n("eedjbihej"),k=a(T),N=n("djigcbdaeh"),I=a(N),R=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.messageNewNumber=function(){var e=a.props.chat.changeNumberNewJid,t=p.default.gadd((0,M.default)(e));g.default.openChatFromUnread(t).then(function(e){e&&g.default.focusChatTextInput(t)})},a.dismissChangeNumberNotification=function(){a.props.chat.sendDismissChangeNumber()},i=n,o(a,i)}return i(t,e),l(t,[{key:"isOldChat",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.changeNumberNewJid;return void 0===t&&void 0!==n}},{key:"isNewChat",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.changeNumberNewJid;return void 0!==t&&void 0===n}},{key:"getText",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.id,a=t||n,r=m.default.get(a),o=r&&r.isMyContact?r.formattedName:(0,C.default)(a);return this.isNewChat()?l10n.t("change_number_new_chat",{name:o}):l10n.t("change_number_old_chat",{name:o})}},{key:"render",value:function(){var e=null;if(this.props.chat.showChangeNumberNotification){var t=this.isOldChat()?u.createElement("div",{className:w.default.messageNewNumberButton},u.createElement(f.default,{onClick:this.messageNewNumber,type:"plain-white",nowrap:!0},l10n.t("change_number_message_new_number"))):null;e=u.createElement(I.default,{onClose:this.dismissChangeNumberNotification},u.createElement("div",{className:w.default.container},u.createElement(k.default,{theme:"plain",className:w.default.text},this.getText()),t))}return u.createElement(y.default,{transitionName:"butterbar"},e)}}]),t}(u.Component);R.CONCERNS={chat:["changeNumberOldJid","changeNumberNewJid","id","showChangeNumberNotification"]},R.displayName="ChangeNumberNotification",t.default=(0,E.default)((0,S.hoc)(R),R.CONCERNS)},jdgfdffcj:function(e,t){e.exports={muted:"_2qQ_c",action:"_25Ewv"}},jfaihhdjc:function(e,t){e.exports={muted:"_3bMRb",spinner:"DEUYy",wrapper:"_1cExZ"}},jfbdejdfi:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("ceffhbhahb"),d=a(f),p=n("behbjhhbg"),h=a(p),m=n("hbhijdici"),b=a(m),g=n("bfdcadbbif"),v=a(g),y=n("ihfccfgdf"),_=a(y),E=n("ejbdjaifi"),j=n("bheafeifce"),w=n("bdiiahhjbe"),O=a(w),C=n("eadfaddcj"),S=a(C),P=n("bcjhbcbjbf"),M=a(P),T=S.default.MSG_TYPE,k=T.IMAGE,N=T.VIDEO,I=T.DOCUMENT,R=T.AUDIO,A=b.default.pickBy(h.default.MIMETYPES,function(e){return e.msgType===I}),D=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._onClick=function(e){a.props.onClick&&a.props.onClick((0,j.unproxy)(a.props.attachMedia),e)},a._onClose=function(e){a.props.onClose&&a.props.onClose((0,j.unproxy)(a.props.attachMedia),e)},r=n,i(a,r)}return l(t,e),s(t,[{key:"_renderBody",value:function(){var e=this.props.attachMedia,t=void 0,n=void 0,a=void 0;switch(e.type){case k:a={backgroundImage:"url("+e.preview+")"},t=c.createElement("div",{className:M.default.body,style:a});break;case N:a={backgroundImage:"url(data:image/jpeg;base64,"+e.preview+")"},t=c.createElement("div",{className:M.default.body,style:a});break;case R:t=c.createElement("div",{className:(0,d.default)(M.default.body,"attach-media-audio-thumb")});break;case I:if(O.default.log("media is",e)(),e.preview){var r={backgroundImage:"url("+e.preview+")"};t=c.createElement("div",{className:M.default.body,style:r});break}A[e.mimetype]&&(n=A[e.mimetype].icon);default:n=(0,d.default)(M.default.body,M.default.bodyDoc,n,{"icon-doc-generic":!n}),t=c.createElement("div",{className:n})}return t}},{key:"render",value:function(){var e=(0,d.default)(M.default.thumb,r({},M.default.active,this.props.active));return c.createElement("div",{className:e,onClick:this._onClick,role:"button"},c.createElement("div",{className:M.default.btnDelete,onClick:this._onClose,role:"button"},c.createElement(v.default,{name:"x-alt-light"})),this._renderBody())}}]),t}(c.PureComponent);D.CONCERNS={attachMedia:["mimetype","preview","type"]},D.displayName="AttachMediaThumb",t.default=(0,_.default)((0,E.hoc)(D),D.CONCERNS)},jgbhhadeh:function(e,t){e.exports={muted:"_3U5R4",container:"N-sh9",preview:"_3V0mN",img:"G4uT8"}},jgcieiibj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ceffhbhahb"),c=a(u),f=n("gbfffciea"),d=a(f),p=n("biddiiafgd"),h=a(p),m=n("dbcfhfbbbf"),b=a(m),g=n("bjbggbjed"),v=a(g),y=n("chhhffajfi"),_=n("dhfbfehaef"),E=a(_),j=n("ddhijeejag"),w=a(j),O=n("didfdhbecg"),C=a(O),S=n("caffijjhc"),P=a(S),M=n("dbjbhajgfd"),T=a(M),k=n("dbgdaechch"),N=n("bfdcadbbif"),I=a(N),R=n("cjgdeggcdi"),A=a(R),D=n("bfccafhbbb"),x=n("cdheafhdbh"),L=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={active:!1,emojiPicker:null},a.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=w.default.createElement(v.default,{onEmoji:a.onEmoji,onFocusNext:a.restoreFocus,onFocusPrev:a.restoreFocus});a.setState({emojiPicker:{menu:t,dirY:k.DirY.TOP,type:"emoji_picker",anchor:e.target}}),a.restoreFocus()},a.onEmojiPickerClose=function(){a.setState({emojiPicker:null})},a.onRestoreEmojiPickerFocus=function(){if(a.refEmojiPicker){var e=a.refEmojiPicker.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},a.onEmoji=function(e){var t=a.refInput;t&&(t.focus(!1),t.replaceSelection(e)),a.onEmojiPickerClose()},a.setRefInput=function(e){a.refInput=e},a.setRefEmojiPicker=function(e){a.refEmojiPicker=e},a.onSelectionChange=function(e){a.selection=e},a.onMaxPasteExceeded=function(){d.default.openModal(w.default.createElement(h.default,{title:l10n.t("caption_too_large_title"),onOK:function(){d.default.closeModal()},okText:l10n.t("web_ok")},l10n.t("caption_too_large_text")))},a.restoreFocus=function(){a.refInput&&a.refInput.focus()},a.onBlur=function(e){a.state.active&&a.setState({active:!1}),a.props.onBlur&&a.props.onBlur(e)},a.onFocus=function(e){e.stopPropagation(),a.state.active||a.setState({active:!0}),a.props.onFocus&&a.props.onFocus(e)},a.onReset=function(){a.refInput&&a.refInput.reset()},r=n,i(a,r)}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"render",value:function(){var e,t=this.props.maxLength,n=(0,y.numCodepoints)(this.props.value||""),a=t-n<50,o=(0,c.default)(A.default.textInput,(e={},r(e,A.default.noPlaceholder,!this.props.placeholder),r(e,A.default.active,!0),e)),i=(0,c.default)(A.default.labelText,r({},A.default.float,!!this.props.value)),l=(0,c.default)(A.default.wrapper,r({},A.default.textActive,this.state.active)),s=this.props.supportsEmoji?w.default.createElement("button",{className:A.default.inputEmoji,onClick:this.onEmojiPicker},w.default.createElement(I.default,{name:"emoji-input"})):void 0,u=null,f=this.props.value;u=f&&""!==f?w.default.createElement("div",{role:"button",className:A.default.clearInput,onClick:this.onReset},w.default.createElement(I.default,{name:"x-alt"})):null;var d=this.props.showRemaining?w.default.createElement("div",{className:(0,c.default)(A.default.buttonContainer,A.default.charCounter,r({},A.default.charCounterWithClearBtn,!!u))},w.default.createElement("div",{className:A.default.charCounter},a?l10n.n(t-n):null)):null,p=void 0;return this.state.emojiPicker&&(p=w.default.createElement(P.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPicker,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},w.default.createElement(T.default,{contextMenu:this.state.emojiPicker}))),w.default.createElement(E.default,{className:o,onFocus:this.restoreFocus},w.default.createElement("span",{className:i},this.props.placeholder),w.default.createElement("div",{className:A.default.spacer}),w.default.createElement("div",{className:A.default.suggestionsPositioner},w.default.createElement("div",{className:A.default.suggestionsContainer},w.default.createElement(b.default.MentionSuggestions,{chat:this.props.chat,theme:D.ThemeOptions.MEDIA_CAPTION}),w.default.createElement(b.default.EmojiSuggestions,{chat:this.props.chat,theme:x.ThemeOptions.MEDIA_CAPTION}))),w.default.createElement("div",{className:l},w.default.createElement(b.default,{ref:this.setRefInput,initialValue:this.props.value,initialSelection:this.selection,readOnly:!1,spellCheck:this.props.spellCheck,multiline:this.props.multiline,maxLength:this.props.maxLength,onEnter:this.props.onEnter,onMaxPasteExceeded:this.onMaxPasteExceeded,onFiles:this.props.onFiles,onChange:this.props.onChange,onSelect:this.onSelectionChange,theme:"media-caption"}),w.default.createElement("div",{className:A.default.inputControls},w.default.createElement(C.default,{transitionName:"pop",component:"div",className:A.default.buttonContainer},u,s),d)),p)}}]),t}(j.Component);L.defaultProps={maxLength:25},L.displayName="MediaCaptionTextInput",t.default=L},jgjiiajej:function(e,t){e.exports={muted:"_9YaRM",contactBusinessInfo:"p33C-",contactBusinessInfoSpinner:"_36fM-",dataRow:"_3vFc6",businessHoursRow:"_3kv2_",businessHoursDay:"_6P5Pb",businessHoursHours:"_34Da3",businessHoursChevron:"_3p_LK",flipSvg:"_27mxm",dataRowIcon:"_1ZiXJ",dataRowText:"_4Hlm9",businessTitleText:"_3EgZq",businessMarker:"_2qzPO",verifiedLabel:"_2eJ_X",businessMap:"_1gqk2",address:"_1zJF4",link:"_2Kszz"}},jhcabjcaf:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("ddhijeejag"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n("bjebjijbfc"),f=a(c),d=n("bjigbaghc"),p=a(d),h=n("ihfccfgdf"),m=a(h),b=n("ejbdjaifi"),g=n("jbecjibfc"),v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.contact,r=e.msg,o=e.onClick,i=e.style,l=f.default.timeStr(r.t),s=void 0;return a.isMe&&(s=p.default.pushname),s=s||a.formattedUser||"",u.createElement(g.CopyableDiv,{className:n,onClick:o,prePlainText:"["+l+"] "+s+": ",style:i},t)}}]),t}(u.PureComponent);v.CONCERNS={contact:["formattedUser","name","isMe"],msg:["senderObj","t"]},v.displayName="BubbleHiddenText",t.default=(0,m.default)((0,b.hoc)(v),v.CONCERNS)},jhddfhjhh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("fffdgbfji"),u=a(s),c=n("biaifggagf"),f=a(c),d=n("dbdfbgehgj"),p=a(d),h=n("eadfaddcj"),m=a(h),b=n("gbfffciea"),g=a(b),v=n("bdiiahhjbe"),y=a(v),_=n("hjbbdjjdf"),E=n("biecbbiiee"),j=a(E),w=function(){function e(t,n,a){var l=this;o(this,e),this.close=function(){l.notification&&l._waitForInteractionStop().then(function(){l.notification&&(0,_.isFunction)(l.notification.close)&&l.notification.close()})},this._onClose=function(){l.waitingPromise.resolver(),window.removeEventListener("beforeunload",l.close),l.notification&&(l.notification.removeEventListener("click",l._onClick),l.notification.removeEventListener("close",l._onClose),l.notification.removeEventListener("show",l._onShow)),window.clearTimeout(l._onShowTimeout),l.msg&&l.msg.off("change:type",l._onRevoke)},this._onClick=function(){window.focus(),l.onClick();var e=l.chat,t=l.msg;if(e){var n=t&&t!==e.msgs.last()?e.getSearchContext(t):void 0;g.default.openChatAt(e,n).then(function(t){t&&g.default.focusChatTextInput(e)}),g.default.closeModalMedia(),l.close()}},this._onShow=function(){l.msg&&l.msg.on("change:type",l._onRevoke)},this._onRevoke=function(){l.msg&&l.msg.type===m.default.MSG_TYPE.REVOKED&&l.close()},this.msg=j.default.get(n),this.chat=p.default.get(t);var s=!!f.default.get(n);this._timeoutDuration=s?m.default.CALL_NOTIFICATION_TIMEOUT:m.default.NOTIFICATION_TIMEOUT;var c=new Promise(function(e){l.waitingPromise={resolver:e}});this.waitingPromise.promise=c;var d=a.title,h=a.notification,b=r(a,["title","notification"]);try{this.notification=new h(d,i({tag:s?n:t.toString(),renotify:!0,dir:"auto",lang:u.default.lng(),silent:!0},b)),this.notification.addEventListener("click",this._onClick),this.notification.addEventListener("close",this._onClose),this.notification.addEventListener("show",this._onShow),window.addEventListener("beforeunload",this.close)}catch(e){y.default.info("Failed to create notification: "+e.name+":"+e.message)(e),this.waitingPromise.resolver()}}return l(e,[{key:"onClick",value:function(){}},{key:"_waitForInteractionStop",value:function(){return Promise.resolve()}},{key:"waitForClose",value:function(){return this.waitingPromise.promise}},{key:"detach",value:function(){this._onClose()}}]),e}();t.default=w},jhhgcfgee:function(e,t){e.exports={muted:"_2lTJh",photoPickerWrapper:"PU7NO",scale:"_2DN7K",nameWrapper:"_1gK1Z","well-animation":"_1wHTb",wellAnimation:"_1wHTb"}},jhjgghei:function(e,t,n){"use strict";function a(e,t){return e.keyCode===u&&r(e,t)}function r(e,t){return!t.isComposing&&o(e,window.getSelection(),t)}function o(e,t,n){if(!t.modify)return!1;var a=n.refInput,r=(0,s.default)(a,c.BACKWARD);if(!r)return!1;if(!i(r))return!1;t.modify("extend","backward","character"),t.modify("move","backward","character");var o=r.dataset.replacedEmojiText,l=r.parentNode;if(!l)return!1;l.replaceChild(document.createTextNode(o+" "),r);for(var u=o.length,f=0;f<u+1;f++)t.modify("extend","forward","character"),t.modify("move","forward","character");return!1}function i(e){return Boolean(e&&e.dataset&&e.dataset.replacedEmojiText)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var l=n("dbegdchadg"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=8,c=s.default.Direction},jijhjeei:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return u.CALL_LOG_RESULT[e]||"invalid"}var o=n("bhggeigghg"),i=a(o),l=n("ddcbacabaj"),s=a(l),u=n("cgejjichfa"),c=n("bgiachiigg"),f=c.Message,d={parseCall:function(e){if("call"===this.N.tag(e)){var t=this.N.child("offer",e);if(t){var n=this.N.child("call",t);if(n){var a=this.N.children(n),r=f.parse(a),o=r.call;if(o){var i=this.N.attr("from",e),l=this.N.attr("call-id",t),s=o.callKey,u={type:"offer_key",id:l,peerJid:i,key:s},c=[!l,!i,!s];return this.dropIfConditionMet(c,u)}}}}},queryCall:function(e,t){var n=this;return new Promise(function(a,r){var o=function(e){n.BinaryProtocol.read(e).then(function(e){var t={status:400};"response"===n.N.tag(e)&&"call"===n.N.attr("type",e)&&(t.status=parseInt(n.N.attr("code",e),10)||400),a(t)}).catch(r)},i=n.queryNode({type:"call","call-id":e,kind:t});n.binSend("sendEphemeral",i,r,{onSend:n.binWrap(o,a),onDrop:n.wrap(r)},{debugString:"query,call,"+e,metric:n.M.QUERY_CALL})})},queryCallOffer:function(e){var t=this;return new Promise(function(n,a){var r=function(e){t.BinaryProtocol.read(e).then(function(e){var a={status:400};if("response"===t.N.tag(e)&&"call-offer"===t.N.attr("type",e)&&(a.status=parseInt(t.N.attr("code",e),10)||400),200===a.status){var r=t.N.child("call",e);if(r){var o=t.N.child("offer",r),i=t.N.attr("from",r),l=t.N.attr("t",r);a.offer={t:l,peer_jid:i.toString({legacy:!0})},s.default.parseCallOffer(o,a.offer,!0),a.offer.call_id&&s.default.createCommonHeader(a.offer)}}n(a)}).catch(a)},o=t.queryNode({type:"call-offer","call-id":e});t.binSend("sendEphemeral",o,a,{onSend:t.binWrap(r,n),onDrop:t.wrap(a)},{debugString:"query,callOffer,"+e,metric:t.M.QUERY_CALL_OFFER})})},handleCallQuery:function(e){var t=this,n={},a=i.default.Call.handleQuery(n);if(a)return a.then(function(e){return t.responseNode(void 0,[["some",{formatted:"xml"},void 0]])})},sendCallEnd:function(e,t){var n=this;return new Promise(function(a,o){var i={};i.jid=e.jid,i["call-id"]=e["call-id"],i.result=r(e.result),i.audio=e.audio.toString(),i.out=e.out.toString(),i.seconds=e.seconds.toString(),i.t=e.t.toString(),i.group=e.group.toString();var l=t.map(function(e){return["participant",{jid:e.jid,result:r(e.result)},void 0]}),s=n.actionNode("relay",[["call_end",i,l]]);n.binSend("send",s,o,{onSend:n.wrap(a),onDrop:n.wrap(o)},{debugString:"action,call_end,"+e["call-id"]})})}};e.exports=d},jjaddhidj:function(e,t,n){"use strict";function a(e,t){if(t.parentNode)return t.parentNode.insertBefore(e,t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},jjbcbhhjh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("ddhijeejag"),f=r(c),d=n("cajijabhgb"),p=r(d),h=n("ceffhbhahb"),m=a(h),b=n("chgafjbahd"),g=a(b),v=n("cehjjfagii"),y=a(v),_=n("ejegihaeh"),E=a(_),j=n("gbfffciea"),w=a(j),O=n("bjigbaghc"),C=a(O),S=n("eadfaddcj"),P=a(S),M=n("ccaaiecfib"),T=a(M),k=n("biecbbiiee"),N=a(k),I=n("bghbcggigd"),R=a(I),A=n("deabffecii"),D=a(A),x=n("cfegjiegcd"),L=a(x),F=n("bfejacaeaj"),U=a(F),B=n("cjdafdbcjb"),G=a(B),V=n("dbhcidbdcf"),W=a(V),H=n("cccaiafbjc"),Y=a(H),q=n("bgcdajbhif"),K=a(q),z=n("bfjajhbdf"),Q=a(z),X=n("dcjdgceiej"),J=a(X),Z=n("jccfhaecf"),$=a(Z),ee=n("dcbdjheea"),te=n("bgjddhffji"),ne=n("bheafeifce"),ae=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.ProductCatalogSession=new D.default,a.state={hover:!1},a.onClick=function(){var e=a.props,t=e.rootMsg,n=e.msg;if(n.isStatusV3)return void(t&&t.isQuotedMsgAvailable?T.default.supportsFeature(T.default.F.STATUS_V3_UI_VIEWING)&&K.default.find(n.sender).then(function(e){var a=function(){t&&(t.isQuotedMsgAvailable=!1)};w.default.openModalMedia(f.createElement(Y.default,{removeTopDrawer:!1,statusV3:e,msgKey:n.id,onMsgNotFound:a}),{transition:"quoted-status-v3-modal"})}):w.default.openToast(f.createElement(Q.default,{msg:l10n.t("status_v3_msg_not_found"),id:(0,z.genId)()})));if(n.isProductInquiry)return a.onProductInquiry();if(!t||t.isQuotedMsgAvailable){var r=n.id,o=n.chat,i=N.default.get(r),l=void 0;l=i&&(i.isValidAlbumAsset||i.isValidGroupedSticker)?o.getSearchContext(r,t):o.getSearchContext(i||r,t),l&&(l.slideToMsg=!0),w.default.openChatAt(o,l),i||l.collection.loadAroundPromise.catch(p.E404,function(){w.default.openChatAt(o,o.getSearchContext(t))})}},a.onMouseOver=function(e){a.hoverable()&&a.setState({hover:!0})},a.onMouseEnter=function(e){a.hoverable()&&a.setState({hover:!0})},a.onMouseLeave=function(e){a.state.hover&&a.setState({hover:!1})},r=n,l(a,r)}return s(t,e),u(t,[{key:"componentDidMount",value:function(){if(T.default.supportsFeature(T.default.F.CATALOG)){var e=this.props,t=e.msg,n=e.t;if(t.isProductInquiry){if(!(t.businessOwnerJid&&(0,ee.createWid)(t.businessOwnerJid)))return;n&&(t.t=n),E.default.addMsgAsproduct((0,ne.unproxy)(t))}}}},{key:"onProductInquiry",value:function(){if(T.default.supportsFeature(T.default.F.CATALOG)){var e=this.props,t=e.msg,n=e.t,a=t.businessOwnerJid&&(0,ee.createWid)(t.businessOwnerJid);if(a){var r=E.default.get(a);if(r){var o=t.productId&&r.productCollection.get(t.productId),i=t.productId&&r.msgProductCollection.get(t.productId);if(o||i){var l=i;if(o&&n&&o.t>=n&&(l=o,i&&r.productCollection.remove(i)),l)return(0,te.logProductInquiryClick)((0,ne.unproxy)(l),this.ProductCatalogSession.toString()),w.default.openDrawerRight(f.createElement(L.default,{product:l,chat:t.chat,refreshCarousel:!0,sessionId:this.ProductCatalogSession.toString()}),"slide-left",this.context.uim)}}}}}},{key:"hoverable",value:function(){return!this.state.hover&&!!this.props.rootMsg}},{key:"render",value:function(){var e,t=this.props,n=t.msg,a=t.displayType,r=t.chat,i=t.rootMsg,l=t.composeQuotedMsgRemoteJid,s=r.assignedColor(n.sender),u=a===P.default.DISP_TYPE.CONVERSATION,c=l||i&&i.quotedRemoteJid,d=f.createElement(y.default,{msg:n,contact:n.senderObj,role:u?"button":null,chat:r,displaySelf:$.default.equals(n.sender,C.default.me),quotedRemoteJid:c,disableClick:!0}),p=(0,m.default)(g.default.quotedMsg,(e={},o(e,g.default.statusV3QuotedMsg,"statusV3"===this.props.theme),o(e,g.default.composeBoxQuotedMsg,"composeBox"===this.props.theme),o(e,g.default.hover,this.state.hover),o(e,g.default.quotedPaymentMsg,"payment"===n.type),e)),h="payment"===n.type&&T.default.supportsFeature(T.default.F.PAYMENTS)&&n.amount1000&&n.currency?f.createElement(R.default,{quotedMsgAuthor:d,isSentByMe:n.isSentByMe,currency:n.currency,amount1000:n.amount1000,receiverJid:n.receiverJid,paymentStatus:n.paymentStatus,messageStubType:n.subtype,isQuoted:!0,theme:this.props.theme}):f.createElement("div",{className:g.default.msgText},d,f.createElement(W.default,{msg:n,inConversation:u,theme:this.props.theme}));return f.createElement("div",{className:g.default.container,onMouseOver:u?this.onMouseOver:null,onMouseEnter:u?this.onMouseEnter:null,onMouseLeave:u?this.onMouseLeave:null},f.createElement("div",{className:p,role:u?"button":"",onClick:u?this.onClick:null},f.createElement("span",{className:(0,m.default)("bg-color-"+s,g.default.colorBar)}),f.createElement("div",{className:g.default.msgBody},h),f.createElement(G.default,{msg:n,inConversation:u,theme:this.props.theme})))}}]),t}(f.PureComponent);ae.contextTypes={uim:U.default.instanceOf(J.default)},ae.displayName="QuotedMsg",t.default=ae},jjgaeci:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("ddhijeejag"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n("hbhijdici"),d=a(f),p=n("cjcffhicea"),h=a(p),m=n("gbfffciea"),b=a(m),g=n("bcbahjefec"),v=a(g),y=n("biheibdage"),_=n("bfgbdiffgd"),E=a(_),j=n("dfdebdgdei"),w=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.onForwardConfirmed=function(e){Promise.map(e,function(e){var t=void 0;t=e.isUser&&e.contact.isBlocked()?(0,j.unblockContact)(e.contact):Promise.resolve(!0),t.then(function(t){a.onSend(e)})}),a.end(),1===e.length&&(b.default.openChatFromUnread(d.default.head(e)),window.innerWidth<=1024&&b.default.closeDrawerRight())},a.onCancel=function(){a.end()},a.onSend=function(e){if(a.props.mediaCollection.canSend()){var t=a.props.mediaCollection.getPreviewableMedias();if(0!==t.length){var n=t.map(function(e){var t=e.caption;return e.caption=t||void 0,{media:e}});a.sendMedia(n,e)}}},a.sendMedia=function(e,t){var n=a.props,r=n.product,o=n.catalogWid;b.default.once("ui_idle",function(){e.forEach(function(e,n){var a=e.media,i={};0===n&&(i.quotedMsg=t.composeQuotedMsg,t.composeQuotedMsg=null),i.caption=a.caption,i.addEvenWhilePreparing=a.previewable&&a.state===y.ATTACH_MEDIA_STATE.PROCESSING;var s={businessOwnerJid:o.toString({legacy:!0}),productId:r.id.toString(),url:r.url,productImageCount:r.productImageCollection.length,title:r.name,description:r.description,currencyCode:r.currency,priceAmount1000:r.priceAmount1000,type:"product"};i.useBasePropsType=!0,a.sendToChat(t,l({},i,{productMsgOptions:s}))})}),a.end()},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){b.default.closeContextMenu(),b.default.closeTooltip(),this.push(c.createElement(h.default,{onChat:this.onForwardConfirmed,maxItems:E.default.multicastLimitGlobal,title:l10n.t("msg_send_title"),listType:p.ListType.CHAT_SELECT_MODAL,onCancel:this.onCancel}))}}]),t}(v.default);t.default=w}});