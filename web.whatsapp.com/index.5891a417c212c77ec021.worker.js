/*! Copyright (c) 2021 WhatsApp Inc. All Rights Reserved. */(()=>{var e={1504:e=>{function t(e,t,u,n,r,a,i){try{var o=e[a](i),s=o.value}catch(e){return void u(e)}o.done?t(s):Promise.resolve(s).then(n,r)}e.exports=function(e){return function(){var u=this,n=arguments;return new Promise((function(r,a){var i=e.apply(u,n);function o(e){t(i,r,a,o,s,"next",e)}function s(e){t(i,r,a,o,s,"throw",e)}o(void 0)}))}}},5526:e=>{e.exports=function(e,t,u){return t in e?Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[t]=u,e}},7914:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},1954:(e,t,u)=>{var n=u(5067);function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(u,i,o):u[i]=e[i]}return u.default=e,t&&t.set(e,u),u}},3982:(e,t,u)=>{var n=u(5526);function r(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}e.exports=function(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?r(Object(u),!0).forEach((function(t){n(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):r(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}},5067:e=>{function t(u){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(u)}e.exports=t},4302:e=>{"use strict";var t=Object.prototype.hasOwnProperty,u="function"==typeof WeakMap?new WeakMap:new Map;function n(e){var t=u.get(e);if(void 0!==t)return t;var n=new Map;return Object.getOwnPropertyNames(e).forEach((function(t){n.set(e[t],t)})),u.set(e,n),n}var r=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return n(this).has(e)}},cast:{value:function(e){return this.isValid(e)?e:void 0}},members:{value:function(){return n(this).keys()}},getName:{value:function(e){return n(this).get(e)}}}));function a(e){var u=Object.create(r);for(var n in e)t.call(e,n)&&Object.defineProperty(u,n,{value:e[n]});return Object.freeze(u)}var i=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return"string"==typeof e&&t.call(this,e)}},cast:{value:r.cast},members:{value:function(){return Object.getOwnPropertyNames(this)}},getName:{value:function(e){return e}}}));a.Mirrored=function(e){for(var t=Object.create(i),u=0,n=e.length;u<n;++u)Object.defineProperty(t,e[u],{value:e[u]});return Object.freeze(t)},Object.freeze(a.Mirrored),e.exports=Object.freeze(a)},6586:(e,t,u)=>{var n=u(7753),r=u(2452),a=u(2115),i=u(8256),o=u(7426);function s(e){var t=-1,u=null==e?0:e.length;for(this.clear();++t<u;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=r,s.prototype.get=a,s.prototype.has=i,s.prototype.set=o,e.exports=s},6301:(e,t,u)=>{var n=u(9417),r=u(2470),a=u(6165),i=u(4966),o=u(2556);function s(e){var t=-1,u=null==e?0:e.length;for(this.clear();++t<u;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=r,s.prototype.get=a,s.prototype.has=i,s.prototype.set=o,e.exports=s},4538:(e,t,u)=>{var n=u(1822)(u(7400),"Map");e.exports=n},4554:(e,t,u)=>{var n=u(9448),r=u(7738),a=u(6575),i=u(7238),o=u(8738);function s(e){var t=-1,u=null==e?0:e.length;for(this.clear();++t<u;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=r,s.prototype.get=a,s.prototype.has=i,s.prototype.set=o,e.exports=s},6151:(e,t,u)=>{var n=u(1822)(u(7400),"Set");e.exports=n},2485:(e,t,u)=>{var n=u(4554),r=u(8639),a=u(8379);function i(e){var t=-1,u=null==e?0:e.length;for(this.__data__=new n;++t<u;)this.add(e[t])}i.prototype.add=i.prototype.push=r,i.prototype.has=a,e.exports=i},6539:(e,t,u)=>{var n=u(7400).Symbol;e.exports=n},9349:e=>{e.exports=function(e,t,u){switch(u.length){case 0:return e.call(t);case 1:return e.call(t,u[0]);case 2:return e.call(t,u[0],u[1]);case 3:return e.call(t,u[0],u[1],u[2])}return e.apply(t,u)}},8095:(e,t,u)=>{var n=u(8817);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},1796:e=>{e.exports=function(e,t,u){for(var n=-1,r=null==e?0:e.length;++n<r;)if(u(t,e[n]))return!0;return!1}},6070:e=>{e.exports=function(e,t){for(var u=-1,n=null==e?0:e.length,r=Array(n);++u<n;)r[u]=t(e[u],u,e);return r}},7141:e=>{e.exports=function(e,t){for(var u=-1,n=t.length,r=e.length;++u<n;)e[r+u]=t[u];return e}},3382:(e,t,u)=>{var n=u(5638);e.exports=function(e,t){for(var u=e.length;u--;)if(n(e[u][0],t))return u;return-1}},5372:e=>{e.exports=function(e,t,u,n){for(var r=e.length,a=u+(n?1:-1);n?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},3545:(e,t,u)=>{var n=u(7141),r=u(2889);e.exports=function e(t,u,a,i,o){var s=-1,l=t.length;for(a||(a=r),o||(o=[]);++s<l;){var c=t[s];u>0&&a(c)?u>1?e(c,u-1,a,i,o):n(o,c):i||(o[o.length]=c)}return o}},9736:(e,t,u)=>{var n=u(6539),r=u(4840),a=u(1258),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?r(e):a(e)}},8817:(e,t,u)=>{var n=u(5372),r=u(1129),a=u(8263);e.exports=function(e,t,u){return t==t?a(e,t,u):n(e,r,u)}},6638:(e,t,u)=>{var n=u(2485),r=u(8095),a=u(1796),i=u(6070),o=u(9334),s=u(5581),l=Math.min;e.exports=function(e,t,u){for(var c=u?a:r,D=e[0].length,E=e.length,d=E,f=Array(E),_=1/0,h=[];d--;){var A=e[d];d&&t&&(A=i(A,o(t))),_=l(A.length,_),f[d]=!u&&(t||D>=120&&A.length>=120)?new n(d&&A):void 0}A=e[0];var S=-1,p=f[0];e:for(;++S<D&&h.length<_;){var F=A[S],T=t?t(F):F;if(F=u||0!==F?F:0,!(p?s(p,T):c(h,T,u))){for(d=E;--d;){var C=f[d];if(!(C?s(C,T):c(e[d],T,u)))continue e}p&&p.push(T),h.push(F)}}return h}},5829:(e,t,u)=>{var n=u(9736),r=u(2360);e.exports=function(e){return r(e)&&"[object Arguments]"==n(e)}},1129:e=>{e.exports=function(e){return e!=e}},6729:(e,t,u)=>{var n=u(8338),r=u(9678),a=u(1611),i=u(6532),o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,D=l.hasOwnProperty,E=RegExp("^"+c.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(n(e)?E:o).test(i(e))}},1197:(e,t,u)=>{var n=u(1137),r=u(1871),a=u(3132);e.exports=function(e,t){return a(r(e,t,n),e+"")}},4459:(e,t,u)=>{var n=u(551),r=u(2630),a=u(1137),i=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=i},9334:e=>{e.exports=function(e){return function(t){return e(t)}}},2198:(e,t,u)=>{var n=u(2485),r=u(8095),a=u(1796),i=u(5581),o=u(7111),s=u(3735);e.exports=function(e,t,u){var l=-1,c=r,D=e.length,E=!0,d=[],f=d;if(u)E=!1,c=a;else if(D>=200){var _=t?null:o(e);if(_)return s(_);E=!1,c=i,f=new n}else f=t?[]:d;e:for(;++l<D;){var h=e[l],A=t?t(h):h;if(h=u||0!==h?h:0,E&&A==A){for(var S=f.length;S--;)if(f[S]===A)continue e;t&&f.push(A),d.push(h)}else c(f,A,u)||(f!==d&&f.push(A),d.push(h))}return d}},5581:e=>{e.exports=function(e,t){return e.has(t)}},923:(e,t,u)=>{var n=u(6468);e.exports=function(e){return n(e)?e:[]}},4937:(e,t,u)=>{var n=u(7400)["__core-js_shared__"];e.exports=n},7111:(e,t,u)=>{var n=u(6151),r=u(344),a=u(3735),i=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:r;e.exports=i},2630:(e,t,u)=>{var n=u(1822),r=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},9120:(e,t,u)=>{var n="object"==typeof u.g&&u.g&&u.g.Object===Object&&u.g;e.exports=n},5899:(e,t,u)=>{var n=u(4479);e.exports=function(e,t){var u=e.__data__;return n(t)?u["string"==typeof t?"string":"hash"]:u.map}},1822:(e,t,u)=>{var n=u(6729),r=u(5371);e.exports=function(e,t){var u=r(e,t);return n(u)?u:void 0}},4840:(e,t,u)=>{var n=u(6539),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),u=e[o];try{e[o]=void 0;var n=!0}catch(e){}var r=i.call(e);return n&&(t?e[o]=u:delete e[o]),r}},5371:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},7753:(e,t,u)=>{var n=u(5718);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},2452:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2115:(e,t,u)=>{var n=u(5718),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var u=t[e];return"__lodash_hash_undefined__"===u?void 0:u}return r.call(t,e)?t[e]:void 0}},8256:(e,t,u)=>{var n=u(5718),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}},7426:(e,t,u)=>{var n=u(5718);e.exports=function(e,t){var u=this.__data__;return this.size+=this.has(e)?0:1,u[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2889:(e,t,u)=>{var n=u(6539),r=u(2900),a=u(9785),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||r(e)||!!(i&&e&&e[i])}},4479:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},9678:(e,t,u)=>{var n,r=u(4937),a=(n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},9417:e=>{e.exports=function(){this.__data__=[],this.size=0}},2470:(e,t,u)=>{var n=u(3382),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,u=n(t,e);return!(u<0)&&(u==t.length-1?t.pop():r.call(t,u,1),--this.size,!0)}},6165:(e,t,u)=>{var n=u(3382);e.exports=function(e){var t=this.__data__,u=n(t,e);return u<0?void 0:t[u][1]}},4966:(e,t,u)=>{var n=u(3382);e.exports=function(e){return n(this.__data__,e)>-1}},2556:(e,t,u)=>{var n=u(3382);e.exports=function(e,t){var u=this.__data__,r=n(u,e);return r<0?(++this.size,u.push([e,t])):u[r][1]=t,this}},9448:(e,t,u)=>{var n=u(6586),r=u(6301),a=u(4538);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||r),string:new n}}},7738:(e,t,u)=>{var n=u(5899);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6575:(e,t,u)=>{var n=u(5899);e.exports=function(e){return n(this,e).get(e)}},7238:(e,t,u)=>{var n=u(5899);e.exports=function(e){return n(this,e).has(e)}},8738:(e,t,u)=>{var n=u(5899);e.exports=function(e,t){var u=n(this,e),r=u.size;return u.set(e,t),this.size+=u.size==r?0:1,this}},5718:(e,t,u)=>{var n=u(1822)(Object,"create");e.exports=n},1258:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},1871:(e,t,u)=>{var n=u(9349),r=Math.max;e.exports=function(e,t,u){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,o=r(a.length-t,0),s=Array(o);++i<o;)s[i]=a[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=a[i];return l[t]=u(s),n(e,this,l)}}},7400:(e,t,u)=>{var n=u(9120),r="object"==typeof self&&self&&self.Object===Object&&self,a=n||r||Function("return this")();e.exports=a},8639:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},8379:e=>{e.exports=function(e){return this.__data__.has(e)}},3735:e=>{e.exports=function(e){var t=-1,u=Array(e.size);return e.forEach((function(e){u[++t]=e})),u}},3132:(e,t,u)=>{var n=u(4459),r=u(9591)(n);e.exports=r},9591:e=>{var t=Date.now;e.exports=function(e){var u=0,n=0;return function(){var r=t(),a=16-(r-n);if(n=r,a>0){if(++u>=800)return arguments[0]}else u=0;return e.apply(void 0,arguments)}}},8263:e=>{e.exports=function(e,t,u){for(var n=u-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}},6532:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},551:e=>{e.exports=function(e){return function(){return e}}},5638:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},9754:(e,t,u)=>{var n=u(3545);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},1137:e=>{e.exports=function(e){return e}},7921:(e,t,u)=>{var n=u(6070),r=u(6638),a=u(1197),i=u(923),o=a((function(e){var t=n(e,i);return t.length&&t[0]===e[0]?r(t):[]}));e.exports=o},2900:(e,t,u)=>{var n=u(5829),r=u(2360),a=Object.prototype,i=a.hasOwnProperty,o=a.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return r(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=s},9785:e=>{var t=Array.isArray;e.exports=t},68:(e,t,u)=>{var n=u(8338),r=u(4194);e.exports=function(e){return null!=e&&r(e.length)&&!n(e)}},6468:(e,t,u)=>{var n=u(68),r=u(2360);e.exports=function(e){return r(e)&&n(e)}},8338:(e,t,u)=>{var n=u(9736),r=u(1611);e.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4194:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},1611:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2360:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},344:e=>{e.exports=function(){}},3766:(e,t,u)=>{var n=u(2198);e.exports=function(e){return e&&e.length?n(e):[]}},8926:e=>{function t(e,t,u,n,r,a,i){try{var o=e[a](i),s=o.value}catch(e){return void u(e)}o.done?t(s):Promise.resolve(s).then(n,r)}e.exports=function(e){return function(){var u=this,n=arguments;return new Promise((function(r,a){var i=e.apply(u,n);function o(e){t(i,r,a,o,s,"next",e)}function s(e){t(i,r,a,o,s,"throw",e)}o(void 0)}))}}},9713:e=>{e.exports=function(e,t,u){return t in e?Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[t]=u,e}},5318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},862:(e,t,u)=>{var n=u(8);function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(u,i,o):u[i]=e[i]}return u.default=e,t&&t.set(e,u),u}},1109:(e,t,u)=>{var n=u(9713);function r(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}e.exports=function(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?r(Object(u),!0).forEach((function(t){n(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):r(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}},8:e=>{function t(u){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(u)}e.exports=t},6128:(e,t,u)=>{"use strict";u.r(t),u.d(t,{default:()=>Ut});var n=Object.keys,r=Array.isArray,a="undefined"!=typeof self?self:"undefined"!=typeof window?window:u.g;function i(e,t){return"object"!=typeof t||n(t).forEach((function(u){e[u]=t[u]})),e}var o=Object.getPrototypeOf,s={}.hasOwnProperty;function l(e,t){return s.call(e,t)}function c(e,t){"function"==typeof t&&(t=t(o(e))),n(t).forEach((function(u){E(e,u,t[u])}))}var D=Object.defineProperty;function E(e,t,u,n){D(e,t,i(u&&l(u,"get")&&"function"==typeof u.get?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},n))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),E(e.prototype,"constructor",e),{extend:c.bind(null,e.prototype)}}}}var f=Object.getOwnPropertyDescriptor;function _(e,t){var u;return f(e,t)||(u=o(e))&&_(u,t)}var h=[].slice;function A(e,t,u){return h.call(e,t,u)}function S(e,t){return t(e)}function p(e){if(!e)throw new Error("Assertion Failed")}function F(e){a.setImmediate?setImmediate(e):setTimeout(e,0)}function T(e,t){return e.reduce((function(e,u,n){var r=t(u,n);return r&&(e[r[0]]=r[1]),e}),{})}function C(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function g(e,t,u){try{e.apply(null,u)}catch(e){t&&t(e)}}function m(e,t){if(l(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var u=[],n=0,r=t.length;n<r;++n){var a=m(e,t[n]);u.push(a)}return u}var i=t.indexOf(".");if(-1!==i){var o=e[t.substr(0,i)];return void 0===o?void 0:m(o,t.substr(i+1))}}function y(e,t,u){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){p("string"!=typeof u&&"length"in u);for(var n=0,r=t.length;n<r;++n)y(e,t[n],u[n])}else{var a=t.indexOf(".");if(-1!==a){var i=t.substr(0,a),o=t.substr(a+1);if(""===o)void 0===u?delete e[i]:e[i]=u;else{var s=e[i];s||(s=e[i]={}),y(s,o,u)}}else void 0===u?delete e[t]:e[t]=u}}function I(e){var t={};for(var u in e)l(e,u)&&(t[u]=e[u]);return t}var v=[].concat;function P(e){return v.apply([],e)}var b="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(P([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return a[e]})).map((function(e){return a[e]}));function N(e){if(!e||"object"!=typeof e)return e;var t;if(r(e)){t=[];for(var u=0,n=e.length;u<n;++u)t.push(N(e[u]))}else if(b.indexOf(e.constructor)>=0)t=e;else for(var a in t=e.constructor?Object.create(e.constructor.prototype):{},e)l(e,a)&&(t[a]=N(e[a]));return t}function B(e,t,u,r){return u=u||{},r=r||"",n(e).forEach((function(n){if(l(t,n)){var a=e[n],i=t[n];"object"==typeof a&&"object"==typeof i&&a&&i&&""+a.constructor==""+i.constructor?B(a,i,u,r+n+"."):a!==i&&(u[r+n]=t[n])}else u[r+n]=void 0})),n(t).forEach((function(n){l(e,n)||(u[r+n]=t[n])})),u}var R="undefined"!=typeof Symbol&&Symbol.iterator,O=R?function(e){var t;return null!=e&&(t=e[R])&&t.apply(e)}:function(){return null},w={};function M(e){var t,u,n,a;if(1===arguments.length){if(r(e))return e.slice();if(this===w&&"string"==typeof e)return[e];if(a=O(e)){for(u=[];!(n=a.next()).done;)u.push(n.value);return u}if(null==e)return[e];if("number"==typeof(t=e.length)){for(u=new Array(t);t--;)u[t]=e[t];return u}return[e]}for(t=arguments.length,u=new Array(t);t--;)u[t]=arguments[t];return u}var Y="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function L(e,t){Y=e,x=t}var x=function(){return!0},U=!new Error("").stack;function G(){if(U)try{throw G.arguments,new Error}catch(e){return e}return new Error}function k(e,t){var u=e.stack;return u?(t=t||0,0===u.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),u.split("\n").slice(t).filter(x).map((function(e){return"\n"+e})).join("")):""}var V=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],K=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(V),j={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function H(e,t){this._e=G(),this.name=e,this.message=t}function W(e,t,u,n){this._e=G(),this.failures=t,this.failedKeys=n,this.successCount=u}function $(e,t){this._e=G(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,u){return u.indexOf(e)===t})).join("\n")}(e,t)}d(H).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+k(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(W).from(H),d($).from(H);var z=K.reduce((function(e,t){return e[t]=t+"Error",e}),{}),q=H,X=K.reduce((function(e,t){var u=t+"Error";function n(e,n){this._e=G(),this.name=u,e?"string"==typeof e?(this.message=e,this.inner=n||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=j[t]||u,this.inner=null)}return d(n).from(q),e[t]=n,e}),{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var Q=V.reduce((function(e,t){return e[t+"Error"]=X[t],e}),{});var J=K.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=X[t]),e}),{});function Z(){}function ee(e){return e}function te(e,t){return null==e||e===ee?t:function(u){return t(e(u))}}function ue(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ne(e,t){return e===Z?t:function(){var u=e.apply(this,arguments);void 0!==u&&(arguments[0]=u);var n=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?ue(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ue(r,this.onerror):r),void 0!==a?a:u}}function re(e,t){return e===Z?t:function(){e.apply(this,arguments);var u=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?ue(u,this.onsuccess):u),n&&(this.onerror=this.onerror?ue(n,this.onerror):n)}}function ae(e,t){return e===Z?t:function(u){var n=e.apply(this,arguments);i(u,n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ue(r,this.onsuccess):r),a&&(this.onerror=this.onerror?ue(a,this.onerror):a),void 0===n?void 0===o?void 0:o:i(n,o)}}function ie(e,t){return e===Z?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function oe(e,t){return e===Z?t:function(){var u=e.apply(this,arguments);if(u&&"function"==typeof u.then){for(var n=this,r=arguments.length,a=new Array(r);r--;)a[r]=arguments[r];return u.then((function(){return t.apply(n,a)}))}return t.apply(this,arguments)}}J.ModifyError=W,J.DexieError=H,J.BulkError=$;var se={},le=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=a.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),ce=le[0],De=le[1],Ee=le[2],de=De&&De.then,fe=ce&&ce.constructor,_e=le[3],he=!!Ee,Ae=!1,Se=Ee?function(){Ee.then(ke)}:a.setImmediate?setImmediate.bind(null,ke):a.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){ke(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(ke,0)},pe=function(e,t){Pe.push([e,t]),Te&&(Se(),Te=!1)},Fe=!0,Te=!0,Ce=[],ge=[],me=null,ye=ee,Ie={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Dt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Dt(e[0],e[1])}catch(e){}}))}},ve=Ie,Pe=[],be=0,Ne=[];function Be(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Z,this._lib=!1;var t=this._PSD=ve;if(Y&&(this._stackHolder=G(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==se)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Me(this,this._value))}this._state=null,this._value=null,++t.ref,we(this,e)}var Re={get:function(){var e=ve,t=Qe;function u(u,n){var r=this,a=!e.global&&(e!==ve||t!==Qe);a&&tt();var i=new Be((function(t,i){Le(r,new Oe(st(u,e,a),st(n,e,a),t,i,e))}));return Y&&Ge(i,this),i}return u.prototype=se,u},set:function(e){E(this,"then",e&&e.prototype===se?Re:{get:function(){return e},set:Re.set})}};function Oe(e,t,u,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=u,this.reject=n,this.psd=r}function we(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var u=e._lib&&Ve();t&&"function"==typeof t.then?we(e,(function(e,u){t instanceof Be?t._then(e,u):t.then(e,u)})):(e._state=!0,e._value=t,Ye(e)),u&&Ke()}}),Me.bind(null,e))}catch(t){Me(e,t)}}function Me(e,t){if(ge.push(t),null===e._state){var u=e._lib&&Ve();t=ye(t),e._state=!1,e._value=t,Y&&null!==t&&"object"==typeof t&&!t._promise&&g((function(){var u=_(t,"stack");t._promise=e,E(t,"stack",{get:function(){return Ae?u&&(u.get?u.get.apply(t):u.value):e.stack}})})),function(e){Ce.some((function(t){return t._value===e._value}))||Ce.push(e)}(e),Ye(e),u&&Ke()}}function Ye(e){var t=e._listeners;e._listeners=[];for(var u=0,n=t.length;u<n;++u)Le(e,t[u]);var r=e._PSD;--r.ref||r.finalize(),0===be&&(++be,pe((function(){0==--be&&je()}),[]))}function Le(e,t){if(null!==e._state){var u=e._state?t.onFulfilled:t.onRejected;if(null===u)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++be,pe(xe,[u,e,t])}else e._listeners.push(t)}function xe(e,t,u){try{me=t;var n,r=t._value;t._state?n=e(r):(ge.length&&(ge=[]),n=e(r),-1===ge.indexOf(r)&&function(e){var t=Ce.length;for(;t;)if(Ce[--t]._value===e._value)return void Ce.splice(t,1)}(t)),u.resolve(n)}catch(e){u.reject(e)}finally{me=null,0==--be&&je(),--u.psd.ref||u.psd.finalize()}}function Ue(e,t,u){if(t.length===u)return t;var n="";if(!1===e._state){var r,a,i=e._value;null!=i?(r=i.name||"Error",a=i.message||i,n=k(i,0)):(r=i,a=""),t.push(r+(a?": "+a:"")+n)}return Y&&((n=k(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&Ue(e._prev,t,u)),t}function Ge(e,t){var u=t?t._numPrev+1:0;u<100&&(e._prev=t,e._numPrev=u)}function ke(){Ve()&&Ke()}function Ve(){var e=Fe;return Fe=!1,Te=!1,e}function Ke(){var e,t,u;do{for(;Pe.length>0;)for(e=Pe,Pe=[],u=e.length,t=0;t<u;++t){var n=e[t];n[0].apply(null,n[1])}}while(Pe.length>0);Fe=!0,Te=!0}function je(){var e=Ce;Ce=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ne.slice(0),u=t.length;u;)t[--u]()}function He(e){return new Be(se,!1,e)}function We(e,t){var u=ve;return function(){var n=Ve(),r=ve;try{return at(u,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{at(r,!1),n&&Ke()}}}c(Be.prototype,{then:Re,_then:function(e,t){Le(this,new Oe(null,null,e,t,ve))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],u=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?u(e):He(e)})):this.then(null,(function(e){return e&&e.name===t?u(e):He(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),He(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Ae=!0;var e=Ue(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Ae=!1}}},timeout:function(e,t){var u=this;return e<1/0?new Be((function(n,r){var a=setTimeout((function(){return r(new X.Timeout(t))}),e);u.then(n,r).finally(clearTimeout.bind(null,a))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&E(Be.prototype,Symbol.toStringTag,"Promise"),Ie.env=it(),c(Be,{all:function(){var e=M.apply(null,arguments).map(ut);return new Be((function(t,u){0===e.length&&t([]);var n=e.length;e.forEach((function(r,a){return Be.resolve(r).then((function(u){e[a]=u,--n||t(e)}),u)}))}))},resolve:function(e){if(e instanceof Be)return e;if(e&&"function"==typeof e.then)return new Be((function(t,u){e.then(t,u)}));var t=new Be(se,!0,e);return Ge(t,me),t},reject:He,race:function(){var e=M.apply(null,arguments).map(ut);return new Be((function(t,u){e.map((function(e){return Be.resolve(e).then(t,u)}))}))},PSD:{get:function(){return ve},set:function(e){return ve=e}},newPSD:Ze,usePSD:ot,scheduler:{get:function(){return pe},set:function(e){pe=e}},rejectionMapper:{get:function(){return ye},set:function(e){ye=e}},follow:function(e,t){return new Be((function(u,n){return Ze((function(t,u){var n=ve;n.unhandleds=[],n.onunhandled=u,n.finalize=ue((function(){var e=this;!function(e){function t(){e(),Ne.splice(Ne.indexOf(t),1)}Ne.push(t),++be,pe((function(){0==--be&&je()}),[])}((function(){0===e.unhandleds.length?t():u(e.unhandleds[0])}))}),n.finalize),e()}),t,u,n)}))}});var $e={awaits:0,echoes:0,id:0},ze=0,qe=[],Xe=0,Qe=0,Je=0;function Ze(e,t,u,n){var r=ve,a=Object.create(r);a.parent=r,a.ref=0,a.global=!1,a.id=++Je;var o=Ie.env;a.env=he?{Promise:Be,PromiseProp:{value:Be,configurable:!0,writable:!0},all:Be.all,race:Be.race,resolve:Be.resolve,reject:Be.reject,nthen:lt(o.nthen,a),gthen:lt(o.gthen,a)}:{},t&&i(a,t),++r.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=ot(a,e,u,n);return 0===a.ref&&a.finalize(),s}function et(){return $e.id||($e.id=++ze),++$e.awaits,$e.echoes+=7,$e.id}function tt(e){!$e.awaits||e&&e!==$e.id||(0==--$e.awaits&&($e.id=0),$e.echoes=7*$e.awaits)}function ut(e){return $e.echoes&&e&&e.constructor===fe?(et(),e.then((function(e){return tt(),e}),(function(e){return tt(),Et(e)}))):e}function nt(e){++Qe,$e.echoes&&0!=--$e.echoes||($e.echoes=$e.id=0),qe.push(ve),at(e,!0)}function rt(){var e=qe[qe.length-1];qe.pop(),at(e,!1)}function at(e,t){var u,n=ve;if((t?!$e.echoes||Xe++&&e===ve:!Xe||--Xe&&e===ve)||(u=t?nt.bind(null,e):rt,de.call(ce,u)),e!==ve&&(ve=e,n===Ie&&(Ie.env=it()),he)){var r=Ie.env.Promise,i=e.env;De.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject)}}function it(){var e=a.Promise;return he?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:De.then,gthen:e.prototype.then}:{}}function ot(e,t,u,n,r){var a=ve;try{return at(e,!0),t(u,n,r)}finally{at(a,!1)}}function st(e,t,u){return"function"!=typeof e?e:function(){var n=ve;u&&et(),at(t,!0);try{return e.apply(this,arguments)}finally{at(n,!1)}}}function lt(e,t){return function(u,n){return e.call(this,st(u,t,!1),st(n,t,!1))}}var ct="unhandledrejection";function Dt(e,t){var u;try{u=t.onuncatched(e)}catch(e){}if(!1!==u)try{var n,r={promise:t,reason:e};if(a.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(ct,!0,!0),i(n,r)):a.CustomEvent&&i(n=new CustomEvent(ct,{detail:r}),r),n&&a.dispatchEvent&&(dispatchEvent(n),!a.PromiseRejectionEvent&&a.onunhandledrejection))try{a.onunhandledrejection(n)}catch(e){}n.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var Et=Be.reject;function dt(e){var t={},u=function(u,n){if(n){for(var r=arguments.length,a=new Array(r-1);--r;)a[r-1]=arguments[r];return t[u].subscribe.apply(null,a),e}if("string"==typeof u)return t[u]};u.addEventType=o;for(var a=1,i=arguments.length;a<i;++a)o(arguments[a]);return u;function o(e,n,r){if("object"==typeof e)return s(e);n||(n=ie),r||(r=Z);var a={subscribers:[],fire:r,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=n(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(n,r)}};return t[e]=u[e]=a,a}function s(e){n(e).forEach((function(t){var u=e[t];if(r(u))o(t,e[t][0],e[t][1]);else{if("asap"!==u)throw new X.InvalidArgument("Invalid event config");var n=o(t,ee,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){F((function(){e.apply(null,t)}))}))}))}}))}}var ft,_t="{version}",ht=String.fromCharCode(65535),At=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ht}}(),St=-1/0,pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ft="String expected.",Tt=[],Ct="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gt=Ct,mt=Ct,yt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function It(e,t){var u,o,s,D,d,f=It.dependencies,_=i({addons:It.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},t),h=_.addons,F=_.autoOpen,v=_.indexedDB,b=_.IDBKeyRange,R=this._dbSchema={},O=[],L=[],x={},U=null,V=null,K=!1,j=null,H=!1,z="readonly",q="readwrite",Q=this,J=new Be((function(e){u=e})),ue=new Be((function(e,t){o=t})),ie=!0,se=!!xt(v);function le(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function ce(e,t,u){var r=Q._createTransaction(q,L,R);r.create(t),r._completion.catch(u);var a=r._reject.bind(r);Ze((function(){ve.trans=r,0===e?(n(R).forEach((function(e){De(t,e,R[e].primKey,R[e].indexes)})),Be.follow((function(){return Q.on.populate.fire(r)})).catch(a)):function(e,t,u){var r=[],a=O.filter((function(t){return t._cfg.version===e}))[0];if(!a)throw new X.Upgrade("Dexie specification of currently installed DB version is missing");R=Q._dbSchema=a._cfg.dbschema;var i=!1;function o(){return r.length?Be.resolve(r.shift()(t.idbtrans)).then(o):Be.resolve()}return O.filter((function(t){return t._cfg.version>e})).forEach((function(e){r.push((function(){var n=R,r=e._cfg.dbschema;Ye(n,u),Ye(r,u),R=Q._dbSchema=r;var a=function(e,t){var u={del:[],add:[],change:[]};for(var n in e)t[n]||u.del.push(n);for(n in t){var r=e[n],a=t[n];if(r){var i={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(r.primKey.src!==a.primKey.src)i.recreate=!0,u.change.push(i);else{var o=r.idxByName,s=a.idxByName;for(var l in o)s[l]||i.del.push(l);for(l in s){var c=o[l],D=s[l];c?c.src!==D.src&&i.change.push(D):i.add.push(D)}(i.del.length>0||i.add.length>0||i.change.length>0)&&u.change.push(i)}}else u.add.push([n,a])}return u}(n,r);if(a.add.forEach((function(e){De(u,e[0],e[1].primKey,e[1].indexes)})),a.change.forEach((function(e){if(e.recreate)throw new X.Upgrade("Not yet support for changing primary key");var t=u.objectStore(e.name);e.add.forEach((function(e){Ee(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),Ee(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return i=!0,Be.follow((function(){e._cfg.contentUpgrade(t)}))})),r.push((function(t){i&&gt||function(e,t){for(var u=0;u<t.db.objectStoreNames.length;++u){var n=t.db.objectStoreNames[u];null==e[n]&&t.db.deleteObjectStore(n)}}(e._cfg.dbschema,t)}))})),o().then((function(){!function(e,t){n(e).forEach((function(u){t.db.objectStoreNames.contains(u)||De(t,u,e[u].primKey,e[u].indexes)}))}(R,u)}))}(e,r,t).catch(a)}))}function De(e,t,u,n){var r=e.db.createObjectStore(t,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return n.forEach((function(e){Ee(r,e)})),r}function Ee(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function de(e,t,u){if(H||ve.letThrough){var n=Q._createTransaction(e,t,R);try{n.create()}catch(e){return Et(e)}return n._promise(e,(function(e,t){return Ze((function(){return ve.trans=n,u(e,t,n)}))})).then((function(e){return n._completion.then((function(){return e}))}))}if(!K){if(!F)return Et(new X.DatabaseClosed);Q.open().catch(Z)}return J.then((function(){return de(e,t,u)}))}function he(e,t,u){var n=arguments.length;if(n<2)throw new X.InvalidArgument("Too few arguments");for(var r=new Array(n-1);--n;)r[n-1]=arguments[n];u=r.pop();var a=P(r);return[e,a,u]}function Ae(e,t,u){this.name=e,this.schema=t,this._tx=u,this.hook=x[e]?x[e].hook:dt(null,{creating:[ne,Z],reading:[te,ee],updating:[ae,Z],deleting:[re,Z]})}function Se(e,t,u){return(u?Rt:Nt)((function(u){e.push(u),t&&t()}))}function pe(e,t,u,n,r){return new Be((function(a,i){var o=u.length,s=o-1;if(0===o)return a();if(n){var l,c=Rt(i),D=bt(null);g((function(){for(var n=0;n<o;++n){l={onsuccess:null,onerror:null};var i=u[n];r.call(l,i[0],i[1],t);var E=e.delete(i[0]);E._hookCtx=l,E.onerror=c,E.onsuccess=n===s?bt(a):D}}),(function(e){throw l.onerror&&l.onerror(e),e}))}else for(var E=0;E<o;++E){var d=e.delete(u[E]);d.onerror=Nt(i),E===s&&(d.onsuccess=We((function(){return a()})))}}))}function Fe(e,t,u,n){var r=this;this.db=Q,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=dt(this,"complete","error","abort"),this.parent=n||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Be((function(e,t){r._resolve=e,r._reject=t})),this._completion.then((function(){r.active=!1,r.on.complete.fire()}),(function(e){var t=r.active;return r.active=!1,r.on.error.fire(e),r.parent?r.parent._reject(e):t&&r.idbtrans&&r.idbtrans.abort(),Et(e)}))}function Te(e,t,u){this._ctx={table:e,index:":id"===t?null:t,or:u}}function Ce(e,t){var u=null,n=null;if(t)try{u=t()}catch(e){n=e}var r=e._ctx,a=r.table;this._ctx={table:a,index:r.index,isPrimKey:!r.index||a.schema.primKey.keyPath&&r.index===a.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:r.or,valueMapper:a.hook.reading.fire}}function ge(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function me(e,t){return e._cfg.version-t._cfg.version}function ye(e,t,u){t.forEach((function(t){var n=u[t];e.forEach((function(e){t in e||(e===Fe.prototype||e instanceof Fe?E(e,t,{get:function(){return this.table(t)}}):e[t]=new Ae(t,n))}))}))}function Ie(e,t,u,n,r,a){var i=We(a?function(e,t,n){return u(a(e),t,n)}:u,r);e.onerror||(e.onerror=Nt(r)),e.onsuccess=C(t?function(){var u=e.result;if(u){var a=function(){u.continue()};t(u,(function(e){a=e}),n,r)&&i(u.value,u,(function(e){a=e})),a()}else n()}:function(){var t=e.result;if(t){var u=function(){t.continue()};i(t.value,t,(function(e){u=e})),u()}else n()},r)}function Pe(e,t){return v.cmp(e,t)}function be(e,t){return Pe(e,t)>0?e:t}function Ne(e,t){return v.cmp(e,t)}function Re(e,t){return v.cmp(t,e)}function Oe(e,t){return e<t?-1:e===t?0:1}function we(e,t){return e>t?-1:e===t?0:1}function Me(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Ye(e,t){for(var u=t.db.objectStoreNames,n=0;n<u.length;++n){var r=u[n],i=t.objectStore(r);s="getAll"in i;for(var o=0;o<i.indexNames.length;++o){var l=i.indexNames[o],c=i.index(l).keyPath,D="string"==typeof c?c:"["+A(c).join("+")+"]";if(e[r]){var E=e[r].idxByName[D];E&&(E.name=l)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s=!1)}function Le(e){Q.on("blocked").fire(e),Tt.filter((function(e){return e.name===Q.name&&e!==Q&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(U||K)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=O.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new le(e),O.push(t),O.sort(me),ie=!1,t)},i(le.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,e):e;var t={};O.forEach((function(e){i(t,e._cfg.storesSource)}));var u=this._cfg.dbschema={};return this._parseStoresSpec(t,u),R=Q._dbSchema=u,[x,Q,Fe.prototype].forEach((function(e){for(var t in e)e[t]instanceof Ae&&delete e[t]})),ye([x,Q,Fe.prototype,this._cfg.tables],n(u),u),L=n(u),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){n(e).forEach((function(u){if(null!==e[u]){var n={},a=function(e){var t=[];return e.split(",").forEach((function(e){var u=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;t.push(new Mt(u,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),r(n),/\./.test(e)))})),t}(e[u]),i=a.shift();if(i.multi)throw new X.Schema("Primary key cannot be multi-valued");i.keyPath&&y(n,i.keyPath,i.auto?0:i.keyPath),a.forEach((function(e){if(e.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string");y(n,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[u]=new Yt(u,i,a,n)}}))}}),this._allTables=x,this._createTransaction=function(e,t,u,n){return new Fe(e,t,u,n)},this._whenReady=function(e){return H||ve.letThrough?e():new Be((function(e,t){if(!K){if(!F)return void t(new X.DatabaseClosed);Q.open().catch(Z)}J.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(K||U)return J.then((function(){return V?Et(V):Q}));Y&&(ue._stackHolder=G()),K=!0,V=null,H=!1;var t=u,r=null;return Be.race([ue,new Be((function(t,u){if(!v)throw new X.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var a=ie?v.open(e):v.open(e,Math.round(10*Q.verno));if(!a)throw new X.MissingAPI("IndexedDB API not available");a.onerror=Nt(u),a.onblocked=We(Le),a.onupgradeneeded=We((function(t){if(r=a.transaction,ie&&!Q._allowEmptyDB){a.onerror=Ot,r.abort(),a.result.close();var n=v.deleteDatabase(e);n.onsuccess=n.onerror=We((function(){u(new X.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{r.onerror=Nt(u),ce((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,r,u)}}),u),a.onsuccess=We((function(){if(r=null,U=a.result,Tt.push(Q),ie)!function(){if(Q.verno=U.version/10,Q._dbSchema=R={},0===(L=A(U.objectStoreNames,0)).length)return;var e=U.transaction(Lt(L),"readonly");L.forEach((function(t){for(var u=e.objectStore(t),n=u.keyPath,r=n&&"string"==typeof n&&-1!==n.indexOf("."),a=new Mt(n,n||"",!1,!1,!!u.autoIncrement,n&&"string"!=typeof n,r),i=[],o=0;o<u.indexNames.length;++o){var s=u.index(u.indexNames[o]);r=(n=s.keyPath)&&"string"==typeof n&&-1!==n.indexOf(".");var l=new Mt(s.name,n,!!s.unique,!!s.multiEntry,!1,n&&"string"!=typeof n,r);i.push(l)}R[t]=new Yt(t,a,i,{})})),ye([x],n(R),R)}();else if(U.objectStoreNames.length>0)try{Ye(R,U.transaction(Lt(U.objectStoreNames),z))}catch(e){}U.onversionchange=We((function(e){Q._vcFired=!0,Q.on("versionchange").fire(e)})),se||"__dbnames"===e||ft.dbnames.put({name:e}).catch(Z),t()}),u)}))]).then((function(){return j=[],Be.resolve(It.vip(Q.on.ready.fire)).then((function e(){if(j.length>0){var t=j.reduce(oe,Z);return j=[],Be.resolve(It.vip(t)).then(e)}}))})).finally((function(){j=null})).then((function(){return K=!1,Q})).catch((function(e){try{r&&r.abort()}catch(e){}return K=!1,Q.close(),Et(V=e)})).finally((function(){H=!0,t()}))},this.close=function(){var e=Tt.indexOf(Q);if(e>=0&&Tt.splice(e,1),U){try{U.close()}catch(e){}U=null}F=!1,V=new X.DatabaseClosed,K&&o(V),J=new Be((function(e){u=e})),ue=new Be((function(e,t){o=t}))},this.delete=function(){var t=arguments.length>0;return new Be((function(u,n){if(t)throw new X.InvalidArgument("Arguments not allowed in db.delete()");function r(){Q.close();var t=v.deleteDatabase(e);t.onsuccess=We((function(){se||ft.dbnames.delete(e).catch(Z),u()})),t.onerror=Nt(n),t.onblocked=Le}K?J.then(r):r()}))},this.backendDB=function(){return U},this.isOpen=function(){return null!==U},this.hasBeenClosed=function(){return V&&V instanceof X.DatabaseClosed},this.hasFailed=function(){return null!==V},this.dynamicallyOpened=function(){return ie},this.name=e,c(this,{tables:{get:function(){return n(x).map((function(e){return x[e]}))}}}),this.on=dt(this,"populate","blocked","versionchange",{ready:[oe,Z]}),this.on.ready.subscribe=S(this.on.ready.subscribe,(function(e){return function(t,u){It.vip((function(){H?(V||Be.resolve().then(t),u&&e(t)):j?(j.push(t),u&&e(t)):(e(t),u||e((function e(){Q.on.ready.unsubscribe(t),Q.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=he.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,u){var n=ve.trans;n&&n.db===Q&&-1===e.indexOf("!")||(n=null);var r=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var a=t.map((function(e){var t=e instanceof Ae?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||e==z)e=z;else{if("rw"!=e&&e!=q)throw new X.InvalidArgument("Invalid transaction mode: "+e);e=q}if(n){if(n.mode===z&&e===q){if(!r)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&a.forEach((function(e){if(n&&-1===n.storeNames.indexOf(e)){if(!r)throw new X.SubTransaction("Table "+e+" not included in parent transaction.");n=null}})),r&&n&&!n.active&&(n=null)}}catch(e){return n?n._promise(null,(function(t,u){u(e)})):Et(e)}return n?n._promise(e,i,"lock"):ve.trans?ot(ve.transless,(function(){return Q._whenReady(i)})):Q._whenReady(i);function i(){return Be.resolve().then((function(){var t,r=ve.transless||ve,i=Q._createTransaction(e,a,R,n),o={trans:i,transless:r};n?i.idbtrans=n.idbtrans:i.create(),u.constructor===_e&&et();var s=Be.follow((function(){if(t=u.call(i,i))if(t.constructor===fe){var e=tt.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=wt(t))}),o);return(t&&"function"==typeof t.then?Be.resolve(t).then((function(e){return i.active?e:Et(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):s.then((function(){return t}))).then((function(e){return n&&i._resolve(),i._completion.then((function(){return e}))})).catch((function(e){return i._reject(e),Et(e)}))}))}},this.table=function(e){if(!l(x,e))throw new X.InvalidTable("Table "+e+" does not exist");return x[e]},c(Ae.prototype,{_trans:function(e,t,u){var n=this._tx||ve.trans;return n&&n.db===Q?n===ve.trans?n._promise(e,t,u):Ze((function(){return n._promise(e,t,u)}),{trans:n,transless:ve.transless||ve}):de(e,[this.name],t)},_idbstore:function(e,t,u){var n=this.name;return this._trans(e,(function(e,u,r){if(-1===r.storeNames.indexOf(n))throw new X.NotFound("Table"+n+" not part of transaction");return t(e,u,r.idbtrans.objectStore(n),r)}),u)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var u=this;return this._idbstore(z,(function(t,n,r){var a=r.get(e);a.onerror=Nt(n),a.onsuccess=We((function(){t(u.hook.reading.fire(a.result))}),n)})).then(t)},where:function(e){if("string"==typeof e)return new Te(this,e);if(r(e))return new Te(this,"["+e.join("+")+"]");var t=n(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(u&&At!==ht)return this.where(u.name).equals(u.keyPath.map((function(t){return e[t]})));u||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var a=this.schema.idxByName,i=t.reduce((function(t,u){return[t[0]||a[u],t[0]||!a[u]?Me(t[1],(function(t){return""+m(t,u)==""+e[u]})):t[1]]}),[null,null]),o=i[0];return o?this.where(o.name).equals(e[o.keyPath]).filter(i[1]):u?this.filter(i[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new Ce(new Te(this,r(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new Ce(new Te(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var u=Object.create(e.prototype);t&&Pt(u,t),this.schema.instanceTemplate=u;var n=function(t){if(!t)return t;var u=Object.create(e.prototype);for(var n in t)if(l(t,n))try{u[n]=t[n]}catch(e){}return u};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},defineClass:function(e){return this.mapToClass(It.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===Z?this._idbstore(q,(function(t,u,n,r){t(pe(n,r,e,!1,Z))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var u=this;return this._idbstore(q,(function(n,r,a){if(!a.keyPath&&!u.schema.primKey.auto&&!t)throw new X.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(a.keyPath&&t)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return n();var i,o,s=function(e){0===l.length?n(e):r(new $(u.name+".bulkPut(): "+l.length+" of "+c+" operations failed",l))},l=[],c=e.length,D=u;if(u.hook.creating.fire===Z&&u.hook.updating.fire===Z){o=Se(l);for(var E=0,d=e.length;E<d;++E)(i=t?a.put(e[E],t[E]):a.put(e[E])).onerror=o;i.onerror=Se(l,s),i.onsuccess=Bt(s)}else{var f=t||a.keyPath&&e.map((function(e){return m(e,a.keyPath)})),_=f&&T(f,(function(t,u){return null!=t&&[t,e[u]]}));(f?D.where(":id").anyOf(f.filter((function(e){return null!=e}))).modify((function(){this.value=_[this.primKey],_[this.primKey]=null})).catch(W,(function(e){l=e.failures})).then((function(){for(var u=[],n=t&&[],r=f.length-1;r>=0;--r){var a=f[r];(null==a||_[a])&&(u.push(e[r]),t&&n.push(a),null!=a&&(_[a]=null))}return u.reverse(),t&&n.reverse(),D.bulkAdd(u,n)})).then((function(e){var t=f[f.length-1];return null!=t?t:e})):D.bulkAdd(e)).then(s).catch($,(function(e){l=l.concat(e.failures),s()})).catch(r)}}),"locked")},bulkAdd:function(e,t){var u=this,n=this.hook.creating.fire;return this._idbstore(q,(function(r,a,i,o){if(!i.keyPath&&!u.schema.primKey.auto&&!t)throw new X.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(i.keyPath&&t)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();function s(e){0===E.length?r(e):a(new $(u.name+".bulkAdd(): "+E.length+" of "+d+" operations failed",E))}var l,c,D,E=[],d=e.length;if(n!==Z){var f,_=i.keyPath;c=Se(E,null,!0),D=bt(null),g((function(){for(var u=0,r=e.length;u<r;++u){f={onerror:null,onsuccess:null};var a=t&&t[u],s=e[u],E=t?a:_?m(s,_):void 0,d=n.call(f,E,s,o);null==E&&null!=d&&(_?y(s=N(s),_,d):a=d),(l=null!=a?i.add(s,a):i.add(s))._hookCtx=f,u<r-1&&(l.onerror=c,f.onsuccess&&(l.onsuccess=D))}}),(function(e){throw f.onerror&&f.onerror(e),e})),l.onerror=Se(E,s,!0),l.onsuccess=bt(s)}else{c=Se(E);for(var h=0,A=e.length;h<A;++h)(l=t?i.add(e[h],t[h]):i.add(e[h])).onerror=c;l.onerror=Se(E,s),l.onsuccess=Bt(s)}}))},add:function(e,t){var u=this.hook.creating.fire;return this._idbstore(q,(function(n,r,a,i){var o={onsuccess:null,onerror:null};if(u!==Z){var s=null!=t?t:a.keyPath?m(e,a.keyPath):void 0,l=u.call(o,s,e,i);null==s&&null!=l&&(a.keyPath?y(e,a.keyPath,l):t=l)}try{var c=null!=t?a.add(e,t):a.add(e);c._hookCtx=o,c.onerror=Rt(r),c.onsuccess=bt((function(t){var u=a.keyPath;u&&y(e,u,t),n(t)}))}catch(e){throw o.onerror&&o.onerror(e),e}}))},put:function(e,t){var u=this,n=this.hook.creating.fire,r=this.hook.updating.fire;if(n!==Z||r!==Z){var a=this.schema.primKey.keyPath,i=void 0!==t?t:a&&m(e,a);return null==i?this.add(e):(e=N(e),this._trans(q,(function(){return u.where(":id").equals(i).modify((function(){this.value=e})).then((function(n){return 0===n?u.add(e,t):i}))}),"locked"))}return this._idbstore(q,(function(u,n,r){var a=void 0!==t?r.put(e,t):r.put(e);a.onerror=Nt(n),a.onsuccess=We((function(t){var n=r.keyPath;n&&y(e,n,t.target.result),u(a.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(q,(function(t,u,n){var r=n.delete(e);r.onerror=Nt(u),r.onsuccess=We((function(){t(r.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(q,(function(e,t,u){var n=u.clear();n.onerror=Nt(t),n.onsuccess=We((function(){e(n.result)}))}))},update:function(e,t){if("object"!=typeof t||r(t))throw new X.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||r(e))return this.where(":id").equals(e).modify(t);n(t).forEach((function(u){y(e,u,t[u])}));var u=m(e,this.schema.primKey.keyPath);return void 0===u?Et(new X.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(t)}}),c(Fe.prototype,{_lock:function(){return p(!ve.global),++this._reculock,1!==this._reculock||ve.global||(ve.lockOwnerFor=this),this},_unlock:function(){if(p(!ve.global),0==--this._reculock)for(ve.global||(ve.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ot(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&ve.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(p(!this.idbtrans),!e&&!U)switch(V&&V.name){case"DatabaseClosedError":throw new X.DatabaseClosed(V);case"MissingAPIError":throw new X.MissingAPI(V.message,V);default:throw new X.OpenFailed(V)}if(!this.active)throw new X.TransactionInactive;return p(null===this._completion._state),(e=this.idbtrans=e||U.transaction(Lt(this.storeNames),this.mode)).onerror=We((function(u){Ot(u),t._reject(e.error)})),e.onabort=We((function(u){Ot(u),t.active&&t._reject(new X.Abort(e.error)),t.active=!1,t.on("abort").fire(u)})),e.oncomplete=We((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,u){var n=this;if(e===q&&this.mode!==q)return Et(new X.ReadOnly("Transaction is readonly"));if(!this.active)return Et(new X.TransactionInactive);if(this._locked())return new Be((function(r,a){n._blockedFuncs.push([function(){n._promise(e,t,u).then(r,a)},ve])}));if(u)return Ze((function(){var e=new Be((function(e,u){n._lock();var r=t(e,u,n);r&&r.then&&r.then(e,u)}));return e.finally((function(){return n._unlock()})),e._lib=!0,e}));var r=new Be((function(e,u){var r=t(e,u,n);r&&r.then&&r.then(e,u)}));return r._lib=!0,r},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Be.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var u=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(u.get(-1/0).onsuccess=e)}()}var n=t._waitingFor;return new Be((function(u,r){e.then((function(e){return t._waitingQueue.push(We(u.bind(null,e)))}),(function(e){return t._waitingQueue.push(We(r.bind(null,e)))})).finally((function(){t._waitingFor===n&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new X.Abort),this.active=!1},tables:{get:(D="Transaction.tables",d=function(){return x},function(){return console.warn(D+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+k(G(),1)),d.apply(this,arguments)})},table:function(e){return new Ae(e,Q.table(e).schema,this)}}),c(Te.prototype,(function(){function e(e,t,u){var n=e instanceof Te?new Ce(e):e;return n._ctx.error=u?new u(t):new TypeError(t),n}function t(e){return new Ce(e,(function(){return b.only("")})).limit(0)}function u(e,t,u,n,r,a){for(var i=Math.min(e.length,n.length),o=-1,s=0;s<i;++s){var l=t[s];if(l!==n[s])return r(e[s],u[s])<0?e.substr(0,s)+u[s]+u.substr(s+1):r(e[s],n[s])<0?e.substr(0,s)+n[s]+u.substr(s+1):o>=0?e.substr(0,o)+t[o]+u.substr(o+1):null;r(e[s],l)<0&&(o=s)}return i<n.length&&"next"===a?e+u.substr(e.length):i<e.length&&"prev"===a?e.substr(0,u.length):o<0?null:e.substr(0,o)+n[o]+u.substr(o+1)}function n(t,n,r,a){var i,o,s,l,c,D,E,d=r.length;if(!r.every((function(e){return"string"==typeof e})))return e(t,Ft);function f(e){i=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),o=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),s="next"===e?Oe:we;var t=r.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));l=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),D=e,E="next"===e?"":a}f("next");var _=new Ce(t,(function(){return b.bound(l[0],c[d-1]+a)}));_._ondirectionchange=function(e){f(e)};var h=0;return _._addAlgorithm((function(e,t,r){var a=e.key;if("string"!=typeof a)return!1;var i=o(a);if(n(i,c,h))return!0;for(var f=null,_=h;_<d;++_){var A=u(a,i,l[_],c[_],s,D);null===A&&null===f?h=_+1:(null===f||s(f,A)>0)&&(f=A)}return t(null!==f?function(){e.continue(f+E)}:r),!1})),_}return{between:function(u,n,r,a){r=!1!==r,a=!0===a;try{return Pe(u,n)>0||0===Pe(u,n)&&(r||a)&&(!r||!a)?t(this):new Ce(this,(function(){return b.bound(u,n,!r,!a)}))}catch(t){return e(this,pt)}},equals:function(e){return new Ce(this,(function(){return b.only(e)}))},above:function(e){return new Ce(this,(function(){return b.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new Ce(this,(function(){return b.lowerBound(e)}))},below:function(e){return new Ce(this,(function(){return b.upperBound(e,!0)}))},belowOrEqual:function(e){return new Ce(this,(function(){return b.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,Ft):this.between(t,t+ht,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):n(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ht)},equalsIgnoreCase:function(e){return n(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=M.apply(w,arguments);return 0===e.length?t(this):n(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=M.apply(w,arguments);return 0===e.length?t(this):n(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ht)},anyOf:function(){var u=M.apply(w,arguments),n=Ne;try{u.sort(n)}catch(t){return e(this,pt)}if(0===u.length)return t(this);var r=new Ce(this,(function(){return b.bound(u[0],u[u.length-1])}));r._ondirectionchange=function(e){n="next"===e?Ne:Re,u.sort(n)};var a=0;return r._addAlgorithm((function(e,t,r){for(var i=e.key;n(i,u[a])>0;)if(++a===u.length)return t(r),!1;return 0===n(i,u[a])||(t((function(){e.continue(u[a])})),!1)})),r},notEqual:function(e){return this.inAnyRange([[St,e],[e,At]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=M.apply(w,arguments);if(0===t.length)return new Ce(this);try{t.sort(Ne)}catch(t){return e(this,pt)}var u=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[St,t]]}),null);return u.push([t[t.length-1],At]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(u,n){if(0===u.length)return t(this);if(!u.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&Ne(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);var r=!n||!1!==n.includeLowers,a=n&&!0===n.includeUppers;var i,o=Ne;function s(e,t){return o(e[0],t[0])}try{(i=u.reduce((function(e,t){for(var u=0,n=e.length;u<n;++u){var r=e[u];if(Pe(t[0],r[1])<0&&Pe(t[1],r[0])>0){r[0]=Pe(a=r[0],i=t[0])<0?a:i,r[1]=be(r[1],t[1]);break}}var a,i;return u===n&&e.push(t),e}),[])).sort(s)}catch(t){return e(this,pt)}var l=0,c=a?function(e){return Ne(e,i[l][1])>0}:function(e){return Ne(e,i[l][1])>=0},D=r?function(e){return Re(e,i[l][0])>0}:function(e){return Re(e,i[l][0])>=0};var E=c,d=new Ce(this,(function(){return b.bound(i[0][0],i[i.length-1][1],!r,!a)}));return d._ondirectionchange=function(e){"next"===e?(E=c,o=Ne):(E=D,o=Re),i.sort(s)},d._addAlgorithm((function(e,t,u){for(var n=e.key;E(n);)if(++l===i.length)return t(u),!1;return!!function(e){return!c(e)&&!D(e)}(n)||(0===Pe(n,i[l][1])||0===Pe(n,i[l][0])||t((function(){o===Ne?e.continue(i[l][0]):e.continue(i[l][1])})),!1)})),d},startsWithAnyOf:function(){var u=M.apply(w,arguments);return u.every((function(e){return"string"==typeof e}))?0===u.length?t(this):this.inAnyRange(u.map((function(e){return[e,e+ht]}))):e(this,"startsWithAnyOf() only works with strings")}}})),c(Ce.prototype,(function(){function e(e,t){e.filter=Me(e.filter,t)}function t(e,t,u){var n=e.replayFilter;e.replayFilter=n?function(){return Me(n(),t())}:t,e.justLimit=u&&!n}function u(e,t){if(e.isPrimKey)return t;var u=e.table.schema.idxByName[e.index];if(!u)throw new X.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(u.name)}function r(e,t){var n=u(e,t);return e.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(e.range||null,e.dir+e.unique):n.openCursor(e.range||null,e.dir+e.unique)}function a(e,t,u,n,a){var i=e.replayFilter?Me(e.filter,e.replayFilter()):e.filter;e.or?function(){var o={},s=0;function c(){2==++s&&u()}function D(e,u,r){if(!i||i(u,r,c,n)){var a=u.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),l(o,s)||(o[s]=!0,t(e,u,r))}}e.or._iterate(D,c,n,a),Ie(r(e,a),e.algorithm,D,c,n,!e.keysOnly&&e.valueMapper)}():Ie(r(e,a),Me(e.algorithm,i),t,u,n,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var u=this._ctx;return u.error?u.table._trans(null,Et.bind(null,u.error)):u.table._idbstore(z,e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,Et.bind(null,t.error)):t.table._idbstore(q,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Me(t.algorithm,e)},_iterate:function(e,t,u,n){return a(this._ctx,e,t,u,n)},clone:function(e){var t=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return e&&i(u,e),t._ctx=u,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(u,n,r){a(t,e,u,n,r)}))},count:function(e){var t=this._ctx;if(ge(t,!0))return this._read((function(e,n,r){var a=u(t,r),i=t.range?a.count(t.range):a.count();i.onerror=Nt(n),i.onsuccess=function(u){e(Math.min(u.target.result,t.limit))}}),e);var n=0;return this._read((function(e,u,r){a(t,(function(){return++n,!1}),(function(){e(n)}),u,r)}),e)},sortBy:function(e,t){var u=e.split(".").reverse(),n=u[0],r=u.length-1;function a(e,t){return t?a(e[u[t]],t-1):e[n]}var i="next"===this._ctx.dir?1:-1;function o(e,t){var u=a(e,r),n=a(t,r);return u<n?-i:u>n?i:0}return this.toArray((function(e){return e.sort(o)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,n,r){if(s&&"next"===t.dir&&ge(t,!0)&&t.limit>0){var i=t.table.hook.reading.fire,o=u(t,r),l=t.limit<1/0?o.getAll(t.range,t.limit):o.getAll(t.range);l.onerror=Nt(n),l.onsuccess=Bt(i===ee?e:function(t){try{e(t.map(i))}catch(e){n(e)}})}else{var c=[];a(t,(function(e){c.push(e)}),(function(){e(c)}),n,r)}}),e)},offset:function(e){var u=this._ctx;return e<=0||(u.offset+=e,ge(u)?t(u,(function(){var t=e;return function(e,u){return 0===t||(1===t?(--t,!1):(u((function(){e.advance(t),t=0})),!1))}})):t(u,(function(){var t=e;return function(){return--t<0}}))),this},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,u,n){return--t<=0&&u(n),t>=0}}),!0),this},until:function(t,u){return e(this._ctx,(function(e,n,r){return!t(e.value)||(n(r),u)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=Me(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new Te(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,u){e(u.key,u)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,u){e(u.primaryKey,u)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var u=[];return this.each((function(e,t){u.push(t.key)})).then((function(){return u})).then(e)},primaryKeys:function(e){var t=this._ctx;if(s&&"next"===t.dir&&ge(t,!0)&&t.limit>0)return this._read((function(e,n,r){var a=u(t,r),i=t.limit<1/0?a.getAllKeys(t.range,t.limit):a.getAllKeys(t.range);i.onerror=Nt(n),i.onsuccess=Bt(e)})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,u=t.index&&t.table.schema.idxByName[t.index];if(!u||!u.multi)return this;var n={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),u=l(n,t);return n[t]=!0,!u})),this},modify:function(e){var t=this,u=this._ctx.table.hook,r=u.updating.fire,a=u.deleting.fire;return this._write((function(u,o,s,c){var D;if("function"==typeof e)D=r===Z&&a===Z?e:function(t){var u=N(t);if(!1===e.call(this,t,this))return!1;if(l(this,"value")){var i=B(u,this.value),o=r.call(this,i,this.primKey,u,c);o&&(t=this.value,n(o).forEach((function(e){y(t,e,o[e])})))}else a.call(this,this.primKey,t,c)};else if(r===Z){var E=n(e),d=E.length;D=function(t){for(var u=!1,n=0;n<d;++n){var r=E[n],a=e[r];m(t,r)!==a&&(y(t,r,a),u=!0)}return u}}else{var f=e;e=I(f),D=function(t){var u=!1,a=r.call(this,e,this.primKey,N(t),c);return a&&i(e,a),n(e).forEach((function(n){var r=e[n];m(t,n)!==r&&(y(t,n,r),u=!0)})),a&&(e=I(f)),u}}var _=0,h=0,A=!1,S=[],p=[],F=null;function T(e){return e&&(S.push(e),p.push(F)),o(new W("Error modifying one or more objects",S,h,p))}function C(){A&&h+S.length===_&&(S.length>0?T():u(h))}t.clone().raw()._iterate((function(e,t){F=t.primaryKey;var u={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function n(e){return S.push(e),p.push(u.primKey),C(),!0}if(!1!==D.call(u,e,u)){var r=!l(u,"value");++_,g((function(){var e=r?t.delete():t.update(u.value);e._hookCtx=u,e.onerror=Rt(n),e.onsuccess=bt((function(){++h,C()}))}),n)}else u.onsuccess&&u.onsuccess(u.value)}),(function(){A=!0,C()}),T,s)}))},delete:function(){var e=this,t=this._ctx,u=t.range,n=t.table.hook.deleting.fire,r=n!==Z;if(!r&&ge(t)&&(t.isPrimKey&&!mt||!u))return this._write((function(e,t,n){var r=Nt(t),a=u?n.count(u):n.count();a.onerror=r,a.onsuccess=function(){var i=a.result;g((function(){var t=u?n.delete(u):n.clear();t.onerror=r,t.onsuccess=function(){return e(i)}}),(function(e){return t(e)}))}}));var a=r?2e3:1e4;return this._write((function(u,i,o,s){var l=0,c=e.clone({keysOnly:!t.isMatch&&!r}).distinct().limit(a).raw(),D=[],E=function(){return c.each(r?function(e,t){D.push([t.primaryKey,t.value])}:function(e,t){D.push(t.primaryKey)}).then((function(){return r?D.sort((function(e,t){return Ne(e[0],t[0])})):D.sort(Ne),pe(o,s,D,r,n)})).then((function(){var e=D.length;return l+=e,D=[],e<a?l:E()}))};u(E())}))}}})),i(this,{Collection:Ce,Table:Ae,Transaction:Fe,Version:le,WhereClause:Te}),Q.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Q.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Q.name+"'. Closing db now to resume the delete request."),Q.close()})),Q.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Q.name+"') was blocked"):console.warn("Upgrade '"+Q.name+"' blocked by other connection holding version "+e.oldVersion/10)})),h.forEach((function(e){e(Q)}))}function vt(e){if("function"==typeof e)return new e;if(r(e))return[vt(e[0])];if(e&&"object"==typeof e){var t={};return Pt(t,e),t}return e}function Pt(e,t){return n(t).forEach((function(u){var n=vt(t[u]);e[u]=n})),e}function bt(e){return We((function(t){var u=t.target,n=u._hookCtx,r=n.value||u.result,a=n&&n.onsuccess;a&&a(r),e&&e(r)}),e)}function Nt(e){return We((function(t){return Ot(t),e(t.target.error),!1}))}function Bt(e){return We((function(t){e(t.target.result)}))}function Rt(e){return We((function(t){var u=t.target,n=u.error,r=u._hookCtx,a=r&&r.onerror;return a&&a(n),Ot(t),e(n),!1}))}function Ot(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function wt(e){var t=function(t){return e.next(t)},u=a(t),n=a((function(t){return e.throw(t)}));function a(e){return function(t){var a=e(t),i=a.value;return a.done?i:i&&"function"==typeof i.then?i.then(u,n):r(i)?Be.all(i).then(u,n):u(i)}}return a(t)()}function Mt(e,t,u,n,r,a,i){this.name=e,this.keyPath=t,this.unique=u,this.multi=n,this.auto=r,this.compound=a,this.dotted=i;var o="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(u?"&":"")+(n?"*":"")+(r?"++":"")+o}function Yt(e,t,u,n){this.name=e,this.primKey=t||new Mt,this.indexes=u||[new Mt],this.instanceTemplate=n,this.mappedClass=null,this.idxByName=T(u,(function(e){return[e.name,e]}))}function Lt(e){return 1===e.length?e[0]:e}function xt(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}L(Y,yt),c(It,J),c(It,{delete:function(e){var t=new It(e),u=t.delete();return u.onblocked=function(e){return t.on("blocked",e),this},u},exists:function(e){return new It(e).open().then((function(e){return e.close(),!0})).catch(It.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=xt(It.dependencies.indexedDB);return t?new Be((function(e,u){var n=t();n.onsuccess=function(t){e(A(t.target.result,0))},n.onerror=Nt(u)})).then(e):ft.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&i(this,e)}},applyStructure:Pt,ignoreTransaction:function(e){return ve.trans?ot(ve.transless,e):e()},vip:function(e){return Ze((function(){return ve.letThrough=!0,e()}))},async:function(e){return function(){try{var t=wt(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Be.resolve(t)}catch(e){return Et(e)}}},spawn:function(e,t,u){try{var n=wt(e.apply(u,t||[]));return n&&"function"==typeof n.then?n:Be.resolve(n)}catch(e){return Et(e)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(e,t){var u=Be.resolve("function"==typeof e?It.ignoreTransaction(e):e).timeout(t||6e4);return ve.trans?ve.trans.waitFor(u):u},Promise:Be,debug:{get:function(){return Y},set:function(e){L(e,"dexie"===e?function(){return!0}:yt)}},derive:d,extend:i,props:c,override:S,Events:dt,getByKeyPath:m,setByKeyPath:y,delByKeyPath:function(e,t){"string"==typeof t?y(e,t,void 0):"length"in t&&[].map.call(t,(function(t){y(e,t,void 0)}))},shallowClone:I,deepClone:N,getObjectDiff:B,asap:F,maxKey:At,minKey:St,addons:[],connections:Tt,MultiModifyError:X.Modify,errnames:z,IndexSpec:Mt,TableSchema:Yt,dependencies:function(){try{return{indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:_t,version:_t.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,u){return e+t/Math.pow(10,2*u)})),default:It,Dexie:It}),Be.rejectionMapper=function(e,t){if(!e||e instanceof H||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Q[e.name])return e;var u=new Q[e.name](t||e.message,e);return"stack"in e&&E(u,"stack",{get:function(){return this.inner.stack}}),u},(ft=new It("__dbnames")).version(1).stores({dbnames:"name"}),function(){var e="Dexie.DatabaseNames";try{void 0!==typeof localStorage&&void 0!==a.document&&(JSON.parse(localStorage.getItem(e)||"[]").forEach((function(e){return ft.dbnames.put({name:e}).catch(Z)})),localStorage.removeItem(e))}catch(e){}}();const Ut=It},1143:e=>{"use strict";e.exports=function(e,t,u,n,r,a,i,o){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[u,n,r,a,i,o],c=0;(s=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},8552:(e,t,u)=>{var n=u(852)(u(5639),"DataView");e.exports=n},7071:(e,t,u)=>{var n=u(852)(u(5639),"Map");e.exports=n},3818:(e,t,u)=>{var n=u(852)(u(5639),"Promise");e.exports=n},8525:(e,t,u)=>{var n=u(852)(u(5639),"Set");e.exports=n},2705:(e,t,u)=>{var n=u(5639).Symbol;e.exports=n},577:(e,t,u)=>{var n=u(852)(u(5639),"WeakMap");e.exports=n},9932:e=>{e.exports=function(e,t){for(var u=-1,n=null==e?0:e.length,r=Array(n);++u<n;)r[u]=t(e[u],u,e);return r}},4239:(e,t,u)=>{var n=u(2705),r=u(9607),a=u(2333),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?r(e):a(e)}},9454:(e,t,u)=>{var n=u(4239),r=u(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==n(e)}},8458:(e,t,u)=>{var n=u(3560),r=u(5346),a=u(3218),i=u(346),o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,D=l.hasOwnProperty,E=RegExp("^"+c.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(n(e)?E:o).test(i(e))}},8749:(e,t,u)=>{var n=u(4239),r=u(1780),a=u(7005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!i[n(e)]}},280:(e,t,u)=>{var n=u(5726),r=u(6916),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return r(e);var t=[];for(var u in Object(e))a.call(e,u)&&"constructor"!=u&&t.push(u);return t}},531:(e,t,u)=>{var n=u(2705),r=u(9932),a=u(1469),i=u(3448),o=n?n.prototype:void 0,s=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return r(t,e)+"";if(i(t))return s?s.call(t):"";var u=t+"";return"0"==u&&1/t==-Infinity?"-0":u}},7561:(e,t,u)=>{var n=u(7990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},4429:(e,t,u)=>{var n=u(5639)["__core-js_shared__"];e.exports=n},1957:(e,t,u)=>{var n="object"==typeof u.g&&u.g&&u.g.Object===Object&&u.g;e.exports=n},852:(e,t,u)=>{var n=u(8458),r=u(7801);e.exports=function(e,t){var u=r(e,t);return n(u)?u:void 0}},9607:(e,t,u)=>{var n=u(2705),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),u=e[o];try{e[o]=void 0;var n=!0}catch(e){}var r=i.call(e);return n&&(t?e[o]=u:delete e[o]),r}},4160:(e,t,u)=>{var n=u(8552),r=u(7071),a=u(3818),i=u(8525),o=u(577),s=u(4239),l=u(346),c="[object Map]",D="[object Promise]",E="[object Set]",d="[object WeakMap]",f="[object DataView]",_=l(n),h=l(r),A=l(a),S=l(i),p=l(o),F=s;(n&&F(new n(new ArrayBuffer(1)))!=f||r&&F(new r)!=c||a&&F(a.resolve())!=D||i&&F(new i)!=E||o&&F(new o)!=d)&&(F=function(e){var t=s(e),u="[object Object]"==t?e.constructor:void 0,n=u?l(u):"";if(n)switch(n){case _:return f;case h:return c;case A:return D;case S:return E;case p:return d}return t}),e.exports=F},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},5346:(e,t,u)=>{var n,r=u(4429),a=(n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var u=e&&e.constructor;return e===("function"==typeof u&&u.prototype||t)}},6916:(e,t,u)=>{var n=u(5569)(Object.keys,Object);e.exports=n},1167:(e,t,u)=>{e=u.nmd(e);var n=u(1957),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r&&n.process,o=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(u){return e(t(u))}}},5639:(e,t,u)=>{var n=u(1957),r="object"==typeof self&&self&&self.Object===Object&&self,a=n||r||Function("return this")();e.exports=a},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7990:e=>{var t=/\s/;e.exports=function(e){for(var u=e.length;u--&&t.test(e.charAt(u)););return u}},9567:(e,t,u)=>{var n=u(554);e.exports=function(e,t){var u;if("function"!=typeof t)throw new TypeError("Expected a function");return e=n(e),function(){return--e>0&&(u=t.apply(this,arguments)),e<=1&&(t=void 0),u}}},5694:(e,t,u)=>{var n=u(9454),r=u(7005),a=Object.prototype,i=a.hasOwnProperty,o=a.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return r(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=s},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,u)=>{var n=u(3560),r=u(1780);e.exports=function(e){return null!=e&&r(e.length)&&!n(e)}},4144:(e,t,u)=>{e=u.nmd(e);var n=u(5639),r=u(5062),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a?n.Buffer:void 0,s=(o?o.isBuffer:void 0)||r;e.exports=s},1609:(e,t,u)=>{var n=u(280),r=u(4160),a=u(5694),i=u(1469),o=u(8612),s=u(4144),l=u(5726),c=u(6719),D=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||c(e)||a(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!n(e).length;for(var u in e)if(D.call(e,u))return!1;return!0}},3560:(e,t,u)=>{var n=u(4239),r=u(3218);e.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,u)=>{var n=u(4239),r=u(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},6719:(e,t,u)=>{var n=u(8749),r=u(7518),a=u(1167),i=a&&a.isTypedArray,o=i?r(i):n;e.exports=o},1463:(e,t,u)=>{var n=u(9567);e.exports=function(e){return n(2,e)}},5062:e=>{e.exports=function(){return!1}},8601:(e,t,u)=>{var n=u(4841),r=1/0;e.exports=function(e){return e?(e=n(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:(e,t,u)=>{var n=u(8601);e.exports=function(e){var t=n(e),u=t%1;return t==t?u?t-u:t:0}},4841:(e,t,u)=>{var n=u(7561),r=u(3218),a=u(3448),i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var u=o.test(e);return u||s.test(e)?l(e.slice(2),u?2:8):i.test(e)?NaN:+e}},9833:(e,t,u)=>{var n=u(531);e.exports=function(e){return null==e?"":n(e)}},3955:(e,t,u)=>{var n=u(9833),r=0;e.exports=function(e){var t=++r;return n(e)+t}},8575:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(3253);t.default=class{constructor(e,t,u,n=2e3){this.tokenizer=e,this.messageSource=t,this.tableAdapter=u,this._batchSize=n}find(){return Promise.reject(new n.UnimplementedMethod("purge"))}invalidateCache(){throw new n.UnimplementedMethod("purge")}invalidateAllCaches(){throw new n.UnimplementedMethod("purge")}}},6095:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=u(3253),i=u(2498),o=n(u(7900));const s=()=>{},l=()=>Promise.resolve();t.default=class{constructor(e,t,u,n=2e3){this.__progressCallbacks=[],this.__isFullIndexingPending=!1,this.__isProcessingBacklog=!1,this.tokenizer=e,this.messageSource=t,this.tableAdapter=u,this.batchSize=n,this.__currentFullIndexingOp=null,this.__currentQueuedIndexingOp=null,this.__fullIndexingProgress=-1}__resetFullIndexingProgress(){this.__isFullIndexingPending=!1,this.__fullIndexingProgress=-1}__notifyProgress(e,t){this.__fullIndexingProgress=e,this.__progressCallbacks.forEach((u=>{try{u(e,t)}catch(e){}})),1===e&&(this.__progressCallbacks=[])}__processBatch(){return Promise.reject(new a.UnimplementedMethod("BaseIndexer.__processBatch"))}getIndexingProgress(){return this.__fullIndexingProgress}isFullIndexingPending(){return this.__isFullIndexingPending}isQueuedIndexingPending(){return this.__isProcessingBacklog}purge(){return Promise.reject(new a.UnimplementedMethod("purge"))}purgeChat(){return Promise.reject(new a.UnimplementedMethod("purge"))}purge__DEPRECATED_DO_NOT_USE(){return Promise.reject(new a.UnimplementedMethod("purge"))}search(e,t){return this.finder.find(e,t)}incremental(e=l){var t=this;return(0,r.default)((function*(){if(t.isQueuedIndexingPending())return(0,o.default)(t.__currentQueuedIndexingOp,"_this.__currentQueuedIndexingOp");const u=new i.Resolvable;let n=!0;try{for(t.__isProcessingBacklog=!0,t.__currentQueuedIndexingOp=u.promise,u.promise.finally((()=>{t.__isProcessingBacklog=!1})),__LOG__(2)`FTS:Indexer:indexQueuedBatch: Starting new batch size : ${t.batchSize}`;n;){const u=yield t.messageSource.getBacklogged({limit:t.batchSize});if(null==u){n=!1;break}0!==u.length&&(yield t.__processBatch(u),__LOG__(2)`FTS:Indexer:indexQueuedBatch: Completed batch`,yield e(u.map((e=>e.id))))}__LOG__(2)`FTS:Indexer:indexQueuedBatch: Completed`}catch(e){return u.reject(e),!1}return u.resolve(!0),!0}))()}full(e=s,t){var u=this;return(0,r.default)((function*(){if(u.__progressCallbacks.push(e),u.isFullIndexingPending())return(0,o.default)(u.__currentFullIndexingOp,"_this2.__currentFullIndexingOp");u.__resetFullIndexingProgress(),u.__isFullIndexingPending=!0;const n=new i.Resolvable;u.__currentFullIndexingOp=n.promise,n.promise.finally((()=>u.__resetFullIndexingProgress()));try{const e=u.batchSize;let r=0;const a=yield u.messageSource.size(),i=[performance.now()];for(;r<=a;){const n=performance.now();__LOG__(2)`Current message batch is from entry ${r} of ${a}...`;const o=yield null!=t?u.messageSource.getAllAfterId(t,{offset:r,limit:e}):u.messageSource.getAll({offset:r,limit:e});if(null==o)break;if(0!==o.length){const t=o[o.length-1];yield u.__processBatch(o);const n=Math.min(1,(r+e)/a);u.__notifyProgress(n,t.id)}const s=performance.now();__LOG__(2)`Finished batch from entry ${r} of ${a}. (Took ${s-n} msec)`,i.push(s-n),r+=e}return u.__notifyProgress(1),n.resolve(i),i}catch(e){throw u.__resetFullIndexingProgress(),n.reject(e),e}}))()}setSignaller(e){this.signaller=e}getMessageSource(){return this.messageSource}eraseIndex(){return this.tableAdapter.erase()}}},5501:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.apply(this,arguments)},t.genBlindIndexBuffer=s;var r=n(u(1504)),a=u(2977);const i=new(u(6278).LruCache)({sizeLimit:5e4,getSize:()=>1});function o(){return(o=(0,r.default)((function*(e,t){const u=yield s(e,t);return(0,a.encodeB64)(u)}))).apply(this,arguments)}function s(){return l.apply(this,arguments)}function l(){return(l=(0,r.default)((function*(e,t){const u=i.get(e);if(null!=u)return u;const n=(new TextEncoder).encode(e),r=yield self.crypto.subtle.sign({name:"HMAC",hash:"SHA-256"},t,n);return i.put(e,r),r}))).apply(this,arguments)}},4261:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=({timestamp:e},{timestamp:t})=>t-e;t.default=u},1198:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=n(u(5501)),i=n(u(8651));t.default=class{constructor(e){this.keyGenFn=e}computeBlindIndices(e,t=i.default.FULL){var u=this;return(0,r.default)((function*(){const n=[];let r=0,a=e.length;t===i.default.WHOLE_TOKEN_ONLY_WITHOUT_PREFIX?r=a-1:t===i.default.PREFIX_ONLY&&(a=e.length-1);for(let t=r;t<a;++t){const r=e.slice(0,t+1),a=yield u.computeBlindIndex(r);n.push(a)}return n}))()}computeBlindIndex(e){const t=this.keyGenFn();return(0,a.default)(e,t)}}},8651:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(4302).Mirrored(["FULL","WHOLE_TOKEN_ONLY_WITHOUT_PREFIX","PREFIX_ONLY"]);t.default=n},6416:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=n(u(7921)),i=n(u(9754)),o=n(u(3766)),s=n(u(8575)),l=n(u(4261)),c=n(u(3284)),D=u(5900);const E=200;class d extends s.default{constructor(e,t,u,n,r=2e3){super(e,t,u,r),this.blindIndexGenerator=n}_normalizeResults(e){if(e.some((e=>!e.length)))return[];const t=e.map((e=>(0,o.default)((0,i.default)(e.map((e=>e.ids))))));return(0,a.default)(...t)}_filterAndSortResults(e,t){return e.map((e=>(0,D.parseId)(e))).filter((({chatId:e})=>null==t.remote||e===t.remote)).sort(l.default)}_prepareResult(e,t){const{page:u=1,limit:n=E}=t,r=(u-1)*n||0,a=r+n,i=a>=e.length;return{messages:e.slice(r,a),eof:i,status:200}}find(e,t={}){var u=this;return(0,r.default)((function*(){const n=Array.from(u.tokenizer.tokenize(e)),a=yield c.default.acquire();try{const e=yield Promise.all(n.map((e=>u.blindIndexGenerator.computeBlindIndex(e).then(function(){var e=(0,r.default)((function*(e){return yield u.tableAdapter.bulkGetAnyOf(["prefixes"],[e])}));return function(){return e.apply(this,arguments)}}())))),i=u._filterAndSortResults(u._normalizeResults(e),t);return u._prepareResult(i,t)}finally{a.release()}}))()}}t.default=d},5900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=function(e,t,u){return`${t},${e},${u}`},t.getPrefixFromId=function(e){return`${e},`},t.parseId=function(e){const[t,u,n]=e.split(",");return{chatId:u,id:t,timestamp:+n}}},2791:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.buildEntry=function(e,t){if(!e||0===e.length)throw new Error("FtsIndexEntry: Expected non-empty blindIndices in constructor");return{ids:(0,r.default)(t,"ids"),prefixes:e,token:e[e.length-1]}},t.addMessageIds=function(e,t){if(null!=t){const u=new Set;[e.ids,t].forEach((e=>e.forEach((e=>{u.has(e)||u.add(e)})))),e.ids=Array.from(u.values())}};var r=n(u(7900))},3988:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=u(3253),i=u(9093),o=u(4807),s=n(u(6095)),l=n(u(1198)),c=n(u(8651)),D=n(u(6416)),E=u(2791),d=n(u(3284)),f=u(5900),_=u(8139);const h=e=>(0,o.chunk)(e,2e4,!1,(e=>e.ids.length));class A extends s.default{constructor(e,t,u,n=500){super(e,t,u,n),this.blindIndexGenerator=new l.default((()=>this.tableAdapter.getKey())),this._rwMutex=new i.Semaphore(1),this.tokenizer=e,this.finder=new D.default(e,this.messageSource,this.tableAdapter,this.blindIndexGenerator)}_writeExistingEntryAndNewChunksToDb(e,t){var u=this;return(0,r.default)((function*(){const n=yield d.default.acquire();__LOG__(2)`FTS _writeExistingEntryAndNewChunksToDb started with ${e.length} existing entries and ${t.length} new chunks`;try{const r=performance.now();for(let t=0;t<e.length;t++){if(null!=u.signaller&&u.signaller.shouldTerminateAll())throw new Error(`FTS:writeExistingEntryAndNewChunksToDb Dropping for existing entry ${t} and bailing due to external termination signal`);yield u.tableAdapter.merge(e[t].token,{ids:e[t].ids});const n=e[t].ids.length;if(n>100){let e;e=n>2e3&&n<=9e3?Math.min(3500,n/3):n>9e3?Math.min(4500,n/2.5):Math.min(1500,n/2),yield(0,_.delayMs)(Math.floor(e))}}const a=performance.now();__LOG__(2)`FTS Took ${a-r} milli secs to write updates on all exisiting entries`;for(let e=0;e<t.length;e++){if(null!=u.signaller&&u.signaller.shouldTerminateAll())throw new Error(`FTS:writeExistingEntryAndNewChunksToDb Dropping for new chunk[${e}] and bailing due to external termination signal`);const n=performance.now();yield u.tableAdapter.bulkCreate(t[e]);const r=performance.now();yield(0,_.delayMs)(Math.floor(r-n)),__LOG__(2)`FTS Took ${r-n} msecs to write new chunk ${e}`}}finally{n.release()}}))()}_writeChunksToDb(e){var t=this;return(0,r.default)((function*(){const u=yield d.default.acquire();try{for(let u=0;u<e.length;u++){if(null!=t.signaller&&t.signaller.shouldTerminateAll())throw new Error(`FTS:writeChunksToDb Dropping for chunk[${u}] and bailing due to external termination signal`);const n=performance.now();yield t.tableAdapter.bulkPut(e[u]);const r=performance.now();__LOG__(2)`FTS Took ${r-n} msecs to write chunk ${u}`}}finally{u.release()}}))()}_readFTSEntryChunks(e,t){var u=this;return(0,r.default)((function*(){const n=[];let r=0;const a=Array.from(e,(([e])=>e));for(;r<a.length;){const e=a.slice(r,r+t),i=yield u.tableAdapter.bulkGetByKey(e);r+=t,i.length>0&&n.push(...i.filter(Boolean))}return n}))()}_retriveExisting(e){return this._readFTSEntryChunks(e,50)}_mergeAndWriteToDb(e,t){var u=this;return(0,r.default)((function*(){const n=performance.now();e.forEach((e=>{const u=t.get(e.token);(0,E.addMessageIds)(e,null==u?void 0:u.ids),t.delete(e.token)}));const r=Array.from(t.keys());for(let e=0;e<r.length;e++){const n=r[e],a=t.get(n);if(null==a)return;const i=yield u.blindIndexGenerator.computeBlindIndices(a.token,c.default.PREFIX_ONLY);a.prefixes=[...i,...a.prefixes],e>0&&e%30==0&&(yield(0,_.delayMs)(200))}const a=Array.from(t,(([,e])=>(0,E.buildEntry)(e.prefixes,e.ids))),i=h(a.filter((e=>!!e&&!!e.token))),o=performance.now();__LOG__(2)`[FTS] Took ${o-n}ms to compile`,yield u._writeExistingEntryAndNewChunksToDb(e.filter((e=>!!e&&!!e.token)),i)}))()}_flushBatch(e){var t=this;return(0,r.default)((function*(){const u=performance.now(),n=yield t._retriveExisting(e),r=performance.now();__LOG__(2)`[FTS][RETRIEVE] Took ${r-u}ms to fetch tokens from DB.`,yield t._mergeAndWriteToDb(n,e)}))()}_compile(e){var t=this;return(0,r.default)((function*(){const u=yield t._rwMutex.acquire();try{const n=new Map;e.forEach((({tokens:e,id:t})=>{e.forEach((e=>{let u=n.get(e);u||(u=[],n.set(e,u)),u.push(t)}))}));const r=Array.from(n),a=[];for(let e=0;e<r.length;e++){const[u,n]=r[e],i=yield t.blindIndexGenerator.computeBlindIndices(u,c.default.WHOLE_TOKEN_ONLY_WITHOUT_PREFIX);a.push([i[i.length-1],{ids:n,prefixes:i,token:u}]),e>0&&e%30==0&&(yield(0,_.delayMs)(200))}yield t._flushBatch(new Map(a))}finally{u.release()}}))()}_tokenize(e){var t=this;return(0,r.default)((function*(){const u=[];for(let n=0;n<e.length;n++){const r=e[n];u.push({tokens:t.tokenizer.tokenize(r.text),id:r.id}),n>0&&n%30==0&&(yield(0,_.delayMs)(200))}yield t._compile(u)}))()}__processBatch(e){var t=this;return(0,r.default)((function*(){const u=e.map((e=>({id:(0,f.generateId)(e.chatId,e.id,e.timestamp),text:e.textFragments.join(" "),ts:e.timestamp})));if(!(u.length>0))return Promise.resolve();yield t._tokenize(u)}))()}purge(e){var t=this;return(0,r.default)((function*(){if(0===e.length)return!1;const u=yield t._rwMutex.acquire(),n=new Set(e);try{const r=yield t.tableAdapter.bulkGetStartsWithAnyOf(["ids"],e.map(f.getPrefixFromId));__LOG__(2)`FTS:Indexer found ${r.length} entries to purge`;const a=r.map((e=>(0,E.buildEntry)(e.prefixes,e.ids.filter((e=>{const{id:t}=(0,f.parseId)(e);return!n.has(t)})))));if(!a||!a.length)return!1;{const e=h(a);yield t._writeChunksToDb(e),__LOG__(2)`FTS:Indexer deleted ${r.length} entries from index`}}catch(e){return __LOG__(4,void 0,new Error,!0)`FTS:Indexer: Error while purging`,SEND_LOGS("FTS:Indexer: Error while purging"),!1}finally{u.release()}return!0}))()}purgeChat(){return Promise.reject(new a.UnimplementedMethod("purge"))}purge__DEPRECATED_DO_NOT_USE(e,t,u){var n=this;return(0,r.default)((function*(){if(0===t.length)return!1;const r=yield n._rwMutex.acquire(),a=new Set(t),i=t.map((t=>`${t},${e},`));try{const e=yield n.tableAdapter.bulkGetStartsWithAnyOf(["ids"],i);__LOG__(2)`FTS:Indexer:purge_deprecated found ${e.length} entries to purge`;const t=e.map((e=>(0,E.buildEntry)(e.prefixes,e.ids.filter((e=>{const{id:t,timestamp:n}=(0,f.parseId)(e);return!a.has(t)&&n<=u})))));if(!t||!t.length)return!1;{const e=h(t);yield n._writeChunksToDb(e),__LOG__(2)`FTS:Indexer:purge_deprecated deleted ${t.length} entries from index`}}catch(e){return __LOG__(4,void 0,new Error,!0)`FTS:Indexer:purge_deprecated Error while purging`,SEND_LOGS("FTS:Indexer:purge_deprecated Error while purging"),!1}finally{r.release()}return!0}))()}}t.default=A},3284:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new(u(9093).Semaphore)(1);t.default=n},3019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildEntry=function(e,t,u,n){return{id:e,chatId:t,token:u,timestamp:n}}},9173:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=u(6278),i=u(5501),o=u(5048);t.default=class{constructor(e,t=32,u=3){this._blindIndexCache=new a.LruCache({sizeLimit:5e4,getSize:e=>e.length}),this._chatIdCache=new a.LruCache({sizeLimit:1e3,getSize:()=>1}),this.keyGenFn=e,this.blindIndexByteLength=t,this._chatIdByteLength=u}generateForToken(e,t){var u=this;return(0,r.default)((function*(){const n=yield u._genBlindIndexForToken(e);return u._prepareBlindIndex(n,t)}))()}generatePrefixes(e,t){var u=this;return(0,r.default)((function*(){let n=[];const r=u._blindIndexCache.get(e);if(null!=r)n=r;else{for(let t=0;t<e.length;++t){const r=e.slice(0,t+1);n.push(yield(0,i.genBlindIndexBuffer)(r,u.keyGenFn()))}u._blindIndexCache.put(e,n)}return Promise.all(n.map((e=>u._prepareBlindIndex(e,t))))}))()}generateBoundsForToken(e){var t=this;return(0,r.default)((function*(){const u=yield t._genBlindIndexForToken(e),n=new Uint8Array(t.blindIndexByteLength).fill(0),r=new Uint8Array(t.blindIndexByteLength).fill(255);return Promise.all([t._prepareBlindIndex(u,n),t._prepareBlindIndex(u,r)])}))()}_genBlindIndexForToken(e){var t=this;return(0,r.default)((function*(){const u=t._blindIndexCache.get(e);let n;return n=null!=u?u[u.length-1]:yield(0,i.genBlindIndexBuffer)(e,t.keyGenFn()),n}))()}_prepareBlindIndex(e,t){var u=this;return(0,r.default)((function*(){const n=e.slice(0,u.blindIndexByteLength);if(null==t)return n;let r;return r="string"==typeof t?new Uint8Array(yield u._genChatIdHash(t)):t,(0,o.concatBuffers)([n.slice(0,u.blindIndexByteLength),r.slice(0,u._chatIdByteLength).buffer])}))()}_genChatIdHash(e){var t=this;return(0,r.default)((function*(){const u=t._chatIdCache.get(e);if(null!=u)return u;const n=yield self.crypto.subtle.digest("SHA-1",(0,o.stringToArrayBuffer)(e));return t._chatIdCache.put(e,n),n}))()}}},1755:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=n(u(8575)),i=n(u(4261)),o=u(5048);class s extends a.default{constructor(e,t,u,n,r=2e3){super(e,t,u,r),this.blindIndexGenerator=n}find(e,t={}){var u=this;return(0,r.default)((function*(){const n=Array.from(u.tokenizer.tokenize(e)).sort(((e,t)=>t.length-e.length));let r=!1;const a=t.remote;let o=[];if(0===n.length)r=!0;else{const e=n[0];if(null!=a)o=yield u.tableAdapter.bulkGetAnyOf(["prefixes"],[yield u.blindIndexGenerator.generateForToken(e,a)]),o=o.filter((e=>e.chatId===a));else{const[t,n]=yield u.blindIndexGenerator.generateBoundsForToken(e);o=yield u.tableAdapter.between(["prefixes"],t,n,{lowerInclusive:!0,upperInclusive:!0})}for(let e=1;e<n.length;e++)if(o=yield u._verifyPrefixInPotentialSearchResults(n[e],o,a),0===o.length){r=!0;break}if(!r)for(let e=0;e<n.length;e++)if(n[e].length>1&&(o=yield u._verifyPrefixInPotentialSearchResults(n[e].slice(0,n[e].length-1),o,a),0===o.length)){r=!0;break}}if(r)return{eof:!0,messages:[],status:404};return{eof:!0,status:200,messages:o.map((({id:e,chatId:t,timestamp:u})=>({id:e,chatId:t,timestamp:u}))).sort(i.default)}}))()}_verifyPrefixInPotentialSearchResults(e,t,u){var n=this;return(0,r.default)((function*(){if(null!=u){const r=yield n.blindIndexGenerator.generateForToken(e,u);return t.filter((e=>e.prefixes.some((e=>(0,o.arrayBuffersEqual)(e,r)))))}{const u=yield n.blindIndexGenerator.generateForToken(e);return t.filter((e=>e.prefixes.some((e=>(0,o.arrayBuffersEqual)(e.slice(0,n.blindIndexGenerator.blindIndexByteLength),u)))))}}))()}}t.default=s},6685:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildEntry=function(e,t,u,n){return{id:e,chatId:t,timestamp:u,prefixes:n}},t.buildDBEntry=function(e,t,u,n,r){return{ftsRowId:e,id:t,chatId:u,timestamp:n,prefixes:r}}},6084:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=n(u(6095)),i=n(u(9173)),o=u(6685),s=n(u(1755)),l=u(8139),c=u(4807);class D extends a.default{constructor(e,t,u,n=1e3,r=1e3){super(e,t,u,n),this._totalMessagesConsumed=0,this._maxPrefixesPerRow=r,this._blindIndexGenerator=new i.default((()=>this.tableAdapter.getKey()),8),this.finder=new s.default(e,t,u,this._blindIndexGenerator)}_writeChunksForSingleMessage(e){var t=this;return(0,r.default)((function*(){try{yield t.tableAdapter.transact((0,r.default)((function*(){try{yield t.tableAdapter.bulkPut(e),t._totalMessagesConsumed++}catch(t){throw __LOG__(4,void 0,new Error)`Failed to write message with id ${e[0].id} to FTS index`,t}})))}finally{t._totalMessagesConsumed>0&&t._totalMessagesConsumed%20==0&&(yield(0,l.delayMs)(1e3))}}))()}__processBatch(e){var t=this;return(0,r.default)((function*(){for(const{id:u,textFragments:n,chatId:r,timestamp:a}of e){const e=Array.from(t.tokenizer.tokenize(n.join(" "))),i=yield Promise.all(e.map((e=>t._blindIndexGenerator.generatePrefixes(e,r)))),s=(0,c.chunk)(i.flat(),t._maxPrefixesPerRow).map((e=>(0,o.buildEntry)(u,r,a,e)));yield t._writeChunksForSingleMessage(s)}}))()}purge(e){var t=this;return(0,r.default)((function*(){return yield t.tableAdapter.bulkRemoveByIndex(["id"],e),!0}))()}purgeChat(e){var t=this;return(0,r.default)((function*(){return yield t.tableAdapter.bulkRemoveByIndex(["chatId"],[e]),!0}))()}purge__DEPRECATED_DO_NOT_USE(e){var t=this;return(0,r.default)((function*(){return yield t.tableAdapter.bulkRemoveByIndex(["chatId"],[e]),!0}))()}}t.default=D},8570:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=u(3253),i=n(u(7900)),o=n(u(4788));t.default=class{constructor(e,t,u){this._indexerSelector=new o.default(u),this._manifestReader=e,this._manifestWriter=t}__initVersions(e=!1){var t=this;return(0,r.default)((function*(){return(null==t._versions||e)&&(t._versions=yield t._manifestReader.versions()),t._versions}))()}__handleFullIndexerProgress(e,t,u){var n=this;return(0,r.default)((function*(){if(null!=u&&(yield n._manifestWriter.updateLastFullIndexBatch(e,u)),1===t&&(yield n._manifestWriter.markFullIndexingComplete(e),!e)){yield n._manifestWriter.upgradeVersion(),yield n.__initVersions(!0);const e=yield n._indexerSelector.select((0,i.default)(n._versions,"_this2._versions").previous);yield(0,i.default)(e,"obsoleteIndexer").eraseIndex()}}))()}__startFullIndexingForVersion(e){var t=this;return(0,r.default)((function*(){if(null==e)return Promise.resolve([]);const{isCurrent:u,lastMsgKeyViaFullIndexer:n,isFullIndexingComplete:r}=e;if(r)u||t.__handleFullIndexerProgress(!1,1);else{const e=yield t.__getIndexer(u);if(e)return e.full(((e,n)=>t.__handleFullIndexerProgress(u,e,n)),n)}return Promise.resolve([])}))()}__getIndexer(e=!0){var t=this;return(0,r.default)((function*(){return yield t.__initVersions(),e?t._indexerSelector.select((0,i.default)(t._versions,"_this4._versions").current):t._indexerSelector.select((0,i.default)(t._versions,"_this4._versions").next)}))()}purge(){return Promise.reject(new a.UnimplementedMethod("purge"))}purge__DEPRECATED_DO_NOT_USE(){return Promise.reject(new a.UnimplementedMethod("purge"))}purgeChat(){return Promise.reject(new a.UnimplementedMethod("purge"))}search(){return Promise.reject(new a.UnimplementedMethod("search"))}incremental(){return Promise.reject(new a.UnimplementedMethod("incremental"))}full(){return Promise.reject(new a.UnimplementedMethod("incremental"))}}},4788:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504));t.default=class{constructor(e){this._cache=new Map,this.versionsInfo=e}_setCacheItem(e,t,u){var n;const r=null!==(n=this._cache.get(e))&&void 0!==n?n:new Map;null==this._cache.get(e)&&this._cache.set(e,r),r.set(t,u)}_getCacheItem(e,t){var u;return null===(u=this._cache.get(e))||void 0===u?void 0:u.get(t)}select(e){var t=this;return(0,r.default)((function*(){if(null==e)return Promise.resolve(null);let u=t._getCacheItem(e.schemaVersion,e.tokenizerVersion);const{indexers:n,tokenizers:r}=t.versionsInfo;if(null==u&&r[e.tokenizerVersion]&&n[e.schemaVersion]){const a=yield r[e.tokenizerVersion]();u=yield n[e.schemaVersion](a),null!=u&&t._setCacheItem(e.schemaVersion,e.tokenizerVersion,u)}return Promise.resolve(u)}))()}}},1974:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1504)),a=n(u(7900)),i=n(u(4261)),o=n(u(8570));class s extends o.default{purge(e){var t=this;return(0,r.default)((function*(){var u;const[n,r]=yield Promise.all([t.__getIndexer(!0),t.__getIndexer(!1)]);return Promise.all([null==n?void 0:n.purge(e),null===(u=null==r?void 0:r.purge(e))||void 0===u||u]).then((([e,t])=>e&&t))}))()}purge__DEPRECATED_DO_NOT_USE(e,t,u){var n=this;return(0,r.default)((function*(){var r;const[a,i]=yield Promise.all([n.__getIndexer(!0),n.__getIndexer(!1)]);return Promise.all([null==a?void 0:a.purge__DEPRECATED_DO_NOT_USE(e,t,u),null===(r=null==i?void 0:i.purge__DEPRECATED_DO_NOT_USE(e,t,u))||void 0===r||r]).then((([e,t])=>e&&t))}))()}purgeChat(e){var t=this;return(0,r.default)((function*(){var u;const[n,r]=yield Promise.all([t.__getIndexer(!0),t.__getIndexer(!1)]);return Promise.all([null==n?void 0:n.purgeChat(e),null===(u=null==r?void 0:r.purgeChat(e))||void 0===u||u]).then((([e,t])=>e&&t))}))()}search(e,t){var u=this;return(0,r.default)((function*(){var n,r;const[a,o]=yield Promise.all([u.__getIndexer(!0),u.__getIndexer(!1)]),[s,l]=yield Promise.all([null!==(n=null==a?void 0:a.search(e,t))&&void 0!==n?n:{eof:!0,messages:[],status:200},null!==(r=null==o?void 0:o.search(e,t))&&void 0!==r?r:{eof:!0,messages:[],status:200}]),c=[...s.messages,...l.messages],D=new Set;if(c.length>0){const e=[];c.forEach((t=>{const{id:u,chatId:n}=t,r=`${u},${n}`;D.has(r)||(e.push(t),D.add(r))}));const t=e.sort(i.default);return{eof:s.eof&&l.eof,messages:t,status:200}}return{eof:!0,messages:[],status:200}}))()}incremental(){var e=this;return(0,r.default)((function*(){const[t,u]=yield Promise.all([e.__getIndexer(!0),e.__getIndexer(!1)]),n=(0,a.default)(null!=u?u:t,"nextIndexer ?? currIndexer"),r=function(e){return t=>e.getMessageSource().removeFromBacklog(t)}(n);return n.incremental(r)}))()}full(){var e=this;return(0,r.default)((function*(){const t=yield e.__initVersions();return null!=t.next?e.__startFullIndexingForVersion(t.next):e.__startFullIndexingForVersion(t.current)}))()}}t.default=s},3874:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SimpleLatinicSentenceTokenizer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"MultiLangTokenizer",{enumerable:!0,get:function(){return a.default}});var r=n(u(4758)),a=n(u(8427))},8427:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(6588);const r=/(?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3030\u3038-\u303B\u303D\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u3297\u3299\u32D0-\u32FE\u3300-\u3357\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFF66-\uFF6F\uFF71-\uFF9D]|\uD81B[\uDFF0\uDFF1]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/g,a=/((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1100-\u11FF\u302E\u302F\u3131-\u318E\u3200-\u321E\u3260-\u327E\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0E01-\u0E3A\u0E40-\u0E5B])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FD4\u0FD9\u0FDA])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1000-\u109F\uA9E0-\uA9FE\uAA60-\uAA7F])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u19E0-\u19FF])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u02EA\u02EB\u3105-\u312F\u31A0-\u31BF])+/g,i=/(?![\u0902\u094D])(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])+/g,o=/(?:[!-#%-\/:-@\[-`\{-~\xA1\xA7\xA8\xAB\xAC\xAF\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200D\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2118\u2140-\u2144\u214B\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u309B\u309C\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBC1\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE2\uFFE3\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1]|\uD83C[\uDFFB-\uDFFF])/g,s=/(^|(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))((?:[0-9A-Z\^`-z\xA8\xAA\xAF\xB2-\xB5\xB7-\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u034E\u0350-\u0357\u035D-\u0362\u0370-\u0377\u037A-\u037D\u037F\u0384-\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u05D0-\u05EA\u05EF-\u05F2\u0620-\u0652\u0657\u0658\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u06EE-\u06FC\u06FF\u0710\u0712-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u0815\u0818-\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08E3-\u08FE\u0904-\u0939\u093C\u093D\u094D\u0950-\u0954\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC\u09BD\u09CD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A4D\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC\u0ABD\u0ACD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0AFD-\u0AFF\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C\u0B3D\u0B4D\u0B55\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BCD\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C4D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC\u0CBD\u0CCD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3D\u0D4D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E4C\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBA\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECC\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F82-\u0F84\u0F86-\u0F8C\u0FC6\u1000-\u102A\u1037\u1039\u103A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1063-\u1066\u1069-\u1070\u1075-\u1081\u1087-\u109B\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17C9-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1939-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A75-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B05-\u1B34\u1B44-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B83-\u1BA0\u1BAA\u1BAB\u1BAE-\u1BE5\u1C00-\u1C23\u1C36\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CFA\u1D00-\u1DBF\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA67C\uA67D\uA67F-\uA69D\uA6A0-\uA6F1\uA700-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA92B-\uA92E\uA930-\uA946\uA953\uA960-\uA97C\uA984-\uA9B3\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAABF-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABE2\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3E\uFF40-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE3]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCB9\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD33\uDD34\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD73\uDD76\uDD83-\uDDB2\uDDC0-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE35\uDE36\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEE9\uDEEA\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C\uDF3D\uDF4D\uDF50\uDF5D-\uDF61\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC34\uDC42\uDC46-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC2-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDBF\uDDC0\uDDD8-\uDDDB\uDE00-\uDE2F\uDE3F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB6-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDC39\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3D-\uDD3F\uDD41\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE34\uDE3A\uDE47\uDE50\uDE5C-\uDE89\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC3F\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD42\uDD44-\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD97\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD46\uDD48-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+)["'\xAB\xBB\u2018-\u201F\u2039\u203A\u2E42\u300C-\u300F\u301D-\u301F\uFE41-\uFE44\uFF02\uFF07\uFF62\uFF63]((?:[0-9A-Z\^`-z\xA8\xAA\xAF\xB2-\xB5\xB7-\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u034E\u0350-\u0357\u035D-\u0362\u0370-\u0377\u037A-\u037D\u037F\u0384-\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u05D0-\u05EA\u05EF-\u05F2\u0620-\u0652\u0657\u0658\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u06EE-\u06FC\u06FF\u0710\u0712-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u0815\u0818-\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08E3-\u08FE\u0904-\u0939\u093C\u093D\u094D\u0950-\u0954\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC\u09BD\u09CD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A4D\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC\u0ABD\u0ACD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0AFD-\u0AFF\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C\u0B3D\u0B4D\u0B55\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BCD\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C4D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC\u0CBD\u0CCD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3D\u0D4D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E4C\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBA\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECC\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F82-\u0F84\u0F86-\u0F8C\u0FC6\u1000-\u102A\u1037\u1039\u103A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1063-\u1066\u1069-\u1070\u1075-\u1081\u1087-\u109B\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17C9-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1939-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A75-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B05-\u1B34\u1B44-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B83-\u1BA0\u1BAA\u1BAB\u1BAE-\u1BE5\u1C00-\u1C23\u1C36\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CFA\u1D00-\u1DBF\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA67C\uA67D\uA67F-\uA69D\uA6A0-\uA6F1\uA700-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA92B-\uA92E\uA930-\uA946\uA953\uA960-\uA97C\uA984-\uA9B3\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAABF-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABE2\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3E\uFF40-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE3]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCB9\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD33\uDD34\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD73\uDD76\uDD83-\uDDB2\uDDC0-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE35\uDE36\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEE9\uDEEA\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C\uDF3D\uDF4D\uDF50\uDF5D-\uDF61\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC34\uDC42\uDC46-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC2-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDBF\uDDC0\uDDD8-\uDDDB\uDE00-\uDE2F\uDE3F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB6-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDC39\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3D-\uDD3F\uDD41\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE34\uDE3A\uDE47\uDE50\uDE5C-\uDE89\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC3F\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD42\uDD44-\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD97\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD46\uDD48-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+)($|(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))/g,l=/(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])+/g,c=/(?:[\$\xA2-\xA5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]|\uD807[\uDFDD-\uDFE0]|\uD838\uDEFF|\uD83B\uDCB0)+/g;t.default=class{tokenize(e=""){const t=function(e){return e.split(l)}(function(e){return e.replace(c,(e=>` ${e} `))}(function(e){return e.normalize("NFC").replace(r,(e=>` ${e} `))}(function(e){return e.normalize("NFC").replace(a,(e=>` ${e} `))}(e.replace(s,((e,t,u,n)=>` ${u}${n} ${u} ${n} `)))))).map((e=>{let t=e;return t=function(e){return e.replace(o,"")}(t),t.length?(t.match(r)||t.match(a)?t=t.normalize("NFC"):(t=function(e){return e.replace(i,"")}(n.preNFKDNormalizer.normalize(t).normalize("NFKD")),t=t.toLocaleLowerCase("en-US"),t=n.postLowerCaseNormalizer.normalize(t)),t):t}));return new Set(t.filter((e=>!!e&&!!e.trim()&&!e.match(l))))}}},26:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){const t=[];this._toNormalizedFormMap=new Map,e.forEach((([e,u])=>{this._toNormalizedFormMap.set(e,u),t.push(e)})),this._regex=new RegExp(t.join("|"),"g")}normalize(e=""){return e.replace(this._regex,(e=>{const t=this._toNormalizedFormMap.get(e);return null!=t?t:e}))}}},6588:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"preNFKDNormalizer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"postLowerCaseNormalizer",{enumerable:!0,get:function(){return a.default}});var r=n(u(2434)),a=n(u(4932))},4932:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=new(n(u(26)).default)([["","i"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["",""],["",""],["",""],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","l"]]);t.default=r},2434:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=new(n(u(26)).default)([["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]]);t.default=r},4758:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{tokenize(e){const t=e.toLowerCase().normalize("NFKD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").split(/\b/gi).map((e=>e.trim())).filter(Boolean).filter((e=>e.match(/[a-z0-9]+/i)));return new Set(t)}}},2498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resolvable=void 0;t.Resolvable=class{constructor(){let e;this._isResolved=!1,this.promise=new Promise((t=>{e=t})),this._resolve=e}resolve(e){this._isResolved=!0,this._resolve(e)}reject(e){this.resolve(Promise.reject(e))}resolveWasCalled(){return this._isResolved}}},9093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;t.Semaphore=class{constructor(e=1){this._count=0,this._queue=[],this._size=e}acquire(){return new Promise(((e,t)=>{this._performAcquisition(e,t)}))}availablePermits(){return this._size-this._count}_performRelease(){this._count--,this._dequeue()}_performAcquisition(e,t){if(this._count<this._size){this._count++;let t=!1;e({release:()=>{if(t)throw new Error("Permit has already been released");t=!0,this._performRelease()}})}else this._enqueue(e,t)}_enqueue(e,t){this._queue.push([e,t])}_dequeue(){if(0===this._queue.length)return;const[e,t]=this._queue.shift();this._performAcquisition(e,t)}}},5252:(e,t)=>{"use strict";t.Z=A;const u="undefined"!=typeof Promise?Promise:null;let n=0;const r=[],a=[],i=[],o={sentinel:"CONTINUE_AS_IF_NO_HANDLER"},s={sentinel:"RETRY_ASYNCHRONOUSLY"},l={sentinel:"TO_STRING"},c={sentinel:"DID_ERROR"};let D=null;const E=[],d=16,f=64,_=128,h=512;function A(e,t){this._flags=0,this._value=void 0,this._onFulfilled=void 0,this._onRejected=void 0,this._context=void 0,this._resolveLevel=0,this._control=void 0,this.x=void 0,this._thenableParent=null,this._parent=void 0,this._child=void 0,this._children=void 0,this.control=void 0,t&&(this._context=t.this),"function"==typeof e&&(this._onFulfilled=e,this._flags|=4,this._flags|=256,K(e,this._context,(e=>w(this,0,!0,!1,e)),(e=>w(this,0,!1,!1,e))))}let S;function p(e){if(void 0===e)return S;if(R(e))return e;{const t=new A;return w(t,0,!0,!1,e),W(t,h),t}}function F(e){const t=new A;return t._value=e,W(t,514),E.push(t),t}function T(e){let t="";if(e._flags&_){t=(e._onFulfilled||e._onRejected).call(e._context,l)}else if(e._control)t=`.addRawControl(${e._control.name}, ${e._control.foo})`;else if(e._flags&d)t=`.endWithControls(${Object.keys(e.control)})`;else if(e._flags&h)t=1&e._flags?`Promise.resolve(${void 0===e._value?"":e._value})`:`Promise.reject(${void 0===e._value?"":e._value})`;else if(256&e._flags)switch(3&e._flags){case 2:case 0:case 1:t=`new Promise(${e._onFulfilled})`}else e._onFulfilled&&e._onRejected?t=`.then(${e._onFulfilled}, ${e._onRejected})`:e._onFulfilled?t=`.then(${e._onFulfilled})`:e._onRejected&&(t=`.catch(${e._onRejected})`);return t}function C(e,t,u,n){this.name=e,this.foo=t,this.lightning=!!u,this.canRunMultipleTimes=!!n}function g(e,t){return function(){let u,n;for(let n=e._parent;n&&!(3&n._flags)&&!(n._flags&d);n=n._parent)!n._control||n._control.name!==t||4&n._flags||(u=n);if(!u)return A.NO_ACTIVE_CONTROL;if(u._control.canRunMultipleTimes||W(u,4),arguments.length>0){n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e]}return u._control.foo.call(u._context,(e=>M(u,u._resolveLevel,!0,!1,e)),(e=>M(u,u._resolveLevel,!1,!1,e)),u._parent,n)}}function m(e){this.message=e,this.stack=new Error(e||this.name).stack}A.resolve=p,A.reject=F,A.prototype.then=function(e,t){"function"!=typeof e&&(e=void 0),"function"!=typeof t&&(t=void 0);const u=new A;u._onFulfilled=e,u._onRejected=t,u._context=this._context,this._flags&f&&W(u,f);const n=3&this._flags;return 0===n?b(this,u):(W(this,8),(1===n?e:t)?(u._parent=this,a.push(u),v()):(u._parent=this,W(u,n),u._value=this._value,2===n&&E.push(u))),u},A.prototype.catch=function(e){const t=arguments.length-1;if(0===t)return this.then(void 0,e);const u=new Array(t);for(let e=0;e<t;e++)u[e]=L(arguments[e]);const n=x(u,arguments[t]),r=O(this,void 0,n);return r._onRejected&&W(r,_),r},A.prototype.end=function(e){const t=this.then();if(W(t,d),t.control={},t._context=void 0,!e)return;const u=e.controls;if(u)for(let e=0;e<u.length;e++){const n=u[e];t.control[n]=g(t,n)}return t},A.prototype.endWithControls=function(){const e=this.then();W(e,d),e.control={},e._context=void 0;for(let t=0;t<arguments.length;t++){const u=arguments[t];e.control[u]=g(e,u)}return e},A.all=function(e){return new A((function(t,u){let n=e.length;if(0===n)return void t([]);const r=new Array(e.length);function a(e){if(0==--n){const u=[];for(let t=0;t<r.length;t++){const n=r[t];u.push(n&&3&n._flags?n._value:e)}t(u)}return e}for(let t=0;t<e.length;t++)r[t]=O(e[t],a,u)}))},A.allSettled=function(e){return new A((function(t){const u=Array.from(e);let n=u.length;if(0===n)return void t([]);const r=new Array(u.length);function a(e){return function(u){const a=e?{status:"rejected",reason:u}:{status:"fulfilled",value:u};if(0==--n){const e=[];for(let t=0;t<r.length;t++){const u=r[t];e.push(u&&3&u._flags?u._value:a)}t(e)}return a}}const i=a(!1),o=a(!0);for(let e=0;e<u.length;e++)r[e]=O(u[e],i,o)}))},A.race=function(e){const t=B(e);if(R(t)){const e=t.then((e=>A.race(e)));return e._context=void 0,e._flags&=-65,e}return new A((function(e,u){for(let n=0;n<t.length;n++){const r=B(t[n]);if(!R(r)||3&r._flags)for(e(r),n++;n<t.length;n++){const e=t[n];R(e)&&W(e,8)}else r.then(e,u)}}))},A.onPossiblyUnhandledRejection=function(e,t){console.error(`StackPromise did not catch ${e}`,t,e)},A.prototype.toString=function(){const e=[];let t;for(let u=this,n=!1;u;u=u._parent){t=u,!n&&3&u._flags&&(n=!0,u._flags&h||(1&u._flags?e.push(`[resolved value: ${u._value}]`):e.push(`[rejected reason: ${u._value}]`)));let r=T(u);1024&u._flags&&(r=`~${r}`),e.push(r)}return e.reverse(),768&t._flags||(e[0]=`[Promise]${e[0]}`),e.join("\n")},A.prototype.isFulfilled=function(){return!!(1&this._flags)},A.prototype.isRejected=function(){return!!(2&this._flags)},A.prototype.isPending=function(){return!(3&this._flags)},A.prototype.value=function(){if(1&this._flags)return this._value;throw new Error(2&this._flags?"value() called on StackPromise that was rejected":"value() called on StackPromise that is pending")},A.prototype.reason=function(){if(2&this._flags)return this._value;throw new Error(1&this._flags?"reason() called on StackPromise that was fulfilled, not rejected":"reason() called on StackPromise that is pending")},A.prototype.checkpoint=function(e){function t(t){return t===l?`.checkpoint(${e})`:2&e._flags?e:o}e=p(e);const u=this.then(t,t);return W(u,_),u},A.prototype.finally=function(e){function t(t){return t===l?`.finally(${e})`:(e.call(this,t),o)}return W(this.then(t,t),_)},A.Control=C,A.NO_ACTIVE_CONTROL=new Error("No active control was found."),A.prototype.addControl=function(e){if(!(e instanceof C))throw new Error(`addControl must be given Control, but got ${e}`);const t=this.then(e.lightning?void 0:P);return t._control=e,t},A.prototype.addRawControl=function(e,t,u,n){return this.addControl(new C(e,t,u,n))},A.prototype.addResolveControl=function(e,t,u,n){return this.addControl(new C(e,(function(e,u,n,r){try{e(t.apply(this,r))}catch(e){u(e)}}),u,n))},A.prototype.addRejectControl=function(e,t,u,n){return this.addControl(new C(e,(function(e,u,n,r){try{u(t.apply(this,r))}catch(e){u(e)}}),u,n))},m.prototype=Object.create(Error.prototype,{name:{value:"AbortError"}}),A.CancellationError=m;const y=new C("cancel",(function(e,t,u,n){t(new m(n&&n[0]))}),!1,!1);let I;function v(){0===n&&(a.length||E.length)&&(n=1,I||(I=function(){let e,t,n=0;return"undefined"==typeof MutationObserver||self&&self.navigator&&self.navigator.standalone?u?function(){u.resolve().then(V)}:"function"==typeof setImmediate?function(){setImmediate(V)}:function(){setTimeout(V,0)}:(e=document.createTextNode(""),t=new MutationObserver(V),t.observe(e,{characterData:!0}),function(){e.data=n=1-n})}()),I())}function P(){return o}function b(e,t){W(e,8),t._parent=e,e._children?e._children.push(t):e._child?(e._children=[e._child,t],e._child=void 0):e._child=t}function N(e){if(e&&("object"==typeof e||"function"==typeof e)){let t;try{t=e.then}catch(e){return D=e,c}if("function"==typeof t)return t}}function B(e){if(!e||R(e))return e;const t=N(e);if(t===c)return F(D);if(t){const u=new A((function(u,n){t.call(e,u,n)}));return u._thenableParent=e,u}return e}function R(e){return e instanceof A}function O(e,t,u){const n=R(e=B(e));let r,a,i,l,E=!1;if(n){if(!(3&e._flags))return W(e.then(t,u),32);W(e,8),E=!!(e._flags&f),i=e._context,r=1&e._flags?t:u,a=e._value}else r=t,a=e;if(!r)return p(e).then();if(a=H(r,i,a,!0),a===c)l=F(D);else{if(a===s)return p(e).then(t,u);if(a===o)return n?e.then():p(e);l=p(a)}return E&&(l=l.cancellable()),void 0!==i&&(l=l.then(),l._context=i),l}function w(e,t,u,n,r){if(t!==e._resolveLevel)return;const a=++e._resolveLevel;if(W(e,4),e._thenableParent=null,u)if(r===e)e._parent=void 0,U(e,!1,n,new TypeError("promise resolved to itself"));else if(R(r)){const t=3&r._flags;0===t?b(r,e):(e._parent=r,W(e,1024),W(r,8),U(e,1===t,n,r._value))}else{const t=N(r);t===c?(e._parent=void 0,U(e,!1,n,D)):t?(e._parent=void 0,e._thenableParent=r,K(t,r,(t=>w(e,a,!0,!1,t)),(t=>w(e,a,!1,!1,t)))):U(e,!0,n,r)}else U(e,!1,n,r)}function M(e,t,u,n,r){t===e._resolveLevel&&(Y(e),w(e,t,u,n,r))}function Y(e){if(e._parent){const t=e._parent;if(e._parent=void 0,t._child===e)t._child=void 0;else if(t._children){const u=t._children;for(let t=0;t<u.length;t++)if(u[t]===e){u.splice(t,1);break}0===u.length&&(t._children=void 0)}}}function L(e){if(null==e)throw new Error(`Invalid .catch guard ${e}`);if("function"==typeof e)return e;if("object"==typeof e)throw new Error("Object guards in .catch are currently unsupported");return function(t){return t===e}}function x(e,t){return function(u,n){return u===l?`.catch(..., ${t})`:e&&!function(e,t){for(let u=0;u<e.length;u++){const n=e[u];if(n===Error||n.prototype instanceof Error){if(t instanceof n)return!0}else if(n(t))return!0}return!1}(e,u)?o:n?s:t.call(this,u)}}function U(e,t,u,n){if(W(e,4|(t?1:2)),e._value=n,e._child)G(e._child,t,u,n),e._child=void 0;else if(e._children){const r=e._children;e._children=void 0;for(let e=0;e<r.length;e++)G(r[e],t,u,n)}else t||8&e._flags||E.push(e)}function G(e,t,u,n){e._resolveLevel++;const r=j(e,t);if(r&&32&e._flags){W(e,4);const a=H(r,e._context,n,!0);if(a!==s)return void(a===c?(e._parent=void 0,U(e,!1,u,D)):a===o?U(e,t,u,n):(e._parent=void 0,w(e,e._resolveLevel,!0,u,a)));e._flags&=-5}r?((u?i:a).push(e),v()):U(e,t,u,n)}function k(e,t){for(;0!==e.length;)t.push(e.pop())}function V(){for(;0!==r.length||0!==a.length;){0===r.length&&k(a,r);const e=r.pop(),t=e._parent;let u=!!(t&&1&t._flags),n=t&&t._value;const l=j(e,u);if(W(e,4),l){let t;do{t=H(l,e._context,n,!1)}while(t===s);t===c?(n=D,u=!1,e._parent=void 0):t!==o&&(n=t,u=!0,e._parent=void 0)}3&e._flags||(w(e,e._resolveLevel,u,!0,n),k(i,r))}for(n--;0!==E.length;){const e=E.pop();8&e._flags||A.onPossiblyUnhandledRejection(e._value,e)}}function K(e,t,u,n){try{e.call(t,u,n)}catch(e){n(e)}}function j(e,t){if(!(4&e._flags))return t?e._onFulfilled:e._onRejected}function H(e,t,u,n){try{return n?e.call(t,u,!0):e.call(t,u)}catch(e){return D=e,c}}function W(e,t){return e._flags|=t,e}A.prototype.addCancelControl=function(){return W(this.addControl(y),f)},A.prototype.cancellable=function(){return W(this.then(),f)},A.prototype.cancel=function(e){let t;for(let e=this;e&&!(3&e._flags);e=e._parent)e._flags&f&&(t=e);if(t)if(void 0===e&&(e=new m),j(t,!1)){const u=new A;Y(t),b(u,t),M(u,0,!1,!1,e)}else M(t,t._resolveLevel,!1,!1,e)},S=new A,w(S,0,!0,!1,void 0)},8139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayMs=function(e,t){return new Promise((u=>{setTimeout(u,e,t)}))},t.withTimeout=function(e,t,u){return new Promise(((n,r)=>{const a=setTimeout((()=>{try{n(u())}catch(e){r(e)}}),t);e.then((e=>{clearTimeout(a),n(e)}),(e=>{clearTimeout(a),r(e)}))}))}},6635:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.promiseReduce=void 0;var r=n(u(1504));const a=function(){var e=(0,r.default)((function*(e,t,u){let n=u;const r=e.length;for(let u=0;u<r;u++)n=yield t(n,e[u],u);return n}));return function(){return e.apply(this,arguments)}}();t.promiseReduce=a},536:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseTimeout=void 0;var n=u(3253);t.promiseTimeout=(e,t,u)=>{let r=null,a=null;const i=new Promise(((e,i)=>{a=i,r=setTimeout((()=>{i(new n.TimeoutError(u)),clearTimeout(r)}),t)}));return Promise.race([e,i]).finally((()=>{a&&a(new Error),clearTimeout(r)}))}},7584:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileSpec=function(e){if(e.internalCompiledSpec)return e.internalCompiledSpec;const t=e.internalSpec;if(!t)throw new Error(`Message Class ${String(e)} does not have internalSpec`);const u=e.internalDefaults||{},i=Object.keys(t).filter((e=>e!==n.KEYS.ONEOF)),o=new Array(i.length),s=[],l=[],c=new Array(i.length),D=t[n.KEYS.ONEOF]||{};i.sort(((e,u)=>{const n=a(t,e),r=a(t,u);return n[0]-r[0]}));for(let e=0;e<i.length;e++){const r=i[e],D=a(t,r);c[e]=u[r];const E=D[1],d=D[0];if(s.push(d),l.push(E),(E&n.TYPE_MASK)===n.TYPES.MESSAGE)o[e]=D[2];else if((E&n.TYPE_MASK)===n.TYPES.ENUM){const t=D[2];if("function"==typeof t.cast)o[e]=t;else{let u,n=!0,r=0;for(const e in t)n&&e!==r++&&(n=!1);if(n){u=[];for(let e=0;e<r;e++)u.push(!0)}else{u={};for(const e in t)u[t[e]]=!0}o[e]=u}}else o[e]=null}const E={};for(const e in D)D[e].forEach((t=>{E[t]||(E[t]=[]),E[t].push(e)}));const d=t[n.KEYS.RESERVED]&&t[n.KEYS.RESERVED][n.KEYS.RESERVED_TAGS],f=t[n.KEYS.RESERVED]&&t[n.KEYS.RESERVED][n.KEYS.RESERVED_FIELDS],_=new r(i,s,l,c,o,D,E,d,f);return e.internalCompiledSpec=_,_},t.Spec=void 0;var n=u(3371);class r{constructor(e,t,u,n,r,a,i,o,s){this.names=e,this.fields=t,this.types=u,this.defaults=n,this.meta=r,this.oneofToFields=a,this.fieldToOneof=i,this.reservedTags=o?o.reduce(((e,t)=>(e[t]=!0,e)),{}):{},this.reservedFields=s?s.reduce(((e,t)=>(e[t]=!0,e)),{}):{}}}function a(e,t){const u=e[t];if(null==u)throw new Error(`fieldData of ${t} is missing`);return u}t.Spec=r},3371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEYS=t.ENC=t.TYPES=t.TYPE_MASK=t.FLAGS=void 0;t.FLAGS={REPEATED:64,PACKED:128,REQUIRED:256};t.TYPE_MASK=31;t.TYPES={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};t.ENC={VARINT:0,BIT64:1,BINARY:2,BIT32:5};t.KEYS={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"}},472:(e,t,u)=>{"use strict";var n=u(1954);Object.defineProperty(t,"__esModule",{value:!0}),t.typeToEncType=function(e){if(e&a.PACKED)return s.BINARY;const t=e&o;return t<=i.ENUM?s.VARINT:t<=i.DOUBLE?s.BIT64:t<=i.MESSAGE?s.BINARY:s.BIT32};var r=n(u(3371));const{FLAGS:a,TYPES:i,TYPE_MASK:o,ENC:s}=r},942:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.checkRequirements=s,t.checkValid=function(e,t){s(e,t);const u=_(t,e);if(u)throw u.path.reverse(),new TypeError(`Invalid value at ${u.path.join(".")}: ${u.error}`)};var r=u(7584),a=u(3371),i=n(u(357));const o=Number.MAX_SAFE_INTEGER;function s(e,t){const u=l(e,t);if(u)throw u.reverse(),new TypeError(`Message missing required value ${u.join(".")}`)}function l(e,t){const{names:u,types:n,meta:o}=(0,r.compileSpec)(e);let s;for(let e=0;e<n.length&&!s;e++){const r=n[e],c=u[e],D=(0,i.default)(t,c)?t[c]:void 0;if(r&a.FLAGS.REQUIRED&&void 0===D)s=[c];else if((r&a.TYPE_MASK)===a.TYPES.MESSAGE&&r&a.FLAGS.REPEATED&&void 0!==D){const t=o[e];let u;for(u=0;u<D.length&&!s;u++)s=l(t,D[u]);s&&s.push(`${c}[${u}]`)}else(r&a.TYPE_MASK)===a.TYPES.MESSAGE&&void 0!==D&&(s=l(o[e],D),s&&s.push(c))}return s}function c(e,t,u){return"string"==typeof e?!/^-?0x[0-9a-f]{16}$/i.test(e)&&(__LOG__(2)`"${d(e)}" is not a valid long`,{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}):D(e,t,u)}function D(e,t,u){return"number"!=typeof e||e!=e||Math.floor(e)!==e?(__LOG__(2)`"${d(e)}" is not a valid int`,{path:[],error:"value must be an int"}):(e<t||e>=u)&&(__LOG__(2)`"${d(e)}" is out of range`,{path:[],error:"value is out of range"})}function E(e,t,u){return e?void 0:(__LOG__(2)`"${d(u)}" is not ${t}`,{path:[],error:"value is invalid"})}function d(e){return"string"==typeof e?`"${e}"`:Array.isArray(e)?`[${e.join(", ")}]`:`${e}`}const f=[void 0,e=>D(e,-2147483648,2147483648),e=>c(e,-o,o+1),e=>D(e,0,4294967296),e=>c(e,0,o+1),e=>D(e,-2147483648,2147483648),e=>c(e,-o,o+1),e=>E("boolean"==typeof e,"boolean",e),(e,t)=>E("number"==typeof e&&(t[e]||void 0!==t.cast(e)),"in enum",e),e=>c(e,0,o+1),e=>c(e,-o,o+1),e=>E("number"==typeof e,"number",e),e=>E("string"==typeof e,"string",e),e=>E(e instanceof ArrayBuffer||e instanceof Uint8Array,"ArrayBuffer or Uint8Array",e),_,e=>D(e,0,4294967296),e=>D(e,-2147483648,2147483648),e=>E("number"==typeof e,"number",e)];function _(e,t){const{names:u,fields:n,types:i,meta:o,oneofToFields:s,fieldToOneof:l,reservedTags:c,reservedFields:D}=(0,r.compileSpec)(t);let E;for(let t=0;t<u.length&&!E;t++){const r=u[t],_=i[t],h=e[r],A=_&a.TYPE_MASK,S=f[A];if(void 0===S)throw new Error(`Can not find the validator for type ${A}`);if(_&(a.FLAGS.PACKED|a.FLAGS.REPEATED)&&void 0!==h)if(Array.isArray(h)){const e=o[t];for(let t=0;t<h.length&&!E;t++)E=S(h[t],e),E&&E.path.push(`${r}[${t}]`)}else __LOG__(2)`"${d(h)}" is not an array`,E={path:[r],error:"repeated field must be array"};else if(null!=h){E=S(h,o[t]),E&&E.path.push(r);const u=l[r];u&&u.forEach((t=>{s[t].filter((e=>e!==r)).forEach((u=>{void 0!==e[u]&&(E={path:[t],error:`oneof has fields '${r}' and '${u}' set`})}))})),c[n[t]]&&(E={path:[r],error:`tag ${n[t]} is reserved`}),D[r]&&(E={path:[r],error:"field name is reserved"})}}return E}},8400:(e,t,u)=>{"use strict";var n=u(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.decodeProtobuf=function(e,t){const u=new a.Binary(t),n=S(e,u,void 0,!1);return(0,l.checkRequirements)(e,n),n},t.decodeProtobufWithUnknowns=function(e,t){const u=new a.Binary(t),n=S(e,u,void 0,!0);return(0,l.checkRequirements)(e,n),n},t.getUnknownFields=function(e){return(0,D.default)(e,"unsafeUnknownFields")?e.unsafeUnknownFields:null};var r=n(u(3982)),a=u(8438),i=u(7584),o=u(3371),s=u(472),l=u(942),c=u(7030),D=n(u(357));function E(e,t,u){if(e!==(0,s.typeToEncType)(t))throw new Error(`FormatError: ${u} encoded with wire type ${e}`)}function d(e,t,u){switch(t){case o.TYPES.INT32:return f(u,-2147483648,2147483648,e,a.parseInt64OrThrow);case o.TYPES.INT64:return u.readVarInt(_);case o.TYPES.UINT32:return f(u,0,4294967296,e,a.parseUint64OrThrow);case o.TYPES.UINT64:return u.readVarInt(h);case o.TYPES.SINT32:{const t=f(u,0,4294967296,e,a.parseInt64OrThrow);return 1&t?~(t>>>1):t>>>1}case o.TYPES.SINT64:return u.readVarInt(A);case o.TYPES.BOOL:return!!f(u,0,2,e,a.parseUint64OrThrow);case o.TYPES.ENUM:return u.readVarInt(a.parseInt64OrThrow);case o.TYPES.FIXED64:return u.readLong(h,!0);case o.TYPES.SFIXED64:return u.readLong(_,!0);case o.TYPES.DOUBLE:return u.readFloat64(!0);case o.TYPES.STRING:return u.readString(u.readVarInt(a.parseUint64OrThrow));case o.TYPES.BYTES:return u.readBuffer(u.readVarInt(a.parseUint64OrThrow));case o.TYPES.FIXED32:return u.readUint32(!0);case o.TYPES.SFIXED32:return u.readInt32(!0);case o.TYPES.FLOAT:return u.readFloat32(!0)}}function f(e,t,u,n,r){const a=e.readVarInt(r);if(a<t||a>=u)throw new Error(`FormatError: ${n} encoded with out-of-range value ${a}`);return a}function _(e,t){if((0,a.longFitsInDouble)(!0,e,t)){return 4294967296*e+p(t)}{const u=e<0;let n;n=u?0===t?-e:~e:e;const r=u?-t:t;return(0,c.createHexLongFrom32Bits)(n,r,u)}}function h(e,t){if((0,a.longFitsInDouble)(!1,e,t)){return 4294967296*p(e)+p(t)}return(0,c.createHexLongFrom32Bits)(e,t)}function A(e,t){let u=e>>>1,n=e<<31|t>>>1;return 1&t&&(u=~u,n=~n),_(u,n)}function S(e,t,u,n){const{names:s,fields:l,types:c,meta:D,oneofToFields:_,fieldToOneof:h,reservedTags:A,reservedFields:p}=(0,i.compileSpec)(e),{internalDefaults:F}=e,T=u||(0,r.default)({},F)||{};for(let e=0;e<s.length;e++)c[e]&o.FLAGS.REPEATED&&(T[s[e]]=[]);let C=0,g=l[0];for(;t.size();){const e=f(t,0,4294967296,"field and enc type",a.parseInt64OrThrow),u=7&e,r=e>>>3;if(r!==g){const e=C;do{++C===l.length&&(C=0),g=l[C]}while(r!==g&&C!==e)}if(r===g){const e=s[C],i=c[C];E(u,i,e);const l=i&o.TYPE_MASK,f=D[C];if(i&o.FLAGS.PACKED){const u=t.readVarInt(a.parseUint64OrThrow),n=t.readBinary(u);for(;n.size();){const t=d(e,l,n);(l!==o.TYPES.ENUM||f[t]||void 0!==f.cast(t))&&T[e].push(t)}}else if(l===o.TYPES.MESSAGE){const u=t.readVarInt(a.parseUint64OrThrow),r=t.readBinary(u);if(i&o.FLAGS.REPEATED)T[e].push(S(f,r,void 0,n));else{const t=T[e];T[e]=S(f,r,t,n)}}else{const u=d(e,l,t);(l!==o.TYPES.ENUM||f[u]||void 0!==f.cast(u))&&(i&o.FLAGS.REPEATED?T[e].push(u):T[e]=u)}const F=h[e];F&&void 0!==T[e]&&F.forEach((t=>{_[t].filter((t=>t!==e)).forEach((e=>{delete T[e]}))})),(A[r]||p[e])&&delete T[e]}else if(n){let e;switch(T.unsafeUnknownFields||(T.unsafeUnknownFields={}),u){case o.ENC.VARINT:e=t.readVarInt(a.parseInt64OrThrow);break;case o.ENC.BIT64:e=t.readBinary(8);break;case o.ENC.BINARY:e=t.readBinary(t.readVarInt(a.parseUint64OrThrow));break;case o.ENC.BIT32:e=t.readBinary(4)}T.unsafeUnknownFields[r]=e}else u===o.ENC.VARINT?t.readVarInt(a.parseInt64OrThrow):u===o.ENC.BIT64?t.advance(8):u===o.ENC.BINARY?t.advance(t.readVarInt(a.parseUint64OrThrow)):u===o.ENC.BIT32&&t.advance(4)}return T}function p(e){return e>=0?e:4294967296+e}},8438:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numUtf8Bytes=c,t.longFitsInDouble=D,t.parseInt64OrThrow=K,t.parseUint64OrThrow=j,t.Binary=void 0;var n=u(7030);const r=65533,a=new Uint8Array(10),i=new Uint8Array(0);class o{constructor(e=i,t=!1){this.write=(...e)=>{for(let t=0;t<e.length;t++){const u=e[t];"string"==typeof u?this.writeString(u):"number"==typeof u?this.writeUint8(u):u instanceof o?this.writeBinary(u):u instanceof ArrayBuffer?this.writeBuffer(u):u instanceof Uint8Array&&this.writeByteArray(u)}},e instanceof ArrayBuffer?(this._buffer=new Uint8Array(e),this._readEndIndex=this._writeIndex=e.byteLength):e instanceof Uint8Array&&(this._buffer=e,this._readEndIndex=this._writeIndex=e.length),this._bytesTrashed=0,this._earliestIndex=this._readIndex=0,this._view=null,this._littleEndian=t,this._hiddenReads=0,this._hiddenWrites=0}size(){return this._readEndIndex-this._readIndex}peek(e,t){this._hiddenReads++;const u=this._readIndex,n=this._bytesTrashed;try{return e(this,t)}finally{this._hiddenReads--,this._readIndex=u-(this._bytesTrashed-n)}}advance(e){this._shiftReadOrThrow(e)}readWithViewParser(e,t,u,n){return t(this._getView(),this._shiftReadOrThrow(e),e,u,n)}readWithBytesParser(e,t,u,n){return t(this._buffer,this._shiftReadOrThrow(e),e,u,n)}readUint8(){return E(this,1,f,!1)}readInt8(){return E(this,1,f,!0)}readUint16(e=this._littleEndian){return E(this,2,_,e)}readInt32(e=this._littleEndian){return E(this,4,h,e)}readUint32(e=this._littleEndian){return E(this,4,A,e)}readInt64(e=this._littleEndian){return E(this,8,S,K,e)}readUint64(e=this._littleEndian){return E(this,8,S,j,e)}readLong(e,t=this._littleEndian){return E(this,8,S,e,t)}readFloat32(e=this._littleEndian){return E(this,4,p,e)}readFloat64(e=this._littleEndian){return E(this,8,F,e)}readVarInt(e){const t=d(this,0,T,this.size());return d(this,t,C,e)}readBuffer(e=this.size()){return 0===e?new ArrayBuffer(0):d(this,e,g)}readByteArray(e=this.size()){return 0===e?new Uint8Array(0):d(this,e,m)}readBinary(e=this.size(),t=this._littleEndian){if(0===e)return new o(void 0,t);const u=d(this,e,m);return new o(u,t)}indexOf(e){if(0===e.length)return 0;const t=this._buffer,u=this._readEndIndex,n=this._readIndex;let r=0,a=n;for(let i=n;i<u;i++)if(t[i]===e[r]){if(0===r&&(a=i),r++,r===e.byteLength)return i-n-e.byteLength+1}else r>0&&(r=0,i=a);return-1}readString(e){return d(this,e,y)}ensureCapacity(e){this._maybeReallocate(this._readIndex+e)}ensureAdditionalCapacity(e){this._maybeReallocate(this._writeIndex+e)}writeToView(e,t,u,n){const r=this._shiftWriteMaybeReallocate(e);return t(this._getView(),r,e,u,n)}writeToBytes(e,t,u,n){const r=this._shiftWriteMaybeReallocate(e);return t(this._buffer,r,e,u,n)}writeUint8(e){k(e,0,256,"uint8"),v(this,1,P,e,!1)}writeInt8(e){k(e,-128,128,"signed int8"),v(this,1,P,e,!0)}writeUint16(e,t=this._littleEndian){k(e,0,65536,"uint16"),I(this,2,b,e,t)}writeInt16(e,t=this._littleEndian){k(e,-32768,32768,"signed int16"),I(this,2,N,e,t)}writeUint32(e,t=this._littleEndian){k(e,0,4294967296,"uint32"),I(this,4,B,e,t)}writeInt32(e,t=this._littleEndian){k(e,-2147483648,2147483648,"signed int32"),I(this,4,R,e,t)}writeUint64(e,t=this._littleEndian){k(e,0,0x10000000000000000,"uint64"),I(this,8,O,e,t)}writeInt64(e,t=this._littleEndian){k(e,-0x8000000000000000,0x8000000000000000,"signed int64"),I(this,8,O,e,t)}writeFloat32(e,t=this._littleEndian){I(this,4,w,e,t)}writeFloat64(e,t=this._littleEndian){I(this,8,M,e,t)}writeVarInt(e){k(e,-0x8000000000000000,0x8000000000000000,"varint (signed int64)");const t=e<0,u=t?-e:e;let n=Math.floor(u/4294967296),r=u-4294967296*n;t&&(n=~n,0===r?n++:r=-r);v(this,G(n,r),Y,n,r)}writeVarIntFromHexLong(e){const t=(0,n.hexLongIsNegative)(e),u=t?(0,n.negateHexLong)(e):e,r=(0,n.hexLongToHex)(u);let a=0,i=0;for(let e=0;e<n.NUM_HEX_IN_LONG;e++)a=a<<4|i>>>28,i=i<<4|(0,n.hexAt)(r,e);t&&(a=~a,0===i?a++:i=-i);v(this,G(a,i),Y,a,i)}writeBinary(e){const t=e.peek((e=>e.readByteArray()));if(t.length){const e=this._shiftWriteMaybeReallocate(t.length);this._buffer.set(t,e)}}writeBuffer(e){this.writeByteArray(new Uint8Array(e))}writeByteArray(e){const t=this._shiftWriteMaybeReallocate(e.length);this._buffer.set(e,t)}writeBufferView(e){this.writeByteArray(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}writeString(e){v(this,c(e),L,e)}writeHexLong(e,t=this._littleEndian){I(this,8,x,e,t)}writeBytes(...e){for(let t=0;t<e.length;t++)k(e[t],0,256,"byte");v(this,e.length,U,e)}writeAtomically(e,t){this._hiddenWrites++;let u=this._writeIndex,n=this._bytesTrashed;try{const r=e(this,t);return u=this._writeIndex,n=this._bytesTrashed,r}finally{this._hiddenWrites--,this._writeIndex=u-(this._bytesTrashed-n)}}writeWithVarIntLength(e,t){const u=this._writeIndex,n=this.writeAtomically(e,t),r=this._writeIndex;this.writeVarInt(r-u);const i=this._writeIndex-r,o=this._buffer;for(let e=0;e<i;e++)a[e]=o[r+e];for(let e=r-1;e>=u;e--)o[e+i]=o[e];for(let e=0;e<i;e++)o[u+e]=a[e];return n}static build(...e){let t=0;for(let u=0;u<e.length;u++){const n=e[u];"string"==typeof n?t+=c(n):"number"==typeof n?t++:n instanceof o?t+=n.size():n instanceof ArrayBuffer?t+=n.byteLength:n instanceof Uint8Array&&(t+=n.length)}const u=new o;return u.ensureCapacity(t),u.write.apply(u,arguments),u}_getView(){return this._view||(this._view=new DataView(this._buffer.buffer,this._buffer.byteOffset))}_shiftReadOrThrow(e){if(e<0)throw new Error("ReadError: given negative number of bytes to read");const t=this._readIndex,u=t+e;if(u>this._readEndIndex)throw new Error(t===this._readEndIndex?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");return this._readIndex=u,this._hiddenReads||(this._earliestIndex=u),t}_maybeReallocate(e){const t=this._buffer;if(e<=t.length)return e;{const u=this._earliestIndex,n=e-u,r=Math.max(n,2*(t.length-u),64),a=new Uint8Array(r);return u?(a.set(t.subarray(u)),this._bytesTrashed+=u,this._readIndex-=u,this._readEndIndex-=u,this._writeIndex-=u,this._earliestIndex=0):a.set(t),this._buffer=a,this._view=null,n}}_shiftWriteMaybeReallocate(e){const t=this._maybeReallocate(this._writeIndex+e),u=this._writeIndex;return this._writeIndex=t,this._hiddenWrites||(this._readEndIndex=t),u}}t.Binary=o;let s="",l=0;function c(e){if(e===s)return l;const t=e.length;let u=0;for(let n=0;n<t;n++){const r=e.charCodeAt(n);if(r<128)u++;else if(r<2048)u+=2;else if(r<55296||57344<=r&&r<=65535)u+=3;else if(55296<=r&&r<56320&&n+1!==t){const t=e.charCodeAt(n+1);56320<=t&&t<57344?(n++,u+=4):u+=3}else u+=3}return s=e,l=u}function D(e,t,u){const n=t>>21;if(e){const e=Boolean(2097151&t||u);return 0===n||-1===n&&e}return 0===n}function E(e,t,u,n,r){return e.readWithViewParser(t,u,n,r)}function d(e,t,u,n,r){return e.readWithBytesParser(t,u,n,r)}function f(e,t,u,n){return n?e.getInt8(t):e.getUint8(t)}function _(e,t,u,n){return e.getUint16(t,n)}function h(e,t,u,n){return e.getInt32(t,n)}function A(e,t,u,n){return e.getUint32(t,n)}function S(e,t,u,n,r){return n(e.getInt32(r?t+4:t,r),e.getInt32(r?t:t+4,r))}function p(e,t,u,n){return e.getFloat32(t,n)}function F(e,t,u,n){return e.getFloat64(t,n)}function T(e,t,u,n){const r=Math.min(n,10);let a=0,i=128;for(;a<r&&128&i;)i=e[t+a++];if(10===a&&i>1)throw new Error("ParseError: varint exceeds 64 bits");return 128&i?a+1:a}function C(e,t,u,n){let r=0,a=0,i=u;10===u&&(i--,a=1&e[t+i]);for(let u=i-1;u>=0;u--)r=r<<7|a>>>25,a=a<<7|127&e[t+u];return n(r,a)}function g(e,t,u){const n=t+e.byteOffset,r=e.buffer;return 0===n&&u===r.byteLength?r:r.slice(n,n+u)}function m(e,t,u){return e.subarray(t,t+u)}function y(e,t,u){const n=t+u;let a=[],i=null;for(let u=t;u<n;u++){a.length>5e3&&(i||(i=[]),i.push(String.fromCharCode.apply(String,a)),a=[]);const t=0|e[u];if(0==(128&t))a.push(t);else if(192==(224&t)){const i=H(e,u+1,n);if(i){u++;const e=(31&t)<<6|63&i;e>=128?a.push(e):a.push(r)}else a.push(r)}else if(224==(240&t)){const i=H(e,u+1,n),o=H(e,u+2,n);if(i&&o){u+=2;const e=(15&t)<<12|(63&i)<<6|63&o;e>=2048&&!(55296<=e&&e<57344)?a.push(e):a.push(r)}else i?(u++,a.push(r)):a.push(r)}else if(240==(248&t)){const i=H(e,u+1,n),o=H(e,u+2,n),s=H(e,u+3,n);if(i&&o&&s){u+=3;const e=(7&t)<<18|(63&i)<<12|(63&o)<<6|63&s;if(e>=65536&&e<=1114111){const t=e-65536;a.push(55296|t>>10,56320|1023&t)}else a.push(r)}else i&&o?(u+=2,a.push(r)):i?(u++,a.push(r)):a.push(r)}else a.push(r)}const o=String.fromCharCode.apply(String,a);return i?(i.push(o),i.join("")):o}function I(e,t,u,n,r){return e.writeToView(t,u,n,r)}function v(e,t,u,n,r){return e.writeToBytes(t,u,n,r)}function P(e,t,u,n){e[t]=n}function b(e,t,u,n,r){e.setUint16(t,n,r)}function N(e,t,u,n,r){e.setInt16(t,n,r)}function B(e,t,u,n,r){e.setUint32(t,n,r)}function R(e,t,u,n,r){e.setInt32(t,n,r)}function O(e,t,u,n,r){const a=n<0,i=a?-n:n;let o=Math.floor(i/4294967296),s=i-4294967296*o;a&&(o=~o,0===s?o++:s=-s),e.setUint32(r?t+4:t,o,r),e.setUint32(r?t:t+4,s,r)}function w(e,t,u,n,r){e.setFloat32(t,n,r)}function M(e,t,u,n,r){e.setFloat64(t,n,r)}function Y(e,t,u,n,r){let a=n,i=r;const o=t+u-1;for(let u=t;u<o;u++)e[u]=128|127&i,i=a<<25|i>>>7,a>>>=7;e[o]=i}function L(e,t,u,n){let r=t;const a=n.length;for(let t=0;t<a;t++){const u=n.charCodeAt(t);if(u<128)e[r++]=u;else if(u<2048)e[r++]=192|u>>6,e[r++]=128|63&u;else if(u<55296||57344<=u)e[r++]=224|u>>12,e[r++]=128|u>>6&63,e[r++]=128|63&u;else if(55296<=u&&u<56320&&t+1!==a){const a=n.charCodeAt(t+1);if(56320<=a&&a<57344){t++;const n=65536+((1023&u)<<10|1023&a);e[r++]=240|n>>18,e[r++]=128|n>>12&63,e[r++]=128|n>>6&63,e[r++]=128|63&n}else e[r++]=239,e[r++]=191,e[r++]=189}else e[r++]=239,e[r++]=191,e[r++]=189}}function x(e,t,u,r,a){const i=(0,n.hexLongIsNegative)(r),o=(0,n.hexLongToHex)(r);let s=0,l=0;for(let e=0;e<16;e++)s=s<<4|l>>>28,l=l<<4|(0,n.hexAt)(o,e);i&&(s=~s,0===l?s++:l=-l),e.setUint32(a?t+4:t,s,a),e.setUint32(a?t:t+4,l,a)}function U(e,t,u,n){for(let r=0;r<u;r++)e[t+r]=n[r]}function G(e,t){let u,n;for(e?(u=5,n=e>>>3):(u=1,n=t>>>7);n;)u++,n>>>=7;return u}function k(e,t,u,n){if("number"!=typeof e||e!=e||Math.floor(e)!==e||e<t||e>=u)throw new TypeError("string"==typeof e?`WriteError: string "${e}" is not a valid ${n}`:`WriteError: ${String(e)} is not a valid ${n}`)}function V(e,t,u){let n;n=t>=0||e?t:4294967296+t;const r=4294967296*n+(u>=0?u:4294967296+u);if(!D(e,t,u))throw new Error(`ReadError: integer exceeded 53 bits (${r})`);return r}function K(e,t){return V(!0,e,t)}function j(e,t){return V(!1,e,t)}function H(e,t,u){if(t>=u)return 0;const n=0|e[t];return 128==(192&n)?n:0}},3253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customError=n,t.supressQuotaExceededError=function(e){if(null==e||"QuotaExceededError"!==e.name)throw e;s=!0},t.hasSupressedQuotaExceededError=function(){return s},t.obtainErrorSummary=function(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))},t.WrappedError=t.UnimplementedMethod=t.HttpError=t.TimeoutError=t.AggregateError=void 0;const u=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function n(e,t=!0,n){function r(u){const n=Error.call(this,u);this.message=u,n.name=e,this.name=e,t&&(this.stack=n.stack)}return r.prototype=Object.create(n?n.prototype:u),r.prototype.constructor=r,r}class r extends(n("AggregateError",!0)){constructor(e,t){super(null!=t&&t.length>0?t:function(e){return 0===e.length?"No errors":1===e.length?e[0].message:e.map((e=>"- "+e.message)).join("\n")}(e)),this.errors=e}}t.AggregateError=r;class a extends(n("TimeoutError",!1)){}t.TimeoutError=a;class i extends(n("HttpError",!1)){constructor(e,t){super(e),this.code=t}}t.HttpError=i;class o extends(n("UnimplementedMethod")){}t.UnimplementedMethod=o;let s=!1;class l extends Error{constructor(e,t){super(e),this.inner=t}}t.WrappedError=l},8285:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShiftTimer=void 0;function u(e){if(!(e>=0))throw new Error("ShiftTimer must be given delay >= 0")}t.ShiftTimer=class{constructor(e){this._timer=0,this._rafId=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0,this._run=()=>{const e=this._arg,t=this._foo;this._rafId=0,this._timer=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0,t(e)},this.onOrBefore=(e,t)=>{u(e);const n=Date.now()+e,r=this._upperBound;if(0!==r&&r<n)return;const a=this._lowerBound;0!==a&&n<a||(this._upperBound=n,this._rafId||this._timer&&!(n<this.ts)||this._setDelay(n,e,t))},this.forceRunNow=e=>{this._timer&&clearTimeout(this._timer),this._rafId&&cancelAnimationFrame(this._rafId),this._arg=e,this._run()},this.cancel=()=>{this._timer&&clearTimeout(this._timer),this._rafId&&cancelAnimationFrame(this._rafId),this._timer=0,this._rafId=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0},this._foo=e}onOrBeforeRepaint(e){if(this._rafId)return;const t=Date.now(),u=this._lowerBound;if(0!==u&&t<u)return;const n=this._upperBound;(0===n||t<n)&&(this._upperBound=t),this._timer&&(clearTimeout(this._timer),this._timer=0),(!this.ts||this.ts>t)&&(this.ts=t),this._arg=e,this._rafId=requestAnimationFrame(this._run)}onOrAfter(e,t){u(e);const n=Date.now()+e,r=this._lowerBound;if(0!==r&&n<r)return;const a=this._upperBound;0!==a&&a<n||(this._lowerBound=n,(!this._timer||this.ts<n)&&this._setDelay(n,e,t))}debounce(e,t){u(e),this._debounce(Date.now(),e,t)}debounceAndCap(e,t,n){u(e),u(t);const r=Date.now(),a=r+t,i=this._lowerBound,o=this._upperBound;(0===i||i<=a)&&(0===o||a<o)&&(this._upperBound=a),this._debounce(r,e,n)}forceRunNowIfScheduled(){this._timer?(clearTimeout(this._timer),this._run()):this._rafId&&(cancelAnimationFrame(this._rafId),this._run())}isScheduled(){return 0!==this._timer||0!==this._rafId}_debounce(e,t,u){const n=e+t,r=this._lowerBound;if(0!==r&&n<r)return;const a=this.ts,i=this._upperBound;0!==i&&i<n?a<i&&this._setDelay(i,i-e,u):a<n&&this._setDelay(n,t,u)}_setDelay(e,t,u){if(this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=0),this._arg=u,this.ts=e,this._timer){const t=e-this._timerTs;if(-16<t&&t<16)return;clearTimeout(this._timer)}this._timer=setTimeout(this._run,t),this._timerTs=e}}},5048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToArrayBuffer=function(e){const t=new ArrayBuffer(e.length),u=new Uint8Array(t);let n,r;for(n=0,r=e.length;n<r;n++)u[n]=e.charCodeAt(n);return u.buffer},t.arrayBufferToString=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))},t.arrayBufferMod=function(e,t){const u=new Uint8Array(e);if(t>8388607)throw new Error("Divisor is too big");let n=0;for(let e=0;e<u.length;++e)n=((n<<8)+u[e])%t;return n},t.concatBuffers=function(e){const t=e.map((e=>new Uint8Array(e))),u=t.reduce(((e,t)=>e+t.byteLength),0),n=new Uint8Array(u);return t.reduce(((e,t)=>(n.set(t,e),e+t.byteLength)),0),n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)},t.arrayBuffersEqual=function(e,t){if(e.byteLength!==t.byteLength)return!1;const u=new Uint8Array(e),n=new Uint8Array(t);for(let t=0;t!==e.byteLength;t++)if(u[t]!==n[t])return!1;return!0}},4807:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=function(e,t,u=!1,n){let r=0;const a=[];for(;r<e.length;){const i=[];let o=0;for(;r<e.length;){const a=e[r],s=n?n(a):1;if(!(!u&&0===o||o+s<=t)){u&&s>t&&r++;break}o+=s,i.push(a),r++}i.length>0&&a.push(i)}return a}},2977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeB64=function(e){return n(e,43,47,!0)},t.encodeB64UrlSafe=function(e,t=!1){return n(e,45,95,t)},t.decodeB64=function(e){const t=a(e,43,47,61);if(t)return t.buffer;throw new Error("Base64.decode given invalid string")},t.decodeB64UrlSafe=function(e){const t=a(e,45,95,-1);if(t)return t.buffer;throw new Error("Base64.decode given invalid string")},t.decodeB64ToJsArray=function(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):a(e,43,47,61);return t&&Array.from(t)},t.sizeWhenB64Decoded=function(e){return Math.floor(3*e.length/4)},t.BASE64_DATA_URL_SCHEME=void 0;const u=3e3;function n(e,t,n,a){const i=Array.isArray(e)||e instanceof ArrayBuffer?new Uint8Array(e):e;if(i.length<=u)return r(i,t,n,a);{const e=[];for(let o=0;o<i.length;o+=u)e.push(r(i.subarray(o,o+u),t,n,a));return e.join("")}}function r(e,t,u,n){const r=Math.ceil(4*e.length/3),a=4*Math.ceil(e.length/3),i=new Array(a);for(let t=0,u=0;t<a;t+=4,u+=3){const n=e[u]<<16|e[u+1]<<8|e[u+2];i[t]=n>>18,i[t+1]=n>>12&63,i[t+2]=n>>6&63,i[t+3]=63&n}for(let e=0;e<r;e++){const n=i[e];i[e]=n<26?65+n:n<52?71+n:n<62?n-4:62===n?t:u}for(let e=r;e<a;e++)i[e]=61;const o=String.fromCharCode.apply(String,i);return n?o:o.substring(0,r)}function a(e,t,u,n){let r=e.length;const a=new Int32Array(r+r%4);for(let i=0;i<r;i++){const o=e.charCodeAt(i);if(65<=o&&o<=90)a[i]=o-65;else if(97<=o&&o<=122)a[i]=o-71;else if(48<=o&&o<=57)a[i]=o+4;else if(o===t)a[i]=62;else{if(o!==u){if(o===n){r=i;break}return null!=self.ERROR&&__LOG__(4,void 0,new Error)`Found unexpected character code while decoding B64 at index ${i}, length ${r}: ${o}`,null}a[i]=63}}const i=a.length/4;for(let e=0,t=0;e<i;e++,t+=4)a[e]=a[t]<<18|a[t+1]<<12|a[t+2]<<6|a[t+3];const o=Math.floor(3*r/4),s=new Uint8Array(o);let l=0,c=0;for(;c+3<=o;l++,c+=3){const e=a[l];s[c]=e>>16,s[c+1]=e>>8&255,s[c+2]=255&e}switch(o-c){case 2:s[c]=a[l]>>16,s[c+1]=a[l]>>8&255;break;case 1:s[c]=a[l]>>16}return s}t.BASE64_DATA_URL_SCHEME="data:image/jpeg;base64,"},6278:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;var n=u(8285);class r{constructor(e,t){this.key=e,this.value=t,this.prev=null,this.next=null}}t.LruCache=class{constructor(e){var t;this._keyToNode=new Map,this.purgeNow=()=>{for(let e=this._dummyTail.prev;this._currentSize>this._sizeLimit&&e!==this._dummyHead;e=e?e.prev:null){if(null==e)throw new Error("The linked list is not constructed properly.");const{key:t,value:u}=e;this._shouldEvict(t,u)&&(this.delete(t),this._onEvict&&this._onEvict(t,u))}this._onPurge&&this._onPurge(this._keyToNode)},this._sizeLimit=e.sizeLimit,this._getSize=e.getSize,this._onPurge=e.onPurge,this._shouldEvict=null!==(t=e.shouldEvict)&&void 0!==t?t:()=>!0,this._onEvict=e.onEvict,this._onAdd=e.onAdd,this._onDelete=e.onDelete,this._currentSize=0,this._dummyHead=new r("dummy-head",null),this._dummyTail=new r("dummy-tail",null),this._dummyHead.next=this._dummyTail,this._dummyTail.prev=this._dummyHead,this._purgeTimer=new n.ShiftTimer((()=>this.purgeNow()))}get(e){if(!this._keyToNode.has(e))return null;const t=this._keyToNode.get(e);if(null==t)return null;const u=t.prev,n=t.next;u&&(u.next=n),n&&(n.prev=u);const r=this._dummyHead.next;if(null==r)throw new Error("The linked list is not constructed properly.");return this._dummyHead.next=t,r.prev=t,t.prev=this._dummyHead,t.next=r,t.value}has(e){return this._keyToNode.has(e)}touch(e){this.get(e)}put(e,t){0!==this._sizeLimit&&(this._getSize(t)>this._sizeLimit?__LOG__(3)`Blob size is larger than the limit of the whole store.`:(this.delete(e),this._add(e,t),this.schedulePurge()))}_add(e,t){const u=new r(e,t);this._keyToNode.set(e,u);const n=this._dummyHead.next;if(null==n)throw new Error("The linked list is not constructed properly.");this._dummyHead.next=u,n.prev=u,u.prev=this._dummyHead,u.next=n,this._currentSize+=this._getSize(t),this._onAdd&&this._onAdd(e,t)}delete(e){if(!this._keyToNode.has(e))return;const t=this._keyToNode.get(e);if(null==t)return;this._currentSize-=this._getSize(t.value);const u=t.prev,n=t.next;u&&(u.next=n),n&&(n.prev=u),this._keyToNode.delete(e),this._onDelete&&this._onDelete(e,t.value)}clear(){this._keyToNode.clear(),this._currentSize=0,this._dummyHead.next=this._dummyTail,this._dummyTail.prev=this._dummyHead,this._onClear&&this._onClear()}schedulePurge(){this._purgeTimer.onOrBefore(1e3)}}},357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},7030:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomHex=function(e){const t=new Uint8Array(e);return self.crypto.getRandomValues(t),r(t)},t.toHex=r,t.toLowerCaseHex=function(e){const t=[];for(let u=0;u<e.length;u++){const r=e[u];t.push(n[r>>4],n[15&r])}return String.fromCharCode.apply(String,t)},t.parseHex=function(e){const t=i(e);if(t.length%2!=0)throw new Error(`parseHex given hex "${t}" which is not a multiple of 8-bits.`);const u=new Uint8Array(t.length>>1);for(let e=0,n=0;e<t.length;e+=2,n++)u[n]=a(t,e)<<4|a(t,e+1);return u.buffer},t.hexAt=a,t.hexOrThrow=i,t.bytesToBuffer=function(e){const t=e.buffer;return 0===e.byteOffset&&e.length===t.byteLength?t:t.slice(e.byteOffset,e.byteOffset+e.length)},t.bytesToDebugString=function(e){let t=!0,u=e.length;for(;t&&u;){const n=e[--u];t=32<=n&&n<127}return t?JSON.stringify(String.fromCharCode.apply(String,e)):r(e)},t.createHexLong=function(e,t=!1){const u=i(e);return function(e,t){if(e.length>t)throw new Error(`"${e}" is longer than ${4*t} bits.`)}(u,16),`${t?"-":""}0x${o(u,16)}`},t.createHexLongFrom32Bits=function(e,t,u=!1){const n=l(e),r=l(t);return`${u?"-":""}0x${n}${r}`},t.hexLongToHex=function(e){return e.substring(e.indexOf("0x")+2)},t.hexLongIsNegative=s,t.negateHexLong=function(e){return s(e)?e.slice(1):"-"+e},t.HEX_LOWER=t.NUM_HEX_IN_LONG=void 0;t.NUM_HEX_IN_LONG=16;const u=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],n=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102];function r(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(u[r>>4],u[15&r])}return String.fromCharCode.apply(String,t)}function a(e,t){const u=e.charCodeAt(t);return u<=57?u-48:u<=70?10+u-65:10+u-97}function i(e){if(/[^0-9a-fA-F]/.test(e))throw new Error(`"${e}" is not a valid hex`);return e}function o(e,t){const u=t-e.length;let n=e;for(let e=0;e<u;e++)n="0"+n;return n}function s(e){return"-"===e[0]}function l(e){if(e>4294967295||e<-4294967296)throw new Error("uint32ToLowerCaseHex given number over 32 bits");return o((e>=0?e:4294967296+e).toString(16),8)}t.HEX_LOWER=n},7900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t="?"){if(null==e)throw new Error(`Unexpected null or undefined: ${t}`);return e}},7148:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClockSkew=function(){return E},t.setClockSkew=function(e){E=e},t.toHttpHeaderDate=function(e){return F(e).toUTCString()},t.castToUnixTime=d,t.castLongIntToUnixTime=function(e){return"number"!=typeof e?(0,n.hexLongIsNegative)(e)?c:l:d(e)},t.isOverflowTime=function(e){return e<c||e>l},t.timeoutFor=function(e,t){const u=_(),n=Math.max(e+t-u,0);return Math.min(1e3*n,~(1<<31))},t.futureUnixTime=function(e,t){const u=null!=t?t:_();return d(Math.ceil(u+Math.max(e,0)))},t.pastUnixTime=function(e,t){const u=null!=t?t:_();return d(Math.ceil(u-Math.max(e,0)))},t.cappedMillisecondsUntil=f,t.delayUntil=function(e){const t=f(e);return new Promise((e=>{setTimeout(e,t)}))},t.unixTime=_,t.midnight=function(){return d((new Date).setHours(0,0,0,0)/1e3-E)},t.midnightOn=function(e){return d(F(e).setHours(0,0,0,0)/1e3-E)},t.unixTimeMs=function(){return Date.now()-1e3*E},t.secondsUntil=h,t.isInFuture=function(e){return h(e)>0},t.monotonicTime=A,t.monotonicTimeSince=S,t.oldest=function(e,t){return e<t?e:t},t.timeSince_USE_ONLY_IF_APPROVED=function(e){return Math.max(_()-e,0)},t.unskewedDate_USE_ONLY_IF_APPROVED=function(){return new Date},t.happenedWithinAt=p,t.happenedWithin=function(e,t){return p(_(),e,t)},t.toDate=F,t.sameDay=function(e,t){if(Math.abs(e-t)>a)return!1;const u=D.time===e?D.day:F(e+E).getDay(),n=D.time===t?D.day:F(t+E).getDay();return D.time=t,D.day=n,u===n},t.isWithinNext24h=function(e){return e-_()<=a},t.MonotonicTimer=t.MAX_INT=t.DUMMY_UNIXTIME=t.WEEK_MILLISECONDS=t.DAY_MILLISECONDS=t.HOUR_MILLISECONDS=t.MINUTE_MILLISECONDS=t.YEAR_SECONDS=t.WEEK_SECONDS=t.DAY_SECONDS=t.HOUR_SECONDS=void 0;var n=u(7030);const r=3600;t.HOUR_SECONDS=r;const a=86400;t.DAY_SECONDS=a;t.WEEK_SECONDS=604800;t.YEAR_SECONDS=31536e3;t.MINUTE_MILLISECONDS=6e4;const i=36e5;t.HOUR_MILLISECONDS=i;const o=864e5;t.DAY_MILLISECONDS=o;t.WEEK_MILLISECONDS=6048e5;const s=1<<31;t.DUMMY_UNIXTIME=s;const l=2147483647;t.MAX_INT=l;const c=-2147483647,D={time:0,day:-4};let E=0;function d(e){return Math.max(c,Math.min(0|e,l))}function f(e){const t=Math.max(e-_(),0);return Math.min(1e3*t,~(1<<31))}function _(){return d(Date.now()/1e3-E)}function h(e){return Math.max(e-_(),0)}function A(){return performance.now()}function S(e){return Math.floor(performance.now()-e)}function p(e,t,u){return Math.abs(e-t)<=u}function F(e){return new Date(1e3*e)}t.MonotonicTimer=class{constructor(){const e=A();this._initTime=e,this._startTime=e}reset(){this._startTime=A()}elapsed(){return S(this._startTime)}cumulative(){return S(this._initTime)}}},954:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPaymentWebStatus=function(e,t){if(null==e)return n.PaymentInfoStatus.UNKNOWN_STATUS;switch(e){case a.SEND_PAY_INIT:case a.SEND_PAY_PENDING:case a.RECV_PAY_INIT:case a.RECV_PAY_PENDING:case a.RECV_PAY_RETRY_ON_FAILURE:case a.REQUEST_PAY_INIT:return n.PaymentInfoStatus.PROCESSING;case a.SEND_PAY_PENDING_RECEIVER:case a.SEND_PAY_FAILURE_RECEIVER:return n.PaymentInfoStatus.SENT;case a.REQUEST_PAY_SUCCESS:return t===r.TYPE_P2P_REQ_SENT?n.PaymentInfoStatus.WAITING_FOR_PAYER:n.PaymentInfoStatus.WAITING;case a.RECV_PAY_PENDING_SETUP:return n.PaymentInfoStatus.NEED_TO_ACCEPT;case a.SEND_PAY_SUCCESS:case a.RECV_PAY_SUCCESS:case a.REQUEST_PAY_FULFILLED:return n.PaymentInfoStatus.COMPLETE;case a.SEND_PAY_FAILURE:case a.SEND_PAY_FAILURE_RISK:case a.SEND_PAY_PENDING_REFUND:case a.SEND_PAY_REFUND_PENDING:case a.SEND_PAY_REFUND_FAILED:case a.SEND_PAY_REFUND_FAILED_PROCESSING:case a.RECV_PAY_FAILURE:case a.REQUEST_PAY_FAILED:case a.REQUEST_PAY_FAILED_RISK:return n.PaymentInfoStatus.COULD_NOT_COMPLETE;case a.SEND_PAY_REFUNDED:return n.PaymentInfoStatus.REFUNDED;case a.RECV_PAY_EXPIRED:case a.REQUEST_PAY_EXPIRED:case a.SEND_PAY_AUTH_CANCELED:case a.SEND_PAY_AUTH_CANCEL_FAILED:case a.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:return n.PaymentInfoStatus.EXPIRED;case a.REQUEST_PAY_REJECTED:return n.PaymentInfoStatus.REJECTED;case a.REQUEST_PAY_CANCELLED:return n.PaymentInfoStatus.CANCELLED;case a.STATUS_UNSET:case a.REQUEST_PAY_CANCELLING:default:return n.PaymentInfoStatus.UNKNOWN_STATUS}},t.getNotificationTransactionStatus=function(e,t){if(!t)return a.STATUS_UNSET;const u=t.toUpperCase();switch(e){case r.TYPE_P2P_SENT:case r.TYPE_P2M_SENT:case r.TYPE_DEPOSIT:switch(u){case o.PENDING_RECEIVER_SETUP:return a.SEND_PAY_PENDING_RECEIVER;case o.FAILED_DA:return a.SEND_PAY_PENDING;case o.REFUND_FAILED_DA:return a.SEND_PAY_REFUND_PENDING;case o.FAILED_RISK:return a.SEND_PAY_FAILURE_RISK;case o.INITIAL:return a.SEND_PAY_INIT;case o.SUCCESS:case o.COMPLETED:return a.SEND_PAY_SUCCESS;case o.FAILURE:case o.FAILED:return a.SEND_PAY_FAILURE;case o.REFUNDED:return a.SEND_PAY_REFUNDED;case o.REFUND_FAILED:return a.SEND_PAY_REFUND_FAILED;case o.FAILED_RECEIVER_PROCESSING:return a.SEND_PAY_FAILURE_RECEIVER;case o.REFUND_FAILED_PROCESSING:return a.SEND_PAY_REFUND_FAILED_PROCESSING;case o.FAILED_DA_FINAL:return a.SEND_PAY_PENDING_REFUND;case o.AUTH_CANCEL_FAILED_PROCESSING:return a.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING;case o.AUTH_CANCEL_FAILED:return a.SEND_PAY_AUTH_CANCEL_FAILED;case o.AUTH_CANCELED:return a.SEND_PAY_AUTH_CANCELED;case o.EXPIRED:return a.SEND_PAY_EXPIRED;case o.IN_REVIEW:return a.SEND_PAY_IN_REVIEW;case o.PENDING:return a.SEND_PAY_PENDING_PROCESSING;case o.CANCELED:return a.SEND_PAY_USER_CANCELED}break;case r.TYPE_P2P_RCVD:case r.TYPE_P2M_RCVD:switch(u){case o.PENDING_SETUP:return a.RECV_PAY_PENDING_SETUP;case o.FAILED_DA:return a.RECV_PAY_PENDING;case o.FAILED_PROCESSING:return a.RECV_PAY_RETRY_ON_FAILURE;case o.SUCCESS:case o.COMPLETED:return a.RECV_PAY_SUCCESS;case o.FAILURE:case o.FAILED:return a.RECV_PAY_FAILURE;case o.EXPIRED:return a.RECV_PAY_EXPIRED;case o.FAILED_RISK:return a.RECV_PAY_FAILURE_RISK;case o.WITHDRAWAL_PROCESSING:return a.RECV_PAY_WITHDRAWAL_PROCESSING;case o.WITHDRAWAL_FAILURE:return a.RECV_PAY_WITHDRAWAL_FAILURE;case o.WITHDRAWAL_PERMANENT_FAILED:return a.RECV_PAY_WITHDRAWAL_PERMANENT_FAILED;case o.CANCELED:return a.RECV_PAY_SENDER_CANCELED}break;case r.TYPE_P2P_REQ_SENT:case r.TYPE_P2P_REQ_RCVD:switch(u){case o.COLLECT_SUCCESS:return a.REQUEST_PAY_SUCCESS;case o.COLLECT_FAILED:return a.REQUEST_PAY_FAILED;case o.COLLECT_FAILED_RISK:return a.REQUEST_PAY_FAILED_RISK;case o.COLLECT_REJECTED:return a.REQUEST_PAY_REJECTED;case o.COLLECT_EXPIRED:return a.REQUEST_PAY_EXPIRED;case o.COLLECT_CANCELED:return a.REQUEST_PAY_CANCELLED}break;case r.TYPE_P2P_REQ_SCHEDULED_PAYMENT_RCVD:switch(u){case o.COLLECT_SUCCESS:return a.REQUEST_PAY_SCHEDULED_PAYMENT_SUCCESS;case o.AUTH_SUCCESS:return a.SEND_PAY_AUTH_SUCCESS}break;case r.TYPE_REFUND:switch(u){case o.SUCCESS:case o.COMPLETED:return a.RECV_PAY_SUCCESS}break;case r.TYPE_WITHDRAWAL:switch(u){case o.PENDING:return a.WITHDRAWAL_PENDING;case o.IN_REVIEW:return a.WITHDRAWAL_IN_REVIEW;case o.SUCCESS:case o.COMPLETED:return a.WITHDRAWAL_SUCCESS;case o.FAILED:case o.DECLINED:return a.WITHDRAWAL_FAILED;case o.CANCELED:return a.WITHDRAWAL_USER_CANCELED;case o.EXPIRED:return a.WITHDRAWAL_EXPIRED;case o.WITHDRAWAL_ACTIVE:return a.WITHDRAWAL_ACTIVE}break;default:return a.STATUS_UNSET}return a.STATUS_UNSET},t.getPaymentTxnWebStatus=function(e){if(null==e)return n.PaymentInfoTxnStatus.UNKNOWN;switch(e){case a.RECV_PAY_EXPIRED:case a.SEND_PAY_EXPIRED:return n.PaymentInfoTxnStatus.EXPIRED_TXN;case a.RECV_PAY_FAILURE:case a.SEND_PAY_FAILURE:return n.PaymentInfoTxnStatus.FAILED;case a.RECV_PAY_INIT:case a.SEND_PAY_INIT:return n.PaymentInfoTxnStatus.INIT;case a.RECV_PAY_PENDING_SETUP:return n.PaymentInfoTxnStatus.PENDING_SETUP;case a.RECV_PAY_PENDING:case a.SEND_PAY_PENDING:return n.PaymentInfoTxnStatus.FAILED_DA;case a.RECV_PAY_RETRY_ON_FAILURE:return n.PaymentInfoTxnStatus.FAILED_PROCESSING;case a.RECV_PAY_SUCCESS:case a.SEND_PAY_SUCCESS:case a.REQUEST_PAY_FULFILLED:return n.PaymentInfoTxnStatus.SUCCESS;case a.REQUEST_PAY_CANCELLED:return n.PaymentInfoTxnStatus.COLLECT_CANCELED;case a.REQUEST_PAY_CANCELLING:return n.PaymentInfoTxnStatus.COLLECT_CANCELLING;case a.REQUEST_PAY_EXPIRED:return n.PaymentInfoTxnStatus.COLLECT_EXPIRED;case a.REQUEST_PAY_FAILED_RISK:return n.PaymentInfoTxnStatus.COLLECT_FAILED_RISK;case a.REQUEST_PAY_FAILED:return n.PaymentInfoTxnStatus.COLLECT_FAILED;case a.REQUEST_PAY_INIT:return n.PaymentInfoTxnStatus.COLLECT_INIT;case a.REQUEST_PAY_REJECTED:return n.PaymentInfoTxnStatus.COLLECT_REJECTED;case a.REQUEST_PAY_SUCCESS:return n.PaymentInfoTxnStatus.COLLECT_SUCCESS;case a.SEND_PAY_AUTH_CANCELED:return n.PaymentInfoTxnStatus.AUTH_CANCELED;case a.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:return n.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED_PROCESSING;case a.SEND_PAY_AUTH_CANCEL_FAILED:return n.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED;case a.SEND_PAY_FAILURE_RECEIVER:return n.PaymentInfoTxnStatus.FAILED_RECEIVER_PROCESSING;case a.SEND_PAY_FAILURE_RISK:case a.RECV_PAY_FAILURE_RISK:return n.PaymentInfoTxnStatus.FAILED_RISK;case a.SEND_PAY_PENDING_RECEIVER:return n.PaymentInfoTxnStatus.PENDING_RECEIVER_SETUP;case a.SEND_PAY_PENDING_REFUND:return n.PaymentInfoTxnStatus.FAILED_DA_FINAL;case a.SEND_PAY_REFUNDED:return n.PaymentInfoTxnStatus.REFUNDED_TXN;case a.SEND_PAY_REFUND_FAILED_PROCESSING:return n.PaymentInfoTxnStatus.REFUND_FAILED_PROCESSING;case a.SEND_PAY_REFUND_FAILED:return n.PaymentInfoTxnStatus.REFUND_FAILED;case a.SEND_PAY_REFUND_PENDING:return n.PaymentInfoTxnStatus.REFUND_FAILED_DA;case a.SEND_PAY_IN_REVIEW:return n.PaymentInfoTxnStatus.IN_REVIEW;case a.STATUS_UNSET:default:return n.PaymentInfoTxnStatus.UNKNOWN}},t.getPaymentTransactionType=function(e,t){if(e){const u=e.toLowerCase();switch(u){case i.TYPE_P2P:return t?r.TYPE_P2P_SENT:r.TYPE_P2P_RCVD;case i.TYPE_P2M:return t?r.TYPE_P2M_SENT:r.TYPE_P2M_RCVD;case i.TYPE_P2M_PAYOUT:return r.TYPE_P2M_PAYOUT;case i.TYPE_DEPOSIT:return r.TYPE_DEPOSIT;case i.TYPE_REFUND:return r.TYPE_REFUND;case i.TYPE_WITHDRAWAL:return r.TYPE_WITHDRAWAL;default:__LOG__(2)`parsePaymentTransactionType payment transaction string=${u}`}}return t?r.TYPE_P2P_SENT:r.TYPE_P2P_RCVD},t.determinePaymentRequestFulfilledStatus=function(e){if(t=e,t===n.PaymentInfoTxnStatus.COMPLETED||t===n.PaymentInfoTxnStatus.SUCCESS)return e;var t;return n.PaymentInfoTxnStatus.COLLECT_INIT},t.PaymentTransactionStatusServerString=t.PaymentTransactionTypeServerString=t.NotificationTransactionStatus=t.PaymentTransactionType=void 0;var n=u(8719);const r=u(4302)({TYPE_UNSET:0,TYPE_P2P_SENT:1,TYPE_P2P_RCVD:2,TYPE_P2P_GRP:3,TYPE_P2P_NO_INFO:4,TYPE_FUTURE:5,TYPE_P2P_REQ_SENT:10,TYPE_P2P_REQ_RCVD:20,TYPE_P2P_REQ_SCHEDULED_PAYMENT_RCVD:21,TYPE_P2P_REQ_GRP:30,TYPE_P2M_SENT:100,TYPE_P2M_RCVD:200,TYPE_P2M_PAYOUT:300,TYPE_MISSING_DETAILS:400,TYPE_DEPOSIT:500,TYPE_REFUND:600,TYPE_WITHDRAWAL:700});t.PaymentTransactionType=r;const a=u(4302)({STATUS_UNSET:0,REQUEST_PAY_INIT:11,REQUEST_PAY_SUCCESS:12,REQUEST_PAY_FAILED:13,REQUEST_PAY_FAILED_RISK:14,REQUEST_PAY_REJECTED:15,REQUEST_PAY_EXPIRED:16,REQUEST_PAY_FULFILLED:17,REQUEST_PAY_CANCELLED:18,REQUEST_PAY_CANCELLING:19,REQUEST_PAY_SCHEDULED_PAYMENT_SUCCESS:20,RECV_PAY_INIT:101,RECV_PAY_PENDING_SETUP:102,RECV_PAY_PENDING:103,RECV_PAY_RETRY_ON_FAILURE:104,RECV_PAY_FAILURE:105,RECV_PAY_SUCCESS:106,RECV_PAY_EXPIRED:107,RECV_PAY_FAILURE_RISK:108,RECV_PAY_WITHDRAWAL_PROCESSING:109,RECV_PAY_WITHDRAWAL_FAILURE:110,RECV_PAY_WITHDRAWAL_PERMANENT_FAILED:111,RECV_PAY_SENDER_CANCELED:112,SEND_PAY_INIT:401,SEND_PAY_PENDING_RECEIVER:402,SEND_PAY_PENDING:403,SEND_PAY_REFUND_PENDING:404,SEND_PAY_SUCCESS:405,SEND_PAY_FAILURE:406,SEND_PAY_FAILURE_RISK:407,SEND_PAY_REFUNDED:408,SEND_PAY_REFUND_FAILED:409,SEND_PAY_FAILURE_RECEIVER:410,SEND_PAY_REFUND_FAILED_PROCESSING:411,SEND_PAY_PENDING_REFUND:412,SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:413,SEND_PAY_AUTH_CANCEL_FAILED:414,SEND_PAY_AUTH_CANCELED:415,SEND_PAY_EXPIRED:416,SEND_PAY_AUTH_SUCCESS:417,SEND_PAY_AUTH_SUCCESS_CANCELING:418,SEND_PAY_IN_REVIEW:419,SEND_PAY_PENDING_PROCESSING:420,SEND_PAY_USER_CANCELED:421,WITHDRAWAL_INIT:601,WITHDRAWAL_PENDING:602,WITHDRAWAL_IN_REVIEW:603,WITHDRAWAL_SUCCESS:604,WITHDRAWAL_FAILED:605,WITHDRAWAL_USER_CANCELED:606,WITHDRAWAL_EXPIRED:607,WITHDRAWAL_ACTIVE:608});t.NotificationTransactionStatus=a;const i={TYPE_P2P:"p2p",TYPE_P2M:"p2m",TYPE_P2M_PAYOUT:"payout",TYPE_WITHDRAWAL:"withdrawal",TYPE_DEPOSIT:"deposit",TYPE_REFUND:"refund"};t.PaymentTransactionTypeServerString=i;const o={PENDING_RECEIVER_SETUP:"PENDING_RECEIVER_SETUP",PENDING_SETUP:"PENDING_SETUP",PENDING:"PENDING",INITIAL:"INITIAL",SUCCESS:"SUCCESS",COMPLETED:"COMPLETED",IN_REVIEW:"IN_REVIEW",FAILED:"FAILED",DECLINED:"DECLINED",FAILURE:"FAILURE",FAILED_RISK:"FAILED_RISK",FAILED_PROCESSING:"FAILED_PROCESSING",FAILED_RECEIVER_PROCESSING:"FAILED_RECEIVER_PROCESSING",REFUND_FAILED_PROCESSING:"REFUND_FAILED_PROCESSING",REFUNDED:"REFUNDED",REFUND_FAILED:"REFUND_FAILED",EXPIRED:"EXPIRED",CANCELED:"CANCELLED",AUTH_SUCCESS:"AUTH_SUCCESS",AUTH_CANCELED:"AUTH_CANCELED",AUTH_CANCEL_FAILED_PROCESSING:"AUTH_CANCEL_FAILED_PROCESSING",AUTH_CANCEL_FAILED:"AUTH_CANCEL_FAILED",COLLECT_SUCCESS:"COLLECT_SUCCESS",COLLECT_FAILED:"COLLECT_FAILED",COLLECT_REJECTED:"COLLECT_REJECTED",COLLECT_EXPIRED:"COLLECT_EXPIRED",COLLECT_CANCELED:"COLLECT_CANCELED",FAILED_DA:"FAILED_DA",FAILED_DA_FINAL:"FAILED_DA_FINAL",REFUND_FAILED_DA:"REFUND_FAILED_DA",COLLECT_FAILED_RISK:"COLLECT_FAILED_RISK",WITHDRAWAL_PROCESSING:"WITHDRAWAL_PROCESSING",WITHDRAWAL_FAILURE:"WITHDRAWAL_FAILURE",WITHDRAWAL_PERMANENT_FAILED:"WITHDRAWAL_PERMANENT_FAILED",WITHDRAWAL_ACTIVE:"WITHDRAWAL_ACTIVE"};t.PaymentTransactionStatusServerString=o},7540:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncDataType=t.ConflictResolutionState=t.SyncModelType=t.SyncActionState=t.CollectionSyncState=t.CollectionState=t.CollectionName=t.Actions=t.LABEL_ASSOCIATION_SYNC_VERSION=t.DEFAULT_COLLECTION_VERSION=t.MAX_PATCH_SIZE=t.MIN_PATCH_SIZE=t.MAX_INLINE_MUTATIONS=t.MIN_INLINE_MUTATIONS=t.FINITE_FAILURE_EXPIRY_DURATION=t.BACKOFF_BASE=t.BACKOFF_MAX_TIMEOUT=t.BACKOFF_MIN_TIMEOUT=void 0;t.BACKOFF_MIN_TIMEOUT=1e3;t.BACKOFF_MAX_TIMEOUT=36e5;t.BACKOFF_BASE=2;t.FINITE_FAILURE_EXPIRY_DURATION=6048e5;t.MIN_INLINE_MUTATIONS=100;t.MAX_INLINE_MUTATIONS=2e3;t.MIN_PATCH_SIZE=10;t.MAX_PATCH_SIZE=100;t.DEFAULT_COLLECTION_VERSION=0;t.LABEL_ASSOCIATION_SYNC_VERSION=3;const n=u(4302)({Star:"star",Contact:"contact",Mute:"mute",PinDEPRECATED:"pin",Pin:"pin_v1",SettingPushName:"setting_pushName",LabelEdit:"label_edit",LabelMessage:"label_message",LabelJid:"label_jid",QuickReply:"quick_reply",LocaleSetting:"setting_locale",Archive:"archive",MarkChatAsRead:"markChatAsRead",ClearChat:"clearChat",DeleteMessageForMe:"deleteMessageForMe",Sentinel:"sentinel",UnarchiveChatsSetting:"setting_unarchiveChats",DeleteChat:"deleteChat",AndroidUnsupportedActions:"android_unsupported_actions"});t.Actions=n;const r=u(4302)({Regular:"regular",RegularLow:"regular_low",RegularHigh:"regular_high",CriticalBlock:"critical_block",CriticalUnblockLow:"critical_unblock_low"});t.CollectionName=r;const a=u(4302).Mirrored(["Success","SuccessHasMore","Conflict","ConflictHasMore","ErrorRetry","ErrorFatal","Blocked"]);t.CollectionState=a;const i=u(4302).Mirrored(["UpToDate","Dirty","FailingFiniteRetry","Fatal","Blocked"]);t.CollectionSyncState=i;const o=u(4302).Mirrored(["Success","Malformed","Orphan","Unsupported","Skipped","Failed"]);t.SyncActionState=o;const s=u(4302).Mirrored(["Msg","Chat"]);t.SyncModelType=s;const l=u(4302).Mirrored(["ApplyRemoteAndDropLocal","SkipRemote","SkipRemoteAndDropLocal"]);t.ConflictResolutionState=l;const c=u(4302).Mirrored(["Patch","Snapshot"]);t.SyncDataType=c},989:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(2498),a=u(536),i=n(u(7900)),o=n(u(1143));var s=new class{init(){return this._port=null,this._deferred=new r.Resolvable,(0,a.promiseTimeout)(this._deferred.promise,5e3)}isConnected(){return null!=this._port}getPort(){return this._port}waitForConnection(){var e;return(0,i.default)(null===(e=this._deferred)||void 0===e?void 0:e.promise,"ConnectionManager Initialization Promise")}connectVia(e){if(this.isConnected())throw new Error("Connection already established");(0,o.default)(this._deferred,"ConnectionManager not initialized"),this._port=e,this._deferred.resolve()}};t.default=s},7948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={isLogoutInProgress:!1}},793:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(8926)),a=n(u(7900)),i=n(u(1143)),o=u(1771),s=u(3570),l=u(1989);var c=new class{constructor(){this._pending=new Map,this._onResponseReceipt=e=>{const t=(0,l.unwrapResponsePayload)(e.data);if(null!=t){const{invocationId:e,result:u}=t;if(this._pending.has(e)){const{resolve:t}=(0,a.default)(this._pending.get(e),"this._pending.get(invocationId)");t(u),this._pending.delete(e)}}}}setConnectionManager(e){this._conn=e,e.waitForConnection().then((()=>{const t=(0,a.default)(e.getPort(),"Port obtained from ConnectionManager after connection");t.addEventListener("message",this._onResponseReceipt),t.start()}))}invoke(e,t){var u=this;return(0,r.default)((function*(){(0,i.default)(u._conn,"Connection has not been inited"),yield u._conn.waitForConnection(),(0,i.default)(u._conn,"Connection has not been inited");const n=(0,a.default)(u._conn.getPort(),"Port obtained from ConnectionManager after connection"),r=(0,s.genInvocationId)();return n.postMessage((0,o.buildInvocationPayload)({invocationId:r,method:e,args:t})),new Promise(((e,t)=>{u._pending.set(r,{resolve:e,reject:t})}))}))()}};t.default=c},2503:(e,t,u)=>{"use strict";var n=u(862);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(1771),a=n(u(6489)),i=u(1989);var o=new class{constructor(){this._onMessage=(e,t)=>{const u=t.data,n=(0,r.unwrapInvocationPayload)(u);if(null!=n){const{method:t,args:u,invocationId:r}=n;a.get()[t](...u).then((t=>{e.postMessage((0,i.buildResponsePayload)(r,t))}))}}}respondTo(e){e.addEventListener("message",(t=>this._onMessage(e,t))),e.start()}};t.default=o},3570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genInvocationId=function(){return u++},t.extractInvocationId=function(e){if(null!=e&&"number"==typeof e)return e};let u=1},6489:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e){i=e},t.get=o,t.sendLogs=function(e){return o().sendLogs(e)},t.log=void 0;var r=n(u(7900)),a=n(u(3846));let i;function o(){return(0,r.default)(i,"InvocationInterface was not inited")}const s=(0,n(u(9058)).default)(((e,t=!1,u,n,r)=>(i,...s)=>{const l=(0,a.default)(i,s,!t);let c;return u&&(c={name:u.name,stack:u.stack}),o().logImpl(e,l,c,n,r),l}),((e,t,u,n,r)=>u||r?null:String(e)+String(Boolean(t))+String(Boolean(n))));t.log=s},3222:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildHandshakePayload=function(e){return{__command:a.HANDSHAKE_COMMAND,__port:e}},t.extractPortFromHandshakePayload=function(e){if(null!=e&&null!=e.__command&&e.__command===a.HANDSHAKE_COMMAND&&null!=e.__port){(0,r.default)(e.__port instanceof MessagePort,"Malformed connection payload");return e.__port}};var r=n(u(1143)),a=u(6803)},1771:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildInvocationPayload=function({invocationId:e,method:t,args:u}){return{__id:e,__command:i.INVOCATION_COMMAND,__method:t,__args:u}},t.unwrapInvocationPayload=function(e){if(null!=e&&e.__command===i.INVOCATION_COMMAND){(0,r.default)(e.__id,"Invocation ID missing");const t=(0,a.extractInvocationId)(e.__id);(0,r.default)(null!=t&&e.__method&&"string"==typeof e.__method&&e.__id&&e.__args&&Array.isArray(e.__args),"Malformed invocation message");const u=e,n=u.__method,i=u.__args;return{method:n,args:i,invocationId:t}}};var r=n(u(1143)),a=u(3570),i=u(6803)},1989:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildResponsePayload=function(e,t){return{__id:e,__command:i.RESPONSE_COMMAND,__result:t}},t.unwrapResponsePayload=function(e){if(null!=e&&e.__command===i.RESPONSE_COMMAND){(0,r.default)(null!=e.__id,"Invocation ID missing");const t=(0,a.extractInvocationId)(e.__id);(0,r.default)(null!=t&&e.hasOwnProperty("__result"),"Malformed response message");return{result:e.__result,invocationId:t}}};var r=n(u(1143)),a=u(3570),i=u(6803)},6803:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESPONSE_COMMAND=t.INVOCATION_COMMAND=t.HANDSHAKE_COMMAND=void 0;t.HANDSHAKE_COMMAND="@@handshake";t.INVOCATION_COMMAND="@@invoke";t.RESPONSE_COMMAND="@@response"},742:(e,t,u)=>{"use strict";var n=u(862),r=u(5318);t.Z=function(){d||((0,i.default)("undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope,"Connect can only be called in WebWorker scope"),self.addEventListener("message",_),d=Promise.resolve(o.default.init()),c.default.setConnectionManager(o.default),E.set(s.default));return(0,a.default)(d,"connection")};var a=r(u(7900)),i=r(u(1143)),o=r(u(989)),s=r(u(5580)),l=u(3222),c=r(u(793)),D=r(u(2503)),E=n(u(6489));let d;const f=[];function _(e){const t=e.data;if(!o.default.isConnected()){const u=(0,l.extractPortFromHandshakePayload)(t);if(null!=u)return o.default.connectVia(u),e.stopImmediatePropagation(),D.default.respondTo(u),void(0,a.default)(d,"connection").then((()=>{(0,i.default)("undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope,"Connect can only be called in WebWorker scope"),self.removeEventListener("message",_),f.forEach((e=>{self.dispatchEvent(e)}))}))}f.push(e)}},5580:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(7948)),a=u(4609),i=n(u(793));let o=null;o=u(6120).default;var s={whoAmI:()=>i.default.invoke("whoAmI",[]),logImpl:(e,t,u,n,r)=>i.default.invoke("logImpl",[e,t,u,n,r]),initFromStorage:()=>(0,a.init)(),setLogoutState:e=>(r.default.isLogoutInProgress=e,Promise.resolve()),sendLogs:e=>i.default.invoke("sendLogs",[e]),deleteDbEncKeyCache(){var e;return Promise.resolve(null===(e=o)||void 0===e?void 0:e.deleteKeyCache())},initDatabaseEncnKey:e=>o?o.init(e):Promise.resolve(),generateFinalDbEncryptionAndFtsKey:e=>o?o.generateFinalDbEncryptionAndFtsKey(e):Promise.resolve()};t.default=s},1430:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u={ARCHIVE_NUX_MAX_VIEWS:3,IMG_THUMB_MAX_EDGE:100,DOC_THUMB_MAX_EDGE:480,VIDEO_THUMB_MAX_EDGE:480,MAX_PORTRAIT_MEDIA_CAPTION_LENGTH:500,MAX_FILES:30,STICKER_DIMENSION:512,STICKER_BORDER_WIDTH:8,STICKER_PADDING:16,STICKER_LIST_ITEM_HEIGHT:118,MMS_THUMBNAIL_UPLOAD_TIMEOUT:3e3,FREQUENTLY_FORWARDED_SENTINEL:127,MAX_SMB_LABEL_COUNT:20,DEFAULT_SMB__NEW_LABEL_COLOR:"#d6d7d7",FB_CLB_TOKEN:"1063127757113399|745146ffa34413f9dbb5469f5370b7af",FB_CLB_CHECK_URL:"https://crashlogs.whatsapp.net/wa_fls_upload_check",FB_CLB_URL:"https://crashlogs.whatsapp.net/wa_clb_data",FAKE_USER_AGENT:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",G_MAPS_DIR_URL:"https://maps.google.com/maps/dir",G_MAPS_IMG_URL:"https://maps.googleapis.com/maps/api/staticmap",G_MAPS_SEARCH_URL:"https://maps.google.com/maps/search",G_MAPS_URL:"https://maps.google.com/maps",G_MAPS_DARK_MODE_STYLE:"style=element:geometry%7Ccolor:0x212121&style=element:labels.icon%7Cvisibility:off&style=element:labels.text.fill%7Ccolor:0x757575&style=element:labels.text.stroke%7Ccolor:0x212121&style=feature:administrative%7Celement:geometry%7Ccolor:0x757575&style=feature:administrative.country%7Celement:labels.text.fill%7Ccolor:0x9e9e9e&style=feature:administrative.land_parcel%7Cvisibility:off&style=feature:administrative.locality%7Celement:labels.text.fill%7Ccolor:0xbdbdbd&style=feature:poi%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:poi.park%7Celement:geometry%7Ccolor:0x181818&style=feature:poi.park%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:poi.park%7Celement:labels.text.stroke%7Ccolor:0x1b1b1b&style=feature:road%7Celement:geometry.fill%7Ccolor:0x2c2c2c&style=feature:road%7Celement:labels.text.fill%7Ccolor:0x8a8a8a&style=feature:road.arterial%7Celement:geometry%7Ccolor:0x373737&style=feature:road.highway%7Celement:geometry%7Ccolor:0x3c3c3c&style=feature:road.highway.controlled_access%7Celement:geometry%7Ccolor:0x4e4e4e&style=feature:road.local%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:transit%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:water%7Celement:geometry%7Ccolor:0x000000&style=feature:water%7Celement:labels.text.fill%7Ccolor:0x3d3d3d",FB_LEGAL_TERMS_URL:"https://www.facebook.com/legal/terms",FB_COMMERCE_POLICY_URL:"https://www.facebook.com/policies/commerce",WA_COMMERCE_POLICY_URL:"https://www.whatsapp.com/policies/commerce-policy",NOTIFICATION_PROMPT_DELAY:1e4,PTT_PLAYBACK_DELAY:400,NOTIFICATION_TIMEOUT:5e3,CALL_NOTIFICATION_TIMEOUT:45e3,MAX_TCTOKEN_TTL_IN_SECONDS:15552e3,IDLE_TIMEOUT:6e4,IDLE_TIMEOUT_WAIT:78e4,SEARCH_ZOOM:17,SEND_UNAVAILABLE_WAIT:15e3,SEND_PAUSED_WAIT:2500,CLEAR_CHAT_DIRTY_WAIT:2500,LOG_UPLOAD_INTERVAL:36e5,REVOKE_WINDOW:4096,ALBUM_DIFF_INTERVAL:600,MAX_TXT_MSG_SIZE:65536,INITIAL_PAGE_SIZE:768,FREQUENTLY_FORWARDED_INITIAL_PAGE_SIZE:308,SUBSEQUENT_PAGE_SIZE:3072,OVERFLOWING_PAGE_THRESHOLD:.1,GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:100,BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:200,GROUP_DESCRIPTION_LENGTH:0,INFO_DRAWER_MAX_ROWS:10,INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST:11,NUM_COLORS:20,FTS_MIN_CHARS:2,FTS_TTL:6e4,FTS_TYPING_DELAY:300,FTS_NUM_RESULTS:30,HSM_ASPECT_RATIO:1.91,TEMPLATE_DOC_MIME_TYPES:1,TEMPLATE_URL_START:64,TEMPLATE_URL_END:32,KEY_STORAGE_TEST:"storage_test",KEY_CLIENT_TOKEN:"WAToken1",KEY_SERVER_TOKEN:"WAToken2",KEY_SECRET:"WASecretKey",KEY_SECRET_BUNDLE:"WASecretBundle",KEY_SECURITY_NOTIFICATIONS:"WASecurityNotifications",KEY_BROWSER_ID:"WABrowserId",KEY_GEOCODER_LOCATION:"WAGeocoderLocation",KEY_GROUP_ASSIGNED_COLOR:"WAGroupAssignedColor",KEY_GMAPS_OVER_LIMIT:"WAGmapsOverLimit",KEY_GLOBAL_MUTE_SOUNDS:"WAGlobalSounds",KEY_GLOBAL_MUTE_CALL_RINGTONE:"WAGlobalCallRingtone",KEY_OUTGOING_MESSAGE_SOUND:"WAOutgoingMessageSound",KEY_GLOBAL_MUTE_NOTIFICATIONS:"WAGlobalNotifications",KEY_GLOBAL_MUTE_IN_APP_NOTIFICATIONS:"WAGlobalInAppNotifications",KEY_GLOBAL_MUTE_PREVIEWS:"WAGlobalPreviews",KEY_GLOBAL_COLLAPSE_MUTED:"WAGlobalCollapseMuted",KEY_NOTIFICATION_SOUND:"WANotificationSound",KEY_AUTO_DOWNLOAD_PHOTOS:"WAAutoDownloadPhotos",KEY_AUTO_DOWNLOAD_AUDIO:"WAAutoDownloadAudio",KEY_AUTO_DOWNLOAD_VIDEOS:"WAAutoDownloadVideos",KEY_AUTO_DOWNLOAD_DOCUMENTS:"WAAutoDownloadDocuments",KEY_LANG:"WALangPref",KEY_LAST_ACTIVE_EMOJI_TAB:"WALastActiveEmojiTab",KEY_LAST_SELECTED_COMPOSE_BOX_PANEL:"WALastActiveComposeBoxPanel",KEY_LAST_CHAT_MUTE_DURATION:"WALastChatMuteDuration",KEY_UNKNOWN_ID:"WAUnknownID",KEY_VERSION:"WAVersion",KEY_LOAD_RETRY_GENERATION:"WALoadRetryGeneration",KEY_WHATSAPP_MUTEX:"whatsapp-mutex",KEY_LAST_WID:"last-wid",KEY_LAST_WID_MD:"last-wid-md",KEY_SAVE_TO_CAMERA_ROLL:"save_to_camera_roll",KEY_SMB_LABEL_COLOR_PALETTE:"smb_label_color_palette",KEY_LAST_PUSHNAME:"last-pushname",KEY_PROTO_VERSION:"WAProtoVersion",KEY_PTT_PLAYBACK_RATE:"WAPttPlaybackRate",KEY_LOGOUT_DIRTY_BIT:"post-logout",KEY_UNREAD_MENTION_COUNT_ENABLED:"WAUnreadMentionCountEnabled",KEY_NEW_CHAT_INFO:"WANewChatInfo",KEY_DAILY_STATS_START_TIME:"WADailyStatsStartTime",KEY_TOS_STATE_FETCH_ITERATION:"ToSStateFetchIteration",KEY_LOG_PREEMPT_CLEAN_UP:"WALogPreemptiveCleanUp",KEY_PRESERVED_USER_KEYS:"preserved_user_keys",KEY_EMOJI_VARIANT_COLLECTION:"emoji_variant_collection",KEY_RECENT_EMOJI_COLLECTION:"recent_emoji_collection",KEY_CHAT_PREFERENCE_COLLECTION:"chat_preference",LAST_STATUS_USAGE:"last-status-usage",KEY_MD_OPTED_IN:"md-opted-in",KEY_SHOW_MD_UPGRADE_COMPLETE_MSG:"show-md-upgrade-complete-msg",KEY_FORCED_MD_UPGRADE_COMPLETE:"forced-md-upgrade-complete",KEY_MOBILE_PLATFORM:"mobile-platform",KEY_REMEMBER_ME:"remember-me",KEY_LOGOUT_TOKEN:"logout-token",KEY_OLD_LOGOUT_CREDS:"old-logout-cred",KEY_NO_TAKEOVER:"no-takeover",KEY_WHATSAPP_LS_VERSION:"ver",KEY_WAM_BUFFER:"wam-buffer",KEY_WAM_INFO:"wam-info",KEY_TIME_SPENT_EVENT:"WaTimeSpentEvent",KEY_VIDEO_VOLUME:"video-volume",KEY_VIDEO_MUTE:"video-mute",KEY_CONTACT_CHECKSUM:"contact-checksum",KEY_USER_PRIVACY_SETTINGS:"user-privacy-settings",KEY_IS_SMB:"is-smb",KEY_COMPOSE_CONTENTS_PREFIX:"compose-contents_",KEY_THEME:"theme",KEY_SYSTEM_THEME_MODE:"system-theme-mode",KEY_ABPROPS:"abprops",KEY_HISTORY_SYNC_EARLIEST_DATE:"history-sync-earliest-date",KEY_SYNCD_DISABLED_DUE_TO_FATAL:"syncd_disabled_due_to_fatal",KEY_SYNCD_FIRST_CLEAR_OR_DELETE:"syncd-first-clear-or-delete",KEY_CONTACT_SYNC_REFRESH:"contact-sync-refresh-seconds",KEY_TOS_3:"TOS_STATE_20210210",COOKIE_REF:"ref",COOKIE_TOK:"tok",PAGE_SIZE:50,MSG_PRELOAD_THRESHOLD:20,MEDIA_QUERY_LIMIT:50,MIN_PIC_SIDE:192,MAX_PIC_SIDE:640,PROF_PIC_THUMB_SIDE:96,MAX_CAPTION_LENGTH:1024,REACTION_CONTENT_MAX_LENGTH:30,MAX_CART_MESSAGE_LENGTH:1024,MAX_PRODUCT_SUBTITLE_LENGTH:70,MAX_REPLY_PRODUCT_TITLE_LENGTH:40,MAX_REPLY_PRODUCT_DESC_LENGTH:95,ALBUM_MIN_SIZE:4,ALBUM_MAX_SIZE:102,ALBUM_MAX_HEIGHT:168,ALBUM_PADDING:3,PRESENCE_COMPOSING_TIMEOUT:25e3,PRESENCE_RESEND_WAIT:1e4,MIMETYPE_OGG:"audio/ogg",IMAGE_MIMES:"image/*",WEBP_MIMES:"image/webp",VIDEO_MIMES:"video/mp4,video/3gpp,video/quicktime",KEY_LOG_CURSOR:"debugCursor",MAX_STATUS_LENGTH:139,MAX_PUSHNAME_LENGTH:25,DISP_TYPE:{CONVERSATION:"CONVERSATION",MSG_INFO:"MSG_INFO",STARRED_MSGS:"STARRED_MSGS",GALLERY:"GALLERY",REPLY_STAGE:"REPLY_STAGE",QUOTED_MSG:"QUOTED_MSG",CONTACT_CARD:"CONTACT_CARD",ORDER:"ORDER"},SEND_LOGS_MAX_EMAIL_LENGTH:320,SEND_LOGS_MAX_SUBJECT_LENGTH:50,SEND_LOGS_MIN_DESC_LENGTH:10,SEND_LOGS_MAX_DESC_LENGTH:500,SEND_LOGS_MAX_SCREENSHOTS:3,SEND_LOGS_MAX_SCREENSHOT_SIZE:10485760,CONTACT_US_MIN_DESC_LENGTH:10,CONTACT_US_MAX_DESC_LENGTH:5e3,ACK:{MD_DOWNGRADE:-7,INACTIVE:-6,CONTENT_UNUPLOADABLE:-5,CONTENT_TOO_BIG:-4,CONTENT_GONE:-3,EXPIRED:-2,FAILED:-1,CLOCK:0,SENT:1,RECEIVED:2,READ:3,PLAYED:4,PEER:5},ACK_STRING:{SENDER:"sender",DELIVERY:"delivery",READ:"read",PLAYED:"played",INACTIVE:"inactive",READ_SELF:"read-self",PLAYED_SELF:"played-self"},RETRY:{VALIDATE_OLD_SESSION:2,MAX_RETRY:5},KEY_BUNDLE_TYPE:"",EDIT_ATTR:{REVOKE:7},DEVICE:{PRIMARY_DEVICE:0,PRIMARY_VERSION:0},BATTERY_LOW_THRESHOLD_1:15,BATTERY_LOW_THRESHOLD_2:5,BATTERY_DELAY:1e4,SOCKET_STATE:{OPENING:"OPENING",PAIRING:"PAIRING",UNPAIRED:"UNPAIRED",UNPAIRED_IDLE:"UNPAIRED_IDLE",CONNECTED:"CONNECTED",TIMEOUT:"TIMEOUT",CONFLICT:"CONFLICT",UNLAUNCHED:"UNLAUNCHED",PROXYBLOCK:"PROXYBLOCK",TOS_BLOCK:"TOS_BLOCK",SMB_TOS_BLOCK:"SMB_TOS_BLOCK",DEPRECATED_VERSION:"DEPRECATED_VERSION"},SOCKET_STREAM:{DISCONNECTED:"DISCONNECTED",SYNCING:"SYNCING",RESUMING:"RESUMING",CONNECTED:"CONNECTED"},COLLECTION_HAS_SYNCED:"collection_has_synced",NEW_MSG_SENT:"new_msg_sent",DIAGNOSTIC_DELAY:18e3,ONE_BY_ONE_TRANS_GIF:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",DEFAULT_CHAT_WALLPAPER:"default_chat_wallpaper",L10N_PRIORITY:{SAVED:6,PHONE:5,PREVIOUS:4,URL:3,BROWSER:2,DEFAULT:1},RENDER_CURSOR:{RECENT_AT_TOP:"recent_at_top",RECENT_AT_BOTTOM:"recent_at_bottom",CONVERSATION:"conversation",GROUP_CONVERSATION:"group_conversation",STARRED_DRAWER:"starred_drawer"},SECURITY_LINK:"https://www.whatsapp.com/security/",SMB_TOS_LEARN_MORE_LINK:"https://www.whatsapp.com/legal/small-business-terms/",SERVER_WID:"server@c.us",PSA_WID:"0@c.us",STATUS_WID:"status@broadcast",OFFICIAL_BIZ_WID:"16505361212@c.us",VISIBILITY:{ABOVE:"above",VISIBLE:"visible",BELOW:"below"},VIDEO_STREAM_URL:"/stream/video",SPELL_CHECK_SKIP_WORDS:{en_us:new Set(["ain","couldn","didn","doesn","hadn","hasn","mightn","mustn","needn","oughtn","shan","shouldn","wasn","weren","wouldn","Ain","Couldn","Didn","Doesn","Hadn","Hasn","Mightn","Mustn","Needn","Oughtn","Shan","Shouldn","Wasn","Weren","Wouldn"]),en_gb:new Set(["ain","couldn","didn","doesn","hadn","hasn","mightn","mustn","needn","oughtn","shan","shouldn","wasn","weren","wouldn","Ain","Couldn","Didn","Doesn","Hadn","Hasn","Mightn","Mustn","Needn","Oughtn","Shan","Shouldn","Wasn","Weren","Wouldn"]),en:new Set(["ain","couldn","didn","doesn","hadn","hasn","mightn","mustn","needn","oughtn","shan","shouldn","wasn","weren","wouldn","Ain","Couldn","Didn","Doesn","Hadn","Hasn","Mightn","Mustn","Needn","Oughtn","Shan","Shouldn","Wasn","Weren","Wouldn"])},GROUP_INVITE_LINK_URL:"https://chat.whatsapp.com/",GROUP_SETTING_TYPE:{ANNOUNCEMENT:"announcement",RESTRICT:"restrict",NO_FREQUENTLY_FORWARDED:"no_frequently_forwarded",EPHEMERAL:"ephemeral"},GROUP_SETTING_TO_METADATA:{announcement:"announce",restrict:"restrict",no_frequently_forwarded:"noFrequentlyForwarded",ephemeral:"ephemeralDuration"},L10N:{DEFAULT:"en",MOMENT_DEFAULT:"en-US"},EMOJI:{BUCKET_SIZE:25,CATEGORIES:{SMILEYS_PEOPLE:"SMILEYS_PEOPLE",ANIMALS_NATURE:"ANIMALS_NATURE",FOOD_DRINK:"FOOD_DRINK",ACTIVITY:"ACTIVITY",TRAVEL_PLACES:"TRAVEL_PLACES",OBJECTS:"OBJECTS",SYMBOLS:"SYMBOLS",FLAGS:"FLAGS"},CATEGORY_MAPPING:{"Smileys & People":"SMILEYS_PEOPLE","Animals & Nature":"ANIMALS_NATURE","Food & Drink":"FOOD_DRINK",Activity:"ACTIVITY","Travel & Places":"TRAVEL_PLACES",Objects:"OBJECTS",Symbols:"SYMBOLS",Flags:"FLAGS"},ORDERED_CATEGORY_IDS:["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS"],EMOJI_TYPE:{APPLE:"APPLE",WHATSAPP:"WHATSAPP"},LARGE_EMOJI_BASE_PATH:"/img",LARGE_EMOJI_ELECTRON_BASE_PATH:"img",EMOJI_SPRITES_BASE_PATH:"/img",EMOJI_SPRITES_ELECTRON_BASE_PATH:"img"},SYSTEM_MESSAGE_TYPES:["notification","notification_template","group_notification","gp2","broadcast_notification","e2e_notification","call_log","protocol"],MSG_TYPE:{NOTIFICATION:"notification",NOTIFICATION_TEMPLATE:"notification_template",GROUP_NOTIFICATION:"group_notification",GP2:"gp2",BROADCAST_NOTIFICATION:"broadcast_notification",E2E_NOTIFICATION:"e2e_notification",CALL_LOG:"call_log",PROTOCOL:"protocol",CHAT:"chat",LOCATION:"location",PAYMENT:"payment",VCARD:"vcard",CIPHERTEXT:"ciphertext",MULTI_VCARD:"multi_vcard",REVOKED:"revoked",OVERSIZED:"oversized",GROUPS_V4_INVITE:"groups_v4_invite",HSM:"hsm",TEMPLATE_BUTTON_REPLY:"template_button_reply",IMAGE:"image",VIDEO:"video",AUDIO:"audio",PTT:"ptt",STICKER:"sticker",DOCUMENT:"document",PRODUCT:"product",ORDER:"order",LIST:"list",INTERACTIVE:"interactive",LIST_RESPONSE:"list_response",BUTTONS_RESPONSE:"buttons_response",REACTION:"reaction",NATIVE_FLOW:"native_flow",UNKNOWN:"unknown"},TEMPLATE_BUTTON_SUBTYPE:{QUICK_REPLY:"quick_reply",CALL:"call",URL:"url"},ELECTRON_PREF:{LAST_SAVED_LOCATION:"lastSavedLocation",CONTENT_SETTINGS:"contentSettings"},TOUCHBAR_MAX_EMOJIS:8,VERIFIED_LEVEL:{UNKNOWN:0,LOW:1,HIGH:2},HOSTNAME:{YOUTUBE:"youtube.com",YOUTUBE_MOBILE:"m.youtube.com",YOUTUBE_SHORTENED:"youtu.be",INSTAGRAM:"instagram.com",STREAMABLE:"streamable.com",FACEBOOK:"facebook.com",FBWATCH:"fbwat.ch",FBWATCH_ALT:"fb.watch",LASSOVIDEOS:"lassovideos.com",LASSO_SHORTENED:"las.so",SHARECHAT:"sharechat.com"},WHATSAPP_ORIGIN:"https://whatsapp.com",SMB_SEARCH_FILTERS:{UNREAD:"unread",GROUP:"group",BROADCAST:"broadcast"},SMB_LABELS:{MAX_LABEL_LENGTH:100},PRODUCT_INQUIRY_TYPE:"product_inquiry",PRODUCT_LIST_ITEM_HEIGHT:96,LOADABLE_DELAY:200,TAB_ORDERS:{CHAT_STARRED_DRAWER:3,CHAT_LIST_SEARCH:3,ARCHIVED_ENTRY_POINT:4,CHAT_LIST:4,CHAT_CONTACT_LIST:4,CHAT_IMAGE_GALLERY:4,CHAT_SEARCH_MSG_LIST:4,PANEL_SEARCH_INPUT:5,CHAT_HEADER_BUTTON:6,MESSAGE_LIST_SCROLL_BUTTON:7,MESSAGE_LIST:8,COMPOSE_BOX_MENU_BUTTON:9,COMPOSE_BOX_INPUT:9,PTT_BUTTON:10},SPEEDY_RESUME_MAX_CHATS:5e3,MEDIA_VIEWER:{ANIMATION_DURATION:500,CLOSE_ANIMATION_DURATION:200,ZOOM_IN_FACTOR:2},DEFAULT_THEME:"light",LAYOUT_2COLUMNS_MAX_WIDTH:1024,MUTE_ALWAYS_EXPIRATION_SENTINEL:-1,ANDROID_LABEL_COLOR_PALETTE:["#FF9485","#64C4FF","#FFD429","#DFAEF0","#99B6C1","#55CCB3","#FF9DFF","#D3A91D","#6D7CCE","#D7E752","#00D0E2","#FFC5C7","#93CEAC","#F74848","#00A0F2","#83E422","#FFAF04","#B5EBFF","#9BA6FF","#9368CF"],IPHONE_LABEL_COLOR_PALETTE:["#A62C71","#90A841","#C1A03F","#792138","#AE8774","#F0B330","#B6B327","#C69FCC","#8B6990","#FF8A8C","#54C265","#FF7B6B","#26C4DC","#57C9FF","#74676A","#7E90A3","#5696FF","#6E257E","#7ACBA5","#243640"],VOIP_LOG_COLOR:"#aa6627",VOIP_MAC_MINIMUM_OS_RELEASE_VERSION:"17.0.0",VOIP_WIN_MINIMUM_OS_RELEASE_VERSION:"10.0.18362",VOIP_MAX_GROUP_CALL_PARTICIPANTS:8,WAM_SYS_INFO_INIT_DELAY:5e3,KEY_NOTICE_BANNER_CLOSED_AT:"notice-banner-closed-at",KEY_NOTICE_ID:"notice-id",MARKED_AS_UNREAD:-1,MAS_APP_IDENTIFIER:"57T9237FN3.desktop.WhatsApp",RENDER_PROCESS_LOG_PATH:"render_process_problem_log.txt",WEB_IDB_DB_NAMES:{__dbnames:"__dbnames",fts_storage:"fts-storage",fts_loadgen_metadata:"loadgen-storage",_hsm_storage_DEPRECATED:"hsm-storage",jobs_storage:"jobs-storage",lru_media_storage_idb:"lru-media-storage-idb",model_storage:"model-storage",offd_storage:"offd-storage",signal_storage:"signal-storage",sw:"sw",wawc:"wawc",wawc_db_enc:"wawc_db_enc"},COMPLIANCE_INFO_CODES:{INDIA:"IN"},COMPLIANCE_INFO_LENGTH:{ENTITY_NAME:1024,ENTITY_TYPE_CUSTOM:1024,EMAIL:256,GRIEVANCE_OFFICER_NAME:256,LANDLINE_NUMBER:20,MOBILE_NUMBER:20,IMPORTER_NAME:1024,STREET1:1024,STREET2:1024,CITY:1024,REGION:1024,POSTAL_CODE:12}};t.default=u},3473:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1109)),a=n(u(8926)),i=u(9344),o=u(3351);t.default=class{constructor(e,t=200){this._drainQueuePromise=null,this._orchestrator=e,this._batchSize=t}enqueue(e){var t=this;return(0,a.default)((function*(){return yield(0,o.getPurgeRangeQueueTable)().create(e),t.drainQueue()}))()}drainQueue(){return null==this._drainQueuePromise&&(this._drainQueuePromise=this._drainQueue().then((e=>(this._drainQueuePromise=null,e)))),this._drainQueuePromise}_drainQueue(){var e=this;return(0,a.default)((function*(){let t=yield e._getNextEntryFromQueue();for(;null!=t;){var u;__LOG__(2)`FTS:Purge Range Manager: Drain Queue iteration for rowIds ${t.startRowId}-${t.endRowId}, offset ${null!==(u=t.offset)&&void 0!==u?u:0}`;const n=performance.now();yield e._doPurgeIteration(t);const r=performance.now();__LOG__(2)`FTS: Purge Range Manager: Iteration took ${r-n}ms`,yield(0,i.asyncSleep)(200),t=yield e._getNextEntryFromQueue()}return!0}))()}_getNextEntryFromQueue(){return(0,a.default)((function*(){const e=yield(0,o.getPurgeRangeQueueTable)().all({limit:1});return e&&0!==e.length?e[0]:null}))()}_doPurgeIteration(e){var t=this;return(0,a.default)((function*(){var u;const n=null!==(u=e.offset)&&void 0!==u?u:0,r=e.startRowId+n,a=r+t._batchSize<=e.endRowId?r+t._batchSize:e.endRowId;if(r>a)return void(yield t._dequeue(e));const i=[];for(let e=r;e<=a;++e)i.push(e);const o=Array.from(i).map((e=>String(e)));yield t._orchestrator.purge__DEPRECATED_DO_NOT_USE(e.chatId,o,e.tsOfLastMessage),yield t._updateOffset(e)}))()}_dequeue(e){return(0,o.getPurgeRangeQueueTable)().remove([e.chatId,e.tsOfLastMessage,e.startRowId,e.endRowId])}_updateOffset(e){var t;const u=null!==(t=e.offset)&&void 0!==t?t:0;return(0,o.getPurgeRangeQueueTable)().createOrReplace((0,r.default)((0,r.default)({},e),{},{offset:u+this._batchSize}))}}},9661:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(8926));u(9093);t.default=class{constructor(e){this._semaphone=e}__performReadWriteOperation(e){var t=this;return(0,r.default)((function*(){const u=yield t._semaphone.acquire();let n;try{n=yield e()}finally{u.release()}return n}))()}}},9244:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(8926)),a=n(u(7900)),i=n(u(9661)),o=u(3351),s=u(1586);class l extends i.default{_normalizeValue(e){if(null!=e){const{key:t,tokenizerVersion:u,schemaVersion:n,lastMsgKeyViaFullIndexer:r,isFullIndexingComplete:a}=e;return{tokenizerVersion:u,schemaVersion:n,isCurrent:t===s.ManifestKeys.CURR_VERSION,lastMsgKeyViaFullIndexer:r,isFullIndexingComplete:a}}return null}_read(e){var t=this;return(0,r.default)((function*(){const u=yield(0,o.getManifestTable)().get(e);return t._normalizeValue(u)}))()}_previousVersion(){return this._read(s.ManifestKeys.PREV_VERSION)}_currentVersion(){var e=this;return(0,r.default)((function*(){const t=yield e._read(s.ManifestKeys.CURR_VERSION);return(0,a.default)(t,"version")}))()}_nextVersion(){return this._read(s.ManifestKeys.NEXT_VERSION)}versions(){var e=this;return this.__performReadWriteOperation((0,r.default)((function*(){const[t,u,n]=yield Promise.all([e._currentVersion(),e._nextVersion(),e._previousVersion()]);return{current:t,next:u,previous:n}})))}previousVersion(){return this.__performReadWriteOperation((()=>this._previousVersion()))}currentVersion(){return this.__performReadWriteOperation((()=>this._currentVersion()))}nextVersion(){return this.__performReadWriteOperation((()=>this._nextVersion()))}}t.default=l},5141:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1109)),a=n(u(8926)),i=n(u(9661)),o=u(3351),s=u(1586);class l extends i.default{_init(e,t,u,n=!1){return this.__performReadWriteOperation((()=>(0,o.getManifestTable)().createOrMerge(e,{key:e,schemaVersion:t,tokenizerVersion:u,isCurrent:e===s.ManifestKeys.CURR_VERSION,isFullIndexingComplete:n})))}_markIndexingComplete(e){return this.__performReadWriteOperation((()=>(0,o.getManifestTable)().createOrMerge(e,{key:e,isCurrent:e===s.ManifestKeys.CURR_VERSION,isFullIndexingComplete:!0})))}_updateLastFullIndexBatch(e,t){return this.__performReadWriteOperation((()=>(0,o.getManifestTable)().createOrMerge(e,{key:e,isCurrent:e===s.ManifestKeys.CURR_VERSION,lastMsgKeyViaFullIndexer:t})))}setLatestVersion(e,t){return this.__performReadWriteOperation((0,a.default)((function*(){const u=yield(0,o.getManifestTable)().get(s.ManifestKeys.CURR_VERSION);if(null==u)yield(0,o.getManifestTable)().createOrReplace({isCurrent:!0,key:s.ManifestKeys.CURR_VERSION,schemaVersion:e,tokenizerVersion:t,isFullIndexingComplete:!1}),__LOG__(2)`FTS:Manifest Writer: Set current version to [${e}, ${t}]`;else if(u.schemaVersion!==e||u.tokenizerVersion!==t){const u=yield(0,o.getManifestTable)().get(s.ManifestKeys.NEXT_VERSION);null==u||u.schemaVersion!==e||u.tokenizerVersion!==t?(yield(0,o.getManifestTable)().createOrReplace({isCurrent:!1,key:s.ManifestKeys.NEXT_VERSION,schemaVersion:e,tokenizerVersion:t,isFullIndexingComplete:!1}),__LOG__(2)`FTS:Manifest Writer: Set next version to [${e}, ${t}]`):__LOG__(2)`FTS:Manifest Writer: No changes made, next version is already [${e}, ${t}]`}})))}upgradeVersion(){return this.__performReadWriteOperation((0,a.default)((function*(){const e=yield(0,o.getManifestTable)().get(s.ManifestKeys.CURR_VERSION),t=yield(0,o.getManifestTable)().get(s.ManifestKeys.NEXT_VERSION);(0,o.getManifestTable)().bulkCreateOrReplace([(0,r.default)((0,r.default)({},e),{},{isCurrent:!1,key:s.ManifestKeys.PREV_VERSION}),(0,r.default)((0,r.default)({},t),{},{isCurrent:!0,key:s.ManifestKeys.CURR_VERSION})]),yield(0,o.getManifestTable)().remove(s.ManifestKeys.NEXT_VERSION),__LOG__(2)`FTS:Manifest Writer: Upgraded Schema version from [${null==e?void 0:e.schemaVersion}, ${null==e?void 0:e.tokenizerVersion}] to [${null==t?void 0:t.schemaVersion}, ${null==t?void 0:t.tokenizerVersion}]`})))}markFullIndexingComplete(e=!0){return this._markIndexingComplete(e?s.ManifestKeys.CURR_VERSION:s.ManifestKeys.NEXT_VERSION)}updateLastFullIndexBatch(e=!0,t){return this._updateLastFullIndexBatch(e?s.ManifestKeys.CURR_VERSION:s.ManifestKeys.NEXT_VERSION,t)}}t.default=l},9479:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(8926)),a=n(u(6120)),i=u(3351),o=u(9254),s=u(6910);t.default=class{transact(e){return(0,o.getStorage)().lock([s.TABLE_NAME],e)}bulkPut(e){return(0,r.default)((function*(){yield(0,i.getIndexV1Table)().bulkCreateOrReplace(e)}))()}merge(e,t){return(0,i.getIndexV1Table)().merge(e,t)}bulkCreate(e){return(0,r.default)((function*(){yield(0,i.getIndexV1Table)().bulkCreate(e)}))()}bulkGetByKey(e){return(0,i.getIndexV1Table)().bulkGet(e)}bulkGetAnyOf(e,t){return 1===t.length?(0,i.getIndexV1Table)().equals(e,t[0]):(0,i.getIndexV1Table)().anyOf(e,t)}bulkGetStartsWithAnyOf(e,t){return(0,i.getIndexV1Table)().startsWithAnyOf(e,t)}between(e,t,u,n){return(0,i.getIndexV1Table)().between(e,t,u,{lowerInclusive:null==n?void 0:n.lowerInclusive,upperInclusive:null==n?void 0:n.upperInclusive})}bulkRemoveByIndex(e,t){return(0,i.getIndexV1Table)().bulkRemoveByIndex(e,t)}erase(){return(0,i.getIndexV1Table)().clear()}getKey(){return a.default.ftsHMACKey.key}}},3902:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(8926)),a=n(u(7900)),i=u(8400),o=u(9344),s=u(2382),l=u(8506),c=u(6199),D=n(u(1430)),E=n(u(6601));const d=new Set([D.default.MSG_TYPE.AUDIO,D.default.MSG_TYPE.CHAT,D.default.MSG_TYPE.DOCUMENT,D.default.MSG_TYPE.GROUPS_V4_INVITE,D.default.MSG_TYPE.HSM,D.default.MSG_TYPE.IMAGE,D.default.MSG_TYPE.INTERACTIVE,D.default.MSG_TYPE.LIST,D.default.MSG_TYPE.LOCATION,D.default.MSG_TYPE.MULTI_VCARD,D.default.MSG_TYPE.ORDER,D.default.MSG_TYPE.PAYMENT,D.default.MSG_TYPE.PRODUCT,D.default.MSG_TYPE.PTT,D.default.MSG_TYPE.STICKER,D.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY,D.default.MSG_TYPE.VCARD,D.default.MSG_TYPE.VIDEO]),f=new Set([D.default.MSG_TYPE.LOCATION,D.default.MSG_TYPE.VIDEO,D.default.MSG_TYPE.PRODUCT,D.default.MSG_TYPE.ORDER,D.default.MSG_TYPE.IMAGE,D.default.MSG_TYPE.AUDIO]),_=new Set([D.default.MSG_TYPE.INTERACTIVE]),h=e=>e.filter(Boolean);function A(e){return d.has(e.type)&&!e.isViewOnce}function S(){return p.apply(this,arguments)}function p(){return(p=(0,r.default)((function*(e){var t,u,n,r,o,s,D,d,h,S,p,F;if(null==e||!A(e))return null;const T=yield(0,c.getTable)().postflightDecryptSingleRecord(e),C=(0,a.default)((0,E.default)(T.id),"parseMsgKeyString(decryptedMsg.id)").remote;if("status@broadcast"===C)return null;const g=(0,i.decodeProtobuf)(l.MsgRowOpaqueDataSpec,T.msgRowOpaqueData),m=[null===(t=g.currentMsg)||void 0===t?void 0:t.title,null===(u=g.currentMsg)||void 0===u?void 0:u.description,null===(n=g.currentMsg)||void 0===n?void 0:n.caption,null===(r=g.currentMsg)||void 0===r?void 0:r.vcardFormattedName,null===(o=g.currentMsg)||void 0===o||null===(s=o.list)||void 0===s?void 0:s.title,null===(D=g.currentMsg)||void 0===D||null===(d=D.list)||void 0===d?void 0:d.description,T.vcardFormattedName,null===(h=T.list)||void 0===h?void 0:h.title,null===(S=T.list)||void 0===S?void 0:S.description,null===(p=T.interactiveHeader)||void 0===p?void 0:p.subtitle].filter(Boolean);return!f.has(e.type)&&(null===(F=g.currentMsg)||void 0===F?void 0:F.body)&&m.push(g.currentMsg.body),_.has(e.type)&&T.footer&&m.push(T.footer),0===m.length?null:{id:String(T.rowId),chatId:C,timestamp:T.t,textFragments:m}}))).apply(this,arguments)}function F(){return T.apply(this,arguments)}function T(){return(T=(0,r.default)((function*(e){const t=[];for(let u=0;u<e.length;u++){const n=yield S(e[u]);t.push(n),yield(0,o.asyncSleepAfterGivenLoopIteration)(u,100)}return t}))).apply(this,arguments)}t.default=class{getBacklogged(e){var t=this;return(0,r.default)((function*(){const u=yield(0,s.getTable)().all({limit:null==e?void 0:e.limit,offset:null==e?void 0:e.offset});if(null==u||0===u.length)return null;const n=u.map((e=>+e.id)),r=new Set(n),a=yield(0,c.getTable)().anyOf(["rowId"],n,{shouldDecrypt:!1}),i=yield F(a),o=yield h(i);return o.forEach((({id:e})=>r.delete(+e))),yield t.removeFromBacklog(Array.from(r.values(),(e=>""+e))),o}))()}hasBacklogged(){return(0,r.default)((function*(){return(yield(0,s.getTable)().count())>0}))()}removeFromBacklog(e){return(0,r.default)((function*(){yield(0,s.getTable)().bulkRemove(e)}))()}getAllAfterId(e,t){return(0,r.default)((function*(){const u=yield(0,c.getTable)().greaterThan(["rowId"],+e,{limit:null==t?void 0:t.limit,offset:null==t?void 0:t.offset,shouldDecrypt:!1});if(0===u.length)return null;const n=yield F(u);return h(n)}))()}getAll(e){return(0,r.default)((function*(){const t=yield(0,c.getTable)().all({limit:null==e?void 0:e.limit,offset:null==e?void 0:e.offset,shouldDecrypt:!1});if(0===t.length)return null;const u=yield F(t);return h(u)}))()}size(){return(0,c.getTable)().count()}}},2872:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(7948));t.default=class{shouldTerminateAll(){return r.default.isLogoutInProgress}}},2037:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(8926)),a=n(u(6120)),i=u(3351),o=u(9254),s=u(7490);t.default=class{transact(e){return(0,o.getStorage)().lock([s.TABLE_NAME],e)}bulkPut(e){return(0,r.default)((function*(){yield(0,i.getIndexV3Table)().bulkCreateOrReplace(e)}))()}merge(e,t){return(0,i.getIndexV3Table)().merge(e,t)}bulkCreate(e){return(0,r.default)((function*(){yield(0,i.getIndexV3Table)().bulkCreate(e)}))()}bulkGetByKey(e){return(0,i.getIndexV3Table)().bulkGet(e)}bulkGetAnyOf(e,t){return 1===t.length?(0,i.getIndexV3Table)().equals(e,t[0]):(0,i.getIndexV3Table)().anyOf(e,t)}bulkGetStartsWithAnyOf(e,t){return(0,i.getIndexV3Table)().startsWithAnyOf(e,t)}between(e,t,u,n){return(0,i.getIndexV3Table)().between(e,t,u,{lowerInclusive:null==n?void 0:n.lowerInclusive,upperInclusive:null==n?void 0:n.upperInclusive})}bulkRemoveByIndex(e,t){return(0,i.getIndexV3Table)().bulkRemoveByIndex(e,t)}erase(){return(0,i.getIndexV3Table)().clear()}getKey(){return a.default.ftsHMACKey.key}}},7358:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.LATEST_TOKENIZER_VERSION=t.LATEST_INDEXER_VERSION=t.VERSIONS_INFO=void 0;var r=n(u(3988)),a=n(u(6084)),i=u(3874),o=n(u(7900)),s=n(u(9479)),l=n(u(2037)),c=n(u(2872)),D=n(u(3902));let E=null;E=new D.default;const d={indexers:{1:e=>{const t=new r.default(e,(0,o.default)(E,"messageSource"),new s.default);return t.setSignaller(new c.default),Promise.resolve(t)},3:e=>{const t=new a.default(e,(0,o.default)(E,"messageSource"),new l.default);return t.setSignaller(new c.default),Promise.resolve(t)}},tokenizers:{1:()=>Promise.resolve(new i.MultiLangTokenizer)}};t.VERSIONS_INFO=d;t.LATEST_INDEXER_VERSION="3";t.LATEST_TOKENIZER_VERSION="1"},1434:(e,t,u)=>{"use strict";var n=u(5318);t.Z=void 0;var r=n(u(8926)),a=n(u(1974)),i=u(9093),o=n(u(6120)),s=u(3351),l=u(3424),c=n(u(3473)),D=n(u(9244)),E=u(7358),d=n(u(5141));t.Z=class{constructor(){this._resetDelgateState()}_resetDelgateState(){this._isInited=!1,this._isRunningInit=!1,this._commandQueue=[]}_performInit(){var e=this;return(0,r.default)((function*(){if(!e._isInited&&!e._isRunningInit){e._isRunningInit=!0;try{const t=new i.Semaphore;e._manifestWriter=new d.default(t),e._manifestReader=new D.default(t);let u=null;u=Promise.resolve(),yield Promise.all([(0,l.initializeWithoutGKs)(),(0,s.initialize)(),u,o.default.waitForFinalFtsHmacKey()]),yield e._manifestWriter.setLatestVersion(E.LATEST_INDEXER_VERSION,E.LATEST_TOKENIZER_VERSION),e._orchestrator=new a.default(e._manifestReader,e._manifestWriter,E.VERSIONS_INFO),e._purgeRangeManager=new c.default(e._orchestrator),__LOG__(2)`FTS:Delegate: Inited`,e._isInited=!0,e._isRunningInit=!1}catch(e){__LOG__(4,void 0,new Error,!0)`FTS:Delegate: Error while initializing`,SEND_LOGS("FTS:Delegate: Error while initializing")}finally{e._isRunningInit=!1}e._drainQueue()}}))()}_reInit(){var e=this;return(0,r.default)((function*(){return e._resetDelgateState(),yield e._performInit(),!0}))()}_clearInitializePromises(){return this._isInited=!1,this._isRunningInit=!1,(0,s.clearInitializePromise)(),(0,l.clearInitializePromise)(),Promise.resolve(!0)}_startIndexer(){var e=this;return(0,r.default)((function*(){return yield e._performInit(),__LOG__(2)`FTS:Delegate: Init indexing ops`,e._orchestrator.full(),e._orchestrator.incremental(),e._purgeRangeManager.drainQueue(),Promise.resolve(!0)}))()}enqueue(e){var t=this;return(0,r.default)((function*(){t._isInitTypeOp(e)?yield t._doWork(e):t._commandQueue.push(e),t._drainQueue()}))()}_isInitTypeOp(e){return"re-init"===e.command.operation||"clear-init"===e.command.operation||"start-indexer"===e.command.operation}_drainQueue(){if(this._isInited)for(;this._commandQueue.length;){const e=this._commandQueue.shift();this._doWork(e)}}_doWork(e){let t;const{reqId:u,command:n}=e;try{switch(n.operation){case"start-indexer":t=this._startIndexer();break;case"re-init":t=this._reInit();break;case"clear-init":t=this._clearInitializePromises();break;case"run":t=this._orchestrator.full();break;case"consume":t=this._orchestrator.incremental();break;case"find":const{query:e}=n;t=this._orchestrator.search(e,n.queryOptions);break;case"purge":const{ids:u}=n;t=this._orchestrator.purge(u);break;case"purge-range":const{chatId:r,tsOfLastMessage:a,startRowId:i,endRowId:o}=n;t=this._purgeRangeManager.enqueue({chatId:r,tsOfLastMessage:a,startRowId:i,endRowId:o})}if(null!=t)return t.then((e=>{this._onTaskComplete({reqId:u,result:e,error:!1})})).catch((()=>{this._onTaskComplete({reqId:u,result:!1,error:!0}),__LOG__(4,void 0,new Error,!0)`FTS:Delegate: Error while performing work ${n.operation}`,SEND_LOGS("FTS:Delegate: Error while performing work")}))}catch(e){__LOG__(4,void 0,new Error,!0)`FTS:Delegate: Error while scheduling work ${n.operation}`,SEND_LOGS("FTS:Delegate: Error while scheduling work"),this._onTaskComplete({reqId:u,result:!1,error:!0})}return Promise.resolve()}_onTaskComplete(e){const{reqId:t,result:u,error:n}=e;self.postMessage({reqId:t,result:u,error:n})}}},934:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocationSpec=t.PointSpec=t.InteractiveAnnotationSpec=t.DeviceListMetadataSpec=t.MessageContextInfoSpec=t.AdReplyInfoSpec=t.ExternalAdReplyInfoSpec=t.ContextInfoSpec=t.SenderKeyDistributionMessageSpec=t.ImageMessageSpec=t.InvoiceMessageSpec=t.ContactMessageSpec=t.LocationMessageSpec=t.ExtendedTextMessageSpec=t.DocumentMessageSpec=t.AudioMessageSpec=t.VideoMessageSpec=t.CallSpec=t.ChatSpec=t.ProtocolMessageSpec=t.HistorySyncNotificationSpec=t.AppStateSyncKeySpec=t.AppStateSyncKeyIdSpec=t.AppStateSyncKeyFingerprintSpec=t.AppStateSyncKeyDataSpec=t.AppStateSyncKeyShareSpec=t.AppStateSyncKeyRequestSpec=t.AppStateFatalExceptionNotificationSpec=t.InitialSecurityNotificationSettingSyncSpec=t.ContactsArrayMessageSpec=t.HSMCurrencySpec=t.HSMDateTimeComponentSpec=t.HSMDateTimeUnixEpochSpec=t.HSMDateTimeSpec=t.HSMLocalizableParameterSpec=t.HighlyStructuredMessageSpec=t.SendPaymentMessageSpec=t.RequestPaymentMessageSpec=t.DeclinePaymentRequestMessageSpec=t.CancelPaymentRequestMessageSpec=t.PaymentInviteMessageSpec=t.LiveLocationMessageSpec=t.StickerMessageSpec=t.FourRowTemplateSpec=t.HydratedFourRowTemplateSpec=t.TemplateMessageSpec=t.TemplateButtonReplyMessageSpec=t.CatalogSnapshotSpec=t.ProductSnapshotSpec=t.ProductMessageSpec=t.OrderMessageSpec=t.RowSpec=t.SectionSpec=t.ProductSpec=t.ProductSectionSpec=t.ProductListHeaderImageSpec=t.ProductListInfoSpec=t.ListMessageSpec=t.SingleSelectReplySpec=t.ListResponseMessageSpec=t.HeaderSpec=t.BodySpec=t.FooterSpec=t.ShopMessageSpec=t.CollectionMessageSpec=t.NativeFlowButtonSpec=t.NativeFlowMessageSpec=t.InteractiveMessageSpec=t.GroupInviteMessageSpec=t.DeviceSentMessageSpec=t.FutureProofMessageSpec=t.ButtonTextSpec=t.NativeFlowInfoSpec=t.ButtonSpec=t.ButtonsMessageSpec=t.ButtonsResponseMessageSpec=t.ReactionMessageSpec=t.StickerSyncRMRMessageSpec=t.MessageSpec=t.DisappearingModeInitiator=t.PaymentBackgroundType=t.AdReplyInfoMediaType=t.ExternalAdReplyInfoMediaType=t.InvoiceMessageAttachmentType=t.ExtendedTextMessageFontType=t.ExtendedTextMessagePreviewType=t.VideoMessageAttribution=t.ProtocolMessageType=t.HistorySyncNotificationHistorySyncType=t.HSMDateTimeComponentDayOfWeekType=t.HSMDateTimeComponentCalendarType=t.PaymentInviteMessageServiceType=t.OrderMessageOrderStatus=t.OrderMessageOrderSurface=t.ListMessageListType=t.ListResponseMessageListType=t.ShopMessageSurface=t.ButtonsMessageHeaderType=t.ButtonType=t.ButtonsResponseMessageType=void 0,t.ActionLinkSpec=t.DisappearingModeSpec=t.MediaDataSpec=t.PaymentBackgroundSpec=t.MoneySpec=t.HydratedQuickReplyButtonSpec=t.HydratedURLButtonSpec=t.HydratedCallButtonSpec=t.HydratedTemplateButtonSpec=t.QuickReplyButtonSpec=t.URLButtonSpec=t.CallButtonSpec=t.TemplateButtonSpec=void 0;var n=u(5359),r=u(3371);const a=u(4302)({UNKNOWN:0,DISPLAY_TEXT:1});t.ButtonsResponseMessageType=a;const i=u(4302)({UNKNOWN:0,RESPONSE:1,NATIVE_FLOW:2});t.ButtonType=i;const o=u(4302)({UNKNOWN:0,EMPTY:1,TEXT:2,DOCUMENT:3,IMAGE:4,VIDEO:5,LOCATION:6});t.ButtonsMessageHeaderType=o;const s=u(4302)({UNKNOWN_SURFACE:0,FB:1,IG:2,WA:3});t.ShopMessageSurface=s;const l=u(4302)({UNKNOWN:0,SINGLE_SELECT:1});t.ListResponseMessageListType=l;const c=u(4302)({UNKNOWN:0,SINGLE_SELECT:1,PRODUCT_LIST:2});t.ListMessageListType=c;const D=u(4302)({CATALOG:1});t.OrderMessageOrderSurface=D;const E=u(4302)({INQUIRY:1});t.OrderMessageOrderStatus=E;const d=u(4302)({UNKNOWN:0,FBPAY:1,NOVI:2,UPI:3});t.PaymentInviteMessageServiceType=d;const f=u(4302)({GREGORIAN:1,SOLAR_HIJRI:2});t.HSMDateTimeComponentCalendarType=f;const _=u(4302)({MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,SUNDAY:7});t.HSMDateTimeComponentDayOfWeekType=_;const h=u(4302)({INITIAL_BOOTSTRAP:0,INITIAL_STATUS_V3:1,FULL:2,RECENT:3,PUSH_NAME:4});t.HistorySyncNotificationHistorySyncType=h;const A=u(4302)({REVOKE:0,EPHEMERAL_SETTING:3,EPHEMERAL_SYNC_RESPONSE:4,HISTORY_SYNC_NOTIFICATION:5,APP_STATE_SYNC_KEY_SHARE:6,APP_STATE_SYNC_KEY_REQUEST:7,MSG_FANOUT_BACKFILL_REQUEST:8,INITIAL_SECURITY_NOTIFICATION_SETTING_SYNC:9,APP_STATE_FATAL_EXCEPTION_NOTIFICATION:10});t.ProtocolMessageType=A;const S=u(4302)({NONE:0,GIPHY:1,TENOR:2});t.VideoMessageAttribution=S;const p=u(4302)({NONE:0,VIDEO:1});t.ExtendedTextMessagePreviewType=p;const F=u(4302)({SANS_SERIF:0,SERIF:1,NORICAN_REGULAR:2,BRYNDAN_WRITE:3,BEBASNEUE_REGULAR:4,OSWALD_HEAVY:5});t.ExtendedTextMessageFontType=F;const T=u(4302)({IMAGE:0,PDF:1});t.InvoiceMessageAttachmentType=T;const C=u(4302)({NONE:0,IMAGE:1,VIDEO:2});t.ExternalAdReplyInfoMediaType=C;const g=u(4302)({NONE:0,IMAGE:1,VIDEO:2});t.AdReplyInfoMediaType=g;const m=u(4302)({UNKNOWN:0,DEFAULT:1});t.PaymentBackgroundType=m;const y=u(4302)({CHANGED_IN_CHAT:0,INITIATED_BY_ME:1,INITIATED_BY_OTHER:2});t.DisappearingModeInitiator=y;const I={};t.MessageSpec=I;const v={};t.StickerSyncRMRMessageSpec=v;const P={};t.ReactionMessageSpec=P;const b={};t.ButtonsResponseMessageSpec=b;const N={};t.ButtonsMessageSpec=N;const B={};t.ButtonSpec=B;const R={};t.NativeFlowInfoSpec=R;const O={};t.ButtonTextSpec=O;const w={};t.FutureProofMessageSpec=w;const M={};t.DeviceSentMessageSpec=M;const Y={};t.GroupInviteMessageSpec=Y;const L={};t.InteractiveMessageSpec=L;const x={};t.NativeFlowMessageSpec=x;const U={};t.NativeFlowButtonSpec=U;const G={};t.CollectionMessageSpec=G;const k={};t.ShopMessageSpec=k;const V={};t.FooterSpec=V;const K={};t.BodySpec=K;const j={};t.HeaderSpec=j;const H={};t.ListResponseMessageSpec=H;const W={};t.SingleSelectReplySpec=W;const $={};t.ListMessageSpec=$;const z={};t.ProductListInfoSpec=z;const q={};t.ProductListHeaderImageSpec=q;const X={};t.ProductSectionSpec=X;const Q={};t.ProductSpec=Q;const J={};t.SectionSpec=J;const Z={};t.RowSpec=Z;const ee={};t.OrderMessageSpec=ee;const te={};t.ProductMessageSpec=te;const ue={};t.ProductSnapshotSpec=ue;const ne={};t.CatalogSnapshotSpec=ne;const re={};t.TemplateButtonReplyMessageSpec=re;const ae={};t.TemplateMessageSpec=ae;const ie={};t.HydratedFourRowTemplateSpec=ie;const oe={};t.FourRowTemplateSpec=oe;const se={};t.StickerMessageSpec=se;const le={};t.LiveLocationMessageSpec=le;const ce={};t.PaymentInviteMessageSpec=ce;const De={};t.CancelPaymentRequestMessageSpec=De;const Ee={};t.DeclinePaymentRequestMessageSpec=Ee;const de={};t.RequestPaymentMessageSpec=de;const fe={};t.SendPaymentMessageSpec=fe;const _e={};t.HighlyStructuredMessageSpec=_e;const he={};t.HSMLocalizableParameterSpec=he;const Ae={};t.HSMDateTimeSpec=Ae;const Se={};t.HSMDateTimeUnixEpochSpec=Se;const pe={};t.HSMDateTimeComponentSpec=pe;const Fe={};t.HSMCurrencySpec=Fe;const Te={};t.ContactsArrayMessageSpec=Te;const Ce={};t.InitialSecurityNotificationSettingSyncSpec=Ce;const ge={};t.AppStateFatalExceptionNotificationSpec=ge;const me={};t.AppStateSyncKeyRequestSpec=me;const ye={};t.AppStateSyncKeyShareSpec=ye;const Ie={};t.AppStateSyncKeyDataSpec=Ie;const ve={};t.AppStateSyncKeyFingerprintSpec=ve;const Pe={};t.AppStateSyncKeyIdSpec=Pe;const be={};t.AppStateSyncKeySpec=be;const Ne={};t.HistorySyncNotificationSpec=Ne;const Be={};t.ProtocolMessageSpec=Be;const Re={};t.ChatSpec=Re;const Oe={};t.CallSpec=Oe;const we={};t.VideoMessageSpec=we;const Me={};t.AudioMessageSpec=Me;const Ye={};t.DocumentMessageSpec=Ye;const Le={};t.ExtendedTextMessageSpec=Le;const xe={};t.LocationMessageSpec=xe;const Ue={};t.ContactMessageSpec=Ue;const Ge={};t.InvoiceMessageSpec=Ge;const ke={};t.ImageMessageSpec=ke;const Ve={};t.SenderKeyDistributionMessageSpec=Ve;const Ke={};t.ContextInfoSpec=Ke;const je={};t.ExternalAdReplyInfoSpec=je;const He={};t.AdReplyInfoSpec=He;const We={};t.MessageContextInfoSpec=We;const $e={};t.DeviceListMetadataSpec=$e;const ze={};t.InteractiveAnnotationSpec=ze;const qe={};t.PointSpec=qe;const Xe={};t.LocationSpec=Xe;const Qe={};t.TemplateButtonSpec=Qe;const Je={};t.CallButtonSpec=Je;const Ze={};t.URLButtonSpec=Ze;const et={};t.QuickReplyButtonSpec=et;const tt={};t.HydratedTemplateButtonSpec=tt;const ut={};t.HydratedCallButtonSpec=ut;const nt={};t.HydratedURLButtonSpec=nt;const rt={};t.HydratedQuickReplyButtonSpec=rt;const at={};t.MoneySpec=at;const it={};t.PaymentBackgroundSpec=it;const ot={};t.MediaDataSpec=ot;const st={};t.DisappearingModeSpec=st;const lt={};t.ActionLinkSpec=lt,I.internalSpec={conversation:[1,r.TYPES.STRING],senderKeyDistributionMessage:[2,r.TYPES.MESSAGE,Ve],imageMessage:[3,r.TYPES.MESSAGE,ke],contactMessage:[4,r.TYPES.MESSAGE,Ue],locationMessage:[5,r.TYPES.MESSAGE,xe],extendedTextMessage:[6,r.TYPES.MESSAGE,Le],documentMessage:[7,r.TYPES.MESSAGE,Ye],audioMessage:[8,r.TYPES.MESSAGE,Me],videoMessage:[9,r.TYPES.MESSAGE,we],call:[10,r.TYPES.MESSAGE,Oe],chat:[11,r.TYPES.MESSAGE,Re],protocolMessage:[12,r.TYPES.MESSAGE,Be],contactsArrayMessage:[13,r.TYPES.MESSAGE,Te],highlyStructuredMessage:[14,r.TYPES.MESSAGE,_e],fastRatchetKeySenderKeyDistributionMessage:[15,r.TYPES.MESSAGE,Ve],sendPaymentMessage:[16,r.TYPES.MESSAGE,fe],liveLocationMessage:[18,r.TYPES.MESSAGE,le],requestPaymentMessage:[22,r.TYPES.MESSAGE,de],declinePaymentRequestMessage:[23,r.TYPES.MESSAGE,Ee],cancelPaymentRequestMessage:[24,r.TYPES.MESSAGE,De],templateMessage:[25,r.TYPES.MESSAGE,ae],stickerMessage:[26,r.TYPES.MESSAGE,se],groupInviteMessage:[28,r.TYPES.MESSAGE,Y],templateButtonReplyMessage:[29,r.TYPES.MESSAGE,re],productMessage:[30,r.TYPES.MESSAGE,te],deviceSentMessage:[31,r.TYPES.MESSAGE,M],messageContextInfo:[35,r.TYPES.MESSAGE,We],listMessage:[36,r.TYPES.MESSAGE,$],viewOnceMessage:[37,r.TYPES.MESSAGE,w],orderMessage:[38,r.TYPES.MESSAGE,ee],listResponseMessage:[39,r.TYPES.MESSAGE,H],ephemeralMessage:[40,r.TYPES.MESSAGE,w],invoiceMessage:[41,r.TYPES.MESSAGE,Ge],buttonsMessage:[42,r.TYPES.MESSAGE,N],buttonsResponseMessage:[43,r.TYPES.MESSAGE,b],paymentInviteMessage:[44,r.TYPES.MESSAGE,ce],interactiveMessage:[45,r.TYPES.MESSAGE,L],reactionMessage:[46,r.TYPES.MESSAGE,P],stickerSyncRmrMessage:[47,r.TYPES.MESSAGE,v]},v.internalSpec={filehash:[1,r.FLAGS.REPEATED|r.TYPES.STRING],rmrSource:[2,r.TYPES.STRING],requestTimestamp:[3,r.TYPES.INT64]},P.internalSpec={key:[1,r.TYPES.MESSAGE,n.MessageKeySpec],text:[2,r.TYPES.STRING],groupingKey:[3,r.TYPES.STRING],senderTimestampMs:[4,r.TYPES.INT64]},b.internalSpec={selectedButtonId:[1,r.TYPES.STRING],selectedDisplayText:[2,r.TYPES.STRING],contextInfo:[3,r.TYPES.MESSAGE,Ke],type:[4,r.TYPES.ENUM,a],__oneofs__:{response:["selectedDisplayText"]}},N.internalSpec={text:[1,r.TYPES.STRING],documentMessage:[2,r.TYPES.MESSAGE,Ye],imageMessage:[3,r.TYPES.MESSAGE,ke],videoMessage:[4,r.TYPES.MESSAGE,we],locationMessage:[5,r.TYPES.MESSAGE,xe],contentText:[6,r.TYPES.STRING],footerText:[7,r.TYPES.STRING],contextInfo:[8,r.TYPES.MESSAGE,Ke],buttons:[9,r.FLAGS.REPEATED|r.TYPES.MESSAGE,B],headerType:[10,r.TYPES.ENUM,o],__oneofs__:{header:["text","documentMessage","imageMessage","videoMessage","locationMessage"]}},B.internalSpec={buttonId:[1,r.TYPES.STRING],buttonText:[2,r.TYPES.MESSAGE,O],type:[3,r.TYPES.ENUM,i],nativeFlowInfo:[4,r.TYPES.MESSAGE,R]},R.internalSpec={name:[1,r.TYPES.STRING],paramsJson:[2,r.TYPES.STRING]},O.internalSpec={displayText:[1,r.TYPES.STRING]},w.internalSpec={message:[1,r.TYPES.MESSAGE,I]},M.internalSpec={destinationJid:[1,r.TYPES.STRING],message:[2,r.TYPES.MESSAGE,I],phash:[3,r.TYPES.STRING]},Y.internalSpec={groupJid:[1,r.TYPES.STRING],inviteCode:[2,r.TYPES.STRING],inviteExpiration:[3,r.TYPES.INT64],groupName:[4,r.TYPES.STRING],jpegThumbnail:[5,r.TYPES.BYTES],caption:[6,r.TYPES.STRING],contextInfo:[7,r.TYPES.MESSAGE,Ke]},L.internalSpec={header:[1,r.TYPES.MESSAGE,j],body:[2,r.TYPES.MESSAGE,K],footer:[3,r.TYPES.MESSAGE,V],shopStorefrontMessage:[4,r.TYPES.MESSAGE,k],collectionMessage:[5,r.TYPES.MESSAGE,G],nativeFlowMessage:[6,r.TYPES.MESSAGE,x],contextInfo:[15,r.TYPES.MESSAGE,Ke],__oneofs__:{interactiveMessage:["shopStorefrontMessage","collectionMessage","nativeFlowMessage"]}},x.internalDefaults={messageVersion:1},x.internalSpec={buttons:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,U],messageParamsJson:[2,r.TYPES.STRING],messageVersion:[3,r.TYPES.INT32]},U.internalSpec={name:[1,r.TYPES.STRING],buttonParamsJson:[2,r.TYPES.STRING]},G.internalDefaults={messageVersion:1},G.internalSpec={bizJid:[1,r.TYPES.STRING],id:[2,r.TYPES.STRING],messageVersion:[3,r.TYPES.INT32]},k.internalDefaults={messageVersion:1},k.internalSpec={id:[1,r.TYPES.STRING],surface:[2,r.TYPES.ENUM,s],messageVersion:[3,r.TYPES.INT32]},V.internalSpec={text:[1,r.TYPES.STRING]},K.internalSpec={text:[1,r.TYPES.STRING]},j.internalSpec={title:[1,r.TYPES.STRING],subtitle:[2,r.TYPES.STRING],documentMessage:[3,r.TYPES.MESSAGE,Ye],imageMessage:[4,r.TYPES.MESSAGE,ke],jpegThumbnail:[6,r.TYPES.BYTES],hasMediaAttachment:[5,r.TYPES.BOOL],__oneofs__:{media:["documentMessage","imageMessage","jpegThumbnail"]}},H.internalSpec={title:[1,r.TYPES.STRING],listType:[2,r.TYPES.ENUM,l],singleSelectReply:[3,r.TYPES.MESSAGE,W],contextInfo:[4,r.TYPES.MESSAGE,Ke],description:[5,r.TYPES.STRING]},W.internalSpec={selectedRowId:[1,r.TYPES.STRING]},$.internalSpec={title:[1,r.TYPES.STRING],description:[2,r.TYPES.STRING],buttonText:[3,r.TYPES.STRING],listType:[4,r.TYPES.ENUM,c],sections:[5,r.FLAGS.REPEATED|r.TYPES.MESSAGE,J],productListInfo:[6,r.TYPES.MESSAGE,z],footerText:[7,r.TYPES.STRING],contextInfo:[8,r.TYPES.MESSAGE,Ke]},z.internalSpec={productSections:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,X],headerImage:[2,r.TYPES.MESSAGE,q],businessOwnerJid:[3,r.TYPES.STRING]},q.internalSpec={productId:[1,r.TYPES.STRING],jpegThumbnail:[2,r.TYPES.BYTES]},X.internalSpec={title:[1,r.TYPES.STRING],products:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Q]},Q.internalSpec={productId:[1,r.TYPES.STRING]},J.internalSpec={title:[1,r.TYPES.STRING],rows:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Z]},Z.internalSpec={title:[1,r.TYPES.STRING],description:[2,r.TYPES.STRING],rowId:[3,r.TYPES.STRING]},ee.internalSpec={orderId:[1,r.TYPES.STRING],thumbnail:[2,r.TYPES.BYTES],itemCount:[3,r.TYPES.INT32],status:[4,r.TYPES.ENUM,E],surface:[5,r.TYPES.ENUM,D],message:[6,r.TYPES.STRING],orderTitle:[7,r.TYPES.STRING],sellerJid:[8,r.TYPES.STRING],token:[9,r.TYPES.STRING],totalAmount1000:[10,r.TYPES.INT64],totalCurrencyCode:[11,r.TYPES.STRING],contextInfo:[17,r.TYPES.MESSAGE,Ke]},te.internalSpec={product:[1,r.TYPES.MESSAGE,ue],businessOwnerJid:[2,r.TYPES.STRING],catalog:[4,r.TYPES.MESSAGE,ne],body:[5,r.TYPES.STRING],footer:[6,r.TYPES.STRING],contextInfo:[17,r.TYPES.MESSAGE,Ke]},ue.internalSpec={productImage:[1,r.TYPES.MESSAGE,ke],productId:[2,r.TYPES.STRING],title:[3,r.TYPES.STRING],description:[4,r.TYPES.STRING],currencyCode:[5,r.TYPES.STRING],priceAmount1000:[6,r.TYPES.INT64],retailerId:[7,r.TYPES.STRING],url:[8,r.TYPES.STRING],productImageCount:[9,r.TYPES.UINT32],firstImageId:[11,r.TYPES.STRING],salePriceAmount1000:[12,r.TYPES.INT64]},ne.internalSpec={catalogImage:[1,r.TYPES.MESSAGE,ke],title:[2,r.TYPES.STRING],description:[3,r.TYPES.STRING]},re.internalSpec={selectedId:[1,r.TYPES.STRING],selectedDisplayText:[2,r.TYPES.STRING],contextInfo:[3,r.TYPES.MESSAGE,Ke],selectedIndex:[4,r.TYPES.UINT32]},ae.internalSpec={fourRowTemplate:[1,r.TYPES.MESSAGE,oe],hydratedFourRowTemplate:[2,r.TYPES.MESSAGE,ie],contextInfo:[3,r.TYPES.MESSAGE,Ke],hydratedTemplate:[4,r.TYPES.MESSAGE,ie],__oneofs__:{format:["fourRowTemplate","hydratedFourRowTemplate"]}},ie.internalSpec={documentMessage:[1,r.TYPES.MESSAGE,Ye],hydratedTitleText:[2,r.TYPES.STRING],imageMessage:[3,r.TYPES.MESSAGE,ke],videoMessage:[4,r.TYPES.MESSAGE,we],locationMessage:[5,r.TYPES.MESSAGE,xe],hydratedContentText:[6,r.TYPES.STRING],hydratedFooterText:[7,r.TYPES.STRING],hydratedButtons:[8,r.FLAGS.REPEATED|r.TYPES.MESSAGE,tt],templateId:[9,r.TYPES.STRING],__oneofs__:{title:["documentMessage","hydratedTitleText","imageMessage","videoMessage","locationMessage"]}},oe.internalSpec={documentMessage:[1,r.TYPES.MESSAGE,Ye],highlyStructuredMessage:[2,r.TYPES.MESSAGE,_e],imageMessage:[3,r.TYPES.MESSAGE,ke],videoMessage:[4,r.TYPES.MESSAGE,we],locationMessage:[5,r.TYPES.MESSAGE,xe],content:[6,r.TYPES.MESSAGE,_e],footer:[7,r.TYPES.MESSAGE,_e],buttons:[8,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Qe],__oneofs__:{title:["documentMessage","highlyStructuredMessage","imageMessage","videoMessage","locationMessage"]}},se.internalSpec={url:[1,r.TYPES.STRING],fileSha256:[2,r.TYPES.BYTES],fileEncSha256:[3,r.TYPES.BYTES],mediaKey:[4,r.TYPES.BYTES],mimetype:[5,r.TYPES.STRING],height:[6,r.TYPES.UINT32],width:[7,r.TYPES.UINT32],directPath:[8,r.TYPES.STRING],fileLength:[9,r.TYPES.UINT64],mediaKeyTimestamp:[10,r.TYPES.INT64],firstFrameLength:[11,r.TYPES.UINT32],firstFrameSidecar:[12,r.TYPES.BYTES],isAnimated:[13,r.TYPES.BOOL],pngThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Ke]},le.internalSpec={degreesLatitude:[1,r.TYPES.DOUBLE],degreesLongitude:[2,r.TYPES.DOUBLE],accuracyInMeters:[3,r.TYPES.UINT32],speedInMps:[4,r.TYPES.FLOAT],degreesClockwiseFromMagneticNorth:[5,r.TYPES.UINT32],caption:[6,r.TYPES.STRING],sequenceNumber:[7,r.TYPES.INT64],timeOffset:[8,r.TYPES.UINT32],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Ke]},ce.internalSpec={serviceType:[1,r.TYPES.ENUM,d],expiryTimestamp:[2,r.TYPES.INT64]},De.internalSpec={key:[1,r.TYPES.MESSAGE,n.MessageKeySpec]},Ee.internalSpec={key:[1,r.TYPES.MESSAGE,n.MessageKeySpec]},de.internalSpec={noteMessage:[4,r.TYPES.MESSAGE,I],currencyCodeIso4217:[1,r.TYPES.STRING],amount1000:[2,r.TYPES.UINT64],requestFrom:[3,r.TYPES.STRING],expiryTimestamp:[5,r.TYPES.INT64],amount:[6,r.TYPES.MESSAGE,at],background:[7,r.TYPES.MESSAGE,it]},fe.internalSpec={noteMessage:[2,r.TYPES.MESSAGE,I],requestMessageKey:[3,r.TYPES.MESSAGE,n.MessageKeySpec],background:[4,r.TYPES.MESSAGE,it]},_e.internalSpec={namespace:[1,r.TYPES.STRING],elementName:[2,r.TYPES.STRING],params:[3,r.FLAGS.REPEATED|r.TYPES.STRING],fallbackLg:[4,r.TYPES.STRING],fallbackLc:[5,r.TYPES.STRING],localizableParams:[6,r.FLAGS.REPEATED|r.TYPES.MESSAGE,he],deterministicLg:[7,r.TYPES.STRING],deterministicLc:[8,r.TYPES.STRING],hydratedHsm:[9,r.TYPES.MESSAGE,ae]},he.internalSpec={default:[1,r.TYPES.STRING],currency:[2,r.TYPES.MESSAGE,Fe],dateTime:[3,r.TYPES.MESSAGE,Ae],__oneofs__:{paramOneof:["currency","dateTime"]}},Ae.internalSpec={component:[1,r.TYPES.MESSAGE,pe],unixEpoch:[2,r.TYPES.MESSAGE,Se],__oneofs__:{datetimeOneof:["component","unixEpoch"]}},Se.internalSpec={timestamp:[1,r.TYPES.INT64]},pe.internalSpec={dayOfWeek:[1,r.TYPES.ENUM,_],year:[2,r.TYPES.UINT32],month:[3,r.TYPES.UINT32],dayOfMonth:[4,r.TYPES.UINT32],hour:[5,r.TYPES.UINT32],minute:[6,r.TYPES.UINT32],calendar:[7,r.TYPES.ENUM,f]},Fe.internalSpec={currencyCode:[1,r.TYPES.STRING],amount1000:[2,r.TYPES.INT64]},Te.internalSpec={displayName:[1,r.TYPES.STRING],contacts:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Ue],contextInfo:[17,r.TYPES.MESSAGE,Ke]},Ce.internalSpec={securityNotificationEnabled:[1,r.TYPES.BOOL]},ge.internalSpec={collectionNames:[1,r.FLAGS.REPEATED|r.TYPES.STRING],timestamp:[2,r.TYPES.INT64]},me.internalSpec={keyIds:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Pe]},ye.internalSpec={keys:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,be]},Ie.internalSpec={keyData:[1,r.TYPES.BYTES],fingerprint:[2,r.TYPES.MESSAGE,ve],timestamp:[3,r.TYPES.INT64]},ve.internalSpec={rawId:[1,r.TYPES.UINT32],currentIndex:[2,r.TYPES.UINT32],deviceIndexes:[3,r.FLAGS.REPEATED|r.FLAGS.PACKED|r.TYPES.UINT32]},Pe.internalSpec={keyId:[1,r.TYPES.BYTES]},be.internalSpec={keyId:[1,r.TYPES.MESSAGE,Pe],keyData:[2,r.TYPES.MESSAGE,Ie]},Ne.internalSpec={fileSha256:[1,r.TYPES.BYTES],fileLength:[2,r.TYPES.UINT64],mediaKey:[3,r.TYPES.BYTES],fileEncSha256:[4,r.TYPES.BYTES],directPath:[5,r.TYPES.STRING],syncType:[6,r.TYPES.ENUM,h],chunkOrder:[7,r.TYPES.UINT32],originalMessageId:[8,r.TYPES.STRING]},Be.internalSpec={key:[1,r.TYPES.MESSAGE,n.MessageKeySpec],type:[2,r.TYPES.ENUM,A],ephemeralExpiration:[4,r.TYPES.UINT32],ephemeralSettingTimestamp:[5,r.TYPES.INT64],historySyncNotification:[6,r.TYPES.MESSAGE,Ne],appStateSyncKeyShare:[7,r.TYPES.MESSAGE,ye],appStateSyncKeyRequest:[8,r.TYPES.MESSAGE,me],initialSecurityNotificationSettingSync:[9,r.TYPES.MESSAGE,Ce],appStateFatalExceptionNotification:[10,r.TYPES.MESSAGE,ge],disappearingMode:[11,r.TYPES.MESSAGE,st]},Re.internalSpec={displayName:[1,r.TYPES.STRING],id:[2,r.TYPES.STRING]},Oe.internalSpec={callKey:[1,r.TYPES.BYTES],conversionSource:[2,r.TYPES.STRING],conversionData:[3,r.TYPES.BYTES],conversionDelaySeconds:[4,r.TYPES.UINT32]},we.internalSpec={url:[1,r.TYPES.STRING],mimetype:[2,r.TYPES.STRING],fileSha256:[3,r.TYPES.BYTES],fileLength:[4,r.TYPES.UINT64],seconds:[5,r.TYPES.UINT32],mediaKey:[6,r.TYPES.BYTES],caption:[7,r.TYPES.STRING],gifPlayback:[8,r.TYPES.BOOL],height:[9,r.TYPES.UINT32],width:[10,r.TYPES.UINT32],fileEncSha256:[11,r.TYPES.BYTES],interactiveAnnotations:[12,r.FLAGS.REPEATED|r.TYPES.MESSAGE,ze],directPath:[13,r.TYPES.STRING],mediaKeyTimestamp:[14,r.TYPES.INT64],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Ke],streamingSidecar:[18,r.TYPES.BYTES],gifAttribution:[19,r.TYPES.ENUM,S],viewOnce:[20,r.TYPES.BOOL],thumbnailDirectPath:[21,r.TYPES.STRING],thumbnailSha256:[22,r.TYPES.BYTES],thumbnailEncSha256:[23,r.TYPES.BYTES],staticUrl:[24,r.TYPES.STRING]},Me.internalSpec={url:[1,r.TYPES.STRING],mimetype:[2,r.TYPES.STRING],fileSha256:[3,r.TYPES.BYTES],fileLength:[4,r.TYPES.UINT64],seconds:[5,r.TYPES.UINT32],ptt:[6,r.TYPES.BOOL],mediaKey:[7,r.TYPES.BYTES],fileEncSha256:[8,r.TYPES.BYTES],directPath:[9,r.TYPES.STRING],mediaKeyTimestamp:[10,r.TYPES.INT64],contextInfo:[17,r.TYPES.MESSAGE,Ke],streamingSidecar:[18,r.TYPES.BYTES],waveform:[19,r.TYPES.BYTES]},Ye.internalSpec={url:[1,r.TYPES.STRING],mimetype:[2,r.TYPES.STRING],title:[3,r.TYPES.STRING],fileSha256:[4,r.TYPES.BYTES],fileLength:[5,r.TYPES.UINT64],pageCount:[6,r.TYPES.UINT32],mediaKey:[7,r.TYPES.BYTES],fileName:[8,r.TYPES.STRING],fileEncSha256:[9,r.TYPES.BYTES],directPath:[10,r.TYPES.STRING],mediaKeyTimestamp:[11,r.TYPES.INT64],contactVcard:[12,r.TYPES.BOOL],thumbnailDirectPath:[13,r.TYPES.STRING],thumbnailSha256:[14,r.TYPES.BYTES],thumbnailEncSha256:[15,r.TYPES.BYTES],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Ke],thumbnailHeight:[18,r.TYPES.UINT32],thumbnailWidth:[19,r.TYPES.UINT32]},Le.internalSpec={text:[1,r.TYPES.STRING],matchedText:[2,r.TYPES.STRING],canonicalUrl:[4,r.TYPES.STRING],description:[5,r.TYPES.STRING],title:[6,r.TYPES.STRING],textArgb:[7,r.TYPES.FIXED32],backgroundArgb:[8,r.TYPES.FIXED32],font:[9,r.TYPES.ENUM,F],previewType:[10,r.TYPES.ENUM,p],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Ke],doNotPlayInline:[18,r.TYPES.BOOL],thumbnailDirectPath:[19,r.TYPES.STRING],thumbnailSha256:[20,r.TYPES.BYTES],thumbnailEncSha256:[21,r.TYPES.BYTES],mediaKey:[22,r.TYPES.BYTES],mediaKeyTimestamp:[23,r.TYPES.INT64],thumbnailHeight:[24,r.TYPES.UINT32],thumbnailWidth:[25,r.TYPES.UINT32]},xe.internalSpec={degreesLatitude:[1,r.TYPES.DOUBLE],degreesLongitude:[2,r.TYPES.DOUBLE],name:[3,r.TYPES.STRING],address:[4,r.TYPES.STRING],url:[5,r.TYPES.STRING],isLive:[6,r.TYPES.BOOL],accuracyInMeters:[7,r.TYPES.UINT32],speedInMps:[8,r.TYPES.FLOAT],degreesClockwiseFromMagneticNorth:[9,r.TYPES.UINT32],comment:[11,r.TYPES.STRING],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Ke]},Ue.internalSpec={displayName:[1,r.TYPES.STRING],vcard:[16,r.TYPES.STRING],contextInfo:[17,r.TYPES.MESSAGE,Ke]},Ge.internalSpec={note:[1,r.TYPES.STRING],token:[2,r.TYPES.STRING],attachmentType:[3,r.TYPES.ENUM,T],attachmentMimetype:[4,r.TYPES.STRING],attachmentMediaKey:[5,r.TYPES.BYTES],attachmentMediaKeyTimestamp:[6,r.TYPES.INT64],attachmentFileSha256:[7,r.TYPES.BYTES],attachmentFileEncSha256:[8,r.TYPES.BYTES],attachmentDirectPath:[9,r.TYPES.STRING],attachmentJpegThumbnail:[10,r.TYPES.BYTES]},ke.internalSpec={url:[1,r.TYPES.STRING],mimetype:[2,r.TYPES.STRING],caption:[3,r.TYPES.STRING],fileSha256:[4,r.TYPES.BYTES],fileLength:[5,r.TYPES.UINT64],height:[6,r.TYPES.UINT32],width:[7,r.TYPES.UINT32],mediaKey:[8,r.TYPES.BYTES],fileEncSha256:[9,r.TYPES.BYTES],interactiveAnnotations:[10,r.FLAGS.REPEATED|r.TYPES.MESSAGE,ze],directPath:[11,r.TYPES.STRING],mediaKeyTimestamp:[12,r.TYPES.INT64],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Ke],firstScanSidecar:[18,r.TYPES.BYTES],firstScanLength:[19,r.TYPES.UINT32],experimentGroupId:[20,r.TYPES.UINT32],scansSidecar:[21,r.TYPES.BYTES],scanLengths:[22,r.FLAGS.REPEATED|r.TYPES.UINT32],midQualityFileSha256:[23,r.TYPES.BYTES],midQualityFileEncSha256:[24,r.TYPES.BYTES],viewOnce:[25,r.TYPES.BOOL],thumbnailDirectPath:[26,r.TYPES.STRING],thumbnailSha256:[27,r.TYPES.BYTES],thumbnailEncSha256:[28,r.TYPES.BYTES],staticUrl:[29,r.TYPES.STRING]},Ve.internalSpec={groupId:[1,r.TYPES.STRING],axolotlSenderKeyDistributionMessage:[2,r.TYPES.BYTES]},Ke.internalSpec={stanzaId:[1,r.TYPES.STRING],participant:[2,r.TYPES.STRING],quotedMessage:[3,r.TYPES.MESSAGE,I],remoteJid:[4,r.TYPES.STRING],mentionedJid:[15,r.FLAGS.REPEATED|r.TYPES.STRING],conversionSource:[18,r.TYPES.STRING],conversionData:[19,r.TYPES.BYTES],conversionDelaySeconds:[20,r.TYPES.UINT32],forwardingScore:[21,r.TYPES.UINT32],isForwarded:[22,r.TYPES.BOOL],quotedAd:[23,r.TYPES.MESSAGE,He],placeholderKey:[24,r.TYPES.MESSAGE,n.MessageKeySpec],expiration:[25,r.TYPES.UINT32],ephemeralSettingTimestamp:[26,r.TYPES.INT64],ephemeralSharedSecret:[27,r.TYPES.BYTES],externalAdReply:[28,r.TYPES.MESSAGE,je],entryPointConversionSource:[29,r.TYPES.STRING],entryPointConversionApp:[30,r.TYPES.STRING],entryPointConversionDelaySeconds:[31,r.TYPES.UINT32],disappearingMode:[32,r.TYPES.MESSAGE,st],actionLink:[33,r.TYPES.MESSAGE,lt]},je.internalSpec={title:[1,r.TYPES.STRING],body:[2,r.TYPES.STRING],mediaType:[3,r.TYPES.ENUM,C],thumbnailUrl:[4,r.TYPES.STRING],mediaUrl:[5,r.TYPES.STRING],thumbnail:[6,r.TYPES.BYTES],sourceType:[7,r.TYPES.STRING],sourceId:[8,r.TYPES.STRING],sourceUrl:[9,r.TYPES.STRING]},He.internalSpec={advertiserName:[1,r.TYPES.STRING],mediaType:[2,r.TYPES.ENUM,g],jpegThumbnail:[16,r.TYPES.BYTES],caption:[17,r.TYPES.STRING]},We.internalSpec={deviceListMetadata:[1,r.TYPES.MESSAGE,$e],deviceListMetadataVersion:[2,r.TYPES.INT32]},$e.internalSpec={senderKeyHash:[1,r.TYPES.BYTES],senderTimestamp:[2,r.TYPES.UINT64],senderKeyIndexes:[3,r.FLAGS.REPEATED|r.FLAGS.PACKED|r.TYPES.UINT32],recipientKeyHash:[8,r.TYPES.BYTES],recipientTimestamp:[9,r.TYPES.UINT64],recipientKeyIndexes:[10,r.FLAGS.REPEATED|r.FLAGS.PACKED|r.TYPES.UINT32]},ze.internalSpec={polygonVertices:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,qe],location:[2,r.TYPES.MESSAGE,Xe],__oneofs__:{action:["location"]}},qe.internalSpec={xDeprecated:[1,r.TYPES.INT32],yDeprecated:[2,r.TYPES.INT32],x:[3,r.TYPES.DOUBLE],y:[4,r.TYPES.DOUBLE]},Xe.internalSpec={degreesLatitude:[1,r.TYPES.DOUBLE],degreesLongitude:[2,r.TYPES.DOUBLE],name:[3,r.TYPES.STRING]},Qe.internalSpec={quickReplyButton:[1,r.TYPES.MESSAGE,et],urlButton:[2,r.TYPES.MESSAGE,Ze],callButton:[3,r.TYPES.MESSAGE,Je],index:[4,r.TYPES.UINT32],__oneofs__:{button:["quickReplyButton","urlButton","callButton"]}},Je.internalSpec={displayText:[1,r.TYPES.MESSAGE,_e],phoneNumber:[2,r.TYPES.MESSAGE,_e]},Ze.internalSpec={displayText:[1,r.TYPES.MESSAGE,_e],url:[2,r.TYPES.MESSAGE,_e]},et.internalSpec={displayText:[1,r.TYPES.MESSAGE,_e],id:[2,r.TYPES.STRING]},tt.internalSpec={quickReplyButton:[1,r.TYPES.MESSAGE,rt],urlButton:[2,r.TYPES.MESSAGE,nt],callButton:[3,r.TYPES.MESSAGE,ut],index:[4,r.TYPES.UINT32],__oneofs__:{hydratedButton:["quickReplyButton","urlButton","callButton"]}},ut.internalSpec={displayText:[1,r.TYPES.STRING],phoneNumber:[2,r.TYPES.STRING]},nt.internalSpec={displayText:[1,r.TYPES.STRING],url:[2,r.TYPES.STRING]},rt.internalSpec={displayText:[1,r.TYPES.STRING],id:[2,r.TYPES.STRING]},at.internalSpec={value:[1,r.TYPES.INT64],offset:[2,r.TYPES.UINT32],currencyCode:[3,r.TYPES.STRING]},it.internalSpec={id:[1,r.TYPES.STRING],fileLength:[2,r.TYPES.UINT64],width:[3,r.TYPES.UINT32],height:[4,r.TYPES.UINT32],mimetype:[5,r.TYPES.STRING],placeholderArgb:[6,r.TYPES.FIXED32],textArgb:[7,r.TYPES.FIXED32],subtextArgb:[8,r.TYPES.FIXED32],mediaData:[9,r.TYPES.MESSAGE,ot],type:[10,r.TYPES.ENUM,m]},ot.internalSpec={mediaKey:[1,r.TYPES.BYTES],mediaKeyTimestamp:[2,r.TYPES.INT64],fileSha256:[3,r.TYPES.BYTES],fileEncSha256:[4,r.TYPES.BYTES],directPath:[5,r.TYPES.STRING]},st.internalSpec={initiator:[1,r.TYPES.ENUM,y]},lt.internalSpec={url:[1,r.TYPES.STRING],buttonTitle:[2,r.TYPES.STRING]}},8506:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgOpaqueDataSpec=t.MsgRowOpaqueDataSpec=void 0;var n=u(3371);const r={};t.MsgRowOpaqueDataSpec=r;const a={};t.MsgOpaqueDataSpec=a,r.internalSpec={currentMsg:[1,n.TYPES.MESSAGE,a],quotedMsg:[2,n.TYPES.MESSAGE,a]},a.internalSpec={body:[1,n.TYPES.STRING],caption:[3,n.TYPES.STRING],clientUrl:[4,n.TYPES.STRING],loc:[4,n.TYPES.STRING],lng:[5,n.TYPES.DOUBLE],lat:[7,n.TYPES.DOUBLE],paymentAmount1000:[8,n.TYPES.INT32],paymentNoteMsgBody:[9,n.TYPES.STRING],canonicalUrl:[10,n.TYPES.STRING],matchedText:[11,n.TYPES.STRING],title:[12,n.TYPES.STRING],description:[13,n.TYPES.STRING],futureproofBuffer:[14,n.TYPES.BYTES]}},5359:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageKeySpec=void 0;var n=u(3371);const r={};t.MessageKeySpec=r,r.internalSpec={remoteJid:[1,n.TYPES.STRING],fromMe:[2,n.TYPES.BOOL],id:[3,n.TYPES.STRING],participant:[4,n.TYPES.STRING]}},8719:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionSpec=t.UserReceiptSpec=t.PhotoChangeSpec=t.MediaDataSpec=t.WebFeaturesSpec=t.NotificationMessageInfoSpec=t.WebNotificationsInfoSpec=t.PaymentInfoSpec=t.WebMessageInfoSpec=t.WebFeaturesFlag=t.PaymentInfoCurrency=t.PaymentInfoStatus=t.PaymentInfoTxnStatus=t.WebMessageInfoStatus=t.WebMessageInfoStubType=t.WebMessageInfoBizPrivacyStatus=void 0;var n=u(934),r=u(5359),a=u(3371);const i=u(4302)({E2EE:0,FB:2,BSP:1,BSP_AND_FB:3});t.WebMessageInfoBizPrivacyStatus=i;const o=u(4302)({UNKNOWN:0,REVOKE:1,CIPHERTEXT:2,FUTUREPROOF:3,NON_VERIFIED_TRANSITION:4,UNVERIFIED_TRANSITION:5,VERIFIED_TRANSITION:6,VERIFIED_LOW_UNKNOWN:7,VERIFIED_HIGH:8,VERIFIED_INITIAL_UNKNOWN:9,VERIFIED_INITIAL_LOW:10,VERIFIED_INITIAL_HIGH:11,VERIFIED_TRANSITION_ANY_TO_NONE:12,VERIFIED_TRANSITION_ANY_TO_HIGH:13,VERIFIED_TRANSITION_HIGH_TO_LOW:14,VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:15,VERIFIED_TRANSITION_UNKNOWN_TO_LOW:16,VERIFIED_TRANSITION_LOW_TO_UNKNOWN:17,VERIFIED_TRANSITION_NONE_TO_LOW:18,VERIFIED_TRANSITION_NONE_TO_UNKNOWN:19,GROUP_CREATE:20,GROUP_CHANGE_SUBJECT:21,GROUP_CHANGE_ICON:22,GROUP_CHANGE_INVITE_LINK:23,GROUP_CHANGE_DESCRIPTION:24,GROUP_CHANGE_RESTRICT:25,GROUP_CHANGE_ANNOUNCE:26,GROUP_PARTICIPANT_ADD:27,GROUP_PARTICIPANT_REMOVE:28,GROUP_PARTICIPANT_PROMOTE:29,GROUP_PARTICIPANT_DEMOTE:30,GROUP_PARTICIPANT_INVITE:31,GROUP_PARTICIPANT_LEAVE:32,GROUP_PARTICIPANT_CHANGE_NUMBER:33,BROADCAST_CREATE:34,BROADCAST_ADD:35,BROADCAST_REMOVE:36,GENERIC_NOTIFICATION:37,E2E_IDENTITY_CHANGED:38,E2E_ENCRYPTED:39,CALL_MISSED_VOICE:40,CALL_MISSED_VIDEO:41,INDIVIDUAL_CHANGE_NUMBER:42,GROUP_DELETE:43,GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:44,CALL_MISSED_GROUP_VOICE:45,CALL_MISSED_GROUP_VIDEO:46,PAYMENT_CIPHERTEXT:47,PAYMENT_FUTUREPROOF:48,PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:49,PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:50,PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:51,PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:52,PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:53,PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:54,PAYMENT_ACTION_SEND_PAYMENT_REMINDER:55,PAYMENT_ACTION_SEND_PAYMENT_INVITATION:56,PAYMENT_ACTION_REQUEST_DECLINED:57,PAYMENT_ACTION_REQUEST_EXPIRED:58,PAYMENT_ACTION_REQUEST_CANCELLED:59,BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:60,BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:61,BIZ_INTRO_TOP:62,BIZ_INTRO_BOTTOM:63,BIZ_NAME_CHANGE:64,BIZ_MOVE_TO_CONSUMER_APP:65,BIZ_TWO_TIER_MIGRATION_TOP:66,BIZ_TWO_TIER_MIGRATION_BOTTOM:67,OVERSIZED:68,GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:69,GROUP_V4_ADD_INVITE_SENT:70,GROUP_PARTICIPANT_ADD_REQUEST_JOIN:71,CHANGE_EPHEMERAL_SETTING:72,E2E_DEVICE_CHANGED:73,VIEWED_ONCE:74,E2E_ENCRYPTED_NOW:75,BLUE_MSG_BSP_FB_TO_BSP_PREMISE:76,BLUE_MSG_BSP_FB_TO_SELF_FB:77,BLUE_MSG_BSP_FB_TO_SELF_PREMISE:78,BLUE_MSG_BSP_FB_UNVERIFIED:79,BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:80,BLUE_MSG_BSP_FB_VERIFIED:81,BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:82,BLUE_MSG_BSP_PREMISE_TO_SELF_PREMISE:83,BLUE_MSG_BSP_PREMISE_UNVERIFIED:84,BLUE_MSG_BSP_PREMISE_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:85,BLUE_MSG_BSP_PREMISE_VERIFIED:86,BLUE_MSG_BSP_PREMISE_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:87,BLUE_MSG_CONSUMER_TO_BSP_FB_UNVERIFIED:88,BLUE_MSG_CONSUMER_TO_BSP_PREMISE_UNVERIFIED:89,BLUE_MSG_CONSUMER_TO_SELF_FB_UNVERIFIED:90,BLUE_MSG_CONSUMER_TO_SELF_PREMISE_UNVERIFIED:91,BLUE_MSG_SELF_FB_TO_BSP_PREMISE:92,BLUE_MSG_SELF_FB_TO_SELF_PREMISE:93,BLUE_MSG_SELF_FB_UNVERIFIED:94,BLUE_MSG_SELF_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:95,BLUE_MSG_SELF_FB_VERIFIED:96,BLUE_MSG_SELF_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:97,BLUE_MSG_SELF_PREMISE_TO_BSP_PREMISE:98,BLUE_MSG_SELF_PREMISE_UNVERIFIED:99,BLUE_MSG_SELF_PREMISE_VERIFIED:100,BLUE_MSG_TO_BSP_FB:101,BLUE_MSG_TO_CONSUMER:102,BLUE_MSG_TO_SELF_FB:103,BLUE_MSG_UNVERIFIED_TO_BSP_FB_VERIFIED:104,BLUE_MSG_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:105,BLUE_MSG_UNVERIFIED_TO_SELF_FB_VERIFIED:106,BLUE_MSG_UNVERIFIED_TO_VERIFIED:107,BLUE_MSG_VERIFIED_TO_BSP_FB_UNVERIFIED:108,BLUE_MSG_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:109,BLUE_MSG_VERIFIED_TO_SELF_FB_UNVERIFIED:110,BLUE_MSG_VERIFIED_TO_UNVERIFIED:111,BLUE_MSG_BSP_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:112,BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_FB_VERIFIED:113,BLUE_MSG_BSP_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:114,BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_FB_UNVERIFIED:115,BLUE_MSG_SELF_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:116,BLUE_MSG_SELF_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:117,E2E_IDENTITY_UNAVAILABLE:118,GROUP_CREATING:119,GROUP_CREATE_FAILED:120,GROUP_BOUNCED:121,BLOCK_CONTACT:122,EPHEMERAL_SETTING_NOT_APPLIED:123,SYNC_FAILED:124,SYNCING:125,BIZ_PRIVACY_MODE_INIT_FB:126,BIZ_PRIVACY_MODE_INIT_BSP:127,BIZ_PRIVACY_MODE_TO_FB:128,BIZ_PRIVACY_MODE_TO_BSP:129,DISAPPEARING_MODE:130,E2E_DEVICE_FETCH_FAILED:131});t.WebMessageInfoStubType=o;const s=u(4302)({ERROR:0,PENDING:1,SERVER_ACK:2,DELIVERY_ACK:3,READ:4,PLAYED:5});t.WebMessageInfoStatus=s;const l=u(4302)({UNKNOWN:0,PENDING_SETUP:1,PENDING_RECEIVER_SETUP:2,INIT:3,SUCCESS:4,COMPLETED:5,FAILED:6,FAILED_RISK:7,FAILED_PROCESSING:8,FAILED_RECEIVER_PROCESSING:9,FAILED_DA:10,FAILED_DA_FINAL:11,REFUNDED_TXN:12,REFUND_FAILED:13,REFUND_FAILED_PROCESSING:14,REFUND_FAILED_DA:15,EXPIRED_TXN:16,AUTH_CANCELED:17,AUTH_CANCEL_FAILED_PROCESSING:18,AUTH_CANCEL_FAILED:19,COLLECT_INIT:20,COLLECT_SUCCESS:21,COLLECT_FAILED:22,COLLECT_FAILED_RISK:23,COLLECT_REJECTED:24,COLLECT_EXPIRED:25,COLLECT_CANCELED:26,COLLECT_CANCELLING:27,IN_REVIEW:28});t.PaymentInfoTxnStatus=l;const c=u(4302)({UNKNOWN_STATUS:0,PROCESSING:1,SENT:2,NEED_TO_ACCEPT:3,COMPLETE:4,COULD_NOT_COMPLETE:5,REFUNDED:6,EXPIRED:7,REJECTED:8,CANCELLED:9,WAITING_FOR_PAYER:10,WAITING:11});t.PaymentInfoStatus=c;const D=u(4302)({UNKNOWN_CURRENCY:0,INR:1});t.PaymentInfoCurrency=D;const E=u(4302)({NOT_STARTED:0,FORCE_UPGRADE:1,DEVELOPMENT:2,PRODUCTION:3});t.WebFeaturesFlag=E;const d={};t.WebMessageInfoSpec=d;const f={};t.PaymentInfoSpec=f;const _={};t.WebNotificationsInfoSpec=_;const h={};t.NotificationMessageInfoSpec=h;const A={};t.WebFeaturesSpec=A;const S={};t.MediaDataSpec=S;const p={};t.PhotoChangeSpec=p;const F={};t.UserReceiptSpec=F;const T={};t.ReactionSpec=T,d.internalDefaults={status:s.PENDING},d.internalSpec={key:[1,a.FLAGS.REQUIRED|a.TYPES.MESSAGE,r.MessageKeySpec],message:[2,a.TYPES.MESSAGE,n.MessageSpec],messageTimestamp:[3,a.TYPES.UINT64],status:[4,a.TYPES.ENUM,s],participant:[5,a.TYPES.STRING],messageC2STimestamp:[6,a.TYPES.UINT64],ignore:[16,a.TYPES.BOOL],starred:[17,a.TYPES.BOOL],broadcast:[18,a.TYPES.BOOL],pushName:[19,a.TYPES.STRING],mediaCiphertextSha256:[20,a.TYPES.BYTES],multicast:[21,a.TYPES.BOOL],urlText:[22,a.TYPES.BOOL],urlNumber:[23,a.TYPES.BOOL],messageStubType:[24,a.TYPES.ENUM,o],clearMedia:[25,a.TYPES.BOOL],messageStubParameters:[26,a.FLAGS.REPEATED|a.TYPES.STRING],duration:[27,a.TYPES.UINT32],labels:[28,a.FLAGS.REPEATED|a.TYPES.STRING],paymentInfo:[29,a.TYPES.MESSAGE,f],finalLiveLocation:[30,a.TYPES.MESSAGE,n.LiveLocationMessageSpec],quotedPaymentInfo:[31,a.TYPES.MESSAGE,f],ephemeralStartTimestamp:[32,a.TYPES.UINT64],ephemeralDuration:[33,a.TYPES.UINT32],ephemeralOffToOn:[34,a.TYPES.BOOL],ephemeralOutOfSync:[35,a.TYPES.BOOL],bizPrivacyStatus:[36,a.TYPES.ENUM,i],verifiedBizName:[37,a.TYPES.STRING],mediaData:[38,a.TYPES.MESSAGE,S],photoChange:[39,a.TYPES.MESSAGE,p],userReceipt:[40,a.FLAGS.REPEATED|a.TYPES.MESSAGE,F],reactions:[41,a.FLAGS.REPEATED|a.TYPES.MESSAGE,T],quotedStickerData:[42,a.TYPES.MESSAGE,S],futureproofData:[43,a.TYPES.BYTES],statusPsaCampaignId:[44,a.TYPES.STRING]},f.internalSpec={currencyDeprecated:[1,a.TYPES.ENUM,D],amount1000:[2,a.TYPES.UINT64],receiverJid:[3,a.TYPES.STRING],status:[4,a.TYPES.ENUM,c],transactionTimestamp:[5,a.TYPES.UINT64],requestMessageKey:[6,a.TYPES.MESSAGE,r.MessageKeySpec],expiryTimestamp:[7,a.TYPES.UINT64],futureproofed:[8,a.TYPES.BOOL],currency:[9,a.TYPES.STRING],txnStatus:[10,a.TYPES.ENUM,l],useNoviFiatFormat:[11,a.TYPES.BOOL],primaryAmount:[12,a.TYPES.MESSAGE,n.MoneySpec],exchangeAmount:[13,a.TYPES.MESSAGE,n.MoneySpec]},_.internalSpec={timestamp:[2,a.TYPES.UINT64],unreadChats:[3,a.TYPES.UINT32],notifyMessageCount:[4,a.TYPES.UINT32],notifyMessages:[5,a.FLAGS.REPEATED|a.TYPES.MESSAGE,d]},h.internalSpec={key:[1,a.TYPES.MESSAGE,r.MessageKeySpec],message:[2,a.TYPES.MESSAGE,n.MessageSpec],messageTimestamp:[3,a.TYPES.UINT64],participant:[4,a.TYPES.STRING]},A.internalSpec={labelsDisplay:[1,a.TYPES.ENUM,E],voipIndividualOutgoing:[2,a.TYPES.ENUM,E],groupsV3:[3,a.TYPES.ENUM,E],groupsV3Create:[4,a.TYPES.ENUM,E],changeNumberV2:[5,a.TYPES.ENUM,E],queryStatusV3Thumbnail:[6,a.TYPES.ENUM,E],liveLocations:[7,a.TYPES.ENUM,E],queryVname:[8,a.TYPES.ENUM,E],voipIndividualIncoming:[9,a.TYPES.ENUM,E],quickRepliesQuery:[10,a.TYPES.ENUM,E],payments:[11,a.TYPES.ENUM,E],stickerPackQuery:[12,a.TYPES.ENUM,E],liveLocationsFinal:[13,a.TYPES.ENUM,E],labelsEdit:[14,a.TYPES.ENUM,E],mediaUpload:[15,a.TYPES.ENUM,E],mediaUploadRichQuickReplies:[18,a.TYPES.ENUM,E],vnameV2:[19,a.TYPES.ENUM,E],videoPlaybackUrl:[20,a.TYPES.ENUM,E],statusRanking:[21,a.TYPES.ENUM,E],voipIndividualVideo:[22,a.TYPES.ENUM,E],thirdPartyStickers:[23,a.TYPES.ENUM,E],frequentlyForwardedSetting:[24,a.TYPES.ENUM,E],groupsV4JoinPermission:[25,a.TYPES.ENUM,E],recentStickers:[26,a.TYPES.ENUM,E],catalog:[27,a.TYPES.ENUM,E],starredStickers:[28,a.TYPES.ENUM,E],voipGroupCall:[29,a.TYPES.ENUM,E],templateMessage:[30,a.TYPES.ENUM,E],templateMessageInteractivity:[31,a.TYPES.ENUM,E],ephemeralMessages:[32,a.TYPES.ENUM,E],e2ENotificationSync:[33,a.TYPES.ENUM,E],recentStickersV2:[34,a.TYPES.ENUM,E],recentStickersV3:[36,a.TYPES.ENUM,E],userNotice:[37,a.TYPES.ENUM,E],support:[39,a.TYPES.ENUM,E],groupUiiCleanup:[40,a.TYPES.ENUM,E],groupDogfoodingInternalOnly:[41,a.TYPES.ENUM,E],settingsSync:[42,a.TYPES.ENUM,E],archiveV2:[43,a.TYPES.ENUM,E],ephemeralAllowGroupMembers:[44,a.TYPES.ENUM,E],ephemeral24HDuration:[45,a.TYPES.ENUM,E],mdForceUpgrade:[46,a.TYPES.ENUM,E],disappearingMode:[47,a.TYPES.ENUM,E],externalMdOptInAvailable:[48,a.TYPES.ENUM,E]},S.internalSpec={localPath:[1,a.TYPES.STRING]},p.internalSpec={oldPhoto:[1,a.TYPES.BYTES],newPhoto:[2,a.TYPES.BYTES],newPhotoId:[3,a.TYPES.UINT32]},F.internalSpec={userJid:[1,a.FLAGS.REQUIRED|a.TYPES.STRING],receiptTimestamp:[2,a.TYPES.INT64],readTimestamp:[3,a.TYPES.INT64],playedTimestamp:[4,a.TYPES.INT64],pendingDeviceJid:[5,a.FLAGS.REPEATED|a.TYPES.STRING],deliveredDeviceJid:[6,a.FLAGS.REPEATED|a.TYPES.STRING]},T.internalSpec={key:[1,a.TYPES.MESSAGE,r.MessageKeySpec],text:[2,a.TYPES.STRING],groupingKey:[3,a.TYPES.STRING],senderTimestampMs:[4,a.TYPES.INT64],revoked:[5,a.TYPES.BOOL]}},3351:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(){null==d&&((0,o.createStorage)(),(0,a.addTable)(),(0,s.addTable)(),(0,l.addTable)(),(0,c.addTable)(),(0,i.addTable)(),(0,D.addTable)(),d=(0,o.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize fts storage"),e})));return d},t.destroy=function(){return(0,o.destroyStorage)().catch((()=>E.resolve(new r.default(o.DATABASE_NAME).delete()))).finally((()=>(d=null,E.resolve(new r.default("fts-storage-dogfooding").delete()))))},t.clearInitializePromise=function(){d=null},Object.defineProperty(t,"getManifestTable",{enumerable:!0,get:function(){return a.getTable}}),Object.defineProperty(t,"getPurgeRangeQueueTable",{enumerable:!0,get:function(){return i.getTable}}),Object.defineProperty(t,"getIndexV1Table",{enumerable:!0,get:function(){return s.getTable}}),Object.defineProperty(t,"getIndexV2Table",{enumerable:!0,get:function(){return l.getTable}}),Object.defineProperty(t,"getV2TokenToPrefixMappingTable",{enumerable:!0,get:function(){return c.getTable}}),Object.defineProperty(t,"getIndexV3Table",{enumerable:!0,get:function(){return D.getTable}});var r=n(u(6128)),a=u(1586),i=u(138),o=u(9254),s=u(6910),l=u(5370),c=u(2664),D=u(7490);const E=u(5252).Z;let d},1586:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add(s).version((0,o.manifestCreateTable)(),[new i.default("key"),new r.default("tokenizerVersion"),new r.default("schemaVersion"),new r.default("isCurrent"),new r.default("lastMsgKeyViaFullIndexer"),new r.default("isFullIndexingComplete")]).view((e=>e||null))},t.getTable=function(){return(0,a.getStorage)().table(s)},t.ManifestKeys=t.TABLE_NAME=void 0;var r=n(u(5762)),a=u(9254),i=n(u(7756)),o=u(3569);const s="manifest";t.TABLE_NAME=s;const l=Object.freeze({PREV_VERSION:"prev.version",CURR_VERSION:"curr.version",NEXT_VERSION:"next.version"});t.ManifestKeys=l},138:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,i.getStorage)().add(s).version((0,o.purgeRangeQueueCreateTable)(),[new a.default(["chatId","tsOfLastMessage","startRowId","endRowId"]),new r.default("offset")]).view((e=>e))},t.getTable=function(){return(0,i.getStorage)().table(s)},t.TABLE_NAME=void 0;var r=n(u(5762)),a=n(u(2866)),i=u(9254),o=u(3569);const s="fts-purge-range-queue";t.TABLE_NAME=s},6910:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,o.getStorage)().add(c).version((0,l.ftsV1IndexCreateTable)(),[new s.default("token"),new i.default("ids"),new a.default("ids"),new i.default("prefixes"),new a.default("prefixes")]).view((e=>e?(0,r.buildEntry)(e.prefixes,e.ids):null))},t.getTable=function(){return(0,o.getStorage)().table(c)},t.TABLE_NAME=void 0;var r=u(2791),a=n(u(6985)),i=n(u(5762)),o=u(9254),s=n(u(7756)),l=u(3569);const c="fts-v1-index";t.TABLE_NAME=c},5370:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,l.getStorage)().add(D).version((0,c.ftsV2IndexCreateTable)(),[new s.default(["id","chatId","token"]),new o.default("id"),new o.default("chatId"),new o.default("token"),new i.default(["chatId","token"]),new a.default("timestamp"),new i.default(["id","token"])]).view((e=>e?(0,r.buildEntry)(e.id,e.chatId,e.token,e.timestamp):null))},t.getTable=function(){return(0,l.getStorage)().table(D)},t.TABLE_NAME=void 0;var r=u(3019),a=n(u(5762)),i=n(u(1900)),o=n(u(8392)),s=n(u(2866)),l=u(9254),c=u(3569);const D="fts-v2-index";t.TABLE_NAME=D},2664:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,i.getStorage)().add(l).version((0,s.ftsV2TokenToPrefixesCreateTable)(),[new o.default("token"),new a.default("prefixes"),new r.default("prefixes")]).view((e=>e||null))},t.getTable=function(){return(0,i.getStorage)().table(l)},t.TABLE_NAME=void 0;var r=n(u(6985)),a=n(u(5762)),i=u(9254),o=n(u(7756)),s=u(3569);const l="fts-v2-token-prefixes";t.TABLE_NAME=l},7490:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,l.getStorage)().add(D).version((0,c.ftsV3IndexCreateTable)(),[new s.default("ftsRowId"),new i.default("id"),new o.default("id"),new i.default("chatId"),new o.default("chatId"),new i.default("timestamp"),new i.default("prefixes"),new a.default("prefixes")]).view((e=>e?(0,r.buildDBEntry)(e.ftsRowId,e.id,e.chatId,e.timestamp,e.prefixes):null))},t.getTable=function(){return(0,l.getStorage)().table(D)},t.TABLE_NAME=void 0;var r=u(6685),a=n(u(6985)),i=n(u(5762)),o=n(u(8392)),s=n(u(7840)),l=u(9254),c=u(3569);const D="fts-v3-index";t.TABLE_NAME=D},9254:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.createStorage=function(){const e=new i.default(l);c=new o.default(e),c.addErrorHandler(r.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&s.default.trigger("storage_not_enough_space")}))},t.getStorage=function(){return(0,a.default)(null!=c,"[fts-storage] Storage should be created first before being accessed"),c},t.destroyStorage=function(){if(null==c)return Promise.reject(new Error("[fts-storage] Storage should be created first before being destroyed"));return c.purge().then((()=>{c=null})).catch((e=>{throw c=null,e}))},t.DATABASE_NAME=void 0;var r=n(u(6128)),a=n(u(1143)),i=n(u(1792)),o=n(u(4779)),s=n(u(6198));const l="fts-storage";t.DATABASE_NAME=l;let c=null},3569:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ftsV1IndexCreateTable=function(){return(0,n.getStorage)().versions.version(0)},t.manifestCreateTable=function(){return(0,n.getStorage)().versions.version(1)},t.purgeRangeQueueCreateTable=function(){return(0,n.getStorage)().versions.version(2)},t.ftsV2IndexCreateTable=function(){return(0,n.getStorage)().versions.version(3)},t.ftsV2TokenToPrefixesCreateTable=function(){return(0,n.getStorage)().versions.version(4)},t.ftsV3IndexCreateTable=function(){return(0,n.getStorage)().versions.version(5)};var n=u(9254)},1792:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(8926)),a=u(6635),i=n(u(7900)),o=n(u(6128)),s=n(u(1143)),l=u(4666),c=u(2521);let D,E=null;E=u(6120).default,D=u(6120).DB_ENCRYPTION_CIPHER;const d=u(5252).Z;function f(){return(f=(0,r.default)((function*(e,t,u,n){if(!E)throw new Error("feature is not yet implemented");{const r=n?E.dbMsgEncKeys[E.dbMsgEncKeys.length-1]:E.encKeys[E.encKeys.length-1],a=new Uint8Array(16);self.crypto.getRandomValues(a);const i=u===l.ENCRYPTED_VALUE_TYPE.STRING?(new TextEncoder).encode(e):e;try{const e=self.crypto.subtle.encrypt({iv:a,name:D},r.key,i),t=null==o.default.currentTransaction?e:o.default.waitFor(e);return{_data:yield d.resolve(t),iv:a,_keyId:r.id}}catch(u){throw C(u,"encryptDbMaterial",null,e,t),u}}}))).apply(this,arguments)}function _(){return(_=(0,r.default)((function*(e,t,u,n){if(!E)throw new Error("feature is not yet implemented");{const{_data:r,iv:a,_keyId:i}=e,c=n?E.dbMsgEncKeys.filter((e=>e.id===i))[0]:E.encKeys.filter((e=>e.id===i))[0];if((0,s.default)(null!=c,"Encryption key id not found"),null==r)return r;try{const e=self.crypto.subtle.decrypt({iv:a,name:D},c.key,r),t=null==o.default.currentTransaction?e:o.default.waitFor(e),n=yield d.resolve(t);return u===l.ENCRYPTED_VALUE_TYPE.STRING?new TextDecoder("utf-8").decode(n):n}catch(e){throw C(e,"encryptDbMaterial",null,t),e}}}))).apply(this,arguments)}class h{constructor(e,t,u,n,r,a){this.table=e,this.view=u,this.db=t,this.propFilter=n,this.tableEncryptedColumns=new Map(Object.keys(r).map((e=>[e,r[e]]))),this.shouldUseDbMsgEncKeyForEncryptedCol=a}asyncView(e,t=!0){var u=this;return(0,r.default)((function*(){if(!u._hasEncryptedColumn()||!t)return u.view(e);const n=yield u._decryptColumns(e);return u.view(n)}))()}_decryptColumns(e){var t=this;return(0,r.default)((function*(){(0,s.default)("object"==typeof e,"Called `_decryptColumns` with primitive value");const u=Array.from(t.tableEncryptedColumns.entries()).map((([u,n])=>{const r=e[u];return(null==r?void 0:r._data)&&(null==r?void 0:r.iv)?function(){return _.apply(this,arguments)}(r,u,n,t.shouldUseDbMsgEncKeyForEncryptedCol).then((t=>{e[u]=t})):r}));return yield Promise.all(u),e}))()}_encryptColumns(e){const t=Array.from(this.tableEncryptedColumns.entries()).map((([t,u])=>{const n=e[t];return null==n?n:function(){return f.apply(this,arguments)}(n,t,u,this.shouldUseDbMsgEncKeyForEncryptedCol).then((u=>{e[t]=u}))}));return Promise.all(t).then((()=>e))}_addAndEncrypt(e){var t=this;return(0,r.default)((function*(){if(!t._hasEncryptedColumn())return t.table.add(e);const u=yield t._encryptSingleUpdate(e);return t.table.add(u)}))()}_putAndEncrypt(e){var t=this;return(0,r.default)((function*(){if(!t._hasEncryptedColumn())return t.table.put(e);const u=yield t._encryptColumns(e);return t.table.put(u)}))()}_bulkAddAndEncrypt(e){return this._hasEncryptedColumn()?this._encryptBulkUpdates(e).then((e=>this.table.bulkAdd(e))):this.table.bulkAdd(e)}_bulkPutAndEncrypt(e){return this._hasEncryptedColumn()?o.default.waitFor(this._encryptBulkUpdates(e)).then((e=>this.table.bulkPut(e))):this.table.bulkPut(e)}_encryptBulkUpdates(e){if(!this._hasEncryptedColumn())return d.resolve(e);const t=[],u=e.map(((e,u)=>this._encryptColumns(e).then((e=>{t[u]=e}))));return Promise.all(u).then((()=>t))}_encryptSingleUpdate(e){var t=this;return(0,r.default)((function*(){if(!t._hasEncryptedColumn())return e;return yield t._encryptColumns(e)}))()}asyncViewMap(e,t=!0){if(!this._hasEncryptedColumn()||!t)return Promise.resolve(e.map((e=>e?this.view(e):null)));const u=e.map((e=>null!=e?this.asyncView(e):d.resolve(null)));return d.resolve(null==o.default.currentTransaction?Promise.all(u):o.default.waitFor(Promise.all(u)))}preflightEncryptSingleRecord(e){return this.tableEncryptedColumns,Object.keys(e).forEach((t=>{this.tableEncryptedColumns.has(t)||delete e[t]})),this._encryptColumns(e)}postflightDecryptSingleRecord(e){var t=this;return(0,r.default)((function*(){const u=yield t._decryptColumns(e);return t.view(u)}))()}bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY(e){return g(e,this.tableEncryptedColumns),d.resolve(this.table.bulkAdd(e)).catch((t=>{throw C(t,"bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY",this.table.name,e),t}))}bulkCreateOrReplace_ALREADY_ENCRYPTED_RECORDS_ONLY(e){return g(e,this.tableEncryptedColumns),d.resolve(this.table.bulkPut(e)).catch((t=>{throw C(t,"bulkCreateOrReplace",this.table.name,e),t}))}create(e){const t=this.propFilter(e);return d.resolve(this._addAndEncrypt(t)).catch((t=>{throw C(t,"create",this.table.name,e),t}))}createOrReplace(e){const t=this.propFilter(e);return d.resolve(this._putAndEncrypt(t)).catch((t=>{throw C(t,"createOrReplace",this.table.name,e),t}))}createOrMerge(e,t){var u=this;return(0,r.default)((function*(){const n=u.propFilter(t),r=yield u._encryptColumns(n);return d.resolve(u.db.transaction("rw",u.table,(()=>u.table.where(":id").equals(e).modify((e=>{Object.assign(e,r)})).then((e=>{if(1!==e)return u.table.add(r)})))).then((()=>{}))).catch((n=>{throw C(n,"createOrMerge",u.table.name,e,t),n}))}))()}get(e,t=!0){return d.resolve(this.table.get(e)).then((e=>e?this.asyncView(e,t):null)).catch((t=>{throw C(t,"get",this.table.name,e),t}))}merge(e,t){var u=this;return(0,r.default)((function*(){const n=u.propFilter(t),r=yield u._encryptSingleUpdate(n);return d.resolve(u.table.update(e,r)).catch((n=>{throw C(n,"merge",u.table.name,e,t),n}))}))()}remove(e){return d.resolve(this.table.delete(e)).catch((t=>{throw C(t,"remove",this.table.name,e),t}))}bulkCreate(e){const t=e.map((e=>this.propFilter(e)));return this._hasEncryptedColumn()?d.resolve(this.db.transaction("rw",this.table,(()=>this._bulkAddAndEncrypt(t)))).catch((t=>{throw C(t,"bulkCreate",this.table.name,e),t})):d.resolve(this.table.bulkAdd(t))}bulkCreateOrReplace(e){const t=e.map((e=>this.propFilter(e)));return this._hasEncryptedColumn()?d.resolve(this.db.transaction("rw",this.table,(()=>this._bulkPutAndEncrypt(t)))).catch((t=>{throw C(t,"bulkCreateOrReplace",this.table.name,e),t})):d.resolve(this.table.bulkPut(t))}bulkCreateOrMerge(e){var t=this;return(0,r.default)((function*(){const u=new Map,n=t._primaryKey();function a(){return(a=(0,r.default)((function*(e){const u=t.table.where(":id").anyOf(Array.from(e.keys()));yield u.modify((t=>{Object.assign(t,e.get(t[n])),e.delete(t[n])}));return Array.from(e.values())}))).apply(this,arguments)}return(yield t._encryptBulkUpdates(e)).forEach((e=>{const r=t.propFilter(e);(0,s.default)(n in r,"Called `bulkCreateOrMerge` with item(s) not including the primary key"),u.set(r[n],r)})),d.resolve(t.db.transaction("rw",t.table,(()=>function(){return a.apply(this,arguments)}(u).then((e=>0===e.length?d.resolve():t.table.bulkPut(e)))))).catch((u=>{throw C(u,"bulkCreateOrMerge",t.table.name,e),u}))}))()}bulkGet(e,t=!0){return d.resolve(this.db.transaction("r",this.table,(()=>{const t=e.map((e=>this.table.get(e)));return o.default.Promise.all(t)}))).then((e=>this.asyncViewMap(e,t))).catch((t=>{throw C(t,"bulkGet",this.table.name,e),t}))}bulkRemove(e){return d.resolve(this.db.transaction("rw",this.table,(()=>this.table.bulkDelete(e)))).catch((t=>{throw C(t,"bulkRemove",this.table.name,e),t}))}bulkRemoveByIndex(e,t){return d.resolve(F(this.table.where(p(e)).anyOf(t)).delete()).catch((u=>{throw C(u,"bulkRemoveByIndex",this.table.name,e,t),u}))}all(e,t){let u=F(this.table.orderBy(e&&e.index?p(e.index):":id"),e);t&&(u=u.until(t));let n=null;switch(null==e?void 0:e.returnKeyType){case"keys":n=d.resolve(u.keys());break;case"primary_key":n=d.resolve(u.primaryKeys());break;default:n=d.resolve(u.toArray()).then((t=>this.asyncViewMap(t,null==e?void 0:e.shouldDecrypt)))}return n.catch((t=>{throw C(t,"all",this.table.name,e),t}))}count(){return d.resolve(this.table.count()).catch((e=>{throw C(e,"count",this.table.name),e}))}bulkDeleteRange(e,t,u,n){return F(this.table.where(p(e)).between(t,u,!(!n||!n.lowerInclusive),!(!n||!n.upperInclusive)),n).delete().catch((r=>{throw C(r,"bulkDeleteRange",this.table.name,e,t,u,n),r}))}equals(e,t,u){return d.resolve(F(this.table.where(p(e)).equals(t),u).toArray()).then((e=>this.asyncViewMap(e,null==u?void 0:u.shouldDecrypt))).catch((n=>{throw C(n,"equals",this.table.name,e,t,u),n}))}anyOf(e,t,u){return d.resolve(F(this.table.where(p(e)).anyOf(t),u).distinct().toArray()).then((e=>this.asyncViewMap(e,null==u?void 0:u.shouldDecrypt))).catch((n=>{throw C(n,"anyOf",this.table.name,e,t,u),n}))}startsWithAnyOf(e,t,u){return d.resolve(F(this.table.where(p(e)).startsWithAnyOf(t),u).distinct().toArray()).then((e=>this.asyncViewMap(e,null==u?void 0:u.shouldDecrypt))).catch((n=>{throw C(n,"startsWithAnyOf",this.table.name,e,t,u),n}))}greaterThan(e,t,u){const n=u&&u.inclusive?this.table.where(p(e)).aboveOrEqual(t):this.table.where(p(e)).above(t);return d.resolve(F(n,u).toArray()).then((e=>this.asyncViewMap(e,null==u?void 0:u.shouldDecrypt))).catch((n=>{throw C(n,"greaterThan",this.table.name,e,t,u),n}))}lessThan(e,t,u){const n=u&&u.inclusive?this.table.where(p(e)).belowOrEqual(t):this.table.where(p(e)).below(t);return d.resolve(F(n,u).toArray()).then((e=>this.asyncViewMap(e,null==u?void 0:u.shouldDecrypt))).catch((n=>{throw C(n,"lessThan",this.table.name,e,t,u),n}))}between(e,t,u,n,r){const a=F(this.table.where(p(e)).between(t,u,!(!n||!n.lowerInclusive),!(!n||!n.upperInclusive)),n);let i=null;switch(null==n?void 0:n.returnKeyType){case"keys":i=d.resolve(a.keys());break;case"primary_key":i=d.resolve(a.primaryKeys());break;default:i=r?d.resolve(a.until(r).toArray()).then((()=>[])):d.resolve(a.toArray()).then((e=>this.asyncViewMap(e,null==n?void 0:n.shouldDecrypt)))}return i.catch((r=>{throw C(r,"between",this.table.name,e,t,u,n),r}))}forEachSortedBy(e,t){var u=this;return this.table.orderBy(e).each(function(){var e=(0,r.default)((function*(e){const n=yield u._decryptColumns(e);return t(n)}));return function(){return e.apply(this,arguments)}}()).catch((u=>{throw C(u,"forEachSortedBy",this.table.name,e,t),u}))}forEach(e){var t=this;return this.table.each(function(){var u=(0,r.default)((function*(u){const n=yield t._decryptColumns(u);return e(n)}));return function(){return u.apply(this,arguments)}}()).catch((t=>{throw C(t,"forEach",this.table.name,e),t}))}clear(){return d.resolve(this.table.clear()).catch((e=>{throw C(e,"clear",this.table.name),e}))}_primaryKey(){return this.table.schema.primKey.name}_hasEncryptedColumn(){return this.tableEncryptedColumns.size>0}}function A(e){if(e.length>1)return e.forEach((e=>{(0,s.default)(e.primaryKey&&e.primaryKey===c.PRIMARY_KEY_TYPE.COMPOSITE,"Invalid column passed to `formatPrimaryKey`")})),`[${e.map((e=>e.name)).join("+")}]`;{const t=e[0];return(0,s.default)(t.primaryKey&&t.primaryKey!==c.PRIMARY_KEY_TYPE.COMPOSITE,"Invalid column passed to `formatPrimaryKey`"),t.primaryKey===c.PRIMARY_KEY_TYPE.AUTO_INCREMENT?`${t.name}++`:t.name}}function S(e){switch(e.type){case c.INDEX_TYPE.SIMPLE:return e.column;case c.INDEX_TYPE.COMPOSITE:return`[${e.columns.join("+")}]`;case c.INDEX_TYPE.ARRAY:return`*${e.column}`;case c.INDEX_TYPE.UNIQUE:return`&${e.column}`}throw new Error(`Cannot format index of type "${e.type}"`)}function p(e){return 1===e.length?e[0]:`[${e.join("+")}]`}function F(e,t){let u=e;return t&&t.reverse&&(u=u.reverse()),t&&null!=t.offset&&(u=u.offset(t.offset)),t&&null!=t.limit&&0!==t.limit&&(u=u.limit(t.limit)),u}function T(e){return d.resolve(e)}function C(e,t,u,...n){__LOG__(3,!0)`idb faild to do Operation: ${t} on Table: ${u}. Failed with error ${e}`}function g(e,t){const u=Array.from(t.entries());e.forEach((()=>{u.forEach((([t,u])=>{if(e[t]&&!(e[t]._keyId&&e[t]._data&&e[t].iv))throw new Error("[CRITICAL] Records contain unencrypted field")}))}))}t.default=class{constructor(e,t=T){this.tableNames=new Map,this.tableColumns=new Map,this.tableEncryptedColumns=new Map,this.errorHandlers=new Map,this.name=e,this.db=new o.default(this.name),this.transformSchema=t}initialize(e,t,u,n){return n&&(this.errorHandlers=n),function(e,t,u,n,r){return(0,a.promiseReduce)(e,((e,a)=>r((0,c.cloneSchema)(a)).then((r=>{if((0,s.default)(!(r.name in e),"Multiple tables resulted in the same transformed name"),r.deleted)return e[r.name]=null,e;t.set(a.name,r.name),u.set(a.name,r.columns.map((e=>e.name))),n.set(a.name,r.encryptedColumns||{});const i=r.columns.filter((e=>e.primaryKey));(0,s.default)(i.length>=1,`No primary key was defined for "${a.name}"`);const o=[A(i)].concat(r.indexes.map(S)).join(", ");return e[r.name]=o,e}))),{})}(t,this.tableNames,this.tableColumns,this.tableEncryptedColumns,this.transformSchema).then((t=>{this.db.version(e+1).stores(t).upgrade((e=>{var t;if(u)return null===(t=e[u.name])||void 0===t?void 0:t.toCollection().modify(u.callback)}))}))}open(){return d.resolve(this.db.open())}transact(e,t,u="rw"){return d.resolve(this.db.transaction(u,e,(()=>t()))).catch((e=>{const t=this.errorHandlers.get(e.name);if(!t)throw e;t(e)}))}close(){return this.db.close(),d.resolve()}view(e,t,u,n){(0,s.default)(this.tableNames.has(e),`Attemped to get view for uninitialized table "${e}"`),(0,s.default)(this.tableColumns.has(e),`Attemped to get columns for uninitialized table "${e}"`);const r=u?function(e){if(!e)return e=>e;return t=>{const u={};return e.forEach((e=>{t.hasOwnProperty(e)&&(u[e]=t[e])})),u}}(this.tableColumns.get(e)):e=>e;return new h(this.db.table(this.tableNames.get(e)),this.db,t,r,(0,i.default)(this.tableEncryptedColumns.get(e),"this.tableEncryptedColumns.get(table)"),n)}available(){return d.resolve(!0)}reset(){return this.tableNames=new Map,d.resolve(this.db.delete())}}},9387:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(3540),a=n(u(7948));t.default=class{constructor(e,t){this.errorHandlers=new Map,this._view=e,t&&(this.errorHandlers=t)}_maybeHandleError(e){const t=this.errorHandlers.get(e.name);t&&t(e)}_read(e){if(a.default.isLogoutInProgress)return Promise.reject(new r.DbOnLogoutAbort("dropping db read operation due to logout"));return e(this._view()).catch((e=>{throw this._maybeHandleError(e),e}))}_write(e){if(a.default.isLogoutInProgress)return Promise.reject(new r.DbOnLogoutAbort("dropping db write operation due to logout"));return e(this._view()).catch((e=>{throw this._maybeHandleError(e),e}))}create(e){return this._write((t=>t.create(e)))}preflightEncryptSingleRecord(e){return this._write((t=>t.preflightEncryptSingleRecord(e)))}postflightDecryptSingleRecord(e){return this._write((t=>t.postflightDecryptSingleRecord(e)))}bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY(e){return this._write((t=>t.bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY(e)))}bulkCreateOrReplace_ALREADY_ENCRYPTED_RECORDS_ONLY(e){return this._write((t=>t.bulkCreateOrReplace_ALREADY_ENCRYPTED_RECORDS_ONLY(e)))}createOrReplace(e){return this._write((t=>t.createOrReplace(e)))}createOrMerge(e,t){return this._write((u=>u.createOrMerge(e,t)))}get(e){return this._read((t=>t.get(e)))}merge(e,t){return this._write((u=>u.merge(e,t)))}remove(e){return this._write((t=>t.remove(e)))}bulkCreate(e){return this._write((t=>t.bulkCreate(e)))}bulkCreateOrReplace(e){return this._write((t=>t.bulkCreateOrReplace(e)))}bulkCreateOrMerge(e){return this._write((t=>t.bulkCreateOrMerge(e)))}bulkGet(e,t){return this._read((u=>u.bulkGet(e,t)))}bulkRemoveByIndex(e,t){return this._write((u=>u.bulkRemoveByIndex(e,t)))}bulkRemove(e){return this._write((t=>t.bulkRemove(e)))}bulkDeleteRange(e,t,u){return this._write((n=>n.bulkDeleteRange(e,t,u)))}all(e,t){return this._read((u=>u.all(e,t)))}count(){return this._read((e=>e.count()))}equals(e,t,u){return this._read((n=>n.equals(e,t,u)))}anyOf(e,t,u){return this._read((n=>n.anyOf(e,t,u)))}startsWithAnyOf(e,t,u){return this._read((n=>n.startsWithAnyOf(e,t,u)))}greaterThan(e,t,u){return this._read((n=>n.greaterThan(e,t,u)))}lessThan(e,t,u){return this._read((n=>n.lessThan(e,t,u)))}between(e,t,u,n,r){return this._read((a=>a.between(e,t,u,n,r)))}forEachSortedBy(e,t){return this._read((u=>u.forEachSortedBy(e,t)))}forEach(e){return this._read((t=>t.forEach(e)))}clear(){return this._write((e=>e.clear()))}}},139:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416));class i extends a.default{constructor(e){super(),(0,r.default)("AbstractPrimaryKey"!==this.constructor.name,"Cannot instantiate abstract class AbstractPrimaryKey"),Array.isArray(e)?this.columns=[...e]:this.columns=[e]}validate(e){(0,r.default)(0===e.columns.length,"Attempted to add primary key after other columns")}apply(){throw new Error("Subclass of `AbstractPrimaryKey` must implement `apply` method")}}t.default=i},6985:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.column=e}validate(e){const t=e.columns.find((e=>e.name===this.column));(0,r.default)(t,`Attempted to add index on non-existent column "${this.column}" in "${e.name}"`),(0,r.default)(t&&(!t.primaryKey||t.primaryKey===i.PRIMARY_KEY_TYPE.COMPOSITE),`Cannot add index on primary key on table "${e.name}"`),(0,r.default)(!e.indexes.some((e=>(e.type===i.INDEX_TYPE.ARRAY||e.type===i.INDEX_TYPE.SIMPLE||e.type===i.INDEX_TYPE.UNIQUE)&&(0,i.indexContainsColumn)(e,this.column))),`Attempted to add index "${this.column}" which already exists in "${e.name}"`)}apply(e){const t=(0,i.cloneSchema)(e);return t.indexes.push(this._getIndex()),t}_getIndex(){return{type:i.INDEX_TYPE.ARRAY,column:this.column}}}t.default=o},5762:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.name=e}validate(e){(0,r.default)(!e.columns.find((e=>e.name===this.name)),`Attempted to add column "${this.name}" to "${e.name}" but it already exists`)}apply(e){const t=(0,i.cloneSchema)(e);return t.columns.push({name:this.name}),t}}t.default=o},1900:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.columns=[...e]}validate(e){this.columns.forEach((t=>{(0,r.default)(e.columns.find((e=>e.name===t)),`Attempted to add index on non-existent column "${t}" in "${e.name}"`)})),(0,r.default)(this.columns.length>1,"Attempted to add composite index for only 1 column"),(0,r.default)(-1===(0,i.findIndex)(e,this._getIndex()),`Attempted to add index [${String(this.columns)}], which already exists in "${e.name}"`);const t=e.columns.filter((e=>e.primaryKey&&e.primaryKey===i.PRIMARY_KEY_TYPE.COMPOSITE)).map((e=>e.name));(0,r.default)(t.length!==this.columns.length||t.some((e=>!this.columns.includes(e))),`Attempted to add index [${String(this.columns)}], which already is the primary key in "${e.name}"`)}apply(e){const t=(0,i.cloneSchema)(e);return t.indexes.push(this._getIndex()),t}_getIndex(){return{type:i.INDEX_TYPE.COMPOSITE,columns:this.columns}}}t.default=o},4666:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ENCRYPTED_VALUE_TYPE=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);const o=Object.freeze({STRING:"String",ARRAY_BUFFER:"ArrayBuffer"});t.ENCRYPTED_VALUE_TYPE=o;class s extends a.default{constructor(e,t){super(),this.name=e,this.dataType=t}validate(e){(0,r.default)(!e.columns.find((e=>e.name===this.name)),`Attempted to add encrypted column "${this.name}" to "${e.name}" but it already exists`)}apply(e){const t=(0,i.cloneSchema)(e);return t.columns.push({name:this.name}),t.encryptedColumns[this.name]=this.dataType,t}}t.default=s},8392:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.keyPath=e,this.column=e.split(".")[0]}validate(e){const t=e.columns.find((e=>e.name===this.column));(0,r.default)(t,`Attempted to add index on non-existent column "${this.column}" in "${e.name}"`),(0,r.default)(t&&(!t.primaryKey||t.primaryKey===i.PRIMARY_KEY_TYPE.COMPOSITE),`Cannot add index on primary key on table "${e.name}"`),(0,r.default)(!e.indexes.some((e=>(e.type===i.INDEX_TYPE.ARRAY||e.type===i.INDEX_TYPE.SIMPLE||e.type===i.INDEX_TYPE.UNIQUE)&&(0,i.indexContainsColumn)(e,this.column))),`Attempted to add index "${this.column}" which already exists in "${e.name}"`)}apply(e){const t=(0,i.cloneSchema)(e);return t.indexes.push(this._getIndex()),t}_getIndex(){return{type:i.INDEX_TYPE.SIMPLE,column:this.keyPath}}}t.default=o},2194:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.column=e}validate(e){const t=e.columns.find((e=>e.name===this.column));(0,r.default)(t,`Attempted to add index on non-existent column "${this.column}" in "${e.name}"`),(0,r.default)(t&&(!t.primaryKey||t.primaryKey===i.PRIMARY_KEY_TYPE.COMPOSITE),`Cannot add index on primary key on table "${e.name}"`),(0,r.default)(!e.indexes.some((e=>(e.type===i.INDEX_TYPE.ARRAY||e.type===i.INDEX_TYPE.SIMPLE||e.type===i.INDEX_TYPE.UNIQUE)&&(0,i.indexContainsColumn)(e,this.column))),`Attempted to add index "${this.column}" which already exists in "${e.name}"`)}apply(e){const t=(0,i.cloneSchema)(e);return t.indexes.push(this._getIndex()),t}_getIndex(){return{type:i.INDEX_TYPE.UNIQUE,column:this.column}}}t.default=o},7840:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(139)),i=u(2521);class o extends a.default{validate(e){super.validate(e),(0,r.default)(this.columns&&1===this.columns.length,"Attempted to add UserDefinedPrimaryKey over wrong number of columns")}apply(e){const t=(0,i.cloneSchema)(e);return t.columns.unshift({name:this.columns[0],primaryKey:i.PRIMARY_KEY_TYPE.AUTO_INCREMENT}),t}}t.default=o},2866:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(139)),i=u(2521);class o extends a.default{validate(e){super.validate(e),(0,r.default)(this.columns&&this.columns.length>1,"Attempted to add composite primary key for only 1 column")}apply(e){const t=(0,i.cloneSchema)(e);return this.columns.forEach((e=>{t.columns.push({name:e,primaryKey:i.PRIMARY_KEY_TYPE.COMPOSITE})})),t}}t.default=o},9416:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143));t.default=class{constructor(){(0,r.default)("Mutation"!==this.constructor.name,"Cannot instantiate abstract class Mutation")}validate(){throw new Error("Subclasses of Mutaton must implement `validate`")}apply(){throw new Error("Subclasses of Mutaton must implement `apply`")}}},6800:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.column=e}validate(e){(0,r.default)(-1!==(0,i.findIndex)(e,this._getIndex()),`Attempted to remove non-existent index "${this.column}" on "${e.name}"`)}apply(e){const t=(0,i.cloneSchema)(e),u=(0,i.findIndex)(e,this._getIndex());return t.indexes.splice(u,1),t}_getIndex(){return{type:i.INDEX_TYPE.ARRAY,column:this.column}}}t.default=o},7659:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.name=e}validate(e){const t=e.columns.find((e=>e.name===this.name));(0,r.default)(t,`Attempted to remove column "${this.name}" from "${e.name}" but it doesn't exist`),(0,r.default)(!t.primaryKey,`Attempted to remove primary key column "${this.name}". Removing primary keys is not supported.`),(0,r.default)(!e.indexes.some((e=>(0,i.indexContainsColumn)(e,this.name))),`Attempted to remove column "${this.name}" from "${e.name}" but an index exists with the column`)}apply(e){const t=(0,i.cloneSchema)(e);return t.columns.splice(t.columns.findIndex((e=>e.name===this.name)),1),t}}t.default=o},2797:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.columns=[...e].sort()}validate(e){(0,r.default)(-1!==(0,i.findIndex)(e,this._getIndex()),`Attempted to remove non-existent index [${String(this.columns)}] on "${e.name}"`)}apply(e){const t=(0,i.cloneSchema)(e),u=(0,i.findIndex)(e,this._getIndex());return t.indexes.splice(u,1),t}_getIndex(){return{type:i.INDEX_TYPE.COMPOSITE,columns:this.columns}}}t.default=o},8091:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(9416)),i=u(2521);class o extends a.default{constructor(e){super(),this.column=e}validate(e){(0,r.default)(-1!==(0,i.findIndex)(e,this._getIndex()),`Attempted to remove non-existent index "${this.column}" on "${e.name}"`)}apply(e){const t=(0,i.cloneSchema)(e),u=(0,i.findIndex)(e,this._getIndex());return t.indexes.splice(u,1),t}_getIndex(){return{type:i.INDEX_TYPE.SIMPLE,column:this.column}}}t.default=o},7756:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1143)),a=n(u(139)),i=u(2521);class o extends a.default{validate(e){super.validate(e),(0,r.default)(this.columns&&1===this.columns.length,"Attempted to add UserDefinedPrimaryKey over wrong number of columns")}apply(e){const t=(0,i.cloneSchema)(e);return t.columns.unshift({name:this.columns[0],primaryKey:i.PRIMARY_KEY_TYPE.USER_DEFINED}),t}}t.default=o},6779:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.sortMutations=function(e){return[...e].sort(p)};var r=n(u(1143)),a=n(u(6985)),i=n(u(5762)),o=n(u(1900)),s=n(u(4666)),l=n(u(8392)),c=n(u(2194)),D=n(u(7840)),E=n(u(2866)),d=n(u(6800)),f=n(u(7659)),_=n(u(2797)),h=n(u(8091)),A=n(u(7756));const S=[_.default,d.default,h.default,f.default,D.default,A.default,E.default,i.default,l.default,a.default,o.default,c.default,s.default];function p(e,t){const u=S.indexOf(e.constructor),n=S.indexOf(t.constructor);return(0,r.default)(-1!==u,`Mutation ${e.constructor.name} is not a known mutation type`),(0,r.default)(-1!==n,`Mutation ${e.constructor.name} is not a known mutation type`),u-n}},2521:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.emptySchema=function(e){return{name:e,columns:[],indexes:[],encryptedColumns:{}}},t.cloneSchema=function(e){return{name:e.name,columns:e.columns.map((e=>(0,r.default)({},e))),indexes:e.indexes.map(l),encryptedColumns:(0,r.default)({},e.encryptedColumns||{}),deleted:e.deleted}},t.freezeSchema=function(e){return Object.freeze({name:e.name,columns:Object.freeze(e.columns.map(Object.freeze)),indexes:Object.freeze(e.indexes.map(s)),encryptedColumns:Object.freeze((0,r.default)({},e.encryptedColumns||{})),deleted:e.deleted})},t.findIndex=function(e,t){return e.indexes.findIndex((e=>function(e,t){if(e.type!==t.type)return!1;switch(e.type){case o.SIMPLE:case o.ARRAY:case o.UNIQUE:return(0,a.default)(t.type===e.type,"Index types are not equal"),e.column===t.column;case o.COMPOSITE:return(0,a.default)(t.type===e.type,"Index types are not equal"),e.columns.length===t.columns.length&&!e.columns.some((e=>!t.columns.includes(e)))}throw new Error(`cannot compare unknown indexes of types: ${e.type}, ${t.type}`)}(t,e)))},t.indexContainsColumn=function(e,t){switch(e.type){case o.SIMPLE:case o.ARRAY:case o.UNIQUE:return e.column===t;case o.COMPOSITE:return!!e.columns.find((e=>e===t))}throw new Error(`cannot check indexes of unknown index type: ${e.type}`)},t.INDEX_TYPE=t.PRIMARY_KEY_TYPE=void 0;var r=n(u(1109)),a=n(u(1143));const i=Object.freeze({AUTO_INCREMENT:"auto-increment",USER_DEFINED:"user-defined",COMPOSITE:"composite"});t.PRIMARY_KEY_TYPE=i;const o=Object.freeze({SIMPLE:"simple",COMPOSITE:"composite",ARRAY:"array",UNIQUE:"unique"});function s(e){switch(e.type){case o.SIMPLE:return Object.freeze({type:o.SIMPLE,column:e.column});case o.ARRAY:return Object.freeze({type:o.ARRAY,column:e.column});case o.COMPOSITE:return Object.freeze({type:o.COMPOSITE,columns:Object.freeze(e.columns.map(Object.freeze))});case o.UNIQUE:return Object.freeze({type:o.UNIQUE,column:e.column})}throw new Error(`cannot freeze index of unknown type: ${e.type}`)}function l(e){switch(e.type){case o.SIMPLE:return{type:o.SIMPLE,column:e.column};case o.UNIQUE:return{type:o.UNIQUE,column:e.column};case o.COMPOSITE:return{type:o.COMPOSITE,columns:e.columns.map((e=>e))};case o.ARRAY:return{type:o.ARRAY,column:e.column}}throw new Error(`cannot clone unknown index type: ${e.type}`)}t.INDEX_TYPE=o},2454:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MissingVersionError=t.InvalidVersionError=t.DuplicateVersionError=void 0;class u extends Error{constructor(...e){super(...e),this.name="DuplicateVersionError"}}t.DuplicateVersionError=u;class n extends Error{constructor(...e){super(...e),this.name="InvalidVersionError"}}t.InvalidVersionError=n;class r extends Error{constructor(...e){super(...e),this.name="MissingVersionError"}}t.MissingVersionError=r;t.default=class{constructor(){this.versions=new Set,this._max=-1}claim(e){if(e<0)throw new n("Versions must by greater than or equal to zero!");if(this.versions.has(e))throw new u(`Version #${e} has already been claimed!`);this.versions.add(e),this._max=Math.max(this.max,e)}version(e){if(e<0)throw new n("Versions must by greater than or equal to zero!");return e}validate(){for(let e=0;e<=this.max;++e)if(!this.versions.has(e))throw new r(`Schema version #${e} is missing!`)}get max(){return this._max}}},4779:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NotInitializedError=t.NoSuchTableError=t.NoSuchDatabaseError=t.NoFallbackError=t.DuplicateTableError=t.DuplicateDatabaseError=t.AlreadyInitializedError=void 0;var r=n(u(8926)),a=n(u(9387)),i=n(u(2454)),o=n(u(6782));class s extends Error{constructor(...e){super(...e),this.name="AlreadyInitializedError"}}t.AlreadyInitializedError=s;class l extends Error{constructor(...e){super(...e),this.name="DuplicateDatabaseError"}}t.DuplicateDatabaseError=l;class c extends Error{constructor(...e){super(...e),this.name="DuplicateTableError"}}t.DuplicateTableError=c;class D extends Error{constructor(...e){super(...e),this.name="NoFallbackError"}}t.NoFallbackError=D;class E extends Error{constructor(...e){super(...e),this.name="NoSuchDatabaseError"}}t.NoSuchDatabaseError=E;class d extends Error{constructor(...e){super(...e),this.name="NoSuchTableError"}}t.NoSuchTableError=d;class f extends Error{constructor(...e){super(...e),this.name="NotInitializedError"}}t.NotInitializedError=f;t.default=class{constructor(e){this.tables=new Map,this.views=new Map,this.state=1,this.versions=new i.default,this.errorHandlers=new Map,this._database=e}addErrorHandler(e,t){const u=(new e).name;this.errorHandlers.set(u,t)}add(e){if(this.tables.has(e))throw new c(`Table "${e}" already added. Reuse the definition.`);const t=new o.default(e,this.versions);return this.tables.set(e,t),t}_getBackingDB(){return this._database}_unsafeGetOrCreateView(e){if(this.views.has(e))return this.views.get(e);const t=this._database.view(e.name,e.rowview,e.shouldEnablePropFilter,e.shouldUseDbMsgEncKeyForEncryptedCol);return this.views.set(e,t),t}_guardInitializedThunk(e){return()=>{if(3&this.state)throw new f("Storage must be initialized before accessing a table!");return e()}}table(e){const t=this.tables.get(e);if(!t)throw new d(`Unknown table ${e} requested, ensure table is defined!`);if(!this._getBackingDB())throw new E(`Unable to find associated database with table "${e}"`);return new a.default(this._guardInitializedThunk((()=>this._unsafeGetOrCreateView(t))),this.errorHandlers)}lock(e,t){if(3&this.state)return Promise.reject(new f("Initialize storage before attempting to lock tables!"));for(let t=0;t<e.length;++t)if(!this.tables.has(e[t]))return Promise.reject(new d(`Requested lock of unknown table "${e[t]}"`));const u=e.map((e=>{const t=this.tables.get(e);if(t)return t;throw new d(`Requested lock of unknown table "${e}"`)})).map((e=>this._unsafeGetOrCreateView(e)));return this._getBackingDB().transact(e,(0,r.default)((function*(){return t(u)}))).finally((()=>{}))}_getUpgraderForCurrentVersion(e,t){for(let u=0;u<e.length;u++)if(e[u].maxVersion===t){const n=e[u].upgraders.get(t);if(n)return{name:e[u].name,callback:n}}}_applyDatabaseVersion(e,t,u){const n=t,r=u.map((e=>e.schema(n))).filter(Boolean);return e.initialize(t,r,this._getUpgraderForCurrentVersion(u,n),this.errorHandlers)}initialize(){var e=this;return(0,r.default)((function*(){if(4&e.state)throw new s("Storage instance has already been initialized");if(e.versions.validate(),!e._database)throw new E(`"${e._database.constructor.name}" failed availability check!`);yield e._database.available();const t=Array.from(e.tables.values()),u=e._getBackingDB();if(t&&u){for(let n=0;n<=e.versions.max;n++)yield e._applyDatabaseVersion(u,n,t);yield u.open(),e.state=4}}))()}purge(){return this.state=2,this.views=new Map,this._getBackingDB().reset().then((()=>{}))}}},6782:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(1109)),a=n(u(1143)),i=u(2521),o=u(6779);function s(e){return e}t.default=class{constructor(e,t){this.maxVersion=-1,this.versions=new Map,this.upgraders=new Map,this.shouldEnablePropFilter=!0,this.shouldUseDbMsgEncKeyForEncryptedCol=!1,this.name=e,this.versionManager=t}version(e,t,u){this.versionManager.claim(e),(0,a.default)(!this.versions.has(e),`Table "${this.name}" already has version #${+e} defined!`),(0,a.default)(e>this.maxVersion,`Versions for table ${this.name} must be defined in order`),this.maxVersion=e;const n=this.schema(e)||(0,i.emptySchema)(this.name),r=(0,o.sortMutations)(t).reduce(((e,t)=>(t.validate(e),t.apply(e))),(0,i.cloneSchema)(n));return this.versions.set(e,(0,i.freezeSchema)(r)),this.upgraders.set(e,u),this}delete(e){this.versionManager.claim(e),(0,a.default)(!this.versions.has(e),`Table "${this.name}" already has version #${+e} defined!`),(0,a.default)(e>this.maxVersion,`Versions for table ${this.name} must be defined in order`),this.maxVersion=e;const t=this.schema(e)||(0,i.emptySchema)(this.name),u=(0,r.default)((0,r.default)({},t),{},{deleted:!0});return this.versions.set(e,(0,i.freezeSchema)(u)),this}view(e){return this.rowview=e,this}enablePropFilter(e){return this.shouldEnablePropFilter=e,this}useDbMsgEncKeyForEncryptedCol(e){return this.shouldUseDbMsgEncKeyForEncryptedCol=e,this}schema(e){const t=this.versions.get(e);if(t)return t;const u=Array.from(this.versions.keys()).map(s).sort(((e,t)=>e-t)).filter((t=>t<e)).pop();return u||0===u?this.versions.get(u)||(0,i.emptySchema)(this.name):null}}},3424:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.initializeWithoutGKs=function(){null==V&&((0,Y.createStorage)(),(0,a.addTable)(),(0,U.addTable)(),(0,D.addTable)(),(0,o.addTable)(),(0,R.addTable)(),(0,l.addTable)(),(0,C.addTable)(),(0,g.addTable)(),(0,w.addTable)(),(0,P.addTable)(),(0,I.addTable)(),(0,E.addTable)(),(0,F.addTable)(),(0,T.addTable)(),(0,p.addTable)(),(0,G.addTable)(),(0,S.addTable)(),(0,f.addTable)(),(0,O.addTable)(),(0,A.addTable)(),(0,x.addTable)(),(0,i.addTable)(),(0,_.addTable)(),(0,s.addTable)(),(0,m.addTable)(),(0,M.addTable)(),(0,h.addTable)(),(0,y.addTable)(),(0,b.addTable)(),(0,v.addTable)(),(0,N.addTable)(),(0,c.addTable)(),(0,L.addTable)(),(0,B.addTable)(),(0,d.addTable)(),V=(0,Y.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize model storage"),e})));return V},t.destroy=function(){return(0,Y.destroyStorage)().catch((()=>k.resolve(new r.default(Y.DATABASE_NAME).delete()))).finally((()=>{V=null}))},t.clearInitializePromise=function(){V=null},Object.defineProperty(t,"getABPropConfigsTable",{enumerable:!0,get:function(){return a.getTable}}),Object.defineProperty(t,"getActiveMessageRangesTable",{enumerable:!0,get:function(){return i.getTable}}),Object.defineProperty(t,"getBlocklistTable",{enumerable:!0,get:function(){return o.getTable}}),Object.defineProperty(t,"getCartTable",{enumerable:!0,get:function(){return s.getTable}}),Object.defineProperty(t,"getChatTable",{enumerable:!0,get:function(){return l.getTable}}),Object.defineProperty(t,"getCollectionVersionTable",{enumerable:!0,get:function(){return c.getTable}}),Object.defineProperty(t,"getContactTable",{enumerable:!0,get:function(){return D.getTable}}),Object.defineProperty(t,"getDeviceListTable",{enumerable:!0,get:function(){return E.getTable}}),Object.defineProperty(t,"getDirectConnectionKeysTable",{enumerable:!0,get:function(){return d.getTable}}),Object.defineProperty(t,"getEncryptedMutationsTable",{enumerable:!0,get:function(){return f.getTable}}),Object.defineProperty(t,"getFtsIndexingQueueTable",{enumerable:!0,get:function(){return _.getTable}}),Object.defineProperty(t,"getGroupInviteV4Table",{enumerable:!0,get:function(){return h.getTable}}),Object.defineProperty(t,"getGroupMetadataTable",{enumerable:!0,get:function(){return A.getTable}}),Object.defineProperty(t,"getHistorySyncNotificationTable",{enumerable:!0,get:function(){return S.getTable}}),Object.defineProperty(t,"getInactiveReceiptTable",{enumerable:!0,get:function(){return p.getTable}}),Object.defineProperty(t,"getLabelTable",{enumerable:!0,get:function(){return F.getTable}}),Object.defineProperty(t,"getLabelAssociationTable",{enumerable:!0,get:function(){return T.getTable}}),Object.defineProperty(t,"getMessageTable",{enumerable:!0,get:function(){return C.getTable}}),Object.defineProperty(t,"getMsgInfoTable",{enumerable:!0,get:function(){return g.getTable}}),Object.defineProperty(t,"getMissingKeysTable",{enumerable:!0,get:function(){return m.getTable}}),Object.defineProperty(t,"getOrphanPaymentNotificationTable",{enumerable:!0,get:function(){return y.getTable}}),Object.defineProperty(t,"getOrphanReceiptTable",{enumerable:!0,get:function(){return I.getTable}}),Object.defineProperty(t,"getOrphanRevokeTable",{enumerable:!0,get:function(){return v.getTable}}),Object.defineProperty(t,"getParticipantTable",{enumerable:!0,get:function(){return P.getTable}}),Object.defineProperty(t,"getPeerMessageTable",{enumerable:!0,get:function(){return b.getTable}}),Object.defineProperty(t,"getPendingMutationsTable",{enumerable:!0,get:function(){return N.getTable}}),Object.defineProperty(t,"getPrivacyDisallowedListTable",{enumerable:!0,get:function(){return B.getTable}}),Object.defineProperty(t,"getProfilePicThumbTable",{enumerable:!0,get:function(){return R.getTable}}),Object.defineProperty(t,"getQuickReplyTable",{enumerable:!0,get:function(){return O.getTable}}),Object.defineProperty(t,"getReactionsTable",{enumerable:!0,get:function(){return w.getTable}}),Object.defineProperty(t,"getRecentStickersTable",{enumerable:!0,get:function(){return M.getTable}}),Object.defineProperty(t,"getSyncActionsTable",{enumerable:!0,get:function(){return L.getTable}}),Object.defineProperty(t,"getSyncKeysTable",{enumerable:!0,get:function(){return x.getTable}}),Object.defineProperty(t,"getTasksScheduledTimeTable",{enumerable:!0,get:function(){return U.getTable}}),Object.defineProperty(t,"getVerifiedBusinessNameTable",{enumerable:!0,get:function(){return G.getTable}});var r=n(u(6128)),a=u(9609),i=u(1531),o=u(1212),s=u(3820),l=u(5154),c=u(4862),D=u(4899),E=u(8673),d=u(7633),f=u(7434),_=u(2382),h=u(1802),A=u(8003),S=u(5287),p=u(8945),F=u(1528),T=u(2969),C=u(6199),g=u(8866),m=u(1795),y=u(2715),I=u(1873),v=u(7051),P=u(2227),b=u(2736),N=u(6410),B=u(9518),R=u(4858),O=u(8370),w=u(1267),M=u(2809),Y=u(6183),L=u(405),x=u(469),U=u(8484),G=u(6050);const k=u(5252).Z;let V},9609:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("abpropConfigs").version((0,o.abpropsConfigCreateTable)(),[new i.default("configCode"),new r.default("configValue"),new r.default("configExpoKey")]).view((e=>({configCode:e.configCode,configValue:e.configValue,configExpoKey:e.configExpoKey})))},t.getTable=function(){return(0,a.getStorage)().table("abpropConfigs")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},1531:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,o.getStorage)().add("active-message-ranges").version((0,s.activeMessageRangesCreateTable)(),[new i.default(["chatId","action"]),new a.default("chatId"),new r.default("actionValue"),new r.default("remainingMessages")]).view((e=>e))},t.getTable=function(){return(0,o.getStorage)().table("active-message-ranges")},t.ActiveRangeAction=void 0;var r=n(u(5762)),a=n(u(8392)),i=n(u(2866)),o=u(6183),s=u(6431);const l=Object.freeze({Unknown:"unknown",Archive:"archive",MarkChatAsRead:"markChatAsRead",ClearChatKeepStarredKeepMedia:"clearChat_0_0",ClearChatKeepStarredDeleteMedia:"clearChat_0_1",ClearChatDeleteStarredKeepMedia:"clearChat_1_0",ClearChatDeleteStarredDeleteMedia:"clearChat_1_1",DeleteChatDeleteMedia:"deleteChat_1",DeleteChatKeepMedia:"deleteChat_0"});t.ActiveRangeAction=l},1212:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("blocklist").version((0,i.blocklistCreateTable)(),[new a.default("id")]).view((e=>({id:e.id})))},t.getTable=function(){return(0,r.getStorage)().table("blocklist")};var r=u(6183),a=n(u(7756)),i=u(6431)},3820:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("cart").version((0,o.cartCreateTable)(),[new i.default("id"),new r.default("products"),new r.default("message"),new r.default("total"),new r.default("currency"),new r.default("itemCount")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("cart")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},5154:(e,t,u)=>{"use strict";var n=u(862),r=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,s.getStorage)().add("chat").version((0,c.chatCreateTable)(),[new l.default("id"),new a.default("t"),new a.default("unreadCount"),new a.default("archive"),new a.default("isReadOnly"),new a.default("isAnnounceGrpRestrict"),new a.default("modifyTag"),new a.default("muteExpiration"),new a.default("name"),new a.default("notSpam"),new a.default("pin"),new a.default("changeNumberOldJid"),new a.default("changeNumberNewJid"),new a.default("ephemeralDuration"),new a.default("ephemeralSettingTimestamp"),new a.default("unreadMsgAnchorId"),new a.default("endOfHistoryTransferType")]).version((0,c.chatAddDisappearingModeInitiator)(),[new a.default("disappearingModeInitiator")]).version((0,c.addUnreadMentionToChatTable)(),[new a.default("unreadMentionsOfMe")]).version((0,c.addUnreadMentionCountToChatTable)(),[new a.default("unreadMentionCount")]).version((0,c.addTcTokenToChatTable)(),[new i.default("tcToken",i.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER)]).version((0,c.addTcTokenTimestampToChatTable)(),[new a.default("tcTokenTimestamp"),new o.default("tcTokenTimestamp")]).version((0,c.addArchiveAtMentionViewedInDrawer)(),[new a.default("archiveAtMentionViewedInDrawer")]).version((0,c.addTcTokenSenderTimestampToChatTable)(),[new a.default("tcTokenSenderTimestamp")]).view((e=>({id:e.id,t:e.t,unreadCount:e.unreadCount,unreadMsgAnchorId:e.unreadMsgAnchorId,archive:e.archive,isReadOnly:e.isReadOnly,isAnnounceGrpRestrict:e.isAnnounceGrpRestrict,modifyTag:e.modifyTag,muteExpiration:e.muteExpiration,name:e.name,notSpam:e.notSpam,pin:e.pin,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid,endOfHistoryTransfer:e.endOfHistoryTransfer,endOfHistoryTransferType:e.endOfHistoryTransferType,ephemeralDuration:e.ephemeralDuration,ephemeralSettingTimestamp:e.ephemeralSettingTimestamp,disappearingModeInitiator:e.disappearingModeInitiator,unreadMentionsOfMe:e.unreadMentionsOfMe,unreadMentionCount:e.unreadMentionCount,tcToken:e.tcToken,tcTokenTimestamp:e.tcTokenTimestamp,archiveAtMentionViewedInDrawer:e.archiveAtMentionViewedInDrawer,tcTokenSenderTimestamp:e.tcTokenSenderTimestamp})))},t.getTable=function(){return(0,s.getStorage)().table("chat")};var a=r(u(5762)),i=n(u(4666)),o=r(u(8392)),s=(u(1004),u(6183)),l=r(u(7756)),c=u(6431)},4862:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("collection-version").version((0,o.collectionVersionCreateTable)(),[new i.default("collection"),new r.default("version"),new r.default("state"),new r.default("finiteFailureStartTime"),new r.default("ltHash")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("collection-version")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},4899:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,i.getStorage)().add("contact").version((0,s.contactCreateTable)(),[new o.default("id"),new r.default("name"),new r.default("shortName"),new r.default("pushname"),new r.default("type"),new r.default("verifiedName"),new r.default("isBusiness"),new r.default("isEnterprise"),new r.default("verifiedLevel"),new r.default("statusMute"),new r.default("sectionHeader"),new r.default("isAddressBookContact"),new a.default("isAddressBookContact")]).version((0,s.contactAddIsContactSyncCompleted)(),[new r.default("isContactSyncCompleted"),new a.default("isContactSyncCompleted")]).version((0,s.contactAddDisappearingModeProperties)(),[new r.default("disappearingModeDuration"),new r.default("disappearingModeSettingTimestamp")]).view((e=>e))},t.getTable=function(){return(0,i.getStorage)().table("contact")};var r=n(u(5762)),a=n(u(8392)),i=u(6183),o=n(u(7756)),s=u(6431)},8673:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("device-list").version((0,o.deviceListCreateTable)(),[new i.default("id"),new r.default("devices"),new r.default("nextVersion"),new r.default("rawId"),new r.default("timestamp"),new r.default("validIndexes"),new r.default("currentIndex")]).version((0,o.deviceListAddDelete)(),[new r.default("deleted")]).version((0,o.deviceListAddV2Fields)(),[new r.default("expectedTs"),new r.default("expectedTsLastDeviceJobTs"),new r.default("expectedTsUpdateTs")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("device-list")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},7633:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("direct-connection-keys").version((0,o.directConnectionKeysCreateTable)(),[new i.default("id"),new r.default("certificateChain"),new r.default("cypher"),new r.default("cypherExpirationTimestamp")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("direct-connection-keys")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},7434:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,i.getStorage)().add("encrypted-mutations").version((0,o.encryptedMutationsCreateTable)(),[new a.default("id"),new r.default("collectionName"),new r.default("keyId"),new r.default("indexMac"),new r.default("operation"),new r.default("indexAndValueCipherText")]).view((e=>e))},t.getTable=function(){return(0,i.getStorage)().table("encrypted-mutations")};var r=n(u(5762)),a=n(u(7840)),i=u(6183),o=u(6431)},2382:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("fts-indexing-queue").version((0,i.ftsIndexingQueueCreateTable)(),[new a.default("id")]).view((e=>e))},t.getTable=function(){return(0,r.getStorage)().table("fts-indexing-queue")};var r=u(6183),a=n(u(7756)),i=u(6431)},1802:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,i.getStorage)().add("group-invite-v4").version((0,s.groupInviteV4CreateTable)(),[new o.default("id"),new r.default("from"),new r.default("to"),new r.default("groupId"),new r.default("expiration"),new r.default("expired"),new a.default(["from","to","groupId"])]).version((0,s.addGroupFromKeyToGroupInviteV4)(),[new a.default(["from","groupId"])]).view((e=>e))},t.getTable=function(){return(0,i.getStorage)().table("group-invite-v4")};var r=n(u(5762)),a=n(u(1900)),i=u(6183),o=n(u(7756)),s=u(6431)},8003:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("group-metadata").version((0,o.groupMetadataCreateTable)(),[new i.default("id"),new r.default("subject"),new r.default("subjectTime"),new r.default("creation"),new r.default("owner"),new r.default("desc"),new r.default("descId"),new r.default("descTime"),new r.default("descOwner"),new r.default("restrict"),new r.default("announce"),new r.default("a_v_id"),new r.default("noFrequentlyForwarded"),new r.default("ephemeralDuration"),new r.default("size"),new r.default("support")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("group-metadata")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},5287:(e,t,u)=>{"use strict";var n=u(862),r=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,s.getStorage)().add("history-sync-notification").version((0,c.historySyncNotificationsCreateTable)(),[new l.default("msgKey"),new a.default("downloadOptions"),new a.default("syncType"),new i.default("chunkEncryptionKey",i.ENCRYPTED_VALUE_TYPE.STRING),new a.default("chunkOrder"),new a.default("processed"),new o.default("syncType"),new o.default("chunkOrder"),new o.default("processed"),new a.default("isReupload"),new a.default("historySyncStepStartedTs"),new a.default("historySyncPayloadSize"),new a.default("reuploadPending")]).version((0,c.encryptHistorySyncDirectPath)(),[new i.default("directPath",i.ENCRYPTED_VALUE_TYPE.STRING)]).version((0,c.encryptHistorySyncFilehash)(),[new i.default("filehash",i.ENCRYPTED_VALUE_TYPE.STRING)]).view((e=>e)).useDbMsgEncKeyForEncryptedCol(!0)},t.getTable=function(){return(0,s.getStorage)().table("history-sync-notification")};var a=r(u(5762)),i=n(u(4666)),o=r(u(8392)),s=u(6183),l=r(u(7756)),c=u(6431)},8945:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("inactive-receipt").version((0,o.inactiveReceiptCreateTable)(),[new i.default("msgId"),new r.default("chatId"),new r.default("participantId")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("inactive-receipt")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},2969:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,o.getStorage)().add("label-association").version((0,s.labelAssociationCreateTable)(),[new i.default(["labelId","associationId","type"]),new a.default("labelId"),new r.default(["associationId","type"])]).view((e=>e))},t.getTable=function(){return(0,o.getStorage)().table("label-association")},t.LabelAssociationType=void 0;var r=n(u(1900)),a=n(u(8392)),i=n(u(2866)),o=u(6183),s=u(6431);const l=u(4302)({Jid:"jid",Message:"message"});t.LabelAssociationType=l},1528:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("label").version((0,o.labelCreateTable)(),[new i.default("id"),new r.default("name"),new r.default("colorIndex"),new r.default("predefinedId")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("label")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},8866:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,o.getStorage)().add("message-info").version((0,s.messageInfoCreateTable)(),[new i.default(["msgKey","receiverUserJid"]),new r.default("delivery"),new r.default("read"),new r.default("played"),new r.default("deviceDelivered"),new r.default("deviceNotDelivered"),new a.default("msgKey")]).version((0,s.messageInfoAddDeliveryPrivacyMode)(),[new r.default("deliveryPrivacyMode")]).view((e=>e))},t.getTable=function(){return(0,o.getStorage)().table("message-info")};var r=n(u(5762)),a=n(u(8392)),i=n(u(2866)),o=u(6183),s=u(6431)},6199:(e,t,u)=>{"use strict";var n=u(862),r=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,E.getStorage)().add("message").version((0,f.messageCreateTable)(),[new d.default("id"),new i.default("internalId"),new c.default("internalId"),new i.default("rowId"),new c.default("rowId"),new i.default("type"),new i.default("subtype"),new i.default("t"),new i.default("notifyName"),new i.default("from"),new i.default("to"),new i.default("author"),new i.default("self"),new i.default("ack"),new i.default("invis"),new i.default("isStarred"),new l.default("isStarred"),new i.default("mentionedJidList"),new i.default("count"),new i.default("devicesAdded"),new i.default("devicesRemoved"),new i.default("isThisDeviceAdded"),new i.default("recipients"),new i.default("protocolMessageKey"),new i.default("protocolMessageRowId"),new i.default("templateParams"),new o.default(["internalId","isStarred"]),new i.default("vcardWAids"),new a.default("vcardWAids"),new i.default("hasLink"),new i.default("isMediaMsg"),new i.default("isDocMsg"),new o.default(["internalId","isMediaMsg"]),new o.default(["internalId","isDocMsg"]),new o.default(["internalId","hasLink"]),new i.default("ephemeralStartTimestamp"),new i.default("ephemeralDuration"),new i.default("ephemeralSettingTimestamp"),new i.default("ephemeralOutOfSync"),new i.default("expiredTimestamp"),new l.default("expiredTimestamp"),new i.default("directPath"),new i.default("mimetype"),new i.default("duration"),new i.default("filehash"),new i.default("uploadhash"),new i.default("size"),new i.default("filename"),new i.default("streamingSidecar"),new i.default("mediaKey"),new i.default("mediaKeyTimestamp"),new i.default("pageCount"),new i.default("isGif"),new i.default("gifAttribution"),new i.default("isViewOnce"),new i.default("width"),new i.default("height"),new i.default("scanLengths"),new i.default("scansSidecar"),new i.default("interactiveAnnotations"),new i.default("firstFrameLength"),new i.default("firstFrameSidecar"),new i.default("isAnimated"),new i.default("thumbnail"),new i.default("richPreviewType"),new i.default("doNotPlayInline"),new i.default("broadcast"),new i.default("broadcastParticipants"),new i.default("broadcastId"),new i.default("quotedMsg"),new i.default("quotedStanzaID"),new i.default("quotedRemoteJid"),new i.default("quotedParticipant"),new i.default("footer"),new i.default("hydratedButtons"),new i.default("selectedId"),new i.default("selectedIndex"),new i.default("vcardFormattedName"),new i.default("isVcardOverMmsDocument"),new i.default("businessOwnerJid"),new i.default("productId"),new i.default("currencyCode"),new i.default("priceAmount1000"),new i.default("retailerId"),new i.default("url"),new i.default("productImageCount"),new i.default("paymentCurrency"),new i.default("paymentMessageReceiverJid"),new i.default("paymentTransactionTimestamp"),new i.default("paymentStatus"),new i.default("paymentNoteMsg"),new i.default("paymentRequestMessageKey"),new i.default("paymentExpiryTimestamp"),new i.default("message"),new i.default("orderTitle"),new i.default("itemCount"),new i.default("orderId"),new i.default("surface"),new i.default("status"),new i.default("token"),new i.default("textColor"),new i.default("backgroundColor"),new i.default("font"),new i.default("isForwarded"),new i.default("forwardingScore"),new i.default("ctwaContext"),new i.default("mdDowngrade"),new i.default("messageRangeIndex"),new l.default("messageRangeIndex"),new i.default("vcardList"),new i.default("totalAmount1000"),new i.default("totalCurrencyCode"),new i.default("list"),new i.default("listResponse"),new i.default("isDynamicReplyButtonsMsg"),new i.default("dynamicReplyButtons"),new i.default("selectedButtonId"),new i.default("sellerJid"),new i.default("deprecatedMms3Url"),new i.default("encFilehash"),new s.default("msgRowOpaqueData",s.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER),new i.default("thumbnailDirectPath"),new i.default("thumbnailSha256"),new i.default("thumbnailEncSha256"),new i.default("thumbnailHeight"),new i.default("thumbnailWidth"),new i.default("pendingReadReceipt"),new o.default(["from","pendingReadReceipt"])]).version((0,f.messageAddIsSendFailureProperties)(),[new i.default("isSendFailure")]).version((0,f.messageAddPaymentTxnStatus)(),[new i.default("paymentTxnStatus")]).version((0,f.messageAddProductListPreviewInfo)(),[new i.default("productListItemCount")]).version((0,f.messageAddPrivacyModeFields)(),[new i.default("privacyModeWhenSent"),new i.default("bizPrivacyStatus")]).version((0,f.messageAddProductListPreviewHeaderImage)(),[new i.default("productHeaderImageRejected")]).version((0,f.messageAddDisappearingModeInitiator)(),[new i.default("disappearingModeInitiator")]).version((0,f.messageAddGroupInviteV4)(),[new i.default("inviteGrp"),new i.default("inviteGrpName"),new i.default("comment"),new i.default("inviteCode"),new i.default("inviteCodeExp")]).version((0,f.addSupportForHSMButtons)(),[new i.default("isFromTemplate")]).version((0,f.messageAddPaymentRequestNFMFields)(),[new i.default("nativeFlowButtons"),new i.default("paymentRequestHeader")]).version((0,f.addWaveformToAudioMessages)(),[new i.default("waveform")]).version((0,f.messageRemovePaymentRequestHeaderField)(),[new D.default("paymentRequestHeader")]).version((0,f.messageAddNativeFlowNameField)(),[new i.default("nativeFlowName")]).version((0,f.addStaticURLToImageVideoMessages)(),[new i.default("staticUrl")]).version((0,f.addRequiresDirectConnection)(),[new i.default("requiresDirectConnection")]).version((0,f.messageAddPaymentInviteServiceType)(),[new i.default("paymentInviteServiceType")]).version((0,f.addStatusPSACampaignFields)(),[new i.default("campaignId"),new i.default("campaignDuration")]).version((0,f.messageAddPaymentBackground)(),[new i.default("paymentBackground")]).version((0,f.messageAddInteractiveMessageFields)(),[new i.default("interactiveHeader"),new i.default("interactiveType"),new i.default("interactivePayload")]).version((0,f.messageAddActionLink)(),[new i.default("actionLink")]).view((e=>e)).enablePropFilter(!0).useDbMsgEncKeyForEncryptedCol(!0)},t.getTable=function(){return(0,E.getStorage)().table("message")};var a=r(u(6985)),i=r(u(5762)),o=r(u(1900)),s=n(u(4666)),l=r(u(8392)),c=r(u(2194)),D=r(u(7659)),E=u(6183),d=r(u(7756)),f=u(6431)},1795:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("missing-keys").version((0,o.missingKeysCreateTable)(),[new i.default("keyHex"),new r.default("keyId"),new r.default("timestamp"),new r.default("deviceResponses")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("missing-keys")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},2715:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("orphan-payment-notification").version((0,o.orphanPaymentNotificationCreateTable)(),[new i.default("msgKey"),new r.default("receiver"),new r.default("currency"),new r.default("amount1000"),new r.default("type"),new r.default("status"),new r.default("ts")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("orphan-payment-notification")};var r=n(u(5762)),a=(u(954),u(6183)),i=n(u(7756)),o=u(6431)},1873:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("orphan-receipt").version((0,o.orphanReceiptCreateTable)(),[new i.default("msgKey"),new r.default("delivery"),new r.default("read"),new r.default("played")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("orphan-receipt")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},7051:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("orphan-revoke").version((0,o.orphanRevokeCreateTable)(),[new i.default("msgKey"),new r.default("timestamp")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("orphan-revoke")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},2227:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,i.getStorage)().add("participant").version((0,s.participantCreateTable)(),[new o.default("groupId"),new a.default("senderKey"),new a.default("participants"),new a.default("admins"),new a.default("rotateKey"),new a.default("version"),new r.default("participants"),new a.default("deviceSyncComplete")]).view((e=>e))},t.getTable=function(){return(0,i.getStorage)().table("participant")};var r=n(u(6985)),a=n(u(5762)),i=u(6183),o=n(u(7756)),s=u(6431)},2736:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("peer-message").version((0,o.peerMessageCreateTable)(),[new i.default("id"),new r.default("to"),new r.default("type"),new r.default("subtype"),new r.default("appStateSyncKeyShare"),new r.default("appStateSyncKeyRequest"),new r.default("appStateFatalExceptionNotification")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("peer-message")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},6410:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,o.getStorage)().add("pending-mutations").version((0,s.pendingMutationsCreateTable)(),[new i.default("id"),new r.default("collection"),new r.default("index"),new a.default("index"),new r.default("timestamp"),new a.default("collection"),new r.default("version"),new r.default("operation"),new r.default("binarySyncAction")]).version((0,s.addActionToPendingMutations)(),[new r.default("action"),new a.default("action")]).view((e=>e))},t.getTable=function(){return(0,o.getStorage)().table("pending-mutations")};var r=n(u(5762)),a=n(u(8392)),i=n(u(7840)),o=u(6183),s=u(6431)},9518:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("privacy-disallowed-list").version((0,o.privacyDisallowedListCreateTable)(),[new i.default("id"),new r.default("disallowedList")]).version((0,o.privacyDisallowedListAddDhashField)(),[new r.default("dhash")]).view((e=>({id:e.id,disallowedList:e.disallowedList,dhash:e.dhash})))},t.getTable=function(){return(0,a.getStorage)().table("privacy-disallowed-list")},t.PrivacyDisallowedListType=void 0;var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431);const s=u(4302)({About:"status",GroupAdd:"groupadd",LastSeen:"last",ProfilePicture:"profile"});t.PrivacyDisallowedListType=s},4858:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("profile-pic-thumb").version((0,o.profilePicThumbCreateTable)(),[new i.default("id"),new r.default("tag"),new r.default("raw"),new r.default("eurl"),new r.default("previewEurl")]).view((e=>({id:e.id,tag:e.tag,raw:e.raw,eurl:e.eurl,previewEurl:e.previewEurl})))},t.getTable=function(){return(0,a.getStorage)().table("profile-pic-thumb")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},8370:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("quick-reply").version((0,o.quickReplyCreateTable)(),[new i.default("id"),new r.default("shortcut"),new r.default("message"),new r.default("count"),new r.default("keywords")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("quick-reply")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},1267:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,s.getStorage)().add("reactions").version((0,l.reactionsCreateTable)(),[new o.default(["parentMsgKey","senderUserJid"]),new r.default("msgKey"),new r.default("reactionText"),new r.default("timestamp"),new r.default("orphan"),new r.default("read"),new i.default("parentMsgKey"),new i.default("orphan")]).version((0,l.addReactionTableOrphanIndex)(),[new a.default(["parentMsgKey","orphan"])]).view((e=>e))},t.getTable=function(){return(0,s.getStorage)().table("reactions")};var r=n(u(5762)),a=n(u(1900)),i=n(u(8392)),o=n(u(2866)),s=u(6183),l=u(6431)},2809:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("recent-stickers").version((0,o.recentStickersCreateTable)(),[new i.default("id"),new r.default("timestamp"),new r.default("sticker"),new r.default("msgId"),new r.default("weight")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("recent-stickers")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},405:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,o.getStorage)().add("sync-actions").version((0,l.syncActionsCreateTable)(),[new s.default("index"),new r.default("keyId"),new r.default("version"),new r.default("actionState"),new i.default("actionState"),new r.default("modelId"),new r.default("modelType"),new a.default(["modelId","modelType","actionState"]),new r.default("valueMac"),new r.default("indexMac"),new i.default("indexMac"),new r.default("collection"),new i.default("collection"),new r.default("timestamp"),new r.default("action"),new i.default("action"),new r.default("binarySyncAction")]).view((e=>e))},t.getTable=function(){return(0,o.getStorage)().table("sync-actions")};var r=n(u(5762)),a=n(u(1900)),i=n(u(8392)),o=(u(7540),u(6183)),s=n(u(7756)),l=u(6431)},469:(e,t,u)=>{"use strict";var n=u(862),r=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,s.getStorage)().add("sync-keys").version((0,c.syncKeysCreateTable)(),[new l.default("keyId"),new a.default("timestamp"),new a.default("fingerprint"),new i.default("keyData",i.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER),new a.default("keyEpoch"),new o.default("keyEpoch")]).view((e=>e))},t.getTable=function(){return(0,s.getStorage)().table("sync-keys")};var a=r(u(5762)),i=n(u(4666)),o=r(u(8392)),s=u(6183),l=r(u(7756)),c=u(6431)},8484:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("tasks-scheduled-time").version((0,o.tasksScheduledTimeCreateTable)(),[new i.default("taskName"),new r.default("time")]).view((e=>e))},t.getTable=function(){return(0,a.getStorage)().table("tasks-scheduled-time")};var r=n(u(5762)),a=u(6183),i=n(u(7756)),o=u(6431)},6050:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,i.getStorage)().add("verified-business-name").version((0,s.verifiedBusinessNameCreateTable)(),[new o.default("id"),new r.default("serial"),new r.default("name"),new r.default("isApi"),new r.default("level"),new r.default("actualActors"),new r.default("hostStorage"),new r.default("privacyModeTs")]).version((0,s.verifiedBusinessNameAddPrivacyMode)(),[new r.default("privacyMode"),new a.default("actualActors"),new a.default("hostStorage"),new a.default("privacyModeTs")]).view((e=>e))},t.getTable=function(){return(0,i.getStorage)().table("verified-business-name")};var r=n(u(5762)),a=n(u(7659)),i=u(6183),o=n(u(7756)),s=u(6431)},6183:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.createStorage=function(){const e=new i.default(l);c=new o.default(e),c.addErrorHandler(r.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&s.default.trigger("storage_not_enough_space")}))},t.getStorage=function(){return(0,a.default)(null!=c,"[model-storage] Storage should be created first before being accessed"),c},t.destroyStorage=function(){if(null==c)return Promise.reject(new Error("[model-storage] Storage should be created first before being destroyed"));return c.purge().then((()=>{c=null})).catch((e=>{throw c=null,e}))},t.DATABASE_NAME=void 0;var r=n(u(6128)),a=n(u(1143)),i=n(u(1792)),o=n(u(4779)),s=n(u(6198));const l="model-storage";t.DATABASE_NAME=l;let c=null},4609:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){return(0,r.initializeWithoutGKs)().then((()=>(0,n.getTable)().all().then((e=>Promise.all(e.map((e=>{const t=e.id||"";return(0,a.getTable)().between(["internalId"],`${e.id}_/`,`${e.id}_g`,{reverse:!0,limit:20}).then((e=>({chatId:t,messages:e.reverse()})))}))).then((t=>[e,t]))))))};var n=u(5154),r=u(3424),a=u(6199);self.Promise=u(5252).Z},6431:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pendingMutationsCreateTable=function(){return(0,n.getStorage)().versions.version(0)},t.collectionVersionCreateTable=function(){return(0,n.getStorage)().versions.version(1)},t.syncActionsCreateTable=function(){return(0,n.getStorage)().versions.version(2)},t.contactCreateTable=function(){return(0,n.getStorage)().versions.version(3)},t.blocklistCreateTable=function(){return(0,n.getStorage)().versions.version(4)},t.profilePicThumbCreateTable=function(){return(0,n.getStorage)().versions.version(5)},t.chatCreateTable=function(){return(0,n.getStorage)().versions.version(6)},t.messageCreateTable=function(){return(0,n.getStorage)().versions.version(7)},t.messageInfoCreateTable=function(){return(0,n.getStorage)().versions.version(8)},t.participantCreateTable=function(){return(0,n.getStorage)().versions.version(9)},t.orphanReceiptCreateTable=function(){return(0,n.getStorage)().versions.version(10)},t.deviceListCreateTable=function(){return(0,n.getStorage)().versions.version(11)},t.inactiveReceiptCreateTable=function(){return(0,n.getStorage)().versions.version(12)},t.verifiedBusinessNameCreateTable=function(){return(0,n.getStorage)().versions.version(13)},t.historySyncNotificationsCreateTable=function(){return(0,n.getStorage)().versions.version(14)},t.encryptedMutationsCreateTable=function(){return(0,n.getStorage)().versions.version(15)},t.labelCreateTable=function(){return(0,n.getStorage)().versions.version(16)},t.labelAssociationCreateTable=function(){return(0,n.getStorage)().versions.version(17)},t.quickReplyCreateTable=function(){return(0,n.getStorage)().versions.version(18)},t.abpropsConfigCreateTable=function(){return(0,n.getStorage)().versions.version(19)},t.groupMetadataCreateTable=function(){return(0,n.getStorage)().versions.version(20)},t.syncKeysCreateTable=function(){return(0,n.getStorage)().versions.version(21)},t.tasksScheduledTimeCreateTable=function(){return(0,n.getStorage)().versions.version(22)},t.activeMessageRangesCreateTable=function(){return(0,n.getStorage)().versions.version(23)},t.ftsIndexingQueueCreateTable=function(){return(0,n.getStorage)().versions.version(24)},t.cartCreateTable=function(){return(0,n.getStorage)().versions.version(25)},t.missingKeysCreateTable=function(){return(0,n.getStorage)().versions.version(26)},t.messageAddIsSendFailureProperties=function(){return(0,n.getStorage)().versions.version(27)},t.contactAddIsContactSyncCompleted=function(){return(0,n.getStorage)().versions.version(28)},t.messageAddPaymentTxnStatus=function(){return(0,n.getStorage)().versions.version(29)},t.messageAddProductListPreviewInfo=function(){return(0,n.getStorage)().versions.version(30)},t.verifiedBusinessNameAddPrivacyMode=function(){return(0,n.getStorage)().versions.version(31)},t.messageAddPrivacyModeFields=function(){return(0,n.getStorage)().versions.version(32)},t.messageInfoAddDeliveryPrivacyMode=function(){return(0,n.getStorage)().versions.version(33)},t.messageAddProductListPreviewHeaderImage=function(){return(0,n.getStorage)().versions.version(34)},t.contactAddDisappearingModeProperties=function(){return(0,n.getStorage)().versions.version(35)},t.chatAddDisappearingModeInitiator=function(){return(0,n.getStorage)().versions.version(36)},t.messageAddDisappearingModeInitiator=function(){return(0,n.getStorage)().versions.version(37)},t.messageAddGroupInviteV4=function(){return(0,n.getStorage)().versions.version(38)},t.groupInviteV4CreateTable=function(){return(0,n.getStorage)().versions.version(39)},t.orphanPaymentNotificationCreateTable=function(){return(0,n.getStorage)().versions.version(40)},t.deviceListAddDelete=function(){return(0,n.getStorage)().versions.version(41)},t.encryptHistorySyncDirectPath=function(){return(0,n.getStorage)().versions.version(42)},t.peerMessageCreateTable=function(){return(0,n.getStorage)().versions.version(43)},t.addUnreadMentionToChatTable=function(){return(0,n.getStorage)().versions.version(44)},t.encryptHistorySyncFilehash=function(){return(0,n.getStorage)().versions.version(45)},t.addSupportForHSMButtons=function(){return(0,n.getStorage)().versions.version(46)},t.orphanRevokeCreateTable=function(){return(0,n.getStorage)().versions.version(47)},t.addActionToPendingMutations=function(){return(0,n.getStorage)().versions.version(48)},t.messageAddPaymentRequestNFMFields=function(){return(0,n.getStorage)().versions.version(49)},t.addWaveformToAudioMessages=function(){return(0,n.getStorage)().versions.version(50)},t.addUnreadMentionCountToChatTable=function(){return(0,n.getStorage)().versions.version(51)},t.messageRemovePaymentRequestHeaderField=function(){return(0,n.getStorage)().versions.version(52)},t.recentStickersCreateTable=function(){return(0,n.getStorage)().versions.version(53)},t.messageAddNativeFlowNameField=function(){return(0,n.getStorage)().versions.version(54)},t.addGroupFromKeyToGroupInviteV4=function(){return(0,n.getStorage)().versions.version(55)},t.addTcTokenToChatTable=function(){return(0,n.getStorage)().versions.version(56)},t.addTcTokenTimestampToChatTable=function(){return(0,n.getStorage)().versions.version(57)},t.privacyDisallowedListCreateTable=function(){return(0,n.getStorage)().versions.version(58)},t.deviceListAddV2Fields=function(){return(0,n.getStorage)().versions.version(59)},t.addStaticURLToImageVideoMessages=function(){return(0,n.getStorage)().versions.version(60)},t.addArchiveAtMentionViewedInDrawer=function(){return(0,n.getStorage)().versions.version(61)},t.addTcTokenSenderTimestampToChatTable=function(){return(0,n.getStorage)().versions.version(62)},t.addRequiresDirectConnection=function(){return(0,n.getStorage)().versions.version(63)},t.messageAddPaymentInviteServiceType=function(){return(0,n.getStorage)().versions.version(64)},t.addStatusPSACampaignFields=function(){return(0,n.getStorage)().versions.version(65)},t.reactionsCreateTable=function(){return(0,n.getStorage)().versions.version(66)},t.privacyDisallowedListAddDhashField=function(){return(0,n.getStorage)().versions.version(67)},t.messageAddPaymentBackground=function(){return(0,n.getStorage)().versions.version(68)},t.messageAddInteractiveMessageFields=function(){return(0,n.getStorage)().versions.version(69)},t.directConnectionKeysCreateTable=function(){return(0,n.getStorage)().versions.version(70)},t.addReactionTableOrphanIndex=function(){return(0,n.getStorage)().versions.version(71)},t.messageAddActionLink=function(){return(0,n.getStorage)().versions.version(72)};var n=u(6183)},6198:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StorageCmd=void 0;var r=n(u(5863));class a extends r.default{}t.StorageCmd=a;var i=new a;t.default=i},5811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const u=[],n=e.length,r=t.length,a=Math.max(n,r);for(let i=0;i<a;i++)i<n&&u.push(e[i]),i<r&&u.push(t[i]);return u}},9344:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.asyncSleepAfterGivenLoopIteration=function(){return a.apply(this,arguments)},t.asyncSleep=i;var r=n(u(8926));function a(){return(a=(0,r.default)((function*(e,t=200,u=200){e>0&&e%t==0&&(yield i(u))}))).apply(this,arguments)}function i(e){return new Promise((t=>setTimeout(t,e)))}},6120:(e,t,u)=>{"use strict";var n=u(862),r=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DB_ENCRYPTION_CIPHER=t.ENC_KEY_TTL=t.ENC_KEY_TABLE_NAME=t.ENC_KEY_DB_NAME=void 0;var a=r(u(1109)),i=r(u(8926)),o=u(2498),s=u(2977),l=u(7148),c=r(u(6128)),D=r(u(1143)),E=n(u(3540));const d=u(5252).Z,f="wawc_db_enc";t.ENC_KEY_DB_NAME=f;const _="keys";t.ENC_KEY_TABLE_NAME=_;const h={name:"HKDF"},A={hash:"SHA-256"},S=4*l.WEEK_MILLISECONDS*24;t.ENC_KEY_TTL=S;const p="fts_hmac_keys",F="AES-CBC";t.DB_ENCRYPTION_CIPHER=F;function T(){const e=new Uint8Array(128);return self.crypto.getRandomValues(e),self.crypto.subtle.importKey("raw",e,h,!1,["deriveKey"])}var C=new class{constructor(){var e=this;this._waitUntilFinalDbEncKeyReady=new o.Resolvable,this._waitUntilEncKeyReady=new o.Resolvable,this._waitUntilFinalFtsHmacKeyReady=new o.Resolvable,this._getOrUpdateEncKeys=e=>this._getDbOrThrow().keys.orderBy("id").toArray().then((t=>{if(!t||0===t.length)return this._addNewEncKey(e);const u=t[t.length-1]._expiration;if(null!=u&&u<=(new Date).getTime())return this._addNewEncKey(e);this._ephemeralLocalEncSalt=e;const n=t.map(function(){var t=(0,i.default)((function*(t){const u=yield self.crypto.subtle.deriveKey((0,a.default)((0,a.default)((0,a.default)({},h),A),{},{salt:e,info:new Uint8Array(1)}),t.key,{name:F,length:128},!1,["encrypt","decrypt"]);return(0,a.default)((0,a.default)({},t),{},{key:u})}));return function(){return t.apply(this,arguments)}}());return Promise.all(n).then((e=>{this._keys=e,this._waitUntilEncKeyReady.resolve()}))})),this._getOrUpdateFtsKey=()=>this._getDbOrThrow().fts_hmac_keys.orderBy("id").toArray().then((e=>{if(!e||0===e.length)return this._addNewFtsHMACKey();if(e.length>1)throw new E.DBInvalidFtsHMACKey;this._ftsHMACKey=e[e.length-1]})),this._addNewEncKey=e=>T().then((t=>this._getDbOrThrow().keys.add({key:t,_expiration:(new Date).getTime()+S}).then((()=>this._getOrUpdateEncKeys(e))))),this._addNewFtsHMACKey=()=>T().then((e=>this._getDbOrThrow().fts_hmac_keys.add({key:e}).then((()=>this._getOrUpdateFtsKey())))),this.generateFinalDbEncryptionAndFtsKey=e=>{if(null!=this._finalDbMsgEncKeys||null==this._ephemeralLocalEncSalt)return Promise.resolve();const t=(0,s.decodeB64)(e);return this._generateFinalFtsHmacKey(t),this._generateFinalDbMsgEncryptionKey(t),Promise.resolve()},this._generateFinalDbMsgEncryptionKey=t=>this._getDbOrThrow().keys.orderBy("id").toArray().then((u=>{const n=u.map(function(){var u=(0,i.default)((function*(u){let n;(0,D.default)(null!=e._ephemeralLocalEncSalt,"local salt is undefined");try{n=yield self.crypto.subtle.deriveKey((0,a.default)((0,a.default)((0,a.default)({},h),A),{},{salt:t,info:new Uint8Array(e._ephemeralLocalEncSalt||0)}),u.key,{name:F,length:128},!1,["encrypt","decrypt"])}catch(t){throw e._ephemeralLocalEncSalt=null,t}return(0,a.default)((0,a.default)({},u),{},{key:n})}));return function(){return u.apply(this,arguments)}}());return Promise.all(n).then((e=>{this._ephemeralLocalEncSalt=null,this._finalDbMsgEncKeys=e,this._waitUntilFinalDbEncKeyReady.resolve()}))})).finally((()=>{this._ephemeralLocalEncSalt=null})),this._generateFinalFtsHmacKey=function(){var t=(0,i.default)((function*(t){if(!e._ftsHMACKey||null==e._ftsHMACKey.key||null==e._ftsHMACKey.id)throw __LOG__(2)`Base ftsHMACKey is null in _generateFinalFtsHmacKey`,new E.DBInvalidFtsHMACKey;const[u,n]=[e._ftsHMACKey.id,e._ftsHMACKey.key],r=yield self.crypto.subtle.deriveKey((0,a.default)((0,a.default)((0,a.default)({},h),A),{},{salt:t,info:new Uint8Array(0)}),n,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);e._finalFtsHmacKey={id:u,key:r},e._waitUntilFinalFtsHmacKeyReady.resolve()}));return function(){return t.apply(this,arguments)}}()}init(e){if(this._db)return d.resolve();this._db=new c.default(f),this._getDbOrThrow().version(1).stores({[_]:"++id, _expirtation",[p]:"++id"}),this._getDbOrThrow().version(2).stores({[_]:"++id",[p]:"++id"});const t=e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset);return d.resolve(this._getDbOrThrow().open()).then((()=>Promise.all([this._getOrUpdateEncKeys(t),this._getOrUpdateFtsKey()])))}_getDbOrThrow(){if(null==this._db)throw new Error("[db_encryption_key] db is not initialized");return this._db}deleteKeys(){return Promise.all([this._getDbOrThrow().table(_).clear(),this._getDbOrThrow().table(p).clear()]).then((()=>{})).finally((()=>(this._db=null,d.resolve(c.default.delete(f)).catch((()=>c.default.delete(f))))))}deleteKeyCache(){this._keys=null,this._ftsHMACKey=null,this._finalDbMsgEncKeys=null,this._waitUntilFinalDbEncKeyReady=new o.Resolvable,this._waitUntilFinalFtsHmacKeyReady=new o.Resolvable,this._waitUntilEncKeyReady=new o.Resolvable,this._finalFtsHmacKey=null,this._ephemeralLocalEncSalt=null}waitForEncKey(){return this._waitUntilEncKeyReady.promise}waitForFinalDbMsgEncKey(){return this._waitUntilFinalDbEncKeyReady.promise}waitForFinalFtsHmacKey(){return this._waitUntilFinalFtsHmacKeyReady.promise}get encKeys(){if(!this._keys)throw new E.DbEncKeyNotLoaded(_);return this._keys}get dbMsgEncKeys(){if(!this._finalDbMsgEncKeys)throw new E.DbMsgEncKeyNotLoaded(_);return this._finalDbMsgEncKeys}get ftsHMACKey(){if(!this._finalFtsHmacKey)throw new E.DbEncKeyNotLoaded(p);return this._finalFtsHmacKey}};t.default=C},1004:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisappearingModeInitiator=void 0;const n=u(4302)({ChangedInChat:"chat",InitiatedByMe:"me",InitiatedByOther:"other"});t.DisappearingModeInitiator=n},5863:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(u(3955)),a=n(u(1609)),i=n(u(1463));const o=/\s+/;t.default=class{on(e,t,u){if(!t)return this;if("function"!=typeof t)throw new Error("Callback parameter passed is not a function");return this._multiEvent(this.on,...arguments)||this._getOrCreateEvents(e).push({callback:t,context:u,ctx:u||this}),this}once(e,t,u){if(!t)return this;if(this._multiEvent(this.once,...arguments))return this;const n=this,r=(0,i.default)((function(){n.off(e,r),t.apply(this,arguments)}));return r._callback=t,this.on(e,r,u)}off(e,t,u){const n=this._events;if(!n)return this;if(this._multiEvent(this.off,...arguments))return this;if(!e&&!t&&!u)return this._events=void 0,this;const r=e?[e]:Object.keys(n);for(let e=0;e<r.length;e++){const a=r[e],i=n[a];if(i){if(n[a]=[],t||u)for(let e=0;e<i.length;e++){const r=i[e];(t&&t!==r.callback&&t!==r.callback._callback||u&&r.context!==u)&&n[a].push(r)}n[a].length||delete n[a]}}return this}trigger(e,...t){if(!this._events)return this;if(this._multiEvent(this.trigger,...arguments))return this;const u=this._getEvents(e),n=this._getEvents("all");return u&&this._triggerEvents(u,t),n&&this._triggerEvents(n,arguments),this}stopListening(e,t,u){const n=this._listeningTo;if(!n)return this;const r=e&&e._listenId,i=r?{[r]:e}:n;for(const e in i){const r=i[e];r.off(t,u,this),(!t&&!u||(0,a.default)(r._events))&&delete n[e]}return(0,a.default)(this._listeningTo)&&delete this._listeningTo,this}listenTo(e,t,u){return u?(this._addListeningTo(e),e.on(t,u,this),this):this}listenToOnce(e,t,u){return this._addListeningTo(e),e.once(t,u,this),this}listenToAndRun(e,t,u){return this.listenTo.apply(this,arguments),u.apply(this),this}isListening(e){const t=this._events;return!!t&&("string"==typeof e?!!t[e]:(0,a.default)(t))}_addListeningTo(e){(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=(0,r.default)("l"))]=e}_getOrCreateEvents(e){const t=this._events||(this._events={});return t[e]||(t[e]=[])}_getEvents(e){if(!e)return;const t=this._events;return t?t[e]:void 0}_multiEvent(e,t,...u){if(o.test(t)){const n=t.split(o);for(let t=0;t<n.length;t++)e.call(this,n[t],...u);return!0}return!1}_triggerEvents(e,t){let u,n=-1;const r=e.length,a=t[0],i=t[1],o=t[2];switch(t.length){case 0:for(;++n<r;)(u=e[n]).callback.call(u.ctx);return;case 1:for(;++n<r;)(u=e[n]).callback.call(u.ctx,a);return;case 2:for(;++n<r;)(u=e[n]).callback.call(u.ctx,a,i);return;case 3:for(;++n<r;)(u=e[n]).callback.call(u.ctx,a,i,o);return;default:for(;++n<r;)(u=e[n]).callback.apply(u.ctx,t)}}bind(){return this.on(...arguments)}unbind(){return this.off(...arguments)}removeListener(){return this.off(...arguments)}removeAllListeners(){return this.off()}emit(e,...t){return this.trigger(arguments)}}},3540:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GUM=t.UnableToGetContentLengthError=t.SourceUnavailableError=t.AbortError=t.NotFoundError=t.OverconstrainedError=t.ConstraintNotSatisfiedError=t.NotAllowedError=t.NotSupportedError=t.GUMError=t.ActiveChatChanged=t.Unmount=t.ActionError=t.CanNotSendUnencrypted=t.CapabilityUnknown=t.CapabilityInvalid=t.CapabilityError=t.DeprecatedProtocolVersion=t.UpdateImmediately=t.ProtoVersionUndefined=t.DBInvalidFtsHMACKey=t.DbOnLogoutAbort=t.DbMsgEncKeyNotLoaded=t.DbEncKeyNotLoaded=t.ModelCreateError=t.ModelError=t.MediaUnsupportedError=t.MediaDragDropError=t.UnableToPlayVideoError=t.TranscodeBlobTooLargeError=t.MediaLoadError=t.MediaMissing=t.MediaNeedsReupload=t.BingServerError=t.InvalidServerResponseError=t.ServerStatusError=t.EncodeWebpError=t.DecodeWebpResultsError=t.ImageError=t.BlockedByProxy=t.SocketNotOpen=t.SocketClosed=t.SocketError=t.MediaFileEmpty=t.MediaFileFailedLoad=t.MediaDecryptionError=t.MediaEncryptionError=t.InvalidMediaFileType=t.InvalidImageFileType=t.MediaFileError=t.CatalogImageDownloadError=t.GaveUpRetry=t.ShouldLoop=t.Offline=t.Disconnected=t.QueryDrop=void 0;var n=u(3253);class r extends((0,n.customError)("QueryDrop")){}t.QueryDrop=r;class a extends((0,n.customError)("Disconnected")){}t.Disconnected=a;class i extends((0,n.customError)("Offline")){}t.Offline=i;class o extends((0,n.customError)("ShouldLoop")){}t.ShouldLoop=o;class s extends((0,n.customError)("GaveUpRetry")){}t.GaveUpRetry=s;class l extends((0,n.customError)("CatalogImageDownloadError")){}t.CatalogImageDownloadError=l;class c extends((0,n.customError)("MediaFileError")){}t.MediaFileError=c;class D extends((0,n.customError)("InvalidImageFileType",!0,c)){}t.InvalidImageFileType=D;class E extends((0,n.customError)("InvalidMediaFileType",!0,c)){}t.InvalidMediaFileType=E;class d extends((0,n.customError)("MediaEncryptionError",!0,c)){}t.MediaEncryptionError=d;class f extends((0,n.customError)("MediaDecryptionError",!0,c)){}t.MediaDecryptionError=f;class _ extends((0,n.customError)("MediaFileFailedLoad",!0,c)){}t.MediaFileFailedLoad=_;class h extends((0,n.customError)("MediaFileEmpty",!0,c)){}function A(e){try{return JSON.stringify(e)}catch(t){return e.toString()}}t.MediaFileEmpty=h;class S extends((0,n.customError)("SocketError")){constructor(e){super("string"==typeof e?e:A(e)),this.event=e}}t.SocketError=S;class p extends((0,n.customError)("SocketClosed")){constructor(e){super("string"==typeof e?e:A(e)),this.event=e}}t.SocketClosed=p;class F extends((0,n.customError)("SocketNotOpen")){constructor(e){super(`socket not open, is ${e}`)}}t.SocketNotOpen=F;class T extends((0,n.customError)("BlockedByProxy")){}t.BlockedByProxy=T;class C extends((0,n.customError)("ImageError")){constructor(e,t){super("Image failed to load."),this.src=e,this.status=t,this.target={src:e,status:t}}}t.ImageError=C;class g extends((0,n.customError)("DecodeWebpResultsError")){constructor(e,t){super(e),this.event=t}}t.DecodeWebpResultsError=g;class m extends((0,n.customError)("DecodeWebpError")){constructor(e,t){super(e),this.event=t}}t.EncodeWebpError=m;class y extends((0,n.customError)("ServerStatusError")){constructor(e,t,u){super(`${e||"Server replied with a failed status code"}: ${u}`),this.url=t,this.status=u}}t.ServerStatusError=y;class I extends((0,n.customError)("InvalidServerResponseError")){constructor(e,t,u){let n=`Invalid response for ${e}, with status ${t}`;u&&(n=`${n}: ${u}`),super(n)}}t.InvalidServerResponseError=I;class v extends((0,n.customError)("BingServerError",!0,y)){constructor(e,t,u){super(`Error ${t} for ${e}: ${JSON.stringify(u)}`,e,t)}}t.BingServerError=v;class P extends((0,n.customError)("MediaNeedsReupload")){}t.MediaNeedsReupload=P;class b extends((0,n.customError)("MediaMissing")){}t.MediaMissing=b,b.message="Media is no longer available on your phone";class N extends((0,n.customError)("MediaLoadError")){constructor(e){super(e),this.src=e}}t.MediaLoadError=N;class B extends((0,n.customError)("TranscodeBlobTooLargeError")){constructor(){super("Transcode blob too large")}}t.TranscodeBlobTooLargeError=B;class R extends((0,n.customError)("UnableToPlayVideoError")){constructor(e){super(`Unable to play video. Reason: ${String(e)}`)}}t.UnableToPlayVideoError=R;class O extends((0,n.customError)("MediaDragDropError",!0,N)){}t.MediaDragDropError=O;class w extends((0,n.customError)("MediaUnsupportedError")){}t.MediaUnsupportedError=w,w.message="Media format is unsupported";class M extends((0,n.customError)("ModelError")){}t.ModelError=M;class Y extends((0,n.customError)("ModelCreateError")){constructor(e,t){super(e),this.model=t}}t.ModelCreateError=Y;class L extends((0,n.customError)("DbEncKeyNotLoadedError")){constructor(e){super(`MasterDatabaseEncryptionKey.${e} was accessed before init`)}}t.DbEncKeyNotLoaded=L;class x extends((0,n.customError)("DbMsgEncKeyNotLoadedError")){constructor(e){super(`MasterDatabaseMessageEncryptionKey.${e} was accessed before init`)}}t.DbMsgEncKeyNotLoaded=x;class U extends((0,n.customError)("DbOnLogoutAbortError")){}t.DbOnLogoutAbort=U,U.message="DB operation was dropped due to logout activity";class G extends((0,n.customError)("DBExpiredFtsHMACKey")){}t.DBInvalidFtsHMACKey=G,G.message="MasterDatabaseEncryptionKey.fts_hmac_keys is in an invalid state";class k extends((0,n.customError)("ProtoVersionUndefined")){}t.ProtoVersionUndefined=k;class V extends((0,n.customError)("UpdateImmediately")){}t.UpdateImmediately=V;class K extends((0,n.customError)("DeprecatedProtocolVersion")){}t.DeprecatedProtocolVersion=K;class j extends((0,n.customError)("CapabilityError")){}t.CapabilityError=j;class H extends((0,n.customError)("CapabilityInvalid",!0,j)){}t.CapabilityInvalid=H;class W extends((0,n.customError)("CapabilityUnknown",!0,j)){}t.CapabilityUnknown=W;class $ extends((0,n.customError)("CanNotSendUnencrypted")){}t.CanNotSendUnencrypted=$;class z extends((0,n.customError)("ActionError")){}t.ActionError=z,z.message="Could not perform action.";class q extends((0,n.customError)("Unmount")){}t.Unmount=q;class X extends((0,n.customError)("ActiveChatChanged")){}t.ActiveChatChanged=X;class Q extends((0,n.customError)("GUMError")){}t.GUMError=Q;class J extends((0,n.customError)("NotSupportedError",!0,Q)){}t.NotSupportedError=J,J.message="The operation is not supported.";class Z extends((0,n.customError)("NotAllowedError",!0,Q)){}t.NotAllowedError=Z,Z.message="The user did not grant permission for the operation";class ee extends((0,n.customError)("ConstraintNotSatisfiedError",!0,Q)){}t.ConstraintNotSatisfiedError=ee,ee.message="One of the mandatory Constraints could not be satisfied.";class te extends((0,n.customError)("OverconstrainedError",!0,Q)){}t.OverconstrainedError=te,te.message="Due to changes in the environment, one or more mandatory constraints can no longer be satisfied.";class ue extends((0,n.customError)("NotFoundError",!0,Q)){}t.NotFoundError=ue,ue.message="The object can not be found here.";class ne extends((0,n.customError)("AbortError",!0,Q)){}t.AbortError=ne,ne.message="The operation was aborted.";class re extends((0,n.customError)("SourceUnavailableError",!0,Q)){}t.SourceUnavailableError=re,re.message="The source of the MediaStream could not be accessed due to a hardware error (e.g. lock from another process).";class ae extends((0,n.customError)("UnableToGetContentLengthError")){}t.UnableToGetContentLengthError=ae,ae.message="Failed to get media contentLength from mms";const ie={GUMError:Q,NotSupportedError:J,NotAllowedError:Z,ConstraintNotSatisfiedError:ee,OverconstrainedError:te,NotFoundError:ue,AbortError:ne,SourceUnavailableError:re};t.GUM=ie},3846:(e,t,u)=>{"use strict";var n=u(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,u,n=String){let a=(0,r.default)(e,t.map(n)).join("");const i=u?4e3:Number.POSITIVE_INFINITY;a.length>i&&(a=a.slice(0,i).replace(/\s+$/," [truncated]"));return a};var r=n(u(5811))},9058:(e,t)=>{"use strict";function u(e,t){const n=function(...u){const r=t?t.apply(this,u):u[0];if(!r)return e.apply(this,u);const a=n.cache;if(a.has(r))return a.get(r);const i=e.apply(this,u);return n.cache=a.set(r,i)||a,i};return n.cache=new(u.Cache||Map),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,u.Cache=Map;var n=u;t.default=n},6601:(e,t,u)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e||!(0,n.isString)(e))throw new Error("MsgKey fromString error: str is null or not a string");const t=e.split("_");let u;t.length<3?__LOG__(3)`MsgKey error: cannot create MsgKey from ${e}`:4===t.length?"out"!==t[3]&&"in"!==t[3]&&(u=t[3]):5===t.length&&(u=t[4]);return{fromMe:"true"===t[0],remote:t[1],id:t[2],participant:u}};var n=u(4289)},4289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isBoolean=function(e){return"boolean"==typeof e}}},t={};function u(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,u),a.loaded=!0,a.exports}u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{self.Promise=u(5252).Z;const{log:e,sendLogs:t}=u(6489);self.__LOG__=e,self.SEND_LOGS=t;const n=u(742).Z;let r=null;n().then((()=>{self.addEventListener("message",(e=>{{const t=u(1434).Z;r||(r=new t);const n=e.data;r.enqueue(n)}}))}))})()})();