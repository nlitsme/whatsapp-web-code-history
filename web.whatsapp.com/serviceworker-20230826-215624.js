/*! Copyright (c) 2023 WhatsApp Inc. All Rights Reserved. */(()=>{var __webpack_modules__={14462:(e,t,n)=>{!function(e){"use strict";var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),s=t([1]),l=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function E(e,t,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^n[r+o];return(1&a-1>>>8)-1}function A(e,t,n,r){return E(e,t,n,r,16)}function g(e,t,n,r){return E(e,t,n,r,32)}function h(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,_=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,E=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,A=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,h=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,S=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,T=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,m=o,I=a,y=s,C=l,v=c,O=u,P=d,N=_,b=p,M=f,R=E,D=A,L=g,w=h,B=S,U=T,G=0;G<20;G+=2)m^=(i=(L^=(i=(b^=(i=(v^=(i=m+L|0)<<7|i>>>25)+m|0)<<9|i>>>23)+v|0)<<13|i>>>19)+b|0)<<18|i>>>14,O^=(i=(I^=(i=(w^=(i=(M^=(i=O+I|0)<<7|i>>>25)+O|0)<<9|i>>>23)+M|0)<<13|i>>>19)+w|0)<<18|i>>>14,R^=(i=(P^=(i=(y^=(i=(B^=(i=R+P|0)<<7|i>>>25)+R|0)<<9|i>>>23)+B|0)<<13|i>>>19)+y|0)<<18|i>>>14,U^=(i=(D^=(i=(N^=(i=(C^=(i=U+D|0)<<7|i>>>25)+U|0)<<9|i>>>23)+C|0)<<13|i>>>19)+N|0)<<18|i>>>14,m^=(i=(C^=(i=(y^=(i=(I^=(i=m+C|0)<<7|i>>>25)+m|0)<<9|i>>>23)+I|0)<<13|i>>>19)+y|0)<<18|i>>>14,O^=(i=(v^=(i=(N^=(i=(P^=(i=O+v|0)<<7|i>>>25)+O|0)<<9|i>>>23)+P|0)<<13|i>>>19)+N|0)<<18|i>>>14,R^=(i=(M^=(i=(b^=(i=(D^=(i=R+M|0)<<7|i>>>25)+R|0)<<9|i>>>23)+D|0)<<13|i>>>19)+b|0)<<18|i>>>14,U^=(i=(B^=(i=(w^=(i=(L^=(i=U+B|0)<<7|i>>>25)+U|0)<<9|i>>>23)+L|0)<<13|i>>>19)+w|0)<<18|i>>>14;m=m+o|0,I=I+a|0,y=y+s|0,C=C+l|0,v=v+c|0,O=O+u|0,P=P+d|0,N=N+_|0,b=b+p|0,M=M+f|0,R=R+E|0,D=D+A|0,L=L+g|0,w=w+h|0,B=B+S|0,U=U+T|0,e[0]=m>>>0&255,e[1]=m>>>8&255,e[2]=m>>>16&255,e[3]=m>>>24&255,e[4]=I>>>0&255,e[5]=I>>>8&255,e[6]=I>>>16&255,e[7]=I>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=C>>>0&255,e[13]=C>>>8&255,e[14]=C>>>16&255,e[15]=C>>>24&255,e[16]=v>>>0&255,e[17]=v>>>8&255,e[18]=v>>>16&255,e[19]=v>>>24&255,e[20]=O>>>0&255,e[21]=O>>>8&255,e[22]=O>>>16&255,e[23]=O>>>24&255,e[24]=P>>>0&255,e[25]=P>>>8&255,e[26]=P>>>16&255,e[27]=P>>>24&255,e[28]=N>>>0&255,e[29]=N>>>8&255,e[30]=N>>>16&255,e[31]=N>>>24&255,e[32]=b>>>0&255,e[33]=b>>>8&255,e[34]=b>>>16&255,e[35]=b>>>24&255,e[36]=M>>>0&255,e[37]=M>>>8&255,e[38]=M>>>16&255,e[39]=M>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=D>>>0&255,e[45]=D>>>8&255,e[46]=D>>>16&255,e[47]=D>>>24&255,e[48]=L>>>0&255,e[49]=L>>>8&255,e[50]=L>>>16&255,e[51]=L>>>24&255,e[52]=w>>>0&255,e[53]=w>>>8&255,e[54]=w>>>16&255,e[55]=w>>>24&255,e[56]=B>>>0&255,e[57]=B>>>8&255,e[58]=B>>>16&255,e[59]=B>>>24&255,e[60]=U>>>0&255,e[61]=U>>>8&255,e[62]=U>>>16&255,e[63]=U>>>24&255}(e,t,n,r)}function S(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,_=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,E=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,A=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,h=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,S=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,T=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,m=0;m<20;m+=2)o^=(i=(g^=(i=(p^=(i=(c^=(i=o+g|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+p|0)<<18|i>>>14,u^=(i=(a^=(i=(h^=(i=(f^=(i=u+a|0)<<7|i>>>25)+u|0)<<9|i>>>23)+f|0)<<13|i>>>19)+h|0)<<18|i>>>14,E^=(i=(d^=(i=(s^=(i=(S^=(i=E+d|0)<<7|i>>>25)+E|0)<<9|i>>>23)+S|0)<<13|i>>>19)+s|0)<<18|i>>>14,T^=(i=(A^=(i=(_^=(i=(l^=(i=T+A|0)<<7|i>>>25)+T|0)<<9|i>>>23)+l|0)<<13|i>>>19)+_|0)<<18|i>>>14,o^=(i=(l^=(i=(s^=(i=(a^=(i=o+l|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,u^=(i=(c^=(i=(_^=(i=(d^=(i=u+c|0)<<7|i>>>25)+u|0)<<9|i>>>23)+d|0)<<13|i>>>19)+_|0)<<18|i>>>14,E^=(i=(f^=(i=(p^=(i=(A^=(i=E+f|0)<<7|i>>>25)+E|0)<<9|i>>>23)+A|0)<<13|i>>>19)+p|0)<<18|i>>>14,T^=(i=(S^=(i=(h^=(i=(g^=(i=T+S|0)<<7|i>>>25)+T|0)<<9|i>>>23)+g|0)<<13|i>>>19)+h|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=u>>>0&255,e[5]=u>>>8&255,e[6]=u>>>16&255,e[7]=u>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=_>>>0&255,e[21]=_>>>8&255,e[22]=_>>>16&255,e[23]=_>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=f>>>0&255,e[29]=f>>>8&255,e[30]=f>>>16&255,e[31]=f>>>24&255}(e,t,n,r)}var T=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function m(e,t,n,r,i,o,a){var s,l,c=new Uint8Array(16),u=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=o[l];for(;i>=64;){for(h(u,c,a,T),l=0;l<64;l++)e[t+l]=n[r+l]^u[l];for(s=1,l=8;l<16;l++)s=s+(255&c[l])|0,c[l]=255&s,s>>>=8;i-=64,t+=64,r+=64}if(i>0)for(h(u,c,a,T),l=0;l<i;l++)e[t+l]=n[r+l]^u[l];return 0}function I(e,t,n,r,i){var o,a,s=new Uint8Array(16),l=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(h(l,s,i,T),a=0;a<64;a++)e[t+a]=l[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(h(l,s,i,T),a=0;a<n;a++)e[t+a]=l[a];return 0}function y(e,t,n,r,i){var o=new Uint8Array(32);S(o,r,i,T);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return I(e,t,n,a,o)}function C(e,t,n,r,i,o,a){var s=new Uint8Array(32);S(s,o,a,T);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=o[c+16];return m(e,t,n,r,i,l,s)}var v=function(e){var t,n,r,i,o,a,s,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),l=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|l<<8),this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function O(e,t,n,r,i,o){var a=new v(o);return a.update(n,r,i),a.finish(e,t),0}function P(e,t,n,r,i,o){var a=new Uint8Array(16);return O(a,0,n,r,i,o),A(e,t,a,0)}function N(e,t,n,r,i){var o;if(n<32)return-1;for(C(e,0,t,0,n,r,i),O(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function b(e,t,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(y(a,0,32,r,i),0!==P(t,16,t,32,n-32,a))return-1;for(C(e,0,t,0,n,r,i),o=0;o<32;o++)e[o]=0;return 0}function M(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function R(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function D(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function L(e,n){var r,i,o,a=t(),s=t();for(r=0;r<16;r++)s[r]=n[r];for(R(s),R(s),R(s),i=0;i<2;i++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,D(s,a,1-o)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8}function w(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return L(n,e),L(r,t),g(n,0,r,0)}function B(e){var t=new Uint8Array(32);return L(t,e),1&t[0]}function U(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function G(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function k(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function Y(e,t,n){var r,i,o=0,a=0,s=0,l=0,c=0,u=0,d=0,_=0,p=0,f=0,E=0,A=0,g=0,h=0,S=0,T=0,m=0,I=0,y=0,C=0,v=0,O=0,P=0,N=0,b=0,M=0,R=0,D=0,L=0,w=0,B=0,U=n[0],G=n[1],k=n[2],Y=n[3],F=n[4],K=n[5],x=n[6],H=n[7],j=n[8],V=n[9],W=n[10],Q=n[11],$=n[12],z=n[13],J=n[14],q=n[15];o+=(r=t[0])*U,a+=r*G,s+=r*k,l+=r*Y,c+=r*F,u+=r*K,d+=r*x,_+=r*H,p+=r*j,f+=r*V,E+=r*W,A+=r*Q,g+=r*$,h+=r*z,S+=r*J,T+=r*q,a+=(r=t[1])*U,s+=r*G,l+=r*k,c+=r*Y,u+=r*F,d+=r*K,_+=r*x,p+=r*H,f+=r*j,E+=r*V,A+=r*W,g+=r*Q,h+=r*$,S+=r*z,T+=r*J,m+=r*q,s+=(r=t[2])*U,l+=r*G,c+=r*k,u+=r*Y,d+=r*F,_+=r*K,p+=r*x,f+=r*H,E+=r*j,A+=r*V,g+=r*W,h+=r*Q,S+=r*$,T+=r*z,m+=r*J,I+=r*q,l+=(r=t[3])*U,c+=r*G,u+=r*k,d+=r*Y,_+=r*F,p+=r*K,f+=r*x,E+=r*H,A+=r*j,g+=r*V,h+=r*W,S+=r*Q,T+=r*$,m+=r*z,I+=r*J,y+=r*q,c+=(r=t[4])*U,u+=r*G,d+=r*k,_+=r*Y,p+=r*F,f+=r*K,E+=r*x,A+=r*H,g+=r*j,h+=r*V,S+=r*W,T+=r*Q,m+=r*$,I+=r*z,y+=r*J,C+=r*q,u+=(r=t[5])*U,d+=r*G,_+=r*k,p+=r*Y,f+=r*F,E+=r*K,A+=r*x,g+=r*H,h+=r*j,S+=r*V,T+=r*W,m+=r*Q,I+=r*$,y+=r*z,C+=r*J,v+=r*q,d+=(r=t[6])*U,_+=r*G,p+=r*k,f+=r*Y,E+=r*F,A+=r*K,g+=r*x,h+=r*H,S+=r*j,T+=r*V,m+=r*W,I+=r*Q,y+=r*$,C+=r*z,v+=r*J,O+=r*q,_+=(r=t[7])*U,p+=r*G,f+=r*k,E+=r*Y,A+=r*F,g+=r*K,h+=r*x,S+=r*H,T+=r*j,m+=r*V,I+=r*W,y+=r*Q,C+=r*$,v+=r*z,O+=r*J,P+=r*q,p+=(r=t[8])*U,f+=r*G,E+=r*k,A+=r*Y,g+=r*F,h+=r*K,S+=r*x,T+=r*H,m+=r*j,I+=r*V,y+=r*W,C+=r*Q,v+=r*$,O+=r*z,P+=r*J,N+=r*q,f+=(r=t[9])*U,E+=r*G,A+=r*k,g+=r*Y,h+=r*F,S+=r*K,T+=r*x,m+=r*H,I+=r*j,y+=r*V,C+=r*W,v+=r*Q,O+=r*$,P+=r*z,N+=r*J,b+=r*q,E+=(r=t[10])*U,A+=r*G,g+=r*k,h+=r*Y,S+=r*F,T+=r*K,m+=r*x,I+=r*H,y+=r*j,C+=r*V,v+=r*W,O+=r*Q,P+=r*$,N+=r*z,b+=r*J,M+=r*q,A+=(r=t[11])*U,g+=r*G,h+=r*k,S+=r*Y,T+=r*F,m+=r*K,I+=r*x,y+=r*H,C+=r*j,v+=r*V,O+=r*W,P+=r*Q,N+=r*$,b+=r*z,M+=r*J,R+=r*q,g+=(r=t[12])*U,h+=r*G,S+=r*k,T+=r*Y,m+=r*F,I+=r*K,y+=r*x,C+=r*H,v+=r*j,O+=r*V,P+=r*W,N+=r*Q,b+=r*$,M+=r*z,R+=r*J,D+=r*q,h+=(r=t[13])*U,S+=r*G,T+=r*k,m+=r*Y,I+=r*F,y+=r*K,C+=r*x,v+=r*H,O+=r*j,P+=r*V,N+=r*W,b+=r*Q,M+=r*$,R+=r*z,D+=r*J,L+=r*q,S+=(r=t[14])*U,T+=r*G,m+=r*k,I+=r*Y,y+=r*F,C+=r*K,v+=r*x,O+=r*H,P+=r*j,N+=r*V,b+=r*W,M+=r*Q,R+=r*$,D+=r*z,L+=r*J,w+=r*q,T+=(r=t[15])*U,a+=38*(I+=r*k),s+=38*(y+=r*Y),l+=38*(C+=r*F),c+=38*(v+=r*K),u+=38*(O+=r*x),d+=38*(P+=r*H),_+=38*(N+=r*j),p+=38*(b+=r*V),f+=38*(M+=r*W),E+=38*(R+=r*Q),A+=38*(D+=r*$),g+=38*(L+=r*z),h+=38*(w+=r*J),S+=38*(B+=r*q),o=(r=(o+=38*(m+=r*G))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),A=(r=A+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),S=(r=S+i+65535)-65536*(i=Math.floor(r/65536)),T=(r=T+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),A=(r=A+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),S=(r=S+i+65535)-65536*(i=Math.floor(r/65536)),T=(r=T+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=l,e[4]=c,e[5]=u,e[6]=d,e[7]=_,e[8]=p,e[9]=f,e[10]=E,e[11]=A,e[12]=g,e[13]=h,e[14]=S,e[15]=T}function F(e,t){Y(e,t,t)}function K(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)F(i,i),2!==r&&4!==r&&Y(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function x(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)F(i,i),1!==r&&Y(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function H(e,n,r){var i,o,a=new Uint8Array(32),s=new Float64Array(80),c=t(),u=t(),d=t(),_=t(),p=t(),f=t();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,U(s,r),o=0;o<16;o++)u[o]=s[o],_[o]=c[o]=d[o]=0;for(c[0]=_[0]=1,o=254;o>=0;--o)D(c,u,i=a[o>>>3]>>>(7&o)&1),D(d,_,i),G(p,c,d),k(c,c,d),G(d,u,_),k(u,u,_),F(_,p),F(f,c),Y(c,d,c),Y(d,u,p),G(p,c,d),k(c,c,d),F(u,c),k(d,_,f),Y(c,d,l),G(c,c,_),Y(d,d,c),Y(c,_,f),Y(_,u,s),F(u,p),D(c,u,i),D(d,_,i);for(o=0;o<16;o++)s[o+16]=c[o],s[o+32]=d[o],s[o+48]=u[o],s[o+64]=_[o];var E=s.subarray(32),A=s.subarray(16);return K(E,E),Y(A,A,E),L(e,A),0}function j(e,t){return H(e,t,o)}function V(e,t){return r(t,32),j(e,t)}function W(e,t,n){var r=new Uint8Array(32);return H(r,n,t),S(e,i,r,T)}v.prototype.blocks=function(e,t,n){for(var r,i,o,a,s,l,c,u,d,_,p,f,E,A,g,h,S,T,m,I=this.fin?0:2048,y=this.h[0],C=this.h[1],v=this.h[2],O=this.h[3],P=this.h[4],N=this.h[5],b=this.h[6],M=this.h[7],R=this.h[8],D=this.h[9],L=this.r[0],w=this.r[1],B=this.r[2],U=this.r[3],G=this.r[4],k=this.r[5],Y=this.r[6],F=this.r[7],K=this.r[8],x=this.r[9];n>=16;)_=d=0,_+=(y+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*L,_+=(C+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*x),_+=(v+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*K),_+=(O+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),d=(_+=(P+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*Y))>>>13,_&=8191,_+=(N+=s>>>1&8191)*(5*k),_+=(b+=8191&(s>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*G),_+=(M+=8191&(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*U),_+=(R+=8191&(c>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*B),p=d+=(_+=(D+=u>>>5|I)*(5*w))>>>13,p+=y*w,p+=C*L,p+=v*(5*x),p+=O*(5*K),d=(p+=P*(5*F))>>>13,p&=8191,p+=N*(5*Y),p+=b*(5*k),p+=M*(5*G),p+=R*(5*U),d+=(p+=D*(5*B))>>>13,p&=8191,f=d,f+=y*B,f+=C*w,f+=v*L,f+=O*(5*x),d=(f+=P*(5*K))>>>13,f&=8191,f+=N*(5*F),f+=b*(5*Y),f+=M*(5*k),f+=R*(5*G),E=d+=(f+=D*(5*U))>>>13,E+=y*U,E+=C*B,E+=v*w,E+=O*L,d=(E+=P*(5*x))>>>13,E&=8191,E+=N*(5*K),E+=b*(5*F),E+=M*(5*Y),E+=R*(5*k),A=d+=(E+=D*(5*G))>>>13,A+=y*G,A+=C*U,A+=v*B,A+=O*w,d=(A+=P*L)>>>13,A&=8191,A+=N*(5*x),A+=b*(5*K),A+=M*(5*F),A+=R*(5*Y),g=d+=(A+=D*(5*k))>>>13,g+=y*k,g+=C*G,g+=v*U,g+=O*B,d=(g+=P*w)>>>13,g&=8191,g+=N*L,g+=b*(5*x),g+=M*(5*K),g+=R*(5*F),h=d+=(g+=D*(5*Y))>>>13,h+=y*Y,h+=C*k,h+=v*G,h+=O*U,d=(h+=P*B)>>>13,h&=8191,h+=N*w,h+=b*L,h+=M*(5*x),h+=R*(5*K),S=d+=(h+=D*(5*F))>>>13,S+=y*F,S+=C*Y,S+=v*k,S+=O*G,d=(S+=P*U)>>>13,S&=8191,S+=N*B,S+=b*w,S+=M*L,S+=R*(5*x),T=d+=(S+=D*(5*K))>>>13,T+=y*K,T+=C*F,T+=v*Y,T+=O*k,d=(T+=P*G)>>>13,T&=8191,T+=N*U,T+=b*B,T+=M*w,T+=R*L,m=d+=(T+=D*(5*x))>>>13,m+=y*x,m+=C*K,m+=v*F,m+=O*Y,d=(m+=P*k)>>>13,m&=8191,m+=N*G,m+=b*U,m+=M*B,m+=R*w,y=_=8191&(d=(d=((d+=(m+=D*L)>>>13)<<2)+d|0)+(_&=8191)|0),C=p+=d>>>=13,v=f&=8191,O=E&=8191,P=A&=8191,N=g&=8191,b=h&=8191,M=S&=8191,R=T&=8191,D=m&=8191,t+=16,n-=16;this.h[0]=y,this.h[1]=C,this.h[2]=v,this.h[3]=O,this.h[4]=P,this.h[5]=N,this.h[6]=b,this.h[7]=M,this.h[8]=R,this.h[9]=D},v.prototype.finish=function(e,t){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},v.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var Q=N,$=b;var z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,n,r){for(var i,o,a,s,l,c,u,d,_,p,f,E,A,g,h,S,T,m,I,y,C,v,O,P,N,b,M=new Int32Array(16),R=new Int32Array(16),D=e[0],L=e[1],w=e[2],B=e[3],U=e[4],G=e[5],k=e[6],Y=e[7],F=t[0],K=t[1],x=t[2],H=t[3],j=t[4],V=t[5],W=t[6],Q=t[7],$=0;r>=128;){for(I=0;I<16;I++)y=8*I+$,M[I]=n[y+0]<<24|n[y+1]<<16|n[y+2]<<8|n[y+3],R[I]=n[y+4]<<24|n[y+5]<<16|n[y+6]<<8|n[y+7];for(I=0;I<80;I++)if(i=D,o=L,a=w,s=B,l=U,c=G,u=k,Y,_=F,p=K,f=x,E=H,A=j,g=V,h=W,Q,O=65535&(v=Q),P=v>>>16,N=65535&(C=Y),b=C>>>16,O+=65535&(v=(j>>>14|U<<18)^(j>>>18|U<<14)^(U>>>9|j<<23)),P+=v>>>16,N+=65535&(C=(U>>>14|j<<18)^(U>>>18|j<<14)^(j>>>9|U<<23)),b+=C>>>16,O+=65535&(v=j&V^~j&W),P+=v>>>16,N+=65535&(C=U&G^~U&k),b+=C>>>16,O+=65535&(v=z[2*I+1]),P+=v>>>16,N+=65535&(C=z[2*I]),b+=C>>>16,C=M[I%16],P+=(v=R[I%16])>>>16,N+=65535&C,b+=C>>>16,N+=(P+=(O+=65535&v)>>>16)>>>16,O=65535&(v=m=65535&O|P<<16),P=v>>>16,N=65535&(C=T=65535&N|(b+=N>>>16)<<16),b=C>>>16,O+=65535&(v=(F>>>28|D<<4)^(D>>>2|F<<30)^(D>>>7|F<<25)),P+=v>>>16,N+=65535&(C=(D>>>28|F<<4)^(F>>>2|D<<30)^(F>>>7|D<<25)),b+=C>>>16,P+=(v=F&K^F&x^K&x)>>>16,N+=65535&(C=D&L^D&w^L&w),b+=C>>>16,d=65535&(N+=(P+=(O+=65535&v)>>>16)>>>16)|(b+=N>>>16)<<16,S=65535&O|P<<16,O=65535&(v=E),P=v>>>16,N=65535&(C=s),b=C>>>16,P+=(v=m)>>>16,N+=65535&(C=T),b+=C>>>16,L=i,w=o,B=a,U=s=65535&(N+=(P+=(O+=65535&v)>>>16)>>>16)|(b+=N>>>16)<<16,G=l,k=c,Y=u,D=d,K=_,x=p,H=f,j=E=65535&O|P<<16,V=A,W=g,Q=h,F=S,I%16==15)for(y=0;y<16;y++)C=M[y],O=65535&(v=R[y]),P=v>>>16,N=65535&C,b=C>>>16,C=M[(y+9)%16],O+=65535&(v=R[(y+9)%16]),P+=v>>>16,N+=65535&C,b+=C>>>16,T=M[(y+1)%16],O+=65535&(v=((m=R[(y+1)%16])>>>1|T<<31)^(m>>>8|T<<24)^(m>>>7|T<<25)),P+=v>>>16,N+=65535&(C=(T>>>1|m<<31)^(T>>>8|m<<24)^T>>>7),b+=C>>>16,T=M[(y+14)%16],P+=(v=((m=R[(y+14)%16])>>>19|T<<13)^(T>>>29|m<<3)^(m>>>6|T<<26))>>>16,N+=65535&(C=(T>>>19|m<<13)^(m>>>29|T<<3)^T>>>6),b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,M[y]=65535&N|b<<16,R[y]=65535&O|P<<16;O=65535&(v=F),P=v>>>16,N=65535&(C=D),b=C>>>16,C=e[0],P+=(v=t[0])>>>16,N+=65535&C,b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,e[0]=D=65535&N|b<<16,t[0]=F=65535&O|P<<16,O=65535&(v=K),P=v>>>16,N=65535&(C=L),b=C>>>16,C=e[1],P+=(v=t[1])>>>16,N+=65535&C,b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,e[1]=L=65535&N|b<<16,t[1]=K=65535&O|P<<16,O=65535&(v=x),P=v>>>16,N=65535&(C=w),b=C>>>16,C=e[2],P+=(v=t[2])>>>16,N+=65535&C,b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,e[2]=w=65535&N|b<<16,t[2]=x=65535&O|P<<16,O=65535&(v=H),P=v>>>16,N=65535&(C=B),b=C>>>16,C=e[3],P+=(v=t[3])>>>16,N+=65535&C,b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,e[3]=B=65535&N|b<<16,t[3]=H=65535&O|P<<16,O=65535&(v=j),P=v>>>16,N=65535&(C=U),b=C>>>16,C=e[4],P+=(v=t[4])>>>16,N+=65535&C,b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,e[4]=U=65535&N|b<<16,t[4]=j=65535&O|P<<16,O=65535&(v=V),P=v>>>16,N=65535&(C=G),b=C>>>16,C=e[5],P+=(v=t[5])>>>16,N+=65535&C,b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,e[5]=G=65535&N|b<<16,t[5]=V=65535&O|P<<16,O=65535&(v=W),P=v>>>16,N=65535&(C=k),b=C>>>16,C=e[6],P+=(v=t[6])>>>16,N+=65535&C,b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,e[6]=k=65535&N|b<<16,t[6]=W=65535&O|P<<16,O=65535&(v=Q),P=v>>>16,N=65535&(C=Y),b=C>>>16,C=e[7],P+=(v=t[7])>>>16,N+=65535&C,b+=C>>>16,b+=(N+=(P+=(O+=65535&v)>>>16)>>>16)>>>16,e[7]=Y=65535&N|b<<16,t[7]=Q=65535&O|P<<16,$+=128,r-=128}return r}function q(e,t,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,J(i,o,t,n),n%=128,r=0;r<n;r++)a[r]=t[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,f(a,n-8,s/536870912|0,s<<3),J(i,o,a,n),r=0;r<8;r++)f(e,8*r,i[r],o[r]);return 0}function X(e,n){var r=t(),i=t(),o=t(),a=t(),s=t(),l=t(),c=t(),d=t(),_=t();k(r,e[1],e[0]),k(_,n[1],n[0]),Y(r,r,_),G(i,e[0],e[1]),G(_,n[0],n[1]),Y(i,i,_),Y(o,e[3],n[3]),Y(o,o,u),Y(a,e[2],n[2]),G(a,a,a),k(s,i,r),k(l,a,o),G(c,a,o),G(d,i,r),Y(e[0],s,l),Y(e[1],d,c),Y(e[2],c,l),Y(e[3],s,d)}function Z(e,t,n){var r;for(r=0;r<4;r++)D(e[r],t[r],n)}function ee(e,n){var r=t(),i=t(),o=t();K(o,n[2]),Y(r,n[0],o),Y(i,n[1],o),L(e,i),e[31]^=B(r)<<7}function te(e,t,n){var r,i;for(M(e[0],a),M(e[1],s),M(e[2],s),M(e[3],a),i=255;i>=0;--i)Z(e,t,r=n[i/8|0]>>(7&i)&1),X(t,e),X(e,e),Z(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];M(r[0],d),M(r[1],_),M(r[2],s),Y(r[3],d,_),te(e,r,n)}function re(e,n,i){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||r(n,32),q(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,ne(s,a),ee(e,s),o=0;o<32;o++)n[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*ie[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*ie[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*ie[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function ae(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,n)}function se(e,n,r,i){var o,a,s=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),d=[t(),t(),t(),t()];q(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var _=r+64;for(o=0;o<r;o++)e[64+o]=n[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(q(c,e.subarray(32),r+32),ae(c),ne(d,c),ee(e,d),o=32;o<64;o++)e[o]=i[o];for(q(l,e,r+64),ae(l),o=0;o<64;o++)u[o]=0;for(o=0;o<32;o++)u[o]=c[o];for(o=0;o<32;o++)for(a=0;a<32;a++)u[o+a]+=l[o]*s[a];return oe(e.subarray(32),u),_}function le(e,n,r,i){var o,l=new Uint8Array(32),u=new Uint8Array(64),d=[t(),t(),t(),t()],_=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),i=t(),o=t(),l=t(),u=t(),d=t(),_=t();return M(e[2],s),U(e[1],n),F(o,e[1]),Y(l,o,c),k(o,o,e[2]),G(l,e[2],l),F(u,l),F(d,u),Y(_,d,u),Y(r,_,o),Y(r,r,l),x(r,r),Y(r,r,o),Y(r,r,l),Y(r,r,l),Y(e[0],r,l),F(i,e[0]),Y(i,i,l),w(i,o)&&Y(e[0],e[0],p),F(i,e[0]),Y(i,i,l),w(i,o)?-1:(B(e[0])===n[31]>>7&&k(e[0],a,e[0]),Y(e[3],e[0],e[1]),0)}(_,i))return-1;for(o=0;o<r;o++)e[o]=n[o];for(o=0;o<32;o++)e[o+32]=i[o];if(q(u,e,r),ae(u),te(d,_,u),ne(_,n.subarray(32)),X(d,_),ee(l,d),r-=64,g(n,0,l,0)){for(o=0;o<r;o++)e[o]=0;return-1}for(o=0;o<r;o++)e[o]=n[o+64];return r}var ce=16,ue=64,de=32,_e=64;function pe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function fe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ee(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:S,crypto_stream_xor:C,crypto_stream:y,crypto_stream_salsa20_xor:m,crypto_stream_salsa20:I,crypto_onetimeauth:O,crypto_onetimeauth_verify:P,crypto_verify_16:A,crypto_verify_32:g,crypto_secretbox:N,crypto_secretbox_open:b,crypto_scalarmult:H,crypto_scalarmult_base:j,crypto_box_beforenm:W,crypto_box_afternm:Q,crypto_box:function(e,t,n,r,i,o){var a=new Uint8Array(32);return W(a,i,o),Q(e,t,n,r,a)},crypto_box_open:function(e,t,n,r,i,o){var a=new Uint8Array(32);return W(a,i,o),$(e,t,n,r,a)},crypto_box_keypair:V,crypto_hash:q,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:le,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:_e,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ie,pack25519:L,unpack25519:U,M:Y,A:G,S:F,Z:k,pow2523:x,add:X,set25519:M,modL:oe,scalarmult:te,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){fe(e,t,n),pe(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+32]=e[o];return N(i,r,r.length,t,n),i.subarray(ce)},e.secretbox.open=function(e,t,n){fe(e,t,n),pe(n,t);for(var r=new Uint8Array(ce+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+ce]=e[o];return r.length<32||0!==b(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(fe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return H(n,e,t),n},e.scalarMult.base=function(e){if(fe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return j(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox(t,n,o)},e.box.before=function(e,t){fe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return W(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(fe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return j(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(fe(e,t),t.length!==_e)throw new Error("bad secret key size");var n=new Uint8Array(ue+e.length);return se(n,e,e.length,t),n},e.sign.open=function(e,t){if(fe(e,t),t.length!==de)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=le(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(ue),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached.verify=function(e,t,n){if(fe(e,t,n),t.length!==ue)throw new Error("bad signature size");if(n.length!==de)throw new Error("bad public key size");var r,i=new Uint8Array(ue+e.length),o=new Uint8Array(ue+e.length);for(r=0;r<ue;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+ue]=e[r];return le(o,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(_e);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(fe(e),e.length!==_e)throw new Error("bad secret key size");for(var t=new Uint8Array(de),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(fe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),n=new Uint8Array(_e),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=_e,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){fe(e);var t=new Uint8Array(64);return q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return fe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===E(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];Ee(i)}))}else(t=n(42329))&&t.randomBytes&&e.setPRNG((function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];Ee(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},11504:e=>{function t(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,l,"next",e)}function l(e){t(a,i,o,s,l,"throw",e)}s(void 0)}))}}},65526:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7914:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},73982:(e,t,n)=>{var r=n(65526);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},56856:(e,t,n)=>{"use strict";var r=n(45051),i=Uint8Array,o=Uint16Array,a=Uint32Array,s=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(e,t){for(var n=new o(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new a(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},d=u(s,2),_=d[0],p=d[1];_[28]=258,p[258]=28;for(var f=u(l,0),E=f[0],A=f[1],g=new o(32768),h=0;h<32768;++h){var S=(43690&h)>>>1|(21845&h)<<1;S=(61680&(S=(52428&S)>>>2|(13107&S)<<2))>>>4|(3855&S)<<4,g[h]=((65280&S)>>>8|(255&S)<<8)>>>1}var T=function(e,t,n){for(var r=e.length,i=0,a=new o(t);i<r;++i)++a[e[i]-1];var s,l=new o(t);for(i=0;i<t;++i)l[i]=l[i-1]+a[i-1]<<1;if(n){s=new o(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],_=l[e[i]-1]++<<d,p=_|(1<<d)-1;_<=p;++_)s[g[_]>>>c]=u}else for(s=new o(r),i=0;i<r;++i)e[i]&&(s[i]=g[l[e[i]-1]++]>>>15-e[i]);return s},m=new i(288);for(h=0;h<144;++h)m[h]=8;for(h=144;h<256;++h)m[h]=9;for(h=256;h<280;++h)m[h]=7;for(h=280;h<288;++h)m[h]=8;var I=new i(32);for(h=0;h<32;++h)I[h]=5;var y=T(m,9,0),C=T(m,9,1),v=T(I,5,0),O=T(I,5,1),P=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},N=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},b=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},M=function(e){return(e/8|0)+(7&e&&1)},R=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof o?o:e instanceof a?a:i)(n-t);return r.set(e.subarray(t,n)),r},D=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new i(0);var o=!t||n,a=!n||n.i;n||(n={}),t||(t=new i(3*r));var u=function(e){var n=t.length;if(e>n){var r=new i(Math.max(2*n,e));r.set(t),t=r}},d=n.f||0,p=n.p||0,f=n.b||0,A=n.l,g=n.d,h=n.m,S=n.n,m=8*r;do{if(!A){n.f=d=N(e,p,1);var I=N(e,p+1,3);if(p+=3,!I){var y=e[(K=M(p)+4)-4]|e[K-3]<<8,v=K+y;if(v>r){if(a)throw"unexpected EOF";break}o&&u(f+y),t.set(e.subarray(K,v),f),n.b=f+=y,n.p=p=8*v;continue}if(1==I)A=C,g=O,h=9,S=5;else{if(2!=I)throw"invalid block type";var D=N(e,p,31)+257,L=N(e,p+10,15)+4,w=D+N(e,p+5,31)+1;p+=14;for(var B=new i(w),U=new i(19),G=0;G<L;++G)U[c[G]]=N(e,p+3*G,7);p+=3*L;var k=P(U),Y=(1<<k)-1;if(!a&&p+w*(k+7)>m)break;var F=T(U,k,1);for(G=0;G<w;){var K,x=F[N(e,p,Y)];if(p+=15&x,(K=x>>>4)<16)B[G++]=K;else{var H=0,j=0;for(16==K?(j=3+N(e,p,3),p+=2,H=B[G-1]):17==K?(j=3+N(e,p,7),p+=3):18==K&&(j=11+N(e,p,127),p+=7);j--;)B[G++]=H}}var V=B.subarray(0,D),W=B.subarray(D);h=P(V),S=P(W),A=T(V,h,1),g=T(W,S,1)}if(p>m)throw"unexpected EOF"}o&&u(f+131072);for(var Q=(1<<h)-1,$=(1<<S)-1,z=h+S+18;a||p+z<m;){var J=(H=A[b(e,p)&Q])>>>4;if((p+=15&H)>m)throw"unexpected EOF";if(!H)throw"invalid length/literal";if(J<256)t[f++]=J;else{if(256==J){A=null;break}var q=J-254;if(J>264){var X=s[G=J-257];q=N(e,p,(1<<X)-1)+_[G],p+=X}var Z=g[b(e,p)&$],ee=Z>>>4;if(!Z)throw"invalid distance";p+=15&Z;W=E[ee];if(ee>3){X=l[ee];W+=b(e,p)&(1<<X)-1,p+=X}if(p>m)throw"unexpected EOF";o&&u(f+131072);for(var te=f+q;f<te;f+=4)t[f]=t[f-W],t[f+1]=t[f+1-W],t[f+2]=t[f+2-W],t[f+3]=t[f+3-W];f=te}}n.l=A,n.p=p,n.b=f,A&&(d=1,n.m=h,n.d=g,n.n=S)}while(!d);return f==t.length?t:R(t,0,f)},L=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},w=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},B=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,s=n.slice();if(!a)return[x,0];if(1==a){var l=new i(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var c=n[0],u=n[1],d=0,_=1,p=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};_!=a-1;)c=n[n[d].f<n[p].f?d++:p++],u=n[d!=_&&n[d].f<n[p].f?d++:p++],n[_++]={s:-1,f:c.f+u.f,l:c,r:u};var f=s[0].s;for(r=1;r<a;++r)s[r].s>f&&(f=s[r].s);var E=new o(f+1),A=U(n[_-1],E,0);if(A>t){r=0;var g=0,h=A-t,S=1<<h;for(s.sort((function(e,t){return E[t.s]-E[e.s]||e.f-t.f}));r<a;++r){var T=s[r].s;if(!(E[T]>t))break;g+=S-(1<<A-E[T]),E[T]=t}for(g>>>=h;g>0;){var m=s[r].s;E[m]<t?g-=1<<t-E[m]++-1:++r}for(;r>=0&&g;--r){var I=s[r].s;E[I]==t&&(--E[I],++g)}A=t}return[new i(E),A]},U=function(e,t,n){return-1==e.s?Math.max(U(e.l,t,n+1),U(e.r,t,n+1)):t[e.s]=n},G=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new o(++t),r=0,i=e[0],a=1,s=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return[n.subarray(0,r),t]},k=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Y=function(e,t,n){var r=n.length,i=M(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},F=function(e,t,n,r,i,a,u,d,_,p,f){L(t,f++,n),++i[256];for(var E=B(i,15),A=E[0],g=E[1],h=B(a,15),S=h[0],C=h[1],O=G(A),P=O[0],N=O[1],b=G(S),M=b[0],R=b[1],D=new o(19),U=0;U<P.length;++U)D[31&P[U]]++;for(U=0;U<M.length;++U)D[31&M[U]]++;for(var F=B(D,7),K=F[0],x=F[1],H=19;H>4&&!K[c[H-1]];--H);var j,V,W,Q,$=p+5<<3,z=k(i,m)+k(a,I)+u,J=k(i,A)+k(a,S)+u+14+3*H+k(D,K)+(2*D[16]+3*D[17]+7*D[18]);if($<=z&&$<=J)return Y(t,f,e.subarray(_,_+p));if(L(t,f,1+(J<z)),f+=2,J<z){j=T(A,g,0),V=A,W=T(S,C,0),Q=S;var q=T(K,x,0);L(t,f,N-257),L(t,f+5,R-1),L(t,f+10,H-4),f+=14;for(U=0;U<H;++U)L(t,f+3*U,K[c[U]]);f+=3*H;for(var X=[P,M],Z=0;Z<2;++Z){var ee=X[Z];for(U=0;U<ee.length;++U){var te=31&ee[U];L(t,f,q[te]),f+=K[te],te>15&&(L(t,f,ee[U]>>>5&127),f+=ee[U]>>>12)}}}else j=y,V=m,W=v,Q=I;for(U=0;U<d;++U)if(r[U]>255){te=r[U]>>>18&31;w(t,f,j[te+257]),f+=V[te+257],te>7&&(L(t,f,r[U]>>>23&31),f+=s[te]);var ne=31&r[U];w(t,f,W[ne]),f+=Q[ne],ne>3&&(w(t,f,r[U]>>>5&8191),f+=l[ne])}else w(t,f,j[r[U]]),f+=V[r[U]];return w(t,f,j[256]),f+V[256]},K=new a([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),x=new i(0),H=function(e,t,n,r,c,u){var d=e.length,_=new i(r+d+5*(1+Math.ceil(d/7e3))+c),f=_.subarray(r,_.length-c),E=0;if(!t||d<8)for(var g=0;g<=d;g+=65535){var h=g+65535;h<d?E=Y(f,E,e.subarray(g,h)):(f[g]=u,E=Y(f,E,e.subarray(g,d)))}else{for(var S=K[t-1],T=S>>>13,m=8191&S,I=(1<<n)-1,y=new o(32768),C=new o(I+1),v=Math.ceil(n/3),O=2*v,P=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<O)&I},N=new a(25e3),b=new o(288),D=new o(32),L=0,w=0,B=(g=0,0),U=0,G=0;g<d;++g){var k=P(g),H=32767&g,j=C[k];if(y[H]=j,C[k]=H,U<=g){var V=d-g;if((L>7e3||B>24576)&&V>423){E=F(e,f,0,N,b,D,w,B,G,g-G,E),B=L=w=0,G=g;for(var W=0;W<286;++W)b[W]=0;for(W=0;W<30;++W)D[W]=0}var Q=2,$=0,z=m,J=H-j&32767;if(V>2&&k==P(g-J))for(var q=Math.min(T,V)-1,X=Math.min(32767,g),Z=Math.min(258,V);J<=X&&--z&&H!=j;){if(e[g+Q]==e[g+Q-J]){for(var ee=0;ee<Z&&e[g+ee]==e[g+ee-J];++ee);if(ee>Q){if(Q=ee,$=J,ee>q)break;var te=Math.min(J,ee-2),ne=0;for(W=0;W<te;++W){var re=g-J+W+32768&32767,ie=re-y[re]+32768&32767;ie>ne&&(ne=ie,j=re)}}}J+=(H=j)-(j=y[H])+32768&32767}if($){N[B++]=268435456|p[Q]<<18|A[$];var oe=31&p[Q],ae=31&A[$];w+=s[oe]+l[ae],++b[257+oe],++D[ae],U=g+Q,++L}else N[B++]=e[g],++b[e[g]]}}E=F(e,f,u,N,b,D,w,B,G,g-G,E),!u&&7&E&&(E=Y(f,E+1,x))}return R(_,0,r+M(E)+c)},j=function(){for(var e=new a(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),V=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=j[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},W=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=r+=n[a];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return((e%=65521)>>>8<<16|(255&(t%=65521))<<8|t>>>8)+2*((255&e)<<23)}}},Q=function(e,t,n,r,i){return H(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},$=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},z=function(e,t,n){for(var r=e(),i=e.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),a=0;a<r.length;++a){var s=r[a],l=o[a];if("function"==typeof s){t+=";"+l+"=";var c=s.toString();if(s.prototype)if(-1!=c.indexOf("[native code]")){var u=c.indexOf(" ",8)+1;t+=c.slice(u,c.indexOf("(",u))}else for(var d in t+=c,s.prototype)t+=";"+l+".prototype."+d+"="+s.prototype[d].toString();else t+=c}else n[l]=s}return[t,n]},J=[],q=function(e,t,n,s){var l;if(!J[n]){for(var c="",u={},d=e.length-1,_=0;_<d;++_)c=(l=z(e[_],c,u))[0],u=l[1];J[n]=z(e[d],c,u)}var p=$({},J[n][1]);return r.default(J[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,p,function(e){var t=[];for(var n in e)(e[n]instanceof i||e[n]instanceof o||e[n]instanceof a)&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t}(p),s)},X=function(){return[i,o,a,s,l,c,_,E,C,O,g,T,P,N,b,M,R,D,Pe,ie,oe]},Z=function(){return[i,o,a,s,l,c,p,A,y,m,v,I,g,K,x,T,L,w,B,U,G,k,Y,F,M,R,H,Q,ye,ie]},ee=function(){return[pe,Ae,_e,V,j]},te=function(){return[fe,Ee]},ne=function(){return[ge,_e,W]},re=function(){return[he]},ie=function(e){return postMessage(e,[e.buffer])},oe=function(e){return e&&e.size&&new i(e.size)},ae=function(e,t,n,r,i,o){var a=q(n,r,i,(function(e,t){a.terminate(),o(e,t)}));return a.postMessage([e,t],t.consume?[e.buffer]:[]),function(){a.terminate()}},se=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){return e.push(t.data[0],t.data[1])}},le=function(e,t,n,r,i){var o,a=q(e,r,i,(function(e,n){e?(a.terminate(),t.ondata.call(t,e)):(n[1]&&a.terminate(),t.ondata.call(t,e,n[0],n[1]))}));a.postMessage(n),t.push=function(e,n){if(o)throw"stream finished";if(!t.ondata)throw"no stream handler";a.postMessage([e,o=n],[e.buffer])},t.terminate=function(){a.terminate()}},ce=function(e,t){return e[t]|e[t+1]<<8},ue=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+2*(e[t+3]<<23)},de=function(e,t){return ue(e,t)|4294967296*ue(e,t)},_e=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},pe=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&_e(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},fe=function(e){if(31!=e[0]||139!=e[1]||8!=e[2])throw"invalid gzip data";var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)},Ee=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16)+2*(e[t-1]<<23)},Ae=function(e){return 10+(e.filename&&e.filename.length+1||0)},ge=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},he=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function Se(e,t){return t||"function"!=typeof e||(t=e,e={}),this.ondata=t,e}var Te=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(Q(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},e}();t.Deflate=Te;var me=function(){return function(e,t){le([Z,function(){return[se,Te]}],this,Se.call(this,e,t),(function(e){var t=new Te(e.data);onmessage=se(t)}),6)}}();function Ie(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return ae(e,t,[Z],(function(e){return ie(ye(e.data[0],e.data[1]))}),0,n)}function ye(e,t){return Q(e,t||{},0,0)}t.AsyncDeflate=me,t.deflate=Ie,t.deflateSync=ye;var Ce=function(){function e(e){this.s={},this.p=new i(0),this.ondata=e}return e.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,n=new i(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=D(this.p,this.o,this.s);this.ondata(R(n,t,this.s.b),this.d),this.o=R(n,this.s.b-32768),this.s.b=this.o.length,this.p=R(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}();t.Inflate=Ce;var ve=function(){return function(e){this.ondata=e,le([X,function(){return[se,Ce]}],this,0,(function(){var e=new Ce;onmessage=se(e)}),7)}}();function Oe(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return ae(e,t,[X],(function(e){return ie(Pe(e.data[0],oe(e.data[1])))}),1,n)}function Pe(e,t){return D(e,t)}t.AsyncInflate=ve,t.inflate=Oe,t.inflateSync=Pe;var Ne=function(){function e(e,t){this.c=V(),this.l=0,this.v=1,Te.call(this,e,t)}return e.prototype.push=function(e,t){Te.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var n=Q(e,this.o,this.v&&Ae(this.o),t&&8,!t);this.v&&(pe(n,this.o),this.v=0),t&&(_e(n,n.length-8,this.c.d()),_e(n,n.length-4,this.l)),this.ondata(n,t)},e}();t.Gzip=Ne,t.Compress=Ne;var be=function(){return function(e,t){le([Z,ee,function(){return[se,Te,Ne]}],this,Se.call(this,e,t),(function(e){var t=new Ne(e.data);onmessage=se(t)}),8)}}();function Me(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return ae(e,t,[Z,ee,function(){return[Re]}],(function(e){return ie(Re(e.data[0],e.data[1]))}),2,n)}function Re(e,t){t||(t={});var n=V(),r=e.length;n.p(e);var i=Q(e,t,Ae(t),8),o=i.length;return pe(i,t),_e(i,o-8,n.d()),_e(i,o-4,r),i}t.AsyncGzip=be,t.AsyncCompress=be,t.gzip=Me,t.compress=Me,t.gzipSync=Re,t.compressSync=Re;var De=function(){function e(e){this.v=1,Ce.call(this,e)}return e.prototype.push=function(e,t){if(Ce.prototype.e.call(this,e),this.v){var n=this.p.length>3?fe(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}Ce.prototype.c.call(this,t)},e}();t.Gunzip=De;var Le=function(){return function(e){this.ondata=e,le([X,te,function(){return[se,Ce,De]}],this,0,(function(){var e=new De;onmessage=se(e)}),9)}}();function we(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return ae(e,t,[X,te,function(){return[Be]}],(function(e){return ie(Be(e.data[0]))}),3,n)}function Be(e,t){return D(e.subarray(fe(e),-8),t||new i(Ee(e)))}t.AsyncGunzip=Le,t.gunzip=we,t.gunzipSync=Be;var Ue=function(){function e(e,t){this.c=W(),this.v=1,Te.call(this,e,t)}return e.prototype.push=function(e,t){Te.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var n=Q(e,this.o,this.v&&2,t&&4,!t);this.v&&(ge(n,this.o),this.v=0),t&&_e(n,n.length-4,this.c.d()),this.ondata(n,t)},e}();t.Zlib=Ue;var Ge=function(){return function(e,t){le([Z,ne,function(){return[se,Te,Ue]}],this,Se.call(this,e,t),(function(e){var t=new Ue(e.data);onmessage=se(t)}),10)}}();function ke(e,t){t||(t={});var n=W();n.p(e);var r=Q(e,t,2,4);return ge(r,t),_e(r,r.length-4,n.d()),r}t.AsyncZlib=Ge,t.zlib=function(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return ae(e,t,[Z,ne,function(){return[ke]}],(function(e){return ie(ke(e.data[0],e.data[1]))}),4,n)},t.zlibSync=ke;var Ye=function(){function e(e){this.v=1,Ce.call(this,e)}return e.prototype.push=function(e,t){if(Ce.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}Ce.prototype.c.call(this,t)},e}();t.Unzlib=Ye;var Fe=function(){return function(e){this.ondata=e,le([X,re,function(){return[se,Ce,Ye]}],this,0,(function(){var e=new Ye;onmessage=se(e)}),11)}}();function Ke(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return ae(e,t,[X,re,function(){return[xe]}],(function(e){return ie(xe(e.data[0],oe(e.data[1])))}),5,n)}function xe(e,t){return D((he(e),e.subarray(2,-4)),t)}t.AsyncUnzlib=Fe,t.unzlib=Ke,t.unzlibSync=xe;var He=function(){function e(e){this.G=De,this.I=Ce,this.Z=Ye,this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var n=new i(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var r=this,o=function(){r.ondata.apply(r,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(o):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(o):new this.Z(o),this.s.push(this.p,t),this.p=null}}},e}();t.Decompress=He;var je=function(){function e(e){this.G=Le,this.I=ve,this.Z=Fe,this.ondata=e}return e.prototype.push=function(e,t){He.prototype.push.call(this,e,t)},e}();t.AsyncDecompress=je,t.decompress=function(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return 31==e[0]&&139==e[1]&&8==e[2]?we(e,t,n):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?Oe(e,t,n):Ke(e,t,n)},t.decompressSync=function(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?Be(e,t):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?Pe(e,t):xe(e,t)};var Ve=function(e,t,n,r){for(var o in e){var a=e[o],s=t+o;a instanceof i?n[s]=[a,r]:Array.isArray(a)?n[s]=[a[0],$(r,a[1])]:Ve(a,s+"/",n,r)}},We="undefined"!=typeof TextEncoder&&new TextEncoder,Qe="undefined"!=typeof TextDecoder&&new TextDecoder,$e=0;try{Qe.decode(x,{stream:!0}),$e=1}catch(e){}var ze=function(e){for(var t="",n=0;;){var r=e[n++],i=(r>127)+(r>223)+(r>239);if(n+i>e.length)return[t,R(e,n-1)];i?3==i?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&i?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}},Je=function(){function e(e){this.ondata=e,$e?this.t=new TextDecoder:this.p=x}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t||(t=!1),this.t)return this.ondata(this.t.decode(e,{stream:!t}),t);var n=new i(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length);var r=ze(n),o=r[0],a=r[1];if(t&&a.length)throw"invalid utf-8 data";this.p=a,this.ondata(o,t)},e}();t.DecodeUTF8=Je;var qe=function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";this.ondata(Xe(e),t||!1)},e}();function Xe(e,t){if(t){for(var n=new i(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(We)return We.encode(e);var o=e.length,a=new i(e.length+(e.length>>1)),s=0,l=function(e){a[s++]=e};for(r=0;r<o;++r){if(s+5>a.length){var c=new i(s+8+(o-r<<1));c.set(a),a=c}var u=e.charCodeAt(r);u<128||t?l(u):u<2048?(l(192|u>>6),l(128|63&u)):u>55295&&u<57344?(l(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++r))>>18),l(128|u>>12&63),l(128|u>>6&63),l(128|63&u)):(l(224|u>>12),l(128|u>>6&63),l(128|63&u))}return R(a,0,s)}function Ze(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(Qe)return Qe.decode(e);var i=ze(e),o=i[0];if(i[1].length)throw"invalid utf-8 data";return o}t.EncodeUTF8=qe,t.strToU8=Xe,t.strFromU8=Ze;var et=function(e){return 1==e?3:e<6?2:9==e?1:0},tt=function(e,t){return t+30+ce(e,t+26)+ce(e,t+28)},nt=function(e,t,n){var r=ce(e,t+28),i=Ze(e.subarray(t+46,t+46+r),!(2048&ce(e,t+8))),o=t+46+r,a=ue(e,t+20),s=n&&4294967295==a?rt(e,o):[a,ue(e,t+24),ue(e,t+42)],l=s[0],c=s[1],u=s[2];return[ce(e,t+10),l,c,i,o+ce(e,t+30)+ce(e,t+32),u]},rt=function(e,t){for(;1!=ce(e,t);t+=4+ce(e,t+2));return[de(e,t+12),de(e,t+4),de(e,t+20)]},it=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;if(r>65535)throw"extra field too long";t+=r+4}return t},ot=function(e,t,n,r,i,o,a,s){var l=r.length,c=n.extra,u=s&&s.length,d=it(c);_e(e,t,null!=a?33639248:67324752),t+=4,null!=a&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(null==o&&8),e[t++]=i&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var _=new Date(null==n.mtime?Date.now():n.mtime),p=_.getFullYear()-1980;if(p<0||p>119)throw"date not in range 1980-2099";if(_e(e,t,2*(p<<24)|_.getMonth()+1<<21|_.getDate()<<16|_.getHours()<<11|_.getMinutes()<<5|_.getSeconds()>>>1),t+=4,null!=o&&(_e(e,t,n.crc),_e(e,t+4,o),_e(e,t+8,n.size)),_e(e,t+12,l),_e(e,t+14,d),t+=16,null!=a&&(_e(e,t,u),_e(e,t+6,n.attrs),_e(e,t+10,a),t+=14),e.set(r,t),t+=l,d)for(var f in c){var E=c[f],A=E.length;_e(e,t,+f),_e(e,t+2,A),e.set(E,t+4),t+=4+A}return u&&(e.set(s,t),t+=u),t},at=function(e,t,n,r,i){_e(e,t,101010256),_e(e,t+8,n),_e(e,t+10,n),_e(e,t+12,r),_e(e,t+16,i)},st=function(){function e(e){this.filename=e,this.c=V(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}();t.ZipPassThrough=st;var lt=function(){function e(e,t){var n=this;t||(t={}),st.call(this,e),this.d=new Te(t,(function(e,t){n.ondata(null,e,t)})),this.compression=8,this.flag=et(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},e.prototype.push=function(e,t){st.prototype.push.call(this,e,t)},e}();t.ZipDeflate=lt;var ct=function(){function e(e,t){var n=this;t||(t={}),st.call(this,e),this.d=new me(t,(function(e,t,r){n.ondata(e,t,r)})),this.compression=8,this.flag=et(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){st.prototype.push.call(this,e,t)},e}();t.AsyncZipDeflate=ct;var ut=function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var t=this;if(2&this.d)throw"stream finished";var n=Xe(e.filename),r=n.length,o=e.comment,a=o&&Xe(o),s=r!=e.filename.length||a&&o.length!=a.length,l=r+it(e.extra)+30;if(r>65535)throw"filename too long";var c=new i(l);ot(c,0,e,n,s);var u=[c],d=function(){for(var e=0,n=u;e<n.length;e++){var r=n[e];t.ondata(null,r,!1)}u=[]},_=this.d;this.d=0;var p=this.u.length,f=$(e,{f:n,u:s,o:a,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),_){var e=t.u[p+1];e?e.r():t.d=1}_=1}}),E=0;e.ondata=function(n,r,o){if(n)t.ondata(n,r,o),t.terminate();else if(E+=r.length,u.push(r),o){var a=new i(16);_e(a,0,134695760),_e(a,4,e.crc),_e(a,8,E),_e(a,12,e.size),u.push(a),f.c=E,f.b=l+E+16,f.crc=e.crc,f.size=e.size,_&&f.r(),_=1}else _&&d()},this.u.push(f)},e.prototype.end=function(){var e=this;if(2&this.d){if(1&this.d)throw"stream finishing";throw"stream finished"}this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},e.prototype.e=function(){for(var e=0,t=0,n=0,r=0,o=this.u;r<o.length;r++){n+=46+(c=o[r]).f.length+it(c.extra)+(c.o?c.o.length:0)}for(var a=new i(n+22),s=0,l=this.u;s<l.length;s++){var c=l[s];ot(a,e,c,c.f,c.u,c.c,t,c.o),e+=46+c.f.length+it(c.extra)+(c.o?c.o.length:0),t+=c.b}at(a,e,this.u.length,n,t),this.ondata(null,a,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){t[e].t()}this.d=2},e}();t.Zip=ut,t.zip=function(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";var r={};Ve(e,"",r,t);var o=Object.keys(r),a=o.length,s=0,l=0,c=a,u=new Array(a),d=[],_=function(){for(var e=0;e<d.length;++e)d[e]()},p=function(){var e=new i(l+22),t=s,r=l-s;l=0;for(var o=0;o<c;++o){var a=u[o];try{var d=a.c.length;ot(e,l,a,a.f,a.u,d);var _=30+a.f.length+it(a.extra),p=l+_;e.set(a.c,p),ot(e,s,a,a.f,a.u,d,l,a.m),s+=16+_+(a.m?a.m.length:0),l=p+d}catch(e){return n(e,null)}}at(e,s,u.length,r,t),n(null,e)};a||p();for(var f=function(e){var t=o[e],i=r[t],c=i[0],f=i[1],E=V(),A=c.length;E.p(c);var g=Xe(t),h=g.length,S=f.comment,T=S&&Xe(S),m=T&&T.length,I=it(f.extra),y=0==f.level?0:8,C=function(r,i){if(r)_(),n(r,null);else{var o=i.length;u[e]=$(f,{size:A,crc:E.d(),c:i,f:g,m:T,u:h!=t.length||T&&S.length!=m,compression:y}),s+=30+h+I+o,l+=76+2*(h+I)+(m||0)+o,--a||p()}};if(h>65535&&C("filename too long",null),y)if(A<16e4)try{C(null,ye(c,f))}catch(e){C(e,null)}else d.push(Ie(c,f,C));else C(null,c)},E=0;E<c;++E)f(E);return _},t.zipSync=function(e,t){t||(t={});var n={},r=[];Ve(e,"",n,t);var o=0,a=0;for(var s in n){var l=n[s],c=l[0],u=l[1],d=0==u.level?0:8,_=(C=Xe(s)).length,p=u.comment,f=p&&Xe(p),E=f&&f.length,A=it(u.extra);if(_>65535)throw"filename too long";var g=d?ye(c,u):c,h=g.length,S=V();S.p(c),r.push($(u,{size:c.length,crc:S.d(),c:g,f:C,m:f,u:_!=s.length||f&&p.length!=E,o,compression:d})),o+=30+_+A+h,a+=76+2*(_+A)+(E||0)+h}for(var T=new i(a+22),m=o,I=a-o,y=0;y<r.length;++y){var C=r[y];ot(T,C.o,C,C.f,C.u,C.c.length);var v=30+C.f.length+it(C.extra);T.set(C.c,C.o+v),ot(T,o,C,C.f,C.u,C.c.length,C.o,C.m),o+=16+v+(C.m?C.m.length:0)}return at(T,o,r.length,I,m),T};var dt=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}();t.UnzipPassThrough=dt;var _t=function(){function e(){var e=this;this.i=new Ce((function(t,n){e.ondata(null,t,n)}))}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(n){this.ondata(n,e,t)}},e.compression=8,e}();t.UnzipInflate=_t;var pt=function(){function e(e,t){var n=this;t<32e4?this.i=new Ce((function(e,t){n.ondata(null,e,t)})):(this.i=new ve((function(e,t,r){n.ondata(e,t,r)})),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=R(e,0)),this.i.push(e,t)},e.compression=8,e}();t.AsyncUnzipInflate=pt;var ft=function(){function e(e){this.onfile=e,this.k=[],this.o={0:dt},this.p=x}return e.prototype.push=function(e,t){var n=this;if(!this.onfile)throw"no callback";if(this.c>0){var r=Math.min(this.c,e.length),o=e.subarray(0,r);if(this.c-=r,this.d?this.d.push(o,!this.c):this.k[0].push(o),(e=e.subarray(r)).length)return this.push(e,t)}else{var a=0,s=0,l=void 0,c=void 0;this.p.length?e.length?((c=new i(this.p.length+e.length)).set(this.p),c.set(e,this.p.length)):c=this.p:c=e;for(var u=c.length,d=this.c,_=d&&this.d,p=function(){var e,t=ue(c,s);if(67324752==t){a=1,l=s,f.d=null,f.c=0;var r=ce(c,s+6),i=ce(c,s+8),o=2048&r,_=8&r,p=ce(c,s+26),E=ce(c,s+28);if(u>s+30+p+E){var A=[];f.k.unshift(A),a=2;var g=ue(c,s+18),h=ue(c,s+22),S=Ze(c.subarray(s+30,s+=30+p),!o);4294967295==g?(e=_?[-2]:rt(c,s),g=e[0],h=e[1]):_&&(g=-1),s+=E,f.c=g;var T={name:S,compression:i,start:function(){if(!T.ondata)throw"no callback";if(g){var e=n.o[i];if(!e)throw"unknown compression type "+i;var t=g<0?new e(S):new e(S,g,h);t.ondata=function(e,t,n){T.ondata(e,t,n)};for(var r=0,o=A;r<o.length;r++){var a=o[r];t.push(a,!1)}n.k[0]==A?n.d=t:t.push(x,!0)}else T.ondata(null,x,!0)},terminate:function(){n.k[0]==A&&n.d.terminate&&n.d.terminate()}};g>=0&&(T.size=g,T.originalSize=h),f.onfile(T)}return"break"}if(d){if(134695760==t)return l=s+=12+(-2==d&&8),a=3,f.c=0,"break";if(33639248==t)return l=s-=4,a=3,f.c=0,"break"}},f=this;s<u-4;++s){if("break"===p())break}if(this.p=x,d<0){var E=a?c.subarray(0,l-12-(-2==d&&8)-(134695760==ue(c,l-16)&&4)):c.subarray(0,s);_?_.push(E,!!a):this.k[+(2==a)].push(E)}if(2&a)return this.push(c.subarray(s),t);this.p=c.subarray(s)}if(t&&this.c)throw"invalid zip file"},e.prototype.register=function(e){this.o[e.compression]=e},e}();t.Unzip=ft,t.unzip=function(e,t){if("function"!=typeof t)throw"no callback";for(var n=[],r=function(){for(var e=0;e<n.length;++e)n[e]()},o={},a=e.length-22;101010256!=ue(e,a);--a)if(!a||e.length-a>65558)return void t("invalid zip file",null);var s=ce(e,a+8);s||t(null,{});var l=s,c=ue(e,a+16),u=4294967295==c;if(u){if(a=ue(e,a-12),101075792!=ue(e,a))return void t("invalid zip file",null);l=s=ue(e,a+32),c=ue(e,a+48)}for(var d=function(a){var l=nt(e,c,u),d=l[0],_=l[1],p=l[2],f=l[3],E=l[4],A=l[5],g=tt(e,A);c=E;var h=function(e,n){e?(r(),t(e,null)):(o[f]=n,--s||t(null,o))};if(d)if(8==d){var S=e.subarray(g,g+_);if(_<32e4)try{h(null,Pe(S,new i(p)))}catch(e){h(e,null)}else n.push(Oe(S,{size:p},h))}else h("unknown compression type "+d,null);else h(null,R(e,g,g+_))},_=0;_<l;++_)d();return r},t.unzipSync=function(e){for(var t={},n=e.length-22;101010256!=ue(e,n);--n)if(!n||e.length-n>65558)throw"invalid zip file";var r=ce(e,n+8);if(!r)return{};var o=ue(e,n+16),a=4294967295==o;if(a){if(n=ue(e,n-12),101075792!=ue(e,n))throw"invalid zip file";r=ue(e,n+32),o=ue(e,n+48)}for(var s=0;s<r;++s){var l=nt(e,o,a),c=l[0],u=l[1],d=l[2],_=l[3],p=l[4],f=l[5],E=tt(e,f);if(o=p,c){if(8!=c)throw"unknown compression type "+c;t[_]=Pe(e.subarray(E,E+u),new i(d))}else t[_]=R(e,E,E+u)}return t}},45051:(e,t)=>{"use strict";var n={};t.default=function(e,t,r,i,o){var a=n[t]||(n[t]=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))),s=new Worker(a);return s.onerror=function(e){return o(e.error,null)},s.onmessage=function(e){return o(null,e.data)},s.postMessage(r,i),s}},54302:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="function"==typeof WeakMap?new WeakMap:new Map;function r(e){var t=n.get(e);if(void 0!==t)return t;var r=new Map;return Object.getOwnPropertyNames(e).forEach((function(t){r.set(e[t],t)})),n.set(e,r),r}var i=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return r(this).has(e)}},cast:{value:function(e){return this.isValid(e)?e:void 0}},members:{value:function(){return r(this).keys()}},getName:{value:function(e){return r(this).get(e)}}}));function o(e){var n=Object.create(i);for(var r in e)t.call(e,r)&&Object.defineProperty(n,r,{value:e[r]});return Object.freeze(n)}var a=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return"string"==typeof e&&t.call(this,e)}},cast:{value:i.cast},members:{value:function(){return Object.getOwnPropertyNames(this)}},getName:{value:function(e){return e}}}));o.Mirrored=function(e){for(var t=Object.create(a),n=0,r=e.length;n<r;++n)Object.defineProperty(t,e[n],{value:e[n]});return Object.freeze(t)},Object.freeze(o.Mirrored),e.exports=Object.freeze(o)},28770:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ucs2decode:()=>p,ucs2encode:()=>f,decode:()=>g,encode:()=>h,toASCII:()=>T,toUnicode:()=>S,default:()=>m});const r=2147483647,i=36,o=/^xn--/,a=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,u=String.fromCharCode;function d(e){throw new RangeError(l[e])}function _(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(s,".")).split("."),t).join(".");return r+i}function p(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}const f=e=>String.fromCodePoint(...e),E=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},A=function(e,t,n){let r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;r+=i)e=c(e/35);return c(r+36*e/(e+38))},g=function(e){const t=[],n=e.length;let o=0,a=128,s=72,l=e.lastIndexOf("-");l<0&&(l=0);for(let n=0;n<l;++n)e.charCodeAt(n)>=128&&d("not-basic"),t.push(e.charCodeAt(n));for(let _=l>0?l+1:0;_<n;){let l=o;for(let t=1,a=i;;a+=i){_>=n&&d("invalid-input");const l=(u=e.charCodeAt(_++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:i;(l>=i||l>c((r-o)/t))&&d("overflow"),o+=l*t;const p=a<=s?1:a>=s+26?26:a-s;if(l<p)break;const f=i-p;t>c(r/f)&&d("overflow"),t*=f}const p=t.length+1;s=A(o-l,p,0==l),c(o/p)>r-a&&d("overflow"),a+=c(o/p),o%=p,t.splice(o++,0,a)}var u;return String.fromCodePoint(...t)},h=function(e){const t=[];let n=(e=p(e)).length,o=128,a=0,s=72;for(const n of e)n<128&&t.push(u(n));let l=t.length,_=l;for(l&&t.push("-");_<n;){let n=r;for(const t of e)t>=o&&t<n&&(n=t);const p=_+1;n-o>c((r-a)/p)&&d("overflow"),a+=(n-o)*p,o=n;for(const n of e)if(n<o&&++a>r&&d("overflow"),n==o){let e=a;for(let n=i;;n+=i){const r=n<=s?1:n>=s+26?26:n-s;if(e<r)break;const o=e-r,a=i-r;t.push(u(E(r+o%a,0))),e=c(o/a)}t.push(u(E(e,0))),s=A(a,p,_==l),a=0,++_}++a,++o}return t.join("")},S=function(e){return _(e,(function(e){return o.test(e)?g(e.slice(4).toLowerCase()):e}))},T=function(e){return _(e,(function(e){return a.test(e)?"xn--"+h(e):e}))},m={version:"2.1.0",ucs2:{decode:p,encode:f},decode:g,encode:h,toASCII:T,toUnicode:S}},50944:(e,t)=>{function n(e,t){for(var n=e.length,r=new Array(n),i={},o=n;o--;)i[o]||a(e[o],o,[]);return r;function a(o,s,l){if(l.indexOf(o)>=0)throw new Error("Cyclic dependency: "+JSON.stringify(o));if(!~e.indexOf(o))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(o));if(!i[s]){i[s]=!0;var c=t.filter((function(e){return e[0]===o}));if(s=c.length){var u=l.concat(o);do{var d=c[--s][1];a(d,e.indexOf(d),u)}while(s)}r[--n]=o}}}e.exports=t=function(e){return n(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.indexOf(i[0])<0&&t.push(i[0]),t.indexOf(i[1])<0&&t.push(i[1])}return t}(e),e)},t.array=n},60670:(e,t,n)=>{"use strict";e.exports=n.p+"img/WhatsApp-167x167_3b8f1ab1683315629736.png"},23098:module=>{var e={},aa={},l;for(l in e)e.hasOwnProperty(l)&&(aa[l]=e[l]);function ba(e){eval.call(null,e)}for(l in e.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"undefined"!=typeof arguments&&(e.arguments=arguments),"undefined"!=typeof console?(e.print||(e.print=function(e){console.log(e)}),e.printErr||(e.printErr=function(e){console.log(e)})):e.print||(e.print=function(){}),void 0===e.setWindowTitle&&(e.setWindowTitle=function(e){document.title=e}),!e.load&&e.read&&(e.load=function(t){ba(e.read(t))}),e.print||(e.print=function(){}),e.printErr||(e.printErr=e.print),e.arguments||(e.arguments=[]),e.thisProgram||(e.thisProgram="./this.program"),e.print=e.print,e.S=e.printErr,e.preRun=[],e.postRun=[],aa)aa.hasOwnProperty(l)&&(e[l]=aa[l]);var n={cb:function(e){ca=e},Ua:function(){return ca},na:function(){return m},X:function(e){m=e},Aa:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return"*"===e[e.length-1]?n.H:"i"===e[0]?(assert(0==(e=parseInt(e.substr(1)))%8),e/8):0}},Ta:function(e){return Math.max(n.Aa(e),n.H)},dd:16,Bd:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},od:function(e,t,r){return r||"i64"!=e&&"double"!=e?e?Math.min(t||(e?n.Ta(e):0),n.H):Math.min(t,8):8},J:function(t,n,r){return r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,n),e["dynCall_"+t].apply(null,r)):e["dynCall_"+t].call(null,n)},U:[],Ma:function(e){for(var t=0;t<n.U.length;t++)if(!n.U[t])return n.U[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},$a:function(e){n.U[(e-2)/2]=null},M:function(t){n.M.ma||(n.M.ma={}),n.M.ma[t]||(n.M.ma[t]=1,e.S(t))},ha:{},rd:function(e,t){assert(t),n.ha[t]||(n.ha[t]={});var r=n.ha[t];return r[e]||(r[e]=function(){return n.J(t,e,arguments)}),r[e]},pd:function(){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},W:function(e){var t=m;return m=(m=m+e|0)+15&-16,t},Ia:function(e){var t=p;return p=(p=p+e|0)+15&-16,t},P:function(e){var t=v;return(e=(v=(v=v+e|0)+15&-16)>=w)&&(z("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+w+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 "),e=!0),e?(v=t,0):t},ea:function(e,t){return Math.ceil(e/(t||16))*(t||16)},xd:function(e,t,n){return n?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},La:8,H:4,ed:0};e.Runtime=n,n.addFunction=n.Ma,n.removeFunction=n.$a;var A=!1,da,fa,ca,ha,ia,buffer;function assert(e,t){e||z("Assertion failed: "+t)}function ga(a){var b=e["_"+a];if(!b)try{b=eval("_"+a)}catch(e){}return assert(b,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)"),b}function ma(e,t,n){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":D[e>>0]=t;break;case"i16":E[e>>1]=t;break;case"i32":F[e>>2]=t;break;case"i64":fa=[t>>>0,(da=t,1<=+na(da)?0<da?(0|oa(+pa(da/4294967296),4294967295))>>>0:~~+qa((da-+(~~da>>>0))/4294967296)>>>0:0)],F[e>>2]=fa[0],F[e+4>>2]=fa[1];break;case"float":ra[e>>2]=t;break;case"double":sa[e>>3]=t;break;default:z("invalid type for setValue: "+n)}}function ta(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return D[e>>0];case"i16":return E[e>>1];case"i32":case"i64":return F[e>>2];case"float":return ra[e>>2];case"double":return sa[e>>3];default:z("invalid type for setValue: "+t)}return null}function G(e,t,r,i){var o,a;"number"==typeof e?(o=!0,a=e):(o=!1,a=e.length);var s,l,c="string"==typeof t?t:null;if(r=4==r?i:[ua,n.W,n.Ia,n.P][void 0===r?2:r](Math.max(a,c?1:t.length)),o){for(i=r,assert(0==(3&r)),e=r+(-4&a);i<e;i+=4)F[i>>2]=0;for(e=r+a;i<e;)D[i++>>0]=0;return r}if("i8"===c)return e.subarray||e.slice?H.set(e,r):H.set(new Uint8Array(e),r),r;for(i=0;i<a;){var u=e[i];"function"==typeof u&&(u=n.sd(u)),0===(o=c||t[i])?i++:("i64"==o&&(o="i32"),ma(r+i,u,o),l!==o&&(s=n.Aa(o),l=o),i+=s)}return r}function la(t,n){if(0===n||!t)return"";for(var r,i=0,o=0;(i|=r=H[t+o>>0],0!=r||n)&&(o++,!n||o!=n););if(n||(n=o),r="",128>i){for(;0<n;)i=String.fromCharCode.apply(String,H.subarray(t,t+Math.min(n,1024))),r=r?r+i:i,t+=1024,n-=1024;return r}return e.UTF8ToString(t)}function za(e,t){for(var n,r,i,o,a,s="";;){if(!(n=e[t++]))return s;128&n?(r=63&e[t++],192==(224&n)?s+=String.fromCharCode((31&n)<<6|r):(i=63&e[t++],224==(240&n)?n=(15&n)<<12|r<<6|i:(o=63&e[t++],240==(248&n)?n=(7&n)<<18|r<<12|i<<6|o:(a=63&e[t++],248==(252&n)?n=(3&n)<<24|r<<18|i<<12|o<<6|a:n=(1&n)<<30|r<<24|i<<18|o<<12|a<<6|63&e[t++])),65536>n?s+=String.fromCharCode(n):(n-=65536,s+=String.fromCharCode(55296|n>>10,56320|1023&n)))):s+=String.fromCharCode(n)}}function Aa(e,t,n,r){if(!(0<r))return 0;var i=n;r=n+r-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),127>=a){if(n>=r)break;t[n++]=a}else{if(2047>=a){if(n+1>=r)break;t[n++]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;t[n++]=224|a>>12}else{if(2097151>=a){if(n+3>=r)break;t[n++]=240|a>>18}else{if(67108863>=a){if(n+4>=r)break;t[n++]=248|a>>24}else{if(n+5>=r)break;t[n++]=252|a>>30,t[n++]=128|a>>24&63}t[n++]=128|a>>18&63}t[n++]=128|a>>12&63}t[n++]=128|a>>6&63}t[n++]=128|63&a}}return t[n]=0,n-i}function Ba(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:2097151>=r?t+4:67108863>=r?t+5:t+6}return t}function Ca(t){var r=!!e.___cxa_demangle;if(r)try{var i=ua(t.length);ka(t.substr(1),i);var o=ua(4),a=e.___cxa_demangle(i,0,0,o);if(0===ta(o,"i32")&&a)return la(a)}catch(e){}finally{i&&Da(i),o&&Da(o),a&&Da(a)}var s=3,l={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},c=[],u=!0;i=t;try{if("Object._main"==t||"_main"==t)return"main()";if("number"==typeof t&&(t=la(t)),"_"!==t[0]||"_"!==t[1]||"Z"!==t[2])return t;switch(t[3]){case"n":return"operator new()";case"d":return"operator delete()"}i=function e(n,r,i){r=r||1/0;var o,a="",d=[];if("N"===t[s]){for(s++,"K"===t[s]&&s++,o=[];"E"!==t[s];)if("S"===t[s]){s++;var _=t.indexOf("_",s);o.push(c[t.substring(s,_)||0]||"?"),s=_+1}else if("C"===t[s])o.push(o[o.length-1]),s+=2;else{var p=(_=parseInt(t.substr(s))).toString().length;if(!_||!p){s--;break}var f=t.substr(s+p,_);o.push(f),c.push(f),s+=p+_}if(s++,o=o.join("::"),0==--r)return n?[o]:o}else("K"===t[s]||u&&"L"===t[s])&&s++,(_=parseInt(t.substr(s)))&&(p=_.toString().length,o=t.substr(s+p,_),s+=p+_);u=!1,"I"===t[s]?(s++,_=e(!0),a+=(p=e(!0,1,!0))[0]+" "+o+"<"+_.join(", ")+">"):a=o;e:for(;s<t.length&&0<r--;)if(o=t[s++],o in l)d.push(l[o]);else switch(o){case"P":d.push(e(!0,1,!0)[0]+"*");break;case"R":d.push(e(!0,1,!0)[0]+"&");break;case"L":s++,_=t.indexOf("E",s)-s,d.push(t.substr(s,_)),s+=_+2;break;case"A":if(_=parseInt(t.substr(s)),s+=_.toString().length,"_"!==t[s])throw"?";s++,d.push(e(!0,1,!0)[0]+" ["+_+"]");break;case"E":break e;default:a+="?"+o;break e}return i||1!==d.length||"void"!==d[0]||(d=[]),n?(a&&d.push(a+"?"),d):a+"("+d.join(", ")+")"}()}catch(e){i+="?"}return 0<=i.indexOf("?")&&!r&&n.M("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),i}function Ea(){return Fa().replace(/__Z[\w\d_]+/g,(function(e){var t=Ca(e);return e===t?e:e+" ["+t+"]"}))}function Fa(){var e=Error();if(!e.stack){try{throw Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Ga(){var e=v;return 0<e%4096&&(e+=4096-e%4096),e}(function(){function a(e){return{arguments:(e=e.toString().match(d).slice(1))[0],body:e[1],returnValue:e[2]}}var b={stackSave:function(){n.na()},stackRestore:function(){n.X()},arrayToC:function(e){var t=n.W(e.length);return ja(e,t),t},stringToC:function(e){var t=0;return null!=e&&0!==e&&ka(e,t=n.W(1+(e.length<<2))),t}},c={string:b.stringToC,array:b.arrayToC};ia=function(e,t,r,i,o){e=ga(e);var a=[],s=0;if(i)for(var l=0;l<i.length;l++){var u=c[r[l]];u?(0===s&&(s=n.na()),a[l]=u(i[l])):a[l]=i[l]}if(r=e.apply(null,a),"string"===t&&(r=la(r)),0!==s){if(o&&o.async)return void EmterpreterAsync.hd.push((function(){n.X(s)}));n.X(s)}return r};var d=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,f={},h;for(h in b)b.hasOwnProperty(h)&&(f[h]=a(b[h]));ha=function(b,c,d){d=d||[];var h=ga(b);b=d.every((function(e){return"number"===e}));var u="string"!==c;if(u&&b)return h;var q=d.map((function(e,t){return"$"+t}));c="(function("+q.join(",")+") {";var y=d.length;if(!b){c+="var stack = "+f.stackSave.body+";";for(var B=0;B<y;B++){var J=q[B],ea=d[B];"number"!==ea&&(ea=f[ea+"ToC"],c+="var "+ea.arguments+" = "+J+";",c+=ea.body+";",c+=J+"="+ea.returnValue+";")}}return d=a((function(){return h})).returnValue,c+="var ret = "+d+"("+q.join(",")+");",u||(d=a((function(){return la})).returnValue,c+="ret = "+d+"(ret);"),b||(c+=f.stackRestore.body.replace("()","(stack)")+";"),eval(c+"return ret})")}})(),e.ccall=ia,e.cwrap=ha,e.setValue=ma,e.getValue=ta,e.ALLOC_NORMAL=0,e.ALLOC_STACK=1,e.ALLOC_STATIC=2,e.ALLOC_DYNAMIC=3,e.ALLOC_NONE=4,e.allocate=G,e.getMemory=function(e){return va?void 0!==wa&&!wa.C||!xa?n.P(e):ua(e):n.Ia(e)},e.Pointer_stringify=la,e.AsciiToString=function(e){for(var t="";;){var n=D[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}},e.stringToAscii=function(e,t){return ya(e,t,!1)},e.UTF8ArrayToString=za,e.UTF8ToString=function(e){return za(H,e)},e.stringToUTF8Array=Aa,e.stringToUTF8=function(e,t,n){return Aa(e,H,t,n)},e.lengthBytesUTF8=Ba,e.UTF16ToString=function(e){for(var t=0,n="";;){var r=E[e+2*t>>1];if(0==r)return n;++t,n+=String.fromCharCode(r)}},e.stringToUTF16=function(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var i=0;i<n;++i)E[t>>1]=e.charCodeAt(i),t+=2;return E[t>>1]=0,t-r},e.lengthBytesUTF16=function(e){return 2*e.length},e.UTF32ToString=function(e){for(var t=0,n="";;){var r=F[e+4*t>>2];if(0==r)return n;++t,65536<=r?(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r)):n+=String.fromCharCode(r)}},e.stringToUTF32=function(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var i=0;i<e.length;++i){if(55296<=(o=e.charCodeAt(i))&&57343>=o)var o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i);if(F[t>>2]=o,(t+=4)+4>n)break}return F[t>>2]=0,t-r},e.lengthBytesUTF32=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t},e.stackTrace=function(){return Ea()};for(var D,H,E,Ha,F,Ia,ra,sa,Ja=0,p=0,va=!1,Ka=0,m=0,La=0,Ma=0,v=0,Na=e.TOTAL_STACK||5242880,w=e.TOTAL_MEMORY||16777216,I=65536;I<w||I<2*Na;)I=16777216>I?2*I:I+16777216;function Oa(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var r=t.Qa;"number"==typeof r?void 0===t.T?n.J("v",r):n.J("vi",r,[t.T]):r(void 0===t.T?null:t.T)}}}I!==w&&(w=I),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(w),D=new Int8Array(buffer),E=new Int16Array(buffer),F=new Int32Array(buffer),H=new Uint8Array(buffer),Ha=new Uint16Array(buffer),Ia=new Uint32Array(buffer),ra=new Float32Array(buffer),sa=new Float64Array(buffer),F[0]=255,assert(255===H[0]&&0===H[3],"Typed arrays 2 must be run on a little-endian system"),e.HEAP=void 0,e.buffer=buffer,e.HEAP8=D,e.HEAP16=E,e.HEAP32=F,e.HEAPU8=H,e.HEAPU16=Ha,e.HEAPU32=Ia,e.HEAPF32=ra,e.HEAPF64=sa;var Pa=[],Qa=[],Ra=[],K=[],Sa=[],xa=!1;function Ta(e){Pa.unshift(e)}function Ua(e){Sa.unshift(e)}function Va(e,t,n){return e=Aa(e,n=Array(0<n?n:Ba(e)+1),0,n.length),t&&(n.length=e),n}function ka(e,t,n){for(e=Va(e,n),n=0;n<e.length;)D[t+n>>0]=e[n],n+=1}function ja(e,t){for(var n=0;n<e.length;n++)D[t++>>0]=e[n]}function ya(e,t,n){for(var r=0;r<e.length;++r)D[t++>>0]=e.charCodeAt(r);n||(D[t>>0]=0)}e.addOnPreRun=Ta,e.addOnInit=function(e){Qa.unshift(e)},e.addOnPreMain=function(e){Ra.unshift(e)},e.addOnExit=function(e){K.unshift(e)},e.addOnPostRun=Ua,e.intArrayFromString=Va,e.intArrayToString=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];255<r&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")},e.writeStringToMemory=ka,e.writeArrayToMemory=ja,e.writeAsciiToMemory=ya,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16)|0}),Math.td=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;32>t;t++)if(e&1<<31-t)return t;return 32}),Math.kd=Math.clz32;var na=Math.abs,qa=Math.ceil,pa=Math.floor,oa=Math.min,L=0,Wa=null,Xa=null;function Ya(){L++,e.monitorRunDependencies&&e.monitorRunDependencies(L)}function Za(){if(L--,e.monitorRunDependencies&&e.monitorRunDependencies(L),0==L&&(null!==Wa&&(clearInterval(Wa),Wa=null),Xa)){var t=Xa;Xa=null,t()}}e.addRunDependency=Ya,e.removeRunDependency=Za,e.preloadedImages={},e.preloadedAudios={},Ja=8,p=Ja+1696,Qa.push(),G([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,164,2,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",4,n.La);var $a=n.ea(G(12,"i8",2),8);function eb(e,t){K.push((function(){n.J("vi",e,[t])})),eb.level=K.length}assert(0==$a%8),e._bitshift64Ashr=ab,e._i64Subtract=bb,e._i64Add=cb,e._memset=db,e._bitshift64Lshr=fb,e._bitshift64Shl=gb;var M={G:1,B:2,Qc:3,Nb:4,F:5,sa:6,gb:7,kc:8,Z:9,ub:10,oa:11,$c:11,Ka:12,Y:13,Gb:14,wc:15,$:16,pa:17,ad:18,ba:19,qa:20,N:21,u:22,fc:23,Ja:24,O:25,Xc:26,Hb:27,sc:28,da:29,Nc:30,Zb:31,Gc:32,Db:33,Kc:34,oc:42,Kb:43,vb:44,Qb:45,Rb:46,Sb:47,Yb:48,Yc:49,ic:50,Pb:51,Ab:35,lc:37,mb:52,pb:53,bd:54,gc:55,qb:56,rb:57,Bb:35,sb:59,uc:60,jc:61,Uc:62,tc:63,pc:64,qc:65,Mc:66,mc:67,jb:68,Rc:69,wb:70,Hc:71,ac:72,Eb:73,ob:74,Bc:76,nb:77,Lc:78,Tb:79,Ub:80,Xb:81,Wb:82,Vb:83,vc:38,ra:39,bc:36,aa:40,Cc:95,Fc:96,zb:104,hc:105,kb:97,Jc:91,zc:88,rc:92,Oc:108,yb:111,hb:98,xb:103,ec:101,cc:100,Vc:110,Ib:112,Jb:113,Mb:115,lb:114,Cb:89,$b:90,Ic:93,Pc:94,ib:99,dc:102,Ob:106,xc:107,Wc:109,Zc:87,Fb:122,Sc:116,Ac:95,nc:123,Lb:84,Dc:75,tb:125,yc:131,Ec:130,Tc:86},hb={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};function ib(t){return e.___errno_location&&(F[e.___errno_location()>>2]=t),t}function jb(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function N(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=jb(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function kb(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function lb(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function mb(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=jb(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}var nb=[];function ob(e,t){nb[e]={input:[],output:[],L:t},pb(e,qb)}var qb={open:function(e){var t=nb[e.g.rdev];if(!t)throw new O(M.ba);e.tty=t,e.seekable=!1},close:function(e){e.tty.L.flush(e.tty)},flush:function(e){e.tty.L.flush(e.tty)},read:function(e,t,n,r){if(!e.tty||!e.tty.L.Ba)throw new O(M.sa);for(var i=0,o=0;o<r;o++){var a;try{a=e.tty.L.Ba(e.tty)}catch(e){throw new O(M.F)}if(void 0===a&&0===i)throw new O(M.oa);if(null==a)break;i++,t[n+o]=a}return i&&(e.g.timestamp=Date.now()),i},write:function(e,t,n,r){if(!e.tty||!e.tty.L.ja)throw new O(M.sa);for(var i=0;i<r;i++)try{e.tty.L.ja(e.tty,t[n+i])}catch(e){throw new O(M.F)}return r&&(e.g.timestamp=Date.now()),i}},rb={Ba:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&(null!==(t=readline())&&(t+="\n")),!t)return null;e.input=Va(t,!0)}return e.input.shift()},ja:function(t,n){null===n||10===n?(e.print(za(t.output,0)),t.output=[]):0!=n&&t.output.push(n)},flush:function(t){t.output&&0<t.output.length&&(e.print(za(t.output,0)),t.output=[])}},sb={ja:function(t,n){null===n||10===n?(e.printErr(za(t.output,0)),t.output=[]):0!=n&&t.output.push(n)},flush:function(t){t.output&&0<t.output.length&&(e.printErr(za(t.output,0)),t.output=[])}},P={q:null,A:function(){return P.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576==(61440&n)||4096==(61440&n))throw new O(M.G);return P.q||(P.q={dir:{g:{D:P.k.D,p:P.k.p,lookup:P.k.lookup,V:P.k.V,rename:P.k.rename,unlink:P.k.unlink,rmdir:P.k.rmdir,readdir:P.k.readdir,symlink:P.k.symlink},stream:{I:P.n.I}},file:{g:{D:P.k.D,p:P.k.p},stream:{I:P.n.I,read:P.n.read,write:P.n.write,ta:P.n.ta,Ea:P.n.Ea,Ga:P.n.Ga}},link:{g:{D:P.k.D,p:P.k.p,readlink:P.k.readlink},stream:{}},va:{g:{D:P.k.D,p:P.k.p},stream:tb}}),16384==(61440&(n=ub(e,t,n,r)).mode)?(n.k=P.q.dir.g,n.n=P.q.dir.stream,n.e={}):32768==(61440&n.mode)?(n.k=P.q.file.g,n.n=P.q.file.stream,n.o=0,n.e=null):40960==(61440&n.mode)?(n.k=P.q.link.g,n.n=P.q.link.stream):8192==(61440&n.mode)&&(n.k=P.q.va.g,n.n=P.q.va.stream),n.timestamp=Date.now(),e&&(e.e[t]=n),n},Sa:function(e){if(e.e&&e.e.subarray){for(var t=[],n=0;n<e.o;++n)t.push(e.e[n]);return t}return e.e},qd:function(e){return e.e?e.e.subarray?e.e.subarray(0,e.o):new Uint8Array(e.e):new Uint8Array},ya:function(e,t){if(e.e&&e.e.subarray&&t>e.e.length&&(e.e=P.Sa(e),e.o=e.e.length),!e.e||e.e.subarray){var n=e.e?e.e.buffer.byteLength:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)|0),0!=n&&(t=Math.max(t,256)),n=e.e,e.e=new Uint8Array(t),0<e.o&&e.e.set(n.subarray(0,e.o),0))}else for(!e.e&&0<t&&(e.e=[]);e.e.length<t;)e.e.push(0)},ab:function(e,t){if(e.o!=t)if(0==t)e.e=null,e.o=0;else{if(!e.e||e.e.subarray){var n=e.e;e.e=new Uint8Array(new ArrayBuffer(t)),n&&e.e.set(n.subarray(0,Math.min(t,e.o)))}else if(e.e||(e.e=[]),e.e.length>t)e.e.length=t;else for(;e.e.length<t;)e.e.push(0);e.o=t}},k:{D:function(e){var t={};return t.dev=8192==(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.o:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Pa=4096,t.blocks=Math.ceil(t.size/t.Pa),t},p:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&P.ab(e,t.size)},lookup:function(){throw vb[M.B]},V:function(e,t,n,r){return P.createNode(e,t,n,r)},rename:function(e,t,n){if(16384==(61440&e.mode)){var r;try{r=wb(t,n)}catch(e){}if(r)for(var i in r.e)throw new O(M.ra)}delete e.parent.e[e.name],e.name=n,t.e[n]=e,e.parent=t},unlink:function(e,t){delete e.e[t]},rmdir:function(e,t){var n,r=wb(e,t);for(n in r.e)throw new O(M.ra);delete e.e[t]},readdir:function(e){var t,n=[".",".."];for(t in e.e)e.e.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=P.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(40960!=(61440&e.mode))throw new O(M.u);return e.link}},n:{read:function(e,t,n,r,i){var o=e.g.e;if(i>=e.g.o)return 0;if(assert(0<=(e=Math.min(e.g.o-i,r))),8<e&&o.subarray)t.set(o.subarray(i,i+e),n);else for(r=0;r<e;r++)t[n+r]=o[i+r];return e},write:function(e,t,n,r,i,o){if(!r)return 0;if((e=e.g).timestamp=Date.now(),t.subarray&&(!e.e||e.e.subarray)){if(o)return e.e=t.subarray(n,n+r),e.o=r;if(0===e.o&&0===i)return e.e=new Uint8Array(t.subarray(n,n+r)),e.o=r;if(i+r<=e.o)return e.e.set(t.subarray(n,n+r),i),r}if(P.ya(e,i+r),e.e.subarray&&t.subarray)e.e.set(t.subarray(n,n+r),i);else for(o=0;o<r;o++)e.e[i+o]=t[n+o];return e.o=Math.max(e.o,i+r),r},I:function(e,t,n){if(1===n?t+=e.position:2===n&&32768==(61440&e.g.mode)&&(t+=e.g.o),0>t)throw new O(M.u);return t},ta:function(e,t,n){P.ya(e.g,t+n),e.g.o=Math.max(e.g.o,t+n)},Ea:function(e,t,n,r,i,o,a){if(32768!=(61440&e.g.mode))throw new O(M.ba);if(n=e.g.e,2&a||n.buffer!==t&&n.buffer!==t.buffer){if((0<i||i+r<e.g.o)&&(n=n.subarray?n.subarray(i,i+r):Array.prototype.slice.call(n,i,i+r)),e=!0,!(r=ua(r)))throw new O(M.Ka);t.set(n,r)}else e=!1,r=n.byteOffset;return{Cd:r,gd:e}},Ga:function(e,t,n,r,i){if(32768!=(61440&e.g.mode))throw new O(M.ba);return 2&i||P.n.write(e,t,0,r,n,!1),0}}};G(1,"i32*",2),G(1,"i32*",2),G(1,"i32*",2);var xb=null,yb=[null],zb=[],Ab=1,R=null,Cb=!0,S={},O=null,vb={};function T(e,t){if(t=t||{},!(e=mb("/",e)))return{path:"",g:null};var n,r={za:!0,ka:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.ka)throw new O(M.aa);r=jb(e.split("/").filter((function(e){return!!e})),!1);var i=xb;n="/";for(var o=0;o<r.length;o++){var a=o===r.length-1;if(a&&t.parent)break;if(i=wb(i,r[o]),n=N(n+"/"+r[o]),i.R&&(!a||a&&t.za)&&(i=i.R.root),!a||t.ga)for(a=0;40960==(61440&i.mode);)if(i=Db(n),i=T(n=mb(kb(n),i),{ka:t.ka}).g,40<a++)throw new O(M.aa)}return{path:n,g:i}}function U(e){for(var t;;){if(e===e.parent)return e=e.A.Fa,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function Eb(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%R.length}function Fb(e){var t=Eb(e.parent.id,e.name);e.K=R[t],R[t]=e}function wb(e,t){var n;if(n=(n=Gb(e,"x"))?n:e.k.lookup?0:M.Y)throw new O(n,e);for(n=R[Eb(e.id,t)];n;n=n.K){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.k.lookup(e,t)}function ub(e,t,n,r){return Hb||((Hb=function(e,t,n,r){e||(e=this),this.parent=e,this.A=e.A,this.R=null,this.id=Ab++,this.name=t,this.mode=n,this.k={},this.n={},this.rdev=r}).prototype={},Object.defineProperties(Hb.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},Xa:{get:function(){return 16384==(61440&this.mode)}},Ca:{get:function(){return 8192==(61440&this.mode)}}})),Fb(e=new Hb(e,t,n,r)),e}var Ib={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function Gb(e,t){return Cb||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:M.Y}function Jb(e,t){try{return wb(e,t),M.pa}catch(e){}return Gb(e,"wx")}function Kb(){for(var e=0;e<=4096;e++)if(!zb[e])return e;throw new O(M.Ja)}function Lb(e){Mb||((Mb=function(){}).prototype={},Object.defineProperties(Mb.prototype,{object:{get:function(){return this.g},set:function(e){this.g=e}},vd:{get:function(){return 1!=(2097155&this.flags)}},wd:{get:function(){return 0!=(2097155&this.flags)}},ud:{get:function(){return 1024&this.flags}}}));var t,n=new Mb;for(t in e)n[t]=e[t];return e=n,n=Kb(),e.fd=n,zb[n]=e}var tb={open:function(e){e.n=yb[e.g.rdev].n,e.n.open&&e.n.open(e)},I:function(){throw new O(M.da)}},Zb;function pb(e,t){yb[e]={n:t}}function Nb(e,t){var n,r="/"===t,i=!t;if(r&&xb)throw new O(M.$);if(!r&&!i){if(t=(n=T(t,{za:!1})).path,(n=n.g).R)throw new O(M.$);if(16384!=(61440&n.mode))throw new O(M.qa)}i={type:e,Ad:{},Fa:t,Ya:[]};var o=e.A(i);o.A=i,i.root=o,r?xb=o:n&&(n.R=i,n.A&&n.A.Ya.push(i))}function Ob(e,t,n){var r=T(e,{parent:!0}).g;if(!(e=lb(e))||"."===e||".."===e)throw new O(M.u);var i=Jb(r,e);if(i)throw new O(i);if(!r.k.V)throw new O(M.G);return r.k.V(r,e,t,n)}function Pb(e,t){return t=4095&(void 0!==t?t:438),Ob(e,t|=32768,0)}function V(e,t){return t=1023&(void 0!==t?t:511),Ob(e,t|=16384,0)}function Qb(e,t,n){return void 0===n&&(n=t,t=438),Ob(e,8192|t,n)}function Rb(e,t){if(!mb(e))throw new O(M.B);var n=T(t,{parent:!0}).g;if(!n)throw new O(M.B);var r=lb(t),i=Jb(n,r);if(i)throw new O(i);if(!n.k.symlink)throw new O(M.G);return n.k.symlink(n,r,e)}function Db(e){if(!(e=T(e).g))throw new O(M.B);if(!e.k.readlink)throw new O(M.u);return mb(U(e.parent),e.k.readlink(e))}function Sb(e,t){var n;if(!(n="string"==typeof e?T(e,{ga:!0}).g:e).k.p)throw new O(M.G);n.k.p(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})}function Tb(t,n){var r,i,o;if(""===t)throw new O(M.B);if("string"==typeof n){if(void 0===(i=Ib[n]))throw Error("Unknown file open mode: "+n)}else i=n;if(r=64&(n=i)?4095&(void 0===r?438:r)|32768:0,"object"==typeof t)o=t;else{t=N(t);try{o=T(t,{ga:!(131072&n)}).g}catch(e){}}if(i=!1,64&n)if(o){if(128&n)throw new O(M.pa)}else o=Ob(t,r,0),i=!0;if(!o)throw new O(M.B);if(8192==(61440&o.mode)&&(n&=-513),65536&n&&16384!=(61440&o.mode))throw new O(M.qa);if(!i&&(o?40960==(61440&o.mode)?r=M.aa:16384==(61440&o.mode)&&(0!=(2097155&n)||512&n)?r=M.N:(r=["r","w","rw"][3&n],512&n&&(r+="w"),r=Gb(o,r)):r=M.B,r))throw new O(r);if(512&n){var a;if(!(a="string"==typeof(r=o)?T(r,{ga:!0}).g:r).k.p)throw new O(M.G);if(16384==(61440&a.mode))throw new O(M.N);if(32768!=(61440&a.mode))throw new O(M.u);if(r=Gb(a,"w"))throw new O(r);a.k.p(a,{size:0,timestamp:Date.now()})}n&=-641,(o=Lb({g:o,path:U(o),flags:n,seekable:!0,position:0,n:o.n,eb:[],error:!1})).n.open&&o.n.open(o),!e.logReadFiles||1&n||(Ub||(Ub={}),t in Ub||(Ub[t]=1,e.printErr("read file: "+t)));try{S.onOpenFile&&(a=0,1!=(2097155&n)&&(a|=1),0!=(2097155&n)&&(a|=2),S.onOpenFile(t,a))}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return o}function Vb(e){e.ia&&(e.ia=null);try{e.n.close&&e.n.close(e)}catch(e){throw e}finally{zb[e.fd]=null}}function Wb(e,t,n){if(!e.seekable||!e.n.I)throw new O(M.da);e.position=e.n.I(e,t,n),e.eb=[]}function Xb(e,t,n,r,i,o){if(0>r||0>i)throw new O(M.u);if(0==(2097155&e.flags))throw new O(M.Z);if(16384==(61440&e.g.mode))throw new O(M.N);if(!e.n.write)throw new O(M.u);1024&e.flags&&Wb(e,0,2);var a=!0;if(void 0===i)i=e.position,a=!1;else if(!e.seekable)throw new O(M.da);t=e.n.write(e,t,n,r,i,o),a||(e.position+=t);try{e.path&&S.onWriteToFile&&S.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return t}function Yb(){O||((O=function(e,t){this.g=t,this.bb=function(e){for(var t in this.Q=e,M)if(M[t]===e){this.code=t;break}},this.bb(e),this.message=hb[e]}).prototype=Error(),O.prototype.constructor=O,[M.B].forEach((function(e){vb[e]=new O(e),vb[e].stack="<generic error, no stack>"})))}function $b(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}function ac(e,t,n,r){return Pb(e=N(("string"==typeof e?e:U(e))+"/"+t),$b(n,r))}function bc(e,t,n,r,i,o){if(i=Pb(e=t?N(("string"==typeof e?e:U(e))+"/"+t):e,r=$b(r,i)),n){if("string"==typeof n){e=Array(n.length),t=0;for(var a=n.length;t<a;++t)e[t]=n.charCodeAt(t);n=e}Sb(i,146|r),Xb(e=Tb(i,"w"),n,0,n.length,0,o),Vb(e),Sb(i,r)}return i}function W(e,t,n,r){e=N(("string"==typeof e?e:U(e))+"/"+t),t=$b(!!n,!!r),W.Da||(W.Da=64);var i=W.Da++<<8|0;return pb(i,{open:function(e){e.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i){for(var o=0,a=0;a<i;a++){var s;try{s=n()}catch(e){throw new O(M.F)}if(void 0===s&&0===o)throw new O(M.oa);if(null==s)break;o++,t[r+a]=s}return o&&(e.g.timestamp=Date.now()),o},write:function(e,t,n,i){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new O(M.F)}return i&&(e.g.timestamp=Date.now()),o}}),Qb(e,t,i)}function cc(t){if(t.Ca||t.Xa||t.link||t.e)return!0;var n=!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!e.read)throw Error("Cannot load without read() or XMLHttpRequest.");try{t.e=Va(e.read(t.url),!0),t.o=t.e.length}catch(e){n=!1}return n||ib(M.F),n}var dc={},Hb,Mb,Ub,ec=0;function X(){return F[(ec+=4)-4>>2]}function fc(){var e;if(e=X(),!(e=zb[e]))throw new O(M.Z);return e}function wa(e){wa.C||(v=Ga(),wa.C=!0,assert(n.P),wa.Ra=n.P,n.P=function(){z("cannot dynamically allocate, sbrk now has control")});var t=v;return 0==e||wa.Ra(e)?t:4294967295}function hc(e,t){if(ic=e,jc=t,!kc)return 1;if(0==e)Y=function(){setTimeout(lc,t)},mc="timeout";else if(1==e)Y=function(){nc(lc)},mc="rAF";else if(2==e){if(!window.setImmediate){var n=[];window.addEventListener("message",(function(e){e.source===window&&"__emcc"===e.data&&(e.stopPropagation(),n.shift()())}),!0),window.setImmediate=function(e){n.push(e),window.postMessage("__emcc","*")}}Y=function(){window.setImmediate(lc)},mc="immediate"}return 0}function oc(t,r,i,o,a){e.noExitRuntime=!0,assert(!kc,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),kc=t,pc=o;var s=qc;if(lc=function(){if(!A)if(0<rc.length){var r=Date.now(),i=rc.shift();if(i.Qa(i.T),sc){var a=sc,l=0==a%1?a-1:Math.floor(a);sc=i.ld?l:(8*a+(l+.5))/9}console.log('main loop blocker "'+i.name+'" took '+(Date.now()-r)+" ms"),tc(),setTimeout(lc,0)}else s<qc||(uc=uc+1|0,1==ic&&1<jc&&0!=uc%jc?Y():("timeout"===mc&&e.fa&&(e.S("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),mc=""),vc((function(){void 0!==o?n.J("vi",t,[o]):n.J("v",t)})),s<qc||("object"==typeof SDL&&SDL.audio&&SDL.audio.Za&&SDL.audio.Za(),Y())))},a||(r&&0<r?hc(0,1e3/r):hc(1,1),Y()),i)throw"SimulateInfiniteLoop"}e._memcpy=gc;var Y=null,mc="",qc=0,kc=null,pc=0,ic=0,jc=0,uc=0,rc=[];function tc(){if(e.setStatus){var t=e.statusMessage||"Please wait...",n=sc,r=wc.nd;n?n<r?e.setStatus(t+" ("+(r-n)+"/"+r+")"):e.setStatus(t):e.setStatus("")}}function vc(t){if(!(A||e.preMainLoop&&!1===e.preMainLoop())){try{t()}catch(t){if(t instanceof xc)return;throw t&&"object"==typeof t&&t.stack&&e.S("exception thrown: "+[t,t.stack]),t}e.postMainLoop&&e.postMainLoop()}}var wc={},lc,sc,yc=!1,zc=!1,Ac=[];function Bc(){function t(){zc=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r||document.msPointerLockElement===r}if(e.preloadPlugins||(e.preloadPlugins=[]),!Cc){Cc=!0;try{Dc=!0}catch(e){Dc=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Ec="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Dc?null:console.log("warning: no BlobBuilder"),Fc="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,e.Ha||void 0!==Fc||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),e.Ha=!0),e.preloadPlugins.push({canHandle:function(t){return!e.Ha&&/\.(jpg|jpeg|png|bmp)$/i.test(t)},handle:function(t,r,i,o){var a=null;if(Dc)try{(a=new Blob([t],{type:Gc(r)})).size!==t.length&&(a=new Blob([new Uint8Array(t).buffer],{type:Gc(r)}))}catch(e){n.M("Blob constructor present but fails: "+e+"; falling back to blob builder")}a||((a=new Ec).append(new Uint8Array(t).buffer),a=a.getBlob());var s=Fc.createObjectURL(a),l=new Image;l.onload=function(){assert(l.complete,"Image "+r+" could not be decoded");var n=document.createElement("canvas");n.width=l.width,n.height=l.height,n.getContext("2d").drawImage(l,0,0),e.preloadedImages[r]=n,Fc.revokeObjectURL(s),i&&i(t)},l.onerror=function(){console.log("Image "+s+" could not be decoded"),o&&o()},l.src=s}}),e.preloadPlugins.push({canHandle:function(t){return!e.zd&&t.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(t,n,r,i){function o(i){s||(s=!0,e.preloadedAudios[n]=i,r&&r(t))}function a(){s||(s=!0,e.preloadedAudios[n]=new Audio,i&&i())}var s=!1;if(!Dc)return a();try{var l=new Blob([t],{type:Gc(n)})}catch(e){return a()}l=Fc.createObjectURL(l);var c=new Audio;c.addEventListener("canplaythrough",(function(){o(c)}),!1),c.onerror=function(){if(!s){console.log("warning: browser could not fully decode audio "+n+", trying slower base64 approach");for(var e="",r=0,i=0,a=0;a<t.length;a++)for(r=r<<8|t[a],i+=8;6<=i;){var l=r>>i-6&63;i=i-6,e=e+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[l]}2==i?(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&r)<<4],e+="=="):4==i&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&r)<<2],e+="="),c.src="data:audio/x-"+n.substr(-3)+";base64,"+e,o(c)}},c.src=l,Hc((function(){o(c)}))}});var r=e.canvas;r&&(r.la=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.wa=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.wa=r.wa.bind(document),document.addEventListener("pointerlockchange",t,!1),document.addEventListener("mozpointerlockchange",t,!1),document.addEventListener("webkitpointerlockchange",t,!1),document.addEventListener("mspointerlockchange",t,!1),e.elementPointerLock&&r.addEventListener("click",(function(e){!zc&&r.la&&(r.la(),e.preventDefault())}),!1))}}function Ic(t,n,r,i){if(n&&e.fa&&t==e.canvas)return e.fa;var o,a;if(n){if(a={antialias:!1,alpha:!1},i)for(var s in i)a[s]=i[s];(a=GL.createContext(t,a))&&(o=GL.getContext(a).cd),t.style.backgroundColor="black"}else o=t.getContext("2d");return o?(r&&(n||assert("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),e.fa=o,n&&GL.yd(a),e.Dd=n,Ac.forEach((function(e){e()})),Bc()),o):null}var Jc=!1,Kc=void 0,Lc=void 0;function Mc(t,n,r){function i(){yc=!1;var t=o.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===t?(o.ua=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},o.ua=o.ua.bind(document),Kc&&o.la(),yc=!0,Lc&&Nc()):(t.parentNode.insertBefore(o,t),t.parentNode.removeChild(t),Lc&&Oc()),e.onFullScreen&&e.onFullScreen(yc),Pc(o)}void 0===(Kc=t)&&(Kc=!0),void 0===(Lc=n)&&(Lc=!1),void 0===(Qc=r)&&(Qc=null);var o=e.canvas;Jc||(Jc=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var a=document.createElement("div");o.parentNode.insertBefore(a,o),a.appendChild(o),a.C=a.requestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),r?a.C({Ed:r}):a.C()}var Rc=0;function Sc(e){var t=Date.now();if(0===Rc)Rc=t+1e3/60;else for(;t+2>=Rc;)Rc+=1e3/60;t=Math.max(Rc-t,0),setTimeout(e,t)}function nc(e){"undefined"==typeof window?Sc(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Sc),window.requestAnimationFrame(e))}function Hc(t){e.noExitRuntime=!0,setTimeout((function(){A||t()}),1e4)}function Gc(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}function Tc(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}function Uc(e,t,n){Tc(e,(function(n){assert(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),Za()}),(function(){if(!n)throw'Loading data file "'+e+'" failed.';n()})),Ya()}var Vc=[],Cc,Dc,Ec,Fc,Qc;function Wc(){var t=e.canvas;Vc.forEach((function(e){e(t.width,t.height)}))}function Nc(){if("undefined"!=typeof SDL){var e=Ia[SDL.screen+0*n.H>>2];F[SDL.screen+0*n.H>>2]=8388608|e}Wc()}function Oc(){if("undefined"!=typeof SDL){var e=Ia[SDL.screen+0*n.H>>2];F[SDL.screen+0*n.H>>2]=-8388609&e}Wc()}function Pc(t,n,r){n&&r?(t.fb=n,t.Va=r):(n=t.fb,r=t.Va);var i=n,o=r;if(e.forcedAspectRatio&&0<e.forcedAspectRatio&&(i/o<e.forcedAspectRatio?i=Math.round(o*e.forcedAspectRatio):o=Math.round(i/e.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===t.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/i,screen.height/o);i=Math.round(i*a),o=Math.round(o*a)}Lc?(t.width!=i&&(t.width=i),t.height!=o&&(t.height=o),void 0!==t.style&&(t.style.removeProperty("width"),t.style.removeProperty("height"))):(t.width!=n&&(t.width=n),t.height!=r&&(t.height=r),void 0!==t.style&&(i!=n||o!=r?(t.style.setProperty("width",i+"px","important"),t.style.setProperty("height",o+"px","important")):(t.style.removeProperty("width"),t.style.removeProperty("height"))))}Yb(),R=Array(4096),Nb(P,"/"),V("/tmp"),V("/home"),V("/home/web_user"),function(){var e;if(V("/dev"),pb(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),Qb("/dev/null",259),ob(1280,rb),ob(1536,sb),Qb("/dev/tty",1280),Qb("/dev/tty1",1536),"undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=function(){return 256*Math.random()|0};W("/dev","random",e),W("/dev","urandom",e),V("/dev/shm"),V("/dev/shm/tmp")}(),V("/proc"),V("/proc/self"),V("/proc/self/fd"),Nb({A:function(){var e=ub("/proc/self","fd",16895,73);return e.k={lookup:function(e,t){var n=zb[+t];if(!n)throw new O(M.Z);var r={parent:null,A:{Fa:"fake"},k:{readlink:function(){return n.path}}};return r.parent=r}},e}},"/proc/self/fd"),Qa.unshift((function(){if(!e.noFSInit&&!Zb){assert(!Zb,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Zb=!0,Yb(),e.stdin=e.stdin,e.stdout=e.stdout,e.stderr=e.stderr,e.stdin?W("/dev","stdin",e.stdin):Rb("/dev/tty","/dev/stdin"),e.stdout?W("/dev","stdout",null,e.stdout):Rb("/dev/tty","/dev/stdout"),e.stderr?W("/dev","stderr",null,e.stderr):Rb("/dev/tty1","/dev/stderr");var t=Tb("/dev/stdin","r");assert(0===t.fd,"invalid handle for stdin ("+t.fd+")"),assert(1===(t=Tb("/dev/stdout","w")).fd,"invalid handle for stdout ("+t.fd+")"),assert(2===(t=Tb("/dev/stderr","w")).fd,"invalid handle for stderr ("+t.fd+")")}})),Ra.push((function(){Cb=!1})),K.push((function(){Zb=!1;var t=e._fflush;for(t&&t(0),t=0;t<zb.length;t++){var n=zb[t];n&&Vb(n)}})),e.FS_createFolder=function(e,t,n,r){return V(e=N(("string"==typeof e?e:U(e))+"/"+t),$b(n,r))},e.FS_createPath=function(e,t){e="string"==typeof e?e:U(e);for(var n=t.split("/").reverse();n.length;){var r=n.pop();if(r){var i=N(e+"/"+r);try{V(i)}catch(e){}e=i}}return i},e.FS_createDataFile=bc,e.FS_createPreloadedFile=function(t,n,r,i,o,a,s,l,c,u){function d(r){function d(e){u&&u(),l||bc(t,n,e,i,o,c),a&&a(),Za()}var p=!1;e.preloadPlugins.forEach((function(e){!p&&e.canHandle(_)&&(e.handle(r,_,d,(function(){s&&s(),Za()})),p=!0)})),p||d(r)}Bc();var _=n?mb(N(t+"/"+n)):t;Ya(),"string"==typeof r?Uc(r,(function(e){d(e)}),s):d(r)},e.FS_createLazyFile=function(e,t,n,r,i){if("undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";n={Ca:!1,url:n};var o=ac(e,t,r,i);n.e?o.e=n.e:n.url&&(o.e=null,o.url=n.url),Object.defineProperty(o,"usedBytes",{get:function(){return this.e.length}});var a={};return Object.keys(o.n).forEach((function(e){var t=o.n[e];a[e]=function(){if(!cc(o))throw new O(M.F);return t.apply(null,arguments)}})),a.read=function(e,t,n,r,i){if(!cc(o))throw new O(M.F);if(i>=(e=e.g.e).length)return 0;if(assert(0<=(r=Math.min(e.length-i,r))),e.slice)for(var a=0;a<r;a++)t[n+a]=e[i+a];else for(a=0;a<r;a++)t[n+a]=e.get(i+a);return r},o.n=a,o},e.FS_createLink=function(e,t,n){return Rb(n,e=N(("string"==typeof e?e:U(e))+"/"+t))},e.FS_createDevice=W,e.FS_unlink=function(e){var t,n=T(e,{parent:!0}).g,r=lb(e),i=wb(n,r);e:{try{t=wb(n,r)}catch(e){t=e.Q;break e}var o=Gb(n,"wx");t=o||(16384==(61440&t.mode)?M.N:0)}if(t)throw t===M.N&&(t=M.G),new O(t);if(!n.k.unlink)throw new O(M.G);if(i.R)throw new O(M.$);try{S.willDeletePath&&S.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}if(n.k.unlink(n,r),n=Eb(i.parent.id,i.name),R[n]===i)R[n]=i.K;else for(n=R[n];n;){if(n.K===i){n.K=i.K;break}n=n.K}try{S.onDeletePath&&S.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},Qa.unshift((function(){})),K.push((function(){})),e.requestFullScreen=function(e,t,n){Mc(e,t,n)},e.requestAnimationFrame=function(e){nc(e)},e.setCanvasSize=function(t,n,r){Pc(e.canvas,t,n),r||Wc()},e.pauseMainLoop=function(){Y=null,qc++},e.resumeMainLoop=function(){qc++;var e=ic,t=jc,n=kc;kc=null,oc(n,0,!1,pc,!0),hc(e,t),Y()},e.getUserMedia=function(){window.C||(window.C=navigator.getUserMedia||navigator.mozGetUserMedia),window.C(void 0)},e.createContext=function(e,t,n,r){return Ic(e,t,n,r)},Ka=m=n.ea(p),va=!0,La=Ka+Na,Ma=v=n.ea(La),assert(Ma<w,"TOTAL_MEMORY not big enough for stack");var Xc=G([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",3);e.Na={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},e.Oa={abort:z,assert,invoke_ii:function(t,n){try{return e.dynCall_ii(t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Z.setThrew(1,0)}},invoke_iiii:function(t,n,r,i){try{return e.dynCall_iiii(t,n,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Z.setThrew(1,0)}},invoke_vi:function(t,n){try{e.dynCall_vi(t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Z.setThrew(1,0)}},_pthread_cleanup_pop:function(){assert(eb.level==K.length,"cannot pop if something else added meanwhile!"),K.pop(),eb.level=K.length},___lock:function(){},_emscripten_set_main_loop:oc,_pthread_self:function(){return 0},___syscall6:function(e,t){ec=t;try{return Vb(fc()),0}catch(e){return void 0!==dc&&e instanceof O||z(e),-e.Q}},_emscripten_set_main_loop_timing:hc,_abort:function(){e.abort()},_sbrk:wa,_time:function(e){var t=Date.now()/1e3|0;return e&&(F[e>>2]=t),t},___setErrNo:ib,_emscripten_memcpy_big:function(e,t,n){return H.set(H.subarray(t,t+n),e),e},___syscall54:function(e,t){ec=t;try{var n=fc(),r=X();switch(r){case 21505:case 21506:return n.tty?0:-M.O;case 21519:if(!n.tty)return-M.O;var i=X();return F[i>>2]=0;case 21520:return n.tty?-M.u:-M.O;case 21531:if(i=X(),!n.n.Wa)throw new O(M.O);return n.n.Wa(n,r,i);default:z("bad ioctl syscall "+r)}}catch(e){return void 0!==dc&&e instanceof O||z(e),-e.Q}},___unlock:function(){},___syscall140:function(e,t){ec=t;try{var n=fc(),r=X(),i=X(),o=X(),a=X();return assert(0===r),Wb(n,i,a),F[o>>2]=n.position,n.ia&&0===i&&0===a&&(n.ia=null),0}catch(e){return void 0!==dc&&e instanceof O||z(e),-e.Q}},_pthread_cleanup_push:eb,_sysconf:function(e){switch(e){case 30:return 4096;case 85:return I/4096;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ib(M.u),-1},___syscall146:function(e,t){ec=t;try{var n,r=fc(),i=X();e:{for(var o=X(),a=0,s=0;s<o;s++){var l=Xb(r,D,F[i+8*s>>2],F[i+(8*s+4)>>2],void 0);if(0>l){n=-1;break e}a+=l}n=a}return n}catch(e){return void 0!==dc&&e instanceof O||z(e),-e.Q}},STACKTOP:m,STACK_MAX:La,tempDoublePtr:$a,ABORT:A,cttz_i8:Xc};var Z=function(e,t,n){var r=new e.Int8Array(n),i=(new e.Int16Array(n),new e.Int32Array(n)),o=new e.Uint8Array(n),a=(new e.Uint16Array(n),new e.Uint32Array(n),new e.Float32Array(n),new e.Float64Array(n),0|t.STACKTOP),s=(t.STACK_MAX,t.tempDoublePtr,t.ABORT,t.cttz_i8,0),l=(e.NaN,e.Infinity,0),c=(e.Math.floor,e.Math.abs,e.Math.sqrt,e.Math.pow,e.Math.cos,e.Math.sin,e.Math.tan,e.Math.acos,e.Math.asin,e.Math.atan,e.Math.atan2,e.Math.exp,e.Math.log,e.Math.ceil,e.Math.imul),u=(e.Math.min,e.Math.clz32,t.abort),d=(t.assert,t.invoke_ii,t.invoke_iiii,t.invoke_vi,t._pthread_cleanup_pop),_=t.___lock,p=(t._emscripten_set_main_loop,t._pthread_self),f=t.___syscall6,E=(t._emscripten_set_main_loop_timing,t._abort),A=t._sbrk,g=t._time,h=(t.___setErrNo,t._emscripten_memcpy_big),S=t.___syscall54,T=t.___unlock,m=t.___syscall140,I=t._pthread_cleanup_push,y=t._sysconf,C=t.___syscall146;function v(e,t,n){e|=0;var r,o=0,s=0,c=0,u=0,d=0,_=0,p=0,f=0,E=0,A=0,g=0;r=a,a=a+160|0,O(o=r,t|=0,n|=0),t=0|i[(n=o+144|0)>>2],s=0|i[n+4>>2],u=0|i[(c=n=o+64|0)>>2],d=0|i[c+4>>2],c=0|F(0|t,0|s,18,0),_=l,p=0|U(0|u,0|d,0|t,0|s),s=0|U(0|p,0|l,0|c,0|_),i[(_=n)>>2]=s,i[_+4>>2]=l,s=0|i[(_=o+136|0)>>2],n=0|i[_+4>>2],p=0|i[(c=_=o+56|0)>>2],t=0|i[c+4>>2],c=0|F(0|s,0|n,18,0),d=l,u=0|U(0|p,0|t,0|s,0|n),n=0|U(0|u,0|l,0|c,0|d),i[(d=_)>>2]=n,i[d+4>>2]=l,n=0|i[(d=o+128|0)>>2],_=0|i[d+4>>2],u=0|i[(c=d=o+48|0)>>2],s=0|i[c+4>>2],c=0|F(0|n,0|_,18,0),t=l,p=0|U(0|u,0|s,0|n,0|_),_=0|U(0|p,0|l,0|c,0|t),i[(t=d)>>2]=_,i[t+4>>2]=l,_=0|i[(t=o+120|0)>>2],d=0|i[t+4>>2],p=0|i[(c=t=o+40|0)>>2],n=0|i[c+4>>2],c=0|F(0|_,0|d,18,0),s=l,u=0|U(0|p,0|n,0|_,0|d),d=0|U(0|u,0|l,0|c,0|s),i[(s=t)>>2]=d,i[s+4>>2]=l,d=0|i[(s=o+112|0)>>2],t=0|i[s+4>>2],u=0|i[(c=s=o+32|0)>>2],_=0|i[c+4>>2],c=0|F(0|d,0|t,18,0),n=l,p=0|U(0|u,0|_,0|d,0|t),t=0|U(0|p,0|l,0|c,0|n),i[(n=s)>>2]=t,i[n+4>>2]=l,t=0|i[(n=o+104|0)>>2],s=0|i[n+4>>2],p=0|i[(c=n=o+24|0)>>2],d=0|i[c+4>>2],c=0|F(0|t,0|s,18,0),_=l,u=0|U(0|p,0|d,0|t,0|s),s=0|U(0|u,0|l,0|c,0|_),i[(_=n)>>2]=s,i[_+4>>2]=l,s=0|i[(_=o+96|0)>>2],n=0|i[_+4>>2],u=0|i[(c=_=o+16|0)>>2],t=0|i[c+4>>2],c=0|F(0|s,0|n,18,0),d=l,p=0|U(0|u,0|t,0|s,0|n),n=0|U(0|p,0|l,0|c,0|d),i[(d=_)>>2]=n,i[d+4>>2]=l,n=0|i[(d=o+88|0)>>2],_=0|i[d+4>>2],p=0|i[(c=d=o+8|0)>>2],s=0|i[c+4>>2],c=0|F(0|n,0|_,18,0),t=l,u=0|U(0|p,0|s,0|n,0|_),_=0|U(0|u,0|l,0|c,0|t),i[(t=d)>>2]=_,i[t+4>>2]=l,c=0|i[(_=t=o+80|0)>>2],u=0|i[_+4>>2],n=0|i[(_=o)>>2],s=0|i[_+4>>2],_=0|F(0|c,0|u,18,0),p=l,f=0|U(0|n,0|s,0|c,0|u),u=0|U(0|f,0|l,0|_,0|p),p=l,i[(_=o)>>2]=u,i[_+4>>2]=p,i[(_=t)>>2]=0,i[_+4>>2]=0,_=p,p=u,u=0;do{n=0|B(0|p,0|_,0|(s=0|Y(0|(c=0|w(0|(f=0|U(_>>31>>>6|0,0,0|p,0|_)),0|l,26)),0|(f=l),26)),0|l),i[(s=o+(u<<3)|0)>>2]=n,i[s+4>>2]=l,g=0|B(0|(E=0|U(0|c,0|f,0|i[(n=s=o+((1|u)<<3)|0)>>2],0|i[n+4>>2])),0|(n=l),0|(A=0|Y(0|(c=0|w(0|(f=0|U(n>>31>>>7|0,0,0|E,0|n)),0|l,25)),0|(f=l),25)),0|l),i[(A=s)>>2]=g,i[A+4>>2]=l,p=0|U(0|c,0|f,0|i[(g=A=o+((u=u+2|0)<<3)|0)>>2],0|i[g+4>>2]),_=l,i[(g=A)>>2]=p,i[g+4>>2]=_}while(u>>>0<10);_=0|i[(u=t)>>2],p=0|i[u+4>>2],g=0|i[(u=o)>>2],A=0|i[u+4>>2],u=0|F(0|_,0|p,18,0),f=l,c=0|U(0|g,0|A,0|_,0|p),p=0|U(0|c,0|l,0|u,0|f),f=l,i[(u=t)>>2]=0,i[u+4>>2]=0,_=0|B(0|p,0|f,0|(c=0|Y(0|(t=0|w(0|(u=0|U(f>>31>>>6|0,0,0|p,0|f)),0|l,26)),0|(u=l),26)),0|l),i[(c=o)>>2]=_,i[c+4>>2]=l,_=0|U(0|t,0|u,0|i[(c=d)>>2],0|i[c+4>>2]),i[(c=d)>>2]=_,i[c+4>>2]=l,c=e,e=o,o=c+80|0;do{i[c>>2]=i[e>>2],c=c+4|0,e=e+4|0}while((0|c)<(0|o));a=r}function O(e,t,n){e|=0,n|=0;var r=0,o=0,a=0,s=0,c=0,u=0,d=0,_=0,p=0,f=0,E=0,A=0,g=0,h=0,S=0,T=0,m=0,I=0,y=0,C=0,v=0,O=0,P=0;r=0|w(0,0|i[(t|=0)>>2],32),o=l,s=0|F(0|(a=0|w(0,0|i[n>>2],32)),0|l,0|r,0|o),i[(o=e)>>2]=s,i[o+4>>2]=l,o=0|w(0,0|i[t>>2],32),s=l,c=0|F(0|(a=0|w(0,0|i[(r=n+8|0)>>2],32)),0|l,0|o,0|s),s=l,a=0|w(0,0|i[(o=t+8|0)>>2],32),u=l,u=0|U(0|(_=0|F(0|(d=0|w(0,0|i[n>>2],32)),0|l,0|a,0|u)),0|l,0|c,0|s),i[(s=e+8|0)>>2]=u,i[s+4>>2]=l,s=0|w(0,0|i[o>>2],31),u=l,_=0|F(0|(c=0|w(0,0|i[r>>2],32)),0|l,0|s,0|u),u=l,s=0|w(0,0|i[t>>2],32),c=l,c=0|U(0|(p=0|F(0|(d=0|w(0,0|i[(a=n+16|0)>>2],32)),0|l,0|s,0|c)),0|l,0|_,0|u),u=l,p=0|w(0,0|i[(_=t+16|0)>>2],32),s=l,s=0|U(0|c,0|u,0|(f=0|F(0|(d=0|w(0,0|i[n>>2],32)),0|l,0|p,0|s)),0|l),i[(f=e+16|0)>>2]=s,i[f+4>>2]=l,f=0|w(0,0|i[o>>2],32),s=l,c=0|F(0|(u=0|w(0,0|i[a>>2],32)),0|l,0|f,0|s),s=l,f=0|w(0,0|i[_>>2],32),u=l,u=0|U(0|(d=0|F(0|(p=0|w(0,0|i[r>>2],32)),0|l,0|f,0|u)),0|l,0|c,0|s),s=l,c=0|w(0,0|i[t>>2],32),d=l,d=0|U(0|u,0|s,0|(E=0|F(0|(p=0|w(0,0|i[(f=n+24|0)>>2],32)),0|l,0|c,0|d)),0|l),E=l,u=0|w(0,0|i[(s=t+24|0)>>2],32),c=l,c=0|U(0|d,0|E,0|(A=0|F(0|(p=0|w(0,0|i[n>>2],32)),0|l,0|u,0|c)),0|l),i[(A=e+24|0)>>2]=c,i[A+4>>2]=l,A=0|w(0,0|i[_>>2],32),c=l,d=0|F(0|(E=0|w(0,0|i[a>>2],32)),0|l,0|A,0|c),c=l,A=0|w(0,0|i[o>>2],32),E=l,p=0|F(0|(u=0|w(0,0|i[f>>2],32)),0|l,0|A,0|E),E=l,A=0|w(0,0|i[s>>2],32),u=l,u=0|U(0|(h=0|F(0|(g=0|w(0,0|i[r>>2],32)),0|l,0|A,0|u)),0|l,0|p,0|E),u=0|U(0|(E=0|Y(0|u,0|l,1)),0|l,0|d,0|c),c=l,d=0|w(0,0|i[t>>2],32),E=l,E=0|U(0|u,0|c,0|(A=0|F(0|(h=0|w(0,0|i[(p=n+32|0)>>2],32)),0|l,0|d,0|E)),0|l),A=l,u=0|w(0,0|i[(c=t+32|0)>>2],32),d=l,d=0|U(0|E,0|A,0|(g=0|F(0|(h=0|w(0,0|i[n>>2],32)),0|l,0|u,0|d)),0|l),i[(g=e+32|0)>>2]=d,i[g+4>>2]=l,g=0|w(0,0|i[_>>2],32),d=l,E=0|F(0|(A=0|w(0,0|i[f>>2],32)),0|l,0|g,0|d),d=l,g=0|w(0,0|i[s>>2],32),A=l,A=0|U(0|(h=0|F(0|(u=0|w(0,0|i[a>>2],32)),0|l,0|g,0|A)),0|l,0|E,0|d),d=l,E=0|w(0,0|i[o>>2],32),h=l,h=0|U(0|A,0|d,0|(u=0|F(0|(g=0|w(0,0|i[p>>2],32)),0|l,0|E,0|h)),0|l),u=l,d=0|w(0,0|i[c>>2],32),A=l,A=0|U(0|h,0|u,0|(g=0|F(0|(E=0|w(0,0|i[r>>2],32)),0|l,0|d,0|A)),0|l),g=l,u=0|w(0,0|i[t>>2],32),h=l,h=0|U(0|A,0|g,0|(S=0|F(0|(E=0|w(0,0|i[(d=n+40|0)>>2],32)),0|l,0|u,0|h)),0|l),S=l,A=0|w(0,0|i[(g=t+40|0)>>2],32),u=l,u=0|U(0|h,0|S,0|(T=0|F(0|(E=0|w(0,0|i[n>>2],32)),0|l,0|A,0|u)),0|l),i[(T=e+40|0)>>2]=u,i[T+4>>2]=l,T=0|w(0,0|i[s>>2],32),u=l,h=0|F(0|(S=0|w(0,0|i[f>>2],32)),0|l,0|T,0|u),u=l,T=0|w(0,0|i[o>>2],32),S=l,S=0|U(0|(E=0|F(0|(A=0|w(0,0|i[d>>2],32)),0|l,0|T,0|S)),0|l,0|h,0|u),u=l,h=0|w(0,0|i[g>>2],32),E=l,A=0|Y(0|(E=0|U(0|S,0|u,0|(A=0|F(0|(T=0|w(0,0|i[r>>2],32)),0|l,0|h,0|E)),0|l)),0|l,1),E=l,u=0|w(0,0|i[_>>2],32),S=l,S=0|U(0|A,0|E,0|(T=0|F(0|(h=0|w(0,0|i[p>>2],32)),0|l,0|u,0|S)),0|l),T=l,E=0|w(0,0|i[c>>2],32),A=l,A=0|U(0|S,0|T,0|(h=0|F(0|(u=0|w(0,0|i[a>>2],32)),0|l,0|E,0|A)),0|l),h=l,T=0|w(0,0|i[t>>2],32),S=l,S=0|U(0|A,0|h,0|(m=0|F(0|(u=0|w(0,0|i[(E=n+48|0)>>2],32)),0|l,0|T,0|S)),0|l),m=l,A=0|w(0,0|i[(h=t+48|0)>>2],32),T=l,T=0|U(0|S,0|m,0|(I=0|F(0|(u=0|w(0,0|i[n>>2],32)),0|l,0|A,0|T)),0|l),i[(I=e+48|0)>>2]=T,i[I+4>>2]=l,I=0|w(0,0|i[s>>2],32),T=l,S=0|F(0|(m=0|w(0,0|i[p>>2],32)),0|l,0|I,0|T),T=l,I=0|w(0,0|i[c>>2],32),m=l,m=0|U(0|(u=0|F(0|(A=0|w(0,0|i[f>>2],32)),0|l,0|I,0|m)),0|l,0|S,0|T),T=l,S=0|w(0,0|i[_>>2],32),u=l,u=0|U(0|m,0|T,0|(A=0|F(0|(I=0|w(0,0|i[d>>2],32)),0|l,0|S,0|u)),0|l),A=l,T=0|w(0,0|i[g>>2],32),m=l,m=0|U(0|u,0|A,0|(I=0|F(0|(S=0|w(0,0|i[a>>2],32)),0|l,0|T,0|m)),0|l),I=l,A=0|w(0,0|i[o>>2],32),u=l,u=0|U(0|m,0|I,0|(S=0|F(0|(T=0|w(0,0|i[E>>2],32)),0|l,0|A,0|u)),0|l),S=l,I=0|w(0,0|i[h>>2],32),m=l,m=0|U(0|u,0|S,0|(T=0|F(0|(A=0|w(0,0|i[r>>2],32)),0|l,0|I,0|m)),0|l),T=l,S=0|w(0,0|i[t>>2],32),u=l,u=0|U(0|m,0|T,0|(y=0|F(0|(A=0|w(0,0|i[(I=n+56|0)>>2],32)),0|l,0|S,0|u)),0|l),y=l,m=0|w(0,0|i[(T=t+56|0)>>2],32),S=l,S=0|U(0|u,0|y,0|(C=0|F(0|(A=0|w(0,0|i[n>>2],32)),0|l,0|m,0|S)),0|l),i[(C=e+56|0)>>2]=S,i[C+4>>2]=l,C=0|w(0,0|i[c>>2],32),S=l,u=0|F(0|(y=0|w(0,0|i[p>>2],32)),0|l,0|C,0|S),S=l,C=0|w(0,0|i[s>>2],32),y=l,A=0|F(0|(m=0|w(0,0|i[d>>2],32)),0|l,0|C,0|y),y=l,C=0|w(0,0|i[g>>2],32),m=l,m=0|U(0|(O=0|F(0|(v=0|w(0,0|i[f>>2],32)),0|l,0|C,0|m)),0|l,0|A,0|y),y=l,A=0|w(0,0|i[o>>2],32),O=l,O=0|U(0|m,0|y,0|(v=0|F(0|(C=0|w(0,0|i[I>>2],32)),0|l,0|A,0|O)),0|l),v=l,y=0|w(0,0|i[T>>2],32),m=l,m=0|U(0|O,0|v,0|(C=0|F(0|(A=0|w(0,0|i[r>>2],32)),0|l,0|y,0|m)),0|l),m=0|U(0|(C=0|Y(0|m,0|l,1)),0|l,0|u,0|S),S=l,u=0|w(0,0|i[_>>2],32),C=l,C=0|U(0|m,0|S,0|(O=0|F(0|(v=0|w(0,0|i[E>>2],32)),0|l,0|u,0|C)),0|l),O=l,S=0|w(0,0|i[h>>2],32),m=l,m=0|U(0|C,0|O,0|(v=0|F(0|(u=0|w(0,0|i[a>>2],32)),0|l,0|S,0|m)),0|l),v=l,O=0|w(0,0|i[t>>2],32),C=l,C=0|U(0|m,0|v,0|(y=0|F(0|(u=0|w(0,0|i[(S=n+64|0)>>2],32)),0|l,0|O,0|C)),0|l),y=l,m=0|w(0,0|i[(v=t+64|0)>>2],32),O=l,O=0|U(0|C,0|y,0|(A=0|F(0|(u=0|w(0,0|i[n>>2],32)),0|l,0|m,0|O)),0|l),i[(A=e+64|0)>>2]=O,i[A+4>>2]=l,A=0|w(0,0|i[c>>2],32),O=l,C=0|F(0|(y=0|w(0,0|i[d>>2],32)),0|l,0|A,0|O),O=l,A=0|w(0,0|i[g>>2],32),y=l,y=0|U(0|(u=0|F(0|(m=0|w(0,0|i[p>>2],32)),0|l,0|A,0|y)),0|l,0|C,0|O),O=l,C=0|w(0,0|i[s>>2],32),u=l,u=0|U(0|y,0|O,0|(m=0|F(0|(A=0|w(0,0|i[E>>2],32)),0|l,0|C,0|u)),0|l),m=l,O=0|w(0,0|i[h>>2],32),y=l,y=0|U(0|u,0|m,0|(A=0|F(0|(C=0|w(0,0|i[f>>2],32)),0|l,0|O,0|y)),0|l),A=l,m=0|w(0,0|i[_>>2],32),u=l,u=0|U(0|y,0|A,0|(C=0|F(0|(O=0|w(0,0|i[I>>2],32)),0|l,0|m,0|u)),0|l),C=l,A=0|w(0,0|i[T>>2],32),y=l,y=0|U(0|u,0|C,0|(O=0|F(0|(m=0|w(0,0|i[a>>2],32)),0|l,0|A,0|y)),0|l),O=l,C=0|w(0,0|i[o>>2],32),u=l,u=0|U(0|y,0|O,0|(m=0|F(0|(A=0|w(0,0|i[S>>2],32)),0|l,0|C,0|u)),0|l),m=l,O=0|w(0,0|i[v>>2],32),y=l,y=0|U(0|u,0|m,0|(A=0|F(0|(C=0|w(0,0|i[r>>2],32)),0|l,0|O,0|y)),0|l),A=l,m=0|w(0,0|i[t>>2],32),u=l,u=0|U(0|y,0|A,0|(P=0|F(0|(C=0|w(0,0|i[(O=n+72|0)>>2],32)),0|l,0|m,0|u)),0|l),P=l,t=0|w(0,0|i[(A=t+72|0)>>2],32),y=l,y=0|U(0|u,0|P,0|(n=0|F(0|(m=0|w(0,0|i[n>>2],32)),0|l,0|t,0|y)),0|l),i[(n=e+72|0)>>2]=y,i[n+4>>2]=l,n=0|w(0,0|i[g>>2],32),y=l,u=0|F(0|(P=0|w(0,0|i[d>>2],32)),0|l,0|n,0|y),y=l,n=0|w(0,0|i[s>>2],32),P=l,P=0|U(0|(m=0|F(0|(t=0|w(0,0|i[I>>2],32)),0|l,0|n,0|P)),0|l,0|u,0|y),y=l,u=0|w(0,0|i[T>>2],32),m=l,m=0|U(0|P,0|y,0|(t=0|F(0|(n=0|w(0,0|i[f>>2],32)),0|l,0|u,0|m)),0|l),t=l,y=0|w(0,0|i[o>>2],32),o=l,o=0|U(0|m,0|t,0|(u=0|F(0|(P=0|w(0,0|i[O>>2],32)),0|l,0|y,0|o)),0|l),u=l,t=0|w(0,0|i[A>>2],32),m=l,r=0|Y(0|(m=0|U(0|o,0|u,0|(r=0|F(0|(y=0|w(0,0|i[r>>2],32)),0|l,0|t,0|m)),0|l)),0|l,1),m=l,u=0|w(0,0|i[c>>2],32),o=l,o=0|U(0|r,0|m,0|(y=0|F(0|(t=0|w(0,0|i[E>>2],32)),0|l,0|u,0|o)),0|l),y=l,m=0|w(0,0|i[h>>2],32),r=l,r=0|U(0|o,0|y,0|(t=0|F(0|(u=0|w(0,0|i[p>>2],32)),0|l,0|m,0|r)),0|l),t=l,y=0|w(0,0|i[_>>2],32),o=l,o=0|U(0|r,0|t,0|(u=0|F(0|(m=0|w(0,0|i[S>>2],32)),0|l,0|y,0|o)),0|l),u=l,t=0|w(0,0|i[v>>2],32),r=l,r=0|U(0|o,0|u,0|(m=0|F(0|(y=0|w(0,0|i[a>>2],32)),0|l,0|t,0|r)),0|l),i[(m=e+80|0)>>2]=r,i[m+4>>2]=l,m=0|w(0,0|i[g>>2],32),r=l,o=0|F(0|(u=0|w(0,0|i[E>>2],32)),0|l,0|m,0|r),r=l,m=0|w(0,0|i[h>>2],32),u=l,u=0|U(0|(y=0|F(0|(t=0|w(0,0|i[d>>2],32)),0|l,0|m,0|u)),0|l,0|o,0|r),r=l,o=0|w(0,0|i[c>>2],32),y=l,y=0|U(0|u,0|r,0|(t=0|F(0|(m=0|w(0,0|i[I>>2],32)),0|l,0|o,0|y)),0|l),t=l,r=0|w(0,0|i[T>>2],32),u=l,u=0|U(0|y,0|t,0|(m=0|F(0|(o=0|w(0,0|i[p>>2],32)),0|l,0|r,0|u)),0|l),m=l,t=0|w(0,0|i[s>>2],32),y=l,y=0|U(0|u,0|m,0|(o=0|F(0|(r=0|w(0,0|i[S>>2],32)),0|l,0|t,0|y)),0|l),o=l,m=0|w(0,0|i[v>>2],32),u=l,u=0|U(0|y,0|o,0|(r=0|F(0|(t=0|w(0,0|i[f>>2],32)),0|l,0|m,0|u)),0|l),r=l,o=0|w(0,0|i[_>>2],32),_=l,_=0|U(0|u,0|r,0|(m=0|F(0|(y=0|w(0,0|i[O>>2],32)),0|l,0|o,0|_)),0|l),m=l,r=0|w(0,0|i[A>>2],32),u=l,u=0|U(0|_,0|m,0|(a=0|F(0|(o=0|w(0,0|i[a>>2],32)),0|l,0|r,0|u)),0|l),i[(a=e+88|0)>>2]=u,i[a+4>>2]=l,a=0|w(0,0|i[h>>2],32),u=l,_=0|F(0|(m=0|w(0,0|i[E>>2],32)),0|l,0|a,0|u),u=l,a=0|w(0,0|i[g>>2],32),m=l,o=0|F(0|(r=0|w(0,0|i[I>>2],32)),0|l,0|a,0|m),m=l,a=0|w(0,0|i[T>>2],32),r=l,r=0|U(0|(t=0|F(0|(y=0|w(0,0|i[d>>2],32)),0|l,0|a,0|r)),0|l,0|o,0|m),m=l,o=0|w(0,0|i[s>>2],32),s=l,s=0|U(0|r,0|m,0|(a=0|F(0|(t=0|w(0,0|i[O>>2],32)),0|l,0|o,0|s)),0|l),a=l,m=0|w(0,0|i[A>>2],32),r=l,r=0|U(0|s,0|a,0|(f=0|F(0|(o=0|w(0,0|i[f>>2],32)),0|l,0|m,0|r)),0|l),r=0|U(0|(f=0|Y(0|r,0|l,1)),0|l,0|_,0|u),u=l,_=0|w(0,0|i[c>>2],32),f=l,f=0|U(0|r,0|u,0|(s=0|F(0|(a=0|w(0,0|i[S>>2],32)),0|l,0|_,0|f)),0|l),s=l,u=0|w(0,0|i[v>>2],32),r=l,r=0|U(0|f,0|s,0|(a=0|F(0|(_=0|w(0,0|i[p>>2],32)),0|l,0|u,0|r)),0|l),i[(a=e+96|0)>>2]=r,i[a+4>>2]=l,a=0|w(0,0|i[h>>2],32),r=l,f=0|F(0|(s=0|w(0,0|i[I>>2],32)),0|l,0|a,0|r),r=l,a=0|w(0,0|i[T>>2],32),s=l,s=0|U(0|(_=0|F(0|(u=0|w(0,0|i[E>>2],32)),0|l,0|a,0|s)),0|l,0|f,0|r),r=l,f=0|w(0,0|i[g>>2],32),_=l,_=0|U(0|s,0|r,0|(u=0|F(0|(a=0|w(0,0|i[S>>2],32)),0|l,0|f,0|_)),0|l),u=l,r=0|w(0,0|i[v>>2],32),s=l,s=0|U(0|_,0|u,0|(a=0|F(0|(f=0|w(0,0|i[d>>2],32)),0|l,0|r,0|s)),0|l),a=l,u=0|w(0,0|i[c>>2],32),c=l,c=0|U(0|s,0|a,0|(r=0|F(0|(_=0|w(0,0|i[O>>2],32)),0|l,0|u,0|c)),0|l),r=l,a=0|w(0,0|i[A>>2],32),s=l,s=0|U(0|c,0|r,0|(p=0|F(0|(u=0|w(0,0|i[p>>2],32)),0|l,0|a,0|s)),0|l),i[(p=e+104|0)>>2]=s,i[p+4>>2]=l,p=0|w(0,0|i[T>>2],32),s=l,c=0|F(0|(r=0|w(0,0|i[I>>2],32)),0|l,0|p,0|s),s=l,p=0|w(0,0|i[g>>2],32),g=l,g=0|U(0|(a=0|F(0|(r=0|w(0,0|i[O>>2],32)),0|l,0|p,0|g)),0|l,0|c,0|s),s=l,c=0|w(0,0|i[A>>2],32),a=l,d=0|Y(0|(a=0|U(0|g,0|s,0|(d=0|F(0|(p=0|w(0,0|i[d>>2],32)),0|l,0|c,0|a)),0|l)),0|l,1),a=l,s=0|w(0,0|i[h>>2],32),g=l,g=0|U(0|d,0|a,0|(p=0|F(0|(c=0|w(0,0|i[S>>2],32)),0|l,0|s,0|g)),0|l),p=l,a=0|w(0,0|i[v>>2],32),d=l,d=0|U(0|g,0|p,0|(c=0|F(0|(s=0|w(0,0|i[E>>2],32)),0|l,0|a,0|d)),0|l),i[(c=e+112|0)>>2]=d,i[c+4>>2]=l,c=0|w(0,0|i[T>>2],32),d=l,g=0|F(0|(p=0|w(0,0|i[S>>2],32)),0|l,0|c,0|d),d=l,c=0|w(0,0|i[v>>2],32),p=l,p=0|U(0|(s=0|F(0|(a=0|w(0,0|i[I>>2],32)),0|l,0|c,0|p)),0|l,0|g,0|d),d=l,g=0|w(0,0|i[h>>2],32),h=l,h=0|U(0|p,0|d,0|(c=0|F(0|(s=0|w(0,0|i[O>>2],32)),0|l,0|g,0|h)),0|l),c=l,d=0|w(0,0|i[A>>2],32),p=l,p=0|U(0|h,0|c,0|(E=0|F(0|(g=0|w(0,0|i[E>>2],32)),0|l,0|d,0|p)),0|l),i[(E=e+120|0)>>2]=p,i[E+4>>2]=l,E=0|w(0,0|i[v>>2],32),p=l,h=0|F(0|(c=0|w(0,0|i[S>>2],32)),0|l,0|E,0|p),p=l,E=0|w(0,0|i[T>>2],32),T=l,d=0|F(0|(c=0|w(0,0|i[O>>2],32)),0|l,0|E,0|T),T=l,E=0|w(0,0|i[A>>2],32),c=l,c=0|U(0|(I=0|F(0|(g=0|w(0,0|i[I>>2],32)),0|l,0|E,0|c)),0|l,0|d,0|T),c=0|U(0|(T=0|Y(0|c,0|l,1)),0|l,0|h,0|p),i[(p=e+128|0)>>2]=c,i[p+4>>2]=l,p=0|w(0,0|i[v>>2],32),v=l,h=0|F(0|(c=0|w(0,0|i[O>>2],32)),0|l,0|p,0|v),v=l,p=0|w(0,0|i[A>>2],32),c=l,c=0|U(0|(S=0|F(0|(T=0|w(0,0|i[S>>2],32)),0|l,0|p,0|c)),0|l,0|h,0|v),i[(v=e+136|0)>>2]=c,i[v+4>>2]=l,v=0|w(0,0|i[A>>2],31),A=l,O=0|F(0|(c=0|w(0,0|i[O>>2],32)),0|l,0|v,0|A),i[(A=e+144|0)>>2]=O,i[A+4>>2]=l}function P(e,t){e|=0;var n,r,o,s=0,c=0,u=0,d=0,_=0,p=0,f=0,E=0,A=0,g=0,h=0,S=0,T=0,m=0,I=0,y=0,C=0,v=0,O=0,P=0,N=0,b=0,M=0,R=0,D=0,L=0,G=0,k=0,K=0,x=0,H=0,j=0,V=0,W=0,Q=0,$=0,z=0;n=a,a=a+160|0,s=n,d=0|F(0|(r=0|w(0,0|(c=0|i[(t|=0)>>2]),32)),0|(u=l),0|r,0|u),i[(_=s)>>2]=d,i[_+4>>2]=l,_=0|w(0,0|c,31),c=l,A=0|F(0|(f=0|w(0,0|(p=0|i[(d=t+8|0)>>2]),32)),0|(E=l),0|_,0|c),i[(g=o=s+8|0)>>2]=A,i[g+4>>2]=l,g=0|F(0|f,0|E,0|f,0|E),A=l,A=0|Y(0|(I=0|U(0|(m=0|F(0|(S=0|w(0,0|i[(h=t+16|0)>>2],32)),0|(T=l),0|r,0|u)),0|l,0|g,0|A)),0|l,1),i[(g=I=s+16|0)>>2]=A,i[g+4>>2]=l,g=0|F(0|S,0|T,0|f,0|E),A=l,A=0|Y(0|(O=0|U(0|(v=0|F(0|(y=0|w(0,0|i[(m=t+24|0)>>2],32)),0|(C=l),0|r,0|u)),0|l,0|g,0|A)),0|l,1),i[(g=O=s+24|0)>>2]=A,i[g+4>>2]=l,g=0|F(0|S,0|T,0|S,0|T),A=l,v=0|U(0|(P=0|F(0|y,0|C,0|(v=0|w(0,0|p,30)),0|l)),0|l,0|g,0|A),c=0|U(0|v,0|(A=l),0|(b=0|F(0|(P=0|w(0,0|i[(g=t+32|0)>>2],32)),0|(N=l),0|_,0|c)),0|l),i[(A=b=s+32|0)>>2]=c,i[A+4>>2]=l,A=0|F(0|y,0|C,0|S,0|T),c=l,_=0|U(0|(v=0|F(0|P,0|N,0|f,0|E)),0|l,0|A,0|c),R=0|Y(0|(D=0|U(0|_,0|(c=l),0|(R=0|F(0|(v=0|w(0,0|i[(A=t+40|0)>>2],32)),0|(M=l),0|r,0|u)),0|l)),0|l,1),i[(c=D=s+40|0)>>2]=R,i[c+4>>2]=l,c=0|F(0|y,0|C,0|y,0|C),R=l,L=0|U(0|(_=0|F(0|P,0|N,0|S,0|T)),0|l,0|c,0|R),K=0|U(0|L,0|(R=l),0|(k=0|F(0|(_=0|w(0,0|i[(c=t+48|0)>>2],32)),0|(G=l),0|r,0|u)),0|l),p=0|Y(0|(R=0|U(0|K,0|(k=l),0|(p=0|F(0|v,0|M,0|(R=0|w(0,0|p,31)),0|l)),0|l)),0|l,1),i[(k=R=s+48|0)>>2]=p,i[k+4>>2]=l,k=0|F(0|P,0|N,0|y,0|C),p=l,L=0|U(0|(K=0|F(0|v,0|M,0|S,0|T)),0|l,0|k,0|p),K=0|U(0|L,0|(p=l),0|(k=0|F(0|_,0|G,0|f,0|E)),0|l),H=0|Y(0|(j=0|U(0|K,0|(k=l),0|(H=0|F(0|(L=0|w(0,0|i[(p=t+56|0)>>2],32)),0|(x=l),0|r,0|u)),0|l)),0|l,1),i[(k=j=s+56|0)>>2]=H,i[k+4>>2]=l,k=0|F(0|P,0|N,0|P,0|N),H=l,K=0|F(0|_,0|G,0|S,0|T),V=l,u=0|U(0|(z=0|F(0|(Q=0|w(0,0|i[(W=t+64|0)>>2],32)),0|($=l),0|r,0|u)),0|l,0|K,0|V),V=l,K=0|F(0|L,0|x,0|f,0|E),E=l,z=0|U(0|(f=0|F(0|v,0|M,0|y,0|C)),0|l,0|K,0|E),z=0|U(0|u,0|V,0|(E=0|Y(0|z,0|l,1)),0|l),z=0|U(0|(E=0|Y(0|z,0|l,1)),0|l,0|k,0|H),i[(k=H=s+64|0)>>2]=z,i[k+4>>2]=l,k=0|F(0|v,0|M,0|P,0|N),z=l,C=0|U(0|(E=0|F(0|_,0|G,0|y,0|C)),0|l,0|k,0|z),T=0|U(0|C,0|(z=l),0|(k=0|F(0|L,0|x,0|S,0|T)),0|l),S=0|U(0|T,0|(k=l),0|(C=0|F(0|Q,0|$,0|(z=0|w(0,0|i[d>>2],32)),0|(d=l))),0|l),C=l,k=0|w(0,0|i[t>>2],32),T=l,V=0|Y(0|(T=0|U(0|S,0|C,0|(V=0|F(0|(t=0|w(0,0|(E=0|i[t+72>>2]),32)),0|(y=l),0|k,0|T)),0|l)),0|l,1),i[(T=s+72|0)>>2]=V,i[T+4>>2]=l,T=0|F(0|v,0|M,0|v,0|M),V=l,N=0|U(0|(C=0|F(0|_,0|G,0|P,0|N)),0|l,0|T,0|V),P=0|U(0|N,0|(V=l),0|(C=0|F(0|Q,0|$,0|(T=0|w(0,0|i[h>>2],32)),0|(h=l))),0|l),C=l,N=0|F(0|L,0|x,0|(V=0|w(0,0|i[m>>2],32)),0|(m=l)),S=l,S=0|Y(0|(d=0|U(0|(k=0|F(0|t,0|y,0|z,0|d)),0|l,0|N,0|S)),0|l,1),S=0|Y(0|(d=0|U(0|P,0|C,0|S,0|l)),0|l,1),i[(C=d=s+80|0)>>2]=S,i[C+4>>2]=l,C=0|F(0|_,0|G,0|v,0|M),M=l,P=0|U(0|(S=0|F(0|L,0|x,0|(v=0|w(0,0|i[g>>2],32)),0|(g=l))),0|l,0|C,0|M),S=0|U(0|P,0|(M=l),0|(C=0|F(0|Q,0|$,0|V,0|m)),0|l),C=0|Y(0|(h=0|U(0|S,0|(C=l),0|(M=0|F(0|t,0|y,0|T,0|h)),0|l)),0|(M=l),1),S=l,i[(T=s+88|0)>>2]=C,i[T+4>>2]=S,T=0|F(0|_,0|G,0|_,0|G),G=l,_=0|F(0|Q,0|$,0|v,0|g),P=l,z=0|F(0|L,0|x,0|(A=0|w(0,0|(N=0|i[A>>2]),32)),0|(k=l)),u=l,m=0|U(0|(K=0|F(0|t,0|y,0|V,0|m)),0|l,0|z,0|u),m=0|U(0|(u=0|Y(0|m,0|l,1)),0|l,0|_,0|P),m=0|U(0|(P=0|Y(0|m,0|l,1)),0|l,0|T,0|G),G=l,i[(T=s+96|0)>>2]=m,i[T+4>>2]=G,P=0|F(0|L,0|x,0|(T=0|w(0,0|i[c>>2],32)),0|(c=l)),x=l,k=0|U(0|(L=0|F(0|Q,0|$,0|A,0|k)),0|l,0|P,0|x),x=0|Y(0|(g=0|U(0|k,0|(x=l),0|(P=0|F(0|t,0|y,0|v,0|g)),0|l)),0|(P=l),1),k=l,i[(v=s+104|0)>>2]=x,i[v+4>>2]=k,A=0|F(0|(p=0|w(0,0|(v=0|i[p>>2]),32)),0|(L=l),0|p,0|L),_=l,$=0|U(0|(u=0|F(0|Q,0|$,0|T,0|c)),0|l,0|A,0|_),_=0|Y(0|(A=0|U(0|$,0|(_=l),0|(N=0|F(0|t,0|y,0|(A=0|w(0,0|N,31)),0|l)),0|l)),0|(N=l),1),$=l,i[(u=s+112|0)>>2]=_,i[u+4>>2]=$,z=0|F(0|(W=0|w(0,0|(u=0|i[W>>2]),32)),0|(Q=l),0|p,0|L),L=l,z=0|Y(0|(c=0|U(0|(p=0|F(0|t,0|y,0|T,0|c)),0|l,0|z,0|L)),0|(L=l),1),p=l,i[(T=s+120|0)>>2]=z,i[T+4>>2]=p,T=0|F(0|W,0|Q,0|W,0|Q),Q=l,W=0|U(0|(v=0|F(0|t,0|y,0|(W=0|w(0,0|v,30)),0|l)),0|l,0|T,0|Q),Q=l,i[(T=s+128|0)>>2]=W,i[T+4>>2]=Q,u=0|F(0|t,0|y,0|(T=0|w(0,0|u,31)),0|l),T=l,i[(v=s+136|0)>>2]=u,i[v+4>>2]=T,E=0|F(0|(v=0|w(0,0|E,31)),0|l,0|t,0|y),y=l,i[(t=s+144|0)>>2]=E,i[t+4>>2]=y,v=0|i[(t=H)>>2],K=0|i[t+4>>2],t=0|F(0|E,0|y,18,0),V=l,f=0|U(0|E,0|y,0|v,0|K),K=0|U(0|f,0|l,0|t,0|V),i[(V=H)>>2]=K,i[V+4>>2]=l,K=0|i[(V=j)>>2],H=0|i[V+4>>2],V=0|F(0|u,0|T,18,0),t=l,f=0|U(0|K,0|H,0|u,0|T),T=0|U(0|f,0|l,0|V,0|t),i[(t=j)>>2]=T,i[t+4>>2]=l,T=0|i[(t=R)>>2],j=0|i[t+4>>2],t=0|F(0|W,0|Q,18,0),V=l,f=0|U(0|T,0|j,0|W,0|Q),Q=0|U(0|f,0|l,0|t,0|V),i[(V=R)>>2]=Q,i[V+4>>2]=l,Q=0|i[(V=D)>>2],R=0|i[V+4>>2],V=0|F(0|c,0|L,36,0),L=l,c=0|U(0|Q,0|R,0|z,0|p),p=0|U(0|c,0|l,0|V,0|L),i[(L=D)>>2]=p,i[L+4>>2]=l,p=0|i[(L=b)>>2],D=0|i[L+4>>2],L=0|F(0|A,0|N,36,0),N=l,A=0|U(0|p,0|D,0|_,0|$),$=0|U(0|A,0|l,0|L,0|N),i[(N=b)>>2]=$,i[N+4>>2]=l,$=0|i[(N=O)>>2],b=0|i[N+4>>2],N=0|F(0|g,0|P,36,0),P=l,g=0|U(0|$,0|b,0|x,0|k),k=0|U(0|g,0|l,0|N,0|P),i[(P=O)>>2]=k,i[P+4>>2]=l,k=0|i[(P=I)>>2],O=0|i[P+4>>2],P=0|F(0|m,0|G,18,0),N=l,g=0|U(0|k,0|O,0|m,0|G),G=0|U(0|g,0|l,0|P,0|N),i[(N=I)>>2]=G,i[N+4>>2]=l,G=0|i[(N=o)>>2],I=0|i[N+4>>2],N=0|F(0|h,0|M,36,0),M=l,h=0|U(0|G,0|I,0|C,0|S),S=0|U(0|h,0|l,0|N,0|M),i[(M=o)>>2]=S,i[M+4>>2]=l,S=0|i[(M=d)>>2],N=0|i[M+4>>2],h=0|i[(M=s)>>2],C=0|i[M+4>>2],M=0|F(0|S,0|N,18,0),I=l,G=0|U(0|h,0|C,0|S,0|N),N=0|U(0|G,0|l,0|M,0|I),I=l,i[(M=s)>>2]=N,i[M+4>>2]=I,i[(M=d)>>2]=0,i[M+4>>2]=0,M=I,I=N,N=0;do{h=0|B(0|I,0|M,0|(C=0|Y(0|(S=0|w(0|(G=0|U(M>>31>>>6|0,0,0|I,0|M)),0|l,26)),0|(G=l),26)),0|l),i[(C=s+(N<<3)|0)>>2]=h,i[C+4>>2]=l,m=0|B(0|(P=0|U(0|S,0|G,0|i[(h=C=s+((1|N)<<3)|0)>>2],0|i[h+4>>2])),0|(h=l),0|(g=0|Y(0|(S=0|w(0|(G=0|U(h>>31>>>7|0,0,0|P,0|h)),0|l,25)),0|(G=l),25)),0|l),i[(g=C)>>2]=m,i[g+4>>2]=l,I=0|U(0|S,0|G,0|i[(m=g=s+((N=N+2|0)<<3)|0)>>2],0|i[m+4>>2]),M=l,i[(m=g)>>2]=I,i[m+4>>2]=M}while(N>>>0<10);M=0|i[(N=d)>>2],I=0|i[N+4>>2],m=0|i[(N=s)>>2],g=0|i[N+4>>2],N=0|F(0|M,0|I,18,0),G=l,S=0|U(0|m,0|g,0|M,0|I),I=0|U(0|S,0|l,0|N,0|G),G=l,i[(N=d)>>2]=0,i[N+4>>2]=0,M=0|B(0|I,0|G,0|(S=0|Y(0|(d=0|w(0|(N=0|U(G>>31>>>6|0,0,0|I,0|G)),0|l,26)),0|(N=l),26)),0|l),i[(S=s)>>2]=M,i[S+4>>2]=l,M=0|U(0|d,0|N,0|i[(S=o)>>2],0|i[S+4>>2]),i[(S=o)>>2]=M,i[S+4>>2]=l,S=e,e=s,s=S+80|0;do{i[S>>2]=i[e>>2],S=S+4|0,e=e+4|0}while((0|S)<(0|s));a=n}function N(){return 0|(0|i[2]?0|i[60+(0|p())>>2]:56)}function b(e){var t=0;return(e|=0)>>>0>4294963200?(i[(0|N())>>2]=0-e,t=-1):t=e,0|t}function M(e){return 0,0}function R(e){0}function D(e,t,n){t|=0,n|=0;var r,o,s,l,c,u=0,_=0,p=0,f=0,E=0,A=0,g=0,h=0,S=0,T=0,m=0,y=0,v=0,O=0,P=0,N=0;for(r=a,a=a+48|0,o=r+16|0,s=r,u=r+32|0,_=0|i[(l=(e|=0)+28|0)>>2],i[u>>2]=_,p=(0|i[(c=e+20|0)>>2])-_|0,i[u+4>>2]=p,i[u+8>>2]=t,i[u+12>>2]=n,t=e+60|0,_=e+44|0,f=u,u=2,E=p+n|0;;){if(0|i[2]?(I(1,0|e),i[s>>2]=i[t>>2],i[s+4>>2]=f,i[s+8>>2]=u,p=0|b(0|C(146,0|s)),d(0),A=p):(i[o>>2]=i[t>>2],i[o+4>>2]=f,i[o+8>>2]=u,A=0|b(0|C(146,0|o))),(0|E)==(0|A)){g=6;break}if((0|A)<0){h=f,S=u,g=8;break}p=E-A|0,A>>>0<=(T=0|i[f+4>>2])>>>0?2==(0|u)?(i[l>>2]=(0|i[l>>2])+A,m=T,y=A,v=f,O=2):(m=T,y=A,v=f,O=u):(P=0|i[_>>2],i[l>>2]=P,i[c>>2]=P,m=0|i[f+12>>2],y=A-T|0,v=f+8|0,O=u+-1|0),i[v>>2]=(0|i[v>>2])+y,i[v+4>>2]=m-y,f=v,u=O,E=p}return 6==(0|g)?(E=0|i[_>>2],i[e+16>>2]=E+(0|i[e+48>>2]),_=E,i[l>>2]=_,i[c>>2]=_,N=n):8==(0|g)&&(i[e+16>>2]=0,i[l>>2]=0,i[c>>2]=0,i[e>>2]=32|i[e>>2],N=2==(0|S)?0:n-(0|i[h+4>>2])|0),a=r,0|N}function L(e){var t,n,r=0,o=0,a=0,s=0,l=0;return n=(e|=0)+28|0,(0|i[(t=e+20|0)>>2])>>>0>(0|i[n>>2])>>>0&&(x[3&i[e+36>>2]](e,0,0),0==(0|i[t>>2]))?r=-1:((a=0|i[(o=e+4|0)>>2])>>>0<(l=0|i[(s=e+8|0)>>2])>>>0&&x[3&i[e+40>>2]](e,a-l|0,1),i[e+16>>2]=0,i[n>>2]=0,i[t>>2]=0,i[s>>2]=0,i[o>>2]=0,r=0),0|r}function w(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(l=t>>n,e>>>n|(t&(1<<n)-1)<<32-n):(l=(0|t)<0?-1:0,t>>n-32|0)}function B(e,t,n,r){return(t|=0)-(r|=0)>>>0,0|(l=t-r-((n|=0)>>>0>(e|=0)>>>0|0)>>>0,e-n>>>0|0)}function U(e,t,n,r){var i;return 0|(l=(t|=0)+(r|=0)+((i=(e|=0)+(n|=0)>>>0)>>>0<e>>>0|0)>>>0,0|i)}function G(e,t,n){t|=0;var o,a=0,s=0,l=0;if(o=(e|=0)+(n|=0)|0,(0|n)>=20){if(s=(t&=255)|t<<8|t<<16|t<<24,l=-4&o,a=3&e)for(a=e+4-a|0;(0|e)<(0|a);)r[e>>0]=t,e=e+1|0;for(;(0|e)<(0|l);)i[e>>2]=s,e=e+4|0}for(;(0|e)<(0|o);)r[e>>0]=t,e=e+1|0;return e-n|0}function k(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(l=t>>>n,e>>>n|(t&(1<<n)-1)<<32-n):(l=0,t>>>n-32|0)}function Y(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(l=t<<n|(e&(1<<n)-1<<32-n)>>>32-n,e<<n):(l=e<<n-32,0)}function F(e,t,n,r){t|=0,r|=0;var i,o;return n=0|function(e,t){var n,r,i,o=0;return e=((r=0|c(o=65535&(t|=0),n=65535&(e|=0)))>>>16)+(0|c(o,i=e>>>16))|0,t=0|c(o=t>>>16,n),0|(l=(e>>>16)+(0|c(o,i))+(((65535&e)+t|0)>>>16)|0,e+t<<16|65535&r|0)}(i=e|=0,e=n|=0),o=l,0|(l=(0|c(t,e))+(0|c(r,i))+o|0&o,0|n)}var K=[function(e){return 0,u(0),0},function(e){var t,n;return e|=0,t=a,a=a+16|0,i[(n=t)>>2]=i[e+60>>2],e=0|b(0|f(6,0|n)),a=t,0|e}],x=[function(e,t,n){return 0,0,0,u(1),0},function(e,t,n){t|=0,n|=0;var o,s=0;return o=a,a=a+80|0,s=o,i[(e|=0)+36>>2]=3,0==(64&i[e>>2]|0)&&(i[s>>2]=i[e+60>>2],i[s+4>>2]=21505,i[s+8>>2]=o+12,0!=(0|S(54,0|s)))&&(r[e+75>>0]=-1),s=0|D(e,t,n),a=o,0|s},function(e,t,n){e|=0,t|=0,n|=0;var r,o,s,l=0;return r=a,a=a+32|0,s=r+20|0,i[(o=r)>>2]=i[e+60>>2],i[o+4>>2]=0,i[o+8>>2]=t,i[o+12>>2]=s,i[o+16>>2]=n,(0|b(0|m(140,0|o)))<0?(i[s>>2]=-1,l=-1):l=0|i[s>>2],a=r,0|l},D],H=[function(e){u(2)},function(e){0|i[(e|=0)+68>>2]||R()}];return{_curve25519_donna:function(e,t,n){e|=0,n|=0;var s,u,d,_,p,f,E,A,g,h,S,T,m,I,y,C,N,b,M,R,D,L,K,x,H,j,V,W,Q,$,z,J,q,X,Z,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,_e,pe,fe,Ee,Ae,ge,he,Se,Te,me,Ie,ye,Ce=0,ve=0,Oe=0,Pe=0,Ne=0,be=0,Me=0,Re=0,De=0,Le=0,we=0,Be=0,Ue=0,Ge=0,ke=0,Ye=0,Fe=0,Ke=0,xe=0,He=0,je=0,Ve=0,We=0,Qe=0,$e=0,ze=0,Je=0,qe=0,Xe=0,Ze=0,et=0,tt=0,nt=0,rt=0,it=0,ot=0,at=0,st=0,lt=0,ct=0,ut=0,dt=0,_t=0,pt=0,ft=0,Et=0,At=0,gt=0,ht=0,St=0,Tt=0,mt=0,It=0,yt=0,Ct=0,vt=0,Ot=0,Pt=0,Nt=0,bt=0,Mt=0,Rt=0,Dt=0,Lt=0,wt=0,Bt=0,Ut=0,Gt=0,kt=0,Yt=0,Ft=0,Kt=0,xt=0,Ht=0,jt=0,Vt=0,Wt=0,Qt=0,$t=0,zt=0,Jt=0,qt=0,Xt=0,Zt=0,en=0,tn=0,nn=0,rn=0,on=0,an=0,sn=0,ln=0,cn=0,un=0,dn=0,_n=0,pn=0,fn=0,En=0,An=0,gn=0,hn=0,Sn=0,Tn=0,mn=0,In=0,yn=0,Cn=0,vn=0,On=0,Pn=0,Nn=0,bn=0,Mn=0,Rn=0,Dn=0,Ln=0,wn=0;s=a,a=a+2640|0,Ce=s+2456|0,ve=s+2304|0,Oe=s+2152|0,Pe=s+2e3|0,Ne=s+1848|0,be=s+1696|0,Me=s+1544|0,Re=s+1392|0,De=s+1240|0,Le=s+1088|0,we=s+936|0,Be=s+784|0,Ue=s+632|0,Ge=s+480|0,ke=s+328|0,u=s+248|0,Ye=s+168|0,Fe=s+80|0,Ke=s,He=t|=0,t=(xe=d=s+2608|0)+32|0;do{r[xe>>0]=0|r[He>>0],xe=xe+1|0,He=He+1|0}while((0|xe)<(0|t));r[d>>0]=248&(0|o[d>>0]),r[(je=d+31|0)>>0]=63&(0|o[je>>0])|64,je=0|o[n>>0],Ve=0|Y(0|o[n+1>>0],0,8),We=l,Qe=0|Y(0|o[n+2>>0],0,16),$e=We|l,ze=0|Y(0|(We=0|o[n+3>>0]),0,24),i[(Je=u)>>2]=Ve|je|Qe|50331648&ze,i[Je+4>>2]=$e,$e=0|Y(0|o[n+4>>0],0,8),Je=l,ze=0|Y(0|o[n+5>>0],0,16),Qe=Je|l,Ve=0|k($e|We|ze|(je=0|Y(0|(Je=0|o[n+6>>0]),0,24))|0,Qe|l|0,2),i[(Qe=u+8|0)>>2]=33554431&Ve,i[Qe+4>>2]=0,Qe=0|Y(0|o[n+7>>0],0,8),Ve=l,je=0|Y(0|o[n+8>>0],0,16),ze=Ve|l,$e=0|k(Qe|Je|je|(We=0|Y(0|(Ve=0|o[n+9>>0]),0,24))|0,ze|l|0,3),i[(ze=u+16|0)>>2]=67108863&$e,i[ze+4>>2]=0,ze=0|Y(0|o[n+10>>0],0,8),$e=l,We=0|Y(0|o[n+11>>0],0,16),je=$e|l,Qe=0|k(ze|Ve|We|(Je=0|Y(0|($e=0|o[n+12>>0]),0,24))|0,je|l|0,5),i[(je=u+24|0)>>2]=33554431&Qe,i[je+4>>2]=0,je=0|Y(0|o[n+13>>0],0,8),Qe=l,Je=0|Y(0|o[n+14>>0],0,16),We=Qe|l,Ve=0|k(je|$e|Je|(Qe=0|Y(0|o[n+15>>0],0,24))|0,We|l|0,6),i[(We=u+32|0)>>2]=67108863&Ve,i[We+4>>2]=0,We=0|o[n+16>>0],Ve=0|Y(0|o[n+17>>0],0,8),Qe=l,Je=0|Y(0|o[n+18>>0],0,16),$e=Qe|l,je=0|Y(0|(Qe=0|o[n+19>>0]),0,24),i[(ze=u+40|0)>>2]=Ve|We|Je|16777216&je,i[ze+4>>2]=$e,$e=0|Y(0|o[n+20>>0],0,8),ze=l,je=0|Y(0|o[n+21>>0],0,16),Je=ze|l,Ve=0|k($e|Qe|je|(We=0|Y(0|(ze=0|o[n+22>>0]),0,24))|0,Je|l|0,1),i[(Je=u+48|0)>>2]=67108863&Ve,i[Je+4>>2]=0,Je=0|Y(0|o[n+23>>0],0,8),Ve=l,We=0|Y(0|o[n+24>>0],0,16),je=Ve|l,$e=0|k(Je|ze|We|(Qe=0|Y(0|(Ve=0|o[n+25>>0]),0,24))|0,je|l|0,3),i[(je=u+56|0)>>2]=33554431&$e,i[je+4>>2]=0,je=0|Y(0|o[n+26>>0],0,8),$e=l,Qe=0|Y(0|o[n+27>>0],0,16),We=$e|l,Je=0|k(je|Ve|Qe|(ze=0|Y(0|($e=0|o[n+28>>0]),0,24))|0,We|l|0,4),i[(We=u+64|0)>>2]=67108863&Je,i[We+4>>2]=0,We=0|Y(0|o[n+29>>0],0,8),Je=l,ze=0|Y(0|o[n+30>>0],0,16),Qe=Je|l,n=0|k(We|$e|ze|(Je=0|Y(0|o[n+31>>0],0,24))|0,Qe|l|0,6),i[(Qe=u+72|0)>>2]=33554431&n,i[Qe+4>>2]=0,G(0|De,0,152),i[(Qe=De)>>2]=1,i[Qe+4>>2]=0,G(0|Le,0,152),i[(Qe=Le)>>2]=1,i[Qe+4>>2]=0,G(0|we,0,152),G(0|Be,0,152),G(0|Ue,0,152),i[(Qe=Ue)>>2]=1,i[Qe+4>>2]=0,G(0|Ge,0,152),G(0|ke,0,152),i[(Qe=ke)>>2]=1,i[Qe+4>>2]=0,t=(xe=Re+80|0)+72|0;do{i[xe>>2]=0,xe=xe+4|0}while((0|xe)<(0|t));He=u,t=(xe=Re)+80|0;do{i[xe>>2]=i[He>>2],xe=xe+4|0,He=He+4|0}while((0|xe)<(0|t));for(Qe=Pe+144|0,n=Pe+64|0,Je=Pe+136|0,ze=Pe+56|0,$e=Pe+128|0,We=Pe+48|0,Ve=Pe+120|0,je=Pe+40|0,_=Pe+112|0,p=Pe+32|0,f=Pe+104|0,E=Pe+24|0,A=Pe+96|0,g=Pe+16|0,h=Pe+88|0,S=Pe+8|0,T=Pe+80|0,m=Ne+144|0,I=Ne+64|0,y=Ne+136|0,C=Ne+56|0,N=Ne+128|0,b=Ne+48|0,M=Ne+120|0,R=Ne+40|0,D=Ne+112|0,L=Ne+32|0,K=Ne+104|0,x=Ne+24|0,H=Ne+96|0,j=Ne+16|0,V=Ne+88|0,W=Ne+8|0,Q=Ne+80|0,$=Pe+72|0,z=Ne+72|0,J=ve+8|0,q=Oe+8|0,X=ve+16|0,Z=Oe+16|0,ee=ve+24|0,te=Oe+24|0,ne=ve+32|0,re=Oe+32|0,ie=ve+40|0,oe=Oe+40|0,ae=ve+48|0,se=Oe+48|0,le=ve+56|0,ce=Oe+56|0,ue=ve+64|0,de=Oe+64|0,_e=ve+72|0,pe=Oe+72|0,fe=Ce+80|0,Ee=Ce+8|0,Ae=Ce+16|0,ge=Ce+24|0,he=Ce+32|0,Se=Ce+40|0,Te=Ce+48|0,me=Ce+56|0,Ie=Ce+64|0,ye=Ce+72|0,qe=0,Xe=Re,Ze=Be,Be=De,et=Ue,Ue=Le,tt=Ge,Ge=we,we=ke;;){for(ke=0|r[d+(31-qe)>>0],nt=0,rt=Xe,it=Ze,ot=Be,at=et,st=Ue,lt=tt,ct=Ge,ut=we;;){_t=0|B(0,0,(dt=255&ke)>>>7|0,0),pt=l,ft=0;do{gt=0|i[(At=Et=st+(ft<<3)|0)>>2],ht=0|i[At+4>>2],Tt=0|i[(St=At=rt+(ft<<3)|0)>>2],It=((mt=0|i[St+4>>2])^ht)&pt,ht=0|w(0,(St=(Tt^gt)&_t)^gt|0,32),i[(gt=Et)>>2]=ht,i[gt+4>>2]=l,gt=0|w(0,St^Tt|0,32),i[(Tt=At)>>2]=gt,i[Tt+4>>2]=l,ft=ft+1|0}while(10!=(0|ft));yt=0;do{gt=0|i[(Tt=ft=ct+(yt<<3)|0)>>2],At=0|i[Tt+4>>2],ht=0|i[(St=Tt=ot+(yt<<3)|0)>>2],mt=((Et=0|i[St+4>>2])^At)&pt,At=0|w(0,(St=(ht^gt)&_t)^gt|0,32),i[(gt=ft)>>2]=At,i[gt+4>>2]=l,gt=0|w(0,St^ht|0,32),i[(ht=Tt)>>2]=gt,i[ht+4>>2]=l,yt=yt+1|0}while(10!=(0|yt));gt=0|i[(ht=st)>>2],Tt=0|i[ht+4>>2],At=0|i[(St=ht=st+8|0)>>2],ft=0|i[St+4>>2],mt=0|i[(Et=St=st+16|0)>>2],It=0|i[Et+4>>2],vt=0|i[(Ct=Et=st+24|0)>>2],Ot=0|i[Ct+4>>2],Nt=0|i[(Pt=Ct=st+32|0)>>2],bt=0|i[Pt+4>>2],Rt=0|i[(Mt=Pt=st+40|0)>>2],Dt=0|i[Mt+4>>2],wt=0|i[(Lt=Mt=st+48|0)>>2],Bt=0|i[Lt+4>>2],Gt=0|i[(Ut=Lt=st+56|0)>>2],kt=0|i[Ut+4>>2],Ft=0|i[(Yt=Ut=st+64|0)>>2],Kt=0|i[Yt+4>>2],Ht=0|i[(xt=Yt=st+72|0)>>2],jt=0|i[xt+4>>2],xt=0|U(0|(Vt=0|i[(xt=ct)>>2]),0|(Wt=0|i[xt+4>>2]),0|gt,0|Tt),i[(Qt=st)>>2]=xt,i[Qt+4>>2]=l,xt=0|U(0|($t=0|i[(xt=Qt=ct+8|0)>>2]),0|(zt=0|i[xt+4>>2]),0|At,0|ft),i[(Jt=ht)>>2]=xt,i[Jt+4>>2]=l,xt=0|U(0|(ht=0|i[(xt=Jt=ct+16|0)>>2]),0|(qt=0|i[xt+4>>2]),0|mt,0|It),i[(Xt=St)>>2]=xt,i[Xt+4>>2]=l,xt=0|U(0|(St=0|i[(xt=Xt=ct+24|0)>>2]),0|(Zt=0|i[xt+4>>2]),0|vt,0|Ot),i[(en=Et)>>2]=xt,i[en+4>>2]=l,xt=0|U(0|(Et=0|i[(xt=en=ct+32|0)>>2]),0|(tn=0|i[xt+4>>2]),0|Nt,0|bt),i[(nn=Ct)>>2]=xt,i[nn+4>>2]=l,xt=0|U(0|(Ct=0|i[(xt=nn=ct+40|0)>>2]),0|(rn=0|i[xt+4>>2]),0|Rt,0|Dt),i[(on=Pt)>>2]=xt,i[on+4>>2]=l,xt=0|U(0|(Pt=0|i[(xt=on=ct+48|0)>>2]),0|(an=0|i[xt+4>>2]),0|wt,0|Bt),i[(sn=Mt)>>2]=xt,i[sn+4>>2]=l,xt=0|U(0|(Mt=0|i[(xt=sn=ct+56|0)>>2]),0|(ln=0|i[xt+4>>2]),0|Gt,0|kt),i[(cn=Lt)>>2]=xt,i[cn+4>>2]=l,xt=0|U(0|(Lt=0|i[(xt=cn=ct+64|0)>>2]),0|(un=0|i[xt+4>>2]),0|Ft,0|Kt),i[(dn=Ut)>>2]=xt,i[dn+4>>2]=l,xt=0|U(0|(Ut=0|i[(xt=dn=ct+72|0)>>2]),0|(_n=0|i[xt+4>>2]),0|Ht,0|jt),i[(pn=Yt)>>2]=xt,i[pn+4>>2]=l,pn=0|B(0|gt,0|Tt,0|Vt,0|Wt),i[(Wt=ct)>>2]=pn,i[Wt+4>>2]=l,Wt=0|B(0|At,0|ft,0|$t,0|zt),i[(zt=Qt)>>2]=Wt,i[zt+4>>2]=l,zt=0|B(0|mt,0|It,0|ht,0|qt),i[(qt=Jt)>>2]=zt,i[qt+4>>2]=l,qt=0|B(0|vt,0|Ot,0|St,0|Zt),i[(Zt=Xt)>>2]=qt,i[Zt+4>>2]=l,Zt=0|B(0|Nt,0|bt,0|Et,0|tn),i[(tn=en)>>2]=Zt,i[tn+4>>2]=l,tn=0|B(0|Rt,0|Dt,0|Ct,0|rn),i[(rn=nn)>>2]=tn,i[rn+4>>2]=l,rn=0|B(0|wt,0|Bt,0|Pt,0|an),i[(an=on)>>2]=rn,i[an+4>>2]=l,an=0|B(0|Gt,0|kt,0|Mt,0|ln),i[(ln=sn)>>2]=an,i[ln+4>>2]=l,ln=0|B(0|Ft,0|Kt,0|Lt,0|un),i[(un=cn)>>2]=ln,i[un+4>>2]=l,un=0|B(0|Ht,0|jt,0|Ut,0|_n),i[(_n=dn)>>2]=un,i[_n+4>>2]=l,un=0|i[(_n=rt)>>2],dn=0|i[_n+4>>2],jt=0|i[(Ut=_n=rt+8|0)>>2],Ht=0|i[Ut+4>>2],cn=0|i[(ln=Ut=rt+16|0)>>2],Lt=0|i[ln+4>>2],Ft=0|i[(Kt=ln=rt+24|0)>>2],an=0|i[Kt+4>>2],Mt=0|i[(sn=Kt=rt+32|0)>>2],kt=0|i[sn+4>>2],rn=0|i[(Gt=sn=rt+40|0)>>2],on=0|i[Gt+4>>2],Bt=0|i[(Pt=Gt=rt+48|0)>>2],wt=0|i[Pt+4>>2],nn=0|i[(tn=Pt=rt+56|0)>>2],Ct=0|i[tn+4>>2],Rt=0|i[(Dt=tn=rt+64|0)>>2],Zt=0|i[Dt+4>>2],Et=0|i[(en=Dt=rt+72|0)>>2],bt=0|i[en+4>>2],en=0|U(0|(Nt=0|i[(en=ot)>>2]),0|(qt=0|i[en+4>>2]),0|un,0|dn),i[(Xt=rt)>>2]=en,i[Xt+4>>2]=l,en=0|U(0|(St=0|i[(en=Xt=ot+8|0)>>2]),0|(Ot=0|i[en+4>>2]),0|jt,0|Ht),i[(vt=_n)>>2]=en,i[vt+4>>2]=l,en=0|U(0|(_n=0|i[(en=vt=ot+16|0)>>2]),0|(zt=0|i[en+4>>2]),0|cn,0|Lt),i[(Jt=Ut)>>2]=en,i[Jt+4>>2]=l,en=0|U(0|(Ut=0|i[(en=Jt=ot+24|0)>>2]),0|(ht=0|i[en+4>>2]),0|Ft,0|an),i[(It=ln)>>2]=en,i[It+4>>2]=l,en=0|U(0|(ln=0|i[(en=It=ot+32|0)>>2]),0|(mt=0|i[en+4>>2]),0|Mt,0|kt),i[(Wt=Kt)>>2]=en,i[Wt+4>>2]=l,en=0|U(0|(Kt=0|i[(en=Wt=ot+40|0)>>2]),0|(Qt=0|i[en+4>>2]),0|rn,0|on),i[($t=sn)>>2]=en,i[$t+4>>2]=l,en=0|U(0|(sn=0|i[(en=$t=ot+48|0)>>2]),0|(ft=0|i[en+4>>2]),0|Bt,0|wt),i[(At=Gt)>>2]=en,i[At+4>>2]=l,en=0|U(0|(Gt=0|i[(en=At=ot+56|0)>>2]),0|(pn=0|i[en+4>>2]),0|nn,0|Ct),i[(Vt=Pt)>>2]=en,i[Vt+4>>2]=l,en=0|U(0|(Pt=0|i[(en=Vt=ot+64|0)>>2]),0|(Tt=0|i[en+4>>2]),0|Rt,0|Zt),i[(gt=tn)>>2]=en,i[gt+4>>2]=l,en=0|U(0|(tn=0|i[(en=gt=ot+72|0)>>2]),0|(xt=0|i[en+4>>2]),0|Et,0|bt),i[(Yt=Dt)>>2]=en,i[Yt+4>>2]=l,Yt=0|B(0|un,0|dn,0|Nt,0|qt),i[(qt=ot)>>2]=Yt,i[qt+4>>2]=l,qt=0|B(0|jt,0|Ht,0|St,0|Ot),i[(Ot=Xt)>>2]=qt,i[Ot+4>>2]=l,Ot=0|B(0|cn,0|Lt,0|_n,0|zt),i[(zt=vt)>>2]=Ot,i[zt+4>>2]=l,zt=0|B(0|Ft,0|an,0|Ut,0|ht),i[(ht=Jt)>>2]=zt,i[ht+4>>2]=l,ht=0|B(0|Mt,0|kt,0|ln,0|mt),i[(mt=It)>>2]=ht,i[mt+4>>2]=l,mt=0|B(0|rn,0|on,0|Kt,0|Qt),i[(Qt=Wt)>>2]=mt,i[Qt+4>>2]=l,Qt=0|B(0|Bt,0|wt,0|sn,0|ft),i[(ft=$t)>>2]=Qt,i[ft+4>>2]=l,ft=0|B(0|nn,0|Ct,0|Gt,0|pn),i[(pn=At)>>2]=ft,i[pn+4>>2]=l,pn=0|B(0|Rt,0|Zt,0|Pt,0|Tt),i[(Tt=Vt)>>2]=pn,i[Tt+4>>2]=l,Tt=0|B(0|Et,0|bt,0|tn,0|xt),i[(xt=gt)>>2]=Tt,i[xt+4>>2]=l,O(Pe,rt,ct),O(Ne,st,ot),Tt=0|i[(xt=Qe)>>2],gt=0|i[xt+4>>2],tn=0|i[(xt=n)>>2],bt=0|i[xt+4>>2],xt=0|F(0|Tt,0|gt,18,0),Et=l,pn=0|U(0|tn,0|bt,0|Tt,0|gt),gt=0|U(0|pn,0|l,0|xt,0|Et),i[(Et=n)>>2]=gt,i[Et+4>>2]=l,gt=0|i[(Et=Je)>>2],xt=0|i[Et+4>>2],pn=0|i[(Et=ze)>>2],Tt=0|i[Et+4>>2],Et=0|F(0|gt,0|xt,18,0),bt=l,tn=0|U(0|pn,0|Tt,0|gt,0|xt),xt=0|U(0|tn,0|l,0|Et,0|bt),i[(bt=ze)>>2]=xt,i[bt+4>>2]=l,xt=0|i[(bt=$e)>>2],Et=0|i[bt+4>>2],tn=0|i[(bt=We)>>2],gt=0|i[bt+4>>2],bt=0|F(0|xt,0|Et,18,0),Tt=l,pn=0|U(0|tn,0|gt,0|xt,0|Et),Et=0|U(0|pn,0|l,0|bt,0|Tt),i[(Tt=We)>>2]=Et,i[Tt+4>>2]=l,Et=0|i[(Tt=Ve)>>2],bt=0|i[Tt+4>>2],pn=0|i[(Tt=je)>>2],xt=0|i[Tt+4>>2],Tt=0|F(0|Et,0|bt,18,0),gt=l,tn=0|U(0|pn,0|xt,0|Et,0|bt),bt=0|U(0|tn,0|l,0|Tt,0|gt),i[(gt=je)>>2]=bt,i[gt+4>>2]=l,bt=0|i[(gt=_)>>2],Tt=0|i[gt+4>>2],tn=0|i[(gt=p)>>2],Et=0|i[gt+4>>2],gt=0|F(0|bt,0|Tt,18,0),xt=l,pn=0|U(0|tn,0|Et,0|bt,0|Tt),Tt=0|U(0|pn,0|l,0|gt,0|xt),i[(xt=p)>>2]=Tt,i[xt+4>>2]=l,Tt=0|i[(xt=f)>>2],gt=0|i[xt+4>>2],pn=0|i[(xt=E)>>2],bt=0|i[xt+4>>2],xt=0|F(0|Tt,0|gt,18,0),Et=l,tn=0|U(0|pn,0|bt,0|Tt,0|gt),gt=0|U(0|tn,0|l,0|xt,0|Et),i[(Et=E)>>2]=gt,i[Et+4>>2]=l,gt=0|i[(Et=A)>>2],xt=0|i[Et+4>>2],tn=0|i[(Et=g)>>2],Tt=0|i[Et+4>>2],Et=0|F(0|gt,0|xt,18,0),bt=l,pn=0|U(0|tn,0|Tt,0|gt,0|xt),xt=0|U(0|pn,0|l,0|Et,0|bt),i[(bt=g)>>2]=xt,i[bt+4>>2]=l,xt=0|i[(bt=h)>>2],Et=0|i[bt+4>>2],pn=0|i[(bt=S)>>2],gt=0|i[bt+4>>2],bt=0|F(0|xt,0|Et,18,0),Tt=l,tn=0|U(0|pn,0|gt,0|xt,0|Et),Et=0|U(0|tn,0|l,0|bt,0|Tt),i[(Tt=S)>>2]=Et,i[Tt+4>>2]=l,Et=0|i[(Tt=T)>>2],bt=0|i[Tt+4>>2],tn=0|i[(Tt=Pe)>>2],xt=0|i[Tt+4>>2],Tt=0|F(0|Et,0|bt,18,0),gt=l,pn=0|U(0|tn,0|xt,0|Et,0|bt),bt=0|U(0|pn,0|l,0|Tt,0|gt),gt=l,i[(Tt=Pe)>>2]=bt,i[Tt+4>>2]=gt,i[(Tt=T)>>2]=0,i[Tt+4>>2]=0,Tt=gt,gt=bt,bt=0;do{tn=0|B(0|gt,0|Tt,0|(xt=0|Y(0|(Et=0|w(0|(pn=0|U(Tt>>31>>>6|0,0,0|gt,0|Tt)),0|l,26)),0|(pn=l),26)),0|l),i[(xt=Pe+(bt<<3)|0)>>2]=tn,i[xt+4>>2]=l,Zt=0|B(0|(Vt=0|U(0|Et,0|pn,0|i[(tn=xt=Pe+((1|bt)<<3)|0)>>2],0|i[tn+4>>2])),0|(tn=l),0|(Pt=0|Y(0|(Et=0|w(0|(pn=0|U(tn>>31>>>7|0,0,0|Vt,0|tn)),0|l,25)),0|(pn=l),25)),0|l),i[(Pt=xt)>>2]=Zt,i[Pt+4>>2]=l,gt=0|U(0|Et,0|pn,0|i[(Zt=Pt=Pe+((bt=bt+2|0)<<3)|0)>>2],0|i[Zt+4>>2]),Tt=l,i[(Zt=Pt)>>2]=gt,i[Zt+4>>2]=Tt}while(bt>>>0<10);Tt=0|i[(bt=T)>>2],gt=0|i[bt+4>>2],Zt=0|i[(bt=Pe)>>2],Pt=0|i[bt+4>>2],bt=0|F(0|Tt,0|gt,18,0),pn=l,Et=0|U(0|Zt,0|Pt,0|Tt,0|gt),gt=0|U(0|Et,0|l,0|bt,0|pn),pn=l,i[(bt=T)>>2]=0,i[bt+4>>2]=0,Pt=0|B(0|gt,0|pn,0|(Tt=0|Y(0|(Et=0|w(0|(bt=0|U(pn>>31>>>6|0,0,0|gt,0|pn)),0|l,26)),0|(bt=l),26)),0|l),Tt=l,i[(pn=Pe)>>2]=Pt,i[pn+4>>2]=Tt,gt=0|U(0|Et,0|bt,0|i[(pn=S)>>2],0|i[pn+4>>2]),pn=l,i[(bt=S)>>2]=gt,i[bt+4>>2]=pn,Et=0|i[(bt=m)>>2],Zt=0|i[bt+4>>2],xt=0|i[(bt=I)>>2],tn=0|i[bt+4>>2],bt=0|F(0|Et,0|Zt,18,0),Vt=l,Rt=0|U(0|xt,0|tn,0|Et,0|Zt),Zt=0|U(0|Rt,0|l,0|bt,0|Vt),i[(Vt=I)>>2]=Zt,i[Vt+4>>2]=l,Zt=0|i[(Vt=y)>>2],bt=0|i[Vt+4>>2],Rt=0|i[(Vt=C)>>2],Et=0|i[Vt+4>>2],Vt=0|F(0|Zt,0|bt,18,0),tn=l,xt=0|U(0|Rt,0|Et,0|Zt,0|bt),bt=0|U(0|xt,0|l,0|Vt,0|tn),i[(tn=C)>>2]=bt,i[tn+4>>2]=l,bt=0|i[(tn=N)>>2],Vt=0|i[tn+4>>2],xt=0|i[(tn=b)>>2],Zt=0|i[tn+4>>2],tn=0|F(0|bt,0|Vt,18,0),Et=l,Rt=0|U(0|xt,0|Zt,0|bt,0|Vt),Vt=0|U(0|Rt,0|l,0|tn,0|Et),i[(Et=b)>>2]=Vt,i[Et+4>>2]=l,Vt=0|i[(Et=M)>>2],tn=0|i[Et+4>>2],Rt=0|i[(Et=R)>>2],bt=0|i[Et+4>>2],Et=0|F(0|Vt,0|tn,18,0),Zt=l,xt=0|U(0|Rt,0|bt,0|Vt,0|tn),tn=0|U(0|xt,0|l,0|Et,0|Zt),i[(Zt=R)>>2]=tn,i[Zt+4>>2]=l,tn=0|i[(Zt=D)>>2],Et=0|i[Zt+4>>2],xt=0|i[(Zt=L)>>2],Vt=0|i[Zt+4>>2],Zt=0|F(0|tn,0|Et,18,0),bt=l,Rt=0|U(0|xt,0|Vt,0|tn,0|Et),Et=0|U(0|Rt,0|l,0|Zt,0|bt),i[(bt=L)>>2]=Et,i[bt+4>>2]=l,Et=0|i[(bt=K)>>2],Zt=0|i[bt+4>>2],Rt=0|i[(bt=x)>>2],tn=0|i[bt+4>>2],bt=0|F(0|Et,0|Zt,18,0),Vt=l,xt=0|U(0|Rt,0|tn,0|Et,0|Zt),Zt=0|U(0|xt,0|l,0|bt,0|Vt),i[(Vt=x)>>2]=Zt,i[Vt+4>>2]=l,Zt=0|i[(Vt=H)>>2],bt=0|i[Vt+4>>2],xt=0|i[(Vt=j)>>2],Et=0|i[Vt+4>>2],Vt=0|F(0|Zt,0|bt,18,0),tn=l,Rt=0|U(0|xt,0|Et,0|Zt,0|bt),bt=0|U(0|Rt,0|l,0|Vt,0|tn),i[(tn=j)>>2]=bt,i[tn+4>>2]=l,bt=0|i[(tn=V)>>2],Vt=0|i[tn+4>>2],Rt=0|i[(tn=W)>>2],Zt=0|i[tn+4>>2],tn=0|F(0|bt,0|Vt,18,0),Et=l,xt=0|U(0|Rt,0|Zt,0|bt,0|Vt),Vt=0|U(0|xt,0|l,0|tn,0|Et),i[(Et=W)>>2]=Vt,i[Et+4>>2]=l,Vt=0|i[(Et=Q)>>2],tn=0|i[Et+4>>2],xt=0|i[(Et=Ne)>>2],bt=0|i[Et+4>>2],Et=0|F(0|Vt,0|tn,18,0),Zt=l,Rt=0|U(0|xt,0|bt,0|Vt,0|tn),tn=0|U(0|Rt,0|l,0|Et,0|Zt),Zt=l,i[(Et=Ne)>>2]=tn,i[Et+4>>2]=Zt,i[(Et=Q)>>2]=0,i[Et+4>>2]=0,Et=Zt,Zt=tn,tn=0;do{xt=0|B(0|Zt,0|Et,0|(bt=0|Y(0|(Vt=0|w(0|(Rt=0|U(Et>>31>>>6|0,0,0|Zt,0|Et)),0|l,26)),0|(Rt=l),26)),0|l),i[(bt=Ne+(tn<<3)|0)>>2]=xt,i[bt+4>>2]=l,Gt=0|B(0|(ft=0|U(0|Vt,0|Rt,0|i[(xt=bt=Ne+((1|tn)<<3)|0)>>2],0|i[xt+4>>2])),0|(xt=l),0|(At=0|Y(0|(Vt=0|w(0|(Rt=0|U(xt>>31>>>7|0,0,0|ft,0|xt)),0|l,25)),0|(Rt=l),25)),0|l),i[(At=bt)>>2]=Gt,i[At+4>>2]=l,Zt=0|U(0|Vt,0|Rt,0|i[(Gt=At=Ne+((tn=tn+2|0)<<3)|0)>>2],0|i[Gt+4>>2]),Et=l,i[(Gt=At)>>2]=Zt,i[Gt+4>>2]=Et}while(tn>>>0<10);Et=0|i[(tn=Q)>>2],Zt=0|i[tn+4>>2],Gt=0|i[(tn=Ne)>>2],At=0|i[tn+4>>2],tn=0|F(0|Et,0|Zt,18,0),Rt=l,Vt=0|U(0|Gt,0|At,0|Et,0|Zt),Zt=0|U(0|Vt,0|l,0|tn,0|Rt),Rt=l,i[(tn=Q)>>2]=0,i[tn+4>>2]=0,At=0|B(0|Zt,0|Rt,0|(Et=0|Y(0|(Vt=0|w(0|(tn=0|U(Rt>>31>>>6|0,0,0|Zt,0|Rt)),0|l,26)),0|(tn=l),26)),0|l),Et=l,Zt=0|U(0|Vt,0|tn,0|i[(Rt=W)>>2],0|i[Rt+4>>2]),Rt=l,Vt=0|i[(tn=g)>>2],Gt=0|i[tn+4>>2],bt=0|i[(tn=E)>>2],xt=0|i[tn+4>>2],ft=0|i[(tn=p)>>2],Ct=0|i[tn+4>>2],nn=0|i[(tn=je)>>2],Qt=0|i[tn+4>>2],$t=0|i[(tn=We)>>2],sn=0|i[tn+4>>2],wt=0|i[(tn=ze)>>2],Bt=0|i[tn+4>>2],mt=0|i[(tn=n)>>2],Wt=0|i[tn+4>>2],Kt=0|i[(tn=$)>>2],on=0|i[tn+4>>2],tn=0|U(0|At,0|Et,0|Pt,0|Tt),i[(rn=Pe)>>2]=tn,i[rn+4>>2]=l,rn=0|U(0|Zt,0|Rt,0|gt,0|pn),i[(tn=S)>>2]=rn,i[tn+4>>2]=l,tn=0|U(0|(rn=0|i[(tn=j)>>2]),0|(ht=0|i[tn+4>>2]),0|Vt,0|Gt),i[(It=g)>>2]=tn,i[It+4>>2]=l,It=0|U(0|(tn=0|i[(It=x)>>2]),0|(ln=0|i[It+4>>2]),0|bt,0|xt),i[(kt=E)>>2]=It,i[kt+4>>2]=l,kt=0|U(0|(It=0|i[(kt=L)>>2]),0|(Mt=0|i[kt+4>>2]),0|ft,0|Ct),i[(zt=p)>>2]=kt,i[zt+4>>2]=l,zt=0|U(0|(kt=0|i[(zt=R)>>2]),0|(Jt=0|i[zt+4>>2]),0|nn,0|Qt),i[(Ut=je)>>2]=zt,i[Ut+4>>2]=l,Ut=0|U(0|(zt=0|i[(Ut=b)>>2]),0|(an=0|i[Ut+4>>2]),0|$t,0|sn),i[(Ft=We)>>2]=Ut,i[Ft+4>>2]=l,Ft=0|U(0|(Ut=0|i[(Ft=C)>>2]),0|(Ot=0|i[Ft+4>>2]),0|wt,0|Bt),i[(vt=ze)>>2]=Ft,i[vt+4>>2]=l,vt=0|U(0|(Ft=0|i[(vt=I)>>2]),0|(_n=0|i[vt+4>>2]),0|mt,0|Wt),i[(Lt=n)>>2]=vt,i[Lt+4>>2]=l,Lt=0|U(0|(vt=0|i[(Lt=z)>>2]),0|(cn=0|i[Lt+4>>2]),0|Kt,0|on),i[(qt=$)>>2]=Lt,i[qt+4>>2]=l,qt=0|B(0|Pt,0|Tt,0|At,0|Et),i[(Et=Ne)>>2]=qt,i[Et+4>>2]=l,Et=0|B(0|gt,0|pn,0|Zt,0|Rt),i[(Rt=W)>>2]=Et,i[Rt+4>>2]=l,Rt=0|B(0|Vt,0|Gt,0|rn,0|ht),i[(ht=j)>>2]=Rt,i[ht+4>>2]=l,ht=0|B(0|bt,0|xt,0|tn,0|ln),i[(ln=x)>>2]=ht,i[ln+4>>2]=l,ln=0|B(0|ft,0|Ct,0|It,0|Mt),i[(Mt=L)>>2]=ln,i[Mt+4>>2]=l,Mt=0|B(0|nn,0|Qt,0|kt,0|Jt),i[(Jt=R)>>2]=Mt,i[Jt+4>>2]=l,Jt=0|B(0|$t,0|sn,0|zt,0|an),i[(an=b)>>2]=Jt,i[an+4>>2]=l,an=0|B(0|wt,0|Bt,0|Ut,0|Ot),i[(Ot=C)>>2]=an,i[Ot+4>>2]=l,Ot=0|B(0|mt,0|Wt,0|Ft,0|_n),i[(_n=I)>>2]=Ot,i[_n+4>>2]=l,_n=0|B(0|Kt,0|on,0|vt,0|cn),i[(cn=z)>>2]=_n,i[cn+4>>2]=l,P(Me,Pe),P(be,Ne),O(Ne,be,u),_n=0|i[(cn=m)>>2],vt=0|i[cn+4>>2],on=0|i[(cn=I)>>2],Kt=0|i[cn+4>>2],cn=0|F(0|_n,0|vt,18,0),Ot=l,Ft=0|U(0|on,0|Kt,0|_n,0|vt),vt=0|U(0|Ft,0|l,0|cn,0|Ot),i[(Ot=I)>>2]=vt,i[Ot+4>>2]=l,vt=0|i[(Ot=y)>>2],cn=0|i[Ot+4>>2],Ft=0|i[(Ot=C)>>2],_n=0|i[Ot+4>>2],Ot=0|F(0|vt,0|cn,18,0),Kt=l,on=0|U(0|Ft,0|_n,0|vt,0|cn),cn=0|U(0|on,0|l,0|Ot,0|Kt),i[(Kt=C)>>2]=cn,i[Kt+4>>2]=l,cn=0|i[(Kt=N)>>2],Ot=0|i[Kt+4>>2],on=0|i[(Kt=b)>>2],vt=0|i[Kt+4>>2],Kt=0|F(0|cn,0|Ot,18,0),_n=l,Ft=0|U(0|on,0|vt,0|cn,0|Ot),Ot=0|U(0|Ft,0|l,0|Kt,0|_n),i[(_n=b)>>2]=Ot,i[_n+4>>2]=l,Ot=0|i[(_n=M)>>2],Kt=0|i[_n+4>>2],Ft=0|i[(_n=R)>>2],cn=0|i[_n+4>>2],_n=0|F(0|Ot,0|Kt,18,0),vt=l,on=0|U(0|Ft,0|cn,0|Ot,0|Kt),Kt=0|U(0|on,0|l,0|_n,0|vt),i[(vt=R)>>2]=Kt,i[vt+4>>2]=l,Kt=0|i[(vt=D)>>2],_n=0|i[vt+4>>2],on=0|i[(vt=L)>>2],Ot=0|i[vt+4>>2],vt=0|F(0|Kt,0|_n,18,0),cn=l,Ft=0|U(0|on,0|Ot,0|Kt,0|_n),_n=0|U(0|Ft,0|l,0|vt,0|cn),i[(cn=L)>>2]=_n,i[cn+4>>2]=l,_n=0|i[(cn=K)>>2],vt=0|i[cn+4>>2],Ft=0|i[(cn=x)>>2],Kt=0|i[cn+4>>2],cn=0|F(0|_n,0|vt,18,0),Ot=l,on=0|U(0|Ft,0|Kt,0|_n,0|vt),vt=0|U(0|on,0|l,0|cn,0|Ot),i[(Ot=x)>>2]=vt,i[Ot+4>>2]=l,vt=0|i[(Ot=H)>>2],cn=0|i[Ot+4>>2],on=0|i[(Ot=j)>>2],_n=0|i[Ot+4>>2],Ot=0|F(0|vt,0|cn,18,0),Kt=l,Ft=0|U(0|on,0|_n,0|vt,0|cn),cn=0|U(0|Ft,0|l,0|Ot,0|Kt),i[(Kt=j)>>2]=cn,i[Kt+4>>2]=l,cn=0|i[(Kt=V)>>2],Ot=0|i[Kt+4>>2],Ft=0|i[(Kt=W)>>2],vt=0|i[Kt+4>>2],Kt=0|F(0|cn,0|Ot,18,0),_n=l,on=0|U(0|Ft,0|vt,0|cn,0|Ot),Ot=0|U(0|on,0|l,0|Kt,0|_n),i[(_n=W)>>2]=Ot,i[_n+4>>2]=l,Ot=0|i[(_n=Q)>>2],Kt=0|i[_n+4>>2],on=0|i[(_n=Ne)>>2],cn=0|i[_n+4>>2],_n=0|F(0|Ot,0|Kt,18,0),vt=l,Ft=0|U(0|on,0|cn,0|Ot,0|Kt),Kt=0|U(0|Ft,0|l,0|_n,0|vt),vt=l,i[(_n=Ne)>>2]=Kt,i[_n+4>>2]=vt,i[(_n=Q)>>2]=0,i[_n+4>>2]=0,_n=vt,vt=Kt,Kt=0;do{on=0|B(0|vt,0|_n,0|(cn=0|Y(0|(Ot=0|w(0|(Ft=0|U(_n>>31>>>6|0,0,0|vt,0|_n)),0|l,26)),0|(Ft=l),26)),0|l),i[(cn=Ne+(Kt<<3)|0)>>2]=on,i[cn+4>>2]=l,an=0|B(0|(Wt=0|U(0|Ot,0|Ft,0|i[(on=cn=Ne+((1|Kt)<<3)|0)>>2],0|i[on+4>>2])),0|(on=l),0|(mt=0|Y(0|(Ot=0|w(0|(Ft=0|U(on>>31>>>7|0,0,0|Wt,0|on)),0|l,25)),0|(Ft=l),25)),0|l),i[(mt=cn)>>2]=an,i[mt+4>>2]=l,vt=0|U(0|Ot,0|Ft,0|i[(an=mt=Ne+((Kt=Kt+2|0)<<3)|0)>>2],0|i[an+4>>2]),_n=l,i[(an=mt)>>2]=vt,i[an+4>>2]=_n}while(Kt>>>0<10);_n=0|i[(Kt=Q)>>2],vt=0|i[Kt+4>>2],pn=0|i[(Kt=Ne)>>2],gt=0|i[Kt+4>>2],Kt=0|F(0|_n,0|vt,18,0),Tt=l,Pt=0|U(0|pn,0|gt,0|_n,0|vt),vt=0|U(0|Pt,0|l,0|Kt,0|Tt),Tt=l,i[(Kt=Q)>>2]=0,i[Kt+4>>2]=0,gt=0|B(0|vt,0|Tt,0|(_n=0|Y(0|(Pt=0|w(0|(Kt=0|U(Tt>>31>>>6|0,0,0|vt,0|Tt)),0|l,26)),0|(Kt=l),26)),0|l),i[(_n=Ne)>>2]=gt,i[_n+4>>2]=l,gt=0|U(0|Pt,0|Kt,0|i[(_n=W)>>2],0|i[_n+4>>2]),i[(_n=W)>>2]=gt,i[_n+4>>2]=l,He=Me,t=(xe=it)+80|0;do{i[xe>>2]=i[He>>2],xe=xe+4|0,He=He+4|0}while((0|xe)<(0|t));He=Ne,t=(xe=at)+80|0;do{i[xe>>2]=i[He>>2],xe=xe+4|0,He=He+4|0}while((0|xe)<(0|t));P(ve,st),P(Oe,ct),O(lt,ve,Oe),gt=0|i[(_n=lt+144|0)>>2],Kt=0|i[_n+4>>2],Tt=0|i[(Pt=_n=lt+64|0)>>2],vt=0|i[Pt+4>>2],Pt=0|F(0|gt,0|Kt,18,0),pn=l,an=0|U(0|Tt,0|vt,0|gt,0|Kt),Kt=0|U(0|an,0|l,0|Pt,0|pn),i[(pn=_n)>>2]=Kt,i[pn+4>>2]=l,Kt=0|i[(pn=lt+136|0)>>2],_n=0|i[pn+4>>2],an=0|i[(Pt=pn=lt+56|0)>>2],gt=0|i[Pt+4>>2],Pt=0|F(0|Kt,0|_n,18,0),vt=l,Tt=0|U(0|an,0|gt,0|Kt,0|_n),_n=0|U(0|Tt,0|l,0|Pt,0|vt),i[(vt=pn)>>2]=_n,i[vt+4>>2]=l,_n=0|i[(vt=lt+128|0)>>2],pn=0|i[vt+4>>2],Tt=0|i[(Pt=vt=lt+48|0)>>2],Kt=0|i[Pt+4>>2],Pt=0|F(0|_n,0|pn,18,0),gt=l,an=0|U(0|Tt,0|Kt,0|_n,0|pn),pn=0|U(0|an,0|l,0|Pt,0|gt),i[(gt=vt)>>2]=pn,i[gt+4>>2]=l,pn=0|i[(gt=lt+120|0)>>2],vt=0|i[gt+4>>2],an=0|i[(Pt=gt=lt+40|0)>>2],_n=0|i[Pt+4>>2],Pt=0|F(0|pn,0|vt,18,0),Kt=l,Tt=0|U(0|an,0|_n,0|pn,0|vt),vt=0|U(0|Tt,0|l,0|Pt,0|Kt),i[(Kt=gt)>>2]=vt,i[Kt+4>>2]=l,vt=0|i[(Kt=lt+112|0)>>2],gt=0|i[Kt+4>>2],Tt=0|i[(Pt=Kt=lt+32|0)>>2],pn=0|i[Pt+4>>2],Pt=0|F(0|vt,0|gt,18,0),_n=l,an=0|U(0|Tt,0|pn,0|vt,0|gt),gt=0|U(0|an,0|l,0|Pt,0|_n),i[(_n=Kt)>>2]=gt,i[_n+4>>2]=l,gt=0|i[(_n=lt+104|0)>>2],Kt=0|i[_n+4>>2],an=0|i[(Pt=_n=lt+24|0)>>2],vt=0|i[Pt+4>>2],Pt=0|F(0|gt,0|Kt,18,0),pn=l,Tt=0|U(0|an,0|vt,0|gt,0|Kt),Kt=0|U(0|Tt,0|l,0|Pt,0|pn),i[(pn=_n)>>2]=Kt,i[pn+4>>2]=l,Kt=0|i[(pn=lt+96|0)>>2],_n=0|i[pn+4>>2],Tt=0|i[(Pt=pn=lt+16|0)>>2],gt=0|i[Pt+4>>2],Pt=0|F(0|Kt,0|_n,18,0),vt=l,an=0|U(0|Tt,0|gt,0|Kt,0|_n),_n=0|U(0|an,0|l,0|Pt,0|vt),i[(vt=pn)>>2]=_n,i[vt+4>>2]=l,_n=0|i[(vt=lt+88|0)>>2],pn=0|i[vt+4>>2],an=0|i[(Pt=vt=lt+8|0)>>2],Kt=0|i[Pt+4>>2],Pt=0|F(0|_n,0|pn,18,0),gt=l,Tt=0|U(0|an,0|Kt,0|_n,0|pn),pn=0|U(0|Tt,0|l,0|Pt,0|gt),i[(gt=vt)>>2]=pn,i[gt+4>>2]=l,Pt=0|i[(pn=gt=lt+80|0)>>2],Tt=0|i[pn+4>>2],_n=0|i[(pn=lt)>>2],Kt=0|i[pn+4>>2],pn=0|F(0|Pt,0|Tt,18,0),an=l,mt=0|U(0|_n,0|Kt,0|Pt,0|Tt),Tt=0|U(0|mt,0|l,0|pn,0|an),an=l,i[(pn=lt)>>2]=Tt,i[pn+4>>2]=an,i[(pn=gt)>>2]=0,i[pn+4>>2]=0,pn=an,an=Tt,Tt=0;do{_n=0|B(0|an,0|pn,0|(Kt=0|Y(0|(Pt=0|w(0|(mt=0|U(pn>>31>>>6|0,0,0|an,0|pn)),0|l,26)),0|(mt=l),26)),0|l),i[(Kt=lt+(Tt<<3)|0)>>2]=_n,i[Kt+4>>2]=l,cn=0|B(0|(Ft=0|U(0|Pt,0|mt,0|i[(_n=Kt=lt+((1|Tt)<<3)|0)>>2],0|i[_n+4>>2])),0|(_n=l),0|(Ot=0|Y(0|(Pt=0|w(0|(mt=0|U(_n>>31>>>7|0,0,0|Ft,0|_n)),0|l,25)),0|(mt=l),25)),0|l),i[(Ot=Kt)>>2]=cn,i[Ot+4>>2]=l,an=0|U(0|Pt,0|mt,0|i[(cn=Ot=lt+((Tt=Tt+2|0)<<3)|0)>>2],0|i[cn+4>>2]),pn=l,i[(cn=Ot)>>2]=an,i[cn+4>>2]=pn}while(Tt>>>0<10);pn=0|i[(Tt=gt)>>2],an=0|i[Tt+4>>2],cn=0|i[(Tt=lt)>>2],Ot=0|i[Tt+4>>2],Tt=0|F(0|pn,0|an,18,0),mt=l,Pt=0|U(0|cn,0|Ot,0|pn,0|an),an=0|U(0|Pt,0|l,0|Tt,0|mt),mt=l,i[(Tt=gt)>>2]=0,i[Tt+4>>2]=0,Ot=0|B(0|an,0|mt,0|(pn=0|Y(0|(Pt=0|w(0|(Tt=0|U(mt>>31>>>6|0,0,0|an,0|mt)),0|l,26)),0|(Tt=l),26)),0|l),i[(pn=lt)>>2]=Ot,i[pn+4>>2]=l,Ot=0|U(0|Pt,0|Tt,0|i[(pn=vt)>>2],0|i[pn+4>>2]),i[(pn=vt)>>2]=Ot,i[pn+4>>2]=l,Pt=0|B(0|(Ot=0|i[(pn=ve)>>2]),0|(Tt=0|i[pn+4>>2]),0|i[(pn=Oe)>>2],0|i[pn+4>>2]),pn=l,i[(mt=Oe)>>2]=Pt,i[mt+4>>2]=pn,Kt=0|B(0|(an=0|i[(mt=J)>>2]),0|(cn=0|i[mt+4>>2]),0|i[(mt=q)>>2],0|i[mt+4>>2]),mt=l,i[(_n=q)>>2]=Kt,i[_n+4>>2]=mt,Wt=0|B(0|(Ft=0|i[(_n=X)>>2]),0|(on=0|i[_n+4>>2]),0|i[(_n=Z)>>2],0|i[_n+4>>2]),_n=l,i[(Ut=Z)>>2]=Wt,i[Ut+4>>2]=_n,Jt=0|B(0|(Bt=0|i[(Ut=ee)>>2]),0|(wt=0|i[Ut+4>>2]),0|i[(Ut=te)>>2],0|i[Ut+4>>2]),Ut=l,i[(zt=te)>>2]=Jt,i[zt+4>>2]=Ut,Mt=0|B(0|(sn=0|i[(zt=ne)>>2]),0|($t=0|i[zt+4>>2]),0|i[(zt=re)>>2],0|i[zt+4>>2]),zt=l,i[(kt=re)>>2]=Mt,i[kt+4>>2]=zt,ln=0|B(0|(Qt=0|i[(kt=ie)>>2]),0|(nn=0|i[kt+4>>2]),0|i[(kt=oe)>>2],0|i[kt+4>>2]),kt=l,i[(It=oe)>>2]=ln,i[It+4>>2]=kt,ht=0|B(0|(Ct=0|i[(It=ae)>>2]),0|(ft=0|i[It+4>>2]),0|i[(It=se)>>2],0|i[It+4>>2]),It=l,i[(tn=se)>>2]=ht,i[tn+4>>2]=It,Rt=0|B(0|(xt=0|i[(tn=le)>>2]),0|(bt=0|i[tn+4>>2]),0|i[(tn=ce)>>2],0|i[tn+4>>2]),tn=l,i[(rn=ce)>>2]=Rt,i[rn+4>>2]=tn,Et=0|B(0|(Gt=0|i[(rn=ue)>>2]),0|(Vt=0|i[rn+4>>2]),0|i[(rn=de)>>2],0|i[rn+4>>2]),rn=l,i[(Zt=de)>>2]=Et,i[Zt+4>>2]=rn,Lt=0|B(0|(qt=0|i[(Zt=_e)>>2]),0|(At=0|i[Zt+4>>2]),0|i[(Zt=pe)>>2],0|i[Zt+4>>2]),Zt=l,i[(Xt=pe)>>2]=Lt,i[Xt+4>>2]=Zt,t=(xe=fe)+72|0;do{i[xe>>2]=0,xe=xe+4|0}while((0|xe)<(0|t));vt=0|F(0|Pt,0|pn,121665,0),gt=l,i[(Xt=Ce)>>2]=vt,i[Xt+4>>2]=gt,Xt=0|F(0|Kt,0|mt,121665,0),i[(St=Ee)>>2]=Xt,i[St+4>>2]=l,St=0|F(0|Wt,0|_n,121665,0),i[(Xt=Ae)>>2]=St,i[Xt+4>>2]=l,Xt=0|F(0|Jt,0|Ut,121665,0),i[(St=ge)>>2]=Xt,i[St+4>>2]=l,St=0|F(0|Mt,0|zt,121665,0),i[(Xt=he)>>2]=St,i[Xt+4>>2]=l,Xt=0|F(0|ln,0|kt,121665,0),i[(St=Se)>>2]=Xt,i[St+4>>2]=l,St=0|F(0|ht,0|It,121665,0),i[(Xt=Te)>>2]=St,i[Xt+4>>2]=l,Xt=0|F(0|Rt,0|tn,121665,0),i[(St=me)>>2]=Xt,i[St+4>>2]=l,St=0|F(0|Et,0|rn,121665,0),i[(Xt=Ie)>>2]=St,i[Xt+4>>2]=l,Xt=0|F(0|Lt,0|Zt,121665,0),i[(St=ye)>>2]=Xt,i[St+4>>2]=l,i[(St=fe)>>2]=0,i[St+4>>2]=0,St=gt,gt=vt,vt=0;do{Yt=0|B(0|gt,0|St,0|(jt=0|Y(0|(Ht=0|w(0|(Xt=0|U(St>>31>>>6|0,0,0|gt,0|St)),0|l,26)),0|(Xt=l),26)),0|l),i[(jt=Ce+(vt<<3)|0)>>2]=Yt,i[jt+4>>2]=l,un=0|B(0|(Nt=0|U(0|Ht,0|Xt,0|i[(Yt=jt=Ce+((1|vt)<<3)|0)>>2],0|i[Yt+4>>2])),0|(Yt=l),0|(dn=0|Y(0|(Ht=0|w(0|(Xt=0|U(Yt>>31>>>7|0,0,0|Nt,0|Yt)),0|l,25)),0|(Xt=l),25)),0|l),i[(dn=jt)>>2]=un,i[dn+4>>2]=l,gt=0|U(0|Ht,0|Xt,0|i[(un=dn=Ce+((vt=vt+2|0)<<3)|0)>>2],0|i[un+4>>2]),St=l,i[(un=dn)>>2]=gt,i[un+4>>2]=St}while(vt>>>0<10);St=0|i[(vt=fe)>>2],gt=0|i[vt+4>>2],Zt=0|i[(vt=Ce)>>2],Lt=0|i[vt+4>>2],vt=0|F(0|St,0|gt,18,0),rn=l,Et=0|U(0|Zt,0|Lt,0|St,0|gt),gt=0|U(0|Et,0|l,0|vt,0|rn),rn=l,i[(vt=fe)>>2]=0,i[vt+4>>2]=0,St=0|Y(0|(Et=0|w(0|(vt=0|U(rn>>31>>>6|0,0,0|gt,0|rn)),0|l,26)),0|(vt=l),26),Lt=l,tn=0|i[(Zt=Ee)>>2],Rt=0|i[Zt+4>>2],rn=0|B(0|(Zt=0|U(0|gt,0|rn,0|Ot,0|Tt)),0|l,0|St,0|Lt),i[(Lt=Ce)>>2]=rn,i[Lt+4>>2]=l,Lt=0|U(0|tn,0|Rt,0|an,0|cn),Rt=0|U(0|Lt,0|l,0|Et,0|vt),i[(vt=Ee)>>2]=Rt,i[vt+4>>2]=l,Rt=0|U(0|i[(vt=Ae)>>2],0|i[vt+4>>2],0|Ft,0|on),i[(vt=Ae)>>2]=Rt,i[vt+4>>2]=l,Rt=0|U(0|i[(vt=ge)>>2],0|i[vt+4>>2],0|Bt,0|wt),i[(vt=ge)>>2]=Rt,i[vt+4>>2]=l,Rt=0|U(0|i[(vt=he)>>2],0|i[vt+4>>2],0|sn,0|$t),i[(vt=he)>>2]=Rt,i[vt+4>>2]=l,Rt=0|U(0|i[(vt=Se)>>2],0|i[vt+4>>2],0|Qt,0|nn),i[(vt=Se)>>2]=Rt,i[vt+4>>2]=l,Rt=0|U(0|i[(vt=Te)>>2],0|i[vt+4>>2],0|Ct,0|ft),i[(vt=Te)>>2]=Rt,i[vt+4>>2]=l,Rt=0|U(0|i[(vt=me)>>2],0|i[vt+4>>2],0|xt,0|bt),i[(vt=me)>>2]=Rt,i[vt+4>>2]=l,Rt=0|U(0|i[(vt=Ie)>>2],0|i[vt+4>>2],0|Gt,0|Vt),i[(vt=Ie)>>2]=Rt,i[vt+4>>2]=l,Rt=0|U(0|i[(vt=ye)>>2],0|i[vt+4>>2],0|qt,0|At),i[(vt=ye)>>2]=Rt,i[vt+4>>2]=l,O(ut,Oe,Ce),Rt=0|i[(vt=ut+144|0)>>2],Et=0|i[vt+4>>2],tn=0|i[(Lt=vt=ut+64|0)>>2],rn=0|i[Lt+4>>2],Lt=0|F(0|Rt,0|Et,18,0),St=l,Zt=0|U(0|tn,0|rn,0|Rt,0|Et),Et=0|U(0|Zt,0|l,0|Lt,0|St),i[(St=vt)>>2]=Et,i[St+4>>2]=l,Et=0|i[(St=ut+136|0)>>2],vt=0|i[St+4>>2],Zt=0|i[(Lt=St=ut+56|0)>>2],Rt=0|i[Lt+4>>2],Lt=0|F(0|Et,0|vt,18,0),rn=l,tn=0|U(0|Zt,0|Rt,0|Et,0|vt),vt=0|U(0|tn,0|l,0|Lt,0|rn),i[(rn=St)>>2]=vt,i[rn+4>>2]=l,vt=0|i[(rn=ut+128|0)>>2],St=0|i[rn+4>>2],tn=0|i[(Lt=rn=ut+48|0)>>2],Et=0|i[Lt+4>>2],Lt=0|F(0|vt,0|St,18,0),Rt=l,Zt=0|U(0|tn,0|Et,0|vt,0|St),St=0|U(0|Zt,0|l,0|Lt,0|Rt),i[(Rt=rn)>>2]=St,i[Rt+4>>2]=l,St=0|i[(Rt=ut+120|0)>>2],rn=0|i[Rt+4>>2],Zt=0|i[(Lt=Rt=ut+40|0)>>2],vt=0|i[Lt+4>>2],Lt=0|F(0|St,0|rn,18,0),Et=l,tn=0|U(0|Zt,0|vt,0|St,0|rn),rn=0|U(0|tn,0|l,0|Lt,0|Et),i[(Et=Rt)>>2]=rn,i[Et+4>>2]=l,rn=0|i[(Et=ut+112|0)>>2],Rt=0|i[Et+4>>2],tn=0|i[(Lt=Et=ut+32|0)>>2],St=0|i[Lt+4>>2],Lt=0|F(0|rn,0|Rt,18,0),vt=l,Zt=0|U(0|tn,0|St,0|rn,0|Rt),Rt=0|U(0|Zt,0|l,0|Lt,0|vt),i[(vt=Et)>>2]=Rt,i[vt+4>>2]=l,Rt=0|i[(vt=ut+104|0)>>2],Et=0|i[vt+4>>2],Zt=0|i[(Lt=vt=ut+24|0)>>2],rn=0|i[Lt+4>>2],Lt=0|F(0|Rt,0|Et,18,0),St=l,tn=0|U(0|Zt,0|rn,0|Rt,0|Et),Et=0|U(0|tn,0|l,0|Lt,0|St),i[(St=vt)>>2]=Et,i[St+4>>2]=l,Et=0|i[(St=ut+96|0)>>2],vt=0|i[St+4>>2],tn=0|i[(Lt=St=ut+16|0)>>2],Rt=0|i[Lt+4>>2],Lt=0|F(0|Et,0|vt,18,0),rn=l,Zt=0|U(0|tn,0|Rt,0|Et,0|vt),vt=0|U(0|Zt,0|l,0|Lt,0|rn),i[(rn=St)>>2]=vt,i[rn+4>>2]=l,vt=0|i[(rn=ut+88|0)>>2],St=0|i[rn+4>>2],Zt=0|i[(Lt=rn=ut+8|0)>>2],Et=0|i[Lt+4>>2],Lt=0|F(0|vt,0|St,18,0),Rt=l,tn=0|U(0|Zt,0|Et,0|vt,0|St),St=0|U(0|tn,0|l,0|Lt,0|Rt),i[(Rt=rn)>>2]=St,i[Rt+4>>2]=l,Lt=0|i[(St=Rt=ut+80|0)>>2],tn=0|i[St+4>>2],vt=0|i[(St=ut)>>2],Et=0|i[St+4>>2],St=0|F(0|Lt,0|tn,18,0),Zt=l,gt=0|U(0|vt,0|Et,0|Lt,0|tn),tn=0|U(0|gt,0|l,0|St,0|Zt),Zt=l,i[(St=ut)>>2]=tn,i[St+4>>2]=Zt,i[(St=Rt)>>2]=0,i[St+4>>2]=0,St=Zt,Zt=tn,tn=0;do{vt=0|B(0|Zt,0|St,0|(Et=0|Y(0|(Lt=0|w(0|(gt=0|U(St>>31>>>6|0,0,0|Zt,0|St)),0|l,26)),0|(gt=l),26)),0|l),i[(Et=ut+(tn<<3)|0)>>2]=vt,i[Et+4>>2]=l,kt=0|B(0|(It=0|U(0|Lt,0|gt,0|i[(vt=Et=ut+((1|tn)<<3)|0)>>2],0|i[vt+4>>2])),0|(vt=l),0|(ht=0|Y(0|(Lt=0|w(0|(gt=0|U(vt>>31>>>7|0,0,0|It,0|vt)),0|l,25)),0|(gt=l),25)),0|l),i[(ht=Et)>>2]=kt,i[ht+4>>2]=l,Zt=0|U(0|Lt,0|gt,0|i[(kt=ht=ut+((tn=tn+2|0)<<3)|0)>>2],0|i[kt+4>>2]),St=l,i[(kt=ht)>>2]=Zt,i[kt+4>>2]=St}while(tn>>>0<10);St=0|i[(tn=Rt)>>2],Zt=0|i[tn+4>>2],At=0|i[(tn=ut)>>2],qt=0|i[tn+4>>2],tn=0|F(0|St,0|Zt,18,0),Vt=l,Gt=0|U(0|At,0|qt,0|St,0|Zt),Zt=0|U(0|Gt,0|l,0|tn,0|Vt),Vt=l,i[(tn=Rt)>>2]=0,i[tn+4>>2]=0,qt=0|B(0|Zt,0|Vt,0|(St=0|Y(0|(Gt=0|w(0|(tn=0|U(Vt>>31>>>6|0,0,0|Zt,0|Vt)),0|l,26)),0|(tn=l),26)),0|l),i[(St=ut)>>2]=qt,i[St+4>>2]=l,qt=0|U(0|Gt,0|tn,0|i[(St=rn)>>2],0|i[St+4>>2]),i[(St=rn)>>2]=qt,i[St+4>>2]=l,St=0;do{Gt=0|i[(tn=qt=lt+(St<<3)|0)>>2],Vt=0|i[tn+4>>2],At=0|i[(Zt=tn=it+(St<<3)|0)>>2],xt=((bt=0|i[Zt+4>>2])^Vt)&pt,Vt=0|w(0,(Zt=(At^Gt)&_t)^Gt|0,32),i[(Gt=qt)>>2]=Vt,i[Gt+4>>2]=l,Gt=0|w(0,Zt^At|0,32),i[(At=tn)>>2]=Gt,i[At+4>>2]=l,St=St+1|0}while(10!=(0|St));fn=0;do{Rt=0|i[(rn=St=ut+(fn<<3)|0)>>2],At=0|i[rn+4>>2],tn=0|i[(Gt=rn=at+(fn<<3)|0)>>2],Vt=((Zt=0|i[Gt+4>>2])^At)&pt,At=0|w(0,(Gt=(tn^Rt)&_t)^Rt|0,32),i[(Rt=St)>>2]=At,i[Rt+4>>2]=l,Rt=0|w(0,Gt^tn|0,32),i[(tn=rn)>>2]=Rt,i[tn+4>>2]=l,fn=fn+1|0}while(10!=(0|fn));if(8==(0|(nt=nt+1|0))){En=rt,An=it,gn=ot,hn=at,Sn=st,Tn=lt,mn=ct,In=ut;break}pt=ut,_t=lt,tn=at,Rt=it,ke=dt<<1&255,ut=ct,ct=pt,lt=st,st=_t,at=ot,ot=tn,it=rt,rt=Rt}if(32==(0|(rt=qe+1|0))){yn=Tn,Cn=In;break}qe=rt,Xe=An,Ze=En,Be=hn,et=gn,Ue=Tn,tt=Sn,Ge=In,we=mn}He=yn,t=(xe=Ye)+80|0;do{i[xe>>2]=i[He>>2],xe=xe+4|0,He=He+4|0}while((0|xe)<(0|t));He=Cn,t=(xe=Fe)+80|0;do{i[xe>>2]=i[He>>2],xe=xe+4|0,He=He+4|0}while((0|xe)<(0|t));P(Ce,Fe),P(Le,Ce),P(De,Le),v(ve,De,Fe),v(Oe,ve,Ce),P(De,Oe),v(Pe,De,ve),P(De,Pe),P(Le,De),P(De,Le),P(Le,De),P(De,Le),v(Ne,De,Pe),P(De,Ne),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),v(be,Le,Ne),P(De,be),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),v(De,Le,be),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),P(De,Le),v(Me,De,Ne),P(De,Me),P(Le,De),Ne=2;do{P(De,Le),P(Le,De),Ne=Ne+2|0}while((0|Ne)<50);v(Re,Le,Me),P(Le,Re),P(De,Le),Ne=2;do{P(Le,De),P(De,Le),Ne=Ne+2|0}while((0|Ne)<100);v(Le,De,Re),P(De,Le),P(Le,De),Re=2;do{P(De,Le),P(Le,De),Re=Re+2|0}while((0|Re)<50);for(v(De,Le,Me),P(Le,De),P(De,Le),P(Le,De),P(De,Le),P(Le,De),v(Ke,Le,Oe),v(Fe,Ye,Ke),Ke=0|i[Fe>>2],i[Ce>>2]=Ke,i[(Ye=Ce+4|0)>>2]=i[Fe+8>>2],i[(Oe=Ce+8|0)>>2]=i[Fe+16>>2],i[(Le=Ce+12|0)>>2]=i[Fe+24>>2],i[(De=Ce+16|0)>>2]=i[Fe+32>>2],i[(Me=Ce+20|0)>>2]=i[Fe+40>>2],i[(Re=Ce+24|0)>>2]=i[Fe+48>>2],i[(Ne=Ce+28|0)>>2]=i[Fe+56>>2],i[(be=Ce+32|0)>>2]=i[Fe+64>>2],i[(Pe=Ce+36|0)>>2]=i[Fe+72>>2],Fe=Ke,Ke=0;ve=Ce+(Ke<<2)|0,He=Fe>>31&Fe,1&Ke?(t=He>>25,i[ve>>2]=(0|c(t,-33554432))+Fe,yn=(0|i[(He=Ce+((ve=Ke+1|0)<<2)|0)>>2])+t|0,i[He>>2]=yn,vn=yn,On=ve):(xe=He>>26,i[ve>>2]=(0|c(xe,-67108864))+Fe,yn=(0|i[(Cn=Ce+((t=Ke+1|0)<<2)|0)>>2])+xe|0,i[Cn>>2]=yn,vn=yn,On=t),9!=(0|On);)Fe=vn,Ke=On;for(Ke=((On=0|i[Pe>>2])>>31&On)>>25,i[Pe>>2]=(0|c(Ke,-33554432))+On,On=(19*Ke|0)+(0|i[Ce>>2])|0,i[Ce>>2]=On,Ke=On,On=0;vn=Ce+(On<<2)|0,Fe=Ke>>31&Ke,1&On?(t=Fe>>25,i[vn>>2]=(0|c(t,-33554432))+Ke,yn=(0|i[(Fe=Ce+((vn=On+1|0)<<2)|0)>>2])+t|0,i[Fe>>2]=yn,Pn=vn,Nn=yn):(ve=Fe>>26,i[vn>>2]=(0|c(ve,-67108864))+Ke,t=(0|i[(He=Ce+((yn=On+1|0)<<2)|0)>>2])+ve|0,i[He>>2]=t,Pn=yn,Nn=t),9!=(0|Pn);)Ke=Nn,On=Pn;for(On=((Pn=0|i[Pe>>2])>>31&Pn)>>25,i[Pe>>2]=(0|c(On,-33554432))+Pn,Pn=(19*On|0)+(0|i[Ce>>2])|0,Nn=(0|c(On=(Pn>>31&Pn)>>26,-67108864))+Pn|0,i[Ce>>2]=Nn,i[Ye>>2]=On+(0|i[Ye>>2]),On=Nn,Nn=0;Pn=Ce+(Nn<<2)|0,1&Nn?(i[Pn>>2]=33554431&On,Ke=(0|i[(vn=Ce+((Pn=Nn+1|0)<<2)|0)>>2])+(On>>25)|0,i[vn>>2]=Ke,bn=Pn,Mn=Ke):(i[Pn>>2]=67108863&On,vn=(0|i[(yn=Ce+((Ke=Nn+1|0)<<2)|0)>>2])+(On>>26)|0,i[yn>>2]=vn,bn=Ke,Mn=vn),9!=(0|bn);)On=Mn,Nn=bn;for(bn=0|i[Pe>>2],i[Pe>>2]=33554431&bn,Nn=(19*(bn>>25)|0)+(0|i[Ce>>2])|0,i[Ce>>2]=Nn,bn=Nn,Nn=0;Mn=Ce+(Nn<<2)|0,1&Nn?(i[Mn>>2]=33554431&bn,On=(0|i[(Pn=Ce+((Mn=Nn+1|0)<<2)|0)>>2])+(bn>>25)|0,i[Pn>>2]=On,Rn=Mn,Dn=On):(i[Mn>>2]=67108863&bn,Pn=(0|i[(Ke=Ce+((On=Nn+1|0)<<2)|0)>>2])+(bn>>26)|0,i[Ke>>2]=Pn,Rn=On,Dn=Pn),9!=(0|Rn);)bn=Dn,Nn=Rn;for(Nn=33554431&(Rn=0|i[Pe>>2]),i[Pe>>2]=Nn,Dn=(19*(Rn>>25)|0)+(0|i[Ce>>2])|0,i[Ce>>2]=Dn,Rn=1,bn=~(Dn+-67108845>>31);;){if(On=0|i[Ce+(Rn<<2)>>2],Ln=1&Rn?(On=(Pn=(On=(Pn=On<<16&(-33554432^On))<<8&Pn)<<4&On)<<2&Pn)<<1&On:(Pn=(Mn=(Pn=(Mn=On<<16&(-67108864^On))<<8&Mn)<<4&Pn)<<2&Mn)<<1&Pn,On=Ln>>31&bn,10==(0|(Rn=Rn+1|0))){wn=On;break}bn=On}return bn=Dn-(67108845&wn)|0,i[Ce>>2]=bn,Ce=67108863&wn,Dn=33554431&wn,Ln=(Rn=(0|i[Ye>>2])-Dn|0)<<2,Pn=(On=(0|i[Oe>>2])-Ce|0)<<3,Ke=(Mn=(0|i[Le>>2])-Dn|0)<<5,wn=(vn=(0|i[De>>2])-wn|0)<<6,yn=(0|i[Me>>2])-Dn|0,i[Me>>2]=yn,Fe=(Me=(0|i[Re>>2])-Ce|0)<<1,He=(t=(0|i[Ne>>2])-Dn|0)<<3,ve=(0|i[be>>2])-Ce<<4,i[Ye>>2]=Ln,i[Oe>>2]=Pn,i[Le>>2]=Ke,i[De>>2]=wn,i[Re>>2]=Fe,i[Ne>>2]=He,i[be>>2]=ve,i[Pe>>2]=Nn-Dn<<6,r[e>>0]=bn,r[e+1>>0]=bn>>>8,r[e+2>>0]=bn>>>16,r[e+3>>0]=Ln|bn>>>24,r[e+4>>0]=Rn>>>6,r[e+5>>0]=Rn>>>14,r[e+6>>0]=Pn|Rn>>>22,r[e+7>>0]=On>>>5,r[e+8>>0]=On>>>13,r[e+9>>0]=Ke|On>>>21,r[e+10>>0]=Mn>>>3,r[e+11>>0]=Mn>>>11,r[e+12>>0]=wn|Mn>>>19,r[e+13>>0]=vn>>>2,r[e+14>>0]=vn>>>10,r[e+15>>0]=vn>>>18,r[e+16>>0]=yn,r[e+17>>0]=yn>>>8,r[e+18>>0]=yn>>>16,r[e+19>>0]=yn>>>24|Fe,r[e+20>>0]=Me>>>7,r[e+21>>0]=Me>>>15,r[e+22>>0]=Me>>>23|He,r[e+23>>0]=t>>>5,r[e+24>>0]=t>>>13,He=0|i[be>>2],r[e+25>>0]=t>>>21|He,r[e+26>>0]=He>>>8,r[e+27>>0]=He>>>16,t=0|i[Pe>>2],r[e+28>>0]=He>>>24|t,r[e+29>>0]=t>>>8,r[e+30>>0]=t>>>16,r[e+31>>0]=t>>>24,a=s,0},_free:function(e){var t,n,r=0,o=0,a=0,s=0,l=0,c=0,u=0,d=0,_=0,p=0,f=0,A=0,g=0,h=0,S=0,T=0,m=0,I=0,y=0,C=0,v=0,O=0,P=0,N=0,b=0,M=0,R=0,D=0,L=0,w=0,B=0,U=0,G=0,k=0;if(e|=0){(r=e+-8|0)>>>0<(o=0|i[47])>>>0&&E(),1==(0|(e=3&(t=0|i[e+-4>>2])))&&E(),n=r+(a=-8&t)|0;do{if(1&t)_=r,p=a;else{if(s=0|i[r>>2],!e)return;if(c=s+a|0,(l=r+(0-s)|0)>>>0<o>>>0&&E(),(0|l)==(0|i[48])){if(3!=(3&(d=0|i[(u=n+4|0)>>2])|0)){_=l,p=c;break}return i[45]=c,i[u>>2]=-2&d,i[l+4>>2]=1|c,void(i[l+c>>2]=c)}if(d=s>>>3,s>>>0<256){if(s=0|i[l+8>>2],u=0|i[l+12>>2],(0|s)!=(0|(f=212+(d<<1<<2)|0))&&(s>>>0<o>>>0&&E(),(0|i[s+12>>2])!=(0|l)&&E()),(0|u)==(0|s)){i[43]=i[43]&~(1<<d),_=l,p=c;break}(0|u)!=(0|f)?(u>>>0<o>>>0&&E(),(0|i[(f=u+8|0)>>2])==(0|l)?A=f:E()):A=u+8|0,i[s+12>>2]=u,i[A>>2]=s,_=l,p=c;break}s=0|i[l+24>>2],u=0|i[l+12>>2];do{if((0|u)==(0|l)){if(g=0|i[(d=(f=l+16|0)+4|0)>>2])T=g,m=d;else{if(!(h=0|i[f>>2])){S=0;break}T=h,m=f}for(;;)if(g=0|i[(d=T+20|0)>>2])T=g,m=d;else{if(!(g=0|i[(d=T+16|0)>>2])){I=T,y=m;break}T=g,m=d}if(!(y>>>0<o>>>0)){i[y>>2]=0,S=I;break}E()}else{if((d=0|i[l+8>>2])>>>0<o>>>0&&E(),(0|i[(g=d+12|0)>>2])!=(0|l)&&E(),(0|i[(f=u+8|0)>>2])==(0|l)){i[g>>2]=u,i[f>>2]=d,S=u;break}E()}}while(0);if(s){if(u=0|i[l+28>>2],(0|l)==(0|i[(d=476+(u<<2)|0)>>2])){if(i[d>>2]=S,!S){i[44]=i[44]&~(1<<u),_=l,p=c;break}}else if(s>>>0<(0|i[47])>>>0&&E(),(0|i[(u=s+16|0)>>2])==(0|l)?i[u>>2]=S:i[s+20>>2]=S,!S){_=l,p=c;break}S>>>0<(u=0|i[47])>>>0&&E(),i[S+24>>2]=s,f=0|i[(d=l+16|0)>>2];do{if(f){if(!(f>>>0<u>>>0)){i[S+16>>2]=f,i[f+24>>2]=S;break}E()}}while(0);if(f=0|i[d+4>>2]){if(!(f>>>0<(0|i[47])>>>0)){i[S+20>>2]=f,i[f+24>>2]=S,_=l,p=c;break}E()}else _=l,p=c}else _=l,p=c}}while(0);if(_>>>0>=n>>>0&&E(),1&(r=0|i[(a=n+4|0)>>2])||E(),2&r)i[a>>2]=-2&r,i[_+4>>2]=1|p,i[_+p>>2]=p,M=p;else{if((0|n)==(0|i[49])){if(S=(0|i[46])+p|0,i[46]=S,i[49]=_,i[_+4>>2]=1|S,(0|_)!=(0|i[48]))return;return i[48]=0,void(i[45]=0)}if((0|n)==(0|i[48]))return S=(0|i[45])+p|0,i[45]=S,i[48]=_,i[_+4>>2]=1|S,void(i[_+S>>2]=S);S=(-8&r)+p|0,o=r>>>3;do{if(r>>>0>=256){I=0|i[n+24>>2],y=0|i[n+12>>2];do{if((0|y)==(0|n)){if(A=0|i[(T=(m=n+16|0)+4|0)>>2])v=A,O=T;else{if(!(e=0|i[m>>2])){C=0;break}v=e,O=m}for(;;)if(A=0|i[(T=v+20|0)>>2])v=A,O=T;else{if(!(A=0|i[(T=v+16|0)>>2])){P=v,N=O;break}v=A,O=T}if(!(N>>>0<(0|i[47])>>>0)){i[N>>2]=0,C=P;break}E()}else{if((T=0|i[n+8>>2])>>>0<(0|i[47])>>>0&&E(),(0|i[(A=T+12|0)>>2])!=(0|n)&&E(),(0|i[(m=y+8|0)>>2])==(0|n)){i[A>>2]=y,i[m>>2]=T,C=y;break}E()}}while(0);if(I){if(y=0|i[n+28>>2],(0|n)==(0|i[(c=476+(y<<2)|0)>>2])){if(i[c>>2]=C,!C){i[44]=i[44]&~(1<<y);break}}else if(I>>>0<(0|i[47])>>>0&&E(),(0|i[(y=I+16|0)>>2])==(0|n)?i[y>>2]=C:i[I+20>>2]=C,!C)break;C>>>0<(y=0|i[47])>>>0&&E(),i[C+24>>2]=I,l=0|i[(c=n+16|0)>>2];do{if(l){if(!(l>>>0<y>>>0)){i[C+16>>2]=l,i[l+24>>2]=C;break}E()}}while(0);if(l=0|i[c+4>>2]){if(!(l>>>0<(0|i[47])>>>0)){i[C+20>>2]=l,i[l+24>>2]=C;break}E()}}}else{if(l=0|i[n+8>>2],y=0|i[n+12>>2],(0|l)!=(0|(I=212+(o<<1<<2)|0))&&(l>>>0<(0|i[47])>>>0&&E(),(0|i[l+12>>2])!=(0|n)&&E()),(0|y)==(0|l)){i[43]=i[43]&~(1<<o);break}(0|y)!=(0|I)?(y>>>0<(0|i[47])>>>0&&E(),(0|i[(I=y+8|0)>>2])==(0|n)?b=I:E()):b=y+8|0,i[l+12>>2]=y,i[b>>2]=l}}while(0);if(i[_+4>>2]=1|S,i[_+S>>2]=S,(0|_)==(0|i[48]))return void(i[45]=S);M=S}if(p=M>>>3,M>>>0<256)return r=212+(p<<1<<2)|0,(a=0|i[43])&(S=1<<p)?(b=0|i[(p=r+8|0)>>2])>>>0<(0|i[47])>>>0?E():(R=p,D=b):(i[43]=a|S,R=r+8|0,D=r),i[R>>2]=_,i[D+12>>2]=_,i[_+8>>2]=D,void(i[_+12>>2]=r);L=(r=M>>>8)?M>>>0>16777215?31:M>>>((a=14-((r=((R=r<<(D=(r+1048320|0)>>>16&8))+520192|0)>>>16&4)|D|(R=((S=R<<r)+245760|0)>>>16&2))+(S<<R>>>15)|0)+7|0)&1|a<<1:0,a=476+(L<<2)|0,i[_+28>>2]=L,i[_+20>>2]=0,i[_+16>>2]=0,R=0|i[44],S=1<<L;do{if(R&S){for(D=M<<(31==(0|L)?0:25-(L>>>1)|0),r=0|i[a>>2];;){if((-8&i[r+4>>2]|0)==(0|M)){w=r,B=130;break}if(!(p=0|i[(b=r+16+(D>>>31<<2)|0)>>2])){U=b,G=r,B=127;break}D<<=1,r=p}if(127==(0|B)){if(!(U>>>0<(0|i[47])>>>0)){i[U>>2]=_,i[_+24>>2]=G,i[_+12>>2]=_,i[_+8>>2]=_;break}E()}else if(130==(0|B)){if((D=0|i[(r=w+8|0)>>2])>>>0>=(c=0|i[47])>>>0&w>>>0>=c>>>0){i[D+12>>2]=_,i[r>>2]=_,i[_+8>>2]=D,i[_+12>>2]=w,i[_+24>>2]=0;break}E()}}else i[44]=R|S,i[a>>2]=_,i[_+24>>2]=a,i[_+12>>2]=_,i[_+8>>2]=_}while(0);if(_=(0|i[51])-1|0,i[51]=_,!_){for(k=628;_=0|i[k>>2];)k=_+8|0;i[51]=-1}}},_i64Add:U,_bitshift64Ashr:w,_i64Subtract:B,_memset:G,_malloc:function(e){e|=0;var t=0,n=0,r=0,o=0,a=0,s=0,l=0,c=0,u=0,d=0,_=0,p=0,f=0,h=0,S=0,T=0,m=0,I=0,C=0,v=0,O=0,P=0,b=0,M=0,R=0,D=0,L=0,w=0,B=0,U=0,G=0,k=0,Y=0,F=0,K=0,x=0,H=0,j=0,V=0,W=0,Q=0,$=0,z=0,J=0,q=0,X=0,Z=0,ee=0,te=0,ne=0,re=0,ie=0,oe=0,ae=0,se=0,le=0,ce=0,ue=0,de=0,_e=0,pe=0,fe=0,Ee=0,Ae=0,ge=0,he=0,Se=0,Te=0,me=0,Ie=0,ye=0,Ce=0,ve=0,Oe=0,Pe=0,Ne=0,be=0,Me=0,Re=0,De=0,Le=0,we=0,Be=0,Ue=0,Ge=0,ke=0,Ye=0,Fe=0,Ke=0,xe=0;do{if(e>>>0<245){if(n=(t=e>>>0<11?16:e+11&-8)>>>3,3&(o=(r=0|i[43])>>>n)){c=0|i[(l=(s=212+((a=(1&o^1)+n|0)<<1<<2)|0)+8|0)>>2],d=0|i[(u=c+8|0)>>2];do{if((0|s)!=(0|d)){if(d>>>0<(0|i[47])>>>0&&E(),(0|i[(_=d+12|0)>>2])==(0|c)){i[_>>2]=s,i[l>>2]=d;break}E()}else i[43]=r&~(1<<a)}while(0);return d=a<<3,i[c+4>>2]=3|d,i[(l=c+d+4|0)>>2]=1|i[l>>2],0|u}if(t>>>0>(l=0|i[45])>>>0){if(o){p=0|i[(h=(f=212+((S=((d=(_=(d=((s=o<<n&((d=2<<n)|0-d))&0-s)-1|0)>>>(s=d>>>12&16))>>>5&8)|s|(_=(p=_>>>d)>>>2&4)|(p=(f=p>>>_)>>>1&2)|(f=(h=f>>>p)>>>1&1))+(h>>>f)|0)<<1<<2)|0)+8|0)>>2],s=0|i[(_=p+8|0)>>2];do{if((0|f)!=(0|s)){if(s>>>0<(0|i[47])>>>0&&E(),(0|i[(d=s+12|0)>>2])==(0|p)){i[d>>2]=f,i[h>>2]=s,T=0|i[45];break}E()}else i[43]=r&~(1<<S),T=l}while(0);return l=(S<<3)-t|0,i[p+4>>2]=3|t,i[(r=p+t|0)+4>>2]=1|l,i[r+l>>2]=l,T&&(s=0|i[48],f=212+((h=T>>>3)<<1<<2)|0,(n=0|i[43])&(o=1<<h)?(u=0|i[(h=f+8|0)>>2])>>>0<(0|i[47])>>>0?E():(m=h,I=u):(i[43]=n|o,m=f+8|0,I=f),i[m>>2]=s,i[I+12>>2]=s,i[s+8>>2]=I,i[s+12>>2]=f),i[45]=l,i[48]=r,0|_}if(r=0|i[44]){for(u=0|i[476+(((l=(f=(l=(r&0-r)-1|0)>>>(r=l>>>12&16))>>>5&8)|r|(f=(s=f>>>l)>>>2&4)|(s=(o=s>>>f)>>>1&2)|(o=(n=o>>>s)>>>1&1))+(n>>>o)<<2)>>2],o=(-8&i[u+4>>2])-t|0,n=u,s=u;;){if(u=0|i[n+16>>2])O=u;else{if(!(f=0|i[n+20>>2])){C=o,v=s;break}O=f}o=(f=(u=(-8&i[O+4>>2])-t|0)>>>0<o>>>0)?u:o,n=O,s=f?O:s}v>>>0<(s=0|i[47])>>>0&&E(),v>>>0>=(n=v+t|0)>>>0&&E(),o=0|i[v+24>>2],_=0|i[v+12>>2];do{if((0|_)==(0|v)){if(S=0|i[(p=v+20|0)>>2])b=S,M=p;else{if(!(u=0|i[(f=v+16|0)>>2])){P=0;break}b=u,M=f}for(;;)if(S=0|i[(p=b+20|0)>>2])b=S,M=p;else{if(!(S=0|i[(p=b+16|0)>>2])){R=b,D=M;break}b=S,M=p}if(!(D>>>0<s>>>0)){i[D>>2]=0,P=R;break}E()}else{if((p=0|i[v+8>>2])>>>0<s>>>0&&E(),(0|i[(S=p+12|0)>>2])!=(0|v)&&E(),(0|i[(f=_+8|0)>>2])==(0|v)){i[S>>2]=_,i[f>>2]=p,P=_;break}E()}}while(0);do{if(o){if(_=0|i[v+28>>2],(0|v)==(0|i[(s=476+(_<<2)|0)>>2])){if(i[s>>2]=P,!P){i[44]=i[44]&~(1<<_);break}}else if(o>>>0<(0|i[47])>>>0&&E(),(0|i[(_=o+16|0)>>2])==(0|v)?i[_>>2]=P:i[o+20>>2]=P,!P)break;P>>>0<(_=0|i[47])>>>0&&E(),i[P+24>>2]=o,s=0|i[v+16>>2];do{if(s){if(!(s>>>0<_>>>0)){i[P+16>>2]=s,i[s+24>>2]=P;break}E()}}while(0);if(s=0|i[v+20>>2]){if(!(s>>>0<(0|i[47])>>>0)){i[P+20>>2]=s,i[s+24>>2]=P;break}E()}}}while(0);return C>>>0<16?(o=C+t|0,i[v+4>>2]=3|o,i[(s=v+o+4|0)>>2]=1|i[s>>2]):(i[v+4>>2]=3|t,i[n+4>>2]=1|C,i[n+C>>2]=C,(s=0|i[45])&&(o=0|i[48],s=212+((_=s>>>3)<<1<<2)|0,(p=0|i[43])&(f=1<<_)?(S=0|i[(_=s+8|0)>>2])>>>0<(0|i[47])>>>0?E():(L=_,w=S):(i[43]=p|f,L=s+8|0,w=s),i[L>>2]=o,i[w+12>>2]=o,i[o+8>>2]=w,i[o+12>>2]=s),i[45]=C,i[48]=n),0|(v+8|0)}B=t}else B=t}else if(e>>>0<=4294967231)if(o=-8&(s=e+11|0),f=0|i[44]){p=0-o|0,U=(S=s>>>8)?o>>>0>16777215?31:o>>>((r=14-((S=((_=S<<(s=(S+1048320|0)>>>16&8))+520192|0)>>>16&4)|s|(_=((u=_<<S)+245760|0)>>>16&2))+(u<<_>>>15)|0)+7|0)&1|r<<1:0,r=0|i[476+(U<<2)>>2];e:do{if(r)for(_=p,u=0,s=o<<(31==(0|U)?0:25-(U>>>1)|0),S=r,l=0;;){if((c=(h=-8&i[S+4>>2])-o|0)>>>0<_>>>0){if((0|h)==(0|o)){K=c,x=S,H=S,F=90;break e}j=c,V=S}else j=_,V=l;if(h=0==(0|(c=0|i[S+20>>2]))|(0|c)==(0|(S=0|i[S+16+(s>>>31<<2)>>2]))?u:c,c=0==(0|S)){G=j,k=h,Y=V,F=86;break}_=j,u=h,s<<=1&c^1,l=V}else G=p,k=0,Y=0,F=86}while(0);if(86==(0|F)){if(0==(0|k)&0==(0|Y)){if(!(p=f&((r=2<<U)|0-r))){B=o;break}W=0|i[476+(((r=(t=(r=(p&0-p)-1|0)>>>(p=r>>>12&16))>>>5&8)|p|(t=(n=t>>>r)>>>2&4)|(n=(l=n>>>t)>>>1&2)|(l=(s=l>>>n)>>>1&1))+(s>>>l)<<2)>>2]}else W=k;W?(K=G,x=W,H=Y,F=90):(Q=G,$=Y)}if(90==(0|F))for(;;)if(F=0,n=(s=(l=(-8&i[x+4>>2])-o|0)>>>0<K>>>0)?l:K,l=s?x:H,s=0|i[x+16>>2])K=n,x=s,H=l,F=90;else{if(!(x=0|i[x+20>>2])){Q=n,$=l;break}K=n,H=l,F=90}if(0!=(0|$)&&Q>>>0<((0|i[45])-o|0)>>>0){$>>>0<(f=0|i[47])>>>0&&E(),$>>>0>=(l=$+o|0)>>>0&&E(),n=0|i[$+24>>2],s=0|i[$+12>>2];do{if((0|s)==(0|$)){if(p=0|i[(t=$+20|0)>>2])J=p,q=t;else{if(!(u=0|i[(r=$+16|0)>>2])){z=0;break}J=u,q=r}for(;;)if(p=0|i[(t=J+20|0)>>2])J=p,q=t;else{if(!(p=0|i[(t=J+16|0)>>2])){X=J,Z=q;break}J=p,q=t}if(!(Z>>>0<f>>>0)){i[Z>>2]=0,z=X;break}E()}else{if((t=0|i[$+8>>2])>>>0<f>>>0&&E(),(0|i[(p=t+12|0)>>2])!=(0|$)&&E(),(0|i[(r=s+8|0)>>2])==(0|$)){i[p>>2]=s,i[r>>2]=t,z=s;break}E()}}while(0);do{if(n){if(s=0|i[$+28>>2],(0|$)==(0|i[(f=476+(s<<2)|0)>>2])){if(i[f>>2]=z,!z){i[44]=i[44]&~(1<<s);break}}else if(n>>>0<(0|i[47])>>>0&&E(),(0|i[(s=n+16|0)>>2])==(0|$)?i[s>>2]=z:i[n+20>>2]=z,!z)break;z>>>0<(s=0|i[47])>>>0&&E(),i[z+24>>2]=n,f=0|i[$+16>>2];do{if(f){if(!(f>>>0<s>>>0)){i[z+16>>2]=f,i[f+24>>2]=z;break}E()}}while(0);if(f=0|i[$+20>>2]){if(!(f>>>0<(0|i[47])>>>0)){i[z+20>>2]=f,i[f+24>>2]=z;break}E()}}}while(0);do{if(Q>>>0>=16){if(i[$+4>>2]=3|o,i[l+4>>2]=1|Q,i[l+Q>>2]=Q,n=Q>>>3,Q>>>0<256){f=212+(n<<1<<2)|0,(s=0|i[43])&(t=1<<n)?(r=0|i[(n=f+8|0)>>2])>>>0<(0|i[47])>>>0?E():(ee=n,te=r):(i[43]=s|t,ee=f+8|0,te=f),i[ee>>2]=l,i[te+12>>2]=l,i[l+8>>2]=te,i[l+12>>2]=f;break}if(ne=(f=Q>>>8)?Q>>>0>16777215?31:Q>>>((n=14-((f=((s=f<<(t=(f+1048320|0)>>>16&8))+520192|0)>>>16&4)|t|(s=((r=s<<f)+245760|0)>>>16&2))+(r<<s>>>15)|0)+7|0)&1|n<<1:0,n=476+(ne<<2)|0,i[l+28>>2]=ne,i[(s=l+16|0)+4>>2]=0,i[s>>2]=0,!((s=0|i[44])&(r=1<<ne))){i[44]=s|r,i[n>>2]=l,i[l+24>>2]=n,i[l+12>>2]=l,i[l+8>>2]=l;break}for(r=Q<<(31==(0|ne)?0:25-(ne>>>1)|0),s=0|i[n>>2];;){if((-8&i[s+4>>2]|0)==(0|Q)){re=s,F=148;break}if(!(t=0|i[(n=s+16+(r>>>31<<2)|0)>>2])){ie=n,oe=s,F=145;break}r<<=1,s=t}if(145==(0|F)){if(!(ie>>>0<(0|i[47])>>>0)){i[ie>>2]=l,i[l+24>>2]=oe,i[l+12>>2]=l,i[l+8>>2]=l;break}E()}else if(148==(0|F)){if((r=0|i[(s=re+8|0)>>2])>>>0>=(t=0|i[47])>>>0&re>>>0>=t>>>0){i[r+12>>2]=l,i[s>>2]=l,i[l+8>>2]=r,i[l+12>>2]=re,i[l+24>>2]=0;break}E()}}else r=Q+o|0,i[$+4>>2]=3|r,i[(s=$+r+4|0)>>2]=1|i[s>>2]}while(0);return 0|($+8|0)}B=o}else B=o;else B=-1}while(0);if(($=0|i[45])>>>0>=B>>>0)return Q=$-B|0,re=0|i[48],Q>>>0>15?(oe=re+B|0,i[48]=oe,i[45]=Q,i[oe+4>>2]=1|Q,i[oe+Q>>2]=Q,i[re+4>>2]=3|B):(i[45]=0,i[48]=0,i[re+4>>2]=3|$,i[(Q=re+$+4|0)>>2]=1|i[Q>>2]),0|(re+8|0);if((re=0|i[46])>>>0>B>>>0)return Q=re-B|0,i[46]=Q,$=(re=0|i[49])+B|0,i[49]=$,i[$+4>>2]=1|Q,i[re+4>>2]=3|B,0|(re+8|0);do{if(!(0|i[161])){if(!((re=0|y(30))+-1&re)){i[163]=re,i[162]=re,i[164]=-1,i[165]=-1,i[166]=0,i[154]=0,i[161]=-16&(0|g(0))^1431655768;break}E()}}while(0);if(re=B+48|0,(Q=(oe=(Q=0|i[163])+($=B+47|0)|0)&(ie=0-Q|0))>>>0<=B>>>0)return 0|0;if(0!=(0|(ne=0|i[153]))&&(ee=(te=0|i[151])+Q|0)>>>0<=te>>>0|ee>>>0>ne>>>0)return 0|0;e:do{if(4&i[154])F=190;else{ne=0|i[49];t:do{if(ne){for(ee=620;;){if((te=0|i[ee>>2])>>>0<=ne>>>0&&(te+(0|i[(z=ee+4|0)>>2])|0)>>>0>ne>>>0){ae=ee,se=z;break}if(!(ee=0|i[ee+8>>2])){F=173;break t}}if((ee=oe-(0|i[46])&ie)>>>0<2147483647)if((0|(z=0|A(0|ee)))==((0|i[ae>>2])+(0|i[se>>2])|0)){if(-1!=(0|z)){le=z,ce=ee,F=193;break e}}else ue=z,de=ee,F=183}else F=173}while(0);do{if(173==(0|F)&&-1!=(0|(ne=0|A(0)))&&(o=ne,_e=(z=(ee=0|i[162])+-1|0)&o?Q-o+(z+o&0-ee)|0:Q,o=(ee=0|i[151])+_e|0,_e>>>0>B>>>0&_e>>>0<2147483647)){if(0!=(0|(z=0|i[153]))&&o>>>0<=ee>>>0|o>>>0>z>>>0)break;if((0|(z=0|A(0|_e)))==(0|ne)){le=ne,ce=_e,F=193;break e}ue=z,de=_e,F=183}}while(0);t:do{if(183==(0|F)){z=0-de|0;do{if(re>>>0>de>>>0&de>>>0<2147483647&-1!=(0|ue)&&(o=$-de+(ne=0|i[163])&0-ne)>>>0<2147483647){if(-1==(0|A(0|o))){A(0|z);break t}pe=o+de|0;break}pe=de}while(0);if(-1!=(0|ue)){le=ue,ce=pe,F=193;break e}}}while(0);i[154]=4|i[154],F=190}}while(0);if(190==(0|F)&&Q>>>0<2147483647&&(pe=0|A(0|Q))>>>0<(Q=0|A(0))>>>0&-1!=(0|pe)&-1!=(0|Q)&&(ue=Q-pe|0)>>>0>(B+40|0)>>>0&&(le=pe,ce=ue,F=193),193==(0|F)){ue=(0|i[151])+ce|0,i[151]=ue,ue>>>0>(0|i[152])>>>0&&(i[152]=ue),ue=0|i[49];do{if(ue){pe=620;do{if((0|le)==((Q=0|i[pe>>2])+($=0|i[(de=pe+4|0)>>2])|0)){fe=Q,Ee=de,Ae=$,ge=pe,F=203;break}pe=0|i[pe+8>>2]}while(0!=(0|pe));if(203==(0|F)&&0==(8&i[ge+12>>2]|0)&&ue>>>0<le>>>0&ue>>>0>=fe>>>0){i[Ee>>2]=Ae+ce,pe=ue+($=0==(7&(pe=ue+8|0)|0)?0:0-pe&7)|0,de=ce-$+(0|i[46])|0,i[49]=pe,i[46]=de,i[pe+4>>2]=1|de,i[pe+de+4>>2]=40,i[50]=i[165];break}for(le>>>0<(de=0|i[47])>>>0?(i[47]=le,he=le):he=de,de=le+ce|0,pe=620;;){if((0|i[pe>>2])==(0|de)){Se=pe,Te=pe,F=211;break}if(!(pe=0|i[pe+8>>2])){me=620;break}}if(211==(0|F)){if(!(8&i[Te+12>>2])){i[Se>>2]=le,i[(pe=Te+4|0)>>2]=(0|i[pe>>2])+ce,$=le+(0==(7&(pe=le+8|0)|0)?0:0-pe&7)|0,Q=de+(0==(7&(pe=de+8|0)|0)?0:0-pe&7)|0,pe=$+B|0,re=Q-$-B|0,i[$+4>>2]=3|B;do{if((0|Q)!=(0|ue)){if((0|Q)==(0|i[48])){_e=(0|i[45])+re|0,i[45]=_e,i[48]=pe,i[pe+4>>2]=1|_e,i[pe+_e>>2]=_e;break}if(1==(3&(_e=0|i[Q+4>>2])|0)){se=-8&_e,ae=_e>>>3;e:do{if(_e>>>0>=256){ie=0|i[Q+24>>2],oe=0|i[Q+12>>2];do{if((0|oe)==(0|Q)){if(ne=0|i[(o=(z=Q+16|0)+4|0)>>2])ye=ne,Ce=o;else{if(!(ee=0|i[z>>2])){Ie=0;break}ye=ee,Ce=z}for(;;)if(ne=0|i[(o=ye+20|0)>>2])ye=ne,Ce=o;else{if(!(ne=0|i[(o=ye+16|0)>>2])){ve=ye,Oe=Ce;break}ye=ne,Ce=o}if(!(Oe>>>0<he>>>0)){i[Oe>>2]=0,Ie=ve;break}E()}else{if((o=0|i[Q+8>>2])>>>0<he>>>0&&E(),(0|i[(ne=o+12|0)>>2])!=(0|Q)&&E(),(0|i[(z=oe+8|0)>>2])==(0|Q)){i[ne>>2]=oe,i[z>>2]=o,Ie=oe;break}E()}}while(0);if(!ie)break;o=476+((oe=0|i[Q+28>>2])<<2)|0;do{if((0|Q)==(0|i[o>>2])){if(i[o>>2]=Ie,Ie)break;i[44]=i[44]&~(1<<oe);break e}if(ie>>>0<(0|i[47])>>>0&&E(),(0|i[(z=ie+16|0)>>2])==(0|Q)?i[z>>2]=Ie:i[ie+20>>2]=Ie,!Ie)break e}while(0);Ie>>>0<(oe=0|i[47])>>>0&&E(),i[Ie+24>>2]=ie,z=0|i[(o=Q+16|0)>>2];do{if(z){if(!(z>>>0<oe>>>0)){i[Ie+16>>2]=z,i[z+24>>2]=Ie;break}E()}}while(0);if(!(z=0|i[o+4>>2]))break;if(!(z>>>0<(0|i[47])>>>0)){i[Ie+20>>2]=z,i[z+24>>2]=Ie;break}E()}else{z=0|i[Q+8>>2],oe=0|i[Q+12>>2],ie=212+(ae<<1<<2)|0;do{if((0|z)!=(0|ie)){if(z>>>0<he>>>0&&E(),(0|i[z+12>>2])==(0|Q))break;E()}}while(0);if((0|oe)==(0|z)){i[43]=i[43]&~(1<<ae);break}do{if((0|oe)==(0|ie))Pe=oe+8|0;else{if(oe>>>0<he>>>0&&E(),(0|i[(o=oe+8|0)>>2])==(0|Q)){Pe=o;break}E()}}while(0);i[z+12>>2]=oe,i[Pe>>2]=z}}while(0);Ne=Q+se|0,be=se+re|0}else Ne=Q,be=re;if(i[(ae=Ne+4|0)>>2]=-2&i[ae>>2],i[pe+4>>2]=1|be,i[pe+be>>2]=be,ae=be>>>3,be>>>0<256){_e=212+(ae<<1<<2)|0,ie=0|i[43],o=1<<ae;do{if(ie&o){if((ne=0|i[(ae=_e+8|0)>>2])>>>0>=(0|i[47])>>>0){Me=ae,Re=ne;break}E()}else i[43]=ie|o,Me=_e+8|0,Re=_e}while(0);i[Me>>2]=pe,i[Re+12>>2]=pe,i[pe+8>>2]=Re,i[pe+12>>2]=_e;break}o=be>>>8;do{if(o){if(be>>>0>16777215){De=31;break}De=be>>>((ee=14-((ne=((se=o<<(ie=(o+1048320|0)>>>16&8))+520192|0)>>>16&4)|ie|(se=((ae=se<<ne)+245760|0)>>>16&2))+(ae<<se>>>15)|0)+7|0)&1|ee<<1}else De=0}while(0);if(o=476+(De<<2)|0,i[pe+28>>2]=De,i[(_e=pe+16|0)+4>>2]=0,i[_e>>2]=0,!((_e=0|i[44])&(ee=1<<De))){i[44]=_e|ee,i[o>>2]=pe,i[pe+24>>2]=o,i[pe+12>>2]=pe,i[pe+8>>2]=pe;break}for(ee=be<<(31==(0|De)?0:25-(De>>>1)|0),_e=0|i[o>>2];;){if((-8&i[_e+4>>2]|0)==(0|be)){Le=_e,F=281;break}if(!(se=0|i[(o=_e+16+(ee>>>31<<2)|0)>>2])){we=o,Be=_e,F=278;break}ee<<=1,_e=se}if(278==(0|F)){if(!(we>>>0<(0|i[47])>>>0)){i[we>>2]=pe,i[pe+24>>2]=Be,i[pe+12>>2]=pe,i[pe+8>>2]=pe;break}E()}else if(281==(0|F)){if((ee=0|i[(_e=Le+8|0)>>2])>>>0>=(se=0|i[47])>>>0&Le>>>0>=se>>>0){i[ee+12>>2]=pe,i[_e>>2]=pe,i[pe+8>>2]=ee,i[pe+12>>2]=Le,i[pe+24>>2]=0;break}E()}}else ee=(0|i[46])+re|0,i[46]=ee,i[49]=pe,i[pe+4>>2]=1|ee}while(0);return 0|($+8|0)}me=620}for(;;){if((pe=0|i[me>>2])>>>0<=ue>>>0&&(re=pe+(0|i[me+4>>2])|0)>>>0>ue>>>0){Ue=re;break}me=0|i[me+8>>2]}pe=($=(pe=($=Ue+-47|0)+(0==(7&(re=$+8|0)|0)?0:0-re&7)|0)>>>0<(re=ue+16|0)>>>0?ue:pe)+8|0,Q=le+(de=0==(7&(Q=le+8|0)|0)?0:0-Q&7)|0,ee=ce+-40-de|0,i[49]=Q,i[46]=ee,i[Q+4>>2]=1|ee,i[Q+ee+4>>2]=40,i[50]=i[165],i[(ee=$+4|0)>>2]=27,i[pe>>2]=i[155],i[pe+4>>2]=i[156],i[pe+8>>2]=i[157],i[pe+12>>2]=i[158],i[155]=le,i[156]=ce,i[158]=0,i[157]=pe,pe=$+24|0;do{i[(pe=pe+4|0)>>2]=7}while((pe+4|0)>>>0<Ue>>>0);if((0|$)!=(0|ue)){if(pe=$-ue|0,i[ee>>2]=-2&i[ee>>2],i[ue+4>>2]=1|pe,i[$>>2]=pe,Q=pe>>>3,pe>>>0<256){de=212+(Q<<1<<2)|0,(_e=0|i[43])&(se=1<<Q)?(o=0|i[(Q=de+8|0)>>2])>>>0<(0|i[47])>>>0?E():(Ge=Q,ke=o):(i[43]=_e|se,Ge=de+8|0,ke=de),i[Ge>>2]=ue,i[ke+12>>2]=ue,i[ue+8>>2]=ke,i[ue+12>>2]=de;break}if(Ye=(de=pe>>>8)?pe>>>0>16777215?31:pe>>>((Q=14-((de=((_e=de<<(se=(de+1048320|0)>>>16&8))+520192|0)>>>16&4)|se|(_e=((o=_e<<de)+245760|0)>>>16&2))+(o<<_e>>>15)|0)+7|0)&1|Q<<1:0,Q=476+(Ye<<2)|0,i[ue+28>>2]=Ye,i[ue+20>>2]=0,i[re>>2]=0,!((_e=0|i[44])&(o=1<<Ye))){i[44]=_e|o,i[Q>>2]=ue,i[ue+24>>2]=Q,i[ue+12>>2]=ue,i[ue+8>>2]=ue;break}for(o=pe<<(31==(0|Ye)?0:25-(Ye>>>1)|0),_e=0|i[Q>>2];;){if((-8&i[_e+4>>2]|0)==(0|pe)){Fe=_e,F=307;break}if(!(se=0|i[(Q=_e+16+(o>>>31<<2)|0)>>2])){Ke=Q,xe=_e,F=304;break}o<<=1,_e=se}if(304==(0|F)){if(!(Ke>>>0<(0|i[47])>>>0)){i[Ke>>2]=ue,i[ue+24>>2]=xe,i[ue+12>>2]=ue,i[ue+8>>2]=ue;break}E()}else if(307==(0|F)){if((o=0|i[(_e=Fe+8|0)>>2])>>>0>=(pe=0|i[47])>>>0&Fe>>>0>=pe>>>0){i[o+12>>2]=ue,i[_e>>2]=ue,i[ue+8>>2]=o,i[ue+12>>2]=Fe,i[ue+24>>2]=0;break}E()}}}else{0==(0|(o=0|i[47]))|le>>>0<o>>>0&&(i[47]=le),i[155]=le,i[156]=ce,i[158]=0,i[52]=i[161],i[51]=-1,o=0;do{i[(_e=212+(o<<1<<2)|0)+12>>2]=_e,i[_e+8>>2]=_e,o=o+1|0}while(32!=(0|o));o=le+(_e=0==(7&(o=le+8|0)|0)?0:0-o&7)|0,pe=ce+-40-_e|0,i[49]=o,i[46]=pe,i[o+4>>2]=1|pe,i[o+pe+4>>2]=40,i[50]=i[165]}}while(0);if((ce=0|i[46])>>>0>B>>>0)return le=ce-B|0,i[46]=le,ue=(ce=0|i[49])+B|0,i[49]=ue,i[ue+4>>2]=1|le,i[ce+4>>2]=3|B,0|(ce+8|0)}return i[(0|N())>>2]=12,0|0},_memcpy:function(e,t,n){var o;if(e|=0,t|=0,(0|(n|=0))>=4096)return 0|h(0|e,0|t,0|n);if(o=0|e,(3&e)==(3&t)){for(;3&e;){if(!n)return 0|o;r[e>>0]=0|r[t>>0],e=e+1|0,t=t+1|0,n=n-1|0}for(;(0|n)>=4;)i[e>>2]=i[t>>2],e=e+4|0,t=t+4|0,n=n-4|0}for(;(0|n)>0;)r[e>>0]=0|r[t>>0],e=e+1|0,t=t+1|0,n=n-1|0;return 0|o},_bitshift64Lshr:k,_fflush:function e(t){t|=0;var n=0,r=0,o=0,a=0,s=0,l=0,c=0;do{if(t){if((0|i[t+76>>2])<=-1){n=0|L(t);break}r=0==(0|M()),o=0|L(t),r||R(),n=o}else{if(a=0|i[13]?0|e(0|i[13]):0,_(36),o=0|i[8])for(r=o,o=a;;){if(l=(0|i[r+76>>2])>-1?0|M():0,c=(0|i[r+20>>2])>>>0>(0|i[r+28>>2])>>>0?0|L(r)|o:o,l&&R(),!(r=0|i[r+56>>2])){s=c;break}o=c}else s=a;T(36),n=s}}while(0);return 0|n},___errno_location:N,_bitshift64Shl:Y,runPostSets:function(){},stackAlloc:function(e){var t;return t=a,a=(a=a+(e|=0)|0)+15&-16,0|t},stackSave:function(){return 0|a},stackRestore:function(e){a=e|=0},establishStackSpace:function(e,t){a=e|=0,t|=0},setThrew:function(e,t){e|=0,t|=0,s||(s=e,t)},setTempRet0:function(e){l=e|=0},getTempRet0:function(){return 0|l},dynCall_ii:function(e,t){return t|=0,0|K[1&(e|=0)](0|t)},dynCall_iiii:function(e,t,n,r){return t|=0,n|=0,r|=0,0|x[3&(e|=0)](0|t,0|n,0|r)},dynCall_vi:function(e,t){t|=0,H[1&(e|=0)](0|t)}}}(e.Na,e.Oa,buffer);e._curve25519_donna=Z._curve25519_donna;var Da=e._free=Z._free;e.runPostSets=Z.runPostSets;var cb=e._i64Add=Z._i64Add,ab=e._bitshift64Ashr=Z._bitshift64Ashr,bb=e._i64Subtract=Z._i64Subtract,db=e._memset=Z._memset,ua=e._malloc=Z._malloc,gc=e._memcpy=Z._memcpy,fb=e._bitshift64Lshr=Z._bitshift64Lshr;e._fflush=Z._fflush,e.___errno_location=Z.___errno_location;var gb=e._bitshift64Shl=Z._bitshift64Shl;function xc(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}e.dynCall_ii=Z.dynCall_ii,e.dynCall_iiii=Z.dynCall_iiii,e.dynCall_vi=Z.dynCall_vi,n.W=Z.stackAlloc,n.na=Z.stackSave,n.X=Z.stackRestore,n.md=Z.establishStackSpace,n.cb=Z.setTempRet0,n.Ua=Z.getTempRet0,xc.prototype=Error(),xc.prototype.constructor=xc;var Yc=null,Xa=function t(){e.calledRun||$c(),e.calledRun||(Xa=t)};function $c(t){function n(){if(!e.calledRun&&(e.calledRun=!0,!A)){if(xa||(xa=!0,Oa(Qa)),Oa(Ra),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e._main&&bd&&e.callMain(t),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)Ua(e.postRun.shift());Oa(Sa)}}if(t=t||e.arguments,null===Yc&&(Yc=Date.now()),!(0<L)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)Ta(e.preRun.shift());Oa(Pa),0<L||e.calledRun||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n())}}function ad(t,n){if(!n||!e.noExitRuntime)throw!e.noExitRuntime&&(A=!0,m=void 0,Oa(K),e.onExit)&&e.onExit(t),new xc(t)}e.callMain=e.jd=function(t){function n(){for(var e=0;3>e;e++)i.push(0)}assert(0==L,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==Pa.length,"cannot call main when preRun functions remain to be called"),t=t||[],xa||(xa=!0,Oa(Qa));var r=t.length+1,i=[G(Va(e.thisProgram),"i8",0)];n();for(var o=0;o<r-1;o+=1)i.push(G(Va(t[o]),"i8",0)),n();i.push(0),i=G(i,"i32",0);try{ad(e._main(r,i,0),!0)}catch(t){if(!(t instanceof xc)){if("SimulateInfiniteLoop"!=t)throw t&&"object"==typeof t&&t.stack&&e.S("exception thrown: "+[t,t.stack]),t;e.noExitRuntime=!0}}},e.run=e.run=$c,e.exit=e.exit=ad;var cd=[];function z(t){void 0!==t?(e.print(t),e.S(t),t=JSON.stringify(t)):t="",A=!0;var n="abort("+t+") at "+Ea()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw cd&&cd.forEach((function(e){n=e(n,t)})),n}if(e.abort=e.abort=z,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();var bd=!0;e.noInitialRun&&(bd=!1),$c(),module.exports=e},52251:(e,t,n)=>{!function(){var t=void 0,r={};self.libsignal={};var o,a=void 0!==a?a:{},s={};for(o in a)a.hasOwnProperty(o)&&(s[o]=a[o]);var l=[],c=!1,u=!1,d=!1,_=!1;c="object"==typeof window,u="function"==typeof importScripts,d="object"==typeof t&&"object"==typeof t.versions&&"string"==typeof t.versions.node,_=!c&&!d&&!u;var p,f,E,A,g="";function h(e){return a.locateFile?a.locateFile(e,g):g+e}d?(g=u?n(26470).dirname(g)+"/":"//",p=function(e,t){var r=ce(e);return r?t?r:r.toString():(E||(E=n(35747)),A||(A=n(26470)),e=A.normalize(e),E.readFileSync(e,t?null:"utf8"))},f=function(e){var t=p(e,!0);return t.buffer||(t=new Uint8Array(t)),C(t.buffer),t},t.argv.length>1&&t.argv[1].replace(/\\/g,"/"),l=t.argv.slice(2),e.exports=a,t.on("uncaughtException",(function(e){if(!(e instanceof pe))throw e})),t.on("unhandledRejection",V),function(e){t.exit(e)},a.inspect=function(){return"[Emscripten Module object]"}):_?("undefined"!=typeof read&&(p=function(e){var t=ce(e);return t?ae(t):read(e)}),f=function(e){var t;return(t=ce(e))?t:"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(C("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?l=scriptArgs:void 0!==arguments&&(l=arguments),"function"==typeof quit&&function(e){quit(e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(c||u)&&(u?g=self.location.href:document.currentScript&&(g=document.currentScript.src),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",p=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(t){var n=ce(e);if(n)return ae(n);throw t}},u&&(f=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){var n=ce(e);if(n)return n;throw t}}),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)t(r.response);else{var i=ce(e);i?t(i.buffer):n()}},r.onerror=n,r.send(null)});a.print||console.log.bind(console);var S=a.printErr||console.warn.bind(console);for(o in s)s.hasOwnProperty(o)&&(a[o]=s[o]);s=null,a.arguments&&(l=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var T,m;a.wasmBinary&&(T=a.wasmBinary),a.noExitRuntime&&a.noExitRuntime,"object"!=typeof WebAssembly&&V("no native wasm support detected");var I=new WebAssembly.Table({initial:1,maximum:1,element:"anyfunc"}),y=!1;function C(e,t){e||V("Assertion failed: "+t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf8");"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var v,O,P=65536;function N(e){v=e,a.HEAP8=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=new Int32Array(e),a.HEAPU8=O=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var b=a.INITIAL_MEMORY||16777216;(m=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:b/P,maximum:b/P}))&&(v=m.buffer),b=v.byteLength,N(v);var M=[],R=[],D=[],L=[];function w(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)k(a.preRun.shift());te(M)}function B(){!0,te(R)}function U(){te(D)}function G(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)Y(a.postRun.shift());te(L)}function k(e){M.unshift(e)}function Y(e){L.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var F=0,K=null,x=null;function H(e){F++,a.monitorRunDependencies&&a.monitorRunDependencies(F)}function j(e){if(F--,a.monitorRunDependencies&&a.monitorRunDependencies(F),0==F&&(null!==K&&(clearInterval(K),K=null),x)){var t=x;x=null,t()}}function V(e){throw a.onAbort&&a.onAbort(e),S(e+=""),y=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function W(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}a.preloadedImages={},a.preloadedAudios={};var Q="data:application/octet-stream;base64,";function $(e){return W(e,Q)}var z="file://";function J(e){return W(e,z)}var q="data:application/octet-stream;base64,AGFzbQEAAAABTw1gAn9/AGADf39/AGABfwBgAX8Bf2ADf39/AX9gBH9/f38AYAN/f34AYAABf2ACf38Bf2AAAGAFf39/fn8AYAR/f39/AX9gBX9/f35/AX8CSwMDZW52FWVtc2NyaXB0ZW5fbWVtY3B5X2JpZwAEA2VudhZlbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwAAMDZW52Bm1lbW9yeQIBgAKAAgM+PQkIBQsGCgQGAQIAAgIBAQAAAAMDAQAAAAABAAEFCAEBAAAAAAAAAAABAQwFAgIBAAAABAAEBwMDAgcCAwMGEAJ/AUGwisICC38AQaiKAgsH+gEOEV9fd2FzbV9jYWxsX2N0b3JzAAIsY3J5cHRvX3NpZ25fZWQyNTUxOV9yZWYxMF9nZV9zY2FsYXJtdWx0X2Jhc2UAKQ9jdXJ2ZTI1NTE5X3NpZ24ABBFjdXJ2ZTI1NTE5X3ZlcmlmeQAFD3NwaF9zaGE1MTJfaW5pdAAvEGN1cnZlMjU1MTlfZG9ubmEACBBfX2Vycm5vX2xvY2F0aW9uADcJc3RhY2tTYXZlADsMc3RhY2tSZXN0b3JlADwKc3RhY2tBbGxvYwA9Bm1hbGxvYwA5BGZyZWUAOgpfX2RhdGFfZW5kAwEQX19ncm93V2FzbU1lbW9yeQA+Co/VAj0DAAELjQMAIAEtAAEgAC0AAXMgAS0AACAALQAAc3IgAS0AAiAALQACc3IgAS0AAyAALQADc3IgAS0ABCAALQAEc3IgAS0ABSAALQAFc3IgAS0ABiAALQAGc3IgAS0AByAALQAHc3IgAS0ACCAALQAIc3IgAS0ACSAALQAJc3IgAS0ACiAALQAKc3IgAS0ACyAALQALc3IgAS0ADCAALQAMc3IgAS0ADSAALQANc3IgAS0ADiAALQAOc3IgAS0ADyAALQAPc3IgAS0AECAALQAQc3IgAS0AESAALQARc3IgAS0AEiAALQASc3IgAS0AEyAALQATc3IgAS0AFCAALQAUc3IgAS0AFSAALQAVc3IgAS0AFiAALQAWc3IgAS0AFyAALQAXc3IgAS0AGCAALQAYc3IgAS0AGSAALQAZc3IgAS0AGiAALQAac3IgAS0AGyAALQAbc3IgAS0AHCAALQAcc3IgAS0AHSAALQAdc3IgAS0AHiAALQAec3IgAS0AHyAALQAfc3JBf2pBCHZBAXFBf2oL5wEBAn8jAEHwAWsiBCQAIAQgA0HPAGpBcHFrIgUkACAEQgA3AwggBCABKQAQNwMgIAQgASkAGDcDKCAEIAEpAAA3AxAgBCABKQAINwMYIARB0ABqIAEQKSAEQTBqIARB0ABqECggBC0ATyEBIAUgBEEIaiACIAOtIARBEGoQByAAIAUpADg3ADggACAFKQAwNwAwIAAgBSkAKDcAKCAAIAUpACA3ACAgACAFKQAYNwAYIAAgBSkAEDcAECAAIAUpAAg3AAggACAFKQAANwAAIAAgAC0APyABQYABcXI6AD8gBEHwAWokAAuzAgEEfyMAQdACayIHJAAgByADQc8AakFwcSIEayIFIgYkACAGIARrIgYkACAHIgRBoAJqIAEQEiAEQeAAahAOIARB8AFqIARBoAJqIARB4ABqEBsgBEHAAWogBEGgAmogBEHgAGoQDyAEQZABaiAEQcABahATIARBMGogBEHwAWogBEGQAWoQFiAEQRBqIARBMGoQHCAEIAQtAC8gAC0APyIBQYABcXI6AC8gACABQf8AcToAPyAFIAApADA3ADAgBSAAKQAoNwAoIAUgACkAIDcAICAFIAApABg3ABggBSAAKQAQNwAQIAUgACkACDcACCAFIAApAAA3AAAgBSAAKQA4NwA4IAVBQGsgAiADEDQaIAYgBEEIaiAFIANBQGutIARBEGoQLCEAIARB0AJqJAAgAAsyAQF/IwBB0AFrIgMkACADQQhqEC8gA0EIaiABIAKnEDAgA0EIaiAAEDMgA0HQAWokAAumAgIFfwR+IwBBwAJrIgUkACAFQbACaiIGIAQpADA3AwAgBUG4AmoiByAEKQA4NwMAIAUgBCkAIDcDoAIgBSAEKQAoNwOoAiABIANCQH0iCjcDACAAQUBrIAIgA6cQNhogBCkACCELIAQpABAhDCAEKQAAIQ0gAEE4aiICIAQpABg3AAAgAEEwaiIBIAw3AAAgAEEoaiIIIAs3AAAgACANNwAgIAVB4AFqIABBIGoiCSADQiB8EAYgAiAHKQMANwAAIAEgBikDADcAACAIIAUpA6gCNwAAIAAgBSkDoAI3ACAgBUHgAWoQLiAFIAVB4AFqECkgACAFECggBUGgAWogACAKEAYgBUGgAWoQLiAJIAVBoAFqIAQgBUHgAWoQLSAFQcACaiQAC6pNAhN/FX4jAEGgFGsiAyQAIAMgASkAGDcDGCADIAEpABA3AxAgAyABKQAINwMIIAMgASkAADcDACADIAIxAAMiFkIYhkKAgIAYgyACMwAAIAIxAAJCEIaEhDcDcCADIBYgAjEABEIIhoQgAjEABUIQhoQgAjEABiIWQhiGhEICiEL///8PgzcDeCADIBYgAjEAB0IIhoQgAjEACEIQhoQgAjEACSIWQhiGhEIDiEL///8fgzcDgAEgAyAWIAIxAApCCIaEIAIxAAtCEIaEIAIxAAwiFkIYhoRCBYhC////D4M3A4gBIAMgFiACMQANQgiGhCACMQAOQhCGhCACMQAPQhiGhEIGiDcDkAEgAyACMQATIhZCGIZCgICACIMgAjMAECACMQASQhCGhIQ3A5gBIAMgFiACMQAUQgiGhCACMQAVQhCGhCACMQAWIhZCGIaEQgGIQv///x+DNwOgASADIBYgAjEAF0IIhoQgAjEAGEIQhoQgAjEAGSIWQhiGhEIDiEL///8PgzcDqAEgAyAWIAIxABpCCIaEIAIxABtCEIaEIAIxABwiFkIYhoRCBIhC////H4M3A7ABIAMgFiACMQAdQgiGhCACMQAeQhCGhCACMQAfQhiGhEIGiEL///8PgzcDuAEgA0GgCmpBmAEQNSADQgE3A6AKIANBgAlqQZgBEDUgA0IBNwOACSADQeAHakGYARA1IANBwAZqQZgBEDUgA0GgBWpBmAEQNSADQgE3A6AFIANBgARqQZgBEDUgA0HgAmpBmAEQNSADQgE3A+ACIANBkAxqQcgAEDUgA0HAC2ogA0HwAGpB0AAQNBogA0GQAmohESADQYAEaiEHIANBwAZqIQQgA0HgAmohDCADQaAFaiEIIANB4AdqIQIgA0HAC2ohDSADQYAJaiEBIANBoApqIQ8DQCADIA5rLQAfIQlBACEQA0AgBCEGIAEiCiANIgQgCUGAAXFBB3atIhYQCSACIgsgDyIFIBYQCSABIAIpAwAiFyABKQMAIhh8NwMAIAEgAikDCCIZIAEpAwgiGnw3AwggASACKQMQIhsgASkDECIcfDcDECABIAIpAxgiHSABKQMYIh58NwMYIAEgAikDICIfIAEpAyAiIHw3AyAgASACKQMoIiEgASkDKCIifDcDKCABIAIpAzAiIyABKQMwIiR8NwMwIAEgAikDOCIlIAEpAzgiJnw3AzggASACKQNAIicgASkDQCIofDcDQCABIAIpA0giKSABKQNIIip8NwNIIAIgKiApfTcDSCACICggJ303A0AgAiAmICV9NwM4IAIgJCAjfTcDMCACICIgIX03AyggAiAgIB99NwMgIAIgHiAdfTcDGCACIBwgG303AxAgAiAaIBl9NwMIIAIgGCAXfTcDACAEIAUpAwAiFyAEKQMAIhh8NwMAIAQgBSkDCCIZIAQpAwgiGnw3AwggBCAFKQMQIhsgBCkDECIcfDcDECAEIAUpAxgiHSAEKQMYIh58NwMYIAQgBSkDICIfIAQpAyAiIHw3AyAgBCAFKQMoIiEgBCkDKCIifDcDKCAEIAUpAzAiIyAEKQMwIiR8NwMwIAQgBSkDOCIlIAQpAzgiJnw3AzggBCAFKQNAIicgBCkDQCIofDcDQCAEIAUpA0giKSAEKQNIIip8NwNIIAUgKiApfTcDSCAFICggJ303A0AgBSAmICV9NwM4IAUgJCAjfTcDMCAFICIgIX03AyggBSAgIB99NwMgIAUgHiAdfTcDGCAFIBwgG303AxAgBSAaIBl9NwMIIAUgGCAXfTcDACADQcAQaiAEIAIQCiADQaAPaiABIAUQCiADIAMpA9ARIhcgAykDgBF8IBdCEn58NwOAESADIAMpA8gRIhcgAykD+BB8IBdCEn58NwP4ECADIAMpA8ARIhcgAykD8BB8IBdCEn58NwPwECADIAMpA7gRIhcgAykD6BB8IBdCEn58NwPoECADIAMpA7ARIhcgAykD4BB8IBdCEn58NwPgECADIAMpA6gRIhcgAykD2BB8IBdCEn58NwPYECADIAMpA6ARIhcgAykD0BB8IBdCEn58NwPQECADIAMpA5gRIhcgAykDyBB8IBdCEn58NwPIECADIAMpA5ARIhcgAykDwBB8IBdCEn58NwPAECADQcAQahALIAMgAykDsBAiFyADKQPgD3wgF0ISfnw3A+APIAMgAykDqBAiFyADKQPYD3wgF0ISfnw3A9gPIAMgAykDoBAiFyADKQPQD3wgF0ISfnw3A9APIAMgAykDmBAiFyADKQPID3wgF0ISfnw3A8gPIAMgAykDkBAiFyADKQPAD3wgF0ISfnw3A8APIAMgAykDiBAiFyADKQO4D3wgF0ISfnw3A7gPIAMgAykDgBAiFyADKQOwD3wgF0ISfnw3A7APIAMgAykD+A8iFyADKQOoD3wgF0ISfnw3A6gPIAMgAykD8A8iFyADKQOgD3wgF0ISfnw3A6APIANBoA9qEAsgAyADKQOgDyIbIAMpA8AQIhx8NwPAECADIAMpA6gPIh0gAykDyBAiHnw3A8gQIAMgAykDsA8iHyADKQPQECIgfDcD0BAgAyADKQO4DyIhIAMpA9gQIiJ8NwPYECADIAMpA8APIiMgAykD4BAiJHw3A+AQIAMpA4gRIRcgAykDgBEhGCADKQP4ECEZIAMpA/AQIRogAyADKQPIDyIlIAMpA+gQIiZ8NwPoECADIBogAykD0A8iJ3w3A/AQIAMgGSADKQPYDyIofDcD+BAgAyAYIAMpA+APIil8NwOAESADIBcgAykD6A8iKnw3A4gRIAMgJCAjfTcDwA8gAyAeIB19NwOoDyADICAgH303A7APIAMgIiAhfTcDuA8gAyAmICV9NwPIDyADIBogJ303A9APIAMgGSAofTcD2A8gAyAYICl9NwPgDyADIBcgKn03A+gPIAMgHCAbfTcDoA8gA0HgDGogA0HAEGoQDCADQYAOaiADQaAPahAMIANBoA9qIANBgA5qIANB8ABqEAogAyADKQOwECIXIAMpA+APfCAXQhJ+fDcD4A8gAyADKQOoECIXIAMpA9gPfCAXQhJ+fDcD2A8gAyADKQOgECIXIAMpA9APfCAXQhJ+fDcD0A8gAyADKQOYECIXIAMpA8gPfCAXQhJ+fDcDyA8gAyADKQOQECIXIAMpA8APfCAXQhJ+fDcDwA8gAyADKQOIECIXIAMpA7gPfCAXQhJ+fDcDuA8gAyADKQOAECIXIAMpA7APfCAXQhJ+fDcDsA8gAyADKQP4DyIXIAMpA6gPfCAXQhJ+fDcDqA8gAyADKQPwDyIXIAMpA6APfCAXQhJ+fDcDoA8gA0GgD2oQCyAGIANB4AxqQdAAEDQhBiAIIg8gA0GgD2pB0AAQNCEIIANBgBNqIAEQDCADQeARaiACEAwgByIBIANBgBNqIANB4BFqEAogASABKQOQASIXIAEpA0B8IBdCEn58NwNAIAEgASkDiAEiFyABKQM4fCAXQhJ+fDcDOCABIAEpA4ABIhcgASkDMHwgF0ISfnw3AzAgASABKQN4IhcgASkDKHwgF0ISfnw3AyggASABKQNwIhcgASkDIHwgF0ISfnw3AyAgASABKQNoIhcgASkDGHwgF0ISfnw3AxggASABKQNgIhcgASkDEHwgF0ISfnw3AxAgASABKQNYIhcgASkDCHwgF0ISfnw3AwggASABKQNQIhcgASkDAHwgF0ISfnw3AwAgARALIAMgAykDgBMiFyADKQPgEX0iGDcD4BEgAyADKQOIEyIZIAMpA+gRfSIaNwPoESADIAMpA5ATIhsgAykD8BF9Ihw3A/ARIAMgAykDmBMiHSADKQP4EX0iHjcD+BEgAyADKQOgEyIfIAMpA4ASfSIgNwOAEiADIAMpA6gTIiEgAykDiBJ9IiI3A4gSIAMgAykDsBMiIyADKQOQEn0iJDcDkBIgAyADKQO4EyIlIAMpA5gSfSImNwOYEiADIAMpA8ATIicgAykDoBJ9Iig3A6ASIAMgAykDyBMiKSADKQOoEn0iKjcDqBIgEUHIABA1IAMgKkLBtgd+NwOIAiADIChCwbYHfjcDgAIgAyAmQsG2B343A/gBIAMgJELBtgd+NwPwASADICJCwbYHfjcD6AEgAyAgQsG2B343A+ABIAMgHkLBtgd+NwPYASADIBxCwbYHfjcD0AEgAyAaQsG2B343A8gBIAMgGELBtgd+NwPAASADQcABahALIAMgFyADKQPAAXw3A8ABIAMgGSADKQPIAXw3A8gBIAMgGyADKQPQAXw3A9ABIAMgHSADKQPYAXw3A9gBIAMgHyADKQPgAXw3A+ABIAMgISADKQPoAXw3A+gBIAMgIyADKQPwAXw3A/ABIAMgJSADKQP4AXw3A/gBIAMgJyADKQOAAnw3A4ACIAMgKSADKQOIAnw3A4gCIAwiAiADQeARaiADQcABahAKIAIgAikDkAEiFyACKQNAfCAXQhJ+fDcDQCACIAIpA4gBIhcgAikDOHwgF0ISfnw3AzggAiACKQOAASIXIAIpAzB8IBdCEn58NwMwIAIgAikDeCIXIAIpAyh8IBdCEn58NwMoIAIgAikDcCIXIAIpAyB8IBdCEn58NwMgIAIgAikDaCIXIAIpAxh8IBdCEn58NwMYIAIgAikDYCIXIAIpAxB8IBdCEn58NwMQIAIgAikDWCIXIAIpAwh8IBdCEn58NwMIIAIgAikDUCIXIAIpAwB8IBdCEn58NwMAIAIQCyABIAYgFhAJIAIgCCAWEAkgCUEBdCEJIAYhDSALIQwgCiEHIAUhCCAQQQFqIhBBCEcNAAsgDkEBaiIOQSBHDQALIANBIGogAUHQABA0GiADQYATaiACQdAAEDQaIANB4BFqIANBgBNqEAwgA0HABmogA0HgEWoQDCADQeAHaiADQcAGahAMIANBwAFqIANB4AdqIANBgBNqEAogAyADKQPQAiIWIAMpA4ACfCAWQhJ+fDcDgAIgAyADKQPIAiIWIAMpA/gBfCAWQhJ+fDcD+AEgAyADKQPAAiIWIAMpA/ABfCAWQhJ+fDcD8AEgAyADKQO4AiIWIAMpA+gBfCAWQhJ+fDcD6AEgAyADKQOwAiIWIAMpA+ABfCAWQhJ+fDcD4AEgAyADKQOoAiIWIAMpA9gBfCAWQhJ+fDcD2AEgAyADKQOgAiIWIAMpA9ABfCAWQhJ+fDcD0AEgAyADKQOYAiIWIAMpA8gBfCAWQhJ+fDcDyAEgAyADKQOQAiIWIAMpA8ABfCAWQhJ+fDcDwAEgA0HAAWoQCyADQcAQaiADQcABakHQABA0GiADQcABaiADQcAQaiADQeARahAKIAMgAykD0AIiFiADKQOAAnwgFkISfnw3A4ACIAMgAykDyAIiFiADKQP4AXwgFkISfnw3A/gBIAMgAykDwAIiFiADKQPwAXwgFkISfnw3A/ABIAMgAykDuAIiFiADKQPoAXwgFkISfnw3A+gBIAMgAykDsAIiFiADKQPgAXwgFkISfnw3A+ABIAMgAykDqAIiFiADKQPYAXwgFkISfnw3A9gBIAMgAykDoAIiFiADKQPQAXwgFkISfnw3A9ABIAMgAykDmAIiFiADKQPIAXwgFkISfnw3A8gBIAMgAykDkAIiFiADKQPAAXwgFkISfnw3A8ABIANBwAFqEAsgA0GgD2ogA0HAAWpB0AAQNBogA0HgB2ogA0GgD2oQDCADQcABaiADQeAHaiADQcAQahAKIAMgAykD0AIiFiADKQOAAnwgFkISfnw3A4ACIAMgAykDyAIiFiADKQP4AXwgFkISfnw3A/gBIAMgAykDwAIiFiADKQPwAXwgFkISfnw3A/ABIAMgAykDuAIiFiADKQPoAXwgFkISfnw3A+gBIAMgAykDsAIiFiADKQPgAXwgFkISfnw3A+ABIAMgAykDqAIiFiADKQPYAXwgFkISfnw3A9gBIAMgAykDoAIiFiADKQPQAXwgFkISfnw3A9ABIAMgAykDmAIiFiADKQPIAXwgFkISfnw3A8gBIAMgAykDkAIiFiADKQPAAXwgFkISfnw3A8ABIANBwAFqEAsgA0GADmogA0HAAWpB0AAQNBogA0HgB2ogA0GADmoQDCADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgA0HABmogA0HgB2oQDCADQeAHaiADQcAGahAMIANBwAFqIANB4AdqIANBgA5qEAogAyADKQPQAiIWIAMpA4ACfCAWQhJ+fDcDgAIgAyADKQPIAiIWIAMpA/gBfCAWQhJ+fDcD+AEgAyADKQPAAiIWIAMpA/ABfCAWQhJ+fDcD8AEgAyADKQO4AiIWIAMpA+gBfCAWQhJ+fDcD6AEgAyADKQOwAiIWIAMpA+ABfCAWQhJ+fDcD4AEgAyADKQOoAiIWIAMpA9gBfCAWQhJ+fDcD2AEgAyADKQOgAiIWIAMpA9ABfCAWQhJ+fDcD0AEgAyADKQOYAiIWIAMpA8gBfCAWQhJ+fDcDyAEgAyADKQOQAiIWIAMpA8ABfCAWQhJ+fDcDwAEgA0HAAWoQCyADQeAMaiADQcABakHQABA0GiADQeAHaiADQeAMahAMIANBwAZqIANB4AdqEAwgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgA0HABmogA0HgB2oQDCADQeAHaiADQcAGahAMIANBwAZqIANB4AdqEAwgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIANBwAFqIANBwAZqIANB4AxqEAogAyADKQPQAiIWIAMpA4ACfCAWQhJ+fDcDgAIgAyADKQPIAiIWIAMpA/gBfCAWQhJ+fDcD+AEgAyADKQPAAiIWIAMpA/ABfCAWQhJ+fDcD8AEgAyADKQO4AiIWIAMpA+gBfCAWQhJ+fDcD6AEgAyADKQOwAiIWIAMpA+ABfCAWQhJ+fDcD4AEgAyADKQOoAiIWIAMpA9gBfCAWQhJ+fDcD2AEgAyADKQOgAiIWIAMpA9ABfCAWQhJ+fDcD0AEgAyADKQOYAiIWIAMpA8gBfCAWQhJ+fDcDyAEgAyADKQOQAiIWIAMpA8ABfCAWQhJ+fDcDwAEgA0HAAWoQCyADQcALaiADQcABakHQABA0GiADQeAHaiADQcALahAMIANBwAZqIANB4AdqEAwgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgA0HABmogA0HgB2oQDCADQeAHaiADQcAGahAMIANBwAZqIANB4AdqEAwgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgA0HABmogA0HgB2oQDCADQeAHaiADQcAGahAMIANBwAZqIANB4AdqEAwgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgA0HABmogA0HgB2oQDCADQeAHaiADQcAGahAMIANBwAZqIANB4AdqEAwgA0HAAWogA0HABmogA0HAC2oQCiADIAMpA9ACIhYgAykDgAJ8IBZCEn58NwOAAiADIAMpA8gCIhYgAykD+AF8IBZCEn58NwP4ASADIAMpA8ACIhYgAykD8AF8IBZCEn58NwPwASADIAMpA7gCIhYgAykD6AF8IBZCEn58NwPoASADIAMpA7ACIhYgAykD4AF8IBZCEn58NwPgASADIAMpA6gCIhYgAykD2AF8IBZCEn58NwPYASADIAMpA6ACIhYgAykD0AF8IBZCEn58NwPQASADIAMpA5gCIhYgAykDyAF8IBZCEn58NwPIASADIAMpA5ACIhYgAykDwAF8IBZCEn58NwPAASADQcABahALIANB4AdqIANBwAFqQdAAEDQaIANBwAZqIANB4AdqEAwgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgA0HABmogA0HgB2oQDCADQeAHaiADQcAGahAMIANBwAZqIANB4AdqEAwgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgA0HAAWogA0HgB2ogA0HgDGoQCiADIAMpA9ACIhYgAykDgAJ8IBZCEn58NwOAAiADIAMpA8gCIhYgAykD+AF8IBZCEn58NwP4ASADIAMpA8ACIhYgAykD8AF8IBZCEn58NwPwASADIAMpA7gCIhYgAykD6AF8IBZCEn58NwPoASADIAMpA7ACIhYgAykD4AF8IBZCEn58NwPgASADIAMpA6gCIhYgAykD2AF8IBZCEn58NwPYASADIAMpA6ACIhYgAykD0AF8IBZCEn58NwPQASADIAMpA5gCIhYgAykDyAF8IBZCEn58NwPIASADIAMpA5ACIhYgAykDwAF8IBZCEn58NwPAASADQcABahALIANBoApqIANBwAFqQdAAEDQaIANB4AdqIANBoApqEAwgA0HABmogA0HgB2oQDEECIQIDQCACQTBJIQEgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIAJBAmohAiABDQALIANBwAFqIANBwAZqIANBoApqEAogAyADKQPQAiIWIAMpA4ACfCAWQhJ+fDcDgAIgAyADKQPIAiIWIAMpA/gBfCAWQhJ+fDcD+AEgAyADKQPAAiIWIAMpA/ABfCAWQhJ+fDcD8AEgAyADKQO4AiIWIAMpA+gBfCAWQhJ+fDcD6AEgAyADKQOwAiIWIAMpA+ABfCAWQhJ+fDcD4AEgAyADKQOoAiIWIAMpA9gBfCAWQhJ+fDcD2AEgAyADKQOgAiIWIAMpA9ABfCAWQhJ+fDcD0AEgAyADKQOYAiIWIAMpA8gBfCAWQhJ+fDcDyAEgAyADKQOQAiIWIAMpA8ABfCAWQhJ+fDcDwAEgA0HAAWoQCyADQYAJaiADQcABakHQABA0GiADQcAGaiADQYAJahAMIANB4AdqIANBwAZqEAxBAiECA0AgAkHiAEkhASADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgAkECaiECIAENAAsgA0HAAWogA0HgB2ogA0GACWoQCiADIAMpA9ACIhYgAykDgAJ8IBZCEn58NwOAAiADIAMpA8gCIhYgAykD+AF8IBZCEn58NwP4ASADIAMpA8ACIhYgAykD8AF8IBZCEn58NwPwASADIAMpA7gCIhYgAykD6AF8IBZCEn58NwPoASADIAMpA7ACIhYgAykD4AF8IBZCEn58NwPgASADIAMpA6gCIhYgAykD2AF8IBZCEn58NwPYASADIAMpA6ACIhYgAykD0AF8IBZCEn58NwPQASADIAMpA5gCIhYgAykDyAF8IBZCEn58NwPIASADIAMpA5ACIhYgAykDwAF8IBZCEn58NwPAASADQcABahALIANBwAZqIANBwAFqQdAAEDQaIANB4AdqIANBwAZqEAwgA0HABmogA0HgB2oQDEECIQIDQCACQTBJIQEgA0HgB2ogA0HABmoQDCADQcAGaiADQeAHahAMIAJBAmohAiABDQALIANBwAFqIANBwAZqIANBoApqEAogAyADKQPQAiIWIAMpA4ACfCAWQhJ+fDcDgAIgAyADKQPIAiIWIAMpA/gBfCAWQhJ+fDcD+AEgAyADKQPAAiIWIAMpA/ABfCAWQhJ+fDcD8AEgAyADKQO4AiIWIAMpA+gBfCAWQhJ+fDcD6AEgAyADKQOwAiIWIAMpA+ABfCAWQhJ+fDcD4AEgAyADKQOoAiIWIAMpA9gBfCAWQhJ+fDcD2AEgAyADKQOgAiIWIAMpA9ABfCAWQhJ+fDcD0AEgAyADKQOYAiIWIAMpA8gBfCAWQhJ+fDcDyAEgAyADKQOQAiIWIAMpA8ABfCAWQhJ+fDcDwAEgA0HAAWoQCyADQeAHaiADQcABakHQABA0GiADQcAGaiADQeAHahAMIANB4AdqIANBwAZqEAwgA0HABmogA0HgB2oQDCADQeAHaiADQcAGahAMIANBwAZqIANB4AdqEAwgA0HAAWogA0HABmogA0GgD2oQCiADIAMpA9ACIhYgAykDgAJ8IBZCEn58NwOAAiADIAMpA8gCIhYgAykD+AF8IBZCEn58NwP4ASADIAMpA8ACIhYgAykD8AF8IBZCEn58NwPwASADIAMpA7gCIhYgAykD6AF8IBZCEn58NwPoASADIAMpA7ACIhYgAykD4AF8IBZCEn58NwPgASADIAMpA6gCIhYgAykD2AF8IBZCEn58NwPYASADIAMpA6ACIhYgAykD0AF8IBZCEn58NwPQASADIAMpA5gCIhYgAykDyAF8IBZCEn58NwPIASADIAMpA5ACIhYgAykDwAF8IBZCEn58NwPAASADQcABahALIANBoAVqIANBwAFqQdAAEDQaIANBwAFqIANBIGogA0GgBWoQCiADIAMpA9ACIhYgAykDgAJ8IBZCEn58NwOAAiADIAMpA8gCIhYgAykD+AF8IBZCEn58NwP4ASADIAMpA8ACIhYgAykD8AF8IBZCEn58NwPwASADIAMpA7gCIhYgAykD6AF8IBZCEn58NwPoASADIAMpA7ACIhYgAykD4AF8IBZCEn58NwPgASADIAMpA6gCIhYgAykD2AF8IBZCEn58NwPYASADIAMpA6ACIhYgAykD0AF8IBZCEn58NwPQASADIAMpA5gCIhYgAykDyAF8IBZCEn58NwPIASADIAMpA5ACIhYgAykDwAF8IBZCEn58NwPAASADQcABahALIANBgBNqIANBwAFqQdAAEDQaIAAgAygCyBMgAygCwBMgAygCuBMgAygCsBMgAygCqBMgAygCoBMgAygCmBMgAygCkBMgAygCiBMgAygCgBMiAkEfdSACcSIIQRp1aiIBQR91IAFxIg1BGXVqIgpBH3UgCnEiEEEadWoiC0EfdSALcSIPQRl1aiIFQR91IAVxIhFBGnVqIgRBH3UgBHEiDkEZdWoiCUEfdSAJcSISQRp1aiIGQR91IAZxIhNBGXVqIgdBH3UgB3EiFEEadWoiDEEfdSAMcSIVQRl1QRNsIAIgCEGAgIBgcWtqIgJBH3UgAnEiCEEadSABIA1BgICAcHFraiIBQR91IAFxIg1BGXUgCiAQQYCAgGBxa2oiCkEfdSAKcSIQQRp1IAsgD0GAgIBwcWtqIgtBH3UgC3EiD0EZdSAFIBFBgICAYHFraiIFQR91IAVxIhFBGnUgBCAOQYCAgHBxa2oiBEEfdSAEcSIOQRl1IAkgEkGAgIBgcWtqIglBH3UgCXEiEkEadSAGIBNBgICAcHFraiIGQR91IAZxIhNBGXUgByAUQYCAgGBxa2oiB0EfdSAHcSIUQRp1IAwgFUGAgIBwcWtqIgxBH3UgDHEiFUEZdUETbCACIAhBgICAYHFraiICIAIgAkEfdXEiAkGAgIBgcWsiCEEadSABIA1BgICAcHFrIAJBGnVqaiICQRl1IAogEEGAgIBgcWtqIgpBGnUgCyAPQYCAgHBxa2oiC0EZdSAFIBFBgICAYHFraiIFQRp1IAQgDkGAgIBwcWtqIgRBGXUgCSASQYCAgGBxa2oiCUEadSAGIBNBgICAcHFraiIGQRl1IAcgFEGAgIBgcWtqIgdBGnUgDCAVQYCAgHBxa2oiDEEZdUETbCAIQf///x9xaiIIQRp1IAJB////D3FqIgFBGXUgCkH///8fcWoiCkEadSALQf///w9xaiILQRl1IAVB////H3FqIgVBGnUgBEH///8PcWoiAkH///8PcSAKQYCAgGByIApBEHRxIgRBCHQgBHEiBEEEdCAEcSIEQQJ0IARxIgRBAXQgBHEgAUGAgIBwciABQRB0cSIEQQh0IARxIgRBBHQgBHEiBEECdCAEcSIEQQF0IARxcSALQYCAgHByIAtBEHRxIgRBCHQgBHEiBEEEdCAEcSIEQQJ0IARxIgRBAXQgBHFxIAVBgICAYHIgBUEQdHEiBEEIdCAEcSIEQQR0IARxIgRBAnQgBHEiBEEBdCAEcXEgAkGAgIBwciACQRB0cSIEQQh0IARxIgRBBHQgBHEiBEECdCAEcSIEQQF0IARxcUEfdSAMQf///w9xIAdB////H3EgBkH///8PcSAJQf///x9xIAJBGXVqIgRBGnVqIglBGXVqIgZBGnVqIgdBGXVBE2wgCEH///8fcWoiCEGTgIBgakEfdUF/c3EgBEGAgIBgciAEQRB0cSICQQh0IAJxIgJBBHQgAnEiAkECdCACcSICQQF0IAJxQR91cSAJQYCAgHByIAlBEHRxIgJBCHQgAnEiAkEEdCACcSICQQJ0IAJxIgJBAXQgAnFBH3VxIAZBgICAYHIgBkEQdHEiAkEIdCACcSICQQR0IAJxIgJBAnQgAnEiAkEBdCACcUEfdXEgB0GAgIBwciAHQRB0cSICQQh0IAJxIgJBBHQgAnEiAkECdCACcSICQQF0IAJxQR91cSINQf///w9xIgJrIgw6ABAgACAIIA1B7f//H3FrIgg6AAAgACAHQf///w9xIAJrIgdBEnY6AB8gACAHQQp2OgAeIAAgB0ECdjoAHSAAIAZB////H3EgDUH///8fcSIGayINQQx2OgAbIAAgDUEEdjoAGiAAIAlB////D3EgAmsiCUENdjoAGCAAIAlBBXY6ABcgACAEQf///x9xIAZrIgRBD3Y6ABUgACAEQQd2OgAUIAAgDEEQdjoAEiAAIAxBCHY6ABEgACAFQf///x9xIAZrIgVBEnY6AA8gACAFQQp2OgAOIAAgBUECdjoADSAAIAtB////D3EgAmsiC0ELdjoACyAAIAtBA3Y6AAogACAKQf///x9xIAZrIgpBDXY6AAggACAKQQV2OgAHIAAgAUH///8PcSACayICQQ52OgAFIAAgAkEGdjoABCAAIAhBEHY6AAIgACAIQQh2OgABIAAgB0EGdCANQRR2cjoAHCAAIA1BBHQgCUEVdnI6ABkgACAJQQN0IARBF3ZyOgAWIAAgBEEBdCAMQRh2cjoAEyAAIAVBBnQgC0ETdnI6AAwgACALQQV0IApBFXZyOgAJIAAgCkEDdCACQRZ2cjoABiAAIAJBAnQgCEEYdnI6AAMgA0GgFGokAEEAC7gDAQJ/IABBACACp2siBCAAKQMAIgIgASkDAIWncSIDIAKnc6w3AwAgASADIAEoAgBzrDcDACAAIAApAwgiAiABKQMIhacgBHEiAyACp3OsNwMIIAEgAyABKAIIc6w3AwggACAAKQMQIgIgASkDEIWnIARxIgMgAqdzrDcDECABIAMgASgCEHOsNwMQIAAgACkDGCICIAEpAxiFpyAEcSIDIAKnc6w3AxggASADIAEoAhhzrDcDGCAAIAApAyAiAiABKQMghacgBHEiAyACp3OsNwMgIAEgAyABKAIgc6w3AyAgACAAKQMoIgIgASkDKIWnIARxIgMgAqdzrDcDKCABIAMgASgCKHOsNwMoIAAgACkDMCICIAEpAzCFpyAEcSIDIAKnc6w3AzAgASADIAEoAjBzrDcDMCAAIAApAzgiAiABKQM4hacgBHEiAyACp3OsNwM4IAEgAyABKAI4c6w3AzggACAAKQNAIgIgASkDQIWnIARxIgMgAqdzrDcDQCABIAMgASgCQHOsNwNAIAAgACkDSCICIAEpA0iFpyAEcSIEIAKnc6w3A0ggASAEIAEoAkhzrDcDSAuiCgAgACACNAIAIAE0AgB+NwMAIAAgAjQCACABNAIIfiACNAIIIAE0AgB+fDcDCCAAIAI0AhAgATQCAH4gAjQCCCABKQMIQiCGQh+HfnwgAjQCACABNAIQfnw3AxAgACACNAIIIAE0AhB+IAI0AhAgATQCCH58IAI0AhggATQCAH58IAI0AgAgATQCGH58NwMYIAAgAjQCECABNAIQfiACNAIIIAE0Ahh+IAI0AhggATQCCH58QgGGfCACNAIgIAE0AgB+fCACNAIAIAE0AiB+fDcDICAAIAI0AhAgATQCGH4gAjQCGCABNAIQfnwgAjQCICABNAIIfnwgAjQCCCABNAIgfnwgAjQCKCABNAIAfnwgAjQCACABNAIofnw3AyggACACNAIgIAE0AhB+IAI0AiggATQCCH4gAjQCGCABNAIYfnwgAjQCCCABNAIofnxCAYZ8IAI0AhAgATQCIH58IAI0AjAgATQCAH58IAI0AgAgATQCMH58NwMwIAAgAjQCGCABNAIgfiACNAIgIAE0Ahh+fCACNAIoIAE0AhB+fCACNAIQIAE0Aih+fCACNAIwIAE0Agh+fCACNAIIIAE0AjB+fCACNAI4IAE0AgB+fCACNAIAIAE0Ajh+fDcDOCAAIAI0AiAgATQCIH4gAjQCGCABNAIofiACNAIoIAE0Ahh+fCACNAI4IAE0Agh+fCACNAIIIAE0Ajh+fEIBhnwgAjQCMCABNAIQfnwgAjQCECABNAIwfnwgAjQCQCABNAIAfnwgAjQCACABNAJAfnw3A0AgACACNAIgIAE0Aih+IAI0AiggATQCIH58IAI0AjAgATQCGH58IAI0AhggATQCMH58IAI0AjggATQCEH58IAI0AhAgATQCOH58IAI0AkAgATQCCH58IAI0AgggATQCQH58IAI0AkggATQCAH58IAI0AgAgATQCSH58NwNIIAAgAjQCMCABNAIgfiACNAI4IAE0Ahh+IAI0AiggATQCKH58IAI0AhggATQCOH58IAI0AkggATQCCH58IAI0AgggATQCSH58QgGGfCACNAIgIAE0AjB+fCACNAJAIAE0AhB+fCACNAIQIAE0AkB+fDcDUCAAIAI0AiggATQCMH4gAjQCMCABNAIofnwgAjQCOCABNAIgfnwgAjQCICABNAI4fnwgAjQCQCABNAIYfnwgAjQCGCABNAJAfnwgAjQCSCABNAIQfnwgAjQCECABNAJIfnw3A1ggACACNAIwIAE0AjB+IAI0AiggATQCOH4gAjQCOCABNAIofnwgAjQCSCABNAIYfnwgAjQCGCABNAJIfnxCAYZ8IAI0AkAgATQCIH58IAI0AiAgATQCQH58NwNgIAAgAjQCMCABNAI4fiACNAI4IAE0AjB+fCACNAJAIAE0Aih+fCACNAIoIAE0AkB+fCACNAJIIAE0AiB+fCACNAIgIAE0Akh+fDcDaCAAIAI0AkAgATQCMH4gAjQCSCABNAIofiACNAI4IAE0Ajh+fCACNAIoIAE0Akh+fEIBhnwgAjQCMCABNAJAfnw3A3AgACACNAI4IAE0AkB+IAI0AkAgATQCOH58IAI0AkggATQCMH58IAI0AjAgATQCSH58NwN4IAAgAjQCQCABNAJAfiACNAI4IAE0Akh+IAI0AkggATQCOH58QgGGfDcDgAEgACACNAJAIAE0Akh+IAI0AkggATQCQH58NwOIASAAIAI0AkggASkDSEIghkIfh343A5ABC4YEAQN+IABCADcDUCAAIAApAwAiASABIAFCIIinQR91QQZ2rXwiAUKAgIBgg30iAjcDACAAIAApAwggAUIah3wiASABIAFCIIinQR91QQd2rXwiAUKAgIBwg303AwggACAAKQMQIAFCGYd8IgEgASABQiCIp0EfdUEGdq18IgFCgICAYIN9NwMQIAAgACkDGCABQhqHfCIBIAEgAUIgiKdBH3VBB3atfCIBQoCAgHCDfTcDGCAAIAApAyAgAUIZh3wiASABIAFCIIinQR91QQZ2rXwiAUKAgIBgg303AyAgACAAKQMoIAFCGod8IgEgASABQiCIp0EfdUEHdq18IgFCgICAcIN9NwMoIAAgACkDMCABQhmHfCIBIAEgAUIgiKdBH3VBBnatfCIBQoCAgGCDfTcDMCAAIAApAzggAUIah3wiASABIAFCIIinQR91QQd2rXwiAUKAgIBwg303AzggACAAKQNAIAFCGYd8IgEgASABQiCIp0EfdUEGdq18IgFCgICAYIN9NwNAIAAgACkDSCABQhqHfCIBIAEgAUIgiKdBH3VBB3atfCIBQoCAgHCDfTcDSCAAKQNQIQMgAEIANwNQIAAgAiADIAFCGYd8IgF8IAFCEn58IgEgASABQiCIp0EfdUEGdq18IgFCgICAYIN9NwMAIAAgACkDCCABQhqHfDcDCAuaBgIBfxZ+IwBBoAFrIgIkACACIAEpAwBCIIYiBUIghyIDIAN+Ig43AwAgAiABKQMIQiCGIgZCIIciDSAFQh+HIgh+Ig83AwggAiABNAIQIgUgA34gDSANfnxCAYYiEDcDECACIAE0AhgiByADfiAFIA1+fEIBhiIRNwMYIAIgByAGQh6HfiAFIAV+fCABNAIgIgkgCH58IhI3AyAgAiAJIA1+IAUgB358IAEpAyhCIIYiE0IghyIIIAN+fEIBhiIUNwMoIAIgBSAJfiAHIAd+fCAIIAZCH4d+fCABNAIwIgYgA358QgGGIhU3AzAgAiAFIAh+IAcgCX58IAYgDX58IAEpAzhCIIYiFkIghyIKIAN+fEIBhiIXNwM4IAIgBiAHfiAIIAl+fCAFIAp+fCABKQNAQiCGIgRCIIciCyANfnwgASkDSEIghiIYQiCHIgwgA358QgGGNwNIIAIgDCAEQh+HfiIENwOIASACIAQgF3wgBEISfnw3AzggAiAMIBZCHod+IAsgC358IgQ3A4ABIAIgBCAVfCAEQhJ+fDcDMCACIBhCH4cgDH4iBDcDkAEgAiAJIAl+IAMgC34gBSAGfnwgCiANfiAHIAh+fEIBhnxCAYZ8IARCE358NwNAIAIgBiAMfiAKIAt+fCIDQgGGIgQ3A3ggAiAEIBR8IANCJH58NwMoIAIgBiALfiAKIAp+fCAMIBNCH4d+fCIDQgGGIgQ3A3AgAiAEIBJ8IANCJH58NwMgIAIgCCALfiAGIAp+fCAJIAx+fCIDQgGGIgQ3A2ggAiAEIBF8IANCJH58NwMYIAIgCSAKfiAGIAh+fCAHIAt+fCAFIAx+fCIDQgGGIgQ3A1ggAiAEIA98IANCJH58NwMIIAIgBiAGfiAJIAt+IAcgDH4gCCAKfnxCAYZ8QgGGfCIDNwNgIAIgAyAQfCADQhJ+fDcDECACIAYgCX4gCCAIfnwgBSALfnwgDCANfiAHIAp+fEIBhnwiBUIBhiIHNwNQIAIgByAOfCAFQiR+fDcDACACEAsgACACQdAAEDQaIAJBoAFqJAALJQAgAEIANwIAIABCADcCICAAQgA3AhggAEIANwIQIABCADcCCAssACAAQgA3AgQgAEEBNgIAIABCADcCDCAAQgA3AhQgAEIANwIcIABBADYCJAvsAQESfyACKAIAIQMgASgCACEEIAIoAgQhBSABKAIEIQYgAigCCCEHIAEoAgghCCACKAIMIQkgASgCDCEKIAIoAhAhCyABKAIQIQwgAigCFCENIAEoAhQhDiACKAIYIQ8gASgCGCEQIAIoAhwhESABKAIcIRIgAigCICETIAEoAiAhFCAAIAIoAiQgASgCJGo2AiQgACATIBRqNgIgIAAgESASajYCHCAAIA8gEGo2AhggACANIA5qNgIUIAAgCyAMajYCECAAIAkgCmo2AgwgACAHIAhqNgIIIAAgBSAGajYCBCAAIAMgBGo2AgALrwIBE38gASgCACEMIAAoAgAhAyABKAIEIQ0gACgCBCEEIAEoAgghDiAAKAIIIQUgASgCDCEPIAAoAgwhBiABKAIQIRAgACgCECEHIAEoAhQhESAAKAIUIQggASgCGCESIAAoAhghCSABKAIcIRMgACgCHCEKIAEoAiAhFCAAKAIgIQsgACAAKAIkIhUgASgCJHNBACACayIBcSAVczYCJCAAIAsgCyAUcyABcXM2AiAgACAKIAogE3MgAXFzNgIcIAAgCSAJIBJzIAFxczYCGCAAIAggCCARcyABcXM2AhQgACAHIAcgEHMgAXFzNgIQIAAgBiAGIA9zIAFxczYCDCAAIAUgBSAOcyABcXM2AgggACAEIAQgDXMgAXFzNgIEIAAgAyADIAxzIAFxczYCAAtGAQR+IAEpAgAhAiABKQIIIQMgASkCECEEIAEpAhghBSAAIAEpAiA3AiAgACAFNwIYIAAgBDcCECAAIAM3AgggACACNwIAC/QEARl+IAE1AAAhByABMQAfIQIgATEAHiENIAExAB0hDiABMQAGIQggATEABSEJIAExAAQhAyABMQAJIQ8gATEACCEQIAExAAchESABMQAMIQogATEACyELIAExAAohBCABMQAPIRIgATEADiETIAExAA0hFCABMQAcIQUgATEAGyEVIAExABohFiABMQAZIQYgATEAGCEXIAExABchGCAAIAExABVCD4YgATEAFEIHhoQgATEAFkIXhoQgATUAECIZQoCAgAh8IhpCGYh8IgwgDEKAgIAQfCIMQoCAgOAPg30+AhggACAXQg2GIBhCBYaEIAZCFYaEIgYgDEIaiHwgBkKAgIAIfCIGQoCAgPADg30+AhwgACAVQgyGIBZCBIaEIAVCFIaEIAZCGYh8IgUgBUKAgIAQfCIFQoCAgOAPg30+AiAgACATQgqGIBRCAoaEIBJCEoaEIAtCC4YgBEIDhoQgCkIThoQiCkKAgIAIfCILQhmIfCIEIARCgICAEHwiBEKAgIDgD4N9PgIQIAAgEEINhiARQgWGhCAPQhWGhCAJQg6GIANCBoaEIAhCFoaEIghCgICACHwiCUIZiHwiAyADQoCAgBB8IgNCgICA4A+DfT4CCCAAIAJCEoZCgIDwD4MgDUIKhiAOQgKGhIQiAiAFQhqIfCACQoCAgAh8IgJCgICAEIN9PgIkIAAgGSAEQhqIfCAaQoCAgPAPg30+AhQgACADQhqIIAp8IAtCgICA8ACDfT4CDCAAIAggCUKAgIDwB4N9IAcgAkIZiEITfnwiB0KAgIAQfCICQhqIfD4CBCAAIAcgAkKAgIDgD4N9PgIAC/IGAQF/IwBBwAFrIgIkACACQZABaiABEBkgAkHgAGogAkGQAWoQGSACQeAAaiACQeAAahAZIAJB4ABqIAEgAkHgAGoQFiACQZABaiACQZABaiACQeAAahAWIAJBMGogAkGQAWoQGSACQeAAaiACQeAAaiACQTBqEBYgAkEwaiACQeAAahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJB4ABqIAJBMGogAkHgAGoQFiACQTBqIAJB4ABqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqIAJB4ABqEBYgAiACQTBqEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAiACEBkgAkEwaiACIAJBMGoQFiACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQeAAaiACQTBqIAJB4ABqEBYgAkEwaiACQeAAahAZQQEhAQNAIAJBMGogAkEwahAZIAFBAWoiAUEyRw0ACyACQTBqIAJBMGogAkHgAGoQFiACIAJBMGoQGUEBIQEDQCACIAIQGSABQQFqIgFB5ABHDQALIAJBMGogAiACQTBqEBYgAkEwaiACQTBqEBlBASEBA0AgAkEwaiACQTBqEBkgAUEBaiIBQTJHDQALIAJB4ABqIAJBMGogAkHgAGoQFiACQeAAaiACQeAAahAZIAJB4ABqIAJB4ABqEBkgAkHgAGogAkHgAGoQGSACQeAAaiACQeAAahAZIAJB4ABqIAJB4ABqEBkgACACQeAAaiACQZABahAWIAJBwAFqJAALJgEBfyMAQSBrIgEkACABIAAQHCABLQAAIQAgAUEgaiQAIABBAXELJQEBfyMAQSBrIgEkACABIAAQHCABQYAIEAMhACABQSBqJAAgAAudCQIMfyd+IAAgAigCBCIDrCIXIAEoAhQiBEEBdKwiIH4gAjQCACIPIAE0AhgiEn58IAIoAggiBawiGSABNAIQIhN+fCACKAIMIgasIhwgASgCDCIHQQF0rCIhfnwgAigCECIIrCIdIAE0AggiFH58IAIoAhQiCawiIiABKAIEIgpBAXSsIiN+fCACKAIYIgusIiwgATQCACIVfnwgAigCHCIMQRNsrCIYIAEoAiQiDUEBdKwiJH58IAIoAiAiDkETbKwiECABNAIgIhZ+fCACKAIkIgJBE2ysIhEgASgCHCIBQQF0rCIlfnwgEyAXfiAPIASsIiZ+fCAZIAesIid+fCAUIBx+fCAdIAqsIih+fCAVICJ+fCALQRNsrCIaIA2sIil+fCAWIBh+fCAQIAGsIip+fCARIBJ+fCAXICF+IA8gE358IBQgGX58IBwgI358IBUgHX58IAlBE2ysIisgJH58IBYgGn58IBggJX58IBAgEn58IBEgIH58Ii5CgICAEHwiL0Iah3wiMEKAgIAIfCIxQhmHfCIeIB5CgICAEHwiH0KAgIDgD4N9PgIYIAAgFyAjfiAPIBR+fCAVIBl+fCAGQRNsrCIbICR+fCAWIAhBE2ysIh5+fCAlICt+fCASIBp+fCAYICB+fCAQIBN+fCARICF+fCAVIBd+IA8gKH58IAVBE2ysIi0gKX58IBYgG358IB4gKn58IBIgK358IBogJn58IBMgGH58IBAgJ358IBEgFH58IANBE2ysICR+IA8gFX58IBYgLX58IBsgJX58IBIgHn58ICAgK358IBMgGn58IBggIX58IBAgFH58IBEgI358Ii1CgICAEHwiMkIah3wiM0KAgIAIfCI0QhmHfCIbIBtCgICAEHwiNUKAgIDgD4N9PgIIIAAgEiAXfiAPICp+fCAZICZ+fCATIBx+fCAdICd+fCAUICJ+fCAoICx+fCAVIAysIht+fCAQICl+fCARIBZ+fCAfQhqHfCIfIB9CgICACHwiH0KAgIDwD4N9PgIcIAAgFCAXfiAPICd+fCAZICh+fCAVIBx+fCAeICl+fCAWICt+fCAaICp+fCASIBh+fCAQICZ+fCARIBN+fCA1QhqHfCIQIBBCgICACHwiEEKAgIDwD4N9PgIMIAAgFyAlfiAPIBZ+fCASIBl+fCAcICB+fCATIB1+fCAhICJ+fCAUICx+fCAbICN+fCAVIA6sIhh+fCARICR+fCAfQhmHfCIRIBFCgICAEHwiEUKAgIDgD4N9PgIgIAAgMCAxQoCAgPAPg30gLiAvQoCAgGCDfSAQQhmHfCIQQoCAgBB8IhpCGoh8PgIUIAAgECAaQoCAgOAPg30+AhAgACAWIBd+IA8gKX58IBkgKn58IBIgHH58IB0gJn58IBMgIn58ICcgLH58IBQgG358IBggKH58IBUgAqx+fCARQhqHfCIPIA9CgICACHwiD0KAgIDwD4N9PgIkIAAgMyA0QoCAgPAPg30gLSAyQoCAgGCDfSAPQhmHQhN+fCIPQoCAgBB8IhJCGoh8PgIEIAAgDyASQoCAgOAPg30+AgALqgEBCX8gASgCACECIAEoAgQhAyABKAIIIQQgASgCDCEFIAEoAhAhBiABKAIUIQcgASgCGCEIIAEoAhwhCSABKAIgIQogAEEAIAEoAiRrNgIkIABBACAKazYCICAAQQAgCWs2AhwgAEEAIAhrNgIYIABBACAHazYCFCAAQQAgBms2AhAgAEEAIAVrNgIMIABBACAEazYCCCAAQQAgA2s2AgQgAEEAIAJrNgIAC78GAQJ/IwBBkAFrIgIkACACQeAAaiABEBkgAkEwaiACQeAAahAZIAJBMGogAkEwahAZIAJBMGogASACQTBqEBYgAkHgAGogAkHgAGogAkEwahAWIAJB4ABqIAJB4ABqEBkgAkHgAGogAkEwaiACQeAAahAWIAJBMGogAkHgAGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQTBqIAJBMGoQGSACQeAAaiACQTBqIAJB4ABqEBYgAkEwaiACQeAAahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwahAZIAJBMGogAkEwaiACQeAAahAWIAIgAkEwahAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAIgAhAZIAJBMGogAiACQTBqEBYgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkEwaiACQTBqEBkgAkHgAGogAkEwaiACQeAAahAWIAJBMGogAkHgAGoQGUEBIQMDQCACQTBqIAJBMGoQGSADQQFqIgNBMkcNAAsgAkEwaiACQTBqIAJB4ABqEBYgAiACQTBqEBlBASEDA0AgAiACEBkgA0EBaiIDQeQARw0ACyACQTBqIAIgAkEwahAWIAJBMGogAkEwahAZQQEhAwNAIAJBMGogAkEwahAZIANBAWoiA0EyRw0ACyACQeAAaiACQTBqIAJB4ABqEBYgAkHgAGogAkHgAGoQGSACQeAAaiACQeAAahAZIAAgAkHgAGogARAWIAJBkAFqJAALywYCB38bfiAAIAEoAgwiAkEBdKwiDiACrCIafiABKAIQIgWsIg0gASgCCCIGQQF0rCISfnwgASgCFCICQQF0rCIPIAEoAgQiB0EBdKwiCX58IAEoAhgiBKwiECABKAIAIghBAXSsIgx+fCABKAIgIgNBE2ysIgogA6wiF358IAEoAiQiA0EmbKwiCyABKAIcIgFBAXSsIht+fCAJIA1+IBIgGn58IAKsIhggDH58IAogG358IAsgEH58IAkgDn4gBqwiFSAVfnwgDCANfnwgAUEmbKwiFiABrCIcfnwgCiAEQQF0rH58IAsgD358Ih5CgICAEHwiH0Iah3wiIEKAgIAIfCIhQhmHfCIRIBFCgICAEHwiE0KAgIDgD4N9PgIYIAAgDCAVfiAJIAesIhR+fCAEQRNsrCIRIBB+fCAPIBZ+fCAKIAVBAXSsIh1+fCALIA5+fCAPIBF+IAwgFH58IA0gFn58IAogDn58IAsgFX58IAJBJmysIBh+IAisIhQgFH58IBEgHX58IA4gFn58IAogEn58IAkgC358IhFCgICAEHwiFEIah3wiIkKAgIAIfCIjQhmHfCIZIBlCgICAEHwiGUKAgIDgD4N9PgIIIAAgEiAYfiANIA5+fCAJIBB+fCAMIBx+fCALIBd+fCATQhqHfCITIBNCgICACHwiE0KAgIDwD4N9PgIcIAAgDCAafiAJIBV+fCAQIBZ+fCAKIA9+fCALIA1+fCAZQhqHfCIKIApCgICACHwiCkKAgIDwD4N9PgIMIAAgECASfiANIA1+fCAOIA9+fCAJIBt+fCAMIBd+fCALIAOsIg1+fCATQhmHfCILIAtCgICAEHwiC0KAgIDgD4N9PgIgIAAgICAhQoCAgPAPg30gHiAfQoCAgGCDfSAKQhmHfCIKQoCAgBB8Ig9CGoh8PgIUIAAgCiAPQoCAgOAPg30+AhAgACAOIBB+IBggHX58IBIgHH58IAkgF358IAwgDX58IAtCGod8IgkgCUKAgIAIfCIJQoCAgPAPg30+AiQgACAiICNCgICA8A+DfSARIBRCgICAYIN9IAlCGYdCE358IglCgICAEHwiDEIaiHw+AgQgACAJIAxCgICA4A+DfT4CAAvpBgIJfxx+IAAgASgCDCIEQQF0rCIRIAEoAgQiBUEBdKwiC34gASgCCCIGrCIWIBZ+fCABKAIQIgesIhAgASgCACIIQQF0rCIOfnwgASgCHCICQSZsrCIXIAKsIhp+fCABKAIgIglBE2ysIgwgASgCGCIDQQF0rH58IAEoAiQiCkEmbKwiDSABKAIUIgFBAXSsIhJ+fEIBhiIeQoCAgBB8Ih9CGocgCyAQfiAGQQF0rCIUIASsIht+fCABrCIYIA5+fCAMIAJBAXSsIhx+fCANIAOsIhN+fEIBhnwiIEKAgIAIfCIhQhmHIBEgG34gECAUfnwgCyASfnwgDiATfnwgDCAJrCIZfnwgDSAcfnxCAYZ8Ig8gD0KAgIAQfCIVQoCAgOAPg30+AhggACABQSZsrCAYfiAIrCIPIA9+fCADQRNsrCIPIAdBAXSsIh1+fCARIBd+fCAMIBR+fCALIA1+fEIBhiIiQoCAgBB8IiNCGocgDyASfiAOIAWsIiR+fCAQIBd+fCAMIBF+fCANIBZ+fEIBhnwiJUKAgIAIfCImQhmHIA4gFn4gCyAkfnwgDyATfnwgEiAXfnwgDCAdfnwgDSARfnxCAYZ8Ig8gD0KAgIAQfCIPQoCAgOAPg30+AgggACAUIBh+IBAgEX58IAsgE358IA4gGn58IA0gGX58QgGGIBVCGod8IhUgFUKAgIAIfCIVQoCAgPAPg30+AhwgACAOIBt+IAsgFn58IBMgF358IAwgEn58IA0gEH58QgGGIA9CGod8IgwgDEKAgIAIfCIMQoCAgPAPg30+AgwgACATIBR+IBAgEH58IBEgEn58IAsgHH58IA4gGX58IA0gCqwiEH58QgGGIBVCGYd8Ig0gDUKAgIAQfCINQoCAgOAPg30+AiAgACAgICFCgICA8A+DfSAeIB9CgICAYIN9IAxCGYd8IgxCgICAEHwiEkIaiHw+AhQgACAMIBJCgICA4A+DfT4CECAAIBEgE34gGCAdfnwgFCAafnwgCyAZfnwgDiAQfnxCAYYgDUIah3wiCyALQoCAgAh8IgtCgICA8A+DfT4CJCAAICUgJkKAgIDwD4N9ICIgI0KAgIBgg30gC0IZh0ITfnwiC0KAgIAQfCIOQhqIfD4CBCAAIAsgDkKAgIDgD4N9PgIAC+wBARJ/IAIoAgAhAyABKAIAIQQgAigCBCEFIAEoAgQhBiACKAIIIQcgASgCCCEIIAIoAgwhCSABKAIMIQogAigCECELIAEoAhAhDCACKAIUIQ0gASgCFCEOIAIoAhghDyABKAIYIRAgAigCHCERIAEoAhwhEiACKAIgIRMgASgCICEUIAAgASgCJCACKAIkazYCJCAAIBQgE2s2AiAgACASIBFrNgIcIAAgECAPazYCGCAAIA4gDWs2AhQgACAMIAtrNgIQIAAgCiAJazYCDCAAIAggB2s2AgggACAGIAVrNgIEIAAgBCADazYCAAv2BAEKfyAAIAEoAiAiBiABKAIcIgcgASgCGCIIIAEoAhQiCSABKAIQIgogASgCDCILIAEoAggiBCABKAIEIgMgASgCACICIAEoAiQiBUETbEGAgIAIakEZdWpBGnVqQRl1akEadWpBGXVqQRp1akEZdWpBGnVqQRl1akEadSAFakEZdUETbCACaiIBOgAAIAAgAUEQdjoAAiAAIAFBCHY6AAEgACADIAFBGnVqIgJBDnY6AAUgACACQQZ2OgAEIAAgBCACQRl1aiIDQQ12OgAIIAAgA0EFdjoAByAAIAFBGHZBA3EgAkH///8PcSIEQQJ0cjoAAyAAIAsgA0EadWoiAkELdjoACyAAIAJBA3Y6AAogACADQf///x9xIgNBA3QgBEEWdnI6AAYgACAKIAJBGXVqIgFBEnY6AA8gACABQQp2OgAOIAAgAUECdjoADSAAIAJB////D3EiBEEFdCADQRV2cjoACSAAIAkgAUEadWoiAjoAECAAIAFBBnQgBEETdnI6AAwgACACQRB2OgASIAAgAkEIdjoAESAAIAggAkEZdWoiAUEPdjoAFSAAIAFBB3Y6ABQgACAHIAFBGnVqIgNBDXY6ABggACADQQV2OgAXIAAgAkEYdkEBcSABQf///x9xIgRBAXRyOgATIAAgBiADQRl1aiIBQQx2OgAbIAAgAUEEdjoAGiAAIANB////D3EiA0EDdCAEQRd2cjoAFiAAIAUgAUEadWoiAkEKdjoAHiAAIAJBAnY6AB0gACABQf///x9xIgFBBHQgA0EVdnI6ABkgACACQf///w9xIgJBEnY6AB8gACACQQZ0IAFBFHZyOgAcC5UBAQR/IwBBMGsiBSQAIAAgAUEoaiIDIAEQDyAAQShqIgQgAyABEBsgAEHQAGoiAyAAIAIQFiAEIAQgAkEoahAWIABB+ABqIgYgAkH4AGogAUH4AGoQFiAAIAFB0ABqIAJB0ABqEBYgBSAAIAAQDyAAIAMgBBAbIAQgAyAEEA8gAyAFIAYQDyAGIAUgBhAbIAVBMGokAAucCgEKfyMAQeARayIEJAADQCAEQeAPaiAFaiABIAVBA3ZqLQAAIAVBB3F2QQFxOgAAIAVBAWoiBUGAAkcNAAsDQCAHIgZBAWohBwJAIAYgBEHgD2pqIggtAABFDQAgBkH+AUsNAEEBIQFB/gEgBmsiBUEFIAVBBUkbQQFqIQogByEFA0AgASEJAkAgBEHgD2ogBWoiCywAACIBRQ0AIAEgCXQiASAILAAAIgxqIg1BD0wEQCAIIA06AAAgC0EAOgAADAELIAwgAWsiAUFxSA0CIAggAToAAANAIARB4A9qIAVqIgEtAABFBEAgAUEBOgAADAILIAFBADoAACAFQf8BSSEBIAVBAWohBSABDQALCyAJQQFqIgEgBmohBSAJIApHDQALCyAHQYACRw0AC0EAIQUDQCAEQeANaiAFaiADIAVBA3ZqLQAAIAVBB3F2QQFxOgAAIAVBAWoiBUGAAkcNAAtBACEHA0AgByIGQQFqIQcCQCAGIARB4A1qaiIILQAARQ0AIAZB/gFLDQBBASEBQf4BIAZrIgVBBSAFQQVJG0EBaiEKIAchBQNAIAEhCQJAIARB4A1qIAVqIgssAAAiAUUNACABIAl0IgEgCCwAACIMaiINQQ9MBEAgCCANOgAAIAtBADoAAAwBCyAMIAFrIgFBcUgNAiAIIAE6AAADQCAEQeANaiAFaiIBLQAARQRAIAFBAToAAAwCCyABQQA6AAAgBUH/AUkhASAFQQFqIQUgAQ0ACwsgCUEBaiIBIAZqIQUgCSAKRw0ACwsgB0GAAkcNAAsgBEHgA2ogAhAmIARBwAJqIAIQJSAEIARBwAJqECMgBEHAAmogBCAEQeADahAdIARBoAFqIARBwAJqECMgBEGABWoiBSAEQaABahAmIARBwAJqIAQgBRAdIARBoAFqIARBwAJqECMgBEGgBmoiBSAEQaABahAmIARBwAJqIAQgBRAdIARBoAFqIARBwAJqECMgBEHAB2oiBSAEQaABahAmIARBwAJqIAQgBRAdIARBoAFqIARBwAJqECMgBEHgCGoiBSAEQaABahAmIARBwAJqIAQgBRAdIARBoAFqIARBwAJqECMgBEGACmoiBSAEQaABahAmIARBwAJqIAQgBRAdIARBoAFqIARBwAJqECMgBEGgC2oiBSAEQaABahAmIARBwAJqIAQgBRAdIARBoAFqIARBwAJqECMgBEHADGogBEGgAWoQJiAAEA0gAEEoahAOIABB0ABqEA5B/wEhAQJAA0ACQCABIgUgBEHgD2pqLQAADQAgBEHgDWogBWotAAANACAFQX9qIQEgBQ0BDAILCyAFQQBIDQADQCAEQcACaiAAECQCQCAFIgEgBEHgD2pqLAAAIgVBAU4EQCAEQaABaiAEQcACahAjIARBwAJqIARBoAFqIARB4ANqIAVB/gFxQQF2QaABbGoQHQwBCyAFQX9KDQAgBEGgAWogBEHAAmoQIyAEQcACaiAEQaABaiAEQeADakEAIAVrQf4BcUEBdkGgAWxqECsLAkAgBEHgDWogAWosAAAiBUEBTgRAIARBoAFqIARBwAJqECMgBEHAAmogBEGgAWogBUH+AXFBAXZB+ABsQfAOahAgDAELIAVBf0oNACAEQaABaiAEQcACahAjIARBwAJqIARBoAFqQQAgBWtB/gFxQQF2QfgAbEHwDmoQIQsgACAEQcACahAiIAFBf2ohBSABQQBKDQALCyAEQeARaiQAC8UCAQN/IwBB8AFrIgIkACAAQShqIgQgARASIABB0ABqIgMQDiACQcABaiAEEBkgAkGQAWogAkHAAWpBoAgQFiACQcABaiACQcABaiADEBsgAkGQAWogAkGQAWogAxAPIAJB4ABqIAJBkAFqEBkgAkHgAGogAkHgAGogAkGQAWoQFiAAIAJB4ABqEBkgACAAIAJBkAFqEBYgACAAIAJBwAFqEBYgACAAEBggACAAIAJB4ABqEBYgACAAIAJBwAFqEBYgAkEwaiAAEBkgAkEwaiACQTBqIAJBkAFqEBYgAiACQTBqIAJBwAFqEBsCfyACEBUEQCACIAJBMGogAkHAAWoQD0F/IAIQFQ0BGiAAIABB0AgQFgsgABAUIAEtAB9BB3ZGBEAgACAAEBcLIABB+ABqIAAgBBAWQQALIQMgAkHwAWokACADC4sBAQR/IwBBMGsiBSQAIAAgAUEoaiIDIAEQDyAAQShqIgQgAyABEBsgAEHQAGoiAyAAIAIQFiAEIAQgAkEoahAWIABB+ABqIgYgAkHQAGogAUH4AGoQFiAFIAFB0ABqIgEgARAPIAAgAyAEEBsgBCADIAQQDyADIAUgBhAPIAYgBSAGEBsgBUEwaiQAC4sBAQR/IwBBMGsiBSQAIAAgAUEoaiIDIAEQDyAAQShqIgQgAyABEBsgAEHQAGoiAyAAIAJBKGoQFiAEIAQgAhAWIABB+ABqIgYgAkHQAGogAUH4AGoQFiAFIAFB0ABqIgEgARAPIAAgAyAEEBsgBCADIAQQDyADIAUgBhAbIAYgBSAGEA8gBUEwaiQACzIBAX8gACABIAFB+ABqIgIQFiAAQShqIAFBKGogAUHQAGoiARAWIABB0ABqIAEgAhAWC0ABA38gACABIAFB+ABqIgIQFiAAQShqIAFBKGoiAyABQdAAaiIEEBYgAEHQAGogBCACEBYgAEH4AGogASADEBYLbgEFfyMAQTBrIgMkACAAIAEQGSAAQdAAaiICIAFBKGoiBhAZIABB+ABqIgUgAUHQAGoQGiAAQShqIgQgASAGEA8gAyAEEBkgBCACIAAQDyACIAIgABAbIAAgAyAEEBsgBSAFIAIQGyADQTBqJAALKAEBfyMAQYABayICJAAgAkEIaiABECcgACACQQhqECQgAkGAAWokAAs7AQF/IAAgAUEoaiICIAEQDyAAQShqIAIgARAbIABB0ABqIAFB0ABqEBEgAEH4AGogAUH4AGpBgAkQFgsiACAAIAEQESAAQShqIAFBKGoQESAAQdAAaiABQdAAahARC10BAX8jAEGQAWsiAiQAIAJB4ABqIAFB0ABqEBMgAkEwaiABIAJB4ABqEBYgAiABQShqIAJB4ABqEBYgACACEBwgACACQTBqEBRBB3QgAC0AH3M6AB8gAkGQAWokAAu4AwEFfyMAQdADayICJAADQCADQQF0IgUgAkGQA2pqIAEgA2otAAAiBkEPcToAACACQZADaiAFQQFyaiAGQQR2OgAAIANBAWoiA0EgRw0AC0EAIQMDQCACQZADaiAEaiIFIAUtAAAgA2oiAyADQRh0QYCAgEBrIgNBGHVB8AFxazoAACADQRx1IQMgBEEBaiIEQT9HDQALIAIgAi0AzwMgA2o6AM8DIAAQDSAAQShqEA4gAEHQAGoQDiAAQfgAahANQQEhAwNAIAIgA0EBdiACQZADaiADaiwAABAqIAJB8AFqIAAgAhAgIAAgAkHwAWoQIyADQT5JIQQgA0ECaiEDIAQNAAsgAkHwAWogABAlIAJB+ABqIAJB8AFqECIgAkHwAWogAkH4AGoQJCACQfgAaiACQfABahAiIAJB8AFqIAJB+ABqECQgAkH4AGogAkHwAWoQIiACQfABaiACQfgAahAkIAAgAkHwAWoQI0EAIQMDQCACIANBAXYgAkGQA2ogA2osAAAQKiACQfABaiAAIAIQICAAIAJB8AFqECMgA0E+SSEEIANBAmohAyAEDQALIAJB0ANqJAALpAQBBX8jAEGAAWsiByQAIAAQDiAAQShqEA4gAEHQAGoQDSAAIAFBwAdsIgFBsBZqIAIgAkEHdSACcUEBdGsiBEEBc0H/AXFBf2pBH3YiAxAQIABBKGoiBSABQdgWaiADEBAgAEHQAGoiBiABQYAXaiADEBAgACABQagXaiAEQQJzQf8BcUF/akEfdiIDEBAgBSABQdAXaiADEBAgBiABQfgXaiADEBAgACABQaAYaiAEQQNzQf8BcUF/akEfdiIDEBAgBSABQcgYaiADEBAgBiABQfAYaiADEBAgACABQZgZaiAEQQRzQf8BcUF/akEfdiIDEBAgBSABQcAZaiADEBAgBiABQegZaiADEBAgACABQZAaaiAEQQVzQf8BcUF/akEfdiIDEBAgBSABQbgaaiADEBAgBiABQeAaaiADEBAgACABQYgbaiAEQQZzQf8BcUF/akEfdiIDEBAgBSABQbAbaiADEBAgBiABQdgbaiADEBAgACABQYAcaiAEQQdzQf8BcUF/akEfdiIDEBAgBSABQagcaiADEBAgBiABQdAcaiADEBAgACABQfgcaiAEQQhzQf8BcUF/akEfdiIEEBAgBSABQaAdaiAEEBAgBiABQcgdaiAEEBAgB0EIaiAFEBEgB0EwaiIEIAAQESAHQdgAaiIDIAYQFyAAIAdBCGogAkGAAXFBB3YiARAQIAUgBCABEBAgBiADIAEQECAHQYABaiQAC5UBAQR/IwBBMGsiBSQAIAAgAUEoaiIDIAEQDyAAQShqIgQgAyABEBsgAEHQAGoiAyAAIAJBKGoQFiAEIAQgAhAWIABB+ABqIgYgAkH4AGogAUH4AGoQFiAAIAFB0ABqIAJB0ABqEBYgBSAAIAAQDyAAIAMgBBAbIAQgAyAEEA8gAyAFIAYQGyAGIAUgBhAPIAVBMGokAAu1AwEDfyMAQeADayIFJAACfwJAIANCwABUDQAgAi0AP0EfSw0AIAVBgAFqIAQQHw0AIAVB2ANqIgYgBCkAGDcDACAFQdADaiIHIAQpABA3AwAgBSAEKQAANwPAAyAFIAQpAAg3A8gDIAUgAikAEDcDsAMgBSACKQAYNwO4AyAFIAIpAAA3A6ADIAUgAikACDcDqAMgBSACKQAwNwOQAyAFIAIpADg3A5gDIAUgAikAIDcDgAMgBSACKQAoNwOIAyAAIAIgA6ciBBA2IgIgBikDADcAOCACIAcpAwA3ADAgAiAFKQPIAzcAKCACIAUpA8ADNwAgIAVBwAJqIAIgAxAGIAVBwAJqEC4gBUEIaiAFQcACaiAFQYABaiAFQYADahAeIAVBoAJqIAVBCGoQKCAFQaACaiAFQaADahADDQAgAiACQUBrIANCQHwiA6cQNiAEakFAaiICQgA3ADggAkIANwAwIAJCADcAKCACQgA3ACAgAkIANwAYIAJCADcAECACQgA3AAggAkIANwAAIAEgAzcDAEEADAELIAFCfzcDACAAIAOnEDVBfwshAiAFQeADaiQAIAILmSMBOH4gACACMQAXIgQgAjEAGEIIhoQgAjEAGUIQhoQgAjEAGiIIQhiGhEIFiEL///8AgyIGIAExABoiCiABMQAbQgiGhCABMQAcIgdCEIaEQgKIQv///wCDIgV+IAIzABUgBEIQhkKAgPwAg4QiBCABMQAdQgiGIAeEIAExAB5CEIaEIAExAB9CGIaEQgeIIgd+fCACMQAbQgiGIAiEIAIxABwiCUIQhoRCAohC////AIMiCCABMQAXIgsgATEAGEIIhoQgATEAGUIQhoQgCkIYhoRCBYhC////AIMiCn58IAIxAB1CCIYgCYQgAjEAHkIQhoQgAjEAH0IYhoRCB4giCSABMwAVIAtCEIZCgID8AIOEIgt+fCAEIAV+IAIxABIiDCACMQATQgiGhCACMQAUQhCGhEIDiCIRIAd+fCAGIAp+fCAIIAt+fCAJIAExABIiDyABMQATQgiGhCABMQAUQhCGhEIDiCISfnwiF0KAgEB9IhNCFYd8Ig1CgIBAfSIQQhWHIAUgCH4gBiAHfnwgCSAKfnwiDiAOQoCAQH0iDkKAgID///////8Ag318IiFCmNocfiAFIAl+IAcgCH58IA5CFYh8Ig4gDkKAgEB9Ih9CgICA////////AIN9IiJCk9gofnwgDSAQQoCAgH+DfSIjQuf2J358IBcgE0KAgIB/g30gBSARfiACMQAPIg0gAjEAEEIIhoQgAjEAEUIQhoQgDEIYhoRCBohC////AIMiDCAHfnwgBCAKfnwgBiALfnwgCCASfnwgCSABMQAPIhAgATEAEEIIhoQgATEAEUIQhoQgD0IYhoRCBohC////AIMiD358IAUgDH4gAjEADSIUIAIxAA5CCIaEIA1CEIaEQgGIQv///wCDIg0gB358IAogEX58IAQgC358IAYgEn58IAggD358IAkgATEADSIYIAExAA5CCIaEIBBCEIaEQgGIQv///wCDIhB+fCIgQoCAQH0iHUIVh3wiGUKAgEB9IipCFYd8IiRC04xDfnwgAjEAAiITIAIxAANCCIaEIAIxAARCEIaEIAIxAAUiDkIYhoRCBYhC////AIMiFyALfiACMwAAIBNCEIZCgID8AIOEIhMgCn58IAIxAAZCCIYgDoQgAjEAByIVQhCGhEICiEL///8AgyIOIBJ+fCACMQAIQgiGIBWEIAIxAAlCEIaEIAIxAAoiFkIYhoRCB4hC////AIMiFSAPfnwgAjEAC0IIhiAWhCACMQAMQhCGhCAUQhiGhEIEiEL///8AgyIUIBB+fCANIAExAAoiFiABMQALQgiGhCABMQAMQhCGhCAYQhiGhEIEiEL///8AgyIYfnwgDCABMQAHIhogATEACEIIhoQgATEACUIQhoQgFkIYhoRCB4hC////AIMiFn58IBEgATEABSIbIAExAAZCCIaEIBpCEIaEQgKIQv///wCDIhp+fCAEIAExAAIiHCABMQADQgiGhCABMQAEQhCGhCAbQhiGhEIFiEL///8AgyIbfnwgBiABMwAAIBxCEIZCgID8AIOEIhx+fCADMQAXIh4gAzEAGEIIhoQgAzEAGUIQhoQgAzEAGiIrQhiGhEIFiEL///8Ag3wgEiAXfiALIBN+fCAOIA9+fCAQIBV+fCAUIBh+fCANIBZ+fCAMIBp+fCARIBt+fCAEIBx+fCADMwAVIB5CEIZCgID8AIOEfCIeQoCAQH0iJUIVh3wiJnwgJkKAgEB9IiZCgICAf4N9ICNCmNocfiAhQpPYKH58ICRC5/YnfnwgDyAXfiASIBN+fCAOIBB+fCAVIBh+fCAUIBZ+fCANIBp+fCAMIBt+fCARIBx+fCADMQASIicgAzEAE0IIhoQgAzEAFEIQhoRCA4h8IBAgF34gDyATfnwgDiAYfnwgFSAWfnwgFCAafnwgDSAbfnwgDCAcfnwgAzEADyIsIAMxABBCCIaEIAMxABFCEIaEICdCGIaEQgaIQv///wCDfCInQoCAQH0iLUIVh3wiKEKAgEB9Ii5CFYd8IB58ICVCgICAf4N9IiVCgIBAfSIvQhWHfCIwQoCAQH0iMUIVhyAZICpCgICAf4N9ICAgByAJfiIpQoCAQH0iMkIViCIeQoOhVn58IB1CgICAf4N9IAUgDX4gByAUfnwgCiAMfnwgCyARfnwgBCASfnwgBiAPfnwgCCAQfnwgCSAYfnwgBSAUfiAHIBV+fCAKIA1+fCALIAx+fCARIBJ+fCAEIA9+fCAGIBB+fCAIIBh+fCAJIBZ+fCIdQoCAQH0iM0IVh3wiNEKAgEB9IjVCFYd8IjZCgIBAfSI3QhWHfCIgQoOhVn58IAogF34gBSATfnwgCyAOfnwgEiAVfnwgDyAUfnwgDSAQfnwgDCAYfnwgESAWfnwgBCAafnwgBiAbfnwgCCAcfnwgAzEAG0IIhiArhCADMQAcIipCEIaEQgKIQv///wCDfCIZICJCmNocfiApIDJCgICA////////AIN9IB9CFYh8Ih9Ck9gofnwgIULn9id+fCAjQtOMQ358ICRC0asIfnwgJkIVh3x8IBlCgIBAfSIrQoCAgH+DfSIZfCAZQoCAQH0iJkKAgIB/g30iKSA2IDdCgICAf4N9IB9Cg6FWfiAeQtGrCH58IDR8IDVCgICAf4N9IB0gHkLTjEN+fCAfQtGrCH58ICJCg6FWfnwgM0KAgIB/g30gBSAVfiAHIA5+fCAKIBR+fCALIA1+fCAMIBJ+fCAPIBF+fCAEIBB+fCAGIBh+fCAIIBZ+fCAJIBp+fCAFIA5+IAcgF358IAogFX58IAsgFH58IA0gEn58IAwgD358IBAgEX58IAQgGH58IAYgFn58IAggGn58IAkgG358IjJCgIBAfSIzQhWHfCI0QoCAQH0iNUIVh3wiOUKAgEB9IjpCFYd8IhlCgIBAfSI4QhWHfCIdQoOhVn4gIELRqwh+fCAwfCAxQoCAgH+DfSAdQtGrCH4gIELTjEN+fCAZIDhCgICAf4N9IhlCg6FWfnwgJEKY2hx+ICNCk9gofnwgKHwgLkKAgIB/g30gJEKT2Ch+IBcgGH4gECATfnwgDiAWfnwgFSAafnwgFCAbfnwgDSAcfnwgAzEADSIoIAMxAA5CCIaEICxCEIaEQgGIQv///wCDfCAWIBd+IBMgGH58IA4gGn58IBUgG358IBQgHH58IAMxAAoiLCADMQALQgiGhCADMQAMQhCGhCAoQhiGhEIEiEL///8Ag3wiKEKAgEB9Ii5CFYd8IjBCgIBAfSIxQhWHfCAnfCAtQoCAgH+DfSInQoCAQH0iLUIVh3wiNkKAgEB9IjdCFYd8ICV8IC9CgICAf4N9IiVCgIBAfSIvQhWHfCI4QoCAQH0iO0IVh3wgKUKAgEB9IilCgICAf4N9IDggO0KAgIB/g30gJSAvQoCAgH+DfSAdQtOMQ34gIELn9id+fCAZQtGrCH58IDZ8IDdCgICAf4N9IDkgOkKAgIB/g30gH0LTjEN+IB5C5/YnfnwgIkLRqwh+fCAhQoOhVn58IDR8IDVCgICAf4N9IB9C5/YnfiAeQpjaHH58ICJC04xDfnwgMnwgIULRqwh+fCAjQoOhVn58IDNCgICAf4N9IAUgF34gByATfnwgCiAOfnwgCyAVfnwgEiAUfnwgDSAPfnwgDCAQfnwgESAYfnwgBCAWfnwgBiAafnwgCCAbfnwgCSAcfnwgAzEAHUIIhiAqhCADMQAeQhCGhCADMQAfQhiGhEIHiHwgK0IVh3wiBEKAgEB9IgdCFYd8IghCgIBAfSIKQhWHfCIFQoCAQH0iCUIVh3wiBkKDoVZ+fCAdQuf2J34gIEKY2hx+fCAZQtOMQ358ICd8IC1CgICAf4N9IAZC0asIfnwgBSAJQoCAgH+DfSIFQoOhVn58IglCgIBAfSILQhWHfCIRQoCAQH0iEkIVh3wgESASQoCAgH+DfSAJIAtCgICAf4N9IB1CmNocfiAgQpPYKH58IBlC5/YnfnwgMHwgMUKAgIB/g30gCCAKQoCAgH+DfSAfQpjaHH4gHkKT2Ch+fCAiQuf2J358ICFC04xDfnwgI0LRqwh+fCAkQoOhVn58IAR8IAdCgICAf4N9ICZCFYd8IgdCgIBAfSIJQhWHfCIEQoOhVn58IAZC04xDfnwgBULRqwh+fCAoIBcgGn4gEyAWfnwgDiAbfnwgFSAcfnwgAzEAByIIIAMxAAhCCIaEIAMxAAlCEIaEICxCGIaEQgeIQv///wCDfCAXIBt+IBMgGn58IA4gHH58IAMxAAUiCiADMQAGQgiGhCAIQhCGhEICiEL///8Ag3wiCEKAgEB9IgtCFYh8IgxCgIBAfSIPQhWHfCAuQoCAgH+DfSAdQpPYKH58IBlCmNocfnwgBELRqwh+fCAGQuf2J358IAVC04xDfnwiDUKAgEB9IhBCFYd8Ig5CgIBAfSIVQhWHfCAOIAcgCUKAgIB/g30gKUIVh3wiCUKAgEB9IhRCFYciB0KDoVZ+fCAVQoCAgH+DfSANIAdC0asIfnwgEEKAgIB/g30gDCAPQoCAgH+DfSAZQpPYKH58IARC04xDfnwgBkKY2hx+fCAFQuf2J358IAggFyAcfiATIBt+fCATIBx+IAMzAAAgAzEAAiIMQhCGQoCA/ACDhHwiD0KAgEB9Ig1CFYh8IAMxAANCCIYgDIQgAzEABEIQhoQgCkIYhoRCBYhC////AIN8IgpCgIBAfSIMQhWIfCALQoCAgH+DfSAEQuf2J358IAZCk9gofnwgBUKY2hx+fCIGQoCAQH0iCEIVh3wiC0KAgEB9IhBCFYd8IAsgB0LTjEN+fCAQQoCAgH+DfSAGIAdC5/YnfnwgCEKAgIB/g30gCiAMQoCAgH+DfSAEQpjaHH58IAVCk9gofnwgDyANQoCAgP///wODfSAEQpPYKH58IgZCgIBAfSIFQhWHfCIEQoCAQH0iCEIVh3wgBCAHQpjaHH58IAhCgICAf4N9IAYgBUKAgIB/g30gB0KT2Ch+fCIFQhWHfCIEQhWHfCIHQhWHfCIIQhWHfCIKQhWHfCILQhWHfCIMQhWHfCIRQhWHfCISQhWHfCIPQhWHfCINQhWHIAkgFEKAgIB/g318IglCFYciBkKT2Ch+IAVC////AIN8IgU8AAAgACAFQgiIPAABIAAgBkKY2hx+IARC////AIN8IAVCFYd8IgRCC4g8AAQgACAEQgOIPAADIAAgBkLn9id+IAdC////AIN8IARCFYd8IgdCBog8AAYgACAFQhCIQh+DIARC////AIMiBEIFhoQ8AAIgACAGQtOMQ34gCEL///8Ag3wgB0IVh3wiBUIJiDwACSAAIAVCAYg8AAggACAHQv///wCDIgdCAoYgBEITiIQ8AAUgACAGQtGrCH4gCkL///8Ag3wgBUIVh3wiBEIMiDwADCAAIARCBIg8AAsgACAFQv///wCDIghCB4YgB0IOiIQ8AAcgACAGQoOhVn4gC0L///8Ag3wgBEIVh3wiBUIHiDwADiAAIARC////AIMiBEIEhiAIQhGIhDwACiAAIAxC////AIMgBUIVh3wiBkIKiDwAESAAIAZCAog8ABAgACAFQv///wCDIgdCAYYgBEIUiIQ8AA0gACARQv///wCDIAZCFYd8IgVCDYg8ABQgACAFQgWIPAATIAAgBkL///8AgyIEQgaGIAdCD4iEPAAPIAAgEkL///8AgyAFQhWHfCIGPAAVIAAgBUIDhiAEQhKIhDwAEiAAIAZCCIg8ABYgACAPQv///wCDIAZCFYd8IgVCC4g8ABkgACAFQgOIPAAYIAAgDUL///8AgyAFQhWHfCIEQgaIPAAbIAAgBkIQiEIfgyAFQv///wCDIgVCBYaEPAAXIAAgCUL///8AgyAEQhWHfCIGQhGIPAAfIAAgBkIJiDwAHiAAIAZCAYg8AB0gACAEQv///wCDIgRCAoYgBUITiIQ8ABogACAGQgeGIARCDoiEPAAcC6AVARh+IAAgADEALyIHIAAxADBCCIaEIAAxADEiAUIQhoRCAohC////AIMiAkLRqwh+IAAxABoiCCAAMQAbQgiGhCAAMQAcIg5CEIaEQgKIQv///wCDfCAAMQAyQgiGIAGEIAAxADNCEIaEIAAxADQiA0IYhoRCB4hC////AIMiAULTjEN+fCAAMQA1QgiGIAOEIAAxADZCEIaEIAAxADciBEIYhoRCBIhC////AIMiA0Ln9id+fCAAMQA4QgiGIASEIAAxADkiBUIQhoRCAYhC////AIMiBEKY2hx+fCAAMQA6QgiGIAWEIAAxADtCEIaEIAAxADwiBkIYhoRCBohC////AIMiBUKT2Ch+fCIKIAJC04xDfiAAMQAXIgkgADEAGEIIhoQgADEAGUIQhoQgCEIYhoRCBYhC////AIN8IAFC5/YnfnwgA0KY2hx+fCAEQpPYKH58IAJC5/YnfiAAMwAVIAlCEIZCgID8AIOEfCABQpjaHH58IANCk9gofnwiCUKAgEB9IgtCFYh8Ig1CgIBAfSIMQhWHfCAKQoCAQH0iF0KAgIB/g30gADEAPUIIhiAGhCAAMQA+QhCGhCAAMQA/QhiGhEIDiCIIQoOhVn4gADMAKiAAMQAsIgZCEIZCgID8AIOEfCIKQoCAQH0iD0IVhyAAMQAtQgiGIAaEIAAxAC5CEIaEIAdCGIaEQgWIQv///wCDfCIHQoOhVn58IgYgBkKAgEB9IhhCgICAf4N9IA0gDEKAgIB/g30gB0LRqwh+fCAKIA9CgICAf4N9IAVCg6FWfiAAMQAnIgYgADEAKEIIhoQgADEAKUIQhoRCA4h8IAhC0asIfnwgBEKDoVZ+IAAxACQiDSAAMQAlQgiGhCAAMQAmQhCGhCAGQhiGhEIGiEL///8Ag3wgBULRqwh+fCAIQtOMQ358IgxCgIBAfSIQQhWHfCIRQoCAQH0iEkIVh3wiBkKDoVZ+fCAJIAJCmNocfiAAMQASIgogADEAE0IIhoQgADEAFEIQhoRCA4h8IAJCk9gofiAAMQAPIg8gADEAEEIIhoQgADEAEUIQhoQgCkIYhoRCBohC////AIN8IhNCgIBAfSIUQhWIfCABQpPYKH58IhVCgIBAfSIWQhWIfCALQoCAgP///weDfSAHQtOMQ358IAZC0asIfnwgESASQoCAgH+DfSIKQoOhVn58IglCgIBAfSILQhWHfCIRQoCAQH0iEkIVh3wgESASQoCAgH+DfSAJIAtCgICAf4N9IBUgFkKAgIB/g30gB0Ln9id+fCAGQtOMQ358IApC0asIfnwgDCAQQoCAgH+DfSADQoOhVn4gADEAIiIJIAAxACNCCIaEIA1CEIaEQgGIQv///wCDfCAEQtGrCH58IAVC04xDfnwgCELn9id+fCABQoOhVn4gADEAHyINIAAxACBCCIaEIAAxACFCEIaEIAlCGIaEQgSIQv///wCDfCADQtGrCH58IARC04xDfnwgBULn9id+fCAIQpjaHH58IhVCgIBAfSIWQhWHfCILQoCAQH0iDEIVh3wiCUKDoVZ+fCATIBRCgICA////AYN9IAdCmNocfnwgBkLn9id+fCAKQtOMQ358IAlC0asIfnwgCyAMQoCAgH+DfSILQoOhVn58IgxCgIBAfSIQQhWHfCITQoCAQH0iFEIVh3wgEyAUQoCAgH+DfSAMIBBCgICAf4N9IAdCk9gofiAAMQANIgcgADEADkIIhoQgD0IQhoRCAYhC////AIN8IAZCmNocfnwgCkLn9id+fCAVIBZCgICAf4N9IAJCg6FWfiAAMQAdQgiGIA6EIAAxAB5CEIaEIA1CGIaEQgeIQv///wCDfCABQtGrCH58IANC04xDfnwgBELn9id+fCAFQpjaHH58IAhCk9gofnwgF0IVh3wiAUKAgEB9IgNCFYd8IgJCg6FWfnwgCULTjEN+fCALQtGrCH58IAZCk9gofiAAMQAKIgQgADEAC0IIhoQgADEADEIQhoQgB0IYhoRCBIhC////AIN8IApCmNocfnwgAkLRqwh+fCAJQuf2J358IAtC04xDfnwiBUKAgEB9IghCFYd8IgdCgIBAfSIGQhWHfCAHIAEgA0KAgIB/g30gGEIVh3wiA0KAgEB9Ig5CFYciAUKDoVZ+fCAGQoCAgH+DfSAFIAFC0asIfnwgCEKAgIB/g30gCkKT2Ch+IAAxAAciBSAAMQAIQgiGhCAAMQAJQhCGhCAEQhiGhEIHiEL///8Ag3wgAkLTjEN+fCAJQpjaHH58IAtC5/YnfnwgAkLn9id+IAAxAAUiBCAAMQAGQgiGhCAFQhCGhEICiEL///8Ag3wgCUKT2Ch+fCALQpjaHH58IgVCgIBAfSIIQhWHfCIHQoCAQH0iBkIVh3wgByABQtOMQ358IAZCgICAf4N9IAUgAULn9id+fCAIQoCAgH+DfSACQpjaHH4gADEAAiIFIAAxAANCCIaEIAAxAARCEIaEIARCGIaEQgWIQv///wCDfCALQpPYKH58IAJCk9gofiAAMwAAIAVCEIZCgID8AIOEfCICQoCAQH0iBEIVh3wiBUKAgEB9IghCFYd8IAUgAUKY2hx+fCAIQoCAgH+DfSACIARCgICAf4N9IAFCk9gofnwiAUIVh3wiBEIVh3wiBUIVh3wiCEIVh3wiB0IVh3wiBkIVh3wiCkIVh3wiCUIVh3wiC0IVh3wiDUIVh3wiDEIVhyADIA5CgICAf4N9fCIOQhWHIgJCk9gofiABQv///wCDfCIBPAAAIAAgAUIIiDwAASAAIAJCmNocfiAEQv///wCDfCABQhWHfCIDQguIPAAEIAAgA0IDiDwAAyAAIAJC5/YnfiAFQv///wCDfCADQhWHfCIEQgaIPAAGIAAgAUIQiEIfgyADQv///wCDIgNCBYaEPAACIAAgAkLTjEN+IAhC////AIN8IARCFYd8IgFCCYg8AAkgACABQgGIPAAIIAAgBEL///8AgyIEQgKGIANCE4iEPAAFIAAgAkLRqwh+IAdC////AIN8IAFCFYd8IgNCDIg8AAwgACADQgSIPAALIAAgAUL///8AgyIFQgeGIARCDoiEPAAHIAAgAkKDoVZ+IAZC////AIN8IANCFYd8IgFCB4g8AA4gACADQv///wCDIgNCBIYgBUIRiIQ8AAogACAKQv///wCDIAFCFYd8IgJCCog8ABEgACACQgKIPAAQIAAgAUL///8AgyIEQgGGIANCFIiEPAANIAAgCUL///8AgyACQhWHfCIBQg2IPAAUIAAgAUIFiDwAEyAAIAJC////AIMiA0IGhiAEQg+IhDwADyAAIAtC////AIMgAUIVh3wiAjwAFSAAIAFCA4YgA0ISiIQ8ABIgACACQgiIPAAWIAAgDUL///8AgyACQhWHfCIBQguIPAAZIAAgAUIDiDwAGCAAIAxC////AIMgAUIVh3wiA0IGiDwAGyAAIAJCEIhCH4MgAUL///8AgyIBQgWGhDwAFyAAIA5C////AIMgA0IVh3wiAkIRiDwAHyAAIAJCCYg8AB4gACACQgGIPAAdIAAgA0L///8AgyIDQgKGIAFCE4iEPAAaIAAgAkIHhiADQg6IhDwAHAtqACAAQegJKQMANwO4ASAAQeAJKQMANwOwASAAQdgJKQMANwOoASAAQdAJKQMANwOgASAAQcgJKQMANwOYASAAQcAJKQMANwOQASAAQbgJKQMANwOIASAAQbAJKQMANwOAASAAQgA3A8ABC3YBA38gAgRAIABBgAFqIQUgACgCwAFB/wBxIQMDQCAAIANqIAEgAkGAASADayIEIAQgAksbIgQQNBogAiAEayECIAMgBGoiA0GAAUYEQCAAIAUQMUEAIQMLIAEgBGohASAAIAApA8ABIAStfDcDwAEgAg0ACwsLtwkCA38RfiMAQYAFayIDJAADQCADIAJBA3QiBGogACAEaikAACIFQjiGIAVCKIZCgICAgICAwP8Ag4QgBUIYhkKAgICAgOA/gyAFQgiGQoCAgIDwH4OEhCAFQgiIQoCAgPgPgyAFQhiIQoCA/AeDhCAFQiiIQoD+A4MgBUI4iISEhDcDACACQQFqIgJBEEcNAAtBECEEIAMpAwAhBQNAIAMgBEEDdGoiAiAFIAJBSGopAwB8IAJBcGopAwAiBUIDiSAFQgaIhSAFQi2JhXwgAkGIf2opAwAiBUI4iSAFQgeIhSAFQj+JhXw3AwAgBEEBaiIEQdAARw0AC0EAIQQgASkDACIOIQUgASkDCCIPIQcgASkDECIQIQggASkDGCIRIQkgASkDICISIQYgASkDKCITIQogASkDMCIUIQsgASkDOCIVIQwDQCAEQQN0IgJB8AlqKQMAIAogC4UgBoMgC4UgDHwgBkIyiSAGQi6JhSAGQheJhXx8IAIgA2opAwB8Ig0gBSAHhCAIgyAFIAeDhCAFQiSJIAVCHomFIAVCGYmFfHwiDEIkiSAMQh6JhSAMQhmJhSAFIAyEIAeDIAUgDIOEfCACQQhyIgBB8AlqKQMAIAt8IAAgA2opAwB8IAkgDXwiCSAGIAqFgyAKhXwgCUIyiSAJQi6JhSAJQheJhXwiDXwiC0IkiSALQh6JhSALQhmJhSALIAyEIAWDIAsgDIOEfCACQRByIgBB8AlqKQMAIAp8IAAgA2opAwB8IAggDXwiCCAGIAmFgyAGhXwgCEIyiSAIQi6JhSAIQheJhXwiDXwiCkIkiSAKQh6JhSAKQhmJhSAKIAuEIAyDIAogC4OEfCACQRhyIgBB8AlqKQMAIAZ8IAAgA2opAwB8IAcgDXwiByAIIAmFgyAJhXwgB0IyiSAHQi6JhSAHQheJhXwiDXwiBkIkiSAGQh6JhSAGQhmJhSAGIAqEIAuDIAYgCoOEfCACQSByIgBB8AlqKQMAIAl8IAAgA2opAwB8IAUgDXwiBSAHIAiFgyAIhXwgBUIyiSAFQi6JhSAFQheJhXwiDXwiCUIkiSAJQh6JhSAJQhmJhSAGIAmEIAqDIAYgCYOEfCADIAJBKHIiAGopAwAgAEHwCWopAwB8IAh8IAwgDXwiDCAFIAeFgyAHhXwgDEIyiSAMQi6JhSAMQheJhXwiDXwiCEIkiSAIQh6JhSAIQhmJhSAIIAmEIAaDIAggCYOEfCADIAJBMHIiAGopAwAgAEHwCWopAwB8IAd8IAsgDXwiCyAFIAyFgyAFhXwgC0IyiSALQi6JhSALQheJhXwiDXwiB0IkiSAHQh6JhSAHQhmJhSAHIAiEIAmDIAcgCIOEfCADIAJBOHIiAmopAwAgAkHwCWopAwB8IAV8IAogDXwiCiALIAyFgyAMhXwgCkIyiSAKQi6JhSAKQheJhXwiDXwhBSAGIA18IQYgBEHIAEkhAiAEQQhqIQQgAg0ACyABIAwgFXw3AzggASALIBR8NwMwIAEgCiATfDcDKCABIAYgEnw3AyAgASAJIBF8NwMYIAEgCCAQfDcDECABIAcgD3w3AwggASAFIA58NwMAIANBgAVqJAAL2wICAn8BfiAAIAAoAsABQf8AcSICaiIDQYABOgAAIANBAWohAwJAIAJB8ABPBEAgAyACQf8AcxA1IAAgAEGAAWoQMSAAQfAAEDUMAQsgA0HvACACaxA1C0EAIQIgAEEANgBwIABBADYAcyAAIAApA8ABIgRCPYg8AHcgACAEQgOGQgB8IgQ8AH8gACAEQgiIPAB+IAAgBEIQiDwAfSAAIARCGIg8AHwgACAEQiCIPAB7IAAgBEIoiDwAeiAAIARCMIg8AHkgACAEQjiIPAB4IAAgAEGAAWoiAxAxA0AgASACQQN0IgBqIAAgA2opAwAiBEI4hiAEQiiGQoCAgICAgMD/AIOEIARCGIZCgICAgIDgP4MgBEIIhkKAgICA8B+DhIQgBEIIiEKAgID4D4MgBEIYiEKAgPwHg4QgBEIoiEKA/gODIARCOIiEhIQ3AAAgAkEBaiICQQhHDQALC3AAIAAgARAyIABB6AkpAwA3A7gBIABB4AkpAwA3A7ABIABB2AkpAwA3A6gBIABB0AkpAwA3A6ABIABByAkpAwA3A5gBIABBwAkpAwA3A5ABIABBuAkpAwA3A4gBIABBsAkpAwA3A4ABIABCADcDwAELggQBA38gAkGABE8EQCAAIAEgAhAAGiAADwsgACACaiEDAkAgACABc0EDcUUEQAJAIAJBAUgEQCAAIQIMAQsgAEEDcUUEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAFBAWohASACQQFqIgIgA08NASACQQNxDQALCwJAIANBfHEiBEHAAEkNACACIARBQGoiBUsNAANAIAIgASgCADYCACACIAEoAgQ2AgQgAiABKAIINgIIIAIgASgCDDYCDCACIAEoAhA2AhAgAiABKAIUNgIUIAIgASgCGDYCGCACIAEoAhw2AhwgAiABKAIgNgIgIAIgASgCJDYCJCACIAEoAig2AiggAiABKAIsNgIsIAIgASgCMDYCMCACIAEoAjQ2AjQgAiABKAI4NgI4IAIgASgCPDYCPCABQUBrIQEgAkFAayICIAVNDQALCyACIARPDQEDQCACIAEoAgA2AgAgAUEEaiEBIAJBBGoiAiAESQ0ACwwBCyADQQRJBEAgACECDAELIANBfGoiBCAASQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAiABLQABOgABIAIgAS0AAjoAAiACIAEtAAM6AAMgAUEEaiEBIAJBBGoiAiAETQ0ACwsgAiADSQRAA0AgAiABLQAAOgAAIAFBAWohASACQQFqIgIgA0cNAAsLIAAL1gIBAn8CQCABRQ0AIAAgAWoiAkF/akEAOgAAIABBADoAACABQQNJDQAgAkF+akEAOgAAIABBADoAASACQX1qQQA6AAAgAEEAOgACIAFBB0kNACACQXxqQQA6AAAgAEEAOgADIAFBCUkNACAAQQAgAGtBA3EiA2oiAkEANgIAIAIgASADa0F8cSIDaiIBQXxqQQA2AgAgA0EJSQ0AIAJBADYCCCACQQA2AgQgAUF4akEANgIAIAFBdGpBADYCACADQRlJDQAgAkEANgIYIAJBADYCFCACQQA2AhAgAkEANgIMIAFBcGpBADYCACABQWxqQQA2AgAgAUFoakEANgIAIAFBZGpBADYCACADIAJBBHFBGHIiA2siAUEgSQ0AIAIgA2ohAgNAIAJCADcDGCACQgA3AxAgAkIANwMIIAJCADcDACACQSBqIQIgAUFgaiIBQR9LDQALCwvpAgEBfwJAIAAgAUYNACABIABrIAJrQQAgAkEBdGtNBEAgACABIAIQNA8LIAAgAXNBA3EhAwJAAkAgACABSQRAIAMEQCAAIQMMAwsgAEEDcUUEQCAAIQMMAgsgACEDA0AgAkUNBCADIAEtAAA6AAAgAUEBaiEBIAJBf2ohAiADQQFqIgNBA3ENAAsMAQsCQCADDQAgACACakEDcQRAA0AgAkUNBSAAIAJBf2oiAmoiAyABIAJqLQAAOgAAIANBA3ENAAsLIAJBA00NAANAIAAgAkF8aiICaiABIAJqKAIANgIAIAJBA0sNAAsLIAJFDQIDQCAAIAJBf2oiAmogASACai0AADoAACACDQALDAILIAJBA00NAANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIAJBfGoiAkEDSw0ACwsgAkUNAANAIAMgAS0AADoAACADQQFqIQMgAUEBaiEBIAJBf2oiAg0ACwsgAAsGAEGwhgILbwEBfwJAIABBA2pBfHEiAUEBTkEAAn9BtIYCKAIAIgBFBEBBtIYCQbCKwgI2AgBBsIrCAiEACyAAIAFqIgEgAE0LGw0AIAE/AEEQdEsEQCABEAFFDQELQbSGAiABNgIAIAAPC0GwhgJBMDYCAEF/C/cuAQx/IwBBEGsiDCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBBuIYCKAIAIgZBECAAQQtqQXhxIABBC0kbIgRBA3YiAXYiAEEDcQRAIABBf3NBAXEgAWoiBEEDdCIDQeiGAmooAgAiAUEIaiEAAkAgASgCCCICIANB4IYCaiIDRgRAQbiGAiAGQX4gBHdxNgIADAELQciGAigCABogAiADNgIMIAMgAjYCCAsgASAEQQN0IgJBA3I2AgQgASACaiIBIAEoAgRBAXI2AgQMDQsgBEHAhgIoAgAiCU0NASAABEACQCAAIAF0QQIgAXQiAEEAIABrcnEiAEEAIABrcUF/aiIAIABBDHZBEHEiAHYiAUEFdkEIcSICIAByIAEgAnYiAEECdkEEcSIBciAAIAF2IgBBAXZBAnEiAXIgACABdiIAQQF2QQFxIgFyIAAgAXZqIgJBA3QiA0HohgJqKAIAIgEoAggiACADQeCGAmoiA0YEQEG4hgIgBkF+IAJ3cSIGNgIADAELQciGAigCABogACADNgIMIAMgADYCCAsgAUEIaiEAIAEgBEEDcjYCBCABIARqIgMgAkEDdCIFIARrIgJBAXI2AgQgASAFaiACNgIAIAkEQCAJQQN2IgVBA3RB4IYCaiEEQcyGAigCACEBAn8gBkEBIAV0IgVxRQRAQbiGAiAFIAZyNgIAIAQMAQsgBCgCCAshBSAEIAE2AgggBSABNgIMIAEgBDYCDCABIAU2AggLQcyGAiADNgIAQcCGAiACNgIADA0LQbyGAigCACIIRQ0BIAhBACAIa3FBf2oiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2akECdEHoiAJqKAIAIgMoAgRBeHEgBGshASADIQIDQAJAIAIoAhAiAEUEQCACKAIUIgBFDQELIAAoAgRBeHEgBGsiAiABIAIgAUkiAhshASAAIAMgAhshAyAAIQIMAQsLIAMgBGoiCyADTQ0CIAMoAhghCiADIAMoAgwiBUcEQEHIhgIoAgAgAygCCCIATQRAIAAoAgwaCyAAIAU2AgwgBSAANgIIDAwLIANBFGoiAigCACIARQRAIAMoAhAiAEUNBCADQRBqIQILA0AgAiEHIAAiBUEUaiICKAIAIgANACAFQRBqIQIgBSgCECIADQALIAdBADYCAAwLC0F/IQQgAEG/f0sNACAAQQtqIgBBeHEhBEG8hgIoAgAiCUUNAAJ/QQAgAEEIdiIARQ0AGkEfIARB////B0sNABogACAAQYD+P2pBEHZBCHEiAXQiACAAQYDgH2pBEHZBBHEiAHQiAiACQYCAD2pBEHZBAnEiAnRBD3YgACABciACcmsiAEEBdCAEIABBFWp2QQFxckEcagshB0EAIARrIQECQAJAAkAgB0ECdEHoiAJqKAIAIgJFBEBBACEADAELQQAhACAEQQBBGSAHQQF2ayAHQR9GG3QhAwNAAkAgAigCBEF4cSAEayIGIAFPDQAgAiEFIAYiAQ0AQQAhASACIQAMAwsgACACKAIUIgYgBiACIANBHXZBBHFqKAIQIgJGGyAAIAYbIQAgA0EBdCEDIAINAAsLIAAgBXJFBEBBAiAHdCIAQQAgAGtyIAlxIgBFDQMgAEEAIABrcUF/aiIAIABBDHZBEHEiAHYiAkEFdkEIcSIDIAByIAIgA3YiAEECdkEEcSICciAAIAJ2IgBBAXZBAnEiAnIgACACdiIAQQF2QQFxIgJyIAAgAnZqQQJ0QeiIAmooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIARrIgYgAUkhAyAGIAEgAxshASAAIAUgAxshBSAAKAIQIgIEfyACBSAAKAIUCyIADQALCyAFRQ0AIAFBwIYCKAIAIARrTw0AIAQgBWoiByAFTQ0BIAUoAhghCCAFIAUoAgwiA0cEQEHIhgIoAgAgBSgCCCIATQRAIAAoAgwaCyAAIAM2AgwgAyAANgIIDAoLIAVBFGoiAigCACIARQRAIAUoAhAiAEUNBCAFQRBqIQILA0AgAiEGIAAiA0EUaiICKAIAIgANACADQRBqIQIgAygCECIADQALIAZBADYCAAwJC0HAhgIoAgAiACAETwRAQcyGAigCACEBAkAgACAEayICQRBPBEBBwIYCIAI2AgBBzIYCIAEgBGoiAzYCACADIAJBAXI2AgQgACABaiACNgIAIAEgBEEDcjYCBAwBC0HMhgJBADYCAEHAhgJBADYCACABIABBA3I2AgQgACABaiIAIAAoAgRBAXI2AgQLIAFBCGohAAwLC0HEhgIoAgAiAyAESwRAQcSGAiADIARrIgE2AgBB0IYCQdCGAigCACIAIARqIgI2AgAgAiABQQFyNgIEIAAgBEEDcjYCBCAAQQhqIQAMCwtBACEAIARBL2oiCQJ/QZCKAigCAARAQZiKAigCAAwBC0GcigJCfzcCAEGUigJCgKCAgICABDcCAEGQigIgDEEMakFwcUHYqtWqBXM2AgBBpIoCQQA2AgBB9IkCQQA2AgBBgCALIgFqIgZBACABayIHcSIFIARNDQpB8IkCKAIAIgEEQEHoiQIoAgAiAiAFaiIIIAJNDQsgCCABSw0LC0H0iQItAABBBHENBQJAAkBB0IYCKAIAIgEEQEH4iQIhAANAIAAoAgAiAiABTQRAIAIgACgCBGogAUsNAwsgACgCCCIADQALC0EAEDgiA0F/Rg0GIAUhBkGUigIoAgAiAEF/aiIBIANxBEAgBSADayABIANqQQAgAGtxaiEGCyAGIARNDQYgBkH+////B0sNBkHwiQIoAgAiAARAQeiJAigCACIBIAZqIgIgAU0NByACIABLDQcLIAYQOCIAIANHDQEMCAsgBiADayAHcSIGQf7///8HSw0FIAYQOCIDIAAoAgAgACgCBGpGDQQgAyEACwJAIARBMGogBk0NACAAQX9GDQBBmIoCKAIAIgEgCSAGa2pBACABa3EiAUH+////B0sEQCAAIQMMCAsgARA4QX9HBEAgASAGaiEGIAAhAwwIC0EAIAZrEDgaDAULIAAhAyAAQX9HDQYMBAsAC0EAIQUMBwtBACEDDAULIANBf0cNAgtB9IkCQfSJAigCAEEEcjYCAAsgBUH+////B0sNASAFEDgiA0EAEDgiAE8NASADQX9GDQEgAEF/Rg0BIAAgA2siBiAEQShqTQ0BC0HoiQJB6IkCKAIAIAZqIgA2AgAgAEHsiQIoAgBLBEBB7IkCIAA2AgALAkACQAJAQdCGAigCACIBBEBB+IkCIQADQCADIAAoAgAiAiAAKAIEIgVqRg0CIAAoAggiAA0ACwwCC0HIhgIoAgAiAEEAIAMgAE8bRQRAQciGAiADNgIAC0EAIQBB/IkCIAY2AgBB+IkCIAM2AgBB2IYCQX82AgBB3IYCQZCKAigCADYCAEGEigJBADYCAANAIABBA3QiAUHohgJqIAFB4IYCaiICNgIAIAFB7IYCaiACNgIAIABBAWoiAEEgRw0AC0HEhgIgBkFYaiIAQXggA2tBB3FBACADQQhqQQdxGyIBayICNgIAQdCGAiABIANqIgE2AgAgASACQQFyNgIEIAAgA2pBKDYCBEHUhgJBoIoCKAIANgIADAILIAAtAAxBCHENACADIAFNDQAgAiABSw0AIAAgBSAGajYCBEHQhgIgAUF4IAFrQQdxQQAgAUEIakEHcRsiAGoiAjYCAEHEhgJBxIYCKAIAIAZqIgMgAGsiADYCACACIABBAXI2AgQgASADakEoNgIEQdSGAkGgigIoAgA2AgAMAQsgA0HIhgIoAgAiBUkEQEHIhgIgAzYCACADIQULIAMgBmohAkH4iQIhAAJAAkACQAJAAkACQANAIAIgACgCAEcEQCAAKAIIIgANAQwCCwsgAC0ADEEIcUUNAQtB+IkCIQADQCAAKAIAIgIgAU0EQCACIAAoAgRqIgIgAUsNAwsgACgCCCEADAAACwALIAAgAzYCACAAIAAoAgQgBmo2AgQgA0F4IANrQQdxQQAgA0EIakEHcRtqIgcgBEEDcjYCBCACQXggAmtBB3FBACACQQhqQQdxG2oiAyAHayAEayEAIAQgB2ohAiABIANGBEBB0IYCIAI2AgBBxIYCQcSGAigCACAAaiIANgIAIAIgAEEBcjYCBAwDCyADQcyGAigCAEYEQEHMhgIgAjYCAEHAhgJBwIYCKAIAIABqIgA2AgAgAiAAQQFyNgIEIAAgAmogADYCAAwDCyADKAIEIgFBA3FBAUYEQCABQXhxIQkCQCABQf8BTQRAIAMoAggiBiABQQN2IghBA3RB4IYCakcaIAMoAgwiBCAGRgRAQbiGAkG4hgIoAgBBfiAId3E2AgAMAgsgBiAENgIMIAQgBjYCCAwBCyADKAIYIQgCQCADIAMoAgwiBkcEQCAFIAMoAggiAU0EQCABKAIMGgsgASAGNgIMIAYgATYCCAwBCwJAIANBFGoiASgCACIEDQAgA0EQaiIBKAIAIgQNAEEAIQYMAQsDQCABIQUgBCIGQRRqIgEoAgAiBA0AIAZBEGohASAGKAIQIgQNAAsgBUEANgIACyAIRQ0AAkAgAyADKAIcIgRBAnRB6IgCaiIBKAIARgRAIAEgBjYCACAGDQFBvIYCQbyGAigCAEF+IAR3cTYCAAwCCyAIQRBBFCAIKAIQIANGG2ogBjYCACAGRQ0BCyAGIAg2AhggAygCECIBBEAgBiABNgIQIAEgBjYCGAsgAygCFCIBRQ0AIAYgATYCFCABIAY2AhgLIAMgCWohAyAAIAlqIQALIAMgAygCBEF+cTYCBCACIABBAXI2AgQgACACaiAANgIAIABB/wFNBEAgAEEDdiIBQQN0QeCGAmohAAJ/QbiGAigCACIEQQEgAXQiAXFFBEBBuIYCIAEgBHI2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCAwDCyACAn9BACAAQQh2IgRFDQAaQR8gAEH///8HSw0AGiAEIARBgP4/akEQdkEIcSIBdCIEIARBgOAfakEQdkEEcSIEdCIDIANBgIAPakEQdkECcSIDdEEPdiABIARyIANyayIBQQF0IAAgAUEVanZBAXFyQRxqCyIBNgIcIAJCADcCECABQQJ0QeiIAmohBAJAQbyGAigCACIDQQEgAXQiBXFFBEBBvIYCIAMgBXI2AgAgBCACNgIAIAIgBDYCGAwBCyAAQQBBGSABQQF2ayABQR9GG3QhASAEKAIAIQMDQCADIgQoAgRBeHEgAEYNAyABQR12IQMgAUEBdCEBIAQgA0EEcWpBEGoiBSgCACIDDQALIAUgAjYCACACIAQ2AhgLIAIgAjYCDCACIAI2AggMAgtBxIYCIAZBWGoiAEF4IANrQQdxQQAgA0EIakEHcRsiBWsiBzYCAEHQhgIgAyAFaiIFNgIAIAUgB0EBcjYCBCAAIANqQSg2AgRB1IYCQaCKAigCADYCACABIAJBJyACa0EHcUEAIAJBWWpBB3EbakFRaiIAIAAgAUEQakkbIgVBGzYCBCAFQYCKAikCADcCECAFQfiJAikCADcCCEGAigIgBUEIajYCAEH8iQIgBjYCAEH4iQIgAzYCAEGEigJBADYCACAFQRhqIQADQCAAQQc2AgQgAEEIaiEDIABBBGohACACIANLDQALIAEgBUYNAyAFIAUoAgRBfnE2AgQgASAFIAFrIgZBAXI2AgQgBSAGNgIAIAZB/wFNBEAgBkEDdiICQQN0QeCGAmohAAJ/QbiGAigCACIDQQEgAnQiAnFFBEBBuIYCIAIgA3I2AgAgAAwBCyAAKAIICyECIAAgATYCCCACIAE2AgwgASAANgIMIAEgAjYCCAwECyABQgA3AhAgAQJ/QQAgBkEIdiICRQ0AGkEfIAZB////B0sNABogAiACQYD+P2pBEHZBCHEiAHQiAiACQYDgH2pBEHZBBHEiAnQiAyADQYCAD2pBEHZBAnEiA3RBD3YgACACciADcmsiAEEBdCAGIABBFWp2QQFxckEcagsiADYCHCAAQQJ0QeiIAmohAgJAQbyGAigCACIDQQEgAHQiBXFFBEBBvIYCIAMgBXI2AgAgAiABNgIAIAEgAjYCGAwBCyAGQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQMDQCADIgIoAgRBeHEgBkYNBCAAQR12IQMgAEEBdCEAIAIgA0EEcWpBEGoiBSgCACIDDQALIAUgATYCACABIAI2AhgLIAEgATYCDCABIAE2AggMAwsgBCgCCCIAIAI2AgwgBCACNgIIIAJBADYCGCACIAQ2AgwgAiAANgIICyAHQQhqIQAMBQsgAigCCCIAIAE2AgwgAiABNgIIIAFBADYCGCABIAI2AgwgASAANgIIC0HEhgIoAgAiACAETQ0AQcSGAiAAIARrIgE2AgBB0IYCQdCGAigCACIAIARqIgI2AgAgAiABQQFyNgIEIAAgBEEDcjYCBCAAQQhqIQAMAwtBsIYCQTA2AgBBACEADAILAkAgCEUNAAJAIAUoAhwiAkECdEHoiAJqIgAoAgAgBUYEQCAAIAM2AgAgAw0BQbyGAiAJQX4gAndxIgk2AgAMAgsgCEEQQRQgCCgCECAFRhtqIAM2AgAgA0UNAQsgAyAINgIYIAUoAhAiAARAIAMgADYCECAAIAM2AhgLIAUoAhQiAEUNACADIAA2AhQgACADNgIYCwJAIAFBD00EQCAFIAEgBGoiAEEDcjYCBCAAIAVqIgAgACgCBEEBcjYCBAwBCyAFIARBA3I2AgQgByABQQFyNgIEIAEgB2ogATYCACABQf8BTQRAIAFBA3YiAUEDdEHghgJqIQACf0G4hgIoAgAiAkEBIAF0IgFxRQRAQbiGAiABIAJyNgIAIAAMAQsgACgCCAshASAAIAc2AgggASAHNgIMIAcgADYCDCAHIAE2AggMAQsgBwJ/QQAgAUEIdiICRQ0AGkEfIAFB////B0sNABogAiACQYD+P2pBEHZBCHEiAHQiAiACQYDgH2pBEHZBBHEiAnQiBCAEQYCAD2pBEHZBAnEiBHRBD3YgACACciAEcmsiAEEBdCABIABBFWp2QQFxckEcagsiADYCHCAHQgA3AhAgAEECdEHoiAJqIQICQAJAIAlBASAAdCIEcUUEQEG8hgIgBCAJcjYCACACIAc2AgAgByACNgIYDAELIAFBAEEZIABBAXZrIABBH0YbdCEAIAIoAgAhBANAIAQiAigCBEF4cSABRg0CIABBHXYhBCAAQQF0IQAgAiAEQQRxakEQaiIDKAIAIgQNAAsgAyAHNgIAIAcgAjYCGAsgByAHNgIMIAcgBzYCCAwBCyACKAIIIgAgBzYCDCACIAc2AgggB0EANgIYIAcgAjYCDCAHIAA2AggLIAVBCGohAAwBCwJAIApFDQACQCADKAIcIgJBAnRB6IgCaiIAKAIAIANGBEAgACAFNgIAIAUNAUG8hgIgCEF+IAJ3cTYCAAwCCyAKQRBBFCAKKAIQIANGG2ogBTYCACAFRQ0BCyAFIAo2AhggAygCECIABEAgBSAANgIQIAAgBTYCGAsgAygCFCIARQ0AIAUgADYCFCAAIAU2AhgLAkAgAUEPTQRAIAMgASAEaiIAQQNyNgIEIAAgA2oiACAAKAIEQQFyNgIEDAELIAMgBEEDcjYCBCALIAFBAXI2AgQgASALaiABNgIAIAkEQCAJQQN2IgRBA3RB4IYCaiECQcyGAigCACEAAn9BASAEdCIEIAZxRQRAQbiGAiAEIAZyNgIAIAIMAQsgAigCCAshBCACIAA2AgggBCAANgIMIAAgAjYCDCAAIAQ2AggLQcyGAiALNgIAQcCGAiABNgIACyADQQhqIQALIAxBEGokACAAC6oNAQd/AkAgAEUNACAAQXhqIgIgAEF8aigCACIBQXhxIgBqIQUCQCABQQFxDQAgAUEDcUUNASACIAIoAgAiAWsiAkHIhgIoAgAiBEkNASAAIAFqIQAgAkHMhgIoAgBHBEAgAUH/AU0EQCACKAIIIgcgAUEDdiIGQQN0QeCGAmpHGiAHIAIoAgwiA0YEQEG4hgJBuIYCKAIAQX4gBndxNgIADAMLIAcgAzYCDCADIAc2AggMAgsgAigCGCEGAkAgAiACKAIMIgNHBEAgBCACKAIIIgFNBEAgASgCDBoLIAEgAzYCDCADIAE2AggMAQsCQCACQRRqIgEoAgAiBA0AIAJBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAQJAIAIgAigCHCIEQQJ0QeiIAmoiASgCAEYEQCABIAM2AgAgAw0BQbyGAkG8hgIoAgBBfiAEd3E2AgAMAwsgBkEQQRQgBigCECACRhtqIAM2AgAgA0UNAgsgAyAGNgIYIAIoAhAiAQRAIAMgATYCECABIAM2AhgLIAIoAhQiAUUNASADIAE2AhQgASADNgIYDAELIAUoAgQiAUEDcUEDRw0AQcCGAiAANgIAIAUgAUF+cTYCBCACIABBAXI2AgQgACACaiAANgIADwsgBSACTQ0AIAUoAgQiAUEBcUUNAAJAIAFBAnFFBEAgBUHQhgIoAgBGBEBB0IYCIAI2AgBBxIYCQcSGAigCACAAaiIANgIAIAIgAEEBcjYCBCACQcyGAigCAEcNA0HAhgJBADYCAEHMhgJBADYCAA8LIAVBzIYCKAIARgRAQcyGAiACNgIAQcCGAkHAhgIoAgAgAGoiADYCACACIABBAXI2AgQgACACaiAANgIADwsgAUF4cSAAaiEAAkAgAUH/AU0EQCAFKAIMIQQgBSgCCCIDIAFBA3YiBUEDdEHghgJqIgFHBEBByIYCKAIAGgsgAyAERgRAQbiGAkG4hgIoAgBBfiAFd3E2AgAMAgsgASAERwRAQciGAigCABoLIAMgBDYCDCAEIAM2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgNHBEBByIYCKAIAIAUoAggiAU0EQCABKAIMGgsgASADNgIMIAMgATYCCAwBCwJAIAVBFGoiASgCACIEDQAgBUEQaiIBKAIAIgQNAEEAIQMMAQsDQCABIQcgBCIDQRRqIgEoAgAiBA0AIANBEGohASADKAIQIgQNAAsgB0EANgIACyAGRQ0AAkAgBSAFKAIcIgRBAnRB6IgCaiIBKAIARgRAIAEgAzYCACADDQFBvIYCQbyGAigCAEF+IAR3cTYCAAwCCyAGQRBBFCAGKAIQIAVGG2ogAzYCACADRQ0BCyADIAY2AhggBSgCECIBBEAgAyABNgIQIAEgAzYCGAsgBSgCFCIBRQ0AIAMgATYCFCABIAM2AhgLIAIgAEEBcjYCBCAAIAJqIAA2AgAgAkHMhgIoAgBHDQFBwIYCIAA2AgAPCyAFIAFBfnE2AgQgAiAAQQFyNgIEIAAgAmogADYCAAsgAEH/AU0EQCAAQQN2IgFBA3RB4IYCaiEAAn9BuIYCKAIAIgRBASABdCIBcUUEQEG4hgIgASAEcjYCACAADAELIAAoAggLIQEgACACNgIIIAEgAjYCDCACIAA2AgwgAiABNgIIDwsgAkIANwIQIAICf0EAIABBCHYiBEUNABpBHyAAQf///wdLDQAaIAQgBEGA/j9qQRB2QQhxIgF0IgQgBEGA4B9qQRB2QQRxIgR0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAEgBHIgA3JrIgFBAXQgACABQRVqdkEBcXJBHGoLIgE2AhwgAUECdEHoiAJqIQQCQAJAAkBBvIYCKAIAIgNBASABdCIFcUUEQEG8hgIgAyAFcjYCACAEIAI2AgAgAiAENgIYDAELIABBAEEZIAFBAXZrIAFBH0YbdCEBIAQoAgAhAwNAIAMiBCgCBEF4cSAARg0CIAFBHXYhAyABQQF0IQEgBCADQQRxakEQaiIFKAIAIgMNAAsgBSACNgIAIAIgBDYCGAsgAiACNgIMIAIgAjYCCAwBCyAEKAIIIgAgAjYCDCAEIAI2AgggAkEANgIYIAIgBDYCDCACIAA2AggLQdiGAkHYhgIoAgBBf2oiAjYCACACDQBBgIoCIQIDQCACKAIAIgBBCGohAiAADQALQdiGAkF/NgIACwsEACMACwYAIAAkAAsQACMAIABrQXBxIgAkACAACwYAIABAAAsLmf4BBABBoAgLV7Z4Wf+FctMAvW4V/w8KagApwAEAmOh5/7w8oP+Zcc7/ALfi/rQNSP8AAAAAAAAAALCgDv7TyYb/nhiPAH9pNQBgDL0Ap9f7/59MgP5qZeH/HvwEAJIMrgBBgAkLJ1nxsv4K5ab/e90q/h4U1ABSgAMAMNHzAHd5QP8y45z/AG7FAWcbkABBsAkLwAUIybzzZ+YJajunyoSFrme7K/iU/nLzbjzxNh1fOvVPpdGC5q1/Ug5RH2w+K4xoBZtrvUH7q9mDH3khfhMZzeBbIq4o15gvikLNZe8jkUQ3cS87TezP+8C1vNuJgaXbtek4tUjzW8JWORnQBbbxEfFZm08Zr6SCP5IYgW3a1V4cq0ICA6OYqgfYvm9wRQFbgxKMsuROvoUxJOK0/9XDfQxVb4l78nRdvnKxlhY7/rHegDUSxyWnBtyblCZpz3Txm8HSSvGewWmb5OMlTziGR77vtdWMi8adwQ9lnKx3zKEMJHUCK1lvLOktg+SmbqqEdErU+0G93KmwXLVTEYPaiPl2q99m7lJRPpgQMrQtbcYxqD8h+5jIJwOw5A7vvsd/Wb/Cj6g98wvgxiWnCpNHkafVb4ID4FFjygZwbg4KZykpFPwv0kaFCrcnJskmXDghGy7tKsRa/G0sTd+zlZ0TDThT3mOvi1RzCmWosnc8uwpqduau7UcuycKBOzWCFIUscpJkA/FMoei/ogEwQrxLZhqokZf40HCLS8IwvlQGo1FsxxhS79YZ6JLREKllVSQGmdYqIHFXhTUO9LjRuzJwoGoQyNDSuBbBpBlTq0FRCGw3Hpnrjt9Md0gnqEib4bW8sDRjWsnFswwcOcuKQeNKqthOc+Njd0/KnFujuLLW828uaPyy713ugo90YC8XQ29jpXhyq/ChFHjIhOw5ZBoIAseMKB5jI/r/vpDpvYLe62xQpBV5xrL3o/m+K1Ny4/J4ccacYSbqzj4nygfCwCHHuIbRHuvgzdZ92up40W7uf0999bpvF3KqZ/AGppjIosV9YwquDfm+BJg/ERtHHBM1C3EbhH0EI/V32yiTJMdAe6vKMry+yRUKvp48TA0QnMRnHUO2Qj7LvtTFTCp+ZfycKX9Z7PrWOqtvy18XWEdKjBlEbABB8A4Lv/cBhTuMAb3xJP/4JcMBYNw3ALdMPv/DQj0AMkykAeGkTP9MPaP/dT4fAFGRQP92QQ4AonPW/waKLgB85vT/CoqPADQawgC49EwAgY8pAb70E/97qnr/YoFEAHnVkwBWZR7/oWebAIxZQ//v5b4BQwu1AMbwif7uRbz/Q5fuABMqbP/lVXEBMkSH/xFqCQAyZwH/UAGoASOYHv8QqLkBOFno/2XS/AAp+kcAzKpP/w4u7/9QTe8AvdZL/xGN+QAmUEz/vlV1AFbkqgCc2NABw8+k/5ZCTP+v4RD/jVBiAUzb8gDGonIALtqYAJsr8f6boGj/M7ulAAIRrwBCVKAB9zoeACNBNf5F7L8ALYb1AaN73QAgbhT/NBelALrWRwDpsGAA8u82ATlZigBTAFT/iKBkAFyOeP5ofL4AtbE+//opVQCYgioBYPz2AJeXP/7vhT4AIDicAC2nvf+OhbMBg1bTALuzlv76qg7/0qNOACU0lwBjTRoA7pzV/9XA0QFJLlQAFEEpATbOTwDJg5L+qm8Y/7EhMv6rJsv/Tvd0ANHdmQCFgLIBOiwZAMknOwG9E/wAMeXSAXW7dQC1s7gBAHLbADBekwD1KTgAfQ3M/vStdwAs3SD+VOoUAPmgxgHsfur/L2Oo/qrimf9ms9gA4o16/3pCmf629YYA4+QZAdY56//YrTj/tefSAHeAnf+BX4j/bn4zAAKpt/8HgmL+RbBe/3QE4wHZ8pH/yq0fAWkBJ/8ur0UA5C86/9fgRf7POEX/EP6L/xfP1P/KFH7/X9Vg/wmwIQDIBc//8SqA/iMhwP/45cQBgRF4APtnl/8HNHD/jDhC/yji9f/ZRiX+rNYJ/0hDhgGSwNb/LCZwAES4S//OWvsAleuNALWqOgB09O8AXJ0CAGatYgDpiWABfzHLAAWblAAXlAn/03oMACKGGv/bzIgAhggp/+BTK/5VGfcAbX8A/qmIMADud9v/563VAM4S/v4Iugf/fgkHAW8qSABvNOz+YD+NAJO/f/7NTsD/DmrtAbvbTACv87v+aVmtAFUZWQGi85QAAnbR/iGeCQCLoy7/XUYoAGwqjv5v/I7/m9+QADPlp/9J/Jv/XnQM/5ig2v+c7iX/s+rP/8UAs/+apI0A4cRoAAojGf7R1PL/Yf3e/rhl5QDeEn8BpIiH/x7PjP6SYfMAgcAa/slUIf9vCk7/k1Gy/wQEGACh7tf/Bo0hADXXDv8ptdD/54udALPL3f//uXEAveKs/3FC1v/KPi3/ZkAI/06uEP6FdUT/hTuMAb3xJP/4JcMBYNw3ALdMPv/DQj0AMkykAeGkTP9MPaP/dT4fAFGRQP92QQ4AonPW/waKLgB85vT/CoqPADQawgC49EwAgY8pAb70E/97qnr/YoFEAHnVkwBWZR7/oWebAIxZQ//v5b4BQwu1AMbwif7uRbz/6nE8/yX/Of9Fsrb+gNCzAHYaff4DB9b/8TJN/1XLxf/Th/r/GTBk/7vVtP4RWGkAU9GeAQVzYgAErjz+qzdu/9m1Ef8UvKoAkpxm/lfWrv9yepsB6SyqAH8I7wHW7OoArwXbADFqPf8GQtD/Ampu/1HqE//Xa8D/Q5fuABMqbP/lVXEBMkSH/xFqCQAyZwH/UAGoASOYHv8QqLkBOFno/2XS/AAp+kcAzKpP/w4u7/9QTe8AvdZL/xGN+QAmUEz/vlV1AFbkqgCc2NABw8+k/5ZCTP+v4RD/jVBiAUzb8gDGonIALtqYAJsr8f6boGj/sgn8/mRu1AAOBacA6e+j/xyXnQFlkgr//p5G/kf55ABYHjIARDqg/78YaAGBQoH/wDJV/wiziv8m+skAc1CgAIPmcQB9WJMAWkTHAP1MngAc/3YAcfr+AEJLLgDm2isA5Xi6AZREKwCIfO4Bu2vF/1Q19v8zdP7/M7ulAAIRrwBCVKAB9zoeACNBNf5F7L8ALYb1AaN73QAgbhT/NBelALrWRwDpsGAA8u82ATlZigBTAFT/iKBkAFyOeP5ofL4AtbE+//opVQCYgioBYPz2AJeXP/7vhT4AIDicAC2nvf+OhbMBg1bTALuzlv76qg7/RHEV/966O/9CB/EBRQZIAFacbP43p1kAbTTb/g2wF//ELGr/75VH/6SMff+frQEAMynnAJE+IQCKb10BuVNFAJBzLgBhlxD/GOQaADHZ4gBxS+r+wZkM/7YwYP8ODRoAgMP5/kXBOwCEJVH+fWo8ANbwqQGk40IA0qNOACU0lwBjTRoA7pzV/9XA0QFJLlQAFEEpATbOTwDJg5L+qm8Y/7EhMv6rJsv/Tvd0ANHdmQCFgLIBOiwZAMknOwG9E/wAMeXSAXW7dQC1s7gBAHLbADBekwD1KTgAfQ3M/vStdwAs3SD+VOoUAPmgxgHsfur/jz7dAIFZ1v83iwX+RBS//w7MsgEjw9kALzPOASb2pQDOGwb+nlckANk0kv99e9f/VTwf/6sNBwDa9Vj+/CM8ADfWoP+FZTgA4CAT/pNA6gAakaIBcnZ9APj8+gBlXsT/xo3i/jMqtgCHDAn+bazS/8XswgHxQZoAMJwv/5lDN//apSL+SrSzANpCRwFYemMA1LXb/1wq5//vAJoA9U23/15RqgES1dgAq11HADRe+AASl6H+xdFC/670D/6iMLcAMT3w/rZdwwDH5AYByAUR/4kt7f9slAQAWk/t/yc/Tf81Us8BjhZ2/2XoEgFcGkMABchY/yGoiv+V4UgAAtEb/yz1qAHc7RH/HtNp/o3u3QCAUPX+b/4OAN5fvgHfCfEAkkzU/2zNaP8/dZkAkEUwACPkbwDAIcH/cNa+/nOYlwAXZlgAM0r4AOLHj/7MomX/0GG9AfVoEgDm9h7/F5RFAG5YNP7itVn/0C9a/nKhUP8hdPgAs5hX/0WQsQFY7hr/OiBxAQFNRQA7eTT/mO5TADQIwQDnJ+n/xyKKAN5ErQBbOfL+3NJ//8AH9v6XI7sAw+ylAG9dzgDU94UBmoXR/5vnCgBATiYAevlkAR4TYf8+W/kB+IVNAMU/qP50ClIAuOxx/tTLwv89ZPz+JAXK/3dbmf+BTx0AZ2er/u3Xb//YNUUA7/AXAMKV3f8m4d4A6P+0/nZShf850bEBi+iFAJ6wLv7Ccy4AWPflARxnvwDd3q/+lessAJfkGf7aaWcAjlXSAJWBvv/VQV7+dYbg/1LGdQCd3dwAo2UkAMVyJQBorKb+C7YAAFFIvP9hvBD/RQYKAMeTkf8ICXMBQdav/9mt0QBQf6YA9+UE/qe3fP9aHMz+rzvw/wsp+AFsKDP/kLHD/pb6fgCKW0EBeDze//XB7wAd1r3/gAIZAFCaogBN3GsB6s1K/zamZ/90SAkA5F4v/x7IGf8j1ln/PbCM/1Pio/9LgqwAgCYRAF+JmP/XfJ8BT10AAJRSnf7Dgvv/KMpM//t+4ACdYz7+zwfh/2BEwwCMup3/gxPn/yqA/gA02z3+ZstIAI0HC/+6pNUAH3p3AIXykQDQ/Oj/W9W2/48E+v7510oApR5vAasJ3wDleyIBXIIa/02bLQHDixz/O+BOAIgR9wBseSAAT/q9/2Dj/P4m8T4APq59/5tvXf8K5s4BYcUo/wAxOf5B+g0AEvuW/9xt0v8Frqb+LIG9AOsjk/8l943/SI0E/2dr/wD3WgQANSwqAAIe8AAEOz8AWE4kAHGntAC+R8H/x56k/zoIrABNIQwAQT8DAJlNIf+s/mYB5N0E/1ce/gGSKVb/iszv/myNEf+78ocA0tB/AEQtDv5JYD4AUTwY/6oGJP8D+RoAI9VtABaBNv8VI+H/6j04/zrZBgCPfFgA7H5CANEmt/8i7gb/rpFmAF8W0wDED5n+LlTo/3UikgHn+kr/G4ZkAVy7w/+qxnAAeBwqANFGQwAdUR8AHahkAamtoABrI3UAPmA7/1EMRQGH777/3PwSAKPcOv+Jibz/U2ZtAGAGTADq3tL/ua7NATye1f8N8dYArIGMAF1o8gDAnPsAK3UeAOFRngB/6NoA4hzLAOkbl/91KwX/8g4v/yEUBgCJ+yz+Gx/1/7fWff4oeZUAup7V/1kI4wBFWAD+y4fhAMmuywCTR7gAEnkp/l4FTgDg1vD+JAW0APuH5wGjitQA0vl0/liBuwATCDH+Pg6Q/59M0wDWM1IAbXXk/mffy/9L/A8Bmkfc/xcNWwGNqGD/tbaFAPozNwDq6tT+rz+eACfwNAGevST/1ShVASC09/8TZhoBVBhh/0UV3gCUi3r/3NXrAejL/wB5OZMA4weaADUWkwFIAeEAUoYw/lM8nf+RSKkAImfvAMbpLwB0EwT/uGoJ/7eBUwAksOYBImdIANuihgD1Kp4AIJVg/qUskADK70j+15YFACpCJAGE168AVq5W/xrFnP8x6If+Z7ZSAP2AsAGZsnoA9foKAOwYsgCJaoQAKB0pADIemP98aSYA5r9LAI8rqgAsgxT/LA0X/+3/mwGfbWT/cLUY/2jcbAA304MAYwzV/5iXkf/uBZ8AYZsIACFsUQABA2cAPm0i//qbtAAgR8P/JkaRAZ9f9QBF5WUBiBzwAE/gGQBObnn/+Kh8ALuA9wACk+v+TwuEAEY6DAG1CKP/T4mF/yWqC/+N81X/sOfX/8yWpP/v1yf/Llec/gijWP+sIugAQixm/xs2Kf7sY1f/KXupATRyKwB1higAm4YaAOfPW/4jhCb/E2Z9/iTjhf92A3H/HQ18AJhgSgFYks7/p7/c/qISWP+2ZBcAH3U0AFEuagEMAgcARVDJAdH2rAAMMI0B4NNYAHTinwB6YoIAQezqAeHiCf/P4nsBWdY7AHCHWAFa9Mv/MQsmAYFsugBZcA8BZS7M/3/MLf5P/93/M0kS/38qZf/xFcoAoOMHAGky7ABPNMX/aMrQAbQPEABlxU7/Yk3LACm58QEjwXwAI5sX/881wAALfaMB+Z65/wSDMAAVXW//PXnnAUXIJP+5MLn/b+4V/ycyGf9j16P/V9Qe/6STBf+ABiMBbN9u/8JMsgBKZbQA8y8wAK4ZK/9Srf0BNnLA/yg3WwDXbLD/CzgHAODpTADRYsr+8hl9ACzBXf7LCLEAh7ATAHBH1f/OO7ABBEMaAA6P1f4qN9D/PEN4AMEVowBjpHMAChR2AJzU3v6gB9n/cvVMAXU7ewCwwlb+1Q+wAE7Oz/7VgTsA6fsWAWA3mP/s/w//xVlU/12VhQCuoHEA6mOp/5h0WACQpFP/Xx3G/yIvD/9jeIb/BezBAPn3fv+Tux4AMuZ1/2zZ2/+jUab/SBmp/pt5T/8cm1n+B34RAJNBIQEv6v0AGjMSAGlTx/+jxOYAcfikAOL+2gC90cv/pPfe/v8jpQAEvPMBf7NHACXt/v9kuvAABTlH/mdISf/0ElH+5dKE/+4GtP8L5a7/493AARExHACj18T+CXYE/zPwRwBxgW3/TPDnALyxfwB9RywBGq/zAF6pGf4b5h0AD4t3Aaiquv+sxUz//Eu8AIl8xABIFmD/LZf5AdyRZABAwJ//eO/iAIGykgAAwH0A64rqALedkgBTx8D/uKxI/0nhgABNBvr/ukFDAGj2zwC8IIr/2hjyAEOKUf7tgXn/FM+WASnHEP8GFIAAn3YFALUQj//cJg8AF0CT/kkaDQBX5DkBzHyAACsY3wDbY8cAFksU/xMbfgCdPtcAbh3mALOn/wE2/L4A3cy2/rOeQf9RnQMAwtqfAKrfAADgCyD/JsViAKikJQAXWAcBpLpuAGAkhgDq8uUA+nkTAPL+cP8DL14BCe8G/1GGmf7W/aj/Q3zgAPVfSgAcHiz+AW3c/7JZWQD8JEwAGMYu/0xNbwCG6oj/J14dALlI6v9GRIf/52YH/k3njACnLzoBlGF2/xAb4QGmzo//brLW/7SDogCPjeEBDdpO/3KZIQFiaMwAr3J1AafOSwDKxFMBOkBDAIovbwHE94D/ieDg/p5wzwCaZP8BhiVrAMaAT/9/0Zv/o/65/jwO8wAf23D+HdlBAMgNdP57PMT/4Du4/vJZxAB7EEv+lRDOAEX+MAHndN//0aBBAchQYgAlwrj+lD8iAIvwQf/ZkIT/OCYt/sd40gBssab/oN4EANx+d/6la6D/Utz4AfGviACQjRf/qYpUAKCJTv/idlD/NBuE/z9gi/+Y+icAvJsPAOgzlv4oD+j/8OUJ/4mvG/9LSWEB2tQLAIcFogFrudUAAvlr/yjyRgDbyBkAGZ0NAENSUP/E+Rf/kRSVADJIkgBeTJQBGPtBAB/AFwC41Mn/e+miAfetSACiV9v+foZZAJ8LDP6maR0ASRvkAXF4t/9Co20B1I8L/5/nqAH/gFoAOQ46/lk0Cv/9CKMBAJHS/wqBVQEutRsAZ4ig/n680f8iI28A19sY/9QL1v5lBXYA6MWF/9+nbf/tUFb/RoteAJ7BvwGbDzP/D75zAE6Hz//5ChsBtX3pAF+sDf6q1aH/J+yK/19dV/++gF8AfQ/OAKaWnwDjD57/zp54/yqNgABlsngBnG2DANoOLP73qM7/1HAcAHAR5P9aECUBxd5sAP7PU/8JWvP/8/SsABpYc//NdHoAv+bBALRkCwHZJWD/mk6cAOvqH//OsrL/lcD7ALb6hwD2FmkAfMFt/wLSlf+pEaoAAGBu/3UJCAEyeyj/wb1jACLjoAAwUEb+0zPsAC169f4srggArSXp/55BqwB6Rdf/WlAC/4NqYP7jcocAzTF3/rA+QP9SMxH/8RTz/4INCP6A2fP/ohsB/lp28QD2xvb/NxB2/8ifnQCjEQEAjGt5AFWhdv8mAJUAnC/uAAmmpgFLYrX/MkoZAEIPLwCL4Z8ATAOO/w7uuAALzzX/t8C6Aasgrv+/TN0B96rbABmsMv7ZCekAy35E/7dcMAB/p7cBQTH+ABA/fwH+Far/O+B//hYwP/8bToL+KMMdAPqEcP4jy5AAaKmoAM/9Hv9oKCb+XuRYAM4QgP/UN3r/3xbqAN/FfwD9tbUBkWZ2AOyZJP/U2Uj/FCYY/oo+PgCYjAQA5txj/wEV1P+UyecA9HsJ/gCr0gAzOiX/Af8O//S3kf4A8qYAFkqEAHnYKQBfw3L+hRiX/5zi5//3BU3/9pRz/uFcUf/eUPb+qntZ/0rHjQAdFAj/iohG/11LXADdkzH+NH7iAOV8FwAuCbUAzUA0AYP+HACXntQAg0BOAM4ZqwAA5osAv/1u/mf3pwBAKCgBKqXx/ztL5P58873/xFyy/4KMVv+NWTgBk8YF/8v4nv6Qoo0AC6ziAIIqFf8Bp4//kCQk/zBYpP6oqtwAYkfWAFvQTwCfTMkBpirW/0X/AP8GgH3/vgGMAJJT2v/X7kgBen81AL10pf9UCEL/1gPQ/9VuhQDDqCwBnudFAKJAyP5bOmgAtjq7/vnkiADLhkz+Y93pAEv+1v5QRZoAQJj4/uyIyv+daZn+la8UABYjE/98eekAuvrG/oTliwCJUK7/pX1EAJDKlP7r7/gAh7h2AGVeEf96SEb+RYKSAH/e+AFFf3b/HlLX/rxKE//lp8L+dRlC/0HqOP7VFpwAlztd/i0cG/+6fqT/IAbvAH9yYwHbNAL/Y2Cm/j6+fv9s3qgBS+KuAObixwA8ddr//PgUAda8zAAfwob+e0XA/6mtJP43YlsA3ypm/okBZgCdWhkA73pA//wG6QAHNhT/UnSuAIclNv8Pun0A43Cv/2S04f8q7fT/9K3i/vgSIQCrY5b/Susy/3VSIP5qqO0Az23QAeQJugCHPKn+s1yPAPSqaP/rLXz/RmO6AHWJtwDgH9cAKAlkABoQXwFE2VcACJcU/xpkOv+wpcsBNHZGAAcg/v70/vX/p5DC/31xF/+webUAiFTRAIoGHv9ZMBwAIZsO/xnwmgCNzW0BRnM+/xQoa/6Kmsf/Xt/i/52rJgCjsRn+LXYD/w7eFwHRvlH/dnvoAQ3VZf97N3v+G/alADJjTP+M1iD/YUFD/xgMHACuVk4BQPdgAKCHQwBCN/P/k8xg/xoGIf9iM1MBmdXQ/wK4Nv8Z2gsAMUP2/hKVSP8NGUgAKk/WACoEJgEbi5D/lbsXABKkhAD1VLj+eMZo/37aYAA4der/DR3W/kQvCv+nmoT+mCbGAEKyWf/ILqv/DWNT/9K7/f+qLSoBitF8ANaijQAM5pwAZiRw/gOTQwA013v/6as2/2KJPgD32if/59rsAPe/fwDDklQApbBc/xPUXv8RSuMAWCiZAcaTAf/OQ/X+8APa/z2N1f9ht2oAw+jr/l9WmgDRMM3+dtHx//B43wHVHZ8Ao3+T/w3aXQBVGET+RhRQ/70FjAFSYf7/Y2O//4RUhf9r2nT/cHouAGkRIADCoD//RN4nAdj9XACxac3/lcnDACrhC/8oonMACQdRAKXa2wC0FgD+HZL8/5LP4QG0h2AAH6NwALEL2/+FDMH+K04yAEFxeQE72Qb/bl4YAXCsbwAHD2AAJFV7AEeWFf/QSbwAwAunAdX1IgAJ5lwAoo4n/9daGwBiYVkAXk/TAFqd8ABf3H4BZrDiACQe4P4jH38A5+hzAVVTggDSSfX/L49y/0RBxQA7SD7/t4Wt/l15dv87sVH/6kWt/82AsQDc9DMAGvTRAUneTf+jCGD+lpXTAJ7+ywE2f4sAoeA7AARtFv/eKi3/0JJm/+yOuwAyzfX/CkpZ/jBPjgDeTIL/HqY/AOwMDf8xuPQAu3FmANpl/QCZObb+IJYqABnGkgHt8TgAjEQFAFukrP9Okbr+QzTNANvPgQFtcxEANo86ARX4eP+z/x4AwexC/wH/B//9wDD/E0XZAQPWAP9AZZIB330j/+tJs//5p+IA4a8KAWGiOgBqcKsBVKwF/4WMsv+G9Y4AYVp9/7rLuf/fTRf/wFxqAA/Gc//ZmPgAq7J4/+SGNQCwNsEB+vs1ANUKZAEix2oAlx/0/qzgV/8O7Rf//VUa/38ndP+saGQA+w5G/9TQiv/90/oAsDGlAA9Me/8l2qD/XIcQAQp+cv9GBeD/9/mNAEQUPAHx0r3/w9m7AZcDcQCXXK4A5z6y/9u34QAXFyH/zbVQADm4+P9DtAH/Wntd/ycAov9g+DT/VEKMACJ/5P/CigcBpm68ABURmwGavsb/1lA7/xIHjwBIHeIBx9n5AOihRwGVvskA2a9f/nGTQ/+Kj8f/f8wBAB22UwHO5pv/usw8AAp9Vf/oYBn//1n3/9X+rwHowVEAHCuc/gxFCACTGPgAEsYxAIY8IwB29hL/MVj+/uQVuv+2QXAB2xYB/xZ+NP+9NTH/cBmPACZ/N//iZaP+0IU9/4lFrgG+dpH/PGLb/9kN9f/6iAoAVP7iAMkffQHwM/v/H4OC/wKKMv/X17EB3wzu//yVOP98W0T/SH6q/nf/ZACCh+j/Dk+yAPqDxQCKxtAAediL/ncSJP8dwXoAECot/9Xw6wHmvqn/xiPk/m6tSADW3fH/OJSHAMB1Tv6NXc//j0GVABUSYv9fLPQBar9NAP5VCP7WbrD/Sa0T/qDEx//tWpAAwaxx/8ibiP7kWt0AiTFKAaTd1//RvQX/aew3/yofgQHB/+wALtk8AIpYu//iUuz/UUWX/46+EAENhggAf3ow/1FAnACr84sA7SP2AHqPwf7UepIAXyn/AVeETQAE1B8AER9OACctrf4Yjtn/XwkG/+NTBgBiO4L+Ph4hAAhz0wGiYYD/B7gX/nQcqP/4ipf/YvTwALp2ggBy+Ov/aa3IAaB8R/9eJKQBr0GS/+7xqv7KxsUA5EeK/i32bf/CNJ4AhbuwAFP8mv5Zvd3/qkn8AJQ6fQAkRDP+KkWx/6hMVv8mZMz/JjUjAK8TYQDh7v3/UVGHANIb//7rSWsACM9zAFJ/iABUYxX+zxOIAGSkZQBQ0E3/hM/t/w8DD/8hpm4AnF9V/yW5bwGWaiP/ppdMAHJXh/+fwkAADHof/+gHZf6td2IAmkfc/r85Nf+o6KD/4CBj/9qcpQCXmaMA2Q2UAcVxWQCVHKH+zxceAGmE4/825l7/ha3M/1y3nf9YkPz+ZiFaAJ9hAwC12pv/8HJ3AGrWNf+lvnMBmFvh/1hqLP/QPXEAlzR8AL8bnP9uNuwBDh6m/yd/zwHlxxwAvOS8/mSd6wD22rcBaxbB/86gXwBM75MAz6F1ADOmAv80dQr+STjj/5jB4QCEXoj/Zb/RACBr5f/GK7QBZNJ2AHJDmf8XWBr/WZpcAdx4jP+Qcs///HP6/yLOSACKhX//CLJ8AVdLYQAP5Vz+8EOD/3Z74/6SeGj/kdX/AYG7Rv/bdzYAAROtAC2WlAH4U0gAy+mpAY5rOAD3+SYBLfJQ/x7pZwBgUkYAF8lvAFEnHv+ht07/wuoh/0TjjP7YznQARhvr/2iQTwCk5l3+1oecAJq78v68FIP/JG2uAJ9w8QAFbpUBJKXaAKYdEwGyLkkAXSsg/vi97QBmm40AyV3D//GL/f8Pb2L/bEGj/ptPvv9JrsH+9igw/2tYC/7KYVX//cwS/3HyQgBuoML+0BK6AFEVPAC8aKf/fKZh/tKFjgA48on+KW+CAG+XOgFv1Y3/t6zx/yYGxP+5B3v/Lgv2APVpdwEPAqH/CM4t/xLKSv9TfHMB1I2dAFMI0f6LD+j/rDat/jL3hADWvdUAkLhpAN/++AD/k/D/F7xIAAczNgC8GbT+3LQA/1OgFACjvfP/OtHC/1dJPABqGDEA9fncABatpwB2C8P/E37tAG6fJf87Ui8AtLtWALyU0AFkJYX/B3DBAIG8nP9UaoH/heHKAA7sb/8oFGUArKwx/jM2Sv/7ubj/XZvg/7T54AHmspIASDk2/rI+uAB3zUgAue/9/z0P2gDEQzj/6iCrAS7b5ADQbOr/FD/o/6U1xwGF5AX/NM1rAErujP+WnNv+76yy//u93/4gjtP/2g+KAfHEUAAcJGL+FurHAD3t3P/2OSUAjhGO/50+GgAr7l/+A9kG/9UZ8AEn3K7/ms0w/hMNwP/0Ijb+jBCbAPC1Bf6bwTwApoAE/ySROP+W8NsAeDORAFKZKgGM7JIAa1z4Ab0KAwA/iPIA0ycYABPKoQGtG7r/0szv/inRov+2/p//rHQ0AMNn3v7NRTsANRYpAdowwgBQ0vIA0rzPALuhof7YEQEAiOFxAPq4PwDfHmL+TaiiADs1rwATyQr/i+DCAJPBmv/UvQz+Aciu/zKFcQFes1oArbaHAF6xcQArWdf/iPxq/3uGU/4F9UL/UjEnAdwC4ABhgbEATTtZAD0dmwHLq9z/XE6LAJEhtf+pGI0BN5azAIs8UP/aJ2EAApNr/zz4SACt5i8BBlO2/xBpov6J1FH/tLiGASfepP/dafsB73B9AD8HYQA/aOP/lDoMAFo84P9U1PwAT9eoAPjdxwFzeQEAJKx4ACCiu/85azH/kyoVAGrGKwE5SlcAfstR/4GHwwCMH7EA3YvCAAPe1wCDROcAsVay/nyXtAC4fCYBRqMRAPn7tQEqN+MA4qEsABfsbgAzlY4BXQXsANq3av5DGE0AKPXR/955mQClOR4AU308AEYmUgHlBrwAbd6d/zd2P//Nl7oA4yGV//6w9gHjseMAImqj/rArTwBqX04BufF6/7kOPQAkAcoADbKi//cLhACh5lwBQQG5/9QypQGNkkD/nvLaABWkfQDVi3oBQ0dXAMuesgGXXCsAmG8F/ycD7//Z//r/sD9H/0r1TQH6rhL/IjHj//Yu+/+aIzABfZ09/2okTv9h7JkAiLt4/3GGq/8T1dn+2F7R//wFPQBeA8oAAxq3/0C/K/8eFxUAgY1N/2Z4BwHCTIwAvK80/xFRlADoVjcB4TCsAIYqKv/uMi8AqRL+ABSTV/8Ow+//RfcXAO7lgP+xMXAAqGL7/3lH+ADzCJH+9uOZ/9upsf77i6X/DKO5/6Qoq/+Znxv+821b/94YcAES1ucAa521/sOTAP/CY2j/WYy+/7FCfv5quUIAMdofAPyungC8T+YB7ingANTqCAGIC7UApnVT/0TDXgAuhMkA8JhYAKQ5Rf6g4Cr/O9dD/3fDjf8ktHn+zy8I/67S3wBlxUT//1KNAfqJ6QBhVoUBEFBFAISDnwB0XWQALY2LAJisnf9aK1sAR5kuACcQcP/ZiGH/3MYZ/rE1MQDeWIb/gA88AM/Aqf/AdNH/ak7TAcjVt/8HDHr+3ss8/yFux/77anUA5OEEAXg6B//dwVT+cIUbAL3Iyf+Lh5YA6jew/z0yQQCYbKn/3FUB/3CH4wCiGroAz2C5/vSIawBdmTIBxmGXAG4LVv+Pda7/c9TIAAXKtwDtpAr+ue8+AOx4Ev5ie2P/qMnC/i7q1gC/hTH/Y6l3AL67IwFzFS3/+YNIAHAGe//WMbX+pukiAFzFZv795M3/AzvJASpiLgDbJSP/qcMmAF58wQGcK98AX0iF/njOvwB6xe//sbtP//4uAgH6p74AVIETAMtxpv/5H73+SJ3K/9BHSf/PGEgAChASAdJRTP9Y0MD/fvNr/+6NeP/Heer/iQw7/yTce/+Uszz+8AwdAEIAYQEkHib/cwFd/2Bn5//FnjsBwKTwAMrKOf8YrjAAWU2bASpM1wD0l+kAFzBRAO9/NP7jgiX/+HRdAXyEdgCt/sABButT/26v5wH7HLYAgfld/lS4gABMtT4Ar4C6AGQ1iP5tHeIA3ek6ARRjSgAAFqAAhg0VAAk0N/8RWYwAryI7AFSld//g4ur/B0im/3tz/wES1vYA+gdHAdncuQDUI0z/Jn2vAL1h0gBy7iz/Kbyp/i26mgBRXBYAhKDBAHnQYv8NUSz/y5xSAEc6Ff/Qcr/+MiaTAJrYwwBlGRIAPPrX/+mE6/9nr44BEA5cAI0fbv7u8S3/mdnvAWGoL//5VRABHK8+/zn+NgDe534Api11/hK9YP/kTDIAyPReAMaYeAFEIkX/DEGg/mUTWgCnxXj/RDa5/ynavABxqDAAWGm9ARpSIP+5XaQB5PDt/0K2NQCrxVz/awnpAcd4kP9OMQr/bapp/1oEH/8c9HH/SjoLAD7c9v95msj+kNKy/345gQEr+g7/ZW8cAS9W8f89Rpb/NUkF/x4angDRGlYAiu1KAKRfvACOPB3+onT4/7uvoACXEhAA0W9B/suGJ/9YbDH/gxpH/90b1/5oaV3/H+wf/ocA0/+Pf24B1EnlAOlDp/7DAdD/hBHd/zPZWgBD6zL/39KPALM1ggHpasYA2a3c/3DlGP+vml3+R8v2/zBChf8DiOb/F91x/utv1QCqeF/++90CAC2Cnv5pXtn/8jS0/tVELf9oJhwA9J5MAKHIYP/PNQ3/u0OUAKo2+AB3orL/UxQLACoqwAGSn6P/t+hvAE3lFf9HNY8AG0wiAPaIL//bJ7b/XODJAROODv9FtvH/o3b1AAltagGqtff/Ti/u/1TSsP/Va4sAJyYLAEgVlgBIgkUAzU2b/o6FFQBHb6z+4io7/7MA1wEhgPEA6vwNAbhPCABuHkn/9o29AKrP2gFKmkX/ivYx/5sgZAB9Smn/WlU9/yPlsf8+fcH/mVa8AUl41ADRe/b+h9Em/5c6LAFcRdb/DgxY//yZpv/9z3D/PE5T/+N8bgC0YPz/NXUh/qTcUv8pARv/JqSm/6Rjqf49kEb/wKYSAGv6QgDFQTIAAbMS//9oAf8rmSP/UG+oAG6vqAApaS3/2w7N/6TpjP4rAXYA6UPDALJSn/+KV3r/1O5a/5AjfP4ZjKQA+9cs/oVGa/9l41D+XKk3ANcqMQBytFX/IegbAazVGQA+sHv+IIUY/+G/PgBdRpkAtSpoARa/4P/IyIz/+eolAJU5jQDDOND//oJG/yCt8P8d3McAbmRz/4Tl+QDk6d//JdjR/rKx0f+3LaX+4GFyAIlhqP/h3qwApQ0xAdLrzP/8BBz+RqCXAOi+NP5T+F3/PtdNAa+vs/+gMkIAeTDQAD+p0f8A0sgA4LssAUmiUgAJsI//E0zB/x07pwEYK5oAHL6+AI28gQDo68v/6gBt/zZBnwA8WOj/ef2W/vzpg//GbikBU01H/8gWO/5q/fL/FQzP/+1CvQBaxsoB4ax/ADUWygA45oQAAVa3AG2+KgDzRK4BbeSaAMixegEjoLf/sTBV/1raqf/4mE4Ayv5uAAY0KwCOYkH/P5EWAEZqXQDoimsBbrM9/9OB2gHy0VwAI1rZAbaPav90Zdn/cvrd/63MBgA8lqMASaws/+9uUP/tTJn+oYz5AJXo5QCFHyj/rqR3AHEz1gCB5AL+QCLzAGvj9P+uasj/VJlGATIjEAD6Stj+7L1C/5n5DQDmsgT/3SnuAHbjef9eV4z+/ndcAEnv9v51V4AAE9OR/7Eu/ADlW/YBRYD3/8pNNgEICwn/mWCmANnWrf+GwAIBAM8AAL2uawGMhmQAnsHzAbZmqwDrmjMAjgV7/zyoWQHZDlz/E9YFAdOn/gAsBsr+eBLs/w9xuP+434sAKLF3/rZ7Wv+wpbAA903CABvqeADnANb/OyceAH1jkf+WREQBjd74AJl70v9uf5j/5SHWAYfdxQCJYQIADI/M/1EpvABzT4L/XgOEAJivu/98jQr/fsCz/wtnxgCVBi0A21W7AeYSsv9ItpgAA8a4/4Bw4AFhoeYA/mMm/zqfxQCXQtsAO0WP/7lw+QB3iC//e4KEAKhHX/9xsCgB6LmtAM9ddQFEnWz/ZgWT/jFhIQBZQW/+9x6j/3zZ3QFm+tgAxq5L/jk3EgDjBewB5dWtAMlt2gEx6e8AHjeeARmyagCbb7wBXn6MANcf7gFN8BAA1fIZASZHqADNul3+MdOM/9sAtP+GdqUAoJOG/266I//G8yoA85J3AIbrowEE8Yf/wS7B/me0T//hBLj+8naCAJKHsAHqbx4ARULV/ilgewB5Xir/sr/D/y6CKgB1VAj/6THW/u56bQAGR1kB7NN7APQNMP53lA4AchxW/0vtGf+R5RD+gWQ1/4aWeP6onTIAF0ho/+AxDgD/exb/l7mX/6pQuAGGthQAKWRlAZkhEABMmm8BVs7q/8CgpP6le13/Adik/kMRr/+pCzv/nik9/0m8Dv/DBon/FpMd/xRnA//2guP/eiiAAOIvGP4jJCAAmLq3/0XKFADDhcMA3jP3AKmrXgG3AKD/QM0SAZxTD//FOvn++1lu/zIKWP4zK9gAYvLGAfWXcQCr7MIBxR/H/+VRJgEpOxQA/WjmAJhdDv/28pL+1qnw//BmbP6gp+wAmtq8AJbpyv8bE/oBAkeF/68MPwGRt8YAaHhz/4L79wAR1Kf/PnuE//dkvQCb35gAj8UhAJs7LP+WXfABfwNX/19HzwGnVQH/vJh0/woXFwCJw10BNmJhAPAAqP+UvH8AhmuXAEz9qwBahMAAkhY2AOBCNv7muuX/J7bEAJT7gv9Bg2z+gAGgAKkxp/7H/pT/+waDALv+gf9VUj4Ashc6//6EBQCk1ScAhvyS/iU1Uf+bhlIAzafu/14ttP+EKKEA/m9wATZL2QCz5t0B616//xfzMAHKkcv/J3Yq/3WN/QD+AN4AK/syADap6gFQRNAAlMvz/pEHhwAG/gAA/Ll/AGIIgf8mI0j/0yTcASgaWQCoQMX+A97v/wJT1/60n2kAOnPCALp0av/l99v/gXbBAMqutwGmoUgAyWuT/u2ISgDp5moBaW+oAEDgHgEB5QMAZpev/8Lu5P/++tQAu+15AEP7YAHFHgsAt1/MAM1ZigBA3SUB/98e/7Iw0//xyFr/p9Fg/zmC3QAucsj/PbhCADe2GP5utiEAq77o/3JeHwAS3QgAL+f+AP9wUwB2D9f/rRko/sDBH//uFZL/q8F2/2XqNf6D1HAAWcBrAQjQGwC12Q//55XoAIzsfgCQCcf/DE+1/pO2yv8Tbbb/MdThAEqjywCv6ZQAGnAzAMHBCf8Ph/kAluOCAMwA2wEY8s0A7tB1/xb0cAAa5SIAJVC8/yYtzv7wWuH/HQMv/yrgTAC686cAIIQP/wUzfQCLhxgABvHbAKzlhf/21jIA5wvP/79+UwG0o6r/9TgYAbKk0/8DEMoBYjl2/42DWf4hMxgA85Vb//00DgAjqUP+MR5Y/7MbJP+ljLcAOr2XAFgfAABLqUIAQmXH/xjYxwF5xBr/Dk/L/vDiUf9eHAr/U8Hw/8zBg/9eD1YA2iidADPB0QAA8rEAZrn3AJ5tdAAmh1sA36+VANxCAf9WPOgAGWAl/+F6ogHXu6j/np0uADirogDo8GUBehYJADMJFf81Ge7/2R7o/n2plAAN6GYAlAklAKVhjQHkgykA3g/z//4SEQAGPO0BagNxADuEvQBccB4AadDVADBUs/+7eef+G9ht/6Lda/5J78P/+h85/5WHWf+5F3MBA6Od/xJw+gAZObv/oWCkAC8Q8wAMjfv+Q+q4/ykSoQCvBmD/oKw0/hiwt//GwVUBfHmJ/5cycv/cyzz/z+8FAQAma/837l7+RpheANXcTQF4EUX/VaS+/8vqUQAmMSX+PZB8AIlOMf6o9zAAX6T8AGmphwD95IYAQKZLAFFJFP/P0goA6mqW/14iWv/+nzn+3IVjAIuTtP4YF7kAKTke/71hTABBu9//4Kwl/yI+XwHnkPAATWp+/kCYWwAdYpsA4vs1/+rTBf+Qy97/pLDd/gXnGACzes0AJAGG/31Gl/5h5PwArIEX/jBa0f+W4FIBVIYeAPHELgBncer/LmV5/ih8+v+HLfL+Cfmo/4xsg/+Po6sAMq3H/1jejv/IX54AjsCj/wd1hwBvfBYA7AxB/kQmQf/jrv4A9PUmAPAy0P+hP/oAPNHvAHojEwAOIeb+Ap9xAGoUf//kzWAAidKu/rTUkP9ZYpoBIliLAKeicAFBbsUA8SWpAEI4g/8KyVP+hf27/7FwLf7E+wAAxPqX/+7o1v+W0c0AHPB2AEdMUwHsY1sAKvqDAWASQP923iMAcdbL/3p3uP9CEyQAzED5AJJZiwCGPocBaOllALxUGgAx+YEA0NZL/8+CTf9zr+sAqwKJ/6+RugE39Yf/mla1AWQ69v9txzz/UsyG/9cx5gGM5cD/3sH7/1GID/+zlaL/Fycd/wdfS/6/Ud4A8VFa/2sxyf/0050A3oyV/0HbOP699lr/sjudATDbNABiItcAHBG7/6+pGABcT6H/7MjCAZOP6gDl4QcBxagOAOszNQH9eK4AxQao/8p1qwCjFc4AclVa/w8pCv/CE2MAQTfY/qKSdAAyztT/QJId/56egwFkpYL/rBeB/301Cf8PwRIBGjEL/7WuyQGHyQ7/ZBOVANtiTwAqY4/+YAAw/8X5U/5olU//626I/lKALP9BKST+WNMKALt5uwBihscAq7yz/tIL7v9Ce4L+NOo9ADBxF/4GVnj/d7L1AFeByQDyjdEAynJVAJQWoQBnwzAAGTGr/4pDggC2SXr+lBiCANPlmgAgm54AVGk9ALHCCf+mWVYBNlO7APkodf9tA9f/NZIsAT8vswDC2AP+DlSIAIixDf9I87r/dRF9/9M60/9dT98AWlj1/4vRb/9G3i8ACvZP/8bZsgDj4QsBTn6z/z4rfgBnlCMAgQil/vXwlAA9M44AUdCGAA+Jc//Td+z/n/X4/wKGiP/mizoBoKT+AHJVjf8xprb/kEZUAVW2BwAuNV0ACaah/zeisv8tuLwAkhws/qlaMQB4svEBDnt//wfxxwG9QjL/xo9l/r3zh/+NGBj+S2FXAHb7mgHtNpwAq5LP/4PE9v+IQHEBl+g5APDacwAxPRv/QIFJAfypG/8ohAoBWsnB//x58AG6zikAK8ZhAJFktwDM2FD+rJZBAPnlxP5oe0n/TWhg/oK0CABoezkA3Mrl/2b50wBWDuj/tk7RAO/hpABqDSD/eEkR/4ZD6QBT/rUAt+xwATBAg//x2PP/QcHiAM7xZP5khqb/7crFADcNUQAgfGb/KOSxAHa1HwHnoIb/d7vKAACOPP+AJr3/psmWAM94GgE2uKwADPLM/oVC5gAiJh8BuHBQACAzpf6/8zcAOkmS/punzf9kaJj/xf7P/60T9wDuCsoA75fyAF47J//wHWb/Clya/+VU2/+hgVAA0FrMAfDbrv+eZpEBNbJM/zRsqAFT3msA0yRtAHY6OAAIHRYA7aDHAKrRnQCJRy8Aj1YgAMbyAgDUMIgBXKy6AOaXaQFgv+UAilC//vDYgv9iKwb+qMQxAP0SWwGQSXkAPZInAT9oGP+4pXD+futiAFDVYv97PFf/Uoz1Ad94rf8PxoYBzjzvAOfqXP8h7hP/pXGOAbB3JgCgK6b+71tpAGs9wgEZBEQAD4szAKSEav8idC7+qF/FAInUFwBInDoAiXBF/pZpmv/syZ0AF9Sa/4hS4/7iO93/X5XAAFF2NP8hK9cBDpNL/1mcef4OEk8Ak9CLAZfaPv+cWAgB0rhi/xSve/9mU+UA3EF0AZb6BP9cjtz/IvdC/8zhs/6XUZcARyjs/4o/PgAGT/D/t7m1AHYyGwA/48AAe2M6ATLgm/8R4d/+3OBN/w4sewGNgK8A+NTIAJY7t/+TYR0Alsy1AP0lRwCRVXcAmsi6AAKA+f9TGHwADlePAKgz9QF8l+f/0PDFAXy+uQAwOvYAFOnoAH0SYv8N/h//9bGC/2yOIwCrffL+jAwi/6WhogDOzWUA9xkiAWSROQAnRjkAdszL//IAogCl9B4AxnTiAIBvmf+MNrYBPHoP/5s6OQE2MsYAq9Md/2uKp/+ta8f/baHBAFlI8v/Oc1n/+v6O/rHKXv9RWTIAB2lC/xn+//7LQBf/T95s/yf5SwDxfDIA75iFAN3xaQCTl2IA1aF5/vIxiQDpJfn+KrcbALh35v/ZIKP/0PvkAYk+g/9PQAn+XjBxABGKMv7B/xYA9xLFAUM3aAAQzV//MCVCADecPwFAUkr/yDVH/u9DfQAa4N4A34ld/x7gyv8J3IQAxibrAWaNVgA8K1EBiBwaAOkkCP7P8pQApKI/ADMu4P9yME//Ca/iAN4Dwf8voOj//11p/g4q5gAailIB0Cv0ABsnJv9i0H//QJW2/wX60QC7PBz+MRna/6l0zf93EngAnHST/4Q1bf8NCsoAblOnAJ3bif8GA4L/Mqce/zyfL/+BgJ3+XgO9AAOmRABT39cAllrCAQ+oQQDjUzP/zatC/za7PAGYZi3/d5rhAPD3iABkxbL/i0ff/8xSEAEpzir/nMDd/9h79P/a2rn/u7rv//ysoP/DNBYAkK61/rtkc//TTrD/GwfBAJPVaP9ayQr/UHtCARYhugABB2P+Hs4KAOXqBQA1HtIAigjc/kc3pwBI4VYBdr68AP7BZQGr+az/Xp63/l0CbP+wXUz/SWNP/0pAgf72LkEAY/F//vaXZv8sNdD+O2bqAJqvpP9Y8iAAbyYBAP+2vv9zsA/+qTyBAHrt8QBaTD8APkp4/3rDbgB3BLIA3vLSAIIhLv6cKCkAp5JwATGjb/95sOsATM8O/wMZxgEp69UAVSTWATFcbf/IGB7+qOzDAJEnfAHsw5UAWiS4/0NVqv8mIxr+g3xE/++bI/82yaQAxBZ1/zEPzQAY4B0BfnGQAHUVtgDLn40A34dNALDmsP++5df/YyW1/zMViv8ZvVn/MTCl/pgt9wCqbN4AUMoFABtFZ/7MFoH/tPw+/tIBW/+Sbv7/26IcAN/81QE7CCEAzhD0AIHTMABroNAAcDvRAG1N2P4iFbn/9mM4/7OLE/+5HTL/VFkTAEr6Yv/hKsj/wNnN/9IQpwBjhF8BK+Y5AP4Ly/9jvD//d8H7/lBpNgDotb0Bt0Vw/9Crpf8vbbT/e1OlAJKiNP+aCwT/l+Na/5KJYf496Sn/Xio3/2yk7ACYRP4ACoyD/wpqT/7znokAQ7JC/rF7xv8PPiIAxVgq/5Vfsf+YAMb/lf5x/+Fao/992fcAEhHgAIBCeP7AGQn/Mt3NADHURgDp/6QAAtEJAN002/6s4PT/XjjOAfKzAv8fW6QB5i6K/73m3AA5Lz3/bwudALFbmAAc5mIAYVd+AMZZkf+nT2sA+U2gAR3p5v+WFVb+PAvBAJclJP65lvP/5NRTAayXtADJqZsA9DzqAI7rBAFD2jwAwHFLAXTzz/9BrJsAUR6c/1BIIf4S523/jmsV/n0ahP+wEDv/lsk6AM6pyQDQeeIAKKwO/5Y9Xv84OZz/jTyR/y1slf/ukZv/0VUf/sAM0gBjYl3+mBCXAOG53ACN6yz/oKwV/kcaH/8NQF3+HDjGALE++AG2CPEApmWU/05Rhf+B3tcBvKmB/+gHYQAxcDz/2eX7AHdsigAnE3v+gzHrAIRUkQCC5pT/GUq7AAX1Nv+52/EBEsLk//HKZgBpccoAm+tPABUJsv+cAe8AyJQ9AHP30v8x3YcAOr0IASMuCQBRQQX/NJ65/310Lv9KjA3/0lys/pMXRwDZ4P3+c2y0/5E6MP7bsRj/nP88AZqT8gD9hlcANUvlADDD3v8frzL/nNJ4/9Aj3v8S+LMBAgpl/53C+P+ezGX/aP7F/08+BACyrGUBYJL7/0EKnAACiaX/dATnAPLXAQATIx3/K6FPADuV9gH7QrAAyCED/1Bujv/DoREB5DhC/3svkf6EBKQAQ66sABn9cgBXYVcB+txUAGBbyP8lfTsAE0F2AKE08f/trAb/sL///wFBgv7fvuYAZf3n/5IjbQD6HU0BMQATAHtamwEWViD/2tVBAG9dfwA8Xan/CH+2ABG6Dv79ifb/1Rkw/kzuAP/4XEb/Y+CLALgJ/wEHpNAAzYPGAVfWxwCC1l8A3ZXeABcmq/7FbtUAK3OM/texdgBgNEIBdZ7tAA5Atv8uP67/nl++/+HNsf8rBY7/rGPU//S7kwAdM5n/5HQY/h5lzwAT9pb/hucFAH2G4gFNQWIA7IIh/wVuPgBFbH//B3EWAJEUU/7Coef/g7U8ANnRsf/llNT+A4O4AHWxuwEcDh//sGZQADJUl/99Hzb/FZ2F/xOziwHg6BoAInWq/6f8q/9Jjc7+gfojAEhP7AHc5RT/Kcqt/2NM7v/GFuD/bMbD/ySNYAHsnjv/amRXAG7iAgDj6t4Aml13/0pwpP9DWwL/FZEh/2bWif+v5mf+o/amAF33dP6n4Bz/3AI5AavOVAB75BH/G3h3AHcLkwG0L+H/aMi5/qUCcgBNTtQALZqx/xjEef5SnbYAWhC+AQyTxQBf75j/C+tHAFaSd/+shtYAPIPEAKHhgQAfgnj+X8gzAGnn0v86CZT/K6jd/3ztjgDG0zL+LvVnAKT4VACYRtD/tHWxAEZPuQDzSiAAlZzPAMXEoQH1Ne8AD132/ovwMf/EWCT/oiZ7AIDInQGuTGf/raki/tgBq/9yMxEAiOTCAG6WOP5q9p8AE7hP/5ZN8P+bUKIAADWp/x2XVgBEXhAAXAdu/mJ1lf/5Teb//QqMANZ8XP4jdusAWTA5ARY1pgC4kD3/s//CANb4Pf47bvYAeRVR/qYD5ABqQBr/ReiG//LcNf4u3FUAcZX3/2GzZ/++fwsAh9G2AF80gQGqkM7/esjM/6hkkgA8kJX+RjwoAHo0sf/202X/ru0IAAczeAATH60Afu+c/4+9ywDEgFj/6YXi/x59rf/JbDIAe2Q7//6jAwHdlLX/1og5/t60if/PWDb/HCH7/0PWNAHS0GQAUapeAJEoNQDgb+f+Ixz0/+LHw/7uEeYA2dmk/qmd3QDaLqIBx8+j/2xzogEOYLv/djxMALifmADR50f+KqS6/7qZM/7dq7b/oo6tAOsvwQAHixABX6RA/xDdpgDbxRAAhB0s/2RFdf8861j+KFGtAEe+Pf+7WJ0A5wsXAO11pADhqN//mnJ0/6OY8gEYIKoAfWJx/qgTTAARndz+mzQFABNvof9HWvz/rW7wAArGef/9//D/QnvSAN3C1/55oxH/4QdjAL4xtgBzCYUB6BqK/9VEhAAsd3r/s2IzAJVaagBHMub/Cpl2/7FGGQClV80AN4rqAO4eYQBxm88AYpl/ACJr2/51cqz/TLT//vI5s//dIqz+OKIx/1MD//9x3b3/vBnk/hBYWf9HHMb+FhGV//N5/v9rymP/Cc4OAdwvmQBriScBYTHC/5Uzxf66Ogv/ayvoAcgGDv+1hUH+3eSr/3s+5wHj6rP/Ir3U/vS7+QC+DVABglkBAN+FrQAJ3sb/Qn9KAKfYXf+bqMYBQpEAAERmLgGsWpoA2IBL/6AoMwCeERsBfPAxAOzKsP+XfMD/JsG+AF+2PQCjk3z//6Uz/xwoEf7XYE4AVpHa/h8kyv9WCQUAbynI/+1sYQA5PiwAdbgPAS3xdACYAdz/naW8APoPgwE8LH3/Qdz7/0syuAA1WoD/51DC/4iBfwEVErv/LTqh/0eTIgCu+Qv+I40dAO9Esf9zbjoA7r6xAVf1pv++Mff/klO4/60OJ/+S12gAjt94AJXIm//Uz5EBELXZAK0gV///I7UAd9+hAcjfXv9GBrr/wENV/zKpmACQGnv/OPOz/hREiAAnjLz+/dAF/8hzhwErrOX/nGi7AJf7pwA0hxcAl5lIAJPFa/6UngX/7o/OAH6Zif9YmMX+B0SnAPyfpf/vTjb/GD83/ybeXgDttwz/zszSABMn9v4eSucAh2wdAbNzAAB1dnQBhAb8/5GBoQFpQ40AUiXi/+7i5P/M1oH+ontk/7l56gAtbOcAQgg4/4SIgACs4EL+r528AObf4v7y20UAuA53AVKiOAByexQAomdV/zHvY/6ch9cAb/+n/ifE1gCQJk8B+ah9AJthnP8XNNv/lhaQACyVpf8of7cAxE3p/3aB0v+qh+b/1nfGAOnwIwD9NAf/dWYw/xXMmv+ziLH/FwIDAZWCWf/8EZ8BRjwaAJBrEQC0vjz/OLY7/25HNv/GEoH/leBX/98VmP+KFrb/+pzNAOwt0P9PlPIBZUbRAGdOrgBlkKz/mIjtAb/CiABxUH0BmASNAJuWNf/EdPUA73JJ/hNSEf98fer/KDS/ACrSnv+bhKUAsgUqAUBcKP8kVU3/suR2AIlCYP5z4kIAbvBF/pdvUACnruz/42xr/7zyQf+3Uf8AOc61/y8itf/V8J4BR0tfAJwoGP9m0lEAq8fk/5oiKQDjr0sAFe/DAIrlXwFMwDEAdXtXAePhggB9Pj//AsarAP4kDf6Rus4AlP/0/yMApgAeltsBXOTUAFzGPP4+hcj/ySk7AH3ubf+0o+4BjHpSAAkWWP/FnS//mV45AFgetgBUoVUAspJ8AKamB/8V0N8AnLbyAJt5uQBTnK7+mhB2/7pT6AHfOnn/HRdYACN9f/+qBZX+pAyC/5vEHQChYIgAByMdAaIl+wADLvL/ANm8ADmu4gHO6QIAObuI/nu9Cf/JdX//uiTMAOcZ2ABQTmkAE4aB/5TLRACNUX3++KXI/9aQhwCXN6b/JutbABUumgDf/pb/I5m0/32wHQErYh7/2Hrm/+mgDAA5uQz+8HEH/wUJEP4aW2wAbcbLAAiTKACBhuT/fLoo/3JihP6mhBcAY0UsAAny7v+4NTsAhIFm/zQg8/6T38j/e1Oz/oeQyf+NJTgBlzzj/1pJnAHLrLsAUJcv/16J5/8kvzv/4dG1/0rX1f4GdrP/mTbBATIA5wBonUgBjOOa/7biEP5g4Vz/cxSq/gb6TgD4S63/NVkG/wC0dgBIrQEAQAjOAa6F3wC5PoX/1gtiAMUf0ACrp/T/Fue1AZbauQD3qWEBpYv3/y94lQFn+DMAPEUc/hmzxAB8B9r+OmtRALjpnP/8SiQAdrxDAI1fNf/eXqX+Lj01AM47c/8v7Pr/SgUgAYGa7v9qIOIAebs9/wOm8f5Dqqz/Hdiy/xfJ/AD9bvMAyH05AG3AYP80c+4AJnnz/8k4IQDCdoIAS2AZ/6oe5v4nP/0AJC36//sB7wCg1FwBLdHtAPMhV/7tVMn/1BKd/tRjf//ZYhD+i6zvAKjJgv+Pwan/7pfBAddoKQDvPaX+AgPyABbLsf6xzBYAlYHV/h8LKf8An3n+oBly/6JQyACdlwsAmoZOAdg2/AAwZ4UAadzFAP2oTf41sxcAGHnwAf8uYP9rPIf+Ys35/z/5d/94O9P/crQ3/ltV7QCV1E0BOEkxAFbGlgBd0aAARc22//RaKwAUJLAAenTdADOnJwHnAT//DcWGAAPRIv+HO8oAp2ROAC/fTAC5PD4AsqZ7AYQMof89risAw0WQAH8vvwEiLE4AOeo0Af8WKP/2XpIAU+SAADxO4P8AYNL/ma/sAJ8VSQC0c8T+g+FqAP+nhgCfCHD/eETC/7DExv92MKj/XakBAHDIZgFKGP4AE40E/o4+PwCDs7v/TZyb/3dWpACq0JL/0IWa/5SbOv+ieOj+/NWbAPENKgBeMoMAs6pwAIxTl/83d1QBjCPv/5ktQwHsrycANpdn/54qQf/E74f+VjXLAJVhL/7YIxH/RgNGAWckWv8oGq0AuDANAKPb2f9RBgH/3aps/unQXQBkyfn+ViQj/9GaHgHjyfv/Ar2n/mQ5AwANgCkAxWRLAJbM6/+RrjsAePiV/1U34QBy0jX+x8x3AA73SgE/+4EAQ2iXAYeCUABPWTf/dead/xlgjwDVkQUARfF4AZXzX/9yKhQAg0gCAJo1FP9JPm0AxGaYACkMzP96JgsB+gqRAM99lAD29N7/KSBVAXDVfgCi+VYBR8Z//1EJFQFiJwT/zEctAUtviQDqO+cAIDBf/8wfcgEdxLX/M/Gn/l1tjgBokC0A6wy1/zRwpABM/sr/rg6iAD3rk/8rQLn+6X3ZAPNYp/5KMQgAnMxCAHzWewAm3XYBknDsAHJisQCXWccAV8VwALmVoQAsYKUA+LMU/7zb2P4oPg0A846NAOXjzv+syiP/dbDh/1JuJgEq9Q7/FFNhADGrCgDyd3gAGeg9ANTwk/8Eczj/kRHv/soR+//5EvX/Y3XvALgEs//27TP/Je+J/6Zwpv9RvCH/ufqO/za7rQDQcMkA9ivkAWi4WP/UNMT/M3Vs//51mwAuWw//Vw6Q/1fjzABTGlMBn0zjAJ8b1QEYl2wAdZCz/onRUgAmnwoAc4XJAN+2nAFuxF3/OTzpAAWnaf+axaQAYCK6/5OFJQHcY74AAadU/xSRqwDCxfv+X06F//z48//hXYP/u4bE/9iZqgAUdp7+jAF2AFaeDwEt0yn/kwFk/nF0TP/Tf2wBZw8wAMEQZgFFM1//a4CdAImr6QBafJABaqG2AK9M7AHIjaz/ozpoAOm0NP/w/Q7/onH+/ybviv40LqYA8WUh/oO6nABv0D7/fF6g/x+s/gBwrjj/vGMb/0OK+wB9OoABnJiu/7IM9//8VJ4AUsUO/qzIU/8lJy4Bas+nABi9IgCDspAAztUEAKHi0gBIM2n/YS27/0643/+wHfsAT6BW/3QlsgBSTdUBUlSN/+Jl1AGvWMf/9V73Aax2bf+mub4Ag7V4AFf+Xf+G8En/IPWP/4uiZ/+zYhL+2cxwAJPfeP81CvMApoyWAH1QyP8Obdv/W9oB//z8L/5tnHT/czF/AcxX0/+Uytn/GlX5/w71hgFMWan/8i3mADtirP9ySYT+Tpsx/55+VAAxryv/ELZU/51nIwBowW3/Q92aAMmsAf4IolgApQEd/32b5f8emtwBZ+9cANwBbf/KxgEAXgKOASQ2LADr4p7/qvvW/7lNCQBhSvIA26OV//Ajdv/fclj+wMcDAGolGP/JoXb/YVljAeA6Z/9lx5P+3jxjAOoZOwE0hxsAZgNb/qjY6wDl6IgAaDyBAC6o7gAnv0MAS6MvAI9hYv842KgBqOn8/yNvFv9cVCsAGshXAVv9mADKOEYAjghNAFAKrwH8x0wAFm5S/4EBwgALgD0BVw6R//3evgEPSK4AVaNW/jpjLP8tGLz+Gs0PABPl0v74Q8MAY0e4AJrHJf+X83n/JjNL/8lVgv4sQfoAOZPz/pIrO/9ZHDUAIVQY/7MzEv69RlMAC5yzAWKGdwCeb28Ad5pJ/8g/jP4tDQ3/msAC/lFIKgAuoLn+LHAGAJLXlQEasGgARBxXAewymf+zgPr+zsG//6Zcif41KO8A0gHM/qitIwCN8y0BJDJt/w/ywv/jn3r/sK/K/kY5SAAo3zgA0KI6/7diXQAPbwwAHghM/4R/9v8t8mcARbUP/wrRHgADs3kA8ejaAXvHWP8C0soBvIJR/15l0AFnJC0ATMEYAV8a8f+lorsAJHKMAMpCBf8lOJMAmAvzAX9V6P/6h9QBubFxAFrcS/9F+JIAMm8yAFwWUAD0JHP+o2RS/xnBBgF/PSQA/UMe/kHsqv+hEdf+P6+MADd/BABPcOkAbaAoAI9TB/9BGu7/2amM/05evf8Ak77/k0e6/mpNf//pnekBh1ft/9AN7AGbbST/tGTaALSjEgC+bgkBET97/7OItP+le3v/kLxR/kfwbP8ZcAv/49oz/6cy6v9yT2z/HxNz/7fwYwDjV4//SNn4/2apXwGBlZUA7oUMAePMIwDQcxoBZgjqAHBYjwGQ+Q4A8J6s/mRwdwDCjZn+KDhT/3mwLgAqNUz/nr+aAFvRXACtDRABBUji/8z+lQBQuM8AZAl6/nZlq//8ywD+oM82ADhI+QE4jA3/CkBr/ltlNP/htfgBi/+EAOaREQDpOBcAdwHx/9Wpl/9jYwn+uQ+//61nbQGuDfv/slgH/hs7RP8KIQL/+GE7ABoekgGwkwoAX3nPAbxYGAC5Xv7+czfJABgyRgB4NQYAjkKSAOTi+f9owN4BrUTbAKK4JP+PZon/nQsXAH0tYgDrXeH+OHCg/0Z08wGZ+Tf/gScRAfFQ9ABXRRUBXuRJ/05CQf/C4+cAPZJX/62bF/9wdNv+2CYL/4O6hQBe1LsAZC9bAMz+r//eEtf+rURs/+PkT/8m3dUAo+OW/h++EgCgswsBClpe/9yuWACj0+X/x4g0AIJf3f+MvOf+i3GA/3Wr7P4x3BT/OxSr/+RtvAAU4SD+wxCuAOP+iAGHJ2kAlk3O/9Lu4gA31IT+7zl8AKrCXf/5EPf/GJc+/wqXCgBPi7L/ePLKABrb1QA+fSP/kAJs/+YhU/9RLdgB4D4RANbZfQBimZn/s7Bq/oNdiv9tPiT/snkg/3j8RgDc+CUAzFhnAYDc+//s4wcBajHG/zw4awBjcu4A3MxeAUm7AQBZmiIATtml/w7D+f8J5v3/zYf1ABr8B/9UzRsBhgJwACWeIADnW+3/v6rM/5gH3gBtwDEAwaaS/+gTtf9pjjT/ZxAbAf3IpQDD2QT/NL2Q/3uboP5Xgjb/Tng9/w44KQAZKX3/V6j1ANalRgDUqQb/29PC/khdpP/FIWf/K46NAIPhrAD0aRwAREThAIhUDf+COSj+i004AFSWNQA2X50AkA2x/l9zugB1F3b/9Kbx/wu6hwCyasv/YdpdACv9LQCkmAQAi3bvAGABGP7rmdP/qG4U/zLvsAByKegAwfo1AP6gb/6Iein/YWxDANeYF/+M0dQAKr2jAMoqMv9qar3/vkTZ/+k6dQDl3PMBxQMEACV4Nv4EnIb/JD2r/qWIZP/U6A4AWq4KANjGQf8MA0AAdHFz//hnCADnfRL/oBzFAB64IwHfSfn/exQu/oc4Jf+tDeUBd6Ei//U9SQDNfXAAiWiGANn2Hv/tjo8AQZ9m/2ykvgDbda3/IiV4/shFUAAffNr+Shug/7qax/9Hx/wAaFGfARHIJwDTPcABGu5bAJTZDAA7W9X/C1G3/4Hmev9yy5EBd7RC/0iKtADglWoAd1Jo/9CMKwBiCbb/zWWG/xJlJgBfxab/y/GTAD7Qkf+F9vsAAqkOAA33uACOB/4AJMgX/1jN3wBbgTT/FboeAI/k0gH36vj/5kUf/rC6h//uzTQBi08rABGw2f4g80MA8m/pACwjCf/jclEBBEcM/yZpvwAHdTL/UU8QAD9EQf+dJG7/TfED/+It+wGOGc4AeHvRARz+7v8FgH7/W97X/6IPvwBW8EkAh7lR/izxowDU29L/cKKbAM9ldgCoSDj/xAU0AEis8v9+Fp3/kmA7/6J5mP6MEF8Aw/7I/lKWogB3K5H+zKxO/6bgnwBoE+3/9X7Q/+I71QB12cUAmEjtANwfF/4OWuf/vNRAATxl9v9VGFYAAbFtAJJTIAFLtsAAd/HgALntG/+4ZVIB6yVN//2GEwDo9noAPGqzAMMLDABtQusBfXE7AD0opACvaPAAAi+7/zIMjQDCi7X/h/poAGFc3v/Zlcn/y/F2/0+XQwB6jtr/lfXvAIoqyP5QJWH/fHCn/ySKV/+CHZP/8VdO/8xhEwGx0Rb/9+N//mN3U//UGcYBELOzAJFNrP5ZmQ7/2r2nAGvpO/8jIfP+LHBw/6F/TwHMrwoAKBWK/mh05ADHX4n/hb6o/5Kl6gG3YycAt9w2/v/ehQCi23n+P+8GAOFmNv/7EvYABCKBAYckgwDOMjsBD2G3AKvYh/9lmCv/lvtbACaRXwAizCb+soxT/xmB8/9MkCUAaiQa/naQrP9EuuX/a6HV/y6jRP+Vqv0AuxEPANqgpf+rI/YBYA0TAKXLdQDWa8D/9HuxAWQDaACy8mH/+0yC/9NNKgH6T0b/P/RQAWll9gA9iDoB7lvVAA47Yv+nVE0AEYQu/jmvxf+5PrgATEDPAKyv0P6vSiUAihvT/pR9wgAKWVEAqMtl/yvV0QHr9TYAHiPi/wl+RgDifV7+nHUU/zn4cAHmMED/pFymAeDW5v8keI8ANwgr//sB9QFqYqUASmtq/jUENv9aspYBA3h7//QFWQFy+j3//plSAU0PEQA57loBX9/mAOw0L/5nlKT/ec8kARIQuf9LFEoAuwtlAC4wgf8W79L/TeyB/29NzP89SGH/x9n7/yrXzACFkcn/OeaSAetkxgCSSSP+bMYU/7ZP0v9SZ4gA9mywACIRPP8TSnL+qKpO/53vFP+VKagAOnkcAE+zhv/neYf/rtFi//N6vgCrps0A1HQwAB1sQv+i3rYBDncVANUn+f/+3+T/t6XGAIW+MAB80G3/d69V/wnReQEwq73/w0eGAYjbM/+2W43+MZ9IACN29f9wuuP/O4kfAIksowByZzz+CNWWAKIKcf/CaEgA3IN0/7JPXADL+tX+XcG9/4L/Iv7UvJcAiBEU/xRlU//UzqYA5e5J/5dKA/+oV9cAm7yF/6aBSQDwT4X/stNR/8tIo/7BqKUADqTH/h7/zABBSFsBpkpm/8gqAP/CceP/QhfQAOXYZP8Y7xoACuk+/3sKsgEaJK7/d9vHAS2jvgAQqCoApjnG/xwaGgB+pecA+2xk/z3lef86dooATM8RAA0icP5ZEKgAJdBp/yPJ1/8oamX+Bu9yAChn4v72f27/P6c6AITwjgAFnlj/gUme/15ZkgDmNpIACC2tAE+pAQBzuvcAVECDAEPg/f/PvUAAmhxRAS24Nv9X1OD/AGBJ/4Eh6wE0QlD/+66b/wSzJQDqpF3+Xa/9AMZFV//gai4AYx3SAD68cv8s6ggAqa/3/xdtif/lticAwKVe/vVl2QC/WGAAxF5j/2ruC/41fvMAXgFl/y6TAgDJfHz/jQzaAA2mnQEw++3/m/p8/2qUkv+2DcoAHD2nANmYCP7cgi3/yOb/ATdBV/9dv2H+cvsOACBpXAEaz40AGM8N/hUyMP+6lHT/0yvhACUiov6k0ir/RBdg/7bWCP/1dYn/QsMyAEsMU/5QjKQACaUkAeRu4wDxEVoBGTTUAAbfDP+L8zkADHFLAfa3v//Vv0X/5g+OAAHDxP+Kqy//QD9qARCp1v/PrjgBWEmF/7aFjACxDhn/k7g1/wrjof942PT/SU3pAJ3uiwE7QekARvvYASm4mf8gy3AAkpP9AFdlbQEsUoX/9JY1/16Y6P87XSf/WJPc/05RDQEgL/z/oBNy/11rJ/92ENMBuXfR/+Pbf/5Yaez/om4X/ySmbv9b7N3/Qup0AG8T9P4K6RoAILcG/gK/8gDanDX+KTxG/6jsbwB5uX7/7o7P/zd+NADcgdD+UMyk/0MXkP7aKGz/f8qkAMshA/8CngAAJWC8/8AxSgBtBAAAb6cK/lvah//LQq3/lsLiAMn9Bv+uZnkAzb9uADXCBABRKC3+I2aP/wxsxv8QG+j//Ee6AbBucgCOA3UBcU2OABOcxQFcL/wANegWATYS6wAuI73/7NSBAAJg0P7I7sf/O6+k/5Ir5wDC2TT/A98MAIo2sv5V688A6M8iADE0Mv+mcVn/Ci3Y/z6tHABvpfYAdnNb/4BUPACnkMsAVw3zABYe5AGxcZL/garm/vyZgf+R4SsARucF/3ppfv5W9pT/biWa/tEDWwBEkT4A5BCl/zfd+f6y0lsAU5Li/kWSugBd0mj+EBmtAOe6JgC9eoz/+w1w/2luXQD7SKoAwBff/xgDygHhXeQAmZPH/m2qFgD4Zfb/snwM/7L+Zv43BEEAfda0ALdgkwAtdRf+hL/5AI+wy/6Itzb/kuqxAJJlVv8se48BIdGYAMBaKf5TD33/1axSANepkAAQDSIAINFk/1QS+QHFEez/2brmADGgsP9vdmH/7WjrAE87XP5F+Qv/I6xKARN2RADefKX/tEIj/1au9gArSm//fpBW/+TqWwDy1Rj+RSzr/9y0IwAI+Af/Zi9c//DNZv9x5qsBH7nJ/8L2Rv96EbsAhkbH/5UDlv91P2cAQWh7/9Q2EwEGjVgAU4bz/4g1ZwCpG7QAsTEYAG82pwDDPdf/HwFsATwqRgC5A6L/wpUo//Z/Jv6+dyb/PXcIAWCh2/8qy90BsfKk//WfCgB0xAAABV3N/oB/swB97fb/laLZ/1clFP6M7sAACQnBAGEB4gAdJgoAAIg//+VI0v4mhlz/TtrQAWgkVP8MBcH/8q89/7+pLgGzk5P/cb6L/n2sHwADS/z+1yQPAMEbGAH/RZX/boF2AMtd+QCKiUD+JkYGAJl03gChSnsAwWNP/3Y7Xv89DCsBkrGdAC6TvwAQ/yYACzMfATw6Yv9vwk0Bmlv0AIwokAGtCvsAy9Ey/myCTgDktFoArgf6AB+uPAApqx4AdGNS/3bBi/+7rcb+2m84ALl72AD5njQANLRd/8kJW/84Lab+hJvL/zrobgA001n//QCiAQlXtwCRiCwBXnr1AFW8qwGTXMYAAAhoAB5frgDd5jQB9/fr/4muNf8jFcz/R+PWAehSwgALMOP/qkm4/8b7/P4scCIAg2WD/0iouwCEh33/imhh/+64qP/zaFT/h9ji/4uQ7QC8iZYBUDiM/1app//CThn/3BG0/xENwQB1idT/jeCXADH0rwDBY6//E2OaAf9BPv+c0jf/8vQD//oOlQCeWNn/nc+G/vvoHAAunPv/qzi4/+8z6gCOioP/Gf7zAQrJwgA/YUsA0u+iAMDIHwF11vMAGEfe/jYo6P9Mt2/+kA5X/9ZPiP/YxNQAhBuM/oMF/QB8bBP/HNdLAEzeN/7ptj8ARKu//jRv3v8KaU3/UKrrAI8YWP8t53kAlIHgAT32VAD9Ltv/70whADGUEv7mJUUAQ4YW/o6bXgAfndP+1Soe/wTk9/78sA3/JwAf/vH0//+qLQr+/d75AN5yhAD/Lwb/tKOzAVRel/9Z0VL+5TSp/9XsAAHWOOT/h3eX/3DJwQBToDX+BpdCABKiEQDpYVsAgwVOAbV4Nf91Xz//7XW5AL9+iP+Qd+kAtzlhAS/Ju/+npXcBLWR+ABViBv6Rll//eDaYANFiaACPbx7+uJT5AOvYLgD4ypT/OV8WAPLhowDp9+j/R6sT/2f0Mf9UZ13/RHn0AVLgDQApTyv/+c6n/9c0Ff7AIBb/9288AGVKJv8WW1T+HRwN/8bn1/70msgA34ntANOEDgBfQM7/ET73/+mDeQFdF00Azcw0/lG9iAC024oBjxJeAMwrjP68r9sAb2KP/5c/ov/TMkf+E5I1AJItU/6yUu7/EIVU/+LGXf/JYRT/eHYj/3Iy5/+i5Zz/0xoMAHInc//O1IYAxdmg/3SBXv7H19v/S9/5Af10tf/o12j/5IL2/7l1VgAOBQgA7x09Ae1Xhf99kon+zKjfAC6o9QCaaRYA3NSh/2tFGP+J2rX/8VTG/4J60/+NCJn/vrF2AGBZsgD/EDD+emBp/3U26P8ifmn/zEOmAOg0iv/TkwwAGTYHACwP1/4z7C0AvkSBAWqT4QAcXS3+7I0P/xE9oQDcc8AA7JEY/m+oqQDgOj//f6S8AFLqSwHgnoYA0URuAdmm2QBG4aYBu8GP/xAHWP8KzYwAdcCcARE4JgAbfGwBq9c3/1/91ACbh6j/9rKZ/ppESgDoPWD+aYQ7ACFMxwG9sIL/CWgZ/kvGZv/pAXAAbNwU/3LmRgCMwoX/OZ6k/pIGUP+pxGEBVbeCAEae3gE77er/YBka/+ivYf8Lefj+WCPCANu0/P5KCOMAw+NJAbhuof8x6aQBgDUvAFIOef/BvjoAMK51/4QXIAAoCoYBFjMZ//ALsP9uOZIAdY/vAZ1ldv82VEwAzbgS/y8ESP9OcFX/wTJCAV0QNP8IaYYADG1I/zqc+wCQI8wALKB1/jJrwgABRKX/b26iAJ5TKP5M1uoAOtjN/6tgk/8o43IBsOPxAEb5twGIVIv/PHr3/o8Jdf+xron+SfePAOy5fv8+Gff/LUA4/6H0BgAiOTgBacpTAICT0AAGZwr/SopB/2FQZP/WriH/MoZK/26Xgv5vVKwAVMdL/vg7cP8I2LIBCbdfAO4bCP6qzdwAw+WHAGJM7f/iWxoBUtsn/+G+xwHZyHn/UbMI/4xBzgCyz1f++vwu/2hZbgH9vZ7/kNae/6D1Nv81t1wBFcjC/5IhcQHRAf8A62or/6c06ACd5d0AMx4ZAPrdGwFBk1f/T3vEAEHE3/9MLBEBVfFEAMq3+f9B1NT/CSGaAUc7UACvwjv/jUgJAGSg9ADm0DgAOxlL/lDCwgASA8j+oJ9zAISP9wFvXTn/Ou0LAYbeh/96o2wBeyu+//u9zv5Qtkj/0PbgARE8CQChzyYAjW1bANgP0/+ITm4AYqNo/xVQef+tsrcBf48EAGg8Uv7WEA3/YO4hAZ6U5v9/gT7/M//S/z6N7P6dN+D/cif0AMC8+v/kTDUAYlRR/63LPf6TMjf/zOu/ADTF9ABYK9P+G793ALznmgBCUaEAXMGgAfrjeAB7N+IAuBFIAIWoCv4Wh5z/KRln/zDKOgC6lVH/vIbvAOu1vf7Zi7z/SjBSAC7a5QC9/fsAMuUM/9ONvwGA9Bn/qed6/lYvvf+Etxf/JbKW/zOJ/QDITh8AFmkyAII8AACEo1v+F+e7AMBP7wCdZqT/wFIUARi1Z//wCeoAAXuk/4XpAP/K8vIAPLr1APEQx//gdJ7+v31b/+BWzwB5Jef/4wnG/w+Z7/956Nn+S3BSAF8MOf4z1mn/lNxhAcdiJACc0Qz+CtQ0ANm0N/7Uquj/2BRU/536hwCdY3/+Ac4pAJUkRgE2xMn/V3QA/uurlgAbo+oAyoe0ANBfAP57nF0Atz5LAInrtgDM4f//1ovS/wJzCP8dDG8ANJwBAP0V+/8lpR/+DILTAGoSNf4qY5oADtk9/tgLXP/IxXD+kybHACT8eP5rqU0AAXuf/89LZgCjr8QALAHwAHi6sP4NYkz/7Xzx/+iSvP/IYOAAzB8pANDIDQAV4WD/r5zEAPfQfgA+uPT+AqtRAFVzngA2QC3/E4pyAIdHzQDjL5MB2udCAP3RHAD0D63/Bg92/hCW0P+5FjL/VnDP/0tx1wE/kiv/BOET/uMXPv8O/9b+LQjN/1fFl/7SUtf/9fj3/4D4RgDh91cAWnhGANX1XAANheIAL7UFAVyjaf8GHoX+6LI9/+aVGP8SMZ4A5GQ9/nTz+/9NS1wBUduT/0yj/v6N1fYA6CWY/mEsZADJJTIB1PQ5AK6rt//5SnAAppweAN7dYf/zXUn++2Vk/9jZXf/+irv/jr40/zvLsf/IXjQAc3Ke/6WYaAF+Y+L/dp30AWvIEADBWuUAeQZYAJwgXf598dP/Du2d/6WaFf+44Bb/+hiY/3FNHwD3qxf/7bHM/zSJkf/CtnIA4OqVAApvZwHJgQQA7o5OADQGKP9u1aX+PM/9AD7XRQBgYQD/MS3KAHh5Fv/rizABxi0i/7YyGwGD0lv/LjaAAK97af/GjU7+Q/Tv//U2Z/5OJvL/Alz5/vuuV/+LP5AAGGwb/yJmEgEiFpgAQuV2/jKPYwCQqZUBdh6YALIIeQEInxIAWmXm/4EddwBEJAsB6Lc3ABf/YP+hKcH/P4veAA+z8wD/ZA//UjWHAIk5lQFj8Kr/Fubk/jG0Uv89UisAbvXZAMd9PQAu/TQAjcXbANOfwQA3eWn+txSBAKl3qv/Lsov/hyi2/6wNyv9BspQACM8rAHo1fwFKoTAA49aA/lYL8/9kVgcB9USG/z0rFQGYVF7/vjz6/u926P/WiCUBcUxr/11oZAGQzhf/bpaaAeRnuQDaMTL+h02L/7kBTgAAoZT/YR3p/8+Ulf+gqAAAW4Cr/wYcE/4Lb/cAJ7uW/4rolQB1PkT/P9i8/+vqIP4dOaD/GQzxAak8vwAgg43/7Z97/17FXv50/gP/XLNh/nlhXP+qcA4AFZX4APjjAwBQYG0AS8BKAQxa4v+hakQB0HJ//3Iq//5KGkr/97OW/nmMPACTRsj/1iih/6G8yf+NQYf/8nP8AD4vygC0lf/+gjftAKURuv8KqcIAnG3a/3CMe/9ogN/+sY5s/3kl2/+ATRL/b2wXAVvASwCu9Rb/BOw+/ytAmQHjrf4A7XqEAX9Zuv+OUoD+/FSuAFqzsQHz1lf/Zzyi/9CCDv8LgosAzoHb/17Znf/v5ub/dHOf/qRrXwAz2gIB2H3G/4zKgP4LX0T/Nwld/q6ZBv/MrGAARaBuANUmMf4bUNUAdn1yAEZGQ/8Pjkn/g3q5//MUMv6C7SgA0p+MAcWXQf9UmUIAw35aABDu7AF2u2b/AxiF/7tF5gA4xVwB1UVe/1CK5QHOB+YA3m/mAVvpd/8JWQcBAmIBAJRKhf8z9rT/5LFwATq9bP/Cy+3+FdHDAJMKIwFWneIAH6OL/jgHS/8+WnQAtTypAIqi1P5Rpx8AzVpw/yFw4wBTl3UBseBJ/66Q2f/mzE//Fk3o/3JO6gDgOX7+CTGNAPKTpQFotoz/p4QMAXtEfwDhVycB+2wIAMbBjwF5h8//rBZGADJEdP9lryj/+GnpAKbLBwBuxdoA1/4a/qji/QAfj2AAC2cpALeBy/5k90r/1X6EANKTLADH6hsBlC+1AJtbngE2aa//Ak6R/maaXwCAz3/+NHzs/4JURwDd89MAmKrPAN5qxwC3VF7+XMg4/4q2cwGOYJIAhYjkAGESlgA3+0IAjGYEAMpnlwAeE/j/M7jPAMrGWQA3xeH+qV/5/0JBRP+86n4Apt9kAXDv9ACQF8IAOie2APQsGP6vRLP/mHaaAbCiggDZcsz+rX5O/yHeHv8kAlv/Ao/zAAnr1wADq5cBGNf1/6gvpP7xks8ARYG0AETzcQCQNUj++y0OABduqABERE//bkZf/q5bkP8hzl//iSkH/xO7mf4j/3D/CZG5/jKdJQALcDEBZgi+/+rzqQE8VRcASie9AHQx7wCt1dIALqFs/5+WJQDEeLn/ImIG/5nDPv9h5kf/Zj1MABrU7P+kYRAAxjuSAKMXxAA4GD0AtWLBAPuT5f9ivRj/LjbO/+pS9gC3ZyYBbT7MAArw4ACSFnX/jpp4AEXUIwDQY3YBef8D/0gGwgB1EcX/fQ8XAJpPmQDWXsX/uTeT/z7+Tv5/UpkAbmY//2xSof9pu9QBUIonADz/Xf9IDLoA0vsfAb6nkP/kLBP+gEPoANb5a/6IkVb/hC6wAL274//QFowA2dN0ADJRuv6L+h8AHkDGAYebZACgzhf+u6LT/xC8PwD+0DEAVVS/APHA8v+ZfpEB6qKi/+Zh2AFAh34AvpTfATQAK/8cJ70BQIjuAK/EuQBi4tX/f5/0AeKvPACg6Y4BtPPP/0WYWQEfZRUAkBmk/ou/0QBbGXkAIJMFACe6e/8/c+b/XafG/4/V3P+znBP/GUJ6ANag2f8CLT7/ak+S/jOJY/9XZOf/r5Ho/2W4Af+uCX0AUiWhASRyjf8w3o7/9bqaAAWu3f4/cpv/hzegAVAfhwB++rMB7NotABQckQEQk0kA+b2EARG9wP/fjsb/SBQP//o17f4PCxIAG9Nx/tVrOP+uk5L/YH4wABfBbQElol4Ax535/hiAu//NMbL+XaQq/yt36wFYt+3/2tIB/2v+KgDmCmP/ogDiANvtWwCBsssA0DJf/s7QX//3v1n+bupP/6U98wAUenD/9va5/mcEewDpY+YB21v8/8feFv+z9en/0/HqAG/6wP9VVIgAZToy/4OtnP53LTP/dukQ/vJa1gBen9sBAwPq/2JMXP5QNuYABeTn/jUY3/9xOHYBFIQB/6vS7AA48Z7/unMT/wjlrgAwLAABcnKm/wZJ4v/NWfQAieNLAfitOABKePb+dwML/1F4xv+IemL/kvHdAW3CTv/f8UYB1sip/2G+L/8vZ67/Y1xI/nbptP/BI+n+GuUg/978xgDMK0f/x1SsAIZmvgBv7mH+5ijmAOPNQP7IDOEAphneAHFFM/+PnxgAp7hKAB3gdP6e0OkAwXR+/9QLhf8WOowBzCQz/+geKwDrRrX/QDiS/qkSVP/iAQ3/yDKw/zTV9f6o0WEAv0c3ACJOnADokDoBuUq9ALqOlf5ARX//ocuT/7CXvwCI58v+o7aJAKF++/7pIEIARM9CAB4cJQBdcmAB/lz3/yyrRQDKdwv/vHYyAf9TiP9HUhoARuMCACDreQG1KZoAR4bl/sr/JAApmAUAmj9J/yK2fAB53Zb/GszVASmsVwBanZL/bYIUAEdryP/zZr0AAcOR/i5YdQAIzuMAv279/22AFP6GVTP/ibFwAdgiFv+DEND/eZWqAHITFwGmUB//cfB6AOiz+gBEbrT+0qp3AN9spP/PT+n/G+Xi/tFiUf9PRAcAg7lkAKodov8Romv/ORULAWTItf9/QaYBpYbMAGinqAABpE8Akoc7AUYygP9mdw3+4waHAKKOs/+gZN4AG+DbAZ5dw//qjYkAEBh9/+7OL/9hEWL/dG4M/2BzTQBb4+j/+P5P/1zlBv5YxosAzkuBAPpNzv+N9HsBikXcACCXBgGDpxb/7USn/se9lgCjq4r/M7wG/18dif6U4rMAtWvQ/4YfUv+XZS3/gcrhAOBIkwAwipf/w0DO/u3angBqHYn+/b3p/2cPEf/CYf8Asi2p/sbhmwAnMHX/h2pzAGEmtQCWL0H/U4Ll/vYmgQBc75r+W2N/AKFvIf/u2fL/g7nD/9W/nv8pltoAhKmDAFlU/AGrRoD/o/jL/gEytP98TFUB+29QAGNC7/+a7bb/3X6F/krMY/9Bk3f/Yzin/0/4lf90m+T/7SsO/kWJC/8W+vEBW3qP/8358wDUGjz/MLawATAXv//LeZj+LUrV/z5aEv71o+b/uWp0/1MjnwAMIQL/UCI+ABBXrv+tZVUAyiRR/qBFzP9A4bsAOs5eAFaQLwDlVvUAP5G+ASUFJwBt+xoAiZPqAKJ5kf+QdM7/xei5/7e+jP9JDP7/ixTy/6pa7/9hQrv/9bWH/t6INAD1BTP+yy9OAJhl2ABJF30A/mAhAevSSf8r0VgBB4FtAHpo5P6q8ssA8syH/8oc6f9BBn8An5BHAGSMXwBOlg0A+2t2AbY6ff8BJmz/jb3R/wibfQFxo1v/eU++/4bvbP9ML/gAo+TvABFvCgBYlUv/1+vvAKefGP8vl2z/a9G8AOnnY/4cypT/riOK/24YRP8CRbUAa2ZSAGbtBwBcJO3/3aJTATfKBv+H6of/GPreAEFeqP71+NL/p2zJ/v+hbwDNCP4AiA10AGSwhP8r137/sYWC/55PlABD4CUBDM4V/z4ibgHtaK//UIRv/46uSABU5bT+abOMAED4D//pihAA9UN7/tp51P8/X9oB1YWJ/4+2Uv8wHAsA9HKNAdGvTP+dtZb/uuUD/6SdbwHnvYsAd8q+/9pqQP9E6z/+YBqs/7svCwHXEvv/UVRZAEQ6gABecQUBXIHQ/2EPU/4JHLwA7wmkADzNmADAo2L/uBI8ANm2iwBtO3j/BMD7AKnS8P8lrFz+lNP1/7NBNAD9DXMAua7OAXK8lf/tWq0AK8fA/1hscQA0I0wAQhmU/90EB/+X8XL/vtHoAGIyxwCXltX/EkokATUoBwATh0H/GqxFAK7tVQBjXykAAzgQACegsf/Iatr+uURU/1u6Pf5Dj43/DfSm/2NyxgDHbqP/wRK6AHzv9gFuRBYAAusuAdQ8awBpKmkBDuaYAAcFgwCNaJr/1QMGAIPkov+zZBwB53tV/84O3wH9YOYAJpiVAWKJegDWzQP/4piz/waFiQCeRYz/caKa/7TzrP8bvXP/jy7c/9WG4f9+HUUAvCuJAfJGCQBazP//56qTABc4E/44fZ3/MLPa/0+2/f8m1L8BKet8AGCXHACHlL4Azfkn/jRgiP/ULIj/Q9GD//yCF//bgBT/xoF2AGxlCwCyBZIBPgdk/7XsXv4cGqQATBZw/3hmTwDKwOUByLDXAClA9P/OuE4Apy0/AaAjAP87DI7/zAmQ/9te5QF6G3AAvWlt/0DQSv/7fzcBAuLGACxM0QCXmE3/0hcuAcmrRf8s0+cAviXg//XEPv+ptd7/ItMRAHfxxf/lI5gBFUUo/7LioQCUs8EA28L+ASjOM//nXPoBQ5mqABWU8QCqRVL/eRLn/1xyAwC4PuYA4clX/5Jgov+18twArbvdAeI+qv84ftkBdQ3j/7Ms7wCdjZv/kN1TAOvR0AAqEaUB+1GFAHz1yf5h0xj/U9amAJokCf/4L38AWtuM/6HZJv7Ukz//QlSUAc8DAQDmhlkBf056/+CbAf9SiEoAspzQ/7oZMf/eA9IB5Za+/1WiNP8pVI3/SXtU/l0RlgB3ExwBIBbX/xwXzP+O8TT/5DR9AB1MzwDXp/r+r6TmADfPaQFtu/X/oSzcASllgP+nEF4AXdZr/3ZIAP5QPer/ea99AIup+wBhJ5P++sQx/6Wzbv7fRrv/Fo59AZqziv92sCoBCq6ZAJxcZgCoDaH/jxAgAPrFtP/LoywBVyAkAKGZFP97/A8AGeNQADxYjgARFskBms1N/yc/LwAIeo0AgBe2/swnE/8EcB3/FySM/9LqdP41Mj//eato/6DbXgBXUg7+5yoFAKWLf/5WTiYAgjxC/sseLf8uxHoB+TWi/4iPZ/7X0nIA5weg/qmYKv9vLfYAjoOH/4NHzP8k4gsAABzy/+GK1f/3Ltj+9QO3AGz8SgHOGjD/zTb2/9PGJP95IzIANNjK/yaLgf7ySZQAQ+eN/yovzABOdBkBBOG//waT5AA6WLEAeqXl//xTyf/gp2ABsbie//JpswH4xvAAhULLAf4kLwAtGHP/dz7+AMThuv57jawAGlUp/+JvtwDV55cABDsH/+6KlABCkyH/H/aN/9GNdP9ocB8AWKGsAFPX5v4vb5cALSY0AYQtzACKgG3+6XWG//O+rf7x7PAAUn/s/ijfof9utuH/e67vAIfykQEz0ZoAlgNz/tmk/P83nEUBVF7//+hJLQEUE9T/YMU7/mD7IQAmx0kBQKz3/3V0OP/kERIAPopnAfblpP/0dsn+ViCf/20iiQFV07oACsHB/nrCsQB67mb/otqrAGzZoQGeqiIAsC+bAbXkC/8InAAAEEtdAM5i/wE6miMADPO4/kN1Qv/m5XsAySpuAIbksv66bHb/OhOa/1KpPv9yj3MB78Qy/60wwf+TAlT/loaT/l/oSQBt4zT+v4kKACjMHv5MNGH/pOt+AP58vABKthUBeR0j//EeB/5V2tb/B1SW/lEbdf+gn5j+Qhjd/+MKPAGNh2YA0L2WAXWzXACEFoj/eMccABWBT/62CUEA2qOpAPaTxv9rJpABTq/N/9YF+v4vWB3/pC/M/ys3Bv+Dhs/+dGTWAGCMSwFq3JAAwyAcAaxRBf/HszT/JVTLAKpwrgALBFsARfQbAXWDXAAhmK//jJlr//uHK/5XigT/xuqT/nmYVP/NZZsBnQkZAEhqEf5smQD/veW6AMEIsP+uldEA7oIdAOnWfgE94mYAOaMEAcZvM/8tT04Bc9IK/9oJGf+ei8b/01K7/lCFUwCdgeYB84WG/yiIEABNa0//t1VcAbHMygCjR5P/mEW+AKwzvAH60qz/0/JxAVlZGv9AQm/+dJgqAKEnG/82UP4AatFzAWd8YQDd5mL/H+cGALLAeP4P2cv/fJ5PAHCR9wBc+jABo7XB/yUvjv6QvaX/LpLwAAZLgAApncj+V3nVAAFx7AAFLfoAkAxSAB9s5wDh73f/pwe9/7vkhP9uvSIAXizMAaI0xQBOvPH+ORSNAPSSLwHOZDMAfWuU/hvDTQCY/VoBB4+Q/zMlHwAidyb/B8V2AJm80wCXFHT+9UE0/7T9bgEvsdEAoWMR/3beygB9s/wBezZ+/5E5vwA3unkACvOKAM3T5f99nPH+lJy5/+MTvP98KSD/HyLO/hE5UwDMFiX/KmBiAHdmuAEDvhwAblLa/8jMwP/JkXYAdcySAIQgYgHAwnkAaqH4Ae1YfAAX1BoAzata//gw2AGNJeb/fMsA/p6oHv/W+BUAcLsH/0uF7/9K4/P/+pNGANZ4ogCnCbP/Fp4SANpN0QFhbVH/9CGz/zk0Of9BrNL/+UfR/46p7gCevZn/rv5n/mIhDgCNTOb/cYs0/w861ACo18n/+MzXAd9EoP85mrf+L+d5AGqmiQBRiIoApSszAOeLPQA5Xzv+dmIZ/5c/7AFevvr/qblyAQX6Ov9LaWEB19+GAHFjowGAPnAAY2qTAKPDCgAhzbYA1g6u/4Em5/81tt8AYiqf//cNKAC80rEBBhUA//89lP6JLYH/WRp0/n4mcgD7MvL+eYaA/8z5p/6l69cAyrHzAIWNPgDwgr4Bbq//AAAUkgEl0nn/ByeCAI76VP+NyM8ACV9o/wv0rgCG6H4ApwF7/hDBlf/o6e8B1UZw//x0oP7y3tz/zVXjAAe5OgB29z8BdE2x/z71yP4/EiX/azXo/jLd0wCi2wf+Al4rALY+tv6gTsj/h4yqAOu45ACvNYr+UDpN/5jJAgE/xCIABR64AKuwmgB5O84AJmMnAKxQTf4AhpcAuiHx/l793/8scvwAbH45/8koDf8n5Rv/J+8XAZd5M/+ZlvgACuqu/3b2BP7I9SYARaHyARCylgBxOIIAqx9pABpYbP8xKmoA+6lCAEVdlQAUOf4ApBlvAFq8Wv/MBMUAKNUyAdRghP9YirT+5JJ8/7j29wBBdVb//WbS/v55JACJcwP/PBjYAIYSHQA74mEAsI5HAAfRoQC9VDP+m/pIANVU6/8t3uAA7pSP/6oqNf9Op3UAugAo/32xZ/9F4UIA4wdYAUusBgCpLeMBECRG/zICCf+LwRYAj7fn/tpFMgDsOKEB1YMqAIqRLP6I5Sj/MT8j/z2R9f9lwAL+6KdxAJhoJgF5udoAeYvT/nfwIwBBvdn+u7Oi/6C75gA++A7/PE5hAP/3o//hO1v/a0c6//EvIQEydewA27E//vRaswAjwtf/vUMy/xeHgQBovSX/uTnCACM+5//c+GwADOeyAI9QWwGDXWX/kCcCAf/6sgAFEez+iyAuAMy8Jv71czT/v3FJ/r9sRf8WRfUBF8uyAKpjqgBB+G8AJWyZ/0AlRQAAWD7+WZSQ/79E4AHxJzUAKcvt/5F+wv/dKv3/GWOXAGH93wFKczH/Bq9I/zuwywB8t/kB5ORjAIEMz/6owMP/zLAQ/pjqqwBNJVX/IXiH/47C4wEf1joA1bt9/+guPP++dCr+l7IT/zM+7f7M7MEAwug8AKwinf+9ELj+ZwNf/43pJP4pGQv/FcOmAHb1LQBD1ZX/nwwS/7uk4wGgGQUADE7DASvF4QAwjin+xJs8/9/HEgGRiJwA/HWp/pHi7gDvF2sAbbW8/+ZwMf5Jqu3/57fj/1DcFADCa38Bf81lAC40xQHSqyT/WANa/ziXjQBgu///Kk7IAP5GRgH0fagAzESKAXzXRgBmQsj+ETTkAHXcj/7L+HsAOBKu/7qXpP8z6NABoOQr//kdGQFEvj8=";function X(){try{if(T)return new Uint8Array(T);var e=ce(q);if(e)return e;if(f)return f(q);throw"both async and sync fetching of the wasm failed"}catch(e){V(e)}}function Z(){return T||!c&&!u||"function"!=typeof fetch||J(q)?Promise.resolve().then(X):fetch(q,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+q+"'";return e.arrayBuffer()})).catch((function(){return X()}))}function ee(){var e={env:de,wasi_snapshot_preview1:de};function t(e,t){var n=e.exports;a.asm=n,j()}function n(e){t(e.instance)}function r(t){return Z().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){S("failed to asynchronously prepare wasm: "+e),V(e)}))}if(H(),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(e){return S("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(T||"function"!=typeof WebAssembly.instantiateStreaming||$(q)||J(q)||"function"!=typeof fetch)return r(n);fetch(q,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return S("wasm streaming compile failed: "+e),S("falling back to ArrayBuffer instantiation"),r(n)}))}))}(),{}}function te(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?I.get(n)():I.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(a)}}function ne(e,t,n){O.copyWithin(e,t,t+n)}function re(e){V("OOM")}function ie(e){re()}$(q)||(q=h(q)),R.push({func:function(){_e()}});var oe=!1;function ae(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(oe&&C(!1,"Character code "+r+" ("+String.fromCharCode(r)+")  at offset "+n+" not in 0x00-0xFF."),r&=255),t.push(String.fromCharCode(r))}return t.join("")}var se="function"==typeof atob?atob:function(e){var t,n,r,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=s.indexOf(e.charAt(c++))<<2|(i=s.indexOf(e.charAt(c++)))>>4,n=(15&i)<<4|(o=s.indexOf(e.charAt(c++)))>>2,r=(3&o)<<6|(a=s.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==o&&(l+=String.fromCharCode(n)),64!==a&&(l+=String.fromCharCode(r))}while(c<e.length);return l};function le(e){if("boolean"==typeof d&&d){var t;try{t=Buffer.from(e,"base64")}catch(n){t=new Buffer(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var n=se(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}catch(e){throw new Error("Converting base64 string to bytes failed.")}}function ce(e){if($(e))return le(e.slice(Q.length))}var ue,de={__indirect_function_table:I,emscripten_memcpy_big:ne,emscripten_resize_heap:ie,memory:m},_e=(ee(),a.___wasm_call_ctors=function(){return(_e=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)});a._crypto_sign_ed25519_ref10_ge_scalarmult_base=function(){return(a._crypto_sign_ed25519_ref10_ge_scalarmult_base=a.asm.crypto_sign_ed25519_ref10_ge_scalarmult_base).apply(null,arguments)},a._curve25519_sign=function(){return(a._curve25519_sign=a.asm.curve25519_sign).apply(null,arguments)},a._curve25519_verify=function(){return(a._curve25519_verify=a.asm.curve25519_verify).apply(null,arguments)},a._sph_sha512_init=function(){return(a._sph_sha512_init=a.asm.sph_sha512_init).apply(null,arguments)},a._curve25519_donna=function(){return(a._curve25519_donna=a.asm.curve25519_donna).apply(null,arguments)},a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a._malloc=function(){return(a._malloc=a.asm.malloc).apply(null,arguments)},a._free=function(){return(a._free=a.asm.free).apply(null,arguments)},a.__growWasmMemory=function(){return(a.__growWasmMemory=a.asm.__growWasmMemory).apply(null,arguments)};function pe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function fe(e){function t(){ue||(ue=!0,a.calledRun=!0,y||(B(),U(),a.onRuntimeInitialized&&a.onRuntimeInitialized(),G()))}e=e||l,F>0||(w(),F>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}if(x=function e(){ue||fe(),ue||(x=e)},a.run=fe,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();fe();var Ee;r=r||{};!function(){"use strict";function e(e){var t=a._malloc(e.length);return a.HEAPU8.set(e,t),t}function t(e,t,n){n.set(a.HEAPU8.subarray(e,e+t))}var n=new Uint8Array(32);n[0]=9,r.curve25519={keyPair:function(r){var i=new Uint8Array(r);i[0]&=248,i[31]&=127,i[31]|=64;var o=a._malloc(32),s=e(i),l=e(n),c=(a._curve25519_donna(o,s,l),new Uint8Array(32));return t(o,32,c),a._free(o),a._free(s),a._free(l),{pubKey:c.buffer,privKey:i.buffer}},sharedSecret:function(n,r){var i=a._malloc(32),o=e(new Uint8Array(r)),s=e(new Uint8Array(n)),l=(a._curve25519_donna(i,o,s),new Uint8Array(32));return t(i,32,l),a._free(i),a._free(o),a._free(s),l.buffer},sign:function(n,r){var i=a._malloc(64),o=e(new Uint8Array(n)),s=e(new Uint8Array(r)),l=(a._curve25519_sign(i,o,s,r.byteLength),new Uint8Array(64));return t(i,64,l),a._free(i),a._free(o),a._free(s),l.buffer},verify:function(t,n,r){var i=e(new Uint8Array(t)),o=e(new Uint8Array(r)),s=e(new Uint8Array(n)),l=a._curve25519_verify(o,i,s,n.byteLength);return a._free(i),a._free(o),a._free(s),0!==l}},r.curve25519_async={keyPair:function(e){return new Promise((function(t){t(r.curve25519.keyPair(e))}))},sharedSecret:function(e,t){return new Promise((function(n){n(r.curve25519.sharedSecret(e,t))}))},sign:function(e,t){return new Promise((function(n){n(r.curve25519.sign(e,t))}))},verify:function(e,t,n){return new Promise((function(i,o){r.curve25519.verify(e,t,n)?o(new Error("Invalid signature")):i()}))}}}(),function(){"use strict";var e=r.curve25519_async;function t(e){this.jobs={},this.jobId=0,this.worker=new Worker(e),this.worker.onmessage=function(e){var t=this.jobs[e.data.id];e.data.error&&"function"==typeof t.onerror?t.onerror(new Error(e.data.error)):"function"==typeof t.onsuccess&&t.onsuccess(e.data.result),delete this.jobs[e.data.id]}.bind(this)}r.startWorker=function(e){r.stopWorker(),r.curve25519_async=new t(e)},r.stopWorker=function(){if(r.curve25519_async instanceof t){var n=r.curve25519_async.worker;r.curve25519_async=e,n.terminate()}},libsignal.worker={startWorker:r.startWorker,stopWorker:r.stopWorker},t.prototype={constructor:t,postMessage:function(e,t,n,r){return new Promise(function(n,r){this.jobs[this.jobId]={onsuccess:n,onerror:r},this.worker.postMessage({id:this.jobId,methodName:e,args:t}),this.jobId++}.bind(this))},keyPair:function(e){return this.postMessage("keyPair",[e])},sharedSecret:function(e,t){return this.postMessage("sharedSecret",[e,t])},sign:function(e,t){return this.postMessage("sign",[e,t])},verify:function(e,t,n){return this.postMessage("verify",[e,t,n])}}}(),((
/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */
Ee=this||self).dcodeIO=Ee.dcodeIO||{}).Long=function(){"use strict";function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var n={},r={};function i(e,t){var i,o,s;return t?(s=0<=(e>>>=0)&&e<256)&&(o=r[e])?o:(i=a(e,(0|e)<0?-1:0,!0),s&&(r[e]=i),i):(s=-128<=(e|=0)&&e<128)&&(o=n[e])?o:(i=a(e,e<0?-1:0,!1),s&&(n[e]=i),i)}function o(e,t){if(isNaN(e)||!isFinite(e))return t?A:E;if(t){if(e<0)return A;if(e>=_)return m}else{if(e<=-p)return I;if(e+1>=p)return T}return e<0?o(-e,t).neg():a(e%d|0,e/d|0,t)}function a(t,n,r){return new e(t,n,r)}e.fromInt=i,e.fromNumber=o,e.fromBits=a;var s=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return E;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=o(s(n,8)),a=E,c=0;c<e.length;c+=8){var u=Math.min(8,e.length-c),d=parseInt(e.substring(c,c+u),n);if(u<8){var _=o(s(n,u));a=a.mul(_).add(o(d))}else a=(a=a.mul(i)).add(o(d))}return a.unsigned=t,a}function c(t){return t instanceof e?t:"number"==typeof t?o(t):"string"==typeof t?l(t):a(t.low,t.high,t.unsigned)}e.fromString=l,e.fromValue=c;var u=65536,d=u*u,_=d*d,p=_/2,f=i(1<<24),E=i(0);e.ZERO=E;var A=i(0,!0);e.UZERO=A;var g=i(1);e.ONE=g;var h=i(1,!0);e.UONE=h;var S=i(-1);e.NEG_ONE=S;var T=a(-1,2147483647,!1);e.MAX_VALUE=T;var m=a(-1,-1,!0);e.MAX_UNSIGNED_VALUE=m;var I=a(0,-2147483648,!1);e.MIN_VALUE=I;var y=e.prototype;return y.toInt=function(){return this.unsigned?this.low>>>0:this.low},y.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},y.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(I)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(s(e,6),this.unsigned),a=this,l="";;){var c=a.div(i),u=(a.sub(c.mul(i)).toInt()>>>0).toString(e);if((a=c).isZero())return u+l;for(;u.length<6;)u="0"+u;l=""+u+l}},y.getHighBits=function(){return this.high},y.getHighBitsUnsigned=function(){return this.high>>>0},y.getLowBits=function(){return this.low},y.getLowBitsUnsigned=function(){return this.low>>>0},y.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},y.isZero=function(){return 0===this.high&&0===this.low},y.isNegative=function(){return!this.unsigned&&this.high<0},y.isPositive=function(){return this.unsigned||this.high>=0},y.isOdd=function(){return 1==(1&this.low)},y.isEven=function(){return 0==(1&this.low)},y.equals=function(e){return t(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},y.eq=y.equals,y.notEquals=function(e){return!this.eq(e)},y.neq=y.notEquals,y.lessThan=function(e){return this.comp(e)<0},y.lt=y.lessThan,y.lessThanOrEqual=function(e){return this.comp(e)<=0},y.lte=y.lessThanOrEqual,y.greaterThan=function(e){return this.comp(e)>0},y.gt=y.greaterThan,y.greaterThanOrEqual=function(e){return this.comp(e)>=0},y.gte=y.greaterThanOrEqual,y.compare=function(e){if(t(e)||(e=c(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},y.comp=y.compare,y.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(g)},y.neg=y.negate,y.add=function(e){t(e)||(e=c(e));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,l=65535&e.high,u=e.low>>>16,d=0,_=0,p=0,f=0;return p+=(f+=o+(65535&e.low))>>>16,_+=(p+=i+u)>>>16,d+=(_+=r+l)>>>16,d+=n+s,a((p&=65535)<<16|(f&=65535),(d&=65535)<<16|(_&=65535),this.unsigned)},y.subtract=function(e){return t(e)||(e=c(e)),this.add(e.neg())},y.sub=y.subtract,y.multiply=function(e){if(this.isZero())return E;if(t(e)||(e=c(e)),e.isZero())return E;if(this.eq(I))return e.isOdd()?I:E;if(e.eq(I))return this.isOdd()?I:E;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,s=65535&this.low,l=e.high>>>16,u=65535&e.high,d=e.low>>>16,_=65535&e.low,p=0,A=0,g=0,h=0;return g+=(h+=s*_)>>>16,A+=(g+=i*_)>>>16,g&=65535,A+=(g+=s*d)>>>16,p+=(A+=r*_)>>>16,A&=65535,p+=(A+=i*d)>>>16,A&=65535,p+=(A+=s*u)>>>16,p+=n*_+r*d+i*u+s*l,a((g&=65535)<<16|(h&=65535),(p&=65535)<<16|(A&=65535),this.unsigned)},y.mul=y.multiply,y.divide=function(e){if(t(e)||(e=c(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?A:E;var n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return A;if(e.gt(this.shru(1)))return h;i=A}else{if(this.eq(I))return e.eq(g)||e.eq(S)?I:e.eq(I)?g:(n=this.shr(1).div(e).shl(1)).eq(E)?e.isNegative()?g:S:(r=this.sub(e.mul(n)),i=n.add(r.div(e)));if(e.eq(I))return this.unsigned?A:E;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=E}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),l=a<=48?1:s(2,a-48),u=o(n),d=u.mul(e);d.isNegative()||d.gt(r);)d=(u=o(n-=l,this.unsigned)).mul(e);u.isZero()&&(u=g),i=i.add(u),r=r.sub(d)}return i},y.div=y.divide,y.modulo=function(e){return t(e)||(e=c(e)),this.sub(this.div(e).mul(e))},y.mod=y.modulo,y.not=function(){return a(~this.low,~this.high,this.unsigned)},y.and=function(e){return t(e)||(e=c(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},y.or=function(e){return t(e)||(e=c(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},y.xor=function(e){return t(e)||(e=c(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},y.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},y.shl=y.shiftLeft,y.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},y.shr=y.shiftRight,y.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0==(e&=63))return this;var n=this.high;return e<32?a(this.low>>>e|n<<32-e,n>>>e,this.unsigned):a(32===e?n:n>>>e-32,0,this.unsigned)},y.shru=y.shiftRightUnsigned,y.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},y.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},y.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},y.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},y.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e}(),
/**
 * @license ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 * This version of ByteBuffer.js uses an ArrayBuffer as its backing buffer which is accessed through a DataView and is
 * compatible with modern browsers.
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ByteBuffer.js for details
 */
function(e){"use strict";(e.dcodeIO=e.dcodeIO||{}).ByteBuffer=function(e){var t=function(e,n,i){if(void 0===e&&(e=t.DEFAULT_CAPACITY),void 0===n&&(n=t.DEFAULT_ENDIAN),void 0===i&&(i=t.DEFAULT_NOASSERT),!i){if((e|=0)<0)throw RangeError("Illegal capacity");n=!!n,i=!!i}this.buffer=0===e?r:new ArrayBuffer(e),this.view=0===e?null:new DataView(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=void 0!==n&&!!n,this.noAssert=!!i};t.VERSION="3.5.5",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype,r=new ArrayBuffer(0),o=String.fromCharCode;function a(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function s(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+o.apply(String,e);e.length+arguments.length>1024&&(t.push(o.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}t.allocate=function(e,n,r){return new t(e,n,r)},t.concat=function(e,n,r,i){"boolean"!=typeof n&&"string"==typeof n||(i=r,r=n,n=void 0);for(var o,a=0,s=0,l=e.length;s<l;++s)t.isByteBuffer(e[s])||(e[s]=t.wrap(e[s],n)),(o=e[s].limit-e[s].offset)>0&&(a+=o);if(0===a)return new t(0,r,i);var c,u=new t(a,r,i),d=new Uint8Array(u.buffer);for(s=0;s<l;)(o=(c=e[s++]).limit-c.offset)<=0||(d.set(new Uint8Array(c.buffer).subarray(c.offset,c.limit),u.offset),u.offset+=o);return u.limit=u.offset,u.offset=0,u},t.isByteBuffer=function(e){return!0===(e&&e instanceof t)},t.type=function(){return ArrayBuffer},t.wrap=function(e,r,o,a){if("string"!=typeof r&&(a=o,o=r,r=void 0),"string"==typeof e)switch(void 0===r&&(r="utf8"),r){case"base64":return t.fromBase64(e,o);case"hex":return t.fromHex(e,o);case"binary":return t.fromBinary(e,o);case"utf8":return t.fromUTF8(e,o);case"debug":return t.fromDebug(e,o);default:throw Error("Unsupported encoding: "+r)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var s;if(t.isByteBuffer(e))return(s=n.clone.call(e)).markedOffset=-1,s;if(e instanceof Uint8Array)s=new t(0,o,a),e.length>0&&(s.buffer=e.buffer,s.offset=e.byteOffset,s.limit=e.byteOffset+e.length,s.view=e.length>0?new DataView(e.buffer):null);else if(e instanceof ArrayBuffer)s=new t(0,o,a),e.byteLength>0&&(s.buffer=e,s.offset=0,s.limit=e.byteLength,s.view=e.byteLength>0?new DataView(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for((s=new t(e.length,o,a)).limit=e.length,i=0;i<e.length;++i)s.view.setUint8(i,e[i])}return s},n.writeInt8=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view.setInt8(t,e),n&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view.getInt8(e);return t&&(this.offset+=1),n},n.readByte=n.readInt8,n.writeUint8=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view.setUint8(t,e),n&&(this.offset+=1),this},n.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view.getUint8(e);return t&&(this.offset+=1),n},n.writeInt16=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.view.setInt16(t,e,this.littleEndian),n&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=this.view.getInt16(e,this.littleEndian);return t&&(this.offset+=2),n},n.readShort=n.readInt16,n.writeUint16=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.view.setUint16(t,e,this.littleEndian),n&&(this.offset+=2),this},n.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=this.view.getUint16(e,this.littleEndian);return t&&(this.offset+=2),n},n.writeInt32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.view.setInt32(t,e,this.littleEndian),n&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=this.view.getInt32(e,this.littleEndian);return t&&(this.offset+=4),n},n.readInt=n.readInt32,n.writeUint32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.view.setUint32(t,e,this.littleEndian),n&&(this.offset+=4),this},n.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=this.view.getUint32(e,this.littleEndian);return t&&(this.offset+=4),n},e&&(n.writeInt64=function(t,n){var r=void 0===n;if(r&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;return n>i&&this.resize((i*=2)>n?i:n),n-=8,this.littleEndian?(this.view.setInt32(n,t.low,!0),this.view.setInt32(n+4,t.high,!0)):(this.view.setInt32(n,t.high,!1),this.view.setInt32(n+4,t.low,!1)),r&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=this.littleEndian?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1);return n&&(this.offset+=8),r},n.readLong=n.readInt64,n.writeUint64=function(t,n){var r=void 0===n;if(r&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;return n>i&&this.resize((i*=2)>n?i:n),n-=8,this.littleEndian?(this.view.setInt32(n,t.low,!0),this.view.setInt32(n+4,t.high,!0)):(this.view.setInt32(n,t.high,!1),this.view.setInt32(n+4,t.low,!1)),r&&(this.offset+=8),this},n.readUint64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=this.littleEndian?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0);return n&&(this.offset+=8),r}),n.writeFloat32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.view.setFloat32(t,e,this.littleEndian),n&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=this.view.getFloat32(e,this.littleEndian);return t&&(this.offset+=4),n},n.readFloat=n.readFloat32,n.writeFloat64=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=8,this.view.setFloat64(t,e,this.littleEndian),n&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=this.view.getFloat64(e,this.littleEndian);return t&&(this.offset+=8),n},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},n.writeVarint32=function(e,n){var r=void 0===n;if(r&&(n=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,o=t.calculateVarint32(e);n+=o;var a=this.buffer.byteLength;return n>a&&this.resize((a*=2)>n?a:n),n-=o,this.view.setUint8(n,i=128|e),(e>>>=0)>=128?(i=e>>7|128,this.view.setUint8(n+1,i),e>=16384?(i=e>>14|128,this.view.setUint8(n+2,i),e>=1<<21?(i=e>>21|128,this.view.setUint8(n+3,i),e>=1<<28?(this.view.setUint8(n+4,e>>28&15),o=5):(this.view.setUint8(n+3,127&i),o=4)):(this.view.setUint8(n+2,127&i),o=3)):(this.view.setUint8(n+1,127&i),o=2)):(this.view.setUint8(n,127&i),o=1),r?(this.offset+=o,this):o},n.writeVarint32ZigZag=function(e,n){return this.writeVarint32(t.zigZagEncode32(e),n)},n.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r,i=0,o=0;do{if(r=e+i,!this.noAssert&&r>this.limit){var a=Error("Truncated");throw a.truncated=!0,a}n=this.view.getUint8(r),i<5&&(o|=(127&n)<<7*i>>>0),++i}while(128==(128&n));return o|=0,t?(this.offset+=i,o):{value:o,length:i}},n.readVarint32ZigZag=function(e){var n=this.readVarint32(e);return"object"==typeof n?n.value=t.zigZagDecode32(n.value):n=t.zigZagDecode32(n),n},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},t.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(n,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof n)n=e.fromNumber(n);else if("string"==typeof n)n=e.fromString(n);else if(!(n&&n instanceof e))throw TypeError("Illegal value: "+n+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof n?n=e.fromNumber(n,!1):"string"==typeof n?n=e.fromString(n,!1):!1!==n.unsigned&&(n=n.toSigned());var o=t.calculateVarint64(n),a=n.toInt()>>>0,s=n.shiftRightUnsigned(28).toInt()>>>0,l=n.shiftRightUnsigned(56).toInt()>>>0;r+=o;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=o,o){case 10:this.view.setUint8(r+9,l>>>7&1);case 9:this.view.setUint8(r+8,9!==o?128|l:127&l);case 8:this.view.setUint8(r+7,8!==o?s>>>21|128:s>>>21&127);case 7:this.view.setUint8(r+6,7!==o?s>>>14|128:s>>>14&127);case 6:this.view.setUint8(r+5,6!==o?s>>>7|128:s>>>7&127);case 5:this.view.setUint8(r+4,5!==o?128|s:127&s);case 4:this.view.setUint8(r+3,4!==o?a>>>21|128:a>>>21&127);case 3:this.view.setUint8(r+2,3!==o?a>>>14|128:a>>>14&127);case 2:this.view.setUint8(r+1,2!==o?a>>>7|128:a>>>7&127);case 1:this.view.setUint8(r,1!==o?128|a:127&a)}return i?(this.offset+=o,this):o},n.writeVarint64ZigZag=function(e,n){return this.writeVarint64(t.zigZagEncode64(e),n)},n.readVarint64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,o=0,a=0,s=0;if(i=127&(s=this.view.getUint8(t++)),128&s&&(i|=(127&(s=this.view.getUint8(t++)))<<7,128&s&&(i|=(127&(s=this.view.getUint8(t++)))<<14,128&s&&(i|=(127&(s=this.view.getUint8(t++)))<<21,128&s&&(o=127&(s=this.view.getUint8(t++)),128&s&&(o|=(127&(s=this.view.getUint8(t++)))<<7,128&s&&(o|=(127&(s=this.view.getUint8(t++)))<<14,128&s&&(o|=(127&(s=this.view.getUint8(t++)))<<21,128&s&&(a=127&(s=this.view.getUint8(t++)),128&s&&(a|=(127&(s=this.view.getUint8(t++)))<<7,128&s))))))))))throw Error("Buffer overrun");var l=e.fromBits(i|o<<28,o>>>4|a<<24,!1);return n?(this.offset=t,l):{value:l,length:t-r}},n.readVarint64ZigZag=function(n){var r=this.readVarint64(n);return r&&r.value instanceof e?r.value=t.zigZagDecode64(r.value):r=t.zigZagDecode64(r),r}),n.writeCString=function(e,t){var n=void 0===t;n&&(t=this.offset);var r,i=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(r=0;r<i;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}i=c.calculateUTF16asUTF8(a(e))[1],t+=i+1;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=i+1,c.encodeUTF16toUTF8(a(e),function(e){this.view.setUint8(t++,e)}.bind(this)),this.view.setUint8(t++,0),n?(this.offset=t,this):i},n.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=e,i=-1;return c.decodeUTF8toUTF16(function(){if(0===i)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(i=this.view.getUint8(e++))?null:i}.bind(this),n=s(),!0),t?(this.offset=e,n()):{string:n(),length:e-r}},n.writeIString=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t;r=c.calculateUTF16asUTF8(a(e),this.noAssert)[1],t+=4+r;var o=this.buffer.byteLength;if(t>o&&this.resize((o*=2)>t?o:t),t-=4+r,this.view.setUint32(t,r,this.littleEndian),t+=4,c.encodeUTF16toUTF8(a(e),function(e){this.view.setUint8(t++,e)}.bind(this)),t!==i+4+r)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+r));return n?(this.offset=t,this):t-i},n.readIString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n,r,i=e;n=this.view.getUint32(e,this.littleEndian);var o,a=(e+=4)+n;return c.decodeUTF8toUTF16(function(){return e<a?this.view.getUint8(e++):null}.bind(this),o=s(),this.noAssert),r=o(),t?(this.offset=e,r):{string:r,length:e-i}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i=t;n=c.calculateUTF16asUTF8(a(e))[1],t+=n;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=n,c.encodeUTF16toUTF8(a(e),function(e){this.view.setUint8(t++,e)}.bind(this)),r?(this.offset=t,this):t-i},n.writeString=n.writeUTF8String,t.calculateUTF8Chars=function(e){return c.calculateUTF16asUTF8(a(e))[0]},t.calculateUTF8Bytes=function(e){return c.calculateUTF16asUTF8(a(e))[1]},n.readUTF8String=function(e,n,r){"number"==typeof n&&(r=n,n=void 0);var i=void 0===r;if(i&&(r=this.offset),void 0===n&&(n=t.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,a=0,l=r;if(n===t.METRICS_CHARS){if(o=s(),c.decodeUTF8(function(){return a<e&&r<this.limit?this.view.getUint8(r++):null}.bind(this),function(e){++a,c.UTF8toUTF16(e,o)}.bind(this)),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return i?(this.offset=r,o()):{string:o(),length:r-l}}if(n===t.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var u=r+e;if(c.decodeUTF8toUTF16(function(){return r<u?this.view.getUint8(r++):null}.bind(this),o=s(),this.noAssert),r!==u)throw RangeError("Illegal range: Truncated data, "+r+" == "+u);return i?(this.offset=r,o()):{string:o(),length:r-l}}throw TypeError("Unsupported metrics: "+n)},n.readString=n.readUTF8String,n.writeVString=function(e,n){var r=void 0===n;if(r&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,o,s=n;i=c.calculateUTF16asUTF8(a(e),this.noAssert)[1],o=t.calculateVarint32(i),n+=o+i;var l=this.buffer.byteLength;if(n>l&&this.resize((l*=2)>n?l:n),n-=o+i,n+=this.writeVarint32(i,n),c.encodeUTF16toUTF8(a(e),function(e){this.view.setUint8(n++,e)}.bind(this)),n!==s+i+o)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+i+o));return r?(this.offset=n,this):n-s},n.readVString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=this.readVarint32(e),i=e;e+=r.length,r=r.value;var o=e+r,a=s();return c.decodeUTF8toUTF16(function(){return e<o?this.view.getUint8(e++):null}.bind(this),a,this.noAssert),n=a(),t?(this.offset=e,n):{string:n,length:e-i}},n.append=function(e,n,r){"number"!=typeof n&&"string"==typeof n||(r=n,n=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;r+=o;var a=this.buffer.byteLength;return r>a&&this.resize((a*=2)>r?a:r),r-=o,new Uint8Array(this.buffer,r).set(new Uint8Array(e.buffer).subarray(e.offset,e.limit)),e.offset+=o,i&&(this.offset+=o),this},n.appendTo=function(e,t){return e.append(this,t),this},n.assert=function(e){return this.noAssert=!e,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(e){var n=new t(0,this.littleEndian,this.noAssert);if(e){var r=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(r).set(this.buffer),n.buffer=r,n.view=new DataView(r)}else n.buffer=this.buffer,n.view=this.view;return n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},n.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,t)),this.buffer=i,this.view=new DataView(i),this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},n.copy=function(e,n){if(void 0===e&&(e=this.offset),void 0===n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,e<0||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(e===n)return new t(0,this.littleEndian,this.noAssert);var r=n-e,i=new t(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,n),i},n.copyTo=function(e,n,r,i){var o,a;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(n=(a=void 0===n)?e.offset:0|n,r=(o=void 0===r)?this.offset:0|r,i=void 0===i?this.limit:0|i,n<0||n>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var s=i-r;return 0===s?e:(e.ensureCapacity(n+s),new Uint8Array(e.buffer).set(new Uint8Array(this.buffer).subarray(r,i),n),o&&(this.offset+=s),a&&(e.offset+=s),this)},n.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},n.fill=function(e,t,n){var r=void 0===t;if(r&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;t<n;)this.view.setUint8(t++,e);return r&&(this.offset=t),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},n.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},n.LE=function(e){return this.littleEndian=void 0===e||!!e,this},n.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},n.prepend=function(e,n,r){"number"!=typeof n&&"string"==typeof n||(r=n,n=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;var a,s=o-r;if(s>0){var l=new ArrayBuffer(this.buffer.byteLength+s);(a=new Uint8Array(l)).set(new Uint8Array(this.buffer).subarray(r,this.buffer.byteLength),o),this.buffer=l,this.view=new DataView(l),this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,r+=s}else a=new Uint8Array(this.buffer);return a.set(new Uint8Array(e.buffer).subarray(e.offset,e.limit),r-o),e.offset=e.limit,i&&(this.offset-=o),this},n.prependTo=function(e,t){return e.prepend(this,t),this},n.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}return this},n.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(e,t)),this.view=new DataView(this.buffer)),this},n.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},n.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},n.toBuffer=function(e){var t=this.offset,n=this.limit;if(t>n){var i=t;t=n,n=i}if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return r;var o=new ArrayBuffer(n-t);return new Uint8Array(o).set(new Uint8Array(this.buffer).subarray(t,n),0),o},n.toArrayBuffer=n.toBuffer,n.toString=function(e,t,n){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(n=t=e="utf8"),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var l=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],r=0,i=t.length;r<i;++r)n[t[r]]=r;return e.encode=function(e,n){for(var r,i;null!==(r=e());)n(t[r>>2&63]),i=(3&r)<<4,null!==(r=e())?(n(t[63&((i|=r>>4&15)|r>>4&15)]),i=(15&r)<<2,null!==(r=e())?(n(t[63&(i|r>>6&3)]),n(t[63&r])):(n(t[63&i]),n(61))):(n(t[63&i]),n(61),n(61))},e.decode=function(e,t){var r,i,o;function a(e){throw Error("Illegal character code: "+e)}for(;null!==(r=e());)if(void 0===(i=n[r])&&a(r),null!==(r=e())&&(void 0===(o=n[r])&&a(r),t(i<<2>>>0|(48&o)>>4),null!==(r=e()))){if(void 0===(i=n[r])){if(61===r)break;a(r)}if(t((15&o)<<4>>>0|(60&i)>>2),null!==(r=e())){if(void 0===(o=n[r])){if(61===r)break;a(r)}t((3&i)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();n.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;return l.encode(function(){return e<t?this.view.getUint8(e++):null}.bind(this),n=s()),n()},t.fromBase64=function(e,n,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%4!=0)throw TypeError("Illegal str: Length not a multiple of 4")}var i=new t(e.length/4*3,n,r),o=0;return l.decode(a(e),(function(e){i.view.setUint8(o++,e)})),i.limit=o,i},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},n.toBinary=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return"";for(var n=[],r=[];e<t;)n.push(this.view.getUint8(e++)),n.length>=1024&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},t.fromBinary=function(e,n,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");for(var i,o=0,a=e.length,s=new t(a,n,r);o<a;){if(i=e.charCodeAt(o),!r&&i>255)throw RangeError("Illegal charCode at "+o+": 0 <= "+i+" <= 255");s.view.setUint8(o++,i)}return s.limit=a,s},n.toDebug=function(e){for(var t,n=-1,r=this.buffer.byteLength,i="",o="",a="";n<r;){if(-1!==n&&(i+=(t=this.view.getUint8(n))<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16==0&&n!==r){for(;i.length<51;)i+=" ";a+=i+o+"\n",i=o=""}n===this.offset&&n===this.limit?i+=n===this.markedOffset?"!":"|":n===this.offset?i+=n===this.markedOffset?"[":"<":n===this.limit?i+=n===this.markedOffset?"]":">":i+=n===this.markedOffset?"'":e||0!==n&&n!==r?" ":""}if(e&&" "!==i){for(;i.length<51;)i+=" ";a+=i+o+"\n"}return e?a:i},t.fromDebug=function(e,n,r){for(var i,o,a=e.length,s=new t((a+1)/3|0,n,r),l=0,c=0,u=!1,d=!1,_=!1,p=!1,f=!1;l<a;){switch(i=e.charAt(l++)){case"!":if(!r){if(d||_||p){f=!0;break}d=_=p=!0}s.offset=s.markedOffset=s.limit=c,u=!1;break;case"|":if(!r){if(d||p){f=!0;break}d=p=!0}s.offset=s.limit=c,u=!1;break;case"[":if(!r){if(d||_){f=!0;break}d=_=!0}s.offset=s.markedOffset=c,u=!1;break;case"<":if(!r){if(d){f=!0;break}d=!0}s.offset=c,u=!1;break;case"]":if(!r){if(p||_){f=!0;break}p=_=!0}s.limit=s.markedOffset=c,u=!1;break;case">":if(!r){if(p){f=!0;break}p=!0}s.limit=c,u=!1;break;case"'":if(!r){if(_){f=!0;break}_=!0}s.markedOffset=c,u=!1;break;case" ":u=!1;break;default:if(!r&&u){f=!0;break}if(o=parseInt(i+e.charAt(l++),16),!r&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");s.view.setUint8(c++,o),u=!0}if(f)throw TypeError("Illegal str: Invalid symbol at "+l)}if(!r){if(!d||!p)throw TypeError("Illegal str: Missing offset or limit");if(c<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+a)}return s},n.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,r=new Array(t-e);e<t;)(n=this.view.getUint8(e++))<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")},t.fromHex=function(e,n,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,o=e.length,a=new t(o/2|0,n),s=0,l=0;s<o;s+=2){if(i=parseInt(e.substring(s,s+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");a.view.setUint8(l++,i)}return a.limit=l,a};var c=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},decodeUTF8:function(e,t){for(var n,r,i,o,a=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0==(128&n))t(n);else if(192==(224&n))null===(r=e())&&a([n,r]),t((31&n)<<6|63&r);else if(224==(240&n))(null===(r=e())||null===(i=e()))&&a([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!=(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&a([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n);null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<=65535?t(n):(t(55296+((n-=65536)>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,n)}))},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,n)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(t){for(var n,r=0;null!==(n=t());)r+=e.calculateCodePoint(n);return r},calculateUTF16asUTF8:function(t){var n=0,r=0;return e.UTF16toUTF8(t,(function(t){++n,r+=e.calculateCodePoint(t)})),[n,r]}};return e}();return n.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;try{c.decodeUTF8toUTF16(function(){return e<t?this.view.getUint8(e++):null}.bind(this),n=s())}catch(n){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return n()},t.fromUTF8=function(e,n,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var i=new t(c.calculateUTF16asUTF8(a(e),!0)[1],n,r),o=0;return c.encodeUTF16toUTF8(a(e),(function(e){i.view.setUint8(o++,e)})),i.limit=o,i},t}(e.dcodeIO.Long)}(this||self),
/**
 * @license protobuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/protobuf.js for details
 */
function(e,r){(e.dcodeIO=e.dcodeIO||{}).ProtoBuf=function(e,r){"use strict";var i={};return i.ByteBuffer=e,i.Long=e.Long||null,i.VERSION="5.0.1",i.WIRE_TYPES={},i.WIRE_TYPES.VARINT=0,i.WIRE_TYPES.BITS64=1,i.WIRE_TYPES.LDELIM=2,i.WIRE_TYPES.STARTGROUP=3,i.WIRE_TYPES.ENDGROUP=4,i.WIRE_TYPES.BITS32=5,i.PACKABLE_WIRE_TYPES=[i.WIRE_TYPES.VARINT,i.WIRE_TYPES.BITS64,i.WIRE_TYPES.BITS32],i.TYPES={int32:{name:"int32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.ZERO:void 0},uint64:{name:"uint64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.UZERO:void 0},sint64:{name:"sint64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.ZERO:void 0},bool:{name:"bool",wireType:i.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:i.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:i.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:i.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:i.WIRE_TYPES.BITS64,defaultValue:i.Long?i.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:i.WIRE_TYPES.BITS64,defaultValue:i.Long?i.Long.ZERO:void 0},float:{name:"float",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:i.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:i.WIRE_TYPES.STARTGROUP,defaultValue:null}},i.MAP_KEY_TYPES=[i.TYPES.int32,i.TYPES.sint32,i.TYPES.sfixed32,i.TYPES.uint32,i.TYPES.fixed32,i.TYPES.int64,i.TYPES.sint64,i.TYPES.sfixed64,i.TYPES.uint64,i.TYPES.fixed64,i.TYPES.bool,i.TYPES.string,i.TYPES.bytes],i.ID_MIN=1,i.ID_MAX=536870911,i.convertFieldsToCamelCase=!1,i.populateAccessors=!0,i.populateDefaults=!0,i.Util=function(){"use strict";var e={};return e.IS_NODE=!("object"!=typeof t||t+""!="[object process]"||t.browser),e.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,n=0;n<e.length;n++){try{t=e[n]()}catch(e){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,r){if(r&&"function"!=typeof r&&(r=null),e.IS_NODE){var i=n(35747);if(r)i.readFile(t,(function(e,t){r(e?null:""+t)}));else try{return i.readFileSync(t)}catch(e){return null}}else{var o=e.XHR();if(o.open("GET",t,!!r),o.setRequestHeader("Accept","text/plain"),"function"==typeof o.overrideMimeType&&o.overrideMimeType("text/plain"),!r)return o.send(null),200==o.status||0==o.status&&"string"==typeof o.responseText?o.responseText:null;if(o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0==o.status&&"string"==typeof o.responseText?r(o.responseText):r(null))},4==o.readyState)return;o.send(null)}},e.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},e}(),i.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},i.DotProto=function(e,t){"use strict";var n={},r=function(e){this.source=e+"",this.index=0,this.line=1,this.stack=[],this._stringOpen=null},i=r.prototype;i._readString=function(){var e='"'===this._stringOpen?t.STRING_DQ:t.STRING_SQ;e.lastIndex=this.index-1;var n=e.exec(this.source);if(!n)throw Error("unterminated string");return this.index=e.lastIndex,this.stack.push(this._stringOpen),this._stringOpen=null,n[1]},i.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();var e,n,r;do{for(e=!1;t.WHITESPACE.test(r=this.source.charAt(this.index));)if("\n"===r&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,e=!0}else{if("*"!==(r=this.source.charAt(this.index)))return"/";do{if("\n"===r&&++this.line,++this.index===this.source.length)return null;n=r,r=this.source.charAt(this.index)}while("*"!==n||"/"!==r);++this.index,e=!0}}while(e);if(this.index===this.source.length)return null;var i=this.index;if(t.DELIM.lastIndex=0,!t.DELIM.test(this.source.charAt(i++)))for(;i<this.source.length&&!t.DELIM.test(this.source.charAt(i));)++i;var o=this.source.substring(this.index,this.index=i);return'"'!==o&&"'"!==o||(this._stringOpen=o),o},i.peek=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},i.skip=function(e){var t=this.next();if(t!==e)throw Error("illegal '"+t+"', '"+e+"' expected")},i.omit=function(e){return this.peek()===e&&(this.next(),!0)},i.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},n.Tokenizer=r;var o=function(e){this.tn=new r(e),this.proto3=!1},a=o.prototype;function s(e,n){var r=-1,i=1;if("-"==e.charAt(0)&&(i=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))r=parseInt(e);else if(t.NUMBER_HEX.test(e))r=parseInt(e.substring(2),16);else{if(!t.NUMBER_OCT.test(e))throw Error("illegal id value: "+(i<0?"-":"")+e);r=parseInt(e.substring(1),8)}if(r=i*r|0,!n&&r<0)throw Error("illegal id value: "+(i<0?"-":"")+e);return r}function l(e){var n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))return n*parseInt(e,10);if(t.NUMBER_HEX.test(e))return n*parseInt(e.substring(2),16);if(t.NUMBER_OCT.test(e))return n*parseInt(e.substring(1),8);if("inf"===e)return n*(1/0);if("nan"===e)return NaN;if(t.NUMBER_FLT.test(e))return n*parseFloat(e);throw Error("illegal number value: "+(n<0?"-":"")+e)}function c(e,t,n){void 0===e[t]?e[t]=n:(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n))}return a.parse=function(){var e,n,r={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},i=!0;try{for(;e=this.tn.next();)switch(e){case"package":if(!i||null!==r.package)throw Error("unexpected 'package'");if(e=this.tn.next(),!t.TYPEREF.test(e))throw Error("illegal package name: "+e);this.tn.skip(";"),r.package=e;break;case"import":if(!i)throw Error("unexpected 'import'");("public"===(e=this.tn.peek())||(n="weak"===e))&&this.tn.next(),e=this._readString(),this.tn.skip(";"),n||r.imports.push(e);break;case"syntax":if(!i)throw Error("unexpected 'syntax'");this.tn.skip("="),"proto3"===(r.syntax=this._readString())&&(this.proto3=!0),this.tn.skip(";");break;case"message":this._parseMessage(r,null),i=!1;break;case"enum":this._parseEnum(r),i=!1;break;case"option":this._parseOption(r);break;case"service":this._parseService(r);break;case"extend":this._parseExtend(r);break;default:throw Error("unexpected '"+e+"'")}}catch(e){throw e.message="Parse error at line "+this.tn.line+": "+e.message,e}return delete r.name,r},o.parse=function(e){return new o(e).parse()},a._readString=function(){var e,t,n="";do{if("'"!==(t=this.tn.next())&&'"'!==t)throw Error("illegal string delimiter: "+t);n+=this.tn.next(),this.tn.skip(t),e=this.tn.peek()}while('"'===e||'"'===e);return n},a._readValue=function(e){var n=this.tn.peek();if('"'===n||"'"===n)return this._readString();if(this.tn.next(),t.NUMBER.test(n))return l(n);if(t.BOOL.test(n))return"true"===n.toLowerCase();if(e&&t.TYPEREF.test(n))return n;throw Error("illegal value: "+n)},a._parseOption=function(e,n){var r=this.tn.next(),i=!1;if("("===r&&(i=!0,r=this.tn.next()),!t.TYPEREF.test(r))throw Error("illegal option name: "+r);var o=r;i&&(this.tn.skip(")"),o="("+o+")",r=this.tn.peek(),t.FQTYPEREF.test(r)&&(o+=r,this.tn.next())),this.tn.skip("="),this._parseOptionValue(e,o),n||this.tn.skip(";")},a._parseOptionValue=function(e,n){var r=this.tn.peek();if("{"!==r)c(e.options,n,this._readValue(!0));else for(this.tn.skip("{");"}"!==(r=this.tn.next());){if(!t.NAME.test(r))throw Error("illegal option name: "+n+"."+r);this.tn.omit(":")?c(e.options,n+"."+r,this._readValue(!0)):this._parseOptionValue(e,n+"."+r)}},a._parseService=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal service name at line "+this.tn.line+": "+n);var r={name:n,rpc:{},options:{}};for(this.tn.skip("{");"}"!==(n=this.tn.next());)if("option"===n)this._parseOption(r);else{if("rpc"!==n)throw Error("illegal service token: "+n);this._parseServiceRPC(r)}this.tn.omit(";"),e.services.push(r)},a._parseServiceRPC=function(e){var n="rpc",r=this.tn.next();if(!t.NAME.test(r))throw Error("illegal rpc service method name: "+r);var i=r,o={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(this.tn.skip("("),"stream"===(r=this.tn.next()).toLowerCase()&&(o.request_stream=!0,r=this.tn.next()),!t.TYPEREF.test(r))throw Error("illegal rpc service request type: "+r);if(o.request=r,this.tn.skip(")"),"returns"!==(r=this.tn.next()).toLowerCase())throw Error("illegal rpc service request type delimiter: "+r);if(this.tn.skip("("),"stream"===(r=this.tn.next()).toLowerCase()&&(o.response_stream=!0,r=this.tn.next()),o.response=r,this.tn.skip(")"),"{"===(r=this.tn.peek())){for(this.tn.next();"}"!==(r=this.tn.next());){if("option"!==r)throw Error("illegal rpc service token: "+r);this._parseOption(o)}this.tn.omit(";")}else this.tn.skip(";");void 0===e[n]&&(e[n]={}),e[n][i]=o},a._parseMessage=function(e,n){var r=!!n,i=this.tn.next(),o={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!t.NAME.test(i))throw Error("illegal "+(r?"group":"message")+" name: "+i);for(o.name=i,r&&(this.tn.skip("="),n.id=s(this.tn.next()),o.isGroup=!0),"["===(i=this.tn.peek())&&n&&this._parseFieldOptions(n),this.tn.skip("{");"}"!==(i=this.tn.next());)if(t.RULE.test(i))this._parseMessageField(o,i);else if("oneof"===i)this._parseMessageOneOf(o);else if("enum"===i)this._parseEnum(o);else if("message"===i)this._parseMessage(o);else if("option"===i)this._parseOption(o);else if("service"===i)this._parseService(o);else if("extensions"===i)o.extensions=this._parseExtensionRanges();else if("reserved"===i)this._parseIgnored();else if("extend"===i)this._parseExtend(o);else{if(!t.TYPEREF.test(i))throw Error("illegal message token: "+i);if(!this.proto3)throw Error("illegal field rule: "+i);this._parseMessageField(o,"optional",i)}return this.tn.omit(";"),e.messages.push(o),o},a._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")},a._parseMessageField=function(e,n,r){if(!t.RULE.test(n))throw Error("illegal message field rule: "+n);var i,o={rule:n,type:"",name:"",options:{},id:0};if("map"===n){if(r)throw Error("illegal type: "+r);if(this.tn.skip("<"),i=this.tn.next(),!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field type: "+i);if(o.keytype=i,this.tn.skip(","),i=this.tn.next(),!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field: "+i);if(o.type=i,this.tn.skip(">"),i=this.tn.next(),!t.NAME.test(i))throw Error("illegal message field name: "+i);o.name=i,this.tn.skip("="),o.id=s(this.tn.next()),"["===(i=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}else if("group"===(r=void 0!==r?r:this.tn.next())){var a=this._parseMessage(e,o);if(!/^[A-Z]/.test(a.name))throw Error("illegal group name: "+a.name);o.type=a.name,o.name=a.name.toLowerCase(),this.tn.omit(";")}else{if(!t.TYPE.test(r)&&!t.TYPEREF.test(r))throw Error("illegal message field type: "+r);if(o.type=r,i=this.tn.next(),!t.NAME.test(i))throw Error("illegal message field name: "+i);o.name=i,this.tn.skip("="),o.id=s(this.tn.next()),"["===(i=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}return e.fields.push(o),o},a._parseMessageOneOf=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal oneof name: "+n);var r,i=n,o=[];for(this.tn.skip("{");"}"!==(n=this.tn.next());)(r=this._parseMessageField(e,"optional",n)).oneof=i,o.push(r.id);this.tn.omit(";"),e.oneofs[i]=o},a._parseFieldOptions=function(e){this.tn.skip("[");for(var t=!0;"]"!==this.tn.peek();)t||this.tn.skip(","),this._parseOption(e,!0),t=!1;this.tn.next()},a._parseEnum=function(e){var n={name:"",values:[],options:{}},r=this.tn.next();if(!t.NAME.test(r))throw Error("illegal name: "+r);for(n.name=r,this.tn.skip("{");"}"!==(r=this.tn.next());)if("option"===r)this._parseOption(n);else{if(!t.NAME.test(r))throw Error("illegal name: "+r);this.tn.skip("=");var i={name:r,id:s(this.tn.next(),!0)};"["===(r=this.tn.peek())&&this._parseFieldOptions({options:{}}),this.tn.skip(";"),n.values.push(i)}this.tn.omit(";"),e.enums.push(n)},a._parseExtensionRanges=function(){var t,n,r,i=[];do{for(n=[];;){switch(t=this.tn.next()){case"min":r=e.ID_MIN;break;case"max":r=e.ID_MAX;break;default:r=l(t)}if(n.push(r),2===n.length)break;if("to"!==this.tn.peek()){n.push(r);break}this.tn.next()}i.push(n)}while(this.tn.omit(","));return this.tn.skip(";"),i},a._parseExtend=function(e){var n=this.tn.next();if(!t.TYPEREF.test(n))throw Error("illegal extend reference: "+n);var r={ref:n,fields:[]};for(this.tn.skip("{");"}"!==(n=this.tn.next());)if(t.RULE.test(n))this._parseMessageField(r,n);else{if(!t.TYPEREF.test(n))throw Error("illegal extend token: "+n);if(!this.proto3)throw Error("illegal field rule: "+n);this._parseMessageField(r,"optional",n)}return this.tn.omit(";"),e.messages.push(r),r},a.toString=function(){return"Parser at line "+this.tn.line},n.Parser=o,n}(i,i.Lang),i.Reflect=function(t){"use strict";var n={},r=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},i=r.prototype;i.fqn=function(){for(var e=this.name,t=this;;){if(null==(t=t.parent))break;e=t.name+"."+e}return e},i.toString=function(e){return(e?this.className+" ":"")+this.fqn()},i.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.T=r;var o=function(e,t,n,i,o){r.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=o||"proto2"},a=o.prototype=Object.create(r.prototype);a.getChildren=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],n=0,r=this.children.length;n<r;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},a.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof d.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof d.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},a.getChild=function(e){for(var t="number"==typeof e?"id":"name",n=0,r=this.children.length;n<r;++n)if(this.children[n][t]===e)return this.children[n];return null},a.resolve=function(e,t){var r,i="string"==typeof e?e.split("."):e,o=this,a=0;if(""===i[a]){for(;null!==o.parent;)o=o.parent;a++}do{do{if(!(o instanceof n.Namespace)){o=null;break}if(!(r=o.getChild(i[a]))||!(r instanceof n.T)||t&&!(r instanceof n.Namespace)){o=null;break}o=r,a++}while(a<i.length);if(null!=o)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=o);return o},a.qn=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(var i=1;i<=t.length;i++){var o=t.slice(t.length-i);if(e===this.resolve(o,e instanceof n.Namespace))return o.join(".")}return e.fqn()},a.build=function(){for(var e,t={},n=this.children,r=0,i=n.length;r<i;++r)(e=n[r])instanceof o&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},a.buildOpt=function(){for(var e={},t=Object.keys(this.options),n=0,r=t.length;n<r;++n){var i=t[n],o=this.options[t[n]];e[i]=o}return e},a.getOption=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},n.Namespace=o;var s=function(e,n,r,i){if(this.type=e,this.resolvedType=n,this.isMapKey=r,this.syntax=i,r&&t.MAP_KEY_TYPES.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},l=s.prototype;function c(n){if("string"==typeof n&&(n=t.TYPES[n]),void 0===n.defaultValue)throw Error("default value for type "+n.name+" is not supported");return n==t.TYPES.bytes?new e(0):n.defaultValue}function u(e,n){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.unsigned&&e.low==e.low&&e.high==e.high)return new t.Long(e.low,e.high,void 0===n?e.unsigned:n);if("string"==typeof e)return t.Long.fromString(e,n||!1,10);if("number"==typeof e)return t.Long.fromNumber(e,n||!1);throw Error("not convertible to Long")}s.defaultFieldValue=c,l.verifyValue=function(n){var r=this;function i(e,t){throw Error("Illegal value for "+r.toString(!0)+" of type "+r.type.name+": "+e+" ("+t+")")}switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:return("number"!=typeof n||n==n&&n%1!=0)&&i(typeof n,"not an integer"),n>4294967295?0|n:n;case t.TYPES.uint32:case t.TYPES.fixed32:return("number"!=typeof n||n==n&&n%1!=0)&&i(typeof n,"not an integer"),n<0?n>>>0:n;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:if(t.Long)try{return u(n,!1)}catch(e){i(typeof n,e.message)}else i(typeof n,"requires Long.js");case t.TYPES.uint64:case t.TYPES.fixed64:if(t.Long)try{return u(n,!0)}catch(e){i(typeof n,e.message)}else i(typeof n,"requires Long.js");case t.TYPES.bool:return"boolean"!=typeof n&&i(typeof n,"not a boolean"),n;case t.TYPES.float:case t.TYPES.double:return"number"!=typeof n&&i(typeof n,"not a number"),n;case t.TYPES.string:return"string"==typeof n||n&&n instanceof String||i(typeof n,"not a string"),""+n;case t.TYPES.bytes:return e.isByteBuffer(n)?n:e.wrap(n,"base64");case t.TYPES.enum:var o=this.resolvedType.getChildren(t.Reflect.Enum.Value);for(s=0;s<o.length;s++){if(o[s].name==n)return o[s].id;if(o[s].id==n)return o[s].id}if("proto3"===this.syntax)return("number"!=typeof n||n==n&&n%1!=0)&&i(typeof n,"not an integer"),(n>4294967295||n<0)&&i(typeof n,"not in range for uint32"),n;i(n,"not a valid enum value");case t.TYPES.group:case t.TYPES.message:if(n&&"object"==typeof n||i(typeof n,"object expected"),n instanceof this.resolvedType.clazz)return n;if(n instanceof t.Builder.Message){var a={};for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);n=a}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},l.calculateLength=function(n,r){if(null===r)return 0;var i;switch(this.type){case t.TYPES.int32:return r<0?e.calculateVarint64(r):e.calculateVarint32(r);case t.TYPES.uint32:return e.calculateVarint32(r);case t.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(r));case t.TYPES.fixed32:case t.TYPES.sfixed32:case t.TYPES.float:return 4;case t.TYPES.int64:case t.TYPES.uint64:return e.calculateVarint64(r);case t.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(r));case t.TYPES.fixed64:case t.TYPES.sfixed64:return 8;case t.TYPES.bool:return 1;case t.TYPES.enum:return e.calculateVarint32(r);case t.TYPES.double:return 8;case t.TYPES.string:return i=e.calculateUTF8Bytes(r),e.calculateVarint32(i)+i;case t.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");return e.calculateVarint32(r.remaining())+r.remaining();case t.TYPES.message:return i=this.resolvedType.calculate(r),e.calculateVarint32(i)+i;case t.TYPES.group:return(i=this.resolvedType.calculate(r))+e.calculateVarint32(n<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")},l.encodeValue=function(n,r,i){if(null===r)return i;switch(this.type){case t.TYPES.int32:r<0?i.writeVarint64(r):i.writeVarint32(r);break;case t.TYPES.uint32:i.writeVarint32(r);break;case t.TYPES.sint32:i.writeVarint32ZigZag(r);break;case t.TYPES.fixed32:i.writeUint32(r);break;case t.TYPES.sfixed32:i.writeInt32(r);break;case t.TYPES.int64:case t.TYPES.uint64:i.writeVarint64(r);break;case t.TYPES.sint64:i.writeVarint64ZigZag(r);break;case t.TYPES.fixed64:i.writeUint64(r);break;case t.TYPES.sfixed64:i.writeInt64(r);break;case t.TYPES.bool:"string"==typeof r?i.writeVarint32("false"===r.toLowerCase()?0:!!r):i.writeVarint32(r?1:0);break;case t.TYPES.enum:i.writeVarint32(r);break;case t.TYPES.float:i.writeFloat32(r);break;case t.TYPES.double:i.writeFloat64(r);break;case t.TYPES.string:i.writeVString(r);break;case t.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");var o=r.offset;i.writeVarint32(r.remaining()),i.append(r),r.offset=o;break;case t.TYPES.message:var a=(new e).LE();this.resolvedType.encode(r,a),i.writeVarint32(a.offset),i.append(a.flip());break;case t.TYPES.group:this.resolvedType.encode(r,i),i.writeVarint32(n<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")}return i},l.decode=function(e,n,r){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var i,o;switch(this.type){case t.TYPES.int32:return 0|e.readVarint32();case t.TYPES.uint32:return e.readVarint32()>>>0;case t.TYPES.sint32:return 0|e.readVarint32ZigZag();case t.TYPES.fixed32:return e.readUint32()>>>0;case t.TYPES.sfixed32:return 0|e.readInt32();case t.TYPES.int64:return e.readVarint64();case t.TYPES.uint64:return e.readVarint64().toUnsigned();case t.TYPES.sint64:return e.readVarint64ZigZag();case t.TYPES.fixed64:return e.readUint64();case t.TYPES.sfixed64:return e.readInt64();case t.TYPES.bool:return!!e.readVarint32();case t.TYPES.enum:return e.readVarint32();case t.TYPES.float:return e.readFloat();case t.TYPES.double:return e.readDouble();case t.TYPES.string:return e.readVString();case t.TYPES.bytes:if(o=e.readVarint32(),e.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+e.remaining());return(i=e.clone()).limit=i.offset+o,e.offset+=o,i;case t.TYPES.message:return o=e.readVarint32(),this.resolvedType.decode(e,o);case t.TYPES.group:return this.resolvedType.decode(e,-1,r)}throw Error("[INTERNAL] Illegal decode type")},l.valueFromString=function(n){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return this.verifyValue(parseInt(n));case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return this.verifyValue(n);case t.TYPES.bool:return"true"===n;case t.TYPES.string:return this.verifyValue(n);case t.TYPES.bytes:return e.fromBinary(n)}},l.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===t.TYPES.bytes?e.toString("binary"):e.toString()},n.Element=s;var d=function(e,t,n,r,i,a){o.call(this,e,t,n,r,a),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!i,this._fields=null,this._fieldsById=null,this._fieldsByName=null},_=d.prototype=Object.create(o.prototype);function p(e,n){var r=n.readVarint32(),i=7&r,o=r>>>3;switch(i){case t.WIRE_TYPES.VARINT:do{r=n.readUint8()}while(128==(128&r));break;case t.WIRE_TYPES.BITS64:n.offset+=8;break;case t.WIRE_TYPES.LDELIM:r=n.readVarint32(),n.offset+=r;break;case t.WIRE_TYPES.STARTGROUP:p(o,n);break;case t.WIRE_TYPES.ENDGROUP:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+i)}return!0}_.build=function(n){if(this.clazz&&!n)return this.clazz;var r=function(t,n){var r=n.getChildren(t.Reflect.Message.Field),i=n.getChildren(t.Reflect.Message.OneOf),o=function(a,s){t.Builder.Message.call(this);for(var l=0,c=i.length;l<c;++l)this[i[l].name]=null;for(l=0,c=r.length;l<c;++l){var u=r[l];this[u.name]=u.repeated?[]:u.map?new t.Map(u):null,!u.required&&"proto3"!==n.syntax||null===u.defaultValue||(this[u.name]=u.defaultValue)}var d;if(arguments.length>0)if(1!==arguments.length||null===a||"object"!=typeof a||!("function"!=typeof a.encode||a instanceof o)||Array.isArray(a)||a instanceof t.Map||e.isByteBuffer(a)||a instanceof ArrayBuffer||t.Long&&a instanceof t.Long)for(l=0,c=arguments.length;l<c;++l)void 0!==(d=arguments[l])&&this.$set(r[l].name,d);else this.$set(a)},a=o.prototype=Object.create(t.Builder.Message.prototype);a.add=function(e,r,i){var o=n._fieldsByName[e];if(!i){if(!o)throw Error(this+"#"+e+" is undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+e+" is not a repeated field");r=o.verifyValue(r,!0)}return null===this[e]&&(this[e]=[]),this[e].push(r),this},a.$add=a.add,a.set=function(e,r,i){if(e&&"object"==typeof e){for(var o in i=r,e)e.hasOwnProperty(o)&&void 0!==(r=e[o])&&this.$set(o,r,i);return this}var a=n._fieldsByName[e];if(i)this[e]=r;else{if(!a)throw Error(this+"#"+e+" is not a field: undefined");if(!(a instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+a.toString(!0));this[a.name]=r=a.verifyValue(r)}if(a&&a.oneof){var s=this[a.oneof.name];null!==r?(null!==s&&s!==a.name&&(this[s]=null),this[a.oneof.name]=a.name):s===e&&(this[a.oneof.name]=null)}return this},a.$set=a.set,a.get=function(e,r){if(r)return this[e];var i=n._fieldsByName[e];if(!(i&&i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+i.toString(!0));return this[i.name]},a.$get=a.get;for(var s=0;s<r.length;s++){var l=r[s];l instanceof t.Reflect.Message.ExtensionField||n.builder.options.populateAccessors&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,(function(e){return e.toUpperCase().replace("_","")}));t=t.substring(0,1).toUpperCase()+t.substring(1);var r=e.originalName.replace(/([A-Z])/g,(function(e){return"_"+e})),i=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},o=function(){return this[e.name]};null===n.getChild("set"+t)&&(a["set"+t]=i),null===n.getChild("set_"+r)&&(a["set_"+r]=i),null===n.getChild("get"+t)&&(a["get"+t]=o),null===n.getChild("get_"+r)&&(a["get_"+r]=o)}(l)}function c(n,r,i,o){if(null===n||"object"!=typeof n){if(o&&o instanceof t.Reflect.Enum){var a=t.Reflect.Enum.getName(o.object,n);if(null!==a)return a}return n}if(e.isByteBuffer(n))return r?n.toBase64():n.toBuffer();if(t.Long.isLong(n))return i?n.toString():t.Long.fromValue(n);var s;if(Array.isArray(n))return s=[],n.forEach((function(e,t){s[t]=c(e,r,i,o)})),s;if(s={},n instanceof t.Map){for(var l=n.entries(),u=l.next();!u.done;u=l.next())s[n.keyElem.valueToString(u.value[0])]=c(u.value[1],r,i,n.valueElem.resolvedType);return s}var d=n.$type,_=void 0;for(var p in n)n.hasOwnProperty(p)&&(d&&(_=d.getChild(p))?s[p]=c(n[p],r,i,_.resolvedType):s[p]=c(n[p],r,i));return s}return a.encode=function(t,r){"boolean"==typeof t&&(r=t,t=void 0);var i=!1;t||(t=new e,i=!0);var o=t.littleEndian;try{return n.encode(this,t.LE(),r),(i?t.flip():t).LE(o)}catch(e){throw t.LE(o),e}},o.encode=function(e,t,n){return new o(e).encode(t,n)},a.calculate=function(){return n.calculate(this)},a.encodeDelimited=function(t,r){var i=!1;t||(t=new e,i=!0);var o=(new e).LE();return n.encode(this,o,r).flip(),t.writeVarint32(o.remaining()),t.append(o),i?t.flip():t},a.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},a.toArrayBuffer=a.encodeAB,a.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},a.toBuffer=a.encodeNB,a.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},a.toBase64=a.encode64,a.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},a.toHex=a.encodeHex,a.toRaw=function(e,t){return c(this,!!e,!!t,this.$type)},a.encodeJSON=function(){return JSON.stringify(c(this,!0,!0,this.$type))},o.decode=function(t,r,i){"string"==typeof r&&(i=r,r=-1),"string"==typeof t&&(t=e.wrap(t,i||"base64"));var o=(t=e.isByteBuffer(t)?t:e.wrap(t)).littleEndian;try{var a=n.decode(t.LE());return t.LE(o),a}catch(e){throw t.LE(o),e}},o.decodeDelimited=function(t,r){if("string"==typeof t&&(t=e.wrap(t,r||"base64")),(t=e.isByteBuffer(t)?t:e.wrap(t)).remaining()<1)return null;var i=t.offset,o=t.readVarint32();if(t.remaining()<o)return t.offset=i,null;try{var a=n.decode(t.slice(t.offset,t.offset+o).LE());return t.offset+=o,a}catch(e){throw t.offset+=o,e}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},o.decodeJSON=function(e){return new o(JSON.parse(e))},a.toString=function(){return n.toString()},Object.defineProperty&&(Object.defineProperty(o,"$options",{value:n.buildOpt()}),Object.defineProperty(a,"$options",{value:o.$options}),Object.defineProperty(o,"$type",{value:n}),Object.defineProperty(a,"$type",{value:n})),o}(t,this);this._fields=[],this._fieldsById={},this._fieldsByName={};for(var i,o=0,a=this.children.length;o<a;o++)if((i=this.children[o])instanceof h||i instanceof d||i instanceof m){if(r.hasOwnProperty(i.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+i.toString(!0)+" cannot override static property '"+i.name+"'");r[i.name]=i.build()}else if(i instanceof d.Field)i.build(),this._fields.push(i),this._fieldsById[i.id]=i,this._fieldsByName[i.name]=i;else if(!(i instanceof d.OneOf||i instanceof T))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[o].toString(!0));return this.clazz=r},_.encode=function(e,t,n){for(var r,i,o=null,a=0,s=this._fields.length;a<s;++a)i=e[(r=this._fields[a]).name],r.required&&null===i?null===o&&(o=r):r.encode(n?i:r.verifyValue(i),t,e);if(null!==o){var l=Error("Missing at least one required field for "+this.toString(!0)+": "+o);throw l.encoded=t,l}return t},_.calculate=function(e){for(var t,n,r=0,i=0,o=this._fields.length;i<o;++i){if(n=e[(t=this._fields[i]).name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(n,e)}return r},_.decode=function(e,n,r){n="number"==typeof n?n:-1;for(var i,o,a,s,l=e.offset,c=new this.clazz;e.offset<l+n||-1===n&&e.remaining()>0;){if(a=(i=e.readVarint32())>>>3,(o=7&i)===t.WIRE_TYPES.ENDGROUP){if(a!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(r?r+" expected":"not a group")+")");break}if(s=this._fieldsById[a]){if(s.repeated&&!s.options.packed)c[s.name].push(s.decode(o,e));else if(s.map){var u=s.decode(o,e);c[s.name].set(u[0],u[1])}else if(c[s.name]=s.decode(o,e),s.oneof){var d=c[s.oneof.name];null!==d&&d!==s.name&&(c[d]=null),c[s.oneof.name]=s.name}}else switch(o){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:var _=e.readVarint32();e.offset+=_;break;case t.WIRE_TYPES.STARTGROUP:for(;p(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+o)}}for(var f=0,E=this._fields.length;f<E;++f)if(null===c[(s=this._fields[f]).name])if("proto3"===this.syntax)c[s.name]=s.defaultValue;else{if(s.required){var A=Error("Missing at least one required field for "+this.toString(!0)+": "+s.name);throw A.decoded=c,A}t.populateDefaults&&null!==s.defaultValue&&(c[s.name]=s.defaultValue)}return c},n.Message=d;var f=function(e,n,i,o,a,s,l,c,u,_){r.call(this,e,n,s),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.keyType=o||null,this.type=a,this.resolvedType=null,this.id=l,this.options=c||{},this.defaultValue=null,this.oneof=u||null,this.syntax=_||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof d.ExtensionField||(this.name=t.Util.toCamelCase(this.name))},E=f.prototype=Object.create(r.prototype);E.build=function(){this.element=new s(this.type,this.resolvedType,!1,this.syntax),this.map&&(this.keyElement=new s(this.keyType,void 0,!0,this.syntax)),"proto3"!==this.syntax||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=s.defaultFieldValue(this.type)},E.verifyValue=function(e,n){n=n||!1;var r,i=this;function o(e,t){throw Error("Illegal value for "+i.toString(!0)+" of type "+i.type.name+": "+e+" ("+t+")")}if(null===e)return this.required&&o(typeof e,"required"),"proto3"===this.syntax&&this.type!==t.TYPES.message&&o(typeof e,"proto3 field without field presence cannot be null"),null;if(this.repeated&&!n){Array.isArray(e)||(e=[e]);var a=[];for(r=0;r<e.length;r++)a.push(this.element.verifyValue(e[r]));return a}return this.map&&!n?e instanceof t.Map?e:(e instanceof Object||o(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&Array.isArray(e)&&o(typeof e,"no array expected"),this.element.verifyValue(e))},E.hasWirePresence=function(e,n){if("proto3"!==this.syntax)return null!==e;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return 0!==e;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return 0!==e.low||0!==e.high;case t.TYPES.bool:return e;case t.TYPES.float:case t.TYPES.double:return 0!==e;case t.TYPES.string:return e.length>0;case t.TYPES.bytes:return e.remaining()>0;case t.TYPES.enum:return 0!==e;case t.TYPES.message:return null!==e;default:return!0}},E.encode=function(n,r,i){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return r;try{var o;if(this.repeated)if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var a=r.offset;for(o=0;o<n.length;o++)this.element.encodeValue(this.id,n[o],r);var s=r.offset-a,l=e.calculateVarint32(s);if(l>1){var c=r.slice(a,r.offset);a+=l-1,r.offset=a,r.append(c)}r.writeVarint32(s,a-l)}else for(o=0;o<n.length;o++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n[o],r);else this.map?n.forEach((function(n,i,o){var a=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.writeVarint32(a),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,i,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,n,r)}),this):this.hasWirePresence(n,i)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n,r))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+e+")")}return r},E.calculate=function(n,r){if(n=this.verifyValue(n),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return 0;var i=0;try{var o,a;if(this.repeated)if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(i+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),a=0,o=0;o<n.length;o++)a+=this.element.calculateLength(this.id,n[o]);i+=e.calculateVarint32(a),i+=a}else for(o=0;o<n.length;o++)i+=e.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n[o]);else this.map?n.forEach((function(n,r,o){var a=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);i+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),i+=e.calculateVarint32(a),i+=a}),this):this.hasWirePresence(n,r)&&(i+=e.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+e+")")}return i},E.decode=function(e,n,r){var i,o;if(!(!this.map&&e==this.type.wireType||!r&&this.repeated&&this.options.packed&&e==t.WIRE_TYPES.LDELIM||this.map&&e==t.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){o=n.readVarint32(),o=n.offset+o;for(var a=[];n.offset<o;)a.push(this.decode(this.type.wireType,n,!0));return a}if(this.map){var l=s.defaultFieldValue(this.keyType);if(i=s.defaultFieldValue(this.type),o=n.readVarint32(),n.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+n.remaining());var c=n.clone();for(c.limit=c.offset+o,n.offset+=o;c.remaining()>0;){var u=c.readVarint32();e=7&u;var d=u>>>3;if(1===d)l=this.keyElement.decode(c,e,d);else{if(2!==d)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(c,e,d)}}return[l,i]}return this.element.decode(n,e,this.id)},n.Message.Field=f;var A=function(e,t,n,r,i,o,a){f.call(this,e,t,n,null,r,i,o,a),this.extension};A.prototype=Object.create(f.prototype),n.Message.ExtensionField=A;var g=function(e,t,n){r.call(this,e,t,n),this.fields=[]};n.Message.OneOf=g;var h=function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.className="Enum",this.object=null};h.getName=function(e,t){for(var n,r=Object.keys(e),i=0;i<r.length;++i)if(e[n=r[i]]===t)return n;return null},(h.prototype=Object.create(o.prototype)).build=function(e){if(this.object&&!e)return this.object;for(var n=new t.Builder.Enum,r=this.getChildren(h.Value),i=0,o=r.length;i<o;++i)n[r[i].name]=r[i].id;return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},n.Enum=h;var S=function(e,t,n,i){r.call(this,e,t,n),this.className="Enum.Value",this.id=i};S.prototype=Object.create(r.prototype),n.Enum.Value=S;var T=function(e,t,n,i){r.call(this,e,t,n),this.field=i};T.prototype=Object.create(r.prototype),n.Extension=T;var m=function(e,t,n,r){o.call(this,e,t,n,r),this.className="Service",this.clazz=null};(m.prototype=Object.create(o.prototype)).build=function(n){return this.clazz&&!n?this.clazz:this.clazz=function(t,n){for(var r=function(e){t.Builder.Service.call(this),this.rpcImpl=e||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},i=r.prototype=Object.create(t.Builder.Service.prototype),o=n.getChildren(t.Reflect.Service.RPCMethod),a=0;a<o.length;a++)!function(t){i[t.name]=function(r,i){try{try{r=t.resolvedRequestType.clazz.decode(e.wrap(r))}catch(e){if(!(e instanceof TypeError))throw e}if(null===r||"object"!=typeof r)throw Error("Illegal arguments");r instanceof t.resolvedRequestType.clazz||(r=new t.resolvedRequestType.clazz(r)),this.rpcImpl(t.fqn(),r,(function(e,r){if(e)i(e);else{null===r&&(r="");try{r=t.resolvedResponseType.clazz.decode(r)}catch(e){}r&&r instanceof t.resolvedResponseType.clazz?i(null,r):i(Error("Illegal response type received in service method "+n.name+"#"+t.name))}}))}catch(e){setTimeout(i.bind(this,e),0)}},r[t.name]=function(e,n,i){new r(e)[t.name](n,i)},Object.defineProperty&&(Object.defineProperty(r[t.name],"$options",{value:t.buildOpt()}),Object.defineProperty(i[t.name],"$options",{value:r[t.name].$options}))}(o[a]);return Object.defineProperty&&(Object.defineProperty(r,"$options",{value:n.buildOpt()}),Object.defineProperty(i,"$options",{value:r.$options}),Object.defineProperty(r,"$type",{value:n}),Object.defineProperty(i,"$type",{value:n})),r}(t,this)},n.Service=m;var I=function(e,t,n,i){r.call(this,e,t,n),this.className="Service.Method",this.options=i||{}};(I.prototype=Object.create(r.prototype)).buildOpt=a.buildOpt,n.Service.Method=I;var y=function(e,t,n,r,i,o,a,s){I.call(this,e,t,n,s),this.className="Service.RPCMethod",this.requestName=r,this.responseName=i,this.requestStream=o,this.responseStream=a,this.resolvedRequestType=null,this.resolvedResponseType=null};return y.prototype=Object.create(I.prototype),n.Service.RPCMethod=y,n}(i),i.Builder=function(e,t,r){"use strict";var i=function(e){this.ns=new r.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},o=i.prototype;function a(e){e.messages&&e.messages.forEach((function(t){t.syntax=e.syntax,a(t)})),e.enums&&e.enums.forEach((function(t){t.syntax=e.syntax}))}return i.isMessage=function(e){return"string"==typeof e.name&&(void 0===e.values&&void 0===e.rpc)},i.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&void 0!==e.id},i.isEnum=function(e){return"string"==typeof e.name&&!(void 0===e.values||!Array.isArray(e.values)||0===e.values.length)},i.isService=function(e){return!("string"!=typeof e.name||"object"!=typeof e.rpc||!e.rpc)},i.isExtend=function(e){return"string"==typeof e.ref},o.reset=function(){return this.ptr=this.ns,this},o.define=function(e){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach((function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new r.Namespace(this,this.ptr,e)),this.ptr=t}),this),this},o.create=function(t){if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];for(var n=[t];n.length>0;){if(t=n.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){var o=t.shift();if(i.isMessage(o)){var a=new r.Message(this,this.ptr,o.name,o.options,o.isGroup,o.syntax),s={};o.oneofs&&Object.keys(o.oneofs).forEach((function(e){a.addChild(s[e]=new r.Message.OneOf(this,a,e))}),this),o.fields&&o.fields.forEach((function(e){if(null!==a.getChild(0|e.id))throw Error("duplicate or invalid field id in "+a.name+": "+e.id);if(e.options&&"object"!=typeof e.options)throw Error("illegal field options in "+a.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=s[e.oneof]))throw Error("illegal oneof in "+a.name+"#"+e.name+": "+e.oneof);e=new r.Message.Field(this,a,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,o.syntax),t&&t.fields.push(e),a.addChild(e)}),this);var l=[];if(o.enums&&o.enums.forEach((function(e){l.push(e)})),o.messages&&o.messages.forEach((function(e){l.push(e)})),o.services&&o.services.forEach((function(e){l.push(e)})),o.extensions&&("number"==typeof o.extensions[0]?a.extensions=[o.extensions]:a.extensions=o.extensions),this.ptr.addChild(a),l.length>0){n.push(t),t=l,l=null,this.ptr=a,a=null;continue}l=null}else if(i.isEnum(o))a=new r.Enum(this,this.ptr,o.name,o.options,o.syntax),o.values.forEach((function(e){a.addChild(new r.Enum.Value(this,a,e.name,e.id))}),this),this.ptr.addChild(a);else if(i.isService(o))a=new r.Service(this,this.ptr,o.name,o.options),Object.keys(o.rpc).forEach((function(e){var t=o.rpc[e];a.addChild(new r.Service.RPCMethod(this,a,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))}),this),this.ptr.addChild(a);else{if(!i.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(a=this.ptr.resolve(o.ref,!0))o.fields.forEach((function(t){if(null!==a.getChild(0|t.id))throw Error("duplicate extended field id in "+a.name+": "+t.id);if(a.extensions){var n=!1;if(a.extensions.forEach((function(e){t.id>=e[0]&&t.id<=e[1]&&(n=!0)})),!n)throw Error("illegal extended field id in "+a.name+": "+t.id+" (not within valid ranges)")}var i=t.name;this.options.convertFieldsToCamelCase&&(i=e.Util.toCamelCase(i));var o=new r.Message.ExtensionField(this,a,t.rule,t.type,this.ptr.fqn()+"."+i,t.id,t.options),s=new r.Extension(this,this.ptr,t.name,o);o.extension=s,this.ptr.addChild(s),a.addChild(o)}),this);else if(!/\.?google\.protobuf\./.test(o.ref))throw Error("extended message "+o.ref+" is not defined")}o=null,a=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},o.import=function(t,r){var i="/";if("string"==typeof r){if(e.Util.IS_NODE&&(r=n(26470).resolve(r)),!0===this.files[r])return this.reset();this.files[r]=!0}else if("object"==typeof r){var o=r.root;e.Util.IS_NODE&&(o=n(26470).resolve(o)),(o.indexOf("\\")>=0||r.file.indexOf("\\")>=0)&&(i="\\");var s=o+i+r.file;if(!0===this.files[s])return this.reset();this.files[s]=!0}if(t.imports&&t.imports.length>0){var l,c=!1;"object"==typeof r?(this.importRoot=r.root,c=!0,l=this.importRoot,r=r.file,(l.indexOf("\\")>=0||r.indexOf("\\")>=0)&&(i="\\")):"string"==typeof r?this.importRoot?l=this.importRoot:r.indexOf("/")>=0?""===(l=r.replace(/\/[^\/]*$/,""))&&(l="/"):r.indexOf("\\")>=0?(l=r.replace(/\\[^\\]*$/,""),i="\\"):l=".":l=null;for(var u=0;u<t.imports.length;u++)if("string"==typeof t.imports[u]){if(!l)throw Error("cannot determine import root");var d=t.imports[u];if("google/protobuf/descriptor.proto"===d)continue;if(d=l+i+d,!0===this.files[d])continue;/\.proto$/i.test(d)&&!e.DotProto&&(d=d.replace(/\.proto$/,".json"));var _=e.Util.fetch(d);if(null===_)throw Error("failed to import '"+d+"' in '"+r+"': file not found");/\.json$/i.test(d)?this.import(JSON.parse(_+""),d):this.import(e.DotProto.Parser.parse(_),d)}else r?/\.(\w+)$/.test(r)?this.import(t.imports[u],r.replace(/^(.+)\.(\w+)$/,(function(e,t,n){return t+"_import"+u+"."+n}))):this.import(t.imports[u],r+"_import"+u):this.import(t.imports[u]);c&&(this.importRoot=null)}t.package&&this.define(t.package),t.syntax&&a(t);var p=this.ptr;return t.options&&Object.keys(t.options).forEach((function(e){p.options[e]=t.options[e]})),t.messages&&(this.create(t.messages),this.ptr=p),t.enums&&(this.create(t.enums),this.ptr=p),t.services&&(this.create(t.services),this.ptr=p),t.extends&&this.create(t.extends),this.reset()},o.resolveAll=function(){var n;if(null==this.ptr||"object"==typeof this.ptr.type)return this;if(this.ptr instanceof r.Namespace)this.ptr.children.forEach((function(e){this.ptr=e,this.resolveAll()}),this);else if(this.ptr instanceof r.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(n=(this.ptr instanceof r.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=n,n instanceof r.Enum){if(this.ptr.type=e.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==n.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(n instanceof r.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=n.isGroup?e.TYPES.group:e.TYPES.message}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!((n=this.ptr.parent.resolve(this.ptr.requestName,!0))&&n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=n,!((n=this.ptr.parent.resolve(this.ptr.responseName,!0))&&n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=n}else if(!(this.ptr instanceof e.Reflect.Message.OneOf||this.ptr instanceof e.Reflect.Extension||this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},o.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(var t="string"==typeof e?e.split("."):e,n=this.result,r=0;r<t.length;r++){if(!n[t[r]]){n=null;break}n=n[t[r]]}return n},o.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},o.toString=function(){return"Builder"},i.Message=function(){},i.Enum=function(){},i.Service=function(){},i}(i,i.Lang,i.Reflect),i.Map=function(e,t){"use strict";var n=function(e,n){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=this.keyElem.valueFromString(r[i]),a=this.valueElem.verifyValue(n[r[i]]);this.map[this.keyElem.valueToString(o)]={key:o,value:a}}},r=n.prototype;function i(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}return r.clear=function(){this.map={}},r.delete=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},r.entries=function(){for(var e,t=[],n=Object.keys(this.map),r=0;r<n.length;r++)t.push([(e=this.map[n[r]]).key,e.value]);return i(t)},r.keys=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].key);return i(e)},r.values=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].value);return i(e)},r.forEach=function(e,t){for(var n,r=Object.keys(this.map),i=0;i<r.length;i++)e.call(t,(n=this.map[r[i]]).value,n.key,this)},r.set=function(e,t){var n=this.keyElem.verifyValue(e),r=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:r},this},r.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));if(t in this.map)return this.map[t].value},r.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},n}(0,i.Reflect),i.loadProto=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=void 0),i.loadJson(i.DotProto.Parser.parse(e),t,n)},i.protoFromString=i.loadProto,i.loadProtoFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return i.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,(function(r){if(null!==r)try{t(null,i.loadProto(r,n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))}));var r=i.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:i.loadProto(r,n,e)},i.protoFromFile=i.loadProtoFile,i.newBuilder=function(e){return void 0===(e=e||{}).convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=i.convertFieldsToCamelCase),void 0===e.populateAccessors&&(e.populateAccessors=i.populateAccessors),new i.Builder(e)},i.loadJson=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=null),t&&"object"==typeof t||(t=i.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t.import(e,n),t.resolveAll(),t},i.loadJsonFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return i.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,(function(r){if(null!==r)try{t(null,i.loadJson(JSON.parse(r),n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))}));var r=i.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:i.loadJson(JSON.parse(r),n,e)},i}(e.dcodeIO.ByteBuffer)}(this||self),function(){"use strict";function e(e){if(void 0===e||!(e instanceof ArrayBuffer)||32!=e.byteLength)throw new Error("Invalid private key")}function t(e){if(void 0===e||(33!=e.byteLength||5!=new Uint8Array(e)[0])&&32!=e.byteLength)throw new Error("Invalid public key");return 33==e.byteLength?e.slice(1):(__LOG__(4)`libsignal: WARNING: Expected pubkey of length 33, please report the ST and client that generated the pubkey`,e)}function n(e){var t=new Uint8Array(e.pubKey),n=new Uint8Array(33);return n.set(t,1),n[0]=5,{pubKey:n.buffer,privKey:e.privKey}}function i(r){return{createKeyPair:function(t){e(t);var i=r.keyPair(t);return i instanceof Promise?i.then(n):n(i)},ECDHE:function(n,i){if(n=t(n),e(i),void 0===n||32!=n.byteLength)throw new Error("Invalid public key");return r.sharedSecret(n,i)},Ed25519Sign:function(t,n){if(e(t),void 0===n)throw new Error("Invalid message");return r.sign(t,n)},Ed25519Verify:function(e,n,i){if(void 0===(e=t(e))||32!=e.byteLength)throw new Error("Invalid public key");if(void 0===n)throw new Error("Invalid message");if(void 0===i||64!=i.byteLength)throw new Error("Invalid signature");return r.verify(e,n,i)}}}function o(e){return{generateKeyPair:function(){var t=r.crypto.getRandomBytes(32);return e.createKeyPair(t)},createKeyPair:function(t){return e.createKeyPair(t)},calculateAgreement:function(t,n){return e.ECDHE(t,n)},verifySignature:function(t,n,r){return e.Ed25519Verify(t,n,r)},calculateSignature:function(t,n){return e.Ed25519Sign(t,n)}}}r.Curve=i(r.curve25519),r.Curve.async=i(r.curve25519_async),libsignal.Curve=o(r.Curve),libsignal.Curve.async=o(r.Curve.async)}();r=r||{};!function(){"use strict";var e=self.crypto;if(!e||!e.subtle||"function"!=typeof e.getRandomValues)throw new Error("WebCrypto not found");r.crypto={getRandomBytes:function(t){var n=new Uint8Array(t);return e.getRandomValues(n),n.buffer},getRandomValues:function(t){return e.getRandomValues(t)},encrypt:function(t,n,r){return e.subtle.importKey("raw",t,{name:"AES-CBC"},!1,["encrypt"]).then((function(t){return e.subtle.encrypt({name:"AES-CBC",iv:new Uint8Array(r)},t,n)}))},decrypt:function(t,n,r){return e.subtle.importKey("raw",t,{name:"AES-CBC"},!1,["decrypt"]).then((function(t){return e.subtle.decrypt({name:"AES-CBC",iv:new Uint8Array(r)},t,n)}))},sign:function(t,n){return e.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]).then((function(t){return e.subtle.sign({name:"HMAC",hash:"SHA-256"},t,n)}))},hash:function(t){return e.subtle.digest({name:"SHA-512"},t)},HKDF:function(e,t,n){return r.crypto.sign(t,e).then((function(e){var t=new ArrayBuffer(n.byteLength+1+32),i=new Uint8Array(t);return i.set(new Uint8Array(n),32),i[i.length-1]=1,r.crypto.sign(e,t.slice(32)).then((function(n){return i.set(new Uint8Array(n)),i[i.length-1]=2,r.crypto.sign(e,t).then((function(o){return i.set(new Uint8Array(o)),i[i.length-1]=3,r.crypto.sign(e,t).then((function(e){return[n,o,e]}))}))}))}))},createKeyPair:function(e){return void 0===e&&(e=r.crypto.getRandomBytes(32)),r.Curve.async.createKeyPair(e)},ECDHE:function(e,t){return r.Curve.async.ECDHE(e,t)},Ed25519Sign:function(e,t){return r.Curve.async.Ed25519Sign(e,t)},Ed25519Verify:function(e,t,n){return r.Curve.async.Ed25519Verify(e,t,n)}},r.HKDF=function(e,t,n){if(32!=t.byteLength)throw new Error("Got salt of incorrect length");return r.crypto.HKDF(e,t,Ae.toArrayBuffer(n))},r.verifyMAC=function(e,t,n,i){return r.crypto.sign(t,e).then((function(e){if(n.byteLength!=i||e.byteLength<i)throw new Error("Bad MAC length");for(var t=new Uint8Array(e),r=new Uint8Array(n),o=0,a=0;a<n.byteLength;++a)o|=t[a]^r[a];if(0!==o)throw new Error("Bad MAC")}))},libsignal.HKDF={deriveSecrets:function(e,t,n){return r.HKDF(e,t,n)}},libsignal.crypto={encrypt:function(e,t,n){return r.crypto.encrypt(e,t,n)},decrypt:function(e,t,n){return r.crypto.decrypt(e,t,n)},calculateMAC:function(e,t){return r.crypto.sign(e,t)},verifyMAC:function(e,t,n,i){return r.verifyMAC(e,t,n,i)},getRandomBytes:function(e){return r.crypto.getRandomBytes(e)}}}();var Ae=function(){"use strict";var e=(new ArrayBuffer).__proto__;return{toString:function(e){return"string"==typeof e?e:new dcodeIO.ByteBuffer.wrap(e).toString("binary")},toArrayBuffer:function(t){if(void 0!==t){if(t===Object(t)&&t.__proto__==e)return t;if("string"!=typeof t)throw new Error("Tried to convert a non-string of type "+typeof t+" to an array buffer");return t,new dcodeIO.ByteBuffer.wrap(t,"binary").toArrayBuffer()}},isEqual:function(e,t){if(void 0===e||void 0===t)return!1;e=Ae.toString(e),t=Ae.toString(t);var n=Math.max(e.length,t.length);if(n<5)throw new Error("a/b compare too short");return e.substring(0,Math.min(n,e.length))==t.substring(0,Math.min(n,t.length))}}}();function ge(e){return"number"==typeof e&&e%1==0&&e>=0}var he={generateIdentityKeyPair:function(){return r.crypto.createKeyPair()},generateSenderKey:()=>r.crypto.getRandomBytes(32),generateSenderKeyId(){const e=r.crypto.getRandomValues(new Int32Array(1))[0];return e>=0?e:1+~e},generateRegistrationId:function(){return 16383&new Uint16Array(r.crypto.getRandomBytes(2))[0]},generateSignedPreKey:function(e,t){if(!(e.privKey instanceof ArrayBuffer&&32==e.privKey.byteLength&&e.pubKey instanceof ArrayBuffer&&33==e.pubKey.byteLength))throw new TypeError("Invalid argument for identityKeyPair");if(!ge(t))throw new TypeError("Invalid argument for signedKeyId: "+t);return r.crypto.createKeyPair().then((function(n){return r.crypto.Ed25519Sign(e.privKey,n.pubKey).then((function(e){return{keyId:t,keyPair:n,signature:e}}))}))},generatePreKey:function(e){if(!ge(e))throw new TypeError("Invalid argument for keyId: "+e);return r.crypto.createKeyPair().then((function(t){return{keyId:e,keyPair:t}}))}};function Se(e,t){this.name=e,this.deviceId=t}function Te(e,t){this.remoteAddress=t,this.storage=e}function me(e,t){this.remoteAddress=t,this.storage=e}function Ie(e,t,n){this.remoteAddress=t,this.groupId=n,this.storage=e}function ye(e,t,n){this.remoteAddress=n,this.groupId=t,this.storage=e}function Ce(e,t){this.remoteAddress=t,this.storage=e}libsignal.KeyHelper=he,(r=r||{}).protoText={"protos/WhisperTextProtocol.proto":'package textsecure;\noption java_package = "org.whispersystems.libsignal.protocol";\noption java_outer_classname = "WhisperProtos";\nmessage WhisperMessage {\n  optional bytes  ephemeralKey    = 1;\n  optional uint32 counter         = 2;\n  optional uint32 previousCounter = 3;\n  optional bytes  ciphertext      = 4; // PushMessageContent\n}\nmessage PreKeyWhisperMessage {\n  optional uint32 registrationId = 5;\n  optional uint32 preKeyId       = 1;\n  optional uint32 signedPreKeyId = 6;\n  optional bytes  baseKey        = 2;\n  optional bytes  identityKey    = 3;\n  optional bytes  message        = 4; // WhisperMessage\n}\nmessage KeyExchangeMessage {\n  optional uint32 id               = 1;\n  optional bytes  baseKey          = 2;\n  optional bytes  ephemeralKey     = 3;\n  optional bytes  identityKey      = 4;\n  optional bytes  baseKeySignature = 5;\n}\n// https://github.com/signalapp/libsignal-protocol-java/blob/master/protobuf/WhisperTextProtocol.proto#L30\nmessage SenderKeyMessage {\n  optional uint32 id         = 1;\n  optional uint32 iteration  = 2;\n  optional bytes  ciphertext = 3;\n}\n// https://github.com/signalapp/libsignal-protocol-java/blob/master/protobuf/WhisperTextProtocol.proto#L36\nmessage SenderKeyDistributionMessage {\n  optional uint32 id         = 1;\n  optional uint32 iteration  = 2;\n  optional bytes  chainKey   = 3;\n  optional bytes  signingKey = 4;\n}\n'},(r=r||{}).protobuf=function(){"use strict";var e,t=(e="WhisperTextProtocol.proto",dcodeIO.ProtoBuf.loadProto(r.protoText["protos/"+e]).build("textsecure"));return{WhisperMessage:t.WhisperMessage,PreKeyWhisperMessage:t.PreKeyWhisperMessage,SenderKeyMessage:t.SenderKeyMessage,SenderKeyDistributionMessage:t.SenderKeyDistributionMessage}}(),libsignal.Protobuf={PreKeyWhisperMessage:r.protobuf.PreKeyWhisperMessage},(r=r||{}).BaseKeyType={OURS:1,THEIRS:2},r.ChainType={SENDING:1,RECEIVING:2},r.SessionRecord=function(){"use strict";var e=[{version:"v1",migrate:function(e){var t,n=e.sessions;if(e.registrationId)for(t in n)n[t].registrationId||(n[t].registrationId=e.registrationId);else for(t in n)-1===n[t].indexInfo.closed&&__LOG__(2)`libsignal: V1 session storage migration error: registrationId`}}];var t=function(){this.sessions={},this.version="v1"};return t.initRecordFromData=function(n){"v1"!==n.version&&function(t){for(var n=void 0===t.version,r=0;r<e.length;++r)n?e[r].migrate(t):e[r].version===t.version&&(n=!0);if(!n)throw new Error("Error migrating SessionRecord")}(n);var r=new t;if(r.sessions=n.sessions,void 0===r.sessions||null===r.sessions||"object"!=typeof r.sessions||Array.isArray(r.sessions))throw new Error("Error deserializing SessionRecord");return r},t.prototype={prepareRecord:function(){return{sessions:this.sessions,version:this.version}},haveOpenSession:function(){var e=this.getOpenSession();return!!e&&"number"==typeof e.registrationId},getSessionByBaseKey:function(e){var t=this.sessions[Ae.toString(e)];if(!t||t.indexInfo.baseKeyType!==r.BaseKeyType.OURS)return t;__LOG__(2)`libsignal: Tried to lookup a session using our basekey`},getSessionByRemoteEphemeralKey:function(e){this.detectDuplicateOpenSessions();var t,n=this.sessions,r=Ae.toString(e);for(var i in n)if(-1==n[i].indexInfo.closed&&(t=n[i]),void 0!==n[i][r])return n[i];if(void 0!==t)return t},getOpenSession:function(){var e=this.sessions;if(void 0!==e)for(var t in this.detectDuplicateOpenSessions(),e)if(-1==e[t].indexInfo.closed)return e[t]},detectDuplicateOpenSessions:function(){var e,t=this.sessions;for(var n in t)if(-1==t[n].indexInfo.closed){if(void 0!==e)throw new Error("Datastore inconsistensy: multiple open sessions");e=t[n]}},updateSessionState:function(e){var t=this.sessions;this.removeOldChains(e),t[Ae.toString(e.indexInfo.baseKey)]=e,this.removeOldSessions()},getSessions:function(){var e,t=[];for(var n in this.sessions)-1===this.sessions[n].indexInfo.closed?e=this.sessions[n]:t.push(this.sessions[n]);return t=t.sort((function(e,t){return e.indexInfo.closed-t.indexInfo.closed})),e&&t.push(e),t},archiveCurrentState:function(){var e=this.getOpenSession();void 0!==e&&(__LOG__(2)`libsignal: closing session`,e.indexInfo.closed=Date.now(),this.updateSessionState(e))},promoteState:function(e){__LOG__(2)`libsignal: promoting session`,e.indexInfo.closed=-1},removeOldChains:function(e){for(;e.oldRatchetList.length>10;){for(var t=0,n=e.oldRatchetList[0],r=0;r<e.oldRatchetList.length;r++)e.oldRatchetList[r].added<n.added&&(n=e.oldRatchetList[r],t=r);__LOG__(2)`libsignal: Deleting chain closed`,delete e[Ae.toString(n.ephemeralKey)],e.oldRatchetList.splice(t,1)}},removeOldSessions:function(){for(var e,t,n=this.sessions;Object.keys(n).length>40;){for(var r in n){var i=n[r];i.indexInfo.closed>-1&&(!t||i.indexInfo.closed<t.indexInfo.closed)&&(e=r,t=i)}__LOG__(2)`libsignal: Deleting session closed at`,delete n[Ae.toString(e)]}},deleteAllSessions:function(){this.sessions={}}},t}(),Se.prototype={getName:function(){return this.name},getDeviceId:function(){return this.deviceId},toString:function(){return this.name+"."+this.deviceId},equals:function(e){return e instanceof Se&&(e.name===this.name&&e.deviceId===this.deviceId)}},libsignal.SignalProtocolAddress=function(e,t){var n=new Se(e,t);["getName","getDeviceId","toString","equals"].forEach(function(e){this[e]=n[e].bind(n)}.bind(this))},libsignal.SignalProtocolAddress.fromString=function(e){if("string"!=typeof e||!e.match(/.*\.\d+/))throw new Error("Invalid SignalProtocolAddress string");var t=e.split(".");return new libsignal.SignalProtocolAddress(t[0],parseInt(t[1]))},Te.prototype={processPreKey:function(e){return r.SessionLock.queueJobForNumber(this.remoteAddress.toString(),function(){return this.storage.isTrustedIdentity(this.remoteAddress.toString(),e.identityKey,this.storage.Direction.SENDING).then((function(t){if(!t)throw new Error("Identity key changed");return r.crypto.Ed25519Verify(e.identityKey,e.signedPreKey.publicKey,e.signedPreKey.signature)})).then((function(){return r.crypto.createKeyPair()})).then(function(t){var n;return e.preKey&&(n=e.preKey.publicKey),this.initSession(!0,t,void 0,e.identityKey,n,e.signedPreKey.publicKey,e.registrationId).then((function(n){return n.pendingPreKey={signedKeyId:e.signedPreKey.keyId,baseKey:t.pubKey},e.preKey&&(n.pendingPreKey.preKeyId=e.preKey.keyId),n}))}.bind(this)).then(function(e){var t=this.remoteAddress.toString();return this.storage.loadSession(t).then(function(n){var i;return(i=void 0!==n?r.SessionRecord.initRecordFromData(n):new r.SessionRecord).archiveCurrentState(),i.updateSessionState(e),Promise.all([this.storage.storeSession(t,i.prepareRecord()),this.storage.saveIdentity(this.remoteAddress.toString(),e.indexInfo.remoteIdentityKey)])}.bind(this))}.bind(this))}.bind(this))},processV3:function(e,t){var n,r,i;return this.storage.isTrustedIdentity(this.remoteAddress.toString(),t.identityKey.toArrayBuffer(),this.storage.Direction.RECEIVING).then(function(e){if(!e){var i=new Error("Unknown identity key");throw i.identityKey=t.identityKey.toArrayBuffer(),i}return Promise.all([this.storage.loadPreKey(t.preKeyId),this.storage.loadSignedPreKey(t.signedPreKeyId)]).then((function(e){n=e[0],r=e[1]}))}.bind(this)).then(function(){if(!(i=e.getSessionByBaseKey(t.baseKey))){if(i=e.getOpenSession(),void 0===r){if(void 0!==i&&void 0!==i.currentRatchet)return;throw new Error("Missing Signed PreKey for PreKeyWhisperMessage")}return void 0!==i&&e.archiveCurrentState(),t.preKeyId&&!n&&__LOG__(2)`libsignal: Invalid prekey id`,this.initSession(!1,n,r,t.identityKey.toArrayBuffer(),t.baseKey.toArrayBuffer(),void 0,t.registrationId).then(function(n){return i&&n&&!Ae.isEqual(i.indexInfo.remoteIdentityKey,n.indexInfo.remoteIdentityKey)&&(__LOG__(2)`libsignal: deleting all sessions because identity has changed`,e.deleteAllSessions()),e.updateSessionState(n),this.storage.saveIdentity(this.remoteAddress.toString(),t.identityKey.toArrayBuffer()).then((function(){return t.preKeyId}))}.bind(this))}}.bind(this))},initSession:function(e,t,n,i,o,a,s){return this.storage.getIdentityKeyPair().then(function(l){if(e){if(void 0!==n)throw new Error("Invalid call to initSession");n=t}else{if(void 0!==a)throw new Error("Invalid call to initSession");a=o}var c;c=void 0===t||void 0===o?new Uint8Array(128):new Uint8Array(160);for(var u=0;u<32;u++)c[u]=255;return Promise.all([r.crypto.ECDHE(a,l.privKey),r.crypto.ECDHE(i,n.privKey),r.crypto.ECDHE(a,n.privKey)]).then((function(n){if(e?(c.set(new Uint8Array(n[0]),32),c.set(new Uint8Array(n[1]),64)):(c.set(new Uint8Array(n[0]),64),c.set(new Uint8Array(n[1]),32)),c.set(new Uint8Array(n[2]),96),void 0!==t&&void 0!==o)return r.crypto.ECDHE(o,t.privKey).then((function(e){c.set(new Uint8Array(e),128)}))})).then((function(){return r.HKDF(c.buffer,new ArrayBuffer(32),"WhisperText")})).then(function(l){var c={registrationId:s,currentRatchet:{rootKey:l[0],lastRemoteEphemeralKey:a,previousCounter:0},indexInfo:{remoteIdentityKey:i,closed:-1},oldRatchetList:[]};return e?(c.indexInfo.baseKey=t.pubKey,c.indexInfo.baseKeyType=r.BaseKeyType.OURS,r.crypto.createKeyPair().then(function(e){return c.currentRatchet.ephemeralKeyPair=e,this.calculateSendingRatchet(c,a).then((function(){return c}))}.bind(this))):(c.indexInfo.baseKey=o,c.indexInfo.baseKeyType=r.BaseKeyType.THEIRS,c.currentRatchet.ephemeralKeyPair=n,c)}.bind(this))}.bind(this))},calculateSendingRatchet:function(e,t){var n=e.currentRatchet;return r.crypto.ECDHE(t,Ae.toArrayBuffer(n.ephemeralKeyPair.privKey)).then((function(e){return r.HKDF(e,Ae.toArrayBuffer(n.rootKey),"WhisperRatchet")})).then((function(t){e[Ae.toString(n.ephemeralKeyPair.pubKey)]={messageKeys:{},chainKey:{counter:-1,key:t[1]},chainType:r.ChainType.SENDING},n.rootKey=t[0]}))}},libsignal.SessionBuilder=function(e,t){var n=new Te(e,t);this.processPreKey=n.processPreKey.bind(n),this.processV3=n.processV3.bind(n)},me.prototype={getRecord:function(e){return this.storage.loadSession(e).then((function(e){if(void 0!==e)return r.SessionRecord.initRecordFromData(e)}))},encrypt:function(e,t){return e=dcodeIO.ByteBuffer.wrap(e,t).toArrayBuffer(),r.SessionLock.queueJobForNumber(this.remoteAddress.toString(),function(){if(!(e instanceof ArrayBuffer))throw new Error("Expected buffer to be an ArrayBuffer");var t,n,i,o,a,s=this.remoteAddress.toString(),l=new r.protobuf.WhisperMessage;return Promise.all([this.storage.getIdentityKeyPair(),this.storage.getLocalRegistrationId(),this.getRecord(s)]).then(function(e){if(t=e[0],n=e[1],!(i=e[2]))throw new Error("No record for "+s);if(!(o=i.getOpenSession()))throw new Error("No session to encrypt message for "+s);if(l.ephemeralKey=Ae.toArrayBuffer(o.currentRatchet.ephemeralKeyPair.pubKey),(a=o[Ae.toString(l.ephemeralKey)]).chainType===r.ChainType.RECEIVING)throw new Error("Tried to encrypt on a receiving chain");return this.fillMessageKeys(a,a.chainKey.counter+1)}.bind(this)).then((function(){return r.HKDF(Ae.toArrayBuffer(a.messageKeys[a.chainKey.counter]),new ArrayBuffer(32),"WhisperMessageKeys")})).then(function(n){return delete a.messageKeys[a.chainKey.counter],l.counter=a.chainKey.counter,l.previousCounter=o.currentRatchet.previousCounter,r.crypto.encrypt(n[0],e,n[2].slice(0,16)).then(function(e){l.ciphertext=e;var a=l.toArrayBuffer(),c=new Uint8Array(a.byteLength+66+1);return c.set(new Uint8Array(Ae.toArrayBuffer(t.pubKey))),c.set(new Uint8Array(Ae.toArrayBuffer(o.indexInfo.remoteIdentityKey)),33),c[66]=51,c.set(new Uint8Array(a),67),r.crypto.sign(n[1],c.buffer).then(function(e){var t=new Uint8Array(a.byteLength+9);return t[0]=51,t.set(new Uint8Array(a),1),t.set(new Uint8Array(e,0,8),a.byteLength+1),this.storage.isTrustedIdentity(this.remoteAddress.toString(),Ae.toArrayBuffer(o.indexInfo.remoteIdentityKey),this.storage.Direction.SENDING).then((function(e){if(!e)throw new Error("Identity key changed")})).then(function(){return this.storage.saveIdentity(this.remoteAddress.toString(),o.indexInfo.remoteIdentityKey)}.bind(this)).then(function(){return i.updateSessionState(o),this.storage.storeSession(s,i.prepareRecord()).then((function(){return t}))}.bind(this))}.bind(this))}.bind(this))}.bind(this)).then((function(e){if(void 0!==o.pendingPreKey){var i=new r.protobuf.PreKeyWhisperMessage;return i.identityKey=Ae.toArrayBuffer(t.pubKey),i.registrationId=n,i.baseKey=Ae.toArrayBuffer(o.pendingPreKey.baseKey),o.pendingPreKey.preKeyId&&(i.preKeyId=o.pendingPreKey.preKeyId),i.signedPreKeyId=o.pendingPreKey.signedKeyId,i.message=e,{type:3,body:String.fromCharCode(51)+Ae.toString(i.encode()),registrationId:o.registrationId}}return{type:1,body:Ae.toString(e),registrationId:o.registrationId}}))}.bind(this))},decryptWithSessionList:function(e,t,n){if(0===t.length)return Promise.reject(n[0]);var r=t.pop();return this.doDecryptWhisperMessage(e,r).then((function(e){return{plaintext:e,session:r}})).catch(function(r){return"MessageCounterError"===r.name?Promise.reject(r):(n.push(r),this.decryptWithSessionList(e,t,n))}.bind(this))},decryptWhisperMessage:function(e,t){return e=dcodeIO.ByteBuffer.wrap(e,t).toArrayBuffer(),r.SessionLock.queueJobForNumber(this.remoteAddress.toString(),function(){var t=this.remoteAddress.toString();return this.getRecord(t).then(function(n){if(!n)throw new Error("No record for device "+t);return this.decryptWithSessionList(e,n.getSessions(),[]).then(function(e){return this.getRecord(t).then(function(n){return e.session.indexInfo.baseKey!==n.getOpenSession().indexInfo.baseKey&&(n.archiveCurrentState(),n.promoteState(e.session)),this.storage.isTrustedIdentity(this.remoteAddress.getName(),Ae.toArrayBuffer(e.session.indexInfo.remoteIdentityKey),this.storage.Direction.RECEIVING).then((function(e){if(!e)throw new Error("Identity key changed")})).then(function(){return this.storage.saveIdentity(this.remoteAddress.toString(),e.session.indexInfo.remoteIdentityKey)}.bind(this)).then(function(){return n.updateSessionState(e.session),this.storage.storeSession(t,n.prepareRecord()).then((function(){return e.plaintext}))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))},decryptPreKeyWhisperMessage:function(e,t){var n=(e=dcodeIO.ByteBuffer.wrap(e,t)).readUint8();if((15&n)>3||n>>4<3)throw new Error("Incompatible version number on PreKeyWhisperMessage");return r.SessionLock.queueJobForNumber(this.remoteAddress.toString(),function(){var t=this.remoteAddress.toString();return this.getRecord(t).then(function(n){var i=r.protobuf.PreKeyWhisperMessage.decode(e);if(!n){if(void 0===i.registrationId)throw new Error("No registrationId");n=new r.SessionRecord(i.registrationId)}return new Te(this.storage,this.remoteAddress).processV3(n,i).then(function(e){var r=n.getSessionByBaseKey(i.baseKey);return this.doDecryptWhisperMessage(i.message.toArrayBuffer(),r).then(function(e){n.updateSessionState(r);var i=n.getOpenSession();return r&&i&&!Ae.isEqual(r.indexInfo.remoteIdentityKey,i.indexInfo.remoteIdentityKey)?(__LOG__(2)`libsignal: promote the old session and update identity`,n.archiveCurrentState(),n.promoteState(r),this.storage.saveIdentity(t,r.indexInfo.remoteIdentityKey).then((function(){return e}))):e}.bind(this)).then(function(r){return this.storage.storeSession(t,n.prepareRecord()).then(function(){if(null!=e)return this.storage.removePreKey(e)}.bind(this)).then((function(){return r}))}.bind(this))}.bind(this))}.bind(this))}.bind(this))},doDecryptWhisperMessage:function(e,t){if(!(e instanceof ArrayBuffer))throw new Error("Expected messageBytes to be an ArrayBuffer");var n=new Uint8Array(e)[0];if((15&n)>3||n>>4<3)throw new Error("Incompatible version number on WhisperMessage");var i=e.slice(1,e.byteLength-8),o=e.slice(e.byteLength-8,e.byteLength),a=r.protobuf.WhisperMessage.decode(i),s=a.ephemeralKey.toArrayBuffer();return void 0===t?Promise.reject(new Error("No session found to decrypt message from "+this.remoteAddress.toString())):(-1!=t.indexInfo.closed&&__LOG__(2)`libsignal: decrypting message for closed session`,this.maybeStepRatchet(t,s,a.previousCounter).then(function(){var e=t[Ae.toString(a.ephemeralKey)];if(e.chainType===r.ChainType.SENDING)throw new Error("Tried to decrypt on a sending chain");return this.fillMessageKeys(e,a.counter).then((function(){var t=e.messageKeys[a.counter];if(void 0===t){var n=new Error("Message key not found. The counter was repeated or the key was not filled.");throw n.name="MessageCounterError",n}return delete e.messageKeys[a.counter],r.HKDF(Ae.toArrayBuffer(t),new ArrayBuffer(32),"WhisperMessageKeys")}))}.bind(this)).then(function(e){return this.storage.getIdentityKeyPair().then(function(n){var a=new Uint8Array(i.byteLength+66+1);return a.set(new Uint8Array(Ae.toArrayBuffer(t.indexInfo.remoteIdentityKey))),a.set(new Uint8Array(Ae.toArrayBuffer(n.pubKey)),33),a[66]=51,a.set(new Uint8Array(i),67),r.verifyMAC(a.buffer,e[1],o,8)}.bind(this)).then((function(){return r.crypto.decrypt(e[0],a.ciphertext.toArrayBuffer(),e[2].slice(0,16))}))}.bind(this)).then((function(e){return delete t.pendingPreKey,e})))},fillMessageKeys:function(e,t){if(e.chainKey.counter>=t)return Promise.resolve();if(t-e.chainKey.counter>2e3)throw new Error("Over 2000 messages into the future!");if(void 0===e.chainKey.key)throw new Error("Got invalid request to extend chain after it was already closed");var n=Ae.toArrayBuffer(e.chainKey.key),i=new Uint8Array(1);return i[0]=1,r.crypto.sign(n,i.buffer).then(function(o){return i[0]=2,r.crypto.sign(n,i.buffer).then(function(n){return e.messageKeys[e.chainKey.counter+1]=o,e.chainKey.key=n,e.chainKey.counter+=1,this.fillMessageKeys(e,t)}.bind(this))}.bind(this))},maybeStepRatchet:function(e,t,n){if(void 0!==e[Ae.toString(t)])return Promise.resolve();__LOG__(2)`libsignal: New remote ephemeral key`;var i=e.currentRatchet;return Promise.resolve().then(function(){var t=e[Ae.toString(i.lastRemoteEphemeralKey)];if(void 0!==t)return this.fillMessageKeys(t,n).then((function(){delete t.chainKey.key,e.oldRatchetList[e.oldRatchetList.length]={added:Date.now(),ephemeralKey:i.lastRemoteEphemeralKey}}))}.bind(this)).then(function(){return this.calculateRatchet(e,t,!1).then(function(){var n=Ae.toString(i.ephemeralKeyPair.pubKey);return void 0!==e[n]&&(i.previousCounter=e[n].chainKey.counter,delete e[n]),r.crypto.createKeyPair().then(function(n){return i.ephemeralKeyPair=n,this.calculateRatchet(e,t,!0).then(function(){i.lastRemoteEphemeralKey=t}.bind(this))}.bind(this))}.bind(this))}.bind(this))},calculateRatchet:function(e,t,n){var i=e.currentRatchet;return r.crypto.ECDHE(t,Ae.toArrayBuffer(i.ephemeralKeyPair.privKey)).then((function(o){return r.HKDF(o,Ae.toArrayBuffer(i.rootKey),"WhisperRatchet").then((function(o){var a;a=n?i.ephemeralKeyPair.pubKey:t,e[Ae.toString(a)]={messageKeys:{},chainKey:{counter:-1,key:o[1]},chainType:n?r.ChainType.SENDING:r.ChainType.RECEIVING},i.rootKey=o[0]}))}))},getRemoteRegistrationId:function(){return r.SessionLock.queueJobForNumber(this.remoteAddress.toString(),function(){return this.getRecord(this.remoteAddress.toString()).then((function(e){if(void 0!==e){var t=e.getOpenSession();return void 0===t?null:t.registrationId}}))}.bind(this))},hasOpenSession:function(){return r.SessionLock.queueJobForNumber(this.remoteAddress.toString(),function(){return this.getRecord(this.remoteAddress.toString()).then((function(e){return void 0!==e&&e.haveOpenSession()}))}.bind(this))},closeOpenSessionForDevice:function(){var e=this.remoteAddress.toString();return r.SessionLock.queueJobForNumber(e,function(){return this.getRecord(e).then(function(t){if(void 0!==t&&void 0!==t.getOpenSession())return t.archiveCurrentState(),this.storage.storeSession(e,t.prepareRecord())}.bind(this))}.bind(this))},deleteAllSessionsForDevice:function(){var e=this.remoteAddress.toString();return r.SessionLock.queueJobForNumber(e,function(){return this.getRecord(e).then(function(t){if(void 0!==t)return t.deleteAllSessions(),this.storage.storeSession(e,t.prepareRecord())}.bind(this))}.bind(this))}},libsignal.SessionCipher=function(e,t){var n=new me(e,t);this.encrypt=n.encrypt.bind(n),this.decryptPreKeyWhisperMessage=n.decryptPreKeyWhisperMessage.bind(n),this.decryptWhisperMessage=n.decryptWhisperMessage.bind(n),this.getRemoteRegistrationId=n.getRemoteRegistrationId.bind(n),this.hasOpenSession=n.hasOpenSession.bind(n),this.closeOpenSessionForDevice=n.closeOpenSessionForDevice.bind(n),this.deleteAllSessionsForDevice=n.deleteAllSessionsForDevice.bind(n)},function(){"use strict";r.SessionLock={};var e={};r.SessionLock.queueJobForNumber=function(t,n){var r=e[t]||Promise.resolve(),i=e[t]=r.then(n,n),o=function(){e[t]===i&&delete e[t]};return i.then(o,o),i}}(),function(){function e(t,n,i){return t=dcodeIO.ByteBuffer.concat([t,n]).toArrayBuffer(),r.crypto.hash(t).then((function(t){return 0==--i?t:e(t,n,i)}))}function t(e,t){for(var n=((e[t]*Math.pow(2,32)+e[t+1]*Math.pow(2,24)+e[t+2]*Math.pow(2,16)+e[t+3]*Math.pow(2,8)+e[t+4])%1e5).toString();n.length<5;)n="0"+n;return n}function n(n,r,i){var o;return e(dcodeIO.ByteBuffer.concat([(o=0,new Uint16Array([o]).buffer),r,n]).toArrayBuffer(),r,i).then((function(e){return t(e=new Uint8Array(e),0)+t(e,5)+t(e,10)+t(e,15)+t(e,20)+t(e,25)}))}libsignal.FingerprintGenerator=function(e){this.iterations=e},libsignal.FingerprintGenerator.prototype={createFor:function(e,t,r,i){if(!("string"==typeof e&&"string"==typeof r&&t instanceof ArrayBuffer&&i instanceof ArrayBuffer))throw new Error("Invalid arguments");return Promise.all([n(e,t,this.iterations),n(r,i,this.iterations)]).then((function(e){return e.sort().join("")}))}}}(),(r=r||{}).SenderKeyRecord=function(){"use strict";var e=function(){this.sessions=[],this.version="v1"};return e.initRecordFromData=function(t){"v1"!==t.version&&function(e){throw new Error("Error migrating GroupSessionRecord")}();var n=new e;return n.sessions=t.sessions,n},e.prototype={prepareRecord:function(){return{sessions:this.sessions,version:this.version}},makeSenderKeyRecord:function(e,t,n,r){return{keyId:e,signatureKey:r,chainKey:{counter:t,key:n},messageKeys:[]}},addSenderKeyState:function(e,t,n,r){this.sessions.push(this.makeSenderKeyRecord(e,t,n,r)),this.sessions.length>5&&(this.sessions=this.sessions.slice(1))},getSenderKeyDistMsgData:function(){var e=this.sessions[this.sessions.length-1];return{id:e.keyId,iteration:e.chainKey.counter,chainKey:e.chainKey.key,signingKey:e.signatureKey.pubKey}},getSession:function(e){for(var t=0;t<this.sessions.length;t++)if(this.sessions[t].keyId===e)return this.sessions[t]},getOpenSession:function(){return this.sessions[this.sessions.length-1]},deleteAllSessions:function(){this.sessions={}}},e}(),Ie.prototype={process:function(e,t,n){return t.addSenderKeyState(n.id,n.iteration,dcodeIO.ByteBuffer.wrap(n.chainKey).toArrayBuffer(),dcodeIO.ByteBuffer.wrap(n.signingKey).toArrayBuffer()),this.storage.storeSenderKey(e,t.prepareRecord())},create:function(e){var t=`${this.groupId}::${this.remoteAddress.toString()}`;0==e.sessions.length&&e.addSenderKeyState(libsignal.KeyHelper.generateSenderKeyId(),0,libsignal.KeyHelper.generateSenderKey(),libsignal.Curve.generateKeyPair());var n=e.getSenderKeyDistMsgData(),i=new r.protobuf.SenderKeyDistributionMessage;i.id=n.id,i.iteration=n.iteration,i.chainKey=Ae.toArrayBuffer(n.chainKey),i.signingKey=Ae.toArrayBuffer(n.signingKey);var o=i.encodeAB(),a=new Uint8Array(o.byteLength+1);return a[0]=51,a.set(new Uint8Array(o),1),this.storage.storeSenderKey(t,e.prepareRecord()).then((function(){return a}))}},libsignal.GroupSessionBuilder=function(e,t,n){var r=new Ie(e,t,n);this.process=r.process.bind(r)},function(){"use strict";r.GroupSessionLock={};var e={};r.GroupSessionLock.queueJobForNumber=function(t,n){var r=e[t]||Promise.resolve(),i=e[t]=r.then(n,n),o=function(){e[t]===i&&delete e[t]};return i.then(o,o),i}}(),ye.prototype={getRecord:function(){return this.storage.loadSenderKey(this.getSenderKeyName()).then((function(e){if(void 0!==e)return r.SenderKeyRecord.initRecordFromData(e)}))},hkdkOutputToSymmetricMaterial(e,t){var n=new Uint8Array(32);return n.set(new Uint8Array(e.slice(16))),n.set(new Uint8Array(t.slice(0,16)),16),{key:n.buffer,iv:e.slice(0,16)}},getSenderKeyName:function(){return`${this.groupId}::${this.remoteAddress.toString()}`},encrypt:function(e){return e=dcodeIO.ByteBuffer.wrap(e).toArrayBuffer(),r.GroupSessionLock.queueJobForNumber(this.getSenderKeyName(),function(){return this.getRecord().then(function(t){if(void 0===t)throw new Error("No session senderKeyRecord");var n=t.getOpenSession();if(!n)throw new Error("No session to encrypt message for "+address);var i=new r.protobuf.SenderKeyMessage,o=0===n.chainKey.counter?0:n.chainKey.counter+1;return this.fillMessageKeys(n,o).then(function(){var e=n.messageKeys[o];return i.id=n.keyId,i.iteration=o,delete n.messageKeys[o],r.HKDF(Ae.toArrayBuffer(e),new ArrayBuffer(32),"WhisperGroup")}.bind(this)).then(function(o){var a=this.hkdkOutputToSymmetricMaterial(o[0],o[1]);return r.crypto.encrypt(a.key,e,a.iv).then(function(e){i.ciphertext=e;var o=i.toArrayBuffer(),a=new Uint8Array(o.byteLength+1);a[0]=51,a.set(new Uint8Array(o),1);var s=Ae.toArrayBuffer(n.signatureKey.privKey);return r.crypto.Ed25519Sign(s,a.buffer).then(function(e){var n=new Uint8Array(o.byteLength+65);return n[0]=51,n.set(new Uint8Array(o),1),n.set(new Uint8Array(e,0,64),o.byteLength+1),this.storage.storeSenderKey(this.getSenderKeyName(),t.prepareRecord()).then((function(){return n}))}.bind(this))}.bind(this))}.bind(this)).then(function(e){return Ae.toString(e)}.bind(this))}.bind(this))}.bind(this))},decryptSenderKeyMessage:function(e,t){e=dcodeIO.ByteBuffer.wrap(e,t).toArrayBuffer();var n=new Uint8Array(e)[0];if((15&n)>3||n>>4<3)throw new Error("Incompatible version number on SenderKeyMessage");var i=e.slice(1,e.byteLength-64),o=e.slice(0,e.byteLength-64),a=e.slice(e.byteLength-64),s=r.protobuf.SenderKeyMessage.decode(i),l=s.id;return r.GroupSessionLock.queueJobForNumber(this.getSenderKeyName(),function(){return this.getRecord().then(function(e){if(void 0===e)return Promise.reject(new Error("No session found to decrypt message from "+this.remoteAddress.toString()));var t=e.getSession(l),n=Ae.toArrayBuffer(t.signatureKey);return r.crypto.Ed25519Verify(new Uint8Array(n),new Uint8Array(o),new Uint8Array(a)).then(function(){return this.fillMessageKeys(t,s.iteration).then(function(){var e=t.messageKeys[s.iteration];if(void 0===e){var n=new Error("Message key not found. The counter was repeated or the key was not filled.");throw n.name="MessageCounterError",n}return delete t.messageKeys[s.iteration],r.HKDF(Ae.toArrayBuffer(e),new ArrayBuffer(32),"WhisperGroup")}.bind(this)).then(function(e){var t=this.hkdkOutputToSymmetricMaterial(e[0],e[1]);return r.crypto.decrypt(t.key,s.ciphertext.toArrayBuffer(),t.iv)}.bind(this)).then(function(t){return this.storage.storeSenderKey(this.getSenderKeyName(),e.prepareRecord()).then((function(){return t}))}.bind(this))}.bind(this))}.bind(this))}.bind(this))},fillMessageKeys:function(e,t){if(e.chainKey.counter>t)return Promise.resolve();if(t-e.chainKey.counter>2e3)throw new Error("Over 2000 messages into the future!");if(void 0===e.chainKey.key)throw new Error("Got invalid request to extend chain after it was already closed");var n=Ae.toArrayBuffer(e.chainKey.key),i=new Uint8Array(1);return i[0]=1,r.crypto.sign(n,i.buffer).then(function(o){return e.messageKeys[e.chainKey.counter]=o,i[0]=2,r.crypto.sign(n,i.buffer).then(function(n){return e.chainKey.key=n,e.chainKey.counter+=1,this.fillMessageKeys(e,t)}.bind(this))}.bind(this))},createSenderKeyDistributionMsg:function(){var e=new Ie(this.storage,this.remoteAddress.toString(),this.groupId.toString());return this.getRecord().then(function(t){return t||(t=new r.SenderKeyRecord),e.create(t)}.bind(this))},decryptSenderKeyDistributionMessage:function(e){var t=(e=dcodeIO.ByteBuffer.wrap(e)).readUint8();if((15&t)>3||t>>4<3)throw new Error("Incompatible version number on PreKeyWhisperMessage");this.remoteAddress.toString();return r.GroupSessionLock.queueJobForNumber(this.getSenderKeyName(),function(){return this.getRecord().then(function(t){t||(t=new r.SenderKeyRecord);var n=r.protobuf.SenderKeyDistributionMessage.decode(e);return new Ie(this.storage,this.remoteAddress.toString(),this.groupId.toString()).process(this.getSenderKeyName(),t,n)}.bind(this))}.bind(this))}},libsignal.GroupCipher=function(e,t,n){var r=new ye(e,t,n);this.decryptSenderKeyDistributionMessage=r.decryptSenderKeyDistributionMessage.bind(r),this.createSenderKeyDistributionMsg=r.createSenderKeyDistributionMsg.bind(r),this.encrypt=r.encrypt.bind(r),this.fillMessageKeys=r.fillMessageKeys.bind(r),this.getSenderKeyName=r.getSenderKeyName.bind(r),this.decryptSenderKeyMessage=r.decryptSenderKeyMessage.bind(r),this.getRecord=r.getRecord.bind(r)},Ce.prototype={getRecord:function(e){return this.storage.loadSession(e).then((function(e){if(void 0!==e)return r.SessionRecord.initRecordFromData(e)}))},getSessionBaseKey:function(){return r.SessionLock.queueJobForNumber(this.remoteAddress.toString(),function(){return this.getRecord(this.remoteAddress.toString()).then((function(e){if(void 0!==e){var t=e.getOpenSession();if(void 0!==t)return Ae.toArrayBuffer(t.indexInfo.baseKey)}}))}.bind(this))}},libsignal.SessionInfo=function(e,t){var n=new Ce(e,t);this.getSessionBaseKey=n.getSessionBaseKey.bind(n)}}()},29127:(e,t,n)=>{var r={"./af.json":[88789,8288],"./ar.json":[58854,8801],"./az.json":[48758,1967],"./bg.json":[60624,1234],"./bn.json":[93511,677],"./ca.json":[98922,4451],"./cs.json":[40097,3539],"./da.json":[36117,9626],"./de.json":[3313,88],"./el.json":[24689,3004],"./en.json":[90084,7494],"./es.json":[96598,4739],"./et.json":[57633,9599],"./fa.json":[41076,4853],"./fi.json":[51701,9789],"./fil.json":[46387,3565],"./fr.json":[12785,7334],"./gu.json":[50387,1244],"./he.json":[62603,2422],"./hi.json":[27605,8606],"./hr.json":[54047,3853],"./hu.json":[92922,1389],"./id.json":[75608,4132],"./it.json":[54800,5881],"./ja.json":[66189,5608],"./kk.json":[47681,4260],"./kn.json":[78930,6700],"./ko.json":[28076,7020],"./lt.json":[37885,4169],"./lv.json":[22798,7938],"./mk.json":[79265,1592],"./ml.json":[7208,4794],"./mr.json":[30163,2771],"./ms.json":[13390,9911],"./nb.json":[49057,4046],"./nl.json":[23129,7055],"./pa.json":[66384,6032],"./pl.json":[75495,9566],"./pt.json":[8897,1992],"./ro.json":[64267,8945],"./ru.json":[34813,887],"./sk.json":[75785,7163],"./sl.json":[65608,7626],"./sq.json":[55915,6098],"./sr.json":[95742,2967],"./sv.json":[81244,4768],"./sw.json":[78923,6606],"./ta.json":[17574,3721],"./te.json":[96564,4771],"./th.json":[38728,5955],"./tr.json":[38704,8962],"./uk.json":[95304,5282],"./ur.json":[27814,2619],"./uz.json":[18192,7654],"./vi.json":[22521,5315],"./zh-CN.json":[59978,4680],"./zh-HK.json":[17133,7920],"./zh-TW.json":[37439,3421]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n.t(i,3)))}i.keys=()=>Object.keys(r),i.id=29127,e.exports=i},26299:(e,t,n)=>{var r={"./af":[43727,6365],"./af.js":[43727,6365],"./ar":[28685,8054],"./ar-XB":[27889,9995],"./ar-XB.js":[27889,9995],"./ar.js":[28685,8054],"./az":[85661,7072],"./az.js":[85661,7072],"./bg":[96756,7102],"./bg.js":[96756,7102],"./bn":[48646,8700],"./bn.js":[48646,8700],"./ca":[16006,5632],"./ca.js":[16006,5632],"./cs":[94298,165],"./cs.js":[94298,165],"./da":[92698,1628],"./da.js":[92698,1628],"./de":[18017,7216],"./de.js":[18017,7216],"./el":[41907,1204],"./el.js":[41907,1204],"./en":[50615,6933],"./en.js":[50615,6933],"./es":[62531,673],"./es.js":[62531,673],"./et":[49835,792],"./et.js":[49835,792],"./fa":[3408,9999],"./fa.js":[3408,9999],"./fi":[6785,9613],"./fi.js":[6785,9613],"./fil":[42533,907],"./fil.js":[42533,907],"./fr":[4964,6293],"./fr.js":[4964,6293],"./gu":[96475,6038],"./gu.js":[96475,6038],"./he":[42081,5729],"./he.js":[42081,5729],"./hi":[10298,3722],"./hi.js":[10298,3722],"./hr":[17649,5708],"./hr.js":[17649,5708],"./hu":[29180,2556],"./hu.js":[29180,2556],"./id":[53295,5128],"./id.js":[53295,5128],"./it":[64368,2830],"./it.js":[64368,2830],"./ja":[36810,5182],"./ja.js":[36810,5182],"./kk":[90987,9719],"./kk.js":[90987,9719],"./kn":[73221,155],"./kn.js":[73221,155],"./ko":[99076,820],"./ko.js":[99076,820],"./lt":[7129,1529],"./lt.js":[7129,1529],"./lv":[27237,4708],"./lv.js":[27237,4708],"./mk":[13247,6651],"./mk.js":[13247,6651],"./ml":[83187,6655],"./ml.js":[83187,6655],"./mr":[42858,1248],"./mr.js":[42858,1248],"./ms":[32979,5443],"./ms.js":[32979,5443],"./nb":[9658,7749],"./nb.js":[9658,7749],"./nl":[90606,9750],"./nl.js":[90606,9750],"./pa":[78559,9815],"./pa.js":[78559,9815],"./pl":[79757,8628],"./pl.js":[79757,8628],"./pt":[43391,6953],"./pt-BR":[22060,2091],"./pt-BR.js":[22060,2091],"./pt.js":[43391,6953],"./ro":[81501,7162],"./ro.js":[81501,7162],"./ru":[10060,8292],"./ru.js":[10060,8292],"./sk":[30274,1770],"./sk.js":[30274,1770],"./sl":[87849,4259],"./sl.js":[87849,4259],"./sq":[60901,9737],"./sq.js":[60901,9737],"./sr":[32745,6331],"./sr.js":[32745,6331],"./sv":[43813,2944],"./sv.js":[43813,2944],"./sw":[39042,3998],"./sw.js":[39042,3998],"./ta":[282,2739],"./ta.js":[282,2739],"./te":[21618,5650],"./te.js":[21618,5650],"./th":[81663,2135],"./th.js":[81663,2135],"./tr":[14727,248],"./tr.js":[14727,248],"./uk":[95706,906],"./uk.js":[95706,906],"./ur":[8631,4361],"./ur.js":[8631,4361],"./uz":[34335,4873],"./uz.js":[34335,4873],"./vi":[50181,8598],"./vi.js":[50181,8598],"./zh-CN":[89436,6483],"./zh-CN.js":[89436,6483],"./zh-HK":[99797,1081],"./zh-HK.js":[99797,1081],"./zh-TW":[85180,7542],"./zh-TW.js":[85180,7542]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=26299,e.exports=i},19922:(e,t,n)=>{var r={"./af":[67062,3748],"./af.js":[67062,3748],"./ar":[99958,1473],"./ar-DZ":[59375,6884],"./ar-DZ.js":[59375,6884],"./ar-KW":[93285,6282],"./ar-KW.js":[93285,6282],"./ar-LY":[6683,5671],"./ar-LY.js":[6683,5671],"./ar-MA":[16352,2966],"./ar-MA.js":[16352,2966],"./ar-SA":[38994,9646],"./ar-SA.js":[38994,9646],"./ar-TN":[97904,9289],"./ar-TN.js":[97904,9289],"./ar-XB":[46700,3934],"./ar-XB.js":[46700,3934],"./ar.js":[99958,1473],"./az":[14233,5740],"./az.js":[14233,5740],"./bn":[23358,7728],"./bn.js":[23358,7728],"./ca":[68001,9817],"./ca.js":[68001,9817],"./cs":[82492,2023],"./cs.js":[82492,2023],"./da":[31185,7315],"./da.js":[31185,7315],"./de":[63261,5862],"./de.js":[63261,5862],"./el":[14689,1055],"./el.js":[14689,1055],"./en-AU":[57258,8678],"./en-AU.js":[57258,8678],"./en-CA":[27248,4616],"./en-CA.js":[27248,4616],"./en-GB":[44279,9227],"./en-GB.js":[44279,9227],"./en-IE":[76573,2979],"./en-IE.js":[76573,2979],"./en-NZ":[7786,3892],"./en-NZ.js":[7786,3892],"./es":[58207,1791],"./es-DO":[78902,2394],"./es-DO.js":[78902,2394],"./es.js":[58207,1791],"./et":[8137,4473],"./et.js":[8137,4473],"./fa":[91264,7662],"./fa.js":[91264,7662],"./fi":[91042,7386],"./fi.js":[91042,7386],"./fr":[30485,2445],"./fr-CA":[96228,9765],"./fr-CA.js":[96228,9765],"./fr-CH":[19342,8799],"./fr-CH.js":[19342,8799],"./fr.js":[30485,2445],"./gu":[15019,4468],"./gu.js":[15019,4468],"./he":[43630,5027],"./he.js":[43630,5027],"./hi":[37857,6709],"./hi.js":[37857,6709],"./hr":[35918,1381],"./hr.js":[35918,1381],"./hu":[50215,4339],"./hu.js":[50215,4339],"./id":[68219,6511],"./id.js":[68219,6511],"./it":[85224,5247],"./it.js":[85224,5247],"./kk":[68784,7074],"./kk.js":[68784,7074],"./kn":[58054,6568],"./kn.js":[58054,6568],"./ko":[45272,4818],"./ko.js":[45272,4818],"./lt":[13411,6920],"./lt.js":[13411,6920],"./mk":[46772,9545],"./mk.js":[46772,9545],"./ml":[86198,3113],"./ml.js":[86198,3113],"./mr":[27,3422],"./mr.js":[27,3422],"./ms":[18170,7739],"./ms-MY":[54863,1520],"./ms-MY.js":[54863,1520],"./ms.js":[18170,7739],"./nb":[32930,5959],"./nb.js":[32930,5959],"./nl":[69990,319],"./nl.js":[69990,319],"./pa-IN":[77944,8132],"./pa-IN.js":[77944,8132],"./pl":[5217,4980],"./pl.js":[5217,4980],"./pt":[77312,9116],"./pt-BR":[35313,6547],"./pt-BR.js":[35313,6547],"./pt.js":[77312,9116],"./ro":[22831,3569],"./ro.js":[22831,3569],"./ru":[40503,2957],"./ru.js":[40503,2957],"./sk":[3699,5965],"./sk.js":[3699,5965],"./sl":[54620,3501],"./sl.js":[54620,3501],"./sq":[61441,6496],"./sq.js":[61441,6496],"./sr":[90020,5170],"./sr-CYRL":[98562,5790],"./sr-CYRL.js":[98562,5790],"./sr.js":[90020,5170],"./sv":[86181,1069],"./sv.js":[86181,1069],"./sw":[767,2017],"./sw.js":[767,2017],"./ta":[95403,8634],"./ta.js":[95403,8634],"./te":[82423,3370],"./te.js":[82423,3370],"./th":[95852,951],"./th.js":[95852,951],"./tr":[13273,9313],"./tr.js":[13273,9313],"./uk":[70009,9682],"./uk.js":[70009,9682],"./ur":[79993,6163],"./ur.js":[79993,6163],"./uz":[82182,3017],"./uz-LATN":[49606,8117],"./uz-LATN.js":[49606,8117],"./uz.js":[82182,3017],"./zh-CN":[27798,3047],"./zh-CN.js":[27798,3047],"./zh-TW":[75154,5125],"./zh-TW.js":[75154,5125]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=19922,e.exports=i},29874:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={a11y_product_context_menu:"Open the product context menu",a11y_product_context_menu_comment:"Accessibility: label for product context menu button, this is a button that opens menu dropdown when contact is focused. [A11y]",a11y_send_as_sticker_label_off:"Turn off send as sticker",a11y_send_as_sticker_label_off_comment:"Accessibility label for turning off send as sticker toggle button. [A11y]",a11y_send_as_sticker_label_on:"Turn on send as sticker",a11y_send_as_sticker_label_on_comment:"Accessibility label for turning on send as sticker toggle button. [A11y]",a11y_unread_mention_count:"__count__ @ message",a11y_unread_mention_count_comment:"The number Unread mention message(s) as displayed counter in @ button in message list [A11y]",a11y_unread_mention_count_plural:"__count__ @ messages",action_add_remove_labels:"Changing __count__ label",action_add_remove_labels_comment:"Toast message that tells user that one label change is pending",action_add_remove_labels_failed:"The label could not be updated",action_add_remove_labels_failed_comment:"Failure toast message for when a label change action fails",action_add_remove_labels_failed_plural:"Some labels could not be updated",action_add_remove_labels_plural:"Changing __count__ labels",action_add_remove_labels_sucess:"__count__ label changed",action_add_remove_labels_sucess_comment:"Success toast message for when one label changes succeed",action_add_remove_labels_sucess_plural:"__count__ labels changed",action_block_failed:"Couldn't block __participant__",action_blocked:"__participant__ blocked",action_blocking:"Blocking __participant__",action_broadcast_delete_failed:"Couldn't delete broadcast list.",action_broadcast_deleted:"Broadcast list deleted",action_broadcast_deleting:"Deleting broadcast list",action_chat_archive_failed:"Couldn't archive chat.",action_chat_archived:"Chat archived",action_chat_archiving:"Archiving chat",action_chat_clear_failed:"Couldn't clear chat.",action_chat_cleared:"Chat cleared",action_chat_clearing:"Clearing chat",action_chat_delete_failed:"Couldn't delete chat.",action_chat_deleted:"Chat deleted",action_chat_deleting:"Deleting chat",action_chat_mark_read_failed:"Couldn't mark chat as read.",action_chat_mark_unread_failed:"Couldn't mark chat as unread.",action_chat_marked_read:"Marked as read",action_chat_marked_unread:"Marked as unread",action_chat_marking_read:"Marking as read",action_chat_marking_unread:"Marking as unread",action_chat_mute_failed:"Couldn't mute chat.",action_chat_muted:"Chat muted",action_chat_muting:"Muting chat",action_chat_pin_failed:"Couldn't pin chat",action_chat_pin_failed_405:"You can only pin up to 3 chats.",action_chat_pinned:"Chat pinned",action_chat_pinning:"Pinning chat",action_chat_unarchive_failed:"Couldn't unarchive chat.",action_chat_unarchived:"Chat unarchived",action_chat_unarchiving:"Unarchiving chat",action_chat_unmute:"Unmute",action_chat_unmute_failed:"Couldn't unmute chat.",action_chat_unmuted:"Chat unmuted",action_chat_unmuting:"Unmuting chat",action_chat_unpin_failed:"Couldn't unpin chat",action_chat_unpinned:"Chat unpinned",action_chat_unpinning:"Unpinning chat",action_group_create_failed:"Couldn't create group.",action_group_create_failed_406:"Please enter a shorter subject.",action_group_create_failed_participant:"Can't add more than __max__ participants",action_group_created:"Created group",action_group_creating:"Creating group",action_group_delete_failed:"Couldn't delete group.",action_group_deleted:"Group deleted",action_group_deleting:"Deleting group",action_group_exit_failed:"Couldn't exit group.",action_group_exited:"Exited group",action_group_exiting:"Exiting group",action_group_icon_remove_failed:"Couldn't remove group icon.",action_group_icon_removed:"Group icon removed",action_group_icon_removing:"Removing group icon",action_group_icon_set:"Group icon set",action_group_icon_set_failed:"Couldn't set group icon.",action_group_icon_setting:"Setting group icon",action_group_mute_failed:"Couldn't mute group.",action_group_muted:"Group muted",action_group_muting:"Muting group",action_group_rename_failed:"Couldn't rename group.",action_group_renamed:"Group renamed to __subject__",action_group_renaming:"Renaming group",action_group_subject_empty:"Group subject can't be empty",action_group_unmute_failed:"Couldn't unmute group.",action_group_unmuted:"Group unmuted",action_group_unmuting:"Unmuting group",action_mark_as_not_spam:"Marking as not spam",action_mark_as_not_spam_failed:"Couldn't mark as not spam",action_marked_as_not_spam:"Marked as not spam",action_message_delete_expired_failed:"Couldn't delete message because the message may have expired",action_message_delete_expired_failed_comment:"Toast message for users trying to delete a message that has been expired on the phone",action_message_delete_expired_failed_plural:"Couldn't delete __count__ messages because the messages may have expired",action_message_delete_failed:"Couldn't delete message",action_message_delete_failed_plural:"Couldn't delete messages",action_message_deleted:"__count__ message deleted",action_message_deleted_plural:"__count__ messages deleted",action_message_deleting:"Deleting message",action_message_deleting_plural:"Deleting messages",action_message_star_expired_failed:"Couldn't star message because the message may have expired",action_message_star_expired_failed_comment:"Toast message for users trying to star a message that has been expired on the phone",action_message_star_expired_failed_plural:"Couldn't star messages because the messages may have expired",action_message_star_failed:"Couldn't star message",action_message_star_failed_plural:"Couldn't star messages",action_message_starred:"__count__ message starred",action_message_starred_plural:"__count__ messages starred",action_message_starring:"Starring message",action_message_starring_plural:"Starring messages",action_message_unstar_all_failed:"Couldn't unstar all messages",action_message_unstar_expired_failed:"Couldn't unstar message because the message may have expired",action_message_unstar_expired_failed_comment:"Toast message for users trying to unstar a message that has been expired on the phone",action_message_unstar_expired_failed_plural:"Couldn't unstar messages because the messages may have expired",action_message_unstar_failed:"Couldn't unstar message",action_message_unstar_failed_plural:"Couldn't unstar messages",action_message_unstarred:"__count__ message unstarred",action_message_unstarred_all:"All messages unstarred",action_message_unstarred_plural:"__count__ messages unstarred",action_message_unstarring:"Unstarring message",action_message_unstarring_all:"Unstarring all messages",action_message_unstarring_plural:"Unstarring messages",action_participant_add_failed:"Couldn't add __participantNames__.",action_participant_add_failed_comment:"Message shown when we failed to add a participant to group. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_add_failed_plural:"Couldn't add __participantNames__.",action_participant_added:"You added __participantNames__.",action_participant_added_comment:"Message shown when we successfully added participants to group. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_added_plural:"You added __participantNames__.",action_participant_adding:"Adding __participantNames__.",action_participant_adding_comment:"Message shown when we're adding participants to a group. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_adding_plural:"Adding __participantNames__.",action_participant_demote_failed:"Removing __participantNames__ as an admin failed.",action_participant_demote_failed_comment:"On fail message for removing an admin. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_demote_failed_plural:"Removing __participantNames__ as admins failed.",action_participant_demoted:"__participantNames__ is no longer a group admin.",action_participant_demoted_comment:"Action message for demoting admin complete. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_demoted_plural:"__participantNames__ are no longer group admins.",action_participant_demoting:"Removing __participantNames__ as a group admin.",action_participant_demoting_comment:"Action message for demoting a admin. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_demoting_plural:"Removing __participantNames__ as group admins.",action_participant_failed_404:"They are no longer in this group.",action_participant_failed_404_comment:"Error message for performing a group action on a participant who is no longer a member of the group. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_failed_404_plural:"They are no longer in this group.",action_participant_failed_408:"You can't add this participant because they left the group recently.",action_participant_failed_408_comment:"Error message for adding a participant that recently left",action_participant_failed_408_plural:"You can't add these participants because they left the group recently.",action_participant_promote_failed:"Couldn't make __participantNames__ an admin.",action_participant_promote_failed_comment:"Error message shown when we failed to promote participant to admin. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_promote_failed_plural:"Couldn't make __participantNames__ admins.",action_participant_promoted:"__participantNames__ is now a group admin.",action_participant_promoted_comment:"Message shown when participant successfully promoted to group admin. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_promoted_plural:"__participantNames__ are now group admins.",action_participant_promoting:"Making __participantNames__ a group admin.",action_participant_promoting_comment:"Message shown when we're promoting participant to admin. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_promoting_plural:"Making __participantNames__ group admins.",action_participant_remove_failed:"Couldn't remove __participantNames__.",action_participant_remove_failed_comment:"Message shown when we failed to remove participants from a group. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_remove_failed_plural:"Couldn't remove __participantNames__.",action_participant_removed:"You removed __participantNames__.",action_participant_removed_comment:"Message shown when we've successfully removed participants from a group. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_removed_plural:"You removed __participantNames__.",action_participant_removing:"Removing __participantNames__.",action_participant_removing_comment:"Message shown when we're removing participants from a group. Parameter is a contact's name in the singular case, a list of contact names in the plural case.",action_participant_removing_plural:"Removing __participantNames__.",action_profile_remove_failed:"Couldn't remove profile photo.",action_profile_removed:"Profile photo removed",action_profile_removing:"Removing profile photo",action_profile_set:"Profile photo set",action_profile_set_failed:"Couldn't set profile photo.",action_profile_setting:"Setting profile photo",action_pushname_empty:"Your name can't be empty",action_pushname_set:"Your name changed",action_pushname_set_failed:"Couldn't change your name.",action_pushname_setting:"Changing your name",action_spam_report:"Reporting spam",action_spam_report_failed:"Couldn't report spam",action_spam_reported:"Reported spam",action_status_empty:"About can't be empty",action_status_set:"About changed",action_status_set_failed:"Couldn't change About.",action_status_setting:"Changing About",action_try_again:"Try again.",action_unblock_failed:"Couldn't unblock __participant__",action_unblocked:"__participant__ unblocked",action_unblocking:"Unblocking __participant__",action_undo:"Undo",add_a_caption:"Add a caption",add_blocked_description:"Blocked contacts will no longer be able to call you or send you messages",add_blocked_title:"Add blocked contact",add_contact_to_group:"Add to a group",add_group_icon:"Add group icon",add_profile_photo:"Add profile photo",adjust_image:"Drag the image to adjust",archive_chat:"Archive chat",archived_empty:"No archived chats",archived_flow_title:"Archived chats",attach_document:"Document",attach_document_pdf_total_pages:"__count__ Page",attach_document_pdf_total_pages_plural:"__count__ Pages",attach_vcard:"Contact",audio_empty:"__number__ audio file you tried adding has no content.",audio_empty_comment:"Displayed in a popup if user adds audio files that are empty (ie, the file is 0 bytes). The __number__ placeholder is the number of empty audio files.",audio_empty_plural:"__number__ audio files you tried adding have no content.",audio_playback_not_supported:"Your browser doesn't support audio playback.",audio_too_big:"__number__ audio you tried adding is larger than the __maxSize__ limit.",audio_too_big_comment:"Displayed if user adds an audio that's too large.",audio_too_big_plural:"__number__ audio files you tried adding are larger than the __maxSize__ limit.",biz_privacy_info_bsp:"__businessName__ used other companies to store and manage this message.",biz_privacy_info_bsp_and_fb:"__businessName__ used Facebook and other companies to store and manage this message.",biz_privacy_info_bsp_and_fb_comment:"Body copy for a dialog that explains whether the business was using a third party to manage the message.",biz_privacy_info_bsp_comment:"Body copy for a dialog that explains whether the business was using a third party to manage the message.",biz_privacy_info_e2ee_from_biz:"This message was delivered directly from __businessName__.",biz_privacy_info_e2ee_from_biz_comment:"Body copy for a dialog that explains whether the business was using a third party to manage the message.",biz_privacy_info_e2ee_to_biz:"This message was delivered directly to __businessName__.",biz_privacy_info_e2ee_to_biz_comment:"Body copy for a dialog that explains whether the business was using a third party to manage the message.",biz_privacy_info_fb:"__businessName__ used Facebook to store and manage this message.",biz_privacy_info_fb_comment:"Body copy for a dialog that explains whether the business was using a third party to manage the message.",blocked_description:"List of contacts that you have blocked",blocked_empty:"No blocked contacts yet",blocked_flow_title:"Blocked contacts",broadcast_deleted:"Broadcast list deleted",browser_not_supported:"Browser not supported",browser_not_supported_comment:"Title for a page we show when the user using a browser we don't support",business_hours_edit_end_time:"End Time",business_hours_edit_end_time_comment:"Label for business hours edit end time",business_hours_edit_start_time:"Start Time",business_hours_edit_start_time_comment:"Label for business hours edit start time",business_not_a_contact:"This verified business is not in your contact list.",business_not_a_contact_comment:"UI shown when receiving first message from a verified business",business_profile_confirmed_as:"Confirmed as __businessName__",business_profile_confirmed_as_comment:"(business_profile_confirmed) as businessName in business profile",business_profile_edit_end_time:"End Time",business_profile_edit_end_time_comment:"Label for business hours edit end time",business_profile_edit_name_description:"This name will be visible to your WhatsApp customers and can be edited from the app on your mobile device.",business_profile_edit_name_description_comment:"Business profile edit screen, business name section.  Currently this field is not editable in the web.",business_profile_edit_profile_load_error:"Something went wrong",business_profile_edit_profile_load_error_comment:"Business profile edit load profile error.  Generic message for when something goes wrong",business_profile_edit_profile_save_error:"An error occurred while saving.  Please try again.",business_profile_edit_profile_save_error_comment:"Business profile edit save profile error.  Generic message for when something goes wrong during a save",business_profile_verified_as:"__verified__ as __businessName__",business_profile_verified_as_comment:"(business_profile_verified) as businessName in business profile",button_use_here:"Use Here",cannot_forward_capability_contact:"__count__ message couldn't be forwarded because __contact__ is on a version of WhatsApp that doesn't support it.",cannot_forward_capability_contact_none:"No messages could be forwarded because __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_capability_contact_plural:"__count__ messages couldn't be forwarded because __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_file_missing:"__count__ message couldn't be forwarded because the file is missing.",cannot_forward_file_missing_and_capability_contact:"__count__ message couldn't be forwarded because the file is missing or __contact__ is on a version of WhatsApp that doesn't support it.",cannot_forward_file_missing_and_capability_contact_comment:"Shown when trying to forward a message to another user",cannot_forward_file_missing_and_capability_contact_plural:"__count__ messages couldn't be forwarded because the file is missing or __contact__ is on a version of WhatsApp that doesn't support them.",cannot_forward_file_missing_comment:"Shown when trying to forward a message",cannot_forward_file_missing_plural:"__count__ messages couldn't be forwarded because the file is missing.",cant_load_whatsapp:"Can't Load WhatsApp",cart_item_quantity:"Qty __quantity__",cart_item_quantity_comment:"Quantity shown by each item in the Cart",cart_received_detail_drawer_title:"Received cart",cart_received_detail_drawer_title_comment:"Title for the Order Details Drawer, displayed after click on Order message ",catalog_collection_items_updated_notice:"__updated__ Item Updated",catalog_collection_items_updated_notice_comment:"Text label showing number of updated items in collection [COL]",catalog_collection_items_updated_notice_plural:"__updated__ Items Updated",catalog_view_all:"View all",catalog_view_all_comment:"Label shown on view all CTA of catalog preview section, leading to full catalog view",change_group_icon:"Change group icon",change_profile_photo:"Change profile photo",charge_phone_description:"Charge your phone to keep using WhatsApp",chat_archived:"Archived",chat_not_an_admin:"You are not an admin",check_internet_connection:"No Internet connection",clear_chat:"Clear messages",click_here_for_group_info:"click here for group info",click_here_for_user_info:"click here for contact info",click_to_download_desktop_client:"Update WhatsApp",click_to_reload_qr_code:"Click to reload QR code",click_to_save_esc_to_cancel:"Click to save, ESC to cancel",click_to_update_whatsapp_web:"Click to update WhatsApp",close_chat:"Close chat",collection_items_count:"__count__ item",collection_items_count_comment:"__count__ is the number of items in collection [COL]",collection_items_count_plural:"__count__ items",collections_rejected_second_notice_unauthorized_media:"We reviewed this collection again and confirmed its name violates __collections_rejected_policy_unauthorized_media__.",collections_rejected_second_notice_unauthorized_media_comment:"Collection review second return notice, shown with collections_rejected_policy_unauthorized_media and rename the collection CTA. [COL]",collections_rejected_second_notice_weapons:"We reviewed this collection again and confirmed its name violates __collections_rejected_policy_weapons__.",collections_rejected_second_notice_weapons_comment:"Collection review second return notice, shown with collections_rejected_policy_weapons and rename the collection CTA. [COL]",community_groups_added:"Group __formattedNames__ was added",community_groups_added_comment:"System message displayed in default subgroup when a groups are added to a community, we know the group names but we don't know the author, __formattedNames__ will be the names of the added groups as a comma separated list [COM] {private}",community_groups_added_plural:"Groups __formattedNames__ were added",community_groups_removed:"The group __formattedNames__ was removed",community_groups_removed_comment:"System message displayed in default subgroup when groups are removed from a community, we know the group names but we don't know the author, __formattedNames__ will be the names of the removed groups as a comma separated list [COM] {private}",community_groups_removed_plural:"The groups __formattedNames__ were removed",confirm_add_group_participant:'Add __participant__ to "__subject__" group?',confirm_add_group_participants:'Add __participants__ to "__subject__" group?',confirm_add_group_participants_comment:"Prompts for adding multiple participants to groups",confirm_closing_webclient:"You are closing WhatsApp.",confirm_forward_partial_messages_text:"Some messages can't be forwarded, do you want to forward rest of the messages?",confirm_forward_partial_messages_title:"Can't forward all messages",confirm_forward_to_contact:"Forward to __chat__?",confirm_logout:"Log out?",confirm_promote_group_participant:'Make __participant__ an admin for "__subject__" group?',confirm_remove_group_participant:'Remove __participant__ from "__subject__" group?',confirm_sending_contact_broadcast:'Send __count__ contact to "__chat__"?',confirm_sending_contact_broadcast_comment:"Displayed in a confirmation prompt when sending contacts as an attachment. __count__ is the number of attached contacts and __chat__ is a broadcast name",confirm_sending_contact_broadcast_plural:'Send __count__ contacts to "__chat__"?',confirm_sending_contact_chat:'Send __count__ contact to "__chat__"?',confirm_sending_contact_chat_comment:"Displayed in a confirmation prompt when sending contacts as an attachment. __count__ is the number of attached contacts and  __chat__ is a contact name",confirm_sending_contact_chat_plural:'Send __count__ contacts to "__chat__"?',confirm_sending_contact_group:'Send __count__ contact to "__chat__"?',confirm_sending_contact_group_comment:"Displayed in a confirmation prompt when sending contacts as an attachment. __count__ is the number of attached contacts and __chat__  is a group name",confirm_sending_contact_group_plural:'Send __count__ contacts to "__chat__"?',confirm_unblock_contact_and_forward:"Unblock __chat__ and forward messages?",confirm_unblock_contact_button:"Unblock __contact__",confirm_unblock_contact_button_comment:"This is the confirm button for unblocking a user when they select a contact. For example: Unblock Matt",confirm_unmute_chat:"Unmute this chat?",confirm_unmute_group:"Unmute this group?",connecting:"Connecting",connecting_to_whatsapp:"Connecting to WhatsApp",connecting_to_whatsapp_or_phone:"Connecting",contact_info_groups_in_common_plural:"__number__ groups in common",contact_info_status_phone:"About and phone number",contact_status_loading:"Loading About",contact_viewer:"View contact",contacts_empty:"__number__ contact that you tried to add has no content.",contacts_empty_comment:"Displayed in a popup if user adds contacts that are empty (ie, the file is 0 bytes). The __number__ placeholder is the number of empty contacts.",contacts_empty_plural:"__number__ contacts that you tried to add have no content.",contacts_too_big:"The contact that you tried to add is larger than the __maxSize__ limit.",contacts_too_big_comment:"Displayed if user adds a contact that's too large.",contacts_too_big_plural:"The contacts that you tried to add are larger than the __maxSize__ limit.",content_placeholder_incomplete_msgs:"Older messages may be available",content_placeholder_incomplete_msgs_comment:"A placeholder card because some messages may not be synced from phone.",content_placeholder_search_phone:"Use WhatsApp on your phone to search messages from before __date__.",content_placeholder_search_phone_comment:"Secondary text in a placeholder card to search for messages on phone because some messages may not be synced from phone.",conversation_placeholder_check_phone:"Use WhatsApp on your phone to see the complete chat history.",conversation_placeholder_check_phone_comment:"Secondary text in a placeholder card shown on the top of conversation panel because some messages are not synced from phone.",default_contact_message_notification_title:"WhatsApp message",default_contact_message_notification_title_comment:"Desktop notifications show contact name as title.  This is default if we don't have actual name",default_wallpaper:"Default",delete_chat:"Delete chat",delete_label_confirm:"Deleting a label removes it from all messages, contacts, and from the list of labels. Are you sure you want to delete this label?",delete_label_confirm_comment:"Popup text that warns use before deleting a label",delete_label_confirm_plural:"Deleting a label removes it from all messages, contacts, and from the list of labels. Are you sure you want to delete these labels?",delete_message:"Delete",delete_message_confirmation:"Delete message?",delete_message_confirmation_plural:"Delete messages?",delete_message_plural:"Delete",describe_logs:"Tell us about your issue",desktop_app_store_update_title:"Please Update WhatsApp",desktop_client_update_available:"New version available",desktop_settings_drawer_title:"Desktop Settings",desktop_update_button:"Update",desktop_update_failed_description:"To continue using WhatsApp, click Update and install the latest version.",desktop_update_failed_title:"Couldn't Update Automatically",desktop_updatin_description:"Downloading an update to WhatsApp. This may take several minutes. WhatsApp will automatically update and restart when the download finishes.",desktop_updating_title:"Updating WhatsApp",disappearing_mode_by_others_only_days:"__name__ uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ day after they're sent. Click to learn more.",disappearing_mode_by_others_only_days_comment:"System message string at the top of a chat when another user has disappearing mode on for some number of days. [DMM]",disappearing_mode_by_others_only_days_plural:"__name__ uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ days after they're sent. Click to learn more.",disappearing_mode_by_others_only_hours:"__name__ uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ hour after they're sent. Click to learn more.",disappearing_mode_by_others_only_hours_comment:"System message string at the top of a chat when another user has disappearing mode on for some number of hours. [DMM]",disappearing_mode_by_others_only_hours_plural:"__name__ uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ hours after they're sent. Click to learn more.",disappearing_mode_by_others_only_minutes:"__name__ uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ minute after they're sent. Click to learn more.",disappearing_mode_by_others_only_minutes_comment:"System message string at the top of a chat when another user has disappearing mode on for some number of minutes. [DMM]",disappearing_mode_by_others_only_minutes_plural:"__name__ uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ minutes after they're sent. Click to learn more.",disappearing_mode_by_others_only_seconds:"__name__ uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ second after they're sent. Click to learn more.",disappearing_mode_by_others_only_seconds_comment:"System message string at the top of a chat when another user has disappearing mode on for some number of seconds. [DMM]",disappearing_mode_by_others_only_seconds_plural:"__name__ uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ seconds after they're sent. Click to learn more.",disappearing_mode_by_you_only_days:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ day after they're sent. Click to learn more.",disappearing_mode_by_you_only_days_comment:"System message string at the top of a chat when you have disappearing mode on for some number of days. [DMM]",disappearing_mode_by_you_only_days_plural:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ days after they're sent. Click to learn more.",disappearing_mode_by_you_only_hours:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ hour after they're sent. Click to learn more.",disappearing_mode_by_you_only_hours_comment:"System message string at the top of a chat when you have disappearing mode on for some number of hours. [DMM]",disappearing_mode_by_you_only_hours_plural:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ hours after they're sent. Click to learn more.",disappearing_mode_by_you_only_minutes:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ minute after they're sent. Click to learn more.",disappearing_mode_by_you_only_minutes_comment:"System message string at the top of a chat when you have disappearing mode on for some number of minutes. [DMM]",disappearing_mode_by_you_only_minutes_plural:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ minutes after they're sent. Click to learn more.",disappearing_mode_by_you_only_seconds:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ second after they're sent. Click to learn more.",disappearing_mode_by_you_only_seconds_comment:"System message string at the top of a chat when you have disappearing mode on for some number of seconds. [DMM]",disappearing_mode_by_you_only_seconds_plural:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat __number__ seconds after they're sent. Click to learn more.",dismiss:"Dismiss",dismiss_comment:"Displayed as the button text in the spam panel to not report spam",docs:"Docs",docs_count:"__count__ Doc",docs_count_comment:"Displayed in media secion of group/contact info drawer when there are no media, but have some docs",docs_count_plural:"__count__ Docs",document_downloaded:'"__name__" downloaded.',document_empty:"__number__ document you tried adding has no content.",document_empty_comment:"Displayed in a popup if user adds documents that are empty (ie, the file is 0 bytes). The __number__ placeholder is the number of empty documents.",document_empty_plural:"__number__ documents you tried adding have no content.",document_too_big:"__number__ document you tried adding is larger than the __maxSize__ limit.",document_too_big_comment:"Displayed if user adds a document that's too large.",document_too_big_plural:"__number__ documents you tried adding are larger than the __maxSize__ limit.",e2e_encrypted:"End-to-end encrypted",e2e_encrypted_comment:"Generic message about encryption, placed alongside lock icon. Used when we want to emphasize that communication is encrypted.",edit_image_add_text:"Add text to your image",edit_image_add_text_comment:"Displayed as placeholder text when the user opens up the text overlay tool in the image editor",enable_desktop_notifications:"Turn on desktop notifications",enumeration_and:"& ",enumeration_and_comment:"punctuation used for joining the last item in a list e.g.: Adam, John, Jane & Mary",enumeration_bullet:"  ",enumeration_bullet_comment:"punctuation used for joining the last item in a list e.g.: Adam  John  Jane  Mary",enumeration_comma:", ",enumeration_comma_comment:"punctuation used for separating words in a list e.g.: Adam, John, Jane and Mary",ephemeral_change_by_unknown_on_days:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ day after they're sent.",ephemeral_change_by_unknown_on_days_comment:"System message text for when disappearing messages for a chat is changed to some number of days by you. [EPH]",ephemeral_change_by_unknown_on_days_plural:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ days after they're sent.",ephemeral_change_by_unknown_on_hours:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ hour after they're sent.",ephemeral_change_by_unknown_on_hours_comment:"System message text for when disappearing messages for a chat is changed to some number of hours by you. [EPH]",ephemeral_change_by_unknown_on_hours_plural:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ hours after they're sent.",ephemeral_change_by_unknown_on_minutes:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ minute after they're sent.",ephemeral_change_by_unknown_on_minutes_comment:"System message text for when disappearing messages for a chat is changed to some number of minutes by you. [EPH]",ephemeral_change_by_unknown_on_minutes_plural:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ minutes after they're sent.",ephemeral_change_by_unknown_on_seconds:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ second after they're sent.",ephemeral_change_by_unknown_on_seconds_comment:"System message text for when disappearing messages for a chat is changed to some number of seconds by you. [EPH]",ephemeral_change_by_unknown_on_seconds_plural:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ seconds after they're sent.",ephemeral_change_by_you_on_days:"You turned on disappearing messages. All new messages will disappear from this chat __number__ day after they're sent.",ephemeral_change_by_you_on_days_comment:"System message text for when disappearing messages for a chat is changed to some number of days by you. [EPH]",ephemeral_change_by_you_on_days_plural:"You turned on disappearing messages. All new messages will disappear from this chat __number__ days after they're sent.",ephemeral_change_by_you_on_hours:"You turned on disappearing messages. All new messages will disappear from this chat __number__ hour after they're sent.",ephemeral_change_by_you_on_hours_comment:"System message text for when disappearing messages for a chat is changed to some number of hours by you. [EPH]",ephemeral_change_by_you_on_hours_plural:"You turned on disappearing messages. All new messages will disappear from this chat __number__ hours after they're sent.",ephemeral_change_by_you_on_minutes:"You turned on disappearing messages. All new messages will disappear from this chat __number__ minute after they're sent.",ephemeral_change_by_you_on_minutes_comment:"System message text for when disappearing messages for a chat is changed to some number of minutes by you. [EPH]",ephemeral_change_by_you_on_minutes_plural:"You turned on disappearing messages. All new messages will disappear from this chat __number__ minutes after they're sent.",ephemeral_change_by_you_on_seconds:"You turned on disappearing messages. All new messages will disappear from this chat __number__ second after they're sent.",ephemeral_change_by_you_on_seconds_comment:"System message text for when disappearing messages for a chat is changed to some number of seconds by you. [EPH]",ephemeral_change_by_you_on_seconds_plural:"You turned on disappearing messages. All new messages will disappear from this chat __number__ seconds after they're sent.",ephemeral_change_off:"__name__ turned off disappearing messages.",ephemeral_change_off_comment:"System message text for when disappearing messages for a chat is changed to off. [EPH]",ephemeral_change_on_days:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ day after they're sent.",ephemeral_change_on_days_comment:"System message text for when disappearing messages for a chat is changed to some number of days. [EPH]",ephemeral_change_on_days_plural:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ days after they're sent.",ephemeral_change_on_hours:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ hour after they're sent.",ephemeral_change_on_hours_comment:"System message text for when disappearing messages for a chat is changed to some number of hours. [EPH]",ephemeral_change_on_hours_plural:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ hours after they're sent.",ephemeral_change_on_minutes:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ minute after they're sent.",ephemeral_change_on_minutes_comment:"System message text for when disappearing messages for a chat is changed to some number of minutes. [EPH]",ephemeral_change_on_minutes_plural:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ minutes after they're sent.",ephemeral_change_on_seconds:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ second after they're sent.",ephemeral_change_on_seconds_comment:"System message text for when disappearing messages for a chat is changed to some number of seconds. [EPH]",ephemeral_change_on_seconds_plural:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ seconds after they're sent.",ephemeral_editable_change_by_unknown_on_days:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ day after they're sent. Click to change.",ephemeral_editable_change_by_unknown_on_days_comment:"System message text for when disappearing messages for a chat is changed to some number of days by you and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_by_unknown_on_days_plural:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ days after they're sent. Click to change.",ephemeral_editable_change_by_unknown_on_hours:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ hour after they're sent. Click to change.",ephemeral_editable_change_by_unknown_on_hours_comment:"System message text for when disappearing messages for a chat is changed to some number of hours by you and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_by_unknown_on_hours_plural:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ hours after they're sent. Click to change.",ephemeral_editable_change_by_unknown_on_minutes:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ minute after they're sent. Click to change.",ephemeral_editable_change_by_unknown_on_minutes_comment:"System message text for when disappearing messages for a chat is changed to some number of minutes by you and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_by_unknown_on_minutes_plural:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ minutes after they're sent. Click to change.",ephemeral_editable_change_by_unknown_on_seconds:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ second after they're sent. Click to change.",ephemeral_editable_change_by_unknown_on_seconds_comment:"System message text for when disappearing messages for a chat is changed to some number of seconds by you and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_by_unknown_on_seconds_plural:"Disappearing messages were turned on. All new messages will disappear from this chat __number__ seconds after they're sent. Click to change.",ephemeral_editable_change_by_you_on_days:"You turned on disappearing messages. All new messages will disappear from this chat __number__ day after they're sent. Click to change.",ephemeral_editable_change_by_you_on_days_comment:"System message text for when disappearing messages setting for a group is changed to some number of days by you and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_by_you_on_days_plural:"You turned on disappearing messages. All new messages will disappear from this chat __number__ days after they're sent. Click to change.",ephemeral_editable_change_by_you_on_hours:"You turned on disappearing messages. All new messages will disappear from this chat __number__ hour after they're sent. Click to change.",ephemeral_editable_change_by_you_on_hours_comment:"System message text for when disappearing messages setting for a group is changed to some number of hours by you and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_by_you_on_hours_plural:"You turned on disappearing messages. All new messages will disappear from this chat __number__ hours after they're sent. Click to change.",ephemeral_editable_change_by_you_on_minutes:"You turned on disappearing messages. All new messages will disappear from this chat __number__ minute after they're sent. Click to change.",ephemeral_editable_change_by_you_on_minutes_comment:"System message text for when disappearing messages setting for a group is changed to some number of minutes by you and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_by_you_on_minutes_plural:"You turned on disappearing messages. All new messages will disappear from this chat __number__ minutes after they're sent. Click to change.",ephemeral_editable_change_by_you_on_seconds:"You turned on disappearing messages. All new messages will disappear from this chat __number__ second after they're sent. Click to change.",ephemeral_editable_change_by_you_on_seconds_comment:"System message text for when disappearing messages setting for a group is changed to some number of seconds by you and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_by_you_on_seconds_plural:"You turned on disappearing messages. All new messages will disappear from this chat __number__ seconds after they're sent. Click to change.",ephemeral_editable_change_off:"__name__ turned off disappearing messages. Click to change.",ephemeral_editable_change_off_comment:"System message text for when disappearing messages for a chat is changed to off and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_on_days:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ day after they're sent. Click to change.",ephemeral_editable_change_on_days_comment:"System message text for when disappearing messages setting for a group is changed to some number of days and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_on_days_plural:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ days after they're sent. Click to change.",ephemeral_editable_change_on_hours:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ hour after they're sent. Click to change.",ephemeral_editable_change_on_hours_comment:"System message text for when disappearing messages setting for a group is changed to some number of hours and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_on_hours_plural:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ hours after they're sent. Click to change.",ephemeral_editable_change_on_minutes:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ minute after they're sent. Click to change.",ephemeral_editable_change_on_minutes_comment:"System message text for when disappearing messages setting for a group is changed to some number of minutes and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_on_minutes_plural:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ minutes after they're sent. Click to change.",ephemeral_editable_change_on_seconds:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ second after they're sent. Click to change.",ephemeral_editable_change_on_seconds_comment:"System message text for when disappearing messages setting for a group is changed to some number of seconds and you are allowed to change the chat setting. [EPH]",ephemeral_editable_change_on_seconds_plural:"__name__ turned on disappearing messages. All new messages will disappear from this chat __number__ seconds after they're sent. Click to change.",ephemeral_explanation:"Turning on this setting will make new messages disappear from this chat after 7 days. Recipients can still save these messages elsewhere.",ephemeral_explanation_comment:"Body copy description that explains what happens when disappearing messages are turned on. [EPH]",ephemeral_explanation_generic:"Turning on this setting will make new messages disappear from this chat after a selected amount of time. Recipients can still save these messages elsewhere.",ephemeral_explanation_generic_comment:"Body copy description that explains what happens when disappearing messages are turned on for a selected amount of time (for example, 7 days, 24 hours). [EPH]",ephemeral_explanation_on_days:"All new messages will disappear from this chat __number__ day after they're sent.",ephemeral_explanation_on_days_comment:"Label for a chat in the chat list to indicate that disappearing messages are enabled with some number of days. [EPH]",ephemeral_explanation_on_days_plural:"All new messages will disappear from this chat __number__ days after they're sent.",ephemeral_explanation_on_hours:"All new messages will disappear from this chat __number__ hour after they're sent.",ephemeral_explanation_on_hours_comment:"Label for a chat in the chat list to indicate that disappearing messages are enabled with some number of hours. [EPH]",ephemeral_explanation_on_hours_plural:"All new messages will disappear from this chat __number__ hours after they're sent.",ephemeral_explanation_on_minutes:"All new messages will disappear from this chat __number__ minute after they're sent.",ephemeral_explanation_on_minutes_comment:"Label for a chat in the chat list to indicate that disappearing messages are enabled with some number of minutes. [EPH]",ephemeral_explanation_on_minutes_plural:"All new messages will disappear from this chat __number__ minutes after they're sent.",ephemeral_explanation_on_seconds:"All new messages will disappear from this chat __number__ second after they're sent.",ephemeral_explanation_on_seconds_comment:"Label for a chat in the chat list to indicate that disappearing messages are enabled with some number of seconds. [EPH]",ephemeral_explanation_on_seconds_plural:"All new messages will disappear from this chat __number__ seconds after they're sent.",ephemeral_group_permission_chat:"Anyone in this chat can change this setting.",ephemeral_group_permission_chat_comment:"Text in the disappearing messages drawer for 1:1 chats informing users everyone is allowed to change the setting. [EPH]",ephemeral_group_permission_group:"Group admins control who can change this setting.",ephemeral_group_permission_group_comment:"Text in the disappearing messages drawer for group chats informing users group admins control who are allowed to change the setting. [EPH]",ephemeral_info_on_days:"This message will disappear from this chat __number__ day after it's sent.",ephemeral_info_on_days_comment:"Info button text for when an expiring message is set to some number of days. [EPH]",ephemeral_info_on_days_plural:"This message will disappear from this chat __number__ days after it's sent.",ephemeral_info_on_hours:"This message will disappear from this chat __number__ hour after it's sent.",ephemeral_info_on_hours_comment:"Info button text for when an expiring message is set to some number of hours. [EPH]",ephemeral_info_on_hours_plural:"This message will disappear from this chat __number__ hours after it's sent.",ephemeral_info_on_minutes:"This message will disappear from this chat __number__ minute after it's sent.",ephemeral_info_on_minutes_comment:"Info button text for when an expiring message is set to some number of minutes. [EPH]",ephemeral_info_on_minutes_plural:"This message will disappear from this chat __number__ minutes after it's sent.",ephemeral_info_on_seconds:"This message will disappear from this chat __number__ second after it's sent.",ephemeral_info_on_seconds_comment:"Info button text for when an expiring message is set to some number of seconds. [EPH]",ephemeral_info_on_seconds_plural:"This message will disappear from this chat __number__ seconds after it's sent.",ephemeral_setting_off:"Off",ephemeral_setting_off_comment:"Copy under a menu label in chat settings that shows  disappearing messages are turned off. [EPH]",ephemeral_setting_on:"On",ephemeral_setting_on_comment:"Copy under a menu label in chat settings that shows  disappearing messages are turned on. [EPH]",ephemeral_setting_on_days:"__number__ day",ephemeral_setting_on_days_comment:"Text for when disappearing messages setting is set to some number of days. [EPH]",ephemeral_setting_on_days_plural:"__number__ days",ephemeral_setting_on_hours:"__number__ hour",ephemeral_setting_on_hours_comment:"Text for when disappearing messages setting is set to some number of hours. [EPH]",ephemeral_setting_on_hours_plural:"__number__ hours",ephemeral_setting_on_minutes:"__number__ minute",ephemeral_setting_on_minutes_comment:"Text for when disappearing messages setting is set to some number of minutes. [EPH]",ephemeral_setting_on_minutes_plural:"__number__ minutes",ephemeral_setting_on_seconds:"__number__ second",ephemeral_setting_on_seconds_comment:"Text for when disappearing messages setting is set to some number of seconds. [EPH]",ephemeral_setting_on_seconds_plural:"__number__ seconds",err_unsent_forward_text:"Wait until the message finishes sending and displays a checkmark before forwarding.",err_unsent_forward_text_decrypting:"Wait until this message is fully delivered before forwarding.",err_unsent_forward_text_plural:"Wait until the messages finish sending and displays a checkmark before forwarding.",err_unsent_forward_text_revoked:"Unable to forward unsent message.",err_unsent_forward_title:"Can't Forward",files_empty:"__number__ file you tried adding has no content.",files_empty_comment:"Displayed in a popup if user adds different types of files that are empty (ie, the file is 0 bytes). The __number__ placeholder is the number of empty files.",files_empty_plural:"__number__ files you tried adding have no content.",files_failed_to_download:"__count__ file failed to be downloaded because it's no longer on your phone.",files_failed_to_download_comment:"Displayed in a toast message when failing to download files which are not available on the phone",files_failed_to_download_plural:"__count__ files failed to be downloaded because they are no longer on your phone.",files_not_added:"__number__ file could not be added.",files_not_added_comment:"Displayed if user could not add files due to various reasons.",files_not_added_plural:"__number__ files could not be added.",files_not_supported:"__number__ file you tried adding is not supported.",files_not_supported_comment:"Displayed if user adds files those are not supported.",files_not_supported_plural:"__number__ files you tried adding are not supported.",files_too_big:"__number__ file you tried adding is larger than the __maxSize__ limit.",files_too_big_comment:"Displayed if user adds different types of files that are too large.",files_too_big_plural:"__number__ files you tried adding are larger than the __maxSize__ limit.",filesize_byte:"B",filesize_gigabyte:"GB",filesize_kilobyte:"kB",filesize_megabyte:"MB",forward:"Forward",forward_chat_limit:"You can only share with up to __count__ chat",forward_chat_limit_comment:"Toast text displayed when attempting to forward to too many chats.",forward_chat_limit_frequently_forwarded:"Forwarded many times. You can only share with up to __count__ chat.",forward_chat_limit_frequently_forwarded_comment:"Toast text displayed when attempting to forward frequently forwarded messages to too many chats.",forward_chat_limit_frequently_forwarded_plural:"Forwarded many times. You can only share with up to __count__ chats.",forward_chat_limit_plural:"You can only share with up to __count__ chats",forward_message:"Forward",forward_message_plural:"Forward messages",forward_message_to:"Forward message to",forward_message_to_plural:"Forward messages to",forwarded_count:"Forwarded __count__ time",forwarded_count_comment:"The number of times the message has been forwarded",forwarded_count_plural:"Forwarded __count__ times",found_contact_card_text:"Found a contact card for this number. View contact card?",found_contact_card_text_comment:"[H]",found_contact_card_text_plural:"Found contact cards for this number. View contact cards?",fts_search_placeholder_results_incomplete:"Older results may be available",fts_search_placeholder_results_incomplete_comment:"A placeholder card shown with the message search results because not all chat history has been synced yet.",get_edge:"Microsoft Edge",get_google_chrome:"Google Chrome",get_mozilla_firefox:"Mozilla Firefox",get_opera:"Opera",get_safari:"Safari (macOS 11+ Only)",get_safari_comment:"Safari minimum version browser description",gif_files_not_supported:"Custom GIF animations are currently not supported. Please use provided GIF selection feature.",gif_files_not_supported_comment:"Warn user that animated GIF file will be sent as a regular image",global_call_unmute:"Incoming calls off. Click to restore.",global_call_unmute_comment:"Toast message displayed asking user whether to restore incoming call",global_unmute:"Alerts and sounds off. Click to restore.",global_unmuted:"Notifications enabled",group_admin_not_a_contact:"You were added by someone who's not in your contacts",group_deleted:"Group deleted",group_invite_cancel:"Cancel",group_invite_check_link:"Checking invite link",group_invite_contacts:"__count__ contact",group_invite_contacts_comment:"Count of contacts user has within the group invite link drawer",group_invite_contacts_plural:"__count__ contacts",group_invite_join:"Join group",group_invite_link_description:"Anyone with WhatsApp can follow this link to join this group. Only share it with people you trust.",group_invite_participants:"__count__ participant",group_invite_participants_plural:"__count__ participants",group_invite_query_401:"You can't view this group's invite link because you're not an admin.",group_invite_query_406:"This invite link doesn't match any WhatsApp groups.",group_invite_revoke_confirmation_text:"Are you sure you want to reset the invite link for __groupName__? If you reset the link, no one will be able to use it to join this group.",group_invite_revoke_confirmation_text_comment:"Confirmation link for dialog when user wants to reset the group invite link. The parameter is the group name.",group_invite_revoke_in_progress:"Resetting the invite link for __groupName__.",group_invite_revoke_in_progress_comment:"Text that gets displayed in the Toast when the invite link is being reset. The parameter is the group name.",group_invite_send_link_title:"Send link to",group_invite_v4_cant_join_body_desktop:"Joining group invites from Desktop is not yet available on the multi-device beta. Use your phone instead.",group_invite_v4_cant_join_body_desktop_comment:"Main text of modal shown to user to inform them that they can't use group invite to join the group from desktop",group_invite_v4_cant_join_body_web:"Joining group invites from Web is not yet available on the multi-device beta. Use your phone instead.",group_invite_v4_cant_join_body_web_comment:"Main text of modal shown to user to inform them that they can't use group invite to join the group from web",group_invite_v4_cant_join_title:"Can't join group",group_invite_v4_cant_join_title_comment:"Title of modal shown to user to inform them that they can't use group invite to join the group from web/desktop",group_invite_v4_cant_revoke_body_desktop:"Viewing and revoking group invites from Desktop is not yet available on the multi-device beta. Use your phone instead.",group_invite_v4_cant_revoke_body_desktop_comment:"Main text of modal shown to user to inform them that they can't view or revoke group invite from desktop",group_invite_v4_cant_revoke_body_web:"Viewing and revoking group invites from Web is not yet available on the multi-device beta. Use your phone instead.",group_invite_v4_cant_revoke_body_web_comment:"Main text of modal shown to user to inform them that they can't view or revoke group invite from web",group_invite_v4_cant_revoke_title:"Can't view group invite details",group_invite_v4_cant_revoke_title_comment:"Title of modal shown to user to inform them that they can't view or revoke group invite from web/desktop",group_list_one_item:'"__A__"',group_list_one_item_comment:"__A__ is the only entry in the list of group names.",group_list_three_or_more_end:'__A__"__B__" & "__C__"',group_list_three_or_more_end_comment:"__A__ is the first part of the list (at least one entry), __A__ will be one or multiple group_list_three_or_more_middle_or_start_entries strings, so the space is already there. __B__ is the second to last entry in the list. __C__ is the last entry in the list. The list will contain at least 3 entries. All entries are group names.",group_list_three_or_more_middle_or_start_entries:'"__A__," __B__',group_list_three_or_more_middle_or_start_entries_comment:"__A__ is the first or subsequent items in the list, __B__ is the last 2 items in the list. The list will contain at least 3 entries. All entries are group names.",group_list_two_items:'"__A__" & "__B__"',group_list_two_items_comment:"__A__ is the first entry in the list, __B__ is the second (last) item in the list. The list will contain only 2 entries. All entries are group names.",group_muted:"Group muted",group_participant_hint:"Type contact name",group_participants_secondary_info:"__count__ other",group_participants_secondary_info_comment:"Used in secondary text of a cell to describe the participants in a group",group_participants_secondary_info_plural:"__count__ others",group_show_all_contacts:"View all (__more__)",group_show_all_contacts_comment:"Text displayed on button to display all group members. For example, View all (25 more) [INFO]",group_show_more_contacts:"__count__ more",group_show_more_contacts_comment:"Text displayed on button to display all group members.",group_show_more_contacts_plural:"__count__ more",group_subject:"Group Subject",group_v4_invite_list_section_header:"__number__ invited",group_v4_invite_list_section_header_comment:"The pending invite section header in the groups info draw",group_v4_invite_prompt_modal:"Couldn't add __participant__. You can invite them privately to join this group.",group_v4_invite_prompt_modal_comment:"Error when you try to add someone but their privacy setting prevents you [Values:1..]",group_v4_invite_prompt_modal_plural:"Couldn't add __participant__. You can invite them privately to join this group.",groups_v4_revoke_confirm:"Reset invite for __participant__? If you reset the invite, __participant__ won't be able to use it to join this group.",groups_v4_revoke_confirm_comment:"Message shown in the confirm modal when resetting a groups v4 invite",guide_desktop_camera_missing_description:"You can't take a photo because it looks like your computer doesn't have a camera. Try connecting one or if you have one connected, try restarting your browser.",guide_desktop_camera_missing_title:"Camera Not Found",guide_desktop_camera_title:"Allow camera",guide_desktop_mic_missing_description:"You can't record a Voice Message because it looks like your computer doesn't have a microphone. Try connecting one or if you have one connected, try restarting your browser.",guide_desktop_mic_missing_title:"Microphone Not Found",guide_desktop_mic_title:"Allow microphone",help_drawer_title:"Help",hidden_group_message_text_with_author:"Message from __author__",hidden_message_text:"__unreadCount__ New Message",hidden_message_text_comment:"the desktop alert message text for non-group chats with previews off",hidden_message_text_plural:"__unreadCount__ New Messages",if_unchecked_you_will_be_logged_out_afterawhile:"You'll be logged out after several minutes of inactivity",image_empty:"__number__ image you tried adding has no content.",image_empty_comment:"Displayed in a popup if user adds images that are empty (ie, the file is 0 bytes). The __number__ placeholder is the number of empty images.",image_empty_plural:"__number__ images you tried adding have no content.",image_too_big:"__number__ image you tried adding is larger than the __maxSize__ limit.",image_too_big_comment:"Displayed if user adds an image that's too large.",image_too_big_plural:"__number__ images you tried adding are larger than the __maxSize__ limit.",incoming_call_notification_text:"Check your phone to answer",incoming_group_video_call_notification_title:"WhatsApp group video call from __name__",incoming_group_video_call_notification_title_comment:"OS notification displayed for an incoming group video call",incoming_group_voice_call_notification_title:"WhatsApp group voice call from __name__",incoming_group_voice_call_notification_title_comment:"OS notification displayed for an incoming group voice call",incoming_video_call_notification_title:"WhatsApp video call from __name__",incoming_video_call_notification_title_comment:"Notification displayed for the incoming video call",incoming_voice_call_notification_title:"WhatsApp voice call from __name__",incoming_voice_call_notification_title_comment:"Notification displayed for the incoming voice call",intro_connection:"WhatsApp connects to your phone to sync messages. To reduce data usage, connect your phone to Wi-Fi.",intro_description_upgrade_to_md:"With this update, your phone won't need to stay online to use WhatsApp on web, desktop or other devices. Up to 4 linked devices and 1 phone can be used at the same time. __learn_more__",intro_description_upgrade_to_md_biz:"With this update, your phone won't need to stay online to use WhatsApp Business on web, desktop or other devices. Up to 4 linked devices and 1 phone can be used at the same time. __learn_more__",intro_description_upgrade_to_md_biz_comment:"Text shown on landing page to encourage user to upgrade to MD when paired to WA Business [MD-BIZ]",intro_description_upgrade_to_md_comment:"Text shown on landing page to encourage user to upgrade to MD",intro_description_upgrade_to_md_countdown:"This version expires in __num_days__ day. With the update, your phone won't need to stay online to use WhatsApp on other devices. Up to 4 linked devices and 1 phone can be used at the same time. __learn_more__",intro_description_upgrade_to_md_countdown_biz:"This version expires in __num_days__ day. With the update, your phone won't need to stay online to use WhatsApp Business on other devices. Up to 4 linked devices and 1 phone can be used at the same time. __learn_more__",intro_description_upgrade_to_md_countdown_biz_comment:"Text shown on landing page to encourage Business user to upgrade to MD [MD-BIZ]",intro_description_upgrade_to_md_countdown_biz_plural:"This version expires in __num_days__ days. With the update, your phone won't need to stay online to use WhatsApp Business on other devices. Up to 4 linked devices and 1 phone can be used at the same time. __learn_more__",intro_description_upgrade_to_md_countdown_comment:"Text shown on landing page to encourage user to upgrade to MD",intro_description_upgrade_to_md_countdown_plural:"This version expires in __num_days__ days. With the update, your phone won't need to stay online to use WhatsApp on other devices. Up to 4 linked devices and 1 phone can be used at the same time. __learn_more__",intro_description_upgrade_to_md_countdown_time:"This version will expire today at __time__. With the update, your phone won't need to stay online to use WhatsApp on other devices. Up to 4 linked devices and 1 phone can be used at the same time. __learn_more__",intro_description_upgrade_to_md_countdown_time_biz:"This version will expire today at __time__. With the update, your phone won't need to stay online to use WhatsApp Business on other devices. Up to 4 linked devices and 1 phone can be used at the same time. __learn_more__",intro_description_upgrade_to_md_countdown_time_biz_comment:"Text shown on landing page to encourage user to upgrade to MD [MD-BIZ]",intro_description_upgrade_to_md_countdown_time_comment:"Text shown on landing page to encourage user to upgrade to MD",intro_native_mac:"WhatsApp is available for Mac. __get_it_here__.",intro_native_mac_comment:"Desktop client promotion on web client intro screen. __get_it_here__ is replaced with download link.",intro_native_mac_md:"Make calls from desktop with WhatsApp for Mac. __get_it_here__.",intro_native_mac_md_comment:"Desktop client promotion on web client intro screen. __get_it_here__ is replaced with download link. Shown to users post md v1.1 rollout.",intro_native_windows:"WhatsApp is available for Windows. __get_it_here__.",intro_native_windows_comment:"Desktop client promotion on web client intro screen. __get_it_here__ is replaced with download link.",intro_native_windows_md:"Make calls from desktop with WhatsApp for Windows. __get_it_here__.",intro_native_windows_md_comment:"Desktop client promotion on web client intro screen. __get_it_here__ is replaced with download link. Shown to users post md v1.1 rollout.",intro_title:"Keep your phone connected",invite_exp_at:"Expires at __time__",invite_exp_at_comment:"Group invite expiration time shown in the groups v4 invite modal",invite_exp_in_x_days:"Expires in __number__ day",invite_exp_in_x_days_comment:"Group invite expiration time for number of days",invite_exp_in_x_days_plural:"Expires in __number__ days",label_count:"__count__ item",label_count_comment:"__count__ is the number of items that belong to a label",label_count_plural:"__count__ items",label_search_placeholder:"Search in __labelName__...",label_search_placeholder_comment:"This is the placeholder text shown in the input when the user has selected a label. {1} is the name pf the label",learn_more:"Learn more",links:"Links",links_count:"__count__ Link",links_count_comment:"Displayed in media section of group/contact info drawer when there are no media, but have some links",links_count_plural:"__count__ Links",load_earlier_messages:"load earlier messages",load_recent_messages:"load recent messages",loading:"Loading",loading_messages:"loading messages",login:"Log in",login_android_menu:"Menu __android_menu_icon__",login_android_menu_comment:"WhatsApp Web login instructions for Android, show the Menu icon that users need to tap",login_help_link:"Need help to get started?",login_help_link_comment:"Link to Help Center article on login page ",login_iphone_settings:"Settings __iphone_settings_icon__",login_iphone_settings_comment:"WhatsApp Web login instructions for iPhone, show the Settings icon that users need to tap",login_step_2:"Tap __android_menu__ or __iphone_settings__ and select __whatsapp_web_menu_item__",login_step_2_comment:"WhatsApp Web login instructions, step 2, placeholders will be replaced with icons and 'WhatsApp Web' (menu item in mobile apps)",login_step_3_md:"Tap on __login_step_3_md_link_device__",login_step_3_md_comment:"WhatsApp Web login instructions post MD upgrade after transition UI, the 'new' step 3",login_whatsapp_web:"WhatsApp Web",login_whatsapp_web_comment:"App name in the top left on login page",low_storage_warning:"More than 1GB storage usage detected. Please be aware that remaining storage is low.",low_storage_warning_comment:"UI shown when internal users have more than 1GB storage consumption",low_storage_warning_title:"Low storage warning",low_storage_warning_title_comment:"UI title shown when internal users have more than 1GB storage consumption",make_sure_computer_active_internet_connection:"Make sure your computer has an active Internet connection.",manage:"Manage",mark_read_chat:"Mark as read",mark_unread_chat:"Mark as unread",md_offine_progress:"Downloading messages: __progress__%",md_offine_progress_comment:"Showing percentage of already processed messages in M-D offline resume screen.",md_upgrade_butterbar_countdown_today_text:"This version will expire today at __time__. Update to use WhatsApp Web without keeping your phone online.",md_upgrade_butterbar_countdown_today_text_comment:"Text of butterbar indicating when they'll be force upgraded to new WhatsApp Web (MD)",md_upgrade_butterbar_countdown_today_text_desktop:"This version will expire today at __time__. Update to use WhatsApp Desktop without keeping your phone online.",md_upgrade_butterbar_countdown_today_text_desktop_comment:"Text of butterbar indicating when they'll be force upgraded to new WhatsApp Desktop (MD)",media:"Media",media_editor_add_caption:"Add a caption",media_editor_add_caption_comment:"Text for a button to add caption for an image in the media editor.",media_file_changed:"This file was changed from original.",media_file_changed_comment:"Warning message displayed in case if uploaded media file was changed from the original, for example gif is replaced with static image.",menuitem_blocked:"Blocked",menuitem_help:"Help",menuitem_keep_me_signed_in:"Keep me signed in",menuitem_logout:"Log out",menuitem_make_group_admin:"Make group admin",menuitem_notifications:"Notifications",menuitem_profile:"Profile",menuitem_profile_status:"Profile",menuitem_remove:"Remove",menuitem_settings:"Settings",menutitle_attach:"Attach",menutitle_menu:"Menu",message_audio_too_big:"This audio is too large. You can send audio up to __maxSize__.",message_audio_too_big_comment:"Displayed as a failed message if user adds an audio that's too large and the server validation fails with 413.",message_document_too_big:"This document is too large. You can send documents up to __maxSize__.",message_document_too_big_comment:"Displayed as a failed message if user adds a document that's too large and the server validation fails with 413.",message_file_too_big:"This file is too large. You can send files up to __maxSize__.",message_file_too_big_comment:"Displayed as a failed message if user adds different types of files that are too large and the server validation fails with 413.",message_image_too_big:"This image is too large. You can send images up to __maxSize__.",message_image_too_big_comment:"Displayed as a failed message if user adds an image that's too large and the server validation fails with 413.",message_info:"Message info",message_info_delivered:"Delivered",message_info_delivered_to:"Delivered to",message_info_played:"Played",message_info_played_by:"Played by",message_info_read:"Read",message_info_read_by:"Read by",message_info_remaining:"__count__ remaining",message_info_remaining_plural:"__count__ remaining",message_query_404:"Couldn't find message",message_too_large_text:"The message you're pasting is too long. Try shortening it or sending it in multiple parts.",message_too_large_title:"Message Too Long",message_video_too_big:"This video is too large. You can send videos up to __maxSize__.",message_video_too_big_comment:"Displayed as a failed message if user adds a video that's too large and the server validation fails with 413.",missing_audio_text:"Can't play this Voice Message because it's no longer on your phone.",missing_audio_title:"Voice Message Unavailable",missing_document_text:"Can't download this document because it's no longer on your phone.",missing_document_title:"Document Unavailable",missing_gif_text:"Can't view this GIF because it's no longer on your phone.",missing_gif_title:"GIF Unavailable",missing_media_title:"Media Message Unavailable",missing_photo_text:"Can't view this photo because it's no longer on your phone.",missing_photo_title:"Photo Unavailable",missing_video_text:"Can't play this video because it's no longer on your phone.",missing_video_title:"Video Unavailable",msg_send_error:"Phone number shared via url is invalid.",msg_send_title:"Send message to",multi_vcard_display_text:"__contactName__ and __count__ other contact",multi_vcard_display_text_comment:"A shortened string showing the name of a contact and the number of total contacts",multi_vcard_display_text_plural:"__contactName__ and __count__ other contacts",multi_vcard_number_of_contacts:"__count__ contact",multi_vcard_number_of_contacts_comment:"The number of contacts contained in a multi vCard message",multi_vcard_number_of_contacts_plural:"__count__ contacts",multi_vcard_send_limit:"You can only send up to __count__ contact",multi_vcard_send_limit_comment:"Toast text displayed when attempting to send too many contacts.",multi_vcard_send_limit_plural:"You can only send up to __count__ contacts",mute_time:'Mute "__name__" for',mute_time_comment:"Dialog title for muting a chat or group chat",name_list_four_or_more_middle_entries:"__A__, __B__",name_list_four_or_more_middle_entries_comment:"A is the first part of the list (at least first 2 entries). B the next list entry (not the last entry in the list). The list will contain at least 4 entries. All entries are names.",name_list_three_or_more_end:"__A__, and __B__",name_list_three_or_more_end_comment:"A is the first part of the list (at least first 2 entries), B is the last entry in the list. The list will contain at least 3 entries. All entries are names.",name_list_three_or_more_start:"__A__, __B__",name_list_three_or_more_start_comment:" A is the first entry in the list, B is the second entry of the list. The list will contain at least 3 entries. All entries are names.",name_list_two_items:"__A__ and __B__",name_list_two_items_comment:" A is the first entry in the list, B is the second (last) item in the list. The list will contain only 2 entries. All entries are names.",nc_archive_chat:"Archive Chat",nc_crash_message:"WhatsApp needed to restart because of a problem.",nc_crash_title:"Problem Detected",nc_delete_chat:"Delete Chat",nc_delete_group:"Delete Group",nc_exit_group:"Exit Group",nc_log_out:"Log Out",nc_mark_read:"Mark as Read",nc_mark_unread:"Mark as Unread",nc_menu_chat:"Chat",nc_menu_help:"Help",nc_menu_help_tos_privacy:"Terms and Privacy Policy",nc_menu_next_chat:"Next Chat",nc_menu_prev_chat:"Previous Chat",nc_menu_window:"Window",nc_menu_window_all_front:"Bring All to Front",nc_menu_window_minimize:"Minimize",nc_menu_window_zoom:"Zoom",nc_mute:"Mute",nc_new_chat:"New Chat",nc_new_group:"New Group",nc_profile_status:"Profile and About",nc_unarchive_chat:"Unarchive Chat",nc_unmute:"Cancel Mute",need_poke_video_text:"This video is unavailable. Please try again.",need_poke_video_text_comment:"This is the text of a modal displayed when the network is bad and the user cannot download a video. ",new_chat_flow_title:"New chat",new_group_flow_title:"New group",next_button:"Next",no_contacts:"No contacts",no_docs:"No Docs",no_groups:"No groups",no_links:"No Links",no_media:"No Media",no_result_found_for_label:"No result found for '__labelName__'",no_result_found_for_label_comment:"This is the empty placeholder, when a label has no items",no_starred_messages:"No starred messages",not_spam:"Not spam",notifications_drawer_title:"Notifications",num_image_in_album:"__number__ of __totalNumber__",num_image_in_album_comment:"Displays number of active image in album comparing to album total size",num_images_not_rendered:"+__number__",num_images_not_rendered_comment:"Number of images not rendered in an image album grid",ok_got_it:"OK, got it",option_auto_launch:"Start WhatsApp at Login",order_detail_drawer_title:"Order Detail",order_detail_drawer_title_comment:"Title of Drawer containing an order detail view [SOD]",order_detail_drawer_title_owner:"Your Order",order_detail_drawer_title_owner_comment:"Title of Drawer containing an order detail view, when user is the creator of the Order [SOD]",order_estimated_subtotal:"__subtotal__ (estimated)",order_estimated_subtotal_comment:"Estimated subtotal shown on Order detail view, above product list [SOD]",order_item_quantity:"Qty __quantity__",order_item_quantity_comment:"Quantity shown by each item in an Order [SOD]",order_message_estimated_total:"__total__ (estimated total)",order_message_estimated_total_comment:"Estimated total shown on Order Message [SOD]",participant_already_blocked:"Already blocked",payment_request_order_number:"Order #__order__",payment_request_order_number_comment:"Order number for payment request header [SOD]",phone_disconnected_md_upgrade:"Update now to use WhatsApp Web on other devices without keeping your phone online.",phone_disconnected_md_upgrade_comment:"String shown on butterbar to create awareness about new version of WhatsApp Web.",phone_has_another_active_webclient_session:'WhatsApp is open on another computer or browser. Click "Use Here" to use WhatsApp in this window.',pin_chat:"Pin chat",placeholder_msg:"Waiting for this message. This may take a while.",previous_button:"Previous",privacy_option_contacts_excluded:"__count__ contact excluded",privacy_option_contacts_excluded_comment:"How many contacts you excluded to see a specific info about you, for example, profile photo [WEBPRI]",privacy_option_contacts_excluded_plural:"__count__ contacts excluded",products_count:"__count__ Product",products_count_comment:"Displayed in media section of group/contact info drawer when there are no media, but have some products",products_count_plural:"__count__ Products",profile_or_group_image_too_small:"This photo is too small. Please select a photo with height and width of at least __size__ pixel.",profile_or_group_image_too_small_comment:"Displayed if the user attempts to upload a profile/group image that is too small.",profile_or_group_image_too_small_plural:"This photo is too small. Please select a photo with height and width of at least __size__ pixels.",ptt_failed:"Couldn't send this Voice Message.",punctuation_ellipsis:"",punctuation_ellipsis_comment:"ellipsis punctuation.  note that we use a single unicode char instead of 3 dots",pushname_description:"This is not your username or pin. This name will be visible to your WhatsApp contacts.",quoted_admin_msg_group_name:"Group  __groupName__",quoted_admin_msg_group_name_comment:"Shown above a message sent to a group admin",reaction_all:"All",reaction_all_comment:"Tab title in reaction details pane when there is only one reaction. [RCT]",reaction_all_plural:"All",reactions_send_failure_many:"__count__ reactions weren't sent",reactions_send_failure_many_comment:"when there are more than 3 failed reactions we only display the count not the emoji [RCT]",reactions_send_failure_many_plural:"__count__ reactions weren't sent",reconnect:"Reconnect",remove:"Remove",remove_group_icon:"Remove this group's icon?",remove_label_confirm_message:'Remove label "__labelName__" from __count__ item',remove_label_confirm_message_comment:"This is is the confirm message shown to the user before label removal",remove_label_confirm_message_plural:'Remove label "__labelName__" from __count__ items',remove_photo:"Remove photo",remove_profile_photo:"Remove your profile photo?",report_spam:"Report spam",resend_message:"Click to resend",retry_now:"Retry Now",retrying:"Retrying",retrying_in:"Retrying in __duration__",retrying_in_some_seconds:"Retrying in __number__ second",retrying_in_some_seconds_plural:"Retrying in __number__ seconds",save_button:"Save",scan_db:"Scan Database Usage",scan_db_comment:"Request to scan datatbase title text",search:"Search",search_contacts:"Search contacts",search_emoji:"Search Emoji",search_gifs:"Search GIFs via __service__",search_gifs_comment:"Placeholder text for gif search. The __service__ will be the name of the provider (e.g. 'GIPHY' or 'Tenor')",search_groups:"Search groups",search_msgs:"Search Messages",search_no_chats_or_contacts:"No chats, contacts or messages found",search_no_contacts:"No contacts found",search_no_groups:"No groups found",search_no_messages:"No messages found",search_no_results_for_keyword:"No results found for '__keyword__'",search_no_results_for_keyword_comment:"User query yielded no contacts or groups matching the keyword",search_or_start_new_chat:"Search or start new chat",searching_chats_contacts_messages:"Looking for chats, contacts or messages",searching_messages:"Looking for messages",security_drawer_learn_more:"Learn which chats are end to end encrypted",security_drawer_learn_more_comment:"Learn more link in Settings > Security",security_drawer_setting_title:"Show security notifications",security_drawer_setting_title_comment:"Label for security notifications checkbox (Settings > Security)",see_archived:"See __count__ archived chat",see_archived_plural:"See __count__ archived chats",selected_count:"__count__ selected",selected_count_comment:"Count of selected messages used for msg forwarding",selected_count_plural:"__count__ selected",send_as_sticker_tooltip_photo:"Photo set to send as sticker",send_as_sticker_tooltip_photo_comment:"Will appear in a tooltip after the send as sticker setting is turned on.",send_contact:"Send contact",send_contact_comment:"Title of modal dialog when forwarding a single contact to existing chat threads",send_contacts:"Send contacts",send_logs_confirm:"send",send_logs_default_subject:"Feedback/Question about WhatsApp",send_logs_email_address:"Email address",send_logs_email_confirm:"Confirm email address",send_logs_email_invalid:"Please enter a valid email address",send_logs_email_nomatch:"The email addresses do not match",send_logs_email_subject:"Subject",send_logs_sent:"Feedback sent",send_logs_subject_error:"Please enter a subject.",send_logs_title:"Contact us",send_logs_too_many_screenshots:"__count__ Screenshot Maximum",send_logs_too_many_screenshots_comment:"Text that users can click to include screenshots in the Contact Us form",send_logs_too_many_screenshots_plural:"__count__ Screenshots Maximum",send_logs_too_short:"Please add more to your description",send_msg_to_verify_identity:"To verify, send a message to __name__ and try again.",send_msg_to_verify_identity_comment:"Text to ask user to send a message to the contact, to verify the contact's identity.",sender_not_a_contact:"The sender is not in your contact list",settings_flow_title:"Settings",short_time_unit_days:"__days__d",short_time_unit_days_comment:"Short day text",short_time_unit_days_plural:"__days__d",short_time_unit_hours:"__hours__h",short_time_unit_hours_comment:"Short hour text",short_time_unit_hours_plural:"__hours__h",short_time_unit_minutes:"__minutes__m",short_time_unit_minutes_comment:"Short minute text",short_time_unit_minutes_plural:"__minutes__m",short_time_unit_seconds:"__seconds__s",short_time_unit_seconds_comment:"Short second text",short_time_unit_seconds_plural:"__seconds__s",some_of_your_messages_are_still_sending:"Some of your messages are still sending.",star_message:"Star",star_message_plural:"Star",starred_empty:"No starred messages",starred_flow_title:"Starred messages",sticker_pack_created_by:"Created by __name__",sticker_pack_created_by_comment:"Information about sticker pack author displayed in Sticker Store [STIC]",subject:"Subject",suspended_group_msg_bar:"This group is no longer available. Please contact __support__ for help.",suspended_group_msg_bar_comment:"This bar is rendered in place of the compose box for suspended group [GSUSP]",suspicious_link_label_multiple:"__count__ suspicious link",suspicious_link_label_multiple_comment:"Label in message with multiple links and at least 1 of the links is suspicious",suspicious_link_label_multiple_plural:"__count__ suspicious links",take_photo:"Take photo",temporarily_ban_user_duration:"You'll be able to use WhatsApp again in __duration__",temporarily_ban_user_duration_comment:"Text to show the duration of the temporary ban",temporarily_ban_user_reason_101:"You're temporarily banned from WhatsApp because you sent too many messages to people who don't have __phone__ in their address books.",temporarily_ban_user_reason_101_comment:"Text when user is temporarily banned",temporarily_ban_user_reason_103:"You're temporarily banned from WhatsApp because you created too many groups with people who don't have __phone__ in their address books.",temporarily_ban_user_reason_103_comment:"Text when user is temporarily banned",time_left:"__time__ left",time_left_comment:"Text indicating how much time is left to complete a task",time_left_plural:"__time__ left",too_many_files_uploaded:"Maximum number of files uploaded. __number__ file has been ignored.",too_many_files_uploaded_plural:"Maximum number of files uploaded. __number__ files have been ignored.",trying_to_reach_phone:"Trying to reach phone",turn_off_all_desktop_notifications_for:"Turn off all desktop notifications for:",unarchive_chat:"Unarchive chat",unblock_contact:"Unblock Contact",unblock_contact_comment:"Button to unblock a specific contact",unpin_chat:"Unpin chat",unread_mention_not_sync:"__count__ @ message not synced",unread_mention_not_sync_comment:"The number Unread mention message(s) has not synced yet and not available",unread_mention_not_sync_plural:"__count__ @ messages not synced",unread_message_count:"__count__ unread message",unread_message_count_comment:"The unread message divider count",unread_message_count_plural:"__count__ unread messages",unstar_all_button:"Unstar",unstar_all_confirm:"Unstar all messages?",unstar_message:"Unstar message",unstar_message_plural:"Unstar messages",until_date_at:"Until __date__ at __time__",until_date_at_comment:"Expiration date and time of notification Mute setting",until_today_at:"Until today at __time__",until_today_at_comment:"Expiration time of notification Mute setting, if today",until_tomorrow_at:"Until tomorrow at __time__",until_tomorrow_at_comment:"Expiration time of notification Mute setting, if tomorrow",until_weekday_at:"Until __day__ at __time__",until_weekday_at_comment:"Expiration day and time of notification Mute setting",untitled_document:"Untitled",update_edge:"Download Microsoft Edge",update_edge_comment:"Text content on button that links to the Microsoft Edge browser download page",update_google_chrome:"Update Google Chrome",update_mozilla_firefox:"Update Mozilla Firefox",update_oculus:"Update Meta Quest Browser",update_oculus_comment:"Text content on button that links to the Meta Quest Browser download page",update_safari:"Update Safari",update_samsung:"Update Samsung Internet",update_samsung_comment:"Text content on button that links to the Samsung Internet browser download page",updating_whatsapp_web:"WhatsApp is out of date. Updating now",updating_whatsapp_web_title:"Updating",upgrade_to_md_modal_awareness_content_1:"Your phone will no longer need to stay online to use WhatsApp on web, desktop or other devices. __learn_more__",upgrade_to_md_modal_awareness_content_1_biz:"Your phone will no longer need to stay online to use WhatsApp Business on web, desktop or other devices. __learn_more__",upgrade_to_md_modal_awareness_content_1_biz_comment:"Text shown to user when they click on 'get update' link on the butterbar [MD-BIZ]",upgrade_to_md_modal_awareness_content_1_comment:"Text shown to user when they click on 'get update' link on the butterbar",upload_photo:"Upload photo",v4_add_invite_join_system_msg:"__participants__ joined using your invite",v4_add_invite_join_system_msg_comment:"gp2 system message for user joined via an invite request",v4_add_invite_join_system_msg_plural:"__participants__ joined using your invite",v4_add_invite_sent_system_msg:"You invited __participants__",v4_add_invite_sent_system_msg_comment:"gp2 system message for when you added user for groups v4",v4_add_invite_sent_system_msg_plural:"You invited __participants__",version:"Version __version__",video_empty:"__number__ video you tried adding has no content.",video_empty_comment:"Displayed in a popup if user adds videos that are empty (ie, the file is 0 bytes). The __number__ placeholder is the number of empty videos.",video_empty_plural:"__number__ videos you tried adding have no content.",video_playback_not_supported:"Your browser doesn't support video playback.",video_too_big:"__number__ video you tried adding is larger than the __maxSize__ limit.",video_too_big_comment:"Displayed if user adds a video that's too large.",video_too_big_plural:"__number__ videos you tried adding are larger than the __maxSize__ limit.",view_contact_card:"View Contact Card",view_contact_card_comment:"[H]Text for View Contact Card button",view_contact_card_plural:"View Contact Cards",view_once_expired_dialog_body_photo:"This view once photo has expired. Please ask __name__ to re-send it.",view_once_expired_dialog_body_photo_comment:"Dialog body for message shown when trying to open an expired view once photo. [vom]",view_once_expired_dialog_body_video:"This view once video has expired. Please ask __name__ to re-send it.",view_once_expired_dialog_body_video_comment:"Dialog body for message shown when trying to open an expired view once video. [vom]",view_photo:"View photo",viewed_by_count:"Viewed by __count__",viewed_by_count_comment:"Denotes number of contacts who have viewed the users status",voip_active_call_action_turn_off_screen_sharing:"Stop screen sharing",voip_active_call_action_turn_off_screen_sharing_comment:"Screen sharing buttom tooltip text when screen sharing is off",voip_active_call_action_turn_on_screen_sharing:"Start screen sharing",voip_active_call_action_turn_on_screen_sharing_comment:"Screen sharing buttom tooltip text when screen sharing is on",voip_active_call_av_switch_disabled:"You can turn on your camera after __callee__ answers",voip_active_call_av_switch_disabled_comment:"Video camera button tooltip text when user doesn't have a/v switch feature enabled. (Users can't enable their camera on a voice call until the call connects.) '__callee__' is the name of the other person that the user is calling.",voip_active_call_microphone_and_speaker_hardware_disconnected:"Your call will end in a few seconds because your microphone and sound output device were disconnected.",voip_active_call_microphone_and_speaker_hardware_disconnected_comment:"Notification displayed when call is about to end in few seconds because microphone and sound output device were disconnected",voip_active_call_microphone_hardware_disconnected:"Your call will end in a few seconds because your microphone was disconnected.",voip_active_call_microphone_hardware_disconnected_comment:"Notification displayed when call is about to end in few seconds because microphone was disconnected",voip_active_call_peer_camera_and_mic_off:"__name__'s camera and mic are off",voip_active_call_peer_camera_and_mic_off_comment:"Active call status text when other party's camera and microphone are off",voip_active_call_peer_camera_off:"__name__'s camera is off",voip_active_call_peer_camera_off_comment:"Active call status text when other party's camera is off",voip_active_call_peer_muted:"__name__'s mic is muted",voip_active_call_peer_muted_comment:"Active call status text when other party's microphone is muted",voip_active_call_requesting_to_switch_to_video_peer:"__name__ is requesting to switch to a video call",voip_active_call_requesting_to_switch_to_video_peer_comment:"Status message when peer user requesting to switch call to video call",voip_active_call_speaker_hardware_disconnected:"Your call will end in a few seconds because your sound output device was disconnected.",voip_active_call_speaker_hardware_disconnected_comment:"Notification displayed when call is about to end in few seconds because sounds output device was disconnected",voip_call_av_switch_disabled:"You can turn off your camera after __callee__ answers",voip_call_av_switch_disabled_comment:"Video camera button tooltip text when call isn't connected. (Users can't disable their camera until the call connects.) '__callee__' is the name of the other person that the user is calling.",voip_call_fail_video_device_issue:"Please contact us with the make and model of your camera. ",voip_call_fail_video_device_issue_comment:"Text shown in modal when user attempts to place a call but the app hasn't had a chance to properly set up all the camera devices required to start the call. Asking user to contact Whatsapp for camera model",voip_call_failed_too_many_participants:"Call cannot be placed for more than __count__ participant",voip_call_failed_too_many_participants_comment:"Text shown to user when he tried to make a call while being on another call",voip_call_failed_too_many_participants_plural:"Call cannot be placed for more than __count__ participants",voip_call_group_call_participant_limit:"You can only call up to __count__ contact",voip_call_group_call_participant_limit_comment:"Toast text displayed when attempting to call too many contacts.",voip_call_group_call_participant_limit_plural:"You can only call up to __count__ contacts",voip_call_group_call_peer_not_compatible:"__callee__ couldn't be added to the call, because they are using an old version of WhatsApp or an incompatible device.",voip_call_group_call_peer_not_compatible_comment:"Toast message shown when user starts a group call but some recipients ('callee') are using incompatible versions of WhatsApp. Pluralization is based on number of callees.",voip_call_group_call_peer_not_compatible_plural:"__callee__ couldn't be added to the call, because they are using an old version of WhatsApp or an incompatible device.",voip_call_group_participant_others:"__count__ others",voip_call_group_participant_others_comment:"In group call when participant number is large, show xxx & __count__ others to indicate how many participants in the group",voip_call_group_participant_others_plural:"__count__ others",voip_call_not_allowed_callee_country:"__callee__ is in a country where WhatsApp Calling is unavailable",voip_call_not_allowed_callee_country_comment:"Toast message shown when trying to call a user that is in the country where calls not available. '__callee__' is the name of the other person that the user is calling.",voip_call_not_allowed_callee_not_compatible:"Couldn't place call: __callee__ is unable to receive WhatsApp calls.",voip_call_not_allowed_callee_not_compatible_comment:"Toast message shown when user cannot make an outgoing call to %s (callee) because the callee is using an incompatible version of WhatsApp.",voip_call_not_allowed_common:"Couldn't place call: __callee__ is unable to receive WhatsApp calls at this time.",voip_call_not_allowed_common_comment:"A common toast message shown when user is unable to receive a voice call. '__callee__' is the name of the other person that the user is calling.",voip_call_not_allowed_never:"Couldn't place call: __callee__ is unable to receive WhatsApp calls.",voip_call_not_allowed_never_comment:"Toast message shown when trying to call a user that doesn't support voice calls. '__callee__' is the name of the other person that the user is calling.",voip_call_peer_not_registered:"Couldn't place call: __callee__ is not registered on WhatsApp",voip_call_peer_not_registered_comment:"Toast message shown when user is trying to call a contact or number who is not registered on whatsapp. '__callee__' is the name of the other person that the user is calling.",voip_call_video_call_not_allowed_common:"Couldn't place call: __callee__ is unable to receive WhatsApp video calls at this time.",voip_call_video_call_not_allowed_common_comment:"A common toast message shown when user is unable to receive a video call. '__callee__' is the name of the other person that the user is calling.",voip_permission_camera_usage:"WhatsApp will use your computer's camera for video calls and taking photos. You can always change this later in your computer's settings.",voip_permission_camera_usage_comment:"When WhatsApp needs to use the camera for the first time (to take a picture or to make a desktop video call), a native MacOS modal appears with this message and prompting the user to either allow or deny WhatsApp permission to use the camera. NOTE: This string was accidentally deleted and re-inserted, please use any existing translations. Thanks!",voip_permission_microphone_usage:"WhatsApp will use your computer's microphone for calls and voice messages. You can always change this later in your computer's settings.",voip_permission_microphone_usage_comment:"When WhatsApp needs to use the microphone for the first time (to record a PTT message of make a desktop call), a native MacOS modal appears with this message and prompting the user to either allow or deny WhatsApp permission to use the microphone.  NOTE: This string was accidentally deleted and re-inserted, please use any existing translations. Thanks!",voip_window_title:"__contactName__ - WhatsApp voice call",voip_window_title_comment:"Title of the VOIP window during voice call",voip_window_title_video:"__contactName__ - WhatsApp video call",voip_window_title_video_comment:"Title of the VOIP window during video call",wallpaper_color_set:"Chat wallpaper set",web_add_device_description:"Your security code with __contactName__ changed because they registered WhatsApp on their phone again.",web_add_device_description_comment:"Text displayed in dialog when you click a self-device notification in 1:1 chat",web_add_device_from_you:"Your security code with __contactName__ changed because you logged into a new device.",web_add_device_from_you_comment:"Text displayed when a user logged into a new device",web_add_device_from_you_description:"Your security code with __contactName__ changed because there was a login on a new device of yours.",web_add_device_from_you_description_comment:"Text displayed in dialog when you click a self-device notification",web_add_this_device_description:"Your security code with __contactName__ changed because there was a login on this device.",web_add_this_device_description_comment:"Text displayed in dialog when you click a self-device notification",web_business_profile_high_alert:'WhatsApp has verified that this is the official business account of "__businessName__".',web_business_profile_high_alert_comment:"text shown in alert when Official Business Account clicked in business profile and name matches contact",web_business_profile_high_mismatch_alert:"WhatsApp has verified that this is the official business account of __businessName__. This account is saved with a different name in your contacts.",web_business_profile_high_mismatch_alert_comment:"text shown in alert when Official Business Account clicked in business profile and name doesn't match contact",web_can_not_verify_security_code_adv_v2:"Your security code could not be verified with __contactName__. Click to learn more.",web_can_not_verify_security_code_adv_v2_comment:"Text shown when a security code can't be verified due to error in device list, rolled out with adv v2",web_can_not_verify_security_code_adv_v2_description:"Verify your security code with __contactName__ because there was an error with their list of linked devices.",web_can_not_verify_security_code_adv_v2_description_comment:"Text shown on dialog when user taps on self-device notification, rolled out with adv v2",web_cannot_send_not_a_group_participant:"You can't send messages to this group because you're no longer a participant.",web_cannot_send_to_blocked_contact_1:"Can't send a message to blocked contact __contact__.",web_change_devices_description:"Your security code with __contactName__ changed because there was a login or logout from one or more of their devices.",web_change_devices_description_comment:"Text displayed in dialog when you click a self-device notification in 1:1 chat",web_change_devices_from_you_description:"Your security code with __contactName__ changed because there was a login or logout from one or more of your devices.",web_change_devices_from_you_description_comment:"Text displayed in dialog when you click a self-device notification",web_chat_muted:"Muted",web_contact_info_encrypted_enterprise:"Messages to this chat are secured with end-to-end encryption. __businessName__ may use another company to store, read and respond to your messages. Click to learn more.",web_contact_info_encrypted_enterprise_comment:"Shown in contact system message to indicate the encryption state for chats with enterprise users",web_conversation_contact_online:"online",web_conversation_last_seen_date:"last seen __date__ at __time__",web_conversation_last_seen_date_comment:"Someone's last seen. Web doesn't have space constraints like a phone, so please do not abbreviate.",web_conversation_last_seen_today:"last seen today at __time__",web_conversation_last_seen_today_comment:"Someone's last seen. Web doesn't have space constraints like a phone, so please do not abbreviate.",web_conversation_last_seen_weekday:"last seen __date__ at __time__",web_conversation_last_seen_weekday_comment:"Similar to web_conversation_last_seen_date except some languages (Russian) include a preposition before the weekday and not the date.",web_conversation_last_seen_yesterday:"last seen yesterday at __time__",web_conversation_last_seen_yesterday_comment:"Someone's last seen. Web doesn't have space constraints like a phone, so please do not abbreviate.",web_conversation_name_is_composing:"__participant__ is typing",web_conversation_name_is_composing_comment:"text that is shown while the sender is typing [S]",web_conversation_name_is_recording:"__participant__ is recording audio",web_conversation_name_is_recording_comment:"text that is shown while the sender is recording audio [S]",web_conversations_most_recent_audio:"Audio",web_conversations_most_recent_contact:"Contact",web_conversations_most_recent_document:"__count__ page",web_conversations_most_recent_document_comment:"Desktop notification string for info about a PDF",web_conversations_most_recent_document_plural:"__count__ pages",web_conversations_most_recent_file:"Document",web_conversations_most_recent_image:"Photo",web_conversations_most_recent_location:"Location",web_conversations_most_recent_video:"Video",web_conversations_most_recent_voice:"Voice message",web_delete_group:"Delete group",web_delete_list:"Delete broadcast list",web_download_document:'Download "__name__"',web_exit:"Exit",web_exit_comment:"Confirmation button",web_frequent_contacts:"Frequently Contacted",web_group_creation_date_at:"Created __date__ at __time__",web_group_creation_date_at_comment:"The date and time the Group was created",web_group_creation_date_at_support:"Created __date__ at __time__",web_group_creation_date_at_support_comment:"The date and time the Group was created [support]",web_group_creation_date_by:"Group created by __name__, on __date__ at __time__",web_group_creation_date_by_comment:"The owner, date and time the Group was created. For example, Group created by {name}, on 1/29/2021 at 4:12PM [INFO]",web_group_creation_date_by_me:"Group created by you, on __date__ at __time__",web_group_creation_date_by_me_comment:"The owner, date and time the Group was created. For example, Group created by you, on 1/29/2021 at 4:12PM [INFO]",web_group_creation_today_at:"Created today at __time__",web_group_creation_today_at_comment:"The time a Group was created, if today",web_group_creation_today_at_support:"Created today at __time__",web_group_creation_today_at_support_comment:"The time a Group was created, if today [support]",web_group_creation_today_by:"Group created by __name__, today at __time__",web_group_creation_today_by_comment:"The owner and time a Group was created, if today. For example, Group created by {name}, today at 4:12PM [INFO]",web_group_creation_today_by_me:"Group created by you, today at __time__",web_group_creation_today_by_me_comment:"The owner and time a Group was created, if today. For example, Group created by you, today at 4:12PM [INFO]",web_group_creation_weekday_at:"Created __day__ at __time__",web_group_creation_weekday_at_comment:"The day and time a Group was created, if less than a week ago. For example, Monday at 3:00 PM",web_group_creation_weekday_at_support:"Created __day__ at __time__",web_group_creation_weekday_at_support_comment:"The day and time a Group was created, if less than a week ago. For example, Monday at 3:00 PM [support]",web_group_creation_yesterday_at:"Created yesterday at __time__",web_group_creation_yesterday_at_comment:"The time a Group was created, if yesterday",web_group_creation_yesterday_at_support:"Created yesterday at __time__",web_group_creation_yesterday_at_support_comment:"The time a Group was created, if yesterday [support]",web_group_creation_yesterday_by:"Group created by __name__, yesterday at __time__",web_group_creation_yesterday_by_comment:"The owner and time a Group was created, if yesterday. For example, Group created by {name}, yesterday at 4:12PM [INFO]",web_group_creation_yesterday_by_me:"Group created by you, yesterday at __time__",web_group_creation_yesterday_by_me_comment:"The owner and time a Group was created, if yesterday. For example, Group created by you, yesterday at 4:12PM [INFO]",web_group_invite_revoked_name:"__name__ reset this group's invite link. Click to view the new invite link.",web_group_invite_revoked_name_comment:"The system message for when a user resets a group invite link.",web_group_no_frequently_forwarded_off_name:"__name__ changed this group's settings to allow messages that have been forwarded many times.",web_group_no_frequently_forwarded_off_name_comment:"system message displayed in chat when someone in the group turns off no frequently forwarded messages setting",web_group_no_frequently_forwarded_on_name:"__name__ changed this group's settings to not allow messages that have been forwarded many times.",web_group_no_frequently_forwarded_on_name_comment:"system message displayed in chat when someone in the group turns on no frequently forwarded messages setting",web_group_participant_changed_number:"__name__ changed their phone number to a new number.",web_group_participant_changed_number_comment:"%1$s is the name of the participant who changed their number",web_group_participant_changed_number_unknown_name:"__name__ changed to __new_number__",web_group_participant_changed_number_unknown_name_comment:"%1$s is the formatted number of the participant who changed their number; %2$s is the new number",web_group_participant_join_via_invite_name:"__name__ joined via an invite link",web_group_participant_join_via_invite_you:"You joined via an invite link",web_group_v4_invite_sent_success:"__num__ invite sent",web_group_v4_invite_sent_success_comment:"Success toast message to show user how many invites were sent",web_group_v4_invite_sent_success_plural:"__num__ invites sent",web_groups:"Groups",web_groups_participation_you_and_name:"Groups in common",web_individual_chat_encryption_state_change_description_enterprise:"Messages to this chat and calls are secured with end-to-end encryption, which means that WhatsApp and third parties can't read or listen to them. __businessName__ may use a service to store, read and respond to your messages and calls. Contact __businessName__ for information on their privacy practices.",web_individual_chat_encryption_state_change_description_enterprise_comment:"Shown in popup when the encryption state change system message is clicked on in a chat with an enterprise user",web_list_recipient_added:"__name__ added to the list",web_list_recipient_added_comment:"System message for user being added to a broadcast list. {1} is either the name or names of people that were added to the list",web_list_recipient_added_plural:"__name__ were added to the list",web_list_recipient_removed:"__name__ removed from the list",web_list_recipient_removed_comment:"System message for user being removed from a broadcast list. {1} is either the name or names of people that were removed to the list",web_list_recipient_removed_plural:"__name__ were removed from the list",web_md_downgrade_group_with_participant:"__name__ and possibly other group participants are using an old version of WhatsApp that cannot receive messages sent from web/desktop using the multi-device beta. Use your phone to message this group.",web_md_downgrade_group_with_participant_comment:"Shown in the pop up when failed to delivery message due to md downgrade for group chat, similar to web_md_downgrade_group",web_md_downgrade_user:"__name__ is using an old version of WhatsApp that cannot receive messages sent from web/desktop using the multi-device beta. Use your phone to message them.",web_md_downgrade_user_comment:"Shown in the pop up when failed to delivery message due to md downgrade for 1:1 chat",web_md_security_change_modal_description:"This happened likely because __contactName__ or you recently changed which devices you use WhatsApp on. Please verify the security code again.",web_md_security_change_modal_description_comment:"Text displayed as description for the security code change modal on identity verification page",web_md_security_change_modal_title:"Your security code with __contactName__ changed",web_md_security_change_modal_title_comment:"Text displayed as title for the security code change modal on identity verification page",web_md_verify_explanation:"To verify that messages and calls with __contactName__ are end-to-end encrypted, open this screen on your phone, and follow the instructions.",web_md_verify_explanation_adv_v2:"To verify that messages and calls with __contactName__ are end-to-end encrypted, scan or upload this code on their device. You can also compare the number above instead.",web_md_verify_explanation_adv_v2_comment:"A short paragraph explaining to users how to verify security code on multi-device, rolled out with adv v2",web_md_verify_explanation_comment:"A short paragraph explaining to users how to verify security code on multi-device",web_menuitem_status:"About",web_menuitem_status_comment:"Refers to old status which is now called About",web_messages:"Messages",web_missed_group_video_call_system_message:"Missed group video call at __time__",web_missed_group_video_call_system_message_comment:"Missed group video call system message. Parameter is a formatted timestamp.",web_missed_group_video_call_system_message_plural:"Missed group video call at __time__",web_missed_group_voice_call_system_message:"Missed group voice call at __time__",web_missed_group_voice_call_system_message_comment:"Missed group voice call system message. Parameter is a formatted timestamp.",web_missed_group_voice_call_system_message_plural:"Missed group voice call at __time__",web_missed_video_call_chatlist:"Missed video call",web_missed_video_call_system_message:"Missed video call at __time__",web_missed_video_call_system_message_comment:"Missed 1:1 video call system message. Parameter is a formatted timestamp, and pluralization is based on the _hour_ of the timestamp parameter.",web_missed_video_call_system_message_plural:"Missed video call at __time__",web_missed_voice_call_chatlist:"Missed voice call",web_missed_voice_call_system_message:"Missed voice call at __time__",web_missed_voice_call_system_message_comment:"Missed 1:1 voice call system message. Parameter is a formatted timestamp.",web_missed_voice_call_system_message_plural:"Missed voice call at __time__",web_non_verified_transition_alert:"The business account for __businessName__ has registered as a standard user account and may no longer belong to the business.",web_non_verified_transition_alert_comment:"[H]text shown in alert when a user clicks the non-business transition system message. parameter is the business' name.",web_other_contacts:"Other contacts",web_participants_title:"__count__ participant",web_participants_title_comment:"Participant list title in group info, shows number of participants",web_participants_title_plural:"__count__ participants",web_payment_action_account_setup_reminder_system_message:"To receive a payment from __senderName__, set up your payment account on your phone.",web_payment_action_account_setup_reminder_system_message_comment:"payment setup reminder system message. first parameter is the payment sender's name",web_payment_action_request_cancelled_system_message_other:"__contactName__ canceled their payment request for __currencyAndAmount__",web_payment_action_request_cancelled_system_message_other_comment:"payment request canceled system message.",web_payment_action_request_cancelled_system_message_other_plural:"__contactName__ canceled their payment request for __currencyAndAmount__",web_payment_action_request_cancelled_system_message_you:"You canceled your payment request to __contactName__ for __currencyAndAmount__",web_payment_action_request_cancelled_system_message_you_comment:"payment request canceled system message.",web_payment_action_request_cancelled_system_message_you_plural:"You canceled your payment request to __contactName__ for __currencyAndAmount__",web_payment_action_request_declined_other:"__contactName__ declined your payment request for __currencyAndAmount__.",web_payment_action_request_declined_other_comment:"declined payment request system message. first parameter is the decliner's name or number, second parameter is the formatted currency and amount",web_payment_action_request_declined_other_plural:"__contactName__ declined your payment request for __currencyAndAmount__.",web_payment_action_request_declined_you:"You declined __contactName__'s payment request for __currencyAndAmount__.",web_payment_action_request_declined_you_comment:"declined payment request system message. first parameter is requester's formatted name/number, second parameter is the formatted currency and amount",web_payment_action_request_declined_you_plural:"You declined __contactName__'s payment request for __currencyAndAmount__.",web_payment_action_request_expired_sender_other:"__senderName__'s payment request for __currencyAndAmount__ to you expired.",web_payment_action_request_expired_sender_other_comment:"expired payment request system message. first parameter is sender's name or number, second parameter is the formatted currency and amount",web_payment_action_request_expired_sender_other_plural:"__senderName__'s payment request for __currencyAndAmount__ to you expired.",web_payment_action_request_expired_sender_you:"Your payment request to __receiverName__ for __currencyAndAmount__ expired.",web_payment_action_request_expired_sender_you_comment:"expired payment request system message. first parameter is receiver's name or number, second parameter is the formatted currency and amount",web_payment_action_request_expired_sender_you_plural:"Your payment request to __receiverName__ for __currencyAndAmount__ expired.",web_payment_action_send_payment_invitation:"You notified __receiverName__ that you are trying to send a payment.",web_payment_action_send_payment_invitation_comment:"send payment invitation system message. parameter is the receiver's name",web_payment_action_send_payment_reminder_system_message:"You can now send __receiverName__ a payment.",web_payment_action_send_payment_reminder_system_message_comment:"send payment reminder system message. parameter is the receiver's name",web_payment_invite_account_set_up:"__invitee__ has set up payments",web_payment_invite_account_set_up_comment:"System message shown when a user sets up a payment account through the payment invite message",web_payment_invite_message_from_me:"You invited __otherUser__ to use payments",web_payment_invite_message_from_me_comment:"Message shown when the current user invites the other user in the chat to use payments",web_payment_invite_message_to_me:"__otherUser__ invited you to use payments",web_payment_invite_message_to_me_comment:"Message shown when the current user is invited to use payments",web_payment_request_from:"Requested from __receiverName__",web_payment_request_from_comment:"Message body for a request payment message. Ex: Requested from Alice",web_payment_requested_from_you:"Requested __amount__ from You",web_payment_requested_from_you_comment:"Notification body for a request payment message. Ex: Requested $1 from You",web_payment_requested_from_you_plural:"Requested __amount__ from You",web_payment_requested_from_you_w_sender:"__senderName__ requested __amount__ from You",web_payment_requested_from_you_w_sender_comment:"Notification body for a request payment message. Ex: Bob requested $1 from You",web_payment_requested_from_you_w_sender_plural:"__senderName__ requested __amount__ from You",web_payment_requested_w_sender:"__senderName__ requested __amount__ from __receiverName__",web_payment_requested_w_sender_comment:"Notification body for a request payment message. Ex: Bob requested $1 from Alice",web_payment_requested_w_sender_plural:"__senderName__ requested __amount__ from __receiverName__",web_payment_sent_to_you:"Sent __amount__ to You",web_payment_sent_to_you_comment:"Notification body for sent payment message. Ex: Sent $1 to You",web_payment_sent_to_you_plural:"Sent __amount__ to You",web_payment_sent_to_you_w_sender:"__senderName__ sent __amount__ to You",web_payment_sent_to_you_w_sender_comment:"Notification body for send payment message. Ex: Bob sent $1 to You",web_payment_sent_to_you_w_sender_plural:"__senderName__ sent __amount__ to You",web_payment_sent_w_sender:"__senderName__ sent __amount__ to __receiverName__",web_payment_sent_w_sender_comment:"Notification body for send payment message. Ex: Bob sent $1 to Alice",web_payment_sent_w_sender_plural:"__senderName__ sent __amount__ to __receiverName__",web_payment_to:"Sent to __receiverName__",web_payment_to_comment:"Message body for sent payment message. Ex: Sent to Alice",web_payment_transaction_status_pending_expires_in:"Pending (expires __timeSpan__)",web_payment_transaction_status_pending_expires_in_comment:"payment transaction status shown in message bubble when payment is in pending state an expires in some time. Ex: Pending (expires in 3 hours). timeSpan will be localized.",web_payment_transaction_status_receiver_pending_setup_system_message:"__senderName__ sent you __currencyAndAmount__. Use WhatsApp on your phone to accept this transaction.",web_payment_transaction_status_receiver_pending_setup_system_message_comment:"payment transaction system message. first parameter is the payment sender's name, and second parameter is the formatted currency and amount",web_payment_transaction_status_receiver_pending_setup_system_message_plural:"__senderName__ sent you __currencyAndAmount__. Use WhatsApp on your phone to accept this transaction.",web_payment_transaction_status_receiver_success_after_hiccup_system_message:"__senderName__'s payment __relativeTime__ is complete.",web_payment_transaction_status_receiver_success_after_hiccup_system_message_comment:"payment transaction system message. first parameter is the payment sender's name, and second parameter is the formatted relative time string (today/yesterday/web_payment_transaction_time_DAY/web_payment_transaction_time_short_date)",web_payment_transaction_status_update_failed_system_message:"Your payment to __receiverName__ __relativeTime__ couldn't complete.",web_payment_transaction_status_update_failed_system_message_comment:"payment transaction update failed system message. first parameter is the payment receiver's name, and second parameter is the formatted relative time string (today/yesterday/web_payment_transaction_time_DAY/web_payment_transaction_time_short_date)",web_payment_transaction_status_update_refund_failed_system_message:"Your payment to __receiverName__ __relativeTime__ couldn't complete.",web_payment_transaction_status_update_refund_failed_system_message_comment:"payment transaction refund failed system message. first parameter is the payment receiver's name, and second parameter is the formatted relative time string (today/yesterday/web_payment_transaction_time_DAY/web_payment_transaction_time_short_date)",web_payment_transaction_status_update_refunded_system_message:"Your payment to __receiverName__  was refunded __relativeTime__.",web_payment_transaction_status_update_refunded_system_message_comment:"payment transaction refunded system message. first parameter is the payment receiver's name, and second parameter is the formatted relative time string (today/yesterday/web_payment_transaction_time_DAY/web_payment_transaction_time_short_date)",web_payment_transaction_time_short_date:"on __date__",web_payment_transaction_time_short_date_comment:"relative time text shown in payment transaction system message, single parameter is a short date without year (ie. 'on June 3'), when the date is more than a week ago",web_preview_msg:"Preview",web_psa_title:"OFFICIAL ANNOUNCEMENTS",web_recent_chats:"Recent chats",web_recipients_title_with_count:"__count__ recipient",web_recipients_title_with_count_comment:"Title above the list of broadcast list recipients with the number of recipients as the parameter. For example, 1 recipient. [INFO]",web_recipients_title_with_count_plural:"__count__ recipients",web_remove_device_description:"Your security code with __contactName__ changed because there was a logout from one of their devices.",web_remove_device_description_comment:"Text displayed in dialog when you click a self-device notification in 1:1 chat",web_remove_device_from_you_description:"Your security code with __contactName__ changed because there was a logout from one of your devices.",web_remove_device_from_you_description_comment:"Text displayed in dialog when you click a self-device notification",web_security_code_change:"Your security code with __contactName__ changed. Click to learn more.",web_security_code_change_comment:"Text displayed when other's security code changed",web_security_code_change_description:"Your security code with __name__ changed because they registered WhatsApp on their phone again.",web_security_code_change_description_comment:"Text displayed when other's security code changed",web_security_code_change_from_you_description:"Your security code with __name__ changed because there was a registration on a new device of yours.",web_security_code_change_from_you_description_comment:"Second person singular form of web_security_code_change_description",web_select_messages:"Select messages",web_smb_about_wa_business_description_verified:'WhatsApp has verified that this is the official business account of "__businessName__". This business uses WhatsApp Business, which allows them to add their opening hours, address, website and catalog of products or services.',web_smb_about_wa_business_description_verified_comment:"Description shown in a modal from the Business profile to indicate they are using WhatsApp Business and they are a verified account.",web_sys_msg_initial_v_high:'This chat is with the verified business account for "__businessName__". Click for more info.',web_sys_msg_initial_v_high_comment:"system message for high verified business account",web_sys_msg_initial_v_low:'This chat is with the business account for "__businessName__". Click for more info.',web_sys_msg_initial_v_low_comment:"system message for low verified business account",web_sys_msg_initial_v_unknown_alert:"__businessName__ may be a business account, but WhatsApp hasn't verified their name yet.",web_sys_msg_initial_v_unknown_alert_comment:"text shown in alert when system message for unverified business is clicked",web_sys_msg_transition_any_to_high:'The business account you\'re chatting with is now verified as "__businessName__". Click for more info.',web_sys_msg_transition_any_to_high_comment:"system message shown when account becomes highly verified",web_sys_msg_transition_high_to_low:'The business account you\'re chatting with is no longer verified as "__businessName__". Click for more info.',web_sys_msg_transition_high_to_low_alert:'WhatsApp is no longer able to verify that this is the account for "__businessName__".',web_sys_msg_transition_high_to_low_alert_comment:"text shown in alert when system message for high to low verified transition is clicked",web_sys_msg_transition_high_to_low_comment:"system message for business account transition from high to low verified",web_sys_msg_transition_high_to_unknown:'The business account you\'re chatting with is no longer verified as "__businessName__". Click for more info.',web_sys_msg_transition_high_to_unknown_alert:'WhatsApp is no longer able to verify that this is the account for "__businessName__".',web_sys_msg_transition_high_to_unknown_alert_comment:"text shown in alert when system message for high to unverified transition is clicked",web_sys_msg_transition_high_to_unknown_comment:"system message for business account transition from high to unverified",web_sys_msg_transition_low_to_unknown:'The business account you\'re chatting with is no longer confirmed as "__businessName__". Click for more info.',web_sys_msg_transition_low_to_unknown_alert:'WhatsApp is no longer able to confirm that this is the account for "__businessName__".',web_sys_msg_transition_low_to_unknown_alert_comment:"text shown in alert when system message for business account transition from low verified to unverified is clicked",web_sys_msg_transition_low_to_unknown_comment:"system message for business account transition from low verified to unverified",web_sys_msg_transition_none_to_low_alert:'This account has registered as a business account and WhatsApp has confirmed that this is the account for "__businessName__".',web_sys_msg_transition_none_to_low_alert_comment:"text shown in alert when system message for regular account transition to low verified business is clicked",web_sys_msg_transition_none_to_unknown_alert:"__businessName__ registered as a business account, but WhatsApp hasn't verified their name yet.",web_sys_msg_transition_none_to_unknown_alert_comment:"text shown in alert when system message for regular account transition to unverified business is clicked",web_sys_msg_transition_unknown_to_low:'The business account you\'re chatting with belongs to "__businessName__".',web_sys_msg_transition_unknown_to_low_comment:"system message for business account transition from unverified to low verified",web_terms_of_service_c2b_composer_block:"To chat with __contact__, review and accept WhatsApp's updated terms and privacy policy on your phone.",web_terms_of_service_c2b_composer_block_comment:"Composer content when user activates chat with CAPI business, and tos is not accepted [CAPI_TOS3]",web_time_at:"__date__ at __time__",web_today_at:"today at __time__",web_today_at_comment:"Text displayed in title bar for last seen time, %s replaced by 'time_at' string",web_unverified_transition_alert:"The business account you're chatting with may belong to __businessName__. WhatsApp hasn't verified their name yet.",web_unverified_transition_alert_comment:"[H]text shown in alert when a user clicks the unverified transition system message. parameter is the business' name.",web_verified_high_alert:"To help you connect with businesses, we have verified that the business account you're chatting with belongs to __businessName__.",web_verified_high_alert_comment:"[H]text shown in alert when a user clicks system message. parameter is the business' name.",web_verified_low_unknown_alert:"The business account you're chatting with may belong to __businessName__. WhatsApp hasn't verified their name yet.",web_verified_low_unknown_alert_comment:"[H]text shown in alert when a user clicks system message. parameter is the business' name.",web_verified_transition_alert:"To help you connect with businesses, we have verified that the business account you're chatting with belongs to __businessName__.",web_verified_transition_alert_comment:"[H]text shown in alert when a user clicks the transition system message. parameter is the business' name.",web_verify_error_local_mismatched:'You opened "Verify security code" for the wrong phone number. Open it for the correct number to verify __contact__.',web_verify_error_local_mismatched_comment:"Error to display if the QR code has the incorrect local identity and the correct remote identity",web_verify_error_remote_mismatched:'__contact__ opened "Verify security code" for the wrong phone number. Ask __contact__ to open it for your phone number.',web_verify_error_remote_mismatched_comment:"Error to display if the QR code has the correct local identity and the incorrect remote identity",web_yesterday_at:"yesterday at __time__",web_yesterday_at_comment:"Text displayed in title bar for last seen time, %s replaced by time",web_you:"You",web_you_created_list_unnamed:"You created a broadcast list with __count__ recipient",web_you_created_list_unnamed_plural:"You created a broadcast list with __count__ recipients",whatsapp_chrome_instructions:"To use WhatsApp, update __chrome_update__ or use __firefox_homepage__, __safari_homepage__, __edge_homepage__ or __opera_homepage__.",whatsapp_chrome_instructions_comment:"Chrome instructions for telling users how to upgrade to a supported browser version.",whatsapp_chrome_version:"WhatsApp works with Google Chrome __min_version_chrome__+",whatsapp_chrome_version_comment:"Specifies the minimum version of the Chrome browser required to use WhatsApp. (The parameter is the minimum browser version.)",whatsapp_edge_instructions:"To use WhatsApp, update __edge_homepage__ or use __chrome_homepage__, __firefox_homepage__ or __opera_homepage__.",whatsapp_edge_instructions_comment:"Edge instructions for telling users how to upgrade to a supported browser version.",whatsapp_edge_version:"WhatsApp works with Microsoft Edge __min_version_edge__+",whatsapp_edge_version_comment:"Specifies the minimum version of the Edge browser required to use WhatsApp. (The parameter is the minimum browser version.)",whatsapp_firefox_instructions:"To use WhatsApp, update __firefox_update__ or use __chrome_homepage__, __safari_homepage__, __edge_homepage__ or __opera_homepage__.",whatsapp_firefox_instructions_comment:"Firefox instructions for telling users how to upgrade to a supported browser version.",whatsapp_firefox_version:"WhatsApp works with Mozilla Firefox __min_version_firefox__+",whatsapp_firefox_version_comment:"Specifies the minimum version of the Firefox browser required to use WhatsApp. (The parameter is the minimum browser version.)",whatsapp_group_invite:"WhatsApp group invite",whatsapp_group_invite_comment:"Description in group invite message bubble",whatsapp_oculus_instructions:"To use WhatsApp, update __oculus_homepage__.",whatsapp_oculus_instructions_comment:"Meta Quest Browser instructions for telling users how to upgrade to a supported web browser version.",whatsapp_oculus_version:"WhatsApp works with Meta Quest Browser __min_version_oculus__+",whatsapp_oculus_version_comment:"Specifies the minimum version of the Meta Quest Browser required to use WhatsApp. (The parameter is the minimum browser version.)",whatsapp_psa_contact_name:"WhatsApp",whatsapp_safari_instructions:"To use WhatsApp, update __safari_update__ or use __chrome_homepage__, __firefox_homepage__ or __opera_homepage__.",whatsapp_safari_instructions_comment:"Safari instructions for telling users how to upgrade to a supported browser version.",whatsapp_safari_limited:"To use all of WhatsApp's features like photo capturing and Voice Message recording, we recommend using __chrome_homepage__, __firefox_homepage__ or __opera_homepage__.",whatsapp_safari_limited_title:"Using Safari",whatsapp_safari_version:"WhatsApp works with Safari __min_version_safari__+",whatsapp_safari_version_comment:"Specifies the minimum version of the Safari browser required to use WhatsApp. (The parameter is the minimum browser version.)",whatsapp_samsung_instructions:"To use WhatsApp, update __samsung_update__ or use __chrome_homepage__, __firefox_homepage__ or __opera_homepage__.",whatsapp_samsung_instructions_comment:"Samsung Internet instructions for telling users how to upgrade to a supported browser version.",whatsapp_samsung_version:"WhatsApp works with Samsung Internet __min_version_samsung__+",whatsapp_samsung_version_comment:"Specifies the minimum version of the Samsung Internet browser required to use WhatsApp. (The parameter is the minimum browser version.)",whatsapp_web:"WhatsApp",whatsapp_web_description:"Send and receive WhatsApp messages right from your computer.",whatsapp_web_is_open_in_another_window:'WhatsApp is open in another window. Click "Use Here" to use WhatsApp in this window.',whatsapp_web_meta_description:"Quickly send and receive WhatsApp messages right from your computer.",whatsapp_web_requirements:"We recommend using WhatsApp with one of the following browsers:",whatsapp_web_supports:"WhatsApp also supports:",you_cant_add_more_than_x_labels:"You can't add more than __count__ labels",you_cant_add_more_than_x_labels_comment:"Popup text telling the user that they have reached the max label count",your_hop_on_whatsapp_message_comment:"Message shown on a modal before letting Users go to Commerce Manager",your_shop_on_whatsapp_message:"Go to Commerce Manager to update your shop.",your_shop_on_whatsapp_message_comment:"Message for modal that informs the User that they should use Commerce Manager to manage their shop"}},48926:e=>{function t(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,l,"next",e)}function l(e){t(a,i,o,s,l,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},59713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},95318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},81109:(e,t,n)=>{var r=n(59713);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},6479:(e,t,n)=>{var r=n(37316);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},37316:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},86128:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Yt});var r=Object.keys,i=Array.isArray,o="undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g;function a(e,t){return"object"!=typeof t||r(t).forEach((function(n){e[n]=t[n]})),e}var s=Object.getPrototypeOf,l={}.hasOwnProperty;function c(e,t){return l.call(e,t)}function u(e,t){"function"==typeof t&&(t=t(s(e))),r(t).forEach((function(n){_(e,n,t[n])}))}var d=Object.defineProperty;function _(e,t,n,r){d(e,t,a(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),_(e.prototype,"constructor",e),{extend:u.bind(null,e.prototype)}}}}var f=Object.getOwnPropertyDescriptor;function E(e,t){var n;return f(e,t)||(n=s(e))&&E(n,t)}var A=[].slice;function g(e,t,n){return A.call(e,t,n)}function h(e,t){return t(e)}function S(e){if(!e)throw new Error("Assertion Failed")}function T(e){o.setImmediate?setImmediate(e):setTimeout(e,0)}function m(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function I(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function y(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function C(e,t){if(c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=C(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:C(s,t.substr(a+1))}}function v(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){S("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)v(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var a=t.substr(0,o),s=t.substr(o+1);if(""===s)void 0===n?delete e[a]:e[a]=n;else{var l=e[a];l||(l=e[a]={}),v(l,s,n)}}else void 0===n?delete e[t]:e[t]=n}}function O(e){var t={};for(var n in e)c(e,n)&&(t[n]=e[n]);return t}var P=[].concat;function N(e){return P.apply([],e)}var b="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(N([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return o[e]})).map((function(e){return o[e]}));function M(e){if(!e||"object"!=typeof e)return e;var t;if(i(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(M(e[n]))}else if(b.indexOf(e.constructor)>=0)t=e;else for(var o in t=e.constructor?Object.create(e.constructor.prototype):{},e)c(e,o)&&(t[o]=M(e[o]));return t}function R(e,t,n,i){return n=n||{},i=i||"",r(e).forEach((function(r){if(c(t,r)){var o=e[r],a=t[r];"object"==typeof o&&"object"==typeof a&&o&&a&&""+o.constructor==""+a.constructor?R(o,a,n,i+r+"."):o!==a&&(n[i+r]=t[r])}else n[i+r]=void 0})),r(t).forEach((function(r){c(e,r)||(n[i+r]=t[r])})),n}var D="undefined"!=typeof Symbol&&Symbol.iterator,L=D?function(e){var t;return null!=e&&(t=e[D])&&t.apply(e)}:function(){return null},w={};function B(e){var t,n,r,o;if(1===arguments.length){if(i(e))return e.slice();if(this===w&&"string"==typeof e)return[e];if(o=L(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var U="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function G(e,t){U=e,k=t}var k=function(){return!0},Y=!new Error("").stack;function F(){if(Y)try{throw F.arguments,new Error}catch(e){return e}return new Error}function K(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(k).map((function(e){return"\n"+e})).join("")):""}var x=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],H=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(x),j={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function V(e,t){this._e=F(),this.name=e,this.message=t}function W(e,t,n,r){this._e=F(),this.failures=t,this.failedKeys=r,this.successCount=n}function Q(e,t){this._e=F(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}p(V).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+K(this._e,2))}},toString:function(){return this.name+": "+this.message}}),p(W).from(V),p(Q).from(V);var $=H.reduce((function(e,t){return e[t]=t+"Error",e}),{}),z=V,J=H.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=F(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=j[t]||n,this.inner=null)}return p(r).from(z),e[t]=r,e}),{});J.Syntax=SyntaxError,J.Type=TypeError,J.Range=RangeError;var q=x.reduce((function(e,t){return e[t+"Error"]=J[t],e}),{});var X=H.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=J[t]),e}),{});function Z(){}function ee(e){return e}function te(e,t){return null==e||e===ee?t:function(n){return t(e(n))}}function ne(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function re(e,t){return e===Z?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ne(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ne(i,this.onerror):i),void 0!==o?o:n}}function ie(e,t){return e===Z?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ne(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ne(r,this.onerror):r)}}function oe(e,t){return e===Z?t:function(n){var r=e.apply(this,arguments);a(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ne(i,this.onsuccess):i),o&&(this.onerror=this.onerror?ne(o,this.onerror):o),void 0===r?void 0===s?void 0:s:a(r,s)}}function ae(e,t){return e===Z?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function se(e,t){return e===Z?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}X.ModifyError=W,X.DexieError=V,X.BulkError=Q;var le={},ce=function(){try{return[Re.resolve(),Re.prototype,Re.resolve(),Function.constructor]}catch(t){var e=o.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),ue=ce[0],de=ce[1],_e=ce[2],pe=de&&de.then,fe=ue&&ue.constructor,Ee=ce[3],Ae=!!_e,ge=!1,he=_e?function(){_e.then(Ke)}:o.setImmediate?setImmediate.bind(null,Ke):o.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Ke(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Ke,0)},Se=function(e,t){Ne.push([e,t]),me&&(he(),me=!1)},Te=!0,me=!0,Ie=[],ye=[],Ce=null,ve=ee,Oe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt,txRelaxedDurabilityEnabled:!1,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{dt(e[0],e[1])}catch(e){}}))}},Pe=Oe,Ne=[],be=0,Me=[];function Re(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Z,this._lib=!1;var t=this._PSD=Pe;if(U&&(this._stackHolder=F(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==le)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Be(this,this._value))}this._state=null,this._value=null,++t.ref,we(this,e)}var De={get:function(){var e=Pe,t=qe;function n(n,r){var i=this,o=!e.global&&(e!==Pe||t!==qe);o&&tt();var a=new Re((function(t,a){Ge(i,new Le(lt(n,e,o),lt(r,e,o),t,a,e))}));return U&&Fe(a,this),a}return n.prototype=le,n},set:function(e){_(this,"then",e&&e.prototype===le?De:{get:function(){return e},set:De.set})}};function Le(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function we(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&xe();t&&"function"==typeof t.then?we(e,(function(e,n){t instanceof Re?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ue(e)),n&&He()}}),Be.bind(null,e))}catch(t){Be(e,t)}}function Be(e,t){if(ye.push(t),null===e._state){var n=e._lib&&xe();t=ve(t),e._state=!1,e._value=t,U&&null!==t&&"object"==typeof t&&!t._promise&&y((function(){var n=E(t,"stack");t._promise=e,_(t,"stack",{get:function(){return ge?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Ie.some((function(t){return t._value===e._value}))||Ie.push(e)}(e),Ue(e),n&&He()}}function Ue(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ge(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===be&&(++be,Se((function(){0==--be&&je()}),[]))}function Ge(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++be,Se(ke,[n,e,t])}else e._listeners.push(t)}function ke(e,t,n){try{Ce=t;var r,i=t._value;t._state?r=e(i):(ye.length&&(ye=[]),r=e(i),-1===ye.indexOf(i)&&function(e){var t=Ie.length;for(;t;)if(Ie[--t]._value===e._value)return void Ie.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Ce=null,0==--be&&je(),--n.psd.ref||n.psd.finalize()}}function Ye(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,o,a=e._value;null!=a?(i=a.name||"Error",o=a.message||a,r=K(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+r)}return U&&((r=K(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Ye(e._prev,t,n)),t}function Fe(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ke(){xe()&&He()}function xe(){var e=Te;return Te=!1,me=!1,e}function He(){var e,t,n;do{for(;Ne.length>0;)for(e=Ne,Ne=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ne.length>0);Te=!0,me=!0}function je(){var e=Ie;Ie=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Me.slice(0),n=t.length;n;)t[--n]()}function Ve(e){return new Re(le,!1,e)}function We(e,t){var n=Pe;return function(){var r=xe(),i=Pe;try{return ot(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ot(i,!1),r&&He()}}}u(Re.prototype,{then:De,_then:function(e,t){Ge(this,new Le(null,null,e,t,Pe))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):Ve(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Ve(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Ve(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{ge=!0;var e=Ye(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ge=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Re((function(r,i){var o=setTimeout((function(){return i(new J.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&_(Re.prototype,Symbol.toStringTag,"Promise"),Oe.env=at(),u(Re,{all:function(){var e=B.apply(null,arguments).map(nt);return new Re((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return Re.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Re)return e;if(e&&"function"==typeof e.then)return new Re((function(t,n){e.then(t,n)}));var t=new Re(le,!0,e);return Fe(t,Ce),t},reject:Ve,race:function(){var e=B.apply(null,arguments).map(nt);return new Re((function(t,n){e.map((function(e){return Re.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Pe},set:function(e){return Pe=e}},newPSD:Ze,usePSD:st,scheduler:{get:function(){return Se},set:function(e){Se=e}},rejectionMapper:{get:function(){return ve},set:function(e){ve=e}},follow:function(e,t){return new Re((function(n,r){return Ze((function(t,n){var r=Pe;r.unhandleds=[],r.onunhandled=n,r.finalize=ne((function(){var e=this;!function(e){function t(){e(),Me.splice(Me.indexOf(t),1)}Me.push(t),++be,Se((function(){0==--be&&je()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}});var Qe={awaits:0,echoes:0,id:0},$e=0,ze=[],Je=0,qe=0,Xe=0;function Ze(e,t,n,r){var i=Pe,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Xe;var s=Oe.env;o.env=Ae?{Promise:Re,PromiseProp:{value:Re,configurable:!0,writable:!0},all:Re.all,race:Re.race,resolve:Re.resolve,reject:Re.reject,nthen:ct(s.nthen,o),gthen:ct(s.gthen,o)}:{},t&&a(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=st(o,e,n,r);return 0===o.ref&&o.finalize(),l}function et(){return Qe.id||(Qe.id=++$e),++Qe.awaits,Qe.echoes+=7,Qe.id}function tt(e){!Qe.awaits||e&&e!==Qe.id||(0==--Qe.awaits&&(Qe.id=0),Qe.echoes=7*Qe.awaits)}function nt(e){return Qe.echoes&&e&&e.constructor===fe?(et(),e.then((function(e){return tt(),e}),(function(e){return tt(),_t(e)}))):e}function rt(e){++qe,Qe.echoes&&0!=--Qe.echoes||(Qe.echoes=Qe.id=0),ze.push(Pe),ot(e,!0)}function it(){var e=ze[ze.length-1];ze.pop(),ot(e,!1)}function ot(e,t){var n,r=Pe;if((t?!Qe.echoes||Je++&&e===Pe:!Je||--Je&&e===Pe)||(n=t?rt.bind(null,e):it,pe.call(ue,n)),e!==Pe&&(Pe=e,r===Oe&&(Oe.env=at()),Ae)){var i=Oe.env.Promise,a=e.env;de.then=a.nthen,i.prototype.then=a.gthen,(r.global||e.global)&&(Object.defineProperty(o,"Promise",a.PromiseProp),i.all=a.all,i.race=a.race,i.resolve=a.resolve,i.reject=a.reject)}}function at(){var e=o.Promise;return Ae?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:de.then,gthen:e.prototype.then}:{}}function st(e,t,n,r,i){var o=Pe;try{return ot(e,!0),t(n,r,i)}finally{ot(o,!1)}}function lt(e,t,n){return"function"!=typeof e?e:function(){var r=Pe;n&&et(),ot(t,!0);try{return e.apply(this,arguments)}finally{ot(r,!1)}}}function ct(e,t){return function(n,r){return e.call(this,lt(n,t,!1),lt(r,t,!1))}}var ut="unhandledrejection";function dt(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(o.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ut,!0,!0),a(r,i)):o.CustomEvent&&a(r=new CustomEvent(ut,{detail:i}),i),r&&o.dispatchEvent&&(dispatchEvent(r),!o.PromiseRejectionEvent&&o.onunhandledrejection))try{o.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var _t=Re.reject;function pt(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=s;for(var o=1,a=arguments.length;o<a;++o)s(arguments[o]);return n;function s(e,r,i){if("object"==typeof e)return l(e);r||(r=ae),i||(i=Z);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function l(e){r(e).forEach((function(t){var n=e[t];if(i(n))s(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new J.InvalidArgument("Invalid event config");var r=s(t,ee,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){T((function(){e.apply(null,t)}))}))}))}}))}}var ft,Et="{version}",At=String.fromCharCode(65535),gt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return At}}(),ht=-1/0,St="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Tt="String expected.",mt=[],It="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),yt=It,Ct=It,vt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function Ot(e,t){var n,s,l,d,p,f=Ot.dependencies,E=a({addons:Ot.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},t),A=E.addons,T=E.autoOpen,P=E.indexedDB,b=E.IDBKeyRange,D=this._dbSchema={},L=[],G=[],k={},Y=null,x=null,H=!1,j=null,V=!1,$="readonly",z="readwrite",q=this,X=new Re((function(e){n=e})),ne=new Re((function(e,t){s=t})),ae=!0,le=!!kt(P);function ce(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function ue(e,t,n){var i=q._createTransaction(z,G,D);i.create(t),i._completion.catch(n);var o=i._reject.bind(i);Ze((function(){Pe.trans=i,0===e?(r(D).forEach((function(e){de(t,e,D[e].primKey,D[e].indexes)})),Re.follow((function(){return q.on.populate.fire(i)})).catch(o)):function(e,t,n){var i=[],o=L.filter((function(t){return t._cfg.version===e}))[0];if(!o)throw new J.Upgrade("Dexie specification of currently installed DB version is missing");D=q._dbSchema=o._cfg.dbschema;var a=!1;function s(){return i.length?Re.resolve(i.shift()(t.idbtrans)).then(s):Re.resolve()}return L.filter((function(t){return t._cfg.version>e})).forEach((function(e){i.push((function(){var r=D,i=e._cfg.dbschema;Ue(r,n),Ue(i,n),D=q._dbSchema=i;var o=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(i){var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)a.recreate=!0,n.change.push(a);else{var s=i.idxByName,l=o.idxByName;for(var c in s)l[c]||a.del.push(c);for(c in l){var u=s[c],d=l[c];u?u.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}(r,i);if(o.add.forEach((function(e){de(n,e[0],e[1].primKey,e[1].indexes)})),o.change.forEach((function(e){if(e.recreate)throw new J.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){_e(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),_e(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return a=!0,Re.follow((function(){e._cfg.contentUpgrade(t)}))})),i.push((function(t){a&&yt||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),s().then((function(){!function(e,t){r(e).forEach((function(n){t.db.objectStoreNames.contains(n)||de(t,n,e[n].primKey,e[n].indexes)}))}(D,n)}))}(e,i,t).catch(o)}))}function de(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){_e(i,e)})),i}function _e(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function pe(e,t,n){if(V||Pe.letThrough){var r=q._createTransaction(e,t,D);try{r.create()}catch(e){return _t(e)}return r._promise(e,(function(e,t){return Ze((function(){return Pe.trans=r,n(e,t,r)}))})).then((function(e){return r._completion.then((function(){return e}))}))}if(!H){if(!T)return _t(new J.DatabaseClosed);q.open().catch(Z)}return X.then((function(){return pe(e,t,n)}))}function Ae(e,t,n){var r=arguments.length;if(r<2)throw new J.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=N(i);return[e,o,n]}function ge(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=k[e]?k[e].hook:pt(null,{creating:[re,Z],reading:[te,ee],updating:[oe,Z],deleting:[ie,Z]})}function he(e,t,n){return(n?Dt:Mt)((function(n){e.push(n),t&&t()}))}function Se(e,t,n,r,i){return new Re((function(o,a){var s=n.length,l=s-1;if(0===s)return o();if(r){var c,u=Dt(a),d=bt(null);y((function(){for(var r=0;r<s;++r){c={onsuccess:null,onerror:null};var a=n[r];i.call(c,a[0],a[1],t);var _=e.delete(a[0]);_._hookCtx=c,_.onerror=u,_.onsuccess=r===l?bt(o):d}}),(function(e){throw c.onerror&&c.onerror(e),e}))}else for(var _=0;_<s;++_){var p=e.delete(n[_]);p.onerror=Mt(a),_===l&&(p.onsuccess=We((function(){return o()})))}}))}function Te(e,t,n,r){var i=this;this.db=q,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=pt(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Re((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),_t(e)}))}function me(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function Ie(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function ye(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ce(e,t){return e._cfg.version-t._cfg.version}function ve(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===Te.prototype||e instanceof Te?_(e,t,{get:function(){return this.table(t)}}):e[t]=new ge(t,r))}))}))}function Oe(e,t,n,r,i,o){var a=We(o?function(e,t,r){return n(o(e),t,r)}:n,i);e.onerror||(e.onerror=Mt(i)),e.onsuccess=I(t?function(){var n=e.result;if(n){var o=function(){n.continue()};t(n,(function(e){o=e}),r,i)&&a(n.value,n,(function(e){o=e})),o()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};a(t.value,t,(function(e){n=e})),n()}else r()},i)}function Ne(e,t){return P.cmp(e,t)}function be(e,t){return Ne(e,t)>0?e:t}function Me(e,t){return P.cmp(e,t)}function De(e,t){return P.cmp(t,e)}function Le(e,t){return e<t?-1:e===t?0:1}function we(e,t){return e>t?-1:e===t?0:1}function Be(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Ue(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],a=t.objectStore(i);l="getAll"in a;for(var s=0;s<a.indexNames.length;++s){var c=a.indexNames[s],u=a.index(c).keyPath,d="string"==typeof u?u:"["+g(u).join("+")+"]";if(e[i]){var _=e[i].idxByName[d];_&&(_.name=c)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l=!1)}function Ge(e){q.on("blocked").fire(e),mt.filter((function(e){return e.name===q.name&&e!==q&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(Y||H)throw new J.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=L.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new ce(e),L.push(t),L.sort(Ce),ae=!1,t)},a(ce.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e;var t={};L.forEach((function(e){a(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),D=q._dbSchema=n,[k,q,Te.prototype].forEach((function(e){for(var t in e)e[t]instanceof ge&&delete e[t]})),ve([k,q,Te.prototype,this._cfg.tables],r(n),n),G=r(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){r(e).forEach((function(n){if(null!==e[n]){var r={},o=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Bt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i(r),/\./.test(e)))})),t}(e[n]),a=o.shift();if(a.multi)throw new J.Schema("Primary key cannot be multi-valued");a.keyPath&&v(r,a.keyPath,a.auto?0:a.keyPath),o.forEach((function(e){if(e.auto)throw new J.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new J.Schema("Index must have a name and cannot be an empty string");v(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new Ut(n,a,o,r)}}))}}),this._allTables=k,this._createTransaction=function(e,t,n,r){return new Te(e,t,n,r)},this._whenReady=function(e){return V||Pe.letThrough?e():new Re((function(e,t){if(!H){if(!T)return void t(new J.DatabaseClosed);q.open().catch(Z)}X.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(H||Y)return X.then((function(){return x?_t(x):q}));U&&(ne._stackHolder=F()),H=!0,x=null,V=!1;var t=n,i=null;return Re.race([ne,new Re((function(t,n){if(!P)throw new J.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var o=ae?P.open(e):P.open(e,Math.round(10*q.verno));if(!o)throw new J.MissingAPI("IndexedDB API not available");o.onerror=Mt(n),o.onblocked=We(Ge),o.onupgradeneeded=We((function(t){if(i=o.transaction,ae&&!q._allowEmptyDB){o.onerror=Lt,i.abort(),o.result.close();var r=P.deleteDatabase(e);r.onsuccess=r.onerror=We((function(){n(new J.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{i.onerror=Mt(n),ue((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,i,n)}}),n),o.onsuccess=We((function(){if(i=null,Y=o.result,mt.push(q),ae)!function(){if(q.verno=Y.version/10,q._dbSchema=D={},0===(G=g(Y.objectStoreNames,0)).length)return;const e=Pe.txRelaxedDurabilityEnabled?{durability:"relaxed"}:{durability:"default"};var t=Y.transaction(Gt(G),"readonly",e);G.forEach((function(e){for(var n=t.objectStore(e),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new Bt(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),a=[],s=0;s<n.indexNames.length;++s){var l=n.index(n.indexNames[s]);i=(r=l.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var c=new Bt(l.name,r,!!l.unique,!!l.multiEntry,!1,r&&"string"!=typeof r,i);a.push(c)}D[e]=new Ut(e,o,a,{})})),ve([k],r(D),D)}();else if(Y.objectStoreNames.length>0)try{const e=Pe.txRelaxedDurabilityEnabled?{durability:"relaxed"}:{durability:"default"};Ue(D,Y.transaction(Gt(Y.objectStoreNames),$,e))}catch(e){}Y.onversionchange=We((function(e){q._vcFired=!0,q.on("versionchange").fire(e)})),le||"__dbnames"===e||ft.dbnames.put({name:e}).catch(Z),t()}),n)}))]).then((function(){return j=[],Re.resolve(Ot.vip(q.on.ready.fire)).then((function e(){if(j.length>0){var t=j.reduce(se,Z);return j=[],Re.resolve(Ot.vip(t)).then(e)}}))})).finally((function(){j=null})).then((function(){return H=!1,q})).catch((function(e){try{i&&i.abort()}catch(e){}return H=!1,q.close(),_t(x=e)})).finally((function(){V=!0,t()}))},this.close=function(){var e=mt.indexOf(q);if(e>=0&&mt.splice(e,1),Y){try{Y.close()}catch(e){}Y=null}T=!1,x=new J.DatabaseClosed,H&&s(x),X=new Re((function(e){n=e})),ne=new Re((function(e,t){s=t}))},this.delete=function(){var t=arguments.length>0;return new Re((function(n,r){if(t)throw new J.InvalidArgument("Arguments not allowed in db.delete()");function i(){q.close();var t=P.deleteDatabase(e);t.onsuccess=We((function(){le||ft.dbnames.delete(e).catch(Z),n()})),t.onerror=Mt(r),t.onblocked=Ge}H?X.then(i):i()}))},this.backendDB=function(){return Y},this.isOpen=function(){return null!==Y},this.hasBeenClosed=function(){return x&&x instanceof J.DatabaseClosed},this.hasFailed=function(){return null!==x},this.dynamicallyOpened=function(){return ae},this.name=e,u(this,{tables:{get:function(){return r(k).map((function(e){return k[e]}))}}}),this.on=pt(this,"populate","blocked","versionchange",{ready:[se,Z]}),this.on.ready.subscribe=h(this.on.ready.subscribe,(function(e){return function(t,n){Ot.vip((function(){V?(x||Re.resolve().then(t),n&&e(t)):j?(j.push(t),n&&e(t)):(e(t),n||e((function e(){q.on.ready.unsubscribe(t),q.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=Ae.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=Pe.trans;r&&r.db===q&&-1===e.indexOf("!")||(r=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var o=t.map((function(e){var t=e instanceof ge?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||e==$)e=$;else{if("rw"!=e&&e!=z)throw new J.InvalidArgument("Invalid transaction mode: "+e);e=z}if(r){if(r.mode===$&&e===z){if(!i)throw new J.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new J.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,(function(t,n){n(e)})):_t(e)}return r?r._promise(e,a,"lock"):Pe.trans?st(Pe.transless,(function(){return q._whenReady(a)})):q._whenReady(a);function a(){return Re.resolve().then((function(){var t,i=Pe.transless||Pe,a=q._createTransaction(e,o,D,r),s={trans:a,transless:i};r?a.idbtrans=r.idbtrans:a.create(),n.constructor===Ee&&et();var l=Re.follow((function(){if(t=n.call(a,a))if(t.constructor===fe){var e=tt.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=wt(t))}),s);return(t&&"function"==typeof t.then?Re.resolve(t).then((function(e){return a.active?e:_t(new J.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return t}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),_t(e)}))}))}},this.table=function(e){if(!c(k,e))throw new J.InvalidTable("Table "+e+" does not exist");return k[e]},u(ge.prototype,{_trans:function(e,t,n){var r=this._tx||Pe.trans;return r&&r.db===q?r===Pe.trans?r._promise(e,t,n):Ze((function(){return r._promise(e,t,n)}),{trans:r,transless:Pe.transless||Pe}):pe(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,i){if(-1===i.storeNames.indexOf(r))throw new J.NotFound("Table"+r+" not part of transaction");return t(e,n,i.idbtrans.objectStore(r),i)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore($,(function(t,r,i){var o=i.get(e);o.onerror=Mt(r),o.onsuccess=We((function(){t(n.hook.reading.fire(o.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new me(this,e);if(i(e))return new me(this,"["+e.join("+")+"]");var t=r(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&gt!==At)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var o=this.schema.idxByName,a=t.reduce((function(t,n){return[t[0]||o[n],t[0]||!o[n]?Be(t[1],(function(t){return""+C(t,n)==""+e[n]})):t[1]]}),[null,null]),s=a[0];return s?this.where(s.name).equals(e[s.keyPath]).filter(a[1]):n?this.filter(a[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new Ie(new me(this,i(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new Ie(new me(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&Nt(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(c(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(Ot.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===Z?this._idbstore(z,(function(t,n,r,i){t(Se(r,i,e,!1,Z))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(z,(function(r,i,o){if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new J.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new J.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var a,s,l=function(e){0===c.length?r(e):i(new Q(n.name+".bulkPut(): "+c.length+" of "+u+" operations failed",c))},c=[],u=e.length,d=n;if(n.hook.creating.fire===Z&&n.hook.updating.fire===Z){s=he(c);for(var _=0,p=e.length;_<p;++_)(a=t?o.put(e[_],t[_]):o.put(e[_])).onerror=s;a.onerror=he(c,l),a.onsuccess=Rt(l)}else{var f=t||o.keyPath&&e.map((function(e){return C(e,o.keyPath)})),E=f&&m(f,(function(t,n){return null!=t&&[t,e[n]]}));(f?d.where(":id").anyOf(f.filter((function(e){return null!=e}))).modify((function(){this.value=E[this.primKey],E[this.primKey]=null})).catch(W,(function(e){c=e.failures})).then((function(){for(var n=[],r=t&&[],i=f.length-1;i>=0;--i){var o=f[i];(null==o||E[o])&&(n.push(e[i]),t&&r.push(o),null!=o&&(E[o]=null))}return n.reverse(),t&&r.reverse(),d.bulkAdd(n,r)})).then((function(e){var t=f[f.length-1];return null!=t?t:e})):d.bulkAdd(e)).then(l).catch(Q,(function(e){c=c.concat(e.failures),l()})).catch(i)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(z,(function(i,o,a,s){if(!a.keyPath&&!n.schema.primKey.auto&&!t)throw new J.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(a.keyPath&&t)throw new J.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function l(e){0===_.length?i(e):o(new Q(n.name+".bulkAdd(): "+_.length+" of "+p+" operations failed",_))}var c,u,d,_=[],p=e.length;if(r!==Z){var f,E=a.keyPath;u=he(_,null,!0),d=bt(null),y((function(){for(var n=0,i=e.length;n<i;++n){f={onerror:null,onsuccess:null};var o=t&&t[n],l=e[n],_=t?o:E?C(l,E):void 0,p=r.call(f,_,l,s);null==_&&null!=p&&(E?v(l=M(l),E,p):o=p),(c=null!=o?a.add(l,o):a.add(l))._hookCtx=f,n<i-1&&(c.onerror=u,f.onsuccess&&(c.onsuccess=d))}}),(function(e){throw f.onerror&&f.onerror(e),e})),c.onerror=he(_,l,!0),c.onsuccess=bt(l)}else{u=he(_);for(var A=0,g=e.length;A<g;++A)(c=t?a.add(e[A],t[A]):a.add(e[A])).onerror=u;c.onerror=he(_,l),c.onsuccess=Rt(l)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(z,(function(r,i,o,a){var s={onsuccess:null,onerror:null};if(n!==Z){var l=null!=t?t:o.keyPath?C(e,o.keyPath):void 0,c=n.call(s,l,e,a);null==l&&null!=c&&(o.keyPath?v(e,o.keyPath,c):t=c)}try{var u=null!=t?o.add(e,t):o.add(e);u._hookCtx=s,u.onerror=Dt(i),u.onsuccess=bt((function(t){var n=o.keyPath;n&&v(e,n,t),r(t)}))}catch(e){throw s.onerror&&s.onerror(e),e}}))},put:function(e,t){var n=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==Z||i!==Z){var o=this.schema.primKey.keyPath,a=void 0!==t?t:o&&C(e,o);return null==a?this.add(e):(e=M(e),this._trans(z,(function(){return n.where(":id").equals(a).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):a}))}),"locked"))}return this._idbstore(z,(function(n,r,i){var o=void 0!==t?i.put(e,t):i.put(e);o.onerror=Mt(r),o.onsuccess=We((function(t){var r=i.keyPath;r&&v(e,r,t.target.result),n(o.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(z,(function(t,n,r){var i=r.delete(e);i.onerror=Mt(n),i.onsuccess=We((function(){t(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(z,(function(e,t,n){var r=n.clear();r.onerror=Mt(t),r.onsuccess=We((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||i(t))throw new J.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||i(e))return this.where(":id").equals(e).modify(t);r(t).forEach((function(n){v(e,n,t[n])}));var n=C(e,this.schema.primKey.keyPath);return void 0===n?_t(new J.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),u(Te.prototype,{_lock:function(){return S(!Pe.global),++this._reculock,1!==this._reculock||Pe.global||(Pe.lockOwnerFor=this),this},_unlock:function(){if(S(!Pe.global),0==--this._reculock)for(Pe.global||(Pe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{st(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&Pe.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(S(!this.idbtrans),!e&&!Y)switch(x&&x.name){case"DatabaseClosedError":throw new J.DatabaseClosed(x);case"MissingAPIError":throw new J.MissingAPI(x.message,x);default:throw new J.OpenFailed(x)}if(!this.active)throw new J.TransactionInactive;S(null===this._completion._state);const n=Pe.txRelaxedDurabilityEnabled?{durability:"relaxed"}:{durability:"default"};return(e=this.idbtrans=e||Y.transaction(Gt(this.storeNames),this.mode,n)).onerror=We((function(n){Lt(n),t._reject(e.error)})),e.onabort=We((function(n){Lt(n),t.active&&t._reject(new J.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=We((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===z&&this.mode!==z)return _t(new J.ReadOnly("Transaction is readonly"));if(!this.active)return _t(new J.TransactionInactive);if(this._locked())return new Re((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},Pe])}));if(n)return Ze((function(){var e=new Re((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Re((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Re.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new Re((function(n,i){e.then((function(e){return t._waitingQueue.push(We(n.bind(null,e)))}),(function(e){return t._waitingQueue.push(We(i.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new J.Abort),this.active=!1},tables:{get:(d="Transaction.tables",p=function(){return k},function(){return console.warn(d+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+K(F(),1)),p.apply(this,arguments)})},table:function(e){return new ge(e,q.table(e).schema,this)}}),u(me.prototype,(function(){function e(e,t,n){var r=e instanceof me?new Ie(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new Ie(e,(function(){return b.only("")})).limit(0)}function n(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,l=0;l<a;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[l],c)<0&&(s=l)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function r(t,r,i,o){var a,s,l,c,u,d,_,p=i.length;if(!i.every((function(e){return"string"==typeof e})))return e(t,Tt);function f(e){a=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),s=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),l="next"===e?Le:we;var t=i.map((function(e){return{lower:s(e),upper:a(e)}})).sort((function(e,t){return l(e.lower,t.lower)}));c=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),d=e,_="next"===e?"":o}f("next");var E=new Ie(t,(function(){return b.bound(c[0],u[p-1]+o)}));E._ondirectionchange=function(e){f(e)};var A=0;return E._addAlgorithm((function(e,t,i){var o=e.key;if("string"!=typeof o)return!1;var a=s(o);if(r(a,u,A))return!0;for(var f=null,E=A;E<p;++E){var g=n(o,a,c[E],u[E],l,d);null===g&&null===f?A=E+1:(null===f||l(f,g)>0)&&(f=g)}return t(null!==f?function(){e.continue(f+_)}:i),!1})),E}return{between:function(n,r,i,o){i=!1!==i,o=!0===o;try{return Ne(n,r)>0||0===Ne(n,r)&&(i||o)&&(!i||!o)?t(this):new Ie(this,(function(){return b.bound(n,r,!i,!o)}))}catch(t){return e(this,St)}},equals:function(e){return new Ie(this,(function(){return b.only(e)}))},above:function(e){return new Ie(this,(function(){return b.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new Ie(this,(function(){return b.lowerBound(e)}))},below:function(e){return new Ie(this,(function(){return b.upperBound(e,!0)}))},belowOrEqual:function(e){return new Ie(this,(function(){return b.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,Tt):this.between(t,t+At,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],At)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=B.apply(w,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=B.apply(w,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,At)},anyOf:function(){var n=B.apply(w,arguments),r=Me;try{n.sort(r)}catch(t){return e(this,St)}if(0===n.length)return t(this);var i=new Ie(this,(function(){return b.bound(n[0],n[n.length-1])}));i._ondirectionchange=function(e){r="next"===e?Me:De,n.sort(r)};var o=0;return i._addAlgorithm((function(e,t,i){for(var a=e.key;r(a,n[o])>0;)if(++o===n.length)return t(i),!1;return 0===r(a,n[o])||(t((function(){e.continue(n[o])})),!1)})),i},notEqual:function(e){return this.inAnyRange([[ht,e],[e,gt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=B.apply(w,arguments);if(0===t.length)return new Ie(this);try{t.sort(Me)}catch(t){return e(this,St)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[ht,t]]}),null);return n.push([t[t.length-1],gt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&Me(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",J.InvalidArgument);var i=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers;var a,s=Me;function l(e,t){return s(e[0],t[0])}try{(a=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(Ne(t[0],i[1])<0&&Ne(t[1],i[0])>0){i[0]=Ne(o=i[0],a=t[0])<0?o:a,i[1]=be(i[1],t[1]);break}}var o,a;return n===r&&e.push(t),e}),[])).sort(l)}catch(t){return e(this,St)}var c=0,u=o?function(e){return Me(e,a[c][1])>0}:function(e){return Me(e,a[c][1])>=0},d=i?function(e){return De(e,a[c][0])>0}:function(e){return De(e,a[c][0])>=0};var _=u,p=new Ie(this,(function(){return b.bound(a[0][0],a[a.length-1][1],!i,!o)}));return p._ondirectionchange=function(e){"next"===e?(_=u,s=Me):(_=d,s=De),a.sort(l)},p._addAlgorithm((function(e,t,n){for(var r=e.key;_(r);)if(++c===a.length)return t(n),!1;return!!function(e){return!u(e)&&!d(e)}(r)||(0===Ne(r,a[c][1])||0===Ne(r,a[c][0])||t((function(){s===Me?e.continue(a[c][0]):e.continue(a[c][1])})),!1)})),p},startsWithAnyOf:function(){var n=B.apply(w,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+At]}))):e(this,"startsWithAnyOf() only works with strings")}}})),u(Ie.prototype,(function(){function e(e,t){e.filter=Be(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Be(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new J.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function i(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function o(e,t,n,r,o){var a=e.replayFilter?Be(e.filter,e.replayFilter()):e.filter;e.or?function(){var s={},l=0;function u(){2==++l&&n()}function d(e,n,i){if(!a||a(n,i,u,r)){var o=n.primaryKey,l=""+o;"[object ArrayBuffer]"===l&&(l=""+new Uint8Array(o)),c(s,l)||(s[l]=!0,t(e,n,i))}}e.or._iterate(d,u,r,o),Oe(i(e,o),e.algorithm,d,u,r,!e.keysOnly&&e.valueMapper)}():Oe(i(e,o),Be(e.algorithm,a),t,n,r,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,_t.bind(null,n.error)):n.table._idbstore($,e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,_t.bind(null,t.error)):t.table._idbstore(z,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Be(t.algorithm,e)},_iterate:function(e,t,n,r){return o(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,i){o(t,e,n,r,i)}))},count:function(e){var t=this._ctx;if(ye(t,!0))return this._read((function(e,r,i){var o=n(t,i),a=t.range?o.count(t.range):o.count();a.onerror=Mt(r),a.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,i){o(t,(function(){return++r,!1}),(function(){e(r)}),n,i)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){var n=o(e,i),r=o(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(s)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,i){if(l&&"next"===t.dir&&ye(t,!0)&&t.limit>0){var a=t.table.hook.reading.fire,s=n(t,i),c=t.limit<1/0?s.getAll(t.range,t.limit):s.getAll(t.range);c.onerror=Mt(r),c.onsuccess=Rt(a===ee?e:function(t){try{e(t.map(a))}catch(e){r(e)}})}else{var u=[];o(t,(function(e){u.push(e)}),(function(){e(u)}),r,i)}}),e)},offset:function(e){var n=this._ctx;return e<=0||(n.offset+=e,ye(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}}))),this},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,i){return!t(e.value)||(r(i),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=Be(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new me(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(l&&"next"===t.dir&&ye(t,!0)&&t.limit>0)return this._read((function(e,r,i){var o=n(t,i),a=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);a.onerror=Mt(r),a.onsuccess=Rt(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=c(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,i=n.updating.fire,o=n.deleting.fire;return this._write((function(n,s,l,u){var d;if("function"==typeof e)d=i===Z&&o===Z?e:function(t){var n=M(t);if(!1===e.call(this,t,this))return!1;if(c(this,"value")){var a=R(n,this.value),s=i.call(this,a,this.primKey,n,u);s&&(t=this.value,r(s).forEach((function(e){v(t,e,s[e])})))}else o.call(this,this.primKey,t,u)};else if(i===Z){var _=r(e),p=_.length;d=function(t){for(var n=!1,r=0;r<p;++r){var i=_[r],o=e[i];C(t,i)!==o&&(v(t,i,o),n=!0)}return n}}else{var f=e;e=O(f),d=function(t){var n=!1,o=i.call(this,e,this.primKey,M(t),u);return o&&a(e,o),r(e).forEach((function(r){var i=e[r];C(t,r)!==i&&(v(t,r,i),n=!0)})),o&&(e=O(f)),n}}var E=0,A=0,g=!1,h=[],S=[],T=null;function m(e){return e&&(h.push(e),S.push(T)),s(new W("Error modifying one or more objects",h,A,S))}function I(){g&&A+h.length===E&&(h.length>0?m():n(A))}t.clone().raw()._iterate((function(e,t){T=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return h.push(e),S.push(n.primKey),I(),!0}if(!1!==d.call(n,e,n)){var i=!c(n,"value");++E,y((function(){var e=i?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=Dt(r),e.onsuccess=bt((function(){++A,I()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){g=!0,I()}),m,l)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==Z;if(!i&&ye(t)&&(t.isPrimKey&&!Ct||!n))return this._write((function(e,t,r){var i=Mt(t),o=n?r.count(n):r.count();o.onerror=i,o.onsuccess=function(){var a=o.result;y((function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(a)}}),(function(e){return t(e)}))}}));var o=i?2e3:1e4;return this._write((function(n,a,s,l){var c=0,u=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(o).raw(),d=[],_=function(){return u.each(i?function(e,t){d.push([t.primaryKey,t.value])}:function(e,t){d.push(t.primaryKey)}).then((function(){return i?d.sort((function(e,t){return Me(e[0],t[0])})):d.sort(Me),Se(s,l,d,i,r)})).then((function(){var e=d.length;return c+=e,d=[],e<o?c:_()}))};n(_())}))}}})),a(this,{Collection:Ie,Table:ge,Transaction:Te,Version:ce,WhereClause:me}),q.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+q.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+q.name+"'. Closing db now to resume the delete request."),q.close()})),q.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+q.name+"') was blocked"):console.warn("Upgrade '"+q.name+"' blocked by other connection holding version "+e.oldVersion/10)})),A.forEach((function(e){e(q)}))}function Pt(e){if("function"==typeof e)return new e;if(i(e))return[Pt(e[0])];if(e&&"object"==typeof e){var t={};return Nt(t,e),t}return e}function Nt(e,t){return r(t).forEach((function(n){var r=Pt(t[n]);e[n]=r})),e}function bt(e){return We((function(t){var n=t.target,r=n._hookCtx,i=r.value||n.result,o=r&&r.onsuccess;o&&o(i),e&&e(i)}),e)}function Mt(e){return We((function(t){return Lt(t),e(t.target.error),!1}))}function Rt(e){return We((function(t){e(t.target.result)}))}function Dt(e){return We((function(t){var n=t.target,r=n.error,i=n._hookCtx,o=i&&i.onerror;return o&&o(r),Lt(t),e(r),!1}))}function Lt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function wt(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),a=o.value;return o.done?a:a&&"function"==typeof a.then?a.then(n,r):i(a)?Re.all(a).then(n,r):n(a)}}return o(t)()}function Bt(e,t,n,r,i,o,a){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=o,this.dotted=a;var s="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+s}function Ut(e,t,n,r){this.name=e,this.primKey=t||new Bt,this.indexes=n||[new Bt],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=m(n,(function(e){return[e.name,e]}))}function Gt(e){return 1===e.length?e[0]:e}function kt(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}G(U,vt),u(Ot,X),u(Ot,{delete:function(e){var t=new Ot(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new Ot(e).open().then((function(e){return e.close(),!0})).catch(Ot.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=kt(Ot.dependencies.indexedDB);return t?new Re((function(e,n){var r=t();r.onsuccess=function(t){e(g(t.target.result,0))},r.onerror=Mt(n)})).then(e):ft.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&a(this,e)}},applyStructure:Nt,ignoreTransaction:function(e){return Pe.trans?st(Pe.transless,e):e()},vip:function(e){return Ze((function(){return Pe.letThrough=!0,e()}))},async:function(e){return function(){try{var t=wt(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Re.resolve(t)}catch(e){return _t(e)}}},spawn:function(e,t,n){try{var r=wt(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Re.resolve(r)}catch(e){return _t(e)}},currentTransaction:{get:function(){return Pe.trans||null}},waitFor:function(e,t){var n=Re.resolve("function"==typeof e?Ot.ignoreTransaction(e):e).timeout(t||6e4);return Pe.trans?Pe.trans.waitFor(n):n},Promise:Re,debug:{get:function(){return U},set:function(e){G(e,"dexie"===e?function(){return!0}:vt)}},derive:p,extend:a,props:u,override:h,Events:pt,getByKeyPath:C,setByKeyPath:v,delByKeyPath:function(e,t){"string"==typeof t?v(e,t,void 0):"length"in t&&[].map.call(t,(function(t){v(e,t,void 0)}))},shallowClone:O,deepClone:M,getObjectDiff:R,asap:T,maxKey:gt,minKey:ht,addons:[],connections:mt,MultiModifyError:J.Modify,errnames:$,IndexSpec:Bt,TableSchema:Ut,dependencies:function(){try{return{indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:Et,version:Et.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:Ot,Dexie:Ot}),Re.rejectionMapper=function(e,t){if(!e||e instanceof V||e instanceof TypeError||e instanceof SyntaxError||!e.name||!q[e.name])return e;var n=new q[e.name](t||e.message,e);return"stack"in e&&_(n,"stack",{get:function(){return this.inner.stack}}),n},(ft=new Ot("__dbnames")).version(1).stores({dbnames:"name"}),function(){var e="Dexie.DatabaseNames";try{void 0!==typeof localStorage&&void 0!==o.document&&(JSON.parse(localStorage.getItem(e)||"[]").forEach((function(e){return ft.dbnames.put({name:e}).catch(Z)})),localStorage.removeItem(e))}catch(e){}}();const Yt=Ot},11841:e=>{"use strict";var t={bp_IN:"bho",bv_DE:"bar",cb_IQ:"ckb",ck_US:"chr",cx_PH:"ceb",eh_IN:"hi",em_ZM:"bem",fb_AA:"en",fb_AC:"en",fb_AR:"ar",fb_HA:"en",fb_HX:"en",fb_LL:"en",fb_LS:"en",fb_RL:"en",fb_ZH:"zh",fbt_AC:"en",fn_IT:"fur",fv_NG:"fuv",gx_GR:"grc",lr_IT:"lij",nh_MX:"nah",ns_ZA:"nso",qb_DE:"hsb",qc_GT:"quc",qe_US:"esu",qk_DZ:"kab",qr_GR:"rup",qs_DE:"dsb",qt_US:"tli",qv_IT:"vec",qz_MM:"my",sy_SY:"syr",sz_PL:"szl",tl_PH:"fil",tl_ST:"tlh",tq_AR:"tob",tz_MA:"tzm",zz_TR:"zza"},n={get:function(e){if(t[e])return t[e];var n=e.indexOf("_");return n>=0?e.substr(0,n):e}};e.exports=n},6463:e=>{"use strict";e.exports={setupOnce:function(){}}},48041:(e,t,n)=>{"use strict";var r=n(6463),i=n(56884);e.exports=i,r.setupOnce()},56884:(e,t,n)=>{"use strict";var r=n(27418),i={},o={getErrorListener:function(e){var t;return null===(t=i.errorListener)||void 0===t?void 0:t.call(i,e)},logImpression:function(e){var t;null===(t=i.logImpression)||void 0===t||t.call(i,e)},onTranslationOverride:function(e){var t;null===(t=i.onTranslationOverride)||void 0===t||t.call(i,e)},getFbsResult:function(e){return i.getFbsResult(e)},getFbtResult:function(e){return i.getFbtResult(e)},getNumberFormatConfigOverride:function(){var e;return null===(e=i.getNumberFormatConfigOverride)||void 0===e?void 0:e.call(i)},getTranslatedInput:function(e){var t,n;return null!==(t=null===(n=i.getTranslatedInput)||void 0===n?void 0:n.call(i,e))&&void 0!==t?t:e},getViewerContext:function(){return i.getViewerContext()},register:function(e){r(i,e)}};e.exports=o},48360:(e,t,n)=>{"use strict";var r=n(94348),i=n(52995),o=n(78050),a=n(38814),s=n(94705),l=n(75748),c={__esModule:!0,default:l,fbs:s,fbt:l,FbtResult:r,FbtTranslations:i,GenderConst:o,init:n(24204),IntlVariations:a};e.exports=c},81536:(e,t,n)=>{"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(n(94348));e.exports=r},62258:e=>{"use strict";e.exports={overrides:{}}},20741:e=>{"use strict";var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;var n={REACT_ELEMENT_TYPE:t,injectReactShim:function(e){var t={validated:!0};e._store=t}};e.exports=n},94348:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(20741),a=n(1117),s=function(e){return e.content},l=function(e){var t,n;function a(t,n){var a;return i(r(a=e.call(this,t,n)||this),"$$typeof",o.REACT_ELEMENT_TYPE),i(r(a),"key",null),i(r(a),"props",void 0),i(r(a),"ref",null),i(r(a),"type",s),a.props={content:t},a}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.get=function(e){return new a(e.contents,e.errorListener)},a}(a);e.exports=l},1117:e=>{"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function e(e,n){t(this,"_contents",void 0),t(this,"_stringValue",void 0),t(this,"_isSerializing",void 0),t(this,"__errorListener",void 0),t(this,"anchor",void 0),t(this,"big",void 0),t(this,"blink",void 0),t(this,"bold",void 0),t(this,"charAt",void 0),t(this,"charCodeAt",void 0),t(this,"codePointAt",void 0),t(this,"contains",void 0),t(this,"endsWith",void 0),t(this,"fixed",void 0),t(this,"fontcolor",void 0),t(this,"fontsize",void 0),t(this,"includes",void 0),t(this,"indexOf",void 0),t(this,"italics",void 0),t(this,"lastIndexOf",void 0),t(this,"link",void 0),t(this,"localeCompare",void 0),t(this,"match",void 0),t(this,"normalize",void 0),t(this,"repeat",void 0),t(this,"replace",void 0),t(this,"search",void 0),t(this,"slice",void 0),t(this,"small",void 0),t(this,"split",void 0),t(this,"startsWith",void 0),t(this,"strike",void 0),t(this,"sub",void 0),t(this,"substr",void 0),t(this,"substring",void 0),t(this,"sup",void 0),t(this,"toLocaleLowerCase",void 0),t(this,"toLocaleUpperCase",void 0),t(this,"toLowerCase",void 0),t(this,"toUpperCase",void 0),t(this,"trim",void 0),t(this,"trimLeft",void 0),t(this,"trimRight",void 0),this._contents=e,this.__errorListener=n,this._isSerializing=!1,this._stringValue=null}var n=e.prototype;return n.flattenToArray=function(){return e.flattenToArray(this._contents)},n.getContents=function(){return this._contents},n.toString=function(){if(Object.isFrozen(this))return this._toString();if(this._isSerializing)return"<<Reentering fbt.toString() is forbidden>>";this._isSerializing=!0;try{return this._toString()}finally{this._isSerializing=!1}},n._toString=function(){if(null!=this._stringValue)return this._stringValue;for(var t="",n=this.flattenToArray(),r=0;r<n.length;++r){var i,o,a=n[r];if("string"==typeof a||a instanceof e)t+=a.toString();else null===(i=this.__errorListener)||void 0===i||null===(o=i.onStringSerializationError)||void 0===o||o.call(i,a)}return Object.isFrozen(this)||(this._stringValue=t),t},n.toJSON=function(){return this.toString()},e.flattenToArray=function(t){for(var n=[],r=0;r<t.length;++r){var i=t[r];Array.isArray(i)?n.push.apply(n,e.flattenToArray(i)):i instanceof e?n.push.apply(n,i.flattenToArray()):n.push(i)}return n},e}();["anchor","big","blink","bold","charAt","charCodeAt","codePointAt","contains","endsWith","fixed","fontcolor","fontsize","includes","indexOf","italics","lastIndexOf","link","localeCompare","match","normalize","repeat","replace","search","slice","small","split","startsWith","strike","sub","substr","substring","sup","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"].forEach((function(e){n.prototype[e]=function(){var t,n;null===(t=this.__errorListener)||void 0===t||null===(n=t.onStringMethodUsed)||void 0===n||n.call(t,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return String.prototype[e].apply(this,i)}})),e.exports=n},77038:(e,t,n)=>{"use strict";var r=n(41143),i={ARG:{INDEX:0,SUBSTITUTION:1},access:function(e,t,n){if(n>=t.length)return"string"==typeof e||Array.isArray(e)||r(!1),e;var o=t[n][i.ARG.INDEX];if(null==o)return i.access(e,t,n+1);("string"==typeof e||Array.isArray(e))&&r(!1);for(var a=0;a<o.length;++a){var s=e[o[a]];if(null!=s){var l=i.access(s,t,n+1);if(null!=l)return l}}return null}};e.exports=i},86369:e=>{"use strict";e.exports={getEnumResult:function(e){return[[e],null]},getGenderResult:function(e,t,n){return[e,t]},getNumberResult:function(e,t,n){return[e,t]},getSubstitution:function(e){return[null,e]},getPronounResult:function(e){return[[e,"*"],null]}}},52995:(e,t,n)=>{"use strict";var r=n(27418),i=n(48041),o={},a={getTranslatedInput:function(e){var t=e.args,n=e.options,r=null==n?void 0:n.hk,a=i.getViewerContext().locale,s=o[a];return null==r||null==(null==s?void 0:s[r])?null:{table:s[r],args:t}},registerTranslations:function(e){o=e},getRegisteredTranslations:function(){return o},mergeTranslations:function(e){Object.keys(e).forEach((function(t){var n;o[t]=r(null!==(n=o[t])&&void 0!==n?n:{},e[t])}))}};e.exports=a},78050:e=>{"use strict";var t=Object.freeze({NOT_A_PERSON:0,FEMALE_SINGULAR:1,MALE_SINGULAR:2,FEMALE_SINGULAR_GUESS:3,MALE_SINGULAR_GUESS:4,MIXED_UNKNOWN:5,NEUTER_SINGULAR:6,UNKNOWN_SINGULAR:7,FEMALE_PLURAL:8,MALE_PLURAL:9,NEUTER_PLURAL:10,UNKNOWN_PLURAL:11});e.exports=t},57505:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return r.NUMBER_OTHER}};e.exports=i},57725:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e||1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},19196:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e||1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},99061:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e>=0&&e<=1?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},54345:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},90568:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e||1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},74510:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e>=0&&e<=1?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},79395:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e>=0&&e<=1||e>=11&&e<=99?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},68640:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},61230:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},53214:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1&&e%100!=11?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},25002:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1&&e%100!=11?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},82322:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e||2===e||3===e||e%10!=4&&e%10!=6&&e%10!=9?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},38013:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==0||e%100>=11&&e%100<=19?r.NUMBER_ZERO:e%10==1&&e%100!=11?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},64180:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e?r.NUMBER_ZERO:1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},24822:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e?r.NUMBER_ZERO:1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},18536:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:2===e?r.NUMBER_TWO:r.NUMBER_OTHER}};e.exports=i},53066:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e||1===e?r.NUMBER_ONE:e>=2&&e<=10?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},88207:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:0===e||1!==e&&e%100>=1&&e%100<=19?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},20089:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1&&e%100!=11?r.NUMBER_ONE:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},62458:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e||11===e?r.NUMBER_ONE:2===e||12===e?r.NUMBER_TWO:e>=3&&e<=10||e>=13&&e<=19?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},51077:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%100==1?r.NUMBER_ONE:e%100==2?r.NUMBER_TWO:e%100>=3&&e%100<=4?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},44168:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%100==1?r.NUMBER_ONE:e%100==2?r.NUMBER_TWO:e%100>=3&&e%100<=4?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},82881:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:2===e?r.NUMBER_TWO:(e<0||e>10)&&e%10==0?r.NUMBER_MANY:r.NUMBER_OTHER}};e.exports=i},81287:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:e>=2&&e<=4?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},2126:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?r.NUMBER_FEW:r.NUMBER_MANY}};e.exports=i},9916:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1&&e%100!=11?r.NUMBER_ONE:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?r.NUMBER_FEW:r.NUMBER_MANY}};e.exports=i},34521:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1&&(e%100<11||e%100>19)?r.NUMBER_ONE:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},31786:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:0===e||e%100>=2&&e%100<=10?r.NUMBER_FEW:e%100>=11&&e%100<=19?r.NUMBER_MANY:r.NUMBER_OTHER}};e.exports=i},13609:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1&&e%100!=11?r.NUMBER_ONE:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?r.NUMBER_FEW:r.NUMBER_MANY}};e.exports=i},95953:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1&&e%100!=11&&e%100!=71&&e%100!=91?r.NUMBER_ONE:e%10==2&&e%100!=12&&e%100!=72&&e%100!=92?r.NUMBER_TWO:(e%10>=3&&e%10<=4||e%10==9)&&(e%100<10||e%100>19)&&(e%100<70||e%100>79)&&(e%100<90||e%100>99)?r.NUMBER_FEW:0!==e&&e%1e6==0?r.NUMBER_MANY:r.NUMBER_OTHER}};e.exports=i},32329:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:2===e?r.NUMBER_TWO:e>=3&&e<=6?r.NUMBER_FEW:e>=7&&e<=10?r.NUMBER_MANY:r.NUMBER_OTHER}};e.exports=i},80828:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1?r.NUMBER_ONE:e%10==2?r.NUMBER_TWO:e%100==0||e%100==20||e%100==40||e%100==60||e%100==80?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},53091:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e?r.NUMBER_ZERO:1===e?r.NUMBER_ONE:2===e?r.NUMBER_TWO:e%100>=3&&e%100<=10?r.NUMBER_FEW:e%100>=11&&e%100<=99?r.NUMBER_MANY:r.NUMBER_OTHER}};e.exports=i},12134:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e?r.NUMBER_ZERO:1===e?r.NUMBER_ONE:2===e?r.NUMBER_TWO:3===e?r.NUMBER_FEW:6===e?r.NUMBER_MANY:r.NUMBER_OTHER}};e.exports=i},6438:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e||1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},44547:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},8561:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 0===e||1===e?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},12638:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return r.NUMBER_OTHER}};e.exports=i},62324:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:2===e?r.NUMBER_TWO:r.NUMBER_OTHER}};e.exports=i},85343:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==1&&e%100!=11?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},19932:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return r.NUMBER_OTHER}};e.exports=i},72954:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?r.NUMBER_FEW:r.NUMBER_MANY}};e.exports=i},20184:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e>=0&&e<=1?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},65118:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:2===e?r.NUMBER_TWO:r.NUMBER_OTHER}};e.exports=i},53370:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return 1===e?r.NUMBER_ONE:0===e||1!==e&&e%100>=1&&e%100<=19?r.NUMBER_FEW:r.NUMBER_OTHER}};e.exports=i},89380:(e,t,n)=>{"use strict";var r=n(38814),i={getVariation:function(e){return e%10==0||e%100>=11&&e%100<=19?r.NUMBER_ZERO:e%10==1&&e%100!=11?r.NUMBER_ONE:r.NUMBER_OTHER}};e.exports=i},9344:(e,t,n)=>{"use strict";var r=n(57505),i=n(57725),o=n(19196),a=n(99061),s=n(54345),l=n(90568),c=n(74510),u=n(79395),d=n(68640),_=n(61230),p=n(53214),f=n(25002),E=n(82322),A=n(38013),g=n(64180),h=n(24822),S=n(18536),T=n(53066),m=n(88207),I=n(20089),y=n(62458),C=n(51077),v=n(44168),O=n(82881),P=n(81287),N=n(2126),b=n(9916),M=n(34521),R=n(31786),D=n(13609),L=n(95953),w=n(32329),B=n(80828),U=n(53091),G=n(12134),k=n(6438),Y=n(44547),F=n(8561),K=n(12638),x=n(62324),H=n(85343),j=n(19932),V=n(72954),W=n(20184),Q=n(65118),$=n(53370),z=n(89380),J={pt_PT:s},q={bm:r,bo:r,dz:r,id:r,ig:r,ii:r,in:r,ja:r,jbo:r,jv:r,jw:r,kde:r,kea:r,km:r,ko:r,lkt:r,lo:r,ms:r,my:r,nqo:r,root:r,sah:r,ses:r,sg:r,th:r,to:r,vi:r,wo:r,yo:r,yue:r,zh:r,am:i,as:i,bn:i,fa:i,gu:i,hi:i,kn:i,mr:i,zu:i,ff:o,fr:o,hy:o,kab:o,pt:a,ast:s,ca:s,de:s,en:s,et:s,fi:s,fy:s,gl:s,ia:s,io:s,it:s,ji:s,nl:s,sc:s,scn:s,sv:s,sw:s,ur:s,yi:s,si:l,ak:c,bh:c,guw:c,ln:c,mg:c,nso:c,pa:c,ti:c,wa:c,tzm:u,af:d,asa:d,az:d,bem:d,bez:d,bg:d,brx:d,ce:d,cgg:d,chr:d,ckb:d,dv:d,ee:d,el:d,eo:d,es:d,eu:d,fo:d,fur:d,gsw:d,ha:d,haw:d,hu:d,jgo:d,jmc:d,ka:d,kaj:d,kcg:d,kk:d,kkj:d,kl:d,ks:d,ksb:d,ku:d,ky:d,lb:d,lg:d,mas:d,mgo:d,ml:d,mn:d,nah:d,nb:d,nd:d,ne:d,nn:d,nnh:d,no:d,nr:d,ny:d,nyn:d,om:d,or:d,os:d,pap:d,ps:d,rm:d,rof:d,rwk:d,saq:d,sd:d,sdh:d,seh:d,sn:d,so:d,sq:d,ss:d,ssy:d,st:d,syr:d,ta:d,te:d,teo:d,tig:d,tk:d,tn:d,tr:d,ts:d,ug:d,uz:d,ve:d,vo:d,vun:d,wae:d,xh:d,xog:d,da:_,is:p,mk:f,fil:E,tl:E,lv:A,prg:A,lag:g,ksh:h,iu:S,kw:S,naq:S,se:S,sma:S,smi:S,smj:S,smn:S,sms:S,shi:T,mo:m,ro:m,bs:I,hr:I,sh:I,sr:I,gd:y,sl:C,dsb:v,hsb:v,he:O,iw:O,cs:P,sk:P,pl:N,be:b,lt:M,mt:R,ru:D,uk:D,br:L,ga:w,gv:B,ar:U,ars:U,cy:G,ceb:k,fuv:k,su:k,gn:Y,fb:Y,la:Y,li:Y,tlh:Y,grc:Y,rw:Y,zza:Y,co:Y,ht:Y,quc:Y,mi:F,tg:F,tt:K,sa:x,qu:H,ay:j,szl:V,bho:W,ik:Q,rup:$,tob:z},X=n(11841);function Z(e){return q[e]||r}function ee(e){return J[e]||Z(X.get(e))}function te(e){return ee(e)}var ne={_getNumberModuleForLang:Z,_getNumberModuleForLocale:ee,forLanguage:function(e){return Z(e)},forLocale:te,get:te};e.exports=ne},80605:e=>{"use strict";function t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r={en_GB:{meta:{},patterns:{"/(.*)('|&#039;)s(?:'|&#039;)s(.*)/":"$1$2s$3"}},en_IN:{meta:{},patterns:{"/(.*)('|&#039;)s(?:'|&#039;)s(.*)/":"$1$2s$3"}},en_PI:{meta:{},patterns:{"/(.*)('|&#039;)s(?:'|&#039;)s(.*)/":"$1$2s$3"}},en_US:{meta:{},patterns:{"/(.*)('|&#039;)s(?:'|&#039;)s(.*)/":"$1$2s$3"}},tr_TR:{meta:{"/_C/":"(||b|c|d|f|g||h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z|B|C|D|F|G||H|J|K|L|M|N|P|Q|R|S|T|V|W|X|Y|Z)","/_T/":"(||p|t|k|s)","/_V/":"(a|e|i|o|u|A|E|I|O|U|||y|||Y)"},patterns:{"/&#039;/":"'","/(|)/":"'","/((a||A|I|u|o|U|O)_C*) de\\/da_E/":"$1 da$4","/((e|i|E|||||)_C*) de\\/da_E/":"$1 de$4","/((a||A|I|u|o|U|O)_C*_T)'Da(ki|n|)_E/":"$1'ta$5$6","/((e|i|E|||||)_C*_T)'Da(ki|n|)_E/":"$1'te$5$6","/((a||A|I|u|o|U|O)_C*)'Da(ki|n|)_E/":"$1'da$4$5","/((e|i|E|||||)_C*)'Da(ki|n|)_E/":"$1'de$4$5","/(e|i|E|)'\\(n\\)in_E/":"$1'nin$2","/(a||A|I)'\\(n\\)in_E/":"$1'nn$2","/(|||)'\\(n\\)in_E/":"$1'nn$2","/([uoUO])'\\(n\\)in_E/":"$1'nun$2","/(_Cy)'\\(n\\)in_E/":"$1'nin$3","/((e|i|E|)_C+)'\\(n\\)in_E/":"$1'in$4","/((a||A|I)_C+)'\\(n\\)in_E/":"$1'n$4","/((|||)_C+)'\\(n\\)in_E/":"$1'n$4","/([uoUO]_C+)'\\(n\\)in_E/":"$1'un$3","/(e|i|E|)'\\(y\\)e_E/":"$1'ye$2","/(a||A|I)'\\(y\\)e_E/":"$1'ya$2","/(|||)'\\(y\\)e_E/":"$1'ye$2","/([uoUO])'\\(y\\)e_E/":"$1'ya$2","/(_Cy)'\\(y\\)e_E/":"$1'ye$3","/((e|i|E|)_C+)'\\(y\\)e_E/":"$1'e$4","/((a||A|I)_C+)'\\(y\\)e_E/":"$1'a$4","/((|||)_C+)'\\(y\\)e_E/":"$1'e$4","/([uoUO]_C+)'\\(y\\)e_E/":"$1'a$3","/(e|i|E|)'\\(y\\)i_E/":"$1'yi$2","/(a||A|I)'\\(y\\)i_E/":"$1'y$2","/(|||)'\\(y\\)i_E/":"$1'y$2","/([uoUO])'\\(y\\)i_E/":"$1'yu$2","/(_Cy)'\\(y\\)i_E/":"$1'yi$3","/((e|i|E|)_C+)'\\(y\\)i_E/":"$1'i$4","/((a||A|I)_C+)'\\(y\\)i_E/":"$1'$4","/((|||)_C+)'\\(y\\)i_E/":"$1'$4","/([uoUO]_C+)'\\(y\\)i_E/":"$1'u$3","/'Da(ki|n|)_E/":"'da$1$2","/'\\(n\\)in_E/":"'in$1","/'\\(y\\)e_E/":"'e$1","/'\\(y\\)i_E/":"'i$1","/ de\\/da_E/":" de$1"}},sv_SE:{meta:{},patterns:{"/([szx])s_E/":"$1$2"}},de_DE:{meta:{},patterns:{"/(|s|z|x)s_E/":"$1$2"}},nb_NO:{meta:{},patterns:{"/([szx])s_E/":"$1'$2"}},da_DK:{meta:{"/_U/":"(||)"},patterns:{"/([szxSZX])s_E/":"$1'$2","/([A-Z]|[0-9]|_U)s_E/":"$1's$3"}},ar_AR:{meta:{"/_RTL/":"(([-]|[-]))","/_Delim/":"()"},patterns:{"/_Delim_RTL/":"$2","/_RTL_Delim(\\s*)_RTL/":"$1$4$5"}},ca_ES:{meta:{"/_C/":"[b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z|B|C|D|F|G|H|J|K|L|M|N|P|Q|R|S|T|V|W|X|Y|Z]","/_V/":"[a|e|i|o|u|A|E|I|O|U]"},patterns:{"/_By ([Ii]|[Hh]i[^e])/":"$1e $2","/_Bo ([Oo]|[Hh]o)/":"$1u $2"},male:{"/(.)(_C.*)/":"$1el $2","/(.)(_V.*)/":"$1l'$2","/^(_C.*)/":"El $1","/^(_V.*)/":"L'$1"},female:{"/(.)(_C.*)/":"$1la $2","/(.)(_V.*)/":"$1l'$2","/^(_C.*)/":"La $1","/^(_V.*)/":"L'$1"},unknown:{"/(.)(_C.*)/":"$1el $2","/(.)(_V.*)/":"$1l'$2","/^(_C.*)/":"El $1","/^(_V.*)/":"L'$1"}},es_LA:{meta:{},patterns:{"/_By ([Ii]|[Hh]i[^e])/":"$1e $2","/_Bo ([Oo]|[Hh]o)/":"$1u $2"}},es_CL:{meta:{},patterns:{"/_By ([Ii]|[Hh]i[^e])/":"$1e $2","/_Bo ([Oo]|[Hh]o)/":"$1u $2"}},es_CO:{meta:{},patterns:{"/_By ([Ii]|[Hh]i[^e])/":"$1e $2","/_Bo ([Oo]|[Hh]o)/":"$1u $2"}},es_ES:{meta:{},patterns:{"/_By ([Ii]|[Hh]i[^e])/":"$1e $2","/_Bo ([Oo]|[Hh]o)/":"$1u $2"}},es_MX:{meta:{},patterns:{"/_By ([Ii]|[Hh]i[^e])/":"$1e $2","/_Bo ([Oo]|[Hh]o)/":"$1u $2"}},es_VE:{meta:{},patterns:{"/_By ([Ii]|[Hh]i[^e])/":"$1e $2","/_Bo ([Oo]|[Hh]o)/":"$1u $2"}},sk_SK:{meta:{},patterns:{"/_B(s|z|S|Z) (s||z||S||Z|)/":"$1$2o $3","/_B(v|V) (f|v|F|V)/":"$1$2o $3","/_B(k|K) (g|k|G|K)/":"$1$2u $3"}},bg_BG:{meta:{},patterns:{"/_B(|) (|||)/":"$1$2 $3","/_B(|) (|||)/":"$1$2 $3"}},fb_HX:{meta:{"/_C/":"[||b|c|d|f|g||h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z|B|C|D|F|G||H|J|K|L|M|N|P|Q|R|S|T|V|W|X|Y|Z]","/_T/":"[||p|t|k|s]","/_V/":"[a|e|i|o|u|A|E|I|O|U|||y|||Y]"},patterns:{"/_By _C/":"$1i $2","/_By _V/":"$1e $2","/(_C[^\\s]*)/":"el $1","/(_C[^\\s]*)/":"la $1","/(_V[^\\s]*)/":"l'$1"}}},i={"/_B/":"([.,!?\\s]|^)","/_E/":"([.,!?\\s]|$)"},o={"/_([^]*)/":"javascript"},a={meta:{},patterns:{}},s={get:function(e){var n=r[null==e?"en_US":e]||a;return{meta:t({},n.meta,i),patterns:t({},n.patterns,o)}}};e.exports=s},25612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyPhonologicalRules=function(e){for(var t=function(e){var t=null!=e?e:"",n=c[t];null==n&&(n=c[t]=function(e){var t=[],n=i.default.get(e);for(var r in n.patterns){var o=n.patterns[r];for(var a in n.meta){var s=new RegExp(a.slice(1,-1),"g"),l=n.meta[a];r=r.replace(s,l),o=o.replace(s,l)}"javascript"===o&&(o=function(e){return e.slice(1).toLowerCase()}),t.push([new RegExp(r.slice(1,-1),"g"),o])}return t}(e));return n}(r.default.getViewerContext().locale),n=e,o=0;o<t.length;o++){var a=t[o],s=a[0],l=a[1];n=n.replace(s,l)}return n.replace(/\x01/g,"")},t.dedupeStops=function(e,t){return function(e,t){var n,r=u.get(e),i=u.get(t);return!0===(null===(n=E.get(r))||void 0===n?void 0:n.has(i))}(e[e.length-1],t)?"":t},t.PUNCT_CHAR_CLASS=void 0;var r=a(n(48041)),i=a(n(80605)),o=a(n(4983));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.PUNCT_CHAR_CLASS="[.!?]";var c={};var u=new Map;for(var d in o.default.equivalencies){var _,p=s([d].concat(o.default.equivalencies[d]));try{for(p.s();!(_=p.n()).done;){var f=_.value;u.set(f,d)}}catch(e){p.e(e)}finally{p.f()}}var E=new Map;for(var A in o.default.redundancies)E.set(A,new Set(o.default.redundancies[A]))},4983:e=>{"use strict";e.exports=Object.freeze({equivalencies:{".":["","",""],"":["","",""],"!":[""],"?":[""]},redundancies:{"?":["?",".","!",""],"!":["!","?","."],".":[".","!"],"":["",".","!"]}})},9808:(e,t,n)=>{"use strict";e.exports=n(55032)},55032:(e,t,n)=>{"use strict";var r=n(48041),i=n(9344),o=n(38814),a=n(41143),s={EXACTLY_ONE:"_1",getNumberVariations:function(e){var t=i.get(r.getViewerContext().locale).getVariation(e);return t&o.BITMASK_NUMBER||a(!1),1===e?["_1",t,"*"]:[t,"*"]},getGenderVariations:function(e){return e&o.BITMASK_GENDER||a(!1),[e,"*"]}};e.exports=s},38814:e=>{"use strict";var t=Object.freeze({BITMASK_NUMBER:28,BITMASK_GENDER:3,NUMBER_ZERO:16,NUMBER_ONE:4,NUMBER_TWO:8,NUMBER_FEW:20,NUMBER_MANY:12,NUMBER_OTHER:24,GENDER_MALE:1,GENDER_FEMALE:2,GENDER_UNKNOWN:3});e.exports=t},35577:(e,t,n)=>{"use strict";var r={GENDER:n(38814).GENDER_UNKNOWN,regionalLocale:"en_US",locale:"en_US"};e.exports=r},32242:e=>{"use strict";var t={decimalSeparator:".",numberDelimiter:",",minDigitsForThousandsSeparator:0,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:null},n=[{decimalSeparator:".",numberDelimiter:",",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:null},{decimalSeparator:",",numberDelimiter:"",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:null},{decimalSeparator:"",numberDelimiter:"",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:{digits:""}},{decimalSeparator:".",numberDelimiter:",",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:2},numberingSystemData:{digits:""}},{decimalSeparator:",",numberDelimiter:".",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:null},{decimalSeparator:",",numberDelimiter:"",minDigitsForThousandsSeparator:5,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:null},{decimalSeparator:".",numberDelimiter:",",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:2},numberingSystemData:null},{decimalSeparator:",",numberDelimiter:".",minDigitsForThousandsSeparator:5,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:null},{decimalSeparator:"",numberDelimiter:"",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:{digits:""}},{decimalSeparator:"",numberDelimiter:"",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:2},numberingSystemData:{digits:""}},{decimalSeparator:".",numberDelimiter:",",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:2},numberingSystemData:{digits:""}},{decimalSeparator:".",numberDelimiter:",",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:{digits:""}},{decimalSeparator:".",numberDelimiter:",",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:{digits:""}},{decimalSeparator:".",numberDelimiter:"",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:null}],r={en_US:0,af_ZA:1,ak_GH:0,am_ET:0,ar_AR:2,as_IN:3,ay_BO:0,az_AZ:4,be_BY:5,bg_BG:5,bn_IN:6,bp_IN:0,br_FR:1,bs_BA:4,bv_DE:0,ca_ES:5,cb_IQ:2,ck_US:0,co_FR:0,cs_CZ:1,cx_PH:0,cy_GB:0,da_DK:7,de_DE:4,eh_IN:0,el_GR:4,em_ZM:0,en_GB:0,en_IN:6,en_OP:0,en_PI:0,en_UD:0,eo_EO:1,es_CL:4,es_CO:4,es_ES:5,es_LA:4,es_MX:0,es_VE:4,et_EE:5,eu_ES:4,fa_IR:8,fb_AA:0,fb_AC:0,fb_AR:2,fb_HA:0,fb_HX:0,fb_LL:0,fb_LS:0,fb_LT:0,fb_RL:0,fb_ZH:0,fbt_AC:0,ff_NG:1,fi_FI:1,fn_IT:0,fo_FO:4,fr_CA:1,fr_FR:1,fv_NG:0,fy_NL:4,ga_IE:0,gl_ES:4,gn_PY:4,gu_IN:6,gx_GR:0,ha_NG:0,he_IL:0,hi_FB:6,hi_IN:6,hr_HR:7,ht_HT:0,hu_HU:5,hy_AM:1,id_ID:4,ig_NG:0,ik_US:0,is_IS:4,it_IT:7,iu_CA:0,ja_JP:0,ja_KS:0,jv_ID:0,ka_GE:5,kk_KZ:1,km_KH:4,kn_IN:0,ko_KR:0,ks_IN:9,ku_TR:0,ky_KG:1,la_VA:0,lg_UG:0,li_NL:0,ln_CD:4,lo_LA:4,lr_IT:0,lt_LT:1,lv_LV:5,mg_MG:0,mi_NZ:0,mk_MK:4,ml_IN:6,mn_MN:0,mr_IN:10,ms_MY:0,mt_MT:0,my_MM:11,nb_NO:1,nd_ZW:0,ne_NP:12,nh_MX:0,nl_BE:4,nl_NL:4,nn_NO:1,nr_ZA:0,ns_ZA:0,ny_MW:0,om_ET:0,or_IN:6,pa_IN:6,pl_PL:5,ps_AF:8,pt_BR:4,pt_PT:5,qb_DE:0,qc_GT:0,qe_US:0,qk_DZ:0,qr_GR:0,qs_DE:0,qt_US:0,qu_PE:0,qv_IT:0,qz_MM:11,rm_CH:13,ro_RO:4,ru_RU:1,rw_RW:4,sa_IN:0,sc_IT:0,se_NO:1,si_LK:0,sk_SK:1,sl_SI:4,sn_ZW:0,so_SO:0,sq_AL:1,sr_RS:4,ss_SZ:0,st_ZA:0,su_ID:0,sv_SE:1,sw_KE:0,sy_SY:0,sz_PL:0,ta_IN:6,te_IN:6,tg_TJ:0,th_TH:0,tk_TM:1,tl_PH:0,tl_ST:0,tn_BW:0,tq_AR:0,tr_TR:4,ts_ZA:0,tt_RU:1,tz_MA:1,uk_UA:1,ur_PK:0,uz_UZ:1,ve_ZA:0,vi_VN:4,wo_SN:4,xh_ZA:0,yi_DE:0,yo_NG:0,zh_CN:0,zh_HK:0,zh_TW:0,zu_ZA:0,zz_TR:0},i={get:function(e){var i=r[null==e?"en_US":e];return void 0!==i?n[i]:t}};e.exports=i},83455:e=>{"use strict";e.exports=function(e){return e.replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")}},94705:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(48041),o=n(81536),a=n(75748),s=n(41143),l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},a,{_param:function(e,t,n){return"string"==typeof t||t instanceof o||s(!1),a._param(e,t,n)},_plural:function(e,t,n){return null==n||"string"==typeof n||n instanceof o||s(!1),a._plural(e,t,n)},_wrapContent:function(e,t,n,r){var o="string"==typeof e?[e]:e,a=i.getErrorListener({hash:n,translation:t});return i.getFbsResult({contents:o,errorListener:a,extraOptions:r,patternHash:n,patternString:t})}});e.exports=l},75748:(e,t,n)=>{"use strict";n(6463).setupOnce();var r=n(48041),i=n(62258).overrides,o=n(1117),a=n(77038),s=n(86369),l=n(78050),c=n(9808),u=c.getGenderVariations,d=c.getNumberVariations,_=n(33651),p=n(41143),f=n(40306),E=Object.prototype.hasOwnProperty,A=!1,g=a.ARG,h=0,S=1,T=0,m=2,I={};var y=function(){};y._=function(e,t,n){if(((null==n?void 0:n.hk)||(null==n?void 0:n.ehk))&&A)return{text:e,fbt:!0,hashKey:n.hk};var o,l,c=r.getTranslatedInput({table:e,args:t,options:n}),d=c.args,_=c.table,h={};if(null!=_.__vcg){d=d||[];var S=r.getViewerContext().GENDER,T=u(S);d.unshift(s.getGenderResult(T,null,S))}if(d&&("string"!=typeof _&&(_=a.access(_,d,0)),h=function(e){var t={};return e.forEach((function(e){var n=e[g.SUBSTITUTION];if(n)for(var r in n)E.call(n,r)&&(null!=t[r]&&p(!1),t[r]=n[r])})),t}(d),null===_&&p(!1)),Array.isArray(_)){o=_[0];var m="1_"+(l=_[1]);null!=i[m]&&""!==i[m]&&(o=i[m],r.onTranslationOverride(l)),r.logImpression(l)}else{if("string"!=typeof _)throw new Error("Table access did not result in string: "+(void 0===_?"undefined":JSON.stringify(_))+", Type: "+typeof _);o=_}var y=I[o],C=function(e){for(var t in e)return!0;return!1}(h);if(y&&!C)return y;var v=f(o,h),O=this._wrapContent(v,o,l,null==n?void 0:n.eo);return C||(I[o]=O),O},y._enum=function(e,t){return s.getEnumResult(e)},y._implicitParam=function(e,t,n){return this._param(e,t,n)},y._name=function(e,t,n){var r=u(n),i={};return i[e]=t,s.getGenderResult(r,i,n)},y._param=function(e,t,n){var r=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t);if(!n)return s.getSubstitution(r);if(n[0]===h){var i=n.length>1?n[1]:t;"number"!=typeof i&&p(!1);var o=d(i);return"number"==typeof t&&(r[e]=_.formatNumberWithThousandDelimiters(t)),s.getNumberResult(o,r,i)}if(n[0]===S){var a=n[1];return null==a&&p(!1),s.getGenderResult(u(a),r,a)}p(!1)},y._plural=function(e,t,n){var r=d(e),i={};return t&&(i[t]="number"==typeof n?_.formatNumberWithThousandDelimiters(n):n||_.formatNumberWithThousandDelimiters(e)),s.getNumberResult(r,i,e)},y._pronoun=function(e,t,n){t===l.NOT_A_PERSON&&n&&n.human&&p(!1);var r=function(e,t){switch(t){case l.NOT_A_PERSON:return e===T||e===m?l.NOT_A_PERSON:l.UNKNOWN_PLURAL;case l.FEMALE_SINGULAR:case l.FEMALE_SINGULAR_GUESS:return l.FEMALE_SINGULAR;case l.MALE_SINGULAR:case l.MALE_SINGULAR_GUESS:return l.MALE_SINGULAR;case l.MIXED_UNKNOWN:case l.FEMALE_PLURAL:case l.MALE_PLURAL:case l.NEUTER_PLURAL:case l.UNKNOWN_PLURAL:return l.UNKNOWN_PLURAL;case l.NEUTER_SINGULAR:case l.UNKNOWN_SINGULAR:return e===m?l.NOT_A_PERSON:l.UNKNOWN_PLURAL}return l.NOT_A_PERSON}(e,t);return s.getPronounResult(r)},y._subject=function(e){return s.getGenderResult(u(e),null,e)},y._wrapContent=function(e,t,n,i){var o="string"==typeof e?[e]:e,a=r.getErrorListener({translation:t,hash:n});return r.getFbtResult({contents:o,errorListener:a,extraOptions:i,patternHash:n,patternString:t})},y.disableJsonExportMode=function(){A=!1},y.enableJsonExportMode=function(){A=!0},y.isFbtInstance=function(e){return e instanceof o},e.exports=y},24204:(e,t,n)=>{"use strict";var r=n(48041),i=n(94348),o=n(52995),a=n(35577),s=n(25336),l=i.get.bind(i);e.exports=function(e){var t;o.registerTranslations(e.translations);var n=null!==(t=e.hooks)&&void 0!==t?t:{};null==n.getFbtResult&&(n.getFbtResult=l),null==n.getFbsResult&&(n.getFbsResult=s),null==n.getTranslatedInput&&(n.getTranslatedInput=o.getTranslatedInput),null==n.getViewerContext&&(n.getViewerContext=function(){return a}),r.register(n)}},25336:(e,t,n)=>{"use strict";var r=n(81536);e.exports=function(e){return new r(e.contents,e.errorListener)}},33651:(e,t,n)=>{"use strict";var r=n(48041),i=n(32242),o=n(83455),a={};function s(e){return a[e]||(a[e]=new RegExp(e,"i")),a[e]}var l=s([".",".",".",".",".","..","..","..","..","..","..","..","..","..","..","..","..","..","..","..","..",".","B/.","Bs.","Fr.","kr.","L.","p.","S/."].reduce((function(e,t,n){return e+(n?"|":"")+"("+o(t)+")"}),""));function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{primaryGroupSize:3,secondaryGroupSize:3},l=arguments.length>6?arguments[6]:void 0,c=a.primaryGroupSize||3,d=a.secondaryGroupSize||c,_=l&&l.digits,p=(null==t?e.toString():"string"==typeof e?E(e,t):f(e,t)).split("."),A=p[0],g=p[1];if(Math.abs(parseInt(A,10)).toString().length>=i){var h="",S="$1"+n+"$2$3",T="(\\d)(\\d{"+(c-0)+"})($|\\D)";if((h=A.replace(s(T),S))!=A){A=h;for(var m="(\\d)(\\d{"+(d-0)+"})("+o(n)+")",I=s(m);(h=A.replace(I,S))!=A;)A=h}}null!=_&&(A=u(A,_),g=g&&u(g,_));var y=A;return g&&(y+=r+g),y}function u(e,t){for(var n="",r=0;r<e.length;++r){var i=t[e.charCodeAt(r)-48];n+=void 0!==i?i:e[r]}return n}function d(){var e=r.getNumberFormatConfigOverride();return e||i.get(r.getViewerContext().locale)}function _(e,t){var n=d();return c(e,t,n.numberDelimiter,n.decimalSeparator,n.minDigitsForThousandsSeparator,n.standardDecimalPatternInfo,n.numberingSystemData)}function p(e){return e&&Math.floor(Math.log10(Math.abs(e)))}function f(e,t){var n=null==t?0:t,r=Math.pow(10,n),i=e;if(i=Math.round(i*r)/r,i+="",!n)return i;if(-1!==i.indexOf("e-"))return i;var o=i.indexOf("."),a=0;-1==o?(i+=".",a=n):a=n-(i.length-o-1);for(var s=0,l=a;s<l;s++)i+="0";return i}function E(e,t){var n=e.indexOf("."),r=-1===n?e:e.slice(0,n),i=-1===n?"":e.slice(n+1);return null!=t?r+"."+function(e,t){for(var n=e,r=0;r<t;r++)n+="0";return n}(i.slice(0,t),t-i.length):r}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=h(),i=e;r&&(i=e.split("").map((function(e){return r[e]||e})).join("").trim()),i=(i=i.replace(/^[^\d]*\-/,"")).replace(l,"");var a=o(t),c=o(n),u=s("^[^\\d]*\\d.*"+a+".*\\d[^\\d]*$");if(!u.test(i)){var d=s("(^[^\\d]*)"+a+"(\\d*[^\\d]*$)");if(d.test(i))return g(i=i.replace(d,"$1$2"));var _=s("^[^\\d]*[\\d "+o(c)+"]*[^\\d]*$");return _.test(i)||(i=""),g(i)}var p=s("(^[^\\d]*[\\d "+c+"]*)"+a+"(\\d*[^\\d]*$)");return g(i=p.test(i)?i.replace(p,"$1$2"):"")}function g(e){var t=e.replace(/[^0-9\u0001\u0002]/g,"").replace("",".").replace("","-"),n=Number(t);return""===t||isNaN(n)?null:n}function h(){var e=d(),t={},n=e.numberingSystemData&&e.numberingSystemData.digits;if(null==n)return null;for(var r=0;r<n.length;r++)t[n.charAt(r)]=r.toString();return t}var S={formatNumber:function(e,t){var n=d();return c(e,t,"",n.decimalSeparator,n.minDigitsForThousandsSeparator,n.standardDecimalPatternInfo,n.numberingSystemData)},formatNumberRaw:c,formatNumberWithThousandDelimiters:_,formatNumberWithLimitedSigFig:function(e,t,n){var r=p(e),i=e;r<n&&(i=e*Math.pow(10,-r+n));var o=Math.pow(10,p(i)-n+1),a=Math.round(i/o)*o;return r<n&&(a/=Math.pow(10,-r+n),null==t)?_(a,n-r-1):_(a,t)},parseNumber:function(e){var t=d();return A(e,t.decimalSeparator||".",t.numberDelimiter)},parseNumberRaw:A,truncateLongNumber:E,getFloatString:function(e,t,n){var r=String(e).split("."),i=S.getIntegerString(r[0],t);return 1===r.length?i:i+n+r[1]},getIntegerString:function(e,t){var n=t;""===n&&(n=",");for(var r=String(e),i=/(\d+)(\d{3})/;i.test(r);)r=r.replace(i,"$1"+n+"$2");return r}};e.exports=S},40306:(e,t,n)=>{"use strict";var r,i=n(25612);(r=n(41143))&&r.__esModule;Object.prototype.hasOwnProperty;var o=new RegExp("\\{([^}]+)\\}("+i.PUNCT_CHAR_CLASS+"*)","g");e.exports=function(e,t){if(null==t)return e;"object"!=typeof t&&invariant(!1);var n=[],r=[],a=e.replace(o,(function(e,o,a){var s=t[o];return null!=s&&"object"==typeof s?(n.push(s),r.push(o),""+a):null===s?"":String(s)+(0,i.dedupeStops)(String(s),a)})).split("").map(i.applyPhonologicalRules);if(1===a.length)return a[0];for(var s=""!==a[0]?[a[0]]:[],l=0;l<n.length;l++)s.push(n[l]),""!==a[l+1]&&s.push(a[l+1]);return s}},97769:e=>{"use strict";e.exports=function(e){return e&&e.length>1?255===e[0]&&216===e[1]&&255===e[2]?{ext:"jpg",mime:"image/jpeg"}:137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]?{ext:"png",mime:"image/png"}:71===e[0]&&73===e[1]&&70===e[2]?{ext:"gif",mime:"image/gif"}:87===e[8]&&69===e[9]&&66===e[10]&&80===e[11]?{ext:"webp",mime:"image/webp"}:(73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3])&&67===e[8]&&82===e[9]?{ext:"cr2",mime:"image/x-canon-cr2"}:73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3]?{ext:"tif",mime:"image/tiff"}:66===e[0]&&77===e[1]?{ext:"bmp",mime:"image/bmp"}:73===e[0]&&73===e[1]&&188===e[2]?{ext:"jxr",mime:"image/vnd.ms-photo"}:56===e[0]&&66===e[1]&&80===e[2]&&83===e[3]?{ext:"psd",mime:"image/vnd.adobe.photoshop"}:80===e[0]&&75===e[1]&&3===e[2]&&4===e[3]&&109===e[30]&&105===e[31]&&109===e[32]&&101===e[33]&&116===e[34]&&121===e[35]&&112===e[36]&&101===e[37]&&97===e[38]&&112===e[39]&&112===e[40]&&108===e[41]&&105===e[42]&&99===e[43]&&97===e[44]&&116===e[45]&&105===e[46]&&111===e[47]&&110===e[48]&&47===e[49]&&101===e[50]&&112===e[51]&&117===e[52]&&98===e[53]&&43===e[54]&&122===e[55]&&105===e[56]&&112===e[57]?{ext:"epub",mime:"application/epub+zip"}:80===e[0]&&75===e[1]&&3===e[2]&&4===e[3]&&77===e[30]&&69===e[31]&&84===e[32]&&65===e[33]&&45===e[34]&&73===e[35]&&78===e[36]&&70===e[37]&&47===e[38]&&109===e[39]&&111===e[40]&&122===e[41]&&105===e[42]&&108===e[43]&&108===e[44]&&97===e[45]&&46===e[46]&&114===e[47]&&115===e[48]&&97===e[49]?{ext:"xpi",mime:"application/x-xpinstall"}:80!==e[0]||75!==e[1]||3!==e[2]&&5!==e[2]&&7!==e[2]||4!==e[3]&&6!==e[3]&&8!==e[3]?117===e[257]&&115===e[258]&&116===e[259]&&97===e[260]&&114===e[261]?{ext:"tar",mime:"application/x-tar"}:82!==e[0]||97!==e[1]||114!==e[2]||33!==e[3]||26!==e[4]||7!==e[5]||0!==e[6]&&1!==e[6]?31===e[0]&&139===e[1]&&8===e[2]?{ext:"gz",mime:"application/gzip"}:66===e[0]&&90===e[1]&&104===e[2]?{ext:"bz2",mime:"application/x-bzip2"}:55===e[0]&&122===e[1]&&188===e[2]&&175===e[3]&&39===e[4]&&28===e[5]?{ext:"7z",mime:"application/x-7z-compressed"}:120===e[0]&&1===e[1]?{ext:"dmg",mime:"application/x-apple-diskimage"}:0===e[0]&&0===e[1]&&0===e[2]&&(24===e[3]||32===e[3])&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]||51===e[0]&&103===e[1]&&112===e[2]&&53===e[3]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&109===e[8]&&112===e[9]&&52===e[10]&&50===e[11]&&109===e[16]&&112===e[17]&&52===e[18]&&49===e[19]&&109===e[20]&&112===e[21]&&52===e[22]&&50===e[23]&&105===e[24]&&115===e[25]&&111===e[26]&&109===e[27]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&105===e[8]&&115===e[9]&&111===e[10]&&109===e[11]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&109===e[8]&&112===e[9]&&52===e[10]&&50===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&0===e[15]?{ext:"mp4",mime:"video/mp4"}:0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&77===e[8]&&52===e[9]&&86===e[10]?{ext:"m4v",mime:"video/x-m4v"}:77===e[0]&&84===e[1]&&104===e[2]&&100===e[3]?{ext:"mid",mime:"audio/midi"}:109===e[31]&&97===e[32]&&116===e[33]&&114===e[34]&&111===e[35]&&115===e[36]&&107===e[37]&&97===e[38]?{ext:"mkv",mime:"video/x-matroska"}:26===e[0]&&69===e[1]&&223===e[2]&&163===e[3]?{ext:"webm",mime:"video/webm"}:0===e[0]&&0===e[1]&&0===e[2]&&20===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]?{ext:"mov",mime:"video/quicktime"}:82===e[0]&&73===e[1]&&70===e[2]&&70===e[3]&&65===e[8]&&86===e[9]&&73===e[10]?{ext:"avi",mime:"video/x-msvideo"}:48===e[0]&&38===e[1]&&178===e[2]&&117===e[3]&&142===e[4]&&102===e[5]&&207===e[6]&&17===e[7]&&166===e[8]&&217===e[9]?{ext:"wmv",mime:"video/x-ms-wmv"}:0===e[0]&&0===e[1]&&1===e[2]&&"b"===e[3].toString(16)[0]?{ext:"mpg",mime:"video/mpeg"}:73===e[0]&&68===e[1]&&51===e[2]||255===e[0]&&251===e[1]?{ext:"mp3",mime:"audio/mpeg"}:102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&77===e[8]&&52===e[9]&&65===e[10]||77===e[0]&&52===e[1]&&65===e[2]&&32===e[3]?{ext:"m4a",mime:"audio/m4a"}:79===e[28]&&112===e[29]&&117===e[30]&&115===e[31]&&72===e[32]&&101===e[33]&&97===e[34]&&100===e[35]?{ext:"opus",mime:"audio/opus"}:79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]?{ext:"ogg",mime:"audio/ogg"}:102===e[0]&&76===e[1]&&97===e[2]&&67===e[3]?{ext:"flac",mime:"audio/x-flac"}:82===e[0]&&73===e[1]&&70===e[2]&&70===e[3]&&87===e[8]&&65===e[9]&&86===e[10]&&69===e[11]?{ext:"wav",mime:"audio/x-wav"}:35===e[0]&&33===e[1]&&65===e[2]&&77===e[3]&&82===e[4]&&10===e[5]?{ext:"amr",mime:"audio/amr"}:37===e[0]&&80===e[1]&&68===e[2]&&70===e[3]?{ext:"pdf",mime:"application/pdf"}:77===e[0]&&90===e[1]?{ext:"exe",mime:"application/x-msdownload"}:67!==e[0]&&70!==e[0]||87!==e[1]||83!==e[2]?123===e[0]&&92===e[1]&&114===e[2]&&116===e[3]&&102===e[4]?{ext:"rtf",mime:"application/rtf"}:119===e[0]&&79===e[1]&&70===e[2]&&70===e[3]&&(0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]||79===e[4]&&84===e[5]&&84===e[6]&&79===e[7])?{ext:"woff",mime:"application/font-woff"}:119===e[0]&&79===e[1]&&70===e[2]&&50===e[3]&&(0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]||79===e[4]&&84===e[5]&&84===e[6]&&79===e[7])?{ext:"woff2",mime:"application/font-woff"}:76===e[34]&&80===e[35]&&(0===e[8]&&0===e[9]&&1===e[10]||1===e[8]&&0===e[9]&&2===e[10]||2===e[8]&&0===e[9]&&2===e[10])?{ext:"eot",mime:"application/octet-stream"}:0===e[0]&&1===e[1]&&0===e[2]&&0===e[3]&&0===e[4]?{ext:"ttf",mime:"application/font-sfnt"}:79===e[0]&&84===e[1]&&84===e[2]&&79===e[3]&&0===e[4]?{ext:"otf",mime:"application/font-sfnt"}:0===e[0]&&0===e[1]&&1===e[2]&&0===e[3]?{ext:"ico",mime:"image/x-icon"}:70===e[0]&&76===e[1]&&86===e[2]&&1===e[3]?{ext:"flv",mime:"video/x-flv"}:37===e[0]&&33===e[1]?{ext:"ps",mime:"application/postscript"}:253===e[0]&&55===e[1]&&122===e[2]&&88===e[3]&&90===e[4]&&0===e[5]?{ext:"xz",mime:"application/x-xz"}:83===e[0]&&81===e[1]&&76===e[2]&&105===e[3]?{ext:"sqlite",mime:"application/x-sqlite3"}:78===e[0]&&69===e[1]&&83===e[2]&&26===e[3]?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:67===e[0]&&114===e[1]&&50===e[2]&&52===e[3]?{ext:"crx",mime:"application/x-google-chrome-extension"}:77===e[0]&&83===e[1]&&67===e[2]&&70===e[3]||73===e[0]&&83===e[1]&&99===e[2]&&40===e[3]?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:33===e[0]&&60===e[1]&&97===e[2]&&114===e[3]&&99===e[4]&&104===e[5]&&62===e[6]&&10===e[7]&&100===e[8]&&101===e[9]&&98===e[10]&&105===e[11]&&97===e[12]&&110===e[13]&&45===e[14]&&98===e[15]&&105===e[16]&&110===e[17]&&97===e[18]&&114===e[19]&&121===e[20]?{ext:"deb",mime:"application/x-deb"}:33===e[0]&&60===e[1]&&97===e[2]&&114===e[3]&&99===e[4]&&104===e[5]&&62===e[6]?{ext:"ar",mime:"application/x-unix-archive"}:237===e[0]&&171===e[1]&&238===e[2]&&219===e[3]?{ext:"rpm",mime:"application/x-rpm"}:31===e[0]&&160===e[1]||31===e[0]&&157===e[1]?{ext:"Z",mime:"application/x-compress"}:76===e[0]&&90===e[1]&&73===e[2]&&80===e[3]?{ext:"lz",mime:"application/x-lzip"}:208===e[0]&&207===e[1]&&17===e[2]&&224===e[3]&&161===e[4]&&177===e[5]&&26===e[6]&&225===e[7]?{ext:"msi",mime:"application/x-msi"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}:{ext:"rar",mime:"application/x-rar-compressed"}:{ext:"zip",mime:"application/zip"}:null}},56755:function(e){
/*!
 2022 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 8.0.7
*/
e.exports=function(){"use strict";var e=/^(b|B)$/,t={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},n={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},r={floor:Math.floor,ceil:Math.ceil};function i(i){var o,a,s,l,c,u,d,_,p,f,E,A,g,h,S,T,m,I,y,C,v,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=[],N=0;if(isNaN(i))throw new TypeError("Invalid number");if(s=!0===O.bits,S=!0===O.unix,A=!0===O.pad,a=O.base||10,g=void 0!==O.round?O.round:S?1:2,d=void 0!==O.locale?O.locale:"",_=O.localeOptions||{},T=void 0!==O.separator?O.separator:"",m=void 0!==O.spacer?O.spacer:S?"":" ",y=O.symbols||{},I=2===a?O.standard||"iec":"jedec",E=O.output||"string",c=!0===O.fullform,u=O.fullforms instanceof Array?O.fullforms:[],o=void 0!==O.exponent?O.exponent:-1,C=r[O.roundingMethod]||Math.round,p=(f=Number(i))<0,l=a>2?1e3:1024,v=!1===isNaN(O.precision)?parseInt(O.precision,10):0,p&&(f=-f),(-1===o||isNaN(o))&&(o=Math.floor(Math.log(f)/Math.log(l)))<0&&(o=0),o>8&&(v>0&&(v+=8-o),o=8),"exponent"===E)return o;if(0===f)P[0]=0,h=P[1]=S?"":t[I][s?"bits":"bytes"][o];else{N=f/(2===a?Math.pow(2,10*o):Math.pow(1e3,o)),s&&(N*=8)>=l&&o<8&&(N/=l,o++);var b=Math.pow(10,o>0?g:0);P[0]=C(N*b)/b,P[0]===l&&o<8&&void 0===O.exponent&&(P[0]=1,o++),h=P[1]=10===a&&1===o?s?"kbit":"kB":t[I][s?"bits":"bytes"][o],S&&(P[1]=P[1].charAt(0),e.test(P[1])&&(P[0]=Math.floor(P[0]),P[1]=""))}if(p&&(P[0]=-P[0]),v>0&&(P[0]=P[0].toPrecision(v)),P[1]=y[P[1]]||P[1],!0===d?P[0]=P[0].toLocaleString():d.length>0?P[0]=P[0].toLocaleString(d,_):T.length>0&&(P[0]=P[0].toString().replace(".",T)),A&&!1===Number.isInteger(P[0])&&g>0){var M=T||".",R=P[0].toString().split(M),D=R[1]||"",L=D.length,w=g-L;P[0]="".concat(R[0]).concat(M).concat(D.padEnd(L+w,"0"))}return c&&(P[1]=u[o]?u[o]:n[I][o]+(s?"bit":"byte")+(1===P[0]?"":"s")),"array"===E?P:"object"===E?{value:P[0],symbol:P[1],exponent:o,unit:h}:P.join(m)}return i.partial=function(e){return function(t){return i(t,e)}},i}()},76672:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="function"==typeof WeakMap?new WeakMap:new Map;function r(e){var t=n.get(e);if(void 0!==t)return t;var r=new Map;return Object.getOwnPropertyNames(e).forEach((function(t){r.set(e[t],t)})),n.set(e,r),r}var i=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return r(this).has(e)}},cast:{value:function(e){return this.isValid(e)?e:void 0}},members:{value:function(){return r(this).keys()}},getName:{value:function(e){return r(this).get(e)}}}));function o(e){var n=Object.create(i);for(var r in e)t.call(e,r)&&Object.defineProperty(n,r,{value:e[r]});return Object.freeze(n)}var a=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return"string"==typeof e&&t.call(this,e)}},cast:{value:i.cast},members:{value:function(){return Object.getOwnPropertyNames(this)}},getName:{value:function(e){return e}}}));o.Mirrored=function(e){for(var t=Object.create(a),n=0,r=e.length;n<r;++n)Object.defineProperty(t,e[n],{value:e[n]});return Object.freeze(t)},Object.freeze(o.Mirrored),e.exports=Object.freeze(o)},41143:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},97331:(e,t,n)=>{var r=n(19810);function i(e){return e.replace(/[^A-Za-z0-9]/g,(function(e){return r[e]||e}))}i.isLatin=function(e){return e===i(e)},e.exports=i},19810:e=>{e.exports={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AA",:"AE",:"AE",:"AE",:"AO",:"AU",:"AV",:"AV",:"AY",:"B",:"B",:"B",:"B",:"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"F",:"G",:"R",:"S",:"T",:"IS",:"J",:"J",:"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"LJ",:"M",:"M",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI",:"OO",:"E",:"O",:"OU",:"P",:"P",:"P",:"P",:"P",:"P",:"P",:"Q",:"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"SS",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"A",:"L",:"M",:"V",:"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"V",:"V",:"V",:"VY",:"W",:"W",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"IJ",:"OE",:"A",:"AE",:"B",:"B",:"C",:"D",:"E",:"F",:"G",:"G",:"H",:"I",:"R",:"J",:"K",:"L",:"L",:"M",:"N",:"O",:"OE",:"O",:"OU",:"P",:"R",:"N",:"R",:"S",:"T",:"E",:"R",:"U",:"V",:"W",:"Y",:"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"aa",:"ae",:"ae",:"ae",:"ao",:"au",:"av",:"av",:"ay",:"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"i",:"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"et",:"f",:"f",:"f",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"f",:"g",:"r",:"s",:"t",:"is",:"j",:"j",:"j",:"j",:"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"lj",:"s",:"s",:"s",:"s",:"m",:"m",:"m",:"m",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi",:"oo",:"e",:"e",:"o",:"o",:"ou",:"p",:"p",:"p",:"p",:"p",:"p",:"p",:"p",:"p",:"q",:"q",:"q",:"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"c",:"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"g",:"ss",:"o",:"o",:"u",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"th",:"a",:"ae",:"e",:"g",:"h",:"h",:"h",:"i",:"k",:"l",:"m",:"m",:"oe",:"r",:"r",:"r",:"r",:"t",:"v",:"w",:"y",:"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"ue",:"um",:"v",:"v",:"v",:"v",:"v",:"v",:"v",:"vy",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st",:"a",:"e",:"i",:"j",:"o",:"r",:"u",:"v",:"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"SH",:"SCH",:"Z",:"H",:"",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"sh",:"sch",:"z",:"h",:"",:"F",:"I",:"V",:"A",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"",:"b",:"yu"}},18552:(e,t,n)=>{var r=n(10852)(n(55639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(51789),i=n(80401),o=n(57667),a=n(21327),s=n(81866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},38407:(e,t,n)=>{var r=n(27040),i=n(14125),o=n(82117),a=n(67518),s=n(54705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},57071:(e,t,n)=>{var r=n(10852)(n(55639),"Map");e.exports=r},83369:(e,t,n)=>{var r=n(24785),i=n(11285),o=n(96e3),a=n(49916),s=n(95265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},53818:(e,t,n)=>{var r=n(10852)(n(55639),"Promise");e.exports=r},58525:(e,t,n)=>{var r=n(10852)(n(55639),"Set");e.exports=r},88668:(e,t,n)=>{var r=n(83369),i=n(90619),o=n(72385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},46384:(e,t,n)=>{var r=n(38407),i=n(37465),o=n(63779),a=n(67599),s=n(44758),l=n(34309);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},11149:(e,t,n)=>{var r=n(55639).Uint8Array;e.exports=r},70577:(e,t,n)=>{var r=n(10852)(n(55639),"WeakMap");e.exports=r},96874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},77412:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},34963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},47443:(e,t,n)=>{var r=n(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},14636:(e,t,n)=>{var r=n(22545),i=n(35694),o=n(1469),a=n(44144),s=n(65776),l=n(36719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),_=!n&&!u&&!d&&l(e),p=n||u||d||_,f=p?r(e.length,String):[],E=f.length;for(var A in e)!t&&!c.call(e,A)||p&&("length"==A||d&&("offset"==A||"parent"==A)||_&&("buffer"==A||"byteLength"==A||"byteOffset"==A)||s(A,E))||f.push(A);return f}},29932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},62488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},82908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},34865:(e,t,n)=>{var r=n(89465),i=n(77813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},18470:(e,t,n)=>{var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},71631:(e,t,n)=>{var r=n(98363),i=n(3674);e.exports=function(e,t){return e&&r(t,i(t),e)}},63886:(e,t,n)=>{var r=n(98363),i=n(81704);e.exports=function(e,t){return e&&r(t,i(t),e)}},89465:(e,t,n)=>{var r=n(38777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},85990:(e,t,n)=>{var r=n(46384),i=n(77412),o=n(34865),a=n(71631),s=n(63886),l=n(64626),c=n(278),u=n(18805),d=n(1911),_=n(58234),p=n(46904),f=n(64160),E=n(43824),A=n(29148),g=n(38517),h=n(1469),S=n(44144),T=n(56688),m=n(13218),I=n(72928),y=n(3674),C=n(81704),v="[object Arguments]",O="[object Function]",P="[object Object]",N={};N[v]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[P]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[O]=N["[object WeakMap]"]=!1,e.exports=function e(t,n,b,M,R,D){var L,w=1&n,B=2&n,U=4&n;if(b&&(L=R?b(t,M,R,D):b(t)),void 0!==L)return L;if(!m(t))return t;var G=h(t);if(G){if(L=E(t),!w)return c(t,L)}else{var k=f(t),Y=k==O||"[object GeneratorFunction]"==k;if(S(t))return l(t,w);if(k==P||k==v||Y&&!R){if(L=B||Y?{}:g(t),!w)return B?d(t,s(L,t)):u(t,a(L,t))}else{if(!N[k])return R?t:{};L=A(t,k,w)}}D||(D=new r);var F=D.get(t);if(F)return F;D.set(t,L),I(t)?t.forEach((function(r){L.add(e(r,n,b,r,t,D))})):T(t)&&t.forEach((function(r,i){L.set(i,e(r,n,b,i,t,D))}));var K=G?void 0:(U?B?p:_:B?C:y)(t);return i(K||t,(function(r,i){K&&(r=t[i=r]),o(L,i,e(r,n,b,i,t,D))})),L}},3118:(e,t,n)=>{var r=n(13218),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},20731:(e,t,n)=>{var r=n(88668),i=n(47443),o=n(1196),a=n(29932),s=n(7518),l=n(74757);e.exports=function(e,t,n,c){var u=-1,d=i,_=!0,p=e.length,f=[],E=t.length;if(!p)return f;n&&(t=a(t,s(n))),c?(d=o,_=!1):t.length>=200&&(d=l,_=!1,t=new r(t));e:for(;++u<p;){var A=e[u],g=null==n?A:n(A);if(A=c||0!==A?A:0,_&&g==g){for(var h=E;h--;)if(t[h]===g)continue e;f.push(A)}else d(t,g,c)||f.push(A)}return f}},89881:(e,t,n)=>{var r=n(47816),i=n(99291)(r);e.exports=i},41848:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},21078:(e,t,n)=>{var r=n(62488),i=n(37285);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},28483:(e,t,n)=>{var r=n(25063)();e.exports=r},47816:(e,t,n)=>{var r=n(28483),i=n(3674);e.exports=function(e,t){return e&&r(e,t,i)}},97786:(e,t,n)=>{var r=n(71811),i=n(40327);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},68866:(e,t,n)=>{var r=n(62488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},44239:(e,t,n)=>{var r=n(62705),i=n(89607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},42118:(e,t,n)=>{var r=n(41848),i=n(62722),o=n(42351);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},78975:(e,t,n)=>{var r=n(47816);e.exports=function(e,t,n,i){return r(e,(function(e,r,o){t(i,n(e),r,o)})),i}},9454:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},90939:(e,t,n)=>{var r=n(2492),i=n(37005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},2492:(e,t,n)=>{var r=n(46384),i=n(67114),o=n(18351),a=n(16096),s=n(64160),l=n(1469),c=n(44144),u=n(36719),d="[object Arguments]",_="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,E,A,g){var h=l(e),S=l(t),T=h?_:s(e),m=S?_:s(t),I=(T=T==d?p:T)==p,y=(m=m==d?p:m)==p,C=T==m;if(C&&c(e)){if(!c(t))return!1;h=!0,I=!1}if(C&&!I)return g||(g=new r),h||u(e)?i(e,t,n,E,A,g):o(e,t,T,n,E,A,g);if(!(1&n)){var v=I&&f.call(e,"__wrapped__"),O=y&&f.call(t,"__wrapped__");if(v||O){var P=v?e.value():e,N=O?t.value():t;return g||(g=new r),A(P,N,n,E,g)}}return!!C&&(g||(g=new r),a(e,t,n,E,A,g))}},25588:(e,t,n)=>{var r=n(64160),i=n(37005);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},2958:(e,t,n)=>{var r=n(46384),i=n(90939);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],_=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(o)var f=o(d,_,u,e,t,p);if(!(void 0===f?i(_,d,3,o,p):f))return!1}}return!0}},62722:e=>{e.exports=function(e){return e!=e}},28458:(e,t,n)=>{var r=n(23560),i=n(15346),o=n(13218),a=n(80346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,_=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?_:s).test(a(e))}},29221:(e,t,n)=>{var r=n(64160),i=n(37005);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},38749:(e,t,n)=>{var r=n(44239),i=n(41780),o=n(37005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},67206:(e,t,n)=>{var r=n(91573),i=n(16432),o=n(6557),a=n(1469),s=n(39601);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},280:(e,t,n)=>{var r=n(25726),i=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},10313:(e,t,n)=>{var r=n(13218),i=n(25726),o=n(33498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},69199:(e,t,n)=>{var r=n(89881),i=n(98612);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},91573:(e,t,n)=>{var r=n(2958),i=n(1499),o=n(42634);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},16432:(e,t,n)=>{var r=n(90939),i=n(27361),o=n(79095),a=n(15403),s=n(89162),l=n(42634),c=n(40327);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},82689:(e,t,n)=>{var r=n(29932),i=n(97786),o=n(67206),a=n(69199),s=n(71131),l=n(7518),c=n(85022),u=n(6557),d=n(1469);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var _=-1;t=r(t,l(o));var p=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++_,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}},63012:(e,t,n)=>{var r=n(97786),i=n(10611),o=n(71811);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=r(e,c);n(u,c)&&i(l,o(c,e),u)}return l}},40371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},79152:(e,t,n)=>{var r=n(97786);e.exports=function(e){return function(t){return r(t,e)}}},5976:(e,t,n)=>{var r=n(6557),i=n(45357),o=n(30061);e.exports=function(e,t){return o(i(e,t,r),e+"")}},10611:(e,t,n)=>{var r=n(34865),i=n(71811),o=n(65776),a=n(13218),s=n(40327);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=i(t,e)).length,d=u-1,_=e;null!=_&&++c<u;){var p=s(t[c]),f=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var E=_[p];void 0===(f=l?l(E,p,_):void 0)&&(f=a(E)?E:o(t[c+1])?[]:{})}r(_,p,f),_=_[p]}return e}},56560:(e,t,n)=>{var r=n(75703),i=n(38777),o=n(6557),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},14259:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},71131:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},22545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},80531:(e,t,n)=>{var r=n(62705),i=n(29932),o=n(1469),a=n(33448),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},27561:(e,t,n)=>{var r=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},45652:(e,t,n)=>{var r=n(88668),i=n(47443),o=n(1196),a=n(74757),s=n(23593),l=n(21814);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,_=!0,p=[],f=p;if(n)_=!1,u=o;else if(d>=200){var E=t?null:s(e);if(E)return l(E);_=!1,u=a,f=new r}else f=t?[]:p;e:for(;++c<d;){var A=e[c],g=t?t(A):A;if(A=n||0!==A?A:0,_&&g==g){for(var h=f.length;h--;)if(f[h]===g)continue e;t&&f.push(g),p.push(A)}else u(f,g,n)||(f!==p&&f.push(g),p.push(A))}return p}},57406:(e,t,n)=>{var r=n(71811),i=n(10928),o=n(40292),a=n(40327);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},47415:(e,t,n)=>{var r=n(29932);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},1757:e=>{e.exports=function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}},74757:e=>{e.exports=function(e,t){return e.has(t)}},54290:(e,t,n)=>{var r=n(6557);e.exports=function(e){return"function"==typeof e?e:r}},71811:(e,t,n)=>{var r=n(1469),i=n(15403),o=n(55514),a=n(79833);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},74318:(e,t,n)=>{var r=n(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64626:(e,t,n)=>{e=n.nmd(e);var r=n(55639),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},57157:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},93147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},40419:(e,t,n)=>{var r=n(62705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},77133:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},26393:(e,t,n)=>{var r=n(33448);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),s=void 0!==t,l=null===t,c=t==t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},85022:(e,t,n)=>{var r=n(26393);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},98363:(e,t,n)=>{var r=n(34865),i=n(89465);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}},18805:(e,t,n)=>{var r=n(98363),i=n(99551);e.exports=function(e,t){return r(e,i(e),t)}},1911:(e,t,n)=>{var r=n(98363),i=n(51442);e.exports=function(e,t){return r(e,i(e),t)}},14429:(e,t,n)=>{var r=n(55639)["__core-js_shared__"];e.exports=r},21463:(e,t,n)=>{var r=n(5976),i=n(16612);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},99291:(e,t,n)=>{var r=n(98612);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},25063:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},67740:(e,t,n)=>{var r=n(67206),i=n(98612),o=n(3674);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}},17779:(e,t,n)=>{var r=n(78975);e.exports=function(e,t){return function(n,i){return r(n,e,t(i),{})}}},23593:(e,t,n)=>{var r=n(58525),i=n(50308),o=n(21814),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},60696:(e,t,n)=>{var r=n(68630);e.exports=function(e){return r(e)?void 0:e}},38777:(e,t,n)=>{var r=n(10852),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},67114:(e,t,n)=>{var r=n(88668),i=n(82908),o=n(74757);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var _=l.get(e),p=l.get(t);if(_&&p)return _==t&&p==e;var f=-1,E=!0,A=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var g=e[f],h=t[f];if(a)var S=c?a(h,g,f,t,e,l):a(g,h,f,e,t,l);if(void 0!==S){if(S)continue;E=!1;break}if(A){if(!i(t,(function(e,t){if(!o(A,t)&&(g===e||s(g,e,n,a,l)))return A.push(t)}))){E=!1;break}}else if(g!==h&&!s(g,h,n,a,l)){E=!1;break}}return l.delete(e),l.delete(t),E}},18351:(e,t,n)=>{var r=n(62705),i=n(11149),o=n(77813),a=n(67114),s=n(68776),l=n(21814),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,_){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var E=_.get(e);if(E)return E==t;r|=2,_.set(e,t);var A=a(p(e),p(t),r,c,d,_);return _.delete(e),A;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16096:(e,t,n)=>{var r=n(58234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var _=c[d];if(!(l?_ in t:i.call(t,_)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var E=!0;s.set(e,t),s.set(t,e);for(var A=l;++d<u;){var g=e[_=c[d]],h=t[_];if(o)var S=l?o(h,g,_,t,e,s):o(g,h,_,e,t,s);if(!(void 0===S?g===h||a(g,h,n,o,s):S)){E=!1;break}A||(A="constructor"==_)}if(E&&!A){var T=e.constructor,m=t.constructor;T==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof T&&T instanceof T&&"function"==typeof m&&m instanceof m||(E=!1)}return s.delete(e),s.delete(t),E}},99021:(e,t,n)=>{var r=n(85564),i=n(45357),o=n(30061);e.exports=function(e){return o(i(e,void 0,r),e+"")}},31957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:(e,t,n)=>{var r=n(68866),i=n(99551),o=n(3674);e.exports=function(e){return r(e,o,i)}},46904:(e,t,n)=>{var r=n(68866),i=n(51442),o=n(81704);e.exports=function(e){return r(e,o,i)}},45050:(e,t,n)=>{var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var r=n(89162),i=n(3674);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},10852:(e,t,n)=>{var r=n(28458),i=n(47801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},85924:(e,t,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},89607:(e,t,n)=>{var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},99551:(e,t,n)=>{var r=n(34963),i=n(70479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},51442:(e,t,n)=>{var r=n(62488),i=n(85924),o=n(99551),a=n(70479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},64160:(e,t,n)=>{var r=n(18552),i=n(57071),o=n(53818),a=n(58525),s=n(70577),l=n(44239),c=n(80346),u="[object Map]",d="[object Promise]",_="[object Set]",p="[object WeakMap]",f="[object DataView]",E=c(r),A=c(i),g=c(o),h=c(a),S=c(s),T=l;(r&&T(new r(new ArrayBuffer(1)))!=f||i&&T(new i)!=u||o&&T(o.resolve())!=d||a&&T(new a)!=_||s&&T(new s)!=p)&&(T=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case E:return f;case A:return u;case g:return d;case h:return _;case S:return p}return t}),e.exports=T},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var r=n(71811),i=n(35694),o=n(1469),a=n(65776),s=n(41780),l=n(40327);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var _=l(t[c]);if(!(d=null!=e&&n(e,_)))break;e=e[_]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(_,u)&&(o(e)||i(e))}},51789:(e,t,n)=>{var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,n)=>{var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},21327:(e,t,n)=>{var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},81866:(e,t,n)=>{var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},29148:(e,t,n)=>{var r=n(74318),i=n(57157),o=n(93147),a=n(40419),s=n(77133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},38517:(e,t,n)=>{var r=n(3118),i=n(85924),o=n(25726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},37285:(e,t,n)=>{var r=n(62705),i=n(35694),o=n(1469),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},16612:(e,t,n)=>{var r=n(77813),i=n(98612),o=n(65776),a=n(13218);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},15403:(e,t,n)=>{var r=n(1469),i=n(33448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{var r,i=n(14429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},89162:(e,t,n)=>{var r=n(13218);e.exports=function(e){return e==e&&!r(e)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var r=n(18470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},82117:(e,t,n)=>{var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:(e,t,n)=>{var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},54705:(e,t,n)=>{var r=n(18470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},24785:(e,t,n)=>{var r=n(1989),i=n(38407),o=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},11285:(e,t,n)=>{var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:(e,t,n)=>{var r=n(45050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},68776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},42634:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},24523:(e,t,n)=>{var r=n(88306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},94536:(e,t,n)=>{var r=n(10852)(Object,"create");e.exports=r},86916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},33498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},31167:(e,t,n)=>{e=n.nmd(e);var r=n(31957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},45357:(e,t,n)=>{var r=n(96874),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},40292:(e,t,n)=>{var r=n(97786),i=n(14259);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},55639:(e,t,n)=>{var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},30061:(e,t,n)=>{var r=n(56560),i=n(21275)(r);e.exports=i},21275:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},37465:(e,t,n)=>{var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var r=n(38407),i=n(57071),o=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},42351:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},55514:(e,t,n)=>{var r=n(24523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},40327:(e,t,n)=>{var r=n(33448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3045:(e,t,n)=>{var r=n(98363),i=n(21463),o=n(81704),a=i((function(e,t){r(t,o(t),e)}));e.exports=a},89567:(e,t,n)=>{var r=n(40554);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},50361:(e,t,n)=>{var r=n(85990);e.exports=function(e){return r(e,5)}},75703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var r=n(13218),i=n(7771),o=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,_,p,f=0,E=!1,A=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function S(e){return f=e,_=setTimeout(m,t),E?h(e):d}function T(e){var n=e-p;return void 0===p||n>=t||n<0||A&&e-f>=u}function m(){var e=i();if(T(e))return I(e);_=setTimeout(m,function(e){var n=t-(e-p);return A?s(n,u-(e-f)):n}(e))}function I(e){return _=void 0,g&&l?h(e):(l=c=void 0,d)}function y(){var e=i(),n=T(e);if(l=arguments,c=this,p=e,n){if(void 0===_)return S(p);if(A)return clearTimeout(_),_=setTimeout(m,t),h(p)}return void 0===_&&(_=setTimeout(m,t)),d}return t=o(t)||0,r(n)&&(E=!!n.leading,u=(A="maxWait"in n)?a(o(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),y.cancel=function(){void 0!==_&&clearTimeout(_),f=0,l=p=c=_=void 0},y.flush=function(){return void 0===_?d:I(i())},y}},91747:(e,t,n)=>{var r=n(5976),i=n(77813),o=n(16612),a=n(81704),s=Object.prototype,l=s.hasOwnProperty,c=r((function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&o(t[0],t[1],c)&&(r=1);++n<r;)for(var u=t[n],d=a(u),_=-1,p=d.length;++_<p;){var f=d[_],E=e[f];(void 0===E||i(E,s[f])&&!l.call(e,f))&&(e[f]=u[f])}return e}));e.exports=c},91966:(e,t,n)=>{var r=n(20731),i=n(21078),o=n(5976),a=n(29246),s=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]}));e.exports=s},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},3522:(e,t,n)=>{var r=n(79833),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,"\\$&"):e}},22205:(e,t,n)=>{e.exports=n(3045)},30988:(e,t,n)=>{var r=n(67740)(n(7436));e.exports=r},7436:(e,t,n)=>{var r=n(41848),i=n(67206),o=n(40554),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var c=l-1;return void 0!==n&&(c=o(n),c=n<0?a(l+c,0):s(c,l-1)),r(e,i(t,3),c,!0)}},94654:(e,t,n)=>{var r=n(21078),i=n(35161);e.exports=function(e,t){return r(i(e,t),1)}},85564:(e,t,n)=>{var r=n(21078);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},84486:(e,t,n)=>{var r=n(77412),i=n(89881),o=n(54290),a=n(1469);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},2525:(e,t,n)=>{var r=n(47816),i=n(54290);e.exports=function(e,t){return e&&r(e,i(t))}},27361:(e,t,n)=>{var r=n(97786);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},79095:(e,t,n)=>{var r=n(13),i=n(222);e.exports=function(e,t){return null!=e&&i(e,t,r)}},6557:e=>{e.exports=function(e){return e}},63137:(e,t,n)=>{var r=n(75703),i=n(17779),o=n(6557),a=Object.prototype.toString,s=i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=a.call(t)),e[t]=n}),r(o));e.exports=s},35694:(e,t,n)=>{var r=n(9454),i=n(37005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var r=n(23560),i=n(41780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},29246:(e,t,n)=>{var r=n(98612),i=n(37005);e.exports=function(e){return i(e)&&r(e)}},44144:(e,t,n)=>{e=n.nmd(e);var r=n(55639),i=n(95062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},41609:(e,t,n)=>{var r=n(280),i=n(64160),o=n(35694),a=n(1469),s=n(98612),l=n(44144),c=n(25726),u=n(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},18446:(e,t,n)=>{var r=n(90939);e.exports=function(e,t){return r(e,t)}},23560:(e,t,n)=>{var r=n(44239),i=n(13218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},56688:(e,t,n)=>{var r=n(25588),i=n(7518),o=n(31167),a=o&&o.isMap,s=a?i(a):r;e.exports=s},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},68630:(e,t,n)=>{var r=n(44239),i=n(85924),o=n(37005),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},72928:(e,t,n)=>{var r=n(29221),i=n(7518),o=n(31167),a=o&&o.isSet,s=a?i(a):r;e.exports=s},33448:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},36719:(e,t,n)=>{var r=n(38749),i=n(7518),o=n(31167),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},3674:(e,t,n)=>{var r=n(14636),i=n(280),o=n(98612);e.exports=function(e){return o(e)?r(e):i(e)}},81704:(e,t,n)=>{var r=n(14636),i=n(10313),o=n(98612);e.exports=function(e){return o(e)?r(e,!0):i(e)}},10928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},35161:(e,t,n)=>{var r=n(29932),i=n(67206),o=n(69199),a=n(1469);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},66604:(e,t,n)=>{var r=n(89465),i=n(47816),o=n(67206);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},88306:(e,t,n)=>{var r=n(83369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},94885:e=>{e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},50308:e=>{e.exports=function(){}},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},57557:(e,t,n)=>{var r=n(29932),i=n(85990),o=n(57406),a=n(71811),s=n(98363),l=n(60696),c=n(99021),u=n(46904),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,u(e),n),c&&(n=i(n,7,l));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d},14176:(e,t,n)=>{var r=n(67206),i=n(94885),o=n(35937);e.exports=function(e,t){return o(e,i(r(t)))}},51463:(e,t,n)=>{var r=n(89567);e.exports=function(e){return r(2,e)}},35937:(e,t,n)=>{var r=n(29932),i=n(67206),o=n(63012),a=n(46904);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=i(t),o(e,n,(function(e,n){return t(e,n[0])}))}},39601:(e,t,n)=>{var r=n(40371),i=n(79152),o=n(15403),a=n(40327);e.exports=function(e){return o(e)?r(a(e)):i(e)}},89734:(e,t,n)=>{var r=n(21078),i=n(82689),o=n(5976),a=n(16612),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},23493:(e,t,n)=>{var r=n(23279),i=n(13218);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},18601:(e,t,n)=>{var r=n(14841),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:(e,t,n)=>{var r=n(18601);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var r=n(27561),i=n(13218),o=n(33448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},79833:(e,t,n)=>{var r=n(80531);e.exports=function(e){return null==e?"":r(e)}},93386:(e,t,n)=>{var r=n(21078),i=n(5976),o=n(45652),a=n(29246),s=i((function(e){return o(r(e,1,a,!0))}));e.exports=s},44908:(e,t,n)=>{var r=n(45652);e.exports=function(e){return e&&e.length?r(e):[]}},73955:(e,t,n)=>{var r=n(79833),i=0;e.exports=function(e){var t=++i;return r(e)+t}},40690:(e,t,n)=>{var r=n(34963),i=n(29932),o=n(40371),a=n(22545),s=n(29246),l=Math.max;e.exports=function(e){if(!e||!e.length)return[];var t=0;return e=r(e,(function(e){if(s(e))return t=l(e.length,t),!0})),a(t,(function(t){return i(e,o(t))}))}},52628:(e,t,n)=>{var r=n(47415),i=n(3674);e.exports=function(e){return null==e?[]:r(e,i(e))}},82569:(e,t,n)=>{var r=n(20731),i=n(5976),o=n(29246),a=i((function(e,t){return o(e)?r(e,t):[]}));e.exports=a},4788:(e,t,n)=>{var r=n(5976)(n(40690));e.exports=r},7287:(e,t,n)=>{var r=n(34865),i=n(1757);e.exports=function(e,t){return i(e||[],t||[],r)}},30381:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function _(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return $n(e,t,n,r,!0).utc()}function E(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function A(e){return null==e._pf&&(e._pf=E()),e._pf}function g(e){if(null==e._isValid){var t=A(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function h(e){var t=f(NaN);return null!=e?p(A(t),e):A(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var S=r.momentProperties=[],T=!1;function m(e,t){var n,r,i,o=S.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=A(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(i=t[r=S[n]])||(e[r]=i);return e}function I(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===T&&(T=!0,r.updateOffset(this),T=!1)}function y(e){return e instanceof I||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function v(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,l=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"==typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}C(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var O,P={};function N(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),P[e]||(C(t),P[e]=!0)}function b(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e){var t,n;for(n in e)s(e,n)&&(b(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(e,t){var n,r=p({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=p({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,O=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function w(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return b(r)?r.call(t,n):r}function B(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,k={},Y={};function F(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Y[e]=i),t&&(Y[t[0]]=function(){return B(i.apply(this,arguments),t[1],t[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function K(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function x(e){var t,n,r=e.match(U);for(t=0,n=r.length;t<n;t++)Y[r[t]]?r[t]=Y[r[t]]:r[t]=K(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=b(r[i])?r[i].call(t,e):r[i];return o}}function H(e,t){return e.isValid()?(t=j(t,e.localeData()),k[t]=k[t]||x(t),k[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(G.lastIndex=0;n>=0&&G.test(e);)e=e.replace(G,r),G.lastIndex=0,n-=1;return e}var V={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(U).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Q="Invalid date";function $(){return this._invalidDate}var z="%d",J=/\d{1,2}/;function q(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return b(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return b(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"==typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4==0&&e%100!=0||e%400==0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ue(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function de(e,t){return function(n){return null!=n?(pe(this,e,n),r.updateOffset(this,t),this):_e(this,e)}}function _e(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ue(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function fe(e){return b(this[e=re(e)])?this[e]():this}function Ee(e,t){if("object"==typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(b(this[e=re(e)]))return this[e](t);return this}var Ae,ge=/\d/,he=/\d\d/,Se=/\d{3}/,Te=/\d{4}/,me=/[+-]?\d{6}/,Ie=/\d\d?/,ye=/\d\d\d\d?/,Ce=/\d\d\d\d\d\d?/,ve=/\d{1,3}/,Oe=/\d{1,4}/,Pe=/[+-]?\d{1,6}/,Ne=/\d+/,be=/[+-]?\d+/,Me=/Z|[+-]\d\d:?\d\d/gi,Re=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function we(e,t,n){Ae[e]=b(t)?t:function(e,r){return e&&n?n:t}}function Be(e,t){return s(Ae,e)?Ae[e](t._strict,t._locale):new RegExp(Ue(e))}function Ue(e){return Ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Ae={};var ke={};function Ye(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=ue(e)}),r=e.length,n=0;n<r;n++)ke[e[n]]=i}function Fe(e,t){Ye(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ke(e,t,n){null!=t&&s(ke,e)&&ke[e](t,n._a,n,e)}var xe,He=0,je=1,Ve=2,We=3,Qe=4,$e=5,ze=6,Je=7,qe=8;function Xe(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}xe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},F("M",["MM",2],"Mo",(function(){return this.month()+1})),F("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),F("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),we("M",Ie),we("MM",Ie,he),we("MMM",(function(e,t){return t.monthsShortRegex(e)})),we("MMMM",(function(e,t){return t.monthsRegex(e)})),Ye(["M","MM"],(function(e,t){t[je]=ue(e)-1})),Ye(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[je]=i:A(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Le,it=Le;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=xe.call(this._shortMonthsParse,a))?i:null:-1!==(i=xe.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=xe.call(this._shortMonthsParse,a))||-1!==(i=xe.call(this._longMonthsParse,a))?i:null:-1!==(i=xe.call(this._longMonthsParse,a))||-1!==(i=xe.call(this._shortMonthsParse,a))?i:null}function lt(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=ue(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ut(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):_e(this,"Month")}function dt(){return Ze(this.year(),this.month())}function _t(e){return this._monthsParseExact?(s(this,"_monthsRegex")||ft.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||ft.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ft(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Ge(r[t]),i[t]=Ge(i[t]);for(t=0;t<24;t++)o[t]=Ge(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Et(e){return le(e)?366:365}F("Y",0,0,(function(){var e=this.year();return e<=9999?B(e,4):"+"+e})),F(0,["YY",2],0,(function(){return this.year()%100})),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),we("Y",be),we("YY",Ie,he),we("YYYY",Oe,Te),we("YYYYY",Pe,me),we("YYYYYY",Pe,me),Ye(["YYYYY","YYYYYY"],He),Ye("YYYY",(function(e,t){t[He]=2===e.length?r.parseTwoDigitYear(e):ue(e)})),Ye("YY",(function(e,t){t[He]=r.parseTwoDigitYear(e)})),Ye("Y",(function(e,t){t[He]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ue(e)+(ue(e)>68?1900:2e3)};var At=de("FullYear",!0);function gt(){return le(this.year())}function ht(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function St(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Tt(e,t,n){var r=7+t-n;return-(7+St(e,0,r).getUTCDay()-t)%7+r-1}function mt(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+Tt(e,r,i);return s<=0?a=Et(o=e-1)+s:s>Et(e)?(o=e+1,a=s-Et(e)):(o=e,a=s),{year:o,dayOfYear:a}}function It(e,t,n){var r,i,o=Tt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+yt(i=e.year()-1,t,n):a>yt(e.year(),t,n)?(r=a-yt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function yt(e,t,n){var r=Tt(e,t,n),i=Tt(e+1,t,n);return(Et(e)-r+i)/7}function Ct(e){return It(e,this._week.dow,this._week.doy).week}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),we("w",Ie),we("ww",Ie,he),we("W",Ie),we("WW",Ie,he),Fe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ue(e)}));var vt={dow:0,doy:6};function Ot(){return this._week.dow}function Pt(){return this._week.doy}function Nt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function bt(e){var t=It(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Mt(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Rt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}F("d",0,"do","day"),F("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),F("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),F("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),we("d",Ie),we("e",Ie),we("E",Ie),we("dd",(function(e,t){return t.weekdaysMinRegex(e)})),we("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),we("dddd",(function(e,t){return t.weekdaysRegex(e)})),Fe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:A(n).invalidWeekday=e})),Fe(["d","e","E"],(function(e,t,n,r){t[r]=ue(e)}));var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ut=Le,Gt=Le,kt=Le;function Yt(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Ft(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Kt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function xt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=xe.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=xe.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=xe.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=xe.call(this._weekdaysParse,a))||-1!==(i=xe.call(this._shortWeekdaysParse,a))||-1!==(i=xe.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=xe.call(this._shortWeekdaysParse,a))||-1!==(i=xe.call(this._weekdaysParse,a))||-1!==(i=xe.call(this._minWeekdaysParse,a))?i:null:-1!==(i=xe.call(this._minWeekdaysParse,a))||-1!==(i=xe.call(this._weekdaysParse,a))||-1!==(i=xe.call(this._shortWeekdaysParse,a))?i:null}function Ht(e,t,n){var r,i,o;if(this._weekdaysParseExact)return xt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function jt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Mt(e,this.localeData()),this.add(e-t,"d")):t}function Vt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Rt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ut),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function $t(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function zt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=Ge(this.weekdaysMin(n,"")),i=Ge(this.weekdaysShort(n,"")),o=Ge(this.weekdays(n,"")),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);a.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function qt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Zt(e,t){F(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,qt),F("k",["kk",2],0,Xt),F("hmm",0,0,(function(){return""+qt.apply(this)+B(this.minutes(),2)})),F("hmmss",0,0,(function(){return""+qt.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)})),F("Hmm",0,0,(function(){return""+this.hours()+B(this.minutes(),2)})),F("Hmmss",0,0,(function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),ae("hour",13),we("a",en),we("A",en),we("H",Ie),we("h",Ie),we("k",Ie),we("HH",Ie,he),we("hh",Ie,he),we("kk",Ie,he),we("hmm",ye),we("hmmss",Ce),we("Hmm",ye),we("Hmmss",Ce),Ye(["H","HH"],We),Ye(["k","kk"],(function(e,t,n){var r=ue(e);t[We]=24===r?0:r})),Ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ye(["h","hh"],(function(e,t,n){t[We]=ue(e),A(n).bigHour=!0})),Ye("hmm",(function(e,t,n){var r=e.length-2;t[We]=ue(e.substr(0,r)),t[Qe]=ue(e.substr(r)),A(n).bigHour=!0})),Ye("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=ue(e.substr(0,r)),t[Qe]=ue(e.substr(r,2)),t[$e]=ue(e.substr(i)),A(n).bigHour=!0})),Ye("Hmm",(function(e,t,n){var r=e.length-2;t[We]=ue(e.substr(0,r)),t[Qe]=ue(e.substr(r))})),Ye("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=ue(e.substr(0,r)),t[Qe]=ue(e.substr(r,2)),t[$e]=ue(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=de("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:L,longDateFormat:V,invalidDate:Q,ordinal:z,dayOfMonthOrdinalParse:J,relativeTime:X,months:et,monthsShort:tt,week:vt,weekdays:Lt,weekdaysMin:Bt,weekdaysShort:wt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function _n(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=dn(e[o]).split("-")).length,n=(n=dn(e[o+1]))?n.split("-"):null;t>0;){if(r=fn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(i,n)>=t-1)break;t--}o++}return an}function pn(e){return null!=e.match("^[^/\\\\]*$")}function fn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&pn(t))try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),En(n)}catch(e){ln[t]=null}return ln[t]}function En(e,t){var n;return e&&((n=c(t)?hn(e):An(e,t))?an=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function An(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=ln[e])N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=fn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new D(R(r,t)),cn[e]&&cn[e].forEach((function(e){An(e.name,e.config)})),En(e),ln[e]}return delete ln[e],null}function gn(e,t){if(null!=t){var n,r,i=sn;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(R(ln[e]._config,t)):(null!=(r=fn(e))&&(i=r._config),t=R(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=ln[e],ln[e]=n),En(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===En()&&En(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function hn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=fn(e))return t;e=[e]}return _n(e)}function Sn(){return O(ln)}function Tn(e){var t,n=e._a;return n&&-2===A(e).overflow&&(t=n[je]<0||n[je]>11?je:n[Ve]<1||n[Ve]>Ze(n[He],n[je])?Ve:n[We]<0||n[We]>24||24===n[We]&&(0!==n[Qe]||0!==n[$e]||0!==n[ze])?We:n[Qe]<0||n[Qe]>59?Qe:n[$e]<0||n[$e]>59?$e:n[ze]<0||n[ze]>999?ze:-1,A(e)._overflowDayOfYear&&(t<He||t>Ve)&&(t=Ve),A(e)._overflowWeeks&&-1===t&&(t=Je),A(e)._overflowWeekday&&-1===t&&(t=qe),A(e).overflow=t),e}var mn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,In=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yn=/Z|[+-]\d\d(?::?\d\d)?/,Cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],On=/^\/?Date\((-?\d+)/i,Pn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function bn(e){var t,n,r,i,o,a,s=e._i,l=mn.exec(s)||In.exec(s),c=Cn.length,u=vn.length;if(l){for(A(e).iso=!0,t=0,n=c;t<n;t++)if(Cn[t][1].exec(l[1])){i=Cn[t][0],r=!1!==Cn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(vn[t][1].exec(l[3])){o=(l[2]||" ")+vn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!yn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Kn(e)}else e._isValid=!1}function Mn(e,t,n,r,i,o){var a=[Rn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Rn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ln(e,t,n){return!e||wt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(A(n).weekdayMismatch=!0,n._isValid=!1,!1)}function wn(e,t,n){if(e)return Nn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Bn(e){var t,n=Pn.exec(Dn(e._i));if(n){if(t=Mn(n[4],n[3],n[2],n[5],n[6],n[7]),!Ln(n[1],t,e))return;e._a=t,e._tzm=wn(n[8],n[9],n[10]),e._d=St.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),A(e).rfc2822=!0}else e._isValid=!1}function Un(e){var t=On.exec(e._i);null===t?(bn(e),!1===e._isValid&&(delete e._isValid,Bn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Gn(e,t,n){return null!=e?e:null!=t?t:n}function kn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Yn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=kn(e),e._w&&null==e._a[Ve]&&null==e._a[je]&&Fn(e),null!=e._dayOfYear&&(o=Gn(e._a[He],r[He]),(e._dayOfYear>Et(o)||0===e._dayOfYear)&&(A(e)._overflowDayOfYear=!0),n=St(o,0,e._dayOfYear),e._a[je]=n.getUTCMonth(),e._a[Ve]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[We]&&0===e._a[Qe]&&0===e._a[$e]&&0===e._a[ze]&&(e._nextDay=!0,e._a[We]=0),e._d=(e._useUTC?St:ht).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[We]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(A(e).weekdayMismatch=!0)}}function Fn(e){var t,n,r,i,o,a,s,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Gn(t.GG,e._a[He],It(zn(),1,4).year),r=Gn(t.W,1),((i=Gn(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,c=It(zn(),o,a),n=Gn(t.gg,e._a[He],c.year),r=Gn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>yt(n,o,a)?A(e)._overflowWeeks=!0:null!=l?A(e)._overflowWeekday=!0:(s=mt(n,r,i,o,a),e._a[He]=s.year,e._dayOfYear=s.dayOfYear)}function Kn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],A(e).empty=!0;var t,n,i,o,a,s,l,c=""+e._i,u=c.length,d=0;for(l=(i=j(e._f,e._locale).match(U)||[]).length,t=0;t<l;t++)o=i[t],(n=(c.match(Be(o,e))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&A(e).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),d+=n.length),Y[o]?(n?A(e).empty=!1:A(e).unusedTokens.push(o),Ke(o,n,e)):e._strict&&!n&&A(e).unusedTokens.push(o);A(e).charsLeftOver=u-d,c.length>0&&A(e).unusedInput.push(c),e._a[We]<=12&&!0===A(e).bigHour&&e._a[We]>0&&(A(e).bigHour=void 0),A(e).parsedDateParts=e._a.slice(0),A(e).meridiem=e._meridiem,e._a[We]=xn(e._locale,e._a[We],e._meridiem),null!==(s=A(e).era)&&(e._a[He]=e._locale.erasConvertYear(s,e._a[He])),Yn(e),Tn(e)}else Bn(e);else bn(e)}function xn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Hn(e){var t,n,r,i,o,a,s=!1,l=e._f.length;if(0===l)return A(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,a=!1,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Kn(t),g(t)&&(a=!0),o+=A(t).charsLeftOver,o+=10*A(t).unusedTokens.length,A(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));p(e,n||t)}function jn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=_([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Yn(e)}}function Vn(e){var t=new I(Tn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||hn(e._l),null===t||void 0===n&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new I(Tn(t)):(d(t)?e._d=t:o(n)?Hn(e):n?Kn(e):Qn(e),g(e)||(e._d=null),e))}function Qn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Un(e):o(t)?(e._a=_(t.slice(0),(function(e){return parseInt(e,10)})),Yn(e)):a(t)?jn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function $n(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Vn(s)}function zn(e,t,n,r){return $n(e,t,n,r,!1)}r.createFromInputFallback=v("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Jn=v("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=zn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h()})),qn=v("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=zn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}));function Xn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return zn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Xn("isBefore",[].slice.call(arguments,0))}function er(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===xe.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ue(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Nr(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=hn(),this._bubble()}function sr(e){return e instanceof ar}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ue(e[r])!==ue(t[r]))&&a++;return a+o}function ur(e,t){F(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),we("Z",Re),we("ZZ",Re),Ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=_r(Re,e)}));var dr=/([\+\-]|\d\d)/gi;function _r(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+ue(n[2]))?0:"+"===n[0]?r:-r}function pr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(y(e)||d(e)?e.valueOf():zn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):zn(e).local()}function fr(e){return-Math.round(e._d.getTimezoneOffset())}function Er(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=_r(Re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=fr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Lr(this,Nr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:fr(this)}function Ar(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gr(e){return this.utcOffset(0,e)}function hr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fr(this),"m")),this}function Sr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=_r(Me,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Tr(e){return!!this.isValid()&&(e=e?zn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function mr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ir(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return m(t,this),(t=Wn(t))._a?(e=t._isUTC?f(t._a):zn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function yr(){return!!this.isValid()&&!this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC}function vr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Or=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Pr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Nr(e,t){var n,r,i,o=e,a=null;return sr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Or.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:ue(a[Ve])*n,h:ue(a[We])*n,m:ue(a[Qe])*n,s:ue(a[$e])*n,ms:ue(lr(1e3*a[ze]))*n}):(a=Pr.exec(e))?(n="-"===a[1]?-1:1,o={y:br(a[2],n),M:br(a[3],n),w:br(a[4],n),d:br(a[5],n),h:br(a[6],n),m:br(a[7],n),s:br(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Rr(zn(o.from),zn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ar(o),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function br(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Mr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Rr(e,t){var n;return e.isValid()&&t.isValid()?(t=pr(t,e),e.isBefore(t)?n=Mr(e,t):((n=Mr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(N(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Lr(this,Nr(n,r),e),this}}function Lr(e,t,n,i){var o=t._milliseconds,a=lr(t._days),s=lr(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,_e(e,"Month")+s*n),a&&pe(e,"Date",_e(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Nr.fn=ar.prototype,Nr.invalid=or;var wr=Dr(1,"add"),Br=Dr(-1,"subtract");function Ur(e){return"string"==typeof e||e instanceof String}function Gr(e){return y(e)||d(e)||Ur(e)||u(e)||Yr(e)||kr(e)||null==e}function kr(e){var t,n,r=a(e)&&!l(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Yr(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Ur(e)})).length),t&&n}function Fr(e){var t,n,r=a(e)&&!l(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Kr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function xr(e,t){1===arguments.length&&(arguments[0]?Gr(arguments[0])?(e=arguments[0],t=void 0):Fr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||zn(),i=pr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(b(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,zn(n)))}function Hr(){return new I(this)}function jr(e,t){var n=y(e)?e:zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Vr(e,t){var n=y(e)?e:zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var i=y(e)?e:zn(e),o=y(t)?t:zn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Qr(e,t){var n,r=y(e)?e:zn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function $r(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function zr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=pr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=qr(this,r)/12;break;case"month":o=qr(this,r);break;case"quarter":o=qr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ce(o)}function qr(e,t){if(e.date()<t.date())return-qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):b(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(y(e)&&e.isValid()||zn(e).isValid())?Nr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(zn(),e)}function ii(e,t){return this.isValid()&&(y(e)&&e.isValid()||zn(e).isValid())?Nr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(zn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=hn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=v("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,di=60*ui,_i=3506328*di;function pi(e,t){return(e%t+t)%t}function fi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-_i:new Date(e,t,n).valueOf()}function Ei(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-_i:Date.UTC(e,t,n)}function Ai(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Ei:fi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pi(t+(this._isUTC?0:this.utcOffset()*ui),di);break;case"minute":t=this._d.valueOf(),t-=pi(t,ui);break;case"second":t=this._d.valueOf(),t-=pi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Ei:fi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-pi(t+(this._isUTC?0:this.utcOffset()*ui),di)-1;break;case"minute":t=this._d.valueOf(),t+=ui-pi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=ci-pi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function hi(){return this._d.valueOf()-6e4*(this._offset||0)}function Si(){return Math.floor(this.valueOf()/1e3)}function Ti(){return new Date(this.valueOf())}function mi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ii(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function yi(){return this.isValid()?this.toISOString():null}function Ci(){return g(this)}function vi(){return p({},A(this))}function Oi(){return A(this).overflow}function Pi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ni(e,t){var n,i,o,a=this._eras||hn("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}}return a}function bi(e,t,n){var r,i,o,a,s,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(s===e)return l[r]}else if([o,a,s].indexOf(e)>=0)return l[r]}function Mi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Li(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function wi(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Bi(e){return s(this,"_erasNameRegex")||xi.call(this),e?this._erasNameRegex:this._erasRegex}function Ui(e){return s(this,"_erasAbbrRegex")||xi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Gi(e){return s(this,"_erasNarrowRegex")||xi.call(this),e?this._erasNarrowRegex:this._erasRegex}function ki(e,t){return t.erasAbbrRegex(e)}function Yi(e,t){return t.erasNameRegex(e)}function Fi(e,t){return t.erasNarrowRegex(e)}function Ki(e,t){return t._eraYearOrdinalRegex||Ne}function xi(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(Ge(a[e].name)),n.push(Ge(a[e].abbr)),i.push(Ge(a[e].narrow)),o.push(Ge(a[e].name)),o.push(Ge(a[e].abbr)),o.push(Ge(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Hi(e,t){F(0,[e,e.length],0,t)}function ji(e){return Ji.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vi(e){return Ji.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return yt(this.year(),1,4)}function Qi(){return yt(this.isoWeekYear(),1,4)}function $i(){var e=this.localeData()._week;return yt(this.year(),e.dow,e.doy)}function zi(){var e=this.localeData()._week;return yt(this.weekYear(),e.dow,e.doy)}function Ji(e,t,n,r,i){var o;return null==e?It(this,r,i).year:(t>(o=yt(e,r,i))&&(t=o),qi.call(this,e,t,n,r,i))}function qi(e,t,n,r,i){var o=mt(e,t,n,r,i),a=St(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),we("N",ki),we("NN",ki),we("NNN",ki),we("NNNN",Yi),we("NNNNN",Fi),Ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?A(n).era=i:A(n).invalidEra=e})),we("y",Ne),we("yy",Ne),we("yyy",Ne),we("yyyy",Ne),we("yo",Ki),Ye(["y","yy","yyy","yyyy"],He),Ye(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[He]=n._locale.eraYearOrdinalParse(e,i):t[He]=parseInt(e,10)})),F(0,["gg",2],0,(function(){return this.weekYear()%100})),F(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Hi("gggg","weekYear"),Hi("ggggg","weekYear"),Hi("GGGG","isoWeekYear"),Hi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),we("G",be),we("g",be),we("GG",Ie,he),we("gg",Ie,he),we("GGGG",Oe,Te),we("gggg",Oe,Te),we("GGGGG",Pe,me),we("ggggg",Pe,me),Fe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ue(e)})),Fe(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),F("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),we("Q",ge),Ye("Q",(function(e,t){t[je]=3*(ue(e)-1)})),F("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),we("D",Ie),we("DD",Ie,he),we("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ye(["D","DD"],Ve),Ye("Do",(function(e,t){t[Ve]=ue(e.match(Ie)[0])}));var Zi=de("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}F("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),we("DDD",ve),we("DDDD",Se),Ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ue(e)})),F("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),we("m",Ie),we("mm",Ie,he),Ye(["m","mm"],Qe);var to=de("Minutes",!1);F("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),we("s",Ie),we("ss",Ie,he),Ye(["s","ss"],$e);var no,ro,io=de("Seconds",!1);for(F("S",0,0,(function(){return~~(this.millisecond()/100)})),F(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),F(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),F(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),F(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),F(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),F(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),we("S",ve,ge),we("SS",ve,he),we("SSS",ve,Se),no="SSSS";no.length<=9;no+="S")we(no,Ne);function oo(e,t){t[ze]=ue(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")Ye(no,oo);function ao(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}ro=de("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var lo=I.prototype;function co(e){return zn(1e3*e)}function uo(){return zn.apply(null,arguments).parseZone()}function _o(e){return e}lo.add=wr,lo.calendar=xr,lo.clone=Hr,lo.diff=Jr,lo.endOf=gi,lo.format=ti,lo.from=ni,lo.fromNow=ri,lo.to=ii,lo.toNow=oi,lo.get=fe,lo.invalidAt=Oi,lo.isAfter=jr,lo.isBefore=Vr,lo.isBetween=Wr,lo.isSame=Qr,lo.isSameOrAfter=$r,lo.isSameOrBefore=zr,lo.isValid=Ci,lo.lang=si,lo.locale=ai,lo.localeData=li,lo.max=qn,lo.min=Jn,lo.parsingFlags=vi,lo.set=Ee,lo.startOf=Ai,lo.subtract=Br,lo.toArray=mi,lo.toObject=Ii,lo.toDate=Ti,lo.toISOString=Zr,lo.inspect=ei,"undefined"!=typeof Symbol&&null!=Symbol.for&&(lo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lo.toJSON=yi,lo.toString=Xr,lo.unix=Si,lo.valueOf=hi,lo.creationData=Pi,lo.eraName=Ri,lo.eraNarrow=Di,lo.eraAbbr=Li,lo.eraYear=wi,lo.year=At,lo.isLeapYear=gt,lo.weekYear=ji,lo.isoWeekYear=Vi,lo.quarter=lo.quarters=Xi,lo.month=ut,lo.daysInMonth=dt,lo.week=lo.weeks=Nt,lo.isoWeek=lo.isoWeeks=bt,lo.weeksInYear=$i,lo.weeksInWeekYear=zi,lo.isoWeeksInYear=Wi,lo.isoWeeksInISOWeekYear=Qi,lo.date=Zi,lo.day=lo.days=jt,lo.weekday=Vt,lo.isoWeekday=Wt,lo.dayOfYear=eo,lo.hour=lo.hours=rn,lo.minute=lo.minutes=to,lo.second=lo.seconds=io,lo.millisecond=lo.milliseconds=ro,lo.utcOffset=Er,lo.utc=gr,lo.local=hr,lo.parseZone=Sr,lo.hasAlignedHourOffset=Tr,lo.isDST=mr,lo.isLocal=yr,lo.isUtcOffset=Cr,lo.isUtc=vr,lo.isUTC=vr,lo.zoneAbbr=ao,lo.zoneName=so,lo.dates=v("dates accessor is deprecated. Use date instead.",Zi),lo.months=v("months accessor is deprecated. Use month instead",ut),lo.years=v("years accessor is deprecated. Use year instead",At),lo.zone=v("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ar),lo.isDSTShifted=v("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ir);var po=D.prototype;function fo(e,t,n,r){var i=hn(),o=f().set(r,t);return i[n](o,e)}function Eo(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return fo(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fo(e,r,n,"month");return i}function Ao(e,t,n,r){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,o=hn(),a=e?o._week.dow:0,s=[];if(null!=n)return fo(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=fo(t,(i+a)%7,r,"day");return s}function go(e,t){return Eo(e,t,"months")}function ho(e,t){return Eo(e,t,"monthsShort")}function So(e,t,n){return Ao(e,t,n,"weekdays")}function To(e,t,n){return Ao(e,t,n,"weekdaysShort")}function mo(e,t,n){return Ao(e,t,n,"weekdaysMin")}po.calendar=w,po.longDateFormat=W,po.invalidDate=$,po.ordinal=q,po.preparse=_o,po.postformat=_o,po.relativeTime=Z,po.pastFuture=ee,po.set=M,po.eras=Ni,po.erasParse=bi,po.erasConvertYear=Mi,po.erasAbbrRegex=Ui,po.erasNameRegex=Bi,po.erasNarrowRegex=Gi,po.months=ot,po.monthsShort=at,po.monthsParse=lt,po.monthsRegex=pt,po.monthsShortRegex=_t,po.week=Ct,po.firstDayOfYear=Pt,po.firstDayOfWeek=Ot,po.weekdays=Yt,po.weekdaysMin=Kt,po.weekdaysShort=Ft,po.weekdaysParse=Ht,po.weekdaysRegex=Qt,po.weekdaysShortRegex=$t,po.weekdaysMinRegex=zt,po.isPM=tn,po.meridiem=on,En("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ue(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=v("moment.lang is deprecated. Use moment.locale instead.",En),r.langData=v("moment.langData is deprecated. Use moment.localeData instead.",hn);var Io=Math.abs;function yo(){var e=this._data;return this._milliseconds=Io(this._milliseconds),this._days=Io(this._days),this._months=Io(this._months),e.milliseconds=Io(e.milliseconds),e.seconds=Io(e.seconds),e.minutes=Io(e.minutes),e.hours=Io(e.hours),e.months=Io(e.months),e.years=Io(e.years),this}function Co(e,t,n,r){var i=Nr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function vo(e,t){return Co(this,e,t,1)}function Oo(e,t){return Co(this,e,t,-1)}function Po(e){return e<0?Math.floor(e):Math.ceil(e)}function No(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Po(Mo(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=ce(o/1e3),l.seconds=e%60,t=ce(e/60),l.minutes=t%60,n=ce(t/60),l.hours=n%24,a+=ce(n/24),s+=i=ce(bo(a)),a-=Po(Mo(i)),r=ce(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function bo(e){return 4800*e/146097}function Mo(e){return 146097*e/4800}function Ro(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+bo(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Mo(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Do(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ue(this._months/12):NaN}function Lo(e){return function(){return this.as(e)}}var wo=Lo("ms"),Bo=Lo("s"),Uo=Lo("m"),Go=Lo("h"),ko=Lo("d"),Yo=Lo("w"),Fo=Lo("M"),Ko=Lo("Q"),xo=Lo("y");function Ho(){return Nr(this)}function jo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Vo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wo=Vo("milliseconds"),Qo=Vo("seconds"),$o=Vo("minutes"),zo=Vo("hours"),Jo=Vo("days"),qo=Vo("months"),Xo=Vo("years");function Zo(){return ce(this.days()/7)}var ea=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ra(e,t,n,r){var i=Nr(e).abs(),o=ea(i.as("s")),a=ea(i.as("m")),s=ea(i.as("h")),l=ea(i.as("d")),c=ea(i.as("M")),u=ea(i.as("w")),d=ea(i.as("y")),_=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(_=_||u<=1&&["w"]||u<n.w&&["ww",u]),(_=_||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,_[3]=+e>0,_[4]=r,na.apply(null,_)}function ia(e){return void 0===e?ea:"function"==typeof e&&(ea=e,!0)}function oa(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,"s"===e&&(ta.ss=t-1),!0))}function aa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ta;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(o=Object.assign({},ta,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=ra(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var sa=Math.abs;function la(e){return(e>0)-(e<0)||+e}function ca(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,l=sa(this._milliseconds)/1e3,c=sa(this._days),u=sa(this._months),d=this.asSeconds();return d?(e=ce(l/60),t=ce(e/60),l%=60,e%=60,n=ce(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=la(this._months)!==la(d)?"-":"",a=la(this._days)!==la(d)?"-":"",s=la(this._milliseconds)!==la(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?a+c+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+r+"S":"")):"P0D"}var ua=ar.prototype;return ua.isValid=ir,ua.abs=yo,ua.add=vo,ua.subtract=Oo,ua.as=Ro,ua.asMilliseconds=wo,ua.asSeconds=Bo,ua.asMinutes=Uo,ua.asHours=Go,ua.asDays=ko,ua.asWeeks=Yo,ua.asMonths=Fo,ua.asQuarters=Ko,ua.asYears=xo,ua.valueOf=Do,ua._bubble=No,ua.clone=Ho,ua.get=jo,ua.milliseconds=Wo,ua.seconds=Qo,ua.minutes=$o,ua.hours=zo,ua.days=Jo,ua.weeks=Zo,ua.months=qo,ua.years=Xo,ua.humanize=aa,ua.toISOString=ca,ua.toString=ca,ua.toJSON=ca,ua.locale=ai,ua.localeData=li,ua.toIsoString=v("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ca),ua.lang=si,F("X",0,0,"unix"),F("x",0,0,"valueOf"),we("x",be),we("X",De),Ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ye("x",(function(e,t,n){n._d=new Date(ue(e))})),
//! moment.js
r.version="2.29.4",i(zn),r.fn=lo,r.min=Zn,r.max=er,r.now=tr,r.utc=f,r.unix=co,r.months=go,r.isDate=d,r.locale=En,r.invalid=h,r.duration=Nr,r.isMoment=y,r.weekdays=So,r.parseZone=uo,r.localeData=hn,r.isDuration=sr,r.monthsShort=ho,r.weekdaysMin=mo,r.defineLocale=An,r.updateLocale=gn,r.locales=Sn,r.weekdaysShort=To,r.normalizeUnits=re,r.relativeTimeRounding=ia,r.relativeTimeThreshold=oa,r.calendarFormat=Kr,r.prototype=lo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},27418:e=>{"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))n.call(a,u)&&(l[u]=a[u]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},26470:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,s):r=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var l=n.length-s,c=a<l?a:l,u=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===n.charCodeAt(s+d))return n.slice(s+d+1);if(0===d)return n.slice(s+d)}else a>c&&(47===e.charCodeAt(i+d)?u=d:0===d&&(u=0));break}var _=e.charCodeAt(i+d);if(_!==n.charCodeAt(s+d))break;47===_&&(u=d)}var p="";for(d=i+u+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(s+u):(s+=u,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!a){i=r+1;break}}else-1===l&&(a=!1,l=r+1),s>=0&&(c===n.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(o=!1,i=s+1),46===l?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!o){r=s+1;break}}return-1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var a=-1,s=0,l=-1,c=!0,u=e.length-1,d=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===a?a=u:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){s=u+1;break}return-1===a||-1===l||0===d||1===d&&a===l-1&&a===s+1?-1!==l&&(n.base=n.name=0===s&&o?e.slice(1,l):e.slice(s,l)):(0===s&&o?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(s,a),n.base=e.slice(s,l)),n.ext=e.slice(a,l)),s>0?n.dir=e.slice(0,s-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},62587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,_,p,f=e[c].replace(a,"%20"),E=f.indexOf(r);E>=0?(u=f.substr(0,E),d=f.substr(E+1)):(u=f,d=""),_=decodeURIComponent(u),p=decodeURIComponent(d),t(o,_)?Array.isArray(o[_])?o[_].push(p):o[_]=[o[_],p]:o[_]=p}return o}},12361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},17673:(e,t,n)=>{"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)},94633:(e,t)=>{function n(e,t){for(var n=e.length,r=new Array(n),i={},o=n;o--;)i[o]||a(e[o],o,[]);return r;function a(o,s,l){if(l.indexOf(o)>=0)throw new Error("Cyclic dependency: "+JSON.stringify(o));if(!~e.indexOf(o))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(o));if(!i[s]){i[s]=!0;var c=t.filter((function(e){return e[0]===o}));if(s=c.length){var u=l.concat(o);do{var d=c[--s][1];a(d,e.indexOf(d),u)}while(s)}r[--n]=o}}}e.exports=t=function(e){return n(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.indexOf(i[0])<0&&t.push(i[0]),t.indexOf(i[1])<0&&t.push(i[1])}return t}(e),e)},t.array=n},42238:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",l="object",c="string",u="model",d="name",_="type",p="vendor",f="version",E="architecture",A="console",g="mobile",h="tablet",S="smarttv",T="wearable",m="embedded",I="Amazon",y="Apple",C="ASUS",v="BlackBerry",O="Firefox",P="Google",N="Huawei",b="LG",M="Microsoft",R="Motorola",D="Opera",L="Samsung",w="Sony",B="Xiaomi",U="Zebra",G="Facebook",k=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Y=function(e,t){return typeof e===c&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},x=function(e,t){for(var n,r,i,s,c,u,d=0;d<t.length&&!c;){var _=t[d],p=t[d+1];for(n=r=0;n<_.length&&!c;)if(c=_[n++].exec(e))for(i=0;i<p.length;i++)u=c[++r],typeof(s=p[i])===l&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):o:this[s[0]]=u?s[1].call(this,u,s[2]):o:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):o):this[s]=u||o;d+=2}},H=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Y(t[n][r],e))return"?"===n?o:n}else if(Y(t[n],e))return"?"===n?o:n;return e},j={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[d,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,G],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,F]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/windows (ce|mobile); ppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[E,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[E,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,L],[_,h]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,L],[_,g]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[p,y],[_,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,y],[_,h]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,N],[_,h]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[u,[p,N],[_,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[p,B],[_,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,B],[_,h]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[_,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[_,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[_,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,R],[_,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,R],[_,h]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,b],[_,h]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,b],[_,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[_,h]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[_,g]],[/(pixel c)\b/i],[u,[p,P],[_,h]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,P],[_,g]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,w],[_,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,w],[_,h]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[_,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,I],[_,h]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,I],[_,g]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[_,h]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,v],[_,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,C],[_,h]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,C],[_,g]],[/(nexus 9)/i],[u,[p,"HTC"],[_,h]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[_,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[_,h]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[_,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,"Sharp"],[_,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[_,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[_,h]],[/(surface duo)/i],[u,[p,M],[_,h]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[_,g]],[/(u304aa)/i],[u,[p,"AT&T"],[_,g]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[_,g]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[_,h]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[_,h]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[_,h]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[_,h]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[_,h]],[/\b(k88) b/i],[u,[p,"ZTE"],[_,h]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[_,g]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[_,g]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[_,h]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[_,h]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[_,h]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[_,h]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[_,h]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[_,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[_,g]],[/\b(ph-1) /i],[u,[p,"Essential"],[_,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[_,h]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[_,h]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[_,h]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[_,h]],[/(sprint) (\w+)/i],[p,u,[_,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,M],[_,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,U],[_,h]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,U],[_,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[_,A]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[_,A]],[/(playstation [345portablevi]+)/i],[u,[p,w],[_,A]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,M],[_,A]],[/smart-tv.+(samsung)/i],[p,[_,S]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,L],[_,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,b],[_,S]],[/(apple) ?tv/i],[p,[u,"Apple TV"],[_,S]],[/crkey/i],[[u,"Chromecast"],[p,P],[_,S]],[/droid.+aft(\w)( bui|\))/i],[u,[p,I],[_,S]],[/\(dtv[\);].+(aquos)/i],[u,[p,"Sharp"],[_,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,K],[u,K],[_,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,S]],[/((pebble))app/i],[p,u,[_,T]],[/droid.+; (glass) \d/i],[u,[p,P],[_,T]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,U],[_,T]],[/(quest( 2)?)/i],[u,[p,G],[_,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[_,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[_,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[_,h]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,h]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[_,g]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,H,j]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,H,j]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,v]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,f]]},W=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof W))return new W(e,t).getResult();var n=e||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(V,t):V;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,x.call(t,n,r.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,x.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,x.call(e,n,r.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,x.call(e,n,r.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,x.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>255?K(e,255):e,this},this.setUA(n),this};W.VERSION="0.7.31",W.BROWSER=k([d,f,"major"]),W.CPU=k([E]),W.DEVICE=k([u,p,_,A,g,S,h,T,m]),W.ENGINE=W.OS=k([d,f]),typeof t!==s?(e.exports&&(t=e.exports=W),t.UAParser=W):n.amdO?(r=function(){return W}.call(t,n,t,e))===o||(e.exports=r):typeof i!==s&&(i.UAParser=W);var Q=typeof i!==s&&(i.jQuery||i.Zepto);if(Q&&!Q.ua){var $=new W;Q.ua=$.getResult(),Q.ua.get=function(){return $.getUA()},Q.ua.set=function(e){$.setUA(e);var t=$.getResult();for(var n in t)Q.ua[n]=t[n]}}}("object"==typeof window?window:this)},35449:function(e,t,n){
/**
 *
 *
 * @author Jerry Bendy <jerry@icewingcc.com>
 * @licence MIT
 *
 */
!function(e){"use strict";var t,n=e.URLSearchParams&&e.URLSearchParams.prototype.get?e.URLSearchParams:null,r=n&&"a=1"===new n({a:1}).toString(),i=n&&"+"===new n("s=%2B").get("s"),o=!n||((t=new n).append("s"," &"),"s=+%26"===t.toString()),a=u.prototype,s=!(!e.Symbol||!e.Symbol.iterator);if(!(n&&r&&i&&o)){a.append=function(e,t){E(this.__URLSearchParams__,e,t)},a.delete=function(e){delete this.__URLSearchParams__[e]},a.get=function(e){var t=this.__URLSearchParams__;return e in t?t[e][0]:null},a.getAll=function(e){var t=this.__URLSearchParams__;return e in t?t[e].slice(0):[]},a.has=function(e){return e in this.__URLSearchParams__},a.set=function(e,t){this.__URLSearchParams__[e]=[""+t]},a.toString=function(){var e,t,n,r,i=this.__URLSearchParams__,o=[];for(t in i)for(n=d(t),e=0,r=i[t];e<r.length;e++)o.push(n+"="+d(r[e]));return o.join("&")};var l=!!i&&n&&!r&&e.Proxy;Object.defineProperty(e,"URLSearchParams",{value:l?new Proxy(n,{construct:function(e,t){return new e(new u(t[0]).toString())}}):u});var c=e.URLSearchParams.prototype;c.polyfill=!0,c.forEach=c.forEach||function(e,t){var n=f(this.toString());Object.getOwnPropertyNames(n).forEach((function(r){n[r].forEach((function(n){e.call(t,n,r,this)}),this)}),this)},c.sort=c.sort||function(){var e,t,n,r=f(this.toString()),i=[];for(e in r)i.push(e);for(i.sort(),t=0;t<i.length;t++)this.delete(i[t]);for(t=0;t<i.length;t++){var o=i[t],a=r[o];for(n=0;n<a.length;n++)this.append(o,a[n])}},c.keys=c.keys||function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},c.values=c.values||function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},c.entries=c.entries||function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},s&&(c[e.Symbol.iterator]=c[e.Symbol.iterator]||c.entries)}function u(e){((e=e||"")instanceof URLSearchParams||e instanceof u)&&(e=e.toString()),this.__URLSearchParams__=f(e)}function d(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function _(e){return decodeURIComponent(e.replace(/\+/g," "))}function p(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s&&(n[e.Symbol.iterator]=function(){return n}),n}function f(e){var t={};if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&E(t,n,e[n]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var r=e.split("&"),i=0;i<r.length;i++){var o=r[i],a=o.indexOf("=");-1<a?E(t,_(o.slice(0,a)),_(o.slice(a+1))):o&&E(t,_(o),"")}}return t}function E(e,t,n){var r="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);t in e?e[t].push(r):e[t]=[r]}}(void 0!==n.g?n.g:"undefined"!=typeof window?window:this)},52511:function(e,t,n){var r;/*! https://mths.be/punycode v1.3.2 by @mathias */e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,l=36,c=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function E(e){throw RangeError(_[e])}function A(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+A((e=e.replace(d,".")).split("."),t).join(".")}function h(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function S(e){return A(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function m(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=l)e=p(e/35);return p(r+36*e/(e+38))}function I(e){var t,n,r,i,o,a,c,u,d,_,f,A=[],g=e.length,h=0,T=128,I=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),A.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=h,a=1,c=l;i>=g&&E("invalid-input"),((u=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:l)>=l||u>p((s-h)/a))&&E("overflow"),h+=u*a,!(u<(d=c<=I?1:c>=I+26?26:c-I));c+=l)a>p(s/(_=l-d))&&E("overflow"),a*=_;I=m(h-o,t=A.length+1,0==o),p(h/t)>s-T&&E("overflow"),T+=p(h/t),h%=t,A.splice(h++,0,T)}return S(A)}function y(e){var t,n,r,i,o,a,c,u,d,_,A,g,S,I,y,C=[];for(g=(e=h(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(A=e[a])<128&&C.push(f(A));for(r=i=C.length,i&&C.push("-");r<g;){for(c=s,a=0;a<g;++a)(A=e[a])>=t&&A<c&&(c=A);for(c-t>p((s-n)/(S=r+1))&&E("overflow"),n+=(c-t)*S,t=c,a=0;a<g;++a)if((A=e[a])<t&&++n>s&&E("overflow"),A==t){for(u=n,d=l;!(u<(_=d<=o?1:d>=o+26?26:d-o));d+=l)y=u-_,I=l-_,C.push(f(T(_+y%I,0))),u=p(y/I);C.push(f(T(u,0))),o=m(n,S,r==i),n=0,++r}++n,++t}return C.join("")}a={version:"1.3.2",ucs2:{decode:h,encode:S},decode:I,encode:y,toASCII:function(e){return g(e,(function(e){return u.test(e)?"xn--"+y(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8575:(e,t,n)=>{"use strict";var r=n(52511),i=n(62502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=S,t.resolve=function(e,t){return S(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?S(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=S(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),_=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},h=n(17673);function S(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var S=e=c.join(s);if(S=S.trim(),!n&&1===e.split("#").length){var T=l.exec(S);if(T)return this.path=S,this.href=S,this.pathname=T[1],T[2]?(this.search=T[2],this.query=t?h.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var m=a.exec(S);if(m){var I=(m=m[0]).toLowerCase();this.protocol=I,S=S.substr(m.length)}if(n||m||S.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===S.substr(0,2);!y||m&&A[m]||(S=S.substr(2),this.slashes=!0)}if(!A[m]&&(y||m&&!g[m])){for(var C,v,O=-1,P=0;P<_.length;P++){-1!==(N=S.indexOf(_[P]))&&(-1===O||N<O)&&(O=N)}-1!==(v=-1===O?S.lastIndexOf("@"):S.lastIndexOf("@",O))&&(C=S.slice(0,v),S=S.slice(v+1),this.auth=decodeURIComponent(C)),O=-1;for(P=0;P<d.length;P++){var N;-1!==(N=S.indexOf(d[P]))&&(-1===O||N<O)&&(O=N)}-1===O&&(O=S.length),this.host=S.slice(0,O),S=S.slice(O),this.parseHost(),this.hostname=this.hostname||"";var b="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!b)for(var M=this.hostname.split(/\./),R=(P=0,M.length);P<R;P++){var D=M[P];if(D&&!D.match(p)){for(var L="",w=0,B=D.length;w<B;w++)D.charCodeAt(w)>127?L+="x":L+=D[w];if(!L.match(p)){var U=M.slice(0,P),G=M.slice(P+1),k=D.match(f);k&&(U.push(k[1]),G.unshift(k[2])),G.length&&(S="/"+G.join(".")+S),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=r.toASCII(this.hostname));var Y=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+Y,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==S[0]&&(S="/"+S))}if(!E[I])for(P=0,R=u.length;P<R;P++){var K=u[P];if(-1!==S.indexOf(K)){var x=encodeURIComponent(K);x===K&&(x=escape(K)),S=S.split(K).join(x)}}var H=S.indexOf("#");-1!==H&&(this.hash=S.substr(H),S=S.slice(0,H));var j=S.indexOf("?");if(-1!==j?(this.search=S.substr(j),this.query=S.substr(j+1),t&&(this.query=h.parse(this.query)),S=S.slice(0,j)):t&&(this.search="",this.query={}),S&&(this.pathname=S),g[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Y=this.pathname||"";var V=this.search||"";this.path=Y+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=h.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(S(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),_=0;_<d.length;_++){var p=d[_];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||A[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var E=n.pathname||"",h=n.search||"";n.path=E+h}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var S=n.pathname&&"/"===n.pathname.charAt(0),T=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=T||S||n.host&&e.pathname,I=m,y=n.pathname&&n.pathname.split("/")||[],C=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),m=m&&(""===f[0]||""===y[0])),T)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,y=f;else if(f.length)y||(y=[]),y.pop(),y=y.concat(f),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(C)n.hostname=n.host=y.shift(),(b=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=b.shift(),n.host=n.hostname=b.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var v=y.slice(-1)[0],O=(n.host||e.host||y.length>1)&&("."===v||".."===v)||""===v,P=0,N=y.length;N>=0;N--)"."===(v=y[N])?y.splice(N,1):".."===v?(y.splice(N,1),P++):P&&(y.splice(N,1),P--);if(!m&&!I)for(;P--;P)y.unshift("..");!m||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),O&&"/"!==y.join("/").substr(-1)&&y.push("");var b,M=""===y[0]||y[0]&&"/"===y[0].charAt(0);C&&(n.hostname=n.host=M?"":y.length?y.shift():"",(b=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=b.shift(),n.host=n.hostname=b.shift()));return(m=m||n.host&&y.length)&&!M&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},74493:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SINGLE_BYTE_TOKEN=t.DICT_VERSION=t.DICTIONARY_3_TOKEN=t.DICTIONARY_2_TOKEN=t.DICTIONARY_1_TOKEN=t.DICTIONARY_0_TOKEN=t.DICTIONARIES=void 0;t.DICT_VERSION=3;t.SINGLE_BYTE_TOKEN=["xmlstreamstart","xmlstreamend","s.whatsapp.net","type","participant","from","receipt","id","notification","disappearing_mode","status","jid","broadcast","user","devices","device_hash","to","offline","message","result","class","xmlns","duration","notify","iq","t","ack","g.us","enc","urn:xmpp:whatsapp:push","presence","config_value","picture","verified_name","config_code","key-index-list","contact","mediatype","routing_info","edge_routing","get","read","urn:xmpp:ping","fallback_hostname","0","chatstate","business_hours_config","unavailable","download_buckets","skmsg","verified_level","composing","handshake","device-list","media","text","fallback_ip4","media_conn","device","creation","location","config","item","fallback_ip6","count","w:profile:picture","image","business","2","hostname","call-creator","display_name","relaylatency","platform","abprops","success","msg","offline_preview","prop","key-index","v","day_of_week","pkmsg","version","1","ping","w:p","download","video","set","specific_hours","props","primary","unknown","hash","commerce_experience","last","subscribe","max_buckets","call","profile","member_since_text","close_time","call-id","sticker","mode","participants","value","query","profile_options","open_time","code","list","host","ts","contacts","upload","lid","preview","update","usync","w:stats","delivery","auth_ttl","context","fail","cart_enabled","appdata","category","atn","direct_connection","decrypt-fail","relay_id","mmg-fallback.whatsapp.net","target","available","name","last_id","mmg.whatsapp.net","categories","401","is_new","index","tctoken","ip4","token_id","latency","recipient","edit","ip6","add","thumbnail-document","26","paused","true","identity","stream:error","key","sidelist","background","audio","3","thumbnail-image","biz-cover-photo","cat","gcm","thumbnail-video","error","auth","deny","serial","in","registration","thumbnail-link","remove","00","gif","thumbnail-gif","tag","capability","multicast","item-not-found","description","business_hours","config_expo_key","md-app-state","expiration","fallback","ttl","300","md-msg-hist","device_orientation","out","w:m","open_24h","side_list","token","inactive","01","document","te2","played","encrypt","msgr","hide","direct_path","12","state","not-authorized","url","terminate","signature","status-revoke-delay","02","te","linked_accounts","trusted_contact","timezone","ptt","kyc-id","privacy_token","readreceipts","appointment_only","address","expected_ts","privacy","7","android","interactive","device-identity","enabled","attribute_padding","1080","03","screen_height"];const n=["read-self","active","fbns","protocol","reaction","screen_width","heartbeat","deviceid","2:47DEQpj8","uploadfieldstat","voip_settings","retry","priority","longitude","conflict","false","ig_professional","replaced","preaccept","cover_photo","uncompressed","encopt","ppic","04","passive","status-revoke-drop","keygen","540","offer","rate","opus","latitude","w:gp2","ver","4","business_profile","medium","sender","prev_v_id","email","website","invited","sign_credential","05","transport","skey","reason","peer_abtest_bucket","America/Sao_Paulo","appid","refresh","100","06","404","101","104","107","102","109","103","member_add_mode","105","transaction-id","110","106","outgoing","108","111","tokens","followers","ig_handle","self_pid","tue","dec","thu","joinable","peer_pid","mon","features","wed","peer_device_presence","pn","delete","07","fri","audio_duration","admin","connected","delta","rcat","disable","collection","08","480","sat","phash","all","invite","accept","critical_unblock_low","group_update","signed_credential","blinded_credential","eph_setting","net","09","background_location","refresh_id","Asia/Kolkata","privacy_mode_ts","account_sync","voip_payload_type","service_areas","acs_public_key","v_id","0a","fallback_class","relay","actual_actors","metadata","w:biz","5","connected-limit","notice","0b","host_storage","fb_page","subject","privatestats","invis","groupadd","010","note.m4r","uuid","0c","8000","sun","372","1020","stage","1200","720","canonical","fb","011","video_duration","0d","1140","superadmin","012","Opening.m4r","keystore_attestation","dleq_proof","013","timestamp","ab_key","w:sync:app:state","0e","vertical","600","p_v_id","6","likes","014","500","1260","creator","0f","rte","destination","group","group_info","syncd_anti_tampering_fatal_exception_enabled","015","dl_bw","Asia/Jakarta","vp8/h.264","online","1320","fb:multiway","10","timeout","016","nse_retry","urn:xmpp:whatsapp:dirty","017","a_v_id","web_shops_chat_header_button_enabled","nse_call","inactive-upgrade","none","web","groups","2250","mms_hot_content_timespan_in_seconds","contact_blacklist","nse_read","suspended_group_deletion_notification","binary_version","018","https://www.whatsapp.com/otp/copy/","reg_push","shops_hide_catalog_attachment_entrypoint","server_sync",".","ephemeral_messages_allowed_values","019","mms_vcache_aggregation_enabled","iphone","America/Argentina/Buenos_Aires","01a","mms_vcard_autodownload_size_kb","nse_ver","shops_header_dropdown_menu_item","dhash","catalog_status","communities_mvp_new_iqs_serverprop","blocklist","default","11","ephemeral_messages_enabled","01b","original_dimensions","8","mms4_media_retry_notification_encryption_enabled","mms4_server_error_receipt_encryption_enabled","original_image_url","sync","multiway","420","companion_enc_static","shops_profile_drawer_entrypoint","01c","vcard_as_document_size_kb","status_video_max_duration","request_image_url","01d","regular_high","s_t","abt","share_ext_min_preliminary_image_quality","01e","32","syncd_key_rotation_enabled","data_namespace","md_downgrade_read_receipts2","patch","polltype","ephemeral_messages_setting","userrate","15","partial_pjpeg_bw_threshold","played-self","catalog_exists","01f","mute_v2"];t.DICTIONARY_0_TOKEN=n;const r=["reject","dirty","announcement","020","13","9","status_video_max_bitrate","fb:thrift_iq","offline_batch","022","full","ctwa_first_business_reply_logging","h.264","smax_id","group_description_length","https://www.whatsapp.com/otp/code","status_image_max_edge","smb_upsell_business_profile_enabled","021","web_upgrade_to_md_modal","14","023","s_o","smaller_video_thumbs_status_enabled","media_max_autodownload","960","blocking_status","peer_msg","joinable_group_call_client_version","group_call_video_maximization_enabled","return_snapshot","high","America/Mexico_City","entry_point_block_logging_enabled","pop","024","1050","16","1380","one_tap_calling_in_group_chat_size","regular_low","inline_joinable_education_enabled","hq_image_max_edge","locked","America/Bogota","smb_biztools_deeplink_enabled","status_image_quality","1088","025","payments_upi_intent_transaction_limit","voip","w:g2","027","md_pin_chat_enabled","026","multi_scan_pjpeg_download_enabled","shops_product_grid","transaction_id","ctwa_context_enabled","20","fna","hq_image_quality","alt_jpeg_doc_detection_quality","group_call_max_participants","pkey","America/Belem","image_max_kbytes","web_cart_v1_1_order_message_changes_enabled","ctwa_context_enterprise_enabled","urn:xmpp:whatsapp:account","840","Asia/Kuala_Lumpur","max_participants","video_remux_after_repair_enabled","stella_addressbook_restriction_type","660","900","780","context_menu_ios13_enabled","mute-state","ref","payments_request_messages","029","frskmsg","vcard_max_size_kb","sample_buffer_gif_player_enabled","match_last_seen","510","4983","video_max_bitrate","028","w:comms:chat","17","frequently_forwarded_max","groups_privacy_blacklist","Asia/Karachi","02a","web_download_document_thumb_mms_enabled","02b","hist_sync","biz_block_reasons_version","1024","18","web_is_direct_connection_for_plm_transparent","view_once_write","file_max_size","paid_convo_id","online_privacy_setting","video_max_edge","view_once_read","enhanced_storage_management","multi_scan_pjpeg_encoding_enabled","ctwa_context_forward_enabled","video_transcode_downgrade_enable","template_doc_mime_types","hq_image_bw_threshold","30","body","u_aud_limit_sil_restarts_ctrl","other","participating","w:biz:directory","1110","vp8","4018","meta","doc_detection_image_max_edge","image_quality","1170","02c","smb_upsell_chat_banner_enabled","key_expiry_time_second","pid","stella_interop_enabled","19","linked_device_max_count","md_device_sync_enabled","02d","02e","360","enhanced_block_enabled","ephemeral_icon_in_forwarding","paid_convo_status","gif_provider","project_name","server-error","canonical_url_validation_enabled","wallpapers_v2","syncd_clear_chat_delete_chat_enabled","medianotify","02f","shops_required_tos_version","vote","reset_skey_on_id_change","030","image_max_edge","multicast_limit_global","ul_bw","21","25","5000","poll","570","22","031","1280","WhatsApp","032","bloks_shops_enabled","50","upload_host_switching_enabled","web_ctwa_context_compose_enabled","ptt_forwarded_features_enabled","unblocked","partial_pjpeg_enabled","fbid:devices","height","ephemeral_group_query_ts","group_join_permissions","order","033","alt_jpeg_status_quality","migrate","popular-bank","win_uwp_deprecation_killswitch_enabled","web_download_status_thumb_mms_enabled","blocking","url_text","035","web_forwarding_limit_to_groups","1600","val","1000","syncd_msg_date_enabled","bank-ref-id","max_subject","payments_web_enabled","web_upload_document_thumb_mms_enabled","size","request","ephemeral","24","receipt_agg","ptt_remember_play_position","sampling_weight","enc_rekey","mute_always","037","034","23","036","action","click_to_chat_qr_enabled","width","disabled","038","md_blocklist_v2","played_self_enabled","web_buttons_message_enabled","flow_id","clear","450","fbid:thread","bloks_session_state","America/Lima","attachment_picker_refresh","download_host_switching_enabled","1792","u_aud_limit_sil_restarts_test2","custom_urls","device_fanout","optimistic_upload","2000","key_cipher_suite","web_smb_upsell_in_biz_profile_enabled","e","039","siri_post_status_shortcut","pair-device","lg","lc","stream_attribution_url","model","mspjpeg_phash_gen","catalog_send_all","new_multi_vcards_ui","share_biz_vcard_enabled","-","clean","200","md_blocklist_v2_server","03b","03a","web_md_migration_experience","ptt_conversation_waveform","u_aud_limit_sil_restarts_test1"];t.DICTIONARY_1_TOKEN=r;const i=["64","ptt_playback_speed_enabled","web_product_list_message_enabled","paid_convo_ts","27","manufacturer","psp-routing","grp_uii_cleanup","ptt_draft_enabled","03c","business_initiated","web_catalog_products_onoff","web_upload_link_thumb_mms_enabled","03e","mediaretry","35","hfm_string_changes","28","America/Fortaleza","max_keys","md_mhfs_days","streaming_upload_chunk_size","5541","040","03d","2675","03f","...","512","mute","48","041","alt_jpeg_quality","60","042","md_smb_quick_reply","5183","c","1343","40","1230","043","044","mms_cat_v1_forward_hot_override_enabled","user_notice","ptt_waveform_send","047","Asia/Calcutta","250","md_privacy_v2","31","29","128","md_messaging_enabled","046","crypto","690","045","enc_iv","75","failure","ptt_oot_playback","AIzaSyDR5yfaG7OG8sMTUj8kfQEb8T9pN8BM6Lk","w","048","2201","web_large_files_ui","Asia/Makassar","812","status_collapse_muted","1334","257","2HP4dm","049","patches","1290","43cY6T","America/Caracas","web_sticker_maker","campaign","ptt_pausable_enabled","33","42","attestation","biz","04b","query_linked","s","125","04a","810","availability","1411","responsiveness_v2_m1","catalog_not_created","34","America/Santiago","1465","enc_p","04d","status_info","04f","key_version","..","04c","04e","md_group_notification","1598","1215","web_cart_enabled","37","630","1920","2394","-1","vcard","38","elapsed","36","828","peer","pricing_category","1245","invalid","stella_ios_enabled","2687","45","1528","39","u_is_redial_audio_1104_ctrl","1025","1455","58","2524","2603","054","bsp_system_message_enabled","web_pip_redesign","051","verify_apps","1974","1272","1322","1755","052","70","050","1063","1135","1361","80","1096","1828","1851","1251","1921","key_config_id","1254","1566","1252","2525","critical_block","1669","max_available","w:auth:backup:token","product","2530","870","1022","participant_uuid","web_cart_on_off","1255","1432","1867","41","1415","1440","240","1204","1608","1690","1846","1483","1687","1749","69","url_number","053","1325","1040","365","59","Asia/Riyadh","1177","test_recommended","057","1612","43","1061","1518","1635","055","1034","1375","750","1430","event_code","1682","503","55","865","78","1309","1365","44","America/Guayaquil","535","LIMITED","1377","1613","1420","1599","1822","05a","1681","password","1111","1214","1376","1478","47","1082","4282","Europe/Istanbul","1307","46","058","1124","256","rate-overlimit","retail","u_a_socket_err_fix_succ_test","1292","1370","1388","520","861","psa","regular","1181","1766","05b","1183","1213","1304","1537"];t.DICTIONARY_2_TOKEN=i;const o=["1724","profile_picture","1071","1314","1605","407","990","1710","746","pricing_model","056","059","061","1119","6027","65","877","1607","05d","917","seen","1516","49","470","973","1037","1350","1394","1480","1796","keys","794","1536","1594","2378","1333","1524","1825","116","309","52","808","827","909","495","1660","361","957","google","1357","1565","1967","996","1775","586","736","1052","1670","bank","177","1416","2194","2222","1454","1839","1275","53","997","1629","6028","smba","1378","1410","05c","1849","727","create","1559","536","1106","1310","1944","670","1297","1316","1762","en","1148","1295","1551","1853","1890","1208","1784","7200","05f","178","1283","1332","381","643","1056","1238","2024","2387","179","981","1547","1705","05e","290","903","1069","1285","2436","062","251","560","582","719","56","1700","2321","325","448","613","777","791","51","488","902","Asia/Almaty","is_hidden","1398","1527","1893","1999","2367","2642","237","busy","065","067","233","590","993","1511","54","723","860","363","487","522","605","995","1321","1691","1865","2447","2462","NON_TRANSACTIONAL","433","871","432","1004","1207","2032","2050","2379","2446","279","636","703","904","248","370","691","700","1068","1655","2334","060","063","364","533","534","567","1191","1210","1473","1827","069","701","2531","514","prev_dhash","064","496","790","1046","1139","1505","1521","1108","207","544","637","final","1173","1293","1694","1939","1951","1993","2353","2515","504","601","857","modify","spam_request","p_121_aa_1101_test4","866","1427","1502","1638","1744","2153","068","382","725","1704","1864","1990","2003","Asia/Dubai","508","531","1387","1474","1632","2307","2386","819","2014","066","387","1468","1706","2186","2261","471","728","1147","1372","1961"];t.DICTIONARY_3_TOKEN=o;const a=[n,r,i,o];t.DICTIONARIES=a},85997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QplSampleMethod=void 0;const r=n(54302)({EVENT_BASED_SAMPLING:1,USER_BASED_SAMPLING:3});t.QplSampleMethod=r},81834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markerEnded=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=`${e}|${t}`;n.delete(i),r.delete(i)},t.validateAnnotations=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const o=`${e}|${t}`,a=n.get(o)||0;let s=0;function l(n,r){return s+=r,!(s+a>1e3)||(null==i||i.annotationSizeLimitExceeded(e,t,n),!1)}function c(n){for(let r=0;r<n.length;r++)return!(n[r].length>50)||(null==i||i.annotationKeyTooLong(e,t,n[r]),!1)}if(null==r?void 0:r.bool){const e=Object.keys(r.bool);if(!l("bool",e.length)||!c(e))return!1}if(null==r?void 0:r.int){const e=Object.keys(r.int);if(!l("int",e.length)||!c(e))return!1}if(null==r?void 0:r.double){const e=Object.keys(r.double);if(!l("double",e.length)||!c(e))return!1}if(null==r?void 0:r.bool_array){const e=r.bool_array,t=Object.keys(e);for(let n=0;n<t.length;n++){const r=e[t[n]];if(r&&!l(t[n],r.length))return!1}if(!c(t))return!1}if(null==r?void 0:r.int_array){const e=r.int_array,t=Object.keys(e);for(let n=0;n<t.length;n++){const r=e[t[n]];if(r&&!l(t[n],r.length))return!1}if(!c(t))return!1}if(null==r?void 0:r.double_array){const e=r.double_array,t=Object.keys(e);for(let n=0;n<t.length&&r.double_array;n++){const r=e[t[n]];if(r&&!l(t[n],r.length))return!1}if(!c(t))return!1}if(null==r?void 0:r.string){const e=r.string,t=Object.keys(e);for(let n=0;n<t.length&&r.string;n++){const r=e[t[n]];if(null!=r&&!l(t[n],r.length))return!1}if(!c(t))return!1}if(null==r?void 0:r.string_array){const e=r.string_array,t=Object.keys(e);for(let n=0;n<t.length&&r.string_array;n++){const r=e[t[n]];if(r)for(let e=0;e<r.length;e++)if(!l(t[n],r[e].length))return!1}if(!c(t))return!1}return n.set(o,a+s),!0},t.validatePoints=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n.length>50)return null==i||i.pointNameTooLong(e,t,n),!1;const o=`${e}|${t}`,a=r.get(o)||0;if(a+1>1e3)return null==i||i.maxPointCountExceeded(e,t),!1;return r.set(o,a+1),!0};const n=new Map,r=new Map},27825:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.QplNetwork=void 0,t.createPayload=l,t.defaultQplNetwork=function(e){u?e&&__LOG__(3)`Default Network already init`:u=new c(e);return u};var i=r(n(11504)),o=n(58117),a=n(44369),s=n(29987);function l(e,t){return JSON.stringify(e)+"\n"+t.map((function(e){return delete e.app_version,delete e.app_build_number,void 0===e.wa_ab_key2&&(e.wa_ab_key2="abkey"),JSON.stringify(e)})).join("\n")}class c{constructor(e){var t,n,r,a,s,l,c,u,d,_,p;this._qplEndpoint=null!==(t=null!==(n=null==e?void 0:e.qplEndpoint)&&void 0!==n?n:null===(r=(0,o.getQplConfig)())||void 0===r?void 0:r.endpoint)&&void 0!==t?t:"",this._qplAccessToken=null!==(a=null!==(s=null==e?void 0:e.qplAccessToken)&&void 0!==s?s:null===(l=(0,o.getQplConfig)())||void 0===l?void 0:l.accessToken)&&void 0!==a?a:"",this._qplAppId=null!==(c=null!==(u=null==e?void 0:e.qplAppId)&&void 0!==u?u:null===(d=(0,o.getQplConfig)())||void 0===d?void 0:d.appId)&&void 0!==c?c:"",this._isDev=null!==(_=null==e?void 0:e.isDev)&&void 0!==_&&_,this._restInterface=null!==(p=null==e?void 0:e.restInterface)&&void 0!==p?p:{post:(e,t)=>fetch(e,{method:"POST",body:t}).then(function(){var e=(0,i.default)((function*(e){const t=yield e.text();return{status:e.status,responseText:t}}));return function(){return e.apply(this,arguments)}}())}}sendEventsOverNetwork(e){var t=this;return(0,i.default)((function*(){const n=t._isDev?{is_employee:"true"}:{},r=t._qplEndpoint,i=new FormData;i.append("access_token",t._qplAccessToken),i.append("app_id",t._qplAppId),void 0===t._fakeUserId&&(t._fakeUserId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString()),i.append("user_id",t._fakeUserId),i.append("upload_time",(0,s.unixTime)().toString()),i.append("batch_info",JSON.stringify(n));const o={};if(e.forEach((e=>{void 0!==e.app_version&&(o[e.app_version]?o[e.app_version].push(e):o[e.app_version]=[e])})),0===Object.keys(o).length)return;Object.keys(o).map((e=>o[e])).forEach((e=>{const t={app_version:e[0].app_version,app_build_number:e[0].app_build_number};i.append("batches[]",function(e,t,n){const r=new Blob(e,n||{});return r.name=t,r}([l(t,e)],"qpldata.txt"))}));const c=yield t._restInterface.post(r,i);if(__LOG__(2,void 0,void 0,void 0,["qpl"])`qpl_networkSendEventsOverNetwork, completed Request`,200!==c.status)throw new a.QplServerStatusCodeError(c.status,`Failed call to QPL endpoint: ${t._qplEndpoint}, response: ${c.responseText}`)}))()}}let u;t.QplNetwork=c},86606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inplaceTruncateEventPrecision=function(e,t){const n=1e6*t;e.duration_ns=Math.round(e.duration_ns/n)*n,e.points&&e.points.map((e=>{e.timeSinceStart=Math.round(e.timeSinceStart/t)*t}))}},44369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickLogMarkerType=t.QuickLogActionType=t.QplServerStatusCodeError=t.QplInstanceKeyOptions=t.QPLDataEventLevel=void 0;const r=n(54302)({SUCCESS:2,FAIL:3,CANCEL:4,ABORTED:105});t.QuickLogActionType=r;const i=n(54302)({REGULAR:1,USER_FLOW:2});t.QuickLogMarkerType=i;const o=n(54302).Mirrored(["AUTO_INCREMENT","MANUAL_INCREMENT","REUSE_INSTANCE"]);t.QplInstanceKeyOptions=o;const a=n(54302)({FATAL:1,ERROR:3,CRITICAL:4,WARN:5,INFO:7,DEBUG:9});t.QPLDataEventLevel=a;class s extends Error{constructor(e,t){super(t),this.name="QplServerStatusCodeError",this.name="QplServerStatusCodeError",this.status=e,this.statusCode=e}}t.QplServerStatusCodeError=s},17906:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.QPL=void 0;var i=r(n(11504)),o=n(85997),a=r(n(49725)),s=n(81834),l=n(86606),c=n(44369);let u;class d{static setAllowListDevVerboseLogging(e){d.allowListDevVerboseLogging=e}static setStartupAllowListEventFilter(e){d._startupAllowListEventFilter=e}static setQplReducePrecisionMapMs(e){d._qplReducePrecisionMapMs=e}static resetQplSettings(){d._qplSettings=d._SETTINGS_ON_STARTUP}static setIsDev(e){d.isDev=e}static setEnumConversion(e){d._enumConversion=e}static setStorageApi(e){d._storageApi=e}static setHealthLogger(e){d._healthLogger=e}static init(e,t,n){d._qplSettings={sendEvent:e,isQplEnabled:n,getEventDetails:t}}static getInstance(){return u||(u=new a.default(d._qplSettingsDecorator)),u}static setInstance(e){u=e}static clearInstance(){u=null,Object.assign(d._qplSettings,d._SETTINGS_ON_STARTUP),d.markerInstanceHelper.clear()}static getNextMarkerInstanceValue(e){d.markerInstanceHelper.get(e)||d.markerInstanceHelper.set(e,d._instanceKeyGenerator());const t=d.markerInstanceHelper.get(e),n=void 0!==t?t.next().value:0;return void 0!==n?n:0}static*_instanceKeyGenerator(){let e=0;for(;;)yield e++}static throwKillswitch(e){d._qplSettings.isQplEnabled=()=>!e,d.isDev}static clearStorage(){d._storageApi.clear()}static logActiveQplMarkers(){const e=d.getInstance().getActiveMarkerIDs({type:c.QuickLogMarkerType.REGULAR});e.length&&e.forEach((e=>{var t,n;const r=null===(t=(n=d._enumConversion).getName)||void 0===t?void 0:t.call(n,e);__LOG__(3)`QPL [${r}] There are ${d._numberOfMarkersOpen(e)} active markers remaining. You need to call markerEnd`}))}static markerStart(e,t){var n,r,i,o;d.isDev&&d.allowListDevVerboseLogging.includes(e)&&(null===(n=(r=d._enumConversion).getName)||void 0===n||n.call(r,e),d._qplSettings.isQplEnabled()||__LOG__(3)`QPL [${null===(i=(o=d._enumConversion).getName)||void 0===i?void 0:i.call(o,e)}] markerStart called but killSwitch is ON, this call will be ignored, no marker will be instantiated`);let a;if(a=(null==t?void 0:t.instanceKeyOption)===c.QplInstanceKeyOptions.AUTO_INCREMENT?d.getNextMarkerInstanceValue(e):void 0!==(null==t?void 0:t.instanceKey)?t.instanceKey:0,null==t?void 0:t.closePreviousInstanceWithAction){const n=[c.QplInstanceKeyOptions.AUTO_INCREMENT,c.QplInstanceKeyOptions.MANUAL_INCREMENT].includes(t.instanceKeyOption)?a-1:a;if(d._markerInstanceExists(e,n)){const r=t.closePreviousInstanceWithAction||c.QuickLogActionType.ABORTED;var l,u;if(d.isDev&&d.allowListDevVerboseLogging.includes(e))null===(l=(u=d._enumConversion).getName)||void 0===l||l.call(u,e);d.markerEnd(e,r,{instanceKey:n})}}if(d._markerExists(e)){const t=d._numberOfMarkersOpen(e);var _,p,f,E,A,g;if(t<d._SOFT_MAX_CONCURRENT_OPEN_MARKERS){if(d.isDev&&d.allowListDevVerboseLogging.includes(e))__LOG__(3,void 0,void 0,void 0,["qpl"])`QPL [${null===(_=(p=d._enumConversion).getName)||void 0===_?void 0:_.call(p,e)}] is already opened ${t} time(s), attempting ${t+1}, not a problem if intended`}else __LOG__(3,void 0,void 0,!0,["qpl"])`QPL [${null===(f=(E=d._enumConversion).getName)||void 0===f?void 0:f.call(E,e)}] already has ${t} open markers`,SEND_LOGS(`QPL [${(null===(A=(g=d._enumConversion).getName)||void 0===A?void 0:A.call(g,e))||"unknown"}] has ${d._SOFT_MAX_CONCURRENT_OPEN_MARKERS} or more open markers`,1,"qpl")}if(d.getInstance().markerStart(e,a),(null==t?void 0:t.annotations)&&(0,s.validateAnnotations)(e,a,t.annotations,d._healthLogger)){const n=t.annotations;d.getInstance().markerAnnotate(e,n,{instanceKey:a})}return{instanceKey:a,annotate:t=>{d.markerAnnotate(e,t,{instanceKey:a})},addPoint:(t,n)=>{d.markerPoint(e,t,{data:null==n?void 0:n.data,instanceKey:a})},end:t=>{d.markerEnd(e,t,{instanceKey:a})},drop:()=>{d.markerDrop(e,{instanceKey:a})}}}static markerAnnotate(e,t,n){var r,i;d.isDev&&d.allowListDevVerboseLogging.includes(e)&&(null===(r=(i=d._enumConversion).getName)||void 0===r||r.call(i,e),d._warnIfMarkerDoesntExist(e,n?n.instanceKey:0,"markerAnnotate"));(0,s.validateAnnotations)(e,null==n?void 0:n.instanceKey,t,d._healthLogger)&&d.getInstance().markerAnnotate(e,t,{instanceKey:null==n?void 0:n.instanceKey})}static markerPoint(e,t,n){var r,i;d.isDev&&d.allowListDevVerboseLogging.includes(e)&&(null===(r=(i=d._enumConversion).getName)||void 0===r||r.call(i,e),n&&JSON.stringify(n),d._warnIfMarkerDoesntExist(e,n?n.instanceKey:0,"markerPoint"));(null==n?void 0:n.data)&&(0,s.validateAnnotations)(e,n.instanceKey,n.data,d._healthLogger),(0,s.validatePoints)(e,(null==n?void 0:n.instanceKey)||0,t,d._healthLogger)&&d.getInstance().markerPoint(e,t,n)}static markerEnd(e,t,n){this.genMarkerEnd(e,t,n)}static genMarkerEnd(e,t,n){return(0,i.default)((function*(){var r,i;d.isDev&&d.allowListDevVerboseLogging.includes(e)&&(null===(r=(i=d._enumConversion).getName)||void 0===r||r.call(i,e),c.QuickLogActionType.getName(t),d._warnIfMarkerDoesntExist(e,null==n?void 0:n.instanceKey,"markerEnd"));yield d.getInstance().genMarkerEnd(e,t,null==n?void 0:n.instanceKey),(0,s.markerEnded)(e,null==n?void 0:n.instanceKey)}))()}static markerDrop(e,t){var n,r;d.isDev&&d.allowListDevVerboseLogging.includes(e)&&(null===(n=(r=d._enumConversion).getName)||void 0===n||n.call(r,e),d._warnIfMarkerDoesntExist(e,null==t?void 0:t.instanceKey,"markerDrop"));d.getInstance().markerDrop(e,null==t?void 0:t.instanceKey),(0,s.markerEnded)(e,null==t?void 0:t.instanceKey)}static getActiveMarkerIDs(e){return d.getInstance().getActiveMarkerIDs({type:e.type})}static getMarker(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return d.getInstance().getMarker(e,t)}static getMarkerInstances(e){return d.getInstance().getMarkerInstances(e)}static _markerExists(e){const t=d.getMarkerInstances(e);return!!t&&0!==t.size}static _markerInstanceExists(e,t){const n=d.getMarkerInstances(e);return!!n&&void 0!==n.get(t)}static _numberOfMarkersOpen(e){const t=d.getMarkerInstances(e);return t?t.size:0}static _warnIfMarkerDoesntExist(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;var r,i;d._markerInstanceExists(e,t)||__LOG__(3)`QPL [${null===(r=(i=d._enumConversion).getName)||void 0===r?void 0:r.call(i,e)}] calling ${n} without a corresponding open marker for instance: ${t}`}}t.QPL=d,d._defaultSettings={sendEvent:e=>{if(d.isDev){var t,n;const r=null===(t=(n=d._enumConversion).cast)||void 0===t?void 0:t.call(n,e.marker_id);null!=r&&d.allowListDevVerboseLogging.includes(r)}return d._storageApi.add([e]),Promise.resolve()},getEventDetails:e=>({sampleRate:d._startupAllowListEventFilter.includes(e)?1:0,samplingMethod:o.QplSampleMethod.EVENT_BASED_SAMPLING}),isQplEnabled:()=>!0},d._SETTINGS_ON_STARTUP={sendEvent:e=>{if(d.isDev){var t,n;const r=null===(t=(n=d._enumConversion).cast)||void 0===t?void 0:t.call(n,e.marker_id);null!=r&&d.allowListDevVerboseLogging.includes(r)}return d._storageApi.add([e]),Promise.resolve()},getEventDetails:e=>({sampleRate:d._startupAllowListEventFilter.includes(e)?1:0,samplingMethod:o.QplSampleMethod.EVENT_BASED_SAMPLING}),isQplEnabled:()=>!1},d._qplSettingsDecorator={performanceNow:()=>performance.now(),moduleLoadTimestamp:performance.now(),logger:{debug:()=>{},warn:()=>{}},sendEvent:(e,t)=>{const n=d._qplReducePrecisionMapMs.get(e.marker_id);return null!=n&&0!==n&&(0,l.inplaceTruncateEventPrecision)(e,n),d._qplSettings.sendEvent(e,t)},quickLogConfigHelper:{getEventDetails:e=>d._qplSettings.getEventDetails(e),isKillswitchOn:()=>!d._qplSettings.isQplEnabled()}},d.markerInstanceHelper=new Map,d._SOFT_MAX_CONCURRENT_OPEN_MARKERS=100,d._startupAllowListEventFilter=[],d.allowListDevVerboseLogging=[],d.isDev=!1,d._qplReducePrecisionMapMs=new Map,d.resetQplSettings()},49725:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(73982)),o=r(n(51517));const a=Object.freeze({TRUST_CLIENT_REPORTED_SAMPLE_RATE:1}),s=Object.freeze({API_CALL:27787270,CRASH_RESILIENCE:27787276,LOCKLESS_IS_MARKER_ON_ACCURACY:27787269,LOCKLESS_MARKER_START:27787266,LOCKLESS_QUEUE_SIZE:27787265,LOCKLESS_STARTED_MARKERS_MAP_COLLISIONS:27787273,LOSS_TRACKING_MARKER_RECEIVED:27787272,LOSS_TRACKING_MARKER_STARTED:27787271,QPL_CONFIG_LOAD:27799150,QPL_CONFIG_SAVE:27791744,QPL_HEARTBEAT_HARDCODED_CONFIG:27792138,QPL_HEARTBEAT_SEVER_CONFIG:27803336,USAGE:27791726,ZERO_SAMPLE_RATE_DUE_MISSING_CONFIG:27787268,ZERO_SAMPLE_RATE_DUE_MISSING_EVENT_IN_CONFIG:27787267}),l=Object.freeze({REGULAR:1,USER_FLOW:2});function c(e,t){const n=t-e;if(0===n)return"0";const[r,i]=n.toFixed(6).split(".",2);return"0"===r?i.replace(/^0+/,""):r+i}function u(e,t,n,r){const o=t[e];if(!o||0===Object.entries(o).length)return null;const a={};return Object.keys(o).forEach((e=>{const t=o[e];null==t||0===t.length?delete o[e]:a[e]=r?r(t):t})),{[e]:(0,i.default)((0,i.default)({},null==n?void 0:n[e]),a)}}function d(e,t){if(null==e)return t;const n=(0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)({},t),u("string",e,t)),u("int",e,t,Math.trunc)),u("double",e,t)),u("bool",e,t)),u("string_array",e,t)),u("int_array",e,t,(e=>e.map(Math.trunc)))),u("double_array",e,t)),u("bool_array",e,t));return Object.keys(n).forEach((e=>{const t=n[e];null!=t&&0!==Object.entries(t).length||delete n[e]})),0!==Object.entries(n).length?n:null}function _(e,t){if(!t)return e;const n={};return t.string&&(n.annotations=t.string),t.int&&(n.annotations_int=t.int),t.double&&(n.annotations_double=t.double),t.bool&&(n.annotations_bool=t.bool),t.string_array&&(n.annotations_string_array=t.string_array),t.int_array&&(n.annotations_int_array=t.int_array),t.double_array&&(n.annotations_double_array=t.double_array),t.bool_array&&(n.annotations_bool_array=t.bool_array),(0,i.default)((0,i.default)({},e),n)}const p=new Map([[1,"random_sampling"],[3,"per_user"]]);function f(e,t){return 0!==e&&(e<=1||("string"==typeof t?0==(n=t,((0,o.default)(n)>>>0)%e):Math.random()*e<=1));var n}t.default=class{constructor(e){let t;this._nextListenerId=1,this._defaultSampleRate=100,this._listeners=new Map,this._listenersWithMarker=new Map,this._debuggingId=null,this._markerSampleRate={},this.activeMarkers=new Map,this._settings=e,this._logger=e.logger,this._listenersWithMarker=null!==(t=e.listenersWithMarker)&&void 0!==t?t:new Map}getMarker(e,t){const n=this._getMarkerInstances(e);if(!n)return null;const r=n.get(t);return r||null}getMarkerInstances(e){return this._getMarkerInstances(e)}_getMarkerInstances(e){let t;return(null===(t=this._settings.quickLogConfigHelper)||void 0===t?void 0:t.isKillswitchOn())?null:this.activeMarkers.get(e)}addMarker(e,t,n){let r=this.activeMarkers.get(e);r||(r=new Map,this.activeMarkers.set(e,r)),r.set(t,n)}deleteMarker(e,t){let n;null===(n=this.activeMarkers.get(e))||void 0===n||n.delete(t)}markerStart(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentTimestamp(),{cancelOnUnload:i=!1,trackedForLoss:o=!1,type:a=l.REGULAR,samplingBasis:c=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null===(t=this._settings.quickLogConfigHelper)||void 0===t?void 0:t.isKillswitchOn())return;this.getMarker(e,n)&&this._logger.warn(`Duplicate QPL markerId: ${e} & instanceKey: ${n}`);const[u,d,_]=this._getSamplingPolicy(e,c),p={passesSampling:u,timestamp:r,sampleRate:d,samplingMethod:_,points:[],cancelOnUnload:i,trackedForLoss:o,type:a};this._listeners.forEach((t=>{t.onMarkerStart(e,n,r)})),this._listenersWithMarker.forEach((t=>{t.onMarkerStartWithMarker(e,n,r,p)})),u&&this.addMarker(e,n,p),u&&!0===o&&this._uploadEvent({marker_id:s.LOSS_TRACKING_MARKER_STARTED,action_id:0,sample_rate:1,annotations_int:{tracked_marker_id:e},marker_type:l.REGULAR})}markerAnnotate(e,t){let{instanceKey:n=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._listeners.forEach((r=>{Object.keys(t).forEach((i=>{const o=t[i];o&&Object.keys(o).forEach((t=>{r.onAnnotation(e,n,t,o[t])}))}))}));const r=this.getMarker(e,n);r&&(r.annotations=d(t,r.annotations))}markerPoint(e,t){let{instanceKey:n=0,data:r,timestamp:i=this.currentTimestamp()}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._listeners.forEach((o=>{let a;return o.onMarkerPoint(e,n,t,null==r||null===(a=r.string)||void 0===a?void 0:a.__key,i)}));const o=this.getMarker(e,n);if(!o)return;const a={name:t,timeSinceStart:Math.trunc(i-o.timestamp)},s=d(r);s&&(a.data=s),o.points.push(a)}markerEnd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentTimestamp();this.genMarkerEnd(e,t,n,r)}genMarkerEnd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentTimestamp();this._listeners.forEach((i=>i.onMarkerEnd(t,e,n,r)));const o=this.getMarker(e,n);if(!o)return Promise.resolve();let s=Promise.resolve();if(o.passesSampling){if(!0!==o.timestampIsApproximate){const u=o.type===l.USER_FLOW?o.points:function(e){return Array.from(new Set(e.map((e=>e.name)))).map((t=>e.find((e=>e.name===t)))).filter(Boolean)}(o.points),d=function(e,t){return!0===t?(0,i.default)((0,i.default)({},e),{},{tracked_for_loss:!0}):e}(_({marker_id:e,action_id:t,instance_id:n,sample_rate:o.sampleRate,method:p.get(o.samplingMethod),duration_ns:c(o.timestamp,r),points:u,metadata:{application_analytics:{time_since_qpl_module_init:r-this._settings.moduleLoadTimestamp}},marker_type:o.type,flags:a.TRUST_CLIENT_REPORTED_SAMPLE_RATE},o.annotations),o.trackedForLoss);s=this._uploadEvent(d)}this._debuggingId===e&&this._settings.onDebuggingIdEnded&&this._settings.onDebuggingIdEnded()}return this.deleteMarker(e,n),s}markerDrop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.deleteMarker(e,t);const n=this.currentTimestamp();this._listeners.forEach((r=>{r.onMarkerDrop&&r.onMarkerDrop(e,t,n)}))}markEvent(e,t,n){let r,{timestamp:i=this.currentTimestamp(),annotations:o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null===(r=this._settings.quickLogConfigHelper)||void 0===r?void 0:r.isKillswitchOn())return;const[s,c,u]=this._getSamplingPolicy(e);if(!s)return;const f=d("function"==typeof o?o():o),E={marker_id:e,action_id:0,instance_id:0,sample_rate:c,method:p.get(u),da_type:t,da_level:n,metadata:{application_analytics:{time_since_qpl_module_init:i-this._settings.moduleLoadTimestamp}},marker_type:l.REGULAR,flags:a.TRUST_CLIENT_REPORTED_SAMPLE_RATE};this._uploadEvent(_(E,f))}dropAllMarkers(){this.activeMarkers.clear()}setAlwaysOnSampleRate(e,t){this._markerSampleRate[e]=t}currentTimestamp(){return this._settings.performanceNow()}enableDebug(e){this._debuggingId=parseInt(e,10)}disableDebug(){this._debuggingId=null}addListener(e){const t=this._nextListenerId++;return this._listeners.set(t,e),{dispose:()=>{this._listeners.delete(t)}}}_getSamplingPolicy(e,t){let n,r,i,o,a;if(this._settings.unsampleAllEvents&&this._settings.unsampleAllEvents()||this._debuggingId===e)return[!0,1,1];const s=null!==(n=null===(r=this._settings.quickLogConfigHelper)||void 0===r?void 0:r.getEventDetails(e))&&void 0!==n?n:{sampleRate:0,samplingMethod:1};if(null==this._markerSampleRate[e]&&0!==s.sampleRate&&3===s.samplingMethod){let e;return[!0,null!==(e=s.sampleRate)&&void 0!==e?e:1,3]}const l=null!==(i=null!==(o=this._markerSampleRate[e])&&void 0!==o?o:s.sampleRate)&&void 0!==i?i:this._defaultSampleRate,c=null!==(a=s.samplingMethod)&&void 0!==a?a:1;return[f(l,t),l,c]}_uploadEvent(e){const t=this._settings.decorateEventBeforeUpload?this._settings.decorateEventBeforeUpload(e):e;return this._settings.sendEvent(e,t)}getActiveMarkerIDs(e){let{type:t}=e;const n=new Set;return this.activeMarkers.forEach(((e,r)=>{e.forEach((e=>{e.type===t&&n.add(r)}))})),Array.from(n)}forEachMarkerInstance(e,t){const n=this._getMarkerInstances(e);if(n)for(const e of n.keys())t(e)}}},35273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attrBroadcastJid=function(e,t){return(0,o.attrValidate)(e,t,r.validateBroadcastJid,"BroadcastJid")},t.attrCallJid=function(e,t){return(0,o.attrValidate)(e,t,r.validateCallJid,"CallJid")},t.attrDeviceJid=function(e,t){return(0,o.attrValidate)(e,t,r.validateDeviceJid,"DeviceJid")},t.attrDomainJid=function(e,t){return(0,o.attrValidate)(e,t,r.validateDomainJid,"DomainJid")},t.attrGroupJid=function(e,t){return(0,o.attrValidate)(e,t,r.validateGroupJid,"GroupJid")},t.attrJidEnum=function(e,t,n){const r=(0,o.attrString)(e,t);if(!r.success)return r;const{validators:a,typeName:s}=n;for(let e=0;e<a.length;e++){const t=a[e](r.value);if(null!=t)return(0,i.makeResult)(t)}return(0,o.errorMessage)(e,`to have "${t}"={${s}}, but instead has "${r.value}"`)},t.attrNewsletterJid=function(e,t){return(0,o.attrValidate)(e,t,r.validateNewsletterJid,"NewsletterJid")},t.attrStatusJid=function(e,t){return(0,o.attrValidate)(e,t,r.validateStatusJid,"StatusJid")},t.attrUserJid=function(e,t){return(0,o.attrValidate)(e,t,r.validateUserJid,"UserJid")},t.literalJid=function(e,t,n,r){const i=e(t,n);if(!i.success)return i;if(i.value===r)return i;return(0,o.errorMessage)(t,`to have "${n}"={${r}}, but instead has "${i.value}"`)},t.optionalLiteralJid=function(e,t,n,r){const i=(0,o.optional)(e,t,n);if(!i.success)return i;if(null==i.value||i.value===r)return i;return(0,o.errorMessage)(t,`to have "${n}"={${r}}, but instead has "${i.value}"`)};var r=n(44037),i=n(22207),o=n(93263)},12375:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.attrFromReference=s,t.attrStringFromReference=l,t.contentStringFromReference=function(e,t){const n=c(e,t);if(!n.success)return d(n);const r=(0,a.contentString)(n.value);if(!r.success)return d(r);return r},t.optionalAttrFromReference=function(e,t,n,r,i){return u(t,n)?s(e,t,n,r,i):a.voidSuccess},t.optionalAttrStringFromReference=function(e,t){return u(e,t)?l(e,t):a.voidSuccess};var i=r(n(9028)),o=n(22207),a=n(93263);function s(e,t,n,r,i){const o=c(t,n);if(!o.success)return d(o);const a=e(o.value,n[n.length-1],r,i);return a.success?a:d(a)}function l(e,t){return s(a.attrString,e,t)}function c(e,t){const n=t.length;let r=e;for(let e=0;e<n-1;e++){const n=t[e],i=(0,a.flattenedChildWithTag)(r,n);if(!i.success)return i;r=i.value}return(0,o.makeResult)(r)}function u(e,t){const n=c(e,t);return n.success&&(0,i.default)(n.value.attrs,t[t.length-1])}function d(e){return(0,o.makeError)(`in the reference, ${e.error}`)}},93263:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.assertAttr=function(e,t,n){const r=p(e,t);if(!r.success)return r;if(r.value!==n)return v(e,`to have "${t}"="${n}", but instead has "${r.value}"`);return _},t.assertTag=function(e,t){if(e.tag!==t)return v(e,`to be <${t}>`);return _},t.attrInt=A,t.attrIntRange=function(e,t,n,r){const i=A(e,t);if(!i.success)return i;const o=i.value;if(void 0!==n&&o<n)return v(e,`to have "${t}"={at least ${n}} but has value ${o}`);if(void 0!==r&&o>r)return v(e,`to have "${t}"={at most ${r}} but has value ${o}`);return(0,c.makeResult)(o)},t.attrStanzaId=function(e,t){return f(e,t,u.toStanzaId,"stanzaID")},t.attrString=p,t.attrStringEnum=function(e,t,n){const r=p(e,t);if(!r.success)return r;const i=n[r.value];if(null!=i)return(0,c.makeResult)(i);const o=Object.values(n).join("|");return v(e,`to have "${t}"={${o}}, but instead has "${r.value}"`)},t.attrValidate=f,t.childWithTag=function(e,t,n){const r=S(e,t,n);if(!r.success)return r;const i=r.value;if(null==i)return v(e,`to have 1 child <${t}>, but found 0`);return(0,c.makeResult)(i)},t.contentBytes=C,t.contentBytesRange=function(e,t,n){const r=C(e);if(!r.success)return r;const i=r.value.length;if(void 0!==t&&i<t)return v(e,`to have binary content at least ${t} bytes but has ${i} bytes`);if(void 0!==n&&i>n)return v(e,`to have binary content at most ${n} bytes but has ${i} bytes`);return(0,c.makeResult)(r.value)},t.contentInt=function(e){return E(e,P,"integer")},t.contentLiteralBytes=function(e,t){const n=C(e);if(!n.success)return n;if((0,a.uint8ArraysEqual)(n.value,t))return(0,c.makeResult)(t);return v(e,`to have content ":binary:${(0,i.encodeB64)(t)}", but instead has ":binary:${(0,i.encodeB64)(n.value)}"`)},t.contentString=y,t.contentStringEnum=function(e,t){const n=y(e);if(!n.success)return n;const r=t[n.value];if(null!=r)return(0,c.makeResult)(r);const i=Object.values(t).join("|");return v(e,`to have content "${i}", but instead has "${n.value}"`)},t.contentValidate=E,t.countChildrenWithTag=function(e,t,n,r,i){const o=N(e,t,n,r);if(!o.success)return o;const a=o.value.length;for(let e=0;e<a;e++){const t=i(o.value[e]);if(!t.success)return t}return(0,c.makeResult)(a)},t.countHomogeneousChildrenWithTag=function(e,t,n){const r=m(e,t,n);if(!r.success)return r;return(0,c.makeResult)(r.value.length)},t.emptyObject=void 0,t.errorMessage=v,t.errorMixinDisjunction=function(e,t,n){const r=t.map(((e,t)=>`${e}: ${n[t].error}`));return v(e,[`to match any of following mixins: ${t.join(", ")}, but all mixins failed.`,...r].join(" "))},t.flattenedChildWithTag=function(e,t){const n=h(e,t);if(!n.success)return n;if(null==n.value)return v(e,`to have 1 child <${t}>, but found 0`);return(0,c.makeResult)(n.value)},t.identity=function(e){return e},t.literal=function(e,t,n,r){const i=e(t,n);if(!i.success)return i;if(i.value===r)return(0,c.makeResult)(r);return v(t,`to have "${n}"={${r}}, but instead has "${i.value}"`)},t.literalContent=function(e,t,n){const r=e(t);if(!r.success)return r;if(r.value===n)return(0,c.makeResult)(n);return v(t,`to have content "${n}", but instead has "${r.value}"`)},t.mapChildrenWithTag=T,t.mapHomogeneousChildrenWithTag=m,t.maybeChildren=g,t.optional=I,t.optionalChild=h,t.optionalChildWithTag=S,t.optionalLiteral=function(e,t,n,r){if(null==r)return _;const i=I(e,t,n);if(!i.success)return i;if(i.value===r)return(0,c.makeResult)(r);if(null==i.value)return _;return v(t,`to have "${n}"={${r}}, but instead has "${i.value}"`)},t.voidSuccess=void 0;var i=n(62089),o=n(89323),a=n(9093),s=n(52924),l=r(n(9028)),c=n(22207),u=n(3417),d=n(53486);const _=(0,c.makeResult)();function p(e,t){return O(e,t)?function(e,t){if(t instanceof d.WapJid)return(0,c.makeResult)(t.toString());if("string"==typeof t)return(0,c.makeResult)(t);return v(e,`decodeAsString: attribute is ${typeof t} not a string: ${String(t)}`)}(e,e.attrs[t]):v(e,`to have attribute "${t}"`)}function f(e,t,n,r){const i=p(e,t);if(!i.success)return i;const o=n(i.value);return null!=o?(0,c.makeResult)(o):v(e,`to have "${t}"={${r}}, but instead has "${i.value}"`)}function E(e,t,n){const r=y(e);if(!r.success)return r;const i=t(r.value);return null!=i?(0,c.makeResult)(i):v(e,`to have ${n} content, but instead has "${r.value}"`)}function A(e,t){return f(e,t,P,"integer")}function g(e){const t=e.content;return t instanceof Uint8Array?v(e,"to have children"):(0,c.makeResult)(t)}function h(e,t){const n=g(e);if(!n.success)return n;const r=n.value;if(null==r)return _;let i=null;for(let n=0;n<r.length;n++){const o=r[n];if(o.tag===t){if(null!=i)return v(e,`to have 1 child <${t}>, but found more than 1`);i=o}}return(0,c.makeResult)(i)}function S(e,t,n){const r=h(e,t);return r.success?null==r.value?_:n(r.value):r}function T(e,t,n,r,i){const o=N(e,t,n,r);if(!o.success)return o;const a=[];for(let e=0;e<o.value.length;e++){const t=i(o.value[e]);if(!t.success)return t;a.push(t.value)}return(0,c.makeResult)(a)}function m(e,t,n){const r=T(e,t,0,1/0,n);if(!r.success)return r;for(let t=0;t<r.value.length;t++)if(!(0,s.deepEqual)(r.value[0],r.value[t]))return v(e,"to have homogeneous children, but found two children that are not equal");return r}function I(e,t,n,r,i){return O(t,n)?e(t,n,r,i):_}function y(e){const t=C(e);if(!t.success)return t;try{const e=new o.Binary(t.value),n=e.readString(e.size());return(0,c.makeResult)(n)}catch(t){return v(e,`to have string content, but run into decoding error: ${t.message}`)}}function C(e){const{content:t}=e;return null==t?v(e,"to have content"):Array.isArray(t)?v(e,"to have content, but has children instead"):(0,c.makeResult)(t)}function v(e,t){return(0,c.makeError)(`expected <${e.tag}>: ${t}`)}function O(e,t){return(0,l.default)(e.attrs,t)}function P(e){const t=parseInt(e,10);return Number.isNaN(t)?null:t}function N(e,t,n,r){const i=g(e);if(!i.success)return i;const o=i.value;if(null==o)return 0!==n?v(e,`to have at least ${n} <${t}> children, but found 0`):(0,c.makeResult)([]);const a=[];for(let e=0;e<o.length;e++){const n=o[e];n.tag===t&&a.push(n)}const s=a.length;return s<n?v(e,`to have at least ${n} <${t}> children, but found ${s}`):s>r?v(e,`to have at most ${r} <${t}> children, but found ${s}`):(0,c.makeResult)(a)}t.voidSuccess=_;t.emptyObject={}},23522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONAL=function(e,t){return null==t?r.DROP_ATTR:e(t)},t.OPTIONAL_LITERAL=function(e,t){return t?e:r.DROP_ATTR};var r=n(80780)},38421:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HAS_OPTIONAL_CHILD=function(e,t){if(null==t)return null;if(t)return e()},t.HOMOGENEOUS_CHILD=function(e,t){if(t)for(let e=1;e<t.length;e++)if(!(0,r.deepEqual)(t[e],t[0]))throw new Error("expected all homogeneous children to be equal, but they were not");return i(e,t,0,1/0)},t.HOMOGENEOUS_CHILD_COUNT=function(e,t){return o(e,t,0,1/0)},t.OPTIONAL_CHILD=function(e,t){return null==t?null:e(t)},t.REPEATED_CHILD=i,t.REPEATED_CHILD_COUNT=o;var r=n(52924);function i(e,t,n,r){if(null==t){if(n>0)throw new Error(`expected at least ${n} children, but none provided`);return[]}const i=t.length;if(i<n)throw new Error(`expected at least ${n} children, but found ${i}`);if(i>r)throw new Error(`expected at most ${r} children, but found ${i}`);return t.map((t=>e(t)))}function o(e,t,n,r){if(0===t){if(n>0)throw new Error(`expected at least ${n} children, but none provided`);return[]}if(t<n)throw new Error(`expected at least ${n} children, but found ${t}`);if(t>r)throw new Error(`expected at most ${r} children, but found ${t}`);const i=[];for(let n=0;n<t;n++)i.push(e());return i}},41399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.smax=void 0;const r=n(80780).wap;t.smax=r},65640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStanzas=a,t.optionalMerge=function(e,t,n,r){if(null!=n)return e(t,n,r);return t};var r=n(54080),i=n(53486);const o="smax$any";function a(e,t){return function(e,t){const n=e.tag,r=t.tag;if(r===o)return;if(n!==r)throw new Error(`tag mismatch: ${n} != ${r}`)}(e,t),function(e,t){const n=e.attrs,r=t.attrs;Object.keys(r).forEach((e=>{const t=r[e],o=n[e];if(null!=t&&null!=o){if(function(e,t){if("string"==typeof e&&"string"==typeof t)return e===t;if(e instanceof i.WapJid&&t instanceof i.WapJid)return e.toString()===t.toString();return!1}(t,o))return;throw new Error(`conflict for key: ${e}`)}n[e]=t}))}(e,t),t.content instanceof Uint8Array?function(e,t){const n=e.content;if(n instanceof Uint8Array){if(!(0,r.uint8ArraysEqualUNSAFE)(n,t))throw new Error("elementValue mismatch: bytes dose not equal");return}if(null!=n)throw new Error("elementValue mismatch: destination has children");e.content=t}(e,t.content):null!=t.content&&function(e,t){const n=e.content;if(n instanceof Uint8Array)throw new Error("children mismatch: destination has element value");if(null==n||0===n.length)return void(e.content=t);if(!function(e,t){const n=s(t),r=s(e),i=Object.keys(n);for(let e=0;e<i.length;e++){const t=i[e],o=n[t],a=r[t];if(null!=o&&null!=a&&o!==a)return!1}return!0}(n,t))throw new Error("children mismatch: child counts are not compatible");const r=[],i=Array.from(n);t.forEach((e=>{const t=i.findIndex((t=>t.tag===e.tag));if(-1===t)r.push(e);else{const n=a(i.splice(t,1)[0],e);r.push(n)}})),i.forEach((e=>r.push(e))),e.content=r}(e,t.content),e}function s(e){return e.reduce(((e,t)=>{const n=t.tag,r=e[n];return e[n]=null==r?1:r+1,e}),{})}},76142:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmaxParsingFailure=void 0;class n extends Error{constructor(e){super(`SmaxParsingFailure: ${e}`),this.name="SmaxParsingFailure",this.reason=e}toString(){return`SmaxParsingFailure: ${this.reason}`}}t.SmaxParsingFailure=n},9338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessageRpcParsing=function(e,t){const n=Object.keys(t).map((e=>`Tried <response name="${e}">, but failed with ${t[e].error}.`)).join(" ");return`Failed to parse the response of <rpc name="${e}">. ${n}`}},59909:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;const n="undefined"!=typeof Promise?Promise:null,r="function"==typeof setImmediate?setImmediate:null;let i=0;const o=[],a=[],s=[],l={sentinel:"CONTINUE_AS_IF_NO_HANDLER"},c={sentinel:"RETRY_ASYNCHRONOUSLY"},u={sentinel:"TO_STRING"},d={sentinel:"DID_ERROR"};let _=null;const p=[],f=64,E=128,A=512,g="undefined"==typeof self?void 0:self;function h(e,t){this._flags=0,this._value=void 0,this._onFulfilled=void 0,this._onRejected=void 0,this._context=void 0,this._resolveLevel=0,this._control=void 0,this.x=void 0,this._thenableParent=null,this._parent=void 0,this._child=void 0,this._children=void 0,this.control=void 0,t&&(this._context=t.this),"function"==typeof e&&(this._onFulfilled=e,this._flags|=4,this._flags|=256,x(e,this._context,(e=>R(this,0,!0,!1,e)),(e=>R(this,0,!1,!1,e))))}let S,T;function m(e){if(void 0===e)return S;if(b(e))return e;{const t=new h;return R(t,0,!0,!1,e),V(t,A),t}}function I(e){const t=new h;return t._value=e,V(t,514),p.push(t),t}function y(e){let t="";if(e._flags&E){t=(e._onFulfilled||e._onRejected).call(e._context,u)}else if(e._control)t=`.addRawControl(${e._control.name}, ${e._control.foo})`;else if(16&e._flags)t=`.endWithControls(${Object.keys(e.control)})`;else if(e._flags&A)t=1&e._flags?`Promise.resolve(${void 0===e._value?"":e._value})`:`Promise.reject(${void 0===e._value?"":e._value})`;else if(256&e._flags)switch(3&e._flags){case 2:case 0:case 1:t=`new Promise(${e._onFulfilled})`}else e._onFulfilled&&e._onRejected?t=`.then(${e._onFulfilled}, ${e._onRejected})`:e._onFulfilled?t=`.then(${e._onFulfilled})`:e._onRejected&&(t=`.catch(${e._onRejected})`);return t}function C(e){this.message=e,this.stack=new Error(e||this.name).stack}function v(){0===i&&(a.length||p.length)&&(i=1,T||(T=function(){let e,t,i=0;return"undefined"==typeof MutationObserver||g&&g.navigator&&g.navigator.standalone?n?function(){n.resolve().then(Y)}:"function"==typeof r?function(){r(Y)}:function(){setTimeout(Y,0)}:(e=document.createTextNode(""),t=new MutationObserver(Y),t.observe(e,{characterData:!0}),function(){e.data=i=1-i})}()),T())}function O(e,t){V(e,8),t._parent=e,e._children?e._children.push(t):e._child?(e._children=[e._child,t],e._child=void 0):e._child=t}function P(e){if(e&&("object"==typeof e||"function"==typeof e)){let t;try{t=e.then}catch(e){return _=e,d}if("function"==typeof t)return t}}function N(e){if(!e||b(e))return e;const t=P(e);if(t===d)return I(_);if(t){const n=new h((function(n,r){t.call(e,n,r)}));return n._thenableParent=e,n}return e}function b(e){return e instanceof h}function M(e,t,n){const r=b(e=N(e));let i,o,a,s,u=!1;if(r){if(!(3&e._flags))return V(e.then(t,n),32);V(e,8),u=!!(e._flags&f),a=e._context,i=1&e._flags?t:n,o=e._value}else i=t,o=e;if(!i)return m(e).then();if(o=j(i,a,o,!0),o===d)s=I(_);else{if(o===c)return m(e).then(t,n);if(o===l)return r?e.then():m(e);s=m(o)}return u&&(s=s.cancellable()),void 0!==a&&(s=s.then(),s._context=a),s}function R(e,t,n,r,i){if(t!==e._resolveLevel)return;const o=++e._resolveLevel;if(V(e,4),e._thenableParent=null,n)if(i===e)e._parent=void 0,U(e,!1,r,new TypeError("promise resolved to itself"));else if(b(i)){const t=3&i._flags;0===t?O(i,e):(e._parent=i,V(e,1024),V(i,8),U(e,1===t,r,i._value))}else{const t=P(i);t===d?(e._parent=void 0,U(e,!1,r,_)):t?(e._parent=void 0,e._thenableParent=i,x(t,i,(t=>R(e,o,!0,!1,t)),(t=>R(e,o,!1,!1,t)))):U(e,!0,r,i)}else U(e,!1,r,i)}function D(e,t,n,r,i){t===e._resolveLevel&&(L(e),R(e,t,n,r,i))}function L(e){if(e._parent){const t=e._parent;if(e._parent=void 0,t._child===e)t._child=void 0;else if(t._children){const n=t._children;for(let t=0;t<n.length;t++)if(n[t]===e){n.splice(t,1);break}0===n.length&&(t._children=void 0)}}}function w(e){if(null==e)throw new Error(`Invalid .catch guard ${e}`);if("function"==typeof e)return e;if("object"==typeof e)throw new Error("Object guards in .catch are currently unsupported");return function(t){return t===e}}function B(e,t){return function(n,r){return n===u?`.catch(..., ${t})`:e&&!function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r===Error||r.prototype instanceof Error){if(t instanceof r)return!0}else if(r(t))return!0}return!1}(e,n)?l:r?c:t.call(this,n)}}function U(e,t,n,r){if(V(e,4|(t?1:2)),e._value=r,e._child)G(e._child,t,n,r),e._child=void 0;else if(e._children){const i=e._children;e._children=void 0;for(let e=0;e<i.length;e++)G(i[e],t,n,r)}else t||8&e._flags||p.push(e)}function G(e,t,n,r){e._resolveLevel++;const i=H(e,t);if(i&&32&e._flags){V(e,4);const o=j(i,e._context,r,!0);if(o!==c)return void(o===d?(e._parent=void 0,U(e,!1,n,_)):o===l?U(e,t,n,r):(e._parent=void 0,R(e,e._resolveLevel,!0,n,o)));e._flags&=-5}i?((n?s:a).push(e),v()):U(e,t,n,r)}function k(e,t){for(;0!==e.length;)t.push(e.pop())}function Y(){for(;0!==o.length||0!==a.length;){0===o.length&&k(a,o);const e=o.pop(),t=e._parent;let n=!!(t&&1&t._flags),r=t&&t._value;const i=H(e,n);if(V(e,4),i){let t;do{t=j(i,e._context,r,!1)}while(t===c);t===d?(r=_,n=!1,e._parent=void 0):t!==l&&(r=t,n=!0,e._parent=void 0)}3&e._flags||(R(e,e._resolveLevel,n,!0,r),k(s,o))}for(i--;0!==p.length;){const e=p.pop();8&e._flags||K(e,e._value)}}h.resolve=m,h.reject=I,h.prototype.then=function(e,t){"function"!=typeof e&&(e=void 0),"function"!=typeof t&&(t=void 0);const n=new h;n._onFulfilled=e,n._onRejected=t,n._context=this._context,this._flags&f&&V(n,f);const r=3&this._flags;return 0===r?O(this,n):(V(this,8),(1===r?e:t)?(n._parent=this,a.push(n),v()):(n._parent=this,V(n,r),n._value=this._value,2===r&&p.push(n))),n},h.prototype.catch=function(e){const t=arguments.length-1;if(0===t)return this.then(void 0,e);const n=new Array(t);for(let e=0;e<t;e++)n[e]=w(arguments[e]);const r=B(n,arguments[t]),i=M(this,void 0,r);return i._onRejected&&V(i,E),i},h.all=function(e){return new h((function(t,n){let r=e.length;if(0===r)return void t([]);const i=new Array(e.length);function o(e){if(0==--r){const n=[];for(let t=0;t<i.length;t++){const r=i[t];n.push(r&&3&r._flags?r._value:e)}t(n)}return e}for(let t=0;t<e.length;t++)i[t]=M(e[t],o,n)}))},h.allSettled=function(e){return new h((function(t){const n=Array.from(e);let r=n.length;if(0===r)return void t([]);const i=new Array(n.length);function o(e){return function(n){const o=e?{status:"rejected",reason:n}:{status:"fulfilled",value:n};if(0==--r){const e=[];for(let t=0;t<i.length;t++){const n=i[t];e.push(n&&3&n._flags?n._value:o)}t(e)}return o}}const a=o(!1),s=o(!0);for(let e=0;e<n.length;e++)i[e]=M(n[e],a,s)}))},h.race=function(e){const t=N(e);if(b(t)){const e=t.then((e=>h.race(e)));return e._context=void 0,e._flags&=-65,e}return new h((function(e,n){for(let r=0;r<t.length;r++){const i=N(t[r]);if(!b(i)||3&i._flags)for(e(i),r++;r<t.length;r++){const e=t[r];b(e)&&V(e,8)}else i.then(e,n)}}))},h.prototype.toString=function(){const e=[];let t;for(let n=this,r=!1;n;n=n._parent){t=n,!r&&3&n._flags&&(r=!0,n._flags&A||(1&n._flags?e.push(`[resolved value: ${n._value}]`):e.push(`[rejected reason: ${n._value}]`)));let i=y(n);1024&n._flags&&(i=`~${i}`),e.push(i)}return e.reverse(),768&t._flags||(e[0]=`[Promise]${e[0]}`),e.join("\n")},h.prototype.finally=function(e){function t(t){return t===u?`.finally(${e})`:(e.call(this),l)}return V(this.then(t,t),E)},C.prototype=Object.create(Error.prototype,{name:{value:"AbortError"}}),h.CancellationError=C,h.prototype.cancellable=function(){return V(this.then(),f)},h.prototype.cancel=function(e){let t;for(let e=this;e&&!(3&e._flags);e=e._parent)e._flags&f&&(t=e);if(t)if(void 0===e&&(e=new C),H(t,!1)){const n=new h;L(t),O(n,t),D(n,0,!1,!1,e)}else D(t,t._resolveLevel,!1,!1,e)};const F=null==(null==g?void 0:g.dispatchEvent)?null:class extends Event{constructor(e,t){super(e,{cancelable:!0}),Object.defineProperties(this,{promise:{value:t.promise,enumerable:!0},reason:{value:t.reason,enumerable:!0}})}};function K(e,t){if(null!=(null==g?void 0:g.dispatchEvent)){const n=new F("unhandledrejection",{promise:e,reason:t});if(g.dispatchEvent(n),!g.PromiseRejectionEvent&&g.onunhandledrejection)try{g.onunhandledrejection(n)}catch(e){}}else"undefined"!=typeof process&&null!=process.emit?process.emit("unhandledRejection",t,e):console.error(`StackPromise did not catch ${t}`,e,t)}function x(e,t,n,r){try{e.call(t,n,r)}catch(e){r(e)}}function H(e,t){if(!(4&e._flags))return t?e._onFulfilled:e._onRejected}function j(e,t,n,r){try{return r?e.call(t,n,!0):e.call(t,n)}catch(e){return _=e,d}}function V(e,t){return e._flags|=t,e}S=new h,R(S,0,!0,!1,void 0)},51517:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=-1;for(let r=0,i=e.length;r<i;r++)t=t>>>8^n[255&(t^e.charCodeAt(r))];return~t};let n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];Int32Array&&(n=new Int32Array(n))},9178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACK=void 0;t.ACK={SENDER_BACKFILL_SENT:-7,INACTIVE_RECEIVED:-6,CONTENT_UNUPLOADABLE:-5,CONTENT_TOO_BIG:-4,CONTENT_GONE:-3,EXPIRED:-2,FAILED:-1,CLOCK:0,SENT:1,RECEIVED:2,READ:3,PLAYED:4}},63274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Offline=t.Disconnected=t.BufferTooLargeError=void 0;var r=n(66911);const i=(0,r.customError)("BufferTooLarge",!1);t.BufferTooLargeError=i;const o=(0,r.customError)("Disconnected",!1);t.Disconnected=o;const a=(0,r.customError)("Offline",!1,o);t.Offline=a},24857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AckParser=void 0,t.ackMatchesTemplate=function(e,t){return e.id===t.id&&(void 0===t.class||e.class===t.class)&&(void 0===t.type||e.type===t.type)&&(void 0===t.from||o(e.from,t.from))&&(void 0===t.participant||e.participant===t.participant)&&(void 0===t.ts||e.ts===t.ts)},t.fromJidsAreEqual=o;var r=n(44037);const i=new(n(8748).WapParser)("ack",(e=>(e.assertTag("ack"),{id:e.attrString("id"),ts:e.maybeAttrString("t"),class:e.attrString("class"),type:e.maybeAttrString("type"),from:e.attrJidWithType(),participant:e.hasAttr("participant")?e.attrDeviceJid("participant"):null})));function o(e,t){if((0,r.extractFromJid)(e)===t)return!0;if(null!=e.userJid)return(0,r.defaultDeviceJidForUser)(e.userJid)===t;if(null!=e.deviceJid){const{deviceJid:n}=e;return 0===(0,r.extractDeviceId)(n)&&(0,r.extractUserJid)(n)===t}return!1}t.AckParser=i},19026:(e,t,n)=>{"use strict";var r=n(20346).default,i=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SOCKET_ID=void 0,t.cancelDeadSocketTimer=function(){I&&I.deadSocketTimer.cancel()},t.castSmaxStanza=M,t.closeSocket=function(){const e=D("closeSocket").socket;e&&(__LOG__(2)`closeSocket called`,e.close())},t.closeSocketAndPreventRetry=function(){const e=D("closeSocketAndPreventRetry");e.socketLoop.endWithValue(),e.socket&&(__LOG__(2)`closeSocketAndPreventRetry called`,e.socket.close())},t.deprecatedCastStanza=function(e){M(e)},t.deprecatedSendIq=function(e,t){return R(e,!1).then((e=>(0,_.parseIqResponse)(e,t)))},t.deprecatedSendIqErrorParser=function(e,t,n){return R(e,!1).then((e=>(0,_.parseIqResponse)(e,t,n)))},t.deprecatedSendIqIfConnectedWithin=function(e,t,n){return R(e,!1,n).then((e=>(0,_.parseIqResponse)(e,t)))},t.deprecatedSendIqWithoutRetry=function(e,t){return R(e,!0).then((e=>(0,_.parseIqResponse)(e,t)))},t.deprecatedSendStanzaAndReturnAck=b,t.deprecatedSendStanzaAndWaitForAck=function(e,t){return b(e,t).then((()=>{}))},t.forceAbortSocketConnection=function(){var e;const t=D("socketAbortController");null===(e=t.socketAbortController)||void 0===e||e.abort()},t.forceResetSocketLoop=function(){D("forceResetSocketLoop").socketLoop.reset()},t.getComms=function(){return I},t.isActiveSocket=function(e){return D("castStanza").socketId===e},t.isSocketConnected=P,t.maybeResetSocketLoop=function(){P()||D("maybeResetSocketLoop").socketLoop.reset()},t.onStreamErrorReceived=function(){D("onStreamErrorReceived").socketLoop.cancelReset()},t.openSocketLoop=O,t.resetStateForTests=function(){I=null,y=new f.Resolvable,C=1},t.sendPing=function(){return D("sendPing").sendPing()},t.sendSmaxStanza=function(e,t){var n,r,i;const o=null!==(n=null==t?void 0:t.withoutRetry)&&void 0!==n&&n,a=null!==(r=null==t?void 0:t.timeoutSeconds)&&void 0!==r?r:0,s=null!==(i=null==t?void 0:t.signal)&&void 0!==i?i:null;return R(e,o,a,s,"smax")},t.singletonOrThrowIfUninitialized=D,t.socketLoopIteration=N,t.startComms=function(e,t,n){if(I)return;I=new v(e,t,n),setTimeout(O,0)},t.startHandlingRequests=function(){return D("startHandlingRequests").startHandlingRequests()},t.stopComms=function(){const e=D("stopComms");e.socketLoop.endWithValue(),e.socket&&e.socket.close();I=null},t.waitForConnection=function(){D("waitForConnection").sendPing(),y||(y=new f.Resolvable);return y.promise};var o=i(n(73982)),a=i(n(11504)),s=n(24857),l=n(43558),c=i(n(82065)),u=n(63274),d=n(75584),_=n(22827),p=n(82521),f=n(31630),E=n(22207),A=n(78494),g=n(15029),h=n(68991),S=n(93263),T=n(29987),m=n(80780);let I=null,y=null,C=1;t.DEFAULT_SOCKET_ID=0;class v{constructor(e,t,n){var r,i;this.nextSocketId=1,this.pendingIqs=new Map,this.ackHandlers=[],this.pendingSmaxStanzas=new Map,this._recvBlocker=new f.Resolvable,this.socketAbortController=null,this.activePing=null,this._pending=new Set,this.socketId=0,this.socket=null,this.softCloseSocket=null,this.handleStanza=(e,t,n)=>{const r=(0,S.attrString)(e,"id");if(r.success&&"receipt"!==e.tag){const t=r.value,n=this.pendingSmaxStanzas.get(t);if(n)return this.pendingSmaxStanzas.delete(t),n.resolve(e),this.maybeScheduleHealthCheck(),"NO_ACK"}const i=L(e);if(null!=i){const t=this.pendingIqs.get(i);t?(this.pendingIqs.delete(i),t.resolve(e),this.maybeScheduleHealthCheck()):(__LOG__(3)`handleIq no handler for iq with id ${i}`,__LOG__(4,void 0,new Error)`handleIq no handler for iq`)}else{if("ack"!==e.tag)return"failure"===e.tag&&this.config.shouldBlockReceivingUntilSuccess?this._handleStanza(e,t,n):this._recvBlocker.promise.then((()=>this._handleStanza(e,t,n)));this.handleAck(e)}return"NO_ACK"},this.healthCheckTimer=new A.ShiftTimer((()=>{this.socketId&&this.sendPing()})),this.deadSocketTimer=new A.ShiftTimer((e=>{__LOG__(2)`Comms: Socket ${e} expired`,e===this.socketId&&this.softCloseSocket&&this.softCloseSocket()})),this.sendPing=(0,a.default)((function*(){const e=D("sendPing");if(!e.socketId)return __LOG__(2)`sendPing when socket dead`,Promise.resolve();if(e.activePing&&e.activePing.socketId===e.socketId)return __LOG__(2)`sendPing ping still pending`,Promise.resolve();e.activePing&&e.activePing.handler.resolve();const t=(0,h.makeClientRequest)(),n=t.attrs.id;if("string"!=typeof n)return __LOG__(4,void 0,new Error)`No stanzaId in ping request stanza`,Promise.resolve();const r=new f.Resolvable;e.activePing={socketId:e.socketId,stanzaId:n,handler:r},e.callStanza(t);const i=yield r.promise;if(i){const n=(0,g.parseClientResponseServerResponse)(i,t);if(n.success){var o,a;const t=(0,T.castToUnixTime)(n.value.t),r=Math.round(Date.now()/1e3-t);null===(o=(a=e.config.handlers).onClockSkewUpdate)||void 0===o||o.call(a,r)}}})),this._handleStanza=e,this.onConnectionChange=(0,d.notifyConnectionChangeFactory)(null!==(r=t.handlers.onConnectionChange)&&void 0!==r?r:()=>{},null!==(i=t.handlers.onOptimisticConnectionChange)&&void 0!==i?i:()=>{}),this.gzipInflate=n,this.config=t,this.socketLoop=new p.PromiseRetryLoop({name:"MainSocketLoop",code:N,timer:{jitter:.1,max:t.maxSocketLoopWaitTime,algo:{type:"fibonacci",first:1e4,second:1e4},relativeDelay:!0},resetDelay:3e4})}filterPending(e){const t=[];function n(n){e(n)&&t.push(n)}return this.pendingIqs.forEach(n),this.ackHandlers.forEach(n),this.pendingSmaxStanzas.forEach(n),t}sendPendingStanza(e){var t;null===(t=e.cleanup)||void 0===t||t.call(e),e.cleanup=void 0,this.callStanza(e.stanza)}maybeSendPendingStanza(e){this.socket?this.sendPendingStanza(e):__LOG__(2)`Comms has no open socket, will resend stanza when socket opens`}callStanzaAsync(e){var t=this;return(0,a.default)((function*(){return yield t.callStanza(e)}))()}callStanza(e){const t=this.castStanza(e);return this.deadSocketTimer.onOrBefore(this.config.deadSocketTime,this.socketId),this.healthCheckTimer.cancel(),t}castStanzaAsync(e){var t=this;return(0,a.default)((function*(){return yield t.castStanza(e)}))()}castStanza(e){try{var t,n;const r=null===(t=(n=this.config.handlers).onBeforeCastStanzaForE2E)||void 0===t?void 0:t.call(n,e);if(null!=r)return __LOG__(4,void 0,new Error)`Dropping stanza since onBeforeCastStanza matched. (This is not expected in a non-E2E build!)`,Array.isArray(r)?Promise.all(r.map((e=>Promise.resolve(this.handleStanza(e,this.socketId,0))))):(this.handleStanza(r,this.socketId,0),Promise.resolve())}catch(e){}const r=this.socketOrThrow("castStanza");try{return r.sendFrame((0,m.encodeStanza)(e)).then((()=>{var t,n;null===(t=(n=this.config.handlers).onCastStanza)||void 0===t||t.call(n,e)})).catch((e=>{if(__LOG__(4,void 0,new Error)`castStanza async error ${e}`,e instanceof u.BufferTooLargeError)return Promise.reject(e)}))}catch(e){__LOG__(4,void 0,new Error)`castStanza error ${e}`}return Promise.resolve()}socketOrThrow(e){const t=this.socket;if(t)return t;throw(0,c.default)(`Comms.${e} called while no socket`)}startHandlingRequests(){return __LOG__(2)`Comms.startHandlingRequests`,this._recvBlocker.resolve(),this._recvBlocker.promise.then((()=>{}))}parseAndHandleStanza(e,t){e===this.socketId&&(this.deadSocketTimer.cancel(),y&&(y.resolve(),y=null));const n=(0,m.decodeStanza)(t,this.gzipInflate).catch((e=>{throw __LOG__(4,void 0,new Error)`Failure parsing stanza!`,e})).then((n=>{var r,i;null===(r=(i=this.config.handlers).onHandleStanza)||void 0===r||r.call(i,n,e,t.byteLength);const o=this.activePing;return o&&o.socketId===e&&o.stanzaId===L(n)?(this.activePing=null,o.handler.resolve(n),this.maybeScheduleHealthCheck(),"NO_ACK"):this.handleStanza(n,e,t.byteLength)})).then((t=>{if(e===this.socketId){if("CLOSE_SOCKET"===t){__LOG__(2)`Comms: job response is CLOSE_SOCKET`;const e=this.socket;e&&e.close()}else"NO_ACK"===t||this.castStanza(t);return"NO_ACK"}}));this._pending.add(n),n.finally((()=>{this._pending.delete(n)}))}handleAck(e){const t=this.ackHandlers;let n=-1,r=null;for(;!r&&++n<t.length;)r=t[n].parseAndTest(e);if(r){var i,o;const a=t[n];(0,l.removeIndexWithoutPreservingOrder)(t,n),null===(i=(o=this.config.handlers).onHandleAck)||void 0===i||i.call(o,e),a.resolve(r),this.maybeScheduleHealthCheck()}else __LOG__(3)`handleAck: unrecognized ${e}`}removeHandler(e){if("iq"===e.type||"smax"===e.type){const t=e.stanza.attrs.id;if(!t||"string"!=typeof t)return;if("iq"===e.type&&!this.pendingIqs.delete(t)||"smax"===e.type&&!this.pendingSmaxStanzas.delete(t))return}else{e.type;const t=this.ackHandlers.indexOf(e);if(-1===t)return;(0,l.removeIndexWithoutPreservingOrder)(this.ackHandlers,t)}e.resolve(Promise.reject(new u.Disconnected))}maybeScheduleHealthCheck(){if(this.healthCheckTimer.isScheduled())return;if(this.activePing||this.ackHandlers.length||this.pendingIqs.size||this.pendingSmaxStanzas.size)return;const e=this.config.healthCheckInterval,t=Math.ceil(1e3*e*(1+Math.random()));this.healthCheckTimer.onOrBefore(t)}}function O(){D("openSocketLoop").socketLoop.start()}function P(){var e;return!!(null===(e=I)||void 0===e?void 0:e.socket)}function N(){var e,t,n;const i=D("socketLoopIteration");"function"==typeof r&&(i.socketAbortController=new r);const o=i.nextSocketId++;return __LOG__(2)`Comms: Socket ${o} opening`,null===(e=(t=i.config.handlers).onSocketLoopIteration)||void 0===e||e.call(t),i.config.openChatSocket((()=>{i.onConnectionChange("in_handshake")}),null===(n=i.socketAbortController)||void 0===n?void 0:n.signal).then((0,E.onResult)((e=>{var t,n,r,a;null===(t=(n=i.config.handlers).onSocketOpen)||void 0===t||t.call(n);const s=new f.Resolvable;return __LOG__(2)`Comms: Socket ${o} opened`,i.socketId=o,i.socket=e,i.softCloseSocket=()=>{i.softCloseSocket=null,i.socket&&i.config.shouldCloseStaleSocket&&(i.socket.close(),i.socket=null),s.resolve()},i.socketLoop.resetTimeoutAfter(1e4),i.deadSocketTimer.cancel(),i.maybeScheduleHealthCheck(),e.setOnFrame((e=>i.parseAndHandleStanza(o,e))),e.setOnClose((()=>{var e,t;__LOG__(2)`Comms: Socket ${o} closed`,i.activePing&&o===i.activePing.socketId&&(i.activePing.handler.resolve(),i.activePing=null),i.filterPending((e=>e.attachedToSocketId===o)).forEach((e=>{i.removeHandler(e)})),o===i.socketId&&(i.socketId=0,i.socket=null,i.onConnectionChange("disconnected"),null===(e=(t=i.config.handlers).onDisconnect)||void 0===e||e.call(t),s.resolve())})),i.onConnectionChange("connected"),null===(r=(a=i.config.handlers).onConnect)||void 0===r||r.call(a),i.filterPending((e=>!e.attachedToSocketId)).sort(((e,t)=>e.orderedId-t.orderedId)).forEach((e=>{switch(e.type){case"smax":case"iq":i.sendPendingStanza(e);break;case"ack":i.callStanza(e.stanza);break;default:e.type}})),s.promise}))).then((0,E.catchError)((e=>{switch(e){case"max-hunters":__LOG__(3)`socketLoopIteration socket closed while in noise handshake using treasureHunt strategy`;break;case"disconnected":__LOG__(3)`socketLoopIteration socket disconnected while in noise handshake`}}))).catch((e=>{e instanceof u.Disconnected?__LOG__(2)`socketLoopIteration socket closed while in noise handshake`:__LOG__(4,void 0,new Error)`socketLoopIteration failed ${e}`}))}function b(e,t){return new Promise((n=>{const r=D("deprecatedSendStanzaAndReturnAck"),i={type:"ack",parseAndTest:e=>{const n=s.AckParser.parse(e);return!n.error&&(0,s.ackMatchesTemplate)(n.success,t)?e:null},resolve:n,stanza:e,attachedToSocketId:0,orderedId:C++};r.ackHandlers.push(i),r.socket?r.callStanza(e).catch((e=>{const t=r.ackHandlers.indexOf(i);-1!==t&&((0,l.removeIndexWithoutPreservingOrder)(r.ackHandlers,t),i.resolve(Promise.reject(e)))})):__LOG__(2)`Comms has no open socket, will send stanza when socket opens`}))}function M(e){const t=D("castStanza");t.socket?t.castStanza(e):__LOG__(2)`Comms has no open socket`}function R(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"iq";return new Promise((a=>{const s=D("sendIq"),l=e.attrs.id;if(!l||"string"!=typeof l)throw(0,c.default)(`Comms:sendIq given iq without id: ${String(e)}`);const d=s.socketId;if(t&&!d)return void a(Promise.reject(new u.Offline));const _=()=>{const e="iq"===i?s.pendingIqs.get(l):s.pendingSmaxStanzas.get(l);e?s.removeHandler(e):a(Promise.reject((0,c.default)(`Comms:_sendIq unexisting stanza to be cancelled: ${l}`)))};let p=null;if(n>0){const e=setTimeout(_,1e3*n);p=()=>{clearTimeout(e)}}if(null!=r){if(r.aborted)return void a(Promise.reject(new u.Disconnected));r.addEventListener("abort",_),p=()=>{r.removeEventListener("abort",_)}}const f={resolve:a,stanza:e,attachedToSocketId:t?d:0,orderedId:C++,cleanup:p};if("iq"===i){var E,A;const t=(0,o.default)({type:i},f);s.pendingIqs.set(l,t),null===(E=(A=s.config.handlers).onSendIq)||void 0===E||E.call(A,e),s.maybeSendPendingStanza(t)}else{const e=(0,o.default)({type:i},f);s.pendingSmaxStanzas.set(l,e),s.maybeSendPendingStanza(e)}}))}function D(e){if(I)return I;throw(0,c.default)(`Comms::${e} called before startComms`)}function L(e){if("iq"===e.tag){const t=e.attrs.type;if("result"===t||"error"===t)return(0,m.decodeAsString)(e.attrs.id)||null}return null}},75584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyConnectionChangeFactory=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3;const r={timeoutID:null,connectionStatus:"disconnected",optimismLevel:"optimist"},i=()=>{const{optimismLevel:e,connectionStatus:i}=r;"optimist"===e?r.timeoutID=setTimeout((()=>{r.optimismLevel="realist",t(i)}),n):t(i)};return n=>{r.connectionStatus=n,"disconnected"===n||"in_handshake"===n?i():(null!=r.timeoutID&&(clearTimeout(r.timeoutID),r.timeoutID=null),t(n)),e(n)}}},16581:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.XmppParsingFailure=t.ParsableWapNode=void 0;var i=n(89323),o=r(n(82065)),a=n(44037),s=n(22101),l=n(78481),c=n(70717),u=n(29987),d=n(80780),_=n(53486);class p extends Error{constructor(e,t){super(`XmppParsingFailure: ${e}: ${t}`),this.name="XmppParsingFailure",this.parser=e,this.reason=t}toString(){return`XmppParsingFailure: ${this.parser}: ${this.reason}`}}t.XmppParsingFailure=p;class f extends l.ParsableXmlNode{constructor(e,t){super(e,t)}assertFromServer(){const e=this.attrString("from");e!==a.WA_SERVER_JID_SUFFIX&&this.throw(`to have "from"="s.whatsapp.net", but instead has "${e}"`)}attrUserJid(e){const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return null==n.userJid?this.throw(`to have "${e}"={UserJid}, but instead has "${t}"`):n.userJid}attrPhoneUserJid(e){const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return"phoneUser"===n.jidType?n.userJid:this.throw(`to have "${e}"={PhoneUserJid}, but instead has "${t}"`)}attrLidUserJid(e){const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return"lidUser"===n.jidType?n.userJid:this.throw(`to have "${e}"={LidUserJid}, but instead has "${t}"`)}maybeAttrUserJid(e){return this.hasAttr(e)?this.attrUserJid(e):null}maybeAttrPhoneUserJid(e){return this.hasAttr(e)?this.attrPhoneUserJid(e):null}maybeAttrLidUserJid(e){return this.hasAttr(e)?this.attrLidUserJid(e):null}attrGroupJid(e){const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return null==n.groupJid?this.throw(`to have "${e}"={GroupJid}, but instead has "${t}"`):n.groupJid}maybeAttrGroupJid(e){return this.hasAttr(e)?this.attrGroupJid(e):null}attrChatJid(e){const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return null!=n.userJid?n.userJid:null!=n.groupJid?n.groupJid:this.throw(`to have "${e}"={ChatJid}, but instead has "${t}"`)}attrPhoneChatJid(e){const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return"phoneUser"===n.jidType?n.userJid:"group"===n.jidType?n.groupJid:this.throw(`to have "${e}"={ChatJid}, but instead has "${t}"`)}attrDeviceJid(e){const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return null!=n.deviceJid?n.deviceJid:null!=n.userJid?(0,a.defaultDeviceJidForUser)(n.userJid):this.throw(`to have "${e}"={DeviceJid}, but instead has "${t}"`)}attrPhoneDeviceJid(e){const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return"phoneDevice"===n.jidType?n.deviceJid:"phoneUser"===n.jidType?(0,a.defaultPhoneDeviceJidForUser)(n.userJid):this.throw(`to have "${e}"={DeviceJid}, but instead has "${t}"`)}attrDeviceId(e){const t=this.attrInt(e);return(0,a.interpretAsDeviceId)(t)}attrFromJidChat(){const e=this.attrJidWithType();switch(e.jidType){case"msgrUser":{const t=e.userJid,n=(0,a.defaultDeviceJidForUser)(t);return{type:"device",chat:t,deviceJid:n,author:n}}case"interopUser":{const t=e.userJid,n=(0,a.defaultDeviceJidForUser)(t);return{type:"device",chat:t,deviceJid:n,author:n}}case"phoneUser":{const t=e.userJid,n=(0,a.defaultDeviceJidForUser)(t);return{type:"device",chat:t,deviceJid:n,author:n}}case"lidUser":{const t=e.userJid,n=(0,a.defaultLidDeviceJidForLidUserJid)(t);return{type:"device",chat:t,deviceJid:n,author:n}}case"phoneDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractUserJid)(t),deviceJid:t,author:t}}case"msgrDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractUserJid)(t),deviceJid:t,author:t}}case"interopDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractUserJid)(t),deviceJid:t,author:t}}case"lidDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractUserJid)(t),deviceJid:t,author:t}}case"group":{const t=this.hasAttr("participant")?this.attrDeviceJid("participant"):null;return null==t?this.throw("expected to have participant JID for group"):{type:"group",chat:e.groupJid,groupJid:e.groupJid,author:t}}case"broadcast":{const t=this.hasAttr("participant")?this.attrDeviceJid("participant"):null;return null==t?this.throw("expected to have participant JID for group"):{type:"broadcast",broadcastJid:e.broadcastJid,chat:(0,a.extractUserJid)(t),author:t}}case"hosted":{const t=e.hostedDeviceJid;return{type:"device",chat:(0,a.extractUserJid)(t),deviceJid:t,author:t}}case"call":throw __LOG__(4,void 0,new Error)`ParsableWapNode: attrFromJid() is called with ${e.callJid}`,(0,o.default)("ParsableWapNode: attrFromJid() does not support CallJid");default:return e.jidType,this.throw(`attrFromJidChat should not be used with jid of type ${e.jidType}`)}}attrFromJidPhoneChat(){const e=this.attrJidWithType();switch(e.jidType){case"phoneUser":{const t=e.userJid,n=(0,a.defaultPhoneDeviceJidForUser)(t);return{type:"device",chat:t,deviceJid:n,author:n}}case"phoneDevice":{const t=e.deviceJid;return{type:"device",chat:(0,a.extractPhoneUserJid)(t),deviceJid:t,author:t}}case"group":{const t=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return null==t?this.throw("expected to have participant JID for group"):{type:"group",chat:e.groupJid,groupJid:e.groupJid,author:t}}case"broadcast":{const t=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return null==t?this.throw("expected to have participant JID for group"):{type:"broadcast",broadcastJid:e.broadcastJid,chat:(0,a.extractPhoneUserJid)(t),author:t}}case"call":throw __LOG__(4,void 0,new Error)`ParsableWapNode: attrFromJid() is called with ${e.callJid}`,(0,o.default)("ParsableWapNode: attrFromJid() does not support CallJid");default:return e.jidType,this.throw(`attrFromJidChat should not be used with jid of type ${e.jidType}`)}}attrFromPhoneJid(){if("status"===this.attrJidWithType().jidType){const e=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return null==e?this.throw("to have participant for status msg"):{type:"status",author:e}}return this.attrFromJidPhoneChat()}attrFromJid(){const e=this.attrJidWithType();if("status"===e.jidType){const e=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return null==e?this.throw("to have participant for status msg"):{type:"status",author:e}}return"newsletter"===e.jidType?{type:"newsletter",newsletterJid:e.newsletterJid}:"hosted"===e.jidType?{type:"hosted",hostedDeviceJid:e.hostedDeviceJid}:this.attrFromJidChat()}attrJidWithType(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"from";const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return"unknown"===n.jidType?this.throw(`to have "${e}"={Jid}, but instead has "${t}"`):n}attrWapJid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"from";const t=this.attrString(e),n=(0,a.interpretAndValidateJid)(t);return"unknown"===n.jidType?_.WapJid.create(null,t):(0,d.JID)((0,a.extractFromJid)(n))}attrLongInt(e){const t=this.attrString(e);return(0,s.decimalStringToLongInt)(t)}attrTime(e){return(0,u.castToUnixTime)(this.attrInt(e))}attrFutureTime(e){const t=this.attrInt(e);return(0,u.futureUnixTime)(t)}contentString(){if(this.hasChildren())return this.throw("to have string content, but has children instead");if(this.hasContent()){const e=new i.Binary(this.contentBytes());return e.readString(e.size())}return this.throw("to have content")}decodeAsString(e){return(0,d.decodeAsString)(e)}contentSerializedPubKey(){return this.hasContent()?(0,c.serializeIdentity)(this.contentBytes()):this.throw("to have content")}createParseError(e){return new p(this.name(),`expected <${this.tag()}> ${e}`)}throw(e){throw this.createParseError(e)}}t.ParsableWapNode=f},22827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIqResponse=function(e,t,n){const o=e.content;if(o&&Array.isArray(o)&&o[0]){const t=o[0];if("error"===t.tag){const o=t.attrs||{};let a;n&&(a="function"==typeof n?n(e):n.parseOrThrow(t));const s=a;return{success:!1,errorCode:parseInt(o.code,10),errorText:(0,r.decodeAsString)(o.text)||"",errorType:(0,r.decodeAsString)(o.type)||"",errorBackoff:parseInt(o.backoff,10),toString:i,customError:s}}}return"function"==typeof t?{success:!0,result:t(e)}:{success:!0,result:t.parseOrThrow(e)}};var r=n(80780);function i(){return`IqError ${this.errorCode}: ${this.errorText}`}},80780:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.BIG_ENDIAN_CONTENT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e;const r=new Uint8Array(t);for(let e=t-1;e>=0;e--)r[e]=255&n,n>>>=8;return r},t.BROADCAST_JID=function(e){return X(e)},t.CALL_JID=function(e){return X(e)},t.CUSTOM_STRING=function(e){return e},t.DEVICE_JID=function(e){return X(e)},t.DOMAIN_JID=Z,t.DROP_ATTR=void 0,t.GROUP_JID=function(e){return X(e)},t.HOSTED=t.G_US=void 0,t.INT=function(e){return e.toString()},t.JID=X,t.LONG_INT=function(e){return(0,l.longIntToDecimalString)(e)},t.MAYBE_CUSTOM_STRING=function(e){if(null==e)return v;return e},t.NEWSLETTER=void 0,t.NEWSLETTER_JID=function(e){return X(e)},t.PARTICIPANT_JID=function(e){return"status"===e.type||"group"===e.type||"broadcast"===e.type?X(e.author):v},t.STANZA_ID=function(e){return e},t.S_WHATSAPP_NET=t.STATUS_BROADCAST=void 0,t.TO_JID=function(e){return X(q(e))},t.TO_WAP_JID=function(e){return"phoneDevice"===e.jidType||"msgrDevice"===e.jidType||"lidDevice"===e.jidType?X(e.deviceJid):"phoneUser"===e.jidType||"msgrUser"===e.jidType||"lidUser"===e.jidType?X(e.userJid):"group"===e.jidType?X(e.groupJid):"status"===e.jidType?X(e.statusJid):"call"===e.jidType?X(e.callJid):"interopDevice"===e.jidType?X(e.deviceJid):"interopUser"===e.jidType?X(e.userJid):"newsletter"===e.jidType?X(e.newsletterJid):"hosted"===e.jidType?X(e.hostedDeviceJid):(e.jidType,X(e.broadcastJid))},t.USER_JID=function(e){return X(e)},t.WapNode=void 0,t.decodeAsString=function(e){if(e instanceof u.WapJid)return e.toString();return e},t.decodeStanza=function(e,t){const n=new o.Binary(e);if(2&n.readUint8())return __LOG__(2)`Decoding compressed stanza`,t(n.readByteArray()).then((e=>Q(new o.Binary(e))));return Promise.resolve(Q(n))},t.decodeStanzaDebug=function(e){const t=new o.Binary(e);if(2&t.readUint8())throw(0,a.default)("Cannot pass compressed stanza to decodeStanzaDebug");return Q(t)},t.enableXMLFormat=function(){D=!0},t.encodeStanza=function(e){const t=e instanceof L?e:U(e),n=new o.Binary;G(t,n);const r=n.readByteArray(),i=new Uint8Array(1+r.length);return i[0]=0,i.set(r,1),i},t.extractParticipantJid=function(e){switch(e.type){case"group":case"status":case"broadcast":return e.author;default:return e.type,null}},t.extractToJid=q,t.generateId=function(){if(!y){const e=new Uint16Array(2);self.crypto.getRandomValues(e),y=`${String(e[0])}.${String(e[1])}-`}return`${y}${C++}`},t.makeStanza=U,t.makeWapNode=w,t.wap=void 0;var i=r(n(7537)),o=n(89323),a=r(n(82065)),s=n(44037),l=n(22101),c=n(74493),u=n(53486),d=r(n(78132)),_=n(63260);const p=s.MSGR_USER_DOMAIN.replace("@",""),f=s.WA_USER_DOMAIN.replace("@",""),E=s.LID_DOMAIN.replace("@",""),A=s.INTEROP_DOMAIN.replace("@",""),g=s.HOSTED_DOMAIN.replace("@",""),h=[236,237,238,239],S=248,T=249,m=["0","1","2","3","4","5","6","7","8","9","-",".","","","",""],I=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];let y="",C=1;const v={sentinel:"DROP_ATTR"};t.DROP_ATTR=v;const O=u.WapJid.create(null,"g.us");t.G_US=O;const P=u.WapJid.create(null,s.WA_SERVER_JID_SUFFIX);t.S_WHATSAPP_NET=P;const N=u.WapJid.create("status","broadcast");t.STATUS_BROADCAST=N;const b=u.WapJid.create(null,"newsletter");t.NEWSLETTER=b;const M=u.WapJid.create(null,"hosted");t.HOSTED=M;const R={};let D=!1;class L{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.tag=e,this.attrs=t,this.content=n}toString(){let e="<"+this.tag;e+=(0,_.attrsToString)(this.attrs);const t=this.content;return Array.isArray(t)?e+=`>${t.map(String).join("")}</${this.tag}>`:e+=t?`>${(0,_.uint8ArrayToDebugString)(t)}</${this.tag}>`:" />",D&&(e=(0,d.default)(e)),e}}function w(e,t,n){let r=null;if(t&&null!=t.children)throw(0,a.default)('Children should not be passed via props (see eslint check "react/no-children-props")');if(Array.isArray(n))r=n.filter(Boolean);else if("string"==typeof n)r=o.Binary.build(n).readByteArray();else if(n instanceof ArrayBuffer)r=new Uint8Array(n);else if(n instanceof Uint8Array)r=n;else{const e=[];for(let t=2;t<arguments.length;t++){const n=arguments[t];n&&e.push(n)}r=e}Array.isArray(r)&&0===r.length&&(r=null);const i={};if(t){const n=t;Object.keys(n).forEach((t=>{if(["__self","__source"].includes(t))return;const r=n[t];if(null==r)throw(0,a.default)(`Attr ${t} in <${e}> is null`);r!==v&&(i[t]=r)}))}return new L(e,i,r)}t.WapNode=L;const B=w;function U(e){let t=e.content;return Array.isArray(t)?t=t.map(U):"string"==typeof t&&(t=o.Binary.build(t).readByteArray()),new L(e.tag,e.attrs||R,t)}function G(e,t){if(null==e)t.writeUint8(0);else if(e instanceof L)k(e,t);else if(e instanceof u.WapJid)!function(e,t){const n=e.getInnerJid();if(n.type===u.WAP_JID_SUBTYPE.JID_U){const{user:e,device:r,domainType:i}=n;t.writeUint8(247),t.writeUint8(i),t.writeUint8(r),G(e,t)}else if(n.type===u.WAP_JID_SUBTYPE.JID_FB){const{user:e,device:r}=n;t.writeUint8(246),G(e,t),t.writeUint16(r),G(p,t)}else if(n.type===u.WAP_JID_SUBTYPE.JID_INTEROP){const{user:e,device:r,integrator:i}=n;t.writeUint8(245),G(e,t),t.writeUint16(r),t.writeUint16(i)}else{const{user:e,server:r}=n;t.writeUint8(250),null!=e?G(e,t):t.writeUint8(0),G(r,t)}}(e,t);else if("string"==typeof e)x(e,t);else{if(!(e instanceof Uint8Array))throw(0,a.default)("Invalid payload type "+typeof e);!function(e,t){j(e.length,t),t.writeByteArray(e)}(e,t)}}function k(e,t){if(void 0===e.tag)return t.writeUint8(S),void t.writeUint8(0);let n=1;e.attrs&&(n+=2*Object.keys(e.attrs).length),e.content&&n++,n<256?(t.writeUint8(S),t.writeUint8(n)):n<65536&&(t.writeUint8(T),t.writeUint16(n)),G(e.tag,t),e.attrs&&Object.keys(e.attrs).forEach((n=>{x(n,t),G(e.attrs[n],t)}));const r=e.content;if(Array.isArray(r)){r.length<256?(t.writeUint8(S),t.writeUint8(r.length)):r.length<65536&&(t.writeUint8(T),t.writeUint16(r.length));for(let e=0;e<r.length;e++)k(r[e],t)}else r&&G(r,t)}let Y,F;function K(e){const t=new Map;for(let n=0;n<e.length;n++)t.set(e[n],n);return t}function x(e,t){if(""===e)return t.writeUint8(252),void t.writeUint8(0);null==Y&&(Y=K(c.SINGLE_BYTE_TOKEN));const n=Y.get(e);if(null!=n)return void t.writeUint8(n+1);if(null==F){F=[];for(let e=0;e<c.DICTIONARIES.length;++e)F.push(K(c.DICTIONARIES[e]))}for(let n=0;n<F.length;++n){const r=F[n].get(e);if(null!=r)return t.writeUint8(h[n]),void t.writeUint8(r)}const r=(0,o.numUtf8Bytes)(e);if(r<128){if(!/[^0-9.-]+?/.exec(e))return void H(e,255,t);if(!/[^0-9A-F]+?/.exec(e))return void H(e,251,t)}j(r,t),t.writeString(e)}function H(e,t,n){const r=e.length%2==1;n.writeUint8(t);let i=Math.ceil(e.length/2);r&&(i|=128),n.writeUint8(i);let o=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);let s=null;if(48<=i&&i<=57?s=i-48:255===t?45===i?s=10:46===i&&(s=11):251===t&&65<=i&&i<=70&&(s=i-55),null==s)throw(0,a.default)(`Cannot nibble encode ${i}`);r%2==0?(o=s<<4,r===e.length-1&&(o|=15,n.writeUint8(o))):(o|=s,n.writeUint8(o))}}function j(e,t){if(e<256)t.writeUint8(252),t.writeUint8(e);else if(e<1048576)t.writeUint8(253),t.writeUint8(e>>>16&255),t.writeUint8(e>>>8&255),t.writeUint8(255&e);else{if(!(e<4294967296))throw(0,a.default)(`Binary with length ${e} is too big for WAP protocol`);t.writeUint8(254),t.writeUint32(e)}}function V(e,t){const n=e.readUint8();if(0===n)return null;if(n===S)return W(e,e.readUint8());if(n===T)return W(e,e.readUint16());if(252===n){const n=e.readUint8();return z(e,n,t)}if(253===n){const n=e.readUint8(),r=e.readUint8(),i=e.readUint8();return z(e,((15&n)<<16)+(r<<8)+i,t)}if(254===n){const n=e.readUint32();return z(e,n,t)}if(250===n)return function(e){const t=function(e){const t=V(e,!0);if(null!=t&&"string"!=typeof t)throw(0,a.default)("WAWap:decodeNullableString got invalid value, string expected");return t}(e),n=$(e);return u.WapJid.create(t,n)}(e);if(246===n)return function(e){const t=$(e),n=e.readUint16();return $(e),u.WapJid.createFbJid(t,n)}(e);if(245===n)return function(e){const t=$(e),n=e.readUint16(),r=e.readUint16();return $(e),u.WapJid.createInteropJid(t,n,r)}(e);if(247===n)return function(e){let t=null;const n=e.readUint8();if(0===n)t=u.DomainType.WHATSAPP;else if(1===n)t=u.DomainType.LID;else{if(0!=(1&n)||0==(128&n))throw(0,a.default)(`decodeJidU - Invalid domain type encoding ${n}`);t=u.DomainType.HOSTED}const r=e.readUint8(),i=$(e);return u.WapJid.createJidU(i,t,r)}(e);if(255===n){const t=e.readUint8();return J(e,m,t>>>7,127&t)}if(251===n){const t=e.readUint8();return J(e,I,t>>>7,127&t)}if(n<=0||n>=240)throw(0,a.default)("Unable to decode WAP buffer");if(n>=236&&n<=239){const t=n-236,r=c.DICTIONARIES[t];if(void 0===r)throw(0,a.default)(`Missing WAP dictionary ${t}`);const i=e.readUint8(),o=r[i];if(void 0===o)throw(0,a.default)(`Invalid value index ${i} in dict ${t}`);return o}const r=c.SINGLE_BYTE_TOKEN[n-1];if(void 0===r)throw(0,a.default)(`Undefined token with index ${n}`);return r}function W(e,t){const n=[];for(let r=0;r<t;r++)n.push(Q(e));return n}function Q(e){const t=e.readUint8();let n,r;if(t===S)n=e.readUint8();else{if(t!==T)throw(0,a.default)(`Failed to decode node since type byte ${String(t)} is invalid`);n=e.readUint16()}let i=null;if(0===n)throw(0,a.default)("Failed to decode node, list cannot be empty");const o=$(e);for(n-=1;n>1;){r||(r={});const t=$(e),i=V(e,!0);r[t]=i,n-=2}return 1===n&&(i=V(e,!1),i instanceof u.WapJid&&(i=String(i))),new L(o,r,i)}function $(e){const t=V(e,!0);if("string"!=typeof t)throw(0,a.default)("WAWap:decodeString got invalid value, string expected");return t}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e.readString(t):e.readByteArray(t)}function J(e,t,n,r){const i=new Array(2*r-n);for(let n=0;n<i.length-1;n+=2){const r=e.readUint8();i[n]=t[r>>>4],i[n+1]=t[15&r]}if(n){const n=e.readUint8();i[i.length-1]=t[n>>>4]}return i.join("")}function q(e){switch(e.type){case"group":return e.groupJid;case"status":return s.STATUS_JID;case"device":return e.deviceJid;case"newsletter":return e.newsletterJid;case"hosted":return e.hostedDeviceJid;default:return e.type,e.broadcastJid}}function X(e){const t=(0,s.validateDomainJid)(e);if(null!=t)return Z(t);const n=e.split("@");let r=n[0];const i=n[1];let o=null,l=null;if(i!==f&&i!==p&&i!==A&&i!==E&&i!==g||-1!==r.indexOf(":")&&([r,o]=r.split(":"),l=parseInt(o,10)),i===A){const[e,t]=r.split("-");return u.WapJid.createInteropJid(t,l,parseInt(e,10))}if(i===p)return u.WapJid.createFbJid(r,l);let c=null;if(i===E)c=u.DomainType.LID;else if(i===g){if(null==l||0===l)throw(0,a.default)("Hosted device should have deviceId > 0");c=u.DomainType.HOSTED}else c=u.DomainType.WHATSAPP;return null!=l&&0!==l?u.WapJid.createJidU(r,c,l):u.WapJid.create(r,i)}function Z(e){return"s.whatsapp.net"===e?P:"g.us"===e?O:"newsletter"===e?b:(0,i.default)(e)}t.wap=B},53486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WapJid=t.WAP_JID_SUBTYPE=t.DomainType=void 0;var r=n(44037);const i={JID:0,JID_U:1,JID_AD:1,JID_FB:3,JID_INTEROP:4};t.WAP_JID_SUBTYPE=i;const o=n(54302)({WHATSAPP:0,LID:1,HOSTED:128});t.DomainType=o;class a{constructor(e){this._jid=e}static createAD(e,t,n){return new a({type:i.JID_AD,user:e,device:null==n?0:n,agent:null==t?0:t,domainType:o.WHATSAPP})}static createJidU(e,t,n){return new a({type:i.JID_U,user:e,device:null==n?0:n,domainType:null==t?o.WHATSAPP:t})}static createFbJid(e,t){return new a({type:i.JID_FB,user:e,device:null==t?0:t})}static createInteropJid(e,t,n){return new a({type:i.JID_INTEROP,user:e,device:null==t?0:t,integrator:n})}static create(e,t){return new a({type:i.JID,user:e,server:t})}toString(){if(this._jid.type===i.JID_AD||this._jid.type===i.JID_U){const{user:e,device:t,domainType:n}=this._jid;let i="";return i=n===o.WHATSAPP?r.WA_USER_JID_SUFFIX:n===o.HOSTED?r.HOSTED_SUFFIX:r.LID_SUFFIX,0===t?`${e}@${i}`:`${e}:${t}@${i}`}if(this._jid.type===i.JID_FB){const{user:e,device:t}=this._jid;return`${e}:${t}@${r.MSGR_USER_JID_SUFFIX}`}if(this._jid.type===i.JID_INTEROP){const{user:e,device:t,integrator:n}=this._jid;return`${n}-${e}:${t}@${r.INTEROP_USER_JID_SUFFIX}`}{this._jid.type;const{user:e,server:t}=this._jid;return null!=e?`${e}@${t}`:t}}getInnerJid(){return this._jid}}t.WapJid=a},8748:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.WapParser=void 0;var i=r(n(82065)),o=n(16581);t.WapParser=class{constructor(e,t){this._name=e,this._parser=t}parse(e){const t=new o.ParsableWapNode(this._name,e);try{return{success:this._parser(t)}}catch(e){if(e instanceof o.XmppParsingFailure)return{error:e};throw e}}parseOrThrow(e){const t=this.parse(e);if(t.error)throw(0,i.default)(String(t.error));return t.success}}},98873:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateFilehash=function(e){return(0,r.sha256Base64)(e)},t.getRandomFilehash=function(){const{buffer:e}=self.crypto.getRandomValues(new Uint8Array(20));return(0,r.sha256Base64)(e)};var r=n(66126)},42298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onWebSocketCloseEvent=function(e,t){(0,i.startMetric)(r.PRE_METRIC.WA_DISCONNECT).endSuccess({string:{key:`code${t.code}`}});const n=null!=e?`WebSocket ${e} closed. code: ${t.code}`:`WebSocket closed connection during initialization. Code: ${t.code}`;switch(t.code){case 1e3:case 1001:case 1006:__LOG__(2)`[Connectivity]: ${n}`;break;case 1002:case 1003:case 1007:case 1008:case 1009:case 1010:case 1011:case 1015:__LOG__(4,void 0,new Error)`[Connectivity]: ${n}`;break;default:__LOG__(4,void 0,new Error)`[Connectivity]: ${n}. Reason: ${t.reason}, clean: ${t.wasClean}`}};var r=n(5838),i=n(13783)},49542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketClosed=t.FrameSocket=void 0;var r=n(89323),i=n(63274);class o extends Error{constructor(e){const t="SocketClosed";super(null!=e?e:t),this.name=t}}t.SocketClosed=o;function a(e){if(e.size()<3)return!1;return s(e)<=e.size()}function s(e){return e.readUint8()<<16|e.readUint16()}t.FrameSocket=class{constructor(e,t){this._incoming=new r.Binary,this.closed=!1,this._draining=!1,this.onFrame=null,this.onClose=null,this._handleData=e=>{this._incoming.writeByteArray(e),this.convertBufferedToFrames()},this._handleClose=()=>{if(this._incoming.peek(a))return __LOG__(2)`FrameSocket closed, waiting for pending processing`,void(this._draining=!0);this._doClose()},this._handleError=()=>{},this._introToSend=t,this._socket=e,e.onData=this._handleData,e.onClose=this._handleClose,e.onError=this._handleError}sendFrame(e){if(this._draining)return;this.throwIfClosed();const t=this._introToSend,n=e.byteLength,r=this._socket.dataToSend;t?(this._introToSend=null,r.ensureAdditionalCapacity(t.length+3+n),r.writeByteArray(t)):r.ensureAdditionalCapacity(3+n),this._assertMaxPayloadSize(n),r.writeUint8(n>>16),r.writeUint16(65535&n),r.write(e),this._socket.requestSend()}_doClose(){if(this.closed)return;__LOG__(2)`FrameSocket closed`,this._draining=!1,this.closed=!0;const e=this.onClose;e&&e()}_assertMaxPayloadSize(e){if(e>=1<<24)throw __LOG__(3)`Buffer to send: ${e}`,new i.BufferTooLargeError(`Buffer too large: ${e}`)}convertBufferedToFrames(){const e=this._incoming;let t=this.onFrame;for(;t&&e.peek(a);){const n=s(e);t(e.readByteArray(n)),t=this.onFrame}this._draining&&!e.peek(a)&&this._doClose(),t&&e.size()&&__LOG__(2)`FrameSocket: queueing partial frame of ${e.size()} bytes`}throwIfClosed(){if(this.closed)throw new o}close(){this._socket.close()}}},84402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoiseHandshake=void 0;var r=n(89323),i=n(88397),o=n(66126),a=n(63274),s=n(4689),l=n(31630);const c=Promise.reject("UNINITIALIZED HANDSHAKE"),u=new Uint8Array(0);c.catch((()=>{}));function d(e){const t=new ArrayBuffer(12);return new DataView(t).setUint32(8,e),new Uint8Array(t)}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["encrypt","decrypt"];return self.crypto.subtle.importKey("raw",new Uint8Array(e),"AES-GCM",!1,t)}function p(e,t){return(0,i.extractWithSaltAndExpand)(t,new Uint8Array(e),"",64).then((e=>[e.slice(0,32),e.slice(32)]))}function f(e){e.catch((()=>{}))}t.NoiseHandshake=class{constructor(e){this._hash=c,this._salt=c,this._cryptoKey=c,this._counter=0,this._socket=e,this._rejectOnClose=new l.Resolvable,e.onClose=()=>{this._rejectOnClose.reject(new a.Disconnected("NoiseHandshake: SocketClosed"))},f(this._rejectOnClose.promise)}start(e,t){const n=r.Binary.build(e).readBuffer(),i=32===n.byteLength?Promise.resolve(n):(0,o.sha256)(n);this._hash=i,this._salt=i,this._cryptoKey=i.then(_),this.authenticate(t)}sendAndReceive(e){const t=this._socket,n=new Promise((n=>{t.onFrame=e=>{t.onFrame=null,n(e)},t.sendFrame(e)}));return this._orRejectOnClose(n)}send(e){this._socket.sendFrame(e)}authenticate(e){this._hash=Promise.all([this._hash,e]).then((e=>{let[t,n]=e;const i=r.Binary.build(t,n).readByteArray();return(0,o.sha256)(i)}))}encrypt(e){const t=this._counter++,n=Promise.all([this._cryptoKey,this._hash,e]).then((e=>{let[n,r,i]=e;return function(e,t,n,r){return self.crypto.subtle.encrypt({name:"AES-GCM",iv:d(t),additionalData:n?new Uint8Array(n):u},e,r)}(n,t,r,i)}));return this.authenticate(n),this._orRejectOnClose(n)}decrypt(e){const t=this._counter++,n=Promise.all([this._cryptoKey,this._hash]).then((n=>{let[r,i]=n;return function(e,t,n,r){return self.crypto.subtle.decrypt({name:"AES-GCM",iv:d(t),additionalData:n?new Uint8Array(n):u},e,r)}(r,t,i,e)}));return this.authenticate(e),this._orRejectOnClose(n)}finish(){const e=this._salt.then((e=>p(e,new Uint8Array(0)))).then((e=>{let[t,n]=e;return Promise.all([_(t,["encrypt"]),_(n,["decrypt"])])})).then((e=>{let[t,n]=e;return new s.NoiseSocket(this._socket,t,n)}));return this._orRejectOnClose(e)}mixIntoKey(e){this._counter=0;const t=Promise.all([this._salt,e]).then((e=>{let[t,n]=e;return p(t,new Uint8Array(n))}));this._salt=t.then((e=>e[0])),this._cryptoKey=t.then((e=>_(e[1]))),f(this._salt),f(this._cryptoKey)}_orRejectOnClose(e){return Promise.race([e,this._rejectOnClose.promise]).then((e=>this._rejectOnClose.resolveWasCalled()?this._rejectOnClose.promise:e))}}},4689:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.NoiseSocket=void 0;var i=r(n(11504)),o=n(39528);const a=Promise.reject("UNINITIALIZED HANDSHAKE"),s=new Uint8Array(0);a.catch((()=>{}));function l(e){const t=new ArrayBuffer(12);return new DataView(t).setUint32(8,e),new Uint8Array(t)}t.NoiseSocket=class{constructor(e,t,n){this._incoming=[],this._readQueue=new o.PromiseQueue,this._sendQueue=new o.PromiseQueue,this._readCounter=0,this._writeCounter=0,this._draining=!1,this._sendCiphertextFrame=e=>{this._socket.closed?__LOG__(2)`NoiseSocket socket closed while encrypting frame`:this._socket.sendFrame(e)},this._handleCiphertext=e=>{const t=this._readCounter++;this._readQueue.enqueueHandlers(function(e,t,n,r){return self.crypto.subtle.decrypt({name:"AES-GCM",iv:l(t),additionalData:n?new Uint8Array(n):s},e,r)}(this._readKey,t,void 0,e),this._handlePlaintext)},this._handleOnClose=()=>{this._draining=!0,this._readQueue.wait().then((()=>{this._draining=!1;const e=this._onClose;e&&e()}))},this._handlePlaintext=e=>{this._onFrame?this._onFrame(e):this._incoming.push(e)},this._socket=e,this._writeKey=t,this._readKey=n,e.onFrame=this._handleCiphertext,this._socket.onClose=this._handleOnClose,e.convertBufferedToFrames()}sendFrameAsync(e){var t=this;return(0,i.default)((function*(){return yield t.sendFrame(e)}))()}sendFrame(e){if(this._draining)return Promise.resolve();this._socket.throwIfClosed();const t=this._writeCounter++;return this._sendQueue.enqueueHandlers((n=this._writeKey,r=t,i=void 0,o=e,self.crypto.subtle.encrypt({name:"AES-GCM",iv:l(r),additionalData:i?new Uint8Array(i):s},n,o)),this._sendCiphertextFrame);var n,r,i,o}setOnFrame(e){this._onFrame=e}setOnClose(e){this._onClose=e}close(){this._socket.close()}}},31859:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.doFullHandshake=f,t.openChatSocket=function(e,t){return e.openSocket().then((0,u.onResult)(function(){var n=(0,i.default)((function*(n){let r;Promise.resolve().then(t);const i=e.edgeInfo;if(i){const e=new o.Binary;e.write("ED",0,1),e.writeUint8(i.byteLength>>16),e.writeUint16(65535&i.byteLength),e.writeBuffer(i),r=e.readByteArray(),__LOG__(2)`openChatSocket preIntro ${r}`}const u=yield e.getClientPayload(),E=new a.Curve25519(e.curveSignalDependencies),A=r?o.Binary.build(r,e.protoHeader).readByteArray():e.protoHeader,g=new l.FrameSocket(n,A),h=e.serverStaticKeyIfKnown();return h?(__LOG__(2)`openChatSocket performing resume handshake`,function(e,t,n,r,i){const o=new c.NoiseHandshake(e);o.start(d,i.protoHeader);const a=r.generatePublicKey();o.authenticate(n),o.authenticate(a),o.mixIntoKey(r.generateSharedSecret(n));const l=o.encrypt(i.staticKeyPair.generatePublicKey());o.mixIntoKey(i.staticKeyPair.generateSharedSecret(n));const u=o.encrypt(Promise.resolve(t));return Promise.all([a,u,l]).then((e=>{let[t,n,r]=e;return __LOG__(2)`resumeNoiseHandshake send hello`,o.sendAndReceive(i.encodeHandshakeHello({ephemeral:t,payload:n,static:r}))})).then((n=>{__LOG__(2)`resumeNoiseHandshake rcv hello`;const a=i.decodeServerHello(n),{ephemeral:l,static:u,payload:d}=a||{};if(null==u){if(__LOG__(2)`resumeNoiseHandshake continuing resume handshake`,!l)throw(0,s.default)("serverHello missing serverEphemeral");if(!d)throw(0,s.default)("serverHello missing certificateCiphertext");return o.authenticate(l),o.mixIntoKey(r.generateSharedSecret(l)),o.mixIntoKey(i.staticKeyPair.generateSharedSecret(l)),o.decrypt(d).then((()=>(__LOG__(2)`resumeNoiseHandshake deriving secrets`,o.finish())))}return __LOG__(2)`resumeNoiseHandshake performing fallback handshake`,function(e,t,n,r,i){const o=new c.NoiseHandshake(e);o.start(_,i.protoHeader);const a=r.generatePublicKey();return o.authenticate(a),__LOG__(2)`doFallbackHandshake continuing handshake with given server hello`,p(o,t,n,r,i)}(e,a,t,r,i)}))}(g,u,h,E,e)):(__LOG__(2)`openChatSocket performing full handshake`,f(g,u,E,e))}));return function(){return n.apply(this,arguments)}}()))};var i=r(n(11504)),o=n(89323),a=n(39884),s=r(n(82065)),l=n(49542),c=n(84402),u=n(22207);const d="Noise_IK_25519_AESGCM_SHA256\0\0\0\0",_="Noise_XXfallback_25519_AESGCM_SHA256";function p(e,t,n,r,i){const{ephemeral:o,static:a,payload:l}=t||{};if(null==o||null==a||null==l)return Promise.reject((0,s.default)("doFullHandshakeCore server hello invalid proto"));e.authenticate(o),e.mixIntoKey(r.generateSharedSecret(o));const c=e.decrypt(a);e.mixIntoKey(c.then((e=>r.generateSharedSecret(e))));const u=e.decrypt(l);return Promise.all([c,u]).then((e=>{let[t,n]=e;return __LOG__(2)`doFullHandshakeCore parsing and verifying server certificate`,i.processCertificate({certificate:n,serverStatic:t})})).then((()=>{const t=e.encrypt(i.staticKeyPair.generatePublicKey());e.mixIntoKey(i.staticKeyPair.generateSharedSecret(o));const r=e.encrypt(Promise.resolve(n));return Promise.all([t,r])})).then((t=>{let[n,r]=t;return __LOG__(2)`doFullHandshakeCore client finish and deriving secrets`,e.send(i.encodeHandshakeFinish({static:n,payload:r})),e.finish()}))}function f(e,t,n,r){const i=new c.NoiseHandshake(e);i.start("Noise_XX_25519_AESGCM_SHA256\0\0\0\0",r.protoHeader);const o=n.generatePublicKey();return i.authenticate(o),o.then((e=>(__LOG__(2)`fullNoiseHandshake send hello`,i.sendAndReceive(r.encodeHandshakeHello({ephemeral:e}))))).then((e=>{__LOG__(2)`fullNoiseHandshake rcv hello`;const o=r.decodeServerHello(e);return p(i,o,t,n,r)}))}},18722:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.openWebSocket=function(e){const t=new WebSocket(e);return t.binaryType="arraybuffer",new Promise(((e,n)=>{t.onopen=e,t.onclose=e=>{(0,o.onWebSocketCloseEvent)(null,e),n((0,a.default)(`WebSocket closed immediately: ${e.reason} ${e.code}`))}})).then((()=>new l(t)))};var i=n(89323),o=n(42298),a=r(n(82065));let s=1;class l{constructor(e){this._closed=!1,this.onData=null,this.onClose=null,this.onError=null,this.dataToSend=new i.Binary,this._handleData=e=>{if(this._closed)return;const t=new Uint8Array(e.data);this.onData?this.onData(t):__LOG__(4,void 0,new Error)`WebSocket #${this.id} dropped ${t.length} bytes`},this._handleClose=e=>{(0,o.onWebSocketCloseEvent)(this.id,e),this._closed||this._doClose()},this._handleError=e=>{if(this._closed)return;const t=this.onError;t&&t(String(e))};const t=s++;this.id=t,this._socket=e,e.onmessage=this._handleData,e.onclose=this._handleClose,e.onerror=this._handleError}close(){this._closed||(this._socket.close(),this._doClose())}requestSend(){this._closed?__LOG__(4,void 0,new Error)`WebSocket #${this.id} not opened`:this.dataToSend.size()&&this._socket.send(this.dataToSend.readBuffer())}_doClose(){this._closed=!0,this.onClose&&this.onClose()}}},3417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toStanzaId=function(e){return e}},84858:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.clearSyncdData=function(){return(0,o.runInTransaction)({SyncActionStore:!0,CollectionVersionStore:!0,PendingMutationStore:!0,MissingKeyStore:!0,SyncKeyStore:!0},(e=>{let{SyncActionStore:t,CollectionVersionStore:n,PendingMutationStore:r,MissingKeyStore:i,SyncKeyStore:o}=e;return Promise.all([t.clear(),n.clear(),r.clear(),i.clear(),o.clear()]).then((()=>{u.default.clean(),(0,p.clearSyncKeysCache)()}))}))},t.initializeStateMachine=function(){return u.default.loadStatesFromDb().then((()=>U()))},t.logKeysInfoInIntern=function(){return D.apply(this,arguments)},t.markCollectionsForSync=P,t.processOnAppResume=function(){return F.apply(this,arguments)},t.reportWam=function(){return R.apply(this,arguments)},t.syncBlockedCollections=function(){const e=u.default.getCollectionsInStateBlocked();return __LOG__(2)`syncd: sync blocked collections: ${e}`,u.default.moveCollectionsToDirty(e),y=new Set([...Array.from(y),...Array.from(I)]),__LOG__(2)`syncd: syncBlockedCollections:
\tmoving blocked collections to dirty: [${e}]
\tadding inflight collections to pending: [${Array.from(I)}]`,L()};var i=r(n(11504)),o=n(58117),a=n(72279),s=n(77395),l=n(46666),c=n(81665),u=(n(89761),r(n(10772))),d=n(14381),_=(n(57963),n(93974)),p=n(30756),f=n(48785),E=n(99187),A=n(97578),g=n(33135),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(91002));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const T=36e5;let m,I=new Set,y=new Set,C=!1,v=0,O=0;function P(){return N.apply(this,arguments)}function N(){return(N=(0,i.default)((function*(e,t){const n=null!=t?yield b(e,t):e;return __LOG__(2)`syncd: marking for sync: ${n}`,n.forEach((e=>{const t=u.default.getCollectionState(e);__LOG__(2)`syncd: ${e} state before sync: ${t}`,t===d.CollectionSyncState.UpToDate?u.default.moveCollectionsToDirty([e]):t===d.CollectionSyncState.Dirty&&(y=new Set([...Array.from(y),e]))})),yield u.default.persistToDb(),L()}))).apply(this,arguments)}function b(){return M.apply(this,arguments)}function M(){return(M=(0,i.default)((function*(e,t){__LOG__(2)`syncd: start filter collections: ${e}`;const n=yield(0,a.bulkGetCollectionVersionsInTransaction)(e),r=new Map(e.map(((e,t)=>{var r;return[e,null===(r=n[t])||void 0===r?void 0:r.version]})));return e.filter((e=>{const n=r.get(e);if(null==n)return __LOG__(2)`syncd: local version for ${e} missing; will mark for sync.`,!0;const i=t.get(e);return null==i?(__LOG__(2)`syncd: server version for ${e} missing; will mark for sync.`,!0):n<i?(__LOG__(2)`syncd: local version (${n}) for ${e} less than server version (${i}); will mark for sync.`,!0):(__LOG__(2)`syncd: local version (${n})for ${e} >= server version (${i}); will not mark for sync.`,!1)}))}))).apply(this,arguments)}function R(){return(R=(0,i.default)((function*(){const e=yield(0,c.countSyncActionsInTransaction)();h.setStoredMutationCount(e);const t=yield(0,c.getSyncActionsByActionStatesInTransaction)([d.SyncActionState.Malformed]);h.setInvalidActionCount(t.length);const n=yield(0,c.getSyncActionsByActionStatesInTransaction)([d.SyncActionState.Unsupported]);h.setUnsupportedActionCount(n.length);const r=yield(0,s.getMissingKeyCountTransaction)();h.setMissingKeyCount(r)}))).apply(this,arguments)}function D(){return(D=(0,i.default)((function*(){}))).apply(this,arguments)}function L(){return w.apply(this,arguments)}function w(){return(w=(0,i.default)((function*(){if((0,_.isSyncdDisabled)())return Promise.resolve();const e=u.default.getCollectionsInStateDirty();__LOG__(2)`syncd: dirty collections: ${e}`;const t=new Set(e.filter((e=>!I.has(e))));if(0===t.size)return __LOG__(2)`syncd: no collections to sync`,Promise.resolve();let n=[];try{I=new Set([...Array.from(I),...Array.from(t)]),__LOG__(2)`syncd: initiate server sync`,n=yield(0,g.serverSync)(Array.from(t)),__LOG__(2)`syncd: server sync successful`;const e=n.filter((e=>e.state===d.CollectionState.ErrorRetry));e.length>0&&(O=e[0].serverBackoff||0,v=0),G(n)}catch(e){__LOG__(2)`syncd: exception during sync(): ${e}`,u.default.moveCollectionsToFiniteRetry(Array.from(t))}finally{__LOG__(2)`syncd: cleanup after sync()`,u.default.persistToDb(),I=new Set(Array.from(I).filter((e=>!t.has(e)))),U(),yield(0,o.getDbImpls)().handleSyncCompleted(n)}}))).apply(this,arguments)}function B(){if((0,_.isSyncdDisabled)())return;const e=new Set(u.default.getCollectionsInStateRetry());var t,n;0!==e.size&&(m=setTimeout((0,i.default)((function*(){try{C=!0,v+=1,__LOG__(2)`syncd: initiate server sync retry`;const t=yield(0,g.serverSync)(Array.from(e));__LOG__(2)`syncd: server sync retry successful`,G(t)}catch(t){__LOG__(2)`syncd: exception during handleRetry(): ${t}`,u.default.moveCollectionsToFiniteRetry(Array.from(e))}finally{__LOG__(2)`syncd: cleanup after handleRetry()`,function(){const e=u.default.getExpiredCollections();e.length>0&&(u.default.moveCollectionsToFatal(e),__LOG__(4,void 0,new Error,!0)`syncd: fatal error: expired collections`,SEND_LOGS("syncd: fatal error: expired collections"),(0,E.reportSyncdFatalError)(E.SyncdFatalErrorType.TOO_MANY_INTERNAL_SERVER_ERRORS_IN_7D))}(),u.default.persistToDb(),C=!1,U()}})),(t=v,n=O,Math.min(Math.max(2**t*1e3,n),T))))}function U(){__LOG__(2)`syncd: state machine tick`,u.default.getCollectionsInStateDirty().length>0&&(y=new Set(Array.from(y).filter((e=>I.has(e)))),L());const e=u.default.getCollectionsInStateRetry();if(e.length>0){if(C)return void __LOG__(2)`syncd: retry is in flight`;null!=m&&clearTimeout(m),y=new Set(Array.from(y).filter((t=>!e.includes(t)))),B()}u.default.getCollectionsInStateFatal().length>0&&(0,o.getDbImpls)().handleSyncdFatal({collections:u.default.getCollectionsInStateFatal()})}function G(e){return e.forEach((e=>e.state!==d.CollectionState.Success||y.has(e.name)?e.state===d.CollectionState.ErrorRetry?((0,f.reportSyncdCriticalBootstrapStage)(f.SyncdCriticalBootstrapStageType.ENTERED_RETRY_MODE),u.default.moveCollectionsToFiniteRetry([e.name])):e.state===d.CollectionState.ErrorFatal?u.default.moveCollectionsToFatal([e.name]):e.state!==d.CollectionState.Blocked||y.has(e.name)?void 0:u.default.moveCollectionsToBlocked([e.name]):u.default.moveCollectionsToUpToDate([e.name])))}function k(){return Y.apply(this,arguments)}function Y(){return(Y=(0,i.default)((function*(){__LOG__(2)`syncd: syncPendingMutationsAndBlockedCollections`;const e=yield(0,l.getAllSyncPendingMutationsInTransaction)(),t=u.default.getCollectionsInStateBlocked();u.default.moveCollectionsToDirty(t);const n=e.map((e=>e.collection)).concat(t);n.length>0&&(__LOG__(2)`syncd: syncPendingMutationsAndBlockedCollections: [${n}]`,P(n))}))).apply(this,arguments)}function F(){return(F=(0,i.default)((function*(){yield(0,A.applyAllOrphansAndUnsupported)(),__LOG__(2)`syncd: syncing pending mutations and blocked collections due to app resume`,yield k()}))).apply(this,arguments)}},93771:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.checkLtHash=function(){return L.apply(this,arguments)},t.computeLtHash=R,t.computeLtHashAndValidatePatch=function(){return y.apply(this,arguments)},t.computeLtHashAndValidateSnapshot=function(){return I.apply(this,arguments)},t.computeOutgoingSnapshotAndPatchMacs=function(){return M.apply(this,arguments)},t.logMacsInSnapshot=G;var i=r(n(11504)),o=n(58117),a=n(95124),s=n(9093),l=n(72279),c=n(81665),u=n(91897),d=n(3537),_=n(14381),p=n(65817),f=n(57963),E=n(17760),A=n(30756),g=n(948),h=n(99187),S=n(60826);function T(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="string"==typeof e?e:(0,f.arrayBufferToHexPadded)(e),i="string"==typeof t?t:(0,f.arrayBufferToHexPadded)(t),o=n?-16:0;return`${r.slice(o)}:${i.slice(o)}`}const m=new TextDecoder;function I(){return(I=(0,i.default)((function*(e,t){const{mac:n,version:r,keyId:i,records:o}=t,s=yield(0,A.getKeyData)(i.id);if(!s)throw new E.SyncdMissingKeyError;const l=new Map(o.map((e=>[(0,f.arrayBufferToHexPadded)(e.index.blob),(0,p.valueMacFromIndexAndValueCipherText)(e.value.blob)])));__LOG__(2)`syncd:
${e} snapshot macsToAdd:
    ${Array.from(l.entries()).map((e=>{let[t,n]=e;return T(t,n)})).join("\n\t")}`;const c=yield a.LT_HASH_ANTI_TAMPERING.add(a.EMPTY_LT_HASH,Array.from(l.values())),{snapshotMacKey:u}=yield(0,p.generateEncryptionKeys)(s),d=(0,f.to64BitNetworkOrder)(r.version),_=(0,f.toUtf8)(e).buffer;return __LOG__(2)`syncd: validating snapshot mac for ${e} snapshot v${r.version}:
ltHash: ${(0,f.arrayBufferToHexPadded)(c)}
encoded version: ${(0,f.arrayBufferToHexPadded)(d)}
encoded collection: ${(0,f.arrayBufferToHexPadded)(_)}
expected snapshotMAC: ${(0,f.arrayBufferToHexPadded)(n)}`,yield O(e,n,u,c,d,_,!0,o.length,t.version.version),c}))).apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e,t,n){const{version:r,mutations:o,snapshotMac:a,patchMac:s,keyId:l}=t,c=l.id,u=yield(0,A.getKeyData)(c);if(!u)throw new E.SyncdMissingKeyError;const{snapshotMacKey:_,patchMacKey:h}=yield(0,p.generateEncryptionKeys)(u),S=o.map((e=>({operation:e.operation,indexMac:e.record.index.blob,valueMac:(0,p.valueMacFromIndexAndValueCipherText)(e.record.value.blob)}))),m=yield R(e,S,n),I=(0,f.to64BitNetworkOrder)(r.version),y=(0,f.toUtf8)(e).buffer;__LOG__(2)`syncd: validating snapshot and patch mac for ${e} v${r.version}:
expected snapshotMAC: ${(0,f.arrayBufferToHexPadded)(a)}
expected patchMAC: ${(0,f.arrayBufferToHexPadded)(s)}
encoded version: ${(0,f.arrayBufferToHexPadded)(I)}
encoded collection: ${(0,f.arrayBufferToHexPadded)(y)}
key ID: ${(0,f.arrayBufferToHexPadded)((0,g.fromSyncKeyId)(c))}`;try{yield N(e,s,h,a,S.map((e=>e.valueMac)),I,y,o.length,r.version),yield O(e,a,_,m,I,y,!1,o.length,r.version)}catch(e){throw yield function(){return C.apply(this,arguments)}(),e}return m;function C(){return(C=(0,i.default)((function*(){const t=yield G(e,!1),n=new Map(t.map((e=>{let{indexMac:t,valueMac:n}=e;return[(0,f.arrayBufferToHexPadded)(t),(0,f.arrayBufferToHexPadded)(n)]})));__LOG__(2)`syncd: error on incoming records:
\t${S.map((e=>{let{operation:t,indexMac:r,valueMac:i}=e;return`${t===d.SyncdMutation$SyncdOperation.SET?"set":"remove"} | ${T(r,i,!1)} | ${n.has((0,f.arrayBufferToHexPadded)(r))?"found":"did not find"} indexMAC in the above logged macs`})).join("\n\t")}`}))).apply(this,arguments)}}))).apply(this,arguments)}function C(){return v.apply(this,arguments)}function v(){return(v=(0,i.default)((function*(e,t){const n=yield(0,l.getCollectionVersionInTransaction)(e).then((e=>{var t;return null!==(t=null==e?void 0:e.version)&&void 0!==t?t:0}));if(n!==t-1){const r=n>t-1?"greater-than-expected":"less-than-expected";throw __LOG__(3,void 0,void 0,!0)`syncd: ${e} received patch v${t} !== latest local version (v${n}) + 1`,SEND_LOGS(`syncd-version-check-error-local-version-${r}`),new E.SyncdRetryableError(`syncd-version-check-error-local-version-${r}`)}const r=yield(0,l.getCollectionVersionLtHashInTransaction)(e);if((0,s.arrayBuffersEqual)(r,a.EMPTY_LT_HASH)&&1!==t)throw __LOG__(3,void 0,void 0,!0)`syncd: empty local lthash found when processing ${e} patch v${t}`,SEND_LOGS("syncd-empty-lthash-on-mac-mismatch"),new E.SyncdRetryableError("empty lthash")}))).apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return(P=(0,i.default)((function*(e,t,n,r,i,a,c,u,d){var _;const f=(0,o.getConfig)().syncdShouldNotFatalOnSnapshotMacMismatchInPatches()&&!c,A=null!==(_=yield(0,l.getIsCollectionInMacMismatchFatalInTransaction)(e))&&void 0!==_&&_;if(f&&A)return void __LOG__(2)`syncd: collection ${e} is already in snapshot mac mismatch so not checking again`;const g=yield(0,p.generateSnapshotMac)(n,r,i,a);if(!(0,s.arrayBuffersEqual)(g,t)){__LOG__(3,void 0,void 0,!0)`syncd: unable to validate snapshot mac.`,SEND_LOGS("syncd: unable to validate snapshot mac."),c||(yield C(e,d));const t=c?h.SyncdFatalErrorType.SNAPSHOT_MAC_MISMATCH_IN_SNAPSHOT:h.SyncdFatalErrorType.SNAPSHOT_MAC_MISMATCH_IN_PATCH;if((0,h.reportSyncdFatalError)(t,e,u,d,!f),f)return yield(0,l.updateIsCollectionInMacMismatchFatalInTransaction)(e),void __LOG__(2)`syncd: skip fatal after snapshot mac mismatch for collection ${e}`;throw new E.SyncdFatalError("unable to validate snapshot mac")}}))).apply(this,arguments)}function N(){return b.apply(this,arguments)}function b(){return(b=(0,i.default)((function*(e,t,n,r,i,o,a,l,c){const u=yield(0,p.generatePatchMac)(n,r,i,o,a);if(!(0,s.arrayBuffersEqual)(u,t))throw yield C(e,c),(0,h.reportSyncdFatalError)(h.SyncdFatalErrorType.MAC_MISMATCH_PATCH,e,l,c),__LOG__(3,void 0,void 0,!0)`syncd: unable to validate patch mac.`,SEND_LOGS("syncd: unable to validate patch mac."),new E.SyncdFatalError("unable to validate patch mac")}))).apply(this,arguments)}function M(){return(M=(0,i.default)((function*(e,t,n,r){const i=(yield(0,l.getCollectionVersionInTransaction)(e).then((e=>{var t;return null!==(t=null==e?void 0:e.version)&&void 0!==t?t:_.DEFAULT_COLLECTION_VERSION})))+1,{patchMacKey:o,snapshotMacKey:a}=yield(0,p.generateEncryptionKeys)(r),s=(0,f.to64BitNetworkOrder)(i),c=(0,f.toUtf8)(e).buffer,u=yield(0,p.generateSnapshotMac)(a,t,s,c),d=yield(0,p.generatePatchMac)(o,u,n.map((e=>e.valueMac)),s,c);return __LOG__(2)`syncd: computing snapshot and patch macs for outgoing patch ${e} v${i}:
encoded version: ${(0,f.arrayBufferToHexPadded)(s)}
encoded collection: ${(0,f.arrayBufferToHexPadded)(c)}
snapshotMAC: ${(0,f.arrayBufferToHexPadded)(u)}
patchMAC: ${(0,f.arrayBufferToHexPadded)(d)}`,{snapshotMac:u,patchMac:d}}))).apply(this,arguments)}function R(){return D.apply(this,arguments)}function D(){return(D=(0,i.default)((function*(e,t,n){const r=yield(0,l.getCollectionVersionLtHashInTransaction)(e),s=yield B(t.map((e=>e.indexMac))),c=new Map,_=new Map,p=new Map;yield(0,u.promiseEach)(t,function(){var t=(0,i.default)((function*(t){const{indexMac:r,valueMac:i,operation:a}=t,l=m.decode(r),u=s.get(l);if(u)a===d.SyncdMutation$SyncdOperation.REMOVE?_.set((0,f.arrayBufferToHexPadded)(r),u):p.set((0,f.arrayBufferToHexPadded)(r),u);else if(a===d.SyncdMutation$SyncdOperation.REMOVE){const t=yield function(e){if(null==n)return Promise.resolve(null);return n(e)}(r);var E,A;if(null!=t)_.set((0,f.arrayBufferToHexPadded)(r),t),__LOG__(3,void 0,void 0,!0,["non-sad"])`syncd: had to use fallbackQueryForValueMac in collection ${e} for platform ${null!==(E=(0,o.getConfig)().primaryPlatform())&&void 0!==E?E:"[empty]"}: ${(0,f.arrayBufferToHexPadded)(r).slice(-16)}
}`,SEND_LOGS("syncd: fallback query",1,"non-sad");else(0,S.reportSyncdCriticalEvent)(S.SyncdCriticalEventType.MISSING_MUTATION_TO_REMOVE,e),__LOG__(3)`syncd: missing indexMAC in sync-actions table for REMOVE mutation in collection ${e} for platform ${null!==(A=(0,o.getConfig)().primaryPlatform())&&void 0!==A?A:"[empty]"}:
${(0,f.arrayBufferToHexPadded)(r).slice(-16)}`}a===d.SyncdMutation$SyncdOperation.SET&&c.set((0,f.arrayBufferToHexPadded)(r),i)}));return function(){return t.apply(this,arguments)}}());const E=yield a.LT_HASH_ANTI_TAMPERING.subtractThenAdd(r,Array.from(c.values()),Array.from(_.values()).concat(Array.from(p.values())));return __LOG__(2)`syncd: computing ltHash for ${e}:
currentLtHash: ${(0,f.arrayBufferToHexPadded)(r)}
macsToAdd:
    ${Array.from(c.entries()).map((e=>{let[t,n]=e;return T(t,n)})).join("\n\t")}
macsToRemove:
    ${Array.from(_.entries()).map((e=>{let[t,n]=e;return T(t,n)})).join("\n\t")}
macsToOverwrite (also remove):
    ${Array.from(p.entries()).map((e=>{let[t,n]=e;return T(t,n)})).join("\n\t")}
newLtHash: ${(0,f.arrayBufferToHexPadded)(E)}`,E}))).apply(this,arguments)}function L(){return(L=(0,i.default)((function*(){const e=yield(0,o.runInTransaction)({SyncActionStore:!0,CollectionVersionStore:!0},function(){var e=(0,i.default)((function*(e){let{SyncActionStore:t,CollectionVersionStore:n}=e;const r=yield n.getAll();return Promise.all(r.map(function(){var e=(0,i.default)((function*(e){let{collection:n,ltHash:r}=e;return{collection:n,ltHash:r,mutations:yield t.getByCollections([n])}}));return function(){return e.apply(this,arguments)}}()))}));return function(){return e.apply(this,arguments)}}());yield Promise.all(e.map(function(){var e=(0,i.default)((function*(e){let{collection:t,ltHash:n,mutations:r}=e;const i=yield w(r);(0,s.arrayBuffersEqual)(n,i)||(__LOG__(4,!0,new Error,!0)`syncd: failed LtHash check for ${t}`,SEND_LOGS("LtHash check failed"))}));return function(){return e.apply(this,arguments)}}()))}))).apply(this,arguments)}function w(e){const t=new Map(e.map((e=>[(0,f.arrayBufferToHexPadded)(e.indexMac),e.valueMac])));return a.LT_HASH_ANTI_TAMPERING.add(a.EMPTY_LT_HASH,Array.from(t.values()))}function B(){return U.apply(this,arguments)}function U(){return(U=(0,i.default)((function*(e){const t=yield(0,c.getSyncActionsByIndexMacsInTransaction)(e);return new Map(t.map((e=>[m.decode(e.indexMac),e.valueMac])))}))).apply(this,arguments)}function G(){return k.apply(this,arguments)}function k(){return(k=(0,i.default)((function*(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=t?20:1;__LOG__(2)`syncd: logMacs: ${e}: prepare`;const[r,i]=yield(0,o.runInTransaction)({SyncActionStore:!0,CollectionVersionStore:!0},(t=>{let{SyncActionStore:n,CollectionVersionStore:r}=t;return Promise.all([r.get(e).then((e=>null==e?void 0:e.version)),n.getByCollections([e])])}));if(__LOG__(2)`syncd: current snapshot ${e} v${r} with ${i.length} mutations:`,t&&i.length>100)return i;const a=i.reduce(((e,r,i)=>(i%n==0&&e.push(""),e[e.length-1]+=T(r.indexMac,r.valueMac,t)+" | ",e)),[]);return a.forEach((e=>__LOG__(2)`|${e}`)),i}))).apply(this,arguments)}},14381:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncModelType=t.SyncDataType=t.SyncActionState=t.MIN_PATCH_SIZE=t.MIN_INLINE_MUTATIONS=t.MAX_PATCH_SIZE=t.MAX_INLINE_MUTATIONS=t.LABEL_ASSOCIATION_SYNC_VERSION=t.FINITE_FAILURE_EXPIRY_DURATION=t.DEFAULT_COLLECTION_VERSION=t.ConflictResolutionState=t.CollectionSyncState=t.CollectionState=t.CollectionName=t.CHAT_ASSIGNMENT_SYNC_VERSION=t.BACKOFF_MIN_TIMEOUT=t.BACKOFF_MAX_TIMEOUT=t.BACKOFF_BASE=t.Actions=void 0;var r=n(29987);t.BACKOFF_MIN_TIMEOUT=1e3;t.BACKOFF_MAX_TIMEOUT=36e5;t.BACKOFF_BASE=2;const i=2*r.DAY_MILLISECONDS;t.FINITE_FAILURE_EXPIRY_DURATION=i;t.MIN_INLINE_MUTATIONS=100;t.MAX_INLINE_MUTATIONS=2e3;t.MIN_PATCH_SIZE=10;t.MAX_PATCH_SIZE=100;t.DEFAULT_COLLECTION_VERSION=0;t.LABEL_ASSOCIATION_SYNC_VERSION=3;t.CHAT_ASSIGNMENT_SYNC_VERSION=7;const o=n(54302)({Star:"star",Contact:"contact",Mute:"mute",PinDEPRECATED:"pin",Pin:"pin_v1",SettingPushName:"setting_pushName",LabelEdit:"label_edit",LabelMessage:"label_message",LabelJid:"label_jid",QuickReply:"quick_reply",LocaleSetting:"setting_locale",Archive:"archive",MarkChatAsRead:"markChatAsRead",ClearChat:"clearChat",DeleteMessageForMe:"deleteMessageForMe",Sentinel:"sentinel",UnarchiveChatsSetting:"setting_unarchiveChats",DeleteChat:"deleteChat",AndroidUnsupportedActions:"android_unsupported_actions",PrimaryFeature:"primary_feature",Subscription:"subscription",Nux:"nux",Agent:"deviceAgent",TimeFormat:"time_format",UserStatusMute:"userStatusMute",PrimaryVersion:"primary_version",RemoveRecentSticker:"removeRecentSticker",ChatAssignment:"agentChatAssignment",ChatAssignmentOpenedStatus:"agentChatAssignmentOpenedStatus",FavoriteSticker:"favoriteSticker",PnForLidChat:"pnForLidChat",ShareOwnPn:"shareOwnPn",ExternalWebBeta:"external_web_beta",MarketingMessage:"marketingMessage",MarketingMessageBroadcast:"marketingMessageBroadcast"});t.Actions=o;const a=n(54302)({Regular:"regular",RegularLow:"regular_low",RegularHigh:"regular_high",CriticalBlock:"critical_block",CriticalUnblockLow:"critical_unblock_low"});t.CollectionName=a;const s=n(54302).Mirrored(["Success","SuccessHasMore","Conflict","ConflictHasMore","ErrorRetry","ErrorFatal","Blocked"]);t.CollectionState=s;const l=n(54302).Mirrored(["UpToDate","Dirty","FailingFiniteRetry","Fatal","Blocked"]);t.CollectionSyncState=l;const c=n(54302).Mirrored(["Success","Malformed","Orphan","Unsupported","Skipped","Failed"]);t.SyncActionState=c;const u=n(54302).Mirrored(["Msg","Chat","Agent","ChatAssignment","UserStatusMute"]);t.SyncModelType=u;const d=n(54302).Mirrored(["ApplyRemoteAndDropLocal","SkipRemote","SkipRemoteAndDropLocal"]);t.ConflictResolutionState=d;const _=n(54302).Mirrored(["Patch","Snapshot","Local"]);t.SyncDataType=_},93974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSyncdDisabled=function(){return(0,r.getConfig)().syncdDisabled()};var r=n(58117)},17760:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncdRetryableError=t.SyncdMissingKeyError=t.SyncdFatalError=void 0;class n extends Error{constructor(){super(...arguments),this.name="SyncdMissingKeyError"}}t.SyncdMissingKeyError=n;class r extends Error{constructor(e,t){super(e),this.name="SyncdRetryableError",this.backoff=t,this.message=e}}t.SyncdRetryableError=r;class i extends Error{constructor(e){super(e),this.name="SyncdFatalError",this.message=e}}t.SyncdFatalError=i},97578:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.applyAllOrphansAndUnsupported=function(){return A.apply(this,arguments)},t.checkOrphanAgents=function(){return g.apply(this,arguments)},t.checkOrphanChatAssignments=function(){return h.apply(this,arguments)},t.checkOrphanChats=_,t.checkOrphanMessages=u,t.checkOrphanMutations=function(){return c.apply(this,arguments)},t.checkOrphanUserStatusMutes=function(){return S.apply(this,arguments)};var i=r(n(11504)),o=n(81665),a=n(89704),s=n(14381),l=n(93974);function c(){return(c=(0,i.default)((function*(e,t){if((0,l.isSyncdDisabled)())return Promise.resolve();yield Promise.all([u(e),_(t)])}))).apply(this,arguments)}function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e){yield f(e,s.SyncModelType.Msg)}))).apply(this,arguments)}function _(){return p.apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e){yield f(e,s.SyncModelType.Chat)}))).apply(this,arguments)}function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e,t){if((0,l.isSyncdDisabled)())return Promise.resolve();const n=yield(0,o.getSyncActionsByModelInfosInTransaction)(e.map((e=>[e,t,s.SyncActionState.Orphan])));yield(0,a.applyIndividualMutations)(n)}))).apply(this,arguments)}function A(){return(A=(0,i.default)((function*(){if((0,l.isSyncdDisabled)())return Promise.resolve();__LOG__(2)`syncd: start applyAllOrphansAndUnsupported`;const e=yield(0,o.getSyncActionsByActionStatesInTransaction)([s.SyncActionState.Orphan,s.SyncActionState.Unsupported]);yield(0,a.applyIndividualMutations)(e),__LOG__(2)`syncd: end applyAllOrphansAndUnsupported`}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){yield f(e,s.SyncModelType.Agent)}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){yield f(e,s.SyncModelType.ChatAssignment)}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){yield f(e,s.SyncModelType.UserStatusMute)}))).apply(this,arguments)}},39845:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.syncResponseParser=void 0;var i=r(n(73982)),o=n(14381),a=n(27266),s=n(17760),l=n(99187);const c=new(n(8748).WapParser)("syncResponseParser",(e=>{__LOG__(2)`syncd: start parsing syncd collections`;const t=[];return e.child("sync").mapChildrenWithTag("collection",(e=>{const n=(0,i.default)({},null),r=o.CollectionName.cast(e.attrString("name"));if(!r)throw new s.SyncdFatalError("invalid collection name");n.name=r,n.state=function(e,t){if(!e.hasAttr("type")||"error"!==e.attrString("type"))return e.hasAttr("has_more_patches")?(__LOG__(2)`syncd: collection ${t} got server code has_more_patches`,o.CollectionState.SuccessHasMore):(__LOG__(2)`syncd: collection ${t} did not get server error`,o.CollectionState.Success);{const n=e.child("error"),r=n.attrString("code"),i=n.attrString("text");switch(__LOG__(2)`syncd: collection ${t} got server error: ${r}`,r){case"409":return e.hasAttr("has_more_patches")?o.CollectionState.ConflictHasMore:o.CollectionState.Conflict;case"400":return(0,l.reportSyncdFatalError)(l.SyncdFatalErrorType.XMPP_BAD_REQUEST_FOR_COLLECTION),__LOG__(4,void 0,new Error,!0)`syncd: fatal error: collection ${String(t)} throws ${i}`,SEND_LOGS(`syncd: fatal error 400: collection ${String(t)}`),o.CollectionState.ErrorFatal;case"404":return(0,l.reportSyncdFatalError)(l.SyncdFatalErrorType.XMPP_NOT_FOUND_FOR_COLLECTION),__LOG__(4,void 0,new Error,!0)`syncd: fatal error 404: collection ${String(t)} throws ${i}`,SEND_LOGS(`syncd: fatal error: collection ${String(t)}`),o.CollectionState.ErrorFatal;default:return __LOG__(3,void 0,void 0,!0)`syncd: retryable error: collection ${String(t)} throws ${i}`,SEND_LOGS(`syncd: retryable error: collection ${String(t)}`),o.CollectionState.ErrorRetry}}}(e,n.name),e.hasAttr("version")&&(n.version=parseInt(e.attrString("version"),10)),e.hasChild("patches")&&(n.patches=e.child("patches").mapChildrenWithTag("patch",(e=>(0,a.decodeSyncdPatch)(r,e.contentBytes())))),e.hasChild("snapshot")&&(n.snapshot=(0,a.decodeExternalBlobReference)(r,e.child("snapshot").contentBytes())),t.push(n),null==n.version&&null==n.patches&&null==n.snapshot&&__LOG__(2)`syncd: collection ${r} has no version, patches or snapshot`,__LOG__(2)`syncd: successfully parsed collection ${r}`})),t}));t.syncResponseParser=c},33135:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.serverSync=function(){return S.apply(this,arguments)};var i=r(n(11504)),o=n(19026),a=n(72279),s=n(46666),l=n(89704),c=n(14381),u=n(17760),d=n(48785),_=n(99187),p=n(60826),f=r(n(91236)),E=n(39845),A=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(91002)),g=n(29987);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function S(){return(S=(0,i.default)((function*(e){let t=[],n=[...e],r=0;for(;(r<5||n.length>0&&r<500)&&0!==n.length;){const{doneCollections:e,refetchCollections:i}=yield T(n);n=i,t=t.concat(e),r++}return n.length>0&&(__LOG__(4,void 0,new Error,!0,["syncd"])`syncd: reached max iterations for collections: ${n}`,SEND_LOGS("syncd: max iteration",1,"syncd"),t=t.concat(n.map((e=>({state:c.CollectionState.ErrorRetry,name:e}))))),t}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){if(0===e.length)return{doneCollections:[],refetchCollections:[]};yield v(e);try{const{collectionDetails:t,localCollectionVersions:n,collectionsToUpload:r}=yield I(e);r.length>0&&__LOG__(2)`syncd: deferred local mutation upload for ${r}`,__LOG__(2)`syncd: local collection versions:`,n.forEach(((e,t)=>{__LOG__(2)`\n\t${t} v${null!=e?e:"(undefined)}"}`}));const o=[],u=[];t.forEach((e=>{switch(e.state){case c.CollectionState.ErrorRetry:case c.CollectionState.ErrorFatal:case c.CollectionState.Blocked:return void u.push(e);default:o.push(e)}e.state!==c.CollectionState.Conflict&&e.state!==c.CollectionState.ConflictHasMore||A.incConflict()})),__LOG__(2)`syncd: start apply collections: ${o.map((e=>e.name))}`;const d=new p.SyncdEventFlow,_=yield Promise.all(o.map((e=>(0,l.applyAppStateSyncResponse)(e,n.get(e.name),d))));d.end(),__LOG__(2)`syncd: end apply collections: ${o.map((e=>e.name))}`;const f=[];return yield Promise.all(_.map(function(){var e=(0,i.default)((function*(e){if(e.state===c.CollectionState.Conflict){(yield(0,s.getSyncPendingMutationsByCollectionInTransaction)(e.name)).length>0?f.push(e.name):(e.state=c.CollectionState.Success,u.push(e))}else e.state===c.CollectionState.ConflictHasMore||e.state===c.CollectionState.SuccessHasMore||e.state===c.CollectionState.Success&&r.some((t=>t===e.name))?f.push(e.name):(u.push(e),yield(0,a.updateLastSuccessfulSyncEndTimeInTransaction)(e.name))}));return function(){return e.apply(this,arguments)}}())),{doneCollections:u,refetchCollections:f}}catch(t){if(t instanceof u.SyncdFatalError){__LOG__(4,void 0,new Error,!0)`syncd: fatal error: syncd global throws ${t.message}`,SEND_LOGS(`syncd: fatal error: syncd global throws ${t.message}`);return{doneCollections:e.map((e=>({state:c.CollectionState.ErrorFatal,name:e}))),refetchCollections:[]}}__LOG__(3,void 0,void 0,!0)`syncd: retryable error: syncd global throws ${t.message}`,SEND_LOGS(`syncd: retryable error: syncd global throws ${t.message}`);return{doneCollections:e.map((e=>({state:c.CollectionState.ErrorRetry,name:e,serverBackoff:t.errorBackoff}))),refetchCollections:[]}}}))).apply(this,arguments)}function I(){return y.apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e){const{syncIqNode:t,collectionWithPendingMutationsIds:n,collectionWithEncryptedMutations:r,localCollectionVersions:i,collectionsToSkip:a}=yield(0,f.default)(e);(0,d.reportSyncdCriticalBootstrapStage)(d.SyncdCriticalBootstrapStageType.REQUEST_BUILT),__LOG__(2)`syncd: sending sync request for collections: ${e.map((e=>{var t,r,o;return`\n\t${e} v${null!==(t=i.get(e))&&void 0!==t?t:"(undefined)"} ${(null!==(r=null===(o=n.get(e))||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0&&null!=i.get(e)?" with local changes":""}`}))}`;const s=yield(0,o.deprecatedSendIq)(t,E.syncResponseParser);if(__LOG__(2)`syncd: completed network operation for collections: ${e}`,(0,d.reportSyncdCriticalBootstrapStage)(d.SyncdCriticalBootstrapStageType.RESPONSE_RECEIVED),s.success){(0,d.reportSyncdCriticalBootstrapStage)(d.SyncdCriticalBootstrapStageType.RESPONSE_PARSED_VALID);const e=s.result;return __LOG__(2)`syncd: received sync response for collections: ${e.map((e=>{let t=`\n${e.name}`;return null!=e.version&&(t+=`\n\tupdated to version ${e.version}`),null!=e.snapshot&&(t+="\n\tcontains snapshot"),null!=e.patches&&(t+=`\n\tcontains ${e.patches.length} patches`),t}))}`,e.forEach((e=>{const t=n.get(e.name);t&&(e.syncedPendingMutationsId=t);const i=r.get(e.name);i&&(e.syncedEncryptedMutations=i)})),{collectionDetails:e,localCollectionVersions:i,collectionsToUpload:a}}const{errorCode:l,errorText:c,errorBackoff:u}=s;throw C(l,c,u)}))).apply(this,arguments)}function C(e,t,n){switch(e){case 400:return(0,_.reportSyncdFatalError)(_.SyncdFatalErrorType.XMPP_BAD_REQUEST_GLOBAL_ERROR),new u.SyncdFatalError(t);case 404:return(0,_.reportSyncdFatalError)(_.SyncdFatalErrorType.XMPP_NOT_FOUND_GLOBAL_ERROR),new u.SyncdFatalError(t);case 405:return(0,_.reportSyncdFatalError)(_.SyncdFatalErrorType.XMPP_BAD_METHOD_GLOBAL_ERROR),new u.SyncdFatalError(t);case 406:return(0,_.reportSyncdFatalError)(_.SyncdFatalErrorType.XMPP_NOT_ACCEPTABLE_GLOBAL_ERROR),new u.SyncdFatalError(t);default:return new u.SyncdRetryableError(t,n)}}function v(){return O.apply(this,arguments)}function O(){return(O=(0,i.default)((function*(e){try{const t=(yield(0,a.bulkGetCollectionVersionsInTransaction)(e)).filter(Boolean).map((e=>{var t;const n=(null!==(t=e.lastSyncAttemptStartTimes)&&void 0!==t?t:[]).slice(-4);return{collection:e.collection,lastSyncAttemptStartTimes:[...n,(0,g.unixTimeMs)()]}}));yield(0,a.bulkSetCollectionSyncAttemptStartTimesInTransaction)(t)}catch(e){__LOG__(4,void 0,new Error,!0,["syncd"])`syncd: cannot log collection sync start: ${e}`,SEND_LOGS("syncd: cannot log collection sync start",1,"syncd")}}))).apply(this,arguments)}},93895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncActionBase=void 0;var r=n(14381);t.SyncActionBase=class{getChatJidAndMessageKey(){}resolveConflicts(e,t){return t.timestamp>=e.timestamp?Promise.resolve(r.ConflictResolutionState.ApplyRemoteAndDropLocal):Promise.resolve(r.ConflictResolutionState.SkipRemote)}dropMutationDueToCrossIndexConflict(){return Promise.resolve(!1)}}},40084:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.buildIndex=s,t.buildMessageKey=function(e){let{remoteJid:t,id:n,fromMe:r,participant:i}=e;return[t,n,r?"1":"0",null==i||r?"0":i]},t.buildPendingMutation=function(e){let{action:t,indexArgs:n,collection:r,value:l,version:c,operation:u,timestamp:d}=e;return{collection:r,index:s(t,n),binarySyncAction:(0,a.encodeProtobuf)(o.SyncActionValueSpec,(0,i.default)((0,i.default)({},l),{},{timestamp:d})).readBuffer(),version:c,operation:u,timestamp:d,action:t}};var i=r(n(73982)),o=n(57754),a=n(32126);function s(e,t){return JSON.stringify([e,...t])}},17297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActionHandler=function(e){null==i&&(i=new Map((0,r.getConfig)().syncdActionHandlers().map((e=>[e.action,e]))));return i.get(e)},t.maxSupportedVersion=function(){null==o&&(o=Math.max(...(0,r.getConfig)().syncdActionHandlers().map((e=>e.version))));return o};var r=n(58117);let i=null,o=null},89704:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.applyAppStateSyncResponse=function(){return G.apply(this,arguments)},t.applyIndividualMutations=function(){return U.apply(this,arguments)};var i=r(n(73982)),o=r(n(11504)),a=n(58117),s=n(9093),l=r(n(82065)),c=n(72279),u=n(77395),d=n(81665),_=n(22101),p=r(n(49619)),f=n(3537),E=n(57754),A=n(93771),g=n(71809),h=n(37376),S=n(14381),T=n(42605),m=n(17760),I=n(17297),y=n(64041),C=n(48785),v=n(99187),O=n(60826),P=n(3582),N=n(37866),b=n(58247),M=r(n(66694)),R=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(91002)),D=n(29987),L=n(33655);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const B=new ArrayBuffer(128);function U(){return(U=(0,o.default)((function*(e){if(0===e.length)return Promise.resolve();const t=e.sort(((e,t)=>e.timestamp-t.timestamp));__LOG__(2)`syncd: start applyIndividualMutations`;const n=(0,g.syncActionsToDecryptedMutation)(t).reduce(((e,t)=>{var n;const r=null!==(n=e.get(t.collection))&&void 0!==n?n:[];return r.push(t),e.set(t.collection,r),e}),new Map),r=Array.from(n.keys()).map(function(){var e=(0,o.default)((function*(e){__LOG__(2)`syncd: apply individual mutations for collection ${e}`;const t=n.get(e);if(void 0===t)return;const{setMutationsToPersist:r,pendingMutationsToDrop:i}=yield ee(e,t,S.SyncDataType.Local,null),s=r.map((e=>({action:e.action,actionState:e.actionState,binarySyncData:e.binarySyncData,collection:e.collection,index:e.index,keyId:e.keyId,modelId:e.modelId,modelType:e.modelType,timestamp:e.timestamp,version:e.version})));__LOG__(2)`syncd: end apply individual mutations for collection ${e}`,yield(0,a.runInTransaction)({SyncActionStore:!0,PendingMutationStore:!0},function(){var e=(0,o.default)((function*(e){let{SyncActionStore:t,PendingMutationStore:n}=e;yield t.bulkUpdate(s),yield n.bulkRemove(i)}));return function(){return e.apply(this,arguments)}}()),__LOG__(2)`syncd: end update db after apply individual mutations for collection ${e}`}));return function(){return e.apply(this,arguments)}}());yield Promise.all(r),__LOG__(2)`syncd: end applyIndividualMutations`}))).apply(this,arguments)}function G(){return(G=(0,o.default)((function*(e,t,n){const{name:r,version:i,patches:o,snapshot:s,syncedPendingMutationsId:l,syncedEncryptedMutations:d}=e;__LOG__(2)`syncd: start applying collection ${r}`;try{var _,p;null==n||n.mark("external_mutations_download_start",{patchCount:null===(_=e.patches)||void 0===_?void 0:_.length,snapshotSizeBytes:null===(p=e.snapshot)||void 0===p?void 0:p.fileSizeBytes});const[f,E]=yield x(r,o,s,t);null==n||n.mark("external_mutations_download_end",{patchesWithMutationsCount:null==E?void 0:E.length,snapshotRecordsCount:null==f?void 0:f.records.length});const g=performance.now();if(null!=f)yield W(r,f,E,n),__LOG__(2)`syncd: ${r} snapshot and patches applied successfully`;else if(null!=E){const e=Math.min.apply(Math,E.map((e=>e.version.version)));if(null!=t&&e>t+1&&E.length>0){const n=yield(0,u.getAllMissingKeysInTransaction)();if(__LOG__(2)`syncd: missing keys: [${n.map((e=>e.keyHex+":"+e.timestamp))}]`,__LOG__(2)`syncd: has missing patches. collection: ${r}, localVersion: ${t},
minPatch: ${e}`,yield k(),__LOG__(4,void 0,new Error,!0)`syncd: has missing patches`,SEND_LOGS("syncd: has missing patches"),(0,a.getConfig)().syncdShouldFatalOnMissingPatch())throw(0,v.reportSyncdFatalError)(v.SyncdFatalErrorType.SERVER_DID_NOT_SEND_ALL_PATCHES,r,void 0,null!=t?t:0),new m.SyncdFatalError("syncd: has missing patches")}yield J(r,E,n),__LOG__(2)`syncd: ${r} patches applied successfully`}else null!=i?(yield F(r,i,l,d),__LOG__(2)`syncd: ${r} v${i} uploaded successfully`):((0,h.isBootstrap)(t)&&(yield(0,c.updateCollectionVersionAndLtHashInTransaction)(r,0,B)),__LOG__(2)`syncd: sync ${r} but there are no updates`);const S=Math.floor(performance.now()-g);return __LOG__(2)`syncd: applyAppStateSyncResponse: finished applying ${r} in ${S}ms`,(E||f)&&(0,h.isBootstrap)(t)&&!(0,h.isCriticalCollection)(r)&&(0,O.reportSyncdBootstrapDataApplied)(r,null!=f?O.SyncdBootstrapDataAppliedSnapshotUsed.SNAPSHOT_USED:O.SyncdBootstrapDataAppliedSnapshotUsed.SNAPSHOT_NOT_USED,S),yield(0,A.logMacsInSnapshot)(e.name),e}catch(e){const t=e.message;return e instanceof m.SyncdMissingKeyError?(__LOG__(3)`syncd: key error: ${r} missing keys`,{name:r,state:S.CollectionState.Blocked}):e instanceof m.SyncdFatalError?(__LOG__(4,void 0,new Error,!0)`syncd: fatal error: ${r} throws ${t}`,SEND_LOGS(`syncd: fatal error: ${String(r)} throws ${t}`),{name:r,state:S.CollectionState.ErrorFatal}):(__LOG__(3,void 0,void 0,!0)`syncd: retryable error: ${r} throws ${t}`,SEND_LOGS(`syncd: retryable error: ${String(r)} throws ${t}`),{name:r,state:S.CollectionState.ErrorRetry})}}))).apply(this,arguments)}function k(){return Y.apply(this,arguments)}function Y(){return(Y=(0,o.default)((function*(){__LOG__(2)`syncd: missing patch info:`;(yield(0,c.getAllCollectionVersionsInTransaction)()).forEach((e=>{var t;const n=(null!==(t=e.lastSyncAttemptStartTimes)&&void 0!==t?t:[]).map((e=>(0,D.daysDiff)((0,D.unixTimeMs)(),e))),r=e.lastSuccessfulSyncEndTime,i=null==r?null:(0,D.daysDiff)((0,D.unixTimeMs)(),r);__LOG__(2)`${e.collection}:
lastSuccessfulSyncEndTime = ${e.lastSuccessfulSyncEndTime} (${i} days ago))
lastSyncAttemptStartTimes = ${e.lastSyncAttemptStartTimes}
lastSyncAttemptStartTimes by days ago: ${n}`}))}))).apply(this,arguments)}function F(){return K.apply(this,arguments)}function K(){return(K=(0,o.default)((function*(e,t,n,r){var i;yield(0,A.logMacsInSnapshot)(e);const s=r.map((e=>({indexMac:e.indexMac,valueMac:e.valueMac,operation:e.operation}))),l=yield(0,A.computeLtHash)(e,s),u=(0,g.encryptedUploadMutationsToSyncActions)(r.filter((e=>e.operation===f.SyncdMutation$SyncdOperation.SET)),S.SyncActionState.Success),d=null!==(i=yield(0,c.getCollectionVersionInTransaction)(e).then((e=>null==e?void 0:e.version)))&&void 0!==i?i:0;t!==d+1&&(__LOG__(4,void 0,new Error,!0)`syncd: _uploadSuccessful: unexpected server version (${t}) after patch upload, expected ${d+1}`,SEND_LOGS("syncd: unexpected server version after patch upload")),__LOG__(2)`syncd: _uploadSuccessful: write to db for ${e}`,yield(0,a.runInTransaction)({SyncActionStore:!0,PendingMutationStore:!0,CollectionVersionStore:!0},function(){var r=(0,o.default)((function*(r){let{SyncActionStore:i,PendingMutationStore:o,CollectionVersionStore:a}=r;yield i.bulkSet(u),yield o.bulkRemove(n),yield a.update(e,{version:t,ltHash:l})}));return function(){return r.apply(this,arguments)}}()),__LOG__(2)`syncd: end _uploadSuccessful for ${e}`}))).apply(this,arguments)}function x(){return H.apply(this,arguments)}function H(){return(H=(0,o.default)((function*(e,t,n,r){let i=Promise.resolve(),a=0;const s=(0,D.unixTimeMs)();if(null!=n){var l;const t=M.default.validateExternalBlobReference(e,n);a+=(0,_.numberOrThrowIfTooLarge)(null!==(l=t.fileSizeBytes)&&void 0!==l?l:0),__LOG__(2)`syncd: download snapshot for ${e}`,i=(0,P.downloadSnapshot)(e,t)}let c,u,d=Promise.resolve();if(null!=t&&t.length>0){const n=t.map((t=>M.default.validatePatchProtobuf(e,t)));d=Promise.all(n.map(function(){var t=(0,o.default)((function*(t){let n=t.mutations||[];const r=t.externalMutations;var i;r&&(__LOG__(2)`syncd: download patch for ${e}`,n=yield(0,P.downloadExternalPatch)(e,r),__LOG__(2)`syncd: ${e}'s external patch downloaded`,a+=(0,_.numberOrThrowIfTooLarge)(null!==(i=r.fileSizeBytes)&&void 0!==i?i:0));return{mutations:n,version:t.version,snapshotMac:t.snapshotMac,patchMac:t.patchMac,keyId:t.keyId,exitCode:t.exitCode,deviceIndex:t.deviceIndex}}));return function(){return t.apply(this,arguments)}}()))}try{[c,u]=yield Promise.all([i,d]),(0,h.isBootstrap)(r)&&(0,O.reportSyncdBootstrapAppStateDownloadMetric)({collection:e,downloadStartTs:s,downloadSize:a,isSuccess:"success"})}catch(t){throw(0,h.isBootstrap)(r)&&(0,O.reportSyncdBootstrapAppStateDownloadMetric)({collection:e,downloadStartTs:s,downloadSize:a,isSuccess:"failure"}),t}return[c,u]}))).apply(this,arguments)}function j(e){return{measuredComputeLtHashAndValidateSnapshot:function(){var t=(0,o.default)((function*(t,n){null==e||e.mark("anti_tampering_start",{source:S.SyncDataType.Snapshot});const r=yield(0,A.computeLtHashAndValidateSnapshot)(t,n);return null==e||e.mark("anti_tampering_end",{source:S.SyncDataType.Snapshot}),r}));return function(){return t.apply(this,arguments)}}(),measuredTryDecryptSnapshot:function(){var t=(0,o.default)((function*(t,n){null==e||e.mark("decryption_start",{source:S.SyncDataType.Snapshot});const r=yield(0,T.tryDecryptSnapshot)(t,n);return null==e||e.mark("decryption_end",{source:S.SyncDataType.Snapshot}),r}));return function(){return t.apply(this,arguments)}}()}}function V(e){return{measuredComputeLtHashAndValidatePatch:function(){var t=(0,o.default)((function*(t,n,r){null==e||e.mark("anti_tampering_start",{source:S.SyncDataType.Patch});const i=yield(0,A.computeLtHashAndValidatePatch)(t,n,r);return null==e||e.mark("anti_tampering_end",{source:S.SyncDataType.Patch}),i}));return function(){return t.apply(this,arguments)}}(),measuredTryDecryptPatch:function(){var t=(0,o.default)((function*(t,n){null==e||e.mark("decryption_start",{source:S.SyncDataType.Patch});const r=yield(0,T.tryDecryptPatch)(t,n);return null==e||e.mark("decryption_end",{source:S.SyncDataType.Patch}),r}));return function(){return t.apply(this,arguments)}}()}}function W(){return Q.apply(this,arguments)}function Q(){return(Q=(0,o.default)((function*(e,t,n,r){yield(0,A.logMacsInSnapshot)(e);try{const{measuredComputeLtHashAndValidateSnapshot:n,measuredTryDecryptSnapshot:i}=j(r);null==r||r.mark("apply_start",{source:S.SyncDataType.Snapshot,snapshotRecordsCount:t.records.length}),__LOG__(2)`syncd: start validate ${e}'s snapshot`;const s=yield n(e,t);__LOG__(2)`syncd: collection ${e}'s snapshot validated`;const l=yield i(e,t);__LOG__(2)`syncd: collection ${e}'s snapshot decrypted`,R.addMutationCount(t.records.length),(0,C.reportSyncdDecryptedMutations)(C.SyncdDecryptMutationsType.SNAPSHOT_MUTATIONS,l),(0,b.validateNoSameIndexForMultipleMutations)(e,l,S.SyncDataType.Snapshot);const c=t.version.version,{setMutationsToPersist:u,pendingMutationsToDrop:d}=yield ee(e,l,S.SyncDataType.Snapshot,r);__LOG__(2)`syncd: processed ${l.length} mutations in snapshot of collection ${e} v${c}`,__LOG__(2)`syncd: collection ${e}'s snapshot v${c} applied`,null==r||r.mark("update_DB_start",{source:S.SyncDataType.Snapshot,setMutationsToPersistCount:u.length,pendingMutationsToDropCount:d.length}),yield(0,a.runInTransaction)({SyncActionStore:!0,PendingMutationStore:!0,CollectionVersionStore:!0},function(){var t=(0,o.default)((function*(t){let{SyncActionStore:n,PendingMutationStore:r,CollectionVersionStore:i}=t;yield n.bulkSet(u),yield r.bulkRemove(d),yield i.update(e,{version:c,ltHash:s})}));return function(){return t.apply(this,arguments)}}()),null==r||r.mark("update_DB_end",{source:S.SyncDataType.Snapshot}),__LOG__(2)`syncd: completed applying snapshot for ${e}`,null==r||r.mark("apply_end",{source:S.SyncDataType.Snapshot,decryptedMutationsCount:l.length})}catch(n){throw n instanceof m.SyncdMissingKeyError&&(yield(0,y.handleMissingKeysInSnapshot)(e,t)),n}n&&(null==r||r.mark("apply_start",{source:S.SyncDataType.Patch,patchCount:n.length}),yield J(e,n,r),null==r||r.mark("apply_end",{source:S.SyncDataType.Patch,patchCount:n.length}))}))).apply(this,arguments)}function $(){return z.apply(this,arguments)}function z(){return(z=(0,o.default)((function*(e){if(e>(0,a.getConfig)().syncdMaxMutationsToProcessDuringResume()){const t=Date.now();__LOG__(2)`syncd: patches have ${e} mutations, wait for UI unblock`,yield(0,a.getDbImpls)().handleSyncDelayApplyingPatchUntilUIUnblocks(),__LOG__(2)`syncd: UI is unblocked, waited for ${Date.now()-t}ms`}}))).apply(this,arguments)}function J(){return q.apply(this,arguments)}function q(){return(q=(0,o.default)((function*(e,t,n){if(0===t.length)return __LOG__(2)`syncd: no patches for collection ${e}`,Promise.resolve();(0,b.validateNoDuplicatePatchVersionInCollection)(e,t),t.sort(((e,t)=>e.version.version>t.version.version?1:-1));try{const r=t.reduce(((e,t)=>e+t.mutations.length),0);yield $(r);for(let r=0;r<t.length;r++)yield X(e,t[r],n)}catch(n){throw n instanceof m.SyncdMissingKeyError&&(yield(0,y.handleMissingKeysInPatches)(e,t)),n}}))).apply(this,arguments)}function X(){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.default)((function*(e,t,n){if(yield(0,A.logMacsInSnapshot)(e),t.exitCode){var r;const n=t.exitCode.code;switch(n){case 100:(0,v.reportSyncdFatalError)(v.SyncdFatalErrorType.TERMINAL_PATCH_MISSING_DATA,e);break;case 101:(0,v.reportSyncdFatalError)(v.SyncdFatalErrorType.TERMINAL_PATCH_DESERIALIZATION_ERROR,e);break;default:(0,v.reportSyncdFatalError)(v.SyncdFatalErrorType.TERMINAL_PATCH_UNKNOWN,e)}throw new m.SyncdFatalError(`received terminal patch with exit code:  ${String(n)} text: ${String(null===(r=t.exitCode)||void 0===r?void 0:r.text)}  `)}yield(0,a.getDbImpls)().handleSyncBeforeApplyPatch(t);const i=t.mutations.filter((e=>e.operation===f.SyncdMutation$SyncdOperation.SET)).length,l=t.mutations.length-i;__LOG__(2)`syncd: applying patch ${e} v${t.version.version} from device ${t.deviceIndex}
SET count: ${i}
REMOVE count: ${l}`,0===i&&0===l&&(__LOG__(3,void 0,void 0,!0)`syncd: ${e}: empty patch found`,SEND_LOGS(`syncd: ${e}: empty patch found`));const{measuredComputeLtHashAndValidatePatch:c,measuredTryDecryptPatch:u}=V(n),_=yield c(e,t,(function(){return O.apply(this,arguments)}));__LOG__(2)`syncd: completed computeLtHashAndValidatePatch for ${e} v${t.version.version}`;const p=yield u(e,t);(0,C.reportSyncdDecryptedMutations)(C.SyncdDecryptMutationsType.PATCH_MUTATIONS,p),R.addMutationCount(p.length),(0,b.validateNoSameIndexForMultipleMutations)(e,p,S.SyncDataType.Patch);const E=oe(p),g=E.filter((e=>e.operation===f.SyncdMutation$SyncdOperation.REMOVE));yield ne(e,g),__LOG__(2)`syncd: completed _applyRemoveMutations for ${e} v${t.version.version}`;const h=E.filter((e=>e.operation===f.SyncdMutation$SyncdOperation.SET)),{setMutationsToPersist:T,pendingMutationsToDrop:I}=yield ee(e,h,S.SyncDataType.Patch,n);__LOG__(2)`syncd: processed ${p.length} mutations in patch version ${t.version.version} of collection ${e}`,null==n||n.mark("update_DB_start",{source:S.SyncDataType.Patch,setMutationsToPersistCount:T.length,pendingMutationsToDropCount:I.length});const y=t.version.version;function O(){return(O=(0,o.default)((function*(t){var n;return null===(n=(yield(0,d.getSyncActionsByCollectionsInTransaction)([e])).filter((e=>(0,s.arrayBuffersEqual)(t,e.indexMac))).pop())||void 0===n?void 0:n.valueMac}))).apply(this,arguments)}yield(0,a.runInTransaction)({SyncActionStore:!0,PendingMutationStore:!0,CollectionVersionStore:!0},function(){var t=(0,o.default)((function*(t){let{SyncActionStore:n,PendingMutationStore:r,CollectionVersionStore:i}=t;yield n.bulkRemove(g.map((e=>e.index))),yield n.bulkSet(T),yield r.bulkRemove(I),yield i.update(e,{version:y,ltHash:_})}));return function(){return t.apply(this,arguments)}}()),null==n||n.mark("update_DB_end",{source:S.SyncDataType.Patch}),__LOG__(2)`syncd: completed final transaction in _applyPatch for ${e} v${t.version.version}`}))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=(0,o.default)((function*(e,t,n,r){(0,C.reportSyncdCriticalBootstrapStage)(C.SyncdCriticalBootstrapStageType.ABOUT_TO_APPLY_MUTATIONS);const o=n===S.SyncDataType.Local?" (individual mutations)":"",a=[],s=(0,b.validateAndTypeSetMutations)(e,t),{supportedMutations:l,unsupportedMutations:c}=ae(e,s);c.forEach((e=>a.push((0,g.setMutationToSyncAction)(e,S.SyncActionState.Unsupported)))),null==r||r.mark("conflict_resolution_start",{source:n,collectionName:e,count:l.length});const{remoteMutationsToApply:u,pendingMutationsToDrop:d}=yield(0,N.resolveConflict)(e,l),_=l.filter((e=>!u.includes(e)));null==r||r.mark("conflict_resolution_end",{source:n,collectionName:e,apply:u.length,drop:_.length}),_.forEach((e=>a.push((0,g.setMutationToSyncAction)(e,S.SyncActionState.Skipped,e.actionName)))),null==r||r.mark("apply_set_mutations_start",{source:n,collectionName:e,count:u.length});const f=se(u);for(let t=0;t<f.length;t++){const n=f[t][0].actionHandler,r=f[t].map((e=>{let t;return t=e.binarySyncData?(0,p.default)((0,L.decodeProtobuf)(E.SyncActionDataSpec,e.binarySyncData).value,"decodeProtobuf(SyncActionDataSpec, m.binarySyncData).value"):(0,L.decodeProtobuf)(E.SyncActionValueSpec,e.binarySyncAction),{operation:"set",indexParts:e.indexArr,value:t,timestamp:e.timestamp}}));let i=[],s=!1;try{__LOG__(2)`syncd: before apply mutation batch for ${e}. mutations count: ${r.length}  ${o}`,i=yield n.applyMutations(r,{setMutationsPendingToPersist:a,allSupportedSetMutations:u})}catch(t){if(t instanceof m.SyncdFatalError||e===S.CollectionName.CriticalBlock)throw t;s=!0,__LOG__(3)`synd: catching error during _applySetMutations: ${t}`}__LOG__(2)`syncd: after apply mutation batch for ${e}  ${o}`;for(let e=0;e<f[t].length;e++){var A,h;const n=s?S.SyncActionState.Failed:i[e].actionState;a.push((0,g.setMutationToSyncAction)(f[t][e],n,f[t][e].actionName,s||null===(A=i[e].orphanModel)||void 0===A?void 0:A.modelId,s||null===(h=i[e].orphanModel)||void 0===h?void 0:h.modelType))}}const T=a.reduce(((e,t)=>{const n=t.actionState;return null==e[n]&&(e[n]=0),e[n]++,e}),{});return null==r||r.mark("apply_set_mutations_end",(0,i.default)({source:n,collectionName:e,count:u.length},T)),(0,C.reportSyncdCriticalBootstrapStage)(C.SyncdCriticalBootstrapStageType.APPLIED_MUTATIONS),__LOG__(2)`syncd: completed apply set mutations for ${e}  ${o}`,{setMutationsToPersist:a,pendingMutationsToDrop:d}}))).apply(this,arguments)}function ne(){return re.apply(this,arguments)}function re(){return(re=(0,o.default)((function*(e,t){const{supportedMutations:n}=ie(t),r=se(n);__LOG__(2)`syncd: before apply remove mutations for ${e}`;for(let t=0;t<r.length;t++){const n=r[t][0].actionHandler;yield n.applyMutations(r[t].map((t=>({operation:"remove",indexParts:le(e,t.index)}))),{setMutationsPendingToPersist:[],allSupportedSetMutations:[]})}__LOG__(2)`syncd: after apply remove mutations for ${e}`}))).apply(this,arguments)}function ie(e){const t=e.map((e=>{if(e.version>(0,I.maxSupportedVersion)())return{unsupported:e};const t=le(e.collection,e.index),n=S.Actions.cast(t[0]);if(!n)return __LOG__(3)`syncd: invalid action ${t[0]}`,{unsupported:e};const r=(0,I.getActionHandler)(n);if(!r)return __LOG__(3)`syncd: no handler for action ${n}`,{unsupported:e};return{supported:{collection:e.collection,index:e.index,indexMac:e.indexMac,keyId:e.keyId,binarySyncData:e.binarySyncData,valueMac:e.valueMac,version:e.version,indexArr:t,actionName:n,actionHandler:r}}})),n=[],r=[];return t.map((e=>{let{supported:t,unsupported:i}=e;null!=t?n.push(t):null!=i&&r.push(i)})),{supportedMutations:n,unsupportedMutations:r}}function oe(e){const t=e.filter((e=>e.operation===f.SyncdMutation$SyncdOperation.SET)),n=new Set(t.map((e=>e.index)));return e.filter((e=>e.operation===f.SyncdMutation$SyncdOperation.REMOVE)).forEach((e=>{n.has(e.index)||t.push(e)})),t}function ae(e,t){const n=t.map((t=>{if(t.version>(0,I.maxSupportedVersion)())return{unsupported:t};const n=le(e,t.index),r=S.Actions.cast(n[0]);if(!r)return __LOG__(3)`syncd: invalid action ${n[0]}`,{unsupported:t};const i=(0,I.getActionHandler)(r);return i?{supported:{collection:t.collection,index:t.index,indexMac:t.indexMac,keyId:t.keyId,timestamp:t.timestamp,binarySyncData:t.binarySyncData,valueMac:t.valueMac,version:t.version,indexArr:n,actionName:r,actionHandler:i}}:(__LOG__(3)`syncd: no handler for action ${r}`,{unsupported:t})})),r=[],i=[];return n.map((e=>{let{supported:t,unsupported:n}=e;null!=t?r.push(t):null!=n&&i.push(n)})),{supportedMutations:r,unsupportedMutations:i}}function se(e){return e.reduce(((e,t)=>(0!==e.length&&t.actionName===e[e.length-1][0].actionName?e[e.length-1].push(t):e.push([t]),e)),[])}function le(e,t){try{const e=JSON.parse(t);if(e.length<1)throw(0,l.default)();return e}catch(t){throw(0,v.reportSyncdFatalError)(v.SyncdFatalErrorType.INVALID_ACTION_INDEX,e),new m.SyncdFatalError("invalid action index")}}},71809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedUploadMutationsToSyncActions=function(e,t){return e.map((e=>{const n=s(e.binarySyncAction);return{index:e.index,action:e.action,binarySyncData:n,actionState:t,version:e.version,keyId:e.keyId,indexMac:e.indexMac,valueMac:e.valueMac,collection:e.collection,timestamp:e.timestamp}}))},t.setMutationToSyncAction=function(e,t,n,r,i){return{index:e.index,binarySyncData:e.binarySyncData,version:e.version,keyId:e.keyId,indexMac:e.indexMac,valueMac:e.valueMac,collection:e.collection,timestamp:e.timestamp,action:n,actionState:t,modelId:r,modelType:null!=i?i:void 0}},t.syncActionToSyncData=s,t.syncActionsToDecryptedMutation=function(e){return e.map((e=>({collection:e.collection,index:e.index,action:e.action,indexMac:e.indexMac,keyId:e.keyId,operation:r.SyncdMutation$SyncdOperation.SET,binarySyncData:e.binarySyncData,valueMac:e.valueMac,version:e.version})))};var r=n(3537),i=n(57754),o=n(33655),a=n(32126);function s(e){const t=(0,o.decodeProtobuf)(i.SyncActionValueSpec,e);return(0,a.encodeProtobuf)(i.SyncActionDataSpec,{value:t}).readBuffer()}},10772:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(11504)),o=n(72279),a=n(14381),s=n(29987);class l{static loadStatesFromDb(){var e=this;return(0,i.default)((function*(){(yield(0,o.getAllCollectionVersionsInTransaction)()).forEach((t=>e.collectionStates.set(t.collection,{collection:t.collection,state:t.state,finiteFailureStartTime:t.finiteFailureStartTime})))}))()}static persistToDb(){const e=[];return this.collectionStates.forEach((t=>e.push(t))),__LOG__(2)`syncd: state machine persistToDb. states:`,e.forEach((e=>{const t=null==e.finiteFailureStartTime?"":`(failure start: ${e.finiteFailureStartTime})`;__LOG__(2)`syncd: ${e.collection}: ${e.state} ${t}`})),(0,o.bulkUpdateCollectionVersionInTransaction)(e)}static clean(){this.collectionStates=new Map}static getCollectionState(e){const t=this.collectionStates.get(e);return t?t.state:(this.moveCollectionsToUpToDate([e]),a.CollectionSyncState.UpToDate)}static getCollectionsInStateDirty(){const e=[];return this.collectionStates.forEach((t=>{t.state===a.CollectionSyncState.Dirty&&e.push(t.collection)})),e}static getCollectionsInStateRetry(){const e=[];return this.collectionStates.forEach((t=>{t.state===a.CollectionSyncState.FailingFiniteRetry&&e.push(t.collection)})),e}static getCollectionsInStateFatal(){const e=[];return this.collectionStates.forEach((t=>{t.state===a.CollectionSyncState.Fatal&&e.push(t.collection)})),e}static getCollectionsInStateBlocked(){const e=[];return this.collectionStates.forEach((t=>{t.state===a.CollectionSyncState.Blocked&&e.push(t.collection)})),e}static moveCollectionsToUpToDate(e){e.forEach((e=>this.collectionStates.set(e,{collection:e,state:a.CollectionSyncState.UpToDate,finiteFailureStartTime:void 0})))}static moveCollectionsToDirty(e){e.forEach((e=>{var t;return this.collectionStates.set(e,{collection:e,state:a.CollectionSyncState.Dirty,finiteFailureStartTime:null===(t=this.collectionStates.get(e))||void 0===t?void 0:t.finiteFailureStartTime})}))}static moveCollectionsToFiniteRetry(e){e.forEach((e=>{var t,n;return this.collectionStates.set(e,{collection:e,state:a.CollectionSyncState.FailingFiniteRetry,finiteFailureStartTime:null!==(t=null===(n=this.collectionStates.get(e))||void 0===n?void 0:n.finiteFailureStartTime)&&void 0!==t?t:(0,s.unixTimeMs)()})}))}static moveCollectionsToFatal(e){e.forEach((e=>this.collectionStates.set(e,{collection:e,state:a.CollectionSyncState.Fatal})))}static moveCollectionsToBlocked(e){e.forEach((e=>{var t;return this.collectionStates.set(e,{collection:e,state:a.CollectionSyncState.Blocked,finiteFailureStartTime:null===(t=this.collectionStates.get(e))||void 0===t?void 0:t.finiteFailureStartTime})}))}static getExpiredCollections(){const e=[];return this.collectionStates.forEach((t=>{if(t.state===a.CollectionSyncState.FailingFiniteRetry){let n;null==t.finiteFailureStartTime?(n=1/0,__LOG__(3)`Collection ${t.collection} is in finite retry state with no failure start time`):n=t.finiteFailureStartTime;n+a.FINITE_FAILURE_EXPIRY_DURATION<(0,s.unixTimeMs)()&&e.push(t.collection)}})),e}static getCollectionMinFailureTime(){const e=Array.from(this.collectionStates.values()).filter((e=>e.state===a.CollectionSyncState.FailingFiniteRetry)).map((e=>e.finiteFailureStartTime)).filter(Boolean);return 0===e.length?null:Math.min(...e)}}t.default=l,l.collectionStates=new Map},27266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeExternalBlobReference=function(e,t){try{return(0,s.decodeProtobuf)(r.ExternalBlobReferenceSpec,t)}catch(t){throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.EXTERNAL_BLOB_REFERENCE_PROTOBUF_DESERIALIZATION_FAILED,e),new o.SyncdFatalError("external blob reference protobuf deserialization failed")}},t.decodeSyncActionData=function(e,t){try{return(0,s.decodeProtobuf)(i.SyncActionDataSpec,t)}catch(t){throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.ACTION_DATA_PROTOBUF_DESERIALIZATION_FAILED,e),new o.SyncdFatalError("action data protobuf deserialization failed")}},t.decodeSyncdMutations=function(e,t){try{return(0,s.decodeProtobuf)(r.SyncdMutationsSpec,t)}catch(t){throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MUTATIONS_PROTOBUF_DESERIALIZATION_FAILED,e),new o.SyncdFatalError("mutations protobuf deserialization failed")}},t.decodeSyncdPatch=function(e,t){try{return(0,s.decodeProtobuf)(r.SyncdPatchSpec,t)}catch(t){throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.PATCH_PROTOBUF_DESERIALIZATION_FAILED,e),new o.SyncdFatalError("patch protobuf deserialization failed")}},t.decodeSyncdSnapshot=function(e,t){try{return(0,s.decodeProtobuf)(r.SyncdSnapshotSpec,t)}catch(t){throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.SNAPSHOT_PROTOBUF_DESERIALIZATION_FAILED,e),new o.SyncdFatalError("snapshot protobuf deserialization failed")}};var r=n(3537),i=n(57754),o=n(17760),a=n(99187),s=n(33655)},42605:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.tryDecryptPatch=function(e,t){return Promise.all(t.mutations.map((t=>A(e,t.operation,t.record))))},t.tryDecryptSnapshot=function(e,t){return Promise.all(t.records.map((t=>A(e,a.SyncdMutation$SyncdOperation.SET,t))))};var i=r(n(11504)),o=n(9093),a=n(3537),s=n(65817),l=n(60782),c=n(57963),u=n(27266),d=n(17760),_=n(30756),p=n(99187),f=r(n(59596));const E=new TextDecoder;function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e,t,n){const r=n.keyId.id,i=yield(0,_.getKeyData)(r);if(!i){if(t===a.SyncdMutation$SyncdOperation.REMOVE)throw new d.SyncdFatalError("no key data for remove mutations");throw new d.SyncdMissingKeyError}const{syncAction:o,indexMac:s,valueMac:l,indexValueBinary:c}=yield h(e,r,i,t,n),{index:u,version:p}=o;return{index:E.decode(u),action:null,version:p,keyId:r,operation:t,indexMac:s,valueMac:l,collection:e,binarySyncData:c}}))).apply(this,arguments)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e,t,n,r,i){const a=i.index.blob,_=i.value.blob,E=(0,s.valueMacFromIndexAndValueCipherText)(_),A=(0,c.split)(_,l.IV_LENGTH,_.byteLength-l.MAC_LENGTH-l.IV_LENGTH),g=A[0],h=A[1],S=A[2],T=yield(0,s.generateEncryptionKeys)(n),{indexKey:m,valueEncryptionKey:I,valueMacKey:y}=T,C=(0,c.combine)([g,h]),v=(0,s.generateAssociatedData)(r,t),O=yield(0,s.generateMac)(v,C,y);if(!(0,o.arrayBuffersEqual)(S,O))throw(0,p.reportSyncdFatalError)(p.SyncdFatalErrorType.DECRYPTION_FAILED,e),new d.SyncdFatalError("decryption failure: valueMAC mismatch");const P=yield(0,s.decryptCipherText)(new Uint8Array(g),I,h),N=(0,u.decodeSyncActionData)(e,P),b=f.default.validateSyncActionDataProtobuf(e,N),M=yield(0,s.generateIndexMac)(m,b.index);if(!(0,o.arrayBuffersEqual)(a,M))throw(0,p.reportSyncdFatalError)(p.SyncdFatalErrorType.DECRYPTION_FAILED,e),new d.SyncdFatalError("decryption failure: indexMAC mismatch");return{syncAction:b,indexMac:a,valueMac:E,indexValueBinary:P}}))).apply(this,arguments)}},3582:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.downloadExternalPatch=function(){return c.apply(this,arguments)},t.downloadSnapshot=function(){return l.apply(this,arguments)};var i=r(n(11504)),o=n(58117),a=n(27266),s=r(n(66694));function l(){return(l=(0,i.default)((function*(e,t){const n=yield(0,o.getDbImpls)().downloadSyncBlob(t,"snapshot",e),r=(0,a.decodeSyncdSnapshot)(e,n);return s.default.validateSnapshotProtobuf(e,r)}))).apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e,t){const n=yield(0,o.getDbImpls)().downloadSyncBlob(t,"patch",e);return(0,a.decodeSyncdMutations)(e,n).mutations.map((t=>s.default.validateMutationProtobuf(e,t)))}))).apply(this,arguments)}},37866:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.resolveConflict=function(){return u.apply(this,arguments)};var i=r(n(11504)),o=n(46666),a=n(14381),s=n(82459);function l(){return c.apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e,t){const n=yield Promise.all(e.map(function(){var e=(0,i.default)((function*(e){const n=t.get(e.index);if(n){const t=e.actionHandler;return{remoteMutationIndex:e.index,conflictResolutionState:yield t.resolveConflicts(n,e)}}}));return function(){return e.apply(this,arguments)}}())),r=new Map;return n.forEach((e=>{e&&r.set(e.remoteMutationIndex,e.conflictResolutionState)})),r}))).apply(this,arguments)}function u(){return(u=(0,i.default)((function*(e,t){const n=[];let r=[];const i=yield(0,o.getSyncPendingMutationsByCollectionInTransaction)(e),c=new Map(i.map((e=>[e.index,e]))),u=yield l(t,c);t.forEach((e=>{const t=u.get(e.index);if(t)switch(t){case a.ConflictResolutionState.SkipRemote:break;case a.ConflictResolutionState.ApplyRemoteAndDropLocal:n.push(e),r=r.concat(i.filter((t=>t.index===e.index)));break;case a.ConflictResolutionState.SkipRemoteAndDropLocal:r=r.concat(i.filter((t=>t.index===e.index)))}else n.push(e)}));const d=(0,s.sort)(n),_=[];for(let e=0;e<d.length;e++){const t=d[e].actionHandler;(yield t.dropMutationDueToCrossIndexConflict(d[e],c))||_.push(d[e])}return{remoteMutationsToApply:_,pendingMutationsToDrop:r.map((e=>e.id)).filter(Boolean)}}))).apply(this,arguments)}},82459:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t._setDependency=function(e,t){s.set(e,t)},t.sort=function(e){const t=[],n=[];try{return e.forEach((r=>{t.push(r);const i=s.get(r.actionName);null!=i&&e.forEach((e=>{e!==r&&i.includes(e.actionName)&&function(e,t){const n=e.actionHandler.getChatJidAndMessageKey(e),r=t.actionHandler.getChatJidAndMessageKey(t);if(n&&r)return n.chatJid===r.chatJid&&(null==n.messageKey||null==r.messageKey||n.messageKey===r.messageKey);return!1}(e,r)&&(e.timestamp<r.timestamp?n.push([e,r]):n.push([r,e]))}))})),a.default.array(t,n)}catch(e){throw(0,o.reportSyncdFatalError)(o.SyncdFatalErrorType.CYCLIC_MUTATION_DEPENDENCY_IN_PATCH),new i.SyncdFatalError("cyclic mutation dependency in patch")}};var i=n(17760),o=n(99187),a=r(n(50944));const s=new Map},58247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAndTypeSetMutations=function(e,t){return t.map((t=>{const n=(0,c.decodeProtobuf)(o.SyncActionDataSpec,t.binarySyncData).value;if(!n)throw(0,l.reportSyncdFatalError)(l.SyncdFatalErrorType.MISSING_ACTION_VALUE,e),new s.SyncdFatalError("missing action value");const i=(0,r.maybeNumberOrThrowIfTooLarge)(n.timestamp);if(null==i)throw(0,l.reportSyncdFatalError)(l.SyncdFatalErrorType.MISSING_ACTION_TIMESTAMP,e),new s.SyncdFatalError("missing action timestamp");return{index:t.index,version:t.version,keyId:t.keyId,indexMac:t.indexMac,valueMac:t.valueMac,collection:t.collection,binarySyncData:t.binarySyncData,timestamp:i}}))},t.validateNoDuplicatePatchVersionInCollection=function(e,t){const n=new Set;t.forEach((t=>{const r=t.version.version;if(n.has(r))throw(0,l.reportSyncdFatalError)(l.SyncdFatalErrorType.DUPLICATE_PATCH_VERSION_IN_COLLECTION,e),new s.SyncdFatalError("duplicate patch version in collection");n.add(r)}))},t.validateNoSameIndexForMultipleMutations=function(e,t,n){const r=new Set,o=new Set;t.forEach((t=>{let c=!1;if(t.operation===i.SyncdMutation$SyncdOperation.SET&&(r.has(t.index)?c=!0:r.add(t.index)),t.operation===i.SyncdMutation$SyncdOperation.REMOVE&&(o.has(t.index)?c=!0:o.add(t.index)),c)switch(n){case a.SyncDataType.Patch:throw(0,l.reportSyncdFatalError)(l.SyncdFatalErrorType.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_PATCH,e),new s.SyncdFatalError("same index for multiple mutations in patch");case a.SyncDataType.Snapshot:throw(0,l.reportSyncdFatalError)(l.SyncdFatalErrorType.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_SNAPSHOT,e),new s.SyncdFatalError("same index for multiple mutations in snapshot");case a.SyncDataType.Local:__LOG__(3)`validation not required for local mutations`}}))};var r=n(22101),i=n(3537),o=n(57754),a=n(14381),s=n(17760),l=n(99187),c=n(33655)},66694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(22101),i=n(17760),o=n(948),a=n(99187);class s{static validateSnapshotProtobuf(e,t){const{version:n,records:o,mac:l,keyId:c}=t,u=null==n?void 0:n.version;if(!n||null==u)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_SNAPSHOT_VERSION,e),new i.SyncdFatalError("missing snapshot version");const d=o.map((t=>s.validateRecordProtobuf(e,t)));if(!l)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_SNAPSHOT_MAC,e),new i.SyncdFatalError("missing snapshot mac");const _=s.validateKeyIdProtobuf(e,c,a.SyncdFatalErrorType.MISSING_SNAPSHOT_KEY_ID);return{version:{version:(0,r.numberOrThrowIfTooLarge)(u)},records:d,mac:l,keyId:_}}static validatePatchProtobuf(e,t){const{version:n,mutations:o,externalMutations:l,snapshotMac:c,patchMac:u,keyId:d,exitCode:_,deviceIndex:p}=t,f=null==n?void 0:n.version;if(!n||null==f)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_PATCH_VERSION,e),new i.SyncdFatalError("missing patch version");if(o&&o.length>0&&l)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.PATCH_WITH_BOTH_INLINE_AND_EXTERNAL_MUTATIONS,e),new i.SyncdFatalError("patch with both inline and external mutations");if(!c)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_PATCH_SNAPSHOT_MAC,e),new i.SyncdFatalError("missing patch snapshot mac");if(!u)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_PATCH_MAC,e),new i.SyncdFatalError("missing patch mac");const E=s.validateKeyIdProtobuf(e,d,a.SyncdFatalErrorType.MISSING_PATCH_KEY_ID);if(l){const t=s.validateExternalBlobReference(e,l);return{version:{version:(0,r.numberOrThrowIfTooLarge)(f)},mutations:void 0,externalMutations:t,snapshotMac:c,patchMac:u,keyId:E,deviceIndex:p}}const A=o.map((t=>s.validateMutationProtobuf(e,t)));return{version:{version:(0,r.numberOrThrowIfTooLarge)(f)},mutations:A,externalMutations:void 0,exitCode:_,snapshotMac:c,patchMac:u,keyId:E,deviceIndex:p}}static validateExternalBlobReference(e,t){const{mediaKey:n,directPath:r,handle:o,fileSizeBytes:s,fileSha256:l,fileEncSha256:c}=t;if(!n)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_MEDIA_KEY,e),new i.SyncdFatalError("missing external blob reference media key");if(null==r)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_DIRECT_PATH,e),new i.SyncdFatalError("missing external blob reference direct path");if(!l)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_SHA256,e),new i.SyncdFatalError("missing external blob reference file SHA256");if(!c)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_ENC_SHA256,e),new i.SyncdFatalError("missing external blob reference file enc SHA256");return{mediaKey:n,directPath:r,handle:o,fileSizeBytes:s,fileSha256:l,fileEncSha256:c}}static validateMutationProtobuf(e,t){const{operation:n,record:r}=t;if(null==n)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_MUTATION_OPERATION,e),new i.SyncdFatalError("missing mutation operation");if(!r)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_MUTATION_RECORD,e),new i.SyncdFatalError("missing mutation record");return{operation:n,record:s.validateRecordProtobuf(e,r)}}static validateRecordProtobuf(e,t){const{index:n,value:r,keyId:o}=t,l=null==n?void 0:n.blob,c=null==r?void 0:r.blob;if(!n||!l)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_MUTATION_INDEX,e),new i.SyncdFatalError("missing mutation index");if(!r||!c)throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MISSING_MUTATION_VALUE,e),new i.SyncdFatalError("missing mutation value");return{index:{blob:l},value:{blob:c},keyId:s.validateKeyIdProtobuf(e,o,a.SyncdFatalErrorType.MISSING_MUTATION_KEY_ID)}}static validateKeyIdProtobuf(e,t,n){const r=null==t?void 0:t.id;if(!t||!r)throw(0,a.reportSyncdFatalError)(n,e),new i.SyncdFatalError("missing mutation key id");return{id:(0,o.toSyncKeyId)(r)}}}t.default=s},59596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(17760),i=n(99187);t.default=class{static validateSyncActionDataProtobuf(e,t){const{index:n,value:o,padding:a,version:s}=t;if(!n)throw(0,i.reportSyncdFatalError)(i.SyncdFatalErrorType.MISSING_ACTION_INDEX,e),new r.SyncdFatalError("missing action index");if(null==s)throw(0,i.reportSyncdFatalError)(i.SyncdFatalErrorType.MISSING_ACTION_VERSION,e),new r.SyncdFatalError("missing action version");return{index:n,value:o,padding:a,version:s}}}},65817:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.decryptCipherText=function(e,t,n){return(0,o.aesCbcDecrypt)(t,e,n)},t.generateAssociatedData=function(e,t){const n=(0,p.fromSyncKeyId)(t);let r;switch(e){case c.SyncdMutation$SyncdOperation.SET:r=u.OPERATION_SET_HEX;break;case c.SyncdMutation$SyncdOperation.REMOVE:r=u.OPERATION_REMOVE_HEX}if(r){const e=new Uint8Array([parseInt(r,16)]).buffer,t=new Uint8Array(e.byteLength+n.byteLength);return t.set(new Uint8Array(e)),t.set(new Uint8Array(n),e.byteLength),t.buffer}throw(0,s.default)("invalid mutation operation value")},t.generateCipherText=function(e,t,n){return(0,o.aesCbcEncrypt)(t,n,e)},t.generateEncryptionKeys=void 0,t.generateIndexMac=function(e,t){return(0,a.hmacSha256)(new Uint8Array(e),new Uint8Array(t))},t.generateMac=function(e,t,n){const r=new Uint8Array(u.OCTET_LENGTH);r.set([e.byteLength],r.byteLength-1);const i=(0,_.combine)([e,t,r.buffer]);return(0,a.hmacSha512)(n,i,u.MAC_LENGTH)},t.generatePadding=function(e,t){const n=Math.max(0,u.MAX_OF_MIN_DATA_LENGTH-e-t),r=new Uint8Array(n);return self.crypto.getRandomValues(r),r.buffer},t.generatePatchMac=function(e,t,n,r,i){return(0,a.hmacSha256)(e,(0,_.combine)([t,...n,r,i]))},t.generateSnapshotMac=function(e,t,n,r){return(0,a.hmacSha256)(e,(0,_.combine)([t,n,r]))},t.valueMacFromIndexAndValueCipherText=function(e){const t=e.byteLength;return new Uint8Array(e).slice(t-u.MAC_LENGTH).buffer};var i=n(62089),o=n(60581),a=n(13155),s=r(n(82065)),l=n(45753),c=n(3537),u=n(60782),d=n(89131),_=n(57963),p=n(948);const f=(0,l.memoizeWithArgs)(d.generateEncryptionKeysUnmemoized,(e=>(0,i.encodeB64)((0,p.fromSyncKeyData)(e))));t.generateEncryptionKeys=f},60782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALUE_MAC_KEY_LENGTH=t.VALUE_MAC_KEY_END=t.VALUE_ENCRYPTION_KEY_LENGTH=t.VALUE_ENCRYPTION_KEY_END=t.SNAPSHOT_MAC_KEY_LENGTH=t.SNAPSHOT_MAC_KEY_END=t.PATCH_MAC_KEY_LENGTH=t.PATCH_MAC_KEY_END=t.OPERATION_SET_HEX=t.OPERATION_REMOVE_HEX=t.OCTET_LENGTH=t.MAX_OF_MIN_DATA_LENGTH=t.MAC_LENGTH=t.IV_LENGTH=t.INDEX_KEY_LENGTH=t.INDEX_KEY_END=t.HKDF_INFO=t.EMPTY_MUTATION_MAC=t.DERIVED_KEY_LENGTH=void 0;t.HKDF_INFO="WhatsApp Mutation Keys";t.DERIVED_KEY_LENGTH=160;t.INDEX_KEY_LENGTH=32;t.VALUE_ENCRYPTION_KEY_LENGTH=32;t.VALUE_MAC_KEY_LENGTH=32;t.SNAPSHOT_MAC_KEY_LENGTH=32;t.PATCH_MAC_KEY_LENGTH=32;t.INDEX_KEY_END=32;t.VALUE_ENCRYPTION_KEY_END=64;t.VALUE_MAC_KEY_END=96;t.SNAPSHOT_MAC_KEY_END=128;t.PATCH_MAC_KEY_END=160;t.OPERATION_SET_HEX="0x01";t.OPERATION_REMOVE_HEX="0x02";t.MAX_OF_MIN_DATA_LENGTH=0;t.MAC_LENGTH=32;t.OCTET_LENGTH=8;t.IV_LENGTH=16;const n=new ArrayBuffer(32);t.EMPTY_MUTATION_MAC=n},89131:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.generateEncryptionKeysUnmemoized=function(){return l.apply(this,arguments)};var i=r(n(11504)),o=n(88397),a=n(60782),s=n(948);function l(){return(l=(0,i.default)((function*(e){const t=yield c(e);return{indexKey:t.slice(0,a.INDEX_KEY_END),valueEncryptionKey:t.slice(a.INDEX_KEY_END,a.VALUE_ENCRYPTION_KEY_END),valueMacKey:t.slice(a.VALUE_ENCRYPTION_KEY_END,a.VALUE_MAC_KEY_END),snapshotMacKey:t.slice(a.VALUE_MAC_KEY_END,a.SNAPSHOT_MAC_KEY_END),patchMacKey:t.slice(a.SNAPSHOT_MAC_KEY_END,a.PATCH_MAC_KEY_END)}}))).apply(this,arguments)}function c(e){return(0,o.extractAndExpand)((0,s.fromSyncKeyData)(e),a.HKDF_INFO,a.DERIVED_KEY_LENGTH)}},57963:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBufferToHexPadded=function(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")},t.combine=function(e){if(0===e.length)throw(0,o.default)("buffers length is zero");if(1===e.length)return e[0];const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),n=new Uint8Array(t);let r,i=0;for(r=0;r<e.length;r++)n.set(new Uint8Array(e[r]),i),i+=e[r].byteLength;return n.buffer},t.hexToUint8Array=function(e){return Uint8Array.from(e.split(" ").map((e=>parseInt(e,16))))},t.split=function(e,t,n){if(t<0||n<0)throw(0,o.default)("buffers length is zero");const r=new Array(3),i=new Uint8Array(e);return r[0]=i.slice(0,t).buffer,r[1]=i.slice(t,t+n).buffer,r[2]=i.slice(t+n).buffer,r},t.syncKeyIdToHex=function(e){return Array.from(new Uint8Array((0,a.fromSyncKeyId)(e))).map((e=>e.toString(16))).toString().replace(/,/g," ")},t.syncKeyIdsEqual=function(e,t){return(0,i.arrayBuffersEqual)((0,a.fromSyncKeyId)(e),(0,a.fromSyncKeyId)(t))},t.to64BitNetworkOrder=function(e){const t=new ArrayBuffer(8);return new DataView(t).setUint32(4,e,!1),t},t.toUtf8=function(e){return s.encode(e)};var i=n(9093),o=r(n(82065)),a=n(948);const s=new TextEncoder},64041:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.handleMissingKeysInPatches=function(){return f.apply(this,arguments)},t.handleMissingKeysInSnapshot=function(){return p.apply(this,arguments)},t.requestAllMissingKeys=function(){return g.apply(this,arguments)};var i=r(n(11504)),o=n(58117),a=n(77395),s=n(89761),l=n(57963),c=n(17760),u=n(948),d=n(83929);const _=(0,u.toSyncKeyId)(new ArrayBuffer(0));function p(){return(p=(0,i.default)((function*(e,t){const n=new Set,r=(yield(0,s.getAllSyncKeysInTransaction)()).map((e=>(0,l.syncKeyIdToHex)(e.keyId)));t.records.forEach((e=>{const t=e.keyId.id;if((0,l.syncKeyIdsEqual)(t,_))throw new c.SyncdFatalError("snapshot has empty key");const i=(0,l.syncKeyIdToHex)(t);r.includes(i)||n.add(i)})),__LOG__(2)`syncd: collection ${e}'s snapshot has missing keys ${Array.from(n)}`,yield E(n)}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e,t){const n=new Set,r=(yield(0,s.getAllSyncKeysInTransaction)()).map((e=>(0,l.syncKeyIdToHex)(e.keyId)));t.forEach((e=>{const t=e.keyId.id;if((0,l.syncKeyIdsEqual)(t,_))throw new c.SyncdFatalError("syncd: patch has empty key. patch device id: ${p.deviceIndex}");const i=(0,l.syncKeyIdToHex)(t);r.includes(i)||(__LOG__(2)`syncd: handleMissingKeysInPatches: missing key: keyId: ${i}, patch version: ${e.version.version}, patch device id: ${e.deviceIndex}`,n.add(i))})),__LOG__(2)`syncd: collection ${e}'s patches has missing keys ${Array.from(n)}`,yield E(n)}))).apply(this,arguments)}function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){if("idle"!==(0,o.getConfig)().offlineProcessingState())return void __LOG__(2)`syncd: _handleMissingKeys: skipping due to resume from restart in progress`;const t=Array.from(e);__LOG__(2)`syncd: _handleMissingKeys: missing keys [${t}]`;const n=new Set((yield(0,a.bulkGetMissingKeysInTransaction)(t)).filter(Boolean).map((e=>e.keyHex))),r=t.filter((e=>!n.has(e)));if(__LOG__(2)`syncd: _handleMissingKeys: missing keys after filter: [${r}]`,0===r.length)return Promise.resolve();const i=r.map((e=>(0,u.toSyncKeyId)((0,l.hexToUint8Array)(e).buffer))),s=yield(0,o.getDbImpls)().sendSyncdKeyRequest(i);yield(0,d.addMissingKeys)(i,s)}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(){const e=yield(0,a.getAllMissingKeysInTransaction)();__LOG__(2)`syncd: requestAllMissingKeys: missing keys: [${e.map((e=>e.keyHex))}]`,0!==e.length&&(yield(0,o.getDbImpls)().sendSyncdKeyRequest(e.map((e=>e.keyId))))}))).apply(this,arguments)}},30756:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.clearSyncKeysCache=function(){l=new Map},t.getKeyData=function(){return c.apply(this,arguments)};var i=r(n(11504)),o=n(62089),a=n(89761),s=n(948);let l=new Map;function c(){return(c=(0,i.default)((function*(e){var t;const n=(0,o.encodeB64)((0,s.fromSyncKeyId)(e));let r=l.get(n);return r?r.keyData:(r=yield(0,a.getSyncKeyInTransaction_DO_NOT_USE)(e),r&&l.set(n,r),null===(t=r)||void 0===t?void 0:t.keyData)}))).apply(this,arguments)}},64529:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveKey=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return p.enqueue((()=>f(e)))},t.getNewestKeyPair=A;var i=r(n(11504)),o=n(58117),a=r(n(82065)),s=n(89761),l=n(39528),c=n(57963),u=n(14958),d=n(60826),_=n(2312);const p=new l.PromiseQueue;function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=yield A(),n=yield(0,o.getDbImpls)().getDeviceFingerprint();let r=!1,i=!1;if(null!=t){if(r=(0,_.hasKeyExpired)(t),i=(0,_.hasADeviceBeenRemoved)(t,n),!e||!r&&!i)return{keyId:t.keyId,keyData:t.keyData}}else if(!e||(0,o.getConfig)().isCompanion())throw(0,a.default)("syncd: No sync key available");const l=(0,_.rotateKey)(n,t);return __LOG__(2)`syncd: stored key rotation key id ${(0,c.syncKeyIdToHex)(l.keyId)}`,yield(0,s.setSyncKeyInTransaction)(l),yield(0,o.getDbImpls)().sendSyncdKeyRotation([l]),r&&(__LOG__(2)`syncd: key rotation due to key expiry`,(0,d.reportSyncdKeyRotationEvent)(d.SyncdKeyRotationEventType.APP_STATE_SYNC_KEY_EXPIRY)),i&&(__LOG__(2)`syncd: key rotation due to device removal`,(0,d.reportSyncdKeyRotationEvent)(d.SyncdKeyRotationEventType.DEVICE_DEREGISTERATION)),null==t&&(__LOG__(2)`syncd: key rotation due to no key present`,(0,d.reportSyncdKeyRotationEvent)(d.SyncdKeyRotationEventType.NO_KEYS)),f(e)}))).apply(this,arguments)}function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(){const e=yield(0,s.getAllSyncKeysInTransaction)();if(0===e.length)return null;const t=e.map((e=>(0,u.getKeyEpoch)(e.keyId))),n=Math.max(...t),r=e.filter((e=>(0,u.getKeyEpoch)(e.keyId)===n)),i=r.map((e=>(0,u.getKeyDeviceId)(e.keyId))),o=Math.min(...i);return r[i.indexOf(o)]}))).apply(this,arguments)}},14958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateNewKeyEpoch=function(e){return i(e)+1},t.getKeyDeviceId=function(e){return new DataView((0,r.fromSyncKeyId)(e)).getUint16(0)},t.getKeyEpoch=i;var r=n(948);function i(e){return new DataView((0,r.fromSyncKeyId)(e)).getUint32(2)}},948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromSyncKeyData=function(e){return e},t.fromSyncKeyId=function(e){return e},t.toSyncKeyData=function(e){return e},t.toSyncKeyId=function(e){return e}},2312:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.hasADeviceBeenRemoved=function(e,t){const n=e.fingerprint,{rawId:r,currentIndex:i,deviceIndexes:o}=t,a=new Set(n.deviceIndexes);for(let e=n.currentIndex+1;e<=i;e++)a.add(e);return n.rawId!==r||!(0,d.default)(a,new Set(o))},t.hasKeyExpired=function(e){const t=e.timestamp,n=Math.min(90,Math.max(1,(0,o.getConfig)().syncdKeyMaxUseDays()));return(0,u.unixTimeMs)()-t>n*u.DAY_MILLISECONDS},t.rotateKey=function(e,t){const{keyId:n,keyEpoch:r}=function(e){let t;if(null==e){const e=new Uint8Array(16);self.crypto.getRandomValues(e),t=(0,l.generateNewKeyEpoch)((0,c.toSyncKeyId)(e.buffer))}else t=(0,l.generateNewKeyEpoch)(e.keyId);const n=(0,s.interpretAsNumber)((0,s.extractDeviceId)((0,o.getMyDeviceJid)()));return{keyId:(0,c.toSyncKeyId)(new Uint8Array((0,i.concatArrayBuffers)((0,a.intToBytes)(2,n).buffer,(0,a.intToBytes)(4,t).buffer)).buffer),keyEpoch:t}}(t),d=(0,c.toSyncKeyData)(self.crypto.getRandomValues(new Uint8Array(32)).buffer),_=(0,u.unixTimeMs)();return{keyId:n,keyEpoch:r,keyData:d,fingerprint:e,timestamp:_}};var i=n(52210),o=n(58117),a=n(89738),s=n(44037),l=n(14958),c=n(948),u=n(29987),d=r(n(37847))},83929:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.addMissingKeys=function(){return y.apply(this,arguments)},t.hasExpiredKeys=S,t.setMissingKeyTimeoutInTransaction=f,t.updateMissingKeyDevices=function(){return p.apply(this,arguments)},t.updateMissingKeys=function(e,t){const n=[],r=[];return e.forEach((e=>{const t=e.keyData,i=(0,c.syncKeyIdToHex)(e.keyId);t?n.push(i):r.push(i)})),__LOG__(2)`syncd: updateMissingKeys from device ${t}
\tkeys with keyData: ${n}
\tkeys without keyData: ${r}`,(0,a.runInTransaction)({MissingKeyStore:!0},function(){var e=(0,i.default)((function*(e){let{MissingKeyStore:i}=e;if(n.length>0&&(yield i.bulkRemove(n),yield E({MissingKeyStore:i})),r.length>0){const e=(yield i.bulkGet(r)).filter(Boolean);e.forEach((e=>e.deviceResponses.set(t,!1))),__LOG__(2)`syncd: updateMissingKeys: begin updating missing keys from device ${t}
\tmissingKeys: [${r}]`,yield i.bulkUpdate(e),__LOG__(2)`syncd: updateMissingKeys: finish updating missing keys from device ${t}`,yield m({MissingKeyStore:i})}}));return function(){return e.apply(this,arguments)}}())};var i=r(n(11504)),o=n(90387),a=n(58117),s=n(77395),l=n(89761),c=n(57963),u=n(99187),d=n(29987);let _;function p(){return(p=(0,i.default)((function*(){const e=(yield(0,a.getDbImpls)().getDeviceFingerprint()).deviceIndexes;return(0,a.runInTransaction)({MissingKeyStore:!0},function(){var t=(0,i.default)((function*(t){let{MissingKeyStore:n}=t;const r=yield n.getAll();if(0===r.length)return Promise.resolve();r.forEach((t=>{t.deviceResponses.forEach(((n,r)=>{e.includes(r)||t.deviceResponses.delete(r)}))})),yield n.bulkUpdate(r),yield m({MissingKeyStore:n})}));return function(){return t.apply(this,arguments)}}())}))).apply(this,arguments)}function f(){return(0,a.runInTransaction)({MissingKeyStore:!0},(e=>{let{MissingKeyStore:t}=e;return E({MissingKeyStore:t})}))}function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){let{MissingKeyStore:t}=e;clearTimeout(_),_=null;const n=yield t.getAll();if(0===n.length)return;__LOG__(2)`syncd: _setMissingKeyTimeout: missing keys: ${n.map((e=>(0,c.syncKeyIdToHex)(e.keyId)))}`;const r=n.reduce(((e,t)=>e.timestamp<t.timestamp?e:t)),i=(0,a.getConfig)().syncdWaitForKeyTimeoutDays()*d.DAY_MILLISECONDS-(-r.timestamp+(0,d.unixTimeMs)());__LOG__(2)`syncd: earliest missing key: ${(0,c.syncKeyIdToHex)(r.keyId)}, timestamp=${r.timestamp}, timeoutMs=${i}`,_=setTimeout(g,i)}))).apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=(0,i.default)((function*(){__LOG__(2)`syncd: _timeoutWhileWaitingForMissingKey`,(yield S())?((0,u.reportSyncdFatalError)(u.SyncdFatalErrorType.TIMEOUT_WHILE_WAITING_FOR_MISSING_KEY),__LOG__(4,void 0,new Error,!0)`syncd: fatal error: timeout while waiting for missing key`,SEND_LOGS("syncd fatal error: timeout while waiting for missing key"),(0,a.getDbImpls)().handleSyncdFatal()):__LOG__(2)`syncd: _timeoutWhileWaitingForMissingKey: no expired keys`}))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=(0,i.default)((function*(){__LOG__(2)`syncd: check if has expired keys`;const e=(yield(0,l.getAllSyncKeysInTransaction)()).map((e=>(0,c.syncKeyIdToHex)(e.keyId)));__LOG__(2)`syncd: all keys: ${e}`;const t=yield(0,s.getAllMissingKeysInTransaction)();__LOG__(2)`syncd: missing keys: ${t.map((e=>(0,c.syncKeyIdToHex)(e.keyId)))}`;const n=t.filter((t=>!e.includes(t.keyHex)));__LOG__(2)`syncd: actually missing keys: ${t.map((e=>(0,c.syncKeyIdToHex)(e.keyId)))}`;const r=n.filter((e=>(0,a.getConfig)().syncdWaitForKeyTimeoutDays()*d.DAY_MILLISECONDS<(0,d.unixTimeMs)()-e.timestamp));return __LOG__(2)`syncd: expired keys: ${r.map((e=>(0,c.syncKeyIdToHex)(e.keyId)))}`,r.length>0}))).apply(this,arguments)}function m(){return I.apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){let{MissingKeyStore:t}=e;const n=yield t.getAll();for(const e of n){let t=!0;for(const n of e.deviceResponses.values())if(null==n){t=!1;break}if(t)return __LOG__(4,void 0,new Error,!0)`syncd: fatal error: missing key on all clients`,SEND_LOGS("syncd: fatal error: missing key on all clients"),(0,u.reportSyncdFatalError)(u.SyncdFatalErrorType.MISSING_KEY_ON_ALL_CLIENTS),yield(0,o.asyncSleep)(5e3),void(0,a.getDbImpls)().handleSyncdFatal()}}))).apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e,t){const n=()=>{const e=new Map;return t.forEach((t=>e.set(t,null))),e},r=e.map((e=>({keyHex:(0,c.syncKeyIdToHex)(e),keyId:e,timestamp:(0,d.unixTimeMs)(),deviceResponses:n()})));yield(0,s.bulkUpdateMissingKeysInTransaction)(r),yield f()}))).apply(this,arguments)}},48785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncdDecryptMutationsType=t.SyncdCriticalBootstrapStageType=void 0,t.convertSyncdCriticalBootstrapStageFromAnnotations=function(e){var t;const n=null==e||null===(t=e.string)||void 0===t?void 0:t.criticalBootstrapStage;if(null==n)return __LOG__(4,void 0,new Error)`syncd: missing bootstrap stage for critical bootstrap stage`,null;const r=s.cast(n);if(null==r)return __LOG__(4,void 0,new Error)`syncd: unknown bootstrap stage: ${n} for critical bootstrap stage`,null;return{type:r}},t.convertSyncdDecryptMutationsMetricsFromAnnotations=function(e){var t,n,r,i;const o=null==e||null===(t=e.string)||void 0===t?void 0:t.mutationType,a=null==e||null===(n=e.int)||void 0===n?void 0:n.count,s=null==e||null===(r=e.int)||void 0===r?void 0:r.totalAdditionalMessagesCount,c=null==e||null===(i=e.int_array)||void 0===i?void 0:i.messageRangeLengths;if(null==o)return __LOG__(4,void 0,new Error)`syncd: missing type for DecryptMutations`,null;if(null==a)return __LOG__(4,void 0,new Error)`syncd: missing count for DecryptMutations`,null;if(null==s)return __LOG__(4,void 0,new Error)`syncd: missing totalAdditionalMessagesCount for DecryptMutations`,null;if(null==c)return __LOG__(4,void 0,new Error)`syncd: missing decryptedMutationMessageRangeCountArray for DecryptMutations`,null;const u=l.cast(o);if(null==u)return __LOG__(4,void 0,new Error)`syncd: unknown SyncdDecryptMutationsType for DecryptMutations`,null;return{type:u,count:a,totalAdditionalMessagesCount:s,decryptedMutationMessageRangeCountArray:c}},t.reportSyncdCriticalBootstrapStage=c,t.reportSyncdDecryptedMutations=function(e,t){c(s.MUTATIONS_DECRYPTED),(0,i.startMetric)(r.PRE_METRIC.SYNCD_DECRYPT_MUTATIONS).endSuccess(function(e){const{type:t,mutations:n}=e;let r,i=0;const s=[];return n.forEach((e=>{const{binarySyncData:t}=e,n=(0,a.decodeProtobuf)(o.SyncActionDataSpec,t).value;null!=n&&(n.archiveChatAction?r=n.archiveChatAction.messageRange:n.markChatAsReadAction?r=n.markChatAsReadAction.messageRange:n.clearChatAction?r=n.clearChatAction.messageRange:n.deleteChatAction&&(r=n.deleteChatAction.messageRange),null!=r&&(i+=r.messages.length,s.push(r.messages.length)))})),{string:{mutationType:t},int:{count:n.length,totalAdditionalMessagesCount:i},int_array:{messageRangeLengths:s}}}({type:e,mutations:t}))};var r=n(5838),i=n(13783),o=n(57754),a=n(33655);const s=n(54302).Mirrored(["ABOUT_TO_APPLY_MUTATIONS","APPLIED_MUTATIONS","MUTATIONS_DECRYPTED","REQUEST_BUILT","RESPONSE_RECEIVED","RESPONSE_PARSED_VALID","ENTERED_RETRY_MODE","MISSING_KEYS_RECEIVED"]);t.SyncdCriticalBootstrapStageType=s;const l=n(54302).Mirrored(["PATCH_MUTATIONS","SNAPSHOT_MUTATIONS"]);function c(e){(0,i.startMetric)(r.PRE_METRIC.SYNCD_CRITICAL_BOOTSTRAP_STAGE).endSuccess({string:{criticalBootstrapStage:{type:e}.type}})}t.SyncdDecryptMutationsType=l},99187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncdFatalErrorType=void 0,t.convertSyncdFatalErrorFromAnnotations=function(e){var t,n,r,i,s;const l=null==e||null===(t=e.string)||void 0===t?void 0:t.errorCode;if(null==l)return __LOG__(4,void 0,new Error)`syncd: missing error code for syncd fatal error`,null;const c=a.cast(l);if(null==c)return __LOG__(4,void 0,new Error)`syncd: unknown error code: ${l} for syncd fatal error`,null;return{type:c,collection:o.CollectionName.cast(null==e||null===(n=e.string)||void 0===n?void 0:n.collection),patchSnapshotMutationCount:null==e||null===(r=e.int)||void 0===r?void 0:r.patchSnapshotMutationCount,patchVersion:null==e||null===(i=e.int)||void 0===i?void 0:i.patchVersion,isFatal:null==e||null===(s=e.bool)||void 0===s?void 0:s.isFatal}},t.reportSyncdFatalError=function(e,t,n,o,a){(0,i.startMetric)(r.PRE_METRIC.SYNCD_FATAL_ERROR).endFail("syncd fatal error: "+e,function(e){const{type:t,collection:n,patchSnapshotMutationCount:r,patchVersion:i,isFatal:o}=e;return{string:{errorCode:t,collection:null==n?null:n},int:{patchSnapshotMutationCount:r,patchVersion:i},bool:{isFatal:o}}}({type:e,collection:t,patchSnapshotMutationCount:n,patchVersion:o,isFatal:a}))};var r=n(5838),i=n(13783),o=n(14381);const a=n(54302).Mirrored(["PATCH_PROTOBUF_SERIALIZATION_FAILED","MUTATIONS_PROTOBUF_SERIALIZATION_FAILED","ACTION_DATA_PROTOBUF_SERIALIZATION_FAILED","ENCRYPTION_FAILED","MISSING_SNAPSHOT_VERSION","MISSING_SNAPSHOT_MAC","MISSING_SNAPSHOT_KEY_ID","MISSING_PATCH_VERSION","PATCH_WITH_BOTH_INLINE_AND_EXTERNAL_MUTATIONS","MISSING_PATCH_SNAPSHOT_MAC","MISSING_PATCH_MAC","MISSING_PATCH_KEY_ID","MISSING_EXTERNAL_BLOB_REFERENCE_MEDIA_KEY","MISSING_EXTERNAL_BLOB_REFERENCE_DIRECT_PATH","MISSING_EXTERNAL_BLOB_REFERENCE_FILE_SHA256","MISSING_EXTERNAL_BLOB_REFERENCE_FILE_ENC_SHA256","MISSING_MUTATION_OPERATION","MISSING_MUTATION_RECORD","MISSING_MUTATION_INDEX","MISSING_MUTATION_VALUE","MISSING_MUTATION_KEY_ID","EXTERNAL_BLOB_REFERENCE_PROTOBUF_DESERIALIZATION_FAILED","SNAPSHOT_PROTOBUF_DESERIALIZATION_FAILED","PATCH_PROTOBUF_DESERIALIZATION_FAILED","MUTATIONS_PROTOBUF_DESERIALIZATION_FAILED","ACTION_DATA_PROTOBUF_DESERIALIZATION_FAILED","MISSING_ACTION_INDEX","MISSING_ACTION_VERSION","SNAPSHOT_MAC_MISMATCH_IN_SNAPSHOT","SNAPSHOT_MAC_MISMATCH_IN_PATCH","MAC_MISMATCH_PATCH","DECRYPTION_FAILED","DUPLICATE_PATCH_VERSION_IN_COLLECTION","SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_PATCH","SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_SNAPSHOT","MISSING_ACTION_VALUE","MISSING_ACTION_TIMESTAMP","XMPP_BAD_REQUEST_FOR_COLLECTION","XMPP_NOT_FOUND_FOR_COLLECTION","CYCLIC_MUTATION_DEPENDENCY_IN_PATCH","SERVER_DID_NOT_SEND_ALL_PATCHES","TERMINAL_PATCH_MISSING_DATA","TERMINAL_PATCH_DESERIALIZATION_ERROR","TERMINAL_PATCH_UNKNOWN","INVALID_ACTION_INDEX","XMPP_BAD_REQUEST_GLOBAL_ERROR","XMPP_NOT_FOUND_GLOBAL_ERROR","XMPP_BAD_METHOD_GLOBAL_ERROR","XMPP_NOT_ACCEPTABLE_GLOBAL_ERROR","TOO_MANY_INTERNAL_SERVER_ERRORS_IN_7D","TIMEOUT_WHILE_WAITING_FOR_MISSING_KEY","MISSING_KEY_ON_ALL_CLIENTS"]);t.SyncdFatalErrorType=a},60826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncdKeyRotationEventType=t.SyncdEventFlow=t.SyncdCriticalEventType=t.SyncdBootstrapDataAppliedSnapshotUsed=void 0,t.constructAnnotationsFromContext=u,t.convertSyncdBootstrapAppStateDownloadFromAnnotations=function(e){var t,n,r,i;const a=null==e||null===(t=e.string)||void 0===t?void 0:t.collection,s=null==e||null===(n=e.int)||void 0===n?void 0:n.downloadSize,l=null==e||null===(r=e.int)||void 0===r?void 0:r.downloadStartTs,c=null==e||null===(i=e.bool)||void 0===i?void 0:i.isSuccess;if(null==a)return __LOG__(4,void 0,new Error)`syncd: missing collection for bootstrap app state download metric`,null;if(null==l)return __LOG__(4,void 0,new Error)`syncd: missing downloadStartTs for bootstrap app state download metric`,null;if(null==c)return __LOG__(4,void 0,new Error)`syncd: missing isSuccess for bootstrap app state download metric`,null;const u=o.CollectionName.cast(a);if(null==u)return __LOG__(4,void 0,new Error)`syncd: unknown collection ${a} for bootstrap app state download metric`,null;return{collection:u,downloadStartTs:l,downloadSize:s,isSuccess:c?"success":"failure"}},t.convertSyncdBootstrapDataAppliedFromAnnotations=function(e){var t,n,r;const i=null==e||null===(t=e.string)||void 0===t?void 0:t.collection,a=null==e||null===(n=e.bool)||void 0===n?void 0:n.snapshot,l=null==e||null===(r=e.int)||void 0===r?void 0:r.durationMs;if(null==i)return __LOG__(4,void 0,new Error)`syncd: missing collection for bootstrap data applied event`,null;if(null==a)return __LOG__(4,void 0,new Error)`syncd: missing snapshotUsed for bootstrap data applied event`,null;if(null==l)return __LOG__(4,void 0,new Error)`syncd: missing durationMs for bootstrap data applied event`,null;const c=o.CollectionName.cast(i);if(null==c)return __LOG__(4,void 0,new Error)`syncd: unknown collection ${i} for bootstrap data applied event`,null;const u=a?s.SNAPSHOT_USED:s.SNAPSHOT_NOT_USED;return{collection:c,snapshotUsed:u,durationMs:l}},t.convertSyncdCriticalEventFromAnnotations=function(e){var t,n;const r=null==e||null===(t=e.string)||void 0===t?void 0:t.criticalEventCode;if(null==r)return __LOG__(4,void 0,new Error)`syncd: missing error code for critical event`,null;const i=a.cast(r);if(null==i)return __LOG__(4,void 0,new Error)`syncd: unknown error code: ${r} for critical event`,null;return{type:i,collection:o.CollectionName.cast(null==e||null===(n=e.string)||void 0===n?void 0:n.collection)}},t.convertSyncdKeyRotationEventFromAnnotations=function(e){var t;const n=null==e||null===(t=e.string)||void 0===t?void 0:t.keyRotationEventCode;if(null==n)return __LOG__(4,void 0,new Error)`syncd: missing error code for key rotation event`,null;const r=l.cast(n);if(null==r)return __LOG__(4,void 0,new Error)`syncd: unknown error code: ${n} for key rotation event`,null;return{type:r}},t.reportSyncdBootstrapAppStateDownloadMetric=function(e){const t=(0,i.startMetric)(r.PRE_METRIC.SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD);"success"!==e.isSuccess?t.endFail("syncd error: Error downloading snapshot or patches",c(e)):t.endSuccess(c(e))},t.reportSyncdBootstrapDataApplied=function(e,t,n){(0,i.startMetric)(r.PRE_METRIC.SYNCD_BOOTSTRAP_DATA_APPLIED).endSuccess((o={collection:e,snapshotUsed:t,durationMs:n},{string:{collection:o.collection},bool:{snapshot:o.snapshotUsed===s.SNAPSHOT_USED},int:{durationMs:o.durationMs}}));var o},t.reportSyncdCriticalEvent=function(e,t){(0,i.startMetric)(r.PRE_METRIC.SYNCD_CRITICAL_EVENT).endFail("syncd critical event: "+e,(n={type:e,collection:t},{string:{criticalEventCode:n.type,collection:null==n.collection?null:n.collection}}));var n},t.reportSyncdKeyRotationEvent=function(e){(0,i.startMetric)(r.PRE_METRIC.SYNCD_KEY_ROTATION).endSuccess((t={type:e},{string:{keyRotationEventCode:t.type}}));var t};var r=n(5838),i=n(13783),o=n(14381);const a=n(54302).Mirrored(["MISSING_MUTATION_TO_REMOVE"]);t.SyncdCriticalEventType=a;const s=n(54302).Mirrored(["SNAPSHOT_USED","SNAPSHOT_NOT_USED"]);t.SyncdBootstrapDataAppliedSnapshotUsed=s;const l=n(54302).Mirrored(["APP_STATE_SYNC_KEY_EXPIRY","DEVICE_DEREGISTERATION","NO_KEYS"]);function c(e){const{collection:t,downloadSize:n,downloadStartTs:r,isSuccess:i}=e;return{string:{collection:t},int:{downloadSize:n,downloadStartTs:r},bool:{isSuccess:"success"===i}}}function u(e){const t={};return Object.keys(e).forEach((n=>{"number"==typeof e[n]?(null==t.int&&(t.int={}),t.int[n]=e[n]):"string"==typeof e[n]&&(null==t.string&&(t.string={}),t.string[n]=e[n])})),Object.keys(t).length>0?t:void 0}t.SyncdKeyRotationEventType=l;t.SyncdEventFlow=class{constructor(){this.event=(0,i.startMetric)(r.PRE_METRIC.SYNCD)}end(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.event.endFail("syncd failed"):this.event.endSuccess()}mark(e,t){this.event.addPoint(e,u(t))}}},91002:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.addKeyRotationRemoveCount=function(e){if(0===e)return;l.keyRotationRemoveCount+=e,d()},t.addMutationCount=function(e){if(0===e)return;l.mutationCount+=e,d()},t.addUnsetActionCount=function(e){if(0===e)return;l.unsetActionCount+=e,d()},t.clear=u,t.convertAppStateSyncDailyFromAnnotations=function(e){var t,n,r,i,o,a,s,l;return{mutationCount:(null==e||null===(t=e.int)||void 0===t?void 0:t.mutationCount)||0,invalidActionCount:(null==e||null===(n=e.int)||void 0===n?void 0:n.invalidActionCount)||0,unsupportedActionCount:(null==e||null===(r=e.int)||void 0===r?void 0:r.unsupportedActionCount)||0,keyRotationRemoveCount:(null==e||null===(i=e.int)||void 0===i?void 0:i.keyRotationRemoveCount)||0,storedMutationCount:(null==e||null===(o=e.int)||void 0===o?void 0:o.storedMutationCount)||0,uploadConflictCount:(null==e||null===(a=e.int)||void 0===a?void 0:a.uploadConflictCount)||0,unsetActionCount:(null==e||null===(s=e.int)||void 0===s?void 0:s.unsetActionCount)||0,missingKeyCount:(null==e||null===(l=e.int)||void 0===l?void 0:l.missingKeyCount)||0}},t.forceCommitAppState=function(){c.isScheduled()&&c.forceRunNow()},t.incConflict=function(){l.uploadConflictCount++,d()},t.setInvalidActionCount=function(e){l.invalidActionCount=e,d()},t.setMissingKeyCount=function(e){l.missingKeyCount=e,d()},t.setStoredMutationCount=function(e){l.storedMutationCount=e,d()},t.setUnsupportedActionCount=function(e){l.unsupportedActionCount=e,d()};var i=r(n(73982)),o=n(5838),a=n(13783),s=n(78494);let l={mutationCount:0,invalidActionCount:0,unsupportedActionCount:0,keyRotationRemoveCount:0,storedMutationCount:0,uploadConflictCount:0,unsetActionCount:0,missingKeyCount:0};const c=new s.ShiftTimer((function(){const e=(t=l,{int:(0,i.default)({},t)});var t;u(),(0,a.startMetric)(o.PRE_METRIC.APP_STATE_SYNC_DAILY).endSuccess(e)}));function u(){l={mutationCount:0,invalidActionCount:0,unsupportedActionCount:0,keyRotationRemoveCount:0,storedMutationCount:0,uploadConflictCount:0,unsetActionCount:0,missingKeyCount:0}}function d(){c.onOrBefore(3e5)}},35813:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.encryptMutation=function(){return h.apply(this,arguments)};var i=r(n(73982)),o=r(n(11504)),a=n(54080),s=n(81665),l=n(3537),c=n(57754),u=n(65817),d=n(60782),_=n(57963),p=n(17760),f=n(30756),E=n(99187),A=n(39965),g=n(33655);function h(){return(h=(0,o.default)((function*(e,t){const{index:n,operation:r}=e;let o=t.keyId,a=t.keyData;switch(r){case l.SyncdMutation$SyncdOperation.SET:break;case l.SyncdMutation$SyncdOperation.REMOVE:{const e=yield(0,s.getSyncActionInTransaction)(n);if(!e)throw new p.SyncdFatalError("no corresponding set mutation");const t=e.keyId,r=yield(0,f.getKeyData)(t);if(null==r)throw new p.SyncdFatalError("no key data for corresponding mutation");o=t,a=r}}const{indexMac:c,indexAndValueCipherText:d}=yield S(e,o,a),_=(0,u.valueMacFromIndexAndValueCipherText)(d);return(0,i.default)((0,i.default)({},e),{},{keyId:o,keyData:a,indexMac:c,indexAndValueCipherText:d,valueMac:_})}))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=(0,o.default)((function*(e,t,n){try{const{index:r,binarySyncAction:i,operation:o,version:s}=e,l=(0,a.stringToArrayBuffer)(r),c=yield(0,u.generateEncryptionKeys)(n),{indexKey:p,valueEncryptionKey:f,valueMacKey:E}=c,A=yield self.crypto.getRandomValues(new Uint8Array(d.IV_LENGTH)),g=m(l,i,(0,u.generatePadding)(l.byteLength,i.byteLength),s),h=yield(0,u.generateCipherText)(A,f,g),S=(0,u.generateAssociatedData)(o,t),T=yield(0,u.generateMac)(S,h,E),I=(0,_.combine)([h,T]);return{indexMac:yield(0,u.generateIndexMac)(p,l),indexAndValueCipherText:I}}catch(e){throw(0,E.reportSyncdFatalError)(E.SyncdFatalErrorType.ENCRYPTION_FAILED),new p.SyncdFatalError("encryption failure")}}))).apply(this,arguments)}function m(e,t,n,r){return(0,A.encodeSyncActionData)({index:e,value:(0,g.decodeProtobuf)(c.SyncActionValueSpec,t),padding:n,version:r})}},25067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exceedInlineMutationCount=function(e){const t=Math.min(2e3,Math.max((0,r.getConfig)().syncdInlineMutationsMaxCount(),100));return e.length>t},t.exceedPatchProtobufSize=function(e){const t=1e3*Math.min(100,Math.max((0,r.getConfig)().syncdPatchProtobufMaxSize(),10));return e.byteLength>t};var r=n(58117)},91236:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return l.apply(this,arguments)};var i=r(n(11504)),o=n(46666),a=n(22339),s=n(53855);function l(){return(l=(0,i.default)((function*(e){const t=new Map,n=new Map;yield Promise.all(e.map(function(){var e=(0,i.default)((function*(e){const r=yield(0,o.getSyncPendingMutationsByCollectionInTransaction)(e),i=r.map((e=>e.id)).filter(Boolean);n.set(e,i);const a=(0,s.compactPatch)(r);t.set(e,a)}));return function(){return e.apply(this,arguments)}}()));const r=yield(0,a.buildSyncIqNode)(t);return{syncIqNode:r.syncIqNode,collectionWithPendingMutationsIds:n,collectionWithEncryptedMutations:r.collectionWithEncryptedMutations,localCollectionVersions:r.localCollectionVersions,collectionsToSkip:r.collectionsToSkip}}))).apply(this,arguments)}},22339:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t._generateMutationsToUpload=Y,t.buildDeleteAllIqNode=function(){return P((0,y.wap)("delete_all_data",null))},t.buildSyncIqNode=function(){return O.apply(this,arguments)};var i=r(n(11504)),o=n(62089),a=n(58117),s=n(72279),l=n(81665),c=n(44037),u=n(98873),d=n(3537),_=n(93771),p=n(14381),f=n(57963),E=n(35813),A=n(64529),g=n(14958),h=n(948),S=n(25067),T=n(97067),m=n(39965),I=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(91002)),y=n(80780),C=r(n(7865));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function O(){return(O=(0,i.default)((function*(e){const{collectionNodes:t,collectionWithEncryptedMutations:n,localCollectionVersions:r,collectionsToSkip:i}=yield N(e);return{syncIqNode:P((0,y.wap)("sync",null,t)),collectionWithEncryptedMutations:n,localCollectionVersions:r,collectionsToSkip:i}}))).apply(this,arguments)}function P(e){return(0,y.wap)("iq",{to:y.S_WHATSAPP_NET,xmlns:"w:sync:app:state",type:"set",id:(0,y.generateId)()},e)}function N(){return b.apply(this,arguments)}function b(){return(b=(0,i.default)((function*(e){__LOG__(2)`syncd: start _buildCollectionNodes`;const t=[],n=function(){var e=(0,i.default)((function*(e,n){const r=yield(0,s.getCollectionVersionInTransaction)(e).then((e=>null==e?void 0:e.version));let i,o;if(null!=n&&n.length>0)if(null==r)__LOG__(2)`syncd: skipping ${e} in sync iq patch because initial full sync
is incomplete`,t.push(e);else{const{patchNode:t,encryptedMutations:r}=yield M(e,n);i=t,o=r}return{collection:e,version:r,patchNode:i,encryptedMutations:o}}));return function(){return e.apply(this,arguments)}}(),r=new Map,o=new Map,a=[];e.forEach(((e,t)=>a.push(n(t,e))));const l=(yield Promise.all(a)).map((e=>{const{collection:t,version:n,patchNode:i,encryptedMutations:a}=e;return a&&o.set(t,a),r.set(t,n),(0,y.wap)("collection",{name:(0,y.CUSTOM_STRING)(t),version:(0,y.INT)(null!=n?n:p.DEFAULT_COLLECTION_VERSION),return_snapshot:void 0===n?"true":"false"},i)}));return __LOG__(2)`syncd: end _buildCollectionNodes`,{collectionNodes:l,collectionWithEncryptedMutations:o,localCollectionVersions:r,collectionsToSkip:t}}))).apply(this,arguments)}function M(){return R.apply(this,arguments)}function R(){return(R=(0,i.default)((function*(e,t){const n=yield(0,A.getActiveKey)(!D(t)),r=(yield Y(e,t,n)).map((e=>(0,E.encryptMutation)(e,n))),o=yield Promise.all(r),s=o.map((e=>({indexMac:e.indexMac,valueMac:e.valueMac,operation:e.operation}))),l=yield(0,_.computeLtHash)(e,s),{snapshotMac:c,patchMac:u}=yield(0,_.computeOutgoingSnapshotAndPatchMacs)(e,l,o,n.keyData),d=o.map((e=>k(e.keyId,e.operation,e.indexMac,e.indexAndValueCipherText))),p=G(d),f=function(){var e=(0,i.default)((function*(){const e=yield(0,a.getDbImpls)().uploadSyncExternalPatch(p);return B(yield L(e,p),n.keyId,c,u)}));return function(){return e.apply(this,arguments)}}();let g;(0,S.exceedInlineMutationCount)(d)?g=yield f():(g=U(d,n.keyId,c,u),(0,S.exceedPatchProtobufSize)(g)&&(g=yield f()));return{patchNode:(0,y.wap)("patch",null,g),encryptedMutations:o}}))).apply(this,arguments)}function D(e){return(0,a.getConfig)().logoutInProgress()&&e.some((e=>JSON.parse(e.index)[0]===p.Actions.Sentinel))}function L(){return w.apply(this,arguments)}function w(){return(w=(0,i.default)((function*(e,t){const{mediaKey:n,directPath:r,encFilehash:i,handle:a}=e,s=yield(0,u.calculateFilehash)(t);return{mediaKey:n,directPath:r,handle:a,fileSizeBytes:t.byteLength,fileSha256:(0,o.decodeB64)(s),fileEncSha256:i}}))).apply(this,arguments)}function B(e,t,n,r){const i=(0,a.getConfig)().syncdPatchDeviceIndexIncluded()?(0,c.extractDeviceId)((0,a.getMyDeviceJid)()):void 0;return(0,m.encodeSyncdPatch)({keyId:{id:(0,h.fromSyncKeyId)(t)},externalMutations:e,snapshotMac:n,patchMac:r,deviceIndex:i})}function U(e,t,n,r){const i=(0,a.getConfig)().syncdPatchDeviceIndexIncluded()?(0,c.extractDeviceId)((0,a.getMyDeviceJid)()):void 0;return(0,m.encodeSyncdPatch)({keyId:{id:(0,h.fromSyncKeyId)(t)},mutations:e,snapshotMac:n,patchMac:r,deviceIndex:i})}function G(e){return(0,m.encodeSyncdMutations)({mutations:e})}function k(e,t,n,r){return{operation:t,record:{keyId:{id:(0,h.fromSyncKeyId)(e)},index:{blob:n},value:{blob:r}}}}function Y(){return F.apply(this,arguments)}function F(){return(F=(0,i.default)((function*(e,t,n){const r=yield(0,l.getSyncActionsByCollectionsInTransaction)([e]);let i=t;const o=K(r,t,n.keyId);i=i.concat(o);const a=x(r,i,n.keyId);return I.addKeyRotationRemoveCount(a.length),i=i.concat(a),i}))).apply(this,arguments)}function K(e,t,n){let r=e.filter((e=>!t.map((e=>e.index)).includes(e.index)&&!(0,f.syncKeyIdsEqual)(e.keyId,n)));r=(0,C.default)(r,(e=>(0,g.getKeyEpoch)(e.keyId)));const i=Math.min(5,(0,a.getConfig)().syncdAdditionalMutations());return r=r.slice(0,i),(0,T.syncActionsToPendingMutations)(r,d.SyncdMutation$SyncdOperation.SET)}function x(e,t,n){const r=t.map((e=>e.index)),i=e.filter((e=>r.includes(e.index))).filter((e=>!(0,f.syncKeyIdsEqual)(e.keyId,n)));return(0,T.syncActionsToPendingMutations)(i,d.SyncdMutation$SyncdOperation.REMOVE)}},97067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syncActionsToPendingMutations=function(e,t){return e.map((e=>{const n=(0,i.decodeProtobuf)(r.SyncActionDataSpec,e.binarySyncData).value,a=(0,o.encodeProtobuf)(r.SyncActionValueSpec,n).readBuffer();return{collection:e.collection,index:e.index,binarySyncAction:a,operation:t,version:e.version,timestamp:e.timestamp,action:e.action}}))};var r=n(57754),i=n(33655),o=n(32126)},53855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactPatch=function(e){return function(e,t){const n=new Set;return e.filter((e=>{const r=t(e);return!n.has(r)&&(n.add(r),!0)}))}(e.reverse(),(e=>e.index)).reverse()}},39965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeSyncActionData=function(e){try{return(0,s.encodeProtobuf)(i.SyncActionDataSpec,e).readBuffer()}catch(e){throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.ACTION_DATA_PROTOBUF_SERIALIZATION_FAILED),new o.SyncdFatalError("action data protobuf serialization failed")}},t.encodeSyncdMutations=function(e){try{return(0,s.encodeProtobuf)(r.SyncdMutationsSpec,e).readBuffer()}catch(e){throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.MUTATIONS_PROTOBUF_SERIALIZATION_FAILED),new o.SyncdFatalError("mutations protobuf serialization failed")}},t.encodeSyncdPatch=function(e){try{return(0,s.encodeProtobuf)(r.SyncdPatchSpec,e).readBuffer()}catch(e){throw(0,a.reportSyncdFatalError)(a.SyncdFatalErrorType.PATCH_PROTOBUF_SERIALIZATION_FAILED),new o.SyncdFatalError("patch protobuf serialization failed")}};var r=n(3537),i=n(57754),o=n(17760),a=n(99187),s=n(32126)},72279:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkGetCollectionVersionsInTransaction=function(e){return(0,o.runInTransaction)({CollectionVersionStore:!0},(t=>{let{CollectionVersionStore:n}=t;return n.bulkGet(e)}))},t.bulkSetCollectionSyncAttemptStartTimesInTransaction=function(e){return(0,o.runInTransaction)({CollectionVersionStore:!0},function(){var t=(0,i.default)((function*(t){let{CollectionVersionStore:n}=t;yield Promise.all((t=>e.map((e=>t.update(e.collection,{lastSyncAttemptStartTimes:e.lastSyncAttemptStartTimes}))))(n))}));return function(){return t.apply(this,arguments)}}())},t.bulkUpdateCollectionVersionInTransaction=function(e){return(0,o.runInTransaction)({CollectionVersionStore:!0},(t=>{let{CollectionVersionStore:n}=t;return n.bulkUpdate(e)}))},t.getAllCollectionVersionsInTransaction=function(){return(0,o.runInTransaction)({CollectionVersionStore:!0},(e=>{let{CollectionVersionStore:t}=e;return t.getAll()}))},t.getCollectionVersionInTransaction=function(e){return(0,o.runInTransaction)({CollectionVersionStore:!0},(t=>{let{CollectionVersionStore:n}=t;return n.get(e)}))},t.getCollectionVersionLtHash=l,t.getCollectionVersionLtHashInTransaction=function(e){return(0,o.runInTransaction)({CollectionVersionStore:!0},(t=>{let{CollectionVersionStore:n}=t;return l({CollectionVersionStore:n},e)}))},t.getIsCollectionInMacMismatchFatalInTransaction=function(e){return(0,o.runInTransaction)({CollectionVersionStore:!0},(t=>{let{CollectionVersionStore:n}=t;return n.get(e).then((e=>null==e?void 0:e.isCollectionInMacMismatchFatal))}))},t.updateCollectionVersionAndLtHashInTransaction=function(e,t,n){return(0,o.runInTransaction)({CollectionVersionStore:!0},(r=>{let{CollectionVersionStore:i}=r;return i.update(e,{version:t,ltHash:n})}))},t.updateIsCollectionInMacMismatchFatalInTransaction=function(e){return(0,o.runInTransaction)({CollectionVersionStore:!0},(t=>{let{CollectionVersionStore:n}=t;return n.update(e,{isCollectionInMacMismatchFatal:!0})}))},t.updateLastSuccessfulSyncEndTimeInTransaction=function(e){return(0,o.runInTransaction)({CollectionVersionStore:!0},(t=>{let{CollectionVersionStore:n}=t;return n.update(e,{lastSuccessfulSyncEndTime:(0,s.unixTimeMs)()})}))};var i=r(n(11504)),o=n(58117),a=n(95124),s=n(29987);function l(e,t){let{CollectionVersionStore:n}=e;return n.get(t).then((e=>{var t;return null!==(t=null==e?void 0:e.ltHash)&&void 0!==t?t:new ArrayBuffer(a.KEY_LENGTH_BYTES)}))}},77395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bulkGetMissingKeysInTransaction=function(e){return(0,r.runInTransaction)({MissingKeyStore:!0},(t=>{let{MissingKeyStore:n}=t;return n.bulkGet(e)}))},t.bulkUpdateMissingKeysInTransaction=function(e){return(0,r.runInTransaction)({MissingKeyStore:!0},(t=>{let{MissingKeyStore:n}=t;return n.bulkUpdate(e)}))},t.getAllMissingKeysInTransaction=function(){return(0,r.runInTransaction)({MissingKeyStore:!0},(e=>{let{MissingKeyStore:t}=e;return t.getAll()}))},t.getMissingKeyCountTransaction=function(){return(0,r.runInTransaction)({MissingKeyStore:!0},(e=>{let{MissingKeyStore:t}=e;return t.count()}))};var r=n(58117)},46666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bulkCreateSyncPendingMutationsInTransaction=function(e){return(0,r.runInTransaction)({PendingMutationStore:!0},(t=>{let{PendingMutationStore:n}=t;return n.bulkCreate(e)}))},t.getAllSyncPendingMutationsInTransaction=function(){return(0,r.runInTransaction)({PendingMutationStore:!0},(e=>{let{PendingMutationStore:t}=e;return t.getAll()}))},t.getSyncPendingMutationsByCollectionInTransaction=function(e){return(0,r.runInTransaction)({PendingMutationStore:!0},(t=>{let{PendingMutationStore:n}=t;return n.getByCollection(e)}))};var r=n(58117)},81665:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bulkUpdateSyncActionsInTransaction=function(e){return(0,r.runInTransaction)({SyncActionStore:!0},(t=>{let{SyncActionStore:n}=t;return n.bulkUpdate(e)}))},t.countSyncActionsInTransaction=function(){return(0,r.runInTransaction)({SyncActionStore:!0},(e=>{let{SyncActionStore:t}=e;return t.count()}))},t.getAllSyncActions=function(){return(0,r.runInTransaction)({SyncActionStore:!0},(e=>{let{SyncActionStore:t}=e;return t.getAll()}))},t.getSyncActionInTransaction=function(e){return(0,r.runInTransaction)({SyncActionStore:!0},(t=>{let{SyncActionStore:n}=t;return n.get(e)}))},t.getSyncActionsByActionStatesInTransaction=function(e){return(0,r.runInTransaction)({SyncActionStore:!0},(t=>{let{SyncActionStore:n}=t;return n.getByActionStates(e)}))},t.getSyncActionsByCollectionsInTransaction=function(e){return(0,r.runInTransaction)({SyncActionStore:!0},(t=>{let{SyncActionStore:n}=t;return n.getByCollections(e)}))},t.getSyncActionsByIndexMacsInTransaction=function(e){return(0,r.runInTransaction)({SyncActionStore:!0},(t=>{let{SyncActionStore:n}=t;return n.getByIndexMacs(e)}))},t.getSyncActionsByModelInfosInTransaction=function(e){return(0,r.runInTransaction)({SyncActionStore:!0},(t=>{let{SyncActionStore:n}=t;return n.getByModelInfos(e)}))};var r=n(58117)},89761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expireSyncKeyInTransaction=function(e){return(0,r.runInTransaction)({SyncKeyStore:!0},(t=>{let{SyncKeyStore:n}=t;return n.expire(e)}))},t.getAllSyncKeysInTransaction=function(){return(0,r.runInTransaction)({SyncKeyStore:!0},(e=>{let{SyncKeyStore:t}=e;return t.getAll()}))},t.getSyncKeyInTransaction_DO_NOT_USE=function(e){return(0,r.runInTransaction)({SyncKeyStore:!0},(t=>{let{SyncKeyStore:n}=t;return n.get(e)}))},t.setSyncKeyInTransaction=function(e){return(0,r.runInTransaction)({SyncKeyStore:!0},(t=>{let{SyncKeyStore:n}=t;return n.set(e)}))};var r=n(58117)},37376:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBootstrap=function(e){return null==e},t.isCriticalCollection=function(e){switch(e){case r.CollectionName.CriticalBlock:case r.CollectionName.CriticalUnblockLow:return!0;case r.CollectionName.Regular:case r.CollectionName.RegularHigh:case r.CollectionName.RegularLow:return!1}};var r=n(14381)},5838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRE_METRIC=void 0;const r=n(54302)({DECRYPT_MESSAGE_FINAL:"decrypt_message_final",FRANKING_VALIDATION:"franking_validation",GET_DEVICES:"get_devices",MEDIA_DOWNLOAD:"media_download",MEDIA_UPLOAD:"media_upload",DELETE_THREAD:"delete_thread",DOWNLOAD_AND_DECRYPT:"download_and_decrypt",MESSAGE_DECRYPTION:"message_decryption",MESSAGE_ENCRYPTION:"message_encryption",OFFLINE_QUEUE:"offline_queue",OFFLINE_RETRY:"offline_retry",ICDC_ERROR:"icdc_error",QUERY_GROUP:"query_group",QUERY_GROUPS:"query_groups",RETRY_RECEIPTS_SENT:"retry_receipts_sent",SYNCD_FATAL_ERROR:"syncd_fatal_error",SYNCD_CRITICAL_EVENT:"syncd_critical_event",SYNCD_CRITICAL_BOOTSTRAP_STAGE:"syncd_critical_bootstrap_stage",SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD:"syncd_bootstrap_app_state_download",SYNCD_DECRYPT_MUTATIONS:"syncd_decrypt_mutations",SYNCD_BOOTSTRAP_DATA_APPLIED:"syncd_bootstrap_data_applied",APP_STATE_SYNC_DAILY:"app_state_sync_daily",SYNCD:"syncd",SEND_MESSAGE:"send_message",RECEIVE_MESSAGE:"receive_message",SYNCD_KEY_ROTATION:"syncd_key_rotation",WA_FAILURE_STANZA:"wa_failure_stanza",REMOVE_PARTICIPANTS:"remove_participants",CREATE_GROUP:"create_group",WA_JOBS_ORCHESTRATOR:"wa_jobs_orchestrator",WA_DISCONNECT:"wa_disconnect",WA_JOB_MANAGER:"wa_job_manager",STANZA_QUEUE_MESSAGE_CONSUMER:"stanza_queue_message_consumer",WA_FAIL_STANZA_QUEUE_ITEM:"stanza_queue_item_failure",STANZA_PROCESSING:"stanza_processing"});t.PRE_METRIC=r},13783:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clear=void 0,t.startMetric=function(e,t,r){null==r&&n++;const o=null!=r?r:n;i(null==r?{name:e,stage:"START",instanceKey:o,annotations:t}:{name:e,stage:"RESUME",instanceKey:o,annotations:t});return{addPoint(t,n){i({name:e,stage:"POINT",reason:t,instanceKey:o,annotations:n})},addAnnotations(t){i({name:e,stage:"ANNOTATE",instanceKey:o,annotations:t})},endSuccess(t){i({name:e,stage:"SUCCESS",instanceKey:o,annotations:t})},endFail(t,n){i({name:e,stage:"FAIL",reason:t,instanceKey:o,annotations:n})},getFlowDetails:()=>({name:e,instanceKey:o})}},t.subscribe=void 0;let n=0;const r=function(){const e=[];return{subscribe:function(t){e.push(t)},notify:function(t){0===e.length&&__LOG__(4,void 0,new Error)`[PRE] There are no subscribers to PRE events`,e.forEach((e=>{e(t)}))},clear:function(){__LOG__(3)`Removing all listeners from PRE_METRICS`,e.length=0}}}(),i=r.notify,o=r.clear;t.clear=o;const a=r.subscribe;t.subscribe=a},44400:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.NOT_HANDLED=t.DynamicRouter=void 0;var i=r(n(82065));const o={sentinel:"RESPONSE_NAMESPACE"},a={sentinel:"NOT_HANDLED"};t.NOT_HANDLED=a;function s(e,t){const n=t.namespace;return n===o?l:e.get(n)}function l(e,t,n){n(t)}function c(e){if(null!=e&&("object"==typeof e||"function"==typeof e)){const t=e.then;return"function"==typeof t?t:null}return null}t.DynamicRouter=class{constructor(){var e=this;this._basePromise=Promise.resolve(),this._handlers=new Map,this._handlerChangeCount=0,this._firstRoute=null,this._nextRoute=null,this._lastRoute=null,this.fireAndForget=function(t,n,r){var i;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null===(i=e._onRouteCalled)||void 0===i||i.call(e,t,n,r),e._schedule(t,n,r,null,o)},this.sendAndReceive=function(t,n,r){var i;let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null===(i=e._onRouteCalled)||void 0===i||i.call(e,t,n,r),new Promise(((i,s)=>{e._schedule(t,n,r,(t=>{try{const n=c(t);n?n.call(t,(t=>{e._schedule(o,"",t,i,a)}),(t=>{e._schedule(o,"",t,s,!1)})):e._schedule(o,"",t,i,a)}catch(t){e._schedule(o,"",t,s,!1)}}),a)}))},this._run=()=>{let e=this._nextRoute;if(!e)return;const t=this._handlers;let n;for(;e&&!(n=s(t,e));)this._nextRoute=e=e.nextRoute;if(!e||!n)return;const r=this._runHandler(n,e);let i=!0;if(r!==a){const t=e.prevRoute,n=e.nextRoute;this._nextRoute===e&&(this._nextRoute=n),t?t.nextRoute=n:this._firstRoute=n,n?n.prevRoute=t:(i=!1,this._lastRoute=t)}return i&&this._basePromise.then(this._run),r}}hasHandlerForNamespace(e){return this._handlers.has(e)}getHandledNamespaces(){return Array.from(this._handlers.keys())}setOnRouteCalled(e){this._onRouteCalled=e}setNamespaceHandler(e,t){const n=this._handlers,r=n.get(e);if(r!==t&&(++this._handlerChangeCount,n.set(e,t),!r)){const e=this._firstRoute;e&&(this._nextRoute||this._basePromise.then(this._run),this._nextRoute=e)}}setHandlers(e,t){this.setNamespaceHandler(e,(function(n,r,o){if(null==t[n])throw __LOG__(4,void 0,new Error)`${n} is not defined for ${e}`,(0,i.default)(`${n} is not defined for ${e}`);const a=t[n](r);o&&o(a)}))}_schedule(e,t,n,r,i){const o=this._lastRoute,a={namespace:e,route:t,arg:n,resolver:r,prevRoute:o,nextRoute:null,silentLog:i};this._lastRoute=a;let l=!0;o?(o.nextRoute=a,l=!this._nextRoute):this._firstRoute=a,l&&s(this._handlers,a)&&(this._nextRoute=a,this._basePromise.then(this._run))}_runHandler(e,t){const{route:n,arg:r,resolver:o,silentLog:s}=t,l=this._handlerChangeCount;let c=null,u=null;try{c=e(n,r,o,s)}catch(e){u=Promise.reject(e)}if(c===a){if(l!==this._handlerChangeCount)return a;u=Promise.reject((0,i.default)("DynamicRouter: NOT_HANDLED can only be used when updating handlers"))}if(!o)return u;u&&o(u)}}},77095:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JobBuilder=void 0,t.definePersistedJob=function(){return new o([])};var r=n(29261),i=n(29987);class o{constructor(e){this.steps=e}step(e,t){return this._stepWithOptions(e,"function"==typeof t?{code:t}:t)}_stepWithOptions(e,t){const{stopRetryIf:n,requirements:l,code:c}=t;let u=s(l,c,n);if(n){const{timePassedSeconds:e,appCrashed:t,onStopRetry:o}=n,l=s(null,function(e){return(t,n,i)=>Promise.resolve(e(t,n,i)).then((e=>e instanceof r.InterruptJob?e:new r.InterruptJob(e)))}(o),n);null!=e&&(u=a(((t,n,r)=>{let{jobStartTime:o}=r;return(0,i.happenedWithin)(o,e)}),u,l)),t&&(u=a(((e,t,n)=>{let{afterCrash:r}=n;return!r}),u,l))}return new o([...this.steps,{stepName:e,info:u}])}finalStep(e,t){const n=this.step(e,t);return{end:()=>n.steps}}}function a(e,t,n){return(r,i,o)=>e(r,i,o)?t(r,i,o):n(r,i,o)}function s(e,t,n){const r={requirements:e,code:t,stopRetryIf:n};return()=>r}t.JobBuilder=o},85500:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsatisfiableJobRequirement=t.JobRequirement=void 0,t.joinRequirements=function(e,t){const n=e.filter((e=>!e.isSatisfiable()));if(n.length>0){const e=n.map((e=>e.name));return r=>(null==t||t("unsatisfiable",e,r),n[0].waitUntilSatisfied())}let r=e.map((()=>Promise.resolve())),i=Promise.resolve(),o=null;const a=()=>{if(r.every(((t,n)=>t===e[n].waitUntilSatisfied())))return void(o=null);const t=[],n=e.map((e=>{const n=e.waitUntilSatisfied();return e.isSatisfied()||(t.push(e.name),n.then((()=>{const n=t.indexOf(e.name);t.splice(n,1)}))),n}));return r=n,o=t,Promise.all(n).then(a)};return e=>{if(null==o){const e=a();null!=e&&(i=i.then((()=>e)))}return null==t||t(null==o?"satisfied":"unsatisfied",o,e),i}};class n{constructor(e){this._waitingOn=Promise.resolve(),this._satisfied=!0,this._newBlockers=null,this._blockersFinished=()=>{const e=this._newBlockers;if(null!=e)return this._newBlockers=null,Promise.all(e).then(this._blockersFinished);this._satisfied=!0},this.name=e}addBlocker(e){const t=e.catch((e=>{__LOG__(4,void 0,new Error,!0)`JobRequirement[${this.name}] blocker errored ${e}`,SEND_LOGS("job-blocker-rejected")}));if(this._satisfied)this._satisfied=!1,this._waitingOn=Promise.all([this._waitingOn,t]).then(this._blockersFinished);else{const e=this._newBlockers;null!=e?e.push(t):this._newBlockers=[t]}}waitUntilSatisfied(){return this._waitingOn}isSatisfied(){return this._satisfied}isSatisfiable(){return!0}}t.JobRequirement=n;t.UnsatisfiableJobRequirement=class extends n{constructor(e){super(e),super.addBlocker(new Promise((()=>{})))}addBlocker(){}isSatisfiable(){return!1}}},29261:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.UNSTARTED_JOB=t.RetryOnBackoff=t.RequiresPage=t.PersistedJobManager=t.InterruptJob=t.FINISHED_JOB=void 0;var i=r(n(11504)),o=n(85500),a=n(39959),s=n(29987);class l{constructor(e){this.feature=e}toString(){return`RequiresPage: ${this.feature}`}}t.RequiresPage=l;class c{constructor(e){this.backoffOptions=e}toString(){return"RetryOnBackoff"}}t.RetryOnBackoff=c;class u{constructor(e){this.result=e}}t.InterruptJob=u;const d="$unstarted";t.UNSTARTED_JOB=d;const _="$finished";t.FINISHED_JOB=_;function p(e){return`Job[${e.jobId}] (${e.type})`}function f(e){return`Job[${e.jobId}] (${e.type}.${e.step})`}function E(e,t,n){"unsatisfiable"===e?__LOG__(2)`${f(n)} halting because of ${t}`:"unsatisfied"===e&&__LOG__(2)`${f(n)} waiting on ${t}`}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{jobStartTime:e.startTime,afterCrash:t,interruptJob:g}}function g(e){return new u(e)}t.PersistedJobManager=class{constructor(e){const{isRestartAfterCrash:t,accessors:n,unfinishedJobEntries:r}=e,i=new Map,o=r.then((e=>{const r=[],o=[];return e.forEach((e=>{e.stepHardStartCountAfterTimeout>=5?r.push(e):o.push(e)})),Promise.all(r.map((e=>{var t;return __LOG__(4,void 0,new Error,!0)`${t=e,`[Job ${t.type}] `}: stuck on the step ${e.step}, aborting the job`,SEND_LOGS(`job-stuck-${e.type}`),n.deletePersistedJob(e.jobId)}))).then((()=>{o.forEach((e=>{i.has(e.jobId)||(__LOG__(2)`${p(e)}: restarting`,i.set(e.jobId,this._runJob(e,t)))}))}))}));this.implementationLoaders=new Map,this.implementations=new Map,this.stepBlockers=new WeakMap,this.accessors=n,this.activeJobs=i,this.initialJobsPromise=o,this.listeners=e.listeners,this.deprecatedJobs=e.deprecatedJobs}loadAndRunJobFromId(e){const t=this.activeJobs.get(e);if(null!=t)return t;const n=this._loadAndRunJobFromId(e);return this.activeJobs.set(e,n),n}_loadAndRunJobFromId(e){var t=this;return(0,i.default)((function*(){const{initialJobsPromise:n,accessors:r}=t;yield n;const i=yield r.readPersistedJob(e);return i?t._runJob(i,!1):(__LOG__(3)`Persisted job missing for given ID`,null)}))()}_getJobImplementation(e){const{implementations:t,implementationLoaders:n}=this,r=t.get(e);if(r)return r;const i=n.get(e);if(!i)return null;const o=i();return t.set(e,o),o}_waitForBlockers(e,t){if(null==t||0===t.length)return Promise.resolve();const{stepBlockers:n}=this;let r=n.get(t);return null==r&&(r=(0,o.joinRequirements)(t.map((e=>e())),E),n.set(t,r)),r(e)}_runRemainingSteps(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;const{step:i}=e,o=t.findIndex((e=>e.stepName===i)),{requirements:a,code:l}=t[o].info(e.current,e.original,A(e,n));let c=this._waitForBlockers(e,a);return r&&(c=c.then(r)),c.then((()=>(__LOG__(2)`${f(e)}: running step`,l(e.current,e.original,A(e,n))))).then((r=>{if(r instanceof u)return __LOG__(2)`${f(e)}: InterruptJob`,r.result;const i=o+1;if(i>=t.length)return r;const a=t[i];return e.step=a.stepName,e.current=r,e.stepHardStartCountAfterTimeout=0,e.stepFirstStartTime=(0,s.unixTime)(),e.stepUnexpectedErrorCount=0,e.waitUntil=null,e.backedOffCount=0,this.accessors.updatePersistedJob(e).then((()=>this._runRemainingSteps(e,t,n)))}))}_runJob(e,t){var n=this;return(0,i.default)((function*(){var r;const{accessors:o,activeJobs:u,deprecatedJobs:E,listeners:{onJobFinished:g,onJobStarted:h}}=n;let S=yield n._getJobImplementation(e.type);const T=E[e.type];if(!S){if(!T)return __LOG__(4,void 0,new Error,!0)`No implementation for ${e.type}. Maybe it should have been put to the deprecated list?`,SEND_LOGS("missing-job-implementation"),yield o.deletePersistedJob(e.jobId),null;if("NOOP"===T)return __LOG__(3)`No implementation for deprecated ${e.type}, job deleted`,yield o.deletePersistedJob(e.jobId),null;S=yield T()}const m=S;T&&__LOG__(2)`Running deprecated job ${e.type}`;const I=null!==(r=e.stepFirstStartTime)&&void 0!==r?r:(0,s.unixTime)();if(e.stepFirstStartTime=I,e.stepUnexpectedErrorCount=e.stepUnexpectedErrorCount||0,e.backedOffCount=e.backedOffCount||0,e.step===_){let t=e.waitUntil;const r=(0,s.secondsUntil)(I);return null!=t&&(0,s.isInFuture)(t)&&r>0&&(__LOG__(2)`${p(e)}: skew detected, adjusting accordingly`,t=(0,s.castToUnixTime)(t-r),(0,s.isInFuture)(t)&&(e.stepFirstStartTime=(0,s.castToUnixTime)(I-r),e.waitUntil=t,yield n.accessors.updatePersistedJob(e))),null!=t&&(0,s.isInFuture)(t)||(__LOG__(2)`${p(e)}: removing completed, expired job from db`,yield o.deletePersistedJob(e.jobId)),u.delete(e.jobId),e.current}const y=e.step!==d?S.find((t=>t.stepName===e.step)):S[0];if(!y)return __LOG__(4,void 0,new Error,!0)`No implementation for ${e.type}.${e.step}`,SEND_LOGS("missing-job-step"),yield o.deletePersistedJob(e.jobId),null;e.step=y.stepName;const C=()=>{const r=e.waitUntil;let i=Promise.resolve();if(null!=r){const t=(0,s.futureUnixTime)(s.DAY_SECONDS);r>t?(__LOG__(2)`${f(e)}: trim wait from ${r} to ${t}`,e.waitUntil=t,i=n.accessors.updatePersistedJob(e).then((()=>(0,s.delayUntil)(t)))):(__LOG__(2)`${f(e)}: delaying until ${r}`,i=(0,s.delayUntil)(r))}return i.then((()=>n._runRemainingSteps(e,m,t,(()=>(e.waitUntil=null,(0,s.happenedWithin)(I,s.DAY_SECONDS)||e.stepHardStartCountAfterTimeout++,n.accessors.updatePersistedJob(e)))).catch((t=>{if(t instanceof l)return __LOG__(2)`${f(e)}: requires page`,e.stepHardStartCountAfterTimeout>0&&(--e.stepHardStartCountAfterTimeout,n.accessors.updatePersistedJob(e)),new Promise((()=>{}));if(t instanceof c){__LOG__(2)`${f(e)}: RetryOnBackoff`;const r=(0,a.getDelay)(++e.backedOffCount,t.backoffOptions);return e.waitUntil=(0,s.futureUnixTime)(Math.ceil(r/1e3)),e.stepHardStartCountAfterTimeout>0&&--e.stepHardStartCountAfterTimeout,n.accessors.updatePersistedJob(e).then(C)}if(e.stepUnexpectedErrorCount<1)return __LOG__(3)`${f(e)}: Unhandled exception. Tried ${e.stepUnexpectedErrorCount} times`,e.stepUnexpectedErrorCount++,n.accessors.updatePersistedJob(e).then(C);throw t}))))},v=C(),O=v.then(function(){var t=(0,i.default)((function*(t){__LOG__(2)`${f(e)}: finished job`;let r=null;try{r=g(e.jobId,e.type,e.original,t)}catch(t){__LOG__(4,void 0,new Error,!0)`onJobFinished for ${e.type} threw exception ${t}`,SEND_LOGS("onJobFinished-threw")}null!=r&&r>0?(e.waitUntil=(0,s.futureUnixTime)(Math.ceil(r/1e3)),e.step=_,e.current=t,e.stepFirstStartTime=(0,s.unixTime)(),yield n.accessors.updatePersistedJob(e)):(yield o.deletePersistedJob(e.jobId),u.delete(e.jobId))}));return function(){return t.apply(this,arguments)}}(),function(){var n=(0,i.default)((function*(n){__LOG__(4,void 0,new Error,!0)`${e.type} failed with error ${n}`,SEND_LOGS(`job-threw-exception-${e.type}`);const r=m.find((t=>t.stepName===e.step));if(r){const n=r.info(e.current,e.original,A(e,t));null!=n.stopRetryIf&&(yield n.stopRetryIf.onStopRetry(e.current,e.original,A(e,t)))}else __LOG__(4,void 0,new Error)`${e.type}: ${e.step} step not found`;yield o.deletePersistedJob(e.jobId),u.delete(e.jobId)}));return function(){return n.apply(this,arguments)}}());try{h(e.jobId,e.type,e.original)}catch(t){__LOG__(4,void 0,new Error,!0)`onJobStarted for ${e.type} threw exception ${t}`,SEND_LOGS("onJobStarted-threw")}return O.then((()=>v))}))()}addPersistedJobImplementation(e,t){const{implementationLoaders:n,deprecatedJobs:r}=this;if(n.has(e))return __LOG__(4,void 0,new Error,!0)`addPersistedJobImplementation called twice for ${e}`,void SEND_LOGS("repeat-job-loader");r&&r[e],n.set(e,t)}fireAndForget(e){this.accessors.maybeCreateJob(e).then((e=>{let{id:t}=e;return this.loadAndRunJobFromId(t)}))}waitUntilPersisted(e){return this.accessors.maybeCreateJob(e).then((e=>{let{id:t}=e;this.loadAndRunJobFromId(t)}))}waitUntilCompleted(e){return this.accessors.maybeCreateJob(e).then((e=>{let{id:t}=e;return this.loadAndRunJobFromId(t)}))}fireAndForgetNonPersisted(){__LOG__(2)`fireAndForgetNonPersisted not implemented in PersistedJobManager`}waitUntilCompletedNonPersisted(){return Promise.resolve((()=>__LOG__(2)`waitUntilCompletedNonPersisted not implemented in PersistedJobManager`))}}},75419:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JOB_PRIORITY=t.DEFAULT_JOB_TIMEOUT_MS=t.DEFAULT_JOB_PRIORITY=t.DEFAULT_CONCURRENCY=void 0;const r=n(54302)({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",BEST_EFFORT:"BEST_EFFORT"});t.JOB_PRIORITY=r;t.DEFAULT_CONCURRENCY=1;const i=r.LOW;t.DEFAULT_JOB_PRIORITY=i;t.DEFAULT_JOB_TIMEOUT_MS=1e4},31758:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.WAConcurrentBucketJobQueue=void 0;var i=r(n(11504)),o=r(n(73982)),a=n(62089),s=n(66911),l=r(n(82065)),c=n(75419),u=n(70453),d=n(9612),_=r(n(49619)),p=n(77689);const f=new Map([[c.JOB_PRIORITY.HIGH,5],[c.JOB_PRIORITY.LOW,1]]);t.WAConcurrentBucketJobQueue=class{constructor(){this._isInitialized=!1,this._maxThreadsCount=0,this._availableThreadsCount=0,this._bestEffortBucketWaitTimeoutSec=0,this._jobBucketsMap=new Map,this._remainingJobCountMap=new Map,this._jobQuotaConfig=new Map,this._initTimestampMs=0}init(e,t){var n,r,i,o,a;if(this._isInitialized)throw(0,l.default)("WAConcurrentBucketJobQueue has already initialized");this._bestEffortBucketWaitTimeoutSec=null!==(n=null==e?void 0:e.bestEffortWaitTimeoutSec)&&void 0!==n?n:30,this._maxThreadsCount=e.maxConcurrency,this._availableThreadsCount=e.maxConcurrency,this._jobLogger=t,this._jobQuotaConfig=this._getMergedQuotaConfig(null==e?void 0:e.jobPrioritiesQuota),this._remainingJobCountMap=new Map(this._jobQuotaConfig),this._jobBucketsMap=new Map,this._initTimestampMs=Date.now();const s=new u.BaseJobBucket({jobMaxConcurrencyMap:null!==(r=e.maxConcurrencyPerJob)&&void 0!==r?r:{}}),d=new u.LowJobBucket({jobMaxConcurrencyMap:null!==(i=e.maxConcurrencyPerJob)&&void 0!==i?i:{}}),_=new u.LowJobBucket({jobMaxConcurrencyMap:null!==(o=e.maxConcurrencyPerJob)&&void 0!==o?o:{}}),p=new u.BaseJobBucket({jobMaxConcurrencyMap:null!==(a=e.maxConcurrencyPerJob)&&void 0!==a?a:{}});this._jobBucketsMap.set(c.JOB_PRIORITY.UI_ACTION,s),this._jobBucketsMap.set(c.JOB_PRIORITY.HIGH,s),this._jobBucketsMap.set(c.JOB_PRIORITY.OFFLINE,p),this._jobBucketsMap.set(c.JOB_PRIORITY.LOW,d),this._jobBucketsMap.set(c.JOB_PRIORITY.BEST_EFFORT,_),this._isInitialized=!0}updateConfig(e){this._availableThreadsCount+=e.maxConcurrency-this._maxThreadsCount,this._maxThreadsCount=e.maxConcurrency,this._jobBucketsMap.forEach((t=>{var n;return t.updateConfig({jobMaxConcurrencyMap:null!==(n=e.maxConcurrencyPerJob)&&void 0!==n?n:{}})})),this._jobQuotaConfig=this._getMergedQuotaConfig(null==e?void 0:e.jobPrioritiesQuota),__LOG__(2)`[job-orchestator]: updated WAConcurrentBucketJobQueue config`}isInitialized(){return this._isInitialized}clearQueue(){if(!this._isInitialized)throw(0,l.default)("WAConcurrentBucketJobQueue not initialized");this._jobBucketsMap.forEach((e=>e.clear()))}getIntStats(){const e=e=>{var t,n;const r=this._jobBucketsMap.get(e);return(null!==(t=null==r?void 0:r.count())&&void 0!==t?t:0)+(null!==(n=null==r?void 0:r.pendingCount())&&void 0!==n?n:0)};return{highPriorityBucketSize:e(c.JOB_PRIORITY.HIGH),lowPriorityBucketSize:e(c.JOB_PRIORITY.LOW),bestEffortPriorityBucketSize:e(c.JOB_PRIORITY.BEST_EFFORT)}}getStringStats(){const e=e=>{var t,n;const r=null!==(t=null===(n=this._jobBucketsMap.get(e))||void 0===n?void 0:n.getStats())&&void 0!==t?t:{},[,i]=Object.keys(r).reduce(((e,t)=>{let[n,i]=e;const o=r[t];return o>n?[o,t]:[n,i]}),[0,null]);return i};return{highPriorityMaxJob:e(c.JOB_PRIORITY.HIGH),lowPriorityMaxJob:e(c.JOB_PRIORITY.LOW),bestEffortPriorityMaxJob:e(c.JOB_PRIORITY.BEST_EFFORT)}}enqueue(e,t,n,r){var u,_,p=this;if(!this._isInitialized)return Promise.reject((0,l.default)("WAConcurrentBucketJobQueue not initialized"));let f,E;const A=new Promise(((e,t)=>{f=e,E=t})),g=(0,o.default)({priority:c.DEFAULT_JOB_PRIORITY},n),h=this.getJobBucketByType(g.priority);if(!h)return Promise.reject((0,l.default)(`WAConcurrentBucketJobQueue no bucket for job with name ${e} was found.`));(0,d.getEventLoopDelay)().then((e=>{null==r||r.addPoint("measure_event_loop_delay",{int:{eventLoopDelay:e}})})),null==r||r.addPoint("scheduling_job",{string:(0,o.default)((0,o.default)({},this.getStringStats()),{},{priority:g.priority}),int:(0,o.default)((0,o.default)({},this.getIntStats()),{},{maxTimeoutMs:null!==(u=null==n?void 0:n.maxTimeoutMs)&&void 0!==u?u:0})});const S=`${g.priority}-${e}-${null!==(_=null==n?void 0:n.jobId)&&void 0!==_?_:(0,a.randomBase64)(8)}`,T=h.add(e,g,S,(0,i.default)((function*(){try{p._jobLogger.logJobStarted(S);const e=yield p._promiseTimeoutWrapper(t(),null==n?void 0:n.maxTimeoutMs);p._jobLogger.logJobCompleted(S),f(e)}catch(e){e instanceof s.TimeoutError?p._jobLogger.logJobTimeout(S):p._jobLogger.logJobError(S),E(e)}})));return this._jobLogger.logJobCreated({jobId:S,jobName:e,jobPriority:g.priority,pendingJobsCount:h.count()}),n&&n.priority===c.JOB_PRIORITY.UI_ACTION&&this._runJobTask(T),this._runJobTasks(),A}getAvailableThreadsCount(){return this._availableThreadsCount}getJobQuotaConfig(){return this._jobQuotaConfig}getRemainingJobCountMap(){return this._remainingJobCountMap}getJobBucketByType(e){return this._jobBucketsMap.get(e)}_getMergedQuotaConfig(e){let t;return t=e?new Map(e):new Map(f),t.set(c.JOB_PRIORITY.BEST_EFFORT,0),t}_getJobsRemainingQuota(e){var t;return null!==(t=this._remainingJobCountMap.get(e))&&void 0!==t?t:0}_refreshJobsRemainingQuota(){this._remainingJobCountMap=new Map(this._jobQuotaConfig)}_getNextJobBucket(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=0,n=null,r=0;this._jobBucketsMap.forEach(((e,i)=>{t+=null==e?void 0:e.count(),r+=this._getJobsRemainingQuota(i),null==n&&e.count()>0&&this._getJobsRemainingQuota(i)>0&&(n=e)}));const i=null==n||0===r;return i&&this._refreshJobsRemainingQuota(),this._shouldRunBestEffortBucket(t,i)?this.getJobBucketByType(c.JOB_PRIORITY.BEST_EFFORT):null==n&&e?this._getNextJobBucket(!1):n}_shouldRunBestEffortBucket(e,t){var n;function r(e,t){const n=Date.now();return!(e>n)&&n-e<1e3*t}const i=this.getJobBucketByType(c.JOB_PRIORITY.BEST_EFFORT),o=e-(null!==(n=null==i?void 0:i.count())&&void 0!==n?n:0),a=null==i?void 0:i.getLastJobStartedTimestamp();if(0===(null==i?void 0:i.count()))return!1;if(null==a&&r(this._initTimestampMs,this._bestEffortBucketWaitTimeoutSec)){if(null==this._bestEffortScheduledRun){const e=function(e,t){const n=Math.ceil(e-Date.now())+1e3*t;return n>0?n:0}(this._initTimestampMs,this._bestEffortBucketWaitTimeoutSec);this._bestEffortScheduledRun=setTimeout((()=>{this._runJobTasks(),this._bestEffortScheduledRun=null}),e)}return!1}return!(o>0&&null!=a&&r(a,this._bestEffortBucketWaitTimeoutSec))&&t}_getJobBucketByJobId(e){const t=this._getJobBucketTypeByJobId(e);return(0,_.default)(this._jobBucketsMap.get(t),"this._jobBucketsMap.get((type: JOB_PRIORITY))")}_getJobBucketTypeByJobId(e){const t=e.split("-")[0],n=c.JOB_PRIORITY.cast(t);if(!n)throw(0,l.default)(`ConcurrentBucketQueue cannot extract known job priority type from id: ${e}`);return n}_decrementJobsQuota(e){const t=this._getJobBucketTypeByJobId(e);this._getJobsRemainingQuota(t)>0?this._remainingJobCountMap.set(t,this._getJobsRemainingQuota(t)-1):this._remainingJobCountMap.set(t,0)}_runJobTasks(){for(;this._availableThreadsCount>0;){const e=this._getNextJobBucket(),t=null==e?void 0:e.next();if(null==t)break;t.forEach((e=>{this._decrementJobsQuota(e.jobId),this._runJobTask(e)}))}}_promiseTimeoutWrapper(e,t){return void 0!==t?(0,p.promiseTimeout)(e,t):e}_runJobTask(e){var t=this;return(0,i.default)((function*(){const n=t._getJobBucketByJobId(e.jobId);t._availableThreadsCount--,n.markJobTaskPending(e);const{run:r,jobId:i,jobName:o}=e;try{var a;yield t._promiseTimeoutWrapper(r(),void 0===(null===(a=e.jobInfo)||void 0===a?void 0:a.maxTimeoutMs)?c.DEFAULT_JOB_TIMEOUT_MS:void 0)}catch(e){if(!(e instanceof s.TimeoutError))throw e;t._jobLogger.logJobTimeout(i),__LOG__(2)`[job-orchestator]: ${o} exceeding the timeout, release the thread.`}finally{t._availableThreadsCount++,n.markJobTaskDone(i),t._availableThreadsCount>0&&setTimeout((()=>t._runJobTasks()),0)}}))()}}},47624:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.WAConcurrentPreemptiveJobQueue=void 0;var i=r(n(11504)),o=r(n(73982)),a=n(66911),s=r(n(82065)),l=n(65982),c=n(75419),u=n(77689);t.WAConcurrentPreemptiveJobQueue=class{constructor(){this._isInitialized=!1,this._maxThreadsCount=0,this._availableThreadsCount=0,this._jobMaxConcurrency={},this._tasks=[],this._pendingTasks=[]}init(e,t){var n;if(this._isInitialized)throw(0,s.default)("ConcurrentPreemptiveJobQueue has already initialized");this._maxThreadsCount=e.maxConcurrency,this._availableThreadsCount=e.maxConcurrency,this._jobMaxConcurrency=null!==(n=e.maxConcurrencyPerJob)&&void 0!==n?n:{},this._jobLogger=t,this._isInitialized=!0}updateConfig(e){var t;this._availableThreadsCount+=e.maxConcurrency-this._maxThreadsCount,this._maxThreadsCount=e.maxConcurrency,this._jobMaxConcurrency=null!==(t=e.maxConcurrencyPerJob)&&void 0!==t?t:{},__LOG__(2)`[job-orchestator]: updated ConcurrentPreemptiveJobQueue config`}isInitialized(){return this._isInitialized}clearQueue(){if(!this._isInitialized)throw(0,s.default)("ConcurrentPreemptiveJobQueue not initialized");this._tasks=[],this._pendingTasks=[]}enqueue(e,t,n){var r,u=this;if(!this._isInitialized)return Promise.reject((0,s.default)("ConcurrentPreemptiveJobQueue not initialized"));let d,_;const p=new Promise(((e,t)=>{d=e,_=t})),f=(0,o.default)({priority:c.DEFAULT_JOB_PRIORITY},n),E=null!==(r=null==n?void 0:n.jobId)&&void 0!==r?r:(0,l.randomHex)(8).substr(0,64),A=this._addJobTask(e,f,E,(0,i.default)((function*(){try{u._jobLogger.logJobStarted(E);const e=yield u._promiseTimeoutWrapper(t(),null==n?void 0:n.maxTimeoutMs);u._jobLogger.logJobCompleted(E),d(e)}catch(e){e instanceof a.TimeoutError?u._jobLogger.logJobTimeout(E):u._jobLogger.logJobError(E),_(e)}})));return n&&n.priority===c.JOB_PRIORITY.UI_ACTION&&this._runJobTask(A),this._runJobTasks(),p}getAvailableThreadsCount(){return this._availableThreadsCount}getJobMaxConcurrency(){return this._jobMaxConcurrency}_runJobTasks(){for(;this._availableThreadsCount>0;){const e=this._getNextJobTask();if(null==e)break;this._runJobTask(e)}}_promiseTimeoutWrapper(e,t){return void 0!==t?(0,u.promiseTimeout)(e,t):e}_runJobTask(e){var t=this;return(0,i.default)((function*(){t._availableThreadsCount--,t._markJobTaskPending(e);const{run:n,jobId:r,jobName:i}=e;try{var o;yield t._promiseTimeoutWrapper(n(),void 0===(null===(o=e.jobInfo)||void 0===o?void 0:o.maxTimeoutMs)?c.DEFAULT_JOB_TIMEOUT_MS:void 0)}catch(e){if(!(e instanceof a.TimeoutError))throw e;t._jobLogger.logJobTimeout(r),__LOG__(2)`[job-orchestator]: ${i} exceeding the timeout, release the thread.`}finally{t._availableThreadsCount++,t._markJobTaskDone(r),setTimeout((()=>t._runJobTasks()),0)}}))()}_addJobTask(e,t,n,r){const i={jobId:n,jobInfo:t,jobName:e,run:r};return this._jobLogger.logJobCreated({jobId:n,jobName:e,jobPriority:t.priority,pendingJobsCount:this._tasks.length}),this._tasks.push(i),i}_markJobTaskPending(e){this._pendingTasks.includes((t=>t.jobId===e.jobId))&&(__LOG__(4,void 0,new Error,!0)`Assertion failed::markJobTaskPending found jobId: ${e.jobId} in pending tasks`,SEND_LOGS("JobOrchestrator::markJobTaskPending")),this._pendingTasks.push(e),this._tasks=this._tasks.filter((t=>t.jobId!==e.jobId))}_markJobTaskDone(e){this._pendingTasks=this._pendingTasks.filter((t=>t.jobId!==e)),this._tasks.includes((t=>t.jobId===e))&&(__LOG__(4,void 0,new Error,!0)`Assertion failed::markJobTaskDone found jobId: ${e} in scheduled tasks`,SEND_LOGS("JobOrchestrator::markJobTaskDone"))}_getNextJobTask(){if(0===this._tasks.length)return null;const e=this._pendingTasks.reduce(((e,t)=>{var n;const r=null!==(n=e.get(t.jobName))&&void 0!==n?n:0;return e.set(t.jobName,r+1),e}),new Map);return this._tasks.filter((t=>{var n,r;return(null!==(n=e.get(t.jobName))&&void 0!==n?n:0)<(null!==(r=this._jobMaxConcurrency[t.jobName])&&void 0!==r?r:1)}))[0]}}},81531:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.WADefaultJobNoQueue=void 0;var i=r(n(11504)),o=r(n(82065)),a=n(65982),s=n(75419);t.WADefaultJobNoQueue=class{constructor(){this._isInitialized=!1}init(e,t){if(this._isInitialized)throw(0,o.default)("DefaultNoQueue has already initialized");this._jobLogger=t,this._isInitialized=!0}updateConfig(){}isInitialized(){return this._isInitialized}clearQueue(){}enqueue(e,t,n){var r=this;return(0,i.default)((function*(){var i,o;const l=null!==(i=null==n?void 0:n.jobId)&&void 0!==i?i:(0,a.randomHex)(8).substr(0,64);r._jobLogger.logJobCreated({jobId:l,jobName:e,jobPriority:null!==(o=null==n?void 0:n.priority)&&void 0!==o?o:s.JOB_PRIORITY.LOW,pendingJobsCount:0});try{r._jobLogger.logJobStarted(l);const e=yield t();return r._jobLogger.logJobCompleted(l),e}catch(e){throw r._jobLogger.logJobError(l),e}}))()}}},70453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LowJobBucket=t.BaseJobBucket=void 0;var r=n(75419);class i{constructor(e){var t;this.tasks=[],this.pendingTasks=[],this.lastJobStartedTimestampMs=null,this.jobMaxConcurrency=null!==(t=e.jobMaxConcurrencyMap)&&void 0!==t?t:{}}updateConfig(e){var t;this.jobMaxConcurrency=null!==(t=e.jobMaxConcurrencyMap)&&void 0!==t?t:{}}getStats(){return[...this.tasks,...this.pendingTasks].reduce(((e,t)=>{var n;const r=null!==(n=e[t.jobName])&&void 0!==n?n:0;return e[t.jobName]=r+1,e}),{})}next(){if(0===this.tasks.length)return null;const e=this.pendingTasks.reduce(((e,t)=>{var n;const r=null!==(n=e.get(t.jobName))&&void 0!==n?n:0;return e.set(t.jobName,r+1),e}),new Map),t=this.tasks.filter((t=>{var n,i;return(null!==(n=e.get(t.jobName))&&void 0!==n?n:0)<(null!==(i=this.jobMaxConcurrency[t.jobName])&&void 0!==i?i:r.DEFAULT_CONCURRENCY)}));return t.length>0?[t[0]]:null}add(e,t,n,r){const i={jobId:n,jobInfo:t,jobName:e,run:r};return this.tasks.push(i),i}markJobTaskPending(e){this.pendingTasks.includes((t=>t.jobId===e.jobId))&&(__LOG__(4,void 0,new Error,!0)`Assertion failed::markJobTaskPending found jobId: ${e.jobId} in pending tasks`,SEND_LOGS("JobOrchestrator::markJobTaskPending")),this.lastJobStartedTimestampMs=Date.now(),this.pendingTasks.push(e),this.tasks=this.tasks.filter((t=>t.jobId!==e.jobId))}markJobTaskDone(e){this.pendingTasks=this.pendingTasks.filter((t=>t.jobId!==e)),this.tasks.includes((t=>t.jobId===e))&&(__LOG__(4,void 0,new Error,!0)`Assertion failed::markJobTaskDone found jobId: ${e} in scheduled tasks`,SEND_LOGS("JobOrchestrator::markJobTaskDone"))}count(){return this.tasks.length}pendingCount(){return this.pendingTasks.length}clear(){this.tasks=[],this.pendingTasks=[]}getLastJobStartedTimestamp(){return this.lastJobStartedTimestampMs}}t.BaseJobBucket=i;t.LowJobBucket=class extends i{next(){var e,t;if(0===this.tasks.length)return null;const n=this.pendingTasks.reduce(((e,t)=>{var n;const r=null!==(n=e.get(t.jobName))&&void 0!==n?n:0;return e.set(t.jobName,r+1),e}),new Map),r=this.tasks.filter((e=>{var t,r;return(null!==(t=n.get(e.jobName))&&void 0!==t?t:0)<(null!==(r=this.jobMaxConcurrency[e.jobName])&&void 0!==r?r:1)}));if(0===r.length)return null;const i=null!==(e=this.jobMaxConcurrency[r[0].jobName])&&void 0!==e?e:1,o=null!==(t=n.get(r[0].jobName))&&void 0!==t?t:0;if(i>1&&o<i){const e=r.filter((e=>e.jobName===r[0].jobName)),t=Math.min(e.length,i-o);return e.slice(0,t)}return[r[0]]}}},22101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decimalStringToLongInt=function(e){if(!/^-?\d+$/.test(e))throw __LOG__(2)`"${e}" is not a valid decimal string`,new Error("decimalStringToLongInt is given an invalid decimal string");const t="-"===e[0],n=e.replace(/^-?0*/,""),i=n.length;if(i<16||16===i&&n<="9007199254740991")return t?-Number(n):Number(n);if(i>20||20===i&&n>"18446744073709551615"||t&&(i>19||19===i&&n>"9223372036854775807"))throw __LOG__(2)`"${e}" is over 64 bits`,new Error("decimalStringToHexLong is given value over 64 bits");let o=0,a=0;for(let e=0;e<i;e++)o=10*o+Number(n[e]),a=10*a+Math.floor(o/4294967296),o%=4294967296;return(0,r.createHexLongFrom32Bits)(a,o,t)},t.isBiggerLongInt=function(e,t){if("number"==typeof e&&"number"==typeof t)return e>t;const n="number"==typeof e?(0,r.hexLongFromNumber)(e):e,i="number"==typeof t?(0,r.hexLongFromNumber)(t):t;return(0,r.isBiggerHexLong)(n,i)},t.longIntToDecimalString=function(e){if("number"==typeof e)return e.toString(10);const t=(0,r.hexLongToHex)(e),n=[0];let i=0;for(let e=0;e<t.length;e++){i=(0,r.hexAt)(t,e);for(let e=0;e<n.length;e++)n[e]=16*n[e]+i,i=n[e]/10|0,n[e]%=10;for(;i>0;)n.push(i%10),i=i/10|0}const o=n.reverse().join("");return(0,r.hexLongIsNegative)(e)?"-"+o:o},t.maybeNumberOrThrowIfTooLarge=void 0,t.numberOrThrowIfTooLarge=i;var r=n(65982);function i(e){if("number"!=typeof e)throw __LOG__(2)`${e} is not a safe integer`,new Error("numberOrThrowIfTooLarge is given a non-safe integer");return e}t.maybeNumberOrThrowIfTooLarge=e=>null==e?e:i(e)},22732:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spec=void 0,t.compileSpec=function(e){if(e.internalCompiledSpec)return e.internalCompiledSpec;const t=e.internalSpec;if(!t)throw new Error(`Message Class ${String(e)} does not have internalSpec`);const n=e.internalDefaults||{},a=Object.keys(t).filter((e=>e!==r.KEYS.ONEOF)),s=new Array(a.length),l=[],c=[],u=new Array(a.length),d=t[r.KEYS.ONEOF]||{};a.sort(((e,n)=>{const r=o(t,e),i=o(t,n);return r[0]-i[0]}));for(let e=0;e<a.length;e++){const i=a[e],d=o(t,i);u[e]=n[i];const _=d[1],p=d[0];if(l.push(p),c.push(_),(_&r.TYPE_MASK)===r.TYPES.MESSAGE)s[e]=d[2];else if((_&r.TYPE_MASK)===r.TYPES.ENUM){const t=d[2];if("function"==typeof t.cast)s[e]=t;else{let n,r=!0,i=0;for(const e in t)r&&e!==i++&&(r=!1);if(r){n=[];for(let e=0;e<i;e++)n.push(!0)}else{n={};for(const e in t)n[t[e]]=!0}s[e]=n}}else s[e]=null}const _={};for(const e in d)d[e].forEach((t=>{_[t]||(_[t]=[]),_[t].push(e)}));const p=t[r.KEYS.RESERVED]&&t[r.KEYS.RESERVED][r.KEYS.RESERVED_TAGS],f=t[r.KEYS.RESERVED]&&t[r.KEYS.RESERVED][r.KEYS.RESERVED_FIELDS],E=new i(a,l,c,u,s,d,_,p,f);return e.internalCompiledSpec=E,E};var r=n(91451);class i{constructor(e,t,n,r,i,o,a,s,l){this.names=e,this.fields=t,this.types=n,this.defaults=r,this.meta=i,this.oneofToFields=o,this.fieldToOneof=a,this.reservedTags=s?s.reduce(((e,t)=>(e[t]=!0,e)),{}):{},this.reservedFields=l?l.reduce(((e,t)=>(e[t]=!0,e)),{}):{}}}function o(e,t){const n=e[t];if(null==n)throw new Error(`fieldData of ${t} is missing`);return n}t.Spec=i},91451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_MASK=t.TYPES=t.KEYS=t.FLAGS=t.ENC=void 0;t.FLAGS={REPEATED:64,PACKED:128,REQUIRED:256};t.TYPE_MASK=31;t.TYPES={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};t.ENC={VARINT:0,BIT64:1,BINARY:2,BIT32:5};t.KEYS={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"}},96119:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeToEncType=function(e){if(e&o.PACKED)return l.BINARY;const t=e&s;return t<=a.ENUM?l.VARINT:t<=a.DOUBLE?l.BIT64:t<=a.MESSAGE?l.BINARY:l.BIT32};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(91451));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const{FLAGS:o,TYPES:a,TYPE_MASK:s,ENC:l}=r},77909:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.checkRequirements=l,t.checkValid=function(e,t){l(e,t);const n=E(t,e);if(n)throw n.path.reverse(),new TypeError(`Invalid value at ${n.path.join(".")}: ${n.error}`)};var i=r(n(9028)),o=n(22732),a=n(91451);const s=Number.MAX_SAFE_INTEGER;function l(e,t){const n=c(e,t);if(n)throw n.reverse(),new TypeError(`Message missing required value ${n.join(".")}`)}function c(e,t){const{names:n,types:r,meta:s}=(0,o.compileSpec)(e);let l;for(let e=0;e<r.length&&!l;e++){const o=r[e],u=n[e],d=(0,i.default)(t,u)?t[u]:void 0;if(o&a.FLAGS.REQUIRED&&null==d)l=[u];else if((o&a.TYPE_MASK)===a.TYPES.MESSAGE&&o&a.FLAGS.REPEATED&&null!=d){const t=s[e];let n;for(n=0;n<d.length&&!l;n++)l=c(t,d[n]);l&&l.push(`${u}[${n}]`)}else(o&a.TYPE_MASK)===a.TYPES.MESSAGE&&null!=d&&(l=c(s[e],d),l&&l.push(u))}return l}function u(e,t,n){return"string"==typeof e?!/^-?0x[0-9a-f]{16}$/i.test(e)&&(__LOG__(2)`"${p(e)}" is not a valid long`,{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}):d(e,t,n)}function d(e,t,n){return"number"!=typeof e||e!=e||Math.floor(e)!==e?(__LOG__(2)`"${p(e)}" is not a valid int`,{path:[],error:"value must be an int"}):(e<t||e>=n)&&(__LOG__(2)`"${p(e)}" is out of range`,{path:[],error:"value is out of range"})}function _(e,t,n){return e?void 0:(__LOG__(2)`"${p(n)}" is not ${t}`,{path:[],error:"value is invalid"})}function p(e){return"string"==typeof e?`"${e}"`:Array.isArray(e)?`[${e.join(", ")}]`:`${e}`}const f=[void 0,e=>d(e,-2147483648,2147483648),e=>u(e,-s,s+1),e=>d(e,0,4294967296),e=>u(e,0,s+1),e=>d(e,-2147483648,2147483648),e=>u(e,-s,s+1),e=>_("boolean"==typeof e,"boolean",e),(e,t)=>_("number"==typeof e&&(t[e]||void 0!==t.cast(e)),"in enum",e),e=>u(e,0,s+1),e=>u(e,-s,s+1),e=>_("number"==typeof e,"number",e),e=>_("string"==typeof e,"string",e),e=>_(e instanceof ArrayBuffer||e instanceof Uint8Array,"ArrayBuffer or Uint8Array",e),E,e=>d(e,0,4294967296),e=>d(e,-2147483648,2147483648),e=>_("number"==typeof e,"number",e)];function E(e,t){const{names:n,fields:r,types:i,meta:s,oneofToFields:l,fieldToOneof:c,reservedTags:u,reservedFields:d}=(0,o.compileSpec)(t);let _;for(let t=0;t<n.length&&!_;t++){const o=n[t],E=i[t],A=e[o],g=E&a.TYPE_MASK,h=f[g];if(void 0===h)throw new Error(`Can not find the validator for type ${g}`);if(E&(a.FLAGS.PACKED|a.FLAGS.REPEATED)&&null!=A)if(Array.isArray(A)){const e=s[t];for(let t=0;t<A.length&&!_;t++)_=h(A[t],e),_&&_.path.push(`${o}[${t}]`)}else __LOG__(2)`"${p(A)}" is not an array`,_={path:[o],error:"repeated field must be array"};else if(null!=A){_=h(A,s[t]),_&&_.path.push(o);const n=c[o];n&&n.forEach((t=>{l[t].filter((e=>e!==o)).forEach((n=>{void 0!==e[n]&&(_={path:[t],error:`oneof '${t}' has fields '${o}' and '${n}' set`})}))})),u[r[t]]&&(_={path:[o],error:`tag ${r[t]} is reserved`}),d[o]&&(_={path:[o],error:`field ${o} is reserved`})}}return _}},33655:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.decodeProtobuf=function(e,t){const n=new o.Binary(t),r=h(e,n,void 0,!1);return(0,d.checkRequirements)(e,r),r},t.decodeProtobufWithUnknowns=function(e,t){const n=new o.Binary(t),r=h(e,n,void 0,!0);return(0,d.checkRequirements)(e,r),r},t.getUnknownFields=function(e){return(0,a.default)(e,"$$unsafeUnknownFields")?e.$$unsafeUnknownFields:null};var i=r(n(73982)),o=n(89323),a=r(n(9028)),s=n(65982),l=n(22732),c=n(91451),u=n(96119),d=n(77909);function _(e,t,n){if(e!==(0,u.typeToEncType)(t))throw new Error(`FormatError: ${n} encoded with wire type ${e}`)}function p(e,t,n){switch(t){case c.TYPES.INT32:return f(n,-2147483648,2147483648,e,o.parseInt64OrThrow);case c.TYPES.INT64:return n.readVarInt(E);case c.TYPES.UINT32:return f(n,0,4294967296,e,o.parseUint64OrThrow);case c.TYPES.UINT64:return n.readVarInt(A);case c.TYPES.SINT32:{const t=f(n,0,4294967296,e,o.parseInt64OrThrow);return 1&t?~(t>>>1):t>>>1}case c.TYPES.SINT64:return n.readVarInt(g);case c.TYPES.BOOL:return!!f(n,0,2,e,o.parseUint64OrThrow);case c.TYPES.ENUM:return n.readVarInt(o.parseInt64OrThrow);case c.TYPES.FIXED64:return n.readLong(A,!0);case c.TYPES.SFIXED64:return n.readLong(E,!0);case c.TYPES.DOUBLE:return n.readFloat64(!0);case c.TYPES.STRING:return n.readString(n.readVarInt(o.parseUint64OrThrow));case c.TYPES.BYTES:return n.readBuffer(n.readVarInt(o.parseUint64OrThrow));case c.TYPES.FIXED32:return n.readUint32(!0);case c.TYPES.SFIXED32:return n.readInt32(!0);case c.TYPES.FLOAT:return n.readFloat32(!0)}}function f(e,t,n,r,i){const o=e.readVarInt(i);if(o<t||o>=n)throw new Error(`FormatError: ${r} encoded with out-of-range value ${o}`);return o}function E(e,t){if((0,o.longFitsInDouble)(!0,e,t)){return 4294967296*e+S(t)}{const n=e<0;let r;r=n?0===t?-e:~e:e;const i=n?-t:t;return(0,s.createHexLongFrom32Bits)(r,i,n)}}function A(e,t){if((0,o.longFitsInDouble)(!1,e,t)){return 4294967296*S(e)+S(t)}return(0,s.createHexLongFrom32Bits)(e,t)}function g(e,t){let n=e>>>1,r=e<<31|t>>>1;return 1&t&&(n=~n,r=~r),E(n,r)}function h(e,t,n,r){var a;const{names:s,fields:u,types:d,meta:E,oneofToFields:A,fieldToOneof:g,reservedTags:S,reservedFields:T}=(0,l.compileSpec)(e),{internalDefaults:m}=e,I=n||(0,i.default)({},m)||{};I.$$unknownFieldCount=null!==(a=null==n?void 0:n.$$unknownFieldCount)&&void 0!==a?a:0;for(let e=0;e<s.length;e++)d[e]&c.FLAGS.REPEATED&&(I[s[e]]=[]);let y=0;const C=u.length>0;let v=u[0];for(;t.size();){const e=f(t,0,4294967296,"field and enc type",o.parseInt64OrThrow),n=7&e,i=e>>>3;if(C&&i!==v){const e=y;do{++y===u.length&&(y=0),v=u[y]}while(i!==v&&y!==e)}if(C&&i===v){const e=s[y],a=d[y];_(n,a,e);const l=a&c.TYPE_MASK,u=E[y];if(a&c.FLAGS.PACKED){const n=t.readVarInt(o.parseUint64OrThrow),r=t.readBinary(n);for(;r.size();){var O;const t=p(e,l,r);(l!==c.TYPES.ENUM||u[t]||void 0!==(null===(O=u.cast)||void 0===O?void 0:O.call(u,t)))&&I[e].push(t)}}else if(l===c.TYPES.MESSAGE){const n=t.readVarInt(o.parseUint64OrThrow),i=t.readBinary(n);if(a&c.FLAGS.REPEATED)I[e].push(h(u,i,void 0,r));else{const t=I[e];I[e]=h(u,i,t,r)}}else{var P;const n=p(e,l,t);(l!==c.TYPES.ENUM||u[n]||void 0!==(null===(P=u.cast)||void 0===P?void 0:P.call(u,n)))&&(a&c.FLAGS.REPEATED?I[e].push(n):I[e]=n)}const f=g[e];f&&void 0!==I[e]&&f.forEach((t=>{A[t].filter((t=>t!==e)).forEach((e=>{delete I[e]}))})),(S[i]||T[e])&&delete I[e]}else if(I.$$unknownFieldCount++,r){let e;switch(I.$$unsafeUnknownFields||(I.$$unsafeUnknownFields={}),n){case c.ENC.VARINT:e=t.readVarInt(o.parseInt64OrThrow);break;case c.ENC.BIT64:e=t.readBinary(8);break;case c.ENC.BINARY:e=t.readBinary(t.readVarInt(o.parseUint64OrThrow));break;case c.ENC.BIT32:e=t.readBinary(4)}I.$$unsafeUnknownFields[i]=e}else n===c.ENC.VARINT?t.readVarInt(o.parseInt64OrThrow):n===c.ENC.BIT64?t.advance(8):n===c.ENC.BINARY?t.advance(t.readVarInt(o.parseUint64OrThrow)):n===c.ENC.BIT32&&t.advance(4)}return I}function S(e){return e>=0?e:4294967296+e}},32126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeErrorInfo=function(){return void 0!==c?`Last encoded value for ${c}`:"No information known"},t.encodeProtobuf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new r.Binary;return(0,l.checkValid)(e,t),E(n,t,e),c=void 0,n};var r=n(89323),i=n(65982),o=n(22732),a=n(91451),s=n(96119),l=n(77909);let c;function u(e,t){e.writeVarInt(t)}function d(e,t){if("number"==typeof t&&t<4503599627370496&&t>=-4503599627370496)e.writeVarInt(t>=0?2*t:2*-t-1);else{const n=new r.Binary;let o;"number"==typeof t?(o=t<0,n.writeVarInt(o?-t:t)):(o=(0,i.hexLongIsNegative)(t),n.writeVarIntFromHexLong(o?(0,i.negateHexLong)(t):t));const a=n.peek((()=>n.readByteArray())),s=a.byteLength;if(o){let e,t=0;do{e=a[t],a[t]=128&e|(127&e)-1&127,t++}while(255===a[t-1])}let l=o?1:0;for(let e=0;e<s;e++){const t=a[e],n=128&t|(63&t)<<1|l;l=(64&t)>>6,a[e]=n}1===l&&(a[s-1]|=128,n.writeInt8(1)),e.writeBinary(n)}}function _(e,t){"number"==typeof t?e.writeVarInt(t):e.writeVarIntFromHexLong(t)}const p=[void 0,u,_,u,_,d,d,(e,t)=>{e.writeVarInt(t?1:0)},u,(e,t)=>{"number"==typeof t?e.writeUint64(t,!0):e.writeHexLong(t,!0)},(e,t)=>{"number"==typeof t?e.writeInt64(t,!0):e.writeHexLong(t,!0)},(e,t)=>{e.writeFloat64(t,!0)},function(e,t){e.writeVarInt((0,r.numUtf8Bytes)(t)),e.writeString(t)},function(e,t){e.writeVarInt(t.byteLength),e.writeBuffer(t)},function(e,t,n){e.writeWithVarIntLength(((e,t)=>E(e,t,n)),t)},(e,t)=>{e.writeUint32(t,!0)},(e,t)=>{e.writeInt32(t,!0)},(e,t)=>{e.writeFloat32(t,!0)}],f=p.map((e=>{if(null!=e)return(e,n)=>{e.writeWithVarIntLength(t,n)};function t(t,n){for(let r=0;r<n.length;r++)e(t,n[r])}}));function E(e,t,n){const{names:r,fields:i,types:l,meta:u}=(0,o.compileSpec)(n),{internalDefaults:d}=n;for(let n=0;n<r.length;n++){const o=r[n];let _=t[o];if(null==_&&d&&(_=d[o]),null!=_){c=o;const t=i[n],r=l[n],d=r&a.TYPE_MASK,E=u[n],A=8*t|(0,s.typeToEncType)(r);if(r&a.FLAGS.PACKED){if(_.length>0){e.writeVarInt(A);(0,f[d])(e,_,E)}}else if(r&a.FLAGS.REPEATED)for(let t=0;t<_.length;t++){e.writeVarInt(A);(0,p[d])(e,_[t],E)}else{e.writeVarInt(A);(0,p[d])(e,_,E)}}}}},17075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTagsLogger=function(){(0,r.initializeWaLogger)({debug:i,info:i,logRestricted:i,warn:i,error:i,devConsole:i})};var r=n(51784);function i(){}},66065:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.sendGetInviteGroupInfoRPC=function(){return _.apply(this,arguments)};var i=r(n(11504)),o=n(19026),a=n(25985),s=n(65070),l=n(36926),c=n(63497),u=n(76142),d=n(9338);function _(){return(_=(0,i.default)((function*(e,t){const n=(0,c.makeGetInviteGroupInfoRequest)(e),r=yield(0,o.sendSmaxStanza)(n,t),i=(0,l.parseGetInviteGroupInfoResponseSuccess)(r,n);if(i.success)return{name:"GetInviteGroupInfoResponseSuccess",value:i.value};const _=(0,a.parseGetInviteGroupInfoResponseClientError)(r,n);if(_.success)return{name:"GetInviteGroupInfoResponseClientError",value:_.value};const p=(0,s.parseGetInviteGroupInfoResponseServerError)(r,n);if(p.success)return{name:"GetInviteGroupInfoResponseServerError",value:p.value};throw new u.SmaxParsingFailure((0,d.errorMessageRpcParsing)("GetInviteGroupInfo",{Success:i,ClientError:_,ServerError:p}))}))).apply(this,arguments)}},19356:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.sendGetMembershipApprovalRequestsRPC=function(){return _.apply(this,arguments)};var i=r(n(11504)),o=n(19026),a=n(84035),s=n(57815),l=n(51423),c=n(2307),u=n(76142),d=n(9338);function _(){return(_=(0,i.default)((function*(e,t){const n=(0,c.makeGetMembershipApprovalRequestsRequest)(e),r=yield(0,o.sendSmaxStanza)(n,t),i=(0,l.parseGetMembershipApprovalRequestsResponseSuccess)(r,n);if(i.success)return{name:"GetMembershipApprovalRequestsResponseSuccess",value:i.value};const _=(0,a.parseGetMembershipApprovalRequestsResponseClientError)(r,n);if(_.success)return{name:"GetMembershipApprovalRequestsResponseClientError",value:_.value};const p=(0,s.parseGetMembershipApprovalRequestsResponseServerError)(r,n);if(p.success)return{name:"GetMembershipApprovalRequestsResponseServerError",value:p.value};throw new u.SmaxParsingFailure((0,d.errorMessageRpcParsing)("GetMembershipApprovalRequests",{Success:i,ClientError:_,ServerError:p}))}))).apply(this,arguments)}},45487:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.sendGetParticipatingGroupsRPC=function(){return _.apply(this,arguments)};var i=r(n(11504)),o=n(19026),a=n(20915),s=n(20913),l=n(37510),c=n(98197),u=n(76142),d=n(9338);function _(){return(_=(0,i.default)((function*(e,t){const n=(0,c.makeGetParticipatingGroupsRequest)(e),r=yield(0,o.sendSmaxStanza)(n,t),i=(0,l.parseGetParticipatingGroupsResponseSuccess)(r,n);if(i.success)return{name:"GetParticipatingGroupsResponseSuccess",value:i.value};const _=(0,a.parseGetParticipatingGroupsResponseClientError)(r,n);if(_.success)return{name:"GetParticipatingGroupsResponseClientError",value:_.value};const p=(0,s.parseGetParticipatingGroupsResponseServerError)(r,n);if(p.success)return{name:"GetParticipatingGroupsResponseServerError",value:p.value};throw new u.SmaxParsingFailure((0,d.errorMessageRpcParsing)("GetParticipatingGroups",{Success:i,ClientError:_,ServerError:p}))}))).apply(this,arguments)}},90913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAdminAddModeMixin=function(e){const t=(0,i.assertTag)(e,"member_add_mode");if(!t.success)return t;const n=(0,i.literalContent)(i.contentString,e,"admin_add");if(!n.success)return n;return(0,r.makeResult)({elementValue:n.value})};var r=n(22207),i=n(93263)},25172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAdminOrAllMembersOrUnknownAddModeMixinGroup=function(e){const t=(0,i.parseAdminAddModeMixin)(e);if(t.success)return(0,r.makeResult)({name:"AdminAddMode",value:t.value});const n=(0,o.parseAllMembersAddModeMixin)(e);if(n.success)return(0,r.makeResult)({name:"AllMembersAddMode",value:n.value});const l=(0,a.parseUnknownAddModeMixin)(e);if(l.success)return(0,r.makeResult)({name:"UnknownAddMode",value:l.value});return(0,s.errorMixinDisjunction)(e,["AdminAddMode","AllMembersAddMode","UnknownAddMode"],[t,n,l])};var r=n(22207),i=n(90913),o=n(85622),a=n(73847),s=n(93263)},85622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAllMembersAddModeMixin=function(e){const t=(0,i.assertTag)(e,"member_add_mode");if(!t.success)return t;const n=(0,i.literalContent)(i.contentString,e,"all_member_add");if(!n.success)return n;return(0,r.makeResult)({elementValue:n.value})};var r=n(22207),i=n(93263)},83060:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseBaseServerErrorMixin=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const r=(0,l.flattenedChildWithTag)(e,"error");if(!r.success)return r;const c=(0,a.parseIQErrorResponseMixin)(e,t);if(!c.success)return c;const u=(0,s.parseServerErrors)(r.value);if(!u.success)return u;return(0,o.makeResult)((0,i.default)((0,i.default)({},c.value),{},{errorServerErrors:u.value}))};var i=r(n(73982)),o=n(22207),a=n(37502),s=n(87166),l=n(93263)},39556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDedupAttrsMixin=function(e){const t=(0,o.attrString)(e,"key");if(!t.success)return t;const n=(0,o.optional)(o.attrStringEnum,e,"create_ctx",i.ENUM_E2EEMIGRATION_REGULAR_RTC);if(!n.success)return n;return(0,r.makeResult)({key:t.value,createCtx:n.value})};var r=n(22207),i=n(56305),o=n(93263)},2318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDisplayNameMixin=function(e){const t=(0,i.attrString)(e,"display_name");if(!t.success)return t;return(0,r.makeResult)({displayName:t.value})};var r=n(22207),i=n(93263)},56305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENUM_PARENTGROUP_SIBLINGGROUP_SUBGROUP=t.ENUM_LID_PN=t.ENUM_INVITELINK_LINKEDGROUPJOIN_NONADMINADD=t.ENUM_IMAGE_PREVIEW=t.ENUM_E2EEMIGRATION_REGULAR_RTC=t.ENUM_DELETEPARENT_INTEGRITYDELETEPARENT_UNLINKGROUP=t.ENUM_DELETEPARENT_INTEGRITYDELETEPARENT=t.ENUM_APPROVED_CANCELLED_REJECTED=t.ENUM_ADMIN_SUPERADMIN=t.ENUM_ADMIN_CREATOR=t.ENUM_ACCEPT_DEFAULTSUBGROUPPROMOTE_INVITE_INVITEAUTOADD_LINKEDGROUPJOIN=t.ENUM_ACCEPT_AUTOADD_DEFAULTSUBGROUPADMINADD_INVITE_INVITEAUTOADD_LINKEDGROUPJOIN_SUBGROUPSUGGESTIONAPPROVED=t.ENUM_406_500=t.ENUM_404_419=t.ENUM_404_406=t.ENUM_403_404_406_419=t.ENUM_304_419=void 0;t.ENUM_304_419={304:"304",419:"419"};t.ENUM_403_404_406_419={403:"403",404:"404",406:"406",419:"419"};t.ENUM_404_406={404:"404",406:"406"};t.ENUM_404_419={404:"404",419:"419"};t.ENUM_406_500={406:"406",500:"500"};t.ENUM_ACCEPT_AUTOADD_DEFAULTSUBGROUPADMINADD_INVITE_INVITEAUTOADD_LINKEDGROUPJOIN_SUBGROUPSUGGESTIONAPPROVED={accept:"accept",auto_add:"auto_add",default_sub_group_admin_add:"default_sub_group_admin_add",invite:"invite",invite_auto_add:"invite_auto_add",linked_group_join:"linked_group_join",sub_group_suggestion_approved:"sub_group_suggestion_approved"};t.ENUM_ACCEPT_DEFAULTSUBGROUPPROMOTE_INVITE_INVITEAUTOADD_LINKEDGROUPJOIN={accept:"accept",default_sub_group_promote:"default_sub_group_promote",invite:"invite",invite_auto_add:"invite_auto_add",linked_group_join:"linked_group_join"};t.ENUM_ADMIN_CREATOR={admin:"admin",creator:"creator"};t.ENUM_ADMIN_SUPERADMIN={admin:"admin",superadmin:"superadmin"};t.ENUM_APPROVED_CANCELLED_REJECTED={approved:"approved",cancelled:"cancelled",rejected:"rejected"};t.ENUM_DELETEPARENT_INTEGRITYDELETEPARENT={delete_parent:"delete_parent",integrity_delete_parent:"integrity_delete_parent"};t.ENUM_DELETEPARENT_INTEGRITYDELETEPARENT_UNLINKGROUP={delete_parent:"delete_parent",integrity_delete_parent:"integrity_delete_parent",unlink_group:"unlink_group"};t.ENUM_E2EEMIGRATION_REGULAR_RTC={e2ee_migration:"e2ee_migration",regular:"regular",rtc:"rtc"};t.ENUM_IMAGE_PREVIEW={image:"image",preview:"preview"};t.ENUM_INVITELINK_LINKEDGROUPJOIN_NONADMINADD={invite_link:"invite_link",linked_group_join:"linked_group_join",non_admin_add:"non_admin_add"};t.ENUM_LID_PN={lid:"lid",pn:"pn"};t.ENUM_PARENTGROUP_SIBLINGGROUP_SUBGROUP={parent_group:"parent_group",sibling_group:"sibling_group",sub_group:"sub_group"}},23288:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetInviteGroupInfoClientErrors=function(e){const t=(0,i.parseIQErrorBadRequestMixin)(e);if(t.success)return(0,r.makeResult)({name:"IQErrorBadRequest",value:t.value});const n=(0,l.parseIQErrorItemNotFoundMixin)(e);if(n.success)return(0,r.makeResult)({name:"IQErrorItemNotFound",value:n.value});const p=(0,a.parseIQErrorGoneMixin)(e);if(p.success)return(0,r.makeResult)({name:"IQErrorGone",value:p.value});const f=(0,d.parseIQErrorNotAuthorizedMixin)(e);if(f.success)return(0,r.makeResult)({name:"IQErrorNotAuthorized",value:f.value});const E=(0,u.parseIQErrorNotAcceptableMixin)(e);if(E.success)return(0,r.makeResult)({name:"IQErrorNotAcceptable",value:E.value});const A=(0,c.parseIQErrorLockedMixin)(e);if(A.success)return(0,r.makeResult)({name:"IQErrorLocked",value:A.value});const g=(0,s.parseIQErrorGrowthLockedMixin)(e);if(g.success)return(0,r.makeResult)({name:"IQErrorGrowthLocked",value:g.value});const h=(0,o.parseIQErrorFallbackClientMixin)(e);if(h.success)return(0,r.makeResult)({name:"IQErrorFallbackClient",value:h.value});return(0,_.errorMixinDisjunction)(e,["IQErrorBadRequest","IQErrorItemNotFound","IQErrorGone","IQErrorNotAuthorized","IQErrorNotAcceptable","IQErrorLocked","IQErrorGrowthLocked","IQErrorFallbackClient"],[t,n,p,f,E,A,g,h])};var r=n(22207),i=n(65356),o=n(7917),a=n(92906),s=n(99354),l=n(46242),c=n(96625),u=n(30681),d=n(89533),_=n(93263)},25985:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetInviteGroupInfoResponseClientError=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const r=(0,l.flattenedChildWithTag)(e,"error");if(!r.success)return r;const c=(0,s.parseIQErrorResponseMixin)(e,t);if(!c.success)return c;const u=(0,a.parseGetInviteGroupInfoClientErrors)(r.value);if(!u.success)return u;return(0,o.makeResult)((0,i.default)((0,i.default)({},c.value),{},{errorGetInviteGroupInfoClientErrors:u.value}))};var i=r(n(73982)),o=n(22207),a=n(23288),s=n(37502),l=n(93263)},65070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetInviteGroupInfoResponseServerError=function(e,t){const n=(0,i.assertTag)(e,"iq");if(!n.success)return n;const o=(0,r.parseBaseServerErrorMixin)(e,t);if(!o.success)return o;return o};var r=n(83060),i=n(93263)},36926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetInviteGroupInfoResponseSuccess=function(e,t){const n=(0,a.assertTag)(e,"iq");if(!n.success)return n;const s=(0,a.flattenedChildWithTag)(e,"group");if(!s.success)return s;const l=(0,o.attrStringFromReference)(t,["to"]);if(!l.success)return l;const c=(0,a.literal)(a.attrString,e,"from",l.value);if(!c.success)return c;const u=(0,a.literal)(a.attrString,e,"type","result");if(!u.success)return u;const d=(0,o.attrStringFromReference)(t,["id"]);if(!d.success)return d;const _=(0,a.literal)(a.attrString,e,"id",d.value);if(!_.success)return _;const p=(0,a.attrIntRange)(s.value,"size",0,19999);if(!p.success)return p;const f=(0,i.parseInviteLinkGroupInfoMixin)(s.value);if(!f.success)return f;return(0,r.makeResult)({type:u.value,groupSize:p.value,groupInviteLinkGroupInfoMixin:f.value})};var r=n(22207),i=n(40112),o=n(12375),a=n(93263)},98346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetMembershipApprovalRequestsClientErrors=function(e){const t=(0,i.parseIQErrorBadRequestMixin)(e);if(t.success)return(0,r.makeResult)({name:"IQErrorBadRequest",value:t.value});const n=(0,s.parseIQErrorItemNotFoundMixin)(e);if(n.success)return(0,r.makeResult)({name:"IQErrorItemNotFound",value:n.value});const _=(0,c.parseIQErrorNotAuthorizedMixin)(e);if(_.success)return(0,r.makeResult)({name:"IQErrorNotAuthorized",value:_.value});const p=(0,a.parseIQErrorForbiddenMixin)(e);if(p.success)return(0,r.makeResult)({name:"IQErrorForbidden",value:p.value});const f=(0,u.parseIQErrorRateOverlimitMixin)(e);if(f.success)return(0,r.makeResult)({name:"IQErrorRateOverlimit",value:f.value});const E=(0,l.parseIQErrorLockedMixin)(e);if(E.success)return(0,r.makeResult)({name:"IQErrorLocked",value:E.value});const A=(0,o.parseIQErrorFallbackClientMixin)(e);if(A.success)return(0,r.makeResult)({name:"IQErrorFallbackClient",value:A.value});return(0,d.errorMixinDisjunction)(e,["IQErrorBadRequest","IQErrorItemNotFound","IQErrorNotAuthorized","IQErrorForbidden","IQErrorRateOverlimit","IQErrorLocked","IQErrorFallbackClient"],[t,n,_,p,f,E,A])};var r=n(22207),i=n(65356),o=n(7917),a=n(69348),s=n(46242),l=n(96625),c=n(89533),u=n(76033),d=n(93263)},95386:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetMembershipApprovalRequestsMembershipApprovalRequestMixin=function(e){const t=(0,l.assertTag)(e,"membership_approval_request");if(!t.success)return t;const n=(0,s.attrUserJid)(e,"jid");if(!n.success)return n;const r=(0,l.optional)(s.attrUserJid,e,"requestor");if(!r.success)return r;const c=(0,l.optional)(s.attrGroupJid,e,"parent_group_jid");if(!c.success)return c;const u=(0,l.attrIntRange)(e,"request_time",0,void 0);if(!u.success)return u;const d=(0,a.parseMembershipRequestMethodAttributeMixin)(e);if(!d.success)return d;return(0,o.makeResult)((0,i.default)({jid:n.value,requestor:r.value,parentGroupJid:c.value,requestTime:u.value},d.value))};var i=r(n(73982)),o=n(22207),a=n(28494),s=n(35273),l=n(93263)},92006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetMembershipApprovalRequestsRequestorFetchMixin=function(e){const t=(0,i.literal)(i.attrString,e,"requestor_fetch","true");if(!t.success)return t;return(0,r.makeResult)({requestorFetch:t.value})};var r=n(22207),i=n(93263)},84035:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetMembershipApprovalRequestsResponseClientError=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const r=(0,l.flattenedChildWithTag)(e,"error");if(!r.success)return r;const c=(0,s.parseIQErrorResponseMixin)(e,t);if(!c.success)return c;const u=(0,a.parseGetMembershipApprovalRequestsClientErrors)(r.value);if(!u.success)return u;return(0,o.makeResult)((0,i.default)((0,i.default)({},c.value),{},{errorGetMembershipApprovalRequestsClientErrors:u.value}))};var i=r(n(73982)),o=n(22207),a=n(98346),s=n(37502),l=n(93263)},57815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetMembershipApprovalRequestsResponseServerError=function(e,t){const n=(0,i.assertTag)(e,"iq");if(!n.success)return n;const o=(0,r.parseBaseServerErrorMixin)(e,t);if(!o.success)return o;return o};var r=n(83060),i=n(93263)},51423:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetMembershipApprovalRequestsResponseSuccess=function(e,t){const n=(0,d.assertTag)(e,"iq");if(!n.success)return n;const r=(0,d.flattenedChildWithTag)(e,"membership_approval_requests");if(!r.success)return r;const a=(0,s.parseGetMembershipApprovalRequestsRequestorFetchMixin)(r.value),u=(0,c.parseIQResultResponseMixin)(e,t);if(!u.success)return u;const p=(0,l.parseGroupAddressingModeMixin)(e),f=(0,d.mapChildrenWithTag)(r.value,"membership_approval_request",0,19999,_);if(!f.success)return f;return(0,o.makeResult)((0,i.default)((0,i.default)({membershipApprovalRequestsGetMembershipApprovalRequestsRequestorFetchMixin:a.success?a.value:null},u.value),{},{groupAddressingModeMixin:p.success?p.value:null,membershipApprovalRequestsMembershipApprovalRequest:f.value}))},t.parseGetMembershipApprovalRequestsResponseSuccessMembershipApprovalRequestsMembershipApprovalRequest=_;var i=r(n(73982)),o=n(22207),a=n(95386),s=n(92006),l=n(54905),c=n(26499),u=n(28562),d=n(93263);function _(e){const t=(0,d.assertTag)(e,"membership_approval_request");if(!t.success)return t;const n=(0,a.parseGetMembershipApprovalRequestsMembershipApprovalRequestMixin)(e);if(!n.success)return n;const r=(0,u.parsePhoneNumberMixin)(e);return(0,o.makeResult)((0,i.default)((0,i.default)({},n.value),{},{phoneNumberMixin:r.success?r.value:null}))}},20915:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetParticipatingGroupsResponseClientError=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const r=(0,l.flattenedChildWithTag)(e,"error");if(!r.success)return r;const c=(0,s.parseIQErrorResponseMixin)(e,t);if(!c.success)return c;const u=(0,a.parseIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup)(r.value);if(!u.success)return u;return(0,o.makeResult)((0,i.default)((0,i.default)({},c.value),{},{errorIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup:u.value}))};var i=r(n(73982)),o=n(22207),a=n(14478),s=n(37502),l=n(93263)},20913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetParticipatingGroupsResponseServerError=function(e,t){const n=(0,i.assertTag)(e,"iq");if(!n.success)return n;const o=(0,r.parseBaseServerErrorMixin)(e,t);if(!o.success)return o;return o};var r=n(83060),i=n(93263)},37510:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetParticipatingGroupsResponseSuccess=function(e,t){const n=(0,c.assertTag)(e,"iq");if(!n.success)return n;const r=(0,c.flattenedChildWithTag)(e,"groups");if(!r.success)return r;const i=(0,l.attrStringFromReference)(t,["to"]);if(!i.success)return i;const a=(0,c.literal)(c.attrString,e,"from",i.value);if(!a.success)return a;const s=(0,c.literal)(c.attrString,e,"type","result");if(!s.success)return s;const d=(0,l.attrStringFromReference)(t,["id"]);if(!d.success)return d;const _=(0,c.literal)(c.attrString,e,"id",d.value);if(!_.success)return _;const p=(0,c.mapChildrenWithTag)(r.value,"group",0,1e4,u);if(!p.success)return p;return(0,o.makeResult)({type:s.value,groupsGroup:p.value})},t.parseGetParticipatingGroupsResponseSuccessGroupsGroup=u;var i=r(n(73982)),o=n(22207),a=n(39556),s=n(98310),l=n(12375),c=n(93263);function u(e){const t=(0,c.assertTag)(e,"group");if(!t.success)return t;const n=(0,s.parseGroupInfoMixin)(e);if(!n.success)return n;const r=(0,a.parseDedupAttrsMixin)(e);return(0,o.makeResult)((0,i.default)((0,i.default)({},n.value),{},{dedupAttrsMixin:r.success?r.value:null}))}},54905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupAddressingModeMixin=function(e){const t=(0,o.attrStringEnum)(e,"addressing_mode",i.ENUM_LID_PN);if(!t.success)return t;return(0,r.makeResult)({addressingMode:t.value})};var r=n(22207),i=n(56305),o=n(93263)},96799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupInfoAttributesMixin=function(e){const t=(0,s.assertTag)(e,"group");if(!t.success)return t;const n=(0,s.attrString)(e,"id");if(!n.success)return n;const l=(0,s.optional)(a.attrUserJid,e,"creator");if(!l.success)return l;const c=(0,s.optional)(a.attrUserJid,e,"creator_pn");if(!c.success)return c;const u=(0,s.attrIntRange)(e,"creation",0,void 0);if(!u.success)return u;const d=(0,s.optional)(s.attrString,e,"p_v_id");if(!d.success)return d;const _=(0,s.optional)(s.attrString,e,"a_v_id");if(!_.success)return _;const p=(0,s.optional)(s.attrIntRange,e,"s_t",0,void 0);if(!p.success)return p;const f=(0,s.optional)(a.attrUserJid,e,"s_o");if(!f.success)return f;const E=(0,s.optional)(a.attrUserJid,e,"s_o_pn");if(!E.success)return E;const A=(0,s.optional)(s.attrString,e,"open_thread_id");if(!A.success)return A;const g=(0,i.parseGroupAddressingModeMixin)(e),h=(0,o.parseNamedSubjectOrUnnamedSubjectFallbackMixinGroup)(e);if(!h.success)return h;return(0,r.makeResult)({id:n.value,creator:l.value,creatorPn:c.value,creation:u.value,pVId:d.value,aVId:_.value,sT:p.value,sO:f.value,sOPn:E.value,openThreadId:A.value,groupAddressingModeMixin:g.success?g.value:null,namedSubjectOrUnnamedSubjectFallbackMixinGroup:h.value})};var r=n(22207),i=n(54905),o=n(63763),a=n(35273),s=n(93263)},74531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupInfoDescriptionMixin=function(e){const t=(0,o.assertTag)(e,"description");if(!t.success)return t;const n=(0,o.flattenedChildWithTag)(e,"body");if(!n.success)return n;const a=(0,o.attrString)(e,"id");if(!a.success)return a;const s=(0,o.optional)(i.attrUserJid,e,"participant");if(!s.success)return s;const l=(0,o.optional)(i.attrUserJid,e,"participant_pn");if(!l.success)return l;const c=(0,o.attrIntRange)(e,"t",0,void 0);if(!c.success)return c;const u=(0,o.contentString)(n.value);if(!u.success)return u;return(0,r.makeResult)({id:a.value,participant:s.value,participantPn:l.value,t:c.value,bodyElementValue:u.value})};var r=n(22207),i=n(35273),o=n(93263)},98310:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupInfoDescription=A,t.parseGroupInfoEphemeral=h,t.parseGroupInfoGrowthLocked=S,t.parseGroupInfoLinkedParent=m,t.parseGroupInfoMembershipApprovalMode=T,t.parseGroupInfoMixin=function(e){const t=(0,f.assertTag)(e,"group");if(!t.success)return t;const n=(0,f.optionalChildWithTag)(e,"description",A);if(!n.success)return n;const r=(0,f.optionalChild)(e,"locked");if(!r.success)return r;const s=(0,f.optionalChild)(e,"announcement");if(!s.success)return s;const l=(0,f.optionalChildWithTag)(e,"parent",g);if(!l.success)return l;const u=(0,f.optionalChild)(e,"no_frequently_forwarded");if(!u.success)return u;const d=(0,f.optionalChild)(e,"support");if(!d.success)return d;const _=(0,f.optionalChildWithTag)(e,"ephemeral",h);if(!_.success)return _;const p=(0,f.optionalChild)(e,"suspended");if(!p.success)return p;const I=(0,f.optionalChildWithTag)(e,"growth_locked",S);if(!I.success)return I;const y=(0,f.optionalChild)(e,"default_sub_group");if(!y.success)return y;const C=(0,f.optionalChild)(e,"shadow");if(!C.success)return C;const v=(0,f.optionalChildWithTag)(e,"membership_approval_mode",T);if(!v.success)return v;const O=(0,f.optionalChild)(e,"incognito");if(!O.success)return O;const P=(0,f.optionalChild)(e,"allow_admin_reports");if(!P.success)return P;const N=(0,f.optionalChild)(e,"allow_non_admin_sub_group_creation");if(!N.success)return N;const b=(0,f.optionalChildWithTag)(e,"linked_parent",m);if(!b.success)return b;const M=(0,f.optionalLiteral)(f.attrString,e,"ack","false");if(!M.success)return M;const R=(0,a.parseGroupInfoAttributesMixin)(e);if(!R.success)return R;const D=(0,c.parseGroupMemberAddModeMixin)(e),L=(0,f.mapChildrenWithTag)(e,"participant",0,19999,E);if(!L.success)return L;return(0,o.makeResult)((0,i.default)((0,i.default)({ack:M.value},R.value),{},{groupMemberAddModeMixin:D.success?D.value:null,description:n.value,hasLocked:null!=r.value,hasAnnouncement:null!=s.value,parent:l.value,hasNoFrequentlyForwarded:null!=u.value,hasSupport:null!=d.value,ephemeral:_.value,hasSuspended:null!=p.value,growthLocked:I.value,hasDefaultSubGroup:null!=y.value,hasShadow:null!=C.value,membershipApprovalMode:v.value,hasIncognito:null!=O.value,hasAllowAdminReports:null!=P.value,hasAllowNonAdminSubGroupCreation:null!=N.value,linkedParent:b.value,participant:L.value}))},t.parseGroupInfoParent=g,t.parseGroupInfoParticipant=E;var i=r(n(73982)),o=n(22207),a=n(96799),s=n(74531),l=n(87020),c=n(56328),u=n(61990),d=n(72093),_=n(84451),p=n(35273),f=n(93263);function E(e){const t=(0,f.assertTag)(e,"participant");if(!t.success)return t;const n=(0,l.parseGroupInfoParticipantMixin)(e);if(!n.success)return n;const r=(0,_.parseParticipantNotAddressableMixin)(e);return(0,o.makeResult)((0,i.default)((0,i.default)({},n.value),{},{participantNotAddressableMixin:r.success?r.value:null}))}function A(e){const t=(0,f.assertTag)(e,"description");if(!t.success)return t;const n=(0,s.parseGroupInfoDescriptionMixin)(e);return(0,o.makeResult)({groupInfoDescriptionMixin:n.success?n.value:null})}function g(e){const t=(0,f.assertTag)(e,"parent");if(!t.success)return t;const n=(0,d.parseParentGroupDefaultMembershipApprovalModeMixin)(e);return(0,o.makeResult)({parentGroupDefaultMembershipApprovalModeMixin:n.success?n.value:null})}function h(e){const t=(0,f.assertTag)(e,"ephemeral");if(!t.success)return t;const n=(0,f.attrIntRange)(e,"expiration",0,2147483647);return n.success?(0,o.makeResult)({expiration:n.value}):n}function S(e){const t=(0,f.assertTag)(e,"growth_locked");if(!t.success)return t;const n=(0,f.literal)(f.attrString,e,"type","invite");if(!n.success)return n;const r=(0,f.attrIntRange)(e,"expiration",0,void 0);return r.success?(0,o.makeResult)({type:n.value,expiration:r.value}):r}function T(e){const t=(0,f.assertTag)(e,"membership_approval_mode");if(!t.success)return t;const n=(0,u.parseMembershipApprovalGroupJoinModeEnabledMixin)(e);return(0,o.makeResult)({membershipApprovalGroupJoinModeEnabledMixin:n.success?n.value:null})}function m(e){const t=(0,f.assertTag)(e,"linked_parent");if(!t.success)return t;const n=(0,p.attrGroupJid)(e,"jid");return n.success?(0,o.makeResult)({jid:n.value}):n}},15957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupInfoParticipantAdminMixin=function(e){const t=(0,a.assertTag)(e,"participant");if(!t.success)return t;const n=(0,a.attrStringEnum)(e,"type",i.ENUM_ADMIN_SUPERADMIN);if(!n.success)return n;const s=(0,o.parseGroupInfoParticipantAdminMixins)(e);if(!s.success)return s;return(0,r.makeResult)({type:n.value,groupInfoParticipantAdminMixins:s.value})};var r=n(22207),i=n(56305),o=n(44533),a=n(93263)},44533:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupInfoParticipantAdminMixins=function(e){const t=(0,a.parseParticipantWithJidLidAndDisplayNameMixin)(e);if(t.success)return(0,r.makeResult)({name:"ParticipantWithJidLidAndDisplayName",value:t.value});const n=(0,i.parseParticipantWithJidAndLidMixin)(e);if(n.success)return(0,r.makeResult)({name:"ParticipantWithJidAndLid",value:n.value});const c=(0,o.parseParticipantWithJidAndPnMixin)(e);if(c.success)return(0,r.makeResult)({name:"ParticipantWithJidAndPn",value:c.value});const u=(0,s.parseParticipantWithJidMixin)(e);if(u.success)return(0,r.makeResult)({name:"ParticipantWithJid",value:u.value});return(0,l.errorMixinDisjunction)(e,["ParticipantWithJidLidAndDisplayName","ParticipantWithJidAndLid","ParticipantWithJidAndPn","ParticipantWithJid"],[t,n,c,u])};var r=n(22207),i=n(65661),o=n(31093),a=n(93020),s=n(72186),l=n(93263)},87020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupInfoParticipantMixin=function(e){const t=(0,o.assertTag)(e,"participant");if(!t.success)return t;const n=(0,i.parseGroupInfoParticipantMixins)(e);if(!n.success)return n;return(0,r.makeResult)({groupInfoParticipantMixins:n.value})};var r=n(22207),i=n(87478),o=n(93263)},87478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupInfoParticipantMixins=function(e){const t=(0,i.parseGroupInfoParticipantAdminMixin)(e);if(t.success)return(0,r.makeResult)({name:"GroupInfoParticipantAdmin",value:t.value});const n=(0,o.parseGroupInfoParticipantNonAdminMixin)(e);if(n.success)return(0,r.makeResult)({name:"GroupInfoParticipantNonAdmin",value:n.value});return(0,a.errorMixinDisjunction)(e,["GroupInfoParticipantAdmin","GroupInfoParticipantNonAdmin"],[t,n])};var r=n(22207),i=n(15957),o=n(77924),a=n(93263)},77924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupInfoParticipantNonAdminMixin=function(e){const t=(0,i.assertTag)(e,"participant");if(!t.success)return t;const n=(0,r.parseParticipantMixin)(e);if(!n.success)return n;return n};var r=n(93066),i=n(93263)},16023:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupJoinMembershipApprovalModeEnabledMixin=function(e){const t=(0,i.assertTag)(e,"group_join");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"state","on");if(!n.success)return n;return(0,r.makeResult)({state:n.value})};var r=n(22207),i=n(93263)},56328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGroupMemberAddModeMixin=function(e){const t=(0,o.flattenedChildWithTag)(e,"member_add_mode");if(!t.success)return t;const n=(0,i.parseAdminOrAllMembersOrUnknownAddModeMixinGroup)(t.value);if(!n.success)return n;return(0,r.makeResult)({memberAddModeAdminOrAllMembersOrUnknownAddModeMixinGroup:n.value})};var r=n(22207),i=n(25172),o=n(93263)},65356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","bad-request");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",400);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},14478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup=function(e){const t=(0,i.parseIQErrorBadRequestMixin)(e);if(t.success)return(0,r.makeResult)({name:"IQErrorBadRequest",value:t.value});const n=(0,a.parseIQErrorRateOverlimitMixin)(e);if(n.success)return(0,r.makeResult)({name:"IQErrorRateOverlimit",value:n.value});const l=(0,o.parseIQErrorFallbackClientMixin)(e);if(l.success)return(0,r.makeResult)({name:"IQErrorFallbackClient",value:l.value});return(0,s.errorMixinDisjunction)(e,["IQErrorBadRequest","IQErrorRateOverlimit","IQErrorFallbackClient"],[t,n,l])};var r=n(22207),i=n(65356),o=n(7917),a=n(76033),s=n(93263)},7917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorFallbackClientMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.attrString)(e,"text");if(!n.success)return n;const o=(0,i.attrIntRange)(e,"code",400,499);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},71529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorFallbackServerMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.attrString)(e,"text");if(!n.success)return n;const o=(0,i.attrIntRange)(e,"code",500,599);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},69348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorForbiddenMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","forbidden");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",403);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},92906:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorGoneMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","gone");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",410);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},99354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorGrowthLockedGrowthLocked=o,t.parseIQErrorGrowthLockedMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.optionalChildWithTag)(e,"growth_locked",o);if(!n.success)return n;const a=(0,i.literal)(i.attrString,e,"text","growth-locked");if(!a.success)return a;const s=(0,i.literal)(i.attrInt,e,"code",436);if(!s.success)return s;return(0,r.makeResult)({text:a.value,code:s.value,growthLocked:n.value})};var r=n(22207),i=n(93263);function o(e){const t=(0,i.assertTag)(e,"growth_locked");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"type","invite");if(!n.success)return n;const o=(0,i.attrIntRange)(e,"expiration",0,void 0);return o.success?(0,r.makeResult)({type:n.value,expiration:o.value}):o}},69095:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorInternalServerErrorMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","internal-server-error");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",500);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},46242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorItemNotFoundMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","item-not-found");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",404);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},96625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorLockedMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","locked");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",423);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},30681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorNotAcceptableField=o,t.parseIQErrorNotAcceptableMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.optionalChildWithTag)(e,"field",o);if(!n.success)return n;const a=(0,i.literal)(i.attrString,e,"text","not-acceptable");if(!a.success)return a;const s=(0,i.literal)(i.attrInt,e,"code",406);if(!s.success)return s;return(0,r.makeResult)({text:a.value,code:s.value,field:n.value})};var r=n(22207),i=n(93263);function o(e){const t=(0,i.assertTag)(e,"field");if(!t.success)return t;const n=(0,i.attrString)(e,"name");if(!n.success)return n;const o=(0,i.attrString)(e,"reason");return o.success?(0,r.makeResult)({name:n.value,reason:o.value}):o}},89533:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorNotAuthorizedMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","not-authorized");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",401);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},4032:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorPartialServerErrorMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","partial-server-error");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",530);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},76033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorRateOverlimitMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","rate-overlimit");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",429);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},37502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorResponseMixin=function(e,t){const n=(0,o.assertTag)(e,"iq");if(!n.success)return n;const a=(0,i.attrStringFromReference)(t,["id"]);if(!a.success)return a;const s=(0,o.literal)(o.attrString,e,"id",a.value);if(!s.success)return s;const l=(0,i.attrStringFromReference)(t,["to"]);if(!l.success)return l;const c=(0,o.literal)(o.attrString,e,"from",l.value);if(!c.success)return c;const u=(0,o.literal)(o.attrString,e,"type","error");if(!u.success)return u;return(0,r.makeResult)({type:u.value})};var r=n(22207),i=n(12375),o=n(93263)},3333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorServiceUnavailableMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","service-unavailable");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",503);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},26499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQResultResponseMixin=function(e,t){const n=(0,o.assertTag)(e,"iq");if(!n.success)return n;const a=(0,i.attrStringFromReference)(t,["id"]);if(!a.success)return a;const s=(0,o.literal)(o.attrString,e,"id",a.value);if(!s.success)return s;const l=(0,i.attrStringFromReference)(t,["to"]);if(!l.success)return l;const c=(0,o.literal)(o.attrString,e,"from",l.value);if(!c.success)return c;const u=(0,o.literal)(o.attrString,e,"type","result");if(!u.success)return u;return(0,r.makeResult)({type:u.value})};var r=n(22207),i=n(12375),o=n(93263)},40112:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseInviteLinkGroupInfoLinkedParent=E,t.parseInviteLinkGroupInfoMembershipApprovalMode=A,t.parseInviteLinkGroupInfoMembershipApprovalRequest=g,t.parseInviteLinkGroupInfoMixin=function(e){const t=(0,_.assertTag)(e,"group");if(!t.success)return t;const n=(0,_.flattenedChildWithTag)(e,"description");if(!n.success)return n;const r=(0,_.optionalChildWithTag)(e,"parent",f);if(!r.success)return r;const l=(0,_.optionalChildWithTag)(e,"linked_parent",E);if(!l.success)return l;const c=(0,_.optionalChild)(e,"default_sub_group");if(!c.success)return c;const u=(0,_.optionalChildWithTag)(e,"membership_approval_mode",A);if(!u.success)return u;const d=(0,_.optionalChildWithTag)(e,"membership_approval_request",g);if(!d.success)return d;const h=(0,_.attrIntRange)(e,"size",0,19999);if(!h.success)return h;const S=(0,s.parseGroupInfoDescriptionMixin)(n.value),T=(0,a.parseGroupInfoAttributesMixin)(e);if(!T.success)return T;const m=(0,_.mapChildrenWithTag)(e,"participant",0,19999,p);if(!m.success)return m;return(0,o.makeResult)((0,i.default)((0,i.default)({size:h.value,descriptionGroupInfoDescriptionMixin:S.success?S.value:null},T.value),{},{parent:r.value,linkedParent:l.value,hasDefaultSubGroup:null!=c.value,membershipApprovalMode:u.value,membershipApprovalRequest:d.value,participant:m.value}))},t.parseInviteLinkGroupInfoParent=f,t.parseInviteLinkGroupInfoParticipant=p;var i=r(n(73982)),o=n(22207),a=n(96799),s=n(74531),l=n(87020),c=n(61990),u=n(18131),d=n(35273),_=n(93263);function p(e){const t=(0,_.assertTag)(e,"participant");if(!t.success)return t;const n=(0,l.parseGroupInfoParticipantMixin)(e);return n.success,n}function f(e){const t=(0,_.assertTag)(e,"parent");if(!t.success)return t;const n=(0,_.attrIntRange)(e,"num_sub_groups",1,1e3);return n.success?(0,o.makeResult)({numSubGroups:n.value}):n}function E(e){const t=(0,_.assertTag)(e,"linked_parent");if(!t.success)return t;const n=(0,d.attrGroupJid)(e,"jid");if(!n.success)return n;const r=(0,u.parseNamedSubjectMixin)(e);return r.success?(0,o.makeResult)((0,i.default)({jid:n.value},r.value)):r}function A(e){const t=(0,_.assertTag)(e,"membership_approval_mode");if(!t.success)return t;const n=(0,c.parseMembershipApprovalGroupJoinModeEnabledMixin)(e);return n.success,n}function g(e){const t=(0,_.assertTag)(e,"membership_approval_request");if(!t.success)return t;const n=(0,_.optionalLiteral)(_.attrString,e,"error","304");return n.success?(0,o.makeResult)({error:n.value}):n}},61990:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMembershipApprovalGroupJoinModeEnabledMixin=function(e){const t=(0,i.assertTag)(e,"membership_approval_mode");if(!t.success)return t;const n=(0,i.flattenedChildWithTag)(e,"group_join");if(!n.success)return n;const o=(0,r.parseGroupJoinMembershipApprovalModeEnabledMixin)(n.value);if(!o.success)return o;return o};var r=n(16023),i=n(93263)},28494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMembershipRequestMethodAttributeMixin=function(e){const t=(0,o.attrStringEnum)(e,"request_method",i.ENUM_INVITELINK_LINKEDGROUPJOIN_NONADMINADD);if(!t.success)return t;return(0,r.makeResult)({requestMethod:t.value})};var r=n(22207),i=n(56305),o=n(93263)},18131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNamedSubjectMixin=function(e){const t=(0,i.attrString)(e,"subject");if(!t.success)return t;return(0,r.makeResult)({subject:t.value})};var r=n(22207),i=n(93263)},63763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNamedSubjectOrUnnamedSubjectFallbackMixinGroup=function(e){const t=(0,i.parseNamedSubjectMixin)(e);if(t.success)return(0,r.makeResult)({name:"NamedSubject",value:t.value});const n=(0,o.parseUnnamedSubjectFallbackMixin)(e);if(n.success)return(0,r.makeResult)({name:"UnnamedSubjectFallback",value:n.value});return(0,a.errorMixinDisjunction)(e,["NamedSubject","UnnamedSubjectFallback"],[t,n])};var r=n(22207),i=n(18131),o=n(46234),a=n(93263)},72093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseParentGroupDefaultMembershipApprovalModeMixin=function(e){const t=(0,i.assertTag)(e,"parent");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"default_membership_approval_mode","request_required");if(!n.success)return n;return(0,r.makeResult)({defaultMembershipApprovalMode:n.value})};var r=n(22207),i=n(93263)},93066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantMixin=function(e){const t=(0,o.assertTag)(e,"participant");if(!t.success)return t;const n=(0,i.parseParticipantMixins)(e);if(!n.success)return n;return(0,r.makeResult)({participantMixins:n.value})};var r=n(22207),i=n(60373),o=n(93263)},60373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantMixins=function(e){const t=(0,s.parseParticipantWithJidLidAndDisplayNameMixin)(e);if(t.success)return(0,r.makeResult)({name:"ParticipantWithJidLidAndDisplayName",value:t.value});const n=(0,a.parseParticipantWithJidContainingLidAndDisplayNameMixin)(e);if(n.success)return(0,r.makeResult)({name:"ParticipantWithJidContainingLidAndDisplayName",value:n.value});const u=(0,i.parseParticipantWithJidAndLidMixin)(e);if(u.success)return(0,r.makeResult)({name:"ParticipantWithJidAndLid",value:u.value});const d=(0,o.parseParticipantWithJidAndPnMixin)(e);if(d.success)return(0,r.makeResult)({name:"ParticipantWithJidAndPn",value:d.value});const _=(0,l.parseParticipantWithJidMixin)(e);if(_.success)return(0,r.makeResult)({name:"ParticipantWithJid",value:_.value});return(0,c.errorMixinDisjunction)(e,["ParticipantWithJidLidAndDisplayName","ParticipantWithJidContainingLidAndDisplayName","ParticipantWithJidAndLid","ParticipantWithJidAndPn","ParticipantWithJid"],[t,n,u,d,_])};var r=n(22207),i=n(65661),o=n(31093),a=n(12204),s=n(93020),l=n(72186),c=n(93263)},84451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantNotAddressableMixin=function(e){const t=(0,i.assertTag)(e,"participant");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"addressable","false");if(!n.success)return n;return(0,r.makeResult)({addressable:n.value})};var r=n(22207),i=n(93263)},65661:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantWithJidAndLidMixin=function(e){const t=(0,l.assertTag)(e,"participant");if(!t.success)return t;const n=(0,a.parseParticipantWithJidMixin)(e);if(!n.success)return n;const r=(0,s.parseParticipantWithLidMixin)(e);if(!r.success)return r;return(0,o.makeResult)((0,i.default)((0,i.default)({},n.value),r.value))};var i=r(n(73982)),o=n(22207),a=n(72186),s=n(98552),l=n(93263)},31093:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantWithJidAndPnMixin=function(e){const t=(0,l.assertTag)(e,"participant");if(!t.success)return t;const n=(0,a.parseParticipantWithJidMixin)(e);if(!n.success)return n;const r=(0,s.parsePhoneNumberMixin)(e);return(0,o.makeResult)((0,i.default)((0,i.default)({},n.value),{},{phoneNumberMixin:r.success?r.value:null}))};var i=r(n(73982)),o=n(22207),a=n(72186),s=n(28562),l=n(93263)},12204:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantWithJidContainingLidAndDisplayNameMixin=function(e){const t=(0,l.assertTag)(e,"participant");if(!t.success)return t;const n=(0,s.attrUserJid)(e,"jid");if(!n.success)return n;const r=(0,a.parseDisplayNameMixin)(e);if(!r.success)return r;return(0,o.makeResult)((0,i.default)({jid:n.value},r.value))};var i=r(n(73982)),o=n(22207),a=n(2318),s=n(35273),l=n(93263)},93020:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantWithJidLidAndDisplayNameMixin=function(e){const t=(0,l.assertTag)(e,"participant");if(!t.success)return t;const n=(0,s.parseParticipantWithJidAndLidMixin)(e);if(!n.success)return n;const r=(0,a.parseDisplayNameMixin)(e);if(!r.success)return r;return(0,o.makeResult)((0,i.default)((0,i.default)({},n.value),r.value))};var i=r(n(73982)),o=n(22207),a=n(2318),s=n(65661),l=n(93263)},72186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantWithJidMixin=function(e){const t=(0,o.assertTag)(e,"participant");if(!t.success)return t;const n=(0,i.attrUserJid)(e,"jid");if(!n.success)return n;return(0,r.makeResult)({jid:n.value})};var r=n(22207),i=n(35273),o=n(93263)},98552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseParticipantWithLidMixin=function(e){const t=(0,o.assertTag)(e,"participant");if(!t.success)return t;const n=(0,i.attrUserJid)(e,"lid");if(!n.success)return n;return(0,r.makeResult)({lid:n.value})};var r=n(22207),i=n(35273),o=n(93263)},28562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePhoneNumberMixin=function(e){const t=(0,i.attrUserJid)(e,"phone_number");if(!t.success)return t;return(0,r.makeResult)({phoneNumber:t.value})};var r=n(22207),i=n(35273)},87166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseServerErrors=function(e){const t=(0,o.parseIQErrorInternalServerErrorMixin)(e);if(t.success)return(0,r.makeResult)({name:"IQErrorInternalServerError",value:t.value});const n=(0,s.parseIQErrorServiceUnavailableMixin)(e);if(n.success)return(0,r.makeResult)({name:"IQErrorServiceUnavailable",value:n.value});const c=(0,a.parseIQErrorPartialServerErrorMixin)(e);if(c.success)return(0,r.makeResult)({name:"IQErrorPartialServerError",value:c.value});const u=(0,i.parseIQErrorFallbackServerMixin)(e);if(u.success)return(0,r.makeResult)({name:"IQErrorFallbackServer",value:u.value});return(0,l.errorMixinDisjunction)(e,["IQErrorInternalServerError","IQErrorServiceUnavailable","IQErrorPartialServerError","IQErrorFallbackServer"],[t,n,c,u])};var r=n(22207),i=n(71529),o=n(69095),a=n(4032),s=n(3333),l=n(93263)},73847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnknownAddModeMixin=function(e){const t=(0,i.assertTag)(e,"member_add_mode");if(!t.success)return t;const n=(0,i.contentString)(e);if(!n.success)return n;return(0,r.makeResult)({elementValue:n.value})};var r=n(22207),i=n(93263)},46234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnnamedSubjectFallbackMixin=function(e){const t=(0,i.optional)(i.attrString,e,"subject");if(!t.success)return t;return(0,r.makeResult)({subject:t.value})};var r=n(22207),i=n(93263)},83173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeBaseGetGroupMixin=function(e,t){const n=function(e){const{iqTo:t}=e;return(0,o.mergeBaseIQGetRequestMixin)((0,r.smax)("iq",{to:(0,a.GROUP_JID)(t),xmlns:"w:g2"}))}(t);return(0,i.mergeStanzas)(e,n)};var r=n(41399),i=n(65640),o=n(88388),a=n(80780)},94557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeBaseGetServerMixin=function(e){const t=(0,o.mergeBaseIQGetRequestMixin)((0,r.smax)("iq",{to:a.G_US,xmlns:"w:g2"}));return(0,i.mergeStanzas)(e,t)};var r=n(41399),i=n(65640),o=n(88388),a=n(80780)},88388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeBaseIQGetRequestMixin=function(e){const t=(0,r.smax)("iq",{id:(0,o.generateId)(),type:"get"});return(0,i.mergeStanzas)(e,t)};var r=n(41399),i=n(65640),o=n(80780)},63497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetInviteGroupInfoRequest=function(e){const{inviteCode:t}=e;return(0,i.mergeBaseGetServerMixin)((0,r.smax)("iq",null,(0,r.smax)("invite",{code:(0,o.CUSTOM_STRING)(t)})))};var r=n(41399),i=n(94557),o=n(80780)},2307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetMembershipApprovalRequestsRequest=function(e){const{hasGetMembershipApprovalRequestsRequestorFetch:t}=e;return(0,o.mergeBaseGetGroupMixin)((0,r.smax)("iq",null,(0,i.optionalMerge)(a.mergeGetMembershipApprovalRequestsRequestorFetchMixin,(0,r.smax)("membership_approval_requests",null),t)),e)};var r=n(41399),i=n(65640),o=n(83173),a=n(79965)},79965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeGetMembershipApprovalRequestsRequestorFetchMixin=function(e){const t=(0,r.smax)("smax$any",{requestor_fetch:"true"});return(0,i.mergeStanzas)(e,t)};var r=n(41399),i=n(65640)},98197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetParticipatingGroupsRequest=function(e){const{hasParticipants:t,hasDescription:n}=e;return(0,o.mergeBaseGetServerMixin)((0,i.smax)("iq",null,(0,i.smax)("participating",null,(0,r.HAS_OPTIONAL_CHILD)(a,t),(0,r.HAS_OPTIONAL_CHILD)(s,n))))},t.makeGetParticipatingGroupsRequestParticipatingDescription=s,t.makeGetParticipatingGroupsRequestParticipatingParticipants=a;var r=n(38421),i=n(41399),o=n(94557);function a(){return(0,i.smax)("participants",null)}function s(){return(0,i.smax)("description",null)}},32864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.receiveNewsletterRPC=function(e){const t=(0,r.parseNewsletterRequest)(e);if(!t.success)throw new a.SmaxParsingFailure((0,s.errorMessageRpcParsing)("Newsletter",{Request:t}));return{parsedRequest:t.value,makeNewsletterResponseError:()=>(0,i.makeNewsletterResponseError)(e),makeNewsletterResponseSuccess:()=>(0,o.makeNewsletterResponseSuccess)(e)}};var r=n(34754),i=n(5131),o=n(77804),a=n(76142),s=n(9338)},26601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAdminRevokeMixin=function(e){const t=(0,i.assertTag)(e,"message");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"edit","8");if(!n.success)return n;return(0,r.makeResult)({edit:n.value})};var r=n(22207),i=n(93263)},19803:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContentTypeMediaMixin=function(e){const t=(0,i.assertTag)(e,"message");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"type","media");if(!n.success)return n;return(0,r.makeResult)({type:n.value})};var r=n(22207),i=n(93263)},57972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContentTypeReactionMixin=function(e){const t=(0,i.assertTag)(e,"message");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"type","reaction");if(!n.success)return n;return(0,r.makeResult)({type:n.value})};var r=n(22207),i=n(93263)},73621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContentTypeTextMixin=function(e){const t=(0,i.assertTag)(e,"message");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"type","text");if(!n.success)return n;return(0,r.makeResult)({type:n.value})};var r=n(22207),i=n(93263)},13399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUPJID_USERJID=t.ENUM_REQUEST_SEND=t.ENUM_MSG_PKMSG=t.ENUM_LID_PN=t.ENUM_INCENTIVE_P2M_P2P_PAYOUT=t.ENUM_HPPPAYMENTLINK_UPI=t.ENUM_HIGH_LOW_UNKNOWN=t.ENUM_HIGH_HIGHFORCE_LOW=t.ENUM_FULL_MISSINGFIELDNOTPARTIAL_PARTIAL=t.ENUM_FIRST_FULL_INNER_LAST=t.ENUM_FBPAY_NOVI_P2MLITE_UPI=t.ENUM_FAILURE_INIT_SUCCESS=t.ENUM_EXACT_MAX=t.ENUM_CREATION_EDIT=t.ENUM_CATALOGMESSAGE_CTACALL_CTAURL_LANELINECALL_MENUOPTIONS_NOVICOMPLETETRANSACTION_NOVIHUB_NOVILOGIN_NOVIREPORTTRANSACTION_NOVIVIEWBANKDETAIL_NOVIVIEWCARDDETAIL_NOVIVIEWCODE_NOVIVIEWTRANSACTION_ORDERDETAILS_ORDERSTATUS_OTP_PAYMENTMETHOD_PAYMENTSTATUS_QUICKREPLY_VOICECALL=t.ENUM_BUYER_SELLER=t.ENUM_AUDIO_AVATARSTICKER_DOCUMENT_GIF_IMAGE_PTT_STICKER_URL_VCARD_VIDEO=t.ENUM_AUDIO_AVATARSTICKER_BUTTONSRESPONSE_CATALOGLINK_CONTACT_CONTACTARRAY_DOCUMENT_GIF_IMAGE_LISTRESPONSE_LOCATION_NATIVEFLOWRESPONSE_ORDER_PRODUCT_PRODUCTLINK_PTT_PTV_STICKER_URL_VCARD_VIDEO_XMA=t.ENUM_ASPRESENTED_BIMONTHLY_DAILY_FORTNIGHTLY_HALFYEARLY_MONTHLY_ONETIME_QUARTERLY_UNKNOWN_WEEKLY_YEARLY=t.ENUM_ADDRESSMESSAGE_GALAXYMESSAGE_MENUOPTIONS=t.ENUM_ADDRESSMESSAGE_GALAXYMESSAGE=t.ENUM_ACCEPT_REJECT_UNKNOWN=t.ENUM_1_2=t.ENUM_0_1=t.BROADCASTJID_DEVICEJID_GROUPJID_STATUSJID=void 0;var r=n(44037);t.ENUM_0_1={0:"0",1:"1"};t.ENUM_1_2={1:"1",2:"2"};t.ENUM_ACCEPT_REJECT_UNKNOWN={ACCEPT:"ACCEPT",REJECT:"REJECT",UNKNOWN:"UNKNOWN"};t.ENUM_ADDRESSMESSAGE_GALAXYMESSAGE={address_message:"address_message",galaxy_message:"galaxy_message"};t.ENUM_ADDRESSMESSAGE_GALAXYMESSAGE_MENUOPTIONS={address_message:"address_message",galaxy_message:"galaxy_message",menu_options:"menu_options"};t.ENUM_ASPRESENTED_BIMONTHLY_DAILY_FORTNIGHTLY_HALFYEARLY_MONTHLY_ONETIME_QUARTERLY_UNKNOWN_WEEKLY_YEARLY={ASPRESENTED:"ASPRESENTED",BIMONTHLY:"BIMONTHLY",DAILY:"DAILY",FORTNIGHTLY:"FORTNIGHTLY",HALFYEARLY:"HALFYEARLY",MONTHLY:"MONTHLY",ONETIME:"ONETIME",QUARTERLY:"QUARTERLY",UNKNOWN:"UNKNOWN",WEEKLY:"WEEKLY",YEARLY:"YEARLY"};t.ENUM_AUDIO_AVATARSTICKER_BUTTONSRESPONSE_CATALOGLINK_CONTACT_CONTACTARRAY_DOCUMENT_GIF_IMAGE_LISTRESPONSE_LOCATION_NATIVEFLOWRESPONSE_ORDER_PRODUCT_PRODUCTLINK_PTT_PTV_STICKER_URL_VCARD_VIDEO_XMA={audio:"audio",avatar_sticker:"avatar_sticker",buttons_response:"buttons_response",cataloglink:"cataloglink",contact:"contact",contact_array:"contact_array",document:"document",gif:"gif",image:"image",list_response:"list_response",location:"location",native_flow_response:"native_flow_response",order:"order",product:"product",productlink:"productlink",ptt:"ptt",ptv:"ptv",sticker:"sticker",url:"url",vcard:"vcard",video:"video",xma:"xma"};t.ENUM_AUDIO_AVATARSTICKER_DOCUMENT_GIF_IMAGE_PTT_STICKER_URL_VCARD_VIDEO={audio:"audio",avatar_sticker:"avatar_sticker",document:"document",gif:"gif",image:"image",ptt:"ptt",sticker:"sticker",url:"url",vcard:"vcard",video:"video"};t.ENUM_BUYER_SELLER={buyer:"buyer",seller:"seller"};t.ENUM_CATALOGMESSAGE_CTACALL_CTAURL_LANELINECALL_MENUOPTIONS_NOVICOMPLETETRANSACTION_NOVIHUB_NOVILOGIN_NOVIREPORTTRANSACTION_NOVIVIEWBANKDETAIL_NOVIVIEWCARDDETAIL_NOVIVIEWCODE_NOVIVIEWTRANSACTION_ORDERDETAILS_ORDERSTATUS_OTP_PAYMENTMETHOD_PAYMENTSTATUS_QUICKREPLY_VOICECALL={catalog_message:"catalog_message",cta_call:"cta_call",cta_url:"cta_url",laneline_call:"laneline_call",menu_options:"menu_options",novi_complete_transaction:"novi_complete_transaction",novi_hub:"novi_hub",novi_login:"novi_login",novi_report_transaction:"novi_report_transaction",novi_view_bank_detail:"novi_view_bank_detail",novi_view_card_detail:"novi_view_card_detail",novi_view_code:"novi_view_code",novi_view_transaction:"novi_view_transaction",order_details:"order_details",order_status:"order_status",otp:"otp",payment_method:"payment_method",payment_status:"payment_status",quick_reply:"quick_reply",voice_call:"voice_call"};t.ENUM_CREATION_EDIT={creation:"creation",edit:"edit"};t.ENUM_EXACT_MAX={EXACT:"EXACT",MAX:"MAX"};t.ENUM_FAILURE_INIT_SUCCESS={FAILURE:"FAILURE",INIT:"INIT",SUCCESS:"SUCCESS"};t.ENUM_FBPAY_NOVI_P2MLITE_UPI={FBPAY:"FBPAY",NOVI:"NOVI",P2M_LITE:"P2M_LITE",UPI:"UPI"};t.ENUM_FIRST_FULL_INNER_LAST={first:"first",full:"full",inner:"inner",last:"last"};t.ENUM_FULL_MISSINGFIELDNOTPARTIAL_PARTIAL={FULL:"FULL",MISSING_FIELD_NOT_PARTIAL:"MISSING_FIELD_NOT_PARTIAL",PARTIAL:"PARTIAL"};t.ENUM_HIGH_HIGHFORCE_LOW={high:"high",high_force:"high_force",low:"low"};t.ENUM_HIGH_LOW_UNKNOWN={high:"high",low:"low",unknown:"unknown"};t.ENUM_HPPPAYMENTLINK_UPI={HPP_PAYMENT_LINK:"HPP_PAYMENT_LINK",UPI:"UPI"};t.ENUM_INCENTIVE_P2M_P2P_PAYOUT={incentive:"incentive",p2m:"p2m",p2p:"p2p",payout:"payout"};t.ENUM_LID_PN={lid:"lid",pn:"pn"};t.ENUM_MSG_PKMSG={msg:"msg",pkmsg:"pkmsg"};t.ENUM_REQUEST_SEND={request:"request",send:"send"};const i={validators:[r.validateBroadcastJid,r.validateDeviceJid,r.validateGroupJid,r.validateStatusJid],typeName:"BroadcastJid|DeviceJid|GroupJid|StatusJid"};t.BROADCASTJID_DEVICEJID_GROUPJID_STATUSJID=i;const o={validators:[r.validateGroupJid,r.validateUserJid],typeName:"GroupJid|UserJid"};t.GROUPJID_USERJID=o},27589:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterMediaMixin=function(e){const t=(0,c.assertTag)(e,"message");if(!t.success)return t;const n=(0,c.flattenedChildWithTag)(e,"plaintext");if(!n.success)return n;const r=(0,c.attrStringEnum)(n.value,"mediatype",s.ENUM_AUDIO_AVATARSTICKER_DOCUMENT_GIF_IMAGE_PTT_STICKER_URL_VCARD_VIDEO);if(!r.success)return r;const u=(0,l.parsePayloadMixin)(n.value);if(!u.success)return u;const d=(0,a.parseContentTypeMediaMixin)(e);if(!d.success)return d;return(0,o.makeResult)((0,i.default)({plaintextMediatype:r.value,plaintextPayloadMixin:u.value},d.value))};var i=r(n(73982)),o=n(22207),a=n(19803),s=n(13399),l=n(13702),c=n(93263)},77826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterMessageFanoutContent=function(e){const t=(0,l.parseNewsletterTextMixin)(e);if(t.success)return(0,r.makeResult)({name:"NewsletterText",value:t.value});const n=(0,i.parseNewsletterMediaMixin)(e);if(n.success)return(0,r.makeResult)({name:"NewsletterMedia",value:n.value});const u=(0,s.parseNewsletterRevokeMixin)(e);if(u.success)return(0,r.makeResult)({name:"NewsletterRevoke",value:u.value});const d=(0,o.parseNewsletterReactionMixin)(e);if(d.success)return(0,r.makeResult)({name:"NewsletterReaction",value:d.value});const _=(0,a.parseNewsletterReactionRevokeMixin)(e);if(_.success)return(0,r.makeResult)({name:"NewsletterReactionRevoke",value:_.value});return(0,c.errorMixinDisjunction)(e,["NewsletterText","NewsletterMedia","NewsletterRevoke","NewsletterReaction","NewsletterReactionRevoke"],[t,n,u,d,_])};var r=n(22207),i=n(27589),o=n(97545),a=n(66506),s=n(78075),l=n(26177),c=n(93263)},9966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterMessageFanoutMixin=function(e){const t=(0,o.assertTag)(e,"message");if(!t.success)return t;const n=(0,o.attrStanzaId)(e,"id");if(!n.success)return n;const a=(0,o.attrIntRange)(e,"server_id",0,void 0);if(!a.success)return a;const s=(0,o.attrIntRange)(e,"t",0,void 0);if(!s.success)return s;const l=(0,o.optionalLiteral)(o.attrString,e,"is_sender","true");if(!l.success)return l;const c=(0,i.parseNewsletterMessageFanoutContent)(e);if(!c.success)return c;return(0,r.makeResult)({id:n.value,serverId:a.value,t:s.value,isSender:l.value,newsletterMessageFanoutContent:c.value})};var r=n(22207),i=n(77826),o=n(93263)},84312:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterMessageWithJIDMixin=function(e){const t=(0,c.assertTag)(e,"message");if(!t.success)return t;const n=(0,l.attrNewsletterJid)(e,"from");if(!n.success)return n;const r=(0,a.parseNewsletterMessageFanoutMixin)(e);if(!r.success)return r;const u=(0,s.parseOfflineMixin)(e);return(0,o.makeResult)((0,i.default)((0,i.default)({from:n.value},r.value),{},{offlineMixin:u.success?u.value:null}))};var i=r(n(73982)),o=n(22207),a=n(9966),s=n(43852),l=n(35273),c=n(93263)},97545:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterReactionMixin=function(e){const t=(0,s.assertTag)(e,"message");if(!t.success)return t;const n=(0,s.flattenedChildWithTag)(e,"reaction");if(!n.success)return n;const r=(0,s.attrString)(n.value,"code");if(!r.success)return r;const l=(0,a.parseContentTypeReactionMixin)(e);if(!l.success)return l;return(0,o.makeResult)((0,i.default)({reactionCode:r.value},l.value))};var i=r(n(73982)),o=n(22207),a=n(57972),s=n(93263)},66506:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterReactionRevokeMixin=function(e){const t=(0,l.assertTag)(e,"message");if(!t.success)return t;const n=(0,l.flattenedChildWithTag)(e,"reaction");if(!n.success)return n;const r=(0,s.parseRevokeMixin)(e);if(!r.success)return r;const c=(0,a.parseContentTypeReactionMixin)(e);if(!c.success)return c;return(0,o.makeResult)((0,i.default)((0,i.default)({},r.value),c.value))};var i=r(n(73982)),o=n(22207),a=n(57972),s=n(71754),l=n(93263)},34754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterRequest=function(e){const t=(0,i.assertTag)(e,"message");if(!t.success)return t;const n=(0,r.parseNewsletterMessageWithJIDMixin)(e);if(!n.success)return n;return n};var r=n(84312),i=n(93263)},78075:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterRevokeMixin=function(e){const t=(0,l.assertTag)(e,"message");if(!t.success)return t;const n=(0,l.flattenedChildWithTag)(e,"plaintext");if(!n.success)return n;const r=(0,a.parseAdminRevokeMixin)(e);if(!r.success)return r;const c=(0,s.parseContentTypeTextMixin)(e);if(!c.success)return c;return(0,o.makeResult)((0,i.default)((0,i.default)({},r.value),c.value))};var i=r(n(73982)),o=n(22207),a=n(26601),s=n(73621),l=n(93263)},26177:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseNewsletterTextMixin=function(e){const t=(0,l.assertTag)(e,"message");if(!t.success)return t;const n=(0,l.flattenedChildWithTag)(e,"plaintext");if(!n.success)return n;const r=(0,s.parsePayloadMixin)(n.value);if(!r.success)return r;const c=(0,a.parseContentTypeTextMixin)(e);if(!c.success)return c;return(0,o.makeResult)((0,i.default)({plaintextPayloadMixin:r.value},c.value))};var i=r(n(73982)),o=n(22207),a=n(73621),s=n(13702),l=n(93263)},43852:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseOfflineMixin=function(e){const t=(0,i.attrIntRange)(e,"offline",0,12);if(!t.success)return t;return(0,r.makeResult)({offline:t.value})};var r=n(22207),i=n(93263)},13702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePayloadMixin=function(e){const t=(0,i.assertTag)(e,"plaintext");if(!t.success)return t;const n=(0,i.contentBytesRange)(e,1,1048576);if(!n.success)return n;return(0,r.makeResult)({elementValue:n.value})};var r=n(22207),i=n(93263)},71754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRevokeMixin=function(e){const t=(0,i.assertTag)(e,"message");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"edit","7");if(!n.success)return n;return(0,r.makeResult)({edit:n.value})};var r=n(22207),i=n(93263)},68695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeCommonAckMixin=function(e,t){const n=function(e){const t=(0,a.attrFromReference)(o.attrNewsletterJid,e,["from"]);if(!t.success)throw new l.SmaxParsingFailure(t.error);const n=(0,a.attrFromReference)(s.attrStanzaId,e,["id"]);if(!n.success)throw new l.SmaxParsingFailure(n.error);const i=(0,a.attrFromReference)(s.attrString,e,["type"]);if(!i.success)throw new l.SmaxParsingFailure(i.error);return(0,r.smax)("ack",{to:(0,c.JID)(t.value),class:"message",id:(0,c.STANZA_ID)(n.value),type:(0,c.CUSTOM_STRING)(i.value)})}(t);return(0,i.mergeStanzas)(e,n)};var r=n(41399),i=n(65640),o=n(35273),a=n(12375),s=n(93263),l=n(76142),c=n(80780)},5131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeNewsletterResponseError=function(e){return(0,i.mergeCommonAckMixin)((0,r.smax)("ack",{error:"406"}),e)};var r=n(41399),i=n(68695)},77804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeNewsletterResponseSuccess=function(e){return(0,i.mergeCommonAckMixin)((0,r.smax)("ack",null),e)};var r=n(41399),i=n(68695)},15029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseClientResponseServerResponse=function(e,t){const n=(0,s.assertTag)(e,"iq");if(!n.success)return n;const l=(0,o.attrJidEnum)(e,"from",i.DOMAINJID_USERJID);if(!l.success)return l;const c=(0,s.literal)(s.attrString,e,"type","result");if(!c.success)return c;const u=(0,a.attrStringFromReference)(t,["id"]);if(!u.success)return u;const d=(0,s.literal)(s.attrString,e,"id",u.value);if(!d.success)return d;const _=(0,s.attrInt)(e,"t");if(!_.success)return _;return(0,r.makeResult)({from:l.value,type:c.value,t:_.value})};var r=n(22207),i=n(71022),o=n(35273),a=n(12375),s=n(93263)},71022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOMAINJID_USERJID=void 0;var r=n(44037);const i={validators:[r.validateDomainJid,r.validateUserJid],typeName:"DomainJid|UserJid"};t.DOMAINJID_USERJID=i},68991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeClientRequest=function(){return(0,i.mergeClientWellFormedToMixin)((0,r.smax)("iq",{id:(0,o.generateId)(),type:"get",xmlns:"w:p"}))};var r=n(41399),i=n(13388),o=n(80780)},13388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClientWellFormedToMixin=function(e){const t=(0,r.smax)("iq",{to:o.S_WHATSAPP_NET});return(0,i.mergeStanzas)(e,t)};var r=n(41399),i=n(65640),o=n(80780)},74653:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.sendFetchKeyBundlesRPC=function(){return _.apply(this,arguments)};var i=r(n(11504)),o=n(19026),a=n(26656),s=n(19802),l=n(70042),c=n(31614),u=n(76142),d=n(9338);function _(){return(_=(0,i.default)((function*(e,t){const n=(0,c.makeFetchKeyBundlesRequest)(e),r=yield(0,o.sendSmaxStanza)(n,t),i=(0,l.parseFetchKeyBundlesResponseSuccess)(r,n);if(i.success)return{name:"FetchKeyBundlesResponseSuccess",value:i.value};const _=(0,a.parseFetchKeyBundlesResponseRequestError)(r,n);if(_.success)return{name:"FetchKeyBundlesResponseRequestError",value:_.value};const p=(0,s.parseFetchKeyBundlesResponseServerError)(r,n);if(p.success)return{name:"FetchKeyBundlesResponseServerError",value:p.value};throw new u.SmaxParsingFailure((0,d.errorMessageRpcParsing)("FetchKeyBundles",{Success:i,RequestError:_,ServerError:p}))}))).apply(this,arguments)}},82688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDeviceIdentityMixin=function(e){const t=(0,i.flattenedChildWithTag)(e,"device-identity");if(!t.success)return t;const n=(0,i.contentBytes)(t.value);if(!n.success)return n;return(0,r.makeResult)({deviceIdentityElementValue:n.value})};var r=n(22207),i=n(93263)},26656:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseFetchKeyBundlesResponseRequestError=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const r=(0,l.flattenedChildWithTag)(e,"error");if(!r.success)return r;const c=(0,a.parseIQErrorResponseMixin)(e,t);if(!c.success)return c;const u=(0,s.parseRequestErrorsFetch)(r.value);if(!u.success)return u;return(0,o.makeResult)((0,i.default)((0,i.default)({},c.value),{},{errorRequestErrorsFetch:u.value}))};var i=r(n(73982)),o=n(22207),a=n(5778),s=n(27681),l=n(93263)},19802:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseFetchKeyBundlesResponseServerError=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const r=(0,l.flattenedChildWithTag)(e,"error");if(!r.success)return r;const c=(0,a.parseIQErrorResponseMixin)(e,t);if(!c.success)return c;const u=(0,s.parseServerErrors)(r.value);if(!u.success)return u;return(0,o.makeResult)((0,i.default)((0,i.default)({},c.value),{},{errorServerErrors:u.value}))};var i=r(n(73982)),o=n(22207),a=n(5778),s=n(58260),l=n(93263)},70042:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseFetchKeyBundlesResponseSuccess=function(e,t){const n=(0,c.assertTag)(e,"iq");if(!n.success)return n;const r=(0,c.flattenedChildWithTag)(e,"list");if(!r.success)return r;const s=(0,a.parseIQResultResponseMixin)(e,t);if(!s.success)return s;const l=(0,c.mapChildrenWithTag)(r.value,"user",0,1e5,u);if(!l.success)return l;return(0,o.makeResult)((0,i.default)((0,i.default)({},s.value),{},{listUser:l.value}))},t.parseFetchKeyBundlesResponseSuccessListUser=u;var i=r(n(73982)),o=n(22207),a=n(3599),s=n(1387),l=n(35273),c=n(93263);function u(e){const t=(0,c.assertTag)(e,"user");if(!t.success)return t;const n=(0,l.attrDeviceJid)(e,"jid");if(!n.success)return n;const r=(0,s.parseUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup)(e);return r.success?(0,o.makeResult)({jid:n.value,userFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup:r.value}):r}},4567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFetchKeyBundlesUserErrorFallbackMixin=function(e){const t=(0,i.assertTag)(e,"user");if(!t.success)return t;const n=(0,i.flattenedChildWithTag)(e,"error");if(!n.success)return n;const o=(0,i.attrString)(n.value,"text");if(!o.success)return o;const a=(0,i.attrIntRange)(n.value,"code",500,599);if(!a.success)return a;return(0,r.makeResult)({errorText:o.value,errorCode:a.value})};var r=n(22207),i=n(93263)},79950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFetchKeyBundlesUserErrorMixin=function(e){const t=(0,i.assertTag)(e,"user");if(!t.success)return t;const n=(0,i.flattenedChildWithTag)(e,"error");if(!n.success)return n;const o=(0,i.attrString)(n.value,"text");if(!o.success)return o;const a=(0,i.literal)(i.attrString,n.value,"code","500");if(!a.success)return a;return(0,r.makeResult)({errorText:o.value,errorCode:a.value})};var r=n(22207),i=n(93263)},17257:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseFetchKeyBundlesUserSuccessMixin=function(e){const t=(0,_.assertTag)(e,"user");if(!t.success)return t;const n=(0,_.optional)(_.attrIntRange,e,"t",0,void 0);if(!n.success)return n;const r=(0,u.parseRegistrationIDMixin)(e);if(!r.success)return r;const p=(0,l.parseKeyTypeMixin)(e),f=(0,s.parseIdentityKeyMixin)(e);if(!f.success)return f;const E=(0,c.parsePreKeyMixin)(e),A=(0,d.parseSignedPreKeyMixin)(e);if(!A.success)return A;const g=(0,a.parseDeviceIdentityMixin)(e);return(0,o.makeResult)((0,i.default)((0,i.default)((0,i.default)((0,i.default)({t:n.value},r.value),{},{keyTypeMixin:p.success?p.value:null},f.value),{},{preKeyMixin:E.success?E.value:null},A.value),{},{deviceIdentityMixin:g.success?g.value:null}))};var i=r(n(73982)),o=n(22207),a=n(82688),s=n(40321),l=n(71113),c=n(61183),u=n(18022),d=n(77835),_=n(93263)},59321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","bad-request");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",400);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},26638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorFallbackClientMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.attrString)(e,"text");if(!n.success)return n;const o=(0,i.attrIntRange)(e,"code",400,499);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},17071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorFallbackServerMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.attrString)(e,"text");if(!n.success)return n;const o=(0,i.attrIntRange)(e,"code",500,599);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},80752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorNoValidJIDMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","not-acceptable");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",406);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},5778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorResponseMixin=function(e,t){const n=(0,o.assertTag)(e,"iq");if(!n.success)return n;const a=(0,i.attrStringFromReference)(t,["id"]);if(!a.success)return a;const s=(0,o.literal)(o.attrString,e,"id",a.value);if(!s.success)return s;const l=(0,i.attrStringFromReference)(t,["to"]);if(!l.success)return l;const c=(0,o.literal)(o.attrString,e,"from",l.value);if(!c.success)return c;const u=(0,o.literal)(o.attrString,e,"type","error");if(!u.success)return u;return(0,r.makeResult)({type:u.value})};var r=n(22207),i=n(12375),o=n(93263)},90297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorServiceUnavailableMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","service-unavailable");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",503);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(22207),i=n(93263)},3599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQResultResponseMixin=function(e,t){const n=(0,o.assertTag)(e,"iq");if(!n.success)return n;const a=(0,i.attrStringFromReference)(t,["id"]);if(!a.success)return a;const s=(0,o.literal)(o.attrString,e,"id",a.value);if(!s.success)return s;const l=(0,i.attrStringFromReference)(t,["to"]);if(!l.success)return l;const c=(0,o.literal)(o.attrString,e,"from",l.value);if(!c.success)return c;const u=(0,o.literal)(o.attrString,e,"type","result");if(!u.success)return u;return(0,r.makeResult)({type:u.value})};var r=n(22207),i=n(12375),o=n(93263)},40321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIdentityKeyMixin=function(e){const t=(0,i.flattenedChildWithTag)(e,"identity");if(!t.success)return t;const n=(0,r.parseKeyDataMixin)(t.value);if(!n.success)return n;return n};var r=n(49362),i=n(93263)},49362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKeyDataMixin=function(e){const t=(0,i.contentBytesRange)(e,32,32);if(!t.success)return t;return(0,r.makeResult)({elementValue:t.value})};var r=n(22207),i=n(93263)},82749:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKeyIDMixin=function(e){const t=(0,i.assertTag)(e,"id");if(!t.success)return t;const n=(0,i.contentBytesRange)(e,3,3);if(!n.success)return n;return(0,r.makeResult)({elementValue:n.value})};var r=n(22207),i=n(93263)},71113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKeyTypeMixin=function(e){const t=(0,i.flattenedChildWithTag)(e,"type");if(!t.success)return t;const n=(0,i.contentLiteralBytes)(t.value,new Uint8Array([5]));if(!n.success)return n;return(0,r.makeResult)({typeElementValue:n.value})};var r=n(22207),i=n(93263)},61183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePreKeyMixin=function(e){const t=(0,a.flattenedChildWithTag)(e,"key");if(!t.success)return t;const n=(0,a.flattenedChildWithTag)(t.value,"id");if(!n.success)return n;const s=(0,a.flattenedChildWithTag)(t.value,"value");if(!s.success)return s;const l=(0,o.parseKeyIDMixin)(n.value);if(!l.success)return l;const c=(0,i.parseKeyDataMixin)(s.value);if(!c.success)return c;return(0,r.makeResult)({keyIdKeyIDMixin:l.value,keyValueKeyDataMixin:c.value})};var r=n(22207),i=n(49362),o=n(82749),a=n(93263)},18022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRegistrationIDMixin=function(e){const t=(0,i.flattenedChildWithTag)(e,"registration");if(!t.success)return t;const n=(0,i.contentBytesRange)(t.value,4,4);if(!n.success)return n;return(0,r.makeResult)({registrationElementValue:n.value})};var r=n(22207),i=n(93263)},27681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRequestErrorsFetch=function(e){const t=(0,i.parseIQErrorBadRequestMixin)(e);if(t.success)return(0,r.makeResult)({name:"IQErrorBadRequest",value:t.value});const n=(0,a.parseIQErrorNoValidJIDMixin)(e);if(n.success)return(0,r.makeResult)({name:"IQErrorNoValidJID",value:n.value});const l=(0,o.parseIQErrorFallbackClientMixin)(e);if(l.success)return(0,r.makeResult)({name:"IQErrorFallbackClient",value:l.value});return(0,s.errorMixinDisjunction)(e,["IQErrorBadRequest","IQErrorNoValidJID","IQErrorFallbackClient"],[t,n,l])};var r=n(22207),i=n(59321),o=n(26638),a=n(80752),s=n(93263)},58260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseServerErrors=function(e){const t=(0,o.parseIQErrorServiceUnavailableMixin)(e);if(t.success)return(0,r.makeResult)({name:"IQErrorServiceUnavailable",value:t.value});const n=(0,i.parseIQErrorFallbackServerMixin)(e);if(n.success)return(0,r.makeResult)({name:"IQErrorFallbackServer",value:n.value});return(0,a.errorMixinDisjunction)(e,["IQErrorServiceUnavailable","IQErrorFallbackServer"],[t,n])};var r=n(22207),i=n(17071),o=n(90297),a=n(93263)},77835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSignedPreKeyMixin=function(e){const t=(0,a.flattenedChildWithTag)(e,"skey");if(!t.success)return t;const n=(0,a.flattenedChildWithTag)(t.value,"id");if(!n.success)return n;const s=(0,a.flattenedChildWithTag)(t.value,"value");if(!s.success)return s;const l=(0,a.flattenedChildWithTag)(t.value,"signature");if(!l.success)return l;const c=(0,a.contentBytesRange)(l.value,64,64);if(!c.success)return c;const u=(0,o.parseKeyIDMixin)(n.value);if(!u.success)return u;const d=(0,i.parseKeyDataMixin)(s.value);if(!d.success)return d;return(0,r.makeResult)({skeySignatureElementValue:c.value,skeyIdKeyIDMixin:u.value,skeyValueKeyDataMixin:d.value})};var r=n(22207),i=n(49362),o=n(82749),a=n(93263)},1387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup=function(e){const t=(0,a.parseFetchKeyBundlesUserSuccessMixin)(e);if(t.success)return(0,r.makeResult)({name:"FetchKeyBundlesUserSuccess",value:t.value});const n=(0,o.parseFetchKeyBundlesUserErrorMixin)(e);if(n.success)return(0,r.makeResult)({name:"FetchKeyBundlesUserError",value:n.value});const l=(0,i.parseFetchKeyBundlesUserErrorFallbackMixin)(e);if(l.success)return(0,r.makeResult)({name:"FetchKeyBundlesUserErrorFallback",value:l.value});return(0,s.errorMixinDisjunction)(e,["UserSuccess","UserError","UserErrorFallback"],[t,n,l])};var r=n(22207),i=n(4567),o=n(79950),a=n(17257),s=n(93263)},84562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClientRequestMixin=function(e){const t=(0,r.smax)("iq",{id:(0,o.generateId)(),xmlns:"encrypt",to:o.S_WHATSAPP_NET});return(0,i.mergeStanzas)(e,t)};var r=n(41399),i=n(65640),o=n(80780)},31614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFetchKeyBundlesRequest=function(e){const{userArgs:t}=e;return(0,a.mergeClientRequestMixin)((0,o.smax)("iq",{type:"get"},(0,o.smax)("key",null,(0,i.REPEATED_CHILD)(l,t,1,1e5))))},t.makeFetchKeyBundlesRequestKeyUser=l;var r=n(23522),i=n(38421),o=n(41399),a=n(84562),s=n(80780);function l(e){const{userJid:t,hasUserReasonIdentity:n}=e;return(0,o.smax)("user",{jid:(0,s.DEVICE_JID)(t),reason:(0,r.OPTIONAL_LITERAL)("identity",n)})}},90945:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeBaseIQGetRequestMixin=function(e){const t=(0,r.smax)("iq",{id:(0,o.generateId)(),type:"get"});return(0,i.mergeStanzas)(e,t)};var r=n(41399),i=n(65640),o=n(80780)},78427:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetV2Request=function(e){const{propsHash:t}=e;return(0,i.mergeBaseIQGetRequestMixin)((0,r.smax)("iq",{to:o.S_WHATSAPP_NET,xmlns:"w"},(0,r.smax)("props",{protocol:"2",hash:(0,o.CUSTOM_STRING)(t)})))};var r=n(41399),i=n(90945),o=n(80780)},73218:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={1:'[334,-1,"($1) $2-$3"],10',20:'["Ah","[23]"],[334,"1[0125]|[89]00"],["Bg","1[35]|[4-6]|[89][2-9]"],[9,10]',211:"333,9",212:'["[5-7]BF","5(2[015-7]|3[0-4])|[67]",1],["[58]CE",["5(2[2-489]|3[5-9]|92)|892","5(2([2-48]|9[0-7])|3([5-79]|8[0-7])|924)|892"],1],["5DD",["5(29|38)","5(29|38)[89]"],1],["[5]BBBB","5(4[067]|5[03])"],["8[09];G","8(0|9[013-9])",1],9',213:'["[5-8]BBBB","[5-8]"],["9ACBB",9],9',216:"233,8",218:'[27,"[25-79]",1],9',220:"34,7",221:'[2322,"[379]"],[3222,8],9',222:'"[2-48]ABBB",8',223:'[2222,"[246-9]"],8',224:'[2222,3],[3222,"[67]"],[8,9]',225:"2222,8",226:'[2222,"[025-7]"],8',227:'[233,"08"],[2222,"[0289]"],8',228:'[2222,"[279]"],8',229:"2222,8",230:'[34,"[2-46]|8[013]"],[44,5],[7,8]',231:'[133,"[45]"],[233,2],[234,"[23578]"],[7,8,9]',232:"26,8",233:'[234,"[235]"],9',234:'["CCd","[7-9]"],["CDe","[78]"],["CEf","[78]"],10',235:"2222,8",236:"2222,8",237:'[2222,88],[12222,"[26]"],[8,9]',238:"322,7",239:"34,7",240:'[333,"[235]"],[36,"[89]"],9',241:"[2222,0],8",242:'[234,"[02]"],[144,8],9',243:'[234,1],[333,"[89]"],9',244:'[333,"[29]"],9',245:'[333,"44|9[567]"],[34,40],[7,9]',246:"[34,3],7",247:"5",248:'[133,"[246]"],7',249:'[234,"[19]"],9',250:'["2BCC",2],["[7-9]BCC","[7-9]"],9',251:'"[1-59]ACD",9',252:'[17,"24|[67]"],["BA{5,7}","15|28|6[1-35-9]|799|9[2-9]"],[333,"3[59]|4[89]|6[24-6]|79|8[08]|90"],[8,9]',253:"2222,8",254:'["BA{5,7}","[24-6]"],[36,7],["CCd","[89]"],9',255:'["[24]ACD","[24]"],["[67]BCC","[67]"],["[89]BBD","[89]"],9',256:'[45,[202,2024]],[36,"[27-9]|4(6[45]|[7-9])"],[27,"[34]"],9',257:"2222,8",258:'["[28]ACd","2|8[2-7]"],["80ACC",80],9',260:'["[29]AG","[29]"],["800;CC",8],9',261:'[2232,"[23]"],9',262:'"[268]BBBB",9',263:'["7ACd",7],["86BCC","86[24]"],["CCd","2(1[39]|2[0157]|6[14]|7[35]|84)|329"],["[235]ACd","[23]9|54"],["[25]CA{3,5}",["(25|54)8","258[23]|5483"]],["8CF",86],["80ACD",80],[9,10]',264:'["8ACD","8[1235]"],["6ACd",6],["870;CC",870],9',265:'["2BCC",2],[3222,"[1789]"],9',266:"44,8",267:'["7ACC",7],8',268:'[44,"[027]"],8',269:"322,7",27:'[333,860],[234,"[1-9]"],9',290:"[4,5]",291:"133,7",297:"34,7",298:"6,6",299:"222,6",30:'[244,"21|7"],[46,"2(2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])"],[334,"[2689]"],10',31:'["[1-578]ACD","1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"],["[1-5]BCC","1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],["6;H","6[0-57-9]"],["66;G",66],["[89]0AA{4,7}","80|9"],[9,11]',32:"[3222,4],9",33:'[3222,8],[12222,"[1-79]"],9',34:'["[89]00;CC","[89]00"],["[5-9]BBBB","[568]|[79][0-8]"],9',350:"[35,2],8",351:'["2ACD","2[12]"],["[2-46-9]BCC","2[3-9]|[346-9]"],9',352:'[2223,20],[333,6],["BBBBb","2([0367]|4[3-8])"],["BBBA{1,5}","[3-57]|8[13-9]|9(0[89]|[2-579])|(2|80)[2-9]"],9',353:'["AdD",1],["BCd","[2569]|4[1-69]|7[14]"],[333,70],[333,81],[234,"[78]"],[433,1],[2134,8],[244,4],9',354:'[34,"[4-9]"],["3BCC",3],[7,8,9]',355:'["6[6-9];CD",6],9',356:'[44,"[2357-9]"],8',357:"26,8",358:'["CA{3,7}","([1-3]00|[6-8]0)"],["116C",116],["BA{4,10}","[14]|2[09]|50|7[135]"],["AA{4,11}","[25689][1-8]|3"],[6,7,8,9,10,11]',359:'[333,999],["BCd","48|8[7-9]|9[08]"],9',36:'["BCd","[2-9]"],9',370:'[134,"52[0-79]"],[323,"[7-9]"],[26,"37|4([15]|6[1-8])"],[35,"[3-6]"],8',371:'[233,"[269]|8[01]"],8',372:'["[3-79]BD",["[369]|4[3-8]|5([0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5([02]|1([0-8]|95)|5[0-478]|6(4[0-4]|5[1-589]))|7[1-9]"]],["70;BD",70],["8000;CC",[800,8000]],["[458]Cd",["40|5|8(00|[1-5])","40|5|8(00[1-9]|[1-5])"]],[7,8]',373:'[233,"22|3"],["[25-7]BBC","2[13-9]|[5-7]"],["[89]BE","[89]"],8',374:'[26,"1|47"],[26,"4[1349]|[5-7]|9[1-9]"],[35,"[23]"],[323,"8|90"],8',375:'[2322,["17[0-3589]|2[4-9]|[34]","17([02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"$1 $2-$3-$4"],[3222,["1(5[24]|6[235]|7[467])|2(1[246]|2[25]|3[26])","1(5[24]|6(2|3[04-9]|5[0346-9])|7([46]|7[37-9]))|2(1[246]|2[25]|3[26])"],"$1 $2-$3-$4"],[423,["1(5[169]|6[3-5]|7[179])|2(1[35]|2[34]|3[3-5])","1(5[169]|6(3[1-3]|4|5[125])|7(1[3-9]|7[0-24-6]|9[2-7]))|2(1[35]|2[34]|3[3-5])"],"$1 $2-$3"],["[89]BCD","8[01]|9"],["82ADD",82],["800;BA{2,4}",800],9',376:'[33,"[135-9]"],[44,1],[333,6],[6,9]',377:'[2222,"[39]"],[233,4],["6;BBBB",6],[332,8],[8,9]',378:'[2222,"[5-7]"],["0549;F",0,"($1) $2"],8',379:"10",380:'[333,["6[12][29]|(3[1-8]|4[136-8]|5[12457]|6[49])2|(56|65)[24]","6[12][29]|(35|4[1378]|5[12457]|6[49])2|(56|65)[24]|(3[1-46-8]|46)2[013-9]"]],[234,["4[45][0-5]|5(0|6[37])|6([12][018]|[36-8])|7|89|9[1-9]|(48|57)[0137-9]","4[45][0-5]|5(0|6(3[14-7]|7))|6([12][018]|[36-8])|7|89|9[1-9]|(48|57)[0137-9]"]],[45,"[3-6]"],["CCd","[89]"],9',381:'["[23]BA{4,9}","(2[389]|39)0"],["[1-3]AA{5,10}","1|2([0-24-7]|[389][1-9])|3([0-8]|9[1-9])"],["6AA{6,8}",6],["[89]BA{3,9}","[89]"],["7[26];A{4,9}","7[26]"],["7[08]AA{4,9}","7[08]"],[8,9,10]',382:'[233,"[2-57-9]|6[036-9]"],[8,9]',383:'[233,"[23][89]|4[3-79]"],[35,"[89]00"],333,8',385:'["1;DC",1],["[2-5]ACd","[2-5]"],["9ACd",9],["[67]ACd","[67]"],["80[01];Bc",8],["80[01];CC",8],[8,9]',386:'[1322,"[12]|3[24-8]|4[24-8]|5[2-8]|7[3-8]"],["[3-7]ACC","[37][01]|4[0139]|51|6"],["[89][09];A{3,6}","[89][09]"],["[58]BE","59|8[1-3]"],8',387:'[233,"6[1-356]|[7-9]"],[233,"[3-5]","$1 $2-$3"],[2223,6],[8,9]',389:'["2;CD",2],["[347]ACC","[347]"],["[58]BABB","[58]"],8',39:'["BdD","0[26]|55"],["0[26];DE","0[26]"],["0BdD","0[13-57-9][0159]"],["CA{3,6}",["0[13-57-9][0159]|8(03|4[17]|9[245])","0[13-57-9][0159]|8(03|4[17]|9(2|[45][0-4]))"]],["0CCD","0[13-57-9][2-46-8]"],["0CA{2,6}","0[13-57-9][2-46-8]"],["CCd",["[13]|8(00|4[08]|9[59])","[13]|8(00|4[08]|9(5[5-9]|9))"]],[344,3],[9,10]',40:'[234,"[23]1"],[333,"[23][3-7]|[7-9]"],9',41:'["[2-9]ACBB","[2-7]|[89]1"],["[89]BCC","8[047]|90"],[32322,860],9',420:'["[2-9]BCC","[2-8]|9[015-7]"],["96ACCC",96],["9ACCC","9[36]"],9',421:'["2;CCB",2,"$1/$2 $3 $4"],["[3-5]ACBB","[3-5]","$1/$2 $3 $4"],["[689]BCC","[689]"],9',423:'[322,"[237-9]"],[234,69],[333,6],7',43:'["1;A{3,12}",1],["5ADA{4,7}","5[079]"],["CA{3,10}","316|46|51|732|6(5[0-3579]|[6-9])|7([28]0)|[89]"],["DA{3,9}","2|3(1[1-578]|[3-8])|4[2378]|5[2-6]|6([12]|4[1-9]|5[468])|7(2[1-8]|35|4[1-8]|[5-79])"],[10,11,12,13]',44:'["Ee",["1(38|5[23]|69|76|94)","1((38|69)7|5(24|39)|768|946)","1(3873|5(242|39[4-6])|(697|768)[347]|9467)"]],["Df","1([2-69][02-9]|[78])"],[244,["[25]|7(0|6[024-9])","[25]|7(0|6([04-9]|2[356]))"]],[46,7],[334,"[1389]"],10',45:"2222,8",46:'["8;ccB",8],["[1-69]AcBB","1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"],[3222,"1[2457]|2([247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6([124-689]|7[0-2])|9([125-8]|3[0-5]|4[0-3])"],["7ACBB",7],["9[034]ABBC","9[034]"],[32322,"25[245]|67[3-6]"],9',47:'["[489]BBC","[489]"],["[235-7]ABBB","[235-7]"],8',48:'[2322,"[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"],[333,"26|39|5[0137]|6[0469]|7[02389]|8[08]"],9',49:'["BA{3,13}","3[02]|40|[68]9"],["CA{3,12}",["2(0[1-389]|1[124]|2[18]|3[14])|3([35-9][15]|4[015])|906|(2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(0[1-389]|12[0-8])|3([35-9][15]|4[015])|906|2([13][14]|2[18])|(2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"]],["DA{2,11}",["[24-6]|3([3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(3(0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(2[135]|4[13578]|9[1346])|5(0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(2[1-7]|4[145]|6[1-5]|7[1-4])|8(21|3[1468]|6|7[1467]|8[136])|9(0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(47|60)[1356]|3(3[46]|46|5[49])[1246]|3[4579]3[1357]"]],[34,138],["EA{2,10}",3],["CA{5,11}",181],["CAA{4,10}","1(3|80)|9"],["Ch","1[67]"],["CA{7,12}",8],[56,[185,1850,18500]],[344,7],[47,"18[68]"],[56,"15[0568]"],[47,"15[1279]"],[38,18],["CBh","1(6[023]|7)"],[427,"15[279]"],[328,15],[7,8,9,10,11,12]',500:"5",501:'[34,"[2-8]",1],["0;800;DC",0,1],7',502:'[44,"[2-7]"],[434,1],8',503:'[44,"[267]"],[344,"[89]"],8',504:'[44,"[237-9]",1],8',505:"44,8",506:'[44,"[24-7]|8[3-9]"],[334,"[89]0",1],8',507:"[44,6,1],8",508:'"[45]ABB",6',509:"224,8",51:"[333,9],9",52:'[244,"33|5[56]|81"],[334,"[2-9]"],[1244,"1(33|5[56]|81)"],[1334,1],[10,11]',53:'["Ag",7],["BA{4,6}","[2-4]"],[17,5],8',54:'[424,["2(2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2([23]02|6([25]|4[6-8])|9([02356]|4[02568]|72|8[23]))|3(3[28]|4([04679]|3[5-8]|5[4-68]|8[2379])|5([2467]|3[237]|8[2-5])|7[1-578]|8([2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(2[24-9]|3[1-59]|47)","2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5[2-6])|72|8[23]))|3(3[28]|4([04679]|3[78]|5(4[46]|8)|8[2379])|5([2467]|3[237]|8[23])|7[1-578]|8([2469]|3[278]|5[56][46]|86[3-6]))|2(2[24-9]|3[1-59]|47)|38([58][78]|7[378])|3(4[35][56]|58[45]|8([38]5|54|76))[4-6]","2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5([24-6]|3[2-5]))|72|8[23]))|3(3[28]|4([04679]|3(5(4[0-25689]|[56])|[78])|58|8[2379])|5([2467]|3[237]|8([23]|4([45]|60)|5(4[0-39]|5|64)))|7[1-578]|8([2469]|3[278]|54(4|5[13-7]|6[89])|86[3-6]))|2(2[24-9]|3[1-59]|47)|38([58][78]|7[378])|3(454|85[56])[46]|3(4(36|5[56])|8([38]5|76))[4-6]"],"$1 $2-$3"],[244,1,"$1 $2-$3"],[334,"[23]","$1 $2-$3"],[334,"[68]",1],[1424,["9(2[2-469]|3[3-578])","9(2(2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(2([23]02|6([25]|4[6-8])|9([02356]|4[02568]|72|8[23]))|3(3[28]|4([04679]|3[5-8]|5[4-68]|8[2379])|5([2467]|3[237]|8[2-5])|7[1-578]|8([2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(2[24-9]|3[1-59]|47)","9(2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5[2-6])|72|8[23]))|3(3[28]|4([04679]|3[78]|5(4[46]|8)|8[2379])|5([2467]|3[237]|8[23])|7[1-578]|8([2469]|3[278]|5([56][46]|[78])|7[378]|8(6[3-6]|[78]))))|92(2[24-9]|3[1-59]|47)|93(4[35][56]|58[45]|8([38]5|54|76))[4-6]","9(2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5([24-6]|3[2-5]))|72|8[23]))|3(3[28]|4([04679]|3(5(4[0-25689]|[56])|[78])|5(4[46]|8)|8[2379])|5([2467]|3[237]|8([23]|4([45]|60)|5(4[0-39]|5|64)))|7[1-578]|8([2469]|3[278]|5(4(4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(6[3-6]|[78]))))|92(2[24-9]|3[1-59]|47)|93(4(36|5[56])|8([38]5|76))[4-6]"],"$1 $2 $3-$4"],[1244,91,"$1 $2 $3-$4"],[1334,9,"$1 $2 $3-$4"],[10,11]',55:'[244,"[1-9][1-9]","$1 $2-$3"],[254,"([14689][1-9]|2[12478]|3[1-578]|5[1-5]|7[13-579])9","$1 $2-$3"],["[3589]00;cD","[3589]00"],[10,11]',56:'[144,"2[23]"],[234,"[357]|4[1-35]|6[13-57]"],["9;DD",9],["44;CD",44],["[68]00;Cd","60|8"],["600;CBC",60],["1230;CD",1],[54,219],9',57:'[17,["1(8[2-9]|9[0-3]|[2-7])|[24-8]","1(8[2-9]|9(09|[1-3])|[2-7])|[24-8]"]],[37,3],["1;CG",["1(80|9[04])","1(800|9(0[01]|4[78]))"]],[8,10]',58:"[37,-1,1],10",590:'["[56]90;BD",-1,"$1 $2-$3"],9',591:'[17,"[23]|4[46]"],[8,"[67]"],[324,8],8',592:"34,7",593:'[134,"[247]|[356][2-8]",1],[234,9],["1800;Cd",1],[8,9]',594:"3222,9",595:'["BCd","([26]1|3[289]|4[124678]|7[123]|8[1236])"],["CA{3,6}","[2-9]0"],[36,"9[1-9]"],[234,8700],[333,"[2-8][1-9]"],9',596:"3222,9",597:'[34,"[6-8]",1],7',598:'[233,9],[44,"[24]"],8',599:'[34,"[13-7]"],["9;CD",9],[7,8]',60:'["3;DD",3,"$1-$2 $3"],["[18]ACd","1[02-46-9][1-9]|8","$1-$2 $3"],["1;[36-8]00;BD","1[36-8]0",1],["11;DD",11,"$1-$2 $3"],["15[49];CD",15,"$1-$2 $3"],[9,10]',61:'["BCA{2,4}",16],[333,"14|[45]"],[144,"[2378]"],[433,"1(30|[89])"],9',62:'["BA{5,9}","2[124]|[36]1"],["CA{5,7}",800],["CA{5,8}","[2-79]"],["CdC","8[1-35-9]",1],["CA{6,8}",1],[334,804],[3133,80],["CDe",8,1],[2434,0],[9,10,11,12]',63:'["DA{4,6}",["3(23|39|46)|4(2[3-6]|[35]9|4[26]|76)|544|88[245]|(52|64|86)2","3(230|397|461)|4(2(35|[46]4|51)|396|4(22|63)|59[347]|76[15])|5(221|446)|642[23]|8(622|8([24]2|5[13]))"]],[334,"[89]"],[434,1],["DbCD",1],10',64:'[323,"[89]0"],[134,"24|[346]|7[2-57-9]|9[2-9]","$1-$2 $3"],["CCd","2(10|74)|[59]|80"],["BdD","2[028]"],["BCA{3,5}","2([169]|7[0-35-9])|7|86"],[8,9,10]',65:'["[3689]CD","[369]|8[1-9]"],["1[89]00;CD","1[89]"],["7000;DC",70],["800;CD",80],8',66:'["BCd","14|[3-9]"],[433,1],9',670:"[44,7],8",672:"[24,1],[15,3],[5,6]",673:'"[2-578]BD",7',674:"34,7",675:'[34,"[13-689]|27"],[44,"20|7"],[7,8]',676:'[34,"7[5-9]|8[47-9]"],[43,0],7',677:'[25,"[7-9]"],7',678:'[34,"[579]"],7',679:'[34,"[35-9]"],[434,0],7',680:"34,7",681:"222,6",682:"23,5",683:"4",685:'["8Bd",8],["7AE",7],[6,7]',686:"8",687:'[222,"[2-46-9]|5[0-4]","$1.$2.$3"],6',688:"[6,7]",689:'[2222,"4[09]|8[79]"],[222,44],[6,8]',690:"[4,5,6,7]",691:"34,7",692:"[34,-1,1],7",7:'[4222,["7(1[0-8]|2[1-9])","7(1([0-6]2|7|8[27])|2(1[23]|[2-9]2))","7(1([0-6]2|7|8[27])|2(13[03-69]|62[013-9]))|72[1-57-9]2"]],[5122,["7(1[0-68]|2[1-9])","7(1([06][3-6]|[18]|2[35]|[3-5][3-5])|2([13][3-5]|[24-689]|7[457]))","7(1(0([356]|4[023])|[18]|2(3[013-9]|5)|3[45]|43[013-79]|5(3[1-8]|4[1-7]|5)|6(3[0-35-9]|[4-6]))|2(1(3[178]|[45])|[24-689]|3[35]|7[457]))|7(14|23)4[0-8]|71(33|45)[1-79]"]],[334,7],[3322,"[3489]","$1 $2-$3-$4"],10',81:'[334,800,1],["DBd","0077",1],[424,"0088",1],["DCd","00(37|66)",1],["DDe","00(37|66)",1],["DEf","00(37|66)",1],["DFg","00(37|66)",1],[244,"[2579]0|80[1-9]",1],10',82:'["AdD",2,1],[234,"60|8",1],["BdD","[1346]|5[1-5]",1],[244,"[57]",1],[533,["003","0030"]],[254,5,1],["EdD",0],[5234,0],[9,10]',84:'[244,"2[48]"],[343,"2[0-35-79]"],["[89]ACBB","8(8|9[89])|9"],["1[2689]ACD","1([26]|8[68]|99)"],["[3578]ACD","[357]|8[1-5]"],["86[89];CC","86[89]"],["1[89]00;A{4,6}",["1[89]0","1[89]00"]],[9,10]',850:"[334,1],10",852:'[44,"[235-7]|[89](0[1-9]|[1-9])"],["800;CC",800],["900;BCC",900],["900;A{2,5}",900],8',853:'"[268]CD",8',855:'["BCd","[1-9]"],[433,1],[8,9]',856:"[2233,2],10",86:'["21;DA{4,6}",21],[344,"3(11|7[179])|4([15]1|3[1-35])|5(1|2[37]|3[12]|51|7[13-79]|9[15])|7(31|5[457]|6[09]|91)|8([57]1|98)"],[434,[807,8078]],[344,"1[3-578]"],["10800;CD",[108,1080,10800]],["Ch",950],11',880:'["CA{3,7}","3([67]|8[013-9])|4(6[168]|7|[89][18])|5(6[128]|9)|6(28|4[14]|5)|7[2-589]|8(0[014-9]|[12])|9[358]|(3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(44|66)[01346-9]",1],["DA{3,6}","[13-9]",1],10',886:'["AdD","[25][2-8]|[346]|7[1-9]|8[237-9]"],[234,"[258]"],[333,9],[244,7],9',90:'[334,"512|8[0589]|90"],[3322,["5([0-59]|61)","5([0-59]|616)","5([0-59]|6161)"]],[3322,"[24][1-8]|3[1-9]"],10',91:'[55,["600|7([02-8]|19|9[037-9])|8(0[015-9]|[1-9]|20)|9","600|7([078]|19[0-5]|2([02356-9]|[14][017-9]|9[389])|3([025-9]|1[07-9]|[34][017-9])|4([0-35689]|[47][017-9])|5([02346-9]|1[017-9]|5[017-9])|6([02-9]|1[0-257-9])|9([089]|31|7[02-9]))|8(0([01589]|6[67]|7[02-9])|1([0-57-9]|6[07-9])|2(0[078]|[14][07-9]|[235-9])|3([0357-9]|[126][07-9]|4[1-9])|[45]|6([02457-9]|[136][07-9])|7([078][07-9]|[1-69])|8([0-25-9]|3[07-9]|4[047-9])|9([02-9]|1[027-9]))|9","600|7(0|19[0-5]|2([0235679]|[14][017-9]|8([0-569]|[78][089])|9[389])|3([05-8]|1([089]|7[5-9])|2([5-8]|[0-49][089])|3[017-9]|4([07-9]|11)|9([01689]|[2345][089]|40|7[0189]))|4([056]|1([0135-9]|[23][089]|2[089]|4[089])|2(0[089]|[1-7][089]|[89])|3([0-8][089]|9)|4([089]|11|7[02-8])|7([089]|11|7[02-8])|8([0-24-7][089]|[389])|9([0-7][089]|[89]))|5([0346-9]|1[017-9]|2([03-9]|[12][089])|5[017-9])|6([0346-9]|1[0-257-9]|2([0-4].|[5-9][089])|5([0-367][089]|[4589]))|7(0([02-9]|1[089])|[1-9])|8([0-79]|8(0[0189]|11|8[013-9]|9))|9([089]|313|7([02-8]|9[07-9])))|8(0([01589]|6[67]|7([02-8]|9[05-9]))|1([02-57-9]|1([0-35-9]|4[0-46-9])|6([089]|7[02-8]))|2(0([08]|7[02])|[14]([089]|7[02-8])|[235-9])|3([0357-9]|1([089]|7[02-6])|2([09]|77|8[0-689])|4[1-9]|6([089]|7[02-7]))|[45]|6([02457-9]|1([089]|7[02-8])|3([089]|7[02358])|6([08]|7[02-8]|9[01]))|7(0[07-9]|[1-69]|7([089]|7[02-8])|8([089]|7[02-8]))|8([0-25-9]|3([089]|7[02-8])|4([0489]|7[02-68]))|9([02-9]|1([0289]|7[2-6])))|9"]],[244,"11|2[02]|33|4[04]|79[1-9]|80[2-46]"],[334,"1(2[0-249]|3[0-25]|4[145]|[569][14]|7[1257]|8[1346]|[68][1-9])|2(1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(12|[2345]1|57|6[13]|7[14]|80)|7(12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"],[433,"1([23579]|[468][1-9])|[2-8]"],[2343,"008"],[334,140],[424,[160,1600]],["DA{2,4};D",[180,1800]],["DdD",[186,1860]],[4333,"18[06]"],10',92:'["Bh","(2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],["Cg",["2(3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(2[2-689]|3[23578]|4[3478]|5[2356])|9(2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(2[3-8]|98)|(2(3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(2[2-689]|3[23578]|4[3478]|5[2356])|9(22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"]],[55,58],[37,3],[2333,"2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],[3333,"[24-9]"],10',93:'["[2-7]ACD","[2-7]"],9',94:'[234,7],[333,"[1-689]"],9',95:'["ACd","[12]"],["BCd","[4-7]|8[1-35]"],["ACA{4,6}","9(2[0-4]|[35-9]|4[137-9])"],[144,2],[334,8],[1333,92],[154,9],[8,9,10]',960:'[34,"[3467]|9([1-9]|0[1-9])",1],[334,"[89]00"],7',961:'[133,"[13-69]|7([2-57]|62|8[0-7]|9[04-9])|8[02-9]"],[233,"[7-9]"],[7,8]',962:'["7;DD","7[457-9]"],["Cf","70|8[0158]|9"],9',963:'["BCd","[1-5]"],["9BCC",9],9',964:'["BCd","[2-6]"],[334,7],[9,10]',965:'["Dd","[169]|2([235]|4[1-35-9])|52"],[35,"[25]"],8',966:'[45,9],[234,1],[234,5],["CCd",81],[334,8],9',967:'["7BCC","7[0137]"],9',968:'["CA{4,6}","[58]"],[26,2],[44,"[79]"],8',970:'["5[69]ACC",5],["1[78]00;CC","1[78]"],9',971:'["CA{2,9}","60|8"],[315,"[479]"],[234,5],9',972:'[234,"[57]",1],[433,12,1],[46,159,1],[1333,"1[7-9]",1],["CbCD",15,"$1-$2 $3-$4"],9',973:"44,8",974:'["[3-7]CD","[3-7]"],8',975:'[2222,"1|77"],8',976:'["[12]ABD","[12]1"],["[12]2Af","[12]2[1-3]"],["[12]CE",["[12](27|[3-5])","[12](27|[3-5].)2"]],[44,"[57-9]"],["[12]De",["[12](27|[3-5])","[12](27|[3-5].)[4-9]"]],8',977:'["9BG","9(6[013]|7[245]|8)",1],10',98:'[244,"[1-8]"],["CCd",9],10',992:'[612,[331,3317]],[324,"[34]7|91[78]"],[414,3],[234,"[457-9]"],9',993:'[2222,12,"$1 $2-$3-$4"],[26,6],[3122,"13|[2-5]","$1 $2-$3-$4"],8',994:'[3222,9],[2322,["[12]|365","[12]|365","[12]|365([0-46-9]|5[0-35-9])"]],[2322,"[3-8]"],9',995:'[3222,"[348]"],[333,7],[3222,5],9',996:'[45,"3(1[346]|[24-79])"],[333,"[235-79]"],["CCAc",8],9',998:'[2322,"[679]"],[7,8,9]'}},9228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TLD=void 0;const n=new Set(["abb","abbott","abudhabi","ac","academy","accountants","ad","ads","adult","ae","aero","af","afl","africa","ag","agency","ai","aig","al","am","amsterdam","anz","ao","apartments","app","aq","ar","army","art","as","asia","at","au","auction","audi","audio","auto","autos","aw","aws","ax","axa","az","ba","baby","band","bank","bar","barclays","basketball","bb","bbva","bd","be","beauty","beer","berlin","best","bet","bf","bg","bh","bi","bible","bid","bike","bingo","bio","biz","bj","black","blog","blue","bm","bmw","bn","bnpparibas","bo","bond","bot","boutique","box","br","bradesco","broker","brussels","bs","bt","build","builders","business","buzz","bw","by","bz","bzh","ca","cab","cafe","cam","camera","camp","canon","capital","car","cards","care","career","careers","cars","casa","cash","casino","cat","cc","cd","center","ceo","cern","cf","cfd","cg","ch","chat","cheap","church","ci","city","ck","cl","claims","click","clinic","clothing","cloud","club","cm","cn","co","coach","codes","coffee","com","community","company","condos","consulting","contact","contractors","cool","coop","country","coupons","courses","cpa","cr","credit","cricket","crs","cu","cv","cw","cx","cy","cyou","cz","dance","date","dating","day","de","deals","delivery","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","dj","dk","dm","do","doctor","dog","domains","download","dvag","dz","earth","ec","eco","edu","education","ee","eg","email","energy","engineer","engineering","equipment","es","estate","et","eu","eus","events","exchange","expert","express","fail","faith","family","fan","fans","farm","fashion","fi","film","finance","financial","fish","fishing","fit","fitness","fj","flights","flowers","fm","fo","football","forex","forum","foundation","fr","frl","fun","fund","futbol","fyi","ga","gal","gallery","game","games","garden","gay","gd","gdn","ge","gent","gg","gh","gi","gift","gifts","gives","gl","glass","gle","global","gm","gmbh","gold","golf","goog","google","gop","gov","gp","gq","gr","graphics","gratis","green","group","gs","gt","guide","guru","gy","hair","hamburg","haus","health","healthcare","help","hk","hn","holdings","holiday","homes","horse","hospital","host","hosting","hot","house","how","hr","ht","hu","icu","id","ie","il","im","immo","in","inc","info","ink","institute","insure","int","international","investments","io","iq","ir","is","ist","istanbul","it","java","je","jewelry","jm","jo","jobs","jp","ke","kg","kh","ki","kim","kitchen","kiwi","kn","kp","kpmg","kpn","kr","krd","kred","kw","ky","kz","la","land","lat","law","lawyer","lb","lc","leclerc","legal","lgbt","li","lidl","life","limited","limo","link","live","lk","llc","loan","loans","lol","london","love","lr","ls","lt","ltd","ltda","lu","luxe","lv","ly","ma","madrid","makeup","management","market","marketing","markets","mba","mc","md","me","media","melbourne","men","menu","mg","miami","mil","mk","ml","mm","mn","mo","mobi","moda","moe","mom","monash","money","monster","mortgage","moscow","movie","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","name","navy","nc","ne","net","network","neustar","new","news","nf","ng","ngo","ni","nico","ninja","nl","no","np","nr","nrw","ntt","nu","nyc","nz","observer","om","one","ong","onl","online","ooo","org","ovh","pa","page","paris","partners","parts","party","pay","pe","pet","pf","pg","ph","pharmacy","photo","photography","photos","physio","pics","pictet","pictures","pink","pioneer","pizza","pk","pl","place","plus","pm","pn","poker","porn","post","pr","press","pro","productions","promo","properties","ps","pt","pub","pw","py","qa","quebec","quest","racing","radio","re","realtor","recipes","red","ren","rent","repair","report","rest","restaurant","review","reviews","rio","rip","ro","rocks","rodeo","rs","ru","run","rw","sa","sale","salon","sap","saxo","sb","sbi","sbs","sc","school","science","scot","sd","se","security","services","sex","sexy","sg","sh","sharp","shiksha","shoes","shop","shopping","show","si","site","sk","ski","skin","sky","sl","sm","sn","sncf","so","social","softbank","software","solar","solutions","sony","soy","space","sport","spot","sr","srl","st","statebank","storage","store","stream","studio","study","style","su","sucks","supply","support","surf","sv","swiss","sx","sy","sydney","systems","sz","taipei","tatar","tax","taxi","tc","td","team","tech","technology","tel","tf","tg","th","tickets","tienda","tips","tires","tj","tk","tl","tm","tn","to","today","tokyo","tools","top","tours","town","toyota","toys","tr","trade","trading","training","travel","tt","tube","tv","tw","tz","ua","ug","uk","university","uno","us","uy","uz","va","vc","ve","vegas","ventures","vet","vg","vi","video","vin","vip","vision","vn","vote","voto","vu","wales","wang","watch","webcam","weber","website","wedding","wf","wien","wiki","win","wine","work","works","world","ws","wtf","xin","xyz","yandex","ye","yoga","yokohama","youtube","yt","za","zip","zm","zone","zw","","","","","","","","","","","","","",""]);t.TLD=n},60581:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.AesCbcStream=t.AES_CBC_BLOCK_SIZE=void 0,t.aesCbcDecrypt=E,t.aesCbcDecryptSplit=function(e,t){return Promise.resolve().then((()=>{const n=t.slice(0,16),r=t.slice(16);return E(e,n,r)}))},t.aesCbcEncrypt=function(e,t,n){return Promise.resolve().then((()=>{const r=p(n),i=d(r);return Promise.resolve(_(e)).then((e=>self.crypto.subtle.encrypt(i,e,t))).then((e=>(0,l.concatTypedArrays)(Uint8Array,[r,new Uint8Array(e)]).buffer))}))},t.aesCbcEncryptChunk=g,t.aesCbcEncryptWithChunking=function(){return A.apply(this,arguments)},t.getIv=p,t.importRawKey=_;var i=r(n(11504)),o=n(89323),a=r(n(82065)),s=n(50029),l=n(58358);const c=16;t.AES_CBC_BLOCK_SIZE=c;const u=16777216;function d(e){return{name:"AES-CBC",iv:(0,s.castTypedArrays)(Uint8Array,e)}}function _(e){return self.crypto.subtle.importKey("raw",(0,s.castTypedArrays)(Uint8Array,e),"AES-CBC",!1,["encrypt"])}function p(e){if(e)return(0,s.castTypedArrays)(Uint8Array,e);const t=new Uint8Array(16);return self.crypto.getRandomValues(t),t}function f(e){const t=e.byteLength,n=c-t%c;return Number.isNaN(n)?t:t+n}function E(e,t,n){const r=d(t);return Promise.resolve(self.crypto.subtle.importKey("raw",(0,s.castTypedArrays)(Uint8Array,e),"AES-CBC",!1,["decrypt"])).then((e=>self.crypto.subtle.decrypt(r,e,n)))}function A(){return(A=(0,i.default)((function*(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;if(r%c!=0)throw(0,a.default)(`chunkSize must be a multiple of 16, ${r} received`);const i=yield _(e),o=new Uint8Array(t),s=Math.ceil(o.byteLength/r),l=p(n),d=new Uint8Array(f(o)+l.byteLength);d.set(l);for(let e,t=0,n=l;t<s;t++){const a=t===s-1,c=t*r;e=o.subarray(c,c+r);const{encryptedChunk:u,nextIv:_}=yield g(a,e,n,i);d.set(u,l.byteLength+t*r),n=_}return d.buffer}))).apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e,t,n,r){const i=yield self.crypto.subtle.encrypt(d(n),r,t).then((t=>e?new Uint8Array(t):new Uint8Array(t).subarray(0,-16))),o=i.slice(-16);return{encryptedChunk:i,nextIv:o}}))).apply(this,arguments)}t.AesCbcStream=class{constructor(e,t,n,r){this._input=null,this._finished=!1,this._output=e,this._type=t,this._rawKey=n;const i={name:"AES-CBC",iv:r};this._promise=self.crypto.subtle.importKey("raw",n,"AES-CBC",!1,[t]).then((e=>({algo:i,key:e})))}append(e){let t;this._throwIfFinished("append");const n=this._input;if(n)if(n.writeByteArray(e),n.size()>1024){const e=n.size()%c;t=n.readByteArray(n.size()-e),n.size()||(this._input=null)}else t=null;else if(e.length>1024){const n=e.length%c;n?(this._input=new o.Binary(e),t=this._input.readByteArray(e.length-n)):t=e}else this._input=new o.Binary(e),t=null;const r=t;return r&&(this._promise=this._promise.then((e=>{let{key:t,algo:n}=e;if("encrypt"===this._type)return self.crypto.subtle.encrypt(n,t,r).then((e=>(this._output.writeByteArray(new Uint8Array(e,0,e.byteLength-c)),new Uint8Array(e,e.byteLength-32,c))));{const e=r.slice(-16);return self.crypto.subtle.decrypt(n,t,r).then((t=>(this._output.writeBuffer(t),e)))}})).then((e=>{const t={name:"AES-CBC",iv:e};return self.crypto.subtle.importKey("raw",this._rawKey,"AES-CBC",!1,[this._type]).then((e=>({algo:t,key:e})))}))),this._promise.then((()=>{}))}finalize(e){let t;if(this._throwIfFinished("finalize"),this._input){const n=this._input;e&&n.writeByteArray(e),t=n.readByteArray(),this._input=null}else e&&(t=e);if(t){const e=t;return this._promise.then((t=>{let{algo:n,key:r}=t;return"encrypt"===this._type?self.crypto.subtle.encrypt(n,r,e):self.crypto.subtle.decrypt(n,r,e)})).then((e=>{this._output.writeBuffer(e)}))}return this._promise.then((()=>{}))}_throwIfFinished(e){if(this._finished)throw(0,a.default)(`AesCbcStream.${e} called after finalize`)}}},5720:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.gcmDecrypt=function(){return s.apply(this,arguments)},t.gcmEncrypt=function(){return a.apply(this,arguments)};var i=r(n(11504)),o=n(89323);function a(){return(a=(0,i.default)((function*(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16;const o={name:"AES-GCM",iv:c(t),tagLength:8*i};return null!=r&&(o.additionalData=c(r)),self.crypto.subtle.encrypt(o,yield l(e),n)}))).apply(this,arguments)}function s(){return(s=(0,i.default)((function*(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16;const o={name:"AES-GCM",iv:c(t),tagLength:8*i};return null!=r&&(o.additionalData=c(r)),self.crypto.subtle.decrypt(o,yield l(e),n)}))).apply(this,arguments)}function l(e){return self.crypto.subtle.importKey("raw",e,"AES-GCM",!1,["encrypt","decrypt"])}function c(e){if(e instanceof Uint8Array)return e;if("string"==typeof e){const t=new o.Binary;return t.writeString(e),t.readByteArray()}return new Uint8Array(e)}},39884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Curve25519=void 0;t.Curve25519=class{constructor(e,t){this.signalDependencies=e,this.keyPair=t?Promise.resolve(t):this.signalDependencies.generateIdentityKeyPair()}generatePublicKey(){return this.keyPair.then((e=>e.publicKey))}generateSharedSecret(e){return this.keyPair.then((t=>{let{privateKey:n}=t;return __LOG__(2)`Curve25519.generateSharedSecret pubkey:${e}`,this.signalDependencies.calculateAgreement(new Uint8Array(e),n)}))}}},60063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CURVE25519_SIGNAL_DEPENDENCIES=void 0,t.calculateAgreement=a;var r=n(53596),i=n(70717),o=n(31879);function a(e,t){return Promise.resolve().then((()=>(0,r.scalarMult)((0,o.ensureSize)(t,32),(0,o.ensureSize)(e,32)).buffer))}const s={generateIdentityKeyPair:function(){return Promise.resolve().then((()=>(0,i.makeKeyPair)()))},calculateAgreement:a};t.CURVE25519_SIGNAL_DEPENDENCIES=s},85135:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.allocate=l,t.elligator=v,t.fieldElement=c,t.hashSha512=function(e,t,n){i.lowlevel.crypto_hash(e,t,n)},t.hashToPoint=function(e){return s((()=>function(e){const{unpack25519:t}=i.lowlevel,n=(0,i.hash)(e),r=(128&n[31])>>7;n[31]&=127;const o=c();t(o,n);const a=c();v(a,o);const s=p();!function(e,t,n){const{unpack25519:r,M:o}=i.lowlevel,a=c();r(a,y);const s=c();!function(e,t){const{Z:n,A:r,M:o}=i.lowlevel,a=_(),s=c(),l=c(),u=c();n(s,t,a),r(l,t,a),P(u,l),o(e,s,u)}(s,t);const u=c();g(u,t);const d=c();!function(e,t){const{unpack25519:n,pow2523:r,M:o,S:a}=i.lowlevel,s=c();n(s,S);const l=c();r(l,t);const u=c();o(u,t,l);const d=c();a(d,u);const _=c();o(_,u,s),h(u,_,1^(p=d,f=t,N(p,f)?0:1)),e.set(u);var p,f}(d,u);const p=c();o(p,t,a);const f=c();P(f,d);const E=c();o(E,p,f);const A=c();T(A,E),h(E,A,function(e){const{pack25519:t}=i.lowlevel,n=l(Uint8Array,32);return t(n,e),1&n[0]}(E)^n),e[0].set(E),e[1].set(s),e[2].set(_()),o(e[3],e[0],e[1])}(s,a,r);const u=p();return function(e,t){const n=[c(),c(),c(),c()],r=f();(function(e,t){const n=f();(function(e,t){e[0].set(t[0]),e[1].set(t[1]),e[2].set(t[2])})(n,t),I(e,n)})(n,t),m(r,n),I(n,r),m(r,n),I(n,r),function(e,t){const{M:n}=i.lowlevel;n(e[0],t[0],t[3]),n(e[1],t[1],t[2]),n(e[2],t[2],t[3]),n(e[3],t[0],t[1])}(e,n)}(u,s),u}(e)))},t.inv25519=P,t.modL=u,t.p3Element=p,t.pack=O,t.reduce=function(e,t){for(let n=0;n<64;++n)t[n]=e[n],e[n]=0;u(e,t),t.fill(0)},t.runInAllocationScope=s,t.scalarmultBase=function(e,t){const n=[c(),c(),c(),c()];i.lowlevel.scalarbase(n,t),O(e,n)},t.unpack=function(e,t){const n=p();if(0!==b(n,t))return-1;return function(e,t){T(e[0],t[0]),e[1].set(t[1]),e[2].set(t[2]),T(e[3],t[3])}(e,n),0},t.unpackneg=b;var i=n(53596),o=r(n(82065));let a=null;function s(e){const t=a;a=[];try{return e()}finally{var n;(null!==(n=a)&&void 0!==n?n:[]).forEach((e=>{e.fill(0)})),a=t}}function l(e,t){if(null==a)throw(0,o.default)("allocate called outside of active scope");return new e(t)}function c(e){const t=l(Float64Array,16);if(e){if(e.length>16)throw(0,o.default)("Incorrect initialiser array provided to the fieldElement");for(let n=0;n<e.length;n++)t[n]=e[n]}return t}function u(e,t){i.lowlevel.modL(e,t)}const d=()=>c([0]),_=()=>c([1]);function p(){return[c(),c(),c(),c()]}function f(){return[c(),c(),c()]}function E(e,t){let n=0,r=t;for(;r>0;){const t=r%65536;e[n]=t,r=(r-t)/65536,n++}}function A(e,t){const{S:n,M:r}=i.lowlevel,o=c([2]),a=c();n(a,t),r(e,o,a)}function g(e,t){const{S:n,M:r,A:o}=i.lowlevel,a=d(),s=_(),l=c(),u=c(),p=c(),f=c();E(a,486662),n(l,t),r(u,a,t),o(p,l,u),o(f,p,s),r(e,t,f)}function h(e,t,n){1===n&&e.set(t)}const S=new Uint8Array([176,160,14,74,39,27,238,196,120,228,47,173,6,24,67,47,167,215,251,61,153,0,77,43,11,223,193,79,128,36,131,43]);function T(e,t){const{Z:n}=i.lowlevel;n(e,d(),t)}function m(e,t){const{M:n}=i.lowlevel;n(e[0],t[0],t[3]),n(e[1],t[1],t[2]),n(e[2],t[2],t[3])}function I(e,t){const{S:n,A:r,Z:o}=i.lowlevel;n(e[0],t[0]),n(e[2],t[1]),A(e[3],t[2]),r(e[1],t[0],t[1]);const a=c();n(a,e[1]),r(e[1],e[2],e[0]),o(e[2],e[2],e[0]),o(e[0],a,e[1]),o(e[3],e[3],e[2])}const y=new Uint8Array([6,126,69,255,170,4,110,204,130,26,125,75,209,211,161,197,126,79,252,3,220,8,123,210,187,6,160,96,244,237,38,15]);function C(e,t){const{M:n,A:r}=i.lowlevel,o=_(),a=d();E(a,486662);const s=c();A(s,t);const l=c();r(l,s,o);const u=c();P(u,l);const p=c();n(p,u,a);const f=c();T(f,p);const S=c();g(S,f);const m=function(e){const{S:t,M:n,pow2523:r,pack25519:o}=i.lowlevel,a=c(),s=c(),l=c(),u=c(),d=c();r(a,e),t(s,a),t(l,s),n(u,l,e),n(d,u,e);const _=new Uint8Array(32);return o(_,d),1&_[31]}(S),I=c([0]);h(I,a,m);const y=c();r(y,f,I);const C=c();T(C,y),h(y,C,m),e.set(y)}function v(e,t){return s((()=>C(e,t)))}function O(e,t){const n=c(),r=c(),o=c(),{M:a,pack25519:s}=i.lowlevel;P(o,t[2]),a(n,t[0],o),a(r,t[1],o),s(e,r);const l=new Uint8Array(32);s(l,n),e[31]^=(1&l[0])<<7}function P(e,t){const n=c();n.set(t);const{M:r,S:o}=i.lowlevel;for(let e=253;e>=0;--e)o(n,n),2!==e&&4!==e&&r(n,n,t);e.set(n)}function N(e,t){const{pack25519:n,crypto_verify_32:r}=i.lowlevel,o=new Uint8Array(32),a=new Uint8Array(32);return n(o,e),n(a,t),r(o,0,a,0)}function b(e,t){const{set25519:n,S:r,M:o,Z:a,A:s,D:l,unpack25519:u,pow2523:p}=i.lowlevel,f=c(),E=c(),A=c(),g=c(),h=c(),S=c(),T=c();return n(e[2],_()),u(e[1],t),r(A,e[1]),o(g,A,l),a(A,A,e[2]),s(g,e[2],g),r(h,g),r(S,h),o(T,S,h),o(f,T,A),o(f,f,g),p(f,f),o(f,f,A),o(f,f,g),o(f,f,g),o(e[0],f,g),r(E,e[0]),o(E,E,g),N(E,A)&&o(e[0],e[0],c([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])),r(E,e[0]),o(E,E,g),N(E,A)?-1:(function(e){const{pack25519:t}=i.lowlevel,n=new Uint8Array(32);return t(n,e),1&n[0]}(e[0])===t[31]>>7&&a(e[0],d(),e[0]),o(e[3],e[0],e[1]),0)}},88397:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.expand=l,t.extractAndExpand=function(e,t,n){return(0,o.extractSha256)(null,e).then((e=>l(new Uint8Array(e),t,n)))},t.extractWithSaltAndExpand=function(e,t,n,r){return(0,o.extractSha256)(t,e).then((e=>l(new Uint8Array(e),n,r)))};var i=n(89323),o=n(13155),a=r(n(82065));const s=255*o.SHA256_BYTE_LENGTH;function l(e,t,n){if(n<0||n>s)return Promise.reject((0,a.default)(`HKDF::expand given bad length ${n}`));let r;const l=Math.ceil(n/o.SHA256_BYTE_LENGTH),c=i.Binary.build(t).readByteArray(),u=new i.Binary;let d=(0,o.encodeKeySha256)(e).then((e=>(r=e,new Uint8Array(0))));for(let e=1;e<=l;e++)d=d.then((t=>(0,o.sign)(r,i.Binary.build(t,c,e).readByteArray()))).then((e=>{const t=new Uint8Array(e);return u.writeByteArray(t),t}));return d.then((()=>u.readBuffer(n)))}},13155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA256_BYTE_LENGTH=t.DEFAULT_SALT=void 0,t.encodeKeySha256=function(e){return l(o,e)},t.extractSha256=function(e,t){return l(o,null!=e?e:i).then((e=>c(e,t)))},t.hmacSha1=function(e,t,n){return l(s,e).then((e=>c(e,t,n)))},t.hmacSha256=function(e,t,n){return l(o,e).then((e=>c(e,t,n)))},t.hmacSha512=function(e,t,n){return l(a,e).then((e=>c(e,t,n)))},t.sign=c;var r=n(50029);t.SHA256_BYTE_LENGTH=32;const i=new Uint8Array(32);t.DEFAULT_SALT=i;const o={name:"HMAC",hash:"SHA-256"},a={name:"HMAC",hash:"SHA-512"},s={name:"HMAC",hash:"SHA-1"};function l(e,t){const n=(0,r.castTypedArrays)(Uint8Array,t);return self.crypto.subtle.importKey("raw",n,e,!1,["sign"]).then((t=>({key:t,algo:e})))}function c(e,t,n){let{key:r,algo:i}=e;return self.crypto.subtle.sign(i,r,t).then((e=>null!=n&&0!==n?e.slice(0,n):e))}},95124:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.LtHash16=t.LT_HASH_ANTI_TAMPERING=t.KEY_LENGTH_BYTES=t.EMPTY_LT_HASH=void 0;var i=r(n(11504)),o=n(88397);const a=128;t.KEY_LENGTH_BYTES=a;const s=new ArrayBuffer(a);t.EMPTY_LT_HASH=s;class l{constructor(e){this.salt=e}add(e,t){var n=this;return t.reduce(function(){var e=(0,i.default)((function*(e,t){return n._addSingle(yield e,t)}));return function(){return e.apply(this,arguments)}}(),Promise.resolve(e))}subtract(e,t){var n=this;return t.reduce(function(){var e=(0,i.default)((function*(e,t){return n._subtractSingle(yield e,t)}));return function(){return e.apply(this,arguments)}}(),Promise.resolve(e))}subtractThenAdd(e,t,n){var r=this;return(0,i.default)((function*(){return r.add(yield r.subtract(e,n),t)}))()}_addSingle(e,t){var n=this;return(0,i.default)((function*(){const r=yield(0,o.extractAndExpand)(t,n.salt,a);return n.performPointwiseWithOverflow(e,r,((e,t)=>e+t))}))()}_subtractSingle(e,t){var n=this;return(0,i.default)((function*(){const r=yield(0,o.extractAndExpand)(t,n.salt,a);return n.performPointwiseWithOverflow(e,r,((e,t)=>e-t))}))()}performPointwiseWithOverflow(e,t,n){const r=new DataView(e),i=new DataView(t),o=new ArrayBuffer(r.byteLength),a=new DataView(o);for(let e=0;e<r.byteLength;e+=2)a.setUint16(e,n(r.getUint16(e,!0),i.getUint16(e,!0)),!0);return o}}t.LtHash16=l;const c=new l("WhatsApp Patch Integrity");t.LT_HASH_ANTI_TAMPERING=c},19504:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.unpadPkcs7=function(e){if(0===e.length)throw(0,i.default)("unpadPkcs7 given empty bytes");const t=e[e.length-1];if(t>e.length)throw(0,i.default)(`unpadPkcs7 given ${e.length} bytes, but pad is ${t}`);return new Uint8Array(e.buffer,e.byteOffset,e.length-t)},t.writePad=o,t.writeRandomPad=function(e){const t=new Uint8Array(1);do{self.crypto.getRandomValues(t)}while(0===t[0]);o(e,t[0])},t.writeRandomPadMax16=function(e){const t=new Uint8Array(1);self.crypto.getRandomValues(t),o(e,1+(15&t[0]))};var i=r(n(82065));function o(e,t){for(let n=0;n<t;n++)e.writeUint8(t)}},53596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hash",{enumerable:!0,get:function(){return r.hash}}),t.lowlevel=t.keypairFromSecretKey=t.keyPair=void 0,Object.defineProperty(t,"scalarMult",{enumerable:!0,get:function(){return r.scalarMult}}),t.signDetachedVerify=void 0,Object.defineProperty(t,"verify",{enumerable:!0,get:function(){return r.verify}});var r=n(14462);const i={scalarbase:r.lowlevel.scalarbase,crypto_hash:r.lowlevel.crypto_hash,modL:r.lowlevel.modL,pack25519:r.lowlevel.pack25519,S:r.lowlevel.S,M:r.lowlevel.M,A:r.lowlevel.A,Z:r.lowlevel.Z,D:r.lowlevel.D,unpack25519:r.lowlevel.unpack25519,pow2523:r.lowlevel.pow2523,crypto_verify_32:r.lowlevel.crypto_verify_32,set25519:r.lowlevel.set25519,add:r.lowlevel.add,scalarmult:r.lowlevel.scalarmult};t.lowlevel=i;const o=r.box.keyPair.fromSecretKey;t.keypairFromSecretKey=o;const a=r.box.keyPair;t.keyPair=a;const s=r.sign.detached.verify;t.signDetachedVerify=s},66126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=i,t.sha256Base64=o,t.sha256Str=function(e){return o(function(e){const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0,r=e.length;t<r;t++)n[t]=e.charCodeAt(t);return t}(e))};var r=n(62089);function i(e){return Promise.resolve(self.crypto.subtle.digest({name:"SHA-256"},e))}function o(e){return Promise.resolve(i(e).then(r.encodeB64))}},9093:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBuffersEqual=function(e,t){return a(new Uint8Array(e),new Uint8Array(t))},t.randomNumberLessThan=function(e){if(e!==(0|e))throw(0,o.default)("bound must be int32");if(e<=0)throw(0,o.default)("bound must not be positive");const t=new Int32Array(1),n=e*Math.floor((-1>>>1)/e);let r=-1;for(;-1===r;){self.crypto.getRandomValues(t);const i=t[0]>>>1;i<n&&(r=i%e)}return r},t.rawKeysEqual=function(e,t){return 0===e.length&&0===t.length||(0,i.verify)(e,t)},t.serializedPubKeysEqual=function(e,t){return 0===e.length&&0===t.length||(0,i.verify)(e,t)},t.uint8ArraysEqual=a;var i=n(53596),o=r(n(82065));function a(e,t){return 0===e.length&&0===t.length||(0,i.verify)(e,t)}},44053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UseCaseSecretModificationType=void 0,t.createUseCaseSecret=function(e){const{messageSecret:t,stanzaId:n,parentMsgOriginalSender:o,modificationSender:a,modificationType:s}=e,l=r.Binary.build(n,o,a,s).readBuffer();return(0,i.extractAndExpand)(t instanceof ArrayBuffer?new Uint8Array(t):t,l,32)};var r=n(89323),i=n(88397);const o=n(54302)({POLL_VOTE:"Poll Vote",ENC_REACTION:"Enc Reaction"});t.UseCaseSecretModificationType=o},61835:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildDBEntry=function(e,t,n,r,i){return{ftsRowId:e,id:t,chatId:n,timestamp:r,prefixes:i}},t.buildEntry=function(e,t,n,r){return{id:e,chatId:t,timestamp:n,prefixes:r}}},66913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageKeySpec=void 0;var r=n(91451);const i={};t.MessageKeySpec=i,i.internalSpec={remoteJid:[1,r.TYPES.STRING],fromMe:[2,r.TYPES.BOOL],id:[3,r.TYPES.STRING],participant:[4,r.TYPES.STRING]}},3537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncdVersionSpec=t.SyncdValueSpec=t.SyncdSnapshotSpec=t.SyncdRecordSpec=t.SyncdPatchSpec=t.SyncdMutationsSpec=t.SyncdMutationSpec=t.SyncdMutation$SyncdOperation=t.SyncdIndexSpec=t.KeyIdSpec=t.ExternalBlobReferenceSpec=t.ExitCodeSpec=void 0;var r=n(91451);const i=n(54302)({SET:0,REMOVE:1});t.SyncdMutation$SyncdOperation=i;const o={};t.SyncdVersionSpec=o;const a={};t.ExitCodeSpec=a;const s={};t.SyncdIndexSpec=s;const l={};t.SyncdValueSpec=l;const c={};t.KeyIdSpec=c;const u={};t.SyncdRecordSpec=u;const d={};t.ExternalBlobReferenceSpec=d;const _={};t.SyncdSnapshotSpec=_;const p={};t.SyncdMutationsSpec=p;const f={};t.SyncdMutationSpec=f;const E={};t.SyncdPatchSpec=E,o.internalSpec={version:[1,r.TYPES.UINT64]},a.internalSpec={code:[1,r.TYPES.UINT64],text:[2,r.TYPES.STRING]},s.internalSpec={blob:[1,r.TYPES.BYTES]},l.internalSpec={blob:[1,r.TYPES.BYTES]},c.internalSpec={id:[1,r.TYPES.BYTES]},u.internalSpec={index:[1,r.TYPES.MESSAGE,s],value:[2,r.TYPES.MESSAGE,l],keyId:[3,r.TYPES.MESSAGE,c]},d.internalSpec={mediaKey:[1,r.TYPES.BYTES],directPath:[2,r.TYPES.STRING],handle:[3,r.TYPES.STRING],fileSizeBytes:[4,r.TYPES.UINT64],fileSha256:[5,r.TYPES.BYTES],fileEncSha256:[6,r.TYPES.BYTES]},_.internalSpec={version:[1,r.TYPES.MESSAGE,o],records:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,u],mac:[3,r.TYPES.BYTES],keyId:[4,r.TYPES.MESSAGE,c]},p.internalSpec={mutations:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,f]},f.internalSpec={operation:[1,r.TYPES.ENUM,i],record:[2,r.TYPES.MESSAGE,u]},E.internalSpec={version:[1,r.TYPES.MESSAGE,o],mutations:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,f],externalMutations:[3,r.TYPES.MESSAGE,d],snapshotMac:[4,r.TYPES.BYTES],patchMac:[5,r.TYPES.BYTES],keyId:[6,r.TYPES.MESSAGE,c],exitCode:[7,r.TYPES.MESSAGE,a],deviceIndex:[8,r.TYPES.UINT32]}},40479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignedPreKeyRecordStructureSpec=t.SessionStructureSpec=t.SessionStructure$PendingPreKeySpec=t.SessionStructure$PendingKeyExchangeSpec=t.SessionStructure$ChainSpec=t.SessionStructure$Chain$MessageKeySpec=t.SessionStructure$Chain$ChainKeySpec=t.SenderKeyStateStructureSpec=t.SenderKeyStateStructure$SenderSigningKeySpec=t.SenderKeyStateStructure$SenderMessageKeySpec=t.SenderKeyStateStructure$SenderChainKeySpec=t.SenderKeyRecordStructureSpec=t.RecordStructureSpec=t.PreKeyRecordStructureSpec=t.IdentityKeyPairStructureSpec=void 0;var r=n(91451);const i={};t.SessionStructureSpec=i;const o={};t.SessionStructure$PendingPreKeySpec=o;const a={};t.SessionStructure$PendingKeyExchangeSpec=a;const s={};t.SessionStructure$ChainSpec=s;const l={};t.SessionStructure$Chain$MessageKeySpec=l;const c={};t.SessionStructure$Chain$ChainKeySpec=c;const u={};t.RecordStructureSpec=u;const d={};t.PreKeyRecordStructureSpec=d;const _={};t.SignedPreKeyRecordStructureSpec=_;const p={};t.IdentityKeyPairStructureSpec=p;const f={};t.SenderKeyStateStructureSpec=f;const E={};t.SenderKeyStateStructure$SenderSigningKeySpec=E;const A={};t.SenderKeyStateStructure$SenderMessageKeySpec=A;const g={};t.SenderKeyStateStructure$SenderChainKeySpec=g;const h={};t.SenderKeyRecordStructureSpec=h,i.internalSpec={sessionVersion:[1,r.TYPES.UINT32],localIdentityPublic:[2,r.TYPES.BYTES],remoteIdentityPublic:[3,r.TYPES.BYTES],rootKey:[4,r.TYPES.BYTES],previousCounter:[5,r.TYPES.UINT32],senderChain:[6,r.TYPES.MESSAGE,s],receiverChains:[7,r.FLAGS.REPEATED|r.TYPES.MESSAGE,s],pendingKeyExchange:[8,r.TYPES.MESSAGE,a],pendingPreKey:[9,r.TYPES.MESSAGE,o],remoteRegistrationId:[10,r.TYPES.UINT32],localRegistrationId:[11,r.TYPES.UINT32],needsRefresh:[12,r.TYPES.BOOL],aliceBaseKey:[13,r.TYPES.BYTES]},o.internalSpec={preKeyId:[1,r.TYPES.UINT32],signedPreKeyId:[3,r.TYPES.INT32],baseKey:[2,r.TYPES.BYTES]},a.internalSpec={sequence:[1,r.TYPES.UINT32],localBaseKey:[2,r.TYPES.BYTES],localBaseKeyPrivate:[3,r.TYPES.BYTES],localRatchetKey:[4,r.TYPES.BYTES],localRatchetKeyPrivate:[5,r.TYPES.BYTES],localIdentityKey:[7,r.TYPES.BYTES],localIdentityKeyPrivate:[8,r.TYPES.BYTES]},s.internalSpec={senderRatchetKey:[1,r.TYPES.BYTES],senderRatchetKeyPrivate:[2,r.TYPES.BYTES],chainKey:[3,r.TYPES.MESSAGE,c],messageKeys:[4,r.FLAGS.REPEATED|r.TYPES.MESSAGE,l]},l.internalSpec={index:[1,r.TYPES.UINT32],cipherKey:[2,r.TYPES.BYTES],macKey:[3,r.TYPES.BYTES],iv:[4,r.TYPES.BYTES]},c.internalSpec={index:[1,r.TYPES.UINT32],key:[2,r.TYPES.BYTES]},u.internalSpec={currentSession:[1,r.TYPES.MESSAGE,i],previousSessions:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,i]},d.internalSpec={id:[1,r.TYPES.UINT32],publicKey:[2,r.TYPES.BYTES],privateKey:[3,r.TYPES.BYTES]},_.internalSpec={id:[1,r.TYPES.UINT32],publicKey:[2,r.TYPES.BYTES],privateKey:[3,r.TYPES.BYTES],signature:[4,r.TYPES.BYTES],timestamp:[5,r.TYPES.FIXED64]},p.internalSpec={publicKey:[1,r.TYPES.BYTES],privateKey:[2,r.TYPES.BYTES]},f.internalSpec={senderKeyId:[1,r.TYPES.UINT32],senderChainKey:[2,r.TYPES.MESSAGE,g],senderSigningKey:[3,r.TYPES.MESSAGE,E],senderMessageKeys:[4,r.FLAGS.REPEATED|r.TYPES.MESSAGE,A]},E.internalSpec={public:[1,r.TYPES.BYTES],private:[2,r.TYPES.BYTES]},A.internalSpec={iteration:[1,r.TYPES.UINT32],seed:[2,r.TYPES.BYTES]},g.internalSpec={iteration:[1,r.TYPES.UINT32],seed:[2,r.TYPES.BYTES]},h.internalSpec={senderKeyStates:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,f]}},62136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalMessageSpec=t.SenderKeyMessageSpec=t.SenderKeyDistributionMessageSpec=t.PreKeySignalMessageSpec=t.KeyExchangeMessageSpec=t.DeviceConsistencyCodeMessageSpec=void 0;var r=n(91451);const i={};t.SignalMessageSpec=i;const o={};t.PreKeySignalMessageSpec=o;const a={};t.KeyExchangeMessageSpec=a;const s={};t.SenderKeyMessageSpec=s;const l={};t.SenderKeyDistributionMessageSpec=l;const c={};t.DeviceConsistencyCodeMessageSpec=c,i.internalSpec={ratchetKey:[1,r.TYPES.BYTES],counter:[2,r.TYPES.UINT32],previousCounter:[3,r.TYPES.UINT32],ciphertext:[4,r.TYPES.BYTES]},o.internalSpec={registrationId:[5,r.TYPES.UINT32],preKeyId:[1,r.TYPES.UINT32],signedPreKeyId:[6,r.TYPES.UINT32],baseKey:[2,r.TYPES.BYTES],identityKey:[3,r.TYPES.BYTES],message:[4,r.TYPES.BYTES]},a.internalSpec={id:[1,r.TYPES.UINT32],baseKey:[2,r.TYPES.BYTES],ratchetKey:[3,r.TYPES.BYTES],identityKey:[4,r.TYPES.BYTES],baseKeySignature:[5,r.TYPES.BYTES]},s.internalSpec={id:[1,r.TYPES.UINT32],iteration:[2,r.TYPES.UINT32],ciphertext:[3,r.TYPES.BYTES]},l.internalSpec={id:[1,r.TYPES.UINT32],iteration:[2,r.TYPES.UINT32],chainKey:[3,r.TYPES.BYTES],signingKey:[4,r.TYPES.BYTES]},c.internalSpec={generation:[1,r.TYPES.UINT32],signature:[2,r.TYPES.BYTES]}},57754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncActionValueSpec=t.SyncActionValue$UserStatusMuteActionSpec=t.SyncActionValue$UnarchiveChatsSettingSpec=t.SyncActionValue$TimeFormatActionSpec=t.SyncActionValue$SyncActionMessageSpec=t.SyncActionValue$SyncActionMessageRangeSpec=t.SyncActionValue$SubscriptionActionSpec=t.SyncActionValue$StickerActionSpec=t.SyncActionValue$StarActionSpec=t.SyncActionValue$SecurityNotificationSettingSpec=t.SyncActionValue$RemoveRecentStickerActionSpec=t.SyncActionValue$RecentEmojiWeightsActionSpec=t.SyncActionValue$QuickReplyActionSpec=t.SyncActionValue$PushNameSettingSpec=t.SyncActionValue$PrivacySettingRelayAllCallsSpec=t.SyncActionValue$PrimaryVersionActionSpec=t.SyncActionValue$PrimaryFeatureSpec=t.SyncActionValue$PnForLidChatActionSpec=t.SyncActionValue$PinActionSpec=t.SyncActionValue$NuxActionSpec=t.SyncActionValue$MuteActionSpec=t.SyncActionValue$MarketingMessageBroadcastActionSpec=t.SyncActionValue$MarketingMessageActionSpec=t.SyncActionValue$MarketingMessageAction$MarketingMessagePrototypeType=t.SyncActionValue$MarkChatAsReadActionSpec=t.SyncActionValue$LocaleSettingSpec=t.SyncActionValue$LabelEditActionSpec=t.SyncActionValue$LabelAssociationActionSpec=t.SyncActionValue$KeyExpirationSpec=t.SyncActionValue$ExternalWebBetaActionSpec=t.SyncActionValue$DeleteMessageForMeActionSpec=t.SyncActionValue$DeleteChatActionSpec=t.SyncActionValue$ContactActionSpec=t.SyncActionValue$ClearChatActionSpec=t.SyncActionValue$ChatAssignmentOpenedStatusActionSpec=t.SyncActionValue$ChatAssignmentActionSpec=t.SyncActionValue$ArchiveChatActionSpec=t.SyncActionValue$AndroidUnsupportedActionsSpec=t.SyncActionValue$AgentActionSpec=t.SyncActionDataSpec=t.RecentEmojiWeightSpec=void 0;var r=n(91451),i=n(66913);const o=n(54302)({PERSONALIZED:0});t.SyncActionValue$MarketingMessageAction$MarketingMessagePrototypeType=o;const a={};t.RecentEmojiWeightSpec=a;const s={};t.SyncActionValueSpec=s;const l={};t.SyncActionValue$PrivacySettingRelayAllCallsSpec=l;const c={};t.SyncActionValue$ExternalWebBetaActionSpec=c;const u={};t.SyncActionValue$MarketingMessageBroadcastActionSpec=u;const d={};t.SyncActionValue$MarketingMessageActionSpec=d;const _={};t.SyncActionValue$PnForLidChatActionSpec=_;const p={};t.SyncActionValue$ChatAssignmentOpenedStatusActionSpec=p;const f={};t.SyncActionValue$ChatAssignmentActionSpec=f;const E={};t.SyncActionValue$StickerActionSpec=E;const A={};t.SyncActionValue$RemoveRecentStickerActionSpec=A;const g={};t.SyncActionValue$PrimaryVersionActionSpec=g;const h={};t.SyncActionValue$NuxActionSpec=h;const S={};t.SyncActionValue$TimeFormatActionSpec=S;const T={};t.SyncActionValue$UserStatusMuteActionSpec=T;const m={};t.SyncActionValue$SubscriptionActionSpec=m;const I={};t.SyncActionValue$AgentActionSpec=I;const y={};t.SyncActionValue$AndroidUnsupportedActionsSpec=y;const C={};t.SyncActionValue$PrimaryFeatureSpec=C;const v={};t.SyncActionValue$KeyExpirationSpec=v;const O={};t.SyncActionValue$SyncActionMessageSpec=O;const P={};t.SyncActionValue$SyncActionMessageRangeSpec=P;const N={};t.SyncActionValue$UnarchiveChatsSettingSpec=N;const b={};t.SyncActionValue$DeleteChatActionSpec=b;const M={};t.SyncActionValue$ClearChatActionSpec=M;const R={};t.SyncActionValue$MarkChatAsReadActionSpec=R;const D={};t.SyncActionValue$DeleteMessageForMeActionSpec=D;const L={};t.SyncActionValue$ArchiveChatActionSpec=L;const w={};t.SyncActionValue$RecentEmojiWeightsActionSpec=w;const B={};t.SyncActionValue$LabelEditActionSpec=B;const U={};t.SyncActionValue$LabelAssociationActionSpec=U;const G={};t.SyncActionValue$QuickReplyActionSpec=G;const k={};t.SyncActionValue$LocaleSettingSpec=k;const Y={};t.SyncActionValue$PushNameSettingSpec=Y;const F={};t.SyncActionValue$SecurityNotificationSettingSpec=F;const K={};t.SyncActionValue$PinActionSpec=K;const x={};t.SyncActionValue$MuteActionSpec=x;const H={};t.SyncActionValue$ContactActionSpec=H;const j={};t.SyncActionValue$StarActionSpec=j;const V={};t.SyncActionDataSpec=V,a.internalSpec={emoji:[1,r.TYPES.STRING],weight:[2,r.TYPES.FLOAT]},s.internalSpec={timestamp:[1,r.TYPES.INT64],starAction:[2,r.TYPES.MESSAGE,j],contactAction:[3,r.TYPES.MESSAGE,H],muteAction:[4,r.TYPES.MESSAGE,x],pinAction:[5,r.TYPES.MESSAGE,K],securityNotificationSetting:[6,r.TYPES.MESSAGE,F],pushNameSetting:[7,r.TYPES.MESSAGE,Y],quickReplyAction:[8,r.TYPES.MESSAGE,G],recentEmojiWeightsAction:[11,r.TYPES.MESSAGE,w],labelEditAction:[14,r.TYPES.MESSAGE,B],labelAssociationAction:[15,r.TYPES.MESSAGE,U],localeSetting:[16,r.TYPES.MESSAGE,k],archiveChatAction:[17,r.TYPES.MESSAGE,L],deleteMessageForMeAction:[18,r.TYPES.MESSAGE,D],keyExpiration:[19,r.TYPES.MESSAGE,v],markChatAsReadAction:[20,r.TYPES.MESSAGE,R],clearChatAction:[21,r.TYPES.MESSAGE,M],deleteChatAction:[22,r.TYPES.MESSAGE,b],unarchiveChatsSetting:[23,r.TYPES.MESSAGE,N],primaryFeature:[24,r.TYPES.MESSAGE,C],androidUnsupportedActions:[26,r.TYPES.MESSAGE,y],agentAction:[27,r.TYPES.MESSAGE,I],subscriptionAction:[28,r.TYPES.MESSAGE,m],userStatusMuteAction:[29,r.TYPES.MESSAGE,T],timeFormatAction:[30,r.TYPES.MESSAGE,S],nuxAction:[31,r.TYPES.MESSAGE,h],primaryVersionAction:[32,r.TYPES.MESSAGE,g],stickerAction:[33,r.TYPES.MESSAGE,E],removeRecentStickerAction:[34,r.TYPES.MESSAGE,A],chatAssignment:[35,r.TYPES.MESSAGE,f],chatAssignmentOpenedStatus:[36,r.TYPES.MESSAGE,p],pnForLidChatAction:[37,r.TYPES.MESSAGE,_],marketingMessageAction:[38,r.TYPES.MESSAGE,d],marketingMessageBroadcastAction:[39,r.TYPES.MESSAGE,u],externalWebBetaAction:[40,r.TYPES.MESSAGE,c],privacySettingRelayAllCalls:[41,r.TYPES.MESSAGE,l]},l.internalSpec={isEnabled:[1,r.TYPES.BOOL]},c.internalSpec={isOptIn:[1,r.TYPES.BOOL]},u.internalSpec={repliedCount:[1,r.TYPES.INT32]},d.internalSpec={name:[1,r.TYPES.STRING],message:[2,r.TYPES.STRING],type:[3,r.TYPES.ENUM,o],createdAt:[4,r.TYPES.INT64],lastSentAt:[5,r.TYPES.INT64],isDeleted:[6,r.TYPES.BOOL],mediaId:[7,r.TYPES.STRING]},_.internalSpec={pnJid:[1,r.TYPES.STRING]},p.internalSpec={chatOpened:[1,r.TYPES.BOOL]},f.internalSpec={deviceAgentID:[1,r.TYPES.STRING]},E.internalSpec={url:[1,r.TYPES.STRING],fileEncSha256:[2,r.TYPES.BYTES],mediaKey:[3,r.TYPES.BYTES],mimetype:[4,r.TYPES.STRING],height:[5,r.TYPES.UINT32],width:[6,r.TYPES.UINT32],directPath:[7,r.TYPES.STRING],fileLength:[8,r.TYPES.UINT64],isFavorite:[9,r.TYPES.BOOL],deviceIdHint:[10,r.TYPES.UINT32]},A.internalSpec={lastStickerSentTs:[1,r.TYPES.INT64]},g.internalSpec={version:[1,r.TYPES.STRING]},h.internalSpec={acknowledged:[1,r.TYPES.BOOL]},S.internalSpec={isTwentyFourHourFormatEnabled:[1,r.TYPES.BOOL]},T.internalSpec={muted:[1,r.TYPES.BOOL]},m.internalSpec={isDeactivated:[1,r.TYPES.BOOL],isAutoRenewing:[2,r.TYPES.BOOL],expirationDate:[3,r.TYPES.INT64]},I.internalSpec={name:[1,r.TYPES.STRING],deviceID:[2,r.TYPES.INT32],isDeleted:[3,r.TYPES.BOOL]},y.internalSpec={allowed:[1,r.TYPES.BOOL]},C.internalSpec={flags:[1,r.FLAGS.REPEATED|r.TYPES.STRING]},v.internalSpec={expiredKeyEpoch:[1,r.TYPES.INT32]},O.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec],timestamp:[2,r.TYPES.INT64]},P.internalSpec={lastMessageTimestamp:[1,r.TYPES.INT64],lastSystemMessageTimestamp:[2,r.TYPES.INT64],messages:[3,r.FLAGS.REPEATED|r.TYPES.MESSAGE,O]},N.internalSpec={unarchiveChats:[1,r.TYPES.BOOL]},b.internalSpec={messageRange:[1,r.TYPES.MESSAGE,P]},M.internalSpec={messageRange:[1,r.TYPES.MESSAGE,P]},R.internalSpec={read:[1,r.TYPES.BOOL],messageRange:[2,r.TYPES.MESSAGE,P]},D.internalSpec={deleteMedia:[1,r.TYPES.BOOL],messageTimestamp:[2,r.TYPES.INT64]},L.internalSpec={archived:[1,r.TYPES.BOOL],messageRange:[2,r.TYPES.MESSAGE,P]},w.internalSpec={weights:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,a]},B.internalSpec={name:[1,r.TYPES.STRING],color:[2,r.TYPES.INT32],predefinedId:[3,r.TYPES.INT32],deleted:[4,r.TYPES.BOOL]},U.internalSpec={labeled:[1,r.TYPES.BOOL]},G.internalSpec={shortcut:[1,r.TYPES.STRING],message:[2,r.TYPES.STRING],keywords:[3,r.FLAGS.REPEATED|r.TYPES.STRING],count:[4,r.TYPES.INT32],deleted:[5,r.TYPES.BOOL]},k.internalSpec={locale:[1,r.TYPES.STRING]},Y.internalSpec={name:[1,r.TYPES.STRING]},F.internalSpec={showNotification:[1,r.TYPES.BOOL]},K.internalSpec={pinned:[1,r.TYPES.BOOL]},x.internalSpec={muted:[1,r.TYPES.BOOL],muteEndTimestamp:[2,r.TYPES.INT64],autoMuted:[3,r.TYPES.BOOL]},H.internalSpec={fullName:[1,r.TYPES.STRING],firstName:[2,r.TYPES.STRING],lidJid:[3,r.TYPES.STRING]},j.internalSpec={starred:[1,r.TYPES.BOOL]},V.internalSpec={index:[1,r.TYPES.BYTES],value:[2,r.TYPES.MESSAGE,s],padding:[3,r.TYPES.BYTES],version:[4,r.TYPES.INT32]}},58117:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=function(){return a().config},t.getDbImpls=function(){return a().db},t.getJidUtilsApi=function(){return a().jidUtils},t.getMyDeviceJid=function(){var e;const t=null===(e=a().myJids)||void 0===e?void 0:e.deviceJid;if(null==t)throw(0,i.default)("Trying to access myDeviceJid, but it's not set");return t},t.getMyUserJid=function(){var e;const t=null===(e=a().myJids)||void 0===e?void 0:e.userJid;if(null==t)throw(0,i.default)("Trying to access myUserJid, but it's not set");return t},t.getQplConfig=function(){return a().qpl},t.runInTransaction=function(e,t){return a().runInTransaction(e,t)},t.setGlobals=function(e){o=e},t.setMyJids=function(e){a().myJids=e};var i=r(n(82065));let o=null;function a(){if(null==o)throw(0,i.default)("Trying to access WAGlobals before being set");return o}},2560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbortError=t.ABORT_ERROR=void 0,t.catchAbort=function(e){return t=>{if(t.name===o)return e(t);throw t}};var r=n(66911);class i extends((0,r.customError)("AbortError")){}t.AbortError=i;const o="AbortError";t.ABORT_ERROR=o},90387:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.asyncSleep=a,t.asyncSleepAfterGivenLoopIteration=function(){return o.apply(this,arguments)};var i=r(n(11504));function o(){return(o=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;e>0&&e%t==0&&(yield a(n))}))).apply(this,arguments)}function a(e){return new Promise((t=>setTimeout(t,e)))}},66210:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.batch=function(e,t){const n=a(e,t);return e=>n.accept(e)},t.createBatcher=function(e){let t=[],n=new o.Resolvable;return{accept:e=>(t.push(e),n.promise.then((t=>{const n=t.get(e);if(null==n)throw(0,i.default)("This should not happen because we just added it to the batch");return n}))),runActiveBatch:r=>{if(0===t.length)return Promise.resolve(new Map);const i=t,a=n;return t=[],n=new o.Resolvable,Promise.resolve(e(i,r)).then((e=>(a.resolve(e),e)))}}},t.createSimpleBatcher=a;var i=r(n(82065)),o=n(31630);function a(e,t){let{delayMs:n,maxSize:r}=e,o=null;function a(e){return o&&o.args===e&&(o=null),t(e)}const s=()=>{if(null==o)return Promise.resolve();const e=o;return o=null,clearTimeout(e.timer),e.run(),e.batchPromise};return{accept:e=>{if(o)o.args.push(e);else{let t;const r=[e],i=new Promise((e=>{t=()=>{e(r)}})).then(a);o={args:r,batchPromise:i,run:t,timer:setTimeout(t,n)}}if(null==o)throw(0,i.default)("activeBatch should not be null here");const{args:t,batchPromise:l}=o,c=t.length-1;return null!=r&&t.length>=r&&s(),l.then((e=>e[c]))},runActiveBatch:s}}},81408:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filteredCatch=function(e,t){return n=>{if(Array.isArray(e)?e.some((e=>n instanceof e)):n instanceof e)return t(n);throw n}}},91009:(e,t,n)=>{"use strict";var r=n(20346).default,i=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=new Map;return function(i){if(i.signal.aborted)return Promise.reject(new a.AbortError);const c=e.call(this,i);let u=n.get(c);if(null==u||u.aggregator.signal.aborted){const e=new l.default,r=(0,o.default)((0,o.default)({},i),{},{signal:e.signal});u={aggregator:e,promise:t.call(this,r).finally((()=>{e.dispose(),n.delete(c)}))},n.set(c,u)}const d=i.signal||(new r).signal;return u.aggregator.add(d),(0,s.default)(u.promise,d)}};var o=i(n(73982)),a=n(2560),s=i(n(91054)),l=i(n(21642))},39959:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.createPromiseTimer=function(e){const t=o(e);return function(e){return new Promise((n=>{const r=t();r>0?setTimeout(n,r,e):n(e)}))}},t.createTimer=o,t.getDelay=function(e,t){if(0===e)return 0;const n=s(t.algo);for(let t=1;t<e;t++)n();return a(t,n())};var i=r(n(82065));function o(e){const{relativeDelay:t=!1}=e;let n=null;const r=s(e.algo);return function(){const i=n;if(null==i)return n=t?Date.now():0,0;let o=a(e,r());if(t){const e=Date.now(),t=e-i;t>0&&(o=Math.max(0,o-t)),n=e}return o}}function a(e,t){let{max:n,min:r,jitter:i=.1}=e,o=t;return null!=n&&o>n&&(o=n),null!=r&&o<r&&(o=r),0!==i&&(o=Math.ceil(o*(1+i*Math.random()))),o}function s(e){switch(e.type){case"fibonacci":return function(e){let t=e.second-e.first,n=e.first-t;return function(){const e=t+n;return n=t,t=e,e}}(e);case"exponential":return function(e){const{base:t=2}=e;let n=e.first;return function(){const e=n;return n*=t,e}}(e);case"constant":return function(e){const t=e.delay;return function(){return t}}(e);case"adjust":return function(e){const{toMs:t,backoff:n}=e,r=s(n);return function(){return t(r())}}(e);default:throw(0,i.default)(`makeTimeFunc unrecognized backoff ${e.type}`)}}},55068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayMs=function(e,t){return new Promise(((n,i)=>{if(null==t?void 0:t.aborted)throw new r.AbortError;const o=setTimeout((function(){null==t||t.removeEventListener("abort",a),n()}),e);function a(){null==t||t.removeEventListener("abort",a),clearTimeout(o),i(new r.AbortError)}null==t||t.addEventListener("abort",a)}))},t.withTimeout=function(e,t,n){return new Promise(((r,i)=>{const o=setTimeout((()=>{try{r(n())}catch(e){i(e)}}),t);e.then((e=>{clearTimeout(o),r(e)}),(e=>{clearTimeout(o),i(e)}))}))};var r=n(2560)},91897:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.promiseEach=void 0;var i=r(n(11504));const o=function(){var e=(0,i.default)((function*(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(yield t(e[r]));return n}));return function(){return e.apply(this,arguments)}}();t.promiseEach=o},73471:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.promiseLoop=function(){return o.apply(this,arguments)};var i=r(n(11504));function o(){return(o=(0,i.default)((function*(e,t){let n,r=!1;const i=e=>{r=!0,n=e};let o=0,a=t;for(;!r;)a=yield e(i,a,o),o++;return n}))).apply(this,arguments)}},21212:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseMap=function(e,t){return Promise.resolve(e).then((e=>Promise.all(e.map(((e,n)=>t(e,n))))))}},39528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseQueueMap=t.PromiseQueue=void 0;t.PromiseQueue=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._promise=Promise.resolve(),this._maxDelay=e}wait(){return this._promise}enqueueHandlers(e,t,r){const i=this._promise.then((()=>e)).then(t,r),o=i.then();return this._promise=n(i,this._maxDelay),o}enqueue(e){const t=this._promise.then(e),r=t.then();return this._promise=n(t,this._maxDelay),r}};function n(e,t){return t>=0?new Promise((n=>{const r=()=>{n()};e.then(r,r),setTimeout(r,t)})):e.then(r,r)}function r(){}t.PromiseQueueMap=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._map=new Map,this._maxDelay=e}waitIfPending(e){return this._map.get(e)}wait(e){return this._map.get(e)||Promise.resolve()}enqueueHandlers(e,t,n,r){const i=this.wait(e).then((()=>t)).then(n,r);return this._addToMap(e,i)}enqueue(e,t){const n=this.wait(e).then(t);return this._addToMap(e,n)}_addToMap(e,t){const r=t.then();let i;const o=()=>{this._map.get(e)===i&&this._map.delete(e)};return i=n(t,this._maxDelay).then(o,o),this._map.set(e,i),r}}},91054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==t)return e;let n;const i=t.aborted?Promise.reject(new r.AbortError):new Promise(((e,i)=>{const o=()=>{i(new r.AbortError)};t.addEventListener("abort",o),n=()=>{t.removeEventListener("abort",o)}}));return Promise.race([i,e]).finally((()=>{var e;null===(e=n)||void 0===e||e(),n=null}))};var r=n(2560)},13350:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.promiseReduce=void 0;var i=r(n(11504));const o=function(){var e=(0,i.default)((function*(e,t,n){let r=n;const i=e.length;for(let n=0;n<i;n++)r=yield t(r,e[n],n);return r}));return function(){return e.apply(this,arguments)}}();t.promiseReduce=o},82521:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseRetryLoop=void 0;var i=r(n(82065)),o=n(39959),a=n(55068),s=n(31630);t.PromiseRetryLoop=class{constructor(e){this._resolvable=new s.Resolvable,this._promise=null,this._resetTime=null,this._currentLoopIdentificator=0,this.endWithValue=e=>{this._currentLoopIdentificator++,this._resolvable.resolve(e)},this._options=e}resetTimeoutAfter(e){this._resetTime=Date.now()+e}cancelReset(){this._resetTime=null}reset(){this._resolvable.resolveWasCalled()||(__LOG__(2)`PromiseRetryLoop: resetting ${this._options.name}`,this._currentLoopIdentificator++,this._runLoop())}start(){this._resolvable.resolveWasCalled()||(__LOG__(2)`PromiseRetryLoop: starting ${this._options.name}`,0!==this._currentLoopIdentificator&&__LOG__(4,void 0,new Error)`PromiseRetryLoop was called several times. You may have race conditions`,this._currentLoopIdentificator++,this._runLoop())}_runLoop(){const e=this._options,t=this._currentLoopIdentificator;let n=(0,o.createTimer)(this._options.timer);n();const r=()=>{if(this._resolvable.resolveWasCalled())return;if(t!==this._currentLoopIdentificator)return;const i=Date.now();return this._promise=(0,e.code)(this.endWithValue).then((()=>{if(this._resolvable.resolveWasCalled())return;const{resetDelay:t}=e;(void 0!==t&&Date.now()>=i+t||null!=this._resetTime&&this._resetTime<=Date.now())&&(__LOG__(2)`PromiseRetryLoop: resetting ${e.name}`,n=(0,o.createTimer)(this._options.timer)),this._resetTime=null;const s=n();return __LOG__(2)`PromiseRetryLoop: retrying ${e.name} in ${s}ms`,(0,a.delayMs)(s).then(r)})),this._promise};this._promise=Promise.resolve().then(r)}promise(){return this._resolvable.resolveWasCalled()?this._resolvable.promise:this._promise?Promise.race([this._resolvable.promise,this._promise.then((()=>this._resolvable.promise))]):Promise.reject((0,i.default)(`PromiseRetryLoop ${this._options.name} had promise() called before start()`))}}},77689:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.promiseTimeout=void 0;var i=n(66911),o=r(n(82065));t.promiseTimeout=(e,t,n)=>{let r=null,a=null;const s=new Promise(((e,o)=>{a=o,r=setTimeout((()=>{o(new i.TimeoutError(n)),clearTimeout(r)}),t)}));return Promise.race([e,s]).finally((()=>{a&&a((0,o.default)()),clearTimeout(r)}))}},31630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resolvable=void 0;t.Resolvable=class{constructor(){this._resolve=()=>{},this._isResolved=!1,this.promise=new Promise((e=>{this._resolve=e}))}resolve(e){this._isResolved=!0,this._resolve(e)}reject(e){this.resolve(Promise.reject(e))}resolveWasCalled(){return this._isResolved}}},38918:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;var i=r(n(82065));t.Semaphore=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._count=0,this._queue=[],this._size=e}acquire(){return new Promise(((e,t)=>{this._performAcquisition(e,t)}))}availablePermits(){return this._size-this._count}_performRelease(){this._count--,this._dequeue()}_performAcquisition(e,t){if(this._count<this._size){this._count++;let t=!1;e({release:()=>{if(t)throw(0,i.default)("Permit has already been released");t=!0,this._performRelease()}})}else this._enqueue(e,t)}_enqueue(e,t){this._queue.push([e,t])}_dequeue(){if(0===this._queue.length)return;const[e,t]=this._queue.shift();this._performAcquisition(e,t)}}},21642:(e,t,n)=>{"use strict";var r=n(20346).default,i=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(82065));t.default=class{constructor(){this._disposed=!1,this._controller=new r,this._signals=new Set,this.signal=this._controller.signal,this._handleAbort=e=>{this.delete(e.currentTarget),this._checkAborted()}}add(){this._throwIfDisposed();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)e.aborted||(e.addEventListener("abort",this._handleAbort),this._signals.add(e));this._checkAborted()}_checkAborted(){if(this._disposed)return;Array.from(this._signals).every((e=>e.aborted))&&(this.dispose(),this._controller.abort())}delete(){this._throwIfDisposed(),this._delete(...arguments)}_delete(){let e=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)this._signals.delete(t)&&(e=!0,t.removeEventListener("abort",this._handleAbort));e&&this._checkAborted()}_throwIfDisposed(){if(this._disposed)throw(0,o.default)("Attempt to modify disposed SignalAggregator")}dispose(){if(!this._disposed){this._disposed=!0;for(const e of this._signals)this._delete(e)}}getSignals__INTERNAL(){return this._signals}}},19069:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.loadStackPromisePolyfill=function(){function e(e){this.message=e,this.stack=(0,i.default)(e||this.name).stack}Promise.prototype.cancellable=function(){return console.info("StackPromise.cancellable noop"),this},Promise.prototype.cancel=function(){return console.info("StackPromise.cancel noop"),this},e.prototype=Object.create(Error.prototype,{name:{value:"AbortError"}}),Promise.CancellationError=e};var i=r(n(82065))},74448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treasureHunt=function(e,t,n,o){let a=0,s=0,l=!1,c=null,u=null;function d(e){return l?(null==o||o(e),i):(l=!0,null!=c&&(clearTimeout(c),c=null),(0,r.makeResult)(e))}function _(){if(l)return i;if(s++,s===t)return Promise.resolve((0,r.makeError)("max-hunters"));const e=u;return null!=e&&s===a&&(null!=c&&(clearTimeout(c),c=null),e()),i}return function r(){const i=a++,o=e(i).then(d,_);if(a<t){const e=new Promise((e=>{c=setTimeout(e,n),u=e})).then(r);return Promise.race([o,e])}return o}()};var r=n(22207);const i=new Promise((()=>{}))},22473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLock=function(e){return{lock(t,n){const i=new r.Resolvable,o=t.map((e=>[e,new r.Resolvable])),a=Promise.all(o.map((t=>{let[n,r]=t;return e.enqueue(n,(()=>(r.resolve(),i.promise)))})));return Promise.all(o.map((e=>{let[t,n]=e;return n.promise}))).then((()=>n())).finally((()=>{i.resolve()})).then((e=>a.then((()=>e))))},wait:t=>e.wait(t)}};var r=n(31630)},22699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLockMap=function(){const e=new i.PromiseQueueMap;return(0,r.makeLock)(e)};var r=n(22473),i=n(39528)},82683:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToDebugString=o,t.debugStr=i,t.rebuildTemplate=function(e,t){const n=[e[0]];return t.forEach(((t,r)=>{n.push(i(t),e[r+1])})),n.join("")};var r=n(65982);function i(e){if("string"==typeof e)return`'${e}'`;if(null==e||"object"!=typeof e)return String(e);if(Array.isArray(e))return`[${e.join(",")}]`;if(e instanceof Uint8Array){if(e.length<64)return`<<${o(e)}>>`;{const t=e.subarray(0,32);return`<<${o(t)}, ${e.length-t.length} more bytes>>`}}return e instanceof Error?e.name?`(${e.name})`:"":e.toString===Object.prototype.toString?JSON.stringify(e,((e,t)=>e?String(t):t)):String(e)}function o(e){let t=!0,n=e.length;for(;t&&n;){const r=e[--n];t=32<=r&&r<127}return t?JSON.stringify(String.fromCharCode.apply(String,e)):(0,r.toHex)(e)}},51784:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.TAGS=_,t.getWaLoggerAdditionalOptions=p,t.initializeWaLogger=function(e){var t;u=e,null===(t=s)||void 0===t||t(),s=null},t.whenReady=function(){return c.apply(this,arguments)};var i=r(n(11504)),o=n(82683),a=r(n(49619));let s;const l=new Promise((e=>{s=e}));function c(){return(c=(0,i.default)((function*(){yield l}))).apply(this,arguments)}let u=null;function d(){return(0,a.default)(u,"WALogger called before initialization")}function _(e){return{TAGS:t=>_([...e,...t]),DEV:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=(0,o.rebuildTemplate)(t,r);return d().debug(a,e),p("DEV",a)},DEV_XMPP:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=(0,o.rebuildTemplate)(t,r);return d().logRestricted(a,e),p("DEV_XMPP",a)},LOG:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=(0,o.rebuildTemplate)(t,r);return d().info(a,e),p("LOG",a)},WARN:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=(0,o.rebuildTemplate)(t,r);return d().warn(a,e),p("WARN",a)},ERROR:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=(0,o.rebuildTemplate)(t,r);let s;for(const e of r)if(e instanceof Error){s=e;break}return null!=s?d().error(a,e,s):d().error(a,e),p("ERROR",a)},CATCHING:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=(0,o.rebuildTemplate)(t,r);return d().error(a,e),p("CATCHING",a)}}}function p(e,t){return{verbose:()=>p(e,t),color:()=>p(e,t),devConsole:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return d().devConsole(e,t,[],...r),p(e,t)},sendLogs:n=>"ERROR"!==e&&"CATCHING"!==e?_([]).ERROR`[${n}] ${t}`:p(e,t),tags:function(){return p(e,t)}}}},60496:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.createOutgoingSession=E,t.createSenderKeyDistributionMsg=function(){return P.apply(this,arguments)},t.decryptContent=function(){return S.apply(this,arguments)},t.decryptGroupContent=function(){return y.apply(this,arguments)},t.encryptContent=function(){return h.apply(this,arguments)},t.encryptGroupContent=function(){return I.apply(this,arguments)},t.establishOutgoingSession=function(){return g.apply(this,arguments)},t.rotateGroupSenderKey=v,t.saveSenderKeySession=function(){return C.apply(this,arguments)};var i=r(n(73982)),o=r(n(11504)),a=n(9093),s=n(22207),l=n(36011),c=n(88170),u=n(63617),d=n(70717),_=n(31879),p=n(75916),f=n(9133);function E(){return A.apply(this,arguments)}function A(){return(A=(0,o.default)((function*(e,t){const n=N(t),{signedKey:r}=n;if(!(yield(0,p.verifyMsgSignalVariant)(n.identity,r.publicKey,r.signature)))return(0,s.makeError)("errSignalInvalidKey");const i=yield(0,f.initiateSessionOutgoing)(e,n,(0,d.makeKeyPair)());return(0,s.makeResult)(i)}))).apply(this,arguments)}function g(){return(g=(0,o.default)((function*(e,t,n,r,i){let{handleNewSession:o}=e;const a=yield E(t,r);if(!a.success)return a;const s=a.value;return o(n,s,s.remote.pubKey,null,i)}))).apply(this,arguments)}function h(){return(h=(0,o.default)((function*(e,t,n,r){let{loadSession:o,handleNewSession:c}=e,u=null;do{const e=yield o(t,"cryptoLibraryEncryptContent");if(null==e)return(0,s.makeError)("errSignalInvalidKey");if(null!=r&&!(0,a.uint8ArraysEqual)(r,e.remote.pubKey))return(0,s.makeError)("identity-mismatch");const[d,_]=yield(0,l.encryptMsg)(e,n),p=yield c(t,d,d.remote.pubKey);p.success?u=(0,s.makeResult)((0,i.default)((0,i.default)({},_),{},{baseKey:d.aliceBaseKey})):p.error}while(null==u);return u}))).apply(this,arguments)}function S(){return(S=(0,o.default)((function*(e,t,n,r,i){let{loadSession:o,handleNewSession:a,loadSignedPreKey:c,loadOneTimePreKey:u}=e,d=!1;const _=yield o(n,"decryptContent");let p;if("pkmsg"===r.type){const e=(0,l.deserializePkMsg)(r.ciphertext);if(!e.success)return(0,s.makeError)("errCryptoDeserialization");const n=e.value,i=yield T({loadSignedPreKey:c,loadOneTimePreKey:u},t,n,_);if(!i.success)return i;p=i.value}else{r.type;const e=(0,l.deserializeMsg)(r.ciphertext);if(!e.success)return(0,s.makeError)("errCryptoDeserialization");const t=e.value,n=yield(0,l.decryptMsg)(_,t);if(!n.success)return n;p=n.value}const{newSessionInfo:f}=p;if(!f||null==f.newIdentity&&null==f.usedPreKey||(yield a(n,f.baseSession,f.newIdentity,f.usedPreKey)),!d){const e=null==f?void 0:f.baseSession.remote.pubKey;yield i(new Uint8Array(p.plaintext),e),d=!0}return yield a(n,p.updatedSession,p.updatedSession.remote.pubKey),(0,s.makeResult)()}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,o.default)((function*(e,t,n,r){let{loadSignedPreKey:i,loadOneTimePreKey:o}=e;const a=r&&(0,l.findMatchingSession)(r,n.sessionBaseKey);if(a){const e=yield(0,l.decryptMsgFromSession)(a,n);if(!e.success)return e;const[t,r]=e.value;return(0,s.makeResult)({newSessionInfo:null,updatedSession:t,plaintext:r})}{const e=n.localOneTimeKeyId,a=yield i(n.localSignedPreKeyId),c=null==e?null:yield o(e),u=yield(0,l.decryptPkMsgWithNewSession)(t,r,n,{localSignedPreKey:a,localOneTimeKey:c});if(!u.success)return u;const{newIdentity:d,baseSession:_,updatedSession:p,plaintext:f}=u.value;return(0,s.makeResult)({newSessionInfo:{newIdentity:d,baseSession:_,usedPreKey:e},updatedSession:p,plaintext:f})}}))).apply(this,arguments)}function I(){return(I=(0,o.default)((function*(e,t,n,r){let{loadSenderKeySession:i,saveSenderKeySession:o}=e,a=null;do{const e=yield i(t,n);if(!e.success)return(0,s.makeError)(e.error);const l=e.value,d=yield(0,c.encryptSenderKeyMsgWithSession)(l,r);if(!d.success)return(0,s.makeError)("sender-key-no-session");{const[e,r]=d.value;yield o(t,n,e);const i=l.senderKeyStates[l.senderKeyStates.length-1];a=(0,s.makeResult)({ciphertext:{ciphertext:r,type:"skmsg"},senderKeyId:i.senderKeyId,senderKeyDistributionProto:(0,c.createSenderKeyDistributionProto)((0,u.convertFromRawToSenderKeyState)(i))})}}while(null==a);return a}))).apply(this,arguments)}function y(){return(y=(0,o.default)((function*(e,t,n,r,i){let{loadSenderKeySession:o,saveSenderKeySession:a}=e,l=!1;const u=yield o(t,n);if(!u.success)return(0,s.makeError)(u.error);const d=(0,c.deserializeSenderKeyMsg)(r);if(!d.success)return(0,s.makeError)("errCryptoDeserialization");const _=u.value,p=yield(0,c.decryptSenderKeyMsgFromSession)(_,d.value);if(!p.success)return p;const[f,E]=p.value;return l||(yield i(new Uint8Array(E)),l=!0),yield a(t,n,f),(0,s.makeResult)()}))).apply(this,arguments)}function C(){return(C=(0,o.default)((function*(e,t,n,r){let{saveSenderKeySession:i}=e;const o=yield(0,c.processSenderKeyDistributionMsg)(r);if(!o.success)return o;const a=o.value;return yield i(t,n,a),(0,s.makeResult)()}))).apply(this,arguments)}function v(){return O.apply(this,arguments)}function O(){return(O=(0,o.default)((function*(e,t,n,r){let{saveSenderKeySession:i}=e;const o=yield(0,f.initiateSenderKeySessionOutgoing)(r),a=o.senderKeyStates[0].senderKeyId;return yield i(t,n,o),{senderKeyId:a}}))).apply(this,arguments)}function P(){return(P=(0,o.default)((function*(e,t,n){let{loadSenderKeySession:r,saveSenderKeySession:i}=e,o=yield r(t,n);const a=o.error;if(!o.success&&"errLoadSenderKeySession"===a){const e=yield(0,d.makeKeyPair)();yield v({saveSenderKeySession:i},t,n,e),o=yield r(t,n)}if(o.success){const e=o.value.senderKeyStates.slice(-1);if(e.length>0)return(0,s.makeResult)((0,c.createSenderKeyDistributionProto)((0,u.convertFromRawToSenderKeyState)(e[0])))}return(0,s.makeError)("errGetSenderKeyProto")}))).apply(this,arguments)}function N(e){let{regId:t,identity:n,signedKey:r,oneTimeKey:i}=e;const o=(0,d.castToSerializedPubKey)(r.publicKey);return{regId:(0,_.castRegistrationId)(t),identity:(0,d.castToSerializedPubKey)(n),signedKey:{id:(0,d.castToSignedPreKeyId)(r.id),publicKey:o,signature:(0,_.ensureSize)(r.signature,64)},oneTimeKey:i&&{id:(0,d.castToPreKeyId)(i.id),publicKey:(0,d.castToSerializedPubKey)(i.publicKey)},ratchetKey:o}}},51969:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.createOutgoingSession=g,t.createSenderKeyDistributionMsg=function(){return I.apply(this,arguments)},t.decryptContent=function(e,t,n,r,i){let{loadSession:a,handleNewSession:s,loadSignedPreKey:u,loadOneTimePreKey:d}=e;return A.lock([n],(0,o.default)((function*(){let e=!1;const o=yield a(n,"decryptContent");let _;if("pkmsg"===r.type){const e=(0,c.deserializePkMsg)(r.ciphertext);if(!e.success)return(0,l.makeError)("errCryptoDeserialization");const n=e.value,i=yield function(){return T.apply(this,arguments)}({loadSignedPreKey:u,loadOneTimePreKey:d},t,n,o);if(!i.success)return i;_=i.value}else{r.type;const e=(0,c.deserializeMsg)(r.ciphertext);if(!e.success)return(0,l.makeError)("errCryptoDeserialization");const t=e.value,n=yield(0,c.decryptMsg)(o,t);if(!n.success)return n;_=n.value}const{newSessionInfo:p}=_;if(!p||null==p.newIdentity&&null==p.usedPreKey||(yield s(n,p.baseSession,p.newIdentity,p.usedPreKey)),!e){const t=null==p?void 0:p.baseSession.remote.pubKey;yield i(new Uint8Array(_.plaintext),t),e=!0}return yield s(n,_.updatedSession,_.updatedSession.remote.pubKey),(0,l.makeResult)()})))},t.decryptGroupContent=function(e,t,n,r,i){let{loadSenderKeySession:a,saveSenderKeySession:s}=e;return A.lock([t],(0,o.default)((function*(){let e=!1;const o=yield a(t,n);if(!o.success)return(0,l.makeError)(o.error);const c=(0,u.deserializeSenderKeyMsg)(r);if(!c.success)return(0,l.makeError)("errCryptoDeserialization");const d=o.value,_=yield(0,u.decryptSenderKeyMsgFromSession)(d,c.value);if(!_.success)return _;const[p,f]=_.value;return e||(yield i(new Uint8Array(f)),e=!0),yield s(t,n,p),(0,l.makeResult)()})))},t.encryptContent=function(e,t,n,r){let{loadSession:s,handleNewSession:u}=e;return A.lock([t],(0,o.default)((function*(){let e=null;do{const o=yield s(t,"cryptoLibraryEncryptContent");if(null==o)return(0,l.makeError)("errSignalInvalidKey");if(null!=r&&!(0,a.uint8ArraysEqual)(r,o.remote.pubKey))return(0,l.makeError)("identity-mismatch");const[d,_]=yield(0,c.encryptMsg)(o,n),p=yield u(t,d,d.remote.pubKey);p.success?e=(0,l.makeResult)((0,i.default)((0,i.default)({},_),{},{baseKey:d.aliceBaseKey})):p.error}while(null==e);return e})))},t.encryptGroupContent=function(e,t,n,r){let{loadSenderKeySession:i,saveSenderKeySession:a}=e;return A.lock([t],(0,o.default)((function*(){let e=null;do{const o=yield i(t,n);if(!o.success)return(0,l.makeError)(o.error);const s=o.value,c=yield(0,u.encryptSenderKeyMsgWithSession)(s,r);if(!c.success)return(0,l.makeError)("sender-key-no-session");{const[r,i]=c.value;yield a(t,n,r);const o=s.senderKeyStates[s.senderKeyStates.length-1];e=(0,l.makeResult)({ciphertext:{ciphertext:i,type:"skmsg"},senderKeyId:o.senderKeyId,senderKeyDistributionProto:(0,u.createSenderKeyDistributionProto)((0,d.convertFromRawToSenderKeyState)(o))})}}while(null==e);return e})))},t.establishOutgoingSession=function(){return S.apply(this,arguments)},t.rotateGroupSenderKey=m,t.saveSenderKeySession=function(e,t,n,r){let{saveSenderKeySession:i}=e;return A.lock([t],(0,o.default)((function*(){const e=yield(0,u.processSenderKeyDistributionMsg)(r);if(!e.success)return e;const o=e.value;return yield i(t,n,o),(0,l.makeResult)()})))};var i=r(n(73982)),o=r(n(11504)),a=n(9093),s=n(22699),l=n(22207),c=n(36011),u=n(88170),d=n(63617),_=n(70717),p=n(31879),f=n(75916),E=n(9133);const A=(0,s.makeLockMap)();function g(){return h.apply(this,arguments)}function h(){return(h=(0,o.default)((function*(e,t){const n=y(t),{signedKey:r}=n;if(!(yield(0,f.verifyMsgSignalVariant)(n.identity,r.publicKey,r.signature)))return(0,l.makeError)("errSignalInvalidKey");const i=yield(0,E.initiateSessionOutgoing)(e,n,(0,_.makeKeyPair)());return(0,l.makeResult)(i)}))).apply(this,arguments)}function S(){return(S=(0,o.default)((function*(e,t,n,r,i){let{handleNewSession:o}=e;const a=yield g(t,r);if(!a.success)return a;const s=a.value;return o(n,s,s.remote.pubKey,null,i)}))).apply(this,arguments)}function T(){return(T=(0,o.default)((function*(e,t,n,r){let{loadSignedPreKey:i,loadOneTimePreKey:o}=e;const a=r&&(0,c.findMatchingSession)(r,n.sessionBaseKey);if(a){const e=yield(0,c.decryptMsgFromSession)(a,n);if(!e.success)return e;const[t,r]=e.value;return(0,l.makeResult)({newSessionInfo:null,updatedSession:t,plaintext:r})}{const e=n.localOneTimeKeyId,a=yield i(n.localSignedPreKeyId),s=null==e?null:yield o(e),u=yield(0,c.decryptPkMsgWithNewSession)(t,r,n,{localSignedPreKey:a,localOneTimeKey:s});if(!u.success)return u;const{newIdentity:d,baseSession:_,updatedSession:p,plaintext:f}=u.value;return(0,l.makeResult)({newSessionInfo:{newIdentity:d,baseSession:_,usedPreKey:e},updatedSession:p,plaintext:f})}}))).apply(this,arguments)}function m(e,t,n,r){let{saveSenderKeySession:i}=e;return A.lock([t],(0,o.default)((function*(){const e=yield(0,E.initiateSenderKeySessionOutgoing)(r),o=e.senderKeyStates[0].senderKeyId;return yield i(t,n,e),{senderKeyId:o}})))}function I(){return(I=(0,o.default)((function*(e,t,n){let{loadSenderKeySession:r,saveSenderKeySession:i}=e,o=yield r(t,n);const a=o.error;if(!o.success&&"errLoadSenderKeySession"===a){const e=yield(0,_.makeKeyPair)();yield m({saveSenderKeySession:i},t,n,e),o=yield r(t,n)}if(o.success){const e=o.value.senderKeyStates.slice(-1);if(e.length>0)return(0,l.makeResult)((0,u.createSenderKeyDistributionProto)((0,d.convertFromRawToSenderKeyState)(e[0])))}return(0,l.makeError)("errGetSenderKeyProto")}))).apply(this,arguments)}function y(e){let{regId:t,identity:n,signedKey:r,oneTimeKey:i}=e;const o=(0,_.castToSerializedPubKey)(r.publicKey);return{regId:(0,p.castRegistrationId)(t),identity:(0,_.castToSerializedPubKey)(n),signedKey:{id:(0,_.castToSignedPreKeyId)(r.id),publicKey:o,signature:(0,p.ensureSize)(r.signature,64)},oneTimeKey:i&&{id:(0,_.castToPreKeyId)(i.id),publicKey:(0,_.castToSerializedPubKey)(i.publicKey)},ratchetKey:o}}},36011:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_UNUSED_KEYS=void 0,t.decryptMsg=function(){return S.apply(this,arguments)},t.decryptMsgFromSession=I,t.decryptPkMsgWithNewSession=function(){return T.apply(this,arguments)},t.deserializeMsg=m,t.deserializePkMsg=function(e){const t=O(e,d.FORMAT_VERSION,0);if(!t.success)return t;let n,r,o,a,s;try{const e=(0,E.decodeProtobuf)(p.PreKeySignalMessageSpec,t.value),{registrationId:i,preKeyId:d,signedPreKeyId:_,baseKey:f,identityKey:A,message:g}=e;if(null==i||null==_||null==f||null==A||null==g)return(0,l.makeError)("errSignalDeserializePkInvalidProtoFormat");a=(0,c.castToSerializedPubKey)(new Uint8Array(f)),n={regId:(0,u.castRegistrationId)(i),pubKey:(0,c.castToSerializedPubKey)(new Uint8Array(A))},o=null!=d?(0,c.castToPreKeyId)(d):null,r=(0,c.castToSignedPreKeyId)(_),s=new Uint8Array(g)}catch(e){return(0,l.makeError)("errSignalDeserializePkKeyBadFormat")}const _=m(s);if(!_.success)return _;return(0,l.makeResult)((0,i.default)((0,i.default)({},_.value),{},{remote:n,sessionBaseKey:a,localSignedPreKeyId:r,localOneTimeKeyId:o}))},t.encryptMsg=function(){return h.apply(this,arguments)},t.findMatchingSession=function(e,t){if(R(e,t))return e;const{prevSessions:n}=e;for(let r=0;r<n.length;r++){const i=(0,d.parseSession)(n[r]);if(R(i,t))return(0,d.setPrevSessions)(i,[(0,d.detachSession)(e),...n.slice(0,r),...n.slice(r+1)])}return null},t.readContent=O,t.versionByte=P;var i=r(n(73982)),o=r(n(11504)),a=n(89323),s=n(9093),l=n(22207),c=n(70717),u=n(31879),d=n(69595),_=n(75916),p=n(62136),f=n(9133),E=n(33655),A=n(32126);const g=2e3;function h(){return(h=(0,o.default)((function*(e,t){const n=e.sendChain,[r,i]=yield(0,f.deriveMsgKey)(n.nextMsgIndex,n.chainKey),{cipherKey:o,macKey:s}=yield M(i),l=yield self.crypto.subtle.encrypt({name:"AES-CBC",iv:i.iv},o,t),c=new a.Binary;c.writeByteArray(e.local.pubKey),c.writeByteArray(e.remote.pubKey);const u=c.size();c.writeUint8(P(d.FORMAT_VERSION,d.FORMAT_VERSION)),(0,A.encodeProtobuf)(p.SignalMessageSpec,{ratchetKey:n.ratchetKey.serializedPubKey,counter:i.index,previousCounter:e.prevSendChainHighestIndex,ciphertext:l},c);const _=c.readByteArray(),E=yield b(s,_),g=_.subarray(u),h=a.Binary.build(g,new Uint8Array(E,0,8)).readByteArray();let S,T;const m=e.initialExchangeInfo;if(null!=m){var I;const t=new a.Binary;t.writeUint8(P(d.FORMAT_VERSION,d.FORMAT_VERSION)),(0,A.encodeProtobuf)(p.PreKeySignalMessageSpec,{registrationId:e.local.regId,preKeyId:null!==(I=m.remoteOneTimeId)&&void 0!==I?I:void 0,signedPreKeyId:m.remoteSignedId,baseKey:m.localOneTimePubKey,identityKey:e.local.pubKey,message:h},t),S="pkmsg",T=t.readByteArray()}else S="msg",T=h;const y=(0,d.makeSendChain)(n.ratchetKey,i.index+1,r);return[(0,d.updateChains)(e,e.recvChains,y),{type:S,ciphertext:T}]}))).apply(this,arguments)}function S(){return(S=(0,o.default)((function*(e,t){if(null==e)return(0,l.makeError)("errSignalNoSession");const n=yield I(e,t);if(n.success){const[e,t]=n.value;return(0,l.makeResult)({newSessionInfo:null,updatedSession:e,plaintext:t})}{const{prevSessions:r}=e;let i=n;for(let n=0;!i.success&&n<r.length;n++){const o=(0,d.parseSession)(r[n]),a=yield I(o,t);if(a.success){const[t,c]=a.value,u=(0,d.setPrevSessions)(t,[(0,d.detachSession)(e),...r.slice(0,n),...r.slice(n+1)]),_=e&&(0,s.serializedPubKeysEqual)(u.remote.pubKey,e.remote.pubKey)?null:u.remote.pubKey;i=(0,l.makeResult)({newSessionInfo:{newIdentity:_,baseSession:o,usedPreKey:null},updatedSession:u,plaintext:c})}}return i}}))).apply(this,arguments)}function T(){return(T=(0,o.default)((function*(e,t,n,r){var i;const{localSignedPreKey:o}=r;if(null==o)return(0,l.makeError)("errSignalInvalidSignedPreKey");const a=(0,_.deserializeSignedPreKey)(o);if(null==a)return(0,l.makeError)("errSignalSignedPreKeyDeserialization");if(a.id!==n.localSignedPreKeyId)return(0,l.makeError)("errSignalSignedPreKeyIdMismatch");let u=null;if(null!=n.localOneTimeKeyId){const{localOneTimeKey:e}=r;if(null==e)return(0,l.makeError)("errSignalInvalidOneTimeKey");if(u=(0,c.deserializePreKey)(e),null==u)return(0,l.makeError)("errSignalOneTimeKeyDeserialization");if(u.id!==n.localOneTimeKeyId)return(0,l.makeError)("errSignalOneTimeKeyMismatch")}let p=yield(0,f.initiateSessionIncoming)(e,n.remote,n.sessionBaseKey,{signed:a.keyPair,oneTime:null===(i=u)||void 0===i?void 0:i.keyPair,ratchet:(0,c.toSerializedKeyPair)(a.keyPair)});const E=p.remote.pubKey,A=t&&(0,s.serializedPubKeysEqual)(E,t.remote.pubKey)?null:E;t&&!A&&(p=(0,d.setPrevSessions)(p,[(0,d.detachSession)(t),...t.prevSessions.slice(0,39)]));const g=yield I(p,n);if(!g.success)return g;const[h,S]=g.value;return(0,l.makeResult)({newIdentity:A,baseSession:p,updatedSession:h,plaintext:S})}))).apply(this,arguments)}function m(e){let t,n,r=null;try{const i=O(e,d.FORMAT_VERSION,8);if(!i.success)return i;const o=(0,E.decodeProtobuf)(p.SignalMessageSpec,i.value),a=o.ratchetKey;if(r=o.counter,n=o.ciphertext,null==a||null==r||null==n)return(0,l.makeError)("errSignalDeserializeInvalidProtoFormat");t=(0,c.castToSerializedPubKey)(new Uint8Array(a))}catch(e){return(0,l.makeError)("errSignalDeserializeRatchetKeyBadFormat")}const i={ratchetPubKey:t,counter:r,ciphertext:new Uint8Array(n),versionContentMac:e};return(0,l.makeResult)(i)}function I(){return y.apply(this,arguments)}function y(){return(y=(0,o.default)((function*(e,t){let{ratchetPubKey:n,counter:r,ciphertext:i,versionContentMac:o}=t;const u=e.recvChains,_=e.recvChains.findIndex((e=>(0,s.serializedPubKeysEqual)(e.ratchetPubKey,n)));let p,E;if(-1===_){const t=yield(0,f.calculateRatchet)(e.rootKey,e.sendChain.ratchetKey,n),i=(0,d.makeFreshRecvChain)(n,t.chainKey),o=yield C(i,r);if(!o.success)return o;const a=o.value,s=(0,c.makeSerializedKeyPair)(),l=yield(0,f.calculateRatchet)(t.rootKey,s,n),_=u.slice(-4);_.push(a.updatedChain),E=a.msgKey,p=(0,d.ratchetSession)(e,_,(0,d.makeFreshSendChain)(s,l.chainKey),l.rootKey)}else{const t=yield C(u[_],r);if(!t.success)return t;const n=t.value,i=u.slice();i[_]=n.updatedChain,E=n.msgKey,p=(0,d.updateChains)(e,i,e.sendChain)}const{cipherKey:A,macKey:g}=yield M(E),h=a.Binary.build(e.remote.pubKey,e.local.pubKey,o.subarray(0,-8)).readByteArray(),S=yield b(g,h),T=o.subarray(-8),m=!(0,s.uint8ArraysEqual)(new Uint8Array(S,0,8),T);let I=null;try{I=yield self.crypto.subtle.decrypt({name:"AES-CBC",iv:E.iv},A,i)}catch(e){}return m&&null==I?-1===_?(0,l.makeError)("errInvalidMacInvalidCipherKeyNewChain"):(0,l.makeError)("errInvalidMacInvalidCipherKey"):m?(0,l.makeError)("errInvalidMacWithDecryptedPlaintext"):null==I?(0,l.makeError)("errUnknownInvalidCipherKey"):(0,l.makeResult)([p,I])}))).apply(this,arguments)}function C(){return v.apply(this,arguments)}function v(){return(v=(0,o.default)((function*(e,t){const n=t-e.nextMsgIndex;if(n>2e3)return(0,l.makeError)("errSignalTooManyMessagesInFuture");const r=e.unusedMsgKeys;if(n<0){const n=r.findIndex((e=>e.index===t));return-1===n?(0,l.makeError)("errDuplicateMsg"):(0,l.makeResult)({msgKey:r[n],updatedChain:(0,d.makeRecvChain)(e.ratchetPubKey,e.nextMsgIndex,e.chainKey,N(r,n))})}const i=e.nextMsgIndex;let[o,a]=yield(0,f.deriveMsgKey)(i,e.chainKey),s=null;if(n>0){let e=n+r.length-g;e>0?(s=r.slice(e),e-=r.length):s=r.slice();for(let n=i+1;n<=t;n++){e>0?e--:s.push(a);const t=yield(0,f.deriveMsgKey)(n,o);o=t[0],a=t[1]}}return(0,l.makeResult)({msgKey:a,updatedChain:(0,d.makeRecvChain)(e.ratchetPubKey,t+1,o,s||r)})}))).apply(this,arguments)}function O(e,t,n){if(e.length<1)return(0,l.makeError)("errSignalEmptyVersionContentSuffix");const r=e[0]>>>4;if(r!==t)return r<t?(0,l.makeError)("errSignalLegacyMsg"):(0,l.makeError)("errSignalInvalidVersion");const i=e.length-n;return i<1?(0,l.makeError)("errSignalContentExceededExpectedLength"):(0,l.makeResult)(e.subarray(1,i))}function P(e,t){return 255&(e<<4|t)}function N(e,t){const n=[];for(let r=0;r<e.length;r++)r!==t&&n.push(e[r]);return n}function b(e,t){return self.crypto.subtle.sign(u.HMAC_SHA256,e,t)}function M(e){return Promise.all([(0,u.makeCryptoKey)(e.cipherKey,"aes-cbc"),(0,u.makeCryptoKey)(e.macKey,"hmac-sha256")]).then((e=>{let[t,n]=e;return{cipherKey:t,macKey:n}}))}function R(e,t){const{aliceBaseKey:n}=e;return!!n&&(0,s.serializedPubKeysEqual)(n,t)}t.MAX_UNUSED_KEYS=g},70717:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_TYPE=void 0,t.castToPreKeyId=E,t.castToSerializedPubKey=A,t.castToSignedPreKeyId=function(e){return(0,s.ensureIntInRange)(e,0,c)},t.deserializePreKey=function(e){try{const{id:t,publicKey:n,privateKey:r}=(0,l.decodeProtobuf)(a.PreKeyRecordStructureSpec,e);return null==t||null==n||null==r?null:{id:E(t),keyPair:_((0,s.toBytes)(r,32),A(new Uint8Array(n)))}}catch(e){return null}},t.ecdh=function(e,t){return(0,i.scalarMult)(e,t.subarray(1)).buffer},t.makeKeyPair=d,t.makeKeyPairFrom=function(e){const{publicKey:t,secretKey:n}=(0,i.keypairFromSecretKey)(e);return u((0,s.ensureSize)(t,32),(0,s.ensureSize)(n,32))},t.makeKeyPairFromArrayBuffers=function(e,t){return{publicKey:(0,s.toBytes)(e,32),privateKey:(0,s.toBytes)(t,32)}},t.makeKeyPairFromSerialized=_,t.makePreKeys=function(e,t){let n=(e-1)%c;n<=0&&(n+=c);const r=[];for(let e=0;e<t;e++){const e=n===c?1:n+1,t=d(),i=(0,s.encodeSignalProto)(a.PreKeyRecordStructureSpec,{id:e,publicKey:f(t),privateKey:t.privateKey});r.push({plainObject:{id:e,keyPair:t},record:i}),n=e}return r},t.makeRawSenderKey=function(){const e=(0,s.makeBytes)(32);return self.crypto.getRandomValues(e),e},t.makeSerializedKeyPair=function(){const e=d();return p(e.privateKey,f(e))},t.makeSerializedKeyPairFrom=p,t.serializeIdentity=function(e){const t=(0,s.makeBytes)(33);return t[0]=5,t.set((0,s.ensureSize)(e,32),1),t},t.serializePubKey=f,t.toSerializedKeyPair=function(e){return p(e.privateKey,f(e))};var i=n(53596),o=r(n(82065)),a=n(40479),s=n(31879),l=n(33655);t.KEY_TYPE=5;const c=16777215;function u(e,t){return{publicKey:e,privateKey:t}}function d(){const{publicKey:e,secretKey:t}=(0,i.keyPair)();return t[0]&=248,t[31]=64|63&t[31],u((0,s.ensureSize)(e,32),(0,s.ensureSize)(t,32))}function _(e,t){return u((0,s.sliceBytes)(t,1,32),e)}function p(e,t){return{serializedPubKey:t,privateKey:e}}function f(e){const t=(0,s.makeBytes)(33);return t[0]=5,t.set(e.publicKey,1),t}function E(e){return(0,s.ensureIntInRange)(e,1,c)}function A(e){if(0===e.length||5!==e[0])throw(0,o.default)("Unrecognized public key type");return(0,s.ensureSize)(e,33)}},31879:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.HMAC_SHA256=t.AES_CBC=void 0,t.areSessionHashesEqual=function(e,t){return(0,o.arrayBuffersEqual)(e,t)},t.castRegistrationId=function(e){return _(e)},t.castSenderKeyId=function(e){return _(e)},t.castToByteEncoded=function(e){return e},t.castToSessionHash=function(e){return e},t.decodeSignalProto=function(e,t,n){return n((0,s.decodeProtobuf)(e,t))},t.encodeSignalProto=function(e,t){return(0,l.encodeProtobuf)(e,t).readByteArray()},t.ensureIntInRange=_,t.ensureSize=d,t.hkdf=function(e,t,n,r){return(0,i.extractWithSaltAndExpand)(e,t,n,r).then((e=>new Uint8Array(e)))},t.makeBytes=function(e){return new Uint8Array(e)},t.makeCryptoKey=function(e,t){let n,r;"hmac-sha256"===t?(n=u,r=["sign"]):(n=c,r=["encrypt","decrypt"]);return self.crypto.subtle.importKey("raw",e,n,!1,r)},t.makeRegistrationId=function(e){const t="extendedRange"===e?2147483646:16380;return(0,o.randomNumberLessThan)(t)+1},t.makeSenderKeyId=function(){return(0,o.randomNumberLessThan)(-1>>>1)+1},t.readBytes=function(e,t){return e.readByteArray(t)},t.sliceBytes=function(e,t,n){if(e.length-t<n)throw(0,a.default)(`Can not split off ${n} bytes from index ${t} of ${e.length} bytes`);return e.slice(t,t+n)},t.toBuffer=function(e){const t=e.buffer,n=e.byteOffset,r=e.length;return 0===n&&r===t.byteLength?t:t.slice(n,n+r)},t.toBytes=function(e,t){return d(new Uint8Array(e),t)};var i=n(88397),o=n(9093),a=r(n(82065)),s=n(33655),l=n(32126);const c={name:"AES-CBC"};t.AES_CBC=c;const u={name:"HMAC",hash:"SHA-256"};function d(e,t){if(e.length!==t)throw(0,a.default)(`Signal expected ${t} bytes, given ${e.length}`);return e}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967296;if("number"==typeof e&&t<=e&&e<n&&Math.floor(e)===e)return e;throw(0,a.default)(`Expected integer in range [${t}, ${n}), given ${String(e)}`)}t.HMAC_SHA256=u},69595:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.FORMAT_VERSION=void 0,t._parseSession=f,t.bytesOrThrow=A,t.definedOrThrow=g,t.detachSession=function(e){const{local:t,remote:n,sendChain:r,initialExchangeInfo:i}=e;let o;if(i){const{remoteOneTimeId:e}=i;o={preKeyId:null!=e?e:void 0,signedPreKeyId:i.remoteSignedId,baseKey:(0,s.toBuffer)(i.localOneTimePubKey)}}return{sessionVersion:3,localIdentityPublic:(0,s.toBuffer)(t.pubKey),remoteIdentityPublic:(0,s.toBuffer)(n.pubKey),rootKey:(0,s.toBuffer)(e.rootKey),previousCounter:e.prevSendChainHighestIndex,senderChain:{senderRatchetKey:(0,s.toBuffer)(r.ratchetKey.serializedPubKey),senderRatchetKeyPrivate:(0,s.toBuffer)(r.ratchetKey.privateKey),chainKey:{index:r.nextMsgIndex,key:(0,s.toBuffer)(r.chainKey)},messageKeys:[]},receiverChains:e.recvChains.map((e=>({senderRatchetKey:(0,s.toBuffer)(e.ratchetPubKey),chainKey:{index:e.nextMsgIndex,key:(0,s.toBuffer)(e.chainKey)},messageKeys:e.unusedMsgKeys.map((e=>({index:e.index,cipherKey:(0,s.toBuffer)(e.cipherKey),macKey:(0,s.toBuffer)(e.macKey),iv:(0,s.toBuffer)(e.iv)})))}))),pendingPreKey:o,remoteRegistrationId:n.regId,localRegistrationId:t.regId,aliceBaseKey:null==e.aliceBaseKey?void 0:(0,s.toBuffer)(e.aliceBaseKey)}},t.makeFreshRecvChain=function(e,t){return l(e,0,t,[])},t.makeFreshSendChain=function(e,t){return c(e,0,t)},t.makeFreshSession=function(e,t,n,r,i,o,a){return d(e,t,n,r,i,o,0,[],a)},t.makeInitialExchangeInfo=u,t.makeRecvChain=l,t.makeSendChain=c,t.makeSession=d,t.parseSession=function(e){return f(e,[])},t.parseSessionFromRecord=function(e){return f(g(e.currentSession,"currentSession"),e.previousSessions)},t.ratchetSession=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.sendChain,r=arguments.length>3?arguments[3]:void 0;return d(e.local,e.remote,r,t,n,null,Math.max(e.sendChain.nextMsgIndex-1,0),e.prevSessions,e.aliceBaseKey)},t.serializeSession=function(e){const{local:t,remote:n,initialExchangeInfo:r}=e;let i;if(r){const{remoteOneTimeId:e}=r;i={preKeyId:null!=e?e:void 0,signedPreKeyId:r.remoteSignedId,baseKey:r.localOneTimePubKey}}return{currentSession:{sessionVersion:3,localIdentityPublic:t.pubKey,remoteIdentityPublic:n.pubKey,rootKey:e.rootKey,previousCounter:e.prevSendChainHighestIndex,senderChain:p(e.sendChain),receiverChains:e.recvChains.map(_),pendingPreKey:i,remoteRegistrationId:n.regId,localRegistrationId:t.regId,aliceBaseKey:e.aliceBaseKey},previousSessions:e.prevSessions}},t.setPrevSessions=function(e,t){return d(e.local,e.remote,e.rootKey,e.recvChains,e.sendChain,e.initialExchangeInfo,e.prevSendChainHighestIndex,t,e.aliceBaseKey)},t.splitMsgKey=function(e,t){const n=new i.Binary(t),r=(0,s.readBytes)(n,32),o=(0,s.readBytes)(n,32),a=(0,s.readBytes)(n,16);return function(e,t,n,r){return{index:e,cipherKey:t,macKey:n,iv:r}}(e,r,o,a)},t.updateChains=function(e,t,n){return d(e.local,e.remote,e.rootKey,t,n,e.initialExchangeInfo,e.prevSendChainHighestIndex,e.prevSessions,e.aliceBaseKey)};var i=n(89323),o=r(n(82065)),a=n(70717),s=n(31879);function l(e,t,n,r){return{ratchetPubKey:e,nextMsgIndex:t,chainKey:n,unusedMsgKeys:r}}function c(e,t,n){return{ratchetKey:e,nextMsgIndex:t,chainKey:n}}function u(e,t,n){return{remoteOneTimeId:e,remoteSignedId:t,localOneTimePubKey:n}}function d(e,t,n,r,i,o,a,s,l){return{local:e,remote:t,rootKey:n,sendChain:i,recvChains:r,initialExchangeInfo:o,prevSendChainHighestIndex:a,prevSessions:s,aliceBaseKey:l}}function _(e){return{senderRatchetKey:e.ratchetPubKey,chainKey:{index:e.nextMsgIndex,key:e.chainKey},messageKeys:e.unusedMsgKeys}}function p(e){const t=e.ratchetKey;return{senderRatchetKey:t.serializedPubKey,senderRatchetKeyPrivate:t.privateKey,chainKey:{index:e.nextMsgIndex,key:e.chainKey}}}function f(e,t){const n=g(e.sessionVersion,"sessionVersion");if(3!==n)throw(0,o.default)(`Signal: bad session version ${n}`);const r=g(e.senderChain,"senderChain"),i=g(r.chainKey,"senderChain.chainKey"),_=c((0,a.makeSerializedKeyPairFrom)(A(r.senderRatchetKeyPrivate,32,"senderRatchetKeyPrivate"),E(r.senderRatchetKey,"senderRatchetKey")),g(i.index,"senderChain.chainKey.index"),A(i.key,32,"senderChain.chainKey.key")),p=g(e.receiverChains,"receiverChains").map((e=>{const t=g(e.chainKey,"receiverChains[].chainKey");return l(E(e.senderRatchetKey,"receiverChains[].senderRatchetKey"),g(t.index,"receiverChains[].chainKey.index"),A(t.key,32,"receiverChains[].chainKey.key"),e.messageKeys.map((e=>({index:g(e.index,"messageKeys[].index"),cipherKey:A(e.cipherKey,32,"messageKeys[].cipherKey"),macKey:A(e.macKey,32,"messageKeys[].macKey"),iv:A(e.iv,16,"messageKeys[].iv")}))))})),f={regId:(0,s.castRegistrationId)(g(e.localRegistrationId,"localRegistrationId")),pubKey:E(e.localIdentityPublic,"localIdentityPublic")},h={regId:(0,s.castRegistrationId)(g(e.remoteRegistrationId,"remoteRegistrationId")),pubKey:E(e.remoteIdentityPublic,"remoteIdentityPublic")},S=e.pendingPreKey;let T=null;if(S){const e=S.preKeyId;T=u(null!=e?(0,a.castToPreKeyId)(e):null,(0,a.castToSignedPreKeyId)(g(S.signedPreKeyId,"pendingPreKey.signedPreKeyId")),E(S.baseKey,"pendingPreKey.baseKey"))}const m=null==e.aliceBaseKey?null:E(e.aliceBaseKey,"aliceBaseKey");return d(f,h,A(e.rootKey,32,"rootKey"),p,_,T,e.previousCounter||0,t,m)}function E(e,t){return(0,a.castToSerializedPubKey)(new Uint8Array(g(e,t)))}function A(e,t,n){return(0,s.toBytes)(g(e,n),t)}function g(e,t){if(null==e)throw(0,o.default)(`Signal: protobuf is missing ${t}`);return e}t.FORMAT_VERSION=3},75916:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.convertPublicKeyHexToUint8Array=function(e){return new Uint8Array((0,s.parseHex)(e))},t.convertPublicKeyToSerializedPubKey=function(e){if(33===e.length)return(0,c.castToSerializedPubKey)(e);if(32===e.length)return(0,c.serializeIdentity)(e);throw(0,a.default)("verifyCertificate publicKey incorrect length")},t.deserializeSignedPreKey=function(e){try{const{id:t,publicKey:n,privateKey:r,signature:i,timestamp:o}=(0,_.decodeProtobuf)(u.SignedPreKeyRecordStructureSpec,e);return null==t||null==n||null==r||null==i||null==o?null:{id:(0,c.castToSignedPreKeyId)(t),ts:(0,l.numberOrThrowIfTooLarge)(o),keyPair:(0,c.makeKeyPairFromSerialized)((0,d.toBytes)(r,32),(0,c.castToSerializedPubKey)(new Uint8Array(n))),signature:(0,d.toBytes)(i,64)}}catch(e){return null}},t.generateSignedPreKey=function(e,t,n){return Promise.resolve().then((()=>{const r=f(e,t,n);return{plainObject:r,record:E(r)}}))},t.makeSignature=p,t.makeSignedPreKey=f,t.serializeSignedPreKeyForPrivateStorage=E,t.signMsg=function(e,t){return Promise.resolve().then((()=>{const n=(0,d.makeBytes)(64);return self.crypto.getRandomValues(n),p(e,t,n)}))},t.signSenderKeyMessage=function(e,t){const n=(0,d.makeBytes)(64);return self.crypto.getRandomValues(n),p(e,t,n)},t.verifyMsgSignalVariant=function(e,t,n){const r=n[63];if(96&r)return!1;return(0,i.runInAllocationScope)((()=>{const{A:a,M:s,Z:l,pack25519:c,unpack25519:u}=o.lowlevel,d=(0,i.allocate)(Uint8Array,64);d.set(n),d[63]=127&r;const _=(0,i.fieldElement)(),p=(0,i.fieldElement)(),f=(0,i.fieldElement)(),E=(0,i.fieldElement)(),A=(0,i.fieldElement)(),g=(0,i.allocate)(Uint8Array,32),h=(0,i.fieldElement)();return h[0]=1,u(_,e.subarray(1)),l(p,_,h),a(f,_,h),(0,i.inv25519)(E,f),s(A,p,E),c(g,A),g[31]=127&g[31]|128&r,(0,o.signDetachedVerify)(t,d,g)}))};var i=n(85135),o=n(53596),a=r(n(82065)),s=n(65982),l=n(22101),c=n(70717),u=n(40479),d=n(31879),_=n(33655);function p(e,t,n){const r=function(e,t,n){return(0,i.runInAllocationScope)((()=>{const r=t.length,o=e.privateKey,a=new Uint8Array(32);(0,i.scalarmultBase)(a,o);const s=128&a[31],l=new Uint8Array(r+128);l[0]=254,l.fill(255,1,32),l.set(o,32),l.set(t,64),l.set(n,r+64);const c=(0,i.allocate)(Uint8Array,64);(0,i.hashSha512)(c,l,r+128),l.set(a,32);const u=(0,i.allocate)(Float64Array,64);(0,i.reduce)(c,u),(0,i.scalarmultBase)(l,c);const d=(0,i.allocate)(Uint8Array,64);let _,p;for((0,i.hashSha512)(d,l,r+64),(0,i.reduce)(d,u),_=0;_<32;++_)u[_]=c[_];for(_=0;_<32;++_)for(p=0;p<32;++p)u[_+p]+=d[_]*o[p];return(0,i.modL)(l.subarray(32,64),u),{pubKeyNegative:0!==s,signedMsg:l}}))}(e,t,n),o=(0,d.sliceBytes)(r.signedMsg,0,64);return o[63]=127&o[63]|(r.pubKeyNegative?128:0),o}function f(e,t,n){const r=(0,c.makeKeyPair)(),i=(0,d.makeBytes)(64);self.crypto.getRandomValues(i);const o=p(n,(0,c.serializePubKey)(r),i);if(!Number.isSafeInteger(t))throw(0,a.default)(`Expected timestamp to be a safe integer, given ${String(t)}`);return{id:(0,c.castToPreKeyId)(e),ts:t,keyPair:r,signature:o}}function E(e){const{id:t,keyPair:n}=e;return(0,d.encodeSignalProto)(u.SignedPreKeyRecordStructureSpec,{id:t,publicKey:(0,c.serializePubKey)(n),privateKey:n.privateKey,signature:e.signature,timestamp:e.ts})}},9133:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRatchet=g,t.deriveMsgKey=function(){return E.apply(this,arguments)},t.deriveSenderKeyMsgKey=function(){return A.apply(this,arguments)},t.initiateSenderKeySessionIncoming=function(e,t,n,r,i){const o=(0,a.makeSenderKeyState)(n,void 0,(0,a.makeSenderKeyChainKey)(t,r),e,[]);let s=null;s=i?(0,a.updateSessionWithNewSenderKeyState)(i,o):(0,a.makeNewSenderKeySession)(o);return Promise.resolve(s)},t.initiateSenderKeySessionOutgoing=function(e){const t=(0,a.makeSenderKeyState)((0,s.serializePubKey)(e),e.privateKey,(0,a.makeSenderKeyChainKey)(0,(0,s.makeRawSenderKey)()),(0,l.makeSenderKeyId)(),[]);return Promise.resolve((0,a.makeNewSenderKeySession)(t))},t.initiateSessionIncoming=function(){return f.apply(this,arguments)},t.initiateSessionOutgoing=function(){return p.apply(this,arguments)};var i=r(n(11504)),o=n(89323),a=n(63617),s=n(70717),l=n(31879),c=n(69595);const u=new Uint8Array(32);u.fill(255);const d=new Uint8Array([1]),_=new Uint8Array([2]);function p(){return(p=(0,i.default)((function*(e,t,n){var r;let{regId:i,staticKeyPair:a}=e;const l=t.identity,d=t.signedKey.publicKey,_=n.privateKey,p=a.privateKey,f=null===(r=t.oneTimeKey)||void 0===r?void 0:r.publicKey,E=o.Binary.build(u,m(p,d),m(_,l),m(_,d),f&&m(_,f)).readByteArray(),[A,h]=yield S(E,"WhisperText"),T=t.ratchetKey,I=(0,c.makeFreshRecvChain)(T,h),y=(0,s.makeSerializedKeyPair)(),C=yield g(A,y,T),v=(0,c.makeInitialExchangeInfo)(null==t.oneTimeKey?null:t.oneTimeKey.id,t.signedKey.id,(0,s.serializePubKey)(n));return(0,c.makeFreshSession)({regId:i,pubKey:(0,s.serializePubKey)(a)},{regId:t.regId,pubKey:l},C.rootKey,[I],(0,c.makeFreshSendChain)(y,C.chainKey),v,(0,s.serializePubKey)(n))}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e,t,n,r){var i;let{regId:a,staticKeyPair:l}=e;const d=l.privateKey,_=r.signed.privateKey,p=n,f=t.pubKey,E=null===(i=r.oneTime)||void 0===i?void 0:i.privateKey,A=o.Binary.build(u,I(f,_),I(p,d),I(p,_),E&&I(p,E)).readByteArray(),[g,h]=yield S(A,"WhisperText"),T=r.ratchet,m=(0,c.makeFreshSendChain)(T,h);return(0,c.makeSession)({regId:a,pubKey:(0,s.serializePubKey)(l)},t,g,[],m,null,0,[],n)}))).apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e,t){const n=yield(0,l.makeCryptoKey)(t,"hmac-sha256"),r=e=>self.crypto.subtle.sign({name:"HMAC",hash:"SHA-256"},n,e),i=r(d).then((e=>(0,l.hkdf)(new Uint8Array(e),null,"WhisperMessageKeys",80))).then((t=>(0,c.splitMsgKey)(e,t))),o=r(_).then((e=>(0,l.toBytes)(e,32)));return Promise.all([o,i])}))).apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e,t){const n=yield(0,l.makeCryptoKey)(t,"hmac-sha256"),r=e=>self.crypto.subtle.sign({name:"HMAC",hash:"SHA-256"},n,e),i=r(d).then((e=>(0,l.hkdf)(new Uint8Array(e),null,"WhisperGroup",50))).then((t=>(0,a.makeSenderKeyMsgKey)(e,t))),o=r(_).then((e=>(0,l.toBytes)(e,32)));return Promise.all([o,i])}))).apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e,t,n){const r=t.privateKey,i=(0,s.ecdh)(r,n),[o,a]=yield S(new Uint8Array(i),"WhisperRatchet",e);return{rootKey:o,chainKey:a}}))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=yield(0,l.hkdf)(e,n,t,64);return[(0,l.sliceBytes)(r,0,32),(0,l.sliceBytes)(r,32,32)]}))).apply(this,arguments)}function m(e,t){return new Uint8Array((0,s.ecdh)(e,t))}function I(e,t){return m(t,e)}},88170:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.createSenderKeyDistributionProto=function(e){const t=(0,l.serializeSenderKeyState)(e),n=new o.Binary;return n.writeUint8((0,s.versionByte)(l.FORMAT_VERSION,l.FORMAT_VERSION)),(0,A.encodeProtobuf)(p.SenderKeyDistributionMessageSpec,{id:t.senderKeyId,iteration:(0,d.definedOrThrow)(t.senderChainKey,"senderChainKey").iteration,chainKey:(0,d.definedOrThrow)(t.senderChainKey,"senderChainKey").seed,signingKey:(0,d.definedOrThrow)(t.senderSigningKey,"senderSigningKey").public},n),n.readByteArray()},t.decryptSenderKeyMsgFromSession=function(){return S.apply(this,arguments)},t.deserializeSenderKeyMsg=function(e){if(e.length<1)return(0,a.makeError)("errSignalGrpVersionContentEmpty");const t=e[0]>>>4;if(t!==l.FORMAT_VERSION)return t<l.FORMAT_VERSION?(0,a.makeError)("errSignalLegacyMsg"):(0,a.makeError)("errSignalInvalidVersion");if(e.length<65)return(0,a.makeError)("errSignalGrpInvalidVersionContentLength");let n,r,i;try{const t=e.subarray(1,-64),o=(0,E.decodeProtobuf)(p.SenderKeyMessageSpec,t);if(n=o.id,r=o.iteration,i=o.ciphertext,null==n||null==r||null==i)return(0,a.makeError)("errSignalGrpSenderKeyInvalidProtoFormat")}catch(e){return __LOG__(4,void 0,new Error)`Exception caught during SenderKeyMessageSpec Proto: ${e}`,(0,a.makeError)("errSignalGrpSenderKeyProtoError")}return(0,a.makeResult)({senderKeyMessageId:n,iteration:r,ciphertext:new Uint8Array(i),versionContentMac:e})},t.encryptSenderKeyMsgWithSession=function(){return h.apply(this,arguments)},t.processSenderKeyDistributionMsg=function(){return g.apply(this,arguments)};var i=r(n(11504)),o=n(89323),a=n(22207),s=n(36011),l=n(63617),c=n(70717),u=n(31879),d=n(69595),_=n(75916),p=n(62136),f=n(9133),E=n(33655),A=n(32126);function g(){return(g=(0,i.default)((function*(e,t){const n=T(e);if(!n.success)return n;const{senderKeyId:r,iteration:i,signingKeyPublic:o,chainKey:s}=n.value,l=yield(0,f.initiateSenderKeySessionIncoming)(r,i,o,s,t);return(0,a.makeResult)(l)}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e,t){if(!e.senderKeyStates||0===e.senderKeyStates.length)return(0,a.makeError)("errSignalNoSession");const n=e.senderKeyStates[e.senderKeyStates.length-1],[r,i]=yield(0,f.deriveSenderKeyMsgKey)(n.senderKeyChainKey.nextMsgIndex,n.senderKeyChainKey.chainKey),[u,E]=yield m(i.seed),g=yield self.crypto.subtle.encrypt({name:"AES-CBC",iv:E},u,t),h=new o.Binary;(0,A.encodeProtobuf)(p.SenderKeyMessageSpec,{id:n.senderKeyId,iteration:i.iteration,ciphertext:g},h);const S=new o.Binary;S.writeUint8((0,s.versionByte)(l.FORMAT_VERSION,l.FORMAT_VERSION)),S.writeBinary(h);const T=(0,c.makeKeyPairFromSerialized)((0,d.definedOrThrow)(n.senderSigningKeyPrivate,"senderSigningKeyPrivate"),n.senderSigningKeyPublic),I=(0,_.signSenderKeyMessage)(T,S.readByteArray()),y=new o.Binary;y.writeUint8((0,s.versionByte)(l.FORMAT_VERSION,l.FORMAT_VERSION)),y.writeBinary(h),y.writeByteArray(I);const C=(0,l.makeSenderKeyChainKey)(i.iteration+1,r),v=(0,l.updateSessionWithUpdatedSenderKeyState)(e,(0,l.makeSenderKeyState)(n.senderSigningKeyPublic,n.senderSigningKeyPrivate,C,n.senderKeyId,n.unusedMsgKeys));return(0,a.makeResult)([v,y.readByteArray()])}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e,t){let{senderKeyMessageId:n,iteration:r,ciphertext:i,versionContentMac:o}=t;const s=(0,l.findSenderKeyState)(e,n);if(null==s)return(0,a.makeError)("errSignalNoSession");if(!y(o,s.senderSigningKeyPublic))return(0,a.makeError)("errSignalInvalidKey");const c=yield C(s,r);if(!c.success)return c;const u=c.value,d=u.msgKey,_=(0,l.updateSessionWithUpdatedSenderKeyState)(e,u.updatedSenderKeyState),[p,f]=yield m(d.seed),E=yield self.crypto.subtle.decrypt({name:"AES-CBC",iv:f},p,i);return(0,a.makeResult)([_,E])}))).apply(this,arguments)}function T(e){let t,n,r,i,o;try{if(o=(0,s.readContent)(e,l.FORMAT_VERSION,0),!o.success)return o;const u=(0,E.decodeProtobuf)(p.SenderKeyDistributionMessageSpec,o.value);t=u.id,n=u.iteration;const _=(0,d.bytesOrThrow)(u.signingKey,33,"signingKey");if(r=(0,c.castToSerializedPubKey)(_),i=(0,d.bytesOrThrow)(u.chainKey,32,"chainKey"),null==t||null==n)return(0,a.makeError)("errSignalGrpInvalidProtoFormat")}catch(e){return(0,a.makeError)("errSignalGrpInvalidKeyFormat")}return(0,a.makeResult)({senderKeyId:t,iteration:n,signingKeyPublic:r,chainKey:i})}function m(){return I.apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){const t=new o.Binary(e),n=(0,u.readBytes)(t,16),r=(0,u.readBytes)(t,32);return[yield(0,u.makeCryptoKey)(r,"aes-cbc"),n]}))).apply(this,arguments)}function y(e,t){const n=e.subarray(e.length-64),r=e.subarray(0,e.length-64);return(0,_.verifyMsgSignalVariant)(t,r,(0,u.toBytes)((0,u.toBuffer)(n),64))}function C(){return v.apply(this,arguments)}function v(){return(v=(0,i.default)((function*(e,t){const n=e,r=t-n.senderKeyChainKey.nextMsgIndex;if(r>2e3)return(0,a.makeError)("errSignalGrpTooManyMessagesInFuture");const i=e.unusedMsgKeys||[];if(r<0){const e=i.findIndex((e=>e.iteration===t));return-1===e?(0,a.makeError)("errDuplicateMsg"):(0,a.makeResult)({msgKey:i[e],updatedSenderKeyState:(0,l.makeSenderKeyState)(n.senderSigningKeyPublic,n.senderSigningKeyPrivate,n.senderKeyChainKey,n.senderKeyId,O(i,e))})}const o=n.senderKeyChainKey.nextMsgIndex;let[c,u]=yield(0,f.deriveSenderKeyMsgKey)(o,n.senderKeyChainKey.chainKey),d=null;if(r>0){let e=r+i.length-s.MAX_UNUSED_KEYS;e>0?(d=i.slice(e),e-=i.length):d=i.slice();for(let n=o+1;n<=t;n++){e>0?e--:d.push(u);const t=yield(0,f.deriveSenderKeyMsgKey)(n,c);c=t[0],u=t[1]}}return(0,a.makeResult)({msgKey:u,updatedSenderKeyState:(0,l.makeSenderKeyState)(n.senderSigningKeyPublic,n.senderSigningKeyPrivate,(0,l.makeSenderKeyChainKey)(t+1,c),e.senderKeyId,d||i)})}))).apply(this,arguments)}function O(e,t){const n=[];for(let r=0;r<e.length;r++)r!==t&&n.push(e[r]);return n}},63617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORMAT_VERSION=void 0,t._parseSession=s,t.convertFromRawToSenderKeyState=function(e){return e},t.findSenderKeyState=function(e,t){const n=e.senderKeyStates.findIndex((e=>e.senderKeyId===t));if(-1===n)return;return e.senderKeyStates[n]},t.makeNewSenderKeySession=function(e){return{senderKeyStates:[e]}},t.makeSenderKeyChainKey=a,t.makeSenderKeyMsgKey=o,t.makeSenderKeySessionFromRecord=l,t.makeSenderKeyState=function(e,t,n,r,i){return{senderSigningKeyPublic:e,senderSigningKeyPrivate:t,senderKeyChainKey:n,senderKeyId:r,unusedMsgKeys:null==i?[]:i}},t.parseSessionFromRecord=function(e){return s((0,i.definedOrThrow)(e.senderKeyStates,"senderKeyStates"))},t.serializeSenderKeyState=c,t.serializeSession=function(e){return{senderKeyStates:e.senderKeyStates.map((e=>c(e)))}},t.updateSessionWithNewSenderKeyState=function(e,t){const n=e.senderKeyStates.slice(e.senderKeyStates.length>4?1:0);return n.push(t),{senderKeyStates:n}},t.updateSessionWithUpdatedSenderKeyState=function(e,t){const n=e.senderKeyStates.findIndex((e=>e.senderKeyId===t.senderKeyId));return{senderKeyStates:e.senderKeyStates.map(((e,r)=>r===n?t:e))}};var r=n(70717),i=n(69595);function o(e,t){return{iteration:e,seed:t}}function a(e,t){return{nextMsgIndex:e,chainKey:t}}function s(e){return l(e)}function l(e){return{senderKeyStates:e.map((e=>function(e){const t=(0,i.definedOrThrow)(e.senderSigningKey,"senderSigningKey"),n=(0,i.definedOrThrow)(e.senderMessageKeys,"senderMessageKeys"),r=(0,i.definedOrThrow)(e.senderChainKey,"senderChainKey");return{senderSigningKeyPublic:u(t.public,"public"),senderSigningKeyPrivate:t.private?(0,i.bytesOrThrow)(t.private,32,"private"):void 0,senderKeyId:(0,i.definedOrThrow)(e.senderKeyId,"senderKeyId"),unusedMsgKeys:n.map((e=>o((0,i.definedOrThrow)(e.iteration,"iteration"),(0,i.bytesOrThrow)(e.seed,50,"seed")))),senderKeyChainKey:a((0,i.definedOrThrow)(r.iteration,"iteration"),(0,i.bytesOrThrow)(r.seed,32,"seed"))}}(e)))}}function c(e){return{senderKeyId:e.senderKeyId,senderChainKey:{iteration:e.senderKeyChainKey.nextMsgIndex,seed:e.senderKeyChainKey.chainKey},senderSigningKey:{public:e.senderSigningKeyPublic,private:e.senderSigningKeyPrivate},senderMessageKeys:e.unusedMsgKeys.map((e=>{let{iteration:t,seed:n}=e;return{iteration:t,seed:n}}))}}function u(e,t){return(0,r.castToSerializedPubKey)(new Uint8Array((0,i.definedOrThrow)(e,t)))}t.FORMAT_VERSION=3},54080:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBufferMod=function(e,t){const n=new Uint8Array(e);if(t>8388607)throw(0,i.default)("Divisor is too big");let r=0;for(let e=0;e<n.length;++e)r=((r<<8)+n[e])%t;return r},t.arrayBufferToString=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))},t.arrayBuffersEqualUNSAFE=function(e,t){const n=new Uint8Array(e),r=new Uint8Array(t);return o(n,r)},t.concatBuffers=function(e){const t=e.map((e=>new Uint8Array(e))),n=t.reduce(((e,t)=>e+t.byteLength),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.byteLength)),0),r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)},t.largeStringToArrayBuffer=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e5;return new Promise((n=>{const r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);let a=0;setTimeout((function s(){const l=Math.min(a+t,r);for(;a<l;)o[a]=e.charCodeAt(a),a++;if(a===r)return void n(i);setTimeout(s,16)}),0)}))},t.stringToArrayBuffer=function(e){const t=new ArrayBuffer(e.length),n=new Uint8Array(t);let r,i;for(r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return n.buffer},t.uint8ArraysEqualUNSAFE=o;var i=r(n(82065));function o(e,t){if(e.byteLength!==t.byteLength)return!1;for(let n=0;n!==e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},43558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeIndexWithoutPreservingOrder=function(e,t){const n=e.pop();t<e.length&&(e[t]=n)}},7537:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){throw(0,i.default)(`Impossible value, the default statement should never be reached for value: ${e}`)};var i=r(n(82065))},27363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expBackoff=i,t.expDelaySec=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1;return(0,r.delayMs)(Math.floor(1e3*i(e,t,n,o)))};var r=n(55068);function i(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1;return r=0===e?n||0:2**e,Number.isFinite(t)&&r>t&&(r=t),"number"==typeof n&&Number.isFinite(n)&&r<n&&(r=n),i&&(r*=1+i*Math.random()),r}},62089:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.BASE64_DATA_URL_SCHEME=void 0,t.decodeB64=function(e){const t=c(e,43,47,61);if(t)return t.buffer;throw(0,i.default)("Base64.decode given invalid string")},t.decodeB64ToJsArray=function(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):c(e,43,47,61);return t&&Array.from(t)},t.decodeB64UrlSafe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=c(e,45,95,t?61:-1);if(n)return n.buffer;throw(0,i.default)("Base64.decode given invalid string")},t.encodeB64=a,t.encodeB64UrlSafe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s(e,45,95,t)},t.isBase64=void 0,t.randomBase64=function(e){const t=new Uint8Array(e);return self.crypto.getRandomValues(t),a(t)},t.sizeWhenB64Decoded=function(e){return Math.floor(3*e.length/4)};var i=r(n(82065));const o=3e3;t.BASE64_DATA_URL_SCHEME="data:image/jpeg;base64,";function a(e){return s(e,43,47,!0)}function s(e,t,n,r){const i=Array.isArray(e)||e instanceof ArrayBuffer?new Uint8Array(e):e;if(i.length<=o)return l(i,t,n,r);{const e=[];for(let a=0;a<i.length;a+=o)e.push(l(i.subarray(a,a+o),t,n,r));return e.join("")}}function l(e,t,n,r){const i=Math.ceil(4*e.length/3),o=4*Math.ceil(e.length/3),a=new Array(o);for(let t=0,n=0;t<o;t+=4,n+=3){const r=e[n]<<16|e[n+1]<<8|e[n+2];a[t]=r>>18,a[t+1]=r>>12&63,a[t+2]=r>>6&63,a[t+3]=63&r}for(let e=0;e<i;e++){const r=a[e];a[e]=r<26?65+r:r<52?71+r:r<62?r-4:62===r?t:n}for(let e=i;e<o;e++)a[e]=61;const s=String.fromCharCode.apply(String,a);return r?s:s.substring(0,i)}function c(e,t,n,r){let i=e.length;const o=new Int32Array(i+i%4);for(let a=0;a<i;a++){const s=e.charCodeAt(a);if(65<=s&&s<=90)o[a]=s-65;else if(97<=s&&s<=122)o[a]=s-71;else if(48<=s&&s<=57)o[a]=s+4;else if(s===t)o[a]=62;else{if(s!==n){if(s===r){i=a;break}return null!=self.ERROR&&__LOG__(4,void 0,new Error)`Found unexpected character code while decoding B64 at index ${a}, length ${i}: ${s}`,null}o[a]=63}}const a=o.length/4;for(let e=0,t=0;e<a;e++,t+=4)o[e]=o[t]<<18|o[t+1]<<12|o[t+2]<<6|o[t+3];const s=Math.floor(3*i/4),l=new Uint8Array(s);let c=0,u=0;for(;u+3<=s;c++,u+=3){const e=o[c];l[u]=e>>16,l[u+1]=e>>8&255,l[u+2]=255&e}switch(s-u){case 2:l[u]=o[c]>>16,l[u+1]=o[c]>>8&255;break;case 1:l[u]=o[c]>>16}return l}t.isBase64=e=>"string"==typeof e&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},89323:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0,t.longFitsInDouble=p,t.numUtf8Bytes=_,t.parseInt64OrThrow=V,t.parseUint64OrThrow=W;var i=r(n(82065)),o=n(65982);const a=65533,s=new Uint8Array(10),l=new Uint8Array(0);class c{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._buffer=new Uint8Array(0),this._readEndIndex=0,this._writeIndex=0,this.write=function(){for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];"string"==typeof n?e.writeString(n):"number"==typeof n?e.writeUint8(n):n instanceof c?e.writeBinary(n):n instanceof ArrayBuffer?e.writeBuffer(n):n instanceof Uint8Array&&e.writeByteArray(n)}},t instanceof ArrayBuffer?(this._buffer=new Uint8Array(t),this._readEndIndex=this._writeIndex=t.byteLength):t instanceof Uint8Array&&(this._buffer=t,this._readEndIndex=this._writeIndex=t.length),this._bytesTrashed=0,this._earliestIndex=this._readIndex=0,this._view=null,this._littleEndian=n,this._hiddenReads=0,this._hiddenWrites=0}size(){return this._readEndIndex-this._readIndex}peek(e,t){this._hiddenReads++;const n=this._readIndex,r=this._bytesTrashed;try{return e(this,t)}finally{this._hiddenReads--,this._readIndex=n-(this._bytesTrashed-r)}}advance(e){this._shiftReadOrThrow(e)}readWithViewParser(e,t,n,r){return t(this._getView(),this._shiftReadOrThrow(e),e,n,r)}readWithBytesParser(e,t,n,r){return t(this._buffer,this._shiftReadOrThrow(e),e,n,r)}readUint8(){return f(this,1,A,!1)}readInt8(){return f(this,1,A,!0)}readUint16(){return f(this,2,g,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readInt32(){return f(this,4,h,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readUint32(){return f(this,4,S,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readInt64(){return f(this,8,T,V,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readUint64(){return f(this,8,T,W,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readLong(e){return f(this,8,T,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian)}readFloat32(){return f(this,4,m,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readFloat64(){return f(this,8,I,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._littleEndian)}readVarInt(e){const t=E(this,0,y,this.size());return E(this,t,C,e)}readBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size();return 0===e?new ArrayBuffer(0):E(this,e,v)}readByteArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size();return 0===e?new Uint8Array(0):E(this,e,O)}readBinary(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;if(0===e)return new c(void 0,t);const n=E(this,e,O);return new c(n,t)}indexOf(e){if(0===e.length)return 0;const t=this._buffer,n=this._readEndIndex,r=this._readIndex;let i=0,o=r;for(let a=r;a<n;a++)if(t[a]===e[i]){if(0===i&&(o=a),i++,i===e.byteLength)return a-r-e.byteLength+1}else i>0&&(i=0,a=o);return-1}readString(e){return E(this,e,P)}ensureCapacity(e){this._maybeReallocate(this._readIndex+e)}ensureAdditionalCapacity(e){this._maybeReallocate(this._writeIndex+e)}writeToView(e,t,n,r){const i=this._shiftWriteMaybeReallocate(e);return t(this._getView(),i,e,n,r)}writeToBytes(e,t,n,r){const i=this._shiftWriteMaybeReallocate(e);return t(this._buffer,i,e,n,r)}writeUint8(e){H(e,0,256,"uint8"),b(this,1,M,e,!1)}writeInt8(e){H(e,-128,128,"signed int8"),b(this,1,M,e,!0)}writeUint16(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;H(e,0,65536,"uint16"),N(this,2,R,e,t)}writeInt16(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;H(e,-32768,32768,"signed int16"),N(this,2,D,e,t)}writeUint32(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;H(e,0,4294967296,"uint32"),N(this,4,L,e,t)}writeInt32(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;H(e,-2147483648,2147483648,"signed int32"),N(this,4,w,e,t)}writeUint64(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;H(e,0,0x10000000000000000,"uint64"),N(this,8,B,e,t)}writeInt64(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian;H(e,-0x8000000000000000,0x8000000000000000,"signed int64"),N(this,8,B,e,t)}writeFloat32(e){N(this,4,U,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian)}writeFloat64(e){N(this,8,G,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian)}writeVarInt(e){H(e,-0x8000000000000000,0x8000000000000000,"varint (signed int64)");const t=e<0,n=t?-e:e;let r=Math.floor(n/4294967296),i=n-4294967296*r;t&&(r=~r,0===i?r++:i=-i);b(this,x(r,i),k,r,i)}writeVarIntFromHexLong(e){const t=(0,o.hexLongIsNegative)(e),n=t?(0,o.negateHexLong)(e):e,r=(0,o.hexLongToHex)(n);let i=0,a=0;for(let e=0;e<o.NUM_HEX_IN_LONG;e++)i=i<<4|a>>>28,a=a<<4|(0,o.hexAt)(r,e);t&&(i=~i,0===a?i++:a=-a);b(this,x(i,a),k,i,a)}writeBinary(e){const t=e.peek((e=>e.readByteArray()));if(t.length){const e=this._shiftWriteMaybeReallocate(t.length);this._buffer.set(t,e)}}writeBuffer(e){this.writeByteArray(new Uint8Array(e))}writeByteArray(e){const t=this._shiftWriteMaybeReallocate(e.length);this._buffer.set(e,t)}writeBufferView(e){this.writeByteArray(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}writeString(e){b(this,_(e),Y,e)}writeHexLong(e){N(this,8,F,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._littleEndian)}writeBytes(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let e=0;e<t.length;e++)H(t[e],0,256,"byte");b(this,t.length,K,t)}writeAtomically(e,t){this._hiddenWrites++;let n=this._writeIndex,r=this._bytesTrashed;try{const i=e(this,t);return n=this._writeIndex,r=this._bytesTrashed,i}finally{this._hiddenWrites--,this._writeIndex=n-(this._bytesTrashed-r)}}writeWithVarIntLength(e,t){const n=this._writeIndex,r=this.writeAtomically(e,t),i=this._writeIndex;this.writeVarInt(i-n);const o=this._writeIndex-i,a=this._buffer;for(let e=0;e<o;e++)s[e]=a[i+e];for(let e=i-1;e>=n;e--)a[e+o]=a[e];for(let e=0;e<o;e++)a[n+e]=s[e];return r}static build(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=0;for(let e=0;e<t.length;e++){const n=t[e];"string"==typeof n?r+=_(n):"number"==typeof n?r++:n instanceof c?r+=n.size():n instanceof ArrayBuffer?r+=n.byteLength:n instanceof Uint8Array&&(r+=n.length)}const i=new c;return i.ensureCapacity(r),i.write.apply(i,arguments),i}_getView(){return this._view||(this._view=new DataView(this._buffer.buffer,this._buffer.byteOffset))}_shiftReadOrThrow(e){if(e<0)throw(0,i.default)("ReadError: given negative number of bytes to read");const t=this._readIndex,n=t+e;if(n>this._readEndIndex)throw(0,i.default)(t===this._readEndIndex?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");return this._readIndex=n,this._hiddenReads||(this._earliestIndex=n),t}_maybeReallocate(e){const t=this._buffer;if(e<=t.length)return e;{const n=this._earliestIndex,r=e-n,i=Math.max(r,2*(t.length-n),64),o=new Uint8Array(i);return n?(o.set(t.subarray(n)),this._bytesTrashed+=n,this._readIndex-=n,this._readEndIndex-=n,this._writeIndex-=n,this._earliestIndex=0):o.set(t),this._buffer=o,this._view=null,r}}_shiftWriteMaybeReallocate(e){const t=this._maybeReallocate(this._writeIndex+e),n=this._writeIndex;return this._writeIndex=t,this._hiddenWrites||(this._readEndIndex=t),n}}t.Binary=c;let u="",d=0;function _(e){if(e===u)return d;const t=e.length;let n=0;for(let r=0;r<t;r++){const i=e.charCodeAt(r);if(i<128)n++;else if(i<2048)n+=2;else if(i<55296||57344<=i&&i<=65535)n+=3;else if(55296<=i&&i<56320&&r+1!==t){const t=e.charCodeAt(r+1);56320<=t&&t<57344?(r++,n+=4):n+=3}else n+=3}return u=e,d=n}function p(e,t,n){const r=t>>21;if(e){const e=Boolean(2097151&t||n);return 0===r||-1===r&&e}return 0===r}function f(e,t,n,r,i){return e.readWithViewParser(t,n,r,i)}function E(e,t,n,r,i){return e.readWithBytesParser(t,n,r,i)}function A(e,t,n,r){return r?e.getInt8(t):e.getUint8(t)}function g(e,t,n,r){return e.getUint16(t,r)}function h(e,t,n,r){return e.getInt32(t,r)}function S(e,t,n,r){return e.getUint32(t,r)}function T(e,t,n,r,i){return r(e.getInt32(i?t+4:t,i),e.getInt32(i?t:t+4,i))}function m(e,t,n,r){return e.getFloat32(t,r)}function I(e,t,n,r){return e.getFloat64(t,r)}function y(e,t,n,r){const o=Math.min(r,10);let a=0,s=128;for(;a<o&&128&s;)s=e[t+a++];if(10===a&&s>1)throw(0,i.default)("ParseError: varint exceeds 64 bits");return 128&s?a+1:a}function C(e,t,n,r){let i=0,o=0,a=n;10===n&&(a--,o=1&e[t+a]);for(let n=a-1;n>=0;n--)i=i<<7|o>>>25,o=o<<7|127&e[t+n];return r(i,o)}function v(e,t,n){const r=t+e.byteOffset,i=e.buffer;return 0===r&&n===i.byteLength?i:i.slice(r,r+n)}function O(e,t,n){return e.subarray(t,t+n)}function P(e,t,n){const r=t+n;let i=[],o=null;for(let n=t;n<r;n++){i.length>5e3&&(o||(o=[]),o.push(String.fromCharCode.apply(String,i)),i=[]);const t=0|e[n];if(0==(128&t))i.push(t);else if(192==(224&t)){const o=Q(e,n+1,r);if(o){n++;const e=(31&t)<<6|63&o;e>=128?i.push(e):i.push(a)}else i.push(a)}else if(224==(240&t)){const o=Q(e,n+1,r),s=Q(e,n+2,r);if(o&&s){n+=2;const e=(15&t)<<12|(63&o)<<6|63&s;e>=2048&&!(55296<=e&&e<57344)?i.push(e):i.push(a)}else o?(n++,i.push(a)):i.push(a)}else if(240==(248&t)){const o=Q(e,n+1,r),s=Q(e,n+2,r),l=Q(e,n+3,r);if(o&&s&&l){n+=3;const e=(7&t)<<18|(63&o)<<12|(63&s)<<6|63&l;if(e>=65536&&e<=1114111){const t=e-65536;i.push(55296|t>>10,56320|1023&t)}else i.push(a)}else o&&s?(n+=2,i.push(a)):o?(n++,i.push(a)):i.push(a)}else i.push(a)}const s=String.fromCharCode.apply(String,i);return o?(o.push(s),o.join("")):s}function N(e,t,n,r,i){return e.writeToView(t,n,r,i)}function b(e,t,n,r,i){return e.writeToBytes(t,n,r,i)}function M(e,t,n,r){e[t]=r}function R(e,t,n,r,i){e.setUint16(t,r,i)}function D(e,t,n,r,i){e.setInt16(t,r,i)}function L(e,t,n,r,i){e.setUint32(t,r,i)}function w(e,t,n,r,i){e.setInt32(t,r,i)}function B(e,t,n,r,i){const o=r<0,a=o?-r:r;let s=Math.floor(a/4294967296),l=a-4294967296*s;o&&(s=~s,0===l?s++:l=-l),e.setUint32(i?t+4:t,s,i),e.setUint32(i?t:t+4,l,i)}function U(e,t,n,r,i){e.setFloat32(t,r,i)}function G(e,t,n,r,i){e.setFloat64(t,r,i)}function k(e,t,n,r,i){let o=r,a=i;const s=t+n-1;for(let n=t;n<s;n++)e[n]=128|127&a,a=o<<25|a>>>7,o>>>=7;e[s]=a}function Y(e,t,n,r){let i=t;const o=r.length;for(let t=0;t<o;t++){const n=r.charCodeAt(t);if(n<128)e[i++]=n;else if(n<2048)e[i++]=192|n>>6,e[i++]=128|63&n;else if(n<55296||57344<=n)e[i++]=224|n>>12,e[i++]=128|n>>6&63,e[i++]=128|63&n;else if(55296<=n&&n<56320&&t+1!==o){const o=r.charCodeAt(t+1);if(56320<=o&&o<57344){t++;const r=65536+((1023&n)<<10|1023&o);e[i++]=240|r>>18,e[i++]=128|r>>12&63,e[i++]=128|r>>6&63,e[i++]=128|63&r}else e[i++]=239,e[i++]=191,e[i++]=189}else e[i++]=239,e[i++]=191,e[i++]=189}}function F(e,t,n,r,i){const a=(0,o.hexLongIsNegative)(r),s=(0,o.hexLongToHex)(r);let l=0,c=0;for(let e=0;e<16;e++)l=l<<4|c>>>28,c=c<<4|(0,o.hexAt)(s,e);a&&(l=~l,0===c?l++:c=-c),e.setUint32(i?t+4:t,l,i),e.setUint32(i?t:t+4,c,i)}function K(e,t,n,r){for(let i=0;i<n;i++)e[t+i]=r[i]}function x(e,t){let n,r;for(e?(n=5,r=e>>>3):(n=1,r=t>>>7);r;)n++,r>>>=7;return n}function H(e,t,n,r){if("number"!=typeof e||e!=e||Math.floor(e)!==e||e<t||e>=n)throw(0,i.default)("string"==typeof e?`TyperError WriteError: string "${e}" is not a valid ${r}`:`TypeError WriteError: ${String(e)} is not a valid ${r}`)}function j(e,t,n){let r;r=t>=0||e?t:4294967296+t;const o=4294967296*r+(n>=0?n:4294967296+n);if(!p(e,t,n))throw(0,i.default)(`ReadError: integer exceeded 53 bits (${o})`);return o}function V(e,t){return j(!0,e,t)}function W(e,t){return j(!1,e,t)}function Q(e,t,n){if(t>=n)return 0;const r=0|e[t];return 128==(192&r)?r:0}},89738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareArrayBuffer=function(e,t){if(!e||!t)return!1;const n=new Uint8Array(e),r=new Uint8Array(t),i=n.length,o=r.length;if(i!==o)return!1;for(let e=0;e<i;e++)if(n[e]!==r[e])return!1;return!0},t.intToBytes=function(e,t){let n=t;const r=new Uint8Array(e);for(let t=e-1;t>=0;t--)r[t]=255&n,n>>>=8;return r},t.uint8ArrayToBuffer=function(e){return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)}},66911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedError=t.UnimplementedMethod=t.TimeoutError=t.HttpError=t.AggregateError=void 0,t.customError=r,t.hasSupressedQuotaExceededError=function(){return l},t.obtainErrorSummary=function(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))},t.supressQuotaExceededError=function(e){if(null==e||"QuotaExceededError"!==e.name)throw e;l=!0};const n=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function r(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;function i(n){const r=Error.call(this,n);this.message=n,r.name=e,this.name=e,t&&(this.stack=r.stack)}return i.prototype=Object.create(r?r.prototype:n),i.prototype.constructor=i,i}class i extends(r("AggregateError",!0)){constructor(e,t){super(null!=t&&t.length>0?t:function(e){return 0===e.length?"No errors":1===e.length?e[0].message:e.map((e=>"- "+e.message)).join("\n")}(e)),this.errors=e}}t.AggregateError=i;class o extends(r("TimeoutError",!1)){}t.TimeoutError=o;class a extends(r("HttpError",!1)){constructor(e,t){super(e),this.code=t}}t.HttpError=a;class s extends(r("UnimplementedMethod")){}t.UnimplementedMethod=s;let l=!1;class c extends Error{constructor(e,t){super(e),this.inner=t}}t.WrappedError=c},52924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepEqual=function e(t,n){if(t===n)return!0;if(!t||!n||"object"!=typeof t&&"object"!=typeof n)return!1;const r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;let o=!0;if(r){const r=t.length;if(r!==n.length)return!1;for(let i=0;o&&i<r;i++)o=e(t[i],n[i]);return o}const a=Object.keys(t);for(let r=0;o&&r<a.length;r++){const i=a[r];o=n.propertyIsEnumerable(i)&&e(t[i],n[i])}return o&&Object.keys(n).length===a.length}},82065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t}},66218:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.GzipWrapper=void 0,t.createDeflate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a(e)},t.inflate=function(e){return(0,o.decompressSync)(e)};var i=r(n(82065)),o=n(56856);class a extends o.Gzip{constructor(e){super(e),this._chunks=[],this.ondata=(e,t)=>{if(this._chunks.push(e),!t)return;let n=0;this._chunks.forEach((e=>{n+=e.length}));const r=new Uint8Array(n);let i=0;this._chunks.forEach((e=>{r.set(e,i),i+=e.length})),this._result=r}}push(e,t){if(null!=this._result)throw(0,i.default)("Tried to push chunk to compressor after final block");e instanceof Uint8Array?super.push(e,t):e instanceof ArrayBuffer?super.push(new Uint8Array(e),t):super.push((0,o.strToU8)(e),t)}result(){if(null==this._result)throw(0,i.default)("Tried to access result before adding final block");return this._result}}t.GzipWrapper=a},9028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},65982:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.NUM_HEX_IN_LONG=t.HEX_LOWER=void 0,t.bytesToBuffer=function(e){const t=e.buffer;return 0===e.byteOffset&&e.length===t.byteLength?t:t.slice(e.byteOffset,e.byteOffset+e.length)},t.bytesToDebugString=function(e){let t=!0,n=e.length;for(;t&&n;){const r=e[--n];t=32<=r&&r<127}return t?JSON.stringify(String.fromCharCode.apply(String,e)):s(e)},t.createHexLong=u,t.createHexLongFrom32Bits=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=E(e),i=E(t);return`${n?"-":""}0x${r}${i}`},t.hexAt=l,t.hexLongFromNumber=function(e){const t=e<0;return u(t?(-e).toString(16):e.toString(16),t)},t.hexLongIsNegative=p,t.hexLongToHex=_,t.hexOrThrow=c,t.isBiggerHexLong=function(e,t){const n=p(e),r=p(t);if(n!==r)return!n;const i=_(e)>_(t);return n?!i:i},t.negateHexLong=function(e){return p(e)?e.slice(1):"-"+e},t.parseHex=function(e){const t=c(e);if(t.length%2!=0)throw(0,i.default)(`parseHex given hex "${t}" which is not a multiple of 8-bits.`);const n=new Uint8Array(t.length>>1);for(let e=0,r=0;e<t.length;e+=2,r++)n[r]=l(t,e)<<4|l(t,e+1);return n.buffer},t.randomHex=function(e){const t=new Uint8Array(e);return self.crypto.getRandomValues(t),s(t)},t.toHex=s,t.toLowerCaseHex=function(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(a[r>>4],a[15&r])}return String.fromCharCode.apply(String,t)};var i=r(n(82065));t.NUM_HEX_IN_LONG=16;const o=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],a=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102];function s(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(o[r>>4],o[15&r])}return String.fromCharCode.apply(String,t)}function l(e,t){const n=e.charCodeAt(t);return n<=57?n-48:n<=70?10+n-65:10+n-97}function c(e){if(/[^0-9a-fA-F]/.test(e))throw(0,i.default)(`"${e}" is not a valid hex`);return e}function u(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=c(e);return f(n,16),`${t?"-":""}0x${d(n,16)}`}function d(e,t){const n=t-e.length;let r=e;for(let e=0;e<n;e++)r="0"+r;return r}function _(e){return e.substring(e.indexOf("0x")+2)}function p(e){return"-"===e[0]}function f(e,t){if(e.length>t)throw(0,i.default)(`"${e}" is longer than ${4*t} bits.`)}function E(e){if(e>4294967295||e<-4294967296)throw(0,i.default)("uint32ToLowerCaseHex given number over 32 bits");return d((e>=0?e:4294967296+e).toString(16),8)}t.HEX_LOWER=a},13897:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inflatePhoneRegex=function(e){let t;t="number"==typeof e?String(e).split("").map((e=>".".repeat(Number(e)))).join(")("):e.replace(/;|[a-zA-Z]+/g,(e=>";"===e?")(":e.split("").map((e=>{const t=e.charCodeAt(0);return t>=97?".".repeat(t-96)+"?":".".repeat(t-64)})).join(")(")));return`(${t})`}},44037:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.WA_USER_JID_SUFFIX=t.WA_USER_DOMAIN=t.WA_SERVER_JID_SUFFIX=t.WA_NEWSLETTER_JID_DOMAIN=t.SURVEY_USER_JID=t.STATUS_JID=t.PSA_JID=t.MSGR_USER_JID_SUFFIX=t.MSGR_USER_DOMAIN=t.LID_SUFFIX=t.LID_DOMAIN=t.INTEROP_USER_JID_SUFFIX=t.INTEROP_DOMAIN=t.HOSTED_SUFFIX=t.HOSTED_DOMAIN=t.DEFAULT_DEVICE_ID=t.AUTHOR_SYSTEM=t.AUTHOR_ME=void 0,t.asChatJid=function(e){return e===l?null:e},t.asMulticastJid=function(e){return null==F(e)?e:null},t.asPhoneChatJid=function(e){return e===l?null:e},t.asStatusJid=function(e){return e===l?l:null},t.authorAsPhoneUserJid=function(e){if(e===a||e===s)return null;if(!e.endsWith(h))return null;return e},t.authorAsUserJid=function(e){if(e===a||e===s)return null;return e},t.authorToUserId=function(e,t){return e===a||e===s?t:U(e)},t.createJidUtils=function(e){let{platform:t}=e;const n="msgr"===t?d:h;return{toUserJid:function(e){return`${e}${n}`},getUserDomain:function(){return n},getGroupCallDomain:function(){return"@call"}}},t.defaultDeviceJidForUser=te,t.defaultLidDeviceJidForLidUserJid=function(e){return B(e,0)},t.defaultMsgrDeviceJidForUser=function(e){return`${w(e)}:0@msgr`},t.defaultPhoneDeviceJidForUser=function(e){return`${w(e)}:0@s.whatsapp.net`},t.extractDeviceIDParts=G,t.extractDeviceId=k,t.extractFromJid=j,t.extractJidFromJidWithType=function(e){return"phoneDevice"===e.jidType||"interopDevice"===e.jidType||"lidDevice"===e.jidType||"msgrDevice"===e.jidType?e.deviceJid:"lidUser"===e.jidType||"interopUser"===e.jidType||"msgrUser"===e.jidType||"phoneUser"===e.jidType?e.userJid:"group"===e.jidType?e.groupJid:"status"===e.jidType?e.statusJid:"call"===e.jidType?e.callJid:"newsletter"===e.jidType?e.newsletterJid:"hosted"===e.jidType?e.hostedDeviceJid:(e.jidType,e.broadcastJid)},t.extractPhoneUserJid=function(e){return x(e)},t.extractUserId=U,t.extractUserJid=x,t.fullFormDeviceJidString=function(e){const{user:t,agent:n="0",device:r="0",server:i}=H(e);return`${t}.${n}:${r}@${i}`},t.getGroupDomain=function(){return c},t.getMsgrUserDomain=function(){return d},t.getServerDomain=function(){return"@s.whatsapp.net"},t.getWhatsappUserDomain=function(){return h},t.groupIdFromJid=function(e){if(e.endsWith(c))return e.slice(0,-c.length);throw(0,o.default)(`groupId called with non-group jid "${e}"`)},t.interpretAndValidateJid=V,t.interpretAsDeviceId=function(e){return e},t.interpretAsGroupJid=q,t.interpretAsNumber=function(e){return e},t.interpretAsPhoneUserJid=function(e){return e.endsWith(h)?e:null},t.interpretAsUserJid=F,t.isAuthorMe=function(e){return"@me"===e},t.isAuthorSystem=function(e){return"@system"===e},t.isLidUser=function(e){return e.endsWith(C)},t.isPrimaryDevice=function(e){return 0===k(e)},t.lidFromLidUserJid=K,t.lidOrPhoneFromUserJid=function(e){if(e.endsWith(h))return Y(e);if(e.endsWith(C))return K(e);throw(0,o.default)(`lidOrPhoneFromUserJid called with non phone or lid jid "${e}"`)},t.maybeSanitizeLogLineText=function(e){if(!e.includes("@"))return e;return e.replace(D,J)},t.parseJidParts=H,t.phoneNumberFromJid=Y,t.sanitizeJidForLogging=J,t.stripAgentIdFromPhoneDeviceJid=function(e){const{user:t,device:n="0",server:r}=H(e);return`${t}:${n}@${r}`},t.switchOnChatJidType=X,t.switchOnJidType=function(e,t){if(e===l)return t.status();return X(e,{interopUser:t.interopUser,phoneUser:t.phoneUser,msgrUser:t.msgrUser,lidUser:t.lidUser,group:t.group})},t.switchOnMsgrChatJidType=function(e,t){if(e.endsWith(d))return t.user(e);if(null!=q(e))return t.group(e);throw(0,o.default)(`Can not switch on chat jid ${e}`)},t.switchOnMulticastJidType=function(e,t){if(e===l)return t.multicast(l);return Z(e,{user:t.user,group:t.multicast})},t.switchOnPhoneChatJidType=Z,t.switchOnPhoneJidType=function(e,t){if(e===l)return t.status();return Z(e,{user:t.user,group:t.group})},t.switchOnUserChatJidType=function(e,t){return X(e,{lidUser:e=>t.user(e),interopUser:e=>t.user(e),msgrUser:e=>t.user(e),phoneUser:e=>t.user(e),group:e=>t.group(e)})},t.toBroadcastJid=function(e){return`${e}@broadcast`},t.toDeviceJid=function(e,t){return`${w(e)}:${t}${ee(e)}`},t.toGroupJid=function(e){if(e.endsWith(c))return e;return`${e}@g.us`},t.toHostedDeviceJid=function(e){if(e.endsWith(b))return e;return`${e}@hosted`},t.toLidDeviceJid=B,t.toLidUserJid=function(e){return`${e}@lid`},t.toMsgrDeviceJid=function(e,t){return`${w(e)}:${t}@msgr`},t.toMsgrUserJid=L,t.toNewsletterJid=function(e){if(e.endsWith(T))return e;return`${e}@newsletter`},t.toPhoneDeviceJid=function(e,t){return`${w(e)}:${t}@s.whatsapp.net`},t.toPhoneUserJid=function(e){return`${e}@s.whatsapp.net`},t.unsafeCoerceToChatJid=function(e){return e},t.unsafeCoerceToDeviceId=_e,t.unsafeCoerceToDeviceJid=ne,t.unsafeCoerceToGroupJid=de,t.unsafeCoerceToHostedDeviceJid=function(e){return e},t.unsafeCoerceToInteropDeviceJid=oe,t.unsafeCoerceToInteropUserJid=ce,t.unsafeCoerceToLidDeviceJid=ae,t.unsafeCoerceToMsgrDeviceJid=ie,t.unsafeCoerceToMsgrUserJid=ue,t.unsafeCoerceToNewsletterJid=function(e){return e},t.unsafeCoerceToPhoneDeviceJid=re,t.unsafeCoerceToPhoneUserJid=le,t.unsafeCoerceToUserJid=se,t.userIdFromJid=w,t.validateBroadcastJid=$,t.validateCallJid=function(e){return N.test(e)?e:null},t.validateChatJid=function(e){return Q(e)||z(e)},t.validateDeviceJid=function(e){if(I.test(e)||E.test(e)||p.test(e)||O.test(e)||R.test(e))return e;if(y.test(e))return te(e);return null},t.validateDomainJid=function(e){return"s.whatsapp.net"===e||"g.us"===e?e:null},t.validateGroupJid=z,t.validateHostedDeviceJid=function(e){return R.test(e)?e:null},t.validateMulticastJid=function(e){return W(e)||z(e)||$(e)?e:null},t.validateNewsletterJid=function(e){return m.test(e)?e:null},t.validateStatusJid=W,t.validateUserJid=Q;var i=r(n(7537)),o=r(n(82065));t.DEFAULT_DEVICE_ID=0;const a="@me";t.AUTHOR_ME=a;const s="@system";t.AUTHOR_SYSTEM=s;const l="status@broadcast";t.STATUS_JID=l;t.PSA_JID="0@s.whatsapp.net";const c="@g.us",u=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,d="@msgr";t.MSGR_USER_DOMAIN=d;t.MSGR_USER_JID_SUFFIX="msgr";const _="@interop";t.INTEROP_DOMAIN=_;t.INTEROP_USER_JID_SUFFIX="interop";const p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,f=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,E=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,A=/^([1-9][0-9]{0,19})@msgr$/,g=/^([1-9][0-9]{0,19})(:0)?@msgr$/;t.WA_SERVER_JID_SUFFIX="s.whatsapp.net";const h="@s.whatsapp.net";t.WA_USER_DOMAIN=h;const S="s.whatsapp.net";t.WA_USER_JID_SUFFIX=S;const T="@newsletter";t.WA_NEWSLETTER_JID_DOMAIN=T;const m=/^([1-9][0-9]{0,19})@newsletter$/,I=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,y=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,C="@lid";t.LID_DOMAIN=C;t.LID_SUFFIX="lid";const v=/^([1-9][0-9]{0,14})@lid$/,O=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,P=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,N=/^([0-9a-fA-F]{18,32})@call$/,b="@hosted";t.HOSTED_DOMAIN=b;const M="hosted";t.HOSTED_SUFFIX=M;const R=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[1-9][0-9]{0,1})))@hosted$/;t.SURVEY_USER_JID="16505361212@s.whatsapp.net";const D=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function L(e){return`${e}@msgr`}function w(e){if(e.endsWith(h))return e.slice(0,-h.length);if(e.endsWith(d))return e.slice(0,-d.length);if(e.endsWith(_))return e.slice(0,-_.length);if(e.endsWith(C))return e.slice(0,-C.length);throw(0,o.default)(`userIdFromJid called with non-user jid "${e}"`)}function B(e,t){return`${K(e)}:${t}@lid`}function U(e){return e.split("@")[0]}function G(e){const t=e.split("@")[0].split(":"),n=t[0],r=t[1];return{userId:n,deviceID:parseInt(r,10)}}function k(e){return G(e).deviceID}function Y(e){if(!e.endsWith(h))throw(0,o.default)(`phoneNumberFromJid called with non-user jid "${e}"`);return e.slice(0,-h.length)}function F(e){return e.endsWith(h)||e.endsWith(_)||e.endsWith(d)||e.endsWith(C)?e:null}function K(e){if(!e.endsWith(C))throw(0,o.default)(`lidFromLidUserJid called with non-LidUserJid "${e}"`);return e.slice(0,-C.length)}function x(e){const t=e.split("@");let n=t[0],r=t[1];return n=n.split(":")[0],n=n.split(".")[0],r===M&&(r=S),`${n}@${r}`}function H(e){const[t,n]=e.split("@"),[r,i]=t.split(":"),[o,a]=r.split(".");return{user:o,device:i,agent:a,server:n}}function j(e){switch(e.jidType){case"interopUser":case"lidUser":case"msgrUser":case"phoneUser":return e.userJid;case"group":return e.groupJid;case"status":return e.statusJid;case"interopDevice":case"lidDevice":case"msgrDevice":case"phoneDevice":return e.deviceJid;case"broadcast":return e.broadcastJid;case"call":return e.callJid;case"newsletter":return e.newsletterJid;case"hosted":return e.hostedDeviceJid;default:return(0,i.default)(e.jidType)}}function V(e){if(e===l)return{jidType:"status",statusJid:l};if(y.test(e))return{jidType:"phoneUser",userJid:e};if(f.test(e))return{jidType:"interopUser",userJid:e};if(A.test(e))return{jidType:"msgrUser",userJid:e};if(g.test(e)){return{jidType:"msgrUser",userJid:L(e.substr(0,e.indexOf(":")))}}return I.test(e)?{jidType:"phoneDevice",deviceJid:e}:p.test(e)?{jidType:"interopDevice",deviceJid:e}:E.test(e)?{jidType:"msgrDevice",deviceJid:e}:u.test(e)?{jidType:"group",groupJid:e.endsWith(c)?e:`${e}@g.us`}:P.test(e)?{jidType:"broadcast",broadcastJid:e}:N.test(e)?{jidType:"call",callJid:e}:v.test(e)?{jidType:"lidUser",userJid:e}:O.test(e)?{jidType:"lidDevice",deviceJid:e}:m.test(e)?{jidType:"newsletter",newsletterJid:e}:R.test(e)?{jidType:"hosted",hostedDeviceJid:e}:{jidType:"unknown"}}function W(e){return"status@broadcast"===e?e:null}function Q(e){if(y.test(e)||f.test(e)||A.test(e)||v.test(e))return e;if(g.test(e)){return L(e.substr(0,e.indexOf(":")))}return null}function $(e){return P.test(e)?e:null}function z(e){return u.test(e)?e:null}function J(e){const t=V(e);return"unknown"===t.jidType?e:"status"===t.jidType?t.statusJid:(t.jidType,j(t).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3"))}function q(e){return e.endsWith(c)?e:null}function X(e,t){if(e.endsWith(h))return t.phoneUser(e);if(e.endsWith(d))return t.msgrUser(e);if(e.endsWith(_))return t.interopUser(e);if(e.endsWith(C))return t.lidUser(e);if(null!=q(e))return t.group(e);throw(0,o.default)(`Can not switch on chat jid ${e}`)}function Z(e,t){if(e.endsWith(h))return t.user(e);if(null!=q(e))return t.group(e);throw(0,o.default)(`Can not switch on chat jid ${e}`)}function ee(e){if(e.endsWith(h))return h;if(e.endsWith(d))return d;if(e.endsWith(C))return C;throw(0,o.default)(`userDomainFromJid called with non-user jid "${e}"`)}function te(e){return`${w(e)}:0${ee(e)}`}function ne(e){return e}function re(e){return e}function ie(e){return e}function oe(e){return e}function ae(e){return e}function se(e){return e}function le(e){return e}function ce(e){return e}function ue(e){return e}function de(e){return e}function _e(e){return e}},27522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(62089),i=(0,n(45753).memoizeWithArgs)((function(e){return(0,r.encodeB64)(function(e,t){let n,r,i,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let d=1732584193,_=-271733879,p=-1732584194,f=271733878;for(let t=0;t<e.length;t+=16)n=d,r=_,i=p,a=f,d=s(d,_,p,f,e[t],7,-680876936),f=s(f,d,_,p,e[t+1],12,-389564586),p=s(p,f,d,_,e[t+2],17,606105819),_=s(_,p,f,d,e[t+3],22,-1044525330),d=s(d,_,p,f,e[t+4],7,-176418897),f=s(f,d,_,p,e[t+5],12,1200080426),p=s(p,f,d,_,e[t+6],17,-1473231341),_=s(_,p,f,d,e[t+7],22,-45705983),d=s(d,_,p,f,e[t+8],7,1770035416),f=s(f,d,_,p,e[t+9],12,-1958414417),p=s(p,f,d,_,e[t+10],17,-42063),_=s(_,p,f,d,e[t+11],22,-1990404162),d=s(d,_,p,f,e[t+12],7,1804603682),f=s(f,d,_,p,e[t+13],12,-40341101),p=s(p,f,d,_,e[t+14],17,-1502002290),_=s(_,p,f,d,e[t+15],22,1236535329),d=l(d,_,p,f,e[t+1],5,-165796510),f=l(f,d,_,p,e[t+6],9,-1069501632),p=l(p,f,d,_,e[t+11],14,643717713),_=l(_,p,f,d,e[t],20,-373897302),d=l(d,_,p,f,e[t+5],5,-701558691),f=l(f,d,_,p,e[t+10],9,38016083),p=l(p,f,d,_,e[t+15],14,-660478335),_=l(_,p,f,d,e[t+4],20,-405537848),d=l(d,_,p,f,e[t+9],5,568446438),f=l(f,d,_,p,e[t+14],9,-1019803690),p=l(p,f,d,_,e[t+3],14,-187363961),_=l(_,p,f,d,e[t+8],20,1163531501),d=l(d,_,p,f,e[t+13],5,-1444681467),f=l(f,d,_,p,e[t+2],9,-51403784),p=l(p,f,d,_,e[t+7],14,1735328473),_=l(_,p,f,d,e[t+12],20,-1926607734),d=c(d,_,p,f,e[t+5],4,-378558),f=c(f,d,_,p,e[t+8],11,-2022574463),p=c(p,f,d,_,e[t+11],16,1839030562),_=c(_,p,f,d,e[t+14],23,-35309556),d=c(d,_,p,f,e[t+1],4,-1530992060),f=c(f,d,_,p,e[t+4],11,1272893353),p=c(p,f,d,_,e[t+7],16,-155497632),_=c(_,p,f,d,e[t+10],23,-1094730640),d=c(d,_,p,f,e[t+13],4,681279174),f=c(f,d,_,p,e[t],11,-358537222),p=c(p,f,d,_,e[t+3],16,-722521979),_=c(_,p,f,d,e[t+6],23,76029189),d=c(d,_,p,f,e[t+9],4,-640364487),f=c(f,d,_,p,e[t+12],11,-421815835),p=c(p,f,d,_,e[t+15],16,530742520),_=c(_,p,f,d,e[t+2],23,-995338651),d=u(d,_,p,f,e[t],6,-198630844),f=u(f,d,_,p,e[t+7],10,1126891415),p=u(p,f,d,_,e[t+14],15,-1416354905),_=u(_,p,f,d,e[t+5],21,-57434055),d=u(d,_,p,f,e[t+12],6,1700485571),f=u(f,d,_,p,e[t+3],10,-1894986606),p=u(p,f,d,_,e[t+10],15,-1051523),_=u(_,p,f,d,e[t+1],21,-2054922799),d=u(d,_,p,f,e[t+8],6,1873313359),f=u(f,d,_,p,e[t+15],10,-30611744),p=u(p,f,d,_,e[t+6],15,-1560198380),_=u(_,p,f,d,e[t+13],21,1309151649),d=u(d,_,p,f,e[t+4],6,-145523070),f=u(f,d,_,p,e[t+11],10,-1120210379),p=u(p,f,d,_,e[t+2],15,718787259),_=u(_,p,f,d,e[t+9],21,-343485551),d=o(d,n),_=o(_,r),p=o(p,i),f=o(f,a);return new Uint8Array([255&d,d>>>8&255,d>>>16&255,d>>>24&255,255&_,_>>>8&255,_>>>16&255,_>>>24&255,255&p,p>>>8&255,p>>>16&255,p>>>24&255,255&f,f>>>8&255,f>>>16&255,f>>>24&255])}(function(e){let t;const n=[];for(n[(e.length>>2)-1]=0,t=0;t<n.length;t+=1)n[t]=0;const r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}(e),8*e.length))}),(e=>e));function o(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,r,i,a){return o((s=o(o(t,e),o(r,a)))<<(l=i)|s>>>32-l,n);var s,l}function s(e,t,n,r,i,o,s){return a(t&n|~t&r,e,t,i,o,s)}function l(e,t,n,r,i,o,s){return a(t&r|n&~r,e,t,i,o,s)}function c(e,t,n,r,i,o,s){return a(t^n^r,e,t,i,o,s)}function u(e,t,n,r,i,o,s){return a(n^(t|~r),e,t,i,o,s)}t.default=i},9612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEventLoopDelay=function(){const e=(0,r.performanceAbsoluteNow)();return new Promise((t=>{setTimeout((()=>{t((0,r.performanceAbsoluteNow)()-e)}),0)}))};var r=n(29987)},49619:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"?";if(null==e)throw(0,i.default)(`Unexpected null or undefined: ${t}`);return e};var i=r(n(82065))},25398:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=n;const r=function(){if(t===n){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=e.call(this,...i)}return t};return r.reset=()=>{t=n},r};const n={}},38672:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.compileCountryRegexes=d,t.extractDigits=function(e){const t=e.match(/\d+/g);return null!=t?t.join(""):""},t.findCC=_,t.formatPhone=p,t.formattedPhoneNumber=function(e){return p((0,a.phoneNumberFromJid)(e))},t.isPotentiallyPhoneNumber=function(e){return f.test(e)},t.isPotentiallyValid=function(e,t){if(!/^\d+$/.test(t))return!1;const n=d(e);if(!n)return!1;return"number"==typeof n.lengths?n.lengths===t.length:n.lengths.includes(t.length)},t.phoneCC=function(e){return _(e)};var i=r(n(73218)),o=n(13897),a=n(44037);const s=/^(1|2[07]|3[0-469]|4[013-9]|5[1-8]|6[0-6]|7|8[1246]|9[0-58])/,l=new Map;class c{constructor(e){let t;if(Array.isArray(e)){t=e[0];let n=e[1];null!=n&&-1!==n&&(Array.isArray(n)||(n=[n]),this._leadins=n.map((function(e){return new RegExp("^("+e+")")}))),this._formatString=e[2]}else t=e;this._regex=new RegExp(`^${(0,o.inflatePhoneRegex)(t)}$`)}testAndFormat(e){if(!this._regex.test(e)||!this._checkLeadins(e))return;if("string"==typeof this._formatString)return e.replace(this._regex,this._formatString);const t=this._regex.exec(e);return null!=t?t.slice(1).join(null!=this._formatString?"-":" "):void 0}_checkLeadins(e){return!this._leadins||this._leadins.some((function(t){return t.test(e)}))}}const u={};function d(e){if(null!=u[e])return u[e];const t=null!=i.default[e]?JSON.parse(`[${i.default[e]}]`):null;if(null==t)return null;const n=t.pop();return u[e]={lengths:n,formats:t.map((function(e){return new c(e)}))}}function _(e){const t=e.match(s);return t?t[0]:e.length>=3?e.substring(0,3):e}function p(e){let t=l.get(e);return null==t&&(t=function(e){const t=e.length>0&&"+"===e[0]?e.substring(1):e,n=_(t);if(!n)return t;const r=t.substring(n.length),i=d(n);if(!i)return"+"+n+" "+r;const o=i.formats;for(let e=0;e<o.length;e++){const t=o[e].testAndFormat(r);if(null!=t&&""!==t)return"+"+n+" "+t}return"+"+n+" "+r}(e),l.set(e,t)),t}const f=/^\+*[\d ()]+$/},22207:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.asyncChain=function(e,t){if(e.success)return t(e.value);return Promise.resolve(e)},t.asyncMapError=u,t.asyncMapResult=l,t.catchError=function(e){return function(){var t=(0,i.default)((function*(t){yield u(t,e)}));return function(){return t.apply(this,arguments)}}()},t.chain=function(e,t){if(e.success)return t(e.value);return e},t.makeError=o,t.makeResult=a,t.mapAsyncResult=function(){return s.apply(this,arguments)},t.mapError=function(e,t){if(e.success)return a(e.value);return o(t(e.error),e.payload)},t.mapResult=function(e,t){if(!e.success)return e;return a(t(e.value))},t.onResult=function(e){return t=>l(t,e)};var i=r(n(11504));function o(e,t){return null!=t?{success:!1,error:e,payload:t}:{success:!1,error:e}}function a(e){return{success:!0,value:e}}function s(){return(s=(0,i.default)((function*(e,t){const n=yield e;return n.success?a(t(n.value)):n}))).apply(this,arguments)}function l(){return c.apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e,t){if(!e.success)return e;return a(yield t(e.value))}))).apply(this,arguments)}function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e,t){if(e.success)return a(e.value);return o(yield t(e.error),e.payload)}))).apply(this,arguments)}},78494:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.ShiftTimer=void 0;var i=r(n(82065));function o(e){if(!(e>=0))throw(0,i.default)("ShiftTimer must be given delay >= 0")}t.ShiftTimer=class{constructor(e){this._timer=0,this._rafId=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0,this._run=()=>{const e=this._arg,t=this._foo;this._rafId=0,this._timer=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0,t(e)},this.onOrBefore=(e,t)=>{o(e);const n=Date.now()+e,r=this._upperBound;if(0!==r&&r<n)return;const i=this._lowerBound;0!==i&&n<i||(this._upperBound=n,this._rafId||this._timer&&!(n<this.ts)||this._setDelay(n,e,t))},this.forceRunNow=e=>{this._timer&&clearTimeout(this._timer),this._rafId&&cancelAnimationFrame(this._rafId),this._arg=e,this._run()},this.cancel=()=>{this._timer&&clearTimeout(this._timer),this._rafId&&cancelAnimationFrame(this._rafId),this._timer=0,this._rafId=0,this.ts=0,this._timerTs=0,this._upperBound=0,this._lowerBound=0,this._arg=void 0},this._foo=e}onOrBeforeRepaint(e){if(this._rafId)return;const t=Date.now(),n=this._lowerBound;if(0!==n&&t<n)return;const r=this._upperBound;(0===r||t<r)&&(this._upperBound=t),this._timer&&(clearTimeout(this._timer),this._timer=0),(!this.ts||this.ts>t)&&(this.ts=t),this._arg=e,this._rafId=requestAnimationFrame(this._run)}onOrAfter(e,t){o(e);const n=Date.now()+e,r=this._lowerBound;if(0!==r&&n<r)return;const i=this._upperBound;0!==i&&i<n||(this._lowerBound=n,(!this._timer||this.ts<n)&&this._setDelay(n,e,t))}debounce(e,t){o(e),this._debounce(Date.now(),e,t)}debounceAndCap(e,t,n){o(e),o(t);const r=Date.now(),i=r+t,a=this._lowerBound,s=this._upperBound;(0===a||a<=i)&&(0===s||i<s)&&(this._upperBound=i),this._debounce(r,e,n)}forceRunNowIfScheduled(){this._timer?(clearTimeout(this._timer),this._run()):this._rafId&&(cancelAnimationFrame(this._rafId),this._run())}isScheduled(){return 0!==this._timer||0!==this._rafId}_debounce(e,t,n){const r=e+t,i=this._lowerBound;if(0!==i&&r<i)return;const o=this.ts,a=this._upperBound;0!==a&&a<r?o<a&&this._setDelay(a,a-e,n):o<r&&this._setDelay(r,t,n)}_setDelay(e,t,n){if(this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=0),this._arg=n,this.ts=e,this._timer){const t=e-this._timerTs;if(-16<t&&t<16)return;clearTimeout(this._timer)}this._timer=setTimeout(this._run,t),this._timerTs=e}}},29987:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR_SECONDS=t.WEEK_SECONDS=t.WEEK_MILLISECONDS=t.MonotonicTimer=t.MINUTE_SECONDS=t.MINUTE_MILLISECONDS=t.MAX_INT=t.HOUR_SECONDS=t.HOUR_MILLISECONDS=t.FIVE_MINUTES=t.DEFAULT_UNIXTIME=t.DAY_SECONDS=t.DAY_MILLISECONDS=void 0,t.cappedMillisecondsUntil=A,t.castLongIntToUnixTime=function(e){return"number"!=typeof e?(0,r.hexLongIsNegative)(e)?u:c:p(e)},t.castMilliSecondsToUnixTime=f,t.castMillisTimeToUnixTime=function(e){if(null==e)return e;return e>c?f(e):p(e)},t.castToMillisTime=E,t.castToUnixTime=p,t.castUnixTimeToMillisTime=function(e){return 1e3*e},t.convertHexToDate=function(e){const t=Number.parseInt(e,16);if(Number.isFinite(t))return new Date(1e3*p(t));return null},t.daysDiff=function(e,t){const n=Math.abs(e-t);return Math.ceil(n/s)},t.delayUntil=function(e){const t=A(e);return new Promise((e=>{setTimeout(e,t)}))},t.fromMillisTime=function(e){return e},t.futureUnixTime=function(e,t){const n=null!=t?t:g();return p(Math.ceil(n+Math.max(e,0)))},t.getClockSkew=function(){return _},t.happenedWithin=function(e,t){return m(g(),e,t)},t.happenedWithinAt=m,t.isInFuture=function(e){return h(e)>0},t.isOverflowTime=function(e){return e<u||e>c},t.isWithinNext24h=function(e){return e-g()<=o},t.midnight=function(){return p((new Date).setHours(0,0,0,0)/1e3-_)},t.midnightOn=function(e){return p(I(e).setHours(0,0,0,0)/1e3-_)},t.millisTime=function(){return y()-1e3*_},t.monotonicTime=S,t.monotonicTimeSince=T,t.oldest=function(e,t){return e<t?e:t},t.pastUnixTime=function(e,t){const n=null!=t?t:g();return p(Math.ceil(n-Math.max(e,0)))},t.performanceAbsoluteNow=y,t.sameDay=function(e,t){if(Math.abs(e-t)>o)return!1;const n=d.time===e?d.day:I(e+_).getDay(),r=d.time===t?d.day:I(t+_).getDay();return d.time=t,d.day=r,n===r},t.secondsUntil=h,t.setClockSkew=function(e){_=e},t.timeSince_USE_ONLY_IF_APPROVED=function(e){return Math.max(g()-e,0)},t.timeoutFor=function(e,t){const n=g(),r=Math.max(e+t-n,0);return Math.min(1e3*r,~(1<<31))},t.toDate=I,t.toHttpHeaderDate=function(e){return I(e).toUTCString()},t.unixTime=g,t.unixTimeMs=function(){return Date.now()-1e3*_},t.unixTimeWithoutClockSkewCorrection=function(){return p(Date.now()/1e3)},t.unskewedDate_USE_ONLY_IF_APPROVED=function(){return new Date};var r=n(65982);t.MINUTE_SECONDS=60;t.FIVE_MINUTES=300;const i=3600;t.HOUR_SECONDS=i;const o=86400;t.DAY_SECONDS=o;t.WEEK_SECONDS=604800;t.YEAR_SECONDS=31536e3;t.MINUTE_MILLISECONDS=6e4;const a=36e5;t.HOUR_MILLISECONDS=a;const s=864e5;t.DAY_MILLISECONDS=s;t.WEEK_MILLISECONDS=6048e5;const l=1<<31;t.DEFAULT_UNIXTIME=l;const c=2147483647;t.MAX_INT=c;const u=-2147483647,d={time:0,day:-4};let _=0;function p(e){return Math.max(u,Math.min(0|e,c))}function f(e){return p(e/1e3)}function E(e){return e}function A(e){const t=Math.max(e-g(),0);return Math.min(1e3*t,~(1<<31))}function g(){return p(Date.now()/1e3-_)}function h(e){return Math.max(e-g(),0)}function S(){return performance.now()}function T(e){return Math.floor(performance.now()-e)}function m(e,t,n){return Math.abs(e-t)<=n}function I(e){return new Date(1e3*e)}function y(){return Date.now()}t.MonotonicTimer=class{constructor(){const e=S();this._initTime=e,this._startTime=e}reset(){this._startTime=S()}elapsed(){return T(this._startTime)}cumulative(){return T(this._initTime)}}},25303:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBoolean=function(e){return"boolean"==typeof e},t.isFunction=function(e){return"function"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e}},52210:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatArrayBuffers=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e+t.byteLength),0),i=new Uint8Array(r);let o=0;return t.forEach((e=>{i.set(new Uint8Array(e),o),o+=e.byteLength})),i.buffer}},20170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=t(e[r]),o=n.get(i);null==o?n.set(i,[e[r]]):o.push(e[r])}return Array.from(n.entries())}},77791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=[],r=e.length,i=t.length,o=Math.max(r,i);for(let a=0;a<o;a++)a<r&&n.push(e[a]),a<i&&n.push(t[a]);return n}},78957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null==e)return null;const t=e.replace(/\s+$/,"");e!==t&&Math.random()<1e-5&&(__LOG__(3,void 0,void 0,!0)`base64 sanitized due to extra whitespace`,SEND_LOGS("media-key-sanitize"));return t}},60180:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(82065));t.default=class{constructor(e){if(e<=0)throw(0,i.default)("BitArray:numBits should be positive");this._numBits=e,this._array=new Uint8Array(Math.ceil(this._numBits/8))}get(e){const[t,n]=this._getArrayIndexOffset(e);return Boolean(this._array[t]>>n&1)}set(e){const[t,n]=this._getArrayIndexOffset(e);this._array[t]|=1<<n}unset(e){const[t,n]=this._getArrayIndexOffset(e);this._array[t]&=~(1<<n)}toggle(e){const[t,n]=this._getArrayIndexOffset(e);this._array[t]^=1<<n}clear(){this._array=new Uint8Array(Math.ceil(this._numBits/8))}toArray(){const e=[];for(let t=0;t<this._numBits;t++)e.push(this.get(t));return e}toString(){return this.toArray().map((e=>e?"1":"0")).join("")}_getArrayIndexOffset(e){if(e<0||e>=this._numBits)throw(0,i.default)("BitArray:index out of bounds");const t=Math.floor(e/8);return[t,e-8*t]}}},83946:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;var i=r(n(82065)),o=n(78494);class a{constructor(e,t){this.key=e,this.value=t,this.prev=null,this.next=null}}t.LruCache=class{constructor(e){var t;this._keyToNode=new Map,this.purgeNow=()=>{for(let e=this._placeholderTail.prev;this._currentSize>this._sizeLimit&&e!==this._placeholderHead;e=e?e.prev:null){if(null==e)throw(0,i.default)("The linked list is not constructed properly.");const{key:t,value:n}=e;this._shouldEvict(t,n)&&(this.delete(t),this._onEvict&&this._onEvict(t,n))}this._onPurge&&this._onPurge(this._keyToNode)},this._sizeLimit=e.sizeLimit,this._getSize=e.getSize,this._onPurge=e.onPurge,this._shouldEvict=null!==(t=e.shouldEvict)&&void 0!==t?t:()=>!0,this._onEvict=e.onEvict,this._onAdd=e.onAdd,this._onDelete=e.onDelete,this._currentSize=0,this._placeholderHead=new a("placeholder-head",null),this._placeholderTail=new a("placeholder-tail",null),this._placeholderHead.next=this._placeholderTail,this._placeholderTail.prev=this._placeholderHead,this._purgeTimer=new o.ShiftTimer((()=>this.purgeNow()))}get(e){if(!this._keyToNode.has(e))return null;const t=this._keyToNode.get(e);if(null==t)return null;const n=t.prev,r=t.next;n&&(n.next=r),r&&(r.prev=n);const o=this._placeholderHead.next;if(null==o)throw(0,i.default)("The linked list is not constructed properly.");return this._placeholderHead.next=t,o.prev=t,t.prev=this._placeholderHead,t.next=o,t.value}has(e){return this._keyToNode.has(e)}touch(e){this.get(e)}put(e,t){0!==this._sizeLimit&&(this._getSize(t)>this._sizeLimit?__LOG__(3)`Blob size is larger than the limit of the whole store.`:(this.delete(e),this._add(e,t),this.schedulePurge()))}_add(e,t){const n=new a(e,t);this._keyToNode.set(e,n);const r=this._placeholderHead.next;if(null==r)throw(0,i.default)("The linked list is not constructed properly.");this._placeholderHead.next=n,r.prev=n,n.prev=this._placeholderHead,n.next=r,this._currentSize+=this._getSize(t),this._onAdd&&this._onAdd(e,t)}delete(e){if(!this._keyToNode.has(e))return;const t=this._keyToNode.get(e);if(null==t)return;this._currentSize-=this._getSize(t.value);const n=t.prev,r=t.next;n&&(n.next=r),r&&(r.prev=n),this._keyToNode.delete(e),this._onDelete&&this._onDelete(e,t.value)}clear(){this._keyToNode.clear(),this._currentSize=0,this._placeholderHead.next=this._placeholderTail,this._placeholderTail.prev=this._placeholderHead,this._onClear&&this._onClear()}schedulePurge(){this._purgeTimer.onOrBefore(1e3)}getCurrentSize(){return this._currentSize}getPlaceholderHead(){return this._placeholderHead}}},49910:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(49619));class o{constructor(e){this._children={},this._indices=[],e&&(this._data=e)}static fromBackwardsStrings(e,t){return e.reduce(((e,t,n)=>e.addBackwardsString(t,n)),new o(t))._optimize()}addBackwardsString(e,t){let n=e.length-1,r=this;for(;n>=0;){const i=e.charAt(n);r._addIndex(t),r=r.get(i)||r.set(i,new o),n--}return r._addIndex(t),this}static fromForwardsStrings(e,t){return e.reduce(((e,t,n)=>e.addForwardsString(t,n)),new o(t))._optimize()}addForwardsString(e,t){let n=0,r=this;for(;n<e.length;){const i=e.charAt(n);r._addIndex(t),r=r.get(i)||r.set(i,new o),n++}return r._addIndex(t),this}set(e,t){return this._children[e]=t,t}get(e){return this._children[e]}getChildren(){return Object.keys(this._children).map((e=>({prefix:e,node:(0,i.default)(this.get(e),"this.get(prefix)")})))}hasChildren(){return!function(e){for(const t in e)return!1;return!0}(this._children)}search(e){const t=this._data;if(!t)return[];let n=this;for(let t=0;t<e.length&&n;t++){const r=e[t];n=n.get(r)}if(!n)return[];return n.getIndices().map((e=>t[e]))}_addIndex(e){this._indices.push(e)}getIndices(){const e=this._indices,t=Object.keys(this._children);return 1===t.length&&0===this._indices.length?this._children[t[0]].getIndices():e}_optimize(){if(!this.hasChildren())return this;const e=Object.keys(this._children),t=this._children[e[0]]._indices;return e.forEach((e=>{this._children[e]._optimize()})),1===e.length&&this._indices.length===t.length&&(this._indices=[]),this}testOnlyGetChildrenProperty(){return this._children}testOnlyGetIndicesProperty(){return this._indices}}t.default=o},22194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(((e,n)=>e===t[n]))}},50872:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.findLink=y,t.findLinks=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!m.test(e))return[];T.lastIndex=0;const n=[];let r;for(;r=I(e);){const e=C(r,t);e&&n.push(e)}return n},t.validateEmail=function(e){const t=y(e);return!t||t.url!==e||"mailto:"!==t.scheme||null==t.username||""===t.username||null!=t.params&&""!==t.params||null!=t.anchor&&""!==t.anchor?null:t};var i=n(9228),o=r(n(28770));const a=Array.from(i.TLD).join("|"),s=/^https?:\/\/$/gi,l="\\w|[^\\s\0-]|%[0-9a-f][0-9a-f]",c=`${a}|xn--(?:${l})+`,u=`(?:${l})|(?:${l})(?:${l}|-)*(?:${l})`,d=`(?:${l}|[^\\s%])`,_=`[@!.?,(\\[{<:]*(?!${d}|#)`,p="0-9a-z!#$%&'*+/=?^_`{|}~\\-",f=`(^|\\W\\.|[^/\\w.]|_)((?:http|https)://|mailto:)?(${`\\b\\w[${p}]*(?:\\.[${p}]+)*`}@)?(${`(?!_)(?:(?:${u})\\.)+(${c})(?!\\.${u})`})(?:(?!${u})|(?=_))(?:(?=[^:/?#])|(:\\d{1,5})?(${`/${d}*?`})?(${`\\?(?!${_})${d}*?`})?(${`#${d}*?`})?(?=${_}))`,E=7,A=8,g=9,h=new Map([[34,34],[41,40],[62,60],[93,91],[125,123],[187,171],[8217,8216],[8221,8220]]),S=new Map([[34,34],[40,41],[60,62],[91,93],[123,125],[171,187],[8216,8217],[8220,8221]]),T=new RegExp(`${f}`,"ig"),m=new RegExp(`\\.(?:${c})`,"i");function I(e){try{return T.exec(e)}catch(t){return __LOG__(4,void 0,new Error,!0)`text size: ${e.length}, error: ${String(t)}`,SEND_LOGS("linkify-regex-error"),null}}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m.test(e)?(T.lastIndex=0,C(I(e),t)):null}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;const n=e[1].length;let r=e[0];const a=e.index+n,{index:l}=e,c="_"===e[1];if(c&&l-1&&/\S/.test(e.input[l-1]))return null;const u=e[5];if(u&&u.startsWith("xn--")&&!i.TLD.has(o.default.toUnicode(u)))return null;if(e[6]){const t=parseInt(e[6].slice(1),10);if("0"===e[6][1]||!(0<t&&t<65536))return null}const d=[g,A,E].find((t=>e&&e[t]))||0;if(d){const t=[];let i=e[d];"_"===i.slice(-1)&&"_"===r[a-1]&&(r=r.slice(0,-1),e[d]=i=i.slice(0,-1));let o=0,s=0;for(let e=0;e<i.length;e++){const n=i.charCodeAt(e);n===s?(s=t.pop()||0,0===s&&(o=e)):S.has(n)?(0!==s&&t.push(s),s=S.get(n)):h.has(n)||0===s&&(o=e)}if(o!==i.length-1){const t=e.slice(2,d);t.splice(3,1),r=t.filter((e=>e)).join("")+i.slice(0,o+1),T.lastIndex=a+r.length}else r=r.slice(n)}else r=r.slice(n);let _=r,p=e[2];const f=Boolean(p&&p.match(s));if(t&&!f)return null;p?p=p.toLowerCase():(p=0===_.toLowerCase().indexOf("irc.")?"irc://":0===_.toLowerCase().indexOf("ftp.")?"ftp://":e[3]?"mailto:":"http://",_=p+_);const m=e[4];return{href:_,url:r,index:a,input:e.input,scheme:p,username:e[3],domain:m,port:e[6],path:e[E],params:e[A],anchor:e[g],isHttp:f}}},45753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoizeCache=r,t.clearAllMemoizeCache=function(){n.forEach((e=>e.clear()))},t.memoizeWithArgs=function(e,t){let n;return function(){n||(n=r());const i=t(...arguments);let o=n.get(i);return null==o&&(o=e(...arguments),n.set(i,o)),o}};const n=[];function r(){const e=new Map;return n.push(e),e}},36432:(e,t)=>{"use strict";function n(e,t){const r=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];const a=t?t.apply(this,i):i[0];if(null==a)return e.apply(this,i);const s=r.cache;if(s.has(a))return s.get(a);const l=e.apply(this,i);return r.cache=s.set(a,l)||s,l};return r.cache=new(n.Cache||Map),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.Cache=Map},75993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.astralRange=void 0,t.length=function(e){const t=e.match(n);return t?t.length:0},t.substring=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;const i=e.match(n);if(!i)return"";return i.slice(Math.max(0,t),Math.max(0,r)).join("")},t.toArray=function(e){return e.match(n)||[]};const n=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g;t.astralRange=n},8450:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},51746:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSuspiciousCharacters=function(e,t,n,s){const l=e.split(".");let _,p=!1;if(l.forEach((e=>{if(p=!e.match(d),p){if(_)return null;_=e}})),null==_||p)return null;const f=[];let E=!0;const A=(0,i.toArray)(_);for(let e=0;e<A.length;e++){const t=A[e];if(E=E&&u(t),!E&&o[t]){if(f.length>=2)return null;f.push(t)}}if(E)return c(n)||c(t)||s.some((e=>function(e){return a.has(e)}(e)))?null:new Set(A);if(!f.length)return null;const g=f.filter((e=>{const i=o[e];if(null==i)return!1;if(s.some((e=>i.includes(e))))return!1;const a=new Set;for(let e=0;e<i.length;e++){const t=r.LANGUAGE_TO_REGIONS[i[e]];if(null!=t)for(let e=0;e<t.length;e++)a.add(t[e])}return!a.has(n)&&!a.has(t)}));return g.length?new Set(g):null};var r=n(5570),i=n(75993);const o={:["ast","ksf","bas","ca","cs","dua","nl","ee","ewo","fo","fr","gl","kl","hu","is","ga","dyo","kea","kkj","nmg","lkt","lag","ln","lu","mas","nnh","jgo","pt","qu","seh","sk","es","to","vai","vi","wae","cy","fy","yav","yo"],:["af","agq","bss","bfd","bas","bkv","btt","nl","igb","ewo","fr","fur","gaj","gby","kl","jab","atg","jbu","kkj","naq","ksh","ku","nmb","lmp","ln","mda","mg","mas","mzm","jgo","nin","ann","ro","sg","scn","srn","yer","tr","wa","cy","yav","yle"],:["agg","ast","az","br","ca","co","cs","nl","etr","et","fr","gl","de","tof","god","hu","tbd","geb","ksh","kup","nds","lb","arn","oc","sg","sk","es","gsw","dts","tr","tk","vo","wa","wae","fy","yll"],:["mt"],:["agq","bss","bfd","bas","bkv","btt","ddn","igb","kjy","ich","gux","haw","jab","iby","idu","jbu","kub","nmg","lv","mda","mi","mas","mql","nin","prg","gd","to","yba","yav"],:["az","crh","tr"],:["lv"],:["dsb","nv","pl","hsb"],:["bs","hr","cs","dzg","et","fi","smn","geb","khq","ses","kun","lkt","lv","lt","dsb","se","nso","prg","sr","sh","sms","sk","sl","taq","twq","tuq","hsb","wqe","dje"],:["ckl","ank","ha","ikx","kai","hia","mbu","anc","nin","pip","tal","tan","wja","wji"],:["naq"],:["naq"],:["liv"],:["fmp","dud","tmh"],:["fub","yay","bkc","bjt","bcn","bas","bsq","bmq","fue","bys","bwr","cky","fuq","ckl","asg","dbq","dnj","dgh","dow","dua","enn","ff","gby","gba","gmm","ank","gde","gkp","jgk","ha","hbb","ikx","kkj","hig","kzr","kai","kpe","nmg","hia","ffm","mbo","mbu","mif","mzm","mua","sur","anc","fuv","nin","dgi","pbi","pip","fuf","cla","sav","srr","sld","sok","tal","tan","yer","ttr","tik","kdl","tsw","vai","vut","wja","wji","fuh","gnd"],:["tzm","kab","okr","shi","tmh","taq"],:["tzm","kab","shi"],:["tzm","kab","shi","tmh","taq"],:[],:["izi","yaz","blt","vi"],:["yay","bom","bin","mfn","dzg","igb","enn","gkn","iby","ikk","ikw","izi","okr","yaz","blt","tan","tuq","vi","yo"],:["avu","mfn","igb","enn","iby","ig","ige","ikk","ikw","izi","okr","blt","tan","vi"]},a=new Set(["abq","ab","ady","av","az","ba","be","bs","bg","bua","ce","ckt","cu","cv","crh","dar","dng","myv","evn","gag","inh","kbd","xal","krc","kaa","kk","kjh","kca","ky","kv","koi","kpy","kum","lbe","lez","mk","mns","chm","mdf","mn","ttt","gld","yrk","nog","os","ru","rue","sr","sh","cjs","alt","tab","tg","tt","tkr","tk","tyv","ude","udm","uk","uz","mrj","sah"]),s=new Set(["374","994","375","387","359","995","7","383","996","389","373","976","382","381","992","993","380","998"]),l="";function c(e){return s.has(e)}function u(e){return l.includes(e)}const d=new RegExp("^[a-z0-9-]+$")},5570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LANGUAGE_TO_REGIONS=void 0;t.LANGUAGE_TO_REGIONS={fub:["237","235","234"],af:["237","27"],agq:["237"],yay:["234"],bss:["237"],agg:["675"],ast:["34"],avu:["243","211"],az:["994"],bkc:["237","241"],ksf:["237"],bfd:["237"],bjt:["221"],bcn:["234"],bas:["237"],bsq:["231"],bkv:["234"],bom:["234"],btt:["234"],bin:["234"],bmq:["226","223"],bs:["387","385","383","382","381"],fue:["229","228"],br:["33"],bys:["234"],bwr:["234"],cky:["234"],ca:["376","33","39","34"],tzm:["212"],fuq:["234"],ckl:["234"],asg:["234"],co:["33","39"],crh:["7"],hr:["387","385","383","382","381"],mfn:["234"],cs:["420","421"],dbq:["237","234"],dnj:["225","231"],dzg:["235","227"],ddn:["229"],dgh:["234"],dow:["237"],dua:["229"],nl:["297","32","599","31","1","597"],igb:["234"],etr:["675"],enn:["234"],kgy:["675"],et:["372"],ich:["234"],ee:["229","233","228"],ewo:["237"],fo:["298"],fmp:["237"],fi:["358","46"],fr:["32","229","226","257","237","1","236","242","243","235","269","253","240","33","241","509","225","352","261","223","377","227","250","221","248","41","228","678"],fur:["39"],ff:["237","224","222","221"],gaj:["675"],gl:["34"],gby:["234"],gba:["236"],gmm:["237"],de:["43","32","49","423","352","41"],tof:["675"],god:["225"],ank:["234"],gkn:["234"],gux:["229","226","227","228"],gde:["237","234"],gkp:["224"],kl:["299"],jgk:["234"],ha:["229","237","235","233","225","227","234","249","228"],haw:["1"],hbb:["234"],hu:["36"],dud:["234"],jab:["234"],iby:["234"],is:["354"],idu:["234"],ig:["240"],ige:["234"],ikx:["256"],ikk:["234"],ikq:["234"],smn:["358"],ga:["353","44"],atg:["234"],izi:["234"],dyo:["220","221"],jbu:["237","234"],kab:["213"],kea:["238"],tbd:["675"],hig:["234"],kai:["234"],kkj:["237","236","242"],kzr:["237","235"],naq:["264"],geb:["675"],okr:["234"],ksh:["49"],ses:["223"],khq:["223"],kun:["291","251"],kup:["675"],kub:["237","234"],kpe:["224","231"],nmg:["237","240"],ku:["963","90"],lkt:["1"],hia:["234"],lag:["255"],lv:["371"],lmp:["237"],ln:["242","243"],liv:[],lt:["370"],yaz:["234"],nds:["55","49","31"],dsb:["49"],lu:["243"],lb:["32","33","49","352"],mda:["234"],mb:["261"],mt:["356"],mi:["64"],arn:["56"],mas:["254","255"],ffm:["223"],mql:["229","228"],mbo:["237"],mbu:["234"],mif:["237"],mzm:["234"],mua:["237","235"],sur:["234"],nv:["1"],anc:["234"],nnh:["237"],jgo:["237"],fuv:["237","234"],nin:["234"],dgi:["226"],se:["358","46","47"],nso:["27"],ann:["234"],oc:["33","39","377","34"],pbi:["237"],pip:["234"],pl:["48"],pt:["244","55","238","240","245","853","258","351","239","670"],prg:[],fuf:["224","223","221","232"],qu:["54","591","57","593","51"],ro:["373","40"],cla:["234"],sav:["221"],sg:["236","235","243"],gd:["44"],seh:["258"],sr:["387","385","383","382","381"],sh:["387","385","383","382","381"],srr:["220","221"],sch:["39"],sld:["226"],sms:["358"],sk:["420","421"],sl:["386"],sok:["235"],es:["54","501","591","56","57","506","53","593","503","240","502","504","52","505","507","595","51","34","1","598","58"],srn:["597"],gsw:["43","33","49","423","41"],shi:["212"],tal:["234"],tmh:["223"],taq:["226","223"],tan:["234"],twq:["227"],blt:["856","84"],yer:["234"],tuq:["235","218","227","234"],ttr:["234"],tik:["237"],to:["676"],dts:["223"],kdl:["234"],tsw:["234"],tr:["90"],tk:["993"],hsb:["49"],vai:["231","232"],vi:["855","84"],vo:[],vut:["237","234"],wja:["234"],wa:["32"],wae:["43","39","423","41"],wji:["234"],cy:["44"],fy:["31"],fuh:["229","226","227"],yba:["234"],yav:["237"],yle:["675"],yll:["675"],yo:["229","234"],dje:["227"],gnd:["237"]}},35685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSuspiciousCharacters=function(e,t,n,s){const l=e.match(a),c=l&&l[1];if(null==c)return null;const u=(0,o.phoneCC)(n);let d;if("whatsapp"===t)d="";else{const e=(0,i.interpretAndValidateJid)(t.toString());d="lidUser"!==e.jidType?(0,o.phoneCC)((0,i.toPhoneUserJid)(t)):"ZZ"}const _=s.map((e=>e.toLowerCase()));return(0,r.findSuspiciousCharacters)(c,d,u,_)};var r=n(51746),i=n(44037),o=n(38672);const a=/^(?:https?:\/\/)?([^/?#]+)(?:[/?#]|$)/i},50029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castTypedArrays=function(e,t){if(t instanceof e)return t;if("string"==typeof t)return new e((0,r.decodeB64)(t));return new e(t)};var r=n(62089)},58358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatTypedArrays=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t.reduce(((e,t)=>e+t.length),n),i=new e(r);let o=0;return t.forEach((e=>{i.set(e,o),o+=e.length})),i}},78481:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.ParsableXmlNode=void 0,t.convertBytesToUint=s;var i=r(n(82065)),o=r(n(9028)),a=n(57448);function s(e,t){let n=0;for(let r=0;r<t;r++)n=256*n+e[r];return n}t.ParsableXmlNode=class{constructor(e,t){this._name=e,this._node=t,this._children=Array.isArray(t.content)?t.content.map((t=>new this.constructor(e,t))):null}name(){return this._name}node(){return this._node}hasAttr(e){return(0,o.default)(this._node.attrs,e)}assertTag(e){this._node.tag!==e&&this.throw(`to be <${e}>`)}tag(){return this._node.tag}maybeChild(e){const t=this._children;if(!t)return null;for(let n=0;n<t.length;n++)if(t[n].tag()===e)return t[n];return null}hasChild(e){return!!this.maybeChild(e)}child(e){const t=this.maybeChild(e);return t||this.throw(`to have child <${e}>`)}assertAttr(e,t){const n=this.attrString(e);n!==t&&this.throw(`to have "${e}"="${t}", but instead has "${n}"`)}attrString(e){return(0,o.default)(this._node.attrs,e)?this.decodeAsString(this._node.attrs[e]):this.throw(`to have attribute "${e}"`)}forEachAttributeKey(e){const t=this._node.attrs;Object.keys(t).forEach((t=>e(t)))}maybeAttrString(e){return this.hasAttr(e)?this.decodeAsString(this._node.attrs[e]):null}maybeAttrInt(e,t,n){return this.hasAttr(e)?this.attrInt(e,t,n):null}attrEnumValues(e,t,n){const r=new Set(t),i=this.attrString(e);if(!r.has(i)){if(null!=n)return n;const t=Array.from(r).join("|");return this.throw(`to have "${e}"={${t}} but has value "${i}"`)}return i}attrEnum(e,t){const n=this.attrString(e);if(!(0,o.default)(t,n)){const r=Object.keys(t).join("|");return this.throw(`to have "${e}"={${r}} but has value "${n}"`)}return t[n]}attrEnumOrNullIfUnknown(e,t){const n=this.attrString(e);return(0,o.default)(t,n)?t[n]:null}attrEnumOrDefault(e,t,n){return this.hasAttr(e)?this.attrEnum(e,t):n}attrInt(e,t,n){const r=this.attrString(e);return this._parseInt(r,e,t,n)}_parseInt(e,t,n,r){const i=parseInt(e,10);return Number.isNaN(i)?this.throw(`to have "${t}"={integer} but has value "${e}"`):void 0!==n&&i<n?this.throw(`to have "${t}"={at least ${n}} but has value ${i}`):void 0!==r&&i>=r?this.throw(`to have "${t}"={below ${r}} but has value ${i}`):i}forEachChild(e){const t=this._children;if(t)t.forEach((t=>e(t)));else if(null!=this._node.content)return this.throw("to have children")}forEachChildWithTag(e,t){this.forEachChild((n=>{n.tag()===e&&t(n)}))}mapChildren(e){const t=this._children;return t||null==this._node.content?t?t.map((t=>e(t))):[]:this.throw("to have children")}mapChildrenWithTag(e,t){const n=this._children;return n||null==this._node.content?n?n.filter((t=>t.tag()===e)).map((e=>t(e))):[]:this.throw("to have children")}mapFirstChild(e){const t=this._children;return t&&0!==t.length?e(t[0]):this.throw("to have children")}hasContent(){return!this._children&&!!this._node.content}hasChildren(){return null!=this._children}getChildren(){return this._children}mapAttrKeys(e){const t=this.getAttrKeys();return t&&t.length?t.map(e):[]}getAttrKeys(){return Object.keys(this._node.attrs)}hasAttrs(){return(this._node.attrs?Object.keys(this._node.attrs):[]).length>0}getNode(){return this._node}unsafeSetChildren(e){this._children=e}unsafeSetNodeContent(e){this._node.content=e}contentUint(e){return s(this.contentBytes(e),e)}contentBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(this._children)return this.throw("to have binary content, but has children instead");if(null!=this._node.content){const t=this._node.content;return-1!==e&&t.length!==e?this.throw(`to be ${e} bytes, but got ${t.length} instead`):t}return this.throw("to have content")}contentString(){return this._children?this.throw("to have string content, but has children instead"):null!=this._node.content?this._node.content:this.throw("to have content")}contentInt(e,t){const n=this.contentString();return this._parseInt(n,"content",e,t)}contentEnum(e){const t=this.contentString();if(!(0,o.default)(e,t)){const n=Object.keys(e).join("|");return this.throw(`to have content {${n}} but has value "${t}"`)}return e[t]}decodeAsString(e){if("string"!=typeof e)throw(0,i.default)(`decodeAsString: attribute is ${typeof e} not a string: ${e}`);return e}throw(e){throw new a.XmlParsingFailure(this._name,`expected <${this._node.tag}> ${e}`)}toString(){return this._node.toString()}}},78132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns:/g,"~::~xmlns:").replace(/\s*xmlns=/g,"~::~xmlns=").split("~::~"),n=t.length;let r=!1,i=0,o="",a=0;const s=["\n"];for(a=0;a<100;a++)s.push(s[a]+"    ");const l=function(e,t){const n=/^<[\w:\-.,]+/.exec(e[t-1]),r=/^<\/[\w:\-.,]+/.exec(e[t]);return null!=n&&null!=r&&n[0]===r[0]};for(a=0;a<n;a++)t[a].search(/<!/)>-1?(o+=s[i]+t[a],r=!0,(t[a].search(/-->/)>-1||t[a].search(/\]>/)>-1||t[a].search(/!DOCTYPE/)>-1)&&(r=!1)):t[a].search(/-->/)>-1||t[a].search(/\]>/)>-1?(o+=t[a],r=!1):l(t,a)?(o+=t[a],r||i--):t[a].search(/<\w/)>-1&&-1===t[a].search(/<\//)&&-1===t[a].search(/\/>/)?o=o+=r?t[a]:s[i++]+t[a]:t[a].search(/<\w/)>-1&&t[a].search(/<\//)>-1?o=o+=r?t[a]:s[i]+t[a]:t[a].search(/<\//)>-1?o=o+=r?t[a]:s[0===i?i:--i]+t[a]:t[a].search(/\/>/)>-1?o=o+=r?t[a]:s[i]+t[a]:t[a].search(/<\?/)>-1||t[a].search(/xmlns:/)>-1||t[a].search(/xmlns=/)>-1?o+=s[i]+t[a]:o+=t[a];return"\n"===o[0]?o.slice(1):o}},63260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlNode=void 0,t.attrsToString=o,t.uint8ArrayToDebugString=a;var r=n(65982);const i={};function o(e){const t=Object.keys(e);let n="";for(let r=0;r<t.length;r++){const i=t[r];n+=` ${i}="${e[i].toString()}"`}return n}function a(e){let t="";return t=0===e.length?"\x3c!-- empty binary --\x3e":e.length<50?(0,r.bytesToDebugString)(e):`\x3c!-- ${e.length} bytes --\x3e`,t}t.XmlNode=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.tag=e,this.attrs=t,this.content=n}toString(){let e="<"+this.tag;e+=o(this.attrs);const t=this.content;return Array.isArray(t)?e+=`>${t.map(String).join("")}</${this.tag}>`:t instanceof Uint8Array?e+=`>${a(t)}</${this.tag}>`:e+=null!=t?`>${String(t)}</${this.tag}>`:" />",e}}},57448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlParsingFailure=void 0;t.XmlParsingFailure=class{constructor(e,t){this.parser=e,this.reason=t}toString(){return`XmlParsingFailure: ${this.parser}: ${this.reason}`}}},53965:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.decryptAddOn=function(){return g.apply(this,arguments)},t.encryptAddOn=function(){return A.apply(this,arguments)},t.getAddOnMessageSpec=p,t.getAdditionalAuthenticatedData=f,t.getMessageMediaType=E;var i=r(n(48926)),o=n(5720),a=r(n(49619)),s=n(44053),l=n(63020),c=n(77026),u=n(8414),d=n(14356),_=n(32126);function p(e){switch(e){case"reaction":return{spec:c.Message$ReactionMessageSpec,usecase:s.UseCaseSecretModificationType.ENC_REACTION};case"poll_vote":return{spec:c.Message$PollVoteMessageSpec,usecase:s.UseCaseSecretModificationType.POLL_VOTE}}}function f(e,t){switch(e){case"poll_vote":return`${t.stanzaId}\0${t.addOnSenderJid}`}}function E(e){switch(e){case"poll_vote":return u.MEDIA_TYPE.POLL_VOTE;case"reaction":return u.MEDIA_TYPE.REACTION;default:return u.MEDIA_TYPE.NONE}}function A(){return(A=(0,i.default)((function*(e,t){try{const{messageSecret:n,iv:r,stanzaId:i,originalMessageSender:l,addOnSender:c}=t,u=(0,d.widToUserJid)(c),{spec:E,usecase:A}=(0,a.default)(p(e.type),"getAddOnMessageSpec(addOn.type)"),g=yield(0,s.createUseCaseSecret)({messageSecret:n,stanzaId:i,parentMsgOriginalSender:(0,d.widToUserJid)(l),modificationSender:u,modificationType:A}),h=(0,_.encodeProtobuf)(E,e.encode).readBuffer();return yield(0,o.gcmEncrypt)(g,r,h,f(e.type,{stanzaId:i,addOnSenderJid:u}))}catch(t){throw new l.MessageSecretErrorsWamEvent({messageSecretError:u.MESSAGE_SECRET_ERROR_TYPE.ENCRYPTION_ERROR,messageMediaType:E(e.type)}).commit(),t}}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e,t){try{const{messageSecret:n,iv:r,stanzaId:i,originalMessageSender:l,addOnSender:c}=t,u=(0,d.widToUserJid)(c),{usecase:_}=(0,a.default)(p(e.type),"getAddOnMessageSpec(addOn.type)"),E=yield(0,s.createUseCaseSecret)({messageSecret:n,stanzaId:i,parentMsgOriginalSender:(0,d.widToUserJid)(l),modificationSender:u,modificationType:_});return yield(0,o.gcmDecrypt)(E,r,e.encryptedAddOn,f(e.type,{stanzaId:i,addOnSenderJid:u}))}catch(t){throw new l.MessageSecretErrorsWamEvent({messageSecretError:u.MESSAGE_SECRET_ERROR_TYPE.DECRYPTION_ERROR,messageMediaType:E(e.type)}).commit(),t}}))).apply(this,arguments)}},45414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddonTableMode=t.AddonProcessMode=void 0;const r=n(76672).Mirrored(["Unified","Pin"]);t.AddonTableMode=r;const i=n(76672).Mirrored(["OnlineReceive","HistorySync"]);t.AddonProcessMode=i},21130:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAddonMsgProcessor=function(e){return e}},1613:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.pinMsgProcessor=void 0;var i=r(n(48926)),o=r(n(49619)),a=n(21130),s=n(1619),l=n(37653),c=n(26368),u=n(73602),d=n(15553),_=n(60562),p=n(96513),f=n(77026),E=r(n(89482));const A=(0,a.createAddonMsgProcessor)({convert:{toLegacyDBRow:e=>{if(e.type===u.MSG_TYPE.PIN_MESSAGE)return(0,p.serializePinInChatMsgData)(e);throw(0,E.default)("Only PinMsgData is allowed")},fromHistorySyncMsg:e=>{const t=(0,_.parseWebMsgInfoPinInChat)(e.webMsgInfo,e.parsedWebMsgInfo).map((e=>(0,p.deserializePinInChatMsgData)((0,p.serializePinInChat)(e))));return Promise.resolve(t)}},getParentMsgKey:e=>e.pinParentKey,updateCollection:e=>(0,s.frontendFireAndForget)("updatePinCollection",{chatId:e[0].id.remote,msgs:e}),beforeUpsert:e=>(A.updateCollection(e),Promise.resolve({result:e,upsert:e})),afterUpsert:(g=(0,i.default)((function*(e){const t=e[0].id.remote,n=yield Promise.all(e.map((e=>e.pinMessageType===f.Message$PinInChatMessage$Type.PIN_FOR_ALL?(0,d.genSystemMessage)(t,(0,o.default)(e.t,"msg.t"),(0,o.default)((0,c.getSender)(e),"getSender(msg)")):null)).filter(Boolean));return(yield(0,s.frontendSendAndReceive)("processMultipleMessages",{chatId:t,msgObjs:n,meta:{add:"after",isHistory:!1},processMessagesOrigin:"pinMessage"}))&&(yield(0,l.storeMessages)(n,t)),Promise.resolve()})),function(){return g.apply(this,arguments)})});var g;t.pinMsgProcessor=A},23041:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processHistoryMsgs=function(){return g.apply(this,arguments)},t.processMsgs=function(){return A.apply(this,arguments)};var i=r(n(48926)),o=n(41489),a=n(45414),s=n(68593),l=n(83713),c=n(64409);function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e,t,n){let{addons:r,processor:i,existingAddons:o}=n;const{upsert:a,result:s}=yield i.beforeUpsert(r,o,e);return{upsertAddons:a,finishUpsert:()=>i.afterUpsert(s,e)}}))).apply(this,arguments)}function _(){return p.apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e,t,n,r){const i=yield Promise.all((0,c.groupAddonsByProcessor)(n).map((t=>u(e,r,t)))),a=[].concat(...i.map((e=>{let{upsertAddons:t}=e;return t})));a.length&&(yield o.addonBackendTable.bulkCreateOrReplace(t,a)),yield Promise.all(i.map((e=>{let{finishUpsert:t}=e;return t()})))}))).apply(this,arguments)}function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e){if(0===e.length)return;const{storeMessageOrphans:t}=n(6751);yield t(e,(e=>(0,l.getAddonProcessor)(e.type).getParentMsgKey(e)))}))).apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){if(0===e.length)return;const t={mode:a.AddonProcessMode.OnlineReceive},n=yield(0,s.queryAddonParentMsgs)(e),{validAddons:r,orphans:i}=(0,c.collectValidAndOrphanAddons)(e,n),o=Array.from((0,c.groupAddonsByTableMode)(r)).map((e=>{let[r,i]=e;return _(t,r,i,n)}));yield Promise.all([...o,f(i)])}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){if(0===e.length)return;const t={mode:a.AddonProcessMode.HistorySync},n=new Map,r=Array.from((0,c.groupAddonsByTableMode)(e)).map((e=>{let[r,i]=e;return _(t,r,i,n)}));yield Promise.all(r)}))).apply(this,arguments)}},68593:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAddonParentKey=l,t.parseHistorySyncMsg=function(){return u.apply(this,arguments)},t.queryAddonParentMsgs=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(21193),a=n(83713),s=n(87946);function l(e){return(0,a.getAddonProcessor)(e.type).getParentMsgKey(e).toString()}function c(){return(c=(0,i.default)((function*(e){const t=new Map,n=new Set(e.map(l)),r=yield(0,s.getMsgsByMsgKey)(Array.from(n));for(const e of r)t.set(e.id.toString(),e);return t}))).apply(this,arguments)}function u(){return(u=(0,i.default)((function*(e){const t=[];return yield Promise.all(a.addonProcessors.map(function(){var n=(0,i.default)((function*(n){let{processor:r,type:i}=n;if((0,o.isUnifiedInfraEnabledForType)(i)){const n=yield r.convert.fromHistorySyncMsg(e);0!==n.length&&t.push(...n)}}));return function(){return n.apply(this,arguments)}}())),t}))).apply(this,arguments)}},41489:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addonBackendTable=void 0;var i=r(n(48926)),o=n(45414),a=n(83713),s=n(74941),l=n(73602),c=n(11333),u=r(n(89482));const d={bulkCreateOrReplace:function(){var e=(0,i.default)((function*(e,t){switch(e){case o.AddonTableMode.Pin:{const e=(0,a.getAddonProcessor)(l.MSG_TYPE.PIN_MESSAGE),n=t.map((t=>e.convert.toLegacyDBRow(t)));yield(0,s.createOrUpdatePinInChat)(t[0].id.remote,n);break}case o.AddonTableMode.Unified:throw(0,u.default)("Not supported")}}));return function(){return e.apply(this,arguments)}}(),updateAck:function(){var e=(0,i.default)((function*(e,t,n){switch(e){case o.AddonTableMode.Pin:{const e=(0,a.getAddonProcessor)(l.MSG_TYPE.PIN_MESSAGE).convert.toLegacyDBRow(t);yield(0,c.getTable)().merge(e.parentMsgKey,{ack:n});break}case o.AddonTableMode.Unified:throw(0,u.default)("Not supported")}}));return function(){return e.apply(this,arguments)}}()};t.addonBackendTable=d},21193:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isUnifiedInfraEnabledForType=function(e){switch(e){case o.MSG_TYPE.PIN_MESSAGE:return s();default:throw(0,a.default)("Unsupported addon type")}},t.isUnifiedPinAddonInfraEnabled=s;var i=n(83741),o=n(73602),a=r(n(89482));function s(){return(0,i.getABPropConfigValue)("unified_pin_addon_infra_enabled")}},83713:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t._getAddonProcessor=l,t.addonProcessors=void 0,t.getAddonProcessor=function(e){return l(e)};var i=n(1613),o=n(73602),a=r(n(89482));const s=[{type:o.MSG_TYPE.PIN_MESSAGE,processor:i.pinMsgProcessor}];function l(e){switch(e){case o.MSG_TYPE.PIN_MESSAGE:return i.pinMsgProcessor;default:throw(0,a.default)(`Message type ${e} is not supported`)}}t.addonProcessors=s},37134:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getTableModeByMsgType=function(e){switch(e){case o.MSG_TYPE.PIN_MESSAGE:return i.AddonTableMode.Pin;default:throw(0,a.default)(`${e} is not supported.`)}};var i=n(45414),o=n(73602),a=r(n(89482))},64409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectValidAndOrphanAddons=function(e,t){const n=[],i=[];for(const o of e){const e=t.get((0,r.getAddonParentKey)(o));null==e||e.type===a.MSG_TYPE.UNKNOWN?n.push(o):i.push(o)}return{orphans:n,validAddons:i}},t.groupAddonsByProcessor=function(e){const t=new Map;for(const r of e){var n;if(!t.has(r.type)){const e=(0,i.getAddonProcessor)(r.type);t.set(r.type,{processor:e,addons:[],existingAddons:[]})}null===(n=t.get(r.type))||void 0===n||n.addons.push(r)}return Array.from(t.values())},t.groupAddonsByTableMode=function(e){const t=new Map;for(const r of e){var n;const e=(0,o.getTableModeByMsgType)(r.type);t.has(e)||t.set(e,[]),null===(n=t.get(e))||void 0===n||n.push(r)}return t};var r=n(68593),i=n(83713),o=n(37134),a=n(73602)},1619:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.fireAndForgetInternalDoNotUse=a,t.frontendFireAndForget=function(e,t){a("event",e,t)},t.frontendSendAndReceive=function(e,t){return s("event",e,t)},t.sendAndReceiveInternalDoNotUse=s,t.setApi=function(e){o=e};var i=r(n(89482));let o=null;function a(e,t,n){if(!o)throw(0,i.default)("fireAndForget called before setApi!");o.fireAndForget(e,t,n)}function s(e,t,n){return o?o.sendAndReceive(e,t,n):Promise.reject((0,i.default)("sendAndReceive called before setApi!"))}},49625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.workerSafeFireAndForget=function(e,t){(0,r.fireAndForgetInternalDoNotUse)("workerSafeEvent",e,t)},t.workerSafeSendAndReceive=function(e,t){return(0,r.sendAndReceiveInternalDoNotUse)("workerSafeEvent",e,t)};var r=n(1619)},92615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIRECT_CONNECTION_FLAG=void 0,t.getBusinessProfileQueryVersion=function(){return o(i.ServerProps.webBizProfileOptions)},t.getBusinessProfileQueryVersionWithCustomBizProfileOptions=o;var r=n(56660),i=n(70997);t.DIRECT_CONNECTION_FLAG=128;function o(e){let t=247;return(0,r.bizLinkedAccountsEnabled)()&&(t|=256),e&t}},81532:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroup=function(){return d.apply(this,arguments)},t.sendQueryGroupInvite=function(e){return(0,u.queryGroupInvite)(e).then((e=>(0,i.default)({status:200},e)))},t.updateSubject=_;var i=r(n(81109)),o=r(n(48926)),a=n(25303),s=n(1619),l=n(91563),c=n(69002),u=n(37246);function d(){return(d=(0,o.default)((function*(e){__LOG__(2,void 0,void 0,void 0,["groups"])`querying server for groupMetadata of group id ${e.toLogString()}`;const t=(0,c.queryGroupJob)(e);try{const l=yield t;var n,r,i,o,a,s,u,d,p,f,E,A,g;if(null==l?void 0:l.id)return _(e,l.subject),{id:l.id,owner:l.owner,creation:l.creation,subject:l.subject,desc:l.desc,descId:l.descId,descOwner:l.descOwner,descTime:l.descTime,restrict:null!==(n=l.restrict)&&void 0!==n&&n,announce:null!==(r=l.announce)&&void 0!==r&&r,noFrequentlyForwarded:null!==(i=l.noFrequentlyForwarded)&&void 0!==i&&i,ephemeralDuration:null!==(o=l.ephemeralDuration)&&void 0!==o?o:0,membershipApprovalMode:l.membershipApprovalMode,participants:l.participants,support:null!==(a=l.support)&&void 0!==a&&a,suspended:null!==(s=l.suspended)&&void 0!==s&&s,terminated:null!==(u=l.terminated)&&void 0!==u&&u,parentGroup:l.parentGroup,isParentGroup:null!==(d=l.isParentGroup)&&void 0!==d&&d,isParentGroupClosed:null!==(p=l.isParentGroupClosed)&&void 0!==p&&p,defaultSubgroup:null!==(f=l.defaultSubgroup)&&void 0!==f&&f,generalSubgroup:null!==(E=l.generalSubgroup)&&void 0!==E&&E,incognito:null!==(A=l.incognito)&&void 0!==A&&A,isLidAddressingMode:null!==(g=l.isLidAddressingMode)&&void 0!==g&&g,allowNonAdminSubGroupCreation:l.allowNonAdminSubGroupCreation};__LOG__(3)`Store:GroupMetadata Unexpected server response`}catch(t){if(t instanceof l.ServerStatusCodeError&&t.status>=400)return{id:e,stale:!1};throw t}}))).apply(this,arguments)}function _(e,t){(0,a.isString)(t)&&(0,s.frontendFireAndForget)("updateGroupSubject",{id:e,subject:t})}},55373:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.toCoreAckTemplate=function(e){const t=(0,o.extractJidFromJidWithType)((0,a.widToJidWithType)(e.from)),n=null==e.participant?null:(0,a.widToDeviceJid)(e.participant);return(0,i.default)((0,i.default)({},e),{},{from:t,participant:n})};var i=r(n(81109)),o=n(96955),a=n(14356)},57610:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleWorkerCompatibleStanza=function(e){const{attrs:t}=e;switch(e.tag){case"notification":switch(t.type){case"w:gp2":return A((0,l.handleGroupNotification)(e)).catch((t=>h(e,t)));case"encrypt":{const t=e.content;if(!Array.isArray(t)||!t.length)break;switch(t[0].tag){case"identity":return A((0,c.handleE2eIdentityChange)(e)).catch((t=>h(e,t)))}break}}break;case"message":{const{from:t}=e.attrs;return E.default.isNewsletter(null==t?void 0:t.toString())?(0,d.default)(e).catch((t=>S(e,t))):(0,u.default)(e).catch((t=>S(e,t)))}}};var i=r(n(48926)),o=n(16581),a=r(n(46808)),s=n(12020),l=n(26458),c=n(68281),u=r(n(67865)),d=r(n(60387)),_=n(27783),p=n(11206),f=n(95160),E=r(n(27112));function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){if(!(0,f.isWorker)())return e;const t=yield e;return n(68231).WorkerOfflineResumeReporter.updateProcessedNotificationCount(),t}))).apply(this,arguments)}function h(e,t){return t instanceof o.XmppParsingFailure?((0,p.postUnknownStanzaMetric)(e),(0,s.createNackFromStanza)(e,s.NackReason.ParsingError)):(0,s.createNackFromStanza)(e,s.NackReason.UnhandledError)}function S(e,t){return t instanceof o.XmppParsingFailure?((0,p.postUnknownStanzaMetric)(e),(0,_.postIncomingMessageDropInvalidStanza)(e),(0,s.createNackFromStanza)(e,s.NackReason.ParsingError)):t instanceof a.default.DexieError?((0,_.postIncomingMessageDropDBOperationFailed)(e),__LOG__(4,void 0,new Error,!0)`handleMsg: drop incoming message due to an internal error: ${t.name}, message: ${t.message}, stack: ${t.stack}`,SEND_LOGS("incoming-message-drop-db-operation-failed",.1),(0,s.createNackFromStanza)(e,s.NackReason.DBOperationFailed)):(__LOG__(4,void 0,new Error,!0)`handleMsg: drop incoming message due to an internal error: ${t.name}, message: ${t.message}, stack: ${t.stack}`,SEND_LOGS("incoming-message-drop-internal-error",.1),(0,_.postIncomingMessageDropInternalError)(e),(0,s.createNackFromStanza)(e,s.NackReason.UnhandledError))}},85512:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.blockSendPing=function(){return s.apply(this,arguments)},t.updateClockSkew=function(e){(0,a.setClockSkew)(e)};var i=r(n(48926)),o=n(19026),a=n(29987);function s(){return(s=(0,i.default)((function*(){yield(0,o.sendPing)()}))).apply(this,arguments)}},11439:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CHAT_JID=function(e){if(!(e instanceof a.default&&(e.isUser()||e.isGroup()||e.isBroadcast())))throw(0,l.default)(`CHAT_JID: invalid jid type: ${e instanceof a.default?e.toString():"Not an instance of WID"}`);return o.WapJid.create(e.user,e.getJidServer())},t.DEVICE_JID=function(e){if(!(e instanceof a.default&&e.isUser()))throw(0,l.default)(`DEVICE_JID: invalid jid type: ${e instanceof a.default?e.toString():"Not an instance of WID"}`);if(e.isPSA())throw __LOG__(4,void 0,new Error,!0)`DEVICE_JID: invalid PSA jid`,SEND_LOGS("invalid-psa-user-jid"),(0,l.default)("USER_JID: invalid PSA jid");return o.WapJid.createJidU(e.user,c(e),e.device)},t.GROUP_CALL_JID=function(e){if(!(e instanceof a.default&&e.isGroupCall()))throw(0,l.default)(`GROUP_CALL_JID: invalid jid type: ${e instanceof a.default?e.toString():"Not an instance of WID"}`);return o.WapJid.create(e.user,s.Domains.CALL)},t.GROUP_JID=function(e){if(!(e instanceof a.default&&e.isGroup()))throw(0,l.default)(`GROUP_JID: invalid jid type: ${e instanceof a.default?e.toString():"Not an instance of WID"}`);return o.WapJid.create(e.user,s.Domains.G_US)},t.JID=function(e){if(!(e instanceof a.default))throw(0,l.default)(`JID: invalid jid type: ${e instanceof a.default?e.toString():"Not an instance of WID"}`);if(null!=e.device&&0!==e.device)return o.WapJid.createJidU(e.user,c(e),e.device);return o.WapJid.create(e.user,e.getJidServer())},t.USER_JID=function(e){if(!(e instanceof a.default&&e.isUser()))throw(0,l.default)(`USER_JID: invalid jid type: ${e instanceof a.default?e.toString():"Not an instance of WID"}`);if(e.isPSA())throw __LOG__(4,void 0,new Error,!0)`USER_JID: invalid PSA jid`,SEND_LOGS("invalid-psa-user-jid"),(0,l.default)("USER_JID: invalid PSA jid");return o.WapJid.create(e.user,e.getJidServer())},t.wapNodeToVoipXml=t.voipXmlToWapNode=void 0;var i=n(80780),o=n(53486),a=r(n(27112)),s=n(60050),l=r(n(89482));function c(e){return"lid"===e.server?o.DomainType.LID:o.DomainType.WHATSAPP}t.voipXmlToWapNode=e=>{if(!e||!Array.isArray(e)||3!==e.length)throw(0,l.default)("Invalid VOIP xml node");return function e(t){if(!t)return null;if(Array.isArray(t)){const n=t[0],r=t[1];let a;r&&Object.keys(r).map((e=>{a||(a={});let t=r[e];if(!t)throw(0,l.default)("Attribute value is null");if("object"==typeof t){if(t.type!==o.WAP_JID_SUBTYPE.JID&&!o.WAP_JID_SUBTYPE.JID_AD&&!o.WAP_JID_SUBTYPE.JID_U)throw(0,l.default)("Invalid attribute value type");t=new o.WapJid(t)}a[e]=t}));const s=t[2];let c=null;Array.isArray(s)&&s.length>0&&(c="number"==typeof s[0]?new Uint8Array(s):s.map(e).filter((e=>e)));const u=c;return new i.WapNode(n,a,u)}return t}(e)};t.wapNodeToVoipXml=e=>function e(t){const n=[];return n.push(t.tag),n.push(t.attrs||{}),Array.isArray(t.content)&&0===t.content.filter((e=>!Array.isArray(e)))?n.push(t.content):Array.isArray(t.content)?n.push(t.content.map((t=>e(t)))):null!=t.content?t.content instanceof Uint8Array?n.push(Array.from(t.content)):n.push(t.content):n.push(null),n}(e)},12020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NackReason=void 0,t.createNackFromStanza=function(e,t){var n,s,l;const c=null==e?void 0:e.tag,u=null==e||null===(n=e.attrs)||void 0===n?void 0:n.id,d=null==e||null===(s=e.attrs)||void 0===s||null===(l=s.type)||void 0===l?void 0:l.toString(),_=a.getName(t);try{var p;if(__LOG__(2)`createNackFromStanza: class: '${c}' type: '${d}' id: '${u}' reason: '${_}'`,null!=u&&null!=(null==e||null===(p=e.attrs)||void 0===p?void 0:p.from))return function(e,t){const{attrs:n}=e;if(t===a.UnrecognizedStanza)return(0,r.wap)("ack",{class:e.tag,id:n.id,to:n.from,type:n.type||r.DROP_ATTR,participant:(0,i.isSendMessageDropNackEnabled)()&&n.participant||r.DROP_ATTR,error:(0,r.INT)(t)});switch(e.tag){case"notification":return(0,r.wap)("ack",{class:"notification",id:n.id,to:n.from,type:n.type||r.DROP_ATTR,participant:n.participant||r.DROP_ATTR,error:(0,r.INT)(t)});case"message":return(0,r.wap)("ack",{class:"message",id:n.id,to:n.from,type:n.type||r.DROP_ATTR,participant:(0,i.isSendMessageDropNackEnabled)()&&n.participant||r.DROP_ATTR,error:(0,r.INT)(t)});case"receipt":return(0,r.wap)("ack",{class:"receipt",id:n.id,to:n.from,type:n.type||r.DROP_ATTR,participant:(0,i.isSendMessageDropNackEnabled)()&&n.participant||r.DROP_ATTR,error:(0,r.INT)(t)});default:return __LOG__(3,void 0,void 0,!0)`sendNack called with unsupported stanza tag: ${e.tag}`,SEND_LOGS("unsupported-nack"),(0,o.postUnknownStanzaMetric)(e),"NO_ACK"}}(e,t);__LOG__(4,void 0,new Error)`createNackFromStanza: failed: 'id' or 'form' is null for class: '${c}' type: '${d}' reason: '${_}'`,(0,o.postUnknownStanzaMetric)(e)}catch(e){var f;__LOG__(4,void 0,new Error)`createNackFromStanza: failed for class: '${c}' type: '${d}' id: '${u}' reason: '${_}'`,__LOG__(4,void 0,new Error,!0)`createNackFromStanza: failed with unhandled reason: ${null!==(f=e.message)&&void 0!==f?f:e}`,SEND_LOGS("send-nack-exception")}return"NO_ACK"};var r=n(80780),i=n(19909),o=n(11206);const a=n(76672)({ParsingError:487,UnrecognizedStanza:488,UnrecognizedStanzaClass:489,UnrecognizedStanzaType:490,InvalidProtobuf:491,MissingMessageSecret:495,SignalErrorOldCounter:496,MessageDeletedOnPeer:499,UnhandledError:500,UnsupportedAdminRevoke:550,UnsupportedLIDGroup:551,DBOperationFailed:552});t.NackReason=a},52894:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.calculateSignature=function(){return E.apply(this,arguments)},t.isValidCurveKeyPair=d,t.keyPair=function(e){let t;void 0===e?(t=new Uint8Array(32),self.crypto.getRandomValues(t)):t=new Uint8Array(e);return t[0]&=248,t[31]&=127,t[31]|=64,f({pubKey:32,privKey:t,basepoint:c},(function(e){const n=l._curve25519_donna(e.pubKey,e.privKey,e.basepoint);if(n)throw(0,s.default)(`Curve25519:keyPair Error Code ${n}`);return{pubKey:p(e.pubKey,32),privKey:t.buffer}}))},t.sharedSecret=function(e,t){return Promise.resolve().then((()=>f({sharedKey:32,pubKey:e,privKey:t},(function(e){const t=l._curve25519_donna(e.sharedKey,e.privKey,e.pubKey);if(t)throw(0,s.default)(`Curve25519:sharedSecret Error Code ${t}`);return p(e.sharedKey,32)}))))},t.toCurveKeyPair=function(e){if(d(e))return e;if(33!==e.pubKey.byteLength||32!==e.privKey.byteLength)throw(0,s.default)("Invalid key pair type");const t=new Uint8Array(32),n=new Uint8Array(32);return t.set(new Uint8Array(e.pubKey).subarray(1)),n.set(new Uint8Array(e.privKey)),{pubKey:t.buffer,privKey:n.buffer}},t.toCurveKeyPubKey=function(e){if(33!==e.byteLength)throw(0,s.default)("Invalid key type");const t=new Uint8Array(32);return t.set(new Uint8Array(e).subarray(1)),t.buffer},t.toSignalCurveKeyPair=function(e){if(function(e){return 33===e.pubKey.byteLength&&32===e.privKey.byteLength}(e))return e;if(32!==e.pubKey.byteLength||32!==e.privKey.byteLength)throw(0,s.default)("Invalid key pair type");const t=u(e.pubKey),n=new Uint8Array(32);return n.set(new Uint8Array(e.privKey)),{pubKey:t,privKey:n.buffer}},t.toSignalCurvePubKey=u,t.verifySignature=function(e,t,n){if(32!==e.byteLength)throw(0,s.default)(`Invalid public key length: ${e.byteLength}`);const r=new Uint8Array(33);if(r[0]=5,r.set(e,1),(0,o.isCryptoLibraryEnabled)())return a.default.verifySignature(r,t,n);return!1===self.libsignal.Curve.verifySignature(r,t,n)};var i=r(n(48926)),o=n(62325),a=r(n(43534)),s=r(n(89482));let l;const c=new Uint8Array(32);c[0]=9;function u(e){if(32!==e.byteLength)throw(0,s.default)("Invalid key type");const t=new Uint8Array(33);return t[0]=5,t.set(new Uint8Array(e),1),t.buffer}function d(e){return 32===e.privKey.byteLength&&32===e.pubKey.byteLength}function _(e){if("number"==typeof e)return l._malloc(e);const t=new Uint8Array(e.buffer||e),n=l._malloc(t.length);return l.HEAPU8.set(t,n),n}function p(e,t){const n=new Uint8Array(t);return n.set(l.HEAPU8.subarray(e,e+t)),n.buffer}function f(e,t){l||(l=n(43859));const r={};try{for(const t in e)r[t]=_(e[t]);return t(r)}finally{for(const e in r)l._free(r[e])}}function E(){return(E=(0,i.default)((function*(e,t){if((0,o.isCryptoLibraryEnabled)()){return yield a.default.signMsg(e.pubKey,e.privKey,t)}return self.libsignal.Curve.calculateSignature(e.privKey,t)}))).apply(this,arguments)}},42083:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getChatThreadID=function(){return T.apply(this,arguments)},t.getChatThreadIDHMAC=function(){return m.apply(this,arguments)},t.getChatThreadLoggingStateDebug=function(){},t.handleActivitiesForChatThreadLogging=function(e){var t;__LOG__(2)`chat_thread_logging: handling ${e.length} message(s)`,null===(t=p())||void 0===t||t.eventStore.handleMessages(e).catch((()=>{__LOG__(4,void 0,new Error)`chat_thread_logging: error handling activities`}))},t.initChatThreadLogging=function(){return f.apply(this,arguments)},t.setThreadDsTimeframeOffset=function(){return E.apply(this,arguments)},t.setThreadIdUserSecret=function(e){var t,n;return __LOG__(2)`chat_thread_logging: setting thread_id_user_secret`,null!==(t=null===(n=p())||void 0===n?void 0:n.metadataStore.setSecret(e))&&void 0!==t?t:Promise.resolve(!1)},t.uploadChatThreadLoggingEvents=function(){return A.apply(this,arguments)};var i=r(n(48926)),o=n(29987),a=n(83741),s=n(35334),l=n(56256),c=n(23956),u=n(80127),d=n(56333);let _=null;function p(){return null==_&&__LOG__(4,void 0,new Error)`getChatThreadLoggingState: init incomplete!`,_}function f(){return(f=(0,i.default)((function*(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=e&&(yield(0,a.getABPropConfigValue)("message_count_logging_md_enabled"));null==(yield(0,d.getChatThreadLoggingLastUploadedStartTs)())&&(yield(0,d.setChatThreadLoggingLastUploadedStartTs)(0));const n=new c.ChatThreadLoggingMetadataLocalStorage,r=t?new s.ChatThreadLoggingEventStoreImpl(n):{handleMessages:()=>Promise.resolve(),getEvent:()=>Promise.resolve(),getBeforeInclusive:()=>Promise.resolve([]),deleteBeforeInclusive:()=>Promise.resolve(0)},i=t?new l.ChatThreadLoggingEventUploaderImpl(n,r):{uploadEvents:()=>Promise.resolve(0)},o=yield n.getOffset();return null!=o&&g(o),_={metadataStore:n,eventStore:r,eventUploader:i},__LOG__(2)`chat thread logging initialized`,Promise.resolve(_)}))).apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e){var t,n;__LOG__(2)`chat_thread_logging: setting offset`;const r=null!==(t=yield null===(n=p())||void 0===n?void 0:n.metadataStore.setOffset(e))&&void 0!==t&&t;return r&&g(e),r}))).apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){var t,n,r;if(null==(yield null===(t=p())||void 0===t?void 0:t.metadataStore.getOffset()))return void __LOG__(4,void 0,new Error)`chat_thread_logging: attempting to upload but offset is unset.`;null!=(yield null===(n=p())||void 0===n?void 0:n.metadataStore.getSecret())?yield null===(r=p())||void 0===r?void 0:r.eventUploader.uploadEvents(e):__LOG__(4,void 0,new Error)`chat_thread_logging: attempting to upload but secret is unset.`}))).apply(this,arguments)}function g(e){const t=(0,o.unixTime)();let n=t-t%86400+e-t;n<0&&(n+=o.DAY_SECONDS),self.setTimeout((0,i.default)((function*(){var t;yield null===(t=p())||void 0===t?void 0:t.eventUploader.uploadEvents(),g(e)})),1e3*n)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(){const e=yield p(),t=yield null==e?void 0:e.metadataStore.getSecret();return null==t?(__LOG__(3,void 0,void 0,!0)`chat_thread_logging: cannot get user secret from the thread logging metadata store`,SEND_LOGS("ctl-secret-unset"),null):t}))).apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e,t){const n=yield h();if(null==n)return void __LOG__(3)`chat_thread_logging: cannot generate getChatThreadID because secret is unset.`;const r=(0,u.getThreadDs)(null!=t?t:(0,o.unixTime)());return(0,u.generateThreadID)(n,e,r)}))).apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){const t=yield h();return null==t?(__LOG__(3,void 0,void 0,!0)`[ctwa] labels: cannot generate getChatThreadIDHMAC because secret is unset`,SEND_LOGS("ctwa-labels-thread-id-hmac-error"),null):(0,u.generateThreadIDHMAC)(t,e)}))).apply(this,arguments)}},39026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLAG_FIELD_NAMES=t.FLAG_FIELDS=void 0,t.toMaybeBoolFlagActionType=function(e){if(!r.hasOwnProperty(e))return null;return e};const n={isCartAddClicked:!1,isCtaOnPdpClicked:!1,isCommerceViewed:!1,viaContactlessChats:!1},r=Object.freeze(n);t.FLAG_FIELDS=r;const i=Object.freeze(Object.keys(n));t.FLAG_FIELD_NAMES=i},71050:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COUNT_FIELD_NAMES=t.COUNT_FIELDS=void 0,t.toMaybeCountActionType=function(e){if(!r.hasOwnProperty(e))return null;return e};const n={profileViews:0,statusViews:0,statusReplies:0,groupMembershipReplies:0,groupPrivateReplies:0,profileReplies:0,chatOverflowClicks:0,pdpViews:0,ordersSent:0,repliesSent:0},r=Object.freeze(n);t.COUNT_FIELDS=r;const i=Object.freeze(Object.keys(n));t.COUNT_FIELD_NAMES=i},35334:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChatThreadLoggingEventStoreImpl=void 0;var i=r(n(81109)),o=r(n(48926)),a=n(78494),s=n(93040),l=n(94598),c=n(42247),u=n(39026),d=n(71050),_=n(80127),p=n(46804),f=n(71507),E=n(22582),A=n(98051),g=n(23440),h=n(3885),S=r(n(27112)),T=n(51017);t.ChatThreadLoggingEventStoreImpl=class{constructor(e,t){this.metadataStore=e,this._cachedChanges=new Map,this._updateIntervalSeconds=null!=t?t:5,this._shiftTimer=new a.ShiftTimer((()=>{this._flush()}))}handleMessages(e){var t=this;return(0,o.default)((function*(){const n=yield t.metadataStore.getOffset();if(null==n)return void __LOG__(2)`ChatThreadLoggingEventStoreImpl: handleMessages: offset unset.`;const r=yield t.metadataStore.getLastUploadedStartTs();__LOG__(2)`ChatThreadLoggingEventStoreImpl: lastUploadedStartTs=${r}`,e.forEach((e=>{if(!(0,_.shouldUpdateChatEvent)(n,e.ts,r))return;const o=(0,_.computeStartTs)(n,e.ts),a=e.chatId.toString({legacy:!0}),s=a+"_"+String(o),l=t._cachedChanges.get(s),c=null!=l?l:(0,i.default)((0,i.default)((0,i.default)({},d.COUNT_FIELDS),u.FLAG_FIELDS),{},{startTs:o,chatId:a,addMsgsSent:0,addMsgsReceived:0,addViewOnceMsgsSent:0,addViewOnceMsgsReceived:0,addViewOnceMsgsOpened:0,addCallOffersSent:0,addCallOffersReceived:0,addTotalCallDuration:0,addCommerceMsgsSent:0,addCommerceMsgsReceived:0,addPdpInquiriesSent:0,addReactionsSent:0,addReactionsReceived:0,addForwardMessagesSent:0,addForwardMessagesReceived:0,addEditedMsgsSent:0,addBotMessagesSent:0,addBotMessagesReceived:0,addBotMessagesEdited:0});null==l&&t._cachedChanges.set(s,c);const p=(0,d.toMaybeCountActionType)(e.activityType),f=(0,u.toMaybeBoolFlagActionType)(e.activityType);if(null!=p)c[p]+=1;else if(null!=f)c[f]=void 0===e.boolValue||e.boolValue;else switch(e.activityType){case"msgSend":c.addMsgsSent+=1,e.isViewOnce&&(c.addViewOnceMsgsSent+=1),!0===e.isCommerceMessage&&(c.addCommerceMsgsSent+=1),!0===e.isPdpInquiry&&(c.addPdpInquiriesSent+=1),e.isReply&&(c.repliesSent+=1),e.isReaction&&(c.addReactionsSent+=1),e.isForwarded&&(c.addForwardMessagesSent+=1),e.isEdit&&(c.addEditedMsgsSent+=1),e.isBot&&(c.addBotMessagesSent+=1);break;case"msgReceive":c.addMsgsReceived+=1,e.isViewOnce&&(c.addViewOnceMsgsReceived+=1),!0===e.isCommerceMessage&&(c.addCommerceMsgsReceived+=1),e.isReaction&&(c.addReactionsReceived+=1),e.isForwarded&&(c.addForwardMessagesReceived+=1),e.isBot&&(e.isEdit?c.addBotMessagesEdited+=1:c.addBotMessagesReceived+=1);break;case"viewOnceOpen":c.addViewOnceMsgsOpened+=1;break;case"voipCall":e.outgoing?c.addCallOffersSent+=1:c.addCallOffersReceived+=1,c.addTotalCallDuration+=e.durationInSeconds;break;default:__LOG__(3)`Passed event store info type not valid: ${e.activityType}`}})),yield t._setFlushIfNecessary()}))()}_setFlushIfNecessary(){this._shiftTimer.onOrBefore(1e3*this._updateIntervalSeconds)}_flush(){var e=this;return(0,o.default)((function*(){const t=Array.from(e._cachedChanges.values());e._cachedChanges.clear(),yield(0,l.createOrUpdateChatEvents)(t)}))()}_populateEvents(e){return(0,o.default)((function*(){const t=(0,s.bulkGetChats)(e.map((e=>(0,T.createWid)(e.chatId)))),n=t.then((e=>function(e){return Promise.all(e.map(function(){var e=(0,o.default)((function*(e){return null==e?0:(yield(0,f.getStarredMessagesForChat)((0,T.createWid)(e.id),Number.MAX_SAFE_INTEGER)).length}));return function(){return e.apply(this,arguments)}}()))}(e))),r=t.then((e=>function(e){return(0,p.bulkGetIsContactABusiness)(e.map((e=>null==e?null:(0,T.createWid)(e.id))))}(e))),a=t.then((e=>function(e){return(0,E.bulkGetGroupMetadata)(e.map((e=>null==e?null:(0,T.createWid)(e.id))))}(e))),l=t.then((function(e){return(0,g.getParticipantTable)().bulkGet(e.map((e=>null==e?"":(0,T.createWid)(e.id).toString())))})),[u,d,m,I,y]=yield Promise.all([t,n,r,a,l]);return Promise.all(e.map(function(){var e=(0,o.default)((function*(e,t){var n,r,o,a,s,l,p;const f=u[t],E=S.default.isGroup(e.chatId),g=I[t],C=E?{isAGroup:E,groupSize:null!==(n=null===(r=y[t])||void 0===r||null===(o=r.participants)||void 0===o?void 0:o.length)&&void 0!==n?n:1,groupType:null==g?A.GroupType.DEFAULT:(0,A.getGroupTypeFromGroupMetadata)(g)}:{isAGroup:E,isAContact:yield(0,c.isAddressBookContact)(e.chatId)},v=(0,T.createWid)(e.chatId),O=(null!==(a=null==f?void 0:f.pin)&&void 0!==a?a:0)>0,P=null!==(s=null==f?void 0:f.archive)&&void 0!==s&&s,N=d[t],b=null!==(l=null==f?void 0:f.unreadCount)&&void 0!==l?l:0,M=0!==(null!==(p=null==f?void 0:f.muteExpiration)&&void 0!==p?p:0),R=m[t]?yield(0,_.getBizCatalogType)(v):null,D=S.default.isLid(e.chatId)||!0===(null==g?void 0:g.defaultSubgroup)&&!0===(null==g?void 0:g.incognito),L=(0,h.isMeAccount)(v),w=v.isBot();return(0,i.default)((0,i.default)({},e),{},{isPinned:O,isArchived:P,contactInfo:C,messagesStarred:N,messagesUnread:b,isMuted:M,bizCatalogType:R,isPnhEnabledChat:D,isMessageYourself:L,isUserAgent:w})}));return function(){return e.apply(this,arguments)}}()))}))()}getEvent(e,t){var n=this;return(0,o.default)((function*(){n._cachedChanges.size>0&&(yield n._flush());const r=yield(0,l.getChatEvent)(e,t);return null==r?null:(yield n._populateEvents([r]))[0]}))()}getBeforeInclusive(e){var t=this;return(0,o.default)((function*(){return t._cachedChanges.size>0&&(yield t._flush()),t._populateEvents(yield(0,l.getBeforeInclusive)(e))}))()}deleteBeforeInclusive(e){var t=this;return(0,o.default)((function*(){return t._cachedChanges.size>0&&(yield t._flush()),(0,l.deleteBeforeInclusive)(e)}))()}}},56256:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChatThreadLoggingEventUploaderImpl=void 0;var i=r(n(48926)),o=r(n(49619)),a=n(29987),s=n(47710),l=n(39026),c=n(71050),u=n(80127),d=n(98051),_=n(8414);t.ChatThreadLoggingEventUploaderImpl=class{constructor(e,t){this.eventStore=t,this.metadataStore=e}uploadEvents(e){var t=this;return(0,i.default)((function*(){var n,r;const p=null===(n=null==e?void 0:e.purgeAfter)||void 0===n||n,f=yield t.metadataStore.getOffset();if(null==f)return __LOG__(3)`ChatThreadLoggingBatchEventUploader: offset not in store!`,-1;const E=null!==(r=null==e?void 0:e.lastStartTs)&&void 0!==r?r:(0,u.computeStartTs)(f,(0,a.unixTime)()-a.DAY_SECONDS);if(null==t.secret){const e=yield t.metadataStore.getSecret();if(null==e)return __LOG__(3)`ChatThreadLoggingBatchEventUploader: secret not in store!`,-1;t.secret=e}const A=yield t.eventStore.getBeforeInclusive(E);try{yield Promise.all(A.map(function(){var e=(0,i.default)((function*(e){const n=(0,u.getThreadDs)(e.startTs),r=e.contactInfo,i=new s.ChatMessageCountsWamEvent({messagesSent:e.msgsSent,messagesReceived:e.msgsReceived,viewOnceMessagesSent:e.viewOnceMsgsSent,viewOnceMessagesReceived:e.viewOnceMsgsReceived,viewOnceMessagesOpened:e.viewOnceMessagesOpened,threadDs:n,threadId:yield(0,u.generateThreadID)((0,o.default)(t.secret,"_this.secret"),e.chatId,n),isAGroup:e.contactInfo.isAGroup,groupSize:r.isAGroup?r.groupSize:void 0,isAContact:r.isAGroup?void 0:r.isAContact,isArchived:e.isArchived,isPinned:e.isPinned,messagesStarred:e.messagesStarred,messagesUnread:e.messagesUnread,chatMuted:e.isMuted?_.CHAT_MUTED_TYPE.MUTED_NO_NOTIFICATIONS:_.CHAT_MUTED_TYPE.NOT_MUTED,callOffersSent:e.callOffersSent,callOffersReceived:e.callOffersReceived,totalCallDuration:e.totalCallDuration,typeOfGroup:null!=e.contactInfo.groupType?(0,d.groupTypeToWamEnum)(e.contactInfo.groupType):void 0,isPnhEnabledChat:e.isPnhEnabledChat,reactionsSent:e.reactionsSent,reactionsReceived:e.reactionsReceived,isMessageYourself:e.isMessageYourself,forwardMessagesSent:e.forwardMessagesSent,forwardMessagesReceived:e.forwardMessagesReceived,editedMsgsSent:e.editedMsgsSent,totalMessageToAgentCnt:e.botMessagesSent,totalMessageFromAgentCnt:e.botMessagesReceived,totalMessageEditsFromAgentCnt:e.botMessagesEdited,isUserAgent:e.isUserAgent});c.COUNT_FIELD_NAMES.forEach((t=>{i[t]=e[t]})),l.FLAG_FIELD_NAMES.forEach((t=>{i[t]=e[t]})),i.commit()}));return function(){return e.apply(this,arguments)}}()))}catch(e){__LOG__(4,void 0,new Error,!0)`chat_thread_logging: error uploading events: ${e.toString()}`,SEND_LOGS("thread-logging-upload-failure")}if(p){const e=yield t.eventStore.deleteBeforeInclusive(E);e!==A.length&&__LOG__(4,void 0,new Error)`uploadEvents: uploaded ${A.length} events but only deleted ${e} (they should be the same!)`}return yield t.metadataStore.setLastUploadedStartTs(E),A.length}))()}}},23956:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChatThreadLoggingMetadataLocalStorage=void 0;var i=r(n(48926)),o=n(62089),a=n(56333);t.ChatThreadLoggingMetadataLocalStorage=class{setOffset(e){return(0,i.default)((function*(){return yield(0,a.setChatThreadLoggingOffset)(e),!0}))()}getOffset(){return(0,a.getChatThreadLoggingOffset)()}setSecret(e){return(0,i.default)((function*(){return yield(0,a.setChatThreadLoggingSecretB64)((0,o.encodeB64)(e)),!0}))()}getSecret(){return(0,i.default)((function*(){const e=yield(0,a.getChatThreadLoggingSecretB64)();return null==e?null:(0,o.decodeB64)(e)}))()}setLastUploadedStartTs(e){return(0,i.default)((function*(){return yield(0,a.setChatThreadLoggingLastUploadedStartTs)(e),!0}))()}getLastUploadedStartTs(){return(0,i.default)((function*(){const e=yield(0,a.getChatThreadLoggingLastUploadedStartTs)();return null!=e?e:0}))()}}},80127:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.computeStartTs=S,t.generateThreadID=function(){return g.apply(this,arguments)},t.generateThreadIDHMAC=function(){return h.apply(this,arguments)},t.getBizCatalogType=function(){return T.apply(this,arguments)},t.getThreadDs=function(e){return(0,s.toDate)((0,s.castToUnixTime)(e-8*s.HOUR_SECONDS)).toISOString().split("T")[0].replace(/-/g,"/")},t.isCommerceMessage=function(e){var t;const n=new Set([d.MSG_TYPE.PRODUCT,d.MSG_TYPE.ORDER,d.MSG_TYPE.LIST]);return n.has(e.type)||n.has(null===(t=e.quotedMsg)||void 0===t?void 0:t.type)||!(null==e.matchedText||""===e.matchedText||(r=e.matchedText,!(0,l.matchCatalogUrl)(r)&&!(0,l.matchProductUrl)(r)))||e.type===d.MSG_TYPE.NATIVE_FLOW&&(e.nativeFlowName===u.default.ORDER_DETAILS||e.nativeFlowName===u.default.ORDER_STATUS);var r},t.shouldIncrementMsgSendAndReceive=function(e){if([d.MSG_TYPE.KEEP_IN_CHAT].includes(e.type))return!1;return!0},t.shouldUpdateChatEvent=function(e,t,n){return S(e,t)>n};var i=r(n(48926)),o=n(62089),a=n(13155),s=n(29987),l=n(42017),c=n(83141),u=r(n(30266)),d=n(73602),_=n(39235);const p=new TextEncoder,f=e=>p.encode(e).buffer;function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e,t){const n=yield(0,a.hmacSha256)(e,t);return(0,o.encodeB64)(n)}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e,t,n){return E(e,f(t+n))}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e,t){return E(e,f(t))}))).apply(this,arguments)}function S(e,t){const n=t%s.DAY_SECONDS,r=t-n;return n>=e?r+e:r-s.DAY_SECONDS+e}function T(){return(T=(0,i.default)((function*(e){var t,n;let r;try{r=yield(0,_.queryBusinessProfile)([{wid:e}])}catch(e){return __LOG__(4,!0,new Error,!0)`Thread Logging: Failed to query business profile to set "biz_catalog_type"`,SEND_LOGS("query-business-profile-fail"),null}const i=r[0];if(!i)return null;const o=null===(t=i.profile)||void 0===t||null===(n=t.profile_options)||void 0===n?void 0:n.commerce_experience;return o===c.COMMERCE_EXPERIENCE_TYPES.CATALOG?"native":o===c.COMMERCE_EXPERIENCE_TYPES.SHOP?"shop":null}))).apply(this,arguments)}},2537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addOnProviders=void 0,t.getAddOnProviderForFutureproofMsg=function(e){return l.find((t=>t.matchesFutureproof(e)))},t.getAddOnProviderForMsg=function(e){return l.find((t=>t.matches(e)))},t.getProviderForAddOnType=function(e){var t;return null!==(t=l.find((t=>t.type===e)))&&void 0!==t?t:null};var r=n(29724),i=n(45929),o=n(19563),a=n(47828),s=n(79441);const l=[a.pollVotesAddOnProvider,r.keepInChatAddOnProvider,s.reactionsAddOnProvider,i.messageEditAddOnProvider,o.pinInChatAddOnProvider];t.addOnProviders=l},29724:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.keepInChatAddOnProvider=void 0;var i=r(n(48926)),o=n(1619),a=n(98263),s=n(22666),l=n(25882),c=n(73602);const u={type:s.MessageAddOnType.KeepInChat,matches:e=>e.type===c.MSG_TYPE.KEEP_IN_CHAT,matchesFutureproof:e=>e.type===c.MSG_TYPE.UNKNOWN&&e.futureproofType===c.MSG_TYPE.KEEP_IN_CHAT,canRenderInUi:()=>!0,processOrphansForNewMsg:(e,t)=>(0,i.default)((function*(){const e=t.map((e=>e.parsedMsgPayload)),n=(0,a.runKeepInChatTieBreaker)(e);if(__LOG__(2)`keepInChatAddOnProvider: found orphan`,null!=n){const e=(0,l.msgDataFromMsgModel)(n);yield(0,o.frontendSendAndReceive)("processKeepInChatMessage",{keepInChatMessage:e,allowNotification:!1})}}))()};t.keepInChatAddOnProvider=u},98297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapOrphansToProviders=function(e){const t=new Map;for(const i of e){var n;const e=(0,r.getProviderForAddOnType)(i.type);if(!e)continue;const o=null!==(n=t.get(e))&&void 0!==n?n:[];o.push(i),t.set(e,o)}return t};var r=n(2537)},88930:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.markAsReadForTable=function(e,t){return(0,a.getStorage)().lock([e],function(){var e=(0,o.default)((function*(e){let[n]=e;const r=yield n.anyOf(["msgKey"],t);return 0!==r.length&&(yield n.bulkCreateOrReplace(r.map((e=>(0,i.default)((0,i.default)({},e),{},{read:!0}))))),r.map((e=>{let{msgKey:t}=e;return s.default.from(t)}))}));return function(){return e.apply(this,arguments)}}())};var i=r(n(81109)),o=r(n(48926)),a=n(74557),s=r(n(60001))},45929:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.messageEditAddOnProvider=void 0;var i=r(n(48926)),o=n(7103),a=n(22666),s=n(68214),l=n(37855),c=n(73602);const u={type:a.MessageAddOnType.MessageEdit,matches:e=>e.type===c.MSG_TYPE.PROTOCOL&&"message_edit"===e.subtype,matchesFutureproof:e=>e.type===c.MSG_TYPE.UNKNOWN&&e.futureproofType===c.MSG_TYPE.PROTOCOL&&"message_edit"===e.futureproofSubtype,canRenderInUi(e){const t=e.editMsgType?(0,l.getMsgEditType)(e.editMsgType):l.MsgEditType.TextEdit;if(!t)return!1;switch(t){case l.MsgEditType.TextEdit:return(0,s.receiveTextEditEnabled)();case l.MsgEditType.CaptionEdit:return(0,s.receiveCaptionEditEnabled)()}},processOrphansForNewMsg:(e,t)=>(0,i.default)((function*(){var n;const r=null===(n=(yield(0,o.processEditProtocolMsgs)(t.map((e=>e.parsedMsgPayload)))).find((t=>t.parentMsg.id.equals(e.id))))||void 0===n?void 0:n.editedMsgData;r&&Object.assign(e,r)}))()};t.messageEditAddOnProvider=u},19563:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.pinInChatAddOnProvider=void 0;var i=r(n(48926)),o=n(52626),a=n(22666),s=n(73602),l=n(15553),c=n(61627);const u={type:a.MessageAddOnType.PinMessage,matches:e=>e.type===s.MSG_TYPE.PIN_MESSAGE,matchesFutureproof:e=>e.type===s.MSG_TYPE.UNKNOWN&&e.futureproofType===s.MSG_TYPE.PIN_MESSAGE,canRenderInUi:()=>(0,c.isPinnedMessagesM1ReceiverEnabled)(),processOrphansForNewMsg:(e,t)=>(0,i.default)((function*(){const n=t.map((e=>e.parsedMsgPayload));yield(0,l.processPinMessages)(e.id.remote,n)}))(),updateAcks:(e,t)=>(0,o.updateAddOnAcksForTable)("pinned-messages",e,t)};t.pinInChatAddOnProvider=u},47828:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.pollVotesAddOnProvider=void 0;var i=r(n(81109)),o=r(n(48926)),a=n(88930),s=n(82740),l=n(52626),c=n(22666),u=n(73602);const d={type:c.MessageAddOnType.PollVote,matches:e=>e.type===u.MSG_TYPE.POLL_UPDATE&&"poll_vote"===e.subtype,matchesFutureproof:e=>e.type===u.MSG_TYPE.UNKNOWN&&e.futureproofType===u.MSG_TYPE.POLL_UPDATE,canRenderInUi:()=>!0,processOrphansForNewMsg:(e,t)=>(0,o.default)((function*(){const e=new Map;for(const n of t)e.set(n.msgKey,n);return(yield(0,s.processPollUpdateMsgs)(t.map((e=>e.parsedMsgPayload)))).map((t=>{var n,r;const o=t.read||null!==(n=null===(r=e.get(t.msgKey.toString()))||void 0===r?void 0:r.read)&&void 0!==n&&n;return t.read===o?t:(0,i.default)((0,i.default)({},t),{},{read:o})}))}))(),updateAcks:(e,t)=>(0,l.updateAddOnAcksForTable)("poll-votes",e,t),markAsRead:e=>(0,a.markAsReadForTable)("poll-votes",e.map(String))};t.pollVotesAddOnProvider=d},68389:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processOrphansForNewMsg=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=r(n(85564)),a=n(30593),s=n(98297),l=n(73482);function c(){return(c=(0,i.default)((function*(e){const t=yield(0,a.getMessageOrphansByParentMsgKey)(e.id);t.length&&__LOG__(2)`processOrphansForNewMsg: found orphans`;const n=yield(0,s.mapOrphansToProviders)(t),r=[];for(const[t,i]of n.entries())r.push(t.processOrphansForNewMsg(e,i));yield Promise.all(r);const i=(0,o.default)(Array.from(n.values())).map((e=>e.msgKey));yield(0,l.getMessageOrphanTable)().bulkRemove(i)}))).apply(this,arguments)}},52626:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.updateAddOnAcksForTable=function(e,t,n){return(0,s.getStorage)().lock([e],function(){var e=(0,o.default)((function*(e){let[r]=e;const o=[],s=new Map;for(const e of t){const t=e.msgKey.toString();o.push(t),s.set(e.msgKey.toString(),e)}const l=yield r.anyOf(["msgKey"],o,{shouldDecrypt:!1}),c=[],u=[];for(const e of l){const t=(0,a.default)(s.get(e.msgKey),"updatesByMsgKey.get(row.msgKey)");if(!n(e,t))continue;const r=(0,i.default)((0,i.default)({},e),{},{ack:t.ack});c.push(r),u.push(t)}return yield r.bulkCreateOrReplace_ALREADY_ENCRYPTED_RECORDS_ONLY(c),u}));return function(){return e.apply(this,arguments)}}())};var i=r(n(81109)),o=r(n(48926)),a=r(n(49619)),s=n(74557)},86854:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CHAT_OPAQUE_DATA_KEYS=void 0,t.deserializeChat=function(e){const t=(0,i.default)({},e);return function(e){const t=(0,a.decodeProtobuf)(o.ChatRowOpaqueDataSpec,e.chatRowOpaqueData);l.forEach((n=>{null!=(null==t?void 0:t[n])&&(e[n]=null==t?void 0:t[n])}))}(t),t},t.serializeChat=function(e){const t=(0,i.default)({},e);return function(e){const t={};l.forEach((n=>{t[n]=e[n],delete e[n]}));const n=(0,s.encodeProtobuf)(o.ChatRowOpaqueDataSpec,t);e.chatRowOpaqueData=n.readBuffer()}(t),t};var i=r(n(81109)),o=n(44277),a=n(33655),s=n(32126);const l=["draftMessage"];t.CHAT_OPAQUE_DATA_KEYS=l},58681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EphemeralExemptionType=void 0;const r=n(76672)({UNSET:0,ORDERS_AND_PAYMENTS:1});t.EphemeralExemptionType=r},71507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStarredMessagesForChat=function(e,t,n){return Promise.resolve().then((()=>{if(null!=n)return(0,o.getMessageTable)().get(n.toString())})).then((n=>{const a=null==n?[(0,i.endOfChat)(e),1/0]:[n.internalId,n.isStarred],s=[(0,i.beginningOfChat)(e),0];return(0,o.getMessageTable)().between(["internalId","isStarred"],s,a,{lowerInclusive:!1,upperInclusive:!1,reverse:!0,limit:t}).then((e=>e.map((e=>(0,r.messageFromDbRow)(e)))))}))};var r=n(74773),i=n(62505),o=n(10139)},31125:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.updateChatTable=function(e,t){return(0,o.getChatTable)().merge(e.toString(),t).catch((e=>{if(e instanceof i.DbOnLogoutAbort)throw e;throw __LOG__(4,!0,new Error,!0)`updateChatTable: failed to update in storage`,SEND_LOGS("updateChatTable failed"),(0,a.default)("updateChatTable failed")}))};var i=n(91329),o=n(94007),a=r(n(89482))},48840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDatabaseForLastAddOnPreview=function(e){return(0,r.bulkUpdateChatLastAddOnPreview)(e)};var r=n(93040)},64071:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.lastAddOnPreviewCandidateFromReactionRowType=function(e){return{msgKey:e.msgKey,parentMsgKey:e.parentMsgKey,sender:e.senderUserJid,reactionText:e.reactionText,timestamp:e.timestamp,isOrphan:1===e.orphan,type:"reaction"}},t.lastAddOnPreviewCandidateFromVoteData=function(e,t){return{msgKey:e.msgKey.toString(),isOrphan:t,selectedOptionsCount:e.selectedOptionLocalIds.length,parentMsgKey:e.parentMsgKey.toString(),sender:e.sender.toString(),timestamp:e.senderTimestampMs,type:"poll_vote"}},t.lastAddOnPreviewFromCandidate=function(e){switch(e.type){case"reaction":return{type:"reaction",msgKey:e.msgKey,parentMsgKey:e.parentMsgKey,reactionText:e.reactionText,sender:e.sender,timestamp:e.timestamp};case"poll_vote":return{type:"poll_vote",msgKey:e.msgKey,parentMsgKey:e.parentMsgKey,sender:e.sender,timestamp:e.timestamp}}},t.lastAddOnPreviewFromDeprecatedLastReactionPreview=function(e){return{msgKey:e.msgKey,parentMsgKey:e.parentMsgKey,sender:e.senderUserJid,timestamp:e.timestamp,reactionText:(0,i.default)(e.reactionText,"lastReactionPreview.reactionText"),type:"reaction"}};var i=r(n(49619))},42247:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearLidPnMappingCache=function(){A.clear()},t.createLidPnMappings=T,t.flushLidPnMappingsToDb=function(){return T({mappings:[],flushImmediately:!0}).catch((()=>{__LOG__(4,void 0,new Error,!0)`flushLidPnMappingsToDb failed!`,SEND_LOGS("Failed to flushLidPnMappingsToDb")}))},t.getAllLidContacts=function(){return A.getAllLids()},t.getAlternateDeviceWid=function(e){const t=e.isLid()?y((0,E.toUserWid)(e)):I((0,E.toUserWid)(e));var n;if(null!=t)return(0,E.createDeviceWidFromUserAndDevice)(t.user,t.server,null!==(n=e.device)&&void 0!==n?n:l.DEFAULT_DEVICE_ID)},t.getAlternateWid=m,t.getAlternateWidBulk=function(e){const t=new Map;return e.forEach((e=>{const n=m(e);null!=n&&t.set(n.toString(),e)})),t},t.getAlternateWidBulkForLids=function(e){const t=new Map;return e.forEach((e=>{const n=(0,E.createWid)(e);if(f.default.isLid(n)){const e=y(n);if(null!=e){const r=[];if(r.push(e.toString()),!e.isLid()){const t=I(e);null==t||f.default.equals(n,t)||r.push(t.toString())}t.set(n.toString(),r)}}})),t},t.getContactHash=S,t.getContactRecord=function(e){return(0,p.getContactTable)().get(e.toJid())},t.getCurrentLid=I,t.getPhoneNumber=y,t.isAddressBookContact=function(){return h.apply(this,arguments)},t.lidPnCacheDirtySet=t.lidPnCache=void 0,t.setNotAddressBookContacts=function(e){return(0,_.getStorage)().lock(["contact"],(t=>{let[n]=t;const r=e.map((e=>({id:e,isAddressBookContact:0,name:void 0,shortName:void 0,contactHash:S(e)})));return n.bulkCreateOrMerge(r)}))},t.updateLidMetadata=function(e){return(0,_.getStorage)().lock(["contact"],(t=>{let[n]=t;const r=e.map((e=>{const{lid:t,data:n}=e;return(0,i.default)({id:t.toString()},n)}));return n.bulkCreateOrMerge(r)}))},t.warmUpLidPnMapping=function(e,t,n){A.add(e,{lid:e,phoneNumber:t,phoneNumberCreatedAt:n})};var i=r(n(81109)),o=r(n(48926)),a=n(62089),s=r(n(82065)),l=n(44037),c=r(n(27522)),u=n(29987),d=n(10386),_=n(74557),p=n(93769),f=r(n(27112)),E=n(51017);const A=new d.LidPnCache;t.lidPnCache=A;const g=new Set;function h(){return(h=(0,o.default)((function*(e){const t=yield(0,p.getContactTable)().get(e);return null!=t&&1===t.isAddressBookContact}))).apply(this,arguments)}function S(e){const t=(0,E.createWid)(e).user,n=(0,a.decodeB64)((0,c.default)(t+"WA_ADD_NOTIF"));return(0,a.encodeB64)(n.slice(0,3))}function T(e){let{mappings:t,flushImmediately:n}=e;const r=[],i=(0,u.unixTime)();if(t.forEach((e=>{const t=e.lid,o=A.getPhoneNumber(t),a=null!=o?A.getCurrentLid(o):null;(null==o||null!=a&&!a.equals(e.lid))&&(A.add(t,{lid:t,phoneNumber:e.pn,phoneNumberCreatedAt:i}),n?r.push(e):g.add(t.toString()))})),n&&g.size>0&&(__LOG__(2)`flush lidPnCacheDirtySet: get dirty updates for ${Array.from(g).join(",")}`,g.forEach((e=>{const t=(0,E.createUserWid)(e),n=A.getPhoneNumber(t);null!=n&&r.push({lid:t,pn:(0,E.toUserWid)(n)})})),__LOG__(2)`lidPnCacheDirtySet: ${g.size} flushed`,g.clear()),0===r.length)return Promise.resolve();const o=r.map((e=>{let{lid:t,pn:n}=e;return{id:t.toString(),phoneNumber:n.toString(),phoneNumberCreatedAt:i}}));return(0,p.getContactTable)().bulkCreateOrMerge(o)}function m(e){if(null!=e.device)throw(0,s.default)(`getAlternateWid - Invalid get call using deviceWid (${e.toString()}) `);return e.isLid()?y(e):I(e)}function I(e){return A.getCurrentLid(e)}function y(e){return A.getPhoneNumber(e)}t.lidPnCacheDirtySet=g},46804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bulkGetIsContactABusiness=function(e){return(0,r.getVerifiedBusinessNameTable)().bulkGet(e.map((e=>{var t;return null!==(t=null==e?void 0:e.user)&&void 0!==t?t:""}))).then((e=>e.map((e=>null!=e))))};var r=n(99801)},42775:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.persistContactUpdateBatched=function(e,t){return l((0,i.default)((0,i.default)({},t),{},{id:e.toJid()}))};var i=r(n(81109)),o=r(n(48926)),a=n(66210),s=n(93769);const l=(0,a.batch)({delayMs:3e3},function(){var e=(0,o.default)((function*(e){return yield function(){return c.apply(this,arguments)}(e),e.map((()=>{}))}));return function(){return e.apply(this,arguments)}}());function c(){return(c=(0,o.default)((function*(e){const t=Array.from(e.reduce(((e,t)=>{var n;return e.set(t.id,(0,i.default)((0,i.default)({},null!==(n=e.get(t.id))&&void 0!==n?n:{}),t)),e}),new Map).values());yield(0,s.getContactTable)().bulkCreateOrMerge(t)}))).apply(this,arguments)}},10386:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LidPnCache=void 0;var i=n(51017),o=r(n(89482));t.LidPnCache=class{constructor(){this._lidMap=new Map,this._pnMap=new Map}getPhoneNumber(e){if(!e.isUser()||!e.isLid())throw(0,o.default)(`WaWebLidPnCache - Invalid get call for ${e.toString()}`);const t=e.toString();var n;if(this._lidMap.has(t))return null===(n=this._lidMap.get(t))||void 0===n?void 0:n.phoneNumber}getCurrentLid(e){if(!e.isUser()||e.isLid())throw(0,o.default)(`WaWebLidPnCache - Invalid get call for ${e.toString()}`);const t=e.toString();var n;if(this._pnMap.has(t))return null===(n=this._pnMap.get(t))||void 0===n?void 0:n.lid}add(e,t){if(!e.isLid())throw(0,o.default)("WaWebLidPnCache - Invalid add call");const n=e.toString();this._lidMap.set(n,t);const{phoneNumber:r}=t;null!=r&&this._addInvertedIndex(r,t)}_addInvertedIndex(e,t){if(e.isLid())throw(0,o.default)("WaWebLidPnCache - Invalid _updatePnMap call");const n=e.toString();if(this._pnMap.has(n)){const e=this._pnMap.get(n);null!=e&&(null==e?void 0:e.phoneNumberCreatedAt)<t.phoneNumberCreatedAt&&this._pnMap.set(n,t)}else this._pnMap.set(n,t)}getAllLids(){return Array.from(this._lidMap.keys()).sort().map((e=>(0,i.createWid)(e)))}clear(){this._lidMap.clear(),this._pnMap.clear()}}},79247:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSubgroup=function(){return T.apply(this,arguments)},t.getDefaultSubgroupMetadata=h,t.getJoinedSubgroups=y,t.getJoinedSubgroupsMetadata=m,t.getSubgroups=function(){return g.apply(this,arguments)},t.getUnjoinedSubgroups=function(){return O.apply(this,arguments)},t.getUnjoinedSubgroupsMetadata=v,t.isLastJoinedSubgroup=function(){return P.apply(this,arguments)},t.persistCommunityLink=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i={chatId:e,subgroups:t,action:n};if(r)return E(i);return p([i])};var i=r(n(81109)),o=r(n(48926)),a=n(66210),s=n(505),l=n(78440),c=n(94007),u=n(35872),d=n(31304),_=n(51017);function p(){return f.apply(this,arguments)}function f(){return(f=(0,o.default)((function*(e){const t=new Map,n=new Map;e.forEach((e=>{switch(e.subgroups.forEach((e=>{n.set(String(e.id),null)})),e.action){case s.CommunityLinkOperation.SiblingGroupLink:case s.CommunityLinkOperation.SiblingGroupUnlink:t.set(String(e.chatId),null)}})),(yield(0,u.getGroupMetadataTable)().bulkGet(Array.from(t.keys()))).forEach((e=>{e&&null!=e.parentGroup&&t.set(e.id,String(e.parentGroup))})),(yield(0,c.getChatTable)().bulkGet(Array.from(n.keys()))).forEach((e=>{e&&n.set(e.id,e)}));const r=new Map,o=new Map,a=new Set;e.forEach((e=>{let i=null,l=!1;switch(e.action){case s.CommunityLinkOperation.SiblingGroupLink:i=t.get(String(e.chatId)),l=!0;break;case s.CommunityLinkOperation.SiblingGroupUnlink:i=t.get(String(e.chatId)),l=!1;break;case s.CommunityLinkOperation.SubGroupLink:i=String(e.chatId),l=!0;break;case s.CommunityLinkOperation.SubGroupUnlink:i=String(e.chatId),l=!1}null!=i&&((e,t,i)=>{t.forEach((t=>{const s=String(t.id),l=n.get(s);if(null==l||l.isReadOnly)if(i){var c;a.delete(s);const n={id:s,subject:t.subject,subjectTime:null!==(c=t.subjectTime)&&void 0!==c?c:0,parentGroup:e},r=o.get(s);r&&r.subjectTime>n.subjectTime&&(n.subject=r.subject,n.subjectTime=r.subjectTime),o.set(s,n)}else o.delete(s),a.add(s);else r.set(s,{id:s,parentGroup:i?e:void 0})}))})(i,e.subgroups,l)})),yield Promise.all([(0,u.getGroupMetadataTable)().bulkCreateOrMerge(Array.from(r.values())),(0,d.getUnjoinedSubgroupMetadataTable)().bulkRemove(Array.from(a)),(0,d.getUnjoinedSubgroupMetadataTable)().bulkGet(Array.from(o.keys())).then((e=>(e.forEach((e=>{if(!e)return;const t=o.get(e.id);t&&null!=e.subjectTime&&e.subjectTime>t.subjectTime&&(t.subjectTime=e.subjectTime,t.subject=e.subject)})),(0,d.getUnjoinedSubgroupMetadataTable)().bulkCreateOrMerge(Array.from(o.values()).map((e=>(0,i.default)({},e)))))))])}))).apply(this,arguments)}const E=(0,a.batch)({delayMs:5e3},function(){var e=(0,o.default)((function*(e){return yield p(e),Promise.resolve(e.map((()=>{})))}));return function(){return e.apply(this,arguments)}}());function A(e){return(0,u.getGroupMetadataTable)().equals(["parentGroup"],e.toString())}function g(){return(g=(0,o.default)((function*(e){return(yield A(e)).map((e=>(0,_.createWid)(e.id)))}))).apply(this,arguments)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,o.default)((function*(e){return(yield A(e)).find((e=>!0===e.defaultSubgroup))}))).apply(this,arguments)}function T(){return(T=(0,o.default)((function*(e){const t=yield h(e);return null==t?null:(0,_.createWid)(t.id)}))).apply(this,arguments)}function m(){return I.apply(this,arguments)}function I(){return(I=(0,o.default)((function*(e){const t=yield A(e);return(yield(0,l.bulkCheckMyMembership)(t.map((e=>{let{id:t}=e;return(0,_.createWid)(t)})))).map(((e,n)=>[t[n],e])).filter((e=>{let[,t]=e;return t})).map((e=>{let[t]=e;return t}))}))).apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return(C=(0,o.default)((function*(e){return(yield m(e)).map((e=>{let{id:t}=e;return(0,_.createWid)(t)}))}))).apply(this,arguments)}function v(e){return(0,d.getUnjoinedSubgroupMetadataTable)().equals(["parentGroup"],e.toString())}function O(){return(O=(0,o.default)((function*(e){return(yield v(e)).map((e=>(0,_.createWid)(e.id)))}))).apply(this,arguments)}function P(){return(P=(0,o.default)((function*(e){const t=e.parentGroup;if(null==t)return!1;const n=(0,_.createWid)(e.id),r=yield y((0,_.createWid)(t));return 1===r.length&&r[0].equals(n)}))).apply(this,arguments)}},42417:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.removeMembershipApprovalRequests=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return s({id:e,requests:t});const r=e.toString();return(0,a.getStorage)().lock(["pending-membership-approval-request"],(e=>{let[n]=e;return n.bulkRemove(t.map((e=>[r,e.toString()])))}))};var i=r(n(48926)),o=n(66210),a=n(74557);const s=(0,o.batch)({delayMs:3e3},function(){var e=(0,i.default)((function*(e){const t=e.flatMap((e=>{const t=e.id.toString();return e.requests.map((e=>[t,e.toString()]))}));return yield(0,a.getStorage)().lock(["pending-membership-approval-request"],(e=>{let[n]=e;return n.bulkRemove(t)})),t.map((()=>{}))}));return function(){return e.apply(this,arguments)}}())},2505:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipantInfo=y,t.addParticipantInfoIncognitoCag=C,t.addPastParticipants=function(e){return(0,d.getStorage)().lock(["participant"],function(){var t=(0,o.default)((function*(t){let[n]=t;const r=yield n.bulkGet(e.map((e=>e.groupId))),i=e.map(((e,t)=>{let{groupId:n,pastParticipants:i}=e;const o=r[t];return o?function(e,t){return{groupId:e.groupId,senderKey:e.senderKey,participants:e.participants,pastParticipants:t.map((e=>{let{id:t,leaveReason:n,leaveTs:r}=e;return{jid:t.toString(),leaveTs:r,leaveReason:n}})),admins:e.admins,rotateKey:e.rotateKey,version:e.version,staleType:e.staleType}}(o,i):M(n,{pastParticipants:i})}));n.bulkCreateOrReplace(i)}));return function(){return t.apply(this,arguments)}}())},t.changeParticipantAdminInfoIncognitoCag=N,t.createParticipantInfo=M,t.getGroupParticipant=function(){return L.apply(this,arguments)},t.markGroupParticipantStale=function(e){let{group:t}=e;return(0,d.getStorage)().lock(["participant"],(e=>{let[n]=e;return n.merge(String(t),{staleType:s.STALE_TYPES.PARTICIPANT})}))},t.modifyGroupParticipant=function(e){let{group:t,oldId:n,newId:r,prevVersion:a,newVersion:l}=e;const c=String(t);return(0,d.getStorage)().lock(["participant"],function(){var e=(0,o.default)((function*(e){let[t]=e;const o=yield t.get(c);if(!o)throw new s.GroupUnSyncedError("modifyGroupParticipant: group participant info missing");if(o.version&&(null==a||a!==o.version)&&!(0,u.isVIdDeprecationEnabled)())throw new s.GroupUnSyncedError("modifyGroupParticipant: prev version info missing");return t.createOrReplace(function(e,t,n,r){const o=String(t),a=String(n),s=new Map(e.senderKey),l=e.participants.filter((e=>e!==o)).concat(a);Array.from(s.keys()).forEach((e=>{const n=(0,h.createWid)(e).user;t.user===n?s.delete(e):s.set(e,!1)})),s.set(a,!1);const c=e.admins.map((e=>e===o?a:e));return(0,i.default)((0,i.default)({},e),{},{participants:l,senderKey:s,admins:c,version:r,rotateKey:!0})}(o,n,r,l))}));return function(){return e.apply(this,arguments)}}())},t.removeParticipantInfo=v,t.removeParticipantInfoIncognitoCag=O,t.replaceParticipantInfo=R,t.replaceParticipantInfoIncognitoCag=D,t.replaceParticipants=function(e){let{group:t,participants:n,admins:r,deviceIds:i,groupInfo:o,version:a}=e,s=!1;null!=o&&(s=Boolean(o.incognito)&&Boolean(o.defaultSubgroup));const l=t.toString();return(0,d.getStorage)().lock(["participant"],(e=>{let[t]=e;return t.get(l).then((e=>e?t.createOrReplace(s?D(e,{participants:n,admins:r,deviceIds:i,version:a}):R(e,{participants:n,admins:r,deviceIds:i,version:a})):t.create(M(l,{participants:n,admins:r,deviceIds:i,version:a}))))}))},t.updateCommunityParticipants=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return I({id:String(e),data:t});const{participants:r}=t,i=e.toString();return(0,d.getStorage)().lock(["participant"],function(){var e=(0,o.default)((function*(e){let[n]=e;const o=yield n.get(i);if(!o)throw new s.GroupUnSyncedError(`updateCommunityParticipants: group participant info missing for action ${t.action}`);switch(t.action){case s.PARTICIPANT_OPERATION.LINKED_GROUP_PROMOTE:return n.createOrReplace(b(o,r,s.PARTICIPANT_OPERATION.LINKED_GROUP_PROMOTE));case s.PARTICIPANT_OPERATION.LINKED_GROUP_DEMOTE:return n.createOrReplace(b(o,r,s.PARTICIPANT_OPERATION.LINKED_GROUP_DEMOTE));default:throw(0,S.default)(`updateCommunityParticipants: failed with unknown action ${t.action}`)}}));return function(){return e.apply(this,arguments)}}())},t.updateDBParticipants=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=Boolean(null==n?void 0:n.defaultSubgroup)&&Boolean(null==n?void 0:n.incognito);if(r)return m({id:String(e),data:t,groupMetadata:n});const{participants:a,version:l,prevVersion:c}=t,_=e.toString();return(0,d.getStorage)().lock(["participant"],function(){var e=(0,o.default)((function*(e){let[n]=e;const r=yield n.get(_);if(!r)throw new s.GroupUnSyncedError(`updateParticipants: group participant info missing for action ${t.action}`);if(r.version&&(null==c||c!==r.version)&&!(0,u.isVIdDeprecationEnabled)())throw new s.GroupUnSyncedError(`updateParticipants: prevVersion info missing for action ${t.action}`);switch(t.action){case s.PARTICIPANT_OPERATION.ADD:return n.createOrReplace(i?C(r,a,t.deviceIds,l):y(r,a,t.deviceIds,l));case s.PARTICIPANT_OPERATION.REMOVE:return n.createOrReplace(i?O(r,a,t.timestamp,t.author,l,t.reason):v(r,a,t.timestamp,t.author,l,t.reason));case s.PARTICIPANT_OPERATION.DEMOTE:return n.createOrReplace(i?N(r,a,t.deviceIds,l,s.PARTICIPANT_OPERATION.DEMOTE):P(r,a,t.deviceIds,l,s.PARTICIPANT_OPERATION.DEMOTE));case s.PARTICIPANT_OPERATION.PROMOTE:return n.createOrReplace(i?N(r,a,t.deviceIds,l,s.PARTICIPANT_OPERATION.PROMOTE):P(r,a,t.deviceIds,l,s.PARTICIPANT_OPERATION.PROMOTE));default:throw(0,S.default)(`updateParticipants: failed with unknown action ${t.action}`)}}));return function(){return e.apply(this,arguments)}}())},t.updateGroupParticipantTableWithoutDeviceSync=function(){return T.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(66210),s=n(88470),l=n(98051),c=n(5991),u=n(19909),d=n(74557),_=n(39972),p=n(97575),f=n(23440),E=n(3885),A=n(8414),g=n(98701),h=n(51017),S=r(n(89482));function T(){return(T=(0,o.default)((function*(e){let{groupInfos:t}=e;const n=yield(0,f.getParticipantTable)().bulkGet(t.map((e=>e.id.toString()))),r=new Map;n.forEach((e=>e&&r.set(e.groupId,e.senderKey)));const i=t.map((e=>{var t,n,i;const o=[],a=[],l=e.id.toString(),c=r.get(l)||new Map;null===(t=e.participants)||void 0===t||t.forEach((e=>{e.isAdmin&&a.push(e.id),o.push(e.id)}));const u=null!==(n=null===(i=e.pastParticipants)||void 0===i?void 0:i.map((e=>{let{id:t,leaveTs:n,leaveReason:r}=e;return{jid:t.toString(),leaveTs:n,leaveReason:r}})))&&void 0!==n?n:[];if(Boolean(e.incognito)&&Boolean(e.defaultSubgroup)){const t=a.some((e=>(0,E.isMeAccount)(e)));(0,_.augmentedCagGroupParticipantList)(t,e.participants).forEach((function(e){const t=String(e);c.has(t)||c.set(t,!1)}))}else{var d;null===(d=e.participants)||void 0===d||d.forEach((e=>{c.set(String(e.id),!1)}))}return{groupId:l,participants:o.map(String),pastParticipants:u,admins:a.map(String),senderKey:c,rotateKey:!1,staleType:s.STALE_TYPES.DEVICE}}));return(0,f.getParticipantTable)().bulkCreateOrReplace(i)}))).apply(this,arguments)}const m=(0,a.batch)({delayMs:3e3},function(){var e=(0,o.default)((function*(e){const t=Array.from(new Set(e.map((e=>e.id))));return yield(0,d.getStorage)().lock(["participant"],function(){var n=(0,o.default)((function*(n){let[r]=n;const i=new Map((yield r.bulkGet(t)).filter(Boolean).map((e=>[e.groupId,e])));return e.forEach((e=>{let{id:t,data:n,groupMetadata:r}=e;const o=Boolean(null==r?void 0:r.defaultSubgroup)&&Boolean(null==r?void 0:r.incognito),a=i.get(t);if(!a)return void __LOG__(2)`updateParticipantsBatched: no local record found for group ${t}`;const{participants:l,version:c,prevVersion:d}=n;if(null!=a.version&&(null==d||d!==a.version)&&!(0,u.isVIdDeprecationEnabled)())return __LOG__(2)`updateParticipantsBatched: out-of-order group notification for ${t}, action: ${n.action}`,void(a.deviceSyncComplete=!1);let _=null;switch(n.action){case s.PARTICIPANT_OPERATION.ADD:_=o?C(a,l,n.deviceIds,c):y(a,l,n.deviceIds,c);break;case s.PARTICIPANT_OPERATION.REMOVE:_=o?O(a,l,n.timestamp,n.author,c,n.reason):v(a,l,n.timestamp,n.author,c,n.reason);break;case s.PARTICIPANT_OPERATION.DEMOTE:_=o?N(a,l,n.deviceIds,c,s.PARTICIPANT_OPERATION.DEMOTE):P(a,l,n.deviceIds,c,s.PARTICIPANT_OPERATION.DEMOTE);break;case s.PARTICIPANT_OPERATION.PROMOTE:_=o?N(a,l,n.deviceIds,c,s.PARTICIPANT_OPERATION.PROMOTE):P(a,l,n.deviceIds,c,s.PARTICIPANT_OPERATION.PROMOTE);break;default:__LOG__(2)`updateParticipants: failed with unknown action ${n.action}`}null!=_&&i.set(_.groupId,_)})),r.bulkCreateOrReplace(Array.from(i.values()))}));return function(){return n.apply(this,arguments)}}()),e.map((()=>{}))}));return function(){return e.apply(this,arguments)}}()),I=(0,a.batch)({delayMs:3e3},function(){var e=(0,o.default)((function*(e){const t=Array.from(new Set(e.map((e=>e.id))));return yield(0,d.getStorage)().lock(["participant"],function(){var n=(0,o.default)((function*(n){let[r]=n;const i=new Map((yield r.bulkGet(t)).filter(Boolean).map((e=>[e.groupId,e])));return e.forEach((e=>{let{id:t,data:n}=e;const r=i.get(t);if(!r)return void __LOG__(2)`updateCommunityParticipantsBatched: no local record found for group ${t}`;const{participants:o}=n;let a=null;switch(n.action){case s.PARTICIPANT_OPERATION.LINKED_GROUP_PROMOTE:a=b(r,o,s.PARTICIPANT_OPERATION.LINKED_GROUP_PROMOTE);break;case s.PARTICIPANT_OPERATION.LINKED_GROUP_DEMOTE:a=b(r,o,s.PARTICIPANT_OPERATION.LINKED_GROUP_DEMOTE);break;default:__LOG__(2)`updateCommunityParticipantsBatched: failed with unknown action ${n.action}`}null!=a&&i.set(a.groupId,a)})),r.bulkCreateOrReplace(Array.from(i.values()))}));return function(){return n.apply(this,arguments)}}()),e.map((()=>{}))}));return function(){return e.apply(this,arguments)}}());function y(e,t,n,r){var i,o;const a=new Map(e.senderKey);n.forEach((e=>{if((0,E.isMeDevice)(e))return;const t=String(e);a.set(t,!1)}));const s=new Set;for(const{id:e}of t)s.add(String(e));const l=null!==(i=null===(o=e.pastParticipants)||void 0===o?void 0:o.filter((e=>!s.has(e.jid))))&&void 0!==i?i:[],c=e.participants;for(const e of s.values())c.push(e);return{groupId:e.groupId,senderKey:a,participants:c,pastParticipants:l,admins:e.admins,rotateKey:e.rotateKey,version:r,staleType:e.staleType}}function C(e,t,n,r){var i,o;const a=new Map(e.senderKey);n.forEach((e=>{if((0,E.isMeDevice)(e))return;const t=String(e);a.set(t,!1)}));const s=new Set,l=new Set;for(const{id:e,lid:n}of t)l.add(String(e)),null==n||e.isLid()||s.add(String(n));const c=null!==(i=null===(o=e.pastParticipants)||void 0===o?void 0:o.filter((e=>!l.has(e.jid))))&&void 0!==i?i:[],u=e.participants.filter((e=>!s.has(e)));for(const e of l.values())u.push(e);return{groupId:e.groupId,senderKey:a,participants:u,pastParticipants:c,admins:e.admins,rotateKey:e.rotateKey,version:r,staleType:e.staleType}}function v(e,t,n,r,i){var o,a;const s=new Map(e.senderKey);let l=e.rotateKey;s.forEach(((e,n)=>{const r=(0,h.createWid)(n);t.some((e=>e.id.isSameAccount(r)))&&(l=l||e,s.delete(n))})),l&&s.forEach(((e,t)=>{s.set(t,!1)}));const u=t.map((e=>{let{id:t}=e;return String(t)})),d=null===(o=e.pastParticipants)||void 0===o?void 0:o.concat(null!==(a=t.map((e=>({jid:e.id.toString(),leaveTs:n,leaveReason:e.id.equals(r)?c.LeaveReason.Left:c.LeaveReason.Removed}))))&&void 0!==a?a:[]);!e.rotateKey&&l&&(0,p.postSenderKeyExpiredMetric)({chatId:e.groupId,deviceCount:e.senderKey.size,expiryReason:A.EXPIRY_REASON.USER_LEAVE});const _=e.admins.filter((e=>!u.includes(e))),f=e.participants.filter((e=>!u.includes(e)));return{groupId:e.groupId,senderKey:s,participants:f,pastParticipants:d,admins:_,rotateKey:l,version:i,staleType:e.staleType}}function O(e,t,n,r,i,o){var a,s;const u=new Map(e.senderKey);let d=e.rotateKey;const _=t.map((e=>e.id.isLid()?e.id:e.lid)).filter(Boolean);u.forEach(((e,n)=>{const r=(0,h.createWid)(n);if(r.isLid()&&o!==l.REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE){return void(_.some((e=>e.isSameAccount(r)))&&u.delete(n))}if(!r.isLid()&&o===l.REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE)return void u.delete(n);t.some((e=>e.id.user===r.user&&e.id.server===r.server))&&(d=d||e,u.delete(n))})),d&&u.forEach(((e,t)=>{(0,h.createWid)(t).isLid()||u.set(t,!1)}));const f=t.map((e=>{let{id:t}=e;return String(t)})),E=null===(a=e.pastParticipants)||void 0===a?void 0:a.concat(null!==(s=t.map((e=>({jid:e.id.toString(),leaveTs:n,leaveReason:e.id.equals(r)?c.LeaveReason.Left:c.LeaveReason.Removed}))))&&void 0!==s?s:[]);!e.rotateKey&&d&&(0,p.postSenderKeyExpiredMetric)({chatId:e.groupId,deviceCount:e.senderKey.size,expiryReason:A.EXPIRY_REASON.USER_LEAVE});const g=e.admins.filter((e=>!f.includes(e)));let S=e.participants;if(o===l.REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE){const e=t.reduce(((e,t)=>{let{lid:n,id:r}=t;return null==n||r.isLid()?e:e.set(r.toString(),n.toString())}),new Map);S=S.map((t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:t}))}else S=S.filter((e=>!f.includes(e)));return{groupId:e.groupId,senderKey:u,participants:S,pastParticipants:E,admins:g,rotateKey:d,version:i,staleType:e.staleType}}function P(e,t,n,r,i){let o=e.admins;const a=t.map((e=>{let{id:t}=e;return String(t)}));if(i===s.PARTICIPANT_OPERATION.DEMOTE)o=e.admins.filter((e=>!a.includes(e)));else if(i===s.PARTICIPANT_OPERATION.PROMOTE){const t=new Set(e.admins);a.forEach((e=>t.add(e))),o=Array.from(t)}return{groupId:e.groupId,senderKey:e.senderKey,participants:e.participants,pastParticipants:e.pastParticipants,admins:o,rotateKey:e.rotateKey,version:r,staleType:e.staleType}}function N(e,t,n,r,i){let o=e.admins;const a=t.map((e=>{let{id:t}=e;return String(t)})),l=new Map(e.senderKey);null!=n&&n.length>0&&n.forEach((e=>{if((0,E.isMeDevice)(e))return;const t=String(e);l.set(t,!1)}));let c=e.participants;if(i===s.PARTICIPANT_OPERATION.DEMOTE){o=e.admins.filter((e=>!a.includes(e)));if(!o.some((e=>(0,E.isMeAccount)((0,h.createWid)(e))))){const e=t.reduce(((e,t)=>{let{lid:n,id:r}=t;return null==n||r.isLid()?e:e.set(r.toString(),n.toString())}),new Map);c=c.map((t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:t}))}}else if(i===s.PARTICIPANT_OPERATION.PROMOTE){const n=t.reduce(((e,t)=>{let{lid:n,id:r}=t;return null==n||r.isLid()?e:e.set(n.toString(),r.toString())}),new Map);o=e.admins.concat(a),c=c.map((e=>{var t;return null!==(t=n.get(e))&&void 0!==t?t:e}))}return{groupId:e.groupId,senderKey:l,participants:c,pastParticipants:e.pastParticipants,admins:o,rotateKey:e.rotateKey,version:r,staleType:e.staleType}}function b(e,t,n){let r=e.admins,i=e.participants;const o=t.map((e=>{let{id:t}=e;return String(t)}));if(n===s.PARTICIPANT_OPERATION.LINKED_GROUP_DEMOTE)r=e.admins.filter((e=>!o.includes(e))),i=r;else if(n===s.PARTICIPANT_OPERATION.LINKED_GROUP_PROMOTE){const t=o.filter((t=>!e.admins.includes(t)));r=e.admins.concat(t),i=r}return{groupId:e.groupId,senderKey:e.senderKey,participants:i,pastParticipants:e.pastParticipants,admins:r,rotateKey:e.rotateKey,version:e.version,staleType:e.staleType}}function M(e,t){const{participants:n=[],pastParticipants:r=[],admins:i=[],deviceIds:o=[],version:a}=t,l=new Map;return o.forEach((e=>{if((0,E.isMeDevice)(e))return;const t=String(e);l.has(t)||l.set(t,!1)})),{groupId:e,senderKey:l,participants:n.map((e=>{let{id:t}=e;return String(t)})),pastParticipants:r.map((e=>{let{id:t,leaveReason:n,leaveTs:r}=e;return{jid:t.toString(),leaveTs:r,leaveReason:n}})),admins:i.map(String),rotateKey:!1,version:a,staleType:0===n.length?s.STALE_TYPES.PARTICIPANT:void 0}}function R(e,t){const{participants:n,admins:r,deviceIds:i,version:o}=t;let a=e.rotateKey;const s=e.senderKey,l=new Map;i.forEach((e=>{if((0,E.isMeDevice)(e))return;const t=String(e),n=s.get(t);null==n?l.set(t,!1):(l.set(t,n),s.delete(t))}));for(const e of s.values())a=a||e;return{groupId:e.groupId,senderKey:l,participants:n.map((e=>{let{id:t}=e;return String(t)})),pastParticipants:e.pastParticipants,admins:r.map(String),rotateKey:a,version:o}}function D(e,t){const{participants:n,admins:r,deviceIds:i,version:o}=t;let a=e.rotateKey;const s=e.senderKey,l=new Map;i.forEach((e=>{if((0,E.isMeDevice)(e))return;const t=String(e),n=s.get(t);null==n?l.set(t,!1):(l.set(t,n),s.delete(t))}));for(const[e,t]of s.entries())if(t&&!(0,h.createWid)(e).isLid()){a=!0;break}return{groupId:e.groupId,senderKey:l,participants:n.map((e=>{let{id:t}=e;return String(t)})),pastParticipants:e.pastParticipants,admins:r.map(String),rotateKey:a,version:o}}function L(){return(L=(0,o.default)((function*(e){var t,n,r,i,o;let{groupWid:a}=e;const l=yield(0,f.getParticipantTable)().get(String(a));if(!l)return null;const c=new Set(l.admins),u=null!==(t=null===(n=l.participants)||void 0===n?void 0:n.map((e=>({id:(0,h.createWid)(e),isAdmin:c.has(e),isSuperAdmin:!1}))))&&void 0!==t?t:[],d=null!==(r=null===(i=l.pastParticipants)||void 0===i?void 0:i.map((e=>{let{jid:t,leaveTs:n,leaveReason:r}=e;return{id:(0,h.createWid)(t),leaveTs:n,leaveReason:r}})))&&void 0!==r?r:[];(0,g.cacheGroupMetrics)(l);const _=null==l.deviceSyncComplete||l.deviceSyncComplete?void 0:s.STALE_TYPES.PARTICIPANT;return{participants:u,pastParticipants:d,staleType:null!==(o=l.staleType)&&void 0!==o?o:_,deviceCount:l.senderKey.size}}))).apply(this,arguments)}},22582:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkGetGroupMetadata=function(e){if(0===e.length)return Promise.resolve([]);return(0,l.getGroupMetadataTable)().bulkGet(e.map((e=>null==e?"":e.toString())))},t.getGroupMetadata=function(e){return(0,l.getGroupMetadataTable)().get(e.toString())},t.getGroupMetadataUNSAFE=function(){return d.apply(this,arguments)},t.persistGroupMetadata=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return _((0,i.default)({id:e.toString()},t));return(0,l.getGroupMetadataTable)().createOrMerge(e.toString(),(0,i.default)({id:e.toString()},t))},t.updateGroupMetadataTable=function(){return u.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(66210),s=n(74557),l=n(35872),c=n(51017);function u(){return(u=(0,o.default)((function*(e){let{groupInfos:t}=e,n=[];yield(0,s.getStorage)().lock(["group-metadata"],function(){var e=(0,o.default)((function*(e){let[r]=e;const o=yield r.bulkGet(t.map((e=>e.id.toString())));return n=t.map(((e,t)=>{var n,r,a,s,l,c,u,d,_;const p=o[t];let f={subject:e.subject,subjectTime:e.subjectTime||0},E={announce:e.announce,a_v_id:e.a_v_id||0},A={desc:e.desc,descId:e.descId,descOwner:null===(n=e.descOwner)||void 0===n?void 0:n.toString(),descTime:e.descTime||0};if(p){const e=p.subjectTime||0,t=p.a_v_id||0,n=p.descTime||0;e>f.subjectTime&&(f={subject:p.subject,subjectTime:e}),t>E.a_v_id&&(E={announce:p.announce,a_v_id:t}),n>A.descTime&&(A={desc:p.desc,descId:p.descId,descOwner:p.descOwner,descTime:n})}return(0,i.default)((0,i.default)((0,i.default)({id:e.id.toString(),creation:e.creation,owner:null===(r=e.owner)||void 0===r?void 0:r.toString(),restrict:e.restrict,noFrequentlyForwarded:e.noFrequentlyForwarded,ephemeralDuration:e.ephemeralDuration||0,membershipApprovalMode:e.membershipApprovalMode,memberAddMode:e.memberAddMode,growthLockExpiration:e.growthLockExpiration,growthLockType:e.growthLockType,size:e.size||0,support:null!==(a=e.support)&&void 0!==a&&a,suspended:null!==(s=e.suspended)&&void 0!==s&&s,terminated:null!==(l=e.terminated)&&void 0!==l&&l,parentGroup:null===(c=e.parentGroup)||void 0===c?void 0:c.toString(),isParentGroup:e.isParentGroup,isParentGroupClosed:e.isParentGroupClosed,defaultSubgroup:e.defaultSubgroup,generalSubgroup:e.generalSubgroup,lastActivityTimestamp:null!==(u=null==p?void 0:p.lastActivityTimestamp)&&void 0!==u?u:0,lastSeenActivityTimestamp:null!==(d=null==p?void 0:p.lastSeenActivityTimestamp)&&void 0!==d?d:0,incognito:e.incognito,isLidAddressingMode:e.isLidAddressingMode,reportToAdminMode:null!==(_=e.reportToAdminMode)&&void 0!==_&&_,lastReportToAdminTimestamp:null==p?void 0:p.lastReportToAdminTimestamp,allowNonAdminSubGroupCreation:e.allowNonAdminSubGroupCreation},f),A),E)})),r.bulkCreateOrMerge(n)}));return function(){return e.apply(this,arguments)}}())}))).apply(this,arguments)}function d(){return(d=(0,o.default)((function*(e){var t,n,r,i,o,a,s,u;let{groupWid:d}=e;const _=yield(0,l.getGroupMetadataTable)().get(String(d));return _?{id:d,owner:null==_.owner?null:(0,c.createWid)(_.owner),creation:_.creation,desc:null!==(t=_.desc)&&void 0!==t?t:void 0,descId:null!==(n=_.descId)&&void 0!==n?n:void 0,descOwner:null==_.descOwner?null:(0,c.createWid)(_.descOwner),descTime:null!==(r=_.descTime)&&void 0!==r?r:void 0,restrict:_.restrict||!1,announce:_.announce||!1,noFrequentlyForwarded:_.noFrequentlyForwarded||!1,ephemeralDuration:_.ephemeralDuration||0,membershipApprovalMode:null!==(i=_.membershipApprovalMode)&&void 0!==i&&i,memberAddMode:_.memberAddMode,subject:_.subject,support:!0===_.support,lastActivityTimestamp:null!==(o=_.lastActivityTimestamp)&&void 0!==o?o:0,lastSeenActivityTimestamp:null!==(a=_.lastSeenActivityTimestamp)&&void 0!==a?a:0,lastReportToAdminTimestamp:null!==(s=_.lastReportToAdminTimestamp)&&void 0!==s?s:null,incognito:_.incognito,isLidAddressingMode:_.isLidAddressingMode,allowNonAdminSubGroupCreation:null!==(u=_.allowNonAdminSubGroupCreation)&&void 0!==u&&u}:null}))).apply(this,arguments)}const _=(0,a.batch)({delayMs:3e3},function(){var e=(0,o.default)((function*(e){const t=Array.from(e.reduce(((e,t)=>{var n;return e.set(t.id,(0,i.default)((0,i.default)({},null!==(n=e.get(t.id))&&void 0!==n?n:{}),t)),e}),new Map).values());return yield(0,l.getGroupMetadataTable)().bulkCreateOrMerge(t),e.map((()=>{}))}));return function(){return e.apply(this,arguments)}}())},51458:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.revokeGroupInviteV4=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(18625),a=n(1619),s=n(87946),l=n(37653);function c(){return(c=(0,i.default)((function*(e,t,n,r){const i=yield(0,o.revokeGroupInvites)(e,t,n,r),c=(null==i?void 0:i.map((e=>e.id)))||[],u=yield(0,s.getMsgsByMsgKey)(c,(e=>{e.inviteCodeExp="0"}));for(const e of u)(0,a.frontendFireAndForget)("expireGroupInviteV4",{inviteMsgId:e.id}),(0,l.updateExistingMessages)([e],e.id.remote)}))).apply(this,arguments)}},27021:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new class{constructor(){this._cagGroups=new Set}add(e){this._cagGroups.add(e.toString())}remove(e){this._cagGroups.delete(e.toString())}isCag(e){return this._cagGroups.has(e.toString())}clear(){this._cagGroups.clear()}};t.default=n},1370:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryAndRemoveLocalLabelAssociation=function(){return s.apply(this,arguments)},t.queryLocalLabelAssociation=a;var i=r(n(48926)),o=n(84566);function a(e){return(0,o.getLabelAssociationTable)().anyOf(["associationId","type"],e.map((e=>{let{associationId:t,type:n}=e;return[t,n]})))}function s(){return(s=(0,i.default)((function*(e){const t=yield a(e);yield(0,o.getLabelAssociationTable)().bulkRemove(t.map((e=>{let{labelId:t,associationId:n,type:r}=e;return[t,n,r]})))}))).apply(this,arguments)}},30593:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageOrphansByParentMsgKey=function(e){return(0,a.getMessageOrphanTable)().equals(["parentMsgKey"],String(e)).then((e=>e.filter(Boolean).map(o.orphanFromDbRow)))},t.getMessageOrphansByParentMsgKeys=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(64707),a=n(73482);function s(){return(s=(0,i.default)((function*(e){const t=new Set(e.map((e=>String(e)))),n=yield(0,a.getMessageOrphanTable)().anyOf(["parentMsgKey"],Array.from(t)),r=new Map;return n.forEach((e=>{const t=r.get(e.parentMsgKey)||[];t.push(e),r.set(e.parentMsgKey,t)})),r}))).apply(this,arguments)}},64707:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.orphanFromDbRow=function(e){return(0,i.default)((0,i.default)({},e),{},{sender:null==e.sender?null:(0,a.createUserWid)(e.sender),parsedMsgPayload:(0,o.messageFromDbRow)(e.parsedMsgPayload)})};var i=r(n(81109)),o=n(74773),a=n(51017)},6751:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.storeMessageOrphans=function(){return d.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(2537),s=n(74773),l=n(22666),c=n(26368),u=n(73482);function d(){return(d=(0,o.default)((function*(e,t){__LOG__(2)`storeMessageOrphans:`;const n=e.map((e=>{var n,r;return{msgKey:e.id.toString(),parentMsgKey:t(e).toString(),sender:(0,c.getSender)(e).toString(),parsedMsgPayload:(0,s.dbRowFromMessage)((0,i.default)({},e)),type:null!==(n=null===(r=a.addOnProviders.find((t=>t.matches(e))))||void 0===r?void 0:r.type)&&void 0!==n?n:l.MessageAddOnType.Unknown,senderTimestampMs:e.senderTimestampMs,t:e.t}}));yield(0,u.getMessageOrphanTable)().bulkCreateOrReplace(n)}))).apply(this,arguments)}},66236:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DroppingMsgRowDueToLogout=void 0,t.encryptMultipleDBMsgs=function(){return f.apply(this,arguments)},t.processAndEncryptSingleMsgRow=E;var i=r(n(81109)),o=r(n(48926)),a=n(90387),s=r(n(45647)),l=n(56858),c=n(74773),u=n(62505),d=n(31565),_=n(10139);class p extends Error{constructor(){super(...arguments),this.name="DroppingMsgRowDueToLogout"}}function f(){return(f=(0,o.default)((function*(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(yield l.DbEncKeyStore.waitForFinalDbMsgEncKey(),yield new Promise((e=>self.setTimeout(e,0))),n){t=[];for(let n=0;n<e.length;n++)try{const r=e[n],i=yield E(r,n);t.push(i)}catch(e){if(e instanceof p)throw e;__LOG__(4,void 0,new Error,void 0,["message-store"])`processAndEncryptSingleMsgRow with throttle failed with error: ${e.name}, message: ${e.message}, stack: ${e.stack}`}}else{t=(yield Promise.all(e.map(function(){var e=(0,o.default)((function*(e){return yield E(e).catch((e=>{if(e instanceof p)throw e;__LOG__(4,void 0,new Error,void 0,["message-store"])`processAndEncryptSingleMsgRow without throttle failed with error: ${e.name}, message: ${e.message}, stack: ${e.stack}`})).finally((()=>{}))}));return function(){return e.apply(this,arguments)}}()))).filter(Boolean)}return t}))).apply(this,arguments)}function E(){return A.apply(this,arguments)}function A(){return(A=(0,o.default)((function*(e,t){if(s.default.isLogoutInProgress)return Promise.reject(new p);null!=t&&(yield(0,a.asyncSleepAfterGivenLoopIteration)(t,35,100));const n=(0,_.getMessageTable)(),r=(0,u.getVcardWids)(e),o=(0,c.dbRowFromMessage)(e),l=yield n.preflightEncryptSingleRecord((0,i.default)({},o));return[(0,i.default)((0,i.default)((0,i.default)({},o),l),{},{vcardWAids:r}),!!(0,d.findLink)(e.body,!0)]}))).apply(this,arguments)}t.DroppingMsgRowDueToLogout=p},94903:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.pruneExpiredMessages=function(){return c.apply(this,arguments)},t.removeExpiredMessagesFromHistory=function(e){return(0,a.removeMessagesFromHistory)(e.map((e=>e.id.toString())))};var i=r(n(48926)),o=n(29987),a=n(89688),s=n(98263),l=n(10139);function c(){return(c=(0,i.default)((function*(){__LOG__(2,void 0,void 0,void 0,["ephemeral-messages"])`pruneExpiredMessages started`;const e=(yield(0,l.getMessageTable)().lessThan(["expiredTimestamp"],(0,o.unixTime)(),{shouldDecrypt:!1})).filter((e=>!(0,s.isKept)(e.kicState)));return yield(0,a.removeMessagesFromHistory)(e.map((e=>e.id.toString()))),__LOG__(2,void 0,void 0,void 0,["ephemeral-messages"])`pruneExpiredMessages completed`,e}))).apply(this,arguments)}},58351:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.markFutureproofMessagesReparsed=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(73602),a=n(10139);function s(){return(s=(0,i.default)((function*(e){try{if(0===e.length)return;const t=(yield(0,a.getMessageTable)().bulkGet(e)).filter(Boolean).filter((e=>e.type===o.MSG_TYPE.UNKNOWN));if(0===t.length)return;const n=t.map((e=>({id:e.id.toString(),futureproofReparsed:!0})));yield(0,a.getMessageTable)().bulkCreateOrMerge(n)}catch(e){throw __LOG__(4,void 0,new Error)`markFutureproofMessagesReparsed: error ${e}`,e}}))).apply(this,arguments)}},29365:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.persistNewMessagesInBulk=function(){return A.apply(this,arguments)},t.persistNewNewsletterMessagesInBulk=function(){return g.apply(this,arguments)};var i=r(n(48926)),o=n(44037),a=n(42247),s=n(66236),l=n(4489),c=n(21826),u=n(56493),d=n(74557),_=n(26368),p=n(463),f=n(94007),E=n(34326);function A(){return(A=(0,i.default)((function*(e,t){const[n,r]=yield Promise.all([h(e),(0,s.encryptMultipleDBMsgs)(e,!1)]),o=n.filter((e=>Boolean(e.bizBotType)));o.length&&(yield(0,u.handleChatBizBotChange)(o.map((e=>e.id)))),yield(0,d.getStorage)().lock(["chat","message","fts-indexing-queue"],function(){var e=(0,i.default)((function*(e){let[i,o,a]=e;yield i.bulkCreateOrMerge(n),yield(0,l.storeEncryptedDBMessages)(r,t,!1)}));return function(){return e.apply(this,arguments)}}())}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){const[t,n]=yield Promise.all([h(e),(0,s.encryptMultipleDBMsgs)(e,!1)]);return(0,d.getStorage)().lock(["chat","message"],function(){var e=(0,i.default)((function*(e){let[r]=e;yield r.bulkCreateOrMerge(t),yield(0,c.storeEncryptedNewsletterMessages)(n)}));return function(){return e.apply(this,arguments)}}())}))).apply(this,arguments)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){const t=new Map;e.forEach((e=>{const n=e.id,r=n.remote.toString();if(r!==o.STATUS_JID&&(0,_.getIsUnreadType)(e)){const i=t.get(r)||{unread:0,t:0,unreadMentionsOfMe:[]};if(!n.fromMe&&(i.unread+=1,(0,_.getIsImportantMessage)(e))){const t={id:e.id.toString(),timestamp:e.t};i.unreadMentionsOfMe?i.unreadMentionsOfMe.push(t):i.unreadMentionsOfMe=[t]}e.t>i.t&&(i.t=Math.max(e.t,i.t)),e.bizBotType&&(i.bizBotType=e.bizBotType),t.set(r,i)}}));const n=Array.from(t.keys());let r,i;if((0,p.isMatFullyEnabled)()){i=(0,a.getAlternateWidBulkForLids)(n);const e=[];for(const t of i.values())e.push(...t);r=yield(0,f.getChatTable)().bulkGet(e)}const s=(yield(0,f.getChatTable)().bulkGet(n)).map(((e,o)=>{var a,s,l;const c=n[o],u=t.get(c),d=(null==u?void 0:u.unread)||0,_=Math.max(0,e?e.unreadCount:0);let f=(null==u?void 0:u.t)||void 0;e&&null!=e.t&&(null==f||e.t>f)&&(f=e.t);let A=[],g=null!==(a=null==e?void 0:e.archiveAtMentionViewedInDrawer)&&void 0!==a&&a;const h=null!==(s=null==u?void 0:u.unreadMentionsOfMe)&&void 0!==s?s:[],S=null!==(l=null==e?void 0:e.unreadMentionsOfMe)&&void 0!==l?l:[];h.length>0&&(g=!1),A=h.concat(S);let T=null==e?void 0:e.isDeprecated;if(!0!==T&&(0,p.isMatFullyEnabled)()&&null!=e){var m;(0,E.shouldDeprecateLidThread)(e,null!==(m=i.get(e.id.toString()))&&void 0!==m?m:[],r)&&(T=!0)}const I={id:c,unreadCount:_+d,t:f,unreadMentionsOfMe:A,archiveAtMentionViewedInDrawer:g,isDeprecated:T},y=null==u?void 0:u.bizBotType;return y&&(null==e?void 0:e.bizBotType)!==y&&(I.bizBotType=y),I}));return __LOG__(2)`[offline-resume][msg-cache]: storing chat updates: ${JSON.stringify(s)}`,s}))).apply(this,arguments)}},89688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMessagesFromHistory=function(e){const t=[];return(0,o.initializeWithoutGKs)().then((()=>{if(e.length>0)return(0,l.getMessageTable)().bulkGet(e).then((e=>{e.forEach((e=>{null!=(null==e?void 0:e.rowId)&&t.push(String(e.rowId))}))}))})).then((()=>(0,a.getStorage)().lock(["message","label-association"],(()=>{const t=(0,r.queryAndRemoveLocalLabelAssociation)(e.map((e=>({associationId:e,type:s.LabelAssociationType.Message}))));return Promise.all([(0,l.getMessageTable)().bulkRemove(e),t])})))).then((()=>{t.length>0&&i.ftsLightClient.purge(t).catch((()=>{}))})).then((()=>{})).catch((e=>{throw __LOG__(4,void 0,new Error)`removeMessagesFromHistory: error ${e}`,e}))},t.removeStatusMessage=function(e){const t=e.filter((e=>e.includes("status@broadcast")));if(t.length>0)return(0,l.getMessageTable)().bulkRemove(t);return Promise.resolve()};var r=n(1370),i=n(93198),o=n(54204),a=n(74557),s=n(84566),l=n(10139)},74773:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.dbRowFromMessage=function(e){var t;const n=(0,i.default)({},e);e.quotedMsg&&(n.quotedMsg=(0,i.default)({},e.quotedMsg));(null===(t=e.quotedMsg)||void 0===t?void 0:t.paymentNoteMsg)&&(n.quotedMsg.paymentNoteMsg=(0,i.default)({},e.quotedMsg.paymentNoteMsg));e.paymentNoteMsg&&(n.paymentNoteMsg=(0,i.default)({},e.paymentNoteMsg));e.from&&(n.from=e.from.toString());return T.forEach((e=>{null!=n[e]&&(n[e]=n[e].toString())})),delete n.notifyName,delete n.local,delete n.isNewMsg,delete n.clearMedia,delete n.multicast,delete n.urlNumber,delete n.urlText,delete n.linkPreview,delete n.star,delete n.forwardedFromWeb,function(e){var t,n,r;const i={currentMsg:{},quotedMsg:{}};if(null===(t=e.paymentNoteMsg)||void 0===t?void 0:t.body){var a;i.currentMsg.paymentNoteMsgBody=e.paymentNoteMsg.body,null===(a=e.paymentNoteMsg)||void 0===a||delete a.body}(null===(n=e.quotedMsg)||void 0===n||null===(r=n.paymentNoteMsg)||void 0===r?void 0:r.body)&&(i.quotedMsg.paymentNoteMsgBody=e.quotedMsg.paymentNoteMsg.body,delete e.quotedMsg.paymentNoteMsg.body);l.MSG_OPAQUE_DATA_KEYS.forEach((t=>{i.currentMsg[(0,l.getKey)(e.type,t)]=e[t],delete e[t]})),e.originalSelfAuthor&&(i.currentMsg.originalSelfAuthor=(0,o.extractUserJid)((0,E.widToDeviceJid)(e.originalSelfAuthor)),delete e.originalSelfAuthor);i.currentMsg.pollOptions=(0,d.compressPollOptions)(e.pollOptions),delete e.pollOptions,e.quotedMsg&&(l.MSG_OPAQUE_DATA_KEYS.forEach((t=>{i.quotedMsg[t]=e.quotedMsg[t],delete e.quotedMsg[t]})),i.quotedMsg.pollOptions=(0,d.compressPollOptions)(e.quotedMsg.pollOptions),delete e.quotedMsg.pollOptions);const s=(0,g.encodeProtobuf)(_.MsgRowOpaqueDataSpec,i);e.msgRowOpaqueData=s.readBuffer()}(n),n},t.messageFromDbRow=function(e,t){var n,r,o;const E=(0,i.default)({},e);e.quotedMsg&&(E.quotedMsg=(0,i.default)({},e.quotedMsg));(null===(n=e.quotedMsg)||void 0===n?void 0:n.paymentNoteMsg)&&(E.quotedMsg.paymentNoteMsg=(0,i.default)({},e.quotedMsg.paymentNoteMsg));e.paymentNoteMsg&&(E.paymentNoteMsg=(0,i.default)({},e.paymentNoteMsg));e.paymentBackground&&(E.paymentBackground=(0,i.default)({},e.paymentBackground));e.groupMentions&&(E.groupMentions=e.groupMentions.map((e=>({groupSubject:e.groupSubject,groupJid:(0,f.createWidFromWidLike)(e.groupJid)}))));E.star=void 0!==E.isStarred,E.isMdHistoryMsg=E.rowId<1e9,null==E.internalId||"newsletter"!==(null===(r=E.to)||void 0===r?void 0:r.server)&&!(null===(o=E.from)||void 0===o?void 0:o.endsWith("@newsletter"))||(E.serverId=(0,s.getInChatMsgId)(E.internalId));delete E.internalId,delete E.isStarred,delete E.count,delete E.hasLink,delete E.isMediaMsg,delete E.isDocMsg,delete E.expiredTimestamp,delete E.pendingReadReceipt,function(e){const t=(0,A.decodeProtobuf)(_.MsgRowOpaqueDataSpec,e.msgRowOpaqueData);if(t.currentMsg){var n,r,i;if(t.currentMsg.paymentNoteMsgBody&&e.paymentNoteMsg)e.paymentNoteMsg.body=null===(i=t.currentMsg)||void 0===i?void 0:i.paymentNoteMsgBody;l.MSG_OPAQUE_DATA_KEYS.forEach((n=>{var r;e[n]=null===(r=t.currentMsg)||void 0===r?void 0:r[(0,l.getKey)(e.type,n)]})),e.pollOptions=(0,d.expandPollOptions)(null===(n=t.currentMsg)||void 0===n?void 0:n.pollOptions);const o=null===(r=t.currentMsg)||void 0===r?void 0:r.originalSelfAuthor;null!=o&&p.default.isWid(o)&&(e.originalSelfAuthor=(0,f.createWid)(o))}if(e.quotedMsg&&t.quotedMsg){var o;t.quotedMsg.paymentNoteMsgBody&&(e.quotedMsg.paymentNoteMsg.body=t.quotedMsg.paymentNoteMsgBody),l.MSG_OPAQUE_DATA_KEYS.forEach((n=>{var r;e.quotedMsg[n]=null===(r=t.quotedMsg)||void 0===r?void 0:r[(0,l.getKey)(e.type,n)]})),e.quotedMsg.pollOptions=(0,d.expandPollOptions)(null===(o=t.quotedMsg)||void 0===o?void 0:o.pollOptions)}}(E),(0,a.hydrateWids)(E),T.forEach((e=>{null!=E[e]&&(E[e]=c.default.from(E[e]))})),null!=E.messageSecret&&(E.messageSecret=new Uint8Array(E.messageSecret));null!=E.botMessageSecret&&(E.botMessageSecret=new Uint8Array(E.botMessageSecret));const[g,m,I]=function(e){let{futureproofType:t,futureproofSubtype:n,subtype:r}=e;if(e.type===u.MSG_TYPE.UNKNOWN&&null==e.futureproofType&&null!=e.subtype){switch(e.subtype){case"poll_update":t=u.MSG_TYPE.POLL_UPDATE,n="poll_vote";break;case"message_edit":t=u.MSG_TYPE.PROTOCOL,n="message_edit";break;case"phone":case"phone_only_feature":break;default:(0,h.default)(S.has(e.subtype),"WAWebDBMessageSerialization: Unsupported message subtype being set to futureproofType"),t=e.subtype}e.type===u.MSG_TYPE.UNKNOWN&&null!=t&&(r=void 0)}e.type===u.MSG_TYPE.POLL_UPDATE&&null==r&&(r="poll_vote");return[t,n,r]}(E);return E.futureproofType=g,E.futureproofSubtype=m,E.subtype=null!=I?I:void 0,null==t||t(E),E};var i=r(n(81109)),o=n(44037),a=n(35678),s=n(62505),l=n(34878),c=r(n(60001)),u=n(73602),d=n(662),_=n(34801),p=r(n(27112)),f=n(51017),E=n(14356),A=n(33655),g=n(32126),h=r(n(41143));const S=new Set(Object.values(u.MSG_TYPE)),T=["id","protocolMessageKey","paymentRequestMessageKey","keptMessageKey","pollUpdateParentKey","kicKey","latestEditMsgKey","targetMessageKey","pinParentKey"]},62505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePropertyType=void 0,t.beginningOfChat=function(e){return`${e.toString()}_/`},t.craftInternalId=function(e,t){const n=i(t);return`${e}_${n}_m`},t.craftMessageRangeIndex=function(e,t,n,o){let a;a=n?r.SystemMessage:t?r.IncomingChatMessage:r.Outgoing;return`${e}_${a}_${null!=o?i(o):""}`},t.endOfChat=function(e){return`${e.toString()}_g`},t.getInChatMsgId=function(e){return o(e.split("_")[1])},t.getVcardWids=function(e){let t=[];if("vcard"===e.type)t=[e.body];else{if("multi_vcard"!==e.type)return;t=e.vcardList.map((e=>e.vcard))}const{parseVcard:r,vcardWids:i}=n(46859);return t.filter(Boolean).reduce(((e,t)=>{const n=i(r(t));return e.concat(n.map((e=>e.toString())))}),[])},t.undoOrderPreservingHex=o;const r=n(76672)({IncomingChatMessage:"1",Outgoing:"2",SystemMessage:"3"});function i(e){const t=e.toString(16);return(t.length-1).toString(16)+t}function o(e){return parseInt(e.substring(1),16)}t.MessagePropertyType=r},34878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSG_OPAQUE_DATA_KEYS=void 0,t.getKey=function(e,t){if("reaction_enc"===e)return n[t];return t};t.MSG_OPAQUE_DATA_KEYS=["body","caption","paymentAmount1000","futureproofBuffer","messageSecret","clientUrl","loc","lng","lat","isLive","canonicalUrl","matchedText","title","description","pollName","pollSelectableOptionsCount","isSentCagPollCreation","pollUpdateParentKey","encPollVote","senderTimestampMs","targetMessageKey","encIv","encPayload"];const n={targetMessageKey:"encReactionTargetMessageKey",encIv:"encReactionEncIv",encPayload:"encReactionEncPayload",encReactionTargetMessageKey:"targetMessageKey",encReactionEncIv:"encIv",encReactionEncPayload:"encPayload"}},87946:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.filterReceivedMessagesInRange=function(){return f.apply(this,arguments)},t.getMsgByMsgKey=_,t.getMsgByMsgKeyMat=function(){return p.apply(this,arguments)},t.getMsgsByMsgIdsAndChatId=function(e,t){const n=[];return e.forEach((e=>{const r=new c.default({fromMe:!0,remote:t,id:e});n.push(r.toString());const i=new c.default({fromMe:!1,remote:t,id:e});n.push(i.toString())})),(0,u.getMessageTable)().startsWithAnyOf(["id"],n)},t.getMsgsByMsgKey=function(e,t){return(0,u.getMessageTable)().bulkGet(e).then((e=>e.filter(Boolean).map((e=>(0,s.messageFromDbRow)(e,t)))))},t.getMsgsExistByMsgKey=function(e){return(0,u.getMessageTable)().bulkGet(e,!1).then((e=>e.map(Boolean)))};var i=r(n(48926)),o=r(n(49619)),a=n(93040),s=n(74773),l=n(54468),c=r(n(60001)),u=n(10139),d=n(49625);function _(e,t){let n;return n=e instanceof c.default?e.toString():e,(0,u.getMessageTable)().get(n).then((e=>e?(0,s.messageFromDbRow)(e,t):null))}function p(){return(p=(0,i.default)((function*(e,t){const n=yield _(e,t);if(n)return n;const r=e instanceof c.default?e:c.default.from(e);if(r.remote.isUser()){const e=yield(0,a.getMatChat)(r.remote,a.MatType.IncomingMessage),n=new c.default({fromMe:r.fromMe,remote:e,id:r.id});return(0,d.workerSafeFireAndForget)("incrementPnhCtwaDailyCount",{chatId:e}),_(n,t)}}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e,t){if(0===t.length)return t;const n=t.map((e=>(0,l.protobufToMsgKey)((0,o.default)(e.key,"syncActionMessage.key")).toString())),r=yield(0,u.getMessageTable)().bulkGet(n,!1);return t.filter(((e,t)=>null!=r[t]))}))).apply(this,arguments)}},7103:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EditedMentionOfMe=void 0,t.processEditProtocolMsgs=function(){return C.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=r(n(44908)),s=n(9178),l=r(n(49619)),c=n(29987),u=r(n(46808)),d=n(93040),_=n(1619),p=n(63007),f=n(74773),E=n(87946),A=n(93198),g=n(68214),h=n(37855),S=n(74557),T=n(26368),m=n(97087),I=n(73602);const y=n(76672).Mirrored(["Added","Removed"]);function C(){return(C=(0,o.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return[];const r=yield O(e),i=v(e,r),o=[],a=[];i.sort(((e,t)=>(0,l.default)(t.latestEditSenderTimestampMs,"b.latestEditSenderTimestampMs")-(0,l.default)(e.latestEditSenderTimestampMs,"a.latestEditSenderTimestampMs")));for(const e of i){const t=e.protocolMessageKey&&r.get(e.protocolMessageKey.toString());t&&t.type!==I.MSG_TYPE.CIPHERTEXT?a.push(B(t,e)):o.push(e)}yield N(o),a.length&&(yield M(a),D(a.filter((e=>e.isLatest&&!(0,T.getIsNewsletterMsg)(e.parentMsg))).map((e=>e.parentMsg))),yield U(a));const s=a.filter((e=>e.isLatest));if(s.length&&(0,_.frontendFireAndForget)("updateEditedMessagesAction",{messageEdits:s}),t){const{markFutureproofMessagesReparsed:t}=n(58351);yield t(e.map((e=>e.id.toString())))}return s}))).apply(this,arguments)}function v(e,t){return e.filter((e=>{const n=e.protocolMessageKey;if(!n)return __LOG__(4,void 0,new Error)`[message-edit] protocol msg is missing original msg key`,!1;const r=t.get(n.toString());if(r){if(!((0,h.msgTypeSupportsEditing)(r.type)||r.type===I.MSG_TYPE.CIPHERTEXT))return __LOG__(3)`[message-edit] original message type is ${r.type} which cannot be edited`,!1;if(!0===r.isForwarded)return __LOG__(4,void 0,new Error)`[message-edit] original message cannot be a forwarded message`,!1;const t=(0,l.default)(r.t,"parentMsg.t"),n=(0,l.default)(e.t,"protocolMsg.t");if(!(0,h.isParentWithinEditProcessingWindow)({parentTsInSeconds:t,editTsInSeconds:n,msgKey:r.id}))return __LOG__(3)`[message-edit] protocol msg exceeds edit window, will be dropped`,!1;const i=(0,T.getSender)(r),o=(0,T.getSender)(e);if(!i||!o||!i.equals(o))return __LOG__(4,void 0,new Error)`[message-edit] sender is not the parent msg sender`,!1}return null!=e.latestEditSenderTimestampMs||(__LOG__(4,void 0,new Error)`[message-edit] protocol msg does not have a valid sender timestamp`,null)}))}function O(){return P.apply(this,arguments)}function P(){return(P=(0,o.default)((function*(e){const t=e.map((e=>e.protocolMessageKey)).filter(Boolean).map((e=>e.toString())),n=yield(0,E.getMsgsByMsgKey)(t);return new Map(n.map((e=>[e.id.toString(),e])))}))).apply(this,arguments)}function N(){return b.apply(this,arguments)}function b(){return(b=(0,o.default)((function*(e){if(!e.length)return;const{storeMessageOrphans:t}=n(6751);yield t(e,(e=>e.protocolMessageKey))}))).apply(this,arguments)}function M(){return R.apply(this,arguments)}function R(){return(R=(0,o.default)((function*(e){e.length&&(yield(0,S.getStorage)().lock(["message","chat"],function(){var t=(0,o.default)((function*(t){let[n,r]=t;const o=[],a=new Set;e.forEach((e=>{const{parentMsg:t,editedMsgData:n,isLatest:r,protocolMsg:s}=e;if(r&&(o.push((0,i.default)((0,i.default)({},t),n)),!(0,T.getIsSentByMe)(s))){const e=s.id.remote.toString();a.add(e)}}));const s=[];if(o.length&&s.push(n.bulkCreateOrMerge(o.map(f.dbRowFromMessage))),a.size){const e=Array.from(a).map((e=>({id:e,unreadEditTimestampMs:(0,c.unixTimeMs)()})));s.push(r.bulkCreateOrMerge(e))}yield Promise.all(s)}));return function(){return t.apply(this,arguments)}}()))}))).apply(this,arguments)}function D(e){if(!e.length)return;const t=(0,a.default)(e.map((e=>String((0,l.default)(e.rowId,"msg.rowId")))));A.ftsLightClient.purge(t).catch((()=>{})),u.default.ignoreTransaction((0,o.default)((function*(){yield A.ftsLightClient.addToIndexingTable(t),A.ftsLightClient.index().catch((()=>{}))})))}function L(e){if((0,T.getIsSentByMe)(e))return"out"===e.self?s.ACK.CLOCK:(0,m.isNoteToSelf)(e.id)?s.ACK.READ:s.ACK.SENT}t.EditedMentionOfMe=y;const w=new Map;function B(e,t){var n,r,o;const a=Boolean(t.matchedText)||Boolean(t.canonicalUrl)||Boolean(t.description)||Boolean(t.title),s={latestEditMsgKey:t.latestEditMsgKey,latestEditSenderTimestampMs:t.latestEditSenderTimestampMs,errorCode:t.errorCode,ack:L(e),pendingReadReceipt:(0,T.getIsSentByMe)(e)?void 0:2},c=(0,l.default)((0,h.getMsgEditType)(e.type),"getMsgEditType(parentMsg.type)");let u,d;var _,f,E,A,g;c===h.MsgEditType.TextEdit?u=(0,i.default)((0,i.default)({},s),{},{subtype:a?"url":void 0,body:t.body,mentionedJidList:t.mentionedJidList,groupMentions:t.groupMentions,title:t.title,description:t.description,canonicalUrl:t.canonicalUrl,matchedText:t.matchedText,inviteGrpType:t.inviteGrpType,thumbnail:t.thumbnail,richPreviewType:t.richPreviewType,doNotPlayInline:t.doNotPlayInline,thumbnailDirectPath:null!==(_=t.thumbnailDirectPath)&&void 0!==_?_:void 0,thumbnailSha256:null!==(f=t.thumbnailSha256)&&void 0!==f?f:void 0,thumbnailEncSha256:null!==(E=t.thumbnailEncSha256)&&void 0!==E?E:void 0,thumbnailHeight:null!==(A=t.thumbnailHeight)&&void 0!==A?A:void 0,thumbnailWidth:null!==(g=t.thumbnailWidth)&&void 0!==g?g:void 0,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}):c===h.MsgEditType.CaptionEdit&&(d=(0,i.default)((0,i.default)({},s),{},{caption:t.caption,mentionedJidList:t.mentionedJidList,groupMentions:t.groupMentions,isCaptionByUser:!0}));const S=(0,l.default)(null!==(n=u)&&void 0!==n?n:d,"editedTextMsgData ?? editedCaptionMsgData");(0,T.getIsSentByMe)(e)&&"out"!==e.self&&null!=t.count&&(S.count=t.count);const m=null!==(r=null!==(o=w.get(e.id.toString()))&&void 0!==o?o:e.latestEditSenderTimestampMs)&&void 0!==r?r:0,I=(0,l.default)(t.latestEditSenderTimestampMs,"protocolMsg.latestEditSenderTimestampMs"),C=I>m;let v;if(C&&w.set(e.id.toString(),I),!(0,T.getIsSentByMe)(e)){const t=(0,T.getHasMentionOfMe)(e),n=(0,T.getHasMentionOfMe)((0,i.default)((0,i.default)({},e),S));t&&!n?v=y.Removed:!t&&n&&(v=y.Added)}return(0,p.isBotEnabled)()&&((0,T.getIsBotResponse)(e)||null!=e.botEditType)&&(S.botEditType=t.botEditType,S.botEditTargetId=t.botEditTargetId),{parentMsg:e,protocolMsg:t,editedMsgData:S,isLatest:C,mentionOfMe:v}}function U(){return G.apply(this,arguments)}function G(){return(G=(0,o.default)((function*(e){if(!(0,g.receiveCaptionEditEnabled)())return;const t=new Map,n=new Map;for(const r of e){const{parentMsg:e,mentionOfMe:i}=r,o=e.id.remote.toString();if(i)switch(i){case y.Removed:{const n=e.id.toString();let r=t.get(o);r||(r=[],t.set(o,r)),r.push(n);break}case y.Added:{let t=n.get(o);t||(t=[],n.set(o,t));const r={id:e.id.toString(),timestamp:e.t};t.push(r)}}}t.size&&(yield(0,d.removeUnreadMentionChat)(t)),n.size&&(yield(0,d.addUnreadMentionChat)(n))}))).apply(this,arguments)}},25078:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processGroupInviteMessages=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(29987),a=n(18625);function s(){return(s=(0,i.default)((function*(e){yield(0,a.persistGroupInviteV4Msgs)(e.map((e=>({id:e.id.toString(),from:e.from.toString(),to:e.to.toString(),groupId:e.inviteGrp,expiration:parseInt(e.inviteCodeExp,10),expired:(0,o.unixTime)()>=parseInt(e.inviteCodeExp,10)}))))}))).apply(this,arguments)}},37653:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousMsgNotUpdatableError=t.DuplicateMessageError=void 0,t.processGroupInviteMessages=function(){return I.apply(this,arguments)},t.starMessages=function(e){return(0,A.getMessageTable)().bulkGet(e).then((e=>{const t=e.filter(Boolean).map((e=>({id:e.id,isStarred:(0,g.shouldPopulateStarMessageWithTimestamp)()?e.t:e.rowId})));return(0,A.getMessageTable)().bulkCreateOrMerge(t)}))},t.storeMessages=function(){return m.apply(this,arguments)},t.unstarMessages=function(e){return(0,A.getMessageTable)().bulkCreateOrMerge(e.map((e=>({id:e,isStarred:void 0}))))},t.updateExistingMessages=function(e,t){var n;const r=null==t?null===(n=e[0])||void 0===n?void 0:n.id.remote:t;if(r){const t=e.map((e=>{const t=(0,d.dbRowFromMessage)(e);return(0,_.addMsgMetadataToMsgRow)({msg:t,chatId:r.toString(),hasLink:!!(0,f.findLink)(e.body,!0)})}));return Promise.resolve((0,A.getMessageTable)().bulkCreateOrMerge(t)).then((()=>{p.ftsLightClient.index().catch((()=>{}))})).catch((e=>{throw __LOG__(3)`Error storing messages`,e}))}return Promise.resolve()},t.updateMessage=function(e){if((0,c.isPlaceholderMsg)(e.type))return Promise.resolve();return(0,E.getStorage)().lock(["message"],function(){var t=(0,i.default)((function*(t){let[n]=t;const r=yield n.get(e.id.toString());if(!r)throw(0,h.default)(`[messaging] updateMessage: msgId::${e.id.toString()}, Failed to find previous message row in message table`);if(!(0,c.isPlaceholderMsg)(r.type)&&!(0,c.isFutureproofMsg)(r.type))throw __LOG__(2,void 0,void 0,void 0,["messaging"])`updateMessage: msgId::${e.id.toString()}, Previous row in message table is not a placeholder or futureproof`,new T;null!=r.t&&(e.t=r.t),r.ack>e.ack&&(e.ack=r.ack);const i=(0,_.addMsgMetadataToMsgRow)({msg:(0,d.dbRowFromMessage)(e),chatId:e.from.toString(),hasLink:!!(0,f.findLink)(e.body,!0),rowId:void 0,inChatMsgId:void 0,pendingReadReceipt:r.pendingReadReceipt});if(i.rowId=r.rowId,i.internalId=r.internalId,null==i.rowId||null==i.internalId)throw(0,h.default)(`[messaging] updateMessage: msgId::${e.id.toString()}, missing rowId or internalId`);yield n.createOrReplace(i),(0,c.isPlaceholderMsg)(r.type)&&(0,l.frontendFireAndForget)("populatePlaceholderWamActions",{msgs:[(0,d.messageFromDbRow)(r)]}),p.ftsLightClient.index().catch((()=>{}))}));return function(){return t.apply(this,arguments)}}())};var i=r(n(48926)),o=n(29987),a=r(n(46808)),s=n(18625),l=n(1619),c=n(24992),u=n(56858),d=n(74773),_=n(39066),p=n(93198),f=n(31565),E=n(74557),A=n(10139),g=n(88159),h=r(n(89482));class S extends Error{constructor(){super(...arguments),this.name="DuplicateMessageError"}}t.DuplicateMessageError=S;class T extends Error{constructor(){super(...arguments),this.name="PreviousMsgNotUpdatableError"}}function m(){return(m=(0,i.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return yield u.DbEncKeyStore.waitForFinalDbMsgEncKey(),Promise.resolve((0,_.storeMessageInTransaction)(e,t,n)).then((()=>{p.ftsLightClient.index().catch((()=>{}))})).catch((e=>{throw e instanceof a.default.BulkError||e instanceof a.default.ConstraintError?new S:(__LOG__(3)`Error storing messages`,e)}))}))).apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){return yield Promise.all(e.map((e=>(0,s.persistGroupInviteV4Msg)(e.id.toString(),{id:e.id.toString(),from:e.from.toString(),to:e.to.toString(),groupId:e.inviteGrp,expiration:parseInt(e.inviteCodeExp,10),expired:(0,o.unixTime)()>=parseInt(e.inviteCodeExp,10)})))),Promise.resolve()}))).apply(this,arguments)}t.PreviousMsgNotUpdatableError=T},82740:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processPollUpdateMsgs=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=r(n(49619)),a=n(1619),s=n(78013),l=n(32602),c=n(48840),u=n(64071),d=n(68569),_=n(69785);function p(){return(p=(0,i.default)((function*(e){if(0===e.length)return[];const{pollUpdateMsgsToParentMsgs:t,orphans:r}=yield(0,s.getParentMessages)(e);for(const[e,n]of t.entries())n.pollInvalidated&&t.delete(e);const[,p]=yield Promise.all([(0,i.default)((function*(){if(0===r.length)return;const{storeMessageOrphans:e}=n(6751);yield e(r,(e=>(0,o.default)(e.pollUpdateParentKey,"pollUpdateMsg.pollUpdateParentKey")));const t=r.map((e=>e.id.toString())),{markFutureproofMessagesReparsed:i}=n(58351);yield i(t)}))(),(0,i.default)((function*(){if(0===t.size)return;const e=yield(0,l.upsertVotesDb)(yield(0,d.extractVotes)(t));yield(0,a.frontendSendAndReceive)("upsertVotesModelCollection",{votes:e,restoredFromDb:!1});const r=e.map((e=>e.msgKey.toString())),{markFutureproofMessagesReparsed:i}=n(58351);yield i(r);const o=yield(0,_.filterChatsWithAddOnPreviewUpdates)(e.map((e=>(0,u.lastAddOnPreviewCandidateFromVoteData)(e,!1))));return o.size>0&&(yield(0,c.updateDatabaseForLastAddOnPreview)(o),(0,a.frontendFireAndForget)("updateChatLastAddOnPreview",{chatMap:o})),e}))()]);return null!=p?p:[]}))).apply(this,arguments)}},93444:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processReplyMsgs=function(){return S.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=r(n(18446)),s=r(n(91747)),l=r(n(35937)),c=r(n(49619)),u=n(74773),d=n(87946),_=n(98051),p=n(68214),f=n(37855),E=n(74557),A=n(26368),g=r(n(60001)),h=n(3885);function S(){return(S=(0,o.default)((function*(e){if(!(0,p.processReplyMessagesEnabled)()||!e.length)return;const t=yield(0,E.getStorage)().lock(["message"],function(){var t=(0,o.default)((function*(t){let[n]=t;const r=new Set;e.forEach((e=>{r.add(T(e).toString())}));const o=(yield(0,d.getMsgsByMsgKey)(Array.from(r.values()))).filter((e=>{const t=(0,f.getMsgEditType)(e.type);if(!t)return!1;switch(t){case f.MsgEditType.TextEdit:return(0,p.receiveTextEditEnabled)();case f.MsgEditType.CaptionEdit:return(0,p.receiveCaptionEditEnabled)()}})),a=new Map(o.map((e=>[e.id.toString(),e]))),s=e.filter((e=>a.has(T(e).toString())));if(!s.length)return;const l=[];return s.forEach((e=>{const t=(0,c.default)(a.get(T(e).toString()),"quotedMsgsByKey.get(createQuotedMsgKey(msg).toString())");I((0,c.default)(e.quotedMsg,"msg.quotedMsg"),t)&&l.push((0,i.default)((0,i.default)({},e),{},{quotedMsg:t}))})),l.length?(yield n.bulkCreateOrMerge(l.map(u.dbRowFromMessage)),l):void 0}));return function(){return t.apply(this,arguments)}}());(null==t?void 0:t.length)&&t.forEach((t=>{(0,c.default)(e.find((e=>e.id.equals(t.id))),"replyMsgs.find(m => m.id.equals(updatedMsg.id))").quotedMsg=t.quotedMsg}))}))).apply(this,arguments)}function T(e){var t,n;const r=null!==(t=e.quotedParticipant)&&void 0!==t?t:void 0,i=null!==(n=e.quotedRemoteJid)&&void 0!==n?n:e.id.remote;return new g.default({id:(0,c.default)(e.quotedStanzaID,"msg.quotedStanzaID"),fromMe:(0,h.isMeAccount)(r),remote:i,participant:(0,A.getIsGroupMsg)(e)||(null==r?void 0:r.isBot())?r:void 0})}const m={inviteGrpType:_.GroupType.DEFAULT,thumbnail:"",body:"",caption:"",interactiveAnnotations:[],scanLengths:[],staticUrl:"",pageCount:0};function I(e,t){const n=(0,l.default)(e,(e=>null!=e)),r=(0,l.default)(t,((e,t)=>n.hasOwnProperty(t)));return(0,s.default)(n,m),(0,s.default)(r,m),!(0,a.default)(n,r)}},4489:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.storeEncryptedDBMessages=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,d.getStorage)().lock(["message"],function(){var r=(0,i.default)((function*(r){let[u]=r;const d=yield(0,c.getLastRowId)(u,n),E=new Map;yield Promise.all(t.map((e=>{const t=(0,f.createWid)(e),r=(0,s.beginningOfChat)(t),i=(0,s.endOfChat)(t);return u.between(["internalId"],r,i,{limit:1,reverse:!n,returnKeyType:"keys"}).then((e=>{const n=0===e.length?c.INLINE_MESSAGE_STARTING_INDEX:(0,s.getInChatMsgId)(e[0]);E.set(t.toString(),n)}))})));const A=n?-1:1,g=(yield(0,o.promiseMap)(e,function(){var e=(0,i.default)((function*(e,t){let[r,i]=e;n&&(r.isMdHistoryMsg=!0);const o=_.default.fromString(r.id),a=o.remote.toString(),s=E.get(a);if(null==s||Number.isNaN(s))return;const c=s+1*A;E.set(a,c);const u=!n&&(yield(0,l.isPendingUnreadReceipt)(o,r));return(0,l.addMsgMetadataToMsgRow)({msg:r,chatId:a,hasLink:i,rowId:d+A*(t+1),inChatMsgId:c,pendingReadReceipt:u})}));return function(){return e.apply(this,arguments)}}())).filter(Boolean);try{yield u.bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY(g)}catch(e){if(!(n&&e instanceof a.default.BulkError))throw __LOG__(3)`storeEncryptedDBMessages: dropping ${g.length} message(s): ${g.map((e=>{let{id:t}=e;return t}))}, due to DB error: ${e}`,(0,p.postIncomingMessageDropDBOperationFailedForMsgRows)(g),e;__LOG__(4,void 0,new Error)`storeEncryptedDBMessages: BulkError in bulkCreate for history sync msgs, retrying with bulk create or replace`,yield u.bulkCreateOrReplace_ALREADY_ENCRYPTED_RECORDS_ONLY(g)}return g}));return function(){return r.apply(this,arguments)}}()).then((e=>{a.default.ignoreTransaction((0,i.default)((function*(){yield u.ftsLightClient.addToIndexingTable(e.map((e=>null!=e.rowId?String(e.rowId):null)).filter(Boolean)),u.ftsLightClient.index().catch((()=>{}))})))}))};var i=r(n(48926)),o=n(21212),a=r(n(46808)),s=n(62505),l=n(39066),c=n(34066),u=n(93198),d=n(74557),_=r(n(60001)),p=n(27783),f=n(51017)},39066:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addMsgMetadataToMsgRow=C,t.isPendingUnreadReceipt=I,t.storeMessageInTransaction=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=null==t?e[0].id.remote:t,i=(0,d.beginningOfChat)(r),a=(0,d.endOfChat)(r),c=v(`storeMessageInTransaction: ${e.length} message(s), chat ${(null==r?void 0:r.toString())||"-"}`);return(0,p.getStorage)().lock(["chat","message"],function(){var t=(0,o.default)((function*(t){let[l,p]=t;c.addStage("got table lock");const f=yield l.get(r.toString());if(c.addStage("got chat"),!r.isStatusV3()&&(null!=f||m(e))){const t=y(f,e,r);yield l.createOrMerge(r.toString(),t)}c.addStage("got messages meta");const E=p.all({reverse:!n,limit:1,index:["rowId"],returnKeyType:"keys"}).then((e=>(c.addStage("got boundary row id"),0===e.length?T:e[0]))),A=p.between(["internalId"],i,a,{limit:1,reverse:!n,returnKeyType:"keys"}).then((e=>(c.addStage("got chat msg boundary id"),0===e.length?T:(0,d.getInChatMsgId)(e[0])))),[g,h]=yield Promise.all([E,A]);c.addStage("got boundaries");const S=n?g-e.length:g+1,v=n?h-e.length:h+1,O=yield(0,s.promiseMap)(e,function(){var e=(0,o.default)((function*(e,t){const i=(0,u.dbRowFromMessage)(e),o=!n&&(yield I(e.id,e));return C({msg:i,chatId:r.toString(),hasLink:!!(0,_.findLink)(e.body,!0),rowId:S+t,inChatMsgId:v+t,pendingReadReceipt:o})}));return function(){return e.apply(this,arguments)}}());return c.addStage("messages ready for storing in db"),p.bulkCreate(O).then((()=>O))}));return function(){return t.apply(this,arguments)}}()).then((e=>{c.done(),l.default.ignoreTransaction((()=>{(0,h.getFtsIndexingQueueTable)().bulkCreateOrReplace(e.map((e=>({id:String(e.rowId)}))))}))}))};var i=r(n(81109)),o=r(n(48926)),a=n(44037),s=n(21212),l=r(n(46808)),c=n(24992),u=n(74773),d=n(62505),_=n(31565),p=n(74557),f=n(70760),E=n(26368),A=r(n(60001)),g=n(73602),h=n(97659),S=n(88159);const T=1e9;function m(e){return e.some((e=>e.type!==g.MSG_TYPE.NOTIFICATION_TEMPLATE))}function I(e,t){if(e.fromMe||e.remote.isStatusV3())return!1;const n=(0,f.eventTypeFromMsgType)(t);return n===c.EventType.AMBIENT||n===c.EventType.DEFAULT}function y(e,t,n){var r,i;let o,a=Math.max(0,null!==(r=null==e?void 0:e.unreadCount)&&void 0!==r?r:0);const s=null!==(i=null==e?void 0:e.unreadMentionsOfMe)&&void 0!==i?i:[];return t.forEach((e=>{const t=(0,f.eventTypeFromMsgType)(e);if(t===c.EventType.IGNORE)return;e&&null!=e.t&&(null==o||e.t>o)&&(o=e.t),t!==c.EventType.AMBIENT&&t!==c.EventType.DEFAULT||e.id.fromMe||(a+=1);if(I(e.id,e)&&(0,E.getIsImportantMessage)(e)){const t={id:e.id.toString(),timestamp:e.t};s.push(t)}})),e&&null!=e.t&&(null==o||e.t>o)&&(o=e.t),{id:n.toString(),unreadCount:a,t:o,unreadMentionsOfMe:s}}function C(e){var t;const{msg:n,chatId:r,hasLink:o,rowId:s,inChatMsgId:l,pendingReadReceipt:c}=e,u=[g.MSG_TYPE.IMAGE,g.MSG_TYPE.VIDEO,g.MSG_TYPE.AUDIO].includes(n.type),_=(0,S.shouldPopulateStarMessageWithTimestamp)()?n.t:s,p=(0,i.default)((0,i.default)({},n),{},{vcardWAids:n.vcardWAids||(0,d.getVcardWids)(n),id:n.id.toString(),isStarred:n.star?_:void 0,hasLink:"chat"===n.type&&o?s:void 0,isMediaMsg:u?s:void 0,isDocMsg:n.type===g.MSG_TYPE.DOCUMENT?s:void 0,expiredTimestamp:null!==(t=(0,E.getEphemeralExpirationTimestamp)(n))&&void 0!==t?t:void 0});null!=s&&(p.rowId=s),null!=l&&(p.internalId=(0,d.craftInternalId)(r,l)),c&&r!==a.STATUS_JID&&(p.pendingReadReceipt=1);let f=n.c2sTimestamp;var h;n.id.fromMe?f=null!==(h=n.c2sTimestamp)&&void 0!==h?h:n.t:f=n.t;try{n.type!==g.MSG_TYPE.REACTION&&(p.messageRangeIndex=(0,d.craftMessageRangeIndex)(r,!A.default.fromString(n.id).fromMe,g.SYSTEM_MESSAGE_TYPES.includes(n.type),f))}catch(e){__LOG__(4,void 0,new Error)`[process-msg] craftMessageRangeIndex failed with error ${e}`}return p}function v(e){const t=Date.now(),n=[];return{addStage(e){n.push([e,Date.now()-t])},done(){if(Date.now()-t>5e3){for(const[e,t]of n);__LOG__(3)`${e}: completed in ${Date.now()-t}ms`}}}}},34066:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INLINE_MESSAGE_STARTING_INDEX=void 0,t.getLastRowId=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.all({reverse:!t,limit:1,index:["rowId"],returnKeyType:"keys"}).then((e=>0===e.length?n:e[0]))};const n=1e9;t.INLINE_MESSAGE_STARTING_INDEX=n},78891:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processRevokeMsgs=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=n(93040),a=n(31654),s=n(93198),l=n(74557),c=n(26368),u=r(n(60001)),d=n(73602),_=r(n(27112));function p(){return(p=(0,i.default)((function*(e){const t=[],n=[],r=[],p=new Map,f=e.filter((e=>{const{revokeMsgKey:t,newMsgKey:n,subtype:r}=e;let i=!0;return"admin_revoke"===r?_.default.isGroup(t.remote)||_.default.isNewsletter(t.remote)?_.default.equals(t.remote,n.remote)||(i=!1,__LOG__(2)`processRevokeMsgs: ${String(t)} has not been revoked`,__LOG__(3,void 0,void 0,!0)`processRevokeMsgs: admin revoke came for the different group than the original message was in`,SEND_LOGS("process-admin-revoke-message")):(i=!1,__LOG__(2)`processRevokeMsgs: ${String(t)} has not been revoked`,__LOG__(3,void 0,void 0,!0)`processRevokeMsgs: admin revoke has to be sent to a group or newsletter chat`,SEND_LOGS("process-admin-revoke-message")):(i=_.default.equals(t.remote,n.remote)&&_.default.equals(t.participant,n.participant)&&t.fromMe===n.fromMe,i||__LOG__(2)`processRevokeMsgs: invalid revoke request ${String(t)}, ${String(n)}`),i}));f.forEach((e=>{n.push(e.revokeMsgKey.toString()),r.push(e.newMsgKey.toString())}));const E=f.length;yield(0,l.getStorage)().lock(["message","orphan-revoke"],function(){var e=(0,i.default)((function*(e){let[i,o]=e;const s=yield i.bulkGet(n.concat(r),!1),l=s.slice(0,E),_=s.slice(E),A=[],g=[];l.forEach(((e,i)=>{var o,a;if(null==e)return __LOG__(2)`processRevokeMsg: orphan revoke message key ${l[i]}`,void g.push({msgKey:n[i],sender:f[i].sender,timestamp:f[i].timestamp,subtype:null!==(a=f[i].subtype)&&void 0!==a?a:"sender_revoke"});if(A.push({id:r[i],to:e.to,author:e.author,type:d.MSG_TYPE.REVOKED,subtype:"admin_revoke"===f[i].subtype?"admin":"sender",revokeSender:f[i].sender,protocolMessageKey:n[i],protocolMessageRowId:null===(o=_[i])||void 0===o?void 0:o.rowId,from:e.from,t:e.t,rowId:e.rowId,internalId:e.internalId,messageRangeIndex:e.messageRangeIndex,revokeTimestamp:f[i].revokeTimestamp,disappearingModeInitiator:f[i].disappearingModeInitiator,ephemeralDuration:f[i].ephemeralDuration,ephemeralSettingTimestamp:f[i].ephemeralSettingTimestamp}),t.push(String(e.rowId)),(0,c.getIsImportantMessage)(e)){const t=u.default.fromString(e.id).remote.toString();if(p.has(t)){var s;const n=null!==(s=p.get(t))&&void 0!==s?s:[];p.set(t,[...n,e.id])}else p.set(t,[e.id])}}));const h=[i.bulkRemove(n),i.bulkCreateOrReplace(A)];g.length>0&&h.push((0,a.addOrphanRevokes)(g)),yield Promise.all(h)}));return function(){return e.apply(this,arguments)}}()),s.ftsLightClient.purge(t).catch((()=>{})),p.size>0&&(0,o.removeUnreadMentionChat)(p)}))).apply(this,arguments)}},505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityLinkOperation=void 0;const r=n(76672).Mirrored(["SubGroupLink","SiblingGroupLink","SubGroupUnlink","SiblingGroupUnlink"]);t.CommunityLinkOperation=r},88470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STALE_TYPES=t.PARTICIPANT_OPERATION=t.GroupUnSyncedError=void 0;n(98051);const r=Object.freeze({ADD:"add",REMOVE:"remove",DEMOTE:"demote",PROMOTE:"promote",LINKED_GROUP_PROMOTE:"linked_group_promote",LINKED_GROUP_DEMOTE:"linked_group_demote"});t.PARTICIPANT_OPERATION=r;const i=Object.freeze({DEVICE:"device",PARTICIPANT:"participant"});t.STALE_TYPES=i;class o extends Error{constructor(){super(...arguments),this.name="GroupUnSyncedError"}}t.GroupUnSyncedError=o},50452:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHATSAPP_GRAPHQL_ENDPOINT=t.WHATSAPP_GRAPHQL_ACCESS_TOKEN=void 0;t.WHATSAPP_GRAPHQL_ENDPOINT="https://graph.whatsapp.com/graphql/catalog";t.WHATSAPP_GRAPHQL_ACCESS_TOKEN="WA|787118555984857|7bb1544a3599aa180ac9a3f7688ba243"},37537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersistedQueries=void 0;t.PersistedQueries={WAWebQueryCatalogHasCategoriesQuery:"5247905281934978",WAWebQueryCatalogProductQuery:"3975937262530766",WAWebQueryCatalogQuery:"5456143974442934",WAWebQueryProductCollectionsQuery:"5349138355174780",WAWebQueryProductListCatalogJobQuery:"5431107963648273",WAWebQueryProductSingleCollectionQuery:"5797153010317042",queryProductListCatalogQuery:"5127568407281377"}},30837:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.graphQLRemapLocale=void 0;var i=r(n(68630));t.graphQLRemapLocale=(e,t)=>{try{const n=JSON.parse(t);return(0,i.default)(n)?Object.keys(n).find((t=>{const r=n[t];return!!Array.isArray(r)&&r.includes(e)}))||e:(__LOG__(3)`Invalid json locale mapping`,e)}catch(t){return __LOG__(3)`Invalid json locale mapping`,e}}},56110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLServerError=void 0;class n extends Error{constructor(e){super(),this.name="GraphQLServerError",this.source=e}}t.GraphQLServerError=n},69481:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchQuery=function(){return u.apply(this,arguments)},t.graphql=function(){throw(0,l.default)("Invariant Violation")},t.graphqlWWWTODO=function(){throw(0,l.default)("Invariant Violation")};var i=r(n(6479)),o=r(n(48926)),a=n(56110),s=n(17823),l=r(n(89482));const c=["eventLogger"];function u(){return(u=(0,o.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{eventLogger:r}=n,o=(0,i.default)(n,c);const{fetchQuery:l}=yield(0,s.requireRelayRuntime)();try{const n=yield(0,s.getEnvironment)(),i=(yield l)(n,e,t,o).toPromise();return null==r||r.success(),i}catch(e){throw e instanceof a.GraphQLServerError&&(null==r||r.failure(e.source.errors)),e}}))).apply(this,arguments)}},17823:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironment=function(){return p.apply(this,arguments)},t.requireRelayRuntime=d;var i=r(n(48926)),o=n(50452),a=n(37537),s=n(30837),l=n(56110),c=r(n(14950)),u=n(67454);function d(){return n.e(5085).then(n.t.bind(n,44311,23))}let _;function p(){return(p=(0,i.default)((function*(){if(null!=_)return _;const{Environment:e,Network:t,RecordSource:n,Store:r}=yield d(),p={Accept:"application/json","Content-Type":"application/json"},f=function(){var e=(0,i.default)((function*(e,t){const n={access_token:o.WHATSAPP_GRAPHQL_ACCESS_TOKEN,doc_id:a.PersistedQueries[e.name],variables:t,lang:(0,s.graphQLRemapLocale)(c.default.getFullLocale().replace("-","_"),(0,u.getGraphqlLocaleRemapping)())},r=yield self.fetch(o.WHATSAPP_GRAPHQL_ENDPOINT,{method:"POST",headers:p,body:JSON.stringify(n)});if(!r.ok)throw new l.GraphQLServerError({errors:[{code:r.status,message:r.statusText}]});const i=yield r.json();if(null!=(null==i?void 0:i.errors))throw new l.GraphQLServerError({errors:i.errors});return i}));return function(){return e.apply(this,arguments)}}();return _=new e({network:t.create(f),store:new r(new n)}),_}))).apply(this,arguments)}},26458:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupNotification=function(e){const t=F.parse(e);if(t.error)return __LOG__(4,void 0,new Error)`Parsing Error: ${t.error.toString()}`,Promise.reject(t.error);const n=t.success,r=Boolean(n.offline)&&!P.OfflineMessageHandler.isResumeFromRestartComplete();if((0,y.isGroupNotificationOptimizationEligible)(n,r)&&r)return(0,y.handleGroupNotificationV2)(n,r);return(0,v.handleMessage)(n.chatId.toString(),r,(0,i.default)((function*(){return yield Promise.all(n.actions.map((e=>function(){return W.apply(this,arguments)}(n,e,r)))),(0,s.wap)("ack",{to:(0,_.GROUP_JID)(n.chatId),id:(0,s.CUSTOM_STRING)(n.externalId),class:"notification",type:"w:gp2",participant:n.author?(0,_.USER_JID)(n.author):s.DROP_ATTR})})))};var i=r(n(48926)),o=r(n(81109)),a=r(n(49619)),s=n(80780),l=n(8748),c=n(83741),u=n(64002),d=n(1619),_=n(11439),p=n(18106),f=n(4653),E=n(91360),A=n(58849),g=n(37246),h=n(22296),S=n(42469),T=n(98051),m=n(67594),I=n(28728),y=n(85783),C=n(15610),v=n(75674),O=n(2982),P=n(1723),N=n(41984),b=n(94007),M=n(35872),R=n(23670),D=n(27176),L=n(3885);function w(e){return e.mapChildrenWithTag("participant",(e=>{const t=e.attrEnumOrDefault("type",A.GROUP_PARTICIPANT_TYPES,"participant"),n=e.maybeAttrLidUserJid("lid"),r=e.maybeAttrPhoneUserJid("phone_number");return{displayName:e.maybeAttrString("display_name"),id:(0,C.userJidToUserWid)(e.attrUserJid("jid")),isSuperAdmin:t===A.GROUP_PARTICIPANT_TYPES.superadmin,isAdmin:t===A.GROUP_PARTICIPANT_TYPES.admin||t===A.GROUP_PARTICIPANT_TYPES.superadmin,lid:null!=n?(0,C.userJidToUserWid)(n):null,phoneNumber:null!=r?(0,C.userJidToUserWid)(r):null}}))}function B(e){return{prevVersion:e.hasAttr("prev_v_id")?e.attrInt("prev_v_id"):void 0,version:e.hasAttr("v_id")?e.attrInt("v_id"):void 0}}const U={invite:T.ADD_REASON.INVITE,linked_group_join:T.ADD_REASON.LINKED_GROUP_JOIN,auto_add:T.ADD_REASON.AUTO_ADD,default_sub_group_admin_add:T.ADD_REASON.DEFAULT_SUBGROUP_ADMIN_ADD,default_sub_group_promote:T.ADD_REASON.DEFAULT_SUBGROUP_PROMOTE,invite_auto_add:T.ADD_REASON.INVITE_AUTO_ADD},G={default_sub_group_demote:T.REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE},k={invite_link:N.RequestMethod.InviteLink,linked_group_join:N.RequestMethod.LinkedGroupJoin,non_admin_add:N.RequestMethod.NonAdminAdd},Y={approved:T.REVOKED_SUB_GROUP_SUGGESTION_REASON.APPROVED,rejected:T.REVOKED_SUB_GROUP_SUGGESTION_REASON.REJECTED,cancelled:T.REVOKED_SUB_GROUP_SUGGESTION_REASON.CANCELLED};const F=new l.WapParser("groupNotificationParser",(e=>{e.assertTag("notification"),e.hasAttr("to")&&e.assertAttr("to",(0,L.assertGetMe)().toJid());const t=(0,C.groupJidToWid)(e.attrGroupJid("from")),n=e.hasAttr("participant")?(0,C.userJidToUserWid)(e.attrUserJid("participant")):null;let r=null;try{const t=e.maybeAttrPhoneUserJid("participant_pn");r=null!=t?(0,C.userJidToUserWid)(t):null}catch(e){__LOG__(4,void 0,new Error)`Known error T150827746: ${e.toString()}`}const i=e.attrTime("t"),s=!!e.hasAttr("addressing_mode")&&"lid"===e.attrString("addressing_mode");function l(e){return{jid:e.hasAttr("jid")?(0,C.groupJidToWid)(e.attrGroupJid("jid")):void 0}}const u=e.mapChildren((r=>{var u;const d=r.tag();switch(d){case I.GROUP_NOTIFICATION_TAG.CREATE:return function(e){var t,n,r;const i=e.child("group"),o=w(i),a=function(e){if(e.hasChild("description")){const t=e.child("description");if(t.hasChild("body")){const e=t.child("body");if(e.hasContent())return{content:e.contentString(),id:t.attrString("id")}}}return null}(i),s=function(e){if(e.hasChild("ephemeral")){const t=e.child("ephemeral");if(t.hasAttr("expiration"))return{ephemeralDuration:t.attrInt("expiration")}}return null}(i),l=(0,h.extractLinkedParent)(i),c={subject:i.attrString("subject"),restrict:i.hasChild("locked"),announce:i.hasChild("announcement"),noFrequentlyForwarded:i.hasChild("no_frequently_forwarded"),ephemeralDuration:s?s.ephemeralDuration:void 0,owner:i.hasAttr("creator")?(0,C.userJidToUserWid)(i.attrUserJid("creator")):void 0,creation:i.attrTime("creation"),participants:o,desc:a?a.content:void 0,descId:a?a.id:void 0,subjectOwner:i.hasAttr("s_o")?(0,C.userJidToUserWid)(i.attrUserJid("s_o")):void 0,subjectTime:i.hasAttr("s_t")?i.attrTime("s_t"):void 0,support:i.hasChild("support"),pvId:i.attrInt("p_v_id"),isParentGroup:i.hasChild("parent"),isParentGroupClosed:"request_required"===(null===(t=i.maybeChild("parent"))||void 0===t?void 0:t.maybeAttrString("default_membership_approval_mode")),parentGroup:l?l.parentGroup:void 0,defaultSubgroup:i.hasChild("default_sub_group"),generalSubgroup:i.hasChild("general_chat"),size:i.hasAttr("size")?i.attrInt("size"):void 0,incognito:i.hasChild("incognito"),membershipApprovalMode:"on"===(null==i||null===(n=i.maybeChild("membership_approval_mode"))||void 0===n||null===(r=n.maybeChild("group_join"))||void 0===r?void 0:r.maybeAttrString("state")),allowNonAdminSubGroupCreation:null==i?void 0:i.hasChild("allow_non_admin_sub_group_creation")};return{actionType:I.GROUP_NOTIFICATION_TAG.CREATE,reason:e.hasAttr("reason")?U[e.attrString("reason")]:null,contextGroupId:e.hasAttr("context_group_jid")?(0,C.groupJidToWid)(e.attrGroupJid("context_group_jid")):null,groupInfo:c}}(r);case I.GROUP_NOTIFICATION_TAG.ADD:return(0,o.default)((0,o.default)({actionType:T.GROUP_ACTIONS.ADD,participants:w(r)},B(r)),{},{reason:r.hasAttr("reason")?U[r.attrString("reason")]:null,isLidAddressingMode:s});case I.GROUP_NOTIFICATION_TAG.DELETE:{const e={integrity_delete_parent:T.DELETE_REASON.INTEGRITY_DELETE_PARENT,delete_parent:T.DELETE_REASON.DELETE_PARENT};return{actionType:T.GROUP_ACTIONS.DELETE,reason:r.hasAttr("reason")?e[r.attrString("reason")]:null,groupDatas:[{id:t,subject:""}]}}case I.GROUP_NOTIFICATION_TAG.REMOVE:return(0,o.default)((0,o.default)({actionType:I.GROUP_NOTIFICATION_TAG.REMOVE,participants:w(r)},B(r)),{},{reason:r.hasAttr("reason")?G[r.attrString("reason")]:null,isLidAddressingMode:s});case I.GROUP_NOTIFICATION_TAG.PROMOTE:return(0,o.default)({actionType:I.GROUP_NOTIFICATION_TAG.PROMOTE,participants:w(r)},B(r));case I.GROUP_NOTIFICATION_TAG.DEMOTE:return(0,o.default)({actionType:I.GROUP_NOTIFICATION_TAG.DEMOTE,participants:w(r)},B(r));case I.GROUP_NOTIFICATION_TAG.LINKED_GROUP_PROMOTE:return(0,o.default)((0,o.default)({actionType:I.GROUP_NOTIFICATION_TAG.LINKED_GROUP_PROMOTE,participants:w(r)},B(r)),l(r));case I.GROUP_NOTIFICATION_TAG.LINKED_GROUP_DEMOTE:return(0,o.default)((0,o.default)({actionType:I.GROUP_NOTIFICATION_TAG.LINKED_GROUP_DEMOTE,participants:w(r)},B(r)),l(r));case I.GROUP_NOTIFICATION_TAG.MODIFY:return(0,o.default)({actionType:T.GROUP_ACTIONS.MODIFY,participants:w(r)},B(r));case I.GROUP_NOTIFICATION_TAG.SUBJECT:return{actionType:T.GROUP_ACTIONS.SUBJECT,subject:r.attrString("subject"),s_o:r.hasAttr("s_o")?(0,C.userJidToUserWid)(r.attrUserJid("s_o")):null,s_t:r.hasAttr("s_t")?r.attrTime("s_t"):null};case I.GROUP_NOTIFICATION_TAG.DESC:return r.hasChild("delete")?{actionType:T.GROUP_ACTIONS.DESC_REMOVE,descId:r.attrString("id")}:{actionType:T.GROUP_ACTIONS.DESC_ADD,descId:r.attrString("id"),desc:r.hasChild("body")?r.child("body").contentString():null,descTime:i};case I.GROUP_NOTIFICATION_TAG.SUSPENDED:return{actionType:T.GROUP_ACTIONS.SUSPEND,value:!0};case I.GROUP_NOTIFICATION_TAG.UNSUSPENDED:return{actionType:T.GROUP_ACTIONS.SUSPEND,value:!1};case I.GROUP_NOTIFICATION_TAG.LOCKED:return{actionType:T.GROUP_ACTIONS.RESTRICT,value:!0,threshold:null!==(u=r.maybeAttrString("threshold"))&&void 0!==u?u:void 0};case I.GROUP_NOTIFICATION_TAG.UNLOCKED:return{actionType:T.GROUP_ACTIONS.RESTRICT,value:!1};case I.GROUP_NOTIFICATION_TAG.ANNOUNCE:return{actionType:T.GROUP_ACTIONS.ANNOUNCE,value:!0};case I.GROUP_NOTIFICATION_TAG.NOT_ANNOUNCE:return{actionType:T.GROUP_ACTIONS.ANNOUNCE,value:!1};case I.GROUP_NOTIFICATION_TAG.NO_FREQUENTLY_FORWARDED:return{actionType:T.GROUP_ACTIONS.NO_FORWARD,value:!0};case I.GROUP_NOTIFICATION_TAG.FREQUENTLY_FORWARDED_OK:return{actionType:T.GROUP_ACTIONS.NO_FORWARD,value:!1};case I.GROUP_NOTIFICATION_TAG.INVITE:return{actionType:T.GROUP_ACTIONS.INVITE_CODE,code:r.attrString("code")};case I.GROUP_NOTIFICATION_TAG.EPHEMERAL:return{actionType:T.GROUP_ACTIONS.EPHEMERAL,duration:r.attrInt("expiration")};case I.GROUP_NOTIFICATION_TAG.NOT_EPHEMERAL:return{actionType:T.GROUP_ACTIONS.EPHEMERAL,duration:0};case I.GROUP_NOTIFICATION_TAG.REVOKE_INVITE:return{actionType:T.GROUP_ACTIONS.REVOKE_INVITE,participants:r.mapChildrenWithTag("participant",(e=>({id:(0,C.userJidToUserWid)(e.attrUserJid("jid")),expiration:e.attrInt("expiration")})))};case I.GROUP_NOTIFICATION_TAG.GROWTH_UNLOCKED:return{actionType:T.GROUP_ACTIONS.GROWTH_UNLOCKED};case I.GROUP_NOTIFICATION_TAG.GROWTH_LOCKED:return{actionType:T.GROUP_ACTIONS.GROWTH_LOCKED,expiration:r.attrInt("expiration"),type:r.attrString("type")};case I.GROUP_NOTIFICATION_TAG.LINK:{const e=r.attrString("link_type");return{actionType:{sub_group:T.GROUP_ACTIONS.SUB_GROUP_LINK,parent_group:T.GROUP_ACTIONS.PARENT_GROUP_LINK,sibling_group:T.GROUP_ACTIONS.SIBLING_GROUP_LINK}[e],groupDatas:r.mapChildrenWithTag("group",(e=>({id:(0,C.groupJidToWid)(e.attrGroupJid("jid")),subject:e.attrString("subject"),subjectTime:e.attrInt("s_t")})))}}case I.GROUP_NOTIFICATION_TAG.UNLINK:{const e=r.attrString("unlink_type"),t=r.hasAttr("unlink_reason")?r.attrString("unlink_reason"):null,n=r.mapChildrenWithTag("group",(e=>({id:(0,C.groupJidToWid)(e.attrGroupJid("jid")),subject:e.attrString("subject"),subjectTime:e.attrInt("s_t")})));if("parent_group"===e){if(t===T.DELETE_REASON.DELETE_PARENT)return{actionType:T.GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK,groupDatas:n};if(t===T.DELETE_REASON.INTEGRITY_DELETE_PARENT)return{actionType:T.GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK,groupDatas:n}}else if("sub_group"===e){if(t===T.DELETE_REASON.DELETE_PARENT)return{actionType:T.GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK,groupDatas:n};if(t===T.DELETE_REASON.INTEGRITY_DELETE_PARENT)return{actionType:T.GROUP_ACTIONS.INTEGRITY_SUB_GROUP_UNLINK,groupDatas:n}}return{actionType:{sub_group:T.GROUP_ACTIONS.SUB_GROUP_UNLINK,parent_group:T.GROUP_ACTIONS.PARENT_GROUP_UNLINK,sibling_group:T.GROUP_ACTIONS.SIBLING_GROUP_UNLINK}[e],groupDatas:n}}case I.GROUP_NOTIFICATION_TAG.MEMBERSHIP_APPROVAL_MODE:var _;return{actionType:T.GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE,value:"on"===(null===(_=r.child("group_join"))||void 0===_?void 0:_.attrString("state")),triggered:r.hasAttr("triggered")?r.attrString("triggered"):void 0};case I.GROUP_NOTIFICATION_TAG.MEMBERSHIP_APPROVAL_REQUEST:var p;return{actionType:T.GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST,requestMethod:null!==(p=k[r.attrString("request_method")])&&void 0!==p?p:N.RequestMethod.InviteLink,parentGroupId:r.hasAttr("parent_group_jid")?(0,C.groupJidToWid)(r.attrGroupJid("parent_group_jid")):void 0};case I.GROUP_NOTIFICATION_TAG.ALLOW_ADMIN_REPORTS:return{actionType:T.GROUP_ACTIONS.ALLOW_ADMIN_REPORTS,shouldSkipGenMsg:!(0,c.getABPropConfigValue)("report_to_admin_kill_switch"),value:!0,author:n,triggered:r.hasAttr("triggered")?r.attrString("triggered"):void 0};case I.GROUP_NOTIFICATION_TAG.NOT_ALLOW_ADMIN_REPORTS:return{actionType:T.GROUP_ACTIONS.ALLOW_ADMIN_REPORTS,shouldSkipGenMsg:!(0,c.getABPropConfigValue)("report_to_admin_kill_switch"),value:!1,author:n,triggered:r.hasAttr("triggered")?r.attrString("triggered"):void 0};case I.GROUP_NOTIFICATION_TAG.REPORTS:return{actionType:T.GROUP_ACTIONS.ADMIN_REPORT_RECIEVED,shouldSkipGenMsg:!0,value:i};case I.GROUP_NOTIFICATION_TAG.CREATED_MEMBERSHIP_REQUESTS:var f;return{actionType:T.GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS,requestMethod:null!==(f=k[r.attrString("request_method")])&&void 0!==f?f:N.RequestMethod.InviteLink,parentGroupId:r.hasAttr("parent_group_jid")?(0,C.groupJidToWid)(r.attrGroupJid("parent_group_jid")):void 0,requests:r.hasChildren()?r.mapChildrenWithTag("requested_user",(e=>(0,C.userJidToUserWid)(e.attrUserJid("jid")))):[(0,a.default)(n,"author")],skipGenMsg:"true"===r.maybeAttrString("suppress_sys_msg")};case I.GROUP_NOTIFICATION_TAG.REVOKED_MEMBERSHIP_REQUESTS:return{actionType:T.GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS,requests:r.mapChildrenWithTag("participant",(e=>(0,C.userJidToUserWid)(e.attrUserJid("jid"))))};case I.GROUP_NOTIFICATION_TAG.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:return{actionType:T.GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION,value:!0};case I.GROUP_NOTIFICATION_TAG.NOT_ALLOW_NON_ADMIN_SUB_GROUP_CREATION:return{actionType:T.GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION,value:!1};case I.GROUP_NOTIFICATION_TAG.CREATED_SUBGROUP_SUGGESTION:return(0,o.default)({actionType:T.GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION,parentGroupId:t},function(e){const t=e.child("sub_group_suggestion"),n=(0,C.groupJidToWid)(t.attrGroupJid("jid")),r=(0,C.userJidToUserWid)(t.attrUserJid("creator")),i=t.attrTime("creation"),o=t.child("subject").contentString();let a;if(t.hasChild("description")){const e=t.child("description");if(e.hasChild("body")){const t=e.child("body");t.hasContent()&&(a=t.contentString())}}return{id:n,owner:r,subject:o,description:a,t:i}}(r));case I.GROUP_NOTIFICATION_TAG.REVOKED_SUB_GROUP_SUGGESTIONS:return{actionType:T.GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS,parentGroupId:t,subgroupSuggestions:r.mapChildrenWithTag("sub_group_suggestion",(e=>({id:(0,C.groupJidToWid)(e.attrGroupJid("jid")),reason:e.hasAttr("reason")?Y[e.attrString("reason")]:void 0})))};case I.GROUP_NOTIFICATION_TAG.CHANGE_NUMBER:return{actionType:T.GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER,subgroupSuggestions:r.mapChildrenWithTag("sub_group_suggestion",(e=>(0,C.groupJidToWid)(e.attrGroupJid("jid")))),newOwner:(0,C.userJidToUserWid)(r.attrUserJid("jid"))};case I.GROUP_NOTIFICATION_TAG.MEMBER_ADD_MODE:if((0,c.getABPropConfigValue)("web_anyone_can_add_group_setting_enabled"))return{actionType:T.GROUP_ACTIONS.MEMBER_ADD_MODE,memberAddMode:M.MEMBER_ADD_MODE.cast(r.contentString())};throw e.createParseError(`Unrecognized group action ${d}`);default:throw e.createParseError(`Unrecognized group action ${d}`)}}));return{externalId:e.attrString("id"),chatId:t,isLidAddressingMode:s,author:n,authorPhoneNumber:r,ts:e.attrTime("t"),pushname:e.hasAttr("notify")?e.attrString("notify"):null,offline:e.hasAttr("offline")?e.attrString("offline"):null,actions:u}}));function K(){return x.apply(this,arguments)}function x(){return(x=(0,i.default)((function*(e){const[t,n]=yield Promise.all([(0,M.getGroupMetadataTable)().get(e.toString()),(0,b.getChatTable)().get(e.toString(),!1)]);return!!t||!!n&&!!n.t}))).apply(this,arguments)}function H(){return j.apply(this,arguments)}function j(){return(j=(0,i.default)((function*(e,t){return t.participants.some((e=>{let{id:t}=e;return t.isLid()}))&&!0===(yield(0,I.getIsIncognitoCagById)(e.chatId))?t.participants.filter((e=>{let{id:t}=e;return!t.isLid()})):t.participants}))).apply(this,arguments)}function V(e){let{author:t,authorPhoneNumber:n}=e;return null!=t?{id:t,phoneNumber:n}:null}function W(){return(W=(0,i.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return;__LOG__(2,void 0,void 0,void 0,["groups"])`handle action ${t.actionType}`;const r=[];try{if(yield(0,f.createOrReplaceDisplayNamesAndLidPnMappings)([V(e)].concat(t.participants),!n),t.actionType===I.GROUP_NOTIFICATION_TAG.CREATE){const i=(0,o.default)((0,o.default)({},t.groupInfo),{},{id:e.chatId,isLidAddressingMode:e.isLidAddressingMode}),a=J(e,t,i),s=yield K(i.id);__LOG__(2,void 0,void 0,void 0,["groups"])`group id ${i.id} exists in storage = ${s}`,yield $(e,i,n,a,"invite"===t.reason),__LOG__(2,void 0,void 0,void 0,["groups"])`handleGroupCreation done for group id ${i.id}`;const l=yield(0,S.genMsgsForGroupCreation)(e,i,s,a);r.push(...l)}else if(t.actionType===T.GROUP_ACTIONS.ADD){const i=yield(0,I.notAlreadyInGroup)(e.chatId,t.participants);if(yield(0,R.shouldTriggerQueryGroupInfo)(e.chatId,t))yield(0,g.queryAndUpdateGroupMetadataById)(e.chatId);else if(yield(0,D.updateDBForGroupAction)(e,t,n),Q(e,t),__LOG__(2,void 0,void 0,void 0,["groups"])`updateDBForGroupAction done for ${JSON.stringify(t)}`,i.length||t.reason){const n=yield H(e,t);n.length>0&&r.push(yield(0,S.genGroupNotificationMsg)(e,(0,o.default)((0,o.default)({},t),{},{participants:n})))}}else if(t.actionType===T.GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK||t.actionType===T.GROUP_ACTIONS.INTEGRITY_SUB_GROUP_UNLINK);else if(t.actionType===T.GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK||t.actionType===T.GROUP_ACTIONS.DELETE_PARENT_SUB_GROUP_UNLINK);else if(t.actionType===T.GROUP_ACTIONS.DELETE&&t.reason===T.DELETE_REASON.INTEGRITY_DELETE_PARENT){if((0,p.communitiesEnabled)()){(yield(0,S.genIntegrityDeleteParentNotificationMsgs)(e,t)).forEach((e=>{r.push(e)}))}yield(0,D.updateDBForGroupAction)(e,t,n),Q(e,t),__LOG__(2,void 0,void 0,void 0,["groups"])`updateDBForGroupAction done for ${JSON.stringify(t)}`}else if(t.actionType===T.GROUP_ACTIONS.DESC_ADD||t.actionType===T.GROUP_ACTIONS.DESC_REMOVE)r.push(yield(0,S.genDescriptionNotificationMsg)(e,t)),yield(0,D.updateDBForGroupAction)(e,t,n),Q(e,t),__LOG__(2,void 0,void 0,void 0,["groups"])`updateDBForGroupAction done for ${JSON.stringify(t)}`;else if(t.actionType===T.GROUP_ACTIONS.DELETE&&t.reason===T.DELETE_REASON.DELETE_PARENT){if((0,p.communitiesEnabled)()){const t=yield(0,S.generateDeleteParentNotificationMessages)(e);if(0===t.length)return;t.forEach((e=>{r.push(e)}))}yield(0,D.updateDBForGroupAction)(e,t,n),Q(e,t),__LOG__(2,void 0,void 0,void 0,["groups"])`updateDBForGroupAction done for ${JSON.stringify(t)}`}else{let i=!1;if(t.actionType===T.GROUP_ACTIONS.REMOVE&&(yield(0,R.shouldTriggerQueryGroupInfo)(e.chatId,t))&&(i=!0,(0,g.queryAndUpdateGroupMetadataById)(e.chatId)),!i){const i=yield(0,I.shouldSkipGenMsg)(e,t);if(yield(0,D.updateDBForGroupAction)(e,t,n),Q(e,t),__LOG__(2,void 0,void 0,void 0,["groups"])`updateDBForGroupAction done for ${JSON.stringify(t)}`,!i){const n=yield(0,u.isCurrentUserGroupAdmin)(e.chatId.toString());if(t.actionType===T.GROUP_ACTIONS.REMOVE){const i=yield H(e,t);i.length>0&&r.push(yield(0,S.genGroupNotificationMsg)((0,o.default)((0,o.default)({},e),{},{isAdmin:n}),(0,o.default)((0,o.default)({},t),{},{participants:i})))}else if(t.actionType===T.GROUP_ACTIONS.PROMOTE||t.actionType===T.GROUP_ACTIONS.DEMOTE||t.actionType===T.GROUP_ACTIONS.MODIFY||t.actionType===T.GROUP_ACTIONS.LINKED_GROUP_PROMOTE||t.actionType===T.GROUP_ACTIONS.LINKED_GROUP_DEMOTE){const i=yield H(e,t);i.length>0&&r.push(yield(0,S.genGroupNotificationMsg)((0,o.default)((0,o.default)({},e),{},{isAdmin:n}),(0,o.default)((0,o.default)({},t),{},{participants:i})))}else if(t.actionType===T.GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION){const n=yield(0,S.genAllowNonAdminSubGroupCreationNotificationMsg)(e,t);n&&r.push(n)}else r.push(yield(0,S.genGroupNotificationMsg)((0,o.default)((0,o.default)({},e),{},{isAdmin:n}),t));t.actionType===T.GROUP_ACTIONS.PARENT_GROUP_LINK&&(0,c.getABPropConfigValue)("group_join_request_m0_anyone_can_join")&&r.push(yield(0,S.genParentGroupLinkMembershipApprovalNotif)(e,t.groupDatas,n))}}}n?(0,E.getMessageCache)().addMessages(r.map((e=>({msg:e}))),!1):yield Promise.all(r.map((e=>(0,O.handleSingleMsg)(e.from,e))))}catch(e){__LOG__(2)`handleGroupNotification: failed with ${e}`}}))).apply(this,arguments)}function Q(e,t){return(0,d.frontendSendAndReceive)("updateModelForGroupAction",{groupMeta:e,groupAction:t})}function $(){return z.apply(this,arguments)}function z(){return(z=(0,i.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];yield(0,m.handleGroupCreation)(e,t,n,i),null!=r&&(yield(0,D.updateDBForGroupAction)(e,r,n),Q(e,r))}))).apply(this,arguments)}function J(e,t,n){if(!(0,L.isMeAccount)(e.author)||t.reason===T.ADD_REASON.INVITE_AUTO_ADD){var r;const e=null===(r=n.participants.find((e=>e.id.equals((0,L.getMaybeMeUser)()))))||void 0===r?void 0:r.isAdmin;return{actionType:T.GROUP_ACTIONS.ADD,version:n.pvId,participants:[{id:!0===n.defaultSubgroup&&!0===n.incognito||!0===n.isLidAddressingMode?(0,L.getMaybeMeLidUser)():(0,L.getMaybeMeUser)(),isAdmin:e,isSuperAdmin:!1}],reason:t.reason,parentGroupId:n.parentGroup,isParentGroup:n.isParentGroup,contextGroupId:t.contextGroupId,groupName:n.subject,defaultSubgroup:n.defaultSubgroup,generalSubgroup:n.generalSubgroup}}}},68281:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleE2eIdentityChange=function(e){const t=y.parse(e);if(t.error)return __LOG__(4,void 0,new Error)`Parsing Error: ${t.error.toString()}`,Promise.reject(t.error);const{wid:n,stanzaId:r,displayName:s,delay:_,lid:C,offline:v}=t.success,O=(0,a.wap)("ack",{to:(0,c.DEVICE_JID)(n),id:(0,a.CUSTOM_STRING)(r),class:"notification"});if(null!=n.device&&n.device!==o.DEFAULT_DEVICE_ID)return __LOG__(2)`handleNewIdentity: ignore identity change from companion device`,Promise.resolve(O);if((0,m.isMePrimary)(n))return(0,l.frontendFireAndForget)("handleSelfPrimaryIdentityChange",{}),Promise.resolve(O);const P=!!v&&!E.OfflineMessageHandler.isResumeFromRestartComplete();return(0,f.handleMessage)(String(n),P,(0,i.default)((function*(){yield(0,d.clearDeviceRecordForIdentityChange)(n,P);return(yield(0,T.getSignalProtocolStore)().loadIdentityKey((0,S.createSignalAddress)(n).toString()))&&(__LOG__(2)`handleE2eIdentityChange: ${n.toString()} has old identity, establishing new session`,yield h.Session.deleteRemoteInfo(n),(0,A.addSecurityCodeChangedNotifications)(n,P),(0,g.sendTcTokenWhenDeviceIdentityChange)(n),P||(null!=_?(0,p.ensureE2ESessionsWithDelay)([n],_,!0):(0,p.ensureE2ESessions)([n],!0)),yield(0,u.createOrReplaceDisplayNamesAndLidPnMappings)([{id:(0,I.toUserWid)(n),lid:C?(0,I.toUserWid)(C):null,displayName:s}],!v)),O})))};var i=r(n(48926)),o=n(44037),a=n(80780),s=n(8748),l=n(1619),c=n(11439),u=n(4653),d=n(98458),_=n(15610),p=n(25614),f=n(75674),E=n(1723),A=n(86584),g=n(86031),h=n(74600),S=n(49178),T=n(4830),m=n(3885),I=n(51017);const y=new s.WapParser("identityChange",(e=>{e.assertTag("notification"),e.assertAttr("type","encrypt"),e.child("identity");const t=parseInt(e.maybeAttrString("delay"),10);return{wid:(0,_.deviceJidToDeviceWid)(e.attrDeviceJid("from")),stanzaId:e.attrString("id"),delay:isFinite(t)&&t>0?t:null,displayName:e.maybeAttrString("display_name"),lid:e.hasAttr("lid")?(0,_.deviceJidToDeviceWid)(e.attrDeviceJid("lid")):null,offline:e.hasAttr("offline")?e.attrString("offline"):null}}))},46206:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.updatePushname=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(0,l.toUserWid)(e);return c.enqueue((0,i.default)((function*(){let e;n||(e=yield u(r,t)),!0!==e&&void 0!==e||(__LOG__(2)`updatePushName: set pushname for ${String(r)}`,(0,s.persistContactUpdateBatched)(r,{pushname:t}))})))};var i=r(n(48926)),o=n(39528),a=n(1619),s=n(42775),l=n(51017);const c=new o.PromiseQueue;function u(e,t){return(0,a.frontendSendAndReceive)("updatePushname",{contactId:e,pushname:t})}},35798:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.extractCertificateDetailsParams=function(e){return{serial:e.serial,name:e.verifiedName,isApi:"ent:wa"===e.issuer,isSmb:"smb:wa"===e.issuer}},t.getParsedProtoObjects=function(e){if(!e)return null;const t=(0,o.decodeProtobuf)(i.VerifiedNameCertificateSpec,e);if(!t.details)throw(0,a.default)("verifyCertificate cert missing details");if(!t.signature)throw(0,a.default)("verifyCertificate cert missing signature");const n=(0,o.decodeProtobuf)(i.VerifiedNameCertificate$DetailsSpec,t.details);return{cert:t,details:n}};var i=n(4012),o=n(33655),a=r(n(89482))},67594:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupCreation=function(){return E.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(93040),s=n(1619),l=n(98869),c=n(94645),u=n(83302),d=n(92143),_=n(46206),p=n(3885),f=n(49625);function E(){return(E=(0,o.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];__LOG__(2,void 0,void 0,void 0,["groups"])`inside handleGroupCreation`;const{chatId:o,author:E,pushname:A}=e,{id:g,participants:h,pvId:S,subject:T,creation:m}=t;null!=e.author&&e.author.equals((0,p.getMaybeMeUser)())||(new u.GroupJoinCWamEvent).commit(),E&&A&&(0,_.updatePushname)(E,A,n),yield Promise.all([(0,c.updateGroupMetadataTableJob)([t]),(0,d.updateParticipantsJob)({group:g,participants:h,version:S,isOffline:n,groupInfo:t})]),__LOG__(2,void 0,void 0,void 0,["groups"])`updated GroupMetadata and participants tables`,null!=(yield(0,a.getChatRecord)(o))?(0,s.frontendFireAndForget)("updateGroupSubject",{id:o,subject:T}):(yield(0,l.createChat)(o,"groupCreation",(0,i.default)({t:m,pendingInitialLoading:!1,createdLocally:!1},!0===r&&{notSpam:!0}),{createdOffline:n}),__LOG__(2,void 0,void 0,void 0,["groups"])`updated chat model and table`,(0,s.frontendFireAndForget)("updateContactName",{contactId:g,name:T})),(0,s.frontendFireAndForget)("setGroupMetadata",t),(0,s.frontendFireAndForget)("markProfilePicStale",{profilePicThumbWid:g}),n||(0,f.workerSafeFireAndForget)("maybeSendKeyDistributionMsgToNewGroup",{groupId:g})}))).apply(this,arguments)}},28728:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP_NOTIFICATION_TAG=void 0,t.getIsIncognitoCagById=m,t.notAlreadyInGroup=function(){return T.apply(this,arguments)},t.shouldSkipGenMsg=function(){return S.apply(this,arguments)};var i=r(n(48926)),o=n(29987),a=n(83741),s=n(64002),l=n(1619),c=n(18106),u=n(22582),d=n(78440),_=n(98051),p=n(95160),f=n(3885),E=r(n(27112));const A=Object.freeze({REMOVE:"remove",ADD:"add",DEMOTE:"demote",DELETE:"delete",PROMOTE:"promote",MODIFY:"modify",CREATE:"create",SUBJECT:"subject",DESC:"description",LOCKED:"locked",UNLOCKED:"unlocked",ANNOUNCE:"announcement",NOT_ANNOUNCE:"not_announcement",NO_FREQUENTLY_FORWARDED:"no_frequently_forwarded",FREQUENTLY_FORWARDED_OK:"frequently_forwarded_ok",INVITE:"invite",EPHEMERAL:"ephemeral",NOT_EPHEMERAL:"not_ephemeral",REVOKE_INVITE:"revoke",SUSPENDED:"suspended",UNSUSPENDED:"unsuspended",GROWTH_LOCKED:"growth_locked",GROWTH_UNLOCKED:"growth_unlocked",LINK:"link",UNLINK:"unlink",LINKED_GROUP_PROMOTE:"linked_group_promote",LINKED_GROUP_DEMOTE:"linked_group_demote",MEMBERSHIP_APPROVAL_MODE:"membership_approval_mode",MEMBERSHIP_APPROVAL_REQUEST:"membership_approval_request",CREATED_MEMBERSHIP_REQUESTS:"created_membership_requests",REVOKED_MEMBERSHIP_REQUESTS:"revoked_membership_requests",ALLOW_NON_ADMIN_SUB_GROUP_CREATION:"allow_non_admin_sub_group_creation",NOT_ALLOW_NON_ADMIN_SUB_GROUP_CREATION:"not_allow_non_admin_sub_group_creation",ALLOW_ADMIN_REPORTS:"allow_admin_reports",NOT_ALLOW_ADMIN_REPORTS:"not_allow_admin_reports",REPORTS:"reports",CREATED_SUBGROUP_SUGGESTION:"created_sub_group_suggestion",REVOKED_SUB_GROUP_SUGGESTIONS:"revoked_sub_group_suggestions",CHANGE_NUMBER:"change_number",MEMBER_ADD_MODE:"member_add_mode"});function g(){return h.apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e,t){var n;const r=yield(0,u.getGroupMetadata)(e);return!!r&&r.growthLockType===t&&(null!==(n=r.growthLockExpiration)&&void 0!==n?n:0)>(0,o.unixTime)()}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e,t){if(t.actionType===_.GROUP_ACTIONS.REVOKE_INVITE||t.actionType===_.GROUP_ACTIONS.SUSPEND||t.actionType===_.GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS||t.actionType===_.GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION||t.actionType===_.GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS||t.actionType===_.GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER)return!0;if(t.actionType===_.GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION&&!(0,c.memberAddedGroupsM1Enabled)())return!0;if(t.actionType===_.GROUP_ACTIONS.GROWTH_LOCKED||t.actionType===_.GROUP_ACTIONS.GROWTH_UNLOCKED){if(t.actionType===_.GROUP_ACTIONS.GROWTH_LOCKED){if("invite"!==t.type)return!0;if(yield g(e.chatId,t.type))return!0}return!(yield(0,s.isCurrentUserGroupAdmin)(e.chatId.toString()))}if((t.actionType===_.GROUP_ACTIONS.SUB_GROUP_LINK||t.actionType===_.GROUP_ACTIONS.PARENT_GROUP_LINK||t.actionType===_.GROUP_ACTIONS.SIBLING_GROUP_LINK||t.actionType===_.GROUP_ACTIONS.SUB_GROUP_UNLINK||t.actionType===_.GROUP_ACTIONS.SIBLING_GROUP_UNLINK||t.actionType===_.GROUP_ACTIONS.PARENT_GROUP_UNLINK||t.actionType===_.GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK||t.actionType===_.GROUP_ACTIONS.DELETE_PARENT_GROUP||t.actionType===_.GROUP_ACTIONS.LINKED_GROUP_PROMOTE||t.actionType===_.GROUP_ACTIONS.LINKED_GROUP_DEMOTE)&&!(0,c.communitiesEnabled)())return!0;if((0,c.communitiesEnabled)()&&(t.actionType===_.GROUP_ACTIONS.PROMOTE||t.actionType===_.GROUP_ACTIONS.DEMOTE)&&!0===(yield m(e.chatId)))return!0;if(t.actionType===_.GROUP_ACTIONS.PROMOTE||t.actionType===_.GROUP_ACTIONS.DEMOTE){if(!(1===t.participants.length&&(0,f.isMeAccount)(t.participants[0].id)))return!0}if(t.actionType===_.GROUP_ACTIONS.LINKED_GROUP_DEMOTE&&1===t.participants.length&&!(0,f.isMeAccount)(t.participants[0].id)){if(!(yield(0,s.isCurrentUserGroupAdmin)(e.chatId.toString())))return!0}if(t.actionType===_.GROUP_ACTIONS.REMOVE&&1===t.participants.length&&E.default.equals(e.author,t.participants[0].id)){const t=yield(0,s.isCurrentUserGroupAdmin)(e.chatId.toString()),n=(0,f.isMeAccount)(e.author);if(!t||n)return!0}if(t.actionType===_.GROUP_ACTIONS.DELETE){const n=yield(0,u.getGroupMetadata)(e.chatId),r=null!=n?(0,_.getGroupTypeFromGroupMetadata)(n):null;return(t.reason!==_.DELETE_REASON.INTEGRITY_DELETE_PARENT||r!==_.GroupType.DEFAULT_ANNOUNCEMENT_GROUP||!(0,a.getABPropConfigValue)("community_suspend_v0_enabled"))&&(t.reason===_.DELETE_REASON.DELETE_PARENT&&_.GroupType.DEFAULT_ANNOUNCEMENT_GROUP,!0)}if(t.actionType===((0,a.getABPropConfigValue)("group_join_request_m3")?_.GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST:_.GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS))return!0;if(t.actionType===_.GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS&&t.skipGenMsg)return!0;if(t.actionType===_.GROUP_ACTIONS.ALLOW_ADMIN_REPORTS&&!0===t.shouldSkipGenMsg)return!0;if(t.actionType===_.GROUP_ACTIONS.ADMIN_REPORT_RECIEVED&&!0===t.shouldSkipGenMsg)return!0;if((t.actionType===_.GROUP_ACTIONS.REMOVE||t.actionType===_.GROUP_ACTIONS.PROMOTE||t.actionType===_.GROUP_ACTIONS.DEMOTE||t.actionType===_.GROUP_ACTIONS.MODIFY)&&!0===(yield m(e.chatId)))return!0;if(t.actionType===_.GROUP_ACTIONS.LINKED_GROUP_PROMOTE||t.actionType===_.GROUP_ACTIONS.LINKED_GROUP_DEMOTE){if(t.participants.every((e=>{let{id:t}=e;return t.isLid()})))return!0}return!1}))).apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e,t){var n,r;if(!(0,p.isWorker)())return(0,l.frontendSendAndReceive)("notAlreadyInGroup",{groupId:e,participants:t});const i=new Set(null!==(n=null===(r=yield(0,d.getParticipants)(e))||void 0===r?void 0:r.participants)&&void 0!==n?n:[]);return t.filter((e=>{let{id:t}=e;return!i.has(String(t))}))}))).apply(this,arguments)}function m(){return I.apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){const t=yield(0,u.getGroupMetadata)(e);return null!=t&&!0===t.defaultSubgroup&&!0===t.incognito}))).apply(this,arguments)}t.GROUP_NOTIFICATION_TAG=A},85783:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupNotificationV2=function(){return S.apply(this,arguments)},t.isGroupNotificationOptimizationEligible=function(e,t){return null!=T(e,t)};var i=r(n(81109)),o=r(n(48926)),a=n(80780),s=n(1619),l=n(46316),c=n(11439),u=n(91360),d=n(94645),_=n(42469),p=n(28728),f=n(75674),E=n(2982),A=n(23670),g=n(27176);function h(e){return(0,a.wap)("ack",{to:(0,c.GROUP_JID)(e.chatId),id:(0,a.CUSTOM_STRING)(e.externalId),class:"notification",type:"w:gp2",participant:e.author?(0,c.USER_JID)(e.author):a.DROP_ATTR})}function S(){return(S=(0,o.default)((function*(e,t){const n=T(e,t);return null==n?(__LOG__(3)`no handler for group notification ${e.chatId.toLogString()}`,h(e)):(yield Promise.all([n.writeSystemMessages(),n.writeGroupInfoUpdates()]),h(e))}))).apply(this,arguments)}function T(e,t){const n=[];for(const t of e.actions){const r=a(e,t);if(null==r)return null;n.push(r)}return{writeSystemMessages:(i=(0,o.default)((function*(){yield Promise.all(n.map((e=>e.writeSystemMessages())))})),function(){return i.apply(this,arguments)}),writeGroupInfoUpdates:(r=(0,o.default)((function*(){yield Promise.all(n.map((e=>e.writeGroupInfoUpdates())))})),function(){return r.apply(this,arguments)})};var r,i;function a(e,n){return n.actionType===p.GROUP_NOTIFICATION_TAG.CREATE?null:{writeGroupInfoUpdates:(i=(0,o.default)((function*(){n.actionType!==p.GROUP_NOTIFICATION_TAG.ADD&&n.actionType!==p.GROUP_NOTIFICATION_TAG.REMOVE||!(yield(0,A.shouldTriggerQueryGroupInfo)(e.chatId,n))?(yield(0,g.updateDBForGroupAction)(e,n,t),(0,s.frontendSendAndReceive)("updateModelForGroupAction",{groupMeta:e,groupAction:n})):(0,d.markGroupParticipantStaleJob)(e.chatId)})),function(){return i.apply(this,arguments)}),writeSystemMessages:(r=(0,o.default)((function*(){return function(e,t,n,r){let i=()=>{};const a=new Promise((e=>i=e));return(0,f.handleMessage)(e.toString(),n,(0,o.default)((function*(){if(yield r())return void i();const e=c(t).then((()=>{i()}));return n?Promise.resolve():e}))),a;function c(){return d.apply(this,arguments)}function d(){return(d=(0,o.default)((function*(e){if(0!==e.length)return n?(l.Cmd.isMainStreamReadyMd&&e.forEach((e=>{(0,s.frontendFireAndForget)("updateMessageUI",{chatId:e.id.remote,msg:e})})),(0,u.getMessageCache)().addMessages(e.map((e=>({msg:e}))),!1)):void(yield Promise.all(e.map((e=>(0,E.handleSingleMsg)(e.from,e)))))}))).apply(this,arguments)}}(e.chatId,yield function(){return m.apply(this,arguments)}(e,n),t,(()=>(0,p.shouldSkipGenMsg)(e,n)))})),function(){return r.apply(this,arguments)})};var r,i}}function m(){return(m=(0,o.default)((function*(e,t){let n=[];if((t.actionType===p.GROUP_NOTIFICATION_TAG.ADD||t.actionType===p.GROUP_NOTIFICATION_TAG.REMOVE)&&(yield(0,A.shouldTriggerQueryGroupInfo)(e.chatId,t)))return[];if(t.actionType===p.GROUP_NOTIFICATION_TAG.ADD){const r=(yield(0,p.notAlreadyInGroup)(e.chatId,t.participants)).filter((e=>{let{id:t}=e;return!t.isLid()}));r.length>0&&(n=[yield(0,_.genGroupNotificationMsg)(e,(0,i.default)((0,i.default)({},t),{},{participants:r}))])}else t.actionType!==p.GROUP_NOTIFICATION_TAG.CREATE&&(n=[yield(0,_.genGroupNotificationMsg)(e,t)]);return n}))).apply(this,arguments)}},6684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAddressingModeMismatch=function(e,t){if(!(0,r.getABPropConfigValue)("lid_groups_handle_server_addressing_mode"))return!1;if(!0===Boolean(e.defaultSubgroup))return!1;return Boolean(t.isLidAddressingMode)!==Boolean(e.isLidAddressingMode)};var r=n(83741)},50664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPnhCagInLimboState=function(e,t){if(!(0,r.pnhCagBlockLidInLimbo)())return!1;if(!t.some((e=>{let{id:t}=e;return t.isLid()})))return!1;if(!0!==e.defaultSubgroup)return!1;return!0!==(null==e?void 0:e.incognito)};var r=n(67454)},23670:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldTriggerQueryGroupInfo=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(6684),a=n(50664),s=n(35872);function l(){return(l=(0,i.default)((function*(e,t){const n=yield(0,s.getGroupMetadataTable)().get(e.toString());return null!=n&&(!1===Boolean(n.defaultSubgroup)?(0,o.isAddressingModeMismatch)(n,t):(0,a.isPnhCagInLimboState)(n,t.participants))}))).apply(this,arguments)}},56812:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INFO_TYPE=void 0;const n=Object.freeze({DIRTY:"dirty",ROUTING:"edge_routing",OFFLINE:"offline",OFFLINE_PREVIEW:"offline_preview",TOS:"tos",THREAD_META:"thread_metadata",CLIENT_EXPIRATION:"client_expiration",OFFLINE_PRIORITY_COMPLETE:"priority_offline_complete"});t.INFO_TYPE=n},41581:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DOMAINS=void 0,t.handleRoutingInfo=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(65982),a=n(56333);const s={fb:"fb",sl:"sl"};function l(){return(l=(0,i.default)((function*(e){let t=e.domain;if(!t){const e=yield(0,a.getRoutingInfo)();t=e?e.domain:s.fb}const n=(0,o.bytesToBuffer)(e.edgeRouting);yield(0,a.setRoutingInfo)({domain:t,edgeRouting:n}),__LOG__(2)`handleInfoBulletin setting and domain: ${t} and edgeRouting:`}))).apply(this,arguments)}t.DOMAINS=s},67865:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=d.incomingMsgParser.parse(e);if(t.error){__LOG__(3,void 0,void 0,void 0,["messaging"])`handleMsg: error while parsing message stanza`,(0,y.postUnknownStanzaMetric)(e);const t=d.incomingMsgParserForAckOnly.parse(e);if(t.error)return __LOG__(2,void 0,void 0,void 0,["messaging"])`handleMsg: error while parsing message for ack only: ${t.error}`,(0,I.postIncomingMessageDropInvalidStanza)(e),Promise.resolve((0,s.createNackFromStanza)(e,s.NackReason.ParsingError));const{externalId:n,from:r,type:i,participant:o}=t.success;let a=s.NackReason.ParsingError;return null==i?(a=s.NackReason.UnrecognizedStanzaType,(0,I.postIncomingMessageDropUnknownMessageType)(e)):(0,I.postIncomingMessageDropInvalidStanza)(e),(0,h.isSendMessageDropNackEnabled)()?Promise.resolve((0,s.createNackFromStanza)(e,a)):Promise.resolve((0,p.sendAck)(n,r,i,o))}const n=t.success;(0,A.maybePostOfflineCountTooHigh)(n);const{msgMeta:r,msgInfo:v,msgBotInfo:O,encs:P}=n;v.clientReceivedTsMillis=(0,o.unixTimeMs)(),null!=v.offline&&(m.OfflineMessageHandler.addOfflinePendingMessage(),m.OfflineMessageHandler.offlineStanzaReceivedAfterComplete());m.OfflineMessageHandler.isResumeFromRestartComplete()&&delete n.msgInfo.offline;void 0;return(0,g.handleMessage)(v.chat.toString(),!!n.msgInfo.offline,(0,i.default)((function*(){var e;if(v.msgProcessStartTsMillis=(0,o.unixTimeMs)(),(0,C.processPhoneNumberMapping)(v,null==v.offline),r.isUnavailable){__LOG__(2,void 0,void 0,void 0,["messaging"])`handleMessage: msgId::${v.externalId}, get fanout placeholder`;let e=E.PlaceholderType.FANOUT;return null!=O&&(0,a.isBotEnabled)()&&(e=E.PlaceholderType.BOT_UNAVAILABLE_FANOUT),yield(0,_.processPlaceholderMsg)(v,e),void(0,f.sendReceipt)(v,r,{result:E.E2EProcessResult.BACKFILL})}__LOG__(2,void 0,void 0,void 0,["messaging"])`handleMessage: msgId::${v.externalId}, start processing message, offline="${null!==(e=v.offline)&&void 0!==e?e:""}"`;const t=yield(0,T.decryptE2EPayload)(n,_.processDecryptedMessageProto);null!=v.offline&&m.OfflineMessageHandler.processMessageDecryptResult(t.result),t.result===E.E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR&&function(e){const{msgMeta:t,encs:n}=e;if(n.some((e=>e.hideFail)))return(0,u.isReactionMsgMeta)(t)||(0,u.isPollVoteMsgMeta)(t);return t.type===c.STANZA_MSG_TYPES.text||t.type===c.STANZA_MSG_TYPES.media||t.type===c.STANZA_MSG_TYPES.poll}(n)?(0,l.getMessageCache)().addMessages([{duplicateMsgReceiptInfo:{externalId:v.externalId,from:(0,S.getFrom)(v),author:v.author,msgInfo:v,msgMeta:r,enc:t.failedEnc||P[0],hasHideFailEnc:P.some((e=>e.hideFail))}}],null==v.offline):null==v.offline||v.category===c.CATEGORY_PEER||t.result!==E.E2EProcessResult.SUCCESS&&t.result!==E.E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR?(0,f.sendReceipt)(v,r,t):(0,l.getMessageCache)().addMessages([{receiptInfo:{externalId:v.externalId,from:(0,S.getFrom)(v),author:v.author}}],!1)})))};var i=r(n(48926)),o=n(29987),a=n(63007),s=n(12020),l=n(91360),c=n(33351),u=n(24513),d=n(62086),_=n(52253),p=n(37995),f=n(8826),E=n(12987),A=n(84136),g=n(75674),h=n(19909),S=n(67621),T=n(98267),m=n(1723),I=n(27783),y=n(11206),C=n(25810)},33351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STANZA_MSG_TYPES=t.STANZA_MSG_ADDRESSING_MODE=t.POLL_TYPES=t.PAY_NODE_TYPES=t.MSG_VERIFIED_LEVEL=t.HsmMismatchError=t.CATEGORY_PEER=t.BIZ_SOURCE_ATTR=void 0;var r=n(66911);t.STANZA_MSG_TYPES={text:"text",media:"media",pay:"pay",poll:"poll",reaction:"reaction"};t.STANZA_MSG_ADDRESSING_MODE={pn:"pn",lid:"lid"};t.POLL_TYPES={creation:"creation",vote:"vote"};t.MSG_VERIFIED_LEVEL={high:"high",low:"low",unknown:"unknown"};t.CATEGORY_PEER="peer";class i extends((0,r.customError)("HSMMismatchError")){}t.HsmMismatchError=i;t.PAY_NODE_TYPES={send:"send",request:"request",futureproof:"futureproof","request-decline":"request-decline","request-cancel":"request-cancel",invite:"invite"};t.BIZ_SOURCE_ATTR="biz_source"},22495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownDeviceMessageError=t.MessageValidationError=t.MessageProtobufMismatchErrorCode=t.MessageProtobufMismatchError=t.MessageProtobufInvalidMessageTypes=t.DeviceSentMessageError=t.BizNodeValidationError=void 0;var r=n(66911),i=n(77426),o=n(8414);class a extends((0,r.customError)("DeviceSentMessageError")){constructor(e,t){t===o.DSM_ERROR.MISSING_DSM?super("message should be deviceSentMessage"):t===o.DSM_ERROR.INVALID_SENDER?super("message should not be deviceSentMessage"):t===o.DSM_ERROR.INVALID_DSM?super("invalid deviceSentMessage"):super("unknown deviceSentMessage error"),new i.MdBadDeviceSentMessageWamEvent({peerType:e,dsmError:t}).commit(),this.peerType=e,this.dsmError=t}}t.DeviceSentMessageError=a;class s extends((0,r.customError)("UnknownDeviceMessageError")){}t.UnknownDeviceMessageError=s;class l extends Error{constructor(e,t){super("string"==typeof e?e:String(e)),this.name="MessageValidationError",this.code=e,this.e2eFailureReason=t}}t.MessageValidationError=l;class c extends((0,r.customError)("BizNodeValidationError")){}t.BizNodeValidationError=c;const u=n(76672)({INVALID_POLL_UPDATE_STANZA:"poll_update_message_stanza_invalid",INVALID_REACTION_STANZA:"reaction_message_stanza_invalid",INVALID_PIN_IN_CHAT_STANZA:"pin_in_chat_message_stanza_invalid"});t.MessageProtobufMismatchErrorCode=u;t.MessageProtobufMismatchError=class extends l{constructor(e){super(e,o.E2E_FAILURE_REASON.INVALID_MESSAGE),this.name="MessageProtobufMismatchError"}};t.MessageProtobufInvalidMessageTypes=class extends l{constructor(e){super(`Received ${e.length} message keys: ${e.join(", ")}`,o.E2E_FAILURE_REASON.INVALID_NUMBER_OF_MESSAGE_TYPES),this.name="MessageProtobufInvalidMessageTypes"}}},62086:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.incomingMsgParserForAckOnly=t.incomingMsgParser=void 0,t.parseBizInfo=y,t.parseMessageBotInfo=I,t.parseMessageInfo=T,t.parseMessageMeta=m;var i=r(n(81109)),o=r(n(49619)),a=n(8748),s=n(96193),l=n(63007),c=n(42467),u=n(33351),d=n(12987),_=n(76989),p=n(15610),f=n(30883),E=n(45665),A=n(38601),g=n(3885),h=n(51017);const S=new a.WapParser("incomingMsgParser",(e=>{var t,n;e.assertTag("message"),e.hasAttr("to")&&e.assertAttr("to",(0,g.assertGetMe)().toJid());const r=e.maybeChild("plaintext");null!=r&&r.throw("not to be present in e2ee messages");const i=e.mapChildrenWithTag("enc",(e=>({e2eType:e.attrEnumValues("type",s.CiphertextType.members()),encMediaType:s.EncMediaType.cast(e.maybeAttrString("mediatype")),ciphertext:e.contentBytes(),retryCount:e.hasAttr("count")?e.attrInt("count"):0,hideFail:"hide"===e.maybeAttrString("decrypt-fail")}))),o=e.maybeChild("device-identity"),a=o?o.contentBytes():null,l=I(e),c=m(e,i),d=T(e,i,l,c),S=y(e,d),v=function(e){let t=null;const n=e.hasChild("pay")?e.child("pay"):null,r=e.hasChild("transaction")?e.child("transaction"):null,i=(0,p.jidWithTypeToWid)(e.attrJidWithType("from")).isGroup(),o=e.hasAttr("participant")?(0,p.jidWithTypeToWid)(e.attrJidWithType("participant")):null;if((0,f.isNoviTransaction)(n)||(0,f.isNoviTransaction)(r))t={futureproofed:!0};else if(r){const e=(0,f.parseTransactionNode)(r);e&&(t=C(i,o,(0,h.createWid)(e.receiver.toString()))?{receiverJid:e.receiver.toString(),currency:e.currency,amount1000:e.amount1000,transactionTimestamp:e.ts,txnStatus:(0,E.getPaymentTxnWebStatus)(e.status)}:{receiverJid:e.receiver.toString(),currency:e.currency,amount1000:e.amount1000,transactionTimestamp:e.ts})}else if(n){switch(n.attrEnum("type",u.PAY_NODE_TYPES)){case u.PAY_NODE_TYPES.send:{const{amount1000:r,currency:a}=(0,_.getAmount1000AndCurrency)(n),s=n.hasAttr("receiver")?n.attrString("receiver"):e.attrString("recipient");t=C(i,o,(0,h.createWid)(s))?{receiverJid:s,currency:a,amount1000:r,transactionTimestamp:e.attrInt("t"),txnStatus:A.PaymentInfo$TxnStatus.INIT}:{receiverJid:s,currency:a,amount1000:r,transactionTimestamp:e.attrInt("t")};break}case u.PAY_NODE_TYPES.request:case u.PAY_NODE_TYPES.invite:}}return t}(e);return{encs:i,msgInfo:d,msgMeta:c,bizInfo:S,hsmInfo:function(e){const t=e.maybeChild("hsm");if(null!=t){const e=t.maybeAttrString("tag"),n=t.maybeAttrString("category");if(null!=e||null!=n)return{tag:e,category:n}}return null}(e),paymentInfo:v,deviceIdentity:a,rcat:null!==(t=null===(n=e.maybeChild("rcat"))||void 0===n?void 0:n.contentBytes())&&void 0!==t?t:null,msgBotInfo:l}}));function T(e,t,n,r){const a={externalId:e.attrString("id"),ts:e.attrTime("t"),edit:e.hasAttr("edit")?e.attrInt("edit"):-1,isHsm:e.hasChild("hsm"),count:e.hasAttr("count")?e.attrInt("count"):null,pushname:e.hasAttr("notify")?e.attrString("notify"):null,displayName:e.hasAttr("display_name")?e.attrString("display_name"):null,senderPn:e.hasAttr("sender_pn")?(0,p.userJidToUserWid)(e.attrUserJid("sender_pn")):null,senderLid:e.hasAttr("sender_lid")?(0,p.userJidToUserWid)(e.attrUserJid("sender_lid")):null,recipientLid:e.hasAttr("recipient_lid")?(0,p.userJidToUserWid)(e.attrUserJid("recipient_lid")):null,recipientPn:e.hasAttr("recipient_pn")?(0,p.userJidToUserWid)(e.attrUserJid("recipient_pn")):null,participantLid:e.hasAttr("participant_lid")?(0,p.userJidToUserWid)(e.attrLidUserJid("participant_lid")):null,participantPn:e.hasAttr("participant_pn")?(0,p.userJidToUserWid)(e.attrUserJid("participant_pn")):null,category:e.hasAttr("category")?e.attrString("category"):null,offline:e.hasAttr("offline")?e.attrString("offline"):null},c=(0,p.jidWithTypeToWid)(e.attrJidWithType("from"));c.isNewsletter()&&e.throw("unexpected `from` attribute with newsletter Jid");const _=e.hasAttr("participant")?(0,p.deviceJidToDeviceWid)(e.attrDeviceJid("participant")):null,f=e.hasAttr("recipient")?(0,p.userJidToUserWid)(e.attrUserJid("recipient")):null,E=t.every((e=>e.e2eType!==s.CiphertextType.Skmsg)),A=t.some((e=>e.retryCount>0));let S;const T={},m=e.maybeChild("participants");if(m){const e=[];m.forEachChildWithTag("to",(t=>{const n=(0,p.deviceJidToDeviceWid)(t.attrDeviceJid("jid")),r=t.maybeAttrString("eph_setting");e.push(n),null!=r&&(T[n.toString()]=r)})),S=e}if((0,l.isBotMsgParseEnabledForFutureproofOrFullRecv)()&&n&&r&&c.isBot()&&null!=r.targetChatJid)return(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.CHAT},a),{},{chat:(0,h.toUserWid)((0,o.default)(r.targetChatJid,"msgMeta.targetChatJid")),author:c,botParticipant:c});if(c.isUser())return null!=f?(0,g.isMeAccount)(c)?(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.CHAT},a),{},{chat:(0,h.toUserWid)(f),author:c}):e.throw("recipient on non peer chat message"):(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.CHAT},a),{},{chat:(0,h.toUserWid)(c),author:c});if(c.isGroup()){if(null==_)return e.throw("group message with no participant");const t=e.attrEnumOrDefault("addressing_mode",u.STANZA_MSG_ADDRESSING_MODE,u.STANZA_MSG_ADDRESSING_MODE.pn);return(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.GROUP},a),{},{chat:c,author:_,isDirect:E,addressingMode:t})}if(c.isBroadcast()&&!c.isStatusV3()){if(null==_)return e.throw("broadcast message with no participant");if((0,g.isMeAccount)(_)){if(null==S){if(!A)return e.throw("peer broadcast message with no participants node");S=[]}return(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.PEER_BROADCAST},a),{},{chat:c,author:_,isDirect:E,bclParticipants:S,bclHashValidated:!1,bclEphSettings:T})}return(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.OTHER_BROADCAST},a),{},{chat:c,author:_,isDirect:E,ephSetting:e.maybeAttrString("eph_setting")})}return c.isBroadcast()&&c.isStatusV3()?null==_?e.throw("status message with no participant"):(0,g.isMeAccount)(_)&&E?null==S?(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.DIRECT_PEER_STATUS},a),{},{chat:c,author:_,isDirect:E}):(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.DIRECT_PEER_STATUS},a),{},{chat:c,author:_,bclParticipants:S,bclHashValidated:!1}):(0,i.default)((0,i.default)({type:d.MESSAGE_TYPE.OTHER_STATUS},a),{},{chat:c,author:_,isDirect:E}):e.throw("Unrecognized message type")}function m(e,t){const n=e.hasChild("unavailable");n||0!==t.length||e.throw("incomingMsgParser: to have enc node children");const r=e.attrEnum("type",u.STANZA_MSG_TYPES),i={isUnavailable:n,type:r,pollType:r===u.STANZA_MSG_TYPES.poll?e.child("meta").attrEnumOrNullIfUnknown("polltype",u.POLL_TYPES):null,rawTs:e.attrString("t"),urlNumber:e.hasChild("url_number"),urlText:e.hasChild("url_text")},o=e.maybeChild("meta");return o&&o.hasAttr(u.BIZ_SOURCE_ATTR)&&(i.bizSource=o.attrString(u.BIZ_SOURCE_ATTR)),o&&o.hasAttr("target_id")&&(i.targetId=o.attrString("target_id")),o&&o.hasAttr("target_sender_jid")&&(i.targetSenderJid=(0,p.jidWithTypeToWid)(o.attrJidWithType("target_sender_jid"))),o&&o.hasAttr("target_chat_jid")&&(i.targetChatJid=(0,p.jidWithTypeToWid)(o.attrJidWithType("target_chat_jid"))),i}function I(e){const t=e.maybeChild("bot");if(!(0,l.isBotMsgParseEnabledForFutureproofOrFullRecv)()||!t)return null;const n=t.maybeAttrString("sender_timestamp_ms"),r=t.maybeAttrString("edit_target_id"),i=t.maybeAttrString("edit");let o;t.hasAttr("biz_bot")&&(o="1"===t.attrString("biz_bot")?c.BizBotType.BIZ:c.BizBotType.BIZ_3P);return{botSenderTimestampMs:n,botEditTargetId:r,botEditType:c.BotMsgEditType.cast(i),bizBotType:o}}function y(e,t){var n,r;const o=Boolean(null==t||null===(n=t.author)||void 0===n?void 0:n.isBot());if(!Boolean(null==t||null===(r=t.chat)||void 0===r?void 0:r.isBot())&&o)return{verifiedNameSerial:null,verifiedLevel:null,verifiedNameCert:null,privacyMode:null,nativeFlowName:null,campaignId:null};const a=e.hasChild("verified_name")?e.child("verified_name").contentBytes():null,s=e.attrEnumOrDefault("verified_level",u.MSG_VERIFIED_LEVEL,null),l=e.hasAttr("verified_name")?e.attrInt("verified_name"):-1,c=e.maybeChild("biz");let _=null;if(null!=c){const e=d.ActualActorsEnumType.cast(c.maybeAttrInt("actual_actors")),t=d.HostStorageEnumType.cast(c.maybeAttrInt("host_storage")),n=c.maybeAttrInt("privacy_mode_ts");null==e||null==t||null==n||o||(_={actualActors:e,hostStorage:t,privacyModeTs:n})}const p=null==c?void 0:c.maybeAttrString("native_flow_name"),f=null==c?void 0:c.maybeAttrString("campaign_id");return(0,i.default)({verifiedNameCert:a,verifiedLevel:s,verifiedNameSerial:l,privacyMode:_,nativeFlowName:p,campaignId:f},c&&{verifiedButtonsEnvelope:c.hasChild("buttons"),verifiedListEnvelope:c.hasChild("list"),verifiedHsmEnvelope:e.hasChild("hsm")})}function C(e,t,n){if(e&&null!=t&&null!=n){const e=(0,g.getMeUser)();if(!e.equals(t)&&!e.equals(n))return!1}return!0}t.incomingMsgParser=S;const v=new a.WapParser("incomingMsgParserForAckOnly",(e=>{e.assertTag("message");let t=null;try{t=e.attrEnum("type",u.STANZA_MSG_TYPES)}catch(e){}return{type:t,externalId:e.attrString("id"),from:(0,p.jidWithTypeToWid)(e.attrJidWithType("from")),participant:e.hasAttr("participant")?(0,p.deviceJidToDeviceWid)(e.attrDeviceJid("participant")):null}}));t.incomingMsgParserForAckOnly=v},52253:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processDecryptedMessageProto=function(){return H.apply(this,arguments)},t.processMsgs=j,t.processPlaceholderMsg=function(e,t,n){return T.processPlaceholderMessage(e,t,n)},t.processPollUpdateVoteMsg=$,t.processReactionMsg=Q,t.processRenderableMsg=V;var i=r(n(48926)),o=n(19504),a=n(21193),s=n(23041),l=n(96193),c=n(46316),u=n(2537),d=n(87946),_=n(91360),p=n(22495),f=n(20330),E=n(12987),A=n(39600),g=n(46206),h=n(43823),S=n(68214),T=x(n(33379)),m=n(27893),I=n(67454),y=n(67621),C=n(73602),v=n(59024),O=n(61627),P=n(463),N=n(17167),b=n(77026),M=n(95160),R=n(35872),D=x(n(74600)),L=n(3885),w=n(55017),B=n(84385),U=n(8414),G=r(n(27112)),k=n(49625),Y=n(33655),F=r(n(20386));function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function H(){return(H=(0,i.default)((function*(e){const{decrypted:t,info:n,paymentInfo:r,e2eInfo:i,bizInfo:a,hsmInfo:s,isPadded:c=!0,msgMeta:_,reparsing:S=!1,msgBotInfo:T}=e,I=i.e2eType!==l.CiphertextType.Msmsg&&c?(0,o.unpadPkcs7)(new Uint8Array(t)):new Uint8Array(t),O=(0,Y.decodeProtobuf)(b.MessageSpec,I);(0,B.verifyProtobufMessageObjectKeys)(O);const P=(0,y.getFrom)(n),N=i.retryCount>0&&(0,y.placeholderCheck)(n)||S?E.MessageOverwriteOption.RETRY:E.MessageOverwriteOption.NO_OVERWRITE;if(S){__LOG__(2,void 0,void 0,void 0,["messaging"])`Reparsing processDecryptedMessageProto: msgId::${n.externalId}, message decrypted:`;const t=yield(0,y.parseMessage)({info:n,ciphertextType:i.e2eType,msgProtobuf:O,paymentInfo:r,bizInfo:a,hsmInfo:s,hidePlaceholder:i.hideFail,processDecryptedProtoParams:e,msgBotInfo:T});if(null!=t.renderableMsgs){const e=t.renderableMsgs,[i]=e,o=(0,u.getAddOnProviderForMsg)(i),s=[C.MSG_TYPE.DOCUMENT,C.MSG_TYPE.POLL_CREATION,C.MSG_TYPE.PTV];if(!o&&!s.includes(i.type))return{hasInactiveMsg:!1};(0,A.renderableMessagesValidation)({renderableMsgs:e,msgMeta:_,info:n,proto:O,bizInfo:a});const{tasks:l,hasInactiveMsg:c}=j({renderableMsgs:e,reparsing:S,bizInfo:a,paymentInfo:r,info:n,messageOverwriteOption:N});return yield Promise.all(l),__LOG__(2,void 0,void 0,void 0,["messaging"])`Reparsed processDecryptedMessageProto: msgId::${n.externalId}, message decrypted:`,{hasInactiveMsg:c}}__LOG__(4,void 0,new Error)`parsed render able msgs not reparsed as expected`}if(yield(0,f.preProcessMsg)(n,O),n.type===E.MESSAGE_TYPE.PEER_BROADCAST&&i.retryCount>0){const e=yield(0,d.getMsgByMsgKey)((0,y.messageInfoToKey)(n));null!=(null==e?void 0:e.broadcastParticipants)&&(n.bclParticipants=e.broadcastParticipants,null!=e.broadcastEphSettings&&(n.bclEphSettings=e.broadcastEphSettings))}const R=yield(0,y.parseMessage)({info:n,ciphertextType:i.e2eType,msgProtobuf:O,paymentInfo:r,bizInfo:a,hsmInfo:s,hidePlaceholder:i.hideFail,processDecryptedProtoParams:e,msgBotInfo:T});let K=null;if(R.history?K=v.PARSED_PROTOCOL_MESSAGE_TYPE.HISTORY:R.appStateSyncKeyShare?K=v.PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_SHARE:R.appStateSyncKeyRequest?K=v.PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_REQUEST:R.peerDataOperationRequestResponseMessage?K=v.PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:R.peerDataOperationRequestMessage&&(K=v.PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_MESSAGE),(0,M.isWorker)()&&K&&F.default)yield F.default.updateDeferredMessages([{id:n.externalId,type:K,plaintext:I,info:n,paymentInfo:r,bizInfo:a}]);else if(R.history)(0,k.workerSafeSendAndReceive)("handleHistorySyncNotification",{historySyncMetaData:R.history,from:P,externalId:n.externalId});else if(R.appStateSyncKeyShare)yield(0,k.workerSafeSendAndReceive)("handleAppStateSyncKeyShare",{keyShare:R.appStateSyncKeyShare,from:P});else if(R.appStateSyncKeyRequest)(0,k.workerSafeSendAndReceive)("handleAppStateSyncKeyRequest",{keyRequest:R.appStateSyncKeyRequest,from:P});else if(R.peerDataOperationRequestResponseMessage)(0,k.workerSafeSendAndReceive)("handlePeerDataOperationRequestResponse",{stanzaId:n.externalId,response:R.peerDataOperationRequestResponseMessage});else if(R.peerDataOperationRequestMessage)(0,k.workerSafeSendAndReceive)("handlePeerDataOperationRequest",{stanzaId:n.externalId,request:R.peerDataOperationRequestMessage});else{if(!R.securityNotificationEnabled){let e=!1;if(null==R.deviceSent?e=!0:R.deviceSent.phash?e=yield(0,A.validateBclHash)(R.deviceSent.phash,R.deviceSent.info):R.deviceSent.destination&&(e=yield(0,A.validateMsgDestination)(R.deviceSent.destination,n)),!e)throw new p.DeviceSentMessageError((0,y.getDeviceType)(n.author),U.DSM_ERROR.INVALID_DSM);const{renderableMsgs:t}=R;(0,A.renderableMessagesValidation)({renderableMsgs:t,msgMeta:_,info:n,proto:O,bizInfo:a});const{tasks:i,hasInactiveMsg:o}=j({renderableMsgs:t,reparsing:S,bizInfo:a,paymentInfo:r,info:n,messageOverwriteOption:N});return null!=R.storeMsg&&m.messageProcessorCache.addMessages([{msg:R.storeMsg}],!1),null!=R.senderKey&&i.push(D.Session.createGroupSignalSession(n.author,R.senderKey.groupId,R.senderKey.key)),n.pushname&&(0,g.updatePushname)(n.author,n.pushname,null!=n.offline),yield Promise.all(i),(0,h.logReceivedMessagesInWAM)(R.renderableMsgs,null!=n.offline,1e3*n.ts,n.clientReceivedTsMillis,n.msgProcessStartTsMillis),{hasInactiveMsg:o}}null==(0,L.getMe)()?(__LOG__(4,void 0,new Error,!0)`Me wid is empty during security notification parsing`,SEND_LOGS("Me wid is empty during security notification parsing")):null!=P&&P instanceof G.default?(0,L.isMePrimaryNonLid)(P)?(0,w.setGlobalSecurityNotifications)(R.securityNotificationEnabled.isEnabled):(__LOG__(4,void 0,new Error,!0)`Handle security notification payload wid error`,SEND_LOGS("Handle security notification payload wid error")):(__LOG__(4,void 0,new Error,!0)`Handle security notification empty wid error`,SEND_LOGS("Handle security notification empty wid error"))}return{hasInactiveMsg:!1}}))).apply(this,arguments)}function j(e){var t,n,r,i,o,l,c,u,d,_;let{renderableMsgs:p,reparsing:E,bizInfo:A,paymentInfo:g,info:h,messageOverwriteOption:T}=e;const m=[];let I=!1;return(null===(t=p[0])||void 0===t?void 0:t.type)===C.MSG_TYPE.REACTION?(I=!0,m.push(Q(p[0],h,E))):(null===(n=p[0])||void 0===n?void 0:n.type)===C.MSG_TYPE.REACTION_ENC?(I=!0,m.push(function(){return W.apply(this,arguments)}(p[0],h,E))):(null===(r=p[0])||void 0===r?void 0:r.type)===C.MSG_TYPE.POLL_UPDATE&&"poll_vote"===(null===(i=p[0])||void 0===i?void 0:i.subtype)?m.push($(p[0],h,E)):(null===(o=p[0])||void 0===o?void 0:o.type)===C.MSG_TYPE.KEEP_IN_CHAT?(I=!0,m.push((0,f.processKeepInChatMsg)(p[0],h,E))):(0,S.receiveTextEditEnabled)()&&(null===(l=p[0])||void 0===l?void 0:l.type)===C.MSG_TYPE.PROTOCOL&&"message_edit"===(null===(c=p[0])||void 0===c?void 0:c.subtype)?m.push((0,f.processEditProtocolMsg)(p[0],h,E)):(null===(u=p[0])||void 0===u?void 0:u.type)===C.MSG_TYPE.PROTOCOL&&"ephemeral_sync_response"===(null===(d=p[0])||void 0===d?void 0:d.subtype)?m.push((0,f.processEphemeralSyncResponseMsg)(p[0],h,E)):(0,O.isPinnedMessagesM1ReceiverEnabled)()&&(null===(_=p[0])||void 0===_?void 0:_.type)===C.MSG_TYPE.PIN_MESSAGE?(I=!0,(0,a.isUnifiedPinAddonInfraEnabled)()?m.push((0,s.processMsgs)(p)):m.push((0,f.processPinMsg)(p[0],h,E))):p.length>0&&m.push(V(p,h,g,A,T,E)),{tasks:m,hasInactiveMsg:I}}function V(e,t,n,r,i,o){return T.processRenderableMessages(e,t,n,r,i,o)}function W(){return(W=(0,i.default)((function*(e,t,n){if((0,I.cagReactionsReceive)()){const r=yield(0,R.getGroupMetadataTable)().get(t.chat.toString());if(Boolean(null==r?void 0:r.incognito)&&Boolean(null==r?void 0:r.defaultSubgroup)){return Q(yield(0,f.convertEncReactionToReaction)(e,t),t,n)}}}))).apply(this,arguments)}function Q(e,t,n){return T.processReactionMessage(e,t,n)}function $(){return z.apply(this,arguments)}function z(){return(z=(0,i.default)((function*(e,t,n){const r=null!=t.offline&&!n,i=(0,P.isMatFullyEnabled)()&&"poll_update"===e.type?yield(0,N.processPollUpdateMatMessages)(e):e,o=(0,_.getMessageCache)().addMessages([{msg:i}],!r);(n||c.Cmd.isMainStreamReadyMd&&c.Cmd.isOfflineDeliveryEnd)&&(yield o)}))).apply(this,arguments)}},37995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAck=function(e,t,n,s){(0,r.deprecatedCastStanza)((0,i.wap)("ack",{id:(0,i.CUSTOM_STRING)(e),class:"message",from:(0,o.DEVICE_JID)((0,a.assertGetMe)()),to:t?(0,o.JID)(t):i.DROP_ATTR,participant:s?(0,o.DEVICE_JID)(s):i.DROP_ATTR,type:null!=n?n:i.DROP_ATTR}))},t.sendNack=function(e,t,n,s,l){(0,r.deprecatedCastStanza)((0,i.wap)("ack",{id:(0,i.CUSTOM_STRING)(e),class:"message",from:(0,o.DEVICE_JID)((0,a.assertGetMe)()),to:t?(0,o.JID)(t):i.DROP_ATTR,participant:s?(0,o.DEVICE_JID)(s):i.DROP_ATTR,type:null!=n?n:i.DROP_ATTR,error:(0,i.INT)(l)}))};var r=n(19026),i=n(80780),o=n(11439),a=n(3885)},8826:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendReceipt=function(){return E.apply(this,arguments)};var i=r(n(48926)),o=n(12020),a=n(33351),s=n(37995),l=n(12987),c=n(19909),u=n(67621),d=n(51337),_=n(84360),p=n(48362),f=n(3885);function E(){return(E=(0,i.default)((function*(e,t,n){const{externalId:r}=e,{rawTs:i,type:E}=t,A=(0,u.getFrom)(e),g=e.type===l.MESSAGE_TYPE.CHAT&&(0,f.isMeAccount)(e.author)?e.chat:null,h=e.type===l.MESSAGE_TYPE.CHAT?null:e.author,S=e.category===a.CATEGORY_PEER;switch(n.result){case l.E2EProcessResult.SUCCESS:case l.E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR:return(0,_.sendDeliveryReceiptsAfterDecryption)(r,A,g,h,S,n);case l.E2EProcessResult.HSM_MISMATCH:return;case l.E2EProcessResult.RETRY:{const t=null==n.retryCount?1:n.retryCount+1;return yield(0,p.sendRetryReceipt)({retryCount:t,to:A,participant:h,recipient:g,externalId:r,rawTs:i,isPeer:S,retryReason:n.retryReason}),void(0,d.maybePostMessageHighRetryCountMetric)(t,e)}case l.E2EProcessResult.BACKFILL:return(0,s.sendAck)(r,A,E,h);case l.E2EProcessResult.PARSE_ERROR:case l.E2EProcessResult.PARSE_VALIDATION_ERROR:return(0,c.isSendMessageDropNackEnabled)()?(0,s.sendNack)(r,A,E,h,o.NackReason.InvalidProtobuf):(0,s.sendAck)(r,A,E,h)}return __LOG__(4,void 0,new Error,!0)`sendReceipt: invalid e2eProcessResult "${n.result}"`,SEND_LOGS("send-receipt-missing-e2e-process-result"),(0,s.sendAck)(r,A,E,h)}))).apply(this,arguments)}},12987:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaceholderType=t.MessageOverwriteOption=t.MESSAGE_TYPE=t.HostStorageEnumType=t.E2EProcessResult=t.ActualActorsEnumType=void 0;const r=n(76672)({Self:1,Bsp:2});t.ActualActorsEnumType=r;const i=n(76672)({OnPremise:1,Facebook:2});t.HostStorageEnumType=i;const o=n(76672).Mirrored(["SUCCESS","RETRY","HSM_MISMATCH","BACKFILL","PARSE_ERROR","PARSE_VALIDATION_ERROR","SIGNAL_OLD_COUNTER_ERROR"]);t.E2EProcessResult=o;const a=n(76672).Mirrored(["E2E","FANOUT","BOT_UNAVAILABLE_FANOUT"]);t.PlaceholderType=a;const s=n(76672)({NO_OVERWRITE:0,RETRY:1,FUTURE_PROOF:2,PEER_RETRY:3});t.MessageOverwriteOption=s;const l=Object.freeze({CHAT:"chat",GROUP:"group",PEER_BROADCAST:"peer_broadcast",OTHER_BROADCAST:"other_broadcast",DIRECT_PEER_STATUS:"direct_peer_status",OTHER_STATUS:"other_status"});t.MESSAGE_TYPE=l},39600:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isFromKnownDevice=function(){return E.apply(this,arguments)},t.renderableMessagesValidation=function(e){let{renderableMsgs:t,msgMeta:n,info:r,proto:i,bizInfo:o}=e;if(t.length>0&&!A(i,o))throw new l.BizNodeValidationError("[messaging] Biz node validation failed due to absence of biz node in SMAX");if((0,c.isReactionMsgMeta)(n)&&t.length>0&&t[0].type!==u.MSG_TYPE.REACTION&&t[0].type!==u.MSG_TYPE.REACTION_ENC)throw new l.MessageProtobufMismatchError(l.MessageProtobufMismatchErrorCode.INVALID_REACTION_STANZA);if((0,c.isPollVoteMsgMeta)(n)){const[e]=t;if(null!=e){const t=e.type===u.MSG_TYPE.UNKNOWN&&e.futureproofType===u.MSG_TYPE.POLL_UPDATE,n=e.type===u.MSG_TYPE.POLL_UPDATE&&"poll_vote"===e.subtype;if(!t&&!n)throw new l.MessageProtobufMismatchError(l.MessageProtobufMismatchErrorCode.INVALID_POLL_UPDATE_STANZA)}}if(r.edit===a.EDIT_ATTR.PIN_IN_CHAT&&t[0].type!==u.MSG_TYPE.PIN_MESSAGE)throw new l.MessageProtobufMismatchError(l.MessageProtobufMismatchErrorCode.INVALID_PIN_IN_CHAT_STANZA)},t.validateBclHash=function(){return f.apply(this,arguments)},t.validateBizNode=A,t.validateMsgDestination=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=n(44037),a=n(77630),s=n(97183),l=n(22495),c=n(24513),u=n(73602),d=n(30304),_=n(3885);function p(){return(p=(0,i.default)((function*(e,t){var n;const r=t.chat;if(!e.equals(r))return __LOG__(4,void 0,new Error,!0)`encDestination: ${String(e)}, destination: ${r.toString()}`,SEND_LOGS("validateMsgDestination: drop due to the deviceSentMessage meta mismatch."),!1;const i=t.author;if(!(0,_.isMeAccount)(i))return __LOG__(4,void 0,new Error,!0)`sender: ${i.toString()}`,SEND_LOGS("validateMsgDestination: drop due to msg is not sent from your own device."),!1;const o=yield(0,s.hasDevice)(i,null!==(n=i.device)&&void 0!==n?n:0);return o||(__LOG__(4,void 0,new Error,!0)`no record found for sender: ${i.toString()}`,SEND_LOGS("validateMsgDestination:drop due to invalid device")),o}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e,t){var n;const r=null!==(n=t.bclParticipants)&&void 0!==n?n:[],i=yield(0,d.phashV2)(r);return i!==e?(__LOG__(4,void 0,new Error,!0)`expected: ${e}, got: ${i}`,SEND_LOGS("validateBclHash: drop due to invalid hash."),!1):(t.bclHashValidated=!0,!0)}))).apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e){const t=null==e.device?o.DEFAULT_DEVICE_ID:e.device;if(t===o.DEFAULT_DEVICE_ID)return!0;const[n]=yield(0,s.getDeviceIds)([e]);return null!=n&&n.devices.includes(t)}))).apply(this,arguments)}function A(e,t){const{listMessage:n,buttonsMessage:r,highlyStructuredMessage:i}=e;if(n&&!0!==(null==t?void 0:t.verifiedListEnvelope))return __LOG__(4,void 0,new Error,!0)`no biz node found in list message`,SEND_LOGS("validateBizNode:drop due to missing biz node in invalid SMAX in list message"),!1;if(r){var o,a;const e=!0===(null==t?void 0:t.verifiedButtonsEnvelope)||null!=(null==t?void 0:t.nativeFlowName)||!0===(null===(o=r.contextInfo)||void 0===o?void 0:o.isForwarded)&&0===(null==r||null===(a=r.buttons)||void 0===a?void 0:a.length);return e||(__LOG__(4,void 0,new Error,!0)`button message is invalid`,SEND_LOGS("validateBizNode:drop due to invalid SMAX for buttons message")),e}return!i||!0===(null==t?void 0:t.verifiedHsmEnvelope)||(__LOG__(4,void 0,new Error,!0)`no biz node found in HSM`,SEND_LOGS("validateBizNode:drop due to missing biz node in invalid SMAX in HSM"),!1)}},43823:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logReceivedMessagesInWAM=function(e,t,n,r,i){(function(){return C.apply(this,arguments)})(e).then((o=>Promise.all([I(e,t,n,o,r,i),v(e,o),O(e),P(e)]))).catch((e=>{__LOG__(3)`error logging received messages: ${e}`}))};var i=r(n(48926)),o=n(29987),a=n(1619),s=n(42083),l=n(80127),c=n(10473),u=n(62413),d=n(14105),_=n(26368),p=n(95160),f=n(93769),E=n(3885),A=n(8414),g=n(58669),h=n(98701),S=n(93828),T=n(51017),m=n(49625);function I(){return y.apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e,t,n,r,a,s){var l;const c=(0,o.unixTimeMs)(),u=null===(l=r.get((0,E.assertGetMeUser)().toJid()))||void 0===l?void 0:l.ephemeralDuration;yield Promise.all(e.map(function(){var e=(0,i.default)((function*(e){const i=e.from;if(null==i)return;const o=new d.MessageReceiveWamEvent({messageType:(0,S.getWamMessageType)(e),messageMediaType:(0,S.getWamMediaType)(e),messageIsInternational:(0,_.getIsInternational)(e),messageIsOffline:t,isViewOnce:Boolean(e.isViewOnce),isForwardedForward:(0,_.getNumTimesForwarded)(e)>1,isAReply:(0,_.getIsReply)(e),editType:(0,_.getWamEditType)(e)});if(!i.isGroup()){var l;const e=null===(l=r.get(i.toJid()))||void 0===l?void 0:l.ephemeralDuration;null!=e&&(o.senderDefaultDisappearingDuration=e),null!=u&&(o.receiverDefaultDisappearingDuration=u),o.isLid=i.isLid()}(0,_.getIsRevoke)(e)&&(o.revokeType="admin_revoke"===e.subtype?A.REVOKE_TYPE.ADMIN:A.REVOKE_TYPE.SENDER),null!=a&&(o.messageReceiveT0=a-n,o.messageReceiveT1=c-a,null!=s&&(o.messageQueueTime=s-a)),null!=e.ephemeralDuration&&e.ephemeralDuration>0&&(o.ephemeralityDuration=e.ephemeralDuration);const p=(0,_.getWamDisappearingModeInitiator)(e);null!=p&&(o.disappearingChatInitiator=p);const f=(0,S.getWamAgentEngagementType)(e);null!=f&&(o.agentEngagementType=f);const E=yield(0,g.getGroupTypeFromChatWid)(i);if(null!=E&&(o.typeOfGroup=E),null==i?void 0:i.isGroup()){const t=yield(0,g.isCagIncognitoFromChatWid)(i),n=(0,_.getIsReaction)(e);null!=t&&null!=n&&(o.isLid=t&&n);const r=yield(0,h.getGroupMetrics)(i);null!=(null==r?void 0:r.participantCount)&&(o.participantCount=r.participantCount),null!=(null==r?void 0:r.deviceCount)&&(o.deviceCount=r.deviceCount),null!=(null==r?void 0:r.deviceSizeBucket)&&(o.deviceSizeBucket=r.deviceSizeBucket)}o.commit()}));return function(){return e.apply(this,arguments)}}()))}))).apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e){const t=new Set(e.filter((e=>e.id.remote.isUser())).map((e=>e.id.remote.toJid())));t.add((0,E.assertGetMeUser)().toJid());const n=Array.from(t);let r;return(0,p.isWorker)()?(r=yield(0,f.getContactTable)().bulkGet(n),new Map(r.map(((e,t)=>[n[t],{ephemeralDuration:(0,c.getEphemeralDurationForUser)(e),shouldBlockByCountry:()=>!1,shouldBlockByTos:()=>!1}])))):(0,m.workerSafeSendAndReceive)("getContactData",{ids:n.map(T.createWid)})}))).apply(this,arguments)}function v(e,t){for(const n of e){const e=t.get(n.id.remote.toJid());e&&!(0,_.getIsSentByMe)(n)&&(e.shouldBlockByCountry()?new u.GatedMessageReceivedWamEvent({chatGatedReason:A.CHAT_GATED_REASON.COUNTRY}).commit():e.shouldBlockByTos()&&new u.GatedMessageReceivedWamEvent({chatGatedReason:A.CHAT_GATED_REASON.TOS3}).commit())}}function O(e){(0,s.handleActivitiesForChatThreadLogging)(e.filter(l.shouldIncrementMsgSendAndReceive).map((e=>({activityType:e.id.fromMe?"msgSend":"msgReceive",ts:e.t,chatId:e.id.remote,isViewOnce:!0===e.isViewOnce,isReaction:(0,_.getIsReaction)(e),isForwarded:!0===e.isForwarded,isCommerceMessage:(0,l.isCommerceMessage)(e),isReply:(0,_.getIsReply)(e),isEdit:(0,_.getIsEditProtocolMsg)(e),isBot:(0,_.getIsBotQuery)(e)||(0,_.getIsBotResponse)(e)}))))}function P(e){e.filter(_.getIsAuthenticationMessage).forEach((e=>{(0,a.frontendFireAndForget)("logOTPMessageReceivedActions",{msgData:e})}))}},83661:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPrivacyModeWhenSent=function(){return d.apply(this,arguments)};var i=r(n(48926)),o=n(12166),a=n(12987),s=n(60019),l=n(95160),c=n(3885),u=n(49625);function d(){return(d=(0,i.default)((function*(e,t){if(e.type!==a.MESSAGE_TYPE.CHAT)return;if(!(0,c.isMeAccount)(e.author))return t.privacyMode;const n=t.privacyMode,r=(0,l.isWorker)()?yield(0,o.getPrivacyMode)(e.chat):yield(0,u.workerSafeSendAndReceive)("getPrivacyMode",{id:e.chat});return(0,s.getLatestPrivacyMode)(r,n)}))).apply(this,arguments)}},24513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReactionMsgMeta=t.isPollVoteMsgMeta=void 0;var r=n(33351);t.isReactionMsgMeta=e=>(null==e?void 0:e.type)===r.STANZA_MSG_TYPES.reaction;t.isPollVoteMsgMeta=e=>(null==e?void 0:e.type)===r.STANZA_MSG_TYPES.poll&&(null==e?void 0:e.pollType)===r.POLL_TYPES.vote},20330:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.convertEncReactionToReaction=function(){return B.apply(this,arguments)},t.preProcessMsg=function(){return w.apply(this,arguments)},t.processEditProtocolMsg=function(){return k.apply(this,arguments)},t.processEphemeralSyncResponseMsg=function(){return U.apply(this,arguments)},t.processKeepInChatMsg=function(){return G.apply(this,arguments)},t.processPinMsg=function(){return Y.apply(this,arguments)},t.storePollVotesBulk=function(){return F.apply(this,arguments)},t.storeReactionMsgBulk=function(){return j.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(22101),s=r(n(49619)),l=n(1619),c=n(58755),u=n(87946),d=n(32602),_=n(7103),p=n(48840),f=n(54468),E=n(91360),A=n(33351),g=n(22495),h=n(39600),S=n(8941),T=n(64071),m=n(26368),I=n(73602),y=n(75968),C=n(15553),v=n(463),O=n(17167),P=n(56074),N=n(98554),b=n(69785),M=n(60223),R=n(51017),D=r(n(89482));function L(e,t){const n={msg:e,receiptInfo:{externalId:e.id.id,from:(0,s.default)(e.from,"msg.from"),author:t.author}};(0,E.getMessageCache)().addMessages([n],!1)}function w(){return(w=(0,o.default)((function*(e,t){if(null==e.offline&&__LOG__(2,void 0,void 0,void 0,["messaging"])`processDecryptedMessageProto: msgId::${e.externalId}, message decrypted: `,!e.isHsm&&t.highlyStructuredMessage)throw new A.HsmMismatchError;if(!(yield(0,h.isFromKnownDevice)(e.author))){const t=(0,R.toUserWid)(e.author);throw null==e.offline?(0,M.syncDeviceListJob)([t],null,null):y.OfflinePendingDeviceCache.addOfflinePendingDevice(String(t),null),new g.UnknownDeviceMessageError(`[messaging] msgId::${e.externalId}, processDecryptedMessageProto: reject message from unknown device`)}t.messageContextInfo&&(0,S.handleICDCData)(e.author,e.chat.isUser()?e.chat:null,t.messageContextInfo)}))).apply(this,arguments)}function B(){return(B=(0,o.default)((function*(e){const{targetMessageKey:t,encIv:n,encPayload:r}=e;if(null==t||null==n||null==r)throw(0,D.default)("[messaging] convertEncReactionToReaction - invalid reaction");const o=yield(0,u.getMsgByMsgKey)(t),s=e.author?e.author:e.id.participant;if(null==s)throw(0,D.default)("[messaging] convertEncReactionToReaction - reactionSender can't be null");if(null==(null==o?void 0:o.messageSecret))throw(0,D.default)("[messaging] convertEncReactionToReaction - messageSecret can't be null");if(e.type!==I.MSG_TYPE.REACTION_ENC)throw(0,D.default)("[messaging] convertEncReactionToReaction - message type needs to be REACTION_ENC");const l={encryptedReaction:r,messageSecret:o.messageSecret,iv:n,stanzaId:o.id.id,originalMessageSender:(0,m.getOriginalSender)(o),reactionSender:(0,R.toUserWid)(s)},c=yield(0,N.parseEncReaction)(l),d=(0,f.convertToTextWithoutSpecialEmojis)(c.text);return(0,i.default)((0,i.default)({},e),{},{type:I.MSG_TYPE.REACTION,reactionParentKey:e.targetMessageKey,reactionText:null==d?void 0:d,reactionTimestamp:null==c.senderTimestampMs?void 0:(0,a.numberOrThrowIfTooLarge)(c.senderTimestampMs),encPayload:void 0,targetMessageKey:void 0,encIv:void 0})}))).apply(this,arguments)}function U(){return(U=(0,o.default)((function*(e,t,n){if(null!=t.offline&&!n)return L(e,t);yield(0,l.frontendSendAndReceive)("processEphemeralSyncResponse",{msg:e})}))).apply(this,arguments)}function G(){return(G=(0,o.default)((function*(e,t,n){if(null!=t.offline&&!n)return L(e,t);yield(0,l.frontendSendAndReceive)("processKeepInChatMessage",{keepInChatMessage:e,allowNotification:!0})}))).apply(this,arguments)}function k(){return(k=(0,o.default)((function*(e,t,n){const r=(0,v.isMatFullyEnabled)()?yield(0,O.processEditMatMessages)(e):e;if(null!=t.offline&&!n)return L(r,t);yield(0,_.processEditProtocolMsgs)([r],n)}))).apply(this,arguments)}function Y(){return(Y=(0,o.default)((function*(e,t,n){if(null!=t.offline&&!n)return L(e,t);yield(0,C.processPinMessages)(e.id.remote,[e])}))).apply(this,arguments)}function F(){return(F=(0,o.default)((function*(e){const t=yield(0,d.upsertVotesDb)(e);(0,l.frontendFireAndForget)("upsertVotesModelCollection",{votes:t,restoredFromDb:!0}),yield K(t.map((e=>(0,T.lastAddOnPreviewCandidateFromVoteData)(e,!1))))}))).apply(this,arguments)}function K(){return x.apply(this,arguments)}function x(){return(x=(0,o.default)((function*(e){const t=yield(0,b.filterChatsWithAddOnPreviewUpdates)(e);t.size>0&&(yield(0,p.updateDatabaseForLastAddOnPreview)(t),(0,l.frontendFireAndForget)("updateChatLastAddOnPreview",{chatMap:t}))}))).apply(this,arguments)}function H(e){let{id:t,reactionTimestamp:n,reactionText:r,reactionParentKey:i,sender:o,unread:a}=e;const s=(0,R.toUserWid)(o);return{msgKey:t.toString(),parentMsgKey:i.toString(),senderUserJid:s.toString(),reactionText:null!=r?r:P.REVOKED_REACTION_TEXT,timestamp:n,orphan:0,read:!a}}function j(){return(j=(0,o.default)((function*(e){const t=e.map((e=>H(e)));t.map((e=>`${e.msgKey.toString()} to ${e.parentMsgKey}`)).toString();const n=yield(0,c.createOrUpdateReactions)(t);return n&&(yield K(n.map((e=>(0,T.lastAddOnPreviewCandidateFromReactionRowType)(e))))),n}))).apply(this,arguments)}},69785:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkGetChatLastAddOnPreviewMap=d,t.filterChatsWithAddOnPreviewUpdates=function(){return E.apply(this,arguments)},t.isAddOnPreviewUpdateCandidate=u;var i=r(n(48926)),o=n(64071),a=r(n(60001)),s=n(56074),l=n(94007),c=n(3885);function u(e){const t=a.default.fromString(e.parentMsgKey);return((0,c.isSerializedWidMe)(e.sender)||t.fromMe)&&!e.isOrphan}function d(){return _.apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e){const t=new Map;return(yield(0,l.getChatTable)().bulkGet(e)).forEach((e=>{var n;null!=e&&t.set(e.id.toString(),null!==(n=e.chatlistPreview)&&void 0!==n?n:e.lastReactionPreview)})),t}))).apply(this,arguments)}function p(e){return a.default.fromString(e.parentMsgKey).remote.toString()}function f(e,t){return!!A(e)&&(e.sender===t.sender&&e.parentMsgKey===t.parentMsgKey&&e.timestamp>=t.timestamp)}function E(){return(E=(0,i.default)((function*(e){const t=e.filter((e=>u(e))),n=new Map;if(!t.length)return n;const r=new Set(t.map((e=>a.default.fromString(e.parentMsgKey).remote.toString()))),i=yield d(Array.from(r));return t.forEach((e=>{const t=p(e),r=i.get(t),a=n.get(t),s=null!=a?a:r;A(e)?s&&f(e,s)&&e.timestamp>=s.timestamp&&n.set(t,void 0):s?e.timestamp>=s.timestamp&&n.set(t,(0,o.lastAddOnPreviewFromCandidate)(e)):n.set(t,(0,o.lastAddOnPreviewFromCandidate)(e))})),n}))).apply(this,arguments)}function A(e){switch(e.type){case"poll_vote":return 0===e.selectedOptionsCount;case"reaction":default:return e.reactionText===s.REVOKED_REACTION_TEXT}}},84385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProtobufMessageTypes=function e(t){let n=new Set;for(const r of Object.keys(t)){let i;if(c(r)){const a=l(t[r]);if(null!=a){const t=e(a);n=new Set([...n,...t])}else i=o.MSG_TYPE.UNKNOWN}else i=s(r,t);null!=i&&"number"!=typeof i&&n.add(i)}return n},t.verifyProtobufMessageObjectKeys=function(e){if(!(0,r.getABPropConfigValue)("web_invalid_message_count_validation"))return;const t=u(e);if(!(1===t.length||0===t.length&&Boolean(e.senderKeyDistributionMessage)))throw new i.MessageProtobufInvalidMessageTypes(t)};var r=n(83741),i=n(22495),o=n(73602);const a=n(76672)({Buttons:1,Template:2,NotSupported:3});function s(e,t){switch(e){case"$$unknownFieldCount":return 0===t[e]?null:o.MSG_TYPE.UNKNOWN;case"contactMessage":return o.MSG_TYPE.VCARD;case"contactsArrayMessage":return o.MSG_TYPE.MULTI_VCARD;case"conversation":case"extendedTextMessage":return o.MSG_TYPE.CHAT;case"imageMessage":return o.MSG_TYPE.IMAGE;case"locationMessage":case"liveLocationMessage":return o.MSG_TYPE.LOCATION;case"documentMessage":return o.MSG_TYPE.DOCUMENT;case"audioMessage":return o.MSG_TYPE.AUDIO;case"videoMessage":return o.MSG_TYPE.VIDEO;case"protocolMessage":case"highlyStructuredMessage":return o.MSG_TYPE.PROTOCOL;case"sendPaymentMessage":case"requestPaymentMessage":case"paymentInviteMessage":return o.MSG_TYPE.PAYMENT;case"declinePaymentRequestMessage":case"cancelPaymentRequestMessage":return o.MSG_TYPE.UNKNOWN;case"stickerMessage":return o.MSG_TYPE.STICKER;case"groupInviteMessage":return o.MSG_TYPE.GROUPS_V4_INVITE;case"templateButtonReplyMessage":return o.MSG_TYPE.TEMPLATE_BUTTON_REPLY;case"productMessage":return o.MSG_TYPE.PRODUCT;case"listMessage":return o.MSG_TYPE.LIST;case"orderMessage":return o.MSG_TYPE.ORDER;case"listResponseMessage":return o.MSG_TYPE.LIST_RESPONSE;case"buttonsResponseMessage":return o.MSG_TYPE.BUTTONS_RESPONSE;case"interactiveMessage":return o.MSG_TYPE.INTERACTIVE;case"interactiveResponseMessage":return o.MSG_TYPE.INTERACTIVE_RESPONSE;case"reactionMessage":return o.MSG_TYPE.REACTION;case"encReactionMessage":return o.MSG_TYPE.REACTION_ENC;case"encCommentMessage":return o.MSG_TYPE.ENC_COMMENT;case"pinInChatMessage":return o.MSG_TYPE.PIN_MESSAGE;case"pollCreationMessage":case"pollCreationMessageV2":case"pollCreationMessageV3":return o.MSG_TYPE.POLL_CREATION;case"pollUpdateMessage":return o.MSG_TYPE.POLL_UPDATE;case"keepInChatMessage":return o.MSG_TYPE.KEEP_IN_CHAT;case"requestPhoneNumberMessage":return o.MSG_TYPE.REQUEST_PHONE_NUMBER;case"ptvMessage":return o.MSG_TYPE.PTV;case"callLogMesssage":return o.MSG_TYPE.CALL_LOG;case"buttonsMessage":return a.Buttons;case"templateMessage":return a.Template;case"scheduledCallCreationMessage":case"scheduledCallEditMessage":case"stickerSyncRmrMessage":case"invoiceMessage":return a.NotSupported;case"deviceSentMessage":case"viewOnceMessageV2Extension":case"viewOnceMessageV2":case"viewOnceMessage":case"documentWithCaptionMessage":case"editedMessage":case"botInvokeMessage":case"groupMentionedMessage":case"ephemeralMessage":return null;case"messageContextInfo":case"senderKeyDistributionMessage":case"fastRatchetKeySenderKeyDistributionMessage":case"call":case"chat":return null;default:return e}}function l(e){if(null!=e&&"object"==typeof e&&"message"in e){const t=e.message;if(null!=t&&"object"==typeof t)return t}return null}function c(e){switch(e){case"deviceSentMessage":case"viewOnceMessageV2Extension":case"viewOnceMessageV2":case"viewOnceMessage":case"documentWithCaptionMessage":case"editedMessage":case"botInvokeMessage":case"groupMentionedMessage":case"ephemeralMessage":return!0}return!1}function u(e){const t=[];for(const n of Object.keys(e))if(c(n)){const r=l(e[n]);null!=r?t.push(...u(r)):t.push(n)}else{null!=s(n,e)&&t.push(n)}return t}},37956:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleViewOnceOpenedIfNecessary=function(){return M.apply(this,arguments)},t.processOrphanPeerReceipt=function(e){return y.enqueue((0,i.default)((function*(){const t=yield(0,_.getOrphanReceipt)(String(e));t?(null!=t[l.ACK_STRING.PLAYED]&&(__LOG__(2)`processOrphanPeerReceipt: orphan played ack found for incoming ${e}`,yield b([e],l.ACK.PLAYED,t[l.ACK_STRING.PLAYED])),null!=t[l.ACK_STRING.READ]&&(__LOG__(2)`processOrphanPeerReceipt: orphan read ack found for incoming ${e}`,O(e.remote,[e])),yield(0,_.removeOrphanReceipt)(String(e))):__LOG__(2)`processOrphanPeerReceipt: no orphan ack found for incoming ${e}`})))},t.processReactionOrphanPeerReceipt=function(e){return y.enqueue((0,i.default)((function*(){const t=yield(0,_.getOrphanReceipt)(String(e));t?(null!=t[l.ACK_STRING.READ]&&(__LOG__(2)`processReactionOrphanPeerReceipt: orphan read ack found for incoming ${e}`,yield(0,g.markAddOnsAsReadJob)(new Map([[h.MessageAddOnType.Reaction,[S.default.fromString(t.msgKey)]]]))),yield(0,_.removeOrphanReceipt)(String(e))):__LOG__(2)`processReactionOrphanPeerReceipt: no orphan ack found for incoming ${e}`})))},t.updateChatPeerRead=O,t.updateMsgAcks=b,t.updateMsgAcksDb=function(e,t,n){y.enqueue((()=>{__LOG__(2)`updateMsgAcks: store ${e.length} orphan acks`;let r=null;if(t===l.ACK.PLAYED?r=l.ACK_STRING.PLAYED:t===l.ACK.READ&&(r=l.ACK_STRING.READ),r)return(0,_.createOrUpdateOrphanReceipt)(r,n,e.map(String))}))},t.updateMsgViewed=function(){return N.apply(this,arguments)};var i=r(n(48926)),o=r(n(85564)),a=n(39528),s=n(29987),l=n(77630),c=n(70118),u=n(4339),d=n(93040),_=n(5266),p=n(1619),f=n(42083),E=n(74773),A=n(62505),g=n(11779),h=n(22666),S=r(n(60001)),T=n(48678),m=n(88504),I=n(10139);const y=new a.PromiseQueue;function C(){return v.apply(this,arguments)}function v(){return(v=(0,i.default)((function*(e,t){const n=(yield(0,u.getActiveMessageRanges)(e)).filter((e=>"markChatAsRead"===e.action&&!1===e.actionValue.read&&null!=e.actionValue.messageRange));if(0===n.length)return!0;const r=n[0];return t.some((e=>!(0,c.rangeContainsMessage)(r.actionValue.messageRange,{id:S.default.fromString(e.id),t:e.t})))}))).apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return(P=(0,i.default)((function*(e,t){const n=t.map(String);let r=null;const i=yield(0,I.getMessageTable)().bulkGet(n,!1),a=[];let s;if(i.forEach(((e,t)=>{e?null==e.pendingReadReceipt||null!=e.rowId&&(null==r||e.rowId>r)&&(r=e.rowId):a.push(n[t])})),a.length>0&&__LOG__(2)`updateChatPeerRead: maybeOrphans ${a.length}`,0===a.length)s=new Set;else{const{updatedAddOns:e,updatedOrphans:t}=yield(0,g.markUnclassifiedAddOnsAsReadJob)(a.map((e=>S.default.from(e))));s=new Set([...t,...(0,o.default)(Array.from(e.values()))].map(String))}const c=a.filter((e=>!s.has(e)));y.enqueue((()=>(__LOG__(2)`updateChatPeerRead: storing ${c.length} orphan acks`,(0,_.createOrUpdateOrphanReceipt)(l.ACK_STRING.READ,0,c)))),yield(0,d.markMessageAndChatAsRead)(r,String(e),!(yield C(e.toString(),i.filter(Boolean)))),e.isNewsletter()?(0,m.isNewsletterEnabled)()&&(yield(0,p.frontendSendAndReceive)("updateNewsletterUnreadMsgCount",{id:e})):yield(0,p.frontendSendAndReceive)("updateChatUnreadMsgCountAndClearMentions",{remote:e})}))).apply(this,arguments)}function N(){return(N=(0,i.default)((function*(e,t){const n=e.map((e=>(0,A.craftInternalId)(t.toJid(),e))),r=(yield(0,I.getMessageTable)().anyOf(["internalId"],n)).map((e=>S.default.fromString(e.id)));return yield(0,T.updateMsgViewReceipt)(r),(0,p.frontendFireAndForget)("updateMsgsViewed",{ids:r})}))).apply(this,arguments)}function b(e,t,n,r){return(0,p.frontendSendAndReceive)("updateMsgAcks",{msgKeys:e,ack:t,t:n,privacyMode:r})}function M(){return(M=(0,i.default)((function*(e){const t=e.map(String),n=yield(0,I.getMessageTable)().bulkGet(t,!1);(0,f.handleActivitiesForChatThreadLogging)(n.filter(Boolean).map((e=>(0,E.messageFromDbRow)(e))).filter((e=>e.isViewOnce)).map((e=>{var t;return{activityType:"viewOnceOpen",ts:null!==(t=e.t)&&void 0!==t?t:(0,s.unixTime)(),chatId:e.id.remote}})))}))).apply(this,arguments)}},65953:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearDanglingReceipts=p,t.sendAndClearDanglingReceipts=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(29987),a=n(83741),s=n(85512),l=r(n(69353)),c=n(59516),u=n(83752),d=n(51017);function _(){return(_=(0,i.default)((function*(){const e=yield(0,c.getTable)().all(),t=new Map;e.forEach((e=>{const{receipts:n}=e;n.forEach((e=>{const n=(0,d.createWid)(e.from),r=(0,d.createWid)(e.author);let i=t.get(n);i||(i=new Map,t.set(n,i));let o=i.get(r);o||(o=[],i.set(r,o)),o.push(e.externalId)}))}));const n=String((0,o.unixTime)());yield Promise.all(Array.from(t.keys()).map((e=>{const r=t.get(e);if(r)return(0,u.sendAggregateReceipts)(e,u.RECEIPT_TYPE.DELIVERY,n,r)}))),yield p()}))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=(0,i.default)((function*(){if((0,a.getABPropConfigValue)("web_enable_open_tab_pre_ack")&&!l.default.online)return __LOG__(2)`[offline-resume][utils] clearDanglingReceipts: skip due to offline.`,Promise.resolve();yield(0,s.blockSendPing)(),yield(0,c.getTable)().clear()}))).apply(this,arguments)}},95735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNonBlockingOfflineResumeMaxMessageCount=function(){return(0,r.getABPropConfigValue)("web_non_blocking_offline_resume_max_message_count")},t.isActiveRefreshEnabled=function(){return(0,r.getABPropConfigValue)("web_electron_active_reload")},t.isLazyPullEnabled=function(){return(0,r.getABPropConfigValue)("web_lazy_pull")},t.isNonBlockingResumeFromOpenTabEnabled=function(){return(0,r.getABPropConfigValue)("non_blocking_resume_from_open_tab_enabled")&&(0,r.getABPropConfigValue)("non_blocking_resume_from_open_tab_signal_enabled")},t.isOfflinePriorityBucketEnabled=function(){return(0,r.getABPropConfigValue)("web_offline_notification_priority")},t.isUnifiedSignalStorageEnabled=function(){return(0,r.getABPropConfigValue)("non_blocking_resume_from_open_tab_signal_enabled")};var r=n(83741)},75968:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OfflinePendingDeviceCache=void 0;var i=r(n(48926)),o=n(19026),a=n(39528),s=n(78494),l=n(99692);const c=new class{constructor(){this.pendingDeviceCache=new Set,this.pendingAcks=[],this.snapshotTimer=new s.ShiftTimer((()=>{this.createSnapshot()})),this.checkpointQueue=new a.PromiseQueue}addOfflinePendingDevice(e,t){this.pendingDeviceCache.add(e),t&&this.pendingAcks.push(t),this.snapshotTimer.isScheduled()||(__LOG__(2)`[offline-resume][device-cache]: creating snapshot: schedule in ${3e3} ms`,this.snapshotTimer.onOrAfter(3e3))}createSnapshot(){this.snapshotTimer.isScheduled()&&this.snapshotTimer.cancel();const e=Array.from(this.pendingDeviceCache),t=this.pendingAcks;__LOG__(2)`[offline-resume][device-cache]: creating snapshot for pending devices ${e.join(",")}`,this.checkpointQueue.enqueue((0,i.default)((function*(){yield(0,l.addUserToPendingDeviceSync)(e),t.forEach(o.deprecatedCastStanza),(0,o.cancelDeadSocketTimer)()}))),this.pendingDeviceCache=new Set,this.pendingAcks=[]}};t.OfflinePendingDeviceCache=c},1723:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineMessageHandlerImpl=t.OfflineMessageHandler=void 0;var i=r(n(48926)),o=n(46316),a=r(n(43926)),s=n(95735),l=n(67606),c=n(95716);class u{constructor(){this._offlineManagerInitialized=!1,this._pendingMessageCount=0,this._isPendingPrevBatch=!1,this._isPendingCurrentBatch=!1}initState(e){null!=this._offlineResumeManager&&__LOG__(4,void 0,new Error)`[offline-resume] initState called more than once`,this._offlineResumeManager=e.createBlockingStageManager(),this._createNonblockingStageManager=e.createNonblockingStageManager}setOfflineMessagePreviewCounter(e){if(null!=this._createNonblockingStageManager){const t=this._createNonblockingStageManager;(0,s.isNonBlockingResumeFromOpenTabEnabled)()&&o.Cmd.isMainStreamReadyMd&&this.isResumeFromRestartComplete()?d(e.message)?(__LOG__(2)`[resume-from-open-tab][non-blocking] resume from current state of app`,this._offlineResumeManager=t({mainScreenLoaded:!0})):(__LOG__(2)`[resume-from-open-tab] restart client due to exceed the LIMIT, message: ${e.message}`,(0,l.refreshWindow)()):this._offlineManagerInitialized||this.isResumeFromRestartComplete()||!d(e.message)||(this._offlineResumeManager=t())}this._offlineManagerInitialized=!0,this._offlineResumeManager.processOfflinePreview(e)}setOfflineThreadMeta(e){this._offlineResumeManager.processOfflineThreadMeta(e)}processMessageDecryptResult(e){this._offlineResumeManager.processDecryptResult(e),this._pendingMessageCount-=1,this._maybeRequestMoreStanza()}addOfflinePendingMessage(){this.isResumeFromRestartComplete()||(this._pendingMessageCount+=1)}newOfflineStanza(e,t){return this._isPendingPrevBatch=!1,null==this._endBatchCheck&&(this._endBatchCheck=self.setTimeout((()=>{this._maybeRequestMoreStanza(),this._endBatchCheck=null,__LOG__(2)`[offline-resume][adaptive] _endBatchCheck: done`}),0)),this._offlineResumeManager.newOfflineStanza(e,t)}offlineStanzaReceivedAfterComplete(){return this._offlineResumeManager.offlineStanzaReceivedAfterComplete()}getOfflineDeliveryProgress(){return this._offlineResumeManager.getOfflineDeliveryProgress()}isResumeOnSocketDisconnectInProgress(){return this._offlineResumeManager.isResumeOnSocketDisconnectInProgress()}isResumeFromRestartComplete(){return this._offlineResumeManager.isResumeFromRestartComplete()}getHasMessagesToDownload(){return this._offlineResumeManager.getHasMessagesToDownload()}getFinishedDownloading(){return 100===this.getOfflineDeliveryProgress()}setOfflineSessionComplete(e){return this._offlineResumeManager.processOfflineSessionComplete(e)}setOfflinePrioritySessionComplete(){return this._offlineResumeManager.processOfflineSessionComplete(0,!0)}shouldUseOfflineResumeScreen(){return this._offlineResumeManager.shouldUseOfflineResumeScreen()}shouldShowResumeButterBar(){return this._offlineResumeManager.shouldShowResumeButterBar()}_maybeRequestMoreStanza(){var e=this;return(0,i.default)((function*(){e.isResumeFromRestartComplete()||e._isPendingPrevBatch||e._isPendingCurrentBatch?e.isResumeFromRestartComplete()||__LOG__(2)`[offline-resume][adaptive] _maybeRequestMoreStanza: skip, prevPending: ${e._isPendingPrevBatch}, currentPending: ${e._isPendingCurrentBatch}, complete: ${e.isResumeFromRestartComplete()}`:e._pendingMessageCount<=200&&(__LOG__(2)`[offline-resume][adaptive] _maybeRequestMoreStanza: start request next batch`,e._isPendingCurrentBatch=!0,(0,s.isLazyPullEnabled)()&&(yield(0,a.default)()),(0,c.sendBatchRequestIb)(200),e._isPendingCurrentBatch=!1,e._isPendingPrevBatch=!0,__LOG__(2)`[offline-resume][adaptive] _maybeRequestMoreStanza: request next batch, pending message ${e._pendingMessageCount}`)}))()}}function d(e){return!(e>=(0,s.getNonBlockingOfflineResumeMaxMessageCount)())}t.OfflineMessageHandlerImpl=u;const _=new u;t.OfflineMessageHandler=_},95716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendBatchRequestIb=function(e){const t=(0,i.wap)("ib",null,(0,i.wap)("offline_batch",{count:(0,i.CUSTOM_STRING)(String(e))}));(0,r.deprecatedCastStanza)(t)};var r=n(19026),i=n(80780)},65068:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.classifyMsgs=M,t.storeMsgs=function(){return P.apply(this,arguments)};var i=r(n(48926)),o=n(97578),a=n(31654),s=n(1619),l=n(70817),c=n(24992),u=n(29365),d=n(74773),_=n(7103),p=n(25078),f=n(12364),E=n(82740),A=n(70867),g=n(93444),h=n(78891),S=n(53952),T=n(26368),m=n(73602),I=n(88504),y=n(29409),C=n(15553),v=n(61627),O=n(10139);function P(){return(P=(0,i.default)((function*(e){if(0!==e.length)try{const t=yield M(e),n=Object.entries(t).map((e=>{let[t,n]=e;return Array.isArray(n)&&n.length>0&&`${t}: ${n.length}`})).filter(Boolean).join(", ");__LOG__(2)`[store-msgs] start: ${n}`;const{newMsgs:r,replaceMsgs:i,revokeMsgs:c,paymentMsgs:d,reactionMsgs:h,groupInviteMsgs:T,chatsWithNewOfflineMsg:m,pollUpdateMsgs:y,removedPlaceholders:P,keepInChatMessages:R,editProtocolMsgs:D,replyMsgs:L,newsletterMsgs:w,pinMsgs:B}=t,U=yield(0,a.applyOrphanRevokes)(r);yield(0,u.persistNewMessagesInBulk)(U,m),(0,I.isNewsletterEnabled)()&&(yield(0,u.persistNewNewsletterMessagesInBulk)(w)),yield(0,O.getMessageTable)().bulkCreateOrReplace(i),yield b(c),yield(0,f.processPaymentMessages)(d),yield(0,A.processReactionMsgs)(h),yield(0,p.processGroupInviteMessages)(T),yield(0,s.frontendSendAndReceive)("processKeepInChatMessages",{keepInChatMessages:R,allowNotification:!1}),yield(0,_.processEditProtocolMsgs)(D),yield(0,g.processReplyMsgs)(L),yield(0,E.processPollUpdateMsgs)(y),(0,v.isPinnedMessagesM1ReceiverEnabled)()&&(yield(0,C.groupAndProcessPinMessages)(B)),yield(0,S.handleOfflineForMessageRange)(e);const G=e.map((e=>e.id.toString()));try{yield(0,o.checkOrphanMutations)(G,m),yield(0,l.checkUpdateForOrphanReactions)(G)}catch(t){__LOG__(4,void 0,new Error)`storeMsgs: checkOrphanMutations failed during handleSingleMsg for: ${String(G.join(" "))} chat: ${String(e[0].id.remote)} Error: ${t.name}, message: ${t.message}, stack: ${t.stack}`}N(r,P),__LOG__(2)`[store-msgs] done: ${n}`}catch(e){__LOG__(4,void 0,new Error,!0)`[store-msgs] Error: ${e.name}, message: ${e.message}, stack: ${e.stack}`,SEND_LOGS("storeMsgs-error",.01)}}))).apply(this,arguments)}function N(e,t){const n=e.filter((e=>(0,c.isPlaceholderMsg)(e.type)));n.length>0&&(0,s.frontendFireAndForget)("addPlaceholderWamActions",{msgs:n}),t.length>0&&(0,s.frontendFireAndForget)("populatePlaceholderWamActions",{msgs:t})}function b(e){const t=[];return e.forEach((e=>{e.protocolMessageKey&&t.push({revokeMsgKey:e.protocolMessageKey,newMsgKey:e.id,timestamp:e.t,subtype:e.subtype,sender:(0,T.getSender)(e),revokeTimestamp:e.t,disappearingModeInitiator:e.disappearingModeInitiator,ephemeralDuration:e.ephemeralDuration,ephemeralSettingTimestamp:e.ephemeralSettingTimestamp})})),(0,h.processRevokeMsgs)(t).then(function(){var e=(0,i.default)((function*(e){if(t.length>0){const e=[],r=new Set;t.forEach((t=>{e.push(t.revokeMsgKey.toString());const n=t.revokeMsgKey.remote.toString();r.add(n)}));const i=n(74e3).getJobManager;yield i().waitUntilPersisted(y.jobSerializers.deleteAddOns(Array.from(r.values()).join(","),e))}return e}));return function(){return e.apply(this,arguments)}}())}function M(){return R.apply(this,arguments)}function R(){return(R=(0,i.default)((function*(e){const t=yield(0,O.getMessageTable)().bulkGet(e.map((e=>String(e.id))),!1),n=[],r=[],i=[],o=[],a=[],s=[],l=[],u=[],_=[],p=[],f=[],E=[],A=new Set,g=new Map,h=new Map;return e.forEach(((e,S)=>{const I=String(e.id),y=t[S];if(null!=y&&L(e,y)){const t=(0,d.dbRowFromMessage)(e);t.t=y.t,t.internalId=y.internalId,t.rowId=y.rowId,t.pendingReadReceipt=y.pendingReadReceipt,r.push(t),(0,c.isPlaceholderMsg)(y.type)&&h.set(I,e)}else if(!y||(0,c.isFutureproofMsg)(y.type)&&D(e)){const t=g.get(I);t&&!(0,c.isPlaceholderMsg)(t.type)?n.push(e.id.id):(0,T.getIsNewsletterMsg)(e)&&"admin_revoke"!==e.subtype?f.push(e):e.type===m.MSG_TYPE.KEEP_IN_CHAT?l.push(e):e.type===m.MSG_TYPE.REACTION?o.push(e):e.type===m.MSG_TYPE.POLL_UPDATE?s.push(e):e.type===m.MSG_TYPE.PIN_MESSAGE?E.push(e):["sender_revoke","admin_revoke"].includes(e.subtype)?i.push(e):e.type===m.MSG_TYPE.PAYMENT&&"send"===e.subtype||"payment_action_request_declined"===e.subtype||"payment_transaction_request_cancelled"===e.subtype?(a.push(e),g.set(I,e),A.add(String(e.id.remote))):e.type===m.MSG_TYPE.GROUPS_V4_INVITE?(u.push(e),g.set(I,e),A.add(String(e.id.remote))):e.type===m.MSG_TYPE.PROTOCOL&&"message_edit"===e.subtype?_.push(e):e.quotedMsg?(p.push(e),g.set(I,e),A.add(String(e.id.remote))):e.type!==m.MSG_TYPE.PROTOCOL&&(g.set(I,e),A.add(String(e.id.remote)))}else n.push(e.id.id)})),n.length>0&&__LOG__(2)`[store-msgs] [classify-msgs]: skip for ${n.length} duplicate messages, with id ${n}`,{newMsgs:Array.from(g.values()),chatsWithNewOfflineMsg:Array.from(A),removedPlaceholders:Array.from(h.values()),replaceMsgs:r,revokeMsgs:i,paymentMsgs:a,reactionMsgs:o,pollUpdateMsgs:s,keepInChatMessages:l,groupInviteMsgs:u,editProtocolMsgs:_,replyMsgs:p,newsletterMsgs:f,pinMsgs:E}}))).apply(this,arguments)}function D(e){const{getAddOnProviderForMsg:t}=n(2537);return Boolean(t(e))}function L(e,t){return(0,c.isPlaceholderMsg)(t.type)&&!(0,c.isPlaceholderMsg)(e.type)||(0,c.isFutureproofMsg)(t.type)&&!(0,c.isFutureproofMsg)(e.type)&&!D(e)}},88411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateClockSkew=function(e){const t=Date.now()/1e3,n=Math.round(t-e),s=Math.round(n/r.HOUR_SECONDS);0!==s&&(0,i.getABPropConfigValue)("log_clock_skew")&&new a.ClockSkewDifferenceTWamEvent({clockSkewHourly:-1*s}).commit();(0,r.setClockSkew)(n),(0,o.frontendFireAndForget)("setWebClockSkew",{newClockSkew:n})};var r=n(29987),i=n(83741),o=n(1619),a=n(87452)},79388:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.updateMeLid=function(e){const t=(0,o.getMaybeMeLid)(!1);if(null==t&&null==e)return;if(null==t&&null!=e)return void(0,o.setMeLid)(e);if(null!=t&&null==e)return;if((0,i.default)(t,"lid").equals(e))return;(0,o.setMeLid)((0,i.default)(e,"nextLid"))};var i=r(n(49619)),o=n(3885)},87116:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.maybeChild("address"),n=t?t.contentString():void 0,r=e.maybeChild("description"),s=r?r.contentString():void 0,l=e.maybeChild("email"),c=l?l.contentString():void 0,u=e.maybeChild("latitude"),d=u?parseFloat(u.contentString()):void 0,_=e.maybeChild("longitude"),p=_?parseFloat(_.contentString()):void 0,f=e.maybeChild("vertical");let E;if(f){const e=f.maybeAttrString("canonical"),t=f.hasContent()?f.contentString():void 0;E={name:t,canonical:e}}const A=[];e.forEachChildWithTag("website",(e=>{A.push(e.contentString())}));const g=[],h=e.maybeChild("categories");h&&h.forEachChildWithTag("category",(e=>{const t=e.attrString("id");g.push({id:t,localized_display_name:e.contentString()})}));let S;const T=e.maybeChild("business_hours");if(T){const e=T.maybeAttrString("timezone"),t=[];T.forEachChildWithTag("business_hours_config",(e=>{t.push({day_of_week:e.attrString("day_of_week"),mode:e.attrString("mode"),open_time:e.hasAttr("open_time")?parseInt(e.attrString("open_time"),10):0,close_time:e.hasAttr("close_time")?parseInt(e.attrString("close_time"),10):0})})),S={config:t,timezone:e}}let m;const I=e.maybeChild("profile_options");if(I){m={};const e=I.maybeChild("commerce_experience");var y;if(e)m.commerce_experience=null!==(y=o.COMMERCE_EXPERIENCE_TYPES.cast(e.contentString()))&&void 0!==y?y:o.COMMERCE_EXPERIENCE_TYPES.NONE;const t=I.maybeChild("cart_enabled");t&&(m.cart_enabled="true"===t.contentString());const n=I.maybeChild("shop_url");n&&(m.shop_url=n.contentString());const r=I.maybeChild("commerce_manager_url");r&&(m.commerce_manager_url=r.contentString());const i=I.maybeChild("is_banned");i&&(m.is_banned="true"===i.contentString());const a=I.maybeChild("direct_connection");a&&(m.direct_connection="true"===a.contentString())}const C=e.maybeChild("direct_connection");let v;if(C){const e=C.maybeChild("default_postcode");v={enabled:"true"===C.maybeAttrString("enabled"),defaultPostcode:e?{code:e.attrString("code"),locationName:e.attrString("location_name")}:void 0}}const O=e.maybeChild("catalog_status"),P=O?O.attrString("status"):void 0;let N,b={},M={},R=!1;const D=e.maybeChild("linked_accounts");if(D){R=!0;const e=D.maybeChild("fb_page");if(e){const t=e.maybeChild("display_name"),n=e.maybeChild("likes");b={displayName:null==t?void 0:t.contentString(),likes:null==n?void 0:n.contentString(),id:e.maybeAttrString("id")}}const t=D.maybeChild("ig_professional");if(t){const e=t.maybeChild("ig_handle"),n=t.maybeChild("followers");M={handle:null==e?void 0:e.contentString(),followers:null==n?void 0:n.contentString()}}}const L=e.maybeChild("cover_photo"),w=L?{id:L.attrString("id"),url:new URL(L.contentString())}:void 0;if((0,i.isCustomURLViaBizProfileEnabled)()){const t=e.maybeChild("custom_url");t&&(N=null==t?void 0:t.contentString())}const B={address:n,description:s,email:c,latitude:d,longitude:p,vertical:E,website:A,categories:g,business_hours:S,catalog_status:P,profile_options:m,fbPage:b,igProfessional:M,isProfileLinked:R,directConnection:v,cover_photo:w,customUrlPath:N};return(0,a.default)(B)};var i=n(56660),o=n(83141),a=r(n(8316))},2718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.attrEnum("verified_level",r.MSG_VERIFIED_LEVEL),n=e.hasContent()?e.contentBytes():null,a=e.maybeAttrString("serial"),{serial:s,name:l,isApi:c,isSmb:u}=n&&function(e){const t=(0,o.getParsedProtoObjects)(e);if(null==t?void 0:t.details){const{name:e,serial:n,isApi:r,isSmb:i}=(0,o.extractCertificateDetailsParams)(t.details);return{name:e,serial:String(n),isApi:r,isSmb:i}}}(n)||{},d=i.ActualActorsEnumType.cast(e.maybeAttrInt("actual_actors")),_=i.HostStorageEnumType.cast(e.maybeAttrInt("host_storage")),p=e.maybeAttrInt("privacy_mode_ts");return{level:t,serial:a||s,name:l,isApi:!0===c,isSmb:!0===u,privacyMode:null!=d&&null!=_&&null!=p?{actualActors:d,hostStorage:_,privacyModeTs:p}:null}};var r=n(33351),i=n(12987),o=n(35798)},26134:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseProductNode=void 0,t.productModelToNode=function(e){var t,n;const r=e.id?(0,o.wap)("id",null,e.id.toString()):void 0,a=e.description?(0,o.wap)("description",null,e.description):void 0,u=e.url?(0,o.wap)("url",null,e.url):void 0,d=e.retailerId?(0,o.wap)("retailer_id",null,e.retailerId):void 0,_=null!=e.priceAmount1000?(0,o.wap)("currency",null,e.currency):void 0,p=null!=e.priceAmount1000?(0,o.wap)("price",null,e.priceAmount1000.toString()):void 0,f=[(0,o.wap)("image",null,(0,o.wap)("url",null,e.imageCdnUrl))].concat(null===(t=e.additionalImageCdnUrl)||void 0===t?void 0:t.map((e=>(0,o.wap)("image",null,(0,o.wap)("url",null,e))))),E=function(e){var t,n,r,i,a,l;const{isExempt:c,hasCountryCodeOrigin:u,hasImporterName:d,hasImporterAddress:_}=(0,s.scanComplianceInfoForMissingData)(e);return!c&&(u||d||_)?(0,o.wap)("compliance_info",null,u?(0,o.wap)("country_code_origin",null,null==e?void 0:e.countryCodeOrigin):void 0,d?(0,o.wap)("importer_name",null,null==e?void 0:e.importerName):void 0,_?(0,o.wap)("importer_address",null,(null==e||null===(t=e.importerAddress)||void 0===t?void 0:t.street1)?(0,o.wap)("street1",null,e.importerAddress.street1):void 0,(null==e||null===(n=e.importerAddress)||void 0===n?void 0:n.street2)?(0,o.wap)("street2",null,e.importerAddress.street2):void 0,(null==e||null===(r=e.importerAddress)||void 0===r?void 0:r.city)?(0,o.wap)("city",null,e.importerAddress.city):void 0,(null==e||null===(i=e.importerAddress)||void 0===i?void 0:i.region)?(0,o.wap)("region",null,e.importerAddress.region):void 0,(null==e||null===(a=e.importerAddress)||void 0===a?void 0:a.postalCode)?(0,o.wap)("postal_code",null,e.importerAddress.postalCode):void 0,(null==e||null===(l=e.importerAddress)||void 0===l?void 0:l.countryCode)?(0,o.wap)("country_code",null,e.importerAddress.countryCode):void 0):void 0):void 0}(e.complianceInfo),A=(0,i.default)({is_hidden:e.isHidden?"true":"false"},(null===(n=e.complianceInfo)||void 0===n?void 0:n.countryCodeOrigin)===String(c.SyntheticCountryCode.NotApplicable)?{compliance_category:l.ProductComplianceCategory.CountryOriginExempt}:void 0);return(0,o.wap)("product",A,r,(0,o.wap)("name",null,e.name),a,u,d,(0,o.wap)("media",null,f),p,_,E)};var i=r(n(81109)),o=n(80780),a=n(46292),s=n(42742),l=n(49193),c=n(47344);t.parseProductNode=e=>{var t,n,r;const o=e.child("id").contentString(),s=e.maybeChild("url");let u="";s&&s.hasContent()&&(u=s.contentString());const d=e.child("name").contentString(),_=null!==(t=e.maybeAttrString("availability"))&&void 0!==t?t:l.ProductAvailability.UNKNOWN;let p=a.CART_ITEM_MAX_QUANTITY;const f=e.maybeAttrString("max_available");null!=f&&(p=Number(f));const E=e.maybeChild("max_available"),A=null==E?void 0:E.contentString();null!=A&&(p=Number(A));const g=e.maybeChild("description"),h=g?g.contentString():"",S=e.maybeChild("belongs_to"),T="true"===(null==S?void 0:S.contentString())||!1,m=[],I=[],y=[],C=e.child("media");let v=!0;C.forEachChildWithTag("image",(e=>{if(v)v=!1,m.push({key:"requested",value:e.child("request_image_url").contentString()}),m.push({key:"full",value:e.child("original_image_url").contentString()}),y.push(e.child("id").contentString());else{const t=[];t.push({key:"requested",value:e.child("request_image_url").contentString()}),t.push({key:"full",value:e.child("original_image_url").contentString()}),I.push(t),y.push(e.child("id").contentString())}}));const O=e.maybeChild("status_info"),P=(null==O?void 0:O.child("status").contentString())||"APPROVED",N=null==O||null===(n=O.maybeChild("can_appeal"))||void 0===n?void 0:n.contentString(),b=e.maybeChild("currency"),M=b?b.contentString():void 0,R=e.maybeChild("price"),D=null==R?void 0:R.contentString(),L=e.maybeChild("retailer_id"),w=L?L.contentString():"",B=!!e.hasAttr("is_hidden")&&"true"===e.attrString("is_hidden"),U=e.hasAttr("compliance_category")?l.ProductComplianceCategory.cast(e.attrString("compliance_category")):l.ProductComplianceCategory.Default,G=e.maybeChild("sale_price"),k=G?(0,i.default)({sale_price:null===(r=G.maybeChild("price"))||void 0===r?void 0:r.contentString()},G.hasChild("start_date")&&G.hasChild("end_date")?{sale_start_date:G.child("start_date").contentString(),sale_end_date:G.child("end_date").contentString()}:null):null,Y=(0,i.default)({id:o,is_hidden:B,url:u,name:d,description:h,availability:_,max_available:p,additional_image_cdn_urls:I,image_cdn_urls:m,capability_to_review_status:[{key:"WHATSAPP",value:P}],whatsapp_product_can_appeal:"true"===N,image_hashes_for_whatsapp:y,currency:M,price:D,retailer_id:w,checkmark:T},k),F=e.maybeChild("compliance_info");return U===l.ProductComplianceCategory.CountryOriginExempt?Y.compliance_info={country_code_origin:String(c.SyntheticCountryCode.NotApplicable)}:F&&(Y.compliance_info=function(e){var t;const n=e.child("country_code_origin").contentString(),r=null===(t=e.maybeChild("importer_name"))||void 0===t?void 0:t.contentString(),i=e.maybeChild("importer_address"),o={country_code_origin:n,importer_name:r};var a,s,l;i&&(o.importer_address={street1:i.child("street1").contentString(),street2:null===(a=i.maybeChild("street2"))||void 0===a?void 0:a.contentString(),postal_code:null===(s=i.maybeChild("postal_code"))||void 0===s?void 0:s.contentString(),city:i.child("city").contentString(),region:null===(l=i.maybeChild("region"))||void 0===l?void 0:l.contentString(),country_code:i.child("country_code").contentString()});return o}(F)),Y}},9022:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseProductGraphQL=function(e){var t,n,r,_,p,f,E,A,g;let{status_info:h,sale_price:S,product_availability:T,compliance_info:m}=e,I=(0,o.default)(e,u);const[y,...C]=null!==(t=null===(n=I.media)||void 0===n?void 0:n.images)&&void 0!==t?t:[],v=(0,i.default)((0,i.default)({id:(0,a.default)(I.id,"product.id"),retailer_id:null!==(r=I.retailer_id)&&void 0!==r?r:"",name:(0,a.default)(I.name,"product.name"),description:null!==(_=I.description)&&void 0!==_?_:"",url:null!==(p=I.url)&&void 0!==p?p:"",currency:I.currency,price:I.price,is_hidden:"ISHIDDEN_TRUE"===I.is_hidden,max_available:null!==(f=I.max_available)&&void 0!==f?f:s.CART_ITEM_MAX_QUANTITY,availability:T&&T in d?d[T]:l.ProductAvailability.UNKNOWN},null!=(null==S?void 0:S.price)?(0,i.default)({sale_price:S.price},null!=S.start_date&&null!=S.end_date?{sale_start_date:S.start_date,sale_end_date:S.end_date}:null):null),{},{checkmark:"true"===I.belongs_to,image_hashes_for_whatsapp:(null!==(E=null===(A=I.media)||void 0===A?void 0:A.images)&&void 0!==E?E:[]).map((e=>(0,a.default)(e.id,"img.id"))),image_cdn_urls:y?[{key:"requested",value:(0,a.default)(y.request_image_url,"firstImage.request_image_url")},{key:"full",value:(0,a.default)(y.original_image_url,"firstImage.original_image_url")}]:[],additional_image_cdn_urls:C.map((e=>[{key:"requested",value:(0,a.default)(e.request_image_url,"img.request_image_url")},{key:"full",value:(0,a.default)(e.original_image_url,"img.original_image_url")}])),whatsapp_product_can_appeal:"true"===(null==h?void 0:h.can_appeal),capability_to_review_status:[{key:"WHATSAPP",value:null!==(g=null==h?void 0:h.status)&&void 0!==g?g:"APPROVED"}]});if(null!=m){var O,P,N,b,M;const{importer_address:e}=m;v.compliance_info="COMPLIANCECATEGORY_COUNTRYORIGINEXEMPT"===I.compliance_category?{country_code_origin:c.SyntheticCountryCode.NotApplicable}:{country_code_origin:null!==(O=m.country_code_origin)&&void 0!==O?O:void 0,importer_name:null!==(P=m.importer_name)&&void 0!==P?P:void 0,importer_address:{street1:(0,a.default)(null==e?void 0:e.street1,"importerAddress?.street1"),street2:null!==(N=null==e?void 0:e.street2)&&void 0!==N?N:void 0,postal_code:null!==(b=null==e?void 0:e.postal_code)&&void 0!==b?b:void 0,city:(0,a.default)(null==e?void 0:e.city,"importerAddress?.city"),region:null!==(M=null==e?void 0:e.region)&&void 0!==M?M:void 0,country_code:(0,a.default)(null==e?void 0:e.country_code,"importerAddress?.country_code")}}}return v};var i=r(n(81109)),o=r(n(6479)),a=r(n(49619)),s=n(46292),l=n(49193),c=(n(69481),n(47344));const u=["status_info","sale_price","product_availability","compliance_info"];const d={AVAILABLE_FOR_ANOTHER_POSTCODE:l.ProductAvailability.AVAILABLE_FOR_ANOTHER_POSTCODE,IN_STOCK:l.ProductAvailability.IN_STOCK,OUT_OF_STOCK:l.ProductAvailability.OUT_OF_STOCK}},79920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCatalogEventLogger=t.GRAPHQL_CATALOG_ENDPOINT=void 0;var r=n(60731),i=n(8414);const o=i.GRAPHQL_CATALOG_ENDPOINT;t.GRAPHQL_CATALOG_ENDPOINT=o;t.createCatalogEventLogger=e=>{const t=new r.GraphqlCatalogRequestWamEvent({graphqlCatalogEndpoint:e});return{success:()=>{t.set({graphqlErrorCode:-1,graphqlRequestResult:i.GRAPHQL_REQUEST_RESULT.SUCCESS}),t.commit()},failure:e=>{let[n]=e;t.set({graphqlErrorCode:n.code,graphqlRequestResult:i.GRAPHQL_REQUEST_RESULT.FAILURE}),t.commit()}}}},43976:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryGetPublicKey=void 0;var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(91563),c=n(11439),u=n(85074),d=n(51017);const _=new s.WapParser("getPublicKeyResponse",(e=>{var t,n;e.assertTag("iq"),e.assertFromServer();return{certificate:null===(t=e.maybeChild("public_key"))||void 0===t||null===(n=t.maybeChild("pem"))||void 0===n?void 0:n.contentString()}})),p=(0,u.defineWebPersistedJob)().finalStep("sendStanza",function(){var e=(0,i.default)((function*(e){let{businessJid:t}=e;const n=(0,a.wap)("iq",{to:a.S_WHATSAPP_NET,type:"get",smax_id:"52",xmlns:"w:biz:catalog",id:(0,a.generateId)()},(0,a.wap)("public_key",{jid:(0,c.USER_JID)((0,d.createWid)(t))})),r=yield(0,o.deprecatedSendIq)(n,_);if(r.success)return r.result;throw new l.ServerStatusCodeError(r.errorCode)}));return function(){return e.apply(this,arguments)}}()).end();t.QueryGetPublicKey=p},94088:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryGetSignedUserInfo=void 0;var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(91563),c=n(11439),u=n(85074),d=n(51017);function _(e,t){var n;return null==e||null===(n=e.maybeChild(t))||void 0===n?void 0:n.contentString()}const p=new s.WapParser("getSignedUserInfoResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.maybeChild("signed_user_info");return{phoneNumber:_(t,"phone_number"),phoneNumberSignatureExpiration:_(t,"ttl_timestamp"),phoneNumberSignature:_(t,"phone_number_signature"),businessDomain:_(t,"business_domain")}})),f=(0,u.defineWebPersistedJob)().finalStep("sendStanza",function(){var e=(0,i.default)((function*(e){let{businessJid:t}=e;const n=(0,a.wap)("iq",{to:a.S_WHATSAPP_NET,type:"get",xmlns:"w:biz:catalog",id:(0,a.generateId)()},(0,a.wap)("signed_user_info",{biz_jid:(0,c.USER_JID)((0,d.createWid)(t))})),r=yield(0,o.deprecatedSendIq)(n,p);if(!r.success)throw new l.ServerStatusCodeError(r.errorCode);return r.result}));return function(){return e.apply(this,arguments)}}()).end();t.QueryGetSignedUserInfo=f},32686:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryProductListCatalog=void 0;var i,o=r(n(48926)),a=n(19026),s=r(n(49619)),l=n(80780),c=n(8748),u=n(91563),d=n(26134),_=n(56660),p=n(9022),f=n(79920),E=n(11439),A=n(85074),g=n(56110),h=r(n(58230)),S=n(36383),T=n(69481),m=n(51017),I=r(n(9539));const y=new c.WapParser("productListResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("product_list"),n=[];return t.forEachChildWithTag("product",(e=>{const t=e.maybeChild("id");if(!t)return;const r=e.maybeChild("status");(null==r?void 0:r.contentString())===S.INVALID_PRODUCT_TOKEN?n.push({id:t.contentString(),status:S.INVALID_PRODUCT_TOKEN}):n.push((0,d.parseProductNode)(e))})),n})),C=function(){var e=(0,o.default)((function*(e){let{catalogWid:t,productIds:n,width:r,height:i,directConnectionEncryptedInfo:o}=e;const s=(0,l.wap)("iq",{to:l.S_WHATSAPP_NET,type:"get",smax_id:"21",xmlns:"w:biz:catalog",id:(0,l.generateId)()},(0,l.wap)("product_list",{jid:(0,E.USER_JID)((0,m.createWid)(t))},n.map((e=>(0,l.wap)("product",null,(0,l.wap)("id",null,e)))).concat((0,I.default)([(0,l.wap)("width",null,r.toString()),(0,l.wap)("height",null,i.toString()),o?(0,l.wap)("direct_connection_encrypted_info",null,o):null])))),c=yield(0,a.deprecatedSendIq)(s,y);if(c.success)return c.result;throw new u.ServerStatusCodeError(c.errorCode)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.default)((function*(e){try{var t,r;const{catalogWid:o,productIds:a,width:l,height:c,directConnectionEncryptedInfo:u}=e,d=yield(0,T.fetchQuery)(void 0!==i?i:i=n(74489),{request:{product_list:{jid:o.toString(),products:a.map((e=>({id:e}))),width:String(l),height:String(c),direct_connection_encrypted_info:u}}},{eventLogger:(0,f.createCatalogEventLogger)(f.GRAPHQL_CATALOG_ENDPOINT.GET_PRODUCT_LIST)});return(0,s.default)(null==d||null===(t=d.xwa_product_catalog_get_product_list)||void 0===t||null===(r=t.product_list)||void 0===r?void 0:r.products.map(p.parseProductGraphQL),"data?.xwa_product_catalog_get_product_list?.product_list?.products.map(parseProductGraphQL)")}catch(t){return t instanceof g.GraphQLServerError&&(0,h.default)(t),__LOG__(3)`GraphQL: Failed fetching xwa_product_catalog_get_product_list query. Falling back to IQ.`,C(e)}}));return function(){return e.apply(this,arguments)}}(),O=(0,A.defineWebPersistedJob)().finalStep("sendStanza",(e=>((0,_.graphQLForCatalogM1Enabled)()?v:C)(e))).end();t.QueryProductListCatalog=O},25180:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.VerifyPostcode=void 0;var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(91563),c=n(11439),u=n(85074),d=n(51017);const _=new s.WapParser("productResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("result_code"),n=e.maybeChild("encrypted_location_name"),r=null==n?void 0:n.contentString();return{resultCode:t.contentString(),encryptedLocationName:r}})),p=(0,u.defineWebPersistedJob)().finalStep("sendStanza",function(){var e=(0,i.default)((function*(e){let{businessJid:t,directConnectionEncryptedInfo:n}=e;const r=(0,a.wap)("iq",{id:(0,a.generateId)(),xmlns:"w:biz:catalog",type:"get",to:a.S_WHATSAPP_NET,smax_id:"70"},(0,a.wap)("verify_postcode",{biz_jid:(0,c.USER_JID)((0,d.createWid)(t))},(0,a.wap)("direct_connection_encrypted_info",null,n))),i=yield(0,o.deprecatedSendIq)(r,_);if(i.success)return i.result;throw new l.ServerStatusCodeError(i.errorCode)}));return function(){return e.apply(this,arguments)}}()).end();t.VerifyPostcode=p},74489:e=>{"use strict";const t={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"request"}],kind:"Fragment",metadata:null,name:"WAWebQueryProductListCatalogJobQuery",selections:o=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"request"}],concreteType:"XWAProductCatalogGetProductListResponseSuccess",kind:"LinkedField",name:"xwa_product_catalog_get_product_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogGetProductListResponseSuccessProductList",kind:"LinkedField",name:"product_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XWACatalogProduct",kind:"LinkedField",name:"products",plural:!0,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"retailer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_available",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductStatusInfo",kind:"LinkedField",name:"status_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_appeal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductSalePrice",kind:"LinkedField",name:"sale_price",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"start_date",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_date",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaImage",kind:"LinkedField",name:"images",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"original_image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_image_url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"belongs_to",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"compliance_category",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductComplianceInfo",kind:"LinkedField",name:"compliance_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"country_code_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"importer_name",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductComplianceInfoImporterAddress",kind:"LinkedField",name:"importer_address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"WAWebQueryProductListCatalogJobQuery",selections:o},params:{id:"WAWebQueryProductListCatalogJobQuery",metadata:{},name:"WAWebQueryProductListCatalogJobQuery",operationKind:"query",text:null}};var n,r,i,o;t.hash="5d3b936da25c831ffeb17f59668da9c4",e.exports=t},1802:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getMerchantCompliance=function(){return p.apply(this,arguments)},t.setMerchantCompliance=function(){return f.apply(this,arguments)};var i=r(n(48926)),o=r(n(81109)),a=n(19026),s=n(80780),l=n(8748),c=n(91563),u=n(11439);const d=e=>{var t,n,r;return{email:(null==e||null===(t=e.maybeChild("email"))||void 0===t?void 0:t.contentString())||"",landline_number:(null==e||null===(n=e.maybeChild("landline_number"))||void 0===n?void 0:n.contentString())||"",mobile_number:(null==e||null===(r=e.maybeChild("mobile_number"))||void 0===r?void 0:r.contentString())||""}},_=new l.WapParser("merchantComplianceResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=[];return e.forEachChildWithTag("merchant_info",(e=>{var n,r,i,a;const s=(null===(n=e.maybeChild("entity_name"))||void 0===n?void 0:n.contentString())||"",l=(null===(r=e.maybeChild("entity_type"))||void 0===r?void 0:r.contentString())||"",c=null===(i=e.maybeChild("entity_type_custom"))||void 0===i?void 0:i.contentString(),u="true"===e.attrString("is_registered"),_=e.maybeChild("customer_care_details"),p=e.maybeChild("grievance_officer_details"),f=(0,o.default)({},d(_)),E=(0,o.default)({name:(null==p||null===(a=p.maybeChild("name"))||void 0===a?void 0:a.contentString())||""},d(p));t.push({entity_name:s,entity_type:l,is_registered:u,entity_type_custom:c,customer_care_details:f,grievance_officer_details:E})})),t}));function p(){return(p=(0,i.default)((function*(e){const t=(0,s.wap)("iq",{to:s.S_WHATSAPP_NET,xmlns:"w:biz:merchant_info",id:(0,s.generateId)(),type:"get",smax_id:"53"},e.map((e=>(0,s.wap)("merchant_info",{jid:(0,u.USER_JID)(e.wid)})))),n=yield(0,a.deprecatedSendIq)(t,_);if(n.success)return n.result;throw new c.ServerStatusCodeError(n.errorCode)}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(){let{entityName:e,entityType:t,isRegistered:n=!1,entityTypeCustom:r,customerCareDetails:i,grievanceOfficerDetails:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=(0,s.wap)("iq",{to:s.S_WHATSAPP_NET,xmlns:"w:biz:merchant_info",id:(0,s.generateId)(),type:"set",smax_id:"54"},(0,s.wap)("merchant_info",{is_registered:n?"true":"false"},void 0!==e?(0,s.wap)("entity_name",null,e):null,void 0!==t?(0,s.wap)("entity_type",null,t):null,void 0!==r?(0,s.wap)("entity_type_custom",null,r):null,i?(0,s.wap)("customer_care_details",null,void 0!==i.email?(0,s.wap)("email",null,i.email):null,void 0!==i.landlineNumber?(0,s.wap)("landline_number",null,i.landlineNumber):null,void 0!==i.mobileNumber?(0,s.wap)("mobile_number",null,i.mobileNumber):null):null,o?(0,s.wap)("grievance_officer_details",null,void 0!==o.name?(0,s.wap)("name",null,o.name):null,void 0!==o.email?(0,s.wap)("email",null,o.email):null,void 0!==o.landlineNumber?(0,s.wap)("landline_number",null,o.landlineNumber):null,void 0!==o.mobileNumber?(0,s.wap)("mobile_number",null,o.mobileNumber):null):null)),u=yield(0,a.deprecatedSendIq)(l,_);if(u.success)return u.result;throw new c.ServerStatusCodeError(u.errorCode)}))).apply(this,arguments)}},39235:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.mergeBusinessProfileAndCompliance=c,t.queryBusinessProfile=function(e,t){const n=(0,a.getBusinessProfileQueryVersion)();let r;r=t?Promise.all([(0,l.default)(e,n),(0,s.getMerchantCompliance)(e)]).then(c):(0,l.default)(e,n);return(0,o.attachErrorLogger)(r,"Query business profile failed")};var i=r(n(81109)),o=n(91563),a=n(92615),s=n(1802),l=r(n(24840));function c(e){let[t,n]=e;return t.map(((e,t)=>(0,i.default)((0,i.default)({},e),{},{profile:(0,i.default)((0,i.default)({},e.profile),{},{legal_entity_details:n[t]})})))}},24840:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(91563),c=r(n(87116)),u=n(11439),d=n(15610);const _=new s.WapParser("businessProfileResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("business_profile"),n=[];return t.forEachChildWithTag("profile",(e=>{const t=(0,d.jidWithTypeToWid)(e.attrJidWithType("jid")),r=e.attrString("tag"),i=(0,c.default)(e);Object.keys(i).length?n.push({wid:t,tag:r,profile:i}):n.push({wid:t,tag:r})})),n}));function p(){return(p=(0,i.default)((function*(e,t){const n=(0,a.wap)("iq",{to:a.S_WHATSAPP_NET,xmlns:"w:biz",id:(0,a.generateId)(),type:"get"},(0,a.wap)("business_profile",{v:(0,a.INT)(t)},e.map((e=>(0,a.wap)("profile",{jid:(0,u.USER_JID)(e.wid),tag:null!=e.tag?(0,a.INT)(e.tag):a.DROP_ATTR}))))),r=yield(0,o.deprecatedSendIq)(n,_);if(r.success)return r.result;throw new l.ServerStatusCodeError(r.errorCode)}))).apply(this,arguments)}},89358:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.loadPrimaryFeatures=function(){return d.apply(this,arguments)},t.primaryFeatureEnabled=function(e){if(null==c)return __LOG__(4,void 0,new Error)`primaryFeatureEnabled: primary features have not been initialized!`,!1;return c.has(e)},t.setPrimaryFeatures=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(17657),s=n(59356),l=r(n(61112));let c=null;function u(){return(u=(0,i.default)((function*(e){l.default.set(s.KEYS.PRIMARY_FEATURES,e),yield a.userPrefsIndexedDBStorage.setItemToIndexedDB(s.KEYS.PRIMARY_FEATURES,e),c=new Set(e),(0,o.frontendFireAndForget)("setPrimaryFeatures",{primaryFeatures:e})}))).apply(this,arguments)}function d(){return(d=(0,i.default)((function*(){var e;const t=null!==(e=yield a.userPrefsIndexedDBStorage.getItemFromIndexedDB(s.KEYS.PRIMARY_FEATURES))&&void 0!==e?e:[];c=new Set(t),(0,o.frontendFireAndForget)("setPrimaryFeatures",{primaryFeatures:t}),__LOG__(2)`primary features loaded`}))).apply(this,arguments)}},9529:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=n(19026),a=n(78427),s=n(8748),l=n(97023);const c=new s.WapParser("serverProps",(e=>{e.assertTag("iq"),e.assertAttr("from","s.whatsapp.net");const t=e.child("props"),n={serverPropsVersion:t.attrInt("version")};return t.forEachChildWithTag("prop",(e=>{switch(e.attrString("name")){case"ephemeral_messages_allowed_values":n.ephemeralMessagesAllowedValues=e.attrString("value");break;case"web_gif_search":n.gifSearch=e.attrString("value");break;case"group_call_max_participants":n.groupCallMaxParticipants=e.attrInt("value",0);break;case"group_description_length":n.groupDescLength=e.attrInt("value");break;case"hfm_string_changes":n.hfmStringChanges=1===e.attrInt("value");break;case"image_quality":n.imageQuality=e.attrInt("value")/100;break;case"max_participants":n.maxParticipants=e.attrInt("value")-1;break;case"max_subject":n.maxSubject=e.attrInt("value");break;case"max_keys":n.maxKeys=e.attrInt("value");break;case"media":n.media=1024*e.attrInt("value")*1024;break;case"mms_media_key_ttl":n.mmsMediaKeyTTL=e.attrInt("value");break;case"wallpapers_v2":n.wallpapersV2=1===e.attrInt("value");break;case"shops_product_grid":n.shopsProductGrid=1===e.attrInt("value",0);break;case"mms_hot_content_timespan_in_seconds":n.mmsHotContentTimespan=e.attrInt("value");break;case"mms_vcache_aggregation_enabled":n.mmsVCacheAggregationEnabled=1===e.attrInt("value");break;case"status_video_max_duration":n.statusVideoMaxDuration=e.attrInt("value");break;case"syncd_inline_mutations_max_count":n.syncdInlineMutationsMaxCount=e.attrInt("value");break;case"syncd_patch_protobuf_max_size":n.syncdPatchProtobufMaxSize=e.attrInt("value");break;case"syncd_key_max_use_days":n.syncdKeyMaxUseDays=e.attrInt("value");break;case"syncd_wait_for_key_timeout_days":n.syncdWaitForKeyTimeoutDays=e.attrInt("value");break;case"syncd_additional_mutations":n.syncdAdditionalMutations=e.attrInt("value");break;case"syncd_sentinel_timeout_seconds":n.syncdSentinelTimeoutSeconds=e.attrInt("value");break;case"md_pin_chat_enabled":n.syncdPinChatEnabled=1===e.attrInt("value");break;case"syncd_qpl_logging_enabled":n.syncdQPLLoggingEnabled=1===e.attrInt("value");break;case"web_biz_profile_options":n.webBizProfileOptions=e.attrInt("value");break;case"web_download_status_thumb_mms_enabled":n.webDownloadStatusThumbMmsEnabled=1===e.attrInt("value");break;case"web_send_document_thumb_in_message_disabled":n.webSendDocumentThumbInMessageDisabled=1===e.attrInt("value");break;case"web_voip_mac_os_min_version":n.webVoipMacOsMinVersion=e.attrString("value");break;case"web_voip_windows_os_min_version":n.webVoipWindowsOsMinVersion=e.attrString("value");break;case"mms_cat_v1_forward_hot_override_enabled":n.mmsCatV1ForwardHotOverrideEnabled=1===e.attrInt("value");break;case"ptt_conversation_waveform":n.pttConversationWaveform=1===e.attrInt("value");break;case"ptt_oot_playback":n.pttOotPlayback=1===e.attrInt("value");break;case"ptt_pausable_enabled":n.pttPausableEnabled=1===e.attrInt("value");break;case"ptt_playback_speed_enabled":n.pttPlaybackSpeedEnabled=1===e.attrInt("value");break;case"web_product_list_message_page_size":n.webProductListMessagePageSize=e.attrInt("value");break;case"ptt_remember_play_position":n.pttRememberPlayPosition=1===e.attrInt("value");break;case"max_electron_file_size":n.maxElectronFileSize=1024*e.attrInt("value")*1024;break;case"max_file_size":n.maxFileSize=1024*e.attrInt("value")*1024;break;case"web_log_upload_download_crashes":n.webLogUploadDownloadCrashes=1===e.attrInt("value");break;case"web_graphql_for_catalog_m1":n.webGraphQLForCatalogM1=1===e.attrInt("value");break;case"web_md_mms_sync_deletion_request":n.webMdMmsSyncDeletionRequest=1===e.attrInt("value");break;case"web_payment_background_enabled":n.webPaymentBackgroundEnabled=1===e.attrInt("value");break;case"streaming_upload_chunk_size":n.streamingUploadChunkSize=1024*e.attrInt("value")*1024}})),{values:n,attributes:{protocol:t.maybeAttrInt("protocol"),version:t.attrInt("version"),hash:t.maybeAttrString("hash"),refresh:t.maybeAttrInt("refresh")}}}));function u(){return(u=(0,i.default)((function*(){var e;const t=yield(0,l.getServerPropsAttributes)(),n=(0,a.makeGetV2Request)({propsHash:null!==(e=null==t?void 0:t.hash)&&void 0!==e?e:""});return(0,o.deprecatedSendIq)(n,c)}))).apply(this,arguments)}},53519:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){if(u)return u;return u=(0,s.default)().then((e=>{if(e.success)return e.result;throw new a.ServerStatusCodeError(e.errorCode,e.errorText)})).then(function(){var e=(0,i.default)((function*(e){const t=e.values,n=e.attributes;if(2===n.protocol){var r,i,o;const e=yield(0,c.getServerPropsAttributes)();(0,c.setServerPropsAttributes)({version:n.version,hash:null!==(r=null!==(i=n.hash)&&void 0!==i?i:null==e?void 0:e.hash)&&void 0!==r?r:"",refresh:null!==(o=n.refresh)&&void 0!==o?o:86400,lastSyncTimeSeconds:Math.floor(Date.now()/1e3)})}else(0,c.setServerPropsAttributes)({version:n.version,hash:"",refresh:86400,lastSyncTimeSeconds:Math.floor(Date.now()/1e3)});if(2===n.protocol)if(null==n.hash){const e=yield(0,c.getServerProps)();null==e?((0,c.setServerPropsAttributes)({version:n.version,hash:"",refresh:86400,lastSyncTimeSeconds:0}),__LOG__(4,void 0,new Error,!0)`Server props failure: empty server props table`,SEND_LOGS("read-from-empty-server-props-table")):l.ServerProps.updateProps(e)}else(0,c.setServerProps)(t),l.ServerProps.updateProps(t);else l.ServerProps.updateProps(t)}));return function(){return e.apply(this,arguments)}}()).catch((0,o.filteredCatch)(a.ServerStatusCodeError,(()=>{}))).finally((()=>{u=null})),u};var i=r(n(48926)),o=n(81408),a=n(91563),s=r(n(9529)),l=n(70997),c=n(97023);let u},63300:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getInstance=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=e?A:g(),n=h();let r;if(I[t])return(0,d.hasConfigChanged)(T,n)&&(__LOG__(2)`[job-orchestrator] config changed `,T=n,I[t].updateConfig(n)),I[t];switch(t){case"preemptive":r=new o.WAConcurrentPreemptiveJobQueue;break;case"bucket":r=new i.WAConcurrentBucketJobQueue;break;case"v2":case"v1":default:r=new a.WADefaultJobNoQueue}return r.init(n,m()),I[t]=r,T=n,r};var i=n(31758),o=n(47624),a=n(81531),s=n(75419),l=n(29987),c=n(83741),u=r(n(45647)),d=n(7550),_=n(78637),p=n(8414);const f={maxConcurrency:1,bestEffortWaitTimeoutSec:l.FIVE_MINUTES,jobPrioritiesQuota:new Map([[s.JOB_PRIORITY.HIGH,5],[s.JOB_PRIORITY.LOW,1],[s.JOB_PRIORITY.OFFLINE,3]])},E={maxConcurrency:1,bestEffortWaitTimeoutSec:l.FIVE_MINUTES,jobPrioritiesQuota:new Map([[s.JOB_PRIORITY.HIGH,5],[s.JOB_PRIORITY.LOW,1],[s.JOB_PRIORITY.OFFLINE,1]])},A="default";function g(){return(0,c.getABPropConfigValue)("web_orchestrator_enabled_version")}function h(){const e=u.default.getCurrentScenario();return e===p.WEBC_SCENARIO_TYPE.IDLE?f:e===p.WEBC_SCENARIO_TYPE.OFFLINE_RESUME?E:f}let S,T=f;function m(){return S||(S=new _.JobStatsLogger),S}const I={}},7550:(e,t)=>{"use strict";function n(e,t){return t instanceof Map||t instanceof Set?Array.from(t):t}Object.defineProperty(t,"__esModule",{value:!0}),t.hasConfigChanged=function(e,t){var r,i,o,a;if(e.maxConcurrency!==t.maxConcurrency)return!0;if((null===(r=e.jobPrioritiesQuota)||void 0===r?void 0:r.size)!==(null===(i=t.jobPrioritiesQuota)||void 0===i?void 0:i.size))return!0;if(Object.keys(null!==(o=e.maxConcurrencyPerJob)&&void 0!==o?o:{}).length!==Object.keys(null!==(a=t.maxConcurrencyPerJob)&&void 0!==a?a:{}).length)return!0;return JSON.stringify(e,n)!==JSON.stringify(t,n)}},67091:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JobInfoEvent=void 0;t.JobInfoEvent=class{constructor(e,t,n,r){this.jobName=e,this.scenario=r,this.pendingJobsCount=n,this.jobPriority=t}logJobAdded(){this.webcJobAddedT=Date.now()}logJobStarted(){this.webcJobStartedT=Date.now()}logJobCompleted(e){this.webcJobCompletedT=Date.now(),this.jobResultType=e}}},78637:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.JobStatsLogger=void 0;r(n(81109)),r(n(45647)),n(67091);var i=n(8414);n(44160);t.JobStatsLogger=class{constructor(){this._jobEventMap=new Map}logJobCreated(e){}logJobStarted(e){}logJobCompleted(e){this._logJobFinished(e,i.WEBC_JOB_RESULT_TYPE_CODE.COMPLETED)}logJobError(e){this._logJobFinished(e,i.WEBC_JOB_RESULT_TYPE_CODE.ERROR)}logJobTimeout(e){this._logJobFinished(e,i.WEBC_JOB_RESULT_TYPE_CODE.TIMEOUT)}logJobAborted(e){this._logJobFinished(e,i.WEBC_JOB_RESULT_TYPE_CODE.ABORTED)}_logJobFinished(e,t){}_maybeCommitJobEvent(e){}}},51280:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createNonPersistedJob=function(e,t,n){if("function"!=typeof t)throw(0,a.default)("getNonPersistJob got invalid function param");const r=(0,o.getInstance)((null==n?void 0:n.priority)===i.JOB_PRIORITY.SKIP);return{fireAndForget(){r.enqueue(e,(()=>t.apply(null,arguments)),n)},waitUntilCompleted(){return r.enqueue(e,(()=>t.apply(null,arguments)),n)}}};var i=n(75419),o=n(63300),a=r(n(89482))},85074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defineWebPersistedJob=function(){return(0,r.definePersistedJob)()};var r=n(77095)},50413:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){!function(e,t){Object.keys(t).forEach((n=>{t.hasOwnProperty(n)&&e.addPersistedJobImplementation(n,t[n])}))}(e,{rotateKey:()=>Promise.resolve().then(n.bind(n,52351)).then((e=>e.rotateKey)),setAbout:()=>Promise.resolve().then(n.bind(n,88117)).then((e=>e.setAbout)),queryProductList:()=>Promise.resolve().then(n.bind(n,32686)).then((e=>e.QueryProductListCatalog)),getPublicKey:()=>Promise.resolve().then(n.bind(n,43976)).then((e=>e.QueryGetPublicKey)),getSignedUserInfo:()=>Promise.resolve().then(n.bind(n,94088)).then((e=>e.QueryGetSignedUserInfo)),verifyPostcode:()=>Promise.resolve().then(n.bind(n,25180)).then((e=>e.VerifyPostcode)),deleteReactions:()=>Promise.resolve().then(n.bind(n,42626)).then((e=>e.deleteReactions)),deleteReactionsV2:()=>Promise.resolve().then(n.bind(n,82726)).then((e=>e.deleteReactionsV2)),deleteAddOns:()=>Promise.resolve().then(n.bind(n,82726)).then((e=>e.deleteAddOns)),sendRequestedKeyShare:()=>n.e(8960).then(n.bind(n,68960)).then((e=>e.sendRequestedKeyShare)),dismissQuickPromotion:()=>n.e(9578).then(n.bind(n,19578)).then((e=>e.dismissQuickPromotion)),primaryActionClickInQuickPromotion:()=>n.e(4745).then(n.bind(n,84745)).then((e=>e.primaryActionClickInQuickPromotion)),impressionOnQuickPromotion:()=>n.e(7882).then(n.bind(n,57882)).then((e=>e.impressionOnQuickPromotion)),userExposureToQuickPromotion:()=>n.e(4279).then(n.bind(n,7471)).then((e=>e.userExposureToQuickPromotion))})}},29409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jobSerializers=void 0;var r=n(29987),i=n(91563),o=n(56660);const a={rotateKey:()=>({type:"rotateKey",args:{},uniqKey:"rotateKey"}),setAbout:e=>({type:"setAbout",args:{content:e},uniqKey:"setAbout"}),queryProductList(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if((0,o.commerceFeaturesDisabledBySanctions)())throw new i.E451;return{type:"queryProductList",args:{catalogWid:e.toString(),productIds:t,width:r,height:a,directConnectionEncryptedInfo:n},uniqKey:`queryProductList:${t.slice().sort().join(",")}:${r}:${a}`}},getPublicKey:e=>({type:"getPublicKey",args:{businessJid:e.toString()},uniqKey:`getPublicKey:${e.toString()}`}),getSignedUserInfo:e=>({type:"getSignedUserInfo",args:{businessJid:e.toString()},uniqKey:`getSignedUserInfo:${e.toString()}`}),verifyPostcode:(e,t)=>({type:"verifyPostcode",args:{businessJid:e.toString(),directConnectionEncryptedInfo:t},uniqKey:`verifyPostcode:${e.toString()}:${t}`}),deleteReactions:(e,t)=>({type:"deleteReactions",args:{chatId:e,parentMsgKeys:t},uniqKey:`deleteReactions:${e}`}),deleteReactionsV2:(e,t)=>({type:"deleteReactionsV2",args:{chatId:e,parentMsgKeys:t}}),deleteAddOns:(e,t)=>({type:"deleteAddOns",args:{chatId:e,parentMsgKeys:t}}),sendRequestedKeyShare:(e,t,n)=>({type:"sendRequestedKeyShare",args:{keys:e,orphanKeys:t,peerDeviceId:n.toString()}}),dismissQuickPromotion(e){const t=(0,r.unixTime)();return{type:"dismissQuickPromotion",args:{id:e,ts:t},uniqKey:`dismissQuickPromotion-${e}-${t}`}},primaryActionClickInQuickPromotion(e){const t=(0,r.unixTime)();return{type:"primaryActionClickInQuickPromotion",args:{id:e,ts:t},uniqKey:`primaryActionClickInQuickPromotion-${e}-${t}`}},impressionOnQuickPromotion(e){const t=(0,r.unixTime)();return{type:"impressionOnQuickPromotion",args:{id:e,ts:t},uniqKey:`impressionOnQuickPromotion-${e}-${t}`}},userExposureToQuickPromotion(e,t){const n=(0,r.unixTime)();return{type:"userExposureToQuickPromotion",args:{id:e,ts:n,experimentKey:t},uniqKey:`userExposureToQuickPromotion-${e}-${n}`}}};t.jobSerializers=a},74e3:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getJobManager=function(){if(null==_)throw(0,d.default)("jobs manager has not been initialized");return _},t.maybeCreateJob=E,t.startWebPersistedJobManager=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=n(65982),a=n(29261),s=n(29987),l=n(1420),c=r(n(50413)),u=n(51766),d=r(n(89482));let _=null;function p(){return(p=(0,i.default)((function*(){yield(0,l.initialize)();const e=(0,u.getTable)();_=new a.PersistedJobManager({accessors:f(),unfinishedJobEntries:e.all(),isRestartAfterCrash:!1,listeners:{onJobStarted:()=>{},onJobFinished:()=>null},deprecatedJobs:{}}),(0,c.default)(_)}))).apply(this,arguments)}function f(){return{deletePersistedJob:e=>(0,u.getTable)().remove(e),updatePersistedJob:e=>(0,u.getTable)().createOrReplace(e),readPersistedJob:e=>(0,u.getTable)().get(e),loadAllJobs:()=>(0,u.getTable)().all(),maybeCreateJob:E}}function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){var t,n;const r=(0,u.getTable)(),i=JSON.stringify([e.type,null!==(t=e.uniqKey)&&void 0!==t?t:(0,o.randomHex)(32)]),l={type:e.type,uniqKey:i,startTime:(0,s.unixTime)(),version:null!==(n=e.version)&&void 0!==n?n:1,original:e.args,current:e.args,step:a.UNSTARTED_JOB,waitUntil:null,stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,backedOffCount:0};if(null==e.uniqKey)return r.createOrReplace(l).then((e=>({id:e,newlyCreated:!0})));const c=yield r.equals(["uniqKey"],[e.uniqKey]);if(0===c.length)return r.createOrReplace(l).then((e=>({id:e,newlyCreated:!0})));const d=[];let _=null;for(const e of c)e.step!==a.FINISHED_JOB?_=e:d.push(r.remove(e.jobId));return yield Promise.all(d),null!=_?{id:_.jobId,newlyCreated:!1}:r.createOrReplace(l).then((e=>({id:e,newlyCreated:!0})))}))).apply(this,arguments)}},82726:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReactionsV2=t.deleteAddOns=void 0;var i=r(n(48926)),o=n(74941),a=n(74260),s=n(91336),l=n(89688),c=n(23800),u=n(85074),d=n(60627),_=r(n(60001)),p=n(61627);const f=(0,u.defineWebPersistedJob)().finalStep("deleteAddOns",function(){var e=(0,i.default)((function*(e){let{chatId:t,parentMsgKeys:n}=e;const r=yield Promise.allSettled([A({chatId:t,parentMsgKeys:n}),h({chatId:t,parentMsgKeys:n}),T({chatId:t,parentMsgKeys:n})]);for(const e of r)if("rejected"===e.status)throw e.reason}));return function(){return e.apply(this,arguments)}}()).end();t.deleteAddOns=f;const E=(0,u.defineWebPersistedJob)().finalStep("deleteReactionsV2",(e=>{let{chatId:t,parentMsgKeys:n}=e;return A({chatId:t,parentMsgKeys:n})})).end();function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){let{chatId:t,parentMsgKeys:n}=e;__LOG__(2)`Persisted: deleteReactionsV2 persisted job started for ${t}`;const r=yield(0,s.getAllReactionsFromParentMsgs)(n),i=r.map((e=>e.msgKey));if(0===i.length)return void __LOG__(2)`Persisted: deleteReactionsV2 finished, no reactionsMsgKeys`;const o=[];i.forEach((e=>{_.default.fromString(e).fromMe&&o.push(e)})),o.length>0&&(yield(0,l.removeMessagesFromHistory)(o));const c=r.map((e=>[e.parentMsgKey,e.senderUserJid]));yield(0,a.deleteReactionsByRecords)(c),yield(0,d.deleteLastAddOnsPreview)(n),__LOG__(2)`Persisted: deleteReactionsV2 finished`}))).apply(this,arguments)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){let{chatId:t,parentMsgKeys:n}=e;__LOG__(2)`Persisted: deletePollVotes job started for ${t}`,yield(0,c.deleteVotesByParentMsgKeys)(n),__LOG__(2)`Persisted: deletePollVotes job finished for ${t}`}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){let{chatId:t,parentMsgKeys:n}=e;(0,p.isPinnedMessagesM1ReceiverEnabled)()&&(__LOG__(2)`Persisted deletePins persisted job started for ${t}`,yield(0,o.removePinInChatByParentMsgKeys)(n),__LOG__(2)`Persisted: deletePins finished`)}))).apply(this,arguments)}t.deleteReactionsV2=E},11779:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.markAddOnsAsReadJob=function(){return c.apply(this,arguments)},t.markUnclassifiedAddOnsAsReadJob=function(e){if(0===e.length)return Promise.resolve({updatedAddOns:new Map,updatedOrphans:[]});return(0,l.createNonPersistedJob)("markUnclassifiedAddOnsAsRead",function(){var e=(0,i.default)((function*(e){const t=yield(0,a.markUnclassifiedAddOnsAsReadDb)(e.msgKeys);return(0,s.frontendFireAndForget)("markAddOnsAsReadUi",{updatedMsgKeys:t.updatedAddOns}),t}));return function(){return e.apply(this,arguments)}}(),{priority:o.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted({msgKeys:e})};var i=r(n(48926)),o=n(75419),a=n(63169),s=n(1619),l=n(51280);function c(){return(c=(0,i.default)((function*(e){yield(0,l.createNonPersistedJob)("markAddOnsAsRead",function(){var e=(0,i.default)((function*(e){yield(0,a.markAddOnsAsReadDb)(e.updates),(0,s.frontendFireAndForget)("markAddOnsAsReadUi",{updatedMsgKeys:e.updates})}));return function(){return e.apply(this,arguments)}}(),{priority:o.JOB_PRIORITY.LOW}).waitUntilCompleted({updates:e})}))).apply(this,arguments)}},3620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALID_LID_ORIGINS=void 0;const n=new Set(["createChat","createChatOnNewMsg","debugOpenChatFlow","debugConvertToLidChat","debugCreateChat","jest","updateDeviceTableApi","fixturesChatFactory","securityCodeApi","restoreMessagesForChat","processUnreadMessage","loadLastMessagesFromDb","processPreviewMessageInChat","historyMsgHandlerAction","updateMessageUIAction","msgCollectionFindQuery","msgCollectionGetStarred","msgCollectionGetMessagesById","msgCollectionQueryVCard","msgCollectionIncrementalStarredUpdate","msgCollectionQueryMedia","msgCollectionSearch","msgCollectionGetContext"]);t.VALID_LID_ORIGINS=n},98869:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createChat=function(){return P.apply(this,arguments)},t.createChatObjectForStorage=N,t.createNewsletterObjectForStorage=function(e){const t=N(e);return(0,a.default)(t,(e=>null!=e))};var i=r(n(81109)),o=r(n(48926)),a=r(n(35937)),s=n(83741),l=n(93040),c=n(42247),u=n(87010),d=n(12166),_=n(1619),p=n(3620),f=n(45218),E=n(10473),A=n(28626),g=n(11363),h=n(91360),S=n(12987),T=r(n(63118)),m=n(20217),I=n(2982),y=n(60019),C=n(3885),v=n(8414),O=n(49625);function P(){return(P=(0,o.default)((function*(e,t,n,r){const{forceUsync:o=!1,firstIncomingMsg:a,nextPrivacyMode:E,createdOffline:A=!1}=null!=r?r:{};let m=e;if(e.isLid()){const n=null==t||!p.VALID_LID_ORIGINS.has(t);if(!(0,s.getABPropConfigValue)("pnh_1on1_lid_expected")||null==t&&(0,s.getABPropConfigValue)("pnh_prevent_undefined_lid_chat_origin")){__LOG__(2)`lid: ${e.toLogString()}`,__LOG__(4,void 0,new Error,!0)`createChat: ${t} trying to create new lid chat without abprop pnh_1on1_lid_expected`,SEND_LOGS("create-lid-chat-without-pnh-1on1-lid-expected");const n=(0,c.getPhoneNumber)(e);null!=n&&(m=n)}else n&&(__LOG__(2)`lid: ${e.toLogString()}`,__LOG__(4,void 0,new Error,!0)`createChat: ${t} unexpected lid chat created`,SEND_LOGS("unexpected-lid-chat"))}const C=m.isUser()&&o?yield(0,O.workerSafeSendAndReceive)("getOrQueryUsyncInfo",{wid:m}):null,P=null==C?m:C.wid;if(!m.equals(P)){if(null!=(yield(0,l.getChatRecord)(P)))return}let R=!1,D=!1;var L,w;if(null!=(null==C?void 0:C.bizInfo))R=null===(L=C.bizInfo)||void 0===L?void 0:L.verifiedName.isApi,D=null===(w=C.bizInfo)||void 0===w?void 0:w.verifiedName.isSmb;else if(null==C){const e=yield(0,d.getVerifiedBusinessNameRecord)(P);null!=e&&(D=e.isSmb,R=e.isApi)}const B=null!=n?(0,i.default)((0,i.default)({},n),{},{id:P}):{id:P},U=yield M(P,R,a);null!=U&&(__LOG__(2)`[DMResolve] DM settings found for new chat`,B.ephemeralDuration=U.duration,B.ephemeralSettingTimestamp=U.settingTimestamp,B.disappearingModeInitiator=U.initiator);const G=C?(0,y.getPrivacyModeFromQueryExistResponse)(C):null,k=(0,y.getLatestPrivacyMode)(E,G);let Y;(0,_.frontendFireAndForget)("updateBusinessInfo",{contactId:P,businessInfo:{privacyMode:k}}),"ephemeral_setting"!==(null==a?void 0:a.subtype)&&(Y=b(P,null==U?void 0:U.duration,null==U?void 0:U.initiator));const F=yield(0,f.genContactInfoCardMsg)(P,{isBiz:D||R,iAmStartingChat:null==a||a.id.fromMe,isWASupportStartingChat:null!=a&&P.isCAPISupportAccount()});null!=F&&new g.FmxActionWamEvent({fmxEntryPoint:v.FMX_ENTRY_POINT.FMX_CARD,fmxEvent:v.FMX_EVENT.FMX_CARD_INSERTED}).commit();const K=(0,T.default)(P,k),x=yield(0,u.getOrphanTcToken)(P.toString());var H,j,V;x&&(B.tcToken=null!==(H=x.tcToken)&&void 0!==H?H:null,B.tcTokenTimestamp=null!==(j=x.tcTokenTimestamp)&&void 0!==j?j:null,B.tcTokenSenderTimestamp=null!==(V=x.tcTokenSenderTimestamp)&&void 0!==V?V:null,yield(0,u.removeOrphanTcToken)(P.toString()));yield(0,_.frontendFireAndForget)("chatCollectionGadd",{chat:B}),yield(0,l.createChatRecord)(P,N(B));const W=S.MessageOverwriteOption.NO_OVERWRITE;if(A){const e=[F,K,Y].filter(Boolean);(0,h.getMessageCache)().addMessages(e.map((e=>({msg:e}))),!1)}else{const e=[F,K,Y].filter(Boolean);for(const t of e)yield(0,I.handleSingleMsg)(t.from,t,"createChat",W,!1)}}))).apply(this,arguments)}function N(e){var t,n,r,i;const o={id:e.id.toString(),t:e.t,isAutoMuted:!1,unreadCount:null!==(t=e.unreadCount)&&void 0!==t?t:0,notSpam:e.notSpam,ephemeralDuration:e.ephemeralDuration,ephemeralSettingTimestamp:e.ephemeralSettingTimestamp,disappearingModeInitiator:(e.disappearingModeInitiator,e.disappearingModeInitiator),tcToken:null!==(n=e.tcToken)&&void 0!==n?n:void 0,tcTokenTimestamp:null!==(r=e.tcTokenTimestamp)&&void 0!==r?r:void 0,tcTokenSenderTimestamp:null!==(i=e.tcTokenSenderTimestamp)&&void 0!==i?i:void 0};return null!=e.name&&(o.name=e.name),null!=e.isReadOnly&&(o.isReadOnly=e.isReadOnly),null!=e.muteExpiration&&(o.muteExpiration=e.muteExpiration),o}function b(e,t,n){let r=null;return null!=t&&(r=n===A.DisappearingModeInitiator.ChangedInChat?(0,f.genDisappearingModeUpdateSystemMsg)(e,t,null):(0,f.genDefaultDisappearingModeSystemMsg)(e,t,n===A.DisappearingModeInitiator.InitiatedByMe)),r}function M(){return R.apply(this,arguments)}function R(){return(R=(0,o.default)((function*(e,t,n){const[r,i]=yield Promise.all([(0,c.getContactRecord)((0,C.assertGetMeUser)()),(0,c.getContactRecord)(e)]);if(!t&&e.isUser()&&!e.isPSA()){if(null==n||n.id.fromMe)return(0,E.resolveNewChatDMSettings)(r,i);const e=(0,E.getEphemeralDurationForUser)(r);return(0,E.resolveNewIncomingChatDMSettings)(n?(0,m.getMsgEphemeralitySettings)(n):null,e)}}))).apply(this,arguments)}},88117:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setAbout=void 0;var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(85074);const c=new s.WapParser("aboutResponse",(e=>(e.assertAttr("type","result"),{id:e.attrInt("id")}))),u=(0,l.defineWebPersistedJob)().finalStep("sendStanza",function(){var e=(0,i.default)((function*(e){let{content:t}=e;const n=(0,a.wap)("iq",{to:a.S_WHATSAPP_NET,type:"set",xmlns:"status",id:(0,a.generateId)()},(0,a.wap)("status",null,t)),r=yield(0,o.deprecatedSendIq)(n,c);return r.success?{status:200}:{status:r.errorCode}}));return function(){return e.apply(this,arguments)}}()).end();t.setAbout=u},94645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupMetadataJob=function(e){return(0,a.createNonPersistedJob)("getGroupMetadata",(e=>(0,o.getGroupMetadataUNSAFE)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({groupWid:e})},t.getGroupParticipantJob=function(e){return(0,a.createNonPersistedJob)("getGroupParticipant",(e=>(0,i.getGroupParticipant)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({groupWid:e})},t.markGroupParticipantStaleJob=function(e){return(0,a.createNonPersistedJob)("markGroupParticipantStale",(e=>(0,i.markGroupParticipantStale)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e})},t.modifyGroupParticipantJob=function(e,t,n,o,s){return(0,a.createNonPersistedJob)("modifyGroupParticipant",(e=>(0,i.modifyGroupParticipant)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e,oldId:t,newId:n,prevVersion:o,newVersion:s})},t.updateGroupMetadataTableJob=function(e){return(0,a.createNonPersistedJob)("updateGroupMetadataTable",(e=>(0,o.updateGroupMetadataTable)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({groupInfos:e})},t.updateGroupParticipantTableWithoutDeviceSyncJob=function(e){return(0,a.createNonPersistedJob)("updateGroupParticipantTableWithoutDeviceSync",(e=>(0,i.updateGroupParticipantTableWithoutDeviceSync)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({groupInfos:e})};var r=n(75419),i=n(2505),o=n(22582),a=n(51280)},49189:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryAndUpdateGroupMembershipApprovalRequests=function(){return A.apply(this,arguments)},t.queryMembershipApprovalRequests=_;var i=r(n(48926)),o=n(19356),a=n(60585),s=n(1619),l=n(91563),c=n(15610),u=n(41984),d=n(14356);function _(){return p.apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e){const t=yield(0,o.sendGetMembershipApprovalRequestsRPC)({iqTo:(0,d.widToGroupJid)(e)});switch(t.name){case"GetMembershipApprovalRequestsResponseSuccess":return t.value.membershipApprovalRequestsMembershipApprovalRequest.map((e=>{const t=(0,c.userJidToUserWid)(e.jid);return{id:t,t:e.requestTime,addedBy:null!=e.requestor?(0,c.userJidToUserWid)(e.requestor):t,requestMethod:f(e.requestMethod),parentGroupId:null!=e.parentGroupJid?(0,c.groupJidToWid)(e.parentGroupJid):void 0}}));case"GetMembershipApprovalRequestsResponseClientError":return E(t.value.errorGetMembershipApprovalRequestsClientErrors.value);default:return t.name,E(t.value.errorServerErrors.value)}}))).apply(this,arguments)}function f(e){switch(e){case"invite_link":return u.RequestMethod.InviteLink;case"linked_group_join":return u.RequestMethod.LinkedGroupJoin;case"non_admin_add":return u.RequestMethod.NonAdminAdd}}function E(e){let{code:t,text:n}=e;return __LOG__(2)`queryMembershipApprovalRequests failed: ${t}:${n}`,Promise.reject(new l.ServerStatusCodeError(Number(t),n))}function A(){return(A=(0,i.default)((function*(e){const t=yield _(e),n=(yield(0,a.getMembershipApprovalRequests)(e)).filter((e=>!t.some((t=>t.id.equals(e.id)))));yield(0,a.removeMembershipApprovalRequests)(e,n.map((e=>e.id))),yield(0,a.addMembershipApprovalRequests)(e,t),(0,s.frontendFireAndForget)("removeMembershipApprovalRequests",{groupId:e,requestIds:n.map((e=>e.id))}),(0,s.frontendFireAndForget)("addMembershipApprovalRequests",{groupId:e,requests:t})}))).apply(this,arguments)}},22356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMembershipApprovalRequestsJob=function(e,t,n){return(0,o.createNonPersistedJob)("removeMembershipApprovalRequests",(e=>(0,i.removeMembershipApprovalRequests)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e,requests:t,isOffline:n})};var r=n(75419),i=n(90425),o=n(51280)},92143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipantsJob=function(e,t,n,a,s,l){return(0,o.createNonPersistedJob)("addParticipants",(e=>(0,i.addParticipants)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e,participants:t,version:n,prevVersion:a,isOffline:s,reason:l})},t.demoteCommunityParticipantsJob=function(e,t,n){return(0,o.createNonPersistedJob)("demoteCommunityParticipants",(e=>(0,i.demoteCommmunityParticipants)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e,participants:t,isOffline:n})},t.demoteParticipantsJob=function(e,t,n,a,s,l){return(0,o.createNonPersistedJob)("demoteParticipants",(e=>(0,i.demoteParticipants)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e,participants:t,version:n,prevVersion:a,groupMetadata:s,isOffline:l})},t.promoteCommunityParticipantsJob=function(e,t,n){return(0,o.createNonPersistedJob)("promoteCommunityParticipants",(e=>(0,i.promoteCommmunityParticipants)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e,participants:t,isOffline:n})},t.promoteParticipantsJob=function(e,t,n,a,s,l){return(0,o.createNonPersistedJob)("promoteParticipants",(e=>(0,i.promoteParticipants)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e,participants:t,version:n,prevVersion:a,groupMetadata:s,isOffline:l})},t.removeParticipantsJob=function(e,t,n,a,s,l,c,u,d){return(0,o.createNonPersistedJob)("removeParticipants",(e=>(0,i.removeParticipants)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({group:e,participants:t,timestamp:n,author:a,version:s,prevVersion:l,reason:c,groupMetadata:u,isOffline:d})},t.updateParticipantsJob=function(e){return(0,o.createNonPersistedJob)("updateParticipants",(e=>(0,i.updateParticipants)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted(e)};var r=n(75419),i=n(78440),o=(n(98051),n(51280))},69002:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupJob=function(e,t,n){return(0,u.createNonPersistedJob)("queryGroup",function(){var t=(0,i.default)((function*(t){const n=yield(0,s.getGroupMetadata)(e);if(null!=n&&n.terminated)return;const r=yield(0,c.queryGroup)(t);if(r.id){const e=r.participants.map((e=>({id:(0,d.toUserWid)(e.id),lid:e.lid?(0,d.toUserWid)(e.lid):null,displayName:e.displayName,phoneNumber:e.phoneNumber?(0,d.toUserWid)(e.phoneNumber):null})));yield Promise.all([(0,s.updateGroupMetadataTable)({groupInfos:[r]}),(0,l.updateParticipants)({group:r.id,participants:r.participants,version:r.pvId,groupInfo:r}),(0,a.createOrReplaceDisplayNamesAndLidPnMappings)(e,!0)]),(0,o.clearAdminshipCache)(r.id.toString())}return r}));return function(){return t.apply(this,arguments)}}()).waitUntilCompleted({groupWid:e,request:t,phash:n})};var i=r(n(48926)),o=n(64002),a=n(4653),s=n(22582),l=n(78440),c=n(22296),u=n(51280),d=n(51017)},37246:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.maybeQueryAndUpdateMembershipApprovalRequests=T,t.queryAllGroups=function(){return g.apply(this,arguments)},t.queryAndUpdateGroupMetadataById=function(){return S.apply(this,arguments)},t.queryGroupInvite=function(){return h.apply(this,arguments)};var i=r(n(48926)),o=n(66065),a=n(45487),s=n(83741),l=n(93040),c=n(64002),u=n(1619),d=n(91563),_=n(94645),p=n(49189),f=n(69002),E=n(22296),A=n(3885);function g(){return(g=(0,i.default)((function*(){(0,c.clearAdminshipCache)();const e=yield(0,a.sendGetParticipatingGroupsRPC)({hasParticipants:!0,hasDescription:!0});switch(e.name){case"GetParticipatingGroupsResponseSuccess":return e.value.groupsGroup.map(E.parseGroupSmax);case"GetParticipatingGroupsResponseClientError":{const{code:t,text:n}=e.value.errorIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup.value;return __LOG__(2)`queryAllGroups failed: ${t}:${n}`,Promise.reject(new d.ServerStatusCodeError(Number(t),n))}case"GetParticipatingGroupsResponseServerError":{const{code:t,text:n}=e.value.errorServerErrors.value;return __LOG__(2)`queryAllGroups failed: ${t}:${n}`,Promise.reject(new d.ServerStatusCodeError(Number(t),n))}}}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){const t=yield(0,o.sendGetInviteGroupInfoRPC)({inviteCode:e});switch(t.name){case"GetInviteGroupInfoResponseSuccess":return t.value.groupInviteLinkGroupInfoMixin?(0,E.parseGroupSmax)(t.value.groupInviteLinkGroupInfoMixin):{phashMatch:!0};case"GetInviteGroupInfoResponseClientError":{const{code:e,text:n}=t.value.errorGetInviteGroupInfoClientErrors.value;return __LOG__(2)`queryGroupInvite failed: ${e}:${n}`,Promise.reject(new d.ServerStatusCodeError(Number(e),n))}case"GetInviteGroupInfoResponseServerError":{const{code:e,text:n}=t.value.errorServerErrors.value;return __LOG__(2)`queryGroupInvite failed: ${e}:${n}`,Promise.reject(new d.ServerStatusCodeError(Number(e),n))}}}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e,t){const n=yield(0,f.queryGroupJob)(e,t);if(null==n)return;if(n.phashMatch)return void __LOG__(2)`queryAndUpdateGroupMetadataById: skip update due to phash match`;const[r]=yield(0,c.injectPastParticipantsFromDB)([n]);yield(0,_.updateGroupParticipantTableWithoutDeviceSyncJob)([r]),(0,u.frontendFireAndForget)("createOrUpdateGroupMetadataFromQuery",{groupInfo:r}),yield T(r)}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){if(e.membershipApprovalMode&&e.participants.some((e=>(0,A.isMeAccount)(e.id)&&e.isAdmin))&&(0,s.getABPropConfigValue)("group_join_request_m2")){if(!(yield(0,l.getChatRecord)(e.id)))return;return(0,p.queryAndUpdateGroupMembershipApprovalRequests)(e.id)}}))).apply(this,arguments)}},20383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanUnjoinedSubgroupsJob=function(e,t){return(0,o.createNonPersistedJob)("cleanUnjoinedSubgroups",(e=>(0,i.cleanUnjoinedSubgroups)(e)),{priority:r.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted({unjoinedSubgroupIds:e,parentGroupId:t})},t.updateUnjoinedSubgroupsJob=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,o.createNonPersistedJob)("updateUnjoinedSubgroups",(e=>(0,i.updateUnjoinedSubgroups)(e)),{priority:r.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted({unjoinedSubgroups:e,parentGroupId:t,link:n})};var r=n(75419),i=n(80251),o=n(51280)},90894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSubgroupSuggestionsJob=function(e,t){return(0,o.createNonPersistedJob)("removeSubgroupSuggestions",(e=>(0,i.removeSubgroupSuggestionsWithOfflineOption)(e)),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted({subgroupSuggestions:e,isOffline:t})};var r=n(75419),i=n(7429),o=n(51280)},63190:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.digestKey=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=n(62089),a=n(19026),s=n(80780),l=n(8748),c=n(83986),u=n(42728),d=r(n(89482));const _=new l.WapParser("digestResponseParser",(e=>{const t=e.child("digest"),n=t.child("skey");return{regId:t.child("registration").contentUint(4),type:t.child("type").contentUint(1),identity:t.child("identity").contentBytes(32),skey:{id:n.child("id").contentUint(3),pubkey:n.child("value").contentBytes(32),signature:n.child("signature").contentBytes(64)},keys:t.child("list").mapChildren((e=>e.contentUint(3))),hash:t.child("hash").contentBytes(20)}}));function p(){return(p=(0,i.default)((function*(){const e=(0,s.wap)("iq",{xmlns:"encrypt",type:"get",to:s.S_WHATSAPP_NET,id:(0,s.generateId)()},(0,s.wap)("digest",null)),t=yield(0,a.deprecatedSendIq)(e,_);let n=null;if(t.success)try{yield f(t.result),n=!1}catch(e){n=!1}else{const e=t.errorCode;404===e?(__LOG__(3)`digestKey: no record found for current user`,n=!0):406===e?(__LOG__(3)`digestKey: malformed request`,n=!1):503===e?(__LOG__(3)`digestKey: service unavailable`,n=!1):(__LOG__(3)`digestKey: server error ${e}`,n=!1)}if(null!=n&&n)return __LOG__(2)`digestKey: validate key bundle failed, upload prekeys again`,(0,u.uploadPreKeys)()}))).apply(this,arguments)}function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e){const[t,n]=yield Promise.all([c.waSignalStore.getRegistrationInfo(),c.waSignalStore.getSignedPreKey()]);if(!t||!n)throw(0,d.default)("validateLocalKeyBundle: No registration info is available");if(e.regId!==t.registrationId)throw(0,d.default)("validateLocalKeyBundle: registation id mismatch");const r=t.identityKeyPair.pubKey,a=n.keyPair.pubKey,s=r.byteLength+a.byteLength+n.signature.byteLength+32*e.keys.length,l=new Uint8Array(s);let u=0;[r,a,n.signature].forEach((e=>{l.set(new Uint8Array(e),u),u+=e.byteLength}));const _=e.keys.map(function(){var e=(0,i.default)((function*(e){const t=yield c.waSignalStore.getPreKeyById(e);if(!t)throw(0,d.default)(`validateLocalKeyBundle: missing prekey record for id ${e}`);return t.keyPair.pubKey}));return function(){return e.apply(this,arguments)}}());(yield Promise.all(_)).forEach((e=>{l.set(new Uint8Array(e),u),u+=e.byteLength}));const p=yield self.crypto.subtle.digest("SHA-1",l),f=(0,o.encodeB64)(p),E=(0,o.encodeB64)(e.hash);if(f!==E)throw(0,d.default)(`validateLocalKeyBundle: hash mismatch remote:${E} local:${f}`);__LOG__(2)`validateLocalKeyBundle: success`}))).apply(this,arguments)}},7163:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPrekeys=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(78481),a=n(74653),s=n(91563),l=n(64371),c=n(51017),u=n(14356),d=r(n(89482));function _(){return(_=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=yield(0,a.sendFetchKeyBundlesRPC)({userArgs:e.map((e=>({userJid:(0,u.widToDeviceJid)(e),hasUserReasonIdentity:t})))});if("FetchKeyBundlesResponseServerError"===n.name){const e=n.value.errorServerErrors.value;throw new s.ServerStatusCodeError(Number(e.code),`fetchPrekeys: server error: ${e.code} ${e.text}`)}if("FetchKeyBundlesResponseRequestError"===n.name){const e=n.value.errorRequestErrorsFetch.value;throw new s.ServerStatusCodeError(Number(e.code),`fetchPrekeys: request error: ${e.code} ${e.text}`)}const r=n.value.listUser.map((e=>{const t=e.userFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup;switch(t.name){case"FetchKeyBundlesUserSuccess":{var n,r;const{preKeyMixin:i,elementValue:a,deviceIdentityMixin:s,skeyIdKeyIDMixin:l,skeyValueKeyDataMixin:u,skeySignatureElementValue:d,registrationElementValue:_}=t.value;return{deviceIdentity:null!==(n=null==s?void 0:s.deviceIdentityElementValue)&&void 0!==n?n:null,identity:a,skey:{id:(0,o.convertBytesToUint)(l.elementValue,3),pubkey:u.elementValue,signature:d},key:i?{id:(0,o.convertBytesToUint)(i.keyIdKeyIDMixin.elementValue,3),pubkey:null===(r=i.keyValueKeyDataMixin)||void 0===r?void 0:r.elementValue}:null,regId:(0,o.convertBytesToUint)(_,4),wid:(0,c.createWid)(e.jid)}}case"FetchKeyBundlesUserErrorFallback":case"FetchKeyBundlesUserError":{const{errorCode:e,errorText:n}=t.value;return(0,d.default)(`fetchPrekeys: list item error: ${e} ${n}`)}}}));if(0===r.length)throw(0,d.default)("fetchPrekeys: empty key info");const{depletedPrekeyCount:i,processedPrekeyCount:_}=yield(0,l.processKeyBundles)(r);return __LOG__(2)`fetchPrekeys: successfully established ${_} E2E sessions out of ${e.length} requested`,{depletedPrekeyCount:i}}))).apply(this,arguments)}},16157:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAndStoreIdentityKeys=function(){return E.apply(this,arguments)},t.getIdentityKeys=A;var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(11439),c=n(52894),u=n(15610),d=n(49178),_=n(4830),p=r(n(89482));const f=new s.WapParser("identityKeysParser",(e=>e.child("list").mapChildren((e=>{if(e.hasChild("error")){const t=e.child("error"),n=t.attrInt("code"),r=t.attrString("text");throw(0,p.default)(`identityKeysParser bad response: ${n} ${r}`)}return{type:e.child("type").contentBytes(1),identity:e.child("identity").contentBytes(32),user:(0,u.deviceJidToDeviceWid)(e.attrDeviceJid("jid"))}}))));function E(){return(E=(0,i.default)((function*(e){const t=yield(0,_.getPersistSignalProtocolStore)().bulkLoadIdentityKey(e.map((e=>String((0,d.createSignalAddress)(e))))),n=e.filter(((e,n)=>null==t[n]));if(0===n.length)return void __LOG__(2)`getAndStoreIdentityKeys: got 0 missing keys`;__LOG__(2)`getAndStoreIdentityKeys: query ${n.length} missing keys for ${e.length} contacts`;const r=(yield A(n)).map((e=>{const t=e.identity,n=(0,c.toSignalCurvePubKey)(t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset));return{identityKey:(0,d.bufferToStr)(n),identifier:(0,d.createSignalAddress)(e.user).toString()}}));return(0,_.getPersistSignalProtocolStore)().bulkCreateIdentity(r)}))).apply(this,arguments)}function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){const t=e.map((e=>(0,a.wap)("user",{jid:(0,l.DEVICE_JID)(e)}))),n=(0,a.wap)("iq",{xmlns:"encrypt",type:"get",to:a.S_WHATSAPP_NET,id:(0,a.generateId)()},(0,a.wap)("identity",null,t)),r=yield(0,o.deprecatedSendIq)(n,f);if(!r.success)throw(0,p.default)(`getIdentityKeys bad response ${String(r)}`);return r.result}))).apply(this,arguments)}},25614:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ensureE2ESessions=_,t.ensureE2ESessionsWithDelay=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new a.ShiftTimer((()=>{_(e,n)}));e.forEach((e=>{u.set(String(e),r)})),r.onOrAfter(1e3*t)};var i=r(n(48926)),o=n(31630),a=n(78494),s=r(n(74700)),l=n(7163),c=n(74600);const u=new Map,d=new Map;function _(){return p.apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];yield(0,s.default)(),__LOG__(2)`ensureE2ESessions: ${e.length} wids: ${e.map((e=>e.toString())).join()}`;const n=new o.Resolvable,r=[],i=[];e.forEach((e=>{if(!e.isUserNotPSA())return void __LOG__(2)`ensureE2ESessions: can only estabilish session with user wid`;const t=u.get(e.toString());t&&(t.cancel(),u.delete(e.toString()));const o=d.get(e.toString());o?r.push(o):(i.push(e),d.set(e.toString(),n.promise))}));let a=0,_=0;try{if(i.length>0){const e=yield c.Session.hasSignalSessions(i),n=i.filter(((t,n)=>!e[n]));if(n.length>0){var p;_=null!==(p=(yield(0,l.fetchPrekeys)(n,t)).depletedPrekeyCount)&&void 0!==p?p:0,a=n.length}}n.resolve()}catch(t){throw __LOG__(3)`ensureE2ESessions: ${e.length} wids: request failed: ${t}`,n.resolve(t),t}finally{i.forEach((e=>d.delete(e.toString())))}try{const e=(yield Promise.all(r)).find(Boolean);if(e)throw e}catch(t){throw __LOG__(3)`ensureE2ESessions: ${e.length} wids: deduped requests failed: ${t}`,t}return __LOG__(2)`ensureE2ESessions: ${e.length} wids: ${i.length-a} existing sessions, ${a} requested, ${r.length} requests deduplicated`,{missedPrekeyCount:a,depletedPrekeyCount:_}}))).apply(this,arguments)}},52351:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.rotateKey=void 0;var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(52894),c=n(85074),u=n(63190),d=n(84015),_=n(83986),p=n(89924),f=r(n(89482));const E=new s.WapParser("rotateKeyResponseParser",(e=>{e.assertFromServer()})),A=(0,c.defineWebPersistedJob)().step("uploadKeys",(0,i.default)((function*(){const e=yield _.waSignalStore.getRegistrationInfo().then((e=>{if(!e)throw(0,f.default)("No registration info is available");return _.waSignalStore.rotateSignedPreKey((0,l.toSignalCurveKeyPair)(e.identityKeyPair),d.generateSignedKeyPair)}));__LOG__(2)`rotateKey: signedPreKey uploading`;const t=(0,a.wap)("iq",{xmlns:"encrypt",type:"set",to:a.S_WHATSAPP_NET,id:(0,a.generateId)()},(0,a.wap)("rotate",null,(0,p.xmppSignedPreKey)(e))),n=yield(0,o.deprecatedSendIq)(t,E);if(n.success)return{shouldDigestKey:!1};let r=!1;const i=n.errorCode;return 406===i?__LOG__(3)`rotateKey generated bad key`:409===i?(__LOG__(3)`skey does not pass server validation`,r=!0):i>=500?__LOG__(2)`rotateKey server error ${i}, wait a day`:(__LOG__(2)`rotateKey unrecognized error ${i}`,r=!0),{shouldDigestKey:r}}))).finalStep("maybeDigestKey",(e=>{const{shouldDigestKey:t}=e;if(t)return(0,u.digestKey)()})).end();t.rotateKey=A},42728:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.uploadPreKeys=function(){const e=new a.PromiseRetryLoop({name:"uploadPreKeys",timer:h,code:e=>(0,i.default)((function*(){__LOG__(2)`uploadPreKeys: running`;const t=yield function(){return g.apply(this,arguments)}();!0===(null==t?void 0:t.success)?(__LOG__(2)`uploadPreKeys: done`,e()):__LOG__(2)`uploadPreKeys: retrying (after delay)`}))()});return e.start(),e.promise()};var i=r(n(48926)),o=n(19026),a=n(82521),s=n(80780),l=n(8748),c=r(n(44423)),u=n(70997),d=n(84015),_=n(83986),p=n(89924),f=r(n(89482));const E={error:!1,result:!0},A=new l.WapParser("uploadPreKeyResParser",(e=>{e.assertTag("iq"),e.assertFromServer();if(e.attrEnum("type",E))return{success:!0};const t=e.child("error");return{errorCode:t.attrInt("code"),errorText:t.hasAttr("text")?t.attrString("text"):""}}));function g(){return(g=(0,i.default)((function*(){const e=u.ServerProps.maxKeys,[t,n]=yield Promise.all([_.waSignalStore.getRegistrationInfo(),_.waSignalStore.getSignedPreKey()]);if(!t||!n)throw(0,f.default)("No signal info is available");const{registrationId:r,identityKeyPair:i}=t,[a,l]=yield _.waSignalStore.getOrGenPreKeys(e,d.generatePreKeyPair).then((e=>{if(0===e.length)throw(0,f.default)("No preKey is available");return[(0,s.wap)("iq",{id:(0,s.generateId)(),xmlns:"encrypt",type:"set",to:s.S_WHATSAPP_NET},(0,s.wap)("registration",null,(0,s.BIG_ENDIAN_CONTENT)(r)),(0,s.wap)("type",null,c.default.KEY_BUNDLE_TYPE),(0,s.wap)("identity",null,i.pubKey),(0,s.wap)("list",null,e.map(p.xmppPreKey)),(0,p.xmppSignedPreKey)(n)),e[e.length-1].keyId]}));try{const t=yield(0,o.waitForConnection)().then((()=>_.waSignalStore.markKeyAsUploaded(l))).then((()=>(0,o.deprecatedSendIqWithoutRetry)(a,A)));if(t.success)return _.waSignalStore.setServerHasPreKeys(!0),__LOG__(2)`_uploadPreKeys: ${e} keys uploaded, raw stanza size: ${a.toString().length}b`,{success:!0};const n=t.errorCode;return n>=500?__LOG__(3)`_uploadPreKeys: server requested backoff ${n} (count: ${e}, size: ${a.toString().length}b)`:406===n?__LOG__(3)`_uploadPreKeys: uploaded invalid keys (count: ${e}, size: ${a.toString().length}b)`:__LOG__(3)`_uploadPreKeys: unrecognized error ${n} (count: ${e}, size: ${a.toString().length}b)`,{errorCode:t.errorCode,errorText:t.errorText}}catch(t){__LOG__(3)`_uploadPreKeys: disconnected, unclear if on server: ${t} (count: ${e}, size: ${a.toString().length}b)`}}))).apply(this,arguments)}const h={algo:{type:"fibonacci",first:1e3,second:2e3},max:61e4}},69707:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.aggregateDeliveryReceipts=function(){return T.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(46316),s=n(87946),l=n(24513),c=n(67621),u=n(6431),d=n(24936);const _=n(76672).Mirrored(["Message","Reaction","PollVote","NotSupportedAddon"]);function p(e){const t=new Map;return e.forEach((e=>{var n;const r=(e=>e.hasHideFailEnc?(0,l.isPollVoteMsgMeta)(e.msgMeta)?_.PollVote:(0,l.isReactionMsgMeta)(e.msgMeta)?_.Reaction:_.NotSupportedAddon:_.Message)(e),i=null!==(n=t.get(r))&&void 0!==n?n:t.set(r,[]).get(r);null==i||i.push(e)})),t}function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e,t,n){const r=e.map((e=>{let{msgInfo:t}=e;return(0,c.messageInfoToKey)(t)})),i=a.Cmd.isMainStreamReadyMd?yield t(r):r.map((()=>!1)),o=new Set,s=[];for(const[e,t]of i.entries())t?o.add(r[e].toString()):s.push(r[e].toString());if(0===s.length)return o;const l=yield n(s);return new Set([...o,...l])}))).apply(this,arguments)}function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e,t){switch(e){case _.Message:return f(t,(e=>(0,o.frontendSendAndReceive)("hasMsgsInCollection",{msgKeys:e})),function(){var e=(0,i.default)((function*(e){const t=new Set;return(0,s.getMsgsExistByMsgKey)(e).then((n=>{for(const[r,i]of n.entries())i&&t.add(e[r]);return t}))}));return function(){return e.apply(this,arguments)}}());case _.Reaction:return f(t,(e=>(0,o.frontendSendAndReceive)("hasReactionsInCollection",{msgKeys:e})),(e=>{const t=new Set;return(0,d.getReactionsTable)().anyOf(["msgKey"],e).then((e=>{for(const n of e)t.add(n.msgKey);return t}))}));case _.PollVote:return f(t,(e=>(0,o.frontendSendAndReceive)("hasPollVotesInCollection",{msgKeys:e})),(e=>(0,u.getTable)().anyOf(["msgKey"],e,{shouldDecrypt:!1}).then((e=>{const t=new Set;for(const n of e)t.add(n.msgKey);return t}))));case _.NotSupportedAddon:{const e=new Set;for(const{msgInfo:n}of t)e.add((0,c.messageInfoToKey)(n).toString());return e}}}))).apply(this,arguments)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){let[t,n]=e;const r=yield A(t,n);return n.map((e=>({isInDB:r.has((0,c.messageInfoToKey)(e.msgInfo).toString()),receipt:e})))}))).apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e){const t=p(e),n=yield Promise.all(Array.from(t.entries()).map(h));return[].concat(...n)}))).apply(this,arguments)}},84360:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendDeliveryReceiptsAfterDecryption=function(){return g.apply(this,arguments)},t.sendDeliveryReceiptsAfterPresence=function(){return(0,_.getInactiveReceiptTable)().all().then(function(){var e=(0,i.default)((function*(e){const t=new Map,n=Date.now().toString();return e.forEach((e=>{const{msgId:n,chatId:r,participantId:i}=e,o=(0,E.createWid)(r),a=(i?(0,E.createWid)(i):null)||o;let s=t.get(o);s||(s=new Map,t.set(o,s));let l=s.get(a);l||(l=[],s.set(a,l)),l.push(n)})),yield Promise.all(Array.from(t.keys()).map((e=>{const r=t.get(e);if(r)return(0,p.sendAggregateReceipts)(e,p.RECEIPT_TYPE.DELIVERY,n,r)}))),(0,_.getInactiveReceiptTable)().bulkRemove(e.map((e=>e.msgId)))}));return function(){return e.apply(this,arguments)}}())};var i=r(n(48926)),o=n(19026),a=n(80780),s=n(1619),l=n(11439),c=n(96955),u=n(19909),d=n(95160),_=n(12186),p=n(83752),f=n(3885),E=n(51017),A=n(14356);function g(){return(g=(0,i.default)((function*(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;const a=yield S(),s=(0,f.assertGetMe)(),l=!s.getDeviceId(),c=t.isUser()&&(0,E.toUserWid)(s).equals((0,E.toUserWid)(t))||null!=r&&(0,E.toUserWid)(s).equals((0,E.toUserWid)(r)),d=!0===o.hasInactiveMsg&&!c,p=!d&&((0,u.sendOnlyActiveReceiptsEnabled)()||c||a||l);let A=Promise.resolve();if(!p){const n={msgId:e,chatId:t.toString(),participantId:r?r.toString():null};A=(0,_.getInactiveReceiptTable)().createOrReplace(n)}return A.then((()=>{if(h(e,t,n,r,p,c,i),p)return(0,_.getInactiveReceiptTable)().remove(e)}))}))).apply(this,arguments)}function h(e,t,n,r,i,s,u){let d=a.DROP_ATTR;u?d=(0,a.CUSTOM_STRING)(p.RECEIPT_TYPE.PEER_MSG):s?d=(0,a.CUSTOM_STRING)(p.RECEIPT_TYPE.SENDER):i||(d=(0,a.CUSTOM_STRING)(p.RECEIPT_TYPE.INACTIVE));const _=(0,c.extractJidFromJidWithType)((0,A.widToJidWithType)(t)),f=(0,a.wap)("receipt",{id:(0,a.CUSTOM_STRING)(e),to:(0,a.JID)(_),participant:(t.isGroup()||t.isBroadcast())&&r?(0,l.DEVICE_JID)(r):a.DROP_ATTR,recipient:!u&&s&&n?(0,l.USER_JID)(n):a.DROP_ATTR,type:d});(0,o.deprecatedCastStanza)(f)}function S(){return(0,d.isWorker)()?Promise.resolve(!1):(0,s.frontendSendAndReceive)("getUserAvailability",{})}},48495:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleDuplicateMsgReceipts=E,t.sendAggregateOfflineReceipts=function(){return g.apply(this,arguments)};var i=r(n(48926)),o=n(19026),a=n(29987),s=n(12020),l=n(37995),c=n(27783),u=n(59516),d=n(69707),_=n(83752),p=n(3885),f=n(51017);function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){const t=[];if(0===e.length)return t;const n=yield(0,d.aggregateDeliveryReceipts)(e);for(const{receipt:e,isInDB:r}of n)if(r)__LOG__(2)`sendAggregateOfflineReceipts: duplicate message exists in the db: ${e.externalId}`,t.push({externalId:e.externalId,from:e.from,author:e.author});else{const{externalId:t,from:n,author:r,msgMeta:i,msgInfo:o,enc:a}=e;__LOG__(2)`sendAggregateOfflineReceipts: duplicate message does not exist in the db: ${t}`,(0,c.postIncomingMessageDropOldCounter)({msgMeta:i,msgInfo:o,enc:a});const u=n.isUser()||n.isNewsletter()?null:r;(0,l.sendNack)(t,n,i.type,u,s.NackReason.SignalErrorOldCounter)}return t}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){let t=[];const n=[];for(const{receiptInfo:r,duplicateMsgReceiptInfo:i}of e)null!=i&&n.push(i),null!=r&&t.push(r);t=t.concat(yield E(n));const r=new Map,i=[];t.forEach((e=>{const{from:t,author:n,externalId:o}=e;let a=r.get(t);a||(a=new Map,r.set(t,a));let s=a.get(n);s||(s=[],a.set(n,s)),s.push(o),i.push({from:String(t),author:String(n),externalId:o})}));const s=(0,p.getMeUser)(),l=String((0,a.unixTime)());Promise.all(Array.from(r.keys()).map((e=>{const t=r.get(e);if(!t)return;const n=e.isUser()&&s.equals((0,f.toUserWid)(e));return(0,_.sendAggregateReceipts)(e,n?_.RECEIPT_TYPE.SENDER:_.RECEIPT_TYPE.DELIVERY,l,t,n?s:null)}))),(0,o.cancelDeadSocketTimer)(),i.length>0&&(yield(0,u.getTable)().create({receipts:i}))}))).apply(this,arguments)}},83752:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RECEIPT_TYPE=void 0,t.sendAggregateReceipts=function(){return g.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=r(n(85564)),s=n(19026),l=n(80780),c=n(8748),u=n(55373),d=n(11439),_=n(94273),p=n(97023);const f=Object.freeze({INACTIVE:"inactive",SENDER:"sender",DELIVERY:"delivery",READ:"read",READ_SELF:"read-self",PLAYED:"played",PLAYED_SELF:"played-self",HISTORY_SYNC_COMPLETION:"hist_sync",SERVER_ERROR:"server-error",PEER_MSG:"peer_msg"});t.RECEIPT_TYPE=f;Object.freeze({PEER:"peer"});const E=new c.WapParser("readReceiptAckParser",(e=>(e.assertTag("ack"),{readReceipts:e.hasAttr("readreceipts")?e.attrEnum("readreceipts",_.ALL_NONE):null})));function A(e,t){const[n,...r]=(0,a.default)(Array.from(t.values())),i=r.length>0?(0,l.wap)("list",null,r.map((e=>(0,l.wap)("item",{id:(0,l.CUSTOM_STRING)(e)})))):null,o=(0,l.wap)("ack",{id:(0,l.CUSTOM_STRING)(n),to:(0,d.JID)(e),class:(0,l.CUSTOM_STRING)("message"),type:(0,l.CUSTOM_STRING)("text")},i);return(0,s.deprecatedCastStanza)(o)}function g(){return(g=(0,o.default)((function*(e,t,n,r,a,c){if(e.isNewsletter()&&t===f.DELIVERY)return A(e,r);const _=t===f.READ||t===f.PLAYED||t===f.READ_SELF||t===f.PLAYED_SELF||t===f.HISTORY_SYNC_COMPLETION;yield Promise.all(Array.from(r.keys()).map((A=>{const g=r.get(A);if(!g||0===g.length)return;const h=e.isUser()||e.isNewsletter()?null:A,S=[];for(;g.length>0;){const r=g.splice(0,256);let A=null;r.length>1&&(A=(0,l.wap)("list",null,r.slice(1).map((e=>(0,l.wap)("item",{id:(0,l.CUSTOM_STRING)(e)})))));const T=(0,l.wap)("receipt",{to:(0,d.JID)(e),type:t===f.DELIVERY?l.DROP_ATTR:(0,l.CUSTOM_STRING)(t),msgtype:c?(0,l.CUSTOM_STRING)(c):l.DROP_ATTR,id:(0,l.CUSTOM_STRING)(r[0]),t:null!=n?(0,l.CUSTOM_STRING)(n):l.DROP_ATTR,participant:h?(0,d.DEVICE_JID)(h):l.DROP_ATTR,recipient:a?(0,d.USER_JID)(a):l.DROP_ATTR},A);if(_){const n=function(){var n=(0,o.default)((function*(){const n={id:r[0],from:e,class:"receipt",type:t,participant:h};if(t!==f.READ&&t!==f.READ_SELF)return(0,s.deprecatedSendStanzaAndWaitForAck)(T,(0,u.toCoreAckTemplate)(n));{const e=yield(0,s.deprecatedSendStanzaAndReturnAck)(T,(0,u.toCoreAckTemplate)(n)),t=E.parse(e);if(t.error)__LOG__(4,void 0,new Error,!0)`[messaging] sendAggregateReceipts: Invalid ack from server`,SEND_LOGS("Invalid-Receipt-Ack");else{const{readReceipts:e}=t.success;null!=e&&(0,p.setUserPrivacySettings)((0,i.default)((0,i.default)({},(0,p.getUserPrivacySettings)()),{},{readReceipts:e}))}}}));return function(){return n.apply(this,arguments)}}();S.push(n())}else S.push((0,s.deprecatedCastStanza)(T))}return Promise.all(S)})))}))).apply(this,arguments)}},48362:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RetryReason=void 0,t.getRetryReasonFromError=function(e){if(e instanceof p.UnknownDeviceMessageError)return y.UnknownCompanionNoPrekey;if(e instanceof E.SignalDecryptionError)if((0,_.isCryptoLibraryEnabled)())switch(e.message){case"errSignalNoSession":case"errLoadSenderKeySession":return y.SignalErrorNoSession;case"errSignalInvalidMsg":return y.SignalErrorInvalidMessage;case"errSignalInvalidKey":return y.SignalErrorInvalidKey;case"errSignalTooManyMessagesInFuture":case"errSignalGrpTooManyMessagesInFuture":return y.SignalErrorFutureMessage;case"errInvalidMacWithDecryptedPlaintext":case"errInvalidMacInvalidCipherKey":case"errInvalidMacInvalidCipherKeyNewChain":return y.SignalErrorBadMac}else{if(e.toString().includes("No session found to decrypt message"))return y.SignalErrorNoSession}},t.prepareKeysForRetry=v,t.sendRetryReceipt=function(){return C.apply(this,arguments)};var i=r(n(48926)),o=n(19026),a=n(80780),s=n(47648),l=n(55373),c=n(11439),u=r(n(44423)),d=n(52894),_=n(62325),p=n(22495),f=n(19909),E=n(88515),A=n(84015),g=n(4830),h=n(83986),S=n(89924),T=n(3885),m=n(51017),I=r(n(89482));const y=n(76672)({UnknownError:0,SignalErrorNoSession:1,SignalErrorInvalidKey:2,SignalErrorInvalidKeyId:3,SignalErrorInvalidMessage:4,SignalErrorInvalidSignature:5,SignalErrorFutureMessage:6,SignalErrorBadMac:7,SignalErrorInvalidSession:8,SignalErrorInvalidMsgKey:9,BadBroadcastEphemeralSetting:10,UnknownCompanionNoPrekey:11,AdvFailure:12,StatusRevokeDelay:13});function C(){return(C=(0,i.default)((function*(e){let{retryCount:t,to:n,participant:r,recipient:i,externalId:s,rawTs:u,isPeer:_=!1,retryReason:p}=e;try{const e=(0,g.getSignalProtocolStore)(),[E,A]=yield Promise.all([e.getLocalRegistrationId(),e.getIdentityKeyPair()]);if(null==E||null==A)throw(0,I.default)("No registration info found");const h=yield v(t,(0,d.toCurveKeyPair)(A));let S,y=a.DROP_ATTR,C=a.DROP_ATTR,O=a.DROP_ATTR;if(n.isUser()){if(S=(0,c.DEVICE_JID)(n),(0,T.getMeUser)().equals((0,m.toUserWid)(n)))if(_)y=(0,a.CUSTOM_STRING)("peer");else{if(!i)return Promise.reject((0,I.default)("sendRetryReceipt: send retry to peer device without recipient"));C=(0,c.USER_JID)(i)}}else S=(0,c.CHAT_JID)(n),O=r?(0,c.DEVICE_JID)(r):a.DROP_ATTR;const P=(0,a.wap)("receipt",{id:(0,a.CUSTOM_STRING)(s),to:S,participant:O,recipient:C,type:"retry",category:y},(0,a.wap)("retry",{v:"1",count:(0,a.INT)(t),id:(0,a.CUSTOM_STRING)(s),t:(0,a.CUSTOM_STRING)(u),error:(0,f.isRetryReceiptErrorCodeEnabled)()&&null!=p?(0,a.INT)(p):a.DROP_ATTR}),(0,a.wap)("registration",null,(0,a.BIG_ENDIAN_CONTENT)(E)),h);return(0,o.deprecatedSendStanzaAndWaitForAck)(P,(0,l.toCoreAckTemplate)({id:s,class:"receipt",from:n,participant:r,type:"retry"}))}catch(e){__LOG__(4,void 0,new Error,!0)`error: ${e}`,SEND_LOGS("sendRetryReceipt: error while creating or sending the retry message")}}))).apply(this,arguments)}function v(){return O.apply(this,arguments)}function O(){return(O=(0,i.default)((function*(e,t){const[n,r]=yield P(e,t);return r&&(yield h.waSignalStore.markKeyAsUploaded(r.keyId),yield h.waSignalStore.markPreKeyAsDirectDistribution(r.keyId)),n}))).apply(this,arguments)}function P(){return N.apply(this,arguments)}function N(){return(N=(0,i.default)((function*(e,t){if(e<2)return Promise.resolve([null,null]);try{const[e,n,r]=yield Promise.all([h.waSignalStore.getSignedPreKey(),h.waSignalStore.getOrGenSinglePreKey(A.generatePreKeyPair),(0,s.getADVEncodedIdentity)().then((e=>(0,a.wap)("device-identity",null,e)))]);if(!e)throw(0,I.default)("Signed pre key is not available");return[(0,a.wap)("keys",null,(0,a.wap)("type",null,u.default.KEY_BUNDLE_TYPE),(0,a.wap)("identity",null,t.pubKey),(0,S.xmppPreKey)(n),(0,S.xmppSignedPreKey)(e),r),n]}catch(e){throw(0,I.default)("Could not create keys section for retry")}}))).apply(this,arguments)}t.RetryReason=y},4653:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createOrReplaceDisplayNamesAndLidPnMappings=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(72827),a=n(51017);function s(){return(s=(0,i.default)((function*(e,t){const n=[],r=[];for(const t of e){if(null==t)continue;const{id:e,displayName:i}=t;let{lid:o,phoneNumber:s}=t;e.isLid()?o=e:s=e,null!=o&&(o=(0,a.toUserWid)(o),null!=i&&n.push({lid:o,data:{displayNameLID:i}}),null!=s&&r.push({lid:o,pn:(0,a.toUserWid)(s)}))}yield Promise.all([n.length>0?(0,o.updateLidMetadata)({updates:n}):null,r.length>0?(0,o.createLidPnMappings)({mappings:r,flushImmediately:t}):null].filter(Boolean))}))).apply(this,arguments)}},42778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLidPnMappingsJob=function(e,t){return(0,r.createNonPersistedJob)("createLidPnMappings",(e=>(0,i.createLidPnMappings)(e))).waitUntilCompleted({mappings:e,flushImmediately:t})},t.updateLidMetadataJob=function(e){return(0,r.createNonPersistedJob)("updateLidMetadata",(e=>(0,i.updateLidMetadata)(e))).waitUntilCompleted({updates:e})};var r=n(51280),i=n(72827)},86031:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendTcTokenWhenDeviceIdentityChange=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(29987),a=n(83741),s=n(93040),l=n(1619),c=n(95160),u=n(23609),d=n(59430);function _(){return(_=(0,i.default)((function*(e){let t;if(t=(0,c.isWorker)()||(0,a.getABPropConfigValue)("web_tc_token_db_read_enabled")?yield(0,s.getChatRecord)(e):yield(0,l.frontendSendAndReceive)("getChat",{chatId:e}),null==t)return;const n=t.tcTokenSenderTimestamp;if(null!=n&&!(0,d.isTokenExpired)(n,d.TcTokenMode.Sender))try{yield(0,u.setPrivacyTokens)(e,[u.TokenType.TrustedContact],(0,o.castToUnixTime)(n))}catch(e){__LOG__(3,!0,void 0,!0)`sendTcTokenWhenDeviceIdentityChange failed - ${e}`,SEND_LOGS("send-tc-token-device-identity-change-failed")}}))).apply(this,arguments)}},23609:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TokenType=void 0,t.setPrivacyTokens=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(91563),c=n(11439);const u=new s.WapParser("setPrivacyTokensParser",(e=>({stanzaId:e.attrString("id")}))),d=n(76672)({TrustedContact:"trusted_contact"});function _(){return(_=(0,i.default)((function*(e,t,n){const r=t.map((t=>(0,a.wap)("token",{jid:(0,c.USER_JID)(e),t:(0,a.CUSTOM_STRING)(String(n)),type:(0,a.CUSTOM_STRING)(t)}))),i=yield(0,o.deprecatedSendIq)((0,a.wap)("iq",{to:a.S_WHATSAPP_NET,type:"set",xmlns:"privacy",id:(0,a.generateId)()},(0,a.wap)("tokens",null,r)),u);if(!i.success)throw new l.ServerStatusCodeError(i.errorCode,i.errorText)}))).apply(this,arguments)}t.TokenType=d},7870:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryExist=E,t.queryPhoneExists=function(e){return E({type:"phone",phone:e})},t.queryWidExists=function(e){const t=e.isLid()?"":`+${e.toString()}`;if(e.isLid())return E({type:"lid",wid:e});return E({type:"phone",phone:t})};var i=r(n(48926)),o=n(38672),a=n(42247),s=n(91563),l=n(12055),c=n(42778),u=n(30633),d=n(49673),_=r(n(27112)),p=n(51017),f=r(n(89482));function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){if("lid"===e.type&&!e.wid.isLid())throw(0,f.default)("queryExist is provided with invalid lid");const t=new d.USyncUser,n=new u.USyncQuery;if("phone"===e.type?(n.withContactProtocol(),t.withPhone(e.phone)):t.withId(e.wid),(0,l.lidUsyncEnabled)()&&(n.withLidProtocol(),"phone"===e.type)){const n=`${(0,o.extractDigits)(e.phone)}@c.us`;if(_.default.isWid(n)){const e=(0,a.getCurrentLid)((0,p.createUserWid)(n));e&&t.withLid(e)}}n.withUser(t),n.withBusinessProtocol(),n.withDisappearingModeProtocol();const r=yield n.execute(),i=r.error.all||r.error.contact;if(i)throw new s.ServerStatusCodeError(i.errorCode,i.errorText);const{list:E}=r;if(1!==E.length)return null;const{id:A,contact:g,business:h,disappearing_mode:S,lid:T}=E[0];if("phone"===e.type&&"in"!==(null==g?void 0:g.type))return null;const m={wid:A,biz:null!=h,bizInfo:h};return S&&(m.disappearingMode={duration:S.duration,settingTimestamp:S.t}),null!=T&&(yield(0,c.createLidPnMappingsJob)([{pn:A,lid:(0,p.createUserWid)(T,"lid")}],!0)),m}))).apply(this,arguments)}},60223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syncDeviceListJob=function(e,t,n){return(0,o.createNonPersistedJob)("syncDeviceList",(e=>(0,i.syncDeviceList)(e))).waitUntilCompleted({wids:e,context:t,phash:n})},t.syncMyDeviceListJob=function(){return(0,o.createNonPersistedJob)("syncMyDeviceList",(()=>(0,i.syncMyDeviceList)()),{priority:r.JOB_PRIORITY.SKIP}).waitUntilCompleted()};var r=n(75419),i=n(87167),o=n(51280)},96193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncMediaType=t.DecryptFailType=t.CiphertextType=void 0;const r=n(76672)({Skmsg:"skmsg",Pkmsg:"pkmsg",Msg:"msg",Msmsg:"msmsg"});t.CiphertextType=r;const i=n(76672)({Image:"image",Video:"video",Ptv:"ptv",Audio:"audio",Ptt:"ptt",Location:"location",VCard:"vcard",Document:"document",Url:"url",Call:"call",Gif:"gif",Future:"future",ContactArray:"contact_array",LiveLocation:"livelocation",ProfilePic:"profile_pic",Sticker:"sticker",Hsm:"hsm",ProductImage:"product_image",Template:"template",MdAppState:"md_app_state",MdHistorySync:"md_history_sync",List:"list",ListResponse:"list_response",Button:"button",ButtonResponse:"button_response",Order:"order",Product:"product",NativeFlowResponse:"native_flow_response"});t.EncMediaType=i;const o=n(76672)({Hide:"hide",Show:"show"});t.DecryptFailType=o},50055:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CIPHERTEXT_VERSION=void 0,t.encodeMaybeDecryptFail=function(e){switch(e){case s.DecryptFailType.Show:return o.DROP_ATTR;case s.DecryptFailType.Hide:return(0,o.CUSTOM_STRING)("hide")}},t.encodeMaybeNativeFlowName=t.encodeMaybeMediaType=void 0,t.getMetricE2eCiphertextType=function(e){switch(e){case s.CiphertextType.Skmsg:return f.E2E_CIPHERTEXT_TYPE.SENDER_KEY_MESSAGE;case s.CiphertextType.Pkmsg:return f.E2E_CIPHERTEXT_TYPE.PREKEY_MESSAGE;case s.CiphertextType.Msg:return f.E2E_CIPHERTEXT_TYPE.MESSAGE;case s.CiphertextType.Msmsg:return f.E2E_CIPHERTEXT_TYPE.MESSAGE_SECRET_MESSAGE}},t.getMetricE2eDestination=function(e){if(e.isUser())return f.E2E_DESTINATION.INDIVIDUAL;if(e.isGroup())return f.E2E_DESTINATION.GROUP;if(e.isStatusV3())return f.E2E_DESTINATION.STATUS;if(e.isBroadcast())return f.E2E_DESTINATION.LIST},t.getMetricEditType=function(e){switch(e){case a.EDIT_ATTR.SENDER_REVOKE:return f.EDIT_TYPE.SENDER_REVOKE;case a.EDIT_ATTR.ADMIN_REVOKE:return f.EDIT_TYPE.ADMIN_REVOKE;case a.EDIT_ATTR.MESSAGE_EDIT:return f.EDIT_TYPE.EDITED;default:return f.EDIT_TYPE.NOT_EDITED}},t.getMetricEditTypeFromMsg=function(e,t){if((0,_.isRevokeMsg)(e))return"admin_revoke"===t.subtype?f.EDIT_TYPE.ADMIN_REVOKE:f.EDIT_TYPE.SENDER_REVOKE;return(0,_.isEditMsg)(e)?f.EDIT_TYPE.EDITED:f.EDIT_TYPE.NOT_EDITED},t.getMetricMediaType=function(e){let{encMediaType:t,msgType:n,msgPollType:r}=e;if(n===c.STANZA_MSG_TYPES.reaction)return f.MEDIA_TYPE.REACTION;if(r===c.POLL_TYPES.creation)return f.MEDIA_TYPE.POLL_CREATE;if(r===c.POLL_TYPES.vote)return f.MEDIA_TYPE.POLL_VOTE;if(t)switch(t){case s.EncMediaType.Image:return f.MEDIA_TYPE.PHOTO;case s.EncMediaType.Video:return f.MEDIA_TYPE.VIDEO;case s.EncMediaType.Ptv:return f.MEDIA_TYPE.PUSH_TO_VIDEO;case s.EncMediaType.Audio:return f.MEDIA_TYPE.AUDIO;case s.EncMediaType.Ptt:return f.MEDIA_TYPE.PTT;case s.EncMediaType.Location:return f.MEDIA_TYPE.LOCATION;case s.EncMediaType.VCard:return f.MEDIA_TYPE.CONTACT;case s.EncMediaType.Document:return f.MEDIA_TYPE.DOCUMENT;case s.EncMediaType.Url:return f.MEDIA_TYPE.URL;case s.EncMediaType.Call:return f.MEDIA_TYPE.CALL;case s.EncMediaType.Gif:return f.MEDIA_TYPE.GIF;case s.EncMediaType.Future:return f.MEDIA_TYPE.FUTURE;case s.EncMediaType.ContactArray:return f.MEDIA_TYPE.CONTACT_ARRAY;case s.EncMediaType.LiveLocation:return f.MEDIA_TYPE.LIVE_LOCATION;case s.EncMediaType.ProfilePic:return f.MEDIA_TYPE.PROFILE_PIC;case s.EncMediaType.Sticker:return f.MEDIA_TYPE.STICKER;case s.EncMediaType.Hsm:return f.MEDIA_TYPE.HSM;case s.EncMediaType.ProductImage:return f.MEDIA_TYPE.PRODUCT_IMAGE;case s.EncMediaType.Template:return f.MEDIA_TYPE.TEMPLATE;case s.EncMediaType.MdAppState:return f.MEDIA_TYPE.MD_APP_STATE;case s.EncMediaType.MdHistorySync:return f.MEDIA_TYPE.MD_HISTORY_SYNC;case s.EncMediaType.List:return f.MEDIA_TYPE.LIST;case s.EncMediaType.ListResponse:return f.MEDIA_TYPE.LIST_REPLY;case s.EncMediaType.Button:return f.MEDIA_TYPE.BUTTON_MESSAGE;case s.EncMediaType.ButtonResponse:return f.MEDIA_TYPE.BUTTON_RESPONSE_MESSAGE;case s.EncMediaType.Order:return f.MEDIA_TYPE.ORDER;case s.EncMediaType.Product:return f.MEDIA_TYPE.PRODUCT_IMAGE;case s.EncMediaType.NativeFlowResponse:return f.MEDIA_TYPE.INTERACTIVE_RESPONSE_NFM}return f.MEDIA_TYPE.NONE},t.getNonCriticalNotificationPriority=function(e){if(e&&(0,d.isOfflinePriorityBucketEnabled)())return i.JOB_PRIORITY.OFFLINE;return i.JOB_PRIORITY.LOW},t.getPlaceholderAddReason=function(e){if(e instanceof u.UnknownDeviceMessageError)return f.PLACEHOLDER_REASON_TYPE.UNKNOWN_COMPANION_NO_PREKEY;if(e instanceof p.SignalDecryptionError){const t=.001;if((0,l.isCryptoLibraryEnabled)())switch(e.message){case"errSignalNoSession":case"errLoadSenderKeySession":return f.PLACEHOLDER_REASON_TYPE.SIGNAL_NO_SESSION;case"errSignalInvalidMsg":return f.PLACEHOLDER_REASON_TYPE.SIGNAL_INVALID_MESSAGE;case"errSignalInvalidKey":return f.PLACEHOLDER_REASON_TYPE.SIGNAL_INVALID_KEY;case"errSignalTooManyMessagesInFuture":case"errSignalGrpTooManyMessagesInFuture":return f.PLACEHOLDER_REASON_TYPE.SIGNAL_FUTURE_MESSAGE;case"errInvalidMacWithDecryptedPlaintext":case"errInvalidMacInvalidCipherKey":case"errInvalidMacInvalidCipherKeyNewChain":{const n=`MsgPlaceholderBadMac-${e.message}`;return __LOG__(4,void 0,new Error,!0)`getPlaceholderAddReason SignalBadMac reason`,SEND_LOGS(n,t),f.PLACEHOLDER_REASON_TYPE.SIGNAL_BAD_MAC}}else{if(e.toString().includes("No session found to decrypt message"))return f.PLACEHOLDER_REASON_TYPE.SIGNAL_NO_SESSION}if((0,l.isCryptoLibraryEnabled)()){const n=`MsgPlaceholderOther-${e.message}`;__LOG__(4,void 0,new Error,!0)`getPlaceholderAddReason Other reason`,SEND_LOGS(n,t)}return f.PLACEHOLDER_REASON_TYPE.OTHER}},t.mediaTypeFromProtobuf=function e(t){var n;if(t.deviceSentMessage){const{message:n}=t.deviceSentMessage;return n?e(n):null}if(t.ephemeralMessage){const{message:n}=t.ephemeralMessage;return n?e(n):null}if(t.groupMentionedMessage){const{message:n}=t.groupMentionedMessage;return n?e(n):null}if(t.viewOnceMessage){const{message:n}=t.viewOnceMessage;return n?e(n):null}if(t.documentWithCaptionMessage){const{message:n}=t.documentWithCaptionMessage;return n?e(n):null}if(t.botInvokeMessage){const{message:n}=t.botInvokeMessage;return n?e(n):null}if(t.imageMessage)return s.EncMediaType.Image;if(t.stickerMessage)return s.EncMediaType.Sticker;if(t.locationMessage)return!0===t.locationMessage.isLive?s.EncMediaType.LiveLocation:s.EncMediaType.Location;if(t.contactMessage)return s.EncMediaType.VCard;if(t.contactsArrayMessage)return s.EncMediaType.ContactArray;if(t.documentMessage)return s.EncMediaType.Document;if(t.audioMessage)return t.audioMessage.ptt?s.EncMediaType.Ptt:s.EncMediaType.Audio;if(t.videoMessage)return t.videoMessage.gifPlayback?s.EncMediaType.Gif:s.EncMediaType.Video;if(t.ptvMessage)return s.EncMediaType.Ptv;if(t.buttonsMessage)return s.EncMediaType.Button;if(t.buttonsResponseMessage)return s.EncMediaType.ButtonResponse;if(t.listMessage)return s.EncMediaType.List;if(t.listResponseMessage)return s.EncMediaType.ListResponse;if(t.orderMessage)return s.EncMediaType.Order;if(t.productMessage)return s.EncMediaType.Product;if(t.groupInviteMessage)return s.EncMediaType.Url;if(t.interactiveResponseMessage)return s.EncMediaType.NativeFlowResponse;if(null!=(null===(n=t.extendedTextMessage)||void 0===n?void 0:n.canonicalUrl)&&""!==t.extendedTextMessage.canonicalUrl.trim())return s.EncMediaType.Url;return null},t.nativeFlowNameTypeFromProtobuf=function(e){var t;return e.interactiveResponseMessage?null===(t=e.interactiveResponseMessage.nativeFlowResponseMessage)||void 0===t?void 0:t.name:null};var i=n(75419),o=n(80780),a=n(77630),s=n(96193),l=n(62325),c=n(33351),u=n(22495),d=n(95735),_=n(92760),p=n(88515),f=n(8414),E=r(n(89482));function A(e){return t=>null==t?o.DROP_ATTR:e(t)}t.CIPHERTEXT_VERSION=2;const g=A((function(e){const t=(()=>{switch(e){case s.EncMediaType.Image:return"image";case s.EncMediaType.Video:return"video";case s.EncMediaType.Ptv:return"ptv";case s.EncMediaType.Audio:return"audio";case s.EncMediaType.Ptt:return"ptt";case s.EncMediaType.VCard:return"vcard";case s.EncMediaType.Document:return"document";case s.EncMediaType.Gif:return"gif";case s.EncMediaType.ContactArray:return"contact_array";case s.EncMediaType.Location:return"location";case s.EncMediaType.LiveLocation:return"livelocation";case s.EncMediaType.Sticker:return"sticker";case s.EncMediaType.List:return"list";case s.EncMediaType.ListResponse:return"list_response";case s.EncMediaType.ButtonResponse:return"buttons_response";case s.EncMediaType.Order:return"order";case s.EncMediaType.Product:return"product";case s.EncMediaType.Url:return"url";case s.EncMediaType.NativeFlowResponse:return"native_flow_response";default:return null}})();if(t)return(0,o.CUSTOM_STRING)(t);throw(0,E.default)("Unsupported type")}));t.encodeMaybeMediaType=g;const h=A((e=>(0,o.CUSTOM_STRING)(e)));t.encodeMaybeNativeFlowName=h},75674:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t._online=void 0,t.handleMessage=function(){return f.apply(this,arguments)},t.waitForOfflineMsgThread=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e)return p.chatQueue.wait(e);return p.allChatQueue.wait()},t.waitForOnlineMsgThread=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e)return _.chatQueue.wait(e);return _.allChatQueue.wait()};var i=r(n(48926)),o=n(66911),a=n(39528),s=n(77689),l=r(n(74700)),c=r(n(43926)),u=n(1723);const d=2e4,_={allChatQueue:new a.PromiseQueue,chatQueue:new a.PromiseQueueMap};t._online=_;const p={allChatQueue:new a.PromiseQueue,chatQueue:new a.PromiseQueueMap};function f(){return(f=(0,i.default)((function*(e,t,n){return t&&!u.OfflineMessageHandler.isResumeFromRestartComplete()?p.allChatQueue.enqueue((()=>p.chatQueue.enqueue(e,(0,i.default)((function*(){return yield(0,c.default)(),(0,s.promiseTimeout)(n(),d).catch((e=>{if(!(e instanceof o.TimeoutError))throw e;__LOG__(2,void 0,void 0,void 0,["messaging"])`Offline chat queue MAX_MESSAGE_DELAY exceeded`}))}))))):(yield(0,l.default)(),_.allChatQueue.enqueue((()=>_.chatQueue.enqueue(e,(()=>(0,s.promiseTimeout)(n(),d).catch((e=>{if(!(e instanceof o.TimeoutError))throw e;__LOG__(2,void 0,void 0,void 0,["messaging"])`Online chat queue MAX_MESSAGE_DELAY exceeded`})))))))}))).apply(this,arguments)}},82572:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.socketLogout=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(95160),s=n(97023);function l(){return(l=(0,i.default)((function*(e){if((0,a.isServiceWorker)())try{yield Promise.all([(0,s.setOfflinePushDisabled)(!0),(0,s.setLogoutReason)({reason:e})])}catch(e){return __LOG__(4,void 0,new Error,!0)`Socket logout failed, err: ${e}`,void SEND_LOGS("sw-socket-logout-failed")}(0,o.frontendFireAndForget)("socketLogout",{reason:e})}))).apply(this,arguments)}},63169:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.markAddOnsAsReadDb=function(){return l.apply(this,arguments)},t.markUnclassifiedAddOnsAsReadDb=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=r(n(49619)),a=n(2537),s=n(88930);function l(){return(l=(0,i.default)((function*(e){const{getProviderForAddOnType:t}=n(2537),r=yield Promise.allSettled(Array.from(e.entries()).map((e=>{var n;let[r,i]=e;const a=(0,o.default)(t(r),"getProviderForAddOnType(addOnType)");return null===(n=a.markAsRead)||void 0===n?void 0:n.call(a,i)})));for(const e of r)if("rejected"===e.status)throw e.reason}))).apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e){const t=new Map,n=a.addOnProviders.map(function(){var n=(0,i.default)((function*(n){var r;const i=yield null===(r=n.markAsRead)||void 0===r?void 0:r.call(n,e);t.set(n.type,null!=i?i:[])}));return function(){return n.apply(this,arguments)}}()),r=[],o=(0,s.markAsReadForTable)("message-orphans",e.map(String)).then((e=>{r.push(...e)})),l=yield Promise.allSettled([...n,o]);for(const e of l)if("rejected"===e.status)throw e.reason;return{updatedAddOns:t,updatedOrphans:r}}))).apply(this,arguments)}},31919:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkGenerateDeviceNotifications=function(){return h.apply(this,arguments)},t.createAndStoreDeviceNotifications=function(){return g.apply(this,arguments)},t.generateDeviceNotifications=E;var i=r(n(48926)),o=n(44037),a=n(83741),s=n(45218),l=n(39066),c=n(94007),u=n(23440),d=n(3885),_=n(55017),p=n(51017),f=r(n(89482));function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e,t,n){const r={notifications:[],chatIds:[]};if(!(0,_.getGlobalSecurityNotifications)())return r;if((0,a.getABPropConfigValue)("adv_v2_m6"))return r;if(!(t.length>0||n.length>0))return r;let i=[];if(e.equals((0,d.getMeUser)()))try{(yield(0,c.getChatTable)().all()).forEach((e=>{e.id!==o.STATUS_JID&&i.push((0,p.createWid)(e.id))}))}catch(e){throw __LOG__(4,!0,new Error,!0)`get all from chat table failed`,SEND_LOGS("get all from chat table failed when creating device notification"),(0,f.default)("get all from chat table failed")}else try{const t=yield(0,c.getChatTable)().get(String(e),!1),n=yield(0,u.getParticipantTable)().equals(["participants"],String(e));i=n.map((e=>(0,p.createWid)(e.groupId))),t&&i.push((0,p.createWid)(t.id))}catch(e){throw __LOG__(4,!0,new Error,!0)`get chats failed`,SEND_LOGS("get chats failed when creating device notification"),(0,f.default)("get chays failed")}const l=i.map((r=>(0,s.genDeviceNotificationMsg)(r,e,t,n)));return r.notifications=l,r.chatIds=i.map(String),r}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e,t,n){const{notifications:r}=yield E(e,t,n);yield Promise.all(r.map((e=>(0,l.storeMessageInTransaction)([e]))))}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){let t=[];const n=new Set;if((0,_.getGlobalSecurityNotifications)()){(yield Promise.all(e.map((e=>{let{wid:t,added:n,removed:r,isNewRecord:i}=e;return i?Promise.resolve(null):E(t,n,r)})))).forEach((e=>{e&&(t=t.concat(e.notifications),e.chatIds.forEach((e=>n.add(e))))}))}return t.length>0?{notifications:t,chatIds:Array.from(n)}:{notifications:[],chatIds:[]}}))).apply(this,arguments)}},17802:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleADVDeviceNotification=function(e){let{wid:t,devices:n,type:r}=e;if(null==r)return Promise.reject((0,p.default)("handleADVDeviceNotification: notification without type"));return function(){return E.apply(this,arguments)}(t,n,r)},t.handleADVDeviceSyncResult=function(e){return function(){return A.apply(this,arguments)}(e)},t.handleADVDeviceUpdateForMessage=function(){return f.apply(this,arguments)};var i=r(n(48926)),o=n(97183),a=n(52894),s=n(53098),l=n(96869),c=n(31852),u=n(51688),d=n(49178),_=n(4830),p=r(n(89482));function f(){return(f=(0,i.default)((function*(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=yield(0,u.getLastADVDeviceInfoCheckTime)();return(0,l.handleADVDeviceUpdateForMessage)(e,t,n,r,i,o,a)}))).apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e,t,r){let i=null;if("add"===r){const t=yield(0,_.getPersistSignalProtocolStore)().loadIdentityKey((0,d.createSignalAddress)(e).toString());i=t?(0,a.toCurveKeyPubKey)((0,d.strToBuffer)(t)):null}const s=yield(0,o.getDeviceRecord)(e),l=yield(0,u.getLastADVDeviceInfoCheckTime)(),p=(0,n(21684).handleDeviceNotification)(e,r,t,i,s,l);if(p)return p.clearRecord&&(yield(0,c.clearDeviceRecord)(e,(null==s?void 0:s.devices)||[])),(0,c.bulkApplyDeviceUpdate)([{wid:e,update:p.update,currentRecord:s}])}))).apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){__LOG__(2)`handleADVDeviceSyncResultImpl: start to handling ${e.length} updates`;const t=e.map((e=>e.wid)),r=e.filter((e=>{var t;return null===(t=e.devices.keyIndex)||void 0===t?void 0:t.signedKeyIndexBytes})),i=yield(0,_.getPersistSignalProtocolStore)().bulkLoadIdentityKey(r.map((e=>(0,d.createSignalAddress)(e.wid).toString()))),l=new Map;r.forEach(((e,t)=>{l.set((0,s.createDeviceListPK)(e.wid),i[t])}));const u=yield(0,o.bulkGetDeviceRecord)(t),p=[],f=[],E=n(21684).handleADVSyncResult;e.forEach(((e,t)=>{const n=l.get((0,s.createDeviceListPK)(e.wid)),r=n?(0,a.toCurveKeyPubKey)((0,d.strToBuffer)(n)):null,i=u[t],o=E(e.wid,e.devices,r,i);null!=o&&(o.clearRecord?(p.push({wid:e.wid,currentList:(null==i?void 0:i.devices)||[]}),f.push({wid:e.wid,currentRecord:{id:(0,s.createDeviceListPK)(e.wid),deleted:!0},update:o.update})):f.push({wid:e.wid,currentRecord:i,update:o.update}))})),yield Promise.all(p.map((e=>{let{wid:t,currentList:n}=e;return(0,c.clearDeviceRecord)(t,n)}))),yield(0,c.bulkApplyDeviceUpdate)(f)}))).apply(this,arguments)}},47648:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearADVSecretKey=function(){return L.apply(this,arguments)},t.generateADVSecretKey=function(){return N.apply(this,arguments)},t.generateDeviceSignature=function(e,t,n){const r=e.details,i=a.Binary.build(O,r,t.pubKey,n).readByteArray().buffer;return(0,u.calculateSignature)(t,i)},t.getADVEncodedIdentity=function(){return M.apply(this,arguments)},t.getADVSecretKey=function(){return b.apply(this,arguments)},t.setADVSignedIdentity=function(e){if(null==e)return Promise.reject((0,T.default)("MD advSignedDeviceIdentity is null or undefined"));if(null==e.deviceSignature)return Promise.reject((0,T.default)("MD advSignedDeviceIdentity is missing deviceSignature"));return f.waSignalStore.putADVSignedIdentity(e)},t.validateADVwithEncs=function(){return C.apply(this,arguments)},t.validateADVwithIdentityKey=I,t.verifyDeviceIdentityAccountSignature=R,t.verifyKeyIndexListAccountSignature=function(e,t){const n=e.details,r=e.accountSignature;(0,m.default)(null!=r,"accountSignature should not be null");const i=a.Binary.build(P,n).readByteArray();return(0,u.verifySignature)(new Uint8Array(t),i,new Uint8Array(r))};var i=r(n(48926)),o=n(62089),a=n(89323),s=n(89738),l=n(17802),c=n(96193),u=n(52894),d=n(59266),_=n(49178),p=n(4830),f=n(83986),E=n(89924),A=n(56333),g=n(51017),h=n(33655),S=n(32126),T=r(n(89482)),m=r(n(41143));function I(){return y.apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const i=(0,s.uint8ArrayToBuffer)(n),o=yield(0,p.getSignalProtocolStore)().loadIdentityKey((0,_.createSignalAddress)(e).toString());if(o){const e=(0,u.toCurveKeyPubKey)((0,_.strToBuffer)(o));if((0,_.bufferEqual)(e,i))return!0}const a=(0,h.decodeProtobuf)(d.ADVSignedDeviceIdentitySpec,t);(0,m.default)(null!=a,"advSignedDeviceIdentity should not be null");const c=yield(0,p.getSignalProtocolStore)().loadIdentityKey((0,_.createSignalAddress)((0,g.toUserWid)(e)).toString()),f=c?(0,u.toCurveKeyPubKey)((0,_.strToBuffer)(c)):null;if(!R(a,i,f))return __LOG__(3)`validateADVIdentity: invalid account signature`,!1;if(!D(a,i,f))return __LOG__(3)`validateADVIdentity: invalid device signature`,!1;const E=(0,h.decodeProtobuf)(d.ADVDeviceIdentitySpec,a.details);(0,m.default)(null!=E,"advDeviceIdentity should not be null");try{yield(0,l.handleADVDeviceUpdateForMessage)(e,E,f,a.accountSignatureKey,i,r)}catch(e){return __LOG__(3)`validateADVIdentity: process adv device identity failed`,!1}return __LOG__(2)`validateADVIdentity: successfully verified accountSignature and deviceSignature`,!0}catch(e){return __LOG__(3)`validateADVIdentity: failed`,!1}}))).apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.find((e=>e.e2eType===c.CiphertextType.Pkmsg));if(!i)return!0;__LOG__(2)`validateADVwithEncs: start validate prekey msg `;try{(0,m.default)(null!=e,"author should not be null");const n=(0,E.extractIdentityKey)(i.ciphertext);(0,m.default)(null!=n,"identityKey should not be null");const o=yield I(e,t,new Uint8Array(n),r);return yield(0,p.getSignalProtocolStore)().flushBufferToDiskIfNotMemOnlyMode(),o}catch(e){return __LOG__(3)`validateADVwithEncs: failed ${e}`,!1}}))).apply(this,arguments)}const v=new Uint8Array([6,0]),O=new Uint8Array([6,1]),P=new Uint8Array([6,2]);function N(){return(N=(0,i.default)((function*(){const e=new Uint8Array(32);self.crypto.getRandomValues(e);const t=(0,o.encodeB64)(e);return yield(0,A.setADVSecretKey)(t),t}))).apply(this,arguments)}function b(){return(b=(0,i.default)((function*(){const e=yield(0,A.getADVSecretKey)();if(null==e)throw(0,T.default)("MD secretKey is null or undefined");return e}))).apply(this,arguments)}function M(){return(M=(0,i.default)((function*(){const e=yield f.waSignalStore.getADVSignedIdentity();if(null==e)throw(0,T.default)("MD advSignedDeviceIdentity is null or undefined");if(null==e.deviceSignature)throw(0,T.default)("MD advSignedDeviceIdentity is missing deviceSignature");return(0,S.encodeProtobuf)(d.ADVSignedDeviceIdentitySpec,e).readByteArray()}))).apply(this,arguments)}function R(e,t,n){const r=e.details,i=e.accountSignatureKey||n;(0,m.default)(null!=i,"accountSignatureKey should not be null");const o=e.accountSignature;(0,m.default)(null!=o,"accountSignature should not be null");const s=a.Binary.build(v,r,t).readByteArray();return(0,u.verifySignature)(new Uint8Array(i),s,new Uint8Array(o))}function D(e,t,n){const r=e.details,i=e.deviceSignature;(0,m.default)(null!=i,"deviceSignature should not be null");const o=e.accountSignatureKey||n;(0,m.default)(null!=o,"accountSignatureKey should not be null");const s=a.Binary.build(O,r,t,o).readByteArray();return(0,u.verifySignature)(new Uint8Array(t),s,new Uint8Array(i))}function L(){return(L=(0,i.default)((function*(){yield(0,A.setADVSecretKey)(void 0)}))).apply(this,arguments)}},97421:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkUpdateGroupParticipantsInTransaction=function(){return p.apply(this,arguments)},t.updateGroupParticipantsInTransaction=function(){return _.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(44037),s=n(97575),l=n(23440),c=n(3885),u=n(8414),d=n(51017);function _(){return(_=(0,o.default)((function*(e,t,n){let r;try{r=yield(0,l.getParticipantTable)().equals(["participants"],String(e))}catch(e){throw e.toString().includes("Failed to read large IndexedDB value")&&(__LOG__(4,void 0,new Error,!0)`updateGroupParticipantsInTransaction: error: ${e}`,SEND_LOGS("indexeddb-participant-read-large-value")),e}const o=r.map((r=>{let o=r.rotateKey;const a=new Map(r.senderKey);return n.forEach((t=>{var n;const r=String((0,d.createDeviceWidFromUserAndDevice)(e.user,e.server,t));o=o||null!==(n=a.get(r))&&void 0!==n&&n,a.delete(r)})),o&&a.forEach(((e,t)=>a.set(t,!1))),t.forEach((t=>{a.set(String((0,d.createDeviceWidFromUserAndDevice)(e.user,e.server,t)),!1)})),f(e,o,r,t,n),(0,i.default)((0,i.default)({},r),{},{senderKey:a,rotateKey:o})}));return(0,l.getParticipantTable)().bulkCreateOrReplace(o)}))).apply(this,arguments)}function p(){return(p=(0,o.default)((function*(e){if(0===e.length)return;let t;try{t=yield(0,l.getParticipantTable)().anyOf(["participants"],e.map((e=>String(e.wid))))}catch(e){throw e.toString().includes("Failed to read large IndexedDB value")&&(__LOG__(4,void 0,new Error,!0)`bulkUpdateGroupParticipantsInTransaction: error: ${e}`,SEND_LOGS("indexeddb-participant-bulk-read-large-value")),e}if(0===t.length)return;const n=new Map;e.forEach((e=>{n.set(String(e.wid),e)}));const r=t.map((e=>{let t=e.rotateKey;const r=new Map(e.senderKey);return e.participants.forEach((i=>{const o=n.get(i);if(!o)return;const{wid:a,added:s,removed:l}=o;l.forEach((e=>{var n;const i=String((0,d.createDeviceWidFromUserAndDevice)(o.wid.user,o.wid.server,e));t=t||null!==(n=r.get(i))&&void 0!==n&&n,r.delete(i)})),t&&r.forEach(((e,t)=>r.set(t,!1))),s.forEach((e=>{r.set(String((0,d.createDeviceWidFromUserAndDevice)(o.wid.user,o.wid.server,e)),!1)})),f(a,t,e,s,l)})),(0,i.default)((0,i.default)({},e),{},{senderKey:r,rotateKey:t})}));return(0,l.getParticipantTable)().bulkCreateOrReplace(r)}))).apply(this,arguments)}function f(e,t,n,r,i){if(t&&!n.rotateKey){var o;let t;t=i.includes(a.DEFAULT_DEVICE_ID)&&r.includes(a.DEFAULT_DEVICE_ID)?u.EXPIRY_REASON.IDENTITY_CHANGE:(null===(o=(0,c.getMaybeMeUser)())||void 0===o?void 0:o.equals(e))?u.EXPIRY_REASON.PEER_COMPANION_UNPAIR:u.EXPIRY_REASON.OTHER_DEVICE_UNPAIR,(0,s.postSenderKeyExpiredMetric)({chatId:n.groupId,deviceCount:n.senderKey.size,expiryReason:t})}}},51688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastADVDeviceInfoCheckTime=function(){null==i&&(i=(0,r.getTaskScheduledTime)("advDeviceInfoCheck"));return i},t.setLastADVDeviceInfoCheckTime=function(e){i=Promise.resolve(e)};var r=n(13929);let i},15131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeExpectedTsForDeviceRecord=function(e,t,n){const r=null==t?void 0:t.timestamp;if(null==r)return{expectedTs:void 0,expectedTsLastDeviceJobTs:void 0,expectedTsUpdateTs:void 0};let o,a,s;null==t||t.deleted||(o=t.expectedTs,a=t.expectedTsLastDeviceJobTs,s=t.expectedTsUpdateTs);return i(e,r,n,o,a,s)},t.computeNewExpectedTs=i,t.shouldClearExpectedTs=function(e,t,n,r){if(null==n||n.deleted)return!1;if(null==n.expectedTs)return!1;if(e>=n.expectedTs)return!0;if(e<n.expectedTs&&t===n.expectedTs&&null!=r&&(null==n.expectedTsLastDeviceJobTs||r>n.expectedTsLastDeviceJobTs))return!0;return!1};var r=n(29987);function i(e,t,n,i,o,a){const s={expectedTs:i,expectedTsLastDeviceJobTs:o,expectedTsUpdateTs:a};return t>=e||null!=i&&i>=e||(s.expectedTs=e,s.expectedTsLastDeviceJobTs=null!=n?n:void 0,(null==i||t>=i)&&(s.expectedTsUpdateTs=(0,r.unixTimeWithoutClockSkewCorrection)())),s}},8941:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleICDCData=function(e,t,n){if(null==n)return Promise.resolve();return E.enqueue((()=>function(){return A.apply(this,arguments)}(e,t,n)))};var i=r(n(81109)),o=r(n(48926)),a=n(44037),s=n(22101),l=n(39528),c=n(29987),u=n(15131),d=n(97183),_=n(21684),p=n(51688),f=n(3885);const E=new l.PromiseQueue;function A(){return(A=(0,o.default)((function*(e,t,n){const{deviceListMetadata:r}=n;if(null==r)return void __LOG__(2,void 0,void 0,void 0,["handleICDCData"])`get empty device list metadata`;if((null==e.device||e.device===a.DEFAULT_DEVICE_ID)&&null!=r.senderTimestamp&&null==r.senderKeyHash){const t=(0,s.numberOrThrowIfTooLarge)(r.senderTimestamp)+1;return void(0,_.handleADVSyncResult)(e,{deviceList:[{id:a.DEFAULT_DEVICE_ID,keyIndex:0}],keyIndex:{ts:(0,c.castToUnixTime)(t),signedKeyIndexBytes:null}},null,null)}const o=[],l=e.user===(0,f.getMeUser)().user;o.push({id:e,ts:r.senderTimestamp}),l&&null!=t&&o.push({id:t,ts:r.recipientTimestamp});const E=yield(0,p.getLastADVDeviceInfoCheckTime)(),A=yield(0,d.bulkGetDeviceRecord)(o.map((e=>e.id))),g=[];return A.forEach(((e,t)=>{const n=o[t].ts;if(null==e||e.deleted||null==n)return;const r=(0,u.computeExpectedTsForDeviceRecord)((0,s.numberOrThrowIfTooLarge)(n),e,E);r.expectedTs===e.expectedTs&&r.expectedTsLastDeviceJobTs===e.expectedTsLastDeviceJobTs&&e.expectedTsUpdateTs==e.expectedTsUpdateTs||(__LOG__(2)`handleICDCData: update expectd timestamp for ${e.id}`,g.push((0,i.default)((0,i.default)({},e),r)))})),g.length>0?(0,d.bulkCreateOrReplaceDeviceRecord)(g):void 0}))).apply(this,arguments)}},96869:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleADVDeviceUpdateForMessage=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(44037),a=n(97183),s=n(3225),l=n(88101),c=n(49178),u=n(51017),d=r(n(41143));function _(){return(_=(0,i.default)((function*(e,t,n,r,i){let _=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=arguments.length>6?arguments[6]:void 0;const{rawId:f,timestamp:E,keyIndex:A}=t;(0,d.default)(null!=f,"handleADVDeviceIdentity: rawId of deviceIdentity should not be null"),(0,d.default)(null!=E,"handleADVDeviceIdentity: timestamp of deviceIdentity should not be null"),(0,d.default)(null!=A,"handleADVDeviceIdentity: keyIndex of deviceIdentity should not be null");const g={rawId:f,timestamp:E,keyIndex:A},h=e.device;(0,d.default)(null!=h&&h!==o.DEFAULT_DEVICE_ID,"handleADVDeviceIdentity: called for primary device");const S=(0,u.toUserWid)(e),T=yield(0,a.getDeviceRecord)(S),m=null==n||null!=r&&!(0,c.bufferEqual)(n,r);return!T||T.deleted||T.rawId!==f||m?(0,s.handleListReset)(e,g,m?r:null,i,T,_,p):(0,l.handleNoListReset)(e,g,i,T,_,p)}))).apply(this,arguments)}},3225:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleListReset=function(){return h.apply(this,arguments)};var i=r(n(48926)),o=n(44037),a=n(22101),s=n(29987),l=n(83741),c=n(15131),u=n(52894),d=n(53098),_=n(31852),p=n(49178),f=n(4830),E=n(51017),A=r(n(89482)),g=r(n(41143));function h(){return(h=(0,i.default)((function*(e,t,n,r,i){var h;let S=arguments.length>5&&void 0!==arguments[5]&&arguments[5],T=arguments.length>6?arguments[6]:void 0;const{rawId:m,timestamp:I,keyIndex:y}=t,C=(0,a.numberOrThrowIfTooLarge)(I),v=e.device;(0,g.default)(null!=v&&v!==o.DEFAULT_DEVICE_ID,"handleADVDeviceIdentity: called for primary device");const O=(0,E.toUserWid)(e);let P=0;if(P=null!==(h=null==i?void 0:i.timestamp)&&void 0!==h?h:(0,s.pastUnixTime)(((0,l.getABPropConfigValue)("num_days_key_index_list_expiration")-1)*s.DAY_SECONDS),null!=i&&!i.deleted){if(i.timestamp>C)throw(0,A.default)("handleADVDeviceIdentity: out-of-order timestamp detected");yield(0,_.clearDeviceRecord)(O,i.devices,S)}n&&(yield(0,f.getSignalProtocolStore)().saveIdentity((0,p.createSignalAddress)(O).toString(),(0,u.toSignalCurvePubKey)(n)));const N={id:(0,d.createDeviceListPK)(e),rawId:m,timestamp:P,devices:[{id:v,keyIndex:y},{id:o.DEFAULT_DEVICE_ID,keyIndex:0}],validIndexes:null,currentIndex:null,deleted:!1},b=(0,c.computeExpectedTsForDeviceRecord)(C,N,T);N.expectedTs=b.expectedTs,N.expectedTsLastDeviceJobTs=b.expectedTsLastDeviceJobTs,N.expectedTsUpdateTs=b.expectedTsUpdateTs,yield(0,_.bulkApplyDeviceUpdate)([{wid:O,update:N,currentRecord:null}],S),yield(0,f.getSignalProtocolStore)().saveIdentity((0,p.createSignalAddress)(e).toString(),(0,u.toSignalCurvePubKey)(r))}))).apply(this,arguments)}},88101:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleNoListReset=function(){return A.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(44037),s=n(22101),l=n(15131),c=n(52894),u=n(31852),d=n(49178),_=n(4830),p=n(51017),f=r(n(89482)),E=r(n(41143));function A(){return(A=(0,o.default)((function*(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],A=arguments.length>5?arguments[5]:void 0;const{timestamp:g,keyIndex:h}=t,S=(0,s.numberOrThrowIfTooLarge)(g),T=e.device;if((0,E.default)(null!=T&&T!==a.DEFAULT_DEVICE_ID,"handleADVDeviceIdentity: called for primary device"),r.timestamp>=S&&r.validIndexes&&!r.validIndexes.includes(h))throw(0,f.default)("handleADVDeviceIdentity: out-of-order timestamp detected");const m=new Map(r.devices.map((e=>[e.id,e.keyIndex])));if(!m.has(T)||m.get(T)!==h){m.set(T,h);const t=Array.from(m.entries()).map((e=>{let[t,n]=e;return{id:t,keyIndex:n}})),a=(0,i.default)((0,i.default)({},r),{},{devices:t,deleted:!1}),s=(0,l.computeExpectedTsForDeviceRecord)(S,a,A);a.expectedTs=s.expectedTs,a.expectedTsLastDeviceJobTs=s.expectedTsLastDeviceJobTs,a.expectedTsUpdateTs=s.expectedTsUpdateTs,yield(0,u.bulkApplyDeviceUpdate)([{wid:(0,p.toUserWid)(e),update:a,currentRecord:r}],o),yield(0,_.getSignalProtocolStore)().saveIdentity((0,d.createSignalAddress)(e).toString(),(0,c.toSignalCurvePubKey)(n))}}))).apply(this,arguments)}},60614:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleDeviceAddNotification=function(e,t,n,r,i,u,d){if(!u||u.deleted)return null;if(n<u.timestamp)return null;if(null==i)return null;const _=(0,c.decodeSignedKeyIndexBytes)(i,r);if(!_)return null;const p=_.rawId,f=(0,a.numberOrThrowIfTooLarge)(_.timestamp);if(f!==n)return null;let E=!1,A=null;const g=u.timestamp;u.rawId!==p?E=!0:A=u.devices;const h=new Set(_.validIndexes),S=_.currentIndex||0,T=null==A?[]:A.filter((e=>e.id!==o.DEFAULT_DEVICE_ID&&(h.has(e.keyIndex)||e.keyIndex>S)));t.forEach((e=>{const{id:t,keyIndex:n}=e;t!==o.DEFAULT_DEVICE_ID&&null!=n&&h.has(n)&&T.push({id:t,keyIndex:n})})),T.push({id:o.DEFAULT_DEVICE_ID,keyIndex:0});const m={id:(0,l.createDeviceListPK)(e),rawId:p,timestamp:g,validIndexes:Array.from(h),devices:T,currentIndex:_.currentIndex,deleted:!1},I=(0,s.computeExpectedTsForDeviceRecord)(f,m,d);return m.expectedTs=I.expectedTs,m.expectedTsLastDeviceJobTs=I.expectedTsLastDeviceJobTs,m.expectedTsUpdateTs=I.expectedTsUpdateTs,{update:m,clearRecord:E}},t.handleDeviceRemoveNotification=function(e,t,n){if(null==n||n.deleted)return null;if(t<n.timestamp)return null;const r=new Map(e.map((e=>[e.id,e.keyIndex]))),a=n.devices.filter((e=>{if(e.id!==o.DEFAULT_DEVICE_ID){const t=r.get(e.id);return null==t||t!==e.keyIndex}return!1}));return a.push({id:o.DEFAULT_DEVICE_ID,keyIndex:0}),{update:(0,i.default)((0,i.default)({},n),{},{devices:a}),clearRecord:!1}};var i=r(n(81109)),o=n(44037),a=n(22101),s=n(15131),l=n(53098),c=n(98897)},98897:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSignedKeyIndexBytes=function(e,t){let n,a;try{n=(0,o.decodeProtobuf)(i.ADVSignedKeyIndexListSpec,t)}catch(e){return null}if(!(0,r.verifyKeyIndexListAccountSignature)(n,e))return null;try{a=(0,o.decodeProtobuf)(i.ADVKeyIndexListSpec,n.details)}catch(e){return null}const{timestamp:s,rawId:l,validIndexes:c,currentIndex:u}=a;if(null==s)return null;if(null==l)return null;return{timestamp:s,rawId:l,validIndexes:c,currentIndex:u}};var r=n(47648),i=n(59266),o=n(33655)},21684:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleADVSyncResult=function(e,t,n,r,o){const{deviceList:l,keyIndex:c}=t;if(null==c||null==c.signedKeyIndexBytes)return null!=l&&l.some((e=>e.id!==i.DEFAULT_DEVICE_ID))?void __LOG__(2)`processADVSyncResult: drop response with companion device but no keyIndexbytes`:(0,s.handleOmittedResult)(null==c?void 0:c.ts,r,null==c?void 0:c.expectedTs,o);const{ts:u,expectedTs:d,signedKeyIndexBytes:_}=c;return(0,a.handleKeyIndexResult)(e,l,u,_,n,r,o,d)},t.handleDeviceNotification=function(e,t,n,r,i,a){const{deviceList:s,keyIndex:c}=n;(0,l.default)(null!=s,`handleDeviceNotification: device list should not be none for device ${t} notification`),(0,l.default)(null!=c,`handleDeviceNotification: keyIndex should not be none for device ${t} notification`);const{ts:u,signedKeyIndexBytes:d}=c;if("add"===t)return(0,l.default)(null!=d,`handleDeviceNotification: signedKeyIndexBytes should not be none for device ${t} notification`),(0,o.handleDeviceAddNotification)(e,s,u,d,r,i,a);if("remove"===t)return(0,o.handleDeviceRemoveNotification)(s,c.ts,i)};var i=n(44037),o=n(60614),a=n(81201),s=n(88029),l=r(n(41143))},81201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleKeyIndexResult=function(e,t,n,l,c,u,d,_){if(null!=(null==u?void 0:u.timestamp)&&n<u.timestamp)return null;if(null==c)return null;const p=(0,s.decodeSignedKeyIndexBytes)(c,l);if(!p)return null;const f=p.rawId,E=(0,i.numberOrThrowIfTooLarge)(p.timestamp);if(E!==n)return null;let A=!1,g=null,h=t;u&&!u.deleted&&(null==h&&(h=u.devices),u.rawId!==f?A=!0:g=u.devices);const S=new Map,T=new Set(p.validIndexes),m=p.currentIndex||0;h&&h.forEach((e=>{null!=e.keyIndex&&T.has(e.keyIndex)&&S.set(e.id,e.keyIndex)}));null!=g&&g.forEach((e=>{e.keyIndex>m&&S.set(e.id,e.keyIndex)}));S.set(r.DEFAULT_DEVICE_ID,0);const I=Array.from(S.entries()).map((e=>{let[t,n]=e;return{id:t,keyIndex:n}})),y={id:(0,a.createDeviceListPK)(e),rawId:f,timestamp:E,validIndexes:Array.from(T),devices:I,currentIndex:p.currentIndex,deleted:!1};A||(0,o.shouldClearExpectedTs)(E,_,u,d)||u&&!u.deleted&&(y.expectedTs=u.expectedTs,y.expectedTsLastDeviceJobTs=u.expectedTsLastDeviceJobTs,y.expectedTsUpdateTs=u.expectedTsUpdateTs);return{update:y,clearRecord:A}};var r=n(44037),i=n(22101),o=n(15131),a=n(53098),s=n(98897)},88029:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleOmittedResult=function(e,t,n,r){if(!t||t.deleted)return null;if(null!=e&&e<t.timestamp)return null;const s=(0,i.default)({},t);null!=e&&(s.timestamp=e,(0,a.shouldClearExpectedTs)(e,n,t,r)&&(s.expectedTs=void 0,s.expectedTsLastDeviceJobTs=void 0,s.expectedTsUpdateTs=void 0));return s.devices=[{id:o.DEFAULT_DEVICE_ID,keyIndex:0}],{update:s,clearRecord:!1}};var i=r(n(81109)),o=n(44037),a=n(15131)},96536:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setArchive=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(94007),s=n(51017);function l(){return(l=(0,i.default)((function*(e){yield(0,a.getChatTable)().bulkCreateOrMerge(e);const t=e.map((e=>({id:(0,s.createWid)(e.id),archive:e.archive})));(0,o.frontendFireAndForget)("chatCollectionUpdate",{updates:t})}))).apply(this,arguments)}},48901:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new class{constructor(){this.chatEphemeralExemptionMap=new Map}has(e){return this.chatEphemeralExemptionMap.has(e)}get(e){var t;return null!==(t=this.chatEphemeralExemptionMap.get(e))&&void 0!==t?t:null}add(e,t){this.chatEphemeralExemptionMap.set(e,t)}clear(){this.chatEphemeralExemptionMap.clear()}};t.default=n},35182:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getChatEphemeralExemptionDataFromChat=function(){return l.apply(this,arguments)},t.persistsEphemeralDisplayedExemptions=function(e,t,n){const r=e.toString();o.default.add(r,{id:r,ephemeralDuration:t,ephemeralDisplayedExemptions:n}),(0,a.updateChatTable)(e,{ephemeralDisplayedExemptions:n}).catch((()=>{}))},t.updateEphemeralDurationCache=function(e,t){var n;const r=e.toString(),i=o.default.get(r),a={id:r,ephemeralDuration:t,ephemeralDisplayedExemptions:null!==(n=null==i?void 0:i.ephemeralDisplayedExemptions)&&void 0!==n?n:null};o.default.add(r,a)};var i=r(n(48926)),o=r(n(48901)),a=n(31125),s=n(94007);function l(){return(l=(0,i.default)((function*(e){const t=e.toString();if(o.default.has(t))return o.default.get(t);const n=yield(0,s.getChatTable)().get(e.toString(),!1),r=null==n?null:{id:t,ephemeralDuration:null==n?void 0:n.ephemeralDuration,ephemeralDisplayedExemptions:null==n?void 0:n.ephemeralDisplayedExemptions};return o.default.add(t,r),r}))).apply(this,arguments)}},81790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_ALERT_TYPE=void 0;const r=n(76672)({LOW_QUOTA_EXCEEDED:"low_quota_exceed",HIGH_QUOTA_EXCEEDED:"high_quota_exceed",NO_ALERT:"no_alert"});t.STORAGE_ALERT_TYPE=r},58849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP_PARTICIPANT_TYPES=void 0;t.GROUP_PARTICIPANT_TYPES={superadmin:"superadmin",admin:"admin",participant:"participant"}},90425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMembershipApprovalRequests=function(e){let{group:t,requests:n,isOffline:i}=e;return(0,r.removeMembershipApprovalRequests)(t,n,i)};var r=n(42417)},78440:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(){return h.apply(this,arguments)},t.bulkCheckMyMembership=function(){return O.apply(this,arguments)},t.bulkGetParticipants=I,t.checkMyMembership=function(){return v.apply(this,arguments)},t.demoteCommmunityParticipants=function(e){let{group:t,participants:n,isOffline:r}=e;return(0,s.updateCommunityParticipants)(t,{action:l.PARTICIPANT_OPERATION.LINKED_GROUP_DEMOTE,participants:n},r)},t.demoteParticipants=function(e){let{group:t,participants:n,version:r,prevVersion:i,groupMetadata:o,isOffline:a}=e;if(null==r)return Promise.reject((0,A.default)("demoteParticipants: incoming change missing version id"));return(0,s.updateDBParticipants)(t,{action:l.PARTICIPANT_OPERATION.DEMOTE,participants:n,version:r,prevVersion:i},o,a)},t.getParticipants=y,t.promoteCommmunityParticipants=function(e){let{group:t,participants:n,isOffline:r}=e;return(0,s.updateCommunityParticipants)(t,{action:l.PARTICIPANT_OPERATION.LINKED_GROUP_PROMOTE,participants:n},r)},t.promoteParticipants=function(){return S.apply(this,arguments)},t.removeParticipants=function(e){let{group:t,participants:n,timestamp:r,author:i,version:o,prevVersion:a,reason:c,groupMetadata:u,isOffline:d}=e;if(null==o)return Promise.reject((0,A.default)("removeParticipants: incoming change missing version id"));return(0,s.updateDBParticipants)(t,{action:l.PARTICIPANT_OPERATION.REMOVE,participants:n,timestamp:r,author:i,version:o,prevVersion:a,reason:c},u,d)},t.updateParticipants=function(){return g.apply(this,arguments)};var i=r(n(48926)),o=n(83741),a=n(87167),s=n(2505),l=n(88470),c=n(98051),u=n(75968),d=n(39972),_=n(35872),p=n(23440),f=n(3885),E=n(51017),A=r(n(89482));function g(){return(g=(0,i.default)((function*(e){let{group:t,participants:n,version:r,isOffline:i,groupInfo:o,skipDeviceSync:a=!1}=e;const l=[];n.forEach((e=>{e.isAdmin&&l.push(e.id)}));const c=(0,f.getMaybeMeUser)(),u=l.some((e=>c&&c.equals(e)));let _=!1;null!=o&&(_=Boolean(o.incognito)&&Boolean(o.defaultSubgroup));const p=_?(0,d.augmentedCagGroupParticipantList)(u,n):n.map((e=>{let{id:t}=e;return t}));let E;return E=a?p:yield T(p,i),(0,s.replaceParticipants)({group:t,participants:n,admins:l,deviceIds:E,groupInfo:o,version:r})}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){let{group:t,participants:n,version:r,prevVersion:i,isOffline:a,reason:u}=e;if(null==r)throw(0,A.default)("addParticipants: incoming change missing version id");let g=!1;const h=t.toString();let S=!1,m=[];const I=(0,f.assertGetMeUser)(),y=yield(0,_.getGroupMetadataTable)().get(h);if(null==y)throw(0,A.default)("addParticipants: groupMetadataRecord is null");const C=!0===y.isLidAddressingMode,v=n.some((e=>e.id.isLid()));if(v||(0,o.getABPropConfigValue)("cag_reactions_receive")){const e=yield(0,p.getParticipantTable)().get(h);if(null!=e&&(g=Boolean(y.incognito)&&Boolean(y.defaultSubgroup),m=e.admins.map((e=>(0,E.createWid)(e))),S=m.some((e=>I&&I.equals(e)))||u===c.ADD_REASON.DEFAULT_SUBGROUP_PROMOTE),v&&!g&&!C)return}let O=n.map((e=>{let{id:t}=e;return t}));g&&(O=u===c.ADD_REASON.DEFAULT_SUBGROUP_PROMOTE?[...m,...O,I]:(0,d.augmentedCagGroupParticipantList)(S,n));const P=yield T(O,a);return(0,s.updateDBParticipants)(t,{action:l.PARTICIPANT_OPERATION.ADD,participants:n,deviceIds:P,version:r,prevVersion:i},y,a)}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){let{group:t,participants:n,version:r,prevVersion:i,groupMetadata:o,isOffline:a}=e;if(null==r)return Promise.reject((0,A.default)("promoteParticipants: incoming change missing version id"));let c=!1;const u=t.toString();let d=[];const _=(0,f.assertGetMeUser)();let g;if(n.some((e=>_.equals(e.id)))){const e=yield(0,p.getParticipantTable)().get(u);null!=e&&(c=Boolean(o.incognito)&&Boolean(o.defaultSubgroup),c&&(d=e.admins.map((e=>(0,E.createWid)(e))),g=yield T([...d,_],a)))}return(0,s.updateDBParticipants)(t,{action:l.PARTICIPANT_OPERATION.PROMOTE,participants:n,deviceIds:g,version:r,prevVersion:i},o,a)}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(t)return e.forEach((e=>{u.OfflinePendingDeviceCache.addOfflinePendingDevice(String(e))})),e;n=yield(0,a.syncAndGetDeviceList)(e);let r=[];return n.forEach(((t,n)=>{if(t){const{id:e,devices:n}=t;r=r.concat(n.map((t=>(0,E.createDeviceWidFromDeviceListPk)(e,t))))}else r.push(e[n])})),r}))).apply(this,arguments)}function I(e){return(0,p.getParticipantTable)().bulkGet(e.map((e=>e.toString())))}function y(e){return(0,p.getParticipantTable)().get(e.toString())}function C(e){const t=null==e?void 0:e.participants;if(null==t)return!1;const n=(0,f.getMaybeMeUser)();if(null!=n&&t.includes(n.toString()))return!0;const r=(0,f.getMaybeMeLidUser)();return!(null==r||!t.includes(r.toString()))}function v(){return(v=(0,i.default)((function*(e){return C(yield y(e))}))).apply(this,arguments)}function O(){return(O=(0,i.default)((function*(e){return(yield I(e)).map(C)}))).apply(this,arguments)}},22296:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.extractDescription=g,t.extractLinkedParent=h,t.parseGroupNode=S,t.parseGroupSmax=function(e){var t,n,r,i,a;const{creator:l,creation:c,id:u,hasLocked:d,hasAnnouncement:_,hasNoFrequentlyForwarded:g,pVId:h,hasSupport:S,hasSuspended:T,parent:m,hasDefaultSubGroup:I,hasIncognito:y,membershipApprovalMode:C,membershipApprovalRequest:v,hasAllowAdminReports:O,ephemeral:P,growthLocked:N,linkedParent:b,description:M,descriptionGroupInfoDescriptionMixin:R,namedSubjectOrUnnamedSubjectFallbackMixinGroup:D,participant:L,sT:w,size:B,groupMemberAddModeMixin:U}=e,G=(Y=L,Y.map((e=>{if("GroupInfoParticipantAdmin"===e.groupInfoParticipantMixins.name){const{type:t,groupInfoParticipantAdminMixins:n}=e.groupInfoParticipantMixins.value,r="admin"===t||"superadmin"===t,i="superadmin"===t;return"ParticipantWithJid"===n.name||"ParticipantWithJidAndPn"===n.name?{isAdmin:r,isSuperAdmin:i,id:(0,p.userJidToUserWid)(n.value.jid),displayName:null,lid:null}:"ParticipantWithJidAndLid"===n.name?{isAdmin:r,isSuperAdmin:i,id:(0,p.userJidToUserWid)(n.value.jid),lid:(0,p.userJidToUserWid)(n.value.lid),displayName:null}:(n.name,{isAdmin:r,isSuperAdmin:i,id:(0,p.userJidToUserWid)(n.value.jid),lid:(0,p.userJidToUserWid)(n.value.lid),displayName:n.value.displayName})}e.groupInfoParticipantMixins.name;const t=e.groupInfoParticipantMixins.value.participantMixins;return"ParticipantWithJid"===t.name||"ParticipantWithJidAndPn"===t.name?{isAdmin:!1,isSuperAdmin:!1,id:(0,p.userJidToUserWid)(t.value.jid),displayName:null,lid:null}:"ParticipantWithJidAndLid"===t.name?{isAdmin:!1,isSuperAdmin:!1,id:(0,p.userJidToUserWid)(t.value.jid),lid:(0,p.userJidToUserWid)(t.value.lid),displayName:null}:"ParticipantWithJidContainingLidAndDisplayName"===t.name?{isAdmin:!1,isSuperAdmin:!1,id:(0,p.userJidToUserWid)(t.value.jid),displayName:t.value.displayName,lid:null}:(t.name,{isAdmin:!1,isSuperAdmin:!1,id:(0,p.userJidToUserWid)(t.value.jid),lid:(0,p.userJidToUserWid)(t.value.lid),displayName:t.value.displayName})}))),k=D.value.subject;var Y;if(null==k)throw(0,A.default)("parseGroupSmax: invalid group subject");const F=null!==(t=null==C||null===(n=C.membershipApprovalGroupJoinModeEnabledMixin)||void 0===n?void 0:n.state)&&void 0!==t?t:null==C?void 0:C.state,K=f.MEMBER_ADD_MODE.cast(null==U||null===(r=U.memberAddModeAdminOrAllMembersOrUnknownAddModeMixinGroup)||void 0===r?void 0:r.value.elementValue),x=null!==(i=null==M?void 0:M.groupInfoDescriptionMixin)&&void 0!==i?i:R;return(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({id:(0,E.createWid)(`${u}@g.us`),owner:null!=l?(0,p.userJidToUserWid)(l):void 0,creation:c,restrict:Boolean(d),announce:Boolean(_),noFrequentlyForwarded:Boolean(g),pvId:null!=h?Number(h):void 0,support:S,suspended:T,isParentGroup:null!=m,numSubgroups:null==m?void 0:m.numSubGroups,participants:G,isParentGroupClosed:"request_required"===(null==m||null===(a=m.parentGroupDefaultMembershipApprovalModeMixin)||void 0===a?void 0:a.defaultMembershipApprovalMode),defaultSubgroup:I,incognito:y,membershipApprovalMode:"on"===F,reportToAdminMode:O,membershipApprovalRequest:v,memberAddMode:K},x&&function(e){if(!e)return null;const{bodyElementValue:t,id:n,participant:r,t:i}=e;return{desc:t,descId:n,descOwner:null!=r?(0,p.userJidToUserWid)(r):void 0,descTime:(0,s.castToUnixTime)(i)}}(x)),P&&function(e){if(!e)return null;const{expiration:t}=e;return{ephemeralDuration:t}}(P)),function(e){if(null==e)return null;const{expiration:t,type:n}=e;return{growthLockExpiration:t,growthLockType:n}}(N)),function(e){if(null==e)return null;return{parentGroup:(0,p.groupJidToWid)(e.jid),parentGroupSubject:e.subject}}(b)),{},{subject:k,subjectTime:w,size:B})},t.queryGroup=function(){return m.apply(this,arguments)};var i=r(n(48926)),o=r(n(81109)),a=n(19026),s=n(29987),l=n(80780),c=n(8748),u=n(91563),d=n(11439),_=n(58849),p=n(15610),f=n(35872),E=n(51017),A=r(n(89482));function g(e){if(e.hasChild("description")){const t=e.child("description");if(t.hasChild("body")){const e=t.child("body");if(e.hasContent()){const n={desc:e.contentString(),descId:t.attrString("id")};return t.hasAttr("participant")&&(n.descOwner=(0,p.userJidToUserWid)(t.attrUserJid("participant"))),t.hasAttr("t")&&(n.descTime=t.attrTime("t")),n}}}return null}function h(e){const t=e.maybeChild("linked_parent"),n=null==t?void 0:t.maybeAttrGroupJid("jid");return null==n?null:{parentGroup:(0,p.groupJidToWid)(n),parentGroupSubject:null==t?void 0:t.maybeAttrString("subject")}}function S(e){var t,n,r,i,a,s,l,c,u;const d=g(e),S=function(e){const t={subject:e.attrString("subject")};return e.hasAttr("s_o")&&(t.subjectOwner=(0,p.userJidToUserWid)(e.attrUserJid("s_o"))),e.hasAttr("s_t")&&(t.subjectTime=e.attrTime("s_t")),t}(e),T=function(e){if(e.hasChild("ephemeral")){const t=e.child("ephemeral");if(t.hasAttr("expiration"))return{ephemeralDuration:t.attrInt("expiration")}}return null}(e),m=function(e){const t=e.maybeChild("growth_locked"),n=null==t?void 0:t.maybeAttrInt("expiration"),r=null==t?void 0:t.maybeAttrString("type");return null==n||null==r?null:{growthLockExpiration:n,growthLockType:r}}(e),I=h(e);let y,C;try{y=(0,E.createWid)(`${e.attrString("id")}@g.us`)}catch(e){}if(!(null===(t=y)||void 0===t?void 0:t.isGroup))throw(0,A.default)("createGroupReplyParser: invalid group id");e.hasChild("member_add_mode")&&(C=f.MEMBER_ADD_MODE.cast(e.child("member_add_mode").contentString()));const v=e.mapChildrenWithTag("participant",(e=>{const t=e.attrEnumOrDefault("type",_.GROUP_PARTICIPANT_TYPES,_.GROUP_PARTICIPANT_TYPES.participant),n=e.maybeAttrLidUserJid("lid"),r=e.maybeAttrPhoneUserJid("phone_number");return{displayName:e.maybeAttrString("display_name"),id:(0,p.userJidToUserWid)(e.attrUserJid("jid")),isSuperAdmin:t===_.GROUP_PARTICIPANT_TYPES.superadmin,isAdmin:t===_.GROUP_PARTICIPANT_TYPES.admin||t===_.GROUP_PARTICIPANT_TYPES.superadmin,lid:null!=n?(0,p.userJidToUserWid)(n):null,phoneNumber:null!=r?(0,p.userJidToUserWid)(r):null}})),O=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({id:y,owner:e.hasAttr("creator")?(0,p.userJidToUserWid)(e.attrUserJid("creator")):void 0,creation:e.attrTime("creation"),restrict:e.hasChild("locked"),announce:e.hasChild("announcement"),noFrequentlyForwarded:e.hasChild("no_frequently_forwarded"),participants:v,pvId:e.hasAttr("p_v_id")?e.attrInt("p_v_id"):void 0,support:e.hasChild("support"),size:e.hasAttr("size")?e.attrInt("size"):void 0,suspended:e.hasChild("suspended"),isParentGroup:null!==(n=e.hasChild("parent"))&&void 0!==n?n:void 0,isParentGroupClosed:"request_required"===(null===(r=e.maybeChild("parent"))||void 0===r?void 0:r.maybeAttrString("default_membership_approval_mode")),numSubgroups:null!==(i=null===(a=e.maybeChild("parent"))||void 0===a?void 0:a.maybeAttrInt("num_sub_groups"))&&void 0!==i?i:0,defaultSubgroup:null!==(s=e.hasChild("default_sub_group"))&&void 0!==s?s:void 0,generalSubgroup:null!==(l=e.hasChild("general_chat"))&&void 0!==l?l:void 0,incognito:e.hasChild("incognito"),isLidAddressingMode:!!e.maybeAttrString("addressing_mode")&&"lid"===e.attrString("addressing_mode"),membershipApprovalMode:"on"===(null==e||null===(c=e.maybeChild("membership_approval_mode"))||void 0===c||null===(u=c.maybeChild("group_join"))||void 0===u?void 0:u.maybeAttrString("state")),memberAddMode:C,membershipApprovalRequest:e.hasChild("membership_approval_request"),reportToAdminMode:e.hasChild("allow_admin_reports"),allowNonAdminSubGroupCreation:e.hasChild("allow_non_admin_sub_group_creation")},d),T),m),S),I),P=O.defaultSubgroup&&O.incognito,N=O.isLidAddressingMode;return!1===P&&!1===N&&(O.participants=O.participants.filter((e=>{let{id:t}=e;return!t.isLid()}))),O}const T=new c.WapParser("queryGroupParser",(e=>e.hasChild("group")?S(e.child("group")):{phashMatch:!0}));function m(){return(m=(0,i.default)((function*(e){const{groupWid:t,request:n,phash:r}=e,i=(0,l.wap)("iq",{to:(0,d.GROUP_JID)(t),type:"get",xmlns:"w:g2",id:(0,l.generateId)()},(0,l.wap)("query",{request:n||l.DROP_ATTR,phash:(0,l.MAYBE_CUSTOM_STRING)(r)})),o=yield(0,a.deprecatedSendIq)(i,T);if(!o.success)throw __LOG__(2)`queryGroup failed: ${o.errorCode}:${o.errorType}`,new u.ServerStatusCodeError(o.errorCode,o.errorText);return o.result}))).apply(this,arguments)}},70079:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.databaseUpdatesForDeactivateCommunity=function(){return I.apply(this,arguments)},t.databaseUpdatesForExitedCommunity=function(){return y.apply(this,arguments)},t.databaseUpdatesForIntegrityDeactivateCommunity=function(){return T.apply(this,arguments)},t.databaseUpdatesForSubgroupUnlink=p,t.partitionSubgroups=S;var i=r(n(48926)),o=n(79247),a=n(22582),s=n(78440),l=n(20383),c=n(94007),u=n(35872),d=n(3885),_=n(51017);function p(e,t){return function(){return A.apply(this,arguments)}(e,t,!1)}function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e,t,n){const[r,i]=yield Promise.all([(0,o.getJoinedSubgroupsMetadata)((0,_.createWid)(e.id)).then((e=>e.filter((e=>!(0,_.createWid)(e.id).equals(t))))),(0,o.getUnjoinedSubgroupsMetadata)((0,_.createWid)(e.id))]);return p(n,r.concat(i).map((e=>{let{id:t,subject:n}=e;return{id:(0,_.createWid)(t),subject:n}})))}))).apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e,t,n){t.forEach((t=>{t.parentGroupId=n?e:void 0}));const{joinedSubgroups:r,unjoinedSubgroups:i}=S(t,yield g(t.map((e=>e.id))));return[...r.map((t=>(0,a.persistGroupMetadata)(t.id,{parentGroup:n?e.toString():void 0}))),(0,l.updateUnjoinedSubgroupsJob)(i,e,n)]}))).apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){const t=new Map((yield(0,s.bulkGetParticipants)(e)).filter(Boolean).map((e=>[e.groupId,e.participants]))),n=(0,d.assertGetMeUser)().toString();return e=>{var r,i;return null!==(r=null===(i=t.get(e.toString()))||void 0===i?void 0:i.includes(n))&&void 0!==r&&r}}))).apply(this,arguments)}function S(e,t){return e.reduce(((e,n)=>(t(n.id)?e.joinedSubgroups=e.joinedSubgroups.concat(n):e.unjoinedSubgroups=e.unjoinedSubgroups.concat(n),e)),{joinedSubgroups:[],unjoinedSubgroups:[]})}function T(){return(T=(0,i.default)((function*(e,t){const n=[],r=yield(0,a.getGroupMetadata)(e);if(!0!==(null==r?void 0:r.isParentGroup))return n;const i={suspended:!0,terminated:!0};n.push((0,a.persistGroupMetadata)(e,i,t));const l=yield(0,o.getDefaultSubgroup)(e);null!=l&&(yield(0,s.checkMyMembership)(l))&&n.push((0,a.persistGroupMetadata)(l,i,t));const c=yield f(r,l,e);return n.push(...c),n}))).apply(this,arguments)}function m(e){const t=[];return t.push((0,u.getGroupMetadataTable)().remove(e.toString())),t.push((0,c.getChatTable)().remove(e.toString())),t}function I(){return(I=(0,i.default)((function*(e,t){const n=[],r=yield(0,a.getGroupMetadata)(e);if(null==r||!0!==r.isParentGroup)return n;const i=yield(0,o.getDefaultSubgroup)(e);null!=i&&(yield(0,s.checkMyMembership)(i))&&n.push((0,a.persistGroupMetadata)(i,{terminated:!0,parentGroup:void 0},t));const l=yield f(r,i,e);return n.push(...l),n.push(...m(e)),n}))).apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e){const t=[];if(!e)return t;const n=yield(0,a.getGroupMetadata)(e);if(!n||!0!==n.isParentGroup)return t;const r=yield(0,o.getDefaultSubgroup)(e),i=null==r?[]:yield f(n,r,e);return t.push(...i),t.push(...m(e)),t}))).apply(this,arguments)}},27176:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.updateDBForGroupAction=function(){return L.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(81408),s=r(n(49619)),l=n(29987),c=n(83741),u=n(60585),d=n(64002),_=n(7429),p=n(1619),f=n(18106),E=n(79247),A=n(505),g=n(22582),h=n(88470),S=n(51458),T=n(94645),m=n(22356),I=n(92143),y=n(81532),C=n(98051),v=n(46206),O=n(74522),P=n(16123),N=n(90894),b=n(70079),M=n(97023),R=n(3885),D=n(51017);function L(){return(L=(0,o.default)((function*(e,t){var n,r;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];__LOG__(2,void 0,void 0,void 0,["groups"])`inside _handleGroupActionMD`;const{chatId:p,author:y,pushname:L,ts:B=Date.now()/1e3}=e;y&&L&&(0,v.updatePushname)(y,L,o);const G=[];switch(t.actionType){case C.GROUP_ACTIONS.ADD:G.push((0,I.addParticipantsJob)(p,t.participants,t.version,t.prevVersion,o,t.reason).catch((0,a.filteredCatch)(h.GroupUnSyncedError,(()=>{__LOG__(3)`addParticipants: out-of-sync group notification`,U(p,o)})))),(0,c.getABPropConfigValue)("group_join_request_m2")&&G.push((0,m.removeMembershipApprovalRequestsJob)(e.chatId,t.participants.map((e=>e.id)),o));break;case C.GROUP_ACTIONS.REMOVE:{const n=yield(0,g.getGroupMetadata)(p);if(null==n)break;const r=t.reason!==C.REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE&&t.participants.some((e=>{let{id:t}=e;return(0,R.isMeAccount)(t)}))&&(0,E.isLastJoinedSubgroup)(n);G.push((0,I.removeParticipantsJob)(p,t.participants,B,e.author,t.version,t.prevVersion,t.reason,n,o).catch((0,a.filteredCatch)(h.GroupUnSyncedError,(()=>{__LOG__(3)`removeParticipants: out-of-sync group notification`,U(p,o)}))));const i=(0,R.getMaybeMeUser)();if(i&&t.participants.find((e=>{let{id:t}=e;return t.equals(i)}))&&((0,M.removeUserSentMessageToChat)(p),(0,d.setAdminshipCache)(p.toString(),!1)),r){const e=null==n?void 0:n.parentGroup,t=yield(0,b.databaseUpdatesForExitedCommunity)(null!=e?(0,D.createWid)(e):null);G.push(...t)}break}case C.GROUP_ACTIONS.DEMOTE:{const e=yield(0,g.getGroupMetadata)(p);if(null==e)break;const n=(0,R.getMaybeMeUser)();n&&t.participants.find((e=>{let{id:t}=e;return t.equals(n)}))&&((0,d.setAdminshipCache)(p.toString(),!1),(0,c.getABPropConfigValue)("group_join_request_m2")&&G.push((0,u.removeAllMembershipApprovalRequests)(p)),yield w(e,p)),G.push((0,I.demoteParticipantsJob)(p,t.participants,t.version,t.prevVersion,e,o).catch((0,a.filteredCatch)(h.GroupUnSyncedError,(()=>{__LOG__(3)`removeParticipants: out-of-sync group notification`,U(p,o)}))));break}case C.GROUP_ACTIONS.PROMOTE:{const e=yield(0,g.getGroupMetadata)(p);if(null==e)break;const n=(0,R.getMaybeMeUser)();if(n&&t.participants.find((e=>{let{id:t}=e;return t.equals(n)}))){if((0,f.communityAdminPromotionOneTimePromptEnabled)()&&null!=e&&(0,C.getGroupTypeFromGroupMetadata)(e)===C.GroupType.COMMUNITY){const t=(0,O.getCommunityAdminPromotionNuxKey)(e.id.toString());(0,P.resetNux)(t)}(0,d.setAdminshipCache)(p.toString(),!0),yield w(e,p)}G.push((0,I.promoteParticipantsJob)(p,t.participants,t.version,t.prevVersion,e,o).catch((0,a.filteredCatch)(h.GroupUnSyncedError,(()=>{__LOG__(3)`removeParticipants: out-of-sync group notification`,U(p,o)}))));break}case C.GROUP_ACTIONS.LINKED_GROUP_PROMOTE:{if(!t.jid)break;const e=t.jid;(yield(0,d.isCurrentUserGroupAdmin)(e.toString()))||G.push((0,I.promoteCommunityParticipantsJob)(e,t.participants,o).catch((0,a.filteredCatch)(h.GroupUnSyncedError,(()=>{__LOG__(3)`linkedGroupPromote: out-of-sync group notification`,U(e,o)}))));break}case C.GROUP_ACTIONS.LINKED_GROUP_DEMOTE:{if(!t.jid)break;const e=t.jid;(yield(0,d.isCurrentUserGroupAdmin)(e.toString()))||G.push((0,I.demoteCommunityParticipantsJob)(e,t.participants,o).catch((0,a.filteredCatch)(h.GroupUnSyncedError,(()=>{__LOG__(3)`linkedGroupDemote: out-of-sync group notification`,U(e,o)}))));break}case C.GROUP_ACTIONS.REVOKE_INVITE:{var k;const e=null===(k=(0,R.getMaybeMeUser)())||void 0===k?void 0:k.toString();if(!e)return void __LOG__(3)`getMaybeMeUser returned null, can't process action ${t}`;const n=null==y?void 0:y.toString();let r=[];if(null==n)return void __LOG__(3)`Received revoke without an admin jid ${t}`;if(n===e)r=t.participants.map((t=>({from:e,to:t.id.toString(),groupId:p.toString(),expiration:t.expiration})));else{const i=t.participants.find((t=>t.id.toString()===e));if(!i)return __LOG__(4,void 0,new Error,!0)`Received group invite revokation from ${n}, but user not in participants list`,void SEND_LOGS("bad-revoke");r=[{from:n,to:e,groupId:p.toString(),expiration:i.expiration}]}yield Promise.all(r.map((e=>(0,S.revokeGroupInviteV4)(e.from,e.to,e.groupId,e.expiration))));break}case C.GROUP_ACTIONS.MODIFY:if(1!==t.participants.length){__LOG__(3)`_handleGroupActionMD: participants length should be 1, but is ${t.participants.length}`;break}G.push((0,T.modifyGroupParticipantJob)(p,(0,s.default)(y,"author"),t.participants[0].id,null!==(n=t.prevVersion)&&void 0!==n?n:-1,null!==(r=t.version)&&void 0!==r?r:-1).catch((0,a.filteredCatch)(h.GroupUnSyncedError,(()=>{__LOG__(3)`modifyGroupParticipant: out-of-sync group notification`,U(p,o)}))));break;case C.GROUP_ACTIONS.SUBJECT:G.push((0,g.persistGroupMetadata)(p,{subject:t.subject},o));break;case C.GROUP_ACTIONS.DESC_ADD:G.push((0,g.persistGroupMetadata)(p,{desc:t.desc,descId:t.descId,descTime:t.descTime,descOwner:null==y?void 0:y.toString()},o));break;case C.GROUP_ACTIONS.DESC_REMOVE:G.push((0,g.persistGroupMetadata)(p,{desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0},o));break;case C.GROUP_ACTIONS.RESTRICT:G.push((0,g.persistGroupMetadata)(p,{restrict:!!t.value},o));break;case C.GROUP_ACTIONS.SUSPEND:G.push((0,g.persistGroupMetadata)(p,{suspended:!!t.value},o));break;case C.GROUP_ACTIONS.ANNOUNCE:G.push((0,g.persistGroupMetadata)(p,{announce:!!t.value},o));break;case C.GROUP_ACTIONS.NO_FORWARD:G.push((0,g.persistGroupMetadata)(p,{noFrequentlyForwarded:!!t.value},o));break;case C.GROUP_ACTIONS.EPHEMERAL:G.push((0,g.persistGroupMetadata)(p,{ephemeralDuration:t.duration},o));break;case C.GROUP_ACTIONS.INVITE_CODE:case C.GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK:break;case C.GROUP_ACTIONS.DELETE:if(t.reason===C.DELETE_REASON.INTEGRITY_DELETE_PARENT){const e=yield(0,b.databaseUpdatesForIntegrityDeactivateCommunity)(p,o);G.push(...e)}else if(t.reason===C.DELETE_REASON.DELETE_PARENT){const e=yield(0,b.databaseUpdatesForDeactivateCommunity)(p,o);G.push(...e)}else G.push((0,g.persistGroupMetadata)(p,{terminated:!0},o));break;case C.GROUP_ACTIONS.GROWTH_UNLOCKED:G.push((0,g.persistGroupMetadata)(p,{growthLockExpiration:void 0,growthLockType:void 0},o));break;case C.GROUP_ACTIONS.GROWTH_LOCKED:"invite"===t.type&&G.push((0,g.persistGroupMetadata)(p,{growthLockExpiration:t.expiration,growthLockType:t.type},o));break;case C.GROUP_ACTIONS.PARENT_GROUP_LINK:{const e=t.groupDatas[0].id;G.push((0,g.persistGroupMetadata)(p,{parentGroup:e.toString()},o));break}case C.GROUP_ACTIONS.SUB_GROUP_LINK:G.push((0,E.persistCommunityLink)(p,t.groupDatas,A.CommunityLinkOperation.SubGroupLink,o),(0,g.persistGroupMetadata)(p,{lastActivityTimestamp:(0,l.unixTime)()},o));break;case C.GROUP_ACTIONS.SIBLING_GROUP_LINK:G.push((0,E.persistCommunityLink)(p,t.groupDatas,A.CommunityLinkOperation.SiblingGroupLink,o));break;case C.GROUP_ACTIONS.PARENT_GROUP_UNLINK:G.push((0,g.persistGroupMetadata)(p,{parentGroup:void 0},o));break;case C.GROUP_ACTIONS.SUB_GROUP_UNLINK:G.push((0,E.persistCommunityLink)(p,t.groupDatas,A.CommunityLinkOperation.SubGroupUnlink,o));break;case C.GROUP_ACTIONS.SIBLING_GROUP_UNLINK:G.push((0,E.persistCommunityLink)(p,t.groupDatas,A.CommunityLinkOperation.SiblingGroupUnlink,o));break;case C.GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE:(0,c.getABPropConfigValue)("group_join_request_m2")&&(G.push((0,g.persistGroupMetadata)(p,{membershipApprovalMode:t.value},o)),t.value||G.push((0,u.removeAllMembershipApprovalRequests)(p)));break;case C.GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST:if((0,c.getABPropConfigValue)("group_join_request_m2")&&!(0,c.getABPropConfigValue)("group_join_request_m3")){G.push((0,u.addMembershipApprovalRequests)(e.chatId,[{id:(0,s.default)(y,"author"),t:B,addedBy:(0,s.default)(y,"author"),requestMethod:t.requestMethod,parentGroupId:t.parentGroupId}]));const n=(0,O.getMembershipApprovalRequestsBannerNuxKey)(e.chatId.toString());(0,P.resetNux)(n)}break;case C.GROUP_ACTIONS.ALLOW_ADMIN_REPORTS:G.push((0,g.persistGroupMetadata)(p,(0,i.default)({reportToAdminMode:t.value},!t.value&&{lastReportToAdminTimestamp:null}),o));break;case C.GROUP_ACTIONS.ADMIN_REPORT_RECIEVED:G.push((0,g.persistGroupMetadata)(p,{lastReportToAdminTimestamp:t.value},o));break;case C.GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS:if((0,c.getABPropConfigValue)("group_join_request_m2")&&(0,c.getABPropConfigValue)("group_join_request_m3")){G.push((0,u.addMembershipApprovalRequests)(e.chatId,t.requests.map((e=>({id:e,t:B,addedBy:(0,s.default)(y,"author"),requestMethod:t.requestMethod,parentGroupId:t.parentGroupId})))));const n=(0,O.getMembershipApprovalRequestsBannerNuxKey)(e.chatId.toString());(0,P.resetNux)(n)}break;case C.GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS:(0,c.getABPropConfigValue)("group_join_request_m2")&&G.push((0,m.removeMembershipApprovalRequestsJob)(e.chatId,t.requests,o));break;case C.GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:G.push((0,g.persistGroupMetadata)(p,{allowNonAdminSubGroupCreation:!!t.value},o));break;case C.GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION:{G.push((0,_.addSubgroupSuggestions)(e.chatId,[{id:t.id,parentGroupId:t.parentGroupId,subject:t.subject,desc:t.description,owner:t.owner,t:t.t}]));const n=(0,O.getSubgroupSuggestionsBannerNuxKey)(e.chatId.toString());(0,P.resetNux)(n);break}case C.GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS:G.push((0,N.removeSubgroupSuggestionsJob)(t.subgroupSuggestions.map((e=>{let{id:t}=e;return t})),o));break;case C.GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER:G.push((0,_.updateOwnerInSubgroupSuggestions)(t.subgroupSuggestions,t.newOwner));break;case C.GROUP_ACTIONS.MEMBER_ADD_MODE:(0,c.getABPropConfigValue)("web_anyone_can_add_group_setting_enabled")&&G.push((0,g.persistGroupMetadata)(p,{memberAddMode:t.memberAddMode},o));break;default:__LOG__(4,void 0,new Error,void 0,["groups"])`unhandled group notif action in handleGroupActionMD for action ${JSON.stringify(t)}`}yield Promise.all(G),__LOG__(2,void 0,void 0,void 0,["groups"])`finished all storageTasks`}))).apply(this,arguments)}function w(){return B.apply(this,arguments)}function B(){return(B=(0,o.default)((function*(e,t){if(!0===e.isParentGroup&&!0!==e.allowNonAdminSubGroupCreation&&(0,f.memberSuggestedGroupsEnabled)()){const e=yield(0,E.getJoinedSubgroups)(t);e[0]&&(0,p.frontendFireAndForget)("queryAndUpdateSubgroupSuggestions",{id:t,subgroupId:e[0]})}}))).apply(this,arguments)}function U(e,t){return t?(0,T.markGroupParticipantStaleJob)(e):(0,y.sendQueryGroup)(e)}},25566:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return d.apply(this,arguments)};var i=r(n(48926)),o=n(19026),a=n(8748),s=n(66253),l=n(97023),c=r(n(89482));const u=new a.WapParser("failureParser",(e=>(e.assertTag("failure"),{reason:e.attrInt("reason",400,599)})));function d(){return(d=(0,i.default)((function*(e){const t=u.parse(e);if(t.error)return __LOG__(4,void 0,new Error)`${t.error.toString()} parsing ${e.toString()}`,Promise.reject(t.error);switch(t.success.reason){case s.FAILURE_REASON.REASON_TEMP_BANNED:case s.FAILURE_REASON.REASON_LOCKED:case s.FAILURE_REASON.REASON_NOT_AUTHORIZED:case s.FAILURE_REASON.REASON_BANNED:__LOG__(4,void 0,new Error,!0)`received failure stanza, reason: ${t.success.reason}, banned users should not receive push notifications`,SEND_LOGS(`should-not-push-to-banned-users: reason: ${t.success.reason}`),(0,o.stopComms)(),(0,l.setOfflinePushDisabled)(!0);break;case s.FAILURE_REASON.REASON_CLIENT_TOO_OLD:case s.FAILURE_REASON.REASON_BAD_USER_AGENT:__LOG__(2)`Client too old or bad user agent, deferring the update to the next time app reopens`,(0,o.stopComms)(),(0,l.setOfflinePushDisabled)(!0);break;case s.FAILURE_REASON.REASON_GENERIC_FAILURE:case s.FAILURE_REASON.REASON_INTERNAL_SERVER_ERROR:case s.FAILURE_REASON.REASON_EXPERIMENTAL:__LOG__(3)`handleFailure: got failure code ${t.success.reason}`;break;default:return __LOG__(3)`failure reason ${t.success.reason} not implemented yet`,Promise.reject((0,c.default)(`failure reason ${t.success.reason} not implemented yet`))}}))).apply(this,arguments)}},55595:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return d.apply(this,arguments)};var i=r(n(48926)),o=n(8748),a=n(56812),s=n(41581),l=n(1723),c=r(n(41143));const u=new o.WapParser("infoBulletinParser",(e=>{if(e.assertTag("ib"),e.assertFromServer(),e.hasChild(a.INFO_TYPE.ROUTING)){const t=e.child(a.INFO_TYPE.ROUTING);return{type:a.INFO_TYPE.ROUTING,edgeRouting:t.child("routing_info").contentBytes(),domain:t.hasChild("dns_domain")?t.child("dns_domain").contentEnum(s.DOMAINS):null}}return e.hasChild(a.INFO_TYPE.OFFLINE)?{count:e.child(a.INFO_TYPE.OFFLINE).attrInt("count"),type:a.INFO_TYPE.OFFLINE}:e.hasChild(a.INFO_TYPE.OFFLINE_PREVIEW)?{count:{message:e.child(a.INFO_TYPE.OFFLINE_PREVIEW).attrInt("message"),receipt:e.child(a.INFO_TYPE.OFFLINE_PREVIEW).attrInt("receipt"),notification:e.child(a.INFO_TYPE.OFFLINE_PREVIEW).attrInt("notification")},type:a.INFO_TYPE.OFFLINE_PREVIEW}:null}));function d(){return(d=(0,i.default)((function*(e){const t=u.parse(e);if(t.error)throw __LOG__(4,void 0,new Error)`Parsing Error: ${t.error.toString()}`,t.error;const n=t.success;if(n)switch(n.type){case a.INFO_TYPE.ROUTING:return yield(0,s.handleRoutingInfo)(n),"NO_ACK";case a.INFO_TYPE.OFFLINE:return l.OfflineMessageHandler.setOfflineSessionComplete(n.count),"NO_ACK";case a.INFO_TYPE.OFFLINE_PREVIEW:return yield l.OfflineMessageHandler.setOfflineMessagePreviewCounter(n.count),"NO_ACK"}else __LOG__(3)`[worker] handleInfoBulletin unrecognized info bulletin`}))).apply(this,arguments)}(0,c.default)(!0,"only for use in worker")},33583:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return A.apply(this,arguments)};var i=r(n(48926)),o=n(8748),a=n(56858),s=n(88411),l=n(79388),c=n(53519),u=n(97023),d=n(3885),_=n(8414),p=n(65904),f=n(51017);const E=new o.WapParser("successParser",(e=>(e.assertTag("success"),{ts:e.attrTime("t"),propsVersion:e.attrInt("props"),companionEncStatic:e.maybeAttrString("companion_enc_static")||"NULL",lid:e.maybeAttrString("lid"),displayName:e.maybeAttrString("display_name")})));function A(){return(A=(0,i.default)((function*(e){var t;const n=E.parse(e);if(n.error)return __LOG__(4,void 0,new Error)`handleSuccess: failed to parse ${n.error}`,Promise.reject(n.error);const r=n.success;(0,s.updateClockSkew)(r.ts),(0,l.updateMeLid)(null!=r.lid?(0,f.createWid)(r.lid):null),null!=r.displayName&&(0,d.setMeDisplayName)(r.displayName),(0,u.setOfflinePushDisabled)(!1);const i=r.companionEncStatic;a.DbEncKeyStore.generateFinalDbEncryptionAndFtsKey(i);const o=yield(0,u.getServerPropsAttributes)();if((null!==(t=null==o?void 0:o.version)&&void 0!==t?t:-1)<r.propsVersion)return(0,c.queryServerProps)();yield(0,p.logLoginSuccess)(_.CONNECTION_ORIGIN_TYPE.PUSH)}))).apply(this,arguments)}},98458:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearDeviceRecordForIdentityChange=E,t.handleNewIdentity=function(){return f.apply(this,arguments)};var i=r(n(48926)),o=n(44037),a=n(31919),s=n(97421),l=n(97183),c=n(53098),u=n(74557),d=n(75968),_=n(86031),p=n(51017);function f(){return(f=(0,i.default)((function*(e){var t;const r=(0,p.widFromSignalAddress)(e),i=null!==(t=r.device)&&void 0!==t?t:o.DEFAULT_DEVICE_ID,s=(0,p.toUserWid)(r);if(i===o.DEFAULT_DEVICE_ID){const e=n(86584).addSecurityCodeChangedNotifications;yield E(s),yield e(s),(0,_.sendTcTokenWhenDeviceIdentityChange)(s)}else yield(0,a.createAndStoreDeviceNotifications)(s,[i],[i])}))).apply(this,arguments)}function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=[o.DEFAULT_DEVICE_ID],i=[o.DEFAULT_DEVICE_ID];if(t)d.OfflinePendingDeviceCache.addOfflinePendingDevice(String(e),null),yield(0,u.getStorage)().lock(["participant"],(()=>(0,s.updateGroupParticipantsInTransaction)(e,i,r)));else{const t=yield(0,l.getDeviceRecord)(e);t&&!t.deleted&&t.devices.forEach((e=>{e.id!==o.DEFAULT_DEVICE_ID&&r.push(e.id)}));const a=n(74600).Session;Promise.all(r.map((t=>t===o.DEFAULT_DEVICE_ID?Promise.resolve():a.deleteRemoteInfo((0,p.createDeviceWidFromUserAndDevice)(e.user,e.server,t))))),yield Promise.all([(0,u.getStorage)().lock(["participant"],(()=>(0,s.updateGroupParticipantsInTransaction)(e,i,r))),(0,l.createOrReplaceDeviceRecord)({id:(0,c.createDeviceListPK)(e),deleted:!0})])}}))).apply(this,arguments)}},31852:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkApplyDeviceUpdate=function(){return m.apply(this,arguments)},t.clearDeviceRecord=function(){return T.apply(this,arguments)};var i=r(n(48926)),o=r(n(91966)),a=n(44037),s=n(83929),l=n(31919),c=n(97421),u=n(97183),d=n(63439),_=n(1619),p=n(66236),f=n(4489),E=n(53098),A=n(91360),g=n(3885),h=n(51017),S=r(n(89482));function T(){return(T=(0,i.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];yield Promise.all(t.filter((e=>e.id!==a.DEFAULT_DEVICE_ID)).map((t=>C((0,h.createDeviceWidFromUserAndDevice)(e.user,e.server,t.id)))));const r=[],o=t.map((e=>e.id)).filter((e=>e!==a.DEFAULT_DEVICE_ID)),{encryptedNotifications:s,chatIds:l}=yield I([{wid:e,added:r,removed:o,isNewRecord:!1}],n);yield(0,d.getDeviceUpdateLock)((0,i.default)((function*(){const t=s.length>0?(0,f.storeEncryptedDBMessages)(s,l,!1):Promise.resolve(),n=(0,c.updateGroupParticipantsInTransaction)(e,r,o),i=(0,u.createOrReplaceDeviceRecord)({id:(0,E.createDeviceListPK)(e),deleted:!0}).catch((()=>{throw __LOG__(4,!0,new Error,!0)`remove from device list table failed`,SEND_LOGS("remove from device list table failed when clearing device record"),(0,S.default)("remove from device list table failed")}));yield Promise.all([t,n,i])})),s.length>0)}))).apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[],r=[];let l=!1;e.forEach((e=>{let{wid:t,update:i,currentRecord:s}=e;const{devices:c}=i,u=c.map((e=>e.id)),d=s&&!s.deleted?s.devices.map((e=>e.id)):[],_=(0,o.default)(u,d).filter((e=>e!==a.DEFAULT_DEVICE_ID)),p=(0,o.default)(d,u).filter((e=>e!==a.DEFAULT_DEVICE_ID));n.push({wid:t,added:_,removed:p,isNewRecord:null==s}),p.forEach((e=>{r.push((0,h.createDeviceWidFromUserAndDevice)(t.user,t.server,e))})),(0,E.createDeviceListPK)(t)===(0,E.createDeviceListPK)((0,g.getMeUser)())&&p.length>0&&(l=!0)}));const{encryptedNotifications:_,chatIds:p}=yield I(n,t);Promise.all(r.map((e=>C(e)))),yield(0,d.getDeviceUpdateLock)((0,i.default)((function*(){const t=_.length>0?(0,f.storeEncryptedDBMessages)(_,p,!1):Promise.resolve(),r=(0,c.bulkUpdateGroupParticipantsInTransaction)(n),i=(0,u.bulkCreateOrReplaceDeviceRecord)(e.map((e=>e.update))).catch((()=>{throw __LOG__(4,!0,new Error,!0)`bulkCreateOrReplace into device list table failed`,SEND_LOGS("bulkCreateOrReplace into device list table failed when applying device update"),(0,S.default)("bulkCreateOrReplace into device list table failed")})),o=l?i.then((()=>(0,s.updateMissingKeyDevices)().catch((e=>{__LOG__(3)`syncd: updateMissingKeyDevices failed with error:
${e}`})))):Promise.resolve();yield Promise.all([t,r,i,o])})),_.length>0,l)}))).apply(this,arguments)}function I(){return y.apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e,t){const{notifications:n,chatIds:r}=yield(0,l.bulkGenerateDeviceNotifications)(e);if(!t){const e=yield(0,p.encryptMultipleDBMsgs)(n);return O(n),{chatIds:r,encryptedNotifications:e}}return(0,A.getMessageCache)().addMessages(n.map((e=>({msg:e}))),!1),{chatIds:[],encryptedNotifications:[]}}))).apply(this,arguments)}function C(){return v.apply(this,arguments)}function v(){return(v=(0,i.default)((function*(e){const{deleteDeviceSenderKey:t,deleteRemoteInfo:r}=n(38353);try{yield Promise.all([r(e),t(e)])}catch(t){__LOG__(2)`handleDevicesNotification: failed to clean the signal info for ${e.user}`}}))).apply(this,arguments)}function O(e){return Promise.all(e.map((e=>(e.recvFresh=!0,e.isNewMsg=!0,(0,_.frontendSendAndReceive)("processMultipleMessages",{chatId:e.from,msgObjs:[e],meta:{add:"after",isHistory:!1},processMessagesOrigin:"updateDeviceTableApi"})))))}},64371:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processKeyBundles=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=n(44037),a=n(74600),s=n(49178),l=n(4830),c=r(n(89482));function u(){return(u=(0,i.default)((function*(e){let t=null,n=0,r=0;const i=[],u=[];if(e.forEach((e=>{e instanceof Error?(__LOG__(3)`establishE2ESession: error: ${e}`,t=e):(null!=e.wid.device&&e.wid.device!==o.DEFAULT_DEVICE_ID?u.push(e):i.push(e),e.key||n++)})),0===i.length&&0===u.length)throw(0,c.default)("establishE2ESession: no keys in the response");try{const e=[...i,...u].map((e=>(0,s.createSignalAddress)(e.wid).toString()));yield(0,l.getPersistSignalProtocolStore)().bulkLoadIdentityKey(e),__LOG__(2)`establishE2ESession: warmed up identity cache: ${e.length} records`}catch(e){__LOG__(3)`establishE2ESession: failed to warm up identity cache: ${e}`}const d=e=>a.Session.createSignalSession(e).then((()=>{r++})).catch((t=>{__LOG__(3,void 0,void 0,!0)`createSignalSession: failed for device ${e.wid} with error ${t}`,SEND_LOGS("createSignalSession-fail")}));if(yield Promise.all(i.map(d)),yield Promise.all(u.map(d)),null!=t)throw t;return{depletedPrekeyCount:n,processedPrekeyCount:r}}))).apply(this,arguments)}},86584:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addSecurityCodeChangedNotifications=function(){return g.apply(this,arguments)},t.generateSecurityCodeChangedNotifications=h;var i=r(n(81109)),o=r(n(48926)),a=n(1619),s=n(45218),l=n(66236),c=n(4489),u=n(91360),d=n(94007),_=n(35872),p=n(23440),f=n(55017),E=n(51017),A=r(n(89482));function g(){return(g=(0,o.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{notifications:n,chatIds:r}=yield h(e);if(0!==n.length){if(!t){n=n.map((e=>(0,i.default)((0,i.default)({},e),{},{recvFresh:!0,isNewMsg:!0})));for(const e of n)(0,a.frontendSendAndReceive)("processMultipleMessages",{chatId:e.from,msgObjs:[e],meta:{add:"after",isHistory:!1},processMessagesOrigin:"securityCodeApi"});const e=yield(0,l.encryptMultipleDBMsgs)(n);return(0,c.storeEncryptedDBMessages)(e,r,!1)}(0,u.getMessageCache)().addMessages(n.map((e=>({msg:e}))),!1)}}))).apply(this,arguments)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,o.default)((function*(e){const t={notifications:[],chatIds:[]};if(!(0,f.getGlobalSecurityNotifications)())return t;const n=[];try{const t=yield(0,d.getChatTable)().get(e.toString(),!1);t&&n.push((0,E.createWid)(t.id));const r=yield(0,p.getParticipantTable)().equals(["participants"],String(e)),i=new Map;if(r.length>0){const e=r.map((e=>e.groupId));(yield(0,_.getGroupMetadataTable)().bulkGet(e)).forEach((e=>{null!=e&&i.set(e.id,e)}))}r.forEach((t=>{const r=i.get(t.groupId);!0===Boolean(null==r?void 0:r.defaultSubgroup)&&e.isLid()||n.push((0,E.createWid)(t.groupId))}))}catch(e){throw __LOG__(4,!0,new Error,!0)`get chats failed`,SEND_LOGS("get chats failed when creating device notification"),(0,A.default)("get chats failed")}const r=n.map((t=>(0,s.genSecurityCodeNotificationMsg)(t,e)));return t.notifications=r,t.chatIds=n.map(String),t}))).apply(this,arguments)}},67621:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.genPlaceholderMsg=function(){return V.apply(this,arguments)},t.getDeviceType=X,t.getFrom=Z,t.messageInfoToKey=q,t.parseMessage=function(){return D.apply(this,arguments)},t.parseProtocolMessage=R,t.placeholderCheck=j;var i=r(n(81109)),o=r(n(6479)),a=r(n(48926)),s=n(44037),l=r(n(49619)),c=n(77630),u=n(96193),d=n(63007),_=n(37653),p=n(28296),f=n(18431),E=n(17e3),A=n(22495),g=n(12987),h=r(n(60001)),S=n(97087),T=n(73602),m=n(3885),I=n(8414),y=n(93828),C=r(n(27112)),v=n(51017),O=r(n(89482));const P=["msgProtobuf"],N=["msgProtobuf"],b=["msgProtobuf"],M=["decrypted","reparsing"];function R(e){var t,n,r,i,o,a;let s,{info:c,msgProtobuf:u,paymentInfo:d,bizInfo:_,msgBotInfo:p}=e;const E=Z(c);if((0,m.isMeAccountNonLid)(E)){if(null!=(null===(t=u.protocolMessage)||void 0===t?void 0:t.historySyncNotification)){const e=(0,f.parseMsgProto)(u,Q(c),"relay",d,void 0,void 0,_);$(e,p),s={history:(0,l.default)(e.historySyncMetaData,"msg.historySyncMetaData")}}else if(null!=(null===(n=u.protocolMessage)||void 0===n?void 0:n.initialSecurityNotificationSettingSync)){var A;s={securityNotificationEnabled:{isEnabled:null===(A=u.protocolMessage.initialSecurityNotificationSettingSync.securityNotificationEnabled)||void 0===A||A}}}else if(null!=(null===(r=u.protocolMessage)||void 0===r?void 0:r.appStateSyncKeyShare))s={appStateSyncKeyShare:u.protocolMessage.appStateSyncKeyShare};else if(null!=(null===(i=u.protocolMessage)||void 0===i?void 0:i.appStateSyncKeyRequest))s={appStateSyncKeyRequest:u.protocolMessage.appStateSyncKeyRequest};else if(null!=(null===(o=u.protocolMessage)||void 0===o?void 0:o.peerDataOperationRequestResponseMessage)){var g;s={peerDataOperationRequestResponseMessage:null===(g=u.protocolMessage)||void 0===g?void 0:g.peerDataOperationRequestResponseMessage}}else if(null!=(null===(a=u.protocolMessage)||void 0===a?void 0:a.peerDataOperationRequestMessage)){var h;s={peerDataOperationRequestMessage:null===(h=u.protocolMessage)||void 0===h?void 0:h.peerDataOperationRequestMessage}}return s}!function(e){var t,n,r,i,o,a;let s="";null!=(null===(t=e.protocolMessage)||void 0===t?void 0:t.historySyncNotification)?s="historySyncNotification":null!=(null===(n=e.protocolMessage)||void 0===n?void 0:n.initialSecurityNotificationSettingSync)?s="initialSecurityNotificationSettingSync":null!=(null===(r=e.protocolMessage)||void 0===r?void 0:r.appStateSyncKeyRequest)?s="appStateSyncKeyRequest":null!=(null===(i=e.protocolMessage)||void 0===i?void 0:i.appStateSyncKeyShare)?s="appStateSyncKeyShare":null!=(null===(o=e.protocolMessage)||void 0===o?void 0:o.peerDataOperationRequestResponseMessage)?s="peerDataOperationRequestResponseMessage":null!=(null===(a=e.protocolMessage)||void 0===a?void 0:a.peerDataOperationRequestMessage)&&(s="peerDataOperationRequestMessage"),__LOG__(4,void 0,new Error,!0)`protocol message: wid error in type ${s}`,SEND_LOGS("wid error")}(u)}function D(){return(D=(0,a.default)((function*(e){var t,n,r,i,o,a;const{msgProtobuf:s,info:l}=e;if(null!=(null===(t=s.protocolMessage)||void 0===t?void 0:t.historySyncNotification)||null!=(null===(n=s.protocolMessage)||void 0===n?void 0:n.initialSecurityNotificationSettingSync)||null!=(null===(r=s.protocolMessage)||void 0===r?void 0:r.appStateSyncKeyShare)||null!=(null===(i=s.protocolMessage)||void 0===i?void 0:i.appStateSyncKeyRequest)||null!=(null===(o=s.protocolMessage)||void 0===o?void 0:o.peerDataOperationRequestResponseMessage)||null!=(null===(a=s.protocolMessage)||void 0===a?void 0:a.peerDataOperationRequestMessage))return R({info:l,msgProtobuf:s,paymentInfo:e.paymentInfo,bizInfo:e.bizInfo,hsmInfo:e.hsmInfo});switch(l.type){case g.MESSAGE_TYPE.CHAT:return(0,m.isMeAccount)(l.author)?B(e):Y(e);case g.MESSAGE_TYPE.GROUP:return(0,m.isMeAccount)(l.author)&&l.isDirect?B(e):Y(e);case g.MESSAGE_TYPE.PEER_BROADCAST:if(e.ciphertextType===u.CiphertextType.Skmsg){if(!l.bclHashValidated)throw(0,O.default)("parseMessage: participants for peer broadcast message is not validated");return Y(e)}return G(e);case g.MESSAGE_TYPE.OTHER_BROADCAST:return Y(e);case g.MESSAGE_TYPE.DIRECT_PEER_STATUS:return!0===l.isDirect?L(e):G(e);case g.MESSAGE_TYPE.OTHER_STATUS:return Y(e);default:throw(0,O.default)("Unrecognized MESSAGE_TYPE")}}))).apply(this,arguments)}function L(){return w.apply(this,arguments)}function w(){return(w=(0,a.default)((function*(e){try{return yield B(e)}catch(t){if(t instanceof A.DeviceSentMessageError){const t=Object.keys(e.msgProtobuf).filter((e=>"$$unknownFieldCount"!==e&&"messageContextInfo"!==e));if(1===t.length&&"senderKeyDistributionMessage"===t[0])return Y(e)}throw t}}))).apply(this,arguments)}function B(){return U.apply(this,arguments)}function U(){return(U=(0,a.default)((function*(e){let{msgProtobuf:t}=e,n=(0,o.default)(e,P);const{deviceSentMessage:r}=t;if(null==r)throw new A.DeviceSentMessageError(X(n.info.author),I.DSM_ERROR.MISSING_DSM);if(null==r.destinationJid)throw new A.DeviceSentMessageError(X(n.info.author),I.DSM_ERROR.INVALID_DSM);const{destinationJid:a}=r,s=yield K((0,p.unwrapDeviceSentMessage)(t),n);return(0,i.default)({deviceSent:{destination:(0,v.createWid)(a)}},s)}))).apply(this,arguments)}function G(){return k.apply(this,arguments)}function k(){return(k=(0,a.default)((function*(e){let{msgProtobuf:t}=e,n=(0,o.default)(e,N);const{info:r}=n,{deviceSentMessage:a}=t;if(null==a)throw new A.DeviceSentMessageError(X(r.author),I.DSM_ERROR.MISSING_DSM);if(null==a.phash)throw new A.DeviceSentMessageError(X(r.author),I.DSM_ERROR.INVALID_DSM);const{phash:s}=a,l=yield K((0,p.unwrapDeviceSentMessage)(t),n);return(0,i.default)({deviceSent:{phash:s,info:r}},l)}))).apply(this,arguments)}function Y(){return F.apply(this,arguments)}function F(){return(F=(0,a.default)((function*(e){let{msgProtobuf:t}=e,n=(0,o.default)(e,b);if(null!=t.deviceSentMessage)throw new A.DeviceSentMessageError(X(n.info.author),I.DSM_ERROR.INVALID_SENDER);const r=yield K(t,n);return(0,i.default)({deviceSent:null},r)}))).apply(this,arguments)}function K(){return x.apply(this,arguments)}function x(){return(x=(0,a.default)((function*(e,t){var n,r;let{info:a,paymentInfo:s,bizInfo:c,hidePlaceholder:u,processDecryptedProtoParams:d,hsmInfo:_,msgBotInfo:p}=t;if(null==e)return{senderKey:null,storeMsg:null,renderableMsgs:[]};const A=(0,i.default)({},(0,f.parseMsgProto)(e,Q(a),"relay",s,void 0,void 0,c,a.edit,null==d?void 0:d.rcat));var h;($(A,p),null!=_&&(A.hsmTag=_.tag,A.hsmCategory=_.category),null!=(null==d||null===(n=d.msgMeta)||void 0===n?void 0:n.bizSource))&&(A.bizSource=null==d||null===(h=d.msgMeta)||void 0===h?void 0:h.bizSource);const S=null!=e.senderKeyDistributionMessage?H(a,e.senderKeyDistributionMessage):null,I=A.type===T.MSG_TYPE.UNKNOWN&&null==S,y=A.type===T.MSG_TYPE.UNKNOWN&&null!=S;let C=null;if(I&&null!=d){const{decrypted:e,reparsing:t}=d,n=(0,o.default)(d,M);A.futureproofParams=n,A.futureproofBuffer=e}if(a.type===g.MESSAGE_TYPE.OTHER_STATUS&&(A.campaignId=a.campaignId,A.campaignDuration=a.campaignDuration),a.type===g.MESSAGE_TYPE.PEER_BROADCAST&&(A.broadcastId=a.chat,A.broadcastParticipants=a.bclParticipants,A.broadcastEphSettings=a.bclEphSettings,C=A),a.type===g.MESSAGE_TYPE.OTHER_BROADCAST){A.broadcastId=a.chat;const e=a.ephSetting,t=A.ephemeralSharedSecret;if(null!=e&&null!=t){const{ephemeralDuration:n,ephemeralSettingTimestamp:r}=yield(0,E.decodeBroadcastEphemeralSetting)(a.chat,a.author.isLid()?(0,l.default)((0,m.getMaybeMeLidUser)(),"getMaybeMeLidUser()"):(0,m.getMeUser)(),a.author,e,t);A.ephemeralDuration=n,A.ephemeralSettingTimestamp=r}}const v=!y&&A.type===T.MSG_TYPE.UNKNOWN&&null==A.subtype&&!0===u&&"text"===(null==d||null===(r=d.msgMeta)||void 0===r?void 0:r.type)&&null!=e.messageContextInfo;let O=[];return y||v?v&&(__LOG__(3,void 0,void 0,!0,["messaging"])`parseContentMessage: msgId::${a.externalId}: hide placeholder for invalid sender key distribution message`,SEND_LOGS("invalid-sender-key-distribution-message",1,"messaging")):a.type===g.MESSAGE_TYPE.PEER_BROADCAST?O=yield z(A,a.bclParticipants,a.bclEphSettings):("payment_transaction_request_cancelled"!==A.subtype&&"payment_action_request_declined"!==A.subtype||null!=A.paymentRequestMessageKey)&&(O=[A]),{senderKey:S,storeMsg:C,renderableMsgs:O}}))).apply(this,arguments)}function H(e,t){if(!e.chat.isGroup()&&!e.chat.isBroadcast())throw(0,O.default)("should not have senderkey");const{groupId:n,axolotlSenderKeyDistributionMessage:r}=t;if(null==n||e.chat.toString({legacy:!0})!==n)throw(0,O.default)(`senderKeyDistributionMessage: from ${e.chat.toString()} mismatched to ${n||"null"}`);if(!r)throw(0,O.default)(`senderKeyDistributionMessage: from ${e.author.toString()} has no content`);return{groupId:n,key:r}}function j(e){return e.edit!==c.EDIT_ATTR.SENDER_REVOKE||e.type===g.MESSAGE_TYPE.PEER_BROADCAST}function V(){return(V=(0,a.default)((function*(e,t,n,r){if(!j(e))return[];let o=null;switch(t){case g.PlaceholderType.E2E:o=void 0;break;case g.PlaceholderType.BOT_UNAVAILABLE_FANOUT:o="bot_unavailable_fanout";break;default:o="fanout"}const a=(0,i.default)((0,i.default)({},Q(e)),{},{type:T.MSG_TYPE.CIPHERTEXT,subtype:o,e2eSenderType:(0,y.getWamE2eSenderType)(e.author),placeholderAddReason:n,broadcastParticipants:e.type===g.MESSAGE_TYPE.PEER_BROADCAST?e.bclParticipants:void 0,broadcastEphSettings:e.type===g.MESSAGE_TYPE.PEER_BROADCAST?e.bclEphSettings:void 0});return $(a,r),e.type===g.MESSAGE_TYPE.PEER_BROADCAST?((0,_.storeMessages)([a],a.id.remote),e.edit===c.EDIT_ATTR.SENDER_REVOKE?[]:z(a,e.bclParticipants)):[a]}))).apply(this,arguments)}function W(e,t){return(0,d.isBotMsgParseEnabledForFutureproofOrFullRecv)()&&null!=t.botParticipant?t.botParticipant:!e.fromMe&&C.default.isGroup(e.remote)||C.default.isStatusV3(e.remote)?e.participant:!(0,m.isMeDevice)(t.author)&&(0,m.isMeAccount)(t.author)?t.author:void 0}function Q(e){const t=q(e),n=(0,m.getMeUser)(),r=(0,m.getMaybeMeLidUser)();let i;i=t.fromMe&&C.default.isGroup(t.remote)&&e.author.isLid()&&null!=r?r:n;let o=t.fromMe?i:t.remote;null!=e.botParticipant&&(o=e.botParticipant);return{id:t,from:o,to:t.fromMe?t.remote:n,type:T.MSG_TYPE.UNKNOWN,t:e.ts||0,ack:(0,S.isNoteToSelf)(t)?c.ACK.READ:c.ACK.SENT,author:W(t,e),notifyName:e.pushname||"",invis:!1,count:e.count}}function $(e,t){null!=t&&(0,d.isBotMsgParseEnabledForFutureproofOrFullRecv)()&&Object.assign(e,{botEditTargetId:t.botEditTargetId,botEditType:t.botEditType,bizBotType:t.bizBotType})}function z(){return J.apply(this,arguments)}function J(){return(J=(0,a.default)((function*(e,t,n){return(yield Promise.all(t.map(function(){var t=(0,a.default)((function*(t){let r,o,a;try{r=new h.default({remote:t,fromMe:!0,id:e.id.id})}catch(e){return __LOG__(3)`drop: cannot create MsgKey: ${e.stack}`,null}const s=n?n[t.toString()]:null,c=e.ephemeralSharedSecret,u=e.broadcastId;null!=u&&null!=s&&null!=c&&({ephemeralDuration:o,ephemeralSettingTimestamp:a}=yield(0,E.decodeBroadcastEphemeralSetting)(u,t,t.isLid()?(0,l.default)((0,m.getMaybeMeLidUser)(),"getMaybeMeLidUser()"):(0,m.getMeUser)(),s,c));return(0,i.default)((0,i.default)({},e),{},{id:r,from:(0,m.getMeUser)(),to:t,broadcast:!0,ephemeralDuration:o,ephemeralSettingTimestamp:a,protocolMessageKey:null==e.protocolMessageKey?void 0:new h.default({remote:t,fromMe:!0,id:e.protocolMessageKey.id})})}));return function(){return t.apply(this,arguments)}}()))).filter(Boolean)}))).apply(this,arguments)}function q(e){return e.type===g.MESSAGE_TYPE.OTHER_BROADCAST?new h.default({remote:(0,v.toUserWid)(e.author),fromMe:!1,id:e.externalId}):e.type===g.MESSAGE_TYPE.CHAT?(0,d.isBotMsgParseEnabledForFutureproofOrFullRecv)()&&null!=e.botParticipant?new h.default({remote:e.chat,fromMe:(0,m.isMeAccount)(e.author),id:e.externalId,participant:(0,v.toUserWid)((0,l.default)(e.botParticipant,"info.botParticipant"))}):new h.default({remote:e.chat,fromMe:(0,m.isMeAccount)(e.author),id:e.externalId}):new h.default({remote:e.chat,fromMe:(0,m.isMeAccount)(e.author),participant:(0,v.toUserWid)(e.author),id:e.externalId})}function X(e){return null==e.device||e.device===s.DEFAULT_DEVICE_ID?I.DEVICE_TYPE.PRIMARY:I.DEVICE_TYPE.COMPANION}function Z(e){return e.type===g.MESSAGE_TYPE.CHAT?e.author:e.chat}},98267:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.decryptE2EPayload=function(){return O.apply(this,arguments)};var i=r(n(48926)),o=n(81408),a=n(13350),s=n(47648),l=n(96193),c=n(50055),u=n(63007),d=n(51436),_=n(33351),p=n(22495),f=n(52253),E=n(12987),A=n(19909),g=n(67621),h=n(45679),S=n(27783),T=n(48362),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(74600)),I=n(88515),y=n(4830),C=r(n(89482));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function O(){return(O=(0,i.default)((function*(e,t){const{bizInfo:n,msgInfo:r,paymentInfo:l,deviceIdentity:u,encs:d,msgMeta:m,rcat:C,hsmInfo:v,msgBotInfo:O}=e;if(null!=r.author.device&&0!==r.author.device){if(!(yield(0,s.validateADVwithEncs)(r.author,u,d,!!r.offline)))return __LOG__(3,void 0,void 0,void 0,["messaging"])`decryptE2EPayload: msgId::${r.externalId}, validateADVIdentity failed`,{result:E.E2EProcessResult.RETRY,retryCount:d[0].retryCount,retryReason:T.RetryReason.AdvFailure}}const N=yield(0,a.promiseReduce)(e.encs,((a,s)=>{if(a.result!==E.E2EProcessResult.SUCCESS)return Promise.resolve(a);const u=(0,g.getFrom)(r);return P(s,u,r.author,e).then(function(){var e=(0,i.default)((function*(e){__LOG__(2,void 0,void 0,void 0,["messaging"])`decryptE2EPayload: msgId::${r.externalId} e2eType:${s.e2eType} done`,(0,h.postSuccessE2eMessageRecvMetric)({enc:s,from:u,msgMeta:m,msgInfo:r});const i={retryCount:s.retryCount,e2eType:s.e2eType,encMediaType:s.encMediaType,hideFail:s.hideFail},{hasInactiveMsg:o}=yield t({decrypted:e,info:r,paymentInfo:l,e2eInfo:i,bizInfo:n,hsmInfo:v,msgMeta:m,rcat:C,msgBotInfo:O});return __LOG__(2,void 0,void 0,void 0,["messaging"])`processDecryptedProto: msgId::${r.externalId} e2eType:${s.e2eType} done`,{result:E.E2EProcessResult.SUCCESS,hasInactiveMsg:o}}));return function(){return e.apply(this,arguments)}}()).catch((0,o.filteredCatch)([I.SignalDecryptionError,p.UnknownDeviceMessageError],function(){var e=(0,i.default)((function*(e){if(__LOG__(3,void 0,void 0,void 0,["messaging"])`decryptE2EPayload: msgId::${r.externalId} e2eType:${s.e2eType} error:${e.stack}`,(0,h.postFailureE2eMessageRecvMetric)({enc:s,from:u,msgMeta:m,msgInfo:r}),!s.hideFail){const t=(0,c.getPlaceholderAddReason)(e);yield(0,f.processPlaceholderMsg)(r,E.PlaceholderType.E2E,t)}return{result:E.E2EProcessResult.RETRY,retryCount:s.retryCount,retryReason:(0,T.getRetryReasonFromError)(e)}}));return function(){return e.apply(this,arguments)}}())).catch((0,o.filteredCatch)(I.SignalMessageCounterError,(e=>(__LOG__(3,void 0,void 0,void 0,["messaging"])`decryptE2EPayload: msgId::${r.externalId} e2eType:${s.e2eType} error:${e.stack}`,(0,A.isSendMessageDropOldCounterNackEnabled)()?{result:E.E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR,failedEnc:s}:((0,S.maybePostIncomingMessageDropOldCounter)({msgInfo:r,msgMeta:m,enc:s}),{result:E.E2EProcessResult.SUCCESS}))))).catch((0,o.filteredCatch)(_.HsmMismatchError,(e=>(__LOG__(3,void 0,void 0,void 0,["messaging"])`decryptE2EPayload: msgId::${r.externalId} e2eType:${s.e2eType} error:${e.stack}`,__LOG__(3,void 0,void 0,!0,["messaging"])`decryptE2EPayload: e2eType:${s.e2eType} error:${e}`,SEND_LOGS("handleMsg: hsm mismatch error",1,"messaging"),(0,h.postFailureE2eMessageRecvMetric)({enc:s,from:u,msgMeta:m,msgInfo:r}),{result:E.E2EProcessResult.HSM_MISMATCH})))).catch((0,o.filteredCatch)([p.MessageValidationError],(e=>(__LOG__(3,void 0,void 0,void 0,["messaging"])`decryptE2EPayload: msgId::${r.externalId} e2eType:${s.e2eType} error:${e.stack}`,__LOG__(3,void 0,void 0,!0,["messaging"])`decryptE2EPayload: e2eType:${s.e2eType} error:${e}`,SEND_LOGS(`handleMsg: ${e.name}`,1,"messaging"),(0,S.postIncomingMessageDropInvalidProtobuf)({msgInfo:r,msgMeta:m,enc:s,error:e}),{result:E.E2EProcessResult.PARSE_VALIDATION_ERROR})))).catch((0,o.filteredCatch)(p.DeviceSentMessageError,(e=>(__LOG__(3,void 0,void 0,void 0,["messaging"])`decryptE2EPayload: msgId::${r.externalId} e2eType:${s.e2eType} error:${e.stack}`,__LOG__(3,void 0,void 0,!0,["messaging"])`decryptE2EPayload: e2eType:${s.e2eType} infoType:${r.type} isDirect:${r.isDirect} error:${e}`,SEND_LOGS("handleMsg: parse device sent message error",1,"messaging"),(0,h.postFailureE2eMessageRecvMetric)({enc:s,from:u,msgMeta:m,msgInfo:r}),(0,S.postIncomingMessageDropInvalidProtobuf)({msgInfo:r,msgMeta:m,enc:s}),{result:E.E2EProcessResult.PARSE_ERROR})))).catch((e=>(__LOG__(3,void 0,void 0,void 0,["messaging"])`decryptE2EPayload: msgId::${r.externalId} e2eType:${s.e2eType} error:${e.stack}`,__LOG__(3,void 0,void 0,!0,["messaging"])`decryptE2EPayload: e2eType:${s.e2eType} error:${e}`,SEND_LOGS("handleMsg: parse decrypted message error",1,"messaging"),(0,h.postFailureE2eMessageRecvMetric)({enc:s,from:u,msgMeta:m,msgInfo:r}),(0,S.postIncomingMessageDropInvalidProtobuf)({msgInfo:r,msgMeta:m,enc:s}),{result:E.E2EProcessResult.PARSE_ERROR})))}),{result:E.E2EProcessResult.SUCCESS});return yield(0,y.getSignalProtocolStore)().flushBufferToDiskIfNotMemOnlyMode(),N}))).apply(this,arguments)}function P(e,t,n,r){const{e2eType:i,ciphertext:o}=e;switch(i){case l.CiphertextType.Skmsg:return t.isGroup()||t.isBroadcast()?n?m.Cipher.decryptGroupSignalProto(t,n,o):Promise.reject((0,C.default)(`['messaging'] decryptEnc: receive msg from ${t.toString()} without participant`)):Promise.reject((0,C.default)(`['messaging'] decryptEnc: Can not do skmsg for non group ${t.toString()}`));case l.CiphertextType.Pkmsg:case l.CiphertextType.Msg:{const e=t.isUser()?t:n;return e?m.Cipher.decryptSignalProto(e,i,o):Promise.reject((0,C.default)(`['messaging'] decryptEnc: receive msg from ${t.toString()} without participant`))}case l.CiphertextType.Msmsg:return(0,u.isBotEnabled)()?(0,d.decryptMsmsgBotMessage)(o,r):Promise.reject((0,C.default)("[messaging] decryptEnc: Msmsg unsupported"))}}},91360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageCache=function(){null==r&&(r=n(27893).messageProcessorCache);return r};let r=null},77749:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UI_UPDATE_TIME_MS=t.ResumeStatus=t.OFFLINE_STANZA_TIMEOUT_MS=t.OFFLINE_STANZA_COUNT_LIMIT=t.OFFLINE_STANZA_COUNT_CHECK_TIMEOUT_MS=t.OFFLINE_PREVIEW_PERIOD_MS=t.OFFLINE_DEVICE_SYNC_DELAY=void 0;const r=n(76672)({INIT:"INIT",RESUME_ON_RESTART:"RESUME_ON_RESTART",RESUME_WITH_OPEN_TAB:"RESUME_WITH_OPEN_TAB",COMPLETE:"COMPLETE"});t.ResumeStatus=r;t.OFFLINE_STANZA_COUNT_CHECK_TIMEOUT_MS=2e4;t.OFFLINE_STANZA_COUNT_LIMIT=100;t.OFFLINE_DEVICE_SYNC_DELAY=2e3;t.OFFLINE_STANZA_TIMEOUT_MS=6e4;t.OFFLINE_PREVIEW_PERIOD_MS=1e3;t.UI_UPDATE_TIME_MS=1e3},67606:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearOfflineSnapShot=function(){return O.apply(this,arguments)},t.exceedResumeWithOpenTabLimit=function(e,t){return e+t>v||e>y&&e+t>C},t.loadMainScreen=function(){return b.apply(this,arguments)},t.readyForMainScreen=M,t.refreshWindow=function(){var e;(null===(e=window.location)||void 0===e?void 0:e.reload)&&window.location.reload()},t.restoreDataFromStorage=P,t.runReceiptCleanUpLoop=function(){if((0,l.getABPropConfigValue)("web_enable_open_tab_pre_ack")&&!f.default.online)return __LOG__(2)`[offline-resume][utils] runReceiptCleanUpLoop: skip due to offline.`,Promise.resolve();return(0,s.promiseLoop)(function(){var e=(0,i.default)((function*(e,t,n){const r=(0,a.delayMs)((0,o.expBackoff)(n,12e4,1e3,.1));try{return yield(0,c.clearDanglingReceipts)(),__LOG__(2)`[offline-resume][utils] runReceiptCleanUpLoop: done.`,e()}catch(t){return __LOG__(2)`[offline-resume][utils] runReceiptCleanUpLoop: failed with error ${t}.`,n>3?(__LOG__(3)`[offline-resume][utils] runReceiptCleanUpLoop: Gave up clean up receipts ${n} tries`,e()):r}}));return function(){return e.apply(this,arguments)}}())};var i=r(n(48926)),o=n(27363),a=n(55068),s=n(73471),l=n(83741),c=n(65953),u=n(46316),d=n(91360),_=(n(95735),n(56457)),p=n(9567),f=r(n(69353)),E=n(85995),A=n(75968),g=n(20577),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(70249)),S=n(82572),T=n(56203),m=n(49625);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}const y=20,C=50,v=200;function O(){return(O=(0,i.default)((function*(){(0,d.getMessageCache)().createSnapshot(),A.OfflinePendingDeviceCache.createSnapshot();const e=[(0,d.getMessageCache)().checkpointQueue.wait(),A.OfflinePendingDeviceCache.checkpointQueue.wait()];e.push(p.receiptBatcher.runActiveBatches()),yield Promise.all(e)}))).apply(this,arguments)}function P(){return N.apply(this,arguments)}function N(){return(N=(0,i.default)((function*(e){try{const{threadMeta:t,shouldUpdateReceipts:n=!1,shouldRestoreChatsAndMsgs:r=!0}=e;__LOG__(2)`[offline-resume] restoreDataFromStorage.`;const i=(n?(0,E.updatePeerReceipts)():Promise.resolve()).then((()=>r?(0,m.workerSafeSendAndReceive)("restoreChatsAndMessages",{threadMeta:t}):Promise.resolve())),o=(0,m.workerSafeSendAndReceive)("restoreGroupsAndContacts"),a=(0,m.workerSafeSendAndReceive)("restoreProfilePictures");yield Promise.all([i,o,a])}catch(e){__LOG__(4,!0,new Error,!0,["logout"])`[offline-resume] restoreDataFromStorage failed with error ${e}.`,SEND_LOGS("offline-resume-fatal-error",1,"logout"),(0,S.socketLogout)(_.LogoutReason.ClientFatalError)}}))).apply(this,arguments)}function b(){return(b=(0,i.default)((function*(e){try{yield(0,g.pruneExpiredMessagesWithAddOns)()}catch(e){throw __LOG__(4,void 0,new Error)`[offline-resume] loadMainScreen: pruneExpiredMessages message failed with error: ${e}`,e}yield P(e),M(),u.Cmd.readyForProcessOffline(),__LOG__(2)`[offline-resume] start handling offline stanza`}))).apply(this,arguments)}function M(){u.Cmd.readyForMainStreamMode(),T.OfflineResumeReporter.logMainScreenLoadT(),h.setMainStreamModeReadyT()}},20577:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.pruneExpiredMessagesWithAddOns=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(94903),s=r(n(60001)),l=n(29409);function c(){return(c=(0,i.default)((function*(){const e=yield(0,a.pruneExpiredMessages)(),t=e.length;if(t>0){const r=n(74e3).getJobManager,i=[],a=new Set;e.forEach((e=>{const t=e.id.toString();a.add(s.default.fromString(t).remote.toString()),i.push(t)}));const c=Array.from(a.values()).join(",").toString();(0,o.frontendFireAndForget)("deleteModelsForLastAddOnPreview",{messagesIds:i}),yield r().waitUntilPersisted(l.jobSerializers.deleteAddOns(c,i)),__LOG__(2)`[offline-resume][utils] pruneExpiredMessagesWithAddOns: pruneExpiredMessages pruned ${t} msg(s)`}}))).apply(this,arguments)}},61071:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineWorkerResumeStageManager=void 0;var i=r(n(48926)),o=n(19026),a=n(78494),s=n(46316),l=n(12987),c=n(33442),u=n(75674),d=n(77749),_=n(67606),p=n(95160),f=n(4830),E=n(68231),A=r(n(41143));t.OfflineWorkerResumeStageManager=class{constructor(){this._offlineCompleteTimer=null,this._maxProgress=100,this._initState()}_initState(){this._offlineMessagePreviewCounter=-1,this._decryptedMessageCount=0,this._decryptionErrorCount=0,this._finishedDownloading=!1,this._hasMessagesToDownload=null,this._status=d.ResumeStatus.INIT}_setStatus(e){__LOG__(2)`[offline-resume][worker] offline resume stage: ${this._status} -> ${e}`,this._status=e}processOfflinePreview(e){if(E.WorkerOfflineResumeReporter.logOfflinePreview(),this._status===d.ResumeStatus.INIT)E.WorkerOfflineResumeReporter.updateOfflineCount(e),this._offlineMessagePreviewCounter=e.message,this._hasMessagesToDownload=!1,this._finishedDownloading=!0,this._decryptedMessageCount=0,this._firstPreviewReceivedT=Date.now(),(0,f.enableMemSignalStore)(),c.jsHaltDetector.restartDetection(),this._setStatus(d.ResumeStatus.RESUME_ON_RESTART),s.Cmd.readyForProcessOffline(),this._startOfflineCompleteTimer(e.message,e.receipt);else{const t=this._firstPreviewReceivedT;if(null!=t){const n=Date.now()-t;n<d.OFFLINE_PREVIEW_PERIOD_MS?(__LOG__(2)`[offline-resume][worker] Accept multiple offline preview ibs during offline resume, delay ${n}.`,this._offlineMessagePreviewCounter+=e.message,this._hasMessagesToDownload=!1,this._finishedDownloading=!0,E.WorkerOfflineResumeReporter.updateOfflineCount(e)):__LOG__(2)`[offline-resume][worker] Reject multiple offline preview ib during offline resume, delay ${n}.`}this._refreshOfflineCompleteTimer()}}processOfflineThreadMeta(){__LOG__(2)`[offline-resume][worker] processOfflineThreadMeta not applicable`}getOfflineDeliveryProgress(){return 0===this._offlineMessagePreviewCounter?this._maxProgress:Math.min(Math.ceil(100*this._decryptedMessageCount/this._offlineMessagePreviewCounter),this._maxProgress)}processOfflineSessionComplete(){var e;return null===(e=this._offlineCompleteTimer)||void 0===e||e.cancel(),this._offlineCompleteTimer=null,this._status===d.ResumeStatus.COMPLETE?(__LOG__(2)`[offline-resume][worker] processOfflineSessionComplete already complete`,Promise.resolve()):this._status===d.ResumeStatus.RESUME_WITH_OPEN_TAB?(__LOG__(2)`[offline-resume][worker] RESUME_WITH_OPEN_TAB stage not applicable`,Promise.resolve()):(this._status===d.ResumeStatus.INIT&&(this._hasMessagesToDownload=!1,this._finishedDownloading=!0),this._setStatus(d.ResumeStatus.COMPLETE),this._handleOfflineComplete())}isResumeFromRestartComplete(){return this._status!==d.ResumeStatus.RESUME_ON_RESTART&&this._status!==d.ResumeStatus.INIT}isResumeFromRestartInProgress(){return this._status!==d.ResumeStatus.INIT&&!s.Cmd.isOfflineDeliveryEnd}isResumeOnSocketDisconnectInProgress(){return this._status===d.ResumeStatus.RESUME_WITH_OPEN_TAB}getHasMessagesToDownload(){return this._hasMessagesToDownload}getFinishedDownloading(){return 100===this.getOfflineDeliveryProgress()}shouldUseOfflineResumeScreen(){return this._offlineMessagePreviewCounter>this._decryptedMessageCount}processDecryptResult(e){this._decryptedMessageCount+=1,e===l.E2EProcessResult.RETRY&&(this._decryptionErrorCount+=1)}offlineStanzaReceivedAfterComplete(){this.isResumeFromRestartComplete()&&__LOG__(2)`[offline-resume][worker] offlineStanzaReceivedAfterComplete stage not applicable`}newOfflineStanza(e){E.WorkerOfflineResumeReporter.updateOldestStanzaTime(e),this._refreshOfflineCompleteTimer()}shouldShowResumeButterBar(){return!1}_refreshOfflineCompleteTimer(){this._offlineCompleteTimer&&this._offlineCompleteTimer.onOrAfter(d.OFFLINE_STANZA_TIMEOUT_MS)}_startOfflineCompleteTimer(e,t){var n;null===(n=this._offlineCompleteTimer)||void 0===n||n.cancel(),this._offlineCompleteTimer=new a.ShiftTimer((()=>{this._status!==d.ResumeStatus.COMPLETE&&(__LOG__(2)`[offline-resume][worker]: offline session completed by timeout`,this.processOfflineSessionComplete(e+t),this._offlineCompleteTimer=null)})),this._offlineCompleteTimer.onOrAfter(d.OFFLINE_STANZA_TIMEOUT_MS)}_handleOfflineComplete(){var e=this;return(0,i.default)((function*(){yield(0,u.waitForOfflineMsgThread)(),E.WorkerOfflineResumeReporter.updateOfflineDecryptionErrorCount(e._decryptionErrorCount),__LOG__(2)`[offline-resume][worker] _onOfflineComplete: waitForOfflineMsgThread done, total decryption error: ${e._decryptionErrorCount}`,yield(0,_.clearOfflineSnapShot)(),E.WorkerOfflineResumeReporter.logProcessComplete(),e._decryptionErrorCount=0,__LOG__(2)`[offline-resume][worker] _onOfflineComplete: clearOfflineSnapShot done.`,(0,p.isServiceWorker)()?(yield(0,_.runReceiptCleanUpLoop)(),(0,o.stopComms)()):(s.Cmd.offlineDeliveryEnd(),(0,_.runReceiptCleanUpLoop)())}))()}},(0,A.default)(!0,"only for use in worker")},72827:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createLidPnMappings=function(){return c.apply(this,arguments)},t.updateLidMetadata=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(42247),a=n(1619),s=n(51017);function l(){return(l=(0,i.default)((function*(e){let{updates:t}=e;const n=t.map((e=>{var t,n,r;let{lid:i,data:o}=e;return{lid:(0,s.toUserWid)(i),shareOwnPn:null!==(t=o.shareOwnPn)&&void 0!==t?t:null,displayNameLID:null!==(n=o.displayNameLID)&&void 0!==n?n:null,requestedPnTimestamp:null!==(r=o.requestedPnTimestamp)&&void 0!==r?r:null}}));yield(0,a.frontendSendAndReceive)("bulkUpdateLidContactState",{lidContactDataMappings:n}),yield(0,o.updateLidMetadata)(t)}))).apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e){let{mappings:t,flushImmediately:n}=e;const r=t.map((e=>{let{lid:t,pn:n}=e;return{lid:t.toString(),phoneNumber:n.toString()}}));yield(0,a.frontendSendAndReceive)("bulkUpdatePhoneNumberJids",{lidPhoneNumberMappings:r}),yield(0,o.createLidPnMappings)({mappings:t,flushImmediately:n})}))).apply(this,arguments)}},57305:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBytes=function(e){return e?(0,i.encodeB64)(e):void 0},t.decodeUrl=function(e){return e&&!e.includes("/u/")?e:void 0},t.parseInviteGrpType=function(e){switch(e){case s.Message$ExtendedTextMessage$InviteLinkGroupType.PARENT:return o.GroupType.COMMUNITY;case s.Message$ExtendedTextMessage$InviteLinkGroupType.SUB:return o.GroupType.SUBGROUP;case s.Message$ExtendedTextMessage$InviteLinkGroupType.DEFAULT_SUB:return o.GroupType.DEFAULT_ANNOUNCEMENT_GROUP;default:return o.GroupType.DEFAULT}},t.shouldLogE2eProtoValidation=c,t.validateRequiredMediaProperties=function(e,t){if(!c(e,t))return;const n=e.type;if(!(0,a.isMediaCryptoExpectedForMsg)(e))return void(null==t.directPath&&(__LOG__(2,void 0,void 0,!0)`directPath missing from msg type ${n}`,SEND_LOGS(`${n}-unencrypted-message-missing-direct-path`)));null==t.directPath&&null==t.fileEncSha256?(__LOG__(2,void 0,void 0,!0)`directPath and fileEncSha256 missing from msg type ${n}`,SEND_LOGS(`${n}-message-missing-direct-path-and-file-enc`)):null==t.directPath?(__LOG__(2,void 0,void 0,!0)`directPath missing from msg type ${n}`,SEND_LOGS(`${n}-message-missing-direct-path`)):null==t.fileEncSha256&&(__LOG__(2,void 0,void 0,!0)`fileEncSha256 missing from msg type ${n}`,SEND_LOGS(`${n}-message-missing-file-enc`));null==t.url&&(__LOG__(2,void 0,void 0,!0)`url(deprecatedMms3Url) is missing from msg type ${n}`,SEND_LOGS(`${n}-message-missing-mms3-url`));null==t.mediaKey&&(__LOG__(2,void 0,void 0,!0)`mediaKey is missing from msg type ${n}`,SEND_LOGS(`${n}-message-missing-media-key`))};var i=n(62089),o=n(98051),a=n(82150),s=n(77026),l=r(n(27112));function c(e,t){var n;return!(Math.random()>.001)&&(!!e.id&&("status"!==(null===(n=e.id.remote)||void 0===n?void 0:n.user)||!l.default.isPSA(e.author)||null!=t.staticUrl))}},70249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMainStreamModeReadyT=function(){(0,r.canSupportOfflineNotifications)()&&!o&&null!=a&&self.performance.now()-a>1e4&&(0,i.setOfflineNotificationsBBStatus)({isLongResumeTime:!0})},t.setStartCommsT=function(){(0,r.canSupportOfflineNotifications)()&&(o=!1,a=self.performance.now())};var r=n(17761),i=n(55017);let o=!0,a=null},92760:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.editAttribute=function(e,t){if(h(e)){const e="admin_revoke"===t?c.EDIT_ATTR.ADMIN_REVOKE:c.EDIT_ATTR.SENDER_REVOKE;return(0,a.CUSTOM_STRING)(String(e))}if(function(e){return null!=e.reactionMessage&&e.reactionMessage.text===_.REVOKED_REACTION_TEXT}(e))return(0,a.CUSTOM_STRING)(String(c.EDIT_ATTR.SENDER_REVOKE));if(function(e){return null!=e.keepInChatMessage&&null!=e.keepInChatMessage.key&&!0===e.keepInChatMessage.key.fromMe&&e.keepInChatMessage.keepType===d.KeepType.UNDO_KEEP_FOR_ALL}(e))return(0,a.CUSTOM_STRING)(String(c.EDIT_ATTR.SENDER_REVOKE));if(S(e))return(0,a.CUSTOM_STRING)(String(c.EDIT_ATTR.MESSAGE_EDIT));if(function(e){return null!=e.pinInChatMessage}(e))return(0,a.CUSTOM_STRING)(String(c.EDIT_ATTR.PIN_IN_CHAT));return a.DROP_ATTR},t.encodeAndPad=function(e){const t=(0,g.encodeProtobuf)(d.MessageSpec,e);return(0,f.writeRandomPadMax16)(t),t.readByteArray()},t.filterDeviceWithChangedIdentity=function(){return I.apply(this,arguments)},t.getResendTimeoutInSeconds=function(){return 60*((0,l.getABPropConfigValue)("web_e2e_backfill_expire_time")||5)},t.isEditMsg=S,t.isPrimaryDevice=function(e){return null==e.device||e.device===o.DEFAULT_DEVICE_ID},t.isRevokeMsg=h,t.sendMsgAckSyncParser=void 0,t.updateIdentityRange=function(){return m.apply(this,arguments)};var i=r(n(48926)),o=n(44037),a=n(80780),s=n(8748),l=n(83741),c=n(77630),u=n(53098),d=n(77026),_=n(56074),p=n(10139),f=n(49178),E=n(4830),A=n(51017),g=n(32126);function h(e){return null!=e.protocolMessage&&e.protocolMessage.type===d.Message$ProtocolMessage$Type.REVOKE}function S(e){var t,n,r,i,o;return(null!==(t=null===(n=e.protocolMessage)||void 0===n?void 0:n.type)&&void 0!==t?t:null===(r=e.editedMessage)||void 0===r||null===(i=r.message)||void 0===i||null===(o=i.protocolMessage)||void 0===o?void 0:o.type)===d.Message$ProtocolMessage$Type.MESSAGE_EDIT}const T=new s.WapParser("sendMsgAckSyncParser",(e=>(e.assertTag("ack"),{t:e.attrTime("t"),sync:e.hasAttr("sync")?e.attrString("sync"):null,phash:e.hasAttr("phash")?e.attrString("phash"):null,addressingMode:e.hasAttr("addressing_mode")?e.attrString("addressing_mode"):null,count:e.hasAttr("count")?e.attrInt("count"):null,error:e.hasAttr("error")?e.attrInt("error"):null})));function m(){return(m=(0,i.default)((function*(e,t){const n=yield(0,p.getMessageTable)().get(String(e),!1),r=null==n?void 0:n.rowId;null!=r&&(yield(0,E.getPersistSignalProtocolStore)().updateIdentityRangeAfterEncryption(r,t.map((e=>(0,f.createSignalAddress)(e).toString()))))}))).apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e,t){const n=yield(0,p.getMessageTable)().get(String(e),!1),r=null==n?void 0:n.rowId;if(null==r)return __LOG__(2)`filterDeviceWithChangedIdentity: get message with empty rowId`,[];const i=new Map;t.forEach((e=>{i.set((0,u.createDeviceListPK)(e),e)}));const a=Array.from(i.values()).map((e=>(0,A.createDeviceWidFromUserAndDevice)(e.user,e.server,o.DEFAULT_DEVICE_ID))),s=yield(0,E.getPersistSignalProtocolStore)().bulkGetIdentityRowId(a.map((e=>(0,f.createSignalAddress)(e).toString()))),l=new Set;return s.forEach(((e,t)=>{const n=a[t];(null==e||e>r)&&l.add((0,u.createDeviceListPK)(n))})),t.filter((e=>!l.has((0,u.createDeviceListPK)(e))))}))).apply(this,arguments)}t.sendMsgAckSyncParser=T},74600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=t.Cipher=void 0;var r=a(n(8374)),i=a(n(38353));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}const s=r;t.Cipher=s;const l=i;t.Session=l},8374:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.decryptGroupSignalProto=function(){return E.apply(this,arguments)},t.decryptSignalProto=function(){return p.apply(this,arguments)},t.encryptSenderKeyMsgSignalProto=function(){return A.apply(this,arguments)},t.encryptSignalProto=function(){return f.apply(this,arguments)};var i=r(n(48926)),o=n(96193),a=n(78283),s=n(62325),l=n(88515),c=n(49178),u=n(4830),d=n(38353),_=r(n(89482));function p(){return(p=(0,i.default)((function*(e,t,n){if((0,s.isCryptoLibraryEnabled)())return(0,a.decryptSignalProto)(e,t,n);const r=new self.libsignal.SessionCipher((0,u.getSignalProtocolStore)(),(0,c.createSignalAddress)(e));try{const e=yield Promise.resolve(r);let i;switch(t){case o.CiphertextType.Pkmsg:i=yield e.decryptPreKeyWhisperMessage(n);break;case o.CiphertextType.Msg:i=yield e.decryptWhisperMessage(n);break;default:return Promise.reject((0,_.default)(`decryptSignalProto: Received unsupported msg type ${t}`))}return i}catch(e){if(e&&"call_failure"===e.reason&&e.value&&"number"==typeof e.value.result)__LOG__(3)`decryptSignalProto error code ${e.value.result}`;else{if(e&&"MessageCounterError"===e.name)return Promise.reject(new l.SignalMessageCounterError(e));__LOG__(3)`decryptSignalProto js error ${e}`}return Promise.reject(new l.SignalDecryptionError(e))}}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e,t){if((0,s.isCryptoLibraryEnabled)())return(0,a.encryptSignalProto)(e,t);const n=yield new self.libsignal.SessionCipher((0,u.getSignalProtocolStore)(),(0,c.createSignalAddress)(e)),{type:r,body:i}=yield n.encrypt(t);return __LOG__(2)`encryptSignalProto complete, type=${r}`,{type:3===r?o.CiphertextType.Pkmsg:o.CiphertextType.Msg,ciphertext:(0,c.strToBuffer)(i)}}))).apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e,t,n){if((0,s.isCryptoLibraryEnabled)())return(0,a.decryptGroupSignalProto)(e,t,n);try{const r=yield new self.libsignal.GroupCipher((0,u.getSignalProtocolStore)(),e.toString({legacy:!0}),(0,c.createSignalAddress)(t));return yield r.decryptSenderKeyMessage(n)}catch(e){if(e&&"MessageCounterError"===e.name)throw new l.SignalMessageCounterError(e);throw new l.SignalDecryptionError(e)}}))).apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e,t,n){if((0,s.isCryptoLibraryEnabled)())return(0,a.encryptSenderKeyMsgSignalProto)(e,t,n);const r=yield(0,d.getGroupSenderKeyInfo)(e,t),i=new self.libsignal.GroupCipher((0,u.getSignalProtocolStore)(),e.toString({legacy:!0}),(0,c.createSignalAddress)(t)),o=yield Promise.resolve(i).then((e=>e.encrypt(n)));return{ciphertext:(0,c.strToBuffer)(o),senderKeyBytes:r}}))).apply(this,arguments)}},20962:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.maybeConvertSenderKey=function(e){try{return null!=e&&f(e)?(0,a.isCryptoLibraryEnabled)()?(0,s.toCryptoManagerSenderKeySession)(e):(0,s.toSignalSenderKeySession)(e):e}catch(e){throw __LOG__(4,void 0,new Error,!0)`maybeConvertSenderKey: failed with error ${e}`,SEND_LOGS("senderkey-convert-error"),e}},t.maybeConvertSession=function(){return p.apply(this,arguments)},t.shouldConvertSenderKey=f,t.shouldConvertSession=_;var i=r(n(48926)),o=n(52894),a=n(62325),s=n(19070),l=n(18304),c=n(70928),u=n(4830),d=r(n(89482));function _(e){return(0,a.isCryptoLibraryEnabled)()?null!=e.sessions:null!=e.aliceBaseKey}function p(){return(p=(0,i.default)((function*(e){try{if(null==e||!_(e))return e;if((0,a.isCryptoLibraryEnabled)()){const[t,n]=yield Promise.all([(0,u.getSignalProtocolStore)().getIdentityKeyPair(),(0,u.getSignalProtocolStore)().getLocalRegistrationId()]);if(!t||null==n)throw(0,d.default)("Attempted to loadSession without registration info");const r={identityKeyPair:(0,o.toCurveKeyPair)(t),registrationId:n};return(0,l.toCryptoLibrarySessionPrevSessions)(e,r)}return(0,c.toLibsignalSessionPrevSessions)(e)}catch(e){throw __LOG__(4,void 0,new Error,!0)`maybeConvertSession: failed with error ${e}`,SEND_LOGS("session-convert-error"),e}}))).apply(this,arguments)}function f(e){return(0,a.isCryptoLibraryEnabled)()?null!=e.sessions:null!=e.senderKeyStates}},84015:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.generateIdentityKeyPair=function(){return u.apply(this,arguments)},t.generatePreKeyPair=function(){return l.apply(this,arguments)},t.generateSignedKeyPair=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(52894),a=n(62325),s=r(n(43534));function l(){return(l=(0,i.default)((function*(e){if((0,a.isCryptoLibraryEnabled)()){const t=s.default.makePreKey(e),{preKeyId:n,privKey:r,pubKey:i}=t;return{keyId:n,keyPair:{privKey:r,pubKey:i},isDirectDistribution:0}}const t=yield self.libsignal.KeyHelper.generatePreKey(e),{keyId:n,keyPair:r}=t;return{keyId:n,keyPair:(0,o.toCurveKeyPair)(r),isDirectDistribution:0}}))).apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e,t){if((0,a.isCryptoLibraryEnabled)()){const n=s.default.makeSignedPreKey((0,o.toCurveKeyPair)(e),t),{preKeyId:r,privKey:i,pubKey:a,signature:l}=n;return{keyId:r,keyPair:(0,o.toCurveKeyPair)({privKey:i,pubKey:a}),signature:l}}const n=yield self.libsignal.KeyHelper.generateSignedPreKey(e,t),{keyId:r,keyPair:i,signature:l}=n;return{keyId:r,keyPair:(0,o.toCurveKeyPair)(i),signature:l}}))).apply(this,arguments)}function u(){return(u=(0,i.default)((function*(){if((0,a.isCryptoLibraryEnabled)())return s.default.makeKeyPair();const e=yield self.libsignal.KeyHelper.generateIdentityKeyPair();return(0,o.toCurveKeyPair)(e)}))).apply(this,arguments)}},38353:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupSignalSession=function(){return O.apply(this,arguments)},t.createSignalSession=function(){return S.apply(this,arguments)},t.deleteDeviceSenderKey=function(e){const t=String((0,f.createSignalAddress)(e));return A.waSignalStore.removeSenderKeyBySenderId(t)},t.deleteGroupSenderKeyInfo=function(e,t){const n=(0,f.createSignalAddress)(t),r=`${e.toString({legacy:!0})}::${n.toString()}`;return A.waSignalStore.removeSenderKey(r)},t.deleteRemoteInfo=function(){return m.apply(this,arguments)},t.deleteRemoteSession=function(e){const t=(0,f.createSignalAddress)(e).toString();return(0,E.getSignalProtocolStore)().removeSession(t)},t.getGroupSenderKeyInfo=function(){return P.apply(this,arguments)},t.getRemoteRegId=function(){return T.apply(this,arguments)},t.hasSameBaseKey=function(){return v.apply(this,arguments)},t.hasSignalSessions=function(e){return(0,E.getPersistSignalProtocolStore)().containSessions(e.map((e=>(0,f.createSignalAddress)(e).toString())))},t.maybeDeleteUnconvertedSession=function(e){const t=(0,f.createSignalAddress)(e).toString();return(0,E.getPersistSignalProtocolStore)().maybeCleanUpUnconvertedSession(t)},t.saveSessionBaseKey=function(){return C.apply(this,arguments)};var i=r(n(48926)),o=n(89323),a=n(44037),s=n(47648),l=n(52894),c=n(78283),u=n(62325),d=n(92445),_=n(80219),p=r(n(43534)),f=n(49178),E=n(4830),A=n(83986),g=n(51017),h=r(n(89482));function S(){return(S=(0,i.default)((function*(e){const{wid:t,identity:n,deviceIdentity:r}=e;if(__LOG__(2)`Signal::createSignalSession`,null!=t.device&&t.device!==a.DEFAULT_DEVICE_ID){if(!r)throw(0,h.default)("Signal::createSignalSession: expected device-identity in keyBundle for companion device");if(!(yield(0,s.validateADVwithIdentityKey)(t,r,n)))throw(0,h.default)("Signal::createSignalSession: invalid identityKey fetched")}let i,c,d;try{i=(0,l.toSignalCurvePubKey)(new o.Binary(e.identity).readBuffer())}catch(e){throw __LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Signal::createSignalSession: invalid identityKey fetched"),e}try{c=(0,l.toSignalCurvePubKey)(new o.Binary(e.skey.pubkey).readBuffer())}catch(e){throw __LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Signal::createSignalSession: invalid signedPreKey fetched"),e}if(e.key)try{d=(0,l.toSignalCurvePubKey)(new o.Binary(e.key.pubkey).readBuffer())}catch(e){__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Signal::createSignalSession: invalid preKey fetched")}const p={registrationId:e.regId,identityKey:i,signedPreKey:{keyId:e.skey.id,publicKey:c,signature:new o.Binary(e.skey.signature).readBuffer()}};return e.key&&d&&(p.preKey={keyId:e.key.id,publicKey:d}),(0,u.isCryptoLibraryEnabled)()?(0,_.createSignalSession)(p,t):new self.libsignal.SessionBuilder((0,E.getPersistSignalProtocolStore)(),(0,f.createSignalAddress)(t)).processPreKey(p)}))).apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e){if((0,u.isCryptoLibraryEnabled)())return(0,_.getRemoteRegId)(e);const t=new self.libsignal.SessionCipher((0,E.getPersistSignalProtocolStore)(),(0,f.createSignalAddress)(e));return(yield Promise.resolve(t)).getRemoteRegistrationId()}))).apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){const t=(0,f.createSignalAddress)(e).toString();yield Promise.all([(0,E.getSignalProtocolStore)().removeIdentity(t),(0,E.getSignalProtocolStore)().removeSession(t)])}))).apply(this,arguments)}function I(){return y.apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e,t){if((0,u.isCryptoLibraryEnabled)()){const e=(0,a.unsafeCoerceToDeviceJid)(t.toJid()),n=yield p.default.getSessionAliceBaseKey(e,(0,d.getCryptoDbCallbacks)().loadSession);return!0===n.success?n.value:null}return e.getSessionBaseKey()}))).apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e,t){const n=(0,f.createSignalAddress)(e),r=new self.libsignal.SessionInfo((0,E.getPersistSignalProtocolStore)(),n),i=yield I(r,e);i?yield A.waSignalStore.saveBaseKey(n.toString(),t,i):__LOG__(2)`saveSessionBaseKey: for ${t}, no basekey provided`}))).apply(this,arguments)}function v(){return(v=(0,i.default)((function*(e,t){const n=(0,f.createSignalAddress)(e),r=new self.libsignal.SessionInfo((0,E.getPersistSignalProtocolStore)(),(0,f.createSignalAddress)(e)),[i,o]=yield Promise.all([I(r,e),A.waSignalStore.loadBaseKey(n.toString(),t)]);return o?i?(0,f.bufferEqual)(o,i)?(__LOG__(2)`hasSameBaseKey: MsgId: ${t}, savedBaseKey and sessionBaseKey is same`,!0):(__LOG__(2)`hasSameBaseKey: MsgId: ${t}, savedBaseKey and sessionBaseKey is different `,!1):(__LOG__(2)`hasSameBaseKey: MsgId: ${t}, no session has been saved locally `,!1):(__LOG__(2)`hasSameBaseKey: MsgId: ${t}, no base key has been saved locally `,!1)}))).apply(this,arguments)}function O(){return(O=(0,i.default)((function*(e,t,n){if((0,u.isCryptoLibraryEnabled)())return(0,_.createGroupSenderSignalSession)((0,g.createWid)(t),e,n);const r=new self.libsignal.GroupCipher((0,E.getSignalProtocolStore)(),t,(0,f.createSignalAddress)(e));return(yield Promise.resolve(r)).decryptSenderKeyDistributionMessage(n)}))).apply(this,arguments)}function P(){return(P=(0,i.default)((function*(e,t){if((0,u.isCryptoLibraryEnabled)())return(0,c.getGroupSenderKeyInfo)(e,t);const n=new self.libsignal.GroupCipher((0,E.getPersistSignalProtocolStore)(),e.toString({legacy:!0}),(0,f.createSignalAddress)(t)),r=yield n.createSenderKeyDistributionMsg();return(0,f.strToBuffer)(r)}))).apply(this,arguments)}},89924:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.extractIdentityKey=function(e){if((0,a.isCryptoLibraryEnabled)()){const t=s.default.extractIdentityKey(e);return!0===t.success?(0,o.toCurveKeyPubKey)(t.value):null}const t=self.dcodeIO.ByteBuffer.wrap(e);t.readUint8();try{const e=self.libsignal.Protobuf.PreKeyWhisperMessage.decode(t);return(0,o.toCurveKeyPubKey)(e.identityKey.toArrayBuffer())}catch(e){return __LOG__(3)`extractIdentityKey: parse proto failed`,null}},t.xmppPreKey=function(e){return(0,i.wap)("key",null,(0,i.wap)("id",null,(0,i.BIG_ENDIAN_CONTENT)(e.keyId,3)),(0,i.wap)("value",null,e.keyPair.pubKey))},t.xmppSignedPreKey=function(e){return(0,i.wap)("skey",null,(0,i.wap)("id",null,(0,i.BIG_ENDIAN_CONTENT)(e.keyId,3)),(0,i.wap)("value",null,e.keyPair.pubKey),(0,i.wap)("signature",null,e.signature))};var i=n(80780),o=n(52894),a=n(62325),s=r(n(43534))},88515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalMessageCounterError=t.SignalDecryptionError=void 0;var r=n(66911);class i extends((0,r.customError)("SignalDecryptionError")){}t.SignalDecryptionError=i;class o extends((0,r.customError)("SignalMessageCounterError")){}t.SignalMessageCounterError=o},49178:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bufferEqual=function(e,t){if(!e||!t)return!1;if(e.byteLength!==t.byteLength)return!1;const n=new DataView(e),r=new DataView(t);for(let e=0;e<n.byteLength;e++)if(n.getUint8(e)!==r.getUint8(e))return!1;return!0},t.bufferToStr=function(e){return new self.dcodeIO.ByteBuffer.wrap(e).toString("binary")},t.createSignalAddress=a,t.createSignalLikeSenderKeyName=function(e,t){return e+"::"+a(t)},t.decryptRegistrationMaterial=function(e){return self.crypto.subtle.decrypt(s,e.encKey,e.value)},t.encryptRegistrationMaterial=function(e){return self.crypto.subtle.generateKey({name:s.name,length:s.length},!1,["encrypt","decrypt"]).then((t=>self.crypto.subtle.encrypt(s,t,e).then((e=>({encKey:t,value:e})))))},t.getSignalLikeAddressName=function(e){if("string"!=typeof e||!e.match(/.*\.\d+/))throw(0,o.default)("Invalid SignalLikeProtocolAddress string");return e.split(".")[0]},t.strToBuffer=function(e){return new self.dcodeIO.ByteBuffer.wrap(e,"binary").toArrayBuffer()},t.writeRandomPadMax16=function(e){const t=new Uint8Array(1);self.crypto.getRandomValues(t),function(e,t){for(let n=0;n<t;n++)e.writeUint8(t)}(e,1+(15&t[0]))};var i=n(62325),o=r(n(89482));function a(e){if(!(e.isUser()||e.isServer()||e.isPSA()))throw(0,o.default)(`Jid ${e.toString({legacy:!0})} is not fully qualified, jid.server should be "s.whatsapp.net"`);return(0,i.isCryptoLibraryEnabled)()?function(e){return`${e.getSignalAddress()}.0`}(e):new self.libsignal.SignalProtocolAddress(e.getSignalAddress(),0)}const s={name:"AES-CTR",length:128,counter:new Uint8Array(16)}},4258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.META_KEYS=void 0;t.META_KEYS={REG_ID:"signal_reg_id",STATIC_PUBKEY:"signal_static_pubkey",STATIC_PRIVKEY:"signal_static_privkey",NEXT_PK_ID:"signal_next_pk_id",LAST_SPK_ID:"signal_last_spk_id",FIRST_UNUPLOAD_PK_ID:"signal_first_unupload_pk_id",SERVER_HAS_KEY:"signal_sever_has_pre_keys",ADV_SIGNED_IDENTITY:"adv_signed_identity"}},83986:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.waSignalStore=void 0;var i=r(n(48926)),o=n(49178),a=n(4258),s=n(73804),l=n(32954),c=r(n(89482));const u=new class{constructor(){this.idToSignedPreKey=new Map}getMeta(e){return(0,s.getMetaTable)().get(e).then((e=>e?e.value:null))}putMeta(e){return(0,i.default)((function*(){const t=(0,s.getMetaTable)(),n=e.map((e=>t.createOrReplace(e)));yield Promise.all(n)}))()}setServerHasPreKeys(e){this.putMeta([{key:a.META_KEYS.SERVER_HAS_KEY,value:e}])}getServerHasPreKeys(){return this.getMeta(a.META_KEYS.SERVER_HAS_KEY)}putADVSignedIdentity(e){return this.putMeta([{key:a.META_KEYS.ADV_SIGNED_IDENTITY,value:e}])}getADVSignedIdentity(){return this.getMeta(a.META_KEYS.ADV_SIGNED_IDENTITY)}getPreKeysByRange(e,t){return(0,s.getPreKeyTable)().greaterThan(["keyId"],e-1,{limit:t})}getPreKeyById(e){return(0,s.getPreKeyTable)().get(e)}removePreKeyById(e){return(0,s.getPreKeyTable)().remove(e)}bulkRemovePreKey(e){return(0,s.getPreKeyTable)().bulkRemove(e)}putPreKeys(e){return(0,s.getPreKeyTable)().bulkCreateOrReplace(e)}markPreKeyAsDirectDistribution(e){return(0,s.getPreKeyTable)().merge(e,{isDirectDistribution:1})}getSignedPreKey(){return this.getMeta(a.META_KEYS.LAST_SPK_ID).then((e=>this.getSignedPreKeyById(e)))}getSignedPreKeyById(e){if(this.idToSignedPreKey.has(e))return Promise.resolve(this.idToSignedPreKey.get(e));return(0,s.getSignedPreKeyTable)().get(e).then((t=>(this.idToSignedPreKey.set(e,t),t)))}putSignedPreKeys(e){return(0,i.default)((function*(){const t=(0,s.getSignedPreKeyTable)(),n=e.map((e=>{const{keyId:n,keyPair:r,signature:i}=e;return t.get(n).then((e=>{if(e)throw(0,c.default)(`signed preKey id ${n} already exists`);return t.create({keyId:n,keyPair:r,signature:i})}))}));yield Promise.all(n)}))()}putSession(e,t){return(0,s.getSessionTable)().createOrReplace({address:e,session:t})}bulkPutSession(e){return(0,s.getSessionTable)().bulkCreateOrReplace(e)}removeSession(e){return(0,s.getSessionTable)().remove(e)}bulkRemoveSession(e){return(0,s.getSessionTable)().bulkRemove(e)}getSession(e){return(0,s.getSessionTable)().get(e).then((e=>e?e.session:null))}bulkGetSession(e){return(0,s.getSessionTable)().bulkGet(e).then((e=>e.map((e=>e?e.session:null))))}putIdentity(e,t){return(0,s.getIdentityTable)().createOrReplace({identifier:e,identityKey:t})}bulkPutIdentity(e){return(0,s.getIdentityTable)().bulkCreateOrReplace(e)}bulkGetIdentity(e){return(0,s.getIdentityTable)().bulkGet(e).then((e=>e.map((e=>e?e.identityKey:null))))}getIdentity(e){return(0,s.getIdentityTable)().get(e).then((e=>e?e.identityKey:null))}removeIdentity(e){return(0,s.getIdentityTable)().remove(e)}bulkRemoveIdentity(e){return(0,s.getIdentityTable)().bulkRemove(e)}getIdentityKeyWithRowId(e){return(0,s.getIdentityTable)().get(e).then((e=>e?{identityKey:e.identityKey,rowId:e.rowId}:null))}bulkGetIdentityKeyWithRowId(e){return(0,s.getIdentityTable)().bulkGet(e).then((e=>e.map((e=>e?{identityKey:e.identityKey,rowId:e.rowId}:null))))}bulkPutIdentityKeyWithRowId(e){return(0,s.getIdentityTable)().bulkCreateOrReplace(e)}saveBaseKey(e,t,n){return(0,s.getBaseKeyTable)().createOrReplace({address:e,originalMsgId:t,baseKey:n})}loadBaseKey(e,t){return(0,s.getBaseKeyTable)().equals(["address","originalMsgId"],[e,t]).then((e=>e&&0!==e.length?e[0].baseKey:null))}deleteBaseKey(e,t){const n=(0,s.getBaseKeyTable)();return n.equals(["address","originalMsgId"],[e,t]).then((e=>{if(e&&0!==e.length)return n.remove(e[0].id)}))}putSenderKey(e,t,n){return(0,s.getSenderKeyTable)().createOrReplace({senderKeyName:e,senderId:t,senderKey:n})}bulkPutSenderKey(e){return(0,s.getSenderKeyTable)().bulkCreateOrReplace(e)}removeSenderKey(e){return(0,s.getSenderKeyTable)().remove(e)}getSenderKey(e){return(0,s.getSenderKeyTable)().get(e).then((e=>e?e.senderKey:null))}removeSenderKeyBySenderId(e){const t=(0,s.getSenderKeyTable)();return t.equals(["senderId"],e).then((e=>t.bulkRemove(e.map((e=>e.senderKeyName)))))}clearCredential(){const e=[(0,s.getIdentityTable)(),(0,s.getMetaTable)(),(0,s.getPreKeyTable)(),(0,s.getSessionTable)(),(0,s.getSignedPreKeyTable)()];return Promise.all(e.map((e=>e.clear()))).then((()=>{}))}getRegistrationInfo(){return null!=this.registrationInfo?Promise.resolve(this.registrationInfo):Promise.all([this.getMeta(a.META_KEYS.REG_ID),this.getMeta(a.META_KEYS.STATIC_PUBKEY),this.getMeta(a.META_KEYS.STATIC_PRIVKEY)]).then((e=>{let[t,n,r]=e;if(t&&n&&r)return Promise.all([(0,o.decryptRegistrationMaterial)(n),(0,o.decryptRegistrationMaterial)(r)]).then((e=>{let[n,r]=e;return this.registrationInfo={registrationId:t,identityKeyPair:{pubKey:n,privKey:r}},this.registrationInfo}))}))}setRegistrationInfo(e){var t=this;return(0,i.default)((function*(){yield Promise.all([(0,o.encryptRegistrationMaterial)(e.identityKeyPair.pubKey),(0,o.encryptRegistrationMaterial)(e.identityKeyPair.privKey)]).then((n=>{let[r,i]=n;return Promise.all([t.putMeta([{key:a.META_KEYS.REG_ID,value:e.registrationId},{key:a.META_KEYS.STATIC_PUBKEY,value:r},{key:a.META_KEYS.STATIC_PRIVKEY,value:i}])])}))}))()}getOrGenPreKeys(e,t){return(0,l.getStorage)().lock(["signal-meta-store","prekey-store"],(()=>Promise.all([this.getMeta(a.META_KEYS.FIRST_UNUPLOAD_PK_ID),this.getMeta(a.META_KEYS.NEXT_PK_ID)]).then((n=>{let[r,i]=n;const o=r||1,a=i||1,s=a-o,l=e-s;if(l<=0)return __LOG__(2)`getPreKeys: no prekey needs to be generated, available: ${s}, need: ${e}`,this.getPreKeysByRange(o,e);const c=function(e,t){const n=[];for(let r=e;r<t;r++)n.push(r);return n}(a,a+l).map((e=>t(e)));return Promise.all(c).then((e=>this.savePreKeys(e))).then((()=>this.getPreKeysByRange(o,e)))}))))}getOrGenSinglePreKey(e){return this.getOrGenPreKeys(1,e).then((e=>{if(1!==e.length)throw(0,c.default)(`Expected to get exactly one key but got ${e.length}`);return e[0]}))}savePreKeys(e){var t=this;return(0,i.default)((function*(){if(0===e.length)return;const n=e[e.length-1];yield Promise.all([t.putMeta([{key:a.META_KEYS.NEXT_PK_ID,value:n.keyId+1}]),t.putPreKeys(e)])}))()}markKeyAsUploaded(e){return Promise.all([this.getMeta(a.META_KEYS.FIRST_UNUPLOAD_PK_ID),this.getMeta(a.META_KEYS.NEXT_PK_ID)]).then((t=>{let[n,r]=t;if(e<0||!r||e>=r)throw(0,c.default)(`markKeyAsUploaded: key ${e} is out of boundary.`);const i=n?Math.max(n,e+1):e+1;return this.putMeta([{key:a.META_KEYS.FIRST_UNUPLOAD_PK_ID,value:i}])}))}rotateSignedPreKey(e,t){return(0,l.getStorage)().lock(["signal-meta-store","signed-prekey-store"],(()=>this.getMeta(a.META_KEYS.LAST_SPK_ID).then((n=>{const r=null==n?1:n+1;return t(e,r).then((e=>(this.putSignedPreKeys([e]),this.putMeta([{key:a.META_KEYS.LAST_SPK_ID,value:r}]),e)))}))))}};t.waSignalStore=u},78283:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createSignalSession=function(){return m.apply(this,arguments)},t.decryptGroupSignalProto=function(e,t,n){__LOG__(2)`CryptoLibrarySignal::decryptGroupSignalProto`;let r=null;return T().decryptGroupContent({loadSenderKeySession:S.loadSenderKeySession,saveSenderKeySession:S.saveSenderKeySession},(0,E.widToMulticastJid)(e),(0,E.widToDeviceJid)(t),n,(e=>(r=(0,o.uint8ArrayToBuffer)(e),Promise.resolve()))).then((e=>{if(e.success){if(null==r)throw new f.SignalDecryptionError("Null result on successful decryption of group msg");return r}const{error:t}=e;throw __LOG__(3)`CryptoLibrarySignal::decryptGroupMessage failed ${t}`,"errDuplicateMsg"===t?new f.SignalMessageCounterError(t):new f.SignalDecryptionError(t)})).catch((e=>{if(e instanceof f.SignalDecryptionError||e instanceof f.SignalMessageCounterError)throw e;throw __LOG__(4,void 0,new Error)`CryptoLibrarySignal::decryptGroupSignalProto failed to decrypt: ${e}`,new f.SignalDecryptionError("Unexpected decryption error")}))},t.decryptSignalProto=function(){return I.apply(this,arguments)},t.encryptSenderKeyMsgSignalProto=function(){return C.apply(this,arguments)},t.encryptSignalProto=function(e,t){return __LOG__(2)`CryptoLibrarySignal::encryptSignalProto`,T().encryptContent({handleNewSession:S.handleNewSession,loadSession:S.loadSession},(0,E.widToDeviceJid)(e),t,null).then((e=>{if(e.success){var t;const{type:n,ciphertext:r}=e.value;return{type:null!==(t=u.CiphertextType.cast(n))&&void 0!==t?t:u.CiphertextType.Msg,ciphertext:(0,o.uint8ArrayToBuffer)(r)}}throw __LOG__(3)`CryptoLibrarySignal::encryptSignalProto:failed with error ${e.error}`,(0,A.default)(e.error)}))},t.getCryptoLibModule=T,t.getGroupSenderKeyInfo=function(){return v.apply(this,arguments)},t.getRemoteRegId=function(){return y.apply(this,arguments)},t.processSenderKeyDistributionMsg=function(e,t,n){return __LOG__(2)`CryptoLibrarySignal::processSenderKeyDistributionMsg`,T().saveSenderKeySession({saveSenderKeySession:S.saveSenderKeySession},e,(0,E.widToDeviceJid)(t),new Uint8Array(n)).then((e=>{if(!e.success)throw __LOG__(3)`CryptoLibrarySignal::processSenderKeyDistributionMsg failed with error ${e.error}`,(0,A.default)(e.error)}))};var i=r(n(48926)),o=n(89738),a=h(n(60496)),s=h(n(51969)),l=n(44037),c=n(70717),u=n(96193),d=n(62325),_=n(92445),p=r(n(43534)),f=n(88515),E=n(14356),A=r(n(89482));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const S=(0,_.getCryptoDbCallbacks)();function T(){return(0,d.isCryptoLibraryWithQueuesEnabled)()?{establishOutgoingSession:s.establishOutgoingSession,decryptContent:s.decryptContent,encryptContent:s.encryptContent,encryptGroupContent:s.encryptGroupContent,decryptGroupContent:s.decryptGroupContent,saveSenderKeySession:s.saveSenderKeySession,rotateGroupSenderKey:s.rotateGroupSenderKey}:{establishOutgoingSession:a.establishOutgoingSession,decryptContent:a.decryptContent,encryptContent:a.encryptContent,encryptGroupContent:a.encryptGroupContent,decryptGroupContent:a.decryptGroupContent,saveSenderKeySession:a.saveSenderKeySession,rotateGroupSenderKey:a.rotateGroupSenderKey}}function m(){return(m=(0,i.default)((function*(e,t){__LOG__(2)`CryptoLibrarySignal::createSignalSession`;const n=yield S.getRegistrationInfo();if(!n)throw(0,A.default)("No registration info found");return T().establishOutgoingSession({handleNewSession:S.handleNewSession},n,(0,E.widToDeviceJid)(e),t).then((e=>{if(!e.success)throw __LOG__(3)`CryptoLibrarySignal::createSignalSession failed with error ${e.error}`,(0,A.default)(e.error)}))}))).apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e,t,n){__LOG__(2)`CryptoLibrarySignal::decryptSignalProto`;const r=t===u.CiphertextType.Pkmsg?"pkmsg":"msg";let i;const a=yield S.getRegistrationInfo();return a?T().decryptContent({handleNewSession:S.handleNewSession,loadOneTimePreKey:S.loadOneTimePreKey,loadSession:S.loadSession,loadSignedPreKey:S.loadSignedPreKey},a,(0,E.widToDeviceJid)(e),{ciphertext:n,type:r},(e=>(i=(0,o.uint8ArrayToBuffer)(e),Promise.resolve()))).then((e=>{if(e.success){if(null==i)throw new f.SignalDecryptionError("Null result on successful decryption");return i}const{error:t}=e;throw __LOG__(3)`CryptoLibrarySignal::decryptMessage failed with error ${t}`,"errDuplicateMsg"===t?new f.SignalMessageCounterError(t):new f.SignalDecryptionError(t)})).catch((e=>{if(e instanceof f.SignalDecryptionError||e instanceof f.SignalMessageCounterError)throw e;throw __LOG__(4,void 0,new Error)`CryptoLibrarySignal::decryptSignalProto failed to decrypt: ${e}`,new f.SignalDecryptionError("Unexpected decryption error")})):Promise.reject((0,A.default)("No registration info found"))}))).apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e){const t=yield S.loadSession((0,E.widToDeviceJid)(e));return null==t?void 0:t.remote}))).apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e,t,n){const r=(0,l.validateGroupJid)((0,E.widToMulticastJid)(e));if(null==r)throw(0,A.default)("Status and Broadcast JIDs are not supported by WACryptoManager yet.");const i=(0,E.widToDeviceJid)(t);let a=yield T().encryptGroupContent({loadSenderKeySession:S.loadSenderKeySession,saveSenderKeySession:S.saveSenderKeySession},r,i,n);if(!a.success&&"errLoadSenderKeySession"===a.error){a.error,__LOG__(2)`CryptoLibrarySignal::encryptGroupMessage no sender key, generating a new one`;const e=yield(0,c.makeKeyPair)();yield T().rotateGroupSenderKey({saveSenderKeySession:S.saveSenderKeySession},r,i,e),a=yield T().encryptGroupContent({loadSenderKeySession:S.loadSenderKeySession,saveSenderKeySession:S.saveSenderKeySession},r,i,n)}if(a.success){const{ciphertext:e}=a.value.ciphertext,{senderKeyDistributionProto:t}=a.value;return{ciphertext:(0,o.uint8ArrayToBuffer)(e),senderKeyBytes:(0,o.uint8ArrayToBuffer)(t)}}throw __LOG__(3)`CryptoLibrarySignal::encryptGroupMessage failed with error ${a.error}`,(0,A.default)(a.error)}))).apply(this,arguments)}function v(){return(v=(0,i.default)((function*(e,t){__LOG__(2)`CryptoLibrarySignal::getGroupSenderKeyInfo`;const n=yield p.default.createSenderKeyDistributionMsg(S.loadSenderKeySession,S.saveSenderKeySession,(0,l.toGroupJid)(e.toString({legacy:!0})),(0,E.widToDeviceJid)(t));if(n.success)return(0,o.uint8ArrayToBuffer)(n.value);throw __LOG__(3)`CryptoLibrarySignal::getGroupSenderKeyInfo failed with error ${n.error}`,(0,A.default)(n.error)}))).apply(this,arguments)}},62325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCryptoLibraryEnabled=i,t.isCryptoLibraryWithQueuesEnabled=function(){return i()&&(0,r.getABPropConfigValue)("web_crypto_library_with_queues_enabled")};var r=n(83741);function i(){return(0,r.getABPropConfigValue)("web_crypto_library_enabled")}},92445:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getCryptoDbCallbacks=function(){return{loadSession:function(){var e=(0,i.default)((function*(e){const t=(0,u.createSignalAddress)((0,_.createDeviceWid)(e)),n=yield(0,d.getSignalProtocolStore)().loadSession(t);return null!=n?n:null}));return function(){return e.apply(this,arguments)}}(),handleNewSession:(e,t,n,r)=>{const i=(0,u.createSignalAddress)((0,_.createDeviceWid)(e));return Promise.all([(0,d.getSignalProtocolStore)().storeSession(i,t),n&&(0,d.getSignalProtocolStore)().saveIdentity(i,(0,o.uint8ArrayToBuffer)(n)),null!=r&&(0,d.getSignalProtocolStore)().removePreKey(r)]).then((()=>(0,a.makeResult)()))},loadSignedPreKey:e=>(0,d.getSignalProtocolStore)().loadSignedPreKey(e).then((t=>{if(null==t)return null;const n=(0,s.makeKeyPairFromArrayBuffers)(t.pubKey,t.privKey),r=(0,c.encodeSignalProto)(l.SignedPreKeyRecordStructureSpec,{id:e,publicKey:(0,s.serializePubKey)(n),privateKey:n.privateKey,signature:new Uint8Array(t.signature),timestamp:0});return(0,c.castToByteEncoded)(r)})),loadOneTimePreKey:e=>(0,d.getSignalProtocolStore)().loadPreKey(e).then((t=>{if(null==t)return null;const n=(0,s.makeKeyPairFromArrayBuffers)(t.pubKey,t.privKey),r=(0,c.encodeSignalProto)(l.PreKeyRecordStructureSpec,{id:e,publicKey:(0,s.serializePubKey)(n),privateKey:n.privateKey});return(0,c.castToByteEncoded)(r)})),loadSenderKeySession:(e,t)=>{const n=(0,u.createSignalLikeSenderKeyName)(e,(0,_.createDeviceWid)(t));return(0,d.getSignalProtocolStore)().loadSenderKey(n).then((e=>null==e?(0,a.makeError)("errLoadSenderKeySession"):(0,a.makeResult)(e)))},saveSenderKeySession:(e,t,n)=>{const r=(0,u.createSignalLikeSenderKeyName)(e,(0,_.createDeviceWid)(t));return(0,d.getSignalProtocolStore)().storeSenderKey(r,n)},getRegistrationInfo:(e=(0,i.default)((function*(){const e=yield(0,d.getSignalProtocolStore)().getLocalRegistrationId(),t=yield(0,d.getSignalProtocolStore)().getIdentityKeyPair();if(null!=e&&null!=t)return e&&t?{regId:(0,c.castRegistrationId)(e),staticKeyPair:(0,s.makeKeyPairFromArrayBuffers)(t.pubKey.slice(1),t.privKey)}:void 0})),function(){return e.apply(this,arguments)})};var e};var i=r(n(48926)),o=n(89738),a=n(22207),s=n(70717),l=n(40479),c=n(31879),u=n(49178),d=n(4830),_=n(51017)},19070:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.toCryptoManagerSenderKeySession=function(){return c.apply(this,arguments)},t.toSignalSenderKeySession=function(e){const t=e.senderKeyStates[0],n=(0,l.makeLibsignalSenderKeyChainKey)(t.senderKeyChainKey.nextMsgIndex,(0,o.uint8ArrayToBuffer)(t.senderKeyChainKey.chainKey)),r=t.senderKeyId,i=t.senderSigningKeyPrivate,a=null!=i?(0,l.makeLibsignalSenderKeySignatureKey)((0,o.uint8ArrayToBuffer)(t.senderSigningKeyPublic),(0,o.uint8ArrayToBuffer)(i)):(0,l.makeLibsignalSenderKeySignatureKey)((0,o.uint8ArrayToBuffer)(t.senderSigningKeyPublic)),s=(0,l.makeLibsignalSenderKeyState)(a,n,r,[]);return(0,l.makeNewLibsignalSenderKeySession)([s])};var i=r(n(48926)),o=n(89738),a=n(63617),s=n(31879),l=n(4458);function c(){return(c=(0,i.default)((function*(e){const t=e.sessions[0],n=void 0!==t.signatureKey.pubKey?new Uint8Array(t.signatureKey.pubKey):new Uint8Array(t.signatureKey),r=t.signatureKey.privKey?(0,s.ensureSize)(new Uint8Array(t.signatureKey.privKey),32):void 0,i=(0,a.makeSenderKeyChainKey)(t.chainKey.counter,(0,s.ensureSize)(new Uint8Array(t.chainKey.key),32)),o=t.keyId,l=[];for(let e=0;e<t.messageKeys.length;e++)if(t.messageKeys[e]){const n=t.messageKeys[e],r=yield(0,s.hkdf)(new Uint8Array(n),null,"WhisperGroup",50).then((t=>(0,a.makeSenderKeyMsgKey)(e,t)));l.push(r)}const c=(0,a.makeSenderKeyState)(n,r,i,o,l);return(0,a.makeNewSenderKeySession)(c)}))).apply(this,arguments)}},80219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupSenderSignalSession=function(e,t,n){return r.processSenderKeyDistributionMsg(e,t,n)},t.createSignalSession=function(e,t){var n,i,o;const a={identity:new Uint8Array(e.identityKey),oneTimeKey:e.preKey&&{id:null===(n=e.preKey)||void 0===n?void 0:n.keyId,publicKey:(null===(i=e.preKey)||void 0===i?void 0:i.publicKey)&&new Uint8Array(null===(o=e.preKey)||void 0===o?void 0:o.publicKey)},regId:e.registrationId,signedKey:{id:e.signedPreKey.keyId,publicKey:new Uint8Array(e.signedPreKey.publicKey),signature:new Uint8Array(e.signedPreKey.signature)}};return r.createSignalSession(t,a)},t.getRemoteRegId=function(e){return r.getRemoteRegId(e).then((e=>null==e?void 0:e.regId))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(78283));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},18304:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.toCryptoLibrarySessionPrevSessions=function(){return u.apply(this,arguments)},t.toCryptoManagerSession=d;var i=r(n(48926)),o=n(54080),a=n(70717),s=n(31879),l=n(69595),c=r(n(89482));function u(){return(u=(0,i.default)((function*(e,t){const n=p(e),r=yield d(n,t),i=[];for(const n in e.sessions)if(-1!==e.sessions[n].indexInfo.closed){const r=yield d(e.sessions[n],t),o=(0,l.detachSession)(r);i.push(o)}return(0,l.setPrevSessions)(r,i)}))).apply(this,arguments)}function d(){return _.apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e,t){try{const n=[];if(e.currentRatchet.lastRemoteEphemeralKey){const t=e[(0,o.arrayBufferToString)(e.currentRatchet.lastRemoteEphemeralKey)];if(t){const r=[];for(let e=0;e<t.messageKeys.length;e++){const n=t.messageKeys[e],i=yield(0,s.hkdf)(new Uint8Array(n),null,"WhisperMessageKeys",80).then((t=>(0,l.splitMsgKey)(e,t)));r.push(i)}const i=e.currentRatchet.lastRemoteEphemeralKey,o=t.chainKey.key;if(null!=i&&null!=o){const e=(0,l.makeRecvChain)((0,a.castToSerializedPubKey)(new Uint8Array(i)),t.chainKey.counter+1,(0,s.toBytes)(o,32),r);n.push(e)}}}const r=e[(0,o.arrayBufferToString)(e.currentRatchet.ephemeralKeyPair.pubKey)],i=(0,a.castToSerializedPubKey)(new Uint8Array(e.currentRatchet.ephemeralKeyPair.pubKey)),c=r.chainKey.key,u=(0,s.toBytes)(e.currentRatchet.ephemeralKeyPair.privKey,32),d=(0,a.makeSerializedKeyPairFrom)(u,i),_=(0,l.makeSendChain)(d,r.chainKey.counter+1,(0,s.toBytes)(c,32)),p=t&&{regId:t.registrationId,pubKey:(0,a.serializeIdentity)(new Uint8Array(t.identityKeyPair.pubKey))},f=t&&{regId:e.registrationId,pubKey:new Uint8Array(e.indexInfo.remoteIdentityKey)},E=e.indexInfo.baseKey&&(0,a.castToSerializedPubKey)(new Uint8Array(e.indexInfo.baseKey)),A=e.currentRatchet.previousCounter;-1===A&&(__LOG__(4,void 0,new Error,!0)`toLibsignalSession: prevSendChainHighestIndex is -1`,SEND_LOGS("session-negative-previous-counter"));const g=(0,s.toBytes)(e.currentRatchet.rootKey,32);let h;null!=e.pendingPreKey&&(h=(0,l.makeInitialExchangeInfo)(e.pendingPreKey.preKeyId,e.pendingPreKey.signedKeyId,(0,a.castToSerializedPubKey)(new Uint8Array(e.pendingPreKey.baseKey))));return(0,l.makeSession)(p,f,g,n,_,h,Math.max(A,0),[],E)}catch(e){throw e}}))).apply(this,arguments)}function p(e){const t=e.sessions;for(const e in t)if(-1===t[e].indexInfo.closed)return t[e];throw(0,c.default)("getOpenSession: There are no open session")}},4458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLibsignalSenderKeyChainKey=function(e,t){return{counter:e,key:t}},t.makeLibsignalSenderKeyMsgKey=function(e){return e},t.makeLibsignalSenderKeySignatureKey=function(e,t){if(null!=t)return{pubKey:e,privKey:t};return e},t.makeLibsignalSenderKeyState=function(e,t,n,r){return{signatureKey:e,chainKey:t,keyId:n,messageKeys:null==r?[]:r}},t.makeNewLibsignalSenderKeySession=function(e){return{sessions:e,version:"v1"}}},43534:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(53596),a=n(22207),s=n(36011),l=n(88170),c=n(63617),u=n(70717),d=n(31879),_=n(69595),p=n(75916),f=n(62136),E=n(29987),A=n(78283),g=n(33655);class h{createSenderKeyDistributionMsg(e,t,n,r){return(0,i.default)((function*(){let i=yield e(n,r);if(!i.success&&"errLoadSenderKeySession"===i.error){const o=yield(0,u.makeKeyPair)();yield(0,A.getCryptoLibModule)().rotateGroupSenderKey({saveSenderKeySession:t},n,r,o),i=yield e(n,r)}if(i.success){const e=i.value.senderKeyStates.slice(-1);if(e.length>0)return(0,a.makeResult)((0,l.createSenderKeyDistributionProto)((0,c.convertFromRawToSenderKeyState)(e[0])))}return(0,a.makeError)("errGetSenderKeyProto")}))()}getSessionAliceBaseKey(e,t){return(0,i.default)((function*(){const n=yield t(e);return(null==n?void 0:n.aliceBaseKey)?(0,a.makeResult)((0,d.toBuffer)(n.aliceBaseKey)):(0,a.makeError)("errSessionExists")}))()}extractIdentityKey(e){const t=(0,s.readContent)(e,_.FORMAT_VERSION,0);if(!t.success)return t;try{const e=(0,g.decodeProtobuf)(f.PreKeySignalMessageSpec,t.value),{registrationId:n,signedPreKeyId:r,baseKey:i,identityKey:o,message:s}=e;return null==n||null==r||null==i||null==o||null==s?(0,a.makeError)("errSignalDeserializePkInvalidProtoFormat"):((0,d.ensureSize)(new Uint8Array(o),33),(0,a.makeResult)(o))}catch(e){return __LOG__(3)`extractIdentityKey: parse proto failed`,(0,a.makeError)("errSignalDeserializePkKeyBadFormat")}}verifySignature(e,t,n){const r=(0,p.convertPublicKeyToSerializedPubKey)(e),i=(0,d.ensureSize)(n,64);return(0,p.verifyMsgSignalVariant)(r,t,i)}signMsg(e,t,n){return(0,i.default)((function*(){const r=(0,u.makeKeyPairFromArrayBuffers)(e,t),i=yield(0,p.signMsg)(r,new Uint8Array(n));return(0,d.toBuffer)(i)}))()}makePreKey(e){const t=(0,u.makePreKeys)(e,1),{id:n,keyPair:r}=t[0].plainObject;return{preKeyId:n,privKey:(0,d.toBuffer)(r.privateKey),pubKey:(0,d.toBuffer)(r.publicKey)}}makeSignedPreKey(e,t){const n=(0,u.makeKeyPairFromArrayBuffers)(e.pubKey,e.privKey),r=(0,p.makeSignedPreKey)(t,(0,E.unixTimeMs)(),n);return{preKeyId:r.id,signature:(0,d.toBuffer)(r.signature),pubKey:(0,d.toBuffer)(r.keyPair.publicKey),privKey:(0,d.toBuffer)(r.keyPair.privateKey)}}makeKeyPair(){const{privateKey:e,publicKey:t}=(0,u.makeKeyPair)();return{privKey:(0,d.toBuffer)(e),pubKey:(0,d.toBuffer)(t)}}}h.prototype.verify=o.verify,h.prototype.makeRegistrationId=d.makeRegistrationId,h.prototype.makeSenderKeyId=d.makeSenderKeyId;var S=new h;t.default=S},70928:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.toLibsignalSession=p,t.toLibsignalSessionPrevSessions=function(e){const t=[p(e)];for(let n=0;n<e.prevSessions.length;n++){const r=p((0,a.parseSession)(e.prevSessions[n]));r.indexInfo.closed=1,e.prevSessions[n].aliceBaseKey&&t.push(r)}return(0,s.makeLibsignalSession)(t)};var i=n(54080),o=n(89738),a=n(69595),s=n(70622),l=r(n(89482));const c=1,u=2,d=1,_=2;function p(e){try{const t=e.remote.regId,n=e.recvChains.length-1,r=e.initialExchangeInfo,a=-1!==n?(0,s.makeLibsignalSessionCurrentRatchet)((0,o.uint8ArrayToBuffer)(e.rootKey),(0,o.uint8ArrayToBuffer)(e.sendChain.ratchetKey.serializedPubKey),(0,o.uint8ArrayToBuffer)(e.sendChain.ratchetKey.privateKey),(0,o.uint8ArrayToBuffer)(e.recvChains[n].ratchetPubKey),e.prevSendChainHighestIndex):(0,s.makeLibsignalSessionCurrentRatchet)((0,o.uint8ArrayToBuffer)(e.rootKey),(0,o.uint8ArrayToBuffer)(e.sendChain.ratchetKey.serializedPubKey),(0,o.uint8ArrayToBuffer)(e.sendChain.ratchetKey.privateKey),null,e.prevSendChainHighestIndex),l=e.aliceBaseKey?(0,s.makeLibsignalSessionIndexInfo)((0,o.uint8ArrayToBuffer)(e.aliceBaseKey),null!=r?d:_,(0,o.uint8ArrayToBuffer)(e.remote.pubKey),-1):(0,s.makeLibsignalSessionIndexInfo)(null,null!=r?d:_,(0,o.uint8ArrayToBuffer)(e.remote.pubKey),-1);let p;if(r){const e=r.remoteOneTimeId;p=null!=e?(0,s.makeLibsignalSessionPendingPreKey)((0,o.uint8ArrayToBuffer)(r.localOneTimePubKey),r.remoteSignedId,e):(0,s.makeLibsignalSessionPendingPreKey)((0,o.uint8ArrayToBuffer)(r.localOneTimePubKey),r.remoteSignedId,null)}const f=(0,s.makeLibsignalSessionChainKey)(e.sendChain.nextMsgIndex-1,(0,o.uint8ArrayToBuffer)(e.sendChain.chainKey)),E=(0,s.makeLibsignalSessionSendChain)(f,[],c);let A,g;if(-1!==n){const t=(0,s.makeLibsignalSessionChainKey)(e.recvChains[n].nextMsgIndex-1,(0,o.uint8ArrayToBuffer)(e.recvChains[n].chainKey));A=(0,s.makeLibsignalSessionRecvChains)(t,[],u),g=(0,i.arrayBufferToString)((0,o.uint8ArrayToBuffer)(e.recvChains[n].ratchetPubKey))}const h=[],S=(0,i.arrayBufferToString)(a.ephemeralKeyPair.pubKey);return null!=g?(0,s.makeLibsignalSessionState)(t,a,l,h,S,E,g,A,p):(0,s.makeLibsignalSessionState)(t,a,l,h,S,E,null,A,p)}catch(e){throw(0,l.default)(e)}}},70622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLibsignalSession=function(e){const t={sessions:{},version:"v1"};for(let n=0;n<e.length;n++)if(e[n].indexInfo.baseKey){const i=(0,r.arrayBufferToString)(e[n].indexInfo.baseKey);t.sessions[i]=e[n]}return t},t.makeLibsignalSessionChainKey=function(e,t){if(null!=t)return{counter:e,key:t};return{counter:e}},t.makeLibsignalSessionCurrentRatchet=function(e,t,n,r,i){if(null!=r)return{rootKey:e,ephemeralKeyPair:{pubKey:t,privKey:n},lastRemoteEphemeralKey:r,previousCounter:i};return __LOG__(2)`makeLibsignalSessionCurrentRatchet: lastRemoteEphemeralKey is none`,{rootKey:e,ephemeralKeyPair:{pubKey:t,privKey:n},previousCounter:i}},t.makeLibsignalSessionIndexInfo=function(e,t,n,r){if(null!=e)return{baseKey:e,baseKeyType:t,remoteIdentityKey:n,closed:r};return __LOG__(2)`makeLibsignalSessionIndexInfo: basekey is none`,{baseKeyType:t,remoteIdentityKey:n,closed:r}},t.makeLibsignalSessionMessageKey=function(e){return e},t.makeLibsignalSessionOldRatchet=function(e,t){return{added:e,ephemeralKey:t}},t.makeLibsignalSessionPendingPreKey=function(e,t,n){if(null!=n)return{baseKey:e,signedKeyId:t,preKeyId:n};return __LOG__(2)`makeLibsignalSessionPendingPreKey: prekey id is null`,{baseKey:e,signedKeyId:t}},t.makeLibsignalSessionRecvChains=function(e,t,n){return{chainKey:e,chainType:n,messageKeys:t}},t.makeLibsignalSessionSendChain=function(e,t,n){return{chainKey:e,chainType:n,messageKeys:t}},t.makeLibsignalSessionState=function(e,t,n,r,i,o,a,s,l){const c={registrationId:e,currentRatchet:t,indexInfo:n,oldRatchetList:r,[i]:o,pendingPreKey:l};null!=a&&(c[a]=s);return null!=l?c.pendingPreKey=l:delete c.pendingPreKey,c};var r=n(54080)},73688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringifyIdentityKey=function(e){if(e instanceof ArrayBuffer)return(0,r.bufferToStr)(e);return e};var r=n(49178)},4830:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.enableMemSignalStore=function(){l!==a.default&&a.default.deleteAllCache();s=(0,i.isUnifiedSignalStorageEnabled)()?a.default:o.default,l=a.default,a.default.switchToMemMode()},t.enablePersistSignalStore=function(){l=s,a.default.switchToPersistMode()},t.getPersistSignalProtocolStore=function(){return s},t.getSignalProtocolStore=function(){return l};var i=n(95735),o=r(n(69764)),a=r(n(96035));let s=o.default,l=s},79442:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SignalStoreCache=void 0;var i=r(n(50361)),o=n(38918);t.SignalStoreCache=class{constructor(){this.RegistrationInfo=null,this.SignedPreKeyStore=new Map,this.PrekeyStore=new Map,this.SessionStore=new Map,this.IdentityStore=new Map,this.SenderKeyStore=new Map,this.Mutex={session:new o.Semaphore,identity:new o.Semaphore,senderKey:new o.Semaphore,preKey:new o.Semaphore},this.Dirty={session:new Set,identity:new Set,senderKey:new Set,preKey:new Set}}_generateSessionUpdate(){const e=[],t=[];return this.Dirty.session.forEach((n=>{const r=this.SessionStore.get(n);r&&(r.deleted?t.push(n):e.push({address:n,session:(0,i.default)(r.session)}))})),{update:e,remove:t}}_generateSenderKeyUpdate(){const e=[];return this.Dirty.senderKey.forEach((t=>{const n=this.SenderKeyStore.get(t);if(n){const r=t.split("::");2===r.length&&e.push({senderKeyName:t,senderId:r[1],senderKey:(0,i.default)(n)})}})),e}_generateIdentityUpdate(){const e=[],t=[];return this.Dirty.identity.forEach((n=>{const r=this.IdentityStore.get(n);r&&(r.deleted?t.push(n):e.push({identifier:n,identityKey:r.identityKey,rowId:r.rowId}))})),{update:e,remove:t}}_generatePreKeyUpdate(){const e=[];return this.Dirty.preKey.forEach((t=>{const n=this.PrekeyStore.get(t);(null==n?void 0:n.deleted)&&e.push(parseInt(t,10))})),e}generateCacheUpdate(){const e=this._generateIdentityUpdate(),t=this._generateSessionUpdate(),n={sessionUpdate:t.update,sessionRemove:t.remove,identityUpdate:e.update,identityRemove:e.remove,senderKeyUpdate:this._generateSenderKeyUpdate(),preKeyRemove:this._generatePreKeyUpdate()};return n}clearDirty(){this.Dirty={session:new Set,identity:new Set,senderKey:new Set,preKey:new Set}}clear(){this.RegistrationInfo=null,this.SignedPreKeyStore.clear(),this.PrekeyStore.clear(),this.SessionStore.clear(),this.IdentityStore.clear(),this.SenderKeyStore.clear(),this.clearDirty()}}},69764:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(48926)),a=n(38918),s=n(83741),l=n(42247),c=n(1619),u=n(52894),d=n(98458),_=n(73688),p=n(49178),f=n(20962),E=n(32954),A=n(83986),g=n(3885),h=n(51017),S=r(n(89482));var T=new class{constructor(){this.Direction={SENDING:1,RECEIVING:2},this.RegistrationInfoReadThruCache=null,this.SignedPreKeyStoreReadThruCache=new Map,this.SessionCache=new Map,this.SessionCacheDirtySet=new Set,this._sessionMutex=new a.Semaphore(1),this.IdentityCache=new Map,this.IdentityCacheDirtySet=new Set,this._identityMutex=new a.Semaphore(1)}getIdentityKeyPair(){var e=this;return(0,o.default)((function*(){var t;return e.RegistrationInfoReadThruCache||(e.RegistrationInfoReadThruCache=yield A.waSignalStore.getRegistrationInfo()),(null===(t=e.RegistrationInfoReadThruCache)||void 0===t?void 0:t.identityKeyPair)?(0,u.toSignalCurveKeyPair)(e.RegistrationInfoReadThruCache.identityKeyPair):void 0}))()}getLocalRegistrationId(){var e=this;return(0,o.default)((function*(){var t;return e.RegistrationInfoReadThruCache||(e.RegistrationInfoReadThruCache=yield A.waSignalStore.getRegistrationInfo()),(null===(t=e.RegistrationInfoReadThruCache)||void 0===t?void 0:t.registrationId)||void 0}))()}isTrustedIdentity(){return Promise.resolve(!0)}_saveIdentity(e,t){var n=this;return(0,o.default)((function*(){const r=(0,_.stringifyIdentityKey)(t),i=yield n.loadIdentityKey(e);if(!i||i!==r){if(i){if(e===(0,p.createSignalAddress)((0,g.getMeUser)()).toString())return void(0,c.frontendFireAndForget)("handleSelfPrimaryIdentityChange",{});yield(0,d.handleNewIdentity)(e)}yield n.putIdentity(e,r)}}))()}saveIdentity(e,t){var n=this;return(0,o.default)((function*(){if(null==e)throw(0,S.default)("Tried to put identity key for undefined/null key");if(yield n._saveIdentity(e,t),e!==(0,p.createSignalAddress)((0,g.getMeUser)()).toString()&&(0,s.getABPropConfigValue)("pnh_sync_identity_keys_and_devices")){const r=(0,h.widFromSignalAddress)(e),i=(0,l.getAlternateDeviceWid)(r),o=null!=i?(0,p.createSignalAddress)(i).toString():null;null!=o&&(yield n._saveIdentity(o,t))}}))()}_putIdentityImpl(e,t){const n=this.IdentityCache.get(e);this.IdentityCache.set(e,(0,i.default)((0,i.default)({},n),{},{identityKey:t})),this.IdentityCacheDirtySet.add(e)}putIdentity(e,t){var n=this;return(0,o.default)((function*(){const r=yield n._identityMutex.acquire();try{n._putIdentityImpl(e,t)}finally{r.release()}}))()}_loadIdentityKeyImpl(e){var t=this;return(0,o.default)((function*(){var n;if(null==e)throw(0,S.default)("Tried to get identity key for undefined/null key");if(!t.IdentityCache.has(e)){const n=yield A.waSignalStore.getIdentityKeyWithRowId(e);t.IdentityCache.set(e,n)}return(null===(n=t.IdentityCache.get(e))||void 0===n?void 0:n.identityKey)||void 0}))()}loadIdentityKey(e){var t=this;return(0,o.default)((function*(){const n=yield t._identityMutex.acquire();try{return yield t._loadIdentityKeyImpl(e)}finally{n.release()}}))()}getIdentityRowId(e){var t=this;return(0,o.default)((function*(){var n;if(null==e)throw(0,S.default)("Tried to get identity key for undefined/null key");return yield t.loadIdentityKey(e),(null===(n=t.IdentityCache.get(e))||void 0===n?void 0:n.rowId)||void 0}))()}bulkGetIdentityRowId(e){var t=this;return(0,o.default)((function*(){if(null==e)throw(0,S.default)("Tried to get identity key for undefined/null key");return 0===e.length?[]:(yield t.bulkLoadIdentityKey(e),e.map((e=>{var n;return(null===(n=t.IdentityCache.get(e))||void 0===n?void 0:n.rowId)||void 0})))}))()}_bulkLoadIdentityKeyImpl(e){var t=this;return(0,o.default)((function*(){if(null==e)throw(0,S.default)("Tried to get identity key for undefined/null key");if(0===e.length)return[];const n=new Array(e.length),r=[];if(e.forEach(((e,i)=>{var o;t.IdentityCache.has(e)?n[i]=null===(o=t.IdentityCache.get(e))||void 0===o?void 0:o.identityKey:r.push({id:e,pos:i})})),r.length>0){(yield A.waSignalStore.bulkGetIdentityKeyWithRowId(r.map((e=>e.id)))).forEach(((e,i)=>{const o=r[i];t.IdentityCache.set(o.id,e),n[o.pos]=null==e?void 0:e.identityKey}))}return n}))()}bulkLoadIdentityKey(e){var t=this;return(0,o.default)((function*(){const n=yield t._identityMutex.acquire();try{return yield t._bulkLoadIdentityKeyImpl(e)}finally{n.release()}}))()}expandNewIdentitiesList(e){const t=new Map;return e.forEach((e=>{t.set(e.identifier,{identifier:e.identifier,identityKey:e.identityKey})})),e.forEach((e=>{const n=(0,h.widFromSignalAddress)(e.identifier),r=(0,l.getAlternateDeviceWid)(n);if(null==r)return;const i=(0,p.createSignalAddress)(r).toString();t.set(i,{identifier:i,identityKey:e.identityKey})})),Array.from(t.values())}expandIdentityUpdateList(e){const t=new Map;return e.forEach((e=>{t.set(e.identifier,(0,i.default)((0,i.default)({},e),{},{identifier:e.identifier}))})),e.forEach((e=>{const n=(0,h.widFromSignalAddress)(e.identifier),r=(0,l.getAlternateDeviceWid)(n);if(null==r)return;const o=r.getSignalAddress();t.set(o,(0,i.default)((0,i.default)({},e),{},{identifier:o}))})),Array.from(t.values())}_bulkCreateIdentityImpl(e){var t=this;return(0,o.default)((function*(){if(null==e)throw(0,S.default)("Tried to bulk put identity key with undefined/null");__LOG__(2,void 0,void 0,void 0,["protocol-store"])`bulkCreateIdentity: store ${e.length} value(s): start`,yield(0,E.getStorage)().lock(["identity-store"],(0,o.default)((function*(){const n=e.map((e=>e.identifier)),r=yield t._bulkLoadIdentityKeyImpl(n);let i=e.filter(((e,t)=>!r[t]));i.length>0&&((0,s.getABPropConfigValue)("pnh_sync_identity_keys_and_devices")&&(i=t.expandNewIdentitiesList(i)),yield A.waSignalStore.bulkPutIdentity(i),i.forEach((e=>{let{identifier:n,identityKey:r}=e;t.IdentityCache.set(n,{identityKey:r})}))),__LOG__(2,void 0,void 0,void 0,["protocol-store"])`bulkCreateIdentity: store ${e.length} value(s) (new: ${i.length}): end`})))}))()}bulkCreateIdentity(e){var t=this;return(0,o.default)((function*(){const n=yield t._identityMutex.acquire();try{yield t._bulkCreateIdentityImpl(e)}finally{n.release()}}))()}_removeIdentityImpl(e){var t=this;return(0,o.default)((function*(){if(null==e)return Promise.reject((0,S.default)("Tried to remove identity key for undefined/null key"));yield A.waSignalStore.removeIdentity(e),t.IdentityCache.delete(e),t.IdentityCacheDirtySet.delete(e)}))()}removeIdentity(e){var t=this;return(0,o.default)((function*(){const n=yield t._identityMutex.acquire();try{yield t._removeIdentityImpl(e)}finally{n.release()}}))()}loadPreKey(e){return(0,o.default)((function*(){if(null==e)return Promise.resolve(void 0);const t=yield A.waSignalStore.getPreKeyById(e);return(null==t?void 0:t.keyPair)||void 0}))()}removePreKey(e){return null==e?Promise.reject((0,S.default)("Tried to remove pre key without keyId")):A.waSignalStore.removePreKeyById(e)}loadSignedPreKey(e){var t=this;return(0,o.default)((function*(){if(null!=e){if(!t.SignedPreKeyStoreReadThruCache.has(e)){const n=yield A.waSignalStore.getSignedPreKeyById(e),r=n?{pubKey:n.keyPair.pubKey,privKey:n.keyPair.privKey,signature:n.signature}:null;t.SignedPreKeyStoreReadThruCache.set(e,r)}return t.SignedPreKeyStoreReadThruCache.get(e)||void 0}}))()}_loadSessionImpl(e){var t=this;return(0,o.default)((function*(){if(null!=e){if(!t.SessionCache.has(e)){const n=yield A.waSignalStore.getSession(e);t.SessionCache.set(e,n)}return(yield(0,f.maybeConvertSession)(t.SessionCache.get(e)))||void 0}}))()}loadSession(e){var t=this;return(0,o.default)((function*(){const n=yield t._sessionMutex.acquire();try{return yield t._loadSessionImpl(e)}finally{n.release()}}))()}_storeSessionImpl(e,t){if(null==e)throw(0,S.default)("Tried to put session without identifier");this.SessionCache.set(e,t),this.SessionCacheDirtySet.add(e)}storeSession(e,t){var n=this;return(0,o.default)((function*(){const r=yield n._sessionMutex.acquire();try{n._storeSessionImpl(e,t)}finally{r.release()}}))()}removeSession(e){var t=this;return(0,o.default)((function*(){if(null==e)return Promise.reject((0,S.default)("Tried to remove session without identifier"));yield A.waSignalStore.removeSession(e),t.SessionCache.delete(e),t.SessionCacheDirtySet.delete(e)}))()}_containSessionsImpl(e){var t=this;return(0,o.default)((function*(){const n=[];for(const r of e)t.SessionCache.has(r)||n.push(r);if(n.length>0){(yield A.waSignalStore.bulkGetSession(n)).forEach(((e,r)=>{const i=n[r];t.SessionCache.set(i,e)}))}return e.map((e=>!!t.SessionCache.get(e)))}))()}containSessions(e){var t=this;return(0,o.default)((function*(){const n=yield t._sessionMutex.acquire();try{return yield t._containSessionsImpl(e)}finally{n.release()}}))()}storeSenderKey(e,t){if(null==e)return Promise.reject((0,S.default)("Tried to put senderKey without senderKeyName"));const n=e.split("::");if(n.length<2)return Promise.reject((0,S.default)("Tried to put senderKey with invalid senderKeyName"));const r=n[1];return A.waSignalStore.putSenderKey(e,r,t)}loadSenderKey(e){return(0,o.default)((function*(){if(null==e)return Promise.resolve(void 0);const t=yield A.waSignalStore.getSenderKey(e);return(0,f.maybeConvertSenderKey)(t)||void 0}))()}deleteAllCache(){__LOG__(2,void 0,void 0,void 0,["protocol-store"])`deleteAllCache`,this.RegistrationInfoReadThruCache=null,this.SignedPreKeyStoreReadThruCache.clear(),this.SessionCache.clear(),this.IdentityCache.clear(),this.SessionCacheDirtySet.clear(),this.IdentityCacheDirtySet.clear()}_flushSessions(){var e=this;return(0,o.default)((function*(){if(0===e.SessionCacheDirtySet.size)return void __LOG__(2,void 0,void 0,void 0,["protocol-store"])`flushSessions: no updates`;__LOG__(2,void 0,void 0,void 0,["protocol-store"])`flushSessions: get dirty updates for ${Array.from(e.SessionCacheDirtySet).join(",")}`;const t=[];e.SessionCacheDirtySet.forEach((n=>{const r=e.SessionCache.get(n);r&&t.push({address:n,session:r})})),t.length>0&&(yield A.waSignalStore.bulkPutSession(t)),e.SessionCacheDirtySet.clear(),__LOG__(2,void 0,void 0,void 0,["protocol-store"])`flushSessions: ${t.length} flushed`}))()}_flushIdentities(){var e=this;return(0,o.default)((function*(){if(0===e.IdentityCacheDirtySet.size)return void __LOG__(2,void 0,void 0,void 0,["protocol-store"])`flushIdentities: no updates`;__LOG__(2,void 0,void 0,void 0,["protocol-store"])`flushIdentities: get dirty updates for ${Array.from(e.IdentityCacheDirtySet).join(",")}`;let t=[];e.IdentityCacheDirtySet.forEach((n=>{const r=e.IdentityCache.get(n);r&&t.push((0,i.default)((0,i.default)({},r),{},{identifier:n}))})),t.length>0&&((0,s.getABPropConfigValue)("pnh_sync_identity_keys_and_devices")&&(t=e.expandIdentityUpdateList(t)),yield A.waSignalStore.bulkPutIdentityKeyWithRowId(t)),e.IdentityCacheDirtySet.clear(),__LOG__(2,void 0,void 0,void 0,["protocol-store"])`flushIdentities: ${t.length} flushed`}))()}flushBufferToDiskIfNotMemOnlyMode(){var e=this;return(0,o.default)((function*(){const t=yield e._sessionMutex.acquire(),n=yield e._identityMutex.acquire();try{yield(0,E.getStorage)().lock(["identity-store","session-store"],(()=>Promise.all([e._flushSessions(),e._flushIdentities()])))}finally{n.release(),t.release()}}))()}_updateIdentityRangeAfterEncryptionImpl(e,t){var n=this;return(0,o.default)((function*(){__LOG__(2,void 0,void 0,void 0,["protocol-store"])`updateIdentityRangeAfterEncryption: start`,yield n._bulkLoadIdentityKeyImpl(t);const r=[];t.forEach((t=>{const i=n.IdentityCache.get(t);i&&(null==i.rowId||i.rowId>e)&&(n.IdentityCache.set(t,{identityKey:i.identityKey,rowId:e}),n.IdentityCacheDirtySet.add(t),r.push(t))})),__LOG__(2,void 0,void 0,void 0,["protocol-store"])`updateIdentityRangeAfterEncryption: ${r.length} updated`}))()}updateIdentityRangeAfterEncryption(e,t){var n=this;return(0,o.default)((function*(){const r=yield n._identityMutex.acquire();try{yield n._updateIdentityRangeAfterEncryptionImpl(e,t)}finally{r.release()}}))()}generateSnapshot(){return null}_maybeCleanUpUnconvertedSessionAfterEncryption(e){if(null==e)return Promise.resolve();const t=this.SessionCache.get(e);return t&&(0,f.shouldConvertSession)(t)?(__LOG__(2)`maybeCleanUpUnconvertedSession: delete unconverted session`,this.removeSession(e)):Promise.resolve()}maybeCleanUpUnconvertedSession(e){var t=this;return(0,o.default)((function*(){const n=yield t._sessionMutex.acquire();try{return yield t._maybeCleanUpUnconvertedSessionAfterEncryption(e)}finally{n.release()}}))()}};t.default=T},96035:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(83741),a=n(42247),s=n(1619),l=n(52894),c=n(98458),u=n(73688),d=n(49178),_=n(20962),p=n(79442),f=n(32954),E=n(83986),A=n(3885),g=n(51017),h=r(n(89482));const S=n(76672).Mirrored(["Persist","Memory"]);var T=new class{constructor(){this.Direction={SENDING:1,RECEIVING:2},this._cache=new p.SignalStoreCache,this._mode=S.Persist}getIdentityKeyPair(){var e=this;return(0,i.default)((function*(){var t;return e._cache.RegistrationInfo||(e._cache.RegistrationInfo=yield E.waSignalStore.getRegistrationInfo()),(null===(t=e._cache.RegistrationInfo)||void 0===t?void 0:t.identityKeyPair)?(0,l.toSignalCurveKeyPair)(e._cache.RegistrationInfo.identityKeyPair):void 0}))()}getLocalRegistrationId(){var e=this;return(0,i.default)((function*(){var t;return e._cache.RegistrationInfo||(e._cache.RegistrationInfo=yield E.waSignalStore.getRegistrationInfo()),(null===(t=e._cache.RegistrationInfo)||void 0===t?void 0:t.registrationId)||void 0}))()}isTrustedIdentity(){return Promise.resolve(!0)}_loadIdentityKeyImpl(e){var t=this;return(0,i.default)((function*(){var n;if(null==e)throw(0,h.default)("Tried to get identity key for undefined/null key");if(!t._cache.IdentityStore.has(e)){const n=yield E.waSignalStore.getIdentityKeyWithRowId(e);t._cache.IdentityStore.set(e,n)}return(null===(n=t._cache.IdentityStore.get(e))||void 0===n?void 0:n.identityKey)||void 0}))()}loadIdentityKey(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.identity.acquire();try{return yield t._loadIdentityKeyImpl(e)}finally{n.release()}}))()}_putIdentityImpl(e,t){this._cache.IdentityStore.set(e,{identityKey:t}),this._cache.Dirty.identity.add(e)}putIdentity(e,t){var n=this;return(0,i.default)((function*(){const r=yield n._cache.Mutex.identity.acquire();try{n._putIdentityImpl(e,t)}finally{r.release()}}))()}_saveIdentity(e,t){var n=this;return(0,i.default)((function*(){const r=(0,u.stringifyIdentityKey)(t),i=yield n.loadIdentityKey(e);if(!i||i!==r){if(i){if(e===(0,d.createSignalAddress)((0,A.getMeUser)()).toString())return void(0,s.frontendFireAndForget)("handleSelfPrimaryIdentityChange",{});null!=e&&(yield(0,c.handleNewIdentity)(e))}yield n.putIdentity(e,r)}}))()}saveIdentity(e,t){var n=this;return(0,i.default)((function*(){if(null==e)throw(0,h.default)("Tried to put identity key for undefined/null key");if(yield n._saveIdentity(e,t),e!==(0,d.createSignalAddress)((0,A.getMeUser)()).toString()&&(0,o.getABPropConfigValue)("pnh_sync_identity_keys_and_devices")){const r=(0,g.widFromSignalAddress)(e),i=(0,a.getAlternateDeviceWid)(r),o=null!=i?(0,d.createSignalAddress)(i).toString():null;null!=o&&(yield n._saveIdentity(o,t))}}))()}getIdentityRowId(e){var t=this;return(0,i.default)((function*(){var n;if(null==e)throw(0,h.default)("Tried to get identity key for undefined/null key");return yield t.loadIdentityKey(e),(null===(n=t._cache.IdentityStore.get(e))||void 0===n?void 0:n.rowId)||void 0}))()}bulkGetIdentityRowId(e){var t=this;return(0,i.default)((function*(){if(null==e)throw(0,h.default)("Tried to get identity key for undefined/null key");return 0===e.length?[]:(yield t.bulkLoadIdentityKey(e),e.map((e=>{var n;return(null===(n=t._cache.IdentityStore.get(e))||void 0===n?void 0:n.rowId)||void 0})))}))()}_bulkLoadIdentityKeyImpl(e){var t=this;return(0,i.default)((function*(){if(null==e)throw(0,h.default)("Tried to get identity key for undefined/null key");if(0===e.length)return[];const n=new Array(e.length),r=[];if(e.forEach(((e,i)=>{var o;t._cache.IdentityStore.has(e)?n[i]=null===(o=t._cache.IdentityStore.get(e))||void 0===o?void 0:o.identityKey:r.push({id:e,pos:i})})),r.length>0){(yield E.waSignalStore.bulkGetIdentityKeyWithRowId(r.map((e=>e.id)))).forEach(((e,i)=>{const o=r[i];t._cache.IdentityStore.set(o.id,e),n[o.pos]=null==e?void 0:e.identityKey}))}return n}))()}bulkLoadIdentityKey(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.identity.acquire();try{return yield t._bulkLoadIdentityKeyImpl(e)}finally{n.release()}}))()}expandNewIdentitiesList(e){const t=new Map;return e.forEach((e=>{t.set(e.identifier,{identifier:e.identifier,identityKey:e.identityKey})})),e.forEach((e=>{const n=(0,g.widFromSignalAddress)(e.identifier),r=(0,a.getAlternateDeviceWid)(n);if(null==r)return;const i=(0,d.createSignalAddress)(r).toString();t.set(i,{identifier:i,identityKey:e.identityKey})})),Array.from(t.values())}_bulkCreateIdentityImpl(e){var t=this;return(0,i.default)((function*(){if(null==e)throw(0,h.default)("Tried to bulk put identity key with undefined/null");__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]bulkCreateIdentity: store ${e.length} value(s): start`,yield(0,f.getStorage)().lock(["identity-store"],(0,i.default)((function*(){const n=e.map((e=>e.identifier)),r=yield t._bulkLoadIdentityKeyImpl(n);let i=e.filter(((e,t)=>!r[t]));i.length>0&&((0,o.getABPropConfigValue)("pnh_sync_identity_keys_and_devices")&&(i=t.expandNewIdentitiesList(i)),yield E.waSignalStore.bulkPutIdentity(i),i.forEach((e=>{let{identifier:n,identityKey:r}=e;t._cache.IdentityStore.set(n,{identityKey:r})}))),__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]bulkCreateIdentity: store ${e.length} value(s) (new: ${i.length}): end`})))}))()}bulkCreateIdentity(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.identity.acquire();try{yield t._bulkCreateIdentityImpl(e)}finally{n.release()}}))()}_removeIdentityImpl(e){this._cache.IdentityStore.set(e,{deleted:!0}),this._cache.Dirty.identity.add(e)}removeIdentity(e){var t=this;return(0,i.default)((function*(){if(null==e)return Promise.reject((0,h.default)("Tried to remove identity key for undefined/null key"));const n=yield t._cache.Mutex.identity.acquire();try{yield t._removeIdentityImpl(e)}finally{n.release()}}))()}_loadPreKeyImpl(e){var t=this;return(0,i.default)((function*(){if(null==e)return;if(!t._cache.PrekeyStore.has(e)){var n;const r=null===(n=yield E.waSignalStore.getPreKeyById(e))||void 0===n?void 0:n.keyPair;t._cache.PrekeyStore.set(e,{keyPair:r})}const r=t._cache.PrekeyStore.get(e);return(null==r?void 0:r.keyPair)||void 0}))()}loadPreKey(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.preKey.acquire();try{return yield t._loadPreKeyImpl(e)}finally{n.release()}}))()}_removePreKeyImpl(e){return null==e?Promise.reject((0,h.default)("Tried to remove pre key without keyId")):(this._cache.PrekeyStore.set(e,{deleted:!0}),this._cache.Dirty.preKey.add(e),Promise.resolve())}removePreKey(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.preKey.acquire();try{yield t._removePreKeyImpl(e)}finally{n.release()}}))()}loadSignedPreKey(e){var t=this;return(0,i.default)((function*(){if(null!=e){if(!t._cache.SignedPreKeyStore.has(e)){const n=yield E.waSignalStore.getSignedPreKeyById(e),r=n?{pubKey:n.keyPair.pubKey,privKey:n.keyPair.privKey,signature:n.signature}:null;t._cache.SignedPreKeyStore.set(e,r)}return t._cache.SignedPreKeyStore.get(e)||void 0}}))()}_loadSessionImpl(e){var t=this;return(0,i.default)((function*(){var n;if(null!=e){if(!t._cache.SessionStore.has(e)){const n=yield E.waSignalStore.getSession(e);t._cache.SessionStore.set(e,n?{session:n}:void 0)}return(yield(0,_.maybeConvertSession)(null===(n=t._cache.SessionStore.get(e))||void 0===n?void 0:n.session))||void 0}}))()}loadSession(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.session.acquire();try{return yield t._loadSessionImpl(e)}finally{n.release()}}))()}_storeSessionImpl(e,t){if(null==e)throw(0,h.default)("Tried to put session without identifier");this._cache.SessionStore.set(e,{session:t}),this._cache.Dirty.session.add(e)}storeSession(e,t){var n=this;return(0,i.default)((function*(){const r=yield n._cache.Mutex.session.acquire();try{n._storeSessionImpl(e,t)}finally{r.release()}}))()}_removeSessionImpl(e){if(null==e)throw(0,h.default)("Tried to remove session without identifier");this._cache.SessionStore.set(e,{deleted:!0}),this._cache.Dirty.session.add(e)}removeSession(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.session.acquire();try{t._removeSessionImpl(e)}finally{n.release()}}))()}_containSessionsImpl(e){var t=this;return(0,i.default)((function*(){const n=[];for(const r of e)t._cache.SessionStore.has(r)||n.push(r);if(n.length>0){(yield E.waSignalStore.bulkGetSession(n)).forEach(((e,r)=>{const i=n[r];t._cache.SessionStore.set(i,e?{session:e}:void 0)}))}return e.map((e=>{const n=t._cache.SessionStore.get(e);return null!=n&&!(null==n?void 0:n.deleted)}))}))()}containSessions(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.session.acquire();try{return yield t._containSessionsImpl(e)}finally{n.release()}}))()}_storeSenderKeyImpl(e,t){return null==e?Promise.reject((0,h.default)("Tried to put session without identifier")):(this._cache.SenderKeyStore.set(e,t),this._cache.Dirty.senderKey.add(e),Promise.resolve())}storeSenderKey(e,t){var n=this;return(0,i.default)((function*(){const r=yield n._cache.Mutex.senderKey.acquire();try{yield n._storeSenderKeyImpl(e,t)}finally{r.release()}}))()}_loadSenderKeyImpl(e){var t=this;return(0,i.default)((function*(){if(null!=e){if(!t._cache.SenderKeyStore.has(e)){const n=yield E.waSignalStore.getSenderKey(e);t._cache.SenderKeyStore.set(e,n)}return(0,_.maybeConvertSenderKey)(t._cache.SenderKeyStore.get(e))||void 0}}))()}loadSenderKey(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.senderKey.acquire();try{return yield t._loadSenderKeyImpl(e)}finally{n.release()}}))()}switchToMemMode(){this._mode=S.Memory}switchToPersistMode(){this._mode=S.Persist}generateSnapshot(){if(this._mode===S.Memory)return this._cache.generateCacheUpdate()}deleteAllCache(){__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]deleteAllCache`,this._cache.clear()}flushBufferToDiskIfNotMemOnlyMode(){var e=this;return(0,i.default)((function*(){if(e._mode===S.Memory)return __LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]flushBufferToDiskIfNotMemOnlyMode: skip for memory mode`,Promise.resolve();__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]flushBufferToDiskIfNotMemOnlyMode: start`;const t=[yield e._cache.Mutex.identity.acquire(),yield e._cache.Mutex.session.acquire(),yield e._cache.Mutex.senderKey.acquire(),yield e._cache.Mutex.preKey.acquire()];__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]flushBufferToDiskIfNotMemOnlyMode: lock complete`;const n=e._cache.generateCacheUpdate();try{yield(0,f.getStorage)().lock(["session-store","identity-store","prekey-store","senderkey-store"],(0,i.default)((function*(){yield Promise.all([E.waSignalStore.bulkPutSession(n.sessionUpdate),E.waSignalStore.bulkPutIdentityKeyWithRowId(n.identityUpdate),E.waSignalStore.bulkPutSenderKey(n.senderKeyUpdate),E.waSignalStore.bulkRemovePreKey(n.preKeyRemove),E.waSignalStore.bulkRemoveSession(n.sessionRemove),E.waSignalStore.bulkRemoveIdentity(n.identityRemove)])}))),e._cache.clearDirty()}finally{t.forEach((e=>e.release()))}__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]flushBufferToDiskIfNotMemOnlyMode: done`}))()}_updateIdentityRangeAfterEncryptionImpl(e,t){var n=this;return(0,i.default)((function*(){__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]updateIdentityRangeAfterEncryption: start`,yield n._bulkLoadIdentityKeyImpl(t);const r=[];t.forEach((t=>{const i=n._cache.IdentityStore.get(t);i&&!i.deleted&&(null==i.rowId||i.rowId>e)&&(n._cache.IdentityStore.set(t,{identityKey:i.identityKey,rowId:e}),n._cache.Dirty.identity.add(t),r.push(t))})),__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]updateIdentityRangeAfterEncryption: ${r.length} updated`}))()}updateIdentityRangeAfterEncryption(e,t){var n=this;return(0,i.default)((function*(){const r=yield n._cache.Mutex.identity.acquire();try{yield n._updateIdentityRangeAfterEncryptionImpl(e,t)}finally{r.release()}}))()}_maybeCleanUpUnconvertedSessionAfterEncryption(e){if(null==e)return Promise.resolve();const t=this._cache.SessionStore.get(e);return t&&(0,_.shouldConvertSession)(t.session)&&(__LOG__(2,void 0,void 0,void 0,["unified-store"])`[Signal]maybeCleanUpUnconvertedSession: delete unconverted session`,this._removeSessionImpl(e)),Promise.resolve()}maybeCleanUpUnconvertedSession(e){var t=this;return(0,i.default)((function*(){const n=yield t._cache.Mutex.session.acquire();try{return yield t._maybeCleanUpUnconvertedSessionAfterEncryption(e)}finally{n.release()}}))()}};t.default=T},87167:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.syncAndGetDeviceList=function(){return I.apply(this,arguments)},t.syncDeviceList=g,t.syncMyDeviceList=function(){return m.apply(this,arguments)};var i=r(n(48926)),o=r(n(94654)),a=n(17802),s=n(97183),l=n(53098),c=n(16157),u=n(30304),d=n(3885),_=n(30633),p=n(49673),f=n(51017),E=r(n(89482));const A=new Map;function g(){return h.apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){let{wids:t,context:n,phash:r}=e;if(null!=r){const e=(yield(0,s.getDeviceIds)(t)).map((e=>null==e?[]:e.devices.map((t=>(0,f.createDeviceWidFromDeviceListPk)(e.id,t))))),n=(0,o.default)(e,(e=>e));if(r===(yield(0,u.phashV2)(n)))return}const i=new Set,a=[];if(t.forEach((e=>{const t=A.get((0,l.createDeviceListPK)(e));t?i.add(t):a.push(e)})),0===a.length)return void(yield Promise.all(Array.from(i)));const c=S(a,n);a.map((e=>{A.set((0,l.createDeviceListPK)(e),c)})),yield Promise.all([c,...Array.from(i)])}))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e,t){try{const n=yield(0,s.getDeviceInfoForSync)(e),r=n.map((e=>null==e?[]:e.devices.map((t=>(0,f.createDeviceWidFromDeviceListPk)(e.id,t))))),i=yield Promise.all(r.map((e=>0===e.length?"":(0,u.phashV2)(e))));return y(e.map(((e,t)=>{var r,o;return{id:e,hash:i[t],ts:null===(r=n[t])||void 0===r?void 0:r.timestamp,expectedTs:null===(o=n[t])||void 0===o?void 0:o.expectedTs}})),t)}catch(e){__LOG__(4,void 0,new Error)`Failed to sync device list with error: ${e}`}finally{e.map((e=>{A.delete((0,l.createDeviceListPK)(e))}))}}))).apply(this,arguments)}function m(){return(m=(0,i.default)((function*(){yield g({wids:(0,d.getMePNandLIDWids)(),context:null,phash:null})}))).apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){return yield g({wids:e,context:null,phash:null}),(0,s.getDeviceIds)(e)}))).apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e,t){if(0===e.length)return;const n=(new _.USyncQuery).withContext(t||"interactive").withDeviceProtocol();e.forEach((e=>{0!==e.id.user&&n.withUser((new p.USyncUser).withId(e.id).withDeviceHash(String(e.hash)).withTs(e.ts).withExpectedTs(e.expectedTs))}));const r=yield n.execute();if(r.error.all)throw(0,E.default)(`syncDeviceList: error ${r.error.all.errorCode}: ${r.error.all.errorText}`);r.error.devices&&__LOG__(3)`syncDeviceList: error ${r.error.devices.errorCode}: ${r.error.devices.errorText}`;let i=r.list.filter((e=>!("errorCode"in e.devices)));i=i.map((e=>({wid:e.id,devices:e.devices})));const o=i.filter((e=>{var t;return null===(t=e.devices.keyIndex)||void 0===t?void 0:t.signedKeyIndexBytes})).map((e=>e.wid));return __LOG__(2)`syncDeviceList: skipping ${r.list.length-o.length} out of ${r.list.length} records`,yield(0,c.getAndStoreIdentityKeys)(o),(0,a.handleADVDeviceSyncResult)(i)}))).apply(this,arguments)}},60627:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLastAddOnsPreview=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(93040),a=r(n(60001)),s=n(69785);function l(){return(l=(0,i.default)((function*(e){const t=new Set(e.map((e=>a.default.fromString(e).remote.toString()))),n=yield(0,s.bulkGetChatLastAddOnPreviewMap)(Array.from(t)),r=new Map;n.forEach(((t,n)=>{e.includes(null==t?void 0:t.parentMsgKey)&&r.set(n,void 0)})),yield(0,o.bulkUpdateChatLastAddOnPreview)(r)}))).apply(this,arguments)}},18615:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handlePrivacyModeChangeAndCreateChat=function(){return g.apply(this,arguments)};var i=r(n(48926)),o=n(93040),a=n(12166),s=n(76376),l=n(83141),c=n(98869),u=n(46408),d=n(67454),_=n(463),p=n(60019),f=n(95160),E=n(3885),A=n(49625);function g(){return(g=(0,i.default)((function*(e,t,n){let r=t.chat;(0,_.isMatFullyEnabled)()&&r.isUser()&&(r=yield(0,o.getMatChat)(r,o.MatType.IncomingMessage));const i=yield h(r),a=(0,p.getLatestPrivacyMode)(n.privacyMode,null==i?void 0:i.privacyMode);try{let o=!1;if(r.isUser())if(o=!0!==(null==i?void 0:i.chatExists)||(0,d.queryVerifiedNameWhenMsgDiffers)()&&(null==i?void 0:i.verifiedLevel)!==(0,l.convertLevel)(n.verifiedLevel),!0!==(null==i?void 0:i.chatExists)){const t=e[0];yield(0,c.createChat)(r,"createChatOnNewMsg",{createdLocally:!1},{firstIncomingMsg:t,nextPrivacyMode:a})}else null!=a&&(yield(0,u.handlePrivacyModeTransition)(r,a));return()=>{o&&(0,s.queryAndUpdateContactPropertiesOnNewChat)(r).catch((()=>{__LOG__(3)`query contact info on new chat failed`})),r.isUser()&&!(0,E.isMeAccount)(t.author)&&null!=a&&(0,A.workerSafeSendAndReceive)("updateBizPrivacyStatus",{msgIds:e.map((e=>e.id)),privacyMode:a}).catch((e=>{__LOG__(4,void 0,new Error)`handlePrivacyModeChange: failed to update biz privacy status with error ${e}`}))}}catch(e){__LOG__(4,void 0,new Error,!0,["messaging"])`handlePrivacyModeChange for ${r.toLogString()}, failed with error: ${e}`,SEND_LOGS("handlePrivacyModeChange failed",.001,"messaging")}}))).apply(this,arguments)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){if(!(0,f.isWorker)())return(0,A.workerSafeSendAndReceive)("getChatInfoOnNewMsg",{chatId:e});const t=yield(0,a.getVerifiedBusinessNameRecord)(e);return{privacyMode:null!=(null==t?void 0:t.privacyMode)?(0,a.convertPrivacyModeFromStorageType)(t.privacyMode):null,verifiedLevel:(0,l.convertLevel)(null==t?void 0:t.level),chatExists:null!=(yield(0,o.getChatRecord)(e))}}))).apply(this,arguments)}},87772:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.postprocessRenderableMessages=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(73602);function s(){return(s=(0,i.default)((function*(e){const{msgInfo:t,messageOverwriteOption:n,preprocessedMessages:r,handlePrivacyModeChangeAfterMsgProcessing:s}=e;return yield Promise.all(r.map(function(){var e=(0,i.default)((function*(e){yield(0,o.frontendSendAndReceive)("updateMessageUI",{chatId:e.id.remote,msg:e,messageOverwriteOption:n}),(0,o.frontendFireAndForget)("processOrphanAck",{msgId:e.id}),e.type===a.MSG_TYPE.PAYMENT&&e.subtype}));return function(){return e.apply(this,arguments)}}())),s&&s(),(0,o.frontendSendAndReceive)("updateUnattributedMessages",{messageInfo:t,messages:r})}))).apply(this,arguments)}},8719:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processPlaceholderMessage=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(46316),s=n(33351),l=n(27893),c=n(67621),u=n(463),d=n(17167),_=n(68231);function p(){return(p=(0,i.default)((function*(e,t,n){if(e.category===s.CATEGORY_PEER)return void __LOG__(2,void 0,void 0,void 0,["messaging"])`processPlaceHolderMessage: msgId:${e.externalId}, skip placeholder for peer message`;const r=null!=e.offline;try{const s=yield(0,c.genPlaceholderMsg)(e,t,n),p=(0,u.isMatFullyEnabled)()?yield(0,d.processRenderableMatMessages)(s):s,f=l.messageProcessorCache.addMessages(p.map((e=>({msg:e}))),!r).then((()=>{_.WorkerOfflineResumeReporter.updateProcessedMessageCount()}));a.Cmd.isMainStreamReadyMd&&(a.Cmd.isOfflineDeliveryEnd&&(yield f),yield Promise.all(p.map(function(){var e=(0,i.default)((function*(e){const t=e.id.remote;yield(0,o.frontendSendAndReceive)("updateMessageUI",{chatId:t,msg:e})}));return function(){return e.apply(this,arguments)}}())))}catch(t){__LOG__(4,void 0,new Error,!0,["messaging"])`processPlaceholderMsg: msgId::${e.externalId}, failed with error: ${t}`,SEND_LOGS("handle_msg: error storing/processing single message",1,"messaging")}}))).apply(this,arguments)}},76197:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processRenderableMessages=function(){return m.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(31654),s=n(46316),l=n(68389),c=n(83661),u=n(12987),d=n(18615),_=n(87772),p=n(27893),f=n(463),E=n(66301),A=n(17167),g=n(8414),h=n(68231);function S(){return T.apply(this,arguments)}function T(){return(T=(0,o.default)((function*(e,t,n,r){let o=e;(0,f.isMatFullyEnabled)()&&(o=yield(0,A.processRenderableMatMessages)(e));const s=yield(0,c.getPrivacyModeWhenSent)(t,n),l=I(r);return null!=l&&(o=o.map((e=>(0,i.default)((0,i.default)({},e),{},{placeholderPopulationType:l})))),o=null==s?o:o.map((e=>(0,i.default)((0,i.default)({},e),{},{privacyModeWhenSent:s}))),o=yield(0,E.preProcessOrderEphemeralExemption)(o),(0,a.applyOrphanRevokes)(o)}))).apply(this,arguments)}function m(){return(m=(0,o.default)((function*(e,t,n,r,i,o){if(0!==e.length){try{const n=null!=t.offline&&!o,a=yield S(e,t,r,i),c=yield(0,d.handlePrivacyModeChangeAndCreateChat)(a,t,r),u=p.messageProcessorCache.addMessages(a.map((e=>({msg:e}))),!n).then((()=>{if(h.WorkerOfflineResumeReporter.updateProcessedMessageCount(),!n)return Promise.all(a.map(l.processOrphansForNewMsg))})).catch((e=>{__LOG__(4,void 0,new Error,!0,["messaging"])`processRenderableMessages write to DB from cache, failed with error: ${e}`,SEND_LOGS("processRenderableMessages write to DB from cache, failed",1,"messaging")}));if(s.Cmd.isMainStreamReadyMd||o)return s.Cmd.isOfflineDeliveryEnd&&(yield u),(0,_.postprocessRenderableMessages)({msgInfo:t,messageOverwriteOption:i,preprocessedMessages:a,handlePrivacyModeChangeAfterMsgProcessing:c})}catch(e){__LOG__(4,void 0,new Error,!0,["messaging"])`processRenderableMessage: msgId:${t.externalId}, failed with error: ${e}`,SEND_LOGS("handle_msg: error storing/processing single message",1,"messaging")}return Promise.resolve()}}))).apply(this,arguments)}function I(e){switch(e){case u.MessageOverwriteOption.NO_OVERWRITE:case u.MessageOverwriteOption.FUTURE_PROOF:return null;case u.MessageOverwriteOption.RETRY:return g.PLACEHOLDER_POPULATION_TYPE.RETRY;case u.MessageOverwriteOption.PEER_RETRY:return g.PLACEHOLDER_POPULATION_TYPE.PEER_MESSAGE}}},33379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"processPlaceholderMessage",{enumerable:!0,get:function(){return r.processPlaceholderMessage}}),Object.defineProperty(t,"processReactionMessage",{enumerable:!0,get:function(){return o.processReactionMessage}}),Object.defineProperty(t,"processRenderableMessages",{enumerable:!0,get:function(){return i.processRenderableMessages}});var r=n(8719),i=n(76197),o=n(64338)},27893:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.messageProcessorCache=void 0;var i=r(n(48926)),o=r(n(49619)),a=n(39528),s=n(78494),l=n(83741),c=n(48495),u=n(4830),d=n(32954),_=n(83986),p=n(65068);const f=new class{constructor(){this.cache=[],this.checkpointQueue=new a.PromiseQueue,this.nextCheckpointIndex=0,this.snapshotTimer=new s.ShiftTimer((()=>{this.createSnapshot()})),this.checkpointPromises=new Map,this.flushImmediately=!1}addMessages(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cache.push(...e);const n=this._getOrCreateCurrentCheckpointPromise();return t?(this.flushImmediately=!0,this.createSnapshot(),n):(this.flushImmediately=!1,this.cache.length>=(0,l.getABPropConfigValue)("web_message_processing_cache_size")?(this.createSnapshot(),n):n)}_getOrCreateCurrentCheckpointPromise(){if(!this.checkpointPromises.has(this.nextCheckpointIndex)){let e,t=()=>{};this.checkpointPromises.set(this.nextCheckpointIndex,{promise:new Promise(((n,r)=>{e=n,t=r})),markCheckpointDone:n=>{this.checkpointPromises.delete(this.nextCheckpointIndex),null==n?e():t(n)}})}return(0,o.default)(this.checkpointPromises.get(this.nextCheckpointIndex),"this.checkpointPromises.get(this.nextCheckpointIndex)").promise}_addToMessageTable(e){const t=[];return e.forEach((e=>{const n=e.msg;null!=n&&t.push(n)})),(0,p.storeMsgs)(t)}createSnapshot(){var e,t,n=this;const r=this.cache;this.cache=[],this.snapshotTimer.isScheduled()&&this.snapshotTimer.cancel();const o=this.nextCheckpointIndex,a=o+r.length;if(this.nextCheckpointIndex=a,__LOG__(2)`[unify][message-cache]: creating snapshot for ${o} - ${a} messages`,0===r.length)return;const s=null!==(e=null===(t=this.checkpointPromises.get(o))||void 0===t?void 0:t.markCheckpointDone)&&void 0!==e?e:()=>{__LOG__(4,void 0,new Error,!0)`MessageProcessorCache: missing doneFn`,SEND_LOGS("message-cache-missing-doneFn")},l=(0,u.getSignalProtocolStore)().generateSnapshot();this.checkpointQueue.enqueue((0,i.default)((function*(){try{yield n._addToMessageTable(r),__LOG__(2)`[unify][message-cache]: messages added to table for ${o} - ${a}`,null!=l&&(yield(0,d.getStorage)().lock(["session-store","identity-store","prekey-store","senderkey-store"],(0,i.default)((function*(){yield Promise.all([_.waSignalStore.bulkPutSession(l.sessionUpdate),_.waSignalStore.bulkPutIdentityKeyWithRowId(l.identityUpdate),_.waSignalStore.bulkPutSenderKey(l.senderKeyUpdate),_.waSignalStore.bulkRemovePreKey(l.preKeyRemove),_.waSignalStore.bulkRemoveSession(l.sessionRemove),_.waSignalStore.bulkRemoveIdentity(l.identityRemove)])}))),__LOG__(2)`[unify][message-cache]: signal key store updated for ${o} - ${a}`),yield(0,c.sendAggregateOfflineReceipts)(r),__LOG__(2)`[unify][message-cache]: aggregated receipts sent for ${o} - ${a}`}catch(e){return void s(e)}s()})))}};t.messageProcessorCache=f},9567:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildReceiptAckResponse=A,t.receiptBatcher=void 0;var i=r(n(48926)),o=n(66210),a=n(19026),s=n(44037),l=n(80780),c=n(77630),u=n(11439),d=n(74557),_=n(91123),p=n(51017);const f=Object.freeze({[c.ACK.SENT]:c.ACK_STRING.DELIVERY,[c.ACK.RECEIVED]:c.ACK_STRING.DELIVERY,[c.ACK.READ]:c.ACK_STRING.READ,[c.ACK.PLAYED]:c.ACK_STRING.PLAYED,[c.ACK.INACTIVE]:c.ACK_STRING.INACTIVE}),E={delayMs:1e3};function A(e,t,n,r){return(0,l.wap)("ack",{to:(0,u.JID)(e),id:(0,l.CUSTOM_STRING)(t),class:"receipt",type:(0,l.MAYBE_CUSTOM_STRING)(n),participant:r&&r!==e?(0,u.DEVICE_JID)(r):l.DROP_ATTR})}function g(e,t){if(null!=e&&null!=t)return Math.min(e,t);const n=null!=e?e:t;return null!=n?n:void 0}const h=new class{constructor(){this._peerReceiptBatcher=(0,o.createSimpleBatcher)(E,(e=>this._processPeerReceipts(e))),this._otherReceiptBatcher=(0,o.createSimpleBatcher)(E,(e=>this._processOtherReceipts(e))),this._receiptAckBatcher=(0,o.createSimpleBatcher)(E,(e=>this._processReceiptAcks(e)))}acceptPeerReceipt(e){this._peerReceiptBatcher.accept(e)}acceptOtherReceipt(e){this._otherReceiptBatcher.accept(e)}acceptReceiptAck(e){this._receiptAckBatcher.accept(e)}runActiveBatches(){return Promise.all([this._peerReceiptBatcher.runActiveBatch(),this._otherReceiptBatcher.runActiveBatch(),this._receiptAckBatcher.runActiveBatch()]).then((()=>{}))}_flattenAndDedupeOtherReceipts(e){const t=new Map;return e.forEach((e=>{var n;const{ack:r,ts:i,receiverId:o,msgKeys:a}=e,l=o.isNewsletter()?o.toJid():(0,p.toUserWid)(o).toString(),u=null!==(n=o.device)&&void 0!==n?n:s.DEFAULT_DEVICE_ID;a.forEach((e=>{const n=f[r];if(null==n)return void __LOG__(3)`[unify][batcher]: receipt has unsupported ack type ${r}`;const o=`${e},${l}`,a=t.get(o);a?(n!==f[c.ACK.INACTIVE]&&(a[n]=g(a[n],i)),a.deviceDelivered.add(u)):t.set(o,{[n]:i,deviceDelivered:new Set([u])})}))})),Array.from(t)}_processOtherReceipts(e){const t=this._flattenAndDedupeOtherReceipts(e);return(0,d.getStorage)().lock(["message-info"],function(){var n=(0,i.default)((function*(n){let[r]=n;const i=(yield r.bulkGet(t.map((e=>e[0].split(","))))).map(((e,n)=>{const[r,i]=t[n];if(!i)return null;if(!e){const[e,t]=r.split(",");return{delivery:i.delivery,read:i.read,played:i.played,msgKey:e,receiverUserJid:t,deviceDelivered:Array.from(i.deviceDelivered),deviceNotDelivered:[]}}const o=i.deviceDelivered;return e.deviceDelivered.forEach((e=>o.add(e))),{delivery:g(e.delivery,i.delivery),read:g(e.read,i.read),played:g(e.played,i.played),msgKey:e.msgKey,receiverUserJid:e.receiverUserJid,deviceDelivered:Array.from(o),deviceNotDelivered:e.deviceNotDelivered.filter((e=>!o.has(e)))}}));return yield r.bulkCreateOrReplace(i),e.map((()=>{}))}));return function(){return n.apply(this,arguments)}}())}_processPeerReceipts(e){return(0,i.default)((function*(){const t=e.map((e=>{const{ts:t,msgKeys:n,ack:r}=e;return{ts:t,msgKeys:n,ack:r}}));return yield(0,_.getTable)().bulkCreate(t),e.map((()=>{}))}))()}_processReceiptAcks(e){return(0,i.default)((function*(){return yield function(e){e.forEach((e=>{let{from:t,stanzaId:n,ackString:r,participant:i}=e;const o=A(t,n,r,i);(0,a.deprecatedCastStanza)(o),(0,a.cancelDeadSocketTimer)()})),__LOG__(2)`[unify][batcher] finish sending ${e.length} acks`}(e),e.map((()=>{}))}))()}};t.receiptBatcher=h},66301:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.preProcessOrderEphemeralExemption=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=n(56660),a=n(35182),s=n(58681),l=n(38906),c=n(21132);function u(){return(u=(0,i.default)((function*(e){var t,n,r,i;if(!(0,o.inOrderMessagesEphemeralExceptionEnabled)())return e;const u=e.findIndex((e=>{const{nativeFlowName:t,interactiveType:n,type:r}=e;return(0,l.isMessageTypeExemptedFromDisappearing)(r,n,t)}));if(-1===u||null==(null===(t=e.at(u))||void 0===t||null===(n=t.id)||void 0===n?void 0:n.remote))return e;const d=null===(r=e.at(u))||void 0===r||null===(i=r.id)||void 0===i?void 0:i.remote;if(null==d)return e;const _=yield(0,a.getChatEphemeralExemptionDataFromChat)(d);if(null!=_&&(0,l.shouldShowOrderExemptionSystemMessage)(_)){var p;(0,a.persistsEphemeralDisplayedExemptions)(d,null!==(p=_.ephemeralDuration)&&void 0!==p?p:0,s.EphemeralExemptionType.ORDERS_AND_PAYMENTS);return[...e.slice(0,u),(0,c.getOrderEphemeralExemptionSystemMsg)(d),...e.slice(u,e.length)]}var f;return null!=_&&(0,l.shouldUnsetChatEphemeralDisplayedExemption)(_)&&(0,a.persistsEphemeralDisplayedExemptions)(d,null!==(f=_.ephemeralDuration)&&void 0!==f?f:0,s.EphemeralExemptionType.UNSET),e}))).apply(this,arguments)}},17167:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAlternateWidMapForPolls=function(e){const t=new Set,n=new Map;(0,u.isMatFullyEnabled)()&&e.forEach((e=>{const r=(0,a.default)(e.pollUpdateParentKey,"pollMsg.pollUpdateParentKey"),i=(0,l.getOriginalSender)(e);if(null!=r&&null!=i&&r.remote.isUser()&&!i.isSameAccount(r.remote)){const e=c.default.from({fromMe:r.fromMe,id:r.id,participant:r.participant,remote:i});t.add(e.toString()),n.set(r.toString(),e)}}));return{matParentMsgKeys:t,alternateWidMap:n}},t.processEditMatMessages=function(){return A.apply(this,arguments)},t.processPollUpdateMatMessages=function(){return g.apply(this,arguments)},t.processReactionMatMessages=function(){return E.apply(this,arguments)},t.processRenderableMatMessages=function(){return p.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=r(n(49619)),s=n(93040),l=n(26368),c=r(n(60001)),u=n(463),d=r(n(27112)),_=n(49625);function p(){return(p=(0,o.default)((function*(e){const t=[],n=[],r=e.filter((e=>{var r;const i=null!==(r=e.id.remote)&&void 0!==r?r:e.from;var o;i.isUser()?n.push(null!==(o=e.id.remote)&&void 0!==o?o:e.from):t.push(e);return i.isUser()})),a=r.filter((e=>"sender_revoke"===e.subtype)),l=[];a.forEach((e=>{const t=e.protocolMessageKey;t&&(l.push(t),n.push(t.remote))}));const u=yield(0,s.getMatChatBulk)(n),p=new Map;return a.forEach(function(){var e=(0,o.default)((function*(e){const t=e.protocolMessageKey;if(null!=t){const n=yield u.get(t.remote);if(null!=n&&!d.default.equals(n,t.remote)){const r=c.default.from({fromMe:t.fromMe,id:t.id,participant:t.participant,remote:n});p.set(e.id.id,r)}}}));return function(){return e.apply(this,arguments)}}()),r.forEach(function(){var e=(0,o.default)((function*(e){var n,r;const o=null!==(n=yield u.get(null!==(r=e.id.remote)&&void 0!==r?r:e.from))&&void 0!==n?n:e.id.remote;if(o.isSameAccount(e.id.remote))return void t.push(e);const a=c.default.from({fromMe:e.id.fromMe,id:e.id.id,participant:e.id.participant,remote:o});var s;"sender_revoke"===e.subtype?t.push((0,i.default)((0,i.default)({},e),{},{id:a,protocolMessageKey:null!==(s=p.get(e.id.id))&&void 0!==s?s:e.protocolMessageKey,from:e.id.fromMe?e.from:o})):t.push((0,i.default)((0,i.default)({},e),{},{id:a,from:e.id.fromMe?e.from:o}));(0,_.workerSafeFireAndForget)("incrementPnhCtwaDailyCount",{chatId:o})}));return function(){return e.apply(this,arguments)}}()),t}))).apply(this,arguments)}function f(e,t,n){const r=c.default.from({fromMe:n.fromMe,id:n.id,participant:n.participant,remote:t});return{newMsgKey:c.default.from({fromMe:e.fromMe,id:e.id,participant:e.participant,remote:t}),newParentMsgKey:r}}function E(){return(E=(0,o.default)((function*(e){var t;const n=null!==(t=e.id.remote)&&void 0!==t?t:e.from;if(!n.isUser())return e;const r=yield(0,s.getMatChat)(n,s.MatType.IncomingMessage),o=e.reactionParentKey;if(null==r||null==o||r.isSameAccount(e.id.remote))return e;const{newMsgKey:a,newParentMsgKey:l}=f(e.id,r,o);return(0,_.workerSafeFireAndForget)("incrementPnhCtwaDailyCount",{chatId:r}),(0,i.default)((0,i.default)({},e),{},{id:a,reactionParentKey:l,from:e.id.fromMe?e.from:r})}))).apply(this,arguments)}function A(){return(A=(0,o.default)((function*(e){var t;const n=null!==(t=e.id.remote)&&void 0!==t?t:e.from;if(!n.isUser())return e;const r=yield(0,s.getMatChat)(n,s.MatType.IncomingMessage),o=e.protocolMessageKey;if(null==r||null==o||r.isSameAccount(e.id.remote))return e;const{newMsgKey:a,newParentMsgKey:l}=f(e.id,r,o);return(0,_.workerSafeFireAndForget)("incrementPnhCtwaDailyCount",{chatId:r}),(0,i.default)((0,i.default)({},e),{},{id:a,protocolMessageKey:l,from:e.id.fromMe?e.from:r})}))).apply(this,arguments)}function g(){return(g=(0,o.default)((function*(e){var t;const n=null!==(t=e.id.remote)&&void 0!==t?t:e.from;if(!n.isUser())return e;const r=e.pollUpdateParentKey,o=yield(0,s.getMatChat)(n,s.MatType.IncomingMessage);if(null==o||null==r||o.isSameAccount(n))return e;const a=c.default.from({fromMe:r.fromMe,id:r.id,participant:r.participant,remote:o}),l=c.default.from({fromMe:e.id.fromMe,id:e.id.id,participant:e.id.participant,remote:o});return(0,_.workerSafeFireAndForget)("incrementPnhCtwaDailyCount",{chatId:o}),(0,i.default)((0,i.default)({},e),{},{id:l,pollUpdateParentKey:a})}))).apply(this,arguments)}},25810:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processGroupMessage=d,t.processPhoneNumberMapping=function(){return p.apply(this,arguments)},t.processUserMessage=c;var i=r(n(48926)),o=n(42247),a=n(42778),s=n(3885),l=n(51017);function c(){return u.apply(this,arguments)}function u(){return(u=(0,i.default)((function*(e,t){const{recipientPn:n,recipientLid:r,chat:i,author:c}=e;if(c.isLid()){if((0,s.isMeAccount)(c)){if(null!=n)yield Promise.all([(0,a.createLidPnMappingsJob)([{lid:(0,l.toUserWid)(i),pn:(0,l.toUserWid)(n)}],t),(0,a.updateLidMetadataJob)([{lid:(0,l.toUserWid)(i),data:{shareOwnPn:!1}}])]);else{const e=yield(0,o.getContactRecord)(i);null!=e&&!0===(null==e?void 0:e.shareOwnPn)||(0,a.updateLidMetadataJob)([{lid:(0,l.toUserWid)(i),data:{shareOwnPn:!0}}])}return}const{displayName:r}=e;null!=r&&(yield(0,a.updateLidMetadataJob)([{lid:(0,l.toUserWid)(c),data:{displayNameLID:r}}]));const{senderPn:u}=e;null!=u?yield(0,a.createLidPnMappingsJob)([{lid:(0,l.toUserWid)(c),pn:(0,l.toUserWid)(u)}],t):yield(0,a.updateLidMetadataJob)([{lid:(0,l.toUserWid)(c),data:{shareOwnPn:!0}}])}else{(0,s.isMeAccount)(c)&&null!=r&&(yield(0,a.createLidPnMappingsJob)([{lid:(0,l.toUserWid)(r),pn:(0,l.toUserWid)(i)}],t));const{senderLid:n}=e;null!=n&&(yield(0,a.createLidPnMappingsJob)([{lid:(0,l.toUserWid)(n),pn:(0,l.toUserWid)(c)}],t))}}))).apply(this,arguments)}function d(){return _.apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e,t){const{participantPn:n,participantLid:r,author:i}=e;null!=n&&(yield(0,a.createLidPnMappingsJob)([{lid:(0,l.toUserWid)(i),pn:(0,l.toUserWid)(n)}],t)),null!=r&&(yield(0,a.createLidPnMappingsJob)([{lid:(0,l.toUserWid)(r),pn:(0,l.toUserWid)(i)}],t));const{displayName:o}=e;(0,s.isMeAccount)(i)||null==o||(yield(0,a.updateLidMetadataJob)([{lid:(0,l.toUserWid)(i),data:{displayNameLID:o}}]))}))).apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e,t){const{chat:n}=e;return n.isUser()?c(e,t):n.isGroup()?d(e,t):void 0}))).apply(this,arguments)}},70854:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getReleaseChannel=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(16219),a=n(97023);function s(){return(s=(0,i.default)((function*(){return(yield(0,a.getWhatsAppWebExternalBetaJoinedIdb)())?(__LOG__(2)`[Web Beta] Enabling BETA features`,o.ClientPayload$UserAgent$ReleaseChannel.BETA):o.ClientPayload$UserAgent$ReleaseChannel.RELEASE}))).apply(this,arguments)}},31316:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseProtobuf=function(e){let{result:t,pluginsMatched:n}=(0,o.parseProtobufWithMultipleMessageParserPlugin)(e);for(const o of i.default){const i=o(e);var r;if(null!=i)n.push(`${i.msgData.type}:${null!==(r=i.msgData.subtype)&&void 0!==r?r:"null"}`),null==t&&(t=i)}if(n.length>1)return __LOG__(4,void 0,new Error,!0)`parseProtoPlugins: Matched more than 1 plugin types ${n.join(",")}`,SEND_LOGS("parse-protobuf-unexpected-plugin-match"),null;return t};var i=r(n(53466)),o=n(5151)},53466:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(63006)),o=r(n(60668)),a=r(n(30873)),s=r(n(5938)),l=r(n(46037)),c=r(n(20020)),u=r(n(71538)),d=r(n(94907)),_=r(n(12615)),p=r(n(58805)),f=r(n(96735)),E=r(n(96259)),A=r(n(84263)),g=r(n(4904)),h=r(n(86946)),S=r(n(65299)),T=r(n(66534)),m=r(n(37302)),I=r(n(43163)),y=r(n(86019)),C=r(n(65765)),v=r(n(68732)),O=r(n(50575)),P=r(n(65643)),N=r(n(83178)),b=r(n(8248)),M=r(n(40647)),R=r(n(98587)),D=r(n(66525)),L=r(n(11371)),w=r(n(79692)),B=r(n(86679)),U=r(n(22260)),G=r(n(24585)),k=r(n(85316)),Y=r(n(13501)),F=r(n(75661)),K=r(n(65563)),x=r(n(63828)),H=r(n(93729)),j=r(n(59324)),V=r(n(4279)),W=r(n(41056)),Q=r(n(54425)),$=[i.default,o.default,a.default,s.default,l.default,c.default,u.default,d.default,_.default,p.default,f.default,E.default,A.default,g.default,h.default,S.default,T.default,m.default,I.default,y.default,C.default,v.default,O.default,P.default,N.default,b.default,M.default,R.default,D.default,L.default,w.default,B.default,U.default,G.default,k.default,Y.default,F.default,K.default,x.default,H.default,j.default,V.default,W.default,Q.default];t.default=$},5151:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseProtobufWithMultipleMessageParserPlugin=function(e){const t=[];let n;for(const o of i.default){const i=o(e);var r;if(null!=i)t.push(`${i.msgData.type}:${null!==(r=i.msgData.subtype)&&void 0!==r?r:"null"}`),null==n&&(n=i)}return{result:n,pluginsMatched:t}};var i=r(n(98486))},98486:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(84184)),o=r(n(3229)),a=r(n(9907)),s=[i.default,o.default,a.default];t.default=s},28594:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseAudioOrPttMessageProto=function(e){let{messageProtobuf:t,baseMessage:n,type:r}=e;const{audioMessage:c}=t;if(null==c)return;const{contextInfo:u}=c,{url:d,directPath:_,mimetype:p,fileSha256:f,fileEncSha256:E,fileLength:A,seconds:g,mediaKey:h,mediaKeyTimestamp:S,streamingSidecar:T,waveform:m,backgroundArgb:I}=c,y=(0,i.default)((0,i.default)({},n),{},{type:r,deprecatedMms3Url:(0,s.decodeUrl)(d),directPath:_,mimetype:p,filehash:(0,s.decodeBytes)(f),encFilehash:(0,s.decodeBytes)(E),size:(0,o.maybeNumberOrThrowIfTooLarge)(A)||0,duration:`${g||0}`,mediaKey:(0,s.decodeBytes)(h),mediaKeyTimestamp:null!=S?(0,o.numberOrThrowIfTooLarge)(S):(0,a.unixTime)(),streamingSidecar:T,waveform:m&&l(m)?new Uint8Array(m):void 0,backgroundColor:I});return(0,s.validateRequiredMediaProperties)(y,c),function(e,t){if(!(0,s.shouldLogE2eProtoValidation)(e,t))return;const n=e.type;null==t.seconds?(__LOG__(2,void 0,void 0,!0)`seconds is missing from msg type ${n}`,SEND_LOGS(`${n}-message-missing-seconds`)):0===t.seconds&&(__LOG__(2,void 0,void 0,!0)`seconds is 0 in msg type ${n}`,SEND_LOGS(`${n}-message-incorrect-seconds`));null==t.fileLength&&(__LOG__(2,void 0,void 0,!0)`fileLength is missing from msg type ${n}`,SEND_LOGS(`${n}-message-missing-fileLength`))}(y,c),{msgData:y,contextInfo:u}},t.validateWaveform=l;var i=r(n(81109)),o=n(22101),a=n(29987),s=n(57305);n(73602);function l(e){return e.byteLength>=64&&e.byteLength<=192}},5768:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createDynamicReplyButtonsMessage=function(e,t,n){const{documentMessage:r,imageMessage:i,locationMessage:o,videoMessage:a}=e;if(t.isForwarded&&(r||i||o||a))return e;const s={buttons:!0===t.isForwarded?void 0:t.dynamicReplyButtons,footerText:t.footer,contextInfo:n};r?(s.documentMessage=r,s.headerType=d.Message$ButtonsMessage$HeaderType.DOCUMENT,s.contentText=t.caption):i?(s.imageMessage=i,s.headerType=d.Message$ButtonsMessage$HeaderType.IMAGE,s.contentText=t.caption):o?(s.locationMessage=o,s.headerType=d.Message$ButtonsMessage$HeaderType.LOCATION,s.contentText=t.caption):a?(s.videoMessage=a,s.headerType=d.Message$ButtonsMessage$HeaderType.VIDEO,s.contentText=t.caption):t.title?(s.text=t.title,s.headerType=d.Message$ButtonsMessage$HeaderType.TEXT,s.contentText=t.body):(s.contentText=t.body,s.headerType=d.Message$ButtonsMessage$HeaderType.EMPTY);return{buttonsMessage:s}},t.parseButtonsMessageProto=function(e){let{buttonsMessage:t,baseMessage:n}=e;const{documentMessage:r,imageMessage:d,locationMessage:_,videoMessage:p,contentText:f,footerText:E,text:A,headerType:g}=t,h=(()=>{const e=(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.CHAT,title:null==A?n.title:(0,o.convertToTextWithoutSpecialEmojis)(A),body:null==f?n.body:(0,o.convertToTextWithoutSpecialEmojis)(f)});var t,E,g,h,S,T,m,I;return d?null!==(t=null===(E=(0,l.default)({messageProtobuf:{imageMessage:d},baseMessage:n}))||void 0===E?void 0:E.msgData)&&void 0!==t?t:e:r?null!==(g=null===(h=(0,s.default)({messageProtobuf:{documentMessage:r},baseMessage:n}))||void 0===h?void 0:h.msgData)&&void 0!==g?g:e:_?null!==(S=null===(T=(0,c.default)({messageProtobuf:{locationMessage:(0,i.default)((0,i.default)({},_),{},{name:void 0,address:void 0})},baseMessage:n}))||void 0===T?void 0:T.msgData)&&void 0!==S?S:e:p&&null!==(m=null===(I=(0,u.default)({messageProtobuf:{videoMessage:p},baseMessage:n}))||void 0===I?void 0:I.msgData)&&void 0!==m?m:e})();return(0,i.default)((0,i.default)({},h),{},{headerType:g,caption:null!=f?(0,o.convertToTextWithoutSpecialEmojis)(f):h.caption,footer:null!=E?(0,o.convertToTextWithoutSpecialEmojis)(E):h.footer})};var i=r(n(81109)),o=n(54468),a=n(73602),s=r(n(20020)),l=r(n(96259)),c=r(n(37302)),u=r(n(13501)),d=n(77026)},28296:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.unwrapDeviceSentMessage=function(e){var t,n,r;const o=null==e||null===(t=e.deviceSentMessage)||void 0===t?void 0:t.message,a=null==e||null===(n=e.messageContextInfo)||void 0===n?void 0:n.messageSecret;if(null==o||null==a||null!=(null===(r=o.messageContextInfo)||void 0===r?void 0:r.messageSecret))return o;return(0,i.default)((0,i.default)({},o),{},{messageContextInfo:(0,i.default)((0,i.default)({},o.messageContextInfo),{},{messageSecret:a})})},t.wrapDeviceSentMessage=function(e,t){var n;const r={deviceSentMessage:{destinationJid:t.toString({legacy:!0}),message:e}},i=null==e||null===(n=e.messageContextInfo)||void 0===n?void 0:n.messageSecret;null!=i&&(r.messageContextInfo={messageSecret:i});return r};var i=r(n(81109))},18431:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContextInfoProto=E,t.parseMessageContextInfoProto=g,t.parseMsgProto=f;var i=r(n(49619)),o=n(63007),a=n(57305),s=n(54468),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(31565)),c=n(31316),u=n(67454),d=n(73602),_=n(51017);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n,r,i,d,_,p,h){e||(__LOG__(4,void 0,new Error,!0)`drop: not Message`,SEND_LOGS("null-message"));const{messageContextInfo:S}=e,{contextInfo:T,msgData:m}=function(e,t,n,r,i,a,l,d,_){let p;const{viewOnceMessage:E,viewOnceMessageV2:g,ephemeralMessage:h,documentWithCaptionMessage:S,groupMentionedMessage:T,editedMessage:m,botInvokeMessage:I}=e,y=(0,c.parseProtobuf)({messageProtobuf:e,baseMessage:t,msgContext:n,paymentInfo:r,quotedPaymentInfo:a,editAttr:d,bizInfo:l,finalLocation:i,rcat:_});if(y)return y;T&&A(t,T);S&&A(t,S);E&&A(t,E);g&&(0,u.isViewOnceSunsetEnabled)()&&A(t,g);h&&A(t,h,n);m&&A(t,m,n);const{deviceSentMessage:C}=e;C&&function(e,t,n){const r=(0,s.decodeJid)(t.destinationJid);e.id.remote=r,e.to=r,Object.assign(e,f(t.message,e,n))}(t,C,n);I&&(0,o.isBotResponseFutureproofMsgEnabled)()&&A(t,I,n);return{contextInfo:p,msgData:t}}(e,t,n,r,i,d,_,p,h);return function(e,t,n){if(!t)return;E(e,t,n),function(e,t){const n=t.externalAdReply;if(!n)return;const r=l.findLink(n.sourceUrl||"",!1,e.from);e.ctwaContext={conversionSource:t.conversionSource,conversionData:t.conversionData,sourceUrl:n.sourceUrl,description:n.body,title:n.title,thumbnail:n.thumbnail?(0,a.decodeBytes)(n.thumbnail):null,thumbnailUrl:n.thumbnailUrl,mediaType:n.mediaType,mediaUrl:n.mediaUrl,isSuspiciousLink:(null==r?void 0:r.suspiciousCharacters)&&r.suspiciousCharacters.size>0}}(e,t)}(m,T,d),g(m,S),m}function E(e,t,n){const r=t.quotedMessage,i=t.mentionedJid,o=t.groupMentions;if(null!=r&&(0,s.isQuotedSupported)(r)&&(e.quotedMsg=f(r,{type:d.MSG_TYPE.UNKNOWN},"quoted")),e.quotedMsg&&"payment"===e.quotedMsg.type&&n&&__LOG__(2)`parseContextInfoProto: payment not supported`,e.quotedStanzaID=t.stanzaId,e.quotedParticipant=(0,s.decodeJid)(t.participant),e.quotedRemoteJid=(0,s.decodeJid)(t.remoteJid),e.quotedGroupSubject=(0,s.decodeJid)(t.groupSubject),e.quotedParentGroupJid=(0,s.decodeJid)(t.parentGroupJid),e.mentionedJidList=Array.isArray(i)?i.map(s.decodeJid):i,e.groupMentions=Array.isArray(o)?o.map((e=>({groupSubject:e.groupSubject,groupJid:(0,s.decodeJid)(e.groupJid)}))):o,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration),null!=t.ephemeralSettingTimestamp&&(e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp),null!=t.ephemeralSharedSecret&&(e.ephemeralSharedSecret=t.ephemeralSharedSecret),null!=t.disappearingMode){const n=(0,s.protoToDisappearingModeInitiator)(e,t.disappearingMode);null!=n&&(e.disappearingModeInitiator=n)}if(null!=t.actionLink&&(e.actionLink=t.actionLink),null!=t.smbClientCampaignId&&(e.smbClientCampaignId=t.smbClientCampaignId),null!=t.forwardedNewsletterMessageInfo)try{const{newsletterJid:n,newsletterName:r,serverMessageId:i}=t.forwardedNewsletterMessageInfo,o=(0,s.strictDecodeJid)(n);e.forwardedNewsletterMessageInfo={newsletterId:null!=o?(0,_.toNewsletterWid)(o):void 0,newsletterName:r,serverMessageId:i}}catch(e){__LOG__(4,void 0,new Error,!0)`parseContextInfoProto: failed to parse forwarded newsletter info`,SEND_LOGS("Failed to parse Forwarded Newsletter Message Info.")}}function A(e,t,n){Object.assign(e,f((0,i.default)(t.message,"futureproofMessage.message"),e,n))}function g(e,t){t&&null!=t.messageSecret&&(e.messageSecret=new Uint8Array(t.messageSecret))}},54468:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.convertToTextWithoutSpecialEmojis=function(e){if(!e)return e;if((0,S.getMobilePlatform)()===S.PLATFORMS.ANDROID)return e;return(0,d.convertToTextWithoutSpecialEmojis)(e)},t.createMessageKey=function(e){const t=B(e.to),n={fromMe:!0,id:e.id.id};(0,s.isString)(t)&&(n.remoteJid=t);return n},t.decodeJid=L,t.decryptFailAttributeFromProtobuf=function(e){var t;if(null!=e.reactionMessage||null!=e.encReactionMessage||null!=(null===(t=e.pollUpdateMessage)||void 0===t?void 0:t.vote)||null!=e.keepInChatMessage||null!=e.editedMessage||null!=e.pinInChatMessage||null!=e.protocolMessage&&e.protocolMessage.type===y.Message$ProtocolMessage$Type.EPHEMERAL_SYNC_RESPONSE)return c.DecryptFailType.Hide;return c.DecryptFailType.Show},t.disappearingModeInitiatorToProto=function(e){let t;switch(e){case _.DisappearingModeInitiator.ChangedInChat:t=y.DisappearingMode$Initiator.CHANGED_IN_CHAT;break;case _.DisappearingModeInitiator.InitiatedByMe:t=y.DisappearingMode$Initiator.INITIATED_BY_ME;break;case _.DisappearingModeInitiator.InitiatedByOther:t=y.DisappearingMode$Initiator.INITIATED_BY_OTHER}return{initiator:t}},t.encodeBytes=function(e){return e?(0,i.decodeB64)(e):void 0},t.encodeJid=B,t.encodeKey=function(e){const t={fromMe:e.fromMe,id:e.id},n=B(e.remote),r=B(e.participant);(0,s.isString)(n)&&(t.remoteJid=n);(0,s.isString)(r)&&(t.participant=r);return t},t.getBizNativeFlowName=function(e){var t,n,r,i,o,a;if(1===(null===(t=e.interactiveMessage)||void 0===t||null===(n=t.nativeFlowMessage)||void 0===n||null===(r=n.buttons)||void 0===r?void 0:r.length))return(0,I.getNativeFlowNameByButtonName)(e.interactiveMessage.nativeFlowMessage.buttons[0].name);if(1===(null===(i=e.buttonsMessage)||void 0===i||null===(o=i.buttons)||void 0===o?void 0:o.length))return(0,I.getNativeFlowNameByButtonName)(null===(a=e.buttonsMessage.buttons[0].nativeFlowInfo)||void 0===a?void 0:a.name)},t.getInteractiveMessageFieldNameForType=R,t.getInteractiveMessageTypeForProto=function(e){for(const t of E.default.members())if(R(t)in e)return t;return null},t.getInteractiveResponseMessageFieldNameForType=D,t.getInteractiveResponseMessageTypeForProto=function(e){for(const t of A.default.members())if(D(t)in e)return t;return null},t.getInteractiveResponsePayload=function(e,t,n){switch(e){case A.default.NATIVE_FLOW:{const r=(0,a.default)(t.nativeFlowResponseMessage,"message.nativeFlowResponseMessage"),i=(0,a.default)(f.default.cast(r.name),"NativeFlowName.cast(payload.name)"),o=(0,a.default)(r.version,"payload.version");if(o>1||!b(i,n))throw(0,P.default)("Invalid message");return{name:i,version:o,type:e,paramsJson:(0,a.default)(r.paramsJson,"payload.paramsJson")}}}},t.getMsgKey=function(e,t){if(!e)throw(0,P.default)("getMsgKey: no message key is defined for protocol message");const{id:n}=e;if(!n)throw(0,P.default)("getMsgKey: no message id is defined for protocol message");return w(n,e,t)},t.getMutableMessageProtobuf=void 0,t.hasUnsupportedButtons=function(e){return e.some((e=>e.nativeFlowInfo&&M.includes(e.nativeFlowInfo.name)||M.includes(e.buttonId)))},t.hasUnsupportedCurrency=function(e){var t;const n=(null==e||null===(t=e.primaryAmount)||void 0===t?void 0:t.currencyCode)||(null==e?void 0:e.currency);if(["XUS","XDX","USDP"].includes(null==n?void 0:n.toUpperCase()))return!0;return!1},t.isEitherSenderOrReceiverOfPaymentMessage=function(e,t){var n;if(e.remote.isGroup()&&!(null===(n=e.participant)||void 0===n?void 0:n.equals((0,C.getMeUser)()))&&!t.equals((0,C.getMeUser)()))return!1;return!0},t.isInteractiveMessageTypeEnabled=function(e){switch(e){case E.default.NATIVE_FLOW:return(0,u.interactiveNativeFlowMessagesEnabled)();case E.default.SHOPS_STOREFRONT:return(0,u.shopsInteractiveMessageEnabled)()}},t.isInteractiveResponseMessageTypeEnabled=function(e){switch(e){case A.default.NATIVE_FLOW:return(0,u.interactiveNativeFlowResponseMessagesEnabled)()}},t.isQuotedSupported=function(e){if(null!=e.reactionMessage)return!1;return!0},t.isSupportedInteractiveMessageVersion=function(e,t){const n=null==t?void 0:t.messageVersion;if(null==n||null==e)return!1;switch(e){case E.default.NATIVE_FLOW:case E.default.SHOPS_STOREFRONT:return n<=1}},t.isValidNativeFlowName=b,t.msgKeyToProtobuf=function(e){var t;return{fromMe:e.fromMe,id:e.id,participant:e.fromMe||null===(t=e.participant)||void 0===t?void 0:t.toString({legacy:!0}),remoteJid:e.remote.toString({legacy:!0})}},t.parseMsgPaymentInfo=function(e){return{paymentStatus:e.status,paymentTxnStatus:e.txnStatus,paymentCurrency:e.currency||"",paymentAmount1000:(0,a.default)((0,o.maybeNumberOrThrowIfTooLarge)(e.amount1000),"maybeNumberOrThrowIfTooLarge(paymentInfo.amount1000)"),paymentMessageReceiverJid:(0,O.createWid)((0,a.default)(e.receiverJid,"paymentInfo.receiverJid")),paymentExpiryTimestamp:(0,o.maybeNumberOrThrowIfTooLarge)(e.expiryTimestamp),paymentTransactionTimestamp:(0,a.default)((0,o.maybeNumberOrThrowIfTooLarge)(e.transactionTimestamp),"maybeNumberOrThrowIfTooLarge(paymentInfo.transactionTimestamp)")}},t.pollTypeAttributeFromProtobuf=function(e){var t;if(null!=e.pollCreationMessage||null!=e.pollCreationMessageV2||null!=e.pollCreationMessageV3)return p.POLL_TYPES.creation;if(null!=(null===(t=e.pollUpdateMessage)||void 0===t?void 0:t.vote))return p.POLL_TYPES.vote;return null},t.protoToDisappearingModeInitiator=function(e,t){if(null==e.from)return;const n=e.from.equals((0,C.getMeUser)());if(null==t.initiator)return;switch(t.initiator){case y.DisappearingMode$Initiator.CHANGED_IN_CHAT:return _.DisappearingModeInitiator.ChangedInChat;case y.DisappearingMode$Initiator.INITIATED_BY_ME:return n?_.DisappearingModeInitiator.InitiatedByMe:_.DisappearingModeInitiator.InitiatedByOther;case y.DisappearingMode$Initiator.INITIATED_BY_OTHER:return n?_.DisappearingModeInitiator.InitiatedByOther:_.DisappearingModeInitiator.InitiatedByMe}},t.protobufToMsgKey=function(e){const{fromMe:t,id:n,participant:r,remoteJid:i}=e;(0,N.default)(null!=t&&null!=i&&null!=n,"fromMe, remoteJid, and id should be set");let o=null!=r&&(0,O.isWidlike)(r)?(0,O.createWid)(r):void 0;const a=(0,O.createWid)(i);(a.isGroup()||a.isBroadcast())&&t&&(o=(0,C.getMaybeMeUser)());return new T.default({fromMe:t,id:n,participant:o,remote:(0,O.createWid)(i)})},t.shouldParseNFM=function(e,t){if(null!=e||null!=(null==t?void 0:t.nativeFlowName))return!!(0,u.nativeFlowMessagesEnabled)()&&b(e,t);return!0},t.strictDecodeJid=function(e){if(null==e)return;return(0,N.default)(v.default.isWid(e),"Provided Jid is not a valid Wid"),(0,O.createWid)(e)},t.translateKeyToLocalReference=w,t.typeAttributeFromProtobuf=function e(t){var n;if(t.ephemeralMessage){const{message:n}=t.ephemeralMessage;return n?e(n):p.STANZA_MSG_TYPES.text}if(t.groupMentionedMessage){const{message:n}=t.groupMentionedMessage;return n?e(n):p.STANZA_MSG_TYPES.text}if(t.botInvokeMessage){const{message:n}=t.botInvokeMessage;return n?e(n):p.STANZA_MSG_TYPES.text}if(t.deviceSentMessage){const{message:n}=t.deviceSentMessage;return n?e(n):p.STANZA_MSG_TYPES.text}if(t.reactionMessage||t.encReactionMessage)return p.STANZA_MSG_TYPES.reaction;if(t.pollCreationMessage||t.pollCreationMessageV2||t.pollCreationMessageV3||t.pollUpdateMessage)return p.STANZA_MSG_TYPES.poll;if(null!=(null===(n=t.extendedTextMessage)||void 0===n?void 0:n.canonicalUrl)&&""!==t.extendedTextMessage.canonicalUrl.trim())return p.STANZA_MSG_TYPES.media;if(t.conversation||t.extendedTextMessage||t.templateButtonReplyMessage||t.protocolMessage||t.interactiveMessage||t.keepInChatMessage||t.requestPhoneNumberMessage||t.editedMessage||t.pinInChatMessage)return p.STANZA_MSG_TYPES.text;return p.STANZA_MSG_TYPES.media},t.validateOutgoingRequiredMediaProperties=function(e,t,n){if(t.viewOnce)return;null==t.directPath&&null==t.staticUrl&&(__LOG__(2,void 0,void 0,!0)`directPath missing from msg type ${e}`,SEND_LOGS(`outgoing-${e}-message-missing-direct-path`));null==t.fileSha256&&(__LOG__(2,void 0,void 0,!0)`fileSha256 missing from msg type ${e}`,SEND_LOGS(`outgoing-${e}-message-missing-file-sha`));n||null!=t.fileEncSha256||(__LOG__(2,void 0,void 0,!0)`fileEncSha256 missing from msg type ${e}`,SEND_LOGS(`outgoing-${e}-message-missing-file-enc-sha`));null!=t.url||null!=t.staticUrl||n||(__LOG__(2,void 0,void 0,!0)`url(deprecatedMms3Url) missing from msg type ${e}`,SEND_LOGS(`outgoing-${e}-message-missing-mms3-url`))};var i=n(62089),o=n(22101),a=r(n(49619)),s=n(25303),l=n(42247),c=n(96193),u=n(56660),d=n(56723),_=n(28626),p=n(33351),f=r(n(30266)),E=r(n(80081)),A=r(n(94865)),g=r(n(27021)),h=n(96955),S=n(43744),T=r(n(60001)),m=n(73602),I=n(79596),y=n(77026),C=n(3885),v=r(n(27112)),O=n(51017),P=r(n(89482)),N=r(n(41143));function b(e,t){return null==e&&null==(null==t?void 0:t.nativeFlowName)||null==(null==t?void 0:t.nativeFlowName)||null!=e&&f.default.cast(t.nativeFlowName)===e}const M=["novi_login","novi_report_transaction","novi_hub","novi_view_code","novi_view_transaction","novi_view_bank_detail","novi_view_card_detail","wa_payment_transaction_details","wa_payment_learn_more","wa_payment_fbpin_reset"];function R(e){switch(e){case E.default.NATIVE_FLOW:return"nativeFlowMessage";case E.default.SHOPS_STOREFRONT:return"shopStorefrontMessage"}}function D(e){switch(e){case A.default.NATIVE_FLOW:return"nativeFlowResponseMessage"}}function L(e){return e&&v.default.isWid(e)?(0,O.createWid)(e):e}function w(e,t,n){var r;let i,o,s;if(null==n||null===(r=n.id)||void 0===r?void 0:r.fromMe)if(i=Boolean(t.fromMe),s=L(t.remoteJid),!0===t.fromMe){if(s instanceof v.default&&!s.isUser()){var c;o=g.default.isCag(s)||!(null===(c=n.author)||void 0===c?void 0:c.isLid())?(0,C.getMeUser)():(0,a.default)((0,C.getMaybeMeLidUser)(),"getMaybeMeLidUser()")}}else o=L(t.participant);else{s=n.id.remote;const e=g.default.isCag(s);if(!0===t.fromMe){var u;if(i=!1,o=n.author,e&&(null===(u=o)||void 0===u?void 0:u.isLid())){const e=(0,l.getPhoneNumber)(n.author);null!=e&&(o=e)}}else{const n=L(t.participant);if(n instanceof v.default){const t=e||!n.isLid()?(0,C.getMeUser)():(0,a.default)((0,C.getMaybeMeLidUser)(),"getMaybeMeLidUser()");i=t.equals(n),s.isUser()||(o=i?t:n)}else i=!0}}return n.type===m.MSG_TYPE.REACTION&&null!=s&&(s instanceof v.default&&s.isBroadcast()&&!s.isStatusV3()||"broadcast"===(0,h.interpretAndValidateJid)(s.toString()).jidType)&&(s=L(t.participant),o=void 0),new T.default({id:e,fromMe:i,remote:s,participant:o})}function B(e){return e instanceof v.default?e.toString({legacy:!0}):(0,s.isString)(e)?e.replace(/@c.us$/,"@s.whatsapp.net"):void 0}t.getMutableMessageProtobuf=e=>e},3229:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,bizInfo:r}=e;const{buttonsMessage:u}=t;if(null==u)return;const{buttons:d=[],headerType:_}=u;if(null!=s.default.cast((0,a.getBizNativeFlowName)({buttonsMessage:u}))||null!=(null==r?void 0:r.nativeFlowName))return;if((0,a.hasUnsupportedButtons)(d))return{msgData:(0,i.default)((0,i.default)({},n),{},{type:l.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:u.contextInfo};if(_===c.Message$ButtonsMessage$HeaderType.UNKNOWN||!new Set(c.Message$ButtonsMessage$HeaderType.members()).has(_))return{msgData:(0,i.default)((0,i.default)({},n),{},{type:l.MSG_TYPE.UNKNOWN}),contextInfo:u.contextInfo};const p=(0,o.parseButtonsMessageProto)({buttonsMessage:u,baseMessage:n});if(d.length)return{msgData:(0,i.default)((0,i.default)({},p),{},{isDynamicReplyButtonsMsg:!0,dynamicReplyButtons:d}),contextInfo:u.contextInfo};return{msgData:p,contextInfo:u.contextInfo}};var i=r(n(81109)),o=n(5768),a=n(54468),s=r(n(30266)),l=n(73602),c=n(77026)},9907:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{messageProtobuf:n,baseMessage:r}=e;const{templateMessage:_}=n;if(null==_)return;const g=null!==(t=_.hydratedTemplate)&&void 0!==t?t:(0,o.default)(_.hydratedFourRowTemplate,"templateMessage.hydratedFourRowTemplate"),{documentMessage:h,imageMessage:S,locationMessage:T,videoMessage:m,hydratedButtons:I,hydratedContentText:y,hydratedFooterText:C,hydratedTitleText:v,templateId:O}=g;if((e=>{if(e.length>3)return!0;if(e.length>0){const t=A(e[0]);if(!e.slice(1).every((e=>{const n=A(e);return t===p?n===t:t===f||t===E?n===f||n===E:void 0})))return!0}return!1})(I))return{msgData:(0,i.default)((0,i.default)({},r),{},{type:s.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:void 0};const P=(()=>{const e=(0,i.default)((0,i.default)({},r),{},{type:s.MSG_TYPE.CHAT},Boolean(y)&&{body:(0,a.convertToTextWithoutSpecialEmojis)(y)});var t,n,o,_,p,f,E,A;return S?null!==(t=null===(n=(0,c.default)({messageProtobuf:{imageMessage:S},baseMessage:r}))||void 0===n?void 0:n.msgData)&&void 0!==t?t:e:h?null!==(o=null===(_=(0,l.default)({messageProtobuf:{documentMessage:h},baseMessage:r}))||void 0===_?void 0:_.msgData)&&void 0!==o?o:e:T?null!==(p=null===(f=(0,u.default)({messageProtobuf:{locationMessage:T},baseMessage:r}))||void 0===f?void 0:f.msgData)&&void 0!==p?p:e:m&&null!==(E=null===(A=(0,d.default)({messageProtobuf:{videoMessage:m},baseMessage:r}))||void 0===A?void 0:A.msgData)&&void 0!==E?E:e})();return{msgData:(0,i.default)((0,i.default)({},P),{},{templateId:O,isFromTemplate:!0,caption:Boolean(y)?(0,a.convertToTextWithoutSpecialEmojis)(y):P.caption,footer:Boolean(C)?(0,a.convertToTextWithoutSpecialEmojis)(C):P.footer,title:Boolean(v)?(0,a.convertToTextWithoutSpecialEmojis)(v):P.title},I.length>0&&{hydratedButtons:I}),contextInfo:void 0}};var i=r(n(81109)),o=r(n(49619)),a=n(54468),s=n(73602),l=r(n(20020)),c=r(n(96259)),u=r(n(37302)),d=r(n(13501)),_=n(64498);const{QUICK_REPLY:p,URL:f,CALL:E}=_.TEMPLATE_BUTTON_SUBTYPE,A=e=>{let t="";return null!=e.callButton?t=E:null!=e.quickReplyButton?t=p:null!=e.urlButton&&(t=f),t}},72990:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseProtocolRevokeMessageProto=function(e){let{messageProtobuf:t,baseMessage:n,editAttr:r,msgContext:c}=e;const{protocolMessage:u}=t;if(null==u)return;const{type:d,key:_}=u;if("relay"!==c&&d!==l.Message$ProtocolMessage$Type.EPHEMERAL_SETTING)return;if(d!==l.Message$ProtocolMessage$Type.REVOKE)return;try{return{msgData:(0,i.default)((0,i.default)({},n),{},{type:s.MSG_TYPE.PROTOCOL,subtype:r===o.EDIT_ATTR.ADMIN_REVOKE?"admin_revoke":"sender_revoke",protocolMessageKey:(0,a.getMsgKey)(_,n)}),contextInfo:null}}catch(e){throw __LOG__(3,void 0,void 0,!0,["messaging"])`parseProtocolRevokeMessageProto: error:${null==e?void 0:e.name}, stack: ${null==e?void 0:e.stack}`,SEND_LOGS("ProtocolRevokeParseError",1,"messaging"),e}};var i=r(n(81109)),o=n(77630),a=n(54468),s=n(73602),l=n(77026)},38171:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseVideoOrPtvMessageProto=function(e){let{messageProtobuf:t,baseMessage:n,type:r}=e;const{ptvMessage:u,videoMessage:d}=t,_=d||u;if(null==_)return;if(r===c.MSG_TYPE.VIDEO&&null==d)return;if(r===c.MSG_TYPE.PTV&&null==u)return;const{url:p,directPath:f,staticUrl:E,mimetype:A,caption:g,fileSha256:h,fileEncSha256:S,fileLength:T,height:m,width:I,mediaKey:y,mediaKeyTimestamp:C,jpegThumbnail:v,interactiveAnnotations:O,viewOnce:P,thumbnailDirectPath:N,thumbnailSha256:b,thumbnailEncSha256:M,contextInfo:R,gifPlayback:D,gifAttribution:L,seconds:w,streamingSidecar:B}=_,U=(0,i.default)((0,i.default)({},n),{},{type:r,deprecatedMms3Url:(0,s.decodeUrl)(p),directPath:f,staticUrl:E||"",mimetype:A,caption:(0,l.convertToTextWithoutSpecialEmojis)(g),filehash:(0,s.decodeBytes)(h),encFilehash:(0,s.decodeBytes)(S),size:(0,o.numberOrThrowIfTooLarge)(T||0),height:m,width:I,mediaKey:(0,s.decodeBytes)(y),mediaKeyTimestamp:null!=C?(0,o.numberOrThrowIfTooLarge)(C):(0,a.unixTime)(),duration:`${w||0}`,body:(0,s.decodeBytes)(v)||"",interactiveAnnotations:O,isViewOnce:!0===P,thumbnailDirectPath:N,thumbnailSha256:(0,s.decodeBytes)(b),thumbnailEncSha256:(0,s.decodeBytes)(M),isGif:D,gifAttribution:L,streamingSidecar:B});return(0,s.validateRequiredMediaProperties)(U,_),{msgData:U,contextInfo:R}};var i=r(n(81109)),o=n(22101),a=n(29987),s=n(57305),l=n(54468),c=n(73602)},33633:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearInitializePromise=function(){p=null},t.destroy=function(){return(0,a.destroyStorage)().catch((()=>(0,o.dexieCastToPromise)(new i.default(a.DATABASE_NAME).delete()))).finally((()=>(p=null,(0,o.dexieCastToPromise)(new i.default("fts-storage-dogfooding").delete()))))},Object.defineProperty(t,"getIndexV3Table",{enumerable:!0,get:function(){return d.getTable}}),Object.defineProperty(t,"getManifestTable",{enumerable:!0,get:function(){return _.getTable}}),Object.defineProperty(t,"getPurgeRangeQueueTable",{enumerable:!0,get:function(){return s.getTable}}),t.initialize=function(){null==p&&((0,a.createStorage)(),(0,_.addTable)(),(0,l.deprecateTable)(),(0,c.addTable)(),(0,u.addTable)(),(0,s.addTable)(),(0,d.addTable)(),p=(0,a.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize fts storage"),e})));return p};var i=r(n(46808)),o=n(49363),a=n(84039),s=n(7885),l=n(50974),c=n(73393),u=n(85472),d=n(85128),_=n(47566);let p},84039:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_NAME=void 0,t.createStorage=function(){const e=new o.default(u);d=new a.Storage(e),d.addErrorHandler(i.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&s.StorageCmd.trigger("storage_not_enough_space")}))},t.destroyStorage=function(){if(null==d)return Promise.reject((0,l.default)("[fts-storage] Storage should be created first before being destroyed"));return d.purge().then((()=>{d=null})).catch((e=>{throw d=null,e}))},t.getStorage=function(){return(0,c.default)(null!=d,"[fts-storage] Storage should be created first before being accessed"),d};var i=r(n(46808)),o=r(n(96801)),a=n(21820),s=n(51882),l=r(n(89482)),c=r(n(41143));const u="fts-storage";t.DATABASE_NAME=u;let d=null},39299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ftsV1DeleteAndDeprecate=function(){return(0,r.getStorage)().versions.version(6)},t.ftsV1IndexCreateTable=function(){return(0,r.getStorage)().versions.version(0)},t.ftsV2Delete=function(){return(0,r.getStorage)().versions.version(7)},t.ftsV2DeleteTokenPrefixes=function(){return(0,r.getStorage)().versions.version(8)},t.ftsV2IndexCreateTable=function(){return(0,r.getStorage)().versions.version(3)},t.ftsV2TokenToPrefixesCreateTable=function(){return(0,r.getStorage)().versions.version(4)},t.ftsV3IndexCreateTable=function(){return(0,r.getStorage)().versions.version(5)},t.manifestCreateTable=function(){return(0,r.getStorage)().versions.version(1)},t.purgeRangeQueueCreateTable=function(){return(0,r.getStorage)().versions.version(2)};var r=n(84039)},7885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_NAME=void 0,t.addTable=function(){(0,r.getStorage)().add(l).version((0,i.purgeRangeQueueCreateTable)(),[s(["chatId","tsOfLastMessage","startRowId","endRowId"]),a("offset")]).view((e=>e))},t.getTable=function(){return(0,r.getStorage)().table(l)};var r=n(84039),i=n(39299),o=n(65717);const{addColumn:a,addCompositePrimaryKey:s}=(0,o.columnBuilder)(),l="fts-purge-range-queue";t.TABLE_NAME=l},50974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_NAME=void 0,t.deprecateTable=function(){(0,r.getStorage)().add(c).version((0,i.ftsV1IndexCreateTable)(),[s("token"),a("ids"),l("ids"),a("prefixes"),l("prefixes")]).delete((0,i.ftsV1DeleteAndDeprecate)())};var r=n(84039),i=n(39299),o=n(65717);const{addColumn:a,addUserDefinedPrimaryKey:s,addArrayIndex:l}=(0,o.columnBuilder)(),c="fts-v1-index";t.TABLE_NAME=c},73393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_NAME=void 0,t.addTable=function(){(0,r.getStorage)().add(u).version((0,i.ftsV2IndexCreateTable)(),[s(["id","chatId","token"]),l("id"),l("chatId"),l("token"),c(["chatId","token"]),a("timestamp"),c(["id","token"])]).delete((0,i.ftsV2Delete)())};var r=n(84039),i=n(39299),o=n(65717);const{addColumn:a,addCompositePrimaryKey:s,addIndex:l,addCompositeIndex:c}=(0,o.columnBuilder)(),u="fts-v2-index";t.TABLE_NAME=u},85472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_NAME=void 0,t.addTable=function(){(0,r.getStorage)().add(a).version((0,i.ftsV2TokenToPrefixesCreateTable)(),[l("token"),s("prefixes"),c("prefixes")]).delete((0,i.ftsV2DeleteTokenPrefixes)())};var r=n(84039),i=n(39299),o=n(65717);const a="fts-v2-token-prefixes";t.TABLE_NAME=a;const{addColumn:s,addUserDefinedPrimaryKey:l,addArrayIndex:c}=(0,o.columnBuilder)()},85128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_NAME=void 0,t.addTable=function(){(0,i.getStorage)().add(d).version((0,o.ftsV3IndexCreateTable)(),[l("ftsRowId"),s("id"),c("id"),s("chatId"),c("chatId"),s("timestamp"),s("prefixes"),u("prefixes")]).view((e=>e?(0,r.buildDBEntry)(e.ftsRowId,e.id,e.chatId,e.timestamp,e.prefixes):null))},t.getTable=function(){return(0,i.getStorage)().table(d)};var r=n(61835),i=n(84039),o=n(39299),a=n(65717);const{addColumn:s,addAutoIncrementingPrimaryKey:l,addIndex:c,addArrayIndex:u}=(0,a.columnBuilder)(),d="fts-v3-index";t.TABLE_NAME=d},47566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_NAME=t.ManifestKeys=void 0,t.addTable=function(){(0,r.getStorage)().add(a).version((0,i.manifestCreateTable)(),[c("key"),l("tokenizerVersion"),l("schemaVersion"),l("isCurrent"),l("lastMsgKeyViaFullIndexer"),l("isFullIndexingComplete")]).view((e=>e||null))},t.getTable=function(){return(0,r.getStorage)().table(a)};var r=n(84039),i=n(39299),o=n(65717);const a="manifest";t.TABLE_NAME=a;const s=Object.freeze({PREV_VERSION:"prev.version",CURR_VERSION:"curr.version",NEXT_VERSION:"next.version"});t.ManifestKeys=s;const{addColumn:l,addUserDefinedPrimaryKey:c}=(0,o.columnBuilder)()},1420:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.destroy=function(){return(0,a.destroyStorage)().catch((()=>(0,o.dexieCastToPromise)(new i.default(a.DATABASE_NAME).delete()))).finally((()=>{l=null}))},t.initialize=function(){null==l&&((0,a.createStorage)(),(0,s.addTable)(),l=(0,a.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize jobs storage"),e})));return l};var i=r(n(46808)),o=n(49363),a=n(96676),s=n(51766);let l},96676:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_NAME=void 0,t.createStorage=function(){const e=new o.default(u);d=new a.Storage(e),d.addErrorHandler(i.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&s.StorageCmd.trigger("storage_not_enough_space")}))},t.destroyStorage=function(){if(null==d)return Promise.reject((0,l.default)("[jobs-storage] Storage should be created first before being destroyed"));return d.purge().then((()=>{d=null})).catch((e=>{throw d=null,e}))},t.getStorage=function(){return(0,c.default)(null!=d,"[jobs-storage] Storage should be created first before being accessed"),d};var i=r(n(46808)),o=r(n(96801)),a=n(21820),s=n(51882),l=r(n(89482)),c=r(n(41143));const u="jobs-storage";t.DATABASE_NAME=u;let d=null},98123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jobsCreateV1Table=function(){return(0,r.getStorage)().versions.version(0)},t.jobsCreateV2Table=function(){return(0,r.getStorage)().versions.version(1)};var r=n(96676)},51766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("jobs-store").version((0,i.jobsCreateV1Table)(),[s("jobId"),a("type"),a("uniqKey"),l("uniqKey"),a("original"),a("current"),a("step"),a("startTime"),a("endTime"),a("stepHardStartCountAfterTimeout"),a("stepFirstStartTime"),a("waitUntil"),a("backedOffCount"),a("version")]).version((0,i.jobsCreateV2Table)(),[a("stepUnexpectedErrorCount"),c("endTime")]).view((e=>({jobId:e.jobId,type:e.type,uniqKey:e.uniqKey,original:e.original,current:e.current,step:e.step,startTime:e.startTime,stepHardStartCountAfterTimeout:e.stepHardStartCountAfterTimeout,stepFirstStartTime:e.stepFirstStartTime,waitUntil:e.waitUntil,backedOffCount:e.backedOffCount,version:e.version,stepUnexpectedErrorCount:e.stepUnexpectedErrorCount})))},t.getTable=function(){return(0,r.getStorage)().table("jobs-store")};var r=n(96676),i=n(98123),o=n(65717);const{addColumn:a,addAutoIncrementingPrimaryKey:s,addIndex:l,removeColumn:c}=(0,o.columnBuilder)()},21820:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.NotInitializedError=t.NoSuchTableError=t.NoSuchDatabaseError=t.NoFallbackError=t.DuplicateTableError=t.DuplicateDatabaseError=t.AlreadyInitializedError=void 0;var i=r(n(48926)),o=r(n(81186)),a=(r(n(73167)),r(n(23336))),s=n(35741);const l={packColumns:!1};class c extends Error{constructor(){super(...arguments),this.name="AlreadyInitializedError"}}t.AlreadyInitializedError=c;class u extends Error{constructor(){super(...arguments),this.name="DuplicateDatabaseError"}}t.DuplicateDatabaseError=u;class d extends Error{constructor(){super(...arguments),this.name="DuplicateTableError"}}t.DuplicateTableError=d;class _ extends Error{constructor(){super(...arguments),this.name="NoFallbackError"}}t.NoFallbackError=_;class p extends Error{constructor(){super(...arguments),this.name="NoSuchDatabaseError"}}t.NoSuchDatabaseError=p;class f extends Error{constructor(){super(...arguments),this.name="NoSuchTableError"}}t.NoSuchTableError=f;class E extends Error{constructor(){super(...arguments),this.name="NotInitializedError"}}t.NotInitializedError=E;t.Storage=class{constructor(e,t){this.tables=new Map,this.views=new Map,this.state=1,this.versions=new s.StorageVersionManager,this.errorHandlers=new Map,this._database=e,this.config=null!=t?t:l}addErrorHandler(e,t){const n=(new e).name;this.errorHandlers.set(n,t)}add(e){if(this.tables.has(e))throw new d(`Table "${e}" already added. Reuse the definition.`);const t=new a.default(e,this.versions);return this.tables.set(e,t),t}_getBackingDB(){return this._database}_unsafeGetOrCreateView(e){if(this.views.has(e))return this.views.get(e);const t=this._database.view(e.name,e.rowview,e.shouldEnablePropFilter,e.shouldUseDbMsgEncKeyForEncryptedCol);return this.views.set(e,t),t}_guardInitializedThunk(e){return()=>{if(3&this.state)throw new E("Storage must be initialized before accessing a table!");return e()}}table(e){const t=this.tables.get(e);if(!t)throw new f(`Unknown table ${e} requested, ensure table is defined!`);if(!this._getBackingDB())throw new p(`Unable to find associated database with table "${e}"`);return new o.default(this._guardInitializedThunk((()=>this._unsafeGetOrCreateView(t))),this.errorHandlers)}lock(e,t){if(3&this.state)return Promise.reject(new E("Initialize storage before attempting to lock tables!"));for(let t=0;t<e.length;++t)if(!this.tables.has(e[t]))return Promise.reject(new f(`Requested lock of unknown table "${e[t]}"`));const n=e.map((e=>{const t=this.tables.get(e);if(t)return t;throw new f(`Requested lock of unknown table "${e}"`)})).map((e=>this._unsafeGetOrCreateView(e)));return this._getBackingDB().transact(e,(0,i.default)((function*(){return t(n)}))).finally((()=>{}))}_getUpgraderForCurrentVersion(e,t){for(let n=0;n<e.length;n++)if(e[n].maxVersion===t){const r=e[n].upgraders.get(t);if(r)return{name:e[n].name,callback:r}}}_applyDatabaseVersion(e,t,n){const r=t,i=n.map((e=>e.schema(r))).filter(Boolean);return e.initialize(t,i,this._getUpgraderForCurrentVersion(n,r),this.errorHandlers)}initialize(){var e=this;return(0,i.default)((function*(){if(4&e.state)throw new c("Storage instance has already been initialized");if(e.versions.validate(),!e._database)throw new p(`"${e._database.constructor.name}" failed availability check!`);yield e._database.available();const t=Array.from(e.tables.values()),n=e._getBackingDB();if(t&&n){for(let r=0;r<=e.versions.getMax();r++)yield e._applyDatabaseVersion(n,r,t);yield n.open(),e.state=4}}))()}purge(){return this.state=2,this.views=new Map,this._getBackingDB().reset().then((()=>{}))}}},71164:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.columnPackingEnabled=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(74557),a=n(58625);function s(){return(s=(0,i.default)((function*(e){if(yield(0,o.storageExists)()){const e=yield(0,a.getColumnPackingValueFromStorage)();return null==e?(yield(0,a.setColumnPackingValueToStorage)(!1),!1):e}return yield(0,a.setColumnPackingValueToStorage)(e),e}))).apply(this,arguments)}},8065:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PRIMARY_KEY_TYPE=t.INDEX_TYPE=t.ENCRYPTED_VALUE_TYPE=void 0,t.cloneSchema=function(e){return{name:e.name,columns:e.columns.map((e=>(0,i.default)({},e))),indexes:e.indexes.map(d),encryptedColumns:(0,i.default)({},e.encryptedColumns||{}),deleted:e.deleted}},t.emptySchema=function(e){return{name:e,columns:[],indexes:[],encryptedColumns:{}}},t.findIndex=function(e,t){return e.indexes.findIndex((e=>function(e,t){if(e.type!==t.type)return!1;switch(e.type){case l.SIMPLE:case l.ARRAY:case l.UNIQUE:return(0,a.default)(t.type===e.type,"Index types are not equal"),e.column===t.column;case l.COMPOSITE:return(0,a.default)(t.type===e.type,"Index types are not equal"),e.columns.length===t.columns.length&&!e.columns.some((e=>!t.columns.includes(e)))}throw(0,o.default)(`cannot compare unknown indexes of types: ${e.type}, ${t.type}`)}(t,e)))},t.freezeSchema=function(e){return Object.freeze({name:e.name,columns:Object.freeze(e.columns.map(Object.freeze)),indexes:Object.freeze(e.indexes.map(u)),encryptedColumns:Object.freeze((0,i.default)({},e.encryptedColumns||{})),deleted:e.deleted})},t.indexContainsColumn=function(e,t){switch(e.type){case l.SIMPLE:case l.ARRAY:case l.UNIQUE:return e.column===t;case l.COMPOSITE:return!!e.columns.find((e=>e===t))}throw(0,o.default)(`cannot check indexes of unknown index type: ${e.type}`)};var i=r(n(81109)),o=r(n(89482)),a=r(n(41143));const s=Object.freeze({AUTO_INCREMENT:"auto-increment",USER_DEFINED:"user-defined",COMPOSITE:"composite"});t.PRIMARY_KEY_TYPE=s;const l=Object.freeze({SIMPLE:"simple",COMPOSITE:"composite",ARRAY:"array",UNIQUE:"unique"});t.INDEX_TYPE=l;const c=Object.freeze({STRING:"String",ARRAY_BUFFER:"ArrayBuffer"});function u(e){switch(e.type){case l.SIMPLE:return Object.freeze({type:l.SIMPLE,column:e.column});case l.ARRAY:return Object.freeze({type:l.ARRAY,column:e.column});case l.COMPOSITE:return Object.freeze({type:l.COMPOSITE,columns:Object.freeze(e.columns.map(Object.freeze))});case l.UNIQUE:return Object.freeze({type:l.UNIQUE,column:e.column})}throw(0,o.default)(`cannot freeze index of unknown type: ${e.type}`)}function d(e){switch(e.type){case l.SIMPLE:return{type:l.SIMPLE,column:e.column};case l.UNIQUE:return{type:l.UNIQUE,column:e.column};case l.COMPOSITE:return{type:l.COMPOSITE,columns:e.columns.map((e=>e))};case l.ARRAY:return{type:l.ARRAY,column:e.column}}throw(0,o.default)(`cannot clone unknown index type: ${e.type}`)}t.ENCRYPTED_VALUE_TYPE=c},23336:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=n(65589),a=n(8065),s=r(n(41143));function l(e){return e}t.default=class{constructor(e,t){this.maxVersion=-1,this.versions=new Map,this.upgraders=new Map,this.shouldEnablePropFilter=!0,this.shouldUseDbMsgEncKeyForEncryptedCol=!0,this.name=e,this.versionManager=t}version(e,t,n){this.versionManager.claim(e),(0,s.default)(!this.versions.has(e),`Table "${this.name}" already has version #${+e} defined!`),(0,s.default)(e>this.maxVersion,`Versions for table ${this.name} must be defined in order`),this.maxVersion=e;const r=this.schema(e)||(0,a.emptySchema)(this.name),i=(0,o.sortMutations)(t).reduce(((e,t)=>(t.validate(e),t.apply(e))),(0,a.cloneSchema)(r));return this.versions.set(e,(0,a.freezeSchema)(i)),this.upgraders.set(e,n),this}devOnlyDoNotUseInitWithMaxVersion(e,t){const n=this.versionManager.getMax()+1;return this.version(n,e,t)}delete(e){this.versionManager.claim(e),(0,s.default)(!this.versions.has(e),`Table "${this.name}" already has version #${+e} defined!`),(0,s.default)(e>this.maxVersion,`Versions for table ${this.name} must be defined in order`),this.maxVersion=e;const t=this.schema(e)||(0,a.emptySchema)(this.name),n=(0,i.default)((0,i.default)({},t),{},{deleted:!0});return this.versions.set(e,(0,a.freezeSchema)(n)),this}view(e){return this.rowview=e,this}enablePropFilter(e){return this.shouldEnablePropFilter=e,this}useDbMsgEncKeyForEncryptedCol(e){return this.shouldUseDbMsgEncKeyForEncryptedCol=e,this}schema(e){const t=this.versions.get(e);if(t)return t;const n=Array.from(this.versions.keys()).map(l).sort(((e,t)=>e-t)).filter((t=>t<e)).pop();return n||0===n?this.versions.get(n)||(0,a.emptySchema)(this.name):null}}},35741:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageVersionManager=t.MissingVersionError=t.InvalidVersionError=t.DuplicateVersionError=void 0;class n extends Error{constructor(){super(...arguments),this.name="DuplicateVersionError"}}t.DuplicateVersionError=n;class r extends Error{constructor(){super(...arguments),this.name="InvalidVersionError"}}t.InvalidVersionError=r;class i extends Error{constructor(){super(...arguments),this.name="MissingVersionError"}}t.MissingVersionError=i;t.StorageVersionManager=class{constructor(){this.versions=new Set,this._max=-1}claim(e){if(e<0)throw new r("Versions must by greater than or equal to zero!");if(this.versions.has(e))throw new n(`Version #${e} has already been claimed!`);this.versions.add(e),this._max=Math.max(this.getMax(),e)}version(e){if(e<0)throw new r("Versions must by greater than or equal to zero!");return e}validate(){for(let e=0;e<=this.getMax();++e)if(!this.versions.has(e))throw new i(`Schema version #${e} is missing!`)}getMax(){return this._max}}},96801:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(49619)),a=n(13350),s=r(n(46808)),l=n(83741),c=n(56858),u=n(49363),d=n(8065),_=r(n(89482)),p=r(n(41143));function f(){return(f=(0,i.default)((function*(e,t,n,r){if(!c.DbEncKeyStore)throw(0,_.default)("feature is not yet implemented");const i=r?c.DbEncKeyStore.getDbMsgEncKeys({tableName:t.tableName}):c.DbEncKeyStore.getEncKeys(),o=i[i.length-1],a=new Uint8Array(16);self.crypto.getRandomValues(a);const l=n===d.ENCRYPTED_VALUE_TYPE.STRING?(new TextEncoder).encode(e):e;try{const e=self.crypto.subtle.encrypt({iv:a,name:c.DB_ENCRYPTION_CIPHER},o.key,l),t=null==s.default.currentTransaction?e:s.default.waitFor(e);return{_data:yield(0,u.dexieCastToPromise)(t),iv:a,_keyId:o.id,_scheme:r?1:0}}catch(e){throw C(e,"encryptDbMaterial",null,t.columnName),e}}))).apply(this,arguments)}s.default.Promise.PSD.onunhandled=()=>{},s.default.Promise.PSD.txRelaxedDurabilityEnabled=!0;const E=["poll-votes","chat","sync-keys","orphan-tc-token"];function A(e,t,n){const{_keyId:r,_scheme:i}=e,o=n&&!E.includes(t),a=E.includes(t)&&1===i;return o||a?c.DbEncKeyStore.getDbMsgEncKeys({tableName:t}).filter((e=>e.id===r))[0]:c.DbEncKeyStore.getEncKeys().filter((e=>e.id===r))[0]}function g(){return(g=(0,i.default)((function*(e,t,n,r){if(!c.DbEncKeyStore)throw(0,_.default)("feature is not yet implemented");const{_data:i,iv:o}=e;let a=null;if(a=A(e,t.tableName,r),(0,p.default)(null!=a,"Encryption key id not found"),null==i)return i;try{const e=self.crypto.subtle.decrypt({iv:o,name:c.DB_ENCRYPTION_CIPHER},a.key,i),t=null==s.default.currentTransaction?e:s.default.waitFor(e),r=yield(0,u.dexieCastToPromise)(t);return n===d.ENCRYPTED_VALUE_TYPE.STRING?new TextDecoder("utf-8").decode(r):r}catch(e){throw C(e,"decryptDbMaterial",null,t.columnName),e}}))).apply(this,arguments)}class h{constructor(e,t,n,r,i,o,a){this.table=e,this.view=n,this.db=t,this.propFilter=r,this.tableColumns=i,this.tableEncryptedColumns=new Map(Object.keys(o).map((e=>[e,o[e]]))),this.shouldUseDbMsgEncKeyForEncryptedCol=a.shouldUseDbMsgEncKeyForEncryptedCol,this.packColumns=a.packColumns}asyncView(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,i.default)((function*(){const r=t._deserializeColumns(e),i=t._hasEncryptedColumn()&&n?yield t._decryptColumns(r):r;return t.view(i)}))()}_deserializeColumns(e){if((0,l.getABPropConfigValue)("column_serialization_perf_impact_test")){const t={};return this.tableColumns.forEach((n=>{void 0!==e[n.packedName]&&(t[n.name]=e[n.packedName])})),e}return e}_serializeColumns(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,l.getABPropConfigValue)("column_serialization_perf_impact_test")){const n=Object.keys(e),r={};return this.tableColumns.forEach((i=>{(t||void 0!==e[i.name])&&n.includes(i.name)&&(r[i.packedName]=e[i.name])})),e}return e}_decryptColumns(e){var t=this;return(0,i.default)((function*(){(0,p.default)("object"==typeof e,"Called `_decryptColumns` with primitive value");const n=Array.from(t.tableEncryptedColumns.entries()).map((n=>{let[r,i]=n;const o=e[r];return(null==o?void 0:o._data)&&(null==o?void 0:o.iv)?function(){return g.apply(this,arguments)}(o,{tableName:t.table.name,columnName:r},i,t.shouldUseDbMsgEncKeyForEncryptedCol).then((t=>{e[r]=t})):o}));return yield Promise.all(n),e}))()}_encryptColumns(e){const t=Array.from(this.tableEncryptedColumns.entries()).map((t=>{let[n,r]=t;const i=e[n];return null==i?i:function(){return f.apply(this,arguments)}(i,{tableName:this.table.name,columnName:n},r,this.shouldUseDbMsgEncKeyForEncryptedCol).then((t=>{e[n]=t}))}));return Promise.all(t).then((()=>e))}_encryptAndSerialize(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,i.default)((function*(){const r=yield t._encryptSingleUpdate(e);return t._serializeColumns(r,n)}))()}_bulkEncryptAndSerialize(e){var t=this;return(0,i.default)((function*(){return(yield t._encryptBulkUpdates(e)).map((e=>t._serializeColumns(e)))}))()}_encryptSerializeAndAdd(e){var t=this;return(0,i.default)((function*(){const n=yield t._encryptAndSerialize(e);return t.table.add(n)}))()}_encryptSerializeAndPut(e){var t=this;return(0,i.default)((function*(){const n=yield t._encryptAndSerialize(e);return t.table.put(n)}))()}_encryptSerializeAndBulkAdd(e){var t=this;return(0,i.default)((function*(){const n=yield t._bulkEncryptAndSerialize(e);return t.table.bulkAdd(n)}))()}_encryptSerializeAndBulkPut(e){if(this._hasEncryptedColumn())return s.default.waitFor(this._encryptBulkUpdates(e)).then((e=>{const t=e.map((e=>this._serializeColumns(e)));return this.table.bulkPut(t)}));const t=e.map((e=>this._serializeColumns(e)));return this.table.bulkPut(t)}_encryptBulkUpdates(e){if(this._hasEncryptedColumn()){const t=[],n=e.map(((e,n)=>this._encryptColumns(e).then((e=>{t[n]=e}))));return Promise.all(n).then((()=>t))}return Promise.resolve(e)}_encryptSingleUpdate(e){var t=this;return(0,i.default)((function*(){if(t._hasEncryptedColumn()){return yield t._encryptColumns(e)}return e}))()}asyncViewMap(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._hasEncryptedColumn()||!t)return Promise.resolve(e.map((e=>e?this.view(this._deserializeColumns(e)):null)));const n=e.map((e=>null!=e?this.asyncView(e,t):Promise.resolve(null)));return(0,u.dexieCastToPromise)(null==s.default.currentTransaction?Promise.all(n):s.default.waitFor(Promise.all(n)))}preflightEncryptSingleRecord(e){return Object.keys(e).forEach((t=>{this.tableEncryptedColumns.has(t)||delete e[t]})),this._encryptColumns(e)}postflightDecryptSingleRecord(e){var t=this;return(0,i.default)((function*(){const n=yield t._decryptColumns(e);return t.view(n)}))()}bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY(e){if(0===e.length)return(0,u.dexieCastToPromise)();const t=e.map((e=>this.propFilter(e)));v(t,this.tableEncryptedColumns);const n=t.map((e=>this._serializeColumns(e)));return(0,u.dexieCastToPromise)(this.table.bulkAdd(n)).catch((e=>{throw C(e,"bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY",this.table.name),e}))}bulkCreateOrReplace_ALREADY_ENCRYPTED_RECORDS_ONLY(e){if(0===e.length)return(0,u.dexieCastToPromise)();const t=e.map((e=>this.propFilter(e)));v(t,this.tableEncryptedColumns);const n=t.map((e=>this._serializeColumns(e)));return(0,u.dexieCastToPromise)(this.table.bulkPut(n)).catch((e=>{throw C(e,"bulkCreateOrReplace",this.table.name),e}))}create(e){const t=this.propFilter(e);return(0,u.dexieCastToPromise)(this._encryptSerializeAndAdd(t)).catch((e=>{throw C(e,"create",this.table.name),e}))}createOrReplace(e){const t=this.propFilter(e);return(0,u.dexieCastToPromise)(this._encryptSerializeAndPut(t)).catch((e=>{throw C(e,"createOrReplace",this.table.name),e}))}createOrMerge(e,t){var n=this;return(0,i.default)((function*(){const r=n.propFilter(t),i=yield n._encryptAndSerialize(r,!0);return(0,u.dexieCastToPromise)(n.db.transaction("rw",n.table,(()=>n.table.where(":id").equals(e).modify((e=>{Object.assign(e,i)})).then((e=>{if(1!==e)return n.table.add(i)})))).then((()=>{}))).catch((e=>{throw C(e,"createOrMerge",n.table.name),e}))}))()}get(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,u.dexieCastToPromise)(this.table.get(e)).then((e=>e?this.asyncView(e,t):null)).catch((e=>{throw C(e,"get",this.table.name),e}))}merge(e,t){var n=this;return(0,i.default)((function*(){const r=n.propFilter(t),i=yield n._encryptAndSerialize(r,!0);try{yield(0,u.dexieCastToPromise)(n.table.update(e,i))}catch(e){throw C(e,"merge",n.table.name),e}}))()}remove(e){var t=this;return(0,i.default)((function*(){try{yield(0,u.dexieCastToPromise)(t.table.delete(e))}catch(e){throw C(e,"remove",t.table.name),e}}))()}bulkCreate(e){if(0===e.length)return(0,u.dexieCastToPromise)();const t=e.map((e=>this.propFilter(e)));if(this._hasEncryptedColumn())return(0,u.dexieCastToPromise)(this.db.transaction("rw",this.table,(()=>this._encryptSerializeAndBulkAdd(t)))).catch((e=>{throw C(e,"bulkCreate",this.table.name),e}));const n=t.map((e=>this._serializeColumns(e)));return(0,u.dexieCastToPromise)(this.table.bulkAdd(n))}bulkCreateOrReplace(e){if(0===e.length)return(0,u.dexieCastToPromise)();const t=e.map((e=>this.propFilter(e)));if(this._hasEncryptedColumn())return(0,u.dexieCastToPromise)(this.db.transaction("rw",this.table,(()=>this._encryptSerializeAndBulkPut(t)))).catch((e=>{throw C(e,"bulkCreateOrReplace",this.table.name),e}));const n=t.map((e=>this._serializeColumns(e)));return(0,u.dexieCastToPromise)(this.table.bulkPut(n))}bulkCreateOrMerge(e){var t=this;return(0,i.default)((function*(){if(0===e.length)return(0,u.dexieCastToPromise)();const n=new Map,r=t._primaryKey();function o(){return(o=(0,i.default)((function*(e){const n=t.table.where(":id").anyOf(Array.from(e.keys()));yield n.modify((t=>{Object.assign(t,e.get(t[r])),e.delete(t[r])}));return Array.from(e.values())}))).apply(this,arguments)}return(yield t._encryptBulkUpdates(e)).forEach((e=>{const i=t.propFilter(e),o=t._serializeColumns(i,!0);(0,p.default)(r in o,"Called `bulkCreateOrMerge` with item(s) not including the primary key"),n.set(o[r],o)})),(0,u.dexieCastToPromise)(t.db.transaction("rw",t.table,(()=>function(){return o.apply(this,arguments)}(n).then((e=>0===e.length?(0,u.dexieCastToPromise)():t.table.bulkPut(e)))))).catch((e=>{throw C(e,"bulkCreateOrMerge",t.table.name),e}))}))()}bulkGet(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return 0===e.length?Promise.resolve([]):(0,u.dexieCastToPromise)(this.db.transaction("r",this.table,(()=>{const t=e.map((e=>this.table.get(e)));return s.default.Promise.all(t)}))).then((e=>this.asyncViewMap(e,t))).catch((e=>{throw C(e,"bulkGet",this.table.name),e}))}bulkRemove(e){return 0===e.length?Promise.resolve():(0,u.dexieCastToPromise)(this.db.transaction("rw",this.table,(()=>this.table.bulkDelete(e)))).catch((e=>{throw C(e,"bulkRemove",this.table.name),e}))}bulkRemoveByIndex(e,t){return 0===t.length?Promise.resolve():(0,u.dexieCastToPromise)(this.table.where(m(e,this.tableColumns)).anyOf(t).delete()).catch((e=>{throw C(e,"bulkRemoveByIndex",this.table.name),e}))}all(e,t){let n=I(this.table.orderBy((null==e?void 0:e.index)?m(e.index,this.tableColumns):":id"),e);t&&(n=n.until((e=>t(this._deserializeColumns(e)))));let r=null;switch(null==e?void 0:e.returnKeyType){case"keys":r=(0,u.dexieCastToPromise)(n.keys());break;case"primary_key":r=(0,u.dexieCastToPromise)(n.primaryKeys());break;default:r=(0,u.dexieCastToPromise)(n.toArray()).then((t=>this.asyncViewMap(t,null==e?void 0:e.shouldDecrypt)))}return r.catch((e=>{throw C(e,"all",this.table.name),e}))}count(){return(0,u.dexieCastToPromise)(this.table.count()).catch((e=>{throw C(e,"count",this.table.name),e}))}bulkDeleteRange(e,t,n,r){return I(this.table.where(m(e,this.tableColumns)).between(t,n,!!(null==r?void 0:r.lowerInclusive),!!(null==r?void 0:r.upperInclusive)),r).delete().catch((e=>{throw C(e,"bulkDeleteRange",this.table.name),e}))}equals(e,t,n){return(0,u.dexieCastToPromise)(I(this.table.where(m(e,this.tableColumns)).equals(t),n).toArray()).then((e=>this.asyncViewMap(e,null==n?void 0:n.shouldDecrypt))).catch((e=>{throw C(e,"equals",this.table.name),e}))}anyOf(e,t,n){return 0===t.length?Promise.resolve([]):(0,u.dexieCastToPromise)(I(this.table.where(m(e,this.tableColumns)).anyOf(t),n).distinct().toArray()).then((e=>this.asyncViewMap(e,null==n?void 0:n.shouldDecrypt))).catch((e=>{throw C(e,"anyOf",this.table.name),e}))}startsWithAnyOf(e,t,n){return 0===t.length?Promise.resolve([]):(0,u.dexieCastToPromise)(I(this.table.where(m(e,this.tableColumns)).startsWithAnyOf(t),n).distinct().toArray()).then((e=>this.asyncViewMap(e,null==n?void 0:n.shouldDecrypt))).catch((e=>{throw C(e,"startsWithAnyOf",this.table.name),e}))}greaterThan(e,t,n){const r=(null==n?void 0:n.inclusive)?this.table.where(m(e,this.tableColumns)).aboveOrEqual(t):this.table.where(m(e,this.tableColumns)).above(t);return(0,u.dexieCastToPromise)(I(r,n).toArray()).then((e=>this.asyncViewMap(e,null==n?void 0:n.shouldDecrypt))).catch((e=>{throw C(e,"greaterThan",this.table.name),e}))}lessThan(e,t,n){const r=(null==n?void 0:n.inclusive)?this.table.where(m(e,this.tableColumns)).belowOrEqual(t):this.table.where(m(e,this.tableColumns)).below(t);return(0,u.dexieCastToPromise)(I(r,n).toArray()).then((e=>this.asyncViewMap(e,null==n?void 0:n.shouldDecrypt))).catch((e=>{throw C(e,"lessThan",this.table.name),e}))}between(e,t,n,r,i){const o=I(this.table.where(m(e,this.tableColumns)).between(t,n,!!(null==r?void 0:r.lowerInclusive),!!(null==r?void 0:r.upperInclusive)),r);let a=null;switch(null==r?void 0:r.returnKeyType){case"keys":a=(0,u.dexieCastToPromise)(o.keys());break;case"primary_key":a=(0,u.dexieCastToPromise)(o.primaryKeys());break;default:a=i?(0,u.dexieCastToPromise)(o.until((e=>i(this._deserializeColumns(e)))).toArray()).then((e=>this.asyncViewMap(e,null==r?void 0:r.shouldDecrypt))):(0,u.dexieCastToPromise)(o.toArray()).then((e=>this.asyncViewMap(e,null==r?void 0:r.shouldDecrypt)))}return a.catch((e=>{throw C(e,"between",this.table.name),e}))}forEachSortedBy(e,t){var n=this;return this.table.orderBy(e).each(function(){var e=(0,i.default)((function*(e){const r=n._deserializeColumns(e),i=yield n._decryptColumns(r);return t(i)}));return function(){return e.apply(this,arguments)}}()).catch((e=>{throw C(e,"forEachSortedBy",this.table.name),e}))}forEach(e){var t=this;return this.table.each(function(){var n=(0,i.default)((function*(n){const r=t._deserializeColumns(n),i=yield t._decryptColumns(r);return e(i)}));return function(){return n.apply(this,arguments)}}()).catch((e=>{throw C(e,"forEach",this.table.name),e}))}clear(){return(0,u.dexieCastToPromise)(this.table.clear()).catch((e=>{throw C(e,"clear",this.table.name),e}))}_primaryKey(){return this.table.schema.primKey.name}_hasEncryptedColumn(){return this.tableEncryptedColumns.size>0}}function S(e){if(e.length>1)return e.forEach((e=>{(0,p.default)(e.primaryKey&&e.primaryKey===d.PRIMARY_KEY_TYPE.COMPOSITE,"Invalid column passed to `formatPrimaryKey`")})),`[${e.map((e=>e.packedName)).join("+")}]`;const t=e[0];return(0,p.default)(t.primaryKey&&t.primaryKey!==d.PRIMARY_KEY_TYPE.COMPOSITE,"Invalid column passed to `formatPrimaryKey`"),t.primaryKey===d.PRIMARY_KEY_TYPE.AUTO_INCREMENT?`${t.packedName}++`:t.packedName}function T(e){switch(e.type){case d.INDEX_TYPE.SIMPLE:return e.column;case d.INDEX_TYPE.COMPOSITE:return`[${e.columns.join("+")}]`;case d.INDEX_TYPE.ARRAY:return`*${e.column}`;case d.INDEX_TYPE.UNIQUE:return`&${e.column}`}throw(0,_.default)(`Cannot format index of type "${e.type}"`)}function m(e,t){const n=e.map((n=>{const r=t.get(n);if(null==r)throw __LOG__(4,void 0,new Error)`[storage] trying to query with a non-existing column ${n} in index ${e.join(",")}`,(0,_.default)("format-query-index-nonexistent-column");return r.packedName}));return 1===n.length?n[0]:`[${n.join("+")}]`}function I(e,t){let n=e;return!0===(null==t?void 0:t.reverse)&&(n=n.reverse()),null!=(null==t?void 0:t.offset)&&(n=n.offset(t.offset)),null!=(null==t?void 0:t.limit)&&0!==t.limit&&(n=n.limit(t.limit)),n}function y(e){return Promise.resolve(e)}function C(e,t,n){__LOG__(3,!0)`idb failed to do Operation: ${t} on Table: ${n}. Failed with error ${e}`}function v(e,t){const n=Array.from(t.entries());e.forEach((e=>{n.forEach((t=>{let[n,r]=t;e[n]&&(e[n]._keyId&&e[n]._data&&e[n].iv||__LOG__(2)`[CRITICAL] Records contain unencrypted field`)}))}))}t.default=class{constructor(e,t){this.tableNames=new Map,this.tableColumns=new Map,this.tableEncryptedColumns=new Map,this.errorHandlers=new Map,this.name=e,this.db=new s.default(this.name),this.transformSchema=(null==t?void 0:t.transformSchema)||y,this.packColumns=!!(null==t?void 0:t.packColumns)}initialize(e,t,n,r){return r&&(this.errorHandlers=r),function(e,t,n,r,i){return(0,a.promiseReduce)(e,((e,o)=>i((0,d.cloneSchema)(o)).then((i=>{if((0,p.default)(!(i.name in e),"Multiple tables resulted in the same transformed name"),i.deleted)return e[i.name]=null,e;t.set(o.name,i.name),n.set(o.name,i.columns.reduce(((e,t)=>(e.set(t.name,t),e)),new Map)),r.set(o.name,i.encryptedColumns||{});const a=i.columns.filter((e=>e.primaryKey));(0,p.default)(a.length>=1,`No primary key was defined for "${o.name}"`);const s=[S(a)].concat(i.indexes.map(T)).join(", ");return e[i.name]=s,e}))),{})}(t,this.tableNames,this.tableColumns,this.tableEncryptedColumns,this.transformSchema).then((t=>{this.db.version(e+1).stores(t).upgrade((e=>{var t;if(n)return null===(t=e[n.name])||void 0===t?void 0:t.toCollection().modify(n.callback)}))}))}open(){var e=this;return(0,i.default)((function*(){yield(0,u.dexieCastToPromise)(e.db.open())}))()}transact(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rw";return(0,u.dexieCastToPromise)(this.db.transaction(n,e,(()=>t()))).catch((e=>{const t=this.errorHandlers.get(e.name);if(!t)throw e;t(e)}))}close(){return this.db.close(),(0,u.dexieCastToPromise)()}view(e,t,n,r){(0,p.default)(this.tableNames.has(e),`Attempted to get view for uninitialized table "${e}"`),(0,p.default)(this.tableColumns.has(e),`Attempted to get columns for uninitialized table "${e}"`);const i=n?function(e){if(!e)return e=>e;return t=>{const n={};return e.forEach((e=>{const r=e.name;t.hasOwnProperty(r)&&(n[r]=t[r])})),n}}(this.tableColumns.get(e)):e=>e;return new h(this.db.table(this.tableNames.get(e)),this.db,t,i,(0,o.default)(this.tableColumns.get(e),"this.tableColumns.get(table)"),(0,o.default)(this.tableEncryptedColumns.get(e),"this.tableEncryptedColumns.get(table)"),{shouldUseDbMsgEncKeyForEncryptedCol:r,packColumns:this.packColumns})}available(){return Promise.resolve(!0)}reset(){return this.tableNames=new Map,(0,u.dexieCastToPromise)(this.db.delete())}}},81186:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(45647)),o=n(91329),a=r(n(73167));t.default=class{constructor(e,t){this.errorHandlers=new Map,this._view=e,t&&(this.errorHandlers=t)}_maybeHandleError(e){const t=this.errorHandlers.get(e.name);t&&t(e)}_read(e){if(i.default.isLogoutInProgress)return Promise.reject(new o.DbOnLogoutAbort("dropping db read operation due to logout"));const t=this._view();return null===a.default||void 0===a.default||a.default.recordReadStat(t.table.name),e(t).catch((e=>{throw this._maybeHandleError(e),e}))}_write(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&i.default.isLogoutInProgress)return Promise.reject(new o.DbOnLogoutAbort("dropping db write operation due to logout"));const t=this._view();return null===a.default||void 0===a.default||a.default.recordWriteStat(t.table.name),e(t).catch((e=>{throw this._maybeHandleError(e),e}))}create(e){return this._write((t=>t.create(e)))}preflightEncryptSingleRecord(e){return this._write((t=>t.preflightEncryptSingleRecord(e)),!1,!0)}postflightDecryptSingleRecord(e){return this._write((t=>t.postflightDecryptSingleRecord(e)),!1,!0)}bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY(e){return this._write((t=>t.bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY(e)))}bulkCreateOrReplace_ALREADY_ENCRYPTED_RECORDS_ONLY(e){return this._write((t=>t.bulkCreateOrReplace_ALREADY_ENCRYPTED_RECORDS_ONLY(e)))}createOrReplace(e){return this._write((t=>t.createOrReplace(e)))}createOrMerge(e,t){return this._write((n=>n.createOrMerge(e,t)))}get(e,t){return this._read((n=>n.get(e,t)))}merge(e,t){return this._write((n=>n.merge(e,t)))}remove(e){return this._write((t=>t.remove(e)))}bulkCreate(e){return this._write((t=>t.bulkCreate(e)))}bulkCreateOrReplace(e){return this._write((t=>t.bulkCreateOrReplace(e)))}bulkCreateOrMerge(e){return this._write((t=>t.bulkCreateOrMerge(e)))}bulkGet(e,t){return this._read((n=>n.bulkGet(e,t)))}bulkRemoveByIndex(e,t){return this._write((n=>n.bulkRemoveByIndex(e,t)))}bulkRemove(e){return this._write((t=>t.bulkRemove(e)))}bulkDeleteRange(e,t,n){return this._write((r=>r.bulkDeleteRange(e,t,n)))}all(e,t){return this._read((n=>n.all(e,t)))}count(){return this._read((e=>e.count()))}equals(e,t,n){return this._read((r=>r.equals(e,t,n)))}anyOf(e,t,n){return this._read((r=>r.anyOf(e,t,n)))}startsWithAnyOf(e,t,n){return this._read((r=>r.startsWithAnyOf(e,t,n)))}greaterThan(e,t,n){return this._read((r=>r.greaterThan(e,t,n)))}lessThan(e,t,n){return this._read((r=>r.lessThan(e,t,n)))}between(e,t,n,r,i){return this._read((o=>o.between(e,t,n,r,i)))}forEachSortedBy(e,t){return this._read((n=>n.forEachSortedBy(e,t)))}forEach(e){return this._read((t=>t.forEach(e)))}clear(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._write((e=>e.clear()),e)}}},74529:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=r(n(89482)),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),(0,a.default)("AbstractPrimaryKey"!==this.constructor.name,"Cannot instantiate abstract class AbstractPrimaryKey"),Array.isArray(e)?this.columns=[...e]:this.columns=[e]}validate(e){(0,a.default)(0===e.columns.length,"Attempted to add primary key after other columns")}apply(){throw(0,o.default)("Subclass of `AbstractPrimaryKey` must implement `apply` method")}}t.default=s},66340:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.column=e}validate(e){const t=e.columns.find((e=>e.packedName===this.column));(0,a.default)(t,`Attempted to add index on non-existent column "${this.column}" in "${e.name}"`),(0,a.default)(t&&(!t.primaryKey||t.primaryKey===o.PRIMARY_KEY_TYPE.COMPOSITE),`Cannot add index on primary key on table "${e.name}"`),(0,a.default)(!e.indexes.some((e=>(e.type===o.INDEX_TYPE.ARRAY||e.type===o.INDEX_TYPE.SIMPLE||e.type===o.INDEX_TYPE.UNIQUE)&&(0,o.indexContainsColumn)(e,this.column))),`Attempted to add index "${this.column}" which already exists in "${e.name}"`)}apply(e){const t=(0,o.cloneSchema)(e);return t.indexes.push(this._getIndex()),t}_getIndex(){return{type:o.INDEX_TYPE.ARRAY,column:this.column}}}t.default=s},3780:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t,n){super(n),this.name=e,this.packedName=t}validate(e){(0,a.default)(!e.columns.find((e=>e.name===this.name)),`Attempted to add column "${this.name}" to "${e.name}" but it already exists`)}apply(e){const t=(0,o.cloneSchema)(e);return t.columns.push({name:this.name,packedName:this.packedName}),t}}t.default=s},2627:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.columns=[...e]}validate(e){this.columns.forEach((t=>{(0,a.default)(e.columns.find((e=>e.packedName===t)),`Attempted to add index on non-existent column "${t}" in "${e.name}"`)})),(0,a.default)(this.columns.length>1,"Attempted to add composite index for only 1 column"),(0,a.default)(-1===(0,o.findIndex)(e,this._getIndex()),`Attempted to add index [${String(this.columns)}], which already exists in "${e.name}"`);const t=e.columns.filter((e=>e.primaryKey&&e.primaryKey===o.PRIMARY_KEY_TYPE.COMPOSITE)).map((e=>e.name));(0,a.default)(t.length!==this.columns.length||t.some((e=>!this.columns.includes(e))),`Attempted to add index [${String(this.columns)}], which already is the primary key in "${e.name}"`)}apply(e){const t=(0,o.cloneSchema)(e);return t.indexes.push(this._getIndex()),t}_getIndex(){return{type:o.INDEX_TYPE.COMPOSITE,columns:this.columns}}}t.default=s},62908:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t,n,r){super(r),this.name=e,this.packedName=t,this.dataType=n}validate(e){(0,a.default)(!e.columns.find((e=>e.name===this.name)),`Attempted to add encrypted column "${this.name}" to "${e.name}" but it already exists`)}apply(e){const t=(0,o.cloneSchema)(e);return t.columns.push({name:this.name,packedName:this.packedName}),t.encryptedColumns[this.name]=this.dataType,t}}t.default=s},70656:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.keyPath=e,this.column=e.split(".")[0]}validate(e){const t=e.columns.find((e=>e.packedName===this.column));(0,a.default)(t,`Attempted to add index on non-existent column "${this.column}" in "${e.name}"`),(0,a.default)(t&&(!t.primaryKey||t.primaryKey===o.PRIMARY_KEY_TYPE.COMPOSITE),`Cannot add index on primary key on table "${e.name}"`),(0,a.default)(!e.indexes.some((e=>(e.type===o.INDEX_TYPE.ARRAY||e.type===o.INDEX_TYPE.SIMPLE||e.type===o.INDEX_TYPE.UNIQUE)&&(0,o.indexContainsColumn)(e,this.column))),`Attempted to add index "${this.column}" which already exists in "${e.name}"`)}apply(e){const t=(0,o.cloneSchema)(e);return t.indexes.push(this._getIndex()),t}_getIndex(){return{type:o.INDEX_TYPE.SIMPLE,column:this.keyPath}}}t.default=s},25609:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.column=e}validate(e){const t=e.columns.find((e=>e.packedName===this.column));(0,a.default)(t,`Attempted to add index on non-existent column "${this.column}" in "${e.name}"`),(0,a.default)(t&&(!t.primaryKey||t.primaryKey===o.PRIMARY_KEY_TYPE.COMPOSITE),`Cannot add index on primary key on table "${e.name}"`),(0,a.default)(!e.indexes.some((e=>(e.type===o.INDEX_TYPE.ARRAY||e.type===o.INDEX_TYPE.SIMPLE||e.type===o.INDEX_TYPE.UNIQUE)&&(0,o.indexContainsColumn)(e,this.column))),`Attempted to add index "${this.column}" which already exists in "${e.name}"`)}apply(e){const t=(0,o.cloneSchema)(e);return t.indexes.push(this._getIndex()),t}_getIndex(){return{type:o.INDEX_TYPE.UNIQUE,column:this.column}}}t.default=s},26473:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74529)),o=n(8065),a=r(n(41143));class s extends i.default{validate(e){super.validate(e),(0,a.default)(this.columns&&1===this.columns.length,"Attempted to add UserDefinedPrimaryKey over wrong number of columns")}apply(e){const t=(0,o.cloneSchema)(e);return t.columns.unshift({name:this.columns[0].name,packedName:this.columns[0].packedName,primaryKey:o.PRIMARY_KEY_TYPE.AUTO_INCREMENT}),t}}t.default=s},24305:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74529)),o=n(8065),a=r(n(41143));class s extends i.default{validate(e){super.validate(e),(0,a.default)(this.columns&&this.columns.length>1,"Attempted to add composite primary key for only 1 column")}apply(e){const t=(0,o.cloneSchema)(e);return this.columns.forEach((e=>{t.columns.push({name:e.name,packedName:e.packedName,primaryKey:o.PRIMARY_KEY_TYPE.COMPOSITE})})),t}}t.default=s},43270:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(89482)),o=r(n(41143));t.default=class{constructor(e){(0,o.default)(!0===(null==e?void 0:e.intentionallyUsePrivateConstructor),"Please use only WAWebStorageMutationBuilder.js to create mutations"),(0,o.default)("Mutation"!==this.constructor.name,"Cannot instantiate abstract class Mutation")}validate(){throw(0,i.default)("Subclasses of Mutation must implement `validate`")}apply(){throw(0,i.default)("Subclasses of Mutation must implement `apply`")}}},65717:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.columnBuilder=function(e,t){const n={intentionallyUsePrivateConstructor:!0};if((null==e?void 0:e.packColumns)&&null==t)throw(0,h.default)("[storage-config-error] packing columns enabled, but packing data does not exist");const r=(null==e?void 0:e.packColumns)&&t?t:{},S=e=>null!=r[e]?T(r[e]):e;return{addColumn:e=>new o.default(e,S(e),n),addEncryptedColumn:(e,t)=>new s.default(e,S(e),t,n),addUserDefinedPrimaryKey:e=>new g.default({name:e,packedName:S(e)},n),addAutoIncrementingPrimaryKey:e=>new u.default({name:e,packedName:S(e)},n),addCompositePrimaryKey:e=>new d.default(e.map((e=>({name:e,packedName:S(e)}))),n),addIndex:e=>{const t=e.split(".")[0];return new l.default(S(t),n)},addArrayIndex:e=>new i.default(S(e),n),addCompositeIndex:e=>new a.default(e.map((e=>S(e))),n),addUniqueIndex:e=>new c.default(S(e),n),removeColumn:e=>new p.default(e,n),removeIndex:e=>new E.default(S(e),n),removeUniqueIndex:e=>new A.default(S(e),n),removeArrayIndex:e=>new _.default(S(e),n),removeCompositeIndex:e=>new f.default(e.map((e=>S(e))),n)}},t.memoize=S;var i=r(n(66340)),o=r(n(3780)),a=r(n(2627)),s=r(n(62908)),l=r(n(70656)),c=r(n(25609)),u=r(n(26473)),d=r(n(24305)),_=r(n(88230)),p=r(n(5408)),f=r(n(95376)),E=r(n(38094)),A=r(n(72286)),g=r(n(66494)),h=r(n(89482));function S(e){const t={};return n=>{if(t[n])return t[n];const r=e.apply(null,[n]);return t[n]=r,r}}const T=S((function(e){let t=e;const n=[];for(;t>0;){t--;const e=t%26;n.push(String.fromCharCode("a".charCodeAt(0)+e)),t=Math.floor(t/26)}return n.reverse(),n.join("")}))},65589:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sortMutations=function(e){return[...e].sort(T)};var i=r(n(66340)),o=r(n(3780)),a=r(n(2627)),s=r(n(62908)),l=r(n(70656)),c=r(n(25609)),u=r(n(26473)),d=r(n(24305)),_=r(n(88230)),p=r(n(5408)),f=r(n(95376)),E=r(n(38094)),A=r(n(72286)),g=r(n(66494)),h=r(n(41143));const S=[f.default,_.default,A.default,E.default,p.default,u.default,g.default,d.default,o.default,l.default,i.default,a.default,c.default,s.default];function T(e,t){const n=S.indexOf(e.constructor),r=S.indexOf(t.constructor);return(0,h.default)(-1!==n,`Mutation ${e.constructor.name} is not a known mutation type`),(0,h.default)(-1!==r,`Mutation ${t.constructor.name} is not a known mutation type`),n-r}},88230:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.column=e}validate(e){(0,a.default)(-1!==(0,o.findIndex)(e,this._getIndex()),`Attempted to remove non-existent index "${this.column}" on "${e.name}"`)}apply(e){const t=(0,o.cloneSchema)(e),n=(0,o.findIndex)(e,this._getIndex());return t.indexes.splice(n,1),t}_getIndex(){return{type:o.INDEX_TYPE.ARRAY,column:this.column}}}t.default=s},5408:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.name=e}validate(e){const t=e.columns.find((e=>e.name===this.name));(0,a.default)(t,`Attempted to remove column "${this.name}" from "${e.name}" but it doesn't exist`),(0,a.default)(!t.primaryKey,`Attempted to remove primary key column "${this.name}". Removing primary keys is not supported.`),(0,a.default)(!e.indexes.some((e=>(0,o.indexContainsColumn)(e,this.name))),`Attempted to remove column "${this.name}" from "${e.name}" but an index exists with the column`)}apply(e){const t=(0,o.cloneSchema)(e);return t.columns.splice(t.columns.findIndex((e=>e.name===this.name)),1),t}}t.default=s},95376:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.columns=[...e].sort()}validate(e){(0,a.default)(-1!==(0,o.findIndex)(e,this._getIndex()),`Attempted to remove non-existent index [${String(this.columns)}] on "${e.name}"`)}apply(e){const t=(0,o.cloneSchema)(e),n=(0,o.findIndex)(e,this._getIndex());return t.indexes.splice(n,1),t}_getIndex(){return{type:o.INDEX_TYPE.COMPOSITE,columns:this.columns}}}t.default=s},38094:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.column=e}validate(e){(0,a.default)(-1!==(0,o.findIndex)(e,this._getIndex()),`Attempted to remove non-existent index "${this.column}" on "${e.name}"`)}apply(e){const t=(0,o.cloneSchema)(e),n=(0,o.findIndex)(e,this._getIndex());return t.indexes.splice(n,1),t}_getIndex(){return{type:o.INDEX_TYPE.SIMPLE,column:this.column}}}t.default=s},72286:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43270)),o=n(8065),a=r(n(41143));class s extends i.default{constructor(e,t){super(t),this.column=e}validate(e){(0,a.default)(-1!==(0,o.findIndex)(e,this._getIndex()),`Attempted to remove non-existent index "${this.column}" on "${e.name}"`)}apply(e){const t=(0,o.cloneSchema)(e),n=(0,o.findIndex)(e,this._getIndex());return t.indexes.splice(n,1),t}_getIndex(){return{type:o.INDEX_TYPE.UNIQUE,column:this.column}}}t.default=s},66494:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74529)),o=n(8065),a=r(n(41143));class s extends i.default{validate(e){super.validate(e),(0,a.default)(this.columns&&1===this.columns.length,"Attempted to add UserDefinedPrimaryKey over wrong number of columns")}apply(e){const t=(0,o.cloneSchema)(e);return t.columns.unshift({name:this.columns[0].name,packedName:this.columns[0].packedName,primaryKey:o.PRIMARY_KEY_TYPE.USER_DEFINED}),t}}t.default=s},13447:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={initialize:!0};t.initialize=function(e){return(0,i.initializeWithoutGKs)(e)};var i=n(54204);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},54204:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearInitializePromise=function(){Ae=null},t.destroy=function(){return(0,s.destroyStorage)().catch((()=>(0,a.dexieCastToPromise)(new o.default(s.DATABASE_NAME).delete()))).finally((()=>{Ae=null}))},t.initializeWithoutGKs=function(){return ge.apply(this,arguments)};var i=r(n(48926)),o=r(n(46808)),a=n(49363),s=n(74557),l=n(11333),c=n(6431),u=n(90157),d=n(33888),_=n(45781),p=n(17431),f=n(99698),E=n(22962),A=n(19990),g=n(94007),h=n(69616),S=n(48198),T=n(39618),m=n(93769),I=n(44629),y=n(93813),C=n(18759),v=n(85710),O=n(60072),P=n(97659),N=n(96591),b=n(35872),M=n(96637),R=n(12186),D=n(59566),L=n(71229),w=n(84566),B=n(61568),U=n(70128),G=n(592),k=n(21392),Y=n(10139),F=n(77979),K=n(24377),x=n(73482),H=n(45232),j=n(38117),V=n(38815),W=n(8238),Q=n(82068),$=n(59075),z=n(95553),J=n(30051),q=n(23440),X=n(23228),Z=n(8409),ee=n(9920),te=n(85903),ne=n(10144),re=n(90213),ie=n(69386),oe=n(24936),ae=n(72428),se=n(43222),le=n(50792),ce=n(62792),ue=n(9419),de=n(52554),_e=n(31304),pe=n(67589),fe=n(99801),Ee=n(71164);let Ae;function ge(){return(ge=(0,i.default)((function*(e){if(null==Ae){const t=yield(0,Ee.columnPackingEnabled)(!!(null==e?void 0:e.canPackColumns));(0,s.createStorage)({packColumns:t}),(0,d.addTable)(),(0,_.addTable)(),(0,p.addTable)(),(0,f.addTable)(),(0,E.addTable)(),(0,A.addTable)(),(0,g.addTable)(),(0,h.addTable)(),(0,S.addTable)(),(0,T.addTable)(),(0,m.addTable)(),(0,y.addTable)(),(0,C.addTable)(),(0,v.addTable)(),(0,O.addTable)(),(0,P.addTable)(),(0,N.addTable)(),(0,b.addTable)(),(0,M.addTable)(),(0,R.addTable)(),(0,w.addTable)(),(0,L.addTable)(),(0,U.addTable)(),(0,G.addTable)(),(0,B.addTable)(),(0,Y.addTable)(),(0,F.addTable)(),(0,H.addTable)(),(0,K.addTable)(),(0,Q.addTable)(),(0,$.addTable)(),(0,z.addTable)(),(0,J.addTable)(),(0,q.addTable)(),(0,X.addTable)(),(0,Z.addTable)(),(0,ee.addTable)(),(0,c.addTable)(),(0,te.addTable)(),(0,ne.addTable)(),(0,ie.addTable)(),(0,oe.addTable)(),(0,ae.addTable)(),(0,le.addTable)(),(0,ce.addTable)(),(0,ue.addTable)(),(0,de.addTable)(),(0,_e.addTable)(),(0,pe.addTable)(),(0,fe.addTable)(),(0,x.addTable)(),(0,k.addTable)(),(0,W.addTable)(),(0,I.addTable)(),(0,l.addTable)(),(0,D.addTable)(),(0,j.addTable)(),(0,u.addTable)(),(0,re.addTable)(),(0,se.addTable)(),(0,V.addTable)(),Ae=(0,s.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize model storage"),e}))}return Ae}))).apply(this,arguments)}},74557:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_NAME=void 0,t.createStorage=function(e){const t=new a.default(d,{packColumns:e.packColumns});_=new s.Storage(t,e),_.addErrorHandler(i.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&l.StorageCmd.trigger("storage_not_enough_space")}))},t.destroyStorage=function(){if(null==_)return Promise.reject((0,c.default)("[model-storage] Storage should be created first before being destroyed"));return _.purge().then((()=>{_=null})).catch((e=>{throw _=null,e}))},t.getStorage=function(){return(0,u.default)(null!=_,"[model-storage] Storage should be created first before being accessed"),_},t.storageExists=function(){return(0,o.dexieCastToPromise)(i.default.exists(d))};var i=r(n(46808)),o=n(49363),a=r(n(96801)),s=n(21820),l=n(51882),c=r(n(89482)),u=r(n(41143));const d="model-storage";t.DATABASE_NAME=d;let _=null},20746:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.abpropsConfigCreateTable=function(){return(0,r.getStorage)().versions.version(19)},t.activeMessageRangesCreateTable=function(){return(0,r.getStorage)().versions.version(23)},t.addActionToPendingMutations=function(){return(0,r.getStorage)().versions.version(48)},t.addArchiveAtMentionViewedInDrawer=function(){return(0,r.getStorage)().versions.version(61)},t.addChatThreadLoggingTable=function(){return(0,r.getStorage)().versions.version(78)},t.addCommunityAdminPromotionColumns=function(){return(0,r.getStorage)().versions.version(88)},t.addGroupFromKeyToGroupInviteV4=function(){return(0,r.getStorage)().versions.version(55)},t.addHasAccessedToAbpropsConfigTable=function(){return(0,r.getStorage)().versions.version(77)},t.addIncognitoGroupMetadataColumn=function(){return(0,r.getStorage)().versions.version(100)},t.addInitialHistBootstrapInlinePayloadColumn=function(){return(0,r.getStorage)().versions.version(118)},t.addPeerDataRequestChatIdColumn=function(){return(0,r.getStorage)().versions.version(124)},t.addPeerDataRequestSessionIdColumn=function(){return(0,r.getStorage)().versions.version(119)},t.addProgressColumn=function(){return(0,r.getStorage)().versions.version(128)},t.addReactionTableMsgKeyIndex=function(){return(0,r.getStorage)().versions.version(75)},t.addReactionTableOrphanIndex=function(){return(0,r.getStorage)().versions.version(71)},t.addRequiresDirectConnection=function(){return(0,r.getStorage)().versions.version(63)},t.addStaticURLToImageVideoMessages=function(){return(0,r.getStorage)().versions.version(60)},t.addStatusPSACampaignFields=function(){return(0,r.getStorage)().versions.version(65)},t.addSupportForHSMButtons=function(){return(0,r.getStorage)().versions.version(46)},t.addTcTokenSenderTimestampToChatTable=function(){return(0,r.getStorage)().versions.version(62)},t.addTcTokenTimestampToChatTable=function(){return(0,r.getStorage)().versions.version(57)},t.addTcTokenToChatTable=function(){return(0,r.getStorage)().versions.version(56)},t.addUnreadMentionCountToChatTable=function(){return(0,r.getStorage)().versions.version(51)},t.addUnreadMentionToChatTable=function(){return(0,r.getStorage)().versions.version(44)},t.addWaveformToAudioMessages=function(){return(0,r.getStorage)().versions.version(50)},t.agentCreateTable=function(){return(0,r.getStorage)().versions.version(82)},t.blocklistCreateTable=function(){return(0,r.getStorage)().versions.version(4)},t.botProfileCreateTable=function(){return(0,r.getStorage)().versions.version(125)},t.cartCreateTable=function(){return(0,r.getStorage)().versions.version(25)},t.chatAddDisappearingModeInitiator=function(){return(0,r.getStorage)().versions.version(36)},t.chatAssignmentCreateTable=function(){return(0,r.getStorage)().versions.version(103)},t.chatCreateTable=function(){return(0,r.getStorage)().versions.version(6)},t.collectionVersionCreateTable=function(){return(0,r.getStorage)().versions.version(1)},t.contactAddDisappearingModeProperties=function(){return(0,r.getStorage)().versions.version(35)},t.contactAddHash=function(){return(0,r.getStorage)().versions.version(105)},t.contactAddIsContactSyncCompleted=function(){return(0,r.getStorage)().versions.version(28)},t.contactAddLidProperties=function(){return(0,r.getStorage)().versions.version(109)},t.contactCreateTable=function(){return(0,r.getStorage)().versions.version(3)},t.ctwaSuggestionsAddTrackingData=function(){return(0,r.getStorage)().versions.version(113)},t.ctwaSuggestionsCreateTable=function(){return(0,r.getStorage)().versions.version(112)},t.deviceListAddDelete=function(){return(0,r.getStorage)().versions.version(41)},t.deviceListAddV2Fields=function(){return(0,r.getStorage)().versions.version(59)},t.deviceListCreateTable=function(){return(0,r.getStorage)().versions.version(11)},t.directConnectionKeysAddPostcodeColumns=function(){return(0,r.getStorage)().versions.version(84)},t.directConnectionKeysCreateTable=function(){return(0,r.getStorage)().versions.version(70)},t.encryptHistorySyncDirectPath=function(){return(0,r.getStorage)().versions.version(42)},t.encryptHistorySyncFilehash=function(){return(0,r.getStorage)().versions.version(45)},t.encryptedMutationsCreateTable=function(){return(0,r.getStorage)().versions.version(15)},t.errorCodeColumn=function(){return(0,r.getStorage)().versions.version(116)},t.favoriteStickersCreateTable=function(){return(0,r.getStorage)().versions.version(73)},t.ftsIndexingQueueCreateTable=function(){return(0,r.getStorage)().versions.version(24)},t.groupInviteV4CreateTable=function(){return(0,r.getStorage)().versions.version(39)},t.groupMetadataAddParentIndex=function(){return(0,r.getStorage)().versions.version(110)},t.groupMetadataCreateTable=function(){return(0,r.getStorage)().versions.version(20)},t.historySyncNotificationsCreateTable=function(){return(0,r.getStorage)().versions.version(14)},t.inAppBannerCreateTable=function(){return(0,r.getStorage)().versions.version(115)},t.inactiveReceiptCreateTable=function(){return(0,r.getStorage)().versions.version(12)},t.labelAssociationCreateTable=function(){return(0,r.getStorage)().versions.version(17)},t.labelCreateTable=function(){return(0,r.getStorage)().versions.version(16)},t.lastUpdateTimestampColumn=function(){return(0,r.getStorage)().versions.version(126)},t.lidChatStateCreateTable=function(){return(0,r.getStorage)().versions.version(102)},t.lidDisplayNameMappingCreateTable=function(){return(0,r.getStorage)().versions.version(94)},t.lidPnMappingCreateTable=function(){return(0,r.getStorage)().versions.version(90)},t.lidPnMappingRemoveDisplayName=function(){return(0,r.getStorage)().versions.version(95)},t.membershipApprovalRequestCreateTable=function(){return(0,r.getStorage)().versions.version(101)},t.messageAddActionLink=function(){return(0,r.getStorage)().versions.version(72)},t.messageAddDisappearingModeInitiator=function(){return(0,r.getStorage)().versions.version(37)},t.messageAddGroupInviteV4=function(){return(0,r.getStorage)().versions.version(38)},t.messageAddHeaderType=function(){return(0,r.getStorage)().versions.version(74)},t.messageAddInteractiveMessageFields=function(){return(0,r.getStorage)().versions.version(69)},t.messageAddIsSendFailureProperties=function(){return(0,r.getStorage)().versions.version(27)},t.messageAddNativeFlowNameField=function(){return(0,r.getStorage)().versions.version(54)},t.messageAddPaymentBackground=function(){return(0,r.getStorage)().versions.version(68)},t.messageAddPaymentInviteServiceType=function(){return(0,r.getStorage)().versions.version(64)},t.messageAddPaymentRequestNFMFields=function(){return(0,r.getStorage)().versions.version(49)},t.messageAddPaymentTxnStatus=function(){return(0,r.getStorage)().versions.version(29)},t.messageAddPollInvalidated=function(){return(0,r.getStorage)().versions.version(98)},t.messageAddPrivacyModeFields=function(){return(0,r.getStorage)().versions.version(32)},t.messageAddProductListPreviewHeaderImage=function(){return(0,r.getStorage)().versions.version(34)},t.messageAddProductListPreviewInfo=function(){return(0,r.getStorage)().versions.version(30)},t.messageAddRcat=function(){return(0,r.getStorage)().versions.version(111)},t.messageCreateTable=function(){return(0,r.getStorage)().versions.version(7)},t.messageHistoryCreateTable=function(){return(0,r.getStorage)().versions.version(106)},t.messageInfoAddDeliveryPrivacyMode=function(){return(0,r.getStorage)().versions.version(33)},t.messageInfoCreateTable=function(){return(0,r.getStorage)().versions.version(8)},t.messageOrphansAddColumns=function(){return(0,r.getStorage)().versions.version(97)},t.messageOrphansCreateTable=function(){return(0,r.getStorage)().versions.version(92)},t.messageRemovePaymentRequestHeaderField=function(){return(0,r.getStorage)().versions.version(52)},t.messageStatusPSAReadTimestamp=function(){return(0,r.getStorage)().versions.version(76)},t.migrateSubgroupsArray=function(){return(0,r.getStorage)().versions.version(80)},t.missingKeysCreateTable=function(){return(0,r.getStorage)().versions.version(26)},t.newsletterMetadataCreateTable=function(){return(0,r.getStorage)().versions.version(117)},t.newsletterReactionsCreateTable=function(){return(0,r.getStorage)().versions.version(123)},t.nonMessageDataRequestCreateTable=function(){return(0,r.getStorage)().versions.version(107)},t.orphanPaymentNotificationCreateTable=function(){return(0,r.getStorage)().versions.version(40)},t.orphanReceiptCreateTable=function(){return(0,r.getStorage)().versions.version(10)},t.orphanRevokeCreateTable=function(){return(0,r.getStorage)().versions.version(47)},t.orphanTcTokenCreateTable=function(){return(0,r.getStorage)().versions.version(89)},t.paidMessagingCampaignIdColumn=function(){return(0,r.getStorage)().versions.version(127)},t.participantCreateTable=function(){return(0,r.getStorage)().versions.version(9)},t.paymentBackgroundsCreateTable=function(){return(0,r.getStorage)().versions.version(79)},t.peerMessageCreateTable=function(){return(0,r.getStorage)().versions.version(43)},t.pendingMutationsCreateTable=function(){return(0,r.getStorage)().versions.version(0)},t.pinInChatCreateTable=function(){return(0,r.getStorage)().versions.version(114)},t.pollVotesAddMsgKeyIndex=function(){return(0,r.getStorage)().versions.version(104)},t.pollVotesCreateTable=function(){return(0,r.getStorage)().versions.version(91)},t.premiumMessageCreateTable=function(){return(0,r.getStorage)().versions.version(120)},t.privacyDisallowedListAddDhashField=function(){return(0,r.getStorage)().versions.version(67)},t.privacyDisallowedListCreateTable=function(){return(0,r.getStorage)().versions.version(58)},t.profilePicThumbCreateTable=function(){return(0,r.getStorage)().versions.version(5)},t.quickPromotionsCreateTable=function(){return(0,r.getStorage)().versions.version(121)},t.quickReplyCreateTable=function(){return(0,r.getStorage)().versions.version(18)},t.reactionsCreateTable=function(){return(0,r.getStorage)().versions.version(66)},t.recentStickersCreateTable=function(){return(0,r.getStorage)().versions.version(53)},t.removeCommunityAdminPromotionColumns=function(){return(0,r.getStorage)().versions.version(99)},t.removeSpamColumnsInGroupMetadata=function(){return(0,r.getStorage)().versions.version(87)},t.removeUnjoinedSubgroups=function(){return(0,r.getStorage)().versions.version(83)},t.renameCommunityAdminPromotionColumns=function(){return(0,r.getStorage)().versions.version(96)},t.subgroupSuggestionCreateTable=function(){return(0,r.getStorage)().versions.version(122)},t.subscriptionCreateTable=function(){return(0,r.getStorage)().versions.version(85)},t.syncActionsCreateTable=function(){return(0,r.getStorage)().versions.version(2)},t.syncKeysCreateTable=function(){return(0,r.getStorage)().versions.version(21)},t.tasksScheduledTimeCreateTable=function(){return(0,r.getStorage)().versions.version(22)},t.unjoinedSubgroupMetadataCreateTable=function(){return(0,r.getStorage)().versions.version(81)},t.unjoinedSubgroupParentGroupIndex=function(){return(0,r.getStorage)().versions.version(86)},t.userPrefsCreateTable=function(){return(0,r.getStorage)().versions.version(93)},t.verifiedBusinessNameAddPrivacyMode=function(){return(0,r.getStorage)().versions.version(31)},t.verifiedBusinessNameAddSmbColumn=function(){return(0,r.getStorage)().versions.version(108)},t.verifiedBusinessNameCreateTable=function(){return(0,r.getStorage)().versions.version(13)};var r=n(74557)},70130:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getABPropConfigs=function(){return(0,s.initializeWithoutGKs)().then((()=>(0,c.getAbpropConfigsTable)().all().then((e=>e))))},t.getConfigValue=function(e){const t=o.ABPropConfigs[e];if(null==t)return __LOG__(4,!0,new Error,!0)`invalid ABProps config name`,SEND_LOGS("invalid ABProps config name: "+e),Promise.reject((0,u.default)("invalid ABProps config name"));const[n,r,i,a]=t,l=i;return(0,s.initializeWithoutGKs)().then((()=>(0,c.getAbpropConfigsTable)().get(String(n)).then((e=>e?d(e.configValue,r,l):l))))},t.parseConfigValue=d,t.setConfigAccessed=function(e){return(0,l.getStorage)().lock(["abpropConfigs"],function(){var t=(0,i.default)((function*(t){let[n]=t;const r=yield n.get(String(e));null!=r&&!0!==(null==r?void 0:r.hasAccessed)&&(yield n.merge(String(e),{hasAccessed:!0}))}));return function(){return t.apply(this,arguments)}}())},t.updateABPropConfigs=function(e){return(0,l.getStorage)().lock(["abpropConfigs"],function(){var t=(0,i.default)((function*(t){let[n]=t;const r=yield n.all(),i=new Map;r.forEach((e=>{null==e.configExpoKey&&null==e.overriddenConfigValue||i.set(e.configCode,{configCode:e.configCode,configValue:e.configValue,configExpoKey:e.configExpoKey,hasAccessed:e.hasAccessed,overriddenConfigValue:e.overriddenConfigValue})}));let o=!1;const s=[];e.forEach(((e,t)=>{let n=!1;const r=i.get(String(t));if(r){const i=r.configExpoKey;null!=i&&e.configExpoKey!==i?(a.exposureKeys.delete(i),o=!0,a.accessedConfigs.delete(t)):null!=i&&(n=r.hasAccessed)}s.push({configCode:String(t),configValue:e.configValue,configExpoKey:e.configExpoKey,hasAccessed:n,overriddenConfigValue:null==r?void 0:r.overriddenConfigValue})})),o&&(0,a.updateGlobalExpoKey)(),yield n.clear(),yield n.bulkCreate(s)}));return function(){return t.apply(this,arguments)}}())};var i=r(n(48926)),o=n(9282),a=n(11956),s=n(54204),l=n(74557),c=n(33888),u=r(n(89482));function d(e,t,n){return null==e||null==t?n:"bool"===t?"1"===e||"True"===e||"true"===e:"int"===t?parseInt(e,10):"float"===t?parseFloat(e):e}},4339:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t._cache=void 0,t.addActiveMessageRange=function(){return E.apply(this,arguments)},t.bulkUpdateActiveMessageRanges=function(e){return p.bulkCreateOrReplaceRanges(e)},t.getActiveMessageRanges=function(e){return p.getRangesForChat(e)},t.getActiveRangeAction=function(e,t){switch(e){case"archive":return c.ActiveRangeAction.Archive;case"markChatAsRead":return c.ActiveRangeAction.MarkChatAsRead;case"clearChat":return(null==t?void 0:t.deleteStarred)&&t.deleteMedia?c.ActiveRangeAction.ClearChatDeleteStarredDeleteMedia:(null==t?void 0:t.deleteStarred)&&!t.deleteMedia?c.ActiveRangeAction.ClearChatDeleteStarredKeepMedia:(null==t?void 0:t.deleteMedia)&&!t.deleteStarred?c.ActiveRangeAction.ClearChatKeepStarredDeleteMedia:c.ActiveRangeAction.ClearChatKeepStarredKeepMedia;case"deleteChat":return(null==t?void 0:t.deleteMedia)?c.ActiveRangeAction.DeleteChatDeleteMedia:c.ActiveRangeAction.DeleteChatKeepMedia;default:throw(0,d.default)("unsupported active message range action")}},t.removeActiveMessageRange=function(e,t){return p.removeRange(e,t)};var i=r(n(81109)),o=r(n(48926)),a=r(n(49619)),s=n(57754),l=n(87946),c=n(45781),u=n(33655),d=r(n(89482));let _=new Map;const p={reset:()=>{_=new Map},removeRange(e,t){var n;return null===(n=_.get(e))||void 0===n||n.delete(t),(0,c.getActiveMessageRangesTable)().remove([e,t])},createOrReplaceRange(e){let t=_.get(e.chatId);return null==t&&(t=new Map,_.set(e.chatId,t)),t.set(e.action,e),(0,c.getActiveMessageRangesTable)().createOrReplace(e)},bulkCreateOrReplaceRanges:e=>(e.forEach((e=>{let t=_.get(e.chatId);null==t&&(t=new Map,_.set(e.chatId,t)),t.set(e.action,e)})),(0,c.getActiveMessageRangesTable)().bulkCreateOrReplace(e)),getRangesForChat:e=>(0,o.default)((function*(){let t=_.get(e);if(null==t){const n=yield(0,c.getActiveMessageRangesTable)().anyOf(["chatId"],[e]);t=new Map(n.map((e=>[e.action,e]))),_.set(e,t)}return Array.from(t.values())}))()};function f(e,t){switch(e){case c.ActiveRangeAction.Archive:return{action:c.ActiveRangeAction.Archive,actionValue:(0,a.default)(t.archiveChatAction,"syncActionValue.archiveChatAction")};case c.ActiveRangeAction.MarkChatAsRead:return{action:c.ActiveRangeAction.MarkChatAsRead,actionValue:(0,a.default)(t.markChatAsReadAction,"syncActionValue.markChatAsReadAction")};case c.ActiveRangeAction.ClearChatKeepStarredKeepMedia:return{action:c.ActiveRangeAction.ClearChatKeepStarredKeepMedia,actionValue:(0,a.default)(t.clearChatAction,"syncActionValue.clearChatAction")};case c.ActiveRangeAction.ClearChatKeepStarredDeleteMedia:return{action:c.ActiveRangeAction.ClearChatKeepStarredDeleteMedia,actionValue:(0,a.default)(t.clearChatAction,"syncActionValue.clearChatAction")};case c.ActiveRangeAction.ClearChatDeleteStarredKeepMedia:return{action:c.ActiveRangeAction.ClearChatDeleteStarredKeepMedia,actionValue:(0,a.default)(t.clearChatAction,"syncActionValue.clearChatAction")};case c.ActiveRangeAction.ClearChatDeleteStarredDeleteMedia:return{action:c.ActiveRangeAction.ClearChatDeleteStarredDeleteMedia,actionValue:(0,a.default)(t.clearChatAction,"syncActionValue.clearChatAction")};case c.ActiveRangeAction.DeleteChatDeleteMedia:return{action:c.ActiveRangeAction.DeleteChatDeleteMedia,actionValue:(0,a.default)(t.deleteChatAction,"syncActionValue.deleteChatAction")};case c.ActiveRangeAction.DeleteChatKeepMedia:return{action:c.ActiveRangeAction.DeleteChatKeepMedia,actionValue:(0,a.default)(t.deleteChatAction,"syncActionValue.deleteChatAction")};default:throw(0,d.default)(`unsupported action for message ranges: ${String(e)}`)}}function E(){return(E=(0,o.default)((function*(e,t,n){var r;const o=(0,u.decodeProtobuf)(s.SyncActionValueSpec,n),{actionValue:a}=f(t,o),c=(null===(r=a.messageRange)||void 0===r?void 0:r.messages)||[],d=yield(0,l.filterReceivedMessagesInRange)(e,c),_=Math.max(0,c.length-d.length);return p.createOrReplaceRange((0,i.default)((0,i.default)({chatId:e},f(t,o)),{},{remainingMessages:_}))}))).apply(this,arguments)}t._cache=p},93040:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MatType=void 0,t._getActiveChatWid=M,t.addUnreadMentionChat=function(e,t){return(0,_.getStorage)().lock(["chat"],function(){var n=(0,o.default)((function*(n){let[r]=n;const i=Array.from(e.keys());if(0===i.length)return;const o=yield(0,A.getChatTable)().bulkGet(i);if(!o||0===o.length)return void __LOG__(4,void 0,new Error)`addUnreadMentionChat: could not find chats`;const a=[];return o.forEach((n=>{if(n){var r;const o=n.id.toString();let s=null!==(r=n.unreadMentionsOfMe)&&void 0!==r?r:[];const l=e.get(o);l&&(s=s.concat(l));let c={id:o,unreadMentionsOfMe:s};if(t){var i;c={id:o,unreadMentionsOfMe:s,unreadMentionCount:null!==(i=t.get(o))&&void 0!==i?i:0}}a.push(c)}})),(0,A.getChatTable)().bulkCreateOrMerge(a)}));return function(){return n.apply(this,arguments)}}())},t.bulkGetChats=b,t.bulkUpdateChatLastAddOnPreview=function(e){const t=Array.from(e).map((e=>{let[t,n]=e;return{id:t,chatlistPreview:n,lastReactionPreview:void 0}}));return(0,A.getChatTable)().bulkCreateOrMerge(t)},t.clearMatChatCache=function(){I.clear()},t.createChatRecord=function(){return C.apply(this,arguments)},t.getAllChatsDeserialized=function(){return(0,A.getChatTable)().all().then((e=>e.map((e=>(0,u.deserializeChat)(e)))))},t.getChatMeta=function(){return v.apply(this,arguments)},t.getChatRecord=N,t.getMatChat=D,t.getMatChatBulk=function(){return L.apply(this,arguments)},t.getMatChatIncomingMessage=function(e){return D(e,y.IncomingMessage)},t.markMessageAndChatAsRead=function(e,t,n){return(0,_.getStorage)().lock(["message","chat"],function(){var r=(0,o.default)((function*(r){let[i,o]=r;const s=yield O(t),u=[];let d=0;const _=[];s.forEach((t=>{if(t.hsmTag===c.HSM_TAG_TYPE.AUTHENTICATION&&(0,l.frontendFireAndForget)("logOTPMessageReadActions",{msgRow:t}),null==e||null!=t.rowId&&t.rowId>e){if(d++,(0,p.getIsImportantMessage)(t)){const e={id:t.id,timestamp:t.t};_.push(e)}}else u.push({id:t.id,ack:Math.max(t.ack,a.ACK.READ),pendingReadReceipt:null})}));const f=0===d&&n?-1:d,E=[o.createOrMerge(t,{id:t,unreadCount:f,unreadDividerOffset:0,unreadMentionsOfMe:_,unreadMentionCount:0})];u.length>0&&E.push((0,g.getMessageTable)().bulkCreateOrMerge(u)),yield Promise.all(E)}));return function(){return r.apply(this,arguments)}}())},t.matChatCache=void 0,t.populateMatCacheBulk=function(e){e.filter((e=>S.default.isUser(e.id)&&!e.isDeprecated)).map((e=>{const t=(0,T.createWid)(e.id);t.isLid()&&null!=I.get(t.toString())||I.set(t.toString(),Promise.resolve(t));const n=(0,s.getAlternateWid)(t);null==n||!n.isLid()&&null!=I.get(n.toString())||I.set(n.toString(),Promise.resolve(t))}))},t.pruneExpiredOrphanTcTokens=function(){const e=(0,h.tokenExpirationCutoff)(h.TcTokenMode.Receiver),t=[];return(0,_.getStorage)().lock(["orphan-tc-token"],function(){var n=(0,o.default)((function*(n){let[r]=n;return(yield r.all()).forEach((n=>{const r=n.tcTokenTimestamp;null!=r&&r<e&&t.push(n.chatId)})),r.bulkRemove(t)}));return function(){return n.apply(this,arguments)}}())},t.pruneExpiredTcTokens=function(){const e=(0,h.tokenExpirationCutoff)(h.TcTokenMode.Receiver);return(0,_.getStorage)().lock(["chat"],function(){var t=(0,o.default)((function*(t){let[n]=t;const r=yield n.lessThan(["tcTokenTimestamp"],e);if(!r||0===r.length)return;const i=r.map((e=>({id:e.id,tcToken:null,tcTokenTimestamp:null})));return n.bulkCreateOrMerge(i)}));return function(){return t.apply(this,arguments)}}())},t.queryPendingReadReceiptMsgRows=O,t.reduceChatUnreadCount=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,_.getStorage)().lock(["chat"],function(){var r=(0,o.default)((function*(r){var i;let[o]=r;const a=yield o.get(e);if(null==a)return void __LOG__(4,void 0,new Error)`reduceChatUnreadCount: could not find chat with id ${e}`;const s=Math.max(a.unreadCount-t,0);let l=null!==(i=a.unreadDividerOffset)&&void 0!==i?i:0;return n&&(l+=t),o.merge(e,{unreadCount:s,unreadDividerOffset:l})}));return function(){return r.apply(this,arguments)}}())},t.removeMatChatMapping=B,t.removeUnreadMentionChat=function(e){return(0,_.getStorage)().lock(["chat"],function(){var t=(0,o.default)((function*(t){let[n]=t;const r=Array.from(e.keys());if(0===r.length)return;const i=yield(0,A.getChatTable)().bulkGet(r);if(!i||0===i.length)return void __LOG__(4,void 0,new Error)`removeUnreadMentionChat: could not find chats`;const o=[];return i.forEach((t=>{if(t){var n;let r=null!==(n=t.unreadMentionsOfMe)&&void 0!==n?n:[];const i=e.get(t.id.toString());i&&(r=r.filter((e=>!i.includes(e.id)))),o.push({id:t.id.toString(),unreadMentionsOfMe:r})}})),(0,A.getChatTable)().bulkCreateOrMerge(o)}));return function(){return t.apply(this,arguments)}}())},t.updateChatArchiveDrawer=function(e){return(0,_.getStorage)().lock(["chat"],(t=>{let[n]=t;const r=Array.from(e.keys());if(0===r.length)return Promise.resolve();const i=r.map((t=>{var n;return{id:t,archiveAtMentionViewedInDrawer:null!==(n=e.get(t))&&void 0!==n&&n}}));return n.bulkCreateOrMerge(i)}))},t.updateChatForMarkAsReadSync=function(e){return(0,_.getStorage)().lock(["chat"],function(){var t=(0,o.default)((function*(t){let[n]=t;const r=yield n.get(e);if(null!=r)return-1===r.unreadCount?n.createOrMerge(e,{id:e,unreadCount:0,unreadMentionsOfMe:[],unreadMentionCount:0}):void 0;__LOG__(4,void 0,new Error)`updateMarkChatAsReadSync: could not find chat with id ${e}`}));return function(){return t.apply(this,arguments)}}())},t.updateDeprecatedChatMatCache=function(e,t){t?B(e):w(e)},t.updateMatCache=w;var i=r(n(81109)),o=r(n(48926)),a=n(77630),s=n(42247),l=n(1619),c=n(93580),u=n(86854),d=n(91329),_=n(74557),p=n(26368),f=n(73602),E=n(463),A=n(94007),g=n(10139),h=n(59430),S=r(n(27112)),T=n(51017),m=r(n(89482));const I=new Map;t.matChatCache=I;const y=n(76672)({IncomingMessage:"incoming_message",OutgoingMessage:"outgoing_message",IncomingVoip:"incoming_voip"});function C(){return(C=(0,o.default)((function*(e,t){try{yield(0,A.getChatTable)().create((0,i.default)({id:e.toString()},t))}catch(e){if(e instanceof d.DbOnLogoutAbort)throw e;throw __LOG__(4,!0,new Error)`createChatRecord: update chat table failed`,(0,m.default)("update chat table failed")}(0,E.isMatFullyEnabled)()&&e.isUser()&&w(e)}))).apply(this,arguments)}function v(){return(v=(0,o.default)((function*(e){const t=yield(0,A.getChatTable)().get(e.toString(),!1);return t?{unreadCount:t.unreadCount,timestamp:t.t,bizBotType:t.bizBotType}:Promise.reject((0,m.default)("Failed to find row in chat table with id:"+e.toString()))}))).apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return(P=(0,o.default)((function*(e){return(yield(0,g.getMessageTable)().equals(["from","pendingReadReceipt"],[e,1],{shouldDecrypt:!1})).filter((e=>e.type!==f.MSG_TYPE.UNKNOWN))}))).apply(this,arguments)}function N(e){return(0,A.getChatTable)().get(e.toString(),!1)}function b(e){return(0,A.getChatTable)().bulkGet(e.map((e=>e.toString())))}function M(){return R.apply(this,arguments)}function R(){return(R=(0,o.default)((function*(e,t){if(t!==y.IncomingMessage)return e;if(!e.isLid()){if(null!=(yield N(e)))return e;const t=(0,s.getCurrentLid)(e);if(null!=t){if(null!=(yield N(t)))return t}return e}const n=yield N(e);if(null!=n&&!n.isDeprecated)return e;const r=(0,s.getPhoneNumber)(e);if(null!=r){if(yield N(r))return r}return e}))).apply(this,arguments)}function D(e,t){const n=I.get(e.toString());if(null!=n)return n;const r=M(e,t);return I.set(e.toString(),r),r}function L(){return(L=(0,o.default)((function*(e){const t=[];e.map((e=>{null==I.get(e.toString())&&t.push(e)}));const n=(0,s.getAlternateWidBulk)(t);if(Array.from(n.keys()).map((e=>t.push((0,T.createWidFromWidLike)(e)))),t.length>0){(yield b(t)).forEach((e=>{if(null!=e){var t;const r=null!==(t=n.get(e.id.toString()))&&void 0!==t?t:e.id.toString();(null==e?void 0:e.isDeprecated)||I.has(r.toString())||I.set(r.toString(),Promise.resolve((0,T.createWidFromWidLike)(e.id)))}}))}const r=new Map;return e.map(function(){var e=(0,o.default)((function*(e){const t=yield I.get(e.toString());null!=t?r.set(e,t):r.set(e,e)}));return function(){return e.apply(this,arguments)}}()),r}))).apply(this,arguments)}function w(e){I.set(e.toString(),Promise.resolve(e));const t=(0,s.getAlternateWid)(e);null!=t&&I.set(t.toString(),Promise.resolve(e))}function B(e){const t=(0,s.getAlternateWid)(e);null!=t&&I.delete(t.toString()),I.delete(e.toString())}t.MatType=y},94598:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createOrUpdateChatEvents=function(e){return d.enqueue((0,i.default)((function*(){const t=(yield(0,c.getChatThreadLoggingPendingEventsTable)().bulkGet(e.map((e=>{let{chatId:t,startTs:n}=e;return[t,n]})))).map(((t,n)=>{const r=e[n],i=function(e,t,n){if(null==n)return(0,o.default)({chatId:e,startTs:t},u);return Object.keys(u).reduce(((e,t)=>(null==e[t]&&(e[t]=u[t]),e)),n)}(r.chatId,r.startTs,t);return l.COUNT_FIELD_NAMES.forEach((e=>{i[e]+=r[e]})),s.FLAG_FIELD_NAMES.forEach((e=>{i[e]=r[e]})),i.msgsSent+=r.addMsgsSent,i.msgsReceived+=r.addMsgsReceived,i.viewOnceMsgsSent+=r.addViewOnceMsgsSent,i.viewOnceMsgsReceived+=r.addViewOnceMsgsReceived,i.viewOnceMessagesOpened+=r.addViewOnceMsgsOpened,i.callOffersSent+=r.addCallOffersSent,i.callOffersReceived+=r.addCallOffersReceived,i.totalCallDuration+=r.addTotalCallDuration,i.commerceMsgsSent+=r.addCommerceMsgsSent,i.commerceMsgsReceived+=r.addCommerceMsgsReceived,i.pdpInquiriesSent+=r.addPdpInquiriesSent,i.reactionsSent+=r.addReactionsSent,i.reactionsReceived+=r.addReactionsReceived,i.forwardMessagesSent+=r.addForwardMessagesSent,i.forwardMessagesReceived+=r.addForwardMessagesReceived,i.editedMsgsSent+=r.addEditedMsgsSent,i.botMessagesSent+=r.addBotMessagesSent,i.botMessagesReceived+=r.addBotMessagesReceived,i.botMessagesEdited+=r.addBotMessagesEdited,i}));return(0,c.getChatThreadLoggingPendingEventsTable)().bulkCreateOrReplace(t)})))},t.deleteBeforeInclusive=function(){return _.apply(this,arguments)},t.getBeforeInclusive=function(e){return(0,c.getChatThreadLoggingPendingEventsTable)().lessThan(["startTs"],e,{inclusive:!0})},t.getChatEvent=function(e,t){return(0,c.getChatThreadLoggingPendingEventsTable)().get([e,t])};var i=r(n(48926)),o=r(n(81109)),a=n(39528),s=n(39026),l=n(71050),c=n(48198);const u=Object.freeze((0,o.default)((0,o.default)((0,o.default)({},l.COUNT_FIELDS),s.FLAG_FIELDS),{},{msgsSent:0,msgsReceived:0,viewOnceMsgsSent:0,viewOnceMsgsReceived:0,viewOnceMessagesOpened:0,callOffersSent:0,callOffersReceived:0,totalCallDuration:0,commerceMsgsSent:0,commerceMsgsReceived:0,pdpInquiriesSent:0,reactionsSent:0,reactionsReceived:0,forwardMessagesSent:0,forwardMessagesReceived:0,editedMsgsSent:0,botMessagesSent:0,botMessagesReceived:0,botMessagesEdited:0})),d=new a.PromiseQueue;function _(){return(_=(0,i.default)((function*(e){return yield(0,c.getChatThreadLoggingPendingEventsTable)().bulkDeleteRange(["startTs"],0,e+1)}))).apply(this,arguments)}},97183:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkCreateOrReplaceDeviceRecord=function(){return S.apply(this,arguments)},t.bulkGetDeviceRecord=A,t.createOrReplaceDeviceRecord=function(){return h.apply(this,arguments)},t.doesDeviceHashMatch=function(){return C.apply(this,arguments)},t.getAllDeviceLists=function(){return(0,u.getDeviceListTable)().all()},t.getDeviceIds=T,t.getDeviceInfoForSync=function(){return y.apply(this,arguments)},t.getDeviceRecord=E,t.getMyDeviceList=function(){return v.apply(this,arguments)},t.hasDevice=function(){return I.apply(this,arguments)};var i=r(n(48926)),o=r(n(94654)),a=n(44037),s=n(83946),l=n(53098),c=n(30304),u=n(93813),d=n(3885),_=n(51017),p=r(n(89482));const f=new s.LruCache({sizeLimit:5e3,getSize:()=>1});function E(e){var t;const n=(0,l.createDeviceListPK)(e);if(!f.has(n)){const e=(0,u.getDeviceListTable)().get(n);f.put(n,e)}return null!==(t=f.get(n))&&void 0!==t?t:Promise.resolve(null)}function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){const t=[];if(e.forEach((e=>{f.has((0,l.createDeviceListPK)(e))||t.push((0,l.createDeviceListPK)(e))})),t.length>0){(yield(0,u.getDeviceListTable)().bulkGet(t)).forEach(((e,n)=>{f.put(t[n],Promise.resolve(e))}))}return Promise.all(e.map((e=>f.get((0,l.createDeviceListPK)(e)))))}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){yield(0,u.getDeviceListTable)().createOrReplace(e),f.put(e.id,Promise.resolve(e))}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){yield(0,u.getDeviceListTable)().bulkCreateOrReplace(e),e.forEach((e=>{f.put(e.id,Promise.resolve(e))}))}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){return(yield A(e)).map((e=>{if(e&&!e.deleted){const t=e.devices.map((e=>e.id));return{id:e.id,devices:t}}return null}))}))).apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e,t){if(t===a.DEFAULT_DEVICE_ID)return!0;const[n]=yield T([e]);return!!n&&!!n.devices.includes(t)}))).apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e){return(yield A(e)).map((e=>{if(e&&!e.deleted){const t=e.devices.map((e=>e.id));return{id:e.id,devices:t,timestamp:e.timestamp,expectedTs:e.expectedTs}}return null}))}))).apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e,t){if(null==t)return!0;const n=(yield T([e])).map((e=>null==e?[]:e.devices.map((t=>(0,_.createDeviceWidFromDeviceListPk)(e.id,t))))),r=(0,o.default)(n,(e=>e));return(yield(0,c.phashV2)(r))!==t}))).apply(this,arguments)}function v(){return(v=(0,i.default)((function*(){const e=(0,d.assertGetMe)(),t=yield E(e);if(!t||t.deleted)throw(0,p.default)("syncd: cannot find my device list");return t}))).apply(this,arguments)}},63439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceUpdateLock=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=["participant","device-list"];t&&(i=[...i,"message"]);n&&(i=[...i,"missing-keys"]);return(0,r.getStorage)().lock(i,(()=>e()))};var r=n(74557)},18625:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPendingParticipants=function(e){var t;const n=null===(t=(0,l.getMaybeMeUser)())||void 0===t?void 0:t.toString();return(0,s.getGroupInviteV4Table)().equals(["from","groupId"],[n,e.toString()]).then((e=>e.filter((e=>!e.expired&&(0,a.unixTime)()<=e.expiration)))).then((e=>e.map((e=>e.to))))},t.persistGroupInviteV4Msg=function(e,t){return(0,s.getGroupInviteV4Table)().createOrMerge(e,t)},t.persistGroupInviteV4Msgs=function(e){return(0,s.getGroupInviteV4Table)().bulkCreateOrMerge(e)},t.revokeGroupInvites=function(){return c.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(29987),s=n(96591),l=n(3885);function c(){return(c=(0,o.default)((function*(e,t,n,r){const o=yield(0,s.getGroupInviteV4Table)().equals(["from","to","groupId"],[e,t,n]).then((e=>e.filter((e=>!e.expired&&e.expiration<=r))));return(0,s.getGroupInviteV4Table)().bulkCreateOrReplace(o.map((e=>(0,i.default)((0,i.default)({},e),{},{expired:!0})))),o}))).apply(this,arguments)}},35678:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateWids=function e(t){if(Array.isArray(t))return t.map(((t,n)=>e((0,i.widReviver)(n,t,r.isWidlike,r.createWidFromWidLike))));if(t&&"object"==typeof t){const n=Object.keys(t);for(let o=0;o<n.length;o++){const a=n[o];t[a]=e((0,i.widReviver)(a,t[a],r.isWidlike,r.createWidFromWidLike))}return t}return t};var r=n(51017),i=n(29853)},60585:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMembershipApprovalRequests=t.removeAllMembershipApprovalRequests=t.getMembershipApprovalRequests=t.addMembershipApprovalRequests=void 0;var r=n(21392),i=n(51017);t.getMembershipApprovalRequests=e=>(0,r.getMembershipApprovalRequestTable)().equals(["groupId"],e.toString()).then((e=>e.map((e=>{let{id:t,t:n,addedBy:r,requestMethod:o,parentGroupId:a}=e;return{id:(0,i.createWid)(t),t:n,addedBy:(0,i.createWid)(r),requestMethod:o,parentGroupId:null!=a?(0,i.createWid)(a):void 0}}))));t.addMembershipApprovalRequests=(e,t)=>{const n=t.map((t=>{let{id:n,t:r,addedBy:i,requestMethod:o,parentGroupId:a}=t;return{groupId:e.toString(),id:n.toString(),t:r,addedBy:i.toString(),requestMethod:o,parentGroupId:null==a?void 0:a.toString()}}));return(0,r.getMembershipApprovalRequestTable)().bulkCreateOrReplace(n)};t.removeMembershipApprovalRequests=(e,t)=>{const n=e.toString();return(0,r.getMembershipApprovalRequestTable)().bulkRemove(t.map((e=>[n,e.toString()])))};t.removeAllMembershipApprovalRequests=e=>(0,r.getMembershipApprovalRequestTable)().bulkRemoveByIndex(["groupId"],[e.toString()])},5266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOrUpdateOrphanReceipt=function(e,t,n){return(0,r.getStorage)().lock(["orphan-receipt"],(r=>{let[i]=r;return i.bulkGet(n).then((r=>{const o=n.reduce(((n,i,o)=>{let a=r[o];null==a&&(a={msgKey:i});const s=a[e];return(null==s||s>t)&&(a[e]=t,n.push(a)),n}),[]);return i.bulkCreateOrReplace(o)}))}))},t.getOrphanReceipt=function(e){return(0,i.getOrphanReceiptTable)().get(e)},t.removeOrphanReceipt=function(e){return(0,i.getOrphanReceiptTable)().remove(e)};var r=n(74557),i=n(59075)},31654:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addOrphanRevokes=function(e){return p.bulkCreateOrReplaceOrphanRevokes(e)},t.applyOrphanRevokes=function(){return f.apply(this,arguments)};var i=r(n(48926)),o=r(n(49619)),a=n(26368),s=n(73602),l=n(95553),c=r(n(27112)),u=n(51017);let d=new Map,_=!1;const p={reset:()=>{d=new Map,_=!1},bulkRemoveOrphans:e=>(e.forEach((e=>{d.delete(e.msgKey)})),(0,l.getOrphanRevokeTable)().bulkRemove(e.map((e=>e.msgKey)))),bulkCreateOrReplaceOrphanRevokes:e=>(e.forEach((e=>{d.has(e.msgKey)&&d.delete(e.msgKey),d.set(e.msgKey,e)})),(0,l.getOrphanRevokeTable)().bulkCreateOrReplace(e)),getAllOrphanRevokes:()=>(0,i.default)((function*(){if(!_){const e=yield(0,l.getOrphanRevokeTable)().all();d=new Map(e.map((e=>[e.msgKey,e]))),_=!0}return d}))()};function f(){return(f=(0,i.default)((function*(e){const t=yield p.getAllOrphanRevokes(),n=[],r=[];return e.forEach((e=>{const i=e.id.toString();if(t.has(i)){const d=(0,o.default)(t.get(i),"orphanRevokesCache.get(messageId)");var l;if(__LOG__(2)`applyOrphanRevokes: found orphan revoke for message ${e.id.toString()}`,!c.default.isStatusV3(e.id.remote))r.push({id:e.id,to:e.to,author:e.author,revokeSender:(0,u.createWidFromWidLike)(null!==(l=d.sender)&&void 0!==l?l:(0,a.getSender)(e)),type:s.MSG_TYPE.REVOKED,subtype:"admin_revoke"===d.subtype?"admin":"sender",protocolMessageKey:e.id,from:e.from,t:e.t,broadcast:e.broadcast});n.push(d)}else r.push(e)})),p.bulkRemoveOrphans(n),r}))).apply(this,arguments)}},87010:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createOrUpdateOrphanTcToken=function(e,t){return(0,o.getOrphanTcTokenTable)().createOrMerge(e,(0,i.default)({chatId:e},t))},t.getOrphanTcToken=function(e){return(0,o.getOrphanTcTokenTable)().get(e)},t.removeOrphanTcToken=function(e){return(0,o.getOrphanTcTokenTable)().remove(e)};var i=r(n(81109)),o=n(30051)},64002:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupUnSyncedError=void 0,t.clearAdminshipCache=function(e){null!=e?m.delete(e):m.clear()},t.getGroupSenderKeyList=function(){return E.apply(this,arguments)},t.getGroupSenderKeyListFromParticipantRecord=A,t.injectPastParticipantsFromDB=function(){return T.apply(this,arguments)},t.isCurrentUserGroupAdmin=function(e){const t=m.get(e);if(null==t){const t=(0,u.getParticipantTable)().get(e).then((e=>{var t;return!!e&&e.admins.includes(null===(t=(0,d.getMaybeMeUser)())||void 0===t?void 0:t.toString())}));return m.set(e,t),t}return Promise.resolve(t)},t.markForgetSenderKey=function(e,t){const n=e.toString();return(0,c.getStorage)().lock(["participant"],(e=>{let[r]=e;return r.get(n).then((e=>{if(e)return r.createOrReplace(h(e,t,!1));__LOG__(2)`markForgetSenderKey: group participant info missing for group ${n}`}))}))},t.markHasSenderKey=function(e,t){const n=e.toString();return(0,c.getStorage)().lock(["participant"],(e=>{let[r]=e;return r.get(n).then((e=>{if(e)return r.createOrReplace(h(e,t,!0));__LOG__(2)`markHasSenderKey: group participant info missing for group ${n}`}))}))},t.pruneExpiredPastParticipants=function(){return(0,c.getStorage)().lock(["participant"],function(){var e=(0,o.default)((function*(e){let[t]=e;const n=yield(0,u.getParticipantTable)().all(),r=[];return n.forEach((e=>{const t=e.pastParticipants.filter((e=>{const t=(0,a.castToUnixTime)(e.leaveTs);return(0,a.happenedWithin)(t,a.DAY_SECONDS*l.PAST_PARTICIPANT_EXPIRATION_DAYS)}));if(t.length!==e.pastParticipants.length){const n=(0,i.default)((0,i.default)({},e),{},{pastParticipants:t});r.push(n)}})),r.length,t.bulkCreateOrReplace(r)}));return function(){return e.apply(this,arguments)}}())},t.setAdminshipCache=function(e,t){m.set(e,t)};var i=r(n(81109)),o=r(n(48926)),a=n(29987),s=n(1619),l=n(8815),c=n(74557),u=n(23440),d=n(3885),_=n(98701),p=n(51017);class f extends Error{constructor(){super(...arguments),this.name="GroupUnSyncedError"}}function E(){return(E=(0,o.default)((function*(e){const t=e.toString();return A(e,yield(0,u.getParticipantTable)().get(t))}))).apply(this,arguments)}function A(){return g.apply(this,arguments)}function g(){return(g=(0,o.default)((function*(e,t){const n=[],r=[];if(!t)return{skDistribList:n,skList:r,rotateKey:!1};const{senderKey:i,rotateKey:o}=t;return i.forEach(((e,t)=>{var o;const a=(0,p.createWid)(t),s=(0,p.toUserWid)(a),l=null!==(o=i.get(s.toString()))&&void 0!==o&&o;e&&l?r.push(a):(n.push(a),a.isCompanion()&&e&&!l&&(__LOG__(3)`getGroupSenderKeyList: include ${t} because its primary doesn't have sender key`))})),yield S(e,i.size),(0,_.cacheGroupMetrics)(t),o?{skDistribList:[...n,...r],skList:[],rotateKey:o}:{skDistribList:n,skList:r,rotateKey:o}}))).apply(this,arguments)}function h(e,t,n){const r=new Map(e.senderKey);let i=!1;return t.forEach((e=>{if((0,d.isMeDevice)(e))return;const t=String(e);r.has(t)?r.set(t,n):e.isLid()||(i=!0)})),{groupId:e.groupId,senderKey:r,participants:e.participants,pastParticipants:e.pastParticipants,admins:e.admins,rotateKey:i,deviceSyncComplete:e.deviceSyncComplete}}function S(e,t){return(0,s.frontendSendAndReceive)("updateCachedDeviceCount",{groupWid:e,deviceCount:t})}function T(){return(T=(0,o.default)((function*(e){const t=e.map((e=>e.id.toString())),n=yield(0,u.getParticipantTable)().bulkGet(t);return e.map(((e,t)=>{var r,o;return(0,i.default)((0,i.default)({},e),{},{pastParticipants:null===(r=n[t])||void 0===r||null===(o=r.pastParticipants)||void 0===o?void 0:o.map((e=>{let{jid:t,leaveTs:n,leaveReason:r}=e;return{id:(0,p.createWid)(t),leaveTs:n,leaveReason:r}}))})}))}))).apply(this,arguments)}t.GroupUnSyncedError=f;const m=new Map},7429:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.removeSubgroupSuggestions=t.removeAllSubgroupSuggestions=t.getSubgroupSuggestions=t.addSubgroupSuggestions=void 0,t.removeSubgroupSuggestionsWithOfflineOption=function(e){let{subgroupSuggestions:t,isOffline:n}=e;if(!0===n)return c({ids:t});return l(t)},t.updateOwnerInSubgroupSuggestions=void 0;var i=r(n(48926)),o=n(66210),a=n(43222),s=n(51017);t.getSubgroupSuggestions=e=>(0,a.getSubgroupSuggestionTable)().equals(["parentGroupId"],e.toString()).then((e=>e.map((e=>{let{id:t,parentGroupId:n,subject:r,desc:i,owner:o,t:a}=e;return{id:(0,s.createWid)(t),parentGroupId:(0,s.createWid)(n),subject:r,desc:i,owner:(0,s.createWid)(o),t:a}}))));t.addSubgroupSuggestions=(e,t)=>{const n=t.map((t=>{let{id:n,subject:r,desc:i,owner:o,t:a}=t;return{id:n.toString(),parentGroupId:e.toString(),subject:r,desc:i,owner:o.toString(),t:a}}));return(0,a.getSubgroupSuggestionTable)().bulkCreateOrReplace(n)};t.updateOwnerInSubgroupSuggestions=(e,t)=>(0,a.getSubgroupSuggestionTable)().bulkCreateOrMerge(e.map((e=>({id:e.toString(),owner:t.toString()}))));const l=e=>(0,a.getSubgroupSuggestionTable)().bulkRemove(e.map((e=>e.toString())));t.removeSubgroupSuggestions=l;t.removeAllSubgroupSuggestions=e=>(0,a.getSubgroupSuggestionTable)().bulkRemoveByIndex(["parentGroupId"],[e.toString()]);const c=(0,o.batch)({delayMs:3e3},function(){var e=(0,i.default)((function*(e){const t=e.reduce(((e,t)=>(e.push(...t.ids),e)),[]);return yield l(t),[]}));return function(){return e.apply(this,arguments)}}())},13929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTaskScheduledTime=function(e){return(0,i.getTasksScheduledTimeTable)().get(e).then((e=>null==e?void 0:e.time))},t.updateTaskScheduledTime=function(e,t){return(0,r.getStorage)().lock(["tasks-scheduled-time"],(n=>{let[r]=n;return r.createOrReplace({taskName:e,time:t})}))};var r=n(74557),i=n(52554)},80251:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.cleanUnjoinedSubgroups=function(){return d.apply(this,arguments)},t.removeUnjoinedSubgroupMetadataFromStorage=function(e){(0,s.getUnjoinedSubgroupMetadataTable)().remove(e.toString())},t.updateUnjoinedSubgroups=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=r(n(81109)),a=r(n(6479)),s=n(31304);const l=["defaultSubgroup","parentGroupId"];function c(e){const t={},{defaultSubgroup:n,parentGroupId:r}=e,i=(0,a.default)(e,l);return null!=n&&(t.defaultSubgroup=n),null!=r&&(t.parentGroup=r.toString()),(0,o.default)((0,o.default)((0,o.default)({},i),t),{},{id:e.id.toString()})}function u(){return(u=(0,i.default)((function*(e){let{unjoinedSubgroups:t,parentGroupId:n,link:r}=e;if(!r)return void(yield(0,s.getUnjoinedSubgroupMetadataTable)().bulkRemove(t.map((e=>e.id.toString()))));let i=[];const a=yield(0,s.getUnjoinedSubgroupMetadataTable)().bulkGet(t.map((e=>e.id.toString())));i=t.map(((e,t)=>{const r=a[t];let i={subject:e.subject,subjectTime:e.subjectTime||0};if(r){const e=r.subjectTime||0;e>i.subjectTime&&(i={subject:r.subject,subjectTime:e})}return c((0,o.default)((0,o.default)((0,o.default)({},e),i),{},{parentGroupId:n}))})),yield(0,s.getUnjoinedSubgroupMetadataTable)().bulkCreateOrMerge(i)}))).apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e){let{unjoinedSubgroupIds:t,parentGroupId:n}=e;const r=(yield(0,s.getUnjoinedSubgroupMetadataTable)().equals(["parentGroup"],n.toString())).map((e=>e.id)),i=t.map((e=>e.toString())),o=r.filter((e=>!i.includes(e)));yield(0,s.getUnjoinedSubgroupMetadataTable)().bulkRemoveByIndex(["id"],o)}))).apply(this,arguments)}},70824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bulkCreateOrReplaceUserPrefs=function(e){return(0,r.getUserPrefsTable)().bulkCreateOrReplace(e)},t.clearUserPrefs=function(){return(0,r.getUserPrefsTable)().clear()},t.createOrReplaceUserPref=function(e){return(0,r.getUserPrefsTable)().createOrReplace(e)},t.getUserPref=function(e){return(0,r.getUserPrefsTable)().get(e)},t.removeUserPref=function(e){return(0,r.getUserPrefsTable)().remove(e)};var r=n(67589)},12166:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.VerifiedBusinessNameUpdateType=void 0,t.convertPrivacyModeFromStorageType=_,t.createOrUpdateVerifiedBusinessName=function(){return u.apply(this,arguments)},t.getAllVerifiedNames=function(){return(0,s.getVerifiedBusinessNameTable)().all()},t.getPrivacyMode=function(){return d.apply(this,arguments)},t.getVerifiedBusinessNameRecord=c;var i=r(n(81109)),o=r(n(48926)),a=n(12987),s=n(99801);const l=n(76672).Mirrored(["Replace","Merge"]);function c(e){return(0,s.getVerifiedBusinessNameTable)().get(p(e))}function u(){return(u=(0,o.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.Replace;const r=(0,s.getVerifiedBusinessNameTable)(),o=p(e),a=(0,i.default)((0,i.default)({},t),{},{id:o});n===l.Replace?yield r.createOrReplace(a):yield r.createOrMerge(o,a)}))).apply(this,arguments)}function d(){return(d=(0,o.default)((function*(e){const t=yield c(e);return null==(null==t?void 0:t.privacyMode)?null:_(t.privacyMode)}))).apply(this,arguments)}function _(e){const t=a.ActualActorsEnumType.cast(e.actualActors),n=a.HostStorageEnumType.cast(e.hostStorage);return null==t||null==n?null:{actualActors:t,hostStorage:n,privacyModeTs:e.privacyModeTs}}function p(e){return e.isLid()?e.toString():e.user}t.VerifiedBusinessNameUpdateType=l},33888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("abpropConfigs").version((0,i.abpropsConfigCreateTable)(),[n("configCode"),t("configValue"),t("configExpoKey"),t("overriddenConfigValue")]).version((0,i.addHasAccessedToAbpropsConfigTable)(),[t("hasAccessed")]).view((e=>({configCode:e.configCode,configValue:e.configValue,configExpoKey:e.configExpoKey,hasAccessed:e.hasAccessed,overriddenConfigValue:e.overriddenConfigValue})))},t.getAbpropConfigsTable=function(){return(0,r.getStorage)().table("abpropConfigs")};var r=n(74557),i=n(20746),o=n(65717)},45781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveRangeAction=void 0,t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addCompositePrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("active-message-ranges").version((0,i.activeMessageRangesCreateTable)(),[n(["chatId","action"]),a("chatId"),t("actionValue"),t("remainingMessages")]).view((e=>e))},t.getActiveMessageRangesTable=function(){return(0,r.getStorage)().table("active-message-ranges")};var r=n(74557),i=n(20746),o=n(65717);const a=Object.freeze({Unknown:"unknown",Archive:"archive",MarkChatAsRead:"markChatAsRead",ClearChatKeepStarredKeepMedia:"clearChat_0_0",ClearChatKeepStarredDeleteMedia:"clearChat_0_1",ClearChatDeleteStarredKeepMedia:"clearChat_1_0",ClearChatDeleteStarredDeleteMedia:"clearChat_1_1",DeleteChatDeleteMedia:"deleteChat_1",DeleteChatKeepMedia:"deleteChat_0"});t.ActiveRangeAction=a},17431:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("agent").version((0,i.agentCreateTable)(),[n("id"),t("deviceId"),t("name"),t("isDeleted")]).view((e=>e))},t.getAgentTable=function(){return(0,r.getStorage)().table("agent")};var r=n(74557),i=n(20746),o=n(65717)},99698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addUserDefinedPrimaryKey:t}=(0,o.columnBuilder)(e.config);e.add("blocklist").version((0,i.blocklistCreateTable)(),[t("id")]).view((e=>({id:e.id})))},t.getBlocklistTable=function(){return(0,r.getStorage)().table("blocklist")};var r=n(74557),i=n(20746),o=n(65717)},19990:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("cart").version((0,i.cartCreateTable)(),[n("id"),t("products"),t("message"),t("total"),t("currency"),t("itemCount")]).view((e=>e))},t.getCartTable=function(){return(0,r.getStorage)().table("cart")};var r=n(74557),i=n(20746),o=n(65717)},94007:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addEncryptedColumn:n,addIndex:s,addUserDefinedPrimaryKey:l}=(0,o.columnBuilder)(e.config);e.add("chat").version((0,i.chatCreateTable)(),[l("id"),t("t"),t("unreadCount"),t("unreadDividerOffset"),t("archive"),t("isReadOnly"),t("isAnnounceGrpRestrict"),t("modifyTag"),t("muteExpiration"),t("isAutoMuted"),t("name"),t("notSpam"),t("pin"),t("changeNumberOldJid"),t("changeNumberNewJid"),t("ephemeralDuration"),t("ephemeralSettingTimestamp"),t("unreadMsgAnchorId"),t("endOfHistoryTransferType"),t("lastReactionPreview"),t("chatlistPreview"),t("isDeprecated"),t("unreadEditTimestampMs"),n("chatRowOpaqueData",a.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER),t("ephemeralDisplayedExemptions"),t("disappearingModeTrigger"),t("disappearingModeInitiatorJid"),t("hasOpened"),t("hasCreatedBotInvokeSystemMsg"),t("bizBotType")]).version((0,i.chatAddDisappearingModeInitiator)(),[t("disappearingModeInitiator")]).version((0,i.addUnreadMentionToChatTable)(),[t("unreadMentionsOfMe")]).version((0,i.addUnreadMentionCountToChatTable)(),[t("unreadMentionCount")]).version((0,i.addTcTokenToChatTable)(),[n("tcToken",a.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER)]).version((0,i.addTcTokenTimestampToChatTable)(),[t("tcTokenTimestamp"),s("tcTokenTimestamp")]).version((0,i.addArchiveAtMentionViewedInDrawer)(),[t("archiveAtMentionViewedInDrawer")]).version((0,i.addTcTokenSenderTimestampToChatTable)(),[t("tcTokenSenderTimestamp")]).view((e=>e))},t.getChatTable=function(){return(0,r.getStorage)().table("chat")};var r=n(74557),i=n(20746),o=n(65717),a=n(8065)},69616:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add(a).version((0,i.chatAssignmentCreateTable)(),[n("id"),t("chatId"),t("agentId"),t("chatOpenedByAgent")]).view((e=>e))},t.getChatAssignmentTable=function(){return(0,r.getStorage)().table(a)};var r=n(74557),i=n(20746),o=n(65717);const a="chat-assignment"},48198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,o.getStorage)(),{addColumn:t,addCompositePrimaryKey:n,addIndex:c}=(0,s.columnBuilder)(e.config);e.add(l).version((0,a.addChatThreadLoggingTable)(),[n(["chatId","startTs"]),c("chatId"),c("startTs"),t("msgsSent"),t("msgsReceived"),t("viewOnceMsgsSent"),t("viewOnceMsgsReceived"),t("viewOnceMessagesOpened"),t("callOffersSent"),t("callOffersReceived"),t("totalCallDuration"),t("commerceMsgsSent"),t("commerceMsgsReceived"),t("pdpInquiriesSent"),t("reactionsSent"),t("reactionsReceived"),t("forwardMessagesSent"),t("forwardMessagesReceived"),t("editedMsgsSent"),t("botMessagesSent"),t("botMessagesReceived"),t("botMessagesEdited"),...[...i.COUNT_FIELD_NAMES,...r.FLAG_FIELD_NAMES].map((e=>t(e)))]).view((e=>e))},t.getChatThreadLoggingPendingEventsTable=function(){return(0,o.getStorage)().table(l)};var r=n(39026),i=n(71050),o=n(74557),a=n(20746),s=n(65717);const l="chat-thread-logging-pending-events"},39618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("collection-version").version((0,i.collectionVersionCreateTable)(),[n("collection"),t("version"),t("state"),t("finiteFailureStartTime"),t("ltHash"),t("isCollectionInMacMismatchFatal"),t("lastSuccessfulSyncEndTime"),t("lastSyncAttemptStartTimes")]).view((e=>e))},t.getCollectionVersionTable=function(){return(0,r.getStorage)().table("collection-version")};var r=n(74557),i=n(20746),o=n(65717)},93769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("contact").version((0,i.contactCreateTable)(),[n("id"),t("name"),t("shortName"),t("pushname"),t("type"),t("verifiedName"),t("isBusiness"),t("isEnterprise"),t("verifiedLevel"),t("statusMute"),t("sectionHeader"),t("isAddressBookContact"),t("username"),a("isAddressBookContact")]).version((0,i.contactAddIsContactSyncCompleted)(),[t("isContactSyncCompleted"),a("isContactSyncCompleted")]).version((0,i.contactAddDisappearingModeProperties)(),[t("disappearingModeDuration"),t("disappearingModeSettingTimestamp")]).version((0,i.contactAddHash)(),[t("contactHash"),a("contactHash")]).version((0,i.contactAddLidProperties)(),[t("phoneNumber"),t("phoneNumberCreatedAt"),t("requestedPnTimestamp"),t("shareOwnPn"),t("displayNameLID"),a("phoneNumber")]).view((e=>e))},t.getContactTable=function(){return(0,r.getStorage)().table("contact")};var r=n(74557),i=n(20746),o=n(65717)},93813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("device-list").version((0,i.deviceListCreateTable)(),[n("id"),t("devices"),t("rawId"),t("timestamp"),t("validIndexes"),t("currentIndex")]).version((0,i.deviceListAddDelete)(),[t("deleted")]).version((0,i.deviceListAddV2Fields)(),[t("expectedTs"),t("expectedTsLastDeviceJobTs"),t("expectedTsUpdateTs")]).view((e=>e))},t.getDeviceListTable=function(){return(0,r.getStorage)().table("device-list")};var r=n(74557),i=n(20746),o=n(65717)},18759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("direct-connection-keys").version((0,i.directConnectionKeysCreateTable)(),[n("id"),t("certificateChain"),t("cypher"),t("cypherExpirationTimestamp")]).version((0,i.directConnectionKeysAddPostcodeColumns)(),[t("cypherType"),t("postcode"),t("postcodeSetByUser"),t("postcodeLocationName")]).view((e=>e))},t.getDirectConnectionKeysTable=function(){return(0,r.getStorage)().table("direct-connection-keys")};var r=n(74557),i=n(20746),o=n(65717)},85710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addAutoIncrementingPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("encrypted-mutations").version((0,i.encryptedMutationsCreateTable)(),[n("id"),t("collectionName"),t("keyId"),t("indexMac"),t("operation"),t("indexAndValueCipherText")]).view((e=>e))},t.getEncryptedMutationsTable=function(){return(0,r.getStorage)().table("encrypted-mutations")};var r=n(74557),i=n(20746),o=n(65717)},60072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("favorite-stickers").version((0,i.favoriteStickersCreateTable)(),[n("id"),t("timestamp"),t("sticker"),t("stickerHashWithoutMeta"),t("isFavorite"),t("deviceId")]).view((e=>e))},t.getFavoriteStickersTable=function(){return(0,r.getStorage)().table("favorite-stickers")};var r=n(74557),i=n(20746),o=n(65717)},97659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addUserDefinedPrimaryKey:t}=(0,o.columnBuilder)(e.config);e.add("fts-indexing-queue").version((0,i.ftsIndexingQueueCreateTable)(),[t("id")]).view((e=>e))},t.getFtsIndexingQueueTable=function(){return(0,r.getStorage)().table("fts-indexing-queue")};var r=n(74557),i=n(20746),o=n(65717)},96591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addCompositeIndex:a}=(0,o.columnBuilder)(e.config);e.add("group-invite-v4").version((0,i.groupInviteV4CreateTable)(),[n("id"),t("from"),t("to"),t("groupId"),t("expiration"),t("expired"),a(["from","to","groupId"])]).version((0,i.addGroupFromKeyToGroupInviteV4)(),[a(["from","groupId"])]).view((e=>e))},t.getGroupInviteV4Table=function(){return(0,r.getStorage)().table("group-invite-v4")};var r=n(74557),i=n(20746),o=n(65717)},35872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MEMBER_ADD_MODE=void 0,t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a,removeColumn:s}=(0,o.columnBuilder)(e.config);e.add("group-metadata").version((0,i.groupMetadataCreateTable)(),[n("id"),t("subject"),t("subjectTime"),t("creation"),t("owner"),t("desc"),t("descId"),t("descTime"),t("descOwner"),t("restrict"),t("announce"),t("a_v_id"),t("noFrequentlyForwarded"),t("ephemeralDuration"),t("membershipApprovalMode"),t("size"),t("support"),t("suspended"),t("terminated"),t("notAddedByContact"),t("addedBy"),t("parentGroup"),t("subgroups"),t("isParentGroup"),t("isParentGroupClosed"),t("defaultSubgroup"),t("generalSubgroup"),t("growthLockExpiration"),t("growthLockType"),t("lastActivityTimestamp"),t("lastSeenActivityTimestamp"),t("isLidAddressingMode"),t("reportToAdminMode"),t("lastReportToAdminTimestamp"),t("allowNonAdminSubGroupCreation"),t("memberAddMode")]).version((0,i.migrateSubgroupsArray)(),[s("subgroups"),t("unjoinedSubgroups")]).version((0,i.removeUnjoinedSubgroups)(),[s("unjoinedSubgroups")]).version((0,i.removeSpamColumnsInGroupMetadata)(),[s("notAddedByContact"),s("addedBy")]).version((0,i.addCommunityAdminPromotionColumns)(),[t("displayCadminPromotion")]).version((0,i.renameCommunityAdminPromotionColumns)(),[s("displayCadminPromotion"),t("acknowledgedCadminPromotion")]).version((0,i.removeCommunityAdminPromotionColumns)(),[s("acknowledgedCadminPromotion")]).version((0,i.addIncognitoGroupMetadataColumn)(),[t("incognito")]).version((0,i.groupMetadataAddParentIndex)(),[a("parentGroup")]).view((e=>e))},t.getGroupMetadataTable=function(){return(0,r.getStorage)().table("group-metadata")};var r=n(74557),i=n(20746),o=n(65717);const a=n(76672)({ADMIN_ADD:"admin_add",ALL_MEMBER_ADD:"all_member_add"});t.MEMBER_ADD_MODE=a},96637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addEncryptedColumn:n,addUserDefinedPrimaryKey:s,addIndex:l}=(0,o.columnBuilder)(e.config);e.add("history-sync-notification").version((0,i.historySyncNotificationsCreateTable)(),[s("msgKey"),t("downloadOptions"),t("syncType"),n("chunkEncryptionKey",a.ENCRYPTED_VALUE_TYPE.STRING),t("chunkOrder"),t("processed"),l("syncType"),l("chunkOrder"),l("processed"),t("isReupload"),t("historySyncStepStartedTs"),t("historySyncPayloadSize"),t("reuploadPending")]).version((0,i.encryptHistorySyncDirectPath)(),[n("directPath",a.ENCRYPTED_VALUE_TYPE.STRING)]).version((0,i.encryptHistorySyncFilehash)(),[n("filehash",a.ENCRYPTED_VALUE_TYPE.STRING),n("encFilehash",a.ENCRYPTED_VALUE_TYPE.STRING)]).version((0,i.addInitialHistBootstrapInlinePayloadColumn)(),[n("initialHistBootstrapInlinePayload",a.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER)]).version((0,i.addPeerDataRequestSessionIdColumn)(),[t("peerDataRequestSessionId")]).version((0,i.addPeerDataRequestChatIdColumn)(),[t("peerDataRequestChatId")]).version((0,i.addProgressColumn)(),[t("progress")]).view((e=>e)).useDbMsgEncKeyForEncryptedCol(!0)},t.getHistorySyncNotificationTable=function(){return(0,r.getStorage)().table("history-sync-notification")};var r=n(74557),i=n(20746),o=n(65717),a=n(8065)},12186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("inactive-receipt").version((0,i.inactiveReceiptCreateTable)(),[n("msgId"),t("chatId"),t("participantId")]).view((e=>e))},t.getInactiveReceiptTable=function(){return(0,r.getStorage)().table("inactive-receipt")};var r=n(74557),i=n(20746),o=n(65717)},71229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("label").version((0,i.labelCreateTable)(),[n("id"),t("name"),t("colorIndex"),t("predefinedId")]).view((e=>e))},t.getLabelTable=function(){return(0,r.getStorage)().table("label")};var r=n(74557),i=n(20746),o=n(65717)},84566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelAssociationType=void 0,t.addTable=function(){const e=(0,r.getStorage)(),{addCompositePrimaryKey:t,addIndex:n,addCompositeIndex:a}=(0,o.columnBuilder)(e.config);e.add("label-association").version((0,i.labelAssociationCreateTable)(),[t(["labelId","associationId","type"]),n("labelId"),a(["associationId","type"])]).view((e=>e))},t.getLabelAssociationTable=function(){return(0,r.getStorage)().table("label-association")};var r=n(74557),i=n(20746),o=n(65717);const a=n(76672)({Jid:"jid",Message:"message"});t.LabelAssociationType=a},61568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("lid-chat-state").version((0,i.lidChatStateCreateTable)(),[n("id"),t("shareOwnPn"),t("requestedPnTimestamp")]).view((e=>e))};var r=n(74557),i=n(20746),o=n(65717)},70128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("lid-display-name-mapping").version((0,i.lidDisplayNameMappingCreateTable)(),[n("id"),t("displayName")]).view((e=>e))};var r=n(74557),i=n(20746),o=n(65717)},592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a,removeColumn:s}=(0,o.columnBuilder)(e.config);e.add("lid-pn-mapping").version((0,i.lidPnMappingCreateTable)(),[n("id"),t("phoneNumber"),a("phoneNumber"),t("createdAtTimestamp"),t("displayName")]).version((0,i.lidPnMappingRemoveDisplayName)(),[s("displayName")]).view((e=>e))};var r=n(74557),i=n(20746),o=n(65717)},21392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addCompositePrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("pending-membership-approval-request").version((0,i.membershipApprovalRequestCreateTable)(),[n(["groupId","id"]),a("groupId"),t("t"),t("addedBy"),t("requestMethod"),t("parentGroupId")]).view((e=>e))},t.getMembershipApprovalRequestTable=function(){return(0,r.getStorage)().table("pending-membership-approval-request")};var r=n(74557),i=n(20746),o=n(65717)},10139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addEncryptedColumn:n,addUserDefinedPrimaryKey:s,addIndex:l,addUniqueIndex:c,addCompositeIndex:u,addArrayIndex:d,removeColumn:_}=(0,o.columnBuilder)(e.config);e.add("message").version((0,i.messageCreateTable)(),[s("id"),t("internalId"),c("internalId"),t("rowId"),c("rowId"),t("type"),t("subtype"),t("t"),t("notifyName"),t("from"),t("to"),t("author"),t("self"),t("ack"),t("invis"),t("isStarred"),l("isStarred"),t("mentionedJidList"),t("groupMentions"),t("count"),t("devicesAdded"),t("devicesRemoved"),t("isThisDeviceAdded"),t("recipients"),t("protocolMessageKey"),t("protocolMessageRowId"),t("templateParams"),u(["internalId","isStarred"]),t("vcardWAids"),d("vcardWAids"),t("hasLink"),t("isMediaMsg"),t("isDocMsg"),u(["internalId","isMediaMsg"]),u(["internalId","isDocMsg"]),u(["internalId","hasLink"]),t("ephemeralStartTimestamp"),t("ephemeralDuration"),t("ephemeralSettingTimestamp"),t("ephemeralOutOfSync"),t("ephemeralSettingUser"),t("expiredTimestamp"),l("expiredTimestamp"),t("directPath"),t("mimetype"),t("duration"),t("filehash"),t("uploadhash"),t("size"),t("filename"),t("streamingSidecar"),t("mediaKey"),t("mediaKeyTimestamp"),t("pageCount"),t("isGif"),t("gifAttribution"),t("isViewOnce"),t("width"),t("height"),t("scanLengths"),t("scansSidecar"),t("interactiveAnnotations"),t("firstFrameLength"),t("firstFrameSidecar"),t("isAnimated"),t("thumbnail"),t("richPreviewType"),t("doNotPlayInline"),t("broadcast"),t("broadcastParticipants"),t("broadcastId"),t("quotedMsg"),t("quotedStanzaID"),t("quotedRemoteJid"),t("quotedParticipant"),t("footer"),t("hydratedButtons"),t("selectedId"),t("selectedIndex"),t("vcardFormattedName"),t("isVcardOverMmsDocument"),t("isCaptionByUser"),t("hsmTag"),t("hsmCategory"),t("templateId"),t("businessOwnerJid"),t("productId"),t("currencyCode"),t("priceAmount1000"),t("retailerId"),t("url"),t("productImageCount"),t("paymentCurrency"),t("paymentMessageReceiverJid"),t("paymentTransactionTimestamp"),t("paymentStatus"),t("paymentNoteMsg"),t("paymentRequestMessageKey"),t("paymentExpiryTimestamp"),t("message"),t("orderTitle"),t("itemCount"),t("orderId"),t("surface"),t("status"),t("token"),t("textColor"),t("backgroundColor"),t("font"),t("isForwarded"),t("forwardingScore"),t("ctwaContext"),t("messageRangeIndex"),l("messageRangeIndex"),t("vcardList"),t("totalAmount1000"),t("totalCurrencyCode"),t("list"),t("listResponse"),t("isDynamicReplyButtonsMsg"),t("dynamicReplyButtons"),t("selectedButtonId"),t("sellerJid"),t("deprecatedMms3Url"),t("encFilehash"),n("msgRowOpaqueData",a.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER),t("thumbnailDirectPath"),t("thumbnailSha256"),t("thumbnailEncSha256"),t("thumbnailHeight"),t("thumbnailWidth"),t("revokeSender"),t("pendingReadReceipt"),u(["from","pendingReadReceipt"]),t("inviteGrpType"),t("quotedGroupSubject"),t("quotedParentGroupJid"),t("reactionParentKey"),t("reactionTimestamp"),t("reactionText"),t("lastPlaybackProgress"),t("hasReaction"),t("kicKey"),t("kicState"),t("kicTimestampMs"),t("kicNotified"),t("keptMessageKey"),t("keepType"),t("keptCount"),t("agentId"),t("revokeTimestamp"),t("futureproofParams"),t("futureproofReparsed"),t("futureproofType"),t("futureproofSubtype"),t("botFeedbackKind"),t("botFeedbackText"),t("latestEditMsgKey"),t("latestEditSenderTimestampMs"),t("editMsgType"),t("bizSource"),t("invokedBotWid"),t("botEditType"),t("bizBotType"),t("viewCount"),t("forwardedNewsletterMessageInfo"),t("viewed"),t("disappearingModeTrigger"),t("disappearingModeInitiatorJid")]).version((0,i.messageAddIsSendFailureProperties)(),[t("isSendFailure")]).version((0,i.messageAddPaymentTxnStatus)(),[t("paymentTxnStatus")]).version((0,i.messageAddProductListPreviewInfo)(),[t("productListItemCount")]).version((0,i.messageAddPrivacyModeFields)(),[t("privacyModeWhenSent"),t("bizPrivacyStatus")]).version((0,i.messageAddProductListPreviewHeaderImage)(),[t("productHeaderImageRejected")]).version((0,i.messageAddDisappearingModeInitiator)(),[t("disappearingModeInitiator")]).version((0,i.messageAddGroupInviteV4)(),[t("inviteGrp"),t("inviteGrpName"),t("comment"),t("inviteCode"),t("inviteCodeExp")]).version((0,i.addSupportForHSMButtons)(),[t("isFromTemplate")]).version((0,i.messageAddPaymentRequestNFMFields)(),[t("nativeFlowButtons"),t("paymentRequestHeader")]).version((0,i.addWaveformToAudioMessages)(),[t("waveform")]).version((0,i.messageRemovePaymentRequestHeaderField)(),[_("paymentRequestHeader")]).version((0,i.messageAddNativeFlowNameField)(),[t("nativeFlowName")]).version((0,i.addStaticURLToImageVideoMessages)(),[t("staticUrl")]).version((0,i.addRequiresDirectConnection)(),[t("requiresDirectConnection")]).version((0,i.messageAddPaymentInviteServiceType)(),[t("paymentInviteServiceType")]).version((0,i.addStatusPSACampaignFields)(),[t("campaignId"),t("campaignDuration")]).version((0,i.messageAddPaymentBackground)(),[t("paymentBackground")]).version((0,i.messageAddInteractiveMessageFields)(),[t("interactiveHeader"),t("interactiveType"),t("interactivePayload")]).version((0,i.messageAddActionLink)(),[t("actionLink")]).version((0,i.messageAddHeaderType)(),[t("headerType")]).version((0,i.messageStatusPSAReadTimestamp)(),[t("statusPSAReadTimestamp")]).version((0,i.messageAddPollInvalidated)(),[t("pollInvalidated")]).version((0,i.messageAddRcat)(),[t("rcat")]).version((0,i.errorCodeColumn)(),[t("errorCode")]).version((0,i.lastUpdateTimestampColumn)(),[t("lastUpdateFromServerTs")]).version((0,i.paidMessagingCampaignIdColumn)(),[t("pmCampaignId")]).view((e=>e)).enablePropFilter(!0).useDbMsgEncKeyForEncryptedCol(!0)},t.getMessageTable=function(){return(0,r.getStorage)().table("message")};var r=n(74557),i=n(20746),o=n(65717),a=n(8065)},77979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("message-history").version((0,i.messageHistoryCreateTable)(),[n("msgKey"),t("parentMsgKey"),a("parentMsgKey")]).view((e=>e))},t.getMessageHistoryTable=function(){return(0,r.getStorage)().table("message-history")};var r=n(74557),i=n(20746),o=n(65717)},24377:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addCompositePrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("message-info").version((0,i.messageInfoCreateTable)(),[n(["msgKey","receiverUserJid"]),t("delivery"),t("read"),t("played"),t("deviceDelivered"),t("deviceNotDelivered"),a("msgKey")]).version((0,i.messageInfoAddDeliveryPrivacyMode)(),[t("deliveryPrivacyMode")]).view((e=>e))},t.getMessageInfoTable=function(){return(0,r.getStorage)().table("message-info")};var r=n(74557),i=n(20746),o=n(65717)},73482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a,removeIndex:s}=(0,o.columnBuilder)(e.config);e.add("message-orphans").version((0,i.messageOrphansCreateTable)(),[n("msgKey"),t("parentMsgKey"),a("parentMsgKey"),t("sender"),t("parsedMsgPayload"),t("senderTimestampMs"),a("senderTimestampMs")]).version((0,i.messageOrphansAddColumns)(),[t("t"),a("t"),t("type"),s("senderTimestampMs"),t("read")]).view((e=>e))},t.getMessageOrphanTable=function(){return(0,r.getStorage)().table("message-orphans")};var r=n(74557),i=n(20746),o=n(65717)},45232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,i.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,a.columnBuilder)(e.config);e.add("missing-keys").version((0,o.missingKeysCreateTable)(),[n("keyHex"),t("keyId"),t("timestamp"),t("deviceResponses")]).view((e=>e))},t.convertFromMissingKeyToRow=function(e){const{keyHex:t,keyId:n,timestamp:i,deviceResponses:o}=e;return{keyHex:t,keyId:(0,r.fromSyncKeyId)(n),timestamp:i,deviceResponses:o}},t.convertToMissingKeyFromRow=function(e){const{keyHex:t,keyId:n,timestamp:i,deviceResponses:o}=e;return{keyHex:t,keyId:(0,r.toSyncKeyId)(n),timestamp:i,deviceResponses:o}},t.getMissingKeysTable=function(){return(0,i.getStorage)().table("missing-keys")};var r=n(948),i=n(74557),o=n(20746),a=n(65717)},8238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataRequestUploadOperationType=void 0,t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("non-message-data-request").version((0,i.nonMessageDataRequestCreateTable)(),[n("id"),t("fileKey"),t("requestType"),t("operationType"),t("lastRequestTimeStampSec"),t("requestRetryCount"),t("responseError"),t("lastMediaUploadTimeStampSec"),t("lastMediaUploadSuccess"),t("mediaUploadFailureCount")]).view((e=>e))},t.getNonMessageDataRequestTable=function(){return(0,r.getStorage)().table("non-message-data-request")};var r=n(74557),i=n(20746),o=n(65717);const a=n(76672).Mirrored(["SEND_REQUEST","MEDIA_UPLOAD"]);t.DataRequestUploadOperationType=a},59075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("orphan-receipt").version((0,i.orphanReceiptCreateTable)(),[n("msgKey"),t("delivery"),t("read"),t("played")]).view((e=>e))},t.getOrphanReceiptTable=function(){return(0,r.getStorage)().table("orphan-receipt")};var r=n(74557),i=n(20746),o=n(65717)},95553:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("orphan-revoke").version((0,i.orphanRevokeCreateTable)(),[n("msgKey"),t("sender"),t("timestamp"),t("subtype")]).view((e=>e))},t.getOrphanRevokeTable=function(){return(0,r.getStorage)().table("orphan-revoke")};var r=n(74557),i=n(20746),o=n(65717)},30051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addEncryptedColumn:n,addUserDefinedPrimaryKey:s}=(0,o.columnBuilder)(e.config);e.add("orphan-tc-token").version((0,i.orphanTcTokenCreateTable)(),[s("chatId"),n("tcToken",a.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER),t("tcTokenTimestamp"),t("tcTokenSenderTimestamp")]).view((e=>e))},t.getOrphanTcTokenTable=function(){return(0,r.getStorage)().table("orphan-tc-token")};var r=n(74557),i=n(20746),o=n(65717),a=n(8065)},23440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addArrayIndex:a}=(0,o.columnBuilder)(e.config);e.add("participant").version((0,i.participantCreateTable)(),[n("groupId"),t("senderKey"),t("participants"),t("pastParticipants"),t("admins"),t("rotateKey"),t("version"),a("participants"),t("deviceSyncComplete"),t("staleType")]).view((e=>e))},t.getParticipantTable=function(){return(0,r.getStorage)().table("participant")};var r=n(74557),i=n(20746),o=n(65717)},8409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("peer-message").version((0,i.peerMessageCreateTable)(),[n("id"),t("to"),t("type"),t("subtype"),t("appStateSyncKeyShare"),t("appStateSyncKeyRequest"),t("appStateFatalExceptionNotification"),t("peerDataOperationRequestMessage"),t("peerDataOperationRequestResponseMessage")]).view((e=>e))},t.getPeerMessageTable=function(){return(0,r.getStorage)().table("peer-message")};var r=n(74557),i=n(20746),o=n(65717)},9920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addAutoIncrementingPrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("pending-mutations").version((0,i.pendingMutationsCreateTable)(),[n("id"),t("collection"),t("index"),a("index"),t("timestamp"),a("collection"),t("version"),t("operation"),t("binarySyncAction")]).version((0,i.addActionToPendingMutations)(),[t("action"),a("action")]).view((e=>e))},t.convertToPendingMutationFromRow=function(e){const{id:t,collection:n,index:r,binarySyncAction:i,version:o,operation:a,timestamp:s,action:l}=e;return{id:t,collection:n,index:r,binarySyncAction:i,version:o,operation:a,timestamp:s,action:l}},t.getPendingMutationsTable=function(){return(0,r.getStorage)().table("pending-mutations")};var r=n(74557),i=n(20746),o=n(65717)},85903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacyDisallowedListType=void 0,t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("privacy-disallowed-list").version((0,i.privacyDisallowedListCreateTable)(),[n("id"),t("disallowedList")]).version((0,i.privacyDisallowedListAddDhashField)(),[t("dhash")]).view((e=>({id:e.id,disallowedList:e.disallowedList,dhash:e.dhash})))},t.getPrivacyDisallowedListTable=function(){return(0,r.getStorage)().table("privacy-disallowed-list")};var r=n(74557),i=n(20746),o=n(65717);const a=n(76672)({About:"status",GroupAdd:"groupadd",LastSeen:"last",ProfilePicture:"profile"});t.PrivacyDisallowedListType=a},10144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("profile-pic-thumb").version((0,i.profilePicThumbCreateTable)(),[n("id"),t("tag"),t("eurl"),t("previewEurl"),t("timestamp"),t("previewDirectPath"),t("fullDirectPath"),t("filehash")]).view((e=>({id:e.id,tag:e.tag,eurl:e.eurl,previewEurl:e.previewEurl,timestamp:e.timestamp,previewDirectPath:e.previewDirectPath,fullDirectPath:e.fullDirectPath,filehash:e.filehash})))},t.getProfilePicThumbTable=function(){return(0,r.getStorage)().table("profile-pic-thumb")};var r=n(74557),i=n(20746),o=n(65717)},69386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("quick-reply").version((0,i.quickReplyCreateTable)(),[n("id"),t("shortcut"),t("message"),t("count"),t("keywords")]).view((e=>e))},t.getQuickReplyTable=function(){return(0,r.getStorage)().table("quick-reply")};var r=n(74557),i=n(20746),o=n(65717)},72428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("recent-stickers").version((0,i.recentStickersCreateTable)(),[n("id"),t("timestamp"),t("sticker"),t("msgId"),t("weight"),t("isNewSticker")]).view((e=>e))},t.getRecentStickersTable=function(){return(0,r.getStorage)().table("recent-stickers")};var r=n(74557),i=n(20746),o=n(65717)},43222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("subgroup-suggestion").version((0,i.subgroupSuggestionCreateTable)(),[n("id"),t("parentGroupId"),a("parentGroupId"),t("subject"),t("desc"),t("owner"),t("t")]).view((e=>e))},t.getSubgroupSuggestionTable=function(){return(0,r.getStorage)().table("subgroup-suggestion")};var r=n(74557),i=n(20746),o=n(65717)},50792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("subscription").version((0,i.subscriptionCreateTable)(),[n("id"),t("isDeactivated"),t("isAutoRenewing"),t("expirationDate")]).view((e=>e))},t.getSubscriptionTable=function(){return(0,r.getStorage)().table("subscription")};var r=n(74557),i=n(20746),o=n(65717)},62792:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,s.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:r,addCompositeIndex:i}=(0,c.columnBuilder)(e.config);e.add("sync-actions").version((0,l.syncActionsCreateTable)(),[n("index"),t("keyId"),t("version"),t("actionState"),r("actionState"),t("modelId"),t("modelType"),i(["modelId","modelType","actionState"]),t("valueMac"),t("indexMac"),r("indexMac"),t("collection"),r("collection"),t("timestamp"),t("action"),r("action"),t("binarySyncAction"),t("binarySyncData")]).view(d)},t.convertFromSyncActionToRow=function(e){const{keyId:t}=e;return(0,i.default)((0,i.default)({},e),{},{keyId:(0,a.fromSyncKeyId)(t)})},t.convertToSyncActionFromRow=function(e){const{keyId:t}=e;return(0,i.default)((0,i.default)({},e),{},{keyId:(0,a.toSyncKeyId)(t)})},t.getSyncActionsTable=function(){return(0,s.getStorage)().table("sync-actions")};var i=r(n(81109)),o=n(71809),a=n(948),s=n(74557),l=n(20746),c=n(65717),u=r(n(89482));function d(e){const{index:t,binarySyncAction:n,actionState:r,version:i,keyId:a,modelId:s,modelType:l,indexMac:c,valueMac:d,collection:_,timestamp:p,action:f}=e;let{binarySyncData:E}=e;if(null==E){if(null==n)throw __LOG__(4,void 0,new Error,!0,["syncd"])`syncd: binarySyncAction should not be null when binarySyncData is null`,SEND_LOGS("syncd: syncd binarySyncAction should not be null when binarySyncData is null",1,"syncd"),(0,u.default)("syncd: binarySyncAction should not be null when binarySyncData is null");E=(0,o.syncActionToSyncData)(n)}return{index:t,binarySyncData:E,actionState:r,version:i,keyId:a,modelId:s,modelType:l,indexMac:c,valueMac:d,collection:_,timestamp:p,action:f}}},9419:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,a.getStorage)(),{addColumn:t,addEncryptedColumn:n,addUserDefinedPrimaryKey:r,addIndex:i}=(0,l.columnBuilder)(e.config);e.add("sync-keys").version((0,s.syncKeysCreateTable)(),[r("keyId"),t("timestamp"),t("fingerprint"),n("keyData",c.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER),t("keyEpoch"),i("keyEpoch")]).view((e=>e))},t.convertFromSyncKeyToRow=function(e){const{keyId:t,keyData:n}=e;return(0,i.default)((0,i.default)({},e),{},{keyId:new Uint8Array((0,o.fromSyncKeyId)(t)),keyData:(0,o.fromSyncKeyData)(n)})},t.convertToSyncKeyFromRow=function(e){const{keyId:t,keyData:n}=e;return(0,i.default)((0,i.default)({},e),{},{keyId:(0,o.toSyncKeyId)(t.buffer),keyData:(0,o.toSyncKeyData)(n)})},t.getSyncKeysTable=function(){return(0,a.getStorage)().table("sync-keys")};var i=r(n(81109)),o=n(948),a=n(74557),s=n(20746),l=n(65717),c=n(8065)},52554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("tasks-scheduled-time").version((0,i.tasksScheduledTimeCreateTable)(),[n("taskName"),t("time")]).view((e=>e))},t.getTasksScheduledTimeTable=function(){return(0,r.getStorage)().table("tasks-scheduled-time")};var r=n(74557),i=n(20746),o=n(65717)},66846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrphanReactionsReasonType=void 0;const r=n(76672).Mirrored(["ParentMsgPlaceholder","ParentMsgMissing","ParentMsgFutureproof"]);t.OrphanReactionsReasonType=r},31304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("unjoined-subgroup-metadata").version((0,i.unjoinedSubgroupMetadataCreateTable)(),[n("id"),t("subject"),t("subjectTime"),t("defaultSubgroup"),t("parentGroup")]).version((0,i.unjoinedSubgroupParentGroupIndex)(),[a("parentGroup")]).view((e=>e))},t.getUnjoinedSubgroupMetadataTable=function(){return(0,r.getStorage)().table("unjoined-subgroup-metadata")};var r=n(74557),i=n(20746),o=n(65717)},67589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("user-prefs").version((0,i.userPrefsCreateTable)(),[n("key"),t("value")]).view((e=>e))},t.getUserPrefsTable=function(){return(0,r.getStorage)().table("user-prefs")};var r=n(74557),i=n(20746),o=n(65717)},99801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,removeColumn:a}=(0,o.columnBuilder)(e.config);e.add("verified-business-name").version((0,i.verifiedBusinessNameCreateTable)(),[n("id"),t("serial"),t("name"),t("isApi"),t("level"),t("actualActors"),t("hostStorage"),t("privacyModeTs")]).version((0,i.verifiedBusinessNameAddPrivacyMode)(),[t("privacyMode"),a("actualActors"),a("hostStorage"),a("privacyModeTs")]).version((0,i.verifiedBusinessNameAddSmbColumn)(),[t("isSmb")]).view((e=>e))},t.getVerifiedBusinessNameTable=function(){return(0,r.getStorage)().table("verified-business-name")};var r=n(74557),i=n(20746),o=n(65717)},53098:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceListPK=function(e){switch(e.server){case"lid":return`${e.user}@lid`;case"c.us":case"hosted":return e.user}throw(0,i.default)(`Jid ${e.toString({legacy:!0})} is not fully qualified to create a device list pk, jid.server should be "c.us" or "lid"`)};var i=r(n(89482))},34326:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldDeprecateLidThread=_,t.updateDuplicatedLidThreadBulk=function(){return d.apply(this,arguments)};var i=r(n(48926)),o=n(93040),a=n(42247),s=n(463),l=n(94007),c=r(n(27112)),u=n(51017);function d(){return(d=(0,i.default)((function*(e){if(!(0,s.isMatFullyEnabled)())return;const t=[],n=e.filter((e=>null!=e&&c.default.isLid(e.id)&&!e.isDeprecated)),r=(0,a.getAlternateWidBulkForLids)(n.map((e=>e.id.toString())));n.forEach((n=>{var i;_(n,null!==(i=r.get(n.id.toString()))&&void 0!==i?i:[],e)&&t.push({id:n.id.toString(),isDeprecated:!0})})),0!==t.length&&(yield(0,l.getChatTable)().bulkCreateOrMerge(t).then((()=>{(0,s.isMatCrashLogEnabled)()&&(__LOG__(2)`updateChatIsDeprecatedBulk - true: deprecated ${t.length} chats during offline resume`,__LOG__(3,void 0,void 0,!0)`updateChatIsDeprecatedBulk: deprecating lid chats `,SEND_LOGS("deprecating-lid-chat-pnh-ctwa-mat"))})))}))).apply(this,arguments)}function _(e,t,n){if(!c.default.isLid(e.id)||0===t.length)return!1;if(!0===e.isDeprecated)return __LOG__(3,void 0,void 0,!0)`shouldDeprecateLidThread: called with deprecated chatid`,SEND_LOGS("deprecating-lid-chat-pnh-ctwa-mat"),!0;const r=t.some((e=>n.some((t=>(null==t?void 0:t.id)===e))));return r&&(0,o.updateDeprecatedChatMatCache)((0,u.createWid)(e.id),r),r}},71752:(e,t,n)=>{"use strict";var r=n(95318);t.j2=function(){null==d&&((0,a.createStorage)(),(0,u.addTable)(),(0,s.addTable)(),(0,l.addTable)(),(0,c.addTable)(),d=(0,a.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize offd storage"),e})));return d};var i=r(n(46808)),o=n(49363),a=n(7230),s=n(59516),l=n(91123),c=n(93038),u=n(16882);let d},85995:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.updatePeerReceipts=function(){return g.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(44037),s=n(77630),l=n(1619),c=n(11779),u=n(74557),d=n(26368),_=r(n(60001)),p=n(41307),f=n(62162),E=n(10139),A=n(91123);function g(){return(g=(0,o.default)((function*(){f.QPL.markerPoint(p.QuickLogMarkerId.OFFLINE_RESUME,"UpdatePeerReceipts_start");const e=yield(0,A.getTable)().all(),t=[],n=[];e.forEach((e=>{e.ack===s.ACK.READ?t.push(e):e.ack===s.ACK.PLAYED?n.push(e):__LOG__(3)`updatePeerReceipts: unknown ack type: ${e.ack}`}));const{chatUpdates:r,ackUpdates:o}=yield h(t),a=new Map(o.map((e=>[e.id,e])));m(n).forEach((e=>{const t=a.get(e.id);null==t?a.set(e.id,e):a.set(e.id,(0,i.default)((0,i.default)({},t),{},{ack:e.ack}))}));const d=Array.from(a.values());return(0,l.frontendFireAndForget)("updateOfflinePeerReceipt",{chatUpdates:r.map((e=>{var t;return{chatId:e.id,unreadCount:e.unreadCount,unreadMentionsOfMe:null!==(t=e.unreadMentionsOfMe)&&void 0!==t?t:[]}})),ackUpdates:d.map((e=>({msgKey:e.id,ack:e.ack})))}),yield Promise.all([(0,u.getStorage)().lock(["message","chat"],(e=>{let[t,n]=e;return Promise.all([t.bulkCreateOrMerge(d),n.bulkCreateOrMerge(r)])})).then((()=>{})),(0,c.markUnclassifiedAddOnsAsReadJob)(Array.from(T(t)).map((e=>_.default.from(e)))).then((()=>{}))]),(0,A.getTable)().clear().then((()=>{f.QPL.markerPoint(p.QuickLogMarkerId.OFFLINE_RESUME,"UpdatePeerReceipts_end")}))}))).apply(this,arguments)}function h(){return S.apply(this,arguments)}function S(){return(S=(0,o.default)((function*(e){const t=T(e),n=new Map(e.flatMap((e=>e.msgKeys)).map(c).filter((e=>e!==a.STATUS_JID)).map((e=>[e,{unreadCount:0,lastUnreadMsgRowId:void 0,unreadMentionsOfMe:[],unreadMentionCount:0}])));const r=Array.from(n.keys()),i=yield(0,E.getMessageTable)().anyOf(["from","pendingReadReceipt"],r.map((e=>[e,1])),{shouldDecrypt:!1});i.forEach((e=>function(e,n){const{rowId:r,id:i}=n;if(null==e||null==r)return;t.has(i)&&(null==e.lastUnreadMsgRowId||r>e.lastUnreadMsgRowId)&&(e.lastUnreadMsgRowId=r)}(n.get(e.from),e))),i.forEach((e=>function(e,t){const{rowId:n}=t;if(null==e||null==n||null==e.lastUnreadMsgRowId)return;if(n>e.lastUnreadMsgRowId&&(e.unreadCount+=1,(0,d.getIsImportantMessage)(t))){const n={id:t.id,timestamp:t.t};e.unreadMentionsOfMe.push(n)}}(n.get(e.from),e)));const o=i.flatMap((e=>{const{rowId:t}=e,r=n.get(e.from);return null==r||null==t||null==r.lastUnreadMsgRowId?[]:t<=r.lastUnreadMsgRowId?[{id:e.id,ack:s.ACK.READ,pendingReadReceipt:null}]:[]})).concat((l=t,Array.from(l).filter((e=>c(e)===a.STATUS_JID)).map((e=>({id:e,ack:s.ACK.READ})))));var l;return{chatUpdates:r.map((e=>{const t=n.get(e);return null!=t&&null!=t.lastUnreadMsgRowId?{id:e,unreadCount:t.unreadCount,unreadMentionsOfMe:t.unreadMentionsOfMe}:null})).filter(Boolean),ackUpdates:o};function c(e){return _.default.fromString(e).remote.toString()}}))).apply(this,arguments)}function T(e){return new Set(e.flatMap((e=>e.msgKeys)))}function m(e){const t=new Set;return e.forEach((e=>{e.ack===s.ACK.PLAYED&&e.msgKeys.forEach((e=>t.add(e)))})),Array.from(t).map((e=>({id:e,ack:s.ACK.PLAYED,pendingReadReceipt:null})))}},7230:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_NAME=void 0,t.createStorage=function(){const e=new o.default(u);d=new a.Storage(e),d.addErrorHandler(i.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&s.StorageCmd.trigger("storage_not_enough_space")}))},t.destroyStorage=function(){if(null==d)return Promise.reject((0,l.default)("[offd-storage] Storage should be created first before being destroyed"));return d.purge().then((()=>{d=null})).catch((e=>{throw d=null,e}))},t.getStorage=function(){return(0,c.default)(null!=d,"[offd-storage] Storage should be created first before being accessed"),d};var i=r(n(46808)),o=r(n(96801)),a=n(21820),s=n(51882),l=r(n(89482)),c=r(n(41143));const u="offd-storage";t.DATABASE_NAME=u;let d=null},99692:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addUserToPendingDeviceSync=function(e){return(0,o.getTable)().bulkCreateOrMerge(e.map((e=>({id:e}))))},t.doPendingDeviceSync=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(93038),a=n(51017);function s(){return(s=(0,i.default)((function*(){try{const e=yield(0,o.getTable)().all(),t=n(60223).syncDeviceListJob;yield t(e.map((e=>(0,a.createWid)(e.id))),null,null),yield(0,o.getTable)().bulkRemove(e.map((e=>e.id)))}catch(e){__LOG__(4,!0,new Error)`doPendingDeviceSync failed during RESUME_WITH_OPEN_TAB`}}))).apply(this,arguments)}},59516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("dangling-receipt").version((0,r.getStorage)().versions.version(1),[a("id"),o("receipts")]).view((e=>({id:e.id,receipts:e.receipts})))},t.getTable=function(){return(0,r.getStorage)().table("dangling-receipt")};var r=n(7230),i=n(65717);const{addColumn:o,addAutoIncrementingPrimaryKey:a}=(0,i.columnBuilder)()},91123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("peer-read-receipt").version((0,r.getStorage)().versions.version(2),[a("id"),o("msgKeys"),o("ts"),o("ack")]).view((e=>({id:e.id,ts:e.ts,msgKeys:e.msgKeys,ack:e.ack})))},t.getTable=function(){return(0,r.getStorage)().table("peer-read-receipt")};var r=n(7230),i=n(65717);const{addColumn:o,addAutoIncrementingPrimaryKey:a}=(0,i.columnBuilder)()},93038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("pending-device-sync").version((0,r.getStorage)().versions.version(4),[o("id")]).view((e=>({id:e.id})))},t.getTable=function(){return(0,r.getStorage)().table("pending-device-sync")};var r=n(7230),i=n(65717);const{addUserDefinedPrimaryKey:o}=(0,i.columnBuilder)()},16882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("read-receipt").version((0,r.getStorage)().versions.version(0),[a("id"),o("externalIds")]).delete((0,r.getStorage)().versions.version(3)).view((e=>({id:e.id,externalIds:e.externalIds})))},t.getTable=function(){return(0,r.getStorage)().table("read-receipt")};var r=n(7230),i=n(65717);const{addColumn:o,addUserDefinedPrimaryKey:a}=(0,i.columnBuilder)()},32793:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WRITE_THROTTLE_INTERVAL=void 0,t.add=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.getABKey)()||"abkey";_=_.concat(e.map(f(t))),p()},t.clear=function(){return m.apply(this,arguments)},t.createRows=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.getABKey)()||"abkey";return e.map(f(t))},t.deleteRange=I,t.getFromBottom=g,t.rowCount=S;var i=r(n(48926)),o=r(n(23493)),a=n(73972),s=n(28123),l=n(33552),c=n(67968);t.WRITE_THROTTLE_INTERVAL=200;const u=1e5,d=parseInt(s.BUILD_ID,10)||0;let _=[];const p=(0,o.default)((()=>v()),200);function f(e){return function(t){return function(e,t){return{marker_id:e.marker_id,method:e.method,action_id:e.action_id,duration_ns:e.duration_ns,marker_type:e.marker_type,sample_rate:e.sample_rate,points:e.points,instance_id:e.instance_id,metadata:e.metadata||{application_analytics:{time_since_qpl_module_init:0}},flags:e.flags,annotations_bool_array:e.annotations_bool_array,annotations_bool:e.annotations_bool,annotations_double_array:e.annotations_double_array,annotations_double:e.annotations_double,annotations_int_array:e.annotations_int_array,annotations_int:e.annotations_int,annotations_string_array:e.annotations_string_array,annotations:e.annotations,app_version:s.VERSION_BASE,app_build_number:d,wa_ab_key2:t}}(t,e)}}function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(){try{yield(0,c.initialize)()}catch(e){throw __LOG__(4,!0,new Error,!0)`QPL Storage, error calling initializeQplStorage, error ${e}`,SEND_LOGS("QPL Storage init error"),e}}))).apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){return yield E(),(0,c.getQplEventsTable)().all({limit:e,offset:0})}))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=(0,i.default)((function*(){return yield E(),(0,c.getQplEventsTable)().count()}))).apply(this,arguments)}function m(){return(m=(0,i.default)((function*(){return yield E(),(0,c.getQplEventsTable)().clear(!0)}))).apply(this,arguments)}function I(){return y.apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e,t){return yield E(),(0,c.getQplEventsTable)().bulkDeleteRange(["id"],e-1,t+1).then((()=>{}))}))).apply(this,arguments)}let C=null;function v(){return O.apply(this,arguments)}function O(){return(O=(0,i.default)((function*(){if(yield E(),C)C.then(v);else if(_.length>0){const e=_;_=[];try{const t=yield S();if(t+e.length>u){(0,l.maxStorageEventCountReached)();const n=t+e.length-u;yield P(n)}}catch(e){return __LOG__(4,!0,new Error,!0)`QPL Storage, error during checking for excessive events ${e}`,void SEND_LOGS("QPL Storage, error saving events")}C=(0,c.getQplEventsTable)().bulkCreate(e).then((()=>{C=null})).catch((e=>{__LOG__(4,!0,new Error,!0)`QPL Storage, error saving events ${e}`,SEND_LOGS("QPL Storage, error saving events"),C=null}))}}))).apply(this,arguments)}function P(){return N.apply(this,arguments)}function N(){return(N=(0,i.default)((function*(e){const t=yield g(e),n=t[0].id||0,r=t[t.length-1].id||0;yield I(n,r)}))).apply(this,arguments)}},67968:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.destroy=function(){return(0,a.destroyStorage)().catch((()=>(0,o.dexieCastToPromise)(new i.default(a.DATABASE_NAME).delete()))).finally((()=>{l=null}))},Object.defineProperty(t,"getQplEventsTable",{enumerable:!0,get:function(){return s.getTable}}),t.initialize=function(){null==l&&((0,a.createStorage)(),(0,s.addTable)(),l=(0,a.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize qpl storage"),e})));return l};var i=r(n(46808)),o=n(49363),a=n(27162),s=n(49007);let l},27162:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_NAME=void 0,t.createStorage=function(){const e=new o.default(u);d=new a.Storage(e),d.addErrorHandler(i.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&s.StorageCmd.trigger("storage_not_enough_space")}))},t.destroyStorage=function(){if(null==d)return Promise.reject((0,l.default)("[qpl-storage] Storage should be created first before being destroyed"));return d.purge().then((()=>{d=null})).catch((e=>{throw d=null,e}))},t.getStorage=function(){return(0,c.default)(null!=d,"[qpl-storage] Storage should be created first before being accessed"),d};var i=r(n(46808)),o=r(n(96801)),a=n(21820),s=n(51882),l=r(n(89482)),c=r(n(41143));const u="qpl-storage";t.DATABASE_NAME=u;let d=null},9317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplEventsCreateTable=function(){return(0,r.getStorage)().versions.version(0)};var r=n(27162)},49007:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("qpl-events").version((0,i.qplEventsCreateTable)(),[s("id"),a("marker_id"),a("instance_id"),a("action_id"),a("sample_rate"),a("method"),a("duration_ns"),a("points"),a("metadata"),a("marker_type"),a("flags"),a("annotations"),a("annotations_double"),a("annotations_int"),a("annotations_bool"),a("annotations_string_array"),a("annotations_double_array"),a("annotations_int_array"),a("annotations_bool_array"),a("app_version"),a("app_build_number"),a("wa_ab_key2")]).view((e=>e))},t.getTable=function(){return(0,r.getStorage)().table("qpl-events")};var r=n(27162),i=n(9317),o=n(65717);const{addColumn:a,addAutoIncrementingPrimaryKey:s}=(0,o.columnBuilder)()},73804:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.destroy=function(){return(0,p.destroyStorage)().catch((()=>(0,o.dexieCastToPromise)(new i.default(p.DATABASE_NAME).delete()))).finally((()=>{f=null}))},Object.defineProperty(t,"getBaseKeyTable",{enumerable:!0,get:function(){return a.getTable}}),Object.defineProperty(t,"getIdentityTable",{enumerable:!0,get:function(){return s.getTable}}),Object.defineProperty(t,"getMetaTable",{enumerable:!0,get:function(){return l.getTable}}),Object.defineProperty(t,"getPreKeyTable",{enumerable:!0,get:function(){return c.getTable}}),Object.defineProperty(t,"getSenderKeyTable",{enumerable:!0,get:function(){return u.getTable}}),Object.defineProperty(t,"getSessionTable",{enumerable:!0,get:function(){return d.getTable}}),Object.defineProperty(t,"getSignedPreKeyTable",{enumerable:!0,get:function(){return _.getTable}}),t.initialize=function(){null==f&&((0,p.createStorage)(),(0,a.addTable)(),(0,s.addTable)(),(0,l.addTable)(),(0,c.addTable)(),(0,u.addTable)(),(0,d.addTable)(),(0,_.addTable)(),f=(0,p.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize signal storage"),e})));return f};var i=r(n(46808)),o=n(49363),a=n(15067),s=n(40303),l=n(92673),c=n(26886),u=n(30297),d=n(54438),_=n(63144),p=n(32954);let f},32954:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_NAME=void 0,t.createStorage=function(){const e=new o.default(u);d=new a.Storage(e),d.addErrorHandler(i.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&s.StorageCmd.trigger("storage_not_enough_space")}))},t.destroyStorage=function(){if(null==d)return Promise.reject((0,l.default)("[signal-storage] Storage should be created first before being destroyed"));return d.purge().then((()=>{d=null})).catch((e=>{throw d=null,e}))},t.getStorage=function(){return(0,c.default)(null!=d,"[signal-storage] Storage should be created first before being accessed"),d};var i=r(n(46808)),o=r(n(96801)),a=n(21820),s=n(51882),l=r(n(89482)),c=r(n(41143));const u="signal-storage";t.DATABASE_NAME=u;let d=null},53758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseKeyCreateTable=function(){return(0,r.getStorage)().versions.version(5)},t.identityCreateTable=function(){return(0,r.getStorage)().versions.version(0)},t.metaCreateTable=function(){return(0,r.getStorage)().versions.version(1)},t.preKeyCreateTable=function(){return(0,r.getStorage)().versions.version(2)},t.senderKeyCreateTable=function(){return(0,r.getStorage)().versions.version(6)},t.sessionCreateTable=function(){return(0,r.getStorage)().versions.version(3)},t.signedPreKeyCreateTable=function(){return(0,r.getStorage)().versions.version(4)};var r=n(32954)},15067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("baseKey-store").version((0,i.baseKeyCreateTable)(),[s("id"),a("address"),a("originalMsgId"),a("baseKey"),l(["address","originalMsgId"])]).view((e=>({id:e.id,address:e.address,originalMsgId:e.originalMsgId,baseKey:e.baseKey})))},t.getTable=function(){return(0,r.getStorage)().table("baseKey-store")};var r=n(32954),i=n(53758),o=n(65717);const{addColumn:a,addAutoIncrementingPrimaryKey:s,addCompositeIndex:l}=(0,o.columnBuilder)()},40303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("identity-store").version((0,i.identityCreateTable)(),[s("identifier"),a("identityKey"),a("rowId")]).view((e=>({identifier:e.identifier,identityKey:e.identityKey,rowId:e.rowId})))},t.getTable=function(){return(0,r.getStorage)().table("identity-store")};var r=n(32954),i=n(53758),o=n(65717);const{addColumn:a,addUserDefinedPrimaryKey:s}=(0,o.columnBuilder)()},92673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("signal-meta-store").version((0,i.metaCreateTable)(),[s("key"),a("value")]).view((e=>({key:e.key,value:e.value})))},t.getTable=function(){return(0,r.getStorage)().table("signal-meta-store")};var r=n(32954),i=n(53758),o=n(65717);const{addColumn:a,addUserDefinedPrimaryKey:s}=(0,o.columnBuilder)()},26886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("prekey-store").version((0,i.preKeyCreateTable)(),[s("keyId"),a("keyPair"),a("isDirectDistribution")]).view((e=>({keyId:e.keyId,keyPair:e.keyPair,isDirectDistribution:e.isDirectDistribution})))},t.getTable=function(){return(0,r.getStorage)().table("prekey-store")};var r=n(32954),i=n(53758),o=n(65717);const{addColumn:a,addAutoIncrementingPrimaryKey:s}=(0,o.columnBuilder)()},30297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("senderkey-store").version((0,i.senderKeyCreateTable)(),[s("senderKeyName"),a("senderKey"),a("senderId"),l("senderId")]).view((e=>({senderKeyName:e.senderKeyName,senderKey:e.senderKey,senderId:e.senderId})))},t.getTable=function(){return(0,r.getStorage)().table("senderkey-store")};var r=n(32954),i=n(53758),o=n(65717);const{addColumn:a,addUserDefinedPrimaryKey:s,addIndex:l}=(0,o.columnBuilder)()},54438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("session-store").version((0,i.sessionCreateTable)(),[s("address"),a("session")]).view((e=>({address:e.address,session:e.session})))},t.getTable=function(){return(0,r.getStorage)().table("session-store")};var r=n(32954),i=n(53758),o=n(65717);const{addColumn:a,addUserDefinedPrimaryKey:s}=(0,o.columnBuilder)()},63144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("signed-prekey-store").version((0,i.signedPreKeyCreateTable)(),[s("keyId"),a("keyPair"),a("signature")]).view((e=>({keyId:e.keyId,keyPair:e.keyPair,signature:e.signature})))},t.getTable=function(){return(0,r.getStorage)().table("signed-prekey-store")};var r=n(32954),i=n(53758),o=n(65717);const{addColumn:a,addAutoIncrementingPrimaryKey:s}=(0,o.columnBuilder)()},56858:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ENC_KEY_TTL=t.ENC_KEY_TABLE_NAME=t.ENC_KEY_DB_NAME=t.DbEncKeyStore=t.DB_ENCRYPTION_CIPHER=void 0;var i=r(n(81109)),o=r(n(48926)),a=n(62089),s=n(31630),l=n(29987),c=r(n(46808)),u=n(49363),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(91329)),_=r(n(89482)),p=r(n(41143));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const E="wawc_db_enc";t.ENC_KEY_DB_NAME=E;const A="keys";t.ENC_KEY_TABLE_NAME=A;const g={name:"HKDF"},h={hash:"SHA-256"},S=4*l.WEEK_MILLISECONDS*24;t.ENC_KEY_TTL=S;const T="fts_hmac_keys",m="AES-CBC";t.DB_ENCRYPTION_CIPHER=m;function I(){const e=new Uint8Array(128);return self.crypto.getRandomValues(e),self.crypto.subtle.importKey("raw",e,g,!1,["deriveKey"])}const y=new class{constructor(){var e=this;this._waitUntilFinalDbEncKeyReady=new s.Resolvable,this._waitUntilFinalFtsHmacKeyReady=new s.Resolvable,this._getOrUpdateEncKeys=e=>this._getDbOrThrow().keys.orderBy("id").toArray().then((t=>{if(!t||0===t.length)return this._addNewEncKey(e);const n=t[t.length-1]._expiration;if(null!=n&&n<=(new Date).getTime())return this._addNewEncKey(e);this._ephemeralLocalEncSalt=e;const r=t.map(function(){var t=(0,o.default)((function*(t){const n=yield self.crypto.subtle.deriveKey((0,i.default)((0,i.default)((0,i.default)({},g),h),{},{salt:e,info:new Uint8Array(1)}),t.key,{name:m,length:128},!1,["encrypt","decrypt"]);return(0,i.default)((0,i.default)({},t),{},{key:n})}));return function(){return t.apply(this,arguments)}}());return Promise.all(r).then((e=>{this._keys=e}))})),this._getOrUpdateFtsKey=()=>this._getDbOrThrow().fts_hmac_keys.orderBy("id").toArray().then((e=>{if(!e||0===e.length)return this._addNewFtsHMACKey();if(e.length>1)throw new d.DBInvalidFtsHMACKey;this._ftsHMACKey=e[e.length-1]})),this._addNewEncKey=e=>I().then((t=>this._getDbOrThrow().keys.add({key:t,_expiration:(new Date).getTime()+S}).then((()=>this._getOrUpdateEncKeys(e))))),this._addNewFtsHMACKey=()=>I().then((e=>this._getDbOrThrow().fts_hmac_keys.add({key:e}).then((()=>this._getOrUpdateFtsKey())))),this.generateFinalDbEncryptionAndFtsKey=e=>{if(null!=this._finalDbMsgEncKeys||null==this._ephemeralLocalEncSalt)return Promise.resolve();const t=(0,a.decodeB64)(e);return this._generateFinalFtsHmacKey(t),this._generateFinalDbMsgEncryptionKey(t),Promise.resolve()},this._generateFinalDbMsgEncryptionKey=t=>this._getDbOrThrow().keys.orderBy("id").toArray().then((n=>{const r=n.map(function(){var n=(0,o.default)((function*(n){let r;(0,p.default)(null!=e._ephemeralLocalEncSalt,"local salt is undefined");try{r=yield self.crypto.subtle.deriveKey((0,i.default)((0,i.default)((0,i.default)({},g),h),{},{salt:t,info:new Uint8Array(e._ephemeralLocalEncSalt||0)}),n.key,{name:m,length:128},!1,["encrypt","decrypt"])}catch(t){throw e._ephemeralLocalEncSalt=null,t}return(0,i.default)((0,i.default)({},n),{},{key:r})}));return function(){return n.apply(this,arguments)}}());return Promise.all(r).then((e=>{this._ephemeralLocalEncSalt=null,this._finalDbMsgEncKeys=e,this._waitUntilFinalDbEncKeyReady.resolve()}))})).finally((()=>{this._ephemeralLocalEncSalt=null})),this._generateFinalFtsHmacKey=function(){var t=(0,o.default)((function*(t){if(!e._ftsHMACKey||null==e._ftsHMACKey.key||null==e._ftsHMACKey.id)throw __LOG__(2)`Base ftsHMACKey is null in _generateFinalFtsHmacKey`,new d.DBInvalidFtsHMACKey;const[n,r]=[e._ftsHMACKey.id,e._ftsHMACKey.key],o=yield self.crypto.subtle.deriveKey((0,i.default)((0,i.default)((0,i.default)({},g),h),{},{salt:t,info:new Uint8Array(0)}),r,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);e._finalFtsHmacKey={id:n,key:o},e._waitUntilFinalFtsHmacKeyReady.resolve()}));return function(){return t.apply(this,arguments)}}()}init(e){if(this._db)return Promise.resolve();this._db=new c.default(E),this._getDbOrThrow().version(1).stores({[A]:"++id, _expirtation",[T]:"++id"}),this._getDbOrThrow().version(2).stores({[A]:"++id",[T]:"++id"});const t=e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset);return(0,u.dexieCastToPromise)(this._getDbOrThrow().open()).then((()=>Promise.all([this._getOrUpdateEncKeys(t),this._getOrUpdateFtsKey()])))}_getDbOrThrow(){if(null==this._db)throw(0,_.default)("[db_encryption_key] db is not initialized");return this._db}deleteKeys(){return Promise.all([this._getDbOrThrow().table(A).clear(),this._getDbOrThrow().table(T).clear()]).then((()=>{})).finally((()=>(this._db=null,(0,u.dexieCastToPromise)(c.default.delete(E)).catch((()=>c.default.delete(E))))))}resetDB(){var e;null===(e=this._db)||void 0===e||e.close(),this._db=null}deleteKeyCache(){this._keys=null,this._ftsHMACKey=null,this._finalDbMsgEncKeys=null,this._waitUntilFinalDbEncKeyReady=new s.Resolvable,this._waitUntilFinalFtsHmacKeyReady=new s.Resolvable,this._finalFtsHmacKey=null,this._ephemeralLocalEncSalt=null}waitForFinalDbMsgEncKey(){return this._waitUntilFinalDbEncKeyReady.promise}waitForFinalFtsHmacKey(){return this._waitUntilFinalFtsHmacKeyReady.promise}getEncKeys(){if(!this._keys)throw new d.DbEncKeyNotLoaded(A);return this._keys}getDbMsgEncKeys(e){if(!this._finalDbMsgEncKeys)throw new d.DbMsgEncKeyNotLoaded(e.tableName);return this._finalDbMsgEncKeys}getFtsHMACKey(){if(!this._finalFtsHmacKey)throw new d.DbEncKeyNotLoaded(T);return this._finalFtsHmacKey}};t.DbEncKeyStore=y},49363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dexieCastToPromise=function(e){return Promise.resolve(e)}},51882:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StorageCmdImpl=t.StorageCmd=void 0;var i=r(n(7880));class o extends i.default{}t.StorageCmdImpl=o;const a=new o;t.StorageCmd=a},83750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyVersions=function(e){e.version(1).stores({logs:"line,log"}),e.version(2).stores({logs:"line,log",assets:"key,hash,data"}),e.version(3).stores({logs:"line,log",assets:"key,hash,data",wam:",buffer,prevValues,lastSend"}),e.version(4).stores({logs:"line,log",assets:"key,hash,data",wam:",key,buffer",l10n:"key,hash,t"}),e.version(5).stores({logs:"line,log",assets:null,wam:",key,buffer",l10n:"key,hash,t"}),e.version(6).stores({logs:"line,log,timestamp",wam:",key,buffer",l10n:"key,hash,t"}),e.version(7).stores({logs:"line,log,timestamp",wam:",key,buffer",l10n:"key,hash,t",user:"key"}),e.version(8).stores({logs:"line,log,timestamp",wam:",key,buffer,channel",l10n:"key,hash,t",user:"key"}),e.version(9).stores({logs:"line,log,timestamp",wam:",key,buffer,channel",wam_meta:"streamId,seqNum",l10n:"key,hash,t",user:"key"}),e.version(10).stores({logs:"line,log,timestamp",wam:",key,buffer,channel",wam_meta:"streamId,seqNum",ps_meta:"key, value, rotateInDays, lastRotationTimeUtc",ps_tokens:"key",l10n:"key,hash,t",user:"key"}),e.version(11).stores({logs:"line,log,timestamp",wam:",key,buffer,channel",wam_meta:"streamId,seqNum",ps_meta:"key, value, rotateInDays, lastRotationTimeUtc",ps_tokens:"key",l10n:"key,hash,t",user:"key",core_wam:"key, streamId",core_wam_meta:"streamId"}),e.version(12).stores({logs:"line,log,timestamp",wam:",key,buffer,channel",wam_meta:"streamId,seqNum",ps_meta:"key, value, rotateInDays, lastRotationTimeUtc",ps_tokens:"key",l10n:"key,hash,t",user:"key",core_wam:"key, streamId",core_wam_meta:"streamId",worker_wam_events:"++id"}),e.version(13).stores({logs:"line,timestamp"}),e.version(14).stores({logs:"line,timestamp,&count"})}},62419:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(66911),o=n(81408),a=n(77689),s=r(n(46808)),l=n(21561),c=n(95160),u=n(88745),d=n(83750),_=n(74939),p=r(n(89482));const f={ERROR:"error",OPENING:"opening",BLOCKED:"blocked",OPEN:"open",CLOSED:"closed",FAILED:"failed"};let E=!1,A=null;function g(){this._dbName=l.WEB_IDB_DB_NAMES.wawc,this._db=new s.default(this._dbName),this._db.on("versionchange",(e=>{this._db.close(),__LOG__(2)`db: close db due to versionchange`,e&&null!=e.newVersion&&e.newVersion!==e.oldVersion&&(E=!0,A&&A())})),(0,d.applyVersions)(this._db),this.openAttempt=0,this.openDB().catch((e=>{__LOG__(3)`openDB failed: ${e}`})),this._dbState=f.OPENING}g.prototype.loadUserIdb=function(){return this.idb().then((e=>e.transaction("rw",e.user,(()=>e.user.toArray().then((e=>e.forEach((e=>{this.permanentStorage.dataStore[e.key]=e.value})))))))).catch((e=>{__LOG__(3)`db:loadUserIdb:Error ${e}`}))},g.prototype.openDB=function(){this._db.isOpen()&&(this._db.close(),__LOG__(2)`db: close db due to duplicate openDB`);const e=(0,a.promiseTimeout)(Promise.resolve(this._db.open()),1e4).then((()=>{(0,c.isWorker)()?__LOG__(2)`db: Successfully opened db in worker thread`:__LOG__(2)`db: Successfully opened db in main thread`;return new _.WebcDbOpenWamEvent({webcDbName:this._dbName,webcDbOpenWasSuccess:!0,webcDbOpenNumAttempts:this.openAttempt}).commit(),this._dbState=f.OPEN,f.OPEN})).catch((0,o.filteredCatch)(i.TimeoutError,(()=>{__LOG__(2)`db:openDB blocked in ${(0,c.isWorker)()?"worker":"main"} thread`;return new _.WebcDbOpenWamEvent({webcDbName:this._dbName,webcDbOpenWasSuccess:!1,webcDbOpenNumAttempts:this.openAttempt}).commit(),this._dbState=f.BLOCKED,f.BLOCKED}))).catch((e=>{if(__LOG__(3)`db:openDB:Error ${e}`,this.openAttempt>1||u.UA.isSafari){this.opening=void 0,this._dbState=f.ERROR;throw new _.WebcDbOpenWamEvent({webcDbName:this._dbName,webcDbOpenWasSuccess:!1,webcDbOpenNumAttempts:this.openAttempt}).commit(),f.ERROR}return this.openAttempt+=1,this._db.delete().catch((e=>{throw __LOG__(3)`db:deleteDB:Error ${e}`,this.opening=void 0,this._dbState=f.ERROR,f.ERROR})).then((()=>this.openDB()))})).then((e=>{if(this.opening=void 0,e===f.BLOCKED)throw f.BLOCKED;return this._db}));return this.opening||(this.opening=e),e},g.prototype.idb=function(){return this._db.isOpen()?Promise.resolve(this._db):this._db.hasFailed()?(__LOG__(3)`Dexie: database failed to open, hasClosed ${this._db.hasBeenClosed()}`,Promise.reject((0,p.default)(f.FAILED))):this._dbState===f.BLOCKED?(__LOG__(3)`Dexie: database is blocked`,Promise.reject((0,p.default)(f.BLOCKED))):this.opening?this.opening:(__LOG__(3)`Dexie: database is closed`,Promise.reject((0,p.default)(f.CLOSED)))},g.prototype.onVersionChange=function(e){A=e,E&&A()},g.prototype.State=f;var h=new g;t.default=h},84146:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.provideDb=function(){return a};var i=r(n(46808)),o=n(83750);const a=new i.default("wawc");(0,o.applyVersions)(a)},49814:(e,t,n)=>{"use strict";var r=n(95318);t.j2=function(){null==u&&((0,l.createStorage)(),(0,s.addTable)(),(0,a.addTable)(),u=(0,l.getStorage)().initialize().catch((e=>{throw __LOG__(4,!0,new Error,!0)`Assertion failed!`,SEND_LOGS("Failed to initialize worker storage"),e})));return u};var i=r(n(46808)),o=n(49363),a=n(33584),s=n(88604),l=n(97935),c=r(n(41143));let u;i.default.Promise.PSD.onunhandled=()=>{},i.default.Promise.PSD.txRelaxedDurabilityEnabled=!0,(0,c.default)(!0,"only for use in worker")},97935:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_NAME=void 0,t.createStorage=function(){const e=new o.default(u);d=new a.Storage(e),d.addErrorHandler(i.default.AbortError,(e=>{e.message.includes("QuotaExceededError")&&s.StorageCmd.trigger("storage_not_enough_space")}))},t.destroyStorage=function(){if(null==d)return Promise.reject((0,l.default)("[worker-storage] Storage should be created first before being destroyed"));return d.purge().then((()=>{d=null})).catch((e=>{throw d=null,e}))},t.getStorage=function(){return(0,c.default)(null!=d,"[worker-storage] Storage should be created first before being accessed"),d};var i=r(n(46808)),o=r(n(96801)),a=n(21820),s=n(51882),l=r(n(89482)),c=r(n(41143));const u="worker-storage";t.DATABASE_NAME=u;let d=null;(0,c.default)(!0,"only for use in worker")},78366:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.deferredMessagesStorageCreateTable=function(){return(0,i.getStorage)().versions.version(1)},t.localStorageCreateTable=function(){return(0,i.getStorage)().versions.version(0)};var i=n(97935);(0,r(n(41143)).default)(!0,"only for use in worker")},20386:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(33584),a=n(97935);(0,r(n(41143)).default)(!0,"only for use in worker");var s={getDeferredMessages:function(){return(0,o.getTable)().all().then((e=>e.map((e=>({id:e.id,type:e.type,plaintext:e.plaintext,info:e.info,paymentInfo:e.paymentInfo,bizInfo:e.bizInfo})))))},updateDeferredMessages:function(e){const t=e.map((e=>({id:e.id,type:e.type,plaintext:e.plaintext,info:e.info,paymentInfo:e.paymentInfo,bizInfo:e.bizInfo})));return(0,a.getStorage)().lock(["deferred_messages"],function(){var e=(0,i.default)((function*(e){let[n]=e;yield n.bulkCreateOrReplace(t)}));return function(){return e.apply(this,arguments)}}())},deleteDeferredMessage:function(e){return(0,o.getTable)().remove(e)},clearDeferredMessages:function(){return(0,o.getTable)().clear()}};t.default=s},72236:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearLocalStorage=function(){return(0,o.getTable)().clear()},t.getLocalStorage=function(){return(0,o.getTable)().all().then((e=>e.map((e=>({key:e.key,value:e.value})))))},t.getLocalStorageValue=function(e){return(0,o.getTable)().get(e).then((e=>null==e?void 0:e.value))},t.updateLocalStorage=function(e){const t=e.map((e=>({key:e.key,value:e.value})));return(0,a.getStorage)().lock(["local_storage"],function(){var e=(0,i.default)((function*(e){let[n]=e;yield n.clear(),yield n.bulkCreateOrReplace(t)}));return function(){return e.apply(this,arguments)}}())};var i=r(n(48926)),o=n(88604),a=n(97935);(0,r(n(41143)).default)(!0,"only for use in worker")},33584:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,a.getStorage)().add("deferred_messages").version((0,s.deferredMessagesStorageCreateTable)(),[d("id"),c("type"),u("plaintext",o.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER),c("info"),c("paymentInfo"),c("bizInfo")]).view((e=>({id:e.id,type:e.type,plaintext:e.plaintext,info:e.info,paymentInfo:e.paymentInfo,bizInfo:e.bizInfo}))).useDbMsgEncKeyForEncryptedCol(!0)},t.getTable=function(){return(0,a.getStorage)().table("deferred_messages")};var i=n(65717),o=n(8065),a=n(97935),s=n(78366),l=r(n(41143));const{addColumn:c,addEncryptedColumn:u,addUserDefinedPrimaryKey:d}=(0,i.columnBuilder)();(0,l.default)(!0,"only for use in worker")},88604:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,o.getStorage)().add("local_storage").version((0,a.localStorageCreateTable)(),[c("key"),l("value")]).view((e=>({key:e.key,value:e.value})))},t.getTable=function(){return(0,o.getStorage)().table("local_storage")};var i=n(65717),o=n(97935),a=n(78366),s=r(n(41143));const{addColumn:l,addUserDefinedPrimaryKey:c}=(0,i.columnBuilder)();(0,s.default)(!0,"only for use in worker")},20692:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(){if((0,c.isSyncdDisabled)())return Promise.resolve();return function(){const e=(0,a.default)(s.reportWam,6e4,{maxWait:18e4});u.Cmd.on(u.APP_STATE_SYNC_COMPLETED,e)}(),g(),(0,s.initializeStateMachine)()},t.lockForSync=function(e,t,n){const r=(0,_.getStorage)().lock([...e,...A],(e=>Promise.all([f.default.appendPendingMutationsRows(t),n(e)]))).then((()=>{const e=t.map((e=>e.collection));(0,s.markCollectionsForSync)(e)}));return Promise.resolve(r)},t.sanitizeActionInSyncActionsRow=g;var i=r(n(81109)),o=r(n(48926)),a=r(n(23279)),s=n(84858),l=n(14381),c=n(93974),u=n(46316),d=r(n(74700)),_=n(74557),p=n(62792),f=r(n(19294)),E=n(35878);const A=["pending-mutations"];function g(){return h.apply(this,arguments)}function h(){return(h=(0,o.default)((function*(){if(!(yield(0,E.getMdSyncActionsActionSanitized)())){__LOG__(2)`syncd: sanitizing null 'action' property in sync-actions table`;const e=(yield(0,p.getSyncActionsTable)().all()).filter((e=>null==e.action)).map((e=>{const t=JSON.parse(e.index)[0];return l.Actions.cast(t)?(0,i.default)((0,i.default)({},e),{},{action:t}):(__LOG__(2)`syncd: invalid action ${t}`,(0,i.default)({},e))}));yield f.default.updateSyncActionRows(e),yield(0,E.setMdSyncActionsActionSanitized)(!0)}}))).apply(this,arguments)}(0,d.default)().then((()=>{(0,c.isSyncdDisabled)()||(0,s.processOnAppResume)()}))},19294:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(48926)),a=n(95124),s=(n(57754),n(948)),l=n(74557),c=n(39618),u=n(45232),d=n(9920),_=n(62792),p=n(9419);n(33655);const f=new ArrayBuffer(a.KEY_LENGTH_BYTES);t.default=class{static getAllPendingMutationsRows(){return(0,d.getPendingMutationsTable)().all()}static performTransaction(e){return(0,l.getStorage)().lock(["collection-version","pending-mutations","sync-actions"],e)}static getPendingMutationsRows(e,t){return(0,d.getPendingMutationsTable)().equals(e,t)}static getPendingMutationsRowsById(e){return(0,o.default)((function*(){return(yield(0,d.getPendingMutationsTable)().bulkGet(e)).filter(Boolean)}))()}static getPendingMutationsRowsByIndex(e,t){return(0,d.getPendingMutationsTable)().equals(e,t)}static appendPendingMutationsRows(e){return(0,d.getPendingMutationsTable)().bulkCreate(e)}static bulkRemovePendingMutations(e){return(0,d.getPendingMutationsTable)().bulkRemove(e)}static hasPendingMutationForCollection(e){return(0,d.getPendingMutationsTable)().equals(["collection"],e).then((e=>e.length>0))}static getCollectionVersion(e){return(0,o.default)((function*(){const t=yield(0,c.getCollectionVersionTable)().get(e);return null==t?void 0:t.version}))()}static getCollectionVersions(e){return(0,o.default)((function*(){const t=yield(0,c.getCollectionVersionTable)().bulkGet(e);return new Map(e.map(((e,n)=>{var r;return[e,null===(r=t[n])||void 0===r?void 0:r.version]})))}))()}static setCollectionVersion(e,t,n){return(0,c.getCollectionVersionTable)().createOrMerge(e,{collection:e,version:t,ltHash:n})}static getLtHash(e){return(0,o.default)((function*(){const t=yield(0,c.getCollectionVersionTable)().get(e);return(null==t?void 0:t.ltHash)||f}))()}static getAllCollectionLtHashes(){return(0,o.default)((function*(){return(yield(0,c.getCollectionVersionTable)().all()).map((e=>({collection:e.collection,ltHash:e.ltHash})))}))()}static getSyncAction(e){return(0,_.getSyncActionsTable)().get(e)}static getSyncActionsRows(e,t){return(0,_.getSyncActionsTable)().anyOf(e,t)}static setSyncAction(e){return(0,_.getSyncActionsTable)().createOrReplace(e)}static setSyncActionRows(e){return(0,_.getSyncActionsTable)().bulkCreateOrReplace(e)}static updateSyncActionRows(e){return(0,_.getSyncActionsTable)().bulkCreateOrMerge(e.map((e=>(0,i.default)({},e))))}static deleteSyncActionRows(e){return(0,_.getSyncActionsTable)().bulkRemove(e)}static getSyncKey(e){return(0,o.default)((function*(){const t=yield(0,p.getSyncKeysTable)().get(new Uint8Array((0,s.fromSyncKeyId)(e)));return null==t?t:(0,p.convertToSyncKeyFromRow)(t)}))()}static getAllSyncKeys(){return(0,p.getSyncKeysTable)().all().then((e=>e.map(p.convertToSyncKeyFromRow)))}static createSyncKey(e){return(0,p.getSyncKeysTable)().create((0,p.convertFromSyncKeyToRow)(e)).then((e=>(0,s.toSyncKeyId)(e.buffer)))}static expireSyncKey(e){return(0,o.default)((function*(){(yield(0,p.getSyncKeysTable)().equals(["keyEpoch"],e)).forEach((e=>(0,p.getSyncKeysTable)().merge(e.keyId,{keyId:e.keyId,timestamp:0})))}))()}static getMissingKey(e){return(0,o.default)((function*(){const t=yield(0,u.getMissingKeysTable)().get(e);return null==t?t:(0,u.convertToMissingKeyFromRow)(t)}))()}static getMissingKeyCount(){return(0,u.getMissingKeysTable)().count()}static bulkGetMissingKeys(e){return(0,u.getMissingKeysTable)().bulkGet(e).then((e=>e.map((e=>null==e?null:(0,u.convertToMissingKeyFromRow)(e)))))}static getAllMissingKeys(){return(0,u.getMissingKeysTable)().all().then((e=>e.map(u.convertToMissingKeyFromRow)))}static bulkRemoveMissingKeys(e){return(0,u.getMissingKeysTable)().bulkRemove(e)}static createOrUpdateMissingKeys(e){return(0,u.getMissingKeysTable)().bulkCreateOrMerge(e.map(u.convertFromMissingKeyToRow))}}},29323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectionNameToMetric=c,t.constructMsgKeySegments=function(e){return s(e.id)},t.constructStarMsgKeyFromMsgKey=function(e){return(0,r.buildIndex)(i.Actions.Star,s(e))},t.extractParticipantForSync=l,t.uploadCriticalEventMetric=function(e,t){const n=new o.MdCriticalEventWamEvent({mdCriticalEventCode:e});null!=t&&(n.collection=c(t));n.commit()};var r=n(40084),i=n(14381),o=n(53868),a=n(8414);function s(e){const t=l(e);return[e.remote.toString({legacy:!0}),e.id,e.fromMe?"1":"0",t]}function l(e){let t="0";return!e.participant||e.remote.isUser()||e.fromMe||(t=e.participant.toString({legacy:!0})),t}function c(e){switch(e){case i.CollectionName.CriticalBlock:return a.COLLECTION.CRITICAL_BLOCK;case i.CollectionName.CriticalUnblockLow:return a.COLLECTION.CRITICAL_UNBLOCK_LOW;case i.CollectionName.Regular:return a.COLLECTION.REGULAR;case i.CollectionName.RegularHigh:return a.COLLECTION.REGULAR_HIGH;case i.CollectionName.RegularLow:return a.COLLECTION.REGULAR_LOW}}},2107:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(3537),a=n(93895),s=n(40084),l=n(14381),c=n(29987),u=n(25303),d=n(20692),_=n(46486);class p extends a.SyncActionBase{constructor(){super(...arguments),this.version=7,this.action=l.Actions.Nux}applyMutations(e){return(0,i.default)((function*(){const t=[],n=e.map((e=>{var n;if("set"!==e.operation)return __LOG__(3)`NuxSync: operation not supported ${e}`,{actionState:l.SyncActionState.Malformed};const r=e.indexParts[1];return(0,u.isString)(r)?(t.push({nuxKey:r,acknowledged:!0===(null===(n=e.value.nuxAction)||void 0===n?void 0:n.acknowledged)}),{actionState:l.SyncActionState.Success}):(__LOG__(3)`NuxSync: malformed mutation ${e}`,{actionState:l.SyncActionState.Malformed})}));return 0!==t.length&&(__LOG__(2)`NuxSync: update nux to local store`,(0,_.updateNuxSyncList)(t)),n}))()}_createNuxMutation(e,t,n){return(0,s.buildPendingMutation)({collection:l.CollectionName.RegularLow,indexArgs:[e],value:{nuxAction:{acknowledged:n}},version:this.version,operation:o.SyncdMutation$SyncdOperation.SET,timestamp:t,action:this.action})}acknowledgeNux(e){var t=this;return(0,i.default)((function*(){yield t._changeNuxState(e,!0)}))()}unAcknowledgeNux(e){var t=this;return(0,i.default)((function*(){yield t._changeNuxState(e,!1)}))()}_changeNuxState(e,t){var n=this;return(0,i.default)((function*(){(0,_.updateNuxSyncList)([{nuxKey:e,acknowledged:t}]);const r=n._createNuxMutation(e,(0,c.unixTimeMs)(),t);yield(0,d.lockForSync)([],[r],(()=>Promise.resolve()))}))()}}const f=new p;Object.freeze(f);var E=f;t.default=E},82074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeMillisecondsToSeconds=function(e){let t=e;try{(0,r.numberOrThrowIfTooLarge)(e)/(0,i.unixTime)()>10?(t=(0,r.numberOrThrowIfTooLarge)(e)/1e3,__LOG__(2)`syncd: maybeMillisecondsToSeconds: adjusting future timestamp`):__LOG__(2)`syncd: maybeMillisecondsToSeconds: no need to adjust timestamp`}catch(t){__LOG__(3)`syncd: maybeMillisecondsToSeconds: messageTimestamp: ${e} too large to cast`}return t};var r=n(22101),i=n(29987)},70118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkAndRemoveActiveMessageRanges=function(e,t){(0,i.getActiveMessageRanges)(e.remote.toString()).then((n=>{n.forEach((n=>{if([a.ActiveRangeAction.Archive,a.ActiveRangeAction.MarkChatAsRead].includes(n.action)&&l(n.actionValue.messageRange,{id:e,t})===o.RangeContain.DOES_NOT_CONTAIN)return(0,i.removeActiveMessageRange)(e.remote.toString(),n.action)}))}))},t.rangeContainsMessage=l;var r=n(22101),i=n(4339),o=n(20919),a=n(45781),s=n(82074);function l(e,t){if(null==e)return __LOG__(3)`syncd: missing message range from row.`,o.RangeContain.DOES_NOT_CONTAIN;const{messages:n,lastMessageTimestamp:i}=e,a=(0,s.maybeMillisecondsToSeconds)(null!=i?i:0);if(a!==(null!=i?i:0)&&(__LOG__(2,void 0,void 0,!0)`syncd: last message timestamp was converted to seconds from ${i}`,SEND_LOGS("syncd: last message timestamp was converted to seconds",.1)),null!=t.t&&t.t<(0,r.numberOrThrowIfTooLarge)(a))return o.RangeContain.CONTAINS_BY_TIMESTAMP;const l=t.id;for(const{key:e}of n)if(null!=e&&null!=l&&e.id===l.id)return o.RangeContain.CONTAINS_BY_ADDITIONAL;return o.RangeContain.DOES_NOT_CONTAIN}},53952:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleForActiveMessageRange=y,t.handleOfflineForMessageRange=function(){return v.apply(this,arguments)};var i=r(n(48926)),o=n(57754),a=n(70118),s=n(4339),l=n(20919),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(52829)),u=n(73602),d=n(45781),_=r(n(19294)),p=n(29323),f=n(51017),E=n(33655);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const g=new Set,h=e=>e.reduce(((e,t)=>new Set([...Array.from(e),...Array.from(t)])),new Set);function S(){return T.apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e,t,n){let r=null;switch(e.action){case d.ActiveRangeAction.Archive:return e.actionValue.archived?yield c.handleForArchive(e,n):yield c.handleForUnarchive(e,n),g;case d.ActiveRangeAction.MarkChatAsRead:return yield c.handleForMarkAsReadUnread(e,n,!!e.actionValue.read),g;case d.ActiveRangeAction.ClearChatDeleteStarredDeleteMedia:case d.ActiveRangeAction.ClearChatDeleteStarredKeepMedia:return r=c.handleForClearChat(e,n),r?new Set([r]):g;case d.ActiveRangeAction.ClearChatKeepStarredDeleteMedia:case d.ActiveRangeAction.ClearChatKeepStarredKeepMedia:return(yield m(t.id))?g:(r=c.handleForClearChat(e,n),r?new Set([r]):g);case d.ActiveRangeAction.DeleteChatDeleteMedia:case d.ActiveRangeAction.DeleteChatKeepMedia:return r=c.handleForDeleteChat(e,n),r?new Set([r]):g}return __LOG__(3)`handleMessageContainment called with unknwon message range action action: ${e.action}`,g}))).apply(this,arguments)}function m(){return I.apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){const t=(0,p.constructStarMsgKeyFromMsgKey)(e),n=yield _.default.getSyncAction(t);if(n){var r;const e=(0,E.decodeProtobuf)(o.SyncActionDataSpec,n.binarySyncData).value;return(null==e||null===(r=e.starAction)||void 0===r?void 0:r.starred)||!1}return!1}))).apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e,t){if(u.SYSTEM_MESSAGE_TYPES.includes(t.type))return g;const n=(yield(0,s.getActiveMessageRanges)(e.toString())).map((e=>[e,(0,a.rangeContainsMessage)(e.actionValue.messageRange,t)])),r=n.filter((e=>{let[,t]=e;return t===l.RangeContain.CONTAINS_BY_ADDITIONAL})).map((e=>{let[t]=e;return t}));r.forEach((e=>{e.remainingMessages--})),yield(0,s.bulkUpdateActiveMessageRanges)(r);const i=n.map((e=>{let[n,r]=e;return S(n,t,r)})),o=yield Promise.all(i);return h(o)}))).apply(this,arguments)}function v(){return(v=(0,i.default)((function*(e){const t=new Map;e.forEach((e=>{if(u.SYSTEM_MESSAGE_TYPES.includes(e.type)||u.ADDON_MESSAGE_TYPES.includes(e.type))return;const n=t.get(e.id.remote.toString());(null==n||n.t<e.t)&&t.set(e.id.remote.toString(),e)})),yield Promise.all(Array.from(t.entries()).map((e=>{let[t,n]=e;return y((0,f.createWid)(t),n)})))}))).apply(this,arguments)}},20919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeContain=t.ActiveRangeHandlerAction=void 0;const r=n(76672).Mirrored(["DropMessage","SkipUI"]);t.ActiveRangeHandlerAction=r;const i=n(76672).Mirrored(["DOES_NOT_CONTAIN","CONTAINS_BY_TIMESTAMP","CONTAINS_BY_ADDITIONAL"]);t.RangeContain=i},52829:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleForArchive=function(){return d.apply(this,arguments)},t.handleForClearChat=function(e,t){switch(t){case l.RangeContain.CONTAINS_BY_TIMESTAMP:case l.RangeContain.CONTAINS_BY_ADDITIONAL:return l.ActiveRangeHandlerAction.DropMessage;case l.RangeContain.DOES_NOT_CONTAIN:}},t.handleForDeleteChat=function(e,t){switch(t){case l.RangeContain.CONTAINS_BY_TIMESTAMP:case l.RangeContain.CONTAINS_BY_ADDITIONAL:return l.ActiveRangeHandlerAction.DropMessage;case l.RangeContain.DOES_NOT_CONTAIN:}},t.handleForMarkAsReadUnread=function(){return p.apply(this,arguments)},t.handleForUnarchive=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(4339),a=n(1619),s=n(96536),l=n(20919),c=n(56333),u=n(51017);function d(){return(d=(0,i.default)((function*(e,t){if(t===l.RangeContain.DOES_NOT_CONTAIN){const t=yield(0,c.getArchiveV2EnabledSetting)(),n=yield(0,c.getUnarchiveChatsSetting)();t&&!n||(0,s.setArchive)([{id:e.chatId,archive:!1}]),yield(0,o.removeActiveMessageRange)(e.chatId,e.action)}}))).apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e,t){t!==l.RangeContain.DOES_NOT_CONTAIN&&0!==e.remainingMessages||(yield(0,o.removeActiveMessageRange)(e.chatId,e.action))}))).apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e,t,n){t===l.RangeContain.DOES_NOT_CONTAIN?yield(0,o.removeActiveMessageRange)(e.chatId,e.action):0===e.remainingMessages&&((0,a.frontendFireAndForget)("updateChatReadStatus",{id:(0,u.createWid)(e.chatId),read:n}),yield(0,o.removeActiveMessageRange)(e.chatId,e.action))}))).apply(this,arguments)}},30633:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.USyncQuery=void 0;var i=r(n(48926)),o=n(19026),a=n(80780),s=n(8748),l=n(11439),c=n(15610),u=n(42710),d=n(54760),_=n(93260),p=n(79504),f=n(49055),E=n(42674),A=n(21287),g=n(88648),h=n(77409),S=n(2927),T=r(n(27112)),m=r(n(89482));const I={FEATURE:"feature",DEVICE:"devices",CONTACT:"contact",PICTURE:"picture",STATUS:"status",BUSINESS:"business",DISAPPEARING_MODE:"disappearing_mode",LID:"lid",BOT:"bot"},y={feature:A.featureParser,devices:f.deviceParser,contact:p.contactParser,picture:h.pictureParser,status:S.statusParser,business:_.businessParser,disappearing_mode:E.disappearingModeParser,lid:g.lidParser,bot:d.botProfileParser};function C(e){const t=[];return e.forEachChildWithTag("user",(e=>{const n={};e.hasAttr("jid")&&(Object.keys(I).forEach((t=>{const r=I[t],i=e.maybeChild(r);i&&y[r]&&(n[r]=y[r](i))})),n.id=(0,c.deviceJidToUserWid)(e.attrDeviceJid("jid")),t.push(n))})),t}const v=new s.WapParser("usyncParser",(e=>{e.assertAttr("type","result");const t={error:{},refresh:{},list:[],sideList:[]},n=e.child("usync"),r=n.child("result"),i=n.child("list"),o=n.maybeChild("side_list");return Object.keys(I).forEach((e=>{const n=I[e],i=r.maybeChild(n);if(i){const e=i.maybeChild("error");e?t.error[n]={errorCode:e.attrInt("code"),errorText:e.attrString("text"),errorBackoff:e.attrInt("backoff")}:i.hasAttr("refresh")&&(t.refresh[n]=i.attrInt("refresh",0))}})),t.list=C(i),o&&(t.sideList=C(o)),__LOG__(2)`usync query success!`,t}));t.USyncQuery=class{constructor(){this.context="interactive",this.mode="query",this.protocols=[],this.users=[]}withMode(e){return this.mode=e,this}withContext(e){return this.context=e,this}withContactProtocol(){return this.protocols.push(new p.USyncContactProtocol),this}withBusinessProtocol(){return this.protocols.push(new _.USyncBusinessProtocol),this}withDeviceProtocol(){return this.protocols.push(new f.USyncDeviceProtocol),this}withDisappearingModeProtocol(){return this.protocols.push(new E.USyncDisappearingModeProtocol),this}withPictureProtocol(){return this.protocols.push(new h.USyncPictureProtocol),this}withStatusProtocol(){return this.protocols.push(new S.USyncStatusProtocol),this}withFeaturesProtocol(e){return this.protocols.push(new A.USyncFeaturesProtocol(e)),this}withLidProtocol(){return this.protocols.push(new g.USyncLidProtocol),this}withBotProfileProtocol(){return this.protocols.push(new d.USyncBotProfileProtocol),this}withUser(e){return this.users.push(e),this}_buildStanza(){if(0===this.protocols.length)throw(0,m.default)("a usync query must have at least one protocol");const e=this.users.filter((e=>{const t=e.getId();return(!t||!T.default.isServer(t))&&e.validate()}));0===e.length&&__LOG__(3)`Usync warning: a usync query must have at least one user`;const t=(0,a.wap)("query",null,this.protocols.map((e=>e.getQueryElement()))),n=e.map((e=>{const t=e.getId();return(0,a.wap)("user",{jid:t?(0,l.USER_JID)(t):a.DROP_ATTR},this.protocols.map((t=>t.getUserElement(e))))})),r=(0,a.wap)("list",null,n);return(0,a.wap)("iq",{to:a.S_WHATSAPP_NET,xmlns:"usync",type:"get",id:(0,a.generateId)()},(0,a.wap)("usync",{sid:(0,a.generateId)(),index:"0",last:"true",mode:(0,a.CUSTOM_STRING)(this.mode),context:(0,a.CUSTOM_STRING)(this.context)},t,r))}execute(){var e=this;return(0,i.default)((function*(){const t=e._buildStanza();yield(0,u.waitForBackoff)(e);const n=yield(0,o.deprecatedSendIq)(t,v);return n.success?(r=n.result,Object.values(I).forEach((e=>{const t=r.error[e];null!=t&&null!=t.errorBackoff&&(0,u.setProtocolBackoffMs)(e,1e3*t.errorBackoff)})),n.result):{error:{all:{errorCode:n.errorCode,errorText:n.errorText,errorType:n.errorType}},refresh:{},list:[]};var r}))()}}},42710:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setProtocolBackoffMs=function(e,t){__LOG__(2)`usync: ${e} protocol: ${t}ms backoff started`,n.set(e,new Promise((e=>self.setTimeout(e,t))).then((()=>{__LOG__(2)`usync: ${e} protocol: ${t}ms backoff ended`})))},t.waitForBackoff=function(e){if(!function(e){if("interactive"===e.context)return!1;if(e.protocols.map((e=>e.getName())).includes("devices")&&("message"===e.context||"voip"===e.context))return!1;return!0}(e))return Promise.resolve();return Promise.all(e.protocols.map((e=>n.get(e.getName()))))};const n=new Map},93260:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.USyncBusinessProtocol=void 0,t.businessParser=function(e){e.assertTag("business");const t=e.maybeChild("error");if(t)return{errorCode:t.attrInt("code"),errorText:t.attrString("text")};const n=e.maybeChild("verified_name");return{verifiedName:n?(0,o.default)(n):null}};var i=n(80780),o=r(n(2718));t.USyncBusinessProtocol=class{getName(){return"business"}getQueryElement(){return(0,i.wap)("business",null,(0,i.wap)("verified_name",null))}getUserElement(){return null}}},79504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USyncContactProtocol=void 0,t.contactParser=function(e){e.assertTag("contact");const t=e.maybeChild("error");if(t)return{errorCode:t.attrInt("code"),errorText:t.attrString("text")};return{type:e.attrString("type")}};var r=n(80780);t.USyncContactProtocol=class{getName(){return"contact"}getQueryElement(){return(0,r.wap)("contact",null)}getUserElement(e){const t=e.getPhone();return t?(0,r.wap)("contact",null,t):null}}},49055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USyncDeviceProtocol=void 0,t.deviceParser=function(e){e.assertTag("devices");const t=e.maybeChild("error");if(t)return{errorCode:t.attrInt("code"),errorText:t.attrString("text")};const n=e.maybeChild("key-index-list"),r=e.maybeChild("device-list"),i=null==n?null:{ts:n.attrTime("ts"),signedKeyIndexBytes:n.hasContent()?n.contentBytes():null,expectedTs:n.hasAttr("expected_ts")?n.attrTime("expected_ts"):void 0};return{deviceList:null==r?void 0:r.mapChildrenWithTag("device",(e=>({id:e.attrInt("id"),keyIndex:e.hasAttr("key-index")?e.attrInt("key-index"):null}))),keyIndex:i}};var r=n(80780);t.USyncDeviceProtocol=class{getName(){return"devices"}getQueryElement(){return(0,r.wap)("devices",{version:(0,r.CUSTOM_STRING)(String(2))})}getUserElement(e){const t=e.getDeviceHash(),n=e.getTs(),i=e.getExpectedTs();return t||null!=n||null!=i?(0,r.wap)("devices",{device_hash:t?(0,r.CUSTOM_STRING)(t):r.DROP_ATTR,ts:null!=n?(0,r.INT)(n):r.DROP_ATTR,expected_ts:null!=i?(0,r.INT)(i):r.DROP_ATTR}):null}}},42674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USyncDisappearingModeProtocol=void 0,t.disappearingModeParser=function(e){e.assertTag("disappearing_mode");const t=e.maybeChild("error");if(t)return{errorCode:t.attrInt("code"),errorText:t.attrString("text")};const n=e.attrInt("duration",0),r=e.attrInt("t");return{duration:n,t:r}};var r=n(80780);t.USyncDisappearingModeProtocol=class{getName(){return"disappearing_mode"}getQueryElement(){return(0,r.wap)("disappearing_mode",null)}getUserElement(){return null}}},21287:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.USyncFeaturesProtocol=void 0,t.featureParser=function(e){e.assertTag("feature");const t=e.maybeChild("error");if(t)return{errorCode:t.attrInt("code"),errorText:t.attrString("text")};const n={};return Object.keys(a).forEach((t=>{const r=e.maybeChild(t);r&&(n[t]=r.attrString("value"))})),n};var i=n(80780),o=r(n(89482));const a={document:(0,i.wap)("document",null),encrypt:(0,i.wap)("encrypt",null),encrypt_blist:(0,i.wap)("encrypt_blist",null),encrypt_contact:(0,i.wap)("encrypt_contact",null),encrypt_group_gen2:(0,i.wap)("encrypt_group_gen2",null),encrypt_image:(0,i.wap)("encrypt_image",null),encrypt_location:(0,i.wap)("encrypt_location",null),encrypt_url:(0,i.wap)("encrypt_url",null),encrypt_v2:(0,i.wap)("encrypt_v2",null),voip:(0,i.wap)("voip",null),multi_agent:(0,i.wap)("multi_agent",null)};t.USyncFeaturesProtocol=class{getName(){return"picture"}constructor(e){if(this.queries=e,0===e.length)throw(0,o.default)("must specify at least one query")}getQueryElement(){return(0,i.wap)("feature",null,this.queries&&this.queries.map((e=>a[e])))}getUserElement(){return null}}},88648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USyncLidProtocol=void 0,t.lidParser=function(e){e.assertTag("lid");const t=e.maybeChild("error");if(t)return{errorCode:t.attrInt("code"),errorText:t.attrString("text")};return e.maybeAttrLidUserJid("val")};var r=n(80780),i=n(11439);t.USyncLidProtocol=class{getName(){return"lid"}getQueryElement(){return(0,r.wap)("lid",null)}getUserElement(e){const t=e.getLid();return t?(0,r.wap)("lid",{jid:t?(0,i.USER_JID)(t):r.DROP_ATTR}):null}}},77409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USyncPictureProtocol=void 0,t.pictureParser=function(e){e.assertTag("picture");const t=e.maybeChild("error");if(t)return{errorCode:t.attrInt("code"),errorText:t.attrString("text")};return{id:e.attrInt("id")}};var r=n(80780);t.USyncPictureProtocol=class{getName(){return"picture"}getQueryElement(){return(0,r.wap)("picture",null)}getUserElement(){return null}}},2927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USyncStatusProtocol=void 0,t.statusParser=function(e){e.assertTag("status");const t=e.maybeChild("error");if(t)return{errorCode:t.attrInt("code"),errorText:t.attrString("text")};if(!e.hasContent())return e.hasAttr("code")&&401===e.attrInt("code")?null:i.fbt._("Hey there! I am using WhatsApp.",null,{hk:"1lXNBq"}).toString();return 0!==e.contentString().length?e.contentString():i.fbt._("Hey there! I am using WhatsApp.",null,{hk:"1lXNBq"}).toString()};var r=n(80780),i=n(48360);t.USyncStatusProtocol=class{getName(){return"status"}getQueryElement(){return(0,r.wap)("status",null)}getUserElement(){return null}}},49673:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.USyncUser=void 0;var i=n(60050),o=r(n(89482));t.USyncUser=class{withId(e){return this._id=e,this}withLid(e){return this._lid=e,this}withDeviceHash(e){return this._deviceHash=e,this}withTs(e){return this._ts=e,this}withExpectedTs(e){return this._expectedTs=e,this}withPhone(e){return this._phone=e,this}withPersonaId(e){return this._personaId=e,this}getDeviceHash(){return this._deviceHash}getPhone(){return this._phone}getId(){return this._id}getLid(){return this._lid}getTs(){return this._ts}getExpectedTs(){return this._expectedTs}getPersonaId(){return this._personaId}validate(){const{_id:e,_phone:t}=this;if(null==e&&null==t)throw(0,o.default)("user must have an id or a phone");if(e){const t=(0,i.validateWid)(e.toString());return t||__LOG__(3)`USync user created with invalid jid: ${e.toString()}`,t}return!0}}},52030:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initializeGlobals=function(){return d.apply(this,arguments)};var i=r(n(48926)),o=n(44037),a=n(72236),s=n(35255),l=n(69384),c=n(59356),u=r(n(89482));function d(){return(d=(0,i.default)((function*(){var e,t,n;const r=null!==(e=yield(0,a.getLocalStorageValue)("deviceJid"))&&void 0!==e?e:"",i=null!==(t=yield(0,a.getLocalStorageValue)("lidDeviceJid"))&&void 0!==t?t:"",u=_(r),d=(0,o.extractUserJid)(u),p=null!==(n=yield(0,a.getLocalStorageValue)(c.KEYS.ME_DISPLAY_NAME))&&void 0!==n?n:"";(0,s.setGlobals)({jidUtils:(0,o.createJidUtils)({platform:"whatsapp"}),myJids:{deviceJid:u,userJid:d},lidDeviceJid:i,displayName:p,config:{syncdDisabled:()=>!0},db:{},runInTransaction:l.runInTransaction})}))).apply(this,arguments)}function _(e){const t=(0,o.interpretAndValidateJid)(e);if("phoneDevice"!==t.jidType)throw(0,u.default)("Not a jid");return t.deviceJid}},60026:(e,t,n)=>{"use strict";var r=n(95318);t.th=function(){return a.apply(this,arguments)},t.t8=function(e,t){try{const n=e.name,r=JSON.stringify({value:t});o.default.storeWorkerWamData({action:"set",name:n,payload:r})}catch(e){__LOG__(4,void 0,new Error)`wam set failed, ${e}`}};var i=r(n(48926)),o=r(n(27931));function a(){return(a=(0,i.default)((function*(e){try{const t=e.$className,n=JSON.stringify(e.all);yield o.default.storeWorkerWamData({action:"commit",name:t,payload:n})}catch(e){__LOG__(4,void 0,new Error)`wam commit failed, ${e}`}return Promise.resolve()}))).apply(this,arguments)}(0,r(n(41143)).default)(!0,"only for use in worker")},57710:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return d.apply(this,arguments)};var i=r(n(48926)),o=n(57610),a=n(1723),s=r(n(25566)),l=r(n(55595)),c=r(n(33583));function u(e,t,n){const{attrs:r}=e;if(r.offline){const e=parseInt(r.t,10);a.OfflineMessageHandler.newOfflineStanza(e,n)}const i=(0,o.handleWorkerCompatibleStanza)(e);if(null!=i)return i;switch(e.tag){case"ib":return(0,l.default)(e);case"failure":return(0,s.default)(e);case"success":return(0,c.default)(e)}}function d(){return(d=(0,i.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=yield Promise.resolve(u(e,0,n));return null!=r?r:"NO_ACK"}))).apply(this,arguments)}(0,r(n(41143)).default)(!0,"only for use in worker")},66895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42626);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(82726);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(52351);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n(88117);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n(94088);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=n(25180);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n(43976);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=n(32686);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var d=n(20330);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var _=n(65068);Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var p=n(1723);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var f=n(70867);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var E=n(12364);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var A=n(78891);Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===A[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}}))}));var g=n(25078);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var h=n(82740);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var S=n(70817);Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))}));var T=n(27893);Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===T[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))}));var m=n(76197);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var I=n(8719);Object.keys(I).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===I[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return I[e]}}))}));var y=n(53952);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var C=n(2537);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var v=n(86584);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var O=n(91336);Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var P=n(26458);Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===P[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))}));var N=n(85783);Object.keys(N).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===N[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return N[e]}}))}));var b=n(93198);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var M=n(92760);Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===M[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}}))}));var R=n(67594);Object.keys(R).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===R[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))}));var D=n(98458);Object.keys(D).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===D[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return D[e]}}))}));var L=n(84263);Object.keys(L).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===L[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return L[e]}}))}));var w=n(18615);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}))},32236:(e,t,n)=>{"use strict";var r=n(95318);t.Qq=function(){return L.apply(this,arguments)};var i=r(n(48926)),o=n(19026),a=n(66218),s=n(31859),l=n(78805),c=n(93963),u=n(1619),d=n(57746),_=n(42083),p=n(3450),f=n(52030),E=n(56457),A=n(43744),g=n(1723),h=n(74e3),S=n(4830),T=n(82572),m=n(53519),I=n(97023),y=n(65904),C=n(68231),v=n(92920),O=r(n(57710)),P=n(92005),N=n(61071),b=r(n(41143));function M(e){return Promise.resolve((0,a.inflate)(e))}function R(e){__LOG__(2)`comms change: ${e}`,"connected"===e&&((0,o.startHandlingRequests)(),C.WorkerOfflineResumeReporter.logSocketConnect())}function D(e){__LOG__(2)`comms optimistic change: ${e}`}function L(){return(L=(0,i.default)((function*(){(0,p.registerCrashlogUploadIsUserInExternalBetaFunction)(I.getWhatsAppWebExternalBetaJoinedIdb),yield(0,f.initializeGlobals)(),(0,l.initializeABPropsCache)(),yield(0,c.updateABPropsFromStorage)(),yield(0,S.enableMemSignalStore)(),yield(0,_.initChatThreadLogging)();const e=(0,d.makeBridge)();(0,u.setApi)(e),(0,P.attachHeadlessHandlers)(e);const t=yield(0,I.getLastMobilePlatform)();if(null==t)return __LOG__(4,void 0,new Error)`[worker] platform not found in UserPrefs.`,(0,T.socketLogout)(E.LogoutReason.UnknownCompanion);(0,p.registerCrashlogUploadInformationalLoggingFunction)((()=>({platform:t}))),(0,A.setMobilePlatform)(t),yield(0,h.startWebPersistedJobManager)(),g.OfflineMessageHandler.initState({createBlockingStageManager:()=>new N.OfflineWorkerResumeStageManager});const n=yield(0,v.getChatSocketPlatformDetails)();(0,y.markLoginStartT)(),(0,o.startComms)(O.default,{healthCheckInterval:20,deadSocketTime:2e4,maxSocketLoopWaitTime:6e4,openChatSocket:e=>(0,s.openChatSocket)(n,e),shouldCloseStaleSocket:!0,shouldBlockReceivingUntilSuccess:!0,handlers:{onConnectionChange:R,onOptimisticConnectionChange:D}},M),yield(0,m.queryServerProps)()}))).apply(this,arguments)}n(66895),(0,b.default)(!0,"only for use in worker")},40704:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handlePushNotification=function(){return d.apply(this,arguments)},t.initializeDb=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=n(28123),a=n(25206),s=n(97023),l=n(68231),c=r(n(41143));function u(){return(u=(0,i.default)((function*(){try{l.WorkerOfflineResumeReporter.logWorkerInitialized();const e=n(73804).initialize,t=n(13447).initialize,r=n(49814).j2,i=n(71752).j2,o=n(33633).initialize;yield Promise.all([e(),t(),r(),i(),o()])}catch(e){__LOG__(4,void 0,new Error,!0)`[push-notification] Failed to initialize databases for push notification, error: ${e}`,SEND_LOGS("push-notification-db-init-error")}}))).apply(this,arguments)}function d(){return(d=(0,i.default)((function*(){try{const[e,t,r]=yield Promise.all([f(),_(),(0,s.getOfflinePushDisabled)()]);if(!e||t||!0===r)return;const i=n(59355).Y;yield i();(0,n(32236).Qq)()}catch(e){__LOG__(4,void 0,new Error,!0)`[push-notification] Failed to start backend for push notification, error: ${e}`,SEND_LOGS("push-notification-init-error")}}))).apply(this,arguments)}function _(){return p.apply(this,arguments)}function p(){return(p=(0,i.default)((function*(){var e;const t=null!==(e=yield(0,s.getOfflinePushCount)())&&void 0!==e?e:0;return(0,s.setOfflinePushCount)(t+1),t>9&&(__LOG__(2)`[push-notification] Exceeded the offline push handling limit, do not start backend`,!0)}))).apply(this,arguments)}function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(){const e=yield(0,s.getAppVersionBase)();if(null==e)return!1;const t=new a.Version(e);return!new a.Version(o.VERSION_BASE).lt(t)||(__LOG__(4,void 0,new Error,!0)`Service worker (${o.VERSION_BASE}) version is less than main app (${t}) version`,SEND_LOGS("service-worker-lt-main-page-version"),!1)}))).apply(this,arguments)}(0,c.default)(!0,"only for use in worker")},92920:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getChatSocketPlatformDetails=function(){return R.apply(this,arguments)};var i=r(n(48926)),o=(n(62089),n(39884)),a=n(9093),s=n(22101),l=r(n(49619)),c=n(29987),u=n(74448),d=n(74493),_=n(69059),p=n(56131),f=n(18722),E=n(56333),A=n(2866),g=n(69492),h=n(31971),S=n(33655),T=n(32126),m=r(n(89482)),I=r(n(41143));const y="WhatsAppLongTerm1",C="wss://web.whatsapp.com/ws/chat";function v(e){return(0,T.encodeProtobuf)(p.HandshakeMessageSpec,{clientHello:e}).readByteArray()}function O(e){return(0,T.encodeProtobuf)(p.HandshakeMessageSpec,{clientFinish:e}).readByteArray()}function P(e){return(0,S.decodeProtobuf)(p.HandshakeMessageSpec,e).serverHello}function N(e){let{certificate:t,serverStatic:n}=e;const{details:r,signature:i}=(o=t,(0,S.decodeProtobuf)(_.NoiseCertificateSpec,o));var o;if(!r)throw(0,m.default)("noiseFullHandshake cert missing details");if(!i)throw(0,m.default)("noiseFullHandshake cert missing signature");return function(e){let{cert:t,serverStatic:n}=e;const r=(0,S.decodeProtobuf)(_.NoiseCertificate$DetailsSpec,t.details);if(r.issuer!==y)throw(0,m.default)(`verifyCertificate unrecognized issuer "${String(r.issuer)}"`);const i=(0,s.maybeNumberOrThrowIfTooLarge)(r.expires);if(null!=i&&i<=(0,c.unixTime)())throw(0,m.default)("verifyCertificate cert has expired");if(!r.key)throw(0,m.default)("verifyCertificate cert has no key detail");if(!(0,a.arrayBuffersEqual)(r.key,n))throw(0,m.default)("verifySignature cert key does not match issuer");return Promise.resolve()}({cert:{details:r,signature:i},serverStatic:n}).then((()=>{}))}function b(){return null}function M(){return __LOG__(2)`openSocketWithLoop`,(0,u.treasureHunt)((function(e){const t=C;return __LOG__(2)`openSocketWithLoop (round ${e}) connecting to ${t}`,(()=>{const e=`${C}`;return(0,f.openWebSocket)(e)})().then((n=>(__LOG__(2)`openSocketWithLoop (round ${e}) to ${t} succeeded`,n))).catch((t=>{throw __LOG__(3)`openSocketWithLoop (round ${e}) failed: ${t}`,t}))}),3,15e3,(e=>{e.close()}))}function R(){return(R=(0,i.default)((function*(){const e=yield(0,E.getRoutingInfo)(),t=null==e?void 0:e.edgeRouting,n=new Uint8Array([87,65,5,d.DICT_VERSION]),r=(0,l.default)(yield(0,h.getWaNoiseInfo)(),"yield getWaNoiseInfo()");return{edgeInfo:t,getClientPayload:A.getClientPayloadForLogin,protoHeader:n,encodeHandshakeHello:v,decodeServerHello:P,encodeHandshakeFinish:O,processCertificate:N,serverStaticKeyIfKnown:b,staticKeyPair:new o.Curve25519(g.curve25519SignalDependencies,r),openSocket:M,curveSignalDependencies:g.curve25519SignalDependencies}}))).apply(this,arguments)}(0,I.default)(!0,"only for use in worker")},2866:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getClientPayloadForLogin=function(){return p.apply(this,arguments)},t.getUserAgent=A,t.getWebSubPlatform=h;var i=r(n(81109)),o=r(n(48926)),a=n(28123),s=n(70854),l=n(35255),c=n(96955),u=n(16219),d=n(53559),_=n(32126);function p(){return(p=(0,o.default)((function*(e){var t;const n=(0,l.getMyDeviceJid)(),r=(0,i.default)((0,i.default)({},yield f(e)),{},{username:parseInt((0,c.extractUserId)((0,c.extractUserJid)(n)),10),device:null!==(t=(0,c.extractDeviceId)(n))&&void 0!==t?t:0});return(0,_.encodeProtobuf)(u.ClientPayloadSpec,r).readByteArray()}))).apply(this,arguments)}function f(){return E.apply(this,arguments)}function E(){return(E=(0,o.default)((function*(e){return{passive:!!e&&e.passive,pull:!0,connectType:u.ClientPayload$ConnectType.WIFI_UNKNOWN,connectReason:u.ClientPayload$ConnectReason.PUSH,userAgent:yield A(),webInfo:{webSubPlatform:h()}}}))).apply(this,arguments)}function A(){return g.apply(this,arguments)}function g(){return(g=(0,o.default)((function*(){return{appVersion:{primary:Number(a.VERSION_PRIMARY),secondary:Number(a.VERSION_SECONDARY),tertiary:Number(a.VERSION_TERTIARY)},platform:u.ClientPayload$UserAgent$Platform.WEB,releaseChannel:yield(0,s.getReleaseChannel)(),mcc:"000",mnc:"000",osVersion:"0.1",manufacturer:"",device:"Desktop",osBuildNumber:"0.1",localeLanguageIso6391:"en",localeCountryIso31661Alpha2:"US"}}))).apply(this,arguments)}function h(){switch((0,d.getWamPlatform)()){case"WEB":case"PWA":return u.ClientPayload$WebInfo$WebSubPlatform.WEB_BROWSER;case"DARWIN":case"DARWIN_BETA":return u.ClientPayload$WebInfo$WebSubPlatform.DARWIN;case"WIN32":case"WIN32_BETA":return u.ClientPayload$WebInfo$WebSubPlatform.WIN32;case"MACSTORE":return u.ClientPayload$WebInfo$WebSubPlatform.APP_STORE;case"WINSTORE":return u.ClientPayload$WebInfo$WebSubPlatform.WIN_STORE;default:return}}(0,r(n(41143)).default)(!0,"only for use in worker")},69492:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"curve25519SignalDependencies",{enumerable:!0,get:function(){return o.CURVE25519_SIGNAL_DEPENDENCIES}});var i=r(n(41143)),o=n(60063);(0,i.default)(!0,"only for use in worker")},92005:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.attachHeadlessHandlers=function(e){if(!(0,i.isWorker)())throw(0,o.default)("attachHeadlessHandlers should be used only in worker thread");function t(){return Promise.resolve(null)}e.setNamespaceHandler("event",((e,n,r)=>{r&&r(t())})),e.setNamespaceHandler("workerSafeEvent",((e,n,r)=>{r&&r(t())}))};var i=n(95160),o=r(n(89482))},24275:(e,t,n)=>{"use strict";var r=n(95318);t.N=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(46420),a=r(n(60670));function s(){return(s=(0,i.default)((function*(e){if(Notification.permission&&Notification.permission===o.PERMISSION_ALLOWED){var t,n;const r=null!==(t=null==e?void 0:e.notificationTitle)&&void 0!==t?t:"WhatsApp",i=null!==(n=null==e?void 0:e.notificationText)&&void 0!==n?n:"Syncing messages in the background.";return yield c(),l(r,i,a.default)}return Promise.resolve()}))).apply(this,arguments)}function l(e,t,n){return self.registration.showNotification(e,{body:t,icon:n})}function c(){return u.apply(this,arguments)}function u(){return(u=(0,i.default)((function*(){(yield self.registration.getNotifications()).forEach((e=>e.close()))}))).apply(this,arguments)}},62271:(e,t,n)=>{"use strict";var r=n(95318),i=r(n(46808)),o=n(52765),a=r(n(40733));if(i.default.Promise.PSD.onunhandled=()=>{},i.default.Promise.PSD.txRelaxedDurabilityEnabled=!0,(0,o.isFeatureEnabled)("native_promise_runtime")){const{loadStackPromisePolyfill:e}=n(19069);e()}else self.Promise=(0,a.default)(n(59909));n(52251)},59355:(e,t,n)=>{"use strict";var r=n(95318);t.Y=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(56457),a=n(82572),s=n(85608),l=n(59356);let c=null;function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(){let e=null;return e=yield p(),null==e&&(__LOG__(4,void 0,new Error)`[DB ENC CRITICAL ERROR] null returned for local enc salt`,yield(0,a.socketLogout)(o.LogoutReason.ClientFatalError)),e=Uint8Array.from(atob(e),(e=>e.charCodeAt(0))),Promise.resolve(e)}))).apply(this,arguments)}function _(){return(_=(0,i.default)((function*(){var e;const t=yield u();if(t&&t.constructor===Uint8Array)return null===(e=c)||void 0===e?void 0:e.init(t)}))).apply(this,arguments)}function p(){return s.userPrefsCacheStorage.getItemFromCacheStorage(l.MD_NOISE_KEYS.WEB_ENC_SALT)}c=n(56858).DbEncKeyStore},31971:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getWaNoiseInfo=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=n(62089),a=n(70717),s=n(56858),l=n(85608),c=n(59356);function u(){return(u=(0,i.default)((function*(){const e=yield d(),t=yield _();if(!e||!t)return null;const n=yield E(e.staticKeyPair.pubKey,t[1]),r=yield E(e.staticKeyPair.privKey,t[2]);return(0,a.makeKeyPairFromArrayBuffers)(n,r)}))).apply(this,arguments)}function d(){return l.userPrefsCacheStorage.getItemFromCacheStorage(c.MD_NOISE_KEYS.NOISE_INFO)}function _(){return p.apply(this,arguments)}function p(){return(p=(0,i.default)((function*(){const e=yield f();return e?e.map((e=>new Uint8Array((0,o.decodeB64)(e)))):null}))).apply(this,arguments)}function f(){return l.userPrefsCacheStorage.getItemFromCacheStorage(c.MD_NOISE_KEYS.NOISE_INFO_IV)}function E(){return A.apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e,t){const n=s.DbEncKeyStore.getEncKeys()[0];return yield self.crypto.subtle.decrypt({iv:t,name:"AES-CBC"},n.key,e)}))).apply(this,arguments)}(0,r(n(41143)).default)(!0,"only for use in worker")},83741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getABPropConfigValue=function(e){var t;const n=r.ABPropConfigs[e];null==n&&__LOG__(4,void 0,new Error)`[ABProps] config not defined, config name: ${e}.`;const[o,a,s,l]=n,c=s;if(null==i)return c;return null!==(t=i(e))&&void 0!==t?t:c},t.setGetABPropConfigValueImpl=function(e){i=e},t.usedBeforeInitializationConfigs=void 0;var r=n(9282);t.usedBeforeInitializationConfigs=["parent_group_view_enabled","in_app_support_v2_number_prefixes","web_2fa","web_abprop_screen_lock_enabled","web_abprop_core_wam_runtime","web_offline_resume_qpl_enabled","disable_auto_download","direct_connection_business_numbers","community_admin_promotion_one_time_prompt","web_enable_profile_pic_thumb_db_caching","web_crypto_library_enabled","web_media_auto_download_enabled","web_native_fetch_media_download","web_image_max_edge","web_store_quota_manager_enabled","wds_radius_and_casing","non_blocking_resume_from_open_tab_enabled","community_announcement_improvement_m2","column_serialization_perf_impact_test"];let i=null},39387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.getABPropConfigValue)("in_app_support_capi_number_prefixes");if(null==t||""===t)return!1;return t.split(",").some((t=>e.startsWith(t)))};var r=n(83741)},78805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ABPropConfigCodeToName=void 0,t.bulkCreateOrReplaceABPropConfigs=function(e){let t=!1;e.forEach((e=>{s.set(e.configCode,e),!0===e.hasAccessed&&(o.accessedConfigs.add(e.configCode),null!=e.configExpoKey&&(o.exposureKeys.add(e.configExpoKey),t=!0))})),t&&(0,o.updateGlobalExpoKey)();l=!0},t.clearABPropConfigs=function(){s.clear(),o.accessedConfigs.clear(),o.exposureKeys.clear(),l=!1},t.getAllABPropConfigs=function(){return Array.from(s.values())},t.initializeABPropsCache=function(){(0,r.setGetABPropConfigValueImpl)(u)};var r=n(83741),i=n(9282),o=n(11956),a=n(70130);n(95160);const s=new Map;let l=!1;const c={};function u(e){const t=i.ABPropConfigs[e],[n,c,u,d]=t,_=u;return l?function(e){if(s.get(e)&&!o.accessedConfigs.has(e)){var t;const n=null===(t=s.get(e))||void 0===t?void 0:t.configExpoKey;null==n||o.exposureKeys.has(n)||(o.exposureKeys.add(n),(0,o.updateGlobalExpoKey)()),o.accessedConfigs.add(e),(0,a.setConfigAccessed)(e)}const n=s.get(e);return null==n?void 0:n.configValue}(n):(r.usedBeforeInitializationConfigs.includes(e)||__LOG__(3)`[ABProps] configs need to be initialized before its first access, config name: ${e}`,_)}t.ABPropConfigCodeToName=c,Object.keys(i.ABPropConfigs).forEach((e=>{const[t]=i.ABPropConfigs[e];c[t]=e})),Object.freeze(c)},9282:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ABPropConfigs=void 0;t.ABPropConfigs={order_details_total_order_minimum_value:[1719,"float",1,1],order_details_total_maximum_value:[1684,"float",5e8,5e8],order_details_total_minimum_value:[1683,"int",0,0],order_messages_ephemeral_exception_enabled:[3240,"bool",!1,!0],in_app_support_v2_enabled:[233,"bool",!1,!1],in_app_support_v2_locale_langs:[379,"string","",""],in_app_support_v2_numbers:[390,"string","",""],in_app_support_v2_number_prefixes:[1031,"string","15517868","15517868"],in_app_support_capi_number_prefixes:[4799,"string","155178684","155178684"],in_app_support_v2_jump_to_group:[819,"bool",!1,!1],in_app_support_v2_jump_to_group_wait_time_in_ms:[974,"int",5e3,5e3],quick_mute_enabled:[2765,"bool",!1,!1],groups_dogfooding_ui:[308,"bool",!1,!1],md_icdc_enabled:[309,"bool",!1,!1],md_icdc_hash_length:[310,"int",10,10],played_self_enabled:[361,"bool",!1,!1],ephemeral_24h_duration:[407,"bool",!1,!0],disappearing_mode:[536,"bool",!1,!1],payments_expressive_backgrounds_enabled:[605,"bool",!1,!0],ephemeral_allow_group_members:[432,"bool",!1,!0],business_profile_refresh_m1_enabled:[470,"bool",!1,!0],num_days_key_index_list_expiration:[730,"int",35,35],num_days_before_device_expiry_check:[731,"int",7,7],media_reupload_limit_mb:[1098,"int",100,100],portrait_thumb_enabled_chat:[1961,"bool",!1,!0],portrait_thumb_enabled_status:[1962,"bool",!1,!0],channels_video_limit_mb:[4787,"int",16,16],default_video_limit_mb:[3185,"int",16,64],default_video_limit_mb_newsletter:[4155,"int",16,16],default_gif_limit_mb:[3656,"int",16,64],default_audio_limit_mb:[3657,"int",16,64],default_media_limit_mb:[3660,"int",16,64],hd_video_label_enabled:[3934,"bool",!1,!0],per_send_hd_video_setting_enabled:[3935,"bool",!1,!0],per_send_hd_video_setting_for_groups_enabled:[4138,"bool",!1,!0],hd_video_min_streaming_bandwidth:[3936,"int",150,150],hd_video_show_data_warning_dialog:[4152,"bool",!1,!0],hd_video_data_warning_max_mb:[4153,"int",64,64],hd_video_definition_min_edge:[4171,"int",720,720],hd_video_definition_max_edge:[4172,"int",864,864],hd_video_definition_min_edge_with_max_edge:[4175,"int",480,480],message_level_reporting:[535,"bool",!1,!0],native_shop_preview_enabled:[636,"bool",!1,!0],sync_archive_v2_setting:[736,"bool",!1,!1],ptt_conversation_waveform:[637,"bool",!1,!0],ptt_waveform_send:[746,"bool",!1,!0],adv_v2_m4_m5:[753,"bool",!1,!1],adv_v2_m6:[903,"bool",!1,!1],ptt_draft_enabled:[777,"bool",!1,!0],ptt_pausable_enabled:[871,"bool",!1,!0],tos_3_client_gating_enabled:[791,"bool",!1,!1],tos_client_state_fetch_enabled:[877,"bool",!1,!1],tos_client_state_fetch_iteration:[908,"int",0,0],country_client_gating_enabled:[1105,"bool",!1,!1],system_msg_numbers_fb_branded:[1035,"string","16505434800,16503130062,16507885324,16508620604,16504228206,447710173736,16315551023,16505361212,16508129150,16315555102,16315558723,16505212669,16507885280,19032707825,0","16505434800,16503130062,16507885324,16508620604,16504228206,447710173736,16315551023,16505361212,16508129150,16315555102,16315558723,16505212669,16507885280,19032707825,0"],system_msg_numbers_fb_inc:[1036,"string","",""],log_clock_skew:[1190,"bool",!1,!1],trusted_contacts:[794,"bool",!1,!1],trusted_contacts_sender:[995,"bool",!1,!1],trusted_contacts_ti:[922,"bool",!1,!1],tctoken_duration:[865,"int",604800,604800],tctoken_num_buckets:[909,"int",4,4],tctoken_duration_sender:[996,"int",604800,604800],tctoken_num_buckets_sender:[997,"int",4,4],reactions_receive:[827,"bool",!1,!0],reactions_send:[828,"bool",!1,!0],reactions_announcement_only:[1150,"bool",!1,!1],reaction_cleanup_days:[987,"int",31,31],reactions_chat_preview:[1605,"bool",!1,!0],reactions_animations:[1361,"bool",!1,!0],reactions_animations_simple:[1485,"bool",!1,!0],md_migration_experience:[861,"int",2,2],web_abprop_direct_connection_md:[869,"bool",!1,!0],media_upload_prekeys_fetch_enabled:[907,"bool",!1,!0],reactions_panel_prekeys_fetch_enabled:[1828,"bool",!1,!0],status_quick_reply_enabled:[1455,"bool",!1,!0],status_quick_reply_receiver_changes_enabled:[1974,"bool",!1,!0],ptt_remember_play_position:[952,"bool",!1,!0],banned_shops_ux_enabled:[957,"bool",!1,!0],group_suspend_v0_enabled:[973,"bool",!1,!0],expiring_groups_enabled:[3181,"bool",!1,!1],community_breakout_groups_enabled:[3864,"bool",!1,!0],parent_group_directory_enabled:[3795,"bool",!1,!0],parent_group_join_request_system_enabled:[5109,"bool",!1,!1],parent_group_member_can_add_enabled:[4654,"bool",!1,!1],parent_group_view_enabled:[982,"bool",!1,!0],parent_group_create_enabled:[1173,"bool",!1,!0],parent_group_query_ts:[1228,"int",0,0],parent_group_link_limit:[1238,"int",100,100],allow_subgroup_admin_to_unlink:[3054,"bool",!1,!0],community_creation_no_add_groups_screen:[3246,"bool",!1,!0],community_announcement_group_size_limit:[2774,"int",5e3,5e3],community_announcement_improvement_m1:[3121,"bool",!1,!0],community_announcement_improvement_m2:[3239,"bool",!1,!0],community_announcement_improvement_m3:[3380,"bool",!1,!0],community_creation_nux_always:[4053,"bool",!1,!1],community_creation_nux_count:[4071,"int",1,1],community_subgroup_switcher_entrypoint_enabled:[3738,"bool",!1,!0],community_subgroup_icon_variant:[3078,"int",0,2],community_subgroup_identity_v2:[4160,"bool",!1,!0],community_history_setting_receive:[5046,"bool",!1,!1],community_history_setting_send:[5191,"bool",!1,!1],community_history_receive:[5192,"bool",!1,!1],community_history_send:[5193,"bool",!1,!1],parent_group_link_limit_community_creation:[1990,"int",10,20],parent_group_admins_limit:[1655,"int",20,20],parent_group_view_enabled_for_smb_on_web:[2205,"bool",!1,!0],parent_group_create_enabled_for_smb_on_web:[2206,"bool",!1,!0],parent_group_create_privacy:[2356,"bool",!1,!0],parent_group_min_participants_for_group_entry_point:[2382,"int",20,1],parent_group_tap_to_request_enabled:[2436,"bool",!1,!0],parent_group_tap_to_add_enabled:[2446,"bool",!1,!0],parent_group_no_disclaimer:[2447,"bool",!1,!0],parent_group_subgroup_filter:[3147,"bool",!1,!1],community_groups_navigation:[3023,"bool",!1,!0],community_chat_list_tabs:[3748,"bool",!1,!1],parent_group_no_subgroup_requirement:[3167,"bool",!1,!0],community_admin_promotion_one_time_prompt:[1864,"bool",!1,!1],document_preview_caption_changes_enabled:[2307,"bool",!1,!0],forwarded_ptt_ui_enabled:[1040,"bool",!1,!0],shops_storefront_url_format:[1054,"string","https://www.facebook.com/%s/shop/","https://www.facebook.com/%s/shop/"],message_count_logging_md_enabled:[1135,"bool",!1,!1],url_send_receive_logging_enabled:[2430,"bool",!1,!0],inline_video_playback_additional_logging_enabled:[2431,"bool",!1,!0],dev_prop_string:[1064,"string","",""],dev_prop_boolean:[1065,"bool",!1,!1],dev_prop_int:[1066,"int",0,0],dev_prop_float:[1067,"float",0,0],disable_status_to_non_sub:[3077,"bool",!1,!1],order_details_from_cart_enabled:[1107,"bool",!1,!0],order_details_custom_item_enabled:[1176,"bool",!1,!0],order_details_from_catalog_enabled:[1212,"bool",!1,!0],md_app_state_critical_data_processing_logging:[1187,"bool",!1,!0],md_app_state_report_md_sync_mutation_stats:[1221,"bool",!1,!0],order_management_enabled:[1188,"bool",!1,!1],growth_lock_v0_enabled:[1204,"bool",!1,!0],smart_filters_enabled_consumer:[1287,"bool",!1,!0],inbox_management_filters_m2:[3554,"bool",!1,!1],enable_spam_report_iq_with_privacy_token:[4991,"bool",!1,!0],enable_privacy_token_with_timestamp:[4992,"bool",!1,!0],md_offline_v2_m2_enabled:[1517,"int",10,10],profile_photo_rings_for_status_enabled:[1533,"bool",!1,!0],dc_edit_postcode_by_default_enabled:[1534,"bool",!1,!1],media_picker_select_limit:[2614,"int",30,30],media_picker_select_limit_new:[2693,"int",30,30],chatlist_filters_v1:[1608,"bool",!1,!1],community_suspend_v0_enabled:[1653,"bool",!1,!0],is_meta_employee_or_internal_tester:[1777,"bool",!1,!1],disable_auto_download:[1838,"bool",!1,!1],community_tab_m2:[2154,"bool",!1,!0],gif_autoplay_enabled:[2281,"bool",!1,!1],gif_min_play_loops:[3682,"int",1,1],gif_max_play_loops:[3683,"int",3,3],gif_max_play_duration:[3684,"int",5,5],web_send_only_active_receipts:[1868,"bool",!1,!0],num_days_hosted_device_signed_identity_signature_expiration:[2461,"int",90,90],cag_member_key_rotation_optimization:[2521,"bool",!1,!1],elevated_push_names_v2_enabled:[2540,"bool",!1,!1],elevated_push_names_v2_m1_follow_up_enabled:[2763,"bool",!1,!1],elevated_push_names_v2_m2_enabled:[2904,"bool",!1,!1],smb_capi_coexistence_enabled:[2588,"bool",!1,!0],smb_client_side_linkshim_enabled:[2633,"bool",!0,!0],web_non_blocking_offline_resume_max_message_count:[2508,"int",1e3,1e3],web_unified_flow:[1809,"int",0,0],smb_client_side_linkshim_signed_regexp:[2634,"string","https:\\/\\/n\\.wl\\.co\\/[^/]*\\/[^/]*\\/(.*)$","https:\\/\\/n\\.wl\\.co\\/[^/]*\\/[^/]*\\/(.*)$"],placeholder_message_key_hash_logging:[2639,"bool",!1,!0],use_appdata_stanza_on_receiver:[2795,"bool",!1,!1],use_appdata_stanza_on_sender:[2796,"bool",!1,!1],web_lazy_pull:[2814,"bool",!1,!1],msgd_drop_device_notifications:[3806,"bool",!1,!1],media_large_file_awareness_popup_enabled:[3061,"bool",!1,!0],media_large_file_awareness_popup_file_size_in_MB:[3115,"int",2048,2048],send_cag_member_revokes_as_GDM:[3069,"bool",!0,!0],parent_group_remove_orphaned_members:[3079,"bool",!1,!0],community_rich_system_message_enabled:[3292,"bool",!1,!1],group_mentions_in_cag:[3097,"bool",!1,!0],group_mentions_in_subgroups:[4087,"bool",!1,!0],parent_group_home_header_actions_enabled:[3267,"bool",!1,!1],non_blocking_resume_from_open_tab_enabled:[3191,"bool",!1,!1],non_blocking_resume_from_open_tab_signal_enabled:[3622,"bool",!1,!1],smb_catalog_messages_download_thumbnail_on_receiver_enabled:[3247,"bool",!1,!1],send_extended_nack_enabled:[3280,"bool",!1,!1],send_message_drop_nack_enabled:[3741,"bool",!1,!1],send_message_drop_old_couter_nack_enabled:[4213,"bool",!1,!1],parent_group_enhanced_description_enabled:[3154,"bool",!1,!0],parent_group_info_updates_enabled:[3616,"bool",!1,!1],noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],wa_ctwa_web_entrypoint_home_header_enabled:[3058,"bool",!1,!1],wa_ctwa_web_entrypoint_home_header_dropdown_enabled:[3095,"bool",!1,!1],wa_ctwa_web_entrypoint_home_banner_enabled:[3096,"bool",!1,!1],wa_ctwa_web_entrypoint_home_icon_tooltip_enabled:[3242,"bool",!1,!1],wa_ctwa_web_entrypoint_pageless_enabled:[3293,"bool",!1,!1],wa_ctwa_web_entrypoint_manage_ads_home_header_dropdown_enabled:[3376,"bool",!1,!1],wa_ctwa_web_fetch_linked_accounts_enabled:[3294,"bool",!1,!1],report_to_admin_kill_switch:[3695,"bool",!1,!0],report_to_admin_enabled:[3696,"bool",!1,!0],parent_group_allow_member_added_groups_m1:[3829,"bool",!1,!0],parent_group_allow_member_added_groups_default_on_creation:[4530,"bool",!1,!0],parent_group_allow_member_added_groups_m2:[4184,"bool",!1,!0],parent_group_allow_member_suggest_existing_m3_sender:[5077,"bool",!1,!0],parent_group_allow_member_suggest_existing_m3_receiver:[5078,"bool",!1,!0],abort_building_e2e_proto_on_error:[3224,"bool",!1,!0],abort_decrypting_e2e_on_error:[4055,"bool",!1,!0],community_shorter_group_creation_enabled:[3966,"bool",!1,!1],community_stacked_squircle_enabled:[5103,"bool",!1,!1],community_navigate_to_unread_subgroup_enabled:[5169,"bool",!1,!1],community_navigation:[4003,"bool",!1,!1],community_examples:[4852,"bool",!1,!0],community_general_chat_UI_enabled:[5021,"bool",!1,!0],community_general_chat_max_auto_add_users:[5144,"int",1024,1024],bonsai_enabled:[4010,"bool",!1,!1],bonsai_receiver_enabled:[4165,"bool",!1,!1],bonsai_inline_feedback_enabled:[5246,"bool",!1,!1],bonsai_ptt_enabled:[4416,"bool",!1,!1],bonsai_update_interval:[4417,"int",86400,86400],bonsai_avatar_enabled:[4532,"bool",!1,!1],bonsai_ti_timeout_duration_ms:[4736,"int",7e3,7e3],bonsai_word_streaming_enabled:[4974,"bool",!1,!1],bonsai_streaming_chunk_latency:[5150,"int",0,0],bonsai_streaming_line_count_for_pinning:[5268,"int",4,4],web_mediaretry_notification_nack_enabled:[4206,"bool",!1,!1],bot_response_futureproof_message_enabled:[4274,"bool",!1,!0],low_cache_hit_rate_media_types:[4836,"string","ptt,audio,document,ppic","ptt,audio,document,ppic"],wa_ctwa_web_thread_ad_attribution_enabled:[2898,"bool",!1,!1],wa_ctwa_ads_action_banner_enabled:[1495,"bool",!1,!0],wa_ctwa_ads_action_banner_enabled_web:[4021,"bool",!1,!0],wa_ctwa_action_banner_logging_enabled_web:[4022,"bool",!1,!0],ctwa_data_max_length:[1841,"int",768,768],wa_ctwa_action_banner_logging_enabled:[1866,"bool",!1,!0],wa_ctwa_web_dc_logging_enabled:[2487,"bool",!1,!1],ctwa_smb_data_sharing_consent:[2934,"bool",!1,!0],ctwa_smb_data_sharing_opt_in_cool_off_period:[3331,"int",259200,259200],ctwa_consumer_data_sharing_consent:[2935,"bool",!1,!0],mark_as_action:[2936,"bool",!1,!0],pairless_logging_attribution_window:[3017,"int",7,7],wa_biz_tool_logging_improvement:[3169,"bool",!1,!0],ctwa_additional_label_event_logging_enabled:[3793,"bool",!1,!0],ctwa_enhanced_label_logging:[4761,"bool",!1,!0],ctwa_clear_tracking:[5151,"bool",!1,!1],in_app_comms_manage_ads_web_banner_campaign_enabled:[4542,"bool",!1,!0],business_tool_enhanced_logging:[4427,"bool",!1,!1],ctwa_value_holdout_h2_23_enabled:[4796,"bool",!1,!1],smb_labels_ctwa_data_sharing:[5009,"bool",!1,!1],ig_reels_music_attribution:[1912,"bool",!1,!0],video_stream_buffering_ui_enabled:[2167,"bool",!1,!0],original_quality_image_min_edge:[3068,"int",2560,2560],original_quality_data_warning_max_mb:[3306,"int",16,16],original_quality_show_data_warning_dialog:[3307,"bool",!1,!0],original_quality_minimum_elements_to_show_data_warning_dialog:[3613,"int",20,20],web_youtube_rcat_consumption_enabled:[2957,"bool",!1,!0],web_youtube_rcat_chat_generation_enabled:[3044,"bool",!1,!0],force_transcode_videos:[5178,"bool",!1,!1],force_transcode_photos:[5179,"bool",!1,!1],autodownload_update_in_group_chat:[3273,"bool",!1,!0],enable_receiving_hd_photo_quality:[3116,"bool",!1,!0],enable_days_since_receive_logging:[3322,"bool",!1,!0],additional_pre_logging_enabled:[3490,"bool",!1,!0],client_message_id_media_download_log_enabled:[3820,"bool",!1,!0],media_sender_client_logging_enabled:[3491,"bool",!1,!0],hqp_log_enabled:[3349,"bool",!1,!0],web_fix_media_conn_block_rule_parsing:[3455,"bool",!1,!1],youtube_inline_playback_killswitch:[3522,"bool",!1,!1],media_engagement_logging_enabled:[3787,"bool",!1,!1],show_bottom_sheet_gallery:[3844,"bool",!1,!0],max_pixels_size_allowed_for_image:[4538,"int",921600,921600],fun_stickers_locale_langs:[4631,"string","en","en"],fun_stickers_phase2_enabled:[4643,"bool",!1,!1],status_inline_link_preview_enabled:[1522,"bool",!1,!0],text_status_url_logging_enabled:[1851,"bool",!1,!0],status_reaction_emojis:[1852,"string","[128525, 128514, 128558, 128546, 128591, 128079, 127881, 128175]","[128525, 128514, 128558, 128546, 128591, 128079, 127881, 128175]"],status_reply_received_logging_enabled:[1859,"bool",!1,!0],status_caption_link_detection_enabled:[2032,"bool",!1,!0],status_view_error_type_logging_enabled:[2086,"bool",!0,!0],status_from_me_unseen_enabled:[2039,"bool",!1,!0],smb_collections_enabled:[451,"bool",!1,!0],consumer_collections_enabled:[582,"bool",!1,!0],smb_collections_appeal_flow_enabled:[724,"bool",!1,!1],smb_multi_device_awareness:[1074,"bool",!1,!0],smb_quick_replies_v2_enabled:[875,"bool",!1,!1],smb_ecommerce_compliance_india_m4:[1003,"bool",!1,!0],smb_ecommerce_compliance_india_m4_5:[1192,"bool",!1,!0],smart_filters_enabled:[1015,"bool",!1,!0],btm_threads_logging_enabled:[1022,"bool",!1,!0],native_commerce_threads_logging_enabled:[1034,"bool",!1,!0],threads_logging_observe_list_enabled:[1168,"bool",!1,!0],smb_hide_unsupported_currency_price:[1203,"bool",!1,!0],hyperlinked_phone_numbers_enabled:[1215,"bool",!1,!1],smb_catkit_query_version:[1229,"int",1,1],smb_phase_out_not_a_business:[1263,"bool",!1,!0],smb_phase_out_not_a_business_V2:[1771,"bool",!1,!0],smb_threads_logging_enabled:[1251,"bool",!1,!0],smb_click_to_chat_logging_enabled:[1252,"bool",!1,!0],smb_broadcast_logging_enabled:[1253,"bool",!1,!0],smb_status_logging_enabled:[1254,"bool",!1,!0],smb_biz_profile_logging_enabled:[1255,"bool",!1,!0],smb_registration_flow_logging_enabled:[1256,"bool",!1,!0],btm_qpl_enabled:[1272,"bool",!1,!0],smb_temp_cover_photo_privacy_messaging:[1913,"bool",!1,!0],show_shops_sunset_banner:[1949,"bool",!1,!0],vname_logging_and_debugging:[3961,"bool",!0,!0],verified_business_numbers:[3969,"string","{}",'{"paytm":[917531875318, 919004990049]}'],verified_business_numbers_for_business_name_update:[4006,"string","","917531875318,919004990049"],vname_cert_deprecation:[5001,"bool",!1,!0],qpl_enabled:[212,"bool",!1,!0],qpl_upload_delay:[215,"int",1440,1],qpl_sampling_as_string:[466,"string",'json:{"sampling":[]}','json:{"sampling":[]}'],qpl_initial_upload_delay:[1223,"int",5,1],is_meta_employee:[1570,"bool",!1,!1],should_deregister_on_syncd_fatal:[383,"bool",!0,!0],group_catch_up:[559,"bool",!1,!1],web_abprop_ctwa_context_compose_enabled:[591,"bool",!1,!1],web_abprop_group_description_length:[592,"int",0,0],web_abprop_ephemeral_messages_allowed_values:[593,"string","604800","604800"],web_abprop_collections_display:[584,"bool",!1,!1],multi_select_from_chat_list:[2312,"bool",!1,!0],web_abprop_collections_management:[585,"bool",!1,!1],web_abprop_drop_full_history_sync:[600,"bool",!1,!1],web_abprop_business_profile_incomplete_nux_banner:[710,"bool",!1,!1],web_abprop_product_catalog_nux_banner:[711,"bool",!1,!1],web_abprop_click_nux_banner_migration:[712,"bool",!1,!1],web_abprop_ecommerce_compliance_india:[717,"bool",!1,!1],web_abprop_edit_ecommerce_compliance_india:[826,"bool",!1,!1],drop_last_name:[726,"bool",!1,!1],web_abprop_catalog_icon_on_top_bar:[734,"bool",!1,!1],web_abprop_collections_nux_banner:[741,"bool",!1,!1],nfm_rendering_enabled:[760,"bool",!1,!1],web_abprop_nux_cart_interstitial:[761,"bool",!1,!1],web_abprop_business_profile_refresh_status_enabled:[763,"bool",!1,!1],web_abprop_business_profile_refresh_linked_account_enabled:[764,"bool",!1,!1],web_abprop_business_profile_refresh_edit_cover_photo_enabled:[765,"bool",!1,!1],web_abprop_business_profile_refresh_cover_photo_view_enabled:[766,"bool",!1,!1],elevated_important_msg:[809,"bool",!1,!1],web_privacy_settings:[837,"bool",!1,!1],web_privacy_settings_v2:[1226,"bool",!1,!1],web_status_psa:[873,"bool",!1,!1],web_status_psa_history_sync:[1095,"bool",!1,!1],web_2fa:[1195,"bool",!1,!1],web_abprop_stateful_enumeration_enabled:[887,"bool",!0,!0],web_abprop_block_catalog_creation_ecommerce_compliance_india:[894,"bool",!1,!1],web_sticker_store:[930,"bool",!0,!0],web_proactive_prekeys_fetch_group_size_limit:[937,"int",0,0],web_favorite_stickers:[962,"bool",!1,!1],web_orchestrator_enabled_version:[984,"string","bucket","bucket"],web_wam_v5_enabled:[1033,"bool",!1,!1],web_ps_v3_enabled:[1114,"bool",!1,!1],web_shop_storefront_message:[1053,"bool",!1,!1],web_identity_store_cache:[1078,"bool",!1,!1],web_abprop_large_files_encryption_optimization:[1086,"bool",!1,!1],web_send_invisible_msg_to_new_groups:[1099,"bool",!1,!1],web_send_invisible_msg_min_group_size:[1100,"int",128,128],web_send_invisible_msg_max_group_size:[1945,"int",1024,1024],web_init_chat_batch_size:[1171,"int",100,100],web_init_chat_max_unread_message_count:[1172,"int",0,0],web_abprop_skip_file_copy_on_attach:[1174,"bool",!1,!1],reaction_history_sync:[1179,"bool",!1,!1],web_abprop_screen_sharing_enabled:[1189,"bool",!1,!1],web_graphql_for_catalog_m1:[1205,"bool",!1,!1],web_adaptive_offline_resume_enabled:[1224,"bool",!1,!1],web_wa_signal_enabled:[1225,"bool",!1,!1],web_gdpr_request_account_info_enabled:[1232,"bool",!1,!1],web_abprop_document_resume_upload:[1247,"bool",!1,!1],more_reactions_option_desktop_beta_rollout:[1759,"bool",!0,!0],reactions_keyboard_hides_three_flags_desktop_beta_rollout:[1796,"bool",!1,!1],web_rotate_sender_key_if_sent:[1329,"bool",!1,!1],web_lru_cache_purge_logic_refactor:[1383,"bool",!1,!1],companion_min_versions:[1367,"string","json:[]","json:[]"],comparion_force_upgrade:[1368,"bool",!1,!1],web_abprop_business_profile_refresh_linked_accounts_killswitch:[1351,"bool",!1,!1],web_default_pull_mode_enabled:[1355,"bool",!1,!1],web_abprop_chatd_login_cookie_enabled:[1371,"bool",!1,!1],web_prekeys_fetch_first_batch_size:[1373,"float",0,0],md_app_state_gate_D34336913:[1379,"bool",!1,!1],web_address_capture_message_enabled:[1385,"bool",!1,!1],syncd_periodic_sync_days:[1400,"int",0,0],web_enable_hyperlinked_phone_numbers_ps_logging:[1401,"bool",!1,!1],web_get_maybe_me_user_optimization_enabled:[1451,"bool",!1,!1],web_should_fatal_on_missing_patch:[1461,"bool",!0,!0],web_reactions_send_desktop_beta_rollout:[1479,"bool",!0,!0],web_abprop_remove_uploaded_files:[1481,"bool",!1,!1],web_abprop_remove_downloaded_files:[1496,"bool",!1,!1],web_killswitch_s310872_mitigation:[2879,"bool",!1,!1],web_new_rich_text_input:[1507,"bool",!0,!0],web_syncd_max_mutations_to_process_during_resume:[1513,"int",1e3,1e3],reactions_skin_tone_aggregation:[1593,"bool",!1,!1],message_quick_reply:[1623,"bool",!1,!1],web_quantity_controls_enabled:[1659,"bool",!1,!1],web_unified_message_processing_enabled:[1633,"bool",!1,!1],web_push_notifications:[1643,"bool",!1,!0],web_push_notifications_super_users:[3868,"bool",!1,!1],web_notification_settings_v2:[1676,"bool",!1,!0],web_abprop_device_agnostic_voip:[1675,"bool",!1,!1],web_abprop_screen_lock_enabled:[1680,"bool",!1,!1],web_abprop_screen_lock_show_learn_more_link:[4790,"bool",!1,!1],web_command_palette:[1726,"bool",!0,!0],web_group_profile_editor:[1745,"bool",!0,!0],web_group_profile_picture_stickers_label_fix:[4901,"bool",!1,!0],web_quick_reply_authoring:[1751,"bool",!1,!1],web_accidental_delete_for_me:[1752,"bool",!0,!0],web_abprop_core_wam_runtime:[1753,"bool",!1,!1],web_profile_picture_db_cache_disabled:[1757,"bool",!1,!1],web_offline_resume_qpl_enabled:[1773,"bool",!1,!1],web_offline_resume_m3_enabled:[1802,"bool",!1,!1],web_syncd_fatal_fields_from_L1104589PRV2:[1808,"bool",!1,!1],web_media_editor_blur_tool:[1816,"bool",!0,!0],web_abprop_mute_notifications_on_app_focus:[1824,"bool",!1,!0],web_auto_mute_256_groups_confirmation:[2533,"bool",!1,!1],web_multi_skin_toned_emoji_picker:[1850,"bool",!1,!1],web_message_send_cache_warming_up:[1894,"bool",!1,!0],web_message_send_precalculate_icdc:[2801,"bool",!1,!0],web_ptt_streamer_upload:[1902,"bool",!1,!0],web_prekey_fetch_cache_warming_up:[1910,"bool",!1,!0],web_history_sync_ui:[1911,"bool",!1,!1],web_abprop_emoji_experimental_api:[1932,"bool",!1,!1],web_new_media_caption_input:[1959,"bool",!0,!0],web_chatlist_toggle:[1964,"bool",!1,!0],web_electron_deprecation_windows_sideload_stage1_awareness:[1985,"bool",!1,!1],web_electron_deprecation_windows_sideload_stage2_compatible_expiry_kickoff:[1986,"bool",!1,!1],web_electron_deprecation_windows_sideload_stage2_compatible_expiry_delay:[1987,"int",0,0],web_electron_deprecation_windows_sideload_stage2_incompatible_expiry_kickoff:[1988,"bool",!1,!1],web_electron_deprecation_windows_sideload_stage2_incompatible_expiry_delay:[1989,"int",0,0],web_electron_deprecation_mac_appstore_stage_1_awareness:[5101,"bool",!1,!1],web_electron_deprecation_mac_sideload_stage_1_awareness:[5018,"bool",!1,!1],web_electron_deprecation_mac_sideload_stage_1_bbar_dismiss_duration_days:[5294,"int",7,7],web_electron_deprecation_mac_sideload_stage_2_expiry_kickoff:[5019,"bool",!1,!1],web_electron_deprecation_mac_sideload_stage_2_expiry_delay:[5020,"int",0,0],web_message_list_a11y_redesign:[2016,"bool",!0,!0],web_enable_profile_pic_thumb_db_caching:[2018,"bool",!1,!1],web_enable_profile_pic_thumb_download_over_mms4:[4327,"bool",!1,!1],web_enable_biz_catalog_view_ps_logging:[2056,"bool",!0,!0],web_abprop_media_links_docs_search:[2063,"bool",!1,!1],web_poll_creation_desktop_beta_rollout:[2179,"bool",!1,!1],web_poll_receiving_desktop_beta_rollout:[2181,"bool",!1,!1],web_file_streaming_upload:[2210,"bool",!1,!1],web_new_group_member_search:[2220,"bool",!1,!1],web_max_contacts_to_show_common_groups:[2264,"int",10,10],web_max_found_common_groups_displayed:[2268,"int",15,15],web_fp_reparsing_for_non_add_ons:[2231,"bool",!1,!1],web_message_custom_aria_label:[2280,"bool",!1,!1],web_message_list_a11y_redesign_beta_only:[2294,"bool",!0,!0],web_search_by_type_date_infra:[4768,"bool",!1,!1],web_search_by_type_enabled:[4769,"bool",!1,!1],web_search_by_date_enabled:[4770,"bool",!1,!1],web_poll_spam_report:[2303,"bool",!1,!1],web_electron_active_reload:[2322,"bool",!0,!0],desktop_upsell_win_butterbar:[2348,"bool",!1,!1],desktop_upsell_win_ctas:[2349,"bool",!1,!1],desktop_upsell_win_dropdown_btn:[2725,"bool",!1,!1],desktop_upsell_win_temporary_ctas:[4802,"bool",!1,!1],desktop_upsell_mac_temporary_ctas:[4803,"bool",!1,!1],desktop_upsell_win_permanent_ctas:[4804,"bool",!1,!1],desktop_upsell_mac_permanent_ctas:[4805,"bool",!1,!1],desktop_upsell_win_cta_chatlist_dropdown:[5145,"bool",!1,!1],desktop_upsell_win_cta_chatlist_toastbar:[5146,"bool",!1,!1],desktop_upsell_win_cta_search_results_toastbar:[5147,"bool",!1,!1],desktop_upsell_win_cta_call_btn:[5148,"bool",!1,!1],desktop_upsell_win_cta_intro_panel:[5149,"bool",!1,!1],documents_with_captions_send_desktop_beta_rollout:[2486,"bool",!1,!1],profile_photo_rings_for_status_on_web_enabled:[2512,"bool",!1,!0],voice_status_receipt_on_web_enabled:[2513,"bool",!1,!0],web_crypto_library_enabled:[2534,"bool",!1,!1],web_crypto_library_verification_enabled:[5320,"bool",!1,!1],web_crypto_library_with_queues_enabled:[4583,"bool",!1,!1],group_chat_profile_pictures_enabled_web_beta_rollout:[2543,"bool",!0,!0],web_message_plugin_backend_registration_enabled:[2545,"bool",!1,!1],query_verified_name_when_msg_differs:[2549,"bool",!0,!0],web_media_auto_download_enabled:[2555,"bool",!1,!0],web_media_auto_download_desktop_beta_enabled:[2556,"bool",!1,!0],link_preview_wait_time:[2566,"int",7,7],web_screen_lock_max_retries:[2622,"int",10,10],forward_media_with_caption_desktop_beta_rollout:[2664,"bool",!0,!0],web_new_status_reply_input:[2708,"bool",!0,!0],web_display_name_for_enterprise_biz_vlevel_low_killswitch:[2715,"bool",!1,!1],web_display_name_for_biz_vlevel_low_killswitch:[2716,"bool",!0,!0],web_message_plugin_frontend_registration_enabled:[2793,"bool",!1,!1],external_beta_can_join:[3081,"bool",!1,!0],web_native_fetch_media_download:[3031,"bool",!1,!1],web_image_max_edge:[3042,"int",1600,1600],web_image_max_hd_edge:[3204,"int",2560,2560],enable_logging_multi_select_from_chat_list:[3118,"bool",!1,!0],web_store_quota_manager_enabled:[3133,"bool",!1,!1],web_chat_with_unknown_contacts:[4670,"bool",!1,!1],web_browser_quota_threshold:[3134,"int",100,100],web_browser_min_storage_quota:[3135,"int",5,5],web_original_photo_quality_upload_enabled:[3136,"bool",!1,!1],web_deprecate_mms4_hash_based_download:[3152,"bool",!1,!0],web_md5_message_key:[3164,"bool",!1,!0],web_sha256_message_key:[3729,"bool",!0,!0],web_e2e_backfill_expire_time:[3234,"int",5,60],web_message_table_index_rowid_optimization:[3279,"bool",!1,!1],wds_radius_and_casing:[3350,"bool",!1,!0],web_attach_menu_redesign:[4032,"bool",!1,!0],web_expression_panels:[3420,"bool",!1,!1],can_support_web_column_packing:[3600,"bool",!1,!1],web_column_data_serialization_enabled:[3970,"bool",!1,!1],column_serialization_perf_impact_test:[3973,"bool",!1,!1],web_message_edit_receive_desktop_beta_rollout:[3723,"bool",!1,!1],web_message_edit_send_desktop_beta_rollout:[3724,"bool",!1,!1],web_message_edit_processing_reply_messages:[3883,"bool",!0,!0],web_message_processing_cache_size:[3728,"int",400,400],web_encryption_failed_message_resend:[3779,"bool",!1,!1],append_message_when_forwarding_media_desktop_beta:[3818,"bool",!1,!1],web_client_pull_timeout_ms:[3890,"int",1e4,1e4],web_socket_reconnect_enabled:[3892,"bool",!1,!1],web_outgoing_message_validation_list:[4019,"string","[]","[]"],web_device_sync_manager_enabled:[4024,"bool",!1,!1],web_device_sync_manager_group_enabled:[4453,"bool",!1,!1],web_draft_message_enabled:[4125,"bool",!1,!1],history_sync_loop_interval_ms:[4149,"int",2e4,2e4],history_sync_on_demand_failure_limit:[4364,"int",10,10],history_sync_on_demand_cooldown_sec:[4365,"int",7200,7200],history_sync_on_demand_request_send_killswitch:[4366,"bool",!0,!0],flattened_reactions_collection:[4390,"bool",!1,!1],web_offline_notification_priority:[4403,"bool",!1,!1],web_status_posting_enabled:[4404,"bool",!1,!1],unified_pin_addon_infra_enabled:[4475,"bool",!1,!1],web_enable_open_tab_pre_ack:[4483,"bool",!1,!1],web_improved_text_tool_enabled:[4669,"bool",!1,!1],web_internal_in_app_bug_reporting_enable:[4681,"bool",!1,!1],web_sticker_suggestions_enable:[4726,"bool",!1,!1],web_enable_capi_support_chat:[4724,"bool",!1,!1],web_device_switching:[4792,"bool",!1,!0],web_initial_sync_encrypted_msgs_storing:[4904,"bool",!1,!1],web_expression_panels_mitigations:[4951,"bool",!1,!0],web_animate_messages:[4952,"bool",!1,!0],web_improved_message_composer_enabled:[4973,"bool",!1,!1],web_preload_chat_messages:[5079,"bool",!1,!0],web_anyone_can_add_group_setting_enabled:[5080,"bool",!1,!0],web_command_palette_plugins:[5100,"bool",!1,!1],web_noncritical_history_sync_message_processing_break_iteration:[5106,"int",100,100],web_tc_token_db_read_enabled:[5110,"bool",!1,!1],web_invalid_message_count_validation:[5164,"bool",!1,!0],web_invalid_media_message_validation:[5165,"bool",!1,!0],web_offline_dynamic_batch_size_enabled:[5271,"bool",!1,!0],web_offline_dynamic_batch_config:[5297,"string",'{"denominator": 2}','{"denominator": 2}'],web_history_sync_notification_handling_queue_v2:[5291,"bool",!1,!1],stop_abprops_traffic_in_serverprops_response:[315,"bool",!1,!1],chat_upsell_for_1on1_invites:[3689,"bool",!1,!1],ugc_participant_limit:[4118,"int",5,5],anyone_can_add_to_groups_by_default:[4441,"bool",!1,!1],group_join_request_on_by_default:[4593,"bool",!1,!1],group_chat_profile_pictures_enabled:[1825,"bool",!1,!1],group_chat_profile_pictures_v2_enabled:[3261,"bool",!1,!1],unified_user_profile_navigation_enabled:[3523,"bool",!1,!1],view_all_replies_enabled:[4215,"bool",!1,!1],top_menu_redesign_enabled:[4545,"bool",!1,!1],ugr_enabled:[3010,"bool",!1,!0],ugc_enabled:[3011,"bool",!1,!0],ug_chat_banner_enabled:[5002,"bool",!1,!0],ug_chat_banner_visibility_max_seconds:[5016,"int",432e3,432e3],ug_chat_banner_visibility_min_seconds:[5119,"int",0,0],reword_subject_to_group_name_enabled:[3088,"bool",!1,!0],commerce_metadata_supported_business:[1693,"string","18785550326,918591749310,917977079770,12245555037,5515997781156,5511989238421,555191894444,905333860133,908502213040,5511916282555,555139214004,555198849745,551147664020,622150851766,551121038525","18785550326,447766028329,918591749310,917977079770,12245555037,5515997781156,5511989238421,555191894444,905333860133,908502213040,5511916282555,555139214004,555198849745,551147664020,622150851766"],in_app_survey_phone_numbers:[1607,"string","16508638904","16508638904"],order_details_payment_instructions_enabled:[1595,"bool",!1,!0],enable_biz_activity_report_request:[455,"bool",!1,!1],plm_products_max_batch_fetch_size:[464,"int",18,18],enable_granular_reject_reasons:[550,"bool",!1,!1],elevating_profile_names_enabled:[604,"bool",!1,!1],enable_group_profile_editor:[689,"bool",!1,!1],csat_message_rating:[690,"bool",!1,!0],facebook_link_preview_use_thumbnail:[810,"bool",!1,!0],tam_attachment_cache_compaction_enabled:[838,"bool",!1,!1],business_threads_logging_enabled:[853,"bool",!1,!1],private_stats_biz_view_logging_enabled:[904,"bool",!1,!1],group_join_request_m0_anyone_can_join:[2367,"bool",!1,!1],group_join_request_m1:[1727,"bool",!1,!1],group_join_request_m2:[1728,"bool",!1,!1],parent_group_announcement_comments_enabled:[4727,"bool",!1,!1],parent_group_announcement_comments_receiver_enabled:[5141,"bool",!1,!1],parent_group_announcement_comments_participant_limit:[4728,"int",1024,1024],parent_group_announcement_comment_subscription_enabled:[4729,"bool",!1,!1],group_join_request_m2_setting:[1887,"bool",!1,!1],group_join_request_m2_logging:[2913,"bool",!1,!1],group_join_request_m2_max_pending_participants_limit:[2418,"float",2,2],group_join_request_m3:[2369,"bool",!1,!1],group_join_request_m3_sort_by_time:[3451,"bool",!1,!1],group_join_request_m3_invited_tab:[3571,"bool",!1,!1],group_join_request_m3_groups_in_common:[3895,"bool",!1,!1],group_join_request_m3_banner:[3452,"bool",!1,!1],group_join_request_m3_push_notification:[5212,"bool",!1,!1],group_join_request_optional_message_soak:[3382,"bool",!1,!1],group_join_request_can_view_optional_message:[3383,"bool",!1,!1],group_join_request_can_send_optional_message:[3384,"bool",!1,!1],group_join_request_m2_pushname:[2376,"bool",!1,!0],group_join_request_m2_banner_on_conversation:[2449,"bool",!1,!1],group_invite_new_bottom_sheet_enabled:[2749,"bool",!0,!0],note_to_self:[1967,"bool",!1,!0],note_to_self_entry_point:[2630,"bool",!1,!0],no_delete_message_time_limit:[1011,"bool",!1,!1],sender_revoke_window_sender:[1333,"bool",!1,!0],sender_revoke_window_receiver:[1334,"bool",!1,!0],sender_revoke_ui:[1335,"bool",!1,!0],admin_revoke_receiver:[1177,"bool",!1,!0],admin_revoke_sender:[1292,"bool",!1,!0],admin_revoke_history_sync_consumer:[1245,"bool",!1,!0],revokes_logging_unsampled:[1865,"bool",!0,!0],pinned_messages_m0:[3138,"bool",!1,!1],pinned_messages_m1_receiver:[3139,"bool",!1,!1],pinned_messages_m1_sender:[3140,"bool",!1,!1],pinned_messages_m1_sender_debug_expiry_duration_secs:[3813,"int",86400,86400],pinned_messages_sender_short_expiry_durations_enabled:[4432,"bool",!1,!1],pinned_messages_m2_pin_max:[3732,"int",1,1],pinned_messages_m2:[3141,"bool",!1,!1],admin_hfm_toggle:[1021,"bool",!1,!1],csat_message_trigger:[1082,"bool",!1,!0],graphql_privacy_imp_m1:[1096,"bool",!1,!1],lthash_check_hours:[1104,"int",0,0],interactive_message_native_flow_killswitch:[1133,"bool",!1,!1],sender_key_expired_logging_enabled:[1185,"bool",!1,!1],group_size_bypassing_sampling:[1861,"int",1e5,1e5],group_size_limit:[1304,"int",257,257],v_id_deprecation_enabled:[2334,"bool",!1,!0],proactive_distribute_sender_keys_enabled:[2757,"bool",!1,!0],minimum_percentage_to_proactive_distribute_sender_keys:[2860,"int",200,50],address_message_native_flow_killswitch:[1538,"bool",!1,!1],commerce_sanctioned:[1319,"bool",!1,!1],commerce_bloks_apps_mapping:[1320,"string",'{"address_message":{"app_id":"com.bloks.www.whatsapp.commerce.address_message","expiration_secs":300,"version":"1.5","supported_businesses":["+918591749310","+917977079770","+12165552716","+918591749310","+917977079770","+919324433533","+917669800185","+919355081749","+917217010106","+912248913727","+912068135414","+918368818019","+917827971992","+917827971988","+911244632002","+919999006542","+917982465931","+911244632030","+918920528558","+911244632026","+918920530301","+15550083895","+12995550004","+6589523673","+6597685939","+6580536071","+6531631404","+6590834813","+6588867112","+16615555837","+12765985268","+18055908026"]},"galaxy_message":{"flow_message_version":{"1":{"min_android_app_supported_version":"2.22.21","min_ios_app_supported_version":"2.22.16"}},"app_id":"com.bloks.www.whatsapp.commerce.galaxy_message","expiration_secs":86400,"version":"1.0","flows":{"5315848498536354":{"supported_businesses":["18785550326","19505550093","18055555085","12115551400","12165554570"]},"384213690506206":{"supported_businesses":["13072224829","908502213040"]},"785254429343710":{"supported_businesses":["13072224829","908502213040"]},"552092896712166":{"supported_businesses":["13072224829","908502213040"]},"659207712435246":{"supported_businesses":["13072224829","908502213040"]},"1218944301990105":{"supported_businesses":["13072224829","908502213040"]},"842529276647219":{"supported_businesses":["908502419528","905333860133"]},"2135286959994016":{"supported_businesses":["908502419528","905333860133"]},"465280328842503":{"supported_businesses":["908502419528","905333860133"]},"554437403152809":{"supported_businesses":["908502419528","905333860133"]},"1503880053408592":{"supported_businesses":["908502419528","905333860133"]},"1177261906521760":{"supported_businesses":["908502419528","905333860133"]},"5199590820090002":{"supported_businesses":["5511989238421"]},"615215783523200":{"supported_businesses":["5511989238421"]},"1160930701174631":{"supported_businesses":["5511989238421","555191894444"]},"2934205950056123":{"supported_businesses":["5511916282555"]},"5324889264212944":{"supported_businesses":["5511916282555"]},"3301029236883120":{"supported_businesses":["555139214004","555198849745"]},"774830743793476":{"supported_businesses":["555139214004","555198849745"]},"1493489641166601":{"supported_businesses":["555139214004","555198849745"]},"1115920052387436":{"supported_businesses":["555139214004","555198849745"]},"611775360605929":{"supported_businesses":["551147664020","551121038525"]},"1283565282457467":{"supported_businesses":["551147664020","551121038525"]},"673695173931335":{"supported_businesses":["551147664020","551121038525"]},"508459817855605":{"supported_businesses":["442034673249","447418310027"]},"639247544356777":{"supported_businesses":["442034673249","447418310027","622150851766"]},"2679509568858534":{"supported_businesses":["442034673249","447418310027","622150851766"]}}}}','{"address_message":{"app_id":"com.bloks.www.whatsapp.commerce.address_message","expiration_secs":300,"version":"1.5","supported_businesses":["+918591749310","+917977079770","+12165552716","+918591749310","+917977079770","+919324433533","+917669800185","+919355081749","+917217010106","+912248913727","+912068135414","+918368818019","+917827971992","+917827971988","+911244632002","+919999006542","+917982465931","+911244632030","+918920528558","+911244632026","+918920530301","+15550083895","+12995550004","+6589523673","+6597685939","+6580536071","+6531631404","+6590834813","+6588867112","+16615555837","+12765985268","+18055908026"]},"galaxy_message":{"flow_message_version":{"1":{"min_android_app_supported_version":"2.22.21","min_ios_app_supported_version":"2.22.16"}},"app_id":"com.bloks.www.whatsapp.commerce.galaxy_message","expiration_secs":86400,"version":"1.0","flows":{"5315848498536354":{"supported_businesses":["18785550326","19505550093","18055555085","12115551400","12165554570"]},"384213690506206":{"supported_businesses":["13072224829","908502213040"]},"785254429343710":{"supported_businesses":["13072224829","908502213040"]},"552092896712166":{"supported_businesses":["13072224829","908502213040"]},"659207712435246":{"supported_businesses":["13072224829","908502213040"]},"1218944301990105":{"supported_businesses":["13072224829","908502213040"]},"842529276647219":{"supported_businesses":["908502419528","905333860133"]},"2135286959994016":{"supported_businesses":["908502419528","905333860133"]},"465280328842503":{"supported_businesses":["908502419528","905333860133"]},"554437403152809":{"supported_businesses":["908502419528","905333860133"]},"1503880053408592":{"supported_businesses":["908502419528","905333860133"]},"1177261906521760":{"supported_businesses":["908502419528","905333860133"]},"5199590820090002":{"supported_businesses":["5511989238421"]},"615215783523200":{"supported_businesses":["5511989238421"]},"1160930701174631":{"supported_businesses":["5511989238421","555191894444"]},"2934205950056123":{"supported_businesses":["5511916282555"]},"5324889264212944":{"supported_businesses":["5511916282555"]},"3301029236883120":{"supported_businesses":["555139214004","555198849745"]},"774830743793476":{"supported_businesses":["555139214004","555198849745"]},"1493489641166601":{"supported_businesses":["555139214004","555198849745"]},"1115920052387436":{"supported_businesses":["555139214004","555198849745"]},"611775360605929":{"supported_businesses":["551147664020","551121038525"]},"1283565282457467":{"supported_businesses":["551147664020","551121038525"]},"673695173931335":{"supported_businesses":["551147664020","551121038525"]},"508459817855605":{"supported_businesses":["442034673249","447418310027"]},"639247544356777":{"supported_businesses":["442034673249","447418310027","622150851766"]},"2679509568858534":{"supported_businesses":["442034673249","447418310027","622150851766"]}}}}'],graphql_privacy_imp_m2:[1327,"bool",!1,!1],nux_sync:[1343,"bool",!1,!0],in_app_survey_enabled:[1377,"bool",!1,!0],poll_creation_enabled:[1394,"bool",!1,!1],poll_receiving_enabled:[1395,"bool",!1,!1],poll_receiving_cag_enabled:[2737,"bool",!1,!1],poll_name_length:[1406,"int",255,255],poll_option_length:[1407,"int",100,100],poll_option_count:[1408,"int",12,12],poll_offline_accuracy:[1409,"int",30,30],poll_cleanup_days:[1410,"int",31,31],poll_vote_processing_enabled:[1541,"bool",!1,!1],poll_result_details_view_enabled:[1948,"bool",!0,!0],poll_creation_one_on_one_chats_enabled:[2194,"bool",!1,!1],poll_creation_cag_enabled:[2738,"bool",!1,!1],poll_a11y_enabled:[2390,"bool",!1,!0],enable_status_reporting:[2728,"bool",!1,!0],group_suspend_v1_enabled:[1415,"bool",!1,!0],group_suspend_appeal_include_entity_id_enabled:[2057,"bool",!1,!0],block_from_chat_list:[2290,"bool",!1,!0],community_reporting_ui_upsell_exit:[2818,"bool",!0,!0],smb_product_price_label:[1417,"string","control","control"],interactive_response_message_killswitch:[1435,"bool",!1,!1],interactive_response_message_native_flow_killswitch:[1436,"bool",!1,!1],biz_api_voip_enabled:[1464,"bool",!1,!1],quantity_controls_enabled:[1480,"bool",!1,!0],catalog_categories_enabled:[1514,"bool",!1,!0],disappearing_messages_chat_picker:[1518,"bool",!1,!1],more_reactions_option:[1322,"bool",!1,!1],reactions_keyboard_hides_three_flags:[1792,"bool",!1,!1],send_reaction_from_details_pane:[2170,"bool",!1,!1],silent_group_exit:[1527,"bool",!1,!0],silent_group_exit_past_participants:[1528,"bool",!1,!0],silent_group_exit_dialog:[1597,"bool",!1,!0],silent_group_exit_sync:[1598,"bool",!1,!0],silent_group_exit_db:[1613,"bool",!1,!0],order_details_quick_pay:[1600,"string",'{"allowed_product_type":"none"}','{"allowed_product_type":"none"}'],incentive_program_logging_enabled:[1599,"bool",!1,!0],md_syncd_24_hour_time_format_sync_enabled:[1612,"bool",!1,!1],md_link_device_with_phone_number_enabled:[2734,"bool",!1,!1],md_link_device_with_phone_number_force_enabled:[3693,"bool",!1,!1],send_cart_cta_long_button_enabled:[1660,"bool",!0,!0],send_cart_cta_long_button_alternative_text_type:[2153,"int",0,0],product_search_m1_enabled:[1678,"bool",!1,!0],smb_catalog_collections_reordering_enabled:[1688,"bool",!0,!0],smb_catalog_collection_items_reordering_enabled:[1794,"bool",!0,!0],is_message_secret_enabled:[1707,"bool",!1,!0],documents_with_captions_receive:[1749,"bool",!1,!0],documents_with_captions_send:[1750,"bool",!1,!0],external_payments_supported_business:[1763,"string","+917000770007","+918369150604,+917000770007"],active_cart_discovery_enabled:[1766,"bool",!1,!0],order_details_payment_options:[1767,"string",'{"payment_options":[{"type":"JioPay","url_regex_list":["^https://www.jio.com/.*$","^https://t.jio/.*$","^http://tiny.jio.com/.*$"],"title":{"name":"jiopay_title","default_text":"Pay on Jio.com"},"subtitle":{"name":"jiopay_subtitle","default_text":"Go to Jio.com website"},"button":{"name":"jiopay_button","default_text":"Proceed to Jio.com"}}]}','{"payment_options":[{"type":"JioPay","url_regex_list":["^https://www.jio.com/.*$","^https://t.jio/.*$","^http://tiny.jio.com/.*$"],"title":{"name":"jiopay_title","default_text":"Pay on Jio.com"},"subtitle":{"name":"jiopay_subtitle","default_text":"Go to Jio.com website"},"button":{"name":"jiopay_button","default_text":"Proceed to Jio.com"}}]}'],order_details_payment_protection_link:[3014,"string","https://faq.whatsapp.com/725152392426717","https://faq.whatsapp.com/725152392426717"],recent_sticker_rollout_phase:[1829,"int",0,0],enable_client_chat_psa:[1844,"bool",!1,!0],enable_chat_psa_auto_play_videos:[3182,"bool",!1,!0],enable_chat_psa_forwards:[4033,"bool",!1,!0],enable_clear_formatted_preview:[4659,"bool",!1,!1],direct_connection_business_numbers:[1846,"string","16005554444,918591749310,917977079770","16005554444,918591749310,917977079770"],forward_media_with_captions:[1853,"bool",!1,!1],append_message_when_forwarding_media:[3177,"bool",!1,!1],append_message_when_forwarding_media_without_caption:[3875,"bool",!1,!1],view_all_replies:[4036,"bool",!1,!1],share_phone_number_on_cart_send_to_direct_connection_biz_enabled:[1867,"bool",!0,!0],voice_status_receipt_enabled:[1875,"bool",!0,!0],admin_include_message_secret_in_cag:[1921,"bool",!0,!0],md_syncd_primary_version_sync_enabled:[1993,"bool",!1,!1],product_catalog_qpl_logging_enabled:[2003,"bool",!1,!0],syncd_do_not_fatal_on_snapshot_mac_mismatch_in_patches:[2007,"bool",!1,!1],graphql_locale_remapping:[2014,"string","{}","{}"],product_catalog_qpl_direct_connection_status_logging_enabled:[2024,"bool",!1,!0],favorite_sticker_rmr_sync_enabled:[2155,"bool",!1,!1],web_link_preview_sync_enabled:[2156,"bool",!1,!0],message_edit_receive:[2189,"bool",!1,!0],message_edit_send:[2190,"bool",!1,!0],caption_edit_receive:[3686,"bool",!1,!1],caption_edit_send:[3687,"bool",!1,!1],message_edit_window_duration_seconds:[2983,"int",1200,1200],message_edit_client_entry_point_limit_seconds:[3272,"int",900,900],message_edit_bubble_animation:[4325,"bool",!1,!1],prekey_fetch_iq_for_missing_devices_enabled:[2193,"bool",!1,!1],extensions_message_support_version:[2306,"string",'{"1":{"min_android_app_supported_version":"2.22.21","min_ios_app_supported_version":"2.22.16"},"2":{"min_android_app_supported_version":"2.22.23.11","min_ios_app_supported_version":"2.23.4"},"3":{"min_android_app_supported_version":"2.23.17.10"}}','{"1":{"min_android_app_supported_version":"2.22.21","min_ios_app_supported_version":"2.22.16"},"2":{"min_android_app_supported_version":"2.22.23","min_ios_app_supported_version":"2.23.2"},"3":{"min_android_app_supported_version":"2.23.17"}}'],block_from_notification:[2374,"bool",!1,!0],four_reactions_in_bubble_enabled:[2378,"bool",!1,!0],block_entry_point_logging_enabled:[2522,"bool",!1,!0],non_message_data_request_logging_enabled:[2573,"bool",!1,!0],polls_fast_follow_enabled:[2661,"bool",!0,!0],poll_chatlist_preview_enabled:[2720,"bool",!1,!0],polls_search_support_enabled:[2662,"bool",!1,!0],attachment_tray_logging_enabled:[2914,"bool",!1,!0],polls_reply_support_enabled:[2663,"bool",!1,!0],polls_single_option_control_enabled:[3050,"bool",!1,!0],polls_single_option_sender_control_enabled:[3433,"bool",!1,!0],polls_single_option_reciever_control_enabled:[3434,"bool",!0,!0],polls_single_option_receiver_control_enabled:[3437,"bool",!0,!0],polls_notification_enabled:[3158,"bool",!1,!1],ptt_transcription_enabled:[2890,"bool",!1,!0],attach_menu_redesign_enabled:[3223,"bool",!1,!1],ts_navigation_community_enabled:[3858,"bool",!1,!1],ts_bit_array_enabled:[3859,"bool",!1,!1],ts_external_enabled:[4928,"bool",!1,!1],ts_surface_killswitch:[4929,"int",0,0],ts_session_duration_ms:[3860,"int",6e5,6e5],fullscreen_animation_for_keyword:[2776,"bool",!1,!1],syncd_additional_mutations_count:[2777,"int",1,1],mpm_nfm_enabled:[2811,"bool",!0,!0],interactive_template_enabled:[2813,"bool",!0,!0],inapp_banner_client_enabled:[2871,"bool",!1,!0],quick_promotion_banner_client_enabled:[3712,"bool",!1,!1],extensions_template_killswitch:[2885,"bool",!1,!1],biz_extensions_metadata_cache_ttl_minutes:[2891,"int",1440,1440],biz_extensions_metadata_ban_ttl_minutes:[2892,"int",525600,525600],utm_tracking_enabled:[2895,"bool",!1,!1],utm_tracking_expiration_hours:[2896,"int",24,24],mpm_nfm_forwarding_enabled:[2909,"bool",!1,!1],url_hsm_redesign_enabled:[2990,"bool",!0,!0],button_url_hsm_redesign_enabled:[2994,"bool",!0,!0],is_internal_tester:[2945,"bool",!1,!0],report_string_comprehension:[3032,"bool",!1,!0],alt_device_linking_enabled:[3128,"bool",!1,!1],mute_dialog_description:[3155,"bool",!1,!0],mute_always_show_notification_action:[3156,"bool",!1,!0],extensions_graphql_cta_disable:[3192,"string","2498088","2498088"],recent_emojis_sync:[3198,"bool",!1,!1],syncd_report_key_stats:[3301,"bool",!1,!0],history_sync_on_demand:[3337,"bool",!1,!1],history_sync_on_demand_time_boundary_days:[3642,"int",365,365],history_sync_on_demand_message_count:[3811,"int",50,50],history_sync_on_demand_timeout_ms:[3882,"int",1e4,1e4],history_sync_on_demand_with_android_beta:[4135,"bool",!1,!1],ptv_sending_enabled:[3354,"bool",!1,!0],ptv_receiving_enabled:[3355,"bool",!1,!0],ptv_max_duration_seconds:[3356,"int",60,60],ptv_autoplay_enabled:[3482,"bool",!0,!0],ptv_autoplay_loop_limit:[3483,"int",3,3],ptv_nux_enabled:[4548,"bool",!1,!0],ptv_button_persistence_enabled:[4549,"bool",!1,!0],ptv_button_tooltip_animation_enabled:[5292,"bool",!1,!0],ptv_button_animation_enabled:[5317,"bool",!1,!0],template_button_improvements_on:[3444,"bool",!1,!0],qp_campaign_client_enabled:[3536,"bool",!1,!1],qp_push_notifications_enabled:[4200,"bool",!1,!1],animated_emojis_enabled:[3575,"bool",!1,!1],placeholder_message_resend:[3579,"bool",!1,!1],is_coupon_button_enabled:[3630,"bool",!1,!0],coupon_copy_button_url:[3631,"string","https://www.whatsapp.com/coupon?code=","https://www.whatsapp.com/coupon?code="],is_lto_offer_enabled:[4693,"bool",!1,!0],lto_offer_media_aspect_ratio:[5073,"float",.8,.8],placeholder_message_resend_maximum_days_limit:[3639,"int",14,14],placeholder_chat_open_group_fetch:[3644,"bool",!1,!1],placeholder_chat_open_group_fetch_size_limit:[3749,"int",33,65],high_quality_link_preview_enabled:[3665,"bool",!1,!0],orders_expansion_receiver_countries_allowed:[3690,"string","",""],retry_receipt_error_code_enabled:[3750,"bool",!1,!0],orders_expansion_paying_enabled:[3771,"bool",!1,!1],cag_message_edit_receive:[4089,"bool",!1,!1],cag_message_edit_send:[4090,"bool",!1,!1],broadcast_message_edit_receive:[4091,"bool",!1,!1],broadcast_message_edit_send:[4092,"bool",!1,!1],expanded_text_formatting_enabled:[4093,"bool",!1,!1],support_ticket_data_collection_improvements:[4150,"bool",!1,!1],link_preview_shimmer_enabled:[4205,"bool",!1,!1],member_name_tag_enabled:[4233,"bool",!1,!0],support_ticket_stop_uploading_device_logs:[4242,"bool",!1,!1],community_subgroup_join_from_system_message_enabled:[4345,"bool",!1,!0],carousel_message_client_enabled:[4668,"bool",!1,!0],internal_bug_reporting_v1_enabled:[4697,"bool",!1,!1],row_buyer_order_revamp_m0_enabled:[4893,"bool",!1,!0],post_status_in_companion:[4905,"bool",!1,!1],evolve_about_m1_enabled:[4921,"bool",!1,!1],community_members_bottomsheet_enabled:[4979,"bool",!1,!1],community_members_bottomsheet_post_creation_enabled:[5e3,"bool",!1,!1],buyer_initiated_order_request_variant_enabled:[5114,"bool",!1,!1],im_nfm_dynamic_message_killswitch:[5124,"bool",!1,!1],inbox_filters_enabled:[5171,"bool",!1,!1],inbox_filters_favorites_enabled:[5172,"bool",!1,!1],inbox_filters_custom_filters_enabled:[5173,"bool",!1,!1],seller_orders_management_revamp:[5190,"bool",!1,!1],extensions_central_config_killswitch:[5247,"bool",!1,!1],project_pdf_enabled:[2575,"bool",!1,!0],pdf_auto_start_interval_seconds:[3479,"int",86400,30],pdf_external_deeplink_enabled:[4100,"bool",!1,!0],pdf_client_driven_rollout_enabled:[4679,"bool",!1,!0],pdf_max_download_jitter_time_seconds:[4680,"int",180,180],pdf_md_support_enabled:[4779,"bool",!1,!0],client_group_participants_limit:[618,"int",257,257],payment_stickers_render_enabled:[812,"bool",!1,!1],cart_order_creation_shortcut_enabled:[4257,"bool",!1,!1],payments_merchant_global_orders_value_props_banner_enabled:[3744,"bool",!1,!0],payments_merchant_global_orders_value_props_banner_logging_enabled:[5255,"bool",!1,!0],payments_br_installment_buyer_learn_more_link:[4144,"string","https://faq.whatsapp.com/1134168457974360","https://faq.whatsapp.com/1134168457974360"],ipayments_br_installment_seller_learn_more_link:[4145,"string","https://faq.whatsapp.com/253337763937767","https://faq.whatsapp.com/253337763937767"],payments_br_installment_seller_learn_more_link:[4254,"string","https://faq.whatsapp.com/253337763937767","https://faq.whatsapp.com/253337763937767"],payments_link_to_lite_consumer_enabled:[3051,"bool",!1,!0],payments_br_pix_phase_1_seller_enabled:[4781,"bool",!1,!1],payments_br_info_architecture_orders_hub_enabled:[4976,"bool",!1,!1],privacy_allow_contacts_except:[808,"bool",!1,!1],primary_feature_sync:[1063,"bool",!1,!0],privacy_narrative_v1:[1071,"bool",!1,!1],add_dm_to_chat_overflow_menu:[1309,"bool",!1,!1],keep_in_chat_receiver:[1352,"bool",!1,!1],keep_in_chat_sender:[1353,"bool",!1,!1],keep_in_chat_ui_content:[2005,"bool",!1,!1],kic_orphan_cleanup_days:[1673,"int",31,31],supports_keep_in_chat_in_cag:[2844,"bool",!0,!0],kic_msg_send_expiry_sec:[4042,"int",86400,86400],ddm_reversed_options:[1397,"bool",!1,!1],qm_lean_msg:[1645,"bool",!1,!1],pnh_historical_mapping_retention_seconds:[1429,"int",7776e3,7776e3],trusted_contacts_reciprocity:[1437,"bool",!1,!1],trusted_contacts_chat_state_optimization:[1566,"string","old","old"],trusted_contacts_op:[1687,"bool",!1,!0],dm_updated_system_message:[1670,"bool",!1,!0],keep_in_chat_undo_duration_limit:[1698,"int",2592e3,2592e3],view_once_sp_receiver:[1710,"bool",!1,!1],view_once_sp_sender:[1711,"bool",!1,!1],pnh_ctwa:[1823,"bool",!1,!0],pnh_indicator:[2245,"bool",!1,!0],usync_lid:[1892,"bool",!1,!1],pnh_pn_for_lid_chat_sync:[3062,"bool",!1,!0],pnh_identity_verification_v3:[2751,"bool",!1,!1],share_own_pn_sync:[3070,"bool",!1,!0],pnh_companion_history_sync_lid_chat:[3481,"bool",!1,!0],pnh_cag_upgrade:[2304,"int",0,0],cag_reactions_receive:[2035,"bool",!1,!1],cag_reactions_send:[2036,"bool",!1,!1],pnh_cag_show_masked_members:[2346,"bool",!1,!1],calling_privacy_caller_offer:[1970,"bool",!0,!0],calling_privacy_caller_send_token:[1971,"bool",!0,!0],calling_privacy_callee:[1972,"bool",!0,!0],group_add_ack_server:[3624,"bool",!0,!0],pnh_cag_future_proof_banner:[2433,"bool",!1,!1],pnh_split_threads_detection:[2479,"bool",!1,!1],pnh_ctwa_mat_crashlog:[3691,"bool",!1,!1],pnh_group_lid:[2507,"int",0,0],out_of_sync_disappearing_messages_logging:[2561,"bool",!1,!0],dm_chat_picker_v2:[2597,"bool",!1,!0],dm_additional_durations:[3305,"bool",!1,!1],dm_initiator_trigger:[5309,"bool",!1,!0],ephemeral_sync_response:[2714,"bool",!1,!1],dmcp_manage_storage_LAUNCH:[2919,"bool",!1,!0],settings_search:[2800,"bool",!1,!1],enable_soox_message_receiving:[2802,"bool",!1,!1],soox_long_press_duration_ms:[4922,"int",500,500],enable_soox_message_sending:[2832,"bool",!1,!1],pnh_split_thread_case1_detection:[2939,"bool",!1,!0],pnh_cag_block_lid_in_limbo:[2962,"bool",!0,!0],prekey_fetch_iq_pnh_lid_enabled:[3103,"bool",!1,!1],persisted_profile_name:[3366,"bool",!1,!1],pnh_identity_verification_v3_pn_generation:[3458,"bool",!1,!1],pnh_1on1_lid_expected:[3469,"bool",!1,!0],allow_lid_contacts_storage:[3519,"bool",!1,!1],allow_lid_contacts_new_1on1_chat:[3751,"bool",!1,!1],allow_lid_contacts_add_to_group:[3752,"bool",!1,!1],allow_lid_contacts_calling:[3762,"bool",!1,!1],allow_lid_contacts_privacy_settings:[3763,"bool",!1,!1],allow_share_lid_contacts_vcard:[3789,"bool",!1,!1],allow_parse_lid_contacts_vcard:[3790,"bool",!1,!1],rabbit_enabled:[3603,"bool",!1,!1],pnh_prevent_undefined_lid_chat_origin:[3872,"bool",!1,!1],first_message_experience:[3962,"bool",!1,!1],first_message_experience_v2:[5263,"bool",!1,!1],privacy_tips_killswitch:[4314,"bool",!1,!1],privacy_tips_groups_build:[3995,"bool",!1,!1],privacy_tips_callers_build:[3996,"bool",!1,!1],privacy_tips_status_build:[3997,"bool",!1,!1],privacy_tips_profile_build:[3998,"bool",!1,!1],unified_e2ee_copy_build:[3999,"bool",!1,!1],unified_e2ee_ui_build:[4e3,"bool",!1,!1],unified_e2ee_copy_launch:[4869,"bool",!1,!1],unified_e2ee_ui_launch:[4870,"bool",!1,!1],unified_e2ee_bottomsheet:[5111,"bool",!1,!1],unified_e2ee_security_page:[5112,"bool",!1,!1],unified_e2ee_backup_page:[5113,"bool",!1,!1],dm_reliability_refactor:[4131,"bool",!1,!1],pnh_1on1_report_lid_message_send:[4178,"bool",!1,!1],privacy_tip_expiration_min:[4214,"int",10080,10080],soox_media_send_keep_old_button:[4297,"bool",!1,!1],pnh_cag_disable_reactions_group_size:[4495,"int",1e4,1e4],pnh_cag_disable_polls_group_size:[5056,"int",1e4,1e4],username_creation:[4745,"bool",!1,!1],username_contact_display:[4746,"bool",!1,!1],username_change:[4747,"bool",!1,!1],username_1on1_chat:[4748,"bool",!1,!1],username_group_participants:[4749,"bool",!1,!1],username_usync:[5290,"bool",!1,!1],system_msg_update:[5189,"bool",!1,!0],sticker_md_favorite_stickers_enabled:[864,"bool",!1,!1],smb_orange_enabled:[1469,"bool",!1,!1],smb_melon_display_enabled:[1483,"bool",!1,!1],smb_melon_management_enabled:[1484,"bool",!1,!1],call_only_primary_device_limit_exceeded:[1525,"bool",!1,!1],smb_premium_md_limit_perf_tracker_enabled:[1591,"bool",!1,!0],smb_billing_enabled:[1583,"bool",!1,!1],smb_billing_premium_access_config:[1619,"string","",""],smb_billing_logging_enabled:[1672,"bool",!1,!0],smb_melon_logging_enabled:[1669,"bool",!1,!0],smb_dcp_enabled:[1701,"bool",!1,!1],smb_custom_url_display_v2_enabled:[1849,"bool",!1,!0],smb_multi_device_agents_enabled:[1438,"bool",!1,!0],smb_multi_device_message_attribution_enabled:[1981,"bool",!1,!0],smb_multi_device_agents_logging_enabled:[1671,"bool",!1,!0],smb_multi_device_agents_logging_V2_enabled:[1897,"bool",!1,!0],smb_md_agent_chat_assignment_enabled:[1798,"bool",!1,!0],smb_md_agent_chat_assignment_system_messages_enabled:[2157,"bool",!1,!0],smb_md_agent_chat_assignment_system_messages_logging_v2_enabled:[2709,"bool",!1,!0],smb_md_agent_chat_assignment_system_messages_chats_reorder_enabled:[2778,"bool",!1,!0],smb_md_agent_chat_assignment_chats_reorder_on_chat_assignment_enabled:[2787,"bool",!1,!0],smb_md_agent_chat_assignment_chats_reorder_on_chat_unassignment_enabled:[2788,"bool",!1,!0],smb_md_agent_chat_assignment_nux_impressions:[2207,"int",0,3],smb_md_agent_chat_assignment_chat_list_new_label_enabled:[2976,"bool",!1,!0],coex_biz_states_sys_msg_enabled:[2320,"bool",!1,!0],smb_biz_profile_custom_url:[2582,"bool",!1,!1],smb_biz_profile_custom_url_notifications:[2583,"bool",!1,!1],smb_md_agent_chat_assignment_notifications_enabled:[2908,"bool",!1,!0],smb_marketing_messages_enabled:[3046,"bool",!1,!0],smb_marketing_messages_product_ids:[3113,"string","",""],smb_rambutan_enabled:[3124,"bool",!1,!0],smb_rambutan_product_ids:[3125,"string","",""],smb_premium_messages_spam_report_enabled:[4005,"bool",!1,!0],web_premium_messages_interactivity_rendering_enabled:[4596,"bool",!1,!0],smb_premium_messages_click_logging_enabled:[4657,"bool",!1,!0],smba_premium_messages_interactivity_catalog_cta_consumer_enabled:[4942,"bool",!1,!0],smb_premium_messages_interactivity_catalog_cta_consumer_enabled:[4957,"bool",!1,!0],smb_premium_messages_url_cta_alert_dialog_enabled:[5044,"bool",!0,!0],premium_blue_enabled:[5318,"bool",!1,!1],blue_enabled:[5276,"bool",!1,!1],blue_education_enabled:[5295,"bool",!1,!1],newsletter_blue_enabled:[5277,"bool",!1,!1],newsletter_blue_education_enabled:[5296,"bool",!1,!1],mex_phase3_enabled:[2249,"bool",!1,!1],mex_phase3_status_flags:[2250,"int",0,0],mex_newsletter_killswitch:[3604,"bool",!1,!1],mex_newsletter_flags:[3605,"int",0,0],groove_enabled_web:[2980,"bool",!1,!1],newsletter_enabled:[3385,"bool",!1,!1],newsletter_enabled_web:[3020,"bool",!1,!1],newsletter_reporting_enabled:[3148,"bool",!1,!0],newsletter_suspend_enabled:[3149,"bool",!1,!0],channels_restricted_updates_enabled:[4219,"bool",!1,!0],channels_geosuspend_enabled:[5161,"bool",!1,!0],channels_geosuspend_admin_alerts_enabled:[5216,"bool",!1,!0],allow_nl_linkpreview:[3209,"bool",!0,!0],newsletter_creation_enabled:[3607,"bool",!1,!1],newsletter_media_autodownload_mode:[3778,"int",3,3],newsletter_media_autodownload_jitter_multiplier:[4369,"int",1e3,1e3],newsletter_media_autodownload_queue_max_concurrency:[4370,"int",5,5],newsletter_media_priority_queue_incoming_max_size:[4479,"int",32,32],nl_df_gid:[3617,"string","",""],nl_crt_df_gid:[3618,"string","","120363080354356818"],newsletter_tos_notice_id:[3810,"string","20601216","20601216"],newsletter_creation_tos_id:[3834,"string","20601217","20601217"],newsletter_creation_nux_id:[3835,"string","20601218","20601218"],channels_enabled:[3877,"int",0,0],channels_creation_enabled:[3878,"int",0,2],channels_directory_enabled:[3879,"int",0,2],channels_recommended_enabled:[4356,"int",0,2],channels_view_counts_enabled:[4590,"bool",!1,!0],channel_view_counts_enabled:[4721,"int",0,3],channel_views_duration_milliseconds:[4648,"int",1e3,1e3],channel_playable_message_views_duration_milliseconds:[4722,"int",3e3,3e3],channels_recommended_cache_ttl_ms:[4271,"int",6048e5,864e5],show_channels_not_available_dialog:[3880,"bool",!1,!0],newsletter_supported_message_types:[3900,"string",'{"supported": [1, 2, 3, 9]}','{"supported": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]}'],channel_supported_message_types:[3919,"string","1, 2, 3, 9, 10","1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15"],directory_sort_kill_switch:[4282,"bool",!0,!0],directory_search_kill_switch:[4283,"bool",!0,!0],channels_directory_v2_cache_ttl_ms:[5303,"int",72e5,36e5],channels_directory_v2_cache_refresh_interval_ms:[5304,"int",18e5,6e5],channel_reactions_enabled:[4306,"bool",!1,!0],channel_reactions_sending_enabled:[4633,"bool",!1,!0],channel_reactions_settings_enabled:[4887,"bool",!1,!0],channel_reactions_settings_none_option_enabled:[5274,"bool",!1,!1],channel_reactions_sender_list_enabled:[5185,"bool",!1,!0],reactions_allowlisted_channels:[4699,"string","","120363144141162927,120363160538286018"],channel_follower_list_enabled:[4307,"bool",!1,!0],channels_followers_list_cache_refresh_seconds:[5182,"int",60,60],channels_followers_list_cache_refresh_milliseconds:[5217,"int",6e4,6e4],recommended_channels_cache_max_ttl:[4308,"int",0,0],recommended_channels_background_refresh:[4309,"int",144e5,18e5],channel_pull_message_updates_threshold_seconds:[4326,"int",120,120],channel_forward_to_chat_enabled:[4338,"bool",!1,!0],channel_forward_to_chat_link_enabled:[4860,"bool",!1,!0],channels_waitlist_enabled:[4357,"bool",!1,!0],channels_updates_tab_logging_enabled:[4506,"bool",!1,!0],channels_waitlist_logging_enabled:[4632,"bool",!1,!0],channels_dyi_enabled:[4635,"bool",!1,!0],channels_dyi_max_file_size_in_bytes_warning_threshold:[4866,"int",1e9,1e9],channel_forward_to_chat_v2_enabled:[4644,"bool",!1,!1],channels_large_number_format_enabled:[4653,"bool",!1,!0],channel_forward_to_chat_v2_message_navigation_enabled:[4682,"bool",!1,!0],channel_forward_to_chat_v2_new_ui_enabled:[4683,"bool",!1,!0],channels_view_counts_display_to_followers_enabled:[4684,"bool",!1,!0],channels_send_view_receipt_enabled:[4760,"bool",!1,!0],channels_forwarding_logging_enabled:[4782,"bool",!1,!0],channels_directory_logging_enabled:[4783,"bool",!1,!0],channels_creation_logging_enabled:[4784,"bool",!1,!0],channels_filter_out_subscribed_in_directory_null_state:[5015,"bool",!1,!0],ts_navigation_channels_enabled:[5040,"bool",!1,!0],channel_core_event_logging_enabled:[5262,"bool",!1,!0],channel_link_in_nav_bar_enabled:[5041,"bool",!1,!0],channels_recommended_v2_ui_enabled:[5096,"bool",!1,!0],channels_directory_v2_enabled:[5126,"bool",!1,!0],channels_directory_v2_filter_types:[5127,"string","","1, 2, 3, 4, 5, 6"],channels_message_edit_enabled:[5174,"bool",!1,!0],channels_message_link_enabled:[5188,"bool",!1,!0],channels_directory_fetch_limit:[5203,"int",50,50],channels_directory_search_debounce_ms:[5204,"int",250,250],recommended_channels_fetch_limit:[5205,"int",20,20],channels_edit_backwards_compatibility:[5208,"bool",!1,!0],channels_hide_news_url_preview:[5287,"bool",!1,!0],otp_ttl_inject_receipt_enabled:[3710,"bool",!1,!0],unified_otp_copy_code_url:[3827,"string","https://www.whatsapp.com/otp/copy/","https://www.whatsapp.com/otp/copy/"],unified_otp_retriever_url:[3828,"string","https://www.whatsapp.com/otp/code","https://www.whatsapp.com/otp/code"],web_otp_copy_code_disabled:[4330,"bool",!1,!1],lid_groups_ougtoing_explict_address_mode:[3514,"bool",!1,!0],lid_groups_outgoing_explict_address_mode:[3615,"bool",!1,!0],lid_groups_new_group_creation:[3645,"bool",!1,!1],lid_groups_handle_server_addressing_mode:[3688,"bool",!1,!1],lid_groups_create_lid_individual_chats:[3876,"bool",!1,!1],lid_groups_outgoing_explicit_address_mode:[3803,"bool",!1,!0],lid_groups_aggregate_participant_change_system_message:[3804,"bool",!1,!1],lid_groups_message_send_validation:[4162,"bool",!1,!0],pnh_copy_identity_keys_and_devices:[4476,"bool",!1,!0],pnh_sync_identity_keys_and_devices:[4533,"bool",!1,!0],group_suspend_v2_enabled:[3180,"bool",!1,!0],enable_status_report_and_block:[3988,"bool",!1,!0],report_block_classification_logging_enabled:[5245,"bool",!1,!0],df_config:[3471,"string","",""],df_enabled:[3472,"bool",!1,!1],wabai_message_rendering_enabled:[4873,"bool",!1,!1],wabai_message_feedback_enabled:[5215,"bool",!1,!1],wabai_marketing_message_content_gen_enabled:[5224,"bool",!1,!1]}},11956:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exposureKeys=t.accessedConfigs=void 0,t.updateGlobalABKey=function(e){r.Global.set({abKey2:e})},t.updateGlobalExpoKey=function(){r.Global.set({expoKey:Array.from(o).join(",")})};var r=n(53047);const i=new Set;t.accessedConfigs=i;const o=new Set;t.exposureKeys=o},73972:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getABKey=function(){const e=l();return null==e?void 0:e.abKey},t.getHash=function(){const e=l();return null==e?void 0:e.hash},t.getRefresh=function(){var e;const t=l();return parseInt(null!==(e=null==t?void 0:t.refresh)&&void 0!==e?e:86400,10)},t.isABPropsAfterFirstSync=function(){return null!=l()},t.updateAttributesLocalStorage=function(e,t,n,r){var c,u;let d=null;null!=n&&(d=n,d<600?d=600:d>s&&(d=s));const _=l()||{},p={abKey:null!=e?e:_.abKey,hash:null!=t?t:_.hash,refresh:null!==(c=null===(u=d)||void 0===u?void 0:u.toString())&&void 0!==c?c:_.refresh,lastSyncTime:r};(0,i.default)(o.default,"localStorage").setItem(a.KEYS.ABPROPS,JSON.stringify(p))};var i=r(n(49619)),o=r(n(51298)),a=n(59356);const s=604800;function l(){const e=(0,i.default)(o.default,"localStorage").getItem(a.KEYS.ABPROPS);return null==e?null:JSON.parse(e)}},98463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.getABPropConfigValue)("in_app_support_v2_number_prefixes");if(null==t||""===t)return!1;return t.split(",").some((t=>e.startsWith(t)))};var r=n(83741)},93963:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.updateABPropsFromStorage=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(78805),a=n(9282),s=n(70130);n(97023);function l(){return(l=(0,i.default)((function*(){try{const e=(yield(0,s.getABPropConfigs)()).map((e=>{const t=o.ABPropConfigCodeToName[Number(e.configCode)];if(null!=t){const n=a.ABPropConfigs[t],[r,i,o,l]=n,c=o;let u;return{configCode:r,configValue:(0,s.parseConfigValue)(e.configValue,i,c),configExpoKey:e.configExpoKey,hasAccessed:e.hasAccessed,overriddenConfigValue:u}}__LOG__(3)`[ABProps] ABProp (code: ${e.configCode}) exists in storage but no longer available for this client version`})).filter((e=>!!e));(0,o.bulkCreateOrReplaceABPropConfigs)(e)}catch(e){__LOG__(4,!0,new Error,!0)`[ABProps] Failed to update ABProps configs cache from storage: ${e}`,SEND_LOGS("[ABProps] Failed to update ABProps configs cache from storage: "+e)}}))).apply(this,arguments)}},51621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APICmd=void 0,t.isWAURL=function(e){return n.test(e)};t.APICmd={GROUP_INVITE:"GROUP_INVITE",MSG_SEND:"MSG_SEND",INVALID:"INVALID",CATALOG:"CATALOG",PRODUCT:"PRODUCT",PUSH_NOTIFICATION:"PUSH_NOTIFICATION",CREATE_COMMUNITY:"CREATE_COMMUNITY",NEWSLETTER:"NEWSLETTER",AVATAR_STICKERPACK:"AVATAR_STICKERPACK",ADVERTISE:"ADVERTISE",MANAGE_ADS:"MANAGE_ADS",MESSAGE_YOURSELF:"MESSAGE_YOURSELF"};const n=/^whatsapp:\/\/.*/i},42017:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.matchProductUrl=t.matchCatalogUrl=void 0,t.parseAPICmd=function(e){if("string"!=typeof e)return{resultType:s.APICmd.INVALID};const t=(e=>{let t=e.match(p);if(t)return{code:t[2],url:t[1]||"/"};if(t=e.match(f),t)return{code:t[1]};if(t=e.match(E),t)return{code:t[1]};if(t=e.match(A),t)return{code:t[1]}})(e);if(t)return{resultType:s.APICmd.GROUP_INVITE,data:t};const n=function(e){let t=e.match(G)||e.match(k);if(t)return x(t);if(t=e.match(Y),t)return(0,i.default)((0,i.default)({},x(t)),{},{url:"/"});if(t=e.match(F),t){const e=H(t[2]);return(0,i.default)((0,i.default)((0,i.default)({},x(t)),null!=e&&{utm:e}),{},{url:"/"})}}(e);if(n)return{resultType:s.APICmd.CATALOG,data:n};const r=function(e){let t=B(e,R);if(t)return j(t);if(t=B(e,D),t)return(0,i.default)((0,i.default)({},j(t)),{},{url:"/"});if(t=B(e,L),t){const e=H(t[3]);return(0,i.default)((0,i.default)((0,i.default)({},j(t)),null!=e&&{utm:e}),{},{url:"/"})}}(e);if(r)return{resultType:s.APICmd.PRODUCT,data:r};const o=function(e){if(e.match(K))return{url:"/"}}(e);if(o)return{resultType:s.APICmd.CREATE_COMMUNITY,data:o};const a=function(e){if(e.match(V))return{url:(0,c.getAvatarFaqUrl)()}}(e);if(a)return{resultType:s.APICmd.AVATAR_STICKERPACK,data:a};if([b,M].some((t=>e.match(t))))return{resultType:s.APICmd.MESSAGE_YOURSELF};const l=function(e){let t=e.match(T);if(t){const e=S(t[2]);if(e)return e.url=t[1]||"/",e}if(t=e.match(m),t)return S(t[1]);if(t=e.match(I),t)return S(t[1]);if(t=e.match(y),t){let n;if(t[1]?n={phone:`${t[1]}@c.us`}:t[2]&&(n={url:e,customURL:t[2]}),t[3]){const e=S(t[3]);e&&(n=(0,i.default)((0,i.default)({},n),e))}return n}}(e);if(l)return{resultType:s.APICmd.MSG_SEND,data:l};const d=function(e){if(e.match(U))return{url:"/"}}(e);if(d)return{resultType:s.APICmd.PUSH_NOTIFICATION,data:d};const g=(0,u.parseNewsletter)(e);if(g)return{resultType:s.APICmd.NEWSLETTER,data:g};const h=function(e){const t=e.match(P);if(t)return function(e){const t=new _.default(e),n=t.get("wa_campaign_id");if(null==n||""===n)return;const r=t.get("wa_campaign_type");if(null==r||""===r)return null;return{campaignId:n,campaignType:r}}(t[1])}(e);if(null!=h)return{resultType:s.APICmd.ADVERTISE,data:h};if(e.match(N))return{resultType:s.APICmd.MANAGE_ADS};return{resultType:s.APICmd.INVALID}},t.parseConversionData=h;var i=r(n(81109)),o=n(89323),a=n(83741),s=n(51621),l=n(5743),c=n(34427),u=n(69777),d=n(12055),_=r(n(14602));const p=new RegExp(`^${l.ORIGIN}${l.OPTIONAL_PATH_PART}/accept/?\\?code=(\\w+)$`,"i"),f=/^https?:\/\/chat\.whatsapp\.com\/invite\/(\w+)$/i,E=/^https?:\/\/chat\.whatsapp\.com\/(\w+)$/i,A=/^whatsapp:\/\/chat\/?\?code=(\w+)$/i,g=["utm_source","utm_campaign","text","phone","data","source","context","icebreaker","source_url","type","lid"];function h(e){if(!e||"string"!=typeof e)return;const t=o.Binary.build(e);return t.size()>(0,a.getABPropConfigValue)("ctwa_data_max_length")?void 0:t.readBuffer()}function S(e){const t={};return new _.default(e).forEach(((e,n)=>{const r=function(e){return g.find((t=>t===e))}(n.toLowerCase());if(null!=r)switch(r){case"data":{const n=h(e);if(!n)return;null==t.conversionTuple?t.conversionTuple={conversionData:n}:t.conversionTuple.conversionData=n;break}case"source":{const n=e;if((0,o.numUtf8Bytes)(n)>32)return;null==t.conversionTuple?t.conversionTuple={conversionSource:n}:t.conversionTuple.conversionSource=n;break}case"source_url":null!=t.ctwaContextLinkData?t.ctwaContextLinkData.sourceUrl=e:t.ctwaContextLinkData={sourceUrl:e};break;case"context":null!=t.ctwaContextLinkData?t.ctwaContextLinkData.context=e:t.ctwaContextLinkData={context:e};break;case"icebreaker":null!=t.ctwaContextLinkData?t.ctwaContextLinkData.icebreaker=e:t.ctwaContextLinkData={icebreaker:e};break;case"utm_campaign":null!=t.utm?t.utm.campaign=e:t.utm={campaign:e};break;case"utm_source":null!=t.utm?t.utm.source=e:t.utm={source:e};break;default:t[r]=e}})),null!=t.phone&&""!==t.phone&&(t.phone=t.phone.replace(/\D/g,"")+"@c.us",t.ctwaContextLinkData&&(t.ctwaContextLinkData.phone=t.phone)),null!=t.lid&&(0,d.testLidWaMeLinkEnabled)()||null!=t.phone&&""!==t.phone||null!=t.text&&""!==t.text?t:void 0}const T=new RegExp(`^${l.ORIGIN}${l.OPTIONAL_PATH_PART}/send/?\\?(.+)$`,"i"),m=/^https?:\/\/api\.whatsapp\.com\/send\/?\?(.+)$/i,I=/^whatsapp:\/\/send\/?\?(.*)$/i,y=/^https?:\/\/wa\.me\/?(?:([0-9.]{0,20})|([0-9a-z.]{5,35}))?\/?\??(.+)?$/i,C=new RegExp(`^${l.ORIGIN}${l.OPTIONAL_NON_CAPTURING_PATH_PART}/product/([0-9]{0,20})/([0-9]{0,20})$`,"i"),v=new RegExp(`^${l.ORIGIN}${l.OPTIONAL_NON_CAPTURING_PATH_PART}/product/([0-9]{0,20})/([0-9]{0,20})(/?.*)$`,"i"),O=new RegExp(`^${l.ORIGIN}${l.OPTIONAL_NON_CAPTURING_PATH_PART}/product/([^/]{0,200})/([0-9]{0,20})$`,"i"),P=/^whatsapp-smb:\/\/advertise\/?(.+)$/i,N=/^whatsapp-smb:\/\/manage-ads\/?$/,b=/^whatsapp:\/\/message_yourself\/?$/i,M=/^https?:\/\/wa\.me\/message_yourself\/?$/i,R=[/^https?:\/\/wa\.me\/p\/([0-9]{0,20})\/([0-9]{0,20})$/i,/^whatsapp:\/\/product\/([0-9]{0,20})\/([0-9]{0,20})$/i,/^https?:\/\/wa\.me\/p\/([^\/]{0,200})\/([0-9]{0,20})$/i,/^whatsapp:\/\/product\/([^\/]{0,200})\/([0-9]{0,20})$/i],D=[C,O],L=[v],w=[...R,...D,...L];function B(e,t){for(let n=0;n<t.length;n++){const r=e.match(t[n]);if(r)return r}}t.matchProductUrl=e=>null!=B(e,w);const U=new RegExp(`^${l.ORIGIN}${l.OPTIONAL_NON_CAPTURING_PATH_PART}/push/`,"i"),G=/^https?:\/\/wa\.me\/c\/([0-9]{0,20})$/i,k=/^whatsapp:\/\/catalog\/([0-9]{0,20})$/i,Y=new RegExp(`^${l.ORIGIN}${l.OPTIONAL_NON_CAPTURING_PATH_PART}/catalog/([0-9]{0,20})?$`,"i"),F=new RegExp(`^${l.ORIGIN}${l.OPTIONAL_NON_CAPTURING_PATH_PART}/catalog/([0-9]{0,20})(/?.*)?$`,"i");t.matchCatalogUrl=e=>[G,k,Y,F].some((t=>e.match(t)));const K=/^https?:\/\/wa\.me\/community\/create$/i;function x(e){return{catalogOwnerJid:`${e[1]}@s.whatsapp.net`}}function H(e){const t=new _.default(e),n=t.get("utm_source"),r=t.get("utm_campaign");if(null==r&&null==n)return null;const i={};return null!=n&&(i.source=n),null!=r&&(i.campaign=r),i}function j(e){return{productId:e[1],businessOwnerJid:`${e[2]}@s.whatsapp.net`}}const V=/^https?:\/\/wa\.me\/stickerpack\/meta-avatar$/i},5743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeTrailingSlash=t.ORIGIN=t.OPTIONAL_PATH_PART=t.OPTIONAL_NON_CAPTURING_PATH_PART=void 0;var r=n(28123);const i=e=>e.replace(/\/+$/,"");t.removeTrailingSlash=i;const o=i(r.BUILD_URL).replace(/[\/\.]/g,"\\$&");t.ORIGIN=o;t.OPTIONAL_PATH_PART="((?:/\\w+)*)";t.OPTIONAL_NON_CAPTURING_PATH_PART="(?:(?:/\\w+)*)"},93580:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSM_TAG_TYPE=void 0;t.HSM_TAG_TYPE={MARKETING:"MARKETING",UTILITY:"UTILITY",AUTHENTICATION:"AUTHENTICATION"}},83141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.businessTypeOptions=t.VERIFIED_LEVEL=t.DAYS_OF_WEEK=t.COMMERCE_EXPERIENCE_TYPES=t.BUSINESS_PROFILE_FIELDS_LENGTH=t.BUSINESS_HOUR_MODES=void 0,t.convertLevel=function(e){if(null==e)return;switch(e){case"unknown":return r.UNKNOWN;case"low":return r.LOW;case"high":return r.HIGH;default:return r.UNKNOWN}};const r={UNKNOWN:0,LOW:1,HIGH:2};t.VERIFIED_LEVEL=r;t.DAYS_OF_WEEK=["sun","mon","tue","wed","thu","fri","sat"];t.BUSINESS_HOUR_MODES={OPEN_24H:"open_24h",SPECIFIC_HOURS:"specific_hours",APPOINTMENT_ONLY:"appointment_only"};const i=n(76672)({CATALOG:"catalog",NONE:"none",SHOP:"shop"});t.COMMERCE_EXPERIENCE_TYPES=i;t.businessTypeOptions={limitedLiabilityPartnership:"Limited liability partnership",soleProprietorship:"Sole proprietorship",partnership:"Partnership",publicCompany:"Public Company",privateCompany:"Private Company",other:"Other"};t.BUSINESS_PROFILE_FIELDS_LENGTH={WEBSITE:256,DESCRIPTION:512,EMAIL:128,ADDRESS:256}},38906:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isMessageTypeExemptedFromDisappearing=function(e,t,n){return(0,i.inOrderMessagesEphemeralExceptionEnabled)()&&e===l.MSG_TYPE.INTERACTIVE&&t===s.default.NATIVE_FLOW&&(n===a.default.ORDER_DETAILS||n===a.default.ORDER_STATUS||n===a.default.PAYMENT_METHOD||n===a.default.PAYMENT_STATUS)},t.shouldShowOrderExemptionSystemMessage=function(e){let{id:t,ephemeralDuration:n,ephemeralDisplayedExemptions:r}=e;return null!=t&&0!==n&&null!=n&&o.EphemeralExemptionType.ORDERS_AND_PAYMENTS!==r},t.shouldUnsetChatEphemeralDisplayedExemption=function(e){let{id:t,ephemeralDuration:n,ephemeralDisplayedExemptions:r}=e;return null!=t&&(0===n||null==n)&&o.EphemeralExemptionType.ORDERS_AND_PAYMENTS===r};var i=n(56660),o=n(58681),a=r(n(30266)),s=r(n(80081)),l=n(73602)},36383:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_PRODUCT_TOKEN=void 0;t.INVALID_PRODUCT_TOKEN="DELETED"},49193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductComplianceCategory=t.ProductAvailability=t.PRODUCT_PAGE_SIZE=t.PRODUCT_AVAILABILITY_UNAVAILABLE_VALUES=void 0,t.asProductReviewType=function(e){if("APPROVED"===e||"PENDING"===e||"REJECTED"===e)return e};const r=n(76672)({IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",AVAILABLE_FOR_ANOTHER_POSTCODE:"available for another postcode",UNKNOWN:"unknown"});t.ProductAvailability=r;const i=[r.OUT_OF_STOCK,r.AVAILABLE_FOR_ANOTHER_POSTCODE];t.PRODUCT_AVAILABILITY_UNAVAILABLE_VALUES=i;t.PRODUCT_PAGE_SIZE=6;const o=n(76672)({Default:"DEFAULT",CountryOriginExempt:"COUNTRY_ORIGIN_EXEMPT"});t.ProductComplianceCategory=o},50597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REGION_TO_CURRENCY=t.DEFAULT_DIGITS=t.DEFAULT_CURRENCY=t.CURRENCY_DIGITS=void 0;t.DEFAULT_CURRENCY="USD";t.DEFAULT_DIGITS=2;t.CURRENCY_DIGITS={ADP:0,AFN:0,ALL:0,BHD:3,BIF:0,BYR:0,CLF:4,CLP:0,DJF:0,ESP:0,GNF:0,IQD:0,IRR:0,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MRO:0,OMR:3,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,UGX:0,UYI:0,UYW:4,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0};t.REGION_TO_CURRENCY={AC:["SHP"],AD:["EUR"],AE:["AED"],AF:["AFN"],AG:["XCD"],AI:["XCD"],AL:["ALL"],AM:["AMD"],AO:["AOA"],AR:["ARS"],AS:["USD"],AT:["EUR"],AU:["AUD"],AW:["AWG"],AX:["EUR"],AZ:["AZN"],BA:["BAM"],BB:["BBD"],BD:["BDT"],BE:["EUR"],BF:["XOF"],BG:["BGN"],BH:["BHD"],BI:["BIF"],BJ:["XOF"],BL:["EUR"],BM:["BMD"],BN:["BND"],BO:["BOB"],BQ:["USD"],BR:["BRL"],BS:["BSD"],BT:["BTN","INR"],BV:["NOK"],BW:["BWP"],BY:["BYN"],BZ:["BZD"],CA:["CAD"],CC:["AUD"],CD:["CDF"],CF:["XAF"],CG:["XAF"],CH:["CHF"],CI:["XOF"],CK:["NZD"],CL:["CLP"],CM:["XAF"],CN:["CNY"],CO:["COP"],CR:["CRC"],CU:["CUP","CUC"],CV:["CVE"],CW:["ANG"],CX:["AUD"],CY:["EUR"],CZ:["CZK"],DE:["EUR"],DG:["USD"],DJ:["DJF"],DK:["DKK"],DM:["XCD"],DO:["DOP"],DZ:["DZD"],EA:["EUR"],EC:["USD"],EE:["EUR"],EG:["EGP"],EH:["MAD"],ER:["ERN"],ES:["EUR"],ET:["ETB"],EU:["EUR"],FI:["EUR"],FJ:["FJD"],FK:["FKP"],FM:["USD"],FO:["DKK"],FR:["EUR"],GA:["XAF"],GB:["GBP"],GD:["XCD"],GE:["GEL"],GF:["EUR"],GG:["GBP"],GH:["GHS"],GI:["GIP"],GL:["DKK"],GM:["GMD"],GN:["GNF"],GP:["EUR"],GQ:["XAF"],GR:["EUR"],GS:["GBP"],GT:["GTQ"],GU:["USD"],GW:["XOF"],GY:["GYD"],HK:["HKD"],HM:["AUD"],HN:["HNL"],HR:["HRK"],HT:["HTG","USD"],HU:["HUF"],IC:["EUR"],ID:["IDR"],IE:["EUR"],IL:["ILS"],IM:["GBP"],IN:["INR"],IO:["USD"],IQ:["IQD"],IR:["IRR"],IS:["ISK"],IT:["EUR"],JE:["GBP"],JM:["JMD"],JO:["JOD"],JP:["JPY"],KE:["KES"],KG:["KGS"],KH:["KHR"],KI:["AUD"],KM:["KMF"],KN:["XCD"],KP:["KPW"],KR:["KRW"],KW:["KWD"],KY:["KYD"],KZ:["KZT"],LA:["LAK"],LB:["LBP"],LC:["XCD"],LI:["CHF"],LK:["LKR"],LR:["LRD"],LS:["ZAR","LSL"],LT:["EUR"],LU:["EUR"],LV:["EUR"],LY:["LYD"],MA:["MAD"],MC:["EUR"],MD:["MDL"],ME:["EUR"],MF:["EUR"],MG:["MGA"],MH:["USD"],MK:["MKD"],ML:["XOF"],MM:["MMK"],MN:["MNT"],MO:["MOP"],MP:["USD"],MQ:["EUR"],MR:["MRU"],MS:["XCD"],MT:["EUR"],MU:["MUR"],MV:["MVR"],MW:["MWK"],MX:["MXN"],MY:["MYR"],MZ:["MZN"],NA:["NAD","ZAR"],NC:["XPF"],NE:["XOF"],NF:["AUD"],NG:["NGN"],NI:["NIO"],NL:["EUR"],NO:["NOK"],NP:["NPR"],NR:["AUD"],NU:["NZD"],NZ:["NZD"],OM:["OMR"],PA:["PAB","USD"],PE:["PEN"],PF:["XPF"],PG:["PGK"],PH:["PHP"],PK:["PKR"],PL:["PLN"],PM:["EUR"],PN:["NZD"],PR:["USD"],PS:["ILS","JOD"],PT:["EUR"],PW:["USD"],PY:["PYG"],QA:["QAR"],RE:["EUR"],RO:["RON"],RS:["RSD"],RU:["RUB"],RW:["RWF"],SA:["SAR"],SB:["SBD"],SC:["SCR"],SD:["SDG"],SE:["SEK"],SG:["SGD"],SH:["SHP"],SI:["EUR"],SJ:["NOK"],SK:["EUR"],SL:["SLL"],SM:["EUR"],SN:["XOF"],SO:["SOS"],SR:["SRD"],SS:["SSP"],ST:["STN"],SV:["USD"],SX:["ANG"],SY:["SYP"],SZ:["SZL"],TA:["GBP"],TC:["USD"],TD:["XAF"],TF:["EUR"],TG:["XOF"],TH:["THB"],TJ:["TJS"],TK:["NZD"],TL:["USD"],TM:["TMT"],TN:["TND"],TO:["TOP"],TR:["TRY"],TT:["TTD"],TV:["AUD"],TW:["TWD"],TZ:["TZS"],UA:["UAH"],UG:["UGX"],UM:["USD"],US:["USD"],UY:["UYU"],UZ:["UZS"],VA:["EUR"],VC:["XCD"],VE:["VES"],VG:["USD"],VI:["USD"],VN:["VND"],VU:["VUV"],WF:["XPF"],WS:["WST"],XK:["EUR"],YE:["YER"],YT:["EUR"],ZA:["ZAR"],ZM:["ZMW"],ZW:["USD"]}},63854:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.currencyForCountryShortcode=function(e){const t=o.REGION_TO_CURRENCY[e.toUpperCase()];return(null==t?void 0:t.length)>0?t[0]:o.DEFAULT_CURRENCY},t.formatAmount1000=t.formatAmount=void 0,t.formatAmount1000ToParts=function(e,t){const n=u(),r=p(n),i=f(n,e),o=_(e,t).replace(i,"").trim(),a=o.indexOf(r),s=-1===a?o:o.substring(0,a),l=-1===a?"":o.substring(a);return{symbol:i,integer:s,decimal:l}},t.formatLocalSymbol=function(e){return f(s[e],e)},t.isSupportedCurrency=function(e){return l.has(e)},t.parseValueFromString=A,t.validatePriceString=function(e,t,n,r){const i=u(),a=void 0!==o.CURRENCY_DIGITS[e]?o.CURRENCY_DIGITS[e]:o.DEFAULT_DIGITS,s=E(e,t);if(null!=n&&s<n)return!1;if(null!=r&&s>r)return!1;const l=t.replace(/\D+$/g,""),c=p(i);if(Number.isNaN(s)||l!==t||(t.split(c)[1]||"").length>a)return!1;return!0},t.valueFromString=E;var i=r(n(81109)),o=n(50597),a=r(n(14950));const s={IDR:"in-ID",MXN:"es-MX",INR:"en-IN"},l=new Set(["DZD","ARS","AUD","BDT","BOB","BRL","GBP","CAD","CLP","CNY","COP","CRC","CZK","DKK","EGP","EUR","GTQ","HNL","HKD","HUF","ISK","INR","IDR","ILS","JPY","KES","KRW","MOP","MYR","MXN","NZD","NIO","NGN","NOK","PKR","PYG","PEN","PHP","PLN","QAR","RON","RUB","SAR","SGD","ZAR","SEK","CHF","TWD","THB","TRY","AED","USD","UYU","VEF","VND"]),c=["es-ES","pt-BR"],u=()=>[a.default.getFullLocale(),a.default.getLocale()].filter(Boolean),d=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u(),o="symbol";return c.includes(Array.isArray(r)?r[0]:r)&&(o="code"),new Intl.NumberFormat(r,(0,i.default)({style:"currency",currency:e,currencyDisplay:o},n)).format(t)};t.formatAmount=d;const _=(e,t,n,r)=>d(e,t/1e3,n,r);function p(e){return new Intl.NumberFormat(e).format(1.1).substring(1,2)}function f(e,t){return _(t,0,{},e).replace(/\d+([,.]\d+)?/g,"").trim()}function E(e,t){const n=u(),r=f(n,e),i=function(e){return new Intl.NumberFormat(e).format(1e4).substring(2,3)}(n);return A(t,r,p(n),i)}function A(e,t,n,r){const i=e.replace(t,"").trim().split(r).join(""),o=parseFloat(i.replace(n,".")||"0");return Math.round(1e3*o)}t.formatAmount1000=_},28040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveMessageHeaderMediaType=t.IM_MEDIA_HEADER_TYPES=void 0;const r=n(76672).Mirrored(["IMAGE","VIDEO","DOCUMENT"]);t.InteractiveMessageHeaderMediaType=r;const i=new Set([r.IMAGE,r.VIDEO,r.DOCUMENT]);t.IM_MEDIA_HEADER_TYPES=i},80081:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(76672)({NATIVE_FLOW:"native_flow",SHOPS_STOREFRONT:"shops_storefront"});t.default=r},30266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(76672)({ORDER_DETAILS:"order_details",ORDER_STATUS:"order_status",PAYMENT_STATUS:"payment_status",PAYMENT_METHOD:"payment_method",MESSAGE_WITH_LINK:"message_with_link",MESSAGE_WITH_LINK_STATUS:"message_with_link_status",QUICK_REPLY:"quick_reply",CTA_CALL:"cta_call",CTA_URL:"cta_url",CTA_CATALOG:"cta_catalog"});t.default=r},94865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(76672)({NATIVE_FLOW:"native_flow"});t.default=r},57746:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeBridge=function(){return new r.DynamicRouter};var r=n(44400)},45647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8414);const i={[r.WEBC_SCENARIO_TYPE.IDLE]:0,[r.WEBC_SCENARIO_TYPE.INITIAL_PAIRING]:3e5,[r.WEBC_SCENARIO_TYPE.OFFLINE_RESUME]:12e4};let o,a;var s={isLogoutInProgress:!1,getCurrentScenario(){var e;return null!==(e=a)&&void 0!==e?e:r.WEBC_SCENARIO_TYPE.IDLE},initOrUpdateTracking(e){o&&self.clearTimeout(o),a=e,a!==r.WEBC_SCENARIO_TYPE.IDLE&&(o=self.setTimeout((()=>{a=r.WEBC_SCENARIO_TYPE.IDLE,o=null}),i[e]))}};t.default=s},77630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EDIT_ATTR=t.ACK_STRING=t.ACK=void 0;t.ACK={INACTIVE:-6,CONTENT_UNUPLOADABLE:-5,CONTENT_TOO_BIG:-4,CONTENT_GONE:-3,EXPIRED:-2,FAILED:-1,CLOCK:0,SENT:1,RECEIVED:2,READ:3,PLAYED:4,PEER:5};t.EDIT_ATTR={MESSAGE_EDIT:1,PIN_IN_CHAT:2,SENDER_REVOKE:7,ADMIN_REVOKE:8};t.ACK_STRING={SENDER:"sender",DELIVERY:"delivery",READ:"read",PLAYED:"played",INACTIVE:"inactive",READ_SELF:"read-self",PLAYED_SELF:"played-self"}},46292:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CART_ITEM_MAX_QUANTITY=void 0;t.CART_ITEM_MAX_QUANTITY=99},44423:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={IMG_THUMB_MAX_EDGE:100,DOC_THUMB_MAX_EDGE:480,VIDEO_THUMB_MAX_EDGE:480,MAX_PORTRAIT_MEDIA_CAPTION_LENGTH:500,MEDIA_EDITOR_OUTLINE_TENSION:.4,MMS_THUMBNAIL_UPLOAD_TIMEOUT:3e3,FREQUENTLY_FORWARDED_SENTINEL:127,WA_COMMERCE_POLICY_URL:"https://www.whatsapp.com/policies/commerce-policy",MAX_TXT_MSG_SIZE:65536,GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:100,BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:200,TEMPLATE_URL_START:64,TEMPLATE_URL_END:32,SQUELCH_RESET_VALUE:-1,MAX_CAPTION_LENGTH:1024,REACTION_CONTENT_MAX_LENGTH:30,MAX_CART_MESSAGE_LENGTH:1024,MAX_PUSHNAME_LENGTH:25,KEY_BUNDLE_TYPE:"",NEW_MSG_SENT:"new_msg_sent",ONE_BY_ONE_TRANS_GIF:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",VOIP_LOG_COLOR:"#aa6627",VOIP_MAX_GROUP_CALL_PARTICIPANTS:32,WAM_SYS_INFO_INIT_DELAY:5e3,MARKED_AS_UNREAD:-1};t.default=n},61629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TICKET_URL=t.CLB_URL=t.CLB_TOKEN=t.CLB_CHECK_URL=void 0;var r=n(28123);t.CLB_CHECK_URL="https://crashlogs.whatsapp.net/wa_fls_upload_check";t.CLB_TOKEN="1063127757113399|745146ffa34413f9dbb5469f5370b7af";t.CLB_URL="https://crashlogs.whatsapp.net/wa_clb_data";const i=`${r.DYN_ORIGIN}web-contact-us`;t.TICKET_URL=i},66253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FAILURE_REASON=void 0;t.FAILURE_REASON={REASON_GENERIC_FAILURE:400,REASON_NOT_AUTHORIZED:401,REASON_TEMP_BANNED:402,REASON_LOCKED:403,REASON_CLIENT_TOO_OLD:405,REASON_BANNED:406,REASON_BAD_USER_AGENT:409,REASON_INTERNAL_SERVER_ERROR:500,REASON_EXPERIMENTAL:501}},34427:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PLATFORM=t.FAQ_BASE_URL=void 0,t.getAboutCommunitiesFaqUrl=function(){return a(495856382464992)},t.getAvatarFaqUrl=function(){return a(704225315054890)},t.getBotFaqUrl=function(){return s()},t.getBusinessFaqUrl=function(){return a(643460927283235)},t.getCagPhoneNumberHidingFaqUrl=function(){return a(831150864932965)},t.getCannotConnectFaqUrl=function(){return a(852892549070029)},t.getCatalogCartOnOffFaqUrl=function(){return a(0x4352f2adeca1c)},t.getCiphertextFaqUrl=function(){return a(0xc1283bbc02b3b)},t.getCodeChangeFaqUrl=function(){return a(0x56a45447edb82)},t.getCommunityCreatorPrivacyUrl=function(){return a(625069579217642)},t.getCommunityHomeNuxUrl=function(){return a(570221114584995)},t.getCommunityMemberPrivacyUrl=function(){return a(812356880201038)},t.getConsumerTransparencyHCAUrl=function(){return a(785493319976156)},t.getControlsWhenMessagingBusinessFaqUrl=function(){return a(0x7e2cb5df443c)},t.getDBErrorFaqUrl=function(){return a(821275555582352)},t.getE2EEnterpriseFaqUrl=function(){return a(0x414dd2b3a1a38)},t.getE2EFaqUrl=function(){return a(820124435853543)},t.getElectronUwpIncompatibleUsersFaqUrl=function(){return a(779581519948320)},t.getEphemeralFaqUrl=function(){return a(673193694148537)},t.getExitCommunityUrl=function(){return a(366296225670044)},t.getFanoutPlaceholderFaqUrl=function(){return a(835452491239734)},t.getFaqUrl=s,t.getFbShopsSunsetFaqUrl=function(){return a(0x4ab5db28ce743)},t.getFrequentlyForwardedFaqUrl=function(){return a(0x3be312350eb3d)},t.getHowToExitAndDeleteGroupsFaq=function(){return a(498814665492149)},t.getIndiaEcommerceComplianceFaqUrl=function(){return a(0x47c7a5f284a82)},t.getJioMartPostcodeChangeLearnMoreLink=function(){return a(832060577920049)},t.getKICFaqUrl=function(){return a(728928448599090)},t.getLinkDeviceFaqUrl=function(){return a(0x4ae517f8c1e42)},t.getLoginFaqUrl=function(){return a(0x4ae517f8c1e42)},t.getMDCodeChangeFaqUrl=function(){return a(820124435853543)},t.getMemberAddedGroupsUrl=function(){return a(0xbab98e7dd597)},t.getMembershipApprovalModeFaqUrl=function(){return a(0x3f215e45fc90d)},t.getMessageEditFaqUrl=function(){return a(6614640168569481)},t.getMessageHistoryOnLinkedDevicesFAQUrl=function(){return a(653480766448040)},t.getNewsletterActivityInforUrl=function(){return a(6480469855345352)},t.getNewsletterGuidelinesFaqUrl=function(){return a(0xdf5f14a88ba1)},t.getNewsletterPrivacyFaqUrl=function(){return a(0x4aeb70db527d3)},t.getNonVerifiedTransitionFaqUrl=function(){return a(677428350267326)},t.getNotificationChromeFaqUrl=function(){return a(819881299156447)},t.getNotificationEdgeFaqUrl=function(){return a(531205362155587)},t.getNotificationFirefoxFaqUrl=function(){return a(0x8405a487f8377)},t.getNotificationOperaFaqUrl=function(){return a(0x40421f1052904)},t.getNotificationSafariFaqUrl=function(){return a(807378207138241)},t.getOrderEphemeralExemptionUrl=function(){return a(673193694148537)},t.getPhoneNumberHidingFaqUrl=function(){return a(626403979060997)},t.getRemoveFromCommunityFaqUrl=function(){return a(0x6a887e3994892)},t.getReportToAdminFaqUrl=function(){return a(919039336073667)},t.getRequestAccountInfoFAQUrl=function(){return a(526463418847093)},t.getRevokeFaqUrl=function(){return a(0x4de70ed612d6b)},t.getSafetyToolsFaqUrl=function(){return a(0x4aa9d245180bb)},t.getScreenLockLearnMoreUrl=function(){return a(0x62259b06f65d0)},t.getSharingBusinessInfoForAdsFaqUrl=function(){return a(434854355461483)},t.getSupportChatFaqUrl=function(){return a(676672070766141)},t.getSupportChatSafetyFaqUrl=function(){return a(854037192262196)},t.getSuspiciousLinkFaqUrl=function(){return a(393169153028916)},t.getUnverifiedTransitionFaqUrl=function(){return a(806293963922749)},t.getVerifiedHighFaqUrl=function(){return a(794517045178057)},t.getVerifiedLowUnknownFaqUrl=function(){return a(0x3d103721f87f0)},t.getViewOnceFaqUrl=function(){return a(0x3d38afd59867c)},t.getViewOnceScreenshotProtectionUrl=function(){return a(0xa5d8a23a1f33e)},t.getWAChatFaqUrl=function(){return a(0x4980fdb4e5495)},t.getWhatsAppBusinessPremiumFaqUrl=function(){return a(835833917556304)};var i=r(n(14950));const o="https://faq.whatsapp.com";t.FAQ_BASE_URL=o;function a(e){return`${o}/${e}?lang=${i.default.getLocale()}`}function s(){return`${o}/web?lang=${i.default.getLocale()}`}t.PLATFORM="web"},8815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAST_PARTICIPANT_EXPIRATION_DAYS=t.GROUP_SETTING_TYPE=void 0;t.GROUP_SETTING_TYPE={ANNOUNCEMENT:"announcement",RESTRICT:"restrict",NO_FREQUENTLY_FORWARDED:"no_frequently_forwarded",EPHEMERAL:"ephemeral",MEMBERSHIP_APPROVAL_MODE:"membership_approval_mode",REPORT_TO_ADMIN_MODE:"report_to_admin_mode",ALLOW_NON_ADMIN_SUB_GROUP_CREATION:"allow_non_admin_sub_group_creation"};t.PAST_PARTICIPANT_EXPIRATION_DAYS=60},56457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogoutReason=t.LOGOUT_REASON_CODE=void 0;const r=n(76672)({UserInitiated:"user_initiated",SyncdFailure:"syncd_failure",InvalidAdvStatus:"invalid_adv_status",CriticalSyncTimeout:"critical_sync_timeout",SyncdTimeout:"syncd_timeout",HistorySyncTimeout:"history_sync_timeout",AccountSyncTimeout:"account_sync_timeout",MDOptOut:"md_opt_out",UnknownCompanion:"unknown_companion",ClientVersionOutdated:"client_version_outdated",SyncdErrorDuringBootstrap:"syncd_error_during_bootstrap",AccountSyncError:"account_sync_error",ClientFatalError:"client_fatal_error",StorageQuotaExceeded:"storage_quota_exceeded",PrimaryIdentityKeyChange:"primary_identity_key_change",MissingEncSalt:"missing_enc_salt",MissingScreenLockSalt:"missing_screen_lock_salt",AccountLocked:"account_locked",MacElectronDeprecationSoftMigration:"mac_electron_deprecation_soft_migration",MacElectronDeprecationAppExpiry:"mac_electron_deprecation_app_expiry"});t.LogoutReason=r;t.LOGOUT_REASON_CODE={CLIENT_FATAL:"0",SYNC_FAIL:"1",INITIAL_HISTORY_SYNC_TIMEOUT:"2",ACCOUNT_LOCKED:"3"}},22666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageAddOnType=void 0;const r=n(76672)({Reaction:"reaction",PollVote:"poll_vote",KeepInChat:"keep_in_chat",MessageEdit:"message_edit",PinMessage:"pin_message",Unknown:"unknown"});t.MessageAddOnType=r},73602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYSTEM_MESSAGE_TYPES=t.MSG_TYPE=t.ADDON_MESSAGE_TYPES=void 0;t.MSG_TYPE={NOTIFICATION:"notification",NOTIFICATION_TEMPLATE:"notification_template",GP2:"gp2",BROADCAST_NOTIFICATION:"broadcast_notification",NEWSLETTER_NOTIFICATION:"newsletter_notification",E2E_NOTIFICATION:"e2e_notification",CALL_LOG:"call_log",PROTOCOL:"protocol",CHAT:"chat",LOCATION:"location",PAYMENT:"payment",VCARD:"vcard",CIPHERTEXT:"ciphertext",MULTI_VCARD:"multi_vcard",REVOKED:"revoked",OVERSIZED:"oversized",GROUPS_V4_INVITE:"groups_v4_invite",HSM:"hsm",TEMPLATE_BUTTON_REPLY:"template_button_reply",DEBUG:"debug",IMAGE:"image",VIDEO:"video",PTV:"ptv",AUDIO:"audio",PTT:"ptt",STICKER:"sticker",STATUS_V3:"status_v3",DOCUMENT:"document",PRODUCT:"product",ORDER:"order",LIST:"list",INTERACTIVE:"interactive",INTERACTIVE_RESPONSE:"interactive_response",LIST_RESPONSE:"list_response",BUTTONS_RESPONSE:"buttons_response",REACTION:"reaction",REACTION_ENC:"reaction_enc",POLL_CREATION:"poll_creation",REQUEST_PHONE_NUMBER:"request_phone_number",POLL_UPDATE:"poll_update",NATIVE_FLOW:"native_flow",BIZ_COVER_PHOTO:"biz-cover-photo",KEEP_IN_CHAT:"keep_in_chat",PIN_MESSAGE:"pin_message",PINNED_MESSAGE:"pinned_message",ENC_COMMENT:"enc_comment",UNKNOWN:"unknown"};t.SYSTEM_MESSAGE_TYPES=["notification","notification_template","gp2","newsletter_notification","broadcast_notification","e2e_notification","call_log","protocol","debug"];t.ADDON_MESSAGE_TYPES=["reaction","poll_update","pin_message"]},46420:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PERMISSION_DENIED=t.PERMISSION_DEFAULT=t.PERMISSION_ALLOWED=void 0;t.PERMISSION_ALLOWED="granted";t.PERMISSION_DEFAULT="default";t.PERMISSION_DENIED="denied"},94273:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.VISIBILITY_WITH_ERROR=t.VISIBILITY=t.ONLINE_VISIBILITY_WITH_ERROR=t.ONLINE_VISIBILITY=t.CALL_ADD_WITH_ERROR=t.CALL_ADD=t.ALL_NONE_WITH_ERROR=t.ALL_NONE=void 0;var i=r(n(81109));const o={all:"all",contacts:"contacts",contact_blacklist:"contact_blacklist",none:"none"};t.VISIBILITY=o;const a=(0,i.default)((0,i.default)({},o),{},{error:"error"});t.VISIBILITY_WITH_ERROR=a;const s={all:"all",none:"none"};t.ALL_NONE=s;const l={all:"all",match_last_seen:"match_last_seen"};t.ONLINE_VISIBILITY=l;const c=(0,i.default)((0,i.default)({},l),{},{error:"error"});t.ONLINE_VISIBILITY_WITH_ERROR=c;const u=(0,i.default)((0,i.default)({},s),{},{error:"error"});t.ALL_NONE_WITH_ERROR=u;const d={all:"all",known:"known"};t.CALL_ADD=d;const _=(0,i.default)((0,i.default)({},d),{},{error:"error"});t.CALL_ADD_WITH_ERROR=_},33761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROFILE_PIC_COMMAND=t.PP_URL=t.PP_TOK=t.PP_REF=void 0;const r=`${n(28123).DYN_ORIGIN}pp`;t.PP_URL=r;t.PP_REF="/pp";t.PP_TOK="/pp";const i=Object.freeze({REMOVE:"remove",SET:"set"});t.PROFILE_PIC_COMMAND=i},73087:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VCARD_MAX_SIZE_KB=t.VCARD_AS_DOCUMENT_SIZE_KB=t.PTT_PLAYBACK_SPEED_HIDE_DELAY=t.MULTICAST_LIMIT_GLOBAL=t.MMS_VCARD_AUTODOWNLOAD_SIZE_KB=void 0;t.MMS_VCARD_AUTODOWNLOAD_SIZE_KB=64;t.VCARD_AS_DOCUMENT_SIZE_KB=64;t.VCARD_MAX_SIZE_KB=5e3;t.MULTICAST_LIMIT_GLOBAL=5;t.PTT_PLAYBACK_SPEED_HIDE_DELAY=1500},77674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM=t.IS_MMS_URL_SEARCH_PARAM=void 0;t.IS_MMS_URL_SEARCH_PARAM="__wa-mms";t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM="mms-type"},64498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEMPLATE_BUTTON_SUBTYPE=void 0;t.TEMPLATE_BUTTON_SUBTYPE={QUICK_REPLY:"quick_reply",CALL:"call",URL:"url"}},20227:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.BOT_TYPING_PLACEHOLDER_MSG_SUBTYPE=void 0,t.genBotTypingIndicatorMessage=function(){return c.apply(this,arguments)},t.getBotTypingIndicatorTimeout=function(){return(0,o.getABPropConfigValue)("bonsai_ti_timeout_duration_ms")};var i=r(n(48926)),o=n(83741),a=n(1619),s=n(63007),l=r(n(60001));function c(){return(c=(0,i.default)((function*(e){if(!(0,s.isBotEnabled)())return;if(!e.isBot())return;const t=new l.default({fromMe:!1,remote:e,id:l.default.newId_DEPRECATED()});(0,a.frontendFireAndForget)("addInitialBotTypingIndicatorToChat",{chatId:e,msgKey:t})}))).apply(this,arguments)}t.BOT_TYPING_PLACEHOLDER_MSG_SUBTYPE="bot_typing_placeholder"},51436:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.decryptMsmsgBotMessage=function(){return S.apply(this,arguments)},t.genBotMsgSecretFromMsgSecret=g;var i=r(n(48926)),o=n(89323),a=n(5720),s=n(88397),l=r(n(49619)),c=n(74773),u=r(n(60001)),d=n(77026),_=n(10139),p=n(3885),f=n(14356),E=n(33655);const A="Bot Message";function g(){return h.apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){const t=new o.Binary(e).readByteArray();return yield(0,s.extractAndExpand)(new Uint8Array(t),A,32)}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e,t){const n=(0,E.decodeProtobuf)(d.MessageSecretMessageSpec,e),r=n.encIv,i=n.encPayload,o=(0,p.assertGetMeUser)(),s={fromMe:!t.msgMeta.targetSenderJid||t.msgMeta.targetSenderJid.isSameAccount(o),remote:t.msgMeta.targetChatJid?(0,l.default)(t.msgMeta.targetChatJid,"parsedMsgPayload.msgMeta.targetChatJid"):t.msgInfo.chat,id:(0,l.default)(t.msgMeta.targetId,"parsedMsgPayload.msgMeta.targetId")};t.msgInfo.chat.isGroup()&&(s.participant=t.msgMeta.targetSenderJid);const A=new u.default(s),h=yield(0,_.getMessageTable)().get(A.toString()),S=(0,c.messageFromDbRow)((0,l.default)(h,"targetMsg")),m=yield g((0,l.default)(S.messageSecret,"originalMsg.messageSecret"));let I=t.msgInfo.externalId;const y=t.msgMeta.targetSenderJid?(0,f.widToUserJid)(t.msgMeta.targetSenderJid):(0,f.widToUserJid)((0,p.assertGetMeUser)()),C=(0,f.widToUserJid)((0,l.default)(t.msgInfo.author,"parsedMsgPayload.msgInfo.author"));let v=null;try{const e=yield T(I,y,C,m);v=yield(0,a.gcmDecrypt)(e,(0,l.default)(r,"encryptionIv"),(0,l.default)(i,"encryptedCiphertext"),`${I}\0${C}`)}catch(e){var O;I=(0,l.default)(null===(O=t.msgBotInfo)||void 0===O?void 0:O.botEditTargetId,"parsedMsgPayload.msgBotInfo?.botEditTargetId");const n=yield T(I,y,C,m);v=yield(0,a.gcmDecrypt)(n,(0,l.default)(r,"encryptionIv"),(0,l.default)(i,"encryptedCiphertext"),`${I}\0${C}`)}return v}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e,t,n,r){const i=o.Binary.build(e,t,n).readBuffer();return yield(0,s.extractAndExpand)(new Uint8Array((0,l.default)(r,"decryptSecret")),i,32)}))).apply(this,arguments)}},56723:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.convertToTextWithoutSpecialEmojis=function(e){if(!a){const e=(0,i.default)(Object.keys(o.default));a=new RegExp(`(${e})`,"g")}return a.lastIndex=0,e.replace(a,(e=>o.default[e]))};var i=r(n(82648)),o=r(n(79557));let a=null},82648:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a(null,o.default.fromForwardsStrings(e.sort(((e,t)=>t.length-e.length)).map((e=>`${e}${s}`))),null,0)};var i=r(n(3522)),o=r(n(49910));function a(e,t,n,r,o){const c=[];let u=!1,d=o;if(null==d)if(e&&1===r){l.has(e)&&(d=!0)}else e&&n&&2===r&&(d=l.has(n+e));t.getChildren().forEach((t=>{t.prefix!==s?c.push(a(t.prefix,t.node,e,r+1,d)):u=!0}));const _=e!==String.fromCodePoint(65039)||null==n||d?(0,i.default)(e||""):`${String.fromCodePoint(65039)}?`;let p=0===c.length?"":`(?:${c.join("|")})`;return p&&u&&(p+="?"),`${_}${p}`}const s="\n",l=new Set([String.fromCodePoint(169),String.fromCodePoint(174),String.fromCodePoint(8482),String.fromCodePoint(9823),String.fromCodePoint(9854),String.fromCodePoint(12336)])},79557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}},45460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEVEN_DAYS=t.ONE_DAY=t.OFF=t.NINETY_DAYS=t.KeepInChatState=t.DisappearingModeInitiator=void 0;var r=n(29987);t.OFF=0;const i=r.DAY_SECONDS;t.ONE_DAY=i;const o=7*r.DAY_SECONDS;t.SEVEN_DAYS=o;const a=90*r.DAY_SECONDS;t.NINETY_DAYS=a;const s=n(76672)({ChangedInChat:"chat",InitiatedByMe:"me",InitiatedByOther:"other"});t.DisappearingModeInitiator=s;const l=n(76672).Mirrored(["KEPT","UNKEPT"]);t.KeepInChatState=l},17e3:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBroadcastEphemeralSetting=function(){return A.apply(this,arguments)};var i=r(n(48926)),o=n(62089),a=n(89323),s=n(29987),l=n(13134),c=n(33655),u=r(n(89482));const d=new Uint8Array(32);function _(){return p.apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e,t){const n=yield self.crypto.subtle.importKey("raw",e,"HKDF",!1,["deriveKey"]),r=yield self.crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:d,info:t},n,{name:"HMAC",hash:"SHA-256"},!0,["verify"]);return self.crypto.subtle.exportKey("raw",r)}))).apply(this,arguments)}function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e,t,n){const r=e.slice(0,12),i=e.slice(12,44),o=yield self.crypto.subtle.importKey("raw",i,"AES-GCM",!1,["decrypt"]);return self.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(r),additionalData:n},o,t)}))).apply(this,arguments)}function A(){return(A=(0,i.default)((function*(e,t,n,r,i){const d=e.toString({legacy:!0}),p=t.toString({legacy:!0}),E=n.toString({legacy:!0}),A=a.Binary.build(`Ephemeral ${p} ${d}`).readByteArray(),g=new Uint8Array(i),h=(0,o.decodeB64)(r),S=a.Binary.build(E).readBuffer(),T=yield _(g,A),m=yield f(T,h,S),{duration:I,timestamp:y}=(0,c.decodeProtobuf)(l.EphemeralSettingSpec,m);if(null==I||null==y)throw(0,u.default)("ephSetting decoded into malformed proto");return{ephemeralDuration:I,ephemeralSettingTimestamp:(0,s.castLongIntToUnixTime)(y)}}))).apply(this,arguments)}},98263:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.compareKeepInChatMessages=_,t.getKicSender=p,t.isKept=function(e){return e===o.KeepInChatState.KEPT},t.isUnkept=d,t.kicSenderSuperPowerActive=function(e){return d(e.kicState)&&c.default.equals(p(e),(0,a.getSender)(e))},t.parseKeepTypeToKicState=function(e){if(null!=e&&e===s.KeepType.KEEP_FOR_ALL)return o.KeepInChatState.KEPT;if(null!=e&&e===s.KeepType.UNDO_KEEP_FOR_ALL)return o.KeepInChatState.UNKEPT;return null},t.runKeepInChatTieBreaker=function(e){let t,n;e.forEach((e=>{t&&1!==_(e,t)||(n=t,t=e)})),null!=n&&(0,i.frontendSendAndReceive)("logTieBreakIgnoredKicWam",{keepInChatMessage:n});return t};var i=n(1619),o=n(45460),a=n(26368),s=n(77026),l=n(3885),c=r(n(27112)),u=n(51017);function d(e){return e===o.KeepInChatState.UNKEPT}function _(e,t){return null==e.senderTimestampMs?-1:null==t.senderTimestampMs||e.senderTimestampMs>t.senderTimestampMs||e.senderTimestampMs===t.senderTimestampMs&&e.id.id>t.id.id?1:-1}function p(e){if(null!=e.kicKey){var t,n,r;const i=(0,a.getIsGroupMsg)(e);if(!0===(null===(t=e.kicKey)||void 0===t?void 0:t.fromMe))return(0,l.getMaybeMeUser)();if(i&&null!=(null===(n=e.kicKey)||void 0===n?void 0:n.participant))return(0,u.toUserWid)(e.kicKey.participant);if(!i&&null!=(null===(r=e.kicKey)||void 0===r?void 0:r.remote))return(0,u.toUserWid)(e.kicKey.remote)}}},37855:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MsgEditType=void 0,t.getMessageEditProcessingWindowDurationSeconds=l,t.getMessageEditUIEntryPointLimitSeconds=c,t.getMsgEditType=function(e){switch(e){case a.MSG_TYPE.CHAT:return u.TextEdit;case a.MSG_TYPE.IMAGE:case a.MSG_TYPE.VIDEO:case a.MSG_TYPE.DOCUMENT:return u.CaptionEdit;default:return null}},t.isParentWithinEditProcessingWindow=function(e){let{parentTsInSeconds:t,editTsInSeconds:n,msgKey:r}=e;const o=s.default.isNewsletter(r.remote);return null!=n?n<t+l(o):(0,i.unixTime)()<t+l(o)},t.isParentWithinEditUIWindow=function(e){return(0,i.unixTime)()<e+c()},t.msgTypeSupportsEditing=function(e){if(d.includes(e))return!0;return!1};var i=n(29987),o=n(83741),a=n(73602),s=r(n(27112));function l(e){if(e)return 2592e3;const t=(0,o.getABPropConfigValue)("message_edit_window_duration_seconds");return null==t||t<=0?1200:t}function c(){const e=(0,o.getABPropConfigValue)("message_edit_client_entry_point_limit_seconds");return null==e||e<=0?900:e}const u=n(76672).Mirrored(["TextEdit","CaptionEdit"]);t.MsgEditType=u;const d=[a.MSG_TYPE.CHAT,a.MSG_TYPE.IMAGE,a.MSG_TYPE.VIDEO,a.MSG_TYPE.DOCUMENT]},12055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lidHistorySyncEnabled=function(){return(0,r.getABPropConfigValue)("pnh_companion_history_sync_lid_chat")},t.lidUsyncEnabled=function(){return(0,r.getABPropConfigValue)("usync_lid")},t.testLidWaMeLinkEnabled=function(){return!1};var r=n(83741)},39972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.augmentedCagGroupMetadataParticipantList=function(e){const t=e.participants.iAmAdmin(),n=e.participants.toArray(),i=[],o=[];if(t)for(const e of n)i.push(e.id),o.push((0,r.getCurrentLid)(e.id));else for(const e of n)e.id.isLid()?i.push(e.id):o.push((0,r.getCurrentLid)(e.id));return[...i,...o].filter(Boolean)},t.augmentedCagGroupParticipantList=function(e,t){const n=[];if(e){for(const e of t)n.push(e.id),e.lid&&n.push(e.lid);return n}for(const e of t)e.id.isLid()?n.push(e.id):e.lid&&n.push(e.lid);return n};var r=n(42247)},59430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcTokenMode=void 0,t.getTcTokenDuration=a,t.isTokenExpired=function(e,t){return e<s(t)},t.shouldSendNewToken=function(e){if(null==e)return!0;const t=(0,i.getABPropConfigValue)("tctoken_duration_sender"),n=Math.floor((0,r.unixTime)()/t),o=Math.floor(e/t);return n>o},t.tokenExpirationCutoff=s;var r=n(29987),i=n(83741);const o=n(76672)({Sender:"sender",Receiver:"receiver"});function a(e){const t=e===o.Receiver?"tctoken_duration":"tctoken_duration_sender";return Math.min((0,i.getABPropConfigValue)(t),15552e3)}function s(e){const t=e===o.Receiver?"tctoken_num_buckets":"tctoken_num_buckets_sender",n=(0,i.getABPropConfigValue)(t),s=a(e),l=Math.floor((0,r.unixTime)()/s);return(0,r.castToUnixTime)((l-(n-1))*s)}t.TcTokenMode=o},93198:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ftsLightClient=void 0;var i=r(n(48926)),o=n(33633),a=n(95160),s=n(97659),l=n(49625);let c=null;function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(){return null!=c||(c=yield(0,l.workerSafeSendAndReceive)("getFtsClientInstance")),c}))).apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e){var t;if((0,a.isWorker)())return(0,o.getIndexV3Table)().bulkRemoveByIndex(["id"],e);const n=null!==(t=c)&&void 0!==t?t:yield u();yield n.purge(e)}))).apply(this,arguments)}function p(){return(p=(0,i.default)((function*(){var e;if((0,a.isWorker)())return Promise.resolve();const t=null!==(e=c)&&void 0!==e?e:yield u();yield t.index()}))).apply(this,arguments)}const f={purge:function(){return _.apply(this,arguments)},index:function(){return p.apply(this,arguments)},addToIndexingTable:function(e){return(0,s.getFtsIndexingQueueTable)().bulkCreateOrReplace(e.map((e=>({id:e}))))}};t.ftsLightClient=f},56660:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.QUICK_PAY_PRODUCT_TYPE_GATING=void 0,t.adsActionBannersEnabled=m,t.adsActionBannersEnabledOnStartup=void 0,t.adsActionBannersLoggingEnabled=function(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("wa_ctwa_action_banner_logging_enabled_web")},t.adsActionManageAdsBannerEnabled=function(){return m()&&(0,o.getABPropConfigValue)("in_app_comms_manage_ads_web_banner_campaign_enabled")},t.bannedShopsEnabled=function(){return(0,o.getABPropConfigValue)("banned_shops_ux_enabled")},t.billingEnabled=function(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("smb_billing_enabled")},t.bizLinkedAccountsEnabled=function(){return(0,o.getABPropConfigValue)("web_abprop_business_profile_refresh_linked_accounts_killswitch")},t.blockCatalogCreationECommerceComplianceIndia=function(e){var t;return g(null==e?void 0:e.id,(()=>(0,o.getABPropConfigValue)("web_abprop_block_catalog_creation_ecommerce_compliance_india")),(()=>p.ServerProps.blockCatalogCreationEcommerceComplianceIndia))&&(null==e||null===(t=e.profileOptions)||void 0===t?void 0:t.commerceExperience)===s.COMMERCE_EXPERIENCE_TYPES.NONE},t.btmThreadsLoggingEnabled=function(){return(0,o.getABPropConfigValue)("btm_threads_logging_enabled")},t.canAppealCollections=function(){return(0,o.getABPropConfigValue)("smb_collections_appeal_flow_enabled")},t.canDisplayLabel=function(){return(0,_.isSMB)()},t.canEditLabelAssociation=function(){return(0,_.isSMB)()},t.canManageCollections=function(){return(0,o.getABPropConfigValue)("smb_collections_enabled")},t.canSeeBizProfileV3=function(){return(0,o.getABPropConfigValue)("business_profile_refresh_m1_enabled")},t.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney=function(e){return g(e,(()=>(0,o.getABPropConfigValue)("smb_ecommerce_compliance_india_m4_5")),(()=>p.ServerProps.smbEcommerceComplianceIndiaM4_5))},t.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney=function(e){return g(e,(()=>(0,o.getABPropConfigValue)("smb_ecommerce_compliance_india_m4")),(()=>p.ServerProps.smbEcommerceComplianceIndiaM4))},t.canSeeECommerceComplianceIndiaSoftEnforcement=function(e){let t;if(null!=e){var n;if(t=e.isLid()?null===(n=(0,a.getPhoneNumber)(e))||void 0===n?void 0:n.user:e.user,e.isLid()&&null==t)return!0}return A(t)},t.canSendQuickReply=function(){return(0,_.isSMB)()},t.canViewBizLinkedAccounts=function(){return(0,o.getABPropConfigValue)("web_abprop_business_profile_refresh_linked_account_enabled")},t.catalogCategoriesEnabled=function(){return(0,o.getABPropConfigValue)("catalog_categories_enabled")},t.chatAssignmentEnabled=T,t.chatAssignmentMaxNuxImpressions=function(){if(!T())return 0;return(0,o.getABPropConfigValue)("smb_md_agent_chat_assignment_nux_impressions")},t.chatAssignmentNewChatlistLabelEnabled=function(){return(0,o.getABPropConfigValue)("smb_md_agent_chat_assignment_chat_list_new_label_enabled")},t.chatAssignmentNotificationsEnabled=function(){return(0,o.getABPropConfigValue)("smb_md_agent_chat_assignment_notifications_enabled")},t.chatAssignmentSystemMessagesEnabled=function(){return T()&&(0,o.getABPropConfigValue)("smb_md_agent_chat_assignment_system_messages_enabled")},t.commerceFeaturesDisabledBySanctions=function(){return(0,o.getABPropConfigValue)("commerce_sanctioned")},t.commerceThreadsLoggingEnabled=function(){return(0,o.getABPropConfigValue)("native_commerce_threads_logging_enabled")},t.countryGatingEnabled=function(){return(0,o.getABPropConfigValue)("country_client_gating_enabled")},t.coverPhotoPrivacyMessagingEnabled=function(){return(0,o.getABPropConfigValue)("smb_temp_cover_photo_privacy_messaging")},t.getBillingPremiumAccessConfig=function(){if(!(0,_.isSMB)())return"{}";return(0,o.getABPropConfigValue)("smb_billing_premium_access_config")},t.getOrdersExpansionAllowedCurrencies=t.getOrdersExpansionAllowedCountries=t.getConsumerOrdersExpansionAllowedCountries=void 0,t.graphQLForCatalogM1Enabled=function(){return(0,o.getABPropConfigValue)("graphql_privacy_imp_m1")},t.graphQLForCollectionM2Enabled=function(){return(0,o.getABPropConfigValue)("graphql_privacy_imp_m2")},t.hideUnsupportedCurrency=function(){return(0,o.getABPropConfigValue)("smb_hide_unsupported_currency_price")},t.inOrderMessagesEphemeralExceptionEnabled=void 0,t.interactiveNativeFlowMessagesEnabled=function(){return!(0,o.getABPropConfigValue)("interactive_message_native_flow_killswitch")},t.interactiveNativeFlowResponseMessagesEnabled=function(){return!(0,o.getABPropConfigValue)("interactive_response_message_native_flow_killswitch")},t.interactiveResponseMessagesEnabled=function(){return!(0,o.getABPropConfigValue)("interactive_response_message_killswitch")},t.isAdsAttributionEnabled=function(){return(0,o.getABPropConfigValue)("wa_ctwa_web_thread_ad_attribution_enabled")},t.isBizCoverPhotoEditEnabled=function(){return(0,o.getABPropConfigValue)("web_abprop_business_profile_refresh_edit_cover_photo_enabled")},t.isBizCoverPhotoViewEnabled=function(){return(0,o.getABPropConfigValue)("web_abprop_business_profile_refresh_cover_photo_view_enabled")},t.isBuyerOrderRequestVariantEnabled=function(){return N()&&(0,o.getABPropConfigValue)("buyer_initiated_order_request_variant_enabled")},t.isBuyerOrderRevampEnabled=N,t.isCallingToPrimarySMBLimitEnabled=function(){return(0,o.getABPropConfigValue)("call_only_primary_device_limit_exceeded")},t.isCollectionReorderingEnabled=function(){return(0,o.getABPropConfigValue)("smb_catalog_collections_reordering_enabled")},t.isConsumerTransparencyEnabled=function(){return(0,o.getABPropConfigValue)("ctwa_consumer_data_sharing_consent")},t.isCustomURLViaBizProfileEnabled=function(){return(0,o.getABPropConfigValue)("smb_biz_profile_custom_url")},t.isInteractiveCtaMessageEnabled=function(){return(0,o.getABPropConfigValue)("web_premium_messages_interactivity_rendering_enabled")},t.isMessageWithLinkNfmEnabled=function(){return(0,o.getABPropConfigValue)("payments_link_to_lite_consumer_enabled")},t.isMultiDeviceAgentsLoggingEnabled=function(){return S()&&(0,o.getABPropConfigValue)("smb_multi_device_agents_logging_V2_enabled")},t.isMultiDeviceMessageAttributionEnabled=S,t.isOrderDetailsQuickPayEnabled=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.NONE;try{const{allowed_product_type:t}=JSON.parse((0,o.getABPropConfigValue)("order_details_quick_pay"));if(t&&t!==h.NONE)return t===h.ANY||t===e}catch(e){__LOG__(3)`isOrderDetailsQuickPayEnabled failed to parse config json: error ${e}`}return!1},t.isOrderExpansionBannerEnabled=function(){var e,t;return(null!==(e=null===(t=O())||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0&&(0,o.getABPropConfigValue)("payments_merchant_global_orders_value_props_banner_enabled")},t.isPSForCatalogViewEnabled=function(){return(0,o.getABPropConfigValue)("web_enable_biz_catalog_view_ps_logging")},t.isPremiumMessagesClickLoggingEnabled=function(){return(0,o.getABPropConfigValue)("smb_premium_messages_click_logging_enabled")},t.isPremiumMessagesUrlCtaDialogEnabled=function(){return(0,o.getABPropConfigValue)("smb_premium_messages_url_cta_alert_dialog_enabled")},t.isQuantityControlsFeatureEnabled=function(){return(0,o.getABPropConfigValue)("web_quantity_controls_enabled")},t.isSMBEnhancedLoggingEnabled=function(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("business_tool_enhanced_logging")},t.isSMBMMSpamReportEnabled=function(){return(0,o.getABPropConfigValue)("smb_premium_messages_spam_report_enabled")},t.isSmbOrangeEnabled=function(){if(!(0,_.isSMB)())return!1;return(0,o.getABPropConfigValue)("smb_orange_enabled")},t.isUtmTrackingEnabled=function(){return(0,o.getABPropConfigValue)("utm_tracking_enabled")},t.isWidInPaymentsCountry=function(e){var t;if(!e)return!1;const n=e.isLid()?null===(t=(0,a.getPhoneNumber)(e))||void 0===t?void 0:t.user:e.user;if(null==n)return!1;return A(n)||function(e){return"BR"===(0,d.getCountryShortcodeByPhone)(e||"")}(n)},t.messageQuickReplyEnabled=function(){return(0,o.getABPropConfigValue)("message_quick_reply")},t.nativeFlowMessagesEnabled=function(){return(0,o.getABPropConfigValue)("nfm_rendering_enabled")},t.orderDetailsCustomItemEnabled=function(){return(0,o.getABPropConfigValue)("order_details_custom_item_enabled")},t.orderDetailsFromCartEnabled=function(){return(0,o.getABPropConfigValue)("order_details_from_cart_enabled")},t.orderDetailsFromCatalogEnabled=function(){return(0,o.getABPropConfigValue)("order_details_from_catalog_enabled")},t.orderDetailsTotalMaxValue=function(){return(0,o.getABPropConfigValue)("order_details_total_maximum_value")},t.orderDetailsTotalOrderMinimumValue=function(){return(0,o.getABPropConfigValue)("order_details_total_order_minimum_value")},t.orderManagementEnabled=function(){return(0,o.getABPropConfigValue)("order_management_enabled")},t.qpCampaignsEnabled=y,t.qpSDKProcessingEnabled=function(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("quick_promotion_banner_client_enabled")},t.quickRepliesManagementEnabled=function(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("web_quick_reply_authoring")},t.shopsInteractiveMessageEnabled=function(){return(0,o.getABPropConfigValue)("web_shop_storefront_message")},t.shouldFetchLinkedAccounts=void 0,t.shouldReorderChatOnAssignment=function(e){if(e)return(0,o.getABPropConfigValue)("smb_md_agent_chat_assignment_chats_reorder_on_chat_unassignment_enabled");return(0,o.getABPropConfigValue)("smb_md_agent_chat_assignment_chats_reorder_on_chat_assignment_enabled")},t.shouldShowManageAdsDropdown=t.shouldShowAdCreationIcon=t.shouldShowAdCreationDropdown=t.shouldShowAdCreationBanner=void 0,t.smartFiltersEnabled=function(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("smart_filters_enabled")||!(0,_.isSMB)()&&(0,o.getABPropConfigValue)("smart_filters_enabled_consumer")},t.smbBizProfileLoggingEnabled=function(){if((0,_.isSMB)())return(0,o.getABPropConfigValue)("smb_biz_profile_logging_enabled");return!1},t.smbClickToChatLoggingEnabled=function(){if((0,_.isSMB)())return(0,o.getABPropConfigValue)("smb_click_to_chat_logging_enabled");return!1},t.smbDataSharingConsentEnabled=function(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("ctwa_smb_data_sharing_consent")},t.smbDataSharingOptInCoolOffSeconds=function(){return(0,o.getABPropConfigValue)("ctwa_smb_data_sharing_opt_in_cool_off_period")},t.subscriptionFetchEnabled=function(){if(!(0,_.isSMB)())return!1;return(0,o.getABPropConfigValue)("smb_dcp_enabled")},t.tos3GatingEnabled=function(){if(!(0,_.isSMB)())return(0,o.getABPropConfigValue)("tos_3_client_gating_enabled");return!1},t.tosFetchEnabled=function(){if(!(0,_.isSMB)())return(0,o.getABPropConfigValue)("tos_client_state_fetch_enabled");return!1},t.tosFetchIteration=function(){return(0,o.getABPropConfigValue)("tos_client_state_fetch_iteration")},t.utmTrackingExpirationInHours=function(){return(0,o.getABPropConfigValue)("utm_tracking_expiration_hours")};var i=r(n(88306)),o=n(83741),a=n(42247),s=n(83141),l=n(52765),c=n(43936),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(63854)),d=n(61388),_=n(43744),p=n(70997),f=n(3885);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function A(e){return(0,d.getCountryShortcodeByPhone)(e||"")===c.COMPLIANCE_INFO_CODES.INDIA||(0,l.isFeatureEnabled)("skip_compliance_phone_check")}function g(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!1;var r;if(null!=e&&(t=e.isLid()?null===(r=(0,a.getPhoneNumber)(e))||void 0===r?void 0:r.user:e.user,e.isLid()&&null==t))return!0;return!!A(t)&&n()}const h=n(76672)({DIGITAL_GOODS:"digital-goods",PHYSICAL_GOODS:"physical-goods",ANY:"any",NONE:"none"});function S(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("smb_multi_device_message_attribution_enabled")}function T(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("smb_md_agent_chat_assignment_enabled")}function m(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("wa_ctwa_ads_action_banner_enabled_web")}t.QUICK_PAY_PRODUCT_TYPE_GATING=h;const I=_.isSMB;function y(){return(0,_.isSMB)()&&(0,o.getABPropConfigValue)("qp_campaign_client_enabled")}t.adsActionBannersEnabledOnStartup=I;t.shouldShowAdCreationIcon=()=>(0,_.isSMB)()&&(0,o.getABPropConfigValue)("wa_ctwa_web_entrypoint_home_header_enabled");t.shouldShowAdCreationDropdown=()=>(0,_.isSMB)()&&(0,o.getABPropConfigValue)("wa_ctwa_web_entrypoint_home_header_dropdown_enabled");t.shouldShowManageAdsDropdown=e=>(0,_.isSMB)()&&e.hasCreatedAd&&(0,o.getABPropConfigValue)("wa_ctwa_web_entrypoint_manage_ads_home_header_dropdown_enabled");t.shouldShowAdCreationBanner=()=>(0,_.isSMB)()&&(0,o.getABPropConfigValue)("wa_ctwa_web_entrypoint_home_banner_enabled")&&!y();t.shouldFetchLinkedAccounts=()=>(0,_.isSMB)()&&(0,o.getABPropConfigValue)("wa_ctwa_web_fetch_linked_accounts_enabled");const C=(0,i.default)((e=>{var t;return null!==(t=null==e?void 0:e.split(","))&&void 0!==t?t:[]})),v=()=>{const e=(0,o.getABPropConfigValue)("orders_expansion_receiver_countries_allowed");return(null==e?void 0:e.length)?C(e):null};t.getConsumerOrdersExpansionAllowedCountries=v;const O=()=>(0,_.isSMB)()?v():null;t.getOrdersExpansionAllowedCountries=O;const P=(0,i.default)(((e,t)=>{let n=[];if(0===t.length)return n;const r=(0,d.getCountryShortcodeByPhone)(e),i=(0,d.getCountryShortcodeByPhone)((0,f.getMeUser)().user);return n=t.filter((e=>e===r||e===i)).map((e=>u.currencyForCountryShortcode(e))),Array.from(new Set(n).values())}));t.getOrdersExpansionAllowedCurrencies=e=>{var t;return P(e,null!==(t=O())&&void 0!==t?t:[])};function N(){return(0,o.getABPropConfigValue)("row_buyer_order_revamp_m0_enabled")}t.inOrderMessagesEphemeralExceptionEnabled=()=>(0,o.getABPropConfigValue)("order_messages_ephemeral_exception_enabled")},52765:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debugDisableFeatureFlag=function(e){n[e]=!1},t.debugEnableFeatureFlag=function(e){n[e]=!0},t.isFeatureEnabled=function(e){return n[e]},t.overwriteDebugFeatures=function(){};const n={a11y_block:!1,lid_debug:!1,media_existence_check:!1,web_voip_voice_call:!1,web_voip_video_call:!1,youtube_video_preview_without_blur:!1,message_add_ons:!1,reactions_filter_problematic_flags:!0,native_promise_runtime:!0,skip_compliance_phone_check:!1,debug_commands:!1}},18106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commentMessageParticipantLimit=function(){return(0,r.getABPropConfigValue)("parent_group_announcement_comments_participant_limit")},t.communitiesEnabled=a,t.communitiesEnabledSmb=function(){return(0,o.isSMB)()&&(0,r.getABPropConfigValue)("parent_group_view_enabled_for_smb_on_web")},t.communityAdminPromotionOneTimePromptEnabled=function(){return a()&&(0,r.getABPropConfigValue)("community_admin_promotion_one_time_prompt")},t.communityAnnouncementImprovementM3Enabled=function(){return(0,r.getABPropConfigValue)("community_announcement_improvement_m3")},t.communityChatListNestingEnabled=function(){return(0,r.getABPropConfigValue)("community_groups_navigation")},t.communityCreatePrivacyEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_create_privacy")},t.communityCreationNoAddGroupsScreenEnabled=function(){return(0,r.getABPropConfigValue)("community_creation_no_add_groups_screen")},t.communityGeneralChatUIEnabled=function(){return(0,r.getABPropConfigValue)("community_general_chat_UI_enabled")},t.communityGroupDirectoryEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_directory_enabled")},t.communityHomeHeaderActionsEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_home_header_actions_enabled")},t.communityNavigationEnabled=function(){return(0,r.getABPropConfigValue)("community_navigation")},t.communityRichSystemMessageEnabled=function(){return(0,r.getABPropConfigValue)("community_rich_system_message_enabled")},t.communityShortGroupCreationEnabled=function(){return(0,r.getABPropConfigValue)("community_shorter_group_creation_enabled")},t.communitySubgroupIdentityV2Enabled=s,t.communitySubgroupSwitcherEntrypointEnabled=function(){return(0,r.getABPropConfigValue)("community_subgroup_switcher_entrypoint_enabled")},t.communityTabbedInfoEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_info_updates_enabled")},t.getParentGroupLinkLimit=function(){return(0,r.getABPropConfigValue)("parent_group_link_limit")+1},t.getParentGroupLinkLimitCommunityCreation=function(){return(0,r.getABPropConfigValue)("parent_group_link_limit_community_creation")+1},t.groupMentionsInSubgroupsEnabled=function(){return(0,r.getABPropConfigValue)("group_mentions_in_subgroups")},t.isCommentMessageSubscriptionEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_announcement_comment_subscription_enabled")},t.isCommentMessagesEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_announcement_comments_enabled")},t.memberAddedGroupsM1Enabled=function(){return(0,r.getABPropConfigValue)("parent_group_allow_member_added_groups_m1")},t.memberSuggestedGroupsEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_allow_member_added_groups_m2")},t.newCommunityAnnouncementBubbleEnabled=function(){return(0,r.getABPropConfigValue)("community_announcement_improvement_m1")},t.noSubgroupRequirementEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_no_subgroup_requirement")},t.reportCommunityExitUpsellEnabled=function(){return(0,r.getABPropConfigValue)("community_reporting_ui_upsell_exit")},t.richCommunityDescriptionEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_enhanced_description_enabled")},t.shouldShowNewSubgroupIdentity=function(e){if(null==e)return!1;return(e.groupType===i.GroupType.SUBGROUP||e.groupType===i.GroupType.GENERAL_GROUP)&&null!=e.getParentGroupChat()&&a()&&s()},t.subgroupFilterEnabled=function(){return(0,r.getABPropConfigValue)("parent_group_subgroup_filter")};var r=n(83741),i=n(98051),o=n(43744);function a(){return(0,o.isSMB)()?(0,r.getABPropConfigValue)("parent_group_view_enabled_for_smb_on_web"):(0,r.getABPropConfigValue)("parent_group_view_enabled")}function s(){return(0,r.getABPropConfigValue)("community_subgroup_identity_v2")}},68214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processReplyMessagesEnabled=function(){return(0,r.getABPropConfigValue)("web_message_edit_processing_reply_messages")},t.receiveCaptionEditEnabled=function(){return(0,r.getABPropConfigValue)("caption_edit_receive")||o()},t.receiveTextEditEnabled=function(){return(0,r.getABPropConfigValue)("message_edit_receive")||i()||!1},t.sendCagMsgEditEnabled=function(){return(0,r.getABPropConfigValue)("cag_message_edit_send")},t.sendCaptionEditEnabled=o,t.sendTextEditEnabled=i;var r=n(83741);function i(){return(0,r.getABPropConfigValue)("message_edit_send")||!1}function o(){return(0,r.getABPropConfigValue)("caption_edit_send")}},19909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupSizeBypassingSampling=function(){var e;return null!==(e=(0,r.getABPropConfigValue)("group_size_bypassing_sampling"))&&void 0!==e?e:1e5},t.isDeviceSyncManagerEnabled=function(){return(0,r.getABPropConfigValue)("web_device_sync_manager_enabled")},t.isDeviceSyncManagerGroupEnabled=function(){return(0,r.getABPropConfigValue)("web_device_sync_manager_group_enabled")},t.isMediaretryNotificationNackEnabled=function(){return(0,r.getABPropConfigValue)("web_mediaretry_notification_nack_enabled")},t.isRetryReceiptErrorCodeEnabled=function(){return(0,r.getABPropConfigValue)("retry_receipt_error_code_enabled")},t.isSendMessageDropNackEnabled=function(){return(0,r.getABPropConfigValue)("send_message_drop_nack_enabled")},t.isSendMessageDropOldCounterNackEnabled=function(){return(0,r.getABPropConfigValue)("send_message_drop_old_couter_nack_enabled")},t.isVIdDeprecationEnabled=function(){return(0,r.getABPropConfigValue)("v_id_deprecation_enabled")},t.sendKeyDistributionMsgMaxGroupSize=function(){return(0,r.getABPropConfigValue)("web_send_invisible_msg_max_group_size")},t.sendKeyDistributionMsgMinGroupSize=function(){return(0,r.getABPropConfigValue)("web_send_invisible_msg_min_group_size")},t.sendKeyDistributionMsgToNewGroups=function(){return(0,r.getABPropConfigValue)("web_send_invisible_msg_to_new_groups")},t.sendOnlyActiveReceiptsEnabled=function(){return(0,r.getABPropConfigValue)("web_send_only_active_receipts")};var r=n(83741)},67454:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.accidentalDeleteMessageEnabled=function(){return(0,i.getABPropConfigValue)("web_accidental_delete_for_me")||!1},t.archiveV2Supported=function(){return(0,i.getABPropConfigValue)("sync_archive_v2_setting")},t.bonsaiReceiverEnabled=function(){return(0,i.getABPropConfigValue)("bonsai_receiver_enabled")},t.cagReactionsReceive=function(){return(0,i.getABPropConfigValue)("cag_reactions_receive")},t.cagReactionsSend=function(e){if(e>=(0,i.getABPropConfigValue)("pnh_cag_disable_reactions_group_size"))return!1;if((0,s.isSMB)())return(0,i.getABPropConfigValue)("cag_reactions_send")&&(0,i.getABPropConfigValue)("parent_group_view_enabled_for_smb_on_web");return(0,i.getABPropConfigValue)("cag_reactions_send")},t.clearOrDeleteChatSyncEnabled=function(){if(((0,s.getMobilePlatform)()===s.PLATFORMS.ANDROID||(0,s.getMobilePlatform)()===s.PLATFORMS.SMBA)&&(0,d.getPrimaryAllowsAllMutations)())return!0;if(((0,s.getMobilePlatform)()===s.PLATFORMS.IPHONE||(0,s.getMobilePlatform)()===s.PLATFORMS.SMBI)&&(0,c.primaryFeatureEnabled)("clear_and_delete_chat_sync"))return!0;return!1},t.documentWithCaptionsSendEnabled=function(){return(0,i.getABPropConfigValue)("documents_with_captions_send")},t.experimentalEmojiAPIEnabled=function(){return(0,i.getABPropConfigValue)("web_abprop_emoji_experimental_api")},t.fourReactionsInBubbleEnabled=function(){return(0,i.getABPropConfigValue)("four_reactions_in_bubble_enabled")},t.futureproofReparsingNonAddOnsEnabled=function(){return(0,i.getABPropConfigValue)("web_fp_reparsing_for_non_add_ons")},t.getGraphqlLocaleRemapping=function(){return(0,i.getABPropConfigValue)("graphql_locale_remapping")},t.getGroupSizeLimit=function(e){let t;t=e===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(0,i.getABPropConfigValue)("community_announcement_group_size_limit"):(0,i.getABPropConfigValue)("group_size_limit")-1;(null==t||t<=0||Number.isNaN(t))&&(t=u.ServerProps.maxParticipants);return t},t.groupProfileEditorEnabled=function(){return(0,i.getABPropConfigValue)("web_group_profile_editor")},t.isAdminHfmToggleEnabled=function(){var e;return null!==(e=(0,i.getABPropConfigValue)("admin_hfm_toggle"))&&void 0!==e&&e},t.isAutoMuteConfirmationDialogEnabled=function(){return(0,i.getABPropConfigValue)("web_auto_mute_256_groups_confirmation")},t.isDefaultDisappearingMessagesEnabled=function(){return(0,c.primaryFeatureEnabled)("ddm_settings")&&(0,i.getABPropConfigValue)("web_privacy_settings_v2")},t.isDropLastNameEnabled=function(){var e;return null!==(e=(0,i.getABPropConfigValue)("drop_last_name"))&&void 0!==e&&e},t.isFavoriteStickersEnabled=function(){return(0,i.getABPropConfigValue)("sticker_md_favorite_stickers_enabled")&&(0,c.primaryFeatureEnabled)("favorite_sticker")},t.isGroupSuspendV2Enabled=function(){return(0,i.getABPropConfigValue)("group_suspend_v2_enabled")},t.isHighQualityVideoThumbnailsEnabled=function(){const{UA:e}=n(88745),t=(0,l.getModernizr)();if(e.isGecko&&!(null==t?void 0:t.exiforientation))return!1;return!0},t.isInAppSupportEnabled=function(){if(!(0,i.getABPropConfigValue)("in_app_support_v2_enabled"))return!1;const e=(0,i.getABPropConfigValue)("in_app_support_v2_locale_langs");if(""===e)return!0;const t=new Set(e.split(",")),r=(0,o.default)(n(14950));return t.has(r.getLocale())},t.isPrivacyNarrativeV1Enabled=function(){return!(0,s.isSMB)()},t.isRambutanEnabled=function(){return(0,s.isSMB)()&&(0,i.getABPropConfigValue)("smb_rambutan_enabled")},t.isRecentStickersMDEnabled=function(){return(0,i.getABPropConfigValue)("recent_sticker_rollout_phase")>=3&&(0,c.primaryFeatureEnabled)("recent_sticker")},t.isStickerRmrSyncEnabled=function(){return(0,i.getABPropConfigValue)("recent_sticker_rollout_phase")>=4||(0,i.getABPropConfigValue)("favorite_sticker_rmr_sync_enabled")},t.isViewOnceSunsetEnabled=function(){return(0,c.primaryFeatureEnabled)("vo_sp_receiver")&&(0,i.getABPropConfigValue)("view_once_sp_receiver")},t.mediaEditorBlurToolEnabled=function(){return(0,i.getABPropConfigValue)("web_media_editor_blur_tool")},t.mediaLinksDocsFilteringEnabled=function(){return(0,i.getABPropConfigValue)("web_abprop_media_links_docs_search")},t.messageCustomAriaLabelEnabled=function(){return(0,i.getABPropConfigValue)("web_message_custom_aria_label")},t.messageLevelReportingEnabled=function(){return(0,i.getABPropConfigValue)("message_level_reporting")},t.messageListA11yRedesignEnabled=function(){return(0,i.getABPropConfigValue)("web_message_list_a11y_redesign")},t.messagePluginFrontendRegistrationEnabled=function(){return(0,i.getABPropConfigValue)("web_message_plugin_frontend_registration_enabled")},t.multiSkinToneEmojiPickerEnabled=function(){return(0,i.getABPropConfigValue)("web_multi_skin_toned_emoji_picker")||!1},t.newStatusReplyInputEnabled=function(){return(0,i.getABPropConfigValue)("web_new_status_reply_input")},t.paymentBackgroundEnabled=function(){if(u.ServerProps.webPaymentBackgroundEnabled)return!0;return!1},t.pinChatSyncEnabled=function(){if(u.ServerProps.syncdPinChatEnabled)return!!((0,s.getMobilePlatform)()!==s.PLATFORMS.ANDROID&&(0,s.getMobilePlatform)()!==s.PLATFORMS.SMBA||(0,d.getPrimaryAllowsAllMutations)());return!1},t.pnhCagBlockLidInLimbo=function(){return(0,i.getABPropConfigValue)("pnh_cag_block_lid_in_limbo")},t.pnhCagShowMaskedMembersEnabled=function(){return(0,i.getABPropConfigValue)("pnh_cag_show_masked_members")},t.prekeyFetchForMessageResendEnabled=function(){return(0,i.getABPropConfigValue)("prekey_fetch_iq_for_missing_devices_enabled")},t.queryVerifiedNameWhenMsgDiffers=function(){return(0,i.getABPropConfigValue)("query_verified_name_when_msg_differs")},t.screenLockFeatureSupported=function(){return(0,i.getABPropConfigValue)("web_abprop_screen_lock_enabled")},t.web2FAEnabled=function(){return(0,i.getABPropConfigValue)("web_2fa")},t.webMediaAutoDownloadEnabled=function(){return!(0,i.getABPropConfigValue)("disable_auto_download")};var i=n(83741),o=r(n(40733)),a=n(98051),s=n(43744),l=n(16342),c=n(89358),u=n(70997),d=n(35878)},43744:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PLATFORMS=void 0,t.getMobilePlatform=function(){null==s&&__LOG__(4,void 0,new Error)`Failed to get primary platform`;return s},t.isSMB=function(){return s===a.SMBA||s===a.SMBI},t.setMobilePlatform=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(97023);const a={ANDROID:"android",IPAD:"ipad",IPHONE:"iphone",SMBA:"smba",SMBI:"smbi"};let s;function l(){return(l=(0,i.default)((function*(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(yield(0,o.setLastMobilePlatform)(e)),s=e,__LOG__(2)`Successfully writes platform to UserPrefs, platform: ${e}`}))).apply(this,arguments)}t.PLATFORMS=a},463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMatCrashLogEnabled=function(){return(0,r.getABPropConfigValue)("pnh_ctwa_mat_crashlog")},t.isMatFullyEnabled=function(){return(0,r.getABPropConfigValue)("pnh_split_threads_detection")&&(0,r.getABPropConfigValue)("pnh_split_thread_case1_detection")};var r=n(83741)},17761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canEnableOfflineNotifications=function(){const{getABPropConfigValue:e}=n(83741);return o()&&e("web_push_notifications")},t.canSupportOfflineNotifications=o;var r=n(88745);const i=r.UA.isSafari&&Number(r.UA.browserVersion.split(".")[0])<16;function o(){return!i}},88159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRecentSyncMessageProcessingBreakIteration=function(){return(0,r.getABPropConfigValue)("web_noncritical_history_sync_message_processing_break_iteration")},t.isHistorySyncOnDemandEnabled=function(){if(!o.PrimaryFeatures.historySyncOnDemand)return!1;const e=(0,a.getInitialHistorySyncCompleteLocalStorage)(),t=(0,a.getHistoryInitialSyncBoundary)();if(e&&(null==t||0===Object.keys(t).length))return __LOG__(2)`[rdu] History sync on demand feature is disabled as initial sync is incomplete or initial sync boundary is not available`,!1;if(((0,i.getMobilePlatform)()===i.PLATFORMS.ANDROID||(0,i.getMobilePlatform)()===i.PLATFORMS.SMBA)&&o.PrimaryFeatures.isPrimaryBetaBuild&&(0,r.getABPropConfigValue)("history_sync_on_demand_with_android_beta"))return!0;return(0,r.getABPropConfigValue)("history_sync_on_demand")},t.isHistorySyncWithoutMmsEnabled=function(){return!0},t.isInitialSyncMessageStoringOptimizationEnabled=function(){return(0,r.getABPropConfigValue)("web_initial_sync_encrypted_msgs_storing")},t.isMessagePlaceholderResendNseSupportEnabled=function(){return o.PrimaryFeatures.messagePlaceholderResendNseSupport},t.isPlaceholderMessageResendEnabled=function(){return(0,r.getABPropConfigValue)("placeholder_message_resend")},t.isWebLinkPreviewNseSupportEnabled=function(){return o.PrimaryFeatures.webLinkPreviewNseSupport},t.shouldPopulateStarMessageWithTimestamp=function(){return o.PrimaryFeatures.historySyncOnDemand};var r=n(83741),i=n(43744),o=n(8411),a=n(96549)},59685:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getVerifiedName=t.getVerifiedLevel=t.getUserid=t.getUserhash=t.getType=t.getStatusMute=t.getShowBusinessCheckmarkInChatlist=t.getShowBusinessCheckmarkAsSecondary=t.getShowBusinessCheckmarkAsPrimary=t.getShouldForceBusinessUpdate=t.getShortName=t.getSearchVerifiedName=t.getRequestedPnTimestamp=t.getPushname=t.getPrivacyMode=t.getPremiumMessageName=t.getNotifyName=t.getName=t.getMentionName=t.getLabels=t.getIsWAContact=t.getIsUser=t.getIsSupportAccount=t.getIsSmb=t.getIsPSA=t.getIsNewsletter=t.getIsMyContact=t.getIsMe=t.getIsIAS=t.getIsGroup=t.getIsEnterprise=t.getIsDisplayNameApproved=t.getIsContactSyncCompleted=t.getIsCAPISupportAccount=t.getIsBusiness=t.getIsBroadcast=t.getId=t.getHeader=t.getForcedBusinessUpdateFromServer=t.getContactUnsafe=t.getCanRequestPhoneNumber=t.clearContactGetterCacheFor=void 0;var i=r(n(27522)),o=n(29987),a=r(n(81700)),s=n(83141),l=n(49026),c=n(47546),u=n(71500),d=r(n(14950)),_=n(3885),p=r(n(27112));const{field:f,computed:E,unsafeIdentityGetter:A,clearCacheFor:g}=(0,c.createGetterFactories)({createCache:u.createContactsCache}),h=g;t.clearContactGetterCacheFor=h;const S=A;t.getContactUnsafe=S;const T=Object.defineProperty(f("id"),"name",{value:"getId"});t.getId=T;const m=Object.defineProperty(f("pushname"),"name",{value:"getPushname"});t.getPushname=m;const I=Object.defineProperty(f("isBusiness"),"name",{value:"getIsBusiness"});t.getIsBusiness=I;const y=Object.defineProperty(f("verifiedLevel"),"name",{value:"getVerifiedLevel"});t.getVerifiedLevel=y;const C=Object.defineProperty(f("verifiedName"),"name",{value:"getVerifiedName"});t.getVerifiedName=C;const v=Object.defineProperty(f("name"),"name",{value:"getName"});t.getName=v;const O=Object.defineProperty(f("forcedBusinessUpdateFromServer"),"name",{value:"getForcedBusinessUpdateFromServer"});t.getForcedBusinessUpdateFromServer=O;const P=Object.defineProperty(f("isContactSyncCompleted"),"name",{value:"getIsContactSyncCompleted"});t.getIsContactSyncCompleted=P;const N=Object.defineProperty(f("type"),"name",{value:"getType"});t.getType=N;const b=Object.defineProperty(f("requestedPnTimestamp"),"name",{value:"getRequestedPnTimestamp"});t.getRequestedPnTimestamp=b;const M=Object.defineProperty(f("shortName"),"name",{value:"getShortName"});t.getShortName=M;const R=Object.defineProperty(f("isEnterprise"),"name",{value:"getIsEnterprise"});t.getIsEnterprise=R;const D=Object.defineProperty(f("isSmb"),"name",{value:"getIsSmb"});t.getIsSmb=D;const L=Object.defineProperty(f("labels"),"name",{value:"getLabels"});t.getLabels=L;const w=Object.defineProperty(f("statusMute"),"name",{value:"getStatusMute"});t.getStatusMute=w;const B=Object.defineProperty(f("privacyMode"),"name",{value:"getPrivacyMode"});t.getPrivacyMode=B;const U=Object.defineProperty(E((e=>{let[t,n,r,i]=e;return n&&r!==s.VERIFIED_LEVEL.HIGH?i:t}),[m,I,y,C]),"name",{value:"getNotifyName"});t.getNotifyName=U;const G=Object.defineProperty(E((e=>{let[t,n]=e;return t||n||""}),[v,m]),"name",{value:"getPremiumMessageName"});t.getPremiumMessageName=G;const k=Object.defineProperty(E((e=>{let[t,n]=e;return t!==s.VERIFIED_LEVEL.HIGH?null:n?d.default.accentFold(n):null}),[y,C]),"name",{value:"getSearchVerifiedName"});t.getSearchVerifiedName=k;const Y=/^[^0-9]+$/,F=Object.defineProperty(E((e=>{let[t,n,r,i]=e;function o(e){const t=e.toLowerCase(),n=a.default.exec(t);if(n&&0===n.index||n&&Y.test(t.slice(n.index))){const e=n[0],t=d.default.removeAccents(e);return(0,l.getCollator)().compare(t,e)?e:t}return"#"}return t?o(t):r===s.VERIFIED_LEVEL.HIGH&&n?o(n):null!=i&&""!==i?"~":"#"}),[v,C,y,U]),"name",{value:"getHeader"});t.getHeader=F;const K=Object.defineProperty(E((e=>{let[t]=e;return(0,_.isMeAccount)(t)}),[T]),"name",{value:"getIsMe"});t.getIsMe=K;const x=Object.defineProperty(E((e=>{let[t]=e;return p.default.isUser(t)}),[T]),"name",{value:"getIsUser"});t.getIsUser=x;const H=Object.defineProperty(E((e=>{let[t]=e;return p.default.isGroup(t)}),[T]),"name",{value:"getIsGroup"});t.getIsGroup=H;const j=Object.defineProperty(E((e=>{let[t]=e;return p.default.isBroadcast(t)}),[T]),"name",{value:"getIsBroadcast"});t.getIsBroadcast=j;const V=Object.defineProperty(E((e=>{let[t]=e;return p.default.isNewsletter(t)}),[T]),"name",{value:"getIsNewsletter"});t.getIsNewsletter=V;const W=Object.defineProperty(E((e=>{let[t]=e;return p.default.isPSA(t)}),[T]),"name",{value:"getIsPSA"});t.getIsPSA=W;const Q=Object.defineProperty(E((e=>{let[t]=e;return p.default.isIAS(t)}),[T]),"name",{value:"getIsIAS"});t.getIsIAS=Q;const $=Object.defineProperty(E((e=>{let[t]=e;return p.default.isSupportAccount(t)}),[T]),"name",{value:"getIsSupportAccount"});t.getIsSupportAccount=$;const z=Object.defineProperty(E((e=>{let[t]=e;return p.default.isCAPISupportAccount(t)}),[T]),"name",{value:"getIsCAPISupportAccount"});t.getIsCAPISupportAccount=z;const J=Object.defineProperty(E((e=>{let[t,n]=e;return t&&"in"===n}),[x,N]),"name",{value:"getIsWAContact"});t.getIsWAContact=J;const q=Object.defineProperty(E((e=>{let[t,n]=e;return!(!t||!(null==n?void 0:n.length))}),[x,v]),"name",{value:"getIsMyContact"});t.getIsMyContact=q;const X=Object.defineProperty(E((e=>{let[t,n,r,i,o]=e;return!t&&n&&r!==s.VERIFIED_LEVEL.HIGH?null:i||o}),[q,I,y,v,U]),"name",{value:"getMentionName"});t.getMentionName=X;const Z=Object.defineProperty(E((e=>{let[t,n]=e;return t?(0,i.default)((n.user||"")+"WA_ADD_NOTIF"):null}),[x,T]),"name",{value:"getUserhash"});t.getUserhash=Z;const ee=Object.defineProperty(E((e=>{let[t,n]=e;return t?p.default.user(n):null}),[x,T]),"name",{value:"getUserid"});t.getUserid=ee;const te=Object.defineProperty(E((e=>{let[t]=e;return null==t||t+o.DAY_SECONDS<(0,o.unixTime)()}),[b]),"name",{value:"getCanRequestPhoneNumber"});t.getCanRequestPhoneNumber=te;const ne=Object.defineProperty(E((e=>{let[t,n,r,i,o]=e;return o||t&&n===s.VERIFIED_LEVEL.HIGH&&(r===i||!r)}),[I,y,v,C,$]),"name",{value:"getShowBusinessCheckmarkAsPrimary"});t.getShowBusinessCheckmarkAsPrimary=ne;const re=Object.defineProperty(E((e=>{let[t,n,r,i]=e;return t&&n===s.VERIFIED_LEVEL.HIGH&&Boolean(r)&&r!==i}),[I,y,v,C]),"name",{value:"getShowBusinessCheckmarkAsSecondary"});t.getShowBusinessCheckmarkAsSecondary=re;const ie=Object.defineProperty(E((e=>{let[t,n]=e;return t&&n===s.VERIFIED_LEVEL.HIGH}),[I,y]),"name",{value:"getShowBusinessCheckmarkInChatlist"});t.getShowBusinessCheckmarkInChatlist=ie;const oe=Object.defineProperty(E((e=>{let[t,n]=e;return t&&(n===s.VERIFIED_LEVEL.HIGH||n===s.VERIFIED_LEVEL.LOW)}),[I,y]),"name",{value:"getIsDisplayNameApproved"});t.getIsDisplayNameApproved=oe;const ae=Object.defineProperty(E((e=>{let[t,n]=e;return!t&&!n}),[O,P]),"name",{value:"getShouldForceBusinessUpdate"});t.getShouldForceBusinessUpdate=ae},26368:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsProductListMessage=t.getIsPollVote=t.getIsPSA=t.getIsOpus=t.getIsNotification=t.getIsNewsletterMsg=t.getIsNewMsg=t.getIsMetaBotResponse=t.getIsMetaBotInvokeResponse=t.getIsMedia=t.getIsMdHistoryMsg=t.getIsLive=t.getIsKept=t.getIsInternational=t.getIsInitialE2ENotification=t.getIsImportantMessage=t.getIsIAS=t.getIsGroupsV4InviteExpired=t.getIsGroupMsg=t.getIsGif=t.getIsFutureproof=t.getIsFromTemplate=t.getIsFrequentlyForwarded=t.getIsForwarded=t.getIsFailed=t.getIsEphemeral=t.getIsEdited=t.getIsEditProtocolMsg=t.getIsDynamicReplyButtonsMsg=t.getIsDisappearingModeSystemMessage=t.getIsCaptionByUser=t.getIsCAPISupport=t.getIsBotResponse=t.getIsBotQuery=t.getIsBotFutureproofPlaceholder=t.getIsBizNotification=t.getIsBizBotResponse=t.getIsAvatar=t.getIsAuthenticationMessage=t.getIsAckPlayable=t.getInviteGrpType=t.getInviteGrpName=t.getInviteGrpJpegThum=t.getInviteGrp=t.getInviteCodeExp=t.getInviteCode=t.getInvis=t.getInteractiveType=t.getInteractiveHeader=t.getInteractiveAnnotations=t.getInitialPageSize=t.getId=t.getHsmTag=t.getHeaderType=t.getHasReaction=t.getHasOriginatedFromNewsletter=t.getHasMentionOfMe=t.getGroupMentions=t.getGifAttribution=t.getFutureproofType=t.getFutureproofSubtype=t.getFrom=t.getForwardingScore=t.getForwardedNewsletterMessageInfo=t.getFooter=t.getFinalLng=t.getFinalLat=t.getFilename=t.getFilehash=t.getErrorCode=t.getEphemeralSettingUser=t.getEphemeralOutOfSync=t.getEphemeralExpirationTimestamp=t.getEphemeralDuration=t.getDynamicReplyButtons=t.getDoNotPlayInline=t.getDisappearingModeInitiator=t.getDescription=t.getDeprecatedMms3Url=t.getCurrencyCode=t.getCtwaContext=t.getComment=t.getClientUrl=t.getCaption=t.getCanonicalUrl=t.getCampaignId=t.getBusinessOwnerJid=t.getBroadcastId=t.getBroadcast=t.getBotEditType=t.getBody=t.getBizSource=t.getBizPrivacyStatus=t.getBizBotType=t.getBackgroundColor=t.getAuthor=t.getAgendId=t.getActiveBotMsgStreamingInProgress=t.getAck=t.clearMsgGetterCacheFor=void 0,t.getViewed=t.getViewCount=t.getVerifiedBizName=t.getVcardList=t.getVcardFormattedName=t.getVcard=t.getUrl=t.getType=t.getTotalCurrencyCode=t.getTotalAmount1000=t.getTo=t.getTitle=t.getThumbnailWidth=t.getThumbnailHeight=t.getThumbnailHQ=t.getThumbnailDirectPath=t.getThumbnail=t.getTemplateParams=t.getT=t.getSupportsMessageFooterLinks=t.getSupportsMessageFooter=t.getSubtype=t.getStatusV3CanvasColor=t.getStar=t.getSmbClientCampaignId=t.getSize=t.getShouldDisplayAsForwarded=t.getShareDuration=t.getSender=t.getSalePriceAmount1000=t.getRichPreviewType=t.getRevokeSender=t.getRetailerId=t.getRecipients=t.getRcatString=t.getRcat=t.getQuotedRemoteJid=t.getQuotedParticipant=t.getQuotedMsg=t.getProductListHeaderImage=t.getProductImageCount=t.getProductId=t.getProductHeaderImageRejected=t.getPriceAmount1000=t.getPollSelectableOptionsCount=t.getPollOptions=t.getPollName=t.getPollInvalidated=t.getPaymentTxnStatus=t.getPaymentTransactionTimestamp=t.getPaymentStatus=t.getPaymentRequestMessageKey=t.getPaymentNoteMsg=t.getPaymentMessageReceiverJid=t.getPaymentInviteServiceType=t.getPaymentExpiryTimestamp=t.getPaymentCurrency=t.getPaymentBackground=t.getPaymentAmount1000=t.getOriginalSender=t.getOriginalSelfAuthor=t.getOrderTitle=t.getNumTimesForwarded=t.getNativeFlowName=t.getNativeFlowButtons=t.getMsgUnsafe=t.getMimetype=t.getMessageSecret=t.getMessage=t.getMentionedJidList=t.getMediaKey=t.getMatchedText=t.getLocal=t.getLoc=t.getLng=t.getList=t.getLinkPreview=t.getLatestEditMsgKey=t.getLat=t.getLastBotEditBodyLength=t.getLabels=t.getKicTimestampMs=t.getKicState=t.getKicSender=t.getKicKey=t.getItemCount=t.getIsViewOnce=t.getIsVcardOverMmsDocument=t.getIsUserCreatedType=t.getIsUnreadType=t.getIsUnkept=t.getIsStickerMsg=t.getIsStatusV3=t.getIsSentByMeFromWeb=t.getIsSentByMe=t.getIsSendFailure=t.getIsRevokedByMe=t.getIsRevoke=t.getIsReply=t.getIsReaction=t.getIsProductListMessage=t.getIsPollVote=t.getIsPSA=t.getIsOpus=t.getIsNotification=t.getIsNewsletterMsg=t.getIsNewMsg=t.getIsMetaBotResponse=t.getIsMetaBotInvokeResponse=t.getIsMedia=t.getIsMdHistoryMsg=t.getIsLive=t.getIsKept=t.getIsInternational=t.getIsInitialE2ENotification=t.getIsImportantMessage=t.getIsIAS=t.getIsGroupsV4InviteExpired=t.getIsGroupMsg=t.getIsGif=t.getIsFutureproof=t.getIsFromTemplate=t.getIsFrequentlyForwarded=t.getIsForwarded=t.getIsFailed=t.getIsEphemeral=t.getIsEdited=t.getIsEditProtocolMsg=t.getIsDynamicReplyButtonsMsg=t.getIsDisappearingModeSystemMessage=t.getIsCaptionByUser=t.getIsCAPISupport=t.getIsBotResponse=t.getIsBotQuery=t.getIsBotFutureproofPlaceholder=t.getIsBizNotification=t.getIsBizBotResponse=t.getIsAvatar=t.getIsAuthenticationMessage=t.getIsAckPlayable=t.getInviteGrpType=t.getInviteGrpName=t.getInviteGrpJpegThum=t.getInviteGrp=t.getInviteCodeExp=t.getInviteCode=t.getInvis=t.getInteractiveType=t.getInteractiveHeader=t.getInteractiveAnnotations=t.getInitialPageSize=t.getId=t.getHsmTag=t.getHeaderType=t.getHasReaction=t.getHasOriginatedFromNewsletter=t.getHasMentionOfMe=t.getGroupMentions=t.getGifAttribution=t.getFutureproofType=t.getFutureproofSubtype=t.getFrom=t.getForwardingScore=t.getForwardedNewsletterMessageInfo=t.getFooter=t.getFinalLng=t.getFinalLat=t.getFilename=t.getFilehash=t.getErrorCode=t.getEphemeralSettingUser=t.getEphemeralOutOfSync=t.getEphemeralExpirationTimestamp=t.getEphemeralDuration=t.getDynamicReplyButtons=t.getDoNotPlayInline=t.getDisappearingModeInitiator=t.getDescription=t.getDeprecatedMms3Url=t.getCurrencyCode=t.getCtwaContext=t.getComment=t.getClientUrl=t.getCaption=t.getCanonicalUrl=t.getCampaignId=t.getBusinessOwnerJid=t.getBroadcastId=t.getBroadcast=t.getBotEditType=t.getBody=t.getBizSource=t.getBizPrivacyStatus=t.getBizBotType=t.getBackgroundColor=t.getAuthor=t.getAgendId=t.getActiveBotMsgStreamingInProgress=t.getAck=t.clearMsgGetterCacheFor=void 0,t.getWaveform=t.getWamEditType=t.getWamDisappearingModeInitiator=t.getViewed=t.getViewCount=t.getVerifiedBizName=t.getVcardList=t.getVcardFormattedName=t.getVcard=t.getUrl=t.getType=t.getTotalCurrencyCode=t.getTotalAmount1000=t.getTo=t.getTitle=t.getThumbnailWidth=t.getThumbnailHeight=t.getThumbnailHQ=t.getThumbnailDirectPath=t.getThumbnail=t.getTemplateParams=t.getT=t.getSupportsMessageFooterLinks=t.getSupportsMessageFooter=t.getSubtype=t.getStatusV3CanvasColor=t.getStar=t.getSmbClientCampaignId=t.getSize=t.getShouldDisplayAsForwarded=t.getShareDuration=t.getSender=t.getSalePriceAmount1000=t.getRichPreviewType=t.getRevokeSender=t.getRetailerId=t.getRecipients=t.getRcatString=t.getRcat=t.getQuotedRemoteJid=t.getQuotedParticipant=t.getQuotedMsg=t.getProductListHeaderImage=t.getProductImageCount=t.getProductId=t.getProductHeaderImageRejected=t.getPriceAmount1000=t.getPollSelectableOptionsCount=t.getPollOptions=t.getPollName=t.getPollInvalidated=t.getPaymentTxnStatus=t.getPaymentTransactionTimestamp=t.getPaymentStatus=t.getPaymentRequestMessageKey=t.getPaymentNoteMsg=t.getPaymentMessageReceiverJid=t.getPaymentInviteServiceType=t.getPaymentExpiryTimestamp=t.getPaymentCurrency=t.getPaymentBackground=t.getPaymentAmount1000=t.getOriginalSender=t.getOriginalSelfAuthor=t.getOrderTitle=t.getNumTimesForwarded=t.getNativeFlowName=t.getNativeFlowButtons=t.getMsgUnsafe=t.getMimetype=t.getMessageSecret=t.getMessage=t.getMentionedJidList=t.getMediaKey=t.getMatchedText=t.getLocal=t.getLoc=t.getLng=t.getList=t.getLinkPreview=t.getLatestEditMsgKey=t.getLat=t.getLastBotEditBodyLength=t.getLabels=t.getKicTimestampMs=t.getKicState=t.getKicSender=t.getKicKey=t.getItemCount=t.getIsViewOnce=t.getIsVcardOverMmsDocument=t.getIsUserCreatedType=t.getIsUnreadType=t.getIsUnkept=t.getIsStickerMsg=t.getIsStatusV3=t.getIsSentByMeFromWeb=t.getIsSentByMe=t.getIsSendFailure=t.getIsRevokedByMe=t.getIsRevoke=t.getIsReply=t.getIsReaction=t.getIsProductListMessage=t.getIsPollVote=t.getIsPSA=t.getIsOpus=t.getIsNotification=t.getIsNewsletterMsg=t.getIsNewMsg=t.getIsMetaBotResponse=t.getIsMetaBotInvokeResponse=t.getIsMedia=t.getIsMdHistoryMsg=t.getIsLive=t.getIsKept=t.getIsInternational=t.getIsInitialE2ENotification=t.getIsImportantMessage=t.getIsIAS=t.getIsGroupsV4InviteExpired=t.getIsGroupMsg=t.getIsGif=t.getIsFutureproof=t.getIsFromTemplate=t.getIsFrequentlyForwarded=t.getIsForwarded=t.getIsFailed=t.getIsEphemeral=t.getIsEdited=t.getIsEditProtocolMsg=t.getIsDynamicReplyButtonsMsg=t.getIsDisappearingModeSystemMessage=t.getIsCaptionByUser=t.getIsCAPISupport=t.getIsBotResponse=t.getIsBotQuery=t.getIsBotFutureproofPlaceholder=t.getIsBizNotification=t.getIsBizBotResponse=t.getIsAvatar=t.getIsAuthenticationMessage=t.getIsAckPlayable=t.getInviteGrpType=t.getInviteGrpName=t.getInviteGrpJpegThum=t.getInviteGrp=t.getInviteCodeExp=t.getInviteCode=t.getInvis=t.getInteractiveType=t.getInteractiveHeader=t.getInteractiveAnnotations=t.getInitialPageSize=t.getId=t.getHsmTag=t.getHeaderType=t.getHasReaction=t.getHasOriginatedFromNewsletter=t.getHasMentionOfMe=t.getGroupMentions=t.getGifAttribution=t.getFutureproofType=t.getFutureproofSubtype=t.getFrom=t.getForwardingScore=t.getForwardedNewsletterMessageInfo=t.getFooter=t.getFinalLng=t.getFinalLat=t.getFilename=t.getFilehash=t.getErrorCode=t.getEphemeralSettingUser=t.getEphemeralOutOfSync=t.getEphemeralExpirationTimestamp=t.getEphemeralDuration=t.getDynamicReplyButtons=t.getDoNotPlayInline=t.getDisappearingModeInitiator=t.getDescription=t.getDeprecatedMms3Url=t.getCurrencyCode=t.getCtwaContext=t.getComment=t.getClientUrl=t.getCaption=t.getCanonicalUrl=t.getCampaignId=t.getBusinessOwnerJid=t.getBroadcastId=t.getBroadcast=t.getBotEditType=t.getBody=t.getBizSource=t.getBizPrivacyStatus=t.getBizBotType=t.getBackgroundColor=t.getAuthor=t.getAgendId=t.getActiveBotMsgStreamingInProgress=t.getAck=t.clearMsgGetterCacheFor=void 0;var i=r(n(41609)),o=n(62089),a=n(38672),s=n(25303),l=n(77630),c=n(31536),u=n(93580),d=n(24992),_=r(n(44423)),p=n(45460),f=n(28626),E=n(47546),A=n(71500),g=n(35677),h=n(73602),S=n(77026),T=n(3885),m=n(46859),I=n(8414),y=r(n(27112)),C=n(51017);const{field:v,computed:O,unsafeIdentityGetter:P,clearCacheFor:N}=(0,E.createGetterFactories)({createCache:A.createMessagesCache}),b=N;t.clearMsgGetterCacheFor=b;const M=P;function R(e){return e instanceof y.default?e:null!=e.user?(0,C.createUserWid)(e.user,e.server):e}t.getMsgUnsafe=M;const D=Object.defineProperty(v("type"),"name",{value:"getType"});t.getType=D;const L=Object.defineProperty(v("subtype"),"name",{value:"getSubtype"});t.getSubtype=L;const w=Object.defineProperty(v("id"),"name",{value:"getId"});t.getId=w;const B=Object.defineProperty(v("to"),"name",{value:"getTo"});t.getTo=B;const U=Object.defineProperty(v("from"),"name",{value:"getFrom"});t.getFrom=U;const G=Object.defineProperty(v("author"),"name",{value:"getAuthor"});t.getAuthor=G;const k=Object.defineProperty(v("ack"),"name",{value:"getAck"});t.getAck=k;const Y=Object.defineProperty(v("viewCount"),"name",{value:"getViewCount"});t.getViewCount=Y;const F=Object.defineProperty(v("viewed"),"name",{value:"getViewed"});t.getViewed=F;const K=Object.defineProperty(v("originalSelfAuthor"),"name",{value:"getOriginalSelfAuthor"});t.getOriginalSelfAuthor=K;const x=Object.defineProperty(v("kicState"),"name",{value:"getKicState"});t.getKicState=x;const H=Object.defineProperty(v("kicTimestampMs"),"name",{value:"getKicTimestampMs"});t.getKicTimestampMs=H;const j=Object.defineProperty(v("list"),"name",{value:"getList"});t.getList=j;const V=Object.defineProperty(v("latestEditMsgKey"),"name",{value:"getLatestEditMsgKey"});t.getLatestEditMsgKey=V;const W=Object.defineProperty(v("errorCode"),"name",{value:"getErrorCode"});t.getErrorCode=W;const Q=Object.defineProperty(v("ephemeralDuration"),"name",{value:"getEphemeralDuration"});t.getEphemeralDuration=Q;const $=Object.defineProperty(v("ephemeralSettingUser"),"name",{value:"getEphemeralSettingUser"});t.getEphemeralSettingUser=$;const z=Object.defineProperty(v("t",{default:0}),"name",{value:"getT"});t.getT=z;const J=Object.defineProperty(v("backgroundColor"),"name",{value:"getBackgroundColor"});t.getBackgroundColor=J;const q=Object.defineProperty(v("headerType"),"name",{value:"getHeaderType"});t.getHeaderType=q;const X=Object.defineProperty(v("interactiveHeader"),"name",{value:"getInteractiveHeader"});t.getInteractiveHeader=X;const Z=Object.defineProperty(v("interactiveType"),"name",{value:"getInteractiveType"});t.getInteractiveType=Z;const ee=Object.defineProperty(v("footer"),"name",{value:"getFooter"});t.getFooter=ee;const te=Object.defineProperty(v("mentionedJidList"),"name",{value:"getMentionedJidList"});t.getMentionedJidList=te;const ne=Object.defineProperty(v("groupMentions",{getDefault:()=>[]}),"name",{value:"getGroupMentions"});t.getGroupMentions=ne;const re=Object.defineProperty(v("quotedMsg"),"name",{value:"getQuotedMsg"});t.getQuotedMsg=re;const ie=Object.defineProperty(v("quotedRemoteJid"),"name",{value:"getQuotedRemoteJid"});t.getQuotedRemoteJid=ie;const oe=Object.defineProperty(v("quotedParticipant"),"name",{value:"getQuotedParticipant"});t.getQuotedParticipant=oe;const ae=Object.defineProperty(v("rcat"),"name",{value:"getRcat"});t.getRcat=ae;const se=Object.defineProperty(v("isViewOnce",{default:!1}),"name",{value:"getIsViewOnce"});t.getIsViewOnce=se;const le=Object.defineProperty(v("isGif",{default:!1}),"name",{value:"getIsGif"});t.getIsGif=le;const ce=Object.defineProperty(v("gifAttribution",{default:S.Message$VideoMessage$Attribution.NONE}),"name",{value:"getGifAttribution"});t.getGifAttribution=ce;const ue=Object.defineProperty(v("ctwaContext"),"name",{value:"getCtwaContext"});t.getCtwaContext=ue;const de=Object.defineProperty(v("mimetype"),"name",{value:"getMimetype"});t.getMimetype=de;const _e=Object.defineProperty(v("filehash"),"name",{value:"getFilehash"});t.getFilehash=_e;const pe=Object.defineProperty(v("deprecatedMms3Url"),"name",{value:"getDeprecatedMms3Url"});t.getDeprecatedMms3Url=pe;const fe=Object.defineProperty(v("waveform"),"name",{value:"getWaveform"});t.getWaveform=fe;const Ee=Object.defineProperty(v("disappearingModeInitiator"),"name",{value:"getDisappearingModeInitiator"});t.getDisappearingModeInitiator=Ee;const Ae=Object.defineProperty(v("botEditType"),"name",{value:"getBotEditType"});t.getBotEditType=Ae;const ge=Object.defineProperty(v("lastBotEditBodyLength"),"name",{value:"getLastBotEditBodyLength"});t.getLastBotEditBodyLength=ge;const he=Object.defineProperty(v("activeBotMsgStreamingInProgress"),"name",{value:"getActiveBotMsgStreamingInProgress"});t.getActiveBotMsgStreamingInProgress=he;const Se=Object.defineProperty(v("bizBotType"),"name",{value:"getBizBotType"});t.getBizBotType=Se;const Te=Object.defineProperty(v("forwardedNewsletterMessageInfo"),"name",{value:"getForwardedNewsletterMessageInfo"});t.getForwardedNewsletterMessageInfo=Te;const me=Object.defineProperty(O((e=>{let[t]=e;return null!=t}),[re]),"name",{value:"getIsReply"});t.getIsReply=me;const Ie=Object.defineProperty(O((e=>{let[t]=e;return(0,g.isOpus)(t)}),[de]),"name",{value:"getIsOpus"});t.getIsOpus=Ie;const ye=Object.defineProperty(O((e=>{let[t]=e;return null==t?null:(0,o.encodeB64UrlSafe)(t,!0)}),[ae]),"name",{value:"getRcatString"});t.getRcatString=ye;const Ce=Object.defineProperty(O((e=>{let[t]=e;return null!=t&&t.some((e=>(0,T.isMeAccount)(R(e))))}),[te]),"name",{value:"getHasMentionOfMe"});t.getHasMentionOfMe=Ce;const ve=Object.defineProperty(v("local",{default:!1}),"name",{value:"getLocal"});t.getLocal=ve;const Oe=Object.defineProperty(O((e=>{let[t,n]=e;return!(!t||!n)&&(0,T.isMeAccount)(R(n))}),[re,oe]),"name",{value:"getRepliedToMyMessage"}),Pe=Object.defineProperty(O((e=>{let[t,n]=e;return t||n}),[Ce,Oe]),"name",{value:"getIsImportantMessage"});t.getIsImportantMessage=Pe;const Ne=Object.defineProperty(O((e=>{let[t]=e;switch(t){case"chat":case"image":case"video":case"ptv":case"audio":case"ptt":case"document":case"vcard":case"location":case"ciphertext":case"oversized":case"multi_vcard":case"sticker":case"status_v3":case"product":case"groups_v4_invite":case"poll_creation":case"list":return!0;case"revoked":case"protocol":case"order":case"biz-cover-photo":case"broadcast_notification":case"buttons_response":case"call_log":case"debug":case"e2e_notification":case"gp2":case"hsm":case"interactive":case"interactive_response":case"keep_in_chat":case"list_response":case"native_flow":case"notification":case"notification_template":case"payment":case"poll_update":case"reaction":case"reaction_enc":case"request_phone_number":case"template_button_reply":case"pin_message":case"pinned_message":case"newsletter_notification":case"enc_comment":case"unknown":default:return!1}}),[D]),"name",{value:"getIsUnreadType"});t.getIsUnreadType=Ne;const be=Object.defineProperty(O((e=>{let[t,n]=e;return y.default.isGroup(t)||y.default.isGroup(n)}),[U,B]),"name",{value:"getIsGroupMsg"});t.getIsGroupMsg=be;const Me=Object.defineProperty(O((e=>{let[t,n]=e;return y.default.isNewsletter(t)||y.default.isNewsletter(n)}),[U,B]),"name",{value:"getIsNewsletterMsg"});t.getIsNewsletterMsg=Me;const Re=Object.defineProperty(O((e=>{let[t,n]=e;return t||null!=n}),[Me,Te]),"name",{value:"getHasOriginatedFromNewsletter"});t.getHasOriginatedFromNewsletter=Re;const De=Object.defineProperty(O((e=>{let[t]=e;return y.default.isStatusV3(t.remote)}),[w]),"name",{value:"getIsStatusV3"});t.getIsStatusV3=De;const Le=Object.defineProperty(O((e=>{let[t,n]=e;return(0,d.isNotificationType)(t,n)}),[D,L]),"name",{value:"getIsNotification"});t.getIsNotification=Le;const we=Object.defineProperty(O((e=>{let[t,n,r,i]=e;return i?t.fromMe:"in"!==t.self&&!r&&(0,T.isMeAccount)(n)}),[w,U,Le,Me]),"name",{value:"getIsSentByMe"});t.getIsSentByMe=we;const Be=Object.defineProperty(O((e=>{let[t,n,r,i,o,a]=e;return t?i?(0,T.getMeUser)():o:n||r||(null==a?void 0:a.isBot())?a:o}),[we,be,De,Me,U,G]),"name",{value:"getSender"});t.getSender=Be;const Ue=Object.defineProperty(O((e=>{var t;let[n,r,i]=e;const o=n||r;return null!=o&&null==o.isUser&&(__LOG__(4,void 0,new Error,!0)`Unexpected non-wid for originalSelfAuthorOrSender; typeof=${typeof o}; msg.type=${i}`,SEND_LOGS("non-wid-originalselfauthororsender")),null!=o&&(null===(t=o.isUser)||void 0===t?void 0:t.call(o))?(0,C.toUserWid)(o):null}),[K,Be,D]),"name",{value:"getOriginalSender"});t.getOriginalSender=Ue;const Ge=Object.defineProperty(O((e=>{let[t]=e;return t===h.MSG_TYPE.REACTION||t===h.MSG_TYPE.REACTION_ENC}),[D]),"name",{value:"getIsReaction"});t.getIsReaction=Ge;const ke=Object.defineProperty(O((e=>{let[t,n]=e;return t===h.MSG_TYPE.POLL_UPDATE&&"poll_vote"===n}),[D,L]),"name",{value:"getIsPollVote"});t.getIsPollVote=ke;const Ye=Object.defineProperty(O((e=>{let[t,n]=e;return t===h.MSG_TYPE.UNKNOWN||t===h.MSG_TYPE.PAYMENT&&"futureproof"===n}),[D,L]),"name",{value:"getIsFutureproof"});t.getIsFutureproof=Ye;const Fe=Object.defineProperty(O((e=>{let[t]=e;return t===h.MSG_TYPE.STICKER}),[D]),"name",{value:"getIsStickerMsg"});t.getIsStickerMsg=Fe;const Ke=Object.defineProperty(O((e=>{let[t]=e;return t===p.KeepInChatState.KEPT}),[x]),"name",{value:"getIsKept"});t.getIsKept=Ke;const xe=Object.defineProperty(O((e=>{let[t]=e;return t===p.KeepInChatState.UNKEPT}),[x]),"name",{value:"getIsUnkept"});t.getIsUnkept=xe;const He=Object.defineProperty(O((e=>{let[t]=e;return y.default.isPSA(t.remote)}),[w]),"name",{value:"getIsPSA"});t.getIsPSA=He;const je=Object.defineProperty(O((e=>{let[t]=e;return y.default.isIAS(t.remote)}),[w]),"name",{value:"getIsIAS"});t.getIsIAS=je;const Ve=Object.defineProperty(O((e=>{let[t]=e;return y.default.isCAPISupportAccount(t.remote)}),[w]),"name",{value:"getIsCAPISupport"});t.getIsCAPISupport=Ve;const We=Object.defineProperty(O((e=>{let[t,n]=e;return t===h.MSG_TYPE.LIST&&(null==n?void 0:n.listType)===S.Message$ListMessage$ListType.PRODUCT_LIST}),[D,j]),"name",{value:"getIsProductListMessage"});t.getIsProductListMessage=We;const Qe=Object.defineProperty(v("title"),"name",{value:"getTitle"});t.getTitle=Qe;const $e=Object.defineProperty(v("body",{default:""}),"name",{value:"getBody"});t.getBody=$e;const ze=Object.defineProperty(v("caption"),"name",{value:"getCaption"});t.getCaption=ze;const Je=Object.defineProperty(v("comment"),"name",{value:"getComment"});t.getComment=Je;const qe=Object.defineProperty(v("pollName",{default:""}),"name",{value:"getPollName"});t.getPollName=qe;const Xe=Object.defineProperty(v("pollOptions"),"name",{value:"getPollOptions"});t.getPollOptions=Xe;const Ze=Object.defineProperty(v("pollSelectableOptionsCount",{default:0}),"name",{value:"getPollSelectableOptionsCount"});t.getPollSelectableOptionsCount=Ze;const et=Object.defineProperty(v("pollInvalidated",{default:!1}),"name",{value:"getPollInvalidated"});t.getPollInvalidated=et;const tt=Object.defineProperty(v("nativeFlowName"),"name",{value:"getNativeFlowName"});t.getNativeFlowName=tt;const nt=Object.defineProperty(v("nativeFlowButtons"),"name",{value:"getNativeFlowButtons"});t.getNativeFlowButtons=nt;const rt=Object.defineProperty(v("paymentCurrency",{default:""}),"name",{value:"getPaymentCurrency"});t.getPaymentCurrency=rt;const it=Object.defineProperty(v("paymentAmount1000",{default:0}),"name",{value:"getPaymentAmount1000"});t.getPaymentAmount1000=it;const ot=Object.defineProperty(v("paymentMessageReceiverJid"),"name",{value:"getPaymentMessageReceiverJid"});t.getPaymentMessageReceiverJid=ot;const at=Object.defineProperty(v("paymentTransactionTimestamp",{default:0}),"name",{value:"getPaymentTransactionTimestamp"});t.getPaymentTransactionTimestamp=at;const st=Object.defineProperty(v("paymentStatus"),"name",{value:"getPaymentStatus"});t.getPaymentStatus=st;const lt=Object.defineProperty(v("paymentTxnStatus"),"name",{value:"getPaymentTxnStatus"});t.getPaymentTxnStatus=lt;const ct=Object.defineProperty(v("paymentNoteMsg"),"name",{value:"getPaymentNoteMsg"});t.getPaymentNoteMsg=ct;const ut=Object.defineProperty(v("paymentRequestMessageKey"),"name",{value:"getPaymentRequestMessageKey"});t.getPaymentRequestMessageKey=ut;const dt=Object.defineProperty(v("paymentExpiryTimestamp"),"name",{value:"getPaymentExpiryTimestamp"});t.getPaymentExpiryTimestamp=dt;const _t=Object.defineProperty(v("paymentInviteServiceType"),"name",{value:"getPaymentInviteServiceType"});t.getPaymentInviteServiceType=_t;const pt=Object.defineProperty(v("paymentBackground"),"name",{value:"getPaymentBackground"});t.getPaymentBackground=pt;const ft=Object.defineProperty(v("isFromTemplate",{default:!1}),"name",{value:"getIsFromTemplate"});t.getIsFromTemplate=ft;const Et=Object.defineProperty(v("isLive",{default:!1}),"name",{value:"getIsLive"});t.getIsLive=Et;const At=Object.defineProperty(v("isDynamicReplyButtonsMsg",{default:!1}),"name",{value:"getIsDynamicReplyButtonsMsg"});t.getIsDynamicReplyButtonsMsg=At;const gt=Object.defineProperty(v("dynamicReplyButtons"),"name",{value:"getDynamicReplyButtons"});t.getDynamicReplyButtons=gt;const ht=Object.defineProperty(O((e=>{let[t,n,r]=e;return(t!==h.MSG_TYPE.PROTOCOL||"ephemeral_setting"!==n)&&(null!=r&&0!==r)}),[D,L,Q]),"name",{value:"getIsEphemeral"});t.getIsEphemeral=ht;const St=Object.defineProperty(O((e=>{let[t]=e;return null!=t}),[V]),"name",{value:"getIsEdited"});t.getIsEdited=St;const Tt=Object.defineProperty(O((e=>{let[t,n]=e;return t===h.MSG_TYPE.PROTOCOL&&"message_edit"===n}),[D,L]),"name",{value:"getIsEditProtocolMsg"});t.getIsEditProtocolMsg=Tt;const mt=Object.defineProperty(O((e=>{let[t,n]=e;if(!t)return null;return null==n||0===n?"rgba(86, 150, 255, 255)":`rgba(${n>>16&255}, ${n>>8&255}, ${255&n}, ${n>>24&255})`}),[De,J]),"name",{value:"getStatusV3CanvasColor"});t.getStatusV3CanvasColor=mt;const It=Object.defineProperty(O((e=>{let[t]=e;switch(t){case"protocol":case"chat":case"location":case"vcard":case"multi_vcard":case"image":case"video":case"ptv":case"audio":case"ptt":case"document":case"sticker":case"status_v3":case"product":case"groups_v4_invite":case"order":case"poll_creation":return!0;case"biz-cover-photo":case"broadcast_notification":case"buttons_response":case"call_log":case"ciphertext":case"debug":case"e2e_notification":case"gp2":case"newsletter_notification":case"hsm":case"interactive":case"interactive_response":case"keep_in_chat":case"list":case"list_response":case"native_flow":case"notification":case"notification_template":case"oversized":case"payment":case"poll_update":case"reaction":case"reaction_enc":case"request_phone_number":case"revoked":case"template_button_reply":case"pin_message":case"pinned_message":case"unknown":case"enc_comment":default:return!1}}),[D]),"name",{value:"getIsUserCreatedType"});t.getIsUserCreatedType=It;const yt=Object.defineProperty(O((e=>{let[t,n,r]=e;return t.fromMe&&n&&r}),[w,ve,It]),"name",{value:"getIsSentByMeFromWeb"});t.getIsSentByMeFromWeb=yt;const Ct=Object.defineProperty(v("revokeSender"),"name",{value:"getRevokeSender"});t.getRevokeSender=Ct;const vt=Object.defineProperty(O((e=>{let[t]=e;return null!=t&&(0,T.isMeAccount)(t)}),[Ct]),"name",{value:"getIsRevokedByMe"});t.getIsRevokedByMe=vt;const Ot=Object.defineProperty(O((e=>{var t;let[n,r,i]=e;const o=n.fromMe?null==r?void 0:r.toString({legacy:!0}):null==i?void 0:i.toString({legacy:!0}),s=null===(t=(0,T.getMaybeMeUser)())||void 0===t?void 0:t.toString({legacy:!0});return o&&s?(0,a.phoneCC)(o)!==(0,a.phoneCC)(s):(__LOG__(3)`Msg: could not derive isInternational as some data is missing`,!1)}),[w,B,U]),"name",{value:"getIsInternational"});t.getIsInternational=Ot;const Pt=Object.defineProperty(O((e=>{let[t,n]=e;if(t===h.MSG_TYPE.NOTIFICATION_TEMPLATE){if(c.BIZ_SYSTEM_MSG_SUBTYPES.includes(n))return!0;if(c.BIZ_SYSTEM_MSG_SUBTYPES_V2.includes(n))return!0;switch(n){case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":case"biz_verified_transition_top_to_bottom":case"biz_verified_transition_bottom_to_top":case"biz_intro_top":case"biz_intro_bottom":case"biz_name_change":case"biz_move_to_consumer_app":case"biz_two_tier_migration_top":case"biz_two_tier_migration_bottom":return!0;default:return!1}}return!1}),[D,L]),"name",{value:"getIsBizNotification"});t.getIsBizNotification=Pt;const Nt=Object.defineProperty(O((e=>{let[t]=e;switch(t){case"image":case"video":case"audio":return!0;default:return!1}}),[D]),"name",{value:"getIsMedia"});t.getIsMedia=Nt;const bt=Object.defineProperty(v("isForwarded",{default:!1}),"name",{value:"getIsForwarded"});t.getIsForwarded=bt;const Mt=Object.defineProperty(v("forwardingScore"),"name",{value:"getForwardingScore"});t.getForwardingScore=Mt;const Rt=Object.defineProperty(O((e=>{let[t,n]=e;return null==n?t?1:0:n||0}),[bt,Mt]),"name",{value:"getNumTimesForwarded"});t.getNumTimesForwarded=Rt;const Dt=Object.defineProperty(O((e=>{let[t]=e;return t>=_.default.FREQUENTLY_FORWARDED_SENTINEL}),[Rt]),"name",{value:"getIsFrequentlyForwarded"});t.getIsFrequentlyForwarded=Dt;const Lt=Object.defineProperty(O((e=>{let[t,n,r]=e;return t||n||!r}),[bt,Re,we]),"name",{value:"getShouldDisplayAsForwarded"});t.getShouldDisplayAsForwarded=Lt;const wt=Object.defineProperty(v("invis",{default:!1}),"name",{value:"getInvis"});t.getInvis=wt;const Bt=Object.defineProperty(v("isNewMsg",{default:!1}),"name",{value:"getIsNewMsg"});t.getIsNewMsg=Bt;const Ut=Object.defineProperty(v("isSendFailure",{default:!1}),"name",{value:"getIsSendFailure"});t.getIsSendFailure=Ut;const Gt=Object.defineProperty(O((e=>{let[t,n,r]=e;return t&&null!=n&&n<l.ACK.CLOCK||r}),[we,k,Ut]),"name",{value:"getIsFailed"});t.getIsFailed=Gt;const kt=Object.defineProperty(O((e=>{let[t,n]=e;if(t===h.MSG_TYPE.VCARD)try{return(0,m.parseVcard)(n)}catch(e){return}}),[D,$e]),"name",{value:"getVcard"});t.getVcard=kt;const Yt=Object.defineProperty(v("description"),"name",{value:"getDescription"});t.getDescription=Yt;const Ft=Object.defineProperty(v("matchedText",{default:""}),"name",{value:"getMatchedText"});t.getMatchedText=Ft;const Kt=Object.defineProperty(v("thumbnail"),"name",{value:"getThumbnail"});t.getThumbnail=Kt;const xt=Object.defineProperty(v("thumbnailHQ"),"name",{value:"getThumbnailHQ"});t.getThumbnailHQ=xt;const Ht=Object.defineProperty(v("richPreviewType",{default:S.Message$ExtendedTextMessage$PreviewType.NONE}),"name",{value:"getRichPreviewType"});t.getRichPreviewType=Ht;const jt=Object.defineProperty(O((e=>{let[t,n,r,o]=e;return(0,s.isString)(o)&&(!(0,i.default)(n)||!(0,i.default)(r))&&null!=t&&t.includes(o)}),[$e,Qe,Yt,Ft]),"name",{value:"getLinkPreview"});t.getLinkPreview=jt;const Vt=Object.defineProperty(O((e=>{let[t,n]=e;return t||n}),[At,ft]),"name",{value:"getSupportsMessageFooter"});t.getSupportsMessageFooter=Vt;const Wt=Object.defineProperty(O((e=>{let[t,n]=e;return n||t===h.MSG_TYPE.LIST||t===h.MSG_TYPE.INTERACTIVE}),[D,At]),"name",{value:"getSupportsMessageFooterLinks"});t.getSupportsMessageFooterLinks=Wt;const Qt=Object.defineProperty(O((e=>{let[t,n]=e;return(null==n?void 0:n.isBot())?1/0:t?308:768}),[Dt,Be]),"name",{value:"getInitialPageSize"});t.getInitialPageSize=Qt;const $t=Object.defineProperty(O((e=>{let[t,n]=e;return t===h.MSG_TYPE.E2E_NOTIFICATION&&"encrypt"===n||c.BIZ_SYSTEM_MSG_SUBTYPES_V2_INIT.includes(n)}),[D,L]),"name",{value:"getIsInitialE2ENotification"});t.getIsInitialE2ENotification=$t;const zt=Object.defineProperty(O((e=>{let[t,n]=e;return t===h.MSG_TYPE.NOTIFICATION_TEMPLATE&&"disappearing_mode"===n}),[D,L]),"name",{value:"getIsDisappearingModeSystemMessage"});t.getIsDisappearingModeSystemMessage=zt;const Jt=Object.defineProperty(v("kicKey"),"name",{value:"getKicKey"});t.getKicKey=Jt;const qt=Object.defineProperty(O((e=>{let[t,n]=e;if(null!=t){if(t.fromMe)return(0,T.getMaybeMeUser)();if(n&&null!=t.participant)return(0,C.toUserWid)(t.participant);if(!n)return(0,C.toUserWid)(t.remote)}}),[Jt,be]),"name",{value:"getKicSender"});t.getKicSender=qt;const Xt=Object.defineProperty(O((e=>{let[t,n,r]=e;return"ephemeral_setting"===r||null==t||0===t?null:n+t}),[Q,z,L]),"name",{value:"getEphemeralExpirationTimestamp"});t.getEphemeralExpirationTimestamp=Xt;const Zt=Object.defineProperty(O((e=>{let[t,n]=e;return t===h.MSG_TYPE.PROTOCOL&&("sender_revoke"===n||"admin_revoke"===n)}),[D,L]),"name",{value:"getIsRevoke"});t.getIsRevoke=Zt;const en=Object.defineProperty(O((e=>{let[t,n,r]=e;return n?"admin_revoke"===t?I.EDIT_TYPE.ADMIN_REVOKE:I.EDIT_TYPE.SENDER_REVOKE:r?I.EDIT_TYPE.EDITED:I.EDIT_TYPE.NOT_EDITED}),[L,Zt,St]),"name",{value:"getWamEditType"});t.getWamEditType=en;const tn=Object.defineProperty(O((e=>{let[t]=e;if(null==t)return null;switch(t){case f.DisappearingModeInitiator.InitiatedByMe:return I.DISAPPEARING_CHAT_INITIATOR_TYPE.INITIATED_BY_ME;case f.DisappearingModeInitiator.InitiatedByOther:return I.DISAPPEARING_CHAT_INITIATOR_TYPE.INITIATED_BY_OTHER;case f.DisappearingModeInitiator.ChangedInChat:return I.DISAPPEARING_CHAT_INITIATOR_TYPE.CHAT}}),[Ee]),"name",{value:"getWamDisappearingModeInitiator"});t.getWamDisappearingModeInitiator=tn;const nn=Object.defineProperty(v("inviteCode",{default:""}),"name",{value:"getInviteCode"});t.getInviteCode=nn;const rn=Object.defineProperty(v("inviteCodeExp",{default:""}),"name",{value:"getInviteCodeExp"});t.getInviteCodeExp=rn;const on=Object.defineProperty(v("inviteGrp",{default:""}),"name",{value:"getInviteGrp"});t.getInviteGrp=on;const an=Object.defineProperty(v("inviteGrpName"),"name",{value:"getInviteGrpName"});t.getInviteGrpName=an;const sn=Object.defineProperty(v("inviteGrpJpegThum"),"name",{value:"getInviteGrpJpegThum"});t.getInviteGrpJpegThum=sn;const ln=Object.defineProperty(v("inviteGrpType"),"name",{value:"getInviteGrpType"});t.getInviteGrpType=ln;const cn=Object.defineProperty(O((e=>{let[t,n,r]=e;if(t!==h.MSG_TYPE.GROUPS_V4_INVITE)return!1;if(!n)return!0;const i=(new Date).getTime()/1e3;return parseInt(i,10)>=parseInt(r,10)}),[D,nn,rn]),"name",{value:"getIsGroupsV4InviteExpired"});t.getIsGroupsV4InviteExpired=cn;const un=Object.defineProperty(v("productHeaderImageRejected",{default:!1}),"name",{value:"getProductHeaderImageRejected"});t.getProductHeaderImageRejected=un;const dn=Object.defineProperty(O((e=>{var t,n,r;let[i,o]=e;return!0===i?null:null!==(t=null==o||null===(n=o.productListInfo)||void 0===n||null===(r=n.headerImage)||void 0===r?void 0:r.jpegThumbnail)&&void 0!==t?t:null}),[un,j]),"name",{value:"getProductListHeaderImage"});t.getProductListHeaderImage=dn;const _n=Object.defineProperty(O((e=>{let[t]=e;return t===h.MSG_TYPE.PTT||t===h.MSG_TYPE.PTV}),[D]),"name",{value:"getIsAckPlayable"});t.getIsAckPlayable=_n;const pn=Object.defineProperty(v("hasReaction",{default:!1}),"name",{value:"getHasReaction"});t.getHasReaction=pn;const fn=Object.defineProperty(v("recipients",{getDefault:()=>[]}),"name",{value:"getRecipients"});t.getRecipients=fn;const En=Object.defineProperty(v("templateParams",{getDefault:()=>[]}),"name",{value:"getTemplateParams"});t.getTemplateParams=En;const An=Object.defineProperty(v("clientUrl",{default:""}),"name",{value:"getClientUrl"});t.getClientUrl=An;const gn=Object.defineProperty(v("loc",{default:""}),"name",{value:"getLoc"});t.getLoc=gn;const hn=Object.defineProperty(v("lat"),"name",{value:"getLat"});t.getLat=hn;const Sn=Object.defineProperty(v("lng"),"name",{value:"getLng"});t.getLng=Sn;const Tn=Object.defineProperty(v("shareDuration"),"name",{value:"getShareDuration"});t.getShareDuration=Tn;const mn=Object.defineProperty(v("finalLat"),"name",{value:"getFinalLat"});t.getFinalLat=mn;const In=Object.defineProperty(v("finalLng"),"name",{value:"getFinalLng"});t.getFinalLng=In;const yn=Object.defineProperty(v("star",{default:!1}),"name",{value:"getStar"});t.getStar=yn;const Cn=Object.defineProperty(v("currencyCode"),"name",{value:"getCurrencyCode"});t.getCurrencyCode=Cn;const vn=Object.defineProperty(v("priceAmount1000"),"name",{value:"getPriceAmount1000"});t.getPriceAmount1000=vn;const On=Object.defineProperty(v("salePriceAmount1000"),"name",{value:"getSalePriceAmount1000"});t.getSalePriceAmount1000=On;const Pn=Object.defineProperty(v("isVcardOverMmsDocument",{default:!1}),"name",{value:"getIsVcardOverMmsDocument"});t.getIsVcardOverMmsDocument=Pn;const Nn=Object.defineProperty(v("interactiveAnnotations"),"name",{value:"getInteractiveAnnotations"});t.getInteractiveAnnotations=Nn;const bn=Object.defineProperty(v("messageSecret"),"name",{value:"getMessageSecret"});t.getMessageSecret=bn;const Mn=Object.defineProperty(v("broadcastId"),"name",{value:"getBroadcastId"});t.getBroadcastId=Mn;const Rn=Object.defineProperty(v("broadcast",{default:!1}),"name",{value:"getBroadcast"});t.getBroadcast=Rn;const Dn=Object.defineProperty(v("vcardList",{getDefault:()=>[]}),"name",{value:"getVcardList"});t.getVcardList=Dn;const Ln=Object.defineProperty(v("vcardFormattedName"),"name",{value:"getVcardFormattedName"});t.getVcardFormattedName=Ln;const wn=Object.defineProperty(v("labels",{getDefault:()=>[]}),"name",{value:"getLabels"});t.getLabels=wn;const Bn=Object.defineProperty(v("agentId"),"name",{value:"getAgendId"});t.getAgendId=Bn;const Un=Object.defineProperty(v("url"),"name",{value:"getUrl"});t.getUrl=Un;const Gn=Object.defineProperty(v("retailerId"),"name",{value:"getRetailerId"});t.getRetailerId=Gn;const kn=Object.defineProperty(v("businessOwnerJid"),"name",{value:"getBusinessOwnerJid"});t.getBusinessOwnerJid=kn;const Yn=Object.defineProperty(v("productId"),"name",{value:"getProductId"});t.getProductId=Yn;const Fn=Object.defineProperty(v("productImageCount"),"name",{value:"getProductImageCount"});t.getProductImageCount=Fn;const Kn=Object.defineProperty(v("isMdHistoryMsg",{default:!1}),"name",{value:"getIsMdHistoryMsg"});t.getIsMdHistoryMsg=Kn;const xn=Object.defineProperty(v("campaignId"),"name",{value:"getCampaignId"});t.getCampaignId=xn;const Hn=Object.defineProperty(v("filename"),"name",{value:"getFilename"});t.getFilename=Hn;const jn=Object.defineProperty(v("smbClientCampaignId"),"name",{value:"getSmbClientCampaignId"});t.getSmbClientCampaignId=jn;const Vn=Object.defineProperty(v("isCaptionByUser",{default:!1}),"name",{value:"getIsCaptionByUser"});t.getIsCaptionByUser=Vn;const Wn=Object.defineProperty(v("doNotPlayInline"),"name",{value:"getDoNotPlayInline"});t.getDoNotPlayInline=Wn;const Qn=Object.defineProperty(v("thumbnailDirectPath"),"name",{value:"getThumbnailDirectPath"});t.getThumbnailDirectPath=Qn;const $n=Object.defineProperty(v("thumbnailHeight"),"name",{value:"getThumbnailHeight"});t.getThumbnailHeight=$n;const zn=Object.defineProperty(v("thumbnailWidth"),"name",{value:"getThumbnailWidth"});t.getThumbnailWidth=zn;const Jn=Object.defineProperty(v("orderTitle"),"name",{value:"getOrderTitle"});t.getOrderTitle=Jn;const qn=Object.defineProperty(v("itemCount"),"name",{value:"getItemCount"});t.getItemCount=qn;const Xn=Object.defineProperty(v("totalAmount1000"),"name",{value:"getTotalAmount1000"});t.getTotalAmount1000=Xn;const Zn=Object.defineProperty(v("totalCurrencyCode"),"name",{value:"getTotalCurrencyCode"});t.getTotalCurrencyCode=Zn;const er=Object.defineProperty(v("futureproofType"),"name",{value:"getFutureproofType"});t.getFutureproofType=er;const tr=Object.defineProperty(v("futureproofSubtype"),"name",{value:"getFutureproofSubtype"});t.getFutureproofSubtype=tr;const nr=Object.defineProperty(v("ephemeralOutOfSync"),"name",{value:"getEphemeralOutOfSync"});t.getEphemeralOutOfSync=nr;const rr=Object.defineProperty(v("isAvatar"),"name",{value:"getIsAvatar"});t.getIsAvatar=rr;const ir=Object.defineProperty(v("bizPrivacyStatus"),"name",{value:"getBizPrivacyStatus"});t.getBizPrivacyStatus=ir;const or=Object.defineProperty(v("verifiedBizName"),"name",{value:"getVerifiedBizName"});t.getVerifiedBizName=or;const ar=Object.defineProperty(v("canonicalUrl",{default:""}),"name",{value:"getCanonicalUrl"});t.getCanonicalUrl=ar;const sr=Object.defineProperty(v("mediaKey"),"name",{value:"getMediaKey"});t.getMediaKey=sr;const lr=Object.defineProperty(v("message",{default:""}),"name",{value:"getMessage"});t.getMessage=lr;const cr=Object.defineProperty(v("size",{default:0}),"name",{value:"getSize"});t.getSize=cr;const ur=Object.defineProperty(v("bizSource"),"name",{value:"getBizSource"});t.getBizSource=ur;const dr=Object.defineProperty(O((e=>{let[t]=e;return"bot_unavailable_fanout"===t}),[L]),"name",{value:"getIsBotFutureproofPlaceholder"});t.getIsBotFutureproofPlaceholder=dr;const _r=Object.defineProperty(O((e=>{let[t,n]=e;return t.remote.isBot()?t.fromMe:null!=n&&n.some((e=>e.isBot()))}),[w,te]),"name",{value:"getIsBotQuery"});t.getIsBotQuery=_r;const pr=Object.defineProperty(O((e=>{let[t]=e;return!!t}),[Se]),"name",{value:"getIsBizBotResponse"});t.getIsBizBotResponse=pr;const fr=Object.defineProperty(O((e=>{let[t]=e;return!0===(null==t?void 0:t.isBot())}),[Be]),"name",{value:"getIsMetaBotResponse"});t.getIsMetaBotResponse=fr;const Er=Object.defineProperty(O((e=>{let[t,n]=e;return n&&!t.remote.isBot()}),[w,fr]),"name",{value:"getIsMetaBotInvokeResponse"});t.getIsMetaBotInvokeResponse=Er;const Ar=Object.defineProperty(O((e=>{let[t,n]=e;return t||n}),[fr,pr]),"name",{value:"getIsBotResponse"});t.getIsBotResponse=Ar;const gr=Object.defineProperty(v("hsmTag"),"name",{value:"getHsmTag"});t.getHsmTag=gr;const hr=Object.defineProperty(O((e=>{let[t]=e;return t===u.HSM_TAG_TYPE.AUTHENTICATION}),[gr]),"name",{value:"getIsAuthenticationMessage"});t.getIsAuthenticationMessage=hr},47546:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createGetterFactories=function(e){const{root:t,rootEqualityCheck:n,createCache:r=f}=e||{},i=r(),g=(()=>{const e=a;return a++,e})(),h=()=>{const e=S;return S++,e};let S=0;const T=null!=t?t:function(e){let{getterGroupId:t,getterId:n,resultEqualityCheck:r,cache:i}=e;const o=c(n),a=u(n),s=d(n);return l({getterGroupId:t,getterId:n,root:null,cache:i,props:{kind:"identity",dependencies:[]},recomputeIfNeeded:(e,n,i)=>{const l=i[t],c=l[o],u=e,d=l[s],p=null==e?0:e.revisionNumber||0;if(void 0!==c&&d===p&&r(u,A(c)))return n;const f=n+1;return l[o]=void 0===u?_:u,l[a]=f,l[s]=p,f}})}({getterGroupId:g,getterId:h(),resultEqualityCheck:null!=n?n:p,cache:i});if("identity"!==T.kind)throw(0,o.default)(`root must be an identity getter but got kind ${T.kind}`);return{field:(e,t)=>{const{default:n,getDefault:r,resultEqualityCheck:o=p}=t||{};let a;return a=null!=r?t=>{var n;let[i]=t;return null!==(n=i[e])&&void 0!==n?n:r()}:void 0===n?t=>{let[n]=t;return n[e]}:t=>{var r;let[i]=t;return null!==(r=i[e])&&void 0!==r?r:n},s({getterGroupId:g,getterId:h(),root:T,cache:i,resultFunc:a,resultEqualityCheck:o,props:{kind:"field",dependencyKey:e,dependencies:[T]}})},computed:(e,t,n)=>{const{resultEqualityCheck:r=p}=n||{};return s({getterGroupId:g,getterId:h(),root:T,cache:i,resultFunc:e,resultEqualityCheck:r,props:{kind:"computed",dependencies:t}})},unsafeIdentityGetter:T,clearCacheFor:e=>{i.delete(E(e))}}};var i=r(n(81109)),o=r(n(89482));let a=0;function s(e){let{getterGroupId:t,getterId:n,root:r,cache:a,resultFunc:s,resultEqualityCheck:p,props:f}=e;const{dependencies:E}=f,g=E.length,h=c(n),S=u(n),T=d(n);return l({getterGroupId:t,getterId:n,root:r,cache:a,props:(0,i.default)((0,i.default)({},f),{},{resultFunc:s}),recomputeIfNeeded:(e,n,r)=>{const i=r[t],a=i[S],l=i[T];if(null!=l&&null!=a){if(l===n)return a;if(null!=l&&g>0){let e=!1;for(let t=0;t<g;t++){const n=E[t],i=n.$$extractChangedAt(r[n.$$getterGroupId]);if(e=null==i||i>l,e)break}if(!e)return i[T]=n,a}}const c=new Array(g);for(let e=0;e<g;e++){const t=E[e],n=t.$$extractResult(r[t.$$getterGroupId]);if(void 0===n)throw(0,o.default)("No result was stored");c[e]=A(n)}const u=s(c),d=i[h];return null!=a&&void 0!==d&&p(u,A(d))?(i[T]=n,a):(i[h]=void 0===u?_:u,i[S]=n,i[T]=n,n)}})}function l(e){let{getterGroupId:t,getterId:n,root:r,cache:i,recomputeIfNeeded:a,props:s}=e;const l=s.dependencies,_=c(n),p=u(n),f=d(n),g=e=>{const n=E(e),r={};for(let e=0;e<I.length;e++){const t=I[e],i=m[t];let o=i.get(n);null==o&&(o={},i.set(n,o)),r[t]=o}const i=T.$$recomputeIfNeeded(e,T.$$extractChangedAt(r[T.$$getterGroupId])||0,r),a=r[t],s=a[f];if(null==s||i>s)for(let t=0;t<S.length;t++){let n=null!=s;const o=S[t];for(let t=0;t<o.length;t++){const a=o[t].$$recomputeIfNeeded(e,i,r);(null==s||a>s)&&(n=!1)}if(n)break}const l=a[_];if(void 0===l)throw(0,o.default)("No result was stored");return A(l)},h=Object.assign(g,{kind:s.kind,dependencies:l,dependencyKey:s.dependencyKey,resultFunc:s.resultFunc,$$getterGroupId:t,$$root:r||g,$$cache:i,$$recomputeIfNeeded:a,$$extractChangedAt:e=>e[p],$$extractResult:e=>e[_]}),S=function(e){const t=[e];for(let e=0;e<t.length;e++){const n=t[e];null!=n.dependencies&&t.push(...n.dependencies)}const n=Array.from(new Set(t.reverse())),r=[],i=[];for(let e=0;e<n.length;e++){const t=n[e];switch(t.kind){case"identity":break;case"field":r.push(t);break;case"computed":i.push(t);break;default:throw(0,o.default)(`Invalid getter kind: ${t.kind}`)}}return[r,i].filter((e=>e.length>0))}(h),T=h.$$root;for(let e=0;e<l.length;e++)if(l[e].$$root!==T)throw(0,o.default)("Getter created with multiple roots. This means you used getters that came from different `createGetterFactories()` calls as dependencies in a `computed()` getter. If you want to do this, you must pass the identity getter created by one of the `createGetterFactories()` calls as the `root` option to the other.");const m={[T.$$getterGroupId]:T.$$cache},I=[T.$$getterGroupId];for(let e=0;e<S.length;e++)for(let t=0;t<S[e].length;t++){const{$$getterGroupId:n,$$cache:r}=S[e][t];null==m[n]&&(I.push(n),m[n]=r)}return h}const c=e=>3*e,u=e=>3*e+1,d=e=>3*e+2;const _=new class{toString(){return"UndefinedSentinel"}};function p(e,t){return e===t}function f(){return new Map}function E(e){if(null==e)throw(0,o.default)(`Getter was called with ${String(e)} data.`);const t=e.id;if(null==t)throw(0,o.default)(`Data passed to getter must include an id property (it's how we memoize) but got ${String(t)}`);return t.toString()}function A(e){return e===_?void 0:e}},71500:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessagesCache=t.createFrontendMessagesCache=t.createFrontendContactsCache=t.createContactsCache=void 0;t.createMessagesCache=()=>new Map;t.createFrontendMessagesCache=()=>new Map;t.createContactsCache=()=>new Map;t.createFrontendContactsCache=()=>new Map},35255:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.areGlobalsReady=function(){return null!=s},t.getConfig=function(){return l().config},t.getMyDeviceJid=function(){var e;const t=null===(e=l().myJids)||void 0===e?void 0:e.deviceJid;if(null==t)throw(0,a.default)("Trying to access myDeviceJid, but it's not set");return(0,o.unsafeCoerceToPhoneDeviceJid)(t)},t.getMyDisplayName=function(){return l().displayName},t.getMyLidDeviceJid=function(){return l().lidDeviceJid},t.setGlobals=function(e){s=e,(0,i.setGlobals)(e)},t.setMyDisplayName=function(e){l().displayName=e},t.setMyLidDeviceJid=function(e){l().lidDeviceJid=e};var i=n(58117),o=n(44037),a=r(n(89482));let s=null;function l(){if(null==s)throw(0,a.default)("globals api called before set");return s}},69384:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.runInTransaction=void 0;var i=r(n(46808)),o=n(3127),a=n(45004),s=n(74557),l=n(43627),c=n(39861),u=n(98488),d=r(n(89482));const _={SyncActionStore:c.WAWebSyncActionStore,CollectionVersionStore:o.WAWebCollectionVersionStore,PendingMutationStore:l.WAWebPendingMutationStore,MissingKeyStore:a.WAWebMissingKeyStore,SyncKeyStore:u.WAWebSyncKeyStore};t.runInTransaction=(e,t)=>{if(null!=i.default.currentTransaction)return Promise.reject((0,d.default)("Calling runInTransaction recursively. This is not allowed."));const n=Object.keys(e),r=n.flatMap((e=>_[e].locks));return(0,s.getStorage)().lock(r,(()=>{const e={};for(const t of n)e[t]=new _[t];return t(e)}))}},29638:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.L10n=void 0;var i=r(n(7880)),o=n(51698),a=n(24845),s=r(n(1039)),l=r(n(46040)),c=r(n(43286)),u=r(n(89482)),d=r(n(56755)),_=r(n(97331)),p=r(n(30381));const f=new Set(["",""]),E=new Set(["ar","ar-XB","fa","ur","he","dv","ku"]),A=new Set(["fa"]),g="".split("");function h(e){return g[parseInt(e,10)]}const S=(0,u.default)("Unimplemented method");class T extends i.default{constructor(e,t,n){if(super(),!e||!t)throw S;this._locale=e,this.localeStrings={},this.localeStrings[o.DEFAULT_LOCALE]=t,this.fbtStrings={},this.fbtStrings[o.DEFAULT_LOCALE]={en_GB:{}},this.markTranslations=n,this.customizeMoment()}getLocale(){throw S}getFbtTranslations(){throw S}setLocale(){throw S}normalizeLocale(e){const t=e.replace(/-/g,"_").toLowerCase(),n=this._getTranslationFilename(t);if(n)return n;let r=t;for(;r;){r=r.split("_").slice(0,-1).join("_");const e=r&&this._getTranslationFilename(r);if(e)return e}}isLocaleSupported(e){return!!e&&!!this.normalizeLocale(e)}_getTranslationFilename(e){const t=l.default[e]||e;return c.default[t]}isRTL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLocale();return E.has(e)}LR(e,t){return this.isRTL()?t:e}embedDir(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isRTL())?this.embedRTL(e):this.embedLTR(e)}embedLTR(e){return""+e+""}embedRTL(e){return""+e+""}isolateLTR(e){return""+e+""}isolateRTL(e){return""+e+""}forceLTR(e){return""+e}forceRTL(e){return""+e}t(e,t,n){"number"!=typeof e&&__LOG__(3)`l10n.t was called with an unprocessed id (${e}). If you just added a string on local, restarting your build may address the issue.`;const r=e,i=null!=t?t._plural:null;let a=n||this.getLocale();this.localeStrings[a]||(a=o.DEFAULT_LOCALE);let s=this._getString(r,a,i);this.markTranslations&&(s?a===o.DEFAULT_LOCALE&&(s="["+s+"]"):(s="!!"+r+"!!",__LOG__(2)`l10n:t string key "${r}" not found`)),s||(s=this._getString(r,o.DEFAULT_LOCALE,i)),s||__LOG__(2)`l10n:t string key "${r}" fallback failed`;for(const e in t){if(!t.hasOwnProperty(e)||"_plural"===e)continue;const n=new RegExp("__"+e+"__","g");let r;r="string"==typeof t[e]&&f.has(t[e].slice(0,1))?t[e]:this.n(t[e],a),s=s.replace(n,r)}return s}_getString(e,t,n){const r=this.localeStrings[t]||this.localeStrings[o.DEFAULT_LOCALE];if(null==r)throw(0,u.default)(`Couldn't find translations for locale ${t} or default (${o.DEFAULT_LOCALE})`);if(!Array.isArray(r))throw(0,u.default)("Unexpected locale format.");const[i,a]=r,l=i[e]||"";if(null==n)return l;const c=s.default[t];if(null==c)return l;const d=c.numbers[c.plurals(n)];if(1===d)return l;return a[2===c.numbers.length&&2===d?e.toString():`${e}_${d}`]||l}useArabicScriptDigits(e){return A.has(e||this.getLocale())}isLatinAlphabetLanguage(e){return _.default.isLatin(this.removeAccents(e))}d(e,t){return this.n(e,t,{notation:"compact",compactDisplay:"short"})}n(e,t,n){let r=e;return"number"==typeof r&&(r=Intl.NumberFormat(this.getLocale(),n).format(r)),this.useArabicScriptDigits(t)?r.toString().replace(/[0-9]/g,h):r}filesize(e){const t=this,n=e>1073741824?1:0,r=this.getLocale();return this.n((0,d.default)(e,{base:2,round:n,locale:r,symbols:{B:t.t(307),KB:t.t(309),MB:t.t(310),GB:t.t(308),KiB:t.t(309),MiB:t.t(310),GiB:t.t(308)}}))}normalizeForm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,a.normalizeForm)(e)}removeAccents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,a.removeAccents)(e)}accentFold(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.removeAccents(e).toLowerCase()}customizeMoment(){p.default.relativeTimeRounding(Math.floor),p.default.relativeTimeThreshold("s",60),p.default.relativeTimeThreshold("m",60),p.default.relativeTimeThreshold("h",24)}}t.L10n=T},71149:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(49619));class o{constructor(e,t,n){this.key=e,this.value=t,this.timestamp=null!=n?n:Date.now(),this.prev=void 0,this.next=void 0}}class a{constructor(){this.start=new o(null,null),this.end=new o(null,null),this.start.next=this.end,this.end.prev=this.start}append(e,t){const n=new o(e,t),r=this.end,a=(0,i.default)(this.end.prev,"this.end.prev");return n.next=r,n.prev=a,r.prev=n,a.next=n,n}prepend(e,t){const n=new o(e,t),r=this.start,a=(0,i.default)(this.start.next,"this.start.next");return n.prev=r,n.next=a,r.next=n,a.prev=n,n}popEnd(){const e=(0,i.default)(this.end.prev,"this.end.prev");if(e===this.start)return;const t=(0,i.default)(e.prev,"entry.prev"),n=(0,i.default)(e.next,"entry.next");return t.next=n,n.prev=t,e.next=void 0,e.prev=void 0,e}popFront(){const e=(0,i.default)(this.start.next,"this.start.next");if(e===this.end)return;const t=(0,i.default)(e.prev,"entry.prev"),n=(0,i.default)(e.next,"entry.next");return t.next=n,n.prev=t,e.next=void 0,e.prev=void 0,e}peekFront(){const e=(0,i.default)(this.start.next,"this.start.next");if(e!==this.end)return e}peekEnd(){const e=(0,i.default)(this.end.prev,"this.end.prev");if(e!==this.start)return e}remove(e){const t=(0,i.default)(e.prev,"entry.prev"),n=(0,i.default)(e.next,"entry.next");return t.next=n,n.prev=t,e.next=void 0,e.prev=void 0,e}stats(){let e=this.start,t=0;for(;e!==this.end;)e=(0,i.default)(e.next,"entry.next"),t+=1;return t-1}}t.default=class{constructor(){this.keyMap=new Map,this.entryList=new a}lookup(e){const t=this.keyMap.get(e);if(t){this.entryList.remove(t);const e=this.entryList.append(t.key,t.value);return this.keyMap.set(e.key,e),t.value}}add(e,t){let n=this.keyMap.get(e);return n?n.value=t:(n=this.entryList.append(e,t),this.keyMap.set(e,n)),t}expireKeys(e){let t=this.entryList.peekFront();for(;t&&t.timestamp<e;)this.entryList.popFront(),this.keyMap.delete(t.key),t=this.entryList.peekFront()}printStats(){__LOG__(2)`========================== STATS =============================`,__LOG__(2)`entry list: ${this.entryList.stats()}`,__LOG__(2)`map keys: ${this.keyMap.size}`}}},14950:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=(r(n(35161)),n(27363)),a=n(55068),s=n(73471),l=n(29638),c=(r(n(71149)),r(n(40733))),u=n(51698),d=n(24845),_=n(99366),p=r(n(22192)),f=n(95160),E=n(88745),A=n(48360),g=r(n(30381)),h=r(n(15107));const S=self.location.href;S&&S.includes("/%F0%9F%8C%90/")&&Promise.resolve().then(n.bind(n,32890)).then((e=>{let{default:t}=e;t.canMuckHistory()&&window.history.replaceState({},"","/")}));const T="en-GB",m={LTR:"LTR",RTL:"RTL"},I={LTR:"style",RTL:"style_rtl"},y=u.L10N_PRIORITY;class C extends l.L10n{constructor(){super({l:u.DEFAULT_LOCALE,priority:y.DEFAULT,loc:u.DEFAULT_LOCALE},(0,c.default)(n(29874)),h.default?h.default.getMarkTranslations():u.MARK_TRANSLATIONS_ENABLED);{if((0,f.isWorker)())return void __LOG__(3)`l10n should not be included in worker!`;const e=function(){const e=document.querySelector("html");return null==e?void 0:e.getAttribute("loc")}(),t={};this._considerLocale(t,e,y.PREVIOUS)&&this.downloadAndSetTranslation(t)}}getLocale(){return this._locale.l}getFbtTranslations(){return this.fbtStrings[this._locale.l]}getFullLocale(){return this._locale.loc.replace("_","-")}_getFBTLocale(){return(0,_.normalizeLocaleToFBTLocale)(this.getLocale())}getLanguage(){return(0,d.getLanguageCodeFromLocale)(this.getFullLocale())}getRegion(){return(0,d.getRegionCodeFromLocale)(this.getFullLocale())}normalizeForm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!E.UA.isTrident)return e.normalize("NFKD");try{return e.normalize("NFKD")}catch(t){return e}}setLocale(e,t){var n=this;return(0,i.default)((function*(){const r={l:n._locale.l,priority:n._locale.priority,loc:n._locale.l};return n._considerLocale(r,e,t)?n.downloadAndSetTranslation(r):Promise.resolve()}))()}isLocaleSupported(e){try{return super.isLocaleSupported(e)&&(!self.Intl||Array.isArray(self.Intl.Collator.supportedLocalesOf(e)))}catch(e){return!1}}init(e){var t;this._initFbt();const n={l:u.DEFAULT_LOCALE,priority:y.DEFAULT,loc:u.DEFAULT_LOCALE};if(this._considerLocale(n,e,y.PREVIOUS),this._considerLocale(n,function(){let e=(S||self.location.href||"").split("/%F0%9F%8C%90/");return e.length>1?e[1].split("/")[0]:void 0}(),y.URL),this._considerLocale(n,navigator.language,y.BROWSER),null===(t=navigator.languages)||void 0===t?void 0:t.length)for(let e=0;e<navigator.languages.length&&!this._considerLocale(n,navigator.languages[e],y.BROWSER);e++);return this.downloadAndSetTranslation(n)}_initFbt(){const e=this.markTranslations?e=>this.getLocale()===u.DEFAULT_LOCALE?new A.FbtResult(["{",...e.contents,"}"]):new A.FbtResult(e.contents):void 0;(0,A.init)({translations:this.getFbtTranslations(),hooks:{getViewerContext:()=>({locale:this._getFBTLocale()}),getFbsResult:e,getFbtResult:e,getNumberFormatConfigOverride:()=>"ar"===this.getLocale()?{decimalSeparator:".",numberDelimiter:",",minDigitsForThousandsSeparator:4,standardDecimalPatternInfo:{primaryGroupSize:3,secondaryGroupSize:3},numberingSystemData:null}:null}})}_considerLocale(e,t,n){if(null!=e.priority&&n<e.priority)return;if(null==t||t===this.getLocale())return;const r=this.normalizeLocale(t);return r?(e.l=r,e.priority=n,e.loc=t,e):void 0}downloadAppLocale(e){return this.localeStrings[e]?Promise.resolve(this.localeStrings[e]):(0,s.promiseLoop)(function(){var t=(0,i.default)((function*(t,r,i){const s=(0,a.delayMs)((0,o.expBackoff)(i,12e4,1e3,.1)),l=yield n(26299)(`./${e}`);try{const e=(0,c.default)(l),[n]=yield e();return t(n)}catch(t){return 10===i&&(__LOG__(4,void 0,new Error,!0)`${i} times, locale is ${e}`,SEND_LOGS("downadAppLocale failure")),s}}));return function(){return t.apply(this,arguments)}}())}downloadFbtLocaleAndSetCache(e){var t=this;return this.fbtStrings[e]?Promise.resolve(this.fbtStrings[e]):(0,s.promiseLoop)(function(){var r=(0,i.default)((function*(r,i,s){const l=(0,a.delayMs)((0,o.expBackoff)(s,12e4,1e3,.1)),u=yield n(26299)(`./${e}`),d=(0,c.default)(u);try{const[,n]=yield d();return t.fbtStrings[e]=n,r(n)}catch(t){return 10===s&&(__LOG__(4,void 0,new Error,!0)`${s} times, locale is ${e}`,SEND_LOGS("downadAppLocale failure")),l}}));return function(){return r.apply(this,arguments)}}())}_downloadMomentResourceFile(e){return(0,i.default)((function*(){try{const t=yield n(19922)(`./${e}`);return(0,c.default)(t)}catch(t){__LOG__(2)`l10n:_downloadMomentResourceFile failed to download resource ${e}`}}))()}downloadMomentLocale(e){var t=this;const{l:n,loc:r}=e;return g.default.locale()===r?Promise.resolve():(0,s.promiseLoop)(function(){var e=(0,i.default)((function*(e,i,s){const l=(0,a.delayMs)((0,o.expBackoff)(s,12e4,1e3,.1)),c=r.replace(/_/g,"-");let d,_;if(c===u.DEFAULT_MOMENT_LOCALE)d=()=>Promise.resolve(),_=u.DEFAULT_MOMENT_LOCALE;else{const e=[];if(e.push(c),n===u.DEFAULT_LOCALE)e.push(T);else{const t=n.replace(/_/g,"-");e.push(t),null!=p.default[t]&&e.push(p.default[t])}e.push(T);for(let n=0;n<e.length;++n)if(d=yield t._downloadMomentResourceFile(e[n]),null!=d){_=e[n];break}null==d&&(__LOG__(3)`Could not fetch moment locales, using default en-US`,d=()=>Promise.resolve(),_=u.DEFAULT_MOMENT_LOCALE)}try{return yield d(),e(_)}catch(e){return 10===s&&(__LOG__(4,void 0,new Error,!0)`${s} times, locale is (${n}, ${r})`,SEND_LOGS("downloadMomentLocale failure")),l}}));return function(){return e.apply(this,arguments)}}())}updateFbtContext(e){null!=e&&A.FbtTranslations.registerTranslations(e)}downloadAndSetTranslation(e){const{l:t,loc:r}=this._locale,{l:i,loc:o}=e,a=this.isRTL(i),s=a?m.RTL:m.LTR;if(document.getElementById(I[s])&&o===r)return Promise.resolve();const l=self.performance.now();let d,_;return this._fetchPromise=Promise.all([this.downloadAppLocale(i),this.downloadFbtLocaleAndSetCache(i),this.downloadMomentLocale(e)]).then((t=>{let[n,r,a]=t;d=self.performance.now(),this.localeStrings[i]=n,this._locale=e,this.trigger("set_collator",i),a&&(g.default.locale(a),__LOG__(2)`l10n:moment locale updated to: ${a}`),this.customizeMomentLocale(g.default.locale()),document.documentElement&&document.documentElement.setAttribute("lang",e.l),document.documentElement&&document.documentElement.setAttribute("dir",s),this.updateFbtContext(r),this.trigger("locale_change",{l:i,loc:o})})).then((()=>{_=self.performance.now(),__LOG__(2)`l10n:locale updated: (${t}, ${r}) > (${i}, ${o}), Fetch: ${d-l}ms, Apply: ${_-d}ms`;if((0,c.default)(n(49499)).supported){var e;const t=(0,c.default)(n(93948)),r=(0,c.default)(n(19194));(null===(e=navigator.serviceWorker)||void 0===e?void 0:e.controller)&&t.request(navigator.serviceWorker.controller,r.SET_L10N,{isRTL:a,locale:i}).catch((()=>{}))}})).catch((()=>(__LOG__(2)`l10n:locale update error: (${t}, ${r}) > (${i}, ${o})`,this.downloadAndSetTranslation({l:u.DEFAULT_LOCALE,priority:y.DEFAULT,loc:u.DEFAULT_LOCALE}))))}_updateSpellChecker(){}_updateElectronMain(){}customizeMomentLocale(e){const t=u.LOCALE_CUSTOMIZATIONS[e];t&&g.default.locale(e,t)}}C.Dir=m;var v=new C;t.default=v},51698:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SHOULD_USE_MOMENT_LOCALE_FORMAT=t.MARK_TRANSLATIONS_ENABLED=t.LOCALE_DATE_TIME_CUSTOMIZATIONS=t.LOCALE_CUSTOMIZATIONS=t.LOCALES_THAT_PREFER_24HOUR_TIME=t.L10N_PRIORITY=t.DEFAULT_MOMENT_LOCALE=t.DEFAULT_LOCALE=void 0;var i=r(n(81109));t.L10N_PRIORITY={SAVED:6,PHONE:5,PREVIOUS:4,URL:3,BROWSER:2,DEFAULT:1};t.DEFAULT_LOCALE="en";t.DEFAULT_MOMENT_LOCALE="en-US";const o=new Set(["ur"]);t.SHOULD_USE_MOMENT_LOCALE_FORMAT=o;const a=new Set(["af","az","ca","cs","da","de","el","et","fi","fr","he","hr","hu","id","it","kk","lt","mk","nb","pl","pt","pt-BR","ro","ru","sk","sl","sr","sv","th","tr","uk"]);t.LOCALES_THAT_PREFER_24HOUR_TIME=a;const s={"zh-tw":{longDateFormat:{LT:"Ah:mm",LTS:"Ah:m:s",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"}},"zh-cn":{longDateFormat:{LT:"Ah:mm",LTS:"Ah:m:s",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"}},ar:{longDateFormat:{LT:"h:mm A",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"}},ta:{longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY, h:mm A"},preparse:null,postformat:null,meridiem:null,meridiemHour:null},nl:{longDateFormat:{l:"DD-MM-YYYY",L:"DD-MM-YYYY"}},"en-ie":{longDateFormat:{l:"DD/MM/YYYY",L:"DD/MM/YYYY"}},hi:{preparse:e=>e,postformat:e=>e,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",LLL:"D MMMM YYYY A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},meridiem:(e,t)=>0===e&&0===t?"":e>=20||e<4?"":e>=4&&e<12?"":e>=12&&e<16?"":""}};t.LOCALE_DATE_TIME_CUSTOMIZATIONS=s;const l=(0,i.default)((0,i.default)({},s),{"pt-pt":{weekdays:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"]}});t.LOCALE_CUSTOMIZATIONS=l;t.MARK_TRANSLATIONS_ENABLED=!1},61388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCountryShortcodeByPhone=function(e){if(null==e||0===e.length)return"";const t=function(e,t){if(null!=e&&e.length>0&&null!=t){let n=t[e[0]],r=e;for(;r.length>0&&n;){if(n.c)return n.c;r=r.substr(1,r.length-1),n=n[r[0]]}}return""}(e,n);if(""===t&&"1"===e[0])return"US";if("RU"===t&&["6","7"].includes(e[1]))return"KZ";return t};const n={1:{2:{0:{4:{c:"CA"}},2:{6:{c:"CA"}},3:{6:{c:"CA"}},4:{2:{c:"BS"},9:{c:"CA"}},5:{0:{c:"CA"}},6:{4:{c:"AI"},8:{c:"AG"}},8:{4:{c:"VG"},9:{c:"CA"}}},3:{0:{6:{c:"CA"}},4:{0:{c:"VI"},3:{c:"CA"},5:{c:"KY"}},6:{5:{c:"CA"},7:{c:"CA"}}},4:{0:{3:{c:"CA"}},1:{6:{c:"CA"},8:{c:"CA"}},3:{1:{c:"CA"},7:{c:"CA"},8:{c:"CA"}},4:{1:{c:"BM"}},5:{0:{c:"CA"}},7:{3:{c:"GD"}}},5:{0:{6:{c:"CA"}},1:{4:{c:"CA"},9:{c:"CA"}},4:{8:{c:"CA"}},7:{9:{c:"CA"}},8:{1:{c:"CA"},7:{c:"CA"}}},6:{0:{4:{c:"CA"}},1:{3:{c:"CA"}},3:{9:{c:"CA"}},4:{7:{c:"CA"},9:{c:"TC"}},5:{8:{c:"JM"}},6:{4:{c:"MS"}},7:{0:{c:"MP"},1:{c:"GU"},2:{c:"CA"}},8:{4:{c:"AS"}}},7:{0:{5:{c:"CA"},9:{c:"CA"}},2:{1:{c:"MF"}},5:{8:{c:"LC"}},6:{7:{c:"DM"}},7:{8:{c:"CA"}},8:{0:{c:"CA"},2:{c:"CA"},4:{c:"VC"},7:{c:"PR"}}},8:{0:{7:{c:"CA"},9:{c:"DO"}},1:{9:{c:"CA"}},2:{5:{c:"CA"},9:{c:"DO"}},4:{9:{c:"DO"}},6:{7:{c:"CA"},8:{c:"TT"},9:{c:"KN"}},7:{3:{c:"CA"},6:{c:"JM"}}},9:{0:{2:{c:"CA"},5:{c:"CA"}},3:{9:{c:"PR"}}}},2:{0:{c:"EG"},1:{1:{c:"SS"},2:{c:"MA"},3:{c:"DZ"},6:{c:"TN"},8:{c:"LY"}},2:{0:{c:"GM"},1:{c:"SN"},2:{c:"MR"},3:{c:"ML"},4:{c:"GN"},5:{c:"CI"},6:{c:"BF"},7:{c:"NE"},8:{c:"TG"},9:{c:"BJ"}},3:{0:{c:"MU"},1:{c:"LR"},2:{c:"SL"},3:{c:"GH"},4:{c:"NG"},5:{c:"TD"},6:{c:"CF"},7:{c:"CM"},8:{c:"CV"},9:{c:"ST"}},4:{0:{c:"GQ"},1:{c:"GA"},2:{c:"CG"},3:{c:"CD"},4:{c:"AO"},5:{c:"GW"},6:{c:"IO"},7:{c:"AC"},8:{c:"SC"},9:{c:"SD"}},5:{0:{c:"RW"},1:{c:"ET"},2:{c:"SO"},3:{c:"DJ"},4:{c:"KE"},5:{c:"TZ"},6:{c:"UG"},7:{c:"BI"},8:{c:"MZ"}},6:{0:{c:"ZM"},1:{c:"MG"},2:{c:"RE"},3:{c:"ZW"},4:{c:"NA"},5:{c:"MW"},6:{c:"LS"},7:{c:"BW"},8:{c:"SZ"},9:{c:"KM"}},7:{c:"ZA"},9:{0:{c:"SH"},1:{c:"ER"},7:{c:"AW"},8:{c:"FO"},9:{c:"GL"}}},3:{0:{c:"GR"},1:{c:"NL"},2:{c:"BE"},3:{c:"FR"},4:{c:"ES"},5:{0:{c:"GI"},1:{c:"PT"},2:{c:"LU"},3:{c:"IE"},4:{c:"IS"},5:{c:"AL"},6:{c:"MT"},7:{c:"CY"},8:{c:"FI"},9:{c:"BG"}},6:{c:"HU"},7:{0:{c:"LT"},1:{c:"LV"},2:{c:"EE"},3:{c:"MD"},4:{c:"AM"},5:{c:"BY"},6:{c:"AD"},7:{c:"MC"},8:{c:"SM"}},8:{0:{c:"UA"},1:{c:"RS"},2:{c:"ME"},3:{c:"XK"},5:{c:"HR"},6:{c:"SI"},7:{c:"BA"},9:{c:"MK"}},9:{c:"IT"}},4:{0:{c:"RO"},1:{c:"CH"},2:{0:{c:"CZ"},1:{c:"SK"},3:{c:"LI"}},3:{c:"AT"},4:{c:"GB"},5:{c:"DK"},6:{c:"SE"},7:{c:"NO"},8:{c:"PL"},9:{c:"DE"}},5:{0:{0:{c:"FK"},1:{c:"BZ"},2:{c:"GT"},3:{c:"SV"},4:{c:"HN"},5:{c:"NI"},6:{c:"CR"},7:{c:"PA"},8:{c:"PM"},9:{c:"HT"}},1:{c:"PE"},2:{c:"MX"},3:{c:"CU"},4:{c:"AR"},5:{c:"BR"},6:{c:"CL"},7:{c:"CO"},8:{c:"VE"},9:{0:{c:"GP"},1:{c:"BO"},2:{c:"GY"},3:{c:"EC"},4:{c:"GF"},5:{c:"PY"},6:{c:"MQ"},7:{c:"SR"},8:{c:"UY"},9:{c:"CW"}}},6:{0:{c:"MY"},1:{c:"AU"},2:{c:"ID"},3:{c:"PH"},4:{c:"NZ"},5:{c:"SG"},6:{c:"TH"},7:{0:{c:"TL"},2:{c:"NF"},3:{c:"BN"},4:{c:"NR"},5:{c:"PG"},6:{c:"TO"},7:{c:"SB"},8:{c:"VU"},9:{c:"FJ"}},8:{0:{c:"PW"},1:{c:"WF"},2:{c:"CK"},3:{c:"NU"},5:{c:"WS"},6:{c:"KI"},7:{c:"NC"},8:{c:"TV"},9:{c:"PF"}},9:{0:{c:"TK"},1:{c:"FM"},2:{c:"MH"}}},7:{c:"RU"},8:{1:{c:"JP"},2:{c:"KR"},4:{c:"VN"},5:{0:{c:"KP"},2:{c:"HK"},3:{c:"MO"},5:{c:"KH"},6:{c:"LA"}},6:{c:"CN"},8:{0:{c:"BD"},6:{c:"TW"}}},9:{0:{c:"TR"},1:{c:"IN"},2:{c:"PK"},3:{c:"AF"},4:{c:"LK"},5:{c:"MM"},6:{0:{c:"MV"},1:{c:"LB"},2:{c:"JO"},3:{c:"SY"},4:{c:"IQ"},5:{c:"KW"},6:{c:"SA"},7:{c:"YE"},8:{c:"OM"}},7:{0:{c:"PS"},1:{c:"AE"},2:{c:"IL"},3:{c:"BH"},4:{c:"QA"},5:{c:"BT"},6:{c:"MN"},7:{c:"NP"}},8:{c:"IR"},9:{2:{c:"TJ"},3:{c:"TM"},4:{c:"AZ"},5:{c:"GE"},6:{c:"KG"},8:{c:"UZ"}}}}},24845:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageCodeFromLocale=function(e){return e.replace(/_/g,"-").split("-")[0].toLowerCase()},t.getRegionCodeFromLocale=function(e){const t=e.replace(/_/g,"-").split("-");if(t.length<=1)return null;return t[t.length-1].toUpperCase()},t.normalizeForm=o,t.removeAccents=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.default)(o(e).replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,""))};var i=r(n(97331));function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.normalize("NFKD")}},99366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeLocaleToFBTLocale=function(e){const t=n[e];if(null!=t)return t;return e};const n={af:"af_ZA",ar:"ar_AR",az:"az_AZ",bg:"bg_BG",bn:"bn_IN",ca:"ca_ES",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_GB",es:"es_MX",et:"et_EE",fa:"fa_IR",fi:"fi_FI",fil:"tl_PH",fr:"fr_FR",gu:"gu_IN",he:"he_IL",hi:"hi_IN",hr:"hr_HR",hu:"hu_HU",id:"id_ID",it:"it_IT",ja:"ja_JP",kk:"kk_KZ",kn:"kn_IN",ko:"ko_KR",lt:"lt_LT",lv:"lv_LV",mk:"mk_MK",ml:"ml_IN",mr:"mr_IN",ms:"ms_MY",nb:"nb_NO",nl:"nl_NL",pa:"pa_IN",pl:"pl_PL",pt:"pt_PT","pt-BR":"pt_BR",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sq:"sq_AL",sr:"sr_RS",sv:"sv_SE",sw:"sw_KE",ta:"ta_IN",te:"te_IN",th:"th_TH",tr:"tr_TR",uk:"uk_UA",ur:"ur_PK",uz:"uz_UZ",vi:"vi_VN","zh-CN":"zh_CN","zh-HK":"zh_HK","zh-TW":"zh_TW"}},1039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ach:{name:"Acholi",numbers:[1,2],plurals:e=>Number(e>1)},af:{name:"Afrikaans",numbers:[1,2],plurals:e=>Number(1!=e)},ak:{name:"Akan",numbers:[1,2],plurals:e=>Number(e>1)},am:{name:"Amharic",numbers:[1,2],plurals:e=>Number(e>1)},an:{name:"Aragonese",numbers:[1,2],plurals:e=>Number(1!=e)},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:e=>Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},arn:{name:"Mapudungun",numbers:[1,2],plurals:e=>Number(e>1)},ast:{name:"Asturian",numbers:[1,2],plurals:e=>Number(1!=e)},ay:{name:"Aymar",numbers:[1],plurals:()=>0},az:{name:"Azerbaijani",numbers:[1,2],plurals:e=>Number(1!=e)},be:{name:"Belarusian",numbers:[1,2,5],plurals:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},bg:{name:"Bulgarian",numbers:[1,2],plurals:e=>Number(1!=e)},bn:{name:"Bengali",numbers:[1,2],plurals:e=>Number(1!=e)},bo:{name:"Tibetan",numbers:[1],plurals:()=>0},br:{name:"Breton",numbers:[1,2],plurals:e=>Number(e>1)},bs:{name:"Bosnian",numbers:[1,2,5],plurals:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},ca:{name:"Catalan",numbers:[1,2],plurals:e=>Number(1!=e)},cgg:{name:"Chiga",numbers:[1],plurals:()=>0},cs:{name:"Czech",numbers:[1,2,5],plurals:e=>Number(1==e?0:e>=2&&e<=4?1:2)},csb:{name:"Kashubian",numbers:[1,2,5],plurals:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},da:{name:"Danish",numbers:[1,2],plurals:e=>Number(1!=e)},de:{name:"German",numbers:[1,2],plurals:e=>Number(1!=e)},dz:{name:"Dzongkha",numbers:[1],plurals:()=>0},el:{name:"Greek",numbers:[1,2],plurals:e=>Number(1!=e)},en:{name:"English",numbers:[1,2],plurals:e=>Number(1!=e)},eo:{name:"Esperanto",numbers:[1,2],plurals:e=>Number(1!=e)},es:{name:"Spanish",numbers:[1,2],plurals:e=>Number(1!=e)},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:e=>Number(1!=e)},et:{name:"Estonian",numbers:[1,2],plurals:e=>Number(1!=e)},eu:{name:"Basque",numbers:[1,2],plurals:e=>Number(1!=e)},fa:{name:"Persian",numbers:[1,2],plurals:e=>Number(e>1)},fi:{name:"Finnish",numbers:[1,2],plurals:e=>Number(1!=e)},fil:{name:"Filipino",numbers:[1,2],plurals:e=>Number(e>1)},fo:{name:"Faroese",numbers:[1,2],plurals:e=>Number(1!=e)},fr:{name:"French",numbers:[1,2],plurals:e=>Number(e>1)},fur:{name:"Friulian",numbers:[1,2],plurals:e=>Number(1!=e)},fy:{name:"Frisian",numbers:[1,2],plurals:e=>Number(1!=e)},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},gl:{name:"Galician",numbers:[1,2],plurals:e=>Number(1!=e)},gu:{name:"Gujarati",numbers:[1,2],plurals:e=>Number(1!=e)},gun:{name:"Gun",numbers:[1,2],plurals:e=>Number(e>1)},ha:{name:"Hausa",numbers:[1,2],plurals:e=>Number(1!=e)},he:{name:"Hebrew",numbers:[1,2,20,3],plurals:e=>Number(1===e?0:2===e?1:e>=20&&e%10==0?2:3)},hi:{name:"Hindi",numbers:[1,2],plurals:e=>Number(1!=e)},hr:{name:"Croatian",numbers:[1,2,5],plurals:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},hu:{name:"Hungarian",numbers:[1,2],plurals:e=>Number(1!=e)},hy:{name:"Armenian",numbers:[1,2],plurals:e=>Number(1!=e)},ia:{name:"Interlingua",numbers:[1,2],plurals:e=>Number(1!=e)},id:{name:"Indonesian",numbers:[1],plurals:()=>0},is:{name:"Icelandic",numbers:[1,2],plurals:e=>Number(e%10!=1||e%100==11)},it:{name:"Italian",numbers:[1,2],plurals:e=>Number(1!=e)},ja:{name:"Japanese",numbers:[1],plurals:()=>0},jbo:{name:"Lojban",numbers:[1],plurals:()=>0},jv:{name:"Javanese",numbers:[0,1],plurals:e=>Number(0!==e)},ka:{name:"Georgian",numbers:[1],plurals:()=>0},kk:{name:"Kazakh",numbers:[1],plurals:()=>0},km:{name:"Khmer",numbers:[1],plurals:()=>0},kn:{name:"Kannada",numbers:[1,2],plurals:e=>Number(1!=e)},ko:{name:"Korean",numbers:[1],plurals:()=>0},ku:{name:"Kurdish",numbers:[1,2],plurals:e=>Number(1!=e)},kw:{name:"Cornish",numbers:[1,2,3,4],plurals:e=>Number(1==e?0:2==e?1:3==e?2:3)},ky:{name:"Kyrgyz",numbers:[1],plurals:()=>0},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:e=>Number(1!=e)},ln:{name:"Lingala",numbers:[1,2],plurals:e=>Number(e>1)},lo:{name:"Lao",numbers:[1],plurals:()=>0},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},lv:{name:"Latvian",numbers:[0,1,2],plurals:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2)},mai:{name:"Maithili",numbers:[1,2],plurals:e=>Number(1!=e)},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:e=>Number(e>1)},mg:{name:"Malagasy",numbers:[1,2],plurals:e=>Number(e>1)},mi:{name:"Maori",numbers:[1,2],plurals:e=>Number(e>1)},mk:{name:"Macedonian",numbers:[1,2],plurals:e=>Number(1==e||e%10==1?0:1)},ml:{name:"Malayalam",numbers:[1,2],plurals:e=>Number(1!=e)},mn:{name:"Mongolian",numbers:[1,2],plurals:e=>Number(1!=e)},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:e=>Number(0===e?0:1==e?1:2)},mr:{name:"Marathi",numbers:[1,2],plurals:e=>Number(1!=e)},ms:{name:"Malay",numbers:[1],plurals:()=>0},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:e=>Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},nah:{name:"Nahuatl",numbers:[1,2],plurals:e=>Number(1!=e)},nap:{name:"Neapolitan",numbers:[1,2],plurals:e=>Number(1!=e)},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:e=>Number(1!=e)},ne:{name:"Nepali",numbers:[1,2],plurals:e=>Number(1!=e)},nl:{name:"Dutch",numbers:[1,2],plurals:e=>Number(1!=e)},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:e=>Number(1!=e)},no:{name:"Norwegian",numbers:[1,2],plurals:e=>Number(1!=e)},nso:{name:"Northern Sotho",numbers:[1,2],plurals:e=>Number(1!=e)},oc:{name:"Occitan",numbers:[1,2],plurals:e=>Number(e>1)},or:{name:"Oriya",numbers:[2,1],plurals:e=>Number(1!=e)},pa:{name:"Punjabi",numbers:[1,2],plurals:e=>Number(1!=e)},pap:{name:"Papiamento",numbers:[1,2],plurals:e=>Number(1!=e)},pl:{name:"Polish",numbers:[1,2,5],plurals:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},pms:{name:"Piemontese",numbers:[1,2],plurals:e=>Number(1!=e)},ps:{name:"Pashto",numbers:[1,2],plurals:e=>Number(1!=e)},pt:{name:"Portuguese",numbers:[1,2],plurals:e=>Number(1!=e)},"pt-BR":{name:"Brazilian Portuguese",numbers:[1,2],plurals:e=>Number(1!=e)},rm:{name:"Romansh",numbers:[1,2],plurals:e=>Number(1!=e)},ro:{name:"Romanian",numbers:[1,2,20],plurals:e=>Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},ru:{name:"Russian",numbers:[1,2,5],plurals:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},sah:{name:"Yakut",numbers:[1],plurals:()=>0},sco:{name:"Scots",numbers:[1,2],plurals:e=>Number(1!=e)},se:{name:"Northern Sami",numbers:[1,2],plurals:e=>Number(1!=e)},si:{name:"Sinhala",numbers:[1,2],plurals:e=>Number(1!=e)},sk:{name:"Slovak",numbers:[1,2,5],plurals:e=>Number(1==e?0:e>=2&&e<=4?1:2)},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},so:{name:"Somali",numbers:[1,2],plurals:e=>Number(1!=e)},son:{name:"Songhay",numbers:[1,2],plurals:e=>Number(1!=e)},sq:{name:"Albanian",numbers:[1,2],plurals:e=>Number(1!=e)},sr:{name:"Serbian",numbers:[1,2,5],plurals:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},su:{name:"Sundanese",numbers:[1],plurals:()=>0},sv:{name:"Swedish",numbers:[1,2],plurals:e=>Number(1!=e)},sw:{name:"Swahili",numbers:[1,2],plurals:e=>Number(1!=e)},ta:{name:"Tamil",numbers:[1,2],plurals:e=>Number(1!=e)},te:{name:"Telugu",numbers:[1,2],plurals:e=>Number(1!=e)},tg:{name:"Tajik",numbers:[1,2],plurals:e=>Number(e>1)},th:{name:"Thai",numbers:[1],plurals:()=>0},ti:{name:"Tigrinya",numbers:[1,2],plurals:e=>Number(e>1)},tk:{name:"Turkmen",numbers:[1,2],plurals:e=>Number(1!=e)},tr:{name:"Turkish",numbers:[1,2],plurals:e=>Number(e>1)},tt:{name:"Tatar",numbers:[1],plurals:()=>0},ug:{name:"Uyghur",numbers:[1],plurals:()=>0},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},ur:{name:"Urdu",numbers:[1,2],plurals:e=>Number(1!=e)},uz:{name:"Uzbek",numbers:[1,2],plurals:e=>Number(e>1)},vi:{name:"Vietnamese",numbers:[1],plurals:()=>0},wa:{name:"Walloon",numbers:[1,2],plurals:e=>Number(e>1)},wo:{name:"Wolof",numbers:[1],plurals:()=>0},yo:{name:"Yoruba",numbers:[1,2],plurals:e=>Number(1!=e)},zh:{name:"Chinese",numbers:[1],plurals:()=>0}};t.default=n},43286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={af:"af",ar:"ar",ar_xb:"ar-XB",az:"az",bg:"bg",bn:"bn",ca:"ca",cs:"cs",da:"da",de:"de",el:"el",en:"en",es:"es",et:"et",fa:"fa",fi:"fi",fil:"fil",fr:"fr",gu:"gu",he:"he",hi:"hi",hr:"hr",hu:"hu",id:"id",it:"it",ja:"ja",kk:"kk",kn:"kn",ko:"ko",lt:"lt",lv:"lv",mk:"mk",ml:"ml",mr:"mr",ms:"ms",nb:"nb",nl:"nl",pa:"pa",pl:"pl",pt:"pt",pt_br:"pt-BR",ro:"ro",ru:"ru",sk:"sk",sl:"sl",sq:"sq",sr:"sr",sv:"sv",sw:"sw",ta:"ta",te:"te",th:"th",tr:"tr",uk:"uk",ur:"ur",uz:"uz",vi:"vi",zh_cn:"zh-CN",zh_hk:"zh-HK",zh_tw:"zh-TW"};t.default=n},78474:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.COUNTRY_FILTER_TYPE=void 0,t.getCountries=function(){return _.apply(this,arguments)},t.getCountryName=u,t.getCountryNameByPhone=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=n(74127),a=r(n(14950)),s=n(61388);const l=Object.freeze({META_RECOGNIZED:"META_RECOGNIZED",WHATSAPP_REGISTRATION:"WHATSAPP_REGISTRATION"});t.COUNTRY_FILTER_TYPE=l;const c={[l.META_RECOGNIZED]:["AC","CP","DG","EA","EU","EZ","IC","QO","TA","UN","XA","XB"],[l.WHATSAPP_REGISTRATION]:["AQ","BV","CP","DG","EA","EH","EU","EZ","GS","HM","IC","PN","QO","TA","TF","UM","UN","XA","XB","ZZ"]};function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e,t){if(!e||t&&c[t].includes(e.toUpperCase()))return;return(yield(0,o.getCountriesMap)(a.default.getLocale()))[e.toUpperCase()]}))).apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e){const t=yield(0,o.getCountriesMap)(a.default.getLocale());return Object.keys(t).filter((t=>!t.includes("@")&&!c[e.filter].includes(t))).map((e=>[e,t[e]])).sort(((e,t)=>{let[,n]=e,[,r]=t;return String(n).localeCompare(String(r))}))}))).apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e){const t=(0,s.getCountryShortcodeByPhone)(e);if(""!==t)return u(t)}))).apply(this,arguments)}},47344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyntheticCountryCode=void 0;const r=n(76672)({NotApplicable:"NOT_APPLICABLE"});t.SyntheticCountryCode=r},22192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={"zh-HK":"zh-TW",pa:"pa-IN"};t.default=n},46040:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={pt:"pt_br",pt_ao:"pt",pt_ch:"pt",pt_cv:"pt",pt_fr:"pt",pt_gq:"pt",pt_gw:"pt",pt_lu:"pt",pt_mo:"pt",pt_mz:"pt",pt_pt:"pt",pt_st:"pt",pt_tl:"pt",zh_hans:"zh_cn",zh_hant:"zh_tw",zh_sg:"zh_cn",tl:"fil",in:"id",iw:"he",mo:"ro",jw:"jv",ji:"yi"};t.default=n},46280:(e,t)=>{"use strict";function n(e){if(!e)return e;const t=e.replace(/[\u202a-\u202e\u2066-\u2069\u200E\u200F\u061C]/g,""),n=t.split(".");if(1===n.length)return t;for(let e=n.length-1;e>0;e--){const t=n[e].trim();if(t.length)return n.slice(0,e).join(".")+"."+t}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.cleanFilename=n,t.cleanIncomingFilename=function(e){if(!e)return e;const t=n(e);if(e!==t&&t){const e=t.split("."),n=e.length>=2&&e.pop();["bat","exe","cmd","com","lnk","pif","scr","vb","vbe","vbs","wsh","js","ps1","hta","sh","csh","msi","app","scpt","applescript","reg","vbe","wsf","sct"].includes(n)&&__LOG__(2,!0)`cleanIncomingFilename:extension: ${n||""}`}return t}},87622:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"application/":{applixware:"aw","atom+xml":"atom","atomcat+xml":"atomcat","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-":{capability:"cdmia",container:"cdmic",domain:"cdmid",object:"cdmio",queue:"cdmiq"},"davmount+xml":"davmount","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc",ecmascript:"ecma","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-":{tdpfr:"pfr",woff:"woff"},"gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","java-":{archive:"jar",vm:"class","serialized-object":"ser"},javascript:"js",json:"json","jsonml+json":"jsonml","lost+xml":"lostxml","mac-":{binhex40:"hqx",compactpro:"cpt"},"mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx",mathematica:["ma","nb","mb"],"mathml+xml":"mathml",mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s",msword:["doc","dot"],mxf:"mxf",oda:"oda",ogg:"ogx","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps",pdf:"pdf","pgp-":{encrypted:"pgp",signature:["asc","sig"]},pkcs10:"p10","pkcs7-":{mime:["p7m","p7c"],signature:"p7s"},pkcs8:"p8","pkix-":{cert:"cer",crl:"crl",pkipath:"pkipath","attr-cert":"ac"},pkixcmp:"pki","pls+xml":"pls",postscript:["ai","eps","ps"],"pskc+xml":"pskcxml","rdf+xml":"rdf","reginfo+xml":"rif","resource-":{"lists+xml":"rl","lists-diff+xml":"rld"},"rpki-":{ghostbusters:"gbr",manifest:"mft",roa:"roa"},"rsd+xml":"rsd","rss+xml":"rss",rtf:"rtf","sbml+xml":"sbml","scvp-":{"cv-":{request:"scq",response:"scs"},"vp-":{request:"spq",response:"spp"}},sdp:"sdp","set-":{"payment-initiation":"setpay","registration-initiation":"setreg"},"shf+xml":"shf","smil+xml":["smi","smil"],"sparql-":{query:"rq","results+xml":"srx"},srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","vnd.":{acucobol:"acu",acucorp:["atc","acutc"],"adobe.":{fxp:["fxp","fxpl"],"xdp+xml":"xdp",xfdf:"xfdf","formscentral.fcdt":"fcdt","air-application-installer-package+zip":"air"},"apple.":{"installer+xml":"mpkg",mpegurl:"m3u8"},audiograph:"aep",bmi:"bmi",businessobjects:"rep","chemdraw+xml":"cdxml",cinderella:"cdy",claymore:"cla",commonspace:"csp",cosmocaller:"cmc","crick.":{clicker:"clkx","clicker.":{keyboard:"clkk",palette:"clkp",template:"clkt",wordbank:"clkw"}},"curl.":{car:"car",pcurl:"pcurl"},dart:"dart","dece.":{data:["uvf","uvvf","uvd","uvvd"],"ttml+xml":["uvt","uvvt"],unspecified:["uvx","uvvx"],zip:["uvz","uvvz"]},dna:"dna",dpgraph:"dpg",dreamfactory:"dfac","dvb.":{ait:"ait",service:"svc"},dynageo:"geo",enliven:"nml","epson.":{esf:"esf",msf:"msf",quickanime:"qam",salt:"slt",ssf:"ssf"},"eszigno3+xml":["es3","et3"],"ezpix-":{album:"ez2",package:"ez3"},fdf:"fdf","fdsn.":{mseed:"mseed",seed:["seed","dataless"]},flographit:"gph",framemaker:["fm","frame","maker","book"],"frogans.":{fnc:"fnc",ltf:"ltf"},"fujitsu.":{oasys:"oas",oasys2:"oa2",oasys3:"oa3",oasysgp:"fg5",oasysprs:"bh2"},"fujixerox.":{ddd:"ddd",docuworks:"xdw","docuworks.binder":"xbd"},fuzzysheet:"fzs","geogebra.":{file:"ggb",tool:"ggt"},geonext:"gxt",geoplan:"g2w",geospace:"g3w",gmx:"gmx",grafeq:["gqf","gqs"],"groove-":{account:"gac",help:"ghf",injector:"grv","tool-":{message:"gtm",template:"tpl"},vcard:"vcg","identity-message":"gim"},"hal+xml":"hal",hbci:"hbci","hp-":{hpgl:"hpgl",hpid:"hpid",hps:"hps",jlyt:"jlt",pcl:"pcl",pclxl:"pclxl"},"ibm.":{minipay:"mpy",modcap:["afp","listafp","list3820"],"rights-management":"irm","secure-container":"sc"},iccprofile:["icc","icm"],igloader:"igl","immervision-":{ivp:"ivp",ivu:"ivu"},intergeo:"i2g","intu.":{qbo:"qbo",qfx:"qfx"},jam:"jam",jisp:"jisp",kahootz:["ktz","ktr"],"kde.":{karbon:"karbon",kchart:"chrt",kformula:"kfo",kivio:"flw",kontour:"kon",kpresenter:["kpr","kpt"],kspread:"ksp",kword:["kwd","kwt"]},kenameaapp:"htke",kidspiration:"kia",kinar:["kne","knp"],koan:["skp","skd","skt","skm"],"lotus-":{approach:"apr",freelance:"pre",notes:"nsf",organizer:"org",screencam:"scm",wordpro:"lwp","1-2-3":"123"},mcd:"mcd",medcalcdata:"mc1",mfer:"mwf",mfmp:"mfm","micrografx.":{flo:"flo",igx:"igx"},mif:"mif","mobius.":{daf:"daf",dis:"dis",mbk:"mbk",mqy:"mqy",msl:"msl",plc:"plc",txf:"txf"},"mophun.":{application:"mpn",certificate:"mpc"},"ms-":{artgalry:"cil",excel:["xls","xlm","xla","xlc","xlt","xlw"],"excel.":{"sheet.":{"macroenabled.12":"xlsm","binary.macroenabled.12":"xlsb"},"addin.macroenabled.12":"xlam","template.macroenabled.12":"xltm"},fontobject:"eot",htmlhelp:"chm",ims:"ims",lrm:"lrm",outlook:"msg",officetheme:"thmx","pki.":{seccat:"cat",stl:"stl"},powerpoint:["ppt","pps","pot"],"powerpoint.":{"addin.macroenabled.12":"ppam","presentation.macroenabled.12":"pptm","slide.macroenabled.12":"sldm","slideshow.macroenabled.12":"ppsm","template.macroenabled.12":"potm"},project:["mpp","mpt"],"word.":{"document.macroenabled.12":"docm","template.macroenabled.12":"dotm"},works:["wps","wks","wcm","wdb"],wpl:"wpl",xpsdocument:"xps","cab-compressed":"cab"},mseq:"mseq",musician:"mus",mynfc:"taglet",nitf:["ntf","nitf"],"noblenet-":{directory:"nnd",sealer:"nns",web:"nnw"},"nokia.":{"radio-":{preset:"rpst",presets:"rpss"},"n-gage.":{data:"ngdat","symbian.install":"n-gage"}},"novadigm.":{edm:"edm",edx:"edx",ext:"ext"},"osgi.":{dp:"dp",subsystem:"esa"},palm:["pdb","pqa","oprc"],pawaafile:"paw","pg.":{format:"str",osasli:"ei6"},picsel:"efif",pocketlearn:"plf",powerbuilder6:"pbd","recordare.":{musicxml:"mxl","musicxml+xml":"musicxml"},"rn-":{realmedia:"rm","realmedia-vbr":"rmvb"},seemail:"see",sema:"sema",semd:"semd",semf:"semf",smaf:"mmf","spotfire.":{dxp:"dxp",sfs:"sfs"},"stardivision.":{calc:"sdc",draw:"sda",impress:"sdd",math:"smf",writer:["sdw","vor"],"writer-global":"sgl"},"stepmania.":{package:"smzip",stepchart:"sm"},svd:"svd","syncml+xml":"xsm","syncml.":{"dm+wbxml":"bdm","dm+xml":"xdm"},trueapp:"tra",ufdl:["ufd","ufdl"],umajin:"umj",unity:"unityweb","uoml+xml":"uoml",vcx:"vcx",visio:["vsd","vst","vss","vsw"],visionary:"vis",vsf:"vsf","Webd.":{wbxml:"wbxml",wmlc:"wmlc",wmlscriptc:"wmlsc"},webturbo:"wtb",wordperfect:"wpd",wqd:"wqd",xara:"xar",xfdl:"xfdl","yamaha.":{"hv-":{dic:"hvd",script:"hvs",voice:"hvp"},openscoreformat:"osf","smaf-":{audio:"saf",phrase:"spf"},"openscoreformat.osfpvg+xml":"osfpvg"},zul:["zir","zirz"],"3gpp2.tcap":"tcap","accpac.simply.":{aso:"aso",imp:"imp"},"ahead.space":"ahead","airzip.filesecure.":{azf:"azf",azs:"azs"},"amazon.ebook":"azw","americandynamics.acc":"acc","amiga.ami":"ami","anser-web-":{"certificate-issue-initiation":"cii","funds-transfer-initiation":"fti"},"aristanetworks.swi":"swi","blueice.multipass":"mpm","cloanto.rp9":"rp9","clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"cluetrust.cartomobile-":{config:"c11amc","config-pkg":"c11amz"},"contact.cmsg":"cdbcmsg","criticaltools.wbs+xml":"wbs","ctc-posml":"pml","cups-ppd":"ppd","dolby.mlp":"mlp","ds-keypoint":"kpxx","ecowin.chart":"mag","fluxtime.clip":"ftc","fsc.weblaunch":"fsc","genomatix.tuxedo":"txd","geometry-explorer":["gex","gre"],"google-earth.":{"kml+xml":"kml",kmz:"kmz"},"handheld-entertainment+xml":"zmm","insors.igm":"igm","intercon.formnet":["xpw","xpx"],"ipunplugged.rcprofile":"rcprofile","irepository.package+xml":"irp","is-xpr":"xpr","isac.fcs":"fcs","kodak-descriptor":"sse","las.las+xml":"lasxml","macports.portpkg":"portpkg","mediastation.cdkey":"cdkey","mozilla.xul+xml":"xul","muvee.style":"msty","neurolanguage.nlu":"nlu","oasis.opendocument.":{chart:"odc",database:"odb",formula:"odf",graphics:"odg",image:"odi",presentation:"odp",spreadsheet:"ods",text:"odt","text-":{master:"odm",template:"ott",web:"oth"},"chart-template":"otc","formula-template":"odft","graphics-template":"otg","image-template":"oti","presentation-template":"otp","spreadsheet-template":"ots"},"olpc-sugar":"xo","oma.dd2+xml":"dd2","openofficeorg.extension":"oxt","openxmlformats-officedocument.":{"presentationml.":{presentation:"pptx",slide:"sldx",slideshow:"ppsx",template:"potx"},"spreadsheetml.":{sheet:"xlsx",template:"xltx"},"wordprocessingml.":{document:"docx",template:"dotx"}},"pmi.widget":"wg","previewsystems.box":"box","proteus.magazine":"mgz","pvi.ptid1":"ptid","quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"realvnc.bed":"bed","rig.cryptonote":"cryptonote","rim.cod":"cod","route66.link66+xml":"link66","sailingtracker.track":"st","shana.informed.":{formdata:"ifm",formtemplate:"itp",interchange:"iif",package:"ipk"},"simtech-mindmapper":["twd","twds"],"smart.teacher":"teacher","solent.sdkm+xml":["sdkm","sdkd"],"sun.xml.":{calc:"sxc",draw:"sxd",impress:"sxi",math:"sxm",writer:"sxw","writer.":{global:"sxg",template:"stw"},"calc.template":"stc","draw.template":"std","impress.template":"sti"},"sus-calendar":["sus","susp"],"symbian.install":["sis","sisx"],"tcpdump.pcap":["pcap","cap","dmp"],"tmobile-livetv":"tmo","trid.tpt":"tpt","triscape.mxs":"mxs","uiq.theme":"utz","wolfram.player":"nbp","wt.stf":"stf","zzazz.deck+xml":"zaz","3gpp.pic-bw-":{large:"plb",small:"psb",var:"pvb"},"3m.post-it-notes":"pwn","android.package-archive":"apk","antix.game-component":"atx","astraea-software.iota":"iota","chipnuts.karaoke-mmd":"mmd","data-vision.rdz":"rdz","denovo.fcselayout-link":"fe_launch","hhe.lesson-player":"les","hydrostatix.sof-data":"sfd-hdstx","jcp.javame.midlet-rms":"rms","joost.joda-archive":"joda","llamagraphics.life-balance.":{desktop:"lbd","exchange+xml":"lbe"},"osgeo.mapguide.package":"mgp","publishare-delta-tree":"qps","tao.intent-module-archive":"tao","yellowriver-custom-menu":"cmp"},"voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-":{abiword:"abw","authorware-":{bin:["aab","x32","u32","vox"],map:"aam",seg:"aas"},bcpio:"bcpio",bittorrent:"torrent",blorb:["blb","blorb"],bzip:"bz",bzip2:["bz2","boz"],cbr:["cbr","cba","cbt","cbz","cb7"],cdlink:"vcd",chat:"chat",conference:"nsc",cpio:"cpio",csh:"csh",director:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],doom:"wad","dtbncx+xml":"ncx","dtbook+xml":"dtb","dtbresource+xml":"res",dvi:"dvi",envoy:"evy",eva:"eva","font-":{bdf:"bdf",ghostscript:"gsf",otf:"otf",pcf:"pcf",snf:"snf",ttf:["ttf","ttc"],type1:["pfa","pfb","pfm","afm"],"linux-psf":"psf"},freearc:"arc",futuresplash:"spl",glulx:"ulx",gnumeric:"gnumeric",gtar:"gtar",hdf:"hdf",latex:"latex",mie:"mie","ms-":{application:"application",shortcut:"lnk",wmd:"wmd",wmz:"wmz",xbap:"xbap"},msaccess:"mdb",msbinder:"obd",mscardfile:"crd",msclip:"clp",msdownload:["exe","dll","com","bat","msi"],msmediaview:["mvb","m13","m14"],msmetafile:["wmf","wmz","emf","emz"],msmoney:"mny",mspublisher:"pub",msschedule:"scd",msterminal:"trm",mswrite:"wri",netcdf:["nc","cdf"],nzb:"nzb",pkcs12:["p12","pfx"],"pkcs7-":{certificates:["p7b","spc"],certreqresp:"p7r"},sh:"sh",shar:"shar",sql:"sql",stuffit:"sit",stuffitx:"sitx",subrip:"srt",sv4cpio:"sv4cpio",sv4crc:"sv4crc",tads:"gam",tar:"tar",tcl:"tcl",tex:"tex",texinfo:["texinfo","texi"],tgif:"obj",ustar:"ustar",xfig:"fig","xliff+xml":"xlf",xpinstall:"xpi",xz:"xz",zmachine:["z1","z2","z3","z4","z5","z6","z7","z8"],"7z-compressed":"7z","ace-compressed":"ace","apple-diskimage":"dmg","cfs-compressed":"cfs","chess-pgn":"pgn","debian-package":["deb","udeb"],"dgc-compressed":"dgc","gca-compressed":"gca","gramps-xml":"gramps","install-instructions":"install","iso9660-image":"iso","lzh-compressed":["lzh","lha"],"mobipocket-ebook":["prc","mobi"],"rar-compressed":"rar","shockwave-flash":"swf","silverlight-app":"xap","t3vm-image":"t3","tex-tfm":"tfm","wais-source":"src","java-jnlp-file":"jnlp","research-info-systems":"ris","x509-ca-cert":["der","crt"]},"xaml+xml":"xaml","xenc+xml":"xenc","xhtml+xml":["xhtml","xht"],xml:["xml","xsl"],"xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xspf+xml":"xspf","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",zip:"zip","andrew-inset":"ez","cu-seeme":"cu","octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy"],"oebps-package+xml":"opf","pics-rules":"prf","prs.cww":"cww","rls-services+xml":"rs","timestamped-data":"tsd","xcap-diff+xml":"xdf","xml-dtd":"dtd","patch-ops-error+xml":"xer","relax-ng-compact-syntax":"rnc"},"audio/":{adpcm:"adp",basic:["au","snd"],midi:["mid","midi","kar","rmi"],mp4:["m4a","mp4a"],mpeg:["mpga","mp2","mp2a","mp3","m2a","m3a"],ogg:["oga","ogg","spx"],s3m:"s3m",silk:"sil","vnd.":{dra:"dra",dts:"dts","nuera.":{ecelp4800:"ecelp4800",ecelp7470:"ecelp7470",ecelp9600:"ecelp9600"},rip:"rip","dece.audio":["uva","uvva"],"digital-winds":"eol","dts.hd":"dtshd","lucent.voice":"lvp","ms-playready.media.pya":"pya"},webm:"weba","x-":{aac:"aac",aiff:["aif","aiff","aifc"],caf:"caf",flac:"flac",matroska:"mka",mpegurl:"m3u","ms-":{wax:"wax",wma:"wma"},"pn-":{realaudio:["ram","ra"],"realaudio-plugin":"rmp"},wav:"wav"},xm:"xm"},"image/":{bmp:"bmp",cgm:"cgm",g3fax:"g3",gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],ktx:"ktx",png:"png",sgi:"sgi","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.":{djvu:["djvu","djv"],dwg:"dwg",dxf:"dxf",fastbidsheet:"fbs",fpx:"fpx",fst:"fst","ms-":{modi:"mdi",photo:"wdp"},xiff:"xif","adobe.photoshop":"psd","dece.graphic":["uvi","uvvi","uvg","uvvg"],"dvb.subtitle":"sub","fujixerox.edmics-":{mmr:"mmr",rlc:"rlc"},"net-fpx":"npx","wap.wbmp":"wbmp"},webp:"webp","x-":{"3ds":"3ds",cmx:"cmx",freehand:["fh","fhc","fh4","fh5","fh7"],icon:"ico",pcx:"pcx",pict:["pic","pct"],"portable-":{anymap:"pnm",bitmap:"pbm",graymap:"pgm",pixmap:"ppm"},rgb:"rgb",tga:"tga",xbitmap:"xbm",xpixmap:"xpm",xwindowdump:"xwd","cmu-raster":"ras","mrsid-image":"sid"},"prs.btif":"btif"},"model/":{iges:["igs","iges"],mesh:["msh","mesh","silo"],"vnd.":{"collada+xml":"dae",dwf:"dwf",gdl:"gdl",gtw:"gtw",mts:"mts",vtu:"vtu"},vrml:["wrl","vrml"],"x3d+binary":["x3db","x3dbz"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":["x3d","x3dz"]},"text/":{calendar:["ics","ifb"],css:"css",csv:"csv",html:["html","htm"],n3:"n3",plain:["txt","text","conf","def","list","log","in"],richtext:"rtx",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl",vcard:"vcard","vnd.":{curl:"curl","curl.":{dcurl:"dcurl",mcurl:"mcurl",scurl:"scurl"},fly:"fly",graphviz:"gv","in3d.":{"3dml":"3dml",spot:"spot"},"wap.":{wml:"wml",wmlscript:"wmls"},"dvb.subtitle":"sub","fmi.flexstor":"flx","sun.j2me.app-descriptor":"jad"},"x-":{asm:["s","asm"],c:["c","cc","cxx","cpp","h","hh","dic"],fortran:["f","for","f77","f90"],nfo:"nfo",opml:"opml",pascal:["p","pas"],setext:"etx",sfv:"sfv",uuencode:"uu",vcalendar:"vcs",vcard:"vcf","java-source":"java"},"cache-manifest":"appcache","uri-list":["uri","uris","urls"],"prs.lines.tag":"dsc","tab-separated-values":"tsv"},"video/":{"3gpp":"3gp","3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],mp4:["mp4","mp4v","mpg4"],mpeg:["mpeg","mpg","mpe","m1v","m2v"],ogg:"ogv",quicktime:["qt","mov"],"vnd.":{"dece.":{hd:["uvh","uvvh"],mobile:["uvm","uvvm"],pd:["uvp","uvvp"],sd:["uvs","uvvs"],video:["uvv","uvvv"]},fvt:"fvt",mpegurl:["mxu","m4u"],vivo:"viv","dvb.file":"dvb","uvvu.mp4":["uvu","uvvu"],"ms-playready.media.pyv":"pyv"},webm:"webm","x-":{f4v:"f4v",fli:"fli",flv:"flv",m4v:"m4v",matroska:["mkv","mk3d","mks"],mng:"mng","ms-":{asf:["asf","asx"],vob:"vob",wm:"wm",wmv:"wmv",wmx:"wmx",wvx:"wvx"},msvideo:"avi",smv:"smv","sgi-movie":"movie"}},"chemical/x-":{cdx:"cdx",cif:"cif",cmdf:"cmdf",cml:"cml",csml:"csml",xyz:"xyz"},"message/rfc822":["eml","mime"],"x-conference/x-cooltalk":"ice"}},35677:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_MIMES=t.MSCFB_MIME=t.MSCFB_HEADER=t.MIMETYPE_DETERMINING_LENGTH=t.MIMETYPES=t.IMAGE_MIMES=t.EXT_TO_MIME=t.DOC_MIMES=t.DOCUMENT_MIMETYPES=void 0,t.getExtension=function(e){const t=d[e];if(!t)return"";return"."+(t.ext||e.split("/")[1]).toLowerCase()},t.getMediaMimeType=function(e,t){const n=t.subarray(0,262),r=(0,l.default)(n);if(r)return r.mime;if("image"===e)return"image/jpeg";throw new s.MediaEncryptionError("unknown mime decrypt error for type:"+e)},t.isAllowedDocumentMimetype=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(const r in E){const i=d[r];if(null==i)continue;const{signatureMimetype:o,ext:a}=i;if((n?o:r)===e&&a&&(null==t?void 0:t.toLowerCase().endsWith(a.toLowerCase())))return r}if(n)return e;return null!=e?e:"application/octet-stream"},t.isMsCompoundFileBinaryFormat=function(e){return(0,o.default)(e,u)},t.isOpus=function(e){if(!e)return!1;return e.includes("audio/ogg")},t.previewType=function(e){const t=d[e];return null==t?void 0:t.previewType};var i=r(n(35937)),o=r(n(22194)),a=r(n(71276)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(91329)),l=r(n(97769));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}t.MIMETYPE_DETERMINING_LENGTH=262;const u=new Uint8Array([208,207,17,224,161,177,26,225]);t.MSCFB_HEADER=u;t.MSCFB_MIME="application/x-cfb";const d={"text/plain":{ext:"TXT",msgType:"document",icon:"icon-doc-txt",canSend:!0},"text/rtf":{ext:"RTF",msgType:"document",icon:"icon-doc-doc",canSend:!0,signatureMimetype:"application/rtf"},"text/vcard":{ext:"VCF",msgType:"vcard"},"application/zip":{ext:"ZIP",icon:"icon-doc-generic",msgType:"document"},"application/pdf":{ext:"PDF",msgType:"document",icon:"icon-doc-pdf",canSend:!0,signatureMimetype:"application/pdf",previewType:"pdf"},"application/msword":{ext:"DOC",msgType:"document",icon:"icon-doc-doc",canSend:!0,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.ms-excel":{ext:"XLS",msgType:"document",icon:"icon-doc-xls",canSend:!0,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.ms-powerpoint":{ext:"PPT",msgType:"document",icon:"icon-doc-ppt",canSend:!0,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{ext:"DOCX",msgType:"document",icon:"icon-doc-doc",canSend:!0,signatureMimetype:"application/zip",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{ext:"PPTX",msgType:"document",icon:"icon-doc-ppt",canSend:!0,signatureMimetype:"application/zip",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{ext:"XLSX",msgType:"document",icon:"icon-doc-xls",canSend:!0,signatureMimetype:"application/zip",previewType:"msoffice"},"audio/aac":{msgType:"audio",ext:"AAC"},"audio/mp4":{msgType:"audio"},"audio/amr":{msgType:"audio"},"audio/mpeg":{msgType:"audio"},"audio/ogg; codecs=opus":{msgType:"audio",ext:"OGG"},"audio/wav":{msgType:"audio",ext:"wav"},"video/mp4":{msgType:"video",ext:"MP4"},"video/3gpp":{msgType:"video"},"image/jpeg":{msgType:"image"},"image/png":{msgType:"image"}},_=d;t.MIMETYPES=_;const p=(0,i.default)(_,(e=>"document"===(null==e?void 0:e.msgType)));t.DOCUMENT_MIMETYPES=p;t.DOC_MIMES="*";t.IMAGE_MIMES="image/*";t.VIDEO_MIMES="video/mp4,video/3gpp,video/quicktime";const f=(0,a.default)();t.EXT_TO_MIME=f;const E=(0,i.default)(d,(e=>"document"===(null==e?void 0:e.msgType)&&!0===e.canSend&&null!=e.ext))},71276:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{const t=null!=e&&""!==e?JSON.parse(e):o.default,n={};return a(t,n,"",""),n}catch(e){return null}};var i=n(25303),o=r(n(87622));function a(e,t,n,r){let o=e;if(Array.isArray(o)||(0,i.isString)(o)){(0,i.isString)(o)&&(o=[o]);for(let e=0;e<o.length;e++){const a=o[e];(0,i.isString)(a)&&(t[a]=r+n)}}else if("object"==typeof o)for(const e in o)a(o[e],t,e,r+n)}},22940:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MEDIA_TYPE_VALUES=t.MEDIA_TYPES=void 0,t.castToV4=function(e){let t;if(null==e)t=c.DOCUMENT;else{if(!(e in c))throw(0,l.default)(`castToV4: unexpected mmsv3 type ${e}`);t=c[e]}return t},t.getMsgMediaType=function(e){return d({type:e.type,interactiveHeader:e.interactiveHeader,isGif:e.type===s.MSG_TYPE.VIDEO&&e.isGif,isNewsletter:(0,a.getIsNewsletterMsg)(e)})},t.msgToMediaType=d;var i=r(n(52628)),o=n(28040),a=n(26368),s=n(73602),l=r(n(89482));const c=Object.freeze({AUDIO:"audio",DOCUMENT:"document",GIF:"gif",IMAGE:"image",NATIVE_FLOW:"native_flow",PPIC:"ppic",PRODUCT:"product",PTT:"ptt",STICKER:"sticker",VIDEO:"video",PTV:"ptv",TEMPLATE:"template",THUMBNAIL_DOCUMENT:"thumbnail-document",THUMBNAIL_IMAGE:"thumbnail-image",THUMBNAIL_VIDEO:"thumbnail-video",THUMBNAIL_LINK:"thumbnail-link",HISTORY_SYNC:"md-msg-hist",MD_APP_STATE:"md-app-state",PRODUCT_CATALOG_IMAGE:"product-catalog-image",PAYMENT_BG_IMAGE:"payment-bg-image",BIZ_COVER_PHOTO:"biz-cover-photo",PREVIEW:"preview",NEWSLETTER_AUDIO:"newsletter-audio",NEWSLETTER_DOCUMENT:"newsletter-document",NEWSLETTER_IMAGE:"newsletter-image",NEWSLETTER_GIF:"newsletter-gif",NEWSLETTER_PTT:"newsletter-ptt",NEWSLETTER_STICKER:"newsletter-sticker",NEWSLETTER_THUMBNAIL_LINK:"newsletter-thumbnail-link",NEWSLETTER_VIDEO:"newsletter-video"});t.MEDIA_TYPES=c;const u=(0,i.default)(c);function d(e){let{type:t,isGif:n,interactiveHeader:r,isNewsletter:i}=e;switch(t){case s.MSG_TYPE.IMAGE:return i?c.NEWSLETTER_IMAGE:c.IMAGE;case s.MSG_TYPE.VIDEO:return i?!0===n?c.NEWSLETTER_GIF:c.NEWSLETTER_VIDEO:!0===n?c.GIF:c.VIDEO;case s.MSG_TYPE.AUDIO:return c.AUDIO;case s.MSG_TYPE.PTT:return c.PTT;case s.MSG_TYPE.PTV:return c.PTV;case s.MSG_TYPE.DOCUMENT:return c.DOCUMENT;case s.MSG_TYPE.STICKER:return c.STICKER;case s.MSG_TYPE.PRODUCT:return c.PRODUCT;case s.MSG_TYPE.NATIVE_FLOW:return c.NATIVE_FLOW;case s.MSG_TYPE.INTERACTIVE:if(null!=(null==r?void 0:r.mediaType))switch(r.mediaType){case o.InteractiveMessageHeaderMediaType.DOCUMENT:return c.DOCUMENT;case o.InteractiveMessageHeaderMediaType.VIDEO:return c.VIDEO;case o.InteractiveMessageHeaderMediaType.IMAGE:return c.IMAGE}}throw(0,l.default)(`msg is not a media msg: ${t}, isGif=${String(n)}`)}t.MEDIA_TYPE_VALUES=u},78615:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.decryptPartialMedia=t.decrypt=t.cleanupCiphertextAndIv=t.HMAC_SIZE=t.BLOCK_SIZE=void 0;var i=r(n(48926)),o=n(58358);t.BLOCK_SIZE=16;t.HMAC_SIZE=10;const a=function(){var e=(0,i.default)((function*(e){const{ciphertext:t,iv:n,mediaKeys:r}=e,{encKey:i}=r;try{const e=yield self.crypto.subtle.importKey("raw",new Uint8Array(i),"AES-CBC",!1,["decrypt"]).catch((e=>{throw __LOG__(2)`decryptPartialMedia:decrypt importKey error: ${String(e)}`,e}));return self.crypto.subtle.decrypt({name:"AES-CBC",iv:n},e,t)}catch(e){throw __LOG__(2)`decryptPartialMedia:decrypt decrypt error: ${String(e)}`,e}}));return function(){return e.apply(this,arguments)}}();t.decrypt=a;const s=function(){var e=(0,i.default)((function*(e){const{ciphertext:t,mediaKeys:n}=e,{encKey:r}=n,i={name:"AES-CBC",iv:(t instanceof Uint8Array?t:new Uint8Array(t)).slice(-16)};try{const e=yield self.crypto.subtle.importKey("raw",new Uint8Array(r),"AES-CBC",!1,["encrypt"]).catch((e=>{__LOG__(2)`decryptPartialMedia:getEncryptedPadding importKey error: ${String(e)}`})),t=new Uint8Array([]);return self.crypto.subtle.encrypt(i,e,t)}catch(e){return void __LOG__(2)`decryptPartialMedia:getEncryptedPadding encrypt error: ${String(e)}`}}));return function(){return e.apply(this,arguments)}}(),l=e=>{const{serverRangeStart:t,ciphertext:n,mediaKeys:r}=e;let i=n instanceof Uint8Array?n:new Uint8Array(n);const a=i.byteLength%16==0;let l;return 0===t?l=new Uint8Array(r.iv):(l=i.slice(0,16),i=i.slice(16)),a||(i=i.slice(0,i.byteLength-10)),a?s({ciphertext:i,mediaKeys:r}).then((e=>(i=(0,o.concatTypedArrays)(Uint8Array,[i,new Uint8Array(e)]),{ciphertext:i,iv:l}))):Promise.resolve({ciphertext:i,iv:l})};t.cleanupCiphertextAndIv=l;const c=function(){var e=(0,i.default)((function*(e){let{mediaKeys:t,ciphertext:n}=e;const{ciphertext:r,iv:i}=yield l({serverRangeStart:0,ciphertext:n,mediaKeys:t});return a({ciphertext:r,iv:i,mediaKeys:t})}));return function(){return e.apply(this,arguments)}}();t.decryptPartialMedia=c},82150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMediaCryptoExpectedForChat=function(e){if((0,o.isNewsletterEnabled)()&&e.isNewsletter)return!1;return!0},t.isMediaCryptoExpectedForMediaType=function(e){if(s(e))return!1;return!0},t.isMediaCryptoExpectedForMsg=function(e){if((0,o.isNewsletterEnabled)()&&(0,i.getIsNewsletterMsg)(e))return!1;return!0},t.isRmrSupportedForMediaType=function(e){if(s(e))return!1;return!0};var r=n(22940),i=n(26368),o=n(88504);const a=new Set([r.MEDIA_TYPES.NEWSLETTER_AUDIO,r.MEDIA_TYPES.NEWSLETTER_DOCUMENT,r.MEDIA_TYPES.NEWSLETTER_GIF,r.MEDIA_TYPES.NEWSLETTER_IMAGE,r.MEDIA_TYPES.NEWSLETTER_PTT,r.MEDIA_TYPES.NEWSLETTER_STICKER,r.MEDIA_TYPES.NEWSLETTER_THUMBNAIL_LINK,r.MEDIA_TYPES.NEWSLETTER_VIDEO]);function s(e){return a.has(e)}},8411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrimaryFeaturesClass=t.PrimaryFeatures=void 0;var r=n(43175);class i extends r.BaseModel{constructor(){super(...arguments),this.features=(0,r.prop)(),this.ddmSettings=(0,r.prop)(!1),this.clearAndDeleteChatSync=(0,r.prop)(!1),this.viewOnceSpReceiver=(0,r.prop)(!1),this.recentSticker=(0,r.prop)(!1),this.favoriteSticker=(0,r.prop)(!1),this.linkPreview=(0,r.prop)(!1),this.hqLinkPreview=(0,r.prop)(!1),this.pollCreationInCags=(0,r.prop)(!1),this.newsletter=(0,r.prop)(!1),this.externalWebBetaOptIn=(0,r.prop)(!1),this.historySyncOnDemand=(0,r.prop)(!1),this.webLinkPreviewNseSupport=(0,r.prop)(!1),this.messagePlaceholderResendNseSupport=(0,r.prop)(!1),this.isPrimaryBetaBuild=(0,r.prop)(!1)}setPrimaryFeatures(e){this.features=e;const t=new Set(e);this.ddmSettings=t.has("ddm_settings"),this.clearAndDeleteChatSync=t.has("clear_and_delete_chat_sync"),this.viewOnceSpReceiver=t.has("vo_sp_receiver"),this.recentSticker=t.has("recent_sticker"),this.favoriteSticker=t.has("favorite_sticker"),this.linkPreview=t.has("link_preview"),this.hqLinkPreview=t.has("link_preview_hq_thumbnail"),this.pollCreationInCags=t.has("poll_creation_cag"),this.newsletter=t.has("newsletter"),this.externalWebBetaOptIn=t.has("external_web_beta_opt_in"),this.historySyncOnDemand=t.has("history_sync_on_demand"),this.webLinkPreviewNseSupport=t.has("web_link_preview_nse_support"),this.messagePlaceholderResendNseSupport=t.has("message_placeholder_resend_nse_support"),this.isPrimaryBetaBuild=t.has("is_primary_beta_build")}}t.PrimaryFeaturesClass=i,i.Proxy="primaryFeatures";const o=new((0,r.defineModel)(i))({id:"1"});t.PrimaryFeatures=o},70997:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.UNINITIALIZED_VALUE_WEB_BIZ_PROFILE_OPTIONS=t.ServerPropsImpl=t.ServerProps=t.DEFAULT_MAX_FILE_SIZE_BYTES=void 0,t.getMaxFilesSizeServerProp=function(){return d.maxFileSize};var i=n(43175),o=r(n(14602)),a=n(49193),s=(n(95160),n(53047));const l=104857600;t.DEFAULT_MAX_FILE_SIZE_BYTES=l;t.UNINITIALIZED_VALUE_WEB_BIZ_PROFILE_OPTIONS=3;const c=604800;class u extends i.BaseModel{constructor(){super(...arguments),this.serverPropsVersion=(0,i.prop)(),this.gifSearch=(0,i.prop)(!1),this.maxParticipants=(0,i.prop)(256),this.maxSubject=(0,i.prop)(25),this.maxElectronFileSize=(0,i.prop)(l),this.maxFileSize=(0,i.prop)(l),this.streamingUploadChunkSize=(0,i.prop)(0),this.groupDescLength=(0,i.prop)(512),this.ephemeralMessagesAllowedValues=(0,i.prop)("604800"),this.wallpapersV2=(0,i.prop)(!1),this.hfmStringChanges=(0,i.prop)(!1),this.mmsVCacheAggregationEnabled=(0,i.prop)(!1),this.mmsHotContentTimespan=(0,i.prop)(0),this.mmsCatV1ForwardHotOverrideEnabled=(0,i.prop)(!1),this.pttConversationWaveform=(0,i.prop)(!1),this.pttOotPlayback=(0,i.prop)(!1),this.pttPausableEnabled=(0,i.prop)(!1),this.pttPlaybackSpeedEnabled=(0,i.prop)(!1),this.pttRememberPlayPosition=(0,i.prop)(!1),this.mmsMediaKeyTTL=(0,i.prop)(1/0),this.webSendDocumentThumbInMessageDisabled=(0,i.prop)(!1),this.webDownloadStatusThumbMmsEnabled=(0,i.prop)(!1),this.statusVideoMaxDuration=(0,i.prop)(30),this.groupCallMaxParticipants=(0,i.prop)(0),this.webVoipMacOsMinVersion=(0,i.prop)(""),this.webVoipWindowsOsMinVersion=(0,i.prop)(""),this.syncdInlineMutationsMaxCount=(0,i.prop)(1e3),this.syncdPatchProtobufMaxSize=(0,i.prop)(100),this.syncdKeyMaxUseDays=(0,i.prop)(30),this.syncdWaitForKeyTimeoutDays=(0,i.prop)(2),this.syncdAdditionalMutations=(0,i.prop)(1),this.syncdSentinelTimeoutSeconds=(0,i.prop)(3),this.syncdPinChatEnabled=(0,i.prop)(!1),this.syncdQPLLoggingEnabled=(0,i.prop)(!1),this.webPaymentBackgroundEnabled=(0,i.prop)(!1),this.webBizProfileOptions=(0,i.prop)(3),this.shopsProductGrid=(0,i.prop)(!1),this.greenAlertBannerDuration=(0,i.prop)(0),this.webProductListMessagePageSize=(0,i.prop)(a.PRODUCT_PAGE_SIZE),this.blockCatalogCreationEcommerceComplianceIndia=(0,i.prop)(!1),this.ecommerceComplianceIndia=(0,i.prop)(!1),this.smbEcommerceComplianceIndiaM4=(0,i.prop)(!1),this.smbEcommerceComplianceIndiaM4_5=(0,i.prop)(!1),this.webLogUploadDownloadCrashes=(0,i.prop)(!1),this.webMdMmsSyncDeletionRequest=(0,i.prop)(!0),this.maxKeys=(0,i.prop)(200)}delete(){super.delete(),this.updateProps({})}initialize(){super.initialize()}updateProps(e){let t=e;s.Global.set({webcBucket:t.bucket||null}),this.__props.forEach((e=>{let n=t[e];void 0===n&&(n="serverPropsVersion"===e?this.serverPropsVersion:this.getDefault(e)),this.set(e,n)}))}extendAndOverrideFromURLParams(e){const t=new o.default(window.location.search),n=e;return this.__props.forEach((e=>{if(!0===t.has(e)){const r=t.get(e);if(null==r)return;"true"===r||"false"===r?n[e]="true"===r:isNaN(r)||isNaN(parseFloat(r))?n[e]=r:n[e]=parseFloat(r)}})),n}getEphemeralMessagesAllowedValues(){try{return this.ephemeralMessagesAllowedValues.split(",").map((e=>parseInt(e,10)))}catch(e){return __LOG__(4,void 0,new Error,!0)`[ephemeral] incorrect type for ephemeralMessagesAllowedValues`,SEND_LOGS("ephemeral"),[c]}}}t.ServerPropsImpl=u,u.Proxy="serverProps";const d=new((0,i.defineModel)(u))({id:"1"});t.ServerProps=d},47656:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMirror=void 0,t.genBitMask=function(e,t){const n=[];for(let r=0;r<t.length;r++){const i=e[`change:${t[r]}`],o=Math.floor(i/32);a(n,o+1),n[o]|=1<<i%32}return n},t.genMirrorMask=function(e){const t={};let n=0;const r=e=>{t[`change:${e}`]=n++};e.props&&Object.keys(e.props).forEach(r);e.session&&Object.keys(e.session).forEach(r);e.derived&&Object.keys(e.derived).forEach(r);return t};var i=r(n(4788));function o(e,t){e[t]=e[e.length-1],e.pop()}function a(e,t){if(t<=e.length)return;const n=t-e.length;for(let t=0;t<n;t++)e.push(0)}t.BaseMirror=class{constructor(e){this.state=e}destructor(){this.state.off("all",this.onGatherEvent,this)}initListener(){this.state.on("all",this.onGatherEvent,this),this.masks=[],this.listeners=[],this.changeEvents=[]}onGatherEvent(e){if("change"===e){if(!this.changeEvents.filter(Boolean).length)return;this.onChange(),this.changeEvents=[]}else{const t=this.state.mirrorMask[e];if(void 0===t)return;const n=t/32|0;a(this.changeEvents,n+1),this.changeEvents[n]|=1<<(t%32|0)}}onChange(){const e=this.state,t=this.changeEvents;(0,i.default)(this.masks,this.listeners).forEach((n=>{let[r,i]=n;const o=Math.min(t.length,r.length);for(let n=0;n<o;n++)if(t[n]&r[n]){const[t,n]=i;null!=t&&null!=n&&t(n,e);break}}))}addListener(e,t,n){this.listeners||this.initListener(),this.masks.push(t),this.listeners.push([e,n])}removeListener(e){const t=this.listeners;for(let n=0;n<t.length;n++)t[n][0]===e&&(t[n][0]=null,t[n][1]=null,o(this.masks,n),o(t,n))}}},43175:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseModel=void 0,Object.defineProperty(t,"collection",{enumerable:!0,get:function(){return f.collection}}),t.defineModel=function(e){const t=(0,f.convert)(e),n=(0,f.stateExtend)(h,t);if(e.Proxy){const r=(0,u.genMirrorMask)(t);n.prototype.mirrorMask=r,n.prototype.proxyName=e.Proxy,(0,E.ProxyStateFactory)(e.Proxy,t,r)}return n},Object.defineProperty(t,"derived",{enumerable:!0,get:function(){return f.derived}}),Object.defineProperty(t,"getter",{enumerable:!0,get:function(){return f.getter}}),Object.defineProperty(t,"prop",{enumerable:!0,get:function(){return f.prop}}),Object.defineProperty(t,"session",{enumerable:!0,get:function(){return f.session}});var i=r(n(81109)),o=r(n(7287)),a=r(n(2525)),s=r(n(14176)),l=r(n(49619)),c=n(25303),u=n(47656),d=n(46316),_=r(n(7880)),p=r(n(40733)),f=n(24393),E=n(44446),A=r(n(89482));const g=/^change:/;class h extends _.default{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),this.stale=(0,f.session)(!1),this.revisionNumber=1,this.__fired=null,this.__changes=null,this.__initialized=!1,t._internalInitializationDoNotUse)return;this.stale=(null==e?void 0:e.stale)||this.getDefault("stale"),this.parent=t.parent,this.collection=t.collection,this._initDeriveds(),this._initCollections();const n=this.__defaults,r=n?(0,i.default)((0,i.default)({},n),e):e;r&&!function(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}(r)&&this.set(r,(0,i.default)({silent:!0},t)),this.initialize(),this.__initialized=!0}initialize(){if(this.collection&&this.id&&!this.collection.modelClass.prototype.isIdType(this.id))throw(0,A.default)(`Model id:${String(this.id)} is wrong type`);this._uiObservers=0,this.mirrorMask&&(this.mirror=new u.BaseMirror(this))}_refreshStaleModel(){if(this._uiObservers||!this.stale){if(!this.getCollection)throw(0,A.default)("base_model:_refreshStaleModel getCollection does not exist");this.getCollection().find(this.id)}}incObservers(e){if(this._uiObservers++,e)return;(0,p.default)(n(69353)).online&&this.stale&&(d.Cmd.uiBusy?this.listenToOnce(d.Cmd,"ui_idle",this._refreshStaleModel):this._refreshStaleModel())}decObservers(){this._uiObservers>0&&this._uiObservers--,0===this._uiObservers&&this.stopListening(d.Cmd,"ui_idle",this._refreshStaleModel)}hasObservers(){return this._uiObservers>0}getObservers_TEST_ONLY(){return null}addChild(e,t){const n={};n[e]=t,this.set(n,{silent:!0}),this.listenTo(t,"all",this._getCachedEventBubblingHandler(e))}get(e){return this[e]}set(e,t,n){var r;let i=n;return"string"==typeof e?this._set(e,t,i):(i=t,(null===(r=i)||void 0===r?void 0:r.merge)?this._set((0,s.default)(e,(e=>void 0===e)),i):this._set(e,i))}_markChange(e,t){this.__initialized&&(this._getChanges().push({key:e,oldValue:t}),this.__fired&&(this.__fired[e]=!1))}_set(e,t,n){this.revisionNumber++;const r=!!this.__changes,[i,o]=(0,c.isString)(e)?[{[e]:t},n]:[e,t],a=new Set;if(Object.keys(i).forEach((e=>{const t=this._setKV(e,i[e],o);null==t||t.forEach((e=>{a.add(e)}))})),a.size>0){const e=(0,l.default)(this._topo,"_topo unexpectedly undefined"),t=(0,l.default)(this._topoIndexMap,"this._topoIndexMap");for(let n=0;n<e.length;n++){const r=e[n];if(!a.has(r))continue;const i=this._setD(r);null==i||i.forEach((e=>{if((0,l.default)(t.get(e),"topoIndexMap.get(dirtyDer)")<n)throw(0,A.default)("Circular derived properties / event listeners");a.add(e)}))}}if(!(null==o?void 0:o.silent)&&this.hasUnfiredChanges()){const e=this.__fired={},t=this._getChanges(),n=t.length>0;for(;t.length;){const{key:n,oldValue:r}=t.shift();if(!e[n]){e[n]=!0;const t=this._definition[n].evt;if(this.isListening(t)||this.isListening("all")){const e=this[n];this.trigger(t,this,e,r)}}}(n&&this.isListening("change")||this.isListening("all"))&&this.trigger("change",this)}return r||(this.__changes&&(this.__changes=null),this.__fired&&(this.__fired=null)),this}_setKV(e,t,n){var r;if(this._collections[e])return void this[e].set(t,n);const i=this._definition[e];if(!i)return void(this[e]=t);if(i.attr===f.Attr.DERIVED)throw(0,A.default)(`Attempting to directly set derived property: ${e}`);const o=i.sk,a=this[e];return t!==a?(this[o]=t,this._markChange(e,a),null===(r=this._deps)||void 0===r?void 0:r[e]):void 0}_setD(e){var t;const n=this._definition[e],r=n.sk,i=n.fn.call(this),o=this[r];if(i!==o)return this[r]=i,this._markChange(e,o),null===(t=this._deps)||void 0===t?void 0:t[e]}hasUnfiredChanges(){const e=this.__fired,t=this.__changes;if(!t)return!1;if(!e)return!0;for(let n=0;n<t.length;n++)if(!e[t[n].key])return!0;return!1}_getChanges(){return this.__changes||(this.__changes=[])}_initDeriveds(){this.__derived.forEach((e=>{this[this._definition[e].sk]=f.INIT}))}_initCollections(){(0,a.default)(this._collections,((e,t)=>{this[t]=new e(null,{parent:this})}))}unset(e,t){const n=Array.isArray(e)?e:[e];this.set((0,o.default)(n),t)}clear(){this.unset([...this.__props,...this.__session])}delete(){this.stopListening()}reset(){this.set(this.__defaults)}toJSON(){return this.serialize()}serialize(){const e={};for(let t=0;t<this.__props.length;t++)e[this.__props[t]]=this[this.__props[t]];return(0,a.default)(this._collections,((t,n)=>{e[n]=this[n].serialize()})),e}getDefault(e){const t=this._definition[e];if(!t)return;const n=t.defaultValue;return(0,c.isFunction)(n)?n():n}_getCachedEventBubblingHandler(e){return function(t,n,r){g.test(t)?this.trigger("change:"+e+"."+t.split(":")[1],n,r):"change"===t&&this.trigger("change",this)}.bind(this)}static isIdType(e){return!(!this.allowedIds||!this.allowedIds.includes(e))||(this.idClass?e instanceof this.idClass:"string"==typeof e)}pp(){}}t.BaseModel=h},24393:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.NO_DEFAULT_VALUE=t.INIT=t.Attr=void 0,t.collection=function(e){return{val:e,type:m}},t.convert=function(e){const t=new e({},{_internalInitializationDoNotUse:!0}),n={name:e.name||"Unknown",props:{},session:{},derived:{},collections:{},isIdType:e.isIdType};e.Collection&&(n.Collection=e.Collection);e.idClass&&(n.idClass=e.idClass);e.allowedIds&&(n.allowedIds=e.allowedIds);const r=new Set(["constructor"]),i=new Set(["collection","parent","revisionNumber","__changes","__fired","__initialized"]),o=new Map(v(t).filter((e=>{let[t,n]=e;return!i.has(t)&&(null==n?void 0:n.type)===T})).map((e=>{let[t,{fn:n}]=e;return[n,t]}))),c=(0,l.default)((e=>{var t;const n=(0,s.default)(null!==(t=e.dependencies)&&void 0!==t?t:[],(e=>{if(null!=e.dependencyKey)return[e.dependencyKey];const t=o.get(e);return null!=t?[t]:c(e)}));return Array.from(new Set(n))}));v(t).forEach((t=>{let[o,s]=t;if(!i.has(o)&&null!=s)switch(s.type){case g:n.props[o]=I(s);break;case h:n.session[o]=I(s);break;case S:n.derived[o]=(0,a.default)(s,"type"),r.add(s.fn.name);break;case T:{const e=s.fn;n.derived[o]={fn(){return e(this)},deps:c(e)},r.add(e.name);break}case m:n.collections[o]=s.val;break;default:throw(0,_.default)(`Invalid defineModel Class type for ${e.name}:${o}.`)}}));const u=function(e){const t={},n=Object.getPrototypeOf({});let r=e;Object.getOwnPropertyNames(r).forEach((e=>{"function"==typeof r[e]&&(t[e]=r[e])}));for(;(r=Object.getPrototypeOf(r))&&r!==n;)Object.getOwnPropertyNames(r).forEach((e=>{e in t||(t[e]=r[e])}));return t}(t);return r.forEach((e=>{delete u[e]})),Object.assign(n,u),n},t.derived=function(e,t){return{fn:e,deps:t,type:S}},t.getter=function(e){return{fn:e,type:T}},t.prop=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;const t={defaultValue:e,type:g};return t},t.session=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;const t={defaultValue:e,type:h};return t},t.stateExtend=function(e,t){const n=(0,u.default)(t.name,"protoDef.name");delete t.name;const r=function(e,t){return{[t]:class extends e{}}[t]}(e,n),s=r.prototype,l=s.__props=[],c=s.__session=[],d=s.__derived=[],A=s._collections={},g=s._definition={},h=s._derived={};(0,o.default)(t.props,(function(e,t){l.push(t),C(s,t,e,E.PROP)})),(0,o.default)(t.session,(function(e,t){c.push(t),C(s,t,e,E.SESSION)})),(0,o.default)(t.derived,(function(e,t){d.push(t),function(e,t,n){const r=y(t),i=n.fn;e._definition[t]=e._derived[t]={sk:r,evt:"change:"+t,attr:E.DERIVED,fn:i,deps:n.deps},Object.defineProperty(e,t,{get(){const e=this[r];if(e!==f)return e;const t=i.call(this);return this[r]=t,t},set(){throw new TypeError(`'${t}' is a derived property, it can't be set directly.`)}})}(s,t,e)})),(0,o.default)(t.collections,(function(e,t){A[t]=e})),Object.assign(s,(0,a.default)(t,["props","session","derived","collections"]));const S=l.concat(c),T=S.length;Object.defineProperties(s,{attributes:{get(){const e={};for(let t=0;t<T;++t)e[S[t]]=this[S[t]];return e}},isState:{get:()=>!0,set(){throw(0,_.default)("attempt to set isState")}}});const m={};for(let e=0;e<T;e++){const t=S[e];"defaultValue"in g[t]&&(m[t]=f)}(0,i.default)(m)||(s.__defaults=m);if(d.length){const e=[],t={},n={};(0,o.default)(h,((r,i)=>{n[i]=!0,(0,o.default)(r.deps,(r=>{n[r]=!0,(t[r]||(t[r]=[])).push(i),e.push([i,r])}))})),e.length&&(s._deps=t,s._topo=p.default.array(Object.keys(n),e).reverse(),s._topoIndexMap=new Map(s._topo.map(((e,t)=>[e,t]))))}return r};var i=r(n(41609)),o=r(n(2525)),a=r(n(57557)),s=r(n(94654)),l=r(n(88306)),c=r(n(13218)),u=r(n(49619)),d=n(25303),_=r(n(89482)),p=r(n(94633));const f={sentinel:"DEFAULT VALUE PLACEHOLDER"};t.INIT=f;const E={PROP:"PROP",SESSION:"SESSION",DERIVED:"DERIVED"};t.Attr=E;const A=Symbol("NO_DEFAULT_VALUE");t.NO_DEFAULT_VALUE=A;const g="Props",h="Session",S="Derived",T="Getter",m="Collection";function I(e){const t=e.defaultValue;return t===A?{}:{defaultValue:t}}function y(e){return"__x_"+e}function C(e,t,n,r){if(!(0,c.default)(n))throw(0,_.default)("Invalid Prop/Session definition.");const i={sk:y(t),evt:`change:${t}`,attr:r};void 0!==n.defaultValue&&(i.defaultValue=n.defaultValue),e._definition[t]=i;const o=(0,d.isFunction)(i.defaultValue);if(null!=i.defaultValue&&!o){if(Array.isArray(i.defaultValue))throw(0,_.default)("Do not return mutable types as default values as they are shared. Type: Array provided.");if((0,c.default)(i.defaultValue))throw(0,_.default)("Do not return mutable types as default values as they are shared. Type: WAUnsafeObjectType provided.")}const a=i.sk;Object.defineProperty(e,t,{set(e){this.set(t,e)},get(){const e=this[a];return e!==f?e:o?this[a]=i.defaultValue():i.defaultValue}})}function v(e){const t=[];for(const n in e)"function"!=typeof e[n]&&t.push([n,e[n]]);return t}},44446:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyStates=t.ProxyStateFactory=t.DuplicatedProxyProperty=void 0;var i=r(n(6479)),o=n(66911);const a=["props","session","collections","derived"];class s extends((0,o.customError)("DuplicatedProxyProperty")){}t.DuplicatedProxyProperty=s;const l={};t.ProxyStates=l;t.ProxyStateFactory=(e,t,n)=>{const{props:r,session:o,collections:c,derived:u}=t,d=(0,i.default)(t,a),_=function(e){this.$ProxyState$state=e},p={};if([r,o,c,u].forEach((t=>{t&&Object.keys(t).forEach((t=>{p[t]={get(){return __LOG__(3)`Cannot read proxy property "${e}.${t}" created in <${this.$ProxyState$ComponentName}/>. Make sure it is in your list of concerns.`,this.$ProxyState$state[t]},set(n){__LOG__(4,void 0,new Error,!0)`Cannot write proxy property "${e}.${t}" created in <${this.$ProxyState$ComponentName}/>. Make sure it is in your list of concerns.`,SEND_LOGS("Invalid ProxyState Write"),this.$ProxyState$state[t]=n}}}))})),p.proxyName={value:e},p.mirrorMask={value:n},["set","get",...Object.keys(d)].forEach((e=>{p[e]={value(){const t=this.$ProxyState$state;return t[e].apply(t,arguments)}}})),(_.prototype=Object.create(null,p)).constructor=_,e in l)throw new s(`Duplicated proxy property "${e}".`);l[e]=_}},20992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unproxy=function(e){if(null==e?void 0:e.$ProxyState$state)return e.$ProxyState$state;return e}},24992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=void 0,t.isFutureproofMsg=function(e){return e===r.MSG_TYPE.UNKNOWN},t.isNotificationType=function(e,t){switch(e){case r.MSG_TYPE.GP2:case r.MSG_TYPE.BROADCAST_NOTIFICATION:case r.MSG_TYPE.NOTIFICATION:case r.MSG_TYPE.NOTIFICATION_TEMPLATE:case r.MSG_TYPE.E2E_NOTIFICATION:case r.MSG_TYPE.CALL_LOG:case r.MSG_TYPE.PINNED_MESSAGE:case r.MSG_TYPE.NEWSLETTER_NOTIFICATION:return!0;case r.MSG_TYPE.PROTOCOL:return"ephemeral_setting"===t||"share_phone_number"===t;default:return!1}},t.isPlaceholderMsg=function(e){return e===r.MSG_TYPE.CIPHERTEXT};var r=n(73602);const i=n(76672)({DEFAULT:"d",SIGNIFICANT:"s",AMBIENT:"a",NOTEWORTHY:"n",IGNORE:"i"});t.EventType=i},25882:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.msgDataFromMsgModel=function e(t){const n=t.toJSON();return(0,i.default)((0,i.default)({},n),{},{paymentNoteMsg:n.paymentNoteMsg?e(n.paymentNoteMsg):void 0})};var i=r(n(81109))},70760:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.eventTypeFromMsgType=function(e){const t=e.type,n=e.subtype;let r;r=t===s.MSG_TYPE.GP2?"subject"===n?a.EventType.NOTEWORTHY:"add"===n||"invite"===n||"invite_auto_add"===n||"linked_group_join"===n||"community_invite_auto_add_rich"===n?e.recipients&&(0,l.isMePrimary)(e.recipients[0])?a.EventType.SIGNIFICANT:a.EventType.IGNORE:"linked_group_promote"===n||"linked_group_demote"===n?c.default.isGroup(e.id.remote)&&e.recipients&&(0,l.isMePrimary)(e.recipients[0])&&!(0,l.isMeAccount)(e.author)?a.EventType.SIGNIFICANT:a.EventType.IGNORE:"remove"===n?e.recipients&&(0,l.isMePrimary)(e.recipients[0])?a.EventType.NOTEWORTHY:a.EventType.IGNORE:"create"===n||"empty_subgroup_create"===n?a.EventType.NOTEWORTHY:"parent_group_link"===n||"auto_add"===n||"default_sub_group_admin_add"===n||"community_participant_add_rich"===n||"subgroup_admin_triggered_auto_add"===n||"subgroup_admin_triggered_invite_auto_add"===n||"community_invite_rich"===n||"sub_group_participant_add_rich"===n||"sub_group_invite_rich"===n||"community_link_parent_group_rich"===n?a.EventType.SIGNIFICANT:"sibling_group_link"===n||"membership_approval_request"===n||"created_membership_requests"===n||"sibling_group_unlink"===n?a.EventType.NOTEWORTHY:a.EventType.IGNORE:t===s.MSG_TYPE.BROADCAST_NOTIFICATION||t===s.MSG_TYPE.NOTIFICATION||t===s.MSG_TYPE.E2E_NOTIFICATION?"create"===n?a.EventType.NOTEWORTHY:a.EventType.IGNORE:t===s.MSG_TYPE.GROUPS_V4_INVITE&&(0,l.isMePrimary)(e.from)?a.EventType.IGNORE:t===s.MSG_TYPE.CALL_LOG?a.EventType.NOTEWORTHY:e.broadcast?c.default.isBroadcast(e.id.remote)?a.EventType.NOTEWORTHY:a.EventType.IGNORE:t===s.MSG_TYPE.REVOKED?a.EventType.IGNORE:c.default.isPSA(e.id.remote)?e.ack===i.ACK.RECEIVED?a.EventType.DEFAULT:a.EventType.AMBIENT:t===s.MSG_TYPE.CIPHERTEXT||t===s.MSG_TYPE.OVERSIZED?a.EventType.AMBIENT:t===s.MSG_TYPE.NOTIFICATION_TEMPLATE?"sender_invite"===n||("chat_assignment"===n||"chat_assignment_unassign"===n)&&(0,o.shouldReorderChatOnAssignment)("chat_assignment_unassign"===n)?a.EventType.NOTEWORTHY:a.EventType.IGNORE:t===s.MSG_TYPE.PROTOCOL&&"ephemeral_setting"===n||t===s.MSG_TYPE.UNKNOWN&&e.futureproofType===s.MSG_TYPE.REACTION||t===s.MSG_TYPE.REACTION?a.EventType.IGNORE:a.EventType.DEFAULT;return r};var i=n(77630),o=n(56660),a=n(24992),s=n(73602),l=n(3885),c=r(n(27112))},59024:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PARSED_PROTOCOL_MESSAGE_TYPE=void 0;const n=Object.freeze({HISTORY:"history",APP_STATE_SYNC_KEY_SHARE:"appStateSyncKeyShare",APP_STATE_SYNC_KEY_REQUEST:"appStateSyncKeyRequest",PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:"peerDataOperationRequestResponseMessage",PEER_DATA_OPERATION_REQUEST_MESSAGE:"peerDataOperationRequestMessage"});t.PARSED_PROTOCOL_MESSAGE_TYPE=n},93828:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getInteractiveWamType=d,t.getMessageTypeFromMsgInfoType=function(e){switch(e){case"chat":return c.MESSAGE_TYPE.INDIVIDUAL;case"group":return c.MESSAGE_TYPE.GROUP;case"peer_broadcast":case"other_broadcast":return c.MESSAGE_TYPE.BROADCAST;case"direct_peer_status":case"other_status":return c.MESSAGE_TYPE.STATUS}},t.getWamAgentEngagementType=function(e){if(e.id.remote.isBot())return c.AGENT_ENGAGEMENT_ENUM_TYPE.DIRECT_CHAT;const t=(0,a.getIsBotQuery)(e),n=(0,a.getIsBotResponse)(e);if(t||n)return c.AGENT_ENGAGEMENT_ENUM_TYPE.INVOKED;return null},t.getWamE2eSenderType=function(e){if(!(e instanceof u.default))return null;if((0,l.isMeAccount)(e))return e.isCompanion()?c.E2E_SENDER_TYPE.MY_COMPANION:c.E2E_SENDER_TYPE.MY_PRIMARY;return e.isCompanion()?c.E2E_SENDER_TYPE.OTHER_COMPANION:c.E2E_SENDER_TYPE.OTHER_PRIMARY},t.getWamMediaType=function(e){if(!0===e.isDynamicReplyButtonsMsg)return c.MEDIA_TYPE.BUTTON_MESSAGE;switch(e.type){case"image":return c.MEDIA_TYPE.PHOTO;case"video":return!0===e.isGif?c.MEDIA_TYPE.GIF:c.MEDIA_TYPE.VIDEO;case"ptv":return c.MEDIA_TYPE.PUSH_TO_VIDEO;case"audio":return c.MEDIA_TYPE.AUDIO;case"ptt":return c.MEDIA_TYPE.PTT;case"document":return c.MEDIA_TYPE.DOCUMENT;case"unknown":return c.MEDIA_TYPE.FUTURE;case"location":return!0===e.isLive?c.MEDIA_TYPE.LIVE_LOCATION:c.MEDIA_TYPE.LOCATION;case"vcard":return c.MEDIA_TYPE.CONTACT;case"multi_vcard":return c.MEDIA_TYPE.CONTACT_ARRAY;case"chat":return null!=e.matchedText?(0,i.matchCatalogUrl)(e.matchedText)?c.MEDIA_TYPE.CATALOG_LINK:(0,i.matchProductUrl)(e.matchedText)?c.MEDIA_TYPE.PRODUCT_LINK:c.MEDIA_TYPE.URL:c.MEDIA_TYPE.NONE;case"sticker":return c.MEDIA_TYPE.STICKER;case"product":return c.MEDIA_TYPE.PRODUCT_IMAGE;case"list":var t,n;switch(null!==(t=null===(n=e.list)||void 0===n?void 0:n.listType)&&void 0!==t?t:s.Message$ListMessage$ListType.UNKNOWN){case s.Message$ListMessage$ListType.SINGLE_SELECT:return c.MEDIA_TYPE.LIST;case s.Message$ListMessage$ListType.PRODUCT_LIST:return c.MEDIA_TYPE.PRODUCT_LIST;default:return c.MEDIA_TYPE.NONE}case"list_response":return c.MEDIA_TYPE.LIST_REPLY;case"buttons_response":return c.MEDIA_TYPE.BUTTON_RESPONSE_MESSAGE;case"order":return c.MEDIA_TYPE.ORDER;case"interactive":return d(e.interactiveType);case"reaction":case"reaction_enc":return c.MEDIA_TYPE.REACTION;case"poll_creation":return c.MEDIA_TYPE.POLL_CREATE;case"poll_update":return"poll_vote"===e.subtype?c.MEDIA_TYPE.POLL_VOTE:c.MEDIA_TYPE.NONE;case"keep_in_chat":return e.keepType===s.KeepType.KEEP_FOR_ALL?c.MEDIA_TYPE.KEEP:c.MEDIA_TYPE.UNKEEP;case"pin_message":return c.MEDIA_TYPE.PIN_IN_CHAT;case"biz-cover-photo":case"broadcast_notification":case"call_log":case"ciphertext":case"debug":case"e2e_notification":case"gp2":case"groups_v4_invite":case"hsm":case"interactive_response":case"native_flow":case"newsletter_notification":case"notification":case"notification_template":case"oversized":case"payment":case"pinned_message":case"protocol":case"request_phone_number":case"revoked":case"status_v3":case"template_button_reply":case"enc_comment":return c.MEDIA_TYPE.NONE;default:return e.type,c.MEDIA_TYPE.NONE}},t.getWamMessageType=function(e){if((0,a.getIsStatusV3)(e))return c.MESSAGE_TYPE.STATUS;if((0,a.getIsGroupMsg)(e))return c.MESSAGE_TYPE.GROUP;if(u.default.isBroadcast(e.id.remote))return c.MESSAGE_TYPE.BROADCAST;if(u.default.isNewsletter(e.id.remote))return c.MESSAGE_TYPE.CHANNEL;return c.MESSAGE_TYPE.INDIVIDUAL};var i=n(42017),o=(n(12987),r(n(80081))),a=n(26368),s=n(77026),l=n(3885),c=n(8414),u=r(n(27112));function d(e){if(null==e)return c.MEDIA_TYPE.NONE;switch(e){case o.default.SHOPS_STOREFRONT:return c.MEDIA_TYPE.SHOP_STOREFRONT;case o.default.NATIVE_FLOW:return c.MEDIA_TYPE.INTERACTIVE_NFM}}},14538:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.paramsJsonToOrderInfo=t.getOrderInfo=t.getCustomItemIdPrefix=void 0;var i=r(n(81109)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(21282)),a=r(n(30266)),s=r(n(80081)),l=n(73602),c=r(n(9539));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){var t;const n=null==e?void 0:e.value;if(null==n)return;const r=null!==(t=null==e?void 0:e.offset)&&void 0!==t?t:1;return parseFloat(null!=n?n:0)/parseInt(r,10)}const _=()=>"custom-item";t.getCustomItemIdPrefix=_;const p=(e,t)=>{var n,r;if("review_and_pay"!==e||null==t)return null;const a=o.parse(t),{order:s,currency:l,reference_id:u,external_payment_configurations:_}=a,p=d(a.total_amount),f=null!==(n=null==s?void 0:s.items)&&void 0!==n?n:[],E=f.map((e=>{var t,n,r,i,o,a,s;return{id:null!==(t=null!==(n=null==e?void 0:e.product_id)&&void 0!==n?n:null==e?void 0:e.retailer_id)&&void 0!==t?t:"",name:null!==(r=null==e?void 0:e.name)&&void 0!==r?r:"",amount:d(null==e?void 0:e.amount),quantity:parseInt(null!==(i=null==e?void 0:e.quantity)&&void 0!==i?i:0,10),isCustomItem:null!==(o=null==e?void 0:e.isCustomItem)&&void 0!==o?o:0===(null==e||null===(a=e.retailer_id)||void 0===a?void 0:a.indexOf("custom-item")),isQuantitySet:null===(s=null==e?void 0:e.isQuantitySet)||void 0===s||s}})),A=E.reduce(((e,t)=>e+t.quantity),0),g=null===(r=f[0])||void 0===r?void 0:r.name;if(null==g||null==u||null==l||null==p)return null;const h=d(null==s?void 0:s.shipping),S=d(null==s?void 0:s.tax),T=d(null==s?void 0:s.discount),m=d(null==s?void 0:s.subtotal),I=function(e){return null==e?null:(0,c.default)(e.map((e=>null!=(null==e?void 0:e.type)?(0,i.default)({type:e.type},null!=e.payment_instruction?{paymentInstruction:e.payment_instruction}:{}):null)))}(_);return(0,i.default)({title:g,referenceId:u,currency:l,quantity:A,shipping:h,tax:S,discount:T,subtotal:m,totalAmount:p,items:E,type:a.type},null!=I?{externalPaymentConfigurations:I}:{})};t.paramsJsonToOrderInfo=p;t.getOrderInfo=e=>{var t;if(e.nativeFlowName!==a.default.ORDER_DETAILS)return null;if(e.type===l.MSG_TYPE.INTERACTIVE&&e.interactiveType===s.default.NATIVE_FLOW&&(null===(t=e.interactivePayload)||void 0===t?void 0:t.buttons)){const{name:t,buttonParamsJson:n}=e.interactivePayload.buttons[0];return p(t,n)}if(e.type===l.MSG_TYPE.NATIVE_FLOW){var n;const{nativeFlowInfo:t}=(null!==(n=e.nativeFlowButtons)&&void 0!==n?n:[])[0];return p(null==t?void 0:t.name,null==t?void 0:t.paramsJson)}}},79596:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getNativeFlowNameByButtonName=function(e){switch(e){case"review_and_pay":return s.default.ORDER_DETAILS;case"review_order":return s.default.ORDER_STATUS;case"payment_status":return s.default.PAYMENT_STATUS;case"payment_method":return s.default.PAYMENT_METHOD;case"open_webview":return s.default.MESSAGE_WITH_LINK;case"message_with_link_status":return s.default.MESSAGE_WITH_LINK_STATUS;case"cta_url":return s.default.CTA_URL;case"cta_call":return s.default.CTA_CALL;case"quick_reply":return s.default.QUICK_REPLY;case"cta_catalog":return s.default.CTA_CATALOG}},t.isValidNativeFlowMessage=void 0;var i=n(56660),o=n(24867),a=n(36659),s=r(n(30266)),l=n(14538),c=n(7554),u=n(37954);t.isValidNativeFlowMessage=e=>{if(null==e.nativeFlowName)return!1;switch(e.nativeFlowName){case s.default.ORDER_DETAILS:return null!=(0,l.getOrderInfo)(e);case s.default.ORDER_STATUS:return null!=(0,u.getOrderStatusInfo)(e);case s.default.PAYMENT_STATUS:case s.default.PAYMENT_METHOD:return null!=(0,c.getOrderPaymentStatusInfoFromNativeFlow)(e);case s.default.MESSAGE_WITH_LINK:return null!=(0,a.getOpenMessageWithLinkAction)(e);case s.default.MESSAGE_WITH_LINK_STATUS:return(0,i.isMessageWithLinkNfmEnabled)();case s.default.CTA_CALL:case s.default.CTA_URL:case s.default.QUICK_REPLY:case s.default.CTA_CATALOG:return(0,i.isInteractiveCtaMessageEnabled)()&&null!=(0,o.getNativeFlowCtasFromInteractiveMsg)(e)}}},7554:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.paramsJsonToOrderPaymentInfo=t.getOrderPaymentStatusInfoFromNativeFlow=t.getOrderPaymentStatusInfo=t.getButtonNativeFlowFromInteractiveMsg=t.findLastOrderPaymentStatusInfo=t.OrderPaymentStatus=t.OrderPaymentMethod=t.MESSAGE_LOOKUP_OFFSET=void 0;var i=r(n(30988)),o=r(n(30266)),a=r(n(80081)),s=n(73602);t.MESSAGE_LOOKUP_OFFSET=-1e3;const l=n(76672)({Pending:"pending",Captured:"captured"});t.OrderPaymentStatus=l;const c=n(76672)({Confirm:"confirm",PaymentInstruction:"payment_instruction"});t.OrderPaymentMethod=c;const u=(e,t)=>{if("review_and_pay"!==e&&"payment_status"!==e&&"payment_method"!==e)return null;let n={};try{n=JSON.parse(t)}catch(e){return null}if(null==n)return null;const{reference_id:r,payment_method:i,payment_status:o}=n;return null==r?null:{refId:r,paymentMethod:i,paymentStatus:o}};t.paramsJsonToOrderPaymentInfo=u;const d=e=>{var t;if(e.type===s.MSG_TYPE.INTERACTIVE&&e.interactiveType===a.default.NATIVE_FLOW&&(e.nativeFlowName===o.default.ORDER_DETAILS||e.nativeFlowName===o.default.PAYMENT_METHOD)&&(null===(t=e.interactivePayload)||void 0===t?void 0:t.buttons)){const t=e.interactivePayload,{name:n,buttonParamsJson:r}=t.buttons[0];if(null!=n&&null!=r)return u(n,r)}return null};t.getOrderPaymentStatusInfo=d;const _=e=>{var t;return e.type!==s.MSG_TYPE.INTERACTIVE||e.interactiveType!==a.default.NATIVE_FLOW||e.nativeFlowName!==o.default.PAYMENT_STATUS&&e.nativeFlowName!==o.default.PAYMENT_METHOD||!(null===(t=e.interactivePayload)||void 0===t?void 0:t.buttons)?null:e.interactivePayload.buttons[0]};t.getButtonNativeFlowFromInteractiveMsg=_;const p=e=>{const t=_(e);if(null==t)return null;const{name:n,buttonParamsJson:r}=t;return null!=n&&null!=r?u(n,r):null};t.getOrderPaymentStatusInfoFromNativeFlow=p;t.findLastOrderPaymentStatusInfo=(e,t)=>{const n=e.msgs.getModelsArray().slice(-1e3);let r=null;return null!=(0,i.default)(n,(e=>{var n;if(e.type===s.MSG_TYPE.UNKNOWN&&"phone_only_feature"===e.subtype&&null!=e.quotedMsg){if(r=d(e.quotedMsg),(null===(n=r)||void 0===n?void 0:n.refId)===t)return!0}else if(e.type===s.MSG_TYPE.INTERACTIVE&&e.interactiveType===a.default.NATIVE_FLOW&&(e.nativeFlowName===o.default.PAYMENT_STATUS||e.nativeFlowName===o.default.PAYMENT_METHOD)){var i;if(r=p(e),(null===(i=r)||void 0===i?void 0:i.refId)===t)return!0}return!1}))&&null!=r?r:null}},37954:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.paramsJsonToOrderStatusInfo=t.getOrderStatusInfo=t.getDefaultOrderStatus=t.findOrderStatusMessage=t.findOrderStatus=t.findOrderDetailsMessage=t.OrderStatus=void 0;var i=r(n(30988)),o=r(n(30266)),a=r(n(80081)),s=n(73602),l=n(14538);const c=n(76672)({Pending:"pending",Processing:"processing",PartiallyShipped:"partially_shipped",Shipped:"shipped",Complete:"completed",Canceled:"canceled"});t.OrderStatus=c;const u=(e,t)=>{if("review_order"!==e||null==t)return null;const{order:n,reference_id:r}=JSON.parse(t),i=c.cast(null==n?void 0:n.status);return null==i||null==r?null:{refId:r,status:i}};t.paramsJsonToOrderStatusInfo=u;const d=e=>{var t;if(e.nativeFlowName!==o.default.ORDER_STATUS)return null;if(e.type===s.MSG_TYPE.INTERACTIVE&&e.interactiveType===a.default.NATIVE_FLOW&&(null===(t=e.interactivePayload)||void 0===t?void 0:t.buttons)){const{name:t,buttonParamsJson:n}=e.interactivePayload.buttons[0];return u(t,n)}if(e.type===s.MSG_TYPE.NATIVE_FLOW){var n;const{nativeFlowInfo:t}=(null!==(n=e.nativeFlowButtons)&&void 0!==n?n:[])[0];return u(null==t?void 0:t.name,null==t?void 0:t.paramsJson)}};t.getOrderStatusInfo=d;t.findOrderDetailsMessage=(e,t)=>{var n;const r=e.msgs.getModelsArray().slice(-1e3);return null===(n=(0,i.default)(r,(e=>{var n;return e.nativeFlowName===o.default.ORDER_DETAILS&&(null===(n=(0,l.getOrderInfo)(e))||void 0===n?void 0:n.referenceId)===t})))||void 0===n?void 0:n.safe()};const _=(e,t)=>{var n;const r=e.msgs.getModelsArray().slice(-1e3);return null===(n=(0,i.default)(r,(e=>{var n;return e.nativeFlowName===o.default.ORDER_STATUS&&(null===(n=d(e))||void 0===n?void 0:n.refId)===t})))||void 0===n?void 0:n.safe()};t.findOrderStatusMessage=_;const p=()=>c.Pending;t.getDefaultOrderStatus=p;t.findOrderStatus=(e,t)=>{var n;const r=_(e,t),i=null!=r?d(r):null;return null!==(n=null==i?void 0:i.status)&&void 0!==n?n:p()}},60001:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(65982),a=n(83741),s=n(50790),l=r(n(95432)),c=r(n(25717)),u=n(3885),d=r(n(27112)),_=n(51017),p=r(n(89482));class f{constructor(e){let t=e;if(!t)throw(0,p.default)("MsgKey error: obj is null/undefined");t.id instanceof f&&(t=t.id,__LOG__(3)`MsgKey error: id is already a MsgKey`);const n=t.from&&t.to&&t.id,r=void 0!==t.fromMe&&t.remote&&t.id;let i,o,a,s,l,_,E;const A=(0,u.getMaybeMeUser)();if(!A)throw(0,p.default)("MsgKey error: me is undefined. Running tests? Call setupGlobalsForTests first.");if(n&&r)throw __LOG__(3)`Unclear constructor MsgKey: ${JSON.stringify(t)}`,(0,p.default)("MsgKey error: unclear which constructor to use");if(!n&&!r)throw __LOG__(3)`No matching constructor MsgKey: ${JSON.stringify(t)}`,(0,p.default)("MsgKey error: don't have a matching constructor");if(n){if(({from:i,to:o,id:a,participant:s,selfDir:l}=t),!(i instanceof d.default)||!(o instanceof d.default)||s&&!(s instanceof d.default))throw __LOG__(3)`Incorrect Wid MsgKey: from:${String(i)} to:${String(o)} p:${String(s)}`,(0,p.default)("MsgKey error: something is not a wid");const e=d.default.equals(i,o);l=e?l:void 0,e&&(0,u.isMePrimary)(i)?(_="out"===l,E=A):(0,u.isMePrimary)(i)?(_=!0,E=o):(0,u.isMePrimary)(o)?(_=!1,E=i):e&&(d.default.isGroup(i)||d.default.isBroadcast(i))?(_=!0,E=i):__LOG__(3)`MsgKey case error: ${[i,o,a,A].join()}`,void 0!==_&&(this.fromMe=_),E&&(this.remote=E),a&&(this.id=a)}else if(r){if(({fromMe:_,remote:E,id:a,participant:s}=t),!(E instanceof d.default)||s&&!(s instanceof d.default))throw __LOG__(3)`Incorrect Wid MsgKey: remote:${String(E)} p:${String(s)}`,(0,p.default)("MsgKey error: something is not a wid");(0,u.isMePrimary)(E)&&(l=_?"out":"in"),void 0!==_&&(this.fromMe=_),E&&(this.remote=E),a&&(this.id=a)}const g=[this.fromMe,this.remote,this.id];void 0!==l&&(this.self=l,g.push(this.self)),(0,c.default)()&&void 0!==s&&(this.participant=s,g.push(this.participant)),this._serialized=g.join("_")}toString(){return this._serialized}clone(){return new f({fromMe:this.fromMe,remote:this.remote,id:this.id,participant:this.participant})}equals(e){return e instanceof f&&this.toString()===e.toString()}static fromString(e){if(null==e)throw(0,p.default)("MsgKey.fromString error: str is null or not a string");return f.from(e)}static from(e){if(e instanceof f)return e;let t;return t="string"==typeof e?(0,l.default)(e):e,new f({fromMe:t.fromMe,remote:(0,_.createWidFromWidLike)(t.remote),id:t.id,participant:t.participant?(0,_.createWidFromWidLike)(t.participant):void 0})}static newId(){return(0,i.default)((function*(){if((0,a.getABPropConfigValue)("web_sha256_message_key"))try{return yield(0,s.getMsgKeyNewSHA256Id)()}catch(e){__LOG__(4,void 0,new Error,!0)`getMsgKeyNewId: ${e.name}, message: ${e.message}, stack: ${e.stack}`,SEND_LOGS("msg_key: error generating sha256 message key")}return f.newId_DEPRECATED()}))()}static newId_DEPRECATED(){if((0,a.getABPropConfigValue)("web_md5_message_key"))try{return(0,s.getMsgKeyNewId)()}catch(e){__LOG__(4,void 0,new Error,!0)`getMsgKeyNewId: ${e.name}, message: ${e.message}, stack: ${e.stack}`,SEND_LOGS("msg_key: error generating md5 message key")}return"3EB0"+(0,o.randomHex)(8)}}t.default=f},50790:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getMsgKeyNewSHA256Id=t.getMsgKeyNewId=t.genMsgKeyUint=void 0;var i=r(n(48926)),o=n(62089),a=n(89323),s=n(65982),l=r(n(27522)),c=n(29987),u=n(3885);const d=()=>{var e;const t=(0,c.unixTime)(),n=null===(e=(0,u.getMaybeMeUser)())||void 0===e?void 0:e.toString(),r=(0,s.parseHex)((0,s.randomHex)(16)),i=new a.Binary;return i.writeInt64(t),i.writeString(n),i.writeBuffer(r),i.readByteArray()};t.genMsgKeyUint=d;t.getMsgKeyNewId=()=>{const e=new Uint8Array((0,o.decodeB64)((0,l.default)(d().join(""))),0,9);return"3EB0"+(0,s.toHex)(e)};const _=function(){var e=(0,i.default)((function*(){const e=new Uint8Array(yield self.crypto.subtle.digest("SHA-256",d()),0,9);return"3EB0"+(0,s.toHex)(e)}));return function(){return e.apply(this,arguments)}}();t.getMsgKeyNewSHA256Id=_},97087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNoteToSelf=function(e){return e.fromMe&&(0,r.isMeAccount)(e.remote)};var r=n(3885)},95432:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e||!(0,i.isString)(e))throw(0,o.default)("MsgKey fromString error: str is null or not a string");const t=e.split("_");let n;t.length<3?__LOG__(3)`MsgKey error: cannot create MsgKey from ${e}`:4===t.length?"out"!==t[3]&&"in"!==t[3]&&(n=t[3]):5===t.length&&(n=t[4]);return{fromMe:"true"===t[0],remote:t[1],id:t[2],participant:n}};var i=n(25303),o=r(n(89482))},25717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!0}},74522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NuxSyncKey=t.NuxKeyTypes=t.NUX=t.CoolOffPeriodKeys=void 0,t.asCoolOffNuxType=function(e){return`${e}_cool_off`},t.asViewCountNuxType=function(e){return`${e}_view_count`},t.getChatAutoMutedNuxKey=o,t.getCommunityAdminPromotionNuxKey=i,t.getMembershipApprovalRequestsBannerNuxKey=function(e){return`membership_approval_requests_banner_${e}`},t.getNewsletterMessageUpdatesBannerNuxKey=function(e){return`newsletter_message_updates_${e}`},t.getNuxSyncKey=function(e){switch(e){case r.EPHEMERAL:return a.EPHEMERAL;case r.EPHEMERAL_VIEW_ONCE:return a.EPHEMERAL_VIEW_ONCE;case r.EPHEMERAL_VIEW_ONCE_RECEIVER:return a.EPHEMERAL_VIEW_ONCE_RECEIVER;case r.STATUS_QUICK_REPLIES:return a.STATUS_QUICK_REPLIES;case r.COMMUNITY:return a.COMMUNITY;case r.COMMUNITY_HOME:return a.COMMUNITY_HOME;case r.KEEP_IN_CHAT:return a.KEEP_IN_CHAT;case r.KEEP_IN_CHAT_SYSTEM_MESSAGE:return a.KEEP_IN_CHAT_SYSTEM_MESSAGE;case r.FORWARD_MEDIA_WITH_CAPTION:return a.FORWARD_MEDIA_WITH_CAPTION;case r.MESSAGE_EDIT:return a.MESSAGE_EDIT;default:return e.includes(i(""))||e.includes(o(""))?e:null}},t.getSubgroupSuggestionsBannerNuxKey=function(e){return`subgroup_suggestions_banner_${e}`};const r={SAFARI_LIMITED_SUPPORT:"safari_limited_support",SENDER_REVOKE_LEGAL_DISCLAIMER_NUX:"revoke_legal_disclaimer_nux",SENDER_REVOKE_LEGAL_DISCLAIMER_NUX_NEW:"sender_revoke_legal_disclaimer_nux",ADMIN_REVOKE_LEGAL_DISCLAIMER_NUX:"admin_revoke_legal_disclaimer_nux",EPHEMERAL:"ephemeral",EPHEMERAL_VIEW_ONCE:"ephemeral_view_once",EPHEMERAL_VIEW_ONCE_RECEIVER:"ephemeral_view_once_receiver",COMMUNITY:"community",COMMUNITY_HOME:"community_home",STATUS_QUICK_REPLIES:"status_quick_replies",KEEP_IN_CHAT:"keep_in_chat",CHAT_ASSIGNMENT:"chat_assignment",TOOLTIP_AD_CREATION:"tooltip_ad_creation",DESKTOP_UPSELL:"desktop_upsell",KEEP_IN_CHAT_SYSTEM_MESSAGE:"keep_in_chat_system_message",FORWARD_MEDIA_WITH_CAPTION:"forward_media_with_caption",MESSAGE_EDIT:"message_edit",BOT_INVOKE_UPSELL:"bot_invoke_upsell"};function i(e){return`community_admin_promote_${e}`}function o(e){return`chat_auto_muted_${e}`}t.NUX=r;const a=n(76672)({EPHEMERAL:"ephemeral",EPHEMERAL_VIEW_ONCE:"ephemeral_view_once",EPHEMERAL_VIEW_ONCE_RECEIVER:"ephemeral_view_once_receiver",ARCHIVE:"archive",STATUS_QUICK_REPLIES:"status_quick_replies",COMMUNITY:"community",COMMUNITY_HOME:"community_home",KEEP_IN_CHAT:"keep_in_chat",KEEP_IN_CHAT_SYSTEM_MESSAGE:"keep_in_chat_system_message",FORWARD_MEDIA_WITH_CAPTION:"forward_media_with_caption",MESSAGE_EDIT:"message_edit"});t.NuxSyncKey=a;t.NuxKeyTypes={COOL_OFF_NUX:{INCOMPLETE_BUSINESS_PROFILE_BANNER:"incomplete_business_profile_banner",PRODUCT_CATALOG_BANNER:"product_catalog_banner",COLLECTIONS:"collections_banner",CART_INTERSTITIAL:"cart_interstitial",CTWA_SUGGESTION:"ctwa_suggestion",AD_CREATION_BANNER:"ad_creation_banner",ORDER_EXPANSION:"order_expansion"},VIEW_COUNT_NUX:{SAFARI_LIMITED_SUPPORT:"safari_limited_support",SENDER_REVOKE_LEGAL_DISCLAIMER_NUX:"revoke_legal_disclaimer_nux",ADMIN_REVOKE_LEGAL_DISCLAIMER_NUX:"admin_revoke_legal_disclaimer_nux",EPHEMERAL:"ephemeral",EPHEMERAL_VIEW_ONCE:"ephemeral_view_once",EPHEMERAL_VIEW_ONCE_RECEIVER:"ephemeral_view_once_receiver",COMMUNITY:"community",COMMUNITY_HOME:"community_home",KEEP_IN_CHAT:"keep_in_chat",CHAT_ASSIGNMENT:"chat_assignment",TOOLTIP_AD_CREATION:"tooltip_ad_creation",DESKTOP_UPSELL:"desktop_upsell",KEEP_IN_CHAT_SYSTEM_MESSAGE:"keep_in_chat_system_message",FORWARD_MEDIA_WITH_CAPTION:"forward_media_with_caption",MESSAGE_EDIT:"message_edit"}};t.CoolOffPeriodKeys={DEFAULT:"default_cool_off_banners_key",CATALOG:"catalog_banners_key",CTWA_SUGGESTION:"ctwa_suggestion_banners_key",AD_CREATION:"ad_creation_banners_key",ORDER_EXPANSION:"order_expansion_banner_key"}},20346:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(12755)),o=r(n(89482));let a;if("undefined"!=typeof self)a=self;else{if(void 0===n.g)throw(0,o.default)("Couldn't get global object");a=n.g}var s="AbortController"in a?a.AbortController:class{constructor(){this.signal=new i.default}abort(){const e=new Event("abort");this.signal.dispatchEvent(e)}};t.default=s},12755:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(28019)),o=class extends i.default{constructor(){super(),this.aborted=!1}dispatchEvent(e){return"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),super.dispatchEvent(e)}toString(){return"[object AbortSignal]"}};t.default=o},28019:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7880));t.default=class{constructor(){this._emitter=new i.default}addEventListener(e,t){this._emitter.on(e,t,this)}removeEventListener(e,t){this._emitter.off(e,t,this)}dispatchEvent(e){return this._emitter.trigger(e.type),!0}}},16242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncActionValueSpec=t.SyncActionValue$UserStatusMuteActionSpec=t.SyncActionValue$UnarchiveChatsSettingSpec=t.SyncActionValue$TimeFormatActionSpec=t.SyncActionValue$SyncActionMessageSpec=t.SyncActionValue$SyncActionMessageRangeSpec=t.SyncActionValue$SubscriptionActionSpec=t.SyncActionValue$StickerActionSpec=t.SyncActionValue$StarActionSpec=t.SyncActionValue$SecurityNotificationSettingSpec=t.SyncActionValue$RemoveRecentStickerActionSpec=t.SyncActionValue$RecentEmojiWeightsActionSpec=t.SyncActionValue$QuickReplyActionSpec=t.SyncActionValue$PushNameSettingSpec=t.SyncActionValue$PrivacySettingRelayAllCallsSpec=t.SyncActionValue$PrimaryVersionActionSpec=t.SyncActionValue$PrimaryFeatureSpec=t.SyncActionValue$PnForLidChatActionSpec=t.SyncActionValue$PinActionSpec=t.SyncActionValue$NuxActionSpec=t.SyncActionValue$MuteActionSpec=t.SyncActionValue$MarketingMessageBroadcastActionSpec=t.SyncActionValue$MarketingMessageActionSpec=t.SyncActionValue$MarketingMessageAction$MarketingMessagePrototypeType=t.SyncActionValue$MarkChatAsReadActionSpec=t.SyncActionValue$LocaleSettingSpec=t.SyncActionValue$LabelEditActionSpec=t.SyncActionValue$LabelAssociationActionSpec=t.SyncActionValue$KeyExpirationSpec=t.SyncActionValue$ExternalWebBetaActionSpec=t.SyncActionValue$DeleteMessageForMeActionSpec=t.SyncActionValue$DeleteChatActionSpec=t.SyncActionValue$ContactActionSpec=t.SyncActionValue$ClearChatActionSpec=t.SyncActionValue$ChatAssignmentOpenedStatusActionSpec=t.SyncActionValue$ChatAssignmentActionSpec=t.SyncActionValue$CallLogActionSpec=t.SyncActionValue$ArchiveChatActionSpec=t.SyncActionValue$AndroidUnsupportedActionsSpec=t.SyncActionValue$AgentActionSpec=t.SyncActionDataSpec=t.RecentEmojiWeightSpec=t.CallLogRecordSpec=t.CallLogRecord$SilenceReason=t.CallLogRecord$ParticipantInfoSpec=t.CallLogRecord$CallResult=void 0;var r=n(91451),i=n(17059);const o=n(76672)({NONE:0,SCHEDULED:1,PRIVACY:2,LIGHTWEIGHT:3});t.CallLogRecord$SilenceReason=o;const a=n(76672)({CONNECTED:0,REJECTED:1,CANCELLED:2,ACCEPTEDELSEWHERE:3,MISSED:4,INVALID:5,UNAVAILABLE:6,UPCOMING:7,FAILED:8,ABANDONED:9,ONGOING:10});t.CallLogRecord$CallResult=a;const s=n(76672)({PERSONALIZED:0});t.SyncActionValue$MarketingMessageAction$MarketingMessagePrototypeType=s;const l={};t.RecentEmojiWeightSpec=l;const c={};t.CallLogRecordSpec=c;const u={};t.CallLogRecord$ParticipantInfoSpec=u;const d={};t.SyncActionValueSpec=d;const _={};t.SyncActionValue$CallLogActionSpec=_;const p={};t.SyncActionValue$PrivacySettingRelayAllCallsSpec=p;const f={};t.SyncActionValue$ExternalWebBetaActionSpec=f;const E={};t.SyncActionValue$MarketingMessageBroadcastActionSpec=E;const A={};t.SyncActionValue$MarketingMessageActionSpec=A;const g={};t.SyncActionValue$PnForLidChatActionSpec=g;const h={};t.SyncActionValue$ChatAssignmentOpenedStatusActionSpec=h;const S={};t.SyncActionValue$ChatAssignmentActionSpec=S;const T={};t.SyncActionValue$StickerActionSpec=T;const m={};t.SyncActionValue$RemoveRecentStickerActionSpec=m;const I={};t.SyncActionValue$PrimaryVersionActionSpec=I;const y={};t.SyncActionValue$NuxActionSpec=y;const C={};t.SyncActionValue$TimeFormatActionSpec=C;const v={};t.SyncActionValue$UserStatusMuteActionSpec=v;const O={};t.SyncActionValue$SubscriptionActionSpec=O;const P={};t.SyncActionValue$AgentActionSpec=P;const N={};t.SyncActionValue$AndroidUnsupportedActionsSpec=N;const b={};t.SyncActionValue$PrimaryFeatureSpec=b;const M={};t.SyncActionValue$KeyExpirationSpec=M;const R={};t.SyncActionValue$SyncActionMessageSpec=R;const D={};t.SyncActionValue$SyncActionMessageRangeSpec=D;const L={};t.SyncActionValue$UnarchiveChatsSettingSpec=L;const w={};t.SyncActionValue$DeleteChatActionSpec=w;const B={};t.SyncActionValue$ClearChatActionSpec=B;const U={};t.SyncActionValue$MarkChatAsReadActionSpec=U;const G={};t.SyncActionValue$DeleteMessageForMeActionSpec=G;const k={};t.SyncActionValue$ArchiveChatActionSpec=k;const Y={};t.SyncActionValue$RecentEmojiWeightsActionSpec=Y;const F={};t.SyncActionValue$LabelEditActionSpec=F;const K={};t.SyncActionValue$LabelAssociationActionSpec=K;const x={};t.SyncActionValue$QuickReplyActionSpec=x;const H={};t.SyncActionValue$LocaleSettingSpec=H;const j={};t.SyncActionValue$PushNameSettingSpec=j;const V={};t.SyncActionValue$SecurityNotificationSettingSpec=V;const W={};t.SyncActionValue$PinActionSpec=W;const Q={};t.SyncActionValue$MuteActionSpec=Q;const $={};t.SyncActionValue$ContactActionSpec=$;const z={};t.SyncActionValue$StarActionSpec=z;const J={};t.SyncActionDataSpec=J,l.internalSpec={emoji:[1,r.TYPES.STRING],weight:[2,r.TYPES.FLOAT]},c.internalSpec={callResult:[1,r.TYPES.ENUM,a],isDndMode:[2,r.TYPES.BOOL],silenceReason:[3,r.TYPES.ENUM,o],duration:[4,r.TYPES.INT64],startTime:[5,r.TYPES.INT64],isIncoming:[6,r.TYPES.BOOL],isVideo:[7,r.TYPES.BOOL],isCallLink:[8,r.TYPES.BOOL],callLinkToken:[9,r.TYPES.STRING],scheduledCallId:[10,r.TYPES.STRING],callId:[11,r.TYPES.STRING],callCreatorJid:[12,r.TYPES.STRING],groupJid:[13,r.TYPES.STRING],participants:[14,r.FLAGS.REPEATED|r.TYPES.MESSAGE,u]},u.internalSpec={userJid:[1,r.TYPES.STRING],callResult:[2,r.TYPES.ENUM,a]},d.internalSpec={timestamp:[1,r.TYPES.INT64],starAction:[2,r.TYPES.MESSAGE,z],contactAction:[3,r.TYPES.MESSAGE,$],muteAction:[4,r.TYPES.MESSAGE,Q],pinAction:[5,r.TYPES.MESSAGE,W],securityNotificationSetting:[6,r.TYPES.MESSAGE,V],pushNameSetting:[7,r.TYPES.MESSAGE,j],quickReplyAction:[8,r.TYPES.MESSAGE,x],recentEmojiWeightsAction:[11,r.TYPES.MESSAGE,Y],labelEditAction:[14,r.TYPES.MESSAGE,F],labelAssociationAction:[15,r.TYPES.MESSAGE,K],localeSetting:[16,r.TYPES.MESSAGE,H],archiveChatAction:[17,r.TYPES.MESSAGE,k],deleteMessageForMeAction:[18,r.TYPES.MESSAGE,G],keyExpiration:[19,r.TYPES.MESSAGE,M],markChatAsReadAction:[20,r.TYPES.MESSAGE,U],clearChatAction:[21,r.TYPES.MESSAGE,B],deleteChatAction:[22,r.TYPES.MESSAGE,w],unarchiveChatsSetting:[23,r.TYPES.MESSAGE,L],primaryFeature:[24,r.TYPES.MESSAGE,b],androidUnsupportedActions:[26,r.TYPES.MESSAGE,N],agentAction:[27,r.TYPES.MESSAGE,P],subscriptionAction:[28,r.TYPES.MESSAGE,O],userStatusMuteAction:[29,r.TYPES.MESSAGE,v],timeFormatAction:[30,r.TYPES.MESSAGE,C],nuxAction:[31,r.TYPES.MESSAGE,y],primaryVersionAction:[32,r.TYPES.MESSAGE,I],stickerAction:[33,r.TYPES.MESSAGE,T],removeRecentStickerAction:[34,r.TYPES.MESSAGE,m],chatAssignment:[35,r.TYPES.MESSAGE,S],chatAssignmentOpenedStatus:[36,r.TYPES.MESSAGE,h],pnForLidChatAction:[37,r.TYPES.MESSAGE,g],marketingMessageAction:[38,r.TYPES.MESSAGE,A],marketingMessageBroadcastAction:[39,r.TYPES.MESSAGE,E],externalWebBetaAction:[40,r.TYPES.MESSAGE,f],privacySettingRelayAllCalls:[41,r.TYPES.MESSAGE,p],callLogAction:[42,r.TYPES.MESSAGE,_]},_.internalSpec={callLogRecord:[1,r.TYPES.MESSAGE,c]},p.internalSpec={isEnabled:[1,r.TYPES.BOOL]},f.internalSpec={isOptIn:[1,r.TYPES.BOOL]},E.internalSpec={repliedCount:[1,r.TYPES.INT32]},A.internalSpec={name:[1,r.TYPES.STRING],message:[2,r.TYPES.STRING],type:[3,r.TYPES.ENUM,s],createdAt:[4,r.TYPES.INT64],lastSentAt:[5,r.TYPES.INT64],isDeleted:[6,r.TYPES.BOOL],mediaId:[7,r.TYPES.STRING]},g.internalSpec={pnJid:[1,r.TYPES.STRING]},h.internalSpec={chatOpened:[1,r.TYPES.BOOL]},S.internalSpec={deviceAgentID:[1,r.TYPES.STRING]},T.internalSpec={url:[1,r.TYPES.STRING],fileEncSha256:[2,r.TYPES.BYTES],mediaKey:[3,r.TYPES.BYTES],mimetype:[4,r.TYPES.STRING],height:[5,r.TYPES.UINT32],width:[6,r.TYPES.UINT32],directPath:[7,r.TYPES.STRING],fileLength:[8,r.TYPES.UINT64],isFavorite:[9,r.TYPES.BOOL],deviceIdHint:[10,r.TYPES.UINT32]},m.internalSpec={lastStickerSentTs:[1,r.TYPES.INT64]},I.internalSpec={version:[1,r.TYPES.STRING]},y.internalSpec={acknowledged:[1,r.TYPES.BOOL]},C.internalSpec={isTwentyFourHourFormatEnabled:[1,r.TYPES.BOOL]},v.internalSpec={muted:[1,r.TYPES.BOOL]},O.internalSpec={isDeactivated:[1,r.TYPES.BOOL],isAutoRenewing:[2,r.TYPES.BOOL],expirationDate:[3,r.TYPES.INT64]},P.internalSpec={name:[1,r.TYPES.STRING],deviceID:[2,r.TYPES.INT32],isDeleted:[3,r.TYPES.BOOL]},N.internalSpec={allowed:[1,r.TYPES.BOOL]},b.internalSpec={flags:[1,r.FLAGS.REPEATED|r.TYPES.STRING]},M.internalSpec={expiredKeyEpoch:[1,r.TYPES.INT32]},R.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec],timestamp:[2,r.TYPES.INT64]},D.internalSpec={lastMessageTimestamp:[1,r.TYPES.INT64],lastSystemMessageTimestamp:[2,r.TYPES.INT64],messages:[3,r.FLAGS.REPEATED|r.TYPES.MESSAGE,R]},L.internalSpec={unarchiveChats:[1,r.TYPES.BOOL]},w.internalSpec={messageRange:[1,r.TYPES.MESSAGE,D]},B.internalSpec={messageRange:[1,r.TYPES.MESSAGE,D]},U.internalSpec={read:[1,r.TYPES.BOOL],messageRange:[2,r.TYPES.MESSAGE,D]},G.internalSpec={deleteMedia:[1,r.TYPES.BOOL],messageTimestamp:[2,r.TYPES.INT64]},k.internalSpec={archived:[1,r.TYPES.BOOL],messageRange:[2,r.TYPES.MESSAGE,D]},Y.internalSpec={weights:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,l]},F.internalSpec={name:[1,r.TYPES.STRING],color:[2,r.TYPES.INT32],predefinedId:[3,r.TYPES.INT32],deleted:[4,r.TYPES.BOOL]},K.internalSpec={labeled:[1,r.TYPES.BOOL]},x.internalSpec={shortcut:[1,r.TYPES.STRING],message:[2,r.TYPES.STRING],keywords:[3,r.FLAGS.REPEATED|r.TYPES.STRING],count:[4,r.TYPES.INT32],deleted:[5,r.TYPES.BOOL]},H.internalSpec={locale:[1,r.TYPES.STRING]},j.internalSpec={name:[1,r.TYPES.STRING]},V.internalSpec={showNotification:[1,r.TYPES.BOOL]},W.internalSpec={pinned:[1,r.TYPES.BOOL]},Q.internalSpec={muted:[1,r.TYPES.BOOL],muteEndTimestamp:[2,r.TYPES.INT64],autoMuted:[3,r.TYPES.BOOL]},$.internalSpec={fullName:[1,r.TYPES.STRING],firstName:[2,r.TYPES.STRING],lidJid:[3,r.TYPES.STRING]},z.internalSpec={starred:[1,r.TYPES.BOOL]},J.internalSpec={index:[1,r.TYPES.BYTES],value:[2,r.TYPES.MESSAGE,d],padding:[3,r.TYPES.BYTES],version:[4,r.TYPES.INT32]}},59266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADVSignedKeyIndexListSpec=t.ADVSignedDeviceIdentitySpec=t.ADVSignedDeviceIdentityHMACSpec=t.ADVKeyIndexListSpec=t.ADVEncryptionType=t.ADVDeviceIdentitySpec=void 0;var r=n(91451);const i=n(76672)({E2EE:0,HOSTED:1});t.ADVEncryptionType=i;const o={};t.ADVKeyIndexListSpec=o;const a={};t.ADVSignedKeyIndexListSpec=a;const s={};t.ADVDeviceIdentitySpec=s;const l={};t.ADVSignedDeviceIdentitySpec=l;const c={};t.ADVSignedDeviceIdentityHMACSpec=c,o.internalDefaults={accountType:i.E2EE},o.internalSpec={rawId:[1,r.TYPES.UINT32],timestamp:[2,r.TYPES.UINT64],currentIndex:[3,r.TYPES.UINT32],validIndexes:[4,r.FLAGS.REPEATED|r.FLAGS.PACKED|r.TYPES.UINT32],accountType:[5,r.TYPES.ENUM,i]},a.internalSpec={details:[1,r.TYPES.BYTES],accountSignature:[2,r.TYPES.BYTES]},s.internalDefaults={accountType:i.E2EE,deviceType:i.E2EE},s.internalSpec={rawId:[1,r.TYPES.UINT32],timestamp:[2,r.TYPES.UINT64],keyIndex:[3,r.TYPES.UINT32],accountType:[4,r.TYPES.ENUM,i],deviceType:[5,r.TYPES.ENUM,i]},l.internalSpec={details:[1,r.TYPES.BYTES],accountSignatureKey:[2,r.TYPES.BYTES],accountSignature:[3,r.TYPES.BYTES],deviceSignature:[4,r.TYPES.BYTES]},c.internalDefaults={accountType:i.E2EE},c.internalSpec={details:[1,r.TYPES.BYTES],hmac:[2,r.TYPES.BYTES],accountType:[3,r.TYPES.ENUM,i]}},69059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoiseCertificateSpec=t.NoiseCertificate$DetailsSpec=t.CertChainSpec=t.CertChain$NoiseCertificateSpec=t.CertChain$NoiseCertificate$DetailsSpec=void 0;var r=n(91451);const i={};t.NoiseCertificateSpec=i;const o={};t.NoiseCertificate$DetailsSpec=o;const a={};t.CertChainSpec=a;const s={};t.CertChain$NoiseCertificateSpec=s;const l={};t.CertChain$NoiseCertificate$DetailsSpec=l,i.internalSpec={details:[1,r.TYPES.BYTES],signature:[2,r.TYPES.BYTES]},o.internalSpec={serial:[1,r.TYPES.UINT32],issuer:[2,r.TYPES.STRING],expires:[3,r.TYPES.UINT64],subject:[4,r.TYPES.STRING],key:[5,r.TYPES.BYTES]},a.internalSpec={leaf:[1,r.TYPES.MESSAGE,s],intermediate:[2,r.TYPES.MESSAGE,s]},s.internalSpec={details:[1,r.TYPES.BYTES],signature:[2,r.TYPES.BYTES]},l.internalSpec={serial:[1,r.TYPES.UINT32],issuerSerial:[2,r.TYPES.UINT32],key:[3,r.TYPES.BYTES],notBefore:[4,r.TYPES.UINT64],notAfter:[5,r.TYPES.UINT64]}},77026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message$ListMessage$SectionSpec=t.Message$ListMessage$RowSpec=t.Message$ListMessage$ProductSpec=t.Message$ListMessage$ProductSectionSpec=t.Message$ListMessage$ProductListInfoSpec=t.Message$ListMessage$ProductListHeaderImageSpec=t.Message$ListMessage$ListType=t.Message$KeepInChatMessageSpec=t.Message$InvoiceMessageSpec=t.Message$InvoiceMessage$AttachmentType=t.Message$InteractiveResponseMessageSpec=t.Message$InteractiveResponseMessage$NativeFlowResponseMessageSpec=t.Message$InteractiveResponseMessage$BodySpec=t.Message$InteractiveResponseMessage$Body$Format=t.Message$InteractiveMessageSpec=t.Message$InteractiveMessage$ShopMessageSpec=t.Message$InteractiveMessage$ShopMessage$Surface=t.Message$InteractiveMessage$NativeFlowMessageSpec=t.Message$InteractiveMessage$NativeFlowMessage$NativeFlowButtonSpec=t.Message$InteractiveMessage$HeaderSpec=t.Message$InteractiveMessage$FooterSpec=t.Message$InteractiveMessage$CollectionMessageSpec=t.Message$InteractiveMessage$CarouselMessageSpec=t.Message$InteractiveMessage$BodySpec=t.Message$InitialSecurityNotificationSettingSyncSpec=t.Message$ImageMessageSpec=t.Message$HistorySyncNotificationSpec=t.Message$HistorySyncNotification$HistorySyncType=t.Message$HighlyStructuredMessageSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameterSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTimeSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeUnixEpochSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponentSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponent$DayOfWeekType=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponent$CalendarType=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMCurrencySpec=t.Message$GroupInviteMessageSpec=t.Message$GroupInviteMessage$GroupType=t.Message$FutureProofMessageSpec=t.Message$ExtendedTextMessageSpec=t.Message$ExtendedTextMessage$PreviewType=t.Message$ExtendedTextMessage$InviteLinkGroupType=t.Message$ExtendedTextMessage$FontType=t.Message$EncReactionMessageSpec=t.Message$EncCommentMessageSpec=t.Message$DocumentMessageSpec=t.Message$DeviceSentMessageSpec=t.Message$DeclinePaymentRequestMessageSpec=t.Message$ContactsArrayMessageSpec=t.Message$ContactMessageSpec=t.Message$ChatSpec=t.Message$CancelPaymentRequestMessageSpec=t.Message$CallSpec=t.Message$CallLogMessageSpec=t.Message$CallLogMessage$CallType=t.Message$CallLogMessage$CallParticipantSpec=t.Message$CallLogMessage$CallOutcome=t.Message$ButtonsResponseMessageSpec=t.Message$ButtonsResponseMessage$Type=t.Message$ButtonsMessageSpec=t.Message$ButtonsMessage$HeaderType=t.Message$ButtonsMessage$ButtonSpec=t.Message$ButtonsMessage$Button$Type=t.Message$ButtonsMessage$Button$NativeFlowInfoSpec=t.Message$ButtonsMessage$Button$ButtonTextSpec=t.Message$BotFeedbackMessageSpec=t.Message$BotFeedbackMessage$BotFeedbackKind=t.Message$AudioMessageSpec=t.Message$AppStateSyncKeySpec=t.Message$AppStateSyncKeyShareSpec=t.Message$AppStateSyncKeyRequestSpec=t.Message$AppStateSyncKeyIdSpec=t.Message$AppStateSyncKeyFingerprintSpec=t.Message$AppStateSyncKeyDataSpec=t.Message$AppStateFatalExceptionNotificationSpec=t.LocationSpec=t.KeepType=t.InteractiveAnnotationSpec=t.HydratedTemplateButtonSpec=t.HydratedTemplateButton$HydratedURLButtonSpec=t.HydratedTemplateButton$HydratedQuickReplyButtonSpec=t.HydratedTemplateButton$HydratedCallButtonSpec=t.GroupMentionSpec=t.DisappearingModeSpec=t.DisappearingMode$Trigger=t.DisappearingMode$Initiator=t.DeviceListMetadataSpec=t.ContextInfoSpec=t.ContextInfo$UTMInfoSpec=t.ContextInfo$ForwardedNewsletterMessageInfoSpec=t.ContextInfo$ExternalAdReplyInfoSpec=t.ContextInfo$ExternalAdReplyInfo$MediaType=t.ContextInfo$BusinessMessageForwardInfoSpec=t.ContextInfo$AdReplyInfoSpec=t.ContextInfo$AdReplyInfo$MediaType=t.BotPluginMetadataSpec=t.BotPluginMetadata$SearchProvider=t.BotMetadataSpec=t.BotAvatarMetadataSpec=t.ActionLinkSpec=void 0,t.TemplateButtonSpec=t.TemplateButton$URLButtonSpec=t.TemplateButton$QuickReplyButtonSpec=t.TemplateButton$CallButtonSpec=t.PointSpec=t.PaymentBackgroundSpec=t.PaymentBackground$Type=t.PaymentBackground$MediaDataSpec=t.MoneySpec=t.MessageSpec=t.MessageSecretMessageSpec=t.MessageContextInfoSpec=t.Message$VideoMessageSpec=t.Message$VideoMessage$Attribution=t.Message$TemplateMessageSpec=t.Message$TemplateMessage$HydratedFourRowTemplateSpec=t.Message$TemplateMessage$FourRowTemplateSpec=t.Message$TemplateButtonReplyMessageSpec=t.Message$StickerSyncRMRMessageSpec=t.Message$StickerMessageSpec=t.Message$SenderKeyDistributionMessageSpec=t.Message$SendPaymentMessageSpec=t.Message$ScheduledCallEditMessageSpec=t.Message$ScheduledCallEditMessage$EditType=t.Message$ScheduledCallCreationMessageSpec=t.Message$ScheduledCallCreationMessage$CallType=t.Message$RequestPhoneNumberMessageSpec=t.Message$RequestPaymentMessageSpec=t.Message$ReactionMessageSpec=t.Message$ProtocolMessageSpec=t.Message$ProtocolMessage$Type=t.Message$ProductMessageSpec=t.Message$ProductMessage$ProductSnapshotSpec=t.Message$ProductMessage$CatalogSnapshotSpec=t.Message$PollVoteMessageSpec=t.Message$PollUpdateMessageSpec=t.Message$PollUpdateMessageMetadataSpec=t.Message$PollEncValueSpec=t.Message$PollCreationMessageSpec=t.Message$PollCreationMessage$OptionSpec=t.Message$PinInChatMessageSpec=t.Message$PinInChatMessage$Type=t.Message$PeerDataOperationRequestType=t.Message$PeerDataOperationRequestResponseMessageSpec=t.Message$PeerDataOperationRequestResponseMessage$PeerDataOperationResultSpec=t.Message$PeerDataOperationRequestResponseMessage$PeerDataOperationResult$PlaceholderMessageResendResponseSpec=t.Message$PeerDataOperationRequestResponseMessage$PeerDataOperationResult$LinkPreviewResponseSpec=t.Message$PeerDataOperationRequestResponseMessage$PeerDataOperationResult$LinkPreviewResponse$LinkPreviewHighQualityThumbnailSpec=t.Message$PeerDataOperationRequestMessageSpec=t.Message$PeerDataOperationRequestMessage$RequestUrlPreviewSpec=t.Message$PeerDataOperationRequestMessage$RequestStickerReuploadSpec=t.Message$PeerDataOperationRequestMessage$PlaceholderMessageResendRequestSpec=t.Message$PeerDataOperationRequestMessage$HistorySyncOnDemandRequestSpec=t.Message$PaymentInviteMessageSpec=t.Message$PaymentInviteMessage$ServiceType=t.Message$OrderMessageSpec=t.Message$OrderMessage$OrderSurface=t.Message$OrderMessage$OrderStatus=t.Message$LocationMessageSpec=t.Message$LiveLocationMessageSpec=t.Message$ListResponseMessageSpec=t.Message$ListResponseMessage$SingleSelectReplySpec=t.Message$ListResponseMessage$ListType=t.Message$ListMessageSpec=t.Message$ListMessage$SectionSpec=t.Message$ListMessage$RowSpec=t.Message$ListMessage$ProductSpec=t.Message$ListMessage$ProductSectionSpec=t.Message$ListMessage$ProductListInfoSpec=t.Message$ListMessage$ProductListHeaderImageSpec=t.Message$ListMessage$ListType=t.Message$KeepInChatMessageSpec=t.Message$InvoiceMessageSpec=t.Message$InvoiceMessage$AttachmentType=t.Message$InteractiveResponseMessageSpec=t.Message$InteractiveResponseMessage$NativeFlowResponseMessageSpec=t.Message$InteractiveResponseMessage$BodySpec=t.Message$InteractiveResponseMessage$Body$Format=t.Message$InteractiveMessageSpec=t.Message$InteractiveMessage$ShopMessageSpec=t.Message$InteractiveMessage$ShopMessage$Surface=t.Message$InteractiveMessage$NativeFlowMessageSpec=t.Message$InteractiveMessage$NativeFlowMessage$NativeFlowButtonSpec=t.Message$InteractiveMessage$HeaderSpec=t.Message$InteractiveMessage$FooterSpec=t.Message$InteractiveMessage$CollectionMessageSpec=t.Message$InteractiveMessage$CarouselMessageSpec=t.Message$InteractiveMessage$BodySpec=t.Message$InitialSecurityNotificationSettingSyncSpec=t.Message$ImageMessageSpec=t.Message$HistorySyncNotificationSpec=t.Message$HistorySyncNotification$HistorySyncType=t.Message$HighlyStructuredMessageSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameterSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTimeSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeUnixEpochSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponentSpec=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponent$DayOfWeekType=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponent$CalendarType=t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMCurrencySpec=t.Message$GroupInviteMessageSpec=t.Message$GroupInviteMessage$GroupType=t.Message$FutureProofMessageSpec=t.Message$ExtendedTextMessageSpec=t.Message$ExtendedTextMessage$PreviewType=t.Message$ExtendedTextMessage$InviteLinkGroupType=t.Message$ExtendedTextMessage$FontType=t.Message$EncReactionMessageSpec=t.Message$EncCommentMessageSpec=t.Message$DocumentMessageSpec=t.Message$DeviceSentMessageSpec=t.Message$DeclinePaymentRequestMessageSpec=t.Message$ContactsArrayMessageSpec=t.Message$ContactMessageSpec=t.Message$ChatSpec=t.Message$CancelPaymentRequestMessageSpec=t.Message$CallSpec=t.Message$CallLogMessageSpec=t.Message$CallLogMessage$CallType=t.Message$CallLogMessage$CallParticipantSpec=t.Message$CallLogMessage$CallOutcome=t.Message$ButtonsResponseMessageSpec=t.Message$ButtonsResponseMessage$Type=t.Message$ButtonsMessageSpec=t.Message$ButtonsMessage$HeaderType=t.Message$ButtonsMessage$ButtonSpec=t.Message$ButtonsMessage$Button$Type=t.Message$ButtonsMessage$Button$NativeFlowInfoSpec=t.Message$ButtonsMessage$Button$ButtonTextSpec=t.Message$BotFeedbackMessageSpec=t.Message$BotFeedbackMessage$BotFeedbackKind=t.Message$AudioMessageSpec=t.Message$AppStateSyncKeySpec=t.Message$AppStateSyncKeyShareSpec=t.Message$AppStateSyncKeyRequestSpec=t.Message$AppStateSyncKeyIdSpec=t.Message$AppStateSyncKeyFingerprintSpec=t.Message$AppStateSyncKeyDataSpec=t.Message$AppStateFatalExceptionNotificationSpec=t.LocationSpec=t.KeepType=t.InteractiveAnnotationSpec=t.HydratedTemplateButtonSpec=t.HydratedTemplateButton$HydratedURLButtonSpec=t.HydratedTemplateButton$HydratedQuickReplyButtonSpec=t.HydratedTemplateButton$HydratedCallButtonSpec=t.GroupMentionSpec=t.DisappearingModeSpec=t.DisappearingMode$Trigger=t.DisappearingMode$Initiator=t.DeviceListMetadataSpec=t.ContextInfoSpec=t.ContextInfo$UTMInfoSpec=t.ContextInfo$ForwardedNewsletterMessageInfoSpec=t.ContextInfo$ExternalAdReplyInfoSpec=t.ContextInfo$ExternalAdReplyInfo$MediaType=t.ContextInfo$BusinessMessageForwardInfoSpec=t.ContextInfo$AdReplyInfoSpec=t.ContextInfo$AdReplyInfo$MediaType=t.BotPluginMetadataSpec=t.BotPluginMetadata$SearchProvider=t.BotMetadataSpec=t.BotAvatarMetadataSpec=t.ActionLinkSpec=void 0;var r=n(91451),i=n(17059),o=n(92754);const a=n(76672)({CONNECTED:0,MISSED:1,FAILED:2,REJECTED:3,ACCEPTED_ELSEWHERE:4,ONGOING:5,SILENCED_BY_DND:6,SILENCED_UNKNOWN_CALLER:7});t.Message$CallLogMessage$CallOutcome=a;const s=n(76672)({REGULAR:0,SCHEDULED_CALL:1,VOICE_CHAT:2});t.Message$CallLogMessage$CallType=s;const l=n(76672)({UNKNOWN:0,CANCEL:1});t.Message$ScheduledCallEditMessage$EditType=l;const c=n(76672)({UNKNOWN:0,VOICE:1,VIDEO:2});t.Message$ScheduledCallCreationMessage$CallType=c;const u=n(76672)({UNKNOWN_TYPE:0,PIN_FOR_ALL:1,UNPIN_FOR_ALL:2});t.Message$PinInChatMessage$Type=u;const d=n(76672)({UNKNOWN:0,DISPLAY_TEXT:1});t.Message$ButtonsResponseMessage$Type=d;const _=n(76672)({UNKNOWN:0,RESPONSE:1,NATIVE_FLOW:2});t.Message$ButtonsMessage$Button$Type=_;const p=n(76672)({UNKNOWN:0,EMPTY:1,TEXT:2,DOCUMENT:3,IMAGE:4,VIDEO:5,LOCATION:6});t.Message$ButtonsMessage$HeaderType=p;const f=n(76672)({DEFAULT:0,PARENT:1});t.Message$GroupInviteMessage$GroupType=f;const E=n(76672)({DEFAULT:0,EXTENSIONS_1:1});t.Message$InteractiveResponseMessage$Body$Format=E;const A=n(76672)({UNKNOWN_SURFACE:0,FB:1,IG:2,WA:3});t.Message$InteractiveMessage$ShopMessage$Surface=A;const g=n(76672)({UNKNOWN:0,SINGLE_SELECT:1});t.Message$ListResponseMessage$ListType=g;const h=n(76672)({UNKNOWN:0,SINGLE_SELECT:1,PRODUCT_LIST:2});t.Message$ListMessage$ListType=h;const S=n(76672)({CATALOG:1});t.Message$OrderMessage$OrderSurface=S;const T=n(76672)({INQUIRY:1,ACCEPTED:2,DECLINED:3});t.Message$OrderMessage$OrderStatus=T;const m=n(76672)({UNKNOWN:0,FBPAY:1,NOVI:2,UPI:3});t.Message$PaymentInviteMessage$ServiceType=m;const I=n(76672)({GREGORIAN:1,SOLAR_HIJRI:2});t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponent$CalendarType=I;const y=n(76672)({MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,SUNDAY:7});t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponent$DayOfWeekType=y;const C=n(76672)({UPLOAD_STICKER:0,SEND_RECENT_STICKER_BOOTSTRAP:1,GENERATE_LINK_PREVIEW:2,HISTORY_SYNC_ON_DEMAND:3,PLACEHOLDER_MESSAGE_RESEND:4});t.Message$PeerDataOperationRequestType=C;const v=n(76672)({INITIAL_BOOTSTRAP:0,INITIAL_STATUS_V3:1,FULL:2,RECENT:3,PUSH_NAME:4,NON_BLOCKING_DATA:5,ON_DEMAND:6});t.Message$HistorySyncNotification$HistorySyncType=v;const O=n(76672)({REVOKE:0,EPHEMERAL_SETTING:3,EPHEMERAL_SYNC_RESPONSE:4,HISTORY_SYNC_NOTIFICATION:5,APP_STATE_SYNC_KEY_SHARE:6,APP_STATE_SYNC_KEY_REQUEST:7,MSG_FANOUT_BACKFILL_REQUEST:8,INITIAL_SECURITY_NOTIFICATION_SETTING_SYNC:9,APP_STATE_FATAL_EXCEPTION_NOTIFICATION:10,SHARE_PHONE_NUMBER:11,MESSAGE_EDIT:14,PEER_DATA_OPERATION_REQUEST_MESSAGE:16,PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:17,REQUEST_WELCOME_MESSAGE:18,BOT_FEEDBACK_MESSAGE:19});t.Message$ProtocolMessage$Type=O;const P=n(76672)({BOT_FEEDBACK_POSITIVE:0,BOT_FEEDBACK_NEGATIVE_GENERIC:1,BOT_FEEDBACK_NEGATIVE_HELPFUL:2,BOT_FEEDBACK_NEGATIVE_INTERESTING:3,BOT_FEEDBACK_NEGATIVE_ACCURATE:4,BOT_FEEDBACK_NEGATIVE_SAFE:5,BOT_FEEDBACK_NEGATIVE_OTHER:6,BOT_FEEDBACK_NEGATIVE_CAUTIOUS:7});t.Message$BotFeedbackMessage$BotFeedbackKind=P;const N=n(76672)({NONE:0,GIPHY:1,TENOR:2});t.Message$VideoMessage$Attribution=N;const b=n(76672)({DEFAULT:0,PARENT:1,SUB:2,DEFAULT_SUB:3});t.Message$ExtendedTextMessage$InviteLinkGroupType=b;const M=n(76672)({NONE:0,VIDEO:1,PLACEHOLDER:4,IMAGE:5});t.Message$ExtendedTextMessage$PreviewType=M;const R=n(76672)({SYSTEM:0,SYSTEM_TEXT:1,FB_SCRIPT:2,SYSTEM_BOLD:6,MORNINGBREEZE_REGULAR:7,CALISTOGA_REGULAR:8,EXO2_EXTRABOLD:9,COURIERPRIME_BOLD:10});t.Message$ExtendedTextMessage$FontType=R;const D=n(76672)({IMAGE:0,PDF:1});t.Message$InvoiceMessage$AttachmentType=D;const L=n(76672)({NONE:0,IMAGE:1,VIDEO:2});t.ContextInfo$ExternalAdReplyInfo$MediaType=L;const w=n(76672)({NONE:0,IMAGE:1,VIDEO:2});t.ContextInfo$AdReplyInfo$MediaType=w;const B=n(76672)({BING:1});t.BotPluginMetadata$SearchProvider=B;const U=n(76672)({UNKNOWN:0,DEFAULT:1});t.PaymentBackground$Type=U;const G=n(76672)({UNKNOWN:0,CHAT_SETTING:1,ACCOUNT_SETTING:2,BULK_CHANGE:3});t.DisappearingMode$Trigger=G;const k=n(76672)({CHANGED_IN_CHAT:0,INITIATED_BY_ME:1,INITIATED_BY_OTHER:2});t.DisappearingMode$Initiator=k;const Y=n(76672)({UNKNOWN:0,KEEP_FOR_ALL:1,UNDO_KEEP_FOR_ALL:2});t.KeepType=Y;const F={};t.MessageSpec=F;const K={};t.Message$CallLogMessageSpec=K;const x={};t.Message$CallLogMessage$CallParticipantSpec=x;const H={};t.Message$ScheduledCallEditMessageSpec=H;const j={};t.Message$ScheduledCallCreationMessageSpec=j;const V={};t.Message$EncCommentMessageSpec=V;const W={};t.Message$EncReactionMessageSpec=W;const Q={};t.Message$PinInChatMessageSpec=Q;const $={};t.Message$KeepInChatMessageSpec=$;const z={};t.Message$PollVoteMessageSpec=z;const J={};t.Message$PollEncValueSpec=J;const q={};t.Message$PollUpdateMessageMetadataSpec=q;const X={};t.Message$PollUpdateMessageSpec=X;const Z={};t.Message$PollCreationMessageSpec=Z;const ee={};t.Message$PollCreationMessage$OptionSpec=ee;const te={};t.Message$StickerSyncRMRMessageSpec=te;const ne={};t.Message$ReactionMessageSpec=ne;const re={};t.Message$ButtonsResponseMessageSpec=re;const ie={};t.Message$ButtonsMessageSpec=ie;const oe={};t.Message$ButtonsMessage$ButtonSpec=oe;const ae={};t.Message$ButtonsMessage$Button$NativeFlowInfoSpec=ae;const se={};t.Message$ButtonsMessage$Button$ButtonTextSpec=se;const le={};t.Message$FutureProofMessageSpec=le;const ce={};t.Message$DeviceSentMessageSpec=ce;const ue={};t.Message$RequestPhoneNumberMessageSpec=ue;const de={};t.Message$GroupInviteMessageSpec=de;const _e={};t.Message$InteractiveResponseMessageSpec=_e;const pe={};t.Message$InteractiveResponseMessage$NativeFlowResponseMessageSpec=pe;const fe={};t.Message$InteractiveResponseMessage$BodySpec=fe;const Ee={};t.Message$InteractiveMessageSpec=Ee;const Ae={};t.Message$InteractiveMessage$CarouselMessageSpec=Ae;const ge={};t.Message$InteractiveMessage$NativeFlowMessageSpec=ge;const he={};t.Message$InteractiveMessage$NativeFlowMessage$NativeFlowButtonSpec=he;const Se={};t.Message$InteractiveMessage$CollectionMessageSpec=Se;const Te={};t.Message$InteractiveMessage$ShopMessageSpec=Te;const me={};t.Message$InteractiveMessage$FooterSpec=me;const Ie={};t.Message$InteractiveMessage$BodySpec=Ie;const ye={};t.Message$InteractiveMessage$HeaderSpec=ye;const Ce={};t.Message$ListResponseMessageSpec=Ce;const ve={};t.Message$ListResponseMessage$SingleSelectReplySpec=ve;const Oe={};t.Message$ListMessageSpec=Oe;const Pe={};t.Message$ListMessage$ProductListInfoSpec=Pe;const Ne={};t.Message$ListMessage$ProductListHeaderImageSpec=Ne;const be={};t.Message$ListMessage$ProductSectionSpec=be;const Me={};t.Message$ListMessage$ProductSpec=Me;const Re={};t.Message$ListMessage$SectionSpec=Re;const De={};t.Message$ListMessage$RowSpec=De;const Le={};t.Message$OrderMessageSpec=Le;const we={};t.Message$ProductMessageSpec=we;const Be={};t.Message$ProductMessage$ProductSnapshotSpec=Be;const Ue={};t.Message$ProductMessage$CatalogSnapshotSpec=Ue;const Ge={};t.Message$TemplateButtonReplyMessageSpec=Ge;const ke={};t.Message$TemplateMessageSpec=ke;const Ye={};t.Message$TemplateMessage$HydratedFourRowTemplateSpec=Ye;const Fe={};t.Message$TemplateMessage$FourRowTemplateSpec=Fe;const Ke={};t.Message$StickerMessageSpec=Ke;const xe={};t.Message$LiveLocationMessageSpec=xe;const He={};t.Message$PaymentInviteMessageSpec=He;const je={};t.Message$CancelPaymentRequestMessageSpec=je;const Ve={};t.Message$DeclinePaymentRequestMessageSpec=Ve;const We={};t.Message$RequestPaymentMessageSpec=We;const Qe={};t.Message$SendPaymentMessageSpec=Qe;const $e={};t.Message$HighlyStructuredMessageSpec=$e;const ze={};t.Message$HighlyStructuredMessage$HSMLocalizableParameterSpec=ze;const Je={};t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTimeSpec=Je;const qe={};t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeUnixEpochSpec=qe;const Xe={};t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMDateTime$HSMDateTimeComponentSpec=Xe;const Ze={};t.Message$HighlyStructuredMessage$HSMLocalizableParameter$HSMCurrencySpec=Ze;const et={};t.Message$ContactsArrayMessageSpec=et;const tt={};t.Message$InitialSecurityNotificationSettingSyncSpec=tt;const nt={};t.Message$PeerDataOperationRequestResponseMessageSpec=nt;const rt={};t.Message$PeerDataOperationRequestResponseMessage$PeerDataOperationResultSpec=rt;const it={};t.Message$PeerDataOperationRequestResponseMessage$PeerDataOperationResult$PlaceholderMessageResendResponseSpec=it;const ot={};t.Message$PeerDataOperationRequestResponseMessage$PeerDataOperationResult$LinkPreviewResponseSpec=ot;const at={};t.Message$PeerDataOperationRequestResponseMessage$PeerDataOperationResult$LinkPreviewResponse$LinkPreviewHighQualityThumbnailSpec=at;const st={};t.Message$PeerDataOperationRequestMessageSpec=st;const lt={};t.Message$PeerDataOperationRequestMessage$PlaceholderMessageResendRequestSpec=lt;const ct={};t.Message$PeerDataOperationRequestMessage$HistorySyncOnDemandRequestSpec=ct;const ut={};t.Message$PeerDataOperationRequestMessage$RequestUrlPreviewSpec=ut;const dt={};t.Message$PeerDataOperationRequestMessage$RequestStickerReuploadSpec=dt;const _t={};t.Message$AppStateFatalExceptionNotificationSpec=_t;const pt={};t.Message$AppStateSyncKeyRequestSpec=pt;const ft={};t.Message$AppStateSyncKeyShareSpec=ft;const Et={};t.Message$AppStateSyncKeyDataSpec=Et;const At={};t.Message$AppStateSyncKeyFingerprintSpec=At;const gt={};t.Message$AppStateSyncKeyIdSpec=gt;const ht={};t.Message$AppStateSyncKeySpec=ht;const St={};t.Message$HistorySyncNotificationSpec=St;const Tt={};t.Message$ProtocolMessageSpec=Tt;const mt={};t.Message$BotFeedbackMessageSpec=mt;const It={};t.Message$ChatSpec=It;const yt={};t.Message$CallSpec=yt;const Ct={};t.Message$VideoMessageSpec=Ct;const vt={};t.Message$AudioMessageSpec=vt;const Ot={};t.Message$DocumentMessageSpec=Ot;const Pt={};t.Message$ExtendedTextMessageSpec=Pt;const Nt={};t.Message$LocationMessageSpec=Nt;const bt={};t.Message$ContactMessageSpec=bt;const Mt={};t.Message$InvoiceMessageSpec=Mt;const Rt={};t.Message$ImageMessageSpec=Rt;const Dt={};t.Message$SenderKeyDistributionMessageSpec=Dt;const Lt={};t.ContextInfoSpec=Lt;const wt={};t.ContextInfo$ForwardedNewsletterMessageInfoSpec=wt;const Bt={};t.ContextInfo$UTMInfoSpec=Bt;const Ut={};t.ContextInfo$ExternalAdReplyInfoSpec=Ut;const Gt={};t.ContextInfo$AdReplyInfoSpec=Gt;const kt={};t.ContextInfo$BusinessMessageForwardInfoSpec=kt;const Yt={};t.BotAvatarMetadataSpec=Yt;const Ft={};t.BotPluginMetadataSpec=Ft;const Kt={};t.BotMetadataSpec=Kt;const xt={};t.MessageContextInfoSpec=xt;const Ht={};t.DeviceListMetadataSpec=Ht;const jt={};t.InteractiveAnnotationSpec=jt;const Vt={};t.PointSpec=Vt;const Wt={};t.LocationSpec=Wt;const Qt={};t.TemplateButtonSpec=Qt;const $t={};t.TemplateButton$CallButtonSpec=$t;const zt={};t.TemplateButton$URLButtonSpec=zt;const Jt={};t.TemplateButton$QuickReplyButtonSpec=Jt;const qt={};t.HydratedTemplateButtonSpec=qt;const Xt={};t.HydratedTemplateButton$HydratedCallButtonSpec=Xt;const Zt={};t.HydratedTemplateButton$HydratedURLButtonSpec=Zt;const en={};t.HydratedTemplateButton$HydratedQuickReplyButtonSpec=en;const tn={};t.MoneySpec=tn;const nn={};t.PaymentBackgroundSpec=nn;const rn={};t.PaymentBackground$MediaDataSpec=rn;const on={};t.DisappearingModeSpec=on;const an={};t.ActionLinkSpec=an;const sn={};t.GroupMentionSpec=sn;const ln={};t.MessageSecretMessageSpec=ln,F.internalSpec={conversation:[1,r.TYPES.STRING],senderKeyDistributionMessage:[2,r.TYPES.MESSAGE,Dt],imageMessage:[3,r.TYPES.MESSAGE,Rt],contactMessage:[4,r.TYPES.MESSAGE,bt],locationMessage:[5,r.TYPES.MESSAGE,Nt],extendedTextMessage:[6,r.TYPES.MESSAGE,Pt],documentMessage:[7,r.TYPES.MESSAGE,Ot],audioMessage:[8,r.TYPES.MESSAGE,vt],videoMessage:[9,r.TYPES.MESSAGE,Ct],call:[10,r.TYPES.MESSAGE,yt],chat:[11,r.TYPES.MESSAGE,It],protocolMessage:[12,r.TYPES.MESSAGE,Tt],contactsArrayMessage:[13,r.TYPES.MESSAGE,et],highlyStructuredMessage:[14,r.TYPES.MESSAGE,$e],fastRatchetKeySenderKeyDistributionMessage:[15,r.TYPES.MESSAGE,Dt],sendPaymentMessage:[16,r.TYPES.MESSAGE,Qe],liveLocationMessage:[18,r.TYPES.MESSAGE,xe],requestPaymentMessage:[22,r.TYPES.MESSAGE,We],declinePaymentRequestMessage:[23,r.TYPES.MESSAGE,Ve],cancelPaymentRequestMessage:[24,r.TYPES.MESSAGE,je],templateMessage:[25,r.TYPES.MESSAGE,ke],stickerMessage:[26,r.TYPES.MESSAGE,Ke],groupInviteMessage:[28,r.TYPES.MESSAGE,de],templateButtonReplyMessage:[29,r.TYPES.MESSAGE,Ge],productMessage:[30,r.TYPES.MESSAGE,we],deviceSentMessage:[31,r.TYPES.MESSAGE,ce],messageContextInfo:[35,r.TYPES.MESSAGE,xt],listMessage:[36,r.TYPES.MESSAGE,Oe],viewOnceMessage:[37,r.TYPES.MESSAGE,le],orderMessage:[38,r.TYPES.MESSAGE,Le],listResponseMessage:[39,r.TYPES.MESSAGE,Ce],ephemeralMessage:[40,r.TYPES.MESSAGE,le],invoiceMessage:[41,r.TYPES.MESSAGE,Mt],buttonsMessage:[42,r.TYPES.MESSAGE,ie],buttonsResponseMessage:[43,r.TYPES.MESSAGE,re],paymentInviteMessage:[44,r.TYPES.MESSAGE,He],interactiveMessage:[45,r.TYPES.MESSAGE,Ee],reactionMessage:[46,r.TYPES.MESSAGE,ne],stickerSyncRmrMessage:[47,r.TYPES.MESSAGE,te],interactiveResponseMessage:[48,r.TYPES.MESSAGE,_e],pollCreationMessage:[49,r.TYPES.MESSAGE,Z],pollUpdateMessage:[50,r.TYPES.MESSAGE,X],keepInChatMessage:[51,r.TYPES.MESSAGE,$],documentWithCaptionMessage:[53,r.TYPES.MESSAGE,le],requestPhoneNumberMessage:[54,r.TYPES.MESSAGE,ue],viewOnceMessageV2:[55,r.TYPES.MESSAGE,le],encReactionMessage:[56,r.TYPES.MESSAGE,W],editedMessage:[58,r.TYPES.MESSAGE,le],viewOnceMessageV2Extension:[59,r.TYPES.MESSAGE,le],pollCreationMessageV2:[60,r.TYPES.MESSAGE,Z],scheduledCallCreationMessage:[61,r.TYPES.MESSAGE,j],groupMentionedMessage:[62,r.TYPES.MESSAGE,le],pinInChatMessage:[63,r.TYPES.MESSAGE,Q],pollCreationMessageV3:[64,r.TYPES.MESSAGE,Z],scheduledCallEditMessage:[65,r.TYPES.MESSAGE,H],ptvMessage:[66,r.TYPES.MESSAGE,Ct],botInvokeMessage:[67,r.TYPES.MESSAGE,le],encCommentMessage:[68,r.TYPES.MESSAGE,V],callLogMesssage:[69,r.TYPES.MESSAGE,K]},K.internalSpec={isVideo:[1,r.TYPES.BOOL],callOutcome:[2,r.TYPES.ENUM,a],durationSecs:[3,r.TYPES.INT64],callType:[4,r.TYPES.ENUM,s],participants:[5,r.FLAGS.REPEATED|r.TYPES.MESSAGE,x]},x.internalSpec={jid:[1,r.TYPES.STRING],callOutcome:[2,r.TYPES.ENUM,a]},H.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec],editType:[2,r.TYPES.ENUM,l]},j.internalSpec={scheduledTimestampMs:[1,r.TYPES.INT64],callType:[2,r.TYPES.ENUM,c],title:[3,r.TYPES.STRING]},V.internalSpec={targetMessageKey:[1,r.TYPES.MESSAGE,i.MessageKeySpec],encPayload:[2,r.TYPES.BYTES],encIv:[3,r.TYPES.BYTES]},W.internalSpec={targetMessageKey:[1,r.TYPES.MESSAGE,i.MessageKeySpec],encPayload:[2,r.TYPES.BYTES],encIv:[3,r.TYPES.BYTES]},Q.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec],type:[2,r.TYPES.ENUM,u],senderTimestampMs:[3,r.TYPES.INT64]},$.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec],keepType:[2,r.TYPES.ENUM,Y],timestampMs:[3,r.TYPES.INT64]},z.internalSpec={selectedOptions:[1,r.FLAGS.REPEATED|r.TYPES.BYTES]},J.internalSpec={encPayload:[1,r.TYPES.BYTES],encIv:[2,r.TYPES.BYTES]},q.internalSpec={},X.internalSpec={pollCreationMessageKey:[1,r.TYPES.MESSAGE,i.MessageKeySpec],vote:[2,r.TYPES.MESSAGE,J],metadata:[3,r.TYPES.MESSAGE,q],senderTimestampMs:[4,r.TYPES.INT64]},Z.internalSpec={encKey:[1,r.TYPES.BYTES],name:[2,r.TYPES.STRING],options:[3,r.FLAGS.REPEATED|r.TYPES.MESSAGE,ee],selectableOptionsCount:[4,r.TYPES.UINT32],contextInfo:[5,r.TYPES.MESSAGE,Lt]},ee.internalSpec={optionName:[1,r.TYPES.STRING]},te.internalSpec={filehash:[1,r.FLAGS.REPEATED|r.TYPES.STRING],rmrSource:[2,r.TYPES.STRING],requestTimestamp:[3,r.TYPES.INT64]},ne.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec],text:[2,r.TYPES.STRING],groupingKey:[3,r.TYPES.STRING],senderTimestampMs:[4,r.TYPES.INT64]},re.internalSpec={selectedButtonId:[1,r.TYPES.STRING],selectedDisplayText:[2,r.TYPES.STRING],contextInfo:[3,r.TYPES.MESSAGE,Lt],type:[4,r.TYPES.ENUM,d],__oneofs__:{response:["selectedDisplayText"]}},ie.internalSpec={text:[1,r.TYPES.STRING],documentMessage:[2,r.TYPES.MESSAGE,Ot],imageMessage:[3,r.TYPES.MESSAGE,Rt],videoMessage:[4,r.TYPES.MESSAGE,Ct],locationMessage:[5,r.TYPES.MESSAGE,Nt],contentText:[6,r.TYPES.STRING],footerText:[7,r.TYPES.STRING],contextInfo:[8,r.TYPES.MESSAGE,Lt],buttons:[9,r.FLAGS.REPEATED|r.TYPES.MESSAGE,oe],headerType:[10,r.TYPES.ENUM,p],__oneofs__:{header:["text","documentMessage","imageMessage","videoMessage","locationMessage"]}},oe.internalSpec={buttonId:[1,r.TYPES.STRING],buttonText:[2,r.TYPES.MESSAGE,se],type:[3,r.TYPES.ENUM,_],nativeFlowInfo:[4,r.TYPES.MESSAGE,ae]},ae.internalSpec={name:[1,r.TYPES.STRING],paramsJson:[2,r.TYPES.STRING]},se.internalSpec={displayText:[1,r.TYPES.STRING]},le.internalSpec={message:[1,r.TYPES.MESSAGE,F]},ce.internalSpec={destinationJid:[1,r.TYPES.STRING],message:[2,r.TYPES.MESSAGE,F],phash:[3,r.TYPES.STRING]},ue.internalSpec={contextInfo:[1,r.TYPES.MESSAGE,Lt]},de.internalSpec={groupJid:[1,r.TYPES.STRING],inviteCode:[2,r.TYPES.STRING],inviteExpiration:[3,r.TYPES.INT64],groupName:[4,r.TYPES.STRING],jpegThumbnail:[5,r.TYPES.BYTES],caption:[6,r.TYPES.STRING],contextInfo:[7,r.TYPES.MESSAGE,Lt],groupType:[8,r.TYPES.ENUM,f]},_e.internalSpec={body:[1,r.TYPES.MESSAGE,fe],nativeFlowResponseMessage:[2,r.TYPES.MESSAGE,pe],contextInfo:[15,r.TYPES.MESSAGE,Lt],__oneofs__:{interactiveResponseMessage:["nativeFlowResponseMessage"]}},pe.internalDefaults={version:1},pe.internalSpec={name:[1,r.TYPES.STRING],paramsJson:[2,r.TYPES.STRING],version:[3,r.TYPES.INT32]},fe.internalDefaults={format:E.DEFAULT},fe.internalSpec={text:[1,r.TYPES.STRING],format:[2,r.TYPES.ENUM,E]},Ee.internalSpec={header:[1,r.TYPES.MESSAGE,ye],body:[2,r.TYPES.MESSAGE,Ie],footer:[3,r.TYPES.MESSAGE,me],shopStorefrontMessage:[4,r.TYPES.MESSAGE,Te],collectionMessage:[5,r.TYPES.MESSAGE,Se],nativeFlowMessage:[6,r.TYPES.MESSAGE,ge],carouselMessage:[7,r.TYPES.MESSAGE,Ae],contextInfo:[15,r.TYPES.MESSAGE,Lt],__oneofs__:{interactiveMessage:["shopStorefrontMessage","collectionMessage","nativeFlowMessage","carouselMessage"]}},Ae.internalDefaults={messageVersion:1},Ae.internalSpec={cards:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Ee],messageVersion:[2,r.TYPES.INT32]},ge.internalDefaults={messageVersion:1},ge.internalSpec={buttons:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,he],messageParamsJson:[2,r.TYPES.STRING],messageVersion:[3,r.TYPES.INT32]},he.internalSpec={name:[1,r.TYPES.STRING],buttonParamsJson:[2,r.TYPES.STRING]},Se.internalDefaults={messageVersion:1},Se.internalSpec={bizJid:[1,r.TYPES.STRING],id:[2,r.TYPES.STRING],messageVersion:[3,r.TYPES.INT32]},Te.internalDefaults={messageVersion:1},Te.internalSpec={id:[1,r.TYPES.STRING],surface:[2,r.TYPES.ENUM,A],messageVersion:[3,r.TYPES.INT32]},me.internalSpec={text:[1,r.TYPES.STRING]},Ie.internalSpec={text:[1,r.TYPES.STRING]},ye.internalSpec={title:[1,r.TYPES.STRING],subtitle:[2,r.TYPES.STRING],documentMessage:[3,r.TYPES.MESSAGE,Ot],imageMessage:[4,r.TYPES.MESSAGE,Rt],jpegThumbnail:[6,r.TYPES.BYTES],videoMessage:[7,r.TYPES.MESSAGE,Ct],locationMessage:[8,r.TYPES.MESSAGE,Nt],hasMediaAttachment:[5,r.TYPES.BOOL],__oneofs__:{media:["documentMessage","imageMessage","jpegThumbnail","videoMessage","locationMessage"]}},Ce.internalSpec={title:[1,r.TYPES.STRING],listType:[2,r.TYPES.ENUM,g],singleSelectReply:[3,r.TYPES.MESSAGE,ve],contextInfo:[4,r.TYPES.MESSAGE,Lt],description:[5,r.TYPES.STRING]},ve.internalSpec={selectedRowId:[1,r.TYPES.STRING]},Oe.internalSpec={title:[1,r.TYPES.STRING],description:[2,r.TYPES.STRING],buttonText:[3,r.TYPES.STRING],listType:[4,r.TYPES.ENUM,h],sections:[5,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Re],productListInfo:[6,r.TYPES.MESSAGE,Pe],footerText:[7,r.TYPES.STRING],contextInfo:[8,r.TYPES.MESSAGE,Lt]},Pe.internalSpec={productSections:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,be],headerImage:[2,r.TYPES.MESSAGE,Ne],businessOwnerJid:[3,r.TYPES.STRING]},Ne.internalSpec={productId:[1,r.TYPES.STRING],jpegThumbnail:[2,r.TYPES.BYTES]},be.internalSpec={title:[1,r.TYPES.STRING],products:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Me]},Me.internalSpec={productId:[1,r.TYPES.STRING]},Re.internalSpec={title:[1,r.TYPES.STRING],rows:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,De]},De.internalSpec={title:[1,r.TYPES.STRING],description:[2,r.TYPES.STRING],rowId:[3,r.TYPES.STRING]},Le.internalSpec={orderId:[1,r.TYPES.STRING],thumbnail:[2,r.TYPES.BYTES],itemCount:[3,r.TYPES.INT32],status:[4,r.TYPES.ENUM,T],surface:[5,r.TYPES.ENUM,S],message:[6,r.TYPES.STRING],orderTitle:[7,r.TYPES.STRING],sellerJid:[8,r.TYPES.STRING],token:[9,r.TYPES.STRING],totalAmount1000:[10,r.TYPES.INT64],totalCurrencyCode:[11,r.TYPES.STRING],contextInfo:[17,r.TYPES.MESSAGE,Lt]},we.internalSpec={product:[1,r.TYPES.MESSAGE,Be],businessOwnerJid:[2,r.TYPES.STRING],catalog:[4,r.TYPES.MESSAGE,Ue],body:[5,r.TYPES.STRING],footer:[6,r.TYPES.STRING],contextInfo:[17,r.TYPES.MESSAGE,Lt]},Be.internalSpec={productImage:[1,r.TYPES.MESSAGE,Rt],productId:[2,r.TYPES.STRING],title:[3,r.TYPES.STRING],description:[4,r.TYPES.STRING],currencyCode:[5,r.TYPES.STRING],priceAmount1000:[6,r.TYPES.INT64],retailerId:[7,r.TYPES.STRING],url:[8,r.TYPES.STRING],productImageCount:[9,r.TYPES.UINT32],firstImageId:[11,r.TYPES.STRING],salePriceAmount1000:[12,r.TYPES.INT64]},Ue.internalSpec={catalogImage:[1,r.TYPES.MESSAGE,Rt],title:[2,r.TYPES.STRING],description:[3,r.TYPES.STRING]},Ge.internalSpec={selectedId:[1,r.TYPES.STRING],selectedDisplayText:[2,r.TYPES.STRING],contextInfo:[3,r.TYPES.MESSAGE,Lt],selectedIndex:[4,r.TYPES.UINT32]},ke.internalSpec={fourRowTemplate:[1,r.TYPES.MESSAGE,Fe],hydratedFourRowTemplate:[2,r.TYPES.MESSAGE,Ye],interactiveMessageTemplate:[5,r.TYPES.MESSAGE,Ee],contextInfo:[3,r.TYPES.MESSAGE,Lt],hydratedTemplate:[4,r.TYPES.MESSAGE,Ye],templateId:[9,r.TYPES.STRING],__oneofs__:{format:["fourRowTemplate","hydratedFourRowTemplate","interactiveMessageTemplate"]}},Ye.internalSpec={documentMessage:[1,r.TYPES.MESSAGE,Ot],hydratedTitleText:[2,r.TYPES.STRING],imageMessage:[3,r.TYPES.MESSAGE,Rt],videoMessage:[4,r.TYPES.MESSAGE,Ct],locationMessage:[5,r.TYPES.MESSAGE,Nt],hydratedContentText:[6,r.TYPES.STRING],hydratedFooterText:[7,r.TYPES.STRING],hydratedButtons:[8,r.FLAGS.REPEATED|r.TYPES.MESSAGE,qt],templateId:[9,r.TYPES.STRING],__oneofs__:{title:["documentMessage","hydratedTitleText","imageMessage","videoMessage","locationMessage"]}},Fe.internalSpec={documentMessage:[1,r.TYPES.MESSAGE,Ot],highlyStructuredMessage:[2,r.TYPES.MESSAGE,$e],imageMessage:[3,r.TYPES.MESSAGE,Rt],videoMessage:[4,r.TYPES.MESSAGE,Ct],locationMessage:[5,r.TYPES.MESSAGE,Nt],content:[6,r.TYPES.MESSAGE,$e],footer:[7,r.TYPES.MESSAGE,$e],buttons:[8,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Qt],__oneofs__:{title:["documentMessage","highlyStructuredMessage","imageMessage","videoMessage","locationMessage"]}},Ke.internalSpec={url:[1,r.TYPES.STRING],fileSha256:[2,r.TYPES.BYTES],fileEncSha256:[3,r.TYPES.BYTES],mediaKey:[4,r.TYPES.BYTES],mimetype:[5,r.TYPES.STRING],height:[6,r.TYPES.UINT32],width:[7,r.TYPES.UINT32],directPath:[8,r.TYPES.STRING],fileLength:[9,r.TYPES.UINT64],mediaKeyTimestamp:[10,r.TYPES.INT64],firstFrameLength:[11,r.TYPES.UINT32],firstFrameSidecar:[12,r.TYPES.BYTES],isAnimated:[13,r.TYPES.BOOL],pngThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Lt],stickerSentTs:[18,r.TYPES.INT64],isAvatar:[19,r.TYPES.BOOL],isAiSticker:[20,r.TYPES.BOOL]},xe.internalSpec={degreesLatitude:[1,r.TYPES.DOUBLE],degreesLongitude:[2,r.TYPES.DOUBLE],accuracyInMeters:[3,r.TYPES.UINT32],speedInMps:[4,r.TYPES.FLOAT],degreesClockwiseFromMagneticNorth:[5,r.TYPES.UINT32],caption:[6,r.TYPES.STRING],sequenceNumber:[7,r.TYPES.INT64],timeOffset:[8,r.TYPES.UINT32],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Lt]},He.internalSpec={serviceType:[1,r.TYPES.ENUM,m],expiryTimestamp:[2,r.TYPES.INT64]},je.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec]},Ve.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec]},We.internalSpec={noteMessage:[4,r.TYPES.MESSAGE,F],currencyCodeIso4217:[1,r.TYPES.STRING],amount1000:[2,r.TYPES.UINT64],requestFrom:[3,r.TYPES.STRING],expiryTimestamp:[5,r.TYPES.INT64],amount:[6,r.TYPES.MESSAGE,tn],background:[7,r.TYPES.MESSAGE,nn]},Qe.internalSpec={noteMessage:[2,r.TYPES.MESSAGE,F],requestMessageKey:[3,r.TYPES.MESSAGE,i.MessageKeySpec],background:[4,r.TYPES.MESSAGE,nn]},$e.internalSpec={namespace:[1,r.TYPES.STRING],elementName:[2,r.TYPES.STRING],params:[3,r.FLAGS.REPEATED|r.TYPES.STRING],fallbackLg:[4,r.TYPES.STRING],fallbackLc:[5,r.TYPES.STRING],localizableParams:[6,r.FLAGS.REPEATED|r.TYPES.MESSAGE,ze],deterministicLg:[7,r.TYPES.STRING],deterministicLc:[8,r.TYPES.STRING],hydratedHsm:[9,r.TYPES.MESSAGE,ke]},ze.internalSpec={default:[1,r.TYPES.STRING],currency:[2,r.TYPES.MESSAGE,Ze],dateTime:[3,r.TYPES.MESSAGE,Je],__oneofs__:{paramOneof:["currency","dateTime"]}},Je.internalSpec={component:[1,r.TYPES.MESSAGE,Xe],unixEpoch:[2,r.TYPES.MESSAGE,qe],__oneofs__:{datetimeOneof:["component","unixEpoch"]}},qe.internalSpec={timestamp:[1,r.TYPES.INT64]},Xe.internalSpec={dayOfWeek:[1,r.TYPES.ENUM,y],year:[2,r.TYPES.UINT32],month:[3,r.TYPES.UINT32],dayOfMonth:[4,r.TYPES.UINT32],hour:[5,r.TYPES.UINT32],minute:[6,r.TYPES.UINT32],calendar:[7,r.TYPES.ENUM,I]},Ze.internalSpec={currencyCode:[1,r.TYPES.STRING],amount1000:[2,r.TYPES.INT64]},et.internalSpec={displayName:[1,r.TYPES.STRING],contacts:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,bt],contextInfo:[17,r.TYPES.MESSAGE,Lt]},tt.internalSpec={securityNotificationEnabled:[1,r.TYPES.BOOL]},nt.internalSpec={peerDataOperationRequestType:[1,r.TYPES.ENUM,C],stanzaId:[2,r.TYPES.STRING],peerDataOperationResult:[3,r.FLAGS.REPEATED|r.TYPES.MESSAGE,rt]},rt.internalSpec={mediaUploadResult:[1,r.TYPES.ENUM,o.MediaRetryNotification$ResultType],stickerMessage:[2,r.TYPES.MESSAGE,Ke],linkPreviewResponse:[3,r.TYPES.MESSAGE,ot],placeholderMessageResendResponse:[4,r.TYPES.MESSAGE,it]},it.internalSpec={webMessageInfoBytes:[1,r.TYPES.BYTES]},ot.internalSpec={url:[1,r.TYPES.STRING],title:[2,r.TYPES.STRING],description:[3,r.TYPES.STRING],thumbData:[4,r.TYPES.BYTES],canonicalUrl:[5,r.TYPES.STRING],matchText:[6,r.TYPES.STRING],previewType:[7,r.TYPES.STRING],hqThumbnail:[8,r.TYPES.MESSAGE,at]},at.internalSpec={directPath:[1,r.TYPES.STRING],thumbHash:[2,r.TYPES.STRING],encThumbHash:[3,r.TYPES.STRING],mediaKey:[4,r.TYPES.BYTES],mediaKeyTimestampMs:[5,r.TYPES.INT64],thumbWidth:[6,r.TYPES.INT32],thumbHeight:[7,r.TYPES.INT32]},st.internalSpec={peerDataOperationRequestType:[1,r.TYPES.ENUM,C],requestStickerReupload:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,dt],requestUrlPreview:[3,r.FLAGS.REPEATED|r.TYPES.MESSAGE,ut],historySyncOnDemandRequest:[4,r.TYPES.MESSAGE,ct],placeholderMessageResendRequest:[5,r.FLAGS.REPEATED|r.TYPES.MESSAGE,lt]},lt.internalSpec={messageKey:[1,r.TYPES.MESSAGE,i.MessageKeySpec]},ct.internalSpec={chatJid:[1,r.TYPES.STRING],oldestMsgId:[2,r.TYPES.STRING],oldestMsgFromMe:[3,r.TYPES.BOOL],onDemandMsgCount:[4,r.TYPES.INT32],oldestMsgTimestampMs:[5,r.TYPES.INT64]},ut.internalSpec={url:[1,r.TYPES.STRING],includeHqThumbnail:[2,r.TYPES.BOOL]},dt.internalSpec={fileSha256:[1,r.TYPES.STRING]},_t.internalSpec={collectionNames:[1,r.FLAGS.REPEATED|r.TYPES.STRING],timestamp:[2,r.TYPES.INT64]},pt.internalSpec={keyIds:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,gt]},ft.internalSpec={keys:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,ht]},Et.internalSpec={keyData:[1,r.TYPES.BYTES],fingerprint:[2,r.TYPES.MESSAGE,At],timestamp:[3,r.TYPES.INT64]},At.internalSpec={rawId:[1,r.TYPES.UINT32],currentIndex:[2,r.TYPES.UINT32],deviceIndexes:[3,r.FLAGS.REPEATED|r.FLAGS.PACKED|r.TYPES.UINT32]},gt.internalSpec={keyId:[1,r.TYPES.BYTES]},ht.internalSpec={keyId:[1,r.TYPES.MESSAGE,gt],keyData:[2,r.TYPES.MESSAGE,Et]},St.internalSpec={fileSha256:[1,r.TYPES.BYTES],fileLength:[2,r.TYPES.UINT64],mediaKey:[3,r.TYPES.BYTES],fileEncSha256:[4,r.TYPES.BYTES],directPath:[5,r.TYPES.STRING],syncType:[6,r.TYPES.ENUM,v],chunkOrder:[7,r.TYPES.UINT32],originalMessageId:[8,r.TYPES.STRING],progress:[9,r.TYPES.UINT32],oldestMsgInChunkTimestampSec:[10,r.TYPES.INT64],initialHistBootstrapInlinePayload:[11,r.TYPES.BYTES],peerDataRequestSessionId:[12,r.TYPES.STRING]},Tt.internalSpec={key:[1,r.TYPES.MESSAGE,i.MessageKeySpec],type:[2,r.TYPES.ENUM,O],ephemeralExpiration:[4,r.TYPES.UINT32],ephemeralSettingTimestamp:[5,r.TYPES.INT64],historySyncNotification:[6,r.TYPES.MESSAGE,St],appStateSyncKeyShare:[7,r.TYPES.MESSAGE,ft],appStateSyncKeyRequest:[8,r.TYPES.MESSAGE,pt],initialSecurityNotificationSettingSync:[9,r.TYPES.MESSAGE,tt],appStateFatalExceptionNotification:[10,r.TYPES.MESSAGE,_t],disappearingMode:[11,r.TYPES.MESSAGE,on],editedMessage:[14,r.TYPES.MESSAGE,F],timestampMs:[15,r.TYPES.INT64],peerDataOperationRequestMessage:[16,r.TYPES.MESSAGE,st],peerDataOperationRequestResponseMessage:[17,r.TYPES.MESSAGE,nt],botFeedbackMessage:[18,r.TYPES.MESSAGE,mt]},mt.internalSpec={messageKey:[1,r.TYPES.MESSAGE,i.MessageKeySpec],kind:[2,r.TYPES.ENUM,P],text:[3,r.TYPES.STRING]},It.internalSpec={displayName:[1,r.TYPES.STRING],id:[2,r.TYPES.STRING]},yt.internalSpec={callKey:[1,r.TYPES.BYTES],conversionSource:[2,r.TYPES.STRING],conversionData:[3,r.TYPES.BYTES],conversionDelaySeconds:[4,r.TYPES.UINT32]},Ct.internalSpec={url:[1,r.TYPES.STRING],mimetype:[2,r.TYPES.STRING],fileSha256:[3,r.TYPES.BYTES],fileLength:[4,r.TYPES.UINT64],seconds:[5,r.TYPES.UINT32],mediaKey:[6,r.TYPES.BYTES],caption:[7,r.TYPES.STRING],gifPlayback:[8,r.TYPES.BOOL],height:[9,r.TYPES.UINT32],width:[10,r.TYPES.UINT32],fileEncSha256:[11,r.TYPES.BYTES],interactiveAnnotations:[12,r.FLAGS.REPEATED|r.TYPES.MESSAGE,jt],directPath:[13,r.TYPES.STRING],mediaKeyTimestamp:[14,r.TYPES.INT64],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Lt],streamingSidecar:[18,r.TYPES.BYTES],gifAttribution:[19,r.TYPES.ENUM,N],viewOnce:[20,r.TYPES.BOOL],thumbnailDirectPath:[21,r.TYPES.STRING],thumbnailSha256:[22,r.TYPES.BYTES],thumbnailEncSha256:[23,r.TYPES.BYTES],staticUrl:[24,r.TYPES.STRING]},vt.internalSpec={url:[1,r.TYPES.STRING],mimetype:[2,r.TYPES.STRING],fileSha256:[3,r.TYPES.BYTES],fileLength:[4,r.TYPES.UINT64],seconds:[5,r.TYPES.UINT32],ptt:[6,r.TYPES.BOOL],mediaKey:[7,r.TYPES.BYTES],fileEncSha256:[8,r.TYPES.BYTES],directPath:[9,r.TYPES.STRING],mediaKeyTimestamp:[10,r.TYPES.INT64],contextInfo:[17,r.TYPES.MESSAGE,Lt],streamingSidecar:[18,r.TYPES.BYTES],waveform:[19,r.TYPES.BYTES],backgroundArgb:[20,r.TYPES.FIXED32],viewOnce:[21,r.TYPES.BOOL]},Ot.internalSpec={url:[1,r.TYPES.STRING],mimetype:[2,r.TYPES.STRING],title:[3,r.TYPES.STRING],fileSha256:[4,r.TYPES.BYTES],fileLength:[5,r.TYPES.UINT64],pageCount:[6,r.TYPES.UINT32],mediaKey:[7,r.TYPES.BYTES],fileName:[8,r.TYPES.STRING],fileEncSha256:[9,r.TYPES.BYTES],directPath:[10,r.TYPES.STRING],mediaKeyTimestamp:[11,r.TYPES.INT64],contactVcard:[12,r.TYPES.BOOL],thumbnailDirectPath:[13,r.TYPES.STRING],thumbnailSha256:[14,r.TYPES.BYTES],thumbnailEncSha256:[15,r.TYPES.BYTES],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Lt],thumbnailHeight:[18,r.TYPES.UINT32],thumbnailWidth:[19,r.TYPES.UINT32],caption:[20,r.TYPES.STRING]},Pt.internalSpec={text:[1,r.TYPES.STRING],matchedText:[2,r.TYPES.STRING],canonicalUrl:[4,r.TYPES.STRING],description:[5,r.TYPES.STRING],title:[6,r.TYPES.STRING],textArgb:[7,r.TYPES.FIXED32],backgroundArgb:[8,r.TYPES.FIXED32],font:[9,r.TYPES.ENUM,R],previewType:[10,r.TYPES.ENUM,M],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Lt],doNotPlayInline:[18,r.TYPES.BOOL],thumbnailDirectPath:[19,r.TYPES.STRING],thumbnailSha256:[20,r.TYPES.BYTES],thumbnailEncSha256:[21,r.TYPES.BYTES],mediaKey:[22,r.TYPES.BYTES],mediaKeyTimestamp:[23,r.TYPES.INT64],thumbnailHeight:[24,r.TYPES.UINT32],thumbnailWidth:[25,r.TYPES.UINT32],inviteLinkGroupType:[26,r.TYPES.ENUM,b],inviteLinkParentGroupSubjectV2:[27,r.TYPES.STRING],inviteLinkParentGroupThumbnailV2:[28,r.TYPES.BYTES],inviteLinkGroupTypeV2:[29,r.TYPES.ENUM,b],viewOnce:[30,r.TYPES.BOOL],thumbnailCdnUrl:[31,r.TYPES.STRING]},Nt.internalSpec={degreesLatitude:[1,r.TYPES.DOUBLE],degreesLongitude:[2,r.TYPES.DOUBLE],name:[3,r.TYPES.STRING],address:[4,r.TYPES.STRING],url:[5,r.TYPES.STRING],isLive:[6,r.TYPES.BOOL],accuracyInMeters:[7,r.TYPES.UINT32],speedInMps:[8,r.TYPES.FLOAT],degreesClockwiseFromMagneticNorth:[9,r.TYPES.UINT32],comment:[11,r.TYPES.STRING],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Lt]},bt.internalSpec={displayName:[1,r.TYPES.STRING],vcard:[16,r.TYPES.STRING],contextInfo:[17,r.TYPES.MESSAGE,Lt]},Mt.internalSpec={note:[1,r.TYPES.STRING],token:[2,r.TYPES.STRING],attachmentType:[3,r.TYPES.ENUM,D],attachmentMimetype:[4,r.TYPES.STRING],attachmentMediaKey:[5,r.TYPES.BYTES],attachmentMediaKeyTimestamp:[6,r.TYPES.INT64],attachmentFileSha256:[7,r.TYPES.BYTES],attachmentFileEncSha256:[8,r.TYPES.BYTES],attachmentDirectPath:[9,r.TYPES.STRING],attachmentJpegThumbnail:[10,r.TYPES.BYTES]},Rt.internalSpec={url:[1,r.TYPES.STRING],mimetype:[2,r.TYPES.STRING],caption:[3,r.TYPES.STRING],fileSha256:[4,r.TYPES.BYTES],fileLength:[5,r.TYPES.UINT64],height:[6,r.TYPES.UINT32],width:[7,r.TYPES.UINT32],mediaKey:[8,r.TYPES.BYTES],fileEncSha256:[9,r.TYPES.BYTES],interactiveAnnotations:[10,r.FLAGS.REPEATED|r.TYPES.MESSAGE,jt],directPath:[11,r.TYPES.STRING],mediaKeyTimestamp:[12,r.TYPES.INT64],jpegThumbnail:[16,r.TYPES.BYTES],contextInfo:[17,r.TYPES.MESSAGE,Lt],firstScanSidecar:[18,r.TYPES.BYTES],firstScanLength:[19,r.TYPES.UINT32],experimentGroupId:[20,r.TYPES.UINT32],scansSidecar:[21,r.TYPES.BYTES],scanLengths:[22,r.FLAGS.REPEATED|r.TYPES.UINT32],midQualityFileSha256:[23,r.TYPES.BYTES],midQualityFileEncSha256:[24,r.TYPES.BYTES],viewOnce:[25,r.TYPES.BOOL],thumbnailDirectPath:[26,r.TYPES.STRING],thumbnailSha256:[27,r.TYPES.BYTES],thumbnailEncSha256:[28,r.TYPES.BYTES],staticUrl:[29,r.TYPES.STRING]},Dt.internalSpec={groupId:[1,r.TYPES.STRING],axolotlSenderKeyDistributionMessage:[2,r.TYPES.BYTES]},Lt.internalSpec={stanzaId:[1,r.TYPES.STRING],participant:[2,r.TYPES.STRING],quotedMessage:[3,r.TYPES.MESSAGE,F],remoteJid:[4,r.TYPES.STRING],mentionedJid:[15,r.FLAGS.REPEATED|r.TYPES.STRING],conversionSource:[18,r.TYPES.STRING],conversionData:[19,r.TYPES.BYTES],conversionDelaySeconds:[20,r.TYPES.UINT32],forwardingScore:[21,r.TYPES.UINT32],isForwarded:[22,r.TYPES.BOOL],quotedAd:[23,r.TYPES.MESSAGE,Gt],placeholderKey:[24,r.TYPES.MESSAGE,i.MessageKeySpec],expiration:[25,r.TYPES.UINT32],ephemeralSettingTimestamp:[26,r.TYPES.INT64],ephemeralSharedSecret:[27,r.TYPES.BYTES],externalAdReply:[28,r.TYPES.MESSAGE,Ut],entryPointConversionSource:[29,r.TYPES.STRING],entryPointConversionApp:[30,r.TYPES.STRING],entryPointConversionDelaySeconds:[31,r.TYPES.UINT32],disappearingMode:[32,r.TYPES.MESSAGE,on],actionLink:[33,r.TYPES.MESSAGE,an],groupSubject:[34,r.TYPES.STRING],parentGroupJid:[35,r.TYPES.STRING],trustBannerType:[37,r.TYPES.STRING],trustBannerAction:[38,r.TYPES.UINT32],isSampled:[39,r.TYPES.BOOL],groupMentions:[40,r.FLAGS.REPEATED|r.TYPES.MESSAGE,sn],utm:[41,r.TYPES.MESSAGE,Bt],forwardedNewsletterMessageInfo:[43,r.TYPES.MESSAGE,wt],businessMessageForwardInfo:[44,r.TYPES.MESSAGE,kt],smbClientCampaignId:[45,r.TYPES.STRING],smbServerCampaignId:[46,r.TYPES.STRING]},wt.internalSpec={newsletterJid:[1,r.TYPES.STRING],serverMessageId:[2,r.TYPES.INT32],newsletterName:[3,r.TYPES.STRING]},Bt.internalSpec={utmSource:[1,r.TYPES.STRING],utmCampaign:[2,r.TYPES.STRING]},Ut.internalSpec={title:[1,r.TYPES.STRING],body:[2,r.TYPES.STRING],mediaType:[3,r.TYPES.ENUM,L],thumbnailUrl:[4,r.TYPES.STRING],mediaUrl:[5,r.TYPES.STRING],thumbnail:[6,r.TYPES.BYTES],sourceType:[7,r.TYPES.STRING],sourceId:[8,r.TYPES.STRING],sourceUrl:[9,r.TYPES.STRING],containsAutoReply:[10,r.TYPES.BOOL],renderLargerThumbnail:[11,r.TYPES.BOOL],showAdAttribution:[12,r.TYPES.BOOL],ctwaClid:[13,r.TYPES.STRING],ref:[14,r.TYPES.STRING]},Gt.internalSpec={advertiserName:[1,r.TYPES.STRING],mediaType:[2,r.TYPES.ENUM,w],jpegThumbnail:[16,r.TYPES.BYTES],caption:[17,r.TYPES.STRING]},kt.internalSpec={businessOwnerJid:[1,r.TYPES.STRING]},Yt.internalSpec={sentiment:[1,r.TYPES.UINT32],behaviorGraph:[2,r.TYPES.STRING],action:[3,r.TYPES.UINT32],intensity:[4,r.TYPES.UINT32],wordCount:[5,r.TYPES.UINT32]},Ft.internalSpec={provider:[1,r.TYPES.ENUM,B]},Kt.internalSpec={avatarMetadata:[1,r.TYPES.MESSAGE,Yt],personaId:[2,r.TYPES.STRING],pluginMetadata:[3,r.TYPES.MESSAGE,Ft]},xt.internalSpec={deviceListMetadata:[1,r.TYPES.MESSAGE,Ht],deviceListMetadataVersion:[2,r.TYPES.INT32],messageSecret:[3,r.TYPES.BYTES],paddingBytes:[4,r.TYPES.BYTES],messageAddOnDurationInSecs:[5,r.TYPES.UINT32],botMessageSecret:[6,r.TYPES.BYTES],botMetadata:[7,r.TYPES.MESSAGE,Kt]},Ht.internalSpec={senderKeyHash:[1,r.TYPES.BYTES],senderTimestamp:[2,r.TYPES.UINT64],senderKeyIndexes:[3,r.FLAGS.REPEATED|r.FLAGS.PACKED|r.TYPES.UINT32],recipientKeyHash:[8,r.TYPES.BYTES],recipientTimestamp:[9,r.TYPES.UINT64],recipientKeyIndexes:[10,r.FLAGS.REPEATED|r.FLAGS.PACKED|r.TYPES.UINT32]},jt.internalSpec={polygonVertices:[1,r.FLAGS.REPEATED|r.TYPES.MESSAGE,Vt],location:[2,r.TYPES.MESSAGE,Wt],__oneofs__:{action:["location"]}},Vt.internalSpec={xDeprecated:[1,r.TYPES.INT32],yDeprecated:[2,r.TYPES.INT32],x:[3,r.TYPES.DOUBLE],y:[4,r.TYPES.DOUBLE]},Wt.internalSpec={degreesLatitude:[1,r.TYPES.DOUBLE],degreesLongitude:[2,r.TYPES.DOUBLE],name:[3,r.TYPES.STRING]},Qt.internalSpec={quickReplyButton:[1,r.TYPES.MESSAGE,Jt],urlButton:[2,r.TYPES.MESSAGE,zt],callButton:[3,r.TYPES.MESSAGE,$t],index:[4,r.TYPES.UINT32],__oneofs__:{button:["quickReplyButton","urlButton","callButton"]}},$t.internalSpec={displayText:[1,r.TYPES.MESSAGE,$e],phoneNumber:[2,r.TYPES.MESSAGE,$e]},zt.internalSpec={displayText:[1,r.TYPES.MESSAGE,$e],url:[2,r.TYPES.MESSAGE,$e]},Jt.internalSpec={displayText:[1,r.TYPES.MESSAGE,$e],id:[2,r.TYPES.STRING]},qt.internalSpec={quickReplyButton:[1,r.TYPES.MESSAGE,en],urlButton:[2,r.TYPES.MESSAGE,Zt],callButton:[3,r.TYPES.MESSAGE,Xt],index:[4,r.TYPES.UINT32],__oneofs__:{hydratedButton:["quickReplyButton","urlButton","callButton"]}},Xt.internalSpec={displayText:[1,r.TYPES.STRING],phoneNumber:[2,r.TYPES.STRING]},Zt.internalSpec={displayText:[1,r.TYPES.STRING],url:[2,r.TYPES.STRING]},en.internalSpec={displayText:[1,r.TYPES.STRING],id:[2,r.TYPES.STRING]},tn.internalSpec={value:[1,r.TYPES.INT64],offset:[2,r.TYPES.UINT32],currencyCode:[3,r.TYPES.STRING]},nn.internalSpec={id:[1,r.TYPES.STRING],fileLength:[2,r.TYPES.UINT64],width:[3,r.TYPES.UINT32],height:[4,r.TYPES.UINT32],mimetype:[5,r.TYPES.STRING],placeholderArgb:[6,r.TYPES.FIXED32],textArgb:[7,r.TYPES.FIXED32],subtextArgb:[8,r.TYPES.FIXED32],mediaData:[9,r.TYPES.MESSAGE,rn],type:[10,r.TYPES.ENUM,U]},rn.internalSpec={mediaKey:[1,r.TYPES.BYTES],mediaKeyTimestamp:[2,r.TYPES.INT64],fileSha256:[3,r.TYPES.BYTES],fileEncSha256:[4,r.TYPES.BYTES],directPath:[5,r.TYPES.STRING]},on.internalSpec={initiator:[1,r.TYPES.ENUM,k],trigger:[2,r.TYPES.ENUM,G],initiatorDeviceJid:[3,r.TYPES.STRING]},an.internalSpec={url:[1,r.TYPES.STRING],buttonTitle:[2,r.TYPES.STRING]},sn.internalSpec={groupJid:[1,r.TYPES.STRING],groupSubject:[2,r.TYPES.STRING]},ln.internalSpec={version:[1,r.TYPES.SFIXED32],encIv:[2,r.TYPES.BYTES],encPayload:[3,r.TYPES.BYTES]}},13134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EphemeralSettingSpec=void 0;var r=n(91451);const i={};t.EphemeralSettingSpec=i,i.internalSpec={duration:[1,r.TYPES.SFIXED32],timestamp:[2,r.TYPES.SFIXED64]}},25993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WallpaperSettingsSpec=t.StickerMetadataSpec=t.PushnameSpec=t.PastParticipantsSpec=t.PastParticipantSpec=t.PastParticipant$LeaveReason=t.NotificationSettingsSpec=t.MediaVisibility=t.HistorySyncSpec=t.HistorySyncMsgSpec=t.HistorySync$HistorySyncType=t.GroupParticipantSpec=t.GroupParticipant$Rank=t.GlobalSettingsSpec=t.ConversationSpec=t.Conversation$EndOfHistoryTransferType=t.AvatarUserSettingsSpec=t.AutoDownloadSettingsSpec=void 0;var r=n(91451),i=n(38601),o=n(77026),a=n(16242);const s=n(76672)({INITIAL_BOOTSTRAP:0,INITIAL_STATUS_V3:1,FULL:2,RECENT:3,PUSH_NAME:4,NON_BLOCKING_DATA:5,ON_DEMAND:6});t.HistorySync$HistorySyncType=s;const l=n(76672)({COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY:0,COMPLETE_AND_NO_MORE_MESSAGE_REMAIN_ON_PRIMARY:1,COMPLETE_ON_DEMAND_SYNC_BUT_MORE_MSG_REMAIN_ON_PRIMARY:2});t.Conversation$EndOfHistoryTransferType=l;const c=n(76672)({REGULAR:0,ADMIN:1,SUPERADMIN:2});t.GroupParticipant$Rank=c;const u=n(76672)({DEFAULT:0,OFF:1,ON:2});t.MediaVisibility=u;const d=n(76672)({LEFT:0,REMOVED:1});t.PastParticipant$LeaveReason=d;const _={};t.HistorySyncSpec=_;const p={};t.ConversationSpec=p;const f={};t.HistorySyncMsgSpec=f;const E={};t.PushnameSpec=E;const A={};t.GroupParticipantSpec=A;const g={};t.WallpaperSettingsSpec=g;const h={};t.GlobalSettingsSpec=h;const S={};t.AutoDownloadSettingsSpec=S;const T={};t.StickerMetadataSpec=T;const m={};t.PastParticipantsSpec=m;const I={};t.PastParticipantSpec=I;const y={};t.AvatarUserSettingsSpec=y;const C={};t.NotificationSettingsSpec=C,_.internalSpec={syncType:[1,r.FLAGS.REQUIRED|r.TYPES.ENUM,s],conversations:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,p],statusV3Messages:[3,r.FLAGS.REPEATED|r.TYPES.MESSAGE,i.WebMessageInfoSpec],chunkOrder:[5,r.TYPES.UINT32],progress:[6,r.TYPES.UINT32],pushnames:[7,r.FLAGS.REPEATED|r.TYPES.MESSAGE,E],globalSettings:[8,r.TYPES.MESSAGE,h],threadIdUserSecret:[9,r.TYPES.BYTES],threadDsTimeframeOffset:[10,r.TYPES.UINT32],recentStickers:[11,r.FLAGS.REPEATED|r.TYPES.MESSAGE,T],pastParticipants:[12,r.FLAGS.REPEATED|r.TYPES.MESSAGE,m],callLogRecords:[13,r.FLAGS.REPEATED|r.TYPES.MESSAGE,a.CallLogRecordSpec]},p.internalSpec={id:[1,r.FLAGS.REQUIRED|r.TYPES.STRING],messages:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,f],newJid:[3,r.TYPES.STRING],oldJid:[4,r.TYPES.STRING],lastMsgTimestamp:[5,r.TYPES.UINT64],unreadCount:[6,r.TYPES.UINT32],readOnly:[7,r.TYPES.BOOL],endOfHistoryTransfer:[8,r.TYPES.BOOL],ephemeralExpiration:[9,r.TYPES.UINT32],ephemeralSettingTimestamp:[10,r.TYPES.INT64],endOfHistoryTransferType:[11,r.TYPES.ENUM,l],conversationTimestamp:[12,r.TYPES.UINT64],name:[13,r.TYPES.STRING],pHash:[14,r.TYPES.STRING],notSpam:[15,r.TYPES.BOOL],archived:[16,r.TYPES.BOOL],disappearingMode:[17,r.TYPES.MESSAGE,o.DisappearingModeSpec],unreadMentionCount:[18,r.TYPES.UINT32],markedAsUnread:[19,r.TYPES.BOOL],participant:[20,r.FLAGS.REPEATED|r.TYPES.MESSAGE,A],tcToken:[21,r.TYPES.BYTES],tcTokenTimestamp:[22,r.TYPES.UINT64],contactPrimaryIdentityKey:[23,r.TYPES.BYTES],pinned:[24,r.TYPES.UINT32],muteEndTime:[25,r.TYPES.UINT64],wallpaper:[26,r.TYPES.MESSAGE,g],mediaVisibility:[27,r.TYPES.ENUM,u],tcTokenSenderTimestamp:[28,r.TYPES.UINT64],suspended:[29,r.TYPES.BOOL],terminated:[30,r.TYPES.BOOL],createdAt:[31,r.TYPES.UINT64],createdBy:[32,r.TYPES.STRING],description:[33,r.TYPES.STRING],support:[34,r.TYPES.BOOL],isParentGroup:[35,r.TYPES.BOOL],parentGroupId:[37,r.TYPES.STRING],isDefaultSubgroup:[36,r.TYPES.BOOL],displayName:[38,r.TYPES.STRING],pnJid:[39,r.TYPES.STRING],shareOwnPn:[40,r.TYPES.BOOL],pnhDuplicateLidThread:[41,r.TYPES.BOOL],lidJid:[42,r.TYPES.STRING]},f.internalSpec={message:[1,r.TYPES.MESSAGE,i.WebMessageInfoSpec],msgOrderId:[2,r.TYPES.UINT64]},E.internalSpec={id:[1,r.TYPES.STRING],pushname:[2,r.TYPES.STRING]},A.internalSpec={userJid:[1,r.FLAGS.REQUIRED|r.TYPES.STRING],rank:[2,r.TYPES.ENUM,c]},g.internalSpec={filename:[1,r.TYPES.STRING],opacity:[2,r.TYPES.UINT32]},h.internalSpec={lightThemeWallpaper:[1,r.TYPES.MESSAGE,g],mediaVisibility:[2,r.TYPES.ENUM,u],darkThemeWallpaper:[3,r.TYPES.MESSAGE,g],autoDownloadWiFi:[4,r.TYPES.MESSAGE,S],autoDownloadCellular:[5,r.TYPES.MESSAGE,S],autoDownloadRoaming:[6,r.TYPES.MESSAGE,S],showIndividualNotificationsPreview:[7,r.TYPES.BOOL],showGroupNotificationsPreview:[8,r.TYPES.BOOL],disappearingModeDuration:[9,r.TYPES.INT32],disappearingModeTimestamp:[10,r.TYPES.INT64],avatarUserSettings:[11,r.TYPES.MESSAGE,y],fontSize:[12,r.TYPES.INT32],securityNotifications:[13,r.TYPES.BOOL],autoUnarchiveChats:[14,r.TYPES.BOOL],videoQualityMode:[15,r.TYPES.INT32],photoQualityMode:[16,r.TYPES.INT32],individualNotificationSettings:[17,r.TYPES.MESSAGE,C],groupNotificationSettings:[18,r.TYPES.MESSAGE,C]},S.internalSpec={downloadImages:[1,r.TYPES.BOOL],downloadAudio:[2,r.TYPES.BOOL],downloadVideo:[3,r.TYPES.BOOL],downloadDocuments:[4,r.TYPES.BOOL]},T.internalSpec={url:[1,r.TYPES.STRING],fileSha256:[2,r.TYPES.BYTES],fileEncSha256:[3,r.TYPES.BYTES],mediaKey:[4,r.TYPES.BYTES],mimetype:[5,r.TYPES.STRING],height:[6,r.TYPES.UINT32],width:[7,r.TYPES.UINT32],directPath:[8,r.TYPES.STRING],fileLength:[9,r.TYPES.UINT64],weight:[10,r.TYPES.FLOAT],lastStickerSentTs:[11,r.TYPES.INT64]},m.internalSpec={groupJid:[1,r.TYPES.STRING],pastParticipants:[2,r.FLAGS.REPEATED|r.TYPES.MESSAGE,I]},I.internalSpec={userJid:[1,r.TYPES.STRING],leaveReason:[2,r.TYPES.ENUM,d],leaveTs:[3,r.TYPES.UINT64]},y.internalSpec={fbid:[1,r.TYPES.STRING],password:[2,r.TYPES.STRING]},C.internalSpec={messageVibrate:[1,r.TYPES.STRING],messagePopup:[2,r.TYPES.STRING],messageLight:[3,r.TYPES.STRING],lowPriorityNotifications:[4,r.TYPES.BOOL],reactionsMuted:[5,r.TYPES.BOOL],callVibrate:[6,r.TYPES.STRING]}},44277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatRowOpaqueDataSpec=t.ChatRowOpaqueData$DraftMessageSpec=t.ChatRowOpaqueData$DraftMessage$CtwaContextLinkDataSpec=t.ChatRowOpaqueData$DraftMessage$CtwaContextDataSpec=t.ChatRowOpaqueData$DraftMessage$CtwaContextData$ContextInfoExternalAdReplyInfoMediaType=void 0;var r=n(91451);const i=n(76672)({NONE:0,IMAGE:1,VIDEO:2});t.ChatRowOpaqueData$DraftMessage$CtwaContextData$ContextInfoExternalAdReplyInfoMediaType=i;const o={};t.ChatRowOpaqueDataSpec=o;const a={};t.ChatRowOpaqueData$DraftMessageSpec=a;const s={};t.ChatRowOpaqueData$DraftMessage$CtwaContextDataSpec=s;const l={};t.ChatRowOpaqueData$DraftMessage$CtwaContextLinkDataSpec=l,o.internalSpec={draftMessage:[1,r.TYPES.MESSAGE,a]},a.internalSpec={text:[1,r.TYPES.STRING],omittedUrl:[2,r.TYPES.STRING],ctwaContextLinkData:[3,r.TYPES.MESSAGE,l],ctwaContext:[4,r.TYPES.MESSAGE,s],timestamp:[5,r.TYPES.INT64]},s.internalSpec={conversionSource:[1,r.TYPES.STRING],conversionData:[2,r.TYPES.BYTES],sourceUrl:[3,r.TYPES.STRING],sourceId:[4,r.TYPES.STRING],sourceType:[5,r.TYPES.STRING],title:[6,r.TYPES.STRING],description:[7,r.TYPES.STRING],thumbnail:[8,r.TYPES.STRING],thumbnailUrl:[9,r.TYPES.STRING],mediaType:[10,r.TYPES.ENUM,i],mediaUrl:[11,r.TYPES.STRING],isSuspiciousLink:[12,r.TYPES.BOOL]},l.internalSpec={context:[1,r.TYPES.STRING],sourceUrl:[2,r.TYPES.STRING],icebreaker:[3,r.TYPES.STRING],phone:[4,r.TYPES.STRING]}},34801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollEncValueSpec=t.MsgRowOpaqueDataSpec=t.MsgOpaqueDataSpec=t.MsgOpaqueData$PollOptionSpec=void 0;var r=n(91451);const i={};t.MsgRowOpaqueDataSpec=i;const o={};t.PollEncValueSpec=o;const a={};t.MsgOpaqueDataSpec=a;const s={};t.MsgOpaqueData$PollOptionSpec=s,i.internalSpec={currentMsg:[1,r.TYPES.MESSAGE,a],quotedMsg:[2,r.TYPES.MESSAGE,a]},o.internalSpec={encPayload:[1,r.TYPES.BYTES],encIv:[2,r.TYPES.BYTES]},a.internalSpec={body:[1,r.TYPES.STRING],caption:[3,r.TYPES.STRING],lng:[5,r.TYPES.DOUBLE],isLive:[6,r.TYPES.BOOL],lat:[7,r.TYPES.DOUBLE],paymentAmount1000:[8,r.TYPES.INT32],paymentNoteMsgBody:[9,r.TYPES.STRING],canonicalUrl:[10,r.TYPES.STRING],matchedText:[11,r.TYPES.STRING],title:[12,r.TYPES.STRING],description:[13,r.TYPES.STRING],futureproofBuffer:[14,r.TYPES.BYTES],clientUrl:[15,r.TYPES.STRING],loc:[16,r.TYPES.STRING],pollName:[17,r.TYPES.STRING],pollOptions:[18,r.FLAGS.REPEATED|r.TYPES.MESSAGE,s],pollSelectableOptionsCount:[20,r.TYPES.UINT32],messageSecret:[21,r.TYPES.BYTES],originalSelfAuthor:[51,r.TYPES.STRING],senderTimestampMs:[22,r.TYPES.INT64],pollUpdateParentKey:[23,r.TYPES.STRING],encPollVote:[24,r.TYPES.MESSAGE,o],isSentCagPollCreation:[28,r.TYPES.BOOL],encReactionTargetMessageKey:[25,r.TYPES.STRING],encReactionEncPayload:[26,r.TYPES.BYTES],encReactionEncIv:[27,r.TYPES.BYTES],botMessageSecret:[29,r.TYPES.BYTES]},s.internalSpec={name:[1,r.TYPES.STRING]}},92754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerErrorReceiptSpec=t.MediaRetryNotificationSpec=t.MediaRetryNotification$ResultType=void 0;var r=n(91451);const i=n(76672)({GENERAL_ERROR:0,SUCCESS:1,NOT_FOUND:2,DECRYPTION_ERROR:3});t.MediaRetryNotification$ResultType=i;const o={};t.MediaRetryNotificationSpec=o;const a={};t.ServerErrorReceiptSpec=a,o.internalSpec={stanzaId:[1,r.TYPES.STRING],directPath:[2,r.TYPES.STRING],result:[3,r.TYPES.ENUM,i]},a.internalSpec={stanzaId:[1,r.TYPES.STRING]}},17059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageKeySpec=void 0;var r=n(91451);const i={};t.MessageKeySpec=i,i.internalSpec={remoteJid:[1,r.TYPES.STRING],fromMe:[2,r.TYPES.BOOL],id:[3,r.TYPES.STRING],participant:[4,r.TYPES.STRING]}},4012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerifiedNameCertificateSpec=t.VerifiedNameCertificate$DetailsSpec=t.LocalizedNameSpec=t.BizIdentityInfoSpec=t.BizIdentityInfo$VerifiedLevelValue=t.BizIdentityInfo$HostStorageType=t.BizIdentityInfo$ActualActorsType=t.BizAccountPayloadSpec=t.BizAccountLinkInfoSpec=t.BizAccountLinkInfo$HostStorageType=t.BizAccountLinkInfo$AccountType=void 0;var r=n(91451);const i=n(76672)({ENTERPRISE:0});t.BizAccountLinkInfo$AccountType=i;const o=n(76672)({ON_PREMISE:0,FACEBOOK:1});t.BizAccountLinkInfo$HostStorageType=o;const a=n(76672)({SELF:0,BSP:1});t.BizIdentityInfo$ActualActorsType=a;const s=n(76672)({ON_PREMISE:0,FACEBOOK:1});t.BizIdentityInfo$HostStorageType=s;const l=n(76672)({UNKNOWN:0,LOW:1,HIGH:2});t.BizIdentityInfo$VerifiedLevelValue=l;const c={};t.LocalizedNameSpec=c;const u={};t.VerifiedNameCertificateSpec=u;const d={};t.VerifiedNameCertificate$DetailsSpec=d;const _={};t.BizAccountPayloadSpec=_;const p={};t.BizAccountLinkInfoSpec=p;const f={};t.BizIdentityInfoSpec=f,c.internalSpec={lg:[1,r.TYPES.STRING],lc:[2,r.TYPES.STRING],verifiedName:[3,r.TYPES.STRING]},u.internalSpec={details:[1,r.TYPES.BYTES],signature:[2,r.TYPES.BYTES],serverSignature:[3,r.TYPES.BYTES]},d.internalSpec={serial:[1,r.TYPES.UINT64],issuer:[2,r.TYPES.STRING],verifiedName:[4,r.TYPES.STRING],localizedNames:[8,r.FLAGS.REPEATED|r.TYPES.MESSAGE,c],issueTime:[10,r.TYPES.UINT64]},_.internalSpec={vnameCert:[1,r.TYPES.MESSAGE,u],bizAcctLinkInfo:[2,r.TYPES.BYTES]},p.internalSpec={whatsappBizAcctFbid:[1,r.TYPES.UINT64],whatsappAcctNumber:[2,r.TYPES.STRING],issueTime:[3,r.TYPES.UINT64],hostStorage:[4,r.TYPES.ENUM,o],accountType:[5,r.TYPES.ENUM,i]},f.internalSpec={vlevel:[1,r.TYPES.ENUM,l],vnameCert:[2,r.TYPES.MESSAGE,u],signed:[3,r.TYPES.BOOL],revoked:[4,r.TYPES.BOOL],hostStorage:[5,r.TYPES.ENUM,s],actualActors:[6,r.TYPES.ENUM,a],privacyModeTs:[7,r.TYPES.UINT64],featureControls:[8,r.TYPES.UINT64]}},56131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandshakeMessageSpec=t.HandshakeMessage$ServerHelloSpec=t.HandshakeMessage$ClientHelloSpec=t.HandshakeMessage$ClientFinishSpec=t.ClientPayloadSpec=t.ClientPayload$WebInfoSpec=t.ClientPayload$WebInfo$WebdPayloadSpec=t.ClientPayload$WebInfo$WebSubPlatform=t.ClientPayload$UserAgentSpec=t.ClientPayload$UserAgent$ReleaseChannel=t.ClientPayload$UserAgent$Platform=t.ClientPayload$UserAgent$DeviceType=t.ClientPayload$UserAgent$AppVersionSpec=t.ClientPayload$Product=t.ClientPayload$IOSAppExtension=t.ClientPayload$DevicePairingRegistrationDataSpec=t.ClientPayload$DNSSourceSpec=t.ClientPayload$DNSSource$DNSResolutionMethod=t.ClientPayload$ConnectType=t.ClientPayload$ConnectReason=void 0;var r=n(91451);const i=n(76672)({WHATSAPP:0,MESSENGER:1});t.ClientPayload$Product=i;const o=n(76672)({SYSTEM:0,GOOGLE:1,HARDCODED:2,OVERRIDE:3,FALLBACK:4});t.ClientPayload$DNSSource$DNSResolutionMethod=o;const a=n(76672)({CELLULAR_UNKNOWN:0,WIFI_UNKNOWN:1,CELLULAR_EDGE:100,CELLULAR_IDEN:101,CELLULAR_UMTS:102,CELLULAR_EVDO:103,CELLULAR_GPRS:104,CELLULAR_HSDPA:105,CELLULAR_HSUPA:106,CELLULAR_HSPA:107,CELLULAR_CDMA:108,CELLULAR_1XRTT:109,CELLULAR_EHRPD:110,CELLULAR_LTE:111,CELLULAR_HSPAP:112});t.ClientPayload$ConnectType=a;const s=n(76672)({PUSH:0,USER_ACTIVATED:1,SCHEDULED:2,ERROR_RECONNECT:3,NETWORK_SWITCH:4,PING_RECONNECT:5,UNKNOWN:6});t.ClientPayload$ConnectReason=s;const l=n(76672)({SHARE_EXTENSION:0,SERVICE_EXTENSION:1,INTENTS_EXTENSION:2});t.ClientPayload$IOSAppExtension=l;const c=n(76672)({WEB_BROWSER:0,APP_STORE:1,WIN_STORE:2,DARWIN:3,WIN32:4});t.ClientPayload$WebInfo$WebSubPlatform=c;const u=n(76672)({PHONE:0,TABLET:1,DESKTOP:2,WEARABLE:3,VR:4});t.ClientPayload$UserAgent$DeviceType=u;const d=n(76672)({RELEASE:0,BETA:1,ALPHA:2,DEBUG:3});t.ClientPayload$UserAgent$ReleaseChannel=d;const _=n(76672)({ANDROID:0,IOS:1,WINDOWS_PHONE:2,BLACKBERRY:3,BLACKBERRYX:4,S40:5,S60:6,PYTHON_CLIENT:7,TIZEN:8,ENTERPRISE:9,SMB_ANDROID:10,KAIOS:11,SMB_IOS:12,WINDOWS:13,WEB:14,PORTAL:15,GREEN_ANDROID:16,GREEN_IPHONE:17,BLUE_ANDROID:18,BLUE_IPHONE:19,FBLITE_ANDROID:20,MLITE_ANDROID:21,IGLITE_ANDROID:22,PAGE:23,MACOS:24,OCULUS_MSG:25,OCULUS_CALL:26,MILAN:27,CAPI:28,WEAROS:29,ARDEVICE:30,VRDEVICE:31,BLUE_WEB:32,IPAD:33,TEST:34});t.ClientPayload$UserAgent$Platform=_;const p={};t.HandshakeMessageSpec=p;const f={};t.HandshakeMessage$ClientFinishSpec=f;const E={};t.HandshakeMessage$ServerHelloSpec=E;const A={};t.HandshakeMessage$ClientHelloSpec=A;const g={};t.ClientPayloadSpec=g;const h={};t.ClientPayload$DevicePairingRegistrationDataSpec=h;const S={};t.ClientPayload$DNSSourceSpec=S;const T={};t.ClientPayload$WebInfoSpec=T;const m={};t.ClientPayload$WebInfo$WebdPayloadSpec=m;const I={};t.ClientPayload$UserAgentSpec=I;const y={};t.ClientPayload$UserAgent$AppVersionSpec=y,p.internalSpec={clientHello:[2,r.TYPES.MESSAGE,A],serverHello:[3,r.TYPES.MESSAGE,E],clientFinish:[4,r.TYPES.MESSAGE,f]},f.internalSpec={static:[1,r.TYPES.BYTES],payload:[2,r.TYPES.BYTES]},E.internalSpec={ephemeral:[1,r.TYPES.BYTES],static:[2,r.TYPES.BYTES],payload:[3,r.TYPES.BYTES]},A.internalSpec={ephemeral:[1,r.TYPES.BYTES],static:[2,r.TYPES.BYTES],payload:[3,r.TYPES.BYTES]},g.internalSpec={username:[1,r.TYPES.UINT64],passive:[3,r.TYPES.BOOL],userAgent:[5,r.TYPES.MESSAGE,I],webInfo:[6,r.TYPES.MESSAGE,T],pushName:[7,r.TYPES.STRING],sessionId:[9,r.TYPES.SFIXED32],shortConnect:[10,r.TYPES.BOOL],connectType:[12,r.TYPES.ENUM,a],connectReason:[13,r.TYPES.ENUM,s],shards:[14,r.FLAGS.REPEATED|r.TYPES.INT32],dnsSource:[15,r.TYPES.MESSAGE,S],connectAttemptCount:[16,r.TYPES.UINT32],device:[18,r.TYPES.UINT32],devicePairingData:[19,r.TYPES.MESSAGE,h],product:[20,r.TYPES.ENUM,i],fbCat:[21,r.TYPES.BYTES],fbUserAgent:[22,r.TYPES.BYTES],oc:[23,r.TYPES.BOOL],lc:[24,r.TYPES.INT32],iosAppExtension:[30,r.TYPES.ENUM,l],fbAppId:[31,r.TYPES.UINT64],fbDeviceId:[32,r.TYPES.BYTES],pull:[33,r.TYPES.BOOL],paddingBytes:[34,r.TYPES.BYTES],yearClass:[36,r.TYPES.INT32],memClass:[37,r.TYPES.INT32]},h.internalSpec={eRegid:[1,r.TYPES.BYTES],eKeytype:[2,r.TYPES.BYTES],eIdent:[3,r.TYPES.BYTES],eSkeyId:[4,r.TYPES.BYTES],eSkeyVal:[5,r.TYPES.BYTES],eSkeySig:[6,r.TYPES.BYTES],buildHash:[7,r.TYPES.BYTES],deviceProps:[8,r.TYPES.BYTES]},S.internalSpec={dnsMethod:[15,r.TYPES.ENUM,o],appCached:[16,r.TYPES.BOOL]},T.internalSpec={refToken:[1,r.TYPES.STRING],version:[2,r.TYPES.STRING],webdPayload:[3,r.TYPES.MESSAGE,m],webSubPlatform:[4,r.TYPES.ENUM,c]},m.internalSpec={usesParticipantInKey:[1,r.TYPES.BOOL],supportsStarredMessages:[2,r.TYPES.BOOL],supportsDocumentMessages:[3,r.TYPES.BOOL],supportsUrlMessages:[4,r.TYPES.BOOL],supportsMediaRetry:[5,r.TYPES.BOOL],supportsE2EImage:[6,r.TYPES.BOOL],supportsE2EVideo:[7,r.TYPES.BOOL],supportsE2EAudio:[8,r.TYPES.BOOL],supportsE2EDocument:[9,r.TYPES.BOOL],documentTypes:[10,r.TYPES.STRING],features:[11,r.TYPES.BYTES]},I.internalSpec={platform:[1,r.TYPES.ENUM,_],appVersion:[2,r.TYPES.MESSAGE,y],mcc:[3,r.TYPES.STRING],mnc:[4,r.TYPES.STRING],osVersion:[5,r.TYPES.STRING],manufacturer:[6,r.TYPES.STRING],device:[7,r.TYPES.STRING],osBuildNumber:[8,r.TYPES.STRING],phoneId:[9,r.TYPES.STRING],releaseChannel:[10,r.TYPES.ENUM,d],localeLanguageIso6391:[11,r.TYPES.STRING],localeCountryIso31661Alpha2:[12,r.TYPES.STRING],deviceBoard:[13,r.TYPES.STRING],deviceExpId:[14,r.TYPES.STRING],deviceType:[15,r.TYPES.ENUM,u]},y.internalSpec={primary:[1,r.TYPES.UINT32],secondary:[2,r.TYPES.UINT32],tertiary:[3,r.TYPES.UINT32],quaternary:[4,r.TYPES.UINT32],quinary:[5,r.TYPES.UINT32]}},16219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandshakeMessageSpec=t.HandshakeMessage$ServerHelloSpec=t.HandshakeMessage$ClientHelloSpec=t.HandshakeMessage$ClientFinishSpec=t.ClientPayloadSpec=t.ClientPayload$WebInfoSpec=t.ClientPayload$WebInfo$WebdPayloadSpec=t.ClientPayload$WebInfo$WebSubPlatform=t.ClientPayload$UserAgentSpec=t.ClientPayload$UserAgent$ReleaseChannel=t.ClientPayload$UserAgent$Platform=t.ClientPayload$UserAgent$DeviceType=t.ClientPayload$UserAgent$AppVersionSpec=t.ClientPayload$Product=t.ClientPayload$InteropDataSpec=t.ClientPayload$IOSAppExtension=t.ClientPayload$DevicePairingRegistrationDataSpec=t.ClientPayload$DNSSourceSpec=t.ClientPayload$DNSSource$DNSResolutionMethod=t.ClientPayload$ConnectType=t.ClientPayload$ConnectReason=void 0;var r=n(91451);const i=n(76672)({WHATSAPP:0,MESSENGER:1,INTEROP:2});t.ClientPayload$Product=i;const o=n(76672)({SYSTEM:0,GOOGLE:1,HARDCODED:2,OVERRIDE:3,FALLBACK:4});t.ClientPayload$DNSSource$DNSResolutionMethod=o;const a=n(76672)({CELLULAR_UNKNOWN:0,WIFI_UNKNOWN:1,CELLULAR_EDGE:100,CELLULAR_IDEN:101,CELLULAR_UMTS:102,CELLULAR_EVDO:103,CELLULAR_GPRS:104,CELLULAR_HSDPA:105,CELLULAR_HSUPA:106,CELLULAR_HSPA:107,CELLULAR_CDMA:108,CELLULAR_1XRTT:109,CELLULAR_EHRPD:110,CELLULAR_LTE:111,CELLULAR_HSPAP:112});t.ClientPayload$ConnectType=a;const s=n(76672)({PUSH:0,USER_ACTIVATED:1,SCHEDULED:2,ERROR_RECONNECT:3,NETWORK_SWITCH:4,PING_RECONNECT:5,UNKNOWN:6});t.ClientPayload$ConnectReason=s;const l=n(76672)({SHARE_EXTENSION:0,SERVICE_EXTENSION:1,INTENTS_EXTENSION:2});t.ClientPayload$IOSAppExtension=l;const c=n(76672)({WEB_BROWSER:0,APP_STORE:1,WIN_STORE:2,DARWIN:3,WIN32:4});t.ClientPayload$WebInfo$WebSubPlatform=c;const u=n(76672)({PHONE:0,TABLET:1,DESKTOP:2,WEARABLE:3,VR:4});t.ClientPayload$UserAgent$DeviceType=u;const d=n(76672)({RELEASE:0,BETA:1,ALPHA:2,DEBUG:3});t.ClientPayload$UserAgent$ReleaseChannel=d;const _=n(76672)({ANDROID:0,IOS:1,WINDOWS_PHONE:2,BLACKBERRY:3,BLACKBERRYX:4,S40:5,S60:6,PYTHON_CLIENT:7,TIZEN:8,ENTERPRISE:9,SMB_ANDROID:10,KAIOS:11,SMB_IOS:12,WINDOWS:13,WEB:14,PORTAL:15,GREEN_ANDROID:16,GREEN_IPHONE:17,BLUE_ANDROID:18,BLUE_IPHONE:19,FBLITE_ANDROID:20,MLITE_ANDROID:21,IGLITE_ANDROID:22,PAGE:23,MACOS:24,OCULUS_MSG:25,OCULUS_CALL:26,MILAN:27,CAPI:28,WEAROS:29,ARDEVICE:30,VRDEVICE:31,BLUE_WEB:32,IPAD:33,TEST:34});t.ClientPayload$UserAgent$Platform=_;const p={};t.HandshakeMessageSpec=p;const f={};t.HandshakeMessage$ClientFinishSpec=f;const E={};t.HandshakeMessage$ServerHelloSpec=E;const A={};t.HandshakeMessage$ClientHelloSpec=A;const g={};t.ClientPayloadSpec=g;const h={};t.ClientPayload$InteropDataSpec=h;const S={};t.ClientPayload$DevicePairingRegistrationDataSpec=S;const T={};t.ClientPayload$DNSSourceSpec=T;const m={};t.ClientPayload$WebInfoSpec=m;const I={};t.ClientPayload$WebInfo$WebdPayloadSpec=I;const y={};t.ClientPayload$UserAgentSpec=y;const C={};t.ClientPayload$UserAgent$AppVersionSpec=C,p.internalSpec={clientHello:[2,r.TYPES.MESSAGE,A],serverHello:[3,r.TYPES.MESSAGE,E],clientFinish:[4,r.TYPES.MESSAGE,f]},f.internalSpec={static:[1,r.TYPES.BYTES],payload:[2,r.TYPES.BYTES]},E.internalSpec={ephemeral:[1,r.TYPES.BYTES],static:[2,r.TYPES.BYTES],payload:[3,r.TYPES.BYTES]},A.internalSpec={ephemeral:[1,r.TYPES.BYTES],static:[2,r.TYPES.BYTES],payload:[3,r.TYPES.BYTES]},g.internalSpec={username:[1,r.TYPES.UINT64],passive:[3,r.TYPES.BOOL],userAgent:[5,r.TYPES.MESSAGE,y],webInfo:[6,r.TYPES.MESSAGE,m],pushName:[7,r.TYPES.STRING],sessionId:[9,r.TYPES.SFIXED32],shortConnect:[10,r.TYPES.BOOL],connectType:[12,r.TYPES.ENUM,a],connectReason:[13,r.TYPES.ENUM,s],shards:[14,r.FLAGS.REPEATED|r.TYPES.INT32],dnsSource:[15,r.TYPES.MESSAGE,T],connectAttemptCount:[16,r.TYPES.UINT32],device:[18,r.TYPES.UINT32],devicePairingData:[19,r.TYPES.MESSAGE,S],product:[20,r.TYPES.ENUM,i],fbCat:[21,r.TYPES.BYTES],fbUserAgent:[22,r.TYPES.BYTES],oc:[23,r.TYPES.BOOL],lc:[24,r.TYPES.INT32],iosAppExtension:[30,r.TYPES.ENUM,l],fbAppId:[31,r.TYPES.UINT64],fbDeviceId:[32,r.TYPES.BYTES],pull:[33,r.TYPES.BOOL],paddingBytes:[34,r.TYPES.BYTES],yearClass:[36,r.TYPES.INT32],memClass:[37,r.TYPES.INT32],interopData:[38,r.TYPES.MESSAGE,h]},h.internalSpec={accountId:[1,r.TYPES.UINT64],token:[2,r.TYPES.BYTES]},S.internalSpec={eRegid:[1,r.TYPES.BYTES],eKeytype:[2,r.TYPES.BYTES],eIdent:[3,r.TYPES.BYTES],eSkeyId:[4,r.TYPES.BYTES],eSkeyVal:[5,r.TYPES.BYTES],eSkeySig:[6,r.TYPES.BYTES],buildHash:[7,r.TYPES.BYTES],deviceProps:[8,r.TYPES.BYTES]},T.internalSpec={dnsMethod:[15,r.TYPES.ENUM,o],appCached:[16,r.TYPES.BOOL]},m.internalSpec={refToken:[1,r.TYPES.STRING],version:[2,r.TYPES.STRING],webdPayload:[3,r.TYPES.MESSAGE,I],webSubPlatform:[4,r.TYPES.ENUM,c]},I.internalSpec={usesParticipantInKey:[1,r.TYPES.BOOL],supportsStarredMessages:[2,r.TYPES.BOOL],supportsDocumentMessages:[3,r.TYPES.BOOL],supportsUrlMessages:[4,r.TYPES.BOOL],supportsMediaRetry:[5,r.TYPES.BOOL],supportsE2EImage:[6,r.TYPES.BOOL],supportsE2EVideo:[7,r.TYPES.BOOL],supportsE2EAudio:[8,r.TYPES.BOOL],supportsE2EDocument:[9,r.TYPES.BOOL],documentTypes:[10,r.TYPES.STRING],features:[11,r.TYPES.BYTES]},y.internalSpec={platform:[1,r.TYPES.ENUM,_],appVersion:[2,r.TYPES.MESSAGE,C],mcc:[3,r.TYPES.STRING],mnc:[4,r.TYPES.STRING],osVersion:[5,r.TYPES.STRING],manufacturer:[6,r.TYPES.STRING],device:[7,r.TYPES.STRING],osBuildNumber:[8,r.TYPES.STRING],phoneId:[9,r.TYPES.STRING],releaseChannel:[10,r.TYPES.ENUM,d],localeLanguageIso6391:[11,r.TYPES.STRING],localeCountryIso31661Alpha2:[12,r.TYPES.STRING],deviceBoard:[13,r.TYPES.STRING],deviceExpId:[14,r.TYPES.STRING],deviceType:[15,r.TYPES.ENUM,u]},C.internalSpec={primary:[1,r.TYPES.UINT32],secondary:[2,r.TYPES.UINT32],tertiary:[3,r.TYPES.UINT32],quaternary:[4,r.TYPES.UINT32],quinary:[5,r.TYPES.UINT32]}},38601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebNotificationsInfoSpec=t.WebMessageInfoSpec=t.WebMessageInfo$StubType=t.WebMessageInfo$Status=t.WebMessageInfo$BizPrivacyStatus=t.WebFeaturesSpec=t.WebFeatures$Flag=t.UserReceiptSpec=t.StatusPSASpec=t.ReactionSpec=t.PollUpdateSpec=t.PollAdditionalMetadataSpec=t.PinInChatSpec=t.PinInChat$Type=t.PhotoChangeSpec=t.PaymentInfoSpec=t.PaymentInfo$TxnStatus=t.PaymentInfo$Status=t.PaymentInfo$Currency=t.NotificationMessageInfoSpec=t.MessageAddOnContextInfoSpec=t.MediaDataSpec=t.KeepInChatSpec=void 0;var r=n(91451),i=n(77026),o=n(17059);const a=n(76672)({E2EE:0,FB:2,BSP:1,BSP_AND_FB:3});t.WebMessageInfo$BizPrivacyStatus=a;const s=n(76672)({UNKNOWN:0,REVOKE:1,CIPHERTEXT:2,FUTUREPROOF:3,NON_VERIFIED_TRANSITION:4,UNVERIFIED_TRANSITION:5,VERIFIED_TRANSITION:6,VERIFIED_LOW_UNKNOWN:7,VERIFIED_HIGH:8,VERIFIED_INITIAL_UNKNOWN:9,VERIFIED_INITIAL_LOW:10,VERIFIED_INITIAL_HIGH:11,VERIFIED_TRANSITION_ANY_TO_NONE:12,VERIFIED_TRANSITION_ANY_TO_HIGH:13,VERIFIED_TRANSITION_HIGH_TO_LOW:14,VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:15,VERIFIED_TRANSITION_UNKNOWN_TO_LOW:16,VERIFIED_TRANSITION_LOW_TO_UNKNOWN:17,VERIFIED_TRANSITION_NONE_TO_LOW:18,VERIFIED_TRANSITION_NONE_TO_UNKNOWN:19,GROUP_CREATE:20,GROUP_CHANGE_SUBJECT:21,GROUP_CHANGE_ICON:22,GROUP_CHANGE_INVITE_LINK:23,GROUP_CHANGE_DESCRIPTION:24,GROUP_CHANGE_RESTRICT:25,GROUP_CHANGE_ANNOUNCE:26,GROUP_PARTICIPANT_ADD:27,GROUP_PARTICIPANT_REMOVE:28,GROUP_PARTICIPANT_PROMOTE:29,GROUP_PARTICIPANT_DEMOTE:30,GROUP_PARTICIPANT_INVITE:31,GROUP_PARTICIPANT_LEAVE:32,GROUP_PARTICIPANT_CHANGE_NUMBER:33,BROADCAST_CREATE:34,BROADCAST_ADD:35,BROADCAST_REMOVE:36,GENERIC_NOTIFICATION:37,E2E_IDENTITY_CHANGED:38,E2E_ENCRYPTED:39,CALL_MISSED_VOICE:40,CALL_MISSED_VIDEO:41,INDIVIDUAL_CHANGE_NUMBER:42,GROUP_DELETE:43,GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:44,CALL_MISSED_GROUP_VOICE:45,CALL_MISSED_GROUP_VIDEO:46,PAYMENT_CIPHERTEXT:47,PAYMENT_FUTUREPROOF:48,PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:49,PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:50,PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:51,PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:52,PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:53,PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:54,PAYMENT_ACTION_SEND_PAYMENT_REMINDER:55,PAYMENT_ACTION_SEND_PAYMENT_INVITATION:56,PAYMENT_ACTION_REQUEST_DECLINED:57,PAYMENT_ACTION_REQUEST_EXPIRED:58,PAYMENT_ACTION_REQUEST_CANCELLED:59,BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:60,BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:61,BIZ_INTRO_TOP:62,BIZ_INTRO_BOTTOM:63,BIZ_NAME_CHANGE:64,BIZ_MOVE_TO_CONSUMER_APP:65,BIZ_TWO_TIER_MIGRATION_TOP:66,BIZ_TWO_TIER_MIGRATION_BOTTOM:67,OVERSIZED:68,GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:69,GROUP_V4_ADD_INVITE_SENT:70,GROUP_PARTICIPANT_ADD_REQUEST_JOIN:71,CHANGE_EPHEMERAL_SETTING:72,E2E_DEVICE_CHANGED:73,VIEWED_ONCE:74,E2E_ENCRYPTED_NOW:75,BLUE_MSG_BSP_FB_TO_BSP_PREMISE:76,BLUE_MSG_BSP_FB_TO_SELF_FB:77,BLUE_MSG_BSP_FB_TO_SELF_PREMISE:78,BLUE_MSG_BSP_FB_UNVERIFIED:79,BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:80,BLUE_MSG_BSP_FB_VERIFIED:81,BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:82,BLUE_MSG_BSP_PREMISE_TO_SELF_PREMISE:83,BLUE_MSG_BSP_PREMISE_UNVERIFIED:84,BLUE_MSG_BSP_PREMISE_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:85,BLUE_MSG_BSP_PREMISE_VERIFIED:86,BLUE_MSG_BSP_PREMISE_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:87,BLUE_MSG_CONSUMER_TO_BSP_FB_UNVERIFIED:88,BLUE_MSG_CONSUMER_TO_BSP_PREMISE_UNVERIFIED:89,BLUE_MSG_CONSUMER_TO_SELF_FB_UNVERIFIED:90,BLUE_MSG_CONSUMER_TO_SELF_PREMISE_UNVERIFIED:91,BLUE_MSG_SELF_FB_TO_BSP_PREMISE:92,BLUE_MSG_SELF_FB_TO_SELF_PREMISE:93,BLUE_MSG_SELF_FB_UNVERIFIED:94,BLUE_MSG_SELF_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:95,BLUE_MSG_SELF_FB_VERIFIED:96,BLUE_MSG_SELF_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:97,BLUE_MSG_SELF_PREMISE_TO_BSP_PREMISE:98,BLUE_MSG_SELF_PREMISE_UNVERIFIED:99,BLUE_MSG_SELF_PREMISE_VERIFIED:100,BLUE_MSG_TO_BSP_FB:101,BLUE_MSG_TO_CONSUMER:102,BLUE_MSG_TO_SELF_FB:103,BLUE_MSG_UNVERIFIED_TO_BSP_FB_VERIFIED:104,BLUE_MSG_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:105,BLUE_MSG_UNVERIFIED_TO_SELF_FB_VERIFIED:106,BLUE_MSG_UNVERIFIED_TO_VERIFIED:107,BLUE_MSG_VERIFIED_TO_BSP_FB_UNVERIFIED:108,BLUE_MSG_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:109,BLUE_MSG_VERIFIED_TO_SELF_FB_UNVERIFIED:110,BLUE_MSG_VERIFIED_TO_UNVERIFIED:111,BLUE_MSG_BSP_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:112,BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_FB_VERIFIED:113,BLUE_MSG_BSP_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:114,BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_FB_UNVERIFIED:115,BLUE_MSG_SELF_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:116,BLUE_MSG_SELF_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:117,E2E_IDENTITY_UNAVAILABLE:118,GROUP_CREATING:119,GROUP_CREATE_FAILED:120,GROUP_BOUNCED:121,BLOCK_CONTACT:122,EPHEMERAL_SETTING_NOT_APPLIED:123,SYNC_FAILED:124,SYNCING:125,BIZ_PRIVACY_MODE_INIT_FB:126,BIZ_PRIVACY_MODE_INIT_BSP:127,BIZ_PRIVACY_MODE_TO_FB:128,BIZ_PRIVACY_MODE_TO_BSP:129,DISAPPEARING_MODE:130,E2E_DEVICE_FETCH_FAILED:131,ADMIN_REVOKE:132,GROUP_INVITE_LINK_GROWTH_LOCKED:133,COMMUNITY_LINK_PARENT_GROUP:134,COMMUNITY_LINK_SIBLING_GROUP:135,COMMUNITY_LINK_SUB_GROUP:136,COMMUNITY_UNLINK_PARENT_GROUP:137,COMMUNITY_UNLINK_SIBLING_GROUP:138,COMMUNITY_UNLINK_SUB_GROUP:139,GROUP_PARTICIPANT_ACCEPT:140,GROUP_PARTICIPANT_LINKED_GROUP_JOIN:141,COMMUNITY_CREATE:142,EPHEMERAL_KEEP_IN_CHAT:143,GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST:144,GROUP_MEMBERSHIP_JOIN_APPROVAL_MODE:145,INTEGRITY_UNLINK_PARENT_GROUP:146,COMMUNITY_PARTICIPANT_PROMOTE:147,COMMUNITY_PARTICIPANT_DEMOTE:148,COMMUNITY_PARENT_GROUP_DELETED:149,COMMUNITY_LINK_PARENT_GROUP_MEMBERSHIP_APPROVAL:150,GROUP_PARTICIPANT_JOINED_GROUP_AND_PARENT_GROUP:151,MASKED_THREAD_CREATED:152,MASKED_THREAD_UNMASKED:153,BIZ_CHAT_ASSIGNMENT:154,CHAT_PSA:155,CHAT_POLL_CREATION_MESSAGE:156,CAG_MASKED_THREAD_CREATED:157,COMMUNITY_PARENT_GROUP_SUBJECT_CHANGED:158,CAG_INVITE_AUTO_ADD:159,BIZ_CHAT_ASSIGNMENT_UNASSIGN:160,CAG_INVITE_AUTO_JOINED:161,SCHEDULED_CALL_START_MESSAGE:162,COMMUNITY_INVITE_RICH:163,COMMUNITY_INVITE_AUTO_ADD_RICH:164,SUB_GROUP_INVITE_RICH:165,SUB_GROUP_PARTICIPANT_ADD_RICH:166,COMMUNITY_LINK_PARENT_GROUP_RICH:167,COMMUNITY_PARTICIPANT_ADD_RICH:168,SILENCED_UNKNOWN_CALLER_AUDIO:169,SILENCED_UNKNOWN_CALLER_VIDEO:170,GROUP_MEMBER_ADD_MODE:171,GROUP_MEMBERSHIP_JOIN_APPROVAL_REQUEST_NON_ADMIN_ADD:172,COMMUNITY_CHANGE_DESCRIPTION:173,SENDER_INVITE:174,RECEIVER_INVITE:175,COMMUNITY_ALLOW_MEMBER_ADDED_GROUPS:176,PINNED_MESSAGE_IN_CHAT:177,PAYMENT_INVITE_SETUP_INVITER:178,PAYMENT_INVITE_SETUP_INVITEE_RECEIVE_ONLY:179,PAYMENT_INVITE_SETUP_INVITEE_SEND_AND_RECEIVE:180,LINKED_GROUP_CALL_START:181,REPORT_TO_ADMIN_ENABLED_STATUS:182,EMPTY_SUBGROUP_CREATE:183,SCHEDULED_CALL_CANCEL:184,SUBGROUP_ADMIN_TRIGGERED_AUTO_ADD_RICH:185,GROUP_CHANGE_RECENT_HISTORY_SHARING:186,PAID_MESSAGE_SERVER_CAMPAIGN_ID:187});t.WebMessageInfo$StubType=s;const l=n(76672)({ERROR:0,PENDING:1,SERVER_ACK:2,DELIVERY_ACK:3,READ:4,PLAYED:5});t.WebMessageInfo$Status=l;const c=n(76672)({UNKNOWN:0,PENDING_SETUP:1,PENDING_RECEIVER_SETUP:2,INIT:3,SUCCESS:4,COMPLETED:5,FAILED:6,FAILED_RISK:7,FAILED_PROCESSING:8,FAILED_RECEIVER_PROCESSING:9,FAILED_DA:10,FAILED_DA_FINAL:11,REFUNDED_TXN:12,REFUND_FAILED:13,REFUND_FAILED_PROCESSING:14,REFUND_FAILED_DA:15,EXPIRED_TXN:16,AUTH_CANCELED:17,AUTH_CANCEL_FAILED_PROCESSING:18,AUTH_CANCEL_FAILED:19,COLLECT_INIT:20,COLLECT_SUCCESS:21,COLLECT_FAILED:22,COLLECT_FAILED_RISK:23,COLLECT_REJECTED:24,COLLECT_EXPIRED:25,COLLECT_CANCELED:26,COLLECT_CANCELLING:27,IN_REVIEW:28,REVERSAL_SUCCESS:29,REVERSAL_PENDING:30,REFUND_PENDING:31});t.PaymentInfo$TxnStatus=c;const u=n(76672)({UNKNOWN_STATUS:0,PROCESSING:1,SENT:2,NEED_TO_ACCEPT:3,COMPLETE:4,COULD_NOT_COMPLETE:5,REFUNDED:6,EXPIRED:7,REJECTED:8,CANCELLED:9,WAITING_FOR_PAYER:10,WAITING:11});t.PaymentInfo$Status=u;const d=n(76672)({UNKNOWN_CURRENCY:0,INR:1});t.PaymentInfo$Currency=d;const _=n(76672)({NOT_STARTED:0,FORCE_UPGRADE:1,DEVELOPMENT:2,PRODUCTION:3});t.WebFeatures$Flag=_;const p=n(76672)({UNKNOWN_TYPE:0,PIN_FOR_ALL:1,UNPIN_FOR_ALL:2});t.PinInChat$Type=p;const f={};t.WebMessageInfoSpec=f;const E={};t.PaymentInfoSpec=E;const A={};t.WebNotificationsInfoSpec=A;const g={};t.NotificationMessageInfoSpec=g;const h={};t.WebFeaturesSpec=h;const S={};t.MediaDataSpec=S;const T={};t.PhotoChangeSpec=T;const m={};t.StatusPSASpec=m;const I={};t.UserReceiptSpec=I;const y={};t.ReactionSpec=y;const C={};t.PollUpdateSpec=C;const v={};t.PollAdditionalMetadataSpec=v;const O={};t.KeepInChatSpec=O;const P={};t.PinInChatSpec=P;const N={};t.MessageAddOnContextInfoSpec=N,f.internalDefaults={status:l.PENDING},f.internalSpec={key:[1,r.FLAGS.REQUIRED|r.TYPES.MESSAGE,o.MessageKeySpec],message:[2,r.TYPES.MESSAGE,i.MessageSpec],messageTimestamp:[3,r.TYPES.UINT64],status:[4,r.TYPES.ENUM,l],participant:[5,r.TYPES.STRING],messageC2STimestamp:[6,r.TYPES.UINT64],ignore:[16,r.TYPES.BOOL],starred:[17,r.TYPES.BOOL],broadcast:[18,r.TYPES.BOOL],pushName:[19,r.TYPES.STRING],mediaCiphertextSha256:[20,r.TYPES.BYTES],multicast:[21,r.TYPES.BOOL],urlText:[22,r.TYPES.BOOL],urlNumber:[23,r.TYPES.BOOL],messageStubType:[24,r.TYPES.ENUM,s],clearMedia:[25,r.TYPES.BOOL],messageStubParameters:[26,r.FLAGS.REPEATED|r.TYPES.STRING],duration:[27,r.TYPES.UINT32],labels:[28,r.FLAGS.REPEATED|r.TYPES.STRING],paymentInfo:[29,r.TYPES.MESSAGE,E],finalLiveLocation:[30,r.TYPES.MESSAGE,i.Message$LiveLocationMessageSpec],quotedPaymentInfo:[31,r.TYPES.MESSAGE,E],ephemeralStartTimestamp:[32,r.TYPES.UINT64],ephemeralDuration:[33,r.TYPES.UINT32],ephemeralOffToOn:[34,r.TYPES.BOOL],ephemeralOutOfSync:[35,r.TYPES.BOOL],bizPrivacyStatus:[36,r.TYPES.ENUM,a],verifiedBizName:[37,r.TYPES.STRING],mediaData:[38,r.TYPES.MESSAGE,S],photoChange:[39,r.TYPES.MESSAGE,T],userReceipt:[40,r.FLAGS.REPEATED|r.TYPES.MESSAGE,I],reactions:[41,r.FLAGS.REPEATED|r.TYPES.MESSAGE,y],quotedStickerData:[42,r.TYPES.MESSAGE,S],futureproofData:[43,r.TYPES.BYTES],statusPsa:[44,r.TYPES.MESSAGE,m],pollUpdates:[45,r.FLAGS.REPEATED|r.TYPES.MESSAGE,C],pollAdditionalMetadata:[46,r.TYPES.MESSAGE,v],agentId:[47,r.TYPES.STRING],statusAlreadyViewed:[48,r.TYPES.BOOL],messageSecret:[49,r.TYPES.BYTES],keepInChat:[50,r.TYPES.MESSAGE,O],originalSelfAuthorUserJidString:[51,r.TYPES.STRING],revokeMessageTimestamp:[52,r.TYPES.UINT64],pinInChat:[54,r.TYPES.MESSAGE,P]},E.internalSpec={currencyDeprecated:[1,r.TYPES.ENUM,d],amount1000:[2,r.TYPES.UINT64],receiverJid:[3,r.TYPES.STRING],status:[4,r.TYPES.ENUM,u],transactionTimestamp:[5,r.TYPES.UINT64],requestMessageKey:[6,r.TYPES.MESSAGE,o.MessageKeySpec],expiryTimestamp:[7,r.TYPES.UINT64],futureproofed:[8,r.TYPES.BOOL],currency:[9,r.TYPES.STRING],txnStatus:[10,r.TYPES.ENUM,c],useNoviFiatFormat:[11,r.TYPES.BOOL],primaryAmount:[12,r.TYPES.MESSAGE,i.MoneySpec],exchangeAmount:[13,r.TYPES.MESSAGE,i.MoneySpec]},A.internalSpec={timestamp:[2,r.TYPES.UINT64],unreadChats:[3,r.TYPES.UINT32],notifyMessageCount:[4,r.TYPES.UINT32],notifyMessages:[5,r.FLAGS.REPEATED|r.TYPES.MESSAGE,f]},g.internalSpec={key:[1,r.TYPES.MESSAGE,o.MessageKeySpec],message:[2,r.TYPES.MESSAGE,i.MessageSpec],messageTimestamp:[3,r.TYPES.UINT64],participant:[4,r.TYPES.STRING]},h.internalSpec={labelsDisplay:[1,r.TYPES.ENUM,_],voipIndividualOutgoing:[2,r.TYPES.ENUM,_],groupsV3:[3,r.TYPES.ENUM,_],groupsV3Create:[4,r.TYPES.ENUM,_],changeNumberV2:[5,r.TYPES.ENUM,_],queryStatusV3Thumbnail:[6,r.TYPES.ENUM,_],liveLocations:[7,r.TYPES.ENUM,_],queryVname:[8,r.TYPES.ENUM,_],voipIndividualIncoming:[9,r.TYPES.ENUM,_],quickRepliesQuery:[10,r.TYPES.ENUM,_],payments:[11,r.TYPES.ENUM,_],stickerPackQuery:[12,r.TYPES.ENUM,_],liveLocationsFinal:[13,r.TYPES.ENUM,_],labelsEdit:[14,r.TYPES.ENUM,_],mediaUpload:[15,r.TYPES.ENUM,_],mediaUploadRichQuickReplies:[18,r.TYPES.ENUM,_],vnameV2:[19,r.TYPES.ENUM,_],videoPlaybackUrl:[20,r.TYPES.ENUM,_],statusRanking:[21,r.TYPES.ENUM,_],voipIndividualVideo:[22,r.TYPES.ENUM,_],thirdPartyStickers:[23,r.TYPES.ENUM,_],frequentlyForwardedSetting:[24,r.TYPES.ENUM,_],groupsV4JoinPermission:[25,r.TYPES.ENUM,_],recentStickers:[26,r.TYPES.ENUM,_],catalog:[27,r.TYPES.ENUM,_],starredStickers:[28,r.TYPES.ENUM,_],voipGroupCall:[29,r.TYPES.ENUM,_],templateMessage:[30,r.TYPES.ENUM,_],templateMessageInteractivity:[31,r.TYPES.ENUM,_],ephemeralMessages:[32,r.TYPES.ENUM,_],e2ENotificationSync:[33,r.TYPES.ENUM,_],recentStickersV2:[34,r.TYPES.ENUM,_],recentStickersV3:[36,r.TYPES.ENUM,_],userNotice:[37,r.TYPES.ENUM,_],support:[39,r.TYPES.ENUM,_],groupUiiCleanup:[40,r.TYPES.ENUM,_],groupDogfoodingInternalOnly:[41,r.TYPES.ENUM,_],settingsSync:[42,r.TYPES.ENUM,_],archiveV2:[43,r.TYPES.ENUM,_],ephemeralAllowGroupMembers:[44,r.TYPES.ENUM,_],ephemeral24HDuration:[45,r.TYPES.ENUM,_],mdForceUpgrade:[46,r.TYPES.ENUM,_],disappearingMode:[47,r.TYPES.ENUM,_],externalMdOptInAvailable:[48,r.TYPES.ENUM,_],noDeleteMessageTimeLimit:[49,r.TYPES.ENUM,_]},S.internalSpec={localPath:[1,r.TYPES.STRING]},T.internalSpec={oldPhoto:[1,r.TYPES.BYTES],newPhoto:[2,r.TYPES.BYTES],newPhotoId:[3,r.TYPES.UINT32]},m.internalSpec={campaignId:[44,r.FLAGS.REQUIRED|r.TYPES.UINT64],campaignExpirationTimestamp:[45,r.TYPES.UINT64]},I.internalSpec={userJid:[1,r.FLAGS.REQUIRED|r.TYPES.STRING],receiptTimestamp:[2,r.TYPES.INT64],readTimestamp:[3,r.TYPES.INT64],playedTimestamp:[4,r.TYPES.INT64],pendingDeviceJid:[5,r.FLAGS.REPEATED|r.TYPES.STRING],deliveredDeviceJid:[6,r.FLAGS.REPEATED|r.TYPES.STRING]},y.internalSpec={key:[1,r.TYPES.MESSAGE,o.MessageKeySpec],text:[2,r.TYPES.STRING],groupingKey:[3,r.TYPES.STRING],senderTimestampMs:[4,r.TYPES.INT64],unread:[5,r.TYPES.BOOL]},C.internalSpec={pollUpdateMessageKey:[1,r.TYPES.MESSAGE,o.MessageKeySpec],vote:[2,r.TYPES.MESSAGE,i.Message$PollVoteMessageSpec],senderTimestampMs:[3,r.TYPES.INT64],serverTimestampMs:[4,r.TYPES.INT64],unread:[5,r.TYPES.BOOL]},v.internalSpec={pollInvalidated:[1,r.TYPES.BOOL]},O.internalSpec={keepType:[1,r.TYPES.ENUM,i.KeepType],serverTimestamp:[2,r.TYPES.INT64],key:[3,r.TYPES.MESSAGE,o.MessageKeySpec],deviceJid:[4,r.TYPES.STRING],clientTimestampMs:[5,r.TYPES.INT64],serverTimestampMs:[6,r.TYPES.INT64]},P.internalSpec={type:[1,r.TYPES.ENUM,p],key:[2,r.TYPES.MESSAGE,o.MessageKeySpec],senderTimestampMs:[3,r.TYPES.INT64],serverTimestampMs:[4,r.TYPES.INT64],messageAddOnContextInfo:[5,r.TYPES.MESSAGE,N]},N.internalSpec={messageAddOnDurationInSecs:[1,r.TYPES.UINT32]}},76704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCurrentWebSessionInsidePwa=l,t.setAppBadge=function(e){null!=e&&(a=e);(null==l?void 0:l())&&"setAppBadge"in navigator&&(-1===a||0===a?navigator.clearAppBadge().catch((()=>{})):navigator.setAppBadge(a).catch((()=>{})))},t.setDocumentTitle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(o=e);s(o)};var r=n(95160);let i,o="",a=-1;function s(e){l()?document.title=" ":(self.clearTimeout(i),document.title+=" ",i=self.setTimeout((()=>{document.title=e}),0))}function l(){return"matchMedia"in self&&window.matchMedia("(display-mode: standalone)").matches}(0,r.isWorker)()||(o=document.title)},33552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.annotationKeyTooLong=function(e,t,n){if(o++>5)return;new i.WebcQplHealthWamEvent({webcQplHealthEventType:r.WEBC_QPL_HEALTH_EVENT_TYPE.ANNOTATION_KEY_TOO_LONG,webcQplHealthEventData:`markerId: ${e}, instanceKey: ${t}, annotationKey: ${n}`}).commit()},t.annotationSizeLimitExceeded=function(e,t,n){if(o++>5)return;new i.WebcQplHealthWamEvent({webcQplHealthEventType:r.WEBC_QPL_HEALTH_EVENT_TYPE.ANNOTATION_SIZE_LIMIT_EXCEEDED,webcQplHealthEventData:`markerId: ${e}, instanceKey: ${t}, annotationKey: ${n}`}).commit()},t.errorParsingConfig=function(e){if(o++>5)return;new i.WebcQplHealthWamEvent({webcQplHealthEventType:r.WEBC_QPL_HEALTH_EVENT_TYPE.ERROR_PARSING_CONFIG,webcQplHealthEventData:`errorString: ${e}`}).commit()},t.errorUploadingChunk=function(e){if(o++>5)return;new i.WebcQplHealthWamEvent({webcQplHealthEventType:r.WEBC_QPL_HEALTH_EVENT_TYPE.ERROR_UPLOADING_CHUNK,webcQplHealthEventData:`errorString: ${e}`}).commit()},t.maxPointCountExceeded=function(e,t){if(o++>5)return;new i.WebcQplHealthWamEvent({webcQplHealthEventType:r.WEBC_QPL_HEALTH_EVENT_TYPE.MAX_POINT_COUNT_EXCEEDED,webcQplHealthEventData:`markerId: ${e}, instanceKey: ${t}`}).commit()},t.maxStorageEventCountReached=function(){if(o++>5)return;new i.WebcQplHealthWamEvent({webcQplHealthEventType:r.WEBC_QPL_HEALTH_EVENT_TYPE.MAX_STORAGE_EVENT_COUNT_REACHED}).commit()},t.pointDataTooLong=function(e,t,n){if(o++>5)return;new i.WebcQplHealthWamEvent({webcQplHealthEventType:r.WEBC_QPL_HEALTH_EVENT_TYPE.POINT_DATA_TOO_LONG,webcQplHealthEventData:`markerId: ${e}, instanceKey: ${t}, data: ${n}`}).commit()},t.pointNameTooLong=function(e,t,n){if(o++>5)return;new i.WebcQplHealthWamEvent({webcQplHealthEventType:r.WEBC_QPL_HEALTH_EVENT_TYPE.POINT_NAME_TOO_LONG,webcQplHealthEventData:`markerId: ${e}, instanceKey: ${t}, pointName: ${n}`}).commit()};var r=n(8414),i=n(87471);let o=0},41307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickLogMarkerId=void 0;const r=n(76672)({WAE_PSL_PREFETCH:200740397,BUILDER_OPEN_DOCUMENTATION:200741132,BUILDER_PUBLISH:200741159,BUILDER_USE_NON_INTERACTIVE_PREVIEW:200741829,WAE_PHOENIX_PSL_TRANSPILER:200742056,BUILDER_PREVIEW:200745477,BUILDER_SAVE:200745731,GET_METADATA:200745755,DATA_CHANNEL:200746697,WEB_PREVIEW_INTERACTION:200747004,WEB_PREVIEW_REFRESH:200747890,BUILDER_TOGGLE_INTERACTIVE_PREVIEW:200748606,BUILDER_LOAD_FLOWS:200748734,BUILDER_OPEN_SNIPPETS:200750272,BUILDER_CREATE:200750472,BUILDER_USE_INTERACTIVE_PREVIEW:200750677,SERVING_BLOKS:200751992,PHOENIX_FDS_IQ_EXECUTION:578499140,WHATSAPP_MESSAGE_INFO_VIEW:701177629,WHATSAPP_FETCH_ASSIGN_CHAT_AGENT_LIST:701183376,WHATSAPP_ASSIGN_CHAT:701185297,WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW:774768970,WHATSAPP_PRODUCT_APPEAL:774769273,WHATSAPP_CATALOG_CREATE:774769395,WHATSAPP_CATALOG_LOAD_MORE:774769641,WHATSAPP_ORDER_VIEW:774769843,WHATSAPP_PROFILE_VIEW:774770248,WHATSAPP_CATALOG_VIEW:774771408,WHATSAPP_PRODUCT_DELETE:774774122,WHATSAPP_CART_VIEW:774774619,WHATSAPP_CART_ADD:774774794,WHATSAPP_PROFILE_SAVE:774775117,WHATSAPP_PRODUCT_VIEW:774775607,WHATSAPP_COLLECTION_APPEAL:774776895,WHATSAPP_PLM_DETAILS_VIEW:774777097,WHATSAPP_COLLECTION_EDIT:774777483,WHATSAPP_ORDER_CREATE:774777518,WHATSAPP_PROFILE_CATS_VIEW:774777556,WHATSAPP_PRODUCT_SET_VISIBLE:774778628,WHATSAPP_PRODUCT_IMAGES_LOAD:774778674,WHATSAPP_PRODUCT_SAVE:774779113,WHATSAPP_PRODUCT_MESSAGE_SEND:774779800,WHATSAPP_COLLECTION_VIEW_ALL:774780089,WHATSAPP_CATALOG_COLLECTIONS_VIEW:774781666,WHATSAPP_PRODUCT_REPORT:774782053,WHATSAPP_COLLECTION_RENAME:774782934,WHATSAPP_WEB_TEST_EVENT:891422769,DESKTOP_UPSELL_LINK_DEVICE_METRICS:891423256,CHAT_OPEN:891425633,MESSAGE_RENDER:891426174,ELECTRON_MACOS_CATALYST_MIGRATION:891427179,ALTERNATIVE_DEVICE_LINKING:891429758,SYNCD:891431212,OFFLINE_RESUME:891431279,NEWSLETTER_BOOSTRAP:891434294,ALT_LINKING_ERRORS:891436484,WHATSAPP_PHONE_NUMBER_INSIGHTS_DATA_SUCCESS:891436548,IMAGE_LOAD_LATENCY_THUMBNAIL_SINGLE_COLLECTION_CATEGORIES:897451370,IMAGE_LOAD_LATENCY_THUMBNAIL_CATEGORIES:897451484,IMAGE_LOAD_LATENCY_THUMBNAIL_SINGLE_COLLECTION:897451937,GET_COLLECTIONS:897452074,GET_PRODUCT_LIST:897452238,IMAGE_LOAD_LATENCY_THUMBNAIL_CART:897453112,VERIFY_POSTCODE:897454379,GET_SINGLE_COLLECTION:897454385,GET_SINGLE_COLLECTION_CATEGORIES:897455298,PRODUCT_CATALOG_IMAGE_LOAD:897457242,IMAGE_LOAD_LATENCY_THUMBNAIL_CATALOG_SEARCH:897460087,IMAGE_LOAD_LATENCY_FULLSIZE_PRODUCT:897460107,PLACE_ORDER:897460179,IMAGE_LOAD_LATENCY_THUMBNAIL_PRODUCT_LIST:897460699,REFRESH_CART:897460798,IMAGE_LOAD_LATENCY_THUMBNAIL_CATALOG:897462978,PRODUCT_CATALOG_EVENT:897464127,CATALOG_HOME_PAGE:897464270,GET_CATALOG:897464549,IMAGE_LOAD_LATENCY_THUMBNAIL_COLLECTIONS:897464757,IMAGE_LOAD_LATENCY_THUMBNAIL_SENT_CART:897465374,GET_CATEGORIES:897466143,GET_CATALOG_SEARCH:897466301});t.QuickLogMarkerId=r},62162:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.QPL=t.ALLOWLIST_IMMEDIATE_UPLOAD=t.ALLOWLIST_DEV_VERBOSE_LOGGING=void 0;var i=r(n(48926)),o=n(85997),a=n(27825),s=n(17906),l=n(32793),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(33552)),u=n(41307),d=n(70300),_=n(11886),p=r(n(24874));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const E=c,A=[u.QuickLogMarkerId.WHATSAPP_WEB_TEST_EVENT,u.QuickLogMarkerId.SYNCD,u.QuickLogMarkerId.ALTERNATIVE_DEVICE_LINKING,u.QuickLogMarkerId.OFFLINE_RESUME,u.QuickLogMarkerId.ELECTRON_MACOS_CATALYST_MIGRATION,u.QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS],g=new Map([[u.QuickLogMarkerId.SYNCD,100]]),h=[u.QuickLogMarkerId.WHATSAPP_WEB_TEST_EVENT];t.ALLOWLIST_DEV_VERBOSE_LOGGING=h;const S=[u.QuickLogMarkerId.ALTERNATIVE_DEVICE_LINKING,u.QuickLogMarkerId.ELECTRON_MACOS_CATALYST_MIGRATION,u.QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS];t.ALLOWLIST_IMMEDIATE_UPLOAD=S;const T={cast:e=>u.QuickLogMarkerId.cast(e),getName:e=>u.QuickLogMarkerId.getName(e)};s.QPL.setAllowListDevVerboseLogging(h.map((e=>e))),s.QPL.setStartupAllowListEventFilter(A),s.QPL.setQplReducePrecisionMapMs(g);const m=new d.QplStorageApi;s.QPL.setStorageApi(m),s.QPL.setHealthLogger(E),s.QPL.setEnumConversion(T),s.QPL.setIsDev(!1),s.QPL.init(function(){var e=(0,i.default)((function*(e){if(S.includes(u.QuickLogMarkerId.cast(e.marker_id))){const t={post:p.default.post};(0,a.defaultQplNetwork)({restInterface:t,isDev:!1,qplAccessToken:_.qplConfigs.accessToken,qplAppId:_.qplConfigs.appId,qplEndpoint:_.qplConfigs.endpoint});try{yield(0,a.defaultQplNetwork)().sendEventsOverNetwork((0,l.createRows)([e]))}catch(t){const n=u.QuickLogMarkerId.cast(e.marker_id);n&&__LOG__(2)`${u.QuickLogMarkerId.getName(n)} failed to upload successfully`,__LOG__(4,void 0,new Error,!0,["qpl"])`QPL ondemand upload event failure`,SEND_LOGS("QPL ondemand upload event failure",1,"qpl")}}else m.add([e]);return Promise.resolve()}));return function(){return e.apply(this,arguments)}}(),(e=>({sampleRate:A.includes(u.QuickLogMarkerId.cast(e))?1:0,samplingMethod:o.QplSampleMethod.EVENT_BASED_SAMPLING})),(()=>!0));const I={init(e,t,n){s.QPL.init(e,t,n)},clearInstance(){s.QPL.clearInstance()},getInstance:()=>s.QPL.getInstance(),getNextMarkerInstanceValue:e=>s.QPL.getNextMarkerInstanceValue(e),throwKillswitch(e){s.QPL.throwKillswitch(e)},clearStorage(){s.QPL.clearStorage()},logActiveQplMarkers(){s.QPL.logActiveQplMarkers()},markerStart:(e,t)=>s.QPL.markerStart(e,t),markerAnnotate(e,t,n){s.QPL.markerAnnotate(e,t,n)},markerPoint(e,t,n){s.QPL.markerPoint(e,t,n)},markerEnd(e,t,n){s.QPL.markerEnd(e,t,n)},genMarkerEnd:(e,t,n)=>s.QPL.genMarkerEnd(e,t,n),markerDrop(e,t){s.QPL.markerDrop(e,t)},getActiveMarkerIDs:e=>s.QPL.getActiveMarkerIDs(e),getMarker(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s.QPL.getMarker(e,t)},getMarkerInstances:e=>s.QPL.getMarkerInstances(e)};t.QPL=I},70300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QplStorageApi=void 0;var r=n(32793);t.QplStorageApi=class{add(e,t){return(0,r.add)(e,t)}getFromBottom(e){return(0,r.getFromBottom)(e)}getRowCount(){return(0,r.rowCount)()}clear(){return(0,r.clear)()}deleteRange(e,t){return(0,r.deleteRange)(e,t)}}},11886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplConfigs=void 0;const n={accessToken:"1063127757113399|745146ffa34413f9dbb5469f5370b7af",appId:"167028690535322",endpoint:"https://graph.whatsapp.net/wa_qpl_data"};t.qplConfigs=n},81700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new RegExp("[A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]");t.default=n},3127:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WAWebCollectionVersionStore=void 0;var i=r(n(81109)),o=n(39618);class a{get(e){return(0,o.getCollectionVersionTable)().get(e)}bulkGet(e){return(0,o.getCollectionVersionTable)().bulkGet(e)}getAll(){return(0,o.getCollectionVersionTable)().all()}update(e,t){return(0,o.getCollectionVersionTable)().createOrMerge(e,(0,i.default)({collection:e},t))}bulkUpdate(e){return(0,o.getCollectionVersionTable)().bulkCreateOrMerge(e)}clear(){return(0,o.getCollectionVersionTable)().clear()}}t.WAWebCollectionVersionStore=a,a.locks=["collection-version"]},45004:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WAWebMissingKeyStore=void 0;var i=n(45232),o=r(n(19294));class a{getAll(){return o.default.getAllMissingKeys()}bulkGet(e){return o.default.bulkGetMissingKeys(e)}count(){return o.default.getMissingKeyCount()}bulkUpdate(e){return o.default.createOrUpdateMissingKeys(e)}bulkRemove(e){return o.default.bulkRemoveMissingKeys(e)}clear(){return(0,i.getMissingKeysTable)().clear()}}t.WAWebMissingKeyStore=a,a.locks=["missing-keys"]},43627:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WAWebPendingMutationStore=void 0;var i=r(n(48926)),o=n(9920),a=r(n(19294));class s{getByCollection(e){return(0,i.default)((function*(){return(yield a.default.getPendingMutationsRows(["collection"],e)).map(o.convertToPendingMutationFromRow)}))()}getAll(){return a.default.getAllPendingMutationsRows()}bulkCreate(e){return a.default.appendPendingMutationsRows(e).then((()=>{}))}bulkRemove(e){return a.default.bulkRemovePendingMutations(e)}clear(){return(0,o.getPendingMutationsTable)().clear()}}t.WAWebPendingMutationStore=s,s.locks=["pending-mutations"]},39861:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WAWebSyncActionStore=void 0;var i=r(n(48926)),o=n(62792),a=r(n(19294));class s{count(){return(0,o.getSyncActionsTable)().count()}get(e){return(0,i.default)((function*(){const t=yield a.default.getSyncAction(e);return null==t?null:(0,o.convertToSyncActionFromRow)(t)}))()}getByCollections(e){return(0,i.default)((function*(){return(yield a.default.getSyncActionsRows(["collection"],e.map((e=>e)))).map(o.convertToSyncActionFromRow)}))()}getByIndexMacs(e){return(0,i.default)((function*(){return(yield a.default.getSyncActionsRows(["indexMac"],e.map((e=>e)))).map(o.convertToSyncActionFromRow)}))()}getByActionStates(e){return(0,i.default)((function*(){return(yield a.default.getSyncActionsRows(["actionState"],e.map((e=>e)))).map(o.convertToSyncActionFromRow)}))()}getByModelInfos(e){return(0,i.default)((function*(){return(yield a.default.getSyncActionsRows(["modelId","modelType","actionState"],e.map((e=>e)))).map(o.convertToSyncActionFromRow)}))()}getAll(){return(0,o.getSyncActionsTable)().all().then((e=>e.map(o.convertToSyncActionFromRow)))}bulkSet(e){return a.default.setSyncActionRows(e.map(o.convertFromSyncActionToRow))}bulkUpdate(e){return a.default.updateSyncActionRows(e.map(o.convertFromSyncActionToRow))}bulkRemove(e){return a.default.deleteSyncActionRows(e)}clear(){return(0,o.getSyncActionsTable)().clear()}}t.WAWebSyncActionStore=s,s.locks=["sync-actions"]},98488:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WAWebSyncKeyStore=void 0;var i=n(9419),o=r(n(19294));class a{get(e){return o.default.getSyncKey(e)}getAll(){return o.default.getAllSyncKeys()}set(e){return o.default.createSyncKey(e).then((()=>{}))}expire(e){return o.default.expireSyncKey(e)}clear(){return(0,i.getSyncKeysTable)().clear()}}t.WAWebSyncKeyStore=a,a.locks=["sync-keys"]},98051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVOKED_SUB_GROUP_SUGGESTION_REASON=t.REMOVE_REASON=t.GroupType=t.GROUP_ACTIONS=t.DELETE_REASON=t.ADD_REASON=void 0,t.getGroupTypeFromGroupMetadata=function(e){if(!0===e.defaultSubgroup)return c.DEFAULT_ANNOUNCEMENT_GROUP;if(!0===e.generalSubgroup)return c.GENERAL_GROUP;if(null!=e.parentGroup)return c.SUBGROUP;if(!0===e.isParentGroup)return c.COMMUNITY;return c.DEFAULT},t.groupTypeToWamEnum=function(e){switch(e){case c.DEFAULT_ANNOUNCEMENT_GROUP:return r.TYPE_OF_GROUP_ENUM.DEFAULT_SUBGROUP;case c.SUBGROUP:return r.TYPE_OF_GROUP_ENUM.SUBGROUP;default:return r.TYPE_OF_GROUP_ENUM.GROUP}};var r=n(8414);const i=Object.freeze({SUBJECT:"subject",ADD:"add",PROMOTE:"promote",DEMOTE:"demote",DELETE:"delete",REMOVE:"remove",MODIFY:"modify",INVITE_CODE:"invite",DESC_ADD:"desc_add",DESC_REMOVE:"desc_remove",RESTRICT:"restrict",ANNOUNCE:"announce",NO_FORWARD:"no_frequently_forwarded",EPHEMERAL:"ephemeral",REVOKE_INVITE:"revoke_invite",SUSPEND:"suspend",GROWTH_LOCKED:"growth_locked",GROWTH_UNLOCKED:"growth_unlocked",SUB_GROUP_LINK:"sub_group_link",PARENT_GROUP_LINK:"parent_group_link",PARENT_GROUP_LINK_MEMBERSHIP_APPROVAL:"parent_group_link_membership_approval",SIBLING_GROUP_LINK:"sibling_group_link",SUB_GROUP_UNLINK:"sub_group_unlink",PARENT_GROUP_UNLINK:"parent_group_unlink",SIBLING_GROUP_UNLINK:"sibling_group_unlink",DELETE_PARENT_GROUP:"delete_parent_group",DELETE_PARENT_GROUP_UNLINK:"delete_parent_group_unlink",DELETE_PARENT_SUB_GROUP_UNLINK:"delete_parent_sub_group_unlink",INTEGRITY_PARENT_GROUP_UNLINK:"integrity_parent_group_unlink",INTEGRITY_SUB_GROUP_UNLINK:"integrity_sub_group_unlink",LINKED_GROUP_PROMOTE:"linked_group_promote",LINKED_GROUP_DEMOTE:"linked_group_demote",MEMBERSHIP_APPROVAL_MODE:"membership_approval_mode",MEMBERSHIP_APPROVAL_REQUEST:"membership_approval_request",CREATED_MEMBERSHIP_REQUESTS:"created_membership_requests",REVOKED_MEMBERSHIP_REQUESTS:"revoked_membership_requests",ALLOW_NON_ADMIN_SUB_GROUP_CREATION:"allow_non_admin_sub_group_creation",ALLOW_ADMIN_REPORTS:"allow_admin_reports",ADMIN_REPORT_RECIEVED:"admin_report_received",CREATED_SUBGROUP_SUGGESTION:"created_subgroup_suggestion",REVOKED_SUB_GROUP_SUGGESTIONS:"revoked_sub_group_suggestions",SUBGROUP_SUGGESTIONS_CHANGE_NUMBER:"subgroup_suggestions_change_number",MEMBER_ADD_MODE:"member_add_mode"});t.GROUP_ACTIONS=i;const o=Object.freeze({INTEGRITY_DELETE_PARENT:"integrity_delete_parent",DELETE_PARENT:"delete_parent"});t.DELETE_REASON=o;const a=Object.freeze({INVITE:"invite",LINKED_GROUP_JOIN:"linked_group_join",AUTO_ADD:"auto_add",DEFAULT_SUBGROUP_ADMIN_ADD:"default_subgroup_admin_add",DEFAULT_SUBGROUP_PROMOTE:"default_sub_group_promote",INVITE_AUTO_ADD:"invite_auto_add"});t.ADD_REASON=a;const s=Object.freeze({DEFAULT_SUBGROUP_DEMOTE:"default_sub_group_demote"});t.REMOVE_REASON=s;const l=n(76672)({APPROVED:"approved",REJECTED:"rejected",CANCELLED:"cancelled"});t.REVOKED_SUB_GROUP_SUGGESTION_REASON=l;const c=n(76672).Mirrored(["DEFAULT","COMMUNITY","SUBGROUP","DEFAULT_ANNOUNCEMENT_GROUP","GENERAL_GROUP"]);t.GroupType=c},5991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeaveReason=void 0;const r=n(76672).Mirrored(["Left","Removed"]);t.LeaveReason=r},41984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestMethod=void 0;const r=n(76672).Mirrored(["NonAdminAdd","InviteLink","LinkedGroupJoin"]);t.RequestMethod=r},35878:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAllCriticalDataSynced=function(){return u.apply(this,arguments)},t.getLastPeriodicAppStateSyncTs=function(){return _.apply(this,arguments)},t.getMdSyncActionsActionSanitized=function(){return f.apply(this,arguments)},t.getNonCriticalDataSyncStatus=A,t.getPrimaryAllowsAllMutations=function(){return!!l.default.get(s.MD_KEYS.SYNCD_PRIMARY_ALLOWS_ALL_MUTATIONS)},t.setAllCriticalDataSynced=function(){return c.apply(this,arguments)},t.setLastPeriodicAppStateSyncTs=function(){return d.apply(this,arguments)},t.setMdSyncActionsActionSanitized=function(){return E.apply(this,arguments)},t.setNonCriticalDataSyncStatus=function(){return g.apply(this,arguments)},t.setPrimaryAllowsAllMutations=function(){return l.default.set(s.MD_KEYS.SYNCD_PRIMARY_ALLOWS_ALL_MUTATIONS,!0)},t.setShouldCheckContactSyncStatus=function(){return p.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(17657),s=n(59356),l=r(n(61112));function c(){return(c=(0,o.default)((function*(){return yield a.userPrefsIndexedDBStorage.setItemToIndexedDB(s.BACKEND_ONLY_KEYS.CRITICAL_DATA_SYNCED,!0),l.default.set(s.MD_KEYS.CRITICAL_DATA_SYNCED,!0)}))).apply(this,arguments)}function u(){return(u=(0,o.default)((function*(){return!0===(yield a.userPrefsIndexedDBStorage.getItemFromIndexedDB(s.BACKEND_ONLY_KEYS.CRITICAL_DATA_SYNCED))}))).apply(this,arguments)}function d(){return(d=(0,o.default)((function*(e){return yield a.userPrefsIndexedDBStorage.setItemToIndexedDB(s.BACKEND_ONLY_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS,e),l.default.set(s.MD_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS,e)}))).apply(this,arguments)}function _(){return(_=(0,o.default)((function*(){return yield a.userPrefsIndexedDBStorage.getItemFromIndexedDB(s.BACKEND_ONLY_KEYS.RECENT_MAILBOX_AGE_DAYS)}))).apply(this,arguments)}function p(){return(p=(0,o.default)((function*(){return yield a.userPrefsIndexedDBStorage.setItemToIndexedDB(s.BACKEND_ONLY_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS,!0),l.default.set(s.MD_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS,!0)}))).apply(this,arguments)}function f(){return(f=(0,o.default)((function*(){return!0===(yield a.userPrefsIndexedDBStorage.getItemFromIndexedDB(s.BACKEND_ONLY_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED))}))).apply(this,arguments)}function E(){return(E=(0,o.default)((function*(e){yield a.userPrefsIndexedDBStorage.setItemToIndexedDB(s.BACKEND_ONLY_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED,e),l.default.set(s.MD_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED,e)}))).apply(this,arguments)}function A(){return a.userPrefsIndexedDBStorage.getItemFromIndexedDB(s.BACKEND_ONLY_KEYS.NON_CRITICAL_DATA_SYNC_STATUS)}function g(){return(g=(0,o.default)((function*(e){var t;const n=null!==(t=yield A())&&void 0!==t?t:{};yield a.userPrefsIndexedDBStorage.setItemToIndexedDB(s.BACKEND_ONLY_KEYS.NON_CRITICAL_DATA_SYNC_STATUS,(0,i.default)((0,i.default)({},n),e))}))).apply(this,arguments)}},50456:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.userPreferencesStoreBase=t.UserPreferencesStoreBase=t.ENFORCE_PERMANENT_STORAGE_KEYS=void 0;var i=r(n(44848)),o=n(59356),a=n(29853),s=r(n(89482));const l=[o.KEYS.WHATSAPP_MUTEX,o.KEYS.PRESERVED_USER_KEYS,o.MD_KEYS.ROUTING_INFO,o.MD_KEYS.INITIAL_HISTORY_SYNCED,o.MD_KEYS.WEB_ENC_SALT,o.MD_KEYS.CRITICAL_DATA_SYNCED];t.ENFORCE_PERMANENT_STORAGE_KEYS=l;const c={isRawString:!1,ignoreCache:!1,shouldWriteToIdb:!0,storage:i.default};class u{_determineStorage(e,t){return l.includes(e)?i.default:null!=t?t:c.storage}get(e,t){if(null==e)throw(0,s.default)("UserPreferencesStoreBase.get called with no key");const n=this._determineStorage(e,null==t?void 0:t.storage),r=null==(null==t?void 0:t.ignoreCache)?c.ignoreCache:t.ignoreCache,i=n.getItem(e,r);if((null==(null==t?void 0:t.isRawString)?c.isRawString:t.isRawString)||null==i)return i;try{return JSON.parse(i,a.jsonWidReviver)}catch(t){return __LOG__(2,void 0,void 0,!0)`UserPreferencesStoreBase.get(): failed: ${t}`,SEND_LOGS("userprefs-parse-error"),void n.removeItem(e)}}set(e,t,n){if(null==e)throw(0,s.default)("UserPreferencesStoreBase.set called with no key");const r=this._determineStorage(e,null==n?void 0:n.storage);if(null==t)r.removeItem(e);else{if(null==(null==n?void 0:n.isRawString)?c.isRawString:n.isRawString){if("string"!=typeof t)throw(0,s.default)("UserPreferencesStoreBase.set: expecting string because isRawString is true");r.setItem(e,t)}else{const i=null==(null==n?void 0:n.shouldWriteToIdb)?c.shouldWriteToIdb:n.shouldWriteToIdb;r.setItem(e,JSON.stringify(t),i)}}}}t.UserPreferencesStoreBase=u;const d=new u;t.userPreferencesStoreBase=d},85608:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.userPrefsCacheStorage=void 0;var i=r(n(48926)),o=r(n(61145)),a=n(87606),s=n(64286);const l=new o.default("wa_web_user_prefs_cache_store",(function(e){return new Response(JSON.stringify(e),{headers:{"content-type":"application/json"}})}),(function(e){return e.json()}),{encodeKey:function(e,t){const n=encodeURIComponent(e);return`https://_user_prefs_key_store_.whatsapp.com/${encodeURIComponent(t)}_${n}`},matchOptions:{ignoreSearch:!0,ignoreMethod:!0,ignoreVary:!0}});const c=new class{constructor(){this._cachedCacheStorageValues={}}setItemToCacheStorage(e,t){var n=this;return(0,i.default)((function*(){const r=(0,s.preProcessUserPref)(e,t);n._cachedCacheStorageValues[e]=r,yield l.doPut(e,r)}))()}getItemFromCacheStorage(e){var t=this;return(0,i.default)((function*(){let n=t._cachedCacheStorageValues[e];if(null==n)try{n=yield l.doGet(e),t._cachedCacheStorageValues[e]=n}catch(e){}if(null==n)return t.removeItemFromCacheStorage(e),null;return(0,a.postProcessUserPref)(e,n)}))()}removeItemFromCacheStorage(e){var t=this;return(0,i.default)((function*(){delete t._cachedCacheStorageValues[e],yield l.doDel(e)}))()}clearCacheStorage(){var e=this;return(0,i.default)((function*(){e._cachedCacheStorageValues={},yield l.doClear()}))()}bulkSetItemsToCacheStorage(e){var t=this;return(0,i.default)((function*(){const n=e.map((e=>t.setItemToCacheStorage(e.key,e.value)));yield Promise.all(n)}))()}};t.userPrefsCacheStorage=c},46319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearCookies=function(){if((0,a.isWorker)())return;i.setCookie({name:"ref",expirationDate:0,domain:r.COOKIE_DOMAIN,path:o.PP_REF}),i.setCookie({name:"tok",expirationDate:0,domain:r.COOKIE_DOMAIN,path:o.PP_TOK})},t.setRefTokCookies=function(e,t){if((0,a.isWorker)())return;i.setCookie({name:"ref",value:e,path:o.PP_REF,domain:r.COOKIE_DOMAIN,secure:!0}),i.setCookie({name:"tok",value:t,path:o.PP_TOK,domain:r.COOKIE_DOMAIN,secure:!0})};var r=n(83727),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5180)),o=n(33761),a=n(95160);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},58625:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getColumnPackingValueFromStorage=function(){return l.apply(this,arguments)},t.setColumnPackingValueToStorage=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(85608),a=n(59356);function s(){return(s=(0,i.default)((function*(e){null!=e?yield o.userPrefsCacheStorage.setItemToCacheStorage(a.MD_KEYS.COLUMN_PACKING_ENABLED,e):yield o.userPrefsCacheStorage.removeItemFromCacheStorage(a.MD_KEYS.COLUMN_PACKING_ENABLED)}))).apply(this,arguments)}function l(){return(l=(0,i.default)((function*(){return yield o.userPrefsCacheStorage.getItemFromCacheStorage(a.MD_KEYS.COLUMN_PACKING_ENABLED)}))).apply(this,arguments)}},97023:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PTT_PLAYBACK_RATE=t.ChatlistPanelState=void 0,t.applyPrivacySetting=I,t.clearLastPushCompleteTimestamp=function(){return B.apply(this,arguments)},t.clearTokens=function(){E.forEach((e=>{f.default.set(e,void 0)}))},t.deleteComposeContents=function(e){f.default.clearUserSessionItem(v(e))},t.generateAdCreationFlowId=D,t.getAdCreationFlowId=function(){let e=f.default.get(p.KEYS.AD_CREATION_FLOW_ID_KEY);null!=e&&"string"==typeof e||(e=D());return e},t.getAndIncrementAdCreationSequenceNumber=function(){let e=f.default.get(p.KEYS.AD_CREATION_SEQUENCE_NUMBER_KEY);null!=e&&"number"==typeof e||(e=1);return f.default.set(p.KEYS.AD_CREATION_SEQUENCE_NUMBER_KEY,e+1),e},t.getAppVersionBase=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.APP_VERSION_BASE)},t.getAutoDownloadAudio=function(){return!1!==f.default.getUser(p.KEYS.AUTO_DOWNLOAD_AUDIO)},t.getAutoDownloadDocuments=function(){return!0===f.default.getUser(p.KEYS.AUTO_DOWNLOAD_DOCUMENTS)},t.getAutoDownloadPhotos=function(){return!1!==f.default.getUser(p.KEYS.AUTO_DOWNLOAD_PHOTOS)},t.getAutoDownloadVideos=function(){return!0===f.default.getUser(p.KEYS.AUTO_DOWNLOAD_VIDEOS)},t.getBrowserId=function(){const e=f.default.get(p.KEYS.BROWSER_ID);return"string"==typeof e?e:null},t.getChatlistPanelState=function(){return Y.FULL},t.getComposeContents=function(e){const t=f.default.getUserSession(v(e));return(0,a.asComposeContentsType)(t)},t.getContactChecksum=function(){return f.default.getUser(p.KEYS.CONTACT_CHECKSUM)},t.getContactIsCleaned=function(){return!0===f.default.getUser(p.KEYS.CONTACT_IS_CLEANED)},t.getDailyStatsStartTime=N,t.getExistingLidSignalSessionIsCleaned=function(){return!0===f.default.getUser(p.KEYS.EXISTING_LID_SIGNAL_SESSION_IS_CLEANED)},t.getGroupParticipantAssignedColor=function(e){const t=f.default.getUser(p.KEYS.GROUP_ASSIGNED_COLOR+"-"+e.toString()),n={};if(null==t||"object"!=typeof t)return n;return Object.keys(t).forEach((e=>{const r=t[e];"number"==typeof r&&(n[e]=r)})),n},t.getLastChatMuteDuration=function(){const e=f.default.getUser(p.KEYS.LAST_CHAT_MUTE_DURATION);if("Infinity"===e)return Number.POSITIVE_INFINITY;return"number"==typeof e?e:null},t.getLastComposeBoxPanel=function(){return f.default.getUser(p.KEYS.LAST_SELECTED_COMPOSE_BOX_PANEL)},t.getLastMobilePlatform=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.MOBILE_PLATFORM)},t.getLastPushCompleteTimestamp=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.LAST_PUSH_COMPLETE_TIMESTAMP)},t.getLastStatusUsage=function(){const e=f.default.getUser(p.KEYS.LAST_STATUS_USAGE);return"number"==typeof e?e:null},t.getLoginTokens=g,t.getLogoutReason=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.LOGOUT_REASON)},t.getMediaVolumeSettings=function(){const e=f.default.get(p.KEYS.MEDIA_VOLUME);return{volume:"number"==typeof e?e:null,muted:!0===f.default.get(p.KEYS.MEDIA_MUTE)}},t.getOfflineNotificationContent=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.OFFLINE_NOTIFICATION_L10N_CONTENT)},t.getOfflinePushCount=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.OFFLINE_PUSH_COUNT)},t.getOfflinePushDisabled=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.OFFLINE_PUSH_DISABLED)},t.getPersistentExpiringId=function(){const e=f.default.getUser(p.KEYS.PERSISTENT_EXPIRING_ID);if(null==e||"object"!=typeof e)return null;const{ts:t,value:n}=e;if("number"!=typeof t||"string"!=typeof n)return null;return{ts:t,value:n}},t.getPnhCagFutureproofBannerClosed=function(){return!0===f.default.getUser(p.KEYS.PNH_CAG_FUTURE_PROOF_BANNER_CLOSED)},t.getPostcodeAutoOpenChangePostcodeCount=function(){const e=f.default.getUser(p.KEYS.POSTCODE_AUTO_OPEN_CHANGE_POSTCODE_COUNT);return"number"==typeof e?e:0},t.getPostcodeAutoOpenChangePostcodeDone=function(){return!0===f.default.getUser(p.KEYS.POSTCODE_AUTO_OPEN_CHANGE_POSTCODE_DONE)},t.getPostcodeTooltipViewCount=function(){const e=f.default.getUser(p.KEYS.POSTCODE_TOOLTIP_VIEW_COUNT);return"number"==typeof e?e:0},t.getPostcodeTooltipViewedInSession=function(){return!0===f.default.getUser(p.KEYS.POSTCODE_TOOLTIP_VIEWED_IN_SESSION)},t.getPsKillSwitchToken=function(){const e=f.default.get(p.KEYS.PS_KILLSWITCH_TOKEN);return"string"==typeof e?e:null},t.getPttPlaybackRate=function(){const e=f.default.get(p.KEYS.PTT_PLAYBACK_RATE);if("number"!=typeof e)return 1;if(1===e||2===e)return e;if(Math.abs(e-1.5)<Number.EPSILON)return 1.5;return 1},t.getPushname=function(){const e=f.default.getUser(p.KEYS.LAST_PUSHNAME);return"string"==typeof e?e:null},t.getSeenGroupDesc=function(e){return!0===f.default.getUser(e.toString())},t.getServerProps=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.SERVER_PROPS)},t.getServerPropsAttributes=function(){return _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.BACKEND_ONLY_KEYS.SERVER_PROPS_ATTRIBUTES)},t.getStorageAlert=function(){return s.STORAGE_ALERT_TYPE.NO_ALERT},t.getStorageDismissState=function(){return{lowQuotaDismissed:!0,highQuotaDismissed:!0}},t.getSystemThemeMode=function(){return!1!==f.default.get(p.KEYS.SYSTEM_THEME_MODE)},t.getTheme=function(){const e=f.default.get(p.KEYS.THEME);if("light"===e||"dark"===e)return e;return"light"},t.getUnknownId=function(){let e=f.default.get(p.KEYS.UNKNOWN_ID);"string"==typeof e&&""!==e||(e="unknown"+Math.floor(1e10*Math.random()),h(e));return e},t.getUserPrivacySettings=function(){const e={},t=f.default.getUser(p.KEYS.USER_PRIVACY_SETTINGS);if(null==t||"object"!=typeof t)return e;return I(["readReceipts",u.ALL_NONE],e,t.readReceipts),I(["groupAdd",u.VISIBILITY],e,t.groupAdd),I(["profilePicture",u.VISIBILITY],e,t.profilePicture),I(["about",u.VISIBILITY],e,t.about),I(["lastSeen",u.VISIBILITY],e,t.lastSeen),I(["online",u.ONLINE_VISIBILITY],e,t.online),I(["callAdd",u.CALL_ADD],e,t.callAdd),e},t.getVerifiedBusinessNameIsCleaned=function(){return!0===f.default.getUser(p.KEYS.VERIFIED_BUSINESS_NAME_IS_CLEANED)},t.getWhatsAppWebExternalBetaDirtyBitIdb=function(){return M.apply(this,arguments)},t.getWhatsAppWebExternalBetaJoinedIdb=function(){return b.apply(this,arguments)},t.initDailyStatsStartTime=function(){N()},t.knowsPhone=function(){const e=g();return!(!e.client||!e.server)},t.markContactIsCleaned=function(){f.default.setUser(p.KEYS.CONTACT_IS_CLEANED,!0)},t.markExistingLidSignalSessionIsCleaned=function(){f.default.setUser(p.KEYS.EXISTING_LID_SIGNAL_SESSION_IS_CLEANED,!0)},t.markUserSentMessageToChat=function(e){const t=O(e);let n=f.default.getUser(p.KEYS.CHATS_USER_SENT_MESSAGE_TO)||[];if(!Array.isArray(n))return __LOG__(3)`UserPrefs:markUserSentMessageToChat value in store is not an array`,f.default.setUser(p.KEYS.CHATS_USER_SENT_MESSAGE_TO,[t]),!1;n=P(n);const r=!n.includes(t);r&&(n.push(t),f.default.setUser(p.KEYS.CHATS_USER_SENT_MESSAGE_TO,n));return __LOG__(2)`UserPrefs:markUserSentMessageToChat`,r},t.markVerifiedBusinessNameIsCleaned=function(){f.default.setUser(p.KEYS.VERIFIED_BUSINESS_NAME_IS_CLEANED,!0)},t.removeUserSentMessageToChat=function(e){let t=f.default.getUser(p.KEYS.CHATS_USER_SENT_MESSAGE_TO)||[];if(!Array.isArray(t))return __LOG__(3)`UserPrefs:removeUserSentMessageToChat value in store is not an array`,void f.default.setUser(p.KEYS.CHATS_USER_SENT_MESSAGE_TO,[]);t=P(t);const n=O(e);t.includes(n)&&f.default.setUser(p.KEYS.CHATS_USER_SENT_MESSAGE_TO,(0,o.default)(t,n));__LOG__(2)`UserPrefs:removeUserSentMessageToChat`},t.resetAdCreationSequenceNumber=function(){f.default.set(p.KEYS.AD_CREATION_SEQUENCE_NUMBER_KEY,1)},t.setAppVersionBase=function(){return R.apply(this,arguments)},t.setAutoDownloadAudio=function(e){f.default.setUser(p.KEYS.AUTO_DOWNLOAD_AUDIO,e)},t.setAutoDownloadDocuments=function(e){f.default.setUser(p.KEYS.AUTO_DOWNLOAD_DOCUMENTS,e)},t.setAutoDownloadPhotos=function(e){f.default.setUser(p.KEYS.AUTO_DOWNLOAD_PHOTOS,e)},t.setAutoDownloadVideos=function(e){f.default.setUser(p.KEYS.AUTO_DOWNLOAD_VIDEOS,e)},t.setBrowserId=function(e){f.default.set(p.KEYS.BROWSER_ID,e)},t.setChatlistPanelState=function(e){f.default.set(p.KEYS.CHATLIST_PANEL_STATE,e)},t.setComposeContents=function(e,t){f.default.setUserSession(v(e),t)},t.setContactChecksum=function(e){f.default.setUser(p.KEYS.CONTACT_CHECKSUM,e)},t.setGroupParticipantAssignedColor=function(e,t){f.default.setUser(p.KEYS.GROUP_ASSIGNED_COLOR+"-"+e.toString(),t)},t.setLastChatMuteDuration=function(e){f.default.setUser(p.KEYS.LAST_CHAT_MUTE_DURATION,e===Number.POSITIVE_INFINITY?"Infinity":e)},t.setLastComposeBoxPanel=function(e){f.default.setUser(p.KEYS.LAST_SELECTED_COMPOSE_BOX_PANEL,e)},t.setLastMobilePlatform=function(){return S.apply(this,arguments)},t.setLastPushCompleteTimestamp=function(){return w.apply(this,arguments)},t.setLastStatusUsage=function(){f.default.setUser(p.KEYS.LAST_STATUS_USAGE,Date.now())},t.setLoginTokens=function(e){const t=e.client,n=e.server;t&&n&&(__LOG__(2)`UserPrefs:setLoginTokens`,f.default.set(p.KEYS.CLIENT_TOKEN,t),f.default.set(p.KEYS.SERVER_TOKEN,n))},t.setLogoutReason=function(){return k.apply(this,arguments)},t.setMediaMutedSetting=C,t.setMediaVolumeSetting=y,t.setMediaVolumeSettings=function(e,t){y(e),C(t)},t.setOfflineNotificationContent=function(){return G.apply(this,arguments)},t.setOfflinePushCount=function(){return L.apply(this,arguments)},t.setOfflinePushDisabled=function(){return U.apply(this,arguments)},t.setPersistentExpiringId=function(e){f.default.setUser(p.KEYS.PERSISTENT_EXPIRING_ID,e)},t.setPnhCagFutureproofBannerClosed=function(){f.default.setUser(p.KEYS.PNH_CAG_FUTURE_PROOF_BANNER_CLOSED,!0)},t.setPostcodeAutoOpenChangePostcodeCount=function(e){f.default.setUser(p.KEYS.POSTCODE_AUTO_OPEN_CHANGE_POSTCODE_COUNT,e)},t.setPostcodeAutoOpenChangePostcodeDone=function(e){f.default.setUser(p.KEYS.POSTCODE_AUTO_OPEN_CHANGE_POSTCODE_DONE,e)},t.setPostcodeTooltipViewCount=function(e){f.default.setUser(p.KEYS.POSTCODE_TOOLTIP_VIEW_COUNT,e)},t.setPostcodeTooltipViewedInSession=function(e){f.default.setUser(p.KEYS.POSTCODE_TOOLTIP_VIEWED_IN_SESSION,e)},t.setPsKillSwitchToken=function(e){f.default.set(p.KEYS.PS_KILLSWITCH_TOKEN,e)},t.setPttPlaybackRate=function(e){f.default.set(p.KEYS.PTT_PLAYBACK_RATE,e)},t.setPushname=function(e){f.default.setUser(p.KEYS.LAST_PUSHNAME,e)},t.setRefTok=function(e,t){A.forEach((function(e){l.default.removeItem(e)})),(0,d.setRefTokCookies)(e,t)},t.setSeenGroupDesc=function(e){f.default.setUser(e.toString(),!0)},t.setServerProps=function(){return m.apply(this,arguments)},t.setServerPropsAttributes=function(){return T.apply(this,arguments)},t.setStorageAlert=function(){},t.setStorageDismissState=function(){},t.setSystemThemeMode=function(e){f.default.set(p.KEYS.SYSTEM_THEME_MODE,e)},t.setTheme=function(e){f.default.set(p.KEYS.THEME,e)},t.setUnknownId=h,t.setUserPrivacySettings=function(e){f.default.setUser(p.KEYS.USER_PRIVACY_SETTINGS,e)},t.setWhatsAppWebExternalBetaDirtyBitIdb=function(e){return _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.KEYS.WHATSAPP_WEB_EXTERNAL_BETA_DIRTY_BIT_IDB,e)},t.setWhatsAppWebExternalBetaJoinedIdb=function(e){return _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.KEYS.WHATSAPP_WEB_EXTERNAL_BETA_IDB,e)};var i=r(n(48926)),o=r(n(82569)),a=(n(83741),n(1363)),s=n(81790),l=r(n(44848)),c=r(n(60347)),u=n(94273),d=n(46319),_=n(17657),p=n(59356),f=r(n(61112));const E=[p.KEYS.CLIENT_TOKEN,p.KEYS.SERVER_TOKEN],A=[p.KEYS.VERSION];function g(){return{client:f.default.get(p.KEYS.CLIENT_TOKEN),server:f.default.get(p.KEYS.SERVER_TOKEN)}}function h(e){return f.default.set(p.KEYS.UNKNOWN_ID,e)}function S(){return(S=(0,i.default)((function*(e){null!=e&&(yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.MOBILE_PLATFORM,e))}))).apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e){null!=e&&(yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.SERVER_PROPS_ATTRIBUTES,e))}))).apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){null!=e&&(yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.SERVER_PROPS,e))}))).apply(this,arguments)}function I(e,t,n){if(null==e)return;const[r,i]=e;if("string"==typeof n){const e=i[n];null!=e&&e===n&&(t[r]=e)}}function y(e){f.default.set(p.KEYS.MEDIA_VOLUME,e)}function C(e){f.default.set(p.KEYS.MEDIA_MUTE,e)}function v(e){return`${p.KEYS.COMPOSE_CONTENTS_PREFIX}${e.toString()}`}function O(e){return(e.toString()||"").replace("@","_")}function P(e){if(e.some((e=>e.endsWith("_")))){const t=e.map((e=>e.replace(/_$/,"").replace("@","_")));return f.default.setUser(p.KEYS.CHATS_USER_SENT_MESSAGE_TO,t),t}return e}function N(){const e=f.default.get(p.KEYS.DAILY_STATS_START_TIME);if("number"==typeof e)return e;const t=Date.now();return f.default.set(p.KEYS.DAILY_STATS_START_TIME,t),t}function b(){return(b=(0,i.default)((function*(){return!!(yield _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.KEYS.WHATSAPP_WEB_EXTERNAL_BETA_IDB))}))).apply(this,arguments)}function M(){return(M=(0,i.default)((function*(){return!!(yield _.userPrefsIndexedDBStorage.getItemFromIndexedDB(p.KEYS.WHATSAPP_WEB_EXTERNAL_BETA_DIRTY_BIT_IDB))}))).apply(this,arguments)}function R(){return(R=(0,i.default)((function*(e){null!=e&&(yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.APP_VERSION_BASE,e))}))).apply(this,arguments)}function D(){const e=(0,c.default)();return f.default.set(p.KEYS.AD_CREATION_FLOW_ID_KEY,e),e}function L(){return(L=(0,i.default)((function*(e){yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.OFFLINE_PUSH_COUNT,e)}))).apply(this,arguments)}function w(){return(w=(0,i.default)((function*(e){yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.LAST_PUSH_COMPLETE_TIMESTAMP,e)}))).apply(this,arguments)}function B(){return(B=(0,i.default)((function*(){yield _.userPrefsIndexedDBStorage.removeItemFromIndexedDB(p.BACKEND_ONLY_KEYS.LAST_PUSH_COMPLETE_TIMESTAMP)}))).apply(this,arguments)}function U(){return(U=(0,i.default)((function*(e){yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.OFFLINE_PUSH_DISABLED,e)}))).apply(this,arguments)}function G(){return(G=(0,i.default)((function*(e){yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.OFFLINE_NOTIFICATION_L10N_CONTENT,e)}))).apply(this,arguments)}function k(){return(k=(0,i.default)((function*(e){yield _.userPrefsIndexedDBStorage.setItemToIndexedDB(p.BACKEND_ONLY_KEYS.LOGOUT_REASON,e)}))).apply(this,arguments)}t.DEFAULT_PTT_PLAYBACK_RATE=1;const Y=n(76672).Mirrored(["FULL","COLLAPSED"]);t.ChatlistPanelState=Y},96549:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getChunkCountForEndOfRecentHistorySync=function(){return I.apply(this,arguments)},t.getEstimatedChunkCountForEndOfRecentHistorySync=function(){return C.apply(this,arguments)},t.getHistoryInitialSyncBoundary=function(){const e=_.default.getUser(u.KEYS.INITIAL_HIST_BOUNDARY);if("string"!=typeof e)return null;let t;try{t=JSON.parse(e)}catch(e){return null}if(null==t||"object"!=typeof t||t instanceof Array)return null;const n={};return Object.entries(t).forEach((e=>{let[t,r]=e;"number"==typeof r&&(n[t]=r)})),n},t.getHistorySyncEarliestDate=function(){const e=_.default.get(u.KEYS.HISTORY_SYNC_EARLIEST_DATE);if("number"!=typeof e||0===e){var t;const e=null!==(t=(0,d.getPairingTimestamp)())&&void 0!==t?t:(0,a.unixTime)(),n=90*a.DAY_SECONDS;return e-n}return e},t.getHistorySyncRemainingPausedSeconds=function(){const e=_.default.get(u.MD_KEYS.HISTORY_SYNC_REMAINING_PAUSED_SECONDS);if("number"==typeof e)return e},t.getHistorySyncSingleChunkStatus=O,t.getHistorySyncStatus=S,t.getInitialHistorySyncComplete=function(){return g.apply(this,arguments)},t.getInitialHistorySyncCompleteLocalStorage=function(){return!!_.default.get(u.MD_KEYS.INITIAL_HISTORY_SYNCED,{storage:s.default})},t.getLastHistoryRecentSyncedChunk=function(){return E.apply(this,arguments)},t.getLastHistorySyncedChunk=function(){return f.apply(this,arguments)},t.setChunkCountForEndOfRecentHistorySync=function(){return m.apply(this,arguments)},t.setEstimatedChunkCountForEndOfRecentHistorySync=function(){return y.apply(this,arguments)},t.setHistoryInitialSyncBoundary=function(e){_.default.setUser(u.KEYS.INITIAL_HIST_BOUNDARY,JSON.stringify(e))},t.setHistorySyncEarliestDate=function(e){_.default.set(u.KEYS.HISTORY_SYNC_EARLIEST_DATE,e)},t.setHistorySyncRemainingPausedSeconds=function(e){_.default.set(u.MD_KEYS.HISTORY_SYNC_REMAINING_PAUSED_SECONDS,e)},t.setHistorySyncSingleChunkStatus=function(){return v.apply(this,arguments)},t.setHistorySyncStatus=function(){return h.apply(this,arguments)},t.setInitialHistorySyncComplete=function(){return A.apply(this,arguments)},t.setLastHistorySyncedChunk=function(){return p.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(29987),s=r(n(44848)),l=n(25993),c=n(17657),u=n(59356),d=n(56333),_=r(n(61112));function p(){return(p=(0,o.default)((function*(e,t,n){null!=e&&null!=t&&(e===l.HistorySync$HistorySyncType.RECENT&&(yield c.userPrefsIndexedDBStorage.setItemToIndexedDB(u.BACKEND_ONLY_KEYS.MD_HISTORY_LAST_RECENT_SYNC_CHUNK_PROCESSED,{chunkOrder:t,progress:n})),yield c.userPrefsIndexedDBStorage.setItemToIndexedDB(u.BACKEND_ONLY_KEYS.MD_HISTORY_LAST_CHUNK_PROCESSED,`${e}_${t}`),_.default.set(u.MD_KEYS.MD_HISTORY_LAST_CHUNK_PROCESSED,`${e}_${t}`,{shouldWriteToIdb:!1}))}))).apply(this,arguments)}function f(){return(f=(0,o.default)((function*(){return yield c.userPrefsIndexedDBStorage.getItemFromIndexedDB(u.BACKEND_ONLY_KEYS.MD_HISTORY_LAST_CHUNK_PROCESSED)}))).apply(this,arguments)}function E(){return(E=(0,o.default)((function*(){return yield c.userPrefsIndexedDBStorage.getItemFromIndexedDB(u.BACKEND_ONLY_KEYS.MD_HISTORY_LAST_RECENT_SYNC_CHUNK_PROCESSED)}))).apply(this,arguments)}function A(){return(A=(0,o.default)((function*(){return yield c.userPrefsIndexedDBStorage.setItemToIndexedDB(u.BACKEND_ONLY_KEYS.INITIAL_HISTORY_SYNCED,!0),_.default.set(u.MD_KEYS.INITIAL_HISTORY_SYNCED,"true",{shouldWriteToIdb:!1})}))).apply(this,arguments)}function g(){return(g=(0,o.default)((function*(){return!0===(yield c.userPrefsIndexedDBStorage.getItemFromIndexedDB(u.BACKEND_ONLY_KEYS.INITIAL_HISTORY_SYNCED))}))).apply(this,arguments)}function h(){return(h=(0,o.default)((function*(e){var t;const n=null!==(t=yield S())&&void 0!==t?t:{};yield c.userPrefsIndexedDBStorage.setItemToIndexedDB(u.BACKEND_ONLY_KEYS.HISTORY_SYNC_STATUS,(0,i.default)((0,i.default)({},n),e)),_.default.set(u.MD_KEYS.HISTORY_SYNC_STATUS,(0,i.default)((0,i.default)({},n),e),{shouldWriteToIdb:!1})}))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=(0,o.default)((function*(){return yield c.userPrefsIndexedDBStorage.getItemFromIndexedDB(u.BACKEND_ONLY_KEYS.HISTORY_SYNC_STATUS)}))).apply(this,arguments)}function m(){return(m=(0,o.default)((function*(e){yield c.userPrefsIndexedDBStorage.setItemToIndexedDB(u.BACKEND_ONLY_KEYS.HISTORY_SYNC_CHUNK_COUNT_FOR_END_OF_RECENT_SYNC,e)}))).apply(this,arguments)}function I(){return(I=(0,o.default)((function*(){var e;return null!==(e=yield c.userPrefsIndexedDBStorage.getItemFromIndexedDB(u.BACKEND_ONLY_KEYS.HISTORY_SYNC_CHUNK_COUNT_FOR_END_OF_RECENT_SYNC))&&void 0!==e?e:0}))).apply(this,arguments)}function y(){return(y=(0,o.default)((function*(e){yield c.userPrefsIndexedDBStorage.setItemToIndexedDB(u.BACKEND_ONLY_KEYS.ESTIMATED_HISTORY_SYNC_CHUNK_COUNT_FOR_END_OF_RECENT_SYNC,e)}))).apply(this,arguments)}function C(){return(C=(0,o.default)((function*(){const e=yield c.userPrefsIndexedDBStorage.getItemFromIndexedDB(u.BACKEND_ONLY_KEYS.ESTIMATED_HISTORY_SYNC_CHUNK_COUNT_FOR_END_OF_RECENT_SYNC);return null!=e?e:0}))).apply(this,arguments)}function v(){return(v=(0,o.default)((function*(e){var t;const n=null!==(t=yield O())&&void 0!==t?t:{};yield c.userPrefsIndexedDBStorage.setItemToIndexedDB(u.BACKEND_ONLY_KEYS.HISTORY_SYNC_SINGLE_CHUNK_STATUS,(0,i.default)((0,i.default)({},n),e))}))).apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return(P=(0,o.default)((function*(){return yield c.userPrefsIndexedDBStorage.getItemFromIndexedDB(u.BACKEND_ONLY_KEYS.HISTORY_SYNC_SINGLE_CHUNK_STATUS)}))).apply(this,arguments)}},59356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MD_NOISE_KEYS=t.MD_KEYS=t.KEYS=t.HASHED_MD_KEYS=t.HASHED_KEYS=t.COLLECTIONS_KEYS=t.BACKEND_ONLY_KEYS=void 0;const n=Object.freeze({STORAGE_TEST:"storage_test",CLIENT_TOKEN:"WAToken1",SERVER_TOKEN:"WAToken2",SECRET:"WASecretKey",SECURITY_NOTIFICATIONS:"WASecurityNotifications",BROWSER_ID:"WABrowserId",GROUP_ASSIGNED_COLOR:"WAGroupAssignedColor-17",GLOBAL_MUTE_SOUNDS:"WAGlobalSounds",GLOBAL_MUTE_CALL_RINGTONE:"WAGlobalCallRingtone",OUTGOING_MESSAGE_SOUND:"WAOutgoingMessageSound",GLOBAL_MUTE_NOTIFICATIONS:"WAGlobalNotifications",GLOBAL_MUTE_IN_APP_NOTIFICATIONS:"WAGlobalInAppNotifications",GLOBAL_MUTE_PREVIEWS:"WAGlobalPreviews",GLOBAL_OFFLINE_NOTIFICATIONS_ENABLED:"WAGlobalOfflineNotificationsEnabled",GLOBAL_OFFLINE_NOTIFICATIONS_INTERNAL_ENABLED_ONCE:"WAGlobalOfflineNotificationsInternalEnabledOnce",GLOBAL_COLLAPSE_MUTED:"WAGlobalCollapseMuted",NOTIFICATION_SOUND:"WANotificationSound",AUTO_DOWNLOAD_PHOTOS:"WAAutoDownloadPhotos",AUTO_DOWNLOAD_AUDIO:"WAAutoDownloadAudio",AUTO_DOWNLOAD_VIDEOS:"WAAutoDownloadVideos",AUTO_DOWNLOAD_DOCUMENTS:"WAAutoDownloadDocuments",LANG:"WALangPref",LAST_ACTIVE_EMOJI_TAB:"WALastActiveEmojiTab",LAST_SELECTED_COMPOSE_BOX_PANEL:"WALastActiveComposeBoxPanel",LAST_CHAT_MUTE_DURATION:"WALastChatMuteDuration",UNKNOWN_ID:"WAUnknownID",VERSION:"WAVersion",LOAD_RETRY_GENERATION:"WALoadRetryGeneration",WHATSAPP_MUTEX:"whatsapp-mutex",LAST_WID:"last-wid",LAST_WID_MD:"last-wid-md",SAVE_TO_CAMERA_ROLL:"save_to_camera_roll",MARK_TRANSLATIONS:"mark_translations",PINS_DEBUG_MODE:"pins_debug_mode",IS_OPT_IN_EXTERNAL_BETA:"is_opt_in_external_beta",SW_UPDATE_TARGET_VERSION:"WASwUpdateTargetVersion",POSTCODE_AUTO_OPEN_CHANGE_POSTCODE_DONE:"postcode_auto_open_change_postcode_done",POSTCODE_AUTO_OPEN_CHANGE_POSTCODE_COUNT:"postcode_auto_open_change_postcode_count",POSTCODE_TOOLTIP_VIEW_COUNT:"postcode_tooltip_view_count",POSTCODE_TOOLTIP_VIEWED_IN_SESSION:"postcode_tooltip_viewed_in_session",LAST_PUSHNAME:"last-pushname",PTT_PLAYBACK_RATE:"WAPttPlaybackRate",LOGOUT_DIRTY_BIT:"post-logout",DAILY_STATS_START_TIME:"WADailyStatsStartTime",PRIMARY_FEATURES:"WAPrimaryFeatures",TOS_STATE_FETCH_ITERATION:"ToSStateFetchIteration",NUX_LIST:"WANuxList",LID:"WALid",ME_DISPLAY_NAME:"me-display-name",PRESERVED_USER_KEYS:"preserved_user_keys",LAST_STATUS_USAGE:"last-status-usage",MOBILE_PLATFORM_DEPRECATED:"mobile-platform",REMEMBER_ME:"remember-me",NO_TAKEOVER:"no-takeover",WHATSAPP_LS_VERSION:"ver",USER_ACTIVITY_TIME_SPENT_EVENT:"WaTimeSpentEvent",TIME_SPENT_BITARRAY_EVENT:"WAWebTsBitarrayEvent",MEDIA_VOLUME:"video-volume",MEDIA_MUTE:"video-mute",CONTACT_CHECKSUM:"contact-checksum",CONTACT_CHECKSUM_MODEL_STORAGE:"contact_checksum",FREQUENT_CONTACTS:"frequent_contacts",GK_PROTO:"gk_proto",INITIAL_HIST_BOUNDARY:"history_initial_sync_boundry",INITIAL_GROUP_PHASH:"initial_group_phash",USER_PRIVACY_SETTINGS:"user-privacy-settings",IS_SMB:"is-smb",COMPOSE_CONTENTS_PREFIX:"compose-contents_",THEME:"theme",SYSTEM_THEME_MODE:"system-theme-mode",ABPROPS:"abprops",HISTORY_SYNC_EARLIEST_DATE:"history-sync-earliest-date",CHATS_USER_SENT_MESSAGE_TO:"chats-user-sent-message-to",SYNCD_DISABLED_DUE_TO_FATAL:"syncd_disabled_due_to_fatal",SYNCD_FIRST_CLEAR_OR_DELETE:"syncd-first-clear-or-delete",CONTACT_SYNC_REFRESH:"contact-sync-refresh-seconds",TOS_3:"TOS_STATE_20210210",LOCAL_TAKEOVER_OK:"local-takeover-ok",PS_KILLSWITCH_TOKEN:"ps-killswitch-token",STORAGE_DISMISS_STATE:"storage-dismiss-state",STORAGE_ALERT_FLAG:"storage-alert-flag",HOUR_24:"hour-24",PERSISTENT_EXPIRING_ID:"WaPersistentExpiringId",LAST_ELECTRON_NOTIFICATION_CLOSE:"last-electron-notification-close",ELECTRON_DEPRECATION_HAS_CTA_BEEN_CLICKED_BEFORE:"electron-deprecation-has-cta-been-clicked-before",FIRST_SEEN_DESKTOP_UPSELL_BBAR:"first-seen-desktop-upsell-bbar",DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL:"desktop-upsell-user-has-clicked-call-modal",DESKTOP_UPSELL_USER_HAS_DISMISSED_CHATLIST_TOASTBAR:"desktop-upsell-user-has-dismissed_chatlist-toastbar",WEB_NOTIFICATIONS_BB_STATUS:"WAWebNotificationsButterbarStatus",OFFLINE_NOTIFICATIONS_BB_STATUS:"WAOfflineNotificationsButterbarStatus",FB_SHOPS_SUNSET_BB_STATUS:"WAWebFBShopsSunsetButterbarStatus",PNH_CAG_FUTURE_PROOF_BANNER_CLOSED:"pnh_cag_future_proof_banner_closed",EXISTING_LID_SIGNAL_SESSION_IS_CLEANED:"existing_lid_signal_session_is_cleaned",VERIFIED_BUSINESS_NAME_IS_CLEANED:"WAVerifiedBusinessNameIsCleaned",WHATSAPP_WEB_EXTERNAL_BETA:"whatsapp_web_beta",WHATSAPP_WEB_EXTERNAL_BETA_DIRTY_BIT:"whatsapp_web_beta_dirty_bit",WHATSAPP_WEB_EXTERNAL_BETA_IDB:"WAWebBetaOptInStatus",WHATSAPP_WEB_EXTERNAL_BETA_DIRTY_BIT_IDB:"WAWebBetaOptInDirtyBit",CONTACT_IS_CLEANED:"WAContactIsCleaned",CHAT_UTM:"deeplink_utm",AD_CREATION_FLOW_ID_KEY:"ad_creation_flow_id_key",AD_CREATION_SEQUENCE_NUMBER_KEY:"ad_creation_sequence_number_key",CHATLIST_PANEL_STATE:"chatlist_panel_state",CTWA_DATA_SHARING_UPSELL_ACTIVE:"ctwa_data_sharing_upsell_active",CTWA_DATA_SHARING_COOL_OFF:"ctwa_data_sharing_cool_off",CTWA_CONSUMER_TRANSPARENCY_INFO_ICON:"ctwa_consumer_transparency_info_icon",DISAPPEARING_MSG_DISCLAIMER_DIMISSED:"disappearing_msg_disclaimer_dimissed",TIME_SPENT_SESSION:"WAWebTimeSpentSession",TIME_SPENT_PENDING_BACKGROUND_NAVIGATION:"WAWebTimeSpentPendingBackgroundNavigation",WA_WEB_RECOMMENDED_NEWSLETTERS:"WAWebRecommendedNewsletters",WA_WEB_NEWSLETTERS_SUBSCRIBERS_FULL:"WAWebNewsletterSubscribersFull",WA_WEB_NEWSLETTERS_SUBSCRIBERS_LIMITED:"WAWebNewsletterSubscribersLimited"});t.KEYS=n;const r=Object.freeze({EMOJI_VARIANT_COLLECTION:"emoji_variant_collection",RECENT_EMOJI_COLLECTION:"recent_emoji_collection",RECENT_REACTIONS_COLLECTION:"recent_reactions_collection",CHAT_PREFERENCE_COLLECTION:"chat_preference",CONVERSION_TUPLE_COLLECTION:"conversion_tuple",MUTE_COLLECTION:"mute",PROFILE_PIC_THUMB_COLLECTION:"profile_pic_thumb",UNATTRIBUTED_MESSAGE_COLLECTION:"unattributed_message_collection",CART_COLLECTION:"cart_collection",QUICK_REPLY_COLLECTION:"quick_replies_collection",DAILY_AGGREGATED_STATS_COLLECTION:"daily_aggregated_stats"});t.COLLECTIONS_KEYS=r;const i=Object.freeze({NOISE_INFO:"WANoiseInfo",NOISE_INFO_IV:"WANoiseInfoIv",ME_INFO:"WAMeInfo",DEVICE_ID:"WADeviceId",ROUTING_INFO:"WARoutingInfo",INITIAL_HISTORY_SYNCED:"WaInitialHistorySynced",CRITICAL_DATA_SYNCED:"critical_data_synced",HISTORY_SYNC_STATUS:"WAHistorySyncStatus",HISTORY_SYNC_REMAINING_PAUSED_SECONDS:"WAHistorySyncRemainingPausedSeconds",ADV_SECRET_KEY:"WaADVSecretKey",IS_SMB:"WAIsSMB",LAST_OFFLINE_MESSAGE:"WALastOfflineMessage",BLOCKLIST_HASH:"WABlocklistHash",SHOULD_CHECK_CONTACT_SYNC_STATUS:"WAShouldCheckContactSyncStatus",WEB_ENC_SALT:"WebEncKeySalt",MD_UPGRADE_WAM_FLAG:"MdUpgradeWamFlag",MD_HISTORY_LAST_CHUNK_PROCESSED:"MdHistoryLastChunkProcessed",UNARCHIVE_CHATS_SETTING:"WAUnarchiveChatsSetting",ARCHIVE_V2_ENABLED_SETTING:"WAArchiveV2EnabledSetting",SYNCD_PRIMARY_ALLOWS_ALL_MUTATIONS:"WASyncdPrimaryAllowsAllMutations",MD_SYNC_ACTIONS_ACTION_SANITIZED:"MdSyncActionsActionSanitized",CHAT_THREAD_LOGGING_OFFSET:"ChatThreadLoggingOffset",CHAT_THREAD_LOGGING_SECRET:"ChatThreadLoggingSecret",CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS:"ChatThreadLoggingLastUploadedStartTs",IS_COMMUNITY_DISCOVERED:"WAIsCommunityDiscovered",PAIRING_TIMESTAMP:"MdPairingTimestamp",RECENT_MAILBOX_AGE_DAYS:"MdRecentMailboxAgeDays",LAST_PERIODIC_APP_STATE_SYNC_TS:"MdLastPeriodicAppStateSyncTs",MD_LOGIN_COOKIE_REQUEST_COMPLETE:"MdLoginCookieRequestComplete",SCREEN_LOCK_DURATION_SECONDS:"WAScreenLockDuration",SCREEN_UNLOCK_TRY_COUNT:"WAScreenUnlockTryCount",SCREEN_LOCK_IV:"WAScreenLockIV",SCREEN_LOCK_DATA_IV:"WAScreenLockDataIV",SCREEN_LOCK_SALT:"WAScreenLockSalt",SCREEN_LOCK_ITERATIONS:"WAScreenLockIterations",CACHED_PROFILE_PIC_EURL:"WACachedProfilePicEURL",COMMUNITY_TAB_LAST_SEEN_TIMESTAMP:"WACommunityTabLastSeenTimestamp",KEY_SEVER_CLIENT_EXPIRATION_OVERRIDE:"key_sever_client_expiration_override",COLUMN_PACKING_ENABLED:"WAWebColumnPackingEnabled",NEWSLETTER_TAB_LAST_SEEN_TIMESTAMP:"WANewslettersTabLastSeenTimestamp",NEWSLETTER_WAS_BOOTSTRAPPED:"WANewslettersWasBootstrapped",BOT_LIST_LAST_REQUESTED_TIMESTAMP:"WABotListLastRequestedTimestamp"});t.MD_KEYS=i;const o=Object.freeze({NOISE_INFO:"WANoiseInfo",NOISE_INFO_IV:"WANoiseInfoIv",WEB_ENC_SALT:"WAWebEncKeySalt"});t.MD_NOISE_KEYS=o;const a=Object.freeze({ROUTING_INFO:"WARoutingInfo",INITIAL_HISTORY_SYNCED:"WAInitialHistorySynced",HISTORY_SYNC_STATUS:"WAHistorySyncStatus",BLOCKLIST_HASH:"WABlocklistHash",CRITICAL_DATA_SYNCED:"WACriticalDataSynced",SHOULD_CHECK_CONTACT_SYNC_STATUS:"WAShouldCheckContactSyncStatus",ADV_SECRET_KEY:"WAADVSecretKey",MD_UPGRADE_WAM_FLAG:"WAMdUpgradeWamFlag",MD_HISTORY_LAST_CHUNK_PROCESSED:"WAMdHistoryLastChunkProcessed",UNARCHIVE_CHATS_SETTING:"WAUnarchiveChatsSetting",ARCHIVE_V2_ENABLED_SETTING:"WAArchiveV2EnabledSetting",MD_SYNC_ACTIONS_ACTION_SANITIZED:"WAMdSyncActionsActionSanitized",CHAT_THREAD_LOGGING_OFFSET:"WAChatThreadLoggingOffset",CHAT_THREAD_LOGGING_SECRET:"WAChatThreadLoggingSecret",CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS:"WAChatThreadLoggingLastUploadedStartTs",IS_COMMUNITY_DISCOVERED:"WAIsCommunityDiscovered",PAIRING_TIMESTAMP:"WAMdPairingTimestamp",RECENT_MAILBOX_AGE_DAYS:"WAMdRecentMailboxAgeDays",LAST_PERIODIC_APP_STATE_SYNC_TS:"WAMdLastPeriodicAppStateSyncTs",MD_LOGIN_COOKIE_REQUEST_COMPLETE:"WAMdLoginCookieRequestComplete",HISTORY_SYNC_CHUNK_COUNT_FOR_END_OF_RECENT_SYNC:"WAHistorySyncChunkCountForEndOfRecentSync",MOBILE_PLATFORM:"WAMobilePlatform",NON_CRITICAL_DATA_SYNC_STATUS:"WANonCriticalDataSyncStatus",SERVER_PROPS:"WAServerProps",SERVER_PROPS_ATTRIBUTES:"WAServerPropsAttributes",PRIMARY_FEATURES:"WAPrimaryFeatures",APP_VERSION_BASE:"WAVersionBase",ESTIMATED_HISTORY_SYNC_CHUNK_COUNT_FOR_END_OF_RECENT_SYNC:"WAEstimatedHistorySyncChunkCountForEndOfRecentSync",OFFLINE_PUSH_COUNT:"WAOfflinePushCount",HISTORY_SYNC_SINGLE_CHUNK_STATUS:"WAHistorySyncSingleChunkStatus",LAST_PUSH_COMPLETE_TIMESTAMP:"WALastPushCompleteTimestamp",OFFLINE_PUSH_DISABLED:"WAOfflinePushDisabled",MD_HISTORY_LAST_RECENT_SYNC_CHUNK_PROCESSED:"WAMdHistoryLastRecentSyncChunkProcessed",OFFLINE_NOTIFICATION_L10N_CONTENT:"WAOfflineNotificationContent",LOGOUT_REASON:"WALogoutReason"});t.BACKEND_ONLY_KEYS=a;const s=Object.freeze({});t.HASHED_MD_KEYS=s;const l=Object.freeze({});t.HASHED_KEYS=l},15107:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(19026),o=n(51698),a=n(17657),s=n(59356),l=r(n(637)),c=r(n(61112));var u={getLangPref:function(){return l.default.getItemFromLocalStorage(s.KEYS.LANG)},setLangPref:function(e){l.default.setItemToLocalStorage(s.KEYS.LANG,e),(0,i.isSocketConnected)()&&a.userPrefsIndexedDBStorage.setItemToIndexedDB(s.KEYS.LANG,e)},getMarkTranslations:function(){if(!o.MARK_TRANSLATIONS_ENABLED)return!1;const e=c.default.get(s.KEYS.MARK_TRANSLATIONS);return"boolean"==typeof e?e:o.MARK_TRANSLATIONS_ENABLED},setMarkTranslations:function(e){c.default.set(s.KEYS.MARK_TRANSLATIONS,e)},setHour24:function(e){c.default.set(s.KEYS.HOUR_24,e)},getHour24:function(){const e=c.default.get(s.KEYS.HOUR_24);return"boolean"==typeof e?e:null}};t.default=u},3885:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.assertGetMe=f,t.assertGetMeDisplayName=A,t.assertGetMeUser=E,t.clearGetMaybeMeUserCache=void 0,t.getMaybeMeLid=T,t.getMaybeMeLidUser=m,t.getMaybeMeUser=void 0,t.getMe=p,t.getMeDisplayName=function(){return A()},t.getMePNandLIDWids=function(){const e=T();return null==e?[f()]:[f(),e]},t.getMeUser=g,t.isMeAccount=y,t.isMeAccountNonLid=function(e){if(null==e||!I(e))return!1;const t=h();if(null!=t&&e.isSameAccount(t))return!0;return!1},t.isMeDevice=function(e){if(null==e||!I(e))return!1;if(e.equals(f()))return!0;const t=T();return null!=t&&e.equals(t)},t.isMePrimary=function(e){if(null==e||!I(e))return!1;if(e.equals(g()))return!0;const t=m();return null!=t&&e.equals(t)},t.isMePrimaryNonLid=function(e){if(null==e||!I(e))return!1;if(e.equals(E()))return!0;return!1},t.isSerializedWidMe=function(e){return y((0,d.createWid)(e))},t.setMe=function(e){S(),l.userPreferencesStoreBase.set(c.KEYS.LAST_WID_MD,null==e?null:e.toString()),(0,i.setMyJids)((0,_.widToMyJids)(e))},t.setMeDisplayName=function(e){(0,s.isWorker)()?n(35255).setMyDisplayName(e):l.userPreferencesStoreBase.set(c.KEYS.ME_DISPLAY_NAME,e)},t.setMeLid=function(e){(0,s.isWorker)()?n(35255).setMyLidDeviceJid(e.toString()):l.userPreferencesStoreBase.set(c.KEYS.LID,e.toString())};var i=n(58117),o=r(n(49619)),a=n(77086),s=n(95160),l=n(50456),c=n(59356),u=r(n(27112)),d=n(51017),_=n(14356);function p(){if((0,s.isWorker)()){const e=n(35255).getMyDeviceJid;return(0,d.createWid)(e())}const e=l.userPreferencesStoreBase.get(c.KEYS.LAST_WID_MD);if("string"==typeof e)return u.default.isWid(e)?(0,d.createWid)(e):void 0}function f(){return(0,o.default)(p(),"me")}function E(){return(0,o.default)(g(),"meUser")}function A(){return(0,o.default)(function(){if((0,s.isWorker)())return n(35255).getMyDisplayName();const e=l.userPreferencesStoreBase.get(c.KEYS.ME_DISPLAY_NAME);if("string"==typeof e)return e}(),"meDisplayName")}function g(){return(0,d.toUserWid)(f())}const[h,S]=(0,a.memoizeWithClear)((()=>{const e=p();if(e)return(0,d.toUserWid)(e)}));function T(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,s.isWorker)()?n(35255).getMyLidDeviceJid():l.userPreferencesStoreBase.get(c.KEYS.LID),r="string"==typeof t?t:null,i=u.default.isWid(r);return e&&!i&&(__LOG__(4,void 0,new Error,!0)`self-lid-missing`,SEND_LOGS("self-lid-missing")),null!=r&&i?(0,d.createWid)(r):null}function m(){const e=T();return null==e?null:(0,d.toUserWid)(e)}function I(e){const t=e instanceof u.default;return t||__LOG__(3)`isWID: input exists but is not WID`,t}function y(e){if(null==e||!I(e))return!1;const t=h();if(null!=t&&e.isSameAccount(t))return!0;const n=T();return null!=n&&e.isSameAccount(n)}t.clearGetMaybeMeUserCache=S,t.getMaybeMeUser=h},56333:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.clearRegistrationInfo=function(){return p.apply(this,arguments)},t.clearServerClientExpirationOverride=function(){return _.default.set(c.MD_KEYS.KEY_SEVER_CLIENT_EXPIRATION_OVERRIDE,void 0)},t.getADVSecretKey=function(){return y.apply(this,arguments)},t.getArchiveV2EnabledSetting=function(){return R.apply(this,arguments)},t.getBlocklistHash=function(){return v.apply(this,arguments)},t.getCachedProfilePicEURL=function(){return _.default.get(c.MD_KEYS.CACHED_PROFILE_PIC_EURL,{storage:a.default})},t.getChatThreadLoggingLastUploadedStartTs=function(){return k.apply(this,arguments)},t.getChatThreadLoggingOffset=function(){return w.apply(this,arguments)},t.getChatThreadLoggingSecretB64=function(){return U.apply(this,arguments)},t.getCommunityTabLastSeenTimestamp=function(){var e;return null!==(e=_.default.get(c.MD_KEYS.COMMUNITY_TAB_LAST_SEEN_TIMESTAMP))&&void 0!==e?e:0},t.getMdLoginCookieRequestComplete=function(){return g.apply(this,arguments)},t.getNewsletterWasBootstrapped=function(){const e=_.default.get(c.MD_KEYS.NEWSLETTER_WAS_BOOTSTRAPPED);if("boolean"==typeof e)return e;return!1},t.getNoiseInfo=E,t.getNoiseInfoIv=function(){return u.default.getItemFromLocalStorage(c.MD_NOISE_KEYS.NOISE_INFO_IV)},t.getPairingTimestamp=function(){const e=_.default.get(c.MD_KEYS.PAIRING_TIMESTAMP);return null==e?null:parseInt(e,10)},t.getRecentMailboxAgeDays=function(){return P.apply(this,arguments)},t.getRoutingInfo=function(){return T.apply(this,arguments)},t.getServerClientExpirationOverride=function(){const e=_.default.get(c.MD_KEYS.KEY_SEVER_CLIENT_EXPIRATION_OVERRIDE);if(null==(null==e?void 0:e.ts)||null==(null==e?void 0:e.appVersion))return;return{timestamp:parseInt(e.ts,10),appVersion:e.appVersion}},t.getShouldCheckContactSyncStatus=function(){return N.apply(this,arguments)},t.getUnarchiveChatsSetting=function(){return b.apply(this,arguments)},t.getWebEncSalt=function(){return u.default.getItemFromLocalStorage(c.MD_NOISE_KEYS.WEB_ENC_SALT)},t.isRegistered=function(){return!(!E()||!(0,d.getMe)())},t.setADVSecretKey=function(){return I.apply(this,arguments)},t.setArchiveV2EnabledSetting=function(){return D.apply(this,arguments)},t.setBlocklistHash=function(){return C.apply(this,arguments)},t.setCachedProfilePicEURL=function(e){return _.default.set(c.MD_KEYS.CACHED_PROFILE_PIC_EURL,e)},t.setChatThreadLoggingLastUploadedStartTs=function(){return G.apply(this,arguments)},t.setChatThreadLoggingOffset=function(){return L.apply(this,arguments)},t.setChatThreadLoggingSecretB64=function(){return B.apply(this,arguments)},t.setCommunityTabLastSeenTimestamp=function(e){_.default.set(c.MD_KEYS.COMMUNITY_TAB_LAST_SEEN_TIMESTAMP,e)},t.setMdLoginCookieRequestComplete=function(){return A.apply(this,arguments)},t.setNewsletterWasBootstrapped=function(){_.default.set(c.MD_KEYS.NEWSLETTER_WAS_BOOTSTRAPPED,!0)},t.setNoiseInfo=function(){return f.apply(this,arguments)},t.setNoiseInfoIv=function(){return h.apply(this,arguments)},t.setPairingTimestamp=function(e){return _.default.set(c.MD_KEYS.PAIRING_TIMESTAMP,e)},t.setRecentMailboxAgeDays=function(){return O.apply(this,arguments)},t.setRoutingInfo=function(){return S.apply(this,arguments)},t.setServerClientExpirationOverride=function(e,t){return _.default.set(c.MD_KEYS.KEY_SEVER_CLIENT_EXPIRATION_OVERRIDE,{ts:e,appVersion:t})},t.setUnarchiveChatsSetting=function(){return M.apply(this,arguments)},t.setWebEncSalt=function(){return m.apply(this,arguments)};var i=r(n(48926)),o=n(62089),a=r(n(44848)),s=n(85608),l=n(17657),c=n(59356),u=r(n(637)),d=n(3885),_=r(n(61112));function p(){return(p=(0,i.default)((function*(){const e=[c.MD_KEYS.NOISE_INFO,c.MD_KEYS.ME_INFO,c.MD_KEYS.DEVICE_ID,c.MD_KEYS.ROUTING_INFO,c.MD_KEYS.INITIAL_HISTORY_SYNCED,c.MD_KEYS.WEB_ENC_SALT];e.push(c.KEYS.LAST_WID_MD),e.map((e=>{_.default.set(e,void 0)})),yield s.userPrefsCacheStorage.clearCacheStorage()}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e){u.default.setItemToLocalStorage(c.MD_NOISE_KEYS.NOISE_INFO,e),yield s.userPrefsCacheStorage.setItemToCacheStorage(c.MD_NOISE_KEYS.NOISE_INFO,e)}))).apply(this,arguments)}function E(){return u.default.getItemFromLocalStorage(c.MD_NOISE_KEYS.NOISE_INFO)}function A(){return(A=(0,i.default)((function*(){return yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.MD_LOGIN_COOKIE_REQUEST_COMPLETE,!0),_.default.set(c.MD_KEYS.MD_LOGIN_COOKIE_REQUEST_COMPLETE,!0)}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(){return!0===(yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.MD_LOGIN_COOKIE_REQUEST_COMPLETE))}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){u.default.setItemToLocalStorage(c.MD_NOISE_KEYS.NOISE_INFO_IV,e),yield s.userPrefsCacheStorage.setItemToCacheStorage(c.MD_NOISE_KEYS.NOISE_INFO_IV,e)}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.ROUTING_INFO,e);const{domain:t,edgeRouting:n}=e,r={domain:t,edgeRouting:n?(0,o.encodeB64)(n):null};return _.default.set(c.MD_KEYS.ROUTING_INFO,r,{storage:a.default})}))).apply(this,arguments)}function T(){return(T=(0,i.default)((function*(){return yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.ROUTING_INFO)}))).apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){return null!=e?(u.default.setItemToLocalStorage(c.MD_NOISE_KEYS.WEB_ENC_SALT,e),yield s.userPrefsCacheStorage.setItemToCacheStorage(c.MD_NOISE_KEYS.WEB_ENC_SALT,e)):(u.default.removeItemFromLocalStorage(c.MD_NOISE_KEYS.WEB_ENC_SALT),yield s.userPrefsCacheStorage.removeItemFromCacheStorage(c.MD_NOISE_KEYS.WEB_ENC_SALT)),_.default.set(c.MD_KEYS.WEB_ENC_SALT,e,{shouldWriteToIdb:!1})}))).apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){return null==e?yield l.userPrefsIndexedDBStorage.removeItemFromIndexedDB(c.BACKEND_ONLY_KEYS.ADV_SECRET_KEY):yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.ADV_SECRET_KEY,e),_.default.set(c.MD_KEYS.ADV_SECRET_KEY,e)}))).apply(this,arguments)}function y(){return(y=(0,i.default)((function*(){return yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.ADV_SECRET_KEY)}))).apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e){return yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.BLOCKLIST_HASH,e),_.default.set(c.MD_KEYS.BLOCKLIST_HASH,e)}))).apply(this,arguments)}function v(){return(v=(0,i.default)((function*(){return yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.BLOCKLIST_HASH)}))).apply(this,arguments)}function O(){return(O=(0,i.default)((function*(e){return yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.RECENT_MAILBOX_AGE_DAYS,e),_.default.set(c.MD_KEYS.RECENT_MAILBOX_AGE_DAYS,e)}))).apply(this,arguments)}function P(){return(P=(0,i.default)((function*(){return yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.RECENT_MAILBOX_AGE_DAYS)}))).apply(this,arguments)}function N(){return(N=(0,i.default)((function*(){return!0===(yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS))}))).apply(this,arguments)}function b(){return(b=(0,i.default)((function*(){return!0===(yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.UNARCHIVE_CHATS_SETTING))}))).apply(this,arguments)}function M(){return(M=(0,i.default)((function*(e){yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.UNARCHIVE_CHATS_SETTING,e),_.default.set(c.MD_KEYS.UNARCHIVE_CHATS_SETTING,e)}))).apply(this,arguments)}function R(){return(R=(0,i.default)((function*(){return!0===(yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.ARCHIVE_V2_ENABLED_SETTING))}))).apply(this,arguments)}function D(){return(D=(0,i.default)((function*(e){yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.ARCHIVE_V2_ENABLED_SETTING,e),_.default.set(c.MD_KEYS.ARCHIVE_V2_ENABLED_SETTING,e)}))).apply(this,arguments)}function L(){return(L=(0,i.default)((function*(e){yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_OFFSET,e),_.default.set(c.MD_KEYS.CHAT_THREAD_LOGGING_OFFSET,e)}))).apply(this,arguments)}function w(){return(w=(0,i.default)((function*(){return yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_OFFSET)}))).apply(this,arguments)}function B(){return(B=(0,i.default)((function*(e){yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_SECRET,e),_.default.set(c.MD_KEYS.CHAT_THREAD_LOGGING_SECRET,e)}))).apply(this,arguments)}function U(){return(U=(0,i.default)((function*(){return yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_SECRET)}))).apply(this,arguments)}function G(){return(G=(0,i.default)((function*(e){yield l.userPrefsIndexedDBStorage.setItemToIndexedDB(c.BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS,e),_.default.set(c.MD_KEYS.CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS,e)}))).apply(this,arguments)}function k(){return(k=(0,i.default)((function*(){return yield l.userPrefsIndexedDBStorage.getItemFromIndexedDB(c.BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS)}))).apply(this,arguments)}},55017:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_OFFLINE_NOTIFICATION_BB_STATUS=t.DEFAULT_NOTIFICATION_BB_STATUS=void 0,t.getCollapseMuted=function(){return!0===s.default.getUser(a.KEYS.GLOBAL_COLLAPSE_MUTED)},t.getGlobalCallRingtone=function(){return!0!==s.default.getUser(a.KEYS.GLOBAL_MUTE_CALL_RINGTONE)},t.getGlobalNotifications=function(){const e=s.default.getUser(a.KEYS.GLOBAL_MUTE_NOTIFICATIONS);var t;return"boolean"!=typeof e?(null===(t=window.Notification)||void 0===t?void 0:t.permission)===o.PERMISSION_ALLOWED:!e},t.getGlobalOfflineNotifications=function(){return!0===s.default.getUser(a.KEYS.GLOBAL_OFFLINE_NOTIFICATIONS_ENABLED)},t.getGlobalPreviews=function(){return!0!==s.default.getUser(a.KEYS.GLOBAL_MUTE_PREVIEWS)},t.getGlobalSecurityNotifications=function(){return!0!==s.default.getUser(a.KEYS.SECURITY_NOTIFICATIONS)},t.getGlobalSounds=function(){return!0!==s.default.getUser(a.KEYS.GLOBAL_MUTE_SOUNDS)},t.getIgnoreNondirectGroupMsg=function(){l;return!1},t.getOfflineNotificationsBBStatus=_,t.getOfflineNotificationsInternalEnabledOnce=function(){return!0===s.default.getUser(a.KEYS.GLOBAL_OFFLINE_NOTIFICATIONS_INTERNAL_ENABLED_ONCE)},t.getOutgoingMessageSound=function(){return!0===s.default.getUser(a.KEYS.OUTGOING_MESSAGE_SOUND)},t.getWebNotificationsBBStatus=u,t.setCollapseMuted=function(e){s.default.setUser(a.KEYS.GLOBAL_COLLAPSE_MUTED,e)},t.setGlobalCallRingtone=function(e){s.default.setUser(a.KEYS.GLOBAL_MUTE_CALL_RINGTONE,!e)},t.setGlobalNotifications=function(e){s.default.setUser(a.KEYS.GLOBAL_MUTE_NOTIFICATIONS,!e)},t.setGlobalOfflineNotifications=function(e){s.default.setUser(a.KEYS.GLOBAL_OFFLINE_NOTIFICATIONS_ENABLED,e)},t.setGlobalPreviews=function(e){s.default.setUser(a.KEYS.GLOBAL_MUTE_PREVIEWS,!e)},t.setGlobalSecurityNotifications=function(e){s.default.setUser(a.KEYS.SECURITY_NOTIFICATIONS,!e)},t.setGlobalSounds=function(e){s.default.setUser(a.KEYS.GLOBAL_MUTE_SOUNDS,!e)},t.setIgnoreNondirectGroupMsg=function(e){l},t.setOfflineNotificationsBBStatus=function(e){{var t,n,r;const i=_(),{isDismissed:o=!1,firstSeenTime:l=null,isLongResumeTime:c=!1}=i,u=null!==(t=e.isDismissed)&&void 0!==t?t:o,d=null!==(n=e.firstSeenTime)&&void 0!==n?n:l,p=null!==(r=e.isLongResumeTime)&&void 0!==r?r:c;s.default.setUser(a.KEYS.OFFLINE_NOTIFICATIONS_BB_STATUS,{isDismissed:u,firstSeenTime:d,isLongResumeTime:p})}},t.setOfflineNotificationsInternalEnabledOnce=function(){s.default.setUser(a.KEYS.GLOBAL_OFFLINE_NOTIFICATIONS_INTERNAL_ENABLED_ONCE,!0)},t.setOutgoingMessageSound=function(e){s.default.setUser(a.KEYS.OUTGOING_MESSAGE_SOUND,e)},t.setWebNotificationsBBStatus=function(e){var t;const n=u(),{firstSeenTime:r=null}=n,i=null!==(t=e.firstSeenTime)&&void 0!==t?t:r;s.default.setUser(a.KEYS.WEB_NOTIFICATIONS_BB_STATUS,{isDismissed:e.isDismissed,firstSeenTime:i})};var i=n(29987),o=n(46420),a=n(59356),s=r(n(61112));const l=null;const c={isDismissed:!1,firstSeenTime:null};function u(){const e=s.default.getUser(a.KEYS.WEB_NOTIFICATIONS_BB_STATUS);if(null==e)return c;if("object"!=typeof e||e instanceof Array)return c;return{isDismissed:!0===e.isDismissed,firstSeenTime:"number"==typeof e.firstSeenTime?(0,i.castToUnixTime)(e.firstSeenTime):null}}t.DEFAULT_NOTIFICATION_BB_STATUS=c;const d={isDismissed:!1,firstSeenTime:null,isLongResumeTime:!1};function _(){const e=s.default.getUser(a.KEYS.OFFLINE_NOTIFICATIONS_BB_STATUS);if(null==e||"object"!=typeof e||e instanceof Array)return d;return{isDismissed:!0===e.isDismissed,firstSeenTime:"number"==typeof e.firstSeenTime?(0,i.castToUnixTime)(e.firstSeenTime):null,isLongResumeTime:!0===e.isLongResumeTime}}t.DEFAULT_OFFLINE_NOTIFICATION_BB_STATUS=d},46486:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.NuxPrefsEvent=void 0,t.getNUX=d,t.getNuxMaxViews=E,t.getNuxSyncList=p,t.nuxExistsInNuxSync=f,t.removeAllNuxSync=function(){l.default.set(s.KEYS.NUX_LIST,[])},t.removeNUX=_,t.resetNux=function(e){_(e);const t=p().filter((t=>t!==e));l.default.set(s.KEYS.NUX_LIST,t)},t.setNUX=function(e,t){l.default.setUser(e,t),u.handleNuxChange(e)},t.shouldShowNUX=function(e){const t=(0,a.getNuxSyncKey)(e);if(null!=t&&f(t))return!1;const n=d(e);if(!n)return!0;return n.views<E(e)},t.updateNuxSyncList=function(e){const t=new Set(p());e.forEach((e=>{let{nuxKey:n,acknowledged:r}=e;r?t.add(n):t.delete(n)})),l.default.set(s.KEYS.NUX_LIST,Array.from(t))};var i=n(56660),o=r(n(7880)),a=n(74522),s=n(59356),l=r(n(61112));class c extends o.default{handleNuxChange(e){this.trigger(e)}}const u=new c;function d(e){const t=l.default.getUser(e);if(null==t||"object"!=typeof t)return null;const n=t.views;return"number"==typeof n?{views:n}:null}function _(e){l.default.setUser(e),u.handleNuxChange(e)}function p(){const e=l.default.get(s.KEYS.NUX_LIST);return e instanceof Array?e.filter((e=>"string"==typeof e)):[]}function f(e){return p().includes(e)}function E(e){switch(e){case"desktop_upsell":return Number.POSITIVE_INFINITY;case"chat_assignment":return(0,i.chatAssignmentMaxNuxImpressions)();case"status_quick_replies":return 3;default:return 1}}t.NuxPrefsEvent=u},61112:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(93386)),o=r(n(7287)),a=r(n(27522)),s=n(1363),l=r(n(44848)),c=r(n(20589)),u=n(50456),d=n(59356),_=n(42589);class p extends u.UserPreferencesStoreBase{getMe(){return n(3885).getMaybeMeUser()}getKeys(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.default)(t,t.map((t=>e.getItem(t,n))))}updatePreservedUserKeys(){const e=this.getMe();if(null==e)return;const t=e.toString(),n=super.get(d.KEYS.PRESERVED_USER_KEYS,{storage:l.default}),r=n instanceof Array?n:[],o=_.LS_PRESERVE_USER_KEYS.map((e=>(0,a.default)(this._concatenateKey(t,e))));super.set(d.KEYS.PRESERVED_USER_KEYS,(0,i.default)(r,o),{storage:l.default})}getPSIgnoringCache(e){return super.get(e,{storage:l.default,ignoreCache:!0})}getTS(e){return super.get(e,{storage:c.default})}setTS(e,t){super.set(e,t,{storage:c.default})}setUserSession(e,t){const n=this._getHashedDataWithMeUser(e);null!=n&&super.set(n,(0,s.asSerialisableComposeContentsType)(t),{storage:c.default})}getUserSession(e){const t=this._getHashedDataWithMeUser(e);return null!=t?super.get(t,{storage:c.default}):null}clearUserSessionItem(e){const t=this._getHashedDataWithMeUser(e);null!=t&&c.default.removeItem(t)}getCollection(e){return this.getUser(e)}setCollection(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null==this.getMe()||n||this.setUser(e,t)}getUser(e){const t=this._getHashedDataWithMeUser(e);return null!=t?super.get(t):null}setUser(e,t,n){const r=this._getHashedDataWithMeUser(e);null!=r&&super.set(r,t,n)}_getHashedDataWithMeUser(e){const t=this.getMe();if(!t)return __LOG__(3)`userPrefs: Me has not loaded yet.`,null;return(0,a.default)(this._concatenateKey(t.toString(),e))}_concatenateKey(e,t){return[e,t].join(":")}}var f=new p;t.default=f},57432:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.THIS_TAB=void 0,t.currentTabHasMutex=function(){return(u()||"").includes(c)},t.getMutex=u,t.getNoTakeover=function(){return!!l.default.getTS(s.KEYS.NO_TAKEOVER)},t.localTakeoverSuccess=function(){const e={};e.wa_tab_src=c,(0,i.default)(o.default,"localStorage").setItem(s.KEYS.LOCAL_TAKEOVER_OK,JSON.stringify(e)),(0,i.default)(o.default,"localStorage").removeItem(s.KEYS.LOCAL_TAKEOVER_OK)},t.mutexFilter=function(e){if(e.key!==s.KEYS.WHATSAPP_MUTEX)return!1;if(!(e.newValue||"").includes(c))return!0;return!1},t.parseMutex=function(e){const t=e?JSON.parse(e):"";return t?t.toString().split(/:/).pop():t},t.removeMutex=function(){l.default.set(s.KEYS.WHATSAPP_MUTEX,null,{storage:a.default})},t.setMutex=function(e){const t=e?c+":"+e:e;l.default.set(s.KEYS.WHATSAPP_MUTEX,t,{storage:a.default})},t.setNoTakeover=function(e){l.default.setTS(s.KEYS.NO_TAKEOVER,e)},t.takeoverFilter=function(e){if(e.key!==s.KEYS.LOCAL_TAKEOVER_OK)return!1;if(!(e.newValue||"").includes(c))return!0;return!1};var i=r(n(49619)),o=r(n(51298)),a=r(n(44848)),s=n(59356),l=r(n(61112));const c="x"+Math.round(1e9*Math.random());function u(){return l.default.getPSIgnoringCache(s.KEYS.WHATSAPP_MUTEX)}t.THIS_TAB=c},42589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TS_PRESERVE_KEYS=t.RECENT_STICKER_INITIALIZED_STATUS_TYPE=t.NON_CRITICAL_DATA_SYNC_STATUS_TYPE=t.LS_PRESERVE_USER_KEYS=t.LS_PRESERVE_KEYS=t.HISTORY_SYNC_SINGLE_CHUNK_STATUS_TYPE=void 0;var r=n(59356);const i=n(76672)({RECENT_STICKER_INITIALIZED:"recent_sticker_initialized"});t.NON_CRITICAL_DATA_SYNC_STATUS_TYPE=i;const o=n(76672)({SUCCESS:"success",NEED_REQUEST_BOOTSTRAP:"need_request_bootstrap"});t.RECENT_STICKER_INITIALIZED_STATUS_TYPE=o;const a=n(76672)({STARTED:"started",DOWNLOADED:"downloaded",APPLIED:"applied",FINISHED:"finished"});t.HISTORY_SYNC_SINGLE_CHUNK_STATUS_TYPE=a;const s=[r.KEYS.LANG,r.KEYS.WHATSAPP_MUTEX,r.KEYS.PRESERVED_USER_KEYS,r.KEYS.THEME,r.KEYS.SYSTEM_THEME_MODE,r.KEYS.ELECTRON_DEPRECATION_HAS_CTA_BEEN_CLICKED_BEFORE];t.LS_PRESERVE_KEYS=s;t.TS_PRESERVE_KEYS=[];const l=[r.COLLECTIONS_KEYS.EMOJI_VARIANT_COLLECTION,r.COLLECTIONS_KEYS.RECENT_EMOJI_COLLECTION,r.COLLECTIONS_KEYS.RECENT_REACTIONS_COLLECTION,r.COLLECTIONS_KEYS.CHAT_PREFERENCE_COLLECTION,r.KEYS.GLOBAL_MUTE_NOTIFICATIONS,r.KEYS.GLOBAL_OFFLINE_NOTIFICATIONS_ENABLED,r.KEYS.OUTGOING_MESSAGE_SOUND,r.KEYS.GLOBAL_MUTE_PREVIEWS,r.KEYS.GLOBAL_COLLAPSE_MUTED,r.KEYS.GLOBAL_MUTE_SOUNDS,r.KEYS.AUTO_DOWNLOAD_PHOTOS,r.KEYS.AUTO_DOWNLOAD_VIDEOS,r.KEYS.AUTO_DOWNLOAD_AUDIO,r.KEYS.AUTO_DOWNLOAD_DOCUMENTS,r.KEYS.TOS_3,r.KEYS.POSTCODE_AUTO_OPEN_CHANGE_POSTCODE_COUNT,r.KEYS.POSTCODE_TOOLTIP_VIEW_COUNT,r.KEYS.PERSISTENT_EXPIRING_ID];t.LS_PRESERVE_USER_KEYS=l},96955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"asChatJid",{enumerable:!0,get:function(){return r.asChatJid}}),Object.defineProperty(t,"asMulticastJid",{enumerable:!0,get:function(){return r.asMulticastJid}}),Object.defineProperty(t,"asPhoneChatJid",{enumerable:!0,get:function(){return r.asPhoneChatJid}}),Object.defineProperty(t,"asStatusJid",{enumerable:!0,get:function(){return r.asStatusJid}}),Object.defineProperty(t,"authorAsUserJid",{enumerable:!0,get:function(){return r.authorAsUserJid}}),Object.defineProperty(t,"authorToUserId",{enumerable:!0,get:function(){return r.authorToUserId}}),Object.defineProperty(t,"defaultDeviceJidForUser",{enumerable:!0,get:function(){return r.defaultDeviceJidForUser}}),Object.defineProperty(t,"defaultLidDeviceJidForLidUserJid",{enumerable:!0,get:function(){return r.defaultLidDeviceJidForLidUserJid}}),Object.defineProperty(t,"defaultPhoneDeviceJidForUser",{enumerable:!0,get:function(){return r.defaultPhoneDeviceJidForUser}}),Object.defineProperty(t,"extractDeviceIDParts",{enumerable:!0,get:function(){return r.extractDeviceIDParts}}),Object.defineProperty(t,"extractDeviceId",{enumerable:!0,get:function(){return r.extractDeviceId}}),Object.defineProperty(t,"extractFromJid",{enumerable:!0,get:function(){return r.extractFromJid}}),Object.defineProperty(t,"extractJidFromJidWithType",{enumerable:!0,get:function(){return r.extractJidFromJidWithType}}),Object.defineProperty(t,"extractPhoneUserJid",{enumerable:!0,get:function(){return r.extractPhoneUserJid}}),Object.defineProperty(t,"extractUserId",{enumerable:!0,get:function(){return r.extractUserId}}),Object.defineProperty(t,"extractUserJid",{enumerable:!0,get:function(){return r.extractUserJid}}),Object.defineProperty(t,"fullFormDeviceJidString",{enumerable:!0,get:function(){return r.fullFormDeviceJidString}}),t.getGroupCallDomain=void 0,Object.defineProperty(t,"getGroupDomain",{enumerable:!0,get:function(){return r.getGroupDomain}}),Object.defineProperty(t,"getServerDomain",{enumerable:!0,get:function(){return r.getServerDomain}}),t.getUserDomain=void 0,Object.defineProperty(t,"groupIdFromJid",{enumerable:!0,get:function(){return r.groupIdFromJid}}),Object.defineProperty(t,"interpretAndValidateJid",{enumerable:!0,get:function(){return r.interpretAndValidateJid}}),Object.defineProperty(t,"interpretAsDeviceId",{enumerable:!0,get:function(){return r.interpretAsDeviceId}}),Object.defineProperty(t,"interpretAsGroupJid",{enumerable:!0,get:function(){return r.interpretAsGroupJid}}),Object.defineProperty(t,"interpretAsNumber",{enumerable:!0,get:function(){return r.interpretAsNumber}}),Object.defineProperty(t,"interpretAsPhoneUserJid",{enumerable:!0,get:function(){return r.interpretAsPhoneUserJid}}),Object.defineProperty(t,"interpretAsUserJid",{enumerable:!0,get:function(){return r.interpretAsUserJid}}),Object.defineProperty(t,"isPrimaryDevice",{enumerable:!0,get:function(){return r.isPrimaryDevice}}),Object.defineProperty(t,"maybeSanitizeLogLineText",{enumerable:!0,get:function(){return r.maybeSanitizeLogLineText}}),Object.defineProperty(t,"parseJidParts",{enumerable:!0,get:function(){return r.parseJidParts}}),Object.defineProperty(t,"phoneNumberFromJid",{enumerable:!0,get:function(){return r.phoneNumberFromJid}}),Object.defineProperty(t,"sanitizeJidForLogging",{enumerable:!0,get:function(){return r.sanitizeJidForLogging}}),Object.defineProperty(t,"stripAgentIdFromPhoneDeviceJid",{enumerable:!0,get:function(){return r.stripAgentIdFromPhoneDeviceJid}}),Object.defineProperty(t,"switchOnChatJidType",{enumerable:!0,get:function(){return r.switchOnChatJidType}}),Object.defineProperty(t,"switchOnJidType",{enumerable:!0,get:function(){return r.switchOnJidType}}),Object.defineProperty(t,"switchOnMsgrChatJidType",{enumerable:!0,get:function(){return r.switchOnMsgrChatJidType}}),Object.defineProperty(t,"switchOnMulticastJidType",{enumerable:!0,get:function(){return r.switchOnMulticastJidType}}),Object.defineProperty(t,"switchOnPhoneChatJidType",{enumerable:!0,get:function(){return r.switchOnPhoneChatJidType}}),Object.defineProperty(t,"switchOnPhoneJidType",{enumerable:!0,get:function(){return r.switchOnPhoneJidType}}),Object.defineProperty(t,"toBroadcastJid",{enumerable:!0,get:function(){return r.toBroadcastJid}}),Object.defineProperty(t,"toGroupJid",{enumerable:!0,get:function(){return r.toGroupJid}}),Object.defineProperty(t,"toLidUserJid",{enumerable:!0,get:function(){return r.toLidUserJid}}),Object.defineProperty(t,"toPhoneDeviceJid",{enumerable:!0,get:function(){return r.toPhoneDeviceJid}}),Object.defineProperty(t,"toPhoneUserJid",{enumerable:!0,get:function(){return r.toPhoneUserJid}}),Object.defineProperty(t,"unsafeCoerceToDeviceId",{enumerable:!0,get:function(){return r.unsafeCoerceToDeviceId}}),Object.defineProperty(t,"unsafeCoerceToDeviceJid",{enumerable:!0,get:function(){return r.unsafeCoerceToDeviceJid}}),Object.defineProperty(t,"unsafeCoerceToGroupJid",{enumerable:!0,get:function(){return r.unsafeCoerceToGroupJid}}),Object.defineProperty(t,"unsafeCoerceToUserJid",{enumerable:!0,get:function(){return r.unsafeCoerceToUserJid}}),Object.defineProperty(t,"userIdFromJid",{enumerable:!0,get:function(){return r.userIdFromJid}});var r=n(44037);const i=(0,r.createJidUtils)({platform:"whatsapp"}),o=i.getUserDomain;t.getUserDomain=o;const a=i.getGroupCallDomain;t.getGroupCallDomain=a},77086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoizeWithClear=function(e){let t;return[function(){return t||(t=[e()]),t[0]},function(){t=null}]}},95160:(e,t)=>{"use strict";function n(){return"undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts}Object.defineProperty(t,"__esModule",{value:!0}),t.isServiceWorker=function(){return n()&&"ServiceWorkerGlobalScope"in self},t.isWorker=n},80154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxPerGroup=function(e,t,n){const r=new Map;for(const i of e){const e=n(i),o=r.get(e);(null==o||t(i)>=t(o))&&r.set(e,i)}return Array.from(r.values())}},65417:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.flattenPairList=function(e){return(0,i.default)(e.map((e=>[e[0],e[1]])))},t.unFlattenPairList=function(e){if(e.length%2!=0)throw new RangeError("Flattened pairs come in 2, invalid list size to unflatten!");const t=[];for(let n=0;n<e.length;n++)t.push([e[n],e[++n]]);return t};var i=r(n(85564))},31536:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRODUCT_INQUIRY_TYPE=t.BIZ_SYSTEM_MSG_SUBTYPES_V2_INIT=t.BIZ_SYSTEM_MSG_SUBTYPES_V2=t.BIZ_SYSTEM_MSG_SUBTYPES=void 0;t.BIZ_SYSTEM_MSG_SUBTYPES=["blue_msg_bsp_fb_to_bsp_premise","blue_msg_bsp_fb_to_self_fb","blue_msg_bsp_fb_to_self_premise","blue_msg_bsp_fb_unverified","blue_msg_bsp_fb_unverified_to_bsp_premise_verified","blue_msg_bsp_fb_unverified_to_self_fb_verified","blue_msg_bsp_fb_unverified_to_self_premise_verified","blue_msg_bsp_fb_verified","blue_msg_bsp_fb_verified_to_bsp_premise_unverified","blue_msg_bsp_fb_verified_to_self_fb_unverified","blue_msg_bsp_fb_verified_to_self_premise_unverified","blue_msg_bsp_premise_to_self_premise","blue_msg_bsp_premise_unverified","blue_msg_bsp_premise_unverified_to_self_premise_verified","blue_msg_bsp_premise_verified","blue_msg_bsp_premise_verified_to_self_premise_unverified","blue_msg_consumer_to_bsp_fb_unverified","blue_msg_consumer_to_bsp_premise_unverified","blue_msg_consumer_to_self_fb_unverified","blue_msg_consumer_to_self_premise_unverified","blue_msg_self_fb_to_bsp_premise","blue_msg_self_fb_to_self_premise","blue_msg_self_fb_unverified","blue_msg_self_fb_unverified_to_bsp_premise_verified","blue_msg_self_fb_unverified_to_self_premise_verified","blue_msg_self_fb_verified","blue_msg_self_fb_verified_to_bsp_premise_unverified","blue_msg_self_fb_verified_to_self_premise_unverified","blue_msg_self_premise_to_bsp_premise","blue_msg_self_premise_unverified","blue_msg_self_premise_verified","blue_msg_to_bsp_fb","blue_msg_to_consumer","blue_msg_to_self_fb","blue_msg_unverified_to_bsp_fb_verified","blue_msg_unverified_to_bsp_premise_verified","blue_msg_unverified_to_self_fb_verified","blue_msg_unverified_to_verified","blue_msg_verified_to_bsp_fb_unverified","blue_msg_verified_to_bsp_premise_unverified","blue_msg_verified_to_self_fb_unverified","blue_msg_verified_to_unverified"];const n=["biz_privacy_mode_init_fb","biz_privacy_mode_init_bsp"];t.BIZ_SYSTEM_MSG_SUBTYPES_V2_INIT=n;const r=[...n,"biz_privacy_mode_to_fb","biz_privacy_mode_to_bsp"];t.BIZ_SYSTEM_MSG_SUBTYPES_V2=r;t.PRODUCT_INQUIRY_TYPE="product_inquiry"},57183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCatalogLink=function(e){return`https://wa.me/c/${e}`},t.createProductLink=function(e,t){return`https://wa.me/p/${t}/${e}`}},42742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanComplianceInfoForMissingData=t.isBusinessCompliant=t.getGrievanceOfficerDetailsError=t.getEntityTypeText=t.getCustomerCareDetailsError=t.existsGrievanceOfficerDetailsContact=t.existsFieldIgnoreHardEnforcement=t.existsField=t.existsCustomerCareDetailsContact=void 0;var r=n(56660),i=n(83141),o=n(47344),a=n(48360);t.getEntityTypeText=e=>{const{entityType:t,entityTypeCustom:n,isRegistered:r}=e||{},o={[i.businessTypeOptions.limitedLiabilityPartnership]:a.fbt._("Limited liability partnership",null,{hk:"2dwmwU"}),[i.businessTypeOptions.soleProprietorship]:a.fbt._("Sole proprietorship",null,{hk:"2N7jks"}),[i.businessTypeOptions.partnership]:a.fbt._("Partnership",null,{hk:"ZeckL"}),[i.businessTypeOptions.publicCompany]:a.fbt._("Public Company",null,{hk:"1YuMvC"}),[i.businessTypeOptions.privateCompany]:a.fbt._("Private Company",null,{hk:"WL0uU"}),[i.businessTypeOptions.other]:a.fbt._("Other",null,{hk:"3zua5D"})},s=n||o[t]||"";if(!s)return"";let l="";return[i.businessTypeOptions.partnership,i.businessTypeOptions.other].includes(t)&&(l=null!=r&&r?a.fbt._("Registered Business",null,{hk:"3N1x9I"}):a.fbt._("Not Registered Business",null,{hk:"2zDsuK"})),`${s.toString()}${l?` (${l.toString()})`:""}`};const s=(e,t)=>!(!e&&!t),l=e=>!!(null==e?void 0:e.trim());t.existsFieldIgnoreHardEnforcement=l;const c=(e,t)=>!(0,r.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(t)||l(e);t.existsField=c;const u=(e,t,n,i,o)=>!(0,r.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(t)||n.some((t=>l(t===i?o:null==e?void 0:e[t]))),d=(e,t,n,r)=>u(e,t,["mobileNumber","landlineNumber"],n,r);t.existsCustomerCareDetailsContact=d;const _=(e,t,n,r)=>u(e,t,["mobileNumber","landlineNumber","email"],n,r);t.existsGrievanceOfficerDetailsContact=_;t.isBusinessCompliant=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!(0,r.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(n))return!0;if(!t)return!1;const{entityName:i,entityType:o,entityTypeCustom:a,customerCareDetails:l,grievanceOfficerDetails:u}=t;return[e,i,null==l?void 0:l.email,null==u?void 0:u.name].every((e=>c(e,n)))&&s(o,a)&&d(l,n)&&_(u,n)};t.getCustomerCareDetailsError=(e,t,n,r,i)=>d(e,i,t,n)?r:"";t.getGrievanceOfficerDetailsError=(e,t,n,r,i)=>_(e,i,t,n)?r:"";t.scanComplianceInfoForMissingData=e=>{const t=(null==e?void 0:e.countryCodeOrigin)===String(o.SyntheticCountryCode.NotApplicable),n=!t&&void 0!==(null==e?void 0:e.countryCodeOrigin),r=!t&&void 0!==(null==e?void 0:e.importerName);return{isExempt:t,hasImporterAddress:!t&&void 0!==(null==e?void 0:e.importerAddress)&&[e.importerAddress.street1,e.importerAddress.street2,e.importerAddress.city,e.importerAddress.region,e.importerAddress.postalCode,e.importerAddress.countryCode].some((e=>e)),hasImporterName:r,hasCountryCodeOrigin:n}}},43936:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMPLIANCE_INFO_LENGTH=t.COMPLIANCE_INFO_CODES=void 0;t.COMPLIANCE_INFO_CODES={INDIA:"IN"};t.COMPLIANCE_INFO_LENGTH={ENTITY_NAME:1024,ENTITY_TYPE_CUSTOM:1024,EMAIL:256,GRIEVANCE_OFFICER_NAME:256,LANDLINE_NUMBER:20,MOBILE_NUMBER:20,IMPORTER_NAME:1024,STREET1:1024,STREET2:1024,CITY:1024,REGION:1024,POSTAL_CODE:12}},21282:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){return JSON.parse(e)},t.stringify=function(e){return JSON.stringify(e)},t.stringifyPaymentStatus=function(e){return JSON.stringify(e)}},83727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIE_DOMAIN=void 0;let r=".web.whatsapp.com";n(28123).LOCALHOST_ENV_CONFIG&&(r=".whatsapp.com");const i=r;t.COOKIE_DOMAIN=i},5180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCookie=function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},t.getCookie=function(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));if(t)return t[2];return},t.setCookie=function(e){e.session&&delete e.expirationDate;const t=[];["name","value","domain","path","secure","session","expirationDate"].forEach((n=>{const r=e[n];if(void 0!==r&&"value"!==n)switch(n){case"expirationDate":{const n=new Date(e.expirationDate);t.push(`expires=${n.toUTCString()}`);break}case"secure":t.push("secure");break;case"name":{const n=e.value||"";t.push(`${String(r)}=${n}`);break}default:t.push(`${n}=${String(r)}`)}})),document.cookie=t.join(";")}},20112:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPermutations=t.WOMEN_HOLDING_HANDS=t.WOMAN_AND_MAN_HOLDING_HANDS=t.PEOPLE_HOLDING_HANDS=t.OPEN_BOX_CHAR=t.MEN_HOLDING_HANDS=t.KISS_WOMAN_WOMAN=t.KISS_WOMAN_MAN=t.KISS_PERSON_PERSON=t.KISS_MAN_MAN=t.KISS=t.HANDSHAKE=t.EmojiUtil=t.COUPLE_WITH_HEART_WOMAN_WOMAN=t.COUPLE_WITH_HEART_WOMAN_MAN=t.COUPLE_WITH_HEART_PERSON_PERSON=t.COUPLE_WITH_HEART_MAN_MAN=t.COUPLE_WITH_HEART=void 0,t.isBaseMultiSkinToneEmoji=function(e){return D.has(e)};var i=r(n(88306)),o=r(n(60180)),a=r(n(49619)),s=r(n(25398)),l=r(n(82648)),c=n(43165),u=n(54618),d=n(6900),_=n(67454),p=r(n(41143)),f=r(n(60938));t.OPEN_BOX_CHAR="";const E=["","","","",""],A=new RegExp(E.join("|"),"g"),g="";t.PEOPLE_HOLDING_HANDS=g;const h="";t.WOMEN_HOLDING_HANDS=h;const S="";t.MEN_HOLDING_HANDS=S;const T="";t.WOMAN_AND_MAN_HOLDING_HANDS=T;const m=String.fromCodePoint(128105,8205,10084,65039,8205,128139,8205,128104);t.KISS_WOMAN_MAN=m;const I=String.fromCodePoint(128105,8205,10084,65039,8205,128139,8205,128105);t.KISS_WOMAN_WOMAN=I;const y=String.fromCodePoint(128104,8205,10084,65039,8205,128139,8205,128104);t.KISS_MAN_MAN=y;const C=String.fromCodePoint(129489,8205,10084,65039,8205,128139,8205,129489);t.KISS_PERSON_PERSON=C;const v=String.fromCodePoint(128143);t.KISS=v;const O=String.fromCodePoint(128105,8205,10084,65039,8205,128104);t.COUPLE_WITH_HEART_WOMAN_MAN=O;const P=String.fromCodePoint(128105,8205,10084,65039,8205,128105);t.COUPLE_WITH_HEART_WOMAN_WOMAN=P;const N=String.fromCodePoint(128104,8205,10084,65039,8205,128104);t.COUPLE_WITH_HEART_MAN_MAN=N;const b=String.fromCodePoint(129489,8205,10084,65039,8205,129489);t.COUPLE_WITH_HEART_PERSON_PERSON=b;const M=String.fromCodePoint(128145);t.COUPLE_WITH_HEART=M;const R=String.fromCodePoint(129309);t.HANDSHAKE=R;const D=new Set([g,h,S,T,m,I,y,v,O,P,N,M,R]),L=c.HEART_EMOJIS.map((e=>e)),w=new Set(["","","","","","","","","","","","","","","",""]),B=e=>e.replace(/\uFE0F/g,""),U=(0,i.default)(((e,t)=>function n(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.length===t)return[r];let i=[];for(let t=0;t<e.length;t++){const o=[...r];o.push(e[t]),i=i.concat(n(o))}return i}()),((e,t)=>e.toString()+t));t.getPermutations=U;function G(e){return e.every((t=>t===e[0]))?e[0]:e.join("")}const k=new class{constructor(){var e=this;this.skinToneVariations=E,this.emojiRegex=()=>{const e=this._createEmojiRegexIfNeeded();return e.lastIndex=0,e},this._createEmojiRegexIfNeeded=(0,s.default)((()=>{const e=this._getEmojiRegexSource();return new RegExp("("+e+")","g")})),this.onlyEmojiRegex=()=>{const e=this._createOnlyEmojiRegexIfNeeded();return e.lastIndex=0,e},this._createOnlyEmojiRegexIfNeeded=(0,s.default)((()=>{const e=this._getEmojiRegexSource();return new RegExp("^("+e+")+$","g")})),this.splitEmojis=e=>!1===this.containsOnlyEmoji(e)?null:e.split(this.emojiRegex()).filter(Boolean),this.extractAllEmojis=e=>!1===this.containsEmoji(e)?null:Array.from(e.matchAll(this.emojiRegex())).filter(Boolean).map((e=>e[1])),this.containsEmoji=e=>this.emojiRegex().test(e),this.containsOnlyEmoji=e=>this.onlyEmojiRegex().test(e),this.matchLargeEmojiPattern=e=>{if(null==e)return;if(e.length>50||e.includes(" "))return null;const t=this._getLargeEmojisRegex().exec(e);return t?t.filter(Boolean).slice(1):null},this.normalizeEmojiFromString=e=>this.normalizeEmoji(e),this.normalizeEmoji=e=>{const t=B(e),{unqualifiedToNormalizedEmoji:n}=this._getDerivedMaps();return n.get(t)},this.normalizeAllEmojis=(0,i.default)((e=>e?e.replace(this.emojiRegex(),((e,t)=>{var n;return w.has(t)?"":null!==(n=this.normalizeEmoji(t))&&void 0!==n?n:""})):"")),this.getSkinToneVariant=(e,t)=>{const n=this._getBaseToSkinToneEmojis().get(e);if(null==n)return null;const r=G(t);return n.get(r)},this._getDerivedMaps=(0,s.default)((()=>{const{orderedEmojis:e,legacyToEmoji:t}=this._getConfig(),n=new Map,r=new Map,i=new Map;let o=0;return e.forEach(((e,t)=>{if(""===e||null==e)return;(Array.isArray(e)?e:[e]).forEach((e=>{r.set(e,t);const n=B(e);i.set(n,e)})),n.set(t,o),o++})),(0,f.default)(t).forEach((e=>{let[t,n]=e;r.set(t,n);const o=B(t);i.set(o,t)})),{emojiToGlyphId:r,glyphIdToIndex:n,unqualifiedToNormalizedEmoji:i}})),this._getBaseToSkinToneEmojis=(0,s.default)((()=>{const{emojiToGlyphId:e}=this._getDerivedMaps(),t=new Map;for(const n of e.keys()){let e;const r=n.replace(A,(t=>(null==e&&(e=[]),e.push(t),"")));if(null==e)continue;const i=e;let o;o=""===r?h:""===r?S:""===r?T:r===b?M:r===C?v:r===String.fromCodePoint(129777,8205,129778)?R:r;const a=this.normalizeEmoji(o);if(null==a)continue;let s=t.get(a);null==s&&(s=new Map,s.set("",a),t.set(a,s));const l=G(i);s.set(l,n)}return t})),this._getSkinToneEmojisToBase=(0,s.default)((()=>{const e=new Map;for(const[t,n]of this._getBaseToSkinToneEmojis().entries())for(const r of n.values())e.set(r,t);return e})),this._getEmojiRegexSource=(0,s.default)((()=>{const{emojiToGlyphId:e}=this._getDerivedMaps();return(0,l.default)([...Array.from(e.keys()),...Array.from(w)].filter(Boolean))})),this._createLargeEmojisRegexIfNeeded=(0,s.default)((()=>{const e=this._getEmojiRegexSource();return new RegExp(`^(${e})(${e})?(${e})?$`)})),this.getEmojisInCategory=e=>{var t;return null!==(t=this._getConfig().categorizedEmojis[e])&&void 0!==t?t:[]},this._getEmojiToCategory=(0,s.default)((()=>{const{categorizedEmojis:e}=this._getConfig(),t=new Map;return Object.keys(e).forEach((n=>{const r=c.CATEGORY_ORDERING.indexOf(n);e[n].forEach((e=>{const n=this.normalizeEmoji(e);null!=n&&t.set(n,r)}))})),t})),this.getGlyphId=e=>{const t=this.normalizeEmoji(e);if(null==t)return null;const{emojiToGlyphId:n}=this._getDerivedMaps();return n.get(t)},this.getGlyphPath=(e,t)=>{const n=this.normalizeEmojiFromString(e);if(null==n)return null;const{emojiToGlyphId:r}=this._getDerivedMaps(),i=r.get(n);if(null==i)return null;if((0,_.experimentalEmojiAPIEnabled)())return(0,d.getGlyphExperimentalPath)(n,this._getConfig().emojiType,t);let o;return o=t>40?64:40,(0,u.getGlyphPath)(this._getConfig().emojiType,i,o)},this.getSpritesPath=(e,t,n,r)=>(0,_.experimentalEmojiAPIEnabled)()?(0,d.getEmojiSpritesExperimentalPath)(e,t,n,r):(0,u.getEmojiSpritesPath)(e,t,n,r),this.isGlyphCached=e=>{const t=this._getGlyphIndex(e);return this._getCachedGlyphs().get(t)},this.markGlyphCached=e=>{const t=this._getGlyphIndex(e);this._getCachedGlyphs().set(t)},this._getCachedGlyphs=(0,s.default)((()=>new o.default(this._getGlyphCount()))),this.getCssClasses=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return[`b${e.getBucket(t)}`,"small"===n?"emoji":"emojik",e._getConfig().emojiType===c.EMOJI_TYPE.APPLE?"apple":"wa"].join(" ")},this.getStyle=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";const{xpos:r,ypos:i}=e._getCoordinates(t,n);return{backgroundPosition:`-${r}px -${i}px`}},this.getBucket=e=>{const t=this._getGlyphIndex(e);return`${Math.floor(t/c.BUCKET_SIZE)}`},this.getHeartEmojis=(0,s.default)((()=>L.map(this.normalizeEmoji).filter(Boolean))),this.getAnimatedEmojisToAssetMap=(0,s.default)((()=>{const e=new Map;return Array.from(c.ANIMATED_EMOJIS_STRING_TO_LOTTIE_ASSET_MAP).forEach((t=>{let[n,r]=t;const i=this.normalizeEmoji(n);null!=i&&e.set(i,r)})),e})),this._getLastBucketId=(0,s.default)((()=>{const e=this._getGlyphCount();return e-e%c.BUCKET_SIZE})),this._getLastBucketCols=(0,s.default)((()=>Math.floor(Math.sqrt(this._getGlyphCount()-this._getLastBucketId()))))}configure(e){e!==this._config&&(this._config=e,this.getHeartEmojis.reset(),this._createEmojiRegexIfNeeded.reset(),this._createLargeEmojisRegexIfNeeded.reset(),this._createOnlyEmojiRegexIfNeeded.reset(),this._getEmojiRegexSource.reset(),this._getCachedGlyphs.reset(),this._getSkinToneEmojisToBase.reset(),this._getBaseToSkinToneEmojis.reset(),this._getEmojiToCategory.reset(),this._getLastBucketId.reset(),this._getLastBucketCols.reset(),this._getDerivedMaps.reset(),this.getAnimatedEmojisToAssetMap.reset())}_getConfig(){return(0,p.default)(null!=this._config,"Attempt to use EmojiUtil before it's been configured"),this._config}isEmoji(e){return null!=this.normalizeEmoji(e)}getSkinToneBase(e){var t;const n=this.normalizeEmoji(e);return null==n?null:null!==(t=this._getSkinToneEmojisToBase().get(n))&&void 0!==t?t:null}_getLargeEmojisRegex(){const e=this._createLargeEmojisRegexIfNeeded();return e.lastIndex=0,e}getAssetIdForAnimatedEmoji(e){const t=this.getAnimatedEmojisToAssetMap(),n=this.normalizeEmojiFromString(e);return null!=n?t.get(n):null}_getGlyphCount(){const{glyphIdToIndex:e}=this._getDerivedMaps();return e.size}_getCoordinates(e,t){const n=this._getGlyphIndex(e),r=n%c.BUCKET_SIZE,i=n>=this._getLastBucketId()?this._getLastBucketCols():Math.floor(Math.sqrt(c.BUCKET_SIZE)),o=c.EMOJI_WIDTH[t],a=Math.floor(r/i);return{xpos:Math.floor(r%i)*o,ypos:a*o,width:o}}_getGlyphIndex(e){const{glyphIdToIndex:t}=this._getDerivedMaps();return(0,a.default)(t.get(e),"glyphIdToIndex.get(glyphId)")}getEmojiAggregate(e){const t=this.getNormalizedOrTofu(e),n=this.getSkinToneBase(t);return null!=n?n:B(t)}getNormalizedOrTofu(e){return this.normalizeEmojiFromString(e)?e:""}};t.EmojiUtil=k},43165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VARIATION_CATEGORY=t.ORDERED_CATEGORY_IDS=t.LARGE_EMOJI_SIZE=t.HEART_EMOJIS=t.EMOJI_WIDTH=t.EMOJI_TYPE=t.CATEGORY_ORDERING=t.CATEGORY_MAPPING=t.CATEGORIES=t.BUCKET_SIZE=t.ANIMATED_EMOJIS_STRING_TO_LOTTIE_ASSET_MAP=void 0;t.BUCKET_SIZE=25;t.CATEGORIES={SMILEYS_PEOPLE:"SMILEYS_PEOPLE",ANIMALS_NATURE:"ANIMALS_NATURE",FOOD_DRINK:"FOOD_DRINK",ACTIVITY:"ACTIVITY",TRAVEL_PLACES:"TRAVEL_PLACES",OBJECTS:"OBJECTS",SYMBOLS:"SYMBOLS",FLAGS:"FLAGS"};t.CATEGORY_MAPPING={"Smileys & People":"SMILEYS_PEOPLE","Animals & Nature":"ANIMALS_NATURE","Food & Drink":"FOOD_DRINK",Activity:"ACTIVITY","Travel & Places":"TRAVEL_PLACES",Objects:"OBJECTS",Symbols:"SYMBOLS",Flags:"FLAGS"};const r=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS"];t.ORDERED_CATEGORY_IDS=r;t.EMOJI_TYPE={APPLE:"APPLE",WHATSAPP:"WHATSAPP"};t.EMOJI_WIDTH={small:20,large:32};const i=n(76672).Mirrored(["MEDIUM","LARGE","XLARGE"]);t.LARGE_EMOJI_SIZE=i;const o=n(76672)({PartyEmojiLottieAnimation:"party_emoji_lottie_animation",LolEmojiLottieAnimation:"lol_emoji_lottie_animation",CryEmojiLottieAnimation:"cry_emoji_lottie_animation",SadTearEmojiLottieAnimation:"sad_tear_emoji_lottie_animation",SurprisedEmojiLottieAnimation:"surprised_emoji_lottie_animation",HeartEmojiLottieAnimation:"heart_emoji_lottie_animation",FireEmojiLottieAnimation:"fire_emoji_lottie_animation"}),a=[...r,"VARIATION"];t.CATEGORY_ORDERING=a;const s=a.indexOf("VARIATION");t.VARIATION_CATEGORY=s;const l=["","",String.fromCodePoint(129294),String.fromCodePoint(128150),String.fromCodePoint(128420),String.fromCodePoint(128154),String.fromCodePoint(128156),String.fromCodePoint(128151),String.fromCodePoint(128147),String.fromCodePoint(128153),String.fromCodePoint(129293),String.fromCodePoint(128155),String.fromCodePoint(128149),String.fromCodePoint(129505),String.fromCodePoint(10084,65039,8205,128293),String.fromCodePoint(129653),String.fromCodePoint(129654),String.fromCodePoint(129655)];t.HEART_EMOJIS=l;const c=new Map([[String.fromCodePoint(129395),`${o.PartyEmojiLottieAnimation}`],[String.fromCodePoint(128514),`${o.LolEmojiLottieAnimation}`],[String.fromCodePoint(128293),`${o.FireEmojiLottieAnimation}`],[String.fromCodePoint(128546),`${o.SadTearEmojiLottieAnimation}`],[String.fromCodePoint(128557),`${o.CryEmojiLottieAnimation}`],[String.fromCodePoint(10084),`${o.HeartEmojiLottieAnimation}`],[String.fromCodePoint(128558),`${o.SurprisedEmojiLottieAnimation}`]]);t.ANIMATED_EMOJIS_STRING_TO_LOTTIE_ASSET_MAP=c},50683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={APPLE:["e09777c","3d5eecf","c2422ea","75dd8ea","c8b1d80","3369f30","ff4610d","0680d09","2c9b91e","e70669d","0f72c4c","bee855d","0228c08","b3cd35a","f70d9a4","c81bda5","9419197","2151aaf","4260e58","cd55730","a40907f","c2ceb70","dc8695f","074da43","4902735","f407216","e85fbf1","178fb39","a5fc925","ec8c370","c7f85c5","4bd88cd","2e06b80","9bcea29","5fcdd39","814f73f","536dffa","d8df02d","fee2bc2","68510b6","8fb17b2","ac198a5","156eea4","2a0521b","a313858","7d1b6b0","9e8f53d","01ba388","228b954","1252bc7","512ee55","48f11e6","381e2bb","9e3c100","ec53ce0","64589f1","db3b2e2","ba05959","aa2a01c","7d7b9f8","411ee9f","561b2f0","b8604d6","8e6141a","a2127b0","70d0685","adab1d2","3bca8c6","5d20a72","80f085e","43c3903","b9c7878","d3211fe","e66d2d1","4c4c99f","edafaf6","27354ec","4c41f38","f95e6a8","a465fe0","a60e83c","d320123","40b1635","8ca387b","ac8ac15","0bee0ad","6a078a8","3a872f4","98195aa","080358d","6ec6edb","c2817a5","43c3ac6","11e55ff","4a8fbfe","de1ffde","c87d3ad","3bd85f8","623caa7","17bd437","f5553c8","11fa6b2","71aa591","5451b57","cfe23a5","b3bc542","d574e2c","cd50e8e","ff8882d","ccdcd6d","ad3eda4","f2bc63a","36c1397","ed496b9","ea39a18","28bdd3e","48b9894","526e544","0efc8f8","8c24de4","39c66a9","1fd9cea","6738152","295f7ce","17e6f90","cdbc26e","53b94cf","9eeaac6","dac28f8","b3b58eb","747dab0","f1086cb","2be8bca","5c4942f","f14ae33","9559518","e727a04","4b8bbdf","b61796f","46ecbed","77d852b","bb7fcb2","6ba84ba","5d4177d","516d74d","a37fec1","5114a25"],WHATSAPP:["7740b85","243d7bc","1e4fb7c","1d8ddda","e4b5d3e","2ea9137","39b7951","c3903b9","6a1dac7","916eb04","3eb1eca","9a25e67","f430377","15e4998","6c634cc","cbeed09","832e01c","b30c442","6f03b2c","f97fcda","ff00f03","d44b1b7","19f53fa","9972a8b","042c36a","d773a66","1777e45","dd93771","302e1ad","4bc3176","7eca225","5f6af18","4881318","ae99609","5dc3454","336dafe","b9549e0","761342d","fde4a6a","7dc4e52","0077a8f","400ede7","3f94243","86eaadc","2d1b7e3","0b2442b","6bc6989","a8dfa27","ace4926","a4520ae","71a3097","f65532f","a8c4c7f","e941d1c","ebcb2e4","c6a8fbf","6ef9f0d","5f506d3","23dc255","989d643","c0a6d0f","c6082f3","8f8c9d0","bc3e6e2","55d32c3","d6d2102","4faff64","20b8700","045669b","afc4ed0","42d7571","50a1f66","2b66708","42ec9d5","73226d6","9ec2730","80a3d54","876951c","9604fd5","1e5766f","4ac42d1","0444e22","5b2f075","4367e9e","172e2b5","3b7a48e","0119221","8c8a7c7","4499160","3a1ca0b","dcf803c","aab0d7d","f7f2e29","5237bfc","58b5f5f","9e78621","dd7372b","a9652cd","9b4a54e","1a0c9dc","b70504f","a9cc0bf","fc135d1","11e35a1","eab8378","c06d852","aff6de0","02003f0","5fdd82a","65cf542","671cb13","6d2de2c","fe381e8","134de90","3676388","54ac886","0b3b37b","cd3dc40","e57ec6d","c089344","e81e860","fdc279d","99ea8aa","4c311c1","1cdcc7a","8291738","33e005e","5f2e84d","33b6bf8","82e645e","5910d0c","d371991","768b1ab","80a698a","0b16a0e","8157398","cda8727","c4de026"]}},54618:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getEmojiSpritesPath=function(e,t,n,r){const o=(0,i.default)(s.default[e][t],"emojiSpriteHashes[emojiType][bucketId]");return`${c}/emoji-${t}-${n}_${o}.${r}`},t.getGlyphPath=function(e,t,n){return function(e,t){let n=null;return n=l,`${n}/${a.emojiPrefixHash}_${t.toLowerCase().slice(0,1)}_${e}`}(`${t}-${n}.png`,e)};var i=r(n(49619)),o=n(28123),a=n(66680),s=r(n(50683));const l=`${o.WEB_PUBLIC_PATH}img`,c=`${o.WEB_PUBLIC_PATH}img`},6900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmojiSpritesExperimentalPath=function(e,t,n,r){return a("sprite",e,n,`${t}.${r}`)},t.getGlyphExperimentalPath=function(e,t,n){return function(e,t,n,r){const i=function(e){return Array.from(e).map((e=>e.codePointAt(0).toString(16).padStart(6,"0"))).join("_")}(e);return a("single",n,t,`${i}.${r}`)}(e,n,t,"png")};const n="https://web.whatsapp.com/emoji/v1",r=0,i=0,o=0;function a(e,t,a,s){return[n,r,i,o,e,t.toLowerCase().slice(0,1),a,s].join("/")}},66680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emojiPrefixHash=void 0;t.emojiPrefixHash="c5a15be93e425dcb8a26b06645ad4574"},91563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebdDrop=t.UnexpectedJoinSubgroupResponse=t.UnexpectedJoinGroupViaInviteResponse=t.ServerStatusCodeError=t.Server5xxDrop=t.LogoutDrop=t.EphemeralDrop=t.E507=t.E499=t.E451=t.E404=t.E401=t.ConventionViolationDrop=t.CatalogEditServerError=t.BrowserReplacedDrop=void 0,t.attachErrorLogger=function(e,t){return e.catch((e=>{throw __LOG__(4,!0,new Error,!0)`${t}, error`,SEND_LOGS(t),e}))};var r=n(66911);class i extends((0,r.customError)("ServerStatusCodeError")){constructor(e,t){super(t),this.status=e,this.statusCode=e}}t.ServerStatusCodeError=i;class o extends((0,r.customError)("ServerStatusCodeError")){constructor(e,t,n){super(n),this.errors=t,this.status=e,this.statusCode=e}}t.CatalogEditServerError=o;class a extends((0,r.customError)("E451",!0,i)){constructor(){super(451,"commerce features disabled")}}t.E451=a;class s extends((0,r.customError)("E401",!0,i)){constructor(e){super(401,e)}}t.E401=s;class l extends((0,r.customError)("E404",!0,i)){constructor(e){super(404,e)}}t.E404=l;class c extends((0,r.customError)("E499",!0,i)){constructor(e){super(499,e)}}t.E499=c;class u extends((0,r.customError)("E507",!0,i)){constructor(e,t){super(507,e),this.backoff=Number.isNaN(t)?null:t}}t.E507=u;class d extends((0,r.customError)("WebdDrop")){}t.WebdDrop=d;class _ extends((0,r.customError)("BrowserReplacedDrop",!0,d)){}t.BrowserReplacedDrop=_;class p extends((0,r.customError)("ConventionViolationDrop",!0,d)){}t.ConventionViolationDrop=p;class f extends((0,r.customError)("Server5xxDrop",!0,d)){}t.Server5xxDrop=f;class E extends((0,r.customError)("LogoutDrop",!0,d)){}t.LogoutDrop=E;class A extends((0,r.customError)("EphemeralDrop",!0,d)){}t.EphemeralDrop=A;class g extends((0,r.customError)("UnexpectedJoinGroupViaInviteResponse")){constructor(e,t,n){super(n),this.gid=e,this.membershipApprovalMode=t}}t.UnexpectedJoinGroupViaInviteResponse=g;class h extends((0,r.customError)("UnexpectedJoinSubgroupResponse")){constructor(e,t){super(t),this.membershipApprovalMode=e}}t.UnexpectedJoinSubgroupResponse=h},58230:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t]=e.source.errors||[];switch(null==t?void 0:t.code){case 2498052:case 2498049:case 2498050:case 2498051:case 2498053:case 2498056:throw new i.ServerStatusCodeError(400,e.message);case 2498048:throw new i.E451;case 2498054:throw new i.ServerStatusCodeError(421)}};var i=n(91563);r(n(64239))},91329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateImmediately=t.Unmount=t.UnableToPlayVideoError=t.UnableToGetContentLengthError=t.TranscodeBlobTooLargeError=t.SourceUnavailableError=t.SocketNotOpen=t.SocketError=t.SocketClosed=t.ServerStatusError=t.OverconstrainedError=t.Offline=t.NotSupportedError=t.NotFoundError=t.NotAllowedError=t.ModelError=t.ModelCreateError=t.MediaUnsupportedError=t.MediaNeedsReupload=t.MediaMissing=t.MediaLoadError=t.MediaHashMismatch=t.MediaFileFailedLoad=t.MediaFileError=t.MediaFileEmpty=t.MediaEncryptionError=t.MediaDragDropError=t.MediaDecryptionError=t.InvalidServerResponseError=t.InvalidMediaFileType=t.InvalidImageFileType=t.ImageError=t.GetUserMediaError=t.GetUserMedia=t.GaveUpRetry=t.FileNotReadableError=t.EncodeWebpError=t.DecodeWebpResultsError=t.DbOnLogoutAbort=t.DbMsgEncKeyNotLoaded=t.DbEncKeyNotLoaded=t.DBInvalidFtsHMACKey=t.ConstraintNotSatisfiedError=t.CatalogImageDownloadError=t.CapabilityUnknown=t.CapabilityInvalid=t.CapabilityError=t.CanNotSendUnencrypted=t.BlockedByProxy=t.BingServerError=t.ActiveChatChanged=t.ActionError=void 0;var r=n(66911);class i extends((0,r.customError)("Offline")){}t.Offline=i;class o extends((0,r.customError)("GaveUpRetry")){}t.GaveUpRetry=o;class a extends((0,r.customError)("CatalogImageDownloadError")){}t.CatalogImageDownloadError=a;class s extends((0,r.customError)("MediaFileError")){}t.MediaFileError=s;class l extends((0,r.customError)("InvalidImageFileType",!0,s)){}t.InvalidImageFileType=l;class c extends((0,r.customError)("InvalidMediaFileType",!0,s)){}t.InvalidMediaFileType=c;class u extends((0,r.customError)("MediaEncryptionError",!0,s)){}t.MediaEncryptionError=u;class d extends((0,r.customError)("MediaDecryptionError",!0,s)){}t.MediaDecryptionError=d;class _ extends((0,r.customError)("MediaDecryptionError",!0,s)){}t.MediaHashMismatch=_;class p extends((0,r.customError)("MediaFileFailedLoad",!0,s)){}t.MediaFileFailedLoad=p;class f extends((0,r.customError)("MediaFileEmpty",!0,s)){}function E(e){try{return JSON.stringify(e)}catch(t){return e.toString()}}t.MediaFileEmpty=f;class A extends((0,r.customError)("SocketError")){constructor(e){super("string"==typeof e?e:E(e)),this.event=e}}t.SocketError=A;class g extends((0,r.customError)("SocketClosed")){constructor(e){super("string"==typeof e?e:E(e)),this.event=e}}t.SocketClosed=g;class h extends((0,r.customError)("SocketNotOpen")){constructor(e){super(`socket not open, is ${e}`)}}t.SocketNotOpen=h;class S extends((0,r.customError)("BlockedByProxy")){}t.BlockedByProxy=S;class T extends((0,r.customError)("ImageError")){constructor(e,t){super("Image failed to load."),this.src=e,this.status=t,this.target={src:e,status:t}}}t.ImageError=T;class m extends((0,r.customError)("DecodeWebpResultsError")){constructor(e,t){super(e),this.event=t}}t.DecodeWebpResultsError=m;class I extends((0,r.customError)("DecodeWebpError")){constructor(e,t){super(e),this.event=t}}t.EncodeWebpError=I;class y extends((0,r.customError)("ServerStatusError")){constructor(e,t,n){super(`${e||"Server replied with a failed status code"}: ${n}`),this.url=t,this.status=n}}t.ServerStatusError=y;class C extends((0,r.customError)("InvalidServerResponseError")){constructor(e,t,n){let r=`Invalid response for ${e}, with status ${t}`;n&&(r=`${r}: ${n}`),super(r)}}t.InvalidServerResponseError=C;class v extends((0,r.customError)("BingServerError",!0,y)){constructor(e,t,n){super(`Error ${t} for ${e}: ${JSON.stringify(n)}`,e,t)}}t.BingServerError=v;class O extends((0,r.customError)("MediaNeedsReupload")){}t.MediaNeedsReupload=O;class P extends((0,r.customError)("MediaMissing")){}t.MediaMissing=P,P.message="Media is no longer available on your phone";class N extends((0,r.customError)("FileNotReadableError",!0,Error)){}t.FileNotReadableError=N;class b extends((0,r.customError)("MediaLoadError")){constructor(e){super(e),this.src=e}}t.MediaLoadError=b;class M extends((0,r.customError)("TranscodeBlobTooLargeError")){constructor(){super("Transcode blob too large")}}t.TranscodeBlobTooLargeError=M;class R extends((0,r.customError)("UnableToPlayVideoError")){constructor(e){super(`Unable to play video. Reason: ${String(e)}`)}}t.UnableToPlayVideoError=R;class D extends((0,r.customError)("MediaDragDropError",!0,b)){}t.MediaDragDropError=D;class L extends((0,r.customError)("MediaUnsupportedError")){}t.MediaUnsupportedError=L,L.message="Media format is unsupported";class w extends((0,r.customError)("ModelError")){}t.ModelError=w;class B extends((0,r.customError)("ModelCreateError")){constructor(e,t){super(e),this.model=t}}t.ModelCreateError=B;class U extends((0,r.customError)("DbEncKeyNotLoadedError")){constructor(e){super(`MasterDatabaseEncryptionKey.${e} was accessed before init`)}}t.DbEncKeyNotLoaded=U;class G extends((0,r.customError)("DbMsgEncKeyNotLoadedError")){constructor(e){super(`MasterDatabaseMessageEncryptionKey.${e} was accessed before init`)}}t.DbMsgEncKeyNotLoaded=G;class k extends((0,r.customError)("DbOnLogoutAbortError")){}t.DbOnLogoutAbort=k,k.message="DB operation was dropped due to logout activity";class Y extends((0,r.customError)("DBExpiredFtsHMACKey")){}t.DBInvalidFtsHMACKey=Y,Y.message="MasterDatabaseEncryptionKey.fts_hmac_keys is in an invalid state";class F extends((0,r.customError)("UpdateImmediately")){}t.UpdateImmediately=F;class K extends((0,r.customError)("CapabilityError")){}t.CapabilityError=K;class x extends((0,r.customError)("CapabilityInvalid",!0,K)){}t.CapabilityInvalid=x;class H extends((0,r.customError)("CapabilityUnknown",!0,K)){}t.CapabilityUnknown=H;class j extends((0,r.customError)("CanNotSendUnencrypted")){}t.CanNotSendUnencrypted=j;class V extends((0,r.customError)("ActionError")){}t.ActionError=V,V.message="Could not perform action.";class W extends((0,r.customError)("Unmount")){}t.Unmount=W;class Q extends((0,r.customError)("ActiveChatChanged")){}t.ActiveChatChanged=Q;class $ extends((0,r.customError)("GetUserMediaError")){}t.GetUserMediaError=$;class z extends((0,r.customError)("NotSupportedError",!0,$)){}t.NotSupportedError=z,z.message="The operation is not supported.";class J extends((0,r.customError)("NotAllowedError",!0,$)){}t.NotAllowedError=J,J.message="The user did not grant permission for the operation";class q extends((0,r.customError)("ConstraintNotSatisfiedError",!0,$)){}t.ConstraintNotSatisfiedError=q,q.message="One of the mandatory Constraints could not be satisfied.";class X extends((0,r.customError)("OverconstrainedError",!0,$)){}t.OverconstrainedError=X,X.message="Due to changes in the environment, one or more mandatory constraints can no longer be satisfied.";class Z extends((0,r.customError)("NotFoundError",!0,$)){}t.NotFoundError=Z,Z.message="The object can not be found here.";class ee extends((0,r.customError)("SourceUnavailableError",!0,$)){}t.SourceUnavailableError=ee,ee.message="The source of the MediaStream could not be accessed due to a hardware error (e.g. lock from another process).";class te extends((0,r.customError)("UnableToGetContentLengthError")){}t.UnableToGetContentLengthError=te,te.message="Failed to get media contentLength from mms";const ne={GetUserMediaError:$,NotSupportedError:z,NotAllowedError:J,ConstraintNotSatisfiedError:q,OverconstrainedError:X,NotFoundError:Z,SourceUnavailableError:ee};t.GetUserMedia=ne},22748:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeError=s,t.normalizeStack=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{name:n,message:r,stack:i}=s(e),a=i.indexOf("\n"),l=i.slice(0,a),c=l.match(new RegExp(`(${(0,o.default)(n)}|Error)(:|$)`));if(null!=c){if(!t)return i;const e=c.index+c[0].length,n=null==r?-1:i.indexOf(r,e),o=null==r||-1===n?-1:n+r.length,s=Math.max(0,a,e,o);return i.slice(s).replace(/^\n+/,"")}if(t)return i;const u=""===i?"":`\n${i}`;return r?`${n}: ${r}${u}`:`${n}${u}`};var i=r(n(81109)),o=r(n(3522)),a=r(n(8450));function s(e){const t="object"==typeof e&&"string"==typeof(null==e?void 0:e.name)?e.name:`Thrown${(0,a.default)(typeof e)}Error`;let n,r;if(n=null!=e&&"string"==typeof e.message?e.message:void 0===e?"":String(e),null!=e&&"string"==typeof e.stack)r=e.stack;else{const e=new Error;e.name=t,e.message=n,r="string"==typeof e.stack?e.stack:""}const o="object"==typeof e?(0,i.default)({},e):null;return(0,i.default)((0,i.default)({},o),{},{name:t,message:n,stack:r})}},7880:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(73955)),o=r(n(41609)),a=r(n(51463)),s=r(n(89482));const l=/\s+/;t.default=class{on(e,t,n){if(!t)return this;if("function"!=typeof t)throw(0,s.default)("Callback parameter passed is not a function");return this._multiEvent(this.on,...arguments)||this._getOrCreateEvents(e).push({callback:t,context:n,ctx:n||this}),this}once(e,t,n){if(!t)return this;if(this._multiEvent(this.once,...arguments))return this;const r=this,i=(0,a.default)((function(){r.off(e,i),t.apply(this,arguments)}));return i._callback=t,this.on(e,i,n)}off(e,t,n){const r=this._events;if(!r)return this;if(this._multiEvent(this.off,...arguments))return this;if(!e&&!t&&!n)return this._events=void 0,this;const i=e?[e]:Object.keys(r);for(let e=0;e<i.length;e++){const o=i[e],a=r[o];if(a){if(r[o]=[],t||n)for(let e=0;e<a.length;e++){const i=a[e];(t&&t!==i.callback&&t!==i.callback._callback||n&&i.context!==n)&&r[o].push(i)}r[o].length||delete r[o]}}return this}trigger(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!this._events)return this;if(this._multiEvent(this.trigger,...arguments))return this;const i=this._getEvents(e),o=this._getEvents("all");return i&&this._triggerEvents(i,n),o&&this._triggerEvents(o,arguments),this}stopListening(e,t,n){const r=this._listeningTo;if(!r)return this;const i=null==e?void 0:e._listenId,a=i?{[i]:e}:r;for(const e in a){const i=a[e];i.off(t,n,this),(!t&&!n||(0,o.default)(i._events))&&delete r[e]}return(0,o.default)(this._listeningTo)&&delete this._listeningTo,this}listenTo(e,t,n){return n?(this._addListeningTo(e),e.on(t,n,this),this):this}listenToOnce(e,t,n){return this._addListeningTo(e),e.once(t,n,this),this}listenToAndRun(e,t,n){return this.listenTo.apply(this,arguments),n.apply(this),this}isListening(e){const t=this._events;return!!t&&("string"==typeof e?!!t[e]:(0,o.default)(t))}_addListeningTo(e){(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=(0,i.default)("l"))]=e}_getOrCreateEvents(e){const t=this._events||(this._events={});return t[e]||(t[e]=[])}_getEvents(e){if(!e)return;const t=this._events;return t?t[e]:void 0}_multiEvent(e,t){if(l.test(t)){const o=t.split(l);for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(let t=0;t<o.length;t++)e.call(this,o[t],...r);return!0}return!1}_triggerEvents(e,t){let n,r=-1;const i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}}bind(){return this.on(...arguments)}unbind(){return this.off(...arguments)}removeListener(){return this.off(...arguments)}removeAllListeners(){return this.off()}emit(){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return this.trigger(arguments)}}},15640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0,i=arguments.length>3?arguments[3]:void 0;if(null==i?void 0:i.aborted)return Promise.reject(new r.AbortError);return new Promise((function(o,a){const s=function(){var e;n.apply(this,arguments)&&(null===(e=c)||void 0===e||e(),o(arguments))},l=()=>{var e;null===(e=c)||void 0===e||e(),a(new r.AbortError)};let c=()=>{e.off(t,s),null==i||i.removeEventListener("abort",l),c=null};null==i||i.addEventListener("abort",l),e.on(t,s)}))};var r=n(2560)},71830:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(i.Cmd.isMainLoaded)return Promise.resolve();return(0,o.default)(i.Cmd,"main_loaded")};var i=n(46316),o=r(n(15640))},74700:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(i.Cmd.isOfflineDeliveryEnd)return Promise.resolve();return a};var i=n(46316),o=r(n(15640));let a=(0,o.default)(i.Cmd,"offline_delivery_end");i.Cmd.on("offline_delivery_start",(()=>{a=(0,o.default)(i.Cmd,"offline_delivery_end")}))},43926:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o};var i=n(46316);const o=(0,r(n(15640)).default)(i.Cmd,"offline_process_ready")},49499:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(77689),o=r(n(7880)),a=n(16342),s=r(n(93948)),l=r(n(19194)),c=n(88745);const u="Modernizr"in window,d=(0,a.getModernizr)();class _ extends o.default{constructor(){super(),this.supported=u?d.serviceworker:"serviceWorker"in navigator,this._checkAlive=()=>{var e;const t=null===(e=navigator.serviceWorker)||void 0===e?void 0:e.controller;return Boolean(t)},this._checkStreamingSupport=()=>{var e;if(!this.supported||!this.alive||c.UA.isSafari)return void(this._streamingSupported=!1);if(this._streamingSupportedPromise)return this._streamingSupported;const t=null===(e=navigator.serviceWorker)||void 0===e?void 0:e.controller;t&&(this._streamingSupportedPromise=(0,i.promiseTimeout)(s.default.request(t,l.default.STREAMING_SUPPORTED),100).catch((()=>!1)).then((e=>(delete this._streamingSupportedPromise,this.streamingSupported=e,e))))},this._setSupported=e=>{this.supported=e},u&&d.on("serviceworker",this._setSupported);const e=this;Object.defineProperty(this,"streamingSupported",{get:()=>(e._checkStreamingSupport(),e._streamingSupported),set(t){t!==e._streamingSupported&&e.trigger("change:streamingSupported",t),e._streamingSupported=t}}),Object.defineProperty(this,"alive",{get:()=>e._checkAlive()})}}var p=new _;t.default=p},16342:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModernizr=function(){return self.Modernizr}},88745:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.UA=t.OS_TYPE=t.BROWSER_TYPE=void 0,t.gteVersion=a,t.parseUA=l;var i=r(n(42238));t.BROWSER_TYPE={CHROME:"chrome",CHROMIUM:"chromium",FIREFOX:"firefox",SAFARI:"safari",IE:"ie",OPERA:"opera",EDGE:"edge"};function o(e,t){let n,r;const i=/(\.0)+[^\.]*$/,o=(e+"").replace(i,"").split("."),a=(t+"").replace(i,"").split("."),s=Math.min(o.length,a.length);for(n=0;n<s;n++)if(r=parseInt(o[n],10)-parseInt(a[n],10),0!==r)return r;return o.length-a.length}function a(e,t){return o(e,t)>=0}function s(e,t){return o(e,t)<0}function l(e){const t=new i.default;t.setUA(e||"");const n=(t.getBrowser().name||"").toUpperCase(),r=t.getBrowser().version||"0.0.0",o=(t.getEngine().name||"").toUpperCase(),l=(t.getOS().name||"").toUpperCase(),c=t.getOS().version||"0.0.0",u="SAFARI"===n,d="CHROME"===n,_="GECKO"===o,p="BLINK"===o,f=!d&&!u&&`${n}`.includes("OCULUS");let E=!1;switch(l){case"MAC OS":d?E=a(c,"10.10")&&a(r,"41.0.0"):a(c,"10.7")&&(E=!0);break;case"WINDOWS":a(c,"8.1")&&(_||d&&a(r,"41.0.0"))&&(E=!0)}const A=u||d&&s(r,"76");return{isWebkit:!o||"WEBKIT"===o,isGecko:_,isTrident:"TRIDENT"===o||"EDGEHTML"===o,isSafari:u,isElectron:false,isBlink:p,isBuggyVideoLoad:d&&a(r,"76")||p&&!d,hasEmoji:E,troublesWithLotsOfVideos:d,supportsEmojiEllipsification:!A,isBrokenGetUserMedia:d&&s(r,"50"),isLocalStorageBroken:u&&a(r,"14.1")&&s(r,"14.1.2"),os:l.toLowerCase(),osVersion:c,browser:n.toLowerCase(),browserVersion:r,parser:t,isChrome:d,isOculusBroswer:f}}t.OS_TYPE={WINDOWS:"windows",MAC:"mac os",CHROMEOS:"chromium os"};const c=l("undefined"!=typeof self?self.navigator.userAgent:null);t.UA=c},36236:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.JS_HALT_EVENT=t.CLOCK_CHANGE_BACKWARDS_EVENT=t.BaseJsHaltDetector=void 0;var i=r(n(7880));const o="js_halt";t.JS_HALT_EVENT=o;const a="clock_change_backwards";t.CLOCK_CHANGE_BACKWARDS_EVENT=a;class s extends i.default{constructor(e,t){super(),this._interval=e,this._threshold=t}startDetection(){if(this._intervalId)return;let e=Date.now();this._intervalId=self.setInterval((()=>{const t=Date.now(),n=t-e-this._interval;n>this._threshold?this.trigger(o,n):n<-this._threshold&&this.trigger(a,n),e=t}),this._interval),__LOG__(2)`JsHaltDetector:detection started`}stopDetection(){this._intervalId&&(self.clearInterval(this._intervalId),this._intervalId=null,__LOG__(2)`JsHaltDetector:detection stopped`)}restartDetection(){this.stopDetection(),this.startDetection(),__LOG__(2)`JsHaltDetector:detection restarted`}}t.BaseJsHaltDetector=s},33442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsHaltDetector=t.DEFAULT_THRESHOLD=t.DEFAULT_INTERVAL=void 0;var r=n(36236);t.DEFAULT_THRESHOLD=3e3;t.DEFAULT_INTERVAL=1e4;const i=new r.BaseJsHaltDetector(1e4,3e3);t.jsHaltDetector=i,i.startDetection()},3450:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.USER_REPORT=t.SERVER_REQUESTED=t.MANUAL_UPLOAD=t.LogType=void 0,t.registerCrashlogUploadInformationalLoggingFunction=function(e){I=e},t.registerCrashlogUploadIsUserInExternalBetaFunction=function(e){y=e},t.sendLogs=function(){return F.apply(this,arguments)},t.upload=L;var i=r(n(48926)),o=r(n(23493)),a=r(n(45647)),s=n(28123),l=n(61629),c=n(26254),u=n(44346),d=r(n(40733)),_=n(35255),p=n(93724),f=n(74843),E=n(67553),A=n(95160),g=r(n(32890)),h=n(3885),S=n(8414),T=r(n(89482));const m=e=>new Promise((t=>self.setTimeout(t,e)));let I,y;const C=n(76672)({CRASHLOG:"crashlog",SUPPORT:"support"});t.LogType=C;const v="server-requested";t.SERVER_REQUESTED=v;t.MANUAL_UPLOAD="manual-upload";t.USER_REPORT="user-report";const O={electron_native:S.PS_CRASH_TYPE.NATIVE_CRASH,uncaught_error:S.PS_CRASH_TYPE.UNHANDLED_EXCEPTION,unhandled_promise:S.PS_CRASH_TYPE.UNHANDLED_EXCEPTION,sad:S.PS_CRASH_TYPE.CRITICAL_EVENT,logout:S.PS_CRASH_TYPE.APP_CRASH},P=n(76672)({ONLY_EXCEPTION:"only_exception"}),N={shouldHitCheckEndpoint:()=>!1,expectedCodes:[],appendToFormDataForCheck:()=>{},appendToFormDataForUpload:()=>{},shouldUseLightWeightLogs:()=>!1},b={shouldHitCheckEndpoint:()=>!0,expectedCodes:[200,403],appendToFormDataForCheck:(e,t)=>{e.append("reason",t)},appendToFormDataForUpload:()=>{},shouldUseLightWeightLogs:()=>!1},M={shouldHitCheckEndpoint:()=>!0,expectedCodes:[200,403],appendToFormDataForCheck:(e,t)=>{e.append("support_exception_only_upload","true"),e.append("reason",t)},appendToFormDataForUpload:(e,t)=>{t&&t.upload===P.ONLY_EXCEPTION&&e.append("exception_only_upload","true")},shouldUseLightWeightLogs:e=>!!e&&e.upload===P.ONLY_EXCEPTION};function R(e,t,n){return n?N:t?M:b}const D=(0,o.default)(B,72e5,{trailing:!1});function L(){return w.apply(this,arguments)}function w(){return(w=(0,i.default)((function*(e){var t,n;let{reason:r="reason-unspecified",immediate:i=!1,logType:o=C.CRASHLOG,isHighPri:l=!1,nativeCrash:d,voipLog:_,hasTaggedMessage:p=!1,ticketId:g,clientSamplingRate:h=1,tags:S=[]}=e;if(a.default.isLogoutInProgress)return Promise.resolve();let T=d?S.concat("electron_native"):S;y&&(yield y())&&(T=T.concat("web-joined-beta")),(0,A.isWorker)()&&(T=T.concat("service-worker")),h>0&&h<1&&(T=T.concat(["sampled",h.toString()]));try{const e=new u.CrashLogWamEvent;e.crashReason=r;const t=T.find((e=>O[e]));null!=t&&(e.crashType=O[t]),T.length&&(e.crashContext=T.join(",")),e.commitAndWaitForFlush().catch((e=>{__LOG__(2)`wa:uploadLogs error during wam commit: ${e}`}))}catch(e){__LOG__(2)`wa:uploadLogs error logging wam event: ${e}`}if((0,E.isWaitingForUpload)())return Promise.resolve();(0,E.setWaitingForUpload)(!0);const m=I?I():{platform:void 0,ref:void 0};if(__LOG__(2)`==================================================`,__LOG__(2)`wa:uploadLogs ref: ${null!==(t=m.ref)&&void 0!==t?t:"no conn"}`,__LOG__(2)`wa:uploadLogs hash: ${s.HASH_PLACEHOLDER}`,__LOG__(2)`wa:uploadLogs version: ${s.VERSION_BASE}`,__LOG__(2)`wa:uploadLogs userAgent: ${navigator.userAgent}`,__LOG__(2)`wa:uploadLogs platform: ${null!==(n=m.platform)&&void 0!==n?n:"no platform"}`,__LOG__(2)`wa:uploadLogs webPlatform: ${s.FLB_PLATFORM||"web"}`,__LOG__(2)`wa:uploadLogs appId: ${s.FB_APP_ID}`,__LOG__(2)`wa:uploadLogs url: ${location.href}`,__LOG__(2)`wa:uploadLogs distribution: ${(0,c.getDistribution)()}`,__LOG__(2)`wa:uploadLogs buildId: ${s.BUILD_ID||"0"}`,p&&__LOG__(2)`wa:uploadLogs hasTaggedMessage`,__LOG__(2)`reason for logs: ${r}`,__LOG__(2)`${f.END_OF_UPLOAD}`,(0,E.passesSampling)(h)){let e=B;l||(e=D);const t=R(0,p,r===v);try{const n=yield e({isHighPri:l,immediate:i,logType:o,nativeCrash:d,voipLog:_,ticketId:g,getFullLogs:r===v,uploadStrategy:t,tags:T,reason:r});return(0,E.setWaitingForUpload)(!1),n}catch(e){(0,E.setWaitingForUpload)(!1),__LOG__(2)`wa:uploadLogs error uploading: ${e}`}}else(0,E.setWaitingForUpload)(!1),__LOG__(2)`Crashlog:upload client sampling check w/rate: ${h} prevented upload`}))).apply(this,arguments)}function B(){return U.apply(this,arguments)}function U(){return(U=(0,i.default)((function*(e){let t,{isHighPri:n=!1,immediate:r,logType:i,nativeCrash:o,voipLog:a,ticketId:s,getFullLogs:c=!1,uploadStrategy:u,tags:d=[],reason:_="reason-unspecified"}=e;if(yield m(r?0:1e3),u.shouldHitCheckEndpoint()){const e=G({isHighPri:n});if(u.appendToFormDataForCheck(e,_),t=yield self.fetch(k(i),{method:"POST",body:e}),!u.expectedCodes.includes(t.status))return void __LOG__(2)`Crashlog:doUpload code of ${t.status} from ${l.CLB_CHECK_URL} was unexpected, expected values are: ${u.expectedCodes.toString()}`;if(403===t.status)return void __LOG__(2)`Crashlog:doUpload aborting crashlog upload due to 403 check response`}else __LOG__(2)`Crashlog:doUpload skipping sampling check`;let f=null;if(t)try{var E,A;if(f=JSON.parse(yield t.text()),null!=(null===(E=f)||void 0===E||null===(A=E.config)||void 0===A?void 0:A.sampling)&&(0===f.config.sampling||Math.random()*f.config.sampling>1))return void __LOG__(2)`Crashlog:doUpload server configured sampling check w/rate: ${f.config.sampling} prevented upload`}catch(e){__LOG__(2)`Crashlog:failed to parse response from upload check ${String(e)}, will perform default upload`}const g=G({isHighPri:n});u.appendToFormDataForUpload(g,f);const h=(yield p.Logger.getLogs(c,u.shouldUseLightWeightLogs(f))).join("\n"),S=new Blob([h],{type:"text/plain"});g.append("file",S,"logs.txt"),d.length&&g.append("tags",d.join(",")),s&&g.append("ticket_id",s),o&&(g.append("attachment",new Blob([o.contents],{type:"application/octet-stream"}),o.filename),g.set("agent",o.agent),a&&g.append("voip_log",new Blob([a.contents],{type:"text/plain"}),a.filename));const I=Y(i),y=yield self.fetch(I,{method:"POST",body:g});if(200!==y.status)throw(0,T.default)(`Status code of ${y.status} from ${I} was unexpected, expected 200`);return y.headers.get("X-Uploaded-File-Id")}))).apply(this,arguments)}function G(e){let{isHighPri:t}=e;const r=new FormData;t&&r.append("forced","true");const i=(0,A.isWorker)()&&!(0,_.areGlobalsReady)()?void 0:(0,h.getMe)();i&&r.append("from_jid",i.toString());const o=(0,d.default)(n(85003)).info(),a=(0,c.getLogUserAgent)({device:o.os,browser:o.ua,appVersion:s.VERSION_BASE});return r.append("agent",a),r.append("app_id",s.FB_APP_ID),r.append("build_id",s.BUILD_ID),r}function k(e){return g.default.build(l.CLB_CHECK_URL,{type:String(e),access_token:l.CLB_TOKEN})}function Y(e){return g.default.build(l.CLB_URL,{type:String(e),access_token:l.CLB_TOKEN})}function F(){return(F=(0,i.default)((function*(e,t){if(!p.Logger.isTakeOver)try{for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];yield L({reason:e,hasTaggedMessage:!0,clientSamplingRate:null!=t?t:1,tags:r})}catch(e){__LOG__(4,void 0,new Error)`Crash log sendLogs failed, ${e}`}}))).apply(this,arguments)}},41054:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:String,o=(0,i.default)(e,t.map(r)).join("");const a=n?4e3:Number.POSITIVE_INFINITY;o.length>a&&(o=o.slice(0,a).replace(/\s+$/," [truncated]"));return o};var i=r(n(77791))},93724:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.log=t.LoggerImpl=t.Logger=t.LOG_CAPACITY_IN_DATABASE=void 0;var i=r(n(48926)),o=n(17075),a=r(n(36432)),s=n(78494),l=r(n(40733)),c=r(n(41054)),u=n(74843),d=n(67553),_=n(22748),p=r(n(89482)),f=r(n(30381));(0,o.initTagsLogger)();t.LOG_CAPACITY_IN_DATABASE=5e3;const E="LTSXOo+_*-=.<^!#?".split("");function A(){return E[Math.round(Math.random()*(E.length-1))]}const g=A()+A()+A()+A(),h={};h[h.ALL=0]="all",h[h.INFO=1]="info",h[h.LOG=2]="log",h[h.WARN=3]="warn",h[h.ERROR=4]="error",h[h.OFF=5]="off";class S{constructor(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.localCursor=0,this.writeFrom=0,this.pending=void 0,this.timer=new s.ShiftTimer((()=>this._persistIdb())),this.runningTimestamp=0,this.isTakeOver=!1,this.log=(0,a.default)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return function(a){for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];const d=(0,c.default)(a,l,!t);return n.logImpl(e,d,r,i,o),d}}),((e,t,n,r,i)=>n||i?null:String(e)+String(Boolean(t))+String(Boolean(r)))),this.logsDBProvider=e,this.logCapacityInDatabase=t,this.logs=new Array(t),this.microStep=1/this.logCapacityInDatabase,this.processTag=r}logImpl(e,t,n,r,i){const o=Date.now(),a=(0,f.default)(o).locale("en").format("YYYY-MM-DD HH:mm:ss.SSS:"),s=n?`\n${(0,_.normalizeStack)(n,!0)}`:"",l=[T(e),r&&!(0,d.isWaitingForUpload)()?"sendlogs":null,...null!=i?i:[],this.processTag].filter(Boolean).map((e=>`[${e}]`)).join(""),c=`${g} ${a}`+(l?`${l} `:"")+t+s;this.logs[this.localCursor]={m:c,t:o},this.localCursor=(this.localCursor+1)%this.logCapacityInDatabase,null!=this.logs[this.localCursor]&&(this.writeFrom=this.localCursor),this.isTakeOver||this.timer.debounceAndCap(250,1e3)}_persistIdb(){var e=this;this.pending||null==this.logs[this.writeFrom]||this.isTakeOver||(this.pending=this.logsDBProvider().then((t=>t.transaction("rw",t.logs,(0,i.default)((function*(){var n;let r=yield t.logs.orderBy("count").last();r||(r=yield t.logs.orderBy("timestamp").last());let i=r?r.line+1:0,o=(null===(n=r)||void 0===n?void 0:n.count)?r.count+1:i;for(;null!=e.logs[e.writeFrom];){const n=e.logs[e.writeFrom];e.logs[e.writeFrom]=void 0,e.writeFrom=(e.writeFrom+1)%e.logCapacityInDatabase,e.runningTimestamp=n.t<=e.runningTimestamp?e.runningTimestamp+e.microStep:n.t,t.logs.put({line:i++%e.logCapacityInDatabase,log:n.m,timestamp:e.runningTimestamp,count:o++})}}))))).then((()=>{null!=this.logs[this.writeFrom]&&this.timer.debounceAndCap(250,1e3)})).catch((()=>{})).finally((()=>{this.pending=void 0})))}getLogs(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];return this.pending&&n.push(this.pending),this.timer.isScheduled()&&(this.timer.forceRunNow(),this.pending&&n.push(this.pending)),Promise.all(n).then((()=>this.logsDBProvider())).then((n=>(0,u.getTimeboxedAndTrimmedLogs)(n,e?0:Date.now()-6048e5,t))).then((e=>e.map((e=>e.log)))).catch((()=>this.logs.filter(Boolean).map((e=>e.m))))}clearLogs(){return this.logsDBProvider().then(function(){var e=(0,i.default)((function*(e){yield e.logs.clear()}));return function(){return e.apply(this,arguments)}}()).catch((()=>{})).finally((()=>{this.localCursor=0,this.writeFrom=0,this.logs=new Array(this.logCapacityInDatabase)}))}logUncaughtError(e,t){const n=e instanceof Error&&e.stack?e:void 0;let r;if(r=n?String(e):t?`unhandled-rejection: ${String(e)}`:`Error: ${String(e)}`,this.logImpl(h.ERROR,r,n,!0,["uncaught"]),null!=t){const e=String(t);this.logImpl(h.WARN,e)}return r}onTakeOver(){this.isTakeOver=!0}registerErrorNotificationListener(e){this._errorNotificationCallback=e}}function T(e){switch(e){case h.INFO:case h.LOG:case h.WARN:case h.ERROR:return h[e];default:throw(0,p.default)(`Unexpected numeric log level: ${e}`)}}t.LoggerImpl=S;const m=new S((()=>(0,l.default)(n(62419)).idb()),5e3);t.Logger=m;const I=m.log;t.log=I},74843:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TRIM_LENGTH=t.END_OF_UPLOAD=void 0,t.getTimeboxedAndTrimmedLogs=function(){return a.apply(this,arguments)};var i=r(n(48926));const o="==================================================EOU";t.END_OF_UPLOAD=o;function a(){return(a=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];if(n){const n=yield e.logs.orderBy("timestamp").filter((e=>e.timestamp>=t)).reverse().until((e=>e.log.includes("[sendlogs]")),!0).toArray();for(let e=n.length-1;e>=0&&(s(n[e],r),!n[e].log.includes(o));e--);}else yield e.logs.orderBy("timestamp").filter((e=>e.timestamp>=t)).each((e=>{s(e,r)}));return r}))).apply(this,arguments)}function s(e,t){e.log=e.log.slice(0,2500),t.push(e)}t.TRIM_LENGTH=2500},67553:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWaitingForUpload=function(){return n},t.passesSampling=function(e){if(e<=0)return!1;if(e>=1)return!0;return Math.random()<e},t.setWaitingForUpload=function(e){n=e};let n=!1},26254:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDistribution=function(){let e="unknown";return e="prod","web_prod"},t.getLogUserAgent=function(e){let t,{appVersion:n,browser:r,device:i}=e;return t="Web/"+r,`WhatsApp/${n} ${t} Device/${i}`};r(n(40733)),r(n(89482))},26086:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.FILETYPE=void 0,t.blobToArrayBuffer=u,t.blobToText=function(){return p.apply(this,arguments)},t.createFile=function(e,t,n){const r=new Blob(e,n||{});return r.name=t,r},t.getAudioDuration=function(e){let t,n;return new Promise(((r,i)=>{t=document.createElement("audio"),t.addEventListener("loadeddata",r),t.addEventListener("error",(()=>{i((0,s.default)("getAudioDuration: error loading audio"))})),t.src=n=URL.createObjectURL(e)})).then((()=>~~t.seekable.end(0))).finally((()=>{n&&URL.revokeObjectURL(n)}))},t.getFileExtension=_,t.getMimeTypeForFilepath=function(e){const t=_(e),n=(0,o.isAllowedDocumentMimetype)(o.EXT_TO_MIME&&t&&o.EXT_TO_MIME[t],e,!1);if(n)return n},t.removeTrailingDots=d,t.typeFromMimetype=function(e){const t=e.split("/")[0];switch(t){case l.IMAGE:case l.VIDEO:case l.AUDIO:return t;default:return l.DOCUMENT}},t.validateBlob=function(e){return u(e.webkitSlice?e.webkitSlice(0,1):e.slice(0,1)).then((e=>1===e.byteLength)).catch((()=>!1))};var i=r(n(48926)),o=n(35677),a=n(91329),s=r(n(89482));const l=Object.freeze({IMAGE:"image",VIDEO:"video",AUDIO:"audio",DOCUMENT:"document",STICKER:"sticker"});t.FILETYPE=l;const c=e=>{var t;return null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""};function u(e){let t;return new Promise(((n,r)=>{t=new FileReader,t.onload=n,t.onerror=()=>{var e;r("NotReadableError"===(null===(e=t.error)||void 0===e?void 0:e.name)?new a.FileNotReadableError(`blobToArrayBuffer error: ${c(t.error)}`):(0,s.default)(`blobToArrayBuffer error: ${c(t.error)}`))},t.onabort=()=>{r((0,s.default)(`blobToArrayBuffer abort: ${c(t.error)}`))},t.readAsArrayBuffer(e)})).then((()=>t.result))}function d(e){return e.replace(/\.+$/,"")}function _(e){const t=d(e.trimRight()).split(".");return t.length>1?t[t.length-1].toLowerCase():null}function p(){return(p=(0,i.default)((function*(e){if("function"==typeof e.text)return e.text();const t=new FileReader;if(yield new Promise(((n,r)=>{t.onload=n,t.onerror=e=>{r((0,s.default)(`blobToText error: ${String(e)}`))},t.onabort=e=>{r((0,s.default)(`blobToText abort: ${String(e)}`))},t.readAsText(e)})),t.result instanceof ArrayBuffer)throw new TypeError("blobToText error: Invalid result type: ArrayBuffer");if(null==t.result)throw new TypeError("blobToText: Invalid result type: null");return t.result}))).apply(this,arguments)}},85003:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(23279)),o=n(62089),a=n(29987),s=n(88745);let l=!1;const c=(0,i.default)((()=>l=!1),500);function u(){const e=new Uint8Array(16);return self.crypto.getRandomValues(e),(0,o.encodeB64)(e)}var d={id(){const e=n(97023);let t=e.getBrowserId();return t||(t=u(),e.setBrowserId(t),t)},persistentExpiringId(){const e=n(97023),t=e.getPersistentExpiringId();if(null!=t){if(!((0,a.unixTime)()-t.ts>=7776e3))return t.value}const r={ts:(0,a.unixTime)(),value:u()};return e.setPersistentExpiringId(r),r.value},info(){const e=s.UA.parser.getResult();return{os:e.os.name,version:e.os.version,name:e.browser.name,ua:e.browser.name+" "+e.browser.version}},hardRefresh(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.promptUnloadGuards++,e){n(57432).setNoTakeover(!0)}location.reload(t)},startDownloading(){l=!0,c()},clearDownloading(){l=!1},isDownloading:()=>l,promptUnloadGuards:0,open(e){window.open(e,"_blank","noopener,noreferrer")}};t.default=d},30304:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.phashV1=function(){return l.apply(this,arguments)},t.phashV2=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(62089),a=n(66126),s=n(51017);function l(){return(l=(0,i.default)((function*(e){const t=e.map((e=>(0,s.toUserWid)(e).toString({legacy:!0}))).sort().join(""),n=[];for(let e=0;e<t.length;e++)n.push(t.charCodeAt(e));const r=new Uint8Array(n),i=yield self.crypto.subtle.digest({name:"SHA-1"},r);return`1:${(0,o.encodeB64)(i.slice(0,6))}`}))).apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e){const t=e.map((e=>e.toString({legacy:!0,formatFull:!0}))).sort().join(""),n=[];for(let e=0;e<t.length;e++)n.push(t.charCodeAt(e));const r=new Uint8Array(n),i=yield(0,a.sha256)(r);return`2:${(0,o.encodeB64)(i.slice(0,6))}`}))).apply(this,arguments)}},46859:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WA_BIZ_NAME=t.Field=void 0,t.clean=function(e){if(!e)return;return e.replace(/^_\$!<([^>]*)>!\$_$/,"$1").replace(/\\,/,",").replace(/\\;/,";").replace(/\\\\/,"\\")},t.parseMultiVcard=function(e){const t=e.match(/BEGIN:VCARD([\s\S]*?)END:VCARD/g);return t?t.map((e=>S(e))).filter(Boolean):[]},t.parseVcard=S,t.vcardGetDate=function(e){let t=e;return(0,i.default)([/-([^-]*)-([^-]*)-([^-]*)/,/([^-]*)-([^-]*)-([^-]*)/],(n=>{const r=e.match(n);if(r){const e=!r[1].length||"1604"===r[1],n=e?"0000":r[1];return t=(0,d.default)(`${n}-${r[2]}-${r[3]}`).format("l"),e&&(t=t.replace(/[.,-\/\s]*0000[.,-\/\s]*/,"")),!1}})),t},t.vcardGetNameFromParsed=function(e){let t=null;const{FN:n,NICKNAME:r,TEL:i}=e;if(null==n?void 0:n[0])t=n[0].value;else if(null==r?void 0:r[0])t=r[0].value;else if(null==i?void 0:i[0]){var o;const e=i[0],n=null===(o=e.properties.waid)||void 0===o?void 0:o[0];t=n?(0,u.widToFormattedUser)(n):e.value}return t},t.vcardIsBiz=function(e){return(e.SERVICE||[]).some((e=>e.type.toLowerCase()===_&&e.value))},t.vcardThumbnail=function(e){if(!e)return;const{PHOTO:t}=e;if((null==t?void 0:t[0])&&l.default.isData(t[0].value))return t[0].value},t.vcardWids=function(e){let t=[];if(null==e?void 0:e.TEL)e.TEL.forEach((e=>{var n,r,i;(null!==(n=null===(r=e.properties)||void 0===r||null===(i=r.waid)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0&&(t=t.concat(e.properties.waid.map((e=>(0,c.createUserWid)(e)))))}));else{const n=((null==e?void 0:e.SERVICE)||[]).find((e=>"wa-lid"===e.type.toLowerCase()));(null==n?void 0:n.value)&&(t=t.concat((0,c.createUserWid)(n.value,"lid")))}return t};var i=r(n(84486)),o=r(n(89734)),a=r(n(2525)),s=n(25303),l=r(n(32890)),c=n(51017),u=n(23061),d=r(n(30381));const _="wa-biz-name";t.WA_BIZ_NAME=_;const p=/X-([^;:]+)(?:;[^:]+)*:(.+)/,f={"X-ABLabel":[/X-ABLabel(?:;([^:]+))*:(.+)/,1],ADR:[/ADR(?:;([^:]+))*:;;(.*);(.*);(.*);(.*);(.*)/,5],"X-ABADR":[/X-ABADR(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.*)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1],TEL:[/TEL(?:;([^:]+))*:(.+)/,1]},E={N:[/N(?:;([^:]+))*:([^;]*);([^;]*);([^;]*);([^;]*);(.*)/,5],FN:[/FN(?:;([^:]+))*:(.*)/,1],NICKNAME:[/NICKNAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-FIRST-NAME":[/X-PHONETIC-FIRST-NAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-LAST-NAME":[/X-PHONETIC-LAST-NAME(?:;([^:]+))*:(.*)/,1],ORG:[/ORG(?:;([^:]+))*:([^;]*)(?:;(.*))*/,2],TITLE:[/TITLE(?:;([^:]+))*:(.*)/,1],TEL:[/TEL(?:;([^:]+))*:(.*)/,1],PHOTO:[/PHOTO(?:;([^:]+))*:(.*)/,1],BDAY:[/BDAY(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.+)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1]};class A{constructor(e,t,n,r){this.type=e,this.index=t,this.properties=n||{},this.value=r}}function g(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function h(e){const t={};return e?(e.split(";").forEach((e=>{const n=e.split(/=/);if(1===n.length){const e=n[0];g(t,e.toLowerCase(),!0)}else if(2===n.length){const[e,r]=n;g(t,e.toLowerCase(),r.toLowerCase())}})),t):t}function S(e){const t=e.replace(/\r?\n|\r/g,"\n").replace(/\n^[ \t]/gm,"").split("\n").filter((e=>0!==e.trim().length)),n={},r={};if(t.length<3)return;const i=t[0].trim().toUpperCase(),l=t[1].trim().toUpperCase(),c=t[t.length-1].trim().toUpperCase(),u="VERSION:2.1"===l||"VERSION:3.0"===l||"VERSION:4.0"===l;if("BEGIN:VCARD"!==i||!u||"END:VCARD"!==c)return __LOG__(4,void 0,new Error,!0)`vcard:parse failed because the vCard is not formatted as expected:
Header as expected? ${String("BEGIN:VCARD"===i)}
Version as expected? ${String(u)}
Footer as expected? ${String("END:VCARD"===c)}
Lines: ${t.length}`,void SEND_LOGS("vcard-fault");for(let e=2;e<t.length-1;e++){var d;const i=t[e],o=i.match(/item(\d+)\.(.*)/),a=o?o[2]:i,l=null===(d=a.match(/([^:;]*)[:;].*/))||void 0===d?void 0:d[1];if(null==l)continue;const c=o?f:E;let u,_,S=l,T=l;if(c[S]){const[e,t]=c[S],n=a.match(e);n&&(u=h(n[1]),_=1===t?_=n[2]:n.slice(2,2+t))}else{const e=a.match(p);e&&(T="SERVICE",S=e[1],_=e[2],u={})}if((Array.isArray(_)?_:[_]).some((e=>e&&(0,s.isString)(e)&&e.trim())))if(o){const t=o[1];r[t]?r[t].fields.push(new A(S,null,u,_)):r[t]={type:S,index:e,key:T,properties:u,value:_,fields:[]}}else g(n,T,new A(S,e,u,_))}return Object.keys(r).forEach((e=>{const{key:t,index:i,type:o,value:a,properties:s,fields:l}=r[e];l.forEach((e=>{s[e.type]=e.value})),g(n,t,new A(o,i,s,a))})),function(e){const t={};return(0,a.default)(e,((e,n)=>{t[n]=(0,o.default)(e,(e=>e.index))})),t}(n)}t.Field=A},68192:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return i.default.request(e,t,n,o,r).then((e=>e.status&&e.status<12e3?e:null)).catch((()=>null))};var i=r(n(24874))},69353:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(91009)),a=n(43175),s=n(28123),l=r(n(85003)),c=r(n(68192));const u=`${s.DYN_ORIGIN}status.json`;class d extends a.BaseModel{constructor(){super(...arguments),this.online=(0,a.session)(!0),this.simulatedOfflineConditions=(0,a.session)(!1),this.waitIfOffline=(0,o.default)((()=>"all"),(0,i.default)((function*(){this.online||("Firefox"!==l.default.info().name&&navigator.onLine?__LOG__(2)`waitIfOffline: XHR online is false, but navigator.onLine is true, resolving promise`:(__LOG__(2)`waitIfOffline: Waiting...`,yield new Promise((e=>{this.listenToOnce(this,"change:online",(()=>{__LOG__(2)`waitIfOffline: Continuing...`,e()}))}))))}))),this.checkOnline=(0,o.default)((()=>"all"),(0,i.default)((function*(){__LOG__(2)`NetworkStatus:checkOnline checking`;try{const e=yield(0,c.default)(u);this.online=!!e,__LOG__(2)`NetworkStatus:checkOnline response ${String(this.online)}`}catch(e){__LOG__(3)`NetworkStatus:checkOnline errored! ${String(e)}`}})))}initialize(){this.listenTo(this,"change:online",this._logOnlineOffline),this._logOnlineOffline()}_logOnlineOffline(){const e=this.online;__LOG__(2)`NetworkStatus ${e?"online":"offline"}`}simulateNetworkStatus(){}}var _=new((0,a.defineModel)(d));t.default=_},24874:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(2560),o=r(n(91054)),a=r(n(32890));const s={GET:"GET",POST:"POST",HEAD:"HEAD",PUT:"PUT"};function l(e,t){for(const n in t)e.setRequestHeader(n,t[n])}function c(e,t,n,r,c,u,d){const _=new XMLHttpRequest,p=new Promise(((r,i)=>{if(_.onload=function(e){4===_.readyState?r(_):(__LOG__(4,void 0,new Error)`xhr.request:onload`,i(e))},_.onerror=e=>{__LOG__(4,void 0,new Error)`xhr.request:onerror`,i(e)},_.ontimeout=e=>{__LOG__(4,void 0,new Error)`xhr.request:ontimeout`,i(e)},u&&(_.onprogress=u),_.onabort=e=>{__LOG__(4,void 0,new Error)`xhr.request:onabort`,i(e)},n instanceof FormData)_.open(t||s.POST,e,!0),c&&(_.responseType=c),d&&l(_,d),_.send(n);else if(n instanceof Object){const r=a.default.build(e,n);_.open(t||s.GET,r,!0),c&&(_.responseType=c),d&&l(_,d),_.send()}else _.open(t||s.GET,e,!0),c&&(_.responseType=c),d&&l(_,d),_.send()})),f=(0,o.default)(p,r);return f.catch((0,i.catchAbort)((()=>{_.abort()}))).catch((()=>{})),f}var u={head:function(e,t){return c(e,s.HEAD,null,t)},get:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(e,s.GET,null,r,t,void 0,n)},post:function(e,t,n){return c(e,s.POST,t,n)},request:c,VERB:s,RESP_TYPE:{ARRAY_BUFFER:"arraybuffer",BLOB:"blob",JSON:"json"}};t.default=u},8316:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e,o)};var i=r(n(14176));const o=e=>null==e},60347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=()=>"randomUUID"in self.crypto?self.crypto.randomUUID():([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))},14602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(35449);var r=URLSearchParams;t.default=r},93948:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(28123),a=r(n(89482));class s{constructor(e){this._handleMessage=e=>{if(!e.data||!e.data.action)return;const t=e.data;if(!e.ports||0===e.ports.length)return;const n=e.ports;if(!s.isSW()&&window.navigator.serviceWorker&&e.source!==window.navigator.serviceWorker.controller)return;let r;r="function"==typeof e.waitUntil?t=>e.waitUntil(t):()=>{},r(Promise.resolve(this.requestHandler(t)).then((e=>{n[0].postMessage(e)})).catch((e=>{n[0].postMessage({error:e&&e.toString()})})))},this.requestHandler=e}init(){const e=s.isSW()?self:window.navigator.serviceWorker;try{if(!e)return;e.addEventListener("message",this._handleMessage)}catch(e){}}static isSW(){return"undefined"==typeof window}static getRequestor(e){return s.isSW()?"string"==typeof e?self.clients.get(e):Promise.resolve(e):window.navigator.serviceWorker?window.navigator.serviceWorker.ready.then((()=>window.navigator.serviceWorker?window.navigator.serviceWorker.controller:null)):Promise.resolve(null)}static broadcast(e,t){return(0,i.default)((function*(){if(!s.isSW())throw(0,a.default)("Broadcast called from non-serviceworker.");const n=yield self.clients.matchAll();return 0===n.length?Promise.reject((0,a.default)("No clients available.")):Promise.all(n.map((n=>s.request(n,e,t))))}))()}static request(e,t,n){const r=new MessageChannel;return new Promise(((i,l)=>(r.port1.onmessage=e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.error)?l(e.data.error):i(e.data)},s.getRequestor(e).then((e=>{if(!e)return l((0,a.default)("No ServiceWorker controlling this client."));e.postMessage({action:t,message:n,version:o.VERSION_STR},[r.port2])})))))}}t.default=s},19194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={REQUEST_STREAMING_INFO:"GET_STREAMING_INFO",REQUEST_RMR:"REQUEST_RMR",SEND_STREAMING_CHUNK:"SEND_STREAMING_CHUNK",EXP_BACKOFF:"EXP_BACKOFF",LOG:"LOG",UPLOAD_LOGS:"UPLOAD_LOGS",SET_L10N:"SET_L10N",STREAMING_SUPPORTED:"STREAMING_SUPPORTED",REMOVE_PP:"REMOVE_PP",LOGOUT:"LOGOUT",CLEAN_ASSETS:"CLEAN_ASSETS",ACTIVE_TAB:"ACTIVE_TAB",STOP_COMMS:"STOP_COMMS"};t.default=n},20637:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(89482));t.default=class{open(){return this._openPromise?this._openPromise:this._closePromise?(this._openPromise=this._closePromise.catch((e=>{throw this._openPromise=null,e})).then((()=>(this._openPromise=null,this.open()))),this._openPromise):(this._openPromise=this.doOpen().catch((e=>{throw this._openPromise=null,e})).then((()=>{this._openPromise=null})),this._openPromise)}close(){return this._closePromise?this._closePromise:this._openPromise?(this._closePromise=this._openPromise.catch((e=>{throw this._closePromise=null,e})).then((()=>(this._closePromise=null,this.close()))),this._closePromise):(this._closePromise=this.doClose().catch((e=>{throw this._closePromise=null,e})).then((()=>{this._closePromise=null})),this._closePromise)}get(e){var t=this;return(0,i.default)((function*(){return yield t.open(),t.doGet(e)}))()}queryByIndex(e,t){var n=this;return(0,i.default)((function*(){return yield n.open(),n.doQueryByIndex(e,t)}))()}getAll(){var e=this;return(0,i.default)((function*(){return yield e.open(),e.doGetAll()}))()}put(e,t){var n=this;return(0,i.default)((function*(){return yield n.open(),n.doPut(e,t)}))()}del(e){var t=this;return(0,i.default)((function*(){return yield t.open(),t.doDel(e)}))()}count(){var e=this;return(0,i.default)((function*(){return yield e.open(),e.doCount()}))()}clear(){var e=this;return(0,i.default)((function*(){return yield e.open(),e.doClear()}))()}doGet(){throw(0,o.default)("Not implemented")}doQueryByIndex(){throw(0,o.default)("Not implemented")}doGetAll(){throw(0,o.default)("Not implemented")}doPut(){throw(0,o.default)("Not implemented")}doDel(){throw(0,o.default)("Not implemented")}doCount(){throw(0,o.default)("Not implemented")}doClear(){throw(0,o.default)("Not implemented")}doOpen(){throw(0,o.default)("Not implemented")}doClose(){throw(0,o.default)("Not implemented")}}},91373:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;try{n=self.indexedDB}catch(e){}var r=n;t.default=r},21561:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WEB_IDB_DB_NAMES=void 0,t.deleteAllIdb=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(77689),a=r(n(46808));const s={__dbnames:"__dbnames",fts_storage:"fts-storage",fts_loadgen_metadata:"loadgen-storage",_hsm_storage_DEPRECATED:"hsm-storage",jobs_storage:"jobs-storage",lru_media_storage_idb:"lru-media-storage-idb",model_storage:"model-storage",offd_storage:"offd-storage",pb_detect:"pb_detect",signal_storage:"signal-storage",sw:"sw",wawc:"wawc",wawc_db_enc:"wawc_db_enc",qpl_storage:"qpl-storage",worker_storage:"worker-storage"};function l(){return(l=(0,i.default)((function*(){const e=Object.keys(s).map((e=>s[e]));let t=!1;const n=e.map(function(){var e=(0,i.default)((function*(e){if("__dbnames"!==e&&"sw"!==e&&"pb_detect"!==e)try{yield(0,o.promiseTimeout)(Promise.resolve(a.default.delete(e)),7e3)}catch(e){t=!0}}));return function(){return e.apply(this,arguments)}}());return yield Promise.all(n),t}))).apply(this,arguments)}t.WEB_IDB_DB_NAMES=s},61145:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(20637)),a=r(n(89482));class s extends o.default{constructor(e,t,n,r){var i,o;super(),this._storeName=e,this._createResponse=t,this._parseResponse=n,this._encodeKey=null!==(i=null==r?void 0:r.encodeKey)&&void 0!==i?i:e=>e,this._matchOptions=null!==(o=null==r?void 0:r.matchOptions)&&void 0!==o?o:{}}doGet(e){var t=this;return(0,i.default)((function*(){yield t.doOpen();const n=t._encodeKey(e,t._storeName);if(!t._cacheStore)throw __LOG__(3)`Unable to get. This error can occur if abstract method doGet gets called.`,(0,a.default)("Unable to get");const r=yield t._cacheStore.match(n,t._matchOptions);return null==r?null:t._parseResponse(r)}))()}doPut(e,t){var n=this;return(0,i.default)((function*(){yield n.doOpen();const r=n._encodeKey(e,n._storeName);if(!n._cacheStore)throw __LOG__(3)`Unable to put. This error can occur if abstract method doPut gets called.`,(0,a.default)("Unable to put in cache");return yield n._cacheStore.put(r,n._createResponse(t)),t}))()}doDel(e){var t=this;return(0,i.default)((function*(){yield t.doOpen();const n=t._encodeKey(e,t._storeName);if(!t._cacheStore)return __LOG__(3)`Unable to delete. This error can occur if abstract method doDel gets called.`,Promise.reject((0,a.default)("Unable to delete"));yield t._cacheStore.delete(n,t._matchOptions)}))()}doClear(){var e=this;return(0,i.default)((function*(){(yield caches.delete(e._storeName))||__LOG__(2)`Tried to delete a non-existent cache: ${e._storeName}`,e._cacheStore=null}))()}doOpen(){var e=this;return(0,i.default)((function*(){if(null==e._cacheStore)try{e._cacheStore=yield caches.open(e._storeName)}catch(t){throw e._cacheStore=null,__LOG__(3)`Unable to open cache: ${e._storeName}, error: ${t}`,t}}))()}doClose(){return this._cacheStore=null,Promise.resolve()}}t.default=s},51298:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;try{n=window.localStorage}catch(e){}var r=n;t.default=r},44848:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(2525)),a=r(n(51298)),s=r(n(62419));var l=new class{constructor(){this.dataStore={}}setItem(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.dataStore[e]=t,null!=a.default&&a.default.setItem(e,t),n&&s.default.idb().then((n=>n.user.put({key:e,value:t}))).catch((e=>{__LOG__(3)`db:setItem:Error ${e}`}))}getItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===this.dataStore[e]||t){if(null!=a.default){const t=a.default.getItem(e);return null!=t&&this.setItem(e,t,!1),t}return null}return this.dataStore[e]}removeItem(e){delete this.dataStore[e],null!=a.default&&a.default.removeItem(e),s.default.idb().then((t=>t.user.delete(e))).catch((e=>{__LOG__(3)`db:removeItem:Error ${e}`}))}clear(e){var t=this;return(0,i.default)((function*(){t.dataStore={},null!=a.default&&(a.default.clear(),e&&(0,o.default)(e,(function(e,t){a.default.setItem(t,e)}))),yield s.default.idb().then((e=>e.user.clear())).catch((e=>{__LOG__(3)`db:clear:Error ${e}`}))}))()}};t.default=l},81535:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;try{n=window.sessionStorage}catch(e){}var r=n;t.default=r},20589:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(2525)),o=r(n(49619)),a=n(25303),s=r(n(81535)),l=n(59356);var c=(()=>{try{const e=(0,o.default)(s.default,"sessionStorage");return e.setItem(l.KEYS.STORAGE_TEST,l.KEYS.STORAGE_TEST),(0,a.isFunction)(e.clear)}catch(e){return!1}})()?new class{constructor(){this.dataStore={}}setItem(e,t){this.dataStore[e]=t,(0,o.default)(s.default,"sessionStorage").setItem(e,t)}getItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==this.dataStore[e]||t?(0,o.default)(s.default,"sessionStorage").getItem(e):this.dataStore[e]}removeItem(e){delete this.dataStore[e],(0,o.default)(s.default,"sessionStorage").removeItem(e)}clear(e){return this.dataStore={},(0,o.default)(s.default,"sessionStorage").clear(),e&&(0,i.default)(e,(function(e,t){(0,o.default)(s.default,"sessionStorage").setItem(t,e)})),Promise.resolve()}}:new class{constructor(){this.dataStore={}}setItem(e,t){this.dataStore[e]=t}getItem(e){return void 0===this.dataStore[e]?null:this.dataStore[e]}removeItem(e){delete this.dataStore[e]}clear(){return this.dataStore={},Promise.resolve()}};t.default=c},17657:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.userPrefsIndexedDBStorage=void 0;var i=r(n(48926)),o=n(70824),a=n(59356),s=n(87606),l=n(64286),c=n(78701);function u(){return(u=(0,i.default)((function*(e){try{yield(0,o.createOrReplaceUserPref)(e)}catch(t){__LOG__(3)`An error ocurred while trying to insert the user preference '${e.key}' in IndexedDB. Err: ${t}`}}))).apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e){try{const t=yield(0,o.getUserPref)(e);if(t)return t.value}catch(t){__LOG__(3)`An error ocurred while trying to get user preference '${e}' from IndexedDB. Err: ${t}`}}))).apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e){try{yield(0,o.removeUserPref)(e)}catch(t){__LOG__(3)`An error ocurred while trying to remove user preference '${e}' from IndexedDB. Err: ${t}`}}))).apply(this,arguments)}function p(){return(p=(0,i.default)((function*(){try{yield(0,o.clearUserPrefs)()}catch(e){__LOG__(3)`An error ocurred while trying to clear all user preferences from IndexedDB. Err: ${e}`}}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e){try{yield(0,o.bulkCreateOrReplaceUserPrefs)(e)}catch(e){__LOG__(3)`An error ocurred while trying to create multiple user preferences in IndexedDB. Err: ${e}`}}))).apply(this,arguments)}function E(e){let t=e;return Object.values(a.HASHED_MD_KEYS).some((t=>t===e))&&(t=(0,c.hashUserPrefKey)(e)),t}const A=new class{constructor(){this._cachedIndexedDBValues={}}setItemToIndexedDB(e,t){var n=this;return(0,i.default)((function*(){const r=E(e);if(null==r)return;const i=(0,l.preProcessUserPref)(e,t);n._cachedIndexedDBValues[r]=i,yield function(){return u.apply(this,arguments)}({key:r,value:i})}))()}getItemFromIndexedDB(e){var t=this;return(0,i.default)((function*(){const n=E(e);if(null==n)return;let r=t._cachedIndexedDBValues[n];if(null==r&&(r=yield function(){return d.apply(this,arguments)}(n),t._cachedIndexedDBValues[n]=r),null==r)return null;return(0,s.postProcessUserPref)(e,r)}))()}removeItemFromIndexedDB(e){var t=this;return(0,i.default)((function*(){const n=E(e);null!=n&&(delete t._cachedIndexedDBValues[n],yield function(){return _.apply(this,arguments)}(n))}))()}clearIndexedDB(){var e=this;return(0,i.default)((function*(){e._cachedIndexedDBValues={},yield function(){return p.apply(this,arguments)}()}))()}bulkSetItemsToIndexedDB(e){var t=this;return(0,i.default)((function*(){const n=e.map((e=>({key:e.key,value:(0,l.preProcessUserPref)(e.key,e.value)})));yield function(){return f.apply(this,arguments)}(n),n.forEach((e=>{t._cachedIndexedDBValues[e.key]=e.value}))}))()}};t.userPrefsIndexedDBStorage=A},637:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(51298)),o=n(59356),a=n(87606),s=n(64286),l=n(78701);function c(e){let t=e;return Object.values(o.HASHED_KEYS).some((t=>t===e))&&(t=(0,l.hashUserPrefKey)(e)),t}var u=new class{constructor(){this._cachedLocalStorageValues={}}setItemToLocalStorage(e,t){if(null==i.default)return;const n=c(e);if(null==n)return;const r=JSON.stringify((0,s.preProcessUserPref)(e,t));null!=r&&(this._cachedLocalStorageValues[n]=r,i.default.setItem(n,r))}getItemFromLocalStorage(e){const t=c(e);if(null==t)return;let n,r=this._cachedLocalStorageValues[t];if(null==r&&null!=i.default&&(r=i.default.getItem(t)),null==r)return null;this._cachedLocalStorageValues[t]=r;try{n=JSON.parse(r)}catch(t){return this.removeItemFromLocalStorage(e),null}return(0,a.postProcessUserPref)(e,n)}removeItemFromLocalStorage(e){const t=c(e);null!=t&&(delete this._cachedLocalStorageValues[t],null!=i.default&&i.default.removeItem(t))}clearLocalStorage(){this._cachedLocalStorageValues={},null!=i.default&&i.default.clear()}};t.default=u},87606:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.postProcessUserPref=function(e,t){let n=t;const r=a[e];null!=r&&(n=r(t));return n};var i=r(n(66604)),o=n(62089);const a={WANoiseInfo:function(e){const t=(0,i.default)(e,o.decodeB64);return{recoveryToken:t.recoveryToken,staticKeyPair:{pubKey:t.pubKey,privKey:t.privKey}}},WARoutingInfo:function(e){const{domain:t,edgeRouting:n}=e;return{domain:t,edgeRouting:null!=n?(0,o.decodeB64)(n):null}}}},64286:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.preProcessUserPref=function(e,t){let n=t;const r=a[e];null!=r&&(n=r(t));return n};var i=r(n(66604)),o=n(62089);const a={WANoiseInfo:function(e){const t={privKey:e.staticKeyPair.privKey,pubKey:e.staticKeyPair.pubKey,recoveryToken:e.recoveryToken};return(0,i.default)(t,o.encodeB64)},WARoutingInfo:function(e){const{domain:t,edgeRouting:n}=e;return{domain:t,edgeRouting:n?(0,o.encodeB64)(n):null}}}},78701:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.hashUserPrefKey=function(e){const t=(0,o.getMaybeMeUser)();if(!t)return void __LOG__(3)`hashUserPrefKey: Me has not loaded yet.`;return(0,i.default)(t.toString()+":"+e)};var i=r(n(27522)),o=n(3885)},45218:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.genBotSystemMsg=function(e){return p(e,{type:"notification_template",subtype:"bot_init",templateParams:[]})},t.genContactInfoCardMsg=function(){return f.apply(this,arguments)},t.genDefaultDisappearingModeSystemMsg=function(e,t,n){const r=n?(0,u.getMeUser)():e;if(null==r)throw(0,_.default)(`Cannot set null initiator for DDM system message: ${e.toString()} / ${String(n)}`);return p(e,{type:"notification_template",subtype:"disappearing_mode",templateParams:[],ephemeralDuration:t,ephemeralSettingUser:r})},t.genDeviceNotificationMsg=function(e,t,n,r){const i=(0,u.assertGetMe)(),o=new c.default({fromMe:t.equals((0,d.toUserWid)(i)),remote:e,id:c.default.newId_DEPRECATED()}),s=o.fromMe&&n.includes(i.getDeviceId());return{id:o,t:(0,a.unixTime)(),type:"e2e_notification",subtype:"device",from:e,to:(0,d.toUserWid)(i),body:t.toString(),devicesAdded:n.length,devicesRemoved:r.length,isThisDeviceAdded:s}},t.genDisappearingModeUnsupportedSystemMsg=function(e){return p(e,{type:"notification_template",subtype:"disappearing_mode_unsupported",templateParams:[]})},t.genDisappearingModeUpdateSystemMsg=function(e,t,n){return p(e,{type:"notification_template",subtype:"disappearing_mode_update",templateParams:[],ephemeralDuration:t,ephemeralSettingUser:n})},t.genEncryptNotificationMsg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"encrypt";return p(e,{type:"e2e_notification",subtype:t,templateParams:[]})},t.genNonE2ENotificationMsg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return p(e,{type:"notification_template",subtype:t,templateParams:n})},t.genNotificationMsg=p,t.genSecurityCodeNotificationMsg=function(e,t){const n=(0,u.getMeUser)();return{id:new c.default({fromMe:t.equals(n),remote:e,id:c.default.newId_DEPRECATED()}),t:(0,a.unixTime)(),type:"e2e_notification",subtype:"identity",from:e,to:n,body:t.toString()}};var i=r(n(48926)),o=r(n(81109)),a=n(29987),s=n(42247),l=n(42311),c=r(n(60001)),u=n(3885),d=n(51017),_=r(n(89482));function p(e,t){const n=(0,u.getMaybeMeLid)(),r=(0,u.getMeUser)(),i=new c.default({fromMe:(0,u.isMeAccount)(e),remote:e,id:c.default.newId_DEPRECATED()});return(0,o.default)({id:i,t:(0,a.unixTime)(),from:e,to:e.isLid()&&null!=n?n:r},t)}function f(){return(f=(0,i.default)((function*(e,t){if(!(0,l.supportsFMX)())return null;if(t.isBiz||!e.isUser()||t.isWASupportStartingChat||t.iAmStartingChat)return null;return(yield(0,s.isAddressBookContact)(e.toJid()))?null:p(e,{type:"notification_template",subtype:"contact_info_card",templateParams:[e]})}))).apply(this,arguments)}},42469:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.genAllowNonAdminSubGroupCreationNotificationMsg=function(){return M.apply(this,arguments)},t.genDescriptionNotificationMsg=function(){return b.apply(this,arguments)},t.genGroupCreationMsg=T,t.genGroupEphemeralSettingMsg=O,t.genGroupNotificationMsg=C,t.genGroupPicChangeNotificationMsg=function(e,t,n,r){return{type:"gp2",self:"in",subtype:"picture",t:n,author:r,body:t,recipients:[],from:e,id:new A.default({remote:e,fromMe:!1,id:A.default.newId_DEPRECATED()})}},t.genInitialPhashMismatchMsg=function(e,t){return{id:new A.default({remote:e,fromMe:!1,id:A.default.newId_DEPRECATED()}),from:e,recipients:[],self:"in",subtype:"initial_pHash_mismatch",t,type:"gp2"}},t.genIntegrityDeleteParentNotificationMsgs=function(){return N.apply(this,arguments)},t.genMsgsForGroupCreation=function(){return m.apply(this,arguments)},t.genParentGroupLinkMembershipApprovalNotif=D,t.generateDeleteParentNotificationMessages=function(){return P.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(29987),s=n(83741),l=n(64002),c=n(18106),u=n(45218),d=n(79247),_=n(22582),p=n(78440),f=n(98051),E=n(67454),A=r(n(60001)),g=n(65417),h=n(3885),S=n(51017);function T(e,t){var n,r,i;const{chatId:o}=e;let a=null!==(n=null!==(r=t.owner)&&void 0!==r?r:e.author)&&void 0!==n?n:(0,h.getMaybeMeUser)();const s=t.subject;let l,u;var d,_;(0,c.communitiesEnabled)()&&!0===t.defaultSubgroup?(l="community_create",t.parentGroup&&(u=[t.parentGroup,t.subject]),a=null!==(d=t.owner)&&void 0!==d?d:e.author):(a=null!==(_=t.owner)&&void 0!==_?_:e.author,t.parentGroup&&1===t.participants.length&&(0,c.communityShortGroupCreationEnabled)()?(u=[t.parentGroup,t.parentGroupSubject,t.subject],l="empty_subgroup_create"):l="create");return{id:new A.default({remote:o,fromMe:!1,participant:a,id:R(e,l)}),author:a,body:s,from:o,recipients:[],self:"in",subtype:l,t:null!==(i=t.creation)&&void 0!==i?i:e.ts,type:"gp2",templateParams:u}}function m(){return(m=(0,o.default)((function*(e,t,n,r){const i=t.participants.find((e=>{let{isAdmin:t,id:n}=e;return(0,h.isMeAccount)(n)&&t}));return(yield Promise.all([n||i||!(0,E.cagReactionsReceive)()||!0!==t.defaultSubgroup||!0!==t.incognito?[]:[(0,u.genNotificationMsg)(t.id,{type:"notification_template",subtype:"cag_masked_thread_created",templateParams:[]})],n?[]:[T(e,t)],function(){const{ephemeralDuration:n}=t;return e.author&&null!=e.ts&&null!=n&&n>0?[O(e.chatId,e.ts,e.author,n)]:[]}(),function(){return a.apply(this,arguments)}(),function(){return d.apply(this,arguments)}()])).flat();function a(){return(a=(0,o.default)((function*(){const r=[],{defaultSubgroup:i,parentGroup:o}=t;if(null!=o&&!0!==i&&!n&&(0,c.communitiesEnabled)()){const n={actionType:f.GROUP_ACTIONS.PARENT_GROUP_LINK,groupDatas:[{id:o,subject:""}]};if((0,c.communityRichSystemMessageEnabled)()||r.push(yield C(e,n,t.creation)),(0,s.getABPropConfigValue)("group_join_request_m0_anyone_can_join")||(0,s.getABPropConfigValue)("group_join_request_m2_setting")){const t=yield(0,l.isCurrentUserGroupAdmin)(e.chatId.toString());r.push(yield D(e,n.groupDatas,t))}}return r}))).apply(this,arguments)}function d(){return(d=(0,o.default)((function*(){return null==r?[]:[yield C(e,r)]}))).apply(this,arguments)}}))).apply(this,arguments)}function I(){return y.apply(this,arguments)}function y(){return(y=(0,o.default)((function*(e,t){const n=e.parentGroupId;if(!n)return!1;const r=yield(0,_.getGroupMetadata)(n);return!r||null!=r&&(yield(0,d.getJoinedSubgroups)((0,S.createWid)(r.id))).length<=t}))).apply(this,arguments)}function C(){return v.apply(this,arguments)}function v(){return(v=(0,o.default)((function*(e,t,n){const{chatId:r,isAdmin:i=!1}=e;let o,a=e.author&&(0,S.toUserWid)(e.author)||void 0,s=null,u=[],d=a,p=t.actionType,E=null;const T=t.parentGroupId;switch(t.actionType){case f.GROUP_ACTIONS.SUBJECT:s=t.subject;break;case f.GROUP_ACTIONS.MODIFY:u=t.participants.map((e=>{let{id:t}=e;return t}));break;case f.GROUP_ACTIONS.ADD:if(t.reason===f.ADD_REASON.INVITE)if(T&&t.participants.some((e=>{let{id:t}=e;return(0,h.isMeAccount)(t)}))&&(0,c.communitiesEnabled)()&&(0,c.communityRichSystemMessageEnabled)())if(!0===t.defaultSubgroup){var m;p="community_invite_rich",E=[T,null!==(m=t.groupName)&&void 0!==m?m:""]}else{var y;p="sub_group_invite_rich";const e=yield(0,_.getGroupMetadata)(T);E=[T,null!==(y=null==e?void 0:e.subject)&&void 0!==y?y:""]}else p="invite";else if((0,c.communitiesEnabled)())if(t.reason===f.ADD_REASON.LINKED_GROUP_JOIN)p="linked_group_join";else if(t.reason===f.ADD_REASON.AUTO_ADD){var C,v,O;if(T)if(E=[T,null!==(C=t.groupName)&&void 0!==C?C:""],(0,c.communityAnnouncementImprovementM3Enabled)())E.push(null!==(v=t.contextGroupId)&&void 0!==v?v:""),p="subgroup_admin_triggered_auto_add";else p="community_participant_add_rich";else if(p="auto_add",yield I(t,2))E=[t.parentGroupId,null!==(O=t.groupName)&&void 0!==O?O:""]}else if(t.reason===f.ADD_REASON.DEFAULT_SUBGROUP_ADMIN_ADD){var P,N;if(T&&(0,c.communityRichSystemMessageEnabled)())p="community_participant_add_rich",E=[T,null!==(P=t.groupName)&&void 0!==P?P:""];else if(p="default_sub_group_admin_add",yield I(t,1))E=[t.parentGroupId,null!==(N=t.groupName)&&void 0!==N?N:""]}else if(t.reason===f.ADD_REASON.DEFAULT_SUBGROUP_PROMOTE)p="default_sub_group_promote";else if(t.reason===f.ADD_REASON.INVITE_AUTO_ADD){var b,M;if(T&&Boolean(t.defaultSubgroup)&&t.participants.some((e=>{let{id:t}=e;return(0,h.isMeAccount)(t)})))if(E=[T,null!==(b=t.groupName)&&void 0!==b?b:""],(0,c.communityAnnouncementImprovementM3Enabled)())p="subgroup_admin_triggered_invite_auto_add",E.push(null!==(M=t.contextGroupId)&&void 0!==M?M:"");else p="community_invite_auto_add_rich";else p="invite_auto_add",t.contextGroupId&&(E=[t.contextGroupId,""],(yield I(t,2))?E.push("false"):E.push("true"))}else if(T&&t.participants.some((e=>{let{id:t}=e;return(0,h.isMeAccount)(t)}))&&(0,c.communityRichSystemMessageEnabled)()){var D;const e=yield(0,_.getGroupMetadata)(T);E=[T,null!==(D=null==e?void 0:e.subject)&&void 0!==D?D:""],p=!0===t.defaultSubgroup?"community_participant_add_rich":"sub_group_participant_add_rich"}case f.GROUP_ACTIONS.PROMOTE:case f.GROUP_ACTIONS.DEMOTE:case f.GROUP_ACTIONS.REMOVE:case f.GROUP_ACTIONS.LINKED_GROUP_PROMOTE:case f.GROUP_ACTIONS.LINKED_GROUP_DEMOTE:if(t.actionType===f.GROUP_ACTIONS.REMOVE&&t.reason===f.REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE){p="default_sub_group_demote";break}u=t.participants.map((e=>{let{id:t}=e;return t})),1===u.length&&(d=u[0]),t.actionType===f.GROUP_ACTIONS.REMOVE&&1===u.length&&a===d&&(p="leave");break;case f.GROUP_ACTIONS.INVITE_CODE:p="revoke_invite";break;case f.GROUP_ACTIONS.DESC_ADD:p=!0===t.isParentGroup?"parent_group_description":"description",s=t.desc;break;case f.GROUP_ACTIONS.DESC_REMOVE:p=!0===t.isParentGroup?"parent_group_description":"description";break;case f.GROUP_ACTIONS.RESTRICT:E=[t.value?"on":"off"],s=E[0],null!=t.threshold&&E.push(t.threshold);break;case f.GROUP_ACTIONS.ANNOUNCE:case f.GROUP_ACTIONS.NO_FORWARD:E=[t.value?"on":"off"],s=E[0];break;case f.GROUP_ACTIONS.EPHEMERAL:a&&(E=[`${t.duration}`,a]);break;case f.GROUP_ACTIONS.GROWTH_LOCKED:E=[t.type],s=E[0];break;case f.GROUP_ACTIONS.SUB_GROUP_LINK:case f.GROUP_ACTIONS.SIBLING_GROUP_LINK:case f.GROUP_ACTIONS.SUB_GROUP_UNLINK:case f.GROUP_ACTIONS.PARENT_GROUP_UNLINK:case f.GROUP_ACTIONS.SIBLING_GROUP_UNLINK:case f.GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK:case f.GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK:E=(0,g.flattenPairList)(t.groupDatas.map((e=>[e.id,e.subject])));break;case f.GROUP_ACTIONS.PARENT_GROUP_LINK:E=(0,g.flattenPairList)(t.groupDatas.map((e=>[e.id,e.subject]))),(0,c.communityRichSystemMessageEnabled)()&&(p="community_link_parent_group_rich"),o="parentGroupLink";break;case f.GROUP_ACTIONS.PARENT_GROUP_LINK_MEMBERSHIP_APPROVAL:{const e=t.groupDatas[0],n=i?"admin":"regular",r=t.membershipApprovalMode;E=[e.id,e.subject,n,r.toString()],o="parentGroupLinkMembershipApproval";break}case f.GROUP_ACTIONS.DELETE_PARENT_GROUP:E=[t.communityTitle];break;case f.GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE:E=[t.value?"on":"off",i?"admin":"regular"],"server"===t.triggered&&(a=void 0);break;case f.GROUP_ACTIONS.MEMBER_ADD_MODE:{const e=t.memberAddMode;null!=e&&(E=[e,i?"admin":"regular"]);break}case f.GROUP_ACTIONS.ALLOW_ADMIN_REPORTS:{E=[t.value?"on":"off"];const n=yield(0,l.isCurrentUserGroupAdmin)(e.chatId.toString());E.push(n?"admin":"regular")}break;case f.GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:E=[t.value?"on":"off"]}return{id:new A.default({remote:r,fromMe:!1,participant:d,id:R(e,o)}),body:s||void 0,author:a,from:r,recipients:u.map(S.toUserWid)||[],self:"in",subtype:p,t:null!=n?n:e.ts,type:"gp2",templateParams:E||void 0}}))).apply(this,arguments)}function O(e,t,n,r){return{id:new A.default({remote:e,fromMe:!1,participant:n,id:A.default.newId_DEPRECATED()}),author:n,from:e,recipients:[],self:"in",subtype:"ephemeral",t,type:"gp2",templateParams:[`${r}`]}}function P(){return(P=(0,o.default)((function*(e){var t,n;const r=[],{chatId:i}=e,s=yield(0,_.getGroupMetadata)(i);if(null==s||!1===s.isParentGroup)return r;const l=yield(0,d.getDefaultSubgroup)(i),c=null!==(t=null==s?void 0:s.subject)&&void 0!==t?t:"",u=(0,a.unixTime)();return null!=l&&(yield(0,p.checkMyMembership)(l))&&r.push(yield C({chatId:l,author:e.author,ts:u},{actionType:f.GROUP_ACTIONS.DELETE_PARENT_GROUP,communityTitle:c})),yield Promise.all((null!==(n=yield(0,d.getJoinedSubgroups)((0,S.createWid)(s.id)))&&void 0!==n?n:[]).filter((e=>!(null!=l&&l.equals(e)))).map(function(){var t=(0,o.default)((function*(t){r.push(yield C({chatId:t,author:e.author,ts:u},{actionType:f.GROUP_ACTIONS.DELETE_PARENT_GROUP,communityTitle:c})),r.push(yield C({chatId:t,author:e.author,ts:u},{actionType:f.GROUP_ACTIONS.PARENT_GROUP_UNLINK,groupDatas:[{id:i,subject:c}]}))}));return function(){return t.apply(this,arguments)}}())),r}))).apply(this,arguments)}function N(){return(N=(0,o.default)((function*(e){var t;const n=[],{chatId:r}=e,i=yield(0,_.getGroupMetadata)(r);if(null==i)return __LOG__(4,void 0,new Error)`genIntegrityDelteteParentNotificationMsgs: missing parentGroupMetadata`,[];const s=yield(0,d.getDefaultSubgroup)(r);var l;null!=s&&(yield(0,p.checkMyMembership)(s))&&n.push(yield C({chatId:s,author:void 0,ts:(0,a.unixTime)()},{actionType:f.GROUP_ACTIONS.DELETE,reason:f.DELETE_REASON.INTEGRITY_DELETE_PARENT,groupDatas:[{id:r,subject:null!==(l=null==i?void 0:i.subject)&&void 0!==l?l:""}]}));return yield Promise.all((null!==(t=yield(0,d.getJoinedSubgroups)(r))&&void 0!==t?t:[]).filter((e=>!(null!=s&&s.equals(e)))).map(function(){var e=(0,o.default)((function*(e){var t;return n.push(yield C({chatId:e,author:void 0,ts:(0,a.unixTime)()},{actionType:f.GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK,groupDatas:[{id:r,subject:null!==(t=null==i?void 0:i.subject)&&void 0!==t?t:""}]}))}));return function(){return e.apply(this,arguments)}}())),n}))).apply(this,arguments)}function b(){return(b=(0,o.default)((function*(e,t){const{chatId:n}=e,r=yield(0,_.getGroupMetadata)(n);if(!0===(null==r?void 0:r.isParentGroup)&&(0,c.communitiesEnabled)()){const r=yield(0,d.getDefaultSubgroup)(n);if(r&&(t.actionType===f.GROUP_ACTIONS.DESC_ADD||t.actionType===f.GROUP_ACTIONS.DESC_REMOVE))return C((0,i.default)((0,i.default)({},e),{},{chatId:r}),(0,i.default)((0,i.default)({},t),{},{isParentGroup:!0}))}return C(e,t)}))).apply(this,arguments)}function M(){return(M=(0,o.default)((function*(e,t){const{chatId:n}=e,r=yield(0,d.getDefaultSubgroup)(n);if(!r)return;const o=yield(0,p.getParticipants)(r);return Boolean(null==o?void 0:o.participants.find((e=>(0,h.isMeAccount)((0,S.createWid)(e)))))?C((0,i.default)((0,i.default)({},e),{},{chatId:r}),t):void 0}))).apply(this,arguments)}function R(e,t){var n,r;let i=null!==(n=e.externalId)&&void 0!==n?n:A.default.newId_DEPRECATED();return null!=t&&(i=`${i}${t}`),`${i}${null!==(r=e.ts)&&void 0!==r?r:""}`}function D(){return L.apply(this,arguments)}function L(){return(L=(0,o.default)((function*(e,t,n){const r=yield function(){return a.apply(this,arguments)}(e.chatId);return C((0,i.default)((0,i.default)({},e),{},{isAdmin:n}),{actionType:f.GROUP_ACTIONS.PARENT_GROUP_LINK_MEMBERSHIP_APPROVAL,membershipApprovalMode:r,groupDatas:t});function a(){return(a=(0,o.default)((function*(e){var t;const n=yield(0,_.getGroupMetadata)(e);return null!==(t=null==n?void 0:n.membershipApprovalMode)&&void 0!==t&&t}))).apply(this,arguments)}}))).apply(this,arguments)}},63118:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(a.default.isPSA(e))return(0,i.genEncryptNotificationMsg)(e,"chat_psa");if(e.isBot())return(0,i.genBotSystemMsg)(e);switch((0,o.getReducedPrivacyMode)(t)){case o.ReducedPrivacyMode.E2EE:return(0,i.genEncryptNotificationMsg)(e);case o.ReducedPrivacyMode.BSP:return(0,i.genNonE2ENotificationMsg)(e,"biz_privacy_mode_init_bsp");case o.ReducedPrivacyMode.FB:return(0,i.genNonE2ENotificationMsg)(e,"biz_privacy_mode_init_fb")}};var i=n(45218),o=n(60019),a=r(n(27112))},21132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderEphemeralExemptionSystemMsg=function(e){return(0,r.genNotificationMsg)(e,{type:"notification_template",subtype:"order_ephemeral_exemption",templateParams:[]})};var r=n(45218)},60019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReducedPrivacyMode=void 0,t.comparePrivacyMode=function(e,t){if(null==e&&null==t)return 0;if(null==t)return 1;if(null==e)return-1;return e.privacyModeTs-t.privacyModeTs},t.getLatestPrivacyMode=function(e,t){if(null==e)return t;if(null==t)return e;return e.privacyModeTs>t.privacyModeTs?e:t},t.getPrivacyModeFromQueryExistResponse=function(e){var t;const n=null===(t=e.bizInfo)||void 0===t?void 0:t.verifiedName;if(null==n)return null;return e.biz&&!0===n.isApi?n.privacyMode:null},t.getReducedPrivacyMode=function(e){if(null==e||e.actualActors===r.ActualActorsEnumType.Self&&e.hostStorage===r.HostStorageEnumType.OnPremise)return i.E2EE;if(e.hostStorage===r.HostStorageEnumType.Facebook)return i.FB;return i.BSP};var r=n(12987);const i=n(76672).Mirrored(["E2EE","BSP","FB"]);t.ReducedPrivacyMode=i},25206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version=t.SANITIZED_VERSION_STR=void 0,t.sanitizeVersionStr=s;var r=n(66911),i=n(28123);class o extends((0,r.customError)("InvalidVersion")){}class a{constructor(e){const t=e.split(".");if(3!==t.length)throw new o("Version format does not contain 3 numbers.");if(this.primary=Number.parseInt(t[0],10),this.secondary=Number.parseInt(t[1],10),this.tertiary=Number.parseInt(t[2],10),Number.isNaN(this.primary)||Number.isNaN(this.secondary)||Number.isNaN(this.tertiary))throw new o("Version contains a non-parseable string.")}lt(e){let t=e;return"string"==typeof t&&(t=new a(t)),this.primary<t.primary||this.primary===t.primary&&this.secondary<t.secondary||this.primary===t.primary&&this.secondary===t.secondary&&this.tertiary<t.tertiary}equals(e){let t=e;return!!t&&("string"==typeof t&&(t=new a(t)),this.primary===t.primary&&this.secondary===t.secondary&&this.tertiary===t.tertiary)}toString(){return`${this.primary}.${this.secondary}.${this.tertiary}`}}function s(e){return e.replace(/\.[di]$/,"")}t.Version=a;const l=s(i.VERSION_STR);t.SANITIZED_VERSION_STR=l},35894:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.dataURLtoBlob=function(e){const t=e.match(o);if(!t)throw(0,i.default)("invalid data URI");const n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),r=!!t[4],a=e.slice(t[0].length);let s;s=r?atob(a):decodeURIComponent(a);const l=new ArrayBuffer(s.length),c=new Uint8Array(l);for(let e=0;e<s.length;e+=1)c[e]=s.charCodeAt(e);return new Blob([c],{type:n})};var i=r(n(89482));const o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/},31565:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findLink=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=(0,o.findLink)(e,t);if(null==r)return;return c(r,n)},t.findLinks=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=(0,o.findLinks)(e,t);return r.map((e=>c(e,n)))},Object.defineProperty(t,"validateEmail",{enumerable:!0,get:function(){return o.validateEmail}});var i=r(n(81109)),o=n(50872),a=n(35685),s=n(96955),l=n(3885);function c(e,t){var n;const r=(0,l.getMaybeMeUser)();let o=null;if(t&&r){const n=t.isLid()?(0,s.toLidUserJid)(t.user):(0,s.toPhoneUserJid)(t.user);o=(0,a.findSuspiciousCharacters)(e.domain,n,(0,s.toPhoneUserJid)(r.user),[])}return(0,i.default)((0,i.default)({},e),{},{suspiciousCharacters:null!==(n=o)&&void 0!==n?n:void 0})}},32890:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(88306)),o=r(n(2525)),a=n(62089),s=n(89323),l=n(13155),c=n(25303),u=n(35894),d=n(26086),_=r(n(14602)),p=n(95160),f=r(n(8575));const E=/^(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/,A="https://l.wl.co/l";var g={URL_REGEX:E,build(e,t){const n=new _.default;return(0,o.default)(t||{},((e,t)=>{n.set(t,e)})),`${e}?${n.toString()}`},canMuckHistory(){var e;return(0,p.isWorker)()?(__LOG__(4,void 0,new Error)`WAWebURLUtils: should not call canMuckHistory() from worker runtimes`,!1):!(!(null===(e=window.history)||void 0===e?void 0:e.pushState)||!self.location)},relToAbs(e){const t=new URL(self.location.href);return t.pathname=e,t.href},hostname:(0,i.default)((function(e){try{return new URL(this.isHttp(e)?e:"http://"+e).hostname}catch(e){return""}})),withoutWww:function(e){return e.split("www.").join("")},isHttp:e=>e&&("https://"===e.toLowerCase().substring(0,8)||"http://"===e.toLowerCase().substring(0,7)),isHttps:e=>e&&"https://"===e.toLowerCase().substring(0,8),hasValidUrlScheme(e){const t=e.trim();return["irc://","ftp://","mailto:","http://","https://","whatsapp://","ms-windows-store://"].some((e=>0===t.toLowerCase().indexOf(e)))},isBlob:e=>(0,c.isString)(e)&&"blob:"===e.substring(0,5),isData:e=>(0,c.isString)(e)&&"data:"===e.substring(0,5),parseDataURL(e){const t=e.indexOf(":"),n=e.indexOf(";"),r=e.indexOf(",");return{mimetype:e.substring(t+1,n),data:e.substring(r+1)}},dataURLtoFile(e){const t=this.parseDataURL(e).mimetype;return(0,d.createFile)([(0,u.dataURLtoBlob)(e)],"",{type:t})},GSM_NAME:"gme-whatsappinc",GSM_NUMS:"LM4NgcjF-X_EedaZ6MwPVSH0Sac=",gsmURL(e,t){const n=t.replace(/\-/g,"+").replace(/_/g,"/"),r=(0,a.decodeB64)(n),i=f.default.parse(e).path,o=s.Binary.build(i).readByteArray();return(0,l.hmacSha1)(r,o).then((t=>`${e}&signature=${(0,a.encodeB64UrlSafe)(t)}`))},thumbToCSSURL(e){return`url("${this.isHttp(e)||e.startsWith("data:")?e:`data:image/jpeg;base64,${e}`}")`},thumbAsBackgroundImage(e){return e?{backgroundImage:this.thumbToCSSURL(e)}:{}},isValid:e=>E.test(e),toMaliciousSiteRedirect:e=>""===e||0===e.indexOf(A)?e:`${A}?u=${encodeURIComponent(e)}`};t.default=g},15264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageChatTypeFromWid=function(e){if(e.isUser())return r.MESSAGE_CHAT_TYPE.INDIVIDUAL;if(e.isGroup())return r.MESSAGE_CHAT_TYPE.GROUP;if(e.isBroadcast())return r.MESSAGE_CHAT_TYPE.BROADCAST;if(e.isStatusV3())return r.MESSAGE_CHAT_TYPE.STATUS;if(e.isNewsletter())return r.MESSAGE_CHAT_TYPE.CHANNEL;return r.MESSAGE_CHAT_TYPE.OTHER};var r=n(8414)},50611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WAM_WORKER_DATA_BATCH_SIZE=t.WAM_ROTATE_INTERVAL_IN_SECONDS=t.WAM_PROTOCOL_VERSION=t.WAM_MAX_BUFFER_SIZE=t.PENDING_DELAY_IN_SECONDS=void 0;t.PENDING_DELAY_IN_SECONDS=10;t.WAM_MAX_BUFFER_SIZE=5e4;t.WAM_PROTOCOL_VERSION=5;t.WAM_ROTATE_INTERVAL_IN_SECONDS=300;t.WAM_WORKER_DATA_BATCH_SIZE=100},58669:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupTypeFromChatWid=function(){return s.apply(this,arguments)},t.isCagIncognitoFromChatWid=function(){return l.apply(this,arguments)},t.isCagIncognitoFromGroupMetadata=c;var i=r(n(48926)),o=n(22582),a=n(98051);function s(){return(s=(0,i.default)((function*(e){if(null!=e&&e.isGroup()){const t=yield(0,o.getGroupMetadata)(e);if(null!=t)return(0,a.groupTypeToWamEnum)((0,a.getGroupTypeFromGroupMetadata)(t))}}))).apply(this,arguments)}function l(){return(l=(0,i.default)((function*(e){const t=yield(0,o.getGroupMetadata)(e);return null==t?null:c(t)}))).apply(this,arguments)}function c(e){return(0,a.getGroupTypeFromGroupMetadata)(e)===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP&&!0===(null==e?void 0:e.incognito)}},98701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cacheGroupMetrics=function(e){if(null==e.participants||null==e.senderKey)return;o.set(e.groupId,Promise.resolve((0,i.getGroupMetricsFromDbRecord)(e)))},t.getGroupMetrics=function(e){if(!e.isGroup())return Promise.resolve(null);const t=e.toString();o.has(t)||o.set(t,function(e){return(0,r.getParticipantTable)().get(e).then((e=>e&&(0,i.getGroupMetricsFromDbRecord)(e))).catch((t=>{__LOG__(3)`_getGroupMetricsFromDb: failed to get for ${e}: ${t}`}))}(t));return o.get(t)||Promise.resolve(null)};var r=n(23440),i=n(75594);const o=new Map},75594:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.capCount=a,t.getGroupCountMetricsFromGroupMetadata=function(e){let t=Object.freeze({});const n=e.participants.length;null!=n&&(t=(0,i.default)({participantCount:a(n)},t));const r=e.cachedDeviceCount;null!=r&&(t=(0,i.default)({deviceCount:a(r)},t));return t},t.getGroupMetricsFromDbRecord=function(e){return{participantCount:a(e.participants.length),deviceCount:a(e.senderKey.size),deviceSizeBucket:(0,o.default)(e.senderKey.size)}};var i=r(n(81109)),o=r(n(26398));function a(e){return Math.max(e,32)}},65904:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logLoginSuccess=function(e){const t=new o.LoginWamEvent;return t.set({connectionOrigin:e,loginResult:a.LOGIN_RESULT_TYPE.OK,loginT:Math.floor(self.performance.now()-(0,i.default)(s,"loginStartT"))}),t.commitAndWaitForFlush()},t.markLoginStartT=function(){s=self.performance.now()};var i=r(n(49619)),o=n(33622),a=n(8414);let s},26398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e<32)return r.SIZE_BUCKET.LT32;if(e<64)return r.SIZE_BUCKET.LT64;if(e<128)return r.SIZE_BUCKET.LT128;if(e<256)return r.SIZE_BUCKET.LT256;if(e<512)return r.SIZE_BUCKET.LT512;if(e<1024)return r.SIZE_BUCKET.LT1024;if(e<1500)return r.SIZE_BUCKET.LT1500;if(e<2e3)return r.SIZE_BUCKET.LT2000;if(e<2500)return r.SIZE_BUCKET.LT2500;if(e<3e3)return r.SIZE_BUCKET.LT3000;if(e<3500)return r.SIZE_BUCKET.LT3500;if(e<4e3)return r.SIZE_BUCKET.LT4000;if(e<4500)return r.SIZE_BUCKET.LT4500;if(e<5e3)return r.SIZE_BUCKET.LT5000;return r.SIZE_BUCKET.LARGEST_BUCKET};var r=n(8414)},56203:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineResumeReporter=void 0,t.countDays=T,t.roundUp=S;var i=r(n(48926)),o=n(65982),a=n(44369),s=n(29987),l=n(83741),c=n(72406),u=n(75949),d=n(41307),_=n(62162),p=n(97023),f=n(56333),E=n(8414);const A=n(76672)({ResumeFromRestart:"ResumeFromRestart",ResumeFromOpentab:"ResumeFromOpentab"});class g{constructor(e){this._mode=e}start(){(0,l.getABPropConfigValue)("web_offline_resume_qpl_enabled")&&(this.drop(),this._qplEvent=_.QPL.markerStart(d.QuickLogMarkerId.OFFLINE_RESUME,{annotations:{string:{mode:A.getName(this._mode)}}}))}end(){var e;null===(e=this._qplEvent)||void 0===e||e.end(a.QuickLogActionType.SUCCESS)}drop(){var e;null===(e=this._qplEvent)||void 0===e||e.drop(),this._qplEvent=void 0}_addPoint(e,t){var n;const r=null!=t?{data:t}:{};null===(n=this._qplEvent)||void 0===n||n.addPoint(e,r)}markOfflinePreviewReceived(){this._addPoint("offlinePreviewReceived")}markMainScreenLoad(){this._addPoint("mainScreenLoad")}markSocketConnect(){this._addPoint("socketConnect")}setAnnotations(e){var t;null===(t=this._qplEvent)||void 0===t||t.annotate({int:{messageCount:e.messageCount,receiptCount:e.receiptCount,notificationCount:e.notificationCount,sizeBytes:e.sizeBytes,chatThreadCount:e.chatThreadCount,decryptErrorCount:e.decryptErrorCount}})}}class h{constructor(e){this._sessionId=this._generateOfflineSessionId(),this._offlineStartT=self.performance.now(),this._resuemMode=e}_generateOfflineSessionId(){return`${(0,o.randomHex)(4)}${(0,s.unixTimeWithoutClockSkewCorrection)()}`}_commitOfflineStage(e){const t=new c.OfflineResumeStageWamEvent({offlineSessionId:this._sessionId,offlineResumeMode:this._resuemMode===A.ResumeFromOpentab?E.OFFLINE_RESUME_MODES.RESUME_FROM_OPEN_TAB:E.OFFLINE_RESUME_MODES.RESUME_FROM_RESTART,offlineStageTimestampMs:Math.floor(self.performance.now()-this._offlineStartT),currentOfflineStage:e});this._addOfflineMetadata(t),t.commit()}logOfflineStart(){this._offlineStartT=self.performance.now()}logSocketConnect(){this._commitOfflineStage(E.OFFLINE_RESUME_STAGES.SOCKET_CONNECT)}logProcessComplete(){this._commitOfflineStage(E.OFFLINE_RESUME_STAGES.PROCESS_COMPLETE)}logScreenLoad(){this._commitOfflineStage(E.OFFLINE_RESUME_STAGES.SCREEN_LOAD)}logOfflinePreview(){this._commitOfflineStage(E.OFFLINE_RESUME_STAGES.OFFLINE_PREVIEW)}logOfflineCount(e){this._offlineMessageCount=(this._offlineMessageCount||0)+e.message,this._offlineReceiptCount=(this._offlineReceiptCount||0)+e.receipt,this._offlineNotificationCount=(this._offlineNotificationCount||0)+e.notification}logOfflineDecryptionErrorCount(e){this._offlineDecryptErrorCount=e}logOfflineChatThreadCount(e){this._chatThreadCount=e}logOldestStanzaTime(e){(null==this._oldestStanzaTs||this._oldestStanzaTs>e)&&(this._oldestStanzaTs=e)}setLastPushCompleteTimestamp(){return(0,p.getLastPushCompleteTimestamp)().then((e=>{this._lastPushCompleteTimestampMs=e}))}_addOfflineMetadata(e){null!=this._offlineMessageCount&&(e.offlineMessageCount=S(this._offlineMessageCount,10)),null!=this._offlineReceiptCount&&(e.offlineReceiptCount=S(this._offlineReceiptCount,10)),null!=this._offlineNotificationCount&&(e.offlineNotificationCount=S(this._offlineNotificationCount,10)),null!=this._oldestStanzaTs&&(e.mailboxAge=T(this._oldestStanzaTs)),null!=this._offlineDecryptErrorCount&&(e.offlineDecryptErrorCount=this._offlineDecryptErrorCount),null!=this._chatThreadCount&&(e.chatThreadCount=S(this._chatThreadCount,10)),null!=this._lastPushCompleteTimestampMs&&e.currentOfflineStage===E.OFFLINE_RESUME_STAGES.SOCKET_CONNECT&&(e.lastPushTimestampMs=this._lastPushCompleteTimestampMs,(0,p.clearLastPushCompleteTimestamp)(),this._lastPushCompleteTimestampMs=null)}}function S(e,t){return Math.round(e/t)*t}function T(e){if(0===e)return 0;const t=(0,s.unixTime)()-e;return Math.round(t/s.DAY_SECONDS)}const m=new class{constructor(){this._initEvent(A.ResumeFromRestart)}_initEvent(e){this.isInitialSync=!1,this.oldestStanzaTs=0,this.offlineResume=new u.OfflineResumeWamEvent,this.offlineResume.offlineMessageCount=0,this.offlineResume.offlineReceiptCount=0,this.offlineResume.offlineNotificationCount=0,this.offlineResume.offlineDecryptErrorCount=0,this.offlineResume.offlineSizeBytes=0,this.offlineResume.chatThreadCount=0,this.offlineResume.isOfflineCompleteMissed=!1,this.qpl=new g(e),this.offlineStage=new h(e)}logOldestStanzaTime(e){this.offlineStage.logOldestStanzaTime(e),null!=this.offlineResume&&(0===this.oldestStanzaTs||this.oldestStanzaTs>e)&&(this.oldestStanzaTs=e)}logOfflineCount(e){this.offlineStage.logOfflineCount(e),this.offlineStage.logOfflinePreview(),this.offlineResume&&(this.offlineResume.offlineMessageCount+=e.message,this.offlineResume.offlineReceiptCount+=e.receipt,this.offlineResume.offlineNotificationCount+=e.notification)}logOfflineDecryptionErrorCount(e){this.offlineStage.logOfflineDecryptionErrorCount(e),this.offlineResume&&(this.offlineResume.offlineDecryptErrorCount=e)}logAddOfflineSizeBytes(e){this.offlineResume&&(this.offlineResume.offlineSizeBytes+=e)}logOfflineChatThreadCount(e){this.offlineStage.logOfflineChatThreadCount(e);const t=S(e,10);this.offlineResume&&(this.offlineResume.chatThreadCount=t)}_logPerformanceT(e){const t=Math.floor(self.performance.now());null!=this.offlineResume&&(this.offlineResume[e]=t)}logLastStanzaT(){var e;null==(null===(e=this.offlineResume)||void 0===e?void 0:e.lastStanzaT)&&(this._logPerformanceT("lastStanzaT"),this.isInitialSync||this.offlineStage.logProcessComplete())}logMainScreenLoadT(){this._logPerformanceT("mainScreenLoadT"),this.qpl.markMainScreenLoad(),this.isInitialSync||this.offlineStage.logScreenLoad()}logOfflinePreviewT(){this._logPerformanceT("offlinePreviewT"),this.qpl.markOfflinePreviewReceived()}logOfflineStartT(){this.qpl.start(),this._logPerformanceT("pageLoadT"),this.offlineStage.logOfflineStart(),window.document&&this.offlineResume&&(this.offlineResume.isResumeInForeground=!document.hidden,document.addEventListener("visibilitychange",this.logResumeInBackground))}logSocketConnectT(){this._logPerformanceT("socketConnectT"),this.qpl.markSocketConnect(),this.isInitialSync||this.offlineStage.logSocketConnect()}logMissedOfflineComplete(){this.offlineResume&&(this.offlineResume.isOfflineCompleteMissed=!0)}setIsInitialSync(){this.isInitialSync=!0}logResumeInBackground(){this.offlineResume&&document.hidden&&(this.offlineResume.isResumeInForeground=!1)}setLastPushCompleteTimestamp(){return this.offlineStage.setLastPushCompleteTimestamp()}commit(){var e=this;return(0,i.default)((function*(){const t=e.offlineResume;t&&(t.offlineSizeBytes=S(t.offlineSizeBytes,1e3),t.offlineMessageCount=S(t.offlineMessageCount,10),t.offlineReceiptCount=S(t.offlineReceiptCount,10),t.offlineNotificationCount=S(t.offlineNotificationCount,10),t.mailboxAge=T(e.oldestStanzaTs),yield(0,f.setRecentMailboxAgeDays)(t.mailboxAge),__LOG__(2)`[offline-resume] offline resume completes
============== offline resume perf ================
message: ${t.offlineMessageCount}
receipt: ${t.offlineReceiptCount}
notification: ${t.offlineNotificationCount}
chatThreadCount: ${t.chatThreadCount}
offlineSizeBytes: ${t.offlineSizeBytes}
decryptError: ${t.offlineDecryptErrorCount}
lastStanzaT: ${t.lastStanzaT}
pageLoadT: ${t.pageLoadT}
connectionT: ${t.socketConnectT}
offlinePreviewT: ${t.offlinePreviewT}
screenLoadT: ${t.mainScreenLoadT}
isResumeInForeground: ${t.isResumeInForeground}
mailboxAge: ${t.mailboxAge}
===================================================`,e.isInitialSync?e.qpl.drop():(t.commit(),e.qpl.setAnnotations({messageCount:t.offlineMessageCount,receiptCount:t.offlineReceiptCount,notificationCount:t.offlineNotificationCount,chatThreadCount:t.chatThreadCount,decryptErrorCount:t.offlineDecryptErrorCount,sizeBytes:t.offlineSizeBytes}),e.qpl.end()),e.offlineResume=null,window.document&&document.removeEventListener("visibilitychange",e.logResumeInBackground))}))()}resetEvent(){null==this.offlineResume&&(this._initEvent(A.ResumeFromOpentab),this.logOfflineStartT())}};t.OfflineResumeReporter=m},72207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatMeasureLabel=l,t.startMeasure=function(e){if(!i.USER_TIMINGS)return o;if(!a)return o;const t=(s.get(e)||0)+1;s.set(e,t);const n=l(1===t?e:`${e} (${t})`),r=`${n}: Start`,c=`${n}: End`;self.performance.mark(r);let u=!1;return{end(){if(u)return;u=!0;const t=s.get(e)||0;t>1?s.set(e,t-1):s.delete(e),self.performance.mark(c),self.performance.measure(n,r,c)}}};var r,i=n(28123);const o={end(){}},a=(null===(r=self.performance)||void 0===r?void 0:r.mark)&&self.performance.measure,s=new Map;function l(e){return` ${e}`}},53559:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWamPlatform=function(){if((0,r.isCurrentWebSessionInsidePwa)())return"PWA";return"WEB"};var r=n(76704)},27931:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(50611),a=n(27482),s=r(n(62419)),l=r(n(89482));t.default=class{static add(e,t,n){return(0,i.default)((function*(){return(yield s.default.idb()).wam.add({key:e,buffer:n,channel:t},e).catch((e=>{__LOG__(2)`add failed: ${e}\n${null==e?void 0:e.stack}`}))}))()}static update(e,t,n){return(0,i.default)((function*(){let r=0;try{r=yield s.default.idb().then((r=>r.wam.update(e,{key:e,buffer:n,channel:t})))}catch(e){__LOG__(2)`update failed: ${e}\n${null==e?void 0:e.stack}`}return 0!==r}))()}static deleteAll(e){return(0,i.default)((function*(){const t={};try{yield s.default.idb().then((n=>n.wam.where("channel").equals(e).modify(((e,n)=>{t[e.key]=e.buffer,delete n.value}))))}catch(e){__LOG__(2)`deleteAll failed: ${e}\n${null==e?void 0:e.stack}`}return t}))()}static getNextSequenceNumberForStream(e){return(0,i.default)((function*(){let t=-1;try{const n=yield s.default.idb();yield n.transaction("rw",["wam_meta"],(0,i.default)((function*(){0===(yield n.wam_meta.where("streamId").equals(e).count())?(yield n.wam_meta.add({streamId:e,seqNum:1}),t=1):yield n.wam_meta.where("streamId").equals(e).modify((function(e){return t=e.seqNum+1,t>=65536&&(t=1),e.seqNum=t,e}))})))}catch(e){__LOG__(2)`getNextSequenceNumberForStream failed: ${e}\n${null==e?void 0:e.stack}`}if(-1===t)throw(0,l.default)(`could not get seq number for streamId ${e}`);return t}))()}static removePsMeta(e){return s.default.idb().then((t=>t.ps_meta.bulkDelete(e))).catch((e=>{__LOG__(2)`removePsMeta failed: ${e}\n${null==e?void 0:e.stack}`}))}static getPsMeta(){return s.default.idb().then((e=>e.ps_meta.toArray())).catch((e=>(__LOG__(2)`getPsMeta failed: ${e}\n${null==e?void 0:e.stack}`,[])))}static addPsMeta(e){return s.default.idb().then((t=>t.ps_meta.bulkPut(e))).catch((e=>{__LOG__(2)`addPsMeta failed: ${e}\n${null==e?void 0:e.stack}`}))}static updatePsMeta(e){return s.default.idb().then((t=>t.ps_meta.update(e.key,e))).catch((e=>{__LOG__(2)`updatePsMeta failed: ${e}\n${null==e?void 0:e.stack}`}))}static getPsToken(){return s.default.idb().then((e=>e.ps_tokens.get("token"))).catch((e=>{__LOG__(2)`getPsToken failed: ${e}\n${null==e?void 0:e.stack}`}))}static savePsToken(e){return s.default.idb().then((t=>t.transaction("rw",["ps_tokens"],(()=>t.ps_tokens.put(e))))).catch((e=>{__LOG__(2)`savePsToken failed: ${e}\n${null==e?void 0:e.stack}`}))}static addCoreWamBuffer(e,t){return(0,i.default)((function*(){const n=yield s.default.idb();return n.transaction("rw",["core_wam","core_wam_meta"],(()=>n.core_wam.put(t).then((()=>n.core_wam_meta.put(e)))))}))()}static finishAllCoreWamBuffers(e){return(0,i.default)((function*(){return(yield s.default.idb()).core_wam.where("streamId").equals(e).modify({finished:!0})}))()}static getCoreWamStartingSequenceNumber(e){return(0,i.default)((function*(){return(yield s.default.idb()).core_wam_meta.get({streamId:e})}))()}static getAllCoreWamBuffers(){return(0,i.default)((function*(){return(yield s.default.idb()).core_wam.toArray()}))()}static nukeAllCoreWamBuffers(){return(0,i.default)((function*(){const e=yield s.default.idb();return e.transaction("rw",["core_wam","core_wam_meta"],(()=>e.core_wam.clear().then((()=>e.core_wam_meta.clear()))))}))()}static removeWamBufferByKey(e){return(0,i.default)((function*(){return(yield s.default.idb()).core_wam.delete(e)}))()}static storeWorkerWamData(e){return(0,i.default)((function*(){const t=yield s.default.idb();return t.transaction("rw",["worker_wam_events"],(()=>t.worker_wam_events.put(e)))}))()}static processWorkerWamData(){return(0,i.default)((function*(){const e=yield s.default.idb();try{yield e.transaction("rw",["worker_wam_events"],(0,i.default)((function*(){yield e.worker_wam_events.limit(o.WAM_WORKER_DATA_BATCH_SIZE).modify(((e,t)=>{(0,a.processWorkerWamDataRow)(e),delete t.value}))})));return(yield e.worker_wam_events.count())>0}catch(e){return __LOG__(2)`processWorkerWamData failed: ${e}\n${null==e?void 0:e.stack}`,!1}}))()}}},33763:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHash=void 0,t.defineTypeHash=function(e,t,n){const r={$className:{value:e}};for(const n in t){let s=t[n];if("string"!=typeof s&&"function"!=typeof s||(s={type:s}),!s||"object"!=typeof s)throw(0,i.default)(`${e} specified with non-object ${s}`);r[n]={enumerable:!0,get:o(n),set:a(n,s)}}class s extends n{constructor(e){super(),this.all={},e&&this.set(e)}}return Object.defineProperties(s.prototype,r),s};var i=r(n(89482));function o(e){return function(){return this.all[e]}}function a(e,t){const n=t.type,r=t.set;return function(t){if(t!==this.all[e]){if(null==t);else if("function"==typeof n){if(!n(t))throw __LOG__(2)`type-validator fails ${t}`,new TypeError(`${this.$className}.${e} type-validator failed`)}else if(typeof t!==n)throw new TypeError(`${this.$className}.${e} requires type ${n}, got ${String(t)}`);r&&r.call(this,t),this.all[e]=t}}}t.TypeHash=class{set(e){for(const t in e)this[t]=e[t]}}},27482:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.forceFlushAllWamBuffers=function(){return(new _.WebWamForceFlushWamEvent).commitAndWaitForFlush(!0)},t.getAppBuild=function(){return u.APP_BUILD_TYPE.RELEASE},t.getAppIsBetaRelease=function(){return(0,s.getWhatsAppWebExternalBetaJoinedIdb)()},t.getChannelFromBufferKey=function(e){return"regular"===e?"regular":"private"},t.getWamEnv=function(){return u.WEBC_ENV_CODE.PROD},t.isWamBufferTooLong=function(e){let t=!0;try{const n=new o.Binary((0,i.decodeB64)(e));t=n.size()>c.WAM_MAX_BUFFER_SIZE}catch(e){__LOG__(4,void 0,new Error)`dropping invalid wam buffer`}return t},t.logPsIdUpdate=function(e,t,n){new a.PsIdUpdateWamEvent({psIdAction:e,psIdKey:t,psIdRotationFrequence:n}).commit()},t.maybeForwardWamAttributeToJestE2e=function(){},t.maybeForwardWamEventToJestE2e=function(){},t.processWorkerWamDataRow=function(e){const{action:t,name:n,payload:r}=e;return"commit"===t?function(e,t){const n=JSON.parse(t),r=l.events[e];if(null==r)return __LOG__(4,void 0,new Error,!0)`WAM: commitWorkerWamEvent failed, ${e} is not defined`,void SEND_LOGS("wam-worker-event-undefined-error");new r(n).commit()}(n,r):function(e,t){const{value:n}=JSON.parse(t);d.Global.set({[e]:n})}(n,r)};r(n(81109));var i=n(62089),o=n(89323),a=n(58473),s=n(97023),l=n(76042),c=n(50611),u=n(8414),d=n(53047),_=n(22991);r(n(89482))},68231:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerOfflineResumeReporter=void 0;var i=r(n(48926)),o=n(65982),a=n(78494),s=n(29987),l=n(28123),c=n(95160),u=n(97023),d=n(56333),_=n(8414),p=n(56203),f=n(74012);const E=new class{constructor(){this._processingStageTimer=null,this._sessionId=this._generateOfflineSessionId(),this.pageLoadT=self.performance.now(),this._offlineMessageCount=0,this._offlineReceiptCount=0,this._offlineNotificationCount=0,this._oldestStanzaTs=0,this._offlineDecryptErrorCount=0,this._processedMessageCount=0,this._processedNotificationCount=0}_generateOfflineSessionId(){return`${(0,o.randomHex)(4)}${(0,s.unixTimeWithoutClockSkewCorrection)()}`}_commit(e,t){const n=new f.WebcOfflineNotificationProcessWamEvent({offlineProcessSessionId:this._sessionId,offlineProcessStageTimestampMs:t,currentOfflineProcessStage:e,swVersion:l.VERSION_BASE});e!==_.OFFLINE_PROCESS_STAGES.PROCESSING&&e!==_.OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE&&e!==_.OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED||this._addOfflineProcessMetadata(n),e===_.OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE||e===_.OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED?n.commitAndWaitForFlush(!0):n.commit()}_addOfflineProcessMetadata(e){var t,n,r,i;e.offlineProcessMessageCount=(0,p.roundUp)(null!==(t=this._processedMessageCount)&&void 0!==t?t:0,10),e.offlineProcessNotificationCount=(0,p.roundUp)(null!==(n=this._processedNotificationCount)&&void 0!==n?n:0,10),e.offlineProcessMailboxAge=(0,p.countDays)(null!==(r=this._oldestStanzaTs)&&void 0!==r?r:0),e.offlineProcessDecryptErrorCount=null!==(i=this._offlineDecryptErrorCount)&&void 0!==i?i:0}_refreshProcessingStage(){null==this._processingStageTimer&&(this._processingStageTimer=new a.ShiftTimer((()=>{if(this._currentStage!==_.OFFLINE_PROCESS_STAGES.PROCESSING)return;const e=Math.floor(self.performance.now()-this.pageLoadT);if(__LOG__(2)`[offline-resume][worker] worker offline processing progress updates
======= worker offline processing update ========
ProcessedMessage: ${this._processedMessageCount}
ProcessedNotification: ${this._processedNotificationCount}
currentProcessingT: ${e}
=================================================`,e>12e4)return __LOG__(4,void 0,new Error,!0)` [offline-resume][worker] worker offline processing takes too long`,void SEND_LOGS("worker-offline-process-takes-too-long");this._commit(_.OFFLINE_PROCESS_STAGES.PROCESSING,e),this._refreshProcessingStage()}))),this._processingStageTimer.onOrAfter(1e4)}_startProcessingStage(){var e;this._currentStage=_.OFFLINE_PROCESS_STAGES.PROCESSING,null===(e=this._processingStageTimer)||void 0===e||e.cancel(),this._refreshProcessingStage()}_printProcessingPerf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;__LOG__(2)`[offline-resume][worker] worker offline processing ends
========= worker offline processing perf ==========
message: ${this._offlineMessageCount}
receipt: ${this._offlineReceiptCount}
notification: ${this._offlineNotificationCount}
ProcessedMessage: ${this._processedMessageCount}
ProcessedNotification: ${this._processedNotificationCount}
decryptError: ${this._offlineDecryptErrorCount}
pageLoadT: 0
socketConnectT: ${this.socketConnectT}
offlinePreviewT: ${this.offlinePreviewT}
processCompleteT: ${this.processCompleteT}
mailboxAge: ${e}
isInterrupted: ${this._currentStage===_.OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED}
===================================================`}updateOldestStanzaTime(e){(null==this._oldestStanzaTs||this._oldestStanzaTs>e)&&(this._oldestStanzaTs=e)}updateOfflineCount(e){this._offlineMessageCount=e.message,this._offlineReceiptCount=e.receipt,this._offlineNotificationCount=e.notification}updateOfflineDecryptionErrorCount(e){this._offlineDecryptErrorCount=e}updateProcessedMessageCount(){(0,c.isWorker)()&&(this._processedMessageCount+=1)}updateProcessedNotificationCount(){(0,c.isWorker)()&&(this._processedNotificationCount+=1)}logWorkerInitialized(){this._currentStage=_.OFFLINE_PROCESS_STAGES.PAGE_LOAD,this._commit(_.OFFLINE_PROCESS_STAGES.PAGE_LOAD,0)}logSocketConnect(){this._currentStage=_.OFFLINE_PROCESS_STAGES.SOCKET_CONNECT;const e=Math.floor(self.performance.now()-this.pageLoadT);this.socketConnectT=e,this._commit(_.OFFLINE_PROCESS_STAGES.SOCKET_CONNECT,e)}logOfflinePreview(){this._currentStage=_.OFFLINE_PROCESS_STAGES.OFFLINE_PREVIEW;const e=Math.floor(self.performance.now()-this.pageLoadT);this.offlinePreviewT=e,this._commit(_.OFFLINE_PROCESS_STAGES.OFFLINE_PREVIEW,e),this._startProcessingStage()}logProcessComplete(){var e=this;return(0,i.default)((function*(){var t;if(e._currentStage===_.OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE||e._currentStage===_.OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED)return;e._currentStage=_.OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE,null===(t=e._processingStageTimer)||void 0===t||t.cancel(),e._processingStageTimer=null;const n=(0,p.countDays)(e._oldestStanzaTs);yield(0,d.setRecentMailboxAgeDays)(n);const r=Math.floor(self.performance.now()-e.pageLoadT);e.processCompleteT=r,e._printProcessingPerf(n),e._commit(_.OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE,r),(0,u.setLastPushCompleteTimestamp)((0,s.unixTimeMs)())}))()}logProcessInterrupted(){var e;if(null==this._currentStage||this._currentStage===_.OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE||this._currentStage===_.OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED)return;this._currentStage=_.OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED,null===(e=this._processingStageTimer)||void 0===e||e.cancel(),this._processingStageTimer=null;const t=Math.floor(self.performance.now()-this.pageLoadT);this.processCompleteT=t,this._printProcessingPerf(),this._commit(_.OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED,t)}};t.WorkerOfflineResumeReporter=E},8414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAT_ASSIGNMENT_ENTRY_POINT_TYPE=t.CHAT_ASSIGNMENT_CHAT_TYPE=t.CHAT_ASSIGNMENT_ACTION_TYPE=t.CHAT_ACTION_TYPE=t.CHAT_ACTION_ENTRY_POINT=t.CHAT_ACTION_CHAT_TYPE=t.CHATS_FOLDER_TYPE=t.CHANNEL_USER_TYPE=t.CHANNEL_ENTRY_POINT=t.CHANNEL_DIRECTORY_ENTRY_POINT=t.CHANNEL_DIRECTORY_ACTION=t.CHANNEL_ADMIN_ACTION=t.CATEGORY_TYPE=t.CATEGORY_BROWSING_ENTRY_POINT=t.CATALOG_VIEW_ACTION=t.CATALOG_ENTRY_POINT=t.CATALOG_BIZ_ACTION=t.CAROUSEL_MESSAGE_BUTTON_TYPE=t.CAROUSEL_MESSAGE_BUTTON_EVENT_TYPE=t.CAMERA_START_MODE_PARAMS=t.CAMERA_PREVIEW_MODE=t.CALL_WAKEUP_SOURCE=t.CALL_VIDEO_STATE=t.CALL_TRANSPORT_TYPE=t.CALL_TEST_INTEGER=t.CALL_TERM_REASON=t.CALL_STANZA_TYPE=t.CALL_SIDE=t.CALL_SETUP_ERROR_TYPE=t.CALL_RESULT_TYPE=t.CALL_RELAY_BIND_STATUS=t.CALL_NETWORK_MEDIUM=t.CALL_INITIATOR_TYPE=t.CALL_FROM_UI=t.CADMIN_DEMOTE_RESULT_TYPE=t.CADMIN_DEMOTE_ORIGIN_TYPE=t.BUSINESS_TYPE=t.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE=t.BUSINESS_TOOLS_ITEM_TYPE=t.BUSINESS_TOOLS_ENTRY_POINT_TYPE=t.BUSINESS_PROFILE_WEBSITE_SOURCE_TYPE=t.BUSINESS_PROFILE_VIEW_ACTION=t.BUSINESS_PROFILE_FIELD=t.BUSINESS_PROFILE_ENTRY_POINT=t.BUSINESS_PREVIEW_ACTION_TYPE=t.BUSINESS_INTERACTION_TARGET_SCREEN_TYPE=t.BUSINESS_INTERACTION_INTERNAL_ENTRY_POINT=t.BUSINESS_INTERACTION_ENTRY_POINT_SOURCE=t.BUSINESS_INTERACTION_ENTRY_POINT_APP=t.BUSINESS_INTERACTION_ACTION_TYPE=t.BUSINESS_HOME_DOT_STATUS=t.BOT_INTERACTION_STAGE=t.BOTTOM_SHEET_TYPES=t.BOTTOM_SHEET_OPERATIONS=t.BOOTSTRAP_APP_STATE_DATA_STAGE_CODE=t.BLOCK_REASON=t.BLOCK_EVENT_ACTION_TYPE=t.BLOCK_ENTRY_POINT=t.BIZ_VLEVEL=t.BIZ_TRUST_SIGNAL_DATA_SOURCE=t.BIZ_TRUST_SIGNAL_CARD_EVENT_TYPE=t.BIZ_TEMPLATE_BUTTON_TYPE=t.BIZ_TEMPLATE_BUTTON_EVENT_TYPE=t.BIZ_PLATFORM=t.BIZ_HOME_CARD_OPERATION=t.BIZ_DISPLAY_NAME_TYPE=t.BIZ_CATALOG_TYPE=t.BILLING_STATUS=t.BANNER_TYPES=t.BANNER_OPERATIONS=t.BANNER_ACTION_TYPE_ENUM=t.BACKUP_SCHEDULE=t.BACKUP_NETWORK_SETTING=t.BACKEND_STORE_TYPE=t.AUTO_REPLY_ACTION=t.AUTO_MUTE_ACTION_TYPE=t.AUDIO_OUTPUT_ROUTE=t.AUDIO_ENGINE_TYPE=t.AUDIENCE_TYPE=t.ATTACHMENT_TRAY_ACTION_TYPE=t.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=t.APP_BUILD_TYPE=t.APPLICATION_STATE=t.ANDROID_KEYSTORE_STATE_TYPE=t.ANDROID_CAMERA_API=t.ANDROID_CAMERA2_SUPPORT_LEVEL=t.AGENT_ENGAGEMENT_ENUM_TYPE=t.AGC_MODE=t.AEC_MODE=t.AD_CONTENT_RECOMMENDATION_TYPE=t.ADV_DECODE_PROTO_TYPE=t.ADV_DECODE_ERROR_TYPE=t.ADMIN_FLOW_TYPE=t.ACTIVE_TIME_AFTER_PAIRING=t.ACTION_SURFACE_ID_ENUM=t.ACTION_CONDUCTED=t.ACTION=t.ACE_SURVEY_USER_EVENT=t.ACE_SURVEY_TRIGGER=t.ACE_SURVEY_ENTRY_POINT=void 0,t.INLINE_VIDEO_TYPE=t.INLINE_VIDEO_CTA_CLICK=t.INIT_BWE_SOURCE=t.INCOMING_CALL_UI_ACTION_TYPE=t.HTTP_PROTOCOL_VERSION_TYPE=t.GROUP_TYPE_CLIENT=t.GROUP_ROLE_TYPE=t.GROUP_PROFILE_ACTION_TYPE=t.GROUP_JOIN_REQUEST_ACTION_TYPE=t.GROUP_INFO_SETTING_TYPE=t.GRAPHQL_REQUEST_RESULT=t.GRAPHQL_CATALOG_ENDPOINT=t.GIF_SEARCH_PROVIDER=t.GA_STATUS=t.FORCE_UPGRADE_USER_ACTION_TYPE_V2=t.FMX_EVENT=t.FMX_ENTRY_POINT=t.FIELD_STATS_ROW_TYPE=t.EXPIRY_REASON=t.EXPIRE_SURFACE_ID_ENUM=t.ERROR_TYPE=t.ERROR_REASON=t.EPHEMERAL_SETTING_ENTRY_POINT_TYPE=t.EPHEMERALITY_TRIGGER_ACTION_TYPE=t.EPHEMERALITY_INITIATOR_TYPE=t.ENVELOPE_STYLE=t.ENVELOPE_CLASS=t.ENTRY_POINT_CONVERSION_TYPE=t.ENTRY_POINT_CONVERSATION_INITIATED=t.ENTRY_POINT=t.END_CALL_CONFIRMATION_TYPE=t.EDIT_TYPE=t.EDIT_PROFILE_ACTION=t.E2E_SENDER_TYPE=t.E2E_FAILURE_REASON=t.E2E_DESTINATION=t.E2E_CIPHERTEXT_TYPE=t.E2EE_SIZE_BUCKET=t.DSM_ERROR=t.DOWNLOAD_QUALITY_TYPE=t.DOWNLOAD_ORIGIN_TYPE=t.DOCUMENT_TYPE=t.DNS_RESOLUTION_METHOD_TYPE=t.DM_SCREEN_ENTRY_POINT_TYPE=t.DM_CHAT_PICKER_EVENT_NAME_TYPE=t.DM_CHAT_PICKER_ENTRY_POINT_TYPE=t.DISCLOSURE_TYPE=t.DISCLOSURE_ACTION=t.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE=t.DISAPPEARING_MODE_ENTRY_POINT_TYPE=t.DISAPPEARING_CHAT_INITIATOR_TYPE=t.DEVICE_TYPE=t.DESTINATION=t.DELETE_SUSPENDED_GROUP_BTN=t.DELETE_ACTION_TYPE=t.DEEP_LINK_TYPE=t.DEEP_LINK_OPEN_FROM=t.DEEP_LINK_ACTION=t.CTWA_USER_JOURNEY_OPERATION_TYPE=t.CTWA_CONVERSION_TYPE=t.CTWA_CHAT_CREATION_MODE=t.CTA_TYPE=t.CTA_NAME=t.CTA_FALLBACK_REASON=t.CRASH_TYPE=t.COPY_CODE_BUTTON_EVENT_TYPE=t.CONTACT_US_EXIT_STATE=t.CONTACT_TYPE=t.CONTACT_SEND_CHANNEL=t.CONNECTION_TYPE=t.CONNECTION_SEQUENCE_STEP_TYPE=t.CONNECTION_ORIGIN_TYPE=t.COMMUNITY_UI_FEATURE_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_USER_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_RICH_MESSAGE_TYPE=t.COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE=t.COMMUNITY_CREATION_ENTRYPOINT_TYPE=t.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE=t.COMMUNITY_CREATION_ACTION_TAKEN_TYPE=t.COMMERCE_PERF_VIEW=t.COMMERCE_PERF_MARKER=t.COMMERCE_PERF_ENTRY_POINT=t.COMMERCE_ENTRY_POINT=t.COMMERCE_ACTION=t.COLLECTION=t.CLIENT_MESSAGE_SEND_STAGE=t.CLIENT_GROUP_SIZE_BUCKET=t.CLICK_TO_WHATSAPP_CALLING_BUTTON_PRIVATE=t.CLICK_TO_WHATSAPP_CALLING_ACTION_PRIVATE=t.CLICKABLE_EVENT=t.CHAT_TYPE=t.CHAT_SEARCH_RESULT_TYPE=t.CHAT_MUTE_NOTIFICATION_CHOICE=t.CHAT_MUTED_TYPE=t.CHAT_GATED_REASON=t.CHAT_FILTER_TYPES=t.CHAT_FILTER_TARGET_SCREEN=t.CHAT_FILTER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TARGETS=t.CHAT_ASSIGNMENT_ENTRY_POINT_TYPE=t.CHAT_ASSIGNMENT_CHAT_TYPE=t.CHAT_ASSIGNMENT_ACTION_TYPE=t.CHAT_ACTION_TYPE=t.CHAT_ACTION_ENTRY_POINT=t.CHAT_ACTION_CHAT_TYPE=t.CHATS_FOLDER_TYPE=t.CHANNEL_USER_TYPE=t.CHANNEL_ENTRY_POINT=t.CHANNEL_DIRECTORY_ENTRY_POINT=t.CHANNEL_DIRECTORY_ACTION=t.CHANNEL_ADMIN_ACTION=t.CATEGORY_TYPE=t.CATEGORY_BROWSING_ENTRY_POINT=t.CATALOG_VIEW_ACTION=t.CATALOG_ENTRY_POINT=t.CATALOG_BIZ_ACTION=t.CAROUSEL_MESSAGE_BUTTON_TYPE=t.CAROUSEL_MESSAGE_BUTTON_EVENT_TYPE=t.CAMERA_START_MODE_PARAMS=t.CAMERA_PREVIEW_MODE=t.CALL_WAKEUP_SOURCE=t.CALL_VIDEO_STATE=t.CALL_TRANSPORT_TYPE=t.CALL_TEST_INTEGER=t.CALL_TERM_REASON=t.CALL_STANZA_TYPE=t.CALL_SIDE=t.CALL_SETUP_ERROR_TYPE=t.CALL_RESULT_TYPE=t.CALL_RELAY_BIND_STATUS=t.CALL_NETWORK_MEDIUM=t.CALL_INITIATOR_TYPE=t.CALL_FROM_UI=t.CADMIN_DEMOTE_RESULT_TYPE=t.CADMIN_DEMOTE_ORIGIN_TYPE=t.BUSINESS_TYPE=t.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE=t.BUSINESS_TOOLS_ITEM_TYPE=t.BUSINESS_TOOLS_ENTRY_POINT_TYPE=t.BUSINESS_PROFILE_WEBSITE_SOURCE_TYPE=t.BUSINESS_PROFILE_VIEW_ACTION=t.BUSINESS_PROFILE_FIELD=t.BUSINESS_PROFILE_ENTRY_POINT=t.BUSINESS_PREVIEW_ACTION_TYPE=t.BUSINESS_INTERACTION_TARGET_SCREEN_TYPE=t.BUSINESS_INTERACTION_INTERNAL_ENTRY_POINT=t.BUSINESS_INTERACTION_ENTRY_POINT_SOURCE=t.BUSINESS_INTERACTION_ENTRY_POINT_APP=t.BUSINESS_INTERACTION_ACTION_TYPE=t.BUSINESS_HOME_DOT_STATUS=t.BOT_INTERACTION_STAGE=t.BOTTOM_SHEET_TYPES=t.BOTTOM_SHEET_OPERATIONS=t.BOOTSTRAP_APP_STATE_DATA_STAGE_CODE=t.BLOCK_REASON=t.BLOCK_EVENT_ACTION_TYPE=t.BLOCK_ENTRY_POINT=t.BIZ_VLEVEL=t.BIZ_TRUST_SIGNAL_DATA_SOURCE=t.BIZ_TRUST_SIGNAL_CARD_EVENT_TYPE=t.BIZ_TEMPLATE_BUTTON_TYPE=t.BIZ_TEMPLATE_BUTTON_EVENT_TYPE=t.BIZ_PLATFORM=t.BIZ_HOME_CARD_OPERATION=t.BIZ_DISPLAY_NAME_TYPE=t.BIZ_CATALOG_TYPE=t.BILLING_STATUS=t.BANNER_TYPES=t.BANNER_OPERATIONS=t.BANNER_ACTION_TYPE_ENUM=t.BACKUP_SCHEDULE=t.BACKUP_NETWORK_SETTING=t.BACKEND_STORE_TYPE=t.AUTO_REPLY_ACTION=t.AUTO_MUTE_ACTION_TYPE=t.AUDIO_OUTPUT_ROUTE=t.AUDIO_ENGINE_TYPE=t.AUDIENCE_TYPE=t.ATTACHMENT_TRAY_ACTION_TYPE=t.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=t.APP_BUILD_TYPE=t.APPLICATION_STATE=t.ANDROID_KEYSTORE_STATE_TYPE=t.ANDROID_CAMERA_API=t.ANDROID_CAMERA2_SUPPORT_LEVEL=t.AGENT_ENGAGEMENT_ENUM_TYPE=t.AGC_MODE=t.AEC_MODE=t.AD_CONTENT_RECOMMENDATION_TYPE=t.ADV_DECODE_PROTO_TYPE=t.ADV_DECODE_ERROR_TYPE=t.ADMIN_FLOW_TYPE=t.ACTIVE_TIME_AFTER_PAIRING=t.ACTION_SURFACE_ID_ENUM=t.ACTION_CONDUCTED=t.ACTION=t.ACE_SURVEY_USER_EVENT=t.ACE_SURVEY_TRIGGER=t.ACE_SURVEY_ENTRY_POINT=void 0,t.OTP_EVENT_TYPE=t.OTP_EVENT_SOURCE=t.OTP_ENTRY_POINT=t.ORDER_STATUS=t.ORDER_SIGNAL_TYPE=t.ORDER_DETAILS_CREATION_ACTION=t.OPTIMISTIC_FLAG_TYPE=t.ONBOARDING_ENTRY_POINT=t.OFFLINE_RESUME_STAGES=t.OFFLINE_RESUME_RESULT_TYPE=t.OFFLINE_RESUME_MODES=t.OFFLINE_PROCESS_STAGES=t.NS_MODE=t.NOTIFICATION_TYPE_ENUM=t.NOTIFICATION_SOURCE_TYPE=t.NOTIFICATION_SOUND_TONE=t.NOTIFICATION_SETTING_TYPE=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_3=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_2=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_1=t.NOTIFICATION_PREFERRED_LINK_TYPE=t.NOTIFICATION_DESTINATION_TYPE=t.NOTIFICATION_ACTION_TYPE=t.NOTICE_TYPE=t.NOTICE_TRIGGERED_BY=t.NETWORK_STACK_TYPE=t.MUTE_ENTRY_POINT=t.MUTE_CHAT_TYPE=t.MUTATION_COUNT_BUCKET=t.MULTIDEVICE_ACTION_TYPE=t.MISSING_PROTO_TYPE=t.MESSAGE_TYPE_CATEGORY=t.MESSAGE_TYPE=t.MESSAGE_SEND_RESULT_TYPE=t.MESSAGE_SECRET_ERROR_TYPE=t.MESSAGE_SECRET_ALLOWED_TYPE=t.MESSAGE_LEVEL_ACTION=t.MESSAGE_DROP_REASON_TYPE=t.MESSAGE_DISTRIBUTION_ENUM_TYPE=t.MESSAGE_CONTEXT_MENU_OPTION_TYPE=t.MESSAGE_CONTEXT_MENU_ACTION_TYPE=t.MESSAGE_CHAT_TYPE=t.MEDIA_UPLOAD_RESULT_TYPE=t.MEDIA_UPLOAD_MODE_TYPE=t.MEDIA_TYPE=t.MEDIA_QUALITY=t.MEDIA_PICKER_ORIGIN_TYPE=t.MEDIA_DOWNLOAD_RESULT_TYPE=t.MEDIA_DOWNLOAD_MODE_TYPE=t.MD_VALIDATION_WEB_PLATFORM=t.MD_VALIDATION_CALLER_CHANNEL=t.MD_SYNCD_FATAL_ERROR_SOURCE=t.MD_SYNCD_FATAL_ERROR_CODE=t.MD_SYNCD_CRITICAL_EVENT_CODE=t.MD_PUSHNAME_VALIDATION_STAGE_CODE=t.MD_LINK_DEVICE_COMPANION_STAGE=t.MD_HISTORY_SYNC_STATUS_RESULT=t.MD_FEATURE_CODE=t.MD_CHAT_ASSIGNMENT_SOURCE_TYPE=t.MD_CHAT_ASSIGNMENT_SECONDARY_ACTION_TYPE=t.MD_CHAT_ASSIGNMENT_CHAT_TYPE=t.MD_CHAT_ASSIGNMENT_ASSIGNMENT_TYPE=t.MD_BOOTSTRAP_STEP_RESULT=t.MD_BOOTSTRAP_SOURCE=t.MD_BOOTSTRAP_PAYLOAD_TYPE=t.MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE=t.MD_APP_STATE_KEY_ROTATION_REASON_CODE=t.MARKETING_OPT_OUT_EVENT_TYPE=t.MANAGE_ADS_ENTRY_POINT=t.LWI_SUB_ENTRY_POINT=t.LWI_SCREEN_REFERENCE=t.LWI_SCREEN_ACTION=t.LWI_ENTRY_POINT=t.LWI_DEFAULT_TARGETING_SPEC=t.LWI_CTWA_AD_STATUS_TYPE=t.LWI_CTWA_AD_CTA_TYPE=t.LWI_ALERT_REASON=t.LWI_AD_MEDIA_TYPE=t.LWI_ADS_IDENTITY_TYPE=t.LWI_ADS_CONTENT_TYPE=t.LOGIN_RESULT_TYPE=t.LOGIN_PORT_NUMBER=t.LOGIN_HOST_TYPE=t.LOGIN_DNS_RESOLVER_TYPE=t.LOCATION_STATUS=t.LOCATION_PERMISSION_PRE=t.LOCATION_PERMISSION_POST=t.LOADING_MESSAGE_TYPE_SHOWN=t.LABEL_TARGETS=t.LABEL_OPERATIONS=t.KIC_REQUEST_TYPE_TYPE=t.KIC_NUX_ACTION_NAME_TYPE=t.KIC_ERROR_CODE_TYPE=t.KIC_ENTRY_POINT_TYPE=t.KIC_ACTOR_TYPE=t.KIC_ACTION_TYPE=t.KIC_ACTION_NAME_TYPE=t.IN_APP_NOTIFICATION_ALERT_STYLE=t.INTERACTION_TYPE=t.INSIGHT_SCREEN_ACTION=t.INLINE_VIDEO_TYPE=t.INLINE_VIDEO_CTA_CLICK=t.INIT_BWE_SOURCE=t.INCOMING_CALL_UI_ACTION_TYPE=t.HTTP_PROTOCOL_VERSION_TYPE=t.GROUP_TYPE_CLIENT=t.GROUP_ROLE_TYPE=t.GROUP_PROFILE_ACTION_TYPE=t.GROUP_JOIN_REQUEST_ACTION_TYPE=t.GROUP_INFO_SETTING_TYPE=t.GRAPHQL_REQUEST_RESULT=t.GRAPHQL_CATALOG_ENDPOINT=t.GIF_SEARCH_PROVIDER=t.GA_STATUS=t.FORCE_UPGRADE_USER_ACTION_TYPE_V2=t.FMX_EVENT=t.FMX_ENTRY_POINT=t.FIELD_STATS_ROW_TYPE=t.EXPIRY_REASON=t.EXPIRE_SURFACE_ID_ENUM=t.ERROR_TYPE=t.ERROR_REASON=t.EPHEMERAL_SETTING_ENTRY_POINT_TYPE=t.EPHEMERALITY_TRIGGER_ACTION_TYPE=t.EPHEMERALITY_INITIATOR_TYPE=t.ENVELOPE_STYLE=t.ENVELOPE_CLASS=t.ENTRY_POINT_CONVERSION_TYPE=t.ENTRY_POINT_CONVERSATION_INITIATED=t.ENTRY_POINT=t.END_CALL_CONFIRMATION_TYPE=t.EDIT_TYPE=t.EDIT_PROFILE_ACTION=t.E2E_SENDER_TYPE=t.E2E_FAILURE_REASON=t.E2E_DESTINATION=t.E2E_CIPHERTEXT_TYPE=t.E2EE_SIZE_BUCKET=t.DSM_ERROR=t.DOWNLOAD_QUALITY_TYPE=t.DOWNLOAD_ORIGIN_TYPE=t.DOCUMENT_TYPE=t.DNS_RESOLUTION_METHOD_TYPE=t.DM_SCREEN_ENTRY_POINT_TYPE=t.DM_CHAT_PICKER_EVENT_NAME_TYPE=t.DM_CHAT_PICKER_ENTRY_POINT_TYPE=t.DISCLOSURE_TYPE=t.DISCLOSURE_ACTION=t.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE=t.DISAPPEARING_MODE_ENTRY_POINT_TYPE=t.DISAPPEARING_CHAT_INITIATOR_TYPE=t.DEVICE_TYPE=t.DESTINATION=t.DELETE_SUSPENDED_GROUP_BTN=t.DELETE_ACTION_TYPE=t.DEEP_LINK_TYPE=t.DEEP_LINK_OPEN_FROM=t.DEEP_LINK_ACTION=t.CTWA_USER_JOURNEY_OPERATION_TYPE=t.CTWA_CONVERSION_TYPE=t.CTWA_CHAT_CREATION_MODE=t.CTA_TYPE=t.CTA_NAME=t.CTA_FALLBACK_REASON=t.CRASH_TYPE=t.COPY_CODE_BUTTON_EVENT_TYPE=t.CONTACT_US_EXIT_STATE=t.CONTACT_TYPE=t.CONTACT_SEND_CHANNEL=t.CONNECTION_TYPE=t.CONNECTION_SEQUENCE_STEP_TYPE=t.CONNECTION_ORIGIN_TYPE=t.COMMUNITY_UI_FEATURE_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_USER_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_RICH_MESSAGE_TYPE=t.COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE=t.COMMUNITY_CREATION_ENTRYPOINT_TYPE=t.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE=t.COMMUNITY_CREATION_ACTION_TAKEN_TYPE=t.COMMERCE_PERF_VIEW=t.COMMERCE_PERF_MARKER=t.COMMERCE_PERF_ENTRY_POINT=t.COMMERCE_ENTRY_POINT=t.COMMERCE_ACTION=t.COLLECTION=t.CLIENT_MESSAGE_SEND_STAGE=t.CLIENT_GROUP_SIZE_BUCKET=t.CLICK_TO_WHATSAPP_CALLING_BUTTON_PRIVATE=t.CLICK_TO_WHATSAPP_CALLING_ACTION_PRIVATE=t.CLICKABLE_EVENT=t.CHAT_TYPE=t.CHAT_SEARCH_RESULT_TYPE=t.CHAT_MUTE_NOTIFICATION_CHOICE=t.CHAT_MUTED_TYPE=t.CHAT_GATED_REASON=t.CHAT_FILTER_TYPES=t.CHAT_FILTER_TARGET_SCREEN=t.CHAT_FILTER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TARGETS=t.CHAT_ASSIGNMENT_ENTRY_POINT_TYPE=t.CHAT_ASSIGNMENT_CHAT_TYPE=t.CHAT_ASSIGNMENT_ACTION_TYPE=t.CHAT_ACTION_TYPE=t.CHAT_ACTION_ENTRY_POINT=t.CHAT_ACTION_CHAT_TYPE=t.CHATS_FOLDER_TYPE=t.CHANNEL_USER_TYPE=t.CHANNEL_ENTRY_POINT=t.CHANNEL_DIRECTORY_ENTRY_POINT=t.CHANNEL_DIRECTORY_ACTION=t.CHANNEL_ADMIN_ACTION=t.CATEGORY_TYPE=t.CATEGORY_BROWSING_ENTRY_POINT=t.CATALOG_VIEW_ACTION=t.CATALOG_ENTRY_POINT=t.CATALOG_BIZ_ACTION=t.CAROUSEL_MESSAGE_BUTTON_TYPE=t.CAROUSEL_MESSAGE_BUTTON_EVENT_TYPE=t.CAMERA_START_MODE_PARAMS=t.CAMERA_PREVIEW_MODE=t.CALL_WAKEUP_SOURCE=t.CALL_VIDEO_STATE=t.CALL_TRANSPORT_TYPE=t.CALL_TEST_INTEGER=t.CALL_TERM_REASON=t.CALL_STANZA_TYPE=t.CALL_SIDE=t.CALL_SETUP_ERROR_TYPE=t.CALL_RESULT_TYPE=t.CALL_RELAY_BIND_STATUS=t.CALL_NETWORK_MEDIUM=t.CALL_INITIATOR_TYPE=t.CALL_FROM_UI=t.CADMIN_DEMOTE_RESULT_TYPE=t.CADMIN_DEMOTE_ORIGIN_TYPE=t.BUSINESS_TYPE=t.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE=t.BUSINESS_TOOLS_ITEM_TYPE=t.BUSINESS_TOOLS_ENTRY_POINT_TYPE=t.BUSINESS_PROFILE_WEBSITE_SOURCE_TYPE=t.BUSINESS_PROFILE_VIEW_ACTION=t.BUSINESS_PROFILE_FIELD=t.BUSINESS_PROFILE_ENTRY_POINT=t.BUSINESS_PREVIEW_ACTION_TYPE=t.BUSINESS_INTERACTION_TARGET_SCREEN_TYPE=t.BUSINESS_INTERACTION_INTERNAL_ENTRY_POINT=t.BUSINESS_INTERACTION_ENTRY_POINT_SOURCE=t.BUSINESS_INTERACTION_ENTRY_POINT_APP=t.BUSINESS_INTERACTION_ACTION_TYPE=t.BUSINESS_HOME_DOT_STATUS=t.BOT_INTERACTION_STAGE=t.BOTTOM_SHEET_TYPES=t.BOTTOM_SHEET_OPERATIONS=t.BOOTSTRAP_APP_STATE_DATA_STAGE_CODE=t.BLOCK_REASON=t.BLOCK_EVENT_ACTION_TYPE=t.BLOCK_ENTRY_POINT=t.BIZ_VLEVEL=t.BIZ_TRUST_SIGNAL_DATA_SOURCE=t.BIZ_TRUST_SIGNAL_CARD_EVENT_TYPE=t.BIZ_TEMPLATE_BUTTON_TYPE=t.BIZ_TEMPLATE_BUTTON_EVENT_TYPE=t.BIZ_PLATFORM=t.BIZ_HOME_CARD_OPERATION=t.BIZ_DISPLAY_NAME_TYPE=t.BIZ_CATALOG_TYPE=t.BILLING_STATUS=t.BANNER_TYPES=t.BANNER_OPERATIONS=t.BANNER_ACTION_TYPE_ENUM=t.BACKUP_SCHEDULE=t.BACKUP_NETWORK_SETTING=t.BACKEND_STORE_TYPE=t.AUTO_REPLY_ACTION=t.AUTO_MUTE_ACTION_TYPE=t.AUDIO_OUTPUT_ROUTE=t.AUDIO_ENGINE_TYPE=t.AUDIENCE_TYPE=t.ATTACHMENT_TRAY_ACTION_TYPE=t.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=t.APP_BUILD_TYPE=t.APPLICATION_STATE=t.ANDROID_KEYSTORE_STATE_TYPE=t.ANDROID_CAMERA_API=t.ANDROID_CAMERA2_SUPPORT_LEVEL=t.AGENT_ENGAGEMENT_ENUM_TYPE=t.AGC_MODE=t.AEC_MODE=t.AD_CONTENT_RECOMMENDATION_TYPE=t.ADV_DECODE_PROTO_TYPE=t.ADV_DECODE_ERROR_TYPE=t.ADMIN_FLOW_TYPE=t.ACTIVE_TIME_AFTER_PAIRING=t.ACTION_SURFACE_ID_ENUM=t.ACTION_CONDUCTED=t.ACTION=t.ACE_SURVEY_USER_EVENT=t.ACE_SURVEY_TRIGGER=t.ACE_SURVEY_ENTRY_POINT=void 0,t.SIGN_CREDENTIAL_RESULT=t.SIGNATURE_TYPE=t.SHOW_SURFACE_ID_ENUM=t.SHOPS_MANAGEMENT_ACTION=t.SHARE_BUSINESS_ACTION_TYPE=t.SHARE_BIZ_TOOLS_LINK_TYPE=t.SETTINGS_PAGE_TYPE=t.SETTINGS_ITEM_TYPE=t.SETTINGS_CLICK_ENTRY_POINT=t.SEND_MEDIA_TYPE_TYPE=t.SENDER_TYPE=t.SEARCH_VIEW_ACTION=t.SEARCH_ENTRY_POINT=t.ROOMS_ENTRY_POINT=t.REVOKE_TYPE=t.RETRY_REJECT_REASON=t.RESPONSE_TYPE=t.REPORT_TO_ADMIN_INTERACTION=t.RELIABILITY_ACTION_TYPE=t.RECEIPT_STANZA_STAGE=t.READ_SOURCE=t.READ_ENTRY_POINT=t.REACTION_ACTION_TYPE=t.RADIO_TYPE=t.QUICK_REPLY_TRANSCODE_RESULT=t.QUICK_REPLY_ORIGIN=t.QUICK_REPLY_ENTRY_POINT=t.QUICK_REPLY_ACTION=t.QUERY_TYPE=t.QBM_FLAG=t.PYTORCH_EDGE_LIB_LOAD_STATUS=t.PYTORCH_EDGE_LIB_LOAD_ERROR_CODE=t.PUSH_GHOST_CALL_REASON=t.PTT_TRIGGER_TYPE=t.PTT_STREAM_TYPE=t.PTT_SOURCE_TYPE=t.PTT_RESULT_TYPE=t.PTT_PLAYER_TYPE=t.PTT_PLAYBACK_SPEED_TYPE=t.PS_UPLOAD_REASON=t.PS_TOKEN_NOT_READY_REASON=t.PS_TEST_ENUM_FIELD=t.PS_ID_ACTION=t.PS_CRASH_TYPE=t.PS_BUFFER_UPLOAD_RESULT=t.PS_APP_LAUNCH_TYPE=t.PS_APP_LAUNCH_DESTINATION_TYPE=t.PSA_MESSAGE_REMOVE_ENTRY_POINT=t.PSA_MESSAGE_REMOVE_ACTION=t.PSA_MESSAGE_ACTION_TYPE=t.PSA_LINK_OPEN_RESULT=t.PSA_BLOCK_REASON=t.PROOF_TYPE=t.PROJECT_CODE=t.PROFILE_PICTURE_TYPE=t.PROFILE_ENTRY_POINT=t.PRIVACY_SETTINGS_VALUE_TYPE=t.PRIVACY_SETTINGS_CONTACTS_BUCKETS=t.PRIVACY_HIGHLIGHT_SURFACE_ENUM=t.PRIVACY_HIGHLIGHT_CATEGORY_ENUM=t.PRIVACY_CONTROL_ITEM_TYPE=t.PRIVACY_CONTROL_ENTRY_POINT_TYPE=t.PRIVACY_ALERT_CATEGORY=t.PRIVACY_ALERT_CASE=t.PRIMARY_IDENTITY_MISSING_PROTO_TYPE=t.PREKEYS_FETCH_CONTEXT=t.PREFERRED_LINK_TYPE=t.PRECISE_SIZE_BUCKET=t.POSTCODE_TYPE=t.POLL_ACTION_TYPE=t.PNH_MESSAGE_CHAT_PARTY=t.PNH_ENTRY_POINT_TYPE=t.PNH_CHAT_TYPE_TYPE=t.PNH_CAG_BANNER_ACTION_TYPE=t.PNH_ACTION_TYPE=t.PM_BUTTON_TYPE=t.PM_BUTTON_EVENT_TYPE=t.PLAYBACK_STATE_TYPE=t.PLAYBACK_ORIGIN_TYPE=t.PLATFORM_TYPE=t.PLACEHOLDER_TYPE=t.PLACEHOLDER_REASON_TYPE=t.PLACEHOLDER_POPULATION_TYPE=t.PLACEHOLDER_CHAT_TYPE=t.PLACEHOLDER_ACTION=t.PIN_IN_CHAT_TYPE=t.PIN_IN_CHAT_INTERACTION_TYPE=t.PHONE_NUM_HYPERLINK_ACTION_TYPE=t.PEER_DATA_RESPONSE_RESULT_TYPE=t.PEER_DATA_RESPONSE_APPLY_RESULT_TYPE=t.PEER_DATA_REQUEST_TYPE=t.PEER_CALL_NETWORK_MEDIUM=t.PAID_MESSAGES_ENTRY_POINT=t.PAID_MESSAGES_CAMPAIGN_SENT_ERROR_TYPE=t.PAID_MESSAGES_CAMPAIGN_SEND_STATUS=t.PAID_MESSAGES_ACTION=t.OWNER_TYPE=t.OVERALL_MEDIA_KEY_REUSE_TYPE=t.OVERALL_LAST_UPLOAD_RETRY_PHASE_TYPE=t.OTP_PRODUCT_TYPE=t.OTP_EVENT_TYPE=t.OTP_EVENT_SOURCE=t.OTP_ENTRY_POINT=t.ORDER_STATUS=t.ORDER_SIGNAL_TYPE=t.ORDER_DETAILS_CREATION_ACTION=t.OPTIMISTIC_FLAG_TYPE=t.ONBOARDING_ENTRY_POINT=t.OFFLINE_RESUME_STAGES=t.OFFLINE_RESUME_RESULT_TYPE=t.OFFLINE_RESUME_MODES=t.OFFLINE_PROCESS_STAGES=t.NS_MODE=t.NOTIFICATION_TYPE_ENUM=t.NOTIFICATION_SOURCE_TYPE=t.NOTIFICATION_SOUND_TONE=t.NOTIFICATION_SETTING_TYPE=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_3=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_2=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_1=t.NOTIFICATION_PREFERRED_LINK_TYPE=t.NOTIFICATION_DESTINATION_TYPE=t.NOTIFICATION_ACTION_TYPE=t.NOTICE_TYPE=t.NOTICE_TRIGGERED_BY=t.NETWORK_STACK_TYPE=t.MUTE_ENTRY_POINT=t.MUTE_CHAT_TYPE=t.MUTATION_COUNT_BUCKET=t.MULTIDEVICE_ACTION_TYPE=t.MISSING_PROTO_TYPE=t.MESSAGE_TYPE_CATEGORY=t.MESSAGE_TYPE=t.MESSAGE_SEND_RESULT_TYPE=t.MESSAGE_SECRET_ERROR_TYPE=t.MESSAGE_SECRET_ALLOWED_TYPE=t.MESSAGE_LEVEL_ACTION=t.MESSAGE_DROP_REASON_TYPE=t.MESSAGE_DISTRIBUTION_ENUM_TYPE=t.MESSAGE_CONTEXT_MENU_OPTION_TYPE=t.MESSAGE_CONTEXT_MENU_ACTION_TYPE=t.MESSAGE_CHAT_TYPE=t.MEDIA_UPLOAD_RESULT_TYPE=t.MEDIA_UPLOAD_MODE_TYPE=t.MEDIA_TYPE=t.MEDIA_QUALITY=t.MEDIA_PICKER_ORIGIN_TYPE=t.MEDIA_DOWNLOAD_RESULT_TYPE=t.MEDIA_DOWNLOAD_MODE_TYPE=t.MD_VALIDATION_WEB_PLATFORM=t.MD_VALIDATION_CALLER_CHANNEL=t.MD_SYNCD_FATAL_ERROR_SOURCE=t.MD_SYNCD_FATAL_ERROR_CODE=t.MD_SYNCD_CRITICAL_EVENT_CODE=t.MD_PUSHNAME_VALIDATION_STAGE_CODE=t.MD_LINK_DEVICE_COMPANION_STAGE=t.MD_HISTORY_SYNC_STATUS_RESULT=t.MD_FEATURE_CODE=t.MD_CHAT_ASSIGNMENT_SOURCE_TYPE=t.MD_CHAT_ASSIGNMENT_SECONDARY_ACTION_TYPE=t.MD_CHAT_ASSIGNMENT_CHAT_TYPE=t.MD_CHAT_ASSIGNMENT_ASSIGNMENT_TYPE=t.MD_BOOTSTRAP_STEP_RESULT=t.MD_BOOTSTRAP_SOURCE=t.MD_BOOTSTRAP_PAYLOAD_TYPE=t.MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE=t.MD_APP_STATE_KEY_ROTATION_REASON_CODE=t.MARKETING_OPT_OUT_EVENT_TYPE=t.MANAGE_ADS_ENTRY_POINT=t.LWI_SUB_ENTRY_POINT=t.LWI_SCREEN_REFERENCE=t.LWI_SCREEN_ACTION=t.LWI_ENTRY_POINT=t.LWI_DEFAULT_TARGETING_SPEC=t.LWI_CTWA_AD_STATUS_TYPE=t.LWI_CTWA_AD_CTA_TYPE=t.LWI_ALERT_REASON=t.LWI_AD_MEDIA_TYPE=t.LWI_ADS_IDENTITY_TYPE=t.LWI_ADS_CONTENT_TYPE=t.LOGIN_RESULT_TYPE=t.LOGIN_PORT_NUMBER=t.LOGIN_HOST_TYPE=t.LOGIN_DNS_RESOLVER_TYPE=t.LOCATION_STATUS=t.LOCATION_PERMISSION_PRE=t.LOCATION_PERMISSION_POST=t.LOADING_MESSAGE_TYPE_SHOWN=t.LABEL_TARGETS=t.LABEL_OPERATIONS=t.KIC_REQUEST_TYPE_TYPE=t.KIC_NUX_ACTION_NAME_TYPE=t.KIC_ERROR_CODE_TYPE=t.KIC_ENTRY_POINT_TYPE=t.KIC_ACTOR_TYPE=t.KIC_ACTION_TYPE=t.KIC_ACTION_NAME_TYPE=t.IN_APP_NOTIFICATION_ALERT_STYLE=t.INTERACTION_TYPE=t.INSIGHT_SCREEN_ACTION=t.INLINE_VIDEO_TYPE=t.INLINE_VIDEO_CTA_CLICK=t.INIT_BWE_SOURCE=t.INCOMING_CALL_UI_ACTION_TYPE=t.HTTP_PROTOCOL_VERSION_TYPE=t.GROUP_TYPE_CLIENT=t.GROUP_ROLE_TYPE=t.GROUP_PROFILE_ACTION_TYPE=t.GROUP_JOIN_REQUEST_ACTION_TYPE=t.GROUP_INFO_SETTING_TYPE=t.GRAPHQL_REQUEST_RESULT=t.GRAPHQL_CATALOG_ENDPOINT=t.GIF_SEARCH_PROVIDER=t.GA_STATUS=t.FORCE_UPGRADE_USER_ACTION_TYPE_V2=t.FMX_EVENT=t.FMX_ENTRY_POINT=t.FIELD_STATS_ROW_TYPE=t.EXPIRY_REASON=t.EXPIRE_SURFACE_ID_ENUM=t.ERROR_TYPE=t.ERROR_REASON=t.EPHEMERAL_SETTING_ENTRY_POINT_TYPE=t.EPHEMERALITY_TRIGGER_ACTION_TYPE=t.EPHEMERALITY_INITIATOR_TYPE=t.ENVELOPE_STYLE=t.ENVELOPE_CLASS=t.ENTRY_POINT_CONVERSION_TYPE=t.ENTRY_POINT_CONVERSATION_INITIATED=t.ENTRY_POINT=t.END_CALL_CONFIRMATION_TYPE=t.EDIT_TYPE=t.EDIT_PROFILE_ACTION=t.E2E_SENDER_TYPE=t.E2E_FAILURE_REASON=t.E2E_DESTINATION=t.E2E_CIPHERTEXT_TYPE=t.E2EE_SIZE_BUCKET=t.DSM_ERROR=t.DOWNLOAD_QUALITY_TYPE=t.DOWNLOAD_ORIGIN_TYPE=t.DOCUMENT_TYPE=t.DNS_RESOLUTION_METHOD_TYPE=t.DM_SCREEN_ENTRY_POINT_TYPE=t.DM_CHAT_PICKER_EVENT_NAME_TYPE=t.DM_CHAT_PICKER_ENTRY_POINT_TYPE=t.DISCLOSURE_TYPE=t.DISCLOSURE_ACTION=t.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE=t.DISAPPEARING_MODE_ENTRY_POINT_TYPE=t.DISAPPEARING_CHAT_INITIATOR_TYPE=t.DEVICE_TYPE=t.DESTINATION=t.DELETE_SUSPENDED_GROUP_BTN=t.DELETE_ACTION_TYPE=t.DEEP_LINK_TYPE=t.DEEP_LINK_OPEN_FROM=t.DEEP_LINK_ACTION=t.CTWA_USER_JOURNEY_OPERATION_TYPE=t.CTWA_CONVERSION_TYPE=t.CTWA_CHAT_CREATION_MODE=t.CTA_TYPE=t.CTA_NAME=t.CTA_FALLBACK_REASON=t.CRASH_TYPE=t.COPY_CODE_BUTTON_EVENT_TYPE=t.CONTACT_US_EXIT_STATE=t.CONTACT_TYPE=t.CONTACT_SEND_CHANNEL=t.CONNECTION_TYPE=t.CONNECTION_SEQUENCE_STEP_TYPE=t.CONNECTION_ORIGIN_TYPE=t.COMMUNITY_UI_FEATURE_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_USER_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_RICH_MESSAGE_TYPE=t.COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE=t.COMMUNITY_CREATION_ENTRYPOINT_TYPE=t.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE=t.COMMUNITY_CREATION_ACTION_TAKEN_TYPE=t.COMMERCE_PERF_VIEW=t.COMMERCE_PERF_MARKER=t.COMMERCE_PERF_ENTRY_POINT=t.COMMERCE_ENTRY_POINT=t.COMMERCE_ACTION=t.COLLECTION=t.CLIENT_MESSAGE_SEND_STAGE=t.CLIENT_GROUP_SIZE_BUCKET=t.CLICK_TO_WHATSAPP_CALLING_BUTTON_PRIVATE=t.CLICK_TO_WHATSAPP_CALLING_ACTION_PRIVATE=t.CLICKABLE_EVENT=t.CHAT_TYPE=t.CHAT_SEARCH_RESULT_TYPE=t.CHAT_MUTE_NOTIFICATION_CHOICE=t.CHAT_MUTED_TYPE=t.CHAT_GATED_REASON=t.CHAT_FILTER_TYPES=t.CHAT_FILTER_TARGET_SCREEN=t.CHAT_FILTER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TARGETS=t.CHAT_ASSIGNMENT_ENTRY_POINT_TYPE=t.CHAT_ASSIGNMENT_CHAT_TYPE=t.CHAT_ASSIGNMENT_ACTION_TYPE=t.CHAT_ACTION_TYPE=t.CHAT_ACTION_ENTRY_POINT=t.CHAT_ACTION_CHAT_TYPE=t.CHATS_FOLDER_TYPE=t.CHANNEL_USER_TYPE=t.CHANNEL_ENTRY_POINT=t.CHANNEL_DIRECTORY_ENTRY_POINT=t.CHANNEL_DIRECTORY_ACTION=t.CHANNEL_ADMIN_ACTION=t.CATEGORY_TYPE=t.CATEGORY_BROWSING_ENTRY_POINT=t.CATALOG_VIEW_ACTION=t.CATALOG_ENTRY_POINT=t.CATALOG_BIZ_ACTION=t.CAROUSEL_MESSAGE_BUTTON_TYPE=t.CAROUSEL_MESSAGE_BUTTON_EVENT_TYPE=t.CAMERA_START_MODE_PARAMS=t.CAMERA_PREVIEW_MODE=t.CALL_WAKEUP_SOURCE=t.CALL_VIDEO_STATE=t.CALL_TRANSPORT_TYPE=t.CALL_TEST_INTEGER=t.CALL_TERM_REASON=t.CALL_STANZA_TYPE=t.CALL_SIDE=t.CALL_SETUP_ERROR_TYPE=t.CALL_RESULT_TYPE=t.CALL_RELAY_BIND_STATUS=t.CALL_NETWORK_MEDIUM=t.CALL_INITIATOR_TYPE=t.CALL_FROM_UI=t.CADMIN_DEMOTE_RESULT_TYPE=t.CADMIN_DEMOTE_ORIGIN_TYPE=t.BUSINESS_TYPE=t.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE=t.BUSINESS_TOOLS_ITEM_TYPE=t.BUSINESS_TOOLS_ENTRY_POINT_TYPE=t.BUSINESS_PROFILE_WEBSITE_SOURCE_TYPE=t.BUSINESS_PROFILE_VIEW_ACTION=t.BUSINESS_PROFILE_FIELD=t.BUSINESS_PROFILE_ENTRY_POINT=t.BUSINESS_PREVIEW_ACTION_TYPE=t.BUSINESS_INTERACTION_TARGET_SCREEN_TYPE=t.BUSINESS_INTERACTION_INTERNAL_ENTRY_POINT=t.BUSINESS_INTERACTION_ENTRY_POINT_SOURCE=t.BUSINESS_INTERACTION_ENTRY_POINT_APP=t.BUSINESS_INTERACTION_ACTION_TYPE=t.BUSINESS_HOME_DOT_STATUS=t.BOT_INTERACTION_STAGE=t.BOTTOM_SHEET_TYPES=t.BOTTOM_SHEET_OPERATIONS=t.BOOTSTRAP_APP_STATE_DATA_STAGE_CODE=t.BLOCK_REASON=t.BLOCK_EVENT_ACTION_TYPE=t.BLOCK_ENTRY_POINT=t.BIZ_VLEVEL=t.BIZ_TRUST_SIGNAL_DATA_SOURCE=t.BIZ_TRUST_SIGNAL_CARD_EVENT_TYPE=t.BIZ_TEMPLATE_BUTTON_TYPE=t.BIZ_TEMPLATE_BUTTON_EVENT_TYPE=t.BIZ_PLATFORM=t.BIZ_HOME_CARD_OPERATION=t.BIZ_DISPLAY_NAME_TYPE=t.BIZ_CATALOG_TYPE=t.BILLING_STATUS=t.BANNER_TYPES=t.BANNER_OPERATIONS=t.BANNER_ACTION_TYPE_ENUM=t.BACKUP_SCHEDULE=t.BACKUP_NETWORK_SETTING=t.BACKEND_STORE_TYPE=t.AUTO_REPLY_ACTION=t.AUTO_MUTE_ACTION_TYPE=t.AUDIO_OUTPUT_ROUTE=t.AUDIO_ENGINE_TYPE=t.AUDIENCE_TYPE=t.ATTACHMENT_TRAY_ACTION_TYPE=t.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=t.APP_BUILD_TYPE=t.APPLICATION_STATE=t.ANDROID_KEYSTORE_STATE_TYPE=t.ANDROID_CAMERA_API=t.ANDROID_CAMERA2_SUPPORT_LEVEL=t.AGENT_ENGAGEMENT_ENUM_TYPE=t.AGC_MODE=t.AEC_MODE=t.AD_CONTENT_RECOMMENDATION_TYPE=t.ADV_DECODE_PROTO_TYPE=t.ADV_DECODE_ERROR_TYPE=t.ADMIN_FLOW_TYPE=t.ACTIVE_TIME_AFTER_PAIRING=t.ACTION_SURFACE_ID_ENUM=t.ACTION_CONDUCTED=t.ACTION=t.ACE_SURVEY_USER_EVENT=t.ACE_SURVEY_TRIGGER=t.ACE_SURVEY_ENTRY_POINT=void 0,t.WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE=t.WEBC_MESSAGE_QUERY_DIRECTION=t.WEBC_MENU_TYPE=t.WEBC_MENU_ITEM_LABEL=t.WEBC_MEDIA_OPERATION_CODE=t.WEBC_MEDIA_LOAD_RESULT_CODE=t.WEBC_JOB_RESULT_TYPE_CODE=t.WEBC_ENV_CODE=t.WEBC_ELECTRON_DEPRECATION_CTA_TYPE=t.WEBC_ELECTRON_DEPRECATION_CTA_SOURCE=t.WEBC_ELECTRON_DEPRECATION_CTA_EVENT_TYPE=t.WEBC_DISPLAY_STATUS_TYPE=t.WEBC_CHAT_TYPE=t.WEBC_BUTTERBAR_BB_TYPE=t.WEBC_BUTTERBAR_ACTION_TYPE=t.WEBC_ASSET_CACHE_TYPE_CODE=t.WEBC_APPCACHE_STATUS_CODE=t.WA_VOIP_HISTORY_SAVE_CALL_RECORD_CONDITION_CHECK_STATUS=t.WA_VOIP_HISTORY_CALL_REDIAL_STATUS=t.WA_OFFICIAL_ACCOUNT_NAME=t.WAMEDIA_MP4OPS_VIDEO_STREAM_TYPE=t.WAMEDIA_MP4OPS_TYPE=t.WAMEDIA_MP4OPS_IMPL_ENUM=t.WAMEDIA_MP4OPS_FILE_TYPE=t.WAMEDIA_MP4OPS_AUDIO_STREAM_TYPE=t.WAMEDIA_MP4OPS_AUDIO_STREAM_SUBTYPE=t.WAMEDIA_IMGOPS_TYPE=t.WAMEDIA_IMGOPS_IMPL=t.WAMEDIA_IMGOPS_FILE_TYPE=t.VPX_LIB=t.VO_SS_ACTION=t.VO_MESSAGE_TYPE=t.VOIP_SETTING_RELEASE_TYPE=t.VNAME_CERT_HEALTH_EVENT_TYPE=t.VIEW_BUSINESS_PROFILE_ACTION=t.VIEW_ACTION=t.VIDEO_TRANSCODER_TARGET_FORMAT_TYPE=t.VIDEO_TRANSCODER_SOURCE_FORMAT_TYPE=t.VIDEO_TRANSCODER_RESULT_TYPE=t.VIDEO_TRANSCODER_ALGORITHM_TYPE=t.VERIFY_POSTCODE_FAIL_REASON=t.VERIFICATION_STATE=t.VERIFICATION_RESULT=t.VALIDATION_STATUS=t.USER_ROLE_TYPE=t.USER_NOTICE_EVENT=t.USER_NOTICE_ERROR_EVENT=t.URL_STATUS_TYPE=t.URL_STATUS_CLICKED=t.UPLOAD_SOURCE_TYPE=t.UPLOAD_ORIGIN_TYPE=t.UI_USAGE_TYPE=t.UI_REVOKE_ACTION_TYPE=t.UI_MESSAGE_YOURSELF_FUNNEL_NAME=t.UI_MESSAGE_YOURSELF_ACTION_TYPE=t.UI_ACTION_TYPE=t.UI_ACTION_CHAT_TYPE=t.TYPE_OF_GROUP_ENUM=t.TS_SURFACE=t.TS_LOG_UPLOAD_RESULT=t.TS_EXTERNAL_EVENT_SOURCE=t.TRUST_SIGNAL_BUCKETS=t.TRUST_BANNER_ACTION=t.TRIGGER_TYPE=t.TRANSCRIPTION_RESULT=t.TRANSCRIPTION_REQUEST_TYPE=t.TRANSCRIPTION_LANGUAGE_TYPE=t.TOOLTIP_ACTION=t.THREAD_TYPE=t.THREAD_LEVEL_ACTION=t.THREAD_ACTION_ENTRY_POINT=t.TEMPLATE_COMPONENT=t.SW_AEC_TYPE=t.SURFACE_TYPE=t.SUBSCRIPTION_TYPE=t.SUBSCRIPTION_ERROR_TYPE=t.SUBSCRIPTION_ENTRY_POINT=t.SUBSCRIPTION_APP_STORE_RESULT=t.SUBSCRIBER_TYPE=t.STRUCTURED_MESSAGE_CLASS=t.STRAWBERRY_ACTION_TYPE=t.STICKER_SEND_ORIGIN_TYPE=t.STICKER_SEND_MESSAGE_TYPE=t.STATUS_VIEW_ENTRY_POINT=t.STATUS_VIEWER_TRAFFIC_ACTION_TYPE=t.STATUS_VIEWER_NON_TRAFFIC_ACTION_TYPE=t.STATUS_TYPE_MEDIA=t.STATUS_ROW_SECTION=t.STATUS_ROW_ENTRY_METHOD=t.STATUS_REPORT_INTERACTION=t.STATUS_REPLY_RESULT=t.STATUS_REPLY_MESSAGE_TYPE=t.STATUS_ITEM_VIEW_RESULT=t.STANZA_TYPE=t.SRTP_LIBRARY_VERSION=t.SNACKBAR_ACTION_TYPE=t.SMB_ONBOARDING_STEP_TYPE=t.SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT=t.SMB_DATA_SHARING_CONSENT_SCREEN_TYPE=t.SIZE_BUCKET=t.SIGN_CREDENTIAL_RESULT=t.SIGNATURE_TYPE=t.SHOW_SURFACE_ID_ENUM=t.SHOPS_MANAGEMENT_ACTION=t.SHARE_BUSINESS_ACTION_TYPE=t.SHARE_BIZ_TOOLS_LINK_TYPE=t.SETTINGS_PAGE_TYPE=t.SETTINGS_ITEM_TYPE=t.SETTINGS_CLICK_ENTRY_POINT=t.SEND_MEDIA_TYPE_TYPE=t.SENDER_TYPE=t.SEARCH_VIEW_ACTION=t.SEARCH_ENTRY_POINT=t.ROOMS_ENTRY_POINT=t.REVOKE_TYPE=t.RETRY_REJECT_REASON=t.RESPONSE_TYPE=t.REPORT_TO_ADMIN_INTERACTION=t.RELIABILITY_ACTION_TYPE=t.RECEIPT_STANZA_STAGE=t.READ_SOURCE=t.READ_ENTRY_POINT=t.REACTION_ACTION_TYPE=t.RADIO_TYPE=t.QUICK_REPLY_TRANSCODE_RESULT=t.QUICK_REPLY_ORIGIN=t.QUICK_REPLY_ENTRY_POINT=t.QUICK_REPLY_ACTION=t.QUERY_TYPE=t.QBM_FLAG=t.PYTORCH_EDGE_LIB_LOAD_STATUS=t.PYTORCH_EDGE_LIB_LOAD_ERROR_CODE=t.PUSH_GHOST_CALL_REASON=t.PTT_TRIGGER_TYPE=t.PTT_STREAM_TYPE=t.PTT_SOURCE_TYPE=t.PTT_RESULT_TYPE=t.PTT_PLAYER_TYPE=t.PTT_PLAYBACK_SPEED_TYPE=t.PS_UPLOAD_REASON=t.PS_TOKEN_NOT_READY_REASON=t.PS_TEST_ENUM_FIELD=t.PS_ID_ACTION=t.PS_CRASH_TYPE=t.PS_BUFFER_UPLOAD_RESULT=t.PS_APP_LAUNCH_TYPE=t.PS_APP_LAUNCH_DESTINATION_TYPE=t.PSA_MESSAGE_REMOVE_ENTRY_POINT=t.PSA_MESSAGE_REMOVE_ACTION=t.PSA_MESSAGE_ACTION_TYPE=t.PSA_LINK_OPEN_RESULT=t.PSA_BLOCK_REASON=t.PROOF_TYPE=t.PROJECT_CODE=t.PROFILE_PICTURE_TYPE=t.PROFILE_ENTRY_POINT=t.PRIVACY_SETTINGS_VALUE_TYPE=t.PRIVACY_SETTINGS_CONTACTS_BUCKETS=t.PRIVACY_HIGHLIGHT_SURFACE_ENUM=t.PRIVACY_HIGHLIGHT_CATEGORY_ENUM=t.PRIVACY_CONTROL_ITEM_TYPE=t.PRIVACY_CONTROL_ENTRY_POINT_TYPE=t.PRIVACY_ALERT_CATEGORY=t.PRIVACY_ALERT_CASE=t.PRIMARY_IDENTITY_MISSING_PROTO_TYPE=t.PREKEYS_FETCH_CONTEXT=t.PREFERRED_LINK_TYPE=t.PRECISE_SIZE_BUCKET=t.POSTCODE_TYPE=t.POLL_ACTION_TYPE=t.PNH_MESSAGE_CHAT_PARTY=t.PNH_ENTRY_POINT_TYPE=t.PNH_CHAT_TYPE_TYPE=t.PNH_CAG_BANNER_ACTION_TYPE=t.PNH_ACTION_TYPE=t.PM_BUTTON_TYPE=t.PM_BUTTON_EVENT_TYPE=t.PLAYBACK_STATE_TYPE=t.PLAYBACK_ORIGIN_TYPE=t.PLATFORM_TYPE=t.PLACEHOLDER_TYPE=t.PLACEHOLDER_REASON_TYPE=t.PLACEHOLDER_POPULATION_TYPE=t.PLACEHOLDER_CHAT_TYPE=t.PLACEHOLDER_ACTION=t.PIN_IN_CHAT_TYPE=t.PIN_IN_CHAT_INTERACTION_TYPE=t.PHONE_NUM_HYPERLINK_ACTION_TYPE=t.PEER_DATA_RESPONSE_RESULT_TYPE=t.PEER_DATA_RESPONSE_APPLY_RESULT_TYPE=t.PEER_DATA_REQUEST_TYPE=t.PEER_CALL_NETWORK_MEDIUM=t.PAID_MESSAGES_ENTRY_POINT=t.PAID_MESSAGES_CAMPAIGN_SENT_ERROR_TYPE=t.PAID_MESSAGES_CAMPAIGN_SEND_STATUS=t.PAID_MESSAGES_ACTION=t.OWNER_TYPE=t.OVERALL_MEDIA_KEY_REUSE_TYPE=t.OVERALL_LAST_UPLOAD_RETRY_PHASE_TYPE=t.OTP_PRODUCT_TYPE=t.OTP_EVENT_TYPE=t.OTP_EVENT_SOURCE=t.OTP_ENTRY_POINT=t.ORDER_STATUS=t.ORDER_SIGNAL_TYPE=t.ORDER_DETAILS_CREATION_ACTION=t.OPTIMISTIC_FLAG_TYPE=t.ONBOARDING_ENTRY_POINT=t.OFFLINE_RESUME_STAGES=t.OFFLINE_RESUME_RESULT_TYPE=t.OFFLINE_RESUME_MODES=t.OFFLINE_PROCESS_STAGES=t.NS_MODE=t.NOTIFICATION_TYPE_ENUM=t.NOTIFICATION_SOURCE_TYPE=t.NOTIFICATION_SOUND_TONE=t.NOTIFICATION_SETTING_TYPE=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_3=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_2=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_1=t.NOTIFICATION_PREFERRED_LINK_TYPE=t.NOTIFICATION_DESTINATION_TYPE=t.NOTIFICATION_ACTION_TYPE=t.NOTICE_TYPE=t.NOTICE_TRIGGERED_BY=t.NETWORK_STACK_TYPE=t.MUTE_ENTRY_POINT=t.MUTE_CHAT_TYPE=t.MUTATION_COUNT_BUCKET=t.MULTIDEVICE_ACTION_TYPE=t.MISSING_PROTO_TYPE=t.MESSAGE_TYPE_CATEGORY=t.MESSAGE_TYPE=t.MESSAGE_SEND_RESULT_TYPE=t.MESSAGE_SECRET_ERROR_TYPE=t.MESSAGE_SECRET_ALLOWED_TYPE=t.MESSAGE_LEVEL_ACTION=t.MESSAGE_DROP_REASON_TYPE=t.MESSAGE_DISTRIBUTION_ENUM_TYPE=t.MESSAGE_CONTEXT_MENU_OPTION_TYPE=t.MESSAGE_CONTEXT_MENU_ACTION_TYPE=t.MESSAGE_CHAT_TYPE=t.MEDIA_UPLOAD_RESULT_TYPE=t.MEDIA_UPLOAD_MODE_TYPE=t.MEDIA_TYPE=t.MEDIA_QUALITY=t.MEDIA_PICKER_ORIGIN_TYPE=t.MEDIA_DOWNLOAD_RESULT_TYPE=t.MEDIA_DOWNLOAD_MODE_TYPE=t.MD_VALIDATION_WEB_PLATFORM=t.MD_VALIDATION_CALLER_CHANNEL=t.MD_SYNCD_FATAL_ERROR_SOURCE=t.MD_SYNCD_FATAL_ERROR_CODE=t.MD_SYNCD_CRITICAL_EVENT_CODE=t.MD_PUSHNAME_VALIDATION_STAGE_CODE=t.MD_LINK_DEVICE_COMPANION_STAGE=t.MD_HISTORY_SYNC_STATUS_RESULT=t.MD_FEATURE_CODE=t.MD_CHAT_ASSIGNMENT_SOURCE_TYPE=t.MD_CHAT_ASSIGNMENT_SECONDARY_ACTION_TYPE=t.MD_CHAT_ASSIGNMENT_CHAT_TYPE=t.MD_CHAT_ASSIGNMENT_ASSIGNMENT_TYPE=t.MD_BOOTSTRAP_STEP_RESULT=t.MD_BOOTSTRAP_SOURCE=t.MD_BOOTSTRAP_PAYLOAD_TYPE=t.MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE=t.MD_APP_STATE_KEY_ROTATION_REASON_CODE=t.MARKETING_OPT_OUT_EVENT_TYPE=t.MANAGE_ADS_ENTRY_POINT=t.LWI_SUB_ENTRY_POINT=t.LWI_SCREEN_REFERENCE=t.LWI_SCREEN_ACTION=t.LWI_ENTRY_POINT=t.LWI_DEFAULT_TARGETING_SPEC=t.LWI_CTWA_AD_STATUS_TYPE=t.LWI_CTWA_AD_CTA_TYPE=t.LWI_ALERT_REASON=t.LWI_AD_MEDIA_TYPE=t.LWI_ADS_IDENTITY_TYPE=t.LWI_ADS_CONTENT_TYPE=t.LOGIN_RESULT_TYPE=t.LOGIN_PORT_NUMBER=t.LOGIN_HOST_TYPE=t.LOGIN_DNS_RESOLVER_TYPE=t.LOCATION_STATUS=t.LOCATION_PERMISSION_PRE=t.LOCATION_PERMISSION_POST=t.LOADING_MESSAGE_TYPE_SHOWN=t.LABEL_TARGETS=t.LABEL_OPERATIONS=t.KIC_REQUEST_TYPE_TYPE=t.KIC_NUX_ACTION_NAME_TYPE=t.KIC_ERROR_CODE_TYPE=t.KIC_ENTRY_POINT_TYPE=t.KIC_ACTOR_TYPE=t.KIC_ACTION_TYPE=t.KIC_ACTION_NAME_TYPE=t.IN_APP_NOTIFICATION_ALERT_STYLE=t.INTERACTION_TYPE=t.INSIGHT_SCREEN_ACTION=t.INLINE_VIDEO_TYPE=t.INLINE_VIDEO_CTA_CLICK=t.INIT_BWE_SOURCE=t.INCOMING_CALL_UI_ACTION_TYPE=t.HTTP_PROTOCOL_VERSION_TYPE=t.GROUP_TYPE_CLIENT=t.GROUP_ROLE_TYPE=t.GROUP_PROFILE_ACTION_TYPE=t.GROUP_JOIN_REQUEST_ACTION_TYPE=t.GROUP_INFO_SETTING_TYPE=t.GRAPHQL_REQUEST_RESULT=t.GRAPHQL_CATALOG_ENDPOINT=t.GIF_SEARCH_PROVIDER=t.GA_STATUS=t.FORCE_UPGRADE_USER_ACTION_TYPE_V2=t.FMX_EVENT=t.FMX_ENTRY_POINT=t.FIELD_STATS_ROW_TYPE=t.EXPIRY_REASON=t.EXPIRE_SURFACE_ID_ENUM=t.ERROR_TYPE=t.ERROR_REASON=t.EPHEMERAL_SETTING_ENTRY_POINT_TYPE=t.EPHEMERALITY_TRIGGER_ACTION_TYPE=t.EPHEMERALITY_INITIATOR_TYPE=t.ENVELOPE_STYLE=t.ENVELOPE_CLASS=t.ENTRY_POINT_CONVERSION_TYPE=t.ENTRY_POINT_CONVERSATION_INITIATED=t.ENTRY_POINT=t.END_CALL_CONFIRMATION_TYPE=t.EDIT_TYPE=t.EDIT_PROFILE_ACTION=t.E2E_SENDER_TYPE=t.E2E_FAILURE_REASON=t.E2E_DESTINATION=t.E2E_CIPHERTEXT_TYPE=t.E2EE_SIZE_BUCKET=t.DSM_ERROR=t.DOWNLOAD_QUALITY_TYPE=t.DOWNLOAD_ORIGIN_TYPE=t.DOCUMENT_TYPE=t.DNS_RESOLUTION_METHOD_TYPE=t.DM_SCREEN_ENTRY_POINT_TYPE=t.DM_CHAT_PICKER_EVENT_NAME_TYPE=t.DM_CHAT_PICKER_ENTRY_POINT_TYPE=t.DISCLOSURE_TYPE=t.DISCLOSURE_ACTION=t.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE=t.DISAPPEARING_MODE_ENTRY_POINT_TYPE=t.DISAPPEARING_CHAT_INITIATOR_TYPE=t.DEVICE_TYPE=t.DESTINATION=t.DELETE_SUSPENDED_GROUP_BTN=t.DELETE_ACTION_TYPE=t.DEEP_LINK_TYPE=t.DEEP_LINK_OPEN_FROM=t.DEEP_LINK_ACTION=t.CTWA_USER_JOURNEY_OPERATION_TYPE=t.CTWA_CONVERSION_TYPE=t.CTWA_CHAT_CREATION_MODE=t.CTA_TYPE=t.CTA_NAME=t.CTA_FALLBACK_REASON=t.CRASH_TYPE=t.COPY_CODE_BUTTON_EVENT_TYPE=t.CONTACT_US_EXIT_STATE=t.CONTACT_TYPE=t.CONTACT_SEND_CHANNEL=t.CONNECTION_TYPE=t.CONNECTION_SEQUENCE_STEP_TYPE=t.CONNECTION_ORIGIN_TYPE=t.COMMUNITY_UI_FEATURE_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_USER_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_RICH_MESSAGE_TYPE=t.COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE=t.COMMUNITY_CREATION_ENTRYPOINT_TYPE=t.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE=t.COMMUNITY_CREATION_ACTION_TAKEN_TYPE=t.COMMERCE_PERF_VIEW=t.COMMERCE_PERF_MARKER=t.COMMERCE_PERF_ENTRY_POINT=t.COMMERCE_ENTRY_POINT=t.COMMERCE_ACTION=t.COLLECTION=t.CLIENT_MESSAGE_SEND_STAGE=t.CLIENT_GROUP_SIZE_BUCKET=t.CLICK_TO_WHATSAPP_CALLING_BUTTON_PRIVATE=t.CLICK_TO_WHATSAPP_CALLING_ACTION_PRIVATE=t.CLICKABLE_EVENT=t.CHAT_TYPE=t.CHAT_SEARCH_RESULT_TYPE=t.CHAT_MUTE_NOTIFICATION_CHOICE=t.CHAT_MUTED_TYPE=t.CHAT_GATED_REASON=t.CHAT_FILTER_TYPES=t.CHAT_FILTER_TARGET_SCREEN=t.CHAT_FILTER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TARGETS=t.CHAT_ASSIGNMENT_ENTRY_POINT_TYPE=t.CHAT_ASSIGNMENT_CHAT_TYPE=t.CHAT_ASSIGNMENT_ACTION_TYPE=t.CHAT_ACTION_TYPE=t.CHAT_ACTION_ENTRY_POINT=t.CHAT_ACTION_CHAT_TYPE=t.CHATS_FOLDER_TYPE=t.CHANNEL_USER_TYPE=t.CHANNEL_ENTRY_POINT=t.CHANNEL_DIRECTORY_ENTRY_POINT=t.CHANNEL_DIRECTORY_ACTION=t.CHANNEL_ADMIN_ACTION=t.CATEGORY_TYPE=t.CATEGORY_BROWSING_ENTRY_POINT=t.CATALOG_VIEW_ACTION=t.CATALOG_ENTRY_POINT=t.CATALOG_BIZ_ACTION=t.CAROUSEL_MESSAGE_BUTTON_TYPE=t.CAROUSEL_MESSAGE_BUTTON_EVENT_TYPE=t.CAMERA_START_MODE_PARAMS=t.CAMERA_PREVIEW_MODE=t.CALL_WAKEUP_SOURCE=t.CALL_VIDEO_STATE=t.CALL_TRANSPORT_TYPE=t.CALL_TEST_INTEGER=t.CALL_TERM_REASON=t.CALL_STANZA_TYPE=t.CALL_SIDE=t.CALL_SETUP_ERROR_TYPE=t.CALL_RESULT_TYPE=t.CALL_RELAY_BIND_STATUS=t.CALL_NETWORK_MEDIUM=t.CALL_INITIATOR_TYPE=t.CALL_FROM_UI=t.CADMIN_DEMOTE_RESULT_TYPE=t.CADMIN_DEMOTE_ORIGIN_TYPE=t.BUSINESS_TYPE=t.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE=t.BUSINESS_TOOLS_ITEM_TYPE=t.BUSINESS_TOOLS_ENTRY_POINT_TYPE=t.BUSINESS_PROFILE_WEBSITE_SOURCE_TYPE=t.BUSINESS_PROFILE_VIEW_ACTION=t.BUSINESS_PROFILE_FIELD=t.BUSINESS_PROFILE_ENTRY_POINT=t.BUSINESS_PREVIEW_ACTION_TYPE=t.BUSINESS_INTERACTION_TARGET_SCREEN_TYPE=t.BUSINESS_INTERACTION_INTERNAL_ENTRY_POINT=t.BUSINESS_INTERACTION_ENTRY_POINT_SOURCE=t.BUSINESS_INTERACTION_ENTRY_POINT_APP=t.BUSINESS_INTERACTION_ACTION_TYPE=t.BUSINESS_HOME_DOT_STATUS=t.BOT_INTERACTION_STAGE=t.BOTTOM_SHEET_TYPES=t.BOTTOM_SHEET_OPERATIONS=t.BOOTSTRAP_APP_STATE_DATA_STAGE_CODE=t.BLOCK_REASON=t.BLOCK_EVENT_ACTION_TYPE=t.BLOCK_ENTRY_POINT=t.BIZ_VLEVEL=t.BIZ_TRUST_SIGNAL_DATA_SOURCE=t.BIZ_TRUST_SIGNAL_CARD_EVENT_TYPE=t.BIZ_TEMPLATE_BUTTON_TYPE=t.BIZ_TEMPLATE_BUTTON_EVENT_TYPE=t.BIZ_PLATFORM=t.BIZ_HOME_CARD_OPERATION=t.BIZ_DISPLAY_NAME_TYPE=t.BIZ_CATALOG_TYPE=t.BILLING_STATUS=t.BANNER_TYPES=t.BANNER_OPERATIONS=t.BANNER_ACTION_TYPE_ENUM=t.BACKUP_SCHEDULE=t.BACKUP_NETWORK_SETTING=t.BACKEND_STORE_TYPE=t.AUTO_REPLY_ACTION=t.AUTO_MUTE_ACTION_TYPE=t.AUDIO_OUTPUT_ROUTE=t.AUDIO_ENGINE_TYPE=t.AUDIENCE_TYPE=t.ATTACHMENT_TRAY_ACTION_TYPE=t.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=t.APP_BUILD_TYPE=t.APPLICATION_STATE=t.ANDROID_KEYSTORE_STATE_TYPE=t.ANDROID_CAMERA_API=t.ANDROID_CAMERA2_SUPPORT_LEVEL=t.AGENT_ENGAGEMENT_ENUM_TYPE=t.AGC_MODE=t.AEC_MODE=t.AD_CONTENT_RECOMMENDATION_TYPE=t.ADV_DECODE_PROTO_TYPE=t.ADV_DECODE_ERROR_TYPE=t.ADMIN_FLOW_TYPE=t.ACTIVE_TIME_AFTER_PAIRING=t.ACTION_SURFACE_ID_ENUM=t.ACTION_CONDUCTED=t.ACTION=t.ACE_SURVEY_USER_EVENT=t.ACE_SURVEY_TRIGGER=t.ACE_SURVEY_ENTRY_POINT=void 0,t.XOR_CIPHER_MODE=t.XMPP_STATUS=t.WELCOME_MESSAGE_ERROR_TYPE=t.WELCOME_MESSAGE_ACTION_TYPE=t.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=t.WEBSITE_SOURCE_TYPE=t.WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE=t.WEBC_WEB_PLATFORM_TYPE=t.WEBC_STREAM_MODE_CODE=t.WEBC_STICKER_MAKER_EVENT_NAME_TYPE=t.WEBC_STATUS_ROW_SECTION=t.WEBC_STATUS_MEDIA_TYPE=t.WEBC_SCENARIO_TYPE=t.WEBC_RMR_REASON_CODE=t.WEBC_QUERY_TRIGGER_TYPE=t.WEBC_QPL_HEALTH_EVENT_TYPE=t.WEBC_PWA_ACTION_TYPE=t.WEBC_NAVIGATION_TYPE=t.WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE=t.WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE=t.WEBC_MESSAGE_QUERY_DIRECTION=t.WEBC_MENU_TYPE=t.WEBC_MENU_ITEM_LABEL=t.WEBC_MEDIA_OPERATION_CODE=t.WEBC_MEDIA_LOAD_RESULT_CODE=t.WEBC_JOB_RESULT_TYPE_CODE=t.WEBC_ENV_CODE=t.WEBC_ELECTRON_DEPRECATION_CTA_TYPE=t.WEBC_ELECTRON_DEPRECATION_CTA_SOURCE=t.WEBC_ELECTRON_DEPRECATION_CTA_EVENT_TYPE=t.WEBC_DISPLAY_STATUS_TYPE=t.WEBC_CHAT_TYPE=t.WEBC_BUTTERBAR_BB_TYPE=t.WEBC_BUTTERBAR_ACTION_TYPE=t.WEBC_ASSET_CACHE_TYPE_CODE=t.WEBC_APPCACHE_STATUS_CODE=t.WA_VOIP_HISTORY_SAVE_CALL_RECORD_CONDITION_CHECK_STATUS=t.WA_VOIP_HISTORY_CALL_REDIAL_STATUS=t.WA_OFFICIAL_ACCOUNT_NAME=t.WAMEDIA_MP4OPS_VIDEO_STREAM_TYPE=t.WAMEDIA_MP4OPS_TYPE=t.WAMEDIA_MP4OPS_IMPL_ENUM=t.WAMEDIA_MP4OPS_FILE_TYPE=t.WAMEDIA_MP4OPS_AUDIO_STREAM_TYPE=t.WAMEDIA_MP4OPS_AUDIO_STREAM_SUBTYPE=t.WAMEDIA_IMGOPS_TYPE=t.WAMEDIA_IMGOPS_IMPL=t.WAMEDIA_IMGOPS_FILE_TYPE=t.VPX_LIB=t.VO_SS_ACTION=t.VO_MESSAGE_TYPE=t.VOIP_SETTING_RELEASE_TYPE=t.VNAME_CERT_HEALTH_EVENT_TYPE=t.VIEW_BUSINESS_PROFILE_ACTION=t.VIEW_ACTION=t.VIDEO_TRANSCODER_TARGET_FORMAT_TYPE=t.VIDEO_TRANSCODER_SOURCE_FORMAT_TYPE=t.VIDEO_TRANSCODER_RESULT_TYPE=t.VIDEO_TRANSCODER_ALGORITHM_TYPE=t.VERIFY_POSTCODE_FAIL_REASON=t.VERIFICATION_STATE=t.VERIFICATION_RESULT=t.VALIDATION_STATUS=t.USER_ROLE_TYPE=t.USER_NOTICE_EVENT=t.USER_NOTICE_ERROR_EVENT=t.URL_STATUS_TYPE=t.URL_STATUS_CLICKED=t.UPLOAD_SOURCE_TYPE=t.UPLOAD_ORIGIN_TYPE=t.UI_USAGE_TYPE=t.UI_REVOKE_ACTION_TYPE=t.UI_MESSAGE_YOURSELF_FUNNEL_NAME=t.UI_MESSAGE_YOURSELF_ACTION_TYPE=t.UI_ACTION_TYPE=t.UI_ACTION_CHAT_TYPE=t.TYPE_OF_GROUP_ENUM=t.TS_SURFACE=t.TS_LOG_UPLOAD_RESULT=t.TS_EXTERNAL_EVENT_SOURCE=t.TRUST_SIGNAL_BUCKETS=t.TRUST_BANNER_ACTION=t.TRIGGER_TYPE=t.TRANSCRIPTION_RESULT=t.TRANSCRIPTION_REQUEST_TYPE=t.TRANSCRIPTION_LANGUAGE_TYPE=t.TOOLTIP_ACTION=t.THREAD_TYPE=t.THREAD_LEVEL_ACTION=t.THREAD_ACTION_ENTRY_POINT=t.TEMPLATE_COMPONENT=t.SW_AEC_TYPE=t.SURFACE_TYPE=t.SUBSCRIPTION_TYPE=t.SUBSCRIPTION_ERROR_TYPE=t.SUBSCRIPTION_ENTRY_POINT=t.SUBSCRIPTION_APP_STORE_RESULT=t.SUBSCRIBER_TYPE=t.STRUCTURED_MESSAGE_CLASS=t.STRAWBERRY_ACTION_TYPE=t.STICKER_SEND_ORIGIN_TYPE=t.STICKER_SEND_MESSAGE_TYPE=t.STATUS_VIEW_ENTRY_POINT=t.STATUS_VIEWER_TRAFFIC_ACTION_TYPE=t.STATUS_VIEWER_NON_TRAFFIC_ACTION_TYPE=t.STATUS_TYPE_MEDIA=t.STATUS_ROW_SECTION=t.STATUS_ROW_ENTRY_METHOD=t.STATUS_REPORT_INTERACTION=t.STATUS_REPLY_RESULT=t.STATUS_REPLY_MESSAGE_TYPE=t.STATUS_ITEM_VIEW_RESULT=t.STANZA_TYPE=t.SRTP_LIBRARY_VERSION=t.SNACKBAR_ACTION_TYPE=t.SMB_ONBOARDING_STEP_TYPE=t.SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT=t.SMB_DATA_SHARING_CONSENT_SCREEN_TYPE=t.SIZE_BUCKET=t.SIGN_CREDENTIAL_RESULT=t.SIGNATURE_TYPE=t.SHOW_SURFACE_ID_ENUM=t.SHOPS_MANAGEMENT_ACTION=t.SHARE_BUSINESS_ACTION_TYPE=t.SHARE_BIZ_TOOLS_LINK_TYPE=t.SETTINGS_PAGE_TYPE=t.SETTINGS_ITEM_TYPE=t.SETTINGS_CLICK_ENTRY_POINT=t.SEND_MEDIA_TYPE_TYPE=t.SENDER_TYPE=t.SEARCH_VIEW_ACTION=t.SEARCH_ENTRY_POINT=t.ROOMS_ENTRY_POINT=t.REVOKE_TYPE=t.RETRY_REJECT_REASON=t.RESPONSE_TYPE=t.REPORT_TO_ADMIN_INTERACTION=t.RELIABILITY_ACTION_TYPE=t.RECEIPT_STANZA_STAGE=t.READ_SOURCE=t.READ_ENTRY_POINT=t.REACTION_ACTION_TYPE=t.RADIO_TYPE=t.QUICK_REPLY_TRANSCODE_RESULT=t.QUICK_REPLY_ORIGIN=t.QUICK_REPLY_ENTRY_POINT=t.QUICK_REPLY_ACTION=t.QUERY_TYPE=t.QBM_FLAG=t.PYTORCH_EDGE_LIB_LOAD_STATUS=t.PYTORCH_EDGE_LIB_LOAD_ERROR_CODE=t.PUSH_GHOST_CALL_REASON=t.PTT_TRIGGER_TYPE=t.PTT_STREAM_TYPE=t.PTT_SOURCE_TYPE=t.PTT_RESULT_TYPE=t.PTT_PLAYER_TYPE=t.PTT_PLAYBACK_SPEED_TYPE=t.PS_UPLOAD_REASON=t.PS_TOKEN_NOT_READY_REASON=t.PS_TEST_ENUM_FIELD=t.PS_ID_ACTION=t.PS_CRASH_TYPE=t.PS_BUFFER_UPLOAD_RESULT=t.PS_APP_LAUNCH_TYPE=t.PS_APP_LAUNCH_DESTINATION_TYPE=t.PSA_MESSAGE_REMOVE_ENTRY_POINT=t.PSA_MESSAGE_REMOVE_ACTION=t.PSA_MESSAGE_ACTION_TYPE=t.PSA_LINK_OPEN_RESULT=t.PSA_BLOCK_REASON=t.PROOF_TYPE=t.PROJECT_CODE=t.PROFILE_PICTURE_TYPE=t.PROFILE_ENTRY_POINT=t.PRIVACY_SETTINGS_VALUE_TYPE=t.PRIVACY_SETTINGS_CONTACTS_BUCKETS=t.PRIVACY_HIGHLIGHT_SURFACE_ENUM=t.PRIVACY_HIGHLIGHT_CATEGORY_ENUM=t.PRIVACY_CONTROL_ITEM_TYPE=t.PRIVACY_CONTROL_ENTRY_POINT_TYPE=t.PRIVACY_ALERT_CATEGORY=t.PRIVACY_ALERT_CASE=t.PRIMARY_IDENTITY_MISSING_PROTO_TYPE=t.PREKEYS_FETCH_CONTEXT=t.PREFERRED_LINK_TYPE=t.PRECISE_SIZE_BUCKET=t.POSTCODE_TYPE=t.POLL_ACTION_TYPE=t.PNH_MESSAGE_CHAT_PARTY=t.PNH_ENTRY_POINT_TYPE=t.PNH_CHAT_TYPE_TYPE=t.PNH_CAG_BANNER_ACTION_TYPE=t.PNH_ACTION_TYPE=t.PM_BUTTON_TYPE=t.PM_BUTTON_EVENT_TYPE=t.PLAYBACK_STATE_TYPE=t.PLAYBACK_ORIGIN_TYPE=t.PLATFORM_TYPE=t.PLACEHOLDER_TYPE=t.PLACEHOLDER_REASON_TYPE=t.PLACEHOLDER_POPULATION_TYPE=t.PLACEHOLDER_CHAT_TYPE=t.PLACEHOLDER_ACTION=t.PIN_IN_CHAT_TYPE=t.PIN_IN_CHAT_INTERACTION_TYPE=t.PHONE_NUM_HYPERLINK_ACTION_TYPE=t.PEER_DATA_RESPONSE_RESULT_TYPE=t.PEER_DATA_RESPONSE_APPLY_RESULT_TYPE=t.PEER_DATA_REQUEST_TYPE=t.PEER_CALL_NETWORK_MEDIUM=t.PAID_MESSAGES_ENTRY_POINT=t.PAID_MESSAGES_CAMPAIGN_SENT_ERROR_TYPE=t.PAID_MESSAGES_CAMPAIGN_SEND_STATUS=t.PAID_MESSAGES_ACTION=t.OWNER_TYPE=t.OVERALL_MEDIA_KEY_REUSE_TYPE=t.OVERALL_LAST_UPLOAD_RETRY_PHASE_TYPE=t.OTP_PRODUCT_TYPE=t.OTP_EVENT_TYPE=t.OTP_EVENT_SOURCE=t.OTP_ENTRY_POINT=t.ORDER_STATUS=t.ORDER_SIGNAL_TYPE=t.ORDER_DETAILS_CREATION_ACTION=t.OPTIMISTIC_FLAG_TYPE=t.ONBOARDING_ENTRY_POINT=t.OFFLINE_RESUME_STAGES=t.OFFLINE_RESUME_RESULT_TYPE=t.OFFLINE_RESUME_MODES=t.OFFLINE_PROCESS_STAGES=t.NS_MODE=t.NOTIFICATION_TYPE_ENUM=t.NOTIFICATION_SOURCE_TYPE=t.NOTIFICATION_SOUND_TONE=t.NOTIFICATION_SETTING_TYPE=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_3=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_2=t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_1=t.NOTIFICATION_PREFERRED_LINK_TYPE=t.NOTIFICATION_DESTINATION_TYPE=t.NOTIFICATION_ACTION_TYPE=t.NOTICE_TYPE=t.NOTICE_TRIGGERED_BY=t.NETWORK_STACK_TYPE=t.MUTE_ENTRY_POINT=t.MUTE_CHAT_TYPE=t.MUTATION_COUNT_BUCKET=t.MULTIDEVICE_ACTION_TYPE=t.MISSING_PROTO_TYPE=t.MESSAGE_TYPE_CATEGORY=t.MESSAGE_TYPE=t.MESSAGE_SEND_RESULT_TYPE=t.MESSAGE_SECRET_ERROR_TYPE=t.MESSAGE_SECRET_ALLOWED_TYPE=t.MESSAGE_LEVEL_ACTION=t.MESSAGE_DROP_REASON_TYPE=t.MESSAGE_DISTRIBUTION_ENUM_TYPE=t.MESSAGE_CONTEXT_MENU_OPTION_TYPE=t.MESSAGE_CONTEXT_MENU_ACTION_TYPE=t.MESSAGE_CHAT_TYPE=t.MEDIA_UPLOAD_RESULT_TYPE=t.MEDIA_UPLOAD_MODE_TYPE=t.MEDIA_TYPE=t.MEDIA_QUALITY=t.MEDIA_PICKER_ORIGIN_TYPE=t.MEDIA_DOWNLOAD_RESULT_TYPE=t.MEDIA_DOWNLOAD_MODE_TYPE=t.MD_VALIDATION_WEB_PLATFORM=t.MD_VALIDATION_CALLER_CHANNEL=t.MD_SYNCD_FATAL_ERROR_SOURCE=t.MD_SYNCD_FATAL_ERROR_CODE=t.MD_SYNCD_CRITICAL_EVENT_CODE=t.MD_PUSHNAME_VALIDATION_STAGE_CODE=t.MD_LINK_DEVICE_COMPANION_STAGE=t.MD_HISTORY_SYNC_STATUS_RESULT=t.MD_FEATURE_CODE=t.MD_CHAT_ASSIGNMENT_SOURCE_TYPE=t.MD_CHAT_ASSIGNMENT_SECONDARY_ACTION_TYPE=t.MD_CHAT_ASSIGNMENT_CHAT_TYPE=t.MD_CHAT_ASSIGNMENT_ASSIGNMENT_TYPE=t.MD_BOOTSTRAP_STEP_RESULT=t.MD_BOOTSTRAP_SOURCE=t.MD_BOOTSTRAP_PAYLOAD_TYPE=t.MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE=t.MD_APP_STATE_KEY_ROTATION_REASON_CODE=t.MARKETING_OPT_OUT_EVENT_TYPE=t.MANAGE_ADS_ENTRY_POINT=t.LWI_SUB_ENTRY_POINT=t.LWI_SCREEN_REFERENCE=t.LWI_SCREEN_ACTION=t.LWI_ENTRY_POINT=t.LWI_DEFAULT_TARGETING_SPEC=t.LWI_CTWA_AD_STATUS_TYPE=t.LWI_CTWA_AD_CTA_TYPE=t.LWI_ALERT_REASON=t.LWI_AD_MEDIA_TYPE=t.LWI_ADS_IDENTITY_TYPE=t.LWI_ADS_CONTENT_TYPE=t.LOGIN_RESULT_TYPE=t.LOGIN_PORT_NUMBER=t.LOGIN_HOST_TYPE=t.LOGIN_DNS_RESOLVER_TYPE=t.LOCATION_STATUS=t.LOCATION_PERMISSION_PRE=t.LOCATION_PERMISSION_POST=t.LOADING_MESSAGE_TYPE_SHOWN=t.LABEL_TARGETS=t.LABEL_OPERATIONS=t.KIC_REQUEST_TYPE_TYPE=t.KIC_NUX_ACTION_NAME_TYPE=t.KIC_ERROR_CODE_TYPE=t.KIC_ENTRY_POINT_TYPE=t.KIC_ACTOR_TYPE=t.KIC_ACTION_TYPE=t.KIC_ACTION_NAME_TYPE=t.IN_APP_NOTIFICATION_ALERT_STYLE=t.INTERACTION_TYPE=t.INSIGHT_SCREEN_ACTION=t.INLINE_VIDEO_TYPE=t.INLINE_VIDEO_CTA_CLICK=t.INIT_BWE_SOURCE=t.INCOMING_CALL_UI_ACTION_TYPE=t.HTTP_PROTOCOL_VERSION_TYPE=t.GROUP_TYPE_CLIENT=t.GROUP_ROLE_TYPE=t.GROUP_PROFILE_ACTION_TYPE=t.GROUP_JOIN_REQUEST_ACTION_TYPE=t.GROUP_INFO_SETTING_TYPE=t.GRAPHQL_REQUEST_RESULT=t.GRAPHQL_CATALOG_ENDPOINT=t.GIF_SEARCH_PROVIDER=t.GA_STATUS=t.FORCE_UPGRADE_USER_ACTION_TYPE_V2=t.FMX_EVENT=t.FMX_ENTRY_POINT=t.FIELD_STATS_ROW_TYPE=t.EXPIRY_REASON=t.EXPIRE_SURFACE_ID_ENUM=t.ERROR_TYPE=t.ERROR_REASON=t.EPHEMERAL_SETTING_ENTRY_POINT_TYPE=t.EPHEMERALITY_TRIGGER_ACTION_TYPE=t.EPHEMERALITY_INITIATOR_TYPE=t.ENVELOPE_STYLE=t.ENVELOPE_CLASS=t.ENTRY_POINT_CONVERSION_TYPE=t.ENTRY_POINT_CONVERSATION_INITIATED=t.ENTRY_POINT=t.END_CALL_CONFIRMATION_TYPE=t.EDIT_TYPE=t.EDIT_PROFILE_ACTION=t.E2E_SENDER_TYPE=t.E2E_FAILURE_REASON=t.E2E_DESTINATION=t.E2E_CIPHERTEXT_TYPE=t.E2EE_SIZE_BUCKET=t.DSM_ERROR=t.DOWNLOAD_QUALITY_TYPE=t.DOWNLOAD_ORIGIN_TYPE=t.DOCUMENT_TYPE=t.DNS_RESOLUTION_METHOD_TYPE=t.DM_SCREEN_ENTRY_POINT_TYPE=t.DM_CHAT_PICKER_EVENT_NAME_TYPE=t.DM_CHAT_PICKER_ENTRY_POINT_TYPE=t.DISCLOSURE_TYPE=t.DISCLOSURE_ACTION=t.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE=t.DISAPPEARING_MODE_ENTRY_POINT_TYPE=t.DISAPPEARING_CHAT_INITIATOR_TYPE=t.DEVICE_TYPE=t.DESTINATION=t.DELETE_SUSPENDED_GROUP_BTN=t.DELETE_ACTION_TYPE=t.DEEP_LINK_TYPE=t.DEEP_LINK_OPEN_FROM=t.DEEP_LINK_ACTION=t.CTWA_USER_JOURNEY_OPERATION_TYPE=t.CTWA_CONVERSION_TYPE=t.CTWA_CHAT_CREATION_MODE=t.CTA_TYPE=t.CTA_NAME=t.CTA_FALLBACK_REASON=t.CRASH_TYPE=t.COPY_CODE_BUTTON_EVENT_TYPE=t.CONTACT_US_EXIT_STATE=t.CONTACT_TYPE=t.CONTACT_SEND_CHANNEL=t.CONNECTION_TYPE=t.CONNECTION_SEQUENCE_STEP_TYPE=t.CONNECTION_ORIGIN_TYPE=t.COMMUNITY_UI_FEATURE_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_USER_TYPE=t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_RICH_MESSAGE_TYPE=t.COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE=t.COMMUNITY_CREATION_ENTRYPOINT_TYPE=t.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE=t.COMMUNITY_CREATION_ACTION_TAKEN_TYPE=t.COMMERCE_PERF_VIEW=t.COMMERCE_PERF_MARKER=t.COMMERCE_PERF_ENTRY_POINT=t.COMMERCE_ENTRY_POINT=t.COMMERCE_ACTION=t.COLLECTION=t.CLIENT_MESSAGE_SEND_STAGE=t.CLIENT_GROUP_SIZE_BUCKET=t.CLICK_TO_WHATSAPP_CALLING_BUTTON_PRIVATE=t.CLICK_TO_WHATSAPP_CALLING_ACTION_PRIVATE=t.CLICKABLE_EVENT=t.CHAT_TYPE=t.CHAT_SEARCH_RESULT_TYPE=t.CHAT_MUTE_NOTIFICATION_CHOICE=t.CHAT_MUTED_TYPE=t.CHAT_GATED_REASON=t.CHAT_FILTER_TYPES=t.CHAT_FILTER_TARGET_SCREEN=t.CHAT_FILTER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TYPES=t.CHAT_COMPOSER_ACTION_TARGETS=t.CHAT_ASSIGNMENT_ENTRY_POINT_TYPE=t.CHAT_ASSIGNMENT_CHAT_TYPE=t.CHAT_ASSIGNMENT_ACTION_TYPE=t.CHAT_ACTION_TYPE=t.CHAT_ACTION_ENTRY_POINT=t.CHAT_ACTION_CHAT_TYPE=t.CHATS_FOLDER_TYPE=t.CHANNEL_USER_TYPE=t.CHANNEL_ENTRY_POINT=t.CHANNEL_DIRECTORY_ENTRY_POINT=t.CHANNEL_DIRECTORY_ACTION=t.CHANNEL_ADMIN_ACTION=t.CATEGORY_TYPE=t.CATEGORY_BROWSING_ENTRY_POINT=t.CATALOG_VIEW_ACTION=t.CATALOG_ENTRY_POINT=t.CATALOG_BIZ_ACTION=t.CAROUSEL_MESSAGE_BUTTON_TYPE=t.CAROUSEL_MESSAGE_BUTTON_EVENT_TYPE=t.CAMERA_START_MODE_PARAMS=t.CAMERA_PREVIEW_MODE=t.CALL_WAKEUP_SOURCE=t.CALL_VIDEO_STATE=t.CALL_TRANSPORT_TYPE=t.CALL_TEST_INTEGER=t.CALL_TERM_REASON=t.CALL_STANZA_TYPE=t.CALL_SIDE=t.CALL_SETUP_ERROR_TYPE=t.CALL_RESULT_TYPE=t.CALL_RELAY_BIND_STATUS=t.CALL_NETWORK_MEDIUM=t.CALL_INITIATOR_TYPE=t.CALL_FROM_UI=t.CADMIN_DEMOTE_RESULT_TYPE=t.CADMIN_DEMOTE_ORIGIN_TYPE=t.BUSINESS_TYPE=t.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE=t.BUSINESS_TOOLS_ITEM_TYPE=t.BUSINESS_TOOLS_ENTRY_POINT_TYPE=t.BUSINESS_PROFILE_WEBSITE_SOURCE_TYPE=t.BUSINESS_PROFILE_VIEW_ACTION=t.BUSINESS_PROFILE_FIELD=t.BUSINESS_PROFILE_ENTRY_POINT=t.BUSINESS_PREVIEW_ACTION_TYPE=t.BUSINESS_INTERACTION_TARGET_SCREEN_TYPE=t.BUSINESS_INTERACTION_INTERNAL_ENTRY_POINT=t.BUSINESS_INTERACTION_ENTRY_POINT_SOURCE=t.BUSINESS_INTERACTION_ENTRY_POINT_APP=t.BUSINESS_INTERACTION_ACTION_TYPE=t.BUSINESS_HOME_DOT_STATUS=t.BOT_INTERACTION_STAGE=t.BOTTOM_SHEET_TYPES=t.BOTTOM_SHEET_OPERATIONS=t.BOOTSTRAP_APP_STATE_DATA_STAGE_CODE=t.BLOCK_REASON=t.BLOCK_EVENT_ACTION_TYPE=t.BLOCK_ENTRY_POINT=t.BIZ_VLEVEL=t.BIZ_TRUST_SIGNAL_DATA_SOURCE=t.BIZ_TRUST_SIGNAL_CARD_EVENT_TYPE=t.BIZ_TEMPLATE_BUTTON_TYPE=t.BIZ_TEMPLATE_BUTTON_EVENT_TYPE=t.BIZ_PLATFORM=t.BIZ_HOME_CARD_OPERATION=t.BIZ_DISPLAY_NAME_TYPE=t.BIZ_CATALOG_TYPE=t.BILLING_STATUS=t.BANNER_TYPES=t.BANNER_OPERATIONS=t.BANNER_ACTION_TYPE_ENUM=t.BACKUP_SCHEDULE=t.BACKUP_NETWORK_SETTING=t.BACKEND_STORE_TYPE=t.AUTO_REPLY_ACTION=t.AUTO_MUTE_ACTION_TYPE=t.AUDIO_OUTPUT_ROUTE=t.AUDIO_ENGINE_TYPE=t.AUDIENCE_TYPE=t.ATTACHMENT_TRAY_ACTION_TYPE=t.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=t.APP_BUILD_TYPE=t.APPLICATION_STATE=t.ANDROID_KEYSTORE_STATE_TYPE=t.ANDROID_CAMERA_API=t.ANDROID_CAMERA2_SUPPORT_LEVEL=t.AGENT_ENGAGEMENT_ENUM_TYPE=t.AGC_MODE=t.AEC_MODE=t.AD_CONTENT_RECOMMENDATION_TYPE=t.ADV_DECODE_PROTO_TYPE=t.ADV_DECODE_ERROR_TYPE=t.ADMIN_FLOW_TYPE=t.ACTIVE_TIME_AFTER_PAIRING=t.ACTION_SURFACE_ID_ENUM=t.ACTION_CONDUCTED=t.ACTION=t.ACE_SURVEY_USER_EVENT=t.ACE_SURVEY_TRIGGER=t.ACE_SURVEY_ENTRY_POINT=void 0;const n=Object.freeze({PUSH_NOTIFICATION:1,SYSTEM_MESSAGE:2,CHAT_BANNER:3});t.ACE_SURVEY_ENTRY_POINT=n;const r=Object.freeze({CTWA_DEEP_CONVERSATION:1});t.ACE_SURVEY_TRIGGER=r;const i=Object.freeze({CONVERSION:0,INVITATION:1,IMPRESSION:2,CLICK:3,SUBMIT:4,DISMISS:5,START:6,BACK:7,COMPLETE:8,REPORT:9,DEBUG:10});t.ACE_SURVEY_USER_EVENT=i;const o=Object.freeze({ACTION_CLICKED_TOS:0,ACTION_CLICKED_LEARN_MORE:1,ACTION_CLICKED_START_PREMIUM:2,ACTION_CLICKED_MANAGE_SUBSCRIPTION:3,ACTION_VIEW_IMPRESSION_PREMIUM_HOME:4,ACTION_VIEW_IMPRESSION_MANAGE_SUBSCRIPTION_DIALOG:5,ACTION_CLICKED_ENTRY_POINT_TO_MANAGE_SUBSCRIPTION_FLOW:6,ACTION_CLICKED_USER_CANCELLED_PAYMENT_FLOW:7,ACTION_CLICKED_BILLING_FLOW_ENTRY_POINT:8,ACTION_VIEW_IMPRESSION_BILLING_FLOW_ENTRY_POINT:9,ACTION_CLICKED_RENEW_BUTTON:10,ACTION_CLICKED_ENTRY_POINT:11});t.ACTION=o;const a=Object.freeze({MUTE:1,UNMUTE:2,EXPIRE:3});t.ACTION_CONDUCTED=a;const s=Object.freeze({CHAT_LIST:1});t.ACTION_SURFACE_ID_ENUM=s;const l=Object.freeze({MINS_10:1,MINS_20:2,MINS_40:3,MINS_60:4});t.ACTIVE_TIME_AFTER_PAIRING=l;const c=Object.freeze({REGULAR:1,RECOMMENDED:2});t.AD_CONTENT_RECOMMENDATION_TYPE=c;const u=Object.freeze({CREATION:1,EDIT:2});t.ADMIN_FLOW_TYPE=u;const d=Object.freeze({INVALID_PROTOCOL_BUFFER:1});t.ADV_DECODE_ERROR_TYPE=d;const _=Object.freeze({ADV_SIGNED_DEVICE_IDENTITY:1,ADV_DEVICE_IDENTITY:2,ADV_SIGNED_KEY_INDEX_LIST:3,ADV_KEY_INDEX_LIST:4});t.ADV_DECODE_PROTO_TYPE=_;const p=Object.freeze({NONE:1,SOFTWARE:2,BUILTIN:3});t.AEC_MODE=p;const f=Object.freeze({NONE:1,SOFTWARE:2,BUILTIN:3});t.AGC_MODE=f;const E=Object.freeze({DIRECT_CHAT:0,INVOKED:1,MEMBER:2});t.AGENT_ENGAGEMENT_ENUM_TYPE=E;const A=Object.freeze({LIMITED:0,FULL:1,LEGACY:2,LEVEL_3:3,EXTERNAL:4});t.ANDROID_CAMERA2_SUPPORT_LEVEL=A;const g=Object.freeze({API_1:1,API_2:2});t.ANDROID_CAMERA_API=g;const h=Object.freeze({NOT_AVAILABLE:1,SELF_TEST_FAILURE:2,ENC_KEY_READ_FAILURE:3,ENC_KEY_STORED_USED:4,ENC_KEY_PLAIN_DELETED:5,ENC_KEY_PLAIN_RECOVERED:6});t.ANDROID_KEYSTORE_STATE_TYPE=h;const S=Object.freeze({DEBUG:1,ALPHA:2,BETA:3,RELEASE:4});t.APP_BUILD_TYPE=S;const T=Object.freeze({FOREGROUND:1,BACKGROUND:2});t.APPLICATION_STATE=T;const m=Object.freeze({ATTACHMENT_TRAY:1,DOCUMENT:2,CAMERA:3,CAMERA_LIBRARY:4,GALLERY:5,PHOTO_AND_VIDEO_LIBRARY:6,AUDIO:7,LOCATION:8,CONTACT:9,POLL:10,PAYMENT:11,SHOP:12,ORDER:13,CATALOG:14,QUICK_REPLY:15,STICKER_MAKER:16});t.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=m;const I=Object.freeze({CLICK:1,SEND:2,CANCEL:3});t.ATTACHMENT_TRAY_ACTION_TYPE=I;const y=Object.freeze({REGION:1,MAP:2});t.AUDIENCE_TYPE=y;const C=Object.freeze({JNI:1,OPENSLES:2});t.AUDIO_ENGINE_TYPE=C;const v=Object.freeze({DEFAULT:0,SPEAKER:1,EARPIECE:2,BLUETOOTH:3,HEADSET:4});t.AUDIO_OUTPUT_ROUTE=v;const O=Object.freeze({AUTO_MUTE_EXISTING_GROUP:1,AUTO_MUTE_GROWING_GROUP:2,AUTO_MUTE_NEW_GROUP:3,USER_DIALOG_VIEW:4,USER_ADMIT_BY_OK:5,USER_ADMIT_BY_MESSAGE_SEND:6,USER_DISMISS_BY_UNMUTE:7});t.AUTO_MUTE_ACTION_TYPE=O;const P=Object.freeze({AUTO_REPLY_ACTION_FLAG_RECEIVED:0,AUTO_REPLY_ACTION_REPLY_SENT:1});t.AUTO_REPLY_ACTION=P;const N=Object.freeze({UNKNOWN:0,NON_DIRECT_PATH:1,EVERSTORE:2,OIL:3,EXPRESS_PATH:4,STATIC:5,MANIFOLD:6});t.BACKEND_STORE_TYPE=N;const b=Object.freeze({WIFI_ONLY:0,WIFI_OR_CELLULAR:1});t.BACKUP_NETWORK_SETTING=b;const M=Object.freeze({OFF:0,DAILY:1,WEEKLY:2,MONTHLY:3,MANUAL:4});t.BACKUP_SCHEDULE=M;const R=Object.freeze({TAP:1,DISMISS:2});t.BANNER_ACTION_TYPE_ENUM=R;const D=Object.freeze({SHOWN:1,CLICK:2,DISMISS:3,ELIGIBLE:4,REVOKED:5,RENDERED:6});t.BANNER_OPERATIONS=D;const L=Object.freeze({GROUP:1,SMB_WELCOME:2,SMB_VERIFIED:3,SMB_EDIT_PROFILE:4,SMB_EDIT_DESCRIPTION:5,SMB_EDIT_CATEGORY:6,SMB_EDIT_HOURS:7,SMB_EDIT_EMAIL:8,SMB_CATALOG:9,SMB_CATALOG_SHARE_BANNER:10,CROSS_SELL_PROFILE_INTERSTITIAL:11,CROSS_SELL_CHATS_INTERSTITIAL:12,CROSS_SELL_CHATS_BANNER:13,BUSINESS_ACCOUNT_SYSTEM_MESSAGE:14,SMB_CATALOG_CART_INTERSTITIAL:15,PAYMENTS_ONBOARD_BANNER:16,SMB_DIRECTORY_UPSELL:17,SMB_CATALG_LIST_LWI_ADVERTISE_BANNER:18,SMB_LWI_AD_HUB_EDUCATIONAL_BANNER:19,SMB_COLLECTION_CREATION:20,SMB_AWAY_MESSAGE:21,SMB_GREETING_MESSAGE:22,PAYMENTS_INCENTIVE_BANNER:23,SMB_ADSCREATION_CONVERSATIONS_BANNER_WITH_VALID_PRODUCT:24,SMB_ADSCREATION_CONVERSATIONS_BANNER_WITHOUT_VALID_PRODUCT:25,SMB_MD_AWARENESS:26,BACKUP_QUOTA:27,SMB_ADD_COVER_PHOTO:28,PAYMENTS_MERCHANT_ONBOARDING_BANNER:29,SMB_PAYMENTS_MERCHANT_ACCOUNT_STATUS_BANNER:30,SMB_CTWA_AD_ACTION_BANNER:31,BIZ_INTEGRITY_WARNING_BANNER:32,SMB_CTWA_AUTO_LABEL_BANNER:33,SMB_UPDATE_CATEGORY_BANNER:34,SMB_PREMIUM_UPSELL_CHAT_BANNER:35,SMB_PREMIUM_SUBS_PAYMENT_FAILED_BANNER:36,SMB_PREMIUM_SUBS_UNINTENTIONAL_CANCELED_BANNER:37,SMB_CLICK_GET_PAID_ON_WA:38,SMB_CONTINUE_AD_CREATION_REMINDER_BANNER:39,SMB_CONTINUE_AD_CREATION_REMINDER_BOTTOM_SHEET:40,P2M_ORDER_HOME_BANNER:41,SMB_ADSCREATION_HOME_BANNER:42,PRIORITY_INBOX_BANNER:43,SMB_BUSINESS_HOME_BANNER:44,SMB_CHAT_LIST_QP_BANNER:45,SMB_ARCHIVE_STATUS_SETTINGS_BANNER:46,QP_BANNER_GROUP_INFO:47,P2M_TOOLS_ORDERS:48,PRIVACY_CHECKUP:49,QP_BANNER_PROFILE:50});t.BANNER_TYPES=L;const w=Object.freeze({UNKNOWN:1,NO_ACTION_REQUIRED:2,HAS_PENDING_ACTIONS:3});t.BILLING_STATUS=w;const B=Object.freeze({SHOPS:0,NATIVE:1});t.BIZ_CATALOG_TYPE=B;const U=Object.freeze({VERIFIED_NAME:1,SAVED_CONTACT:2,PHONE_NUMBER:3});t.BIZ_DISPLAY_NAME_TYPE=U;const G=Object.freeze({SHOWN:1,RENDERED:2,ELIGIBLE:3,DISMISS:4,PRIMARY_CTA_CLICK:5,SECONDARY_CTA_CLICK:6});t.BIZ_HOME_CARD_OPERATION=G;const k=Object.freeze({UNKNOWN:1,SMB:2,ENT:3,CLOUDAPI:4});t.BIZ_PLATFORM=k;const Y=Object.freeze({CLICK:0});t.BIZ_TEMPLATE_BUTTON_EVENT_TYPE=Y;const F=Object.freeze({QUICK_REPLY:0,CTA_URL:1,CTA_CALL:2,CTA_COUPON:3});t.BIZ_TEMPLATE_BUTTON_TYPE=F;const K=Object.freeze({INSERT:0,IMPRESSION:1,CLICK:2});t.BIZ_TRUST_SIGNAL_CARD_EVENT_TYPE=K;const x=Object.freeze({CTWA_DEEPLINK_DATA_SOURCE:1,USYNC_DATA_SOURCE:2});t.BIZ_TRUST_SIGNAL_DATA_SOURCE=x;const H=Object.freeze({HIGH:1,LOW:2,UNKNOWN:3});t.BIZ_VLEVEL=H;const j=Object.freeze({OTHER:0,CHAT:1,PROFILE:2,BLOCK_LIST:3,TRIGGERED_BLOCK:4,ACCOUNT_INFO:5,CALL_LOG:6,OVERFLOW_MENU:7,GROUP_INFO:8,BLOCK_DIALOG:9,MESSAGE_MENU:10,MEDIA_VIEWER:11,OVERFLOW_MENU_BLOCK:12,ONE_TO_ONE_OLD_SPAM_BANNER_BLOCK:13,ONE_TO_ONE_SPAM_BANNER_BLOCK:14,BIZ_SPAM_BANNER_BLOCK:15,BLOCK_HEADER_CHAT:16,OVERFLOW_MENU_REPORT:17,ACCOUNT_INFO_REPORT:18,BIZ_OLD_SPAM_BANNER_BLOCK:19,CHAT_LIST_BLOCK:20,CHAT_LIST_NOINSUB_BLOCK:21,CHAT_LIST_CONTEXT_MENU_BLOCK:22,NOTIFICATION_BLOCK:23,ONE_TO_ONE_SPAM_BANNER_REPORT:24,BIZ_EXTENSION_MENU:25,VIEW_ONCE_VIEWER:26,STATUS_OVERFLOW_MENU_REPORT:27,ALBUM_MEDIA_MENU_REPORT:28,STATUS_POST_REPORT:29,MISSED_CALL_NOTIFICATION_BLOCK:30,CHAT_FMX_CARD_BLOCK:31,CHAT_FMX_CARD_BLOCK_SUSPICIOUS:32,CHAT_FMX_CARD_SAFETY_TOOLS_BLOCK:33,CHAT_FMX_CARD_SAFETY_TOOLS_BLOCK_SUSPICIOUS:34,CHAT_FMX_CARD_SAFETY_TOOLS_REPORT:35,CHAT_FMX_CARD_SAFETY_TOOLS_REPORT_SUSPICIOUS:36});t.BLOCK_ENTRY_POINT=j;const V=Object.freeze({BLOCK:0,UNBLOCK:1});t.BLOCK_EVENT_ACTION_TYPE=V;const W=Object.freeze({OTHER:0,NO_LONGER_NEEDED:1,NO_SIGN_UP:2,SPAM:3,OFFENSIVE_MESSAGES:4,OTP_DID_NOT_REQUEST:5});t.BLOCK_REASON=W;const Q=Object.freeze({REQUEST_BUILT:1,RESPONSE_RECEIVED:2,RESPONSE_PARSED_VALID:3,MISSING_KEYS_REQUESTED:4,MISSING_KEYS_RECEIVED:5,MUTATIONS_DECRYPTED:6,ABOUT_TO_APPLY_MUTATIONS:7,APPLIED_MUTATIONS:8,PUSHNAME_APPLIED:9,PUSHNAME_INVALID:10,ENTERED_RETRY_MODE:11});t.BOOTSTRAP_APP_STATE_DATA_STAGE_CODE=Q;const $=Object.freeze({REQUEST_SENT:1,REQUEST_RECV:2,FIRST_RESPONSE:3,INNER_RESPONSE:4,LAST_RESPONSE:5,LINK_RESPONSE:6});t.BOT_INTERACTION_STAGE=$;const z=Object.freeze({SHOWN:1,CLICK:2,DISMISS:3,ELIGIBLE:4,REVOKED:5,RENDERED:6});t.BOTTOM_SHEET_OPERATIONS=z;const J=Object.freeze({CTWA_STATUS_UPSELL:1,SMBA_ARCHIVE_STATUS_CONTROL:2});t.BOTTOM_SHEET_TYPES=J;const q=Object.freeze({UNREAD:1,READ:2});t.BUSINESS_HOME_DOT_STATUS=q;const X=Object.freeze({ACTION_CLICK:1,ACTION_MSG_SENT:2});t.BUSINESS_INTERACTION_ACTION_TYPE=X;const Z=Object.freeze({FACEBOOK:1,INSTAGRAM:2,WHATSAPP:3,EXTERNAL:4});t.BUSINESS_INTERACTION_ENTRY_POINT_APP=Z;const ee=Object.freeze({CLICK_TO_CHAT_LINK:1,MESSAGE_SHORT_LINK:2,QR_CODE:3,CUSTOM_LINK:4,CUSTOM_QR_CODE_LINK:5});t.BUSINESS_INTERACTION_ENTRY_POINT_SOURCE=ee;const te=Object.freeze({STATUS:1,INDIVIDUAL_CHAT:2,GROUP:3,OTHER:4,OUTSIDE_OF_WA:5});t.BUSINESS_INTERACTION_INTERNAL_ENTRY_POINT=te;const ne=Object.freeze({INDIVIDUAL_CHAT:1,LANDING_PAGE:2,OTHER:3});t.BUSINESS_INTERACTION_TARGET_SCREEN_TYPE=ne;const re=Object.freeze({IMPRESSION:0,TAP_ON_MESSAGE:1,TAP_ON_PROFILE:2,TAP_ON_CATALOG_VIEW_ALL:3,TAP_ON_CATLOG_PRODUCT:4,DISMISS_PREVIEW:5});t.BUSINESS_PREVIEW_ACTION_TYPE=re;const ie=Object.freeze({REGISTRATION:1,SETTINGS:2,COMPLIANCE:3,QUICK_REPLY_SMART_DEFAULT:4,WA_PAGES:5,PROFILE_COMPLETENESS:6,DIRECTORY_ONBOARDING:7});t.BUSINESS_PROFILE_ENTRY_POINT=ie;const oe=Object.freeze({DESCRIPTION:1,HOURS:2,ADDRESS:3,EMAIL:4,WEBSITE:5,CATEGORY:6,PROFILE:7});t.BUSINESS_PROFILE_FIELD=oe;const ae=Object.freeze({BUSINESS_PROFILE_VIEW_ACTION_IMPRESSION:1,BUSINESS_PROFILE_VIEW_ACTION_CLICK_WEBSITE:2,BUSINESS_PROFILE_VIEW_ACTION_CLICK_LOCATION:3,BUSINESS_PROFILE_VIEW_ACTION_CLICK_HOURS:4,BUSINESS_PROFILE_VIEW_ACTION_CLICK_DESCRIPTION:5,BUSINESS_PROFILE_VIEW_ACTION_CLICK_EMAIL:6,BUSINESS_PROFILE_VIEW_ACTION_CLICK_ADDTOCONTACT:7,BUSINESS_PROFILE_VIEW_ACTION_CLICK_MORE_BIZ_PROFILE:8});t.BUSINESS_PROFILE_VIEW_ACTION=ae;const se=Object.freeze({SOURCE_OTHER:1,SOURCE_INSTAGRAM:2});t.BUSINESS_PROFILE_WEBSITE_SOURCE_TYPE=se;const le=Object.freeze({ENTRY_BANNER:0,ENTRY_REGISTRATION_ONBOARDING:1,ENTRY_CONVERSATIONS:2,ENTRY_SETTINGS:3,ENTRY_DEEPLINK:4,ENTRY_STATUS_TAB_MENU:5,ENTRY_CALLS_TAB_MENU:6,ENTRY_BUSINESS_TOOLS_TAB:7});t.BUSINESS_TOOLS_ENTRY_POINT_TYPE=le;const ce=Object.freeze({OVERFLOW:0,PROFILE:1,CATALOG:2,AWAY_MESSAGE:3,GREETING_MESSAGE:4,QUICK_REPLIES:5,LABELS:6,LINKED_ACCOUNTS:7,SHORT_LINK:8,STATISTICS:9,CREATE_ACCOUNT_LINK:10,MANAGE_CTA:11,CREATE_AD:12,CONTINUE_PROMPT:13,ADVERTISE_LIST_ITEM:14,SHOPS:15,DISABLED_CATALOG:16,BANNED_SHOP:17,PREMIUM_TOOLS:18,BUSINESS_DIRECTORY:19,MANAGE_ADS:20});t.BUSINESS_TOOLS_ITEM_TYPE=ce;const ue=Object.freeze({FACEBOOK:0,INSTAGRAM:1});t.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE=ue;const de=Object.freeze({SMB:1,API_DC:2,API:3});t.BUSINESS_TYPE=de;const _e=Object.freeze({PROMOTION_NOTIFICATION:1,MEMBER_LIST:2});t.CADMIN_DEMOTE_ORIGIN_TYPE=_e;const pe=Object.freeze({SUCCESS:1,FAILURE:2,CANCEL:3,RETRY_SUCCESS:4,RETRY_FAILURE:5,RETRY_CANCEL:6});t.CADMIN_DEMOTE_RESULT_TYPE=pe;const fe=Object.freeze({CALLS_TAB_MISSED:1,CALLS_TAB_OUTGOING:2,SELECT_CONTACT:3,CALL_INFO:4,NOTIFICATION_MISSED:5,CONTACT_INFO:6,QUICK_CONTACT_INFO:7,CONVERSATION:8,CALLS_TAB_INCOMING:9,GROUP_CHAT_INFO:10,GROUP_CHAT_RECENT_LOCATION:11,ANDROID_BROADCAST_DETAILS:12,ANDROID_LIST_CHAT_INFO:13,ANDROID_CONTACTS_APPLICATION:14,CONTACT_VCARD:15,CALLS_TAB_NEW_CALL:16,VOICE_MAIL_CALL_BACK:17,IOS_INTENT:18,LIVE_LOCATION_MAP:19,GROUP_CALL_INFO:20,CALLS_TAB_BOTTOM_SHEET:21,STATUS_VIEWER:22,DEBUG_TOOL:23,GROUP_CHAT_PICKER:24,GROUP_CHAT_DIRECT:25,STELLA:26,CHAT_LIST:27,NEW_CHAT:28,CONVERSATION_OPTIONS:29,CALL_FAILED_SCREEN:30,BUSINESS_DIRECTORY:31,CALL_LINK:32,PHONE_NUMBER_LINK:33,ANDROID_CUSTOM_SHORTCUT:34,CALL_LOG_SEARCH:35,INTERACTIVE_MESSAGE:36,LARGE_GROUP_CHAT_PICKER:37,SCHEDULED_CALL_CREATION_MESSAGE:38,SYSTEM_MESSAGE:39,LOCAL_REMINDER:40,UPCOMING_CALL_LOG:41});t.CALL_FROM_UI=fe;const Ee=Object.freeze({BUSINESS:0,CONSUMER:1});t.CALL_INITIATOR_TYPE=Ee;const Ae=Object.freeze({CELLULAR:1,WIFI:2,NONE:3});t.CALL_NETWORK_MEDIUM=Ae;const ge=Object.freeze({UNBOUND:1,BINDED:2});t.CALL_RELAY_BIND_STATUS=ge;const he=Object.freeze({INVALID:0,CONNECTED:1,REJECTED_BY_USER:2,REJECTED_BY_SERVER:3,MISSED:4,BUSY:5,SETUP_ERROR:6,SERVER_NACK:7,CALL_OFFER_ACK_NOT_RECEIVED:8,MISSED_NO_RECEIPT:9,ACCEPTED_BUT_NOT_CONNECTED:10,CALL_CANCELED_CELLULAR_IN_PROGRESS:11,CALL_CANCELED_AIRPLANE_MODE_ON:12,CALL_CANCELED_NO_NETWORK:13,CALL_OFFER_ACK_CORRUPT:14,CALL_REJECTED_TOS:15,CALL_REJECTED_E2E:16,CALL_REJECTED_UNAVAILABLE:17,CALL_CANCELED_OFFER_NOT_SENT:18,PEER_SETUP_ERROR:19,ACTIVE_ELSEWHERE:20,NO_DECRYPTED_OFFER:21,ACCEPTED_ELSEWHERE:22,REJECTED_ELSEWHERE:23,LONELY:24,CALL_IS_FULL:25,SILENCED:26,CALL_MISSED_SILENCED:27});t.CALL_RESULT_TYPE=he;const Se=Object.freeze({UNKNOWN:1,CALL_ACCEPT_FAILED:2,INIT_MEDIA_STREAM_FAILED:3,START_MEDIA_STREAM_FAILED:4,AUDIO_INIT_ERROR:5,HANDLE_OFFER_FAILED:6,HANDLE_ACCEPT_FAILED:7,SOUND_PORT_CREATE_FAILED:8,P2P_TRANSPORT_CREATE_FAILED:9,P2P_TRANSPORT_MEDIA_CREATE_FAILED:10,INCOMPATIBLE_SRTP_KEY_EXCHANGE:11,SRTP_KEY_GENERATION_ERROR:12,UNSUPPORTED_AUDIO_CAPS:13,P2P_TRANSPORT_START_FAILED:14,RELAY_BIND_FAILED:15,CANNOT_INITIALIZE_AUDIO_RECORD_OBJECT:16,PEER_RELAY_BIND_FAILED:17,VIDEO_CAPTURE_INIT_FAILED:18,VIDEO_CAPTURE_START_FAILED:19,VIDEO_RENDER_INIT_FAILED:20,VIDEO_RENDER_START_FAILED:21,VIDEO_ENCODER_OPEN_FAILED:22,VIDEO_DECODER_OPEN_FAILED:23,VIDEO_STREAM_CREATE_FAILED:24,VIDEO_STREAM_SETUP_FAILED:25,PEER_SETUP_FAILED:26,HANDLE_PREACCEPT_FAILED:27});t.CALL_SETUP_ERROR_TYPE=Se;const Te=Object.freeze({CALLER:1,CALLEE:2});t.CALL_SIDE=Te;const me=Object.freeze({OFFER:0,ACCEPT:1,REJECT:2,VIDEO:3,TERMINATE:4,ENC_REKEY:5,RELAYLATENCY:6,TRANSPORT:7,PREACCEPT:8,GROUP_UPDATE:9,MUTE_V2:10,INTERRUPTION:11,FLOWCONTROL:12,NOTIFY:13,OFFER_NOTICE:14,CALL_RELAY:15,MUTE:16,SCREEN_SHARE:17,UNKNOWN:18});t.CALL_STANZA_TYPE=me;const Ie=Object.freeze({ENDED_BY_USER:1,TIMEOUT:2,RECONNECTING:3,ENDED_BY_SELF:4,ENDED_BY_PEER:5,VIDEO_ENCODER_FATAL_ERROR:6,VIDEO_DECODER_FATAL_ERROR:7,AUDIO_RECORD_FATAL_ERROR:8,CRASH:9,DETECT_IDENTITY_CHANGE:10,USER_INVISIBLE:11,RELAY_BIND_FAILED:12,SETUP_FAILED:13,ACCEPTED_ELSEWHERE:14,REJECTED_ELSEWHERE:15,GROUP_CALL_ENDED:16,CALL_IS_FULL:17,PHONE_PERMISSION_DENIED:18,USER_REMOVED:19,HEARTBEAT_TERMINATE:20,REMOTE_DISCONNECT:21});t.CALL_TERM_REASON=Ie;const ye=Object.freeze({TEST_VALUE:0});t.CALL_TEST_INTEGER=ye;const Ce=Object.freeze({UNKNOWN:0,P2P:1,UDP_RELAY:2,TCP_RELAY:3,MIXED:4});t.CALL_TRANSPORT_TYPE=Ce;const ve=Object.freeze({DISABLED:0,ENABLED:1,PAUSED:2,UPGRADE_REQUEST:3,MUTED:6,ERROR:20});t.CALL_VIDEO_STATE=ve;const Oe=Object.freeze({NONE:0,UNKNOWN:1,APNS_PUSH:2,IOS_VOIP_PUSH:3,GCM_PUSH:4,ONLINE:5,RIM_PUSH:6,WNS_PUSH:7,GCM_CALL_PUSH:8});t.CALL_WAKEUP_SOURCE=Oe;const Pe=Object.freeze({DEFAULT:0,TEXTURE:1,TEXTURE_FALLBACK:2});t.CAMERA_PREVIEW_MODE=Pe;const Ne=Object.freeze({DEFAULT:0,CONSERVATIVE:1,STRICT:2,ERROR:11});t.CAMERA_START_MODE_PARAMS=Ne;const be=Object.freeze({CLICK:0});t.CAROUSEL_MESSAGE_BUTTON_EVENT_TYPE=be;const Me=Object.freeze({QUICK_REPLY:0,CTA_URL:1,CTA_CALL:2,CTA_COUPON:3});t.CAROUSEL_MESSAGE_BUTTON_TYPE=Me;const Re=Object.freeze({ACTION_PRODUCT_ADD_CLICKED:1,ACTION_PRODUCT_ADD_SUCCESS:2,ACTION_PRODUCT_ADD_FAILED:3,ACTION_PRODUCT_EDIT_CLICKED:4,ACTION_PRODUCT_EDIT_SUCCESS:5,ACTION_PRODUCT_EDIT_FAILED:6,ACTION_PRODUCT_DELETE_CLICKED:7,ACTION_PRODUCT_DELETE_SUCCESS:8,ACTION_PRODUCT_DELETE_FAILED:9,ACTION_APPEAL_PRODUCT_CLICKED:10,ACTION_APPEAL_PRODUCT_SUCCESS:11,ACTION_APPEAL_PRODUCT_FAILED:12,ACTION_CREATE_PRODUCT_CATALOG:13,ACTION_CREATE_PRODUCT_CATALOG_SUCCESS:14,ACTION_CREATE_PRODUCT_CATALOG_FAILED:15,ACTION_CATALOG_MENU_ITEM_CLICKED:16,ACTION_PRODUCT_RESUBMIT_CLICKED:17,ACTION_START_IMPORT_FLOW:18,ACTION_IMPORT_POST:19,ACTION_CARD_ITEM_CLICK:21,ACTION_CARD_MORE_CLICK:22,ACTION_LIST_IMPRESSION:23,ACTION_DETAIL_IMAGE_CLICK:25,ACTION_DETAIL_LINK_CLICK:26,ACTION_FULL_IMAGE_SWIPE:30,ACTION_DETAIL_IMPRESSION:31,ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK:32,ACTION_PRODUCT_IN_CONVERSATION_CLICK:33,ACTION_SEND_PRODUCT_MESSAGE:34,ACTION_ONBOARD_IMPRESSION:35,ACTION_SHARE_CATALOG_LINK_CLICK:36,ACTION_SHARE_PRODUCT_LINK_CLICK:37,ACTION_CATALOG_IN_CONVERSATION_CLICK:38,ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK:39,ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK:40,ACTION_SHARE_CATALOG_COPY_LINK_CLICK:41,ACTION_SHARE_PRODUCT_COPY_LINK_CLICK:42,ACTION_SEND_CATALOG_CLICK:43,ACTION_ORDER_MESSAGE_CLICK:44,ACTION_ORDER_LIST_IMPRESSION:45,ACTION_ORDER_LIST_ITEM_CLICK:46,ACTION_MESSAGE_BUSINESS_BUTTON_CLICK:47,ACTION_QUOTED_PRODUCT_MESSAGE_SEND:48,ACTION_CART_ADD_PRODUCT:49,ACTION_CART_ICON_CLICK:50,ACTION_CART_SNACKBAR_CLICK:51,ACTION_CART_LIST_IMPRESSION:52,ACTION_CART_EDIT_PRODUCT:53,ACTION_CART_DELETE_PRODUCT:54,ACTION_CART_ABANDON:55,ACTION_SEND_ORDER_MESSAGE:56,ACTION_MENU_CLICK:57,ACTION_PRODUCT_HIDE_CLICKED:58,ACTION_PRODUCT_HIDE_SUCCESS:59,ACTION_PRODUCT_HIDE_CANCELLED:60,ACTION_PRODUCT_HIDE_FAILED:61,ACTION_PRODUCT_UNHIDE_CLICKED:62,ACTION_PRODUCT_UNHIDE_SUCCESS:63,ACTION_PRODUCT_UNHIDE_CANCELLED:64,ACTION_PRODUCT_UNHIDE_FAILED:65,ACTION_CATALOG_LIST_MENU_CLICKED:66,ACTION_CATALOG_LIST_MENU_CLICKED_WITH_ADVERTISE_SHOWN:67,ACTION_COLLECTION_CREATE_CLICKED:68,ACTION_COLLECTION_CREATED:69,ACTION_MENU_COLLECTIONS_CLICK:70,ACTION_COLLECTION_RENAME_CLICKED:71,ACTION_COLLECTION_RENAME_CANCELLED:72,ACTION_COLLECTION_RENAMED:73,ACTION_COLLECTION_DELETE_CLICKED:74,ACTION_COLLECTION_DELETE_CANCELLED:75,ACTION_COLLECTION_DELETED:76,ACTION_COLLECTION_ASSIGN_ITEMS:77,ACTION_COLLECTION_UNASSIGN_ITEMS:78,ACTION_COLLECTION_CHANGE_ORDER:80,ACTION_COLLECTION_ITEM_CHANGE_ORDER:81});t.CATALOG_BIZ_ACTION=Re;const De=Object.freeze({CATALOG_ENTRY_POINT_PROFILE:1,CATALOG_ENTRY_POINT_SETTINGS:2,CATALOG_ENTRY_POINT_MESSAGE:3,CATALOG_ENTRY_POINT_ATTACHMENT_PANEL:4,CATALOG_ENTRY_POINT_NUX:5,CATALOG_ENTRY_POINT_DEEPLINK:6,CATALOG_ENTRY_POINT_CHAT:7,CATALOG_ENTRY_POINT_ORDER_MESSAGE:8,CATALOG_ENTRY_POINT_INVOICE_ATTACHMENT_PANEL:9,CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE:10,CATALOG_ENTRY_POINT_TOP_BAR:11,CATALOG_ENTRY_POINT_PROFILE_ITEM_CLICK:12,CATALOG_ENTRY_POINT_PROFILE_SEE_ALL:13,CATALOG_ENTRY_POINT_QUOTED_PRODUCT:14,CATALOG_ENTRY_POINT_CATALOG_MESSAGE:15,CATALOG_ENTRY_QBM:16,CATALOG_ENTRY_POINT_ADS_DEEPLINK:17,CATALOG_ENTRY_POINT_WA_PAGES:18,CATALOG_ENTRY_POINT_DIRECTORY_BARE_TIPS:19});t.CATALOG_ENTRY_POINT=De;const Le=Object.freeze({ACTION_CARD_ITEM_CLICK:2,ACTION_CARD_MORE_CLICK:3,ACTION_LIST_IMPRESSION:4,ACTION_DETAIL_IMAGE_CLICK:6,ACTION_DETAIL_LINK_CLICK:7,ACTION_FULL_IMAGE_SWIPE:11,ACTION_DETAIL_IMPRESSION:12,ACTION_REPORT_PRODUCT:13,ACTION_SEND_PRODUCT_MESSAGE:14,ACTION_REPORT_PRODUCT_SUCCESS:15,ACTION_REPORT_PRODUCT_FAILURE:16,ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK:17,ACTION_PRODUCT_IN_CONVERSATION_CLICK:18,ACTION_SHARE_CATALOG_LINK_CLICK:19,ACTION_SHARE_PRODUCT_LINK_CLICK:20,ACTION_CATALOG_IN_CONVERSATION_CLICK:21,ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK:22,ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK:23,ACTION_SHARE_CATALOG_COPY_LINK_CLICK:24,ACTION_SHARE_PRODUCT_COPY_LINK_CLICK:25,ACTION_CHAT_CATALOG_ICON_CLICK:26,ACTION_MESSAGE_BUSINESS_BUTTON_CLICK:27,ACTION_CART_ADD_PRODUCT:28,ACTION_CART_EDIT_PRODUCT:29,ACTION_CART_DELETE_PRODUCT:30,ACTION_CART_ABANDON:31,ACTION_CART_ICON_CLICK:32,ACTION_CART_SNACKBAR_CLICK:33,ACTION_SEND_ORDER_MESSAGE:34,ACTION_ORDER_LIST_IMPRESSION:35,ACTION_QUOTED_PRODUCT_MESSAGE_SEND:36,ACTION_CART_LIST_IMPRESSION:37,ACTION_ORDER_MESSAGE_CLICK:38,ACTION_ORDER_LIST_ITEM_CLICK:39,ACTION_PLM_CART_CTA_CLICK:40,ACTION_CART_CHAT_ICON_CLICK:42,ACTION_CREATE_CART:43,ACTION_PLP_PRODUCT_VARIANT_BOTTOM_SHEET_OPEN:44,ACTION_PLP_PRODUCT_VARIANT_CHANGE:45,ACTION_PDP_PRODUCT_VARIANT_CHANGE:46,ACTION_PLP_BOTTOM_SHEET_SEE_MORE_DETAILS:47});t.CATALOG_VIEW_ACTION=Le;const we=Object.freeze({CATEGORY_SCROLLING_CHIPS:1,ALL_CATEGORIES_PAGE:2,CATEGORY_PILLS:3});t.CATEGORY_BROWSING_ENTRY_POINT=we;const Be=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2});t.CATEGORY_TYPE=Be;const Ue=Object.freeze({CHANNEL_CREATION_TAP:1,CHANNEL_CREATE_LAUNCH_SUCCESS:2,CHANNEL_CREATE_LAUNCH_ERROR:3,CHANNEL_CREATE_LAUNCH_BLOCKED:4,EDIT_CHANNEL_TAP:5,CHANNEL_NAME_SET:6,CHANNEL_ICON_SET_CAMERA:7,CHANNEL_ICON_SET_GALLERY:8,CHANNEL_ICON_SET_EMOJI_STICKER:9,CHANNEL_ICON_SET_WEB:10,CHANNEL_DESCRIPTION_SET:11,CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP:12,CHANNEL_ADMIN_FLOW_SUCCESS:13,CHANNEL_ADMIN_FLOW_FAILURE:14,SEARCH_FOLLOWER:15,REACTIONS_SET_TO_ANY_EMOJI:16,REACTIONS_SET_TO_DEFAULT_EMOJI:17,REACTIONS_SET_TO_NONE_EMOJI:18});t.CHANNEL_ADMIN_ACTION=Ue;const Ge=Object.freeze({DIRECTORY_OPEN_TAP:1,DIRECTORY_CLOSED_TAP:2,DIRECTORY_SEARCH_TAP:3,DIRECTORY_SERVER_ERROR:4,DIRECTORY_NAVIGATE_TO_CHANNEL:5,DIRECTORY_RETURN_FROM_CHANNEL:6,DIRECTORY_FOLLOW_TAP:7,DIRECTORY_UNFOLLOW_TAP:8,DIRECTORY_SORT_BY_RECENTLY_ADDED:9,DIRECTORY_SORT_BY_POPULARITY:10,DIRECTORY_SORT_BY_ALPHABETICALLY:11});t.CHANNEL_DIRECTORY_ACTION=Ge;const ke=Object.freeze({SUGGESTED_CHANNELS:1,FIND_CHANNELS_MENU:2,DEEP_LINK:3,WAITLIST_NOTIFICATION:4,NUX_BANNER:5,FIND_CHANNELS_BUTTON:6});t.CHANNEL_DIRECTORY_ENTRY_POINT=ke;const Ye=Object.freeze({UPDATES_TAB:1,DIRECTORY:2,LINK:3,DEEPLINK:4,FORWARDED_MESSAGE:5,DIRECTORY_SEARCH:6,RECOMMENDED_LIST:7});t.CHANNEL_ENTRY_POINT=Ye;const Fe=Object.freeze({OWNER:1,ADMIN:2,FOLLOWER:3,GUEST:4});t.CHANNEL_USER_TYPE=Fe;const Ke=Object.freeze({INDIVIDUAL:1,GROUP:2,BUSINESS:3,BROADCAST_LIST:4});t.CHAT_ACTION_CHAT_TYPE=Ke;const xe=Object.freeze({CONVERSATION_LIST:1,CONTACT_INFO:2,GROUP_INFO:3,SEARCH_LIST:4,CONVERSATION_LIST_BULK_EDIT:5,CONVERSATION_MENU:6,WEB_ACTION:7,SYSTEM_NOTIFICATIONS:8});t.CHAT_ACTION_ENTRY_POINT=xe;const He=Object.freeze({MUTE:1,UNMUTE:2,ARCHIVE:3,CLEAR:4,EXIT_GROUP:5,DELETE:6,PIN:7,UNREAD:8,READ:9});t.CHAT_ACTION_TYPE=He;const je=Object.freeze({ACTION_ASSIGNED:0,ACTION_UNASSIGNED:1,ACTION_REASSIGNED:2});t.CHAT_ASSIGNMENT_ACTION_TYPE=je;const Ve=Object.freeze({INDIVIDUAL:0,GROUP:1,COMMUNITY:2,CHANNEL:3});t.CHAT_ASSIGNMENT_CHAT_TYPE=Ve;const We=Object.freeze({CONVERSATION_OVERFLOW_MENU:0,CONTACT_INFO_SCREEN:1,MULTI_SELECT:2,SYSTEM_MESSAGE:3,CHAT_LIST_SWIPE:4});t.CHAT_ASSIGNMENT_ENTRY_POINT_TYPE=We;const Qe=Object.freeze({ATTACHMENT:1,CAMERA:2,PTT:3,PAYMENT:4,GIMMICK:5,PHONE:6,VIDEO:7,MESSAGE:8,CALL:9});t.CHAT_COMPOSER_ACTION_TARGETS=Qe;const $e=Object.freeze({CLICK:1});t.CHAT_COMPOSER_ACTION_TYPES=$e;const ze=Object.freeze({OPEN:1,SELECT_FILTER:2,SEARCH_WITH_FILTER:3,SEARCH:4,SEARCH_ITEM_SELECTED:5,SEARCH_MSG_SENT:6,UNSELECT_FILTER:7,AUTO_CLEAR_FILTER:8,VIEW:9,GROUP_NAVIGATION:10,GROUP_DISCOVERY:11,GROUP_JOIN:12,SUBGROUP_SWITCHER_CLICK:13,SUBGROUP_MENTION_CLICK:14,COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK:15,GROUP_SYSTEM_MESSAGE_CLICK:16,NESTING_VIEW_COMMUNITY_CLICK:17,SELECT_COMMUNITY_ADMINS_CAN_ADD_GROUPS:18,SELECT_EVERYONE_CAN_ADD_GROUPS:19,GROUP_JOIN_REQUEST:20,NOTIFICATION_RECEIVED:21,NOTIFICATION_RENDERED:22,TAP_TO_OPEN:23,TAP_TO_REPLY:24,VOIP_CALLBACK:25,VOIP_MESSAGE:26,VOIP_DECLINE:27,MARK_AS_READ:28,AI_NEW_CHAT_CLICK:29,AI_TAB_SELECTION_CLICK:30,AI_PERSONA_SELECTION_CLICK:31,AI_TOS_VIEW:32,AI_TOS_ACCEPT_CLICK:33,AI_TOS_DISMISS_CLICK:34,AI_NEW_UGC_CLICK:35,AI_UGC_CREATION_START_CLICK:36,AI_GENDER_AGE_SELECTION_CLICK:37,AI_PERSONALITY_SELECTION_CLICK:38,AI_INTEREST_SELECTION_CLICK:39,AI_AVATAR_SELECTION_CLICK:40,AI_NAME_SELECTION_CLICK:41,AI_UGC_CREATION_FINISH_CLICK:42});t.CHAT_FILTER_ACTION_TYPES=ze;const Je=Object.freeze({CHAT_LIST:0});t.CHAT_FILTER_TARGET_SCREEN=Je;const qe=Object.freeze({NONE:0,OTHER_LABELS:1,UNREAD:2,GROUP:3,BROADCAST_LIST:4,NEW_CUSTOMER:5,NEW_ORDER:6,PENDING_PAYMENT:7,PAID:8,ORDER_COMPLETE:9,CONTACT:10,NON_CONTACT:11,PHOTOS:12,GIFS:13,LINKS:14,VIDEOS:15,DOCUMENTS:16,AUDIOS:17,ASSIGNED_TO_YOU:18,PERSONAL:19,BUSINESS:20});t.CHAT_FILTER_TYPES=qe;const Xe=Object.freeze({TOS3:1,COUNTRY:2});t.CHAT_GATED_REASON=Xe;const Ze=Object.freeze({NO_NOTIFICATIONS_WHEN_MUTED:1,YES_NOTIFICATIONS_WHEN_MUTED:2});t.CHAT_MUTE_NOTIFICATION_CHOICE=Ze;const et=Object.freeze({NOT_MUTED:1,MUTED_NO_NOTIFICATIONS:2,MUTED_SILENT_NOTIFICATIONS:3});t.CHAT_MUTED_TYPE=et;const tt=Object.freeze({CONTACT:0,CHAT:1,GROUP:2,BROADCAST_LIST:3,MESSAGE:4});t.CHAT_SEARCH_RESULT_TYPE=tt;const nt=Object.freeze({INDIVIDUAL:1,SMB:2,ENT:3});t.CHAT_TYPE=nt;const rt=Object.freeze({INBOX:1,ARCHIVED:2});t.CHATS_FOLDER_TYPE=rt;const it=Object.freeze({SEND:0,CLICK:1,RECEIVE:2});t.CLICK_TO_WHATSAPP_CALLING_ACTION_PRIVATE=it;const ot=Object.freeze({WHATSAPP_CALL:0,LANDLINE_CALL:1,BOTH:3});t.CLICK_TO_WHATSAPP_CALLING_BUTTON_PRIVATE=ot;const at=Object.freeze({OUTSIDE_DIALOG_BOX:0,OK:1,LEARN_MORE:2});t.CLICKABLE_EVENT=at;const st=Object.freeze({SMALL:1,MEDIUM:2,LARGE:3,EXTRA_LARGE:4,XX_LARGE:5,XXX_LARGE:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15});t.CLIENT_GROUP_SIZE_BUCKET=st;const lt=Object.freeze({CLIENT_RENDERED:1,CLIENT_SAVED:2,CLIENT_WRITTEN_WIRE:3,CLIENT_QUEUED:4,CLIENT_WAITING_TO_ENCRYPT:5,CLIENT_READY_TO_SEND:6,CLIENT_ENCRYPT:7,CLIENT_PREKEYS_FETCH:8});t.CLIENT_MESSAGE_SEND_STAGE=lt;const ct=Object.freeze({REGULAR:1,REGULAR_LOW:2,REGULAR_HIGH:3,CRITICAL_BLOCK:4,CRITICAL_UNBLOCK_LOW:5});t.COLLECTION=ct;const ut=Object.freeze({COMMERCE_ACTION_CARD_IMPRESSION:1,COMMERCE_ACTION_CARD_ITEM_CLICK:2,COMMERCE_ACTION_CARD_MORE_CLICK:3,COMMERCE_ACTION_LIST_IMPRESSION:4,COMMERCE_ACTION_LIST_ITEM_CLICK:5,COMMERCE_ACTION_DETAIL_IMAGE_CLICK:6,COMMERCE_ACTION_DETAIL_LINK_CLICK:7,COMMERCE_ACTION_IMAGE_LIST_IMPRESSION:8,COMMERCE_ACTION_IMAGE_LIST_CLICK:9,COMMERCE_ACTION_FULL_IMAGE_IMPRESSION:10,COMMERCE_ACTION_FULL_IMAGE_SWIPE:11,COMMERCE_ACTION_DETAIL_IMPRESSION:12,COMMERCE_ACTION_REPORT_PRODUCT:13,COMMERCE_ACTION_SEND_PRODUCT_MESSAGE:14,COMMERCE_ACTION_REPORT_PRODUCT_SUCCESS:15,COMMERCE_ACTION_REPORT_PRODUCT_FAILURE:16,COMMERCE_ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK:17,COMMERCE_ACTION_PRODUCT_IN_CONVERSATION_CLICK:18,COMMERCE_ACTION_SHARE_CATALOG_LINK_CLICK:19,COMMERCE_ACTION_SHARE_PRODUCT_LINK_CLICK:20,COMMERCE_ACTION_CATALOG_IN_CONVERSATION_CLICK:21,COMMERCE_ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK:22,COMMERCE_ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK:23,COMMERCE_ACTION_SHARE_CATALOG_COPY_LINK_CLICK:24,COMMERCE_ACTION_SHARE_PRODUCT_COPY_LINK_CLICK:25,COMMERCE_ACTION_CHAT_CATALOG_ICON_CLICK:26,COMMERCE_ACTION_CLICK_ON_MESSAGE_BUSINESS_BUTTON:27});t.COMMERCE_ACTION=ut;const dt=Object.freeze({COMMERCE_ENTRY_POINT_PROFILE:1,COMMERCE_ENTRY_POINT_SETTINGS:2,COMMERCE_ENTRY_POINT_MESSAGE:3,COMMERCE_ENTRY_POINT_ATTACHMENT_PANEL:4,COMMERCE_ENTRY_POINT_NUX:5,COMMERCE_ENTRY_POINT_DEEPLINK:6,COMMERCE_ENTRY_POINT_CHAT:7,COMMERCE_ENTRY_POINT_ORDER_MESSAGE:8});t.COMMERCE_ENTRY_POINT=dt;const _t=Object.freeze({COMMERCE_PERF_ENTRY_POINT_PROFILE:1,COMMERCE_PERF_ENTRY_POINT_SETTINGS:2,COMMERCE_PERF_ENTRY_POINT_PRODUCT_MESSAGE:3,COMMERCE_PERF_ENTRY_POINT_ATTACHMENT_PANEL:4,COMMERCE_PERF_ENTRY_POINT_CATALOG_PDP:5,COMMERCE_PERF_ENTRY_POINT_DEEPLINK:6,COMMERCE_PERF_ENTRY_POINT_CATALOG_HOME:7,COMMERCE_PERF_ENTRY_POINT_SHOPS_PDP:8,COMMERCE_PERF_ENTRY_POINT_PRODUCT_LIST_MESSAGE:9});t.COMMERCE_PERF_ENTRY_POINT=_t;const pt=Object.freeze({COMMERCE_PERF_MARKER_START:1,COMMERCE_PERF_MARKER_CACHE_CONTENT:2,COMMERCE_PERF_MARKER_NETWORK_CONTENT:3,COMMERCE_PERF_MARKER_INTERACT:4});t.COMMERCE_PERF_MARKER=pt;const ft=Object.freeze({COMMERCE_PERF_CATALOG_PDP:1,COMMERCE_PERF_CATALOG_HOME:2,COMMERCE_PERF_PROFILE_CATALOG:3,COMMERCE_PERF_SHOPS_PDP:4});t.COMMERCE_PERF_VIEW=ft;const Et=Object.freeze({ENTER:1,GET_STARTED:2,DISMISS:3,NEXT:4,CREATE_GROUP:5,LINK_GROUP:6,CREATE_COMMUNITY:7,EXIT:8,UNLINK_GROUP:9,CREATE_COMMUNITY_SUCCESS:10,CREATE_COMMUNITY_FAIL:11,HELP_ICON_CLICK:12,LINK_GROUP_CONFIRMATION_OK:13,LINK_GROUP_CONFIRMATION_CANCEL:14});t.COMMUNITY_CREATION_ACTION_TAKEN_TYPE=Et;const At=Object.freeze({CHATS_TAB:1,COMMUNITIES_TAB:2,COMMUNITY_NUX:3,COMMUNITY_INFO:4,COMMUNITY_GROUPS_SUMMARY:5,DEEP_LINK:6,BANNER:7,GROUP_INFO:8,LINK_GROUP_CONFIRMATION:9});t.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE=At;const gt=Object.freeze({CHATS_TAB:1,COMMUNITIES_TAB:2,GROUP_INFO:3,DEEP_LINK:4});t.COMMUNITY_CREATION_ENTRYPOINT_TYPE=gt;const ht=Object.freeze({ENTRY:1,GROUP_NAV:2,GROUP_ADD:3,COMMUNITY_NAV:4});t.COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE=ht;const St=Object.freeze({CADMIN_COMMUNITY_CREATION:1,ADMIN_ADD_MEMBER_TO_CAG:2,ADMIN_ADD_MEMBER_TO_SUBGROUP:3,MEMBER_JOIN_COMMUNITY_VIA_COMMUNITY_INVITE:4,MEMBER_JOIN_COMMUNITY_VIA_GROUP_INVITE:5,EXISTING_GROUP_ADDED_TO_COMMUNITY:6});t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_RICH_MESSAGE_TYPE=St;const Tt=Object.freeze({ADMIN:1,MEMBER:2});t.COMMUNITY_RICH_SYSTEM_MESSAGE_CLICK_USER_TYPE=Tt;const mt=Object.freeze({SUBGROUP_SWITCH:1});t.COMMUNITY_UI_FEATURE_TYPE=mt;const It=Object.freeze({PERSON:1,PUSH:2,OTHER:3,BACKOFF:4});t.CONNECTION_ORIGIN_TYPE=It;const yt=Object.freeze({PUSH_OVERRIDES:1,PRIMARY:2,PUSH_FALLBACKS:4,HOST_FALLBACK:5,NO_DNS:6,SOFTLAYER:7,PRIMARY_HTTP:8,SOFTLAYER_HTTP:9,HOST_FALLBACK_HTTP:10,NO_DNS_HTTP:11});t.CONNECTION_SEQUENCE_STEP_TYPE=yt;const Ct=Object.freeze({HOSTNAME:0,IP4:1,IP6:2});t.CONNECTION_TYPE=Ct;const vt=Object.freeze({CHATD:1,MMS:2});t.CONTACT_SEND_CHANNEL=vt;const Ot=Object.freeze({CONSUMER:1,SMB:2,ENTERPRISE:3});t.CONTACT_TYPE=Ot;const Pt=Object.freeze({PROBLEM_DESCRIPTION:1,SUGGESTED_FAQ:2,EMAIL_SEND:3,IN_APP_FAQ:4,CANCELLED:5,FAQ:6});t.CONTACT_US_EXIT_STATE=Pt;const Nt=Object.freeze({CLICK:0});t.COPY_CODE_BUTTON_EVENT_TYPE=Nt;const bt=Object.freeze({CRASH:0,OOM:1,MAIN_THREAD_STALL_30_SECONDS:2,MAIN_THREAD_STALL_DEBUG:3,AUDIO_TRANSCODING_ERROR:4,VIDEO_TRANSCODING_ERROR:5,ANR:6,CRITICAL_EVENT:7,UNHANDLED_EXCEPTION:8,APP_CRASH:9,NATIVE_CRASH:10,UFAD:11,EXPERIMENTAL_UFAD_DETECTION:12,UX_BREAKING_EXCEPTION:13,UX_GRACEFUL_RECOVERY_EXCEPTION:14});t.CRASH_TYPE=bt;const Mt=Object.freeze({NO_OTP_REQUEST_RECEIVED:0,OTP_REQUEST_EXPIRED:1,HASH_MISMATCH:2,NO_ACTIVITY_LISTENING_ON_THIRD_PARTY_APP:3,OTHER:4,NO_PACKAGE_NAME_ON_MESSAGE:5,NO_CTA_DISPLAY_NAME:6,INCOMPATIBLE_OS_VERSION:7,NO_RETRIEVER_BUTTON:8,FEATURE_DISABLED:9});t.CTA_FALLBACK_REASON=Mt;const Rt=Object.freeze({FORWARD_BUTTON_NEXT_TO_CHAT_BUBBLE:1,FORWARD_BUTTON_ON_OVERFLOW:2,SHARE_BUTTON_ON_OVERFLOW:3,SHARE_BUTTON_FOOTER_STATUS_SELF_VIEW:4});t.CTA_NAME=Rt;const Dt=Object.freeze({COPY_CODE:0,AUTOFILL:1});t.CTA_TYPE=Dt;const Lt=Object.freeze({JID:0,LID:1});t.CTWA_CHAT_CREATION_MODE=Lt;const wt=Object.freeze({FIRST_MESSAGE:0,DEEP_CONVERSATION:1,FIRST_BIZ_REPLY:2,FIRST_CALL:3,FIRST_LONG_CALL:4,SECOND_MESSAGE:5,SECOND_BIZ_REPLY:6,THIRD_MESSAGE:7,CART_RECEIVED:8,ORDER_CREATED:9,FIRST_MESSAGE_CONTINUATION:10,FIRST_BIZ_REPLY_CONTINUATION:11,SECOND_MESSAGE_CONTINUATION:12,SECOND_BIZ_REPLY_CONTINUATION:13,THIRD_MESSAGE_CONTINUATION:14});t.CTWA_CONVERSION_TYPE=wt;const Bt=Object.freeze({LAND_ON_WHATSAPP:1,GET_CONTEXT_CALL_INITIATED:2,GET_CONTEXT_CALL_SUCCESS:3,AD_CONTEXT_FALLBACK_RENDERED:4,AD_CONTEXT_DISMISSED:5,KILL_APP:6,BACK_BUTTON_CLICKED:7,CALL_BUSINESS_BUTTON_CLICKED:8,VIEW_CATALOG_BUTTON_CLICKED:9,PROFILE_PHOTO_CLICKED:10,BIZ_PROFILE_CLICKED:11,GET_CONTEXT_CALL_FAILED:12,CHAT_SETTINGS_CLICKED:13,FIRST_CUSTOM_MESSAGE_SENT_WITH_AD_CONTEXT:14,FIRST_CUSTOM_MESSAGE_SENT_WITHOUT_AD_CONTEXT:15,ICEBREAKER_SENT:16,AD_CONTEXT_FULLPREVIEW_RENDERED:17,TRUST_BANNER_SHOWN:18,TRUST_BANNER_DISMISSED:19,CTWA_ADD_CONTACT_DIALOG_OPEN:20,CTWA_ADD_CONTACT_CREATE_NEW:21,CTWA_ADD_CONTACT_EXISTING:22,CTWA_ARCHIVE_THREAD:23,CTWA_DELETE_THREAD:24});t.CTWA_USER_JOURNEY_OPERATION_TYPE=Bt;const Ut=Object.freeze({MSG_SENT:1});t.DEEP_LINK_ACTION=Ut;const Gt=Object.freeze({DEEP_LINK_EXTERNAL:1,DEEP_LINK_WA_LINK_CLICK:2,QR_CODE_SHEET:3,DEEP_LINK_BANNER:4,DEEP_LINK_SMB_NOTIFICATION:5,DEEP_LINK_MESSENGER_APP:6});t.DEEP_LINK_OPEN_FROM=Gt;const kt=Object.freeze({DEEP_LINK_UNKNOWN:1,DEEP_LINK_CHAT:2,DEEP_LINK_CONTACT_QR_CODE:3,DEEP_LINK_PAYMENT:4,DEEP_LINK_PRODUCT:5,DEEP_LINK_CATALOG:6,DEEP_LINK_FUTURE_PROOF:7,DEEP_LINK_GROUP_INVITE:8,DEEP_LINK_MSG_FORWARD:9,DEEP_LINK_MESSAGE_QR_CODE:10,DEEP_LINK_OPT_IN_QR_CODE:11,DEEP_LINK_CTWA:12,DEEP_LINK_STICKERPACK:13,DEEP_LINK_NOVI_HUB:14,DEEP_LINK_NOVI_ADD_DEBIT_CARD:15,DEEP_LINK_NOVI_ADD_BANK_ACCOUNT:16,DEEP_LINK_NOVI_WITHDRAW:17,DEEP_LINK_NOVI_RESET_PASSWORD:18,DEEP_LINK_PAYMENT_SIGNUP:19,DEEP_LINK_BIZTOOLS_ACCOUNTS:20,DEEP_LINK_PAYMENT_VIRALITY:21,DEEP_LINK_SETTINGS_ACCOUNT_DELETE:22,DEEP_LINK_SETTINGS_ACCOUNT_REQUEST_INFO:23,DEEP_LINK_SETTINGS_CHATS_HISTORY:24,DEEP_LINK_DISAPPEARING_MODE:25,DEEP_LINK_ARCHIVE_SETTINGS:26,DEEP_LINK_TOS:27,DEEP_LINK_NOVI_CARE:28,DEEP_LINK_NOVI_TPP_ACCOUNT_LINKING:29,DEEP_LINK_CONTACT_SUPPORT:30,DEEP_LINK_BIZTOOLS_DIRECTORY:31,DEEP_LINK_DIRECTORY:32,DEEP_LINK_CALL:33,DEEP_LINK_DIRECTORY_DEEPER_CATEGORY_SELECTION:34,DEEP_LINK_PHOENIX:35,DEEP_LINK_HELP_CENTER_TO_SETTINGS_CHATS:36,DEEP_LINK_CREATE_COMMUNITY:37,DEEP_LINK_SMB_AD_CREATION:38,DEEP_LINK_SMB_MANAGE_ADS:39,DEEP_LINK_SMB_MANAGE_ADS_DETAIL:40,DEEP_LINK_STATUS_SHARE:41,DEEP_LINK_PREMIUM:42,DEEP_LINK_SETTINGS_LINKED_DEVICES:43,DEEP_LINK_SMB_AD_CREATION_FROM_CATALOG:44,DEEP_LINK_SMB_AD_CREATION_FROM_BIZTAB:45,DEEP_LINK_SMB_EDIT_PROFILE:46,DEEP_LINK_EDIT_PROFILE_PIC:47,DEEP_LINK_SMB_EDIT_CATALOG:48,DEEP_LINK_SMB_BIZ_HOURS:49,DEEP_LINK_SMB_LOCATION:50,DEEP_LINK_SMB_LINKED_ACCOUNTS:51,DEEP_LINK_PRIVACY_SETTINGS:52,DEEP_LINK_SMB_EDIT_DESCRIPTION:53,DEEP_LINK_SMB_AD_CREATION_RESUME:54,DEEP_LINK_PRIVACY_DISCLOSURE:55,DEEP_LINK_CHANNEL:56,DEEPLINK_SMB_BIZ_WEBSITE:57,DEEP_LINK_PRIVACY_CHECKUP:58,DEEP_LINK_SMB_SELF_CATALOG:59,DEEP_LINK_SCAN_MIGRATION_QR_CODE:60,DEEP_LINK_PROXY:61,DEEP_LINK_HELP:62,DEEP_LINK_PRICE_TIER:63,DEEP_LINK_CALLING_PRIVACY:64,DEEP_LINK_PAYMENTS_PUSH_PROVISIONING:65,DEEP_LINK_FB_EVENT_LINK:66,DEEP_LINK_SETTINGS_ACCOUNT_2FA:67,DEEP_LINK_SMB_ADVERTISE_PROFILE:68,DEEP_LINK_SMB_LABELS_WITH_BIZTAB:69,DEEP_LINK_SMB_GREETING_MESSAGE_WITH_BIZTAB:70,DEEP_LINK_SMB_AWAY_MESSAGE_WITH_BIZTAB:71,DEEP_LINK_SMB_ADVERTISE_LATEST_STATUS:72,DEEP_LINK_SMB_PROFILE_COMPLETENESS:73,DEEP_LINK_SMB_AD_DETAILS:74,DEEP_LINK_SETTINGS_ACCOUNT_SWITCHER:75,DEEP_LINK_CHAT_TRANSFER:76,DEEP_LINK_CODE_LINKING:77,DEEP_LINK_MARKETING_MESSAGE:78,DEEP_LINK_HOME_CHATS:79,DEEP_LINK_MESSAGE_YOURSELF:80,DEEP_LINK_SETTINGS_ACCOUNT_EMAIL:81,DEEP_LINK_EDIT_AD:82,DEEP_LINK_MESSAGING_GUIDE:83});t.DEEP_LINK_TYPE=kt;const Yt=Object.freeze({DELETE_FOR_ME:0,DELETE_FOR_EVERYONE:1});t.DELETE_ACTION_TYPE=Yt;const Ft=Object.freeze({BOTTOM_SHEET_BTN:1,BLOCKED_COMPOSER_BTN:2});t.DELETE_SUSPENDED_GROUP_BTN=Ft;const Kt=Object.freeze({APP_SWITCH:1,BROWSER:2,CANCELLED:3});t.DESTINATION=Kt;const xt=Object.freeze({PRIMARY:1,COMPANION:2});t.DEVICE_TYPE=xt;const Ht=Object.freeze({CHAT:1,INITIATED_BY_ME:2,INITIATED_BY_OTHER:3,CHAT_PICKER:4});t.DISAPPEARING_CHAT_INITIATOR_TYPE=Ht;const jt=Object.freeze({ACCOUNT_SETTINGS:1,SYSTEM_MESSAGE:2,INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING:3,GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:4,DEEP_LINK:5,STORAGE_SETTINGS:6,PRIVACY_SETTINGS:7});t.DISAPPEARING_MODE_ENTRY_POINT_TYPE=jt;const Vt=Object.freeze({DEFAULT_MESSAGE_TIMER_OPEN:1,DEFAULT_MESSAGE_TIMER_SET:2,DEFAULT_MESSAGE_TIMER_EXIT:3,LEARN_MORE_CLICK:4});t.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE=Vt;const Wt=Object.freeze({SCREEN_VIEW:0,CLICK_ON_CONTINUE:1,CANCEL:2,BACK_BUTTON_TOOLBAR:3,BACK_BUTTON_SYSTEM:4,DISMISS:5,DISCLOSURE_INFO_VIEW:6});t.DISCLOSURE_ACTION=Wt;const Qt=Object.freeze({NON_BLOCKING:0,BLOCKING:1,INFO:2});t.DISCLOSURE_TYPE=Qt;const $t=Object.freeze({DEFAULT_MODE_SETTING:0,STORAGE_SETTING:1,PRIVACY_SETTING:2});t.DM_CHAT_PICKER_ENTRY_POINT_TYPE=$t;const zt=Object.freeze({CHAT_PICKER_LINK_IMPRESSION:0,CHAT_PICKER_TRAY_OPEN:1,CHAT_PICKER_TRAY_EXIT:2,CHAT_PICKER_CHATS_SELECTED:3});t.DM_CHAT_PICKER_EVENT_NAME_TYPE=zt;const Jt=Object.freeze({STORAGE_SETTING:0,PRIVACY:1,DM_TIMER_SCREEN:2,CHAT_PICKER_SCREEN:3});t.DM_SCREEN_ENTRY_POINT_TYPE=Jt;const qt=Object.freeze({SYSTEM:1,GOOGLE:2,HARDCODED:3,NO_DNS:4});t.DNS_RESOLUTION_METHOD_TYPE=qt;const Xt=Object.freeze({OTHER:1,IMAGE:2,VIDEO:3,AUDIO:4,DOCUMENT:5,COMPRESSED_FILE:6,EXECUTABLE:7,VCARD:8});t.DOCUMENT_TYPE=Xt;const Zt=Object.freeze({CHAT_PERSONAL:1,CHAT_GROUP:2,STATUS_USER:3,STATUS_ADS:4,PRODUCT_CATALOG:5,GDPR:6,STICKER_PICKER:7,PROFILE_PICTURE:8,BLOKS:9,P2B:10,MESSAGE_HISTORY_SYNC:11,COMMUNITY:12,CHANNEL:13,BROADCAST:14});t.DOWNLOAD_ORIGIN_TYPE=Zt;const en=Object.freeze({NORMAL_QUALITY:1,MID_QUALITY:2,INELIGIBLE_IMAGE_TOO_SMALL:3,INELIGIBLE_PARTIAL_HASHES_NOT_FOUND:4,ERROR_DETERMINING_ELIGIBILITY:5,NOT_DOWNLOADED_ENOUGH_BYTES_TO_DETERMINE_ELIGIBILITY:6});t.DOWNLOAD_QUALITY_TYPE=en;const tn=Object.freeze({INVALID_SENDER:1,MISSING_DSM:2,INVALID_DSM:3});t.DSM_ERROR=tn;const nn=Object.freeze({MESSAGE:0,PREKEY_MESSAGE:1,SENDER_KEY_MESSAGE:2,MESSAGE_SECRET_MESSAGE:3});t.E2E_CIPHERTEXT_TYPE=nn;const rn=Object.freeze({INDIVIDUAL:0,GROUP:1,LIST:2,STATUS:3});t.E2E_DESTINATION=rn;const on=Object.freeze({INVALID_MESSAGE:0,LEGACY_MESSAGE:1,INVALID_VERSION:2,PRE_KEY_MESSAGE_MISSING_PRE_KEY:3,PRE_KEY_MESSAGE_INVALID_KEY:4,UNTRUSTED_IDENTITY:5,NO_SESSION_AVAILABLE:6,PLAINTEXT_BYTE_MISMATCH:7,UNKNOWN_CIPHERTEXT_TYPE:8,UNKNOWN_CIPHERTEXT_VERSION:9,INVALID_PADDING:10,INVALID_PROTOCOL_BUFFER:11,INVALID_NUMBER_OF_MESSAGE_TYPES:12,INVALID_IMAGE_FILE_LENGTH:13,INVALID_IMAGE_FILE_SHA256:14,INVALID_IMAGE_MEDIA_URL:15,INVALID_IMAGE_MEDIA_KEY:16,INVALID_IMAGE_MIME_TYPE:17,UNKNOWN_V2_TAGS:18,INVALID_EDIT_VERSION:19,INVALID_HSM_NAMESPACE:20,INVALID_HSM_ELEMENT:21,UNKNOWN_PROTOCOL_MESSAGE_TYPE:22,DUPLICATE_MESSAGE:23,FINGERPRINT_IDENTITY_MISMATCH:24,FINGERPRINT_VERSION_MISMATCH:25,INVALID_ARGUMENT:26,INVALID_KEY:27,INVALID_KEY_ID:28,INVALID_MAC:29,NO_MEMORY:30,STALE_KEY_EXCHANGE:31,VRF_SIGNATURE_VERIFICATION_FAILED:32,ERROR_MINIMUM_VALUE:33,ERROR_UNKNOWN:34,INVALID_BROADCAST_STANZA_ATTRIBUTE:35,INVALID_LIST_REPLY_MESSAGE:36,INVALID_LIST_REPLY_ROW_IDENTIFIER:37,INVALID_BUTTONS_RESPONSE_MESSAGE:38,INVALID_BUTTONS_RESPONSE_BUTTON_IDENTIFIER:39,INVALID_ORDER_MESSAGE:40,ERROR_CANCELLED:41,FUTURE_MESSAGE:42,INVALID_EMPTY_PROTOBUF_NOT_ALLOWED:43,SELF_SEND:44,INVALID_MEDIA_MIME_TYPE_TEMPLATE_MESSAGE:45,INVALID_MEDIA_ENC_HASH:46,INVALID_IDENTITY:47,PASSTHROUGH:48,NOT_IN_PENDING_DEVICES:49,EDIT_TYPE_AND_PROTOCOL_MISMATCH:50,DECRYPTION_FAILED:51,DESERIALIZE_INVALID_PROTO_FORMAT:52,DESERIALIZE_RATCHET_KEY_BAD_FORMAT:53,DESERIALIZE_PK_INVALID_PROTO_FORMAT:54,DESERIALZE_PK_KEY_BAD_FORMAT:55,TOO_MANY_MESSAGES_IN_FUTURE:56,EMPTY_VERSION_CONTENT_SUFFIX:57,CONTENT_EXCEEDED_EXPECTED_LENGTH:58,GRP_INVALID_PROTO_FORMAT:59,GRP_INVALID_KEY_FORMAT:60,GRP_VERSION_CONTENT_EMPTY:61,GRP_INVALID_VERSION_CONTENT_LENGTH:62,GRP_SENDER_KEY_INVALID_PROTO_FORMAT:63,GRP_SENDER_KEY_PROTO_ERROR:64,GRP_TOO_MANY_MESSAGES_IN_FUTURE:65,MISSING_MESSAGE_SECRET:66,MESSAGE_SECRET_INVALID:67,INVALID_REACTION_TEXT:68,UNSUPPORTED_MESSAGE_TYPE:69,UNSUPPORTED_IN_INTEROP:70});t.E2E_FAILURE_REASON=on;const an=Object.freeze({MY_PRIMARY:1,OTHER_PRIMARY:2,MY_COMPANION:3,OTHER_COMPANION:4});t.E2E_SENDER_TYPE=an;const sn=Object.freeze({B1:1,B4:2,B8:3,B16:4,B32:5,B64:6,B128:7,B256:8,B512:9,B1000:10,B1500:11,B2000:12,B2500:13,B3000:14,B3500:15,B4000:16,B4500:17,B5000:18,NULL:19});t.E2EE_SIZE_BUCKET=sn;const ln=Object.freeze({ACTION_OPEN:1,ACTION_SAVE:2,ACTION_DISCARD:3,ACTION_PROFILE_FIELD_OPEN:4,ACTION_PROFILE_FIELD_SAVE:5,ACTION_PROFILE_FIELD_DISCARD:6,ACTION_FACEBOOK_ENABLED:7,ACTION_FACEBOOK_DISABLED:8,ACTION_INSTAGRAM_ENABLED:9,ACTION_INSTAGRAM_DISABLED:10,ACTION_FB_IG_POP_SHOWN:11,ACTION_EDIT_COVER_PHOTO_CLICK:12,ACTION_REMOVE_COVER_PHOTO:13,UPGRADE_TO_CUSTOM_LINK_CLICK:14});t.EDIT_PROFILE_ACTION=ln;const cn=Object.freeze({NOT_EDITED:0,EDITED:1,SENDER_REVOKE:2,ADMIN_REVOKE:3});t.EDIT_TYPE=cn;const un=Object.freeze({CALL_TOO_SHORT:1});t.END_CALL_CONFIRMATION_TYPE=un;const dn=Object.freeze({SETTINGS_CONTACTS:1,CONTACTS_LIST:2,CONTACTS_MENU:3,CONTACTPICKER_LIST:4,CONTACTPICKER_MENU:5,EMPTY_CONVERSATIONS:6,EMPTY_CONTACTS:7,INVITE_NON_WA_CONTACT:8,EMPTY_CALLS:9,CHATS_LIST:10,CHANNEL_THREAD:11,CHANNEL_INFO:12});t.ENTRY_POINT=dn;const _n=Object.freeze({BUSINESS_INITIATED:0,CONSUMER_INITIATED:1,NO_MESSAGES_LAST_24H:2});t.ENTRY_POINT_CONVERSATION_INITIATED=_n;const pn=Object.freeze({FIRST_MESSAGE:0,DEEP_CONVERSATION:1,FIRST_BIZ_REPLY:2,SECOND_MESSAGE:3,SECOND_BIZ_REPLY:4,THIRD_MESSAGE:5,FIRST_MESSAGE_CONTINUATION:6,FIRST_BIZ_REPLY_CONTINUATION:7,SECOND_MESSAGE_CONTINUATION:8,SECOND_BIZ_REPLY_CONTINUATION:9,THIRD_MESSAGE_CONTINUATION:10});t.ENTRY_POINT_CONVERSION_TYPE=pn;const fn=Object.freeze({_UNKNOWN_:0,MESSAGE:1,CALL:2,ACK:3,RECEIPT:4,CHATSTATE:5,IQ:6,IB:7,PRESENCE:8,EVENT:9,NOTIFICATION:10,MIXED:11,APPDATA:12});t.ENVELOPE_CLASS=fn;const En=Object.freeze({PEER:0,INDIVIDUAL:1,GROUP:2,STATUS:3,BROADCAST:4,UNDEFINED:5,CHANNEL:6});t.ENVELOPE_STYLE=En;const An=Object.freeze({CHAT_INFO:1,SYSTEM_MESSAGE:2,CHAT_OVERFLOW:3,CHAT_PICKER:4,EPHEMERAL_NUX:5,CHAT_PICKER_DISAPPEARING_MODE_TIMER:6,CHAT_PICKER_STORAGE_SETTING:7});t.EPHEMERAL_SETTING_ENTRY_POINT_TYPE=An;const gn=Object.freeze({INITIATED_BY_ME:1,INITIATED_BY_OTHER:2});t.EPHEMERALITY_INITIATOR_TYPE=gn;const hn=Object.freeze({CHAT_SETTINGS:1,ACCOUNT_SETTINGS:2,BULK_CHANGE:3});t.EPHEMERALITY_TRIGGER_ACTION_TYPE=hn;const Sn=Object.freeze({ROOM_OPEN_FAILURE:1,UNKNOWN_ERROR:2});t.ERROR_REASON=Sn;const Tn=Object.freeze({ERROR_FETCHING_AGENT_NAME:0,ERROR_FETCHING_CHAT:1,ERROR_OTHER:2});t.ERROR_TYPE=Tn;const mn=Object.freeze({CHAT_LIST:1});t.EXPIRE_SURFACE_ID_ENUM=mn;const In=Object.freeze({USER_LEAVE:1,DEVICE_UNPAIR:2,IDENTITY_CHANGE:3,AUDIENCE_CHANGE:4,PERIODIC_ROTATION:5,KEY_CORRUPTION:6,PEER_COMPANION_UNPAIR:7,OTHER_DEVICE_UNPAIR:8});t.EXPIRY_REASON=In;const yn=Object.freeze({BOTH:1,SELF:2,PEER:3});t.FIELD_STATS_ROW_TYPE=yn;const Cn=Object.freeze({FMX_CARD:0,SAFETY_TOOLS:1});t.FMX_ENTRY_POINT=Cn;const vn=Object.freeze({BLOCK:0,ADD_CONTACT:1,REPORT:2,SAFETY_TOOLS:3,COMMON_GROUPS:4,CONTACT_INFO:5,FMX_CARD_INSERTED:6,FMX_CARD_VIEWED:7,LEARN_MORE:8});t.FMX_EVENT=vn;const On=Object.freeze({SHOW:1,LOGOUT:2,UPGRADE:3});t.FORCE_UPGRADE_USER_ACTION_TYPE_V2=On;const Pn=Object.freeze({NEW:0,RETAINED:1,RESURRECTED:2});t.GA_STATUS=Pn;const Nn=Object.freeze({GIPHY:0,TENOR:1});t.GIF_SEARCH_PROVIDER=Nn;const bn=Object.freeze({GET_CATALOG:1,GET_PRODUCT:2,GET_PRODUCT_LIST:3,GET_COLLECTIONS:4,GET_SINGLE_COLLECTION:5,GET_CATEGORIES:6,GET_VARIANTS:7});t.GRAPHQL_CATALOG_ENDPOINT=bn;const Mn=Object.freeze({SUCCESS:1,FAILURE:2});t.GRAPHQL_REQUEST_RESULT=Mn;const Rn=Object.freeze({ADMINS_ONLY:1,ALL_PARTICIPANTS:2});t.GROUP_INFO_SETTING_TYPE=Rn;const Dn=Object.freeze({MEMBERSHIP_REQUEST_CREATE:1,VIEW_PENDING_PARTICIPANTS:2,MEMBERSHIP_REQUEST_APPROVAL_MODE_ON:3,MEMBERSHIP_REQUEST_APPROVAL_MODE_OFF:4,MEMBERSHIP_REQUEST_APPROVE:5,MEMBERSHIP_REQUEST_REJECT:6,MEMBERSHIP_REQUEST_CANCEL:7});t.GROUP_JOIN_REQUEST_ACTION_TYPE=Dn;const Ln=Object.freeze({CHANGE_PROFILE_PHOTO:1,TAP_ACTION_ITEM_TAKE_PHOTO:2,TAP_ACTION_ITEM_VIEW_PHOTO:3,TAP_ACTION_ITEM_EMOJI_STICKER:4,TAP_ACTION_ITEM_UPLOAD_PHOTO:5,TAP_ACTION_ITEM_REMOVE_PHOTO:6,TAP_ACTION_ITEM_WEB_SEARCH:7,EMOJI_PANEL_OPEN:8,STICKER_PANEL_OPEN:9,PROFILE_PIC_UPDATED:10});t.GROUP_PROFILE_ACTION_TYPE=Ln;const wn=Object.freeze({ADMIN:1,MEMBER:2});t.GROUP_ROLE_TYPE=wn;const Bn=Object.freeze({REGULAR_GROUP:1,SUB_GROUP:2,DEFAULT_SUB_GROUP:3,PARENT_GROUP:4});t.GROUP_TYPE_CLIENT=Bn;const Un=Object.freeze({HTTP1:0,HTTP2:1,HTTP3:2});t.HTTP_PROTOCOL_VERSION_TYPE=Un;const Gn=Object.freeze({NONE:1,BANNERS:2,ALERTS:3});t.IN_APP_NOTIFICATION_ALERT_STYLE=Gn;const kn=Object.freeze({INCOMING_CALL_SCREEN_ANSWER:1,INCOMING_CALL_SCREEN_REJECT:2,INCOMING_CALL_NOTIFICATION_ANSWER:3,INCOMING_CALL_NOTIFICATION_REJECT:4,PENDING_CALL_SCREEN_END_AND_ANSWER:5,PENDING_CALL_SCREEN_HOLD_AND_ANSWER:6,PENDING_CALL_SCREEN_REJECT:7,INCOMING_CALL_REMOTE_ANSWER:8,INCOMING_CALL_REMOTE_REJECT:9,PENDING_CALL_NOTIFICATION_END_AND_ANSWER:10,PENDING_CALL_NOTIFICATION_REJECT:11});t.INCOMING_CALL_UI_ACTION_TYPE=kn;const Yn=Object.freeze({DEFAULT:0,PROBING_ROTT_TO_RELAY:1,PROBING_E2E_PEER_RX:2,PROBING_E2E_RX:3,HIS_RECENT_PEER_RX:4,HIS_RECENT_RX:5,HIS_RECENT_PROBING_ROTT_TO_RELAY:6,HIS_RECENT_PROBING_E2E_PEER_RX:7,HIS_RECENT_PROBING_E2E_RX:8,ONE_SIDE_INITIAL_BANDWIDTH_ESTIMATION:9});t.INIT_BWE_SOURCE=Yn;const Fn=Object.freeze({LOGO:1,MUSIC:2,AUTHOR:3,WATCH_MORE_END:4});t.INLINE_VIDEO_CTA_CLICK=Fn;const Kn=Object.freeze({FACEBOOK:1,FACEBOOK_WATCH:2,INSTAGRAM:3,YOUTUBE:4,STREAMABLE:5,NETFLIX:6,LASSO:7,SHARECHAT:8});t.INLINE_VIDEO_TYPE=Kn;const xn=Object.freeze({ELIGIBLE:1,LOAD_STARTED:2,LOAD_SUCCESS:3,LOAD_ERROR:4,RENDERED:5,SHOWN:6,SCREEN_ID_NOTIFIED:7,BANNER_PRIMARY_CTA_CLICKED:8,INSIGHT_CLICKED:9});t.INSIGHT_SCREEN_ACTION=xn;const Hn=Object.freeze({USER_START:0,USER_CANCEL:1,FLOW_SUCCESS:2,FLOW_ERROR:3,USER_VIEW:4,USER_PAY_NOW:5,USER_VIEW_BASKET:6,CLICK_PAYMENT_DETAILS:7,CLICK_MESSAGE_BUSINESS:8,MODIFY_PAYMENT_METHOD:9,CONFIRM_PAYMENT_METHOD:10,USER_VIEW_SUMMARY:11,USER_PAY_NOW_QUICK_BUY:12,USER_SEND_PAYMENT:13,USER_SEND_PAYMENT_QUICK_BUY:14,CLICK_HELP:15,CLICK_ORDER_SUMMARY:16,USER_CONFIRM:17,CLICK_REPORT_THIS_TRANSACTION:18,USER_COMPLETED_PAYMENT_INTENT:19,USER_SHARE_MENU_OPEN:20,USER_OPEN_BROWSER:21,USER_COPY_LINK:22,USER_SHARE_LINK:23,USER_SHARE_MENU_CANCEL:24,USER_REFRESH:25,USER_FORWARD:26,USER_BACK:27,VIEW_EVENT_SHARING_TOS_ALERT:28,DISMISS_EVENT_SHARING_TOS_ALERT:29,CLICK_EVENT_SHARING_TOS:30,ACCEPT_EVENT_SHARING_TOS:31,REJECT_EVENT_SHARING_TOS:32,CLICK_TO_VIEW_EVENT_SHARING_TOS_ALERT:33,START_CHAT_FROM_CTWA:34});t.INTERACTION_TYPE=Hn;const jn=Object.freeze({KEEP_MESSAGE:1,UNKEEP_MESSAGE:2,VIEW_KEPT_MESSAGES:3,SEARCH_RESULTS_DISPLAY:4,SEARCH_RESULTS_TAP:5});t.KIC_ACTION_NAME_TYPE=jn;const Vn=Object.freeze({KEEP_MESSAGE:1,UNKEEP_MESSAGE:2});t.KIC_ACTION_TYPE=Vn;const Wn=Object.freeze({SENDER:1,RECIPIENT:2});t.KIC_ACTOR_TYPE=Wn;const Qn=Object.freeze({CHAT_INFO:1,SEARCH:2,CHAT:3,MEDIA:4,DOCS:5,LINKS:6});t.KIC_ENTRY_POINT_TYPE=Qn;const $n=Object.freeze({NONE:1,MESSAGE_MISSING:2,MESSAGE_REVOKED:3,SENDER_UNKEPT:4,OLDER_REQUEST:5,ORPHAN_EXPIRED:6,TIE_BREAK_IGNORED:7,MESSAGE_EXPIRED:8,NO_PERMISSION_TO_EDIT:9,MESSAGE_FROM_EX_MEMBER:10,OFFLINE:11,SENDER_DISABLED:12,KEPT_BEYOND_EXPIRY:13,NOT_PART_OF_THE_GROUP:14,CONTACT_BLOCKED:15,UNKNOWN:999});t.KIC_ERROR_CODE_TYPE=$n;const zn=Object.freeze({FIRST_DM_NUX_IMPRESSION:1,KIC_NUX_IMPRESSION:2,KIC_NUX_LEARN_MORE_TAP:3,KIC_SYSTEM_MESSAGE_GENERATE:4});t.KIC_NUX_ACTION_NAME_TYPE=zn;const Jn=Object.freeze({KEEP:1,UNKEEP:2});t.KIC_REQUEST_TYPE_TYPE=Jn;const qn=Object.freeze({ADD:1,EDIT:2,DELETE:3,VIEW:4,CLICK_POSITIVE:5,CLICK_NEGATIVE:6,UPDATE_LABEL_COUNT:7,AUTO_ADDED:8});t.LABEL_OPERATIONS=qn;const Xn=Object.freeze({LABEL:1,MESSAGE:2,CONTACT:3,LABELS_SCREEN:4,LABEL_DETAILS_SCREEN:5,EDIT_LABEL_DIALOG:6,DELETE_LABEL_DIALOG:7,LABEL_MESSAGE_DIALOG:8,LABEL_CHAT_DIALOG:9,ADD_LABEL_DIALOG:10,BULK_UNLABEL_DIALOG:11,LABEL_COMBINED_DIALOG:12,GROUP:13,BROADCAST:14});t.LABEL_TARGETS=Xn;const Zn=Object.freeze({MESSAGE_SYNCING:1,SYNC_COMPLETE_CHECK_PHONE:2});t.LOADING_MESSAGE_TYPE_SHOWN=Zn;const er=Object.freeze({TRUE:1,FALSE:2,NOT_DETERMINED:3,RESTRICTED:4,DENIED:5,ALWAYS:6,WHEN_IN_USE:7,UNKNOWN:8});t.LOCATION_PERMISSION_POST=er;const tr=Object.freeze({TRUE:1,FALSE:2,NOT_DETERMINED:3,RESTRICTED:4,DENIED:5,ALWAYS:6,WHEN_IN_USE:7,UNKNOWN:8});t.LOCATION_PERMISSION_PRE=tr;const nr=Object.freeze({CURRENT_LOCATION_SENT:1,CUSTOM_LOCATION_SENT:2,PLACE_SENT:3,NO_LOCATION_SENT:4});t.LOCATION_STATUS=nr;const rr=Object.freeze({SYSTEM:1,GOOGLE:2,HARDCODED:3,NO_DNS:4});t.LOGIN_DNS_RESOLVER_TYPE=rr;const ir=Object.freeze({PUSH_OVERRIDES:1,G_WHATSAPP_NET:2,PUSH_FALLBACKS:3,G_FALLBACK_WHATSAPP_NET:4,HARDCODED_LIST:5,EX_WHATSAPP_NET:6});t.LOGIN_HOST_TYPE=ir;const or=Object.freeze({P5222:1,P443:2,P80:3,UNKNOWN:4});t.LOGIN_PORT_NUMBER=or;const ar=Object.freeze({OK:1,ERROR_UNKNOWN:2,SERVER_ERROR:3,SERVER_GOAWAY:4,NETWORK_ERROR:5,ANDROID_KEYSTORE_ERROR:6,CERTIFICATE_ERROR:7});t.LOGIN_RESULT_TYPE=ar;const sr=Object.freeze({IMAGE:1,VIDEO:2});t.LWI_AD_MEDIA_TYPE=sr;const lr=Object.freeze({LWI_ADS_CONTENT_TYPE_PRODUCT:1,LWI_ADS_CONTENT_TYPE_STATUS:2,LWI_ADS_CONTENT_TYPE_DEVICE_MEDIA:3,LWI_ADS_CONTENT_TYPE_BUSINESS_PROFILE_PIC:4,LWI_ADS_CONTENT_TYPE_CAMERA:9,LWI_ADS_CONTENT_TYPE_RECENTLY_USED_MEDIA:10,LWI_ADS_CONTENT_TYPE_CATALOGS_ALL:11,LWI_ADS_CONTENT_TYPE_STATUSES_ALL:12});t.LWI_ADS_CONTENT_TYPE=lr;const cr=Object.freeze({PAGE:1,WHATSAPP:2});t.LWI_ADS_IDENTITY_TYPE=cr;const ur=Object.freeze({LWI_ERROR_CATALOG_LIST_FB_PAGE_NOT_LINKED:1,LWI_ERROR_CATALOG_LIST_EMPTY:2,LWI_ERROR_CATALOG_LIST_NO_ELIGIBLE_PRODUCT:3,LWI_ERROR_UNSUPPORTED_OLD_FB_VERSION:4,LWI_ERROR_STATUS_EMPTY:5,LWI_NONCE_ERROR:6,LWI_ERROR_AD_ACCOUNT_CURRENCY_MISMATCH:7,LWI_AD_CREATION_ERROR:8,LWI_MISSING_PAYMENT_METHOD:9,LWI_NO_INTERNET_CONNECTION:10,LWI_SPECIAL_ADS_CATEGORY:11,LWI_LOGIN_ON_FACEBOOK:12,LWI_REMOVE_FB_ACCOUNT:13,LWI_WEBSITE_NOT_SAFE:14,LWI_WEBSITE_NOT_AVAILABLE:15,LWI_NON_HTTPS:16,LWI_FB_WEB_LOGIN_TOKEN_FETCH_ERROR:17,LWI_RETRY_WEB_LOGIN_DIALOG_ERROR:18,LWI_UNABLE_TO_REDIRECT_BROWSER_NOT_FOUND:19,LWI_AD_ACCOUNT_SWITCH_ERROR:20,LWI_POLICY_REVIEW_REQUIRED:21,LWI_SOMETHING_WENT_WRONG:22,LWI_MAXIMUM_RETRY_CODE_REACH:23,LWI_ERROR_WRONG_CODE:24,LWI_ERROR_INCORRECT_EMAIL_FORMAT:25,LWI_NO_RESULTS_FOUND:26,LWI_ACTION_ESTIMATED_REACH_FAILED_TO_LOAD:27});t.LWI_ALERT_REASON=ur;const dr=Object.freeze({PROMOTE_AGAIN:1,PAUSE_AD:2,RESUME_AD:3,ADD_BUDGET:4,VIEW_AD:5});t.LWI_CTWA_AD_CTA_TYPE=dr;const _r=Object.freeze({ACTIVE:1,SCHEDULED:2,PAUSED:3,NOT_DELIVERING:4,REJECTED:5,FINISHED:6,IN_REVIEW:7,COMPLETED:8,EXTENDABLE:9,UNABLE_TO_CREATE:10});t.LWI_CTWA_AD_STATUS_TYPE=_r;const pr=Object.freeze({UNKOWN:1,MATCHES_TARGETING_SPEC:2,DIFFERS_FROM_TARGETING_SPEC:3});t.LWI_DEFAULT_TARGETING_SPEC=pr;const fr=Object.freeze({SMB_CATALG_LIST_LWI_ADVERTISE_BANNER:1,SMB_CATALOG_LIST_ADVERTISE_MENU_ITEM:2,SMB_BUSINESS_TOOLS_ADVERTISE_LIST_ITEM:3,SMB_STATUS_DETAILS_ADVERTISE_MENU_ITEM:4,SMB_STATUS_PREVIEW_ADVERTISE_MENU_ITEM:5,SMB_CONVERSATIONS_LIST_BANNER_WITH_VALID_PRODUCT:6,SMB_CONVERSATIONS_LIST_BANNER_WITHOUT_VALID_PRODUCT:7,SMB_STATUS_3DTOUCH_ADVERTISE_MENU_ITEM:8,SMB_HOME_SCREEN_OVERFLOW_MENU_ITEM:9,SMB_BUSINESS_TOOLS_ADVERTISE_LIST_FIRST_ITEM:10,SMB_SETTINGS_ADVERTISE_LIST_ITEM:11,SMB_ADVERTISE_FROM_NOTIFICATION:12,SMB_ADVERTISE_FROM_BANNER:13,SMB_ADVERTISE_FROM_DEEP_LINK:14,SMB_BUSINESS_TOOLS_TAB_ADVERTISE:15,SMB_CATALOG_LIST_ADVERTISE_BUTTON:16,SMB_PRODUCT_DETAILS_ADVERTISE_BUTTON:17,SMB_ADVERTISE_FROM_STATUS_MESSAGE:18,SMB_HOME_SCREEN_ICON:19,SMB_HOME_BANNER:20,SMB_ADVERTISE_FROM_STATUS_MESSAGE_SELF_VIEW:21,SMB_STATUS_MAIN_TAB_ADVERTISE:22,SMB_STATUS_MAIN_TAB_BANNER:23,SMB_BUSINESS_HOME_CARD_CREATE_FIRST_AD:24,SMB_BUSINESS_HOME_CARD_CREATE_RETURNING_AD:25,SMB_MEDIA_SHARE_VIA_GROUP:26,SMB_MEDIA_SHARE_VIA_BROADCAST:27,STATUS_PLAYBACK_SCREEN_ICON:28,CATALOG_SHARED_IN_GROUP:29,CATALOG_SHARED_IN_BROADCAST_LIST:30,CATALOG_SHARED_IN_SINGLE_CHAT:31,PRODUCT_SHARED_IN_SINGLE_CHAT:32,PRODUCT_SHARED_IN_BROADCAST_LIST:33,PRODUCT_SHARED_IN_GROUP:34,PRODUCT_LINK_SHARED_IN_SINGLE_CHAT:35,PRODUCT_LINK_SHARED_IN_BROADCAST_LIST:36,PRODUCT_LINK_SHARED_IN_GROUP:37,SMB_MESSAGING_GUIDE_AD_CREATION:38,SMB_BUSINESS_HOME_ADVERTISE_FROM_BANNER:39,SMB_STATUS_UPSELL_BOTTOM_SHEET:40,BUSINESS_PROFILE:41,SMB_BUSINESS_HOME_CARD_ACTIVE_AD:42,SMB_STATUS_CHANNELS_TAB_ADVERTISE:43,SMB_STATUS_CHANNELS_TAB_BANNER:44,SMB_PRODUCT_UPSELL_BOTTOM_SHEET:45,SMB_STATUS_CHANNELS_UPSELL_BOTTOM_SHEET:46,SMB_ADVERTISE_FROM_FORWARD_SCREEN_INDIVIDUAL:47,SMB_ADVERTISE_FROM_FORWARD_SCREEN_GROUP:48,SMB_ADVERTISE_FROM_FORWARD_SCREEN_BROADCAST:49,SMB_BUSINESS_HOME_CARD_ACTIVE_AD_DISMISS:50,SMB_BUSINESS_HOME_CARD_DRAFT_AD:51,SMB_BUSINESS_HOME_MANAGE_AD:52,SMB_BUSINESS_TOOLS_MANAGE_AD:53});t.LWI_ENTRY_POINT=fr;const Er=Object.freeze({LWI_ACTION_VIEW:1,LWI_ACTION_BACK_BUTTON_TAPPED:2,LWI_ACTION_CREATE_ADS_TAPPED:3,LWI_ACTION_MANAGE_ADS_TAPPED:4,LWI_ACTION_LEARN_MORE_TAPPED:5,LWI_ACTION_PRODUCT_SELECTED:6,LWI_ACTION_CONTINUE_TAPPED:7,LWI_MANAGE_ADS_DISPLAYED:8,LWI_ALERT:9,LWI_ACTION_PROMOTE_CATALOG_ITEMS_TAPPED:10,LWI_ACTION_PROMOTE_STATUSES_TAPPED:11,LWI_ACTION_PROMOTE_NEW_CONTENT_TAPPED:12,LWI_ACTION_CONTACT_US_TAPPED:13,LWI_ACTION_HELP_TAPPED:14,LWI_ACTION_STATUS_SELECTED:15,LWI_ACTION_PRODUCT_DESELECTED:16,LWI_ACTION_NUX_CONTINUE_TAPPED:17,LWI_ACTION_RECOMMENDED_CATALOG_ITEM_SELECTED:18,LWI_ACTION_RECOMMENDED_STATUS_ITEM_SELECTED:19,LWI_ACTION_NO_CATALOG_TO_ADVERTISE_TAPPED:20,LWI_ACTION_NO_STATUS_TO_ADVERTISE_TAPPED:21,LWI_CREATE_AD_DISPLAYED:22,LWI_ACTION_CONTINUE_TO_MEDIA_SELECTOR_TAPPED:23,LWI_ACTION_AD_DESCRIPTION_TAPPED:24,LWI_ACTION_AD_DESCRIPTION_SAVE_TAPPED:25,LWI_ACTION_AD_DESCRIPTION_CANCEL_TAPPED:26,LWI_ACTION_EDIT_BUDGET_TAPPED:27,LWI_ACTION_DAILY_BUDGET_SELECTED:28,LWI_ACTION_CUSTOM_DAILY_BUDGET_TAPPED:29,LWI_ACTION_CUSTOM_DAILY_BUDGET_SAVE_TAPPED:30,LWI_ACTION_CUSTOM_DAILY_BUDGET_CANCEL_TAPPED:31,LWI_ACTION_AD_DURATION_UPDATED:32,LWI_ACTION_EDIT_AUDIENCE_TAPPED:33,LWI_ACTION_EDIT_AUDIENCE_LOCATION_TAPPED:34,LWI_ACTION_AUDIENCE_LOCATION_SELECTED:35,LWI_ACTION_AUDIENCE_LOCATION_DESELECTED:36,LWI_ACTION_AUDIENCE_AGE_RANGE_UPDATED:37,LWI_ACTION_AUDIENCE_GENDER_SELECTED:38,LWI_ACTION_SPECIAL_ADS_CATEGORY_TAPPED:39,LWI_ACTION_SPECIAL_ADS_CATEGORY_CONTINUE_TAPPED:40,LWI_ACTION_SPECIAL_ADS_CATEGORY_CANCEL_TAPPED:41,LWI_ACTION_ADD_PAYMENT_TAPPED:42,LWI_ACTION_CREATE_AD_TAPPED:43,LWI_ACTION_EDIT_ACCOUNT_TAPPED:44,LWI_ACTION_EDIT_PAYMENT_TAPPED:45,LWI_ACTION_REMOVE_ACCOUNT_TAPPED:46,LWI_ACTION_REMOVE_ACCOUNT_REMOVE_TAPPED:47,LWI_ACTION_REMOVE_ACCOUNT_CANCEL_TAPPED:48,LWI_ACTION_CONSENT_CONTINUE_TAPPED:49,LWI_ACTION_AD_CREATED_BANNER_IMPRESSION:50,LWI_ACTION_AD_CREATED_BANNER_CLICK:51,LWI_ACTION_AD_CREATED_BANNER_DISMISS:52,LWI_ACTION_AD_SETTINGS_TAPPED:53,LWI_ACTION_REFRESH_AD_DETAILS_SCREEN:54,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_RECOMMENDED_STATUS_SELECTED:55,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_PHONE_MEDIA_SELECTED:56,LWI_ACTION_MEDIA_SELECTION_COMPLETE:57,LWI_ACTION_CROP_IMAGE_DONE:58,LWI_ACTION_CONSENT_NOT_YOU_TAPPED:59,LWI_ACTION_SWITCH_ACCOUNT_TAPPED:60,LWI_ACTION_SWITCH_ACCOUNT_SWITCH_TAPPED:61,LWI_ACTION_SWITCH_ACCOUNT_CANCEL_TAPPED:62,LWI_ACTION_WEB_LOGIN_PAGE_LOADED:63,LWI_ACTION_WEB_LOGIN_SUCCESS:64,LWI_ACTION_CONSENT_LOGIN_TAPPED:65,LWI_ACTION_WEB_LOGIN_CANCELLED:66,LWI_ACTION_WEB_LOGIN_TRY_AGAIN:67,LWI_NEW_MANAGE_ADS_TAB_ADS_LOADED:68,LWI_NEW_MANAGE_ADS_TAB_AD_CLICKED:69,LWI_NEW_MANAGE_ADS_TAB_AD_CTA_MENU_CLICKED:70,LWI_NEW_MANAGE_ADS_TAB_AD_CTA_ITEM_CLICKED:71,LWI_NEW_MANAGE_ADS_TAB_EDUCATION_BANNER_SHOWN:72,LWI_NEW_MANAGE_ADS_TAB_EDUCATION_BANNER_CANCELLED:73,LWI_NEW_MANAGE_ADS_TAB_CONSENT_SHOWN:74,LWI_NEW_MANAGE_ADS_TAB_CONSENT_ACCEPTED:75,LWI_NEW_MANAGE_ADS_TAB_CONSENT_DIFFERENT_USER_SIGN_IN:76,LWI_NEW_MANAGE_ADS_TAB_WEB_LOGIN_CONSENT_SCREEN_SHOWN:77,LWI_NEW_MANAGE_ADS_TAB_CONSENT_WEB_LOGIN_SIGN_IN:78,LWI_NEW_MANAGE_ADS_TAB_WEB_LOGIN_SUCCESSFUL:79,LWI_MANAGE_ADS_TAPPED_V2:80,LWI_NEW_MANAGE_ADS_TAB_AD_CREATED_BANNER_CANCELLED:81,LWI_NEW_MANAGE_ADS_TAB_AD_CREATED_BANNER_BACK_PRESED:82,LWI_NO_PERMISSION_TO_MANAGE_ADS_DIALOG_SHOWN:83,LWI_SWITCH_ACCCOUNT_ON_NO_MANAGE_ADS_PERMISSION_DIALOG_PRESSED:84,LWI_LOGIN_PRESSED_ON_SESSION_EXPIRED:85,LWI_ASYNC_DATA:86,LWI_ACTION_AD_ACCOUNTS_TAPPED:87,LWI_ACTION_AD_ACCOUNT_SELECTED:88,LWI_ACTION_AD_ACCOUNT_SWITCH_SUCCESS:89,LWI_ACTION_AD_ACCOUNT_SWITCH_CANCELLED:90,LWI_ACTION_SELECT_SAVED_AUDIENCE:91,LWI_ACTION_SELECT_DEFAULT_AUDIENCE:92,LWI_ACTION_EDIT_DEFAULT_AUDIENCE:93,LWI_ACTION_NON_DISCRIMINATION_POLICY_ACCEPT_TAPPED:94,LWI_ACTION_POLICY_REVIEW_REQUIRED_EXIT_TAPPED:95,LWI_ACTION_POLICY_REVIEW_REQUIRED_REVIEW_TAPPED:96,LWI_ACTION_NON_DISCRIMINATION_POLICY_ACCEPT_SUCCESS:97,LWI_ACTION_NON_DISCRIMINATION_POLICY_CANCELLED:98,LWI_ACTION_NON_DISCRIMINATION_POLICY_TRY_AGAIN:99,LWI_ACTION_LOADED:100,LWI_CTA_MENU_CLICKED:101,LWI_ACTION_CTA_ITEM_CLICKED:102,LWI_ACTION_AD_PREVIEW_TAPPED:103,LWI_AD_PREVIEW_STARTED:104,LWI_BILLING_LOADED:105,LWI_BILLING_ERROR:106,LWI_IMAGE_URL_DETAILS_LOADED:107,LWI_ACTION_BILLING_RETRY_TAPPED:108,LWI_ACTION_VIEW_DETAILED_INSIGHTS_TAPPED:109,LWI_ACTION_VIEW_ADVANCED_AUDIENCE_TAPPED:110,LWI_ACTION_PROMOTE_AGAIN_TAPPED:111,LWI_ACTION_EDIT_ON_FACEBOOK_TAPPED:113,LWI_ACTION_SWIPE_REFRESH:114,LWI_ACTION_VIEW_FACEBOOK_AD_PREVIEW:115,LWI_ACTION_VIEW_INSTAGRAM_AD_PREVIEW:116,LWI_ACTION_NEXT_BUTTON_TAPPED:117,LWI_ACTION_LOADING_ERROR:118,LWI_ACTION_DIALOG_DISMISSED:119,LWI_NETWORK_ERROR_SHOWN:120,LWI_GENERIC_ERROR_SHOWN:121,LWI_RETRY_BUTTON_TAPPED:122,LWI_ACTION_RECOMMENDED_BUINESS_POFILE_ITEM_SELECTED:123,LWI_ACTION_BUINESS_POFILE_ITEM_SELECTED:124,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_RECOMMENDED_BUSINESS_PROFILE_SELECTED:125,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_BUSINESS_PROFILE_SELECTED:126,LWI_ACTION_EDIT_IMAGE_DONE:127,LWI_ACTION_WA_PAGELESS_BUTTON_TAPPED:128,LWI_ACTION_SWITCH_FACEBOOK_ACCOUNT_BUTTON_TAPPED:129,LWI_ACTION_TRY_AGAIN_DIALOG_BUTTON_TAPPED:130,LWI_ACTION_CANCEL_DIALOG_BUTTON_TAPPED:131,LWI_PAGE_PERMISSION_ERROR_RESOLVED:132,LWI_PAGE_PERMISSION_ERROR_UNRESOLVED:133,LWI_ACTION_PROMOTE_TEXT_TAPPED:134,LWI_ACTION_EXIT_CONF_SHOWN:135,LWI_ACTION_EXIT_CONF_EXIT_TAPPED:136,LWI_ACTION_EXIT_CONF_RETURN_TO_AD_TAPPED:137,AD_WITH_ALERT_DISPLAYED:138,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_CAMERA_SELECTED:139,LWI_ACTION_CONTINUE_TO_AD_SETTINGS_WITH_GALLERY_SELECTED:140,LWI_ACTION_CAMERA_ITEM_SELECTED:141,LWI_ACTION_GALLERY_ITEM_SELECTED:142,LWI_ACTION_CHOOSE_DIFFERENT_MEDIA_CLICKED:143,LWI_ACTION_GET_STARTED_CLICKED:144,LWI_ACTION_SELECT_PHOTO_FROM_GALLERY:145,LWI_ACTION_PUBLISH_FB_PAGE_BUTTON_TAPPED:146,LWI_ACTION_ADMIN_RIGHTS_SUB_STEP_VIEW:147,LWI_ACTION_SEND_CODE_BUTTON_TAPPED:148,LWI_ACTION_OPEN_EMAIL_APP_TAPPED:149,LWI_ACTION_CHANGE_EMAIL_TAPPED:150,LWI_ACTION_RESEND_TAPPED:151,LWI_ACTION_NONCE_SUBMIT:152,LWI_ACTION_VERIFY_SUCCESS:153,LWI_ACTION_CODE_FIELD_TAPPED:154,LWI_ACTION_AD_ACC_SETTINGS_MENU_OPT_TAPPED:155,LWI_ACTION_AD_PAYMENTS_ROW_TAPPED:156,LWI_ACTION_AD_DESIGN_UPDATE_TAPPED:157,LWI_ACTION_AD_SETTINGS_UPDATE_TAPPED:158,LWI_ACTION_CANCEL_BUTTON_TAPPED:159,LWI_ACTION_SAVE_BUTTON_TAPPED:160,LWI_EDIT_AD_ACC_EMAIL_SUCCESS:161,LWI_ACTION_AD_APPEAL_BANNER_SHOWN:164,LWI_ACTION_APPEAL_REQUEST_REVIEW_TAPPED:165,LWI_ACTION_APPEAL_VIEW_STATUS_TAPPED:166,LWI_ACTION_APPEAL_LEARN_MORE_TAPPED:167,LWI_ACTION_AD_ACCOUNT_APPEAL_BANNER_SHOWN:168,LWI_ACTION_SUBMIT_TAPPED:169,LWI_MEDIA_PARSING_STARTED:170,LWI_MEDIA_PARSING_SUCCESS:171,LWI_MEDIA_PARSING_FAILURE:172,LWI_ACTION_VIDEO_AD_PREVIEW_AUDIO_MUTE_TAPPED:174,LWI_ACTION_VIDEO_AD_PREVIEW_AUDIO_UNMUTE_TAPPED:175,SMB_STATUS_UPSELL_BOTTOM_SHEET_DISMISS:178,LWI_ACTION_ITEM_SELECTED:179,LWI_ACTION_CONTEXTUAL_HELP_OPENED:180,LWI_ACTION_EMAIL_INPUT_STARTED:181,LWI_ACTION_SEARCH_ADDRESS_TAPPED:182,LWI_ACTION_SAVE_MAP_AUDIENCE_TAPPED:183,LWI_ACTION_MAP_RADIUS_SELECTED:184,LWI_ACTION_MAP_LOCATION_ITEM_TAPPED:185,LWI_ACTION_SAVE_MAP_AUDIENCE_SUCCESS:186,LWI_ACTION_AUDIENCE_REGION_OPTION_SELECTED:187,LWI_ACTION_AUDIENCE_MAP_OPTION_SELECTED:188,LWI_ACTION_EDIT_MAP_AUDIENCE_TAPPED:189,LWI_ACTION_ESTIMATED_REACH_SUCCESS:190,LWI_ACTION_CONTINUE_TO_STATUS_PICKER_SELECTED:191,LWI_ACTION_ITEM_DESELECT:192,LWI_ACTION_EDIT_MEDIA_CLICKED:193,LWI_ACTION_EDIT_MEDIA_COMPLETE:194,LWI_ACTION_EDIT_MEDIA_CANCELLED:195,LWI_ACTION_AD_CREATION_HUB_DRAFT_AD_TAP:196,LWI_ACTION_AD_CREATION_DRAFT_AD_SAVED:197});t.LWI_SCREEN_ACTION=Er;const Ar=Object.freeze({LWI_SCREEN_ADSCREATION_HUB:1,LWI_SCREEN_PRODUCT_SELECTOR:2,LWI_SCREEN_CATALOG_LIST:3,LWI_SCREEN_CONTENT_SELECTOR:4,LWI_SCREEN_HELP:5,LWI_SCREEN_STATUS_SELECTOR:6,LWI_SCREEN_MULTI_PRODUCT_SELECTOR:7,LWI_SCREEN_NUX_EDUCATION:8,LWI_SCREEN_ADSCREATION_HUB_V2:9,LWI_SCREEN_AD_DETAILS:10,LWI_SCREEN_FB_CONSENT_CONFIRM:11,LWI_SCREEN_ADSCREATION_HUB_MANAGE:12,LWI_SCREEN_INSTAGRAM_AD_PREVIEW:13,LWI_SCREEN_AD_BUDGET:14,LWI_SCREEN_AD_AUDIENCE:15,LWI_SCREEN_AD_AUDIENCE_LOCATION:16,LWI_SCREEN_AD_SETTINGS:17,LWI_SCREEN_WEB_PAYMENT:18,LWI_SCREEN_MEDIA_SELECTION_FLOW:19,LWI_SCREEN_IMAGE_CROPPING:20,LWI_SCREEN_FB_WEB_LOGIN_CONSENT_CONFIRM:21,LWI_SCREEN_FB_WEB_LOGIN:22,LWI_MANAGE_ADS_TAB:23,LWI_MANAGE_ADS_FB_CONSENT:24,LWI_MANAGE_ADS_FB_CONSENT_NOT_LOGGED_IN:25,LWI_SCREEN_AD_AUDIENCE_LIST:26,LWI_SCREEN_NATIVE_NON_DISCRIMINATION_CERTIFICATION:27,LWI_MANAGE_AD_DETAILS_PAGE:28,LWI_SCREEN_AD_PREVIEW:29,LWI_NATIVE_ADS_STEPPED_FLOW_DESIGN_AD:30,LWI_NATIVE_ADS_STEPPED_FLOW_AD_SETTINGS:31,LWI_NATIVE_ADS_STEPPED_FLOW_AD_REVIEW:32,LWI_SCREEN_IMAGE_EDITING:33,LWI_FAST_TRACK_PAGE_PERMISSION:34,LWI_FAST_TRACK_HOST:35,LWI_NATIVE_ADS_NUX_EDUCATION_WITH_MEDIA:36,LWI_PUBLISH_FB_PAGE:37,LWI_SCREEN_AD_ACCOUNT_EMAIL_SUBMIT:38,LWI_SCREEN_NONCE_SUBMIT:39,LWI_SCREEN_AD_ACCOUNTS_SETTINGS:40,LWI_SCREEN_BILLING_HUB:41,LWI_SCREEN_EDIT_AD_ACC_EMAIL:42,LWI_SCREEN_RECOVERY_AD_ACCOUNT:43,LWI_SCREEN_MULTI_STATUS_SELECTOR:44,LWI_SCREEN_APPEAL_REJECTED_AD:45,LWI_SCREEN_APPEAL_AD_ACCOUNT_BAN:46,LWI_SCREEN_AD_APPEAL_STATUS:47,LWI_SCREEN_AD_ACCOUNT_APPEAL_STATUS:48,LWI_DIALOG_GALLERY_MEDIA_SOURCE_SELECTOR:49,LWI_SCREEN_NATIVE_EDIT_MAP_AUDIENCE:50,LWI_SCREEN_MEDIA_PICKER_RECENTLY_USED:51,LWI_SCREEN_MEDIA_PICKER_STATUSES:52,LWI_SCREEN_MEDIA_PICKER_CATALOG:53});t.LWI_SCREEN_REFERENCE=Ar;const gr=Object.freeze({SMB_HOME_SCREEN_CONVERSATIONS_TAB:1,SMB_HOME_SCREEN_STATUS_TAB:2,SMB_HOME_SCREEN_CALL_HISTORY_TAB:3,SMB_HOME_SCREEN_COMMUNITIES_TAB:4,SMB_HOME_SCREEN_BIZ_HOME_TAB:5});t.LWI_SUB_ENTRY_POINT=gr;const hr=Object.freeze({WEB_OVERFLOW_MENU:1,SMB_CHAT_LIST_CTWA_BANNER:2});t.MANAGE_ADS_ENTRY_POINT=hr;const Sr=Object.freeze({RECEIVED:1,READ:2,CLICKED:3});t.MARKETING_OPT_OUT_EVENT_TYPE=Sr;const Tr=Object.freeze({APP_STATE_SYNC_KEY_EXPIRY:1,DEVICE_DEREGISTERATION:2,NO_KEYS:3});t.MD_APP_STATE_KEY_ROTATION_REASON_CODE=Tr;const mr=Object.freeze({INITIAL:1,RECENT_HISTORY:2,FULL_HISTORY:3,PUSHNAME:4,STATUS_V3:5,NON_BLOCKING_DATA:6,ON_DEMAND:7});t.MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE=mr;const Ir=Object.freeze({CRITICAL:1,NON_CRITICAL:2});t.MD_BOOTSTRAP_PAYLOAD_TYPE=Ir;const yr=Object.freeze({APP_STATE:1,HISTORY:2});t.MD_BOOTSTRAP_SOURCE=yr;const Cr=Object.freeze({SUCCESS:1,FAILURE:2});t.MD_BOOTSTRAP_STEP_RESULT=Cr;const vr=Object.freeze({ASSIGNED:0,UNASSIGNED:1});t.MD_CHAT_ASSIGNMENT_ASSIGNMENT_TYPE=vr;const Or=Object.freeze({GROUP:0,BROADCAST_LIST:1,INDIVIDUAL:2,COMMUNITY:3,CHANNEL:4});t.MD_CHAT_ASSIGNMENT_CHAT_TYPE=Or;const Pr=Object.freeze({ACTION_SYSTEM_MESSAGE_ADDED_TO_CHAT_HISTORY:0,ACTION_SYSTEM_MESSAGE_CREATION_ERROR:1,ACTION_SYSTEM_MESSAGE_RENDERED:2,ACTION_CHAT_STATUS_TICKER_SHOWN:3,ACTION_TOOLTIP_SHOWN:4});t.MD_CHAT_ASSIGNMENT_SECONDARY_ACTION_TYPE=Pr;const Nr=Object.freeze({NONE:0,BOOTSTRAP:1});t.MD_CHAT_ASSIGNMENT_SOURCE_TYPE=Nr;const br=Object.freeze({PIN_MUTATION:1,UNPIN_4TH_CHAT_MUTATION:2,DELETE_MUTATION:3,CLEAR_CHAT_REMOVE_STARRED_MUTATION:4,CLEAR_CHAT_KEEP_STARRED_MUTATION:5});t.MD_FEATURE_CODE=br;const Mr=Object.freeze({SUCCESS:1,UNFINISHED:2,FAIL_TO_DOWNLOAD:3,MISSING_CHUNK:4,PROTOBUF_ERROR:5,FAIL_TO_STORE:6,OTHER_ERROR:7});t.MD_HISTORY_SYNC_STATUS_RESULT=Mr;const Rr=Object.freeze({PAIR_SUCCESS_RECEIVED:1,PAIR_DEVICE_SIGN_SENT:2,FIRST_CONNECT:3,UPLOAD_PREKEYS:4,COMPLETE:5});t.MD_LINK_DEVICE_COMPANION_STAGE=Rr;const Dr=Object.freeze({INITIAL_SYNC:1,RESUME_SYNC:2,REGULAR_SYNC:3});t.MD_PUSHNAME_VALIDATION_STAGE_CODE=Dr;const Lr=Object.freeze({MESSAGE_RANGE_UNSET:1,MESSAGE_RANGE_LAST_SYSTEM_MESSAGE_TIMESTAMP_SET:2,MESSAGE_RANGE_MESSAGES_UNSET:3,MESSAGE_RANGE_MESSAGES_EMPTY:4,MESSAGE_RANGE_MESSAGES_CROSS_LIMIT:5,MESSAGE_RANGE_MESSAGE_KEY_UNSET:6,MESSAGE_RANGE_MESSAGE_KEY_REMOTE_JID_UNSET:7,MESSAGE_RANGE_MESSAGE_KEY_FROM_ME_UNSET:8,MESSAGE_RANGE_MESSAGE_KEY_STANZA_ID_UNSET:9,MESSAGE_RANGE_MESSAGE_KEY_REMOTE_JID_INVALID:10,MESSAGE_RANGE_MESSAGE_KEY_PARTICIPANT_UNSET:11,MALFORMED_PENDING_MUTATION:12,ACTION_INVALID_INDEX_DATA:13,MISSING_MUTATION_TO_REMOVE:14,LTHASH_INCONSISTENCY_ON_DAILY_CHECK:15,LTHASH_INCONSISTENCY_ON_SNAPSHOT_MAC_MISMATCH:16});t.MD_SYNCD_CRITICAL_EVENT_CODE=Lr;const wr=Object.freeze({TOO_MANY_INTERNAL_SERVER_ERRORS_IN_7D:1,SERVER_DATA_MISMATCH:2,PROTOBUF_DESERIALIZATION_FAILED:3,EXTERNAL_PATCH_EXPIRED:4,MISSING_OR_EMPTY_INDEX:5,SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_PATCH:6,DECRYPTION_FAILED:7,MISSING_PATCH_VERSION:8,DUPLICATE_PATCH_VERSION_IN_COLLECTION:9,ENCRYPTION_FAILED:10,MISSING_MUTATION_VERSION:11,MISSING_MUTATION_VALUE:12,INVALID_MUTATION_INDEX:13,PATCH_WITH_BOTH_INLINE_AND_EXTERNAL_MUTATIONS:14,MISSING_MUTATION_OPERATION:15,MISSING_MUTATION_RECORD:16,MISSING_MUTATION_KEY_ID:17,PATCH_PROTOBUF_DESERIALIZATION_FAILED:18,ACTION_DATA_PROTOBUF_DESERIALIZATION_FAILED:19,MISSING_MUTATION_INDEX:20,MISSING_ACTION_INDEX:21,INVALID_ACTION_INDEX:22,MISSING_ACTION_VALUE:23,MISSING_ACTION_VERSION:24,MISSING_ACTION_TIMESTAMP:25,MUTATIONS_PROTOBUF_DESERIALIZATION_FAILED:26,MUTATIONS_PROTOBUF_SERIALIZATION_FAILED:27,PATCH_PROTOBUF_SERIALIZATION_FAILED:28,ACTION_DATA_PROTOBUF_SERIALIZATION_FAILED:29,MISSING_KEY_ON_ALL_CLIENTS:30,TIMEOUT_WHILE_WAITING_FOR_MISSING_KEY:31,MAC_MISMATCH_SNAPSHOT:33,MAC_MISMATCH_PATCH:34,DB_STORE_NOT_READY:35,TERMINAL_PATCH_MISSING_DATA:36,TERMINAL_PATCH_DESERIALIZATION_ERROR:37,TERMINAL_PATCH_UNKNOWN:38,CYCLIC_MUTATION_DEPENDENCY_IN_PATCH:39,MISSING_SNAPSHOT_VERSION:45,MISSING_SNAPSHOT_MAC:46,MISSING_PATCH_SNAPSHOT_MAC:47,MISSING_PATCH_MAC:48,MISSING_EXTERNAL_BLOB_REFERENCE_MEDIA_KEY:49,MISSING_EXTERNAL_BLOB_REFERENCE_DIRECT_PATH:50,MISSING_EXTERNAL_BLOB_REFERENCE_FILE_SHA256:51,MISSING_EXTERNAL_BLOB_REFERENCE_FILE_ENC_SHA256:52,INVALID_KEY_SHARE_KEY_ID:53,MISSING_PATCH_KEY_ID:56,INVALID_KEY_SHARE_KEY_DATA:57,SNAPSHOT_EXPIRED:58,MISSING_SNAPSHOT_KEY_ID:59,SNAPSHOT_MAC_MISMATCH_IN_PATCH:60,SNAPSHOT_MAC_MISMATCH_IN_SNAPSHOT:61,XMPP_BAD_REQUEST_FOR_COLLECTION:62,XMPP_NOT_FOUND_FOR_COLLECTION:63,XMPP_BAD_REQUEST_GLOBAL_ERROR:64,XMPP_NOT_FOUND_GLOBAL_ERROR:65,XMPP_BAD_METHOD_GLOBAL_ERROR:66,XMPP_NOT_ACCEPTABLE_GLOBAL_ERROR:67,SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_SNAPSHOT:68,EXTERNAL_BLOB_REFERENCE_PROTOBUF_DESERIALIZATION_FAILED:69,SNAPSHOT_PROTOBUF_DESERIALIZATION_FAILED:70,REQUESTING_MISSING_KEY_WITH_NO_CLIENTS:71,DB_STORE_NOT_READY_LOW_DISK_SPACE:72,SERVER_DID_NOT_SEND_ALL_PATCHES:73,SERVER_SENT_EARLIER_PATCH:74,MISSING_KEY_FOR_MUTATION_IN_LOCAL_SNAPSHOT:75,MISSING_ACTIVE_KEY_AFTER_ROTATION:76,MISSING_ACTIVE_KEY_FOR_ENCRYPTION:77,MISSING_CURRENT_EPOCH_FOR_ACTIVE_KEY_VALIDATION:78,SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_OUTGOING_PATCH:79,INVALID_SNAPSHOT_RECORDS:80,MISSING_EXTERNAL_BLOB_REFERENCE_HANDLE:81,INVALID_EXTERNAL_BLOB_REFERENCE_UPLOADED:82,INVALID_PATCH_KEY_ID_SIZE:83,INVALID_PATCH_MAC_SIZE:84,INVALID_PATCH_SNAPSHOT_MAC_SIZE:85,INVALID_COLLECTION_SNAPSHOT_HASH_SIZE:86,MISSING_COLLECTION_SNAPSHOT_HASH:87,INVALID_PATCH_KEY_ID_DEVICE_ID:88,INVALID_PATCH_KEY_ID_EPOCH:89,DECRYPTION_FAILED_KEY_ID_MISMATCH:90,DECRYPTION_FAILED_VALUE_MAC_MISMATCH:91,DECRYPTION_FAILED_INDEX_MAC_MISMATCH:92,EXTERNAL_PATCH_MISSING_BLOB:93,COLLECTION_PULL_REQUEST_RECEIVED_PUSH_RESPONSE_WITH_UPDATED_VERSION:94,COLLECTION_PUSH_REQUEST_RECEIVED_RESPONSE_WITH_VERSION_MISMATCH:95,MMS_ERROR_INVALID_FILEHASH:96,UNKNOWN:97,MALFORMED_MUTATION_CLEAR_CHAT:98,MALFORMED_MUTATION_DELETE_CHAT:99,FAILED_MUTATION_CLEAR_CHAT:100,FAILED_MUTATION_DELETE_CHAT:101,CHAT_DB_CORRUPTION:102});t.MD_SYNCD_FATAL_ERROR_CODE=wr;const Br=Object.freeze({SNAPSHOT:1,EXTERNAL_PATCH:2,INLINE_PATCH:3});t.MD_SYNCD_FATAL_ERROR_SOURCE=Br;const Ur=Object.freeze({SYNCD:1,WEB:2});t.MD_VALIDATION_CALLER_CHANNEL=Ur;const Gr=Object.freeze({BROWSER:1,DESKTOP:2});t.MD_VALIDATION_WEB_PLATFORM=Gr;const kr=Object.freeze({MANUAL:1,FULL:2,PREFETCH:3,HEADER:4,THUMBNAIL:5,EXPRESS_PATH_DOWNLOAD:6});t.MEDIA_DOWNLOAD_MODE_TYPE=kr;const Yr=Object.freeze({OK:1,ERROR_UNKNOWN:2,ERROR_TIMEOUT:3,ERROR_DNS:4,ERROR_INSUFFICIENT_SPACE:5,ERROR_TOO_OLD:6,ERROR_CANNOT_RESUME:7,ERROR_HASH_MISMATCH:8,ERROR_INVALID_URL:9,ERROR_OUTPUT_STREAM:10,ERROR_CANCEL:11,DEDUPED:12,ERROR_ENC_HASH_MISMATCH:14,PREFETCH_END:15,ERROR_CANCEL_PROGRAMMATIC:16,ERROR_MEDIA_CONN:17,ERROR_THROTTLE:18,ERROR_SSL:19,ERROR_NETWORK:20,ERROR_CONNECT:21,ERROR_EP_NOTIFY_DECRYPTION_FAILURE:22,SKIPPED_EP_DIFFERENT_POP:23,SKIPPED_EP_AUTODOWNLOAD_DISABLED:24,ERROR_SERVER:25,ERROR_WATLS:26,ERROR_INVALID_CODE:27,ERROR_WAMSYS:28,ERROR_GENERIC:29,ERROR_CRONET:30});t.MEDIA_DOWNLOAD_RESULT_TYPE=Yr;const Fr=Object.freeze({CHAT_PHOTO_LIBRARY:1,CAMERA_TAB_CAPTURE:2,FORWARD:3,PASTE:4,SHARE_EXTENSION:5,EXPORT:6,MENU_CAMERA_CAPTURE:7,EXTERNAL_CAMERA:8,LINK_PREVIEW_DOWNLOAD:9,CAMERA_TAB_MEDIA_STRIP:10,CAMERA_TAB_PHOTO_LIBRARY:11,CHAT_BUTTON_CAMERA_CAPTURE:12,CHAT_BUTTON_CAMERA_MEDIA_STRIP:13,CHAT_BUTTON_CAMERA_PHOTO_LIBRARY:14,STATUS_TAB_CAMERA_CAPTURE:15,STATUS_TAB_CAMERA_MEDIA_STRIP:16,STATUS_TAB_CAMERA_PHOTO_LIBRARY:17,STATUS_REPLY_CAMERA_CAPTURE:18,STATUS_REPLY_CAMERA_MEDIA_STRIP:19,STATUS_REPLY_CAMERA_PHOTO_LIBRARY:20,MENU_CAMERA_PHOTO_LIBRARY:21,CHAT_GIF_INAPP:22,CHAT_GIF_EXTERNAL:23,STATUS_REPLY_GIF_INAPP:24,STATUS_REPLY_GIF_EXTERNAL:25,SMB_QUICK_REPLY_EDIT:26,SMB_QUICK_REPLY_SEND:27,MEDIA_BROWSER:28,CHAT_QUICK_EDIT:29,CAMERA_TAB_GIF:30,STATUS_TAB_GIF:31,PAYMENT_COMPOSER:32,PHOTO_RECEIVED:33,PHOTO_RECEIVED_GALLERY:34,AD_CREATION:35,EXTERNAL_DROP:36,IN_APP_BROWSER:37,PREMIUM_MESSAGE_COMPOSER:38});t.MEDIA_PICKER_ORIGIN_TYPE=Fr;const Kr=Object.freeze({AUTO:0,DATA_SAVER:1,HIGH_QUALITY:2,HIGHEST_QUALITY:3});t.MEDIA_QUALITY=Kr;const xr=Object.freeze({NONE:1,PHOTO:2,VIDEO:3,AUDIO:4,PTT:5,LOCATION:6,CONTACT:7,DOCUMENT:8,URL:9,CALL:10,GIF:11,FUTURE:12,CONTACT_ARRAY:13,LIVE_LOCATION:14,PROFILE_PIC:15,STICKER:16,HSM:17,PRODUCT_IMAGE:18,TEMPLATE:19,MD_APP_STATE:20,MD_HISTORY_SYNC:21,CATALOG_LINK:22,PRODUCT_LINK:23,ORDER:24,LIST:25,LIST_REPLY:26,BUTTON_MESSAGE:27,BUTTON_RESPONSE_MESSAGE:28,PRODUCT_LIST:29,BUTTON_NFM:30,VIEW_ONCE_IMAGE:31,VIEW_ONCE_VIDEO:32,SHOP_STOREFRONT:33,REACTION:34,INTERACTIVE_NFM:35,INTERACTIVE_RESPONSE_NFM:36,POLL_CREATE:37,POLL_VOTE:38,TEXT:39,KEEP:40,UNKEEP:41,INVISIBLE_HELLO:42,MEDIA_EXPRESS_NOTIFY:43,UNDECRYPTED_MEDIA:44,UNDECRYPTED_TEXT:45,UNDECRYPTED_PAY:46,UNDECRYPTED_POLL:47,UNDECRYPTED_REACTION:48,UNDECRYPTED_MEDIA_NOTIFY:49,VIEW_ONCE_AUDIO:50,SCHEDULED_CALL_CREATE:51,SCHEDULED_CALL_CANCEL:52,PUSH_TO_VIDEO:53,PIN_IN_CHAT:54,INTERACTIVE_CAROUSEL:55,COMMENT:56});t.MEDIA_TYPE=xr;const Hr=Object.freeze({REGULAR:1,FAST_FORWARD_EXIST_CHECK:2,VIDEO_EXIST_CHECK:3,PRODUCT:4,MEDIA_RETRY:5,WEB_REUPLOAD:6,THUMBNAIL:7,EXPRESS_PATH_UPLOAD:8});t.MEDIA_UPLOAD_MODE_TYPE=Hr;const jr=Object.freeze({OK:1,DUPLICATE:3,ERROR_UNKNOWN:2,ERROR_REQUEST:4,ERROR_UPLOAD:5,ERROR_OOM:6,ERROR_IO:7,ERROR_NO_PERMISSIONS:8,ERROR_BAD_MEDIA:9,ERROR_INSUFFICIENT_SPACE:10,ERROR_FNF:11,ERROR_CANCEL:12,ERROR_SERVER:13,ERROR_REQUEST_TIMEOUT:14,ERROR_NOT_FINALIZED:15,ERROR_OPTIMISTIC_HASH:16,ERROR_MEDIA_CONN:17,ERROR_DNS:18,ERROR_THROTTLE:19,ERROR_SSL:20,ERROR_NO_CLIENT_NETWORK:21,SKIPPED_EP_NOT_ONLINE:22,SKIPPED_EP_NOT_1TO1CHAT:23,SKIPPED_EP_UPLOAD_FAILED:24,SKIPPED_EP_MULTI_CHAT:25,SKIPPED_EP_NO_PRIMARY_HOST:26,ERROR_CRONET:27,ERROR_INCOMPLETE_SERVER_RESPONSE:28,ERROR_TRANSCODING:29,ERROR_CANCEL_PROGRAMMATIC:30,ERROR_NO_ROUTE:31,ERROR_TOO_LARGE:32,ERROR_CANNOT_TRANSCODE:33,ERROR_UNKNOWN_MIMETYPE:34,ERROR_UNSUPPORTED_MIMETYPE:35,ERROR_SERVER_REJECTED_MEDIA:36,ERROR_IO_ENCRYPTION:37,ERROR_NO_ENCRYPTION_ALGORITHM:38,ERROR_HOST_SWITCH_REQUIRED:39,ERROR_WAMSYS:40,ERROR_INVALID_URL:41});t.MEDIA_UPLOAD_RESULT_TYPE=jr;const Vr=Object.freeze({OTHER:0,INDIVIDUAL:1,GROUP:2,STATUS:3,BROADCAST:4,CHANNEL:5});t.MESSAGE_CHAT_TYPE=Vr;const Wr=Object.freeze({OPEN:1,CLICK:2,COMPLETE:3,CANCEL:4});t.MESSAGE_CONTEXT_MENU_ACTION_TYPE=Wr;const Qr=Object.freeze({UNKNOWN:1,OVERFLOW:2,FORWARD:3,DELETE:4,REPLY:5,REPLY_PRIVATELY:6,STAR_OR_UNSTAR:7,COPY:8,REPORT:9,MESSAGE_CONTACT:10,MESSAGE_INFO:11,EDIT:12});t.MESSAGE_CONTEXT_MENU_OPTION_TYPE=Qr;const $r=Object.freeze({REGULAR_MESSAGE:0,DIRECT_MESSAGE:1,SENDER_KEY_DISTRIBUTION_MESSAGE:2});t.MESSAGE_DISTRIBUTION_ENUM_TYPE=$r;const zr=Object.freeze({SYNCD_DELETION:1,ADMIN_REVOKE_NOT_ENABLED:2,RECEIVED_WITH_OLD_COUNTER:3,INVALID_STANZA:4,INVALID_PROTOBUF:5,MESSAGE_SECRET_ERROR:6,INVALID_LID_ADDRESSED_MESSAGE:7,UNKNOWN_MESSAGE_TYPE:8,DB_OPERATION_FAILED:9,INTERNAL_ERROR:10,EXPIRED:11});t.MESSAGE_DROP_REASON_TYPE=zr;const Jr=Object.freeze({STAR:0,FORWARD:1,COPY:2,REPORT:3,DELETE:4});t.MESSAGE_LEVEL_ACTION=Jr;const qr=Object.freeze({MESSAGE_POLL:0});t.MESSAGE_SECRET_ALLOWED_TYPE=qr;const Xr=Object.freeze({MISSING_MESSAGE_SECRET:0,WRONG_LENGTH:1,ENCRYPTION_ERROR:2,DECRYPTION_ERROR:3});t.MESSAGE_SECRET_ERROR_TYPE=Xr;const Zr=Object.freeze({OK:1,ERROR_UNKNOWN:3,ERROR_NETWORK:4,ERROR_EXPIRED:5,ERROR_CANCELLED:6,ERROR_UPLOAD:7,ERROR_BACKFILL_USYNC_FAILED:8,ERROR_PAYLOAD_TOO_BIG:9,ERROR_LOCATION:10,ERROR_INVALID_MESSAGE:11,ERROR_E2EE:12,ERROR_INVALID_PROTOBUF:13});t.MESSAGE_SEND_RESULT_TYPE=Zr;const ei=Object.freeze({INDIVIDUAL:1,GROUP:2,BROADCAST:3,STATUS:4,CHANNEL:5});t.MESSAGE_TYPE=ei;const ti=Object.freeze({SINGLE_IMAGE:1,IMAGE_ALBUM:2,TEXT:3,AUDIO:4,VIDEO:5});t.MESSAGE_TYPE_CATEGORY=ti;const ni=Object.freeze({PREKEY_MESSAGE:1,CALL_PAYLOAD:2,RETRY_RECEIPT:3,PREKEY_RESPONSE:4,IDENTITY_RESPONSE:5,USYNC_RESPONSE:6});t.MISSING_PROTO_TYPE=ni;const ri=Object.freeze({LOGIN:0,LOGOUT:1,CUSTOM_AGENT_NAME:2,MESSAGE_INFO:3,ACTIVE:4,DELETE:5});t.MULTIDEVICE_ACTION_TYPE=ri;const ii=Object.freeze({ZERO:1,ONE:2,LT10:3,LT100:4,LT500:5,LT1K:6,LT5K:7,GTE5K:8});t.MUTATION_COUNT_BUCKET=ii;const oi=Object.freeze({ONE_ON_ONE:1,GROUP:2,CHANNEL:3});t.MUTE_CHAT_TYPE=oi;const ai=Object.freeze({CHAT_LIST_SCREEN:1,CONTACT_INFO:2,CONVERSATION_SCREEN:3});t.MUTE_ENTRY_POINT=ai;const si=Object.freeze({NATIVE:0,OK_HTTP:1,LIGER:2,APACHE:3,WATLS:4,CRONET:5});t.NETWORK_STACK_TYPE=si;const li=Object.freeze({AUTO_START:0,BANNER:1,DEEP_LINK:2,JUST_IN_TIME:3});t.NOTICE_TRIGGERED_BY=li;const ci=Object.freeze({LEGACY_USER_NOTICE:0,BADGED_USER_NOTICE:1,PDFN_DISCLOSURE:2});t.NOTICE_TYPE=ci;const ui=Object.freeze({SHOW:1,REMOVE:2});t.NOTIFICATION_ACTION_TYPE=ui;const di=Object.freeze({INDIVIDUAL:1,GROUP:2,OTHER:3,CHANNEL:4});t.NOTIFICATION_DESTINATION_TYPE=di;const _i=Object.freeze({LOCAL:0,UNIVERSAL:1});t.NOTIFICATION_PREFERRED_LINK_TYPE=_i;const pi=Object.freeze({LOCAL:0,UNIVERSAL:1});t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_1=pi;const fi=Object.freeze({LOCAL:0,UNIVERSAL:1});t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_2=fi;const Ei=Object.freeze({LOCAL:0,UNIVERSAL:1});t.NOTIFICATION_PREFERRED_LINK_TYPE_BUTTON_3=Ei;const Ai=Object.freeze({ALLOWED:1,BLOCKED:2,UNKNOWN:3});t.NOTIFICATION_SETTING_TYPE=Ai;const gi=Object.freeze({DEFAULT:1,CUSTOM:2});t.NOTIFICATION_SOUND_TONE=gi;const hi=Object.freeze({PUSH_TRIGGERED:1,MAIN_APP:2,IN_APP:3});t.NOTIFICATION_SOURCE_TYPE=hi;const Si=Object.freeze({TEXT_MESSAGE:1,VOICE_MESSAGE:2,FILE_MESSAGE:3,PHOTO_MESSAGE:4,VIDEO_MESSAGE:5,MISSED_VOICE_CALL:6,MISSED_VIDEO_CALL:7,STICKER_MESSAGE:8,REACTION_MESSAGE:9,GROUP_INVITE_MESSAGE:10,REQUEST_MEDIA_REUPLOAD:11,WEB_CLIENT_LOGIN:12,BACKUP:13,KEEP_IN_CHAT:14,PAYMENT:15,POLL_MESSAGE:16,LOCATION_MESSAGE:17,WEB_PAGE_MESSAGE:18,FAILED_UPLOAD:19,GDPR_REPORT:20,INCOMING_VOICE_CALL:21,INCOMING_VIDEO_CALL:22,VIDEO_CALL_UPGRADE:23,WAFFLE:24,XPLAT_MIGRATION:25,OTHER:26,INVITE_JOINED:27,SCHEDULED_CALL_LOCAL_REMINDER:28,PTV_MESSAGE:29});t.NOTIFICATION_TYPE_ENUM=Si;const Ti=Object.freeze({NONE:1,SOFTWARE:2,BUILTIN:3});t.NS_MODE=Ti;const mi=Object.freeze({PAGE_LOAD:1,SOCKET_CONNECT:2,OFFLINE_PREVIEW:3,PROCESSING:4,PROCESS_COMPLETE:5,PROCESS_INTERRUPTED:6});t.OFFLINE_PROCESS_STAGES=mi;const Ii=Object.freeze({RESUME_FROM_RESTART:1,RESUME_FROM_OPEN_TAB:2});t.OFFLINE_RESUME_MODES=Ii;const yi=Object.freeze({COMPLETE:1,INCOMPLETE_UNKNOWN_ERROR:2,INCOMPLETE_DISCONNECT:3,INCOMPLETE_APP_RESTART:4});t.OFFLINE_RESUME_RESULT_TYPE=yi;const Ci=Object.freeze({PAGE_LOAD:1,SOCKET_CONNECT:2,PROCESS_COMPLETE:3,SCREEN_LOAD:4,OFFLINE_PREVIEW:5});t.OFFLINE_RESUME_STAGES=Ci;const vi=Object.freeze({ONBOARDING_ENTRY_POINT_FAST_TRACK:1,ONBOARDING_ENTRY_POINT_AD_REVIEW_SCREEN:2});t.ONBOARDING_ENTRY_POINT=vi;const Oi=Object.freeze({NONE:0,OPTIMISTIC:1,OPT_USED:2,OPT_TAKEOVER:3,OPT_DISABLED:4});t.OPTIMISTIC_FLAG_TYPE=Oi;const Pi=Object.freeze({CLICK_VIEW_RECEIVED_CART:1,SEND_DECLINE_CART:2,USER_DELETED_CART:3,CLICK_CREATE_ORDER_DETAILS_FROM_CART:4,CLICK_ORDER_FROM_ICON_MENU:5,CLICK_CREATE_ORDER_DETAILS_FROM_FAB:6,SEND_ORDER_DETAILS:7,VIEW_ORDER_DETAILS_HUB:8,VIEW_ORDER_DETAILS:9,CLICK_SORT_ORDERS:10,CLICK_UPDATE_ORDER_STATUS:11,SEND_ORDER_STATUS:12,CLICK_PAYMENT_DETAILS:13,SEND_MARK_AS_PAID:14,SEND_MARK_AS_UNPAID:15,CLICK_HELP:16,CLICK_MESSAGE_CUSTOMER:17,CLICK_ADD_PAYMENT_OPTION:18,CLICK_SAVE_ADD_PAYMENT_OPTION:19,CLICK_SAVE_EDIT_PAYMENT_OPTION:20,CLICK_EDIT_PAYMENT_OPTION:21,CLICK_DELETE_PAYMENT_OPTION:22,CLICK_GET_PAID_ON_WA:23,CLICK_SEE_ALL_OTHER_ORDERS:24,ADD_PAYMENT_OPTION_TO_OD:25,EDIT_PAYMENT_OPTION_IN_OD:26,CLICK_ADD_CUSTOM_ITEM_TO_ORDER:27,ADD_ADDITIONAL_CHARGES_TO_ORDER:28,CLICK_ADD_ITEM:29,CLICK_ADD_ADDITIONAL_CHARGES:30,VIEW_EPHEMERAL_MESSAGES_PROMPT:31,CONFIRM_SENDING_ORDER_DETAILS:32,CANCEL_SENDING_ORDER_DETAILS:33,DO_NOT_SHOW_EPHEMERAL_MESSAGES_PROMPT:34,DISMISS_EPHEMERAL_MESSAGES_PROMPT:35,VIEW_EVENT_SHARING_TOS_PROMPT:37,DISMISS_EVENT_SHARING_TOS_PROMPT:38,CLICK_EVENT_SHARING_TOS:39,ACCEPT_EVENT_SHARING_TOS:40,REJECT_EVENT_SHARING_TOS:41,VIEW_CREATE_ORDER:42,DISPLAY_ORDER_STATUS_SHARING_TOS:43,CLICK_ORDER_STATUS_SHARING_TOS:44,CLICK_EDIT_INSTALLMENTS:45,VIEW_EDIT_INSTALLMENTS_PROMPT:46,SET_DEFAULT_INSTALLMENTS:47,SAVE_DEFAULT_INSTALLMENTS:48,DISMISS_EDIT_INSTALLMENTS_PROMPT:49});t.ORDER_DETAILS_CREATION_ACTION=Pi;const Ni=Object.freeze({CREATED:0,UPDATED:1});t.ORDER_SIGNAL_TYPE=Ni;const bi=Object.freeze({PROCESSING:0,SHIPPED:1,COMPLETED:2,CANCELLED:3});t.ORDER_STATUS=bi;const Mi=Object.freeze({OTHER:0,CHAT:1,NOTIFICATION:2});t.OTP_ENTRY_POINT=Mi;const Ri=Object.freeze({NOTIFICATION_CTA:0,NOTIFICATION_BODY:1,CHAT_CTA:2,OTHER:3,OTP_MESSAGE:4,OTP_MESSAGE_INFO:5,OTP_CONFIGURATION:6,OTP_REQUEST_SENDER:7,OTP_ZERO_TAP_SENDER:8,OTP_CONF_OPTION:9});t.OTP_EVENT_SOURCE=Ri;const Di=Object.freeze({CLICK:0,IMPRESSION:1,OTP_CODE_REQUESTED:2,OTP_CODE_SENT:3,MESSAGE_RECEIVED:4,MESSAGE_READ:5,MESSAGE_DELETED:6,ZERO_TAP_ENABLED:7,ZERO_TAP_DISABLED:8,ZERO_TAP_NOTICE_VIEWED:9,CLEAR_CHAT:10,ZERO_TAP_SEND_CODE_STARTED:11,ZERO_TAP_SEND_CODE_COMPLETED:12,ZERO_TAP_SEND_CODE_FAILED:13,OTP_CONF_OPT_ZERO_TAP_FLAG_ENABLED:14,OTP_CONF_OPT_ZERO_TAP_FLAG_DISABLED:15});t.OTP_EVENT_TYPE=Di;const Li=Object.freeze({ONE_TAP:0,ZERO_TAP:1,COPY_CODE:2});t.OTP_PRODUCT_TYPE=Li;const wi=Object.freeze({RESUME_CHECK:1,UPLOAD:2,FINALIZE:3});t.OVERALL_LAST_UPLOAD_RETRY_PHASE_TYPE=wi;const Bi=Object.freeze({NONE_NEW_CONTENT:1,NONE_EXPIRED:2,REUSED:3,NONE_WAS_STATUS:4});t.OVERALL_MEDIA_KEY_REUSE_TYPE=Bi;const Ui=Object.freeze({CONSUMER:1,SMB:2,ENT:3});t.OWNER_TYPE=Ui;const Gi=Object.freeze({ACTION_CLICK_MARKETING_MESSAGES_ENTRY_POINT:0,ACTION_VIEW_IMPRESSION_MARKETING_MESSAGES_TRY_IT_NOW_PAGE:1,ACTION_CLICK_TRY_IT_NOW_BUTTON:2,ACTION_VIEW_IMPRESSION_CREATE_MESSAGE:3,ACTION_CLICK_DISCARD_MESSAGE_BUTTON:4,ACTION_CLICK_SAVE_MESSAGE_BUTTON:5,ACTION_CLICK_DELETE_MESSAGE_BUTTON:6,ACTION_VIEW_IMPRESSION_ONBOARDING_COMPLETION:7,ACTION_CLICK_NEXT_BUTTON_ADD_FUNDS:8,ACTION_CLICK_SAVE_PAYMENT_INFO_BUTTON:9,ACTION_VIEW_IMPRESSION_PAYMENT_SUCCESS:10,ACTION_CLICK_SEND_NOW_BUTTON:11,ACTION_CLICK_SEND_AS_SCHEDULED_BUTTON:12,ACTION_CLICK_CANCEL_SCHEDULED_SEND_BUTTON:13,ACTION_SEND_MESSAGE:14,ACTION_VIEW_IMPRESSION_MARKETING_MESSAGE_STATS:15,ACTION_CLICK_SEND_AGAIN_BUTTON:16,ACTION_CLICK_SENT_TO_INFO:17,ACTION_CLICK_READ_BY_INFO:18,ACTION_CLICK_REPLIED_BY_INFO:19,ACTION_VIEW_IMPRESSION_MARKETING_MESSAGES_HOME_PAGE:20,ACTION_VIEW_IMPRESSION_SMARTLIST_SELECTION:21});t.PAID_MESSAGES_ACTION=Gi;const ki=Object.freeze({SUCCESS:0,FAILED:1});t.PAID_MESSAGES_CAMPAIGN_SEND_STATUS=ki;const Yi=Object.freeze({NO_INTERNET_CONNECTION:0,NO_AVAILABLE_FUNDS:1});t.PAID_MESSAGES_CAMPAIGN_SENT_ERROR_TYPE=Yi;const Fi=Object.freeze({BUSINESS_HOME:0,BUSINESS_HOME_BANNER:1,SETTINGS:2,CHATS_HOME_BANNER:3,BROADCAST_CHAT:4,GROUP_CHAT:5,SHARING_A_MESSAGE:6,DEEPLINK:7});t.PAID_MESSAGES_ENTRY_POINT=Fi;const Ki=Object.freeze({CELLULAR:1,WIFI:2,NONE:3});t.PEER_CALL_NETWORK_MEDIUM=Ki;const xi=Object.freeze({UPLOAD_STICKER:0,SEND_RECENT_STICKER_BOOTSTRAP:1,GENERAL_LINK_PREVIEW:2,HISTORY_SYNC_ON_DEMAND:3,PLACEHOLDER_MESSAGE_RESEND:4});t.PEER_DATA_REQUEST_TYPE=xi;const Hi=Object.freeze({SUCCESS:1,OTHER_ERROR:2,INVALID_RESPONSE:3,FAIL_TO_DOWNLOAD:4,REQUEST_TIMEOUT:5});t.PEER_DATA_RESPONSE_APPLY_RESULT_TYPE=Hi;const ji=Object.freeze({SUCCESS:1,OTHER_ERROR:2,REQUEST_TARGET_NOT_FOUND:3,REQUEST_INVALID:4,FAIL_TO_UPLOAD:5,FAIL_TO_SEND_RESPONSE:6,REQUEST_TOO_OLD:7});t.PEER_DATA_RESPONSE_RESULT_TYPE=ji;const Vi=Object.freeze({PHONE_NUM_HYPERLINK_MSG_RECEIVED:1,LONG_PRESS_PHONE_NUM_HYPERLINK:2,CLICK_PHONE_NUM_HYPERLINK:3,CLICK_CALL:4,CLICK_ADD_TO_CONTACTS:5,CLICK_MESSAGE_ON_WHATSAPP:6,CLICK_COPY_PHONE_NUMBER:7,CLOSE_DIALOG_BOX:8,MESSAGE_SENT:9,CLICK_CALL_ON_WHATSAPP:10});t.PHONE_NUM_HYPERLINK_ACTION_TYPE=Vi;const Wi=Object.freeze({TAP_ON_BANNER:1});t.PIN_IN_CHAT_INTERACTION_TYPE=Wi;const Qi=Object.freeze({PIN_FOR_ALL:1,UNPIN_FOR_ALL:2});t.PIN_IN_CHAT_TYPE=Qi;const $i=Object.freeze({OTHER:0,ADD:1,VIEW:2,POPULATE:3});t.PLACEHOLDER_ACTION=$i;const zi=Object.freeze({OTHER:0,INDIVIDUAL:1,GROUP:2,STATUS:3,BROADCAST:4,CHANNEL:5});t.PLACEHOLDER_CHAT_TYPE=zi;const Ji=Object.freeze({OTHER:0,RETRY:1,PEER_MESSAGE:2,RESEND:3});t.PLACEHOLDER_POPULATION_TYPE=Ji;const qi=Object.freeze({OTHER:0,SIGNAL_NO_SESSION:1,DEVICE_VERIFICATION_FAILURE:2,UNKNOWN_SELF_DEVICE:3,SIGNAL_INVALID_KEY:4,SIGNAL_INVALID_KEY_ID:5,SIGNAL_INVALID_MESSAGE:6,DEVICE_VERIFICATION_FAILURE_SELF_PEER:7,UNKNOWN_COMPANION_NO_PREKEY:8,BAD_EPHEMERAL_SETTING:9,SIGNAL_FUTURE_MESSAGE:10,SIGNAL_INVALID_SIGNATURE:11,SIGNAL_BAD_MAC:12,SIGNAL_INVALID_SESSION:13});t.PLACEHOLDER_REASON_TYPE=qi;const Xi=Object.freeze({OTHER:0,CIPHERTEXT:1,FANOUT:2,DOWNGRADE:3});t.PLACEHOLDER_TYPE=Xi;const Zi=Object.freeze({IPHONE:1,ANDROID:2,BB:3,BBX:7,S40:4,SYMBIAN:5,WP:6,WEBCLIENT:8,OSMETA:11,ENT:12,SMBA:13,KAIOS:14,SMBI:15,WINDOWS:16,WEB:17,PORTAL:18,BLOKS:19,BLUEA:20,BLUEI:21,FBLITEA:22,GREENA:23,GREENI:24,IGDA:25,IGDI:26,IGLITEA:27,MLITEA:28,MSGRA:29,MSGRI:30,MSGRP:31,MSGRW:32,IGDW:33,PAGE:34,MSGRDM:35,MSGRDW:36,MSGROM:37,MSGROC:38,MSGRM:43,IGDM:44,WEARM:45,CAPI:46,XR:47,MACOS:48,WAMETA_REPL:49,ARDEV:50,WEAROS:51,MSGRVR:52,BLUEW:53,IPHONEWAMETATEST:54,MSGRAR:57,IPAD:58,WAVOIP_CLI:59,MSGRT:60,IGDT:61,TEST:9,UNKNOWN:10});t.PLATFORM_TYPE=Zi;const eo=Object.freeze({CONVERSATION:1,STATUS:2});t.PLAYBACK_ORIGIN_TYPE=eo;const to=Object.freeze({IDLE:1,READY_PLAY:2,READY_PAUSE:3,BUFFERING:4,OUTSIDE:5,ENDED:6,ERROR:7});t.PLAYBACK_STATE_TYPE=to;const no=Object.freeze({CLICK:0});t.PM_BUTTON_EVENT_TYPE=no;const ro=Object.freeze({QUICK_REPLY:0,CTA_URL:1,CTA_CALL:2,CTA_CATALOG:3});t.PM_BUTTON_TYPE=ro;const io=Object.freeze({SEE_MASKED_PN_AT_CHAT_CREATION:1,REQUEST_DIALOG_APPEAR:2,SEND_REQUEST:3,SHARE_PN_SHEET_APPEAR:4,DISMISS:5,SHARE_NUMBER:6});t.PNH_ACTION_TYPE=io;const oo=Object.freeze({VIEW:1,CLOSE:2,UPGRADE:3});t.PNH_CAG_BANNER_ACTION_TYPE=oo;const ao=Object.freeze({CTWA:1});t.PNH_CHAT_TYPE_TYPE=ao;const so=Object.freeze({CHAT_CREATION:1,CHAT_INFO_REQUEST:2,AUDIO:3,VIDEO:4,PN_REQUEST:5,SYSTEM_MESSAGE:6,CHAT_INFO_PN_VISIBILITY:7});t.PNH_ENTRY_POINT_TYPE=so;const lo=Object.freeze({BIZ:1,CONSUMER:2});t.PNH_MESSAGE_CHAT_PARTY=lo;const co=Object.freeze({OPEN_CREATE_MODAL:1,CREATE_POLL:2,VIEW_RESULTS_MODAL:4,REMOVE_VOTE:5,VOTE:6,CHANGE_VOTE:7});t.POLL_ACTION_TYPE=co;const uo=Object.freeze({PINCODE:1,POSTCODE:2,CEP:3});t.POSTCODE_TYPE=uo;const _o=Object.freeze({LT4:1,LT8:2,LT16:3,LT32:4,LT64:5,LT128:6,LT256:7,LT512:8,LT1000:9,LT1500:10,LT2000:11,LT2500:12,LT3000:13,LT3500:14,LT4000:15,LT4500:16,LT5000:17,LARGEST_BUCKET:18});t.PRECISE_SIZE_BUCKET=_o;const po=Object.freeze({LOCAL:0,UNIVERSAL:1});t.PREFERRED_LINK_TYPE=po;const fo=Object.freeze({SEND_MESSAGE:1,GET_VNAME_CERTIFICATE:2,SEND_LIVE_LOCATION_RETRY:3,SEND_LIVE_LOCATION_KEY:4,SEND_PEER_MESSAGE:5,MULTI_DEVICE_CALL:6,CALL_PEER_E2E_FAIL:7,IDENTITY_CHANGE_NOTIFICATION:8,BACK_OFF:9,USER_INTENT_PREFETCH:10,RESEND_MESSAGE:11,RETRY_MESSAGE:12,USER_INTENT_STATUS_PREFETCH:13});t.PREKEYS_FETCH_CONTEXT=fo;const Eo=Object.freeze({ADV_SIGNED_DEVICE_IDENTITY:1,ADV_SIGNED_KEY_INDEX_LIST:2});t.PRIMARY_IDENTITY_MISSING_PROTO_TYPE=Eo;const Ao=Object.freeze({VIEW_TWICE:0});t.PRIVACY_ALERT_CASE=Ao;const go=Object.freeze({VIEW_ONCE:0});t.PRIVACY_ALERT_CATEGORY=go;const ho=Object.freeze({PRIVACY_SETTINGS:0,PROFILE_PHOTO_JIT:1,SETTINGS_SEARCH:2,DEEP_LINK:3,PRIVACY_CHECKUP_BANNER:4,PRIVACY_CHECKUP_DEEP_LINK:5,PRIVACY_CHECKUP_WA_CHAT:6,PRIVACY_CHECKUP_SETTINGS_SEARCH:7});t.PRIVACY_CONTROL_ENTRY_POINT_TYPE=ho;const So=Object.freeze({LAST_SEEN_AND_ONLINE:0,PROFILE_PHOTO:1,ABOUT:2,GROUPS:3,STATUS:4,READ_RECEIPT:5,BLOCKED:6,LIVE_LOCATION:7,SCREEN_LOCK:8,DDM_TIMER:9,CALLS:10,FINGERPRINT_LOCK:11,DISAPPEARING_MESSAGES:12,UNKNOWN:13,CHECKUP:14,SHOW_PREVIEW:15,E2EE_BACKUPS:16,TWO_STEP_VERIFICATION:17,FACE_AND_HAND_EFFECTS:18});t.PRIVACY_CONTROL_ITEM_TYPE=So;const To=Object.freeze({E2EE:0});t.PRIVACY_HIGHLIGHT_CATEGORY_ENUM=To;const mo=Object.freeze({GOLDEN_BOX_CONTACT:0,GOLDEN_BOX_GROUP:1,GOLDEN_BOX_BROADCAST:2,INFO_SCREEN_CONTACT:3,INFO_SCREEN_GROUP:4,INFO_SCREEN_BROADCAST:5,CALLS_LIST:6,CHATS_LIST:7,STATUS_LIST:8,LINKED_DEVICES_SCREEN:9,CALLING_SCREEN_AUDIO:10,CALLING_SCREEN_VIDEO:11,SPLIT_VIEW_HOME_PLACEHOLDER:12});t.PRIVACY_HIGHLIGHT_SURFACE_ENUM=mo;const Io=Object.freeze({B0:1,B1:2,B5:3,B10:4,B15:5,B20:6,B30:7,B40:8,B50:9,B60:10,B70:11,B80:12,B90:13,B100:14});t.PRIVACY_SETTINGS_CONTACTS_BUCKETS=Io;const yo=Object.freeze({NOBODY:1,ONLY_SHARE_WITH:2,MY_CONTACTS:3,MY_CONTACTS_EXCEPT:4,EVERYONE:5});t.PRIVACY_SETTINGS_VALUE_TYPE=yo;const Co=Object.freeze({CONTACT_CARD:1,CHAT_HEADER:2,CHAT_MENU:3,GROUP_MEMBERSHIP_SCREEN:4,STATUS:5,CALLS:6,BROADCAST_LIST:7,PRODUCT:8,CATALOG:9,SETTINGS:10,SPAM_BLOCK:11,CHATS_HOME:12,SHOPS:13,MENTION:14,EPHEMERAL_SETTINGS_MESSAGE:15,MAP:16,SEARCH:17,PAYMENT_TRANSACTION_DETAILS:18,CUSTOM_URL_LINK:19,CUSTOM_URL_QR_CODE:20,NOTIFICATION_BLOCK_ACTION:21,REPORT_TO_ADMIN_PARTICIPANTS_SCREEN:22,MISSED_CALL_NOTIFICATION_BLOCK_ACTION:23});t.PROFILE_ENTRY_POINT=Co;const vo=Object.freeze({PHOTO_CAMERA:1,PHOTO_UPLOAD:2,WEB_SEARCH:3,EMOJI:4,STICKER:5,REMOVE_PHOTO:6});t.PROFILE_PICTURE_TYPE=vo;const Oo=Object.freeze({DIT:1,DIRECTORY_SEARCH:2});t.PROJECT_CODE=Oo;const Po=Object.freeze({LOOKUP:0,HISTORY:1});t.PROOF_TYPE=Po;const No=Object.freeze({CHATLIST:1,CHAT:2,SHARE:3,CHANNEL:4});t.PS_APP_LAUNCH_DESTINATION_TYPE=No;const bo=Object.freeze({COLD:1,WARM:2,LUKEWARM:3});t.PS_APP_LAUNCH_TYPE=bo;const Mo=Object.freeze({SUCCESS:1,ERROR_PARSING:2,ERROR_DECODING:3,ERROR_CREDENTIAL:4,ERROR_OTHER:5,ERROR_CLIENT_NETWORK:6,ERROR_WAIT_FOR_TOKEN:7,ERROR_SERVER_OTHER:8,SKIPPED_NO_NETWORK:9,SKIPPED_NO_DATA:10,ERROR_ACCESS_TOKEN:11});t.PS_BUFFER_UPLOAD_RESULT=Mo;const Ro=Object.freeze({CRASH:0,OOM:1,MAIN_THREAD_STALL_30_SECONDS:2,MAIN_THREAD_STALL_DEBUG:3,AUDIO_TRANSCODING_ERROR:4,VIDEO_TRANSCODING_ERROR:5,ANR:6,CRITICAL_EVENT:7,UNHANDLED_EXCEPTION:8,APP_CRASH:9,NATIVE_CRASH:10,UFAD:11});t.PS_CRASH_TYPE=Ro;const Do=Object.freeze({CREATED:1,ROTATED:2,DELETED:3});t.PS_ID_ACTION=Do;const Lo=Object.freeze({TEST_VALUE1:1,TEST_VALUE2:2});t.PS_TEST_ENUM_FIELD=Lo;const wo=Object.freeze({NO_REASON:0,REASON_UNKNOWN:1,REASON_WAIT_FOR_FIRST_TOKEN:2,REASON_INVALID_SHARED_KEY:3,REASON_INVALID_FACTOR:4,REASON_GEN_FACTOR_FAILURE:5,REASON_COMPUTE_HMAC_FAILURE:6,REASON_BLIND_FAILURE:7,REASON_UNBLIND_FAILURE:8,REASON_LAST_SIGNREQ_NETWORK_FAILURE:9,REASON_LAST_SIGNREQ_SERVER_ERROR:10,REASON_LAST_SIGNREQ_BAD_REQUEST:11,REASON_LAST_SIGNREQ_OTHER_ERROR:12,REASON_WAIT_FOR_GEN_TOKEN:13,REASON_GEN_SHAREDKEY_FAILURE:14,REASON_WAIT_FOR_GEN_FIRST_TOKEN:15});t.PS_TOKEN_NOT_READY_REASON=wo;const Bo=Object.freeze({REASON_PS_PINGER:0,REASON_PS_OFFCYCLE:1});t.PS_UPLOAD_REASON=Bo;const Uo=Object.freeze({OTHER:0,MESSAGES_ARENT_HELPFUL:1,TOO_MANY_MESSAGES:2,IT_LOOKS_SUSPICIOUS:3});t.PSA_BLOCK_REASON=Uo;const Go=Object.freeze({SUCCESS:1,CANCEL:2,ERROR:3});t.PSA_LINK_OPEN_RESULT=Go;const ko=Object.freeze({SAVE:1,FORWARD:2,REACT:3,LINK_CLICK:4,MEDIA_PLAY:5,DELETE:6});t.PSA_MESSAGE_ACTION_TYPE=ko;const Yo=Object.freeze({BLOCK:1,UNBLOCK:2,ARCHIVE:3,UNARCHIVE:4,CLEAR:5,DELETE_ALL:6});t.PSA_MESSAGE_REMOVE_ACTION=Yo;const Fo=Object.freeze({BLOCK_FROM_CONTACT_INFO:1,BLOCK_FROM_CHAT:2,UNBLOCK_FROM_CONTACT_INFO:3,UNBLOCK_FROM_CHAT:4,UNBLOCK_FROM_PRIVACY_SETTINGS:5,ARCHIVE_FROM_CHAT_LIST:6,ARCHIVE_FROM_DELETE_OPTION:7,UNARCHIVE_FROM_ARCHIVED_CHAT_LIST:8,CLEAR_FROM_CONTACT_INFO:9,CLEAR_FROM_CHAT_LIST:10,DELETE_ALL_FROM_CHAT_LIST:11,DELETE_ALL_FROM_CONTACT_INFO:12,DELETE_ALL_FROM_CONVERSATION:13,CLEAR_FROM_CONVERSATION:14,BLOCK_FROM_CONSENT_MODAL:15});t.PSA_MESSAGE_REMOVE_ENTRY_POINT=Fo;const Ko=Object.freeze({SPEED_1:0,SPEED_1_5:1,SPEED_2:2});t.PTT_PLAYBACK_SPEED_TYPE=Ko;const xo=Object.freeze({AUDIO_QUEUE:0,AVPLAYER:1,AVAUDIOPLAYER:2,OPUSPLAYER:3,ANDROIDPLAYER:4,EXOPLAYER:5,UWPPLAYER:6,VOIPPLAYER:7});t.PTT_PLAYER_TYPE=xo;const Ho=Object.freeze({SENT:1,CANCELLED:2,TOO_SHORT:3});t.PTT_RESULT_TYPE=Ho;const jo=Object.freeze({FROM_CONVERSATION:0,FROM_VOICEMAIL:1});t.PTT_SOURCE_TYPE=jo;const Vo=Object.freeze({UNKNOWN:0,AAC:1,MP3:2,AMR_NB:3,AMR_WB:4,OPUS:5,MULTIPLE_TRACKS:6});t.PTT_STREAM_TYPE=Vo;const Wo=Object.freeze({MANUAL:0,SEQUENTIAL:1});t.PTT_TRIGGER_TYPE=Wo;const Qo=Object.freeze({OFFER_ELAPSED:0,OFFLINE_TERMINATE:1,OFFLINE_MD_REJECT:2,OFFLINE_MD_ACCEPT:3});t.PUSH_GHOST_CALL_REASON=Qo;const $o=Object.freeze({PT_LOAD_ERROR_NONE:0,PT_LOAD_ERROR_DLOPEN_FAILED:1,PT_LOAD_ERROR_DLSYM_FAILED:2,PT_LOAD_ERROR_SYMBOL_DEREFERENCE_FAILED:3});t.PYTORCH_EDGE_LIB_LOAD_ERROR_CODE=$o;const zo=Object.freeze({PT_LOAD_STATUS_NONE:0,PT_LOAD_STATUS_SUCCESS:1,PT_LOAD_STATUS_FAILED:2});t.PYTORCH_EDGE_LIB_LOAD_STATUS=zo;const Jo=Object.freeze({OTHER:0,TRANSACTIONAL:1,PROMOTIONAL:2,OTP:3,MARKETING_MESSAGE_SMB:4});t.QBM_FLAG=Jo;const qo=Object.freeze({STICKER_STORE_DATA:0,PREVIEW_IMAGE_DOWNLOAD:1,STICKER_PACK_DATA:2,STICKER_SEARCH:3});t.QUERY_TYPE=qo;const Xo=Object.freeze({ACTION_SETTINGS_IMPRESSION:1,ACTION_SETTINGS_ADD_CLICK:2,ACTION_SETTINGS_ADD_ABANDONED:3,ACTION_SETTINGS_ADDED:4,ACTION_SETTINGS_DELETED:5,ACTION_CHAT_IMPRESSION:6,ACTION_CHAT_CLICK:7,ACTION_SETTINGS_EDITED:8,ACTION_CHAT_INVALID_ATTACHMENTS:9,ACTION_SETTINGS_INVALID_ATTACHMENTS:10,ACTION_SETTINGS_MEDIA_TRANSCODE:11,ACTION_CHAT_CLICK_CANCEL:12,ACTION_SMART_DEFAULT_CLICK:13,QUICK_REPLY_MESSAGE_SENT:14});t.QUICK_REPLY_ACTION=Xo;const Zo=Object.freeze({QUICK_REPLY_ENTRY_POINT_KEYBOARD:1,QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:2,QUICK_REPLY_ENTRY_POINT_SETTINGS_MENU:3,QUICK_REPLY_ENTRY_POINT_BANNERS:4,QUICK_REPLY_ENTRY_POINT_NUX:5});t.QUICK_REPLY_ENTRY_POINT=Zo;const ea=Object.freeze({UNKNOWN:0,CONVERSATIONS:1,BUTTON:2,KEYBOARD:3});t.QUICK_REPLY_ORIGIN=ea;const ta=Object.freeze({QUICK_REPLY_TRANSCODE_RESULT_OK:1,QUICK_REPLY_TRANSCODE_RESULT_CANCELLED:2,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_UNKNOWN:3,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_ENCODING:4,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_FILE_COPY:5,QUICK_REPLY_TRANSCODE_RESULT_FAIL_VIDEO_UNKNOWN:6});t.QUICK_REPLY_TRANSCODE_RESULT=ta;const na=Object.freeze({CELLULAR_UNKNOWN:0,WIFI_UNKNOWN:1,CELLULAR_EDGE:100,CELLULAR_IDEN:101,CELLULAR_UMTS:102,CELLULAR_EVDO:103,CELLULAR_GPRS:104,CELLULAR_HSDPA:105,CELLULAR_HSUPA:106,CELLULAR_HSPA:107,CELLULAR_CDMA:108,CELLULAR_1XRTT:109,CELLULAR_EHRPD:110,CELLULAR_LTE:111,CELLULAR_HSPAP:112});t.RADIO_TYPE=na;const ra=Object.freeze({OPEN_TRAY:1,DELETE:2,UPDATE:3});t.REACTION_ACTION_TYPE=ra;const ia=Object.freeze({CHAT_LIST:1,CHAT:2});t.READ_ENTRY_POINT=ia;const oa=Object.freeze({OTHER:0,CHAT:1,NOTIFICATION:2});t.READ_SOURCE=oa;const aa=Object.freeze({OVERALL:0,PARSE:1,WAITING_TO_PROCESS:2,PROCESS:3,WAITING_TO_ACK:5,ACK:4});t.RECEIPT_STANZA_STAGE=aa;const sa=Object.freeze({EXCEPTION_TYPE_TOS_ENABLED:0,EXCEPTION_TYPE_TOS_DISABLED:1,EXCEPTION_TYPE_REMOTE_CHAT_JID_NULL:2,EXCEPTION_TYPE_DEEP_LINK_NULL:3,EXCEPTION_TYPE_CTWA_ADS_SOURCE_NULL:4,EXCEPTION_TYPE_CTWA_ADS_PAYLOAD_NULL:5,EXCEPTION_TYPE_ADS_DATA_PARSING_FAILURE:6,EXCEPTION_TYPE_ADS_DATA_VALIDATION_FAILURE:7,EXCEPTION_TYPE_CONVERSION_TUPLE_NULL:8,EXCEPTION_TYPE_TOS_2021_ENABLED:9,EXCEPTION_TYPE_TOS_2021_DISABLED:10,EXCEPTION_TYPE_CTWA_ADS_SOURCE_NOT_VALID:11});t.RELIABILITY_ACTION_TYPE=sa;const la=Object.freeze({CLICK_OPEN_ADMIN_DASHBOARD:0,CLICK_SEND_FOR_ADMIN_REVIEW:1,CLICK_CONFIRM_SEND_FOR_ADMIN_REVIEW:2,CLICK_CANCEL_SEND_FOR_ADMIN_REVIEW:3});t.REPORT_TO_ADMIN_INTERACTION=la;const ca=Object.freeze({SUCCESS:1,ERROR:2});t.RESPONSE_TYPE=ca;const ua=Object.freeze({OTHER:0,DOUBLE_CHECKMARK:1,IDENTITY_CHANGE:2,MESSAGE_NOT_EXIST:3});t.RETRY_REJECT_REASON=ua;const da=Object.freeze({SENDER:0,ADMIN:1});t.REVOKE_TYPE=da;const _a=Object.freeze({CALLS_TAB:1,GROUP_CALL_UI:2,ATTACHMENT:3,WEB_MENU:4});t.ROOMS_ENTRY_POINT=_a;const pa=Object.freeze({CATALOG:1,COLLECTION:2,CATEGORY:3});t.SEARCH_ENTRY_POINT=pa;const fa=Object.freeze({ACTION_SEARCH_CLICK:1,ACTION_SUBMIT_SEARCH:2,ACTION_SEARCH_RESULT_CLICK:3,ACTION_QUANTITY_SELECTOR_ADD:4,ACTION_QUANTITY_SELECTOR_REMOVE:5,ACTION_SEARCH_VIEW_CART_CLICK:6,ACTION_EXIT_SEARCH_CLICK:7});t.SEARCH_VIEW_ACTION=fa;const Ea=Object.freeze({PHOTO:1,VIDEO:2,MIXED:3});t.SEND_MEDIA_TYPE_TYPE=Ea;const Aa=Object.freeze({E2EE:0,BSP:1,FB:2});t.SENDER_TYPE=Aa;const ga=Object.freeze({SETTINGS_SCREEN:0,SETTINGS_SEARCH:1,DEEP_LINK:2,PRIVACY_CHECKUP:3,METAB_SCREEN:4});t.SETTINGS_CLICK_ENTRY_POINT=ga;const ha=Object.freeze({PROFILE:0,BUSINESS_TOOLS:1,ACCOUNT:2,CHATS:3,NOTIFICATIONS:4,DATA_STORAGE_USAGE:5,HELP:6,INVITE_FRIEND:7,STARRED_MESSAGES:8,WHATSAPP_WEB:9,PREMIUM_SUBSCRIPTION:10,PRIVACY:11,SECURITY:12,THEME:13,CHAT_WALLPAPER:14,MEDIA_AUTO_DOWNLOAD:15,REQUEST_ACCOUNT_INFO:16,KEYBOARD_SHORTCUTS:17,DEVELOPER:18,DATA_SHARING:19,DESKTOP_SETTINGS:20,LINKED_DEVICES:21,UNKNOWN:22,QR_CODE:23,DEVICES:24,PROFILE_CARD:25,PRIVACY_CARD:26,CONTACTS_CARD:27,AVATAR:28,PAYMENTS:29,LOGOUT:30});t.SETTINGS_ITEM_TYPE=ha;const Sa=Object.freeze({SETTINGS:0,ME_TAB:1});t.SETTINGS_PAGE_TYPE=Sa;const Ta=Object.freeze({CUSTOM_URL:1,PHONE_NUMBER:2});t.SHARE_BIZ_TOOLS_LINK_TYPE=Ta;const ma=Object.freeze({ACTION_COPY_BUSINESS_LINK:1,ACTION_SHARE_BUSINESS_LINK:2,ACTION_SHARE_QR_CODE:3,ACTION_PREMIUM_NAME_REGISTER:4,ACTION_SHARE_QR_CODE_BUTTON_CLICK:5,ACTION_DELETE_CUSTOM_URL:6,ACTION_UPGRADE_TO_PREMIUM_LINK_CLICK:7,ACTION_PREMIUM_NAME_PAGE_IMPRESSION:8,ACTION_PREMIUM_UPSELL_IMPRESSION:9,ACTION_SHARE_BUSINESS_ICON_CLICK:10,ACTION_EDIT_CUSTOM_URL:11,ACTION_PREMIUM_EXAMPLE_PAGE_IMPRESSION:12,ACTION_VIEW_IN_BROWSER_CLICK:13,ACTION_CHANGE_LINK_CLICK:14,ACTION_DELETE_WEB_CLICK:15,ACTION_CREATE_YOUR_PAGE_CLICK:16,ACTION_PRETRIAL_AWARENESS_BOTTOM_SHEET_IMPRESSION:17,ACTION_PRETRIAL_AWARENESS_BOTTOM_SHEET_CLICK:18,ACTION_POST_SIGNUP_WEB_PAGE_AWARENESS_BOTTOM_SHEET_IMPRESSION:19,ACTION_POST_SIGNUP_WEB_PAGE_AWARENESS_BOTTOM_SHEET_CLICK:20,ACTION_POST_SIGNUP_MD_AWARENESS_BOTTOM_SHEET_IMPRESSION:21,ACTION_POST_SIGNUP_MD_AWARENESS_BOTTOM_SHEET_CLICK:22,ACTION_TRIAL_PERIOD_WEB_PAGE_AWARENESS_BOTTOM_SHEET_IMPRESSION:23,ACTION_TRIAL_PERIOD_WEB_PAGE_AWARENESS_BOTTOM_SHEET_CLICK:24,ACTION_TRIAL_PERIOD_MD_AWARENESS_BOTTOM_SHEET_IMPRESSION:25,ACTION_TRIAL_PERIOD_MD_AWARENESS_BOTTOM_SHEET_CLICK:26,ACTION_BIZ_PROFILE_SHARE_LINK:27});t.SHARE_BUSINESS_ACTION_TYPE=ma;const Ia=Object.freeze({ACTION_CLICK_SHOPS_SETTING:1,ACTION_CLICK_CATALOG_SETTING:2,ACTION_CLICK_COMMERCE_MANAGER_IN_CATALOG_SETTING:3,ACTION_CLICK_CANCEL_IN_CATALOG_SETTING:4,ACTION_CLICK_VIEW_SHOPS_IN_SHOPS_SETTING:5,ACTION_CLICK_COMMERCE_MANAGER_IN_SHOPS_SETTING:6,ACTION_CLICK_CANCEL_IN_SHOPS_SETTING:7,ACTION_SHOPS_PRODUCT_PREVIEW_VISIBLE:8,ACTION_CLICK_SHOPS_PRODUCT_PREVIEW_TILE:9,ACTION_CLICK_MANAGE_SHOPS:10,ACTION_SHARE_SHOPS:11,ACTION_CLICK_VIEW_SHOPS_FROM_EDIT_BIZ_PROFILE:12,ACTION_CLICK_COMMERCE_MANAGER_FROM_EDIT_BIZ_PROFILE:13,ACTION_CLICK_CANCEL_FROM_EDIT_BIZ_PROFILE:14});t.SHOPS_MANAGEMENT_ACTION=Ia;const ya=Object.freeze({CHAT_LIST:1});t.SHOW_SURFACE_ID_ENUM=ya;const Ca=Object.freeze({SUCCESS:1,ERROR_BAD_REQUEST:2,ERROR_SERVER:3,ERROR_OTHER:4,ERROR_CLIENT_NETWORK:5});t.SIGN_CREDENTIAL_RESULT=Ca;const va=Object.freeze({ACCOUNT_SIGNATURE:1,DEVICE_SIGNATURE:2});t.SIGNATURE_TYPE=va;const Oa=Object.freeze({LT32:1,LT64:2,LT128:3,LT256:4,LT512:5,LT1000:6,LT1024:16,LT1500:7,LT2000:8,LT2500:9,LT3000:10,LT3500:11,LT4000:12,LT4500:13,LT5000:14,LARGEST_BUCKET:15});t.SIZE_BUCKET=Oa;const Pa=Object.freeze({SMB_DATA_SHARING_CONSENT_SCREEN_VIEW:0,SMB_DATA_SHARING_CONSENT_SCREEN_AGREE:1,SMB_DATA_SHARING_CONSENT_SCREEN_DISAGREE:2,SMB_DATA_SHARING_CONSENT_SCREEN_CANCEL:3});t.SMB_DATA_SHARING_CONSENT_SCREEN_TYPE=Pa;const Na=Object.freeze({ENTRY_POINT_ORDER_SCREEN:0,ENTRY_POINT_SETTINGS_SCREEN:1,ENTRY_POINT_LABELS_SCREEN:2});t.SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT=Na;const ba=Object.freeze({WELCOME_SCREEN:1,WELCOME_SCREEN_AGREE_TO_TERMS_TAPPED:2,WELCOME_SCREEN_TOS_LINK_TAPPED:3,WELCOME_SCREEN_NOT_A_BUSINESS_TAPPED:4,ENTER_NEW_NUMBER_SCREEN:5,REUSE_EXISTING_NUMBER_SCREEN:6,REUSE_EXISTING_NUMBER_SCREEN_REUSE_EXISTING_NUMBER_TAPPED:7,REUSE_EXISTING_NUMBER_SCREEN_USE_DIFFERENT_NUMER_TAPPED:8,ENTER_2FA_CODE_SCREEN:9,MIGRATION_STARTED:10,MIGRATION_COMPLETED:11,MIGRATION_FAILED:12,SETUP_PROFILE_SCREEN:13,SELECT_BUSINESS_CATEGORY_SCREEN:14,EXPLORE_TOOLS_SCREEN:15,EXPLORE_TOOLS_SKIP_TAPPED:16,EXPLORE_TOOLS_EXPLORE_TAPPED:17,CHAT_BACKUP_SCREEN:18,CHAT_LIST_SCREEN:19,ENTER_ACTIVATION_CODE_SCREEN:20});t.SMB_ONBOARDING_STEP_TYPE=ba;const Ma=Object.freeze({SNACKBAR_SHOWN:0,MESSAGE_UNDELETE:1});t.SNACKBAR_ACTION_TYPE=Ma;const Ra=Object.freeze({STATIC:0,SHARED:1});t.SRTP_LIBRARY_VERSION=Ra;const Da=Object.freeze({MESSAGE:1,RECEIPT:2,CALL:3,NOTIFICATION:4,APPDATA:5});t.STANZA_TYPE=Da;const La=Object.freeze({OK:1,CANCELLED:2,ERROR_UNKNOWN:3,MEDIA_ERROR_UNKNOWN:4,MEDIA_ERROR_DNS:5,MEDIA_ERROR_TIMEOUT:6,MEDIA_ERROR_INSUFFICIENT_SPACE:7,MEDIA_ERROR_TOO_OLD:8,MEDIA_ERROR_CANNOT_RESUME:9,MEDIA_ERROR_HASH_MISMATCH:10,MEDIA_ERROR_INVALID_URL:11,MEDIA_ERROR_OUTPUT_STREAM:12,MEDIA_ERROR_MEDIA_CONN:13,MEDIA_ERROR_THROTTLE:14,MEDIA_DOWNLOAD_CANCEL:15,MEDIA_PREFETCH_END:16,MEDIA_ERROR_WATLS:17,MEDIA_ERROR_SERVER:18,MEDIA_ERROR_WAMSYS:19,MEDIA_ERROR_NETWORK:20,MEDIA_ERROR_CONNECT:21,MEDIE_HOST_SWTICH_REQUIRED:22,MEDIA_INVALID_CODE:23,MEDIA_SUSPICIOUS_CONTENT:24,MEDIA_ERROR_CRONET:25,PARTIAL_IMAGE_DOWNLOAD:26});t.STATUS_ITEM_VIEW_RESULT=La;const wa=Object.freeze({UNKNOWN:1,TEXT:2,IMAGE:3,VOICE:4,DOCUMENT:5,AUDIO:6,STICKER:7,LOCATION:8,PRODUCT:9,CONTACT:10,CONTACT_ARRAY:11,CAMERA_CAPTURE_IMAGE:12,MEDIA_GALLERY:13,GIF_VIDEO:14,QUICK_REPLY:15,POLL:16});t.STATUS_REPLY_MESSAGE_TYPE=wa;const Ba=Object.freeze({OK:1,CANCELLED:2,ERROR_UNKNOWN:3});t.STATUS_REPLY_RESULT=Ba;const Ua=Object.freeze({CLICK_REPORT:0,CLICK_SUBMIT_REPORT:1,CLICK_CANCEL_REPORT:2,CLICK_SUBMIT_REPORT_BLOCK:3});t.STATUS_REPORT_INTERACTION=Ua;const Ga=Object.freeze({DIRECT_ROW_TAP:1,BACKWARDS_SWIPE:2,FOWARDS_SWIPE:3,BACKWARDS_TAP:4,FOWARDS_TAP:5,PREVIOUS_ROW_TIMEOUT:6});t.STATUS_ROW_ENTRY_METHOD=Ga;const ka=Object.freeze({RECENT_STORIES:1,PREVIOUS_STORIES:2,MUTED_STORIES:3,MY_STATUS:4,CHAT_LIST:5,GROUP_PARTICIPANT:6,CONTACT_CARD:7,PROFILE_PAGE:8,CHAT_LIST_SEARCH:9});t.STATUS_ROW_SECTION=ka;const Ya=Object.freeze({IMAGE:1,VIDEO:2});t.STATUS_TYPE_MEDIA=Ya;const Fa=Object.freeze({STATUS_TAB:1,PROFILE_BADGE:2,THREADS_PROFILE_BADGE:3,RECENT_STORIES:4,PREVIOUS_STORIES:5,MUTED_STORIES:6,MY_STATUS:7,CHAT_LIST:8,GROUP_PARTICIPANT:9,CONTACT_CARD:10,PROFILE_PAGE:11,CHAT_LIST_SEARCH:12});t.STATUS_VIEW_ENTRY_POINT=Fa;const Ka=Object.freeze({RECEIVED:1,VIEWED:2,FORWARD_TAP:3,MUTE_TAP:4,VIEW_CONTACT:5,MESSAGE_TAP:6});t.STATUS_VIEWER_NON_TRAFFIC_ACTION_TYPE=Ka;const xa=Object.freeze({MESSAGE_SEND:1,REACTION_TAP:2,VOICE_CALL_TAP:3,VIDEO_CALL_TAP:4});t.STATUS_VIEWER_TRAFFIC_ACTION_TYPE=xa;const Ha=Object.freeze({REGULAR:1,PAYMENTS:2});t.STICKER_SEND_MESSAGE_TYPE=Ha;const ja=Object.freeze({STICKER_SEARCH:1,FORWARD:2,STICKER_PICKER_TAB_RECENTS:3,STICKER_PICKER_TAB_FAVORITES:4,STICKER_PICKER_TAB_EMOTION:5,STICKER_PICKER_TAB_PACK:6,STICKER_PICKER_TAB_CONTEXTUAL_SUGGESTIONS:7,STICKER_MAKER:8,STICKER_STORE:9,AI_STICKER_CREATE:10});t.STICKER_SEND_ORIGIN_TYPE=ja;const Va=Object.freeze({BANNER_SHOW:1,BANNER_DISMISS:2,BANNER_TAP_VIEW_CHANGES:3,BANNER_NOT_SHOWN_REGISTRATION_TOO_NEW:4,BANNER_NOT_SHOWN_AGAIN_BEYOND_WINDOW:5});t.STRAWBERRY_ACTION_TYPE=Va;const Wa=Object.freeze({HSM:0,BUTTON:1,LIST:2,PRODUCT_LIST:3,BUTTON_NFM:4,PRODUCT_ITEM:5,SHOP_STOREFRONT:6});t.STRUCTURED_MESSAGE_CLASS=Wa;const Qa=Object.freeze({NEW:0,ACTIVE:1,CHURNED:2});t.SUBSCRIBER_TYPE=Qa;const $a=Object.freeze({ACTIVATED:0,FAILED:1,CANCELED:3,EXPIRED:4,PAUSED:5});t.SUBSCRIPTION_APP_STORE_RESULT=$a;const za=Object.freeze({MULTI_DEVICE:0,CUSTOM_URL:1,MANAGE_EXISTING_SUBSCRIPTION:2,SMB_PREMIUM_UPSELL_CHAT_BANNER:3,SMB_PREMIUM_SUBS_PAYMENT_FAILED_BANNER:4,SMB_PREMIUM_SUBS_UNINTENTIONAL_CANCELED_BANNER:5,SETTINGS:6,BUSINESS_TOOLS:7,PREMIUM_TOOLS:8,DEEPLINK:9});t.SUBSCRIPTION_ENTRY_POINT=za;const Ja=Object.freeze({NO_SUBSCRIPTION_DATA_FOUND:0,WA_LATEST_VERSION_REQUIRED:1,GOOGLE_PLAY_SERVICES_NOT_INSTALLED:2,SUBSCRIPTION_QUOTE_FETCH_FAILED:3,SUBSCRIPTION_VERIFICATION_FAILED:4});t.SUBSCRIPTION_ERROR_TYPE=Ja;const qa=Object.freeze({PAID:0,FREE_TRIAL:1,DISCOUNT_TRIAL:2});t.SUBSCRIPTION_TYPE=qa;const Xa=Object.freeze({CHAT:1,CHATLIST:2,GALLERY:3,COMMUNITY_HOME:4,COMMUNITY_TAB:5,COMMUNITY_NAV:6,COMMUNITY_NAV_SHEET:7,COMMUNITY_SETTINGS:8,GROUP_INFO:9,NOTIFICATION:10});t.SURFACE_TYPE=Xa;const Za=Object.freeze({NONE:1,SPEEX:2,WEBRTC:3,MWEBRTC:4,ECHOSUPPRESSOR:5});t.SW_AEC_TYPE=Za;const es=Object.freeze({TITLE:1,CONTENT:2,FOOTER:3,BUTTON:4});t.TEMPLATE_COMPONENT=es;const ts=Object.freeze({CHATLIST:0,INTRO_CARD:1,PROFILE_VIEW:2,OTHER:3,CONTEXT_MENU:4});t.THREAD_ACTION_ENTRY_POINT=ts;const ns=Object.freeze({ARCHIVE:0,UNARCHIVE:1,MUTE:2,UNMUTE:3,CLEAR:4,DELETE:5,BLOCK:6,REPORT:7});t.THREAD_LEVEL_ACTION=ns;const rs=Object.freeze({GROUP:1,BROADCAST:2,INDIVIDUAL:3,STATUS:4,CHANNEL:5,SUB_GROUP:6,DEFAULT_SUB_GROUP:7,PARENT_GROUP:8});t.THREAD_TYPE=rs;const is=Object.freeze({EMPTY:1,ENTER_AD_CREATION_FLOW:2,DISMISS:3,IGNORE:4});t.TOOLTIP_ACTION=is;const os=Object.freeze({EN_AU:1,EN_CA:2,EN_GB:3,EN_IN:4,EN_SG:5,EN_US:6,ES_419:7,ES_ES:8,ES_MX:9,ES_US:10,FR_CA:11,FR_FR:12,DE_DE:13,IT_IT:14,JA_JP:15,KO_KR:16,PT_BR:17,RU_RU:18,TR_TR:19,YUE_CN:20,ZH_CN:21,ZH_HK:22,ZH_TW:23,AR_SA:24});t.TRANSCRIPTION_LANGUAGE_TYPE=os;const as=Object.freeze({USER_INITIATED:0,AUTOMATIC:1,LANGUAGE_FETCH:2});t.TRANSCRIPTION_REQUEST_TYPE=as;const ss=Object.freeze({SUCCEEDED:1,CANCELED:2,SPEECH_RECOGNITION_INIT_FAILED:3,LANGUAGE_NOT_SUPPORTED_ON_DEVICE:4,LANGUAGE_NOT_DOWNLOADED:5,RECOGNIZER_NOT_AVAILABLE:6,OPUS_TO_AAC_CONVERSION_FAILED:7,UNSUPPORTED_FILE_TYPE:8,SPEECH_API_UNKNOWN_ERROR:9,NO_SPEECH_DETECTED:10,SPEECH_API_ERROR:11});t.TRANSCRIPTION_RESULT=ss;const ls=Object.freeze({CHAT_ENTRY:1,SYSTEM_MESSAGE:2,KEEP_MESSAGE_FIRST_TIME:3,USER_MESSAGE_KEPT:4,KEPT_FOLDER_TAP_FIRST_TIME:5,UNKEEP_MESSAGE_FIRST_TIME:6,EPHEMERAL_SETTINGS:7});t.TRIGGER_TYPE=ls;const cs=Object.freeze({VIEWED:0,DISMISSED:1});t.TRUST_BANNER_ACTION=cs;const us=Object.freeze({B0:1,B1:2,B2:3,B11:4,B51:5,B101:6,B501:7,B1K:8,B10K:9,B100K:10,B1M:11});t.TRUST_SIGNAL_BUCKETS=us;const ds=Object.freeze({CALL:1,VIDEO:2,PTT_RECORD:3,PTT_PLAY:4});t.TS_EXTERNAL_EVENT_SOURCE=ds;const _s=Object.freeze({UPLOAD_SUCCESS:1,EMPTY_LOG_DIR:2,GZIP_FAILURE:3,UPLOAD_FAILURE:4,LOG_SIZE_EXCEEDED:5});t.TS_LOG_UPLOAD_RESULT=_s;const ps=Object.freeze({UNKNOWN:1,COMMUNITY_HOME:2,COMMUNITY_TAB:3,CHAT_THREAD:4,CHAT_INFO_PAGE:5,CHAT_LIST:6,COMMUNITY_NAVIGATION:7,BACKGROUND:8,RESIGN:9,SUBGROUP_SWITCHER:10,COMMUNITY_COMPOSER:11,MEDIA_VIEWER:12,ALL_MEDIA:13,STREAMING_MEDIA_VIEWER:14,CALLS_HOME_TAB:15,IN_CALL_UI:16,STATUS_HOME_TAB:17,STATUS_COMPOSER:18,STATUS_VIEW:19,CAMERA:20,PHOTO_VIDEO_LIBRARY:21,SETTINGS_HOME_TAB:22,TOOLS_TAB:23,COMMUNITY_SETTINGS:24,CHANNEL_UPDATES_HOME:25,CHANNEL_THREAD:26,CHANNEL_DIRECTORY:27,CHANNEL_PROFILE:28,CHANNEL_FORWARD:29,CHANNEL_PRODUCER_MEDIA_EDITOR:30,CHANNEL_CREATE:31,CHANNEL_EDIT:32,CHANNEL_DELETE:33,STATUS_COMPOSER_TEXT:34,LIGHTWEIGHT_CALL_UI:35});t.TS_SURFACE=ps;const fs=Object.freeze({GROUP:1,SUBGROUP:2,DEFAULT_SUBGROUP:3});t.TYPE_OF_GROUP_ENUM=fs;const Es=Object.freeze({INDIVIDUAL:1,GROUP:2,SUBGROUP:3,DEFAULT_SUBGROUP:4,CHANNEL:5});t.UI_ACTION_CHAT_TYPE=Es;const As=Object.freeze({OTHER:1,APP_OPEN:2,CHAT_OPEN:3,IMAGE_OPEN:4,FIRST_FTS_RESULT:5,CONTACTS_OPEN:6,GROUP_INFO_OPEN:7,MSG_INFO_OPEN:8,COMMUNITY_INFO_OPEN:9,DEFAULT_SUBGROUP_INFO_OPEN:10,COMMUNITY_CREATE:11,COMMUNITY_LINK:12,EMOJI_OBI_DECOMPRESSION:13,EMOJI_PNG_DECOMPRESSION:14,CHAT_LIST_OPEN:15,CALL_LIST_OPEN:16,CHANNEL_INFO_OPEN:17});t.UI_ACTION_TYPE=As;const gs=Object.freeze({NEW_CHAT_PRESSED:1,YOU_SELECTED:2,SEARCH_BAR_PRESSED:3,SEARCH_FULL_NAME_YOU_SELECTED:4,NEW_NTS_CREATED:5,EXISTING_NTS_OPENED:6});t.UI_MESSAGE_YOURSELF_ACTION_TYPE=gs;const hs=Object.freeze({NEW_CHAT:1,CONTACT_AND_GLOBAL_SEARCH:2});t.UI_MESSAGE_YOURSELF_FUNNEL_NAME=hs;const Ss=Object.freeze({MESSAGE_SELECTED:0,TRASH_CAN_SELECTED:1,ADMIN_DELETE_FOR_EVERYONE:2,SENDER_DELETE_FOR_EVERYONE:3,ADMIN_AND_SENDER_DELETE_FOR_EVERYONE:4,DELETE_FOR_EVERYONE_SELECTED:5});t.UI_REVOKE_ACTION_TYPE=Ss;const Ts=Object.freeze({NEW_GROUP:1,NEW_BROADCAST_LIST:2,SETTINGS:3,PROFILE:4,ACCOUNT:5,CHANGE_NUMBER:6,GROUP_INFO:7,BACKUP_CONVERSATIONS:8,ABOUT:9,FAQ:10,CONTACT_US:11,DELETE_ACCOUNT:12,CONTACTS_VIEWS:13,STATUS_VIEWS:14,TELL_A_FRIEND:22,FAVORITES_VIEWS:23,CHAT_DELETE:24,CHAT_CLEAR:25,CHAT_ARCHIVE:26,CHATS_ALL_DELETE:27,CHATS_ALL_CLEAR:28,CHATS_ALL_ARCHIVE:29,CHATS_CLEAR_OLDER_30_DAYS:30,CHATS_CLEAR_OLDER_6_MONTHS:31,CHAT_CLEAR_OLDER_30_DAYS:32,CHAT_CLEAR_OLDER_6_MONTHS:33,MESSAGE_STAR:34,GDPR_REPORT_DOWNLOAD:35,GDPR_REPORT_EXPORT:36,MESSAGE_INFO:37,NEW_CHAT:38,P2B_REPORT_DOWNLOAD:39,P2B_REPORT_EXPORT:40,CHANNEL_INFO:41,FOLLOW_CHANNEL:42,UNFOLLOW_CHANNEL:43,SHARE_CHANNEL_LINK:44,FORWARD_CHANNEL_LINK:45,CHANNEL_REPORT_REQUEST:46,CHANNEL_REPORT_DOWNLOAD:47,CHANNEL_REPORT_EXPORT:48});t.UI_USAGE_TYPE=Ts;const ms=Object.freeze({UNKNOWN:1,CHAT_PERSONAL:2,CHAT_GROUP:3,STATUS_USER:4,PRODUCT_CATALOG:5,STICKER_WEB:6,PAYMENTS_KYC:7,MESSAGE_HISTORY_SYNC:8,COMMUNITY:9,CHANNEL:10,BROADCAST:11,MULTI_CHAT:12});t.UPLOAD_ORIGIN_TYPE=ms;const Is=Object.freeze({OTHER:1,CAMERA:2,GALLERY:3,SHARE:4});t.UPLOAD_SOURCE_TYPE=Is;const ys=Object.freeze({ONE_CLICK:1,TWO_CLICKS:2,NO_CLICK:3});t.URL_STATUS_CLICKED=ys;const Cs=Object.freeze({NO_PREVIEW:1,TRUNCATED:2,NON_TRUNCATED:3});t.URL_STATUS_TYPE=Cs;const vs=Object.freeze({INVALID_STANZA:1,JSON_FETCH:2,JSON_PARSE:3,IMAGE_FETCH:4,NO_ELIGIBLE_DISCLOSURE:5,DISCLOSURE_STAGE_FETCH:6,UI_TEMPLATE_MISMATCHED:7,ERROR_UNKNOWN:8,SYNC_STAGE_MISMATCH:9});t.USER_NOTICE_ERROR_EVENT=vs;const Os=Object.freeze({TRIGGERED:0,BANNER_APPEAR:1,BANNER_SELECT:2,MODAL_APPEAR:3,MODAL_DISMISS:4,MODAL_LINK_FOLLOW:5,MODAL_ACCEPT:6,BLOCKING_MODAL_APPEAR:7,BLOCKING_MODAL_LINK_FOLLOW:8,BLOCKING_MODAL_ACCEPT:9,BANNER_DISMISS:10,EDUCATION_1_APPEAR:11,EDUCATION_1_DISMISS:12,EDUCATION_1_CONTINUE:13,MODAL_BACK:14,BLOCKING_MODAL_BACK:15,STARTED:100,PDFN_SHOWN_0:105,BADGE_APPEARED_NEXT_TO_SETTINGS:110,PDFN_SHOWN_1:111,PDFN_SHOWN_2:112,PDFN_SHOWN_3:113,PDFN_SHOWN_4:114,PDFN_SHOWN_5:115,PDFN_SHOWN_6:116,PDFN_SHOWN_7:117,PDFN_SHOWN_8:118,PDFN_SHOWN_9:119,BADGE_APPEARED_NEXT_TO_HELP:120,BADGE_SHOWN_IN_HELP:130,PDFN_DISMISSED:145,BADGE_EXPIRED:150,PDFN_OK:155,PDFN_DENIED:165,BADGE_SELECTED:170,PDFN_ACCEPTED:175,PDFN_FAILED_TO_DOWNLOAD:400,PDFN_PARTIAL_DOWNLOAD:410,PDFN_ERROR_MISMATCHED_TEMPLATE:420,PDFN_ERROR_UNKNOWN:499,FINAL_END:999,PDFN_0_SECONDARY_BTN_CLICKED:1014,PDFN_1_SECONDARY_BTN_CLICKED:1015,PDFN_2_SECONDARY_BTN_CLICKED:1016,PDFN_3_SECONDARY_BTN_CLICKED:1017,PDFN_4_SECONDARY_BTN_CLICKED:1018,PDFN_5_SECONDARY_BTN_CLICKED:1019,PDFN_6_SECONDARY_BTN_CLICKED:1020,PDFN_7_SECONDARY_BTN_CLICKED:1021,PDFN_8_SECONDARY_BTN_CLICKED:1022,PDFN_9_SECONDARY_BTN_CLICKED:1023});t.USER_NOTICE_EVENT=Os;const Ps=Object.freeze({MEMBER:0,ADMIN:1,CADMIN:2});t.USER_ROLE_TYPE=Ps;const Ns=Object.freeze({UNKNOWN:1,NO_ACTION_REQUIRED:2,HAS_ERRORS:3});t.VALIDATION_STATUS=Ns;const bs=Object.freeze({SUCCESS:0,ERROR:1,FAIL:2});t.VERIFICATION_RESULT=bs;const Ms=Object.freeze({FAILURE:0,SUCCESS:1});t.VERIFICATION_STATE=Ms;const Rs=Object.freeze({FAILURE:1,INVALID:2,UNSERVICEABLE:3});t.VERIFY_POSTCODE_FAIL_REASON=Rs;const Ds=Object.freeze({WA_IPHONE:0,FB_IPHONE:1});t.VIDEO_TRANSCODER_ALGORITHM_TYPE=Ds;const Ls=Object.freeze({UNKNOWN:0,SUCCEEDED:1,FAILED:2,CANCELLED:3});t.VIDEO_TRANSCODER_RESULT_TYPE=Ls;const ws=Object.freeze({SLOMO:0,VIDEO:1,GIF:2});t.VIDEO_TRANSCODER_SOURCE_FORMAT_TYPE=ws;const Bs=Object.freeze({IMAGE:0,VIDEO:1,GIF:2});t.VIDEO_TRANSCODER_TARGET_FORMAT_TYPE=Bs;const Us=Object.freeze({ACTION_CATEGORY_LEVEL_CLICK:1,ACTION_CATEGORY_LEVEL_IMPRESSION:2,ACTION_CATEGORY_PRODUCT_CLICK:3,ACTION_CATEGORY_PREFETCH:4});t.VIEW_ACTION=Us;const Gs=Object.freeze({ACTION_IMPRESSION:1,ACTION_CLICK_WEBSITE:2,ACTION_CLICK_LOCATION:3,ACTION_CLICK_HOURS:4,ACTION_CLICK_DESCRIPTION:5,ACTION_CLICK_EMAIL:6,ACTION_CLICK_ADDTOCONTACT:7,ACTION_CLICK_MORE_BIZ_PROFILE:8,ACTION_CLICK_MESSAGE:9,ACTION_CLICK_VOICE_CALL:10,ACTION_CLICK_VIDEO_CALL:11,ACTION_CLICK_FORWARD:12,ACTION_CLICK_CATALOG_ICON:13,ACTION_CLICK_SHOPS_ICON:14,ACTION_CLICK_APP_LINK:15,ACTION_APP_IMPRESSION:16,ACTION_CLICK_STATUS:17,ACTION_EXIT:18,ACTION_COVER_PHOTO_IMPRESSION:19});t.VIEW_BUSINESS_PROFILE_ACTION=Gs;const ks=Object.freeze({SERIAL_MISMATCH_CERT_IN_MESSAGE_INVALID:0,NEW_SERIAL_CERT_IN_MESSAGE_INVALID:1,GET_VNAME_CERT_INVALID:2,VNAME_CERT_UPDATE_INVALID:3,IDENTITY_ADDED_INVALID:4,IDENTITY_CHANGED_INVALID:5,IDENTITY_DELETED_INVALID:6,USYNC_VNAME_CERT_INVALID:7,USYNC_NO_VNAME_CERT:8});t.VNAME_CERT_HEALTH_EVENT_TYPE=ks;const Ys=Object.freeze({PHOTO:1,VIDEO:2});t.VO_MESSAGE_TYPE=Ys;const Fs=Object.freeze({SENDER_NUX_TYPE_C_IMPRESSION:1,SENDER_NUX_TYPE_D_IMPRESSION:2,SCREENSHOT_SENDER_NUX_TYPE_D_IMPRESSION:3,RECIPIENT_OPEN_NUX_TYPE_C_IMPRESSION:4,RECIPIENT_OPEN_NUX_TYPE_D_IMPRESSION:5,SENDER_NUX_TYPE_C_LEARN_MORE_TAP:6,SENDER_NUX_TYPE_D_LEARN_MORE_TAP:7,SCREENSHOT_SENDER_NUX_TYPE_D_LEARN_MORE_TAP:8,RECIPIENT_OPEN_NUX_TYPE_C_LEARN_MORE_TAP:9,RECIPIENT_OPEN_NUX_TYPE_D_LEARN_MORE_TAP:10,SCREENSHOT_BLOCKED:11,SCREENSHOT_TAKEN:12,SCREEN_RECORDING_BLOCKED:13,SCREEN_RECORDING_STARTED:14,PLACEHOLDER_MESSAGE_LEARN_MORE_TAP:15});t.VO_SS_ACTION=Fs;const Ks=Object.freeze({UNKNOWN:0,PROD:1,FALLBACK:2,CANARY:3});t.VOIP_SETTING_RELEASE_TYPE=Ks;const xs=Object.freeze({STATIC:0,SHARED:1});t.VPX_LIB=xs;const Hs=Object.freeze({WHATSAPP_CHATPSA:1});t.WA_OFFICIAL_ACCOUNT_NAME=Hs;const js=Object.freeze({UNKNOWN:0,IS_REDIAL:1,NOT_REDIAL:2});t.WA_VOIP_HISTORY_CALL_REDIAL_STATUS=js;const Vs=Object.freeze({INVALID:0,NOT_SINGLE_SEGMENT_CALL:1,NOT_START_FROM_VIDEO_CALL:2,HAS_AV_SWITCH:3,SELF_CAMERA_OFF:4,PEER_CAMERA_OFF:5,SELF_HAS_NETWORK_TRANSITION:6,PEER_HAS_NETWORK_TRANSITION:7,CALL_TOO_SHORT:8,PASS:100});t.WA_VOIP_HISTORY_SAVE_CALL_RECORD_CONDITION_CHECK_STATUS=Vs;const Ws=Object.freeze({JPEG:0,WEBP:1,GIF:2,PNG:3,JPEG2000:4,JPEGXL:5,AVIF:6});t.WAMEDIA_IMGOPS_FILE_TYPE=Ws;const Qs=Object.freeze({CXX:0,RUST:1,RUST_WASM:2});t.WAMEDIA_IMGOPS_IMPL=Qs;const $s=Object.freeze({CHECK:0,REPAIR:1,REMOVE_EXIF:2});t.WAMEDIA_IMGOPS_TYPE=$s;const zs=Object.freeze({UNDEFINED:0,ISO_IEC_14496_3:64,ISO_IEC_13818_7_MAIN_PROFILE:102,ISO_IEC_13818_7_LOW_COMPLEXIFY:103,ISO_IEC_13818_7_SCALABLE_SAMPLING_RATE:104,ISO_IEC_13818_3:105,ISO_IEC_11172_3:107});t.WAMEDIA_MP4OPS_AUDIO_STREAM_SUBTYPE=zs;const Js=Object.freeze({UNDEFINED:0,MPEG_AUDIO:1,AMRNB:2,MMRWB:3,QCELP:4,EAC3:5});t.WAMEDIA_MP4OPS_AUDIO_STREAM_TYPE=Js;const qs=Object.freeze({MP4:0,QUICKTIME:1,MPEGDASH:2});t.WAMEDIA_MP4OPS_FILE_TYPE=qs;const Xs=Object.freeze({CXX:0,RUST:1,RUST_WASM:2});t.WAMEDIA_MP4OPS_IMPL_ENUM=Xs;const Zs=Object.freeze({CHECK:0,STREAM_CHECK:1,REPAIR:2,CHECK_REPAIR:3,EXTRACT:4,MUX:5,FORENSIC:6});t.WAMEDIA_MP4OPS_TYPE=Zs;const el=Object.freeze({UNDEFINED:0,H263:1,AVC:2,MPEG4:3,OTHER_MPEGS:4,HEVC:5,AV1:6});t.WAMEDIA_MP4OPS_VIDEO_STREAM_TYPE=el;const tl=Object.freeze({CONTACT:1,GROUP:2,CONTACTLESS:3});t.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=tl;const nl=Object.freeze({UNCACHED:0,IDLE:1,CHECKING:2,DOWNLOADING:3,UPDATEREADY:4,OBSOLETE:5});t.WEBC_APPCACHE_STATUS_CODE=nl;const rl=Object.freeze({UNCACHED:0,IDB:1,SW:2});t.WEBC_ASSET_CACHE_TYPE_CODE=rl;const il=Object.freeze({IMPRESSION:1,CLICK_CTA:2,CLICK_DISMISS:3,AUTO_DISMISS:4});t.WEBC_BUTTERBAR_ACTION_TYPE=il;const ol=Object.freeze({OFFLINE:1,RESUME_CONNECTING:2,RESUME_LOADING_MSGS_PROGRESS:3,UPDATE_DUE_TO_SOFT_MIN:4,UWP_UPSELL:5,NOTIFICATION:6,OFFLINE_NOTIFICATION:7});t.WEBC_BUTTERBAR_BB_TYPE=ol;const al=Object.freeze({INDIVIDUAL:0,GROUP:1,BROADCAST_LIST:2,COMMUNITY:3,NEWSLETTER:4});t.WEBC_CHAT_TYPE=al;const sl=Object.freeze({SHOWED_PREVIEW_TO_USER:1,PREVIEW_TIMEOUT:2,PREVIEW_MALFORMED:3,PREVIEW_NOT_FOUND:4,PREVIEW_GENERAL_ERROR:5,PREVIEW_DECRYPTION_ERROR:6});t.WEBC_DISPLAY_STATUS_TYPE=sl;const ll=Object.freeze({IMPRESSION:1,CTA_BTN_CLICK:2,CTA_DISMISS:3});t.WEBC_ELECTRON_DEPRECATION_CTA_EVENT_TYPE=ll;const cl=Object.freeze({INTRO_PANEL:1,BUTTERBAR:2,LINK_DEVICE_BANNER:3});t.WEBC_ELECTRON_DEPRECATION_CTA_SOURCE=cl;const ul=Object.freeze({SOFT_MIGRATION:1,APP_EXPIRY_NOTICE:2});t.WEBC_ELECTRON_DEPRECATION_CTA_TYPE=ul;const dl=Object.freeze({PROD:0,INTERN:1,DEV:2,E2E:3});t.WEBC_ENV_CODE=dl;const _l=Object.freeze({COMPLETED:0,ERROR:1,TIMEOUT:2,ABORTED:3});t.WEBC_JOB_RESULT_TYPE_CODE=_l;const pl=Object.freeze({SUCCESS:0,SILENCE:1,ZEROWIDTH:2});t.WEBC_MEDIA_LOAD_RESULT_CODE=pl;const fl=Object.freeze({DOWNLOAD:1,UPLOAD:2});t.WEBC_MEDIA_OPERATION_CODE=fl;const El=Object.freeze({NEW_GROUP:1,CREATE_A_ROOM:2,PROFILE:3,CATALOG:4,ARCHIVED:5,STARRED:6,LABELS:7,SETTINGS:8,LOG_OUT:9,CONTACT_INFO:10,SELECT_MESSAGES:11,CLOSE_CHAT:12,MUTE_NOTIFICATIONS:13,CLEAR_MESSAGES:14,DELETE_CHAT:15,REPORT_BUSINESS:16,BLOCK:17,SETTINGS_NOTIFICATIONS:18,SETTINGS_THEME:19,SETTINGS_CHAT_WALLPAPER:20,SETTINGS_BLOCKED:21,SETTINGS_HELP:22,OPEN:23,CLOSE:24});t.WEBC_MENU_ITEM_LABEL=El;const Al=Object.freeze({THREADS_SCREEN_CLICK:1,CHAT_SCREEN_CLICK:2,SETTINGS_SCREEN_CLICK:3});t.WEBC_MENU_TYPE=Al;const gl=Object.freeze({LOAD_PREV:0,LOAD_NEXT:1,LOAD_AROUND:2});t.WEBC_MESSAGE_QUERY_DIRECTION=gl;const hl=Object.freeze({IMPRESSION:1,CTA_BTN_CLICK:2,CTA_DISMISS:3});t.WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE=hl;const Sl=Object.freeze({INTRO_PANEL:1,CHATLIST_DROPDOWN:2,BUTTERBAR:3,QR_BANNER:4,SEARCH_RESULTS:5,CALL_BTN_MODAL:6});t.WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE=Sl;const Tl=Object.freeze({NAVIGATE_NEXT:0,RELOAD:1,BACK_FORWARD:2,UNDEFINED:255});t.WEBC_NAVIGATION_TYPE=Tl;const ml=Object.freeze({INSTALL:1});t.WEBC_PWA_ACTION_TYPE=ml;const Il=Object.freeze({ANNOTATION_SIZE_LIMIT_EXCEEDED:1,MAX_POINT_COUNT_EXCEEDED:2,MAX_MARKER_COUNT_EXCEEDED:3,TOO_MANY_OPEN_MARKERS_TO_WRITE:4,POINT_TO_END_AT_NOT_FOUND:5,JSON_FORMAT_ERROR:6,MAX_STORAGE_EVENT_COUNT_REACHED:7,ERROR_UPLOADING_CHUNK:8,POINT_NAME_TOO_LONG:9,ANNOTATION_KEY_TOO_LONG:10,POINT_DATA_TOO_LONG:11,ERROR_PARSING_CONFIG:12});t.WEBC_QPL_HEALTH_EVENT_TYPE=Il;const yl=Object.freeze({UNKNOWN:0,USER_SCROLL:1,NEW_MESSAGE_PREFETCH:2,SEARCH_RESULT_CLICK:3});t.WEBC_QUERY_TRIGGER_TYPE=yl;const Cl=Object.freeze({OTHER:0,MSG_CLICK:1,STICKER_PANEL_ICON:2,MEDIA_VIEWER:3,VIDEO_STREAMING:4,STATUS_V3:5,MULTI_SELECT_DOWNLOAD:6,DOCUMENT_DOWNLOAD:7,PIP:8,STICKER_PANEL_STICKER:9,SEND_TO_CHAT:10,UPLOAD:11,MSG_INIT:12,MSG_UPDATE:13,MSG_DELETE:14,MSG_RENDER:15});t.WEBC_RMR_REASON_CODE=Cl;const vl=Object.freeze({INITIAL_PAIRING:0,OFFLINE_RESUME:1,IDLE:2});t.WEBC_SCENARIO_TYPE=vl;const Ol=Object.freeze({TEXT:0,URL:1,IMAGE:2,VIDEO:3,GIF:4});t.WEBC_STATUS_MEDIA_TYPE=Ol;const Pl=Object.freeze({MY:0,RECENT:1,VIEWED:2,MUTED:3});t.WEBC_STATUS_ROW_SECTION=Pl;const Nl=Object.freeze({STICKER_MAKER_BUTTON_TAP:0,IMAGE_UPLOADED:1,IMAGE_CROPPED:2,EMOJI_ADDED:3,STICKER_ADDED:4,TEXT_ADDED:5,IMAGE_OUTLINED:6,SEND_STICKER:7});t.WEBC_STICKER_MAKER_EVENT_NAME_TYPE=Nl;const bl=Object.freeze({QR:0,MAIN:1,SYNCING:2,OFFLINE:3,CONFLICT:4,PROXYBLOCK:5,TOS_BLOCK:6,SMB_TOS_BLOCK:7,DEPRECATED_VERSION:8,LOCK:9});t.WEBC_STREAM_MODE_CODE=bl;const Ml=Object.freeze({WEB:1,WIN32:2,DARWIN:3,IOS_TABLET:4,ANDROID_TABLET:5,WINSTORE:6,MACSTORE:7,DARWIN_BETA:8,WIN32_BETA:9,PWA:10});t.WEBC_WEB_PLATFORM_TYPE=Ml;const Rl=Object.freeze({FALSE:0,TRUE:1,UNDEFINED:2});t.WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE=Rl;const Dl=Object.freeze({SOURCE_OTHER:1,SOURCE_INSTAGRAM:2});t.WEBSITE_SOURCE_TYPE=Dl;const Ll=Object.freeze({FIRST_WELCOME_MESSAGE_IMP:0,FIRST_MESSAGE_SENT:1,QUICK_QUESTIONS_TAP:2,ICEBREAKERS_IMP:3,SELECT_QUESTION_TAP:4,SEND_TAP:5,ADS_CONTENT_DISMISSED:6});t.WELCOME_MESSAGE_ACTION_TYPE=Ll;const wl=Object.freeze({IQ_REQUEST_FAILED:0,NO_WELCOME_MESSAGE_RETURNED:1,WELCOME_MESSAGE_RETURNED:2});t.WELCOME_MESSAGE_ERROR_TYPE=wl;const Bl=Object.freeze({DISCONNECTED:1,CONNECTING:2,CONNECTED:3,UNKNOWN:4});t.XMPP_STATUS=Bl;const Ul=Object.freeze({DISABLED:0,ALLOC:1,ALLOC_AND_RTP:2});t.XOR_CIPHER_MODE=Ul},53047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateStatsAllIds=t.Global=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a,STRING:s}=r.TYPES,l=(0,r.defineGlobal)({abKey2:[4473,s,["regular"]],appBuild:[1657,i.APP_BUILD_TYPE,["regular","private"]],appIsBetaRelease:[21,o,["regular","private"]],appVersion:[17,s,["regular","private"]],browser:[779,s,["regular"]],browserVersion:[295,s,["regular"]],datacenter:[2795,s,["regular"]],deviceName:[13,s,["regular","private"]],deviceVersion:[4505,s,["regular"]],expoKey:[5029,s,["regular","private"]],mcc:[5,a,["regular","private"]],memClass:[655,a,["regular","private"]],mnc:[3,a,["regular","private"]],networkIsWifi:[23,o,["regular"]],ocVersion:[6251,a,["regular","private"]],osVersion:[15,s,["regular","private"]],platform:[11,i.PLATFORM_TYPE,["regular","private"]],psCountryCode:[6833,s,["private"]],psId:[6005,s,["private"]],serviceImprovementOptOut:[13293,o,["regular","private"]],webcBucket:[875,s,["regular"]],webcEnv:[633,i.WEBC_ENV_CODE,["regular"]],webcNativeAutolaunch:[1009,o,["regular"]],webcNativeBetaUpdates:[1007,o,["regular"]],webcPhoneAppVersion:[1005,s,["regular"]],webcPhoneCharging:[783,o,["regular"]],webcPhoneDeviceManufacturer:[829,s,["regular"]],webcPhoneDeviceModel:[831,s,["regular"]],webcPhoneOsBuildNumber:[833,s,["regular"]],webcPhoneOsVersion:[835,s,["regular"]],webcPhonePlatform:[707,i.PLATFORM_TYPE,["regular"]],webcTabId:[3727,s,["regular"]],webcWebArch:[6605,s,["regular"]],webcWebDeviceManufacturer:[6599,s,["regular"]],webcWebDeviceModel:[6601,s,["regular"]],webcWebOsReleaseNumber:[6603,s,["regular"]],webcWebPlatform:[899,i.WEBC_WEB_PLATFORM_TYPE,["regular","private"]],yearClass:[689,a,["regular","private"]],yearClass2016:[2617,a,["regular","private"]]});t.Global=l;t.PrivateStatsAllIds=[{key:"DefaultPsId",keyHashInt:113760892,rotationPeriodDays:-1},{key:"IdPreMetrics",keyHashInt:56300709,rotationPeriodDays:-1},{key:"IdTtl90Days",keyHashInt:37887164,rotationPeriodDays:90},{key:"IdTtlDaily",keyHashInt:248614979,rotationPeriodDays:1},{key:"IdTtlMonthly",keyHashInt:191000728,rotationPeriodDays:30},{key:"IdTtlWeekly",keyHashInt:42196056,rotationPeriodDays:7}]},47710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatMessageCountsWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a,STRING:s}=r.TYPES,l=(0,r.defineEvents)({ChatMessageCounts:[1644,{awayMsgsSent:[56,a],bizCatalogType:[60,i.BIZ_CATALOG_TYPE],bizConversationDepth:[65,a],blockReason:[33,i.BLOCK_REASON],broadcastMsgsReceived:[30,a],broadcastMsgsSent:[29,a],callOffersReceived:[27,a],callOffersSent:[26,a],callsResultBusy:[70,a],callsResultCancelled:[71,a],callsResultConnected:[72,a],callsResultError:[78,a],callsResultMissed:[73,a],callsResultRejected:[74,a],canEditDmSettings:[88,o],cartViews:[86,a],chatEphemeralityDuration:[15,a],chatMuted:[8,i.CHAT_MUTED_TYPE],chatOverflowClicks:[79,a],chatTypeInd:[2,i.CHAT_TYPE],collectionInquiriesSent:[44,a],commerceMsgsReceived:[41,a],commerceMsgsSent:[40,a],disappearingChatInitiator:[59,i.DISAPPEARING_CHAT_INITIATOR_TYPE],editedMsgsSent:[100,a],entryPointConversionApp:[47,s],entryPointConversionSource:[46,s],ephemeralMessagesReceived:[14,a],ephemeralMessagesSent:[13,a],ephemeralMessagesUnreadExpired:[69,a],ephemeralityInitiator:[109,i.EPHEMERALITY_INITIATOR_TYPE],ephemeralityTriggerAction:[110,i.EPHEMERALITY_TRIGGER_ACTION_TYPE],fbCtaInquiriesSent:[45,a],firstResponseTime:[25,a],forwardMessagesReceived:[89,a],forwardMessagesSent:[90,a],gaStatus:[22,i.GA_STATUS],greetingMsgsSent:[57,a],groupContainsBiz:[75,o],groupInfoSetting:[87,i.GROUP_INFO_SETTING_TYPE],groupMembershipReplies:[51,a],groupPrivateReplies:[52,a],groupSize:[19,a],isAContact:[6,o],isAGroup:[5,o],isArchived:[10,o],isAutoMuted:[108,o],isBlocked:[32,o],isCartAddClicked:[36,o],isCommerceViewed:[35,o],isCtaOnPdpClicked:[37,o],isInviteCreatedThread:[106,o],isLabelled:[54,o],isMessageYourself:[91,o],isOppositePartyInitiated:[62,o],isPinned:[9,o],isPnhEnabledChat:[92,o],isUserAgent:[111,o],isUserCreatedAgent:[123,o],isWaPayRegistered:[81,o],labelledMsgs:[55,a],locationsSent:[96,a],messagesReceived:[4,a],messagesSent:[3,a],messagesStarred:[12,a],messagesUnread:[11,a],newThread:[68,o],odReceived:[82,a],ordersSent:[38,a],p2mOdNnpTransactionsSent:[83,a],p2mOdNpTransactionsSent:[84,a],paymentsSent:[39,a],pdpInquiriesSent:[42,a],pdpViews:[61,a],pollCreationMessagesReceived:[115,a],pollCreationMessagesSent:[116,a],pollUpdateMessagesReceived:[117,a],pollUpdateMessagesSent:[118,a],profileReplies:[64,a],profileViews:[63,a],pttMessagesReceived:[119,a],pttMessagesSent:[120,a],ptvMessagesReceived:[121,a],ptvMessagesSent:[122,a],quickRepliesSent:[58,a],reactionsReceived:[97,a],reactionsSent:[98,a],receiverDefaultDisappearingDuration:[21,a],repliesSent:[80,a],requestedPhoneNumber:[93,o],seenMaskedPhoneNumber:[94,o],senderDefaultDisappearingDuration:[20,a],sharedPhoneNumber:[99,o],smbMarketingMessagesReactionsSent:[101,a],smbMarketingMessagesRepliesSent:[102,a],smbMarketingMessagesSpamReports:[103,a],smbMarketingMsgsReceived:[104,a],smbMarketingMsgsSent:[105,a],spamReports:[31,a],startTime:[7,a],statusReplies:[50,a],statusViews:[49,a],storefrontInquiriesSent:[43,a],textMessagesToUserCreatedAgentCnt:[124,a],threadDs:[66,s],threadId:[67,s],totalCallDuration:[28,a],totalMessageEditsFromAgentCnt:[112,a],totalMessageFromAgentCnt:[113,a],totalMessageToAgentCnt:[114,a],totalMessagesToUserCreatedAgentCnt:[125,a],typeOfGroup:[85,i.TYPE_OF_GROUP_ENUM],viaContactlessChats:[107,o],videoCallsOffered:[76,a],viewOnceMessagesOpened:[18,a],viewOnceMessagesReceived:[17,a],viewOnceMessagesSent:[16,a],voiceCallsOffered:[77,a]},[1,1,1],"regular"]});t.ChatMessageCountsWamEvent=l},87452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockSkewDifferenceTWamEvent=void 0;var r=n(76042);const{INTEGER:i}=r.TYPES,o=(0,r.defineEvents)({ClockSkewDifferenceT:[3178,{clockSkewHourly:[1,i]},[1,1e3,1e4],"private",37887164]});t.ClockSkewDifferenceTWamEvent=o},44346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrashLogWamEvent=void 0;var r=n(76042),i=n(8414);const{INTEGER:o,STRING:a}=r.TYPES,s=(0,r.defineEvents)({CrashLog:[494,{crashContext:[3,a],crashCount:[5,o],crashReason:[2,a],crashType:[6,i.CRASH_TYPE]},[1,1,100],"regular"]});t.CrashLogWamEvent=s},85551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.E2eMessageRecvWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a}=r.TYPES,s=(0,r.defineEvents)({E2eMessageRecv:[478,{agentEngagementType:[15,i.AGENT_ENGAGEMENT_ENUM_TYPE],e2eCiphertextType:[5,i.E2E_CIPHERTEXT_TYPE],e2eCiphertextVersion:[6,a],e2eDestination:[4,i.E2E_DESTINATION],e2eFailureReason:[2,i.E2E_FAILURE_REASON],e2eSenderType:[8,i.E2E_SENDER_TYPE],e2eSuccessful:[1,o],editType:[13,i.EDIT_TYPE],isLid:[11,o],messageMediaType:[7,i.MEDIA_TYPE],offline:[9,o],retryCount:[3,a],revokeType:[10,i.REVOKE_TYPE],stanzaType:[14,i.STANZA_TYPE],typeOfGroup:[12,i.TYPE_OF_GROUP_ENUM]},[1,1,20],"regular"]});t.E2eMessageRecvWamEvent=s},11363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FmxActionWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a}=r.TYPES,s=(0,r.defineEvents)({FmxAction:[4444,{commonGroupNum:[1,a],countryShown:[2,o],fmxEntryPoint:[3,i.FMX_ENTRY_POINT],fmxEvent:[4,i.FMX_EVENT],notAContactShown:[5,o]},[1,1,1],"regular"]});t.FmxActionWamEvent=s},62413:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GatedMessageReceivedWamEvent=void 0;var r=n(76042),i=n(8414);const o=(0,r.defineEvents)({GatedMessageReceived:[3152,{chatGatedReason:[1,i.CHAT_GATED_REASON]},[1,1,1],"regular"]});t.GatedMessageReceivedWamEvent=o},60731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphqlCatalogRequestWamEvent=void 0;var r=n(76042),i=n(8414);const{INTEGER:o,STRING:a}=r.TYPES,s=(0,r.defineEvents)({GraphqlCatalogRequest:[3206,{businessJid:[4,a],businessType:[5,i.BUSINESS_TYPE],graphqlCatalogEndpoint:[1,i.GRAPHQL_CATALOG_ENDPOINT],graphqlErrorCode:[3,o],graphqlRequestResult:[2,i.GRAPHQL_REQUEST_RESULT]},[1,1,1],"private",0]});t.GraphqlCatalogRequestWamEvent=s},83302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupJoinCWamEvent=void 0;const r=(0,n(76042).defineEvents)({GroupJoinC:[158,{},[1,1,1],"regular"]});t.GroupJoinCWamEvent=r},27856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IncomingMessageDropWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a}=r.TYPES,s=(0,r.defineEvents)({IncomingMessageDrop:[3724,{agentEngagementType:[12,i.AGENT_ENGAGEMENT_ENUM_TYPE],e2eCiphertextType:[1,i.E2E_CIPHERTEXT_TYPE],e2eDestination:[2,i.E2E_DESTINATION],e2eFailureReason:[9,i.E2E_FAILURE_REASON],e2eSenderType:[3,i.E2E_SENDER_TYPE],messageDropReason:[4,i.MESSAGE_DROP_REASON_TYPE],messageMediaType:[5,i.MEDIA_TYPE],offline:[6,o],offlineCount:[11,a],retryCount:[7,a],revokeType:[8,i.REVOKE_TYPE],typeOfGroup:[10,i.TYPE_OF_GROUP_ENUM]},[1,1,1],"regular"]});t.IncomingMessageDropWamEvent=s},33622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a,TIMER:s}=r.TYPES,l=(0,r.defineEvents)({Login:[460,{androidKeystoreState:[10,i.ANDROID_KEYSTORE_STATE_TYPE],connectionOrigin:[6,i.CONNECTION_ORIGIN_TYPE],connectionSequenceStep:[11,i.CONNECTION_SEQUENCE_STEP_TYPE],connectionT:[5,s],dnsResolutionMethod:[12,i.DNS_RESOLUTION_METHOD_TYPE],loginDnsResolver:[13,i.LOGIN_DNS_RESOLVER_TYPE],loginIpSource:[14,i.LOGIN_HOST_TYPE],loginPort:[15,i.LOGIN_PORT_NUMBER],loginResult:[1,i.LOGIN_RESULT_TYPE],loginT:[3,s],longConnect:[4,o],noiseProtocolVersion:[16,a],passive:[8,o],retryCount:[2,a],sequenceStep:[7,a],serverErrorCode:[9,a]},[1,1,1],"regular"]});t.LoginWamEvent=l},77426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdBadDeviceSentMessageWamEvent=void 0;var r=n(76042),i=n(8414);const o=(0,r.defineEvents)({MdBadDeviceSentMessage:[2176,{dsmError:[2,i.DSM_ERROR],peerType:[1,i.DEVICE_TYPE]},[1,1,1],"regular"]});t.MdBadDeviceSentMessageWamEvent=o},53868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdCriticalEventWamEvent=void 0;var r=n(76042),i=n(8414);const o=(0,r.defineEvents)({MdCriticalEvent:[2746,{collection:[2,i.COLLECTION],mdCriticalEventCode:[1,i.MD_SYNCD_CRITICAL_EVENT_CODE]},[1,1,1],"regular"]});t.MdCriticalEventWamEvent=o},38820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHighRetryCountWamEvent=void 0;var r=n(76042),i=n(8414);const{INTEGER:o}=r.TYPES,a=(0,r.defineEvents)({MessageHighRetryCount:[3132,{deviceSizeBucket:[5,i.SIZE_BUCKET],e2eSenderType:[3,i.E2E_SENDER_TYPE],mediaType:[1,i.MEDIA_TYPE],messageType:[4,i.MESSAGE_TYPE],retryCount:[2,o]},[1,20,20],"regular"]});t.MessageHighRetryCountWamEvent=a},14105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageReceiveWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a,TIMER:s}=r.TYPES,l=(0,r.defineEvents)({MessageReceive:[450,{agentEngagementType:[28,i.AGENT_ENGAGEMENT_ENUM_TYPE],deviceCount:[16,a],deviceSizeBucket:[10,i.SIZE_BUCKET],disappearingChatInitiator:[14,i.DISAPPEARING_CHAT_INITIATOR_TYPE],editType:[25,i.EDIT_TYPE],ephemeralityDuration:[13,a],ephemeralityInitiator:[26,i.EPHEMERALITY_INITIATOR_TYPE],ephemeralityTriggerAction:[27,i.EPHEMERALITY_TRIGGER_ACTION_TYPE],isAReply:[19,o],isForwardedForward:[18,o],isLid:[24,o],isViewOnce:[9,o],messageIsInternational:[4,o],messageIsInvisible:[23,o],messageIsOffline:[5,o],messageMediaType:[2,i.MEDIA_TYPE],messageQueueTime:[15,s],messageReceiveT0:[6,s],messageReceiveT1:[7,s],messageType:[1,i.MESSAGE_TYPE],mutedGroupMessage:[8,o],numOfWebUrlsInTextMessage:[3,a],paddingBytesSize:[22,a],participantCount:[17,a],receiverDefaultDisappearingDuration:[12,a],revokeType:[20,i.REVOKE_TYPE],senderDefaultDisappearingDuration:[11,a],typeOfGroup:[21,i.TYPE_OF_GROUP_ENUM]},[1,1,1],"regular"]});t.MessageReceiveWamEvent=l},63020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSecretErrorsWamEvent=void 0;var r=n(76042),i=n(8414);const o=(0,r.defineEvents)({MessageSecretErrors:[3686,{messageMediaType:[3,i.MEDIA_TYPE],messageSecretAllowedList:[1,i.MESSAGE_SECRET_ALLOWED_TYPE],messageSecretError:[2,i.MESSAGE_SECRET_ERROR_TYPE]},[1,1,1],"regular"]});t.MessageSecretErrorsWamEvent=o},30984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineCountTooHighWamEvent=void 0;var r=n(76042),i=n(8414);const{INTEGER:o,STRING:a}=r.TYPES,s=(0,r.defineEvents)({OfflineCountTooHigh:[2638,{callStanzaType:[7,i.CALL_STANZA_TYPE],mediaType:[3,i.MEDIA_TYPE],messageType:[4,i.MESSAGE_TYPE],notificationStanzaType:[6,a],offlineCount:[2,o],receiptStanzaType:[5,a],stanzaType:[1,i.STANZA_TYPE]},[1,1,1],"regular"]});t.OfflineCountTooHighWamEvent=s},72406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineResumeStageWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a,STRING:s}=r.TYPES,l=(0,r.defineEvents)({OfflineResumeStage:[3536,{chatThreadCount:[4,a],currentOfflineStage:[1,i.OFFLINE_RESUME_STAGES],isResumeInForeground:[5,o],lastPushTimestampMs:[12,a],mailboxAge:[6,a],offlineDecryptErrorCount:[7,a],offlineMessageCount:[8,a],offlineNotificationCount:[9,a],offlineReceiptCount:[10,a],offlineResumeMode:[11,i.OFFLINE_RESUME_MODES],offlineSessionId:[2,s],offlineStageTimestampMs:[3,a]},[1,1,1],"regular"]});t.OfflineResumeStageWamEvent=l},75949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineResumeWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a,TIMER:s}=r.TYPES,l=(0,r.defineEvents)({OfflineResume:[3112,{chatThreadCount:[1,a],expectedOfflineCallCount:[23,a],expectedOfflineMessageCount:[17,a],expectedOfflineNotificationCount:[18,a],expectedOfflineReceiptCount:[19,a],isOfflineCompleteMissed:[2,o],isResumeInForeground:[13,o],isRunningFromServiceExtension:[22,o],lastStanzaT:[3,s],mailboxAge:[14,a],mainScreenLoadT:[4,s],offlineCallCount:[24,a],offlineDecryptErrorCount:[5,a],offlineMessageCount:[6,a],offlineNotificationCount:[7,a],offlinePreviewT:[8,s],offlineProcessingT:[20,s],offlineReceiptCount:[9,a],offlineResumeResult:[21,i.OFFLINE_RESUME_RESULT_TYPE],offlineSizeBytes:[10,a],onTrickleMode:[15,o],pageLoadT:[11,s],passiveModeT:[25,s],preackCallCount:[26,a],preackMessageCount:[27,a],preackNotificationCount:[28,a],preackReceiptCount:[29,a],processedCallCount:[30,a],processedMessageCount:[31,a],processedNotificationCount:[32,a],processedReceiptCount:[33,a],socketConnectT:[12,s]},[1,1,1],"regular"]});t.OfflineResumeWamEvent=l},3271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaceholderActivityWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a,STRING:s}=r.TYPES,l=(0,r.defineEvents)({PlaceholderActivity:[1980,{agentEngagementType:[18,i.AGENT_ENGAGEMENT_ENUM_TYPE],deviceCount:[9,a],deviceSizeBucket:[8,i.SIZE_BUCKET],e2eSenderType:[16,i.E2E_SENDER_TYPE],isLid:[12,o],messageBeforeReg:[15,o],messageIsRevoke:[7,o],messageKeyHash:[14,s],messageMediaType:[6,i.MEDIA_TYPE],messageType:[5,i.MESSAGE_TYPE],participantCount:[10,a],placeholderActionInd:[2,i.PLACEHOLDER_ACTION],placeholderAddReason:[11,i.PLACEHOLDER_REASON_TYPE],placeholderChatTypeInd:[3,i.PLACEHOLDER_CHAT_TYPE],placeholderPopulationType:[17,i.PLACEHOLDER_POPULATION_TYPE],placeholderTimePeriod:[4,a],placeholderTypeInd:[1,i.PLACEHOLDER_TYPE],typeOfGroup:[13,i.TYPE_OF_GROUP_ENUM]},[1,1,1],"regular"]});t.PlaceholderActivityWamEvent=l},58473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PsIdUpdateWamEvent=void 0;var r=n(76042),i=n(8414);const{BOOLEAN:o,INTEGER:a}=r.TYPES,s=(0,r.defineEvents)({PsIdUpdate:[2862,{isFromWamsys:[4,o],psIdAction:[2,i.PS_ID_ACTION],psIdKey:[1,a],psIdRotationFrequence:[3,a]},[1,1,1],"regular"]});t.PsIdUpdateWamEvent=s},35033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SenderKeyExpiredWamEvent=void 0;var r=n(76042),i=n(8414);const o=(0,r.defineEvents)({SenderKeyExpired:[3130,{chatType:[1,i.MESSAGE_CHAT_TYPE],deviceSizeBucket:[2,i.SIZE_BUCKET],expiryReason:[3,i.EXPIRY_REASON]},[1,1,1],"regular"]});t.SenderKeyExpiredWamEvent=o},96882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownStanzaWamEvent=void 0;var r=n(76042);const{STRING:i}=r.TYPES,o=(0,r.defineEvents)({UnknownStanza:[3448,{unknownStanzaTag:[1,i],unknownStanzaType:[2,i]},[1,1,1],"regular"]});t.UnknownStanzaWamEvent=o},22991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebWamForceFlushWamEvent=void 0;const r=(0,n(76042).defineEvents)({WebWamForceFlush:[3264,{},[1,1,1],"regular"]});t.WebWamForceFlushWamEvent=r},74939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebcDbOpenWamEvent=void 0;var r=n(76042);const{BOOLEAN:i,INTEGER:o,STRING:a}=r.TYPES,s=(0,r.defineEvents)({WebcDbOpen:[1940,{webcDbName:[1,a],webcDbOpenNumAttempts:[3,o],webcDbOpenWasSuccess:[2,i]},[1,1,1],"regular"]});t.WebcDbOpenWamEvent=s},44160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebcJobInfoWamEvent=void 0;var r=n(76042),i=n(8414);const{INTEGER:o,STRING:a}=r.TYPES,s=(0,r.defineEvents)({WebcJobInfo:[3054,{jobName:[1,a],jobPriority:[2,a],jobResultType:[5,i.WEBC_JOB_RESULT_TYPE_CODE],pendingJobsCount:[4,o],scenario:[3,i.WEBC_SCENARIO_TYPE],webcJobAddedT:[6,o],webcJobCompletedT:[8,o],webcJobStartedT:[7,o]},[1,1,1],"regular"]});t.WebcJobInfoWamEvent=s},74012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebcOfflineNotificationProcessWamEvent=void 0;var r=n(76042),i=n(8414);const{INTEGER:o,STRING:a}=r.TYPES,s=(0,r.defineEvents)({WebcOfflineNotificationProcess:[4222,{currentOfflineProcessStage:[4,i.OFFLINE_PROCESS_STAGES],offlineProcessDecryptErrorCount:[5,o],offlineProcessMailboxAge:[6,o],offlineProcessMessageCount:[7,o],offlineProcessNotificationCount:[8,o],offlineProcessSessionId:[9,a],offlineProcessStageTimestampMs:[10,o],swVersion:[11,a]},[1,1,1],"regular"]});t.WebcOfflineNotificationProcessWamEvent=s},87471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebcQplHealthWamEvent=void 0;var r=n(76042),i=n(8414);const{STRING:o}=r.TYPES,a=(0,r.defineEvents)({WebcQplHealth:[3134,{webcQplHealthEventData:[1,o],webcQplHealthEventType:[2,i.WEBC_QPL_HEALTH_EVENT_TYPE]},[1,1,1],"regular"]});t.WebcQplHealthWamEvent=a},84834:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Metrics=t.Metric=t.GlobalMetric=void 0;var i=r(n(63137)),o=r(n(49619)),a=n(76042);function s(e){return"number"==typeof e&&e===Math.floor(e)}class l{constructor(e,t,n){this.name=e,this.id=t,this.type=n,this.setValidator()}setValidator(){const e=this.type;if("object"==typeof e){const t=(0,i.default)(e);this.validator=e=>e in t}else e===a.TYPES.INTEGER||e===a.TYPES.TIMER?this.validator=s:this.validator=e}}t.Metric=l;class c extends l{constructor(e,t,n,r){super(e,t,n),this.channels=r}}t.GlobalMetric=c;t.Metrics=class{constructor(){this._events={},this._globalMetrics=new Map}_key(e,t){return`${e}::${t}`}getEvent(e,t){const n=this._key(e,t);return(0,o.default)(this._events[n],n)}define(e,t,n,r){const i=this._key(e,t);return i in this._events||(this._events[i]=new l(t,n,r)),this._events[i]}defineGlobal(e,t,n,r){return this._globalMetrics.has(e)||this._globalMetrics.set(e,new c(e,t,n,r)),(0,o.default)(this._globalMetrics.get(e),e)}getGlobal(e){return(0,o.default)(this._globalMetrics.get(e),e)}}},76042:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES=void 0,t.defineEvents=function(e){for(const n in e){var t;const r=e[n],i=r[2];let o=1;o=i[2];const a=null!==(t=r[3])&&void 0!==t?t:"regular",s=5===r.length?r[4]:-1;return A({name:n,id:r[0],props:r[1],weight:o,wamChannel:a,privateStatsIdInt:s})}},t.defineGlobal=function(e){const t={};for(const n in e){const r=e[n],[i,o,a=["regular"]]=r,s=f.defineGlobal(n,i,o,a);t[n]={type:s.validator,set(e){if(this.commitOnSet){const t=(0,d.getWamRuntime)();t?t.set(s,e):(0,c.queueMetric)(s,e)}}}}return new((0,_.defineTypeHash)("Global",t,g))},t.metrics=t.events=void 0;var i=r(n(22205)),o=r(n(8450)),a=n(28123),s=n(84834),l=n(23136),c=n(97496),u=n(72207),d=n(5117),_=n(33763);const p=Object.freeze({BOOLEAN:"boolean",INTEGER:"integer",NUMBER:"number",STRING:"string",TIMER:"timer"});t.TYPES=p;const f=new s.Metrics;t.metrics=f;const E={};function A(e){let{name:t,id:n,weight:r,props:s,wamChannel:c,privateStatsIdInt:d}=e;const A={id:n,weight:r,wamChannel:c,privateStatsIdInt:d},g={},h=[];for(const e in s){const n=s[e],r=f.define(t,e,n[0],n[1]);g[e]=r.validator,n[1]===p.TIMER&&h.push(e)}const S=(0,_.defineTypeHash)(t,g,l.WamEvent);return h.forEach((e=>{A["mark"+(0,o.default)(e)]=function(n){var r,i;const{startMarkers:o,eventTime:s}=this;this[e]=Date.now()-(null!==(r=null===(i=o[e])||void 0===i?void 0:i.ts)&&void 0!==r?r:s);const l=!1!==(null==n?void 0:n.showInTimeline),c=this.startMark;if(a.USER_TIMINGS&&null!=c&&l&&void 0!==self.performance&&self.performance.mark&&self.performance.measure){var d,_;const{$className:n,instanceId:r}=this,i=`${n} ${r}: End`;self.performance.mark(i),self.performance.measure((0,u.formatMeasureLabel)(`${t}.${e}`),null!==(d=null===(_=this.startMarkers[e])||void 0===_?void 0:_.name)&&void 0!==d?d:c,i)}},A[`start${(0,o.default)(e)}`]=function(t){const n=Date.now();this.startMarkers[e]={ts:n};const r=!1!==(null==t?void 0:t.showInTimeline);if(a.USER_TIMINGS&&r&&void 0!==self.performance&&self.performance.mark&&self.performance.measure){const{$className:t,instanceId:r}=this,i=`${t} ${r} ${e}: Start`;self.performance.mark(i),this.startMarkers[e]={name:i,ts:n}}}})),(0,i.default)(S.prototype,A),E[t]=S,S}t.events=E;class g extends _.TypeHash{constructor(){super(...arguments),this.commitOnSet=!0}}},23136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WamEvent=void 0;var r=n(28123),i=n(97496),o=n(5117),a=n(33763);let s=1;class l extends a.TypeHash{constructor(){super(),this.instanceId=s++,this.eventTime=Date.now(),this.commitTime=void 0,this.startMarkers={},r.USER_TIMINGS&&void 0!==self.performance&&self.performance.mark&&(this.startMark=`${this.$className} ${this.instanceId}: Start`,self.performance.mark(this.startMark))}commit(){const e=(0,o.getWamRuntime)();e?e.commit(this,!1):(0,i.queueEvent)(this,!1)}commitAndWaitForFlush(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,o.getWamRuntime)();return null==t?((0,i.queueEvent)(this,e),Promise.resolve()):t.commit(this,e)}setTime(e){this.eventTime=e||Date.now()}}t.WamEvent=l},97496:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processQueuedJobs=function(){const e=(0,r.getWamRuntime)();if(null==e)return;i.splice(0).forEach((t=>{2===t.length?e.commit(...t):e.set(t[1],t[2])}))},t.queueEvent=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.push([e,t])},t.queueMetric=function(e,t){i.push([!1,e,t])};var r=n(5117);const i=[]},5117:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getWamRuntime=function(){return a},t.setWamRuntime=function(e){if(null!=a)throw(0,o.default)("wamRuntime already set");a=e,(0,i.processQueuedJobs)()};var i=n(97496),o=r(n(89482));let a=null},84136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OFFLINE_COUNT_TOO_HIGH_THRESHOLD=void 0,t.maybePostOfflineCountTooHigh=function(e){var t;const{msgInfo:n,msgMeta:s,encs:l}=e,c=parseInt(n.offline,10);if(Number.isNaN(c)||c<11)return;const u=new i.OfflineCountTooHighWamEvent({offlineCount:c,stanzaType:o.STANZA_TYPE.MESSAGE,mediaType:(0,r.getMetricMediaType)({encMediaType:null===(t=l.find((e=>null!=e.encMediaType)))||void 0===t?void 0:t.encMediaType,msgType:s.type,msgPollType:s.pollType})}),d=(0,a.getMessageTypeFromMsgInfoType)(n.type);null!=d&&(u.messageType=d);u.commitAndWaitForFlush().catch((e=>{__LOG__(3,void 0,void 0,void 0,["messaging"])`Failed to post OfflineCountTooHigh metric: ${e}`}))};var r=n(50055),i=n(30984),o=n(8414),a=n(93828);t.OFFLINE_COUNT_TOO_HIGH_THRESHOLD=11},45679:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.postFailureE2eMessageRecvMetric=function(){return p.apply(this,arguments)},t.postSuccessE2eMessageRecvMetric=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(50055),s=n(85551),l=n(98051),c=n(33351);function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e){let{enc:t,from:n,msgMeta:r,msgInfo:i}=e;const u=r.type===c.STANZA_MSG_TYPES.reaction,d=new s.E2eMessageRecvWamEvent({e2eCiphertextType:(0,a.getMetricE2eCiphertextType)(t.e2eType),e2eCiphertextVersion:a.CIPHERTEXT_VERSION,e2eSuccessful:!1,messageMediaType:(0,a.getMetricMediaType)({encMediaType:t.encMediaType,msgType:r.type,msgPollType:r.pollType}),retryCount:t.retryCount,editType:(0,a.getMetricEditType)(i.edit)}),_=(0,a.getMetricE2eDestination)(n);_&&(d.e2eDestination=_);const p=i.chat;if(p.isGroup()){const e=yield(0,o.frontendSendAndReceive)("getGroupMetadata",{groupWid:p});if(null!=e){const t=e.isIncognitoCag;null!=t&&(d.isLid=t&&u);const n=(0,l.groupTypeToWamEnum)((0,l.getGroupTypeFromGroupMetadata)(e));d.typeOfGroup=n}}else d.isLid=p.isLid();return d}))).apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e){const t=yield u(e);t.e2eSuccessful=!0,t.weight=1e3,t.commit()}))).apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e){const t=yield u(e);t.e2eSuccessful=!1,t.weight=1,t.commit()}))).apply(this,arguments)}},27783:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t._postIncomingMessageDropFromDecryptedMessageInfo=m,t.maybePostIncomingMessageDropOldCounter=function(){return C.apply(this,arguments)},t.postIncomingMessageDropDBOperationFailed=function(e){T({messageDropReason:g.MESSAGE_DROP_REASON_TYPE.DB_OPERATION_FAILED,stanza:e})},t.postIncomingMessageDropDBOperationFailedForMsgRows=function(e){for(const t of e){const e=(0,c.messageFromDbRow)(t),n=new p.IncomingMessageDropWamEvent({messageDropReason:g.MESSAGE_DROP_REASON_TYPE.DB_OPERATION_FAILED,messageMediaType:(0,h.getWamMediaType)(e)}),r=(0,E.getTo)(e),i=(0,E.getFrom)(e);null!=r&&null!=i&&(r.isStatusV3()?n.e2eDestination=g.E2E_DESTINATION.STATUS:null!=(0,E.getBroadcastId)(e)?n.e2eDestination=g.E2E_DESTINATION.LIST:i.isGroup()?n.e2eDestination=g.E2E_DESTINATION.GROUP:i.isUser()&&(n.e2eDestination=g.E2E_DESTINATION.INDIVIDUAL)),n.commit()}},t.postIncomingMessageDropInternalError=function(e){T({messageDropReason:g.MESSAGE_DROP_REASON_TYPE.INTERNAL_ERROR,stanza:e})},t.postIncomingMessageDropInvalidProtobuf=function(e){m(e,g.MESSAGE_DROP_REASON_TYPE.INVALID_PROTOBUF)},t.postIncomingMessageDropInvalidStanza=function(e){T({messageDropReason:g.MESSAGE_DROP_REASON_TYPE.INVALID_STANZA,stanza:e})},t.postIncomingMessageDropOldCounter=v,t.postIncomingMessageDropUnknownMessageType=function(e){T({messageDropReason:g.MESSAGE_DROP_REASON_TYPE.UNKNOWN_MESSAGE_TYPE,stanza:e})};var i=r(n(48926)),o=n(8748),a=n(77630),s=n(96193),l=n(50055),c=n(74773),u=n(87946),d=r(n(74700)),_=n(33351),p=n(27856),f=n(15610),E=n(26368),A=n(67621),g=n(8414),h=n(93828);const S=new o.WapParser("incomingMsgParserForMetric",(e=>{const t={};try{t.type=e.attrEnum("type",_.STANZA_MSG_TYPES)}catch(e){}try{t.pollType=t.type===_.STANZA_MSG_TYPES.poll?e.child("meta").attrEnumOrNullIfUnknown("polltype",_.POLL_TYPES):null}catch(e){}try{var n,r;t.from=(0,f.jidWithTypeToWid)(e.attrJidWithType("from")),(null===(n=t.from)||void 0===n?void 0:n.isUser())?t.author=t.from:(null===(r=t.from)||void 0===r?void 0:r.isGroup())&&(t.author=e.hasAttr("participant")?(0,f.deviceJidToDeviceWid)(e.attrDeviceJid("participant")):null)}catch(e){}try{t.offline=""!==e.attrString("offline")}catch(e){}try{t.edit=e.attrInt("edit")}catch(e){}const i=e.maybeChild("enc");if(null!=i){try{t.e2eType=i.attrEnumValues("type",s.CiphertextType.members())}catch(e){}try{t.encMediaType=s.EncMediaType.cast(i.maybeAttrString("mediatype"))}catch(e){}try{t.retryCount=i.attrInt("count")}catch(e){}}return t}));function T(e){var t,n,r,i,o,s,c,u,d,_,f;let{messageDropReason:E,stanza:A}=e,T=null;try{T=S.parse(A).success}catch(e){}const m=new p.IncomingMessageDropWamEvent({messageDropReason:E,offline:null!==(t=null===(n=T)||void 0===n?void 0:n.offline)&&void 0!==t&&t,messageMediaType:(0,l.getMetricMediaType)({encMediaType:null===(r=T)||void 0===r?void 0:r.encMediaType,msgType:null===(i=T)||void 0===i?void 0:i.type,msgPollType:null===(o=T)||void 0===o?void 0:o.pollType})});if(null!=(null===(s=T)||void 0===s?void 0:s.from)){const e=(0,l.getMetricE2eDestination)(T.from);null!=e&&(m.e2eDestination=e)}if(null!=(null===(c=T)||void 0===c?void 0:c.author)){const e=(0,h.getWamE2eSenderType)(T.author);null!=e&&(m.e2eSenderType=e)}null!=(null===(u=T)||void 0===u?void 0:u.e2eType)&&(m.e2eCiphertextType=(0,l.getMetricE2eCiphertextType)(T.e2eType)),null!=(null===(d=T)||void 0===d?void 0:d.retryCount)&&(m.retryCount=T.retryCount),(null===(_=T)||void 0===_?void 0:_.edit)===a.EDIT_ATTR.ADMIN_REVOKE?m.revokeType=g.REVOKE_TYPE.ADMIN:(null===(f=T)||void 0===f?void 0:f.edit)===a.EDIT_ATTR.SENDER_REVOKE&&(m.revokeType=g.REVOKE_TYPE.SENDER),m.commit()}function m(e,t){let{msgInfo:n,msgMeta:r,enc:i,error:o}=e;const s=new p.IncomingMessageDropWamEvent({messageDropReason:t,e2eCiphertextType:(0,l.getMetricE2eCiphertextType)(i.e2eType),messageMediaType:(0,l.getMetricMediaType)({encMediaType:i.encMediaType,msgType:r.type,msgPollType:r.pollType}),retryCount:i.retryCount,offline:null!=n.offline,e2eFailureReason:null==o?void 0:o.e2eFailureReason}),c=(0,A.getFrom)(n),u=(0,l.getMetricE2eDestination)(c);if(u&&(s.e2eDestination=u),c){const e=(0,h.getWamE2eSenderType)(c);null!=e&&(s.e2eSenderType=e)}n.edit===a.EDIT_ATTR.ADMIN_REVOKE?s.revokeType=g.REVOKE_TYPE.ADMIN:n.edit===a.EDIT_ATTR.SENDER_REVOKE&&(s.revokeType=g.REVOKE_TYPE.SENDER),s.commit()}let I=null,y=[];function C(){return(C=(0,i.default)((function*(e){if(!(e.msgMeta.type===_.STANZA_MSG_TYPES.text||e.msgMeta.type===_.STANZA_MSG_TYPES.poll||e.msgMeta.type===_.STANZA_MSG_TYPES.media)||e.enc.hideFail)return void __LOG__(2)`maybePostIncomingMessageDropOldCounter: skip for not a regular message: ${e.msgInfo.externalId}`;if(__LOG__(2)`maybePostIncomingMessageDropOldCounter: schedule check for: ${e.msgInfo.externalId}`,y.push(e),I)return void __LOG__(2)`maybePostIncomingMessageDropOldCounter: ${y.length} message(s) are waiting for offline resume`;I=(0,d.default)().then((()=>{})),yield I,I=null;const t=y;y=[];const n=t.map((e=>{let{msgInfo:t}=e;return(0,A.messageInfoToKey)(t).toString()})),r=yield(0,u.getMsgsExistByMsgKey)(n);for(let e=0;e<t.length;e++){const n=t[e],i=n.msgInfo.externalId;r[e]?__LOG__(2)`maybePostIncomingMessageDropOldCounter: skip, message exists in the db: ${i}`:(__LOG__(2)`maybePostIncomingMessageDropOldCounter: post for: ${i}`,v(n))}}))).apply(this,arguments)}function v(e){m(e,g.MESSAGE_DROP_REASON_TYPE.RECEIVED_WITH_OLD_COUNTER)}},51337:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_RETRY=void 0,t.maybePostMessageHighRetryCountMetric=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(38820),a=n(19909),s=n(98701),l=n(93828);function c(){return(c=(0,i.default)((function*(e,t){if(e<5)return;const n=new o.MessageHighRetryCountWamEvent({retryCount:e,messageType:(0,l.getMessageTypeFromMsgInfoType)(t.type)}),r=(0,l.getWamE2eSenderType)(t.author);null!=r&&(n.e2eSenderType=r);const i=t.chat;if(null==i?void 0:i.isGroup()){const e=yield(0,s.getGroupMetrics)(i);null!=(null==e?void 0:e.deviceSizeBucket)&&(n.deviceSizeBucket=e.deviceSizeBucket),null!=(null==e?void 0:e.participantCount)&&e.participantCount>(0,a.getGroupSizeBypassingSampling)()&&(n.weight=0)}n.commit()}))).apply(this,arguments)}t.MAX_RETRY=5},97575:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.postSenderKeyExpiredMetric=function(e){let{chatId:t,expiryReason:n,deviceCount:r}=e;const l=new o.SenderKeyExpiredWamEvent;null!=n&&(l.expiryReason=n);if(null!=t){const e=(0,s.createWidFromWidLike)(t);l.chatType=(0,i.getMessageChatTypeFromWid)(e)}null!=r&&r>0&&(l.deviceSizeBucket=(0,a.default)(r));l.commit()};var i=n(15264),o=n(35033),a=r(n(26398)),s=n(51017)},11206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postUnknownStanzaMetric=function(e){var t;new r.UnknownStanzaWamEvent({unknownStanzaTag:e.tag,unknownStanzaType:null===(t=e.attrs.type)||void 0===t?void 0:t.toString()}).commit()};var r=n(96882)},15610:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chatJidToChatWid=function(e){return(0,i.toChatWid)((0,i.createWid)(e))},t.deviceJidToDeviceWid=function(e){return(0,i.createDeviceWid)(e)},t.deviceJidToUserWid=function(e){return(0,i.toUserWid)((0,i.createWid)(e))},t.groupJidToWid=function(e){return(0,i.createWid)(e)},t.jidWithTypeToWid=function(e){const t=(0,r.extractJidFromJidWithType)(e);return(0,i.createWid)(t)},t.newsletterJidToWid=function(e){return(0,i.createWid)(e)},t.userJidToUserWid=function(e){return(0,i.createUserWid)(e)};var r=n(96955),i=n(51017)},27112:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(44037),o=n(25303),a=r(n(39387)),s=r(n(98463)),l=n(60050),c=r(n(89482));const u="16505361212@c.us",d=/^1313555\d{4}$|^131655500\d{2}$/,_=["name","short","notify"];class p{constructor(e,t){let{intentionallyUsePrivateConstructor:n}=t;if(!n)throw(0,c.default)("You should use WidFactory.createWid() instead of the Wid constructor. If you absolutely must use the constructor, pass {intentionallyUsePrivateConstructor: true} as a second parameter.");const r=(0,l.validateAndGetParts)(e);if(null==r)throw __LOG__(2)`Invalid wid: ${e}`,(0,c.default)("wid error: invalid wid");const i=[],o=r.userPart,a=r.devicePart,s=r.serverPart.toLowerCase();let u;switch(s){case"s.whatsapp.net":u="c.us";break;default:u=s}if(this.server=u,null==o)throw __LOG__(2)`wid represents server and should not be used: ${e}`,(0,c.default)("wid error: wid represents server and should not be used");if(this.user=o,i.push(this.user),null!=a){if("c.us"!==this.server&&"lid"!==this.server&&"hosted"!==this.server)throw __LOG__(2)`wrong server for wid with device present: ${e}`,(0,c.default)("wid error: wrong server for wid with device present");const t=parseInt(a,10);t&&(i.push(":"),i.push(t),this.device=t)}i.push("@"),i.push(this.server),this._serialized=i.join("")}getUserPartForLog(){if(this.isGroup()){const e=this.user.split("-");if(2===e.length){const[t,n]=e;return`${t.slice(-4)}-${n}`}}return this.user.slice(-4)}toString(e){if(e){let t,n;const r=e.legacy&&"c.us"===this.server?"s.whatsapp.net":this.server;e.formatFull?(n=`:${this.device||0}`,t=".0"):n=null!=this.device&&0!==this.device?`:${this.device}`:"";const i=e.forLog?this.getUserPartForLog():this.user;if(e.formatFull||e.legacy&&"c.us"===this.server||e.forLog)return[i,t,n,"@",r].join("")}return this._serialized}toLogString(){return this.toString({forLog:!0,legacy:!1})}toJid(){return this.toString({legacy:!0})}getJidServer(){return"c.us"===this.server?i.WA_USER_JID_SUFFIX:this.server}getSignalAddress(){const e=null!=this.device&&0!==this.device?`:${this.device}`:"";let t="";return this.isLid()&&(t="@lid"),[this.user,e,t].join("")}getDeviceId(){const e=this.device;return null==e?0:e}equals(e){return e instanceof p&&this.toString()===e.toString()}isLessThan(e){return e instanceof p&&this.toString()<e.toString()}isGreaterThan(e){return e instanceof p&&this.toString()>e.toString()}isCompanion(){return null!=this.device&&this.device!==i.DEFAULT_DEVICE_ID}isSameAccount(e){return this.server===e.server&&this.user===e.user}isUser(){return"c.us"===this.server||"lid"===this.server}isLid(){return"lid"===this.server}isUserNotPSA(){return this.isUser()&&!this.isPSA()}isBroadcast(){return"broadcast"===this.server}isOfficialBizAccount(){return this.toString()===u}isEligibleForUSync(){return this.isUser()&&!this.isPSA()}isGroup(){return"g.us"===this.server}isGroupCall(){return"call"===this.server}isServer(){return"server"===this.user.toLowerCase()&&"c.us"===this.server}isPSA(){return"0"===this.user&&"c.us"===this.server}isIAS(){return"16508638904"===this.user&&"c.us"===this.server}isStatusV3(){return"status"===this.user.toLowerCase()&&"broadcast"===this.server}isSupportAccount(){return(0,s.default)(this.user)}isCAPISupportAccount(){return(0,a.default)(this.user)}isNewsletter(){return"newsletter"===this.server}isBot(){return"c.us"===this.server&&d.test(this.user)&&(null==this.device||0===this.device)}toJSON(){return this.toString()}isHosted(){return!1}static isXWid(e,t){return(0,o.isString)(t)?t.split("@")[1]===e:t instanceof p?t.server===e:(void 0!==t&&__LOG__(2)`wid:isXWid called on nonstring: + ${String(t)}`,!1)}static isUser(e){return p.isXWid("c.us",e)||p.isXWid("lid",e)}static isLid(e){return p.isXWid("lid",e)}static isBroadcast(e){return p.isXWid("broadcast",e)}static isGroup(e){return p.isXWid("g.us",e)}static isNewsletter(e){return p.isXWid("newsletter",e)}static isHosted(){return!1}static isGroupCall(e){return p.isXWid("call",e)}static isWid(e){return(0,o.isString)(e)?(0,l.validateWid)(e):e instanceof p}static canBeWid(e){return!e||!_.includes(e)}static isServer(e){return(0,o.isString)(e)?"server@c.us"===e.toLowerCase():e instanceof p&&e.isServer()}static isPSA(e){return(0,o.isString)(e)?"0@c.us"===e.toLowerCase():e instanceof p&&e.isPSA()}static isIAS(e){return(0,o.isString)(e)?"16508638904@c.us"===e.toLowerCase():e instanceof p&&e.isIAS()}static isStatusV3(e){return(0,o.isString)(e)?e.toLowerCase()===i.STATUS_JID:e instanceof p&&e.isStatusV3()}static isSupportAccount(e){return(0,o.isString)(e)?(0,s.default)(e.split("@")[0]):e instanceof p&&e.isSupportAccount()}static isCAPISupportAccount(e){return(0,o.isString)(e)?(0,a.default)(e.split("@")[0]):e instanceof p&&e.isCAPISupportAccount()}static isOfficialBizAccount(e){return(0,o.isString)(e)?e.toLowerCase()===u:e instanceof p&&e.isOfficialBizAccount()}static isEligibleForUSync(e){return this.isUser(e)&&!this.isPSA(e)}static user(e){return(0,o.isString)(e)?e.split("@")[0]:e instanceof p?e.user:void 0}static equals(e,t){return e instanceof p||t instanceof p?e instanceof p&&e.equals(t):e===t}static isLessThan(e,t){return e instanceof p&&t instanceof p&&e.toString()<t.toString()}static isGreaterThan(e,t){return e instanceof p&&t instanceof p&&e.toString()>t.toString()}}t.default=p},51017:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceWid=p,t.createDeviceWidFromDeviceListPk=function(e,t){const[n,r="c.us"]=e.split("@");return _(n,r,t)},t.createDeviceWidFromUserAndDevice=_,t.createHostedDeviceWid=function(){return null},t.createUserWid=f,t.createWid=d,t.createWidFromWidLike=function(e){if(e instanceof l.default)return e;if("string"==typeof e)return d(e);return d(e._serialized)},t.isWidlike=function(e){if(!e)return!1;if(l.default.isWid(e))return!0;if(e&&"object"==typeof e&&l.default.isWid(e._serialized))return!0;return!1},t.toChatWid=function(e){if(e.isUser())return E(e);return e},t.toGroupWid=function(e){if(e.isUser())throw(0,u.default)("toGroupWid: wid is a user wid");return e},t.toNewsletterWid=function(e){if(e.isNewsletter())return e;throw(0,u.default)("toNewsletterWid: wid is not a newsletter wid")},t.toUserWid=E,t.widFromSignalAddress=function(e){const t=(0,o.isCryptoLibraryEnabled)()?(0,s.getSignalLikeAddressName)(e):self.libsignal.SignalProtocolAddress.fromString(e).getName();return l.default.isLid(t)?d(t):d((0,a.toPhoneUserJid)(t))};r(n(49619));var i=n(25303),o=n(62325),a=n(96955),s=n(49178),l=r(n(27112)),c=r(n(23458)),u=r(n(89482));function d(e){let t;return(null===c.default||void 0===c.default?void 0:c.default.cache)?(t=c.default.cache[e],t||(t=new l.default(e,{intentionallyUsePrivateConstructor:!0}),c.default.cache[e]=t)):t=new l.default(e,{intentionallyUsePrivateConstructor:!0}),t}function _(e,t,n){return p(`${e}:${n}@${t}`)}function p(e){const t=d(e);if(!t.isUser())throw __LOG__(4,void 0,new Error)`createDeviceWid: ${e} is not a valid device jid with user domain`,(0,u.default)("createDeviceWid is called with invalid user string");return t}function f(e,t){let n;if((0,i.isString)(e)&&(e.endsWith("@c.us")||e.endsWith("@s.whatsapp.net")||e.endsWith("@lid")))n=e;else{n=`${e}@${null!=t&&"hosted"!==t?t:"c.us"}`}if(n=d(n),null==n.device||0===n.device)return n;throw __LOG__(4,void 0,new Error)`createUserWid: ${e} is not a valid user jid`,(0,u.default)("createUserWid is called with invalid user string")}function E(e){if(!e.isUser())throw(0,u.default)("asUserWid: wid is not a user wid");return null==e.device||0===e.device?e:f(e.user,e.server)}},23061:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getUnknownNumber=p,t.widToFormattedUser=function(e){if(e instanceof c.default)return e.isLid()?(__LOG__(3)`widToFormattedUser should not receive lid wid`,p()):_(e.user);if((0,s.isString)(e))return e.endsWith(o.LID_DOMAIN)?(__LOG__(3)`widToFormattedUser should not receive lid string`,p()):_(e.split("@")[0]);return""};var i=r(n(88306)),o=n(44037),a=n(38672),s=n(25303),l=r(n(14950)),c=r(n(27112)),u=n(48360);const d=(0,i.default)((e=>"Server"===e?e:(0,a.formatPhone)(e)));function _(e){return l.default.isRTL()?l.default.isolateLTR(d(e)):d(e)}function p(){return u.fbt._("Unknown number",null,{hk:"RMqyA"}).toString()}},29853:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.jsonWidReviver=function(e,t){return a(e,t)},t.widReviver=a;var i=r(n(27112)),o=n(51017);function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.isWid,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.createWid,a=t;switch(e){case"author":case"broadcast":case"chat":case"descOwner":case"from":case"gid":case"id":case"jid":case"owner":case"participant":case"quotedRemoteJid":case"quotedParticipant":case"remote":case"subjectOwner":case"s_o":case"to":case"wid":case"changeNumberNewJid":case"changeNumberOldJid":case"recipient":case"paymentMessageReceiverJid":case"parentGroup":case"phoneNumber":case"revokeSender":case"ephemeralSettingUser":case"newsletterId":n(t)&&(a=r(t));break;default:{const i=parseInt(e,10);!isNaN(i)&&n(t)&&(a=r(t));break}}return a}},23458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n={cache:{},delete(){n.cache={}}};var r=n;t.default=r},14356:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.widToChatJid=function(e){const t=s(e);if("group"===t.jidType)return t.groupJid;if("phoneUser"===t.jidType||"lidUser"===t.jidType)return t.userJid;throw __LOG__(4,void 0,new Error)`widToChatJid: "${e.toString()}" is not a ChatJid`,(0,a.default)("widToChatJid: can not convert wid to ChatJid")},t.widToDeviceJid=l,t.widToGroupJid=function(e){const t=s(e);if("group"===t.jidType)return t.groupJid;throw __LOG__(4,void 0,new Error)`widToGroupJid: "${e.toString()}" is not a GroupJid`,(0,a.default)("widToGroupJid: can not convert wid to GroupJid")},t.widToJidWithType=s,t.widToMulticastJid=function(e){const t=s(e);if("group"===t.jidType)return t.groupJid;if("status"===t.jidType)return t.statusJid;if("broadcast"===t.jidType)return t.broadcastJid;throw __LOG__(4,void 0,new Error)`widToMulticastJid: "${e.toString()}" is not a MulticastJid`,(0,a.default)("widToMulticastJid: can not convert wid to MulticastJid")},t.widToMyJids=function(e){if(null!=e){const t=l(e);return{userJid:(0,i.extractUserJid)(t),deviceJid:t}}},t.widToUserJid=function(e){if(e.isPSA())throw __LOG__(4,void 0,new Error,!0)`widToUserJid: wid is a PSA jid`,SEND_LOGS("invalid-psa-user-jid"),(0,a.default)("widToUserJid: can not convert wid to UserJid");const t=s(e);if("phoneUser"===t.jidType||"lidUser"===t.jidType)return t.userJid;throw __LOG__(4,void 0,new Error)`widToUserJid: "${e.toString()}" is not a UserJid`,(0,a.default)("widToUserJid: can not convert wid to UserJid")};var i=n(44037),o=n(96955),a=r(n(89482));function s(e){const t=e.toJid(),n=(0,o.interpretAndValidateJid)(t);if("unknown"===n.jidType)throw __LOG__(4,void 0,new Error)`widToJidWithType: "${t}" is not a valid jid`,(0,a.default)("widToJidWithType: unknown jid type");return n}function l(e){if(e.isPSA())throw __LOG__(4,void 0,new Error,!0)`widToDeviceJid: wid is a PSA jid`,SEND_LOGS("invalid-psa-user-jid"),(0,a.default)("widToUserJid: can not convert wid to UserJid");const t=s(e);if("phoneDevice"===t.jidType||"lidDevice"===t.jidType)return t.deviceJid;if("phoneUser"===t.jidType)return(0,o.defaultDeviceJidForUser)(t.userJid);if("lidUser"===t.jidType)return(0,o.defaultLidDeviceJidForLidUserJid)(t.userJid);throw __LOG__(4,void 0,new Error)`widToDeviceJid: "${e.toString()}" is not a DeviceJid`,(0,a.default)("widToDeviceJid: can not convert wid to DeviceJid")}},60050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Domains=void 0,t.validateAndGetParts=function(e){if(null==e)return null;const t=e.match(/(.*)@(.*)/);if(null==t)return"call"===e||"s.whatsapp.net"===e?{serverPart:e}:null;const n=t[1],i=r.cast(t[2]);if(null==i)return __LOG__(3)`validateAndGetParts: Domain not supported`,null;const o=n.match(d[t[2]]);if(!o)return null;switch(i){case r.BROADCAST:return{serverPart:r.BROADCAST,userPart:o[1]};case r.CALL:return{serverPart:r.CALL,userPart:o[1]};case r.G_US:return{serverPart:r.G_US,userPart:o[1]};case r.NEWSLETTER:return{serverPart:r.NEWSLETTER,userPart:o[1]};case r.C_US:return{serverPart:r.C_US,userPart:o[1],devicePart:o[3]};case r.S_WHATSAPP_NET:return{serverPart:r.S_WHATSAPP_NET,userPart:o[1],devicePart:o[3]};case r.LID:return{serverPart:r.LID,userPart:o[1],devicePart:o[3]};case r.MSGR:return{serverPart:r.LID,userPart:o[1],devicePart:o[2]}}return null},t.validateWid=function(e){if(null==e)return!1;const t=e.match(/(.*)@(.*)/);if(null==t)return"call"===e||"s.whatsapp.net"===e;const n=t[1],r=t[2];if(null==d[r])return!1;return d[r].test(n)};const r=n(76672)({BROADCAST:"broadcast",CALL:"call",C_US:"c.us",G_US:"g.us",LID:"lid",MSGR:"msgr",S_WHATSAPP_NET:"s.whatsapp.net",NEWSLETTER:"newsletter"});t.Domains=r;const i=/[0-9]{1,2}/,o=/0/,a=/[1-9][0-9]{0,19}/,s=/(?!10)[1-9][0-9]{4,19}/,l=new RegExp(`^(${s.source}[-]${/[1-9][0-9]{9}/.source}$|^${a.source})$`),c=new RegExp(`^(${a.source}$|${["status","location","chat"].map((e=>"^"+e+"$")).join("|")})`,"i"),u=new RegExp(`^(0$|^${s.source})([.]${o.source})?(?:[:](${i.source}))?$`),d={broadcast:c,call:/^([0-9a-f]{18,32})$/i,"c.us":u,"g.us":l,lid:new RegExp(`^(${/[1-9][0-9]{0,14}/.source})([.]${o.source})?(?:[:](${i.source}))?$`),msgr:new RegExp(`^(${a.source})(?:[:](${/[1-9][0-9]{0,2}/.source}))?$`),"s.whatsapp.net":u,newsletter:new RegExp(`^(${a.source})$`)}},56493:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleChatBizBotChange=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(68739),s=n(37653),l=n(51017);function c(){return(c=(0,i.default)((function*(e){const t=e.map((e=>(0,a.genBizBotSystemMessage)((0,l.createWid)(e))));yield Promise.all(t.map((e=>(0,s.storeMessages)([e],e.id.remote)))),t.forEach((e=>{(0,o.frontendSendAndReceive)("processMultipleMessages",{chatId:e.id.remote,msgObjs:[e],meta:{add:"after",isHistory:!1},processMessagesOrigin:"biz_bot_disclosure"})}))}))).apply(this,arguments)}},63006:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{protocolMessage:r}=t;if(null==r)return;const{type:c,botFeedbackMessage:u}=r;if(c!==l.Message$ProtocolMessage$Type.BOT_FEEDBACK_MESSAGE)return;if(null==u)return;const{messageKey:d,kind:_,text:p}=u;if(null==d)return;if(null==_)return;let f;switch(_){case l.Message$BotFeedbackMessage$BotFeedbackKind.BOT_FEEDBACK_POSITIVE:f=o.BotFeedbackKind.POSITIVE;break;case l.Message$BotFeedbackMessage$BotFeedbackKind.BOT_FEEDBACK_NEGATIVE_GENERIC:f=o.BotFeedbackKind.NEGATIVE_GENERIC;break;case l.Message$BotFeedbackMessage$BotFeedbackKind.BOT_FEEDBACK_NEGATIVE_HELPFUL:f=o.BotFeedbackKind.NEGATIVE_HELPFUL;break;case l.Message$BotFeedbackMessage$BotFeedbackKind.BOT_FEEDBACK_NEGATIVE_INTERESTING:f=o.BotFeedbackKind.NEGATIVE_INTERESTING;break;case l.Message$BotFeedbackMessage$BotFeedbackKind.BOT_FEEDBACK_NEGATIVE_ACCURATE:f=o.BotFeedbackKind.NEGATIVE_ACCURATE;break;case l.Message$BotFeedbackMessage$BotFeedbackKind.BOT_FEEDBACK_NEGATIVE_SAFE:f=o.BotFeedbackKind.NEGATIVE_SAFE;break;case l.Message$BotFeedbackMessage$BotFeedbackKind.BOT_FEEDBACK_NEGATIVE_OTHER:f=o.BotFeedbackKind.NEGATIVE_OTHER;break;case l.Message$BotFeedbackMessage$BotFeedbackKind.BOT_FEEDBACK_NEGATIVE_CAUTIOUS:f=o.BotFeedbackKind.NEGATIVE_CAUTIOUS}if(null==f)return;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:s.MSG_TYPE.PROTOCOL,subtype:"bot_feedback",protocolMessageKey:(0,a.getMsgKey)(d,n),botFeedbackKind:f,botFeedbackText:p}),contextInfo:null}};var i=r(n(81109)),o=n(42467),a=n(54468),s=n(73602),l=n(77026)},22962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("bot-profile").version((0,i.botProfileCreateTable)(),[n("id"),t("name"),t("attrs"),t("description"),t("category"),t("isDefault"),t("prompts"),t("personaId")]).view((e=>e))},t.getBotProfileTable=function(){return(0,r.getStorage)().table("bot-profile")};var r=n(74557),i=n(20746),o=n(65717)},54760:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USyncBotProfileProtocol=void 0,t.botProfileParser=function(e){var t;e.assertTag("bot");const n=e.maybeChild("error");if(n)return{errorCode:n.attrInt("code"),errorText:n.attrString("text")};const r=e.child("profile"),i=r.child("name").contentString(),o=r.child("attributes").contentString(),a=r.child("description").contentString(),s=r.child("category").contentString(),l=r.maybeChild("default"),c="true"===(null==l?void 0:l.contentString()),u=function(e){if(null==e)return[];const t=[];return e.forEachChildWithTag("prompt",(e=>{var n,r;const i=e.maybeChild("emoji"),o=null!==(n=null==i?void 0:i.contentString())&&void 0!==n?n:"",a=e.maybeChild("text"),s=null!==(r=null==a?void 0:a.contentString())&&void 0!==r?r:"";t.push({emoji:o,text:s})})),t}(r.maybeChild("prompts")),d=null!==(t=r.maybeAttrString("persona_id"))&&void 0!==t?t:"";return{name:i,attributes:o,description:a,category:s,isDefault:c,prompts:u,personaId:d}};var r=n(80780);t.USyncBotProfileProtocol=class{getName(){return"bot"}getQueryElement(){return(0,r.wap)("bot",null,(0,r.wap)("profile",{v:"1"}))}getUserElement(e){const t=e.getPersonaId();return(0,r.wap)("bot",null,(0,r.wap)("profile",{persona_id:null!=t?(0,r.CUSTOM_STRING)(t):r.DROP_ATTR}))}}},63007:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBotEnabled=a,t.isBotMsgParseEnabledForFutureproofOrFullRecv=function(){return a()||s()},t.isBotPerWordStreamingEnabled=function(){return a()&&!0===(0,r.getABPropConfigValue)("bonsai_word_streaming_enabled")},t.isBotPttEnabled=function(){return a()&&!0===(0,r.getABPropConfigValue)("bonsai_ptt_enabled")},t.isBotResponseFutureproofMsgEnabled=s,t.shouldAnimateAsBotStream=function(e){if(!a())return!1;return Boolean((0,o.getIsBotResponse)(e))};var r=n(83741),i=n(43744),o=n(26368);function a(){return!(0,i.isSMB)()&&!0===(0,r.getABPropConfigValue)("bonsai_enabled")}function s(){return!0===(0,r.getABPropConfigValue)("bot_response_futureproof_message_enabled")}},68739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genBizBotSystemMessage=function(e){return(0,i.genNotificationMsg)(e,{type:o.MSG_TYPE.NOTIFICATION_TEMPLATE,subtype:"biz_bot_disclosure",templateParams:[]})},t.getMaybeSysMsgForBotInvoke=function(e,t){var n;if((0,r.isBotEnabled)()&&null!=e.botMessageSecret&&!0!==t.hasCreatedBotInvokeSystemMsg&&(null===(n=e.invokedBotWid)||void 0===n?void 0:n.isBot())){return(0,i.genNotificationMsg)(t.id,{type:o.MSG_TYPE.NOTIFICATION_TEMPLATE,subtype:"bot_invoke_disclaimer",templateParams:[]})}return null};var r=n(63007),i=n(45218),o=n(73602)},42467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BotMsgEditType=t.BotFeedbackKind=t.BizBotType=void 0;const r=n(76672)({FIRST:"first",INNER:"inner",LAST:"last",FULL:"full"});t.BotMsgEditType=r;const i=n(76672)({BIZ:"BIZ",BIZ_3P:"BIZ_3P"});t.BizBotType=i;const o=n(76672).Mirrored(["POSITIVE","NEGATIVE_GENERIC","NEGATIVE_HELPFUL","NEGATIVE_INTERESTING","NEGATIVE_ACCURATE","NEGATIVE_SAFE","NEGATIVE_OTHER","NEGATIVE_CAUTIOUS"]);t.BotFeedbackKind=o},5938:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{conversation:r,extendedTextMessage:l}=t;if(null==r&&null==l)return;if(null!=r)return{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.CHAT,body:(0,o.convertToTextWithoutSpecialEmojis)(r)}),contextInfo:void 0};if((0,s.isUrlExtendedTextMessage)(l))return;return(0,s.parseExtendedTextMessageProto)({messageProtobuf:t,baseMessage:n})};var i=r(n(81109)),o=n(54468),a=n(73602),s=n(71515)},12615:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,rcat:r}=e;const{extendedTextMessage:c}=t;if(null==c)return;if(!(0,s.isUrlExtendedTextMessage)(c))return;const u=(0,o.default)((function(e){return l.default.hostname(e)})),d=u((null==c?void 0:c.canonicalUrl)||""),_=u((null==c?void 0:c.matchedText)||""),p=(0,s.parseExtendedTextMessageProto)({messageProtobuf:t,baseMessage:n});return{msgData:(0,i.default)((0,i.default)((0,i.default)({},n),null==p?void 0:p.msgData),{},{type:a.MSG_TYPE.CHAT,subtype:"url",canonicalUrl:d===_||""===d?null==c?void 0:c.canonicalUrl:_,rcat:r}),contextInfo:null==c?void 0:c.contextInfo}};var i=r(n(81109)),o=r(n(88306)),a=n(73602),s=n(71515),l=r(n(32890))},71515:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlExtendedTextMessage=function(e){return Boolean(null==e?void 0:e.matchedText)||Boolean(null==e?void 0:e.canonicalUrl)||Boolean(null==e?void 0:e.description)||Boolean(null==e?void 0:e.title)},t.parseExtendedTextMessageProto=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{extendedTextMessage:r}=t;if(null==r)return;const u=c.Message$ExtendedTextMessage$FontType;let d;if(null!=(null==r?void 0:r.font))switch(r.font){case u.SYSTEM:case u.SYSTEM_TEXT:case u.FB_SCRIPT:case u.SYSTEM_BOLD:case u.MORNINGBREEZE_REGULAR:case u.CALISTOGA_REGULAR:case u.EXO2_EXTRABOLD:case u.COURIERPRIME_BOLD:d=r.font}return{msgData:(0,i.default)((0,i.default)({},n),{},{type:l.MSG_TYPE.CHAT,body:(0,s.convertToTextWithoutSpecialEmojis)((null==r?void 0:r.text)||""),matchedText:null==r?void 0:r.matchedText,description:null==r?void 0:r.description,title:null==r?void 0:r.title,thumbnail:(0,a.decodeBytes)(null==r?void 0:r.jpegThumbnail)||"",richPreviewType:null==r?void 0:r.previewType,doNotPlayInline:null==r?void 0:r.doNotPlayInline,textColor:null==r?void 0:r.textArgb,backgroundColor:null==r?void 0:r.backgroundArgb,mediaKey:(0,a.decodeBytes)(null==r?void 0:r.mediaKey),mediaKeyTimestamp:null!=(null==r?void 0:r.mediaKeyTimestamp)?(0,o.numberOrThrowIfTooLarge)(r.mediaKeyTimestamp):n.mediaKeyTimestamp,thumbnailDirectPath:null==r?void 0:r.thumbnailDirectPath,thumbnailSha256:(0,a.decodeBytes)(null==r?void 0:r.thumbnailSha256),thumbnailEncSha256:(0,a.decodeBytes)(null==r?void 0:r.thumbnailEncSha256),thumbnailHeight:null==r?void 0:r.thumbnailHeight,thumbnailWidth:null==r?void 0:r.thumbnailWidth,inviteGrpType:null!=(null==r?void 0:r.inviteLinkGroupTypeV2)?(0,a.parseInviteGrpType)(null==r?void 0:r.inviteLinkGroupTypeV2):n.inviteGrpType,font:null!=d?d:n.font}),contextInfo:null==r?void 0:r.contextInfo}};var i=r(n(81109)),o=n(22101),a=n(57305),s=n(54468),l=n(73602),c=n(77026)},1280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatEntryPoint=void 0;const r=n(76672).Mirrored(["NewsletterIntegrity","NewsletterChatlist","NewsletterDirectory","NewsletterDirectorySearch","NewsLetterRecommendation","NewsletterCreationFlow","ForwardedNewsletterMessage","Link","Deeplink","Unknown"]);t.ChatEntryPoint=r},1363:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.asComposeContentsType=function(e){if(null==e)return e;const{ctwaContext:t}=e,n=(0,i.default)(e,c);if(null!=t){const{conversionData:e,mediaType:r}=t,s=(0,i.default)(t,u);null!=e&&(s.conversionData=(0,o.stringToArrayBuffer)(e)),null!=r&&(s.mediaType=a.ContextInfo$ExternalAdReplyInfo$MediaType.cast(r)),n.ctwaContext=s}return n},t.asSerialisableComposeContentsType=function(e){const{ctwaContext:t}=e,n=(0,i.default)(e,s);if(null!=t){const{conversionData:e,mediaType:r}=t,a=(0,i.default)(t,l);null!=e&&(a.conversionData=(0,o.arrayBufferToString)(e)),null!=r&&(a.mediaType=r),n.ctwaContext=a}return n};var i=r(n(6479)),o=n(54080),a=n(77026);const s=["ctwaContext"],l=["conversionData","mediaType"],c=["ctwaContext"],u=["conversionData","mediaType"]},71538:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{encCommentMessage:r}=t;if(null==r)return;const{encIv:s,encPayload:l,targetMessageKey:c}=r;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.ENC_COMMENT,encIv:s,encPayload:l,targetMessageKey:(0,o.getMsgKey)(c,n)}),contextInfo:null}};var i=r(n(81109)),o=n(54468),a=n(73602)},44629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("ctwa-suggestion").version((0,i.ctwaSuggestionsCreateTable)(),[n("id"),t("type"),t("expiresAt"),a("expiresAt"),t("heading"),t("body"),t("highlight"),t("actionLink"),t("display"),t("ts")]).version((0,i.ctwaSuggestionsAddTrackingData)(),[t("nuxData"),t("coolOffData")]).view((e=>e))},t.getCTWASuggestionTable=function(){return(0,r.getStorage)().table("ctwa-suggestion")};var r=n(74557),i=n(20746),o=n(65717)},59566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("in-app-banner").version((0,i.inAppBannerCreateTable)(),[n("id"),t("type"),t("surfaceId"),t("title"),t("text"),t("actionText"),t("actionLink"),t("iconDescription"),t("iconLight"),t("iconDark"),t("backgroundColor"),t("highlightColor"),t("pacing"),t("ts")]).view((e=>e))},t.getInAppBannerTable=function(){return(0,r.getStorage)().table("in-app-banner")};var r=n(74557),i=n(20746),o=n(65717)},90213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("quick-promotions").version((0,i.quickPromotionsCreateTable)(),[n("id"),t("surfaceId"),a("surfaceId"),t("ts"),t("data"),t("tracking")]).view((e=>e))},t.getQuickPromotionsTable=function(){return(0,r.getStorage)().table("quick-promotions")};var r=n(74557),i=n(20746),o=n(65717)},20020:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{documentMessage:r}=t;if(null==r)return;const _=null!=r.fileLength?(0,o.numberOrThrowIfTooLarge)(r.fileLength):0,p=(0,c.cleanIncomingFilename)(r.fileName||r.title),f=null!=r.caption&&""!==r.caption,E=f?(0,l.convertToTextWithoutSpecialEmojis)(r.caption):p;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:u.MSG_TYPE.DOCUMENT,deprecatedMms3Url:(0,s.decodeUrl)(r.url),directPath:r.directPath,mimetype:r.mimetype,filehash:(0,s.decodeBytes)(r.fileSha256),encFilehash:(0,s.decodeBytes)(r.fileEncSha256),size:_,pageCount:r.pageCount||0,mediaKey:(0,s.decodeBytes)(r.mediaKey),mediaKeyTimestamp:null!=r.mediaKeyTimestamp?(0,o.numberOrThrowIfTooLarge)(r.mediaKeyTimestamp):(0,a.unixTime)(),filename:p,isCaptionByUser:f,caption:E,body:(0,s.decodeBytes)(r.jpegThumbnail)||"",isVcardOverMmsDocument:Boolean(r.contactVcard)&&_<=1024*d.VCARD_MAX_SIZE_KB,thumbnailDirectPath:r.thumbnailDirectPath,thumbnailSha256:(0,s.decodeBytes)(r.thumbnailSha256),thumbnailEncSha256:(0,s.decodeBytes)(r.thumbnailEncSha256),thumbnailHeight:r.thumbnailHeight,thumbnailWidth:r.thumbnailWidth}),contextInfo:r.contextInfo}};var i=r(n(81109)),o=n(22101),a=n(29987),s=n(57305),l=n(54468),c=n(46280),u=n(73602),d=n(73087)},86946:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{keepInChatMessage:r}=t;if(null==r)return;const{key:l,keepType:c,timestampMs:u}=r;return{msgData:(0,i.default)((0,i.default)({},n),{},{keptMessageKey:(0,a.getMsgKey)(l,n),type:s.MSG_TYPE.KEEP_IN_CHAT,keepType:c,senderTimestampMs:(0,o.maybeNumberOrThrowIfTooLarge)(u)}),contextInfo:null}};var i=r(n(81109)),o=n(22101),a=n(54468),s=n(73602)},94907:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,msgContext:r}=e;const{protocolMessage:u}=t;if(null==u||"relay"!==r||u.type!==c.Message$ProtocolMessage$Type.EPHEMERAL_SYNC_RESPONSE)return;const{ephemeralExpiration:d,ephemeralSettingTimestamp:_,disappearingMode:p}=u;if(null==d||null==_||null==p)return void __LOG__(3)`EPHEMERAL_SYNC_RESPONSE msg does not contain all fields`;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:l.MSG_TYPE.PROTOCOL,subtype:"ephemeral_sync_response",ephemeralDuration:d,ephemeralSettingTimestamp:(0,o.numberOrThrowIfTooLarge)(_),disappearingModeInitiator:(0,a.default)((0,s.protoToDisappearingModeInitiator)(n,p),"protoToDisappearingModeInitiator(baseMessage, disappearingMode)")}),contextInfo:null}};var i=r(n(81109)),o=n(22101),a=r(n(49619)),s=n(54468),l=n(73602),c=n(77026)},10473:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.compareEphemeralityFields=function(e,t){return(null==e?void 0:e.duration)===(null==t?void 0:t.duration)&&(null==e?void 0:e.settingTimestamp)===(null==t?void 0:t.settingTimestamp)&&(null==e?void 0:e.initiator)===(null==t?void 0:t.initiator)},t.getDisappearingModeSettingForUser=s,t.getEphemeralDurationForUser=l,t.resolveDisappearingModeInitiator=u,t.resolveEphermalityDuration=c,t.resolveExistingChatDMSettings=function(e,t){const n=_(e);if(null==n&&null==t)return null;if(null!=n&&null==t)return{duration:n.duration,settingTimestamp:n.settingTimestamp,initiator:n.initiator===a.DisappearingModeInitiator.InitiatedByMe?a.DisappearingModeInitiator.ChangedInChat:n.initiator};if(null==n&&null!=t)return{duration:t.duration,settingTimestamp:d(t.settingTimestamp),initiator:u(t.initiator)};var r,o;if(null!=n&&null!=t)return n.settingTimestamp>(null!==(r=t.settingTimestamp)&&void 0!==r?r:0)?(0,i.default)({},n):n.settingTimestamp<(null!==(o=t.settingTimestamp)&&void 0!==o?o:0)?{duration:t.duration,settingTimestamp:d(t.settingTimestamp),initiator:u(t.initiator)}:(0,i.default)((0,i.default)({},n),{},{initiator:t.initiator===a.DisappearingModeInitiator.ChangedInChat?a.DisappearingModeInitiator.ChangedInChat:n.initiator})},t.resolveMessageEphemerality=_,t.resolveNewChatDMSettings=function(e,t){var n;const r=l(e),i=l(t);if(null==r&&null==i)return __LOG__(2,void 0,void 0,void 0,["DM","DDM"])`[DMResolve] DM setting for chat is null`,null;let s,c;null!=r&&(s={duration:r,settingTimestamp:(0,o.unixTime)(),initiator:a.DisappearingModeInitiator.InitiatedByMe});null!=i&&(c={duration:i,settingTimestamp:(0,o.unixTime)(),initiator:a.DisappearingModeInitiator.InitiatedByOther});if(null!=s&&null!=c)return c.duration<s.duration?c:s;return null!==(n=s)&&void 0!==n?n:c},t.resolveNewIncomingChatDMSettings=function(e,t){__LOG__(2)`[DMResolve] resolving new incoming chat DM settings`;const n=_(e),r=c(t);if(null==n&&0===r)return null;if(null!=n&&0===r)return{duration:n.duration,settingTimestamp:n.settingTimestamp,initiator:n.initiator===a.DisappearingModeInitiator.InitiatedByMe?a.DisappearingModeInitiator.ChangedInChat:n.initiator};if(null==n&&r>0)return{duration:r,settingTimestamp:(0,o.unixTime)(),initiator:a.DisappearingModeInitiator.InitiatedByMe};if(null!=n&&r>0){if(n.initiator===a.DisappearingModeInitiator.ChangedInChat||n.duration>0&&n.duration<r){let e=n.initiator;return e===a.DisappearingModeInitiator.InitiatedByMe&&(e=a.DisappearingModeInitiator.ChangedInChat),{initiator:e,settingTimestamp:n.settingTimestamp,duration:n.duration}}return r<n.duration?{duration:r,settingTimestamp:(0,o.unixTime)(),initiator:a.DisappearingModeInitiator.InitiatedByMe}:(0,i.default)({},n)}},t.resolveSettingTimestamp=d;var i=r(n(81109)),o=n(29987),a=n(28626);function s(e){if(!e)return __LOG__(2)`getDisappearingModeSettingForUser: empty contact`,null;const t=e.disappearingModeDuration,n=e.disappearingModeSettingTimestamp;return __LOG__(2,void 0,void 0,void 0,["DM","DDM"])`getDisappearingModeSettingForUser: disappearing mode setting fetched for ${e.id.toString()}: duration=${t} settingTimestamp=${n}`,null==t||0===t?null:{duration:t,settingTimestamp:null!=n?n:0}}function l(e){const t=s(e);return null!=t?t.duration:null}function c(e){return null!=e?e:0}function u(e){return null!=e?e:a.DisappearingModeInitiator.ChangedInChat}function d(e){return null!=e?e:(0,o.unixTime)()}function _(e){return null==e||null==e.duration&&null==e.settingTimestamp&&null==e.initiator?null:{duration:c(e.duration),settingTimestamp:d(e.settingTimestamp),initiator:u(e.initiator)}}},28626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisappearingModeTrigger=t.DisappearingModeInitiator=void 0;const r=n(76672)({ChangedInChat:"chat",InitiatedByMe:"me",InitiatedByOther:"other"});t.DisappearingModeInitiator=r;const i=n(76672)({Unknown:"unknown",ChatSettings:"chat_settings",AccountSettings:"account_settings",BulkChange:"bulk_change"});t.DisappearingModeTrigger=i},20217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralMessageTypes=void 0,t.getMsgEphemeralitySettings=function(e){var t;if(null==e.ephemeralDuration&&null==e.ephemeralSettingTimestamp&&null==e.disappearingModeInitiator)return null;const n=null!==(t=e.ephemeralDuration)&&void 0!==t?t:0;let i=e.ephemeralSettingTimestamp,o=e.disappearingModeInitiator;"ephemeral_setting"===e.subtype&&(i=e.t,o=r.DisappearingModeInitiator.ChangedInChat);return{duration:n,settingTimestamp:i,initiator:o}},t.messageSupportsEphemerality=function(e){if(o.includes(e))return!0;return!1};var r=n(28626),i=n(73602);const o=[i.MSG_TYPE.CHAT,i.MSG_TYPE.IMAGE,i.MSG_TYPE.VIDEO,i.MSG_TYPE.AUDIO,i.MSG_TYPE.PTT,i.MSG_TYPE.DOCUMENT,i.MSG_TYPE.PRODUCT,i.MSG_TYPE.STICKER,i.MSG_TYPE.POLL_CREATION];t.ephemeralMessageTypes=o},42311:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getContactTrustSignal=function(e){if(p(e))return c.fbt._("Not a contact",null,{hk:"MjZnj"})},t.getCountryCodeTrustSignal=function(){return _.apply(this,arguments)},t.shouldShowContactTrustSignal=p,t.shouldShowCountryCodeTrustSignal=u,t.supportsFMX=function(){return(0,o.getABPropConfigValue)("first_message_experience")};var i=r(n(48926)),o=n(83741),a=n(59685),s=n(78474),l=n(3885),c=n(48360);function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e){if(!e.id.isLid()){const t=(0,l.assertGetMeUser)();if((yield(0,s.getCountryNameByPhone)(t.user))!==(yield(0,s.getCountryNameByPhone)(e.id.user)))return!0}return!1}))).apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e){if(yield u(e)){const t=yield(0,s.getCountryNameByPhone)(e.id.user);if(null!=t)return c.fbt._("Phone number from {country}",[c.fbt._param("country",t)],{hk:"28b8IP"})}}))).apply(this,arguments)}function p(e){return!(0,a.getIsMyContact)(e)}},58805:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{groupInviteMessage:r}=t;if(null==r)return;const{caption:a,inviteCode:s,inviteExpiration:l,groupJid:c,groupName:u,contextInfo:d}=r;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:o.MSG_TYPE.GROUPS_V4_INVITE,comment:a,inviteCode:s,inviteCodeExp:null==l?void 0:l.toString(),inviteGrp:c,inviteGrpName:u}),contextInfo:d}};var i=r(n(81109)),o=n(73602)},60668:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{buttonsResponseMessage:r}=t;if(null==r)return;if(r.type===s.Message$ButtonsResponseMessage$Type.DISPLAY_TEXT){return{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.BUTTONS_RESPONSE,selectedButtonId:r.selectedButtonId,body:(0,o.convertToTextWithoutSpecialEmojis)(r.selectedDisplayText)}),contextInfo:r.contextInfo}}return{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.UNKNOWN}),contextInfo:r.contextInfo}};var i=r(n(81109)),o=n(54468),a=n(73602),s=n(77026)},96735:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{messageProtobuf:n,baseMessage:r}=e;const{highlyStructuredMessage:s}=n;if(null==s)return;const l=null===(t=s.hydratedHsm)||void 0===t?void 0:t.hydratedTemplate;return{msgData:(0,i.default)((0,i.default)({},r),{},{type:a.MSG_TYPE.HSM,body:l?(0,o.convertToTextWithoutSpecialEmojis)(l.hydratedContentText):r.body}),contextInfo:void 0}};var i=r(n(81109)),o=n(54468),a=n(73602)},84263:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let{messageProtobuf:r,baseMessage:E,bizInfo:A}=e;const{interactiveMessage:g}=r;if(null==g)return;const h=(0,a.getInteractiveMessageTypeForProto)(g);if(!h||!(0,a.isInteractiveMessageTypeEnabled)(h))return{msgData:(0,i.default)((0,i.default)({},E),{},{type:u.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:g.contextInfo};const{body:S,footer:T}=g,m=(0,a.getInteractiveMessageFieldNameForType)(h);let I={type:u.MSG_TYPE.INTERACTIVE,caption:null!==(t=(0,a.convertToTextWithoutSpecialEmojis)(null==S?void 0:S.text))&&void 0!==t?t:"",interactiveType:h,interactivePayload:g[m],pmCampaignId:null==A?void 0:A.campaignId};if(!(0,a.isSupportedInteractiveMessageVersion)(h,g[m]))return{msgData:(0,i.default)((0,i.default)({},E),{},{type:u.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:g.contextInfo};if(h===c.default.NATIVE_FLOW){const e=l.default.cast((0,a.getBizNativeFlowName)({interactiveMessage:g}));if(I=(0,i.default)((0,i.default)({},I),{},{nativeFlowName:e}),!(0,a.isValidNativeFlowName)(e,A)||!(0,d.isValidNativeFlowMessage)(I))return{msgData:(0,i.default)((0,i.default)({},E),{},{type:u.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:g.contextInfo}}const y=null!=g.header?function(e,t){const n=!0===e.hasMediaAttachment?e.imageMessage?{headerMessage:null===(r=(0,p.default)({messageProtobuf:{imageMessage:e.imageMessage},baseMessage:t}))||void 0===r?void 0:r.msgData,mediaType:s.InteractiveMessageHeaderMediaType.IMAGE}:e.documentMessage?{headerMessage:null===(i=(0,_.default)({messageProtobuf:{documentMessage:e.documentMessage},baseMessage:t}))||void 0===i?void 0:i.msgData,mediaType:s.InteractiveMessageHeaderMediaType.DOCUMENT}:e.videoMessage?{headerMessage:null===(l=(0,f.default)({messageProtobuf:{videoMessage:e.videoMessage},baseMessage:t}))||void 0===l?void 0:l.msgData,mediaType:s.InteractiveMessageHeaderMediaType.VIDEO}:void 0:void 0;var r,i,l;return{headerMessage:null==n?void 0:n.headerMessage,interactiveHeader:{title:(0,a.convertToTextWithoutSpecialEmojis)(e.title),subtitle:(0,a.convertToTextWithoutSpecialEmojis)(e.subtitle),thumbnail:(0,o.decodeBytes)(e.jpegThumbnail),hasMediaAttachment:Boolean(e.hasMediaAttachment),mediaType:null==n?void 0:n.mediaType}}}(g.header,E):void 0;return{msgData:(0,i.default)((0,i.default)((0,i.default)((0,i.default)({},E),null!==(n=null==y?void 0:y.headerMessage)&&void 0!==n?n:{}),I),{},{interactiveHeader:null==y?void 0:y.interactiveHeader,footer:T?(0,a.convertToTextWithoutSpecialEmojis)(T.text):E.footer}),contextInfo:g.contextInfo}};var i=r(n(81109)),o=n(57305),a=n(54468),s=n(28040),l=r(n(30266)),c=r(n(80081)),u=n(73602),d=n(79596),_=r(n(20020)),p=r(n(96259)),f=r(n(13501))},4904:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,bizInfo:r}=e;const{interactiveResponseMessage:l}=t;if(null==l)return;const c=(0,a.getInteractiveResponseMessageTypeForProto)(l);if(!(0,o.interactiveNativeFlowResponseMessagesEnabled)()||!c||!(0,a.isInteractiveResponseMessageTypeEnabled)(c))return{msgData:(0,i.default)((0,i.default)({},n),{},{type:s.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:l.contextInfo};try{var u,d;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:s.MSG_TYPE.INTERACTIVE_RESPONSE,body:null!==(u=(0,a.convertToTextWithoutSpecialEmojis)(null===(d=l.body)||void 0===d?void 0:d.text))&&void 0!==u?u:"",interactivePayload:(0,a.getInteractiveResponsePayload)(c,l,r)}),contextInfo:l.contextInfo}}catch(e){return{msgData:(0,i.default)((0,i.default)({},n),{},{type:s.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:l.contextInfo}}};var i=r(n(81109)),o=n(56660),a=n(54468),s=n(73602)},65299:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{listMessage:r}=t;if(null==r)return;let s;const{listType:l}=r;if(l===a.Message$ListMessage$ListType.SINGLE_SELECT||l===a.Message$ListMessage$ListType.PRODUCT_LIST){let e=n.businessOwnerJid,t=n.productListItemCount;var c,u;if(r.listType===a.Message$ListMessage$ListType.PRODUCT_LIST)e=null===(c=r.productListInfo)||void 0===c?void 0:c.businessOwnerJid,t=null===(u=r.productListInfo)||void 0===u?void 0:u.productSections.reduce(((e,t)=>e+t.products.length),0);s=(0,i.default)((0,i.default)({},n),{},{businessOwnerJid:e,productListItemCount:t,type:o.MSG_TYPE.LIST,list:r,footer:r.footerText})}else s=(0,i.default)((0,i.default)({},n),{},{type:o.MSG_TYPE.UNKNOWN});return{msgData:s,contextInfo:r.contextInfo}};var i=r(n(81109)),o=n(73602),a=n(77026)},66534:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{listResponseMessage:r}=t;if(null==r)return;if(r.listType===s.Message$ListResponseMessage$ListType.SINGLE_SELECT){const e=(0,i.default)((0,i.default)({},r),{},{contextInfo:void 0});let t=r.title||"";null!=r.description&&""!==r.description&&(t+="\n"+r.description);return{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.LIST_RESPONSE,listResponse:e,body:(0,o.convertToTextWithoutSpecialEmojis)(t)}),contextInfo:r.contextInfo}}};var i=r(n(81109)),o=n(54468),a=n(73602),s=n(77026)},86019:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,bizInfo:r}=e;const{buttonsMessage:d}=t;if(null==d)return;const{buttons:_=[],headerType:p}=d,f=s.default.cast((0,a.getBizNativeFlowName)({buttonsMessage:d}));if(null==f&&null==(null==r?void 0:r.nativeFlowName))return;if(!(0,a.shouldParseNFM)(f,r)||(0,a.hasUnsupportedButtons)(_))return{msgData:(0,i.default)((0,i.default)({},n),{},{type:l.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:d.contextInfo};if(p===u.Message$ButtonsMessage$HeaderType.UNKNOWN||!new Set(u.Message$ButtonsMessage$HeaderType.members()).has(p))return{msgData:(0,i.default)((0,i.default)({},n),{},{type:l.MSG_TYPE.UNKNOWN,subtype:void 0}),contextInfo:d.contextInfo};const E=(0,o.parseButtonsMessageProto)({buttonsMessage:d,baseMessage:n});if(null==f)return;const A=(0,i.default)((0,i.default)({},E),{},{type:l.MSG_TYPE.NATIVE_FLOW,nativeFlowName:s.default.cast(f),nativeFlowButtons:_});if(!A.nativeFlowName||!(0,c.isValidNativeFlowMessage)(A))return{msgData:(0,i.default)((0,i.default)({},n),{},{type:l.MSG_TYPE.UNKNOWN,subtype:"phone_only_feature"}),contextInfo:d.contextInfo};return{msgData:A,contextInfo:d.contextInfo}};var i=r(n(81109)),o=n(5768),a=n(54468),s=r(n(30266)),l=n(73602),c=n(79596),u=n(77026)},24585:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{templateButtonReplyMessage:r}=t;if(null==r)return;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.TEMPLATE_BUTTON_REPLY,body:(0,o.convertToTextWithoutSpecialEmojis)(r.selectedDisplayText),selectedIndex:r.selectedIndex,selectedId:r.selectedId}),contextInfo:r.contextInfo}};var i=r(n(81109)),o=n(54468),a=n(73602)},37302:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,finalLocation:r}=e;const{locationMessage:c,liveLocationMessage:u}=t;let d=null;null!=c&&(d=function(e,t){var n,r;let o=(null!==(n=e.name)&&void 0!==n?n:"")||(null!==(r=e.address)&&void 0!==r?r:"");null!=e.name&&""!==e.name&&null!=e.address&&""!==e.address&&(o=`${e.name}\n${e.address}`);const s=void 0!==e.degreesLatitude?e.degreesLatitude:void 0,c=void 0!==e.degreesLongitude?e.degreesLongitude:void 0;return{msgData:(0,i.default)((0,i.default)({},t),{},{type:l.MSG_TYPE.LOCATION,loc:o,lat:s,lng:c,body:(0,a.decodeBytes)(e.jpegThumbnail)||"",clientUrl:e.url}),contextInfo:e.contextInfo}}(c,n));null!=u&&(d=function(e,t,n){let r={};n&&(r={finalLat:n.degreesLatitude,finalLng:n.degreesLongitude,finalThumbnail:(0,a.decodeBytes)(n.jpegThumbnail)||"",finalAccuracy:n.accuracyInMeters,finalSpeed:n.speedInMps,finalDegrees:n.degreesClockwiseFromMagneticNorth,finalTimeOffset:n.timeOffset});return{msgData:(0,i.default)((0,i.default)((0,i.default)({},t),r),{},{type:l.MSG_TYPE.LOCATION,isLive:!0,lat:e.degreesLatitude,lng:e.degreesLongitude,body:(0,a.decodeBytes)(e.jpegThumbnail)||"",accuracy:e.accuracyInMeters,speed:e.speedInMps,degrees:e.degreesClockwiseFromMagneticNorth,comment:(0,s.convertToTextWithoutSpecialEmojis)(e.caption),sequence:(0,o.maybeNumberOrThrowIfTooLarge)(e.sequenceNumber)}),contextInfo:e.contextInfo}}(u,n,r));return d};var i=r(n(81109)),o=n(22101),a=n(57305),s=n(54468),l=n(73602)},84184:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,msgContext:r}=e;const{protocolMessage:_}=t;if(null==_||(null==_?void 0:_.type)!==d.Message$ProtocolMessage$Type.MESSAGE_EDIT)return;if("relay"===r)return;try{if(!(0,c.receiveTextEditEnabled)())return{msgData:(0,i.default)((0,i.default)({},n),{},{type:u.MSG_TYPE.UNKNOWN,subtype:"message_edit",futureproofType:u.MSG_TYPE.PROTOCOL,futureproofSubtype:"message_edit"}),contextInfo:null};const e=(0,i.default)((0,i.default)({},n),{},{latestEditSenderTimestampMs:(0,o.maybeNumberOrThrowIfTooLarge)(_.timestampMs),latestEditMsgKey:n.id});return Object.assign(e,(0,s.parseMsgProto)((0,a.default)(_.editedMessage,"protocolMessage.editedMessage"),e)),e.id=(0,l.protobufToMsgKey)((0,a.default)(_.key,"protocolMessage.key")),{msgData:e,contextInfo:null}}catch(e){throw __LOG__(3,void 0,void 0,!0,["messaging"])`parseHistorySyncEditedMessageProto: error:${null==e?void 0:e.name}, stack: ${null==e?void 0:e.stack}`,SEND_LOGS("parseHistorySyncEditedMessageProto: EditParseError",1,"messaging"),e}};var i=r(n(81109)),o=n(22101),a=r(n(49619)),s=n(18431),l=n(54468),c=n(68214),u=n(73602),d=n(77026)},98587:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,msgContext:r}=e;const{protocolMessage:_}=t;if(null==_||(null==_?void 0:_.type)!==d.Message$ProtocolMessage$Type.MESSAGE_EDIT)return;if("relay"!==r)return;try{var p;const e=null!==(p=function(e,t){var n,r;if(!Boolean(null===(n=t.editedMessage)||void 0===n?void 0:n.conversation)&&!Boolean(null===(r=t.editedMessage)||void 0===r?void 0:r.extendedTextMessage))return null;if(!(0,c.receiveTextEditEnabled)())return{msgData:(0,i.default)((0,i.default)({},e),{},{type:u.MSG_TYPE.UNKNOWN,subtype:"message_edit",editMsgType:u.MSG_TYPE.CHAT,futureproofType:u.MSG_TYPE.PROTOCOL,futureproofSubtype:"message_edit"}),contextInfo:null};const d=(0,l.getMsgKey)(t.key,e);return{msgData:(0,i.default)((0,i.default)({},(0,s.parseMsgProto)((0,a.default)(t.editedMessage,"protocolMessage.editedMessage"),e)),{},{type:u.MSG_TYPE.PROTOCOL,subtype:"message_edit",editMsgType:u.MSG_TYPE.CHAT,latestEditSenderTimestampMs:(0,o.maybeNumberOrThrowIfTooLarge)(t.timestampMs),latestEditMsgKey:e.id,protocolMessageKey:d}),contextInfo:null}}(n,_))&&void 0!==p?p:function(e,t){var n,r,a,s;let d,_,p;if(null===(n=t.editedMessage)||void 0===n?void 0:n.imageMessage)d=u.MSG_TYPE.IMAGE,_=t.editedMessage.imageMessage.caption,p=t.editedMessage.imageMessage.contextInfo;else if(null===(r=t.editedMessage)||void 0===r?void 0:r.videoMessage)d=u.MSG_TYPE.VIDEO,_=t.editedMessage.videoMessage.caption,p=t.editedMessage.videoMessage.contextInfo;else if(null===(a=t.editedMessage)||void 0===a?void 0:a.documentMessage)d=u.MSG_TYPE.DOCUMENT,_=t.editedMessage.documentMessage.caption,p=t.editedMessage.documentMessage.contextInfo;else if(null===(s=t.editedMessage)||void 0===s?void 0:s.documentWithCaptionMessage){var f,E,A,g,h,S;d=u.MSG_TYPE.DOCUMENT,_=null===(f=t.editedMessage.documentWithCaptionMessage)||void 0===f||null===(E=f.message)||void 0===E||null===(A=E.documentMessage)||void 0===A?void 0:A.caption,p=null===(g=t.editedMessage.documentWithCaptionMessage)||void 0===g||null===(h=g.message)||void 0===h||null===(S=h.documentMessage)||void 0===S?void 0:S.contextInfo}if(!d||""===_||null==_)return null;if(!(0,c.receiveCaptionEditEnabled)())return{msgData:(0,i.default)((0,i.default)({},e),{},{type:u.MSG_TYPE.UNKNOWN,subtype:"message_edit",editMsgType:d,futureproofType:u.MSG_TYPE.PROTOCOL,futureproofSubtype:"message_edit"}),contextInfo:null};return{msgData:(0,i.default)((0,i.default)({},e),{},{type:u.MSG_TYPE.PROTOCOL,subtype:"message_edit",editMsgType:d,caption:_,latestEditSenderTimestampMs:(0,o.maybeNumberOrThrowIfTooLarge)(t.timestampMs),latestEditMsgKey:e.id,protocolMessageKey:(0,l.getMsgKey)(t.key,e)}),contextInfo:p}}(n,_);return e||null}catch(e){throw __LOG__(3,void 0,void 0,!0,["messaging"])`parseProtocolMessageEditProto: error:${null==e?void 0:e.name}, stack: ${null==e?void 0:e.stack}`,SEND_LOGS("parseProtocolMessageEditProto: EditParseError",1,"messaging"),e}};var i=r(n(81109)),o=n(22101),a=r(n(49619)),s=n(18431),l=n(54468),c=n(68214),u=n(73602),d=n(77026)},21826:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.storeEncryptedNewsletterMessages=function(e){return(0,l.getStorage)().lock(["message","chat"],function(){var t=(0,i.default)((function*(t){let[n]=t;const r=yield(0,s.getLastRowId)(n),l=(yield(0,o.promiseMap)(e,function(){var e=(0,i.default)((function*(e,t){var n;let[i,o]=e;const s=null!==(n=i.serverId)&&void 0!==n?n:yield(0,u.getTemporaryServerId)(i.to);if(null==s)return __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter][storage] serverId is missing from message`,SEND_LOGS("newsletter-missing-serverId",1,"newsletter"),null;const l=c.default.fromString(i.id),d=yield(0,a.isPendingUnreadReceipt)(l,i),_=(0,a.addMsgMetadataToMsgRow)({msg:i,chatId:l.remote.toString(),hasLink:o,inChatMsgId:s,rowId:r+t+1,pendingReadReceipt:d});return delete _.serverId,_}));return function(){return e.apply(this,arguments)}}())).filter(Boolean);try{yield n.bulkCreateWith_ALREADY_ENCRYPTED_RECORDS_ONLY(l)}catch(e){__LOG__(4,void 0,new Error,void 0,["newsletter"])`[newsletter-store] Failed to store messages`}}));return function(){return t.apply(this,arguments)}}())};var i=r(n(48926)),o=n(21212),a=n(39066),s=n(34066),l=n(74557),c=r(n(60001)),u=n(48678)},61647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDBMembership=void 0;const r=n(76672)({Subscriber:0,Admin:1,Guest:2,Owner:3});t.NewsletterDBMembership=r},48678:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TEMPORARY_SERVER_ID_LOWER_BOUND=void 0,t.bulkGetMessagesByServerIds=function(){return m.apply(this,arguments)},t.craftNewsletterMsgKeyFromServerId=function(e,t){const n=t instanceof p.default?t:(0,f.createWid)(t);return new c.default({remote:n,fromMe:!0,id:e.toString(10)})},t.doesNewsletterExistInStorage=function(){return E.apply(this,arguments)},t.getMessageByServerId=function(){return T.apply(this,arguments)},t.getTemporaryServerId=function(){return I.apply(this,arguments)},t.isPreviewNewsletter=A,t.isSubscribedNewsletter=function(){return h.apply(this,arguments)},t.updateMsgViewReceipt=function(){return y.apply(this,arguments)};var i=r(n(48926)),o=n(93040),a=n(74773),s=n(62505),l=n(15610),c=r(n(60001)),u=n(61647),d=n(10139),_=n(38117),p=r(n(27112)),f=n(51017);function E(){return(E=(0,i.default)((function*(e){return null!=(yield(0,o.getChatRecord)((0,l.newsletterJidToWid)(e)))}))).apply(this,arguments)}function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){const t=yield(0,_.getNewsletterMetadataTable)().get(e);return null==t||t.membershipType===u.NewsletterDBMembership.Guest}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){return!(yield A(e))}))).apply(this,arguments)}const S=Number.MAX_SAFE_INTEGER-1e4;function T(){return(T=(0,i.default)((function*(e,t){const n=(0,s.craftInternalId)(t,e),[r]=yield(0,d.getMessageTable)().anyOf(["internalId"],[n]);return null==r?null:(0,a.messageFromDbRow)(r)}))).apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e,t){const n=new Map,r=new Map(e.map((e=>[(0,s.craftInternalId)(t,e),e])));return(yield(0,d.getMessageTable)().anyOf(["internalId"],Array.from(r.keys()))).forEach((e=>{if(null==e.internalId)return;const t=r.get(e.internalId);null!=t&&n.set(t,(0,a.messageFromDbRow)(e))})),n}))).apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){const t=(0,s.craftInternalId)(e.toJid(),S),n=(0,s.endOfChat)(e),r=yield(0,d.getMessageTable)().between(["internalId"],t,n,{lowerInclusive:!0,upperInclusive:!1,limit:1,reverse:!0});if(0===r.length)return S;if(null==r[0].internalId)return S;const i=(0,s.getInChatMsgId)(r[0].internalId);return Math.min(i+1,Number.MAX_SAFE_INTEGER)}))).apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e){const t=(yield(0,d.getMessageTable)().bulkGet(e.map(String))).filter(Boolean).map((e=>({id:e.id,viewed:!0})));yield(0,d.getMessageTable)().bulkCreateOrMerge(t)}))).apply(this,arguments)}t.TEMPORARY_SERVER_ID_LOWER_BOUND=S},60387:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return h.apply(this,arguments)};var i=r(n(48926)),o=n(29987),a=n(1619),s=n(46316),l=n(12987),c=n(98226),u=n(43823),d=n(27893),_=n(75674),p=n(88504),f=r(n(9441)),E=n(29205),A=n(1723),g=n(68231);function h(){return(h=(0,i.default)((function*(e){try{const{msg:t,ack:n,type:r}=(0,f.default)(e);if(!(0,p.isNewsletterEnabled)())return n;if("reaction"===r&&!(0,p.isNewsletterReactionEnabled)())return n;const h=(0,o.unixTimeMs)(),S=yield(0,E.preprocessNewsletterMsg)(t,r);return t.offline&&(A.OfflineMessageHandler.addOfflinePendingMessage(),A.OfflineMessageHandler.offlineStanzaReceivedAfterComplete()),A.OfflineMessageHandler.isResumeFromRestartComplete()&&(t.offline=!1),yield(0,_.handleMessage)(t.from.toString(),t.offline,(0,i.default)((function*(){const e=(0,o.unixTimeMs)(),i="reaction"!==r?d.messageProcessorCache.addMessages([{msg:S}],!t.offline).then((()=>{g.WorkerOfflineResumeReporter.updateProcessedMessageCount(),(0,u.logReceivedMessagesInWAM)([S],t.offline,1e3*t.t,h,e)})).catch((()=>{__LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter] Failed to handle newsletter message`,SEND_LOGS("newsletter-failed-to-store-incoming-message",1,"newsletter")})):Promise.resolve();return yield(0,c.maybeHandleNewsletterMsgAddOns)(S),s.Cmd.isMainStreamReadyMd&&(s.Cmd.isOfflineDeliveryEnd&&(yield i),(0,a.frontendFireAndForget)("updateNewsletterMessageUI",{chatID:t.from,msg:S})),t.offline?(A.OfflineMessageHandler.processMessageDecryptResult(l.E2EProcessResult.SUCCESS),void d.messageProcessorCache.addMessages([{receiptInfo:{externalId:t.id,from:t.from,author:t.from}}]).catch((()=>{__LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter] Failed to handle newsletter offline ack`,SEND_LOGS("newsletter-failed-to-store-offline-ack",1,"newsletter")}))):n})))}catch(e){throw __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter] Failed to handle newsletter message`,SEND_LOGS("failed-handle-newsletter-message",1,"newsletter"),e}}))).apply(this,arguments)}},98226:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.maybeHandleNewsletterMsgAddOns=function(e){switch(e.type){case"reaction":return function(){return c.apply(this,arguments)}(e);default:return Promise.resolve()}};var i=r(n(48926)),o=n(9178),a=n(58755),s=n(48678),l=n(3885);function c(){return(c=(0,i.default)((function*(e){const{reactionText:t,id:n,serverId:r,from:i,t:c}=e;if(null==r||null==c||null==i||null==t)return;const u={msgKey:n.toString(),parentMsgKey:(0,s.craftNewsletterMsgKeyFromServerId)(r,i).toString(),senderUserJid:(0,l.getMeUser)().toString(),reactionText:t,timestamp:1e3*c,orphan:0,read:!0,ack:o.ACK.SENT};yield(0,a.createOrUpdateReactions)([u])}))).apply(this,arguments)}},29205:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.preprocessNewsletterMsg=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(31654),a=n(31545),s=n(48678);function l(){return(l=(0,i.default)((function*(e,t){const{serverId:n}=e,r="reaction"===t&&null!=n?yield(0,s.getMessageByServerId)(n,e.from.toJid()).then((e=>null==e?void 0:e.id)):null,i=(0,a.mapMsgStanzaToMsgData)({id:e.id,payload:e.payload,from:e.from,serverId:e.serverId,t:e.t,to:e.to,type:t,isNewMsg:!(e.offline||"revoke"===t),fromMe:e.isSender,reactionCode:e.reactionCode,reactionParentKey:r}),[l]=yield(0,o.applyOrphanRevokes)([i]);return l}))).apply(this,arguments)}},9441:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{parsedRequest:n,makeNewsletterResponseSuccess:r}=(0,i.receiveNewsletterRPC)(e),{newsletterMessageFanoutContent:{name:a}}=n;return{ack:r(),type:u(a),msg:{id:n.id,t:n.t,isSender:"true"===n.isSender,serverId:n.serverId,reactionCode:c(n.newsletterMessageFanoutContent),from:(0,o.jidWithTypeToWid)({jidType:"newsletter",newsletterJid:n.from}),to:(0,s.getMaybeMeUser)(),payload:d(n),offline:null!=(null===(t=n.offlineMixin)||void 0===t?void 0:t.offline)}}};var i=n(32864),o=n(15610),a=n(56074),s=n(3885),l=r(n(89482));function c(e){return"NewsletterReaction"===e.name?e.value.reactionCode:"NewsletterReactionRevoke"===e.name?a.REVOKED_REACTION_TEXT:void 0}function u(e){switch(e){case"NewsletterRevoke":return"revoke";case"NewsletterText":case"NewsletterMedia":return"chat";case"NewsletterReaction":case"NewsletterReactionRevoke":return"reaction";default:throw(0,l.default)(`Unsupported message type: ${e}.`)}}function d(e){return"NewsletterRevoke"===e.newsletterMessageFanoutContent.name||"NewsletterReaction"===e.newsletterMessageFanoutContent.name||"NewsletterReactionRevoke"===e.newsletterMessageFanoutContent.name?new Uint8Array(0):e.newsletterMessageFanoutContent.value.plaintextPayloadMixin.elementValue}},38117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("newsletter-metadata").version((0,i.newsletterMetadataCreateTable)(),[n("id"),t("creationTime"),t("name"),t("nameUpdateTime"),t("description"),t("descriptionUpdateTime"),t("handle"),t("inviteCode"),t("size"),t("verified"),t("membershipType"),t("privacy"),t("website"),t("suspended"),t("geosuspended"),t("terminated"),t("messageDeliveryUpdates")]).view((e=>e))},t.getNewsletterMetadataTable=function(){return(0,r.getStorage)().table("newsletter-metadata")};var r=n(74557),i=n(20746),o=n(65717)},38815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("newsletter-reactions").version((0,i.newsletterReactionsCreateTable)(),[n("parentMsgKey"),t("emojiCountMap"),t("serverTimestamp")]).view((e=>e))},t.getTable=function(){return(0,r.getStorage)().table("newsletter-reactions")};var r=n(74557),i=n(20746),o=n(65717)},31545:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.mapMsgStanzaToMsgData=_,t.mapNewsletterMsgToMsgData=function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;const{newsletterEditOrTextOrMediaOrRevokeMixinGroup:o}=e,{id:a,t:l,serverId:c}=e,u="true"===e.isSender,d=null===(n=e.newsletterViewsCountMixin)||void 0===n?void 0:n.viewsCountCount;switch(null==o?void 0:o.name){case"NewsletterText":case"NewsletterMedia":{const e=null==o?void 0:o.value.plaintextPayloadMixin.elementValue;return null!=a&&null!=l&&null!=e?_({id:a,from:t,fromMe:u,hasReaction:r,lastUpdateFromServerTs:i,serverId:c,t:l,payload:e,type:"chat",viewCount:d}):null}case"NewsletterRevoke":return null!=a&&null!=l?{id:new s.default({remote:t,fromMe:u,id:a}),from:t,t:l,serverId:c,lastUpdateFromServerTs:null!=i?i:void 0,type:"revoked",subtype:"admin"}:null;case"NewsletterEdit":default:return null}};var i=r(n(81109)),o=n(9178),a=n(18431),s=r(n(60001)),l=n(73602),c=n(17725),u=n(77026),d=n(33655);function _(e){let{id:t,payload:n,from:r,serverId:_,t:p,to:f,type:E,isNewMsg:A,fromMe:g,reactionCode:h,reactionParentKey:S,hasReaction:T,lastUpdateFromServerTs:m,viewCount:I}=e;const y=new s.default({remote:r,fromMe:g,id:t});if("reaction"===E&&null!=h&&null!=S&&null!=_)return{id:y,reactionParentKey:S,type:l.MSG_TYPE.REACTION,t:p,from:r,serverId:_,self:"out",isNewMsg:!1,ack:o.ACK.SENT,reactionText:h,reactionTimestamp:1e3*p};const C=(0,d.decodeProtobuf)(u.MessageSpec,n),v="revoke"===E,O={from:r,t:p,to:f,serverId:_,id:v?new s.default({remote:r,fromMe:g,id:s.default.newId_DEPRECATED()}):y},P=(0,a.parseMsgProto)(C,O),N=function(e){return e.streamingSidecar=null,e.mediaKey=null,e.mediaKeyTimestamp=null,e}((0,i.default)((0,i.default)({},P),{},{ack:o.ACK.SENT,isNewMsg:A,viewCount:null!=I?I:void 0,hasReaction:!!T,lastUpdateFromServerTs:null!=m?m:void 0}));return v?(N.subtype="admin_revoke",N.protocolMessageKey=y):(0,c.isMsgTypeSupported)(P.type)||(N.type=l.MSG_TYPE.UNKNOWN,N.futureproofType=P.type,N.futureproofSubtype=P.subtype),N}},17725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsgTypeSupported=function(e){return(0,r.getABPropConfigValue)("channel_supported_message_types").split(",").map((e=>Number.parseInt(e.trim(),10))).filter(Number.isSafeInteger).reduce(((e,t)=>{const n=o.get(t);return null!=n&&e.add(n),e}),new Set).has(e)};var r=n(83741),i=n(73602);const o=new Map([[1,i.MSG_TYPE.CHAT],[2,i.MSG_TYPE.IMAGE],[3,i.MSG_TYPE.VIDEO],[4,i.MSG_TYPE.AUDIO],[5,i.MSG_TYPE.PTT],[6,i.MSG_TYPE.LOCATION],[7,i.MSG_TYPE.VCARD],[8,i.MSG_TYPE.DOCUMENT],[11,i.MSG_TYPE.MULTI_VCARD],[12,i.MSG_TYPE.REACTION],[13,i.MSG_TYPE.POLL_CREATION],[14,i.MSG_TYPE.POLL_UPDATE],[15,i.MSG_TYPE.STICKER]])},69777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterIdentifierType=void 0,t.isNewsletterInviteCode=function(e){if(null==e)return!1;if(e.startsWith("http://")||e.startsWith("https://"))return null!=c(e);return null!=c(`https://${e}`)},t.parseNewsletter=c,t.removeTrailingSlash=void 0;var r=n(5743),i=n(1280);const o=n(76672)({Handle:"Handle",InviteCode:"InviteCode"});t.NewsletterIdentifierType=o;const a="channel";t.removeTrailingSlash=e=>e.replace(/\/+$/,"");const s=new RegExp(`^${r.ORIGIN}${r.OPTIONAL_PATH_PART}/accept/?\\?channel_invite_code=(\\w+)$`,"i"),l=new RegExp("^whatsapp://(channel)/(\\w+)/?$","i");function c(e){try{const t=new URL(e),{pathname:n}=t,[r,c,d,..._]=n.split("/");if(c===a&&function(e){const{hostname:t}=e;return"whatsapp.com"===t||"www.whatsapp.com"===t}(t)&&function(e){return 0===e.length||1===e.length&&""===e[0]}(_))switch(d){case"create":return{type:"create",url:t.href};default:if(null!=d&&""!==d)return{identifier:d,url:t.href,identifierType:o.InviteCode,type:"view",chatEntryPoint:i.ChatEntryPoint.Link}}const p=u(s,e);if(null!=p)return p;const f=u(l,e);return null!=f?f:null}catch(e){return null}}function u(e,t){const n=t.match(e);return n?{identifier:n[2],url:n[1]||"/",identifierType:o.InviteCode,type:"view",chatEntryPoint:i.ChatEntryPoint.Deeplink}:null}},66683:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterState=t.NewsletterPrivacy=t.NewsletterMembershipType=void 0;const r=n(76672)({Subscriber:"subscriber",Admin:"admin",Guest:"guest",Owner:"owner"});t.NewsletterMembershipType=r;const i=n(76672)({Public:"public",Private:"private"});t.NewsletterPrivacy=i;const o=n(76672)({Active:"active",Suspended:"suspended",GeoSuspended:"geosuspended"});t.NewsletterState=o},88504:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterViewCountGating=t.NewsletterCompanionGating=t.NewsletterABPropConfig=void 0,t.getMaxMsgCountFromServer=function(){return 300},t.getMaxSubscriberNumber=function(){return 5e3},t.getNewsletterConsumerTos=function(){return(0,o.getABPropConfigValue)("newsletter_tos_notice_id")},t.getNewsletterDeeplinkGating=function(){const e=p.cast((0,o.getABPropConfigValue)("channels_enabled"));if(null==e)return f.Disabled;if(!A())return f.Disabled;switch(e){case p.Disabled:return f.AvailableOnPhone;case p.Enabled:return f.Enabled;case p.NeedsUpgrade:return f.NeedsUpgrade}},t.getNewsletterProducerNux=function(){return(0,o.getABPropConfigValue)("newsletter_creation_nux_id")},t.getNewsletterProducerTos=function(){return(0,o.getABPropConfigValue)("newsletter_creation_tos_id")},t.getNewsletterSubscriberListCacheRefreshInSeconds=function(){return(0,o.getABPropConfigValue)("channels_followers_list_cache_refresh_seconds")},t.getRecommendedNewslettersRefreshInterval=function(){return(0,o.getABPropConfigValue)("recommended_channels_background_refresh")},t.isLargeNumberFormatEnabled=function(){return(0,o.getABPropConfigValue)("channels_large_number_format_enabled")},t.isNavigationToForwardedNewsletterMessageEnabled=function(){return(0,o.getABPropConfigValue)("channel_forward_to_chat_v2_message_navigation_enabled")},t.isNewsletterBackwardsMessageEditingEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channels_edit_backwards_compatibility")},t.isNewsletterCreationEnabled=function(){if(!g())return!1;return(0,o.getABPropConfigValue)("channels_creation_enabled")===f.Enabled},t.isNewsletterDirectoryEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channels_directory_enabled")===p.Enabled},t.isNewsletterDirectoryLoggingEnabled=function(){return(0,o.getABPropConfigValue)("channels_directory_logging_enabled")},t.isNewsletterDiyEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channels_dyi_enabled")},t.isNewsletterEnabled=g,t.isNewsletterEnabledOnPrimary=A,t.isNewsletterGeosuspendEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channels_geosuspend_enabled")},t.isNewsletterMessageDeliveryUpdatesEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channels_restricted_updates_enabled")},t.isNewsletterMessageForwardLoggingEnabled=function(){return(0,o.getABPropConfigValue)("channels_forwarding_logging_enabled")},t.isNewsletterMessageForwardReceivingEnabled=function(){return(0,o.getABPropConfigValue)("channel_forward_to_chat_link_enabled")},t.isNewsletterMessageForwardSendingEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channel_forward_to_chat_enabled")},t.isNewsletterReactionEnabled=h,t.isNewsletterReactionSendingEnabled=function(){return h()&&(0,o.getABPropConfigValue)("channel_reactions_sending_enabled")},t.isNewsletterReactionSettingsEnabled=function(){return h()&&(0,o.getABPropConfigValue)("channel_reactions_settings_enabled")},t.isNewsletterReportingEnabled=function(){return g()&&(0,o.getABPropConfigValue)("newsletter_reporting_enabled")},t.isNewsletterSubscriberListEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channel_follower_list_enabled")},t.isNewsletterSuspendEnabled=function(){return g()&&(0,o.getABPropConfigValue)("newsletter_suspend_enabled")},t.isNewsletterViewCountEnabled=function(e){let t=!1;if(null==e)return!1;switch(e){case a.NewsletterMembershipType.Owner:case a.NewsletterMembershipType.Admin:t=(0,o.getABPropConfigValue)("channel_view_counts_enabled")>=E.EnabledAdminsOnly;break;case a.NewsletterMembershipType.Subscriber:t=(0,o.getABPropConfigValue)("channel_view_counts_enabled")>=E.EnabledAdminsAndFollowers;break;case a.NewsletterMembershipType.Guest:t=(0,o.getABPropConfigValue)("channel_view_counts_enabled")===E.EnabledEveryone}return g()&&t},t.isNewsletterViewCountSendEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channels_send_view_receipt_enabled")},t.isRecommendedNewslettersEnabled=function(){return g()&&(0,o.getABPropConfigValue)("channels_recommended_enabled")===p.Enabled},t.shouldHideProducerNewsletterDisclosure=function(){return!1};var i=r(n(48926)),o=n(83741),a=n(66683),s=r(n(71830)),l=n(73602),c=n(17725),u=n(89358),d=n(23440),_=n(3885);const p=n(76672)({Disabled:0,NeedsUpgrade:1,Enabled:2});t.NewsletterABPropConfig=p;const f=n(76672)({Disabled:0,NeedsUpgrade:1,Enabled:2,AvailableOnPhone:3});t.NewsletterCompanionGating=f;const E=n(76672)({Disabled:0,EnabledAdminsOnly:1,EnabledAdminsAndFollowers:2,EnabledEveryone:3});t.NewsletterViewCountGating=E;new class{constructor(){this.isNewsletterCreationGroupMember=!1}init(){var e=this;return(0,i.default)((function*(){yield(0,s.default)(),e.isNewsletterCreationGroupMember=yield e.isPartOfDogfoodingGroup("nl_crt_df_gid")}))()}isPartOfDogfoodingGroup(e){return(0,i.default)((function*(){const t=(0,o.getABPropConfigValue)(e);if(null==t||""===t||"string"!=typeof t)return!1;const n=yield(0,d.getParticipantTable)().get(`${t}@g.us`);return!!(null==n?void 0:n.participants.includes((0,_.getMeUser)().toString()))}))()}};function A(){return(0,u.primaryFeatureEnabled)("newsletter")}function g(){return(0,o.getABPropConfigValue)("channels_enabled")===f.Enabled}function h(){return g()&&(0,o.getABPropConfigValue)("channel_reactions_enabled")&&(0,c.isMsgTypeSupported)(l.MSG_TYPE.REACTION)}},12364:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousMsgNotPlaceholderError=t.DuplicateMessageError=void 0,t.processPaymentMessages=function(){return p.apply(this,arguments)};var i=r(n(48926)),o=n(87946),a=n(74557),s=n(73602),l=n(38601),c=n(10139),u=n(3885);class d extends Error{constructor(){super(...arguments),this.name="DuplicateMessageError"}}t.DuplicateMessageError=d;class _ extends Error{constructor(){super(...arguments),this.name="PreviousMsgNotPlaceholderError"}}function p(){return(p=(0,i.default)((function*(e){const t=[],n=[],r=e.map((e=>e.paymentRequestMessageKey?e.paymentRequestMessageKey.toString():"")).filter((e=>""!==e)),d=e.filter((e=>"payment_action_request_declined"===e.subtype||"payment_transaction_request_cancelled"===e.subtype)).map((e=>e.id.toString()));return(0,a.getStorage)().lock(["message"],function(){var a=(0,i.default)((function*(i){let[a]=i;const _=yield(0,o.getMsgsByMsgKey)(r.concat(d)),p=new Map;return _.forEach((e=>{null!=e&&p.set(e.id.toString(),e)})),e.forEach((e=>{var r;const i=null===(r=e.paymentRequestMessageKey)||void 0===r?void 0:r.toString(),o=p.get(i||"");if(o&&null!=i)if("send"===e.subtype&&null!=e.paymentTxnStatus)t.push({id:i,paymentTxnStatus:e.paymentTxnStatus});else{const n=o.from.isGroup()?o.author:o.from,r=o.paymentMessageReceiverJid.equals((0,u.getMeUser)())?n:o.paymentMessageReceiverJid;"payment_action_request_declined"===e.subtype?t.push({id:i,paymentStatus:l.PaymentInfo$Status.REJECTED,paymentTxnStatus:l.PaymentInfo$TxnStatus.COLLECT_REJECTED}):"payment_transaction_request_cancelled"===e.subtype&&t.push({id:i,paymentStatus:l.PaymentInfo$Status.CANCELLED,paymentTxnStatus:l.PaymentInfo$TxnStatus.COLLECT_CANCELED}),t.push({id:e.id.toString(),type:s.MSG_TYPE.NOTIFICATION_TEMPLATE,templateParams:[r||"",o.paymentCurrency||"",String(o.paymentAmount1000)]})}else p.get(e.id.toString())&&!e.isMdHistoryMsg&&n.push(e.id.toString())})),yield(0,c.getMessageTable)().bulkRemove(n),yield(0,c.getMessageTable)().bulkCreateOrMerge(t),t}));return function(){return a.apply(this,arguments)}}())}))).apply(this,arguments)}t.PreviousMsgNotPlaceholderError=_},76989:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAmount1000AndCurrency=function(e){return function(e){if(e.hasChild("amount")){return function(e){e.assertTag("money");const t=parseFloat(e.attrString("value")),n=e.attrString("currency"),r=e.maybeAttrInt("offset");return{currency:n,amount1000:t*o/(null!=r&&0!==r?r:o)}}(e.child("amount").child("money"))}if(e.hasAttr("amount")){return{amount1000:parseFloat(e.attrString("amount"))*o,currency:e.attrString("currency")}}throw __LOG__(3)`Amount missing in pay or transaction node`,(0,i.default)("Amount missing in pay or transaction node")}(e)};var i=r(n(89482));const o=1e3},30883:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isNoviTransaction=u,t.parseTransactionNode=p,t.paymentNotificationParser=t.paymentInviteNotificationParser=void 0;var i=n(8748),o=n(76989),a=n(15610),s=r(n(60001)),l=n(45665),c=n(3885);function u(e){return!(!e||!e.hasAttr("service")||"NOVI"!==e.attrString("service").toUpperCase())}const d=new i.WapParser("paymentNotificationParser",(e=>{if(e.hasChild("transaction")){return p(e.child("transaction"))}return __LOG__(2)`No transaction node in the payment notification`,null}));t.paymentNotificationParser=d;const _=new i.WapParser("paymentInviteNotificationParser",(e=>{if(e.hasChild("invite")){const t=e.child("invite");return{type:t.maybeAttrString("type"),service:t.maybeAttrString("service"),inviteUsed:t.hasAttr("invite-used")?"1"===t.attrString("invite-used"):null,from:(0,a.chatJidToChatWid)(e.attrChatJid("from")),timestamp:e.attrTime("t")}}return __LOG__(2)`No invite node in the payment invite notification`,null}));function p(e){if(u(e))return __LOG__(2)`Payment notification from Novi not supported`,null;let t,n;const r=(0,c.getMeUser)(),i=(0,a.jidWithTypeToWid)(e.attrJidWithType("sender")),d=(0,a.jidWithTypeToWid)(e.attrJidWithType("receiver")),_=r.equals(i);e.hasAttr("group")?(t=(0,a.jidWithTypeToWid)(e.attrJidWithType("group")),n=(0,a.jidWithTypeToWid)(e.attrJidWithType("sender"))):t=_?d:i;const p=new s.default({id:e.attrString("message-id"),fromMe:_,remote:t,participant:n}),f=(0,l.getPaymentTransactionType)(e.attrString("transaction-type"),p.fromMe),{amount1000:E,currency:A}=(0,o.getAmount1000AndCurrency)(e);return{receiver:d,currency:A,amount1000:E,status:(0,l.getNotificationTransactionStatus)(f,e.attrString("status")),ts:e.attrInt("ts"),type:f,msgKey:p}}t.paymentInviteNotificationParser=_},45665:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentTransactionTypeServerString=t.PaymentTransactionType=t.PaymentTransactionStatusServerString=t.NotificationTransactionStatus=void 0,t.determinePaymentRequestFulfilledStatus=function(e){if(t=e,t===r.PaymentInfo$TxnStatus.COMPLETED||t===r.PaymentInfo$TxnStatus.SUCCESS)return e;var t;return r.PaymentInfo$TxnStatus.COLLECT_INIT},t.getNotificationTransactionStatus=function(e,t){if(!t)return o.STATUS_UNSET;const n=t.toUpperCase();switch(e){case i.TYPE_P2P_SENT:case i.TYPE_P2M_SENT:case i.TYPE_DEPOSIT:switch(n){case s.PENDING_RECEIVER_SETUP:return o.SEND_PAY_PENDING_RECEIVER;case s.FAILED_DA:return o.SEND_PAY_PENDING;case s.REFUND_FAILED_DA:return o.SEND_PAY_REFUND_PENDING;case s.FAILED_RISK:return o.SEND_PAY_FAILURE_RISK;case s.INITIAL:return o.SEND_PAY_INIT;case s.SUCCESS:case s.COMPLETED:return o.SEND_PAY_SUCCESS;case s.FAILURE:case s.FAILED:return o.SEND_PAY_FAILURE;case s.REFUNDED:return o.SEND_PAY_REFUNDED;case s.REFUND_FAILED:return o.SEND_PAY_REFUND_FAILED;case s.FAILED_RECEIVER_PROCESSING:return o.SEND_PAY_FAILURE_RECEIVER;case s.REFUND_FAILED_PROCESSING:return o.SEND_PAY_REFUND_FAILED_PROCESSING;case s.FAILED_DA_FINAL:return o.SEND_PAY_PENDING_REFUND;case s.AUTH_CANCEL_FAILED_PROCESSING:return o.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING;case s.AUTH_CANCEL_FAILED:return o.SEND_PAY_AUTH_CANCEL_FAILED;case s.AUTH_CANCELED:return o.SEND_PAY_AUTH_CANCELED;case s.EXPIRED:return o.SEND_PAY_EXPIRED;case s.IN_REVIEW:return o.SEND_PAY_IN_REVIEW;case s.PENDING:return o.SEND_PAY_PENDING_PROCESSING;case s.CANCELED:return o.SEND_PAY_USER_CANCELED}break;case i.TYPE_P2P_RCVD:case i.TYPE_P2M_RCVD:switch(n){case s.PENDING_SETUP:return o.RECV_PAY_PENDING_SETUP;case s.FAILED_DA:return o.RECV_PAY_PENDING;case s.FAILED_PROCESSING:return o.RECV_PAY_RETRY_ON_FAILURE;case s.SUCCESS:case s.COMPLETED:return o.RECV_PAY_SUCCESS;case s.FAILURE:case s.FAILED:return o.RECV_PAY_FAILURE;case s.EXPIRED:return o.RECV_PAY_EXPIRED;case s.FAILED_RISK:return o.RECV_PAY_FAILURE_RISK;case s.WITHDRAWAL_PROCESSING:return o.RECV_PAY_WITHDRAWAL_PROCESSING;case s.WITHDRAWAL_FAILURE:return o.RECV_PAY_WITHDRAWAL_FAILURE;case s.WITHDRAWAL_PERMANENT_FAILED:return o.RECV_PAY_WITHDRAWAL_PERMANENT_FAILED;case s.CANCELED:return o.RECV_PAY_SENDER_CANCELED}break;case i.TYPE_P2P_REQ_SENT:case i.TYPE_P2P_REQ_RCVD:switch(n){case s.COLLECT_SUCCESS:return o.REQUEST_PAY_SUCCESS;case s.COLLECT_FAILED:return o.REQUEST_PAY_FAILED;case s.COLLECT_FAILED_RISK:return o.REQUEST_PAY_FAILED_RISK;case s.COLLECT_REJECTED:return o.REQUEST_PAY_REJECTED;case s.COLLECT_EXPIRED:return o.REQUEST_PAY_EXPIRED;case s.COLLECT_CANCELED:return o.REQUEST_PAY_CANCELLED}break;case i.TYPE_P2P_REQ_SCHEDULED_PAYMENT_RCVD:switch(n){case s.COLLECT_SUCCESS:return o.REQUEST_PAY_SCHEDULED_PAYMENT_SUCCESS;case s.AUTH_SUCCESS:return o.SEND_PAY_AUTH_SUCCESS}break;case i.TYPE_REFUND:switch(n){case s.SUCCESS:case s.COMPLETED:return o.RECV_PAY_SUCCESS}break;case i.TYPE_WITHDRAWAL:switch(n){case s.PENDING:return o.WITHDRAWAL_PENDING;case s.IN_REVIEW:return o.WITHDRAWAL_IN_REVIEW;case s.SUCCESS:case s.COMPLETED:return o.WITHDRAWAL_SUCCESS;case s.FAILED:case s.DECLINED:return o.WITHDRAWAL_FAILED;case s.CANCELED:return o.WITHDRAWAL_USER_CANCELED;case s.EXPIRED:return o.WITHDRAWAL_EXPIRED;case s.WITHDRAWAL_ACTIVE:return o.WITHDRAWAL_ACTIVE}break;default:return o.STATUS_UNSET}return o.STATUS_UNSET},t.getPaymentTransactionType=function(e,t){if(e){const n=e.toLowerCase();switch(n){case a.TYPE_P2P:return t?i.TYPE_P2P_SENT:i.TYPE_P2P_RCVD;case a.TYPE_P2M:return t?i.TYPE_P2M_SENT:i.TYPE_P2M_RCVD;case a.TYPE_P2M_PAYOUT:return i.TYPE_P2M_PAYOUT;case a.TYPE_DEPOSIT:return i.TYPE_DEPOSIT;case a.TYPE_REFUND:return i.TYPE_REFUND;case a.TYPE_WITHDRAWAL:return i.TYPE_WITHDRAWAL;default:__LOG__(2)`parsePaymentTransactionType payment transaction string=${n}`}}return t?i.TYPE_P2P_SENT:i.TYPE_P2P_RCVD},t.getPaymentTxnWebStatus=function(e){if(null==e)return r.PaymentInfo$TxnStatus.UNKNOWN;switch(e){case o.RECV_PAY_EXPIRED:case o.SEND_PAY_EXPIRED:return r.PaymentInfo$TxnStatus.EXPIRED_TXN;case o.RECV_PAY_FAILURE:case o.SEND_PAY_FAILURE:return r.PaymentInfo$TxnStatus.FAILED;case o.RECV_PAY_INIT:case o.SEND_PAY_INIT:return r.PaymentInfo$TxnStatus.INIT;case o.RECV_PAY_PENDING_SETUP:return r.PaymentInfo$TxnStatus.PENDING_SETUP;case o.RECV_PAY_PENDING:case o.SEND_PAY_PENDING:return r.PaymentInfo$TxnStatus.FAILED_DA;case o.RECV_PAY_RETRY_ON_FAILURE:return r.PaymentInfo$TxnStatus.FAILED_PROCESSING;case o.RECV_PAY_SUCCESS:case o.SEND_PAY_SUCCESS:case o.REQUEST_PAY_FULFILLED:return r.PaymentInfo$TxnStatus.SUCCESS;case o.REQUEST_PAY_CANCELLED:return r.PaymentInfo$TxnStatus.COLLECT_CANCELED;case o.REQUEST_PAY_CANCELLING:return r.PaymentInfo$TxnStatus.COLLECT_CANCELLING;case o.REQUEST_PAY_EXPIRED:return r.PaymentInfo$TxnStatus.COLLECT_EXPIRED;case o.REQUEST_PAY_FAILED_RISK:return r.PaymentInfo$TxnStatus.COLLECT_FAILED_RISK;case o.REQUEST_PAY_FAILED:return r.PaymentInfo$TxnStatus.COLLECT_FAILED;case o.REQUEST_PAY_INIT:return r.PaymentInfo$TxnStatus.COLLECT_INIT;case o.REQUEST_PAY_REJECTED:return r.PaymentInfo$TxnStatus.COLLECT_REJECTED;case o.REQUEST_PAY_SUCCESS:return r.PaymentInfo$TxnStatus.COLLECT_SUCCESS;case o.SEND_PAY_AUTH_CANCELED:return r.PaymentInfo$TxnStatus.AUTH_CANCELED;case o.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:return r.PaymentInfo$TxnStatus.AUTH_CANCEL_FAILED_PROCESSING;case o.SEND_PAY_AUTH_CANCEL_FAILED:return r.PaymentInfo$TxnStatus.AUTH_CANCEL_FAILED;case o.SEND_PAY_FAILURE_RECEIVER:return r.PaymentInfo$TxnStatus.FAILED_RECEIVER_PROCESSING;case o.SEND_PAY_FAILURE_RISK:case o.RECV_PAY_FAILURE_RISK:return r.PaymentInfo$TxnStatus.FAILED_RISK;case o.SEND_PAY_PENDING_RECEIVER:return r.PaymentInfo$TxnStatus.PENDING_RECEIVER_SETUP;case o.SEND_PAY_PENDING_REFUND:return r.PaymentInfo$TxnStatus.FAILED_DA_FINAL;case o.SEND_PAY_REFUNDED:return r.PaymentInfo$TxnStatus.REFUNDED_TXN;case o.SEND_PAY_REFUND_FAILED_PROCESSING:return r.PaymentInfo$TxnStatus.REFUND_FAILED_PROCESSING;case o.SEND_PAY_REFUND_FAILED:return r.PaymentInfo$TxnStatus.REFUND_FAILED;case o.SEND_PAY_REFUND_PENDING:return r.PaymentInfo$TxnStatus.REFUND_FAILED_DA;case o.SEND_PAY_IN_REVIEW:return r.PaymentInfo$TxnStatus.IN_REVIEW;case o.STATUS_UNSET:default:return r.PaymentInfo$TxnStatus.UNKNOWN}},t.getPaymentWebStatus=function(e,t){if(null==e)return r.PaymentInfo$Status.UNKNOWN_STATUS;switch(e){case o.SEND_PAY_INIT:case o.SEND_PAY_PENDING:case o.RECV_PAY_INIT:case o.RECV_PAY_PENDING:case o.RECV_PAY_RETRY_ON_FAILURE:case o.REQUEST_PAY_INIT:return r.PaymentInfo$Status.PROCESSING;case o.SEND_PAY_PENDING_RECEIVER:case o.SEND_PAY_FAILURE_RECEIVER:return r.PaymentInfo$Status.SENT;case o.REQUEST_PAY_SUCCESS:return t===i.TYPE_P2P_REQ_SENT?r.PaymentInfo$Status.WAITING_FOR_PAYER:r.PaymentInfo$Status.WAITING;case o.RECV_PAY_PENDING_SETUP:return r.PaymentInfo$Status.NEED_TO_ACCEPT;case o.SEND_PAY_SUCCESS:case o.RECV_PAY_SUCCESS:case o.REQUEST_PAY_FULFILLED:return r.PaymentInfo$Status.COMPLETE;case o.SEND_PAY_FAILURE:case o.SEND_PAY_FAILURE_RISK:case o.SEND_PAY_PENDING_REFUND:case o.SEND_PAY_REFUND_PENDING:case o.SEND_PAY_REFUND_FAILED:case o.SEND_PAY_REFUND_FAILED_PROCESSING:case o.RECV_PAY_FAILURE:case o.REQUEST_PAY_FAILED:case o.REQUEST_PAY_FAILED_RISK:return r.PaymentInfo$Status.COULD_NOT_COMPLETE;case o.SEND_PAY_REFUNDED:return r.PaymentInfo$Status.REFUNDED;case o.RECV_PAY_EXPIRED:case o.REQUEST_PAY_EXPIRED:case o.SEND_PAY_AUTH_CANCELED:case o.SEND_PAY_AUTH_CANCEL_FAILED:case o.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:return r.PaymentInfo$Status.EXPIRED;case o.REQUEST_PAY_REJECTED:return r.PaymentInfo$Status.REJECTED;case o.REQUEST_PAY_CANCELLED:return r.PaymentInfo$Status.CANCELLED;case o.STATUS_UNSET:case o.REQUEST_PAY_CANCELLING:default:return r.PaymentInfo$Status.UNKNOWN_STATUS}};var r=n(38601);const i=n(76672)({TYPE_UNSET:0,TYPE_P2P_SENT:1,TYPE_P2P_RCVD:2,TYPE_P2P_GRP:3,TYPE_P2P_NO_INFO:4,TYPE_FUTURE:5,TYPE_P2P_REQ_SENT:10,TYPE_P2P_REQ_RCVD:20,TYPE_P2P_REQ_SCHEDULED_PAYMENT_RCVD:21,TYPE_P2P_REQ_GRP:30,TYPE_P2M_SENT:100,TYPE_P2M_RCVD:200,TYPE_P2M_PAYOUT:300,TYPE_MISSING_DETAILS:400,TYPE_DEPOSIT:500,TYPE_REFUND:600,TYPE_WITHDRAWAL:700});t.PaymentTransactionType=i;const o=n(76672)({STATUS_UNSET:0,REQUEST_PAY_INIT:11,REQUEST_PAY_SUCCESS:12,REQUEST_PAY_FAILED:13,REQUEST_PAY_FAILED_RISK:14,REQUEST_PAY_REJECTED:15,REQUEST_PAY_EXPIRED:16,REQUEST_PAY_FULFILLED:17,REQUEST_PAY_CANCELLED:18,REQUEST_PAY_CANCELLING:19,REQUEST_PAY_SCHEDULED_PAYMENT_SUCCESS:20,RECV_PAY_INIT:101,RECV_PAY_PENDING_SETUP:102,RECV_PAY_PENDING:103,RECV_PAY_RETRY_ON_FAILURE:104,RECV_PAY_FAILURE:105,RECV_PAY_SUCCESS:106,RECV_PAY_EXPIRED:107,RECV_PAY_FAILURE_RISK:108,RECV_PAY_WITHDRAWAL_PROCESSING:109,RECV_PAY_WITHDRAWAL_FAILURE:110,RECV_PAY_WITHDRAWAL_PERMANENT_FAILED:111,RECV_PAY_SENDER_CANCELED:112,SEND_PAY_INIT:401,SEND_PAY_PENDING_RECEIVER:402,SEND_PAY_PENDING:403,SEND_PAY_REFUND_PENDING:404,SEND_PAY_SUCCESS:405,SEND_PAY_FAILURE:406,SEND_PAY_FAILURE_RISK:407,SEND_PAY_REFUNDED:408,SEND_PAY_REFUND_FAILED:409,SEND_PAY_FAILURE_RECEIVER:410,SEND_PAY_REFUND_FAILED_PROCESSING:411,SEND_PAY_PENDING_REFUND:412,SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:413,SEND_PAY_AUTH_CANCEL_FAILED:414,SEND_PAY_AUTH_CANCELED:415,SEND_PAY_EXPIRED:416,SEND_PAY_AUTH_SUCCESS:417,SEND_PAY_AUTH_SUCCESS_CANCELING:418,SEND_PAY_IN_REVIEW:419,SEND_PAY_PENDING_PROCESSING:420,SEND_PAY_USER_CANCELED:421,WITHDRAWAL_INIT:601,WITHDRAWAL_PENDING:602,WITHDRAWAL_IN_REVIEW:603,WITHDRAWAL_SUCCESS:604,WITHDRAWAL_FAILED:605,WITHDRAWAL_USER_CANCELED:606,WITHDRAWAL_EXPIRED:607,WITHDRAWAL_ACTIVE:608});t.NotificationTransactionStatus=o;const a={TYPE_P2P:"p2p",TYPE_P2M:"p2m",TYPE_P2M_PAYOUT:"payout",TYPE_WITHDRAWAL:"withdrawal",TYPE_DEPOSIT:"deposit",TYPE_REFUND:"refund"};t.PaymentTransactionTypeServerString=a;const s={PENDING_RECEIVER_SETUP:"PENDING_RECEIVER_SETUP",PENDING_SETUP:"PENDING_SETUP",PENDING:"PENDING",INITIAL:"INITIAL",SUCCESS:"SUCCESS",COMPLETED:"COMPLETED",IN_REVIEW:"IN_REVIEW",FAILED:"FAILED",DECLINED:"DECLINED",FAILURE:"FAILURE",FAILED_RISK:"FAILED_RISK",FAILED_PROCESSING:"FAILED_PROCESSING",FAILED_RECEIVER_PROCESSING:"FAILED_RECEIVER_PROCESSING",REFUND_FAILED_PROCESSING:"REFUND_FAILED_PROCESSING",REFUNDED:"REFUNDED",REFUND_FAILED:"REFUND_FAILED",EXPIRED:"EXPIRED",CANCELED:"CANCELLED",AUTH_SUCCESS:"AUTH_SUCCESS",AUTH_CANCELED:"AUTH_CANCELED",AUTH_CANCEL_FAILED_PROCESSING:"AUTH_CANCEL_FAILED_PROCESSING",AUTH_CANCEL_FAILED:"AUTH_CANCEL_FAILED",COLLECT_SUCCESS:"COLLECT_SUCCESS",COLLECT_FAILED:"COLLECT_FAILED",COLLECT_REJECTED:"COLLECT_REJECTED",COLLECT_EXPIRED:"COLLECT_EXPIRED",COLLECT_CANCELED:"COLLECT_CANCELED",FAILED_DA:"FAILED_DA",FAILED_DA_FINAL:"FAILED_DA_FINAL",REFUND_FAILED_DA:"REFUND_FAILED_DA",COLLECT_FAILED_RISK:"COLLECT_FAILED_RISK",WITHDRAWAL_PROCESSING:"WITHDRAWAL_PROCESSING",WITHDRAWAL_FAILURE:"WITHDRAWAL_FAILURE",WITHDRAWAL_PERMANENT_FAILED:"WITHDRAWAL_PERMANENT_FAILED",WITHDRAWAL_ACTIVE:"WITHDRAWAL_ACTIVE"};t.PaymentTransactionStatusServerString=s},30873:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{cancelPaymentRequestMessage:r}=t;if(null==r)return;const u=r.key;if(null==u)return;const d=function(e,t){if(!e)throw(0,c.default)("parseProtocolMessageProto: no message key is defined for cancel payment request message");const{id:n}=e;if(!n)throw(0,c.default)("parseProtocolMessageProto: no message id is defined for cancel payment request message");let r;if(t.id.remote.isGroup()){var i;if(r=t.id.participant,t.id.fromMe)r=(0,o.decodeJid)(t.from);else if(!(null===(i=(0,o.decodeJid)(e.participant))||void 0===i?void 0:i.equals((0,l.getMeUser)())))return null}return new a.default({id:n,fromMe:t.id.fromMe,remote:t.id.remote,participant:r})}(u,n);return{msgData:(0,i.default)((0,i.default)({},n),{},{type:s.MSG_TYPE.UNKNOWN,subtype:"payment_transaction_request_cancelled",paymentRequestMessageKey:d}),contextInfo:null}};var i=r(n(81109)),o=n(54468),a=r(n(60001)),s=n(73602),l=n(3885),c=r(n(89482))},46037:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{declinePaymentRequestMessage:r}=t;if(null==r)return;const c=function(e,t){if(!e)throw(0,l.default)("parseProtocolMessageProto: no message key is defined for decline payment request message");const{id:n}=e;if(!n)throw(0,l.default)("parseProtocolMessageProto: no message id is defined for decline payment request message");let r;var i;if(t.id.remote.isGroup()){if(!t.id.fromMe&&!(null===(i=(0,o.decodeJid)(e.participant))||void 0===i?void 0:i.equals((0,s.getMeUser)()))&&"send"!==t.subtype)return null;r=(0,o.decodeJid)(e.participant)}return new a.default({fromMe:!t.id.fromMe,remote:t.id.remote,id:n,participant:r})}(r.key,n);return{msgData:(0,i.default)((0,i.default)({},n),{},{type:"unknown",subtype:"payment_action_request_declined",paymentRequestMessageKey:c}),contextInfo:null}};var i=r(n(81109)),o=n(54468),a=r(n(60001)),s=(n(73602),n(3885)),l=r(n(89482))},68732:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{paymentInviteMessage:r}=t;if(null==r)return;if(r.serviceType===s.Message$PaymentInviteMessage$ServiceType.NOVI)return __LOG__(2)`[payment-invite] parsePaymentInviteMessageProto: does not support novi transactions`,{msgData:(0,i.default)((0,i.default)({},n),{},{subtype:"phone_only_feature"}),contextInfo:null};return __LOG__(2)`[payment-invite] render payment invite of type ${r.serviceType}`,{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.PAYMENT,subtype:"invite",paymentExpiryTimestamp:(0,o.maybeNumberOrThrowIfTooLarge)(r.expiryTimestamp),paymentInviteServiceType:r.serviceType}),contextInfo:null}};var i=r(n(81109)),o=n(22101),a=n(73602),s=n(77026)},79692:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let{messageProtobuf:r,baseMessage:d,paymentInfo:_}=e;const{requestPaymentMessage:p}=r;if(null==p)return;const f=null===(t=p.noteMessage)||void 0===t||null===(n=t.extendedTextMessage)||void 0===n?void 0:n.contextInfo;if((null==_?void 0:_.futureproofed)||(0,l.hasUnsupportedCurrency)(_))return __LOG__(2)`parseRequestPaymentMessageProto: does not support novi transactions`,{msgData:(0,i.default)((0,i.default)({},d),{},{type:c.MSG_TYPE.PAYMENT,subtype:"phone_only_feature"}),contextInfo:f};const{background:E,noteMessage:A}=p,g=null!=(null==A?void 0:A.extendedTextMessage)||null!=(null==A?void 0:A.conversation)||null!=(null==A?void 0:A.stickerMessage),h=A&&g?(0,s.parseMsgProto)(A,{}):void 0,S=null!=_?(0,l.parseMsgPaymentInfo)(_):{};if(null==p.amount)null!=p.currencyCodeIso4217&&null==S.paymentCurrency&&(S.paymentCurrency=p.currencyCodeIso4217),null!=p.amount1000&&null==S.paymentAmount1000&&(S.paymentAmount1000=(0,o.numberOrThrowIfTooLarge)(p.amount1000));else if(null!=p.amount.currencyCode&&null==S.paymentCurrency&&(S.paymentCurrency=p.amount.currencyCode),null!=p.amount.value&&null==S.paymentAmount1000){const e=p.amount,t=null==e.offset||0===e.offset?1e3:e.offset;S.paymentAmount1000=1e3*parseFloat(e.value)/t}null!=p.requestFrom&&null==(null==S?void 0:S.paymentMessageReceiverJid)&&(S.paymentMessageReceiverJid=(0,l.decodeJid)(p.requestFrom));null!=(null==S?void 0:S.paymentStatus)&&null!=(null==S?void 0:S.paymentTxnStatus)||!(0,l.isEitherSenderOrReceiverOfPaymentMessage)(d.id,(0,a.default)(S.paymentMessageReceiverJid,"paymentInfoData.paymentMessageReceiverJid"))||(S.paymentStatus=u.PaymentInfo$Status.WAITING,S.paymentTxnStatus=u.PaymentInfo$TxnStatus.COLLECT_INIT);null!=p.expiryTimestamp&&null==(null==S?void 0:S.paymentExpiryTimestamp)&&(S.paymentExpiryTimestamp=(0,o.numberOrThrowIfTooLarge)(p.expiryTimestamp));if(!g)return{msgData:(0,i.default)((0,i.default)((0,i.default)({},d),{},{type:c.MSG_TYPE.PAYMENT,subtype:"futureproof"},S),{},{paymentBackground:E}),contextInfo:f};return{msgData:(0,i.default)((0,i.default)((0,i.default)({},d),{},{type:c.MSG_TYPE.PAYMENT,subtype:"request"},S),{},{paymentBackground:E,paymentNoteMsg:h}),contextInfo:f}};var i=r(n(81109)),o=n(22101),a=r(n(49619)),s=n(18431),l=n(54468),c=n(73602),u=n(38601)},22260:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let{messageProtobuf:r,baseMessage:d,paymentInfo:_}=e;const{sendPaymentMessage:p}=r;if(null==p)return;const f=null===(t=p.noteMessage)||void 0===t||null===(n=t.extendedTextMessage)||void 0===n?void 0:n.contextInfo;if(!0===(null==_?void 0:_.futureproofed)||(0,a.hasUnsupportedCurrency)(_))return __LOG__(2)`parseSendPaymentMessageProto: does not support novi transactions`,{msgData:(0,i.default)((0,i.default)({},d),{},{type:"unknown",subtype:"phone_only_feature"}),contextInfo:f};const{background:E,noteMessage:A,requestMessageKey:g}=p,h=null!=(null==A?void 0:A.extendedTextMessage)||null!=(null==A?void 0:A.conversation)||null!=(null==A?void 0:A.stickerMessage),S=h?"send":"futureproof",T=A&&h?(0,o.parseMsgProto)(A,{}):void 0,m=null!=_?(0,a.parseMsgPaymentInfo)(_):null,I=g?function(e,t,n){if(!e)throw(0,u.default)("getPaymentRequestMessageKey: no message key is defined");const{id:r}=e;if(!r)throw(0,u.default)("getPaymentRequestMessageKey: no key id is defined");if(!t)return __LOG__(3)`getPaymentRequestMessageKey: no message id is defined`,null;let i;var o;if(t.remote.isGroup()){if(!t.fromMe&&!(null===(o=(0,a.decodeJid)(e.participant))||void 0===o?void 0:o.equals((0,c.getMeUser)()))&&"send"!==n)return null;i=(0,a.decodeJid)(e.participant)}return new s.default({fromMe:!t.fromMe,remote:t.remote,id:r,participant:i})}(g,d.id,S):null;if(!h)return{msgData:(0,i.default)((0,i.default)((0,i.default)({},d),{},{type:l.MSG_TYPE.PAYMENT,subtype:"futureproof"},m),{},{paymentBackground:E,paymentRequestMessageKey:I}),contextInfo:f};return{msgData:(0,i.default)((0,i.default)((0,i.default)({},d),{},{type:l.MSG_TYPE.PAYMENT,subtype:"send"},m),{},{paymentBackground:E,paymentRequestMessageKey:I,paymentNoteMsg:T}),contextInfo:f}};var i=r(n(81109)),o=n(18431),a=n(54468),s=r(n(60001)),l=n(73602),c=n(3885),u=r(n(89482))},82068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("orphan-payment-notification").version((0,i.orphanPaymentNotificationCreateTable)(),[n("msgKey"),t("receiver"),t("currency"),t("amount1000"),t("type"),t("status"),t("ts")]).view((e=>e))},t.getTable=function(){return(0,r.getStorage)().table("orphan-payment-notification")};var r=n(74557),i=n(20746),o=n(65717)},23228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n}=(0,o.columnBuilder)(e.config);e.add("payment-backgrounds").version((0,i.paymentBackgroundsCreateTable)(),[n("id"),t("imageBuffer")]).view((e=>e))},t.getTable=function(){return(0,r.getStorage)().table("payment-backgrounds")};var r=n(74557),i=n(20746),o=n(65717)},74941:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createOrUpdatePinInChat=p,t.getPinInChatByChatId=function(){return E.apply(this,arguments)},t.getPinInChatByParentKey=function(){return f.apply(this,arguments)},t.removePinInChatByParentMsgKeys=function(e){return(0,l.getStorage)().lock(["pinned-messages"],function(){var t=(0,o.default)((function*(t){let[n]=t;yield n.bulkRemove(e)}));return function(){return t.apply(this,arguments)}}())},t.storePinInChatMsgBulk=function(e){const t=e.map(d.serializePinInChat);t.map((e=>`${e.msgKey.toString()} to ${e.parentMsgKey}`)).toString();const n=(0,a.groupBy)(t,(e=>e.chatId));return Promise.all(n.map((e=>{let[t,n]=e;return p((0,_.createWid)(t),n)}))).then((e=>Array.prototype.concat(...e)))};var i=r(n(81109)),o=r(n(48926)),a=n(20170),s=n(83741),l=n(74557),c=n(11333),u=n(72491),d=n(96513),_=n(51017);function p(e,t){const n=new Map;return t.forEach((e=>{const{parentMsgKey:t}=e,r=t,i=n.get(r);(!i||(null==i?void 0:i.senderTimestampMs)<=e.senderTimestampMs)&&n.set(r,e)})),(0,l.getStorage)().lock(["pinned-messages"],function(){var t=(0,o.default)((function*(t){let[r]=t;const o=yield r.anyOf(["chatId"],[e.toString()]);o.forEach((e=>{const t=e.parentMsgKey,r=n.get(t);r&&r.senderTimestampMs<=e.senderTimestampMs&&n.delete(t)}));const a=new Map(o.map((e=>[e.parentMsgKey,e])));n.forEach(((e,t)=>{a.set(t,e)}));Array.from(a.values()).filter((e=>e.pinType===u.PIN_STATE.PIN)).sort(((e,t)=>t.senderTimestampMs-e.senderTimestampMs)).slice((0,s.getABPropConfigValue)("pinned_messages_m2_pin_max")).forEach((e=>{n.set(e.parentMsgKey,(0,i.default)((0,i.default)({},e),{},{pinType:u.PIN_STATE.UNPIN}))}));const l=Array.from(n.values());return yield r.bulkCreateOrReplace(l),l}));return function(){return t.apply(this,arguments)}}())}function f(){return(f=(0,o.default)((function*(e){const t=yield(0,c.getTable)().get(e.toString());return null==t?null:(0,d.deserializePinInChat)(t)}))).apply(this,arguments)}function E(){return(E=(0,o.default)((function*(e){return(yield(0,c.getTable)().equals(["chatId"],e.toString())).map(d.deserializePinInChat)}))).apply(this,arguments)}},15553:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.genSystemMessage=v,t.groupAndProcessPinMessages=function(){return I.apply(this,arguments)},t.processPinMessages=y;var i=r(n(48926)),o=n(20170),a=r(n(49619)),s=n(1619),l=n(74941),c=n(87946),u=n(37653),d=n(26368),_=r(n(60001)),p=n(73602),f=n(96513),E=n(77026),A=n(3885),g=n(51017);function h(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){const t=e.map((e=>e.pinParentKey)).filter(Boolean).map((e=>e.toString())),n=yield(0,c.getMsgsByMsgKey)(t);return new Map(n.map((e=>[e.id.toString(),e])))}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e){const{storeMessageOrphans:t}=n(6751);yield t(e,(e=>(0,a.default)(e.pinParentKey,"pin.pinParentKey")))}))).apply(this,arguments)}function I(){return(I=(0,i.default)((function*(e){const t=(0,o.groupBy)(e,(e=>e.id.remote.toString()));yield Promise.all(t.map((e=>{let[t,n]=e;return y((0,g.createWid)(t),n)})))}))).apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return(C=(0,i.default)((function*(e,t){const n=yield h(t),r=[],i=[];for(const e of t){n.get((0,a.default)(e.pinParentKey,"pin.pinParentKey").toString())?i.push(e):r.push(e)}if(r.length>0&&(yield T(r)),i.length>0){const t=yield(0,s.frontendSendAndReceive)("updatePinCollection",{chatId:e,msgs:i});t&&(yield(0,l.createOrUpdatePinInChat)(e,t.map((e=>(0,f.serializePinInChat)(e)))));const n=yield Promise.all(i.map((t=>t.pinMessageType===E.Message$PinInChatMessage$Type.PIN_FOR_ALL?v(e,(0,a.default)(t.t,"msg.t"),(0,a.default)((0,d.getSender)(t),"getSender(msg)")):null)).filter(Boolean));(yield(0,s.frontendSendAndReceive)("processMultipleMessages",{chatId:e,msgObjs:n,meta:{add:"after",isHistory:!1},processMessagesOrigin:"pinMessage"}))&&(yield(0,u.storeMessages)(n,e))}}))).apply(this,arguments)}function v(){return O.apply(this,arguments)}function O(){return(O=(0,i.default)((function*(e,t,n){const r=(0,A.getMeUser)(),i=n.equals(r);return{id:new _.default({id:yield _.default.newId(),fromMe:i,remote:e,participant:n}),author:n,from:e,recipients:[],self:i?"out":"in",t,type:p.MSG_TYPE.PINNED_MESSAGE,templateParams:[n]}}))).apply(this,arguments)}},96513:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.deserializePinInChat=function(e){return(0,i.default)((0,i.default)({},e),{},{msgKey:a.default.fromString(e.msgKey),parentMsgKey:a.default.fromString(e.parentMsgKey),chatId:(0,l.toChatWid)((0,l.createWid)(e.chatId)),sender:(0,l.createUserWid)(e.sender)})},t.deserializePinInChatMsgData=function(e){return{id:a.default.fromString(e.msgKey),type:s.MSG_TYPE.PIN_MESSAGE,from:(0,l.createUserWid)(e.sender),to:(0,l.createWid)(e.chatId),ack:e.ack,t:e.t,read:e.read,pinSenderTimestampMs:e.senderTimestampMs,pinParentKey:a.default.fromString(e.parentMsgKey),pinMessageType:e.pinType,pinExpiryDuration:e.pinExpiryDuration}},t.serializePinInChat=function(e){return(0,i.default)((0,i.default)({},e),{},{msgKey:e.msgKey.toString(),parentMsgKey:e.parentMsgKey.toString(),chatId:e.chatId.toString(),sender:e.sender.toString()})},t.serializePinInChatMsgData=function(e){var t;return{msgKey:e.id.toString(),ack:e.ack,t:e.t,read:e.read,parentMsgKey:e.pinParentKey.toString(),senderTimestampMs:e.pinSenderTimestampMs,chatId:e.id.remote.toString(),sender:(0,o.default)(null!==(t=e.author)&&void 0!==t?t:e.from,"pin.author ?? pin.from").toString(),pinType:e.pinMessageType,pinExpiryDuration:e.pinExpiryDuration}};var i=r(n(81109)),o=r(n(49619)),a=r(n(60001)),s=n(73602),l=n(51017)},60562:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseWebMsgInfoPinInChat=function(e,t){const n=[];try{if(null==e||null==e.pinInChat)return n;if(null==t||null==t.pinInChat)return n;const{pinInChat:r}=t,{key:c,type:u,senderTimestampMs:d,serverTimestampMs:_,messageAddOnContextInfo:p}=r,f=!!c.fromMe,E=(0,i.decodeJid)(c.remoteJid);let A;c.fromMe?E.isUser()||(A=(0,a.getMeUser)()):A=(0,i.decodeJid)(c.participant);const g=new o.default({id:c.id,fromMe:f,remote:E,participant:A}),h=(0,a.getMeUser)(),S=g.participant||g.remote,T=(0,l.toUserWid)(!0===f?h:S);null!=T&&T instanceof s.default?n.push({msgKey:g,parentMsgKey:t.id,chatId:(0,l.toChatWid)(g.remote),senderTimestampMs:d,t:_,pinType:u,sender:T,pinExpiryDuration:null==p?void 0:p.messageAddOnDurationInSecs}):__LOG__(4,void 0,new Error)`parseWebMsgInfoPinInChat: pinInChat sender should be a wid.`}catch(e){__LOG__(4,void 0,new Error)`[history sync] parseWebMsgInfoPinInChat failed with error ${null==e?void 0:e.name} and stack ${null==e?void 0:e.stack}`}return n};var i=n(54468),o=r(n(60001)),a=n(3885),s=r(n(27112)),l=n(51017)},50575:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{messageProtobuf:n,baseMessage:r}=e;const{pinInChatMessage:_}=n;if(null==_)return;if(!(0,u.isPinnedMessagesM1ReceiverEnabled)())return{msgData:(0,i.default)((0,i.default)({},r),{},{type:l.MSG_TYPE.UNKNOWN,futureproofType:l.MSG_TYPE.PIN_MESSAGE}),contextInfo:null};const p=(0,s.getMsgKey)(_.key,r);if(null==p||r.id.remote.toString()!==p.remote.toString())throw new c.PinInChatValidationError(c.PinInChatValidationErrorCode.INVALID_PIN_IN_CHAT_MSG_REMOTE,d.E2E_FAILURE_REASON.INVALID_MESSAGE);const f=null===(t=n.messageContextInfo)||void 0===t?void 0:t.messageAddOnDurationInSecs;if(null!=f&&(f<0||f>60*a.DAY_SECONDS))throw new c.PinInChatValidationError(c.PinInChatValidationErrorCode.INVALID_PIN_IN_CHAT_EXPIRY_DURATION,d.E2E_FAILURE_REASON.INVALID_MESSAGE);const E=_.type;if(null==E)throw new c.PinInChatValidationError(c.PinInChatValidationErrorCode.MISSING_TYPE,d.E2E_FAILURE_REASON.INVALID_MESSAGE);const A=(0,o.maybeNumberOrThrowIfTooLarge)(_.senderTimestampMs);if(null==A)throw new c.PinInChatValidationError(c.PinInChatValidationErrorCode.MISSING_SENDER_TIMESTAMP,d.E2E_FAILURE_REASON.INVALID_MESSAGE);return{msgData:(0,i.default)((0,i.default)({},r),{},{type:l.MSG_TYPE.PIN_MESSAGE,pinParentKey:p,pinMessageType:E,pinSenderTimestampMs:A,pinExpiryDuration:f}),contextInfo:null}};var i=r(n(81109)),o=n(22101),a=n(29987),s=n(54468),l=n(73602),c=n(17834),u=n(61627),d=n(8414)},17834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinInChatValidationErrorCode=t.PinInChatValidationError=void 0;var r=n(22495);const i=n(76672)({INVALID_PIN_IN_CHAT_EXPIRY_DURATION:"pin_in_chat_invalid_expiry_duration",INVALID_PIN_IN_CHAT_MSG_REMOTE:"pin_in_chat_invalid_msg_remote",MISSING_TYPE:"pin_in_chat_missing_type",MISSING_SENDER_TIMESTAMP:"pin_in_chat_missing_timestamp"});t.PinInChatValidationErrorCode=i;class o extends r.MessageValidationError{constructor(){super(...arguments),this.name="PinInChatValidationError"}}t.PinInChatValidationError=o},11333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addUserDefinedPrimaryKey:n,addIndex:a}=(0,o.columnBuilder)(e.config);e.add("pinned-messages").version((0,i.pinInChatCreateTable)(),[n("parentMsgKey"),t("chatId"),t("msgKey"),t("senderTimestampMs"),t("ack"),t("t"),t("pinType"),t("pinExpiryDuration"),t("sender"),a("msgKey"),a("chatId")]).view((e=>e))},t.getTable=function(){return(0,r.getStorage)().table("pinned-messages")};var r=n(74557),i=n(20746),o=n(65717)},61627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPinnedMessagesM1ReceiverEnabled=function(){return(0,r.getABPropConfigValue)("pinned_messages_m1_receiver")},t.isPinnedMessagesM1SenderEnabled=function(){return(0,r.getABPropConfigValue)("pinned_messages_m1_sender")},t.isPinnedMessagesM2Enabled=function(){return(0,r.getABPropConfigValue)("pinned_messages_m2")};var r=n(83741)},72491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinExpiryDurationOption=t.PIN_STATE=void 0;t.PIN_STATE={INVALID:0,PIN:1,UNPIN:2};const r=n(76672).Mirrored(["FiveSeconds","FifteenSeconds","OneMinute","OneDay","SevenDays","ThirtyDays"]);t.PinExpiryDurationOption=r},23800:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteVotesByParentMsgKeys=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(89688),a=n(6431);function s(){return(s=(0,i.default)((function*(e){const t=yield(0,a.getTable)().anyOf(["parentMsgKey"],e);if(0===t.length)return;const n=t.map((e=>e.msgKey)),r=t.map((e=>[e.parentMsgKey,e.sender])),i=yield Promise.allSettled([(0,o.removeMessagesFromHistory)(n),(0,a.getTable)().bulkRemove(r)]);for(const e of i)if("rejected"===e.status)throw e.reason}))).apply(this,arguments)}},78013:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getParentMessages=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=r(n(49619)),a=n(87946),s=n(73602),l=n(463),c=n(17167);function u(){return(u=(0,i.default)((function*(e){const t=new Set(e.map(d)),{matParentMsgKeys:n,alternateWidMap:r}=(0,c.getAlternateWidMapForPolls)(e);n.forEach((e=>{t.add(e)}));const i=yield(0,a.getMsgsByMsgKey)(Array.from(t)),o=new Map(i.map((e=>[e.id.toString(),e]))),u=new Map,_=[];for(const t of e){let e=o.get(d(t));if(null==e&&(0,l.isMatFullyEnabled)()){const n=r.get(d(t));null!=n&&(e=o.get(n.id.toString()))}null==e||e.type===s.MSG_TYPE.UNKNOWN?_.push(t):u.set(t,e)}return{pollUpdateMsgsToParentMsgs:u,orphans:_}}))).apply(this,arguments)}function d(e){return(0,o.default)(e.pollUpdateParentKey,"pollUpdateMsgData.pollUpdateParentKey").toString()}},32602:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.upsertVotesDb=function(e){const t=(0,a.maxPerGroup)(e,(e=>e.senderTimestampMs),c.getVoteKey);return(0,s.getStorage)().lock(["poll-votes"],function(){var e=(0,o.default)((function*(e){let[n]=e;const r=yield n.anyOf(["parentMsgKey","sender"],t.map((e=>[e.parentMsgKey.toString(),e.sender.toString()]))),o=new Map;for(const e of r)o.set((0,c.getVoteKey)(e),e);const a=[],s=[];for(const e of t){var u;const t=o.get((0,c.getVoteKey)(e));if(null!=t&&t.senderTimestampMs>e.senderTimestampMs){a.push((0,l.voteFromDbRow)(t));continue}const n=0===e.selectedOptionLocalIds.length,r=null!==(u=null==t?void 0:t.read)&&void 0!==u&&u,d=!n&&r&&e.read!==r?(0,i.default)((0,i.default)({},e),{},{read:!0}):e;a.push(d),s.push((0,l.dbRowFromVote)(d))}return s.length>0&&(yield n.bulkCreateOrReplace(s)),a}));return function(){return e.apply(this,arguments)}}())};var i=r(n(81109)),o=r(n(48926)),a=n(80154),s=n(74557),l=n(28992),c=n(61529)},662:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.compressPollOptions=function(e){return null==e?void 0:e.slice().sort(((e,t)=>e.localId-t.localId)).map(((e,t)=>{let{localId:n,name:r}=e;return(0,o.default)(n===t,"Unexpected local ID"),{name:r}}))},t.expandPollOptions=function(e){return null==e?void 0:e.map(((e,t)=>{let{name:n}=e;return{name:(0,i.default)(n,"name"),localId:t}}))};var i=r(n(49619)),o=r(n(41143))},28992:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.dbRowFromVote=function(e){const t={msgKey:e.msgKey.toString(),parentMsgKey:e.parentMsgKey.toString(),selectedOptionLocalIds:new Uint8Array(e.selectedOptionLocalIds).buffer,senderTimestampMs:e.senderTimestampMs,sender:e.sender.toString(),read:e.read};null!=e.t&&(t.t=e.t);null!=e.ack&&(t.ack=e.ack);return t},t.voteFromDbRow=function(e){var t;return{msgKey:i.default.fromString(e.msgKey),parentMsgKey:i.default.fromString(e.parentMsgKey),selectedOptionLocalIds:Array.from(new Uint8Array(e.selectedOptionLocalIds)),senderTimestampMs:e.senderTimestampMs,t:e.t,sender:(0,o.createUserWid)(e.sender),ack:e.ack,read:null===(t=e.read)||void 0===t||t}};var i=r(n(60001)),o=n(51017)},68569:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.extractVotes=function(){return E.apply(this,arguments)};var i=r(n(48926)),o=r(n(49619)),a=n(63020),s=n(26368),l=n(79038),c=n(32528),u=n(67550),d=n(72239),_=n(3885),p=n(8414),f=n(51017);function E(){return(E=(0,i.default)((function*(e){return(yield Promise.allSettled(Array.from(e.entries()).map((e=>{let[t,n]=e;return A(t,n)})))).map((e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":{const{reason:t}=e;if(t instanceof u.PollVoteValidationError)return __LOG__(4,void 0,new Error,!0)`Poll vote extraction failed: ${t.code}`,void SEND_LOGS(t.code);__LOG__(4,void 0,new Error,!0)`Poll vote extraction failed: ${t.message}\n${t.stack}`,SEND_LOGS("poll-vote-extraction-unknown-error")}}})).filter(Boolean)}))).apply(this,arguments)}function A(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e,t){if(null==t.messageSecret)throw new a.MessageSecretErrorsWamEvent({messageSecretAllowedList:p.MESSAGE_SECRET_ALLOWED_TYPE.MESSAGE_POLL,messageSecretError:p.MESSAGE_SECRET_ERROR_TYPE.MISSING_MESSAGE_SECRET}).commit(),new u.PollCreationValidationError(u.PollCreationValidationErrorCode.MISSING_MESSAGE_SECRET,p.E2E_FAILURE_REASON.MISSING_MESSAGE_SECRET);const n=(0,o.default)(t.messageSecret,"parentMsg.messageSecret"),r=(0,o.default)(t.pollSelectableOptionsCount,"parentMsg.pollSelectableOptionsCount"),i=(0,o.default)(t.pollOptions,"parentMsg.pollOptions"),E=(0,o.default)(e.encPollVote,"pollUpdateMsg.encPollVote");if(32!==n.byteLength)throw new a.MessageSecretErrorsWamEvent({messageSecretAllowedList:p.MESSAGE_SECRET_ALLOWED_TYPE.MESSAGE_POLL,messageSecretError:p.MESSAGE_SECRET_ERROR_TYPE.WRONG_LENGTH}).commit(),new u.PollVoteValidationError(u.PollVoteValidationErrorCode.INVALID_MESSAGE_SECRET);const A=(0,f.toUserWid)((0,s.getSender)(e)),g=yield(0,d.decryptVote)({encryptedVote:E.encPayload,iv:E.encIv,messageSecret:n,stanzaId:t.id.id,pollCreationOriginalSender:(0,s.getOriginalSender)(t),voteSender:A}),h=g.selectedOptions.length;if(h>i.length||0!==r&&h>r)throw new u.PollVoteValidationError(u.PollVoteValidationErrorCode.INVALID_OPTIONS_COUNT);if(g.selectedOptions.some((e=>32!==e.byteLength)))throw new u.PollVoteValidationError(u.PollVoteValidationErrorCode.INVALID_OPTION);const S=yield(0,l.createOptionLocalIdMap)(i);if(!S.includesHashes(g.selectedOptions))throw new u.PollVoteValidationError(u.PollVoteValidationErrorCode.OPTION_NOT_FOUND);return(0,c.voteFromProtobuf)({voteProtobuf:g,pollVoteMsgKey:e.id,parentMsgKey:(0,o.default)(e.pollUpdateParentKey,"pollUpdateMsg.pollUpdateParentKey"),sender:A,senderTimestampMs:(0,o.default)(e.senderTimestampMs,"pollUpdateMsg.senderTimestampMs"),t:(0,o.default)(e.t,"pollUpdateMsg.t"),optionLocalIdMap:S,ack:e.ack,read:(0,_.isMeAccount)(A)})}))).apply(this,arguments)}},75661:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let{messageProtobuf:r,baseMessage:u,msgContext:d}=e;const{pollCreationMessage:_,pollCreationMessageV2:p,pollCreationMessageV3:f}=r,E=null!==(t=null!=_?_:p)&&void 0!==t?t:f;if(null==E)return null;if(E===p&&!(0,s.isPollsReceivingEnabledInCags)())return null;if(E===f&&!(0,s.isSingleOptionPollsReceivingEnabled)())return null;const{name:A,options:g,selectableOptionsCount:h,contextInfo:S}=E;if(null==A)throw new l.PollCreationValidationError(l.PollCreationValidationErrorCode.MISSING_NAME,c.E2E_FAILURE_REASON.INVALID_MESSAGE);if(0===A.length||A.length>(0,s.getMaxPollNameLengthForIncomingMessages)())throw new l.PollCreationValidationError(l.PollCreationValidationErrorCode.INVALID_NAME,c.E2E_FAILURE_REASON.INVALID_MESSAGE);if("quoted"===d){return{msgData:(0,i.default)((0,i.default)({},u),{},{type:a.MSG_TYPE.POLL_CREATION,pollName:A,pollOptions:null,pollSelectableOptionsCount:null}),contextInfo:S}}const T=null===(n=r.messageContextInfo)||void 0===n?void 0:n.messageSecret;if(null==T)throw new o.MessageSecretErrorsWamEvent({messageSecretAllowedList:c.MESSAGE_SECRET_ALLOWED_TYPE.MESSAGE_POLL,messageSecretError:c.MESSAGE_SECRET_ERROR_TYPE.MISSING_MESSAGE_SECRET}).commit(),new l.PollCreationValidationError(l.PollCreationValidationErrorCode.MISSING_MESSAGE_SECRET,c.E2E_FAILURE_REASON.MISSING_MESSAGE_SECRET);if(32!==T.byteLength)throw new o.MessageSecretErrorsWamEvent({messageSecretAllowedList:c.MESSAGE_SECRET_ALLOWED_TYPE.MESSAGE_POLL,messageSecretError:c.MESSAGE_SECRET_ERROR_TYPE.WRONG_LENGTH}).commit(),new l.PollCreationValidationError(l.PollCreationValidationErrorCode.INVALID_MESSAGE_SECRET,c.E2E_FAILURE_REASON.MESSAGE_SECRET_INVALID);if(null==g)throw new l.PollCreationValidationError(l.PollCreationValidationErrorCode.MISSING_OPTIONS,c.E2E_FAILURE_REASON.INVALID_MESSAGE);if(null==h)throw new l.PollCreationValidationError(l.PollCreationValidationErrorCode.MISSING_SELECTABLE_OPTIONS_COUNT,c.E2E_FAILURE_REASON.INVALID_MESSAGE);const m=new Set,I=g.map((e=>{let{optionName:t}=e;if(null==t||0===t.length||t.length>(0,s.getMaxPollOptionLengthForIncomingMessages)())throw new l.PollCreationValidationError(l.PollCreationValidationErrorCode.INVALID_OPTION,c.E2E_FAILURE_REASON.INVALID_MESSAGE);if(m.has(t))return __LOG__(3,void 0,void 0,!0,["polls"])`PollCreationValidationWarning: ${l.PollCreationValidationWarningCode.DUPLICATE_OPTIONS}`,SEND_LOGS(l.PollCreationValidationWarningCode.DUPLICATE_OPTIONS,1,"polls"),null;const n=m.size;return m.add(t),{name:t,localId:n}})).filter(Boolean);if(I.length<2||I.length>(0,s.getMaxPollOptionCount)())throw new l.PollCreationValidationError(l.PollCreationValidationErrorCode.INVALID_OPTIONS_COUNT,c.E2E_FAILURE_REASON.INVALID_MESSAGE);if(h<0||h>I.length)throw new l.PollCreationValidationError(l.PollCreationValidationErrorCode.INVALID_SELECTABLE_OPTIONS_COUNT,c.E2E_FAILURE_REASON.INVALID_MESSAGE);return{msgData:(0,i.default)((0,i.default)({},u),{},{type:a.MSG_TYPE.POLL_CREATION,pollName:A,pollOptions:I,pollSelectableOptionsCount:h}),contextInfo:S}};var i=r(n(81109)),o=n(63020),a=n(73602),s=n(17703),l=n(67550),c=n(8414)},65563:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{pollUpdateMessage:r}=t;if(!r)return null;const{$$unknownFieldCount:u=0,vote:d,senderTimestampMs:_}=r;if(u>0)return null;if(null==r.pollCreationMessageKey)throw new l.PollUpdateValidationError(l.PollUpdateValidationErrorCode.MISSING_POLL_MESSAGE_KEY,c.E2E_FAILURE_REASON.MISSING_MESSAGE_SECRET);if(null==_)throw new l.PollUpdateValidationError(l.PollUpdateValidationErrorCode.MISSING_SENDER_TIMESTAMP,c.E2E_FAILURE_REASON.INVALID_MESSAGE);if(null==d)throw new l.PollUpdateValidationError(l.PollUpdateValidationErrorCode.MISSING_UPDATE,c.E2E_FAILURE_REASON.INVALID_MESSAGE);const{encPayload:p,encIv:f}=d;if(null==p)throw new l.PollUpdateValidationError(l.PollUpdateValidationErrorCode.MISSING_VOTE_ENC_PAYLOAD,c.E2E_FAILURE_REASON.INVALID_MESSAGE);if(null==f)throw new l.PollUpdateValidationError(l.PollUpdateValidationErrorCode.MISSING_VOTE_ENC_IV,c.E2E_FAILURE_REASON.INVALID_MESSAGE);if(12!==f.byteLength)throw new l.PollUpdateValidationError(l.PollUpdateValidationErrorCode.INVALID_VOTE_ENC_IV,c.E2E_FAILURE_REASON.INVALID_MESSAGE);return{msgData:(0,i.default)((0,i.default)({},n),{},{type:s.MSG_TYPE.POLL_UPDATE,subtype:"poll_vote",pollUpdateParentKey:(0,a.getMsgKey)(r.pollCreationMessageKey,n),encPollVote:{encPayload:p,encIv:f},senderTimestampMs:(0,o.numberOrThrowIfTooLarge)(_)}),contextInfo:null}};var i=r(n(81109)),o=n(22101),a=n(54468),s=n(73602),l=n(67550),c=n(8414)},67550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollVoteValidationErrorCode=t.PollVoteValidationError=t.PollUpdateValidationErrorCode=t.PollUpdateValidationError=t.PollCreationValidationWarningCode=t.PollCreationValidationErrorCode=t.PollCreationValidationError=void 0;var r=n(66911),i=n(22495);const o=n(76672)({DUPLICATE_OPTIONS:"poll_creation_duplicate_options"});t.PollCreationValidationWarningCode=o;const a=n(76672)({INVALID_MESSAGE_SECRET:"poll_creation_invalid_message_secret",INVALID_NAME:"poll_creation_invalid_name",INVALID_OPTIONS_COUNT:"poll_creation_invalid_options_count",INVALID_OPTION:"poll_creation_invalid_option",INVALID_SELECTABLE_OPTIONS_COUNT:"poll_creation_invalid_selectable_options_count",MISSING_MESSAGE_SECRET:"poll_creation_missing_message_secret",MISSING_NAME:"poll_creation_missing_name",MISSING_OPTIONS:"poll_creation_missing_options",MISSING_SELECTABLE_OPTIONS_COUNT:"poll_creation_missing_selectable_options_count"});t.PollCreationValidationErrorCode=a;class s extends i.MessageValidationError{constructor(){super(...arguments),this.name="PollCreationValidationError"}}t.PollCreationValidationError=s;const l=n(76672)({INVALID_VOTE_ENC_IV:"poll_update_invalid_vote_enc_iv",MISSING_POLL_MESSAGE_KEY:"poll_update_missing_poll_message_key",MISSING_SENDER_TIMESTAMP:"poll_update_missing_sender_timestamp",MISSING_UPDATE:"poll_update_missing_update",MISSING_VOTE_ENC_IV:"poll_update_missing_vote_enc_iv",MISSING_VOTE_ENC_PAYLOAD:"poll_update_missing_vote_enc_payload",MESSAGE_STANZA_INVALID:"poll_update_message_stanza_invalid"});t.PollUpdateValidationErrorCode=l;class c extends i.MessageValidationError{constructor(){super(...arguments),this.name="PollUpdateValidationError"}}t.PollUpdateValidationError=c;const u=n(76672)({INVALID_MESSAGE_SECRET:"poll_vote_invalid_message_secret",INVALID_OPTION:"poll_vote_invalid_option",INVALID_OPTIONS_COUNT:"poll_vote_invalid_options_count",OPTION_NOT_FOUND:"poll_vote_option_not_found"});t.PollVoteValidationErrorCode=u;class d extends((0,r.customError)("PollVoteValidationError")){constructor(e){super(e),this.code=e}}t.PollVoteValidationError=d},6431:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addCompositePrimaryKey:n,addEncryptedColumn:s,addIndex:l}=(0,o.columnBuilder)(e.config);e.add("poll-votes").version((0,i.pollVotesCreateTable)(),[n(["parentMsgKey","sender"]),t("msgKey"),l("parentMsgKey"),s("selectedOptionLocalIds",a.ENCRYPTED_VALUE_TYPE.ARRAY_BUFFER),t("senderTimestampMs"),t("ack"),t("t"),t("read")]).version((0,i.pollVotesAddMsgKeyIndex)(),[l("msgKey")]).view((e=>e))},t.getTable=function(){return(0,r.getStorage)().table("poll-votes")};var r=n(74557),i=n(20746),o=n(65717),a=n(8065)},79038:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createOptionLocalIdMap=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(65982),a=r(n(49619));function s(){return(s=(0,i.default)((function*(e){const t=yield Promise.all(e.map(function(){var e=(0,i.default)((function*(e){const t=yield l(e);return{hash:t,hexHash:(0,o.toHex)(new Uint8Array(t)),localId:e.localId}}));return function(){return e.apply(this,arguments)}}())),n=new Map,r=new Map;for(const{hash:e,hexHash:i,localId:o}of t)n.set(i,o),r.set(o,e);return{getLocalIdForHash:e=>(0,a.default)(n.get((0,o.toHex)(new Uint8Array(e))),"hexHashesToLocalIds.get(toHex(new Uint8Array(hash)))"),getHashForLocalId:e=>(0,a.default)(r.get(e),"localIdsToHexHashes.get(localId)"),includesHashes:e=>e.every((e=>n.has((0,o.toHex)(new Uint8Array(e)))))}}))).apply(this,arguments)}function l(e){return self.crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e.name))}},61529:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVoteKey=function(e){return`${e.parentMsgKey.toString()},${e.sender.toString()}`}},32528:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.protobufFromVote=function(){return l.apply(this,arguments)},t.voteFromProtobuf=function(e){let{voteProtobuf:t,pollVoteMsgKey:n,parentMsgKey:r,sender:i,senderTimestampMs:s,t:l,optionLocalIdMap:c,ack:u,read:d}=e;return{msgKey:n,parentMsgKey:(0,a.default)(r,"parentMsgKey"),selectedOptionLocalIds:t.selectedOptions.map(c.getLocalIdForHash),senderTimestampMs:(0,o.numberOrThrowIfTooLarge)(s),t:(0,o.maybeNumberOrThrowIfTooLarge)(l),sender:i,ack:u,read:d}};var i=r(n(48926)),o=n(22101),a=r(n(49619)),s=n(79038);function l(){return(l=(0,i.default)((function*(e,t){const n=yield(0,s.createOptionLocalIdMap)(t),r=e.selectedOptionLocalIds.map(n.getHashForLocalId);return{selectedOptions:0===r.length?null:r}}))).apply(this,arguments)}},72239:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.decryptVote=function(e){return f(e).catch((t=>{if((0,c.isMatFullyEnabled)()&&e.pollCreationOriginalSender.isUser()){const t=(0,s.getAlternateWid)(e.pollCreationOriginalSender);if(null!=t)return f((0,o.default)((0,o.default)({},e),{},{pollCreationOriginalSender:(0,_.toUserWid)(t)}))}throw t})).catch((e=>{throw new l.MessageSecretErrorsWamEvent({messageSecretAllowedList:d.MESSAGE_SECRET_ALLOWED_TYPE.MESSAGE_POLL,messageSecretError:d.MESSAGE_SECRET_ERROR_TYPE.DECRYPTION_ERROR}).commit(),e}))};var i=r(n(48926)),o=r(n(81109)),a=n(53965),s=n(42247),l=n(63020),c=n(463),u=n(77026),d=n(8414),_=n(51017),p=n(33655);function f(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e){const t={type:"poll_vote",encryptedAddOn:e.encryptedVote},n=yield(0,a.decryptAddOn)(t,{messageSecret:e.messageSecret,iv:e.iv,stanzaId:e.stanzaId,originalMessageSender:e.pollCreationOriginalSender,addOnSender:e.voteSender});return(0,p.decodeProtobuf)(u.Message$PollVoteMessageSpec,n)}))).apply(this,arguments)}},17703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arePollsFastFollowsEnabled=s,t.arePollsNotificationsEnabled=function(){return(0,r.getABPropConfigValue)("polls_notification_enabled")},t.getMaxPollNameLength=function(){return Math.min((0,r.getABPropConfigValue)("poll_name_length"),500)},t.getMaxPollNameLengthForIncomingMessages=function(){return 5e3},t.getMaxPollOptionCount=function(){return Math.min((0,r.getABPropConfigValue)("poll_option_count"),20)},t.getMaxPollOptionLength=function(){return Math.min((0,r.getABPropConfigValue)("poll_option_length"),255)},t.getMaxPollOptionLengthForIncomingMessages=function(){return 2500},t.isPollResultDetailsViewEnabled=function(){return(0,r.getABPropConfigValue)("poll_result_details_view_enabled")},t.isPollsCancelationPromptEnabled=function(){return s()},t.isPollsChatlistPreviewEnabled=function(){return s()},t.isPollsCreationEnabledInCags=a,t.isPollsReceivingEnabledInCags=function(){if((0,i.isSMB)())return!1;if(a())return!0;return(0,r.getABPropConfigValue)("poll_receiving_cag_enabled")},t.isPrefillPollQuestionEnabled=function(){return s()},t.isSingleOptionPollsReceivingEnabled=function(){return l()||(0,r.getABPropConfigValue)("polls_single_option_receiver_control_enabled")},t.isSingleOptionPollsSendingEnabled=l;var r=n(83741),i=n(43744),o=n(89358);function a(){return!(0,i.isSMB)()&&(!!(0,o.primaryFeatureEnabled)("poll_creation_cag")&&(0,r.getABPropConfigValue)("poll_creation_cag_enabled"))}function s(){return(0,r.getABPropConfigValue)("polls_fast_follow_enabled")}function l(){return(0,r.getABPropConfigValue)("polls_single_option_control_enabled")||(0,r.getABPropConfigValue)("polls_single_option_sender_control_enabled")}},90157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){(0,r.getStorage)().add("premium-message").version((0,i.premiumMessageCreateTable)(),[s("id"),a("name"),a("type"),a("message"),a("isDeleted"),a("mediaId"),a("sentMessageIds")]).view((e=>e))},t.getPremiumMessageTable=function(){return(0,r.getStorage)().table("premium-message")};var r=n(74557),i=n(20746),o=n(65717);const{addColumn:a,addUserDefinedPrimaryKey:s}=(0,o.columnBuilder)()},65765:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{orderMessage:r}=t;if(null==r)return;const{thumbnail:l,message:c,orderId:u,itemCount:d,status:_,surface:p,sellerJid:f,orderTitle:E,token:A,totalAmount1000:g,totalCurrencyCode:h,contextInfo:S}=r;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:s.MSG_TYPE.ORDER,thumbnail:(0,a.decodeBytes)(l),message:c||"",orderId:u,itemCount:d||0,status:_,surface:p,sellerJid:f,orderTitle:E||"",token:A||"",totalAmount1000:(0,o.numberOrThrowIfTooLarge)(null!=g?g:0),totalCurrencyCode:h,body:""}),contextInfo:S}};var i=r(n(81109)),o=n(22101),a=n(57305),s=n(73602)},65643:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{productMessage:r}=t;if(null==r)return;const{product:l,businessOwnerJid:c,body:u,footer:d,contextInfo:_}=r;if(null==l)return;const{productImage:p,productId:f,currencyCode:E,priceAmount1000:A,salePriceAmount1000:g,retailerId:h,url:S,productImageCount:T,title:m,description:I}=l;let y={};if(null!=p){const e=(0,s.default)({messageProtobuf:{imageMessage:p},baseMessage:n});if(null!=e){const{msgData:t}=e;y={deprecatedMms3Url:t.deprecatedMms3Url,directPath:t.directPath,staticUrl:t.staticUrl,mimetype:t.mimetype,filehash:t.filehash,encFilehash:t.encFilehash,size:t.size,height:t.height,width:t.width,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp,body:t.body,interactiveAnnotations:t.interactiveAnnotations,scanLengths:t.scanLengths,scansSidecar:t.scansSidecar,isViewOnce:t.isViewOnce,thumbnailDirectPath:t.thumbnailDirectPath,thumbnailSha256:t.thumbnailSha256,thumbnailEncSha256:t.thumbnailEncSha256}}}return{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.PRODUCT,businessOwnerJid:c,productId:f,currencyCode:E,priceAmount1000:(0,o.numberOrThrowIfTooLarge)(null!=A?A:0)||void 0,salePriceAmount1000:(0,o.numberOrThrowIfTooLarge)(null!=g?g:0)||void 0,retailerId:h,url:S,productImageCount:T,title:m,description:I,caption:u,footer:d},y),contextInfo:_}};var i=r(n(81109)),o=n(22101),a=n(73602),s=r(n(96259))},8248:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{protocolMessage:r}=t;if(null==r)return;if(r.type!==a.Message$ProtocolMessage$Type.EPHEMERAL_SETTING)return;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:o.MSG_TYPE.PROTOCOL,subtype:"ephemeral_setting",ephemeralDuration:r.ephemeralExpiration}),contextInfo:void 0}};var i=r(n(81109)),o=n(73602),a=n(77026)},40647:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{messageProtobuf:n,baseMessage:r,msgContext:l}=e;const{protocolMessage:c}=n;if(null==c)return;if("relay"!==l)return;if(c.type!==s.Message$ProtocolMessage$Type.HISTORY_SYNC_NOTIFICATION)return;const{historySyncNotification:u}=c;if(null==u)return;const d={directPath:u.directPath,encFilehash:(0,o.decodeBytes)(u.fileEncSha256),filehash:(0,o.decodeBytes)(u.fileSha256),mediaKey:(0,o.decodeBytes)(u.mediaKey),type:"md-msg-hist"};return{msgData:(0,i.default)((0,i.default)({},r),{},{type:a.MSG_TYPE.PROTOCOL,subtype:"history_sync_notification",historySyncMetaData:{historySyncNotification:u,downloadOptions:d,progress:(null==c||null===(t=c.historySyncNotification)||void 0===t?void 0:t.progress)||0}}),contextInfo:void 0}};var i=r(n(81109)),o=n(57305),a=n(73602),s=n(77026)},11371:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{protocolMessage:r}=t;if(null==r)return;if(r.type!==a.Message$ProtocolMessage$Type.SHARE_PHONE_NUMBER)return;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:o.MSG_TYPE.PROTOCOL,subtype:"share_phone_number"}),contextInfo:void 0}};var i=r(n(81109)),o=n(73602),a=n(77026)},63828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{audioMessage:o}=t;if(null==o)return;const{ptt:a}=o;if(!0===a)return;return(0,r.parseAudioOrPttMessageProto)({messageProtobuf:t,baseMessage:n,type:i.MSG_TYPE.AUDIO})};var r=n(28594),i=n(73602)},93729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{audioMessage:o}=t;if(null==o)return;const{ptt:a}=o;if(!0!==a)return;return(0,r.parseAudioOrPttMessageProto)({messageProtobuf:t,baseMessage:n,type:i.MSG_TYPE.PTT})};var r=n(28594),i=n(73602)},59324:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,msgContext:r}=e;const{ptvMessage:l}=t;if(null==l)return;if(!(0,a.isPtvReceivingEnabled)())return{msgData:(0,i.default)((0,i.default)({},n),{},{type:o.MSG_TYPE.UNKNOWN,futureproofType:o.MSG_TYPE.PTV}),contextInfo:null==l?void 0:l.contextInfo};return(0,s.parseVideoOrPtvMessageProto)({messageProtobuf:t,baseMessage:n,msgContext:r,type:o.MSG_TYPE.PTV})};var i=r(n(81109)),o=n(73602),a=n(56302),s=n(38171)},56302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPtvAutoplayLoopLimit=function(){const e=(0,r.getABPropConfigValue)("ptv_autoplay_loop_limit");return 0===e?1/0:e},t.getPtvMaxDurationSeconds=function(){return(0,r.getABPropConfigValue)("ptv_max_duration_seconds")},t.isPtvAutoplayEnabled=function(){return(0,r.getABPropConfigValue)("ptv_autoplay_enabled")},t.isPtvReceivingEnabled=function(){return(0,r.getABPropConfigValue)("ptv_receiving_enabled")},t.isPtvSendingEnabled=function(){return(0,r.getABPropConfigValue)("ptv_sending_enabled")};var r=n(83741)},98554:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseEncReaction=function(){return l.apply(this,arguments)};var i=r(n(48926)),o=n(53965),a=n(77026),s=n(33655);function l(){return(l=(0,i.default)((function*(e){const t={type:"reaction",encryptedAddOn:e.encryptedReaction},n=yield(0,o.decryptAddOn)(t,{messageSecret:e.messageSecret,iv:e.iv,stanzaId:e.stanzaId,originalMessageSender:e.originalMessageSender,addOnSender:e.reactionSender});return(0,s.decodeProtobuf)(a.Message$ReactionMessageSpec,n)}))).apply(this,arguments)}},96677:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.changeOrphanStateReactions=function(e){return(0,o.getStorage)().lock(["reactions"],function(){var t=(0,i.default)((function*(t){let[n]=t;const r=e.map((e=>[e,1])),i=yield(0,a.getReactionsTable)().anyOf(["parentMsgKey","orphan"],r);return i.forEach((e=>{e.orphan=0,e.orphanReason=void 0})),yield n.bulkCreateOrReplace(i),i}));return function(){return t.apply(this,arguments)}}())};var i=r(n(48926)),o=n(74557),a=n(24936)},58755:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createOrUpdateReactions=function(e){const t=new Map;return e.forEach((e=>{const{parentMsgKey:n,senderUserJid:r}=e;(0,a.isSerializedWidMe)(r)&&(e.read=!0);const i=`${n},${r}`,o=t.get(i);o?o.timestamp<=e.timestamp&&t.set(i,e):t.set(i,e)})),(0,o.getStorage)().lock(["reactions"],function(){var e=(0,i.default)((function*(e){let[n]=e;const r=Array.from(t.values()).map((e=>[e.parentMsgKey,e.senderUserJid]));return(yield n.anyOf(["parentMsgKey","senderUserJid"],r)).forEach((e=>{const n=`${e.parentMsgKey},${e.senderUserJid}`,r=t.get(n);r&&r.timestamp<=e.timestamp&&t.delete(n)})),yield n.bulkCreateOrReplace(Array.from(t.values())),Array.from(t.values())}));return function(){return e.apply(this,arguments)}}())};var i=r(n(48926)),o=n(74557),a=n(3885)},74260:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReactionsByParentMessageKey=function(e){const t=[];return(0,o.getStorage)().lock(["reactions"],function(){var n=(0,i.default)((function*(n){let[r]=n;return(yield r.equals(["parentMsgKey"],e)).forEach((e=>t.push([e.parentMsgKey,e.senderUserJid]))),r.bulkRemove(t)}));return function(){return n.apply(this,arguments)}}())},t.deleteReactionsByParentMessageKeys=function(e){const t=[];return(0,o.getStorage)().lock(["reactions"],function(){var n=(0,i.default)((function*(n){let[r]=n;const i=yield r.anyOf(["parentMsgKey"],e);return i.forEach((e=>t.push([e.parentMsgKey,e.senderUserJid]))),yield r.bulkRemove(t),i.map((e=>e.msgKey))}));return function(){return n.apply(this,arguments)}}())},t.deleteReactionsByRecords=function(e){return(0,o.getStorage)().lock(["reactions"],function(){var t=(0,i.default)((function*(t){let[n]=t;yield n.bulkRemove(e)}));return function(){return t.apply(this,arguments)}}())};var i=r(n(48926)),o=n(74557)},91336:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.existsReaction=function(e){return(0,c.getReactionsTable)().get([e.parentMsgKey,e.senderUserJid])},t.getAllReactionsFromParentMsgs=function(e){return(0,a.getStorage)().lock(["reactions"],(t=>{let[n]=t;return n.anyOf(["parentMsgKey"],e)}))},t.getFilteredReactionsFromParentMsgs=function(){return d.apply(this,arguments)},t.getReactions=function(){return u.apply(this,arguments)};var i=r(n(48926)),o=n(20112),a=n(74557),s=r(n(95432)),l=n(56074),c=n(24936);function u(){return(u=(0,i.default)((function*(e){const t=yield(0,c.getReactionsTable)().equals(["parentMsgKey"],e),n={reactions:[],reactionByMe:null},r=new Map;t.forEach((e=>{const{reactionText:t,orphan:i}=e;if(t!==l.REVOKED_REACTION_TEXT&&1!==i){var a;const i=o.EmojiUtil.getEmojiAggregate(t),l=null!==(a=r.get(i))&&void 0!==a?a:[];r.set(i,[...l,e]);(0,s.default)(e.msgKey).fromMe&&(n.reactionByMe=e)}}));const i=n.reactionByMe?o.EmojiUtil.getEmojiAggregate(n.reactionByMe.reactionText):"";return r.forEach(((e,t)=>{let r=!1;t===i&&(r=!0),n.reactions.push({aggregateEmoji:t,senders:e,hasReactionByMe:r})})),n}))).apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e){const t=new Map;return yield(0,a.getStorage)().lock(["reactions"],function(){var n=(0,i.default)((function*(n){let[r]=n;(yield r.anyOf(["parentMsgKey"],e)).forEach((e=>{const{reactionText:n,orphan:r}=e;if(n!==l.REVOKED_REACTION_TEXT&&1!==r){var i;const n=null!==(i=t.get(e.parentMsgKey))&&void 0!==i?i:[];n.push(e),t.set(e.parentMsgKey,n)}}))}));return function(){return n.apply(this,arguments)}}()),t}))).apply(this,arguments)}},79441:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.reactionsAddOnProvider=void 0;var i=r(n(48926)),o=n(88930),a=n(52626),s=n(22666),l=n(73602),c=r(n(89482));const u={type:s.MessageAddOnType.Reaction,matches:e=>e.type===l.MSG_TYPE.REACTION,matchesFutureproof:e=>e.type===l.MSG_TYPE.UNKNOWN&&e.futureproofType===l.MSG_TYPE.REACTION,canRenderInUi:()=>!0,processOrphansForNewMsg:()=>(0,i.default)((function*(){throw(0,c.default)("Reactions not yet integrated into orphan framework")}))(),updateAcks:(e,t)=>(0,a.updateAddOnAcksForTable)("reactions",e,t),markAsRead:e=>(0,o.markAsReadForTable)("reactions",e.map(String))};t.reactionsAddOnProvider=u},70867:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processReactionMsgs=function(){return d.apply(this,arguments)};var i=r(n(48926)),o=n(93040),a=n(1619),s=n(58755),l=n(64071),c=n(56074),u=n(69785);function d(){return(d=(0,i.default)((function*(e){if(e.length>0){const t=yield(0,c.createReactionsRowFromMsg)(e),r=yield(0,s.createOrUpdateReactions)(t);(0,c.updateHasReactionFromParent)(r);const i=e.map((e=>e.id.toString())),{markFutureproofMessagesReparsed:d}=n(58351);yield d(i);const _=yield(0,u.filterChatsWithAddOnPreviewUpdates)(r.map((e=>(0,l.lastAddOnPreviewCandidateFromReactionRowType)(e))));yield(0,o.bulkUpdateChatLastAddOnPreview)(_),(0,a.frontendFireAndForget)("updateChatLastAddOnPreview",{chatMap:_})}}))).apply(this,arguments)}},42626:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReactions=void 0;var i=r(n(48926)),o=n(74260),a=n(89688),s=n(85074),l=r(n(60001));const c=(0,s.defineWebPersistedJob)().step("deleteReactions",(e=>{let{chatId:t,parentMsgKeys:n}=e;return __LOG__(2)`Persisted: deleteReaction persisted job started`,{chatId:t,parentMsgKeys:n}})).step("deleteReactionsFromReactionsTable",function(){var e=(0,i.default)((function*(e){let{chatId:t,parentMsgKeys:n}=e;const r=yield(0,o.deleteReactionsByParentMessageKeys)(n);return r||(__LOG__(2)`Persisted: Deleting reactions from Reactions table returned undefined, parentMsgKeys length ${n.length}`,[])}));return function(){return e.apply(this,arguments)}}()).finalStep("deleteReactionsFromMessageTable",function(){var e=(0,i.default)((function*(e,t){let{chatId:n,parentMsgKeys:r}=t;const i=[];return e||__LOG__(2)`Persisted: Deleting reactions from Msg table, reactionMsgKeys is undefined, parentMsgKeys length ${r.length}`,e.forEach((e=>{l.default.fromString(e).fromMe&&i.push(e)})),i.length>0&&(yield(0,a.removeMessagesFromHistory)(i)),e}));return function(){return e.apply(this,arguments)}}()).end();t.deleteReactions=c},70817:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.checkUpdateForOrphanReactions=function(){return s.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(96677);function s(){return(s=(0,i.default)((function*(e){try{const t=yield(0,a.changeOrphanStateReactions)(e);(0,o.frontendFireAndForget)("checkUpdateForOrphanReactions",{updatedRecords:t})}catch(e){__LOG__(3)`checkUpdateForOrphanReactions: error ${e}`}}))).apply(this,arguments)}},64338:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processReactionMessage=function(){return _.apply(this,arguments)};var i=r(n(48926)),o=n(1619),a=n(46316),s=n(37956),l=n(27893),c=n(463),u=n(17167),d=n(68231);function _(){return(_=(0,i.default)((function*(e,t,n){try{const r=null!=t.offline&&!n,_=(0,c.isMatFullyEnabled)()?yield(0,u.processReactionMatMessages)(e):e,p=l.messageProcessorCache.addMessages([{msg:_}],!r).then((()=>{if(d.WorkerOfflineResumeReporter.updateProcessedMessageCount(),!r)return(0,s.processReactionOrphanPeerReceipt)(_.id)}));(a.Cmd.isMainStreamReadyMd||n)&&p.then((0,i.default)((function*(){yield(0,o.frontendSendAndReceive)("updateReactionUI",{msg:_,msgInfo:t,reparsing:n})})))}catch(e){__LOG__(4,void 0,new Error,!0,["messaging"])`processReactionMessage: msgId:${t.externalId}, failed with error: ${e}`,SEND_LOGS("handle_msg: error storing/processing single message",1,"messaging")}return Promise.resolve()}))).apply(this,arguments)}},4279:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{encReactionMessage:r}=t;if(null==r)return;const{encIv:s,encPayload:l,targetMessageKey:c}=r;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:a.MSG_TYPE.REACTION_ENC,encIv:s,encPayload:l,targetMessageKey:(0,o.getMsgKey)(c,n)}),contextInfo:null}};var i=r(n(81109)),o=n(54468),a=n(73602)},41056:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{reactionMessage:r}=t;if(null==r)return;return function(e){const t=e.text;if(null!=t&&t.length>a.default.REACTION_CONTENT_MAX_LENGTH)throw new c.ReactionValidationError(c.ReactionValidationErrorCode.INVALID_REACTION_TEXT_LENGTH,u.E2E_FAILURE_REASON.INVALID_REACTION_TEXT)}(r),{msgData:(0,i.default)((0,i.default)({},n),{},{type:l.MSG_TYPE.REACTION,reactionParentKey:(0,s.getMsgKey)(r.key,n),reactionText:(0,s.convertToTextWithoutSpecialEmojis)(r.text),reactionTimestamp:(0,o.maybeNumberOrThrowIfTooLarge)(r.senderTimestampMs)}),contextInfo:null}};var i=r(n(81109)),o=n(22101),a=r(n(44423)),s=n(54468),l=n(73602),c=n(91229),u=n(8414)},91229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionValidationErrorCode=t.ReactionValidationError=void 0;var r=n(22495);const i=n(76672)({INVALID_REACTION_TEXT_LENGTH:"reaction_invalid_text_length"});t.ReactionValidationErrorCode=i;class o extends r.MessageValidationError{constructor(){super(...arguments),this.name="ReactionValidationError"}}t.ReactionValidationError=o},24936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTable=function(){const e=(0,r.getStorage)(),{addColumn:t,addCompositePrimaryKey:n,addCompositeIndex:a,addIndex:s}=(0,o.columnBuilder)(e.config);e.add("reactions").version((0,i.reactionsCreateTable)(),[n(["parentMsgKey","senderUserJid"]),t("msgKey"),t("reactionText"),t("timestamp"),t("orphan"),t("orphanReason"),t("read"),t("ack"),s("parentMsgKey"),s("orphan"),t("t")]).version((0,i.addReactionTableOrphanIndex)(),[a(["parentMsgKey","orphan"])]).version((0,i.addReactionTableMsgKeyIndex)(),[s("msgKey")]).view((e=>e))},t.getReactionsTable=function(){return(0,r.getStorage)().table("reactions")};var r=n(74557),i=n(20746),o=n(65717)},56074:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.REVOKED_REACTION_TEXT=void 0,t.canHaveReactions=h,t.createReactionsRowFromMsg=function(){return S.apply(this,arguments)},t.updateHasReactionFromParent=function(){return T.apply(this,arguments)};var i=r(n(48926)),o=n(22101),a=r(n(49619)),s=n(20227),l=n(91336),c=n(87946),u=n(26368),d=r(n(60001)),_=n(73602),p=n(463),f=n(10139),E=n(66846),A=r(n(27112)),g=n(51017);function h(e,t){return e!==_.MSG_TYPE.UNKNOWN&&e!==_.MSG_TYPE.CIPHERTEXT&&e!==_.MSG_TYPE.REVOKED&&e!==_.MSG_TYPE.DEBUG&&e!==_.MSG_TYPE.GP2&&e!==_.MSG_TYPE.NOTIFICATION&&e!==_.MSG_TYPE.NEWSLETTER_NOTIFICATION&&e!==_.MSG_TYPE.NOTIFICATION_TEMPLATE&&e!==_.MSG_TYPE.E2E_NOTIFICATION&&e!==_.MSG_TYPE.CALL_LOG&&(e!==_.MSG_TYPE.CHAT||t!==s.BOT_TYPING_PLACEHOLDER_MSG_SUBTYPE)}function S(){return(S=(0,i.default)((function*(e){const t=[],n=[];e.forEach((e=>{e&&n.push(e.reactionParentKey.toString())}));const r=new Map;(0,p.isMatFullyEnabled)()&&e.forEach((e=>{const t=e.reactionParentKey,i=(0,u.getOriginalSender)(e);if(null!=t&&null!=i&&t.remote.isUser()&&!A.default.equals(i,t.remote)){const o=d.default.from({fromMe:t.fromMe,id:t.id,participant:t.participant,remote:i});n.push(o.toString()),r.set(e.reactionParentKey.remote,o.toString())}}));const i=yield(0,c.getMsgsByMsgKey)(n),s=new Map;return i.forEach((e=>{s.set(e.id.toString(),e)})),e.forEach((e=>{var n,i,l,c;const u=null!==(n=e.author)&&void 0!==n?n:e.from;if(!u||!e)return void __LOG__(3)`createReactionsRowFromMsg: sender or reactionMsg are null`;let d=s.get(e.reactionParentKey.toString());if((0,p.isMatFullyEnabled)()&&!d){const t=r.get(e.reactionParentKey.remote);null!=t&&(d=s.get(t))}let f,A=0;if(d){if((null===(i=d)||void 0===i?void 0:i.type)===_.MSG_TYPE.CIPHERTEXT)A=1,f=E.OrphanReactionsReasonType.ParentMsgPlaceholder;else if((null===(l=d)||void 0===l?void 0:l.type)===_.MSG_TYPE.UNKNOWN)A=1,f=E.OrphanReactionsReasonType.ParentMsgFutureproof;else if(!h(d.type,d.subtype))return void __LOG__(3)`createReactionsRowFromMsg: reactions not allowed for this message type ${d.type}`}else A=1,f=E.OrphanReactionsReasonType.ParentMsgMissing;const S=(0,g.toUserWid)(u),T={msgKey:e.id.toString(),parentMsgKey:e.reactionParentKey.toString(),senderUserJid:S.toString(),reactionText:null!==(c=e.reactionText)&&void 0!==c?c:"",timestamp:e.reactionTimestamp,orphan:A,orphanReason:f,read:!1,t:(0,a.default)((0,o.maybeNumberOrThrowIfTooLarge)(e.t),"maybeNumberOrThrowIfTooLarge(reactionMsg.t)")};t.push(T)})),t}))).apply(this,arguments)}function T(){return(T=(0,i.default)((function*(e){const t=[],n=[];e.forEach((e=>{const{parentMsgKey:r,orphan:i,reactionText:o}=e;1!==i&&(""!==o?n.push({id:r,hasReaction:!0}):t.push(r))}));const r=yield(0,l.getFilteredReactionsFromParentMsgs)(t);return t.forEach((e=>{const t=r.get(e),i=t&&t.length>0||!1;n.push({id:e,hasReaction:i})})),(0,f.getMessageTable)().bulkCreateOrMerge(n)}))).apply(this,arguments)}t.REVOKED_REACTION_TEXT=""},86679:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{requestPhoneNumberMessage:r}=t;if(null==r)return;const{contextInfo:a}=r;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:o.MSG_TYPE.REQUEST_PHONE_NUMBER}),contextInfo:a}};var i=r(n(81109)),o=n(73602)},83178:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,editAttr:o,msgContext:a}=e;if(o!==r.EDIT_ATTR.ADMIN_REVOKE)return;return(0,i.parseProtocolRevokeMessageProto)({messageProtobuf:t,baseMessage:n,editAttr:o,msgContext:a})};var r=n(77630),i=n(72990)},66525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n,editAttr:o,msgContext:a}=e;if(o!==r.EDIT_ATTR.SENDER_REVOKE)return;return(0,i.parseProtocolRevokeMessageProto)({messageProtobuf:t,baseMessage:n,editAttr:o,msgContext:a})};var r=n(77630),i=n(72990)},96259:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{imageMessage:r}=t;if(null==r)return;const{url:u,directPath:d,staticUrl:_,mimetype:p,caption:f,fileSha256:E,fileEncSha256:A,fileLength:g,height:h,width:S,mediaKey:T,mediaKeyTimestamp:m,jpegThumbnail:I,interactiveAnnotations:y,scanLengths:C,scansSidecar:v,viewOnce:O,thumbnailDirectPath:P,thumbnailSha256:N,thumbnailEncSha256:b,contextInfo:M}=r,R=(0,i.default)((0,i.default)({},n),{},{type:c.MSG_TYPE.IMAGE,deprecatedMms3Url:(0,s.decodeUrl)(u),directPath:d||"",staticUrl:_||"",mimetype:p||"",caption:(0,l.convertToTextWithoutSpecialEmojis)(f),filehash:(0,s.decodeBytes)(E),encFilehash:(0,s.decodeBytes)(A),size:(0,o.numberOrThrowIfTooLarge)(g||0),height:h||0,width:S||0,mediaKey:(0,s.decodeBytes)(T),mediaKeyTimestamp:null!=m?(0,o.numberOrThrowIfTooLarge)(m):(0,a.unixTime)(),body:(0,s.decodeBytes)(I)||"",interactiveAnnotations:y,scanLengths:C,scansSidecar:v,isViewOnce:!0===O,thumbnailDirectPath:P,thumbnailSha256:(0,s.decodeBytes)(N),thumbnailEncSha256:(0,s.decodeBytes)(b)});return(0,s.validateRequiredMediaProperties)(R,r),{msgData:R,contextInfo:M}};var i=r(n(81109)),o=n(22101),a=n(29987),s=n(57305),l=n(54468),c=n(73602)},13501:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{videoMessage:r}=t;if(null==r)return;const{url:u,directPath:d,staticUrl:_,mimetype:p,caption:f,fileSha256:E,fileEncSha256:A,fileLength:g,height:h,width:S,mediaKey:T,mediaKeyTimestamp:m,jpegThumbnail:I,interactiveAnnotations:y,viewOnce:C,thumbnailDirectPath:v,thumbnailSha256:O,thumbnailEncSha256:P,contextInfo:N,gifPlayback:b,gifAttribution:M,seconds:R,streamingSidecar:D}=r,L=(0,i.default)((0,i.default)({},n),{},{type:c.MSG_TYPE.VIDEO,deprecatedMms3Url:(0,s.decodeUrl)(u),directPath:d,staticUrl:_||"",mimetype:p,caption:(0,l.convertToTextWithoutSpecialEmojis)(f),filehash:(0,s.decodeBytes)(E),encFilehash:(0,s.decodeBytes)(A),size:(0,o.numberOrThrowIfTooLarge)(g||0),height:h,width:S,mediaKey:(0,s.decodeBytes)(T),mediaKeyTimestamp:null!=m?(0,o.numberOrThrowIfTooLarge)(m):(0,a.unixTime)(),duration:`${R||0}`,body:(0,s.decodeBytes)(I)||"",interactiveAnnotations:y,isViewOnce:!0===C,thumbnailDirectPath:v,thumbnailSha256:(0,s.decodeBytes)(O),thumbnailEncSha256:(0,s.decodeBytes)(P),isGif:b,gifAttribution:M,streamingSidecar:D});return(0,s.validateRequiredMediaProperties)(L,r),{msgData:L,contextInfo:N}};var i=r(n(81109)),o=n(22101),a=n(29987),s=n(57305),l=n(54468),c=n(73602)},54425:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{stickerMessage:r}=t;if(null==r)return;const u=(0,i.default)((0,i.default)({},n),{},{type:c.MSG_TYPE.STICKER,deprecatedMms3Url:(0,l.decodeUrl)(r.url),directPath:r.directPath||"",mimetype:r.mimetype||"",filehash:(0,l.decodeBytes)(r.fileSha256),encFilehash:(0,l.decodeBytes)(r.fileEncSha256),mediaKey:(0,o.default)((0,l.decodeBytes)(r.mediaKey)),mediaKeyTimestamp:null!=r.mediaKeyTimestamp?(0,a.numberOrThrowIfTooLarge)(r.mediaKeyTimestamp):(0,s.unixTime)(),height:r.height||0,width:r.width||0,firstFrameLength:r.firstFrameLength,firstFrameSidecar:r.firstFrameSidecar,isAnimated:r.isAnimated,stickerSentTs:(0,a.maybeNumberOrThrowIfTooLarge)(r.stickerSentTs),isAvatar:r.isAvatar});return(0,l.validateRequiredMediaProperties)(u,r),{msgData:u,contextInfo:r.contextInfo}};var i=r(n(81109)),o=r(n(78957)),a=n(22101),s=n(29987),l=n(57305),c=n(73602)},43163:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{contactsArrayMessage:r}=t;if(null==r)return;const{contacts:a,contextInfo:s,displayName:l}=r;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:o.MSG_TYPE.MULTI_VCARD,vcardFormattedName:l,vcardList:Array.isArray(a)?a.map((e=>({displayName:e.displayName,vcard:e.vcard,isMultiVcard:!1}))):[]}),contextInfo:s}};var i=r(n(81109)),o=n(73602)},85316:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{messageProtobuf:t,baseMessage:n}=e;const{contactMessage:r}=t;if(null==r)return;const{contextInfo:a,displayName:s,vcard:l}=r;return{msgData:(0,i.default)((0,i.default)({},n),{},{type:o.MSG_TYPE.VCARD,body:l,vcardFormattedName:s}),contextInfo:a}};var i=r(n(81109)),o=n(73602)},81016:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(45218),a=n(2982),s=n(60019),l=n(55017);function c(){return(c=(0,i.default)((function*(e,t,n){const r=_(t),i=_(n),o=[d(e,r,i),u(e,r,i)];yield Promise.all(o.map((t=>t?(0,a.handleSingleMsg)(e,t,"bizStateChangeNotification"):null)))}))).apply(this,arguments)}function u(e,t,n){if(!0===(0,l.getGlobalSecurityNotifications)())return t===s.ReducedPrivacyMode.E2EE&&n!==s.ReducedPrivacyMode.E2EE?(0,o.genEncryptNotificationMsg)(e,"e2e_identity_unavailable"):void 0}function d(e,t,n){if(t!==n)switch(n){case s.ReducedPrivacyMode.E2EE:return(0,o.genEncryptNotificationMsg)(e,"encrypt_now");case s.ReducedPrivacyMode.BSP:return(0,o.genNonE2ENotificationMsg)(e,"biz_privacy_mode_to_bsp");case s.ReducedPrivacyMode.FB:return(0,o.genNonE2ENotificationMsg)(e,"biz_privacy_mode_to_fb")}}function _(e){return(0,s.getReducedPrivacyMode)(e.isBusiness?e.privacyMode:null)}},76376:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryAndUpdateContactPropertiesOnNewChat=function(){return d.apply(this,arguments)},t.updateVerifiedInfo=c;var i=r(n(48926)),o=n(12166),a=n(1619),s=n(46408),l=n(7870);function c(){return u.apply(this,arguments)}function u(){return(u=(0,i.default)((function*(e,t){const{name:n,level:r,isApi:i,isSmb:l,serial:c,privacyMode:u}=t;null!=u&&(yield(0,s.handlePrivacyModeTransition)(e,u,{bypassVerifiedNameUpdate:!0})),(0,a.frontendFireAndForget)("updateContactWithVerifiedName",{contactId:e,verifiedNameInfo:{id:e,name:n,level:r,isApi:i,isSmb:l,privacyMode:u}}),yield(0,o.createOrUpdateVerifiedBusinessName)(e,{level:r,serial:c,name:n,isApi:i,isSmb:l,privacyMode:u?{actualActors:u.actualActors,hostStorage:u.hostStorage,privacyModeTs:u.privacyModeTs}:null})}))).apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e){const t=yield(0,l.queryWidExists)(e);if(null==t)return;const{bizInfo:n}=t;n&&(yield c(e,n.verifiedName))}))).apply(this,arguments)}},46408:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handlePrivacyModeTransition=function(){return c.apply(this,arguments)};var i=r(n(48926)),o=n(93040),a=n(12166),s=n(1619),l=r(n(81016));function c(){return(c=(0,i.default)((function*(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.isUserNotPSA()||e.isCAPISupportAccount())return;const i=yield u(e,r.chat);if(null==i)return;if(!1===i.isBusiness)return;if(null==i.privacyMode&&null==t)return;if(null!=i.privacyMode&&null!=t&&i.privacyMode.privacyModeTs>=t.privacyModeTs)return;const{bypassVerifiedNameUpdate:o=!1}=r,c={isBusiness:null!==(n=i.isBusiness)&&void 0!==n&&n,privacyMode:i.privacyMode};(0,s.frontendFireAndForget)("updateBusinessInfo",{contactId:e,businessInfo:{isBusiness:!0,isEnterprise:!0,privacyMode:t}}),yield Promise.all([o?null:(0,a.createOrUpdateVerifiedBusinessName)(e,{isApi:!0,isSmb:!1,privacyMode:t?{actualActors:t.actualActors,hostStorage:t.hostStorage,privacyModeTs:t.privacyModeTs}:null},a.VerifiedBusinessNameUpdateType.Merge),(0,l.default)(e,c,{isBusiness:!0,privacyMode:t})])}))).apply(this,arguments)}function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e,t){if(null!=t){const e=t.contact.isBusiness;return{isBusiness:e,privacyMode:e?t.contact.privacyMode:null}}const[n,r]=yield Promise.all([(0,o.getChatRecord)(e),(0,a.getVerifiedBusinessNameRecord)(e)]);return null==n?null:null==r?{isBusiness:!1}:{isBusiness:!0,privacyMode:null==r.privacyMode?null:(0,a.convertPrivacyModeFromStorageType)(r.privacyMode)}}))).apply(this,arguments)}},50265:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addPlaceholderActions=function(){return g.apply(this,arguments)},t.populatePlaceholderActions=function(){return S.apply(this,arguments)},t.viewPlaceholderActions=function(){return h.apply(this,arguments)};var i=r(n(48926)),o=n(29987),a=n(22582),s=n(74773),l=n(98051),c=n(26368),u=n(3271),d=n(64545),_=n(8414),p=n(58669),f=n(98701),E=n(93828),A=r(n(27112));function g(){return(g=(0,i.default)((function*(e){(yield I(e)).forEach((e=>{e.placeholderActionInd=_.PLACEHOLDER_ACTION.ADD,e.commit()}))}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e){const t=e.map((e=>(0,s.messageFromDbRow)(e)));(yield I(t)).forEach((e=>{e.placeholderActionInd=_.PLACEHOLDER_ACTION.VIEW,e.commit()}))}))).apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){(yield I(e,!0)).forEach((e=>{e.placeholderActionInd=_.PLACEHOLDER_ACTION.POPULATE,e.commit()}))}))).apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e,t,n){var r;const i=e.id.remote,a=new u.PlaceholderActivityWamEvent({placeholderChatTypeInd:N(i),placeholderTimePeriod:Math.max((0,o.unixTime)()-(null!==(r=e.t)&&void 0!==r?r:0),0),placeholderTypeInd:"fanout"===e.subtype?_.PLACEHOLDER_TYPE.FANOUT:_.PLACEHOLDER_TYPE.CIPHERTEXT,messageIsRevoke:(0,c.getIsRevoke)(e),messageMediaType:(0,E.getWamMediaType)(e),messageType:(0,E.getWamMessageType)(e)});return null!=e.placeholderAddReason&&(a.placeholderAddReason=e.placeholderAddReason),n&&null!=e.placeholderPopulationType&&(a.placeholderPopulationType=e.placeholderPopulationType),null!=e.e2eSenderType&&(a.e2eSenderType=e.e2eSenderType),A.default.isGroup(i)?yield C(a,e,t):A.default.isUser(i)&&(a.isLid=i.isLid()),yield O(a,e),a}))).apply(this,arguments)}function I(){return y.apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[],r=[];for(const t of e)(0,c.getIsGroupMsg)(t)?r.push(t):n.push(t);const i=(yield(0,a.bulkGetGroupMetadata)(r.map((e=>e.id.remote)))).map(((e,t)=>[r[t],e]));return Promise.all([...n.map((e=>T(e,null,t))),...i.map((e=>{let[n,r]=e;return T(n,r,t)}))])}))).apply(this,arguments)}function C(){return v.apply(this,arguments)}function v(){return(v=(0,i.default)((function*(e,t,n){const r=yield(0,f.getGroupMetrics)(t.id.remote);if(null!=r&&(null!=r.participantCount&&(e.participantCount=r.participantCount),null!=r.deviceCount&&(e.deviceCount=r.deviceCount),null!=r.deviceSizeBucket&&(e.deviceSizeBucket=r.deviceSizeBucket)),n){const r=(0,p.isCagIncognitoFromGroupMetadata)(n);e.isLid=r&&(0,c.getIsReaction)(t),e.typeOfGroup=(0,l.groupTypeToWamEnum)((0,l.getGroupTypeFromGroupMetadata)(n))}}))).apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return(P=(0,i.default)((function*(e,t){if((0,d.messageKeyHashEnabled)()){const n=yield(0,d.getMessageKeyHash)(t);null!=n&&(e.messageKeyHash=n)}}))).apply(this,arguments)}function N(e){return A.default.isGroup(e)?_.PLACEHOLDER_CHAT_TYPE.GROUP:A.default.isStatusV3(e)?_.PLACEHOLDER_CHAT_TYPE.STATUS:A.default.isBroadcast(e)?_.PLACEHOLDER_CHAT_TYPE.BROADCAST:A.default.isUser(e)?_.PLACEHOLDER_CHAT_TYPE.INDIVIDUAL:A.default.isNewsletter(e)?_.PLACEHOLDER_CHAT_TYPE.CHANNEL:_.PLACEHOLDER_CHAT_TYPE.OTHER}},2982:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleSingleMsg=function(){return v.apply(this,arguments)};var i=r(n(81109)),o=r(n(48926)),a=n(27363),s=n(55068),l=n(73471),c=n(97578),u=n(29987),d=n(18625),_=n(31654),p=n(1619),f=n(91563),E=n(70817),A=n(37653),g=n(78891),h=n(53952),S=n(20919),T=n(12987),m=n(73602),I=n(29409),y=n(50265),C=r(n(27112));function v(){return(v=(0,o.default)((function*(e,t,r){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T.MessageOverwriteOption.NO_OVERWRITE,O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const P=v!==T.MessageOverwriteOption.NO_OVERWRITE,N={add:"after",update:P,isHistory:!1},b=t.type===m.MSG_TYPE.PROTOCOL&&["sender_revoke","admin_revoke"].includes(t.subtype);let M=t;if(!b){const e=yield(0,_.applyOrphanRevokes)([M]);if(0===e.length)return;M=e[0]}const R=yield(0,h.handleForActiveMessageRange)(e,M);if(R.has(S.ActiveRangeHandlerAction.DropMessage))return;const D=R.has(S.ActiveRangeHandlerAction.SkipUI);try{C.default.isStatusV3(e)&&(yield(0,p.frontendSendAndReceive)("handleStatusV3Update",{rawMsg:M,checksum:null,isMsgUpdate:!1})),yield(0,l.promiseLoop)(function(){var t=(0,o.default)((function*(t,r,i){const o=(0,s.delayMs)((0,a.expBackoff)(i,12e4,1e3,.1));try{if(P)yield(0,A.updateMessage)(M),__LOG__(2,void 0,void 0,void 0,["handleSingleMsg"])`placeholder populate successful`;else if(b){yield(0,g.processRevokeMsgs)([{revokeMsgKey:M.protocolMessageKey,newMsgKey:M.id,timestamp:M.t,subtype:M.subtype,sender:M.author,revokeTimestamp:M.t}]),(0,p.frontendFireAndForget)("deleteModelsForLastAddOnPreview",{messagesIds:[M.protocolMessageKey.toString()]});const t=n(74e3).getJobManager;yield t().waitUntilPersisted(I.jobSerializers.deleteAddOns(e.toString(),[M.protocolMessageKey.toString()]))}else try{yield(0,A.storeMessages)([M],e),M.type===m.MSG_TYPE.CIPHERTEXT&&(0,y.addPlaceholderActions)([M])}catch(e){if(!(e instanceof A.DuplicateMessageError))throw e;M.type===m.MSG_TYPE.CIPHERTEXT?__LOG__(2)`processPlaceholderMsg: skip creating duplicate placeholder`:(__LOG__(2)`storeMessages loop: detect resend message`,yield(0,A.updateMessage)(M),N.update=!0)}if(M.type===m.MSG_TYPE.GROUPS_V4_INVITE){const e=M.id.toString();yield(0,d.persistGroupInviteV4Msg)(e,{id:e,from:M.from.toString(),to:M.to.toString(),groupId:M.inviteGrp,expiration:parseInt(M.inviteCodeExp,10),expired:(0,u.unixTime)()>=parseInt(M.inviteCodeExp,10)})}__LOG__(2,void 0,void 0,void 0,["handleSingleMsg"])`storeMessages loop`,t()}catch(e){return __LOG__(2,void 0,void 0,void 0,["handleSingleMsg"])`storeMessages loop: failed with error ${e}.`,i>3?(__LOG__(3)`storeMessages loop: Gave up after ${i} tries`,Promise.reject(e)):o}}));return function(){return t.apply(this,arguments)}}()),__LOG__(2,void 0,void 0,void 0,["messaging"])`handleSingleMsg: msgId::${M.id.id}, write message to db done, overwrite: ${P}, skipUI: ${D}`;try{yield(0,c.checkOrphanMutations)([M.id.toString()],[e.toString()]),yield(0,E.checkUpdateForOrphanReactions)([M.id.toString()])}catch(t){__LOG__(4,void 0,new Error)`handleSingleMsg: checkOrphanMutations failed during handleSingleMsg for: ${String(M.id)} chat: ${String(e)} Error: ${t.name}, message: ${t.message}, stack: ${t.stack}`}D||(yield(0,p.frontendSendAndReceive)("processMultipleMessages",{chatId:e,msgObjs:[(0,i.default)((0,i.default)({},M),{},{recvFresh:!0,isNewMsg:!0})],meta:N,processMessagesOrigin:r,chatMsgsCollection:null,preserveOrder:O}))}catch(t){if(t instanceof f.LogoutDrop)return;if(t instanceof A.PreviousMsgNotUpdatableError)return void __LOG__(3)`Msg: ${String(M.id)} chat: ${String(e)} Error: PreviousMsgNotUpdatableError`;__LOG__(3,void 0,void 0,void 0,["messaging"])`Msg: ${String(M.id)} chat: ${String(e)} Error: ${t.name}, message: ${t.message}, stack: ${t.stack}`}}))).apply(this,arguments)}},64545:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageKeyHash=function(){return p.apply(this,arguments)},t.messageKeyHashEnabled=function(){return(0,s.getABPropConfigValue)("placeholder_message_key_hash_logging")};var i=r(n(48926)),o=n(62089),a=n(13155),s=n(83741),l=n(56333);let c=null;const u=new TextEncoder,d=e=>u.encode(e).buffer;function _(){return c||(c=(0,l.getChatThreadLoggingSecretB64)().then((e=>null==e?null:(0,o.decodeB64)(e)))),c}function p(){return(p=(0,i.default)((function*(e){var t,n,r,i;const s=yield _();if(!s)return null;const l=d(String(e.id.id+(e.id.fromMe?"1":"0")+(null!==(t=null===(n=e.id.remote)||void 0===n?void 0:n.toString({legacy:!0}))&&void 0!==t?t:"")+(null!==(r=null===(i=e.id.participant)||void 0===i?void 0:i.toString({legacy:!0}))&&void 0!==r?r:""))),c=yield(0,a.hmacSha256)(s,l);return(0,o.encodeB64)(c)}))).apply(this,arguments)}},16123:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.dismissNux=function(e){return s(e,!0)},t.resetNux=function(e){(0,a.removeNUX)(e);const t=(0,i.getNuxSyncKey)(e);if(null!=t)return o.default.unAcknowledgeNux(t);return Promise.resolve()},t.viewNux=s;var i=n(74522),o=r(n(2107)),a=n(46486);function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.getNUX)(e),r=null!=n?n:{views:0},s=(0,a.getNuxMaxViews)(e),l=t?s:r.views+1;if((0,a.setNUX)(e,{views:l}),l>=s){const t=(0,i.getNuxSyncKey)(e);if(null!=t)return o.default.acknowledgeNux(t)}return Promise.resolve()}},49026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContactComparator=void 0,t.getCollator=function(){return s};var r=n(83141),i=n(46316),o=n(59685),a=n(51698);let s;function l(e){return e.name?e.name:e.verifiedLevel===r.VERIFIED_LEVEL.HIGH&&e.verifiedName?e.verifiedName:void 0}c(),i.Cmd.on("set_collator",c);function c(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.DEFAULT_LOCALE;if(null===(e=self.Intl)||void 0===e?void 0:e.Collator){const e=self.Intl.Collator([t],{sensitivity:"base"});s={compare(t,n){try{return e.compare(t,n)}catch(e){return 0}}}}else s={compare:(e,t)=>e.localeCompare(t)}}t.ContactComparator=(e,t)=>{var n,r,i,a,c,u;const d=null!==(n=l(e))&&void 0!==n?n:"",_=null!==(r=l(t))&&void 0!==r?r:"",p=null!==(i=(0,o.getHeader)(e))&&void 0!==i?i:"",f=null!==(a=(0,o.getHeader)(t))&&void 0!==a?a:"",E=null!==(c=(0,o.getNotifyName)(e))&&void 0!==c?c:"",A=null!==(u=(0,o.getNotifyName)(t))&&void 0!==u?u:"",g=e.id.toString(),h=t.id.toString();if(!d&&_)return 1;if(d&&!_)return-1;if(d&&_&&p&&f){const e=s.compare(p,f);return 0===e?s.compare(d,_):e}return!E&&A?1:E&&!A?-1:E&&A?s.compare(E,A):g&&h?g.localeCompare(h):-1}},24867:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getNativeFlowCtasFromInteractiveMsg=void 0,t.nativeFlowButtonToCtaButton=c;var i=n(57183),o=r(n(30266)),a=r(n(80081)),s=n(73602),l=n(48360);function c(e,t){var n;const r=null!==(n=e.buttonParamsJson)&&void 0!==n?n:"",o=JSON.parse(r);if("cta_url"===e.name)return{name:"cta_url",index:t,data:{label:o.display_text,url:o.url,redirectUrl:o.redirect_url}};if("cta_call"===e.name||"quick_reply"===e.name)return{name:e.name,index:t,data:{label:o.display_text,selectionId:o.id}};if("cta_catalog"===e.name){const e=null!=o.catalog_product_id?l.fbt._("View Product",null,{hk:"3yvnzX"}):l.fbt._("View Catalog",null,{hk:"2zIY3m"}),n=null!=o.catalog_product_id?(0,i.createProductLink)(o.business_phone_number,o.catalog_product_id):(0,i.createCatalogLink)(o.business_phone_number);return{name:"cta_catalog",index:t,data:{label:e.toString(),catalogUrl:n,businessPhoneNumber:o.business_phone_number,catalogProductId:o.catalog_product_id}}}}t.getNativeFlowCtasFromInteractiveMsg=e=>{var t;if(e.type===s.MSG_TYPE.INTERACTIVE&&e.interactiveType===a.default.NATIVE_FLOW&&(e.nativeFlowName===o.default.QUICK_REPLY||e.nativeFlowName===o.default.CTA_CALL||e.nativeFlowName===o.default.CTA_URL||e.nativeFlowName===o.default.CTA_CATALOG)&&null!=(null===(t=e.interactivePayload)||void 0===t?void 0:t.buttons)){const t=[];if(e.interactivePayload.buttons.forEach(((e,n)=>{const r=c(e,n);null!=r&&t.push(r)})),t.length>0)return t}return null}},36659:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getOpenMessageWithLinkAction=function(e){if((0,i.isMessageWithLinkNfmEnabled)()){if(e.nativeFlowName!==o.default.MESSAGE_WITH_LINK||e.type!==l.MSG_TYPE.INTERACTIVE||e.interactiveType!==a.default.NATIVE_FLOW||null==e.interactivePayload)return null;const t=e.interactivePayload;if((null==t?void 0:t.buttons)&&t.buttons.length>0){const{name:e,buttonParamsJson:n}=t.buttons[0];if("open_webview"===e&&null!=n){const e=JSON.parse(n),{title:t,link:r}=e;return{label:t,onClick:()=>s.default.open(r.url)}}}}return null};var i=n(56660),o=r(n(30266)),a=r(n(80081)),s=r(n(85003)),l=n(73602)},46316:(e,t,n)=>{"use strict";var r=n(20346).default,i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Revoke=t.CmdImpl=t.Cmd=t.APP_STATE_SYNC_COMPLETED=void 0;var o=i(n(48926)),a=i(n(81109)),s=i(n(23279)),l=n(2560),c=n(1280),u=n(1204),d=i(n(7880)),_=n(20992),p=(i(n(89482)),i(n(41143)));const f=n(76672).Mirrored(["Sender","Admin"]);t.Revoke=f;t.APP_STATE_SYNC_COMPLETED="app_state_sync_completed";class E extends d.default{constructor(){super(...arguments),this.isMainLoaded=!1,this.uiBusy=0,this.isMainStreamReadyMd=!1,this.isOfflineDeliveryEnd=!1,this._clearUiBusy=(0,s.default)((()=>{this.uiBusy&&(__LOG__(2)`cmd:clearUIBusy uibusy timeout`,this.uiBusy=0,this._triggerIdleEvent())}),1e3,{maxWait:5e3}),this._triggerIdleEvent=function(e){let t;const n=()=>{if(t)return;t=new r;const{signal:n}=t;(0,u.documentFlushed)({signal:n}).then((()=>{n.aborted||(t=null,e())}),(e=>{if(e.name!==l.ABORT_ERROR)throw e}))};return n.cancel=()=>{t&&(t.abort(),t=null)},n}((()=>{(0,p.default)(0===this.uiBusy,`ui_idle triggered when uiBusy is ${this.uiBusy}`),0===this.uiBusy&&(this._clearUiBusy.cancel(),this.trigger("ui_idle"))}))}mainLoaded(){this.isMainLoaded=!0,this.trigger("main_loaded")}initialLoadReady(){__LOG__(2)`Cmd: initialLoadReady`,this.trigger("initial_load_ready")}logSocketSummary(){this.trigger("log_socket_summary")}muteAll(e,t,n,r){this.trigger("mute_all",e,t,n,r)}muteAllCall(e,t){this.trigger("mute_all_call",e,t)}muteChat(e,t,n){this.trigger("mute_chat",(0,_.unproxy)(e),t,n)}muteChatMultiselect(e,t,n){this.trigger("mute_chat_multiselect",e,t,n)}muteChatFromEntryPoint(e,t,n,r){this.trigger("mute_chat_from_entrypoint",(0,_.unproxy)(e),t,n,r)}assignChat(e,t){this.trigger("assign_chat",(0,_.unproxy)(e),t)}deleteOrExitChat(e,t){this.trigger("delete_or_exit_chat",(0,_.unproxy)(e),t)}deleteOrExitChatFromEntryPoint(e,t,n){this.trigger("delete_or_exit_chat_from_entrypoint",(0,_.unproxy)(e),t,n)}clearChat(e,t){this.trigger("clear_chat",(0,_.unproxy)(e),t)}archiveChat(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.trigger("archive_chat",(0,_.unproxy)(e),t,n)}archiveChatFromEntryPoint(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.trigger("archive_chat_from_entrypoint",(0,_.unproxy)(e),t,n,r)}pinChat(e,t){this.trigger("pin_chat",(0,_.unproxy)(e),t)}markChatUnread(e,t){this.trigger("mark_chat_unread",(0,_.unproxy)(e),t)}msgInfoDrawer(e){this.trigger("msg_info_drawer",(0,_.unproxy)(e))}chatSearch(e){this.trigger("chat_search",(0,_.unproxy)(e))}scrollChatHeight(e){this.trigger("scroll_chat_by_height",e)}chatInfoDrawer(e,t,n,r){this.trigger("chat_info_drawer",(0,_.unproxy)(e),t,n,r)}attachMediaDrawer(e){const t=(0,a.default)((0,a.default)({},e),{},{chat:(0,_.unproxy)(e.chat)});this.trigger("attach_media_drawer",t)}attachProduct(e){this.trigger("attach_product",e)}verificationDrawer(e){this.trigger("verification_drawer",e)}mediaViewerModal(e){const{msg:t,getZoomNode:n,currentTime:r,highlightedMsgIds:i}=e;this.trigger("media_viewer_modal",{msg:t,getZoomNode:n,currentTime:r,highlightedMsgIds:i})}openMediaViewerForAlbumMedia(e){this.trigger("open_media_viewer_for_album_media",e)}productImageViewerModal(e,t){this.trigger("product_image_viewer_modal",e,t)}ephemeralDrawer(e,t,n){this.trigger("ephemeral_drawer",e,t,n)}openCommunityHome(e,t,n){this.trigger("open_community_home",e,t,n)}openCommunityTabbedInfo(e,t){this.trigger("open_community_tabbed_info",e,t)}openCommunityHomeManageGroups(e){this.trigger("open_community_home_manage_groups",e)}openCommunityInviteLinkDrawer(e){this.trigger("open_community_invite_link_drawer",e)}openCommunitySettingsDrawer(e){this.trigger("open_community_settings_drawer",e)}openCommunitySubgroupJoinModal(e,t){this.trigger("open_subgroup_join_modal",e,t)}openProfileInfoFromNotification(e){this.trigger("open_profile_info_from_notification",e)}communityAddNewGroup(e,t,n){this.trigger("open_community_add_new_group",e,t,n)}openCreatedNewsletter(e){this.trigger("open_created_newsletter",e)}sendStarMsgs(e,t,n,r){this.trigger("send_star_msgs",(0,_.unproxy)(e),t,n,r)}sendUnstarMsgs(e,t,n,r){this.trigger("send_unstar_msgs",(0,_.unproxy)(e),t,n,r)}sendDeleteMsgs(e,t,n,r,i){this.trigger("send_delete_msgs",(0,_.unproxy)(e),t,n,r,i)}sendRevokeMsgs(e,t,n){this.trigger("send_revoke_msgs",(0,_.unproxy)(e),t,n)}_openChat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.ChatEntryPoint.Unknown;const r=(0,_.unproxy)(e);return new Promise((e=>{this.trigger("open_chat",r,t,n,e)})).catch((e=>{throw __LOG__(2)`Unexpected openChat error: ${String(e)}`,e}))}openChatAt(e,t,n){var r=this;const i=(0,_.unproxy)(e);if(!t)return this.openChatBottom(i);this.setUiBusy(!0);const a=this._openChat(i,t,n).then(function(){var e=(0,o.default)((function*(e){let n,i;const o=null==t.enableAnimation||t.enableAnimation;if(e)if(e.wasVisible)n=()=>r._scrollToFocusedMsg({pos:"offset",offset:e.offset}),i=()=>r._scrollToFocusedMsg({pos:"center",animate:o,duration:400,easing:[.7,0,.3,1]});else switch(n=()=>r._scrollToFocusedMsg({pos:e.alignAt}),e.alignAt){case"top":case"bottom":i=()=>r._scrollToFocusedMsg({pos:"center",animate:o,duration:400,easing:[.88,.64,.13,.99]});break;case"center":default:i=()=>Promise.resolve()}else n=()=>r._scrollToFocusedMsg({pos:"center"}),i=()=>Promise.resolve();return yield n(),i()}));return function(){return e.apply(this,arguments)}}()).then((()=>{this.flashFocusedMsg(t.highlightMentionMsg)})).then((()=>!0)).catch((0,l.catchAbort)((()=>!1)));return a.finally((()=>{this.setUiBusy(!1)})),a}openChatFromUnread(e,t){const n=(0,_.unproxy)(e);let r;if(n.unreadMsgAnchor&&(r={collection:n.unreadMsgAnchor.msgChunk,promise:Promise.resolve(),msg:n.unreadMsgAnchor,isUnreadDivider:n.shouldShowUnreadDivider}),r||n.unreadCount>0){this.setUiBusy(!0);const e=this._openChat(n,r,t).then((()=>this._scrollToFocusedMsg({pos:"top",offset:-120}))).then((()=>!0)).catch((0,l.catchAbort)((()=>!1)));return e.finally((()=>{this.setUiBusy(!1)})),e}return this.openChatBottom(n,t)}openChatBottom(e,t){const n=(0,_.unproxy)(e);let r;this.setUiBusy(!0),n.msgs.length>0&&(r={collection:n.msgs,msg:n.msgs.last(),isUnreadDivider:!1});const i=this._openChat(n,r,t).then((()=>this._scrollChatToBottom())).then((()=>!0)).catch((0,l.catchAbort)((()=>!1)));return i.finally((()=>{this.setUiBusy(!1)})),i}_scrollToFocusedMsg(e){return new Promise((t=>{this.trigger("scroll_to_focused_msg",t,e)})).catch((e=>{__LOG__(3)`Unexpected scrollToFocusedMsg error: ${String(e)}`}))}_scrollChatToBottom(){return new Promise((e=>{this.trigger("scroll_chat_to_bottom",e)})).catch((e=>{__LOG__(3)`Unexpected scrollChatToBottom error: ${String(e)}`}))}flashFocusedMsg(e){self.setTimeout((()=>{this.trigger("flash_focused_msg"),e&&this.trigger("flash_mention_msg")}),0)}updateChatlistSelection(e){const t=(0,_.unproxy)(e);this.trigger("update_chatlist_selection",t)}closeChat(e){const t=(0,_.unproxy)(e);this.trigger("close_chat",t)}focusNextChat(e){this.trigger("focus_next_chat",e)}focusPrevChat(e){this.trigger("focus_prev_chat",e)}focusChatSearch(){this.trigger("focus_chat_search")}startGroupCall(e,t){const n=(0,_.unproxy)(e);this.trigger("voip_start_group_call",n,t)}closeStatusViewer(){this.trigger("close_status_viewer")}openComposeBoxPanel(e){this.trigger("open_compose_box_panel",e)}login(e){this.trigger("login",e)}logout(){this.trigger("logout")}openContextMenu(e,t){this.trigger("open_context_menu",e,t)}closeContextMenu(e){this.trigger("close_context_menu",e)}openTooltip(e,t){this.trigger("open_tooltip",e,t)}closeTooltip(e){this.trigger("close_tooltip",e)}alertNewMsg(e){this.trigger("alert_new_msg",e)}newMediaMsg(e){this.trigger("new_media_msg",e)}alertCall(e,t,n,r,i,o){this.trigger("alert_call",{wid:e,msgId:t,isVideo:n,isGroup:r,canHandleLocally:i,isSilenced:o})}cancelCall(e){this.trigger("cancel_call",e)}windowError(){}onPanesWillChange(e){this.trigger("panes_will_change",e)}onPanesDidChange(e){this.trigger("panes_did_change",e)}reactionChangeLastMessage(){this.trigger("reaction_changed_last_msg")}openGroupsV4InviteRequestFlow(e,t,n,r){this.trigger("open_groups_v4_invite_request_flow",e,t,n,r)}toggleLidDebugBadge(){this.trigger("toggle_lid_debug_badge")}openCommandPalette(){this.trigger("open_command_palette")}closeCommandPalette(){this.trigger("close_command_palette")}setUiBusy(e){let t=this.uiBusy||0;e?(++t,this._clearUiBusy(),this._triggerIdleEvent.cancel()):t&&--t,this.uiBusy=t,0===t&&(this._clearUiBusy.cancel(),this._triggerIdleEvent())}windowMouseDown(e){this.trigger("window_mousedown",e)}windowClick(e){this.trigger("window_click",e)}midnight(){this.trigger("midnight")}serverUpdatedClientExpiration(){this.trigger("serverUpdatedClientExpiration")}textsizeChange(e){this.trigger("textsize_change",e)}scrollMessages(){this.trigger("scroll_messages")}getConversationHeaderOffset(e){this.trigger("get_conversation_header_offset",e)}floaterEscapeOverlap(e,t){this.trigger("floater_escape_overlap",e,t)}refreshMessages(){this.trigger("refresh_messages")}readyForMainStreamModeLegacy(){this.trigger("main_stream_mode_ready_legacy")}storageInitializationError(){this.trigger("storage_initialization_error")}editGroupSubject(){this.trigger("edit_group_subject")}endFlow(){this.trigger("end_flow")}refreshQR(){this.trigger("md_refresh_qr")}setSocketState(e){this.trigger("set_socket_state",e)}socketStreamDisconnected(){this.trigger("socket_stream_disconnected")}openSocketStream(){this.trigger("open_socket_stream")}reconnectSocket(){this.trigger("reconnect_socket")}openLongLinkModal(){this.trigger("open_long_link_modal")}closeLongLinkModal(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.trigger("close_long_link_modal",e)}openLockScreenModal(){this.trigger("open_lock_screen_modal")}correctPasscodeLockScreen(e){this.trigger("correct_passcode_lock_screen",e)}incorrectPasscodeLockScreen(){this.trigger("incorrect_passcode_lock_screen")}offlineDeliveryEnd(){this.isOfflineDeliveryEnd=!0,this.trigger("offline_delivery_end")}offlineDeliveryStart(){this.isOfflineDeliveryEnd=!1,this.trigger("offline_delivery_start")}readyForProcessOffline(){this.trigger("offline_process_ready")}readyForMainStreamMode(){this.isMainStreamReadyMd=!0,this.trigger("main_stream_mode_ready")}onInitialChatHistorySynced(){this.trigger("on_initial_chat_synced")}onRecentChatHistorySynced(){this.trigger("on_recent_chat_history_synced")}onFullChatHistorySynced(){this.trigger("on_full_chat_history_synced")}onHistorySyncChunkProcessed(e){this.trigger("new_history_sync_chunk_processed",e)}handleOfflineProgressUpdate(){this.trigger("offline_progress_update")}criticalSyncDone(){this.trigger("on_critical_sync_done")}onTemporaryBan(e){this.trigger("account_temporarily_banned",e)}onStartingLogout(){this.trigger("starting_logout")}handleFatalError(){this.trigger("handle_fatal_error")}merchantDetailsDrawer(e){this.trigger("merchant_details_drawer",e)}showMerchantDetailsEntityTypePopup(e,t){this.trigger("show_merchant_details_entity_type_popup",e,t)}showCountrySelector(e,t,n,r){this.trigger("show_country_selector_popup",e,t,n,r)}toggleStickerMaker(){this.trigger("toggle_sticker_maker")}onAccountSyncForPrivacy(e){this.trigger("account_sync_for_privacy",e)}openStickerPack(e){this.trigger("open_sticker_pack",e)}onStatusViewerOpen(){this.trigger("status_viewer_open")}triggerStorageAlert(){}triggerBugReportV2(){}onAbPropsUpdate(e){this.trigger("on_ab_props_update",e)}abPropsLoaded(){this.trigger("ab_props_loaded")}onNotificationPermissionChange(){this.trigger("on_notification_permission_change")}playNextPtv(e){this.trigger("sequential_ptv_playback",e)}}t.CmdImpl=E;const A=new E;t.Cmd=A},1204:(e,t,n)=>{"use strict";var r=n(20346).default,i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.documentFlushed=function(e){var t;const n=null!==(t=null==e?void 0:e.signal)&&void 0!==t?t:l();return new Promise(((e,t)=>{if(n.aborted)return void t(new a.AbortError);let r;function i(){n.removeEventListener("abort",l);const e=s.indexOf(o);-1!==e&&s.splice(e,1),0===s.length&&null!=r&&(r(),r=null)}function o(){i(),e()}function l(){i(),t(new a.AbortError)}s.push(o),n.addEventListener("abort",l),1===s.length&&(r=function(){let e;const t=window.requestAnimationFrame((()=>{e=self.setTimeout((()=>{c()}),0)}));return()=>{window.cancelAnimationFrame(t),self.clearTimeout(e)}}())}))},t.resolveAllForTestingOnly=void 0;var o=i(n(51463)),a=n(2560);const s=[],l=(0,o.default)((()=>(new r).signal));function c(){for(;s.length>0;){s.shift()()}}t.resolveAllForTestingOnly=()=>(c(),Promise.resolve())},11157:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(93948)),o=r(n(19194)),a=r(n(26857));class s extends a.default{constructor(){super(...arguments),this.matchAction=e=>e===o.default.ACTIVE_TAB,this.onAction=()=>i.default.broadcast(o.default.ACTIVE_TAB)}}t.default=s},83933:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(19194)),a=r(n(26857));class s extends a.default{constructor(){var e;super(...arguments),e=this,this.matchFetch=e=>{const{request:t}=e,n=a.default.parseUrl(t.url);return t.method===a.default.RequestType.GET&&!!n&&n.base===self.registration.scope&&!!n.relativePath.match("^img/")},this.onFetch=function(){var t=(0,i.default)((function*(t){const{request:n}=t,r=yield e.cache.matchOrFetch(n);return r.ok?r:e.cache.fetchAndPut(n)}));return function(){return t.apply(this,arguments)}}(),this.matchAction=e=>o.default.CLEAN_ASSETS===e,this.onAction=function(){var t=(0,i.default)((function*(t,n){const r=new Set(n),i=yield e.cache.keys();if(!i)return;const o=[];return i.forEach((e=>{const t=e.url.lastIndexOf("/")+1,n=e.url.slice(t);r.has(n)||o.push(e)})),Promise.all(o.map((t=>e.cache.delete(t))))}));return function(){return t.apply(this,arguments)}}()}}t.default=s},52612:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(93948)),o=r(n(89482));t.default=e=>{self.addEventListener("install",(function(t){__LOG__(2)`Installing...`;const n=e.filter((e=>e.matchInstall(t))).map((e=>Promise.resolve(e.onInstall(t))));t.waitUntil(Promise.all(n).then((()=>self.skipWaiting())).catch((e=>{__LOG__(3)`onInstall error: ${String(e)}`})))})),self.addEventListener("activate",(function(t){__LOG__(2)`Activating...`;const n=e.filter((e=>e.matchActivate(t))).map((e=>e.onActivate(t)));t.waitUntil(self.clients.claim().then((()=>Promise.all(n))).catch((e=>{__LOG__(3)`onActivate error: ${e}.`})))})),self.addEventListener("fetch",(function(t){const n=e.find((e=>e.matchFetch(t)));if(n)return t.respondWith(n.onFetch(t))})),self.addEventListener("push",(function(t){const n=e.find((e=>e.matchPush(t)));if(n)return n.onPush(t)})),self.addEventListener("notificationclick",(function(t){const n=e.find((e=>e.matchNotificationClick(t)));if(n)return n.onNotificationClick(t)}));new i.default((t=>{let{action:n,message:r}=t;const i=e.find((e=>e.matchAction(n)));return i?i.onAction(n,r):Promise.reject((0,o.default)(`Invalid Action: ${n}`))})).init()}},58043:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(19194)),a=r(n(23735)),s=r(n(26857)),l=r(n(5420));class c extends s.default{constructor(e,t){var n;super(e,t),n=this,this.matchInstall=()=>!0,this.onInstall=function(){var e=(0,i.default)((function*(){const e=yield n.store.get("l10n");return n.cacheObject.hashedResources.push(...n.cachedL10nHashes(n.cacheObject,e)),n.cache.update(n.cacheObject.hashedResources,n.cacheObject.unhashedResources)}));return function(){return e.apply(this,arguments)}}(),this.matchActivate=()=>!0,this.onActivate=()=>this.cache.cleanup(),this.matchFetch=e=>{const{request:t}=e,n=s.default.parseUrl(t.url);return t.method===s.default.RequestType.GET&&!this.isCacheStale()&&!!n&&n.base===self.registration.scope&&this.cacheList.has(n.relativePath)},this.onFetch=e=>{const{request:t}=e,n=s.default.parseUrl(t.url);return n?this.cache.matchOrFetch(t,`${n.base}${n.relativePath}`):self.fetch(t)},this.matchAction=e=>e===o.default.SET_L10N,this.onAction=function(){var e=(0,i.default)((function*(e,t){const r=yield n.store.get("l10n");if(r&&t.locale===r.locale)return;const[i]=n.cachedL10nHashes(n.cacheObject,t);if(!i)return n.store.delete("l10n");const o=`${self.registration.scope}${l.default.getIndexPath(t)}`;return Promise.all([n.cache.fetchAndPut(o,self.registration.scope),n.store.put("l10n",{locale:t.locale,isRTL:t.isRTL})])}));return function(){return e.apply(this,arguments)}}(),this.cacheObject=a.default,this.cacheList=new Set([...this.cacheObject.hashedResources,...this.cacheObject.unhashedResources,...Object.keys(this.cacheObject.l10n.locales).map((e=>this.cacheObject.l10n.locales[e]))])}cachedL10nHashes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{locale:n}=t,r=e.l10n.locales[n];return r?[r]:[]}isCacheStale(){return(new Date).getTime()-this.cacheObject.releaseDate>=2592e6}}t.default=c},67719:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(92083)),a=r(n(5420));const s=o.default.prefs,l=self.caches.keys(),c=/wa\d+\.\d+\.\d+(\.[id])?(\.canary)?$/,u=["wa-pp","wa-assets","wa-stickers","wa_web_user_prefs_cache_store"];function d(e){this.cacheName=e,this.openCachePromise=self.caches.open(this.cacheName)}function _(){return(_=(0,i.default)((function*(e){try{const t=(yield l).find((t=>t!==e&&c.test(t)));if(t)return new d(t)}catch(e){__LOG__(3)`Could not find previous cache, current cache:${this.cacheName}, error: ${e}`}}))).apply(this,arguments)}d.prototype={update(e,t){var n=this;return(0,i.default)((function*(){try{const r=yield function(){return _.apply(this,arguments)}(n.cacheName);if(!r)return;return __LOG__(2)`Updating cache: ${n.cacheName}`,s.get("l10n").then((i=>Promise.all(n.prefetchHashedResources(e,r).concat(n.prefetchUnhashedResources(t,i)))))}catch(e){__LOG__(3)`Error occured while updating cache:${n.cacheName}, error: ${e}`}}))()},prefetchHashedResources(e,t){var n=this;return e.map(function(){var e=(0,i.default)((function*(e){const r=self.registration.scope+e,i=yield t.match(r).catch((e=>{__LOG__(3)`Unable to match prev. cache, cache name: ${t.cacheName}, request: ${r}, error: ${e}`}));return i?n.put(r,i):n.fetchAndPut(r)}));return function(){return e.apply(this,arguments)}}())},prefetchUnhashedResources(e,t){return e.map((e=>""===e?this.fetchAndPut(self.registration.scope+a.default.getIndexPath(t),self.registration.scope,{cache:"reload"}):this.fetchAndPut(self.registration.scope+e)))},cleanup(){var e=this;return(0,i.default)((function*(){const t=yield l;return Promise.all(t.map((t=>{if(t!==e.cacheName&&!u.includes(t))return self.caches.delete(t).catch((n=>{__LOG__(3)`Unable to delete cache: ${t}, current cache: ${e.cacheName}, error: ${n}`}))})))}))()},matchOrFetch(e,t,n){var r=this;return(0,i.default)((function*(){const i=t||f(e);return(yield r.match(i))||r.fetchAndPut(e,i,n)}))()},fetchAndPut(e,t,n){var r=this;return(0,i.default)((function*(){const i=a.default.manuallyCloneRequest(e,void 0,{redirect:"manual",mode:"cors"});try{const o=yield self.fetch(i,n);if(o.ok){const n=t||f(e);r.put(n,o.clone())}else"opaqueredirect"!==o.type&&__LOG__(3)`Received invalid response, url: ${o.url}, status: ${o.status}, type: ${o.type}`;return o}catch(t){throw __LOG__(3)`Unable to fetch request: ${f(e)}, error: ${t}`,t}}))()},reset(){return this.openCachePromise=self.caches.delete(this.cacheName).then((()=>self.caches.open(this.cacheName)))},match(e,t){var n=this;return(0,i.default)((function*(){try{const r=yield n.openCachePromise;return yield r.match(e,t)}catch(t){__LOG__(3)`Unable to match request: ${f(e)}, in cache: ${n.cacheName}, error: ${t}`}}))()},put(e,t){var n=this;return(0,i.default)((function*(){try{const r=yield n.openCachePromise;return yield r.put(e,t)}catch(r){__LOG__(3)`Unable to put in cache: ${n.cacheName}, request: ${f(e)}, response status: ${t.status}, error: ${r}`}}))()},delete(e,t){var n=this;return(0,i.default)((function*(){try{const r=yield n.openCachePromise;return yield r.delete(e,t)}catch(t){__LOG__(3)`Unable to delete request: ${f(e)}, in cache: ${n.cacheName}, error: ${t}`}}))()},keys(e,t){var n=this;return(0,i.default)((function*(){try{const r=yield n.openCachePromise;return yield r.keys(e,t)}catch(t){__LOG__(3)`Unable to match request: ${f(e)}, in cache: ${n.cacheName}, error: ${t}`}}))()}};var p=d;function f(e){return e instanceof Request?e.url:e}t.default=p},23735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={version:"2.2335.9",hashedResources:["~~~.6484b7562459703c0ff5.js","1761.54d646d17de968cbacc1.js","2266.87ab44d761a0ff36c0ea.js","3405.b9747b75e6058846ed90.js","4018.473172285d70c03197bb.js","4106.a487b6ac9fc04da6b50a.js","432.c61f9621ca2feb296ee7.js","4548.792c5da266e5ea08d5f3.js","4944.cae5d06abb1b7e4ee034.js","5346.72056a1c38e64d3393ae.js","6086.14cf80e6ae6763d7a026.js","6235.f450c724562fb367d0b7.js","648.b63736481bc87d180992.js","675.189a37274da70586e547.js","9916.7f781d8c934769001344.js","app.007cfdb344cabd1c5678.js","early_error_handling.2e379edc2439908d27d2.js","lazy_loaded_business_direct_utils.a674e7d659e3a15c37a1.js","lazy_loaded_ca_root_certificates.ab2711e7139ff1b2317d.js","lazy_loaded_high_priority_components.896c73c12d33c85d2229.js","lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.9e3b8044cf99d3b085af.js","lazy_loaded_low_priority_components.98973f0d34bb4336778c.js","lazy_loaded_low_priority_components~.a280e19f9bc2c5f5c596.js","lazy_loaded_remove_direct_connection_keys.74bdf19d14b495555def.js","libsignal-protocol-ee5b8ba.min.js","main.153422c56d9eb58d13f4.js","main~.d61a18f50707c801c595.js","pdf.worker.96d1bc1f3d0105cd5a81bae7a9dad228.js","runtime.ccd01329764b032b998b.js","vendor1~app.7f14216f970118f62a35.js","vendors~lazy_loaded_business_direct_utils.e24e12d5047d3b57fef7.js","vendors~lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.e4bc397bdb594c85b9eb.js","vendors~lazy_loaded_low_priority_components.0f4c5dee6990d8a1c883.js","vendors~lazy_loaded_relay.02487063794588856ddc.js","vendors~main.7e165df5f2eb091c4a6f.js","vendors~main~.4e64aa7c592312b70e21.js","vendors~pdf.9f876162b6247e9c8463.js","app-af367c33bcf644294e0b.css","browsers_6b4c96271d11e022eecc.css","lazy_loaded_high_priority_components.44636e5a72bd158e6325.css","lazy_loaded_low_priority_components.1377a9dc2681b5acc9d2.css","main.eeffb74e3ea00ae41e46.css","main~.41fdb1fbd886b200ebab.css","stylex-ab5c1c8c5b049782577ecc019febecea.css"],unhashedResources:["apple-touch-icon.png","assets-manifest-2.2335.9.json","binary-transparency-manifest-2.2335.9.json","bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf","crossdomain.xml","favicon-48x48.ico","favicon-64x64.ico","favicon.ico","manifest-apple.json","manifest.json","notification_2a485d84012c106acef03b527bb54635.mp3","noto_emoji_regular_74a68c7003890e207589ea43dc7572ca.ttf","robots.txt","sequential-ptt-end_62ed28be622237546fd39f9468a76a49.mp3","sequential-ptt-middle_7fa161964e93db72b8d00ae22189d75f.mp3","whatsapp_pwa_apple_icon_128.png","whatsapp_pwa_apple_icon_16.png","whatsapp_pwa_apple_icon_192.png","whatsapp_pwa_apple_icon_32.png","whatsapp_pwa_apple_icon_512.png","whatsapp_pwa_apple_icon_512.svg","whatsapp_pwa_apple_icon_60.png","whatsapp_pwa_apple_icon_64.png","whatsapp_pwa_apple_icon_90.png","whatsapp_pwa_icon_128.png","whatsapp_pwa_icon_16.png","whatsapp_pwa_icon_192.png","whatsapp_pwa_icon_32.png","whatsapp_pwa_icon_512.png","whatsapp_pwa_icon_512.svg","whatsapp_pwa_icon_60.png","whatsapp_pwa_icon_64.png","whatsapp_pwa_icon_90.png","whatsapp-webclient-login_c09223f0813e7c3adc16476cba2a5d0d.mp4","whatsapp-webclient-login-hq_0e0caf2391158ebc09fe32edd1022d03.mp4"],l10n:{locales:{"[request].18382cbd2fea006fbd6b.js":"locales/[request].18382cbd2fea006fbd6b.js","af-json.e6e060fca9f520fd4cc1.js":"locales/af-json.e6e060fca9f520fd4cc1.js","af.171fce6e43cd06a80270.js":"locales/af.171fce6e43cd06a80270.js","ar-json.711fd42dae4c6fd2f162.js":"locales/ar-json.711fd42dae4c6fd2f162.js","ar-XB.aeb7563f2e06774a6c8c.js":"locales/ar-XB.aeb7563f2e06774a6c8c.js","ar.ca5349e834264a1db358.js":"locales/ar.ca5349e834264a1db358.js","az-json.ac2e57fcbbbbb4413bdf.js":"locales/az-json.ac2e57fcbbbbb4413bdf.js","az.b90f1c8fcd7cc2d046c0.js":"locales/az.b90f1c8fcd7cc2d046c0.js","bg-json.8c9b9e32ce35abebbcb5.js":"locales/bg-json.8c9b9e32ce35abebbcb5.js","bg.0f66954152873b3b8835.js":"locales/bg.0f66954152873b3b8835.js","bn-json.aba923e60c7e394e9c69.js":"locales/bn-json.aba923e60c7e394e9c69.js","bn.426f8eb57bb35185a6e2.js":"locales/bn.426f8eb57bb35185a6e2.js","ca-json.e1ddd3ad02984ad281a5.js":"locales/ca-json.e1ddd3ad02984ad281a5.js","ca.4bcddbf8568482cf56d3.js":"locales/ca.4bcddbf8568482cf56d3.js","cs-json.8f706df20382364fffe1.js":"locales/cs-json.8f706df20382364fffe1.js","cs.5fa3e50f300565c9666c.js":"locales/cs.5fa3e50f300565c9666c.js","da-json.68367cd9b489d673a413.js":"locales/da-json.68367cd9b489d673a413.js","da.a4d80de7d58cd8d90617.js":"locales/da.a4d80de7d58cd8d90617.js","de-json.635a09ebc28de2716054.js":"locales/de-json.635a09ebc28de2716054.js","de.aeb4d0d2877b3af3cc7e.js":"locales/de.aeb4d0d2877b3af3cc7e.js","el-json.2e2f8bac9a5cd25050cb.js":"locales/el-json.2e2f8bac9a5cd25050cb.js","el.901d36fe5cf687908a4b.js":"locales/el.901d36fe5cf687908a4b.js","en-json.d665be4bfc342067f9bd.js":"locales/en-json.d665be4bfc342067f9bd.js","en.f02296119a9852f2c5f7.js":"locales/en.f02296119a9852f2c5f7.js","es-json.216d36ef3b32ec9b6aea.js":"locales/es-json.216d36ef3b32ec9b6aea.js","es.2be941e20ab77c7b6862.js":"locales/es.2be941e20ab77c7b6862.js","et-json.bb6dcec63eadddda1d57.js":"locales/et-json.bb6dcec63eadddda1d57.js","et.d6e11d7939f3c8471e30.js":"locales/et.d6e11d7939f3c8471e30.js","fa-json.add0b10bdc06d66bc040.js":"locales/fa-json.add0b10bdc06d66bc040.js","fa.06864ab3d1d977b963f1.js":"locales/fa.06864ab3d1d977b963f1.js","fi-json.09e47b9960d46c913a04.js":"locales/fi-json.09e47b9960d46c913a04.js","fi.8dc9fd87ab2ab1c91c19.js":"locales/fi.8dc9fd87ab2ab1c91c19.js","fil-json.854682a02cf129cd18d5.js":"locales/fil-json.854682a02cf129cd18d5.js","fil.a976852467afaeb821d4.js":"locales/fil.a976852467afaeb821d4.js","fr-json.6a722501db21be51bddf.js":"locales/fr-json.6a722501db21be51bddf.js","fr.97a5e05c44032a983091.js":"locales/fr.97a5e05c44032a983091.js","gu-json.05725aa16edac5dc0179.js":"locales/gu-json.05725aa16edac5dc0179.js","gu.f7f66f1a5f6eb92b6be6.js":"locales/gu.f7f66f1a5f6eb92b6be6.js","he-json.4de4932347c09714371b.js":"locales/he-json.4de4932347c09714371b.js","he.4ca09218fb440a622213.js":"locales/he.4ca09218fb440a622213.js","hi-json.04623748ba320e493047.js":"locales/hi-json.04623748ba320e493047.js","hi.66ea69a6dc4a0db1d0a2.js":"locales/hi.66ea69a6dc4a0db1d0a2.js","hr-json.26f4a1ab2c647aeb620e.js":"locales/hr-json.26f4a1ab2c647aeb620e.js","hr.5402cf822301c4fd0157.js":"locales/hr.5402cf822301c4fd0157.js","hu-json.86402b15e7707a6554b7.js":"locales/hu-json.86402b15e7707a6554b7.js","hu.f9a8bc67d5149d02bb94.js":"locales/hu.f9a8bc67d5149d02bb94.js","id-json.d04a2590e276f1550977.js":"locales/id-json.d04a2590e276f1550977.js","id.e8210913310be2ced681.js":"locales/id.e8210913310be2ced681.js","it-json.0e525895f812306e10da.js":"locales/it-json.0e525895f812306e10da.js","it.f5b07736d1644eae185f.js":"locales/it.f5b07736d1644eae185f.js","ja-json.94a6aa6c1afdfd487041.js":"locales/ja-json.94a6aa6c1afdfd487041.js","ja.1fad86105b1e89182fd0.js":"locales/ja.1fad86105b1e89182fd0.js","kk-json.9c79f3aca84e14358caf.js":"locales/kk-json.9c79f3aca84e14358caf.js","kk.672e729123a25c9cb63d.js":"locales/kk.672e729123a25c9cb63d.js","kn-json.5419b0bfa599a0891b0b.js":"locales/kn-json.5419b0bfa599a0891b0b.js","kn.6948f49133bf226e295e.js":"locales/kn.6948f49133bf226e295e.js","ko-json.2a2b0f6065b666b83aac.js":"locales/ko-json.2a2b0f6065b666b83aac.js","ko.914453a99d68d4e82dbc.js":"locales/ko.914453a99d68d4e82dbc.js","lt-json.3e80fa820282c51969f1.js":"locales/lt-json.3e80fa820282c51969f1.js","lt.c89bec76bc09946bf5fc.js":"locales/lt.c89bec76bc09946bf5fc.js","lv-json.e733e7592b554576f470.js":"locales/lv-json.e733e7592b554576f470.js","lv.914f60a2657335b68962.js":"locales/lv.914f60a2657335b68962.js","mk-json.e3dae2dd84c1c28fd400.js":"locales/mk-json.e3dae2dd84c1c28fd400.js","mk.62c1689e205804f78552.js":"locales/mk.62c1689e205804f78552.js","ml-json.d3a42aa6a9d2f0d7612c.js":"locales/ml-json.d3a42aa6a9d2f0d7612c.js","ml.9e4817df49b318fc14b2.js":"locales/ml.9e4817df49b318fc14b2.js","mr-json.363fcf59a04eac2783df.js":"locales/mr-json.363fcf59a04eac2783df.js","mr.0a4313ba3582a6f0481a.js":"locales/mr.0a4313ba3582a6f0481a.js","ms-json.57c6062648341831d629.js":"locales/ms-json.57c6062648341831d629.js","ms~main.76423dc6c36ab0b8a6c0.js":"locales/ms~main.76423dc6c36ab0b8a6c0.js","nb-json.574df781e00246579b3e.js":"locales/nb-json.574df781e00246579b3e.js","nb.9873a82a06f189d3719f.js":"locales/nb.9873a82a06f189d3719f.js","nl-json.64f211438e8c51d31857.js":"locales/nl-json.64f211438e8c51d31857.js","nl.cbc7ee9bea5015f1c443.js":"locales/nl.cbc7ee9bea5015f1c443.js","pa-json.04cad7f495f36700584a.js":"locales/pa-json.04cad7f495f36700584a.js","pa.8fee8b7d01fca90666e9.js":"locales/pa.8fee8b7d01fca90666e9.js","pl-json.772b13461c108f2adbb2.js":"locales/pl-json.772b13461c108f2adbb2.js","pl.3854b17545111d17b41d.js":"locales/pl.3854b17545111d17b41d.js","pt-BR.328b76fb3340eebf9604.js":"locales/pt-BR.328b76fb3340eebf9604.js","pt-json.b0dc4a8741ba589e17a1.js":"locales/pt-json.b0dc4a8741ba589e17a1.js","pt.a8691a8369aa8054e030.js":"locales/pt.a8691a8369aa8054e030.js","ro-json.e5d70c52e212ae8440ef.js":"locales/ro-json.e5d70c52e212ae8440ef.js","ro.108d0fb1fbda7e7d3c21.js":"locales/ro.108d0fb1fbda7e7d3c21.js","ru-json.1f60f8858a0e4b180728.js":"locales/ru-json.1f60f8858a0e4b180728.js","ru.5416b61d93eac32fa32c.js":"locales/ru.5416b61d93eac32fa32c.js","sk-json.cf010b39a88cca8b24fa.js":"locales/sk-json.cf010b39a88cca8b24fa.js","sk.d3af8da37ee95699a029.js":"locales/sk.d3af8da37ee95699a029.js","sl-json.6676bc63c7892e7500fb.js":"locales/sl-json.6676bc63c7892e7500fb.js","sl.58a354d9a4c3c120899a.js":"locales/sl.58a354d9a4c3c120899a.js","sq-json.b298824d8b51e7071b91.js":"locales/sq-json.b298824d8b51e7071b91.js","sq.b9f760998d23a8b3dd59.js":"locales/sq.b9f760998d23a8b3dd59.js","sr-json.eaf850bf121aaf81858f.js":"locales/sr-json.eaf850bf121aaf81858f.js","sr.f1a3844434efa6d079bf.js":"locales/sr.f1a3844434efa6d079bf.js","sv-json.f3de250c2f26fcf74d1c.js":"locales/sv-json.f3de250c2f26fcf74d1c.js","sv.deeaa4c3dc2fab436ece.js":"locales/sv.deeaa4c3dc2fab436ece.js","sw-json.c01f5483f6489d0feebf.js":"locales/sw-json.c01f5483f6489d0feebf.js","sw.f68150a11f4319432cf6.js":"locales/sw.f68150a11f4319432cf6.js","ta-json.87dcf918cd8457a3da64.js":"locales/ta-json.87dcf918cd8457a3da64.js","ta.262143575cdf0c706307.js":"locales/ta.262143575cdf0c706307.js","te-json.fe15e3214a762dc46db8.js":"locales/te-json.fe15e3214a762dc46db8.js","te.42ed0beafd26f9b74838.js":"locales/te.42ed0beafd26f9b74838.js","th-json.389a71b73cf6942381c6.js":"locales/th-json.389a71b73cf6942381c6.js","th.33b10dfac24d6426d599.js":"locales/th.33b10dfac24d6426d599.js","tr-json.9225266375a6144c40fd.js":"locales/tr-json.9225266375a6144c40fd.js","tr.5bac495bdff415977706.js":"locales/tr.5bac495bdff415977706.js","uk-json.896a06e70d5fa7821921.js":"locales/uk-json.896a06e70d5fa7821921.js","uk.aef4938f7d19c1c1c72e.js":"locales/uk.aef4938f7d19c1c1c72e.js","ur-json.c5c7df488a39b264c1c9.js":"locales/ur-json.c5c7df488a39b264c1c9.js","ur.cd8ca6a00508344fe5e9.js":"locales/ur.cd8ca6a00508344fe5e9.js","uz-json.cf8ffb2271e0350c737d.js":"locales/uz-json.cf8ffb2271e0350c737d.js","uz.ba1672575648476af405.js":"locales/uz.ba1672575648476af405.js","vi-json.b3221fce07cc46c1e361.js":"locales/vi-json.b3221fce07cc46c1e361.js","vi.cc8208e571c098ee52f4.js":"locales/vi.cc8208e571c098ee52f4.js","zh-CN-json.38d2a410caee876abb49.js":"locales/zh-CN-json.38d2a410caee876abb49.js","zh-CN.59f81ee40788ae46b48c.js":"locales/zh-CN.59f81ee40788ae46b48c.js","zh-HK-json.7082091be98973ef367c.js":"locales/zh-HK-json.7082091be98973ef367c.js","zh-HK.662ec5ce9b58bdd64cae.js":"locales/zh-HK.662ec5ce9b58bdd64cae.js","zh-TW-json.d423ed1bfe02fcc65122.js":"locales/zh-TW-json.d423ed1bfe02fcc65122.js","zh-TW.4fa9b2a0d81ccff5f517.js":"locales/zh-TW.4fa9b2a0d81ccff5f517.js"},styles:{}},releaseDate:1692836078623}},26857:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(28123),o=r(n(89482));const a=new RegExp(`(${self.registration.scope}|${i.DYN_ORIGIN}|https://dyn.web.whatsapp.com/)([^?]*)(?:\\?(.*))?`);class s{static parseUrl(e){const t=e.match(a);if(!t)return;let n;if(t[3]){const r={},i=new Set;t[3].split("&").forEach((t=>{const[n,a]=t.split("="),s=n.toLowerCase();if(i.has(s))throw __LOG__(4,void 0,new Error)`Unexpected duplicated query param: ${n}=${a} in the url: ${e}`,(0,o.default)("Detected url with duplicated query param");i.add(s),r[n]=a})),n=r}return{base:t[1],relativePath:t[2],queryParams:n}}static convertToUrl(e,t){const n=Object.keys(t).map((e=>[e,t[e]].map(encodeURIComponent).join("="))).join("&");return n.length?e.endsWith("/")?`${e}?${n}`:`${e}/?${n}`:e}constructor(e,t){this.matchFetch=()=>!1,this.matchAction=()=>!1,this.matchInstall=()=>!1,this.matchActivate=()=>!1,this.matchPush=()=>!1,this.matchNotificationClick=()=>!1,this.cache=e,this.store=t}}t.default=s,s.RequestType={GET:"GET"}},35791:(e,t,n)=>{"use strict";{const{LOG_CAPACITY_IN_DATABASE:e,LoggerImpl:t}=n(93724),{provideDb:r}=n(84146),i=new t((()=>Promise.resolve(r())),e,"service-worker");self.__LOG__=i.log;const o=n(3450).sendLogs;self.SEND_LOGS=o,self.onerror=e=>{const t=i.logUncaughtError(e);o(t)},self.onunhandledrejection=e=>{const{promise:t,reason:n}=e,r=i.logUncaughtError(n,t);o(r)};const{setWamRuntime:a}=n(5117);a({commit:n(60026).th,set:n(60026).t8})}},13986:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(26857));class o extends i.default{constructor(){super(...arguments),this.matchNotificationClick=()=>!0,this.onNotificationClick=e=>{e.notification.close(),e.waitUntil(self.clients.matchAll({type:"window"}).then((e=>{if(!e)return;for(let t=0;t<e.length;t++){const n=e[t];if(null!=self.WindowClient&&n instanceof self.WindowClient)return n.focus()}const t=self.location.href.lastIndexOf("/"),n=self.location.href.substring(0,t+1),r="/serviceworker.js"===self.location.pathname?self.location.origin:n;return self.clients.openWindow(r)})))}}}t.default=o},92083:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(3563)).default;t.default=i},3563:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(49619)),a=r(n(91373));const s={prefs:{},pp:{},stickers:{}};let l;class c{constructor(e){this.storeName=e,this.storeCache={}}_callAction(e,t){var n=this;return(0,i.default)((function*(){const r=(yield l||(l=new Promise(((e,t)=>{const n=(0,o.default)(a.default,"indexedDB").open("sw",2);n.onupgradeneeded=e=>{const t=e.target.result;e.target.transaction.onerror=e=>{__LOG__(3)`Unable to upgrade database, error: ${e.target.error}`};for(const e in s)t.objectStoreNames.contains(e)&&t.deleteObjectStore(e),t.createObjectStore(e,s[e])},n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{t(e.target.error)}})).catch((e=>{throw __LOG__(3)`Unable to open sw database, error: ${e}`,l=void 0,e})))).transaction([n.storeName],"readwrite").objectStore(n.storeName),i=r[e].apply(r,t);return new Promise(((e,t)=>{i.onsuccess=t=>{e(t.target.result)},i.onerror=e=>{t(e.target.error)}}))}))()}get(e){return void 0!==this.storeCache[e]?this.storeCache[e]:this.storeCache[e]=this._callAction("get",[e]).catch((t=>{__LOG__(3)`Unable to fetch from db, object store: ${this.storeName}, key: ${e}, error: ${t}`,this.storeCache[e]=void 0}))}put(e,t){return this.storeCache[e]=Promise.resolve(t),this._callAction("put",[t,e]).catch((n=>{__LOG__(3)`Unable to put to db, object store: ${this.storeName}, key: ${e}, value: ${t}, error: ${n}`}))}delete(e){return this.storeCache[e]=Promise.resolve(void 0),this._callAction("delete",[e]).catch((t=>{__LOG__(3)`Unable to delete in db, object store: ${this.storeName}, key: ${e}, error: ${t}`}))}clear(){return this.storeCache={},this._callAction("clear").catch((e=>{__LOG__(3)`Unable to clear object store: ${this.storeName}, error: ${e}`}))}}const u={ObjectStore:c};for(const e in s)u[e]=new c(e);var d=u;t.default=d},86278:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(28123),a=r(n(19194)),s=r(n(26857)),l=r(n(5420));class c extends s.default{constructor(){var e;super(...arguments),e=this,this.matchFetch=e=>{const{request:t}=e,n=s.default.parseUrl(t.url);return t.method===s.default.RequestType.GET&&!!n&&(n.base===o.DYN_ORIGIN||"https://dyn.web.whatsapp.com/"===n.base)&&"pp"===n.relativePath},this.onFetch=function(){var t=(0,i.default)((function*(t){const{request:n}=t,r=s.default.parseUrl(n.url);if(!r||!r.queryParams)return self.fetch(n);const{e:i,t:o,u:a,i:c,n:u}=r.queryParams,d=`${r.base}${r.relativePath}?t=${o}&u=${a}&i=${c}&n=${u}`,_=i?self.decodeURIComponent(i):n;l.default.assertIsAllowedHost(i?self.decodeURIComponent(i):n.url);const p=yield e.cache.matchOrFetch(_,d);return p.ok&&e.store.get(a).then((t=>{if(t!==c)return Promise.all([e.removePPFromCache(a,c),e.store.put(a,c)])})),l.default.assertIsAllowedHost(p.url),p}));return function(){return t.apply(this,arguments)}}(),this.matchAction=e=>a.default.REMOVE_PP===e||a.default.LOGOUT===e,this.onAction=(e,t)=>{switch(e){case a.default.REMOVE_PP:{const e=self.encodeURIComponent(t);return this.store.get(e).then((t=>{if(t)return Promise.all([this.removePPFromCache(e,t),this.store.delete(e)])})).then((()=>{}))}default:return Promise.all([this.cache.reset(),this.store.clear()]).then((()=>{}))}}}removePPFromCache(e,t){return Promise.all([this.cache.delete(`${o.DYN_ORIGIN}pp?t=s&u=${e}&i=${t}`),this.cache.delete(`${o.DYN_ORIGIN}pp?t=l&u=${e}&i=${t}`),this.cache.delete(`https://dyn.web.whatsapp.com/pp?t=s&u=${e}&i=${t}`),this.cache.delete(`https://dyn.web.whatsapp.com/pp?t=l&u=${e}&i=${t}`)])}}t.default=c},72100:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(19026),a=n(17761),s=r(n(19194)),l=r(n(26857)),c=n(97023);let u=!1;class d extends l.default{constructor(){super(...arguments),this.matchInstall=()=>!0,this.onInstall=()=>{},this.matchActivate=()=>!0,this.onActivate=()=>{},this.matchPush=()=>!0,this.onPush=e=>{const t=function(){var e=(0,i.default)((function*(){if(!(0,a.canSupportOfflineNotifications)())return Promise.resolve();if(u)return Promise.resolve();u=!0;const e=yield self.clients.matchAll({type:"window"});if((null==e?void 0:e.length)>0)return;let t;{__LOG__(2)`[PushNotif] Starting backend for push notification`;const e=n(40704);yield e.initializeDb(),e.handlePushNotification(),t=yield(0,c.getOfflineNotificationContent)()}return(0,n(24275).N)(t)}));return function(){return e.apply(this,arguments)}}();e.waitUntil(t())},this.matchAction=e=>e===s.default.STOP_COMMS,this.onAction=function(){var e=(0,i.default)((function*(){u&&((0,o.getComms)()&&(yield(0,o.stopComms)(),__LOG__(2)`[push-notification] Successfully stopped Comms in service worker`),n(68231).WorkerOfflineResumeReporter.logProcessInterrupted())}));return function(){return e.apply(this,arguments)}}()}}t.default=d},92543:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(77674),o=r(n(26857));class a extends o.default{constructor(){super(...arguments),this.matchFetch=e=>{const{request:t}=e,n=new URL(t.url),r=new URLSearchParams(n.search);return t.method===o.default.RequestType.GET&&r.has(i.IS_MMS_URL_SEARCH_PARAM)&&(0===n.pathname.indexOf("/mms/sticker/")||"sticker"===r.get(i.MMS_URL_MEDIA_TYPE_SEARCH_PARAM))},this.onFetch=e=>this.cache.matchOrFetch(e.request)}}t.default=a},5420:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(89482));function o(e){const t=new URL(e),n=t.host;if("https:"!==t.protocol||!/\.whatsapp\.(net|com)(:\d+)?$/.test(n))throw __LOG__(4,void 0,new Error,!0)`Unexpected url`,SEND_LOGS("SW: Potential XSS attack"),(0,i.default)("URL is not of allowed host or protocol")}var a={manuallyCloneRequest:function(e,t,n){let r=n;if("string"==typeof e){r=r||{},r.credentials="same-origin";const n=null!=t?t:e;return o(n),new Request(n,r)}const i=null!=t?t:e.url;return o(i),new Request(i||e.url,{method:void 0===r.method?e.method:r.method,headers:void 0===r.headers?e.headers:r.headers,mode:void 0===r.mode?e.mode:r.mode,credentials:"same-origin",cache:void 0===r.cache?e.cache:r.cache,redirect:void 0===r.redirect?e.redirect:r.redirect,integrity:void 0===r.integrity?e.integrity:r.integrity})},getIndexPath:function(e){return(null==e?void 0:e.locale)?`%F0%9F%8C%90/${e.locale}`:""},assertIsAllowedHost:o};t.default=a},24414:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.VideoStreamer=void 0,t.parseClientRange=p;var i=r(n(48926)),o=n(9093),a=n(58358),s=n(78615),l=r(n(93948)),c=r(n(19194)),u=r(n(5420)),d=r(n(89482));const _=65536;function p(e){const{clientRangeStartString:t,clientRangeEndString:n}=function(e){const t=e.headers.get("Range");if(t){const[e,n]=t.replace("bytes=","").split("-");return{clientRangeStartString:e,clientRangeEndString:n}}const n=new URL(e.url);return{clientRangeStartString:n.searchParams.get("bytesstart"),clientRangeEndString:n.searchParams.get("bytesend")}}(e),r=parseInt(t,10),i=parseInt(n,10);return{clientRangeStart:isNaN(r)?0:r,clientRangeEnd:isNaN(i)?null:i}}t.VideoStreamer=class{constructor(e,t,n){this.generation=0;const{sidecar:r}=t,i=[];for(let e=0;e<r.byteLength;e+=s.HMAC_SIZE)i.push(r.slice(e,e+s.HMAC_SIZE));this.cryptoKeys={iv:t.iv,sidecar:i,encKey:t.encKey,macKey:t.macKey},this.streamData=n,this.clientId=e}fetchAndDecrypt(e){var t=this;return(0,i.default)((function*(){const{clientUrl:n,msgKey:r}=t.streamData,{clientRangeStart:i,clientRangeEnd:o}=p(e),{serverRangeStart:a,serverRangeEnd:u}=t.computeServerRange(i,o),d=t.createServerRequest(e,a,u,n),_=yield self.fetch(d);if(404===_.status)return t.handleRMR(e,r);if(_.status>=400)return __LOG__(2)`sw:videoStreaming:processRequest server returns ${_.status} error`,t.generation++,l.default.request(t.clientId,c.default.EXP_BACKOFF,{generation:t.generation}).then((()=>t.fetchAndDecrypt(e)));t.generation=0;const f=yield _.arrayBuffer(),E=f.byteLength;if(!f||E<s.BLOCK_SIZE)return __LOG__(2)`sw:videoStreaming:processRequest ciphertext is too short - ${E} bytes`,new Response(`Ciphertext is too short - ${E} bytes`,{status:500});yield t.validateSidecar(a,f);const{ciphertext:A,iv:g}=yield(0,s.cleanupCiphertextAndIv)({serverRangeStart:a,ciphertext:f,mediaKeys:t.cryptoKeys}),h=yield(0,s.decrypt)({ciphertext:A,iv:g,mediaKeys:t.cryptoKeys}),S=t.cleanupPlaintext(h,{clientRangeStart:i,clientRangeEnd:o},{serverRangeStart:a,serverRangeEnd:u}),T=t.createClientResponse(_,S,i);return t.sendBackArrayBuffer(i,S),T}))()}handleRMR(e,t){var n=this;return(0,i.default)((function*(){const r=yield l.default.request(n.clientId,c.default.REQUEST_RMR,{key:t});return n.cryptoKeys.encKey=r.encKey,n.cryptoKeys.iv=r.iv,n.streamData.clientUrl=r.clientUrl,n.streamData.size=r.size,n.fetchAndDecrypt(e)}))()}cleanupPlaintext(e,t,n){let{clientRangeStart:r,clientRangeEnd:i}=t,{serverRangeStart:o,serverRangeEnd:a}=n;const l=0===o?0:r-(o+s.BLOCK_SIZE),c=null!=i?a-i:0;return e.slice(l,e.byteLength-c)}validateSidecar(e,t){var n=this;return(0,i.default)((function*(){let r=t;const{macKey:i,iv:o,sidecar:l}=n.cryptoKeys;let c,u;0===e?(c=0,u=o):(c=(e+s.BLOCK_SIZE)/_,u=r.slice(0,s.BLOCK_SIZE),r=r.slice(s.BLOCK_SIZE));const d=r.byteLength/_,p=yield self.crypto.subtle.importKey("raw",new Uint8Array(i),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),f=[];for(let e=0;e<d;e++){const t=l[c+e],i=e*_,o=r.slice(i,i+_),d=u;u=o.slice(_-s.BLOCK_SIZE,_-s.BLOCK_SIZE+s.BLOCK_SIZE);const E=(0,a.concatTypedArrays)(Uint8Array,[new Uint8Array(d),new Uint8Array(o)]);f.push(n.validateChunk(E,p,t))}return Promise.all(f)}))()}validateChunk(e,t,n){return(0,i.default)((function*(){const r=(yield self.crypto.subtle.sign({name:"HMAC"},t,e)).slice(0,s.HMAC_SIZE);if(!(0,o.arrayBuffersEqual)(r,n))return Promise.reject((0,d.default)("Invalid Chunk: Does not match sidecar."))}))()}createClientResponse(e,t,n){const{size:r}=this.streamData,{contentRangeStart:i,contentRangeEnd:o}=this.getContentRange(n,t),a=new Headers(e.headers);a.set("Content-Range",`bytes ${i}-${o}/${r}`),a.set("Content-Length",`${t.byteLength}`);return new Response(t,{status:200===e.status?206:e.status,statusText:e.statusText,headers:a})}getContentRange(e,t){return{contentRangeStart:e,contentRangeEnd:e+t.byteLength-1}}sendBackArrayBuffer(e,t){const{contentRangeStart:n,contentRangeEnd:r}=this.getContentRange(e,t);l.default.request(this.clientId,c.default.SEND_STREAMING_CHUNK,{msgKey:this.streamData.msgKey,data:{start:n,end:r,buffer:t}})}createServerRequest(e,t,n,r){const i=new URL(r);i.searchParams.set("bytestart",t.toString()),i.searchParams.set("byteend",n.toString());return u.default.manuallyCloneRequest(e,i.toString(),{credentials:"omit",headers:new Headers({}),mode:"cors",referrer:e.referrer})}computeServerRange(e,t){let n=e,r=t;return n=e?this.roundDown(e,_):0,r=null!=t&&0!==t?this.roundUp(t,_)-1:n+1572864-1,n>0&&(n-=s.BLOCK_SIZE),{serverRangeStart:n,serverRangeEnd:r}}roundUp(e,t){return Math.ceil(e/t)*t}roundDown(e,t){return Math.floor(e/t)*t}}},29906:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(28123),a=r(n(93948)),s=r(n(19194)),l=r(n(26857)),c=n(24414),u=r(n(89482));const d=`${o.WEB_PUBLIC_PATH}stream/video`;class _ extends l.default{constructor(){super(...arguments),this.matchFetch=e=>{const{request:t}=e,n=l.default.parseUrl(t.url);return!!(t.method===l.default.RequestType.GET&&n&&n.queryParams&&n.queryParams.key&&t.url.match(d))},this.onFetch=function(){var e=(0,i.default)((function*(e){const{request:t,client:n,clientId:r}=e,i=l.default.parseUrl(t.url),o=r||(null==n?void 0:n.id);if(!o)return Promise.reject((0,u.default)("No client id found."));const{cryptoKeys:d,streamData:_}=yield a.default.request(o,s.default.REQUEST_STREAMING_INFO,{key:i.queryParams.key});return new c.VideoStreamer(o,d,_).fetchAndDecrypt(t)}));return function(){return e.apply(this,arguments)}}(),this.matchAction=e=>e===s.default.STREAMING_SUPPORTED,this.onAction=()=>!(!self.crypto||!self.crypto.subtle&&!self.crypto.webkitSubtle)}}t.default=_},28123:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WS_ORIGIN=t.WEB_PUBLIC_PATH=t.VERSION_TERTIARY=t.VERSION_STR=t.VERSION_SECONDARY=t.VERSION_PRIMARY=t.VERSION_BASE=t.USER_TIMINGS=t.UNKNOWN_ID=t.LOCALHOST_ENV_CONFIG=t.HASH_PLACEHOLDER=t.FLB_PLATFORM=t.FB_APP_ID=t.DYN_ORIGIN=t.DIFF_VERSION=t.DIFF_ID=t.BUILD_URL=t.BUILD_TIMESTAMP=t.BUILD_ID=void 0;t.DIFF_ID="";t.DIFF_VERSION="";t.LOCALHOST_ENV_CONFIG=!1;t.HASH_PLACEHOLDER="411ee574e1788529fcb32655613fd7999b9d7248";t.VERSION_PRIMARY="2";t.VERSION_SECONDARY="2335";t.VERSION_TERTIARY="9";t.VERSION_BASE="2.2335.9";t.VERSION_STR="2.2335.9";t.DYN_ORIGIN="https://web.whatsapp.com/";t.WS_ORIGIN="";t.FLB_PLATFORM="web";t.FB_APP_ID="";t.UNKNOWN_ID="WAUnknownID";t.BUILD_ID="508552655";t.BUILD_TIMESTAMP="August 23, 2023";t.WEB_PUBLIC_PATH="/";t.BUILD_URL="https://web.whatsapp.com/";t.USER_TIMINGS=!1},64239:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){throw(0,i.default)("Invariant Violation")};var i=r(n(89482))},74127:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getCountriesMap=function(){return a.apply(this,arguments)};var i=r(n(48926)),o=n(51698);function a(){return(a=(0,i.default)((function*(e){const t=(yield n.e(5211).then(n.t.bind(n,1820,19))).default.includes(e)?e:o.DEFAULT_LOCALE;return(yield n(29127)(`./${t}.json`)).default}))).apply(this,arguments)}},43859:(e,t,n)=>{e.exports=n(23098)},46808:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(86128)).default;t.default=i},40733:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.default}},73167:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(81109)),n(78494),n(25303);var i=new class{constructor(){}recordReadStat(e){}recordWriteStat(e){}recordLockStat(e){}lockReport(){return[]}logDbReadWriteStats(){}export(){return""}getAllReports(){return{}}};t.default=i},89482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){const n=new Error(t);if(void 0===n.stack)try{throw e}catch(e){}return n}},60938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.entries(e)}},9539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[];for(const n of e)null!=n&&t.push(n);return t}},7865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.map(((e,n)=>({index:n,sortValue:t(e),value:e})));return n.sort(((e,t)=>{const n=e.sortValue,r=t.sortValue;return n>r?1:n<r?-1:e.index-t.index})),n.map((e=>e.value))}},37847:(e,t,n)=>{"use strict";var r=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.size!==t.size)return!1;return(0,i.default)(e,(e=>t.has(e)))};var i=r(n(81884))},81884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const o=i.value;if(!t.call(n,o[1],o[0],e))return!1;i=r.next()}return!0}},35747:e=>{"use strict";e.exports=fs},42329:()=>{}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>(({88:"locales/de-json",155:"locales/kn",165:"locales/cs",248:"locales/tr",319:"moment_locales/nl",673:"locales/es",677:"locales/bn-json",792:"locales/et",820:"locales/ko",887:"locales/ru-json",906:"locales/uk",907:"locales/fil",951:"moment_locales/th",1055:"moment_locales/el",1069:"moment_locales/sv",1081:"locales/zh-HK",1204:"locales/el",1234:"locales/bg-json",1244:"locales/gu-json",1248:"locales/mr",1381:"moment_locales/hr",1389:"locales/hu-json",1473:"moment_locales/ar",1520:"moment_locales/ms-MY",1529:"locales/lt",1592:"locales/mk-json",1628:"locales/da",1770:"locales/sk",1791:"moment_locales/es",1967:"locales/az-json",1992:"locales/pt-json",2017:"moment_locales/sw",2023:"moment_locales/cs",2091:"locales/pt-BR",2135:"locales/th",2394:"moment_locales/es-DO",2422:"locales/he-json",2445:"moment_locales/fr",2556:"locales/hu",2619:"locales/ur-json",2739:"locales/ta",2771:"locales/mr-json",2830:"locales/it",2944:"locales/sv",2957:"moment_locales/ru",2966:"moment_locales/ar-MA",2967:"locales/sr-json",2979:"moment_locales/en-IE",3004:"locales/el-json",3017:"moment_locales/uz",3047:"moment_locales/zh-CN",3113:"moment_locales/ml",3370:"moment_locales/te",3421:"locales/zh-TW-json",3422:"moment_locales/mr",3501:"moment_locales/sl",3539:"locales/cs-json",3565:"locales/fil-json",3569:"moment_locales/ro",3721:"locales/ta-json",3722:"locales/hi",3748:"moment_locales/af",3853:"locales/hr-json",3892:"moment_locales/en-NZ",3934:"moment_locales/ar-XB",3998:"locales/sw",4046:"locales/nb-json",4132:"locales/id-json",4169:"locales/lt-json",4259:"locales/sl",4260:"locales/kk-json",4339:"moment_locales/hu",4361:"locales/ur",4451:"locales/ca-json",4468:"moment_locales/gu",4473:"moment_locales/et",4616:"moment_locales/en-CA",4680:"locales/zh-CN-json",4708:"locales/lv",4739:"locales/es-json",4768:"locales/sv-json",4771:"locales/te-json",4794:"locales/ml-json",4818:"moment_locales/ko",4853:"locales/fa-json",4873:"locales/uz",4980:"moment_locales/pl",5027:"moment_locales/he",5085:"lazy_loaded_relay",5125:"moment_locales/zh-TW",5128:"locales/id",5170:"moment_locales/sr",5182:"locales/ja",5211:"locales/[request]",5247:"moment_locales/it",5282:"locales/uk-json",5315:"locales/vi-json",5443:"locales/ms",5608:"locales/ja-json",5632:"locales/ca",5650:"locales/te",5671:"moment_locales/ar-LY",5708:"locales/hr",5729:"locales/he",5740:"moment_locales/az",5790:"moment_locales/sr-CYRL",5862:"moment_locales/de",5881:"locales/it-json",5955:"locales/th-json",5959:"moment_locales/nb",5965:"moment_locales/sk",6032:"locales/pa-json",6038:"locales/gu",6098:"locales/sq-json",6163:"moment_locales/ur",6282:"moment_locales/ar-KW",6293:"locales/fr",6331:"locales/sr",6365:"locales/af",6483:"locales/zh-CN",6496:"moment_locales/sq",6511:"moment_locales/id",6547:"moment_locales/pt-BR",6568:"moment_locales/kn",6606:"locales/sw-json",6651:"locales/mk",6655:"locales/ml",6700:"locales/kn-json",6709:"moment_locales/hi",6884:"moment_locales/ar-DZ",6920:"moment_locales/lt",6933:"locales/en",6953:"locales/pt",7020:"locales/ko-json",7055:"locales/nl-json",7072:"locales/az",7074:"moment_locales/kk",7102:"locales/bg",7162:"locales/ro",7163:"locales/sk-json",7216:"locales/de",7315:"moment_locales/da",7334:"locales/fr-json",7386:"moment_locales/fi",7494:"locales/en-json",7542:"locales/zh-TW",7626:"locales/sl-json",7654:"locales/uz-json",7662:"moment_locales/fa",7728:"moment_locales/bn",7739:"moment_locales/ms",7749:"locales/nb",7920:"locales/zh-HK-json",7938:"locales/lv-json",8054:"locales/ar",8117:"moment_locales/uz-LATN",8132:"moment_locales/pa-IN",8288:"locales/af-json",8292:"locales/ru",8598:"locales/vi",8606:"locales/hi-json",8628:"locales/pl",8634:"moment_locales/ta",8678:"moment_locales/en-AU",8700:"locales/bn",8799:"moment_locales/fr-CH",8801:"locales/ar-json",8945:"locales/ro-json",8962:"locales/tr-json",9116:"moment_locales/pt",9227:"moment_locales/en-GB",9289:"moment_locales/ar-TN",9313:"moment_locales/tr",9545:"moment_locales/mk",9566:"locales/pl-json",9599:"locales/et-json",9613:"locales/fi",9626:"locales/da-json",9646:"moment_locales/ar-SA",9682:"moment_locales/uk",9719:"locales/kk",9737:"locales/sq",9750:"locales/nl",9765:"moment_locales/fr-CA",9789:"locales/fi-json",9815:"locales/pa",9817:"moment_locales/ca",9911:"locales/ms-json",9995:"locales/ar-XB",9999:"locales/fa"}[e]||e)+".js"),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="/",(()=>{var e={6741:1};__webpack_require__.f.i=(t,n)=>{e[t]||importScripts(__webpack_require__.p+__webpack_require__.u(t))};var t=self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[],n=t.push.bind(t);t.push=t=>{var[r,i,o]=t;for(var a in i)__webpack_require__.o(i,a)&&(__webpack_require__.m[a]=i[a]);for(o&&o(__webpack_require__);r.length;)e[r.pop()]=1;n(t)}})();var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(95318);__webpack_require__(62271),__webpack_require__(35791);var t=__webpack_require__(28123),n=e(__webpack_require__(11157)),r=e(__webpack_require__(83933)),i=e(__webpack_require__(52612)),o=e(__webpack_require__(58043)),a=e(__webpack_require__(67719)),s=e(__webpack_require__(13986)),l=e(__webpack_require__(92083)),c=e(__webpack_require__(86278)),u=e(__webpack_require__(72100)),d=e(__webpack_require__(92543)),_=e(__webpack_require__(29906));const p=new a.default("wa-stickers"),f=[new c.default(new a.default("wa-pp"),l.default.pp),new _.default,new o.default(new a.default(`wa${t.VERSION_STR}`),l.default.prefs),new r.default(new a.default("wa-assets")),new d.default(p,l.default.stickers),new n.default,new u.default,new s.default];__LOG__(2)`sw version: ${t.VERSION_STR}`,(0,i.default)(f)})()})();