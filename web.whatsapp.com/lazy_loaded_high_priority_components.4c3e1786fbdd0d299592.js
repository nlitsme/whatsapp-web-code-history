/*! Copyright (c) 2024 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[7205],{621733:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n;if(e.size!==t.size)return!1;for(const[a,l]of e)if(n=t.get(a),n!==l||void 0===n&&!t.has(a))return!1;return!0}},905503:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.mexChangeNewsletterOwner=function(){return f.apply(this,arguments)};var l,r=a(n(348926)),o=n(12643),i=n(123982),u=n(604549),s=n(408818),c=a(n(556869));const d=void 0!==l?l:l=n(211539);function f(){return(f=(0,r.default)((function*(e,t){return(0,s.runWithBackoff)((()=>p(e,t)))}))).apply(this,arguments)}function p(){return m.apply(this,arguments)}function m(){return(m=(0,r.default)((function*(e,t){return(0,u.runWithErrorHandler)((0,r.default)((function*(){const n=t.isLid()?t:(0,o.getCurrentLid)(t);if(null==n)throw(0,c.default)("No LID for user");yield(0,i.fetchQuery)(d,{newsletter_id:e,user_id:n.toString()})})),u.MexSupportedFeature.Newsletter)}))).apply(this,arguments)}},211539:e=>{"use strict";var t,n,a,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"newsletter_id"},{defaultValue:null,kind:"LocalArgument",name:"user_id"}],kind:"Fragment",metadata:null,name:"WAWebMexChangeNewsletterOwnerJobMutation",selections:[{alias:null,args:n=[{kind:"Variable",name:"newsletter_id",variableName:"newsletter_id"},{kind:"Variable",name:"user_id",variableName:"user_id"}],concreteType:"XWA2NewsletterMutationResponse",kind:"LinkedField",name:"xwa2_newsletter_change_owner",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"WAWebMexChangeNewsletterOwnerJobMutation",selections:[{alias:null,args:n,concreteType:"XWA2NewsletterMutationResponse",kind:"LinkedField",name:"xwa2_newsletter_change_owner",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"7341777602580933",metadata:{},name:"WAWebMexChangeNewsletterOwnerJobMutation",operationKind:"mutation",text:null}};e.exports=l},809991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_LINK_SHARE_DIRECTION=void 0;const n=Object.freeze({WHATSAPP:1,STATUS:2,EXTERNAL:3});t.CHANNEL_LINK_SHARE_DIRECTION=n},215575:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANNEL_LINK_SHARE_SCREEN=void 0;const n=Object.freeze({CONTEXT_CARD:1,CHANNEL_INFO:2,CHANNEL_THREAD:3,SHARE_LINK_SCREEN:4});t.CHANNEL_LINK_SHARE_SCREEN=n},542040:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DISCLOSURE_ACTION=void 0;const n=Object.freeze({SCREEN_VIEW:0,CLICK_ON_CONTINUE:1,CANCEL:2,BACK_BUTTON_TOOLBAR:3,BACK_BUTTON_SYSTEM:4,DISMISS:5,DISCLOSURE_INFO_VIEW:6});t.DISCLOSURE_ACTION=n},753146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DISCLOSURE_TYPE=void 0;const n=Object.freeze({NON_BLOCKING:0,BLOCKING:1,INFO:2});t.DISCLOSURE_TYPE=n},428179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelLinkShareWamEvent=void 0;var a=n(901032),l=n(809991),r=n(836507),o=n(215575);const{STRING:i}=a.TYPES,u=(0,a.defineEvents)({ChannelLinkShare:[4728,{channelLinkShareDirection:[1,l.CHANNEL_LINK_SHARE_DIRECTION],channelLinkShareEntryPoint:[2,r.CHANNEL_LINK_SHARE_ENTRY_POINT],channelLinkShareScreen:[4,o.CHANNEL_LINK_SHARE_SCREEN],cid:[3,i]},[1,1,1],"regular"]},{ChannelLinkShare:[]});t.ChannelLinkShareWamEvent=u},683188:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CtwaConsumerDisclosureWamEvent=void 0;var a=n(901032),l=n(542040),r=n(753146);const{INTEGER:o}=a.TYPES,i=(0,a.defineEvents)({CtwaConsumerDisclosure:[4406,{ctwaConsumerDisclosureVersion:[3,o],disclosureAction:[1,l.DISCLOSURE_ACTION],disclosureType:[2,r.DISCLOSURE_TYPE]},[1,1,1],"private",0]},{CtwaConsumerDisclosure:[]});t.CtwaConsumerDisclosureWamEvent=i},853417:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var l=n(464659),r=n(873298),o=n(548360),i=a(n(667294)),u=n(655241);function s(e){var t;let{businessProfile:n}=e;const{description:a}=null!==(t=(0,u.useModelValues)(n,["description"]))&&void 0!==t?t:{};return null==a?null:i.default.createElement(l.ChatInfoDrawerSection,{titleTestId:"section-about",title:o.fbt._("About",null,{hk:"1IJ9KC"})},i.default.createElement(r.WDSTextTitle,{as:"span"},a))}s.displayName="BizBot3pInfoAboutSection"},973366:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var l=n(464659),r=n(950987),o=n(877171),i=n(676345),u=n(873298),s=n(548360),c=a(n(667294)),d=a(n(156720)),f=n(655241);const p={command:{borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",backgroundColor:"rnr876i8"},commands:{display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"lkhkxwyq"}};function m(e){var t;let{businessProfile:n}=e;const{commands:a,commandsDescription:m}=null!==(t=(0,f.useModelValues)(n,["commands","commandsDescription"]))&&void 0!==t?t:{};return null!=a&&a.length?c.default.createElement(l.ChatInfoDrawerSection,{titleTestId:"section-commands",title:s.fbt._("Commands",null,{hk:"GLKbo"})},Boolean(m)&&c.default.createElement(u.WDSTextTitle,{as:"span"},m),c.default.createElement("div",{className:(0,d.default)(p.commands,i.uiMargin.top8)},a.map((e=>{let{name:t,description:n}=e;const a=`/${t} `;return c.default.createElement(r.Clickable,{key:t,title:n,onClick:()=>{o.ComposeBoxActions.paste(null,a,{insertLeadingSpace:!0})},xstyle:[p.command,i.uiPadding.vert4,i.uiPadding.horiz10,i.uiMargin.end8,i.uiMargin.vert4]},c.default.createElement(u.WDSTextSmall,{as:"span",color:"primary"},a))})))):null}m.displayName="BizBotCommandsSection"},498692:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var l=n(169437),r=n(464659),o=n(660666),i=n(873298),u=n(548360),s=a(n(667294)),c=n(379811);function d(e){var t;let{contact:n}=e;const[a]=(0,c.useContactValues)(n.id,[o.getId]),d=null===(t=l.BotProfileCollection.get(a))||void 0===t?void 0:t.description;return null==d?null:s.default.createElement(r.ChatInfoDrawerSection,{titleTestId:"section-about",title:u.fbt._("About",null,{hk:"3eKeST"})},s.default.createElement(i.WDSTextTitle,{as:"span"},d))}d.displayName="BotInfoAboutSection"},753602:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var l=n(653106),r=n(188131),o=n(328232),i=n(496168),u=a(n(831269)),s=a(n(969358)),c=n(690495),d=n(676345),f=n(548360),p=a(n(667294));a(n(156720));const m={businessAccount:{fontSize:"enbbiyaj"},iconColour:{color:"n0kqff35"}};function h(e){let{chat:t}=e;return(0,r.shouldShowConsumerTransparencyDisclosure)(t)?p.default.createElement(s.default,{xstyle:[m.businessAccount,d.uiMargin.top10]},p.default.createElement(u.default,{testid:"about-business-chat",onClick:o.showConsumerTransparencyModalDialog,side:p.default.createElement(l.ChevronRightAltIcon,{height:24,width:10,xstyle:m.iconColour})},p.default.createElement(c.FlexRow,{align:"center"},p.default.createElement(i.DoubleChevronIcon,{height:24,width:24,xstyle:[m.iconColour,d.uiMargin.end20]}),f.fbt._("About this business chat",null,{hk:"PZHUK"})))):null}h.displayName="BusinessContactDisclosureSection"},328232:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ConsumerTransparencyModalDialog=S,t.showConsumerTransparencyModalDialog=function(){f.ModalManager.open(y.default.createElement(S,null))};var l=n(560599),r=n(103440),o=n(683188),i=n(496168),u=n(753233),s=n(198400),c=n(690495),d=n(118612),f=n(114850),p=n(629181),m=n(24592),h=n(676345),g=n(376331),E=n(542040),b=n(753146),v=n(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),C=a(n(156720));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const M={fullWidth:{width:"ln8gz9je"},centeredText:{textAlign:"qfejxiq4"},bulletIconColor:{color:"i5443yhl"},illustrationWrapper:{color:"bj5r3vhm",backgroundColor:"jd3v83ju",width:"cnprk2g9",height:"j74n1y92",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n"}};const k=()=>y.default.createElement(c.FlexColumn,null,y.default.createElement(c.FlexRow,{justify:"center",xstyle:[M.fullWidth,h.uiMargin.bottom8]},y.default.createElement("div",{className:(0,C.default)(M.illustrationWrapper)},y.default.createElement(i.DoubleChevronIcon,{width:66,height:66}))),y.default.createElement(m.TextDiv,{size:"24",color:"dark",weight:"medium",xstyle:[M.centeredText,h.uiMargin.top36]},v.fbt._("About chats that start from Facebook or Instagram ads",null,{hk:"2aZNno"})),y.default.createElement(m.TextDiv,{size:"14",weight:"normal",xstyle:[M.centeredText,h.uiMargin.top16]},v.fbt._("When you start a chat with a business after interacting with their ad on Facebook or Instagram, WhatsApp's parent company Meta receives limited info. This helps improve Meta ads and your experience on those apps. {=m2}",[v.fbt._implicitParam("=m2",y.default.createElement(u.ExternalLink,{href:(0,s.getConsumerTransparencyHCAUrl)()},v.fbt._("Learn more",null,{hk:"1aIT4P"})))],{hk:"3BDV9F"})),y.default.createElement(c.FlexRow,{justify:"center",align:"center",xstyle:h.uiMargin.top36},y.default.createElement(g.VisibilityOffIcon,{height:24,width:24,xstyle:M.bulletIconColor}),y.default.createElement(m.TextSpan,{size:"13",color:"dark",xstyle:h.uiMargin.start24},v.fbt._("WhatsApp never shares your message content or calls",null,{hk:"3F3S6a"}))),y.default.createElement(c.FlexRow,{justify:"center",align:"center",xstyle:h.uiMargin.top20},y.default.createElement(l.BusinessDataSharingIcon,{height:24,width:24,xstyle:M.bulletIconColor}),y.default.createElement(m.TextSpan,{size:"13",color:"dark",xstyle:h.uiMargin.start24},v.fbt._("Info Meta receives may include the number of interactions with a business",null,{hk:"47Hbwq"}))),y.default.createElement(c.FlexRow,{justify:"center",align:"center",xstyle:h.uiMargin.top20},y.default.createElement(p.SettingsSecurityIcon,{height:24,width:24,xstyle:M.bulletIconColor}),y.default.createElement(m.TextSpan,{size:"13",color:"dark",xstyle:h.uiMargin.start24},v.fbt._("You can always stop chatting with a business or block them",null,{hk:"1dF4Qk"}))));function S(){(0,y.useEffect)((()=>{new o.CtwaConsumerDisclosureWamEvent({ctwaConsumerDisclosureVersion:1,disclosureAction:E.DISCLOSURE_ACTION.SCREEN_VIEW,disclosureType:b.DISCLOSURE_TYPE.INFO}).commit()}),[]);const e=()=>f.ModalManager.close();return y.default.createElement(r.ConfirmPopup,{testid:"ctwa-consumer-transparency-modal-dialog",type:d.ModalTheme.DataSharing,onOK:e,okText:v.fbt._("Close",null,{hk:"Vnajg"}),onOverlayClick:e},y.default.createElement(k,null))}S.displayName="ConsumerTransparencyModalDialog"},531736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEventAmIAttending=function(e){const t=(0,r.useEventResponses)(e).find((e=>(0,l.isMeAccount)(e.sender)));return(null==t?void 0:t.eventResponse)===a.Message$EventResponseMessage$EventResponseType.GOING};var a=n(533494),l=n(459857),r=n(129364)},865728:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EventDateBlock=c;var l=a(n(500605)),r=n(548360),o=a(n(667294)),i=a(n(156720));const u={width:"baeo9xnf",height:"epwkujcx",display:"f804f6gw",textTransform:"ofejerhi"},s={color:"fsk8o631",fontWeight:"sy6s5v3r"};function c(e){let{eventStartTime:t}=e;const n=l.default.unix(t),a=n.format("MMM"),c=n.format("D");return o.default.createElement("div",{className:(0,i.default)(u)},r.fbt._("{=m0}{=m1}",[r.fbt._implicitParam("=m0",o.default.createElement("div",{className:(0,i.default)(s)},r.fbt._("{month}",[r.fbt._param("month",a)],{hk:"20ZFtT"}))),r.fbt._implicitParam("=m1",o.default.createElement("div",{className:(0,i.default)(s)},r.fbt._("{day}",[r.fbt._param("day",c)],{hk:"lRwDu"})))],{hk:"2QFGDX"}))}c.displayName="EventDateBlock"},845563:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EventPreviewBlock=M;var l=n(305521),r=n(865728),o=n(569543),i=n(690495),u=n(693291),s=n(163755),c=a(n(932325)),d=n(787742),f=n(533426),p=n(676345),m=a(n(625903)),h=n(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),E=a(n(156720)),b=n(140455),v=n(531736),y=n(871210);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const w={eventPreviewBlock:{display:"l7jjieqr"},container:{boxSizing:"cm280p3y",height:"pydpkpus",width:"tcgih8fm",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",borderTopWidth:"gofg5ll1",borderEndWidth:"p7waza29",borderBottomWidth:"oteuebma",borderStartWidth:"mzoqfcbu",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopColor:"et9kkvev",borderEndColor:"q8b0u0p7",borderBottomColor:"nc5t0wl8",borderStartColor:"glo3vx4b",fontSize:"f8jlpxt4",fontWeight:"bcr6az0x"},eventDetailColumn:{textAlign:"ljrqcn24"},eventNameContainer:{maxWidth:"laorhtua"},eventDetailText:{display:"l7jjieqr",maxWidth:"laorhtua",color:"i8b0kslj",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae"},eventNameText:{fontWeight:"sy6s5v3r",fontSize:"enbbiyaj"},goingTag:{alignSelf:"o2es7gts"}};function M(e){var t,n;let{eventMsg:a,onClick:C}=e;const[M,k,S]=(0,y.useMsgValues)(a.id,[d.getEventName,d.getEventStartTime,d.getEventLocation]),_=(0,v.useEventAmIAttending)(a),P=(0,b.useElectronCompatibleStyles)().pollQuestionTextSize,O=M.slice(0,null!==(t=(0,o.getEventsNameLengthLimit)())&&void 0!==t?t:100),N=g.createElement(i.FlexRow,{xstyle:[w.eventNameContainer,p.uiPadding.vert2],grow:0},g.createElement(l.EmojiText,{text:O,dirMismatch:(0,s.getRtl)(a)!==c.default.isRTL(),direction:(0,s.getDir)(a),inferLinesDirection:!0,selectable:!0,xstyle:[w.eventNameText,P],ellipsify:!0})),I=null!=k?g.createElement("div",{className:(0,E.default)([w.eventDetailText,p.uiMargin.vert1])},h.fbt._("{Event-starttime-string}",[h.fbt._param("Event-starttime-string",(0,u.getEventDateStringFor)(k))],{hk:"11heBr"})):null;let T;const A=null!==(n=null==S?void 0:S.name)&&void 0!==n?n:null==S?void 0:S.address;null!=A&&(T=g.createElement("div",{className:(0,E.default)([w.eventDetailText,p.uiMargin.vert1])},h.fbt._("{event-location}",[h.fbt._param("event-location",A)],{hk:"N99eg"})));const x=_?g.createElement(f.Tag,{theme:f.TagTheme.Primary,xstyle:[w.goingTag,p.uiMargin.startAuto],testid:"event-attending-label"},h.fbt._("Going",null,{hk:"3tZEtz"})):null;return g.createElement(m.default,{xstyle:[w.eventPreviewBlock,p.uiMargin.all2,p.uiMargin.end12],onClick:C,tabIndex:0},g.createElement(i.FlexContainer,{xstyle:w.container,direction:"horizontal",padding:12},g.createElement(i.FlexColumn,{align:"center",justify:"center",padding:2,shrink:0},g.createElement(r.EventDateBlock,{eventStartTime:k})),g.createElement(i.FlexColumn,{xstyle:[w.eventDetailColumn,p.uiPadding.start8],padding:2},N,I,T),x))}M.displayName="EventPreviewBlock"},957384:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupInfoEventsSection=_;var l=n(653106),r=a(n(969358)),o=n(845563),i=n(134211),u=n(690495),s=n(163755),c=a(n(932325)),d=n(956113),f=n(220584),p=n(625786),m=n(390737),h=n(676345),g=n(548360),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),b=a(n(156720)),v=n(808446),y=n(655241),C=a(n(895851));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const M={eventCount:{fontSize:"bze30y65",color:"g01nkquw"},outerContainer:{width:"ln8gz9je",boxSizing:"cm280p3y",position:"g0rxnol2"},innerContainer:{overflowX:"i44ccddp",overflowY:"r7fjleex",whiteSpace:"le5p0ye3"},withStartFade:{"::before":{content:"ckfn5qle",position:"jiaumjzp",top:"beenm9b3",start:"fx6vfo4m",backgroundImage:"pedwjsnu",width:"inenc75n",height:"flcm9zni"}},withStartFadeRtl:{"::before":{content:"ckfn5qle",position:"jiaumjzp",top:"beenm9b3",start:"fx6vfo4m",backgroundImage:"mf9re98n",width:"inenc75n",height:"flcm9zni"}},withEndFade:{"::after":{content:"lw9p9708",position:"tkubpkrc",top:"m2ribxjb",end:"cqfqpmou",backgroundImage:"t844r7b7",width:"tfx0mwwa",height:"f2fkal8o"}},withEndFadeRtl:{"::after":{content:"lw9p9708",position:"tkubpkrc",top:"m2ribxjb",end:"cqfqpmou",backgroundImage:"anceqaim",width:"tfx0mwwa",height:"f2fkal8o"}}};function k(e){let{msgs:t}=e;const n=t.length;return E.default.createElement("div",{className:(0,b.default)([M.eventCount,h.uiMargin.end8])},null!=n?g.fbt._("{eventCount} upcoming",[g.fbt._param("eventCount",c.default.n(n))],{hk:"4n7NEV"}):E.default.createElement(d.Spinner,{size:16,stroke:6}))}function S(e){const[t,n]=(0,E.useState)([]),a=(0,C.default)(),l=(0,E.useCallback)((()=>{const t=function(e){return e.reduce(((e,t)=>{const n=(0,s.getAsEventCreation)(t);return null==n||!1!==n.isEventCanceled||(0,i.shouldShowEventAsPassed)(n.eventStartTime)||e.push(n),e}),[]).sort(((e,t)=>e.eventStartTime-t.eventStartTime))}(e);a.aborted||n(t)}),[e,a]);return(0,E.useEffect)(l,[l]),(0,v.useListener)(e,["remove_msgs","insert_msgs","bulk_add","change:last"],l),t}function _(e){let{chat:t,onEventInfo:n}=e;const a=S((0,y.useModelValues)(t,["msgs"]).msgs),[i,s]=(0,E.useState)(!1),[d,v]=(0,E.useState)(!0),C=(0,E.useRef)(null),w=(0,E.useRef)(null);if((0,E.useEffect)((()=>{const e=w.current,t=()=>{if(null==e)return v(!1),void s(!1);const{scrollLeft:t,clientWidth:n,scrollWidth:a}=e,l=Math.abs(t/(a-n));s(l>.05),v(!(l>.95))};return null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[a.length,w,C]),0===a.length)return null;const _=g.fbt._("Events",null,{hk:"jJMTv"}),P=E.default.createElement(l.ChevronRightAltIcon,{color:f.SvgColorProp.SECONDARY,directional:!0}),O=E.default.createElement(u.FlexRow,{align:"center"},E.default.createElement(k,{msgs:a}),E.default.createElement("div",null,P)),N=a.map((e=>E.default.createElement(o.EventPreviewBlock,{key:e.id.toString(),eventMsg:e,onClick:()=>n(e)}))),I=c.default.isRTL()?M.withEndFadeRtl:M.withEndFade,T=c.default.isRTL()?M.withStartFadeRtl:M.withStartFade;return E.default.createElement(r.default,{titleTestId:"section-events",title:_,theme:"chat-info",titleOnClick:()=>{m.ToastManager.open(E.default.createElement(p.Toast,{msg:"[INTERN] This functionality not yet built",id:(0,p.genId)()}))},subtitle:O,xstyle:N.length>0&&h.uiPadding.bottom10},E.default.createElement("div",{ref:C,className:(0,b.default)([M.outerContainer,h.uiPadding.horiz20,...d?[I]:[],...i?[T]:[]])},E.default.createElement("div",{ref:w,className:(0,b.default)([M.innerContainer]),dir:"auto"},N)))}k.displayName="UpcomingEventsCount",_.displayName="GroupInfoEventsSection"},539662:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChatInfoFavoritesSection=f;var l=n(464659),r=n(780549),o=n(36045),i=n(185399),u=n(417810),s=n(548360),c=a(n(667294)),d=n(655241);function f(e){let{chat:t}=e;const n=(0,d.useModelValues)(t,["isFavorite"]);return c.default.createElement(l.ChatInfoDrawerButtonsSection,null,c.default.createElement(o.DrawerButtonSimple,{testid:"li-favorite",icon:n.isFavorite?c.default.createElement(u.HeartSlashIcon,null):c.default.createElement(i.HeartIconCustom,null),onClick:()=>r.Cmd.favoriteChat(n,!n.isFavorite),theme:"chat-info"},n.isFavorite?s.fbt._("Remove from Favorites",null,{hk:"2KXAQd"}):s.fbt._("Add to Favorites",null,{hk:"3h6sjk"})))}f.displayName="ChatInfoFavoritesSection"},185399:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.HeartIconCustom=s;var l=a(n(967154)),r=a(n(81109)),o=n(417810),i=a(n(667294));a(n(156720));const u={slash:{display:"qibyn6m3"}};function s(e){return i.default.createElement(o.HeartSlashIcon,(0,l.default)({},e,{innerStyles:(0,r.default)((0,r.default)({},e.innerStyles),{},{slash:u.slash})}))}s.displayName="HeartIconCustom"},971169:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.changeNewsletterOwner=function(e,t){return(0,i.createNonPersistedJob)("changeNewsletterOwner",(0,l.default)((function*(){return(0,o.mexChangeNewsletterOwner)(e,t)})),{priority:r.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()};var l=a(n(348926)),r=n(775593),o=n(905503),i=n(899137)},894629:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var l=a(n(348926)),r=n(328620),o=a(n(711367)),i=n(63014),u=n(780549),s=n(172365),c=a(n(395767)),d=n(751460),f=n(858486),p=n(390737),m=n(269430),h=n(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),E=a(n(524578)),b=n(808446),v=n(655241);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function C(e){var t;let{chat:n,desc:a="",adminFunnelLogger:l,setIsEditing:o,toastId:i=(0,r.genId)()}=e;const u=(0,s.editNewsletterMetadataAction)(n,{editDescription:!0},{description:a}),d=null===(t=n.newsletterMetadata)||void 0===t?void 0:t.description,f=new r.ActionType(h.fbt._("Changing channel description",null,{hk:"3QNpiW"})),E=u.then((()=>{l.logEvent(m.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_SUCCESS);const e=Boolean(d)?h.fbt._("Channel description changed",null,{hk:"ATEd7"}):h.fbt._("Channel description added",null,{hk:"2z54Ca"});return new r.ActionType(e,{actionText:(0,c.default)("Undo"),actionHandler:()=>C({chat:n,desc:d,adminFunnelLogger:l,toastId:i})})})).catch((()=>(l.logEvent(m.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_FAILURE),__LOG__(3)`channel:handleEditDescription dropped`,new r.ActionType(h.fbt._("Channel description changed failed",null,{hk:"1We4xJ"}),{actionText:(0,c.default)("Try again"),actionHandler:()=>C({chat:n,desc:d,adminFunnelLogger:l,toastId:i})})))).finally((()=>{o&&o(!1)}));return p.ToastManager.open(g.default.createElement(r.ActionToast,{id:i,initialAction:f,pendingAction:E})),u}function w(e){const{adminFunnelLogger:t,focusOnMount:n}=e,[a,r]=(0,g.useState)(null!=n&&n),s=(0,v.useModelValues)(e.chat,["id","isNewsletter","newsletterMetadata"]),c=(0,v.useOptionalModelValues)(s.newsletterMetadata,["description","creationTime","membershipType"]),p=(0,E.default)(c,["change:description"],(()=>(null==c?void 0:c.description)||""));(0,b.useListener)(u.Cmd,"edit_newsletter_description",(()=>{r(!0)}));const[y,w]=(0,g.useState)(p),M=(0,g.useRef)(p),k=(0,g.useCallback)((()=>{y!==M.current&&(M.current=y,t.logEvent(m.CHANNEL_ADMIN_ACTION.CHANNEL_DESCRIPTION_SET))}),[t,y]),S=(0,g.useCallback)(function(){var e=(0,l.default)((function*(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";k(),t.logEvent(m.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP),yield C({chat:s,desc:e,adminFunnelLogger:t,setIsEditing:r})}));return function(){return e.apply(this,arguments)}}(),[s,k,t]);if(null==c)return null;const _=h.fbt._("Add channel description",null,{hk:"4cBfrw"}),{creationTime:P}=c,O=null!=P?i.Clock.newsletterDescriptionCreatedStr(c.creationTime):null;return g.default.createElement(o.default,{description:p,bulletPointsEnabled:(0,f.formattingV2ExpansionEnabled)(),expandedFormattingEnabled:(0,f.formattingV2ExpansionEnabled)(),chat:e.chat,testid:"newsletter-info-drawer-description-title-input",containerTestId:"newsletter-info-drawer-description-container",emptyValuePlaceholder:_,creationString:O,canSetDescription:(0,d.iAmAdminOrOwner)(c),setDescriptionAction:S,onChange:w,onBlur:()=>{k(),r(!1)},setIsEditing:a,focusOnMount:n})}w.displayName="WAWebNewsletterDescriptionSection"},751046:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(34730),r=a(n(306007)),o=n(464659),i=n(780549),u=n(949359),s=n(312043),c=a(n(908081)),d=a(n(324093)),f=n(626194),p=a(n(969358)),m=n(114850),h=a(n(832897)),g=a(n(894629)),E=n(73225),b=n(683023),v=a(n(664531)),y=n(751460),C=a(n(156636)),w=n(620973),M=n(349372),k=n(617058),S=n(663149),_=n(712648),P=n(646193),O=n(163139),N=n(220584),I=n(382117),T=n(676345),A=n(460416),x=n(744976),D=n(818674),L=n(954141),R=n(873298),j=n(548360),B=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),W=a(n(156720)),F=a(n(524578)),H=a(n(637660)),G=n(808446),V=a(n(321201));function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}const z={flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"};function q(e,t){const{chat:n,newsletterMetadata:a,onClose:U,onTransferNewsletterOwnership:q,onDeleteNewsletter:Y,onAdminCenter:K,onSettings:Z,onShareLink:X,onVerification:Q,onTransferOwnershipSelection:J,adminFunnelLogger:$,focusDescriptionOnMount:ee}=e,te=(0,V.default)(),ne=(0,B.useRef)(null),ae=(0,F.default)(a,["change:suspended"],(()=>!0===(null==a?void 0:a.suspended))),le=(0,F.default)(a,["change:canBeMuted"],(()=>Boolean(null==a?void 0:a.canBeMuted)&&!ae));(0,G.useListener)(i.Cmd,"edit_newsletter_description",(()=>{ne.current&&ne.current.scrollTo({top:0,behavior:"smooth"})}));const re=(0,H.default)((()=>new I.UiActionWamEvent({uiActionType:x.UI_ACTION_TYPE.CHANNEL_INFO_OPEN,uiActionPreloaded:!0}))),oe=ae?null:B.default.createElement(g.default,{chat:n,adminFunnelLogger:$,focusOnMount:ee}),ie=(0,F.default)(a,["change:membershipType"],(()=>(0,y.iAmAdminOrOwner)(e.newsletterMetadata))),ue=le?B.default.createElement(o.ChatInfoDrawerSection,{xstyle:T.uiMargin.top10},B.default.createElement(h.default,{chat:n,mute:n.mute})):null,se=(0,B.useCallback)((()=>{m.ModalManager.open(B.default.createElement(w.NewsletterPhoneNumberNux,null))}),[]),ce=(0,B.useCallback)((()=>{m.ModalManager.open(B.default.createElement(k.NewsletterPublicChannelPrivacyNux,{chat:n,userRole:null==a?void 0:a.membershipType}))}),[n,null==a?void 0:a.membershipType]),de=ie&&(0,E.isNewsletterReactionSettingsEnabled)()&&!ae?B.default.createElement(r.default,{testid:"newsletter-info-channel-settings",title:B.default.createElement(R.WDSTextTitle,null,j.fbt._("Channel settings",null,{hk:"4xHSt"})),icon:B.default.createElement(_.SettingsIcon,{color:N.SvgColorProp.SECONDARY,height:20}),onClick:Z,side:"chevron"}):null,fe=ie?B.default.createElement(r.default,{testid:"newsletter-info-admin-center-row",icon:B.default.createElement(L.WarningIcon,{color:N.SvgColorProp.SECONDARY,height:16}),onClick:K,title:B.default.createElement(R.WDSTextTitle,null,j.fbt._("Channel Alerts",null,{hk:"1NYThG"}))}):null,pe=ae?null:B.default.createElement(M.NewsletterPrivacyRow,{onClick:ie?ce:null,title:j.fbt._("Public channel",null,{hk:"1a60HF"}),text:ie?j.fbt._("What you share is visible to anyone, but your phone number isn't. Click to learn more.",null,{hk:"4auNa3"}):j.fbt._("Anyone can find this channel and see what's been shared.",null,{hk:"1T1Xsg"}),icon:B.default.createElement(l.BusinessWebsiteIcon,{color:N.SvgColorProp.SECONDARY,height:20})}),me=ae||ie?null:B.default.createElement(M.NewsletterPrivacyRow,{onClick:se,title:j.fbt._("Profile privacy",null,{hk:"fHnmE"}),text:(0,u.getNewsletterProfilePrivacyText)(),icon:B.default.createElement(s.DialpadIcon,{color:N.SvgColorProp.SECONDARY,height:20})}),he=B.default.createElement(o.ChatInfoDrawerSection,{xstyle:T.uiMargin.top10},pe,fe,de,me),ge=B.default.createElement(v.default,{xstyle:T.uiMargin.top10,chat:e.chat,onDeleteNewsletter:Y,onTransferNewsletterOwnership:q}),Ee=(0,E.isNewsletterSubscriberListEnabled)()&&ie&&!ae?B.default.createElement(S.NewsletterSubscriberList,{newsletter:n,adminFunnelLogger:$,onShareLink:X,onVerification:Q,onTransferOwnershipSelection:J}):null,be=(0,E.isNewsletterMultiAdminEnabled)()&&(0,y.iAmOwner)(a)&&!ae?B.default.createElement(C.default,{newsletter:n,onVerification:Q}):null,ve=ae||(0,y.iAmAdminOrOwner)(a)||!(0,E.isSimilarNewsletterInInfoDrawersEnabled)()?null:B.default.createElement(p.default,null,B.default.createElement(P.SimilarNewslettersInfoDrawerUnit,{chat:n}));return(0,B.useEffect)((()=>{const e=re.current;e&&(e.markUiActionT(),e.commit(),re.current=void 0),(0,D.logUiActionShadowPrivateStatsTestEvents)()}),[]),B.default.createElement(c.default,{ref:t,key:"newsletter-info-modal",theme:"striped",testid:"chat-info-drawer",tsNavigationData:(0,E.isNewsletterTSLEnabled)()?{surface:"channel-profile",extras:{threadType:A.THREAD_TYPE.CHANNEL,channelWid:n.id}}:void 0},B.default.createElement(f.DrawerHeader,{title:j.fbt._("Channel info",null,{hk:"2MU3nu"}),type:f.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{U?U():null==te||te.requestDismiss()},testid:"newsletter-info-header"}),B.default.createElement(d.default,{ref:ne},B.default.createElement("section",{className:(0,W.default)(z)},B.default.createElement(b.NewsletterInfoTopCard,{chat:(0,O.unproxy)(n),adminFunnelLogger:$}),oe,ue,ve,he,be,Ee,ge,undefined)))}var Y=(0,B.forwardRef)(q);t.default=Y},988149:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var l=a(n(348926)),r=n(328620),o=n(172365),i=a(n(395767)),u=a(n(559719)),s=n(751460),c=n(390737),d=n(269430),f=n(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),m=n(655241);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,r.genId)();const l=(0,o.editNewsletterMetadataAction)(e,{editName:!0},{name:t}),u=e.name,s=new r.ActionType(f.fbt._("Renaming channel",null,{hk:"3xRXjW"})),m=l.then((()=>(n.logEvent(d.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_SUCCESS),new r.ActionType(f.fbt._("Channel renamed to {name}",[f.fbt._param("name",t)],{hk:"JAzRN"}),{actionText:(0,i.default)("Undo"),actionHandler:()=>g(e,u,n,a)})))).catch((()=>(n.logEvent(d.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_FAILURE),__LOG__(3)`newsletter:handleEditSubject dropped`,new r.ActionType(f.fbt._("Couldn't rename channel",null,{hk:"3OWiwP"}),{actionText:(0,i.default)("Try again"),actionHandler:()=>g(e,t,n,a)}))));return c.ToastManager.open(p.default.createElement(r.ActionToast,{id:a,initialAction:s,pendingAction:m})),l}function E(e){let{adminFunnelLogger:t,chat:n}=e;const a=(0,m.useOptionalModelValues)(n.newsletterMetadata,["name","membershipType","isSuspendedOrTerminated"]),[r,o]=(0,p.useState)(n.formattedTitle),i=(0,p.useRef)(n.formattedTitle),c=(0,p.useCallback)((()=>{r!==i.current&&(i.current=r,t.logEvent(d.CHANNEL_ADMIN_ACTION.CHANNEL_NAME_SET))}),[t,r]),h=(0,p.useCallback)(function(){var e=(0,l.default)((function*(e){c(),e!==n.formattedTitle&&(t.logEvent(d.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP),yield g(n,e,t))}));return function(){return e.apply(this,arguments)}}(),[n,c,t]);return null==a?null:p.default.createElement(u.default,{subject:n.formattedTitle,onSave:h,editRestrictionInfo:void 0,editable:(0,s.iAmAdminOrOwner)(a)&&!0!==a.isSuspendedOrTerminated,emptyErrorMessage:f.fbt._("Channel name can't be empty",null,{hk:"2ep6gS"}),onChange:o,onBlur:c,direction:"ltr"})}E.displayName="NewsletterInfoSubject"},683023:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterInfoTopCard=L;var l=a(n(348926)),r=n(603869),o=n(927531),i=n(949359),u=n(306703),s=a(n(969358)),c=n(690495),d=n(477603),f=a(n(932325)),p=n(659356),m=n(114850),h=a(n(501624)),g=a(n(988149)),E=n(751460),b=n(405473),v=n(970910),y=n(956113),C=n(163139),w=n(24592),M=n(676345),k=n(106645),S=a(n(625903)),_=n(874806),P=n(215575),O=n(548360),N=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),I=a(n(156720)),T=n(655241),A=n(671342);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const D={newsletterSecondary:{lineHeight:"a4ywakfo",marginTop:"ma4rpf0l",textAlign:"qfejxiq4"},actionIcon:{color:"fsk8o631"},infoAction:{flexGrow:"ggj6brxn",color:"fsk8o631",fontWeight:"hnx8ox4h"},spinner:{stroke:"mqe5ufcr"},infoActionBtn:{fontSize:"ovllcyds",minWidth:"pwaghgrf"}};function L(e){const{adminFunnelLogger:t}=e,n=(0,T.useOptionalModelValues)(e.chat.newsletterMetadata,["size","privacy","terminated","isSuspendedOrTerminated","membershipType","inviteCode"]);let a=(null==n?void 0:n.privacy)===o.NewsletterPrivacy.Private?O.fbt._("Private Channel",null,{hk:"4eaPAs"}):O.fbt._("Channel",null,{hk:"26BY5U"});(null==n?void 0:n.terminated)&&(a=O.fbt._("Deleted channel",null,{hk:"3S2eSl"}));const l=null!=(null==n?void 0:n.size)?(0,i.getNewsletterFollowersText)(n.size,!0):null;return N.default.createElement(s.default,{theme:"padding-large"},N.default.createElement(c.FlexColumn,{align:"center"},N.default.createElement(h.default,{chat:e.chat,xstyle:M.uiMargin.bottom7,readOnly:!0===(null==n?void 0:n.isSuspendedOrTerminated)||!(0,E.iAmAdminOrOwner)(n),adminFunnelLogger:t,showOutline:!0}),N.default.createElement(g.default,{chat:e.chat,adminFunnelLogger:t}),N.default.createElement("div",{className:(0,I.default)(D.newsletterSecondary)},N.default.createElement(u.SelectableSpan,{dir:"auto",selectable:!0},N.default.createElement(w.TextSpan,{size:"16",color:"secondary"},a,(null==n?void 0:n.isSuspendedOrTerminated)?null:N.default.createElement(N.default.Fragment,null,f.default.isRTL()?" - ":" · ",l))))),(null==n?void 0:n.isSuspendedOrTerminated)?null:N.default.createElement(R,{chat:e.chat}))}function R(e){let{chat:t}=e;const[n,a]=(0,N.useState)(!1),o=t.newsletterMetadata,u=(0,N.useCallback)((0,l.default)((function*(){a(!0),yield(0,b.subscribeToNewsletter)((0,C.unproxy)(t),{eventSurface:_.CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE}),a(!1)})),[t]),s=(0,N.useCallback)((()=>{m.ModalManager.open(N.default.createElement(k.UnfollowNewsletterConfirmationModal,{chat:t,eventSurface:_.CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE}))}),[t]),f=[];(0,E.iAmGuest)(o)?f.push({Icon:v.PlusLargeIcon,onClick:u,testid:"newsletter-info-follow-action",title:O.fbt._("Follow",null,{hk:"1MHfKq"}),isLoading:n}):(0,E.iAmSubscriber)(o)&&f.push({Icon:r.CheckmarkIcon,onClick:s,testid:"newsletter-info-unfollow-action",title:O.fbt._("Following",null,{hk:"4pSME4"}),isLoading:!1});const[h,g,w]=(0,A.useNewsletterInviteLink)({chat:t,linkShareLoggingNavigationParams:{linkShareScreen:P.CHANNEL_LINK_SHARE_SCREEN.CHANNEL_INFO}});return null!=h&&(f.push({Icon:d.ForwardIcon,onClick:w,testid:"newsletter-info-invite-action",title:(0,i.getForwardNewsletterLinkText)(),isLoading:!1}),document.queryCommandSupported("copy")&&f.push({Icon:p.LinkIcon,onClick:g,testid:"newsletter-info-copy-link-action",title:(0,i.getCopyLinkText)(),isLoading:!1})),N.default.createElement(c.FlexRow,{justify:"center",align:"center",xstyle:[M.uiMargin.top25,M.uiMargin.bottom10]},f.map(((e,t)=>{let{testid:a,Icon:l,onClick:r,title:o,isLoading:i}=e;return N.default.createElement(S.default,{key:t,"aria-label":o,testid:a,onClick:r,xstyle:D.infoActionBtn,disabled:n},N.default.createElement(c.FlexColumn,{align:"center",xstyle:[D.infoAction,M.uiPadding.horiz15]},i?N.default.createElement(y.Spinner,{color:D.spinner,size:32,xstyle:M.uiMargin.bottom15}):N.default.createElement(l,{xstyle:[D.actionIcon,M.uiMargin.bottom15],width:24,height:24}),o))})))}L.displayName="NewsletterInfoTopCard",R.displayName="NewsletterInfoActions"},664531:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,xstyle:n,onTransferNewsletterOwnership:a,onDeleteNewsletter:r}=e;const o=w.default.createElement(_,{chat:t}),i=w.default.createElement(S,{chat:t}),u=w.default.createElement(O,{chat:t,onTransferOwnership:a}),s=w.default.createElement(N,{chat:t,onDeleteNewsletter:r}),c=w.default.createElement(P,{chat:t});return w.default.createElement(l.ChatInfoDrawerButtonsSection,{xstyle:n},o,c,u,s,i)};var l=n(464659),r=n(949359),o=n(177938),i=n(431037),u=n(36045),s=n(850865),c=n(998569),d=n(114850),f=a(n(298486)),p=n(73225),m=n(751460),h=a(n(726619)),g=n(453603),E=n(519738),b=n(824017),v=n(106645),y=n(874806),C=n(548360),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),M=n(655241);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function S(e){let{chat:t}=e;const n=(0,M.useOptionalModelValues)(t.newsletterMetadata,["suspended","terminated","isSuspendedOrTerminated"]);if((null==n?void 0:n.isSuspendedOrTerminated)||!(0,p.isNewsletterReportingEnabled)())return null;const a=C.fbt._("Report channel",null,{hk:"121pqy"});return w.default.createElement(u.DrawerButtonSimple,{testid:"newsletter-integrity-report-button",icon:w.default.createElement(E.ThumbsDownIcon,{directional:!0}),color:"danger",theme:"chat-info",onClick:()=>{d.ModalManager.open(w.default.createElement(h.default,{chat:t,spamFlow:g.SpamFlow.NewsletterInfoReport}))}},a)}function _(e){let{chat:t}=e;const n=(0,M.useOptionalModelValues)(t.newsletterMetadata,["membershipType"]),a=C.fbt._("Unfollow",null,{hk:"3NYOtp"}),l=(0,w.useCallback)((()=>{d.ModalManager.open(w.default.createElement(v.UnfollowNewsletterConfirmationModal,{chat:t,eventSurface:y.CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE}))}),[t]);return(0,m.iAmSubscriber)(n)?w.default.createElement(u.DrawerButtonSimple,{testid:"li-unfollow-newsletter",icon:w.default.createElement(s.ExitIcon,{directional:!0}),color:"danger",theme:"chat-info",onClick:l},a):null}function P(e){let{chat:t}=e;const n=(0,M.useOptionalModelValues)(t.newsletterMetadata,["membershipType"]),a=(0,w.useCallback)((()=>{const e=o.ContactCollection.getMeContact();null!=e&&d.ModalManager.open(w.default.createElement(f.default,{newsletter:t,isMe:!0,contact:e}))}),[t]);if(!(0,m.iAmAdmin)(n)||!(0,p.isNewsletterMultiAdminEnabled)())return null;const l=C.fbt._("Dismiss yourself as admin",null,{hk:"1tzVPf"});return w.default.createElement(u.DrawerButtonSimple,{testid:"li-dismiss-youself-as-admin-newsletter",icon:w.default.createElement(c.MinusUserIcon,null),color:"danger",theme:"chat-info",onClick:a},l)}function O(e){let{chat:t,onTransferOwnership:n}=e;const a=(0,M.useOptionalModelValues)(t.newsletterMetadata,["membershipType"]);return(0,m.iAmOwner)(a)&&(0,p.isNewsletterTransferOwnershipEnabled)()?w.default.createElement(u.DrawerButtonSimple,{testid:"li-transfer-newsletter-ownership",icon:w.default.createElement(b.TransferOwnershipIcon,{directional:!0}),color:"accent",theme:"chat-info",onClick:n},(0,r.getNewsletterTransferOwnershipText)()):null}function N(e){let{chat:t,onDeleteNewsletter:n}=e;const a=(0,M.useOptionalModelValues)(t.newsletterMetadata,["membershipType"]);return(0,m.iAmOwner)(a)?w.default.createElement(u.DrawerButtonSimple,{testid:"li-delete-newsletter",icon:w.default.createElement(i.DeleteIcon,{directional:!0}),color:"danger",theme:"chat-info",onClick:n},(0,r.getDeleteChannelText)()):null}},78668:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(692629)),r=n(468926),o=n(949359),i=a(n(908081)),u=n(626194),s=a(n(969358)),c=n(690495),d=n(114850),f=n(21645),p=n(693506),m=n(374900),h=a(n(72833)),g=n(24592),E=n(824017),b=n(676345),v=n(22134),y=n(954141),C=n(548360),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),M=a(n(156720)),k=a(n(305988));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const _={container:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"fhf7t426",paddingTop:"g4aelcuc",paddingEnd:"gv1bfy1o",paddingBottom:"kkl0ln3e",paddingStart:"qt3358re",flexGrow:"ggj6brxn"},buttonContainer:{textAlign:"qfejxiq4"},header:{textAlign:"qfejxiq4",lineHeight:"a4ywakfo",overflowWrap:"s58vrwyt"},icon:{color:"hp667wtd"}};function P(e,t){const{chat:n,contact:a}=e,[S,P]=(0,k.default)(!1);if(null==a)return null;const O=C.fbt._("Transfer ownership to {channel-name}?",[C.fbt._param("channel-name",w.default.createElement(f.ContactName,{contact:a}))],{hk:"2EP6hM"}),N=[{title:C.fbt._("You won't be able to invite or dismiss admins",null,{hk:"4AAzUs"}),description:C.fbt._("You also won't be able to delete the channel.",null,{hk:"45WVwW"}),Icon:y.WarningIcon},{title:C.fbt._("You'll remain an admin or choose to dismiss yourself",null,{hk:"3Qr2xB"}),description:C.fbt._("Admins can send updates and change the channel's profile and settings.",null,{hk:"4C9V9G"}),Icon:v.UserShieldIcon}],I=w.default.createElement(c.FlexRow,{columnGap:8,paddingTop:16,paddingBottom:16,xstyle:b.uiMargin.start3,alignSelf:"start",align:"center"},w.default.createElement(r.CheckBox,{id:"transfer-ownership-dismiss-self-as-admin-checkbox",testid:"transfer-ownership-dismiss-self-as-admin-checkbox",checked:S,onChange:P}),w.default.createElement(g.TextLabel,{htmlFor:"transfer-ownership-dismiss-self-as-admin-checkbox",size:"16",className:(0,M.default)(b.uiMargin.horiz10)},C.fbt._("Dismiss yourself as admin",null,{hk:"OkgfD"})));return w.default.createElement(i.default,{ref:t,testid:"newsletter-delete-drawer"},w.default.createElement(u.DrawerHeader,{title:(0,o.getNewsletterTransferOwnershipText)(),type:u.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,onCancel:e.onCancel}),w.default.createElement(s.default,{animation:!1,xstyle:_.container},w.default.createElement(c.FlexRow,{align:"center",justify:"center"},w.default.createElement(m.NewsletterImageWithAction,{chat:e.chat,actionTheme:"primary",Icon:E.TransferOwnershipIcon})),w.default.createElement(c.FlexRow,{align:"center",justify:"center"},w.default.createElement(g.TextHeader,{xstyle:[_.header,b.uiMargin.top16,b.uiMargin.bottom16],size:"24",color:"dark",weight:"medium"},O)),N.map((e=>{const{Icon:t,title:n,description:a}=e;return w.default.createElement(p.NewsletterDrawerBodyParagraph,{key:n,icon:w.default.createElement(t,{width:24,height:24,xstyle:_.icon}),title:n,description:a})})),I,w.default.createElement(c.FlexRow,{xstyle:[_.buttonContainer,b.uiMargin.top16]},w.default.createElement(l.default,{testid:"newsletter-transfer-ownership-button",type:"primary",onClick:()=>{d.ModalManager.open(w.default.createElement(h.default,{chat:n,contact:a,onTransferCompletion:e.onTransferCompletion,shouldDismissSelfAsAdmin:S}))}},C.fbt._("Transfer",null,{hk:"hzIzq"})))))}var O=(0,w.forwardRef)(P);t.default=O},250940:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(557294)),r=a(n(908081)),o=a(n(324093)),i=n(626194),u=a(n(969358)),s=n(811720),c=a(n(395767)),d=a(n(570834)),f=a(n(932325)),p=n(606166),m=n(608456),h=n(745170),g=n(676345),E=n(548360),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),v=(a(n(156720)),a(n(261716))),y=n(365402);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const w={drawer:{backgroundColor:"ihvf49ua"}};function M(e){let{chat:t}=e;return b.default.createElement(s.EmptyErrorStateWithButton,{xstyle:g.uiMargin.top20,center:!1,text:E.fbt._("Your channel doesn't have any admins. You can only transfer ownership to admins.",null,{hk:"4zI2XI"}),buttonText:E.fbt._("Invite admins",null,{hk:"4DHCbn"}),onClick:()=>{(0,p.startAdminInviteFlow)({chat:t})},testid:"transfer-ownership-no-admins"})}function k(e,t){const{chat:n,onTransferOwnershipSelection:a}=e,s=(0,b.useRef)(),[p,g]=(0,v.default)(),C=(0,c.default)("Search"),k=(0,b.useMemo)((()=>new d.default),[]),S=(0,y.useNewsletterAdmins)(n),_=b.default.createElement(u.default,{shadow:!1,animation:!1,theme:"list-section"},b.default.createElement(h.DrawerSearchInput,{searchInputA11yLabel:C,placeholder:C,onSearch:g,focusOnMount:!1})),P=(0,b.useCallback)((()=>{const e=f.default.accentFold(p),t=(0,m.numberSearch)(e);return(null!=S?S:[]).filter((n=>!e||e&&n.searchMatch(e,t)))}),[S,p]),O=(0,b.useCallback)((()=>{const e={contacts:P(),header:E.fbt._("Admins",null,{hk:"12a1VH"})};return b.default.createElement(l.default,{ref:s,contacts:[],flatListController:k,onClick:(e,t)=>{a(t)},showMe:!1,showBot:!1,showPersonGroupDivisionHeader:!0,separateContacts:e})}),[P,k,a]),N=null==S||0===(null==S?void 0:S.length)?b.default.createElement(M,{chat:n}):O();return b.default.createElement(r.default,{ref:t,xstyle:w.drawer,testid:"newsletter-delete-drawer"},b.default.createElement(i.DrawerHeader,{title:E.fbt._("Select new owner",null,{hk:"3BUXpS"}),type:i.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,onCancel:e.onCancel}),_,b.default.createElement(o.default,null,N))}M.displayName="NoAdmins";var S=(0,b.forwardRef)(k);t.default=S},758631:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.changeNewsletterOwnerAction=function(){return p.apply(this,arguments)};var l=a(n(348926)),r=n(927531),o=n(549142),i=n(971169),u=n(751460),s=n(263318),c=n(459857),d=n(669050),f=a(n(556869));function p(){return(p=(0,l.default)((function*(e,t){var n;if(!e.isNewsletter)throw __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter][changeNewsletterOwnerAction] called with a non-newsletter chat`,SEND_LOGS("change-owner-of-non-newsletter",1,"newsletter"),(0,f.default)("change-owner-of-non-newsletter");if(!(0,u.iAmOwner)(e.newsletterMetadata))throw __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter][changeNewsletterOwnerAction] Only newsletter owners can transfer ownership`,SEND_LOGS("non-newsletter-owner-transferring-ownership",1,"newsletter"),(0,f.default)("non-newslette-owner-transferring-ownership");if((0,c.isMeAccount)(t.id))throw __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter][changeNewsletterOwnerAction] Cannot transfer ownership to self`,SEND_LOGS("transferring-newsletter-to-self",1,"newsletter"),(0,f.default)("transferring-newsletter-to-self");const a=null===(n=e.newsletterMetadata)||void 0===n?void 0:n.subscribers.get(t.id);if(null==a)throw __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter][changeNewsletterOwnerAction] Cannot transfer ownership to contact not in newsletter`,SEND_LOGS("contact-not-found-in-newsletter-subscriber-list",1,"newsletter"),(0,f.default)("contact-not-found-in-newsletter-subscriber-list");if(a.membership!==r.NewsletterMembershipType.Admin)throw __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter][changeNewsletterOwnerAction] Cannot transfer ownership to a non-admin, role: ${a.membership}`,SEND_LOGS("transferring-newsletter-ownership-to-non-admin",1,"newsletter"),(0,f.default)("transferring-newsletter-ownership-to-non-admin");try{const n=(0,d.toUserWid)(t.id),a=(0,s.toNewsletterJidOrThrow)(e.id.toJid());yield(0,i.changeNewsletterOwner)(a,n),yield o.NewsletterBridgeApi.updateMyNewsletterMembershipRole({newsletter:e,newRole:r.NewsletterMembershipType.Admin}),yield o.NewsletterBridgeApi.updateNewsletterMemberRole({newsletter:e,member:t,newRole:r.NewsletterMembershipType.Owner})}catch(e){throw __LOG__(4,void 0,new Error,!0,["newsletter"])`[newsletter][changeNewsletterOwnerAction] failed to transfer ownership`,SEND_LOGS("change-newsletter-owner-failed",1,"newsletter"),e}}))).apply(this,arguments)}},671342:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useNewsletterInviteLink=function(e){let{chat:t,linkShareLoggingNavigationParams:n}=e;const a=t.formattedTitle,h=(0,m.useOptionalModelValues)(t.newsletterMetadata,["membershipType","inviteCode"]),{inviteCode:g}=h||{},E=null!=g?`https://whatsapp.com/channel/${g}`:null,b=(0,p.useCallback)((()=>{if(null==E)return;(0,o.logNewsletterLinkShare)({shareDirection:c.CHANNEL_LINK_SHARE_DIRECTION.WHATSAPP,linkShareScreen:n.linkShareScreen,newsletter:(0,d.toNewsletterWid)(t.id),linkShareScreenEntryPoint:n.linkShareScreenEntryPoint});const e=f.fbt._("Follow the {newsletter_name} channel on WhatsApp: {link}",[f.fbt._param("newsletter_name",a),f.fbt._param("link",E)],{hk:"2JUBPH"}),l=f.fbt._("Send channel link to",null,{hk:"1oZ2BE"});r.ModalManager.open(p.default.createElement(i.default,{title:l,text:e.toString(),origin:t.id}),{transition:"modal-flow"})}),[E,n,t.id,a]),v=(0,p.useCallback)((()=>{if(null==E)return;(0,l.copyTextToClipboard)(E)?s.ToastManager.open(p.default.createElement(u.Toast,{msg:f.fbt._("Link copied to clipboard.",null,{hk:"24K2ka"})})):s.ToastManager.open(p.default.createElement(u.Toast,{msg:f.fbt._("Couldn't copy to clipboard.",null,{hk:"2JI7CO"})}))}),[E]);return[E,v,b]};var l=n(985714),r=n(114850),o=n(215441),i=a(n(210002)),u=n(625786),s=n(390737),c=n(809991),d=n(669050),f=n(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),m=n(655241);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}},215441:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logNewsletterLinkShare=function(e){let{shareDirection:t,linkShareScreenEntryPoint:n,linkShareScreen:r,newsletter:o}=e;if(!(0,l.isNewsletterLinkShareLoggingEnabled)())return;new a.ChannelLinkShareWamEvent({channelLinkShareDirection:t,channelLinkShareEntryPoint:n,channelLinkShareScreen:r,cid:o.user}).commit()};var a=n(428179),l=n(73225)},72833:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var a=n(758631),l=n(177938),r=n(121790),o=n(114850),i=n(21645),u=n(246120),s=n(548360),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){let{chat:t,contact:n,onTransferCompletion:d,shouldDismissSelfAsAdmin:f}=e;const p=(0,c.useCallback)((()=>{o.ModalManager.close()}),[]),m=[{action:()=>(0,a.changeNewsletterOwnerAction)(t,n),onSuccess:()=>{d()},errorMessage:s.fbt._("Couldn't transfer ownership. Please try again.",null,{hk:"2ZSDoL"})}];if(f){const e=l.ContactCollection.getMeContact();null!=e&&m.push({action:()=>(0,r.demoteNewsletterAdminAction)(t,e),errorMessage:s.fbt._("Ownership transferred but couldn't dismiss yourself as admin.",null,{hk:"4CtbsJ"})})}return c.default.createElement(u.PhoneNumberConfirmationModal,{actions:m,actionType:"primary",actionText:s.fbt._("Transfer",null,{hk:"1enSbR"}),contentText:s.fbt._("To confirm the transfer, enter your country code and phone number.",null,{hk:"3syIOS"}),successText:f?s.fbt._('Ownership transferred to "{new-channel-owner}". You are no longer an admin.',[s.fbt._param("new-channel-owner",c.default.createElement(i.ContactName,{contact:n}))],{hk:"29iT1S"}):s.fbt._('Ownership transferred to "{new-channel-owner}"',[s.fbt._param("new-channel-owner",c.default.createElement(i.ContactName,{contact:n}))],{hk:"4xzPYL"}),onCompletion:p})}f.displayName="NewsletterTransferOwnershipConfirmationModal"},933655:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterEmojiSettings=b;var l=n(927531),r=n(70354),o=a(n(225148)),i=n(73225),u=n(695431),s=n(348538),c=n(676345),d=n(548360),f=a(n(667294)),p=a(n(156720));const m={title:{color:"i8b0kslj"}};function h(){return f.default.createElement("span",null,s.REACTIONS_DEFAULT_SENDING_TRAY.map(((e,t)=>{const n=r.EmojiUtil.normalizeEmojiFromString(e),a=t+1===s.REACTIONS_DEFAULT_SENDING_TRAY.length?c.uiMargin.end0:c.uiMargin.end4;return null!=n?f.default.createElement("span",{className:(0,p.default)(a),key:`newsletter-emoji-container-${t}`},f.default.createElement(o.default,{key:`newsletter-emoji-${t}`,emoji:n,size:"small",element:"span"})):null})))}h.displayName="NewsletterEmojiSettingsEmojiTray";const g=[{getLabel:()=>d.fbt._("Any emoji",null,{hk:"PwBNc"}),value:l.NewsletterReactionCodesSetting.All},{getLabel:()=>d.fbt._("Default only ({reaction-emojis})",[d.fbt._param("reaction-emojis",f.default.createElement(h,null))],{hk:"YnzVd"}),value:l.NewsletterReactionCodesSetting.Basic}],E={getLabel:()=>d.fbt._("None",null,{hk:"vlKK9"}),value:l.NewsletterReactionCodesSetting.None};function b(e){let{currentlySelected:t,onClick:n}=e;const a=f.default.createElement("div",{className:(0,p.default)([m.title,c.uiMargin.bottom15])},d.fbt._("Which reactions can followers send",null,{hk:"4fwuWS"})),l=(0,i.isNewsletterReactionSettingForNoneEnabled)()?[...g,E]:g;return f.default.createElement(f.default.Fragment,null,a,f.default.createElement(u.RadioGroup,{name:"newsletter-reaction-codes-setting",checkedValue:t,theme:u.RadioWithLabelThemeEnum.LARGE,onChange:n,options:l.map((e=>({value:e.value,label:e.getLabel(),onChange:n,testid:`newsletter-emoji-setting-${e.value}`})))}))}b.displayName="NewsletterEmojiSettings"},660508:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(967154)),r=a(n(170206)),o=n(949359),i=n(405283),u=n(306703),s=n(23641),c=a(n(908081)),d=n(36045),f=n(626194),p=n(690495),m=n(477603),h=n(220584),g=n(676345),E=n(215575),b=n(873298),v=n(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),C=a(n(156720)),w=n(655241),M=n(671342);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const S={drawer:{backgroundColor:"lkjmyc96"},header:{width:"gofbmt1g",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",backgroundColor:"f6ipylw5",overflowX:"gfz4du6o",overflowY:"r7fjleex"},optionsHeader:{textAlign:"ljrqcn24"},divider:{width:"ln8gz9je",height:"kanlod6e",backgroundColor:"i86xphuw"},mouseCursor:{cursor:"ajgl1lbb"},link:{wordBreak:"m1c2hokz"},newsletterName:{wordBreak:"cw3vfol9",maxHeight:"krcjiuu9"}},_=(0,y.forwardRef)(((e,t)=>{var n;const a=null!==(n=e.entryPoint)&&void 0!==n?n:void 0;void 0===a&&(__LOG__(3,void 0,void 0,!0,["newsletter-logging"])`Encountered null link share screen entry point`,SEND_LOGS("Null link share screen entry point in newsletter link share logging",1,"newsletter-logging"));const[k,_,P]=(0,M.useNewsletterInviteLink)({chat:e.newsletter,linkShareLoggingNavigationParams:{linkShareScreen:E.CHANNEL_LINK_SHARE_SCREEN.SHARE_LINK_SCREEN,linkShareScreenEntryPoint:a}}),O=(0,w.useOptionalModelValues)(e.newsletter.newsletterMetadata,["name"]),N=(0,w.useModelValues)(e.newsletter.contact,["id","profilePicThumb"]),I=[];null!=k&&(I.push({Icon:m.ForwardIcon,onClick:P,testid:"newsletter-info-invite-action",title:(0,o.getSendLinkViaWhatsAppText)()}),document.queryCommandSupported("copy")&&I.push({Icon:i.CopyIcon,onClick:_,testid:"newsletter-info-copy-link-action",title:(0,o.getCopyLinkText)()}));const T=y.default.createElement("div",{className:(0,C.default)([S.header,g.uiMargin.all15])},y.default.createElement(r.default,{image:y.default.createElement(s.DetailImage,{id:N.id,size:56,shape:s.DetailImageShape.Circle,quality:s.DetailImageQuality.High}),primary:y.default.createElement(b.WDSTextTitle,{xstyle:S.newsletterName},null==O?void 0:O.name),secondary:y.default.createElement(u.SelectableLink,{selectable:!0,onClick:_,xstyle:S.mouseCursor},y.default.createElement(b.WDSTextMuted,{color:"link",textWrap:"wrap",xstyle:S.link,testid:"newsletter-link-drawer-copyable-link"},k)),theme:"newsletter-link-cell",className:(0,C.default)(g.uiMargin.vert4,g.uiMargin.horiz2)})),A=y.default.createElement(b.WDSTextSectionTitle,{xstyle:S.optionsHeader,marginEnd:32,marginStart:32,marginTop:16,marginBottom:20,color:"primary"},(0,o.getChannelLinkInformationText)()),x=y.default.createElement(p.FlexRow,{xstyle:[g.uiMargin.vert4,g.uiMargin.horiz30]},y.default.createElement("div",{className:(0,C.default)(S.divider)})),D=e.onBack?{onBack:e.onBack}:{onCancel:e.onClose};return y.default.createElement(c.default,{ref:t,theme:"striped",testid:"newsletter-link-drawer",xstyle:S.drawer},y.default.createElement(f.DrawerHeader,(0,l.default)({title:v.fbt._("Channel link",null,{hk:"41e9Nh"}),type:f.DRAWER_HEADER_TYPE.SMALL},D,{rtlFixIfOnDarwin:!0,testid:"newsletter-link-drawer-header"})),T,A,x,I.map(((e,t)=>{let{testid:n,Icon:a,onClick:l,title:r}=e;return y.default.createElement(d.DrawerButtonSimple,{key:`${n}-${t}`,testid:n,icon:y.default.createElement(a,{width:24,height:24,color:h.SvgColorProp.SECONDARY}),divider:!1,onClick:l},r)})))}));_.displayName="NewsletterLinkDrawer";var P=_;t.default=P},156636:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var l=n(464659),r=a(n(831584)),o=n(949359),i=a(n(570834)),u=a(n(932325)),s=n(114850),c=n(164406),d=n(663149),f=n(396802),p=n(661991),m=a(n(237889)),h=n(676345),g=n(548360),E=a(n(667294)),b=a(n(637660)),v=n(542534),y=n(12579);function C(e){let{newsletter:t,onVerification:n}=e;const a=(0,v.useNewsletterPendingInvites)(t),C=a.length,w=(0,b.default)((()=>new i.default)),M=(0,b.default)((()=>new m.default([],(e=>e.id.toString())))),k=a.slice(0,f.NEWSLETTER_INFO_SUBSCRIBER_DISPLAY_LIMIT).map((e=>({itemKey:`pending-${e.id.toJid()}`,contact:e,height:68,role:null,isPendingAdmin:!0}))),[S,_]=(0,y.useNewsletterSubscribersContextMenu)({chat:t,isFullModal:!1,onVerification:n,followerInformation:new Map(k.map((e=>{var t;return[null===(t=e.contact)||void 0===t?void 0:t.id,{newsletterRole:null}]}))),newsletter:t});if(0===C)return null;const P=C>f.NEWSLETTER_INFO_SUBSCRIBER_DISPLAY_LIMIT?E.default.createElement(r.default,{numMore:C,onClick:()=>{s.ModalManager.open(E.default.createElement(p.NewsletterSubscriberListModal,{newsletter:t,initialStep:p.FollowersFlowStep.PendingInvites,onVerification:n}),{transition:"modal-flow"})},fromNewsletter:!0,viewAll:!0}):null;return E.default.createElement(E.default.Fragment,null,E.default.createElement(l.ChatInfoDrawerListSection,{testid:"newsletter-info-pending-invites-list",title:(0,o.getAdminInvitesTitleText)(C),xstyle:h.uiMargin.top10},E.default.createElement(c.NavigableFlatList,{ariaLabel:g.fbt._("Pending Invites List: {pending-invites-list-size}",[g.fbt._param("pending-invites-list-size",u.default.n(C))],{hk:"fq0dT"}),flatListController:w.current,listData:k,onRenderItem:e=>E.default.createElement(d.NewsletterSubscriber,{subscriberData:e,handleContactClick:()=>{},handleContactContextMenu:_,active:M.current}),selection:M.current,rotateList:!0}),P),S)}C.displayName="NewsletterPendingInvites"},245272:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(967154)),r=a(n(348926)),o=n(780549),i=n(927531),u=a(n(908081)),s=a(n(324093)),c=n(626194),d=n(172365),f=n(933655),p=n(676345),m=n(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),g=a(n(156720)),E=n(808446),b=n(655241);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){return(y=(0,r.default)((function*(e,t){try{return yield(0,d.editNewsletterMetadataAction)(e,{editReactionCodesSetting:!0},{reactionCodesSetting:t})}catch(t){__LOG__(4,void 0,new Error,!0,["reactions","newsletter"])`[handleReactionCodesSettingChange][editNewsletterMetadataAction] Error editing reaction settings for newsletter ${e.id}`,SEND_LOGS("newsletter-edit-reaction-settings-failed",1,"reactions","newsletter")}}))).apply(this,arguments)}const C={body:{flexShrink:"oq44ahr5",flexGrow:"ggj6brxn",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},drawer:{backgroundColor:"lkjmyc96"}},w=(0,h.forwardRef)(((e,t)=>{var n,a;const d=(0,h.useCallback)(function(){var t=(0,r.default)((function*(t){var n;const a=null!==(n=i.NewsletterReactionCodesSetting.cast(Number(t.target.value)))&&void 0!==n?n:i.NewsletterReactionCodesSetting.Basic;e.adminFunnelLogger.logReactionSetting(a),yield function(){return y.apply(this,arguments)}(e.newsletter,a)}));return function(){return t.apply(this,arguments)}}(),[e.newsletter,e.adminFunnelLogger]),v=(0,b.useOptionalModelValues)(null===(n=e.newsletter)||void 0===n?void 0:n.newsletterMetadata,["reactionCodesSetting"]);(0,E.useListener)(o.Cmd,"edit_newsletter_description",(()=>e.onBack()));const w=!0===e.isFirstLevel?{onCancel:e.onBack}:{onBack:e.onBack};return h.default.createElement(u.default,{ref:t,theme:"striped",testid:"newsletter-settings-drawer",xstyle:C.drawer},h.default.createElement(c.DrawerHeader,(0,l.default)({title:m.fbt._("Channel settings",null,{hk:"2bWwDX"}),type:c.DRAWER_HEADER_TYPE.SMALL},w,{rtlFixIfOnDarwin:!0,testid:"newsletter-settings-drawer-header"})),h.default.createElement(s.default,null,h.default.createElement("section",{className:(0,g.default)([C.body,p.uiMargin.horiz30,p.uiMargin.vert30])},h.default.createElement(f.NewsletterEmojiSettings,{onClick:d,currentlySelected:null!==(a=null==v?void 0:v.reactionCodesSetting)&&void 0!==a?a:i.NewsletterReactionCodesSetting.Basic}))))}));w.displayName="NewsletterSettingsDrawer";var M=w;t.default=M},355793:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ExitedGroupQPSurface=c;var l=n(312158),r=n(690495),o=n(959989),i=n(753284),u=a(n(667294)),s=n(179203);function c(e){let{group:t}=e;const n=(0,s.usePrivacyTipQuickPromotion)({surfaceId:l.QP_SURFACE_ID_EXITED_GROUP,group:t});if(null==n||!(0,i.groupsPrivacyTipsEnabled)())return;const{promotion:a,sanitizedText:c,image:d,dismiss:f,primaryActionClick:p,settingStep:m}=n,h=a.promotion.data.primaryAction;return u.default.createElement(r.FlexRow,{paddingTop:8},u.default.createElement(o.PrivacyTipBanner,{text:c,image:d,actionText:null==h?void 0:h.text,onDismiss:f,onAction:p,settingStep:m}))}c.displayName="ExitedGroupQPSurface"},371125:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{stickerPackId:t,onStickerPackView:n,stickerPackViewDelay:a,sticker:h,showViewPackButton:g}=e,E=function(e){(0,p.useEffect)((()=>{e&&d.StickerPackCollectionMd.fetchStickerPack(e)}),[e]);return(0,m.default)(d.StickerPackCollectionMd,"add remove reset",(()=>null!=e?d.StickerPackCollectionMd.get(e):null))}(t);let b;if(t){const e=e=>{e.stopPropagation(),n&&n(),null!=a?self.setTimeout((()=>r.Cmd.openStickerPack(t)),a+150):r.Cmd.openStickerPack(t)};(0,s.isFavoriteStickersEnabled)()?null!=h&&(b=p.default.createElement(u.FlexRow,null,g&&p.default.createElement(l.default,{onClick:e,type:"secondary"},f.fbt._("View Pack",null,{hk:"tAlU3"})),i.FavoriteStickerCollection.get(h.filehash)?p.default.createElement(l.default,{onClick:()=>(0,o.removeStickerFromFavorites)(h),type:"secondary"},f.fbt._("Remove From Favorites",null,{hk:"3YoUkP"})):p.default.createElement(l.default,{onClick:()=>(0,o.addStickerToFavorites)(h),type:"secondary"},f.fbt._("Add to Favorites",null,{hk:"3x4EBo"})))):b=g?p.default.createElement(l.default,{onClick:e,type:"secondary"},f.fbt._("View Pack",null,{hk:"tAlU3"})):null}return p.default.createElement(p.default.Fragment,null,p.default.createElement(c.StickerDetailsStickerPackInfo,{name:null==E?void 0:E.name,publisher:null==E?void 0:E.publisher,theme:c.Theme.MediaViewer}),b)};var l=a(n(692629)),r=n(780549),o=n(225446),i=n(788788),u=n(690495),s=n(97858),c=n(438543),d=n(425192),f=n(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),m=a(n(524578));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}},565527:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(348926)),r=n(691454),o=n(778945),i=n(87630),u=a(n(908081)),s=a(n(324093)),c=n(626194),d=n(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=(e,t)=>{const{contactId:n}=e,[a,p]=(0,f.useState)(void 0),[m,h]=(0,f.useState)(!0);(0,f.useEffect)((()=>{(function(){var e=(0,l.default)((function*(){const e=yield o.BusinessProfileCollection.update(n,{getMerchantCompliance:!0}),t=(Array.isArray(e)?e[0]:e).serialize();t?(p(t.legalEntityDetails||void 0),h(!1)):__LOG__(3)`compliance: cannot fetch business details (${n.toString()})`}));return function(){return e.apply(this,arguments)}})()()}),[]);const{entityName:g,customerCareDetails:E,grievanceOfficerDetails:b}=null!=a?a:{},v=(0,r.getEntityTypeText)(a);return f.default.createElement(u.default,{ref:t,key:"merchant-details-modal",theme:"striped"},f.default.createElement(c.DrawerHeader,{title:d.fbt._("Business details",null,{hk:"m9xzp"}),type:c.DRAWER_HEADER_TYPE.SMALL,onCancel:e.onClose}),f.default.createElement(s.default,{theme:m?"center-content":void 0},m?f.default.createElement(i.ComplianceInfoLoading,null):f.default.createElement(f.default.Fragment,null,f.default.createElement(i.ComplianceInfoGroup,null,f.default.createElement(i.ComplianceInfoPrimitiveField,{value:g,label:d.fbt._("Legal Name of Business",null,{hk:"2s9jD"})}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:v,label:d.fbt._("Business Type",null,{hk:"48J73B"})})),f.default.createElement(i.ComplianceInfoGroup,{title:d.fbt._("Customer Care Information",null,{hk:"qlYos"})},f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==E?void 0:E.mobileNumber,label:d.fbt._("Mobile Phone Number",null,{hk:"PMTTg"}),forceLTR:!0}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==E?void 0:E.landlineNumber,label:d.fbt._("Landline Phone Number",null,{hk:"tXYaf"}),forceLTR:!0}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==E?void 0:E.email,label:d.fbt._("Email Address",null,{hk:"2jYxR1"})})),f.default.createElement(i.ComplianceInfoGroup,{title:d.fbt._("Grievance Officer Information",null,{hk:"3emd7I"})},f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==b?void 0:b.name,label:d.fbt._("Name",null,{hk:"2vEs6r"})}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==b?void 0:b.mobileNumber,label:d.fbt._("Mobile Phone Number",null,{hk:"3kk5I"}),forceLTR:!0}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==b?void 0:b.landlineNumber,label:d.fbt._("Landline Phone Number",null,{hk:"4GBzF0"})}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==b?void 0:b.email,label:d.fbt._("Email Address",null,{hk:"3SvbLl"})})))))};var h=(0,f.forwardRef)(m);t.default=h},517729:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=P;var l=n(240045),r=n(577497),o=a(n(196554)),i=n(103440),u=n(324729),s=n(660666),c=n(305521),d=n(753233),f=n(198400),p=a(n(395767)),m=n(97858),h=n(114850),g=n(945270),E=n(676345),b=n(493885),v=n(403602),y=n(873298),C=n(548360),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),M=a(n(156720)),k=n(379811);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const _={color:"jq3rn4u7"};function P(e){let{contact:t}=e;const[n,a]=(0,k.useContactValues)(t.id,[s.getVerifiedLevel,s.getVerifiedName]),S=(0,f.getBusinessFaqUrl)(),P=!u.Conn.isSMB;(0,w.useEffect)((()=>{P&&new l.BannerEventWamEvent({bannerType:v.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:b.BANNER_OPERATIONS.SHOWN}).commit()}),[P]);const O=n===r.VERIFIED_LEVEL.HIGH&&!(0,m.isBlueEducationEnabled)()?C.fbt._('WhatsApp has verified that this is the official business account of "{businessName}". This business uses WhatsApp Business, which allows them to add their opening hours, address, website and catalog of products or services.',[C.fbt._param("businessName",a)],{hk:"43yvU"}):C.fbt._("This business uses WhatsApp Business, which allows them to add their opening hours, address, website and catalog of products or services.",null,{hk:"82W5f"});return w.default.createElement(i.ConfirmPopup,{title:C.fbt._("About WhatsApp Business",null,{hk:"3XF5gx"}),onOK:()=>{h.ModalManager.close(),P&&new l.BannerEventWamEvent({bannerType:v.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:b.BANNER_OPERATIONS.DISMISS}).commit()},okText:(0,p.default)("OK")},w.default.createElement(c.EmojiText,{text:O})," ",w.default.createElement(o.default,{href:S,onClick:e=>{e.preventDefault(),h.ModalManager.close(),self.setTimeout((()=>(0,d.openExternalLink)(S)),10)}},C.fbt._("Learn more",null,{hk:"1rcCLt"})),P&&w.default.createElement("div",{className:(0,M.default)(E.uiMargin.top16)},w.default.createElement(y.WDSTextMuted,{as:"span"},C.fbt._("If you're a business, the free WhatsApp Business app can help.",null,{hk:"14W7ur"}),w.default.createElement("br",null),w.default.createElement(o.default,{onClick:e=>{e.preventDefault(),h.ModalManager.close(),new l.BannerEventWamEvent({bannerType:v.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:b.BANNER_OPERATIONS.CLICK}).commit(),self.setTimeout((()=>h.ModalManager.open(w.default.createElement(g.SmbAppUpsellModal,null))),200)},className:(0,M.default)(_)},C.fbt._("Learn about getting the app",null,{hk:"3ncguo"})))))}P.displayName="BusinessInfoWithUpsellModal"},945270:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SmbAppUpsellModal=E,t.WHATSAPP_BUSINESS_URL=void 0;var l=n(240045),r=a(n(196554)),o=n(103440),i=n(305521),u=n(753233),s=a(n(395767)),c=n(114850),d=a(n(345257)),f=n(493885),p=n(403602),m=n(548360),h=a(n(667294));const g="https://www.whatsapp.com/business";function E(){return h.default.createElement(o.ConfirmPopup,{title:m.fbt._("WhatsApp Business app",null,{hk:"4BfvOl"}),onOK:()=>{new l.BannerEventWamEvent({bannerType:p.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:f.BANNER_OPERATIONS.DISMISS}).commit(),c.ModalManager.close()},okText:(0,s.default)("Close")},h.default.createElement(d.default,null),h.default.createElement("p",null,h.default.createElement(i.EmojiText,{text:m.fbt._("If you're a business, you can benefit from switching to the free WhatsApp Business app. It has tools to connect with customers and manage messages.",null,{hk:"2SAIXH"})})),h.default.createElement("br",null),h.default.createElement("p",null,h.default.createElement(i.EmojiText,{text:m.fbt._("Scan this code to get the WhatsApp Business App. Or, you can install it from the App Store or Google Play Store.",null,{hk:"2840mD"})})," ",h.default.createElement(r.default,{href:g,onClick:e=>{e.preventDefault(),c.ModalManager.close(),self.setTimeout((()=>(0,u.openExternalLink)(g)),10)}},m.fbt._("Learn more",null,{hk:"1rcCLt"}))))}t.WHATSAPP_BUSINESS_URL=g,E.displayName="SmbAppUpsellModal"},345257:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var l=n(690495),r=n(914368),o=n(647781),i=n(667738),u=n(676345),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),c=a(n(156720));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f={code:{position:"g0rxnol2"},codeDarkMode:{backgroundColor:"rfib67n1",borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi"},codeLogo:{position:"lhggkp7q",top:"myeiuhv9",start:"m7kgcvyw",zIndex:"b9fczbqn",width:"tddarlmj",height:"jbxl65f1",color:"ep2u7qgo",userSelect:"rkxvyd19",transform:"qk2y3tb3"}};function p(){const{theme:e}=(0,s.useContext)(i.ThemeContext);return s.default.createElement(l.FlexRow,{align:"center",justify:"center",xstyle:u.uiMargin.vert15},s.default.createElement(o.WAWebQRCode,{data:"https://www.whatsapp.com/business/download",colorDark:"#122e31",size:r.QR_EDGE/2},(t=>s.default.createElement("div",{ref:t,className:(0,c.default)("dark"===e&&f.codeDarkMode,f.code,u.uiPadding.all12)},s.default.createElement(m,{theme:e})))))}function m(){return s.default.createElement("div",{className:(0,c.default)(f.codeLogo)},s.default.createElement("svg",{width:"100%",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{fill:"#FFF",d:"M6.525 43.936a29.596 29.596 0 0 1-3.039-13.075C3.494 14.568 16.755 1.313 33.05 1.313c7.904.004 15.328 3.082 20.91 8.666 5.581 5.586 8.653 13.01 8.65 20.907-.007 16.294-13.266 29.549-29.558 29.549a29.648 29.648 0 0 1-12.508-2.771L1.391 62.687l5.134-18.751z"}),s.default.createElement("g",{transform:"translate(8 6)"},s.default.createElement("path",{d:"M42.6776 42.6779C37.9558 47.3997 31.6777 50.0001 24.9999 50.0001C21.0047 50.0001 17.0541 49.0389 13.5244 47.2141L0.601068 49.3339L2.72832 36.3645C0.941278 32.8647 0 28.9525 0 25.0001C0 18.3223 2.60042 12.0443 7.32229 7.32237C12.0442 2.6005 18.3221 0 24.9999 0C31.6777 0 37.9558 2.6005 42.6776 7.32237C47.3995 12.0443 50 18.3223 50 25.0001C50 31.678 47.3995 37.9558 42.6776 42.6779ZM24.9999 4.33778C13.6067 4.33778 4.33772 13.607 4.33772 25.0001C4.33772 28.4792 5.21935 31.9192 6.8868 34.9487L7.24853 35.6054L5.85915 44.0756L14.2959 42.6918L14.9565 43.0601C18.0107 44.7624 21.4837 45.6622 24.9999 45.6622C36.3932 45.6622 45.6622 36.3933 45.6622 25.0001C45.6622 13.607 36.3932 4.33778 24.9999 4.33778ZM31.1133 24.3614C32.4522 24.9804 34.1536 26.3725 34.1208 29.3117C34.0749 33.4266 31.2191 35.6542 27.2744 35.6542H19.4594H18.3042C17.5079 35.6542 16.8645 35.0053 16.8713 34.2092L17.0344 15.0573C17.041 14.2714 17.6794 13.6377 18.4652 13.6366L27.1493 13.6256C31.4651 13.6256 33.9598 16.039 33.9177 19.8134C33.8903 22.2579 32.2484 23.8355 31.1133 24.3614ZM26.766 17.4622H21.3643L21.3076 22.5361H26.7093C28.5347 22.5361 29.5672 21.5152 29.584 19.9992C29.6009 18.4831 28.5915 17.4622 26.766 17.4622ZM26.9444 26.4035H21.2643L21.2038 31.8178H26.884C28.8333 31.8178 29.7752 30.5802 29.792 29.0952C29.8085 27.6101 28.8939 26.4035 26.9444 26.4035Z",fill:"#123033"}))))}p.displayName="SMBUpsellQRCode"},775986:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var l=n(464659),r=n(63014),o=n(885542),i=n(560073),u=n(202391),s=n(676345),c=n(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),f=a(n(156720)),p=a(n(802145)),m=n(808446);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g={backgroundColor:"i16jpgpt",borderTopStartRadius:"ikqdvm1y",borderTopEndRadius:"m3qqxsiz",borderBottomEndRadius:"r1ncx0sg",borderBottomStartRadius:"mmj7r7ye"},E={fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"hp667wtd"};function b(e){let{chatJid:t}=e;return null==t?null:d.createElement(v,{chatJid:t})}function v(e){var t,n;let{chatJid:a}=e;const r=function(e){const[t,n]=(0,d.useState)(null),[a,l]=(0,d.useState)({loading:!0,error:null,value:null}),r=(0,p.default)((()=>(0,o.retrieveOnlyNoteForChatJid)(e)),[e]),u=(0,d.useCallback)((()=>{const t=i.NoteCollection.maybeGetNoteByChatJid(e);n(t),l({loading:!1,error:null,value:null==t?null:{id:t.id,content:t.content,createdAt:t.createdAt,modifiedAt:t.modifiedAt}})}),[e]);return(0,d.useEffect)((()=>{null!=r.error&&__LOG__(4,void 0,new Error)`[useNoteValues] Error fetching note for chat ${e}`,r.loading||null!=r.error?l(r):u()}),[e,r.loading,r.error,r.value,u]),(0,m.useListener)(i.NoteCollection,"add remove",u),(0,m.useListener)(t,"change",u),a}(a),u=r.value,s=null!==(t=null==u?void 0:u.content)&&void 0!==t?t:"",f=null!==(n=null==u?void 0:u.modifiedAt)&&void 0!==n?n:null,h=c.fbt._("",null,{hk:"2tNOZn"}),g=(0,d.useCallback)((e=>{null==u?(0,o.noteAddAction)("unstructured",a,e):(0,o.noteEditAction)(u.id,"unstructured",a,e,u.createdAt)}),[a,u]);if(null==r.error&&!r.loading)return d.createElement(l.ChatInfoDrawerSection,{title:h,testid:"notes-section"},d.createElement(y,{modifiedAt:f,note:s,setNote:g}))}function y(e){let{modifiedAt:t,note:n,setNote:a}=e;const l=c.fbt._("",null,{hk:"43dkHa"}),[o,i]=(0,d.useState)(n);return(0,d.useEffect)((()=>i(n)),[n]),d.createElement(d.Fragment,null,d.createElement("div",{className:(0,f.default)(g,s.paddingAll3)},d.createElement(u.RichTextField,{testid:"note-input-field",value:o,onChange:e=>{let{text:t}=e;return i(t)},inputPlaceholder:l,hideFloatingLabel:!0,managed:!0,minVisibleLines:5,maxVisibleLines:8,theme:"gray-background",enterIsNewLine:!0,supportsEmoji:!0,selectOnMount:!1,multiline:!0,lowProfile:!1,onBlur:()=>a(o),contextMsg:null==t?null:r.Clock.relativeDateAndTimeStr(t)})),d.createElement("div",{className:(0,f.default)(E,s.paddingTop8,s.paddingStart2)},c.fbt._("",null,{hk:"4d2BVS"})))}b.displayName="WAWebContactInfoNotesSection",v.displayName="WAWebContactInfoNotesSectionImpl",y.displayName="EditNoteUI"},314810:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=n(822652),r=a(n(667294)),o=n(655241);const i=(0,l.ContactFactory)();function u(e){const{active:t,contact:n,onClick:a,contextMenu:l,isPendingParticipant:u=!1,contextEnabled:s,onContext:c,theme:d,showStatusRingAroundProfilePhoto:f,participantCollection:p,elevatedPushNamesEnabled:m}=e,h=(0,o.useModelValues)(e.participant,["isAdmin"]);return r.default.createElement(i,{active:t,contact:n,admin:h.isAdmin,onClick:u?c:a,theme:d||"drawer-list",contextEnabled:()=>null!=s&&s(n),contextMenu:l,onContext:e=>null==c?void 0:c(e,n),isPendingParticipant:u,showNotifyName:!0,elevatedPushNamesEnabled:m,waitIdle:!0,showStatusRingAroundProfilePhoto:f,participantCollection:p})}u.displayName="Participant"},321574:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var l=a(n(967154)),r=a(n(506479)),o=n(163755),i=n(217714),u=a(n(101760)),s=a(n(443461)),c=n(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),f=a(n(637660)),p=n(808446),m=a(n(940630));const h=["docMsgs","chat","isFilterEnabled","filterText"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e){const{docMsgs:t,chat:n,isFilterEnabled:a=!1,filterText:g}=e,E=(0,r.default)(e,h),b=(0,m.default)(),v=(0,f.default)((()=>new s.default((e=>{const t=[],n=(0,o.getText)(e);null!=n&&t.push(n);const a=e.mediaData.filename;return t.push(a),t.join(" ")}))));(0,p.useListener)(t,"add",(e=>{a&&v.current.cacheMessageTokens(e)})),(0,p.useListener)(t,"remove",(e=>{a&&v.current.removeMessageTokensFromCache(e)})),(0,p.useListener)(t,"reset",(()=>{a&&v.current.clearTokensCache()})),(0,d.useEffect)((()=>{a&&t.forEach((e=>{v.current.cacheMessageTokens(e)}))}),[t,v,a]);const y=a?(e,t)=>v.current.filter(e,g,t):void 0;return d.default.createElement(d.default.Fragment,null,d.default.createElement(u.default,(0,l.default)({testid:"doc-gallery",msgsCollection:t,msgsCollectionUpdateEvents:["add","remove","reset","query_doc_before"],queryCollection:e=>{t.hasDocBefore&&b((()=>{t.queryDocs(n,e)}))},getHasBefore:()=>t.hasDocBefore,getQueryBefore:()=>t.queryDocBefore,emptyText:c.fbt._("No Docs",null,{hk:"1MvZZl"}),chat:n,filterMessages:y},E)),d.default.createElement(i.HistorySyncGalleryPlaceholder,{chat:n}))}E.displayName="DocGallery"},671597:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var l=a(n(967154)),r=a(n(506479)),o=n(356097),i=n(163755),u=n(217714),s=a(n(318787)),c=a(n(101760)),d=n(787742),f=n(44118),p=a(n(443461)),m=a(n(565644)),h=n(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),E=a(n(637660)),b=n(808446),v=a(n(940630));const y=["linkMsgs","chat","filterText","isFilterEnabled"];function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function w(e){const{linkMsgs:t,chat:n,selectedMessages:a,selectable:C,onMessageSelect:w,isFilterEnabled:M=!1,filterText:k}=e,S=(0,v.default)(),_=(0,E.default)((()=>new p.default((e=>(0,i.getText)(e)))));(0,b.useListener)(t,"add",(e=>{M&&_.current.cacheMessageTokens(e)})),(0,b.useListener)(t,"remove",(e=>{_.current.removeMessageTokensFromCache(e)})),(0,b.useListener)(t,"reset",(()=>{M&&_.current.clearTokensCache()})),(0,g.useEffect)((()=>{M&&t.forEach((e=>{_.current.cacheMessageTokens(e)}))}),[t,_,M]),(0,b.useListener)(n.msgs,"add bulk_add",(e=>{if(!e)return;const n=[],a=Array.isArray(e)?e:[e];Promise.all(a.map((e=>((0,f.getLinksFromMsg)(e).length&&n.push(e),Promise.resolve())))).then((()=>{n.length&&t.add(n)}))}));const P=M?(e,t)=>_.current.filter(e,k,t):void 0,{linkMsgs:O,chat:N,filterText:I,isFilterEnabled:T}=e,A=(0,r.default)(e,y);return g.default.createElement(g.default.Fragment,null,g.default.createElement(c.default,(0,l.default)({testid:"link-gallery",msgsCollection:t,msgsCollectionUpdateEvents:["add","remove","reset","query_doc_before"],queryCollection:e=>{t.hasLinkBefore&&S((()=>{t.queryLinks(n,e)}))},getHasBefore:()=>t.hasLinkBefore,getQueryBefore:()=>t.queryLinkBefore,messageElements:(e,t)=>((e,t,n,a,l)=>{const r=[];return e.forEach((e=>{const i=!(0,d.getIsSentByMe)(e)&&(0,d.getIsGroupMsg)(e);let u=null;(0,d.getLinkPreview)(e)&&(u=g.default.createElement(m.default,{testid:"link-gallery-msg",key:e.id.toString(),msg:e,selectable:n,selectedMessages:l,onMessageSelect:a,displayType:o.DISPLAY_TYPE.GALLERY_LINKS,onClickMsg:t})),(0,f.getGalleryLinks)(e).forEach(((o,c)=>{o.href===e.matchedText&&null!=u||r.push(g.default.createElement(s.default,{testid:"link-gallery-msg",key:`${e.id.toString()}-${c}`,msg:e.safe(),link:o,displayAuthor:i,selectable:n,selectedMessages:l,onMessageSelect:a,onClickMsg:t}))})),null!=u&&r.push(u)})),r.reverse(),r})(e,t,C,w,a),emptyText:h.fbt._("No Links",null,{hk:"rFshX"}),chat:n,filterMessages:P},A)),g.default.createElement(u.HistorySyncGalleryPlaceholder,{chat:e.chat}))}w.displayName="LinkGallery"},318787:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var l=n(751349),r=n(396574),o=n(356097),i=n(305521),u=n(675886),s=n(163755),c=a(n(296518)),d=a(n(932325)),f=a(n(663945)),p=a(n(441913)),m=a(n(456794)),h=a(n(6323)),g=n(787742),E=n(44118),b=n(435711),v=n(527530),y=a(n(844453)),C=n(512873),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),M=n(808446),k=n(871210);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function _(e){const{msg:t,link:n,displayAuthor:a,selectedMessages:S,onMessageSelect:_,onClickMsg:P,testid:O}=e,[N,I,T,A,x,D,L,R,j,B,W,F]=(0,k.useMsgValues)(e.msg.id,[g.getBody,g.getCaption,s.getDir,g.getId,g.getIsSentByMe,s.getMediaData,g.getType,s.getRtl,s.getSenderObj,g.getStar,s.getAsRevoked,g.getIsKept]),[H,G]=(0,w.useState)(!1),[V,U]=(0,w.useState)((()=>S.isSelected(t.unsafe())));(0,M.useListener)(S,A.toString(),(e=>{V!==e&&U(e)}));const z=!0===e.selectable||H?w.default.createElement(h.default,{checked:V,onClick:e=>{e&&e.stopPropagation(),_(t.unsafe(),!V)},msgTheme:"gallery"}):null,q=(0,u.Conversation)({mentions:t.mentionMap(),groupMentions:t.groupMentionMap(),links:(0,E.getLinksFromMsg)(t.unsafe()),phoneNumbers:(0,v.getPhoneNumbersFromMsg)(t.unsafe()),selectable:true,trusted:(0,b.isTrusted)(t.unsafe()),fromMe:A.fromMe,fromChatWid:A.remote,parseLists:!0,parseQuotes:!0,parseInlineCode:!0}),Y=N&&N.includes(n.url)?N:I,K=a?w.default.createElement("div",{className:f.default.author},w.default.createElement(m.default,{msg:t,contact:j})):null,Z=(0,E.getSuspiciousLinks)(t.unsafe()).length>0;return w.default.createElement(c.default,{hover:H,onClick:()=>{P(t.unsafe(),!V)},onMouseEnter:H?null:()=>{H||G(!0)},onMouseOver:H?null:()=>{H||G(!0)},onMouseLeave:H?()=>{H&&G(!1)}:null,testid:O},w.default.createElement("div",{className:f.default.msg},w.default.createElement(y.default,{transitionName:"delay-leave"},z),w.default.createElement(C.MessageContainer,{isSentByMe:x},w.default.createElement("div",{className:(0,r.classnamesConvertMeToStylexPlease)({[f.default.hasAuthor]:a,[f.default.hasSuspiciousLinks]:Z,[f.default.bubble]:!0})},K,w.default.createElement(l.SuspiciousLabel,{link:n,displayType:o.DISPLAY_TYPE.GALLERY}),w.default.createElement(p.default,{title:n.url,isSentByMe:x,canonicalUrl:n.domain,displayType:o.DISPLAY_TYPE.GALLERY,star:B,kept:F,isLoading:!1}),w.default.createElement(i.EmojiText,{text:Y,selectable:true,className:f.default.text,dirMismatch:R!==d.default.isRTL(),direction:T,formatters:q})))))}_.displayName="LinkMsg"},101760:(e,t,n)=>{"use strict";var a=n(530066).default,l=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var r=l(n(348926)),o=n(898817),i=n(713105),u=n(780549),s=n(356097),c=n(811720),d=l(n(495012)),f=n(914368),p=n(163755),m=l(n(565644)),h=n(163139),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),E=l(n(156720)),b=l(n(969651)),v=n(808446),y=l(n(695841)),C=l(n(38085)),w=l(n(286481)),M=l(n(895851));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const S={display:"p357zi0d",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"rpvcun8f",flexGrow:"ggj6brxn"};function _(e){const{getHasBefore:t,getQueryBefore:n,msgsCollection:l,msgsCollectionUpdateEvents:k,emptyText:_,scrollOffset:P=0,selectable:O,onMessageSelect:N,queryCollection:I,selectedMessages:T,messageElements:A,onProductDetail:x,setScrollOffset:D,filterMessages:L,testid:R}=e,j=t(),B=n(),W=(0,g.useRef)(null),F=(0,M.default)(),H=(0,w.default)((e=>{j&&I(e)}),100),[G,V]=(0,g.useState)((()=>l.toArray())),U=(0,w.default)((e=>{const t=e.scrollHeight-e.clientHeight-e.scrollTop;j&&t<f.SCROLL_FUDGE&&H(l.head()),D&&D(e.scrollTop)}),100);(0,g.useEffect)((()=>{j&&H();const e=W.current;return e&&(e.scrollTop=P),()=>{U.cancel()}}),[]);const z=(e,t)=>{const n=(0,h.unproxy)(e);!0===O&&void 0!==t?N(n,t):u.Cmd.openChatAt((0,p.getChat)(n),(0,i.getSearchContext)((0,p.getChat)(n),n))},q=(0,g.useRef)(),Y=(0,b.default)(),K=(0,g.useCallback)(function(){var e=(0,r.default)((function*(e){var t;if(null===(t=q.current)||void 0===t||t.abort(),null==e)return V(l.toArray()),void Y();q.current=new a;const n=q.current.signal;try{const t=yield e(l,n);n.aborted||F.aborted||(V(t),Y())}catch(e){if(e.name!==o.ABORT_ERROR)throw e}}));return function(){return e.apply(this,arguments)}}(),[l,Y,F]);(0,v.useListener)(l,k,(()=>K(L))),(0,g.useEffect)((()=>(K(L),()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.abort()})),[K,L]);const[Z,{height:X}]=(0,y.default)(),Q=(0,C.default)(Z,W);(0,g.useEffect)((()=>{null!=L&&t()&&!n()&&null!=W.current&&W.current.scrollHeight<X+f.SCROLL_FUDGE&&H(l.head())}));let J=null;if(J=A?A(G,z):G.map(((e,t)=>g.default.createElement(m.default,{key:`${e.id.toString()}_${t}`,msg:e,selectable:O,selectedMessages:T,onMessageSelect:N,displayType:s.DISPLAY_TYPE.GALLERY,onClickMsg:z,onProductClick:x}))).reverse(),B){if(0===J.length)return g.default.createElement(c.Loading,null);J.push(g.default.createElement(d.default,{key:-1}))}return 0!==J.length||B||j?g.default.createElement("div",{ref:Q,onScroll:e=>{U(e.currentTarget)},className:(0,E.default)(S)},J):g.default.createElement(c.Empty,{text:_,testid:"no-elements"})}_.displayName="MessageGallery"},285192:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var l=a(n(967154)),r=a(n(506479)),o=n(217714),i=a(n(101760)),u=n(548360),s=a(n(667294)),c=a(n(940630));const d=["productMsgs","chat"];function f(e){const{productMsgs:t,chat:n}=e,a=(0,r.default)(e,d),f=(0,c.default)();return s.default.createElement(s.default.Fragment,null,s.default.createElement(i.default,(0,l.default)({msgsCollection:t,msgsCollectionUpdateEvents:["add","remove","reset","products_loaded"],queryCollection:e=>f((()=>{t.queryProducts(n,e)})),getHasBefore:()=>t.hasProductBefore,getQueryBefore:()=>t.hasProductBefore?Promise.resolve():null,emptyText:u.fbt._("No products",null,{hk:"8o7dB"}),chat:n},a)),s.default.createElement(o.HistorySyncGalleryPlaceholder,{chat:n}))}f.displayName="ProductGallery"},153316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGeneralChatParticipantListText=function(e){return e?a.fbt._("New community members will no longer be automatically added to this group because it is full.",null,{hk:"4gQBxr"}):a.fbt._("New community members will be automatically added to this group, until it is full.",null,{hk:"2XFJsD"})};var a=n(548360)},495346:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onEnd:t}=e;const[n,a]=(0,i.useFlow)(u.Chats,{transitions:i.FlowTransitions.DrawerLeft,onEnd:t});if(null==a.step)return null;let s;switch(a.step){case u.Chats:s=o.default.createElement(l.default,{settings:r.default,onClose:()=>{a.pop()}})}return o.default.createElement(n,{flow:a},s)};var l=a(n(854534)),r=a(n(634152)),o=a(n(667294)),i=n(839062);const u=n(76672).Mirrored(["Chats"])},339257:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.InfoFlow=void 0;var l=a(n(348926)),r=a(n(81109)),o=n(898817),i=n(418987),u=a(n(670983)),s=a(n(229922)),c=n(72696),d=a(n(55423)),f=a(n(791865)),p=n(374660),m=n(780549),h=n(927531),g=n(473735),E=n(260854),b=n(355734),v=n(355351),y=n(103440),C=(n(65167),a(n(655237))),w=n(834110),M=a(n(41493)),k=n(568550),S=n(900316),_=a(n(365889)),P=a(n(649391)),O=n(973387),N=a(n(395767)),I=a(n(941943)),T=n(408256),A=n(393609),x=a(n(596090)),D=n(113269),L=a(n(422325)),R=n(147550),j=a(n(302112)),B=n(306472),W=n(114850),F=a(n(550506)),H=n(608637),G=a(n(720406)),V=a(n(58880)),U=n(73225),z=a(n(751046)),q=n(18966),Y=a(n(660508)),K=a(n(245272)),Z=a(n(78668)),X=a(n(250940)),Q=n(156176),J=a(n(386067)),$=n(932523),ee=n(77548),te=a(n(614058)),ne=a(n(632289)),ae=n(559016),le=a(n(898707)),re=n(242677),oe=a(n(559893)),ie=n(977575),ue=n(316348),se=n(555622),ce=n(126592),de=a(n(979588)),fe=n(470824),pe=n(111971),me=n(238669),he=n(377773),ge=a(n(804477)),Ee=n(684259),be=n(455915),ve=n(836507),ye=n(901952),Ce=n(298187),we=a(n(556869)),Me=n(548360),ke=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ne(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),Se=n(706148),_e=n(839062),Pe=a(n(17533)),Oe=a(n(895851));function Ne(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ne=function(e){return e?n:t})(e)}const Ie=R.InfoFlowStep,Te=e=>{var t;if(e.isGroup)return Ie.GroupInfo;if(e.isBroadcast)return Ie.BroadcastInfo;if(e.isUser)return Ie.ContactInfo;if(e.isNewsletter)return Ie.NewsletterInfo;const n=null!==(t=e.kind)&&void 0!==t?t:"undefined";throw(0,we.default)(`Invalid chat provided of kind ${n}`)},Ae=(0,ke.forwardRef)(((e,t)=>{var n;const{chat:a,initialStep:R=Te(a),showFullGroupDescription:we,scrollToParticipantList:Ne,profileEntryPoint:Ae,onEnd:xe,displayName:De,sourceGroupChatOrNewsletter:Le,focusNewsletterDescriptionOnMount:Re,focusGroupSubjectOnMount:je,focusGroupDescriptionOnMount:Be,newsletterLinkShareScreenEntryPoint:We}=e,Fe=(0,ke.useRef)(0),He=(0,Pe.default)((e=>{Fe.current=e})),Ge=(0,ke.useRef)(void 0),Ve=q.AlertScreen.MULTIPLE_ALERTS_LIST_SCREEN,Ue=(0,ke.useContext)(k.DrawerContext),[ze,qe]=(0,_e.useFlow)(R,{transitions:_e.FlowTransitions.DrawerRight,onEnd:xe}),Ye=(0,ke.useRef)(new H.NewsletterAdminFunnelLogger(Ee.ADMIN_FLOW_TYPE.EDIT)),Ke=(0,ke.useRef)(We),Ze=(0,ke.useRef)(null),[Xe,Qe]=(0,ke.useState)(null),[Je,$e]=(0,ke.useState)(void 0),[et,tt]=(0,ke.useState)(null),[nt,at]=(0,ke.useState)(null),[lt,rt]=(0,ke.useState)(null),[ot,it]=(0,ke.useState)(null),[ut,st]=(0,ke.useState)(null),[ct,dt]=(0,ke.useState)(null),ft=(0,Se.useChatLockRestriction)({id:`locked-chat-info-${a.id.toString()}`,condition:a,onPromptFailure:()=>qe.end()});(0,ke.useEffect)((()=>{if(a.isGroup)(0,D.queryAndUpdateGroupMetadataById)(a.id,"interactive");else if(a.isUser)a.contact.isBusiness&&(0,c.canSeeBizProfileV3)()&&S.DrawerManager.setDrawerContext("right",(0,$.buildProductCatalogContext)(new re.ProductCatalogSession,(0,w.getMaybeBizPlatformForLogging)(a.contact.id.toString()),be.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE));else if(a.isNewsletter){var e;(0,ce.queryAndUpdateNewsletterMetadataAction)((0,i.toNewsletterJid)(a.id.toString()),{fields:(0,r.default)({name:!0,picture:!0,description:!0,inviteLink:!0,handle:!0,subscribers:!0,privacy:!0,verification:!0,state:!0},!(null===(e=a.newsletterMetadata)||void 0===e?void 0:e.isPreview)&&{muted:!0,membership:!0})})}}),[]);const pt=(e,t)=>{Qe(e),$e(t),qe.push(Ie.ProductDetail)},mt=e=>{tt(e),qe.push(Ie.ProductCollection)},ht=e=>{Qe(e),qe.push(Ie.ProductLink)},gt=e=>{Qe(e),qe.push(Ie.ProductInfo)},Et=(e,t)=>{at(e),rt(t),qe.push(Ie.CatalogLink)},bt=e=>{const t=(0,$.getProductCatalogContext)(Ue);(0,d.default)(e,a,t)&&(it(e),qe.push(Ie.Cart))},vt=(e,t)=>{const n=a.id;se.QPL.markerStart(ue.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:t}}}),(0,ee.logCarouselViewMoreClick)({catalogOwnerWid:n,catalogContext:e}),qe.push(Ie.Catalog)},yt=()=>{W.ModalManager.open(ke.default.createElement(y.ConfirmPopup,{onOK:()=>W.ModalManager.close(),okText:(0,N.default)("OK")},Me.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})))},Ct=(0,Oe.default)(),wt=function(){var t=(0,l.default)((function*(t){yield(0,s.default)((0,fe.setGroupSubject)(e.chat,t),Ct).catch((0,o.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`name_group_modal:onSetSubject failed`})),W.ModalManager.close(),qe.push(Ie.GroupInviteLink)}));return function(){return t.apply(this,arguments)}}(),Mt=()=>{var e;if((0,p.isInviteGrowthLockedGroup)(a)){var t;const e=!!(null===(t=a.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin());(0,A.openGrowthLockedModal)(e,!0)}else if(null===(e=a.groupMetadata)||void 0===e?void 0:e.isUnnamed){var n,l;const e=Me.fbt._("This group was created without a name. Give it a name to share the group link.",null,{hk:"1uQedr"});W.ModalManager.open(ke.default.createElement(F.default,{chat:a,subtext:e,onCancel:()=>W.ModalManager.close(),onOK:wt,editable:null===(n=a.groupMetadata)||void 0===n?void 0:n.canSetSubject(),editRestrictionInfo:(null===(l=a.groupMetadata)||void 0===l?void 0:l.restrict)?yt:void 0}))}else qe.push(Ie.GroupInviteLink)},kt=e=>{rt(e||a.contact),qe.push(Ie.Verification)},St=e=>{rt(e),qe.push(Ie.ContactInfo)},_t=()=>{(0,he.shouldShowNUX)(Q.NUX.EPHEMERAL)?W.ModalManager.open(ke.default.createElement(P.default,{chat:a,fromMe:!0,onOk:()=>qe.push(Ie.Ephemeral)})):qe.push(Ie.Ephemeral)},Pt=()=>{qe.push(Ie.SaveContactFlow)},Ot=()=>{var e;const t=null===(e=a.groupMetadata)||void 0===e?void 0:e.parentGroup;t&&m.Cmd.openCommunityHome(t,!0)},Nt=e=>{dt(e),qe.push(Ie.EventInfo)},It=()=>{qe.end(me.DismissReason.LIFECYCLE)},Tt=()=>{Ge.current=void 0,Fe.current=0,qe.push(Ie.MediaGallery)},At=()=>{Ge.current=B.GalleryDrawerTabs.PRODUCTS,qe.pop()},xt=e=>{rt(e),qe.push(Ie.NewsletterTransferOwnership)},Dt=(0,Pe.default)((e=>{Ze.current=e,qe.push(Ie.SaveContactFlow)}));if(!qe.step)return null;if(!ft)return null;const Lt=null!=Le?Le:a;let Rt;switch(qe.step){case Ie.GroupInfo:if((0,p.isCommunityAnnouncementGroup)(Lt)&&!(0,p.isDeactivatedCommunityAnnouncementGroup)(Lt)&&(null===(n=Lt.groupMetadata)||void 0===n?void 0:n.participants.iAmMember())){var jt;const e=null===(jt=Lt.groupMetadata)||void 0===jt?void 0:jt.parentGroup;Rt=ke.default.createElement(E.CommunityFlowLoadable,{homeTheme:b.CommunityHomeTheme.TabbedInfo,initialStep:g.CommunityFlowStep.CommunityHome,initialTab:v.CommunityInfoTabs.Announcements,jid:e,onBack:()=>qe.pop()})}else Rt=ke.default.createElement(I.default,{chat:Lt,focusGroupSubjectOnMount:je,showFullGroupDescription:we,focusGroupDescriptionOnMount:Be,scrollToParticipantList:Ne,groupMetadata:Lt.groupMetadata,contact:Lt.contact,profilePicThumb:Lt.contact.getProfilePicThumb(),onVerification:kt,onContactInfo:St,onStarred:()=>qe.push(Ie.Starred),onKept:()=>qe.push(Ie.Kept),onSentForAdminReview:()=>qe.push(Ie.SentForAdminReview),onMediaGallery:Tt,onAdminSetting:()=>qe.push(Ie.GroupSettings),onGroupInviteLink:Mt,onPendingParticipants:()=>qe.push(Ie.PendingParticipants),onEphemeral:_t,onCommunityClick:Ot,onEventInfo:Nt,onClose:()=>{Le?qe.end():qe.pop()}});break;case Ie.SentForAdminReview:Rt=ke.default.createElement(de.default,{chat:a,ref:t,onClose:()=>qe.pop()});break;case Ie.BroadcastInfo:Rt=ke.default.createElement(f.default,{chat:a,contact:a.contact,onStarred:()=>qe.push(Ie.Starred),onMediaGallery:Tt,onClose:()=>qe.pop()});break;case Ie.ContactInfo:Rt=ke.default.createElement(C.default,{contact:lt||a.contact,onVerification:kt,onStarred:()=>qe.push(Ie.Starred),onKept:()=>qe.push(Ie.Kept),onMediaGallery:Tt,onProductCatalog:vt,onProductDetail:pt,onEphemeral:_t,onSaveContact:Pt,onClose:()=>qe.pop(),profileEntryPoint:Ae,onBack:Le?()=>{Le.isNewsletter?qe.push(Ie.NewsletterInfo):qe.push(Ie.GroupInfo)}:null});break;case Ie.NewsletterInfo:(0,U.isNewsletterEnabled)()&&(Rt=ke.default.createElement(z.default,{chat:Lt,newsletterMetadata:Lt.newsletterMetadata,profilePicThumb:Lt.contact.getProfilePicThumb(),adminFunnelLogger:Ye.current,onClose:()=>{qe.end()},onTransferNewsletterOwnership:()=>qe.push(Ie.NewsletterTransferOwnershipSelection),onTransferOwnershipSelection:xt,onDeleteNewsletter:()=>qe.push(Ie.DeleteNewsletter),onAdminCenter:()=>qe.push(Ie.NewsletterAdminCenter),onSettings:()=>qe.push(Ie.NewsletterSettings),onShareLink:()=>{Ke.current=ve.CHANNEL_LINK_SHARE_ENTRY_POINT.CHANNEL_INFO_PAGE,qe.push(Ie.NewsletterLink)},onVerification:kt,focusDescriptionOnMount:Re}));break;case Ie.NewsletterSettings:(0,U.isNewsletterReactionSettingsEnabled)()&&(Rt=ke.default.createElement(K.default,{isFirstLevel:R===Ie.NewsletterSettings,onBack:()=>qe.pop(),newsletter:Lt,adminFunnelLogger:Ye.current}));break;case Ie.NewsletterLink:(0,U.isNewsletterChannelLinkPageEnabled)(a)&&(Rt=ke.default.createElement(Y.default,{entryPoint:Ke.current,onClose:()=>{qe.end()},onBack:qe.previousStep===Ie.NewsletterInfo?()=>qe.pop():null,newsletter:a}));break;case Ie.NewsletterTransferOwnershipSelection:(0,U.isNewsletterTransferOwnershipEnabled)()&&(Rt=ke.default.createElement(X.default,{chat:Lt,onBack:()=>qe.pop(),onTransferOwnershipSelection:xt}));break;case Ie.NewsletterTransferOwnership:(0,U.isNewsletterTransferOwnershipEnabled)()&&(Rt=ke.default.createElement(Z.default,{contact:lt,chat:Lt,onBack:()=>qe.pop(),onTransferCompletion:()=>{qe.push(Ie.NewsletterInfo)}}));break;case Ie.DeleteNewsletter:Rt=ke.default.createElement(V.default,{chat:Lt,onBack:()=>qe.pop()});break;case Ie.NewsletterAdminCenter:Rt=ke.default.createElement(G.default,{chat:Lt,onBack:()=>qe.pop(),alertScreen:Ve,entryPoint:h.AlertEntryPoint.INFO_DRAWER});break;case Ie.ProductDetail:Rt=ke.default.createElement(te.default,{chat:a,collectionId:Je,product:(0,u.default)(Xe,"product"),onEnd:It,onBack:At,refreshCarousel:!1,onProductLinkClick:ht,onProductMoreInformation:gt,onCartClick:bt});break;case Ie.ProductCollection:{const e=a.id;Rt=ke.default.createElement(ie.CollectionContentDrawer,{contact:a.contact,onProductDetail:pt,catalogId:e,onBack:()=>qe.pop(),onCatalogLinkClick:Et,onCartClick:bt,collection:(0,u.default)(et,"collection")});break}case Ie.ProductLink:Rt=ke.default.createElement(ne.default,{product:(0,u.default)(Xe,"product"),onBack:()=>qe.pop()});break;case Ie.ProductInfo:Rt=ke.default.createElement(le.default,{product:(0,u.default)(Xe,"product"),onBack:At});break;case Ie.CatalogLink:Rt=ke.default.createElement(J.default,{catalog:(0,u.default)(nt,"catalog"),contact:(0,u.default)(lt,"contact"),onBack:()=>qe.pop()});break;case Ie.Cart:{const e=(0,$.getProductCatalogContext)(Ue),t=(0,d.default)((0,u.default)(ot,"cartId"),a,e);Rt=(0,u.default)(t,"cartFlow");break}case Ie.Catalog:Rt=ke.default.createElement(oe.default,{contact:a.contact,onProductDetail:pt,catalogId:a.id,onBack:()=>qe.pop(),businessProfile:a.contact.businessProfile,onCatalogLinkClick:Et,onCartClick:bt,onCollectionSeeAll:mt});break;case Ie.ProductList:Rt=ke.default.createElement(ae.ProductListDrawer,{contact:a.contact,onProductDetail:pt,catalogId:a.id,onBack:()=>qe.pop(),businessProfile:a.contact.businessProfile,onCatalogLinkClick:Et,onCartClick:bt});break;case Ie.Starred:Rt=ke.default.createElement(pe.StarredDrawerLoadable,{chat:a,starredMsgs:a.getStarredMsgs(),onClose:()=>qe.pop(),onSaveContact:Dt});break;case Ie.Kept:Rt=ke.default.createElement(j.default,{chat:a,keptMsgs:a.getKeptMsgs(),onClose:()=>qe.pop()});break;case Ie.GroupSettings:Rt=ke.default.createElement(L.default,{chat:a,groupMetadata:a.groupMetadata,onClose:()=>qe.pop()});break;case Ie.MediaGallery:Rt=ke.default.createElement(B.MediaGalleryDrawer,{chat:a,onBack:()=>qe.pop(),onProductDetail:pt,setProductsScrollOffset:He,initialTab:Ge.current,productsScrollOffset:Fe.current});break;case Ie.GroupInviteLink:Rt=ke.default.createElement(T.GroupInviteLinkDrawerLoadable,{chat:a,groupMetadata:(0,u.default)(a.groupMetadata,"chat.groupMetadata"),onBack:()=>qe.pop(),onGroupSettings:()=>qe.push(Ie.GroupSettings)});break;case Ie.PendingParticipants:Rt=ke.default.createElement(x.default,{chat:a,onBack:()=>qe.pop()});break;case Ie.Verification:Rt=ke.default.createElement(ge.default.VerificationDrawerLoadable,{contact:(0,u.default)(lt,"contact"),onClose:()=>qe.pop(),isFirstLevel:!1});break;case Ie.DefaultEphemerality:Rt=ke.default.createElement(M.default,{onClose:()=>qe.pop(),entryPoint:(0,u.default)(ut,"defaultEphemeralityEntryPoint")});break;case Ie.Ephemeral:{const e=a.isGroup?ye.DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:ye.DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING;Rt=ke.default.createElement(_.default,{chat:a,showNux:(0,he.shouldShowNUX)(Q.NUX.EPHEMERAL),entryPoint:Ce.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_INFO,onClose:()=>qe.pop(),onCloseNux:()=>qe.push(Ie.Ephemeral),onDDMSettingsClick:()=>(st(e),void qe.push(Ie.DefaultEphemerality))});break}case Ie.SaveContactFlow:break;case Ie.EventInfo:ct&&(Rt=ke.default.createElement(O.EventInfoDrawer,{key:`event-info-drawer-${ct.id.toString()}`,chat:a,msg:ct,onBack:()=>qe.pop()}))}return ke.default.createElement(ze,{ref:t,flow:qe,displayName:De},Rt)}));t.InfoFlow=Ae,Ae.displayName="InfoFlow"},600788:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=D;var l=a(n(953268)),r=a(n(670983)),o=n(318289),i=n(78810),u=n(914368),s=n(163755),c=a(n(932325)),d=n(172259),f=a(n(933147)),p=n(97858),m=n(114850),h=n(787742),g=n(373070),E=n(983271),b=a(n(266648)),v=n(382117),y=a(n(330619)),C=n(744976),w=n(531737),M=n(818674),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),S=a(n(969651)),_=a(n(637660)),P=n(808446),O=a(n(49710)),N=a(n(17533)),I=a(n(286481)),T=a(n(940630)),A=a(n(895851));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function D(e){var t;const{msg:n,highlightedMsgIds:a}=e,x=(0,A.default)(),D=(0,T.default)(),R=(0,S.default)(),j=(0,_.default)((()=>n.type===g.MSG_TYPE.IMAGE?new v.UiActionWamEvent({uiActionType:C.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:n.mediaData.mediaStage===d.MediaDataStage.RESOLVED}):null)),B=(0,_.default)((()=>{let e=n;var t;n.isCarouselCard&&(e=null!==(t=(0,o.getParentMsgFromCarouselCard)(n))&&void 0!==t?t:n);return(0,i.constructMediaMsgs)((0,s.getChat)(e),e)})),W=B.current.length,F=(0,O.default)(W),H=(0,k.useRef)(null),G=(0,k.useRef)(),V=(0,k.useRef)(),U=(0,k.useRef)(null),z=(0,k.useRef)(null),q=(0,k.useRef)(null),[Y,K]=(0,k.useState)(n),[Z,X]=(0,k.useState)(!1),[Q,J]=(0,k.useState)(L(Y)),$=(0,O.default)(Y),ee=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=z.current,n=q.current,a=U.current;if(!t||!n||!a)return;let l=0;a instanceof HTMLElement&&(l=a.clientWidth/2-t.clientWidth/2),(0,y.default)(n,"stop");let r=0;e&&(r=300),(0,y.default)(a,"scroll",{duration:r,container:n,offset:l,axis:"x",easing:[.1,.82,.25,1]})};(0,k.useEffect)((()=>{var e;ee(),L(n)&&(e=z.current)&&(0,y.default)(e,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}).then((()=>{x.aborted||J(!1)}))}),[]),(0,k.useEffect)((()=>{W>(null!=F?F:0)&&ee()}));const te=e=>{D((()=>{B.current.loadMoreAroundIfNeeded(e)})),K(e)},ne=e=>{if(e&&e.stopPropagation(),Z)return;const t=Y;if(!t)return;let a=null;a=B.current.getAfter(t),a?te(a):B.current.hasMediaAfter&&(G.current||(G.current=B.current.queryMedia({chat:(0,s.getChat)(n),msg:n,direction:"after"}).then((e=>{x.aborted||"number"==typeof e.length&&e.length>0&&Y===n&&ne()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{G.current=null}))))},ae=e=>{if(e&&e.stopPropagation(),Z)return;const t=Y;if(!t)return;let a=null;a=B.current.getBefore(t),a?te(a):B.current.hasMediaBefore&&(V.current||(V.current=B.current.queryMedia({chat:(0,s.getChat)(n),msg:n,direction:"before"}).then((e=>{x.aborted||"number"==typeof e.length&&e.length>0&&Y===n&&ae()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{V.current=null}))))};let le=null;n.type===g.MSG_TYPE.IMAGE&&(le=()=>{const e=j.current;var t;e&&(Object.assign(e,(0,w.getGroupCountMetricsFromChatWid)(null===(t=(0,s.getChat)(n))||void 0===t?void 0:t.id)),e.markUiActionT(),e.commit(),j.current=null);(0,M.logUiActionShadowPrivateStatsTestEvents)()});const re=()=>{m.ModalManager.closeMedia()},oe=(0,N.default)((()=>{K(null),re()}));(0,P.useListener)(L(Y)?null:Y,"revoked",oe);const ie=L(Y)?B.current:null;(0,P.useListener)(ie,"remove",((e,t,n)=>{const a=B.current,l=Y;if(a.includes(e)||null!=l&&null!=l.id&&l.id.toString()!==e.id.toString())return void R();const o=n.index;0===a.length?re():a.length===o?te((0,r.default)(a.at(o-1),"mediaMsgs.at(index - 1)")):te((0,r.default)(a.at(o),"mediaMsgs.at(index)"))})),(0,P.useListener)(ie,"reset",(()=>{re()})),(0,P.useListener)(ie,"query_media_after",(()=>{R()})),(0,P.useListener)(ie,"query_media_before",(()=>{const e=q.current;e&&(H.current=e.scrollWidth,e instanceof HTMLElement&&R())})),(0,P.useListener)(window,"keydown",(e=>{if(e.defaultPrevented)return;if(Y&&!L(Y))return;const t=c.default.isRTL();e.keyCode===l.default.LEFT?t?ne():ae():e.keyCode===l.default.RIGHT&&(t?ae():ne())})),(0,k.useEffect)((()=>{D((()=>{Y&&B.current.loadMoreAroundIfNeeded(Y)}))}),[Y,B,D]),(0,k.useEffect)((()=>{if($!==Y)ee(!0);else{const e=q.current;if(!e||null==H.current||0===H.current)return;e instanceof HTMLElement&&(e.scrollLeft+=e.scrollWidth-H.current),H.current=null}}),[Y,$]);const ue=(0,I.default)(((e,t,n)=>{if(0!==t.length&&null!=n){if(t.hasMediaBefore&&n<e.clientWidth){const e=(0,r.default)(t.head(),"mediaMsgs.head()");D((()=>{t.queryMedia({chat:(0,s.getChat)(e),msg:e}),R()}))}if(t.hasMediaAfter&&n+u.SCROLL_FUDGE>e.scrollWidth-2*e.clientWidth){const e=(0,r.default)(t.last(),"mediaMsgs.last()");D((()=>{t.queryMedia({chat:(0,s.getChat)(e),msg:e,direction:"after"}),R()}))}}}),100);if(!Y)return null;if((0,s.getChat)(n).isSuspendedOrTerminated()&&(0,p.isGroupSuspendV2Enabled)())return void(0,E.openSuspendedGroupMediaDownloadFailureModal)();const se=B.current,ce=se.last(),de=se.hasMediaAfter||Y!==ce?ne:null,fe=se.head(),pe=se.hasMediaBefore||Y!==fe?ae:null;return k.default.createElement("div",{className:Z?"img-zoomed-in":null},(0,h.getHasThumbList)(Y)&&k.default.createElement(b.default,{activeMsg:Y,mediaMsgs:B.current,highlightedMsgIds:e.highlightedMsgIds,onSelectThumb:te,onSetActiveThumb:e=>{U.current=e},onScroll:e=>{ue(e.currentTarget,B.current,e.currentTarget.scrollLeft)},setRefThumbsContainer:e=>{z.current=e},setRefThumbs:e=>{q.current=e}}),k.default.createElement(f.default,{msg:Y,mediaData:Y.mediaData,onBack:re,onExitAnimation:()=>{var e;L(n)&&(e=z.current)&&(0,y.default)(e,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},onNext:de,onPrev:pe,onImgZoomIn:e=>{X(e)},getZoomNode:e.getZoomNode,startTime:e.startTime,isAnimatingThumbs:Q,onImageLoad:le,msgIndexInAlbum:(()=>{let e=-1;if(!a||!Y)return e;const t=Y.id.toString();if(!a.has(t))return e;let n=0;return a.forEach((a=>{a===t&&(e=n),n++})),e})(),albumSize:(null===(t=e.highlightedMsgIds)||void 0===t?void 0:t.size)||0}))}function L(e){return!e||(0,h.getHasThumbList)(e)}D.displayName="MediaViewerFlow"},340576:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendContactsModalLoadable=void 0;var l=a(n(348926)),r=a(n(114945)),o=a(n(472514)),i=a(n(997026)),u=a(n(261724)),s=n(548360),c=a(n(667294));const d=(0,i.default)((0,l.default)((function*(){const e=yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,915132));return(0,o.default)(e)})),"SendContactsModal");t.requireBundle=d;const f=(0,r.default)({loader:d,loading:e=>c.default.createElement(u.default,{title:s.fbt._("Send contacts",null,{hk:"9ZMyz"}),error:Boolean(e.error)})});t.SendContactsModalLoadable=f},854534:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(35234),r=n(700071),o=n(351053),i=n(394164),u=n(780549),s=n(174834),c=n(877171),d=a(n(908081)),f=a(n(324093)),p=n(626194),m=n(811720),h=n(512938),g=a(n(570834)),E=a(n(335540)),b=n(81644),v=n(982845),y=a(n(237889)),C=n(24592),w=n(454905),M=n(548360),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),S=a(n(156720)),_=a(n(637660)),P=n(808446),O=n(437699);function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}const I={persistentHeaderContainer:{borderBottom:"qmxv8cnq",backgroundColor:"s9raicp8"},persistentHeaderContainerBackgroundOverride:{backgroundColor:"a6di86ci"},persistentHeaderContent:{paddingTop:"n1yiu2zv",paddingEnd:"f9ovudaz",paddingBottom:"eb4rp10x",paddingStart:"gx1rr48f"},persistentHeaderText:{paddingTop:"n1yiu2zv",paddingEnd:"h5uqwbaf",paddingBottom:"eb4rp10x",paddingStart:"kjjye8e3",textAlign:"ljrqcn24"},flatListContainer:{overflowX:"gfz4du6o",overflowY:"r7fjleex"},bold:{fontWeight:"nbipi2bn"}},T=(0,r.ChatFactory)(),A=(0,h.FlatListFactory)();function x(e,t){const{onClose:n}=e,a=()=>o.ChatCollection.filter((e=>e.archive&&e.shouldAppearInList)),[h,N]=(0,O.useSettingsValues)([v.getShowArchiveV2,v.getArchive]),x=(0,_.default)((()=>new g.default)),D=(0,_.default)((()=>new y.default([],(e=>e.id.toString())))),L=(0,k.useRef)(null),[R,j]=(0,k.useState)(a),B=()=>h;(0,P.useListener)(o.ChatCollection,[B()?"sort":null,"change:archive","add","remove"].filter(Boolean),(()=>{j(a())}));const W=e=>{D.current.setVal(e,!1)};(0,P.useListener)(u.Cmd,"close_chat",(e=>{e===D.current.getVal()&&D.current.unset()})),(0,P.useListener)(u.Cmd,"update_chatlist_selection",W);(0,k.useEffect)((()=>{if(B()){const e=a(),t=new Map;e.forEach((e=>{e.archiveAtMentionViewedInDrawer=!0,t.set(e.id.toString(),!0)})),(0,l.updateChatArchiveDrawer)(t)}L.current&&E.default.focus(L.current);const e=o.ChatCollection.toArray().find((e=>e.active&&e.archive));e&&W(e)}),[]);const F=()=>{n()},H=(e,t)=>{u.Cmd.openChatFromUnread(t).then((e=>{e&&c.ComposeBoxActions.focus(t)})),N.enabled||F()},G=e=>{e.preventDefault(),e.stopPropagation(),D.current.setNext(!0)},V=e=>{e.preventDefault(),e.stopPropagation(),D.current.setPrev(!0)};let U,z;if(D.current.init(R,!0),o.ChatCollection.some((e=>e.archive))){const e=M.fbt._("These chats stay archived when new messages are received. To change this experience, go to {=m2} on your phone.",[M.fbt._implicitParam("=m2",k.default.createElement("span",{className:(0,S.default)(I.bold)},M.fbt._("Settings > Chats",null,{hk:"4uWslk"})))],{hk:"3nZFmD"}),t=M.fbt._("These chats are unarchived when new messages are received. To change this experience, go to {=m2} on your phone.",[M.fbt._implicitParam("=m2",k.default.createElement("span",{className:(0,S.default)(I.bold)},M.fbt._("Settings > Chats",null,{hk:"2cLx9i"})))],{hk:"pq8Sb"});U=k.default.createElement("div",{className:(0,S.default)(I.persistentHeaderContainer,(0,w.topMenuRedesignEnabled)()&&I.persistentHeaderContainerBackgroundOverride)},k.default.createElement("div",{className:(0,S.default)(I.persistentHeaderContent)},k.default.createElement("div",{className:(0,S.default)(I.persistentHeaderText)},k.default.createElement(C.WDSTextMuted,{as:"p"},h?e:t))))}z=R.length>0?k.default.createElement(b.HotKeys,{ref:L,handlers:{down:G,up:V}},U,k.default.createElement(A,{className:(0,S.default)(I.flatListContainer),data:R.map((e=>({itemKey:e.id.toString(),chat:e,height:(0,s.shouldShowNewSubgroupIdentity)(e.groupMetadata)?i.SUBGROUP_V2_CHAT_CELL_HEIGHT:void 0}))),flatListController:x.current,direction:"vertical",renderItem:e=>k.default.createElement(T,{chat:e.chat,mode:r.Mode.LAST,active:D.current,onClick:H,hideArchivedIcon:N.enabled,hideMuteIcon:B(),hideMuteOption:B(),ephemeralIcon:"chat-list",showCommunityInfo:!0})})):k.default.createElement(m.Archived,null);const q=N.enabled?M.fbt._("Archived",null,{hk:"3HjzQg"}):M.fbt._("Archived chats",null,{hk:"23HH3O"});return k.default.createElement(d.default,{ref:t,theme:"archived"},k.default.createElement(p.DrawerHeader,{title:q,onBack:F,type:(0,w.topMenuRedesignEnabled)()?p.DRAWER_HEADER_TYPE.TAB:p.DRAWER_HEADER_TYPE.LARGE,menu:null}),k.default.createElement(f.default,{flatListControllers:[x.current]},z))}var D=(0,k.forwardRef)(x);t.default=D},201833:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ContactInfoBizBot1pSection=h;var l=n(970039),r=n(461012),o=n(693976),i=a(n(306007)),u=n(753233),s=n(198400),c=n(114850),d=n(220584),f=n(873298),p=n(548360),m=a(n(667294));function h(){const e=m.default.createElement(f.WDSTextTitle,{as:"span"},p.fbt._("AI from Meta",null,{hk:"3vj17i"})),t=m.default.createElement(f.WDSTextMuted,null,p.fbt._("AI from Meta receives chats and generates messages for this business. Click to learn more.",null,{hk:"3iYvrS"})),n=m.default.createElement(l.AiSignalIcon,{color:d.SvgColorProp.SECONDARY,width:20,height:20}),a=m.default.createElement(f.WDSTextTitle,{as:"span"},p.fbt._("Manage AI chats",null,{hk:"36q4IX"})),h=m.default.createElement(f.WDSTextMuted,null,p.fbt._("Learn how to download or delete Meta's copy of your AI chats. Click to learn more.",null,{hk:"3itwAo"})),g=m.default.createElement(o.BotDataSharingIcon,{color:d.SvgColorProp.SECONDARY,width:20,height:20});return m.default.createElement(m.default.Fragment,null,m.default.createElement(i.default,{onClick:()=>{c.ModalManager.open(m.default.createElement(r.BizBot1pLearnMore,null))},icon:n,title:e,secondaryTitle:t}),m.default.createElement(i.default,{onClick:()=>{(0,u.openExternalLink)((0,s.getBizBot1pLearnMoreUrl)())},icon:g,title:a,secondaryTitle:h}))}h.displayName="ContactInfoBizBot1pSection"},551181:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ContactInfoBizBot3pSection=f;var l=n(693976),r=a(n(306007)),o=n(753233),i=n(198400),u=n(220584),s=n(873298),c=n(548360),d=a(n(667294));function f(){const e=d.default.createElement(s.WDSTextTitle,{as:"span"},c.fbt._("About managing AI chats",null,{hk:"31Ddga"})),t=d.default.createElement(s.WDSTextMuted,null,c.fbt._("Learn about how to download and delete chats received by Meta and the developer",null,{hk:"3TpyMa"})),n=d.default.createElement(l.BotDataSharingIcon,{color:u.SvgColorProp.SECONDARY,width:18,height:18});return d.default.createElement(r.default,{onClick:()=>{(0,o.openExternalLink)((0,i.getBizBot3pDataSharingUrl)())},icon:n,title:e,secondaryTitle:t})}f.displayName="ContactInfoBizBot3pSection"},302112:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(698867),r=n(751461),o=n(356097),i=n(811720),u=n(978752),s=a(n(75531)),c=n(281134),d=n(982015),f=n(280511),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=a(n(156720));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const E={paddingTop:"s7fqlky6",paddingEnd:"iffbo4e8",paddingBottom:"q1tx93la",paddingStart:"e8k79tju",fontSize:"ovllcyds",lineHeight:"durt31hz",color:"amgz1mtg"};function b(e,t){const{keptMsgs:n,onClose:a,chat:g}=e,[b,v]=(0,u.useKicNux)(g);(0,m.useEffect)((()=>{b&&v(f.TRIGGER_TYPE.KEPT_FOLDER_TAP_FIRST_TIME)}),[]),(0,m.useEffect)((()=>{const e=new r.DisappearingMessageKeepInChatWamEvent({kicActionName:c.KIC_ACTION_NAME_TYPE.VIEW_KEPT_MESSAGES,kicEntryPoint:d.KIC_ENTRY_POINT_TYPE.CHAT_INFO,messagesInFolder:n.length,isAGroup:null==g?void 0:g.isGroup});if(null!=g){var t;if(g.isGroup)e.set({isAdmin:null===(t=g.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin()});(0,l.getChatThreadID)(g.id.toJid()).then((t=>{null!=t&&e.set({threadId:t})})).finally((()=>{e.commit()}))}else e.commit()}),[]);const y=p.fbt._("Kept messages",null,{hk:"iGco8"}),C=m.default.createElement(i.KeptMsgs,null);let w=null;var M;(null==g?void 0:g.isGroup)?w=(null===(M=g.groupMetadata)||void 0===M?void 0:M.restrict)?m.default.createElement("div",{className:(0,h.default)(E)},p.fbt._("These messages are kept in the chat for everyone. Only admins can keep or unkeep messages in this group.",null,{hk:"2P8fIj"})):m.default.createElement("div",{className:(0,h.default)(E)},p.fbt._("These messages are kept in the chat for everyone. Everyone can keep or unkeep a message. Group admins can limit this.",null,{hk:"3VYBCh"})):w=m.default.createElement("div",{className:(0,h.default)(E)},p.fbt._("These messages are kept in the chat for everyone. Everyone can keep or unkeep a message.",null,{hk:"3sFKOP"}));return m.default.createElement(s.default,{testid:"kept-drawer",ref:t,msgCollection:n,onClose:a,chat:g,title:y,emptyListText:C,descriptionSection:w,displayType:o.DISPLAY_TYPE.KEPT_MSGS})}var v=(0,m.forwardRef)(b);t.default=v},306472:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaGalleryDrawer=t.GalleryDrawerTabs=void 0;var l=a(n(252628)),r=n(328620),o=a(n(638938)),i=n(409623),u=a(n(321574)),s=a(n(908081)),c=a(n(324093)),d=n(626194),f=a(n(671597)),p=a(n(482530)),m=n(97858),h=n(913257),g=a(n(930440)),E=a(n(285192)),b=a(n(434377)),v=n(392632),y=a(n(844453)),C=n(548360),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),M=a(n(156720)),k=a(n(261716)),S=a(n(637660));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const P={column:{display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",flexDirection:"f8m0rgwh",height:"ppled2lx"},multimediaGallery:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx"}},O=n(76672)({MEDIA:"media",DOCS:"docs",LINKS:"links",PRODUCTS:"products"});function N(e){const{selected:t,onSearch:n}=e;switch(t){case O.MEDIA:case O.LINKS:case O.DOCS:return w.default.createElement(i.ListSearch,{onSearch:n,loading:!1,listFilterEnabled:!1,chatlistFilterEnabled:!1,mode:o.default.Chatlist,placeholder:C.fbt._("Search",null,{hk:"418EDN"})});default:return null}}function I(e){switch(e.selectedTab){case O.MEDIA:return w.default.createElement(p.default,{chat:e.chat,mediaMsgs:e.chat.getMediaMsgs(),selectable:e.selectable,onMessageSelect:e.onMessageSelect,selectedMessages:e.selectedMessages,fullCollection:!0,isFilterEnabled:e.isFilterEnabled,filterText:e.filterText});case O.LINKS:return w.default.createElement(f.default,{chat:e.chat,linkMsgs:e.chat.getLinkMsgs(),selectable:e.selectable,onMessageSelect:e.onMessageSelect,selectedMessages:e.selectedMessages,isFilterEnabled:e.isFilterEnabled,filterText:e.filterText});case O.DOCS:return w.default.createElement(u.default,{chat:e.chat,docMsgs:e.chat.getDocMsgs(),selectable:e.selectable,onMessageSelect:e.onMessageSelect,selectedMessages:e.selectedMessages,isFilterEnabled:e.isFilterEnabled,filterText:e.filterText});case O.PRODUCTS:return w.default.createElement(E.default,{chat:e.chat,productMsgs:e.chat.getProductMsgs(),selectable:e.selectable,onMessageSelect:e.onMessageSelect,selectedMessages:e.selectedMessages,onProductDetail:e.onProductDetail,setScrollOffset:e.setScrollOffset,scrollOffset:e.scrollOffset})}}t.GalleryDrawerTabs=O,N.displayName="MediaSearch",I.displayName="GalleryContent";const T=(0,w.forwardRef)(((e,t)=>{const{chat:n,onProductDetail:a,setProductsScrollOffset:o,initialTab:i=O.MEDIA,productsScrollOffset:u=0}=e,[f,p]=(0,w.useState)(i),[E,_]=(0,w.useState)(null),[T,A]=(0,w.useState)(!1),[x,D]=(0,k.default)(),L=(0,m.mediaLinksDocsFilteringEnabled)(),R=(0,S.default)((()=>new g.default([],(e=>e.id.toString())))),j=()=>{T&&(R.current.unsetAll(),A(!1))},B=(0,w.useCallback)((e=>{const t=O.cast(e);if(null==t)return;const n=(0,l.default)(O).indexOf(f),a=(0,l.default)(O).indexOf(t);n!==a&&R.current.unsetAll(),p(t),_(a>n?"right":"left"),A(!1)}),[R,f]),W=(0,w.useMemo)((()=>{const e=[{id:O.MEDIA,title:C.fbt._("Media",null,{hk:"2BqnhF"})},{id:O.DOCS,title:C.fbt._("Docs",null,{hk:"M40SP"})},{id:O.LINKS,title:C.fbt._("Links",null,{hk:"3uaiIi"})}];return e.push({id:O.PRODUCTS,title:C.fbt._("Products",null,{hk:"3Ky71N"})}),w.default.createElement(b.default,{tabConfigs:e,selectedId:f,onSelect:B,testIdPrefix:"gallery-tab"})}),[f,B]),F=function(e){switch(e){case O.MEDIA:return h.MultiSelectBarEntryPoint.MEDIA;case O.DOCS:return h.MultiSelectBarEntryPoint.DOCS;case O.LINKS:return h.MultiSelectBarEntryPoint.LINKS;case O.PRODUCTS:return h.MultiSelectBarEntryPoint.PRODUCTS}}(f),H=[O.MEDIA,O.DOCS].includes(f),G=T?w.default.createElement(v.UIE,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:j},w.default.createElement(h.MultiSelectBar,{chat:n,noSortOnForward:!0,theme:"mediaGallery",toastPosition:r.ToastPosition.RIGHT,downloadButton:H,selectedMessages:R.current,onCancel:j,entryPoint:F})):null,V="right"===E?"slide-forward":"slide-back";return w.default.createElement(s.default,{ref:t,theme:"gallery",testid:"media-gallery-drawer",tsNavigationData:{surface:"media-drawer"}},w.default.createElement(d.DrawerHeader,{title:" ",onBack:e.onBack,rtlFixIfOnDarwin:!0,type:d.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY,focusBackOrCancel:!0}),G,W,L?w.default.createElement(N,{selected:f,onSearch:D}):null,w.default.createElement(c.default,{"data-list-scroll-container":!0},w.default.createElement(y.default,{transitionName:V,xstyle:P.column},w.default.createElement("div",{className:(0,M.default)(P.multimediaGallery),key:f},w.default.createElement("div",{className:(0,M.default)(P.column)},w.default.createElement(I,{chat:n,selectable:T,onMessageSelect:(e,t)=>{T||A(!0),R.current.setVal(e,t),0===R.current.getSelected().length&&j()},selectedMessages:R.current,fullCollection:!0,isFilterEnabled:L,filterText:x,onProductDetail:a,setScrollOffset:o,scrollOffset:u,selectedTab:f,mediaMsgs:n.getMediaMsgs(),linkMsgs:n.getLinkMsgs(),docMsgs:n.getDocMsgs(),productMsgs:n.getProductMsgs()}))))))}));t.MediaGalleryDrawer=T,T.displayName="MediaGalleryDrawer"},266466:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var l=n(468926),r=n(103440),o=n(24592),i=n(676345),u=n(548360),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),c=a(n(156720));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f={section:{marginBottom:"t4zgqcuo"},checkboxLabel:{marginStart:"fooq7fky"},border:{paddingBottom:"dledyozo",borderBottom:"j4zbmt6h"}};function p(e){let{isBizBot3p:t,isBusiness:n,isGroup:a,onCancel:d,onReport:p,title:m}=e;const[h,g]=(0,s.useState)(!1);let E,b;return n?(E=u.fbt._("This message will be forwarded to WhatsApp. This business will not be notified.",null,{hk:"1N7YEc"}),b=u.fbt._("Block business",null,{hk:"3hFIF3"})):t?(E=u.fbt._("This message will be forwarded to WhatsApp. This AI will not be notified.",null,{hk:"4uA7zj"}),b=u.fbt._("Block AI",null,{hk:"4znwe4"})):(E=u.fbt._("This message will be forwarded to WhatsApp. This contact will not be notified.",null,{hk:"2qS1tP"}),b=u.fbt._("Block contact",null,{hk:"41X9mL"})),s.default.createElement(r.ConfirmPopup,{onOK:function(){p(h)},okText:u.fbt._("Report",null,{hk:"18ssTb"}),onCancel:d,title:m},s.default.createElement("div",{className:(0,c.default)(f.section,i.uiMargin.top12,i.uiMargin.end0,f.border)},s.default.createElement(l.CheckBox,{onChange:()=>g((e=>!e)),checked:h,id:"menu-icon-report-spam"}),s.default.createElement(o.TextLabel,{xstyle:f.checkboxLabel,htmlFor:"menu-icon-report-spam"},b)),s.default.createElement(o.TextParagraph,{xstyle:f.section,color:"muted"},E))}p.displayName="MediaViewerReportSpamPopup"},755140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var a=n(351053),l=n(103440),r=n(543081),o=n(114850),i=n(942319),u=n(163139),s=n(334724),c=n(1373),d=n(262553),f=n(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){let{entryPoint:t}=e;const n=a.ChatCollection.getActive();(0,p.useEffect)((()=>{t&&(0,r.logPnhRequestRevealActionHelper)(c.PNH_CHAT_TYPE_TYPE.CTWA,d.PNH_MESSAGE_CHAT_PARTY.BIZ,s.PNH_ACTION_TYPE.REQUEST_DIALOG_APPEAR,t)}),[t]);const m=f.fbt._("Request phone number?",null,{hk:"1BOtdo"}),h=f.fbt._("This person's phone number is not shared in this chat. You can request for their phone number if you'd like to save them to your contacts.",null,{hk:"3SHZ6I"}),g=f.fbt._("Send Request",null,{hk:"4tsuDY"}),E=f.fbt._("Cancel",null,{hk:"37A1CY"});return p.default.createElement(l.ConfirmPopup,{onOK:()=>{n&&((0,i.sendRequestPhoneNumber)((0,u.unproxy)(n)),null!=t&&(0,r.logPnhRequestRevealActionHelper)(c.PNH_CHAT_TYPE_TYPE.CTWA,d.PNH_MESSAGE_CHAT_PARTY.BIZ,s.PNH_ACTION_TYPE.SEND_REQUEST,t)),o.ModalManager.close()},okText:g,onCancel:()=>o.ModalManager.close(),cancelText:E,title:m},h)}h.displayName="RequestPhoneNumberModal"},735848:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var l=n(970039),r=n(103440),o=n(753233),i=n(198400),u=a(n(395767)),s=n(690495),c=a(n(469733)),d=n(114850),f=n(425813),p=n(220584),m=n(676345),h=n(219753),g=n(873298),E=n(548360),b=a(n(667294));function v(){return b.default.createElement(r.ConfirmPopup,{title:E.fbt._("Official WhatsApp Support with AI",null,{hk:"mJYdi"}),okText:(0,u.default)("Ok"),onOK:()=>d.ModalManager.close(),cancelText:(0,u.default)("Learn more"),onCancel:()=>{(0,o.openExternalLink)((0,i.getSagaFaqUrl)())}},b.default.createElement(s.FlexColumn,{align:"stretch"},b.default.createElement(c.default,{xstyle:m.uiMargin.vert10,grow:1},b.default.createElement(h.WDSCell,{interactive:!1,colorScheme:"lightest",size:"medium",detailLeft:b.default.createElement(f.SagaHelpIcon,{color:p.SvgColorProp.TEAL_LIGHTER}),primary:b.default.createElement(g.WDSTextTitle,null,E.fbt._("Get faster help",null,{hk:"1b7ANj"})),secondary:b.default.createElement(g.WDSTextMuted,{textWrap:"wrap"},E.fbt._("WhatsApp Support uses AI from Meta to answer your questions quickly, 24/7.",null,{hk:"hUq21"}))})),b.default.createElement(c.default,{xstyle:m.uiMargin.top10,grow:1},b.default.createElement(h.WDSCell,{interactive:!1,colorScheme:"lightest",size:"medium",detailLeft:b.default.createElement(l.AiSignalIcon,{color:p.SvgColorProp.TEAL_LIGHTER,height:24,width:24}),primary:b.default.createElement(g.WDSTextTitle,null,E.fbt._("Know which chats are from AI",null,{hk:"2xvsQX"})),secondary:b.default.createElement(g.WDSTextMuted,{textWrap:"wrap"},E.fbt._("Messages generated by AI are marked with AI and may be inaccurate or inappropriate.",null,{hk:"45yk1L"}))}))))}v.displayName="SagaModal"},9729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{isVoiceCallEnabled:!1,isVideoCallEnabled:!1,canStartVoiceCall:!1,canStartVideoCall:!1,startVoiceCall:()=>{},startVideoCall:()=>{}}};n(324729),n(660666),n(667294),n(808446)},791865:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(896322)),r=a(n(35644)),o=(a(n(306007)),n(464659)),i=a(n(740681)),u=n(63014),s=n(780549),c=n(431037),d=a(n(908081)),f=a(n(324093)),p=n(36045),m=n(626194),h=a(n(209064)),g=n(673509),E=n(198400),b=a(n(570834)),v=n(97858),y=n(114850),C=n(111367),w=a(n(410731)),M=(n(128754),n(163139)),k=(n(220584),n(521394)),S=n(873298),_=n(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),O=a(n(156720)),N=a(n(969651)),I=a(n(637660)),T=n(808446),A=n(655241),x=a(n(321201));function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}const L={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"};function R(e,t){var n,a;const{onClose:D,onMediaGallery:R}=e,j=(0,N.default)(),B=(0,x.default)(),W=(0,I.default)((()=>new b.default)),F=(0,A.useModelValues)(e.chat,["id","groupMetadata"]);(0,T.useListener)(null===(n=F.groupMetadata)||void 0===n?void 0:n.participants,["add","remove","sort","reset"],j);let H=null;R&&(H=P.default.createElement(i.default,{onMediaGallery:R,chat:(0,M.unproxy)(F)}));const G=P.default.createElement(o.ChatInfoDrawerButtonsSection,null,P.default.createElement(p.DrawerButtonSimple,{testid:"li-delete-broadcast",icon:P.default.createElement(c.DeleteIcon,null),color:"danger",theme:"chat-info",onClick:()=>{s.Cmd.deleteOrExitChat((0,M.unproxy)(F))}},_.fbt._("Delete broadcast list",null,{hk:"3xAxXY"})));let V;(null===(a=F.groupMetadata)||void 0===a?void 0:a.creation)?(V=u.Clock.createdStr(F.groupMetadata.creation),V=P.default.createElement(S.WDSTextSmall,null,V)):V=null;const U=P.default.createElement(w.default,{highlightSurface:k.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,onClick:()=>{if((0,v.isPrivacyNarrativeV1Enabled)()&&(0,C.shouldShowNewE2eInfoModal)((0,M.unproxy)(F))){const e=(0,E.getE2EFaqUrl)();y.ModalManager.open(P.default.createElement(g.E2eInfoModalV2,{highlightSurface:k.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,url:e}))}else y.ModalManager.open(P.default.createElement(h.default,{highlightSurface:k.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,chatId:F.id,e2eSubtype:"info_encrypted"}))},text:_.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"1iarlI"}),header:{type:"encryption"}});return P.default.createElement(d.default,{ref:t,key:"contact-info-modal",theme:"striped"},P.default.createElement(m.DrawerHeader,{type:m.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{D?D():null==B||B.requestDismiss()}},P.default.createElement(S.WDSTextTitle,null,_.fbt._("Broadcast list info",null,{hk:"3S4EgV"})),V),P.default.createElement(f.default,{flatListControllers:[W.current]},P.default.createElement("div",{className:(0,O.default)(L)},P.default.createElement(r.default,{chat:(0,M.unproxy)(F)}),H,undefined,P.default.createElement(o.ChatInfoDrawerSection,null,U),P.default.createElement(l.default,{chat:(0,M.unproxy)(F),flatListController:W.current}),G)))}var j=(0,P.forwardRef)(R);t.default=j},896322:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var l=n(822652),r=n(464659),o=n(780549),i=n(877171),u=n(177938),s=n(581354),c=n(512938),d=n(459857),f=n(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),m=a(n(969651)),h=n(808446);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const E=(0,c.FlatListFactory)();function b(e){var t,n;let{chat:a,flatListController:c}=e;const g=(0,m.default)(),b=null===(t=a.groupMetadata)||void 0===t?void 0:t.participants;(0,h.useListener)(b,"add remove reset",g);const v=(0,p.useMemo)((()=>b?b.map((e=>({itemKey:e.id.toString(),participant:e,height:68}))):[]),[b]),y=(e,t)=>{(0,d.isMePrimary)(t.id)||(0,s.findChat)(t.id,"broadcastInfoRecipients").then((function(e){o.Cmd.openChatFromUnread(e).then((t=>{t&&i.ComposeBoxActions.focus(e)}))}))},C=null!==(n=null==b?void 0:b.length)&&void 0!==n?n:0,w=f.fbt._({"*":"{count} recipients",_1:"1 recipient"},[f.fbt._plural(C,"count")],{hk:"3Uwuzx"});return p.default.createElement(r.ChatInfoDrawerListSection,{title:w},p.default.createElement(E,{flatListController:c,direction:"vertical",forceConsistentRenderCount:!1,data:v,renderItem:e=>{const{participant:t}=e,n=u.ContactCollection.gadd(t.id);return p.default.createElement(l.Contact,{contact:n,theme:"chat-info",admin:!!t.isAdmin,onClick:y,key:t.id.toString(),waitIdle:!0})}}))}b.displayName="BroadcastInfoRecipientsSection"},35644:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var l=n(306703),r=n(23641),o=a(n(969358)),i=n(690495),u=n(21645),s=n(24592),c=n(548360),d=a(n(667294)),f=a(n(156720)),p=a(n(969651)),m=n(808446),h=n(655241);const g={display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"du8bjn1j"},E={lineHeight:"a4ywakfo",marginTop:"g1eqewly"};function b(e){var t,n;let{chat:a}=e;const b=null===(t=a.groupMetadata)||void 0===t?void 0:t.participants,v=(0,h.useModelValues)(a.contact,["name"]),y=(0,p.default)();(0,m.useListener)(b,"add remove reset",y);const C=null!==(n=null==b?void 0:b.length)&&void 0!==n?n:0,w=c.fbt._("Broadcast List",null,{hk:"46AT9o"}).toString()+" · "+c.fbt._({"*":"{count} recipients",_1:"1 recipient"},[c.fbt._plural(C,"count")],{hk:"3Uwuzx"}).toString(),M=v.name?d.default.createElement(u.Name,{contact:a.contact,selectable:!0}):c.fbt._("Untitled List",null,{hk:"fYALp"});return d.default.createElement(o.default,{theme:"padding-large"},d.default.createElement("div",{className:(0,f.default)(g)},d.default.createElement(r.DetailImage,{id:a.id,size:r.DetailImageSize.Large})),d.default.createElement(i.FlexColumn,{align:"center"},d.default.createElement(s.TextHeader,{level:"2",size:"24"},M),d.default.createElement("div",{className:(0,f.default)(E)},d.default.createElement(l.SelectableSpan,{dir:"auto",selectable:!0},d.default.createElement(s.TextSpan,{size:"16",color:"secondary"},w)))))}b.displayName="BroadcastInfoTopCard"},988808:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var l=n(464659),r=a(n(203528)),o=a(n(675383)),i=n(753233),u=n(714574),s=n(97858),c=n(491805),d=n(845194),f=n(873298),p=a(n(124928)),m=n(548360),h=a(n(667294)),g=(a(n(156720)),n(379811)),E=n(655241);const b={whatsapp_url:{color:"hafg4y3t"}};function v(e){let{contact:t}=e;const n=t.getStatus(),{status:a}=(0,E.useModelValues)(n,["status"]),[v,y,C,w,M]=(0,g.useContactValues)(t.id,[u.getTextStatusString,u.getTextStatusEmoji,u.getTextStatusLastUpdateTime,u.getTextStatusExpiryTs,u.getTextStatusEphemeralDuration]),k=(0,d.shouldDisplayTextStatus)(v,y,C,w,M);if(p.default.isPSA(t.id)){const e=(0,s.isBlueEnabled)()?m.fbt._("Official chats from WhatsApp will always have a blue verified badge. And we'll never ask for your personal information.",null,{hk:"Q5o0r"}).toString():m.fbt._('Official chats from WhatsApp will always have a green "verified" checkmark. And we\'ll never ask for your personal information.',null,{hk:"8bwzI"}).toString();return h.default.createElement(l.ChatInfoDrawerSection,{titleTestId:"section-about",title:""},h.default.createElement(f.WDSTextTitle,{as:"span"},m.fbt._("Hi! Welcome to this official WhatsApp chat.",null,{hk:"1fpFwJ"}).toString(),h.default.createElement("br",null),m.fbt._("This is where you can get tips, see announcements, and hear about the newest features. Straight from us.",null,{hk:"4gcJHK"}).toString(),h.default.createElement("br",null),e),h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement(i.ExternalLink,{href:"https://whatsapp.com/",xstyle:b.whatsapp_url},"https://whatsapp.com/"))}if(!(0,c.receiveTextStatusEnabled)()&&""===a)return null;let S;return(0,c.receiveTextStatusEnabled)()?!0===k?S=m.fbt._("Status",null,{hk:"3Wqwz2"}):(0,d.hasCustomAboutSet)(n)&&(S=m.fbt._("About",null,{hk:"4qoAfH"})):S=m.fbt._("About",null,{hk:"4qoAfH"}),h.default.createElement(l.ChatInfoDrawerSection,{titleTestId:"section-about",title:S},h.default.createElement(f.WDSTextTitle,{as:"span"},(0,c.receiveTextStatusEnabled)()?h.default.createElement(o.default,{contactId:t.id}):h.default.createElement(r.default,{id:t.id})))}v.displayName="ContactInfoAboutSection"},876588:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var l=n(700071),r=n(394164),o=n(464659),i=a(n(831584)),u=n(780549),s=n(174834),c=n(877171),d=n(701777),f=n(512938),p=n(714574),m=a(n(556869)),h=n(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),E=n(379811),b=a(n(524578));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const y=(0,f.FlatListFactory)();function C(e){let{contact:t,flatListController:n,onClose:a}=e;const[f]=(0,E.useContactValues)(t.id,[p.getCommonGroups]),[v,C]=(0,g.useState)(!0);(0,g.useEffect)((()=>{(0,d.findCommonGroups)(t).catch((e=>{throw __LOG__(4,!0,new Error,!0)`get from participants table failed`,SEND_LOGS("get from participants table failed when finding common groups: "+e),(0,m.default)("get from participants table failed")}))}),[]);const w=(0,b.default)(f,["add","remove"],(()=>{if(!f)return[];let e=f;return e.length>o.INFO_DRAWER_MAX_ROWS&&v&&(e=e.slice(0,o.INFO_DRAWER_MAX_ROWS)),e.map((e=>({itemKey:e.id.toString(),chat:e,height:(0,s.shouldShowNewSubgroupIdentity)(e.groupMetadata)?r.SUBGROUP_V2_CHAT_CELL_HEIGHT:68})))}),[v]),M=()=>{C(!1)},k=(e,t)=>{u.Cmd.openChatFromUnread(t).then((e=>{e&&c.ComposeBoxActions.focus(t)})),a()};if(!f||0===f.length)return null;let S;if(f.length>o.INFO_DRAWER_MAX_ROWS&&v){const e=f.length-o.INFO_DRAWER_MAX_ROWS;S=g.default.createElement(i.default,{numMore:e,onClick:M})}const _=h.fbt._({"*":"{number} groups in common",_1:"1 group in common"},[h.fbt._plural(f.length,"number")],{hk:"2bl4a5"});return g.default.createElement(o.ChatInfoDrawerListSection,{titleTestId:"section-common-groups",title:_},g.default.createElement(y,{flatListController:n,direction:"vertical",forceConsistentRenderCount:!1,data:w,renderItem:e=>{const{chat:t}=e;return g.default.createElement(l.Chat,{chat:t,theme:"chat-info",mode:l.Mode.INFO,onClick:k,key:t.id.toString(),showCommunityInfo:!0})}}),S)}C.displayName="ContactInfoCommonGroupsSection"},655237:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(967154)),r=a(n(81109)),o=n(122583),i=n(418987),u=n(15842),s=n(632157),c=n(174662),d=n(984330),f=a(n(853417)),p=a(n(973366)),m=n(72696),h=n(354458),g=a(n(498692)),E=a(n(983345)),b=a(n(463954)),v=a(n(753602)),y=a(n(906015)),C=n(815651),w=n(745309),M=n(542358),k=a(n(718796)),S=n(713464),_=n(351053),P=n(738501),O=a(n(306007)),N=n(464659),I=n(539662),T=a(n(740681)),A=n(998123),x=n(698867),D=n(780549),L=n(660666),R=a(n(988808)),j=n(201833),B=n(551181),W=a(n(876588)),F=a(n(700829)),H=a(n(109007)),G=a(n(366773)),V=a(n(305122)),U=a(n(775986)),z=a(n(533159)),q=a(n(704714)),Y=a(n(928008)),K=n(834110),Z=n(431037),X=a(n(908081)),Q=a(n(324093)),J=n(36045),$=n(568550),ee=n(626194),te=n(900316),ne=a(n(969358)),ae=n(71957),le=a(n(570834)),re=n(714574),oe=n(516197),ie=n(20194),ue=a(n(344460)),se=n(917504),ce=n(609181),de=n(114850),fe=a(n(832897)),pe=n(314115),me=a(n(499717)),he=a(n(213393)),ge=n(932523),Ee=n(242677),be=a(n(335748)),ve=n(10586),ye=n(163139),Ce=n(220584),we=n(625786),Me=n(390737),ke=n(508228),Se=n(459857),_e=n(887222),Pe=n(455915),Oe=n(873298),Ne=a(n(124928)),Ie=n(548360),Te=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=je(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),Ae=a(n(156720)),xe=n(379811),De=a(n(637660)),Le=a(n(558532)),Re=a(n(321201));function je(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(je=function(e){return e?n:t})(e)}const Be={body:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},lastSectionRow:{marginBottom:"brac1wpa"}};function We(e){let{catalogContext:t,contact:n,onProductCatalog:a,onProductDetail:l}=e;const r=S.CatalogCollection.get(n.id);if(!r)return null;let o="",i=!1;(0,m.canSeeBizProfileV3)()&&(o=Ie.fbt._("See all",null,{hk:"3dTwyT"}),i=!0);const{session:u}=t;return u.isAccidental()?null:(0,M.hasShop)(n.businessProfile)?(0,m.bannedShopsEnabled)()&&(0,M.isShopBanned)(n.businessProfile)?null:Te.default.createElement(be.default,{businessProfile:n.businessProfile,catalog:r,subtitle:o,hideIncompleteRows:i}):Te.default.createElement(he.default,{onProductDetail:l,onProductCatalog:a,catalog:r,subtitle:o,hideIncompleteRows:i,shouldLog:!0})}function Fe(e,t){var n,a;const{contact:M,onVerification:he,onClose:be,onBack:je,onProductDetail:Fe,onProductCatalog:He}=e,Ge=(0,Re.default)(),Ve=(0,Te.useContext)($.DrawerContext),[Ue,ze,qe,Ye,Ke,Ze,Xe,Qe,Je,$e,et,tt,nt,at,lt,rt]=(0,xe.useContactValues)(e.contact.id,[L.getId,re.getFormattedName,re.getFormattedUser,re.getFormattedShortName,L.getIsBusiness,L.getIsEnterprise,L.getIsMyContact,re.getCommonGroups,L.getShowBusinessCheckmarkAsPrimary,L.getShowBusinessCheckmarkAsSecondary,L.getVerifiedName,L.getVerifiedLevel,L.getName,L.getNotifyName,L.getLabels,re.getPhoneNumber]),[ot,it,ut,st,ct,dt,ft,pt,mt]=(0,xe.useContactValues)(e.contact.id,[re.getBusinessCatalog,L.getIsMe,L.getStatusMute,re.getDisplayName,re.getShareOwnPn,L.getRequestedPnTimestamp,L.getCanRequestPhoneNumber,L.getIsIAS,L.getIsCAPISupportAccount]),ht=(0,De.default)((()=>new le.default)),gt=(0,Te.useRef)(!1),[Et,bt]=(0,Te.useState)(100),vt=(0,Te.useMemo)((()=>_.ChatCollection.get(Ue)),[Ue]),yt=(0,ke.useBusinessProfile)(Ue,["isBizBot1p","isBizBot3p","stale","isProfileLinked","coverPhoto"]),Ct=(0,h.isBizBot3pEnabled)()&&!0===(null==yt?void 0:yt.isBizBot3p),wt=(0,h.isBizBot1pEnabled)()&&!0===(null==yt?void 0:yt.isBizBot1p),Mt=it;(0,Te.useEffect)((()=>{yt&&!yt.stale&&ot&&S.CatalogCollection.findCarouselCatalog(Ue).catch((0,o.filteredCatch)(d.ServerStatusCodeError,(()=>{__LOG__(3)`Failed to fetch product catalog in contact drawer from server`}))),(0,ve.getFanOutListJob)([Ue,(0,Se.assertGetMe)()]).then((e=>{(0,se.ensureE2ESessions)(e)}));const{session:t}=(0,ge.getProductCatalogContext)(Ve);if(t.isAccidental())te.DrawerManager.setDrawerContext("right",(0,ge.buildProductCatalogContext)(new Ee.ProductCatalogSession,(0,K.getMaybeBizPlatformForLogging)(Ue.toString()),Pe.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE));else if(Ke&&(0,m.canSeeBizProfileV3)()){const t=Ue===(0,Se.getMaybeMeUser)(),{profileEntryPoint:n}=e;!t&&n&&(0,C.logProfileImpression)((0,ge.getProductCatalogSessionId)(Ve),n,!!(null==yt?void 0:yt.isProfileLinked),!!(null==yt?void 0:yt.coverPhoto))}yt&&(0,ce.qplEndProfileView)(u.QuickLogActionType.SUCCESS)}),[]),(0,Te.useEffect)((()=>{if((0,m.btmThreadsLoggingEnabled)()){var e;const t=!0===(null===(e=(0,Se.getMaybeMeUser)())||void 0===e?void 0:e.equals(Ue)),{session:n}=(0,ge.getProductCatalogContext)(Ve);n.isAccidental()||t||!(null==vt?void 0:vt.id)||(0,x.handleActivitiesForChatThreadLogging)([{activityType:"profileViews",ts:(0,s.unixTime)(),chatId:vt.id}])}}),[]),(0,Le.default)((()=>{const{session:e}=(0,ge.getProductCatalogContext)(Ve);e.isAccidental()||Ke&&(0,m.canSeeBizProfileV3)()&&(0,C.logProfileExit)((0,ge.getProductCatalogSessionId)(Ve),Et,null==yt?void 0:yt.isProfileLinked,!!(null==yt?void 0:yt.coverPhoto))}));const kt=()=>{he()},St=()=>{be?be():null==Ge||Ge.requestDismiss()},_t=()=>{je&&je()},Pt=e=>{if(!gt.current&&!Ne.default.isPSA(Ue))return void Me.ToastManager.open(Te.default.createElement(we.Toast,{msg:Ie.fbt._("No profile photo",null,{hk:"2bdeTO"})}));const t=e.target;de.ModalManager.openMedia(Te.default.createElement(me.default,{contact:M,profilePicThumb:M.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:e=>{e(t)}}),{transition:"profile-viewer",uim:Ge})},Ot=()=>{gt.current=!0},Nt=e=>{(0,_e.qplStartProductView)("ContactInfo"),Fe(e)},It=e=>{const t=Math.floor(100*(1+e.currentTarget.scrollTop/e.currentTarget.offsetHeight));t>Et&&bt(t)},Tt=Ze?null:Te.default.createElement(W.default,{contact:M,onClose:St,flatListController:ht.current});let At=null;e.onMediaGallery&&vt&&(At=Te.default.createElement(T.default,{chat:vt,onMediaGallery:e.onMediaGallery}));let xt=null,Dt=null;if(M&&Ke&&yt&&ot){const e=Te.default.createElement(We,{contact:M,catalogContext:(0,ge.getProductCatalogContext)(Ve),onProductDetail:Nt,onProductCatalog:He});(0,m.canSeeBizProfileV3)()?Dt=e:xt=e}const Lt=vt&&vt.mute.canMute()?Te.default.createElement(fe.default,{chat:vt,mute:vt.mute}):null,Rt=mt&&(0,c.getIsSagaEnabled)()?Te.default.createElement(z.default,null):null;let jt;e.onStarred&&(jt=Te.default.createElement(V.default,{onStarred:e.onStarred}));const Bt=(0,pe.shouldEnableNotesForWid)(null==vt?void 0:vt.id)?Te.default.createElement(U.default,{chatJid:(0,i.validateChatJid)(null!==(n=null==vt||null===(a=vt.id)||void 0===a?void 0:a.toJid())&&void 0!==n?n:"")}):null;let Wt;if(vt&&(vt.hasKeptMsgs()||(0,P.isEphemeralSettingOn)(vt))){const t=Te.default.createElement(Oe.WDSTextTitle,{as:"span"},Ie.fbt._("Kept Messages",null,{hk:"w8m3u"})),n=Te.default.createElement(ie.KeepInChatIcon,{color:Ce.SvgColorProp.SECONDARY,height:20});Wt=Te.default.createElement(N.ChatInfoDrawerSection,{titleTestId:"section-kept-messages",xstyle:Be.lastSectionRow},Te.default.createElement(O.default,{testid:"block-kept-messages",side:"chevron",icon:n,onClick:e.onKept,title:t}))}const Ft=vt&&(0,P.shouldShowEphemeralSetting)(vt)?Te.default.createElement(ae.EphemeralSettingRow,{onClick:e.onEphemeral,chat:vt,testid:"contact-info-dm-setting-row"}):null;let Ht=null;Ne.default.isPSA(Ue)?Ht=Te.default.createElement(Y.default,null):Ue.isBot()||Ct||(Ht=Te.default.createElement(F.default,{contact:(0,ye.unproxy)(M),onVerificationClick:kt}));const Gt=Ue.isLid()&&null==rt,Vt=Ue.isLid(),Ut=vt&&Vt?Te.default.createElement(A.PhoneNumberVisibilityIndicator1On1,{chat:vt}):null;let zt;wt?zt=Te.default.createElement(j.ContactInfoBizBot1pSection,null):Ct&&(zt=Te.default.createElement(B.ContactInfoBizBot3pSection,null));const qt=Te.default.createElement(N.ChatInfoDrawerSection,null,Lt,Rt,Ft,zt,Ht,Ut),Yt=!Ke,Kt=Yt||pt||mt||Ue.isBot()||Ct?null:Te.default.createElement(E.default,{contact:(0,ye.unproxy)(M)});let Zt=null;Ue.isBot()?Zt=Te.default.createElement(g.default,{contact:(0,ye.unproxy)(M)}):Yt&&(Zt=Te.default.createElement(R.default,{contact:(0,ye.unproxy)(M)}));let Xt=null;Ct&&yt&&(Xt=Te.default.createElement(f.default,{businessProfile:(0,ye.unproxy)(yt)}));let Qt=null;(0,h.isBizBot3pEnabled)()&&yt&&(Qt=Te.default.createElement(p.default,{businessProfile:(0,ye.unproxy)(yt)}));const Jt=(0,m.canSeeBizProfileV3)()&&Ke&&yt?Te.default.createElement(k.default,{contact:M,onProfilePicLoad:Ot,onProfilePicClick:Pt,onOpenStatus:()=>{(0,C.logStatusClick)((0,ge.getProductCatalogSessionId)(Ve),null==yt?void 0:yt.isProfileLinked,!!(null==yt?void 0:yt.coverPhoto))},businessProfile:(0,ye.unproxy)(yt),onProductCatalog:He,isPhoneNumberHidden:Gt,onSaveContact:e.onSaveContact}):Te.default.createElement(q.default,{contact:M,onDetailImageLoad:Ot,onDetailImageClick:Pt,onSaveContact:e.onSaveContact,isMessageYourselfChat:Mt,isPhoneNumberHidden:Gt});let $t,en,tn,nn=null;var an;Ke&&yt&&((0,m.canSeeBizProfileV3)()&&yt?(nn=Ue.isBot()?null:Te.default.createElement(y.default,{businessProfile:(0,ye.unproxy)(yt),showDescription:!Ct}),$t=pt||mt?null:Te.default.createElement(b.default,{contact:M}),(null!==(an=null==lt?void 0:lt.length)&&void 0!==an?an:0)>0&&(en=Te.default.createElement(ne.default,{theme:"padding"},Te.default.createElement(ue.default,{labels:lt,theme:"standalone"}))),tn=It):yt&&(nn=Te.default.createElement(w.BusinessProfile,{contact:M,businessProfile:(0,ye.unproxy)(yt)})));const ln={title:Ie.fbt._("Contact info",null,{hk:"LUJtH"}),type:ee.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,focusBackOrCancel:!0};let rn,on={};return on=je?(0,r.default)({onBack:_t},ln):(0,r.default)({onCancel:St},ln),yt&&!0===yt.isProfileLinked&&(0,m.bizLinkedAccountsEnabled)()&&(0,m.canViewBizLinkedAccounts)()&&(rn=Te.default.createElement(G.default,{businessProfile:(0,ye.unproxy)(yt),rowTheme:"linked-account-consumer"})),Te.default.createElement(X.default,{ref:t,key:"contact-info-modal",theme:"striped",testid:"chat-info-drawer",tsNavigationData:{surface:"contact-info-drawer"}},Te.default.createElement(ee.DrawerHeader,(0,l.default)({},on,{testid:"contact-info-header"})),Te.default.createElement(Q.default,{flatListControllers:[ht.current],onScroll:tn},Te.default.createElement("section",{className:(0,Ae.default)(Be.body)},Jt,$t,vt?Te.default.createElement(v.default,{chat:vt}):null,Xt,Qt,en,Bt,Dt,nn,rn,xt,Zt,At,jt,Wt,qt,Kt,undefined,!Mt&&Tt,vt&&vt.canBeFavorite()&&(0,oe.inboxFavoritesManagementEnabled)()&&Te.default.createElement(I.ChatInfoFavoritesSection,{chat:vt}),!Mt&&Te.default.createElement(H.default,{contact:M}),Te.default.createElement(N.ChatInfoDrawerButtonsSection,{title:"Delete chat"},vt?Te.default.createElement(J.DrawerButtonSimple,{testid:"li-delete-chat",icon:Te.default.createElement(Z.DeleteIcon,null),color:"danger",onClick:()=>{const e=_.ChatCollection.assertGet(Ue);D.Cmd.deleteOrExitChatFromEntryPoint(e,12)},theme:"chat-info"},Ie.fbt._("Delete chat",null,{hk:"3Vq9G4"})):null))))}We.displayName="ProductCatalogSection";var He=(0,Te.forwardRef)(Fe);t.default=He},700829:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=M;var l=a(n(143589)),r=n(700179),o=n(660666),i=n(753233),u=n(198400),s=n(729763),c=n(94602),d=n(723634),f=a(n(606037)),p=n(814843),m=n(35109),h=a(n(410731)),g=n(666836),E=a(n(637659)),b=n(673168),v=a(n(571256)),y=n(548360),C=a(n(667294)),w=n(379811);function M(e){const{onVerificationClick:t}=e,[n,a,M]=(0,w.useContactValues)(e.contact.id,[o.getId,o.getPrivacyMode,o.getIsHosted]),k=function(e,t,n){if((0,c.isSMB)()&&(0,r.bizHostedDevicesEnabled)()){if(!0===(0,b.getIsHostedMeAccountFromLocalStorage)())return{text:y.fbt._("Your business uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"1GMxCX"}),header:{type:"security"},onClick:()=>{(0,d.openCoexSecurityVerifySystemMessageModal)((0,s.formatCoexSecurityModalTextForYourBusiness)(),null,(0,u.getCoexHostedFaqUrl)(),t)}}}if((0,r.bizHostedDevicesEnabled)()&&!0===n)return{text:y.fbt._("This business uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"122DDs"}),header:{type:"security"},onClick:()=>{(0,d.openCoexSecurityVerifySystemMessageModal)((0,s.formatCoexSecurityModalText)(),(0,s.formatCoexSecurityModalTextLastParagraph)(),(0,u.getCoexHostedFaqUrl)(),t)}};if((0,l.default)(t.user))return(0,p.isDataPrivacyPhase2NonE2eeEnabled)()?{text:C.default.createElement(E.default,{text:y.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"2qouoq"}),handleClick:()=>(0,i.openExternalLink)((0,u.getSupportChatSafetyFaqUrl)())}),header:{type:"none"},onClick:()=>(0,i.openExternalLink)((0,u.getSupportChatSafetyFaqUrl)())}:{text:y.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"}),header:{type:"security"},onClick:()=>{(0,f.default)((0,g.SupportChatSecurityModalText)(),(0,u.getSupportChatSafetyFaqUrl)(),(0,g.SupportChatLearnMoreLinkText)())}};switch(e){case m.ReducedPrivacyMode.E2EE:return null;case m.ReducedPrivacyMode.BSP:{const e=()=>{(0,f.default)((0,s.formatBspAndFbModalText)(),(0,u.getE2EEnterpriseFaqUrl)())};return{text:(0,p.isDataPrivacyPhase2NonE2eeEnabled)()?C.default.createElement(E.default,{text:y.fbt._("This business works with other companies to manage this chat.",null,{hk:"EMMPj"}),handleClick:e}):y.fbt._("This business works with other companies to manage this chat. Click to learn more.",null,{hk:"VbOOZ"}),header:(0,p.isDataPrivacyPhase2NonE2eeEnabled)()?{type:"none"}:{type:"security"},onClick:e}}case m.ReducedPrivacyMode.FB:{let e;e=t.isIAS()?(0,p.isDataPrivacyPhase2NonE2eeEnabled)()?y.fbt._("WhatsApp Surveys uses a secure service from Meta to manage this chat.",null,{hk:"IYq5J"}):y.fbt._("WhatsApp Surveys uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"49GQ04"}):(0,p.isDataPrivacyPhase2NonE2eeEnabled)()?y.fbt._("This business uses a secure service from Meta to manage this chat.",null,{hk:"15An8Q"}):y.fbt._("This business uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"3wvGOC"});const n=()=>{(0,f.default)((0,s.formatFbModalText)(t.isIAS()),(0,u.getE2EEnterpriseFaqUrl)())};return{text:C.default.createElement(E.default,{text:e,handleClick:(0,p.isDataPrivacyPhase2NonE2eeEnabled)()?n:null}),header:(0,p.isDataPrivacyPhase2NonE2eeEnabled)()?{type:"none"}:{type:"security"},onClick:n}}}}((0,m.getReducedPrivacyMode)(a),n,M);if(k)return C.default.createElement(h.default,{header:k.header,text:k.text,onClick:k.onClick});const S=v.default.isVoiceCallEnabled()||v.default.isVideoCallEnabled()?y.fbt._("Messages and calls are end-to-end encrypted. Click to verify.",null,{hk:"GtGQH"}):y.fbt._("Messages are end-to-end encrypted. Click to verify.",null,{hk:"1AqhWR"});return C.default.createElement(h.default,{onClick:t,text:S,header:{type:"encryption"}})}M.displayName="ContactInfoEncryptionSection"},109007:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=T;var l=a(n(208423)),r=n(547979),o=n(923092),i=n(400436),u=n(157550),s=n(351053),c=n(464659),d=n(103440),f=n(660666),p=n(36045),m=a(n(395767)),h=n(714574),g=n(114850),E=n(21645),b=a(n(179197)),v=n(254658),y=a(n(338695)),C=n(383296),w=n(949094),M=n(453603),k=n(519738),S=n(508228),_=n(369084),P=a(n(124928)),O=n(548360),N=a(n(667294)),I=n(379811);function T(e){var t;const{contact:n}=e,[a,T,A,x,D,L,R]=(0,I.useContactValues)(e.contact.id,[f.getId,h.getDisplayName,f.getIsBusiness,h.getIsContactBlocked,f.getIsIAS,f.getIsMyContact,f.getIsCAPISupportAccount]),j=N.default.createElement(E.Name,{contact:e.contact,skipCheckMark:!0}),{isBizBot3p:B=!1}=null!==(t=(0,S.useBusinessProfile)(a,["isBizBot3p"]))&&void 0!==t?t:{};let W=null;if(!a.isBot())if(x){const t=B?O.fbt._("Unblock AI",null,{hk:"1XpdlR"}):O.fbt._("Unblock {contact_name}",[O.fbt._param("contact_name",j)],{hk:"1fZZEx"});W=N.default.createElement(p.DrawerButtonSimple,{testid:"li-unblock",color:"success",icon:N.default.createElement(w.SettingsBlockedIcon,{directional:!0}),onClick:()=>(0,o.handleUnblock)(e.contact,i.BlockEntryPoint.Profile),theme:"chat-info"},t)}else{const t=s.ChatCollection.get(a),c=B?O.fbt._("Block AI",null,{hk:"1YqRKh"}):O.fbt._("Block {contact_name}",[O.fbt._param("contact_name",j)],{hk:"3lECdx"});W=N.default.createElement(p.DrawerButtonSimple,{testid:"li-block",color:"danger",icon:N.default.createElement(w.SettingsBlockedIcon,{directional:!0}),onClick:(0,u.isRBIShowConsistentBlockDialogEnabled)()?()=>{null!=t?(0,o.handleBlock)(t,i.BlockEntryPoint.Profile):__LOG__(4,void 0,new Error)`Unexpected null chat during blocking from contact info`}:()=>{const o=()=>{if(null==t?void 0:t.isPSA){const e=t.msgs.last();(0,_.logChatPSARemove)(e,1,1)}(0,r.blockContact)({contact:e.contact,blockEntryPoint:i.BlockEntryPoint.Profile}),g.ModalManager.close()};let u=N.default.createElement(d.ConfirmPopup,{onOK:o,okText:(0,m.default)("Block"),onCancel:()=>g.ModalManager.close(),title:O.fbt._("Block {contact_name}?",[O.fbt._param("contact_name",j)],{hk:"26yDKy"})},O.fbt._("Blocked contacts will no longer be able to call you or send you messages.",null,{hk:"3ioCkx"}));P.default.isPSA(a)?u=N.default.createElement(b.default,{onBlock:o,onCancel:()=>g.ModalManager.close()}):A&&(u=N.default.createElement(l.default,{contact:n,blockEntryPoint:i.BlockEntryPoint.Profile,withReport:!1})),g.ModalManager.open(u)},theme:"chat-info"},c)}let F=D||R?O.fbt._("Report",null,{hk:"2SQkZ4"}):O.fbt._("Report business",null,{hk:"2Tvnn8"});A||(F=O.fbt._("Report {contact_name}",[O.fbt._param("contact_name",j)],{hk:"3Dqyjo"})),B&&(F=O.fbt._("Report AI",null,{hk:"22W5Ky"}));const H=P.default.isPSA(a)||a.isBot()?null:N.default.createElement(p.DrawerButtonSimple,{testid:"li-report-spam",color:"danger",icon:N.default.createElement(k.ThumbsDownIcon,null),onClick:()=>{const t=s.ChatCollection.get(e.contact.id);if(null==t)return __LOG__(4,void 0,new Error)`Unexpected null chat during reporting from contact info`,void g.ModalManager.close();if((0,u.isRBIRevampedBlockReportDesignEnabled)())return void g.ModalManager.open(N.default.createElement(v.ReportContactPopupV2,{chat:t,spamFlow:M.SpamFlow.AccountInfoReport}));const n=()=>{(0,C.sendReport)({chat:t,spamFlow:M.SpamFlow.AccountInfoReport}),g.ModalManager.close()},a=()=>{(0,C.sendSpamBlockClear)(t,M.SpamFlow.AccountInfoReport),g.ModalManager.close()};g.ModalManager.open(B?N.default.createElement(y.default,{isBizBot3p:!0,isMessage:!1,onReport:n,onReportBlockClear:a,onCancel:()=>g.ModalManager.close()}):N.default.createElement(y.default,{isMessage:!1,isBusiness:e.contact.isBusiness,isGroupChat:!1,onReport:n,onReportBlockClear:a,onCancel:()=>g.ModalManager.close()}))},theme:"chat-info"},F);return N.default.createElement(c.ChatInfoDrawerButtonsSection,null,W,H)}T.displayName="ContactInfoIntegritySection"},305122:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var l=a(n(306007)),r=n(464659),o=n(128754),i=n(220584),u=n(873298),s=n(548360),c=a(n(667294));function d(e){let{onStarred:t}=e;const n=c.default.createElement(u.WDSTextTitle,{as:"span"},s.fbt._("Starred messages",null,{hk:"4wVbNG"})),a=c.default.createElement(o.StarIcon,{color:i.SvgColorProp.SECONDARY,height:20});return c.default.createElement(r.ChatInfoDrawerSection,{titleTestId:"section-starred-messages"},c.default.createElement(l.default,{testid:"block-starred-messages",side:"chevron",icon:a,onClick:t,title:n}))}d.displayName="ContactInfoMessagesSection"},836513:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var l=a(n(196554)),r=n(312043),o=n(753233),i=n(198400),u=n(690495),s=n(220584),c=n(24592),d=n(548360),f=a(n(667294));a(n(156720));const p=f.default.createElement(r.DialpadIcon,{directional:!0,color:s.SvgColorProp.SECONDARY}),m=()=>{const e=(0,i.getPhoneNumberHidingFaqUrl)();(0,o.openExternalLink)(e)},h={container:{alignItems:"gndfcl4n",backgroundColor:"f6ipylw5",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",display:"p357zi0d",marginTop:"fgtikrv0",marginEnd:"k1jo73ug",marginBottom:"iyjcf3gk",marginStart:"isfiuinm",width:"c0boj6n4",height:"q1n4p668",maxWidth:"l2o74p5l",paddingStart:"nu34rnf1",paddingEnd:"ft2m32mm",lineHeight:"erpdyial"},text:{color:"pm5hny62",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",wordBreak:"cw3vfol9",overflowWrap:"fd365im1"},item:{marginStart:"p3lsiedt",marginEnd:"q471nw87",paddingTop:"qomlamqu",paddingEnd:"lnjlmjd6",paddingBottom:"bxcbqipq",paddingStart:"mc6o24uu"}};function g(){return f.default.createElement(u.FlexRow,{xstyle:h.container},f.default.createElement(u.FlexColumn,{xstyle:h.item},p),f.default.createElement(u.FlexColumn,{xstyle:[h.text,h.item]},f.default.createElement(c.TextSpan,{testid:"contact-info-pnh-info"},d.fbt._("This person's phone number is not shared in this chat. {=m2}",[d.fbt._implicitParam("=m2",f.default.createElement(l.default,{testid:"contact-info-pnh-learn-more",onClick:m},d.fbt._("Learn more",null,{hk:"t6HJf"})))],{hk:"3CEKuh"}))))}g.displayName="ContactInfoPhoneNumberHidden"},533159:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var l=n(970039),r=a(n(306007)),o=n(114850),i=a(n(735848)),u=n(220584),s=n(24592),c=n(548360),d=a(n(667294));function f(){return d.default.createElement(r.default,{onClick:()=>o.ModalManager.open(d.default.createElement(i.default,null)),icon:d.default.createElement(l.AiSignalIcon,{color:u.SvgColorProp.SECONDARY,height:20}),title:d.default.createElement(s.WDSTextTitle,null,c.fbt._("AI",null,{hk:"3KVVtq"})),secondaryTitle:d.default.createElement(s.WDSTextMuted,null,c.fbt._("Messages in this chat may be generated by AI. Tap to learn more.",null,{hk:"2NsVA1"}))})}f.displayName="ContactInfoSagaSection"},704714:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=V;var l=n(287461),r=n(152832),o=n(351053),i=n(553662),u=a(n(983098)),s=a(n(9729)),c=n(891502),d=n(780549),f=n(877171),p=n(177938),m=n(65167),h=n(660666),g=a(n(836513)),E=n(215406),b=n(306703),v=n(23641),y=n(805774),C=a(n(969358)),w=n(581354),M=n(690495),k=a(n(344460)),S=n(857552),_=n(114850),P=n(21645),O=n(417016),N=a(n(755140)),I=n(163139),T=n(24592),A=n(676345),x=n(129417),D=n(96520),L=a(n(961745)),R=n(126246),j=a(n(124928)),B=n(931019),W=n(548360),F=a(n(667294)),H=a(n(156720));const G={avatar:{display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"pz0xruzv"},secondaryWrapper:{lineHeight:"a4ywakfo",marginTop:"qt60bha0"},contactName:{textAlign:"qfejxiq4"}};function V(e){let t,{contact:n,isMessageYourselfChat:a,isPhoneNumberHidden:l,onDetailImageClick:r,onDetailImageLoad:o,onSaveContact:i}=e;const u=W.fbt._("Official WhatsApp Account",null,{hk:"2cEUzF"}),s=null!=n.phoneNumber?p.ContactCollection.get(n.phoneNumber):null;if(j.default.isPSA(n.id))t=u;else if((0,h.getIsMyContact)(n))t=(0,B.widToFormattedUser)(n.id);else if(n.id.isLid()&&null!=s&&(0,h.getIsMyContact)(s))t=(0,B.widToFormattedUser)(n.phoneNumber);else if((0,S.elevateLiftMeUpEnabled)())t=n.id.isLid()?(0,B.widToFormattedUser)(n.phoneNumber):(0,B.widToFormattedUser)(n.id);else{const e=(0,h.getNotifyName)(n);null!=e&&(t=`~${e}`)}const c=null!=n.username&&(n.id.isLid()&&null!=n.phoneNumber||!n.id.isLid())?F.default.createElement("div",{className:(0,H.default)(G.secondaryWrapper)},F.default.createElement(b.SelectableSpan,{dir:"auto",selectable:!0},F.default.createElement(T.TextSpan,{size:"16",color:"secondary"},null!=n.username&&`@${n.username}`))):null;return F.default.createElement(C.default,{theme:"padding-large"},F.default.createElement("div",{className:(0,H.default)(G.avatar)},F.default.createElement(v.DetailImage,{id:n.id,size:v.DetailImageSize.Large,loader:!0,onLoad:o,onClick:r,quality:v.DetailImageQuality.High})),F.default.createElement(M.FlexColumn,{align:"center"},F.default.createElement(T.TextHeader,{level:"2",size:"24",xstyle:G.contactName},F.default.createElement(P.Name,{testid:"contact-info-subtitle",contact:n,showMessageYourselfName:a,elevatedLiftMeUpEnabled:!0,selectable:!0,breakWord:!0,checkmarkLarge:!0})),null!=t&&F.default.createElement("div",{className:(0,H.default)(G.secondaryWrapper)},F.default.createElement(b.SelectableSpan,{dir:"auto",selectable:!0},F.default.createElement(T.TextSpan,{size:"16",color:"secondary"},t))),(0,x.usernameDisplayedEnabled)()&&c),l&&F.default.createElement(g.default,null),!a&&F.default.createElement(U,{contact:n,displayRequestPnButton:l,onSaveContact:i}),F.default.createElement(k.default,{labels:n.labels}))}function U(e){let{contact:t,displayRequestPnButton:n,onSaveContact:a}=e;const p=(0,s.default)((0,I.unproxy)(t));const g=()=>{(0,w.findChat)(t.id,"chatInfoTopCard").then((e=>{d.Cmd.openChatFromUnread(e).then((t=>{t&&f.ComposeBoxActions.focus(e)}))}))},b=!(!p.isVideoCallEnabled&&!p.isVoiceCallEnabled||j.default.isPSA(t.id))&&F.default.createElement(F.default.Fragment,null,F.default.createElement(u.default,{Icon:D.VoiceCallFilledIcon,iconWidth:19,label:W.fbt._("Audio",null,{hk:"1b375N"}),testid:"contact-action voice-call-button",xstyle:[A.uiMargin.start16,A.uiMargin.end16],disabled:!p.canStartVoiceCall,onClick:()=>{const e=t.id.isLid()?t.phoneNumber:t.id;if((0,O.shouldDisplayPhoneNumberHidingModal)(t))(0,O.displayPhoneNumberHidingModal)(t,!1);else if(null!=e){var n;null===(n=L.default.Voip)||void 0===n||n.callStart(e,!1)}}}),F.default.createElement(u.default,{Icon:c.ChatInfoVideoIcon,label:W.fbt._("Video",null,{hk:"3zMUsJ"}),testid:"contact-action video-call-button",xstyle:[A.uiMargin.start16,A.uiMargin.end16],disabled:!p.canStartVideoCall,onClick:()=>{const e=t.id.isLid()?t.phoneNumber:t.id;if((0,O.shouldDisplayPhoneNumberHidingModal)(t))(0,O.displayPhoneNumberHidingModal)(t,!0);else if(null!=e){var n;null===(n=L.default.Voip)||void 0===n||n.callStart(e,!0)}}})),v=W.fbt._("Request",null,{hk:"1Qh451"}),C=W.fbt._("Requested",null,{hk:"3GgAXn"}),k=(0,h.getCanRequestPhoneNumber)(t)?v:C,S=n&&F.default.createElement(u.default,{Icon:y.DialpadSmallIcon,iconWidth:19,label:k,xstyle:[A.uiMargin.start16,A.uiMargin.end16],disabled:!(0,h.getCanRequestPhoneNumber)(t),onClick:()=>{_.ModalManager.open(F.default.createElement(N.default,{entryPoint:R.PNH_ENTRY_POINT_TYPE.CHAT_INFO_REQUEST}))},testid:"request-phone-number-button-consumer"});let P=null;if((0,l.getABPropConfigValue)("unified_user_profile_navigation_enabled")){const e=o.ChatCollection.getActive();P=!(null==e?void 0:e.id.equals(t.id))&&F.default.createElement(u.default,{Icon:i.ChatIcon,iconWidth:19,label:W.fbt._("Message",null,{hk:"4gkjcu"}),testid:"contact-action chat-button",xstyle:[A.uiMargin.start16,A.uiMargin.end16],disabled:!1,onClick:g})}let T=null;if((0,E.contactManagementEnabled)()&&(0,m.canSaveAsMyContacts)(t.id)){const e=(0,h.getIsMyContact)(t)?W.fbt._("",null,{hk:"1YA8t0"}):W.fbt._("",null,{hk:"6jTNt"});T=F.default.createElement(u.default,{Icon:r.AccountBoxIcon,iconWidth:26,label:e,testid:"contact-action contact-button",xstyle:[A.uiMargin.start16,A.uiMargin.end16],disabled:!1,onClick:a})}return F.default.createElement(M.FlexRow,{justify:"center",xstyle:[A.uiMargin.top8,A.uiMargin.bottom4]},S,P,T,b)}V.displayName="ContactInfoTopCard",U.displayName="Actions"},928008:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var l=n(198400),r=n(729763),o=a(n(606037)),i=n(814843),u=a(n(410731)),s=a(n(637659)),c=n(548360),d=a(n(667294));function f(){const e=function(){const e=()=>{(0,o.default)((0,r.formatWaChatSecurityModalText)(),(0,l.getWAChatFaqUrl)())},t=c.fbt._("This is an official account of WhatsApp",null,{hk:"2Av1mT"});return{text:(0,i.isDataPrivacyPhase2NonE2eeEnabled)()?d.default.createElement(s.default,{text:t,handleClick:e}):t,header:(0,i.isDataPrivacyPhase2NonE2eeEnabled)()?{type:"none"}:{type:"security"},onClick:e}}();return d.default.createElement(u.default,{header:e.header,text:e.text,onClick:e.onClick})}f.displayName="ContactInfoSecuritySectionPSA"},983345:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var l=a(n(355858)),r=n(464659),o=a(n(203528)),i=n(660666),u=n(306703),s=n(714574),c=n(676345),d=n(873298),f=n(931019),p=n(548360),m=a(n(667294)),h=n(379811),g=n(655241);function E(e){let{contact:t}=e;const n=t.getStatus(),[a,E]=(0,h.useContactValues)(t.id,[i.getId,s.getPhoneNumber]),{status:b}=(0,g.useModelValues)(n,["status"]),v=""===b?null:m.default.createElement(l.default,{multiline:!0},m.default.createElement(d.WDSTextTitle,{as:"span"},m.default.createElement(o.default,{id:a})));let y;a.isLid()?null!=E&&(y=E):y=a;const C=y?m.default.createElement(l.default,{separator:!0},m.default.createElement(u.SelectableSpan,{dir:"auto",selectable:!0},m.default.createElement(d.WDSTextTitle,{as:"span"},(0,f.widToFormattedUser)(y)))):null,w=p.fbt._("About and phone number",null,{hk:"3UEL3W"});return m.default.createElement(r.ChatInfoDrawerSection,{xstyle:c.uiPadding.bottom0,titleTestId:"section-about-and-phone-number",title:w},v,C)}E.displayName="BusinessAboutSection"},463954:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var l=a(n(210688)),r=n(354458),o=a(n(341894)),i=n(660666),u=a(n(831269)),s=a(n(969358)),c=n(131410),d=n(114850),f=a(n(517729)),p=n(676345),m=n(548360),h=a(n(667294));a(n(156720));const g={businessAccount:{borderTop:"mug5vpb7",fontSize:"f8jlpxt4"},businessTitle:{lineHeight:"hzeshm6i"},bannerSvg:{color:"jq3rn4u7",width:"dh5rsm73"}};function E(e){let{contact:t,onClick:n}=e;return h.default.createElement(u.default,{testid:"business-title",xstyle:g.businessTitle,onClick:n,side:h.default.createElement(c.InfoIcon,{xstyle:p.uiMargin.top1,iconXstyle:g.bannerSvg,displayInline:!0})},function(e){var t;return(0,r.isBotEnabled)()&&(0,i.getId)(e).isBot()?m.fbt._("Messages are generated by AI from Meta.",null,{hk:"WdHq5"}):(0,r.isBizBot3pEnabled)()&&(null===(t=e.businessProfile)||void 0===t?void 0:t.isBizBot3p)?m.fbt._("This AI is from a third-party developer.",null,{hk:"1kQkmi"}):m.fbt._("This is a business account.",null,{hk:"2x8QUJ"})}(t))}function b(e){const{contact:t}=e,n=h.default.createElement(E,{contact:t,onClick:function(){var e;(0,r.isBotEnabled)()&&(0,i.getId)(t).isBot()?d.ModalManager.open(h.default.createElement(o.default,{fromInvoke:!1})):(0,r.isBizBot3pEnabled)()&&(null===(e=t.businessProfile)||void 0===e?void 0:e.isBizBot3p)?d.ModalManager.open(h.default.createElement(l.default,null)):d.ModalManager.open(h.default.createElement(f.default,{contact:t}))}});return h.default.createElement(s.default,{xstyle:g.businessAccount},n)}E.displayName="BusinessInfoTitle",b.displayName="BusinessAccountBanner"},520228:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=q;var l=a(n(348926)),r=n(632157),o=n(287461),i=n(152832),u=n(72696),s=n(186181),c=n(815651),d=n(577497),f=n(542358),p=n(351053),m=n(553662),h=a(n(983098)),g=a(n(9729)),E=n(950061),b=n(698867),v=n(780549),y=n(877171),C=n(65167),w=n(660666),M=n(215406),k=n(805774),S=n(568550),_=n(900316),P=a(n(395767)),O=n(581354),N=n(690495),I=n(174455),T=n(114850),A=n(417016),x=n(932523),D=a(n(755140)),L=n(340576),R=n(552214),j=n(163139),B=n(676345),W=n(96520),F=a(n(961745)),H=n(126246),G=n(548360),V=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294));a(n(156720));function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}const z={actionsRow:{marginTop:"c46o30wg",marginEnd:"bsg2wrd4",marginBottom:"brac1wpa",marginStart:"f459d30t","@media (min-width: 1300px)":{marginStart:"hfp8519b",marginEnd:"acdu7ris"}}};function q(e){var t,n;let{contact:a,displayRequestPnButton:U,onProductCatalog:q,onSaveContact:Y}=e;const K=(0,V.useContext)(S.DrawerContext),Z=(0,x.getProductCatalogSessionId)(K),X=(0,g.default)((0,j.unproxy)(a));function Q(){return(Q=(0,l.default)((function*(){const e=yield(0,O.findChat)(a.id,"businessActions");(yield v.Cmd.openChatFromUnread(e))&&(_.DrawerManager.closeDrawerRight(),(0,u.btmThreadsLoggingEnabled)()&&y.ComposeBoxActions.addMsgSendingLogAttributes(e,{handleMultiple(){(0,b.handleActivitiesForChatThreadLogging)([{activityType:"profileReplies",ts:(0,r.unixTime)(),chatId:e.id}])}}))}))).apply(this,arguments)}let J;const $=p.ChatCollection.getActive();var ee,te;(null==$?void 0:$.id.equals(a.id))||((0,c.logMessageClick)(Z,null===(ee=a.businessProfile)||void 0===ee?void 0:ee.isProfileLinked,!!(null===(te=a.businessProfile)||void 0===te?void 0:te.coverPhoto)),J=V.default.createElement(h.default,{xstyle:B.uiMargin.horiz12,Icon:(0,o.getABPropConfigValue)("unified_user_profile_navigation_enabled")?m.ChatIcon:E.ChatMsgIcon,label:(0,P.default)("Message"),onClick:()=>{!function(){Q.apply(this,arguments)}()},testid:"business-action chat"}));let ne,ae,le;if(X.isVoiceCallEnabled&&(ne=V.default.createElement(h.default,{xstyle:B.uiMargin.horiz12,Icon:W.VoiceCallFilledIcon,label:G.fbt._("Audio",null,{hk:"rWU8D"}),disabled:!X.canStartVoiceCall,onClick:()=>{var e,t;(0,c.logVoiceCallClick)(Z,null===(e=a.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=a.businessProfile)||void 0===t?void 0:t.coverPhoto));const n=a.id.isLid()?a.phoneNumber:a.id;if((0,A.shouldDisplayPhoneNumberHidingModal)(a))(0,A.displayPhoneNumberHidingModal)(a,!1);else if(null!=n){var l;null===(l=F.default.Voip)||void 0===l||l.callStart(n,!1)}},testid:"business-action voice-call"})),(null===(t=a.businessProfile)||void 0===t||null===(n=t.profileOptions)||void 0===n?void 0:n.commerceExperience)===d.CommerceExperienceTypes.CATALOG&&(ae=V.default.createElement(h.default,{xstyle:B.uiMargin.horiz12,Icon:s.BusinessDescriptionIcon,label:G.fbt._("Catalog",null,{hk:"3QDkTE"}),onClick:()=>{var e,t;(0,c.logCatalogClick)(Z,null===(e=a.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=a.businessProfile)||void 0===t?void 0:t.coverPhoto)),q((0,x.getProductCatalogContext)(K),"ContactInfo")},testid:"business-action catalog"})),(0,f.hasShop)(a.businessProfile)){(0,u.bannedShopsEnabled)()&&(0,f.isShopBanned)(a.businessProfile)||(le=V.default.createElement(h.default,{xstyle:B.uiMargin.horiz12,Icon:R.ShopFilledIcon,label:G.fbt._("Shop",null,{hk:"3KsdlE"}),onClick:function(){var e,t;(0,c.logShopsClick)(Z,null===(e=a.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=a.businessProfile)||void 0===t?void 0:t.coverPhoto)),(0,f.goToShop)(a.businessProfile)},testid:"business-action shop"}))}const re=!(0,w.getIsIAS)(a)&&!(0,w.getId)(a).isBot()&&!(0,w.getIsCAPISupportAccount)(a)&&V.default.createElement(h.default,{xstyle:B.uiMargin.horiz12,Icon:I.ForwardFilledIcon,label:G.fbt._("Share",null,{hk:"4F3c6E"}).toString(),onClick:function(){var e,t;(0,c.logForwardClick)(Z,null===(e=a.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=a.businessProfile)||void 0===t?void 0:t.coverPhoto)),T.ModalManager.open(V.default.createElement(L.SendContactsModalLoadable,{contacts:[(0,j.unproxy)(a)],onContactsSent:e=>{v.Cmd.openChatFromUnread(e).then((()=>{}))}}))},testid:"business-action forward"}),oe=G.fbt._("Request",null,{hk:"1Qh451"}),ie=G.fbt._("Requested",null,{hk:"3GgAXn"}),ue=(0,w.getCanRequestPhoneNumber)(a)?oe:ie,se=U&&V.default.createElement(h.default,{Icon:k.DialpadSmallIcon,xstyle:B.uiMargin.horiz12,iconWidth:19,label:ue,disabled:!(0,w.getCanRequestPhoneNumber)(a),onClick:()=>{T.ModalManager.open(V.default.createElement(D.default,{entryPoint:H.PNH_ENTRY_POINT_TYPE.CHAT_INFO_REQUEST}))},testid:"request-phone-number-button-business"});let ce=null;if((0,M.contactManagementEnabled)()&&(0,C.canSaveAsMyContacts)(a.id)){const e=(0,w.getIsMyContact)(a)?G.fbt._("",null,{hk:"q5Jm8"}):G.fbt._("",null,{hk:"1CMtZu"});ce=V.default.createElement(h.default,{Icon:i.AccountBoxIcon,iconWidth:26,label:e,testid:"contact-action contact-button",xstyle:[B.uiMargin.start16,B.uiMargin.end16],disabled:!1,onClick:Y})}return V.default.createElement(N.FlexRow,{xstyle:z.actionsRow,justify:"center"},ce,se,J,ne,ae,le,re)}q.displayName="BusinessActions"},450715:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var l=n(815651),r=n(542358),o=n(774650),i=n(568550),u=n(305521),s=n(932523),c=n(2430),d=n(676345),f=a(n(625903)),p=n(548360),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),h=a(n(156720));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const E={businessHours:{display:"f804f6gw",width:"ln8gz9je",textAlign:"ljrqcn24"},businessHoursChevron:{display:"lgkeaz1o",color:"cs9t9or5",verticalAlign:"fewfhwl7"},businessHoursHours:{display:"lgkeaz1o",width:"ln8gz9je",lineHeight:"r5qsrrlp",textAlign:"e65innqk",whiteSpace:"bbv8nyr4",verticalAlign:"fewfhwl7"},businessHoursRow:{display:"plrz2mwq",fontSize:"f8jlpxt4",color:"sbs3osm6"},businessHoursDay:{display:"lgkeaz1o",whiteSpace:"le5p0ye3",verticalAlign:"fewfhwl7"},firstRow:{fontSize:"enbbiyaj",color:"k2bacm8l"},flipSvg:{transform:"b5u0g8pm",transformOrigin:"sx61ek5s"},dayIsOpen:{fontWeight:"hnx8ox4h",color:"j5au4wul"}};function b(e){const{businessHours:t,isProfileLinked:n,hasCoverPhoto:a}=e,o=(0,s.getProductCatalogSessionId)((0,m.useContext)(i.DrawerContext)),u=(0,r.getBusinessOpenState)(t),[d,h]=(0,m.useState)(!0);if(null==t)return null;const g=(0,c.getBusinessHours)(t).map((e=>{const{day:t,hours:n,first:a}=e;let l=t,o=n,i=!1;if(a)switch(u.status){case r.BUSINESS_OPEN_STATUS.OPEN_24H:l=p.fbt._("Open now",null,{hk:"28hpHy"}),o=p.fbt._("Open 24 hours",null,{hk:"1AlfF5"}),i=!0;break;case r.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:l=p.fbt._("Open now",null,{hk:"28hpHy"}),o=p.fbt._("Open by appointment only",null,{hk:"1nxH9v"}),i=!0;break;case r.BUSINESS_OPEN_STATUS.OPEN:l=p.fbt._("Open now",null,{hk:"28hpHy"}),i=!0;break;case r.BUSINESS_OPEN_STATUS.CLOSED_TODAY:o=p.fbt._("Closed",null,{hk:"3IRgct"})}return!a&&d?null:m.default.createElement(v,{day:l,dayIsOpen:i,key:t,hours:o,first:a,collapsed:d})}));return m.default.createElement(f.default,{xstyle:E.businessHours,onClick:()=>{(0,l.logHoursClick)(o,n,!!a),h(!d)},testid:"business-hours-expand"},g)}function v(e){let{collapsed:t,day:n,dayIsOpen:a,first:l,hours:r}=e;return l?m.default.createElement("div",{className:(0,h.default)(E.businessHoursRow,l&&E.firstRow)},m.default.createElement("div",{className:(0,h.default)(E.businessHoursDay,d.uiPadding.end15,a&&E.dayIsOpen)},m.default.createElement(u.EmojiText,{direction:"auto",text:n})),m.default.createElement("div",{className:(0,h.default)(E.businessHoursHours,d.uiPadding.end5)},m.default.createElement(u.EmojiText,{direction:"auto",text:r})),m.default.createElement("div",{className:(0,h.default)(E.businessHoursChevron,d.uiPadding.top4,d.uiPadding.start4),role:"button"},m.default.createElement(o.ChevronDownAltIcon,{xstyle:!t&&E.flipSvg,displayInline:!0}))):m.default.createElement("div",{className:(0,h.default)(E.businessHoursRow)},m.default.createElement("div",{className:(0,h.default)(E.businessHoursDay,d.uiPadding.end15,d.uiPadding.top8)},m.default.createElement(u.EmojiText,{direction:"auto",text:n})),m.default.createElement("div",{className:(0,h.default)(E.businessHoursHours,d.uiPadding.end5,d.uiPadding.top8)},m.default.createElement(u.EmojiText,{direction:"auto",text:r})))}b.displayName="BusinessHours",v.displayName="BusinessHoursRow"},906015:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var l=a(n(450715)),r=n(815651),o=n(464659),i=a(n(846870)),u=n(568550),s=n(305521),c=n(999649),d=n(753233),f=a(n(459510)),p=n(932523),m=n(666836),h=n(676345),g=a(n(79291)),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),b=a(n(156720)),v=n(655241);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const C={description:{lineHeight:"pvbam5uh"},section:{fontSize:"enbbiyaj",lineHeight:"erpdyial",color:"tviruh8d"},sectionLink:{color:"bsaq4yhm"},mapContainer:{height:"qkegxuty"},map:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",overflowX:"gfz4du6o",overflowY:"r7fjleex"}};function w(e){const{businessProfile:t,showDescription:n=!0}=e,{description:a,address:y,latitude:w,longitude:M,website:k,email:S,businessHours:_,isProfileLinked:P,coverPhoto:O}=(0,v.useModelValues)(t,["description","address","latitude","longitude","website","email","businessHours","isProfileLinked","coverPhoto"]),N=(0,E.useContext)(u.DrawerContext),I=(0,p.getProductCatalogSessionId)(N);let T=a;t.id.isCAPISupportAccount()&&(T=(0,m.SupportChatDescription)().toString());const A=[];return n&&null!=T&&A.push(E.default.createElement("div",{className:(0,b.default)(C.section)},E.default.createElement(c.ExpandableText,{text:T,textLimit:i.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH},(e=>{let{textLimit:t}=e;return E.default.createElement(s.EmojiText,{className:(0,b.default)(C.description),selectable:!0,direction:"auto",text:T,textLimit:t,ellipsify:!0,multiline:!0,inferLinesDirection:!0})})))),null!=_&&A.push(E.default.createElement("div",{className:(0,b.default)(C.section)},E.default.createElement(l.default,{businessHours:_,isProfileLinked:P,hasCoverPhoto:!!O}))),null!=y&&A.push(E.default.createElement("div",{className:(0,b.default)(C.section)},E.default.createElement(s.EmojiText,{selectable:!0,direction:"auto",text:y}))),null!=w&&null!=M&&A.push(E.default.createElement("div",{className:(0,b.default)(C.section,C.map,h.uiMargin.bottom8,C.mapContainer)},E.default.createElement(f.default,{lat:w,lng:M,name:y||"",width:590,height:132,onClick:()=>(0,r.logLocationClick)(I,P,!!O),testid:"business-info-map"}))),null!=S&&A.push(E.default.createElement("div",{className:(0,b.default)(C.section)},E.default.createElement(d.ExternalLink,{xstyle:C.sectionLink,href:`mailto:${S}`,onClick:()=>(0,r.logEmailClick)(I,P,!!O),testid:"business-info-email"},S))),null!=k&&k.length>0&&A.push(E.default.createElement("div",{className:(0,b.default)(C.section)},k.map((e=>E.default.createElement("div",{key:e},E.default.createElement(d.ExternalLink,{xstyle:C.sectionLink,href:g.default.toMaliciousSiteRedirect(e),onClick:()=>(0,r.logWebsiteClick)(I,P,!!O),testid:"business-info-website"},e)))))),0===A.length?null:E.default.createElement(o.ChatInfoDrawerSection,{xstyle:h.uiPadding.vert16},A.map(((e,t)=>E.default.createElement("div",{key:t,className:(0,b.default)(0!==t&&h.uiMargin.top24)},e))))}w.displayName="BusinessInfo"},766491:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var l=n(970039),r=n(354458),o=a(n(684625)),i=n(243224),u=n(660666),s=n(305521),c=n(97858),d=n(114850),f=n(21645),p=n(666836),m=n(676345),h=n(548360),g=a(n(667294)),E=a(n(156720));const b={subtitle:{color:"p6nhtbpp",fontSize:"enbbiyaj",lineHeight:"tkq7s68q"},botSubtitle:{color:"i8b0kslj",fontSize:"enbbiyaj",lineHeight:"tkq7s68q",display:"p357zi0d",justifyContent:"ac2vgrno"},botSubtitleDivider:{fontWeight:"nbipi2bn",lineHeight:"tkq7s68q",color:"tviruh8d"},botIcon:{color:"i8b0kslj"},title:{fontSize:"iqrewfee",fontWeight:"sy6s5v3r"}};function v(e){const{contact:t,businessProfile:n}=e,a=(0,r.isBizBot3pEnabled)()&&n.isBizBot3p;let v,y,C;const w=()=>{(0,c.isBlueEducationEnabled)()&&((0,i.logClickProfileBadge)(t),d.ModalManager.open(g.default.createElement(o.default,null)))};null!=n.customUrl&&(C=g.default.createElement("div",{className:(0,E.default)([b.subtitle,m.uiMargin.bottom4])},g.default.createElement(s.EmojiText,{text:n.customUrl,direction:"auto",titlify:!0,breakWord:!0,inlineblock:!0})));const M=(0,u.getShowBusinessCheckmarkAsPrimary)(t),k=(0,u.getShowBusinessCheckmarkAsSecondary)(t);if((0,u.getIsMe)(t))v=g.default.createElement(f.Name,{contact:t,showMessageYourselfName:!0,useVerifiedName:!0,breakWord:!0,selectable:!0}),t.name!==t.verifiedName&&(y=g.default.createElement(f.Name,{contact:t,selectable:!0}));else if(v=g.default.createElement(f.Name,{contact:t,showBusinessCheckmark:M,onClick:M?w:null,makeCheckmarkClickable:M,checkmarkLarge:!0,breakWord:!0,selectable:!0}),(0,u.getIsIAS)(t))y=g.default.createElement("div",{className:(0,E.default)(b.subtitle)},g.default.createElement(s.EmojiText,{text:h.fbt._("Official WhatsApp Account",null,{hk:"4oZMU1"}),direction:"auto",ellipsify:!0,titlify:!0,breakWord:!0,selectable:!0}));else if((0,u.getId)(t).isBot()||a){const e=(0,u.getShowBiz3pBotVerifiedNameAsSecondary)(t);y=g.default.createElement("div",{className:(0,E.default)(b.botSubtitle)},e&&g.default.createElement(g.default.Fragment,null,g.default.createElement(f.Name,{contact:t,showBusinessCheckmark:k,useVerifiedName:!0,breakWord:!0,selectable:!0}),g.default.createElement("span",{className:(0,E.default)(b.botSubtitleDivider,k&&m.uiMargin.end8,!k&&m.uiMargin.horiz8)},"·")),g.default.createElement("div",{className:(0,E.default)(b.botSubtitle)},h.fbt._("AI",null,{hk:"2Mphpa"}),(0,u.getId)(t).isBot()&&g.default.createElement(l.AiSignalIcon,{width:15,height:15,xstyle:[m.uiMargin.top2,m.uiMargin.start2,b.botIcon]})))}else(0,u.getIsCAPISupportAccount)(t)?y=g.default.createElement("div",{className:(0,E.default)(b.subtitle)},g.default.createElement(s.EmojiText,{text:(0,p.SupportChatSubtitle)(),direction:"auto",ellipsify:!0,titlify:!0,breakWord:!0,selectable:!0})):t.name&&t.name!==t.verifiedName&&(y=g.default.createElement(f.Name,{contact:t,showBusinessCheckmark:k,onClick:k?w:null,makeCheckmarkClickable:k,useVerifiedName:!0,breakWord:!0,selectable:!0}));return g.default.createElement("div",{className:(0,E.default)(m.uiMargin.bottom6)},g.default.createElement("div",{className:(0,E.default)(b.title,m.uiMargin.bottom8)},v),y,C)}v.displayName="BusinessName"},449397:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessOpenHours=f;var l=a(n(724843)),r=n(542358),o=a(n(932325)),i=n(676345),u=n(548360),s=a(n(667294)),c=a(n(156720));const d={closed:{color:"mvxzr2tb"},open:{color:"j5au4wul"},openStatus:{color:"sbs3osm6",fontSize:"f8jlpxt4"}};function f(e){const{hours:t}=e,n=function(e){switch(e.status){case r.BUSINESS_OPEN_STATUS.OPEN_24H:return u.fbt._("{open} 24 hours",[u.fbt._param("open",`<span class="${(0,c.default)(d.open)}">${u.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"1aA6f9"});case r.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:return u.fbt._("{open} by appointment only",[u.fbt._param("open",`<span class="${(0,c.default)(d.open)}">${u.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"z8CGT"});case r.BUSINESS_OPEN_STATUS.OPEN:if(e.openUntil&&e.additionalOpen&&e.additionalClose)return u.fbt._("{open} until {time}, {additionalOpenTime} - {additionalCloseTime}",[u.fbt._param("open",`<span class="${(0,c.default)(d.open)}">${u.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),u.fbt._param("time",p(e.openUntil)),u.fbt._param("additionalOpenTime",p(e.additionalOpen)),u.fbt._param("additionalCloseTime",p(e.additionalClose))],{hk:"2dJgLQ"});if(e.openUntil)return u.fbt._("{open} until {time}",[u.fbt._param("open",`<span class="${(0,c.default)(d.open)}">${u.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),u.fbt._param("time",p(e.openUntil))],{hk:"3Dd8an"});break;case r.BUSINESS_OPEN_STATUS.CLOSED:return e.opensAt?u.fbt._("{closed}, opens at {time}",[u.fbt._param("closed",`<span class="${(0,c.default)(d.closed)}">${u.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`),u.fbt._param("time",p(e.opensAt))],{hk:"LvVmY"}):`<span class="${(0,c.default)(d.closed)}">${u.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`;case r.BUSINESS_OPEN_STATUS.CLOSED_TODAY:return`<span class="${(0,c.default)(d.closed)}">${u.fbt._("Closed today",null,{hk:"3uCCvH"}).toString()}</span>`}return null}((0,r.getBusinessOpenState)(t));if(null==n)return null;const a=l.default.sanitize(n.toString());return s.default.createElement("div",{className:(0,c.default)([d.openStatus,i.uiMargin.bottom5]),dangerouslySetInnerHTML:{__html:a}})}function p(e){return null==e?"":e.toLocaleTimeString(o.default.getNormalizedLocale(),{hour:"numeric",minute:"2-digit"})}f.displayName="BusinessOpenHours"},745309:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessProfile=function(e){const{contact:t}=e,[n,a,l,u]=(0,x.useContactValues)(e.contact.id,[p.getId,p.getVerifiedLevel,p.getName,p.getVerifiedName]),s=(0,D.useModelValues)(e.businessProfile,["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]);(0,T.useEffect)((()=>{new O.ViewBusinessProfileWamEvent({viewBusinessProfileAction:N.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION}).commit()}),[]);const d=T.default.createElement(j,{contact:t});let m,y,C,w,M,k;const I=s;if(I.stale)m=T.default.createElement("div",{className:(0,A.default)(R.contactBusinessInfoSpinner,P.uiMargin.top24,P.uiMargin.bottom12)},T.default.createElement(_.Spinner,{size:20,stroke:5}));else{var L;y=(null===(L=I.categories)||void 0===L?void 0:L.length)?T.default.createElement(H,{icon:T.default.createElement(r.BusinessCategoryIcon,null)},T.default.createElement(g.EmojiText,{selectable:!0,direction:"auto",text:(0,v.default)(I.categories.map((e=>e.localized_display_name)),v.default.CONJUNCTIONS.NONE,v.default.DELIMITERS.COMMA)})):null,C=null!=I.description&&""!==I.description?T.default.createElement(H,{icon:T.default.createElement(o.BusinessDescriptionIcon,null)},T.default.createElement(E.ExpandableText,{text:I.description,textLimit:f.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH},(e=>{let{textLimit:t}=e;return T.default.createElement(g.EmojiText,{selectable:!0,direction:"auto",breakWord:!0,text:I.description,textLimit:t})}))):null,I.website&&Array.isArray(I.website)&&I.website.length&&(w=I.website.map(((e,t)=>{const n=(0,S.getWebsiteLink)(e);return T.default.createElement(H,{icon:T.default.createElement(c.BusinessWebsiteIcon,null),key:t},T.default.createElement(b.ExternalLink,{href:n},T.default.createElement(g.EmojiText,{selectable:!0,direction:"auto",text:e})))}))),I.businessHours&&(M=T.default.createElement(B,{businessHours:I.businessHours}));const e=I.email;null!=e&&""!==e&&(k=T.default.createElement(H,{icon:T.default.createElement(i.BusinessEmailIcon,null),dir:"auto"},T.default.createElement(b.ExternalLink,{href:`mailto:${e}`},T.default.createElement(g.EmojiText,{selectable:!0,direction:"auto",text:e}))))}const W=Boolean(void 0!==I.latitude&&void 0!==I.longitude||I.structuredAddress);let G;(m||W||y||C||null!=M||k||w)&&(G=T.default.createElement(h.default,{theme:"padding"},T.default.createElement("div",{className:(0,A.default)(R.contactBusinessInfo)},m,T.default.createElement(F,{contactName:l,latitude:I.latitude,longitude:I.longitude,structuredAddress:I.structuredAddress}),y,C,M,k,w)));return T.default.createElement(T.default.Fragment,null,T.default.createElement(h.default,null,d),G)};var l=n(179652),r=n(250192),o=n(186181),i=n(194787),u=n(922408),s=n(577497),c=n(34730),d=n(774650),f=a(n(846870)),p=n(660666),m=a(n(831269)),h=a(n(969358)),g=n(305521),E=n(999649),b=n(753233),v=a(n(125991)),y=n(131410),C=a(n(459510)),w=n(300987),M=n(114850),k=a(n(517729)),S=n(2430),_=n(956113),P=n(676345),O=n(875302),N=n(111540),I=n(548360),T=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),A=a(n(156720)),x=n(379811),D=n(655241);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}const R={dataRow:{display:"p357zi0d",alignItems:"r15c9g6i"},flipSvg:{transform:"b5u0g8pm",transformOrigin:"sx61ek5s"},infoIcon:{color:"jq3rn4u7"},contactBusinessInfoSpinner:{display:"p357zi0d",justifyContent:"ac2vgrno"},contactBusinessInfo:{marginTop:"lx3vef7y",marginStart:"bx0vhl82"},businessHoursChevron:{display:"lgkeaz1o",color:"cs9t9or5",verticalAlign:"fewfhwl7"},businessHoursRow:{display:"plrz2mwq"},businessHoursDay:{display:"lgkeaz1o",paddingEnd:"k3h23tga",whiteSpace:"le5p0ye3",verticalAlign:"fewfhwl7"},businessHoursHours:{display:"lgkeaz1o",width:"ln8gz9je",whiteSpace:"bbv8nyr4",verticalAlign:"fewfhwl7"},businessMap:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",overflowX:"gfz4du6o",overflowY:"r7fjleex"},dataRowIcon:{flexShrink:"oq44ahr5",width:"i94gqilv",marginEnd:"awqnedpp",color:"cs9t9or5"},dataRowText:{overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp"}};function j(e){let{contact:t}=e;const n=t.verifiedLevel===s.VERIFIED_LEVEL.HIGH?I.fbt._("Official business account",null,{hk:"1KruJ"}):I.fbt._("Business account",null,{hk:"2lzdAg"});return T.default.createElement(m.default,{testid:"business-title",onClick:()=>M.ModalManager.open(T.default.createElement(k.default,{contact:t})),side:T.default.createElement(y.InfoIcon,{xstyle:R.infoIcon,displayInline:!0})},n)}function B(e){let{businessHours:t}=e;const[n,a]=(0,T.useState)(!0),l=(0,S.getBusinessHours)(t).map((e=>{const{day:t,hours:a,first:l}=e;return!l&&n?null:T.default.createElement(W,{day:t,key:t,hours:a,first:l,collapsed:n})}));return T.default.createElement(H,{icon:T.default.createElement(u.BusinessHoursIcon,null),onClick:()=>a(!n)},l)}function W(e){let{collapsed:t,day:n,first:a,hours:l}=e;const r=a?T.default.createElement("div",{className:(0,A.default)(R.businessHoursChevron,P.uiPadding.top4,P.uiPadding.start4),role:"button"},T.default.createElement(d.ChevronDownAltIcon,{xstyle:t&&R.flipSvg,displayInline:!0})):null;return T.default.createElement("div",{className:(0,A.default)(R.businessHoursRow)},T.default.createElement("div",{className:(0,A.default)(R.businessHoursDay,!a&&P.uiPadding.top8)},T.default.createElement(g.EmojiText,{direction:"auto",text:n})),T.default.createElement("div",{className:(0,A.default)(R.businessHoursHours,!a&&P.uiPadding.top8)},T.default.createElement(g.EmojiText,{direction:"auto",text:l})),r)}function F(e){let{contactName:t,latitude:n,longitude:a,structuredAddress:r}=e;const o=r?function(e){const{streetAddress:t,localizedCityName:n,zipCode:a}=e;return t&&n&&a?I.fbt._("{streetAddress}, {city} {zipCode}",[I.fbt._param("streetAddress",t),I.fbt._param("city",n),I.fbt._param("zipCode",a)],{hk:"1McVXv"}).toString():t&&n?I.fbt._("{streetAddress}, {city}",[I.fbt._param("streetAddress",t),I.fbt._param("city",n)],{hk:"1zyKhk"}).toString():t}(r):null;let i,u;if(null!=o&&""!==o){let e;e=null!=n&&null!=a?(0,w.getMapUrl)(n,a,o):(0,w.getSearchUrl)(o),u=T.default.createElement("div",null,T.default.createElement(b.ExternalLink,{href:e},T.default.createElement(g.EmojiText,{selectable:!0,direction:"auto",text:o})))}return null!=n&&null!=a&&(i=T.default.createElement("div",{style:{height:150},className:(0,A.default)(R.businessMap,P.uiMargin.bottom8,null!=u&&P.uiMargin.top8)},T.default.createElement(C.default,{lat:n,lng:a,name:o||t,width:565,height:150}))),u||i?T.default.createElement(H,{icon:T.default.createElement(l.BusinessAddressIcon,null)},u,i):null}function H(e){let{children:t,dir:n,icon:a,onClick:l,xstyle:r}=e;return T.default.createElement("div",{className:(0,A.default)(R.dataRow,P.uiMargin.bottom14,r),onClick:l},T.default.createElement("div",{className:(0,A.default)(R.dataRowIcon)},a),T.default.createElement("div",{className:(0,A.default)(R.dataRowText,P.uiPadding.top2)},t))}j.displayName="BusinessInfoTitleWithSMBUpsell",B.displayName="BusinessHours",W.displayName="BusinessHoursRow",F.displayName="Address",H.displayName="DataRow"},718796:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var l=a(n(520228)),r=a(n(766491)),o=n(449397),i=a(n(411019)),u=n(660666),s=a(n(836513)),c=a(n(969358)),d=a(n(125991)),f=n(676345),p=n(129417),m=a(n(667294)),h=a(n(156720)),g=n(655241);const E={info:{textAlign:"qfejxiq4"},categories:{fontSize:"f8jlpxt4",color:"sbs3osm6",lineHeight:"jgi8eev7"}};function b(e){let{businessProfile:t,contact:n,isPhoneNumberHidden:a,onOpenStatus:b,onProductCatalog:v,onProfilePicClick:y,onProfilePicLoad:C,onSaveContact:w}=e;const{businessHours:M,categories:k}=(0,g.useModelValues)(t,["businessHours","categories"]),S=m.default.createElement(r.default,{contact:n,businessProfile:t});let _;(0,u.getIsIAS)(n)||(0,u.getIsCAPISupportAccount)(n)||(0,u.getId)(n).isBot()||t.isBizBot3p||null==k||!(k.length>0)||(_=m.default.createElement("div",{className:(0,h.default)([E.categories,f.uiMargin.bottom10])},(0,d.default)(k.map((e=>e.localized_display_name)),d.default.CONJUNCTIONS.NONE,d.default.DELIMITERS.BULLET)));const P=M?m.default.createElement(o.BusinessOpenHours,{hours:M}):null,O=n.businessProfile?m.default.createElement(i.default,{contact:n,businessProfile:n.businessProfile,onClick:y,onOpenStatus:b,onLoad:C}):null,N=null!=n.username&&(n.id.isLid()&&null!=n.phoneNumber||!n.id.isLid())?m.default.createElement("div",{className:(0,h.default)(E.categories)},null!=n.username&&`@${n.username}`):null;return m.default.createElement(c.default,{theme:"padding-no-margin"},O,m.default.createElement("div",{className:(0,h.default)(E.info)},S,a&&m.default.createElement(s.default,null),(0,p.usernameDisplayedEnabled)()&&N,_,P,m.default.createElement(l.default,{contact:n,onProductCatalog:v,onSaveContact:w,displayRequestPnButton:a})))}b.displayName="BusinessTopCard"},637659:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{text:t,handleClick:n}=e;return o.default.createElement(o.default.Fragment,null,t,null!=n&&o.default.createElement(o.default.Fragment,null," ",o.default.createElement(l.default,{onClick:n},r.fbt._("Learn more",null,{hk:"1rcCLt"}))))};var l=a(n(196554)),r=n(548360),o=a(n(667294))},855026:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ExitedGroupMemberSection=d;var l=a(n(969358)),r=n(355793),o=n(690495),i=n(753284),u=n(873298),s=n(548360),c=a(n(667294));function d(e){let{group:t}=e;return(0,i.groupsPrivacyTipsEnabled)()?c.default.createElement(l.default,null,c.default.createElement(o.FlexColumn,{padding:16,align:"center"},c.default.createElement(u.WDSTextTitle,null,s.fbt._("You're no longer a participant in this group",null,{hk:"1O1CWh"})),c.default.createElement(r.ExitedGroupQPSurface,{group:t}))):null}d.displayName="ExitedGroupMemberSection"},466488:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var l=a(n(170206)),r=n(394164),o=n(653106),i=n(23641),u=a(n(969358)),s=n(305521),c=a(n(932325)),d=n(510900),f=n(220584),p=n(24592),m=n(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),g=a(n(847116)),E=n(655241);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e){let{onClick:t,parentGroupChat:n,parentGroupMetadata:a}=e;const{subgroupCount:b}=(0,g.default)(a),{name:v}=(0,E.useModelValues)(n.contact,["name"]),y=(0,r.isIntegritySuspendedCommunity)(n);(0,h.useEffect)((()=>{(0,d.queryAndUpdateSubgroupsMetadata)(a.id,a.joinedSubgroups)}),[]);const C=m.fbt._("Community",null,{hk:"2P4Qwb"});return h.default.createElement(u.default,{theme:"no-padding"},h.default.createElement(l.default,{testid:"group-info-community-section",image:h.default.createElement(i.DetailImage,{id:a.id,shape:i.DetailImageShape.Squircle,size:60}),primary:h.default.createElement(s.EmojiText,{text:v,ellipsify:!0}),onClick:t,theme:"community-home",secondary:h.default.createElement(p.TextSpan,{size:"16",color:"secondary"},C,y?null:h.default.createElement(h.default.Fragment,null,c.default.isRTL()?" - ":" · ",m.fbt._({"*":"{count} Groups",_1:"1 Group"},[m.fbt._plural(b,"count")],{hk:"38FdVG"}))),detail:h.default.createElement(o.ChevronRightAltIcon,{color:f.SvgColorProp.SECONDARY,directional:!0}),focusable:!0}))}v.displayName="CommunityHomeSection"},483828:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var l=a(n(348926)),r=n(898817),o=a(n(229922)),i=n(287461),u=a(n(170206)),s=n(653106),c=n(440067),d=n(174834),f=n(909045),p=n(103440),m=n(900316),h=a(n(969358)),g=a(n(395767)),E=n(862159),b=n(299950),v=n(114850),y=a(n(550506)),C=a(n(834431)),w=n(470824),M=n(220584),k=n(24592),S=n(135516),_=n(909588),P=n(548360),O=a(n(667294)),N=(a(n(156720)),a(n(524578))),I=n(655241),T=a(n(895851));const A={communitySquircle:{color:"fsk8o631"}};function x(e){let{chat:t,groupMetadata:n}=e;const{id:a,parentGroup:x,isUnnamed:D}=(0,I.useModelValues)(n,["id","parentGroup","isUnnamed"]),L=(0,N.default)(n.participants,"change:isAdmin",(()=>n.participants.iAmAdmin())),R=(0,N.default)(n.participants,["bulk_add","bulk_remove","reset"],(()=>n.participants.length)),j=(0,i.getABPropConfigValue)("parent_group_min_participants_for_group_entry_point"),B=(0,T.default)();if(!(0,d.communitiesEnabled)()||!L||null!=x||R<j||n.groupType===E.GroupType.LINKED_ANNOUNCEMENT_GROUP||!(0,d.communitiesCreationEnabled)())return null;const W=()=>{m.DrawerManager.openDrawerLeft(O.default.createElement(C.default,{existingGroups:[a]}),{focusType:b.FocusType.TABBABLE}),c.UiCommunityCreationAction.startSession(_.COMMUNITY_CREATION_ENTRYPOINT_TYPE.GROUP_INFO),c.UiCommunityCreationAction.enter(S.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.GROUP_INFO)},F=function(){var e=(0,l.default)((function*(e){yield(0,o.default)((0,w.setGroupSubject)(t,e),B).catch((0,r.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`name_group_modal:onSetSubject failed`})),v.ModalManager.close(),W()}));return function(){return e.apply(this,arguments)}}(),H=()=>{v.ModalManager.open(O.default.createElement(p.ConfirmPopup,{onOK:()=>v.ModalManager.close(),okText:(0,g.default)("OK")},P.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})))};return O.default.createElement(h.default,{theme:"no-padding"},O.default.createElement(u.default,{testid:"group-info-create-community-section",image:O.default.createElement(f.CommunitySquircleIcon,{iconXstyle:A.communitySquircle,width:40,height:40}),primary:O.default.createElement(k.TextSpan,{size:"16"},P.fbt._("Add group to a community",null,{hk:"Izcs6"})),onClick:()=>{if(D){var e,n;const a=P.fbt._("This group was created without a name. Give it a name to create a community.",null,{hk:"2BkS8"});v.ModalManager.open(O.default.createElement(y.default,{chat:t,subtext:a,onCancel:()=>v.ModalManager.close(),onOK:F,editable:null===(e=t.groupMetadata)||void 0===e?void 0:e.canSetSubject(),editRestrictionInfo:(null===(n=t.groupMetadata)||void 0===n?void 0:n.restrict)?H:void 0}))}else W()},theme:"community-create",secondary:O.default.createElement(k.TextSpan,{size:"14",color:"secondary"},P.fbt._("Bring members together in topic-based groups",null,{hk:"4mplI5"})),detail:O.default.createElement(s.ChevronRightAltIcon,{color:M.SvgColorProp.SECONDARY,directional:!0}),focusable:!0}))}x.displayName="CreateCommunitySection"},20864:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var l=a(n(707655)),r=n(174834),o=n(862159),i=n(548360),u=a(n(667294)),s=a(n(156720)),c=n(655241);const d={color:"tviruh8d",fontSize:"enbbiyaj"};function f(e){const{chat:t}=e,n=(0,c.useOptionalModelValues)(t.groupMetadata,["groupType"]);let a;return a=(0,r.communitiesEnabled)()&&(null==n?void 0:n.groupType)===o.GroupType.LINKED_ANNOUNCEMENT_GROUP?u.default.createElement("div",{className:(0,s.default)(d)},i.fbt._("Get the latest announcements from the admins of this community.",null,{hk:"2CDZai"})):i.fbt._("Add group description",null,{hk:"BVsoQ"}),u.default.createElement(l.default,{chat:e.chat,showFullDescription:e.showFullDescription,editRestrictionText:i.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"}),testid:"group-info-drawer-description-title-input",containerTestId:"group-info-drawer-description-container",emptyValuePlaceholder:a,focusOnMount:e.focusOnMount})}f.displayName="GroupInfoDescriptionSection"},941943:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(287461),r=n(738501),o=n(374660),i=a(n(306007)),u=n(464659),s=n(539662),c=a(n(740681)),d=n(998123),f=n(174834),p=n(359198),m=n(692310),h=n(660666),g=a(n(908081)),E=a(n(324093)),b=n(626194),v=a(n(969358)),y=a(n(209064)),C=n(71957),w=n(569543),M=n(855026),k=a(n(570834)),S=n(714574),_=a(n(466488)),P=a(n(483828)),O=a(n(20864)),N=n(957384),I=a(n(299723)),T=n(767140),A=n(951688),x=a(n(453090)),D=n(503028),L=a(n(483447)),R=n(862159),j=n(516197),B=n(20194),W=n(97858),F=n(114850),H=a(n(832897)),G=n(111367),V=n(474474),U=a(n(410731)),z=n(712648),q=n(128754),Y=n(163139),K=n(428991),Z=n(983271),X=n(220584),Q=n(382117),J=n(676345),$=n(402011),ee=n(571444),te=n(521394),ne=n(965927),ae=n(744976),le=n(869513),re=n(818674),oe=n(954141),ie=n(873298),ue=n(548360),se=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=be(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),ce=a(n(156720)),de=n(379811),fe=a(n(401715)),pe=a(n(969651)),me=a(n(637660)),he=n(808446),ge=n(655241),Ee=a(n(321201));function be(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(be=function(e){return e?n:t})(e)}const ve={body:{flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},announcementGroupDisclaimer:{textAlign:"ljrqcn24",paddingTop:"n1yiu2zv",paddingBottom:"jd93c9cp",paddingEnd:"bcymb0na",paddingStart:"e8k79tju",lineHeight:"jgi8eev7",wordBreak:"cw3vfol9"},lastSectionRow:{marginBottom:"brac1wpa"}};function ye(e,t){var n,a,be;const{onVerification:ye,onClose:Ce,onContactInfo:we,onEventInfo:Me}=e,ke=(0,Ee.default)(),Se=(0,pe.default)(),_e=(0,fe.default)(),Pe=(0,ge.useModelValues)(e.chat,["mute","id","pendingAction","groupMetadata","isBroadcast","isNewsletter"]),Oe=(0,ge.useModelValues)(e.groupMetadata,["id","reportToAdminMode","cachedDeviceCount","cachedDeviceSizeBucket","participants","parentGroup","pendingParticipants","announce","support","incognito","groupType","restrict","isIncognitoCag","defaultSubgroup"]),[Ne,Ie,Te]=(0,de.useContactValues)(e.contact.id,[h.getName,h.getId,S.getPendingAction]),Ae=Oe.groupType===R.GroupType.LINKED_ANNOUNCEMENT_GROUP,xe=(0,me.default)((()=>new Q.UiActionWamEvent({uiActionType:Ae?ae.UI_ACTION_TYPE.DEFAULT_SUBGROUP_INFO_OPEN:ae.UI_ACTION_TYPE.GROUP_INFO_OPEN,uiActionPreloaded:!0,isLid:Oe.isIncognitoCag}))),De=(0,me.default)((()=>new k.default)),Le=(0,me.default)((()=>new k.default)),Re=(0,se.useRef)(null);(0,he.useListener)(Oe.participants,["bulk_add","bulk_remove","reset","sort","change:isAdmin","change:isSuperAdmin"],Se),(0,he.useListener)(Oe.pendingParticipants,["add","remove","reset"],Se);const je=()=>{var e;const t=null===(e=Oe.getParentGroupChat())||void 0===e?void 0:e.formattedTitle;(0,m.groupOpenAddParticipantFlow)(Oe,Pe,t)},Be=()=>{F.ModalManager.open(se.default.createElement(y.default,{chat:Pe,chatId:Pe.id,e2eSubtype:"info_encrypted"}))};let We;if((0,se.useEffect)((()=>{if((0,o.isIntegritySuspendedDefaultSubgroup)(Pe)?(0,K.openTerminatedCommunityModal)():(0,o.isTerminatedGroupOrNotMember)(Pe)?(0,o.isSupportGroup)(Pe)||((0,W.isGroupSuspendV2Enabled)()?(0,Z.openSuspendedGroupModalV2)(Pe):(0,Z.openTerminatedGroupOrNotMemberModal)()):(0,o.isSuspendedGroup)(Pe)&&((0,W.isGroupSuspendV2Enabled)()?(0,Z.openSuspendedGroupModalV2)(Pe):(0,Z.openSuspendedGroupModal)(!0===(0,o.shouldIncludeEntityIdInAppealRequest)()?Oe.id.user.toString():null)),Oe.groupType!==R.GroupType.DEFAULT){new p.CommunityGroupJourneyEvent({action:ee.CHAT_FILTER_ACTION_TYPES.VIEW,surface:ne.SURFACE_TYPE.GROUP_INFO,chat:Pe}).commit()}}),[]),(0,se.useEffect)((()=>{Oe.participants.ensureSorted();Oe.pendingParticipants.ensureSorted()})),(0,se.useEffect)((()=>{const e=xe.current;if(e){const t=Oe.cachedDeviceSizeBucket;null!=t&&(e.sizeBucket=t),Object.assign(e,(0,le.getGroupCountMetricsFromGroupMetadata)((0,Y.unproxy)(Oe)),(0,$.getAddressingModeMetricsFromGroupMetadata)((0,Y.unproxy)(Oe))),e.markUiActionT(),e.commit(),xe.current=void 0}(0,re.logUiActionShadowPrivateStatsTestEvents)()}),[]),Oe.canSetGroupProperty()){const t=se.default.createElement(ie.WDSTextTitle,null,ue.fbt._("Group permissions",null,{hk:"2B8bgm"})),n=se.default.createElement(z.SettingsIcon,{color:X.SvgColorProp.SECONDARY,height:17});We=se.default.createElement(i.default,{testid:"group-settings-row",side:"chevron",icon:n,onClick:e.onAdminSetting,title:t,spaced:!0})}let Fe=null;!(0,o.isSuspendedGroup)(Pe)&&e.onMediaGallery&&(Fe=se.default.createElement(c.default,{onMediaGallery:e.onMediaGallery,chat:(0,Y.unproxy)(Pe)}));const He=Pe&&(0,r.shouldShowEphemeralSetting)(Pe)?se.default.createElement(C.EphemeralSettingRow,{onClick:e.onEphemeral,chat:Pe,groupMetadata:Oe,testid:"contact-info-dm-setting-row"}):null;let Ge=null;if((0,f.communitiesEnabled)()&&Pe&&Oe.parentGroup&&Oe.participants.iAmMember()){const t=Oe.getParentGroupChat();(null==t?void 0:t.groupMetadata)&&(Ge=se.default.createElement(_.default,{onClick:()=>{var t;null===(t=e.onCommunityClick)||void 0===t||t.call(e)},parentGroupMetadata:t.groupMetadata,parentGroupChat:t}))}let Ve=null;(0,w.isEventsReceivingEnabled)()&&null!=Me&&(Ve=se.default.createElement(N.GroupInfoEventsSection,{chat:(0,Y.unproxy)(Pe),onEventInfo:Me}));let Ue=null;Ue=se.default.createElement(U.default,{highlightSurface:te.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_GROUP,onClick:()=>(0,G.showEncryptionInfoPopup)(Pe),header:{type:"encryption"},text:ue.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"2MtPh9"}),spaced:!0}),(0,o.isSupportGroup)(Pe)&&(Ue=se.default.createElement(L.default,{onClick:Be,spaced:!0}));const ze=Pe.mute.canMute()?se.default.createElement(H.default,{chat:Pe,mute:Pe.mute}):null;let qe,Ye=null;if(!(0,o.isSuspendedGroup)(Pe)&&e.onStarred){const t=se.default.createElement(ie.WDSTextTitle,null,ue.fbt._("Starred messages",null,{hk:"4wVbNG"})),n=se.default.createElement(q.StarIcon,{color:X.SvgColorProp.SECONDARY,height:20});Ye=se.default.createElement(u.ChatInfoDrawerSection,{titleTestId:"section-starred-messages",xstyle:J.uiPadding.horiz0},se.default.createElement(i.default,{testid:"block-starred-messages",side:"chevron",icon:n,onClick:e.onStarred,title:t,spaced:!0}))}if(Pe.hasKeptMsgs()||(0,r.isEphemeralSettingOn)(Pe)){const t=se.default.createElement(ie.WDSTextTitle,null,ue.fbt._("Kept Messages",null,{hk:"41CBIy"})),n=Oe.restrict?se.default.createElement(ie.WDSTextMuted,null,ue.fbt._("Only admins can keep or unkeep messages in this group.",null,{hk:"2Uhjiy"})):null,a=se.default.createElement(B.KeepInChatIcon,{color:X.SvgColorProp.SECONDARY,height:20});qe=se.default.createElement(u.ChatInfoDrawerSection,{titleTestId:"section-kept-messages",xstyle:[ve.lastSectionRow,J.uiPadding.horiz0]},se.default.createElement(i.default,{testid:"block-kept-messages",side:"chevron",icon:a,onClick:e.onKept,title:t,secondaryTitle:n,spaced:!0}))}const Ke=(0,V.isReactionsEnabledInCAG)(Pe)?se.default.createElement(d.PhoneNumberVisibilityIndicatorCag,{chat:Pe}):null,Ze=(0,l.getABPropConfigValue)("report_to_admin_kill_switch")&&Oe.reportToAdminMode&&Oe.canSetGroupProperty()?se.default.createElement(i.default,{testid:"block-rta-messages",side:"chevron",icon:se.default.createElement(oe.WarningIcon,{color:X.SvgColorProp.SECONDARY,height:16}),onClick:e.onSentForAdminReview,title:se.default.createElement(ie.WDSTextTitle,null,ue.fbt._("Sent for admin review",null,{hk:"2gzsHo"})),spaced:!0}):null;let Xe=null;(ze||Ue||He)&&(Xe=se.default.createElement(u.ChatInfoDrawerSection,{xstyle:[ve.lastSectionRow,J.uiPadding.horiz0]},ze,Ze,Ue,He,We,Ke));const Qe=se.default.createElement(I.default,{chat:(0,Y.unproxy)(Pe)}),Je={surface:"group-info-drawer",extras:{groupSize:Oe.participants.length,typeOfGroup:(0,R.groupTypeToWamEnum)((0,R.getGroupTypeFromGroupMetadata)((0,Y.unproxy)(Oe)))}},$e=Boolean(null===(n=Pe.groupMetadata)||void 0===n?void 0:n.isIncognitoCag)&&!(null===(a=Pe.groupMetadata)||void 0===a||null===(be=a.participants)||void 0===be?void 0:be.iAmAdmin())?se.default.createElement(v.default,{theme:"transparent",shadow:!1},se.default.createElement(ie.WDSTextMuted,{xstyle:ve.announcementGroupDisclaimer},ue.fbt._("Only admins can see all participants in this group",null,{hk:"39jP44"}))):null;return se.default.createElement("div",{role:"complementary",ref:_e,tabIndex:"-1","aria-label":ue.fbt._("Group Info",null,{hk:"3P80cG"})},se.default.createElement(g.default,{ref:t,key:"contact-info-modal",theme:"striped",testid:"chat-info-drawer",tsNavigationData:Je},se.default.createElement(b.DrawerHeader,{title:ue.fbt._("Group info",null,{hk:"2SfTUZ"}),type:b.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{Ce?Ce():null==ke||ke.requestDismiss()},testid:"group-info-header"}),se.default.createElement(E.default,null,se.default.createElement("section",{className:(0,ce.default)(ve.body)},se.default.createElement(x.default,{chat:(0,Y.unproxy)(Pe),onAdminSetting:e.onAdminSetting,onAddParticipant:je,onClickParticipantsCount:()=>{var e;null===(e=Re.current)||void 0===e||e.scrollIntoView()},focusGroupSubjectOnMount:e.focusGroupSubjectOnMount}),Ge,se.default.createElement(O.default,{chat:(0,Y.unproxy)(Pe),showFullDescription:e.showFullGroupDescription,focusOnMount:e.focusGroupDescriptionOnMount}),Fe,Ve,Ye,qe,Xe,undefined,se.default.createElement(P.default,{chat:Pe,groupMetadata:Oe}),!Oe.participants.iAmMember()&&se.default.createElement(M.ExitedGroupMemberSection,{group:Pe}),se.default.createElement(T.GroupInfoParticipantsSection,{ref:Re,chat:(0,Y.unproxy)(Pe),scrollToParticipantList:e.scrollToParticipantList,flatListController:De.current,onAddParticipant:je,onOpenParticipantSearch:e=>{F.ModalManager.open(se.default.createElement(D.GroupParticipantsFlow,{chat:(0,Y.unproxy)(Pe),onVerification:ye,onContactInfo:we,initialStep:e}),{transition:"modal-flow"})},onGroupInviteLink:e.onGroupInviteLink,onPendingParticipants:e.onPendingParticipants,onVerification:e.onVerification,onParticipantClick:(t,n)=>{var a;return null===(a=e.onContactInfo)||void 0===a?void 0:a.call(e,n)}}),$e,se.default.createElement(A.GroupInfoPendingParticipantsSection,{chat:(0,Y.unproxy)(Pe),flatListController:Le.current}),Pe&&Pe.canBeFavorite()&&(0,j.inboxFavoritesManagementEnabled)()&&se.default.createElement(s.ChatInfoFavoritesSection,{chat:Pe}),Qe))))}var Ce=(0,se.forwardRef)(ye);t.default=Ce},767140:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupInfoParticipantsSection=void 0;var l=a(n(670983)),r=n(287461),o=n(633757),i=a(n(170206)),u=n(374660),s=n(464659),c=a(n(831584)),d=a(n(314810)),f=n(474103),p=n(103440),m=n(660666),h=n(465113),g=n(675085),E=n(235630),b=n(305521),v=n(512938),y=n(714574),C=n(503028),w=n(862159),M=a(n(932325)),k=n(659356),S=n(963950),_=n(114850),P=n(33014),O=n(164406),N=n(197988),I=n(507877),T=n(981058),A=a(n(671401)),x=a(n(802211)),D=n(578872),L=a(n(237889)),R=n(220584),j=n(533426),B=n(392632),W=a(n(37875)),F=n(459857),H=n(788271),G=a(n(124928)),V=n(548360),U=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),z=(a(n(156720)),a(n(524578))),q=a(n(969651)),Y=a(n(426872)),K=a(n(637660)),Z=n(808446),X=n(655241);function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}const J={pendingParticipantsIcon:{backgroundColor:"k6px2m13",color:"cwwc04gk"}};function $(e){let{active:t,contextMenu:n,data:a,elevatedPushNamesEnabled:l=!1,handleParticipantClick:r,handleParticipantMenu:o,menuEnabled:i,participants:u}=e;const{id:s}=a,c=u.get(s);if(!c)throw new v.UnknownDataError(a);const f=c.contact,p=!!n&&G.default.equals(f.id,n.contactId);return U.default.createElement(d.default,{active:t,contact:f,participant:c,key:c.id.toString(),onClick:r,contextEnabled:()=>i(f),contextMenu:p,onContext:e=>o(e,f),theme:"chat-info",showNotifyName:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0,participantCollection:u,elevatedPushNamesEnabled:l})}$.displayName="ParticipantItem";const ee=(0,U.forwardRef)(((e,t)=>{var n;const a=(0,X.useModelValues)((0,l.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["support","size","id","membershipApprovalMode","membershipApprovalRequests","isUnnamed","isLidAddressingMode","participants"]),{membershipApprovalMode:d,membershipApprovalRequests:v}=a,G=(0,K.default)((()=>new L.default([],(e=>e.id.toString())))),Q=(0,l.default)(e.chat.groupMetadata,"props.chat.groupMetadata").participants;let ee=Q.toArray();(0,f.hideCagMaskedParticipants)()&&!0!==a.isLidAddressingMode&&(ee=Q.filter((e=>{let{id:t}=e;return(0,F.isMeAccount)(t)||!t.isLid()})));const ne=(0,u.getGroupParticipantsCount)(a),ae=(0,q.default)();(0,Z.useListener)(Q,"bulk_add bulk_remove reset sort change:isAdmin change:isSuperAdmin",ae);const[le,re]=(0,U.useState)(!0),oe=(0,U.useRef)(),[ie,ue]=(0,U.useState)(),se=(0,u.isCommunityAnnouncementGroup)(e.chat);(0,U.useEffect)((()=>{e.scrollToParticipantList&&oe.current&&(0,h.scrollIntoViewIfNeeded)(oe.current,!1)}),[e.scrollToParticipantList]),(0,U.useImperativeHandle)(t,(()=>({scrollIntoView(){var e;null===(e=oe.current)||void 0===e||e.scrollIntoView()}})));const[ce,de]=(0,Y.default)(a),fe=(0,z.default)(v,["add","remove","reset"],(()=>v.length)),pe=(0,H.useShowPastParticipants)(e.chat),me=(0,U.useMemo)((()=>{let e;const t=[],n=[];ee.forEach((a=>{(0,m.getIsMe)(a.contact)?e=a:a.isAdmin?t.push(a):n.push(a)}));let a=[];return e&&a.push(e),a=a.concat(t,n),te(ee)&&le&&(a=a.slice(0,s.INFO_DRAWER_MAX_ROWS)),G.current.init(a.map((e=>e.contact))),a.map((e=>({itemKey:e.id.toString(),id:e.id,height:68})))}),[le,ee]);if(a.isSuspendedOrTerminated())return null;const he=U.default.createElement(D.SearchIcon,{color:R.SvgColorProp.SECONDARY});let ge,Ee,be,ve;if(ce&&!a.support){const t=U.default.createElement(x.default,{theme:"compact"},U.default.createElement(o.AddUserIcon,{directional:!0}));ge=U.default.createElement(i.default,{testid:"add-user",image:t,theme:"chat-info",primary:V.fbt._("Add member",null,{hk:"43EiHe"}),onClick:e.onAddParticipant,focusable:!0})}if(Q.iAmAdmin()&&e.onGroupInviteLink&&!a.support){const t=U.default.createElement(x.default,{theme:"compact"},U.default.createElement(k.LinkIcon,null));Ee=U.default.createElement(i.default,{image:t,theme:"chat-info",primary:V.fbt._("Invite to group via link",null,{hk:"3vDtFL"}),onClick:e.onGroupInviteLink,focusable:!0})}if(d&&fe>0&&(0,r.getABPropConfigValue)("group_join_request_m2")&&((0,r.getABPropConfigValue)("web_anyone_can_add_group_setting_enabled")&&de||Q.iAmAdmin())&&(be=U.default.createElement(i.default,{image:U.default.createElement(x.default,{xstyle:J.pendingParticipantsIcon,theme:"compact"},U.default.createElement(T.PendingParticipantsIcon,null)),theme:"chat-info",primary:(0,r.getABPropConfigValue)("group_join_request_m3")?V.fbt._("Pending requests",null,{hk:"33VEuS"}):V.fbt._("Pending members",null,{hk:"4ihDNY"}),primaryDetail:U.default.createElement(j.Tag,{round:!0},fe),onClick:e.onPendingParticipants,focusable:!0})),te(ee)&&le){const t=ee.length<=20,n=ee.length-s.INFO_DRAWER_MAX_ROWS;ve=U.default.createElement(c.default,{numMore:n,onClick:()=>{t?re(!1):e.onOpenParticipantSearch(C.ParticipantsFlowStep.Participants)},viewAll:!t})}else pe&&(ve=U.default.createElement(S.ListButton,{onClick:()=>{e.onOpenParticipantSearch(C.ParticipantsFlowStep.PastParticipants)},testid:"row-past-participants"},V.fbt._("View past members",null,{hk:"4xycZf"})));const ye=e=>{const t=Q.get(e.id);return!!t&&(Q.canPromote(t)||Q.canDemote(t)||Q.canRemove(t)||Q.canVerifyIdentity(t))},Ce=(t,n)=>{const a=Q.assertGet(n.id);if(!ye(n))return;const l=[];if(Q.canPromote(a)){const t=()=>{const t=V.fbt._('Make {member} an admin for "{subject}" group?',[V.fbt._param("member",(0,y.getFormattedName)(a.contact)),V.fbt._param("subject",e.chat.contact.name)],{hk:"1toNN7"});_.ModalManager.open(U.default.createElement(p.ConfirmPopup,{onOK:()=>{return t=!0,a.isAdmin||(a.contact.pendingAction++,(0,P.promoteParticipants)(e.chat,[a]).finally((()=>{a.contact.pendingAction--}))),void(t&&_.ModalManager.close());var t},okText:V.fbt._("Make group admin",null,{hk:"3SZmiM"}),onCancel:()=>_.ModalManager.close(),cancelText:V.fbt._("Cancel",null,{hk:"H0gNq"})},U.default.createElement(b.EmojiText,{text:t})))};let n;if(se){var r;n=V.fbt._("Make admin",null,{hk:"1cHVQ6"});const t=null===(r=e.chat.groupMetadata)||void 0===r?void 0:r.getParentGroupChat();l.push(U.default.createElement(g.DropdownItem,{testid:"mi-grp-promote-community-admin",key:"promote",action:()=>{(0,I.openCommunityParticipantPromoteConfirmation)(t,a,Q,a.contact)}},n))}else n=V.fbt._("Make group admin",null,{hk:"oCC4C"}),l.push(U.default.createElement(g.DropdownItem,{testid:"mi-grp-promote-admin",key:"promote",action:t},n))}if(Q.canRemove(a)){let t;t=!0===se?V.fbt._("Remove from community",null,{hk:"WikVd"}):V.fbt._("Remove",null,{hk:"2Z8i6g"}),l.push(U.default.createElement(g.DropdownItem,{testid:"mi-grp-remove-participant",key:"remove",action:()=>{var t;const l=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.getParentGroupChat();if(!0===se&&null!=l)return void _.ModalManager.open(U.default.createElement(A.default,{contact:n,parentGroupChat:l}));const r=V.fbt._('Remove {member} from "{subject}" group?',[V.fbt._param("member",(0,y.getFormattedName)(a.contact)),V.fbt._param("subject",e.chat.contact.name)],{hk:"223j9n"});_.ModalManager.open(U.default.createElement(p.ConfirmPopup,{onOK:()=>{return t=!0,a.contact.pendingAction++,(0,P.removeParticipants)(e.chat,[a]).finally((()=>{a.contact.pendingAction--})),void(t&&_.ModalManager.close());var t},okText:V.fbt._("Remove",null,{hk:"2GRvdl"}),onCancel:()=>_.ModalManager.close(),cancelText:V.fbt._("Cancel",null,{hk:"H0gNq"})},U.default.createElement(b.EmojiText,{text:r})))}},t))}if(Q.canDemote(a)){const t=()=>{a.isAdmin&&(a.contact.pendingAction++,(0,P.demoteParticipants)(e.chat,[a]).finally((()=>{a.contact.pendingAction--})))},n=V.fbt._("Dismiss as admin",null,{hk:"2YfmwL"});if(se){var o;const t=null===(o=e.chat.groupMetadata)||void 0===o?void 0:o.getParentGroupChat();l.push(U.default.createElement(g.DropdownItem,{testid:"mi-grp-community-demote",key:"demote-admin",action:()=>(0,N.openCommunityParticipantDemoteConfirmation)(a,t)},n))}else l.push(U.default.createElement(g.DropdownItem,{testid:"mi-grp-demote",key:"demote-admin",action:t},n))}if(Q.canVerifyIdentity(a)){const t=V.fbt._("Verify Security Code",null,{hk:"1vTVgt"});l.push(U.default.createElement(g.DropdownItem,{testid:"mi-grp-verify-identify",key:"verify-identity",action:()=>{e.onVerification&&e.onVerification(a.contact)}},t))}ue({contactId:n.id,menu:l,anchor:t.anchor,event:t.event})},we=(0,E.elevatedPushNamesM2Enabled)(e.chat),Me=(null===(n=e.chat.groupMetadata)||void 0===n?void 0:n.groupType)===w.GroupType.LINKED_ANNOUNCEMENT_GROUP?ne:Q.length,ke=V.fbt._({"*":"Members list: {group-participants} members",_1:"Members list: 1 member"},[V.fbt._plural(Me,"group-participants")],{hk:"3zW2fH"}),Se=M.default.n(Me),_e=Q.length?U.default.createElement(s.ChatInfoDrawerListSection,{ref:oe,titleTestId:"section-participants",testid:"group-info-participants-section",title:V.fbt._({"*":"{number-of-participants} members",_1:"{number-of-participants} member"},[V.fbt._plural(Me),V.fbt._param("number-of-participants",Se)],{hk:"2SJ8yz"}),titleOnClick:()=>{e.onOpenParticipantSearch(C.ParticipantsFlowStep.Participants)},subtitle:he},ge,Ee,be,U.default.createElement(O.NavigableFlatList,{ariaLabel:ke,flatListController:e.flatListController,listData:me,onRenderItem:t=>U.default.createElement($,{active:G.current,data:t,participants:Q,handleParticipantClick:e.onParticipantClick,menuEnabled:ye,handleParticipantMenu:Ce,contextMenu:ie,elevatedPushNamesEnabled:we}),selection:G.current,rotateList:!0}),ve):null,Pe=()=>{ue(null)};let Oe;return ie&&(Oe=U.default.createElement(B.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Pe},U.default.createElement(W.default,{contextMenu:ie}))),U.default.createElement(U.default.Fragment,null,_e,Oe)}));function te(e){return e.length>s.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}t.GroupInfoParticipantsSection=ee,ee.displayName="GroupInfoParticipantsSection"},951688:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupInfoPendingParticipantsSection=N,t.PendingParticipantItem=O;var l=a(n(348926)),r=a(n(670983)),o=n(464659),i=a(n(831584)),u=a(n(314810)),s=n(103440),c=n(675085),d=n(305521),f=n(512938),p=n(714574),m=n(114850),h=n(164406),g=a(n(237889)),E=n(625786),b=n(390737),v=n(392632),y=a(n(37875)),C=n(548360),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),M=a(n(802145)),k=a(n(969651)),S=a(n(637660)),_=n(808446);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function O(e){let{active:t,data:n,groupMetadata:a,onContextMenu:l,pendingParticipants:r}=e;const{id:o}=n,i=r.get(o);if(!i)throw new f.UnknownDataError(n);return w.default.createElement(u.default,{active:t,contact:i.contact,participant:i,key:i.id.toString(),contextEnabled:()=>!1,contextMenu:!0,onContext:e=>(e=>{const t=[w.default.createElement(c.DropdownItem,{testid:"mi-grp-promote-admin",key:"promote",action:()=>{m.ModalManager.open(w.default.createElement(s.ConfirmPopup,{onOK:()=>{m.ModalManager.close(),a.revokeGroupsV4AddInvite([i.id]).then((()=>{b.ToastManager.open(w.default.createElement(E.Toast,{msg:C.fbt._("Invite reset",null,{hk:"MgErr"})}))}))},okText:C.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>m.ModalManager.close(),cancelText:C.fbt._("Cancel",null,{hk:"H0gNq"})},w.default.createElement(d.EmojiText,{text:C.fbt._("Reset invite for {member}? If you reset the invite, {member} won't be able to use it to join this group.",[C.fbt._param("member",(0,p.getFormattedName)(i.contact))],{hk:"2ShikS"})})))}},C.fbt._("Revoke invite",null,{hk:"4on28q"}))];l(t,e,i.contact)})(e),theme:"chat-info",showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0})}function N(e){var t,n;let{chat:a,flatListController:u}=e;const s=(0,r.default)(a.groupMetadata,"chat.groupMetadata"),c=(0,r.default)(null===(t=a.groupMetadata)||void 0===t?void 0:t.participants,"chat.groupMetadata?.participants"),d=(0,r.default)(null===(n=a.groupMetadata)||void 0===n?void 0:n.pendingParticipants,"chat.groupMetadata?.pendingParticipants"),f=d.toArray(),p=(0,k.default)();(0,_.useListener)(c,"change:isAdmin change:isSuperAdmin",p),(0,_.useListener)(d,"add remove reset",p);const[m,E]=(0,w.useState)(I(d)),b=(0,S.default)((()=>new g.default([],(e=>e.id.toString())))),[P,N]=(0,w.useState)();(0,M.default)((0,l.default)((function*(){yield s.queryGroupsV4PendingInvite(),E(I(s.pendingParticipants))})),[s]);const T=(0,w.useMemo)((()=>{let e=f;return I(f)&&m&&(e=e.slice(0,o.INFO_DRAWER_MAX_ROWS)),b.current.init(e.map((e=>e.contact))),e.map((e=>({itemKey:e.id.toString(),id:e.id,height:68})))}),[m,f]);if(s.isSuspendedOrTerminated())return w.default.createElement(w.default.Fragment,null);const A=(e,t,n)=>{const a="click"===t.type?void 0:t.target;N({contactId:n.id,menu:e,anchor:a,event:t.anchor?void 0:t})},x=C.fbt._({"*":"Invited members list: {group-participants} members",_1:"Invited members list: 1 member"},[C.fbt._plural(d.length,"group-participants")],{hk:"2QQhyt"});let D,L,R;if(d.length>0&&(D=w.default.createElement(h.NavigableFlatList,{ariaLabel:x,flatListController:u,listData:T,onRenderItem:e=>w.default.createElement(O,{active:b.current,data:e,onContextMenu:A,pendingParticipants:d,groupMetadata:s}),selection:b.current,rotateList:!0})),I(d)&&m){const e=d.length-o.INFO_DRAWER_MAX_ROWS;L=w.default.createElement(i.default,{numMore:e,onClick:()=>{E(!1)}})}c.iAmAdmin()&&d.length>0&&(R=w.default.createElement(o.ChatInfoDrawerListSection,{titleTestId:"section-participants",title:C.fbt._("{number} invited",[C.fbt._param("number",d.length)],{hk:"2x0c1D"})},D,L));const j=()=>{N(null)};let B;return P&&(B=w.default.createElement(v.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:j},w.default.createElement(y.default,{contextMenu:P}))),w.default.createElement(w.default.Fragment,null,R,B)}function I(e){return e.length>o.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}O.displayName="PendingParticipantItem",N.displayName="GroupInfoPendingParticipantsSection"},453090:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=D;var l=a(n(348926)),r=n(898817),o=a(n(670983)),i=a(n(229922)),u=n(287461),s=n(103440),c=n(306703),d=a(n(969358)),f=a(n(395767)),p=n(690495),m=n(364268),h=a(n(559719)),g=n(862159),E=a(n(932325)),b=a(n(344460)),v=n(114850),y=n(21645),C=n(843337),w=n(470824),M=n(24592),k=a(n(625903)),S=n(873298),_=n(548360),P=a(n(667294)),O=a(n(156720)),N=a(n(969651)),I=n(808446),T=n(655241),A=a(n(895851));const x={photo:{marginBottom:"njub1g37"},groupSecondary:{lineHeight:"a4ywakfo",marginTop:"ma4rpf0l",textAlign:"qfejxiq4"}};function D(e){var t,n,a,l;let{chat:r,focusGroupSubjectOnMount:o,onAddParticipant:i,onAdminSetting:u,onClickParticipantsCount:s}=e;const f=(0,T.useModelValues)(r,["labels"]),h=(0,T.useOptionalModelValues)(r.groupMetadata,["size","creation"]),v=null===(t=r.groupMetadata)||void 0===t?void 0:t.groupType,y=null===(n=r.groupMetadata)||void 0===n?void 0:n.participants,C=(0,N.default)();(0,I.useListener)(y,"bulk_add bulk_remove reset sort change:isAdmin change:isSuperAdmin",C);const w=null!==(a=null==y?void 0:y.length)&&void 0!==a?a:0,S=null!==(l=null==h?void 0:h.size)&&void 0!==l?l:0,A=(null==y?void 0:y.iAmAdmin())?w:S;let D=_.fbt._("Group",null,{hk:"DNiv2"});v===g.GroupType.LINKED_ANNOUNCEMENT_GROUP&&(D=_.fbt._("Announcements",null,{hk:"GNIKa"}));const L=_.fbt._({"*":"{number} members",_1:"1 member"},[_.fbt._plural(v===g.GroupType.LINKED_ANNOUNCEMENT_GROUP?A:w,"number")],{hk:"16da9S"});return P.default.createElement(d.default,{theme:"padding-large"},P.default.createElement(p.FlexColumn,{align:"center"},P.default.createElement(m.GroupInfoPhoto,{chat:r,xstyle:x.photo,showAddIconOverlay:!0}),P.default.createElement(R,{chat:r,focusOnMount:o}),P.default.createElement("div",{className:(0,O.default)(x.groupSecondary)},P.default.createElement(c.SelectableSpan,{dir:"auto",selectable:!0},P.default.createElement(M.TextSpan,{size:"16",color:"secondary"},D,(null==h?void 0:h.isSuspendedOrTerminated())?null:P.default.createElement(P.default.Fragment,null,E.default.isRTL()?" - ":" · ",P.default.createElement(k.default,{onClick:s},L))))),P.default.createElement(b.default,{labels:f.labels})))}D.displayName="GroupInfoTopCard";const L={title:{marginTop:"hymafltn",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"}};function R(e){let{chat:t,focusOnMount:n=!1}=e;const a=(0,T.useModelValues)(t.contact,["name"]),c=(0,T.useModelValues)((0,o.default)(t.groupMetadata,"chat.groupMetadata"),["creation","restrict","support","isUnnamed","participants"]),d=(0,A.default)(),p=function(){var e=(0,l.default)((function*(e){const n=e;n!==a.name&&(yield(0,i.default)((0,w.setGroupSubject)(t,n),d).catch((0,r.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`group_info_drawer:onSetSubject failed`})))}));return function(){return e.apply(this,arguments)}}(),m=()=>{v.ModalManager.open(P.default.createElement(s.ConfirmPopup,{onOK:()=>v.ModalManager.close(),okText:(0,f.default)("OK")},_.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})))};return c.support?P.default.createElement(S.WDSTextLarge,{as:"h2",xstyle:L.title},P.default.createElement(y.GroupName,{chat:t,groupMetadata:c,breakWord:!0,checkmarkLarge:!0})):c.isUnnamed&&(0,u.getABPropConfigValue)("ugr_enabled")?P.default.createElement(h.default,{subject:(0,C.calculateUnnamedGroupParticipantsList)(c).toLocaleString(),onSave:p,editable:c.canSetSubject(),editRestrictionInfo:c.restrict?m:void 0,focusOnMount:n}):P.default.createElement(h.default,{subject:a.name||t.formattedTitle,onSave:p,editable:c.canSetSubject(),editRestrictionInfo:c.restrict?m:void 0,focusOnMount:n})}R.displayName="GroupInfoSubject"},795767:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(670983)),r=n(374660),o=n(780549),i=n(474103),u=n(174834),s=n(153316),c=a(n(402085)),d=n(675085),f=n(235630),p=n(305521),m=n(581354),h=n(714574),g=n(862159),E=n(114850),b=n(33014),v=n(197988),y=n(507877),C=n(392632),w=a(n(37875)),M=n(676345),k=n(459857),S=n(788271),_=n(873298),P=n(548360),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),N=a(n(156720)),I=a(n(969651)),T=n(808446);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const x={dropdownText:{display:"p357zi0d",alignItems:"gndfcl4n"},generalChatContainer:{backgroundColor:"ihvf49ua"}};function D(e,t){var n,a;const{chat:o,onVerification:m,onPastParticipants:A,onContactInfo:D}=e,[R,j]=function(e,t,n){const[a,o]=(0,O.useState)(null),i=(t,n)=>{t.isAdmin||(t.contact.pendingAction++,(0,b.promoteParticipants)(e,[t]).finally((()=>{t.contact.pendingAction--}))),n&&E.ModalManager.close()},u=(t,n)=>{t.contact.pendingAction++,(0,b.removeParticipants)(e,[t]).finally((()=>{t.contact.pendingAction--})),n&&E.ModalManager.close()},s=t=>{t.isAdmin&&(t.contact.pendingAction++,(0,b.demoteParticipants)(e,[t]).finally((()=>{t.contact.pendingAction--})))},c=()=>{o(null)};let f;a&&(f=O.default.createElement(C.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:c},O.default.createElement(w.default,{contextMenu:a})));return[f,(a,c)=>{const f=(0,l.default)(e.groupMetadata,"chat.groupMetadata").participants,m=f.assertGet(c.id.toString()),g=[],b=(0,r.isCommunityAnnouncementGroup)(e);if(f.canPromote(m)){let t;if(b){var C;t=P.fbt._("Make admin",null,{hk:"1cHVQ6"});const n=null===(C=e.groupMetadata)||void 0===C?void 0:C.getParentGroupChat();g.push(O.default.createElement(d.DropdownItem,{testid:"mi-grp-promote-community-admin",key:"promote",action:()=>{(0,y.openCommunityParticipantPromoteConfirmation)(n,m,f,m.contact)}},t))}else t=P.fbt._("Make group admin",null,{hk:"3SZmiM"}),g.push(O.default.createElement(d.DropdownItem,{testid:"mi-grp-promote-admin",key:"promote",action:()=>i(m,!1)},t))}if(f.canRemove(m)){const e=P.fbt._("Remove",null,{hk:"2Z8i6g"});g.push(O.default.createElement(d.DropdownItem,{testid:"mi-grp-remove-participant",key:"remove",action:()=>u(m,!1)},e))}if(f.canDemote(m)){const t=()=>s(m),n=P.fbt._("Dismiss as admin",null,{hk:"243sNl"});if(b){var w;const t=null===(w=e.groupMetadata)||void 0===w?void 0:w.getParentGroupChat();g.push(O.default.createElement(d.DropdownItem,{testid:"mi-grp-community-demote",key:"demote-admin",action:()=>(0,v.openCommunityParticipantDemoteConfirmation)(m,t)},n))}else g.push(O.default.createElement(d.DropdownItem,{testid:"mi-grp-demote",key:"demote-admin",action:t},n))}if(n&&g.push(O.default.createElement(d.DropdownItem,{testid:"mi-grp-contact-info",key:"contact-info",action:()=>{E.ModalManager.close(),n(m.contact)}},P.fbt._("Contact info",null,{hk:"3txWrr"}))),f.canVerifyIdentity(m)){const e=P.fbt._("Verify Security Code",null,{hk:"1vTVgt"});g.push(O.default.createElement(d.DropdownItem,{testid:"mi-grp-verify-identify",key:"verify-identity",action:()=>{E.ModalManager.close(),null==t||t(m.contact)}},e))}const M=(0,k.isMeAccount)(m.contact.id)?P.fbt._("Message yourself",null,{hk:"LDbjA"}):P.fbt._("Message {author}",[P.fbt._param("author",(0,h.getFormattedShortName)(m.contact))],{hk:"1kM7Cg"});g.push(O.default.createElement(d.DropdownItem,{key:"message author",ariaLabel:M,action:L.bind(null,m.contact.id),addSpacing:!0},O.default.createElement(p.EmojiText,{text:M,xstyle:x.dropdownText})));const S="click"===a.type?void 0:a.target;o({contactId:c.id,menu:g,anchor:S,event:a.anchor?void 0:a})}]}(o,m,D),B=(0,I.default)(),W=null===(n=o.groupMetadata)||void 0===n?void 0:n.participants;(0,T.useListener)(W,["bulk_add","bulk_remove","reset"],B);const F=(0,S.useShowPastParticipants)(o),H=(0,i.hideCagMaskedParticipants)(),G=null==W?void 0:W.map((e=>e.contact));let V;F&&(V={text:P.fbt._("View past members",null,{hk:"7PBaH"}),onClick:A});let U=null;if((null===(a=o.groupMetadata)||void 0===a?void 0:a.groupType)===g.GroupType.LINKED_GENERAL_GROUP&&(0,u.communityGeneralChatUIEnabled)()){var z;const e=!!(null===(z=o.groupMetadata)||void 0===z?void 0:z.generalChatAutoAddDisabled);U=O.default.createElement("div",{className:(0,N.default)([x.generalChatContainer,M.uiPadding.vert12,M.uiPadding.horiz30])},O.default.createElement(_.WDSTextMuted,null,(0,s.getGeneralChatParticipantListText)(e)))}return O.default.createElement(O.default.Fragment,null,O.default.createElement(c.default,{ref:t,title:P.fbt._("Search members",null,{hk:"48a8jn"}),filter:e=>{var t;const n=null==W?void 0:W.get(e.id.toString());return null!=n&&(!H||!1!==(null===(t=o.groupMetadata)||void 0===t?void 0:t.isLidAddressingMode)||((0,k.isMeAccount)(n.id)||!n.id.isLid()))},onCancel:()=>{E.ModalManager.close()},openContextOnClick:!0,contextEnabled:()=>!1,contextMenu:e=>!(0,k.isMeAccount)(e),onContext:j,showNotifyName:!0,elevatedPushNamesEnabled:(0,f.elevatedPushNamesM2Enabled)(o),listenForAdminChange:!0,participantCollection:(0,l.default)(W,"participants"),contacts:G,button:V,showStatusRingAroundProfilePhoto:!0,firstRows:[U]}),R)}const L=e=>{const t=(0,r.getOneToOneContactFromGroupContact)(e);(0,m.findChat)(t,"groupParticipantSearch").then((e=>{E.ModalManager.close(),o.Cmd.openChatFromUnread(e)}))};var R=(0,O.forwardRef)(D);t.default=R},503028:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupParticipantsFlow=s,t.ParticipantsFlowStep=void 0;var l=a(n(795767)),r=a(n(795367)),o=a(n(667294)),i=n(839062);const u=n(76672).Mirrored(["Participants","PastParticipants"]);function s(e){let{chat:t,initialStep:n,onContactInfo:a,onVerification:s}=e;const[c,d]=(0,i.useFlow)(n);if(!d.step)return null;let f;switch(d.step){case u.Participants:f=o.default.createElement(l.default,{chat:t,onVerification:s,onContactInfo:a,onPastParticipants:()=>d.push(u.PastParticipants)});break;case u.PastParticipants:{const e=()=>d.pop();f=d.stackSize()>1?o.default.createElement(r.default,{chat:t,onBack:e}):o.default.createElement(r.default,{chat:t,onClose:e});break}}return o.default.createElement(c,{flow:d},f)}t.ParticipantsFlowStep=u,s.displayName="GroupParticipantsFlow"},176809:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var l=a(n(170206)),r=n(63014),o=n(660666),i=n(23641),u=n(235630),s=n(714574),c=n(687352),d=n(21645),f=n(459857),p=n(548360),m=a(n(667294)),h=n(379811);function g(e){const{participant:t,elevatedPushNamesEnabled:n=!1}=e,{contact:a}=t,[g,E,b,v,y,C,w]=(0,h.useContactValues)(a.id,[o.getId,o.getShowBusinessCheckmarkAsPrimary,o.getName,o.getPushname,o.getNotifyName,s.getFormattedName,s.getFormattedPhone]),M=m.default.createElement(d.Name,{contact:a,showBusinessCheckmark:E,showLabel:!0,titlify:!0,ellipsify:!0,you:!0,showNotifyName:n,elevatedPushNamesEnabled:n}),k=r.Clock.pastParticipantOnDateAtTime(t.leaveTs,function(e){const t=e.id.equals((0,f.getMeUser)());if(e.leaveReason===c.LeaveReason.Left)return t?p.fbt._("Left",null,{hk:"3R2igg"}):p.fbt._("Left",null,{hk:"3kbdqU"});return t?p.fbt._("Removed",null,{hk:"4vPnHl"}):p.fbt._("Removed",null,{hk:"3LiTU6"})}(t)),S=(0,u.pushNameCanBeUsed)(a)&&n?w:null;return m.default.createElement(l.default,{image:m.default.createElement(i.DetailImage,{id:g}),primary:M,secondary:k,secondaryDetail:S})}g.displayName="PastParticipant"},795367:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(474103),r=n(235630),o=n(753233),i=n(198400),u=a(n(395767)),s=n(512938),c=n(690495),d=a(n(176809)),f=a(n(932325)),p=n(417696),m=n(608456),h=a(n(772549)),g=n(676345),E=n(459857),b=n(548360),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),y=(a(n(156720)),a(n(261716))),C=a(n(524578));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const M="HEADER",k="ROW",S="DISCLAIMER",_=(0,p.ListModalFactory)();function P(e,t){var n;const{chat:a,onBack:o,onClose:i}=e,u=null===(n=a.groupMetadata)||void 0===n?void 0:n.pastParticipants,[s,c]=(0,y.default)(),d=(0,C.default)(u,["buld_add","bulk_remove","reset"],(()=>{var e;const t=f.default.accentFold(s),n=(0,m.numberSearch)(t),a=null!==(e=null==u?void 0:u.getValidRecords().filter((e=>{const a=!t||e.contact.searchMatch(t,n);return(0,l.hideCagMaskedParticipants)()?((0,E.isMeAccount)(e.id)||!e.id.isLid())&&a:a})))&&void 0!==e?e:[];if(!a.length)return[];const r=[];return r.push({type:M,header:b.fbt._("Past members",null,{hk:"1FVwkx"}),itemKey:"list_header"}),a.forEach(((e,t)=>r.push({type:k,participant:e,itemKey:`${e.id.toString()}_${t}`}))),r.push({type:S,itemKey:"list_disclaimer"}),r}),[s]);return v.default.createElement(_,{ref:t,title:b.fbt._("Search past members",null,{hk:"3zbQgT"}),data:d,renderItem:e=>v.default.createElement(O,{data:e,elevatedPushNamesEnabled:(0,r.elevatedPushNamesM2Enabled)(a)}),emptyState:v.default.createElement(T,null),onSearch:c,searchPlaceholder:b.fbt._("Search contacts",null,{hk:"3gUOKZ"}),onBack:o,onCancel:i})}function O(e){var t;let{data:n,elevatedPushNamesEnabled:a}=e;switch(n.type){case M:return v.default.createElement(h.default,{header:null!==(t=n.header)&&void 0!==t?t:"",uppercase:!1});case k:return v.default.createElement(d.default,{participant:n.participant,elevatedPushNamesEnabled:a});case S:return v.default.createElement(I,null);default:throw new s.UnknownDataError(n)}}O.displayName="Item";const N={row:{height:"graaj7av",backgroundColor:"ihvf49ua"},disclaimer:{fontSize:"f8jlpxt4",color:"pm5hny62"},empty:{fontSize:"enbbiyaj",color:"eruf1vka"}};function I(){return v.default.createElement(c.FlexRow,{xstyle:[N.row,N.disclaimer,g.uiPadding.horiz15],align:"center",justify:"center"},v.default.createElement("span",null,b.fbt._("People who left or were removed in the last 60 days. {=m2}",[b.fbt._implicitParam("=m2",v.default.createElement(o.ExternalLink,{href:(0,i.getHowToExitAndDeleteGroupsFaq)()},b.fbt._("Learn More",null,{hk:"44tT41"})))],{hk:"gdXOy"})))}function T(){return v.default.createElement(v.default.Fragment,null,v.default.createElement(h.default,{header:b.fbt._("Past members",null,{hk:"1FVwkx"}),uppercase:!1}),v.default.createElement(c.FlexRow,{xstyle:[N.row,N.empty],align:"center",justify:"center"},v.default.createElement("span",null,(0,u.default)("No results found"))),v.default.createElement(I,null))}I.displayName="Disclaimer",T.displayName="Empty";var A=(0,v.forwardRef)(P);t.default=A},483447:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=a(n(306007)),r=n(496799),o=n(220584),i=n(873298),u=n(548360),s=a(n(667294));function c(e){const{onClick:t,spaced:n}=e,a=s.default.createElement(i.WDSTextTitle,{as:"span"},u.fbt._("Security",null,{hk:"2BYJDI"})),c=s.default.createElement(i.WDSTextMuted,null,u.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"})),d=s.default.createElement(r.LockIcon,{color:o.SvgColorProp.SECONDARY,height:20});return s.default.createElement(l.default,{icon:d,onClick:t,title:a,secondaryTitle:c,spaced:n})}c.displayName="SupportSecurityDrawerSection"},788271:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useShowPastParticipants=function(e){const t=(0,o.useOptionalModelValues)(e.groupMetadata,["participants","pastParticipants","groupType"]),n=null==t?void 0:t.pastParticipants;if(!(0,r.default)(n,["bulk_add","bulk_remove","reset"],(()=>Boolean(null==n?void 0:n.getValidRecords().length))))return!1;if((null==t?void 0:t.groupType)===l.GroupType.LINKED_ANNOUNCEMENT_GROUP)return Boolean(null==t?void 0:t.participants.iAmAdmin());return!0};var l=n(862159),r=a(n(524578)),o=n(655241)},883537:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var l=n(396574),r=a(n(936027)),o=a(n(674465)),i=n(782173),u=n(548360),s=a(n(667294)),c=n(655241);const d=e=>{e.stopPropagation()};function f(e){let{msg:t,url:n}=e;return s.default.createElement(i.AudioTag,{url:n,className:r.default.mediaViewerAudio,onClick:d,autoPlay:!0,msg:t,controls:!0,testId:"media-audio"},u.fbt._("Your browser doesn't support audio playback.",null,{hk:"hvWWG"}))}function p(){return s.default.createElement("div",{className:(0,l.classnamesConvertMeToStylexPlease)(r.default.imageAudio,r.default.mediaViewerPlaceholder),onClick:d})}function m(e){let{mediaData:t,msg:n}=e;const a=(0,c.useModelValues)(t,["mediaStage","renderableUrl"]);return s.default.createElement(o.default,{mediaData:a,placeholderRenderer:p},(e=>s.default.createElement(f,{url:e,msg:n})))}f.displayName="AudioTagWrapper",m.displayName="MediaAudio"},548290:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ie;var l=n(8304),r=n(702837),o=a(n(170206)),i=n(713105),u=n(63014),s=n(780549),c=n(385798),d=n(877171),f=n(103440),p=n(431037),m=a(n(804418)),h=n(23641),g=n(202298),E=n(900316),b=n(664149),v=n(675085),y=n(305521),C=a(n(395767)),w=n(821130),M=n(690495),k=n(477603),S=n(361483),_=n(163755),P=n(501532),O=n(23672),N=a(n(423359)),I=n(172259),T=n(69315),A=a(n(266466)),x=n(526795),D=n(459912),L=n(789955),R=n(97858),j=n(114850),B=n(939716),W=n(787742),F=n(722119),H=n(373070),G=n(905797),V=n(73225),U=n(722091),z=n(352740),q=n(774235),Y=n(632043),K=n(533494),Z=n(313384),X=n(400874),Q=n(474474),J=n(812065),$=a(n(313014)),ee=a(n(467201)),te=n(774401),ne=a(n(774396)),ae=n(923743),le=n(594149),re=n(1097),oe=n(708127),ie=n(383296),ue=n(453603),se=n(406404),ce=n(163139),de=n(392632),fe=a(n(37875)),pe=n(909882),me=n(332681),he=n(720895),ge=n(706215),Ee=n(982015),be=n(459192),ve=n(548360),ye=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_e(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),Ce=a(n(135179)),we=n(808446),Me=n(655241),ke=n(871210),Se=a(n(17533));function _e(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_e=function(e){return e?n:t})(e)}const Pe=n(76672).Mirrored(["MenuBar","Dropdown"]);function Oe(e){const t=(0,_.getChat)(e);t.composeQuotedMsg=e,d.ComposeBoxActions.focus(t)}function Ne(e){return ve.fbt._("Report {contact_name}",[ve.fbt._param("contact_name",e.displayName())],{hk:"3Dqyjo"})}function Ie(e){var t;const{msg:n,onHightlightCloseEnd:a,msgIndexInAlbum:l,onViewOnceInfoClick:r,onClose:i}=e,s=(0,ye.useRef)(null),[c,d,f,p,m,g,E,v,w,k,S,P,O,T,A,D]=(0,ke.useMsgValues)(e.msg.id,[W.getId,W.getStar,W.getIsGroupMsg,W.getType,W.getIsGif,W.getIsViewOnce,W.getSender,_.getSenderObj,W.getT,W.getIsSentByMe,W.getIsStickerMsg,W.getBroadcastId,_.getIsUnsentMedia,W.getIsKept,W.getMessageSecret,W.getIsCarouselCard]),R=(0,G.useWAWebLocalizedViewCount)(n.id),j=(0,_.getChat)(n),F=(0,Me.useModelValues)(e.mediaData,["filehash","mediaStage","renderableUrl"]),[H,U]=(0,ye.useState)(null),[z,q]=(0,ye.useState)(null),Y=(0,ye.useRef)(null),K=()=>{U(null)},Z=()=>{q(null)},J=(0,Se.default)((e=>{(0,Q.canReactToMessage)(e)&&q({dirY:b.DirY.BOTTOM,dirX:b.DirX.CENTER,type:b.MenuType.ReactionPicker,menu:ye.default.createElement(X.ReactionsPanel,{msgId:e.id.toString(),onSelection:t=>{(0,le.sendReactionToMsg)(e,t).catch((()=>{})),Z()}}),flipOnRTL:!0,anchor:Y.current})}));(0,we.useListener)(s.current,"animationend",(()=>{a()}));let $=n.displayName({showShortName:!0,withPushName:!0});f&&($+=" @ "+j.title());const ee=ye.default.createElement(be.XViewerIcon,{className_DONOTUSE:e.isHighlightClose?N.default.highlightClose:null,containerRef:s});let te;H?te=ye.default.createElement(de.UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:K},ye.default.createElement(fe.default,{contextMenu:H})):z&&(te=ye.default.createElement(de.UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Z},ye.default.createElement(fe.default,{contextMenu:z})));const ne=(0,V.isNewsletterViewCountEnabled)(null==j||null===(t=j.newsletterMetadata)||void 0===t?void 0:t.membershipType)&&null!=R?ye.default.createElement(M.FlexRow,{className:N.default.viewCount},u.Clock.relativeDateAndTimeStr(w),ye.default.createElement(L.MetaBullet,null),ye.default.createElement("span",null,R)):ye.default.createElement(ye.default.Fragment,null,u.Clock.relativeDateAndTimeStr(w));return ye.default.createElement("div",{className:N.default.mediaPanelHeader},ye.default.createElement("div",{className:N.default.info},ye.default.createElement(o.default,{idle:!0,image:ye.default.createElement(h.DetailImage,{id:E,size:40}),primary:ye.default.createElement(y.EmojiText,{ellipsify:!0,text:$}),secondary:ne,theme:"media"})),ye.default.createElement("div",{className:N.default.mediaPanelTools},ye.default.createElement(x.MenuBar,{key:"media-panel-header",theme:"strong"},ye.default.createElement(ze,{isMediaDownloadable:()=>!g&&(!!(0,B.canDownloadMsg)(n)&&(!!F.renderableUrl||F.mediaStage===I.MediaDataStage.RESOLVED)),msg:n,msgIndexInAlbum:l,onClose:i,onViewOnceInfoClick:r,openReactionTray:()=>{if(!(0,Q.canReactToMessage)(n))return;const e={dirY:b.DirY.BOTTOM,dirX:b.DirX.CENTER,type:b.MenuType.ReactionSendTray,menu:ye.default.createElement(oe.SendReactionsTrayContainer,{msg:n,selectedCallback:e=>{e!==re.MORE_REACTIONS?(0,le.sendReactionToMsg)(n,e).catch((()=>{})):self.setTimeout((()=>{J(n)}),150),K()}}),flipOnRTL:!1,anchor:Y.current};U(e)},sendReactionButtonRef:Y}),ye.default.createElement(x.MenuBarItem,{testid:"btn-close",icon:ee,title:(0,C.default)("Close"),onClick:e.onClose}))),te)}function Te(e){let{isMediaDownloadable:t,msg:n,onClose:a,openReactionTray:l,sendReactionButtonRef:r}=e;return ye.default.createElement(ye.default.Fragment,null,(0,F.canReplyMsg)(n)?ye.default.createElement(De,{msg:n,onClose:a}):null,(0,B.canStarMsg)(n)?ye.default.createElement(We,{msg:n}):null,n.canShowKeepOrUnkeepOption()?ye.default.createElement(Be,{msg:n}):null,(0,B.canPinMsg)(n)?ye.default.createElement(Fe,{msg:n}):null,(0,Q.canReactToMessage)(n)?ye.default.createElement(je,{msg:n,openReactionTray:l,sendReactionButtonRef:r}):null,ye.default.createElement(Le,{msg:n,onClose:a}),(0,B.canForwardMsg)(n)?ye.default.createElement(He,{msg:n}):null,ye.default.createElement(qe,{isMediaDownloadable:t,isAlbumMedia:!0,msg:n,onClose:a}))}function Ae(e){let{isMediaDownloadable:t,msg:n,onClose:a,openReactionTray:l,sendReactionButtonRef:r}=e;return ye.default.createElement(ye.default.Fragment,null,(0,W.getIsStickerMsg)(n)||(0,W.getIsCarouselCard)(n)?null:ye.default.createElement(xe,{msg:n,type:Pe.MenuBar,onClose:a}),!(0,W.getIsStickerMsg)(n)||(0,W.getIsCarouselCard)(n)||(0,W.getIsNewsletterMsg)(n)?null:ye.default.createElement(De,{msg:n,onClose:a}),(0,B.canStarMsg)(n)?ye.default.createElement(We,{msg:n}):null,(0,B.canPinMsg)(n)?ye.default.createElement(Fe,{msg:n}):null,n.canShowKeepOrUnkeepOption()?ye.default.createElement(Be,{msg:n}):null,(0,W.getIsStickerMsg)(n)?ye.default.createElement(Le,{msg:n,onClose:a}):null,(0,Q.canReactToMessage)(n)?ye.default.createElement(je,{msg:n,openReactionTray:l,sendReactionButtonRef:r}):null,(0,B.canForwardMsg)(n)?ye.default.createElement(He,{msg:n}):null,(0,W.getIsStickerMsg)(n)?null:ye.default.createElement(Re,{isMediaDownloadable:t,msg:n,type:Pe.MenuBar}),(0,B.canReportMsg)(n)&&(0,R.messageLevelReportingEnabled)()?ye.default.createElement(qe,{isMediaDownloadable:t,isAlbumMedia:!1,msg:n,onClose:a}):null)}function xe(e){let{msg:t,onClose:n,type:a}=e;const l=e=>{e.stopPropagation(),n(),E.DrawerManager.existsDrawerRight((e=>{e&&2===c.Column.column&&E.DrawerManager.closeDrawerRight()}));const a=(0,i.getSearchContext)((0,_.getChat)(t),(0,ce.unproxy)(t));s.Cmd.openChatAt((0,_.getChat)(t),a).then((e=>{e&&d.ComposeBoxActions.focus((0,_.getChat)(t))}))};return a===Pe.Dropdown?ye.default.createElement(v.DropdownItem,{action:l},ve.fbt._("Go to message",null,{hk:"B1anG"})):ye.default.createElement(x.MenuBarItem,{icon:ye.default.createElement(r.BubbleIcon,null),title:ve.fbt._("Go to message",null,{hk:"B1anG"}),onClick:l})}function De(e){let{msg:t,onClose:n}=e;return ye.default.createElement(x.MenuBarItem,{icon:ye.default.createElement(J.ReplyIcon,null),title:ve.fbt._("Reply",null,{hk:"1C7DPa"}),onClick:()=>{n(),(0,l.delayMs)(T.CLOSE_ANIMATION_DURATION).then(Oe.bind(null,(0,ce.unproxy)(t)))}})}function Le(e){let{msg:t,onClose:n}=e;return ye.default.createElement(x.MenuBarItem,{icon:ye.default.createElement(p.DeleteIcon,null),title:ve.fbt._("Delete",null,{hk:"2KhPUX"}),onClick:()=>{j.ModalManager.open(ye.default.createElement(m.default,{chat:(0,_.getChat)(t),msgList:[(0,ce.unproxy)(t)],onDelete:n})),te.UiRevokeActionHelper.startSession(),te.UiRevokeActionHelper.messageSelected()}})}function Re(e){let{isMediaDownloadable:t,msg:n,type:a}=e;const l=e=>{e.stopPropagation(),w.FileSaver.initDownload((0,ce.unproxy)(n))};return t()?a===Pe.Dropdown?ye.default.createElement(v.DropdownItem,{action:l,disabled:!t()},ve.fbt._("Download",null,{hk:"1g5Jix"})):ye.default.createElement(x.MenuBarItem,{icon:ye.default.createElement(g.DownloadIcon,null),title:ve.fbt._("Download",null,{hk:"1g5Jix"}),disabled:!t(),onClick:l}):null}function je(e){let{msg:t,openReactionTray:n,sendReactionButtonRef:a}=e;return t.type===H.MSG_TYPE.STICKER?null:ye.default.createElement(x.MenuBarItem,{testid:"reaction-entry-point",icon:ye.default.createElement(Z.ReactionsMediaIcon,{containerRef:a,width:20}),title:ve.fbt._("React",null,{hk:"1mI4Nl"}),onClick:()=>{n()}})}function Be(e){let t,n,a,{msg:l}=e;const r=e=>{e.stopPropagation(),(0,P.runKeepInChatUX)((0,ce.unproxy)(l),Ee.KIC_ENTRY_POINT_TYPE.MEDIA)},o=e=>{e.stopPropagation(),(0,P.runUndoKeepInChatUX)((0,ce.unproxy)(l),Ee.KIC_ENTRY_POINT_TYPE.MEDIA)};if((0,W.getIsKept)(l)&&l.canShowUnkeepOption())t=ye.default.createElement(pe.UndoKeepInChatMediaIcon,null),n=o,a=ve.fbt._("Unkeep",null,{hk:"1eGZng"});else{if((0,W.getIsKept)(l)||!l.canShowKeepOption())return null;t=ye.default.createElement(O.KeepInChatMediaIcon,null),n=r,a=ve.fbt._("Keep",null,{hk:"1a48ae"})}return ye.default.createElement(x.MenuBarItem,{key:t,icon:t,title:a,onClick:n})}function We(e){let t,n,a,{msg:l}=e;return l.star?(t=e=>{e.stopPropagation(),s.Cmd.sendUnstarMsgs((0,_.getChat)(l),[(0,ce.unproxy)(l)])},n=ye.default.createElement(he.UnstarBtnIcon,null),a=ve.fbt._({"*":"Unstar messages",_1:"Unstar message"},[ve.fbt._plural(1)],{hk:"2BbE65"})):(t=e=>{e.stopPropagation(),s.Cmd.sendStarMsgs((0,_.getChat)(l),[(0,ce.unproxy)(l)])},n=ye.default.createElement(se.StarBtnIcon,null),a=ve.fbt._({"*":"Star",_1:"Star"},[ve.fbt._plural(1)],{hk:"1ljru3"})),ye.default.createElement(x.MenuBarItem,{key:a,icon:n,title:a,onClick:t})}function Fe(e){let t,n,a,{msg:l}=e;const r=(0,Ce.default)(l.id),o=(0,_.getChat)(l);return r?(t=e=>{e.stopPropagation();const t=U.PinInChatCollection.getByParentMsgKey(l.id);new Y.PinnedMessagesUserJourneyLogger(o).messageMenuClickUnpin(l,t),(0,ae.sendPinInChatMsg)(l,K.Message$PinInChatMessage$Type.UNPIN_FOR_ALL).catch((e=>{__LOG__(4,void 0,new Error)`Error while unpinning a message: ${e}`}))},n=ye.default.createElement(me.UnpinnedIcon,null),a=ve.fbt._("Unpin",null,{hk:"3oWx14"})):(t=e=>{e.stopPropagation();const t=new Y.PinnedMessagesUserJourneyLogger(o);t.messageMenuClickPin(l),j.ModalManager.open(ye.default.createElement(z.PinMessageModal,{msg:l,logger:t}))},n=ye.default.createElement(q.Pinned3Icon,null),a=ve.fbt._("Pin",null,{hk:"23jUX3"})),ye.default.createElement(x.MenuBarItem,{key:a,icon:n,title:a,onClick:t})}function He(e){let{msg:t}=e;return ye.default.createElement(x.MenuBarItem,{icon:ye.default.createElement(k.ForwardIcon,null),title:ve.fbt._("Forward",null,{hk:"2T1QOm"}),onClick:e=>{e.stopPropagation(),(0,_.getIsUnsentMedia)(t)?j.ModalManager.open(ye.default.createElement(f.ConfirmPopup,{title:ve.fbt._("Can't Forward",null,{hk:"3fgR0v"}),onOK:()=>j.ModalManager.close(),okText:(0,C.default)("OK")},ve.fbt._({"*":"Wait until the messages finish sending and displays a checkmark before forwarding.",_1:"Wait until the message finishes sending and displays a checkmark before forwarding."},[ve.fbt._plural(1)],{hk:"Q1oiD"}))):j.ModalManager.open(ye.default.createElement(S.ForwardMessageModalLoadable,{msgs:[(0,ce.unproxy)(t)],onClose:()=>j.ModalManager.close()}),{transition:"modal-flow"})}})}function Ge(e){let{msg:t}=e;return ye.default.createElement(v.DropdownItem,{testid:"mi-msg-reply",action:()=>{(0,$.default)(t)}},ve.fbt._("Reply privately",null,{hk:"1XQeK2"}))}function Ve(e){let{msg:t}=e;const n=e=>{e?(0,ie.sendMessageReportBlock)(t,ue.SpamFlow.MediaViewer):(0,ie.sendMessageReport)(t,ue.SpamFlow.MediaViewer),j.ModalManager.close()};return ye.default.createElement(v.DropdownItem,{action:()=>{var e,a;j.ModalManager.open(ye.default.createElement(A.default,{isBusiness:t.senderObj.isBusiness,isGroup:(0,_.getChat)(t).isGroup,isBizBot3p:null!==(e=null===(a=(0,_.getChat)(t).contact.businessProfile)||void 0===a?void 0:a.isBizBot3p)&&void 0!==e&&e,onReport:n,onCancel:()=>j.ModalManager.close(),title:Ne(t)}))}},Ne(t))}function Ue(e){let{msg:t,onClose:n}=e;return ye.default.createElement(v.DropdownItem,{action:()=>{n(),(0,l.delayMs)(T.CLOSE_ANIMATION_DURATION+250).then(s.Cmd.msgInfoDrawer.bind(s.Cmd,(0,ce.unproxy)(t)))}},ve.fbt._("Message info",null,{hk:"2h2aKZ"}))}function ze(e){let{isMediaDownloadable:t,msg:n,msgIndexInAlbum:a,onClose:l,onViewOnceInfoClick:r,openReactionTray:o,sendReactionButtonRef:i}=e;return n.isViewOnce?ye.default.createElement(Ye,{isMediaDownloadable:t,msg:n,onClose:l,onViewOnceInfoClick:r}):a>=0?ye.default.createElement(Te,{isMediaDownloadable:t,msg:n,onClose:l,openReactionTray:o,sendReactionButtonRef:i}):ye.default.createElement(Ae,{isMediaDownloadable:t,msg:n,onClose:l,openReactionTray:o,sendReactionButtonRef:i})}function qe(e){let{isAlbumMedia:t,isMediaDownloadable:n,msg:a,onClose:l}=e;const r=[],o=(0,_.getChat)(a);((0,F.canPrivateReply)(a)||(0,F.canPrivateReplyInRestrictedGrp)(a))&&r.push(ye.default.createElement(Ge,{key:"private_reply",msg:a})),t&&((0,W.getIsSentByMe)(a)&&r.push(ye.default.createElement(Ue,{key:"dropdownMsgInfo",msg:a,onClose:l})),r.push(ye.default.createElement(xe,{key:"dropdownGoToMsg",msg:a,type:Pe.Dropdown,onClose:l}),ye.default.createElement(Re,{key:"dropdownDownload",isMediaDownloadable:n,msg:a,type:Pe.Dropdown})));const i=!o.isNewsletter&&(a.isViewOnce||(0,B.canReportMsg)(a)&&(0,R.messageLevelReportingEnabled)());return o.isNewsletter&&(0,B.canReportMsg)(a)&&(0,V.isNewsletterReportingEnabled)()?r.push(ye.default.createElement(ee.default,{key:"reportSpam",msg:a})):i&&r.push(ye.default.createElement(Ve,{key:"reportSpam",msg:a})),(0,B.canReportToAdmin)(a)&&r.push(ye.default.createElement(ne.default,{key:"report_to_admin",msg:a})),ye.default.createElement(x.MenuBarItem,{icon:ye.default.createElement(D.MenuIcon,null),title:ve.fbt._("Menu",null,{hk:"H0fkV"})},ye.default.createElement(b.Dropdown,{type:b.MenuType.DropdownMenu,flipOnRTL:!0,dirX:b.DirX.LEFT},r))}function Ye(e){let{isMediaDownloadable:t,msg:n,onClose:a,onViewOnceInfoClick:l}=e;return ye.default.createElement(ye.default.Fragment,null,ye.default.createElement(x.MenuBarItem,{icon:ye.default.createElement(ge.ViewOnceIcon,{className_DONOTUSE:N.default.voIcon}),title:ve.fbt._("View once info",null,{hk:"47XkZ4"}),onClick:l}),ye.default.createElement(qe,{isMediaDownloadable:t,isAlbumMedia:!1,msg:n,onClose:a}))}Ie.displayName="MediaPanelHeader",Te.displayName="AlbumMediaMenuBtns",Ae.displayName="NonAlbumMediaMenuBtns",xe.displayName="GoToButton",De.displayName="ReplyButton",Le.displayName="DeleteButton",Re.displayName="DownloadButton",je.displayName="SendReactionButton",Be.displayName="KeepInChatButton",We.displayName="StarButton",Fe.displayName="PinButton",He.displayName="ForwardButton",Ge.displayName="PrivateReplyButton",Ve.displayName="ReportSpamButton",Ue.displayName="MsgInfoButton",ze.displayName="MenuBtns",qe.displayName="DropdownButton",Ye.displayName="ViewOnceMediaMenuBtns"},777361:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(371125)),r=n(690495),o=a(n(488922)),i=a(n(947733)),u=n(104280),s=a(n(674465)),c=a(n(996513)),d=a(n(708126)),f=a(n(358533)),p=n(751460),m=n(438543),h=a(n(529727)),g=n(164832),E=n(792566),b=n(885313),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),y=a(n(156720)),C=a(n(38085)),w=n(655241);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const k={container:{width:"ln8gz9je",height:"ppled2lx"},stickerContainer:{maxWidth:"mx6rw3sv",maxHeight:"trnfqnf9",marginBottom:"r2u2pyhj",zIndex:"thghmljt"}},S=(e,t)=>{const{msg:n}=e,a=(0,w.useModelValues)(e.mediaData,["encFilehash","directPath","filehash","mediaKey","mediaKeyTimestamp","mediaStage","mimetype","fullWidth","fullHeight","isFirstParty","isAvatar","stickerPackId","stickerPackName","stickerPackPublisher","extractedLottieSticker"]),M=(0,v.useRef)(null),S=(0,C.default)(t,M),_=e=>{var t;null===(t=M.current)||void 0===t||t.onClick(e)},P=()=>n?n.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:b.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!1}):Promise.resolve(),O=f.default.getActive(),N=(0,p.iAmAdminOrOwner)(null==O?void 0:O.newsletterMetadata),I=a.isFirstParty?v.default.createElement(l.default,{stickerPackId:a.stickerPackId,onStickerPackView:e.onStickerPackView,stickerPackViewDelay:e.stickerPackViewDelay,showViewPackButton:null!=O?!0!==a.isAvatar&&N:!0!==a.isAvatar,sticker:new g.StickerModel({id:a.filehash,mimetype:a.mimetype,width:a.fullWidth,height:a.fullHeight,filehash:a.filehash,encFilehash:a.encFilehash,directPath:a.directPath,mediaKey:a.mediaKey,mediaKeyTimestamp:a.mediaKeyTimestamp})}):v.default.createElement(m.StickerDetailsStickerPackInfo,{name:a.stickerPackName,publisher:a.stickerPackPublisher,theme:m.Theme.MediaViewer,sticker:new g.StickerModel({id:a.filehash,mimetype:a.mimetype,width:a.fullWidth,height:a.fullHeight,filehash:a.filehash,encFilehash:a.encFilehash,directPath:a.directPath,mediaKey:a.mediaKey,mediaKeyTimestamp:a.mediaKeyTimestamp})});let T=v.default.createElement(s.default,{mediaData:a,placeholderRenderer:()=>v.default.createElement(h.default,{size:376}),downloadMedia:P},(t=>v.default.createElement(o.default,{className:(0,y.default)(c.default.content),onClick:_,src:t,onLoad:e.onLoad})));return(0,E.getStickerFileType)(a.mimetype)===E.StickerFileType.LOTTIE&&(T=(0,u.isLottieStickerReceivingEnabled)()?v.default.createElement(i.default,{className:"",mediaData:a,startAnimation:!0,onClick:_,placeholderRenderer:()=>null,downloadMedia:P}):v.default.createElement(h.default,{size:376})),v.default.createElement(r.FlexColumn,{align:"center",justify:"center",xstyle:k.container},v.default.createElement("div",{className:(0,y.default)(k.container,k.stickerContainer)},v.default.createElement(d.default,{ref:S,width:a.fullWidth,height:a.fullHeight,onZoomIn:e.onImgZoomIn,msg:n},T)),I)};var _=(0,v.forwardRef)(S);t.default=_},177046:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(190643)),r=n(980518),o=a(n(66985)),i=a(n(49677)),u=n(845582),s=n(172259),c=a(n(996513)),d=n(787742),f=a(n(821384)),p=n(728),m=n(31900),h=n(277037),g=n(541345),E=n(474474),b=a(n(439114)),v=n(885313),y=n(548360),C=n(113189),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),M=a(n(156720)),k=n(655241);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function _(e,t){var n;const{autoPlay:a,msg:S,onLoad:_,onClose:P,onLoadedData:N,startTime:I=0}=e,T=(0,k.useModelValues)(e.mediaData,["mediaStage","fullWidth","fullHeight","isGif","isViewOnce","preview","renderableUrl","streamable"]),[A,x]=(0,w.useState)(!1),[D,L]=(0,w.useState)(!0),R=(0,w.useRef)(),j=(0,w.useMemo)((()=>(T.mediaStage===s.MediaDataStage.RESOLVED||T.streamable&&T.isStreamable())&&(0,C.isNonZeroNumber)(T.fullWidth)&&(0,C.isNonZeroNumber)(T.fullHeight)?function(e){if(e.isGif){const t=330;return e.fullWidth>=t?{width:e.fullWidth,height:e.fullHeight}:{width:t,height:e.fullHeight*t/e.fullWidth}}if(e.fullWidth>=m.MIN_WIDTH)return{width:e.fullWidth,height:e.fullHeight};return{width:m.MIN_WIDTH,height:e.fullHeight}}(T):{width:0,height:0}),[T]);(0,w.useEffect)((()=>{if(!T.isStreamable())return S.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:v.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0}),()=>{S.mediaObject&&S.cancelDownload()}}),[]);const B=e=>{x(e)};(0,w.useImperativeHandle)(t,(()=>({getContainerElement:()=>R.current,closingMedia(){L(!1)}})));const W=T.isGif;let F=T.mediaStage===s.MediaDataStage.RESOLVED||T.streamable&&T.isStreamable();F=F||S.isForcingRMR();let H=null;const G=(0,u.getDisplayType)(S),V=r.AddOnBubbleType.MEDIA_VIEWER;if(S&&(0,E.shouldShowReactionBubble)(S,V)&&(H=w.default.createElement(l.default,{isOutgoingMsg:(0,d.getIsSentByMe)(S),displayType:G,bubbleType:V},w.default.createElement(g.ReactionBubbleContainer,{msgIds:[S.id.toString()],isOutgoingMsg:(0,d.getIsSentByMe)(S),displayType:G,reactionBubbleType:V,reactionBubbleVisible:D}))),F){const e=y.fbt._("Your browser doesn't support video playback.",null,{hk:"2nHZKq"});let t,n;return!A&&(null==S?void 0:S.interactiveAnnotations)&&S.interactiveAnnotations.length>0&&(t=w.default.createElement(o.default,{annotations:S.interactiveAnnotations})),n=W?w.default.createElement("div",{className:(0,M.default)(c.default.content),ref:R},w.default.createElement(b.default,{src:T.renderableUrl,onClick:O,autoPlay:!0,loop:!0,onLoadedData:N},e),t):w.default.createElement("div",{ref:R,className:(0,M.default)(c.default.content),onClick:O},w.default.createElement(h.WrappedMsgVideoPlayer,{msg:S,mediaData:T,startTime:I,onClose:P,onError:()=>{},onFullscreenToggle:B,autoPlay:a,type:p.PlayerType.MEDIA_VIEWER,overlays:t,noPip:S.isViewOnce,onLoadedData:N})),w.default.createElement(f.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:j,onObjectLoad:_},n,H)}return w.default.createElement(f.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:{width:T.fullWidth,height:T.fullHeight}},w.default.createElement(i.default,{altText:null!==(n=S.caption)&&void 0!==n?n:"",mediaData:T}),H)}var P=(0,w.forwardRef)(_);function O(e){e.stopPropagation()}t.default=P},933147:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,onImageLoad:n,isAnimatingThumbs:a,onImgZoomIn:r,onExitAnimation:N,onBack:G}=e,[V,z,Y,K,Z,X,Q,J,$,ee]=(0,W.useMsgValues)(e.msg.id,[S.getId,S.getStar,c.getIsUnsentMedia,S.getIsViewOnce,S.getIsStickerMsg,S.getHasThumbList,S.getCaption,S.getInteractiveAnnotations,S.getType,S.getMessageSecret]),te=(0,c.getChat)(t),ne=(0,B.useModelValues)(e.mediaData,["mediaStage","type","isGif"]),ae=(0,j.useRef)(null),le=(0,j.useRef)(null),re=(0,j.useRef)(null),oe=(0,j.useRef)(null),ie=(0,j.useRef)(),ue=(0,j.useRef)(!1),se=(0,j.useRef)(!1),ce=(0,j.useRef)(!1),[de,fe]=(0,F.default)(O.NUX.EPHEMERAL_VIEW_ONCE_RECEIVER),pe=K&&de,[me]=(0,j.useState)((()=>ne.mediaStage===y.MediaDataStage.RESOLVED&&e.getZoomNode?e.getZoomNode(V):null)),[he,ge]=(0,j.useState)(!1),[Ee,be]=(0,j.useState)(!1),ve=[h.default.TYPE.IMAGE,h.default.TYPE.STICKER].includes(ne.type),[ye,Ce]=(0,j.useState)(ve),[we,Me]=(0,j.useState)(!e.isAnimatingThumbs&&!ye),[ke,Se]=(0,j.useState)(!1),[_e,Pe]=(0,j.useState)(!1),Oe=()=>{const e=j.default.createElement(L.default,{isPhoto:ne.type===h.default.TYPE.IMAGE,onOkClick:()=>{fe(),k.ModalManager.close()}});k.ModalManager.open(e)},Ne=(0,H.default)(((e,t)=>{if(Ee)return;const n=ae.current;if(!n)return;const a=n.getInsideContainer();if(!(a&&a instanceof HTMLElement))return;const l=n.getOutsideContainer();if(!(l&&l instanceof HTMLElement))return;const{translateX:r,translateY:o}=n.getTranslatePosition(l,e,t);(0,D.default)(a,"stop"),(0,D.default)(a,{translateX:r,translateY:o,scale:C.ZOOM_IN_FACTOR},{duration:0})}));(0,j.useEffect)((()=>(__LOG__(2)`MediaViewerModal: Opened`,pe&&Oe(),u.default.focus(oe.current),()=>{__LOG__(2)`MediaViewerModal: Closed`,Ne.cancel()})),[]);const Ie=()=>{K&&(0,p.canMarkPlayed)(t)&&(0,p.markPlayed)(t)},Te=e=>{Ie(),n&&n();const t=me,a=e.target;t&&a&&a instanceof HTMLElement&&(ce.current||(ce.current=!0,((e,t)=>{var n;const a=t.getBoundingClientRect(),l=e.getBoundingClientRect();let r=l.top-a.top,o=l.left-a.left;const i=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,o-=(t.clientWidth-e.clientWidth)/2,(0,D.default)(t,{opacity:[1,0],translateX:[0,o],translateY:[0,r],scale:[1,i]},{duration:C.ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then((()=>Ce(!1)));const u=null===(n=re.current)||void 0===n?void 0:n.getElement();u&&(0,D.default)(u,{opacity:[1,0]},{duration:C.ANIMATION_DURATION})})(t,a)))},Ae=()=>{var t;if(ue.current)return;ue.current=!0,(0,l.isFunction)(N)&&N();const n=e.getZoomNode&&e.getZoomNode(V);if(!n)return G();let a;var r;if(ve&&ae.current)a=ae.current.getInsideContainer(),null===(r=ae.current)||void 0===r||r.closingMediaZoomable();else if(ne.isGif&&le.current){var o;a=le.current.getContainerElement(),null===(o=le.current)||void 0===o||o.closingMedia()}if(!a)return G();const i=a,u=a.getBoundingClientRect(),s=n.getBoundingClientRect();let c=s.top-u.top,d=s.left-u.left;const f=n.clientWidth/i.clientWidth;c-=(i.clientHeight-n.clientHeight)/2,d-=(i.clientWidth-n.clientWidth)/2,(0,D.default)(a,{translateX:[d,0],translateY:[c,0],scale:[f,1]},{duration:C.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then((()=>{G()}));const p=null===(t=re.current)||void 0===t?void 0:t.getElement();p&&(0,D.default)(p,{opacity:[0,1]},{duration:C.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]})},xe=e=>{const t=ae.current;e&&t&&(se.current=t.getHeightOverflow()>0||t.getWidthOverflow()>0),ge(e),r(e)},De=e=>{var t;const n=null===(t=ae.current)||void 0===t?void 0:t.getInsideContainer(),l=Boolean(null==n?void 0:n.contains(document.activeElement));if(a||ye||!l)return;Ne.cancel();const r=ae.current;null!=r&&r.onKeyboardZoom(e)},Le=()=>{Pe(!0)},Re=()=>{be(!0)},je=()=>{be(!1)},Be=e=>{e.stopPropagation(),Se(!ke)};let We,Fe;switch((0,j.useEffect)((()=>{we||a||ye||Me(!0)}),[a,we,ye]),(0,T.useTsNavigation)({surface:"media-viewer"}),ne.type){case h.default.TYPE.IMAGE:We=j.default.createElement(g.default,{key:V.toString(),msg:t,mediaData:ne,onLoad:Te,onImgZoomIn:xe,onAnnotationTooltipDisplay:Re,onAnnotationTooltipDismiss:je,preventDownload:K,ref:ae});break;case h.default.TYPE.STICKER:We=j.default.createElement(v.default,{key:V.toString(),msg:t,mediaData:ne,onLoad:Te,onImgZoomIn:xe,onStickerPackView:Ae,stickerPackViewDelay:C.CLOSE_ANIMATION_DURATION,ref:ae});break;case h.default.TYPE.VIDEO:We=j.default.createElement(w.default,{key:V.toString(),autoPlay:!pe,msg:t,mediaData:ne,onLoadedData:ne.isGif?Te:Ie,startTime:e.startTime,onClose:Ae,ref:le});break;case h.default.TYPE.AUDIO:We=j.default.createElement(m.default,{mediaData:ne,key:V.toString(),msg:t});break;default:__LOG__(4,void 0,new Error,!0)`type: ${ne.type}`,SEND_LOGS("MediaViewerModal: unexpected media type")}const He=e.msgIndexInAlbum>=0&&e.albumSize>=0;if(Q||He){let n;He&&(n=R.fbt._("{number} of {totalNumber}",[R.fbt._param("number",e.msgIndexInAlbum+1),R.fbt._param("totalNumber",e.albumSize)],{hk:"1hO6rM"}));const a=s.Conversation({mentions:t.mentionMap(),groupMentions:t.groupMentionMap(),phoneNumbers:(0,P.getPhoneNumbersFromMsg)(t),links:(0,_.getLinksFromMsg)(t),trusted:!0,fromMe:V.fromMe,fromChatWid:V.remote,parseLists:!0,parseQuotes:!0,parseInlineCode:!0}),l=ne.type===h.default.TYPE.IMAGE&&!K,r=!we&&(ne.isGif||l);Fe=j.default.createElement(j.default.Fragment,null,j.default.createElement("p",{className:(0,o.classnamesConvertMeToStylexPlease)({[M.default.captionWrapperExpandable]:!0===ie.current,[M.default.captionWrapper]:!0}),onClick:ie.current?Be:void 0,title:ie.current?R.fbt._("Read more",null,{hk:"2DvSvh"}):void 0,"aria-hidden":ke||void 0},j.default.createElement(i.EmojiText,{className:(0,o.classnamesConvertMeToStylexPlease)({[M.default.captionHidden]:r,[M.default.expanded]:ke,[M.default.mediaCaption]:!0}),formatters:a,ref:e=>{re.current=e},text:Q||n}),ie.current&&j.default.createElement(x.default,{xstyle:[U.captionReadMoreBtn,ke&&U.captionReadMoreBtnExpanded,he&&U.captionReadMoreBtnZoomed],onClick:Be},j.default.createElement(I.TextSpan,null,R.fbt._("Read more",null,{hk:"2DvSvh"})))),ke&&j.default.createElement("p",{className:(0,o.classnamesConvertMeToStylexPlease)(M.default.captionWrapper,M.default.captionWrapperExpandable,M.default.captionExpanded),onClick:Be},j.default.createElement(i.EmojiText,{className:(0,o.classnamesConvertMeToStylexPlease)(M.default.mediaCaption,M.default.mediaCaptionExpanded),formatters:a,text:Q})))}const Ge=(0,o.classnamesConvertMeToStylexPlease)({[M.default.mediaWithCaption]:!!Fe,[M.default.media]:!0}),Ve=(0,o.classnamesConvertMeToStylexPlease)({[M.default.noThumbnails]:!X,[M.default.mediaViewerAnimate]:ye||a,[M.default.cursorZoomOut]:he,overlay:!0,[M.default.mediaViewer]:!0}),Ue=he&&se.current?e=>{Ne(e.pageX,e.pageY)}:null,ze=he?e=>{Ne.cancel();const t=ae.current;t&&he&&t.onClick(e)}:null;let qe=he?null:Ae;null!=qe&&K&&(qe=Le);return j.default.createElement(A.UIE,{displayName:"MediaViewer",escapable:!0,requestDismiss:Ae},j.default.createElement(f.HotKeys,{handlers:{space:De,enter:De},ref:oe},j.default.createElement("div",{className:Ve,"data-animate-media-viewer":!0,onClick:ze,onMouseMove:Ue},j.default.createElement(E.default,{isHighlightClose:_e,msg:t,mediaData:ne,onClose:Ae,onHightlightCloseEnd:()=>{Pe(!1)},onViewOnceInfoClick:()=>{Oe()},msgIndexInAlbum:e.msgIndexInAlbum}),j.default.createElement("div",{className:(0,o.classnamesConvertMeToStylexPlease)({[M.default.sticker]:Z,[M.default.mediaContent]:!0}),onClick:qe},j.default.createElement(q,{hasNavigationButtons:X,onNext:e.onNext,onPrev:e.onPrev,imgZoomed:he},j.default.createElement("div",{className:Ge},j.default.createElement(b.default,{msg:t,mediaData:ne}),We,j.default.createElement(d.default.Provider,{value:te.groupMetadata},Fe)))))))};var l=n(724976),r=n(305989),o=n(396574),i=n(305521),u=a(n(335540)),s=V(n(675886)),c=n(163755),d=a(n(462824)),f=n(81644),p=n(711735),m=a(n(883537)),h=a(n(116253)),g=a(n(142958)),E=a(n(548290)),b=a(n(36886)),v=a(n(777361)),y=n(172259),C=n(69315),w=a(n(177046)),M=a(n(192639)),k=n(114850),S=n(787742),_=n(44118),P=n(527530),O=n(156176),N=n(435595),I=n(24592),T=n(717089),A=n(392632),x=a(n(625903)),D=a(n(330619)),L=a(n(25683)),R=n(548360),j=V(n(667294)),B=(a(n(156720)),n(655241)),W=n(871210),F=a(n(157558)),H=a(n(286481));function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const U={captionReadMoreBtn:{position:"lhggkp7q",end:"h223g3sc",bottom:"jxacihee",paddingTop:"ppypbuwx",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"nu34rnf1",backgroundColor:"idmi9oma",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",boxShadow:"a95fzlb5"},captionReadMoreBtnExpanded:{visibility:"kojwoqec"},captionReadMoreBtnZoomed:{visibility:"kqpkm0zi",opacity:"lxctpz5v"}};function z(e){null==e||e.stopPropagation()}function q(e){var t,n,a,l;return j.default.createElement(j.default.Fragment,null,e.hasNavigationButtons&&j.default.createElement("div",{className:(0,o.classnamesConvertMeToStylexPlease)(M.default.btnMediaPrev)},j.default.createElement("div",{onClick:e.onPrev?null:z},j.default.createElement(r.ChevronButton,{type:r.ButtonType.Prev,onClick:null!==(t=e.onPrev)&&void 0!==t?t:void 0,onKeyDown:null!==(n=e.onPrev)&&void 0!==n?n:void 0,disabled:!e.onPrev||e.imgZoomed,theme:N.RoundTheme.Default}))),e.children,e.hasNavigationButtons&&j.default.createElement("div",{className:(0,o.classnamesConvertMeToStylexPlease)(M.default.btnMediaNext)},j.default.createElement("div",{onClick:e.onPrev?null:z},j.default.createElement(r.ChevronButton,{type:r.ButtonType.Next,onClick:null!==(a=e.onNext)&&void 0!==a?a:void 0,onKeyDown:null!==(l=e.onNext)&&void 0!==l?l:void 0,disabled:!e.onNext||e.imgZoomed,theme:N.RoundTheme.Default}))))}},467201:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var l=n(675085),r=n(163755),o=n(114850),i=a(n(207511)),u=n(453603),s=n(548360),c=a(n(667294));function d(e){const{msg:t}=e,n=(0,r.getChat)(t);return c.default.createElement(l.DropdownItem,{action:()=>{o.ModalManager.open(c.default.createElement(i.default,{chat:n,msg:t,spamFlow:u.SpamFlow.MediaViewer}))}},s.fbt._("Report",null,{hk:"GPSDP"}))}d.displayName="WAWebReportNewsletterPostSpamButton"},774396:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var l=n(675085),r=n(163755),o=n(114850),i=n(554800),u=a(n(286391)),s=n(328340),c=n(548360),d=a(n(667294));function f(e){const{msg:t}=e;return d.default.createElement(l.DropdownItem,{action:()=>{(0,i.logRTAReportingEvent)({reportToAdminInteraction:s.REPORT_TO_ADMIN_INTERACTION.CLICK_SEND_FOR_ADMIN_REVIEW,groupId:(0,r.getChat)(t).id.user}),o.ModalManager.open(d.default.createElement(u.default,{msg:t}))}},c.fbt._("Send for admin review",null,{hk:"4ouSa6"}))}f.displayName="WAWebSendForAdminReviewButton"},266648:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var l=a(n(621733)),r=a(n(335540)),o=n(125922),i=n(787742),u=n(956113),s=a(n(572028)),c=n(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(667294)),f=a(n(49710)),p=a(n(286481));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=d.default.forwardRef(g);function g(e,t){let{activeMsg:n,highlightedMsgIds:a,mediaMsgs:l,msgIdToPreferPreview:c,onSelectThumb:f,onSetActiveThumb:p}=e;const m=(0,d.useRef)({}),h=()=>{const e=n.id.toString(),t=m.current[e];t&&r.default.focus(t)};(0,d.useImperativeHandle)(t,(()=>({focusOnActive:h})));const g=null!=a&&a.size>0&&a.has(n.id.toString()),E=[];return l.forEach((e=>{if(null==e.mediaData){const t=n;return void __LOG__(3,!0)`MediaViewerFlow: attempted to render a msg without mediaData: ${JSON.stringify({type:e.type,isMedia:(0,i.getIsMedia)(e),startMsgType:t.type,startMsgIsMedia:(0,i.getIsMedia)(t)})}`}const t=g&&a&&!a.has(e.id.toString())?"viewerFlowTransparent":"viewerFlow";E.push(d.default.createElement(o.MediaThumb,{theme:t,active:e===n,msg:e,containerRef:t=>{((e,t)=>{m.current[t]=e})(t,e.id.toString()),e===n&&p(t)},key:`media-${e.id.id}`,onClick:()=>{f(e)},preferPreview:!!c.get(e.id.toString()),showTooltip:(0,i.getIsGroupMsg)(e)}))})),E.push(d.default.createElement("div",{className:s.default.mediaThumb,key:"spinner-right"},l.queryMediaAfter?d.default.createElement(u.Spinner,{stroke:6,size:24}):null)),E.unshift(d.default.createElement("div",{className:s.default.mediaThumb,key:"spinner-left"},l.queryMediaBefore?d.default.createElement(u.Spinner,{stroke:6,size:24}):null)),E.push(d.default.createElement("div",{className:s.default.thumbPadding,key:"padding-right"})),E.unshift(d.default.createElement("div",{className:s.default.thumbPadding,key:"padding-left"})),d.default.createElement(d.default.Fragment,null,E)}g.displayName="MediaThumbsImpl_withRef";const E=h;function b(e){const{mediaMsgs:t,onScroll:n,activeMsg:a}=e,r=(0,d.useRef)({}),o=(0,d.useRef)(null),i=(0,d.useRef)(null),u=(0,f.default)(a.id),m=()=>{var e;null===(e=o.current)||void 0===e||e.focusOnActive()};(0,d.useEffect)((()=>{var e;(null===(e=i.current)||void 0===e?void 0:e.contains(document.activeElement))&&!a.id.equals(u)&&m()}),[a,u]);const h=()=>{const e=new Map;return t.forEach((t=>{const n=t.id.toString();e.set(n,(e=>{const t=r.current[e];if(!t)return!1;const n=t.getBoundingClientRect(),a=(n.left+n.right)/2;return!(a>-1*window.innerWidth&&a<2*window.innerWidth)})(n))})),e},[g,b]=(0,d.useState)(h),v=(0,p.default)((()=>{const e=h();(0,l.default)(g,e)||b(e)}),100);return d.default.createElement("div",{className:s.default.thumbsContainer,ref:e.setRefThumbsContainer},d.default.createElement("div",{ref:i,className:s.default.scrollContainer,dir:"ltr"},d.default.createElement("div",{role:"list","aria-label":c.fbt._("Media List",null,{hk:"3dsEfq"}),tabIndex:1,onFocus:()=>{m()},onScroll:e=>{v(),n(e)},className:s.default.viewerThumbs,ref:e.setRefThumbs},d.default.createElement(E,{ref:o,mediaMsgs:t,highlightedMsgIds:e.highlightedMsgIds,activeMsg:e.activeMsg,onSetActiveThumb:e.onSetActiveThumb,onSelectThumb:e.onSelectThumb,msgIdToPreferPreview:g}))))}b.displayName="MediaViewerThumbList"},25683:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var l=n(103440),r=n(753233),o=n(198400),i=n(690495),u=a(n(469733)),s=n(24592),c=n(113084),d=n(548360),f=a(n(667294));a(n(156720));const p={graphic:{marginBottom:"t4zgqcuo"}};function m(e){const{onOkClick:t}=e;return f.default.createElement(l.ConfirmPopup,{onOK:t,cancelText:d.fbt._("Learn more",null,{hk:"1rcCLt"}),onCancel:()=>{(0,r.openExternalLink)((0,o.getViewOnceFaqUrl)())}},f.default.createElement(i.FlexColumn,null,f.default.createElement(u.default,{xstyle:p.graphic,align:"center"},f.default.createElement(c.ViewOnceSenderNuxIcon,{width:195,height:177})),f.default.createElement(s.WDSTextLarge,null,e.isPhoto?d.fbt._("This photo is set to view once",null,{hk:"2H7aHc"}):d.fbt._("This video is set to view once",null,{hk:"1w8WFf"})),f.default.createElement(s.WDSTextMuted,null,e.isPhoto?d.fbt._("For more privacy, this photo will disappear after you close it.",null,{hk:"1XZPqi"}):d.fbt._("For more privacy, this video will disappear after you close it.",null,{hk:"3YgUHE"}))))}m.displayName="MediaViewerViewOnceNux"},693976:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BotDataSharingIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.081 12.9c.44 2.98 2.87 5.41 5.86 5.84 2.22.33 4.26-.38 5.73-1.72.5-.45 1.22-.56 1.8-.22.87.5 1 1.71.26 2.39-2.09 1.92-4.99 2.95-8.13 2.53-4.38-.59-7.92-4.13-8.51-8.51a10.02 10.02 0 0 1 6.98-10.96c.96-.29 1.93.44 1.93 1.44v.02c0 .67-.45 1.24-1.09 1.43a6.996 6.996 0 0 0-4.83 7.76Zm7.92-9.19v-.02c0-1 .97-1.73 1.92-1.44 4.1 1.25 7.08 5.07 7.08 9.57 0 .76-.09 1.51-.26 2.23-.23.96-1.35 1.41-2.21.91l-.01-.01c-.57-.34-.83-1-.69-1.64.11-.48.17-.97.17-1.49 0-3.14-2.07-5.79-4.92-6.68-.63-.2-1.08-.76-1.08-1.43Z",fill:"#8696A0"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="bot-data-sharing"},702837:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24"},u.default.createElement("title",null,c),u.default.createElement("path",{fill:"currentColor",d:"M19.2,4H4.8C3.8,4,3,4.8,3,5.8V22l3.6-3.6h12.6c1,0,1.8-0.8,1.8-1.8V5.8C21,4.8,20.2,4,19.2,4z M19.2,16.6 H6.6l-1.8,1.8V5.8h14.4V16.6z"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="bubble"},891502:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChatInfoVideoIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=13,g=21;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 21 13",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.17.5c1.11 0 2.009.9 2.009 2.009v8.482c0 1.11-.9 2.009-2.01 2.009H2.01C.899 13 0 12.1 0 10.991V2.51C0 1.399.9.5 2.009.5h11.16Zm7.17 1.746a.893.893 0 0 1 .196.558v7.892a.893.893 0 0 1-1.45.697l-3.015-2.41V4.517l3.014-2.411a.893.893 0 0 1 1.255.14Z",fill:"#00A884"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="chat-info-video"},174455:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardFilledIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=16,g=21;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 21 16",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M12.778 1.31318C12.778 0.590175 13.651 0.228175 14.161 0.739175L20.206 6.79017C20.2813 6.8654 20.341 6.95472 20.3817 7.05304C20.4225 7.15136 20.4435 7.25675 20.4435 7.36317C20.4435 7.4696 20.4225 7.57499 20.3817 7.67331C20.341 7.77163 20.2813 7.86095 20.206 7.93617L14.161 13.9872C14.0476 14.1006 13.9032 14.1779 13.7459 14.2091C13.5886 14.2404 13.4256 14.2243 13.2775 14.1628C13.1294 14.1013 13.0028 13.9973 12.9139 13.8638C12.825 13.7304 12.7777 13.5735 12.778 13.4132V10.6812C7.68197 10.6812 3.94897 12.1362 1.17397 15.2922C0.927967 15.5712 0.471967 15.3342 0.571967 14.9762C2.00197 9.80317 5.49697 4.97218 12.778 3.93118V1.31318Z",fill:"currentColor"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="forward-filled"},417810:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.HeartSlashIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f,innerStyles:p}=e,m=(0,r.default)(e,s);let h;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;h=[e,t,n,a].join(" ")}let g=25,E=24;null==a&&null==d||(g=a,E=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},m),u.default.createElement("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 25",height:g,width:E,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),color:"#757778"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M12 21.3249C11.7667 21.3249 11.5292 21.2832 11.2875 21.1999C11.0458 21.1166 10.8333 20.9832 10.65 20.7999L8.925 19.2249C7.15833 17.6082 5.5625 16.0041 4.1375 14.4124C2.7125 12.8207 2 11.0666 2 9.1499C2 7.58324 2.525 6.2749 3.575 5.2249C4.625 4.1749 5.93333 3.6499 7.5 3.6499C8.38333 3.6499 9.21667 3.8374 10 4.2124C10.7833 4.5874 11.45 5.0999 12 5.7499C12.55 5.0999 13.2167 4.5874 14 4.2124C14.7833 3.8374 15.6167 3.6499 16.5 3.6499C18.0667 3.6499 19.375 4.1749 20.425 5.2249C21.475 6.2749 22 7.58324 22 9.1499C22 11.0666 21.2917 12.8249 19.875 14.4249C18.4583 16.0249 16.85 17.6332 15.05 19.2499L13.35 20.7999C13.1667 20.9832 12.9542 21.1166 12.7125 21.1999C12.4708 21.2832 12.2333 21.3249 12 21.3249ZM11.05 7.7499C10.5667 7.06657 10.05 6.54574 9.5 6.1874C8.95 5.82907 8.28333 5.6499 7.5 5.6499C6.5 5.6499 5.66667 5.98324 5 6.6499C4.33333 7.31657 4 8.1499 4 9.1499C4 10.0166 4.30833 10.9374 4.925 11.9124C5.54167 12.8874 6.27917 13.8332 7.1375 14.7499C7.99583 15.6666 8.87917 16.5249 9.7875 17.3249C10.6958 18.1249 11.4333 18.7832 12 19.2999C12.5667 18.7832 13.3042 18.1249 14.2125 17.3249C15.1208 16.5249 16.0042 15.6666 16.8625 14.7499C17.7208 13.8332 18.4583 12.8874 19.075 11.9124C19.6917 10.9374 20 10.0166 20 9.1499C20 8.1499 19.6667 7.31657 19 6.6499C18.3333 5.98324 17.5 5.6499 16.5 5.6499C15.7167 5.6499 15.05 5.82907 14.5 6.1874C13.95 6.54574 13.4333 7.06657 12.95 7.7499C12.8333 7.91657 12.6917 8.04157 12.525 8.1249C12.3583 8.20824 12.1833 8.2499 12 8.2499C11.8167 8.2499 11.6417 8.20824 11.475 8.1249C11.3083 8.04157 11.1667 7.91657 11.05 7.7499Z",fill:"currentColor",style:{fillOpacity:1},className:(0,i.default)(null==p?void 0:p.heart)}),u.default.createElement("g",null,u.default.createElement("path",{d:"M2 3L19.6777 20.6777",stroke:"currentColor",style:{strokeOpacity:1},strokeWidth:2,strokeLinecap:"round",className:(0,i.default)(null==p?void 0:p.slash)}))))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox","innerStyles"],c="heart-slash"},23672:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.KeepInChatMediaIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"m17 3h-10c-1.1 0-1.99.9-1.99 2l-.01 16 7-3 7 3v-16c0-1.1-.9-2-2-2z",fill:"currentColor"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="keep-in-chat-media"},998569:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MinusUserIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M17 9H21C21.2833 9 21.5208 9.09583 21.7125 9.2875C21.9042 9.47917 22 9.71667 22 10C22 10.2833 21.9042 10.5208 21.7125 10.7125C21.5208 10.9042 21.2833 11 21 11H17C16.7167 11 16.4792 10.9042 16.2875 10.7125C16.0958 10.5208 16 10.2833 16 10C16 9.71667 16.0958 9.47917 16.2875 9.2875C16.4792 9.09583 16.7167 9 17 9ZM9 12C7.9 12 6.95833 11.6083 6.175 10.825C5.39167 10.0417 5 9.1 5 8C5 6.9 5.39167 5.95833 6.175 5.175C6.95833 4.39167 7.9 4 9 4C10.1 4 11.0417 4.39167 11.825 5.175C12.6083 5.95833 13 6.9 13 8C13 9.1 12.6083 10.0417 11.825 10.825C11.0417 11.6083 10.1 12 9 12ZM1 18V17.2C1 16.6333 1.14583 16.1125 1.4375 15.6375C1.72917 15.1625 2.11667 14.8 2.6 14.55C3.63333 14.0333 4.68333 13.6458 5.75 13.3875C6.81667 13.1292 7.9 13 9 13C10.1 13 11.1833 13.1292 12.25 13.3875C13.3167 13.6458 14.3667 14.0333 15.4 14.55C15.8833 14.8 16.2708 15.1625 16.5625 15.6375C16.8542 16.1125 17 16.6333 17 17.2V18C17 18.55 16.8042 19.0208 16.4125 19.4125C16.0208 19.8042 15.55 20 15 20H3C2.45 20 1.97917 19.8042 1.5875 19.4125C1.19583 19.0208 1 18.55 1 18Z",fill:"currentColor"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="minus-user"},313384:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionsMediaIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=15,g=15;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 15 15",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 7.5C0 11.6305 3.36946 15 7.5 15C11.6527 15 15 11.6305 15 7.5C15 3.36946 11.6305 0 7.5 0C3.36946 0 0 3.36946 0 7.5ZM10.995 8.69333C11.1128 8.67863 11.2219 8.66503 11.3211 8.65309C11.61 8.63028 11.8076 8.91918 11.6784 9.13965C10.8573 10.6374 9.29116 11.793 7.50455 11.793C5.71794 11.793 4.15181 10.6602 3.33072 9.16246C3.18628 8.91918 3.37634 8.63028 3.66524 8.65309C3.79123 8.66749 3.93521 8.68511 4.09426 8.70457C4.94292 8.80842 6.22074 8.96479 7.48174 8.96479C8.81855 8.96479 10.1378 8.80025 10.995 8.69333ZM5.41405 7.37207C6.05761 7.37207 6.60923 6.72851 6.60923 6.02978C6.60923 5.30348 6.05761 4.6875 5.41405 4.6875C4.77048 4.6875 4.21886 5.33106 4.21886 6.02978C4.20967 6.75609 4.77048 7.37207 5.41405 7.37207ZM10.7807 6.05619C10.7807 6.74114 10.24 7.37201 9.60912 7.37201C8.97825 7.37201 8.4375 6.76818 8.4375 6.05619C8.4375 5.37124 8.97825 4.74037 9.60912 4.74037C10.24 4.74037 10.7807 5.34421 10.7807 6.05619Z",fill:"currentColor"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="reactions-media"},425813:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SagaHelpIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=22,g=18;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 18 22",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 0.708984H2C0.89 0.708984 0 1.60898 0 2.70898V16.709C0 17.809 0.9 18.709 2 18.709H6L8.29 20.999C8.68 21.389 9.31 21.389 9.7 20.999L12 18.709H16C17.1 18.709 18 17.809 18 16.709V2.70898C18 1.60898 17.1 0.708984 16 0.708984ZM10 14.709V16.709H8V14.709H10ZM11.17 9.87898L12.07 8.95898C12.64 8.38898 13 7.58898 13 6.70898C13 4.49898 11.21 2.70898 9 2.70898C7.18 2.70898 5.65 3.91898 5.16 5.57898C5 6.13898 5.4 6.69898 5.98 6.69898H6.28C6.67 6.69898 6.98 6.42898 7.11 6.05898C7.38 5.27898 8.13 4.70898 9 4.70898C10.1 4.70898 11 5.60898 11 6.70898C11 7.25898 10.78 7.75898 10.42 8.11898L9.18 9.37898C8.57 9.99898 8.15 10.809 8.04 11.719C7.97 12.239 8.37 12.699 8.89 12.699H9.2C9.64 12.699 9.99 12.369 10.05 11.939C10.18 10.979 10.59 10.469 11.17 9.87898Z",fill:"#00A884",style:{fillOpacity:1}})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="saga-help"},824017:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TransferOwnershipIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M9.175 10.825C9.95833 11.6083 10.9 12 12 12C13.1 12 14.0417 11.6083 14.825 10.825C15.6083 10.0417 16 9.1 16 8C16 6.9 15.6083 5.95833 14.825 5.175C14.0417 4.39167 13.1 4 12 4C10.9 4 9.95833 4.39167 9.175 5.175C8.39167 5.95833 8 6.9 8 8C8 9.1 8.39167 10.0417 9.175 10.825Z",fill:"currentColor"}),u.default.createElement("path",{d:"M4 17.2V18C4 18.55 4.19583 19.0208 4.5875 19.4125C4.97917 19.8042 5.45 20 6 20H13.1669C13.0587 19.6876 13 19.3506 13 18.998C13 17.3226 14.3245 15.998 16 15.998H16.0481C16.1308 15.3673 16.41 14.7595 16.8858 14.2837C16.9852 14.1843 17.0904 14.0935 17.2004 14.0112C16.5566 13.7544 15.9064 13.5465 15.25 13.3875C14.1833 13.1292 13.1 13 12 13C10.9 13 9.81667 13.1292 8.75 13.3875C7.68333 13.6458 6.63333 14.0333 5.6 14.55C5.11667 14.8 4.72917 15.1625 4.4375 15.6375C4.14583 16.1125 4 16.6333 4 17.2Z",fill:"currentColor"}),u.default.createElement("path",{d:"M19.2 19.998H16C15.4295 19.998 15 19.5691 15 18.998C15 18.4271 15.4291 17.998 16 17.998H19.2L18.3 17.098C17.9294 16.7273 17.9294 16.0686 18.3 15.698C18.6706 15.3273 19.3294 15.3274 19.7 15.698L22.3 18.298C22.7029 18.7009 22.7026 19.2953 22.3 19.698L19.7 22.298C19.3293 22.6686 18.6707 22.6686 18.3 22.298C17.9293 21.9271 17.9295 21.2684 18.3 20.898L19.2 19.998Z",fill:"currentColor"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="transfer-ownership"},909882:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.UndoKeepInChatMediaIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=25;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 25 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{clipRule:"evenodd",d:"m18 3h-10.00003c-1.1 0-1.99.9-1.99 2l-.0005.79529 13.99053 8.04121v-8.8365c0-1.1-.9-2-2-2zm2 14.9115 3.8749 2.2272.9967-1.734-22.97977-13.20787-.996627 1.73399 5.111727 2.93802-.00696 11.13116 7.00003-3 7 3z",fill:"currentColor",fillRule:"evenodd"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="undo-keep-in-chat-media"},332681:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.UnpinnedIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=24,g=24;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M15.9984 10.6491V4.28906H16.9984V2.28906H7.64844L15.9984 10.6491Z",fill:"currentColor"}),u.default.createElement("path",{d:"M16 11.7291V4.28906H17V2.28906H7V2.71906L16 11.7291Z",fill:"currentColor"}),u.default.createElement("path",{d:"M21.21 19.7395L4.23 2.73945C4.03 2.53945 3.79 2.43945 3.52 2.43945C3.25 2.43945 3.01 2.53945 2.81 2.73945C2.61 2.93945 2.51 3.17945 2.5 3.44945C2.5 3.71945 2.59 3.95945 2.79 4.15945L8.01 9.36945V11.2795L6.00999 13.2795V15.2795H11.01V21.2795L12.01 22.2795L13.01 21.2795V15.2795H13.93L19.79 21.1295C19.99 21.3295 20.23 21.4295 20.5 21.4295C20.77 21.4295 21.01 21.3295 21.21 21.1295C21.41 20.9295 21.51 20.6995 21.51 20.4295C21.51 20.1595 21.41 19.9295 21.21 19.7295V19.7395Z",fill:"currentColor"}),u.default.createElement("path",{d:"M21.21 19.7395L4.23 2.73945C4.03 2.53945 3.79 2.43945 3.52 2.43945C3.25 2.43945 3.01 2.53945 2.81 2.73945C2.61 2.93945 2.51 3.17945 2.5 3.44945C2.5 3.71945 2.59 3.95945 2.79 4.15945L8.01 9.36945V11.2795L6.00999 13.2795V15.2795H11.01V21.2795L12.01 22.2795L13.01 21.2795V15.2795H13.93L19.79 21.1295C19.99 21.3295 20.23 21.4295 20.5 21.4295C20.77 21.4295 21.01 21.3295 21.21 21.1295C21.41 20.9295 21.51 20.6995 21.51 20.4295C21.51 20.1595 21.41 19.9295 21.21 19.7295V19.7395Z",fill:"currentColor"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="unpinned"},22134:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.UserShieldIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=20,g=16;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 16 20",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M8 11.0004C8.96667 11.0004 9.79167 10.6587 10.475 9.97539C11.1583 9.29206 11.5 8.46706 11.5 7.50039C11.5 6.53372 11.1583 5.70872 10.475 5.02539C9.79167 4.34206 8.96667 4.00039 8 4.00039C7.03333 4.00039 6.20833 4.34206 5.525 5.02539C4.84167 5.70872 4.5 6.53372 4.5 7.50039C4.5 8.46706 4.84167 9.29206 5.525 9.97539C6.20833 10.6587 7.03333 11.0004 8 11.0004ZM8 17.9004C8.98333 17.5837 9.85417 17.0879 10.6125 16.4129C11.3708 15.7379 12.0333 14.9754 12.6 14.1254C11.8833 13.7587 11.1375 13.4796 10.3625 13.2879C9.5875 13.0962 8.8 13.0004 8 13.0004C7.2 13.0004 6.4125 13.0962 5.6375 13.2879C4.8625 13.4796 4.11667 13.7587 3.4 14.1254C3.96667 14.9754 4.62917 15.7379 5.3875 16.4129C6.14583 17.0879 7.01667 17.5837 8 17.9004ZM8 19.9004C7.88333 19.9004 7.775 19.8921 7.675 19.8754C7.575 19.8587 7.475 19.8337 7.375 19.8004C5.125 19.0504 3.33333 17.6629 2 15.6379C0.666667 13.6129 0 11.4337 0 9.10039V4.37539C0 3.95872 0.120833 3.58372 0.3625 3.25039C0.604167 2.91706 0.916667 2.67539 1.3 2.52539L7.3 0.275391C7.53333 0.192057 7.76667 0.150391 8 0.150391C8.23333 0.150391 8.46667 0.192057 8.7 0.275391L14.7 2.52539C15.0833 2.67539 15.3958 2.91706 15.6375 3.25039C15.8792 3.58372 16 3.95872 16 4.37539V9.10039C16 11.4337 15.3333 13.6129 14 15.6379C12.6667 17.6629 10.875 19.0504 8.625 19.8004C8.525 19.8337 8.425 19.8587 8.325 19.8754C8.225 19.8921 8.11667 19.9004 8 19.9004Z",fill:"currentColor"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="user-shield"},113084:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ViewOnceSenderNuxIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=168,g=198;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 198 168",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M182.166 57.7255C175.603 64.6681 166.307 69 156 69C139.711 69 125.949 58.1818 121.506 43.3383C112.644 40.1443 102.78 34.6399 86.1179 25.3418C84.3675 24.3651 82.5421 23.3465 80.635 22.2843C51.9895 6.3297 6.00593 19.7651 2.23678 73.9266C-0.243988 109.575 17.0718 134.232 39.9408 142.968C62.0404 151.411 110.667 158.989 162.477 140.97C190.944 131.069 198.637 111.677 196.725 89.4613C195.454 74.6999 189.899 64.4184 182.166 57.7255Z",fill:"#CCEFEB"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M134.277 61.7099C125.603 55.1366 120 44.7226 120 33C120 29.0037 120.651 25.1594 121.853 21.5676L80.2307 15.7179C73.8904 14.8269 68.016 19.3544 67.11 25.8304L50.5682 144.067C49.6622 150.543 54.0676 156.515 60.4079 157.406L108.242 164.129C114.583 165.02 120.457 160.493 121.363 154.016L134.277 61.7099Z",fill:"#42CBA5"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M122.943 18.7215L80.4885 12.755C73.9412 11.8348 67.8737 16.5197 66.9365 23.219L49.8245 145.531C48.8872 152.231 53.4351 158.407 59.9824 159.327L109.378 166.27C115.925 167.19 121.993 162.505 122.93 155.806L135.929 62.8902C135.129 62.3519 134.352 61.7824 133.599 61.1834L120.411 155.452C119.673 160.727 114.895 164.417 109.739 163.692L60.343 156.75C55.187 156.025 51.6056 151.161 52.3437 145.885L69.4557 23.573C70.1938 18.2974 74.9719 14.608 80.1279 15.3326L121.974 21.2137C122.266 20.3682 122.59 19.537 122.943 18.7215Z",fill:"#316474"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M135.032 62.2669C125.93 55.7339 120 45.0594 120 33C120 27.0332 121.452 21.4055 124.021 16.4507L82.3684 10.5968C76.0897 9.71436 70.2654 14.2484 69.3594 20.7238L52.8193 138.948C51.9134 145.424 56.2689 151.388 62.5476 152.271L109.917 158.928C116.196 159.81 122.02 155.276 122.926 148.801L135.032 62.2669Z",fill:"white"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.376 15.7826L80.8832 9.67008C74.3203 8.74772 68.2607 13.2841 67.3488 19.8023L50.6993 138.809C49.7874 145.327 54.3684 151.359 60.9313 152.281L110.445 159.24C117.008 160.162 123.067 155.626 123.979 149.108L136.032 62.959C135.229 62.4232 134.45 61.856 133.695 61.2591L121.454 148.753C120.736 153.886 115.964 157.458 110.796 156.732L61.2822 149.773C56.1139 149.047 52.5063 144.297 53.2245 139.164L69.874 20.1572C70.5921 15.0241 75.364 11.4517 80.5323 12.1781L123.186 18.1726C123.554 17.3594 123.951 16.5623 124.376 15.7826Z",fill:"#316474"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.759 21.8546L119.225 21.5025L88.5269 17.2367L81.6788 16.2851C76.9838 15.6327 72.6359 18.9334 71.9674 23.6575L56.0988 135.806C55.4304 140.53 58.6946 144.888 63.3896 145.541L107.784 151.71C112.479 152.362 116.827 149.061 117.495 144.337L129.762 57.6491C123.708 51.2078 120 42.5372 120 33.0005C120 29.1102 120.617 25.364 121.759 21.8546Z",fill:"#EEFEFA"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.411 59.2946L119.092 146.356C118.408 151.187 113.925 154.558 109.079 153.885L63.2521 147.516C58.4056 146.843 55.031 142.38 55.7146 137.549L71.9439 22.852C72.6275 18.0206 77.1105 14.6499 81.957 15.3233L122.084 20.8994C121.801 21.6938 121.545 22.501 121.316 23.32L81.6063 17.802C78.133 17.3193 74.9202 19.735 74.4302 23.1975L58.201 137.895C57.711 141.357 60.1295 144.555 63.6028 145.038L109.429 151.406C112.903 151.889 116.116 149.473 116.605 146.01L129.195 57.0327C129.901 57.8186 130.64 58.5733 131.411 59.2946Z",fill:"#316474"}),u.default.createElement("path",{d:"M76.7691 93.7377C76.4214 96.1974 78.1329 98.4706 80.5929 98.8163L111.741 103.194C114.202 103.54 116.481 101.824 116.83 99.3627L119.073 83.5207C119.421 81.0608 117.709 78.787 115.249 78.4413L73.6586 72.5961C73.183 72.5293 72.895 73.106 73.2346 73.4451L76.5525 76.7581C77.9966 78.2 78.6778 80.2374 78.3919 82.2594L76.7691 93.7377Z",fill:"white",stroke:"#00B39B",strokeWidth:3}),u.default.createElement("path",{d:"M107.679 93.8443L87.8798 91.0618C87.0681 90.9477 86.7049 90.084 87.2785 89.5941L91.8745 85.6237C92.3348 85.2215 93.1268 85.3328 93.4584 85.8463L96.5327 90.5489L102.507 85.389C102.968 84.9869 103.76 85.0982 104.091 85.6116L108.661 92.5992C109.078 93.2283 108.491 93.9584 107.679 93.8443Z",fill:"white"}),u.default.createElement("path",{d:"M96.7971 88.6689L94.5062 85.1645C93.7607 84.0152 92.0887 83.7802 91.0553 84.6795L86.4635 88.6463C85.7435 89.2636 85.5901 90.1864 85.9046 90.9467C86.205 91.6728 86.8893 92.1848 87.7059 92.2996L107.505 95.0822C108.321 95.1969 109.12 94.8933 109.609 94.2782C110.121 93.6341 110.228 92.7048 109.706 91.913C109.705 91.9118 109.705 91.9106 109.704 91.9094L105.141 84.9334C105.14 84.9321 105.14 84.9309 105.139 84.9296C104.393 83.7805 102.721 83.5456 101.688 84.4449L96.7971 88.6689Z",stroke:"#42CBA5",strokeOpacity:.5,strokeWidth:2.5}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M81 22.999C80.4477 22.999 80 23.4467 80 23.999C80 24.5513 80.4477 24.999 81 24.999C81.5523 24.999 82 24.5513 82 23.999C82 23.4467 81.5523 22.999 81 22.999ZM78 23.999C78 22.3422 79.3431 20.999 81 20.999C82.6569 20.999 84 22.3422 84 23.999C84 25.6559 82.6569 26.999 81 26.999C79.3431 26.999 78 25.6559 78 23.999Z",fill:"#316474"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M155.502 62C156.019 62 156.532 61.9866 157.043 61.9603C158.421 61.8892 159.482 60.7138 159.41 59.3349C159.339 57.956 158.164 56.8958 156.785 56.967C156.36 56.9889 155.933 57 155.502 57V62ZM155.502 8C155.933 8.00003 156.36 8.01114 156.785 8.03304C158.164 8.10415 159.339 7.044 159.41 5.66512C159.482 4.28624 158.421 3.11079 157.043 3.03968C156.532 3.01336 156.019 3.00003 155.502 3V8ZM168.898 6.21114C167.668 5.58332 166.162 6.07124 165.534 7.30096C164.906 8.53067 165.394 10.0365 166.624 10.6643C167.388 11.0543 168.128 11.4832 168.844 11.9485C170.001 12.7016 171.549 12.3739 172.303 11.2167C173.056 10.0594 172.728 8.51077 171.571 7.75771C170.71 7.19753 169.818 6.68094 168.898 6.21114ZM180.243 16.4297C179.49 15.2724 177.941 14.9447 176.784 15.6978C175.626 16.4509 175.299 17.9995 176.052 19.1568C176.517 19.8719 176.946 20.6126 177.336 21.3764C177.964 22.6061 179.47 23.094 180.699 22.4662C181.929 21.8384 182.417 20.3325 181.789 19.1028C181.319 18.1826 180.803 17.2905 180.243 16.4297ZM184.961 30.9578C184.89 29.5789 183.714 28.5188 182.335 28.5899C180.956 28.661 179.896 29.8365 179.967 31.2153C179.989 31.6406 180 32.0689 180 32.5C180 32.9311 179.989 33.3594 179.967 33.7847C179.896 35.1635 180.956 36.339 182.335 36.4101C183.714 36.4812 184.89 35.4211 184.961 34.0422C184.987 33.5312 185 33.0171 185 32.5C185 31.9829 184.987 31.4688 184.961 30.9578ZM181.789 45.8972C182.417 44.6675 181.929 43.1616 180.699 42.5338C179.47 41.906 177.964 42.3939 177.336 43.6236C176.946 44.3874 176.517 45.1281 176.052 45.8432C175.299 47.0005 175.626 48.5491 176.784 49.3022C177.941 50.0553 179.49 49.7276 180.243 48.5703C180.803 47.7095 181.319 46.8174 181.789 45.8972ZM171.571 57.2423C172.728 56.4892 173.056 54.9406 172.303 53.7833C171.549 52.6261 170.001 52.2984 168.844 53.0515C168.128 53.5168 167.388 53.9457 166.624 54.3357C165.394 54.9635 164.906 56.4693 165.534 57.699C166.162 58.9288 167.668 59.4167 168.898 58.7889C169.818 58.3191 170.71 57.8025 171.571 57.2423Z",fill:"#00B39B"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M155.501 3C155.5 3 155.5 3 155.5 3C139.208 3 126 16.2076 126 32.5C126 48.7924 139.208 62 155.5 62C155.5 62 155.5 62 155.501 62V57C155.5 57 155.5 57 155.5 57C141.969 57 131 46.031 131 32.5C131 18.969 141.969 8 155.5 8C155.5 8 155.5 8 155.501 8V3Z",fill:"#00B39B"}),u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M151.57 18.499C149.875 18.499 148.501 19.8727 148.501 21.5672C148.501 23.2617 149.875 24.6354 151.57 24.6354H154.502V42.499C154.502 44.1559 155.845 45.499 157.502 45.499C159.158 45.499 160.502 44.1559 160.502 42.499V21.499C160.502 19.8422 159.158 18.499 157.502 18.499C157.49 18.499 157.479 18.4991 157.468 18.4992C157.456 18.4991 157.445 18.499 157.433 18.499H151.57Z",fill:"#00B39B"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="view-once-sender-nux"},96520:(e,t,n)=>{"use strict";var a=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceCallFilledIcon=function(e){var t;const{iconXstyle:n,height:a,width:d,viewBox:f}=e,p=(0,r.default)(e,s);let m;if(f){const{x:e=0,y:t=0,width:n=0,height:a=0}=f;m=[e,t,n,a].join(" ")}let h=22,g=22;null==a&&null==d||(h=a,g=d);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:c},p),u.default.createElement("svg",{viewBox:null!==(t=m)&&void 0!==t?t:"0 0 22 22",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(n),fill:"none"},u.default.createElement("title",null,c),u.default.createElement("path",{d:"M19.685 14.3869L16.7217 14.0486C16.0101 13.9669 15.3101 14.2119 14.8084 14.7136L12.6617 16.8602C9.36005 15.1802 6.65338 12.4852 4.97338 9.17188L7.13172 7.01355C7.63338 6.51188 7.87838 5.81188 7.79672 5.10022L7.45838 2.16022C7.31838 0.981882 6.32672 0.0952148 5.13672 0.0952148H3.11838C1.80005 0.0952148 0.703381 1.19188 0.785047 2.51022C1.40338 12.4736 9.37172 20.4302 19.3234 21.0486C20.6417 21.1302 21.7384 20.0336 21.7384 18.7152V16.6969C21.75 15.5186 20.8634 14.5269 19.685 14.3869Z",fill:"currentColor"})))};var l=a(n(967154)),r=a(n(506479)),o=n(220584),i=a(n(156720)),u=a(n(667294));const s=["iconXstyle","height","width","viewBox"],c="voice-call-filled"},663945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={msg:"_7Upvn",text:"_3Q6VG",bubble:"_3cupO",author:"LldYr",hasSuspiciousLinks:"_1BEFs",hasAuthor:"_28v58",suspiciousLabel:"_1kBNA"}},936027:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mediaViewerPlaceholder:"_2qUle",imageAudio:"_1leJw",mediaViewerAudio:"_17zHt"}},572028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={thumbsContainer:"_3GUJh",scrollContainer:"_27n9o",viewerThumbs:"_1P0Vh",mediaThumb:"_2nI8K",thumbPadding:"_1s0h2"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components.4c3e1786fbdd0d299592.js.map
