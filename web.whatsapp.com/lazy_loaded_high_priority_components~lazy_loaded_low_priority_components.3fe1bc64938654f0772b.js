/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[9488],{574919:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCoverPhoto=function e(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,s.genId)();const i=(0,a.deleteCoverPhoto)(t),u=new s.ActionType(c.fbt._("Removing cover photo",null,{hk:"1KJSi4"})),f=c.fbt._("Cover photo removal failed",null,{hk:"lbogl"}),p=i.catch((()=>{throw __LOG__(3)`actions:deleteCoverPhoto dropped`,new s.ActionType(f)})).catch((0,n.filteredCatch)(l.ServerStatusCodeError,(n=>{if(n.status>=400)return new s.ActionType(f,{actionText:c.fbt._("Try again",null,{hk:"BVffp"}),actionHandler:()=>e(t,o)})}))).then((()=>new s.ActionType(c.fbt._("Cover photo removed",null,{hk:"2jTL3n"}))));return r.ToastManager.open((0,d.jsx)(s.ActionToast,{id:o,initialAction:u,pendingAction:p})),i.then((()=>{}))},t.setCoverPhoto=function e(t,o,u){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,s.genId)();const p=new s.ActionType(c.fbt._("Setting cover photo",null,{hk:"1W6Cm8"})),h=c.fbt._("Cover photo set failed",null,{hk:"4jlUAI"}),g=(0,a.sendCoverPhoto)(t,o,u).catch((()=>{throw __LOG__(3)`action:setCoverPhoto dropped`,new s.ActionType(h)})).catch((0,n.filteredCatch)(l.ServerStatusCodeError,(n=>{if(__LOG__(3)`action:setCoverPhoto server error`,n.status>=400)return new s.ActionType(h,{actionText:c.fbt._("Try again",null,{hk:"BVffp"}),actionHandler:()=>e(t,o,u,f)})}))).then((()=>{let e;return e=(0,i.coverPhotoPrivacyMessagingEnabled)()?c.fbt._("Your cover photo is now public",null,{hk:"zDyK5"}):c.fbt._("Cover photo set",null,{hk:"zswp6"}),new s.ActionType(e)}));return r.ToastManager.open((0,d.jsx)(s.ActionToast,{id:f,initialAction:p,pendingAction:g})),g.then((()=>{}))};var n=o(924583),l=o(984330),a=o(761849),i=o(97858),r=o(390737),s=o(463449),c=o(548360),d=o(785893)},857082:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPostcode=void 0;var n=o(184090);t.verifyPostcode=(e,t)=>(0,n.verifyPostcode)(e,t)},520161:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return f.apply(this,arguments)};var l=n(o(348926)),a=o(924583),i=o(984330),r=o(650348),s=o(390737),c=o(463449),d=o(548360),u=o(785893);function f(){return(f=(0,l.default)((function*(e,t){const o=(0,r.sendUnlinkSubgroups)({parentGroupId:e,subgroupIds:t}),n=(0,l.default)((function*(){return yield o,new c.ActionType(d.fbt._({"*":"Groups unlinked",_1:"Group unlinked"},[d.fbt._plural(t.length)],{hk:"1t0149"}))}))(),f=new c.ActionType(d.fbt._({"*":"Unlinking groups",_1:"Unlinking group"},[d.fbt._plural(t.length)],{hk:"7pwnQ"}));s.ToastManager.open((0,u.jsx)(c.ActionToast,{id:(0,c.genId)(),initialAction:f,pendingAction:n}));try{yield o}catch(e){(0,a.filteredCatch)(i.ServerStatusCodeError,(()=>{}))(e)}}))).apply(this,arguments)}},184090:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPostcode=function(e,t){if((0,l.isLegacyWebdBackend)())return Promise.reject(new Error("Postcode feature not supported in Non MD mode"));return a.default.verifyAndSavePostcode(e,t)};var l=o(590639),a=n(o(152943))},315262:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.uploadBizCoverPhoto=function(){return d.apply(this,arguments)};var l=n(o(348926)),a=o(698210),i=o(791357),r=n(o(571834)),s=o(778713),c=n(o(5038));function d(){return(d=(0,l.default)((function*(e,t,o){const n=yield(0,a.blobToArrayBuffer)(e),l=yield c.default.uploadCoverPhoto({file:n,hash:t,signal:o,type:s.MEDIA_TYPES.BIZ_COVER_PHOTO,uploadOrigin:r.default.UPLOAD_ORIGIN_TYPE.UNKNOWN,isViewOnce:!1}),{fbid:d,ts:u,metaHmac:f}=l;if(null!=d&&null!=u&&null!=f)return{id:d,ts:u,metaHmac:f};throw new i.HttpInvalidResponseError("mmsUpload: missing fields in upload response")}))).apply(this,arguments)}},22323:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCatalogLink=function(e){return`https://wa.me/c/${e}`},t.createProductLink=function(e,t){return`https://wa.me/p/${t}/${e}`}},552079:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{businessProfile:o,contact:n,editable:I,profilePicThumb:O,onClick:w,onOpenStatus:A,onLoad:L,hideStatusV3:M}=e;const[R,N]=(0,y.useState)(window.innerWidth),[D,B]=(0,y.useState)(null),H=(0,P.useModelValues)(o,["coverPhoto"]),W=(0,T.default)();(0,y.useEffect)((()=>{function e(){N(window.innerWidth)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]);const F=R>1300?152:122,V=(0,c.isStatusV3ProfilePhotoRingEnabled)()||!(0,c.canSeeStatusV3OnContact)()||n.statusMute||M?null:s.StatusV3Collection.get(n.id);function z(){V&&(i.ModalManager.openMedia((0,j.jsx)(m.default,{statusV3:V,onClose:()=>i.ModalManager.closeMedia()}),{transition:"status-v3-modal"}),null==A||A())}let U=null;D&&(U=(0,j.jsx)(g.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{B(null)},children:(0,j.jsx)(C.default,{contextMenu:D})}));let G,q=null,K=d.default.noStatusBorder;if(null!=V){const e=!(0,c.isStatusV3ProfilePhotoRingEnabled)();q=(0,j.jsx)(x.StatusV3ImageRing,{statusV3:V,size:F+24,stroke:3,theme:x.RingTheme.BusinessContactInfo,respectAppTheme:!0,breakRing:e}),K=d.default.hasStatusBorder}G=I&&null!=O?(0,j.jsx)(v.default,{profilePicThumb:O,size:F}):(0,j.jsx)(u.DetailImage,{id:n.id,size:F,loader:!0,onLoad:L,onClick:function(e){if(w)if(null!=V&&V.totalCount>0){e.stopPropagation(),e.preventDefault();const t=[(0,j.jsx)(f.DropdownItem,{testid:"mi-view-photo",action:()=>{w(e)},children:l.default.t(653)},"view-photo"),(0,j.jsx)(f.DropdownItem,{testid:"mi-view-status",action:z,children:S.fbt._("View status",null,{hk:"1QQMZy"})},"view-status")];B({menu:t,event:e})}else w(e)},quality:u.DetailImageQuality.High});const Y=null===(t=H.coverPhoto)||void 0===t?void 0:t.url.toString();let Q,Z,X;if(null!=I&&(0,a.isBizCoverPhotoEditEnabled)()){Q=(0,j.jsx)(_.default,{coverPhoto:null!=H.coverPhoto?H.coverPhoto:void 0,signal:W});const e=(0,j.jsx)(r.PencilIcon,{directional:!0,color:h.SvgColorProp.TEAL});Z=(0,j.jsx)("div",{className:(0,k.default)(E),"aria-hidden":!0,children:(0,j.jsx)(p.Round,{inverted:!0,testid:"edit_cover_photo",children:e})})}if(null==I&&null!=Y&&(0,a.isBizCoverPhotoViewEnabled)()){const e=S.fbt._("Business cover photo image",null,{hk:"10WGS4"}),t=""!==Y?{backgroundImage:`url(${Y})`}:null;X=(0,j.jsx)("div",{className:d.default.coverPhotoImage,style:t,"data-testid":"cover-photo-img",role:"img","aria-label":e})}return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:(0,b.default)(d.default.coverPhoto,{[d.default.isEditable]:I}),children:[X,Q,Z]}),(0,j.jsxs)("div",{className:d.default.avatar,children:[q,(0,j.jsx)("div",{className:K,children:G})]}),U]})};var l=n(o(932325)),a=o(97858),i=o(114850),r=o(852584),s=o(669818),c=o(918715),d=n(o(34203)),u=o(885725),f=o(305309),p=o(145213),h=o(270891),g=o(76215),C=n(o(279685)),m=n(o(262716)),_=n(o(270441)),v=n(o(59414)),x=o(195904),b=n(o(294184)),S=o(548360),y=o(667294),k=n(o(156720)),P=o(990144),T=n(o(189957)),j=o(785893);const E={position:"lhggkp7q",end:"i7sa5vq0",bottom:"fcd3cnzj",zIndex:"jnl3jror",pointerEvents:"m62443ks"}},466397:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getProfilePopulatedFields=i,t.getProfilePopulatedFieldsFromModel=function(e){return{hasDescription:null!=e.description,hasCategory:!!(e.categories&&e.categories.length>0),hasHours:null!=e.hours,hasEmail:null!=e.email,hasAddress:null!=e.address,hasWebsite:null!=e.primaryWebsite}},t.logEditCoverPhoto=function(){new a.default.EditBusinessProfile({editProfileAction:a.default.EDIT_PROFILE_ACTION.ACTION_EDIT_COVER_PHOTO_CLICK,businessProfileEntryPoint:a.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS}).commit()},t.logProfileFieldDiscard=function(e,t,o){new a.default.EditBusinessProfile((0,l.default)({editProfileAction:a.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_DISCARD,businessProfileEntryPoint:a.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,editProfileActionField:e,editBusinessProfileSessionId:o},i(t))).commit()},t.logProfileFieldOpen=function(e,t,o){new a.default.EditBusinessProfile((0,l.default)({editProfileAction:a.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_OPEN,businessProfileEntryPoint:a.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,editProfileActionField:e,editBusinessProfileSessionId:o},i(t))).commit()},t.logProfileFieldSave=function(e,t,o){new a.default.EditBusinessProfile((0,l.default)({editProfileAction:a.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_SAVE,businessProfileEntryPoint:a.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,editProfileActionField:e,editBusinessProfileSessionId:o},i(t))).commit()},t.logProfileOpen=function(e,t){var o;new a.default.EditBusinessProfile({editProfileAction:a.default.EDIT_PROFILE_ACTION.ACTION_OPEN,businessProfileEntryPoint:a.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,editBusinessProfileSessionId:t,hasDescription:null!=e.description,hasCategory:!!(e.categories&&e.categories.length>0),hasHours:null!=(null===(o=e.businessHours)||void 0===o?void 0:o.config),hasEmail:null!=e.email,hasAddress:null!=e.address,hasWebsite:null!=e.website}).commit()},t.logRemoveCoverPhoto=function(){new a.default.EditBusinessProfile({editProfileAction:a.default.EDIT_PROFILE_ACTION.ACTION_REMOVE_COVER_PHOTO,businessProfileEntryPoint:a.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS}).commit()};var l=n(o(81109)),a=n(o(571834));function i(e){var t;return{hasDescription:null!=e.description,hasCategory:!!(e.categories&&e.categories.length>0),hasHours:null!=(null===(t=e.businessHours)||void 0===t?void 0:t.config),hasEmail:null!=e.email,hasAddress:null!=e.address,hasWebsite:null!=e.website}}},619748:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.jsx)(l.ShoppingCartIcon,{xstyle:[i.cartIcon,"inherit-color"===e.theme&&i.inheritColor]})};var l=o(392936),a=(n(o(156720)),o(785893));const i={cartIcon:{color:"svlsagor"},inheritColor:{color:"gtscxtjd"}}},260262:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CartIconMenuBarItem=function(e){const{cartIconTheme:t,onClick:o,cartCountText:n,testid:f,catalogOwnerJid:p}=e,h=(0,d.useContext)(s.DrawerContext);return(0,u.jsx)(r.MenuBarItem,{testid:f,icon:(0,u.jsx)(l.default,{theme:t}),text:n,title:c.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:(0,a.getOnCartClickWithLog)(o,p,(0,i.getProductCatalogContext)(h))})};var l=n(o(619748)),a=o(137224),i=o(623797),r=o(281701),s=o(38574),c=o(548360),d=o(667294),u=o(785893)},987081:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{labels:t,theme:o}=e;if(!t||!(0,l.canDisplayLabel)())return null;const n="standalone"===o;return(0,s.jsx)("div",{className:(0,r.default)(a.default.labelContainer,{[a.default.standaloneLabelContainer]:n}),children:t.map(((e,t)=>(0,s.jsx)(c,{labelId:e,isStandalone:n},t)))})};var l=o(97858),a=n(o(264871)),i=o(854226),r=n(o(294184)),s=o(785893);function c(e){let{labelId:t,isStandalone:o}=e;return(0,s.jsx)("div",{className:(0,r.default)(a.default.labelRow,{[a.default.standaloneLabelRow]:o}),children:(0,s.jsx)(i.Labels,{labels:[t],showName:!0})})}},321706:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCartClick:t,cartCount:o,catalogId:n,canManageCatalog:a,onSendCatalog:i,onOpenCollections:r,onOpenMerchantDetailsForm:s,onOpenSettings:c,cartIconTheme:u}=e,f=t&&null!=n?(0,g.jsx)(d.CartIconMenuBarItem,{cartCountText:(0,l.isNumber)(o)&&o>0?o.toString():void 0,onClick:t,catalogOwnerJid:n,cartIconTheme:u}):null;return(0,g.jsxs)(g.Fragment,{children:[f,(0,g.jsx)(C,{canManageCatalog:a,onSendCatalog:i,onOpenCollections:r,onOpenMerchantDetailsForm:s,onOpenSettings:c})]})};var l=o(425315),a=n(o(932325)),i=o(784424),r=o(97858),s=o(459857),c=n(o(562217)),d=o(260262),u=o(614071),f=o(305309),p=o(281701),h=o(548360),g=o(785893);function C(e){let{canManageCatalog:t,onSendCatalog:o,onOpenCollections:n,onOpenMerchantDetailsForm:l,onOpenSettings:d}=e;return t?(0,g.jsx)(p.MenuBarItem,{testid:"menu-bar-menu",icon:(0,g.jsx)(i.MenuIcon,{}),title:a.default.t(451),children:(0,g.jsxs)(u.Dropdown,{type:u.MenuType.DropdownMenu,flipOnRTL:!0,dirX:u.DirX.LEFT,children:[(0,g.jsx)(f.DropdownItem,{testid:"mi-foward menu-item",action:o,children:a.default.t(312)}),n&&(0,g.jsx)(f.DropdownItem,{testid:"mi-collections menu-item",action:n,children:h.fbt._("Collections",null,{hk:"1VWu7A"})}),(0,r.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)((0,s.getMeUser)().user)&&l&&(0,g.jsx)(f.DropdownItem,{testid:"merchant-details",action:l,children:h.fbt._("Business details",null,{hk:"m9xzp"})},"merchantDetails"),(0,r.canToggleCartOnOff)()&&d&&(0,g.jsx)(f.DropdownItem,{testid:"mi-settings menu-item",action:d,children:h.fbt._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,g.jsx)(p.MenuBarItem,{testid:"menu-bar-catalog-link",icon:(0,g.jsx)(c.default,{}),title:h.fbt._("Catalog link",null,{hk:"M36Dw"}),onClick:o})}},634018:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductCatalog:t,title:o,subtitle:n,animation:a,sectionTheme:i="padding",shouldLog:r,catalog:u,onProductDetail:f,filterProductId:g,productsToShow:C=6,hideIncompleteRows:b=!1,showProductPlaceholders:j,seeMoreOverlay:E,catalogEntryLabel:I,showShopsLogo:O}=e,w=(0,x.useContext)(m.DrawerContext);(0,x.useEffect)((()=>{r&&null!=u&&(0,c.logBusinessProfileCatalogView)({catalogOwnerWid:u.id,catalogContext:(0,d.getProductCatalogContext)(w)})}),[]);const A=(0,S.jsx)(k,{catalogEntryLabel:I,onClick:()=>t((0,d.getProductCatalogContext)(w),"ContactInfo")}),L=(0,S.jsx)(T,{productsToShow:C,catalog:u,hideIncompleteRows:b,filterProductId:g,seeMoreOverlay:E,showProductPlaceholders:j,onProductThumbClick:(e,o)=>e?t((0,d.getProductCatalogContext)(w),"ContactInfo"):(e=>{r&&(0,c.logProfileProductClick)({product:(0,s.unproxy)(e),catalogContext:(0,d.getProductCatalogContext)(w)}),f(e)})(o),onProductImageClick:()=>t((0,d.getProductCatalogContext)(w),"ContactInfo")}),M=n?(0,S.jsx)(h.default,{xstyle:y.subtitle,children:n}):null,R=(0,S.jsxs)(p.FlexRow,{align:"center",children:[M,(0,S.jsx)(h.default,{children:(0,S.jsx)(l.ChevronRightAltIcon,{xstyle:y.chevron,directional:!0})})]});return(0,S.jsxs)(_.default,{title:o||v.fbt._("Products",null,{hk:"3Ky71N"}),titleOnClick:()=>t((0,d.getProductCatalogContext)(w),"ContactInfo"),subtitle:R,theme:i,animation:a,children:[L,A,!0===O?(0,S.jsx)(P,{}):null]})};var l=o(647276),a=o(307476),i=o(97858),r=o(494517),s=o(411067),c=o(893225),d=o(623797),u=o(190417),f=n(o(453812)),p=o(917426),h=n(o(565534)),g=o(242645),C=n(o(817040)),m=o(38574),_=n(o(337090)),v=o(548360),x=o(667294),b=n(o(156720)),S=o(785893);const y={addIcon:{position:"g0rxnol2",width:"d0st09ow",height:"bbl9m3t3",paddingBottom:"aus7m8kn",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",borderTop:"rom324v9",borderEnd:"na7ur5ty",borderBottom:"gjeyj30g",borderStart:"bmro6pka",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":before":{position:"oxaw94s0",top:"ijeufx4s",start:"meq75apj",display:"oa3lyrek",width:"slvs4faj",height:"jaq0b63r",content:"lij4d1x3",background:"nkmjymgc",transform:"k95pjfv1"},":after":{position:"dkvli2l0",top:"qi2a0yje",start:"bunkm0yn",display:"b0f5vxaq",width:"qbfuvgfc",height:"i0r7mfoh",content:"k15o3o4i",background:"fji5f4ri",transform:"cai600lj"}},largeGallerySpacing:{width:"b8z6cu80",height:"bbl9m3t3",marginEnd:"jnwc1y2a",marginBottom:"qrsyb3yy"},placeholderThumb:{width:"d0st09ow",height:"fujac5jc",paddingBottom:"lxvt2vq0",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",backgroundColor:"o27ac25e",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},subtitle:{marginTop:"tt8xd2xn",marginEnd:"q471nw87",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6"},catalogEntryButton:{marginTop:"iin4x6c7",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",textAlign:"qfejxiq4"},shopsLogo:{marginTop:"qt60bha0",textAlign:"qfejxiq4"},chevron:{color:"cs9t9or5"}};function k(e){let{catalogEntryLabel:t,onClick:o}=e;return null==t?null:(0,S.jsx)("div",{className:(0,b.default)(y.catalogEntryButton),children:(0,S.jsx)(f.default,{testid:"catalog-entry-button",type:"secondary",onClick:o,children:t})})}function P(){return(0,S.jsx)("div",{className:(0,b.default)(y.shopsLogo),children:(0,S.jsx)(a.FbshopsIcon,{displayInline:!0})})}function T(e){let t,o,{productsToShow:n,catalog:l,hideIncompleteRows:a,filterProductId:s,seeMoreOverlay:c,showProductPlaceholders:d,onProductThumbClick:f,onProductImageClick:p}=e,h=[],m=n;if((0,i.canSeeBizProfileV3)()&&(o="largeGallerySpacing"),null!=l){t=l.productCollection;const e=l.productCollection.getProductModels();a&&h.length>3&&(m=Math.min(n,e.length-h.length%3)),h=e.slice(0,m+1).filter((e=>e.id.toString()!==s)).map(((e,t)=>{var n;const a=null===(n=e.getPreviewImage())||void 0===n?void 0:n.mediaData;if(!a)return(0,S.jsx)(S.Fragment,{});let i;c&&t===m-1&&l.productCollection.length>m-1&&(i=v.fbt._("See more",null,{hk:"450jnd"}));return(0,S.jsx)(u.ProductThumb,{onClick:()=>f(null!=i,e),mediaData:a,overlayContent:i,theme:o},e.id.toString())})).slice(0,m)}else t=new r.ProductCollection,t.add({id:"_ph"});if(!h.length&&!d)return null;let _,x=y.addIcon;for(;d&&h.length<m;)h.push((0,S.jsx)(C.default,{onClick:p,title:v.fbt._("Add product",null,{hk:"3gdovw"}),xstyle:[x,"largeGallerySpacing"===o&&y.largeGallerySpacing],children:(0,S.jsx)(S.Fragment,{})},`_ph${h.length}`)),x=y.placeholderThumb;return(0,i.canSeeBizProfileV3)()&&(_="space-between"),(0,S.jsx)(g.MediaGalleryView,{productMedias:h,mediaCollection:t,justify:_})}},117078:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(22323),a=o(114850),i=n(o(42164)),r=o(893225),s=o(623797),c=n(o(748356)),d=o(885725),u=o(418150),f=n(o(305916)),p=n(o(916578)),h=n(o(168625)),g=n(o(531633)),C=o(38574),m=o(940237),_=n(o(484108)),v=o(548360),x=o(667294),b=n(o(156720)),S=o(785893);const y={paddingTop:"i5tg98hk",paddingEnd:"iffbo4e8",paddingBottom:"aiput80m",paddingStart:"khscay3k",lineHeight:"qg52vu03"},k="catalog-link-anchor";function P(e,t){const{onBack:o,onCancel:n,catalog:P,contact:T,prompt:j,centerDrawer:E,onSend:I}=e,O=(0,x.useContext)(C.DrawerContext),w=()=>{a.ModalManager.open((0,S.jsx)(f.default,{catalog:P,onSend:I}),{transition:"modal-flow"}),(0,r.logShareCatalogViaWALinkClick)({catalogOwnerWid:P.id,catalogContext:(0,s.getProductCatalogContext)(O)})},A=(0,S.jsx)(d.DetailImage,{id:T.id,size:82,quality:d.DetailImageQuality.High});let L,M;return E&&(L="labels",M="center-column"),(0,S.jsxs)(h.default,{ref:t,theme:L,children:[(0,S.jsx)(m.DrawerHeader,{testid:"catalog-link-title",title:v.fbt._("Catalog link",null,{hk:"M36Dw"}),onBack:o,onCancel:n,type:m.DRAWER_HEADER_TYPE.SMALL}),(0,S.jsxs)(g.default,{theme:M,children:[(0,S.jsx)("div",{className:(0,b.default)(y),children:j}),(0,S.jsx)(c.default,{image:A,primary:(0,S.jsx)(u.Name,{contact:T,useVerifiedName:!0}),theme:"identity",secondary:(0,S.jsx)(i.default,{id:k,href:(0,l.createCatalogLink)(P.id.user),onClick:e=>{e.preventDefault(),w()},noHandle:!0})}),(0,S.jsx)(_.default,{onClick:w}),(0,S.jsx)(p.default,{elementId:k,onClick:()=>{(0,r.logShareCatalogCopyLinkClick)({catalogOwnerWid:P.id,catalogContext:(0,s.getProductCatalogContext)(O)})}})]})]},"catalog-link-drawer")}var T=(0,x.forwardRef)(P);t.default=T},803853:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return i.apply(this,arguments)};var l=n(o(348926)),a=o(69108);function i(){return(i=(0,l.default)((function*(e){var t;let o=a.BusinessProfileCollection.get(e);if(!o||o.stale){const t=yield a.BusinessProfileCollection.update(e);o=Array.isArray(t)?t[0]:t}return(null===(t=o.profileOptions)||void 0===t?void 0:t.cartEnabled)||!1}))).apply(this,arguments)}},695088:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contactId:t,onSendProduct:o,onReportProduct:n,onProductLinkClick:g,onProductMoreInformation:C,onCartClick:m,cartCount:_,catalogId:v}=e,x=m&&null!=v?(0,h.jsx)(c.CartIconMenuBarItem,{cartCountText:(0,l.isNumber)(_)&&_>0?_.toString():void 0,onClick:m,catalogOwnerJid:v}):null;return(0,h.jsxs)(h.Fragment,{children:[x,(0,h.jsx)(f.MenuBarItem,{testid:"menu-bar-product-link",icon:(0,h.jsx)(s.default,{}),title:p.fbt._("Product link",null,{hk:"1RIlvV"}),onClick:g}),(0,h.jsx)(f.MenuBarItem,{testid:"menu-bar-menu",icon:(0,h.jsx)(i.MenuIcon,{}),title:a.default.t(451),children:(0,h.jsxs)(d.Dropdown,{type:d.MenuType.DropdownMenu,flipOnRTL:!0,dirX:d.DirX.LEFT,children:[(0,h.jsx)(u.DropdownItem,{testid:"mi-send menu-item",action:o,children:p.fbt._("Send product",null,{hk:"1wkzue"})}),(0,r.canSeeECommerceComplianceIndiaSoftEnforcement)(t)&&(0,h.jsx)(u.DropdownItem,{testid:"mi-send menu-item",action:C,children:p.fbt._("More information",null,{hk:"2JHvi1"})}),(0,h.jsx)(u.DropdownItem,{testid:"mi-report menu-item",action:n,children:p.fbt._("Report product",null,{hk:"1jgCyX"})})]},"ProductDetailHeader")})]})};var l=o(425315),a=n(o(932325)),i=o(784424),r=o(97858),s=n(o(562217)),c=o(260262),d=o(614071),u=o(305309),f=o(281701),p=o(548360),h=o(785893)},371374:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseErrorState=function(e,t){if(e instanceof l.Unmount);else if(e instanceof n.ServerStatusCodeError)"not_found"===e.status||404===e.status?t("NOT_FOUND"):(t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch from server`);else{if(!(e instanceof n.WebdDrop))throw t("ERROR"),e;t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch due to WebdDrop`}};var n=o(984330),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=a(t);if(o&&o.has(e))return o.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=l?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,o&&o.set(e,n);return n}(o(288057));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(a=function(e){return e?o:t})(e)}},857935:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{fetchState:t}=e;switch(t){case"NONE":case"SUCCESS":return null;case"PENDING":return(0,s.jsxs)("div",{className:(0,r.default)(c),children:[(0,s.jsx)(l.Spinner,{size:14,color:l.colorOptions.highlight}),(0,s.jsx)(a.TextSpan,{className:(0,r.default)(d,u),theme:"small",children:i.fbt._("Waiting for network",null,{hk:"3I2DtN"})})]});case"NOT_FOUND":case"ERROR":return(0,s.jsx)("div",{className:(0,r.default)(c),children:(0,s.jsx)(a.TextSpan,{className:(0,r.default)(d),theme:"small",color:"danger",children:"NOT_FOUND"===t?i.fbt._("This product or service has been removed",null,{hk:"3mE1ld"}):i.fbt._("Something went wrong",null,{hk:"7C9hw"})})});default:throw new Error(`invalid fetchState ${t}`)}};var l=o(955877),a=o(206642),i=o(548360),r=n(o(156720)),s=o(785893);const c={position:"lhggkp7q",zIndex:"nbczt5ty",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",paddingTop:"fbgy3m38",paddingEnd:"ft2m32mm",paddingBottom:"oq31bsqd",paddingStart:"nu34rnf1",backgroundColor:"ihvf49ua",boxShadow:"g07l9dru",opacity:"bs7a17vp",transitionDelay:"kji9i36c",transitionTimingFunction:"bkifpc9x"},d={marginTop:"tt8xd2xn",marginEnd:"spjzgwxb",marginBottom:"mpdn4nr2",marginStart:"a3oefunm",fontWeight:"hnx8ox4h"},u={color:"evzurl1e"}},562217:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)(l.LinkIcon,{className:(0,a.default)(r.linkIcon,"inherit-color"===e.theme&&r.inheritColor)})};var l=o(972989),a=n(o(156720)),i=o(785893);const r={linkIcon:{color:"svlsagor"},inheritColor:{color:"gtscxtjd"}}},42164:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{id:t,href:o,onClick:n,noHandle:c}=e;return(0,i.jsx)("span",{className:(0,a.default)(r),children:(0,i.jsx)(l.SelectableLink,{id:t,href:o,className:(0,a.default)(s),selectable:!0,onClick:n,"data-nohandle":c,children:o})})};var l=o(746477),a=n(o(156720)),i=o(785893);const r={wordWrap:"b6f1x6w7",whiteSpace:"hmy10g0s"},s={color:"e1vllz7m"}},485132:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleCollectionAppeal=function(){return T.apply(this,arguments)},t.handleCollectionDelete=function(e,t,o){return new Promise(((n,l)=>{d.ModalManager.open((0,S.jsx)(x.default,{title:b.fbt._("Delete Collection",null,{hk:"2y3JZ4"}),okText:b.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:b.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{d.ModalManager.close(),function(){return P.apply(this,arguments)}(e,t,o).then((e=>n(e))).catch((e=>l(e)))},onCancel:()=>{d.ModalManager.close(),n(!1)},children:(0,S.jsx)("div",{children:b.fbt._("When you delete this collection, items in the collection will not be deleted.",null,{hk:"192Jcv"})})}))}))},t.handleCollectionReorder=function(){return I.apply(this,arguments)},t.handleCollectionSave=function(e,t,o,n,l,a){let i;h.QPL.markerPoint(p.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_start"),i=t?(0,f.editCollection)(t.id.toString()||"",o===t.name?void 0:o,!1,n.map((e=>e.id.toString())),l.map((e=>e.id.toString())),a.session.toString()).then((a=>(h.QPL.markerPoint(p.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),t.name=o,t.reviewStatus=a.reviewStatus,e.collections.replaceId(t.id,a.id),0===n.length&&0===l.length||(t.productCollection.reset(),t.afterCursor=void 0,e.collections.reset(),e.collections.afterCursor=""),!0))):(0,f.createCollection)(o,n.map((e=>e.id.toString())),a.session.toString()).then((t=>(h.QPL.markerPoint(p.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),(0,_.logCollectionCreated)({catalogContext:a,collectionId:t.id,productCount:n.length}),e.collections.reset(),e.collections.afterCursor="",!0)));return i.catch((e=>{const t=e=>{g.ToastManager.open((0,S.jsx)(v.Toast,{msg:e,id:(0,v.genId)("catalog_save_collection_failed")}))};let o=b.fbt._("Failed to save collection",null,{hk:"3Chwhp"});if("not-acceptable"===e.text)return"products"===e.fieldName&&"duplicate"===e.fieldReason&&(o=b.fbt._("You already have a collection with this group of items. Add or delete items to make a different group.",null,{hk:"1fZXaY"})),"collection"===e.fieldName&&"empty"===e.fieldReason&&(o=b.fbt._("A collection must have at least one item in it",null,{hk:"39rLHR"})),t(o),!1;throw __LOG__(4,!0,new Error,!0)`Failed to save collection, error: ${e}`,SEND_LOGS("Saving collection failed"),t(o),e}))},t.handleProductDelete=function(e,t,o,n){return(0,m.logDeleteProductClick)(t,1,o),new Promise(((l,a)=>{d.ModalManager.open((0,S.jsx)(x.default,{title:b.fbt._("Delete Item",null,{hk:"20DBg1"}),okText:b.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:b.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{d.ModalManager.close(),h.QPL.markerStart(p.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,{annotations:{string:{EntryPoint:n}}}),function(){return y.apply(this,arguments)}(e,t,o).then((e=>{h.QPL.markerEnd(p.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,i.QuickLogActionType.SUCCESS),l(e)})).catch((e=>{h.QPL.markerEnd(p.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,i.QuickLogActionType.FAIL),a(e)}))},onCancel:()=>{d.ModalManager.close(),l(!1)},children:(0,S.jsx)("div",{children:b.fbt._("Are you sure you want to delete this item from your catalog?",null,{hk:"2WwNSA"})})}))}))},t.handleProductVisibilityChange=function(e,t,o,n){const l=t.id.toString(),a=!t.isHidden;a?(0,m.logCatalogProductHideClick)(l,o):(0,m.logCatalogProductShowClick)(l,o);return new Promise(((r,s)=>{const c=t.isHidden?b.fbt._("Show item in your catalog?",null,{hk:"VfDKM"}):b.fbt._("Hide item in your catalog?",null,{hk:"1KmslI"});d.ModalManager.open((0,S.jsx)(x.default,{okText:b.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:b.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{h.QPL.markerStart(p.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{annotations:{string:{EntryPoint:n}}}),d.ModalManager.close(),function(){return k.apply(this,arguments)}(e,t).then((()=>{h.QPL.markerEnd(p.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,i.QuickLogActionType.SUCCESS),a?(0,m.logCatalogProductHideSuccess)(l,o):(0,m.logCatalogProductShowSuccess)(l,o),r(!0)})).catch((e=>{h.QPL.markerEnd(p.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,i.QuickLogActionType.FAIL),a?(0,m.logCatalogProductHideFailed)(l,o):(0,m.logCatalogProductShowFailed)(l,o),s(e)}))},onCancel:()=>{d.ModalManager.close(),a?(0,m.logCatalogProductHideCancelled)(l,o):(0,m.logCatalogProductShowCancelled)(l,o),r(!1)},children:(0,S.jsx)("div",{children:c})}))}))};var l=n(o(348926)),a=o(924583),i=o(15842),r=o(984330),s=o(418012),c=o(791357),d=o(114850),u=o(494517),f=o(535190),p=o(316348),h=o(555622),g=o(390737),C=o(841208),m=o(893225),_=o(338649),v=o(275125),x=n(o(744259)),b=o(548360),S=o(785893);function y(){return(y=(0,l.default)((function*(e,t,o){try{return yield(0,s.deleteProducts)([t.id.toString()]),(0,m.logDeleteProductSuccess)(t,1,o),e.productCollection.evictImagesFromCache(t.id.toString()),e.productCollection.remove(t.id.toString()),e.collections&&e.collections.forEach((e=>e.productCollection.remove(t.id.toString()))),!0}catch(e){return(0,a.filteredCatch)(r.ServerStatusCodeError,(e=>((0,m.logDeleteProductFailed)(t,1,o,e.statusCode),g.ToastManager.open((0,S.jsx)(v.Toast,{msg:b.fbt._("Failed to delete product",null,{hk:"18E03X"}),id:(0,v.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function k(){return(k=(0,l.default)((function*(e,t){yield(0,C.productVisibilitySet)([{productId:t.id.toString(),isHidden:!t.isHidden}]),t.isHidden=!t.isHidden;[e.productCollection,...(e.collections||[]).map((e=>e.productCollection))].forEach((e=>{const o=e.get(t.id);o&&(o.isHidden=t.isHidden)}))}))).apply(this,arguments)}function P(){return(P=(0,l.default)((function*(e,t,o){try{return yield(0,f.deleteCollection)(t.id.toString(),o.session.sessionId.toString()),e.collections.remove(t.id.toString()),(0,_.logCollectionDeleted)({catalogContext:o,collectionId:t.id}),!0}catch(e){return(0,a.filteredCatch)(r.ServerStatusCodeError,(e=>(__LOG__(4,!0,new Error,!0)`Failed to delete collection, error: ${e}`,SEND_LOGS("Deleteing collection failed"),g.ToastManager.open((0,S.jsx)(v.Toast,{msg:b.fbt._("Failed to delete collection",null,{hk:"S7UrR"}),id:(0,v.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function T(){return(T=(0,l.default)((function*(e,t){h.QPL.markerPoint(p.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_start"),yield(0,f.appealCollection)(e.id.toString(),t),e.set({canAppeal:!1,reviewStatus:u.PRODUCT_REVIEW_STATUS.PENDING}),h.QPL.markerPoint(p.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_end")}))).apply(this,arguments)}const j={OUT_OF_SYNC:{title:b.fbt._("Changes cannot be saved",null,{hk:"2N3tQ7"}),description:b.fbt._("Please refresh and try again.",null,{hk:"3gfRqz"}),okText:b.fbt._("Reload",null,{hk:"3hzNTy"})},SERVER_ERROR:{title:b.fbt._("Error",null,{hk:"1jfaqb"}),description:b.fbt._("Something went wrong. Please try again.",null,{hk:"CZwf"}),okText:b.fbt._("OK",null,{hk:"2jkNuT"})},HTTP_NETWORK_ERROR:{title:b.fbt._("No internet connection",null,{hk:"4psTpe"}),description:b.fbt._("Check your internet connection and try again.",null,{hk:"2QcT2T"}),okText:b.fbt._("OK",null,{hk:"3si9C7"})}},E=e=>e instanceof c.HttpNetworkError?j.HTTP_NETWORK_ERROR:e instanceof f.CollectionReorderError?j.OUT_OF_SYNC:j.SERVER_ERROR;function I(){return(I=(0,l.default)((function*(e,t){try{const o=yield(0,f.reorderCollection)(e);return o&&(0,_.logCollectionReorder)({catalogContext:t,movesCount:e.length}),o}catch(e){const{title:t,description:o,okText:n}=E(e);return new Promise(((l,a)=>{d.ModalManager.open((0,S.jsx)(x.default,{title:t,okText:n,onOK:()=>{d.ModalManager.close(),e instanceof c.HttpNetworkError?a(e):l(!1)},children:(0,S.jsx)("div",{children:o})}),{blockClose:!0})}))}}))).apply(this,arguments)}},76973:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,testid:o="add-item"}=e,n=(0,r.default)(c.addItemButton,"default"===e.theme&&c.themeDefault,"in-list"===e.theme&&c.themeInList,"collections"===e.theme&&c.themeCollections),d=(0,s.jsx)(a.default,{title:i.fbt._("Add new item",null,{hk:"2Tc6p3"}),onClick:()=>{},xstyle:c.addIcon,children:(0,s.jsx)(s.Fragment,{})});return(0,s.jsx)(l.default,{theme:"add-item",image:d,customImage:!0,primary:e.title||i.fbt._("Add new item",null,{hk:"2Tc6p3"}),className:n,onClick:t,idle:e.idle,testid:o})};var l=n(o(748356)),a=n(o(817040)),i=o(548360),r=n(o(156720)),s=o(785893);const c={addIcon:{position:"g0rxnol2",width:"o22r6p4i",height:"dng4fqht",borderTop:"btoh1681",borderEnd:"sngpozrj",borderBottom:"c2eze1zb",borderStart:"bd2x2sk5",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"},"::before":{position:"jiaumjzp",top:"iu8zqbur",left:"c4kjmepz",display:"chh99fau",width:"ln1ej6zg",height:"i0a739jv",content:"ckfn5qle",backgroundColor:"t4c1fkc8",transform:"bsbo06yw"},"::after":{position:"tkubpkrc",top:"khfyavfg",left:"nly7wueh",display:"l1wvjj35",width:"dbiwaw4z",height:"l9a7srmz",content:"lw9p9708",backgroundColor:"sadoqatt",transform:"n2obx7p9"}},addItemButton:{borderTop:"q4zabkcz"},themeDefault:{paddingTop:"pxvlsfnc",paddingEnd:"f9ovudaz",paddingBottom:"n3bptxsn",paddingStart:"gx1rr48f",marginTop:"dj1c3cmq",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},themeInList:{paddingTop:"fbgy3m38",paddingEnd:"kyc7k6mt",paddingBottom:"oq31bsqd",paddingStart:"f78eapp6"},themeCollections:{paddingTop:"fbgy3m38",paddingEnd:"kyc7k6mt",paddingBottom:"oq31bsqd",paddingStart:"f78eapp6",marginBottom:"inogquss",borderTop:"q4zabkcz",borderBottom:"qmxv8cnq"}}},357618:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionIntegrityBanner=function(e){const{collection:t,onEditCollection:o}=e,n=()=>{null==o||o(t)},s=()=>{i.ModalManager.open((0,g.jsx)(u.default,{collection:t}))};switch(t.reviewStatus){case r.PRODUCT_REVIEW_STATUS.PENDING:return(0,g.jsxs)("div",{className:(0,h.default)(C.pendingBanner),children:[p.fbt._("This collection is being reviewed. Once it’s approved, your customers will see it in your catalog.",null,{hk:"3DQb07"}),(0,g.jsx)("div",{className:(0,h.default)(C.iconContainerPending),children:(0,g.jsx)(l.InfoIcon,{})})]});case r.PRODUCT_REVIEW_STATUS.REJECTED:return(0,a.canAppealCollections)()?(0,g.jsx)(v,{collection:t,onRename:n,onAppeal:s}):(0,g.jsx)(_,{onRename:n});default:return null}},t.getCollectionIntegrityHeight=function(e){return(0,a.canAppealCollections)()&&e.reviewStatus===r.PRODUCT_REVIEW_STATUS.REJECTED?2*s.PRODUCT_LIST_ITEM_HEIGHT+10:s.PRODUCT_LIST_ITEM_HEIGHT+10};var l=o(731085),a=o(97858),i=o(114850),r=o(494517),s=o(252323),c=o(745571),d=n(o(285158)),u=n(o(159090)),f=o(883714),p=o(548360),h=n(o(156720)),g=o(785893);const C={iconContainerRejected:{position:"lhggkp7q",end:"h223g3sc",color:"mvxzr2tb",wordBreak:"cw3vfol9"},iconContainerRejectedWithAppeal:{end:"ku3lw4j3"},rejectedBanner:{display:"p357zi0d",alignItems:"gndfcl4n",height:"m9lpqg3r",minHeight:"gc15jzxb",paddingTop:"i5tg98hk",paddingEnd:"rmnzjp8r",paddingBottom:"przvwfww",paddingStart:"khscay3k",marginTop:"o9i7y497",marginBottom:"brac1wpa",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"dsh4tgtl",lineHeight:"erpdyial",color:"e7al1772",backgroundColor:"io9pg0pp"},rejectedBannerWithAppeal:{display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"ac2vgrno",height:"g4tbm4ed",minHeight:"gc15jzxb",paddingTop:"i5tg98hk",paddingEnd:"sjajxv0r",paddingBottom:"przvwfww",paddingStart:"khscay3k",marginTop:"o9i7y497",marginBottom:"brac1wpa",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"dsh4tgtl",lineHeight:"erpdyial",color:"e7al1772",backgroundColor:"io9pg0pp"},rejectedBannerDarkBackground:{backgroundColor:"og7unhan"},pendingBanner:{display:"p357zi0d",alignItems:"gndfcl4n",height:"m9lpqg3r",minHeight:"gc15jzxb",paddingTop:"i5tg98hk",paddingEnd:"rmnzjp8r",paddingBottom:"przvwfww",paddingStart:"khscay3k",marginTop:"o9i7y497",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"dsh4tgtl",lineHeight:"erpdyial",color:"e7al1772",wordBreak:"cw3vfol9",backgroundColor:"a5fn8qve"},iconContainerPending:{position:"lhggkp7q",end:"h223g3sc"}};function m(e){return(0,g.jsx)("div",{className:(0,h.default)(C.iconContainerRejected,e.withAppeal&&C.iconContainerRejectedWithAppeal),children:(0,g.jsx)(l.InfoIcon,{})})}function _(e){let{onRename:t}=e;const o=(0,f.useIsDarkTheme)();return(0,g.jsxs)("div",{className:(0,h.default)(C.rejectedBanner,o&&C.rejectedBannerDarkBackground),children:[p.fbt._("This collection wasn’t approved because it doesn’t follow our guidelines.",null,{hk:"4bjvNq"}),(0,g.jsx)(d.default,{onClick:t,children:p.fbt._("Rename",null,{hk:"2U6ctb"})}),(0,g.jsx)(m,{withAppeal:!1})]})}function v(e){let{collection:t,onRename:o,onAppeal:n}=e;const l=(t.rejectReason||"other_violation").toLowerCase(),a=(0,c.getRejectedCollectionCopy)(l,t.commerceUrl),i=(0,f.useIsDarkTheme)(),r=(0,g.jsx)(d.default,{onClick:o,children:p.fbt._("rename the collection",null,{hk:"2j5eIB"})});if(t.canAppeal){const e=(0,g.jsx)(d.default,{onClick:n,children:p.fbt._("request another review",null,{hk:"2BSEoy"})}),t=p.fbt._("You can {rename_collection_link} or {request_another_review_link}.",[p.fbt._param("rename_collection_link",r),p.fbt._param("request_another_review_link",e)],{hk:"49Nar9"});return(0,g.jsxs)("div",{className:(0,h.default)(C.rejectedBannerWithAppeal,i&&C.rejectedBannerDarkBackground),children:[a.first,(0,g.jsx)("br",{}),t,(0,g.jsx)(m,{withAppeal:!0})]})}const s=p.fbt._("You can {rename_collection_link}.",[p.fbt._param("rename_collection_link",r)],{hk:"33lrOJ"});return(0,g.jsxs)("div",{className:(0,h.default)(C.rejectedBannerWithAppeal,i&&C.rejectedBannerDarkBackground),children:[a.second,(0,g.jsx)("br",{}),s,(0,g.jsx)(m,{withAppeal:!0})]})}},189167:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductDetail:t,onProductShare:o,onCartOpen:n,shareLinks:_,canManageCatalog:v}=e,[x,b]=(0,g.useState)(void 0),S=(0,C.useModelValues)(e.catalog,["productCollection","afterCursor","id","index"]),y=e=>{o&&o(e)};if(!S.productCollection||!S.productCollection.getProductModels(e.canManageCatalog).length)return null;return(0,m.jsx)(f.default,{flatListControllers:[e.flatListController],children:(0,m.jsx)(u.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=void 0!==n;return S.productCollection.getProductModels(v).map((t=>({itemKey:`${t.id.toString()}_${e.toString()}`,product:t})))})(),renderItem:e=>{let{product:o}=e;return(0,m.jsx)(h.DrawerContext.Consumer,{children:e=>{const i=(0,c.getProductCatalogContext)(e);return(0,m.jsx)(d.default,{product:o,onCartOpen:n,onClick:()=>((e,o)=>((0,r.logCatalogListDetailClick)({product:(0,a.unproxy)(e),catalogContext:o}),b(e.id.toString()),t(e)))(o,i),onProductShare:_?y:null,onProductDelete:e=>((e,t)=>{(0,s.handleProductDelete)(S,e,t,"Catalog").then((()=>{e.id===x&&(l.DrawerManager.closeDrawerMid(),b(void 0))}))})(e,i),onProductHideShow:e=>((e,t)=>{(0,s.handleProductVisibilityChange)(S,e,t,"Catalog")})(e,i),canManageCatalog:v})}})},defaultItemHeight:i.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:p.KeyOrder.INVERSE})})};var l=o(900316),a=o(411067),i=o(252323),r=o(893225),s=o(485132),c=o(623797),d=n(o(843015)),u=o(261801),f=n(o(927629)),p=o(44950),h=o(38574),g=o(667294),C=o(990144),m=o(785893)},128156:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogCategoriesBanner=function(e){let{catalog:t}=e;const{id:o,hasCatalogCategories:n}=(0,c.useModelValues)(t,["id","hasCatalogCategories"]);if((0,s.useEffect)((()=>{null==n&&(0,a.queryCatalogHasCategories)(o).then((e=>{t.set({hasCatalogCategories:e})}))}),[n,o,t]),!1===n||null==n)return null;return(0,d.jsx)(i.TextDiv,{xstyle:[u.banner,l.uiPadding.all16],size:"13",color:"dark",children:r.fbt._("Use WhatsApp on your phone to browse product categories.",null,{hk:"7z4dS"})})};var l=o(50010),a=o(841208),i=o(206642),r=o(548360),s=o(667294),c=(n(o(156720)),o(990144)),d=o(785893);const u={banner:{backgroundColor:"se2m7z6i",display:"p357zi0d",alignItems:"gndfcl4n",borderBottom:"daad4uqs"}}},881053:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o;const n=(0,p.default)(),[m,_]=(0,f.useState)({state:g.NOT_STARTED}),[v,x]=(0,f.useState)(e.existingPostcode),b=e.existingPostcode===v,S=function(){var t=(0,l.default)((function*(){if("string"==typeof v){_({state:g.IN_PROGRESS});try{const t=yield(0,a.verifyPostcode)(e.catalogId,v);n.aborted||_({state:g.COMPLETED,data:t}),"success"===(null==t?void 0:t.resultCode)&&e.onSuccess()}catch(e){if(__LOG__(4,!0,new Error,!0)`[direct-connection] Updating postcode failed ${e}`,SEND_LOGS("[direct-connection] Updating postcode failed"),n.aborted)return;_({state:g.FAILED})}}}));return function(){return t.apply(this,arguments)}}(),y=(0,f.useCallback)((()=>_({state:g.NOT_STARTED})),[]),k="unserviceable_location"===(null===(t=m.data)||void 0===t?void 0:t.resultCode);let P=null;const T=u.fbt._("Enter a valid Pincode.",null,{hk:"21I4U6"});("invalid_postcode"===(null===(o=m.data)||void 0===o?void 0:o.resultCode)||"string"!=typeof v||0===v.length||0!==v.search("^[0-9]{6}$"))&&(P=T);const j=m.state===g.IN_PROGRESS,E=j||null!=P||b,I=()=>{E||(k?y():S())};return(0,h.jsx)(d.default,{onOK:I,title:k?null:u.fbt._("Change Pincode",null,{hk:"3R9hJZ"}),okDisabled:E,okSpinner:j,okText:k?u.fbt._("OK",null,{hk:"ReE7S"}):u.fbt._("CONTINUE",null,{hk:"3HQEmh"}),onCancel:k?null:e.onCancel,cancelDisabled:j,children:k?(0,h.jsx)(s.Text,{as:"p",testid:"catalog_postcode_change_modal__unservicable-alert",children:u.fbt._("JioMart doesn’t have items available in that area. You can try a different Pincode.",null,{hk:"lB5OT"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.Text,{as:"p",xstyle:C.infoText,children:u.fbt._("To see JioMart items available in a different area, enter the area’s Pincode.",null,{hk:"3Zntch"})}),(0,h.jsx)(c.TextInput,{testid:"catalog_postcode_change_modal__input",onChange:e=>{y(),x(e)},value:v,managed:!0,editable:!j,managedError:!0,selectOnMount:!0,focusOnMount:!0,error:P,onEnter:()=>{I()}}),(0,h.jsxs)(s.Text,{as:"p",theme:"muted",xstyle:C.privacyText,children:[u.fbt._("By continuing, you agree to share your Pincode and phone number with JioMart. Only JioMart can see your Pincode.",null,{hk:"2XMhtN"})," ",(0,h.jsx)(r.ExternalLink,{href:(0,i.getJioMartPostcodeChangeLearnMoreLink)(),children:u.fbt._("Learn More",null,{hk:"27Rbeo"})})]})]})})};var l=n(o(348926)),a=o(857082),i=o(258105),r=o(977503),s=o(206642),c=o(517732),d=n(o(744259)),u=o(548360),f=o(667294),p=(n(o(156720)),n(o(189957))),h=o(785893);const g=o(76672).Mirrored(["NOT_STARTED","COMPLETED","FAILED","IN_PROGRESS"]),C={infoText:{fontSize:"enbbiyaj",lineHeight:"erpdyial",marginBottom:"t4zgqcuo"},privacyText:{fontSize:"f8jlpxt4",lineHeight:"q5jc98e4",marginTop:"iy2cu22y"}}},92279:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogPostcodeMenu=function(e){const{postcode:t,postcodeLocationName:o,postcodeSetByUser:n}=(0,b.useModelValues)(e.businessDirectConnection,["postcode","postcodeLocationName","postcodeSetByUser"]),{id:T,hasCatalogCategories:j}=(0,b.useModelValues)(e.catalog,["id","hasCatalogCategories"]),E=!0===n,[I,O]=(0,v.useState)(!1),w=()=>{s.ModalManager.close(),O(!1)},A=()=>{s.ModalManager.open((0,k.jsx)(d.default,{existingPostcode:null!=t?t:"",catalogId:T,onCancel:w,onSuccess:()=>{w(),e.postcodeChangeSuccess()}})),O(!0)},L=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,a.delayMs)(e?u.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY:0).then(A)},[M,R]=(0,v.useState)(null),N=(0,v.useRef)(null),D=(0,v.useRef)(null),B=(0,v.useCallback)((()=>R(null)),[]),[H]=(0,y.useTimeout)(B,u.CATALOG_POSTCODE_MENU_TOOLTIP_DURATION),W=(0,v.useCallback)((()=>{const e=D.current?3*D.current.offsetWidth/4:null;R({menu:(0,k.jsx)("div",{style:"number"==typeof e?{maxWidth:`${e}px`}:null,children:(0,k.jsx)(g.Text,{as:"p",children:_.fbt._("Click to change pincode to see items available in your area",null,{hk:"2p5qlf"})})}),anchor:N.current,dirY:p.DirY.TOP,type:p.MenuType.Tooltip,horizontal:!0,tooltipColorScheme:p.TooltipColorScheme.Highlight})}),[]),[F]=(0,y.useTimeout)((()=>{N.current?(W(),H()):__LOG__(3)`[direct-connection] change postcode tooltip is not shown`}),u.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY);(0,v.useEffect)((()=>{E||((0,r.editPostcodeByDefaultEnabled)()?(()=>{if((0,c.getPostcodeAutoOpenChangePostcodeDone)())return!1;const e=(0,c.getPostcodeAutoOpenChangePostcodeCount)();if("number"==typeof e&&e>=2)return!1;return!0})()&&(L(!0),(0,c.setPostcodeAutoOpenChangePostcodeDone)(!0),(()=>{const e=(0,c.getPostcodeAutoOpenChangePostcodeCount)();(0,c.setPostcodeAutoOpenChangePostcodeCount)("number"==typeof e?e+1:1)})()):(()=>{if((0,c.getPostcodeTooltipViewedInSession)())return!1;const e=(0,c.getPostcodeTooltipViewCount)();if("number"==typeof e&&e>=5)return!1;return!0})()&&((()=>{const e=(0,c.getPostcodeTooltipViewCount)();(0,c.setPostcodeTooltipViewCount)("number"==typeof e?e+1:1)})(),(0,c.setPostcodeTooltipViewedInSession)(!0),F()))}),[]),(0,S.default)((()=>{I&&w()}));const[V,z]=(0,v.useState)(0);(0,v.useEffect)((()=>{!0===j&&z((e=>e+1))}),[j]);const U=M?(0,k.jsx)(C.UIE,{displayName:"CatalogPostcodeTooltip",popable:!0,escapable:!0,requestDismiss:B,dismissOnWindowResize:!0,children:(0,k.jsx)(m.default,{tooltip:M})},V):null;return(0,k.jsxs)("div",(0,l.default)((0,l.default)({className:(0,x.default)(P.container)},(0,f.accessibleClickableButtonProps)({onClick:L})),{},{ref:D,children:[(0,k.jsx)("span",{className:(0,x.default)(P.svgWrapper),children:(0,k.jsx)(i.BusinessAddressIcon,{})}),(0,k.jsxs)(h.FlexColumn,{ref:N,children:[(0,k.jsx)(g.Text,{as:"p",xstyle:P.postcodeDescription,children:_.fbt._("Deliver to {postcode-of-a-geographic-area}",[_.fbt._param("postcode-of-a-geographic-area",t)],{hk:"1dDn6Y"})}),(0,k.jsx)(g.Text,{as:"p",xstyle:P.postcodeLocationName,theme:"muted",children:E?o:_.fbt._("Click to change Pincode",null,{hk:"37HAka"})}),U]})]}))},t.MAX_TIMES_POSTCODE_CHANGE_TOOLTIP_TO_SHOW=t.MAX_TIMES_POSTCODE_CHANGE_MODAL_AUTO_OPEN=void 0;var l=n(o(81109)),a=o(36530),i=o(115888),r=o(263079),s=o(114850),c=o(757453),d=n(o(881053)),u=o(70215),f=o(334816),p=o(614071),h=o(917426),g=o(206642),C=o(76215),m=n(o(414437)),_=o(548360),v=o(667294),x=n(o(156720)),b=o(990144),S=n(o(864135)),y=o(85284),k=o(785893);const P={container:{display:"p357zi0d",alignItems:"gndfcl4n",backgroundColor:"ihvf49ua",position:"cca4rwve",top:"qq0sjtgm",zIndex:"l355kaf8",boxShadow:"i35u2c65",":hover":{backgroundColor:"os03hap6"}},svgWrapper:{paddingTop:"nlnf8xo7",paddingBottom:"r219jyu0",paddingStart:"nntdgyy8",paddingEnd:"igb3k0ri",width:"i94gqilv",color:"kv0r5hzt"},postcodeDescription:{lineHeight:"erpdyial",fontSize:"enbbiyaj"},postcodeLocationName:{lineHeight:"r5qsrrlp",fontSize:"f8jlpxt4"}};t.MAX_TIMES_POSTCODE_CHANGE_MODAL_AUTO_OPEN=2;t.MAX_TIMES_POSTCODE_CHANGE_TOOLTIP_TO_SHOW=5},70215:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CATALOG_POSTCODE_MENU_TOOLTIP_DURATION=t.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY=t.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY=void 0;t.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY=500;t.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY=500;t.CATALOG_POSTCODE_MENU_TOOLTIP_DURATION=3500},726808:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(o(348926)),a=o(15842),i=o(287461),r=o(590639),s=o(477627),c=n(o(152943)),d=o(895758),u=o(308084),f=o(644130),p=o(263079),h=o(97858),g=o(316348),C=o(555622),m=o(128156),_=o(92279),v=n(o(81540)),x=o(252323),b=n(o(321706)),S=n(o(803853)),y=o(371374),k=n(o(857935)),P=n(o(76973)),T=n(o(899205)),j=n(o(995949)),E=n(o(887483)),I=o(481296),O=n(o(278901)),w=n(o(795706)),A=n(o(168625)),L=n(o(531633)),M=o(940237),R=o(548360),N=o(667294),D=n(o(156720)),B=n(o(461993)),H=n(o(229439)),W=n(o(470649)),F=o(990144),V=n(o(38751)),z=n(o(189957)),U=o(785893);const G={header:{flex:"kk3akd72"},list:{flex:"kk3akd72",paddingBottom:"oq31bsqd",overflowX:"gfz4du6o",overflowY:"r7fjleex"},listTopMargin:{marginTop:"dj1c3cmq"}};function q(e){var t;const{cartEnabled:o,contact:n,catalog:l,dataSource:a,handleCartClick:s,onCartClick:c,canManageCatalog:d,businessProfile:u,blockCartInterstitialFn:f,onAddProduct:p,onProductDetail:g,onProductShare:C,onCollectionSeeAll:x,onEditCollection:b,onOpenCollections:S,catalogFlatListControllerRef:y,catalogFetchState:j,directConnectionPostcodeEnabled:I,loadingDirectConnectionInfo:A,businessDirectConnection:L,loadingMore:M,postcodeChangeSuccess:N}=e,B=o&&c?s:void 0;let H,W,F,V;if(d&&p&&(H=(0,U.jsx)(P.default,{onClick:()=>p(),theme:"collections",testid:"add-item"})),l&&d&&b){W=l.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))?(0,U.jsx)(P.default,{onClick:()=>{b(null)},theme:"collections",title:R.fbt._("Add new collection",null,{hk:"1DddmB"}),testid:"add-collection"}):null}return l&&a?(F=(0,U.jsx)(v.default,{onCartOpen:B,onProductDetail:g,flatListController:y.current,catalog:l,canManageCatalog:d,shareLinks:d,onProductShare:C,onCollectionSeeAll:x,data:a.getData(),onEditCollection:b}),(0,r.isMDBackend)()&&d&&((0,i.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&o&&!f()&&(0,O.default)(),V=(0,U.jsx)(w.default,{onOpenCollections:S}))):F=(0,U.jsx)(k.default,{fetchState:j}),(0,U.jsxs)(U.Fragment,{children:[u&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{"data-testid":"catalog-header",className:(0,D.default)(G.header),children:(0,U.jsx)(T.default,{profilePicThumb:n.getProfilePicThumb(),contact:n,businessProfile:u})}),l&&(0,h.catalogCategoriesEnabled)()&&(null===(t=u.directConnection)||void 0===t?void 0:t.enabled)?(0,U.jsx)(m.CatalogCategoriesBanner,{catalog:l}):null,l&&I&&!A&&L&&(0,U.jsx)(_.CatalogPostcodeMenu,{catalog:l,businessDirectConnection:L,postcodeChangeSuccess:N})]}),(0,U.jsxs)("div",{"data-testid":"catalog-items",className:(0,D.default)(G.list,u&&G.listTopMargin),children:[V,H,W,F,M&&(0,U.jsx)(E.default,{})]})]})}function K(e,t){const{catalogId:o,setScrollOffset:n,onCartClick:i,onCatalogLinkClick:r,canManageCatalog:h,canLogQpl:m=!0,isPushed:_=!0,scrollOffset:v,autoUpdate:k,businessProfile:P,blockCartInterstitialFn:T=(()=>!1),onAddProduct:E,onProductDetail:O,onProductShare:w,onCollectionSeeAll:D,onEditCollection:G,onOpenCollections:K,onRemoveProduct:Y,onOpenSettings:Q,onOpenMerchantDetailsForm:Z}=e,X=(0,p.enablePostcodeInCatalog)()&&!!P&&(0,d.businessSupportsPostcode)(P),J=(0,z.default)(),$=(0,H.default)(),ee=(0,B.default)($,100),te=(0,W.default)((()=>new j.default)),oe=(0,F.useModelValues)(e.contact,["id"]),ne=(0,N.useMemo)((()=>u.CartCollection.findCart(oe.id.toString())),[oe.id]),[le,ae]=(0,N.useState)(!1),[ie,re]=(0,N.useState)(null),[se,ce]=(0,N.useState)(ne.itemCount),[de,ue]=(0,N.useState)("NONE"),[fe,pe]=(0,N.useState)(null),[he,ge]=(0,N.useState)(null),[Ce,me]=(0,N.useState)(!0),_e=function(){var e=(0,l.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),me(!1)}));return function(){return e.apply(this,arguments)}}(),ve=(0,B.default)((()=>{$(),null==Y||Y()}),100),[xe,be]=(0,N.useState)(),[Se,ye]=(0,N.useState)(!1),ke=()=>{const e=m&&_,t=e?g.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0;f.CatalogCollection.find(o,{markerId:t}).then((t=>{if(J.aborted)return;const o=new s.CatalogWithCollectionsDataSource(t,h||!1,x.PRODUCT_LIST_ITEM_HEIGHT,e),n=new s.CatalogListItemScrollHelper(o);re(t),pe(o),ge(n),ue("SUCCESS"),_e(o).then((()=>{e&&C.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,a.QuickLogActionType.SUCCESS)})).catch((()=>{e&&C.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,a.QuickLogActionType.FAIL)})),(e=>{k&&null!=e&&(e.productCollection.on("add",ee),e.productCollection.on("remove",ve),e.collections.on("add",ee),e.collections.on("remove",ee))})(t),void 0!==v&&te.current.setScrollFromStart(v)})).catch((t=>{e&&C.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,a.QuickLogActionType.FAIL),(0,y.parseErrorState)(t,(e=>{ue(e),me(!1)}))}))},Pe=()=>{X?(ye(!0),c.default.getCypher(o).then((e=>{be(e),ye(!1),ke()}))):ke()};(0,N.useEffect)((()=>{Pe(),(0,S.default)(o).then((e=>{ae(e),e&&ne.on("change:cartItemCollection",(()=>ce(ne.itemCount)))}))}),[]);const Te=(0,V.default)(((e,t)=>{null==n||n(t.scrollTop),(null==he?void 0:he.willLoadMore(t))&&me(!0),null==he||he.onScroll(e,t).then((e=>{e&&me(!1)})).catch((e=>{throw me(!1),e}))}),100),je=()=>{(0,I.qplStartCartView)("Catalog"),null==i||i(oe.id.toString())},Ee=(0,U.jsx)(b.default,{onSendCatalog:()=>{ie&&r(ie,oe)},onCartClick:le?je:void 0,cartCount:se,catalogId:o.toString(),canManageCatalog:h,onOpenCollections:K,onOpenMerchantDetailsForm:Z,onOpenSettings:Q,cartIconTheme:e.headerType===M.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null});return(0,U.jsxs)(A.default,{ref:t,theme:"products",onDrop:e.onBack,children:[(0,U.jsx)(M.DrawerHeader,{title:R.fbt._("Catalog",null,{hk:"3YVOSV"}),type:e.headerType||M.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:Ee,focusBackOrCancel:!0}),(0,U.jsx)(L.default,{onScroll:e=>{Te(e,e.currentTarget)},flatListControllers:[te.current],children:(0,U.jsx)(q,{cartEnabled:le,contact:oe,handleCartClick:je,onProductDetail:O,onCartClick:i,catalog:ie,dataSource:fe,businessProfile:P,canManageCatalog:h,onAddProduct:E,onProductShare:w,onCollectionSeeAll:D,onOpenCollections:K,onEditCollection:G,blockCartInterstitialFn:T,catalogFlatListControllerRef:te,catalogFetchState:de,directConnectionPostcodeEnabled:X,loadingDirectConnectionInfo:Se,businessDirectConnection:xe,loadingMore:Ce,postcodeChangeSuccess:()=>{f.CatalogCollection.removeCatalog(o),re(null),pe(null),ge(null),ue("NONE"),me(!0),Pe()}})})]})}var Y=(0,N.forwardRef)(K);t.default=Y},47243:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionContentDrawer=void 0;var l=n(o(348926)),a=o(15842),i=o(477627),r=o(308084),s=o(644130),c=o(316348),d=o(555622),u=o(338649),f=n(o(81540)),p=o(252323),h=n(o(321706)),g=n(o(803853)),C=o(371374),m=n(o(857935)),_=n(o(76973)),v=o(357618),x=o(623797),b=n(o(995949)),S=n(o(887483)),y=o(481296),k=n(o(168625)),P=n(o(531633)),T=o(38574),j=o(940237),E=o(548360),I=o(667294),O=n(o(156720)),w=n(o(461993)),A=n(o(229439)),L=n(o(470649)),M=o(148725),R=o(990144),N=n(o(189957)),D=o(785893);const B={flex:"kk3akd72",paddingBottom:"oq31bsqd",overflowX:"gfz4du6o",overflowY:"r7fjleex"},H={paddingTop:"pxvlsfnc",paddingEnd:"kyc7k6mt",paddingBottom:"n3bptxsn",paddingStart:"f78eapp6",lineHeight:"qg52vu03"};function W(e){const{cartEnabled:t,catalogFetchState:o,collectionFlatListController:n,loadingMore:l,catalog:a,dataSource:i,canManageCatalog:r,collection:s,handleCartClick:c,onProductDetail:d,onCartClick:u,onProductShare:p,onEditCollection:h}=e,g=t&&u?c:void 0;if(!a||!i)return(0,D.jsx)(m.default,{fetchState:o});const C=i.getData();if(0===C.length&&!l&&r&&s)return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{className:(0,O.default)(B),children:[(0,D.jsx)(_.default,{theme:"collections",onClick:()=>{null==h||h(s)},testid:"add-collection"}),(0,D.jsx)("div",{className:(0,O.default)(H),children:E.fbt._("This collection won’t be visible to customers until you add at least 1 item",null,{hk:"34nbHb"})})]})});const x=(0,D.jsx)(f.default,{onCartOpen:g,onProductDetail:d,flatListController:n,catalog:a,canManageCatalog:r,shareLinks:r,onProductShare:p,collectionId:null==s?void 0:s.id.toString(),data:C}),b=s?(0,D.jsx)(v.CollectionIntegrityBanner,{collection:s,onEditCollection:h}):void 0;return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{className:(0,O.default)(B),children:[b,x,l&&(0,D.jsx)(S.default,{})]})})}const F=(0,I.forwardRef)(((e,t)=>{var o;const{catalogId:n,onCartClick:f,onCatalogLinkClick:m,setScrollOffset:_,canManageCatalog:v,scrollOffset:S,collection:O,onProductDetail:B,onProductShare:H,onEditCollection:F}=e,V=(0,A.default)(),z=(0,N.default)(),U=(0,I.useContext)(T.DrawerContext),G=(0,R.useModelValues)(e.contact,["id"]),q=(0,I.useMemo)((()=>r.CartCollection.findCart(G.id.toString())),[G.id]),K=(0,L.default)((()=>new b.default)),[Y,Q]=(0,I.useState)(!1),[Z,X]=(0,I.useState)(null),[J,$]=(0,I.useState)(q.itemCount),[ee,te]=(0,I.useState)("NONE"),[oe,ne]=(0,I.useState)(null),[le,ae]=(0,I.useState)(null),[ie,re]=(0,I.useState)(!0);(0,M.useListener)(null==O?void 0:O.productCollection,["add","remove"],V),(0,M.useListener)(null==Z?void 0:Z.productCollection,["add","remove"],V),(0,M.useListener)(null==Z?void 0:Z.collections,["add","remove"],V),(0,M.useListener)(O,["change:reviewStatus","canAppeal"],V);const se=function(){var e=(0,l.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),re(!1),(0,u.logCollectionSeeAllView)({catalogOwnerJid:n.toString(),catalogContext:(0,x.getProductCatalogContext)(U),collectionId:null==e?void 0:e.collectionId})}));return function(){return e.apply(this,arguments)}}(),ce=()=>{const e=q.itemCount;J!==e&&$(e)};(0,I.useEffect)((()=>{s.CatalogCollection.find(n).then((e=>{if(z.aborted)return;X(e),te("SUCCESS");const t=new i.SingleCollectionDataSource(e,null==O?void 0:O.id.toString(),v||!1,p.PRODUCT_LIST_ITEM_HEIGHT),o=new i.CatalogListItemScrollHelper(t);ne(t),ae(o),se(t).then((()=>{d.QPL.markerEnd(c.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,a.QuickLogActionType.SUCCESS)})).catch((()=>{d.QPL.markerEnd(c.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,a.QuickLogActionType.FAIL)})),void 0!==S&&K.current.setScrollFromStart(S)})).catch((e=>{d.QPL.markerEnd(c.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,a.QuickLogActionType.FAIL),(0,C.parseErrorState)(e,(e=>{te(e),re(!1)}))})),(0,g.default)(n).then((e=>{Q(e),e&&q.on("all",ce)}))}),[]);const de=()=>{(0,y.qplStartCartView)("Collection"),null==f||f(G.id.toString())},ue=(0,w.default)(((e,t)=>{null==_||_(t.scrollTop),(null==le?void 0:le.willLoadMore(t))&&re(!0),null==le||le.onScroll(e,t).then((e=>{e&&re(!1)})).catch((e=>{throw re(!1),e}))}),100),fe=(0,D.jsx)(h.default,{onSendCatalog:()=>{Z&&m(Z,G)},onCartClick:Y?de:void 0,cartCount:q.itemCount,catalogId:n.toString(),canManageCatalog:v}),pe=(null===(o=e.collection)||void 0===o?void 0:o.name)||E.fbt._("All Items",null,{hk:"2x8dE2"});return(0,D.jsxs)(k.default,{ref:t,theme:"products",onDrop:e.onBack,children:[(0,D.jsx)(j.DrawerHeader,{title:pe,type:e.headerType||j.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:fe}),(0,D.jsx)(P.default,{flatListControllers:[K.current],onScroll:e=>{ue(e,e.currentTarget)},children:(0,D.jsx)(W,{cartEnabled:Y,onCartClick:f,handleCartClick:de,catalog:Z,dataSource:oe,catalogFetchState:ee,loadingMore:ie,canManageCatalog:v,collection:O,onProductDetail:B,onProductShare:H,onEditCollection:F,collectionFlatListController:K.current})})]})}));t.CollectionContentDrawer=F,F.displayName="CollectionContentDrawer"},140838:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t,onSeeAll:o,allItems:n}=e;let m,_;t?({name:m,id:_}=t):n&&(m=d.fbt._("All Items",null,{hk:"2x8dE2"}));const v=(0,f.jsx)(s.TextDiv,{className:(0,u.default)(p),theme:"title",children:(0,f.jsx)(r.EmojiText,{text:m,ellipsify:!0,titlify:!0})});function x(e){!function(e){e.preventDefault(),e.stopPropagation()}(e),(0,c.qplStartCollectionViewAll)("Catalog"),o&&t?o(t):o&&o()}let b;if(t)switch(t.reviewStatus){case l.PRODUCT_REVIEW_STATUS.REJECTED:b=(0,f.jsx)("span",{className:(0,u.default)(g),children:d.fbt._("rejected",null,{hk:"3f3H8P"})})}return(0,f.jsx)(a.default,{primary:v,secondary:b,detail:(0,f.jsx)(i.default,{onClick:x,className:(0,u.default)(h),title:d.fbt._("Collection {collectionName}, see all",[d.fbt._param("collectionName",m)],{hk:"1kqerQ"}),tabIndex:0,children:d.fbt._("See all",null,{hk:"UPjou"})}),theme:"collection-header",idle:!0,className:(0,u.default)(C)},_)};var l=o(494517),a=n(o(748356)),i=n(o(285158)),r=o(399524),s=o(206642),c=o(481296),d=o(548360),u=n(o(156720)),f=o(785893);const p={lineHeight:"erpdyial"},h={lineHeight:"erpdyial"},g={color:"mvxzr2tb"},C={paddingStart:"f78eapp6",marginTop:"o9i7y497",borderTop:"swyb62mu"}},745571:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPolicyLink=d,t.getRejectedCollectionCopy=function(e,t){let o;switch(e){case"drugs":return o=s.fbt._("WhatsApp's Commerce Policy for prescription, recreational, or other types of Drugs",null,{hk:"B27ED"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_drugs}",[s.fbt._param("collections_rejected_policy_drugs",d(o,t))],{hk:"1ZU364"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_drugs}.",[s.fbt._param("collections_rejected_policy_drugs",d(o,t))],{hk:"4pJPwW"})};case"weapons":return o=s.fbt._("WhatsApp's Commerce Policy for Weapons, ammunition, or explosives",null,{hk:"1X972I"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_weapons}",[s.fbt._param("collections_rejected_policy_weapons",d(o,t))],{hk:"1RUS3E"}),second:(0,c.jsx)(r.default,{id:188,params:{collections_rejected_policy_weapons:d(o,t)}})};case"animals":return o=s.fbt._("WhatsApp's Commerce Policy for Animals",null,{hk:"3hxXr8"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_animals}",[s.fbt._param("collections_rejected_policy_animals",d(o,t))],{hk:"3pIJQl"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_animals}.",[s.fbt._param("collections_rejected_policy_animals",d(o,t))],{hk:"jmRZD"})};case"alcohol":return o=s.fbt._("WhatsApp's Commerce Policy for Alcohol",null,{hk:"1G8YGL"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_alcohol}",[s.fbt._param("collections_rejected_policy_alcohol",d(o,t))],{hk:"1K5gKG"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_alcohol}.",[s.fbt._param("collections_rejected_policy_alcohol",d(o,t))],{hk:"1BLaYk"})};case"gambling":return o=s.fbt._("WhatsApp's Commerce Policy for Real money gambling services",null,{hk:"1zQIeM"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_gambling}",[s.fbt._param("collections_rejected_policy_gambling",d(o,t))],{hk:"2sjwfv"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_gambling}.",[s.fbt._param("collections_rejected_policy_gambling",d(o,t))],{hk:"2N7wJa"})};case"tobacco":return o=s.fbt._("WhatsApp's Commerce Policy for Tobacco items and related paraphernalia",null,{hk:"EAQLL"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_tobacco}",[s.fbt._param("collections_rejected_policy_tobacco",d(o,t))],{hk:"49kjok"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_tobacco}.",[s.fbt._param("collections_rejected_policy_tobacco",d(o,t))],{hk:"1hYXEJ"})};case"overtly_sexualized_positioning":return o=s.fbt._("WhatsApp's Commerce Policy for Overtly sexualized positioning",null,{hk:"1oaFbX"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_overtly_sexualized_positioning}",[s.fbt._param("collections_rejected_policy_overtly_sexualized_positioning",d(o,t))],{hk:"2imNEe"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_overtly_sexualized_positioning}.",[s.fbt._param("collections_rejected_policy_overtly_sexualized_positioning",d(o,t))],{hk:"2Bi73E"})};case"adult":return o=s.fbt._("WhatsApp's Commerce Policy for Adult products or service",null,{hk:"Wf7q5"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_adult}",[s.fbt._param("collections_rejected_policy_adult",d(o,t))],{hk:"2sWh94"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_adult}.",[s.fbt._param("collections_rejected_policy_adult",d(o,t))],{hk:"4Fv5xc"})};case"supplements":return o=s.fbt._("WhatsApp's Commerce Policy for Unsafe ingestible supplements",null,{hk:"9a4Y2"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_supplements}",[s.fbt._param("collections_rejected_policy_supplements",d(o,t))],{hk:"3m5ayk"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_supplements}.",[s.fbt._param("collections_rejected_policy_supplements",d(o,t))],{hk:"4g93H8"})};case"body_parts_fluids":return o=s.fbt._("WhatsApp's Commerce Policy for Body parts and fluids",null,{hk:"2EAd21"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_body_parts_fluids}",[s.fbt._param("collections_rejected_policy_body_parts_fluids",d(o,t))],{hk:"1fH8mf"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_body_parts_fluids}.",[s.fbt._param("collections_rejected_policy_body_parts_fluids",d(o,t))],{hk:"2HB7OE"})};case"healthcare":return o=s.fbt._("WhatsApp's Commerce Policy for Medical and healthcare products",null,{hk:"3vvgOF"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_healthcare}",[s.fbt._param("collections_rejected_policy_healthcare",d(o,t))],{hk:"1o5Y8p"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_healthcare}.",[s.fbt._param("collections_rejected_policy_healthcare",d(o,t))],{hk:"18tOqv"})};case"misleading":return o=s.fbt._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_misleading}",[s.fbt._param("collections_rejected_policy_misleading",d(o,t))],{hk:"1icG7s"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_misleading}.",[s.fbt._param("collections_rejected_policy_misleading",d(o,t))],{hk:"4gURah"})};case"real_fake_currency":return o=s.fbt._("WhatsApp's Commerce Policy for Real, virtual, or fake currency",null,{hk:"2XnVq2"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_real_fake_currency}",[s.fbt._param("collections_rejected_policy_real_fake_currency",d(o,t))],{hk:"2F8xUp"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_real_fake_currency}.",[s.fbt._param("collections_rejected_policy_real_fake_currency",d(o,t))],{hk:"3mr0Qt"})};case"digital_services_products":return o=s.fbt._("WhatsApp's Commerce Policy for Digital and subscription services",null,{hk:"2mvwqB"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_digital_services_products}",[s.fbt._param("collections_rejected_policy_digital_services_products",d(o,t))],{hk:"W6Ct0"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_digital_services_products}.",[s.fbt._param("collections_rejected_policy_digital_services_products",d(o,t))],{hk:"4gcYAt"})};case"thrid_party_infringements":return o=s.fbt._("WhatsApp's Commerce Policy for Third-Party Infringement",null,{hk:"48SSD"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_thrid_party_infringements}",[s.fbt._param("collections_rejected_policy_thrid_party_infringements",d(o,t))],{hk:"2S7xKD"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_thrid_party_infringements}.",[s.fbt._param("collections_rejected_policy_thrid_party_infringements",d(o,t))],{hk:"1UXaIr"})};case"unauthorized_media":return o=s.fbt._("WhatsApp's Commerce Policy for Products or items that facilitate or encourage unauthorized access to digital media",null,{hk:"2ldhoF"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_unauthorized_media}",[s.fbt._param("collections_rejected_policy_unauthorized_media",d(o,t))],{hk:"2oPAST"}),second:(0,c.jsx)(r.default,{id:187,params:{collections_rejected_policy_unauthorized_media:d(o,t)}})};case"illegal_products":return o=s.fbt._("WhatsApp's Commerce Policy for Illegal products or services",null,{hk:"c5Zjc"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_illegal_products}",[s.fbt._param("collections_rejected_policy_illegal_products",d(o,t))],{hk:"41Oqb6"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_illegal_products}.",[s.fbt._param("collections_rejected_policy_illegal_products",d(o,t))],{hk:"46TgAV"})};case"hazardous_goods_and_materials":return o=s.fbt._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_hazardous_goods_and_materials}",[s.fbt._param("collections_rejected_policy_hazardous_goods_and_materials",d(o,t))],{hk:"smMcx"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_hazardous_goods_and_materials}.",[s.fbt._param("collections_rejected_policy_hazardous_goods_and_materials",d(o,t))],{hk:"SdRo5"})};case"stolen_goods":return o=s.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_stolen_goods}",[s.fbt._param("collections_rejected_policy_stolen_goods",d(o,t))],{hk:"4mvVou"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_stolen_goods}.",[s.fbt._param("collections_rejected_policy_stolen_goods",d(o,t))],{hk:"1Zd6PC"})};case"human_exploitation_and_sexual_services":return o=s.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_human_exploitation_and_sexual_services}",[s.fbt._param("collections_rejected_policy_human_exploitation_and_sexual_services",d(o,t))],{hk:"4yXqyf"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_human_exploitation_and_sexual_services}.",[s.fbt._param("collections_rejected_policy_human_exploitation_and_sexual_services",d(o,t))],{hk:"3XImZQ"})};case"community_standards":return o=s.fbt._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_community_standards}",[s.fbt._param("collections_rejected_policy_community_standards",d(o,t))],{hk:"2AoLET"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_community_standards}.",[s.fbt._param("collections_rejected_policy_community_standards",d(o,t))],{hk:"apmZF"})};case"discrimination":return o=s.fbt._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_discrimination}",[s.fbt._param("collections_rejected_policy_discrimination",d(o,t))],{hk:"4gmrAW"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_discrimination}.",[s.fbt._param("collections_rejected_policy_discrimination",d(o,t))],{hk:"3j6FXO"})};default:return o=s.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:s.fbt._("This collection wasn't approved because its name violates {collections_rejected_policy_other_violation}",[s.fbt._param("collections_rejected_policy_other_violation",d(o,t))],{hk:"3AiJjt"}),second:s.fbt._("We reviewed this collection again and confirmed its name violates {collections_rejected_policy_other_violation}.",[s.fbt._param("collections_rejected_policy_other_violation",d(o,t))],{hk:"A2Pf5"})}}};var l=n(o(846870)),a=n(o(285158)),i=o(977503),r=n(o(968375)),s=o(548360),c=o(785893);function d(e,t){const o=t||l.default.WA_COMMERCE_POLICY_URL;return(0,c.jsx)(a.default,{href:o,onClick:e=>{e.preventDefault(),(0,i.openExternalLink)(o)},children:e})}},338649:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCollectionCreateClicked=function(e){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATE_CLICKED,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionCreated=function(e){let{catalogContext:t,collectionId:o,productCount:n}=e;new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:n}).commit()},t.logCollectionDeleted=function(e){let{catalogContext:t,collectionId:o}=e;new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:o}).commit()},t.logCollectionItemsAssignment=function(e){let{catalogContext:t,collectionId:o,addedCount:n,removedCount:l}=e;n>0&&new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_ASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:n,collectionId:o}).commit();l>0&&new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_UNASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:l,collectionId:o}).commit()},t.logCollectionMenuClicked=function(e){new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_MENU_COLLECTIONS_CLICK,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionRenamed=function(e){let{catalogContext:t,collectionId:o}=e;new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:o}).commit()},t.logCollectionReorder=function(e){let{catalogContext:t,movesCount:o}=e;new i.default.CatalogBiz({catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CHANGE_ORDER,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:o}).commit()},t.logCollectionSeeAllView=function(e){let{catalogOwnerJid:t,catalogContext:o,collectionId:n}=e;const c=(0,a.getProductStatsInFetched)(t,n),d=null==c?void 0:c.productIndex,u=null==c?void 0:c.collectionIndex;(0,s.logCatalogViewOrBizEvent)((0,l.default)({isOwner:(0,s.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_IMPRESSION,productIndex:d,collectionIndex:u},(0,r.toDataForCatalogViewEvents)(o)))};var l=n(o(81109)),a=o(477627),i=n(o(571834)),r=o(623797),s=o(307058)},81540:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductDetail:t,onProductShare:o,onCartOpen:n,shareLinks:P,onEditCollection:T,onCollectionSeeAll:j,canManageCatalog:E}=e,I=(0,x.default)(),O=(0,y.useModelValues)(e.catalog,["productCollection","collections","afterCursor","id","index"]),w=(0,v.useContext)(_.DrawerContext),A=(0,b.default)((()=>new Set)),L=(0,b.default)((()=>new g.default)),M=e=>{null==o||o(e)},R=e=>{(0,c.handleProductDelete)(O,e,(0,u.getProductCatalogContext)(w),"Collection")},N=e=>{(0,c.handleProductVisibilityChange)(O,e,(0,u.getProductCatalogContext)(w),"Collections")};return(0,S.useListeners)(Array.from(A.current).map((e=>({source:e,eventOrEvents:["change:reviewStatus","canAppeal"],callback:I})))),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(h.default,{flatListControllers:[L.current],children:(0,k.jsx)(p.FlatList,{flatListController:L.current,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const t=void 0!==n,o=e.data||[],a=[];return o.forEach((o=>{const n=o.collection,i=o.product,r=o.allItems;if(n&&i){const e=n.id;a.push({itemKey:`${e.toString()}_${i.id.toString()}_${t.toString()}`,product:i,collectionId:e})}else if(n)A.current.has(n)||A.current.add(n),a.push({itemKey:`${n.id.toString()}_${n.reviewStatus.toString()}`,collection:n}),n.reviewStatus!==l.PRODUCT_REVIEW_STATUS.PENDING&&n.reviewStatus!==l.PRODUCT_REVIEW_STATUS.REJECTED||a.push({itemKey:`${n.id.toString()}_reviewBanner`,collection:n,height:(0,d.getCollectionIntegrityHeight)(n),reviewBanner:!0});else if(r)a.push({itemKey:"view_all",allItems:r});else if(i){const o=e.collectionId||void 0;a.push({itemKey:`${i.id.toString()}_${t.toString()}`,product:i,collectionId:o})}})),a})(),renderItem:e=>{const{collection:o,product:l,allItems:r,reviewBanner:c,collectionId:p}=e;return o?c?(0,k.jsx)(d.CollectionIntegrityBanner,{collection:o,onEditCollection:T}):(0,k.jsx)(i.default,{collection:o,onSeeAll:j}):r?(0,k.jsx)(i.default,{allItems:r,onSeeAll:j}):l?(0,k.jsx)(f.default,{collectionId:p,product:l,onCartOpen:n,onClick:()=>((e,o)=>((0,m.qplStartProductView)("Collection"),(0,s.logCatalogListDetailClick)({product:(0,a.unproxy)(e),catalogContext:(0,u.getProductCatalogContext)(w)}),t(e,o)))(l,p),onProductShare:P?M:null,onProductDelete:R,onProductHideShow:N,theme:"product-of-collection",canManageCatalog:E}):null},defaultItemHeight:r.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:C.KeyOrder.INVERSE})})})};var l=o(494517),a=o(411067),i=n(o(140838)),r=o(252323),s=o(893225),c=o(485132),d=o(357618),u=o(623797),f=n(o(843015)),p=o(261801),h=n(o(927629)),g=n(o(995949)),C=o(44950),m=o(481296),_=o(38574),v=o(667294),x=n(o(229439)),b=n(o(470649)),S=o(148725),y=o(990144),k=o(785893)},662994:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(88237),a=o(924583),i=o(15842),r=o(990445),s=o(984330),c=o(418012),d=o(69108),u=o(85663),f=o(308084),p=o(644130),h=o(780549),g=o(263079),C=o(97858),m=o(114850),_=o(494517),v=o(128034),x=o(411067),b=o(459857),S=n(o(634018)),y=n(o(803853)),k=n(o(695088)),P=o(893225),T=o(623797),j=n(o(193967)),E=o(881707),I=n(o(838730)),O=n(o(517528)),w=o(508133),A=o(955877),L=o(206642),M=o(481296),R=n(o(744259)),N=n(o(168625)),D=n(o(531633)),B=o(38574),H=o(940237),W=o(548360),F=o(667294),V=n(o(156720)),z=n(o(229439)),U=n(o(470649)),G=o(148725),q=o(990144),K=n(o(189957)),Y=o(785893);const Q={availabilityBanner:{display:"p357zi0d",paddingTop:"a71rq12o",paddingEnd:"bcymb0na",paddingBottom:"pcbmd69e",paddingStart:"e8k79tju",marginBottom:"mpdn4nr2",lineHeight:"r5qsrrlp",backgroundColor:"ronsgs3n"},text:{marginTop:"tt8xd2xn",marginEnd:"spjzgwxb",marginBottom:"mpdn4nr2",marginStart:"a3oefunm",fontWeight:"hnx8ox4h"},loadingText:{color:"evzurl1e"},loadingContainer:{position:"lhggkp7q",zIndex:"nbczt5ty",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",paddingTop:"fbgy3m38",paddingEnd:"ft2m32mm",paddingBottom:"oq31bsqd",paddingStart:"nu34rnf1",background:"kqm7f4gm",boxShadow:"g07l9dru",opacity:"bs7a17vp",transitionProperty:"fx1ldmn8",transitionDuration:"grkbsjmy",transitionTimingFunction:"bkifpc9x"},shiftUp:{position:"lhggkp7q",zIndex:"pcpjcif5",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",paddingTop:"fbgy3m38",paddingEnd:"ft2m32mm",paddingBottom:"oq31bsqd",paddingStart:"nu34rnf1",background:"kqm7f4gm",boxShadow:"g07l9dru",transitionProperty:"fx1ldmn8",transitionDuration:"pa888v5w",transitionTimingFunction:"bkifpc9x",transform:"sihoqmp4"},body:{flex:"kk3akd72",paddingBottom:"s9fl9ege"}};function Z(e){let t,{productFetchState:o,productCatalogFetchState:n,isAvailable:l}=e;t="ERROR"===o?(0,Y.jsx)(L.TextSpan,{className:(0,V.default)(Q.text),theme:"small",color:"danger",children:W.fbt._("Something went wrong",null,{hk:"7C9hw"})}):l?[(0,Y.jsx)(A.Spinner,{size:14,color:A.colorOptions.highlight},"DetailDrawer-loadingBar-spinner"),(0,Y.jsx)(L.TextSpan,{className:(0,V.default)(Q.text,Q.loadingText),theme:"small",children:W.fbt._("Waiting for network",null,{hk:"3I2DtN"})},"DetailDrawer-loadingBar-msg")]:(0,Y.jsx)(L.TextSpan,{className:(0,V.default)(Q.text),theme:"small",color:"danger",children:W.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})});const a="PENDING"===o||"PENDING"===n||!l;return(0,Y.jsx)("div",{className:(0,V.default)(a&&Q.loadingContainer,!a&&Q.shiftUp),children:t})}function X(e){let{menu:t,handleBack:o}=e;return(0,Y.jsx)(H.DrawerHeader,{title:W.fbt._("Details",null,{hk:"1hLRT1"}),onBack:o,type:H.DRAWER_HEADER_TYPE.SMALL,menu:t})}function J(e,t){var o;const{collectionId:n,onCartClick:A,onProductLinkClick:L,onProductMoreInformation:H,onBack:J,onProductCatalog:$,onProductDetail:ee,refreshCarousel:te,chat:oe,isPushed:ne=!0}=e,le=(0,z.default)(),ae=(0,K.default)(),ie=(0,F.useContext)(B.DrawerContext),re=(0,q.useModelValues)(e.product,["id","catalogWid","productImageCollection","fetchedFromServer","name","availability","reviewStatus"]),[se,ce]=(0,F.useState)(null),[de,ue]=(0,F.useState)(!1),[fe,pe]=(0,F.useState)(null),[he,ge]=(0,F.useState)("NONE"),[Ce,me]=(0,F.useState)("NONE"),_e=(0,U.default)((()=>f.CartCollection.findCart(re.catalogWid.toString())));(0,G.useListener)(_e.current,"change:cartItemCollection",le);const ve=()=>{if(J)return J()},xe=()=>{const e=re.catalogWid,t=re.id.toString();return p.CatalogCollection.findProduct({catalogWid:e,productId:t,productMsgMediaData:(0,x.unproxy)(re).productMsgMediaData,canLogQpl:ne})},be=()=>{const e=re.catalogWid,t=xe(),o=d.BusinessProfileCollection.find(e);let n=!0;return Promise.all([o,t]).then((e=>{let[t]=e;if(ae.aborted)throw new l.AbortError;return n=!1,ne&&(0,M.qplEndProductView)(i.QuickLogActionType.SUCCESS),ce(t),ge("SUCCESS"),t})).then((e=>{me((t=>{if("PENDING"===t){if(!(0,u.hasCatalog)(e))return"NONE";(()=>{const e=re.catalogWid;p.CatalogCollection.findCarouselCatalog(e).then((e=>{if(ae.aborted)return;const t=Array.isArray(e)?e[0]:e;pe(t||null),me(t?"SUCCESS":"NONE")})).catch((0,a.filteredCatch)(s.ServerStatusCodeError,(e=>{"not_found"===e.status||404===e.status?(pe(null),me("NOT_FOUND")):(pe(null),me("ERROR"),__LOG__(3)`Failed to fetch product catalog from server`)}))).catch((0,a.filteredCatch)(s.WebdDrop,(()=>{pe(null),me("ERROR"),__LOG__(3)`Failed to fetch product catalog`})))})()}return t}))})).catch((0,l.catchAbort)((()=>{}))).catch((0,a.filteredCatch)(s.E404,(()=>{ve(),m.ModalManager.open((0,Y.jsx)(R.default,{onOK:()=>{m.ModalManager.close()},okText:W.fbt._("OK",null,{hk:"2KEeHb"}),children:W.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),ge("NOT_FOUND"),n=!1,(0,M.qplDropProductView)()}))).catch((0,a.filteredCatch)(s.WebdDrop,(()=>{ge("ERROR"),__LOG__(3)`Failed to fetch product`}))).catch((0,a.filteredCatch)(s.ServerStatusCodeError,(()=>{ge("ERROR"),__LOG__(3)`Failed to fetch product from server`}))).finally((()=>{ne&&n&&(0,M.qplEndProductView)(i.QuickLogActionType.FAIL)}))};(0,F.useEffect)((()=>{if((0,C.commerceThreadsLoggingEnabled)()&&oe&&(0,w.addChatThreadLoggingActivities)([{activityType:"pdpViews",ts:(0,r.unixTime)(),chatId:oe.id}]),te){const e=p.CatalogCollection.get(re.catalogWid);(null==e?void 0:e.productCollection)&&e.fetchedFromServer?me("SUCCESS"):me("PENDING")}const e=(0,b.getMaybeMeUser)();ne&&(0,M.qplAnnotateProductView)(!(null==e?void 0:e.equals(re.catalogWid)));const t=re.catalogWid,o=re.id.toString();if(t&&o)return be(),(0,y.default)(t).then((e=>{ue(e),(0,P.logProductDetailView)({product:(0,x.unproxy)(re),catalogContext:(0,T.getProductCatalogContext)(ie),cartToggle:e,collectionId:n})})),()=>{const e=re.catalogWid,t=re.id.toString();if(!e||!t)return;const o=p.CatalogCollection.get(e),n=o&&o.msgProductCollection.get(t);(null==n?void 0:n.fetchedFromServer)&&o&&o.msgProductCollection.remove(n)};(0,M.qplDropProductView)()}),[]);const Se=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,C.commerceThreadsLoggingEnabled)()&&oe&&(0,w.addChatThreadLoggingActivities)([{activityType:e,ts:(0,r.unixTime)(),chatId:oe.id,boolValue:t}])},ye=()=>"ERROR"!==he&&"NOT_FOUND"!==he&&!(()=>{const{reviewStatus:e}=re;return e===_.PRODUCT_REVIEW_STATUS.REJECTED})(),ke=ye(),Pe=(0,u.hasCatalog)(se),Te=()=>{xe().then((()=>{const e=p.CatalogCollection.get(re.catalogWid);e&&(e.stale=!0)}))};return(0,Y.jsxs)(N.default,{ref:t,onDrop:ve,theme:"striped",children:[(0,Y.jsx)(X,{handleBack:ve,menu:ye()?(0,Y.jsx)(k.default,{onSendProduct:()=>{const e=re,{catalogWid:t}=e,o=p.CatalogCollection.get(t);if(!o)return;const n=o.productCollection.get(e.id);h.Cmd.attachProduct({product:n?(0,x.unproxy)(n):(0,x.unproxy)(e)})},onReportProduct:()=>{m.ModalManager.open((0,Y.jsx)(O.default,{product:re,sessionId:(0,T.getProductCatalogSessionId)(ie)}))},onProductLinkClick:()=>{L(re)},onProductMoreInformation:()=>{H(re)},onCartClick:de?()=>{(0,M.qplStartCartView)("Product"),null==A||A(re.catalogWid.toString())}:void 0,cartCount:_e.current.itemCount,catalogId:re.catalogWid.toString(),contactId:null==oe?void 0:oe.contact.id.user}):null}),(0,Y.jsx)(D.default,{children:(0,Y.jsxs)("div",{"data-testid":"product-details",className:(0,V.default)(Q.body),children:[(0,Y.jsx)(Z,{productFetchState:he,productCatalogFetchState:Ce,isAvailable:ke}),(0,Y.jsx)(I.default,{product:re,isAvailable:ke,fetching:"PENDING"===he}),v.PRODUCT_AVAILABILITY_UNAVAILABLE_VALUES.includes(re.availability)?(0,Y.jsxs)("div",{className:(0,V.default)(Q.availabilityBanner),children:[re.availability===v.ProductAvailability.OUT_OF_STOCK?W.fbt._("This item is out of stock.",null,{hk:"4gOwiz"}):null,re.availability===v.ProductAvailability.AVAILABLE_FOR_ANOTHER_POSTCODE&&(0,g.enablePostcodeInCatalog)()?(0,Y.jsx)(E.ProductPostcodeChangeBanner,{catalogWid:re.catalogWid,postcodeChangeSuccess:Te}):null]}):null,(0,Y.jsx)(j.default,{product:re,collectionId:n,onSendChat:()=>{const e=p.CatalogCollection.get(re.catalogWid);(0,c.sendProductToChat)(re,e,(0,T.getProductCatalogContext)(ie)),Se("isCtaOnPdpClicked"),(0,P.logProductMessageBusinessClick)(re,(0,T.getProductCatalogContext)(ie))},onAddToCart:()=>{Se("isCartAddClicked")},isAvailable:ke,hideRetailerID:null===(o=e.chat)||void 0===o?void 0:o.contact.isEnterprise}),Pe&&fe?(0,Y.jsx)(S.default,{catalog:fe,onProductCatalog:()=>{$&&$(re.catalogWid,(0,T.getProductCatalogContext)(ie))},onProductDetail:e=>{if((0,M.qplStartProductView)("Product"),ee)return ee(e)},filterProductId:re.id.toString(),title:W.fbt._("More",null,{hk:"2A3GqV"}),animation:!1}):null]})})]},"product-details-drawer")}var $=(0,F.forwardRef)(J);t.default=$},193967:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collectionId:t,onSendChat:o,onAddToCart:n,isAvailable:l}=e,a=(0,E.useContext)(P.DrawerContext),r=(0,w.useModelValues)(e.product,["name","url","description","availability","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","fetchedFromServer","retailerId","catalogWid","productImageCollection","imageHash","reviewStatus","imageCdnUrl","id","maxAvailable"]),[s,c]=(0,E.useState)(!1),[m,_]=(0,E.useState)(!1);return(0,E.useEffect)((()=>{(0,p.default)(r.catalogWid).then((e=>{_(e)}))}),[]),(0,A.jsxs)(T.default,{theme:"padding-product",animation:!1,children:[(0,A.jsx)(y.TextDiv,{theme:"title",className:(0,I.default)(M.name),children:(0,A.jsx)(b.EmojiText,{text:r.name,selectable:!0})}),null!=r.priceAmount1000?(0,A.jsx)(y.TextDiv,{className:(0,I.default)(M.price),color:"dark",theme:"plain",children:(0,A.jsx)(C.default,{product:r,selectable:!0,direction:"inherit"})}):null,(0,A.jsx)(B,{product:r,isAvailable:l,isDescExpanded:s,hideRetailerID:e.hideRetailerID,onReadMore:()=>{c(!0)},onClickUrl:(e,t)=>{e.stopPropagation(),(0,h.logDetailLinkClick)({product:(0,f.unproxy)(r),catalogContext:(0,g.getProductCatalogContext)(a)});const o=t&&i.findLink(t);o&&(0,S.openExternalLink)(o.url)}}),(0,A.jsx)(R,{onSendChat:()=>{null==o||o()},isAvailable:l,product:r}),(0,A.jsx)(N,{collectionId:t,cartEnabled:m,isAvailable:l,product:r,onClick:e=>{u.QPL.markerStart(d.QuickLogMarkerId.WHATSAPP_CART_ADD,{annotations:{string:{EntryPoint:"Product"}}}),(0,v.addToCart)(r,(0,g.getProductCatalogContext)(a),t),null==n||n(),e.stopPropagation()},context:a})]})};var l=n(o(164141)),a=n(o(846870)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=L(t);if(o&&o.has(e))return o.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=l?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,o&&o.set(e,n);return n}(o(446303)),r=o(97858),s=o(494517),c=o(128034),d=o(316348),u=o(555622),f=o(411067),p=n(o(803853)),h=o(893225),g=o(623797),C=n(o(679609)),m=n(o(496192)),_=n(o(468601)),v=o(735349),x=n(o(453812)),b=o(399524),S=o(977503),y=o(206642),k=o(986657),P=o(38574),T=n(o(337090)),j=o(548360),E=o(667294),I=n(o(156720)),O=n(o(206819)),w=o(990144),A=o(785893);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(L=function(e){return e?o:t})(e)}const M={addToCartIconDisabled:{color:"baku5n5n",":hover":{color:"k3zau70k"}},addToCartIcon:{color:"o2v2jkg7",":hover":{color:"oehg7oif"}},addToCartBtnHoverIcon:{color:"jk96mlgm",":hover":{color:"dul83ws3"}},button:{width:"ln8gz9je"},buttonContainer:{display:"p357zi0d",marginBottom:"or9x5nie"},addToCartContainer:{display:"p357zi0d",alignItems:"gndfcl4n",justifyItems:"g3ty6e9x"},addToCartContainerWithIcon:{marginTop:"kv6wexeh",marginEnd:"jnwc1y2a",marginBottom:"rkx9gk34",marginStart:"svoq16ka"},more:{color:"o0rubyzf"},description:{marginBottom:"du8bjn1j",overflowX:"gfz4du6o",overflowY:"r7fjleex",wordWrap:"b6f1x6w7"},name:{marginBottom:"t4zgqcuo",fontWeight:"hnx8ox4h",wordWrap:"b6f1x6w7"},price:{marginBottom:"t4zgqcuo"},quantityControls:{justifyContent:"ac2vgrno",marginTop:"kmqqq083",marginBottom:"mpdn4nr2"}};function R(e){let{onSendChat:t,isAvailable:o,product:n}=e;if(!t||!n.fetchedFromServer||!o||n.reviewStatus!==s.PRODUCT_REVIEW_STATUS.APPROVED)return null;const l=j.fbt._("Message Business",null,{hk:"3jgAJS"});return(0,A.jsx)("div",{className:(0,I.default)(M.buttonContainer),title:l,children:(0,A.jsx)(x.default,{testid:"product-message-business-btn",className:(0,I.default)(M.button),onClick:t,type:"secondary",children:l})})}function N(e){let{cartEnabled:t,isAvailable:o,product:n,onClick:a,context:i,collectionId:d}=e;const{isHovered:u,onMouseEnter:f,onMouseLeave:p}=(0,O.default)();if(!t||!n.fetchedFromServer||!o||n.reviewStatus!==s.PRODUCT_REVIEW_STATUS.APPROVED)return null;const h=(0,r.isQuantityControlsFeatureEnabled)(),g=j.fbt._("Add to cart",null,{hk:"2qbS08"}),C=c.PRODUCT_AVAILABILITY_UNAVAILABLE_VALUES.includes(n.availability);let v=null;v=C?M.addToCartIconDisabled:u?M.addToCartBtnHoverIcon:M.addToCartIcon;const b=(0,l.default)(n),S=h?null:(0,A.jsx)(m.default,{colorXStyle:v}),y=h&&b>0?(0,A.jsx)(_.default,{product:n,context:i,collectionId:d||""}):(0,A.jsx)(x.default,{testid:"add-to-cart-btn",className:(0,I.default)(M.button),onClick:a,type:"secondary",disabled:C,children:(0,A.jsxs)("span",{className:(0,I.default)(M.addToCartContainer,S&&M.addToCartContainerWithIcon),children:[S,g]})});return(0,A.jsx)("div",{className:(0,I.default)(M.buttonContainer,h&&M.quantityControls),title:g,onMouseEnter:f,onMouseLeave:p,children:y})}function D(e){let{isAvailable:t,product:o,onClick:n}=e;const{url:l}=o;if(!o.fetchedFromServer||!l||!t)return null;const a=k.Configuration.TrustedGroupDesc({links:i.findLinks(l)});return(0,A.jsx)("div",{children:(0,A.jsx)(b.EmojiText,{selectable:!0,formatters:a,text:l,onClick:e=>n(e,l)})})}function B(e){let{product:t,isAvailable:o,isDescExpanded:n,hideRetailerID:l,onReadMore:i,onClickUrl:r}=e;if(!t.description&&!t.url&&!t.retailerId)return null;const s=!!t.description&&t.description.length>a.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH;let c;return t.description&&(c=(0,A.jsxs)("div",{children:[(0,A.jsx)(b.EmojiText,{selectable:!0,multiline:!0,text:t.description,textLimit:n?1/0:a.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),s&&!n?(0,A.jsxs)("span",{className:(0,I.default)(M.more),role:"button",onClick:i,children:[" ",j.fbt._("Read more",null,{hk:"2DvSvh"})]}):null]})),(0,A.jsxs)(y.TextDiv,{theme:"plain",className:(0,I.default)(M.description),children:[c,(0,A.jsx)(D,{isAvailable:o,product:t,onClick:r}),t.retailerId&&!l?(0,A.jsx)("div",{children:(0,A.jsx)(b.EmojiText,{text:t.retailerId,selectable:!0,direction:"inherit"})}):null]})}},479759:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsWithDeepLink=void 0;var l=o(924583),a=n(o(132375)),i=o(984330),r=o(644130),s=o(114850),c=o(669050),d=o(371374),u=n(o(857935)),f=n(o(235402)),p=n(o(662994)),h=n(o(744259)),g=n(o(168625)),C=n(o(531633)),m=o(940237),_=o(548360),v=o(667294),x=o(785893);const b=(0,v.forwardRef)(((e,t)=>{const{isPushed:o=!0,productInfo:{productId:n,businessOwnerJid:b},onBack:S}=e,[y,k]=(0,v.useState)((()=>(0,f.default)({productId:n,businessOwnerJid:b}))),[P,T]=(0,v.useState)((()=>y?"NONE":"PENDING")),j=()=>{const e=(0,c.createWid)(b);r.CatalogCollection.findProduct({catalogWid:e,productId:n}).then((()=>{const t=r.CatalogCollection.get(e);k((0,a.default)(t,"catalog").productCollection.get(n)),T("SUCCESS")})).catch((0,l.filteredCatch)(i.E404,(()=>{S(),s.ModalManager.open((0,x.jsx)(h.default,{onOK:()=>{s.ModalManager.close()},okText:_.fbt._("OK",null,{hk:"2KEeHb"}),children:_.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),T("ERROR")}))).catch((e=>{(0,d.parseErrorState)(e,(e=>{T(e)}))}))};return(0,v.useEffect)((()=>{y||j()}),[]),y?(0,x.jsx)(p.default,{ref:t,chat:e.chat,isPushed:o,product:y,onEnd:e.onEnd,onBack:e.onBack,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalog,refreshCarousel:!0,onProductLinkClick:e.onProductLinkClick,onProductMoreInformation:e.onProductMoreInformation,onCartClick:e.onCartClick}):(0,x.jsxs)(g.default,{ref:t,onDrop:e.onBack,children:[(0,x.jsx)(m.DrawerHeader,{testid:"drawer-title-profile",title:_.fbt._("Details",null,{hk:"1hLRT1"}),onBack:e.onBack,type:m.DRAWER_HEADER_TYPE.SMALL}),(0,x.jsx)(C.default,{children:(0,x.jsx)(u.default,{fetchState:P})})]},"product-details-drawer")}));t.ProductDetailsWithDeepLink=b,b.displayName="ProductDetailsWithDeepLink"},687611:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(22323),a=o(780549),i=o(114850),r=o(411067),s=n(o(42164)),c=o(893225),d=o(623797),u=n(o(15475)),f=o(190417),p=n(o(748356)),h=o(399524),g=n(o(589126)),C=n(o(937619)),m=n(o(916578)),_=n(o(168625)),v=n(o(531633)),x=o(38574),b=o(940237),S=n(o(484108)),y=n(o(294184)),k=o(548360),P=o(667294),T=o(785893);const j="product-link-anchor";function E(e){const t=e.getProductImageCollectionHead();return t?(0,T.jsx)(f.ProductThumb,{className:(0,y.default)(u.default.productImage,u.default.productImageContainer),mediaData:t.mediaData}):(0,T.jsx)(f.ProductThumbPlaceholder,{className:(0,y.default)(u.default.productThumb,u.default.productThumbContainer)})}function I(e,t){const{onBack:o,onCancel:n,product:f,prompt:y,centerDrawer:I,sendProductMsg:O,onSend:w}=e,A=(0,P.useContext)(x.DrawerContext),L=()=>{i.ModalManager.open((0,T.jsx)(g.default,{product:f,onSend:w}),{transition:"modal-flow"}),(0,c.logShareProductViaWALinkClick)({product:f,catalogContext:(0,d.getProductCatalogContext)(A)})},M=()=>{a.Cmd.attachProduct({product:(0,r.unproxy)(f),onSend:w})},R=(0,l.createProductLink)(f.catalogWid.user,f.id.toString());let N,D,B;return I&&(N="labels",D="center-column"),B=null!=O?(0,T.jsx)(C.default,{onClick:M}):(0,T.jsx)(S.default,{onClick:L}),(0,T.jsxs)(_.default,{ref:t,theme:N,children:[(0,T.jsx)(b.DrawerHeader,{testid:"product-link-title",title:k.fbt._("Product link",null,{hk:"1RIlvV"}),onBack:o,onCancel:n,type:b.DRAWER_HEADER_TYPE.SMALL,focusBackOrCancel:!0}),(0,T.jsxs)(v.default,{theme:D,children:[(0,T.jsx)("div",{className:u.default.prompt,children:y}),(0,T.jsx)(p.default,{image:E(f),primary:(0,T.jsx)(h.EmojiText,{text:f.name,direction:"auto"}),theme:"identity",secondary:(0,T.jsx)(s.default,{id:j,href:R,onClick:e=>{e.preventDefault(),L()},noHandle:!0})}),B,(0,T.jsx)(m.default,{elementId:j,onClick:()=>{(0,c.logShareProductCopyLinkClick)({product:f,catalogContext:(0,d.getProductCatalogContext)(A)})}})]})]},"product-link-drawer")}var O=(0,P.forwardRef)(I);t.default=O},605415:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductListDrawer=void 0;var l=o(924583),a=o(425315),i=o(287461),r=o(984330),s=o(590639),c=o(308084),d=o(644130),u=o(914368),f=n(o(932325)),p=o(784424),h=o(97858),g=o(252323),C=n(o(803853)),m=o(371374),_=n(o(857935)),v=n(o(562217)),x=o(893225),b=n(o(76973)),S=o(623797),y=n(o(189167)),k=n(o(899205)),P=o(260262),T=o(614071),j=o(305309),E=n(o(995949)),I=n(o(887483)),O=o(281701),w=n(o(278901)),A=n(o(168625)),L=n(o(531633)),M=o(38574),R=o(940237),N=o(548360),D=o(667294),B=n(o(156720)),H=n(o(461993)),W=n(o(229439)),F=n(o(470649)),V=o(148725),z=o(990144),U=n(o(38751)),G=n(o(189957)),q=o(785893);const K={header:{flex:"kk3akd72"},list:{flex:"kk3akd72",paddingBottom:"oq31bsqd",overflowX:"gfz4du6o",overflowY:"r7fjleex"},listMarginTop:{marginTop:"dj1c3cmq"}};function Y(e){let t,{canManageCatalog:o,onAddProduct:n,businessProfile:l,contact:a,productCatalogList:i,loadingMore:r}=e;return o&&n&&(t=(0,q.jsx)(b.default,{onClick:()=>n(),theme:"in-list",testid:"add-item"})),(0,q.jsxs)(q.Fragment,{children:[l&&(0,q.jsx)("div",{"data-testid":"catalog-header",className:(0,B.default)(K.header),children:(0,q.jsx)(k.default,{profilePicThumb:a.getProfilePicThumb(),contact:a,businessProfile:l})}),(0,q.jsxs)("div",{"data-testid":"catalog-items",className:(0,B.default)(K.list,l&&K.listMarginTop),children:[t,i,r&&(0,q.jsx)(I.default,{})]})]})}function Q(e){let{canManageCatalog:t,onOpenSettings:o,headerType:n,onCartClick:l,catalogId:i,handleCatalogLinkClick:r,handleCartClick:s,cartEnabled:c,cartCount:d}=e;const u=t&&(0,h.canToggleCartOnOff)()?(0,q.jsx)(O.MenuBarItem,{testid:"menu-bar-menu",icon:(0,q.jsx)(p.MenuIcon,{}),title:f.default.t(451),children:(0,q.jsxs)(T.Dropdown,{type:T.MenuType.DropdownMenu,flipOnRTL:!0,dirX:T.DirX.LEFT,children:[(0,q.jsx)(j.DropdownItem,{testid:"mi-foward menu-item",action:r,children:f.default.t(312)}),o&&(0,q.jsx)(j.DropdownItem,{testid:"mi-settings menu-item",action:o,children:N.fbt._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,q.jsx)(O.MenuBarItem,{testid:"menu-bar-catalog-link",icon:(0,q.jsx)(v.default,{theme:n===R.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),title:N.fbt._("Catalog link",null,{hk:"M36Dw"}),onClick:r}),g=c&&l?(0,q.jsx)(P.CartIconMenuBarItem,{cartIconTheme:n===R.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null,cartCountText:(0,a.isNumber)(d)&&d>0?d.toString():void 0,onClick:s,catalogOwnerJid:i.toString()}):null;return(0,q.jsxs)(q.Fragment,{children:[g,u]})}const Z=(0,D.forwardRef)(((e,t)=>{const{catalogId:o,canManageCatalog:n,setScrollOffset:a,onCartClick:f,onCatalogLinkClick:p,autoUpdate:h=!1,businessProfile:v,onAddProduct:b,onProductDetail:k,onProductShare:P,headerType:T,onOpenSettings:j,blockCartInterstitialFn:I=(()=>!1)}=e,O=(0,G.default)(),B=(0,D.useContext)(M.DrawerContext),K=(0,W.default)(),Z=(0,H.default)(K,100),X=(0,z.useModelValues)(e.contact,["id"]),J=(0,F.default)((()=>new E.default)),$=()=>{const e=d.CatalogCollection.get(o);return!e||e.stale?null:e},ee=(0,D.useMemo)((()=>c.CartCollection.findCart(X.id.toString())),[X.id]),[te,oe]=(0,D.useState)(!1),[ne,le]=(0,D.useState)(0),[ae,ie]=(0,D.useState)(!1),[re,se]=(0,D.useState)(!1),[ce,de]=(0,D.useState)($),[ue,fe]=(0,D.useState)((()=>ee.itemCount)),[pe,he]=(0,D.useState)((()=>$()?"SUCCESS":"NONE"));(0,V.useListener)(ee,"all",(()=>{const e=ee.itemCount;ue!==e&&fe(e)}));const ge=()=>{if(ae)return;const e=d.CatalogCollection.assertGet(o);if(!e.afterCursor)return;const t=e.productCollection.getProductModels().length;oe(!0),le(t),d.CatalogCollection.update(o).then((e=>{if(O.aborted)return;oe(!1);(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===ne&&ie(!0),t*g.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&ge()})).catch((()=>{oe(!1),ie(!0)}))},Ce=(0,H.default)((()=>{var t;null===(t=e.onRemoveProduct)||void 0===t||t.call(e),K()}),100),me=h?null==ce?void 0:ce.productCollection:null;(0,V.useListener)(me,"add",Z),(0,V.useListener)(me,"remove",Ce);(0,D.useEffect)((()=>{ce?ge():d.CatalogCollection.find(o).then((e=>{de(e),he("SUCCESS"),ge()})).catch((0,l.filteredCatch)(r.ServerStatusCodeError,(e=>{403!==e.status&&404!==e.status||(de(null),he("NOT_FOUND"))}))).catch((e=>{(0,m.parseErrorState)(e,(e=>he(e)))})),(0,C.default)(o).then((e=>{se(e),(0,x.logCatalogListView)({catalogOwnerWid:o,catalogContext:(0,S.getProductCatalogContext)(B),cartToggle:e}),(0,s.isMDBackend)()&&n&&re&&!I()&&(0,i.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&(0,w.default)()}))}),[]);const _e=(0,U.default)((e=>{te||e.scrollTop+u.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&ge()}),100),ve=()=>{null==f||f(X.id.toString())},xe=re&&f?ve:void 0,be=ce?(0,q.jsx)(Y,{canManageCatalog:n,onAddProduct:b,businessProfile:v,contact:X,loadingMore:te,productCatalogList:(0,q.jsx)(y.default,{onCartOpen:xe,onProductDetail:k,flatListController:J.current,catalog:ce,canManageCatalog:n,shareLinks:n,onProductShare:P})}):(0,q.jsx)(_.default,{fetchState:pe});return(0,q.jsxs)(A.default,{ref:t,theme:"products",onDrop:e.onBack,children:[(0,q.jsx)(R.DrawerHeader,{title:N.fbt._("Catalog",null,{hk:"3YVOSV"}),type:e.headerType||R.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(0,q.jsx)(Q,{canManageCatalog:n,handleCatalogLinkClick:()=>{ce&&(p(ce,X),(0,x.logCatalogShareLinkClick)({catalogOwnerWid:o,catalogContext:(0,S.getProductCatalogContext)(B)}))},onOpenSettings:j,headerType:T,cartEnabled:re,onCartClick:f,cartCount:ue,handleCartClick:ve,catalogId:o}),focusBackOrCancel:!0}),(0,q.jsx)(L.default,{onScroll:e=>{var t,o;e.currentTarget&&_e(e.currentTarget),null==a||a(null!==(t=null===(o=e.currentTarget)||void 0===o?void 0:o.scrollTop)&&void 0!==t?t:0)},flatListControllers:[J.current],scrollOffset:e.scrollOffset,children:be})]})}));t.ProductListDrawer=Z},899205:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{profilePicThumb:t,contact:o,businessProfile:n}=e;return(0,d.jsxs)("div",{className:l.default.header,"data-testid":"product-list-header",children:[(0,d.jsx)(f,{profilePicThumb:t,contact:o}),(0,d.jsxs)("div",{className:l.default.text,children:[(0,d.jsx)(s.TextDiv,{className:l.default.name,theme:"large",children:(0,d.jsx)(r.Name,{contact:o,selectable:!0,useVerifiedName:!0})}),(0,d.jsx)(u,{businessProfile:n})]})]})};var l=n(o(423978)),a=o(885725),i=o(399524),r=o(418150),s=o(206642),c=o(990144),d=o(785893);function u(e){const t=(0,c.useOptionalModelValues)(e.businessProfile,["description"]);return t&&t.description?(0,d.jsx)("div",{className:l.default.description,children:(0,d.jsx)(i.EmojiText,{text:t.description,direction:"auto",selectable:!0,titlify:!0})}):null}function f(e){const t=(0,c.useOptionalModelValues)(e.profilePicThumb,["imgFull"]),o=(0,c.useModelValues)(e.contact,["id","isMe"]);if(!t)return null;const n=(0,d.jsx)(a.DefaultIcon,{id:o.id});return(0,d.jsx)("div",{className:l.default.photo,children:(0,d.jsx)(a.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:n,profilePicThumbImg:t.imgFull,spinnerClassName:l.default.spinner,imgClassName:l.default.img,theme:"business"})})}},5805:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(o(81109)),a=n(o(348926)),i=n(o(132375)),r=o(644130),s=o(676594),c=o(411067),d=o(783201),u=o(60908),f=n(o(168625)),p=n(o(531633)),h=o(940237),g=o(548360),C=o(667294),m=n(o(156720)),_=o(990144),v=o(785893);const x={marginBottom:"ngycyvoj"};function b(e,t){const{onBack:o}=e,n=(0,_.useModelValues)(e.product,["id","catalogWid"]),[b,S]=(0,C.useState)({}),[y,k]=(0,C.useState)(""),[P,T]=(0,C.useState)(""),[j,E]=(0,C.useState)(!0),I=e=>{var t,o;return(null===(t=e.complianceInfo)||void 0===t?void 0:t.countryCodeOrigin)===String(d.SyntheticCountryCode.NotApplicable)?Promise.resolve((0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:(0,m.default)(x),children:g.fbt._("Not Applicable",null,{hk:"2k1klN"})}),(0,v.jsx)("div",{children:g.fbt._("Item is a service or non-physical good",null,{hk:"3uDBY7"})})]})):(0,d.getCountryName)(null===(o=e.complianceInfo)||void 0===o?void 0:o.countryCodeOrigin)};(0,C.useEffect)((()=>{function e(){return(e=(0,a.default)((function*(){yield r.CatalogCollection.findProduct({catalogWid:n.catalogWid,productId:n.id.toString(),productMsgMediaData:(0,c.unproxy)(n).productMsgMediaData,shouldFetchComplianceFields:!0});const e=r.CatalogCollection.get(n.catalogWid),t=(0,i.default)(e,"catalog").productCollection.get(n.id);if(t){var o,l,a,s,u,f,p,h,g,C,m,_,v,x;const e=yield I(t),n=yield(0,d.getCountryName)(null===(o=t.complianceInfo)||void 0===o||null===(l=o.importerAddress)||void 0===l?void 0:l.countryCode),i={importerName:(null===(a=t.complianceInfo)||void 0===a?void 0:a.importerName)||"",countryCodeOrigin:(null===(s=t.complianceInfo)||void 0===s?void 0:s.countryCodeOrigin)||"",importerAddress:{street1:(null===(u=t.complianceInfo)||void 0===u||null===(f=u.importerAddress)||void 0===f?void 0:f.street1)||"",street2:(null===(p=t.complianceInfo)||void 0===p||null===(h=p.importerAddress)||void 0===h?void 0:h.street2)||"",city:(null===(g=t.complianceInfo)||void 0===g||null===(C=g.importerAddress)||void 0===C?void 0:C.city)||"",region:(null===(m=t.complianceInfo)||void 0===m||null===(_=m.importerAddress)||void 0===_?void 0:_.region)||"",postalCode:(null===(v=t.complianceInfo)||void 0===v||null===(x=v.importerAddress)||void 0===x?void 0:x.postalCode)||""}};S(i),E(!1),k(e),T(n)}else __LOG__(3)`Unable to fetch compliance for product: ${n.id}`}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);const O=()=>{if(o)return o()},{countryCodeOrigin:w,importerName:A,importerAddress:L}=b;return(0,v.jsxs)(f.default,{ref:t,onDrop:O,theme:"striped",children:[(0,v.jsx)(h.DrawerHeader,{testid:"drawer-title-profile",title:g.fbt._("More information",null,{hk:"2JHvi1"}),onBack:O,type:h.DRAWER_HEADER_TYPE.SMALL}),(0,v.jsx)(p.default,{theme:j?"center-content":void 0,children:j?(0,v.jsx)(u.ComplianceInfoLoading,{}):(0,v.jsxs)(u.ComplianceInfoGroup,{children:[(0,v.jsx)(u.ComplianceInfoPrimitiveField,{value:y,label:g.fbt._("Country of Origin",null,{hk:"2yl0F7"})}),w&&![s.COMPLIANCE_INFO_CODES.INDIA,d.SyntheticCountryCode.NotApplicable].includes(w)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.ComplianceInfoPrimitiveField,{value:A,label:g.fbt._("Name of Importer",null,{hk:"3gfW35"})}),(0,v.jsx)(u.ComplianceInfoStructuralField,{valuesMap:(0,l.default)({importerAddressCountryNameOrigin:P},L),keys:["street1","street2","city","region","postalCode","importerAddressCountryNameOrigin"],label:g.fbt._("Address of Importer",null,{hk:"Kxo8I"})})]}):null]})})]},"product-details-drawer")}var S=(0,C.forwardRef)(b);t.default=S},881707:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductPostcodeChangeBanner=function(e){const{catalogWid:t,postcodeChangeSuccess:o}=e,[n,i]=(0,d.useState)(null),{value:r,set:s}=(0,u.default)(!0),c=(0,p.default)();if((0,d.useEffect)((()=>{(function(){var e=(0,l.default)((function*(){try{const e=yield a.default.getCypher(t);if(c.aborted)return;i(e)}catch(e){__LOG__(4,!0,new Error,!0)`[direct-connection] Setting cypher failed in PDP ${e}`,SEND_LOGS("direct-connection-setting-cypher-failed-in-pdp")}c.aborted||s(!1)}));return function(){return e.apply(this,arguments)}})()()}),[t,s,c]),r||null==n)return null;return(0,h.jsx)(C,{businessDirectConnection:n,catalogWid:t,postcodeChangeSuccess:o})};var l=n(o(348926)),a=n(o(152943)),i=o(114850),r=n(o(881053)),s=n(o(285158)),c=o(548360),d=o(667294),u=n(o(67330)),f=o(990144),p=n(o(189957)),h=o(785893);function g(e){let{catalogWid:t,postcodeChangeSuccess:o,postcode:n}=e;return(0,h.jsx)(s.default,{onClick:()=>{i.ModalManager.open((0,h.jsx)(r.default,{existingPostcode:n,catalogId:t,onCancel:()=>i.ModalManager.close(),onSuccess:()=>{i.ModalManager.close(),o()}}))},children:c.fbt._("Change",null,{hk:"3d8zl4"})})}function C(e){let{businessDirectConnection:t,catalogWid:o,postcodeChangeSuccess:n}=e;const{postcode:l}=(0,f.useModelValues)(t,["postcode"]);return null==l?null:(0,h.jsxs)(h.Fragment,{children:[c.fbt._("Not available in {area-postcode}.",[c.fbt._param("area-postcode",l)],{hk:"4tHAo0"})," ",(0,h.jsx)(g,{postcode:l,catalogWid:o,postcodeChangeSuccess:n})]})}},838730:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{isAvailable:t,fetching:o}=e,n=(0,d.useContext)(c.DrawerContext),g=(0,f.useModelValues)(e.product,["productImageCollection","productMsgMediaData","catalogWid","imageCdnUrl"]),C=g.lazyloadProductImageCollection().toArray();return(0,p.jsx)("div",{className:(0,u.default)(h),children:(0,p.jsx)(s.default,{images:C,fetching:o,onClick:t?(e,t)=>{(0,i.logDetailImageClick)({product:(0,a.unproxy)(g),catalogContext:(0,r.getProductCatalogContext)(n)});const o={activeProductImage:t,productImageCollection:g.lazyloadProductImageCollection(),getZoomNode:()=>e,product:g};l.Cmd.productImageViewerModal(o,(0,r.getProductCatalogSessionId)(n))}:null,renderFallback:!t,fallbackMediaData:g.productMsgMediaData})})};var l=o(780549),a=o(411067),i=o(893225),r=o(623797),s=n(o(862921)),c=o(38574),d=o(667294),u=n(o(156720)),f=o(990144),p=o(785893);const h={width:"ln8gz9je"}},295954:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(o(453812)),a=o(523880),i=o(192961),r=o(548360),s=o(667294),c=n(o(156720)),d=o(785893);const u={display:"p357zi0d",flexDirection:"f8m0rgwh"},f={marginTop:"qt60bha0"};function p(e,t){const{onPopupCancel:o,onReport:n}=e,s=r.fbt._("Report this product?",null,{hk:"3IDG0p"}),p=(0,d.jsx)("div",{children:r.fbt._("We will review the product and if it does not meet our guidelines, it will be removed.",null,{hk:"2CRdfl"})},"ReportProductChoicePopup-desc"),h=(0,d.jsx)(l.default,{testid:"popup-controls-report",type:"secondary",onClick:()=>n(),children:r.fbt._("Report Product",null,{hk:"3XLjyb"})},"ReportProductChoicePopup-reportBtn"),g=(0,d.jsx)(l.default,{type:"secondary",onClick:o,children:r.fbt._("Cancel",null,{hk:"H0gNq"})},0),C=(0,d.jsxs)("div",{className:(0,c.default)(u),children:[(0,d.jsx)("div",{className:(0,c.default)(f),children:h}),(0,d.jsx)("div",{className:(0,c.default)(f),children:g})]});return(0,d.jsx)(a.HotKeys,{ref:t,handlers:{escape:o},children:(0,d.jsx)(i.Modal,{title:s,actions:C,children:p})})}var h=(0,s.forwardRef)(p);t.default=h},517528:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(15842),a=o(418012),i=o(316348),r=o(555622),s=o(411067),c=o(390737),d=o(893225),u=n(o(295954)),f=n(o(19483)),p=o(463449),h=n(o(120332)),g=o(548360),C=o(785893);class m extends h.default{constructor(){var e;super(...arguments),e=this,this._submitReason=e=>{const{product:t}=this.props;return(0,a.reportProduct)(t.catalogWid,t.id.toString(),e)},this._handleDelete=()=>{this.end()},this._handleTellUsMoreSubmit=e=>{r.QPL.markerStart(i.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT),this._handleShowSubmittedToast(e)},this._handleReport=()=>{this.push((0,C.jsx)(f.default,{onTellUsMoreSubmit:this._handleTellUsMoreSubmit,onCancel:this._handleCancel}),"none")},this._handlePopupCancel=()=>{this.end()},this._handleCancel=()=>{this.end()},this._handleReportSubmitted=()=>{this.end()},this._handleShowSubmittedToast=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,p.genId)();const{product:n,sessionId:a}=e.props,u=e._submitReason(t),f=new p.ActionType(g.fbt._("Reporting product",null,{hk:"4qusYv"})),h=u.then((()=>((0,d.logReportProductSuccess)({product:(0,s.unproxy)(n),catalogSessionId:a,reason:t||""}),r.QPL.markerEnd(i.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,l.QuickLogActionType.SUCCESS),new p.ActionType(g.fbt._("Thanks for your feedback",null,{hk:"1vRsPv"}).toString()+". "+g.fbt._("Your report has now been submitted.",null,{hk:"40tL3T"}).toString())))).catch((()=>((0,d.logReportProductFailure)({product:(0,s.unproxy)(n),catalogSessionId:a,reason:t||""}),r.QPL.markerEnd(i.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,l.QuickLogActionType.FAIL),__LOG__(3)`error submitting product report`,new p.ActionType(g.fbt._("Couldn't report product",null,{hk:"11JN2U"}),{actionText:g.fbt._("Retry",null,{hk:"2jS9Tg"}),actionHandler:()=>e._handleShowSubmittedToast(t,o)}))));return c.ToastManager.open((0,C.jsx)(p.ActionToast,{id:o,initialAction:f,pendingAction:h})),e._handleReportSubmitted(),u}}componentDidMount(){this.push((0,C.jsx)(u.default,{onReport:this._handleReport,onPopupCancel:this._handlePopupCancel,onCancel:this._handleCancel}))}}t.default=m},19483:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(390737),a=n(o(453812)),i=o(523880),r=o(275125),s=o(192961),c=o(548360),d=o(667294),u=n(o(156720)),f=o(785893);const p={display:"p357zi0d"},h={display:"p357zi0d",paddingTop:"emrlamx0",paddingEnd:"f9ovudaz",paddingBottom:"aiput80m",paddingStart:"gx1rr48f",cursor:"ajgl1lbb"},g={marginTop:"qt60bha0",marginEnd:"spjzgwxb"},C={position:"g0rxnol2",flex:"a1m9qzja"},m={display:"l7jjieqr"},_=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"];function v(e){let{reason:t,isChecked:o,onChange:n}=e;return(0,f.jsx)("li",{children:(0,f.jsxs)("label",{className:(0,u.default)(h),children:[(0,f.jsx)("input",{type:"radio",name:t,value:t,onChange:n,className:(0,u.default)(g),checked:o}),(0,f.jsx)(b,{reason:t})]})})}function x(e,t){const{onCancel:o,onTellUsMoreSubmit:n}=e,[h,g]=(0,d.useState)(null),x=()=>{null==o||o()},b=e=>{e.target.value&&g(e.target.value)},S=c.fbt._("Tell us more",null,{hk:"2fZHoO"}),y=(0,f.jsx)("div",{className:(0,u.default)(p),children:(0,f.jsx)("ul",{className:(0,u.default)(C),children:_.map((e=>(0,f.jsx)(v,{reason:e,isChecked:h===e,onChange:b},`ReportProductReasonPopup-${e}-option`)))})}),k=(0,f.jsx)(a.default,{testid:"popup-controls-submit",type:"primary",onClick:()=>{h?n(h):l.ToastManager.open((0,f.jsx)(r.Toast,{msg:c.fbt._("Please select a reason.",null,{hk:"3UgUaa"}),id:(0,r.genId)()}))},disabled:!h,children:c.fbt._("Submit",null,{hk:"3npRPm"})},"ReportProductReasonPopup-submitButton"),P=(0,f.jsx)(a.default,{type:"secondary",testid:"popup-controls-cancel",onClick:x,children:c.fbt._("Cancel",null,{hk:"H0gNq"})},"ReportProductReasonPopup-cancelButton"),T=(0,f.jsxs)("div",{className:(0,u.default)(m),children:[P,k]});return(0,f.jsx)(i.HotKeys,{ref:t,handlers:{escape:x},children:(0,f.jsx)(s.Modal,{title:S,actions:T,children:y})})}function b(e){const{reason:t}=e;switch(t){case"NO_MATCH":return c.fbt._("The pictures or descriptions don't match the item",null,{hk:"2ifaot"});case"SPAM":return c.fbt._("This is spam",null,{hk:"hjxQJ"});case"ILLEGAL":return c.fbt._("This is abusive, harmful or illegal",null,{hk:"3xz9jr"});case"SCAM":return c.fbt._("This is fraud or a scam",null,{hk:"2iFRd8"});case"KNOCKOFF":return c.fbt._("This appears to be a knockoff or counterfeit item",null,{hk:"UiFcs"});case"OTHER":return c.fbt._("Other",null,{hk:"1Kn4LY"});default:throw new Error(`Invalid reason: ${t}`)}}var S=(0,d.forwardRef)(x);t.default=S},271836:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{isEditMode:t,catalog:o,subtitle:n,hideIncompleteRows:h,productsToShow:g,businessProfile:C}=e;const m=(0,p.jsx)(u.default,{onViewShopClick:()=>{(0,s.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_FROM_EDIT_BIZ_PROFILE)},onCommerceManagerClick:()=>{(0,s.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_FROM_EDIT_BIZ_PROFILE)},onCancelClick:()=>{(0,s.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_FROM_EDIT_BIZ_PROFILE)}});return(0,p.jsx)(d.default,{onProductDetail:function(e){if(t)r.ModalManager.open(m),(0,s.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_PRODUCT_PREVIEW_TILE,{shouldLogJid:!1});else{const t=new URL((0,l.default)(e.url,"product.url"),`https://${f.HOSTNAME.FACEBOOK}`);i.default.open(String(t))}},onProductCatalog:function(){t?(r.ModalManager.open(m),(0,s.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_MANAGE_SHOPS)):(0,a.goToShop)(C)},catalog:o,subtitle:n,hideIncompleteRows:h,productsToShow:g,showShopsLogo:!0})};var l=n(o(132375)),a=o(85663),i=n(o(524173)),r=o(114850),s=o(748483),c=n(o(571834)),d=n(o(634018)),u=n(o(271615)),f=o(525892),p=o(785893)},60908:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleGrievanceOfficerDetailsError=t.handleCustomerCareDetailsError=t.getLegalEntityDetails=t.ComplianceInfoStructuralField=t.ComplianceInfoPrimitiveField=t.ComplianceInfoLoading=t.ComplianceInfoHelpCenterBanner=t.ComplianceInfoGroup=void 0;var l=n(o(348926)),a=o(637842),i=o(69108),r=n(o(932325)),s=o(50010),c=n(o(154170)),d=o(977503),u=o(917426),f=n(o(565534)),p=o(955877),h=o(206642),g=n(o(714995)),C=n(o(337090)),m=o(548360),_=n(o(156720)),v=o(785893);const x={fieldLabel:{display:"f804f6gw",lineHeight:"gz7w46tb"},fieldValue:{display:"f804f6gw",wordBreak:"cw3vfol9",whiteSpace:"c2jc77nu"},helpCenterBanner:{fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},displayRight:{textAlign:"cb8ormfa"}},b=()=>m.fbt._("Not Provided",null,{hk:"43OpXI"});t.ComplianceInfoGroup=e=>{let{title:t,children:o}=e;return(0,v.jsx)(C.default,{title:t,xstyle:s.uiPadding.vert8,children:o})};t.ComplianceInfoPrimitiveField=e=>{let{value:t,label:o,forceLTR:n}=e;return(0,v.jsxs)(S,{children:[(0,v.jsx)(P,{value:t,forceLTR:n}),(0,v.jsx)(k,{label:o})]})};t.ComplianceInfoStructuralField=e=>{let{valuesMap:t={},keys:o=[],label:n}=e;const l=o.reduce(((e,o)=>t[o]?e.concat(t[o]):e),[]),a=l.length?l.join(", "):b();return(0,v.jsxs)(S,{children:[(0,v.jsx)(P,{value:a}),(0,v.jsx)(k,{label:n})]})};const S=e=>{let{children:t}=e;return(0,v.jsx)(c.default,{multiline:!0,restrictSpacing:!0,children:(0,v.jsx)("div",{className:(0,_.default)(s.uiPadding.vert8),children:t})})};t.ComplianceInfoLoading=()=>(0,v.jsx)(u.FlexRow,{align:"center",justify:"center",testid:"compliance-info-loading",children:(0,v.jsx)(f.default,{children:(0,v.jsx)(p.Spinner,{})})});t.ComplianceInfoHelpCenterBanner=e=>{let{xstyle:t}=e;return(0,v.jsxs)("div",{className:(0,_.default)(x.helpCenterBanner,t),"data-testid":"compliance-help-center-banner",children:[m.fbt._("Indian law requires additional information from businesses selling online.",null,{hk:"1zuHU2"})," ",(0,v.jsx)(d.ExternalLink,{href:"https://faq.whatsapp.com/general/account-and-profile/how-to-comply-with-the-laws-for-selling-online-in-India",children:m.fbt._("Learn more",null,{hk:"1JNnQ1"})})]})};const y=function(){var e=(0,l.default)((function*(e){const t=(e=>(Array.isArray(e)?e[0]:e).serialize())(yield i.BusinessProfileCollection.update(e,{getMerchantCompliance:!0}));if(t)return t.legalEntityDetails||void 0;__LOG__(3)`compliance: cannot fetch business details (${e.toString()})`}));return function(){return e.apply(this,arguments)}}();t.getLegalEntityDetails=y;const k=e=>{let{label:t}=e;return(0,v.jsx)("div",{className:(0,_.default)(x.fieldLabel),"data-testid":"compliance-info-field-label",children:(0,v.jsx)(h.TextSpan,{theme:"muted",children:t})})},P=e=>{let{value:t,forceLTR:o=!1}=e;const n=r.default.isRTL();return(0,v.jsx)("div",{className:(0,_.default)(x.fieldValue,s.uiMargin.vert3,n&&o&&x.displayRight),dir:o||!n?"ltr":"rtl","data-testid":"compliance-info-field-value",children:t||b()})};t.handleCustomerCareDetailsError=(e,t,o,n)=>{(0,a.existsCustomerCareDetailsContact)(e,t,o,n)||(0,g.default)(m.fbt._("At least one phone number is required. Please provide another phone number before removing this.",null,{hk:"2LGoJd"}))};t.handleGrievanceOfficerDetailsError=(e,t,o,n)=>{(0,a.existsGrievanceOfficerDetailsContact)(e,t,o,n)||(0,g.default)(m.fbt._("At least one contact method is required. Please provide another contact method first before removing this.",null,{hk:"NXBiy"}))}},862921:(e,t,o)=>{"use strict";var n=o(170315).default,l=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{images:t,renderFallback:o,fallbackMediaData:l,fetching:m,onClick:v}=e,x=(0,C.useRef)(null),b=(0,C.useRef)(null),S=(0,C.useRef)(null),y=(0,C.useRef)(null),k=(0,C.useRef)(null),[P,T]=(0,C.useState)(null),[j,E]=(0,C.useState)(t.filter((e=>e.mediaData.mediaStage===h.MEDIA_DATA_STAGE.RESOLVED)).length),[I,O]=(0,C.useState)(!1),w=j===t.length,A=()=>E((e=>e+1));(0,C.useEffect)((()=>{let e=null;if(!w&&!o){var t,l;const o=b.current;if(!o)return;null===(t=S.current)||void 0===t||t.controller.abort(),e=new n;const s=e.signal,c=((null===(l=S.current)||void 0===l?void 0:l.promise)||Promise.resolve()).then((()=>(0,r.default)(o,{opacity:[1,0]},{delay:75,duration:50}))),d=(0,i.default)(c,s).then((()=>{if(s.aborted)throw new a.AbortError;O(!0)})).catch((0,a.catchAbort)((()=>{(0,r.default)(o,"stop",!0)}))).finally((()=>{S.current=null}));S.current={promise:d,controller:e}}return()=>{var t;null===(t=e)||void 0===t||t.abort()}}),[w,o]);const L=()=>{var e;return(null===(e=x.current)||void 0===e?void 0:e.children)?x.current.scrollWidth===x.current.offsetWidth?null:0===x.current.scrollLeft?"next":x.current.scrollWidth-1<=x.current.scrollLeft+x.current.offsetWidth?"prev":"both":null};if((0,C.useEffect)((()=>{T(L())}),[w]),o&&0===t.length)return(0,_.jsx)("div",{className:c.default.carousel,dir:"ltr",children:(0,_.jsx)("div",{className:(0,g.default)(c.default.contentContainer,c.default.slidesContainer),children:l&&(0,_.jsx)(d.default,{altText:"",mediaData:l,renderFallback:!0,singleSlide:!0})})});let M,R,N;const D=()=>{y.current=null;const e=L();P!==e&&T(e)};if(t.length>1){const e=()=>{const e=x.current;if(null!=e&&("prev"===P||"both"===P)){let t=0;const o=e.scrollLeft+Math.floor(e.offsetWidth/2);let n=e.lastElementChild;for(;n instanceof HTMLElement&&0===t;){const e=n.offsetLeft+Math.floor(n.offsetWidth/2);e<o&&(t=e-o),n=n.previousElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},t=()=>{const e=x.current;if(null!=e&&("next"===P||"both"===P)){let t=0;const o=e.scrollLeft+Math.floor(e.offsetWidth/2);let n=e.firstElementChild;for(;n instanceof HTMLElement&&0===t;){const e=n.offsetLeft+Math.floor(n.offsetWidth/2);o<e&&(t=e-o),n=n.nextElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},o=()=>{k.current=null;const e=L();P!==e&&T(e)};N=()=>{null==k.current&&(k.current=requestAnimationFrame(o))},w&&null!=P&&(M=(0,_.jsx)(s.ChevronButton,{type:s.ButtonType.Prev,onClick:e,onKeyDown:e,disabled:"prev"!==P&&"both"!==P,theme:f.RoundTheme.Small,overMedia:!0}),R=(0,_.jsx)(s.ChevronButton,{type:s.ButtonType.Next,onClick:t,onKeyDown:t,disabled:"next"!==P&&"both"!==P,theme:f.RoundTheme.Small,overMedia:!0}))}const B=1===t.length,H=t.map(((e,t)=>(0,_.jsx)(d.default,{altText:"",image:e,singleSlide:B,mediaData:e.mediaData,onClick:v,onLoad:A},t))),W=w?null:(0,_.jsx)("div",{className:(0,g.default)(c.default.contentContainer,c.default.spinnerContainer),children:(0,_.jsx)("div",{className:c.default.spinner,ref:b,children:(0,_.jsx)(p.Spinner,{color:"default",size:50,stroke:4})})}),F=(0,g.default)(c.default.carousel,{[c.default.loaded]:!m&&w,[c.default.fadeIn]:I});return(0,_.jsxs)("div",{className:F,dir:"ltr",children:[W,(0,_.jsx)("div",{ref:x,className:(0,g.default)(c.default.contentContainer,c.default.slidesContainer),onScroll:N,children:H}),M,R,(0,_.jsx)(u.default,{onResize:()=>{null==y.current&&(y.current=requestAnimationFrame(D))}})]})};var a=o(88237),i=l(o(589970)),r=l(o(330619)),s=o(619981),c=l(o(563696)),d=l(o(938947)),u=l(o(352868)),f=o(145213),p=o(955877),h=o(789139),g=l(o(294184)),C=o(667294),m=l(o(730523)),_=o(785893);m.default.polyfill()},938947:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(o(189882)),a=o(789139),i=o(667294),r=o(990144),s=o(785893);var c=e=>{let{mediaData:t,altText:o,image:n,singleSlide:c,renderFallback:d,onClick:u,onLoad:f,forwardRef:p}=e;const{fullHeight:h,fullWidth:g,mediaStage:C,renderableUrl:m}=(0,r.useModelValues)(t,["fullHeight","fullWidth","mediaStage","renderableUrl"]),_=(0,i.useRef)(null),v=(0,i.useRef)(C===a.MEDIA_DATA_STAGE.RESOLVED);(0,i.useEffect)((()=>{!f||v.current||d||C!==a.MEDIA_DATA_STAGE.RESOLVED||(f(),v.current=!0)}),[f,d,C]);const x=!!c;let b=g&&h?g/h:.8;b<.8&&(b=.8),b>1.91&&(b=1.91),b>1&&!x&&(b=1);const S={width:x&&b<1?100*b+"%":1!==b||c?null:"100%"},y={paddingTop:`${Math.floor(100/b)}%`},k={cursor:""+(u?"pointer":"auto")};return(0,s.jsx)("div",{ref:p?e=>p(e):null,className:l.default.slide,style:S,children:(0,s.jsx)("div",{className:l.default.slideInnerContainer,style:y,children:(0,s.jsx)("img",{ref:_,alt:o,src:m,className:l.default.image,style:k,draggable:"false",onClick:()=>{u&&_.current&&n&&u(_.current,n)}})})})};t.default=c},242645:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyCanvas=g,t.MediaGalleryView=void 0;var l=n(o(932325)),a=o(572946),i=o(95187),r=o(955877),s=o(386555),c=n(o(294184)),d=o(548360),u=o(667294),f=n(o(156720)),p=o(785893);const h={canvasComponent:{position:"g0rxnol2",width:"d0st09ow",marginEnd:"spjzgwxb",marginBottom:"brac1wpa","@media (max-width: 1024px)":{width:"bazijzwv"},"@media (max-width: 800px)":{width:"n0hkwe29"}},canvasComponentBefore:{display:"srqslfex",paddingTop:"h9iecx73",content:"d3pjxk2u"},canvasEmpty:{position:"g0rxnol2",width:"d0st09ow",height:"bbl9m3t3",marginEnd:"ikc09dv3","@media (max-width: 1024px)":{width:"bazijzwv"},"@media (max-width: 800px)":{width:"n0hkwe29"}},canvasSecondRow:{display:"qibyn6m3","@media (max-width: 1024px)":{display:"s9437i69"},"@media (max-width: 800px)":{display:"g3bgiwf5"}},canvasFirst:{height:"ohuqqxaf",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},more:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"},container:{display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"lkhkxwyq",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"n1yiu2zv",marginEnd:"ikc09dv3",overflowY:"r7fjleex"},justifySpaceBetween:{justifyContent:"o4u7okr9",width:"ln8gz9je"},galleryEmpty:{height:"ohuqqxaf",paddingTop:"i5tg98hk",paddingBottom:"n3bptxsn",fontSize:"f8jlpxt4",lineHeight:"amac7m9s",color:"hcag4mye"},fontSmoothing:{"-webkit-font-smoothing":"kh4n4d4z","-moz-osx-font-smoothing":"tt14wmjx"},drawer:{paddingTop:"t2quo9z4",paddingBottom:"hgytzyjk",paddingStart:"m1h4cxg8",paddingEnd:"qcdmbpik",marginEnd:"jnwc1y2a",overflowY:"rpvcun8f"},drawerBody:{position:"g0rxnol2",zIndex:"b9fczbqn",display:"p357zi0d",flexGrow:"ggj6brxn",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"ag5g9lrv",opacity:"bs7a17vp"},themeChatInfo:{color:"ffxp8o2t"}};function g(){return(0,p.jsx)("div",{className:(0,f.default)(h.canvasEmpty)})}function C(e,t){const{mediaCollection:o,fullCollection:n,chat:l,onScroll:s,justify:d}=e,u=e.medias||e.productMedias,C="chat-info"===e.theme,_=0===o.length;if(!u)return null;let v=(0,f.default)(h.container,Boolean(n)&&h.drawer,_&&h.galleryEmpty,_&&a.isOSMac&&h.fontSmoothing,"space-between"===d&&h.justifySpaceBetween,C&&_&&h.themeChatInfo),x=[...u];if(o.queryMediaBefore&&(n||x.length<6)){const e=(0,f.default)(h.more,h.canvasComponent,!n&&x.length>=3&&h.canvasSecondRow,0===o.length&&h.canvasFirst);x.push((0,p.jsxs)("div",{className:e,children:[(0,p.jsx)("span",{className:(0,f.default)(h.canvasComponentBefore)}),(0,p.jsx)(r.Spinner,{stroke:6,size:24})]},"spinner"))}if(0===u.length){if(n){if(o.queryMediaBefore)return(0,p.jsx)("div",{className:(0,f.default)(h.drawer,h.drawerBody),children:(0,p.jsx)(i.Loading,{})});if(!o.hasMediaBefore)return(0,p.jsx)(i.MediaMsgs,{})}if(C)return null;o.queryMediaBefore||o.hasMediaBefore||(v=(0,c.default)(v,(0,f.default)(h.galleryEmpty,a.isOSMac&&h.fontSmoothing)),x=[m(Math.max(l?l.docCount:0,0),Math.max(l?l.linkCount:0,0),Math.max(l?l.productCount:0,0))])}else for(let e=0;e<6;e++)x.push((0,p.jsx)(g,{},"empty"+e));return(0,p.jsx)("div",{onScroll:s,"data-testid":"media-gallery",className:v,ref:t,children:x})}function m(e,t,o){const n=[];return null!=e&&e>0&&n.push(l.default.t(245,{count:e,_plural:e})),null!=t&&t>0&&n.push(l.default.t(396,{count:t,_plural:t})),s.ServerProps.productMediaAttachments&&null!=o&&o>0&&n.push(l.default.t(543,{count:o,_plural:o})),n.length>0?n.join(l.default.t(254)):s.ServerProps.productMediaAttachments?d.fbt._("No Media, Links, Docs and Products",null,{hk:"3RKA8T"}):d.fbt._("No Media, Links and Docs",null,{hk:"226fK3"})}const _=(0,u.forwardRef)(C);t.MediaGalleryView=_},163793:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerDetailsStickerPackInfo=function(e){const{name:t,publisher:o,theme:n}=e;return(0,i.jsxs)(a.TextDiv,{theme:"plain",xstyle:[r.container,n===s.StickerStore&&r.stickerStore,n===s.MediaViewer&&r.mediaViewer],children:[t&&(0,i.jsx)(l.EmojiText,{xstyle:r.name,text:t}),t&&o&&(0,i.jsx)(l.EmojiText,{text:" • "}),o&&(0,i.jsx)(l.EmojiText,{text:o})]})},t.Theme=void 0;var l=o(399524),a=o(206642),i=(n(o(156720)),o(785893));const r={container:{color:"hp667wtd",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",textAlign:"qfejxiq4"},stickerStore:{marginBottom:"e2xccmyv"},mediaViewer:{marginBottom:"r2u2pyhj"},name:{fontSize:"enbbiyaj",lineHeight:"l85iiqla",color:"tl2vja3b"}},s=o(76672).Mirrored(["StickerStore","MediaViewer"]);t.Theme=s},115888:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessAddressIcon=function(e){var t;const{iconXstyle:o,height:n,width:d,viewBox:u}=e,f=(0,a.default)(e,c);let p;if(u){const{x:e=0,y:t=0,width:o=0,height:n=0}=u;p=[e,t,o,n].join(" ")}let h=24,g=24;null==n&&null==d||(h=n,g=d);return(0,s.jsx)(i.BaseSvgSpan,(0,l.default)((0,l.default)({name:"business-address"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,r.default)(o),version:"1.1",children:[(0,s.jsx)("title",{children:"business-address"}),(0,s.jsx)("desc",{children:"Created with Sketch."}),(0,s.jsx)("defs",{}),(0,s.jsxs)("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[(0,s.jsx)("path",{d:"M12.0497571,11.9753826 C10.5804884,11.9753826 9.42411942,10.8207142 9.42411942,9.34974492 C9.42411942,7.88047615 10.5804884,6.72580776 12.0497571,6.72580776 C13.5190259,6.72580776 14.6753948,7.88047615 14.6753948,9.34974492 C14.6753948,10.8207142 13.5190259,11.9753826 12.0497571,11.9753826 M12.0497571,2 C7.95485066,2 4.70001221,5.25483845 4.70001221,9.34974492 C4.70001221,14.8101871 12.0497571,23 12.0497571,23 C12.0497571,23 19.399502,14.8101871 19.399502,9.34974492 C19.399502,5.25483845 16.1446636,2 12.0497571,2",id:"Fill-1",fill:"currentColor"}),(0,s.jsx)("g",{id:"slices"})]})]})}))};var l=n(o(81109)),a=n(o(506479)),i=o(270891),r=n(o(156720)),s=o(785893);const c=["iconXstyle","height","width","viewBox"]},626513:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CartInterstitialGraphicIcon=function(e){var t;const{iconXstyle:o,height:n,width:d,viewBox:u}=e,f=(0,a.default)(e,c);let p;if(u){const{x:e=0,y:t=0,width:o=0,height:n=0}=u;p=[e,t,o,n].join(" ")}let h=116,g=117;null==n&&null==d||(h=n,g=d);return(0,s.jsx)(i.BaseSvgSpan,(0,l.default)((0,l.default)({name:"cart-interstitial-graphic"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 117 116",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,r.default)(o),fill:"none",children:[(0,s.jsx)("path",{opacity:.15,fillRule:"evenodd",clipRule:"evenodd",d:"M10.7538 28.8194L1.11733 25.7279L10.7538 22.6365L13.8452 13L16.9367 22.6365L26.5732 25.7279L16.9367 28.8194L13.8453 38.4558L10.7538 28.8194Z",fill:"currentColor"}),(0,s.jsx)("path",{opacity:.6,fillRule:"evenodd",clipRule:"evenodd",d:"M85.568 105.137L78.0729 102.733L85.568 100.329L87.9724 92.8335L90.3769 100.329L97.8719 102.733L90.3769 105.137L87.9724 112.632L85.568 105.137Z",fill:"currentColor"}),(0,s.jsx)("path",{opacity:.38,fillRule:"evenodd",clipRule:"evenodd",d:"M18.1989 86.9097L13.3807 85.364L18.1989 83.8182L19.7447 79L21.2904 83.8182L26.1086 85.364L21.2904 86.9097L19.7447 91.7279L18.1989 86.9097Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.8452 58C94.8452 77.8823 78.7274 94 58.8452 94C38.9629 94 22.8452 77.8823 22.8452 58C22.8452 38.1177 38.9629 22 58.8452 22C66.1124 22 72.8767 24.1533 78.5348 27.8568C77.4618 29.6538 76.8452 31.7549 76.8452 34C76.8452 40.6274 82.2178 46 88.8452 46C90.1496 46 91.4054 45.7919 92.5812 45.407C94.0449 49.3267 94.8452 53.5699 94.8452 58ZM95 32.5H90.5V28H87.5V32.5H83V35.5H87.5V40H90.5V35.5H95V32.5ZM48.3602 70C48.3602 68.35 49.6952 67 51.3452 67C52.9952 67 54.3452 68.35 54.3452 70C54.3452 71.65 52.9952 73 51.3452 73C49.6952 73 48.3602 71.65 48.3602 70ZM42.3452 46V43H47.2502L48.6602 46H70.8452C71.6702 46 72.3452 46.675 72.3452 47.5C72.3452 47.755 72.2852 48.01 72.1652 48.22L66.7952 57.955C66.2852 58.885 65.2952 59.5 64.1702 59.5H52.9952L51.6452 61.945L51.6002 62.125C51.6002 62.335 51.7652 62.5 51.9752 62.5H69.3452V65.5H51.3452C49.6952 65.5 48.3452 64.15 48.3452 62.5C48.3452 61.975 48.4802 61.48 48.7202 61.06L50.7452 57.385L45.3452 46H42.3452ZM63.3602 70C63.3602 68.35 64.6952 67 66.3452 67C67.9952 67 69.3452 68.35 69.3452 70C69.3452 71.65 67.9952 73 66.3452 73C64.6952 73 63.3602 71.65 63.3602 70Z",fill:"currentColor"})]})}))};var l=n(o(81109)),a=n(o(506479)),i=o(270891),r=n(o(156720)),s=o(785893);const c=["iconXstyle","height","width","viewBox"]},592362:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChevronDownAltIcon=function(e){var t;const{iconXstyle:o,height:n,width:d,viewBox:u}=e,f=(0,a.default)(e,c);let p;if(u){const{x:e=0,y:t=0,width:o=0,height:n=0}=u;p=[e,t,o,n].join(" ")}let h=13,g=17;null==n&&null==d||(h=n,g=d);return(0,s.jsx)(i.BaseSvgSpan,(0,l.default)((0,l.default)({name:"chevron-down-alt"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 17 13",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,r.default)(o),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 17 13",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M3.202,2.5l5.2,5.2l5.2-5.2l1.5,1.5l-6.7,6.5l-6.6-6.6L3.202,2.5z"})})}))};var l=n(o(81109)),a=n(o(506479)),i=o(270891),r=n(o(156720)),s=o(785893);const c=["iconXstyle","height","width","viewBox"]},106180:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CopyIcon=function(e){var t;const{iconXstyle:o,height:n,width:d,viewBox:u}=e,f=(0,a.default)(e,c);let p;if(u){const{x:e=0,y:t=0,width:o=0,height:n=0}=u;p=[e,t,o,n].join(" ")}let h=24,g=24;null==n&&null==d||(h=n,g=d);return(0,s.jsx)(i.BaseSvgSpan,(0,l.default)((0,l.default)({name:"copy"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 24 24",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,r.default)(o),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M15.5,3H5.6C4.7,3,4,3.7,4,4.6v11.5h1.6V4.7h9.9V3z M18,6.3H8.9C8,6.3,7.3,7,7.3,7.9 v11.5C7.3,20.3,8,21,8.9,21H18c0.9,0,1.6-0.7,1.6-1.6V7.9C19.6,7,18.8,6.3,18,6.3z M18,19.4H8.9V7.9H18V19.4z"})})}))};var l=n(o(81109)),a=n(o(506479)),i=o(270891),r=n(o(156720)),s=o(785893);const c=["iconXstyle","height","width","viewBox"]},126333:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadIcon=function(e){const{iconXstyle:t,height:o,width:n,viewBox:d}=e,u=(0,a.default)(e,c);let f;if(d){const{x:e=0,y:t=0,width:o=0,height:n=0}=d;f=[e,t,o,n].join(" ")}{var p;let e=24,a=24;return null==o&&null==n||(e=o,a=n),(0,s.jsx)(i.BaseSvgSpan,(0,l.default)((0,l.default)({name:"download"},u),{},{children:(0,s.jsx)("svg",{viewBox:null!==(p=f)&&void 0!==p?p:"0 0 24 24",height:e,width:a,preserveAspectRatio:"xMidYMid meet",className:(0,r.default)(t),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M18.9,10.3h-4V4.4H9v5.9H5l6.9,6.9L18.9,10.3z M5.1,19.2v2H19v-2H5.1z"})})}))}};var l=n(o(81109)),a=n(o(506479)),i=o(270891),r=n(o(156720)),s=o(785893);const c=["iconXstyle","height","width","viewBox"]},307476:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.FbshopsIcon=function(e){var t;const{iconXstyle:o,height:n,width:d,viewBox:u}=e,f=(0,a.default)(e,c);let p;if(u){const{x:e=0,y:t=0,width:o=0,height:n=0}=u;p=[e,t,o,n].join(" ")}let h=12,g=120;null==n&&null==d||(h=n,g=d);return(0,s.jsx)(i.BaseSvgSpan,(0,l.default)((0,l.default)({name:"fbshops"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 120 12",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,r.default)(o),fill:"none",children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M92.8438 9.10606V0.387207H93.7769V4.29277C93.9935 3.90261 94.273 3.59506 94.6155 3.37013C94.958 3.1452 95.3537 3.03272 95.8025 3.03272H95.9206C96.6018 3.03272 97.1215 3.25667 97.4798 3.70456C97.838 4.15244 98.0172 4.79242 98.0172 5.6245V9.10606H97.0841V5.76184C97.0841 5.14873 96.9719 4.68692 96.7475 4.37638C96.523 4.06584 96.1707 3.91058 95.6903 3.91058H95.5782C95.1411 3.91058 94.7681 4.0539 94.459 4.34056C94.15 4.6272 93.9226 4.98749 93.7769 5.42145V9.10606H92.8438ZM87.576 9.23744C86.8358 9.23744 86.1872 9.10009 85.6301 8.82538C85.0729 8.55068 84.6074 8.14859 84.2334 7.61908L84.9715 6.96217C85.629 7.86193 86.4972 8.31182 87.576 8.31182H87.7C88.3812 8.31182 88.8949 8.1874 89.2413 7.93858C89.5878 7.68975 89.761 7.35035 89.761 6.92038C89.761 6.62178 89.6853 6.37893 89.5337 6.19181C89.3821 6.00469 89.1873 5.8574 88.9491 5.7499C88.7109 5.64241 88.4599 5.5608 88.196 5.50506L86.6664 5.18258C86.32 5.11092 85.9814 4.99248 85.6507 4.82726C85.32 4.66204 85.0464 4.43312 84.8298 4.14049C84.6133 3.84788 84.505 3.47463 84.505 3.02078C84.505 2.53905 84.63 2.11804 84.88 1.75774C85.1301 1.39744 85.4804 1.11677 85.9313 0.915713C86.3821 0.714661 86.9106 0.614136 87.5169 0.614136H87.6468C88.9461 0.614136 89.9402 1.12174 90.6292 2.13694L89.9027 2.74011C89.5839 2.30217 89.2404 1.99263 88.8722 1.81149C88.5041 1.63034 88.0897 1.53977 87.6291 1.53977H87.5051C86.9146 1.53977 86.4372 1.66717 86.073 1.92196C85.7088 2.17676 85.5267 2.51715 85.5267 2.94314C85.5267 3.32932 85.6695 3.61795 85.9549 3.80906C86.2404 4.00015 86.6016 4.14149 87.0386 4.23306L88.515 4.54359C88.759 4.59535 89.013 4.67199 89.2769 4.77351C89.5406 4.87503 89.7867 5.01338 90.015 5.18855C90.2434 5.36373 90.4284 5.58567 90.5701 5.8544C90.7118 6.12314 90.7827 6.45059 90.7827 6.83677C90.7827 7.57728 90.5101 8.16251 89.9648 8.59248C89.4195 9.02246 88.6666 9.23744 87.7059 9.23744H87.576ZM101.265 8.83733C101.694 9.10408 102.202 9.23744 102.789 9.23744H102.907C103.494 9.23744 104.002 9.10408 104.431 8.83733C104.86 8.57059 105.192 8.20432 105.426 7.73851C105.66 7.27272 105.777 6.73923 105.777 6.13807C105.777 5.53292 105.66 4.99745 105.426 4.53165C105.192 4.06584 104.86 3.69958 104.431 3.43284C104.002 3.16609 103.494 3.03272 102.907 3.03272H102.789C102.202 3.03272 101.694 3.16609 101.265 3.43284C100.836 3.69958 100.504 4.06584 100.27 4.53165C100.036 4.99745 99.9188 5.53292 99.9188 6.13807C99.9188 6.73923 100.036 7.27272 100.27 7.73851C100.504 8.20432 100.836 8.57059 101.265 8.83733ZM102.795 8.36555H102.901C103.488 8.36555 103.952 8.16251 104.295 7.75642C104.637 7.35034 104.809 6.81088 104.809 6.13806C104.809 5.46126 104.637 4.9208 104.295 4.51671C103.952 4.11261 103.488 3.91057 102.901 3.91057H102.795C102.208 3.91057 101.744 4.11261 101.401 4.51671C101.059 4.9208 100.887 5.46126 100.887 6.13806C100.887 6.81088 101.059 7.35034 101.401 7.75642C101.744 8.16251 102.208 8.36555 102.795 8.36555ZM107.773 3.1641V11.6142H108.706V8.10279C108.927 8.48102 109.214 8.76468 109.569 8.95378C109.923 9.14289 110.313 9.23744 110.738 9.23744H110.856C111.376 9.23744 111.829 9.10607 112.214 8.8433C112.6 8.58054 112.9 8.21627 113.115 7.75046C113.33 7.28466 113.437 6.7472 113.437 6.13807C113.437 5.52496 113.33 4.98551 113.115 4.51971C112.9 4.0539 112.6 3.68962 112.214 3.42686C111.829 3.1641 111.376 3.03272 110.856 3.03272H110.738C110.301 3.03272 109.906 3.13326 109.554 3.3343C109.202 3.53535 108.919 3.83493 108.706 4.23306V3.1641H107.773ZM110.525 8.37152H110.638C111.201 8.37152 111.646 8.17644 111.975 7.78628C112.304 7.39612 112.468 6.84672 112.468 6.13806C112.468 5.42941 112.304 4.88001 111.975 4.48984C111.646 4.09968 111.201 3.90461 110.638 3.90461H110.525C110.088 3.90461 109.715 4.03399 109.406 4.29277C109.097 4.55155 108.864 4.88796 108.706 5.30201V6.96815C108.864 7.3822 109.098 7.71959 109.409 7.98037C109.72 8.24114 110.092 8.37152 110.525 8.37152ZM114.943 8.07294C115.47 8.84927 116.321 9.23744 117.494 9.23744H117.618C118.339 9.23744 118.899 9.07521 119.299 8.75075C119.698 8.42627 119.897 8.00327 119.897 7.48173C119.897 7.00797 119.751 6.63374 119.457 6.35902C119.164 6.08432 118.756 5.89124 118.232 5.77976L117.069 5.53491C116.711 5.45927 116.455 5.35875 116.301 5.23334C116.148 5.10793 116.071 4.93973 116.071 4.72872C116.071 4.458 116.196 4.246 116.446 4.09272C116.696 3.93945 117.024 3.86281 117.429 3.86281H117.535C117.882 3.86281 118.187 3.92651 118.451 4.0539C118.715 4.18131 118.945 4.38634 119.142 4.669L119.791 4.13751C119.295 3.40099 118.547 3.03272 117.547 3.03272H117.429C116.744 3.03272 116.192 3.19496 115.773 3.51943C115.353 3.8439 115.144 4.27287 115.144 4.80636C115.144 5.63843 115.707 6.16992 116.833 6.40083L117.972 6.63814C118.322 6.71641 118.573 6.82244 118.725 6.95621C118.889 7.09953 118.97 7.29063 118.97 7.5295C118.97 7.80819 118.849 8.02417 118.607 8.17744C118.365 8.33072 118.027 8.40736 117.594 8.40736H117.488C116.642 8.40736 116.01 8.10479 115.592 7.49964L114.943 8.07294Z"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M14.7972 9.18846H16.0799C16.1622 9.18846 16.209 9.1404 16.1884 9.05598C15.4415 6.36173 14.3061 3.39664 13.1708 0.872397C13.1352 0.777286 13.0408 0.719606 12.9424 0.732885H11.2714C11.1696 0.727073 11.0764 0.791175 11.043 0.889988C9.90078 3.39079 8.77119 6.35939 8.02992 9.05598C8.00707 9.1404 8.05389 9.18846 8.13613 9.18846H9.37197C9.43729 9.19366 9.49573 9.14691 9.50674 9.0806C9.67235 8.38534 9.87795 7.65493 10.1132 6.91746H14.0492C14.2844 7.65493 14.4911 8.38534 14.6614 9.0806C14.6734 9.14678 14.7319 9.19318 14.7972 9.18846ZM12.2194 2.06241C12.7082 3.1727 13.1845 4.3932 13.6139 5.61371H10.5427C10.9721 4.3932 11.4541 3.1727 11.943 2.06241H12.2194ZM6.29128 1.96269V0.848619C6.28292 0.807134 6.27132 0.779014 6.25648 0.764251C6.23422 0.742099 6.20415 0.73015 6.17315 0.730999H0.217229C0.153887 0.730999 0.102539 0.783713 0.102539 0.848619V9.07134C0.102539 9.13625 0.153887 9.18886 0.217229 9.18886H1.39052C1.45386 9.18886 1.50521 9.13625 1.50521 9.07134V5.70563H5.36113C5.42447 5.70563 5.47583 5.65301 5.47583 5.58811V4.47404C5.47583 4.40914 5.42447 4.35652 5.36113 4.35652H1.50521V2.0802H6.17659C6.23993 2.0802 6.29128 2.02758 6.29128 1.96269ZM18.4212 5.15414C18.4212 2.57591 20.1018 0.730993 22.5591 0.730993H22.7373C24.2639 0.730993 25.4445 1.51086 26.0765 2.6376C26.0948 2.66576 26.1 2.70049 26.0908 2.73284C26.0818 2.76519 26.0592 2.792 26.029 2.80638L24.9792 3.32785C24.9456 3.35012 24.9043 3.35761 24.8649 3.34862C24.8256 3.33961 24.7917 3.31487 24.7708 3.28013C24.33 2.50607 23.6678 2.09869 22.6875 2.09869H22.5093C21.0045 2.09869 19.9212 3.28594 19.9212 5.09711C19.9212 6.85938 20.9467 8.0711 22.5093 8.0711H22.691C23.6933 8.0711 24.2766 7.72888 24.7245 7.20742C24.7699 7.14495 24.8548 7.12687 24.9214 7.16551L26 7.6928C26.0337 7.70776 26.0567 7.73978 26.0603 7.77661C26.0577 7.80982 26.0451 7.84146 26.0244 7.8674C25.3624 8.83817 24.1725 9.43762 22.7153 9.43762H22.5359C19.9953 9.43529 18.4212 7.66021 18.4212 5.15414ZM35.5022 9.07149V7.95879C35.503 7.92643 35.4909 7.8951 35.4685 7.87221C35.4462 7.84934 35.4155 7.83691 35.3839 7.8379H30.4684V5.61485H34.3804C34.4437 5.61485 34.4951 5.56231 34.4951 5.49749V4.39653C34.4951 4.33171 34.4437 4.27917 34.3804 4.27917H30.4684V2.07843H35.2785C35.3417 2.07843 35.3931 2.02589 35.3931 1.96106V0.848364C35.3931 0.783542 35.3417 0.730993 35.2785 0.730993H29.1805C29.1172 0.730993 29.0659 0.783542 29.0659 0.848364V9.07149C29.0659 9.13631 29.1172 9.18885 29.1805 9.18885H35.3874C35.4507 9.18885 35.5022 9.13631 35.5022 9.07149ZM46.1468 6.8682C46.1468 8.33122 45.0333 9.18885 43.0014 9.18885H38.8377C38.7729 9.18885 38.7203 9.13632 38.7203 9.07152V0.848319C38.7203 0.783524 38.7729 0.730993 38.8377 0.730993H42.6314C44.6163 0.730993 45.6511 1.5288 45.6511 2.91908C45.6511 3.75324 45.2822 4.42434 44.2229 4.74464C45.5665 5.02504 46.1468 5.82871 46.1468 6.8682ZM42.602 2.04501H40.1567V4.31757H42.602C43.7389 4.31757 44.1994 3.93157 44.1994 3.18188C44.1994 2.43217 43.7389 2.04501 42.602 2.04501ZM44.6704 6.73796C44.6704 5.98826 44.2006 5.59523 43.0072 5.59523H40.1567V7.87014H43.0072C44.2287 7.87014 44.6704 7.49118 44.6704 6.74148V6.73796ZM53.1138 0.730993C50.5198 0.730993 48.8698 2.55963 48.8698 5.0843C48.8698 7.62413 50.5187 9.43762 53.1138 9.43762H53.29C55.884 9.43762 57.534 7.62063 57.534 5.0843C57.534 2.54798 55.884 0.730993 53.29 0.730993H53.1138ZM56.0488 5.0843C56.0488 6.88965 54.9767 8.07108 53.29 8.07108H53.1138C51.4157 8.07108 50.355 6.88848 50.355 5.0843C50.355 3.28013 51.4272 2.09868 53.1138 2.09868H53.29C54.988 2.09868 56.0488 3.27896 56.0488 5.0843ZM60.2571 5.0843C60.2571 2.55963 61.9069 0.730993 64.5005 0.730993H64.6767C67.2704 0.730993 68.9213 2.54798 68.9213 5.0843C68.9213 7.62063 67.2704 9.43762 64.6767 9.43762H64.5005C61.9069 9.43762 60.2571 7.62413 60.2571 5.0843ZM64.6767 8.07108C66.3631 8.07108 67.4351 6.88965 67.4351 5.0843C67.4351 3.27896 66.3746 2.09868 64.6767 2.09868H64.5005C62.8152 2.09868 61.7422 3.28013 61.7422 5.0843C61.7422 6.88848 62.8027 8.07108 64.5005 8.07108H64.6767ZM77.6431 9.18867H79.2185C79.3092 9.18867 79.3498 9.11715 79.2905 9.04328C78.0129 7.53073 76.6159 6.1249 75.1134 4.83959C76.481 3.6488 77.7362 2.33262 78.8627 0.907944C78.8868 0.883291 78.9016 0.850949 78.9045 0.816491C78.9045 0.768406 78.8685 0.732065 78.7965 0.732065H77.3119C77.2505 0.725018 77.1904 0.753064 77.1561 0.804758C76.2043 2.01796 75.1544 3.14945 74.0171 4.18764H73.3102V0.852836C73.3102 0.788081 73.2582 0.735583 73.194 0.735583H72.0082C71.9439 0.735583 71.8919 0.788081 71.8919 0.852836V9.0679C71.8919 9.13266 71.9439 9.18515 72.0082 9.18515H73.194C73.2582 9.18515 73.3102 9.13266 73.3102 9.0679V5.57714H74.0078C75.2511 6.66402 76.4123 7.843 77.4816 9.10425C77.5167 9.1594 77.5782 9.19156 77.6431 9.18867Z"})]})}))};var l=n(o(81109)),a=n(o(506479)),i=o(270891),r=n(o(156720)),s=o(785893);const c=["iconXstyle","height","width","viewBox"]},525110:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardIcon=function(e){const{iconXstyle:t,height:o,width:n,viewBox:d}=e,u=(0,a.default)(e,c);let f;if(d){const{x:e=0,y:t=0,width:o=0,height:n=0}=d;f=[e,t,o,n].join(" ")}{var p;let e=24,a=24;return null==o&&null==n||(e=o,a=n),(0,s.jsx)(i.BaseSvgSpan,(0,l.default)((0,l.default)({name:"forward"},u),{},{children:(0,s.jsx)("svg",{viewBox:null!==(p=f)&&void 0!==p?p:"0 0 24 24",height:e,width:a,preserveAspectRatio:"xMidYMid meet",className:(0,r.default)(t),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M14.278,4.813c0-0.723,0.873-1.085,1.383-0.574l6.045,6.051 c0.317,0.317,0.317,0.829,0,1.146l-6.045,6.051c-0.51,0.51-1.383,0.149-1.383-0.574v-2.732c-5.096,0-8.829,1.455-11.604,4.611 c-0.246,0.279-0.702,0.042-0.602-0.316C3.502,13.303,6.997,8.472,14.278,7.431V4.813z"})})}))}};var l=n(o(81109)),a=n(o(506479)),i=o(270891),r=n(o(156720)),s=o(785893);const c=["iconXstyle","height","width","viewBox"]},875602:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ViewOnceSenderNuxIcon=function(e){var t;const{iconXstyle:o,height:n,width:d,viewBox:u}=e,f=(0,a.default)(e,c);let p;if(u){const{x:e=0,y:t=0,width:o=0,height:n=0}=u;p=[e,t,o,n].join(" ")}let h=168,g=198;null==n&&null==d||(h=n,g=d);return(0,s.jsx)(i.BaseSvgSpan,(0,l.default)((0,l.default)({name:"view-once-sender-nux"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 198 168",height:h,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,r.default)(o),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M182.166 57.7255C175.603 64.6681 166.307 69 156 69C139.711 69 125.949 58.1818 121.506 43.3383C112.644 40.1443 102.78 34.6399 86.1179 25.3418C84.3675 24.3651 82.5421 23.3465 80.635 22.2843C51.9895 6.3297 6.00593 19.7651 2.23678 73.9266C-0.243988 109.575 17.0718 134.232 39.9408 142.968C62.0404 151.411 110.667 158.989 162.477 140.97C190.944 131.069 198.637 111.677 196.725 89.4613C195.454 74.6999 189.899 64.4184 182.166 57.7255Z",fill:"#CCEFEB"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M134.277 61.7099C125.603 55.1366 120 44.7226 120 33C120 29.0037 120.651 25.1594 121.853 21.5676L80.2307 15.7179C73.8904 14.8269 68.016 19.3544 67.11 25.8304L50.5682 144.067C49.6622 150.543 54.0676 156.515 60.4079 157.406L108.242 164.129C114.583 165.02 120.457 160.493 121.363 154.016L134.277 61.7099Z",fill:"#42CBA5"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M122.943 18.7215L80.4885 12.755C73.9412 11.8348 67.8737 16.5197 66.9365 23.219L49.8245 145.531C48.8872 152.231 53.4351 158.407 59.9824 159.327L109.378 166.27C115.925 167.19 121.993 162.505 122.93 155.806L135.929 62.8902C135.129 62.3519 134.352 61.7824 133.599 61.1834L120.411 155.452C119.673 160.727 114.895 164.417 109.739 163.692L60.343 156.75C55.187 156.025 51.6056 151.161 52.3437 145.885L69.4557 23.573C70.1938 18.2974 74.9719 14.608 80.1279 15.3326L121.974 21.2137C122.266 20.3682 122.59 19.537 122.943 18.7215Z",fill:"#316474"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M135.032 62.2669C125.93 55.7339 120 45.0594 120 33C120 27.0332 121.452 21.4055 124.021 16.4507L82.3684 10.5968C76.0897 9.71436 70.2654 14.2484 69.3594 20.7238L52.8193 138.948C51.9134 145.424 56.2689 151.388 62.5476 152.271L109.917 158.928C116.196 159.81 122.02 155.276 122.926 148.801L135.032 62.2669Z",fill:"white"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.376 15.7826L80.8832 9.67008C74.3203 8.74772 68.2607 13.2841 67.3488 19.8023L50.6993 138.809C49.7874 145.327 54.3684 151.359 60.9313 152.281L110.445 159.24C117.008 160.162 123.067 155.626 123.979 149.108L136.032 62.959C135.229 62.4232 134.45 61.856 133.695 61.2591L121.454 148.753C120.736 153.886 115.964 157.458 110.796 156.732L61.2822 149.773C56.1139 149.047 52.5063 144.297 53.2245 139.164L69.874 20.1572C70.5921 15.0241 75.364 11.4517 80.5323 12.1781L123.186 18.1726C123.554 17.3594 123.951 16.5623 124.376 15.7826Z",fill:"#316474"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.759 21.8546L119.225 21.5025L88.5269 17.2367L81.6788 16.2851C76.9838 15.6327 72.6359 18.9334 71.9674 23.6575L56.0988 135.806C55.4304 140.53 58.6946 144.888 63.3896 145.541L107.784 151.71C112.479 152.362 116.827 149.061 117.495 144.337L129.762 57.6491C123.708 51.2078 120 42.5372 120 33.0005C120 29.1102 120.617 25.364 121.759 21.8546Z",fill:"#EEFEFA"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.411 59.2946L119.092 146.356C118.408 151.187 113.925 154.558 109.079 153.885L63.2521 147.516C58.4056 146.843 55.031 142.38 55.7146 137.549L71.9439 22.852C72.6275 18.0206 77.1105 14.6499 81.957 15.3233L122.084 20.8994C121.801 21.6938 121.545 22.501 121.316 23.32L81.6063 17.802C78.133 17.3193 74.9202 19.735 74.4302 23.1975L58.201 137.895C57.711 141.357 60.1295 144.555 63.6028 145.038L109.429 151.406C112.903 151.889 116.116 149.473 116.605 146.01L129.195 57.0327C129.901 57.8186 130.64 58.5733 131.411 59.2946Z",fill:"#316474"}),(0,s.jsx)("path",{d:"M76.7691 93.7377C76.4214 96.1974 78.1329 98.4706 80.5929 98.8163L111.741 103.194C114.202 103.54 116.481 101.824 116.83 99.3627L119.073 83.5207C119.421 81.0608 117.709 78.787 115.249 78.4413L73.6586 72.5961C73.183 72.5293 72.895 73.106 73.2346 73.4451L76.5525 76.7581C77.9966 78.2 78.6778 80.2374 78.3919 82.2594L76.7691 93.7377Z",fill:"white",stroke:"#00B39B",strokeWidth:3}),(0,s.jsx)("path",{d:"M107.679 93.8443L87.8798 91.0618C87.0681 90.9477 86.7049 90.084 87.2785 89.5941L91.8745 85.6237C92.3348 85.2215 93.1268 85.3328 93.4584 85.8463L96.5327 90.5489L102.507 85.389C102.968 84.9869 103.76 85.0982 104.091 85.6116L108.661 92.5992C109.078 93.2283 108.491 93.9584 107.679 93.8443Z",fill:"white"}),(0,s.jsx)("path",{d:"M96.7971 88.6689L94.5062 85.1645C93.7607 84.0152 92.0887 83.7802 91.0553 84.6795L86.4635 88.6463C85.7435 89.2636 85.5901 90.1864 85.9046 90.9467C86.205 91.6728 86.8893 92.1848 87.7059 92.2996L107.505 95.0822C108.321 95.1969 109.12 94.8933 109.609 94.2782C110.121 93.6341 110.228 92.7048 109.706 91.913C109.705 91.9118 109.705 91.9106 109.704 91.9094L105.141 84.9334C105.14 84.9321 105.14 84.9309 105.139 84.9296C104.393 83.7805 102.721 83.5456 101.688 84.4449L96.7971 88.6689Z",stroke:"#42CBA5",strokeOpacity:.5,strokeWidth:2.5}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M81 22.999C80.4477 22.999 80 23.4467 80 23.999C80 24.5513 80.4477 24.999 81 24.999C81.5523 24.999 82 24.5513 82 23.999C82 23.4467 81.5523 22.999 81 22.999ZM78 23.999C78 22.3422 79.3431 20.999 81 20.999C82.6569 20.999 84 22.3422 84 23.999C84 25.6559 82.6569 26.999 81 26.999C79.3431 26.999 78 25.6559 78 23.999Z",fill:"#316474"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M155.502 62C156.019 62 156.532 61.9866 157.043 61.9603C158.421 61.8892 159.482 60.7138 159.41 59.3349C159.339 57.956 158.164 56.8958 156.785 56.967C156.36 56.9889 155.933 57 155.502 57V62ZM155.502 8C155.933 8.00003 156.36 8.01114 156.785 8.03304C158.164 8.10415 159.339 7.044 159.41 5.66512C159.482 4.28624 158.421 3.11079 157.043 3.03968C156.532 3.01336 156.019 3.00003 155.502 3V8ZM168.898 6.21114C167.668 5.58332 166.162 6.07124 165.534 7.30096C164.906 8.53067 165.394 10.0365 166.624 10.6643C167.388 11.0543 168.128 11.4832 168.844 11.9485C170.001 12.7016 171.549 12.3739 172.303 11.2167C173.056 10.0594 172.728 8.51077 171.571 7.75771C170.71 7.19753 169.818 6.68094 168.898 6.21114ZM180.243 16.4297C179.49 15.2724 177.941 14.9447 176.784 15.6978C175.626 16.4509 175.299 17.9995 176.052 19.1568C176.517 19.8719 176.946 20.6126 177.336 21.3764C177.964 22.6061 179.47 23.094 180.699 22.4662C181.929 21.8384 182.417 20.3325 181.789 19.1028C181.319 18.1826 180.803 17.2905 180.243 16.4297ZM184.961 30.9578C184.89 29.5789 183.714 28.5188 182.335 28.5899C180.956 28.661 179.896 29.8365 179.967 31.2153C179.989 31.6406 180 32.0689 180 32.5C180 32.9311 179.989 33.3594 179.967 33.7847C179.896 35.1635 180.956 36.339 182.335 36.4101C183.714 36.4812 184.89 35.4211 184.961 34.0422C184.987 33.5312 185 33.0171 185 32.5C185 31.9829 184.987 31.4688 184.961 30.9578ZM181.789 45.8972C182.417 44.6675 181.929 43.1616 180.699 42.5338C179.47 41.906 177.964 42.3939 177.336 43.6236C176.946 44.3874 176.517 45.1281 176.052 45.8432C175.299 47.0005 175.626 48.5491 176.784 49.3022C177.941 50.0553 179.49 49.7276 180.243 48.5703C180.803 47.7095 181.319 46.8174 181.789 45.8972ZM171.571 57.2423C172.728 56.4892 173.056 54.9406 172.303 53.7833C171.549 52.6261 170.001 52.2984 168.844 53.0515C168.128 53.5168 167.388 53.9457 166.624 54.3357C165.394 54.9635 164.906 56.4693 165.534 57.699C166.162 58.9288 167.668 59.4167 168.898 58.7889C169.818 58.3191 170.71 57.8025 171.571 57.2423Z",fill:"#00B39B"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M155.501 3C155.5 3 155.5 3 155.5 3C139.208 3 126 16.2076 126 32.5C126 48.7924 139.208 62 155.5 62C155.5 62 155.5 62 155.501 62V57C155.5 57 155.5 57 155.5 57C141.969 57 131 46.031 131 32.5C131 18.969 141.969 8 155.5 8C155.5 8 155.5 8 155.501 8V3Z",fill:"#00B39B"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M151.57 18.499C149.875 18.499 148.501 19.8727 148.501 21.5672C148.501 23.2617 149.875 24.6354 151.57 24.6354H154.502V42.499C154.502 44.1559 155.845 45.499 157.502 45.499C159.158 45.499 160.502 44.1559 160.502 42.499V21.499C160.502 19.8422 159.158 18.499 157.502 18.499C157.49 18.499 157.479 18.4991 157.468 18.4992C157.456 18.4991 157.445 18.499 157.433 18.499H151.57Z",fill:"#00B39B"})]})}))};var l=n(o(81109)),a=n(o(506479)),i=o(270891),r=n(o(156720)),s=o(785893);const c=["iconXstyle","height","width","viewBox"]},305916:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalog:t,onSend:o}=e,n=(0,l.createCatalogLink)(t.id.user),c=t.id.equals((0,a.getMaybeMeUser)())?`${r.fbt._("Follow this link to view our catalog on WhatsApp:",null,{hk:"1bmMoC"}).toString()} ${n}`:n;return(0,s.jsx)(i.default,{text:c,onSend:o})};var l=o(22323),a=o(459857),i=n(o(86572)),r=o(548360),s=o(785893)},589126:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,onSend:o}=e,n=(0,l.createProductLink)(t.catalogWid.user,t.id.toString()),c=(0,a.isMeAccount)(t.catalogWid)?`${r.fbt._("Follow this link to view our item on WhatsApp:",null,{hk:"H5KuN"}).toString()} ${n}`:n;return(0,s.jsx)(i.default,{text:c,onSend:o})};var l=o(22323),a=o(459857),i=n(o(86572)),r=o(548360),s=o(785893)},86572:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,o]=(0,m.useFlow)(v.Select,{pushTransition:"none",popTransition:"none"}),n=(0,C.useRef)([]),x=(0,C.useRef)([]),b=function(){var e=(0,l.default)((function*(e){e.isUser&&e.contact.isBlocked()&&(yield(0,a.unblockContact)(e.contact))}));return function(){return e.apply(this,arguments)}}();if(null==o.step)return null;let S;switch(o.step){case v.Select:const t=function(){var e=(0,l.default)((function*(e,t){yield b(e),e.active?d.ComposeBoxActions.paste(e,t):(e.setComposeContents({text:t}),i.Cmd.openChatFromUnread(e).then((t=>{t&&d.ComposeBoxActions.focus(e)})))}));return function(){return e.apply(this,arguments)}}(),a=function(){var n=(0,l.default)((function*(n){if(x.current=n,1===n.length){const l=n[0];yield t(l,e.text),o.end(),window.innerWidth<=s.LAYOUT_2COLUMNS_MAX_WIDTH&&r.DrawerManager.closeDrawerRight()}else o.push(v.TextMessage);e.onSend&&e.onSend()}));return function(){return n.apply(this,arguments)}}();S=(0,_.jsx)(u.SelectModal,{title:e.title||g.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:u.ListType.CHAT_SELECT_MODAL,getInitialItems:()=>n.current,maxItems:h.ServerProps.multicastLimitGlobal,onConfirm:a,onCancel:()=>o.end(),onSelectionChanged:(e,t,o)=>{n.current=o},singleSelectionFooterType:f.FooterType.NEXT,multipleSelectionFooterType:f.FooterType.NEXT});break;case v.TextMessage:const C=(e,t,n)=>{e.forEach(function(){var e=(0,l.default)((function*(e){yield b(e),i.Cmd.once("ui_idle",(()=>{(0,c.sendTextMsgToChat)(e,t,{linkPreview:n})}))}));return function(){return e.apply(this,arguments)}}()),o.end()};S=(0,_.jsx)(p.default,{defaultText:e.text,title:e.title||g.fbt._("Send message to",null,{hk:"2kkuQs"}),onSend:(e,t)=>C(x.current,e,t),onBack:()=>o.pop()})}return(0,_.jsx)(t,{flow:o,children:S})};var l=n(o(348926)),a=o(217020),i=o(780549),r=o(900316),s=o(914368),c=o(658122),d=o(334997),u=o(348086),f=o(978365),p=n(o(91208)),h=o(386555),g=o(548360),C=o(667294),m=o(27648),_=o(785893);const v=o(76672).Mirrored(["Select","TextMessage"])},206819:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{value:o,set:n,setTrue:i,setFalse:r}=(0,a.default)(!1),s=(0,l.useCallback)((t=>{i(),null!=e&&e(t)}),[i,e]),c=(0,l.useCallback)((e=>{r(),null!=t&&t(e)}),[r,t]);return{isHovered:o,onMouseEnter:s,onMouseLeave:c,setIsHovered:n}};var l=o(667294),a=n(o(67330))},614551:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(662469),a=n(o(168625)),i=n(o(531633)),r=o(940237),s=o(986524),c=o(206642),d=o(548360),u=o(667294),f=n(o(156720)),p=o(990144),h=o(785893);const g={display:"p357zi0d",marginTop:"ignnouf6",marginEnd:"poiibwu2",marginBottom:"du8bjn1j",marginStart:"dl2ettod",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp"},C={marginEnd:"spjzgwxb"};function m(e,t){const{settings:o,onClose:n}=e,{archive:u}=(0,p.useModelValues)(o,["archive"]),m=!u.classic;return(0,h.jsxs)(a.default,{ref:t,children:[(0,h.jsx)(r.DrawerHeader,{title:d.fbt._("Archive settings",null,{hk:"1YI0jC"}),type:r.DRAWER_HEADER_TYPE.LARGE,onBack:n}),(0,h.jsx)(i.default,{children:(0,h.jsxs)("div",{className:(0,f.default)(g),children:[(0,h.jsx)("div",{"data-testid":"auto-unarchive-setting",className:(0,f.default)(C),children:(0,h.jsx)(s.CheckBox,{onChange:()=>{const e=!u.classic;(0,l.setArchiveClassicSetting)(e)},checked:m})}),(0,h.jsxs)("div",{"data-testid":"auto-unarchive-setting-text",children:[d.fbt._("Keep chats archived",null,{hk:"IqSCS"}),(0,h.jsx)(c.TextDiv,{theme:"muted",children:d.fbt._("Archived chats will remain archived when you receive a new message",null,{hk:"jrtLe"})})]})]})})]})}var _=(0,u.forwardRef)(m);t.default=_},159090:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t}=e,[o,n]=(0,v.useState)(!1),[b,S]=(0,v.useState)(!1),[y,k]=(0,v.useState)(""),P=()=>{s.ModalManager.close()};if(b)return(0,x.jsx)(m.default,{title:_.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:P,children:(0,x.jsx)(h.TextDiv,{children:_.fbt._("We will review the collection and if it meets our guidelines, it will be added to your catalog.",null,{hk:"y5vML"})})});const T=y.length<1||o;return(0,x.jsx)(m.default,{title:_.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:()=>{n(!0);let e=!0;d.QPL.markerStart(c.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL),(0,f.handleCollectionAppeal)(t,y).then((()=>{n(!1),S(!0),e=!1,d.QPL.markerEnd(c.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,a.QuickLogActionType.SUCCESS)})).catch((0,l.filteredCatch)(i.ServerStatusCodeError,(()=>{u.ToastManager.open((0,x.jsx)(C.Toast,{msg:_.fbt._("Something went wrong and your request wasn't submitted. Try again.",null,{hk:"3sAwQH"}),id:(0,C.genId)("catalog_collection_appeal_submission_failed")})),n(!1)}))).finally((()=>{e&&d.QPL.markerEnd(c.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,a.QuickLogActionType.FAIL)}))},onCancel:P,okDisabled:T,children:(0,x.jsxs)("form",{children:[(0,x.jsx)(g.TextInput,{testid:"confirm-popup-text-input",placeholder:_.fbt._("Enter reason for this request...",null,{hk:"3U5nE7"}),onChange:e=>{k(e)},value:y,maxLength:1e3}),(0,x.jsx)(p.ExternalLink,{href:r.default.WA_COMMERCE_POLICY_URL,children:_.fbt._("Learn More",null,{hk:"FZuUT"})})]})})};var l=o(924583),a=o(15842),i=o(984330),r=n(o(846870)),s=o(114850),c=o(316348),d=o(555622),u=o(390737),f=o(485132),p=o(977503),h=o(206642),g=o(517732),C=o(275125),m=n(o(744259)),_=o(548360),v=o(667294),x=o(785893)},270441:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{coverPhoto:t,signal:o}=e,[n,g]=(0,p.useState)(!1),[C,m]=(0,p.useState)(null==t?void 0:t.url);return(0,p.useEffect)((()=>{(null==C?void 0:C.pathname)!==(null==t?void 0:t.url.pathname)&&m(null==t?void 0:t.url)}),[t,C]),(0,h.jsx)(f.PhotoPickerLoadable,{type:u.default.COVER_PHOTO,pending:n,readOnly:!1,onImageSet:(e,n)=>{if(g(!0),null==n)return void((null==t?void 0:t.id)&&(0,a.deleteCoverPhoto)(t.id).finally((()=>{g(!1),(0,d.logRemoveCoverPhoto)()})));const u=(0,i.dataURLtoBlob)(n);(0,c.calculateFilehashFromBlob)(u).then((e=>{(0,s.uploadBizCoverPhoto)(u,e,o).then((e=>{o.aborted||((0,a.setCoverPhoto)(e.id,e.ts,e.metaHmac),(0,d.logEditCoverPhoto)())})).catch((0,l.filteredCatch)(r.HttpInvalidResponseError,(()=>{__LOG__(3)`BizCoverPhotoPicker: failed to upload cover photo`}))).catch((()=>{__LOG__(4,void 0,new Error,!0)`BizCoverPhotoPicker: unexpected error uploading cover photo`,SEND_LOGS("biz_cover_photo_upload")})).finally((()=>{g(!1)}))}))},attachToChat:!1,startImage:null==C?void 0:C.toString(),theme:"coverPhoto"})};var l=o(924583),a=o(574919),i=o(437362),r=o(791357),s=o(315262),c=o(230579),d=o(466397),u=n(o(488950)),f=o(275833),p=o(667294),h=o(785893)},714995:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(114850),a=n(o(744259)),i=o(548360),r=o(785893);var s=e=>{l.ModalManager.open((0,r.jsx)(a.default,{okText:i.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>l.ModalManager.close(),children:e}))};t.default=s},278901:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=new r.CoolOffNux(C,_,{COOL_OFF_START_STORAGE_KEY:i.CoolOffPeriodKeys.CATALOG,MAX_VIEWS_IN_DAYS:1,COOL_OFF_DURATION_IN_DAYS:1});if(e.shouldShow()){const t=(0,g.jsx)(f.default,{onOK:()=>{e.dismiss(),a.ModalManager.close()},children:(0,g.jsxs)(c.FlexColumn,{align:"center",children:[(0,g.jsx)(d.default,{xstyle:m.graphic,children:(0,g.jsx)(l.CartInterstitialGraphicIcon,{})}),(0,g.jsx)(u.TextHeader,{theme:"popup-title",children:p.fbt._("New: Add to Cart",null,{hk:"34ysyY"})}),(0,g.jsx)(u.TextParagraph,{color:"secondary",className:(0,h.default)(m.description),children:p.fbt._("Simpler for you to keep track of order inquiries, manage requests, and close sales.",null,{hk:"25ZM2y"})})]})});a.ModalManager.open(t),e.show(),e.startCoolOffToday()}};var l=o(626513),a=o(114850),i=o(95589),r=o(316488),s=n(o(571834)),c=o(917426),d=n(o(565534)),u=o(206642),f=n(o(744259)),p=o(548360),h=n(o(156720)),g=o(785893);const C=i.NuxKeyTypes.COOL_OFF_NUX.CART_INTERSTITIAL,m={graphic:{marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",color:"bc38n4nm"},description:{marginTop:"opp68qpq",textAlign:"qfejxiq4"}},_=s.default.BANNER_TYPES.SMB_CATALOG_CART_INTERSTITIAL},795706:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onOpenCollections:t}=e;const[o,n]=(0,s.useState)(!1),u=l.CatalogCollection.get((0,a.getMeUser)());return(0,c.useListener)(null==u?void 0:u.collections,"change",(()=>{n(!0)})),o&&(0,d.jsx)(r.default,{children:(0,d.jsx)(i.default,{onClick:t})})};var l=o(644130),a=o(459857),i=n(o(717707)),r=n(o(576274)),s=o(667294),c=o(148725),d=o(785893)},717707:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(287461),a=o(644130),i=o(95589),r=o(316488),s=o(459857),c=n(o(571834)),d=n(o(778930)),u=n(o(323305)),f=o(117840),p=o(548360),h=n(o(156720)),g=o(785893);const C={color:"o0rubyzf"},m=i.NuxKeyTypes.COOL_OFF_NUX.COLLECTIONS,_={COOL_OFF_DURATION_IN_DAYS:2,VIEWS_BEFORE_COOL_OFF_IN_DAYS:1,CLICKS_BEFORE_COOL_OFF:1,MAX_VIEWS_IN_DAYS:2,COOL_OFF_START_STORAGE_KEY:i.CoolOffPeriodKeys.CATALOG};class v extends u.default{render(){const{onClick:e}=this.props,t=new r.CoolOffNux(m,c.default.BANNER_TYPES.SMB_COLLECTION_CREATION,_),o=(0,g.jsx)("span",{className:(0,h.default)(C),children:p.fbt._("Get started",null,{hk:"m7Zf5"})});return(0,g.jsx)(d.default,{title:p.fbt._("Create new collection",null,{hk:"19zBCQ"}),subtitle:p.fbt._("Group items into collections to stay organized.",null,{hk:"1sDPK6"}),actionText:o,onClick:e,nuxManager:t,theme:"nuxBlue"})}static shouldShow(){return(0,l.getABPropConfigValue)("web_abprop_collections_nux_banner")&&f.Conn.isSMB&&function(){const e=a.CatalogCollection.get((0,s.getMeUser)());if(null==e||null==e.collections)return!1;const t=e.collections.getCollectionModels(!0);return e.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))&&0===t.length}()&&(0,r.shouldShowNUX)(m,_)}}t.default=v,v.displayName="CollectionsBanner"},937619:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(a.default,{testid:"li-share-link",icon:(0,s.jsx)(l.ForwardIcon,{className:(0,r.default)(c)}),onClick:e.onClick,children:i.fbt._("Send product",null,{hk:"1wkzue"})})};var l=o(525110),a=n(o(388235)),i=o(548360),r=n(o(156720)),s=o(785893);const c={color:"rahkaw8d"}},879426:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{testid:t,icon:o,iconWidth:n,iconHeight:u,label:f,disabled:p,xstyle:h,onClick:g}=e;const{isHovered:C,onMouseEnter:m,onMouseLeave:_}=function(){const[e,t]=(0,r.useState)(!1),o=(0,r.useCallback)((()=>{t(!0)}),[]),n=(0,r.useCallback)((()=>{t(!1)}),[]);return{isHovered:e,onMouseEnter:o,onMouseLeave:n}}(),v=(0,c.jsx)(a.default,{name:o,directional:!0,color:"teal",width:n,height:u});return(0,c.jsxs)("div",{className:(0,s.default)(d.button,p&&d.disabled,h),onMouseEnter:m,onMouseLeave:_,children:[(0,c.jsx)(l.Round,{inverted:!0,onClick:g,disabled:p,testid:t,hideBackground:p||!C,children:v}),(0,c.jsx)(i.default,{xstyle:d.label,disabled:p,testid:t,onClick:g,children:f})]})};var l=o(145213),a=n(o(798529)),i=n(o(817040)),r=o(667294),s=n(o(156720)),c=o(785893);const d={button:{textAlign:"qfejxiq4"},label:{marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"ovllcyds",marginTop:"qt60bha0",color:"jq3rn4u7"},disabled:{opacity:"ge6flnsz"}}},18710:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCatalogClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_CATALOG_ICON,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logCoverPhotoView=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_COVER_PHOTO_IMPRESSION,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logEmailClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_EMAIL,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logForwardClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_FORWARD,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logHoursClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_HOURS,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logLinkedAccountImpression=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_APP_IMPRESSION,linkedAccount:t,catalogSessionId:e,isProfileLinked:!0,hasCoverPhoto:o})},t.logLinkedFbClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_APP_LINK,linkedAccount:i.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.FACEBOOK,catalogSessionId:e,bizFbSize:s(t),isProfileLinked:!0,hasCoverPhoto:o})},t.logLinkedIgClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_APP_LINK,linkedAccount:i.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.INSTAGRAM,catalogSessionId:e,bizIgSize:s(t),isProfileLinked:!0,hasCoverPhoto:o})},t.logLocationClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_LOCATION,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logMessageClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_MESSAGE,catalogSessionId:e,hasCoverPhoto:o})},t.logProfileExit=function(e,t,o,n){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_EXIT,catalogSessionId:e,scrollDepth:t,isProfileLinked:o,hasCoverPhoto:n})},t.logProfileImpression=function(e,t,o,n){(0,a.smbBizProfileLoggingEnabled)()?new i.default.ViewBusinessProfile({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,catalogSessionId:e,profileEntryPoint:t,isProfileLinked:o,hasCoverPhoto:n}).commit():new i.default.ViewBusinessProfile({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,catalogSessionId:e,isProfileLinked:o,hasCoverPhoto:n}).commit()},t.logShopsClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_SHOPS_ICON,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logStatusClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_STATUS,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logVoiceCallClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_VOICE_CALL,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logWebsiteClick=function(e,t,o){r({viewBusinessProfileAction:i.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_WEBSITE,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})};var l=n(o(81109)),a=o(97858),i=n(o(571834));function r(e){const t=new i.default.ViewBusinessProfile((0,l.default)((0,l.default)({},e),{},{isProfileLinked:!!e.isProfileLinked}));t&&t.commit()}function s(e){return e>1e6?i.default.TRUST_SIGNAL_BUCKETS.B1M:e>=1e5?i.default.TRUST_SIGNAL_BUCKETS.B100K:e>=1e4?i.default.TRUST_SIGNAL_BUCKETS.B10K:e>=1e3?i.default.TRUST_SIGNAL_BUCKETS.B1K:e>=501?i.default.TRUST_SIGNAL_BUCKETS.B501:e>=101?i.default.TRUST_SIGNAL_BUCKETS.B101:e>=51?i.default.TRUST_SIGNAL_BUCKETS.B51:e>=11?i.default.TRUST_SIGNAL_BUCKETS.B11:e>=2?i.default.TRUST_SIGNAL_BUCKETS.B2:1===e?i.default.TRUST_SIGNAL_BUCKETS.B1:i.default.TRUST_SIGNAL_BUCKETS.B0}},602925:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{text:t,secondary:o,icon:n,href:g,linkedAccountType:C,onClick:m,rowTheme:_,hasCoverPhoto:v}=e,x=(0,p.jsx)(c.default,{name:n}),b=(0,f.useContext)(u.DrawerContext),S=(0,r.getProductCatalogSessionId)(b);return(0,f.useEffect)((()=>{(0,i.logLinkedAccountImpression)(S,C,v)}),[S,C,v]),(0,p.jsx)(d.default,{testid:"social-row",onClick:()=>{if(void 0!==g){const e=(0,a.getWebsiteLink)(g);l.default.open(e),null==m||m()}},disabled:void 0===g,xstyle:h.button,children:(0,p.jsx)(s.default,{image:x,primary:t,secondary:o,theme:_,idle:void 0===g})})};var l=n(o(524173)),a=o(199666),i=(n(o(571834)),o(18710)),r=o(623797),s=n(o(748356)),c=n(o(798529)),d=n(o(817040)),u=o(38574),f=o(667294),p=(n(o(156720)),o(785893));const h={button:{width:"ln8gz9je"}}},838589:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{showEditHint:t,businessProfile:o,sectionTheme:n="no-padding",rowTheme:C="linked-account"}=e,{fbPage:m,igProfessional:_}=(0,p.useModelValues)(o,["fbPage","igProfessional"]),v=(0,r.getProductCatalogSessionId)((0,f.useContext)(c.DrawerContext)),x=[];if(null==m?void 0:m.displayName){const e=m.likes?u.fbt._({"*":"Facebook • {count} Likes",_1:"Facebook • 1 Like"},[u.fbt._plural(m.likes,"count")],{hk:"4fuveG"}):u.fbt._("Facebook",null,{hk:"2PcUTa"});x.push((0,h.jsx)(i.default,{icon:"logo-facebook-round",text:m.displayName,secondary:e,href:`https://www.facebook.com/${m.id}`,rowTheme:C,onClick:()=>{(0,a.logLinkedFbClick)(v,m.likes,!!o.coverPhoto)},linkedAccountType:l.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.FACEBOOK,hasCoverPhoto:!!o.coverPhoto},"fb"))}if(null==_?void 0:_.handle){const e=_.followers?u.fbt._({"*":"Instagram • {count} Followers",_1:"Instagram • 1 Follower"},[u.fbt._plural(_.followers,"count")],{hk:"4gGhJG"}):u.fbt._("Instagram",null,{hk:"4kjnWv"});x.push((0,h.jsx)(i.default,{icon:"logo-instagram-color",text:`@${_.handle}`,secondary:e,href:`https://www.instagram.com/${_.handle}`,rowTheme:C,onClick:()=>{(0,a.logLinkedIgClick)(v,_.followers,!!o.coverPhoto)},linkedAccountType:l.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.INSTAGRAM,hasCoverPhoto:!!o.coverPhoto},"ig"))}if(0===x.length)return null;let b;if(!0===t){const e=u.fbt._("Facebook and Instagram handles can only be edited from the app on your mobile device.",null,{hk:"3JNYRt"});b=(0,h.jsx)(s.EmojiText,{direction:"inherit",xstyle:g.infoText,text:e.toString()})}return(0,h.jsxs)(d.default,{theme:n,children:[x.map((e=>e)),b]})};var l=n(o(571834)),a=o(18710),i=n(o(602925)),r=o(623797),s=o(399524),c=o(38574),d=n(o(337090)),u=o(548360),f=o(667294),p=(n(o(156720)),o(990144)),h=o(785893);const g={infoText:{fontSize:"dsh4tgtl",lineHeight:"jgi8eev7",color:"t35qvd06",paddingStart:"nvib3uz4",paddingEnd:"sjajxv0r",display:"f804f6gw",paddingBottom:"p9a4hubg",paddingTop:"b7n2qyd4",marginTop:"tt8xd2xn"}}},872868:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleTooFewGroups=t.handleRemoveGroup=void 0;var l=n(o(348926)),a=o(114850),i=n(o(520161)),r=o(399524),s=o(830400),c=n(o(744259)),d=o(548360),u=o(785893);const f=e=>{a.ModalManager.open((0,u.jsx)(c.default,{onOK:()=>a.ModalManager.close(),title:d.fbt._("Cannot remove group from community",null,{hk:"3AsH6T"}),children:d.fbt._('A community must have at least 1 group. You can remove "{group_title}" after adding another group to this community.',[d.fbt._param("group_title",(0,u.jsx)(r.EmojiText,{text:e}))],{hk:"3v1qFO"})}))};t.handleTooFewGroups=f;t.handleRemoveGroup=(e,t,o,n,p)=>{t<=2?f(n):((e,t,o,n)=>{const f=String((0,s.getFormattedCommunityName)(e,!0)),p=d.fbt._("Remove group from community?",null,{hk:"1kAakd"}),h=d.fbt._('"{group_title}" will no longer be a part of this community "{community_title}." Anyone in this group will still be able to find it from their chats to send messages and make calls.',[d.fbt._param("group_title",(0,u.jsx)(r.EmojiText,{text:o})),d.fbt._param("community_title",(0,u.jsx)(r.EmojiText,{text:f}))],{hk:"p3q2"});a.ModalManager.open((0,u.jsx)(c.default,{onOK:(0,l.default)((function*(){a.ModalManager.close(),n(!0),yield(0,i.default)(e,[t]),n(!1)})),okText:d.fbt._("Remove",null,{hk:"3xUR13"}),onCancel:()=>a.ModalManager.close(),title:p,children:h}))})(e,o,n,p)}},916578:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{elementId:t,onClick:o}=e;return document.queryCommandSupported("copy")?(0,d.jsx)(r.default,{testid:"li-copy-link",icon:(0,d.jsx)(l.CopyIcon,{xstyle:u.icon}),onClick:()=>function(e,t){(0,a.default)(e)?i.ToastManager.open((0,d.jsx)(s.Toast,{msg:c.fbt._("Link copied to clipboard.",null,{hk:"2d44NZ"}),id:(0,s.genId)()})):i.ToastManager.open((0,d.jsx)(s.Toast,{msg:c.fbt._("Couldn't copy to clipboard. Copy using mouse or keyboard.",null,{hk:"4aKgWx"}),id:(0,s.genId)()}));null!=t&&t()}(t,o),children:c.fbt._("Copy link",null,{hk:"2ZtjA3"})}):null};var l=o(106180),a=n(o(985714)),i=o(390737),r=n(o(388235)),s=o(275125),c=o(548360),d=(n(o(156720)),o(785893));const u={icon:{color:"rahkaw8d"}}},615993:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(590639),a=o(780549),i=o(292220),r=o(356097),s=n(o(335540)),c=o(914368),d=n(o(932325)),u=o(373070),f=o(735510),p=o(931109),h=n(o(844453)),g=n(o(168625)),C=n(o(531633)),m=o(940237),_=n(o(951508)),v=o(95187),x=o(523880),b=o(486188),S=n(o(418790)),y=o(955877),k=o(529195),P=n(o(398569)),T=o(667294),j=n(o(156720)),E=n(o(229439)),I=n(o(470649)),O=o(148725),w=n(o(28916)),A=n(o(38751)),L=n(o(611989)),M=n(o(155793)),R=n(o(189957)),N=o(785893);const D={display:"p357zi0d",flex:"kk3akd72",justifyContent:"ac2vgrno",paddingTop:"a4bywxmn",paddingBottom:"lzi2pvmc",color:"cs9t9or5"},B={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",height:"ppled2lx",overflowX:"gfz4du6o",overflowY:"r7fjleex",pointerEvents:"jv8uhy2r"};function H(e,t){const{msgCollection:o,chat:n=null,onClose:H,title:W,emptyListText:F,footerText:V,headerMenu:z,descriptionSection:U,displayType:G}=e,q=(0,R.default)(),K=(0,M.default)(),Y=(0,E.default)(),Q=(0,L.default)(),Z=(0,I.default)((()=>new S.default([],(e=>e.id.toString())))),X=(0,I.default)((()=>new S.default([],(e=>e.id.toString())))),J=(0,I.default)((()=>new Set)),$=(0,T.useRef)(0),ee=(0,T.useRef)({}),te=(0,T.useRef)(null),oe=(0,T.useRef)(null),ne=()=>b.RenderCursor.create({msgCollection:o,type:b.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(o,{count:i.MSG_PRELOAD_THRESHOLD}),[le,ae]=(0,T.useState)(ne),ie=()=>{const e=o.toArray();Z.current.init(e,!0),X.current.init(e)},re=(0,w.default)((()=>{const e=null==n?void 0:n.id;if(le.getEnd(o)<o.length)ae(le.loadAfter(o));else{if(o.isSynced)return;o.sync(e).then((()=>{q.aborted||le.hasAfter(o)&&ae(le.loadAfter(o))})).catch((e=>{__LOG__(2)`MsgDrawer:loadEarlierMsgs failed\n${e}`}))}})),se=e=>{if(!te.current)return;(e?e.target:document.activeElement)===te.current&&(Z.current.index<0?Z.current.setFirst(!0):Z.current.reset(!1))},ce=e=>{Z.current.setVal(e),X.current.setVal(e),a.Cmd.openChatAt(e.chat,e.chat.getSearchContext(e)),a.Cmd.focusShowMsg(e.id)},de=()=>{let e=o.toArray();const t=o.isSynced?le.getEnd(o):Math.min(le.getEnd(o),e.length);return e=e.slice(le.getStart(o),t),$.current=e.length,e},ue=e=>{if(!e)return k.MSG_VISIBILITY.BELOW;const t=oe.current;if(!t)return;const o=t.previousSibling;if(!(o&&o instanceof HTMLElement))return;const n=o.clientHeight,l=t.scrollTop+n,a=l+t.clientHeight,i=e.getContainerElement();return i?i.offsetTop+i.clientHeight<=l?k.MSG_VISIBILITY.ABOVE:i.offsetTop>=a?k.MSG_VISIBILITY.BELOW:k.MSG_VISIBILITY.VISIBLE:k.MSG_VISIBILITY.BELOW},fe=e=>{const t=ee.current[e.toString()];if(!t)return;const o=t.getWrapperRef();return o&&"function"==typeof o.getMsgComponentRef?o.getMsgComponentRef():void 0},pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return J.current.has(e.toString())&&(!!t||fe(e))},he=(0,A.default)((()=>{const e=de(),t=new Set;let n=0,l=$.current-1;for(;n<l;){const t=Math.floor((n+l)/2),o=ee.current[e[t].id.toString()];ue(o)===k.MSG_VISIBILITY.ABOVE?n=t+1:l=t}for(let o=n;o<e.length;o++){const n=ee.current[e[o].id.toString()];if(ue(n)!==k.MSG_VISIBILITY.VISIBLE)break;t.add(e[o].id.toString())}var a,i;a=J.current,i=t,a.forEach((e=>{if(!i.has(e)){const t=o.get(e);if(null==t?void 0:t.isGif){const t=fe(e);(null==t?void 0:t.getPlayCount())&&(null==t||t.pause())}}})),J.current=t}),100),ge=(0,A.default)((e=>{var t;he(),e.currentTarget&&(t=e.currentTarget).scrollTop+c.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&re()}),100);(0,T.useEffect)((()=>{ie(),te.current&&s.default.focus(te.current),!o.isSynced&&o.length<i.PAGE_SIZE&&Q(re),se()}),[]),(0,T.useEffect)((()=>{he()})),(0,O.useListener)(window,"resize",he),(0,O.useListener)(o,["reset","sync"],(()=>{ie(),Y()})),(0,O.useListener)(o,["add","remove"],(()=>{ie(),Y()})),(0,O.useListener)(o,"reset",(()=>{J.current=new Set,ae(ne()),re()}));const{isSynced:Ce,length:me}=o;(0,T.useEffect)((()=>{!Ce&&me<i.PAGE_SIZE&&Q(re)}),[re,Q,Ce,me]);const _e=de();let ve,xe,be,Se;if(xe=o.isSynced&&le.getEnd(o)>=_e.length?null:e.msgCollection.syncPromise?(0,N.jsx)("div",{className:(0,j.default)(D),title:d.default.t(420),children:(0,N.jsx)(y.Spinner,{stroke:6,size:24})}):(0,N.jsx)("div",{className:(0,j.default)(D),children:(0,N.jsx)("div",{title:d.default.t(417),onClick:re,children:(0,N.jsx)(f.RefreshIcon,{})})}),_e.length>0){const e=_e.map((e=>{const t=e.type===u.MSG_TYPE.IMAGE||e.type===u.MSG_TYPE.VIDEO||e.type===u.MSG_TYPE.AUDIO;return(0,N.jsx)(P.default,{ref:t=>{((e,t)=>{t?ee.current[e.id.toString()]=t:delete ee.current[e.id.toString()]})(e,t)},msg:e,isMsgVisible:t?pe:()=>{},currSelection:Z.current,activeSelection:X.current,onClickMsg:ce,displayType:G||r.DISPLAY_TYPE.STARRED_MSGS},e.id.toString())}));ve=(0,N.jsx)(h.default,{transitionName:"slide",children:e}),be=U}else e.msgCollection.isSynced?ve=F:(ve=(0,N.jsx)(v.Loading,{}),xe=null);return(0,l.isMDBackend)()&&null!=V&&(Se=(0,N.jsx)(_.default,{theme:"md-chat-search-list",children:V})),(0,N.jsx)(g.default,{theme:"gallery",ref:t,children:(0,N.jsxs)(x.HotKeys,{className:(0,j.default)(B),handlers:{down:e=>{e&&(e.preventDefault(),e.stopPropagation());const t=Z.current.next();Z.current.index!==t&&Z.current.setNext(!0)},up:e=>{e&&(e.stopPropagation(),e.preventDefault());Z.current.prev()>-1&&Z.current.setPrev(!0)}},onFocus:se,"data-tab":p.TAB_ORDER.CHAT_STARRED_DRAWER,ref:te,children:[(0,N.jsx)(m.DrawerHeader,{title:W,onBack:()=>{H?H():null==K||K.requestDismiss()},type:m.DRAWER_HEADER_TYPE.LARGE,menu:z}),(0,N.jsxs)(C.default,{onScroll:ge,ref:oe,children:[be,ve,xe,Se]})]})})}var W=(0,T.forwardRef)(H);t.default=W},247031:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(o(132375)),a=o(114850),i=n(o(330619)),r=o(709333),s=n(o(124928)),c=o(356722),d=n(o(599597)),u=n(o(748356)),f=o(885725),p=n(o(510440)),h=o(281701),g=o(418150),C=n(o(808118)),m=o(76215),_=n(o(259341)),v=n(o(294184)),x=o(548360),b=o(667294),S=(n(o(156720)),o(785893));const y={avatarDefaultPSASmall:{borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",width:"qssinsw9",height:"lniyxyh2"},avatarDefaultPSALarge:{width:"tfhkdmxh",height:"gw1xhhb9"}};class k extends b.Component{constructor(e){super(e),this.setRefImage=e=>{this._refImage=e},this._handleImageLoad=e=>{const t=e.currentTarget;this.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},(()=>{this.props.getZoomNode((e=>{const o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),l=n.top-o.top,a={visibility:"hidden",transform:`translateX(${n.left-o.left}px) translateY(${l}px) scale(${e.clientWidth/t.clientWidth})`,transition:"transform 0s",borderRadius:void 0};this.props.animateBorderRadius&&(a.borderRadius="50%"),this.setState({style:a},(()=>{let e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform 500ms cubic-bezier(.1,.82,.25,1)"};this.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform 500ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius 500ms cubic-bezier(.1,.82,.25,1)"}),this.setState({style:e})}))}))}))},this._handleClose=()=>{if(this.closing)return;let e;if(this.closing=!0,this.props.getZoomNode((t=>{e=t})),!e)return a.ModalManager.closeMedia();const t=this._refImage;if(t){this.props.animateBorderRadius&&(t.style.transition="border-radius 500ms cubic-bezier(.1,.82,.25,1)",t.style.borderRadius="50%");const o=(0,l.default)(e,"start"),n=t.getBoundingClientRect(),r=o.getBoundingClientRect(),s=r.top-n.top,c=r.left-n.left,d=o.clientWidth/t.clientWidth;(0,i.default)(t,{translateX:[c,0],translateY:[s,0],scale:[d,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{a.ModalManager.closeMedia()}))}},this._handleScroll=e=>{Math.abs(e.deltaY)>3&&this._handleClose()},s.default.isPSA(e.contact.id)?this.state={style:{visibility:"visible",transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform 500ms cubic-bezier(.1,.82,.25,1),\n                        border-radius 500ms cubic-bezier(.1,.82,.25,1)"},size:{width:640,height:641}}:this.state={style:{visibility:"hidden"}}}shouldComponentUpdate(e){return!!e.profilePicThumb.imgFull||(this._handleClose(),!1)}render(){const{contact:e,profilePicThumb:t}=this.props;let o,n;return s.default.isPSA(e.id)?(o=(0,S.jsx)(r.WaChatPsaIcon,{iconXstyle:y.avatarDefaultPSALarge}),n=(0,S.jsx)(r.WaChatPsaIcon,{iconXstyle:y.avatarDefaultPSASmall})):t.imgFull&&(o=(0,S.jsx)(p.default,{src:t.imgFull,hasPrivacyChecks:!0,onLoad:this._handleImageLoad,className:d.default.profileViewerImg}),n=(0,S.jsx)(f.DetailImage,{id:e.id,size:40})),(0,S.jsx)(m.UIE,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this._handleClose,children:(0,S.jsxs)("div",{className:(0,v.default)("overlay",d.default.container),onWheel:this._handleScroll,onClick:this._handleClose,children:[(0,S.jsxs)("div",{className:d.default.headerContainer,children:[(0,S.jsx)("div",{className:d.default.profileThumb,children:(0,S.jsx)(u.default,{image:n,theme:"plain",primary:(0,S.jsx)(g.Name,{contact:e,selectable:!0})})}),(0,S.jsx)("div",{className:d.default.mediaPanelTools,children:(0,S.jsx)(h.MenuBar,{theme:"strong",children:(0,S.jsx)(h.MenuBarItem,{testid:"btn-close",icon:(0,S.jsx)(c.XViewerIcon,{}),title:x.fbt._("Close",null,{hk:"19Jpec"}),onClick:this._handleClose})},"media-panel-header")})]}),(0,S.jsx)("div",{className:d.default.profileContainer,dir:"ltr",children:(0,S.jsx)("div",{className:d.default.media,children:(0,S.jsx)(C.default,{type:"scaleDown",size:this.state.size,children:(0,S.jsx)("div",{className:d.default.profileViewer,ref:this.setRefImage,style:this.state.style,children:o})})})})]})})}}k.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},k.displayName="PhotoViewerModal";var P=(0,_.default)(k,k.CONCERNS);t.default=P},59414:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{profilePicThumb:t,size:o}=e,n=!t.canSet()&&!t.canDelete(),[h,g]=(0,u.useState)(!1),C=(0,f.default)();return(0,p.jsx)(d.PhotoPickerLoadable,{type:c.default.PROFILE,id:t.id,attachToChat:!1,pending:h,startImage:t.imgFull,readOnly:n,onImageSet:(t,o)=>{const n=e.profilePicThumb;let c;g(!0),c=t&&o?(0,s.setProfilePic)(n,t,o):(0,s.deleteProfilePic)(n),(0,i.default)(c,C).catch((0,a.filteredCatch)(r.ActionError,(()=>{__LOG__(3)`ProfileDrawer: failed to set/delete profile image`}))).catch((0,l.catchAbort)((()=>{}))).finally((()=>{g(!1)}))},size:o})};var l=o(88237),a=o(924583),i=n(o(589970)),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=h(t);if(o&&o.has(e))return o.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=l?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,o&&o.set(e,n);return n}(o(288057)),s=o(753691),c=n(o(488950)),d=o(275833),u=o(667294),f=n(o(189957)),p=o(785893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(h=function(e){return e?o:t})(e)}},484108:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(a.default,{testid:"li-share-link",icon:(0,s.jsx)(l.ForwardIcon,{className:(0,r.default)(c)}),onClick:e.onClick,children:i.fbt._("Send link via WhatsApp",null,{hk:"459eKy"})})};var l=o(525110),a=n(o(388235)),i=o(548360),r=n(o(156720)),s=o(785893);const c={color:"rahkaw8d"}},91208:(e,t,o)=>{"use strict";var n=o(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(o(846870)),a=o(430484),i=n(o(168625)),r=n(o(531633)),s=o(940237),c=o(192961),d=o(399524),u=o(523880),f=o(145213),p=o(517732),h=o(76215),g=n(o(813434)),C=n(o(222174)),m=o(667294),_=n(o(156720)),v=o(798230),x=o(785893);const b={display:"p357zi0d",flexDirection:"f8m0rgwh",height:"cctpw5f5",paddingBottom:"bxcbqipq",overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundColor:"rv6u8h8g"},S={flexGrow:"ggj6brxn",paddingTop:"mw9hwy0h",paddingEnd:"lk91ofgv",paddingBottom:"bxcbqipq",paddingStart:"s9xya5d7",overflowX:"i44ccddp",overflowY:"ag5g9lrv",backgroundColor:"rv6u8h8g"},y={position:"g0rxnol2",zIndex:"nbczt5ty",height:"noboit18",backgroundColor:"gulicvea"},k={position:"lhggkp7q",end:"druapeav",bottom:"k2umuq2k"},P=(e,t)=>{const{defaultText:o,title:n,onSend:P,onBack:T}=e,[j,E]=(0,m.useState)(o),I=(0,v.findFirstWebLink)(j),{linkPreview:O,clearLinkPreview:w}=(0,v.useLinkPreview)(I),A=n?(0,x.jsx)(d.EmojiText,{text:n,direction:"auto",titlify:!0,ellipsify:!0}):null,{title:L,canonicalUrl:M,description:R,thumbnail:N}=O||{},D=O?(0,x.jsx)(h.UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:w,children:(0,x.jsx)(g.default,{onOmit:w,children:(0,x.jsx)(C.default,{title:L,compose:!0,canonicalUrl:M,description:R,thumbnailJpeg:N})})}):null;return(0,x.jsx)(c.Modal,{ref:t,type:c.ModalTheme.Box,children:(0,x.jsxs)(i.default,{children:[(0,x.jsx)(s.DrawerHeader,{type:s.DRAWER_HEADER_TYPE.POPUP,onBack:T,children:A}),(0,x.jsx)(r.default,{children:(0,x.jsxs)(u.HotKeys,{className:(0,_.default)(b),children:[(0,x.jsx)("div",{className:(0,_.default)(S),children:(0,x.jsx)(p.TextInput,{testid:"text-message-modal-text-unput",value:j,maxLength:l.default.MAX_TXT_MSG_SIZE,onChange:e=>{E(e)},supportsEmoji:!0,multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small"})}),D]})}),(0,x.jsx)("div",{className:(0,_.default)(y),children:(0,x.jsx)("div",{className:(0,_.default)(k),children:(0,x.jsx)(f.Round,{large:!0,onClick:()=>{j.length&&P(j,O)},children:(0,x.jsx)(a.SendIcon,{directional:!0})})})})]})})};var T=(0,m.forwardRef)(P);t.default=T},985714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.getSelection().removeAllRanges();const t=document.getElementById(e),o=document.createRange();t&&o.selectNode(t),window.getSelection().addRange(o);try{const e=document.execCommand("copy");return window.getSelection().removeAllRanges(),e}catch(e){return!1}}},34203:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={coverPhoto:"_3bmNw",isEditable:"_1k-Tj",avatar:"_1KIoW",noStatusBorder:"kNRox",hasStatusBorder:"_8N7c7",coverPhotoImage:"D-p9K"}},264871:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={labelRow:"_49vG",standaloneLabelRow:"_2l3_Y",labelContainer:"_1Nfyf",standaloneLabelContainer:"DENbs"}},15475:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={productImage:"fkslc",productImageContainer:"_18n4q",productThumb:"IO4T6",productThumbContainer:"ime-i",prompt:"_3OFgQ"}},423978:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={header:"_16mlH",photo:"_21sHs",text:"_2lk6f",name:"pTNRM",description:"_2GV6F",spinner:"O1bTA",img:"_3i1KT"}},563696:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={carousel:"alksS",contentContainer:"OkAlG",slidesContainer:"_1w5W1",loaded:"j1J2j",fadeIn:"_2QkLV",spinnerContainer:"_1kDDe",spinner:"_3j4fM"}},189882:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={slide:"_2MjCA",slideInnerContainer:"_2cG76",image:"ubkU5"}},599597:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={mediaPanelTools:"f3Dup",profileThumb:"_2xUs5",profileContainer:"Cq6XJ",media:"_1_TZb",profileViewer:"_3OWRM",profileViewerImg:"_2hH_e",container:"_9-YHG","media-viewer-animate":"_7DTuk",mediaViewerAnimate:"_7DTuk",headerContainer:"_1U_13"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.3fe1bc64938654f0772b.js.map
