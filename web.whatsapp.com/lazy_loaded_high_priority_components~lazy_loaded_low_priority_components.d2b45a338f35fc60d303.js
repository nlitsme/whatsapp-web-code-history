/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[9488],{91960:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addFailedString=function(e,t){return s.default.t(106,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return n.default._("Couldn't add some participants.",null,{hk:"2usrY"})},t.addSuccessString=function(e,t){return s.default.t(107,{participantNames:e,_plural:t})},t.demoteFailedString=function(e,t,a){switch(a){case 406:return s.default.t(110,{participant:e});default:return s.default.t(109,{participantNames:e,_plural:t})}},t.demotePartialFailedString=function(){return n.default._("Couldn't remove some participants as an admin.",null,{hk:"IRRDJ"})},t.demoteSuccessString=function(e,t){return s.default.t(111,{participantNames:e,_plural:t})},t.formatGroupStatusReasonString=c,t.formatParticipantActionString=u,t.formatParticipantStatusReasonString=f,t.formatRemoveResult=function(e,t){return d(e,p,h,m,t)},t.formatResult=d,t.promoteFailedString=function(e,t){return s.default.t(115,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return n.default._("Couldn't make some participants admin.",null,{hk:"4A8lPV"})},t.promoteSuccessString=function(e,t){return s.default.t(116,{participantNames:e,_plural:t})},t.removeFailedString=h,t.removePartialFailedString=m,t.removeSuccessString=p;var n=o(a(48360)),i=a(19380),l=a(7293),s=o(a(43725)),r=o(a(39546));function d(e,t,a,o,n){let s;if(207===e.status){const n={};for(const t in e){if(!r.default.isWid(t))continue;const a=e[t];if(403===a&&l.GK.supportsFeature(l.GK.F.GROUPS_V_4_JOIN_PERMISSION))continue;if(207===a)continue;n[a]||(n[a]=[]);const o=i.ContactCollection.get(t);o&&n[a].push(o)}const d=[];for(const e in n){const o=u(t,a,f,parseInt(e,10),n[e]);o&&d.push(o)}s=d.length>0?d.join("\n"):o()}else s=u(t,a,c,e.status,n);return s}function u(e,t,a,o,n){const i=n.map((e=>e.formattedShortName)).join(s.default.t(420)),l=200===o,r=l?e(i,n.length):t(i,n.length,o),d=l?"":a(o,n.length);return r.toString()+d.toString()}function c(e){let t="";switch(e){case 403:t=" "+n.default._("You're not a participant.",null,{hk:"4GsI1U"}).toString();break;case 408:t=" "+s.default.t(114);break;case 404:t=" "+n.default._("This group has ended.",null,{hk:"C2izu"}).toString();break;case 429:t=" "+n.default._("You've added too many contacts to groups too quickly. Try again later.",null,{hk:"aTFA4"}).toString()}return t}function f(e,t){let a="";switch(e){case 401:case 406:case 409:break;case 404:a=" "+s.default.t(113,{_plural:t});break;case 408:a=" "+s.default.t(114,{_plural:t});break;case 500:a=" "+n.default._("This group is full.",null,{hk:"27htUz"}).toString();break;default:a=" "+n.default._("Please try again.",null,{hk:"3S6IYT"}).toString()}return a}function p(e,t){return s.default.t(120,{participantNames:e,_plural:t})}function h(e,t,a){switch(a){case 406:return s.default.t(119,{participant:e});default:return s.default.t(118,{participantNames:e,_plural:t})}}function m(){return n.default._("Couldn't remove some participants.",null,{hk:"3N0fyq"})}},89389:(e,t,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(e,t){return h((0,f.unproxy)(e),t)},t.demoteParticipants=function(e,t){return v((0,f.unproxy)(e),t)},t.promoteParticipants=function(e,t){return C((0,f.unproxy)(e),t)},t.removeParticipants=function(e,t){return g((0,f.unproxy)(e),t)};var i=n(a(48926)),l=a(46331),s=a(88102),r=o(a(64103)),d=o(a(91960)),u=n(a(43725)),c=a(37722),f=a(31019),p=a(85893);function h(){return m.apply(this,arguments)}function m(){return(m=(0,i.default)((function*(e,t){var a;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.genId)();const n=null===(a=e.groupMetadata)||void 0===a?void 0:a.participants;if(null==n)return Promise.reject(new r.ActionError);if(t.some((e=>n.get(e.id))))return __LOG__(3)`models:groupMetadata:participantCollection:addParticipants already a group member`,Promise.reject(new r.ActionError);if(!n.canAdd())return Promise.reject(new r.ActionError);const i=(0,c.sendAddParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.formattedShortName)).join(u.default.t(420)),m=new l.ActionType(u.default.t(108,{participantNames:f,_plural:t.length})),g=i.then((e=>{n.sendForNeededAddRequest(e);const a=d.formatResult(e,d.addSuccessString,d.addFailedString,d.addPartialFailedString,t);return new l.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:addParticipants dropped`,new l.ActionType(u.default.t(106,{participantNames:f,_plural:t.length}),{actionText:u.default.t(139),actionHandler:()=>h(e,t,o)}))));s.Cmd.openToast((0,p.jsx)(l.ActionToast,{id:o,initialAction:m,pendingAction:g})),yield i}))).apply(this,arguments)}function g(){return _.apply(this,arguments)}function _(){return(_=(0,i.default)((function*(e,t){var a;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.genId)();const n=null===(a=e.groupMetadata)||void 0===a?void 0:a.participants;if(null==n)return Promise.reject(new r.ActionError);if(t.some((e=>!n.canRemove(e))))return Promise.reject(new r.ActionError);const i=(0,c.sendRemoveParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.contact.formattedShortName)).join(u.default.t(420)),h=new l.ActionType(u.default.t(121,{participantNames:f,_plural:t.length})),m=i.then((e=>{const a=d.formatRemoveResult(e,t.map((e=>e.contact)));return new l.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new l.ActionType(u.default.t(118,{participantNames:f,_plural:t.length}),{actionText:u.default.t(139),actionHandler:()=>g(e,t,o)}))));s.Cmd.openToast((0,p.jsx)(l.ActionToast,{id:o,initialAction:h,pendingAction:m})),yield i}))).apply(this,arguments)}function C(){return x.apply(this,arguments)}function x(){return(x=(0,i.default)((function*(e,t){var a;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.genId)();const n=null===(a=e.groupMetadata)||void 0===a?void 0:a.participants;if(null==n)return Promise.reject(new r.ActionError);if(t.some((e=>!n.canPromote(e))))return Promise.reject(new r.ActionError);const i=(0,c.sendPromoteParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.contact.formattedShortName)).join(u.default.t(420)),h=new l.ActionType(u.default.t(117,{participantNames:f,_plural:t.length})),m=i.then((e=>{const a=d.formatResult(e,d.promoteSuccessString,d.promoteFailedString,d.promotePartialFailedString,t.map((e=>e.contact)));return new l.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new l.ActionType(u.default.t(115,{participantNames:f,_plural:t.length}),{actionText:u.default.t(139),actionHandler:()=>C(e,t,o)}))));s.Cmd.openToast((0,p.jsx)(l.ActionToast,{id:o,initialAction:h,pendingAction:m})),yield i}))).apply(this,arguments)}function v(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e,t){var a;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.genId)();const n=null===(a=e.groupMetadata)||void 0===a?void 0:a.participants;if(null==n)return Promise.reject(new r.ActionError);if(t.some((e=>!n.canDemote(e))))return Promise.reject(new r.ActionError);const i=(0,c.sendDemoteParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.contact.formattedShortName)).join(u.default.t(420)),h=new l.ActionType(u.default.t(112,{participantNames:f,_plural:t.length})),m=i.then((e=>{const a=d.formatResult(e,d.demoteSuccessString,d.demoteFailedString,d.demotePartialFailedString,t.map((e=>e.contact)));return new l.ActionType(a)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:demoteParticipants dropped`,new l.ActionType(u.default.t(109,{participantNames:f,_plural:t.length}),{actionText:u.default.t(139),actionHandler:()=>v(e,t,o)}))));s.Cmd.openToast((0,p.jsx)(l.ActionToast,{id:o,initialAction:h,pendingAction:m})),yield i}))).apply(this,arguments)}},35255:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addGroupParticipants=function(e,t){return C(e,t,h).catch((0,l.filteredCatch)(f.ServerStatusCodeError,(e=>({status:e.statusCode}))))},t.demoteGroupParticipants=function(e,t){return C(e,t,m).catch((e=>{__LOG__(3)`error sending demoting group participants iq: ${e}`}))},t.promoteGroupParticipants=function(e,t){return C(e,t,g).catch((e=>{__LOG__(3)`error sending promoting group participants iq: ${e}`}))},t.removeGroupParticipants=function(e,t){return C(e,t,p).catch((e=>{__LOG__(3)`error sending removing group participants iq: ${e}`}))};var n=o(a(81109)),i=o(a(48926)),l=a(50796),s=a(31914),r=a(71914),d=a(24747),u=a(85553),c=a(39410),f=a(77591);const p="remove",h="add",m="demote",g="promote";function _(e){return new r.WapParser(`${e}GroupParticipantsReplyParser`,(t=>({id:t.attrString("id"),participants:t.child(e).mapChildren((e=>{const t=e.maybeChild("add_request");return{wid:(0,u.userJidToUserWid)(e.attrUserJid("jid")),error:e.hasAttr("error")?e.attrInt("error"):null,invite_code:t&&t.attrString("code"),invite_code_exp:t&&t.attrString("expiration")}}))})))}function C(){return x.apply(this,arguments)}function x(){return(x=(0,i.default)((function*(e,t,a){const o=t.map((e=>(0,s.wap)("participant",{jid:(0,c.JID)(e)})));let i;switch(a){case h:i=(0,s.wap)("add",null,o);break;case p:i=(0,s.wap)("remove",null,o);break;case m:i=(0,s.wap)("demote",null,o);break;case g:i=(0,s.wap)("promote",null,o);break;default:return Promise.reject(new Error(`invalid group operation ${a}`))}const l=(0,s.wap)("iq",{to:(0,c.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,s.generateId)()},i),r=yield(0,d.sendIq)(l,_(a));if(r.success){const{participants:e}=r.result,t={};return e.forEach((e=>{Object.assign(t,{[e.wid.toString()]:null!=e.error?e.error:200})})),(0,n.default)((0,n.default)({},t),{},{status:207,participants:e.map((e=>({[e.wid.toString()]:{code:null!=e.error&&e.error.toString()||"200",invite_code:e.invite_code,invite_code_exp:e.invite_code_exp}})))})}return Promise.reject(new f.ServerStatusCodeError(r.errorCode,r.errorText))}))).apply(this,arguments)}},37722:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){let a;if(n.GK.supportsFeature(n.GK.F.MD_BACKEND)){if(a=(0,i.addGroupParticipants)(e,t),!a)return Promise.reject(new Error("addParticipants: not supported when not build with MD_BACKEND"))}else a=l.default.addParticipants(e,t);return a},t.sendDemoteParticipants=function(e,t){let a;if(n.GK.supportsFeature(n.GK.F.MD_BACKEND)){if(a=(0,i.demoteGroupParticipants)(e,t),!a)return Promise.reject(new Error("sendDemoteParticipants: not supported when not build with MD_BACKEND"))}else a=l.default.demoteParticipants(e,t);return a},t.sendPromoteParticipants=function(e,t){let a;if(n.GK.supportsFeature(n.GK.F.MD_BACKEND)){if(a=(0,i.promoteGroupParticipants)(e,t),!a)return Promise.reject(new Error("sendPromoteParticipants: not supported when not build with MD_BACKEND"))}else a=l.default.promoteParticipants(e,t);return a},t.sendRemoveParticipants=function(e,t){let a;if(n.GK.supportsFeature(n.GK.F.MD_BACKEND)){if(a=(0,i.removeGroupParticipants)(e,t),!a)return Promise.reject(new Error("sendRemoveParticipants: not supported when not build with MD_BACKEND"))}else a=l.default.removeParticipants(e,t);return a};var n=a(7293),i=a(35255),l=o(a(56891))},24697:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,editable:a,profilePicThumb:o,onClick:x,onOpenStatus:v,onLoad:S,hideStatusV3:y}=e;const[j,E]=(0,i.useState)(window.innerWidth),[P,T]=(0,i.useState)(null);(0,i.useEffect)((()=>{function e(){E(window.innerWidth)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]);const I=j>1300?152:122,b=!(0,u.canSeeStatusV3OnContact)()||t.statusMute||y?null:h.StatusV3Collection.get(t.id);function k(){b&&(l.Cmd.openModalMedia((0,C.jsx)(p.default,{removeTopDrawer:!1,statusV3:b}),{transition:"status-v3-modal"}),v&&v())}let w=null;P&&(w=(0,C.jsx)(g.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,requestDismiss:()=>{T(null)},children:(0,C.jsx)(_.default,{contextMenu:P})}));let M,A=null,O=s.default.noStatusBorder;null!=b&&(A=(0,C.jsx)(m.StatusV3ImageRing,{statusV3:b,size:I+24,stroke:3,theme:m.RingTheme.BUSINESS_CONTACT_INFO}),O=s.default.hasStatusBorder);M=a&&null!=o?(0,C.jsx)(f.default,{profilePicThumb:o,size:I}):(0,C.jsx)(r.DetailImage,{id:t.id,size:I,loader:!0,onLoad:S,onClick:function(e){if(x)if(null!=b&&b.totalCount>0){e.stopPropagation(),e.preventDefault();const t=[(0,C.jsx)(d.DropdownItem,{a8n:"mi-view-photo",action:()=>{x(e)},children:c.default.t(1453)},"view-photo"),(0,C.jsx)(d.DropdownItem,{a8n:"mi-view-status",action:k,children:c.default.t(1294)},"view-status")];T({menu:t,event:e})}else x(e)},quality:r.DETAIL_IMAGE_QUALITY.HIGH});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:(0,n.default)(s.default.coverPhoto,{[s.default.isEditable]:a})}),(0,C.jsxs)("div",{className:s.default.avatar,children:[A,(0,C.jsx)("div",{className:O,children:M})]}),w]})};var n=o(a(94184)),i=a(67294),l=a(88102),s=o(a(34203)),r=a(88984),d=a(71174),u=a(57701),c=o(a(43725)),f=o(a(79876)),p=o(a(10121)),h=a(59387),m=a(24391),g=a(18644),_=o(a(24717)),C=a(85893)},51070:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(l.default,{name:"shopping-cart",className:(0,n.default)(i.default.cartIcon,{[i.default.inheritColor]:"inherit-color"===e.theme})})};var n=o(a(94184)),i=o(a(2570)),l=o(a(23217)),s=a(85893)},77577:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{labels:t,theme:a}=e;return t&&(0,i.canDisplayLabel)()?(0,r.jsx)("div",{className:(0,n.default)(l.default.labelContainer,{[l.default.standaloneLabelContainer]:"standalone"===a}),children:(()=>{if(t)return t.map(((e,t)=>(0,r.jsx)("div",{className:(0,n.default)(l.default.labelRow,{[l.default.standaloneLabelRow]:"standalone"===a}),children:(0,r.jsx)(s.Labels,{labels:[e],showName:!0})},t)))})()}):null};var n=o(a(94184)),i=a(57701),l=o(a(64871)),s=a(84543),r=a(85893)},44043:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCartClick:t,cartCount:a,catalogId:o,canManageCatalog:v,onSendCatalog:S,onOpenCollections:y,onOpenMerchantDetailsForm:j,onOpenSettings:E}=e,P=(0,i.useContext)(s.DrawerContext);return(0,x.jsxs)(x.Fragment,{children:[(()=>{if(t&&o){const e=(0,C.isNumber)(a)&&a>0?a.toString():void 0,i=(0,h.getOnCartClickWithLog)(t,o,(0,g.getProductCatalogContext)(P));return(0,x.jsx)(m.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,x.jsx)(l.default,{theme:"inherit-color"}),text:e,title:n.default._("Your cart",null,{hk:"Sn66V"}),onClick:i})}return null})(),v?(0,x.jsx)(m.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,x.jsx)(_.default,{name:"menu"}),title:f.default.t(822),children:(0,x.jsxs)(r.Dropdown,{type:"dropdown_menu",flipOnRTL:!0,dirX:r.DirX.LEFT,children:[(0,x.jsx)(d.DropdownItem,{a8n:"mi-foward menu-item",action:S,children:f.default.t(479)}),y&&(0,x.jsx)(d.DropdownItem,{a8n:"mi-collections menu-item",action:y,children:n.default._("Collections",null,{hk:"1VWu7A"})}),(0,c.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)((0,u.getMeUser)().user)&&j&&(0,x.jsx)(d.DropdownItem,{a8n:"merchant-details",action:j,children:n.default._("Business details",null,{hk:"m9xzp"})},"merchantDetails"),(0,c.canToggleCartOnOff)()&&E&&(0,x.jsx)(d.DropdownItem,{a8n:"mi-settings menu-item",action:E,children:n.default._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,x.jsx)(m.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,x.jsx)(p.default,{}),title:n.default._("Catalog link",null,{hk:"M36Dw"}),onClick:S})]})};var n=o(a(48360)),i=a(67294),l=o(a(51070)),s=a(27394),r=a(60811),d=a(71174),u=a(99234),c=a(57701),f=o(a(43725)),p=o(a(62371)),h=a(88571),m=a(46346),g=a(97567),_=o(a(23217)),C=a(31515),x=a(85893)},42953:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(48360)),i=a(67294),l=(o(a(56720)),o(a(39770))),s=o(a(483)),r=a(27394),d=o(a(33308)),u=a(29623),c=a(57701),f=o(a(43725)),p=a(77975),h=a(60263),m=a(97567),g=a(5641),_=a(3013),C=a(31019),x=o(a(23217)),v=o(a(1784)),S=a(85893);const y={addIcon:{position:"g0rxnol2",width:"d0st09ow",height:"bbl9m3t3",paddingBottom:"aus7m8kn",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",borderTop:"rom324v9",borderEnd:"na7ur5ty",borderBottom:"gjeyj30g",borderStart:"bmro6pka",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":before":{position:"oxaw94s0",top:"ijeufx4s",start:"meq75apj",display:"oa3lyrek",width:"slvs4faj",height:"jaq0b63r",content:"lij4d1x3",background:"nkmjymgc",transform:"k95pjfv1"},":after":{position:"dkvli2l0",top:"qi2a0yje",start:"bunkm0yn",display:"b0f5vxaq",width:"qbfuvgfc",height:"i0r7mfoh",content:"k15o3o4i",background:"fji5f4ri",transform:"cai600lj"}},largeGallerySpacing:{width:"b8z6cu80",height:"bbl9m3t3",marginEnd:"jnwc1y2a",marginBottom:"qrsyb3yy"},placeholderThumb:{width:"d0st09ow",height:"fujac5jc",paddingBottom:"lxvt2vq0",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",backgroundColor:"o27ac25e",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},subtitle:{marginTop:"tt8xd2xn",marginEnd:"q471nw87",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6"}};function j(e){const{onProductCatalog:t,title:a,subtitle:o,animation:j,sectionTheme:E,shouldLog:P,catalog:T,onProductDetail:I,filterProductId:b,productsToShow:k,hideIncompleteRows:w,showProductPlaceholders:M,seeMoreOverlay:A,catalogEntryLabel:O,showShopsLogo:L}=e,N=(0,i.useContext)(r.DrawerContext);(0,i.useEffect)((()=>{P&&null!=T&&(0,p.logBusinessProfileCatalogView)({catalogOwnerWid:T.id,catalogContext:(0,m.getProductCatalogContext)(N)})}),[]);const D=null==O?null:(0,S.jsx)("div",{className:s.default.catalogEntryButton,children:(0,S.jsx)(l.default,{a8nText:"catalog-entry-button",type:"secondary",onClick:()=>t((0,m.getProductCatalogContext)(N),"ContactInfo"),children:O})}),R=(()=>{let e,a,o=[],i=k;if((0,c.canSeeBizProfileV3)()&&(a="largeGallerySpacing"),null!=T?(e=T.productCollection,o=T.productCollection.getProductModels(),w&&o.length>3&&(i=Math.min(k,o.length-o.length%3)),o=o.slice(0,i+1),o=o.filter((e=>e.id.toString()!==b)).map(((e,o)=>{var n;const l=null===(n=e.getPreviewImage())||void 0===n?void 0:n.mediaData;if(!l)return(0,S.jsx)(S.Fragment,{});let s;A&&o===i-1&&T.productCollection.length>i-1&&(s=f.default.t(1224));return(0,S.jsx)(_.ProductThumb,{onClick:()=>s?t((0,m.getProductCatalogContext)(N),"ContactInfo"):(e=>{P&&(0,p.logProfileProductClick)({product:(0,C.unproxy)(e),catalogContext:(0,m.getProductCatalogContext)(N)}),I(e)})(e),mediaData:l,overlayContent:s,theme:a},e.id.toString())})).slice(0,i)):(e=new g.ProductCollection,e.add({id:"_ph"})),!o.length&&!M)return null;let l,s=y.addIcon;for(;M&&o.length<i;)o.push((0,S.jsx)(v.default,{onClick:()=>t((0,m.getProductCatalogContext)(N),"ContactInfo"),title:n.default._("Add product",null,{hk:"3gdovw"}),xstyle:[s,"largeGallerySpacing"===a&&y.largeGallerySpacing],children:(0,S.jsx)(S.Fragment,{})},`_ph${o.length}`)),s=y.placeholderThumb;return(0,c.canSeeBizProfileV3)()&&(l="space-between"),(0,S.jsx)(h.MediaGalleryView,{productMedias:o,mediaCollection:e,justify:l})})(),B=o?(0,S.jsx)(u.FlexItem,{xstyle:y.subtitle,children:o}):null,V=(0,S.jsxs)(u.FlexRow,{align:"center",children:[B,(0,S.jsx)(u.FlexItem,{children:(0,S.jsx)(x.default,{className:s.default.chevron,name:"chevron-right-alt",directional:!0})})]});return(0,S.jsxs)(d.default,{title:a||f.default.t(1120),titleOnClick:()=>t((0,m.getProductCatalogContext)(N),"ContactInfo"),subtitle:V,theme:E,animation:j,children:[R,D,L?(0,S.jsx)("div",{className:s.default.shopsLogo,children:(0,S.jsx)(x.default,{name:"fbshops",display:"inline"})}):null]})}j.defaultProps={productsToShow:6,sectionTheme:"padding",hideIncompleteRows:!1};var E=j;t.default=E},7532:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t,onCancel:a,catalog:o,contact:E,prompt:P,centerDrawer:T,onSend:I}=e,b=(0,i.useContext)(p.DrawerContext),k=()=>{r.Cmd.openModal((0,y.jsx)(x.default,{catalog:o,onSend:I}),{transition:"modal-flow"}),(0,g.logShareCatalogViaWALinkClick)({catalogOwnerWid:o.id,catalogContext:(0,C.getProductCatalogContext)(b)})},w=(0,y.jsx)(u.DetailImage,{id:E.id,size:82,quality:u.DETAIL_IMAGE_QUALITY.HIGH});let M,A;T&&(M="labels",A="center-column");return(0,y.jsxs)(c.default,{theme:M,children:[(0,y.jsx)(h.DrawerHeader,{a8n:"catalog-link-title",title:n.default._("Catalog link",null,{hk:"M36Dw"}),onBack:t,onCancel:a,type:h.DRAWER_HEADER_TYPE.SMALL}),(0,y.jsxs)(f.default,{theme:A,children:[(0,y.jsx)("div",{className:l.default.prompt,children:P}),(0,y.jsx)(s.default,{image:w,primary:(0,y.jsx)(_.Name,{contact:E,useVerifiedName:!0}),theme:"identity",secondary:(0,y.jsx)(m.default,{id:j,href:(0,S.createCatalogLink)(o.id.user),onClick:e=>{e.preventDefault(),k()},noHandle:!0})}),(0,y.jsx)(v.default,{onClick:k}),(0,y.jsx)(d.default,{elementId:j,onClick:()=>{(0,g.logShareCatalogCopyLinkClick)({catalogOwnerWid:o.id,catalogContext:(0,C.getProductCatalogContext)(b)})}})]})]},"catalog-link-drawer")};var n=o(a(48360)),i=a(67294),l=o(a(70098)),s=o(a(44356)),r=a(88102),d=o(a(26609)),u=a(88984),c=o(a(60453)),f=o(a(69637)),p=a(27394),h=a(94790),m=o(a(786)),g=a(77975),_=a(12176),C=a(97567),x=o(a(35400)),v=o(a(51628)),S=a(61358),y=a(85893);const j="catalog-link-anchor"},17986:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return s.apply(this,arguments)};var n=o(a(48926)),i=a(93581),l=a(57701);function s(){return(s=(0,n.default)((function*(e){var t;if(!(0,l.cartPropEnabled)())return!1;let a=i.BusinessProfileCollection.get(e);if(!a||a.stale){const t=yield i.BusinessProfileCollection.update(e);a=Array.isArray(t)?t[0]:t}return(null===(t=a.profileOptions)||void 0===t?void 0:t.cartEnabled)||!1}))).apply(this,arguments)}},11466:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contactId:t,onSendProduct:a,onReportProduct:o,onProductLinkClick:x,onProductMoreInformation:v,onCartClick:S,cartCount:y,catalogId:j}=e,E=(0,i.useContext)(s.DrawerContext);return(0,C.jsxs)(C.Fragment,{children:[(()=>{if(S&&j){const e=(0,_.isNumber)(y)&&y>0?y.toString():void 0,t=(0,p.getOnCartClickWithLog)(S,j,(0,m.getProductCatalogContext)(E));return(0,C.jsx)(h.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,C.jsx)(l.default,{}),text:e,title:n.default._("Your cart",null,{hk:"Sn66V"}),onClick:t})}return null})(),(0,C.jsx)(h.MenuBarItem,{a8nText:"menu-bar-product-link",icon:(0,C.jsx)(f.default,{}),title:c.default.t(1097),onClick:x}),(0,C.jsx)(h.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,C.jsx)(g.default,{name:"menu"}),title:c.default.t(822),children:(0,C.jsxs)(r.Dropdown,{type:"dropdown_menu",flipOnRTL:!0,dirX:r.DirX.LEFT,children:[(0,C.jsx)(d.DropdownItem,{a8n:"mi-send menu-item",action:a,children:c.default.t(1254)}),(0,u.canSeeECommerceComplianceIndiaSoftEnforcement)(t)&&(0,C.jsx)(d.DropdownItem,{a8n:"mi-send menu-item",action:v,children:c.default.t(1093)}),(0,C.jsx)(d.DropdownItem,{a8n:"mi-report menu-item",action:o,children:c.default.t(1158)})]},"ProductDetailHeader")})]})};var n=o(a(48360)),i=a(67294),l=o(a(51070)),s=a(27394),r=a(60811),d=a(71174),u=a(57701),c=o(a(43725)),f=o(a(62371)),p=a(88571),h=a(46346),m=a(97567),g=o(a(23217)),_=a(31515),C=a(85893)},14375:(e,t,a)=>{"use strict";var o=a(20862);Object.defineProperty(t,"__esModule",{value:!0}),t.parseErrorState=function(e,t){if(e instanceof i.Unmount);else if(e instanceof n.ServerStatusCodeError)"not_found"===e.status||404===e.status?t("NOT_FOUND"):(t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch from server`);else{if(!(e instanceof n.WebdDrop))throw t("ERROR"),e;t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch due to WebdDrop`}};var n=a(77591),i=o(a(64103))},61055:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{fetchState:t}=e;switch(t){case"NONE":case"SUCCESS":return null;case"PENDING":return(0,d.jsxs)("div",{className:(0,n.default)(l.default.loadingContainer),children:[(0,d.jsx)(s.Spinner,{size:14,color:s.colorOptions.highlight}),(0,d.jsx)(r.TextSpan,{className:(0,n.default)(l.default.text,l.default.loadingText),theme:"small",children:i.default.t(1119)})]});case"NOT_FOUND":case"ERROR":return(0,d.jsx)("div",{className:(0,n.default)(l.default.loadingContainer),children:(0,d.jsx)(r.TextSpan,{className:l.default.text,theme:"small",color:"danger",children:"NOT_FOUND"===t?i.default.t(1105):i.default.t(1072)})});default:throw new Error(`invalid fetchState ${t}`)}};var n=o(a(94184)),i=o(a(43725)),l=o(a(71212)),s=a(11054),r=a(13923),d=a(85893)},62371:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(l.default,{name:"link",className:(0,n.default)(i.default.linkIcon,{[i.default.inheritColor]:"inherit-color"===e.theme})})};var n=o(a(94184)),i=o(a(85822)),l=o(a(23217)),s=a(85893)},786:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{id:t,href:a,onClick:o,noHandle:s}=e;return(0,l.jsx)("span",{className:n.default.linkContainer,children:(0,l.jsx)(i.SelectableLink,{id:t,href:a,className:n.default.activeLink,selectable:!0,onClick:o,"data-nohandle":s,children:a})})};var n=o(a(32442)),i=a(52596),l=a(85893)},47217:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleCollectionAppeal=function(){return E.apply(this,arguments)},t.handleCollectionDelete=function(e,t,a){return new Promise(((o,n)=>{s.Cmd.openModal((0,v.jsx)(r.default,{title:l.default._("Delete Collection",null,{hk:"2y3JZ4"}),okText:d.default.t(1765),cancelText:d.default.t(1574),onOK:()=>{s.Cmd.closeModal(),function(){return j.apply(this,arguments)}(e,t,a).then((e=>o(e))).catch((e=>n(e)))},onCancel:()=>{s.Cmd.closeModal(),o(!1)},children:(0,v.jsx)("div",{children:l.default._("When you delete this collection, items in the collection will not be deleted.",null,{hk:"192Jcv"})})}))}))},t.handleCollectionSave=function(e,t,a,o,n,i){let r;g.QPL.markerPoint(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_start"),r=t?(0,m.editCollection)(t.id.toString()||"",a===t.name?void 0:a,!1,o.map((e=>e.id.toString())),n.map((e=>e.id.toString())),i.session.toString()).then((i=>(g.QPL.markerPoint(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),t.name=a,t.reviewStatus=i.reviewStatus,e.collections.replaceId(t.id,i.id),0===o.length&&0===n.length||(t.productCollection.reset(),t.afterCursor=void 0,e.collections.reset(),e.collections.afterCursor=""),!0))):(0,m.createCollection)(a,o.map((e=>e.id.toString())),i.session.toString()).then((t=>(g.QPL.markerPoint(_.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),(0,c.logCollectionCreated)({catalogContext:i,collectionId:t.id,productCount:o.length}),e.collections.reset(),e.collections.afterCursor="",!0)));return r.catch((e=>{const t=e=>{s.Cmd.openToast((0,v.jsx)(C.Toast,{msg:e,id:(0,C.genId)("catalog_save_collection_failed")}))};let a=l.default._("Failed to save collection",null,{hk:"3Chwhp"});if("not-acceptable"===e.text)return"products"===e.fieldName&&"duplicate"===e.fieldReason&&(a=l.default._("You already have a collection with this group of items. Add or delete items to make a different group.",null,{hk:"1fZXaY"})),"collection"===e.fieldName&&"empty"===e.fieldReason&&(a=l.default._("A collection must have at least one item in it",null,{hk:"39rLHR"})),t(a),!1;throw __LOG__(4,!0,new Error,!0)`Failed to save collection, error: ${e}`,SEND_LOGS("Saving collection failed"),t(a),e}))},t.handleProductDelete=function(e,t,a,o){return(0,u.logDeleteProductClick)(t,1,a),new Promise(((n,i)=>{s.Cmd.openModal((0,v.jsx)(r.default,{title:l.default._("Delete Item",null,{hk:"20DBg1"}),okText:d.default.t(1765),cancelText:d.default.t(1574),onOK:()=>{s.Cmd.closeModal(),g.QPL.markerStart(_.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,{string:{EntryPoint:o}}),function(){return S.apply(this,arguments)}(e,t,a).then((e=>{g.QPL.markerEnd(_.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,g.QuickLogActionType.SUCCESS),n(e)})).catch((e=>{g.QPL.markerEnd(_.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,g.QuickLogActionType.FAIL),i(e)}))},onCancel:()=>{s.Cmd.closeModal(),n(!1)},children:(0,v.jsx)("div",{children:l.default._("Are you sure you want to delete this item from your catalog?",null,{hk:"2WwNSA"})})}))}))},t.handleProductVisibilityChange=function(e,t,a,o){const n=t.id.toString(),i=!t.isHidden;i?(0,u.logCatalogProductHideClick)(n,a):(0,u.logCatalogProductShowClick)(n,a);return new Promise(((c,f)=>{const p=t.isHidden?l.default._("Show item in your catalog?",null,{hk:"VfDKM"}):l.default._("Hide item in your catalog?",null,{hk:"1KmslI"});s.Cmd.openModal((0,v.jsx)(r.default,{okText:d.default.t(1765),cancelText:d.default.t(1574),onOK:()=>{g.QPL.markerStart(_.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{string:{EntryPoint:o}}),s.Cmd.closeModal(),function(){return y.apply(this,arguments)}(e,t).then((()=>{g.QPL.markerEnd(_.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,g.QuickLogActionType.SUCCESS),i?(0,u.logCatalogProductHideSuccess)(n,a):(0,u.logCatalogProductShowSuccess)(n,a),c(!0)})).catch((e=>{g.QPL.markerEnd(_.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,g.QuickLogActionType.FAIL),i?(0,u.logCatalogProductHideFailed)(n,a):(0,u.logCatalogProductShowFailed)(n,a),f(e)}))},onCancel:()=>{s.Cmd.closeModal(),i?(0,u.logCatalogProductHideCancelled)(n,a):(0,u.logCatalogProductShowCancelled)(n,a),c(!1)},children:(0,v.jsx)("div",{children:p})}))}))};var n=o(a(48926)),i=a(50796),l=o(a(48360)),s=a(88102),r=o(a(52665)),d=o(a(43725)),u=a(77975),c=a(35054),f=a(96519),p=a(21374),h=a(5641),m=a(60323),g=a(48870),_=a(27798),C=a(50452),x=a(77591),v=a(85893);function S(){return(S=(0,n.default)((function*(e,t,a){try{return yield(0,f.deleteProducts)([t.id.toString()]),(0,u.logDeleteProductSuccess)(t,1,a),e.productCollection.evictImagesFromCache(t.id.toString()),e.productCollection.remove(t.id.toString()),e.collections&&e.collections.forEach((e=>e.productCollection.remove(t.id.toString()))),!0}catch(e){return(0,i.filteredCatch)(x.ServerStatusCodeError,(e=>((0,u.logDeleteProductFailed)(t,1,a,e.statusCode),s.Cmd.openToast((0,v.jsx)(C.Toast,{msg:l.default._("Failed to delete product",null,{hk:"18E03X"}),id:(0,C.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function y(){return(y=(0,n.default)((function*(e,t){yield(0,p.productVisibilitySet)([{productId:t.id.toString(),isHidden:!t.isHidden}]),t.isHidden=!t.isHidden;[e.productCollection,...(e.collections||[]).map((e=>e.productCollection))].forEach((e=>{const a=e.get(t.id);a&&(a.isHidden=t.isHidden)}))}))).apply(this,arguments)}function j(){return(j=(0,n.default)((function*(e,t,a){try{return yield(0,m.deleteCollection)(t.id.toString(),a.session.sessionId.toString()),e.collections.remove(t.id.toString()),(0,c.logCollectionDeleted)({catalogContext:a,collectionId:t.id}),!0}catch(e){return(0,i.filteredCatch)(x.ServerStatusCodeError,(e=>(__LOG__(4,!0,new Error,!0)`Failed to delete collection, error: ${e}`,SEND_LOGS("Deleteing collection failed"),s.Cmd.openToast((0,v.jsx)(C.Toast,{msg:l.default._("Failed to delete collection",null,{hk:"S7UrR"}),id:(0,C.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function E(){return(E=(0,n.default)((function*(e,t){g.QPL.markerPoint(_.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_start"),yield(0,m.appealCollection)(e.id.toString(),t),e.set({canAppeal:!1,reviewStatus:h.PRODUCT_REVIEW_STATUS.PENDING}),g.QPL.markerPoint(_.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_end")}))).apply(this,arguments)}},33889:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t}=e,a=(0,n.default)(l.default.addItemButton,{[l.default.themeDefault]:"default"===e.theme,[l.default.themeInList]:"in-list"===e.theme,[l.default.themeCollections]:"collections"===e.theme}),o=(0,d.jsx)(r.default,{title:i.default._("Add new item",null,{hk:"2Tc6p3"}),onClick:()=>{},xstyle:u.addIcon,children:(0,d.jsx)(d.Fragment,{})});return(0,d.jsx)(s.default,{theme:"add-item",image:o,customImage:!0,primary:e.title||i.default._("Add new item",null,{hk:"2Tc6p3"}),className:a,onClick:t,idle:e.idle,a8n:"add-item"})};var n=o(a(94184)),i=o(a(48360)),l=(o(a(56720)),o(a(71452))),s=o(a(44356)),r=o(a(1784)),d=a(85893);const u={addIcon:{position:"g0rxnol2",width:"o22r6p4i",height:"dng4fqht",borderTop:"btoh1681",borderEnd:"sngpozrj",borderBottom:"c2eze1zb",borderStart:"bd2x2sk5",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"},"::before":{position:"jiaumjzp",top:"iu8zqbur",left:"c4kjmepz",display:"chh99fau",width:"ln1ej6zg",height:"i0a739jv",content:"ckfn5qle",backgroundColor:"t4c1fkc8",transform:"bsbo06yw"},"::after":{position:"tkubpkrc",top:"khfyavfg",left:"nly7wueh",display:"l1wvjj35",width:"dbiwaw4z",height:"l9a7srmz",content:"lw9p9708",backgroundColor:"sadoqatt",transform:"n2obx7p9"}}}},79174:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionIntegrityBanner=function(e){const{collection:t,onEditCollection:a}=e,o=(0,m.jsx)("div",{className:r.default.iconContainerRejected,children:(0,m.jsx)(h.default,{name:"info"})}),u=()=>{a&&a(t)},g=()=>{s.Cmd.openModal((0,m.jsx)(i.default,{collection:t}))};switch(t.reviewStatus){case p.PRODUCT_REVIEW_STATUS.PENDING:return(0,m.jsxs)("div",{className:r.default.pendingBanner,children:[n.default._("This collection is being reviewed. Once it’s approved, your customers will see it in your catalog.",null,{hk:"3DQb07"}),(0,m.jsx)("div",{className:r.default.iconContainerPending,children:(0,m.jsx)(h.default,{name:"info"})})]});case p.PRODUCT_REVIEW_STATUS.REJECTED:return(0,c.canAppealCollections)()?(()=>{const e=(t.rejectReason||"other_violation").toLowerCase(),a=(0,d.getRejectedCollectionCopy)(e,t.commerceUrl),i=(0,m.jsx)(l.default,{onClick:u,children:n.default._("rename the collection",null,{hk:"2j5eIB"})});if(t.canAppeal){const e=(0,m.jsx)(l.default,{onClick:g,children:n.default._("request another review",null,{hk:"2BSEoy"})}),t=(0,m.jsx)(f.default,{id:320,params:{rename_collection_link:i,request_another_review_link:e}});return(0,m.jsxs)("div",{className:r.default.rejectedBannerWithAppeal,children:[a.first,(0,m.jsx)("br",{}),t,o]})}{const e=(0,m.jsx)(f.default,{id:344,params:{rename_collection_link:i}});return(0,m.jsxs)("div",{className:r.default.rejectedBannerWithAppeal,children:[a.second,(0,m.jsx)("br",{}),e,o]})}})():(0,m.jsxs)("div",{className:r.default.rejectedBanner,children:[n.default._("This collection wasn’t approved because it doesn’t follow our guidelines.",null,{hk:"4bjvNq"}),(0,m.jsx)(l.default,{onClick:u,children:n.default._("Rename",null,{hk:"2U6ctb"})}),o]});default:return null}},t.getCollectionIntegrityHeight=function(e){return(0,c.canAppealCollections)()&&e.reviewStatus===p.PRODUCT_REVIEW_STATUS.REJECTED?2*u.default.PRODUCT_LIST_ITEM_HEIGHT+10:u.default.PRODUCT_LIST_ITEM_HEIGHT+10};var n=o(a(48360)),i=o(a(5970)),l=o(a(99360)),s=a(88102),r=o(a(75619)),d=a(41399),u=o(a(69618)),c=a(57701),f=o(a(56074)),p=a(5641),h=o(a(23217)),m=a(85893)},74259:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductDetail:t,onProductShare:a,onCartOpen:o,shareLinks:C,canManageCatalog:x}=e,[v,S]=(0,n.useState)(void 0),y=(0,g.useModelValues)(e.catalog,["productCollection","afterCursor","id","index"]),j=e=>{a&&a(e)};if(!y.productCollection||!y.productCollection.getProductModels(e.canManageCatalog).length)return null;return(0,_.jsx)(u.default,{flatListControllers:[e.flatListController],children:(0,_.jsx)(d.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=void 0!==o;return y.productCollection.getProductModels(x).map((t=>({itemKey:`${t.id.toString()}_${e.toString()}`,product:t})))})(),renderItem:e=>{const{product:a}=e;return(0,_.jsx)(r.DrawerContext.Consumer,{children:e=>{const n=(0,p.getProductCatalogContext)(e);return(0,_.jsx)(h.default,{product:a,onCartOpen:o,onClick:()=>((e,a)=>((0,f.logCatalogListDetailClick)({product:(0,m.unproxy)(e),catalogContext:a}),S(e.id.toString()),t(e)))(a,n),onProductShare:C?j:null,onProductDelete:e=>((e,t)=>{(0,i.handleProductDelete)(y,e,t,"Catalog").then((()=>{e.id===v&&(l.Cmd.closeDrawerMid(),S(void 0))}))})(e,n),onProductHideShow:e=>((e,t)=>{(0,i.handleProductVisibilityChange)(y,e,t,"Catalog")})(e,n),canManageCatalog:x})}})},defaultItemHeight:s.default.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:c.KeyOrder.INVERSE})})};var n=a(67294),i=a(47217),l=a(88102),s=o(a(69618)),r=a(27394),d=a(47915),u=o(a(44942)),c=a(43882),f=a(77975),p=a(97567),h=o(a(88990)),m=a(31019),g=a(49082),_=a(85893)},70988:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{postcode:e,postcodeCityName:t}={postcode:"123456",postcodeCityName:"Mumbai"};return(0,c.jsxs)("div",(0,n.default)((0,n.default)({className:(0,l.default)(f.container)},(0,s.accessibleClickableButtonProps)({onClick:()=>{}})),{},{children:[(0,c.jsx)("span",{className:(0,l.default)(f.svgWrapper),children:(0,c.jsx)(d.default,{name:"business-address"})}),(0,c.jsxs)(r.FlexColumn,{children:[(0,c.jsx)(u.Text,{as:"p",xstyle:f.postcodeDescription,children:i.default._("Items available in {postcode-of-a-geographic-area}",[i.default._param("postcode-of-a-geographic-area",e)],{hk:"QtjEK"})}),(0,c.jsx)(u.Text,{as:"p",xstyle:f.postcodeCityName,theme:"muted",children:t})]})]}))};var n=o(a(81109)),i=o(a(48360)),l=o(a(56720)),s=a(55712),r=a(29623),d=o(a(23217)),u=a(13923),c=a(85893);const f={container:{display:"p357zi0d",alignItems:"gndfcl4n",backgroundColor:"ihvf49ua",":hover":{backgroundColor:"os03hap6"}},svgWrapper:{paddingTop:"nlnf8xo7",paddingBottom:"r219jyu0",paddingStart:"sta02ykp",width:"i94gqilv",marginEnd:"oz083wsx",color:"kv0r5hzt"},postcodeDescription:{lineHeight:"erpdyial",fontSize:"enbbiyaj"},postcodeCityName:{lineHeight:"r5qsrrlp",fontSize:"f8jlpxt4"}}},54414:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalogId:t,setScrollOffset:a,onCartClick:o,onCatalogLinkClick:U,canManageCatalog:H,canLogQpl:G=!0,isPushed:z=!0,scrollOffset:q,autoUpdate:K,businessProfile:Q,blockCartInterstitialFn:Y=(()=>!1),onAddProduct:$,onProductDetail:X,onProductShare:J,onCollectionSeeAll:Z,onEditCollection:ee,onOpenCollections:te,onRemoveProduct:ae,onOpenSettings:oe,onOpenMerchantDetailsForm:ne}=e,ie=(0,F.default)(),le=(0,D.default)(),se=(0,N.default)(le,100),re=(0,R.default)((()=>new P.default)),de=(0,B.useModelValues)(e.contact,["id"]),ue=(0,s.useMemo)((()=>u.CartCollection.findCart(de.id.toString())),[de.id]),[ce,fe]=(0,s.useState)(!1),[pe,he]=(0,s.useState)(null),[me,ge]=(0,s.useState)(ue.itemCount),[_e,Ce]=(0,s.useState)("NONE"),[xe,ve]=(0,s.useState)(null),[Se,ye]=(0,s.useState)(null),[je,Ee]=(0,s.useState)(!0),Pe=function(){var e=(0,n.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),Ee(!1)}));return function(){return e.apply(this,arguments)}}(),Te=(0,N.default)((()=>{le(),null==ae||ae()}),100),Ie=()=>{const e=G&&z,a=e?L.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0;f.CatalogCollection.find(t,{markerId:a}).then((t=>{if(ie.aborted)return;const a=new g.CatalogWithCollectionsDataSource(t,H||!1,x.default.PRODUCT_LIST_ITEM_HEIGHT,e),o=new g.CatalogListItemScrollHelper(a);he(t),ve(a),ye(o),Ce("SUCCESS"),Pe(a).then((()=>{e&&O.QPL.markerEnd(L.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,O.QuickLogActionType.SUCCESS)})).catch((()=>{e&&O.QPL.markerEnd(L.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,O.QuickLogActionType.FAIL)})),(e=>{K&&null!=e&&(e.productCollection.on("add",se),e.productCollection.on("remove",Te),e.collections.on("add",se),e.collections.on("remove",se))})(t),void 0!==q&&re.current.setScrollFromStart(q)})).catch((t=>{e&&O.QPL.markerEnd(L.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,O.QuickLogActionType.FAIL),(0,j.parseErrorState)(t,(e=>{Ce(e),Ee(!1)}))}))},be=()=>{const e=ue.itemCount;me!==e&&ge(e)};(0,s.useEffect)((()=>{Ie(),(0,C.default)(t).then((e=>{fe(e),e&&ue.on("all",be)}))}),[]);const ke=(0,V.default)(((e,t)=>{a&&a(t.scrollTop),(null==Se?void 0:Se.willLoadMore(t))&&Ee(!0),null==Se||Se.onScroll(e,t).then((e=>{e&&Ee(!1)})).catch((e=>{throw Ee(!1),e}))}),100),we=()=>{(0,w.qplStartCartView)("Catalog"),null==o||o(de.id.toString())},Me=()=>{pe&&U(pe,de)};return(0,W.jsxs)(v.default,{theme:"products",onDrop:e.onBack,children:[(0,W.jsx)(y.DrawerHeader,{title:k.default.t(1073),type:e.headerType||y.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(()=>{const e=ce?we:void 0;return(0,W.jsx)(p.default,{onSendCatalog:Me,onCartClick:e,cartCount:ue.itemCount,catalogId:t.toString(),canManageCatalog:H,onOpenCollections:te,onOpenMerchantDetailsForm:ne,onOpenSettings:oe})})(),focusBackOrCancel:!0}),(0,W.jsx)(S.default,{onScroll:e=>{ke(e,e.currentTarget)},flatListControllers:[re.current],children:(()=>{var e;const t=ce&&o?we:void 0;let a,n,s,u;if(H&&$&&(a=(0,W.jsx)(d.default,{onClick:()=>$(),theme:"collections"})),pe&&H&&ee){n=pe.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))?(0,W.jsx)(d.default,{onClick:()=>{ee(null)},theme:"collections",title:l.default._("Add new collection",null,{hk:"1DddmB"})}):null}return pe&&xe?(s=(0,W.jsx)(M.default,{onCartOpen:t,onProductDetail:X,flatListController:re.current,catalog:pe,canManageCatalog:H,shareLinks:H,onProductShare:J,onCollectionSeeAll:Z,data:xe.getData(),onEditCollection:ee}),b.GK.supportsFeature(b.GK.F.MD_BACKEND)&&H&&((0,r.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&ce&&!Y()&&(0,c.default)(),u=(0,W.jsx)(h.default,{onOpenCollections:te}))):s=(0,W.jsx)(E.default,{fetchState:_e}),(0,W.jsxs)(W.Fragment,{children:[Q&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{"data-a8n":i.default.key("catalog-header"),className:_.default.header,children:(0,W.jsx)(A.default,{profilePicThumb:de.getProfilePicThumb(),contact:de,businessProfile:Q})}),(0,I.enablePostcodeInCatalog)()&&!0===(null===(e=Q.profileOptions)||void 0===e?void 0:e.directConnection)&&(0,W.jsx)(m.default,{})]}),(0,W.jsxs)("div",{"data-a8n":i.default.key("catalog-items"),className:_.default.list,children:[u,a,n,s,je&&(0,W.jsx)(T.default,{})]})]})})()})]})};var n=o(a(48926)),i=o(a(99964)),l=o(a(48360)),s=a(67294),r=a(86945),d=o(a(33889)),u=a(12392),c=o(a(13712)),f=a(99989),p=o(a(44043)),h=o(a(92351)),m=o(a(70988)),g=a(71599),_=o(a(8902)),C=o(a(17986)),x=o(a(69618)),v=o(a(60453)),S=o(a(69637)),y=a(94790),j=a(14375),E=o(a(61055)),P=o(a(30855)),T=o(a(29796)),I=a(76059),b=a(7293),k=o(a(43725)),w=a(82145),M=o(a(44315)),A=o(a(62647)),O=a(48870),L=a(27798),N=o(a(81559)),D=o(a(59909)),R=o(a(59552)),B=a(49082),V=o(a(88857)),F=o(a(38080)),W=a(85893)},19829:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionContentDrawer=function(e){var t;const{catalogId:a,onCartClick:o,onCatalogLinkClick:R,setScrollOffset:B,canManageCatalog:V,scrollOffset:F,collection:W,onProductDetail:U,onProductShare:H,onEditCollection:G}=e,z=(0,M.default)(),q=(0,N.default)(),K=(0,l.useContext)(C.DrawerContext),Q=(0,L.useModelValues)(e.contact,["id"]),Y=(0,l.useMemo)((()=>r.CartCollection.findCart(Q.id.toString())),[Q.id]),$=(0,A.default)((()=>new y.default)),[X,J]=(0,l.useState)(!1),[Z,ee]=(0,l.useState)(null),[te,ae]=(0,l.useState)(Y.itemCount),[oe,ne]=(0,l.useState)("NONE"),[ie,le]=(0,l.useState)(null),[se,re]=(0,l.useState)(null),[de,ue]=(0,l.useState)(!0);(0,O.useListener)(null==W?void 0:W.productCollection,["add","remove"],z),(0,O.useListener)(null==Z?void 0:Z.productCollection,["add","remove"],z),(0,O.useListener)(null==Z?void 0:Z.collections,["add","remove"],z),(0,O.useListener)(W,["change:reviewStatus","canAppeal"],z);const ce=function(){var e=(0,n.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),ue(!1),(0,E.logCollectionSeeAllView)({catalogOwnerJid:a.toString(),catalogContext:(0,T.getProductCatalogContext)(K),collectionId:null==e?void 0:e.collectionId})}));return function(){return e.apply(this,arguments)}}(),fe=()=>{const e=Y.itemCount;te!==e&&ae(e)};(0,l.useEffect)((()=>{d.CatalogCollection.find(a).then((e=>{if(q.aborted)return;ee(e),ne("SUCCESS");const t=new c.SingleCollectionDataSource(e,null==W?void 0:W.id.toString(),V||!1,m.default.PRODUCT_LIST_ITEM_HEIGHT),a=new c.CatalogListItemScrollHelper(t);le(t),re(a),ce(t).then((()=>{b.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,b.QuickLogActionType.SUCCESS)})).catch((()=>{b.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,b.QuickLogActionType.FAIL)})),void 0!==F&&$.current.setScrollFromStart(F)})).catch((e=>{b.QPL.markerEnd(k.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,b.QuickLogActionType.FAIL),(0,v.parseErrorState)(e,(e=>{ne(e),ue(!1)}))})),(0,f.default)(a).then((e=>{J(e),e&&Y.on("all",fe)}))}),[]);const pe=()=>{(0,P.qplStartCartView)("Collection"),null==o||o(Q.id.toString())},he=()=>{Z&&R(Z,Q)},me=(0,w.default)((e=>{const t=e.currentTarget;null==B||B(t.scrollTop),(null==se?void 0:se.willLoadMore(t))&&ue(!0),null==se||se.onScroll(e,t).then((e=>{e&&ue(!1)})).catch((e=>{throw ue(!1),e}))}),100),ge=(null===(t=e.collection)||void 0===t?void 0:t.name)||i.default._("All Items",null,{hk:"2x8dE2"});return(0,D.jsxs)(g.default,{theme:"products",onDrop:e.onBack,children:[(0,D.jsx)(x.DrawerHeader,{title:ge,type:e.headerType||x.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(0,D.jsx)(u.default,{onSendCatalog:he,onCartClick:X?pe:void 0,cartCount:Y.itemCount,catalogId:a.toString(),canManageCatalog:V})}),(0,D.jsx)(_.default,{flatListControllers:[$.current],onScroll:me,children:(()=>{const e=X&&o?pe:void 0;if(!Z||!ie)return(0,D.jsx)(S.default,{fetchState:oe});const t=ie.getData();if(0===t.length&&!de&&V&&W)return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{className:p.default.list,children:[(0,D.jsx)(s.default,{theme:"collections",onClick:()=>{null==G||G(W)}}),(0,D.jsx)("div",{className:p.default.addItemsNotice,children:i.default._("This collection won’t be visible to customers until you add at least 1 item",null,{hk:"34nbHb"})})]})});const a=(0,D.jsx)(I.default,{onCartOpen:e,onProductDetail:U,flatListController:$.current,catalog:Z,canManageCatalog:V,shareLinks:V,onProductShare:H,collectionId:null==W?void 0:W.id.toString(),data:t}),n=W?(0,D.jsx)(h.CollectionIntegrityBanner,{collection:W,onEditCollection:G}):void 0;return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{className:p.default.list,children:[n,a,de&&(0,D.jsx)(j.default,{})]})})})()})]})};var n=o(a(48926)),i=o(a(48360)),l=a(67294),s=o(a(33889)),r=a(12392),d=a(99989),u=o(a(44043)),c=a(71599),f=o(a(17986)),p=o(a(4056)),h=a(79174),m=o(a(69618)),g=o(a(60453)),_=o(a(69637)),C=a(27394),x=a(94790),v=a(14375),S=o(a(61055)),y=o(a(30855)),j=o(a(29796)),E=a(35054),P=a(82145),T=a(97567),I=o(a(44315)),b=a(48870),k=a(27798),w=o(a(81559)),M=o(a(59909)),A=o(a(59552)),O=a(19529),L=a(49082),N=o(a(38080)),D=a(85893)},36153:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t,onSeeAll:a,allItems:o}=e;let h,m;t?({name:h,id:m}=t):o&&(h=n.default._("All Items",null,{hk:"2x8dE2"}));const g=(0,p.jsx)(f.TextDiv,{className:s.default.collectionName,theme:"title",children:(0,p.jsx)(r.EmojiText,{text:h,ellipsify:!0,titlify:!0})});function _(e){!function(e){e.preventDefault(),e.stopPropagation()}(e),(0,u.qplStartCollectionViewAll)("Catalog"),a&&t?a(t):a&&a()}let C;if(t)switch(t.reviewStatus){case c.PRODUCT_REVIEW_STATUS.REJECTED:C=(0,p.jsx)("span",{className:s.default.reviewStateRejected,children:n.default._("rejected",null,{hk:"3f3H8P"})})}return(0,p.jsx)(i.default,{primary:g,secondary:C,detail:(0,p.jsx)(l.default,{onClick:_,className:s.default.seeAllLink,title:d.default.t(1,{collectionName:h}),tabIndex:0,children:n.default._("See all",null,{hk:"UPjou"})}),theme:"collection-header",idle:!0,className:s.default.collectionListItem},m)};var n=o(a(48360)),i=o(a(44356)),l=o(a(99360)),s=o(a(24128)),r=a(65417),d=o(a(43725)),u=a(82145),c=a(5641),f=a(13923),p=a(85893)},41399:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPolicyLink=u,t.getRejectedCollectionCopy=function(e,t){let a;switch(e){case"drugs":return a=n.default._("WhatsApp's Commerce Policy for prescription, recreational, or other types of Drugs",null,{hk:"B27ED"}),{first:(0,d.jsx)(r.default,{id:313,params:{collections_rejected_policy_drugs:u(a,t)}}),second:(0,d.jsx)(r.default,{id:337,params:{collections_rejected_policy_drugs:u(a,t)}})};case"weapons":return a=n.default._("WhatsApp's Commerce Policy for Weapons, ammunition, or explosives",null,{hk:"1X972I"}),{first:(0,d.jsx)(r.default,{id:329,params:{collections_rejected_policy_weapons:u(a,t)}}),second:(0,d.jsx)(r.default,{id:353,params:{collections_rejected_policy_weapons:u(a,t)}})};case"animals":return a=n.default._("WhatsApp's Commerce Policy for Animals",null,{hk:"3hxXr8"}),{first:(0,d.jsx)(r.default,{id:308,params:{collections_rejected_policy_animals:u(a,t)}}),second:(0,d.jsx)(r.default,{id:332,params:{collections_rejected_policy_animals:u(a,t)}})};case"alcohol":return a=n.default._("WhatsApp's Commerce Policy for Alcohol",null,{hk:"1G8YGL"}),{first:(0,d.jsx)(r.default,{id:307,params:{collections_rejected_policy_alcohol:u(a,t)}}),second:(0,d.jsx)(r.default,{id:331,params:{collections_rejected_policy_alcohol:u(a,t)}})};case"gambling":return a=n.default._("WhatsApp's Commerce Policy for Real money gambling services",null,{hk:"1zQIeM"}),{first:(0,d.jsx)(r.default,{id:314,params:{collections_rejected_policy_gambling:u(a,t)}}),second:(0,d.jsx)(r.default,{id:338,params:{collections_rejected_policy_gambling:u(a,t)}})};case"tobacco":return a=n.default._("WhatsApp's Commerce Policy for Tobacco items and related paraphernalia",null,{hk:"EAQLL"}),{first:(0,d.jsx)(r.default,{id:327,params:{collections_rejected_policy_tobacco:u(a,t)}}),second:(0,d.jsx)(r.default,{id:351,params:{collections_rejected_policy_tobacco:u(a,t)}})};case"overtly_sexualized_positioning":return a=n.default._("WhatsApp's Commerce Policy for Overtly sexualized positioning",null,{hk:"1oaFbX"}),{first:(0,d.jsx)(r.default,{id:322,params:{collections_rejected_policy_overtly_sexualized_positioning:u(a,t)}}),second:(0,d.jsx)(r.default,{id:346,params:{collections_rejected_policy_overtly_sexualized_positioning:u(a,t)}})};case"adult":return a=n.default._("WhatsApp's Commerce Policy for Adult products or service",null,{hk:"Wf7q5"}),{first:(0,d.jsx)(r.default,{id:306,params:{collections_rejected_policy_adult:u(a,t)}}),second:(0,d.jsx)(r.default,{id:330,params:{collections_rejected_policy_adult:u(a,t)}})};case"supplements":return a=n.default._("WhatsApp's Commerce Policy for Unsafe ingestible supplements",null,{hk:"9a4Y2"}),{first:(0,d.jsx)(r.default,{id:325,params:{collections_rejected_policy_supplements:u(a,t)}}),second:(0,d.jsx)(r.default,{id:349,params:{collections_rejected_policy_supplements:u(a,t)}})};case"body_parts_fluids":return a=n.default._("WhatsApp's Commerce Policy for Body parts and fluids",null,{hk:"2EAd21"}),{first:(0,d.jsx)(r.default,{id:309,params:{collections_rejected_policy_body_parts_fluids:u(a,t)}}),second:(0,d.jsx)(r.default,{id:333,params:{collections_rejected_policy_body_parts_fluids:u(a,t)}})};case"healthcare":return a=n.default._("WhatsApp's Commerce Policy for Medical and healthcare products",null,{hk:"3vvgOF"}),{first:(0,d.jsx)(r.default,{id:316,params:{collections_rejected_policy_healthcare:u(a,t)}}),second:(0,d.jsx)(r.default,{id:340,params:{collections_rejected_policy_healthcare:u(a,t)}})};case"misleading":return a=n.default._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:(0,d.jsx)(r.default,{id:319,params:{collections_rejected_policy_misleading:u(a,t)}}),second:(0,d.jsx)(r.default,{id:343,params:{collections_rejected_policy_misleading:u(a,t)}})};case"real_fake_currency":return a=n.default._("WhatsApp's Commerce Policy for Real, virtual, or fake currency",null,{hk:"2XnVq2"}),{first:(0,d.jsx)(r.default,{id:323,params:{collections_rejected_policy_real_fake_currency:u(a,t)}}),second:(0,d.jsx)(r.default,{id:347,params:{collections_rejected_policy_real_fake_currency:u(a,t)}})};case"digital_services_products":return a=n.default._("WhatsApp's Commerce Policy for Digital and subscription services",null,{hk:"2mvwqB"}),{first:(0,d.jsx)(r.default,{id:311,params:{collections_rejected_policy_digital_services_products:u(a,t)}}),second:(0,d.jsx)(r.default,{id:335,params:{collections_rejected_policy_digital_services_products:u(a,t)}})};case"thrid_party_infringements":return a=n.default._("WhatsApp's Commerce Policy for Third-Party Infringement",null,{hk:"48SSD"}),{first:(0,d.jsx)(r.default,{id:326,params:{collections_rejected_policy_thrid_party_infringements:u(a,t)}}),second:(0,d.jsx)(r.default,{id:350,params:{collections_rejected_policy_thrid_party_infringements:u(a,t)}})};case"unauthorized_media":return a=n.default._("WhatsApp's Commerce Policy for Products or items that facilitate or encourage unauthorized access to digital media",null,{hk:"2ldhoF"}),{first:(0,d.jsx)(r.default,{id:328,params:{collections_rejected_policy_unauthorized_media:u(a,t)}}),second:(0,d.jsx)(r.default,{id:352,params:{collections_rejected_policy_unauthorized_media:u(a,t)}})};case"illegal_products":return a=n.default._("WhatsApp's Commerce Policy for Illegal products or services",null,{hk:"c5Zjc"}),{first:(0,d.jsx)(r.default,{id:318,params:{collections_rejected_policy_illegal_products:u(a,t)}}),second:(0,d.jsx)(r.default,{id:342,params:{collections_rejected_policy_illegal_products:u(a,t)}})};case"hazardous_goods_and_materials":return a=n.default._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:(0,d.jsx)(r.default,{id:315,params:{collections_rejected_policy_hazardous_goods_and_materials:u(a,t)}}),second:(0,d.jsx)(r.default,{id:339,params:{collections_rejected_policy_hazardous_goods_and_materials:u(a,t)}})};case"stolen_goods":return a=n.default._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,d.jsx)(r.default,{id:324,params:{collections_rejected_policy_stolen_goods:u(a,t)}}),second:(0,d.jsx)(r.default,{id:348,params:{collections_rejected_policy_stolen_goods:u(a,t)}})};case"human_exploitation_and_sexual_services":return a=n.default._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,d.jsx)(r.default,{id:317,params:{collections_rejected_policy_human_exploitation_and_sexual_services:u(a,t)}}),second:(0,d.jsx)(r.default,{id:341,params:{collections_rejected_policy_human_exploitation_and_sexual_services:u(a,t)}})};case"community_standards":return a=n.default._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:(0,d.jsx)(r.default,{id:310,params:{collections_rejected_policy_community_standards:u(a,t)}}),second:(0,d.jsx)(r.default,{id:334,params:{collections_rejected_policy_community_standards:u(a,t)}})};case"discrimination":return a=n.default._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:(0,d.jsx)(r.default,{id:312,params:{collections_rejected_policy_discrimination:u(a,t)}}),second:(0,d.jsx)(r.default,{id:336,params:{collections_rejected_policy_discrimination:u(a,t)}})};default:return a=n.default._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,d.jsx)(r.default,{id:321,params:{collections_rejected_policy_other_violation:u(a,t)}}),second:(0,d.jsx)(r.default,{id:345,params:{collections_rejected_policy_other_violation:u(a,t)}})}}};var n=o(a(48360)),i=o(a(99360)),l=o(a(69618)),s=a(12591),r=o(a(56074)),d=a(85893);function u(e,t){const a=t||l.default.WA_COMMERCE_POLICY_URL;return(0,d.jsx)(i.default,{href:a,onClick:e=>{e.preventDefault(),(0,s.openExternalLink)(a)},children:e})}},35054:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCollectionCreateClicked=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATE_CLICKED,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionCreated=function(e){let{catalogContext:t,collectionId:a,productCount:o}=e;new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:o}).commit()},t.logCollectionDeleted=function(e){let{catalogContext:t,collectionId:a}=e;new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:a}).commit()},t.logCollectionItemsAssignment=function(e){let{catalogContext:t,collectionId:a,addedCount:o,removedCount:n}=e;o>0&&new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_ASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:o,collectionId:a}).commit();n>0&&new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_UNASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:n,collectionId:a}).commit()},t.logCollectionMenuClicked=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_MENU_COLLECTIONS_CLICK,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionRenamed=function(e){let{catalogContext:t,collectionId:a}=e;new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:a}).commit()},t.logCollectionSeeAllView=function(e){let{catalogOwnerJid:t,catalogContext:a,collectionId:o}=e;const d=(0,i.getProductStatsInFetched)(t,o),u=null==d?void 0:d.productIndex,c=null==d?void 0:d.collectionIndex;(0,r.createCatalogViewEvent)((0,n.default)({isOwner:(0,r.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_COLLECTION_IMPRESSION,productIndex:u,collectionIndex:c},(0,s.toDataForCatalogViewEvents)(a))).commit()};var n=o(a(81109)),i=a(71599),l=o(a(11339)),s=a(97567),r=a(14545)},44315:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294),i=a(47217),l=a(79174),s=o(a(36153)),r=o(a(69618)),d=a(27394),u=a(47915),c=o(a(44942)),f=o(a(30855)),p=a(43882),h=a(84387),m=a(77975),g=a(82145),_=a(97567),C=o(a(88990)),x=a(5641),v=o(a(16932)),S=o(a(65932)),y=a(31019),j=a(85893);class E extends n.Component{constructor(e){super(e),this.attachedListeners=new Set,this._catalogFlatListController=new f.default,this.handleProductDetail=(e,t)=>{const{onProductDetail:a}=this.props;return(0,g.qplStartProductView)("Collection"),(0,m.logCatalogListDetailClick)({product:(0,y.unproxy)(e),catalogContext:(0,_.getProductCatalogContext)(this.context)}),a(e,t)},this.handleProductShare=e=>{const{onProductShare:t}=this.props;t&&t(e)},this.handleProductDelete=e=>{const{catalog:t}=this.props;(0,i.handleProductDelete)(t,e,(0,_.getProductCatalogContext)(this.context),"Collection")},this.handleProductHideShow=e=>{const{catalog:t}=this.props;(0,i.handleProductVisibilityChange)(t,e,(0,_.getProductCatalogContext)(this.context),"Collections")},this.renderItem=e=>{const{collection:t,product:a,allItems:o,reviewBanner:n,collectionId:i}=e,{onCartOpen:r,shareLinks:d}=this.props;return t?n?(0,j.jsx)(l.CollectionIntegrityBanner,{collection:t,onEditCollection:this.props.onEditCollection}):(0,j.jsx)(s.default,{collection:t,onSeeAll:this.props.onCollectionSeeAll}):o?(0,j.jsx)(s.default,{allItems:o,onSeeAll:this.props.onCollectionSeeAll}):a?(0,j.jsx)(C.default,{collectionId:i,product:a,onCartOpen:r,onClick:()=>this.handleProductDetail(a,i),onProductShare:d?this.handleProductShare:null,onProductDelete:this.handleProductDelete,onProductHideShow:this.handleProductHideShow,theme:"product-of-collection",canManageCatalog:this.props.canManageCatalog}):null},this.state={loadingMore:!1,stopLoading:!1,catalogFetchState:e.catalog?"SUCCESS":"NONE"}}getData(){const{onCartOpen:e}=this.props,t=void 0!==e,a=this.props.data||[],o=[];return a.forEach((e=>{const a=e.collection,n=e.product,i=e.allItems;if(a&&n){const e=a.id;o.push({itemKey:`${e.toString()}_${n.id.toString()}_${t.toString()}`,product:n,collectionId:e})}else if(a)this.attachedListeners.has(a.id)||(this.attachedListeners.add(a.id),this.props.listeners.add(a,"change:reviewStatus canAppeal",(()=>{this.forceUpdate()}))),o.push({itemKey:`${a.id.toString()}_${a.reviewStatus.toString()}`,collection:a}),a.reviewStatus!==x.PRODUCT_REVIEW_STATUS.PENDING&&a.reviewStatus!==x.PRODUCT_REVIEW_STATUS.REJECTED||o.push({itemKey:`${a.id.toString()}_reviewBanner`,collection:a,height:(0,l.getCollectionIntegrityHeight)(a),reviewBanner:!0});else if(i)o.push({itemKey:"view_all",allItems:i});else if(n){const e=this.props.collectionId||void 0;o.push({itemKey:`${n.id.toString()}_${t.toString()}`,product:n,collectionId:e})}})),o}render(){const e=this.getData();return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(c.default,{flatListControllers:[this._catalogFlatListController],children:(0,j.jsx)(u.FlatList,{flatListController:this._catalogFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:e,renderItem:this.renderItem,defaultItemHeight:r.default.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:p.KeyOrder.INVERSE})})})}}E.CONCERNS={catalog:["productCollection","collections","afterCursor","id","index"]},E.contextType=d.DrawerContext,E.displayName="ProductCollectionsList";var P=(0,v.default)((0,h.ListenerHOC)((0,S.default)(E,E.CONCERNS)));t.default=P},70107:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{collectionId:a,onCartClick:o,onProductLinkClick:s,onProductMoreInformation:S,onBack:N,onProductCatalog:R,onProductDetail:K,refreshCarousel:Q,chat:Y,isPushed:$=!0}=e,X=(0,B.default)(),J=(0,U.default)(),Z=(0,r.useContext)(v.DrawerContext),ee=(0,W.useModelValues)(e.product,["id","catalogWid","productImageCollection","fetchedFromServer","name","availability","reviewStatus"]),[te,ae]=(0,r.useState)(null),[oe,ne]=(0,r.useState)(!1),[ie,le]=(0,r.useState)(null),[se,re]=(0,r.useState)("NONE"),[de,ue]=(0,r.useState)("NONE"),ce=(0,V.default)((()=>c.CartCollection.findCart(ee.catalogWid.toString())));(0,F.useListener)(ce.current,"change:cartItemCollection",X);const fe=()=>{if(N)return N()},pe=()=>{const e=ee.catalogWid,t=ee.id.toString(),a=f.CatalogCollection.findProduct({catalogWid:e,productId:t,productMsgMediaData:(0,D.unproxy)(ee).productMsgMediaData,canLogQpl:$}),o=d.BusinessProfileCollection.find(e);let l=!0;return Promise.all([o,a]).then((e=>{let[t]=e;if(J.aborted)throw new n.AbortError;return l=!1,$&&(0,P.qplEndProductView)(O.QuickLogActionType.SUCCESS),ae(t),re("SUCCESS"),t})).then((e=>{"PENDING"===de&&((0,u.hasCatalog)(e)?(()=>{const e=ee.catalogWid;f.CatalogCollection.findCarouselCatalog(e).then((e=>{if(J.aborted)return;const t=Array.isArray(e)?e[0]:e;le(t||null),ue(t?"SUCCESS":"NONE")})).catch((0,i.filteredCatch)(H.ServerStatusCodeError,(e=>{"not_found"===e.status||404===e.status?(le(null),ue("NOT_FOUND")):(le(null),ue("ERROR"),__LOG__(3)`Failed to fetch product catalog from server`)}))).catch((0,i.filteredCatch)(H.WebdDrop,(()=>{le(null),ue("ERROR"),__LOG__(3)`Failed to fetch product catalog`})))})():ue("NONE"))})).catch((0,n.catchAbort)((()=>{}))).catch((0,i.filteredCatch)(H.E404,(()=>{fe(),m.Cmd.openModal((0,G.jsx)(g.default,{onOK:()=>{m.Cmd.closeModal()},okText:j.default.t(1765),children:j.default.t(1105)})),re("NOT_FOUND"),l=!1,(0,P.qplDropProductView)()}))).catch((0,i.filteredCatch)(H.WebdDrop,(()=>{re("ERROR"),__LOG__(3)`Failed to fetch product`}))).catch((0,i.filteredCatch)(H.ServerStatusCodeError,(()=>{re("ERROR"),__LOG__(3)`Failed to fetch product from server`}))).finally((()=>{$&&l&&(0,P.qplEndProductView)(O.QuickLogActionType.FAIL)}))};(0,r.useEffect)((()=>{if(Q){const e=f.CatalogCollection.get(ee.catalogWid);(null==e?void 0:e.productCollection)&&e.fetchedFromServer?ue("SUCCESS"):ue("PENDING")}const e=(0,y.getMaybeMeUser)();$&&(0,P.qplAnnotateProductView)(!(null==e?void 0:e.equals(ee.catalogWid)));const t=ee.catalogWid,o=ee.id.toString();if(t&&o)return pe(),(0,h.default)(t).then((e=>{ne(e)})),(0,E.logProductDetailView)({product:(0,D.unproxy)(ee),catalogContext:(0,I.getProductCatalogContext)(Z),cartToggle:oe,collectionId:a}),()=>{const e=ee.catalogWid,t=ee.id.toString();if(!e||!t)return;const a=f.CatalogCollection.get(e),o=a&&a.msgProductCollection.get(t);(null==o?void 0:o.fetchedFromServer)&&a&&a.msgProductCollection.remove(o)};(0,P.qplDropProductView)()}),[]);const he=()=>{(0,P.qplStartCartView)("Product"),o&&o(ee.catalogWid.toString())},me=()=>{m.Cmd.openModal((0,G.jsx)(L.default,{product:ee,sessionId:(0,I.getProductCatalogSessionId)(Z)}))},ge=()=>{s(ee)},_e=()=>{const e=ee,{catalogWid:t}=e,a=f.CatalogCollection.get(t);if(!a)return;const o=a.productCollection.get(e.id);m.Cmd.attachProduct({product:o?(0,D.unproxy)(o):(0,D.unproxy)(e)})},Ce=()=>{S(ee)},xe=()=>"ERROR"!==se&&"NOT_FOUND"!==se&&!(()=>{const{reviewStatus:e}=ee;return e===b.PRODUCT_REVIEW_STATUS.REJECTED})(),ve=xe(),Se=(0,u.hasCatalog)(te);return(0,G.jsxs)(C.default,{onDrop:fe,theme:"striped",children:[(0,G.jsx)(q,{renderDrawerMenu:()=>xe()?(0,G.jsx)(_.default,{onSendProduct:_e,onReportProduct:me,onProductLinkClick:ge,onProductMoreInformation:Ce,onCartClick:oe?he:void 0,cartCount:ce.current.itemCount,catalogId:ee.catalogWid.toString(),contactId:null==Y?void 0:Y.contact.id.user}):null,handleBack:fe}),(0,G.jsx)(x.default,{children:(0,G.jsxs)("div",{"data-a8n":l.default.key("product-details"),className:k.default.body,children:[(0,G.jsx)(z,{productFetchState:se,productCatalogFetchState:de,isAvailable:ve}),(0,G.jsx)(M.default,{product:ee,isAvailable:ve,fetching:"PENDING"===se}),ee.availability===A.ProductAvailability.OUT_OF_STOCK?(0,G.jsx)("div",{className:k.default.availabilityBanner,children:j.default.t(1094)}):null,(0,G.jsx)(w.default,{product:ee,collectionId:a,onSendChat:()=>{const e=f.CatalogCollection.get(ee.catalogWid);(0,T.sendProductToChat)(ee,e,(0,I.getProductCatalogContext)(Z)),(0,E.logProductMessageBusinessClick)(ee,(0,I.getProductCatalogContext)(Z))},isAvailable:ve,hideRetailerID:null===(t=e.chat)||void 0===t?void 0:t.contact.isEnterprise}),Se&&ie?(0,G.jsx)(p.default,{catalog:ie,onProductCatalog:()=>{R&&R(ee.catalogWid,(0,I.getProductCatalogContext)(Z))},onProductDetail:e=>{if((0,P.qplStartProductView)("Product"),K)return K(e)},filterProductId:ee.id.toString(),title:j.default.t(1069),animation:!1}):null]})})]},"product-details-drawer")};var n=a(89385),i=a(50796),l=o(a(99964)),s=o(a(94184)),r=a(67294),d=a(93581),u=a(94010),c=a(12392),f=a(99989),p=o(a(42953)),h=o(a(17986)),m=a(88102),g=o(a(52665)),_=o(a(11466)),C=o(a(60453)),x=o(a(69637)),v=a(27394),S=a(94790),y=a(99234),j=o(a(43725)),E=a(77975),P=a(82145),T=a(96519),I=a(97567),b=a(5641),k=o(a(71212)),w=o(a(16481)),M=o(a(33382)),A=a(6822),O=a(48870),L=o(a(79387)),N=a(11054),D=a(31019),R=a(13923),B=o(a(59909)),V=o(a(59552)),F=a(19529),W=a(49082),U=o(a(38080)),H=a(77591),G=a(85893);function z(e){let t,{productFetchState:a,productCatalogFetchState:o,isAvailable:n}=e;t="ERROR"===a?(0,G.jsx)(R.TextSpan,{className:k.default.text,theme:"small",color:"danger",children:j.default.t(1072)}):n?[(0,G.jsx)(N.Spinner,{size:14,color:N.colorOptions.highlight},"DetailDrawer-loadingBar-spinner"),(0,G.jsx)(R.TextSpan,{className:(0,s.default)(k.default.text,k.default.loadingText),theme:"small",children:j.default.t(1119)},"DetailDrawer-loadingBar-msg")]:(0,G.jsx)(R.TextSpan,{className:k.default.text,theme:"small",color:"danger",children:j.default.t(1105)});const i="PENDING"===a||"PENDING"===o||!n;return(0,G.jsx)("div",{className:(0,s.default)({[k.default.loadingContainer]:i,[k.default.shiftUp]:!i}),children:t})}function q(e){let{renderDrawerMenu:t,handleBack:a}=e;return(0,G.jsx)(S.DrawerHeader,{title:j.default.t(1095),onBack:a,type:S.DRAWER_HEADER_TYPE.SMALL,menu:t()})}},16481:(e,t,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collectionId:t,onSendChat:a,isAvailable:o}=e,n=(0,l.useContext)(f.DrawerContext),M=(0,k.useModelValues)(e.product,["name","url","description","availability","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","fetchedFromServer","retailerId","catalogWid","productImageCollection","imageHash","reviewStatus","imageCdnUrl","id"]),[A,O]=(0,l.useState)(!1),[L,N]=(0,l.useState)(!1);(0,l.useEffect)((()=>{(0,u.default)(M.catalogWid).then((e=>{N(e)}))}),[]);const D=e=>{P.QPL.markerStart(T.QuickLogMarkerId.WHATSAPP_CART_ADD,{string:{EntryPoint:"Product"}}),(0,s.default)(M,(0,v.getProductCatalogContext)(n),t),e.stopPropagation()},R=()=>{O(!0)},B=e=>{if(!M.fetchedFromServer||!e||!o)return null;const t=g.Configuration.TrustedGroupDesc({links:C.findLinks(e)});return(0,w.jsx)("div",{children:(0,w.jsx)(h.EmojiText,{selectable:!0,formatters:t,text:e,onClick:t=>((e,t)=>{e.stopPropagation(),(0,x.logDetailLinkClick)({product:(0,I.unproxy)(M),catalogContext:(0,v.getProductCatalogContext)(n)});const a=t&&C.findLink(t);a&&(0,m.openExternalLink)(a.url)})(t,e)})})};return(0,w.jsxs)(p.default,{theme:"padding-product",animation:!1,children:[(0,w.jsx)(b.TextDiv,{theme:"title",className:y.default.name,children:(0,w.jsx)(h.EmojiText,{text:M.name,selectable:!0})}),null!=M.priceAmount1000?(0,w.jsx)(b.TextDiv,{className:y.default.price,color:"dark",theme:"plain",children:(0,w.jsx)(j.default,{product:M,selectable:!0,direction:"inherit"})}):null,(()=>{if(!M.description&&!M.url&&!M.retailerId)return null;const t=!!M.description&&M.description.length>c.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH;let a;return M.description&&(a=(0,w.jsxs)("div",{children:[(0,w.jsx)(h.EmojiText,{selectable:!0,multiline:!0,text:M.description,textLimit:A?1/0:c.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),t&&!A?(0,w.jsx)("span",{className:y.default.more,role:"button",onClick:R,children:` ${_.default.t(1136)}`}):null]})),(0,w.jsxs)(b.TextDiv,{theme:"plain",className:y.default.description,children:[a,B(M.url),M.retailerId&&!e.hideRetailerID?(0,w.jsx)("div",{children:(0,w.jsx)(h.EmojiText,{text:M.retailerId,selectable:!0,direction:"inherit"})}):null]})})(),(()=>{if(!a||!M.fetchedFromServer||!o||M.reviewStatus!==S.PRODUCT_REVIEW_STATUS.APPROVED)return null;const e=_.default.t(1100);return(0,w.jsx)("div",{className:y.default.buttonContainer,title:e,children:(0,w.jsx)(d.default,{a8nText:"product-message-business-btn",className:y.default.button,onClick:a,type:"secondary",children:e})})})(),(()=>{if(!L||!M.fetchedFromServer||!o||M.reviewStatus!==S.PRODUCT_REVIEW_STATUS.APPROVED)return null;const e=_.default.t(1066),t=M.availability===E.ProductAvailability.OUT_OF_STOCK;return(0,w.jsx)("div",{className:y.default.buttonContainer,title:e,children:(0,w.jsx)(d.default,{a8nText:"add-to-cart-btn",className:(0,i.default)(y.default.button,y.default.addToCartButton),onClick:D,type:"secondary",disabled:t,children:(0,w.jsxs)("span",{className:y.default.addToCartContainer,children:[(0,w.jsx)(r.default,{className:(0,i.default)(y.default.addToCartIcon,{[y.default.addToCartIconDisabled]:t})}),e]})})})})()]})};var i=n(a(94184)),l=a(67294),s=n(a(31892)),r=n(a(24170)),d=n(a(39770)),u=n(a(17986)),c=n(a(69618)),f=a(27394),p=n(a(33308)),h=a(65417),m=a(12591),g=a(5124),_=n(a(43725)),C=o(a(86688)),x=a(77975),v=a(97567),S=a(5641),y=n(a(40305)),j=n(a(62089)),E=a(6822),P=a(48870),T=a(27798),I=a(31019),b=a(13923),k=a(49082),w=a(85893)},79188:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsWithDeepLink=function(e){const{isPushed:t=!0,productInfo:{productId:a,businessOwnerJid:o},onBack:S}=e,[y,j]=(0,l.useState)((()=>(0,m.default)({productId:a,businessOwnerJid:o}))),[E,P]=(0,l.useState)((()=>y?"NONE":"PENDING"));if((0,l.useEffect)((()=>{y||(()=>{const e=(0,x.createWid)(o);s.CatalogCollection.findProduct({catalogWid:e,productId:a}).then((()=>{const t=s.CatalogCollection.get(e);j((0,i.default)(t,"catalog").productCollection.get(a)),P("SUCCESS")})).catch((0,n.filteredCatch)(C.E404,(()=>{S(),r.Cmd.openModal((0,v.jsx)(d.default,{onOK:()=>{r.Cmd.closeModal()},okText:g.default.t(1765),children:g.default.t(1105)})),P("ERROR")}))).catch((e=>{(0,p.parseErrorState)(e,(e=>{P(e)}))}))})()}),[]),y)return(0,v.jsx)(_.default,{chat:e.chat,isPushed:t,product:y,onEnd:e.onEnd,onBack:e.onBack,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalog,refreshCarousel:!0,onProductLinkClick:e.onProductLinkClick,onProductMoreInformation:e.onProductMoreInformation,onCartClick:e.onCartClick});return(0,v.jsxs)(u.default,{onDrop:e.onBack,children:[(0,v.jsx)(f.DrawerHeader,{a8n:"drawer-title-profile",title:g.default.t(1095),onBack:e.onBack,type:f.DRAWER_HEADER_TYPE.SMALL}),(0,v.jsx)(c.default,{children:(0,v.jsx)(h.default,{fetchState:E})})]},"product-details-drawer")};var n=a(50796),i=o(a(45095)),l=a(67294),s=a(99989),r=a(88102),d=o(a(52665)),u=o(a(60453)),c=o(a(69637)),f=a(94790),p=a(14375),h=o(a(61055)),m=o(a(26218)),g=o(a(43725)),_=o(a(70107)),C=a(77591),x=a(58021),v=a(85893)},54050:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t,onCancel:a,product:o,prompt:n,centerDrawer:x,sendProductMsg:b,onSend:k}=e,w=(0,i.useContext)(c.DrawerContext),M=()=>{s.Cmd.openModal((0,P.jsx)(y.default,{product:o,onSend:k}),{transition:"modal-flow"}),(0,g.logShareProductViaWALinkClick)({product:o,catalogContext:(0,_.getProductCatalogContext)(w)})},A=()=>{s.Cmd.attachProduct({product:(0,E.unproxy)(o),onSend:k})},O=(0,j.createProductLink)(o.catalogWid.user,o.id.toString());let L,N,D;x&&(L="labels",N="center-column");D=null!=b?(0,P.jsx)(S.default,{onClick:A}):(0,P.jsx)(v.default,{onClick:M});return(0,P.jsxs)(d.default,{theme:L,children:[(0,P.jsx)(f.DrawerHeader,{a8n:"product-link-title",title:h.default.t(1097),onBack:t,onCancel:a,type:f.DRAWER_HEADER_TYPE.SMALL,focusBackOrCancel:!0}),(0,P.jsxs)(u.default,{theme:N,children:[(0,P.jsx)("div",{className:C.default.prompt,children:n}),(0,P.jsx)(l.default,{image:I(o),primary:(0,P.jsx)(p.EmojiText,{text:o.name,direction:"auto"}),theme:"identity",secondary:(0,P.jsx)(m.default,{id:T,href:O,onClick:e=>{e.preventDefault(),M()},noHandle:!0})}),D,(0,P.jsx)(r.default,{elementId:T,onClick:()=>{(0,g.logShareProductCopyLinkClick)({product:o,catalogContext:(0,_.getProductCatalogContext)(w)})}})]})]},"product-link-drawer")};var n=o(a(94184)),i=a(67294),l=o(a(44356)),s=a(88102),r=o(a(26609)),d=o(a(60453)),u=o(a(69637)),c=a(27394),f=a(94790),p=a(65417),h=o(a(43725)),m=o(a(786)),g=a(77975),_=a(97567),C=o(a(15475)),x=a(3013),v=o(a(51628)),S=o(a(23358)),y=o(a(38216)),j=a(61358),E=a(31019),P=a(85893);const T="product-link-anchor";function I(e){const t=e.getProductImageCollectionHead();return t?(0,P.jsx)(x.ProductThumb,{className:(0,n.default)(C.default.productImage,C.default.productImageContainer),mediaData:t.mediaData}):(0,P.jsx)(x.ProductThumbPlaceholder,{className:(0,n.default)(C.default.productThumb,C.default.productThumbContainer)})}},11395:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductListDrawer=function(e){const{catalogId:t,canManageCatalog:a,setScrollOffset:o,onCartClick:Q,onCatalogLinkClick:Y,autoUpdate:$=!1,businessProfile:X,onAddProduct:J,onProductDetail:Z,onProductShare:ee,headerType:te,onOpenSettings:ae,blockCartInterstitialFn:oe=(()=>!1)}=e,ne=(0,z.default)(),ie=(0,s.useContext)(C.DrawerContext),le=(0,F.default)(),se=(0,V.default)(le,100),re=(0,H.useModelValues)(e.contact,["id"]),de=(0,W.default)((()=>new E.default)),ue=()=>{const e=p.CatalogCollection.get(t);return!e||e.stale?null:e},ce=(0,s.useMemo)((()=>u.CartCollection.findCart(re.id.toString())),[re.id]),[fe,pe]=(0,s.useState)(!1),[he,me]=(0,s.useState)(0),[ge,_e]=(0,s.useState)(!1),[Ce,xe]=(0,s.useState)(!1),[ve,Se]=(0,s.useState)(ue),[ye,je]=(0,s.useState)((()=>ce.itemCount)),[Ee,Pe]=(0,s.useState)((()=>ue()?"SUCCESS":"NONE"));(0,U.useListener)(ce,"all",(()=>{const e=ce.itemCount;ye!==e&&je(e)}));const Te=()=>{if(ge)return;const e=p.CatalogCollection.assertGet(t);if(!e.afterCursor)return;const a=e.productCollection.getProductModels().length;pe(!0),me(a),p.CatalogCollection.update(t).then((e=>{if(ne.aborted)return;pe(!1);(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===he&&_e(!0),a*m.default.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&Te()})).catch((()=>{pe(!1),_e(!0)}))},Ie=(0,V.default)((()=>{var t;null===(t=e.onRemoveProduct)||void 0===t||t.call(e),le()}),100),be=$?null==ve?void 0:ve.productCollection:null;(0,U.useListener)(be,"add",se),(0,U.useListener)(be,"remove",Ie);(0,s.useEffect)((()=>{(0,w.logCatalogListView)({catalogOwnerWid:t,catalogContext:(0,O.getProductCatalogContext)(ie),cartToggle:Ce}),ve?Te():p.CatalogCollection.find(t).then((e=>{Se(e),Pe("SUCCESS"),Te()})).catch((0,n.filteredCatch)(q.ServerStatusCodeError,(e=>{403!==e.status&&404!==e.status||(Se(null),Pe("NOT_FOUND"))}))).catch((e=>{(0,y.parseErrorState)(e,(e=>Pe(e)))})),(0,h.default)(t).then((e=>{xe(e),T.GK.supportsFeature(T.GK.F.MD_BACKEND)&&a&&Ce&&!oe()&&(0,r.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&(0,f.default)()}))}),[]);const ke=(0,G.default)((e=>{fe||e.scrollTop+m.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&Te()}),100),we=()=>{null==Q||Q(re.id.toString())},Me=()=>{ve&&(Y(ve,re),(0,w.logCatalogShareLinkClick)({catalogOwnerWid:t,catalogContext:(0,O.getProductCatalogContext)(ie)}))},Ae=()=>{if(Ce&&Q){const e=(0,B.isNumber)(ye)&&ye>0?ye.toString():void 0,a=(0,M.getOnCartClickWithLog)(we,t.toString(),(0,O.getProductCatalogContext)(ie));return(0,K.jsx)(A.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,K.jsx)(c.default,{theme:te===x.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),text:e,title:l.default._("Your cart",null,{hk:"Sn66V"}),onClick:a})}return null};return(0,K.jsxs)(g.default,{theme:"products",onDrop:e.onBack,children:[(0,K.jsx)(x.DrawerHeader,{title:b.default.t(1073),type:e.headerType||x.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(()=>{const e=a&&(0,I.canToggleCartOnOff)()?(0,K.jsx)(A.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,K.jsx)(R.default,{name:"menu"}),title:b.default.t(822),children:(0,K.jsxs)(v.Dropdown,{type:"dropdown_menu",flipOnRTL:!0,dirX:v.DirX.LEFT,children:[(0,K.jsx)(S.DropdownItem,{a8n:"mi-foward menu-item",action:Me,children:b.default.t(479)}),ae&&(0,K.jsx)(S.DropdownItem,{a8n:"mi-settings menu-item",action:ae,children:l.default._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,K.jsx)(A.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,K.jsx)(k.default,{theme:te===x.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),title:l.default._("Catalog link",null,{hk:"M36Dw"}),onClick:Me});return(0,K.jsxs)(K.Fragment,{children:[Ae(),e]})})(),focusBackOrCancel:!0}),(0,K.jsx)(_.default,{onScroll:e=>{var t,a;e.currentTarget&&ke(e.currentTarget),null==o||o(null!==(t=null===(a=e.currentTarget)||void 0===a?void 0:a.scrollTop)&&void 0!==t?t:0)},flatListControllers:[de.current],scrollOffset:e.scrollOffset,children:(()=>{const e=Ce&&Q?we:void 0;if(!ve)return(0,K.jsx)(j.default,{fetchState:Ee});let t;return a&&J&&(t=(0,K.jsx)(d.default,{onClick:()=>J(),theme:"in-list"})),(0,K.jsxs)(K.Fragment,{children:[X&&(0,K.jsx)("div",{"data-a8n":i.default.key("catalog-header"),className:N.default.header,children:(0,K.jsx)(D.default,{profilePicThumb:re.getProfilePicThumb(),contact:re,businessProfile:X})}),(0,K.jsxs)("div",{"data-a8n":i.default.key("catalog-items"),className:N.default.list,children:[t,(0,K.jsx)(L.default,{onCartOpen:e,onProductDetail:Z,flatListController:de.current,catalog:ve,canManageCatalog:a,shareLinks:a,onProductShare:ee}),fe&&(0,K.jsx)(P.default,{})]})]})})()})]})};var n=a(50796),i=o(a(99964)),l=o(a(48360)),s=a(67294),r=a(86945),d=o(a(33889)),u=a(12392),c=o(a(51070)),f=o(a(13712)),p=a(99989),h=o(a(17986)),m=o(a(69618)),g=o(a(60453)),_=o(a(69637)),C=a(27394),x=a(94790),v=a(60811),S=a(71174),y=a(14375),j=o(a(61055)),E=o(a(30855)),P=o(a(29796)),T=a(7293),I=a(57701),b=o(a(43725)),k=o(a(62371)),w=a(77975),M=a(88571),A=a(46346),O=a(97567),L=o(a(74259)),N=o(a(32967)),D=o(a(62647)),R=o(a(23217)),B=a(31515),V=o(a(81559)),F=o(a(59909)),W=o(a(59552)),U=a(19529),H=a(49082),G=o(a(88857)),z=o(a(38080)),q=a(77591),K=a(85893)},62647:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.useOptionalModelValues)(e.profilePicThumb,["imgFull"]),a=(0,d.useModelValues)(e.contact,["id","isMe"]),o=(0,d.useOptionalModelValues)(e.businessProfile,["description"]);return(0,u.jsxs)("div",{className:s.default.header,"data-testid":"product-list-header",children:[(()=>{if(!t)return null;const e=(0,n.getDefaultIcon)(a.id);return(0,u.jsx)("div",{className:s.default.photo,children:(0,u.jsx)(n.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:e,profilePicThumbImg:t.imgFull,spinnerClassName:s.default.spinner,imgClassName:s.default.img,theme:"business"})})})(),(0,u.jsxs)("div",{className:s.default.text,children:[(0,u.jsx)(r.TextDiv,{className:s.default.name,theme:"large",children:(0,u.jsx)(l.Name,{contact:a,selectable:!0,useVerifiedName:!0})}),o&&o.description?(0,u.jsx)("div",{className:s.default.description,children:(0,u.jsx)(i.EmojiText,{text:o.description,direction:"auto",selectable:!0,titlify:!0})}):null]})]})};var n=a(88984),i=a(65417),l=a(12176),s=o(a(23978)),r=a(13923),d=a(49082),u=a(85893)},77776:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t}=e,a=(0,C.useModelValues)(e.product,["id","catalogWid"]),[o,S]=(0,s.useState)({}),[y,j]=(0,s.useState)(""),[E,P]=(0,s.useState)(""),[T,I]=(0,s.useState)(!0),b=e=>{var t,a;return(null===(t=e.complianceInfo)||void 0===t?void 0:t.countryCodeOrigin)===String(f.SyntheticCountryCode.NotApplicable)?Promise.resolve((0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:(0,r.default)(v),children:g.default.t(1077)}),(0,x.jsx)("div",{children:g.default.t(1076)})]})):(0,f.getCountryName)(null===(a=e.complianceInfo)||void 0===a?void 0:a.countryCodeOrigin)};(0,s.useEffect)((()=>{function e(){return(e=(0,i.default)((function*(){yield d.CatalogCollection.findProduct({catalogWid:a.catalogWid,productId:a.id.toString(),productMsgMediaData:(0,_.unproxy)(a).productMsgMediaData,shouldFetchComplianceFields:!0});const e=d.CatalogCollection.get(a.catalogWid),t=(0,l.default)(e,"catalog").productCollection.get(a.id);if(t){var o,n,i,s,r,u,c,p,h,m,g,C,x,v;const e=yield b(t),a=yield(0,f.getCountryName)(null===(o=t.complianceInfo)||void 0===o||null===(n=o.importerAddress)||void 0===n?void 0:n.countryCode),l={importerName:(null===(i=t.complianceInfo)||void 0===i?void 0:i.importerName)||"",countryCodeOrigin:(null===(s=t.complianceInfo)||void 0===s?void 0:s.countryCodeOrigin)||"",importerAddress:{street1:(null===(r=t.complianceInfo)||void 0===r||null===(u=r.importerAddress)||void 0===u?void 0:u.street1)||"",street2:(null===(c=t.complianceInfo)||void 0===c||null===(p=c.importerAddress)||void 0===p?void 0:p.street2)||"",city:(null===(h=t.complianceInfo)||void 0===h||null===(m=h.importerAddress)||void 0===m?void 0:m.city)||"",region:(null===(g=t.complianceInfo)||void 0===g||null===(C=g.importerAddress)||void 0===C?void 0:C.region)||"",postalCode:(null===(x=t.complianceInfo)||void 0===x||null===(v=x.importerAddress)||void 0===v?void 0:v.postalCode)||""}};S(l),I(!1),j(e),P(a)}else __LOG__(3)`Unable to fetch compliance for product: ${a.id}`}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);const k=()=>{if(t)return t()},{countryCodeOrigin:w,importerName:M,importerAddress:A}=o;return(0,x.jsxs)(p.default,{onDrop:k,theme:"striped",children:[(0,x.jsx)(m.DrawerHeader,{a8n:"drawer-title-profile",title:g.default.t(1093),onBack:k,type:m.DRAWER_HEADER_TYPE.SMALL}),(0,x.jsx)(h.default,{theme:T?"center-content":void 0,children:T?(0,x.jsx)(u.ComplianceInfoLoading,{}):(0,x.jsxs)(u.ComplianceInfoGroup,{children:[(0,x.jsx)(u.ComplianceInfoPrimitiveField,{value:y,label:g.default.t(1075)}),w&&![c.default.COMPLIANCE_INFO_CODES.INDIA,f.SyntheticCountryCode.NotApplicable].includes(w)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.ComplianceInfoPrimitiveField,{value:M,label:g.default.t(1091)}),(0,x.jsx)(u.ComplianceInfoStructuralField,{valuesMap:(0,n.default)({importerAddressCountryNameOrigin:E},A),keys:["street1","street2","city","region","postalCode","importerAddressCountryNameOrigin"],label:g.default.t(1079)})]}):null]})})]},"product-details-drawer")};var n=o(a(81109)),i=o(a(48926)),l=o(a(45095)),s=a(67294),r=o(a(56720)),d=a(99989),u=a(27105),c=o(a(69618)),f=a(9978),p=o(a(60453)),h=o(a(69637)),m=a(94790),g=o(a(43725)),_=a(31019),C=a(49082),x=a(85893);const v={marginBottom:"ngycyvoj"}},33382:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{isAvailable:t,fetching:a}=e,o=(0,n.useContext)(l.DrawerContext),h=(0,f.useModelValues)(e.product,["productImageCollection","productMsgMediaData","catalogWid","imageCdnUrl"]),m=h.lazyloadProductImageCollection().toArray();return(0,p.jsx)("div",{className:u.default.imageCarouselContainer,children:(0,p.jsx)(s.default,{images:m,fetching:a,onClick:t?(e,t)=>{(0,r.logDetailImageClick)({product:(0,c.unproxy)(h),catalogContext:(0,d.getProductCatalogContext)(o)});const a={activeProductImage:t,productImageCollection:h.lazyloadProductImageCollection(),getZoomNode:()=>e,product:h};i.Cmd.productImageViewerModal(a,(0,d.getProductCatalogSessionId)(o))}:null,renderFallback:!t,fallbackMediaData:h.productMsgMediaData})})};var n=a(67294),i=a(88102),l=a(27394),s=o(a(98046)),r=a(77975),d=a(97567),u=o(a(66990)),c=a(31019),f=a(49082),p=a(85893)},97802:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onPopupCancel:t,onReport:a,onTellUsMore:o}=e,u=l.default.t(1162),c=(0,d.jsx)("div",{children:l.default.t(1160)},"ReportProductChoicePopup-desc"),f=(0,d.jsx)(n.default,{a8nText:"popup-controls-more",type:"secondary",onClick:o,children:l.default.t(1163)},"ReportProductChoicePopup-moreBtn"),p=(0,d.jsx)(n.default,{a8nText:"popup-controls-report",type:"secondary",onClick:()=>a(),children:l.default.t(1159)},"ReportProductChoicePopup-reportBtn"),h=(0,d.jsx)(n.default,{type:"secondary",onClick:t,children:l.default.t(1574)},0),m=(0,d.jsxs)("div",{className:r.default.buttons,children:[(0,d.jsx)("div",{className:r.default.button,children:f}),(0,d.jsx)("div",{className:r.default.button,children:p}),(0,d.jsx)("div",{className:r.default.button,children:h})]});return(0,d.jsx)(i.HotKeys,{handlers:{escape:t},children:(0,d.jsx)(s.Modal,{title:u,actions:m,children:c})})};var n=o(a(39770)),i=a(55414),l=o(a(43725)),s=a(57224),r=o(a(73738)),d=a(85893)},79387:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(46331),i=a(88102),l=o(a(32973)),s=o(a(43725)),r=a(77975),d=a(96519),u=a(48870),c=a(27798),f=o(a(97802)),p=o(a(14819)),h=a(31019),m=a(85893);class g extends l.default{constructor(){var e;super(...arguments),e=this,this._submitReason=e=>{const{product:t,sessionId:a}=this.props;return(0,r.logReportProduct)({product:(0,h.unproxy)(t),catalogSessionId:a}),(0,d.reportProduct)(t.catalogWid,t.id.toString(),e)},this.onDelete=()=>{this.end()},this.onReport=e=>{u.QPL.markerStart(c.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT),this._onShowSubmittedToast(e)},this.onTellUsMore=()=>{this.push((0,m.jsx)(p.default,{onTellUsMoreSubmit:this.onReport,onCancel:this.onCancel}),"none")},this.onPopupCancel=()=>{this.end()},this.onCancel=()=>{this.end()},this._onReportSubmitted=()=>{this.end()},this._onShowSubmittedToast=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,n.genId)();const{product:o,sessionId:l}=e.props,d=e._submitReason(t),f=new n.ActionType(s.default.t(1116)),p=d.then((()=>((0,r.logReportProductSuccess)({product:(0,h.unproxy)(o),catalogSessionId:l}),u.QPL.markerEnd(c.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,u.QuickLogActionType.SUCCESS),new n.ActionType(`${s.default.t(1115)}. ${s.default.t(1161)}`)))).catch((()=>((0,r.logReportProductFailure)({product:(0,h.unproxy)(o),catalogSessionId:l}),u.QPL.markerEnd(c.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,u.QuickLogActionType.FAIL),__LOG__(3)`error submitting product report`,new n.ActionType(s.default.t(1114),{actionText:s.default.t(1180),actionHandler:()=>e._onShowSubmittedToast(t,a)}))));return i.Cmd.openToast((0,m.jsx)(n.ActionToast,{id:a,initialAction:f,pendingAction:p})),e._onReportSubmitted(),d}}componentDidMount(){this.push((0,m.jsx)(f.default,{onTellUsMore:this.onTellUsMore,onReport:this.onReport,onPopupCancel:this.onPopupCancel,onCancel:this.onCancel}))}}t.default=g},14819:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCancel:t,onTellUsMoreSubmit:a}=e,[o,u]=(0,i.useState)(null),_=()=>{t&&t()},C=e=>{e.target.value&&u(e.target.value)},x=d.default.t(1110),v=(0,h.jsx)("div",{className:(0,n.default)(f.default.section),children:(0,h.jsx)("ul",{className:f.default.reasonList,children:m.map((e=>(0,h.jsx)("li",{children:(0,h.jsxs)("label",{className:f.default.label,children:[(0,h.jsx)("input",{type:"radio",name:e,value:e,onChange:C,className:f.default.input,checked:e===o}),(0,h.jsx)(g,{reason:e})]})},`ReportProductReasonPopup-${e}-option`)))})}),S=(0,h.jsx)(l.default,{a8nText:"popup-controls-submit",type:"primary",onClick:()=>{o?a(o):s.Cmd.openToast((0,h.jsx)(p.Toast,{msg:d.default.t(1117),id:(0,p.genId)()}))},disabled:!o,children:d.default.t(1113)},"ReportProductReasonPopup-submitButton"),y=(0,h.jsx)(l.default,{type:"secondary",a8nText:"popup-controls-cancel",onClick:_,children:d.default.t(1574)},"ReportProductReasonPopup-cancelButton"),j=(0,h.jsxs)("div",{className:f.default.buttons,children:[y,S]});return(0,h.jsx)(r.HotKeys,{handlers:{escape:_},children:(0,h.jsx)(c.Modal,{title:x,actions:j,children:v})})};var n=o(a(94184)),i=a(67294),l=o(a(39770)),s=a(88102),r=a(55414),d=o(a(43725)),u=o(a(56074)),c=a(57224),f=o(a(74463)),p=a(50452),h=a(85893);const m=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"];function g(e){const{reason:t}=e;switch(t){case"NO_MATCH":return(0,h.jsx)(u.default,{id:1108});case"SPAM":return(0,h.jsx)(u.default,{id:1112});case"ILLEGAL":return(0,h.jsx)(u.default,{id:1106});case"SCAM":return(0,h.jsx)(u.default,{id:1111});case"KNOCKOFF":return(0,h.jsx)(u.default,{id:1107});case"OTHER":return(0,h.jsx)(u.default,{id:1109});default:throw new Error(`Invalid reason: ${t}`)}}},82495:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{isEditMode:t,catalog:a,subtitle:o,hideIncompleteRows:h,productsToShow:m,businessProfile:g}=e;const _=(0,p.jsx)(f.default,{onViewShopClick:()=>{(0,u.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_FROM_EDIT_BIZ_PROFILE)},onCommerceManagerClick:()=>{(0,u.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_FROM_EDIT_BIZ_PROFILE)},onCancelClick:()=>{(0,u.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_FROM_EDIT_BIZ_PROFILE)}});return(0,p.jsx)(s.default,{onProductDetail:function(e){if(t)r.Cmd.openModal(_),(0,u.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_PRODUCT_PREVIEW_TILE,{shouldLogJid:!1});else{const t=new URL((0,n.default)(e.url,"product.url"),`https://${d.default.HOSTNAME.FACEBOOK}`);i.default.open(String(t))}},onProductCatalog:function(){t?(r.Cmd.openModal(_),(0,u.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_MANAGE_SHOPS)):(0,l.goToShop)(g)},catalog:a,subtitle:o,hideIncompleteRows:h,productsToShow:m,showShopsLogo:!0})};var n=o(a(45095)),i=o(a(87045)),l=a(94010),s=o(a(42953)),r=a(88102),d=o(a(69618)),u=a(55631),c=o(a(11339)),f=o(a(95042)),p=a(85893)},47834:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.useModelValues)(e.msgInfoParticipant,["t"]),a=(0,d.useModelValues)(e.contact,["id","name","formattedName","notifyName"]),o=(0,u.jsx)(l.DetailImage,{id:a.id}),c=i.Clock.relativeDateAndTimeStr(t.t),f=(0,u.jsx)("span",{title:c,children:c});let p;!a.name&&a.notifyName&&(p=(0,u.jsx)(s.EmojiText,{className:r.default.notifyName,direction:"auto",text:a.notifyName}));return(0,u.jsx)(n.default,{contextEnabled:()=>!1,image:o,primary:(0,u.jsx)(s.EmojiText,{direction:"auto",text:a.formattedName,titlify:!0,ellipsify:!0}),secondary:f,secondaryDetail:p,style:{cursor:"auto"},theme:e.theme,idle:!0})};var n=o(a(49107)),i=a(22683),l=a(88984),s=a(65417),r=o(a(39893)),d=a(49082),u=a(85893)},27105:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleGrievanceOfficerDetailsError=t.handleCustomerCareDetailsError=t.getLegalEntityDetails=t.ComplianceInfoStructuralField=t.ComplianceInfoPrimitiveField=t.ComplianceInfoLoading=t.ComplianceInfoHelpCenterBanner=t.ComplianceInfoGroup=void 0;var n=o(a(48926)),i=a(28298),l=o(a(48360)),s=o(a(56720)),r=o(a(62738)),d=a(93581),u=a(95176),c=o(a(35721)),f=o(a(33308)),p=a(12591),h=a(29623),m=o(a(43725)),g=a(11054),_=a(13923),C=a(85893);const x={fieldLabel:{display:"f804f6gw",lineHeight:"gz7w46tb"},fieldValue:{display:"f804f6gw",wordBreak:"cw3vfol9",whiteSpace:"c2jc77nu"},helpCenterBanner:{fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},displayRight:{textAlign:"cb8ormfa"}},v=()=>l.default._("Not Provided",null,{hk:"43OpXI"});t.ComplianceInfoGroup=e=>{let{title:t,children:a}=e;return(0,C.jsx)(f.default,{title:t,xstyle:i.uiPadding.vert8,children:a})};t.ComplianceInfoPrimitiveField=e=>{let{value:t,label:a,forceLTR:o}=e;return(0,C.jsxs)(S,{children:[(0,C.jsx)(E,{value:t,forceLTR:o}),(0,C.jsx)(j,{label:a})]})};t.ComplianceInfoStructuralField=e=>{let{valuesMap:t={},keys:a=[],label:o}=e;const n=a.reduce(((e,a)=>t[a]?e.concat(t[a]):e),[]),i=n.length?n.join(", "):v();return(0,C.jsxs)(S,{children:[(0,C.jsx)(E,{value:i}),(0,C.jsx)(j,{label:o})]})};const S=e=>{let{children:t}=e;return(0,C.jsx)(c.default,{multiline:!0,restrictSpacing:!0,children:(0,C.jsx)("div",{className:(0,s.default)(i.uiPadding.vert8),children:t})})};t.ComplianceInfoLoading=()=>(0,C.jsx)(h.FlexRow,{align:"center",justify:"center",a8nText:"compliance-info-loading",children:(0,C.jsx)(h.FlexItem,{children:(0,C.jsx)(g.Spinner,{})})});t.ComplianceInfoHelpCenterBanner=e=>{let{xstyle:t}=e;return(0,C.jsxs)("div",{className:(0,s.default)(x.helpCenterBanner,t),"data-testid":"compliance-help-center-banner",children:[l.default._("Indian law requires additional information from businesses selling online.",null,{hk:"1zuHU2"})," ",(0,C.jsx)(p.ExternalLink,{href:"https://faq.whatsapp.com/general/account-and-profile/how-to-comply-with-the-laws-for-selling-online-in-India",children:l.default._("Learn more",null,{hk:"1JNnQ1"})})]})};const y=function(){var e=(0,n.default)((function*(e){const t=(e=>(Array.isArray(e)?e[0]:e).serialize())(yield d.BusinessProfileCollection.update(e,{getMerchantCompliance:!0}));if(t)return t.legalEntityDetails||void 0;__LOG__(3)`compliance: cannot fetch business details (${e.toString()})`}));return function(){return e.apply(this,arguments)}}();t.getLegalEntityDetails=y;const j=e=>{let{label:t}=e;return(0,C.jsx)("div",{className:(0,s.default)(x.fieldLabel),"data-testid":"compliance-info-field-label",children:(0,C.jsx)(_.TextSpan,{theme:"muted",children:t})})},E=e=>{let{value:t,forceLTR:a=!1}=e;const o=m.default.isRTL();return(0,C.jsx)("div",{className:(0,s.default)(x.fieldValue,i.uiMargin.vert3,o&&a&&x.displayRight),dir:a||!o?"ltr":"rtl","data-testid":"compliance-info-field-value",children:t||v()})};t.handleCustomerCareDetailsError=(e,t,a,o)=>{(0,u.existsCustomerCareDetailsContact)(e,t,a,o)||(0,r.default)(l.default._("At least one phone number is required. Please provide another phone number before removing this.",null,{hk:"2LGoJd"}))};t.handleGrievanceOfficerDetailsError=(e,t,a,o)=>{(0,u.existsGrievanceOfficerDetailsContact)(e,t,a,o)||(0,r.default)(l.default._("At least one contact method is required. Please provide another contact method first before removing this.",null,{hk:"NXBiy"}))}},35721:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const a=null!=e.side?(0,d.jsx)("div",{className:(0,l.default)(u.side),children:e.side}):null,o=null===(t=e.separator)||void 0===t||t,c=(0,i.default)((0,l.default)(u.container,e.xstyle),e.className,{[s.default.separator]:o});return(0,d.jsx)("div",{"data-a8n":n.default.key(e.a8nText),className:c,role:e.onClick?"button":null,"data-testid":o?"container_with_separator":"container",onClick:e.onClick,children:(0,d.jsxs)("div",{className:(0,i.default)(s.default.block,(0,l.default)(u.block,e.blockXstyle,e.multiline&&u.blockMultiline)),children:[(0,d.jsx)("div",{className:(0,i.default)((0,l.default)(u.main,e.multiline&&u.mainMultiline,e.restrictSpacing&&u.mainRestrictSpacing,r.isOSMac&&u.mainMac)),children:e.children}),a]})})};var n=o(a(99964)),i=o(a(94184)),l=o(a(56720)),s=o(a(61388)),r=a(12209),d=a(85893);const u={container:{paddingStart:"e8k79tju"},block:{display:"p357zi0d",alignItems:"gndfcl4n",height:"k45dudtp",paddingEnd:"bcymb0na"},blockMultiline:{height:"bvcnfjzh"},main:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",marginTop:"kv6wexeh",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},mainMultiline:{paddingTop:"hc2u0oym",paddingBottom:"myel2vfb",whiteSpace:"hmy10g0s"},mainMac:{marginTop:"tt8xd2xn"},mainRestrictSpacing:{paddingTop:"i5tg98hk",paddingBottom:"przvwfww",whiteSpace:"le5p0ye3"},side:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginStart:"jwvfxh5v"}}},31042:(e,t,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findFirstWebLink=void 0,t.useLinkPreview=function(e,t){const[a,o]=(0,r.useState)(null),n=()=>{o(null)};return(0,r.useEffect)((()=>{if(n(),!e)return;const a=new d.default,r=a.signal;return(0,l.default)((function*(){try{const a=yield(0,_.default)((0,p.default)(e,!0),r),n=null==a?void 0:a.data;if(!n)return;if(o(n),!n.thumbnailHQ)return;const l=yield function(){return v.apply(this,arguments)}(n.thumbnailHQ,r,t);if(!l)return;o((0,i.default)((0,i.default)({},n),l))}catch(e){if(e.name===s.ABORT_ERROR)return;__LOG__(2)`useLinkPreview: error`}}))(),()=>{a.signal.aborted||a.abort()}}),[e,t]),{linkPreview:a,clearLinkPreview:n}};var i=n(a(81109)),l=n(a(48926)),s=a(89385),r=a(67294),d=n(a(70714)),u=a(19773),c=n(a(69618)),f=n(a(46220)),p=n(a(75820)),h=o(a(86688)),m=a(61596),g=n(a(34949)),_=n(a(84644)),C=n(a(15554)),x=n(a(74460));function v(){return(v=(0,l.default)((function*(e,t,a){try{const o=yield(0,_.default)(g.default.createFromBase64Jpeg(e),t),n=yield(0,x.default)({thumbnail:o,mediaType:m.MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:(0,C.default)(),uploadOrigin:(0,f.default)(a),forwardedFromWeb:!1,signal:t,timeout:c.default.MMS_THUMBNAIL_UPLOAD_TIMEOUT}),i=n.mediaEntry;if(!i)return;return{mediaKey:i.mediaKey,mediaKeyTimestamp:i.mediaKeyTimestamp,thumbnailDirectPath:i.directPath,thumbnailSha256:n.filehash,thumbnailEncSha256:i.encFilehash}}catch(e){if(e.name===s.ABORT_ERROR)return;__LOG__(2)`useLinkPreview.uploadHQPreview: error`}}))).apply(this,arguments)}t.findFirstWebLink=e=>{const t=(0,u.removeCodeBlocks)(e),a=h.findLinks(t,!0)[0];if(a)return a.url}},98046:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{images:t,renderFallback:a,fallbackMediaData:o,fetching:s,onClick:x}=e,v=(0,l.useRef)(null),S=(0,l.useRef)(null),y=(0,l.useRef)(null),j=(0,l.useRef)(null),E=(0,l.useRef)(null),[P,T]=(0,l.useState)(null),[I,b]=(0,l.useState)(t.filter((e=>e.mediaData.mediaStage===f.MEDIA_DATA_STAGE.RESOLVED)).length),[k,w]=(0,l.useState)(!1),M=I===t.length,A=()=>b((e=>e+1));(0,l.useEffect)((()=>{let e=null;if(!M&&!a){var t,o;const a=S.current;if(!a)return;null===(t=y.current)||void 0===t||t.controller.abort(),e=new r.default;const i=e.signal,l=((null===(o=y.current)||void 0===o?void 0:o.promise)||Promise.resolve()).then((()=>(0,_.default)(a,{opacity:[1,0]},{delay:75,duration:50}))),s=(0,p.default)(l,i).then((()=>{if(i.aborted)throw new n.AbortError;w(!0)})).catch((0,n.catchAbort)((()=>{(0,_.default)(a,"stop",!0)}))).finally((()=>{y.current=null}));y.current={promise:s,controller:e}}return()=>{var t;null===(t=e)||void 0===t||t.abort()}}),[M,a]);const O=()=>{var e;return(null===(e=v.current)||void 0===e?void 0:e.children)?v.current.scrollWidth===v.current.offsetWidth?null:0===v.current.scrollLeft?"next":v.current.scrollWidth-1<=v.current.scrollLeft+v.current.offsetWidth?"prev":"both":null};if((0,l.useEffect)((()=>{T(O())}),[M]),a&&0===t.length)return(0,C.jsx)("div",{className:u.default.carousel,dir:"ltr",children:(0,C.jsx)("div",{className:(0,i.default)(u.default.contentContainer,u.default.slidesContainer),children:o&&(0,C.jsx)(c.default,{altText:"",mediaData:o,renderFallback:!0,singleSlide:!0})})});let L,N,D;const R=()=>{j.current=null;const e=O();P!==e&&T(e)};if(t.length>1){const e=()=>{const e=v.current;if(null!=e&&("prev"===P||"both"===P)){let t=0;const a=e.scrollLeft+Math.floor(e.offsetWidth/2);let o=e.lastElementChild;for(;o instanceof HTMLElement&&0===t;){const e=o.offsetLeft+Math.floor(o.offsetWidth/2);e<a&&(t=e-a),o=o.previousElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},t=()=>{const e=v.current;if(null!=e&&("next"===P||"both"===P)){let t=0;const a=e.scrollLeft+Math.floor(e.offsetWidth/2);let o=e.firstElementChild;for(;o instanceof HTMLElement&&0===t;){const e=o.offsetLeft+Math.floor(o.offsetWidth/2);a<e&&(t=e-a),o=o.nextElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},a=()=>{E.current=null;const e=O();P!==e&&T(e)};D=()=>{null==E.current&&(E.current=requestAnimationFrame(a))},M&&null!=P&&(L=(0,C.jsx)(d.ChevronButton,{type:d.ButtonType.Prev,onClick:e,onKeyDown:e,disabled:"prev"!==P&&"both"!==P,theme:m.RoundTheme.Small,overMedia:!0}),N=(0,C.jsx)(d.ChevronButton,{type:d.ButtonType.Next,onClick:t,onKeyDown:t,disabled:"next"!==P&&"both"!==P,theme:m.RoundTheme.Small,overMedia:!0}))}const B=1===t.length,V=t.map(((e,t)=>(0,C.jsx)(c.default,{altText:"",image:e,singleSlide:B,mediaData:e.mediaData,onClick:x,onLoad:A},t))),F=M?null:(0,C.jsx)("div",{className:(0,i.default)(u.default.contentContainer,u.default.spinnerContainer),children:(0,C.jsx)("div",{className:u.default.spinner,ref:S,children:(0,C.jsx)(g.Spinner,{color:"default",size:50,stroke:4})})}),W=(0,i.default)(u.default.carousel,{[u.default.loaded]:!s&&M,[u.default.fadeIn]:k});return(0,C.jsxs)("div",{className:W,dir:"ltr",children:[F,(0,C.jsx)("div",{ref:v,className:(0,i.default)(u.default.contentContainer,u.default.slidesContainer),onScroll:D,children:V}),L,N,(0,C.jsx)(h.default,{onResize:()=>{null==j.current&&(j.current=requestAnimationFrame(R))}})]})};var n=a(89385),i=o(a(94184)),l=a(67294),s=o(a(30523)),r=o(a(70714)),d=a(61991),u=o(a(63696)),c=o(a(98491)),f=a(58668),p=o(a(84644)),h=o(a(8694)),m=a(82857),g=a(11054),_=o(a(75426)),C=a(85893);s.default.polyfill()},98491:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294),i=o(a(89882)),l=a(58668),s=a(49082),r=a(85893);var d=e=>{let{mediaData:t,altText:a,image:o,singleSlide:d,renderFallback:u,onClick:c,onLoad:f,forwardRef:p}=e;const{fullHeight:h,fullWidth:m,mediaStage:g,renderableUrl:_}=(0,s.useModelValues)(t,["fullHeight","fullWidth","mediaStage","renderableUrl"]),C=(0,n.useRef)(null),x=(0,n.useRef)(g===l.MEDIA_DATA_STAGE.RESOLVED);(0,n.useEffect)((()=>{!f||x.current||u||g!==l.MEDIA_DATA_STAGE.RESOLVED||(f(),x.current=!0)}),[f,u,g]);const v=!!d;let S=m&&h?m/h:.8;S<.8&&(S=.8),S>1.91&&(S=1.91),S>1&&!v&&(S=1);const y={width:v&&S<1?100*S+"%":1!==S||d?null:"100%"},j={paddingTop:`${Math.floor(100/S)}%`},E={cursor:""+(c?"pointer":"auto")};return(0,r.jsx)("div",{ref:p?e=>p(e):null,className:i.default.slide,style:y,children:(0,r.jsx)("div",{className:i.default.slideInnerContainer,style:j,children:(0,r.jsx)("img",{ref:C,alt:a,src:_,className:i.default.image,style:E,draggable:"false",onClick:()=>{c&&C.current&&o&&c(C.current,o)}})})})};t.default=d},60263:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyCanvas=f,t.MediaGalleryView=function(e){const{mediaCollection:t,fullCollection:a,chat:o,onScroll:s,justify:d}=e,h=e.medias||e.productMedias,m="new-chat-info"===e.theme;if(!h)return null;let g=(0,i.default)(r.default.container,{[r.default.drawer]:a,[r.default.galleryEmpty]:0===t.length,[r.default.justifySpaceBetween]:"space-between"===d,[r.default.themeNewChatInfo]:m}),_=[...h];if(t.queryMediaBefore&&(a||_.length<6)){const e=(0,i.default)(r.default.more,r.default.canvasComponent,{[r.default.canvasSecondRow]:!a&&_.length>=3,[r.default.canvasFirst]:0===t.length});_.push((0,c.jsx)("div",{className:e,children:(0,c.jsx)(u.Spinner,{stroke:6,size:24})},"spinner"))}if(0===t.length){if(a)return t.queryMediaBefore?(0,c.jsx)("div",{className:(0,i.default)(r.default.drawer,r.default.drawerBody),children:(0,c.jsx)(l.Loading,{})}):(0,c.jsx)(l.MediaMsgs,{});if(m)return null;t.queryMediaBefore||t.hasMediaBefore||(g=(0,i.default)(g,r.default.galleryEmpty),_=[p(Math.max(o?o.docCount:0,0),Math.max(o?o.linkCount:0,0),Math.max(o?o.productCount:0,0))])}else for(let e=0;e<6;e++)_.push((0,c.jsx)(f,{},"empty"+e));return(0,c.jsx)("div",{onScroll:s,"data-a8n":n.default.key("media-gallery"),className:g,children:_})};var n=o(a(99964)),i=o(a(94184)),l=a(85600),s=o(a(43725)),r=o(a(97018)),d=a(64551),u=a(11054),c=a(85893);function f(){return(0,c.jsx)("div",{className:r.default.canvasEmpty})}function p(e,t,a){const o=[];return null!=e&&e>0&&o.push(s.default.t(410,{count:e,_plural:e})),null!=t&&t>0&&o.push(s.default.t(695,{count:t,_plural:t})),d.ServerProps.productMediaAttachments&&null!=a&&a>0&&o.push(s.default.t(1121,{count:a,_plural:a})),o.length>0?o.join(s.default.t(420)):d.ServerProps.productMediaAttachments?s.default.t(951):s.default.t(950)}},27315:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(1769)),i=a(52835),l=a(18609),s=a(72761),r=o(a(8103)),d=o(a(68662));const u=new n.default;class c extends((0,s.PluggableInput)([i.EmojiPlugin,u,r.default])){}t.default=c,c.EmojiSuggestions=(0,d.default)(l.EmojiSuggestions,{plugin:u})},52711:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)("div",{className:(0,n.default)(l.default.icon,{[l.default.transparent]:e.theme&&"transparent"===e.theme,[l.default.compact]:e.theme&&"compact"===e.theme,[l.default.disabled]:e.disabled},(0,i.default)(e.xstyle)),children:e.children})};var n=o(a(94184)),i=o(a(56720)),l=o(a(34435)),s=a(85893)},10595:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerDetailsStickerPackInfo=function(e){const{name:t,publisher:a,theme:o}=e;return(0,l.jsxs)(i.TextDiv,{theme:"plain",xstyle:[s.container,o===r.StickerStore&&s.stickerStore,o===r.MediaViewer&&s.mediaViewer],children:[t&&(0,l.jsx)(n.EmojiText,{xstyle:s.name,text:t}),t&&a&&(0,l.jsx)(n.EmojiText,{text:" • "}),a&&(0,l.jsx)(n.EmojiText,{text:a})]})},t.Theme=void 0;o(a(56720));var n=a(65417),i=a(13923),l=a(85893);const s={container:{color:"hp667wtd",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",textAlign:"qfejxiq4"},stickerStore:{marginBottom:"e2xccmyv"},mediaViewer:{marginBottom:"r2u2pyhj"},name:{fontSize:"enbbiyaj",lineHeight:"l85iiqla",color:"t0mgield"}},r=a(54302).Mirrored(["StickerStore","MediaViewer"]);t.Theme=r},99967:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(23279)),i=o(a(45095)),l=a(67294),s=a(76716),r=o(a(69618)),d=o(a(34553)),u=a(99234),c=a(84387),f=o(a(34949)),p=o(a(65932)),h=a(65127),m=a(65044),g=a(85893);const _=(0,n.default)(((e,t)=>{(0,u.setVideoVolumeSettings)(e,t)}),500);class C extends l.PureComponent{constructor(){super(...arguments),this.checkIteration=0,this.checkForSuccessInterval=0,this.hasCalledPlaying=!1,this.mediaBlobWasDownloadedBeforeMount=Boolean(this.props.mediaData.mediaBlob),this.refVideo=(0,l.createRef)(),this.onVolumeChange=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;t&&_(t.volume,t.muted)},this.startCheckForSuccess=()=>{this.checkIteration=0,this.checkForSuccessInterval||(this.checkForSuccessInterval=setInterval(this.checkForSuccess,250))},this.clearCheckForSuccess=()=>{this.checkForSuccessInterval&&(clearInterval(this.checkForSuccessInterval),this.checkIteration=0,this.checkForSuccessInterval=0)},this.checkForSuccess=()=>{var e;if(m.Socket.state!==m.STATE.CONNECTED)return;this.checkIteration++;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current,a=null==t?void 0:t.buffered;(null==a?void 0:a.length)&&a.end(0)>0?this.onPlaying():this.checkIteration>240&&this.clearCheckForSuccess()},this.onPlayerError=()=>{this.clearCheckForSuccess()},this.pause=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;t&&(t.paused||t.pause())},this.onPlaying=()=>{this.clearCheckForSuccess()},this.onLoadedMetadata=e=>{this.setStartTime();const{onLoadedMetadata:t}=this.props;t&&t(e)},this.setStartTime=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;null!=this.props.startTime&&0!==this.props.startTime&&t&&(t.currentTime=this.props.startTime)},this.onContextMenu=e=>{this.props.disableContextMenu&&e.preventDefault()}}componentDidMount(){this._updateVideoUserPrefs();const e=(0,i.default)(this.refVideo.current,"this.refVideo.current");this._unregisterFromAudioChannel=s.MainAudioChannel.registerMedia(e),this.props.refVideo&&this.props.refVideo(this.refVideo)}componentWillUnmount(){this._unregisterFromAudioChannel(),_.flush(),this.clearCheckForSuccess(),this.pause(),h.UA.isBlink&&this.refVideo.current&&(0,d.default)(this.refVideo.current)}componentDidUpdate(e){this._updateVideoUserPrefs(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}_updateVideoUserPrefs(){var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;if(t){const e=(0,u.getVideoVolumeSettings)();e&&("number"==typeof e.volume&&(t.volume=e.volume),"boolean"==typeof e.muted&&(t.muted=e.muted)),v()&&this.props.autoPlay&&this.startCheckForSuccess()}}render(){const e=this.props,{mediaData:t}=e,a=t.mediaBlob;let o;const n=t.streamable&&t.isStreamable();if((this.mediaBlobWasDownloadedBeforeMount||!n)&&a instanceof f.default)o=a.url();else{if(!t.streamable||!t.isStreamable())return null;o=`${r.default.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`}const i=v()&&!e.autoPlay?this.startCheckForSuccess:void 0;return(0,g.jsx)("video",{ref:this.refVideo,src:o,poster:e.poster,className:e.className,controls:e.controls,autoPlay:e.autoPlay,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:i,onPlaying:this.onPlaying,onError:this.clearCheckForSuccess,onContextMenu:this.onContextMenu,children:e.children})}}C.CONCERNS={msg:["id"],mediaData:["mediaBlob","streamable"]},C.displayName="VideoTag";var x=(0,c.ListenerHOC)((0,p.default)(C,C.CONCERNS));function v(){return h.UA.isGecko||h.UA.isSafari}t.default=x},35400:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalog:t,onSend:a}=e,o=(0,s.createCatalogLink)(t.id.user),d=t.id.equals((0,n.getMaybeMeUser)())?`${i.default.t(1071)} ${o}`:o;return(0,r.jsx)(l.default,{text:d,pushTransition:"none",popTransition:"none",onSend:a})};var n=a(99234),i=o(a(43725)),l=o(a(24158)),s=a(61358),r=a(85893)},38216:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,onSend:a}=e,o=(0,s.createProductLink)(t.catalogWid.user,t.id.toString()),d=t.catalogWid.equals((0,n.getMaybeMeUser)())?`${i.default.t(1118)} ${o}`:o;return(0,r.jsx)(l.default,{text:d,pushTransition:"none",popTransition:"none",onSend:a})};var n=a(99234),i=o(a(43725)),l=o(a(24158)),s=a(61358),r=a(85893)},24158:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(48926)),i=a(80140),l=a(88102),s=o(a(69618)),r=o(a(32973)),d=o(a(43725)),u=a(56728),c=a(18963),f=a(5524),p=a(64551),h=o(a(9031)),m=a(85893);class g extends r.default{constructor(){var e;super(...arguments),e=this,this._selected=[],this._getSelected=()=>this._selected,this._handleSelectionChange=(e,t,a)=>{this._selected=a},this._handleForwardConfirmed=e=>{this._send(e)},this._handleCancel=()=>{this.end()},this._send=function(){var t=(0,n.default)((function*(t){const{text:a,title:o,onSend:n}=e.props;if(1===t.length){const o=t[0];yield e._pasteText(o,a),e.end(),window.innerWidth<=s.default.LAYOUT_2COLUMNS_MAX_WIDTH&&l.Cmd.closeDrawerRight()}else e.push((0,m.jsx)(h.default,{defaultText:a,title:o||d.default.t(867),onSend:(a,o)=>e._handleSend(t,a,o),onBack:e._handleBack}));n&&n()}));return function(){return t.apply(this,arguments)}}(),this._handleSend=(e,t,a)=>{this._sendText(e,t,a),this.end()},this._handleBack=()=>{this.pop()},this._pasteText=function(){var t=(0,n.default)((function*(t,a){yield e._ensureContactUnblocked(t),t.active?l.Cmd.pasteChatTextInput(t,a):(t.setComposeContents({text:a}),l.Cmd.openChatFromUnread(t).then((e=>{e&&l.Cmd.focusChatTextInput(t)})))}));return function(){return t.apply(this,arguments)}}(),this._sendText=(t,a,o)=>{t.forEach(function(){var t=(0,n.default)((function*(t){yield e._ensureContactUnblocked(t),l.Cmd.once("ui_idle",(()=>{(0,f.sendTextMsgToChat)(t,a,{linkPreview:o})}))}));return function(){return t.apply(this,arguments)}}())},this._ensureContactUnblocked=function(){var e=(0,n.default)((function*(e){e.isUser&&e.contact.isBlocked()&&(yield(0,i.unblockContact)(e.contact))}));return function(){return e.apply(this,arguments)}}()}componentDidMount(){this.push((0,m.jsx)(u.SelectModal,{title:this.props.title||d.default.t(867),listType:u.ListType.CHAT_SELECT_MODAL,getInitialItems:this._getSelected,maxItems:p.ServerProps.multicastLimitGlobal,onConfirm:this._handleForwardConfirmed,onCancel:this._handleCancel,onSelectionChanged:this._handleSelectionChange,singleSelectionFooterType:c.FooterType.NEXT,multipleSelectionFooterType:c.FooterType.NEXT}))}}t.default=g},10121:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(32973)),i=o(a(61752)),l=a(85893);class s extends n.default{constructor(){super(...arguments),this.closeStatusViewer=()=>{this.end()}}componentDidMount(){this.push((0,l.jsx)(i.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}t.default=s},62921:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(99964)),i=o(a(48360)),l=a(67294),s=o(a(39935)),r=a(16593),d=o(a(60453)),u=o(a(69637)),c=a(94790),f=a(92052),p=a(13923),h=a(49082),m=a(85893);var g=(0,l.forwardRef)(((e,t)=>{const{settings:a,onClose:o}=e,{archive:l}=(0,h.useModelValues)(a,["archive"]),g=!l.classic;return(0,m.jsxs)(d.default,{ref:t,children:[(0,m.jsx)(c.DrawerHeader,{title:i.default._("Archive settings",null,{hk:"1YI0jC"}),type:c.DRAWER_HEADER_TYPE.LARGE,onBack:o}),(0,m.jsx)(u.default,{children:(0,m.jsxs)("div",{className:s.default.section,children:[(0,m.jsx)("div",{"data-a8n":n.default.key("auto-unarchive-setting"),className:s.default.control,children:(0,m.jsx)(r.CheckBox,{onChange:()=>{const e=!l.classic;(0,f.setArchiveClassicSetting)(e)},checked:g})}),(0,m.jsxs)("div",{"data-a8n":n.default.key("auto-unarchive-setting-text"),children:[i.default._("Keep chats archived",null,{hk:"IqSCS"}),(0,m.jsx)(p.TextDiv,{theme:"muted",children:i.default._("Archived chats will remain archived when you receive a new message",null,{hk:"jrtLe"})})]})]})})]})}));t.default=g},5970:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t}=e,[a,o]=(0,l.useState)(!1),[x,v]=(0,l.useState)(!1),[S,y]=(0,l.useState)(""),j=e=>{y(e)},E=()=>{o(!0);let e=!0;f.QPL.markerStart(p.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL),(0,s.handleCollectionAppeal)(t,S).then((()=>{o(!1),v(!0),e=!1,f.QPL.markerEnd(p.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,f.QuickLogActionType.SUCCESS)})).catch((0,n.filteredCatch)(_.ServerStatusCodeError,(()=>{r.Cmd.openToast((0,C.jsx)(g.Toast,{msg:i.default._("Something went wrong and your request wasn't submitted. Try again.",null,{hk:"3sAwQH"}),id:(0,g.genId)("catalog_collection_appeal_submission_failed")})),o(!1)}))).finally((()=>{e&&f.QPL.markerEnd(p.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,f.QuickLogActionType.FAIL)}))},P=()=>{r.Cmd.closeModal()};if(x)return(0,C.jsx)(d.default,{title:i.default._("Request review",null,{hk:"1Rp2pL"}),onOK:P,children:(0,C.jsx)(h.TextDiv,{children:i.default._("We will review the collection and if it meets our guidelines, it will be added to your catalog.",null,{hk:"y5vML"})})});{const e=S.length<1||a;return(0,C.jsx)(d.default,{title:i.default._("Request review",null,{hk:"1Rp2pL"}),onOK:E,onCancel:P,okDisabled:e,children:(0,C.jsxs)("form",{children:[(0,C.jsx)(m.TextInput,{a8n:"confirm-popup-text-input",placeholder:i.default._("Enter reason for this request...",null,{hk:"3U5nE7"}),onChange:j,value:S,maxLength:1e3}),(0,C.jsx)(c.ExternalLink,{href:u.default.WA_COMMERCE_POLICY_URL,children:i.default._("Learn More",null,{hk:"FZuUT"})})]})})}};var n=a(50796),i=o(a(48360)),l=a(67294),s=a(47217),r=a(88102),d=o(a(52665)),u=o(a(69618)),c=a(12591),f=a(48870),p=a(27798),h=a(13923),m=a(90011),g=a(50452),_=a(77591),C=a(85893)},62738:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(88102),i=o(a(52665)),l=o(a(43725)),s=a(85893);var r=e=>{n.Cmd.openModal((0,s.jsx)(i.default,{okText:l.default.t(1765),onOK:()=>n.Cmd.closeModal(),children:e}))};t.default=r},13712:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=new c.CoolOffNux(m,_,{COOL_OFF_START_STORAGE_KEY:u.CoolOffPeriodKeys.CATALOG,MAX_VIEWS_IN_DAYS:1,COOL_OFF_DURATION_IN_DAYS:1});if(e.shouldShow()){const t=(0,h.jsx)(l.default,{onOK:()=>{e.dismiss(),i.Cmd.closeModal()},children:(0,h.jsxs)(s.FlexColumn,{align:"center",children:[(0,h.jsx)(s.FlexItem,{xstyle:g.graphic,children:(0,h.jsx)(f.default,{name:"cart-interstitial-graphic"})}),(0,h.jsx)(p.TextHeader,{theme:"popup-title",children:r.default.t(972)}),(0,h.jsx)(p.TextParagraph,{color:"secondary",className:n.default.description,children:r.default.t(971)})]})});i.Cmd.openModal(t),e.show(),e.startCoolOffToday()}};o(a(56720));var n=o(a(22036)),i=a(88102),l=o(a(52665)),s=a(29623),r=o(a(43725)),d=o(a(11339)),u=a(61653),c=a(1710),f=o(a(23217)),p=a(13923),h=a(85893);const m=u.NuxKeyTypes.COOL_OFF_NUX.CART_INTERSTITIAL,g={graphic:{marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",color:"bc38n4nm"}},_=d.default.BANNER_TYPES.SMB_CATALOG_CART_INTERSTITIAL},92351:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onOpenCollections:t}=e;const[a,o]=(0,n.useState)(!1),c=i.CatalogCollection.get((0,s.getMeUser)());return(0,d.useListener)(null==c?void 0:c.collections,"change",(()=>{o(!0)})),a&&(0,u.jsx)(r.default,{children:(0,u.jsx)(l.default,{onClick:t})})};var n=a(67294),i=a(99989),l=o(a(31502)),s=a(99234),r=o(a(26293)),d=a(19529),u=a(85893)},31502:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(86945),i=a(99989),l=o(a(87919)),s=a(17239),r=o(a(95993)),d=a(99234),u=o(a(43725)),c=o(a(11339)),f=a(61653),p=o(a(25550)),h=a(1710),m=a(85893);const g=f.NuxKeyTypes.COOL_OFF_NUX.COLLECTIONS,_={COOL_OFF_DURATION_IN_DAYS:2,VIEWS_BEFORE_COOL_OFF_IN_DAYS:1,CLICKS_BEFORE_COOL_OFF:1,MAX_VIEWS_IN_DAYS:2,COOL_OFF_START_STORAGE_KEY:f.CoolOffPeriodKeys.CATALOG};class C extends p.default{render(){const{onClick:e}=this.props,t=new h.CoolOffNux(g,c.default.BANNER_TYPES.SMB_COLLECTION_CREATION,_),a=(0,m.jsx)("span",{className:l.default.actionText,children:u.default.t(966)});return(0,m.jsx)(r.default,{title:u.default.t(968),subtitle:u.default.t(967),actionText:a,onClick:e,nuxManager:t,theme:"nuxBlue"})}static shouldShow(){return(0,n.getABPropConfigValue)("web_abprop_collections_nux_banner")&&s.Conn.isSMB&&function(){const e=i.CatalogCollection.get((0,d.getMeUser)());if(null==e||null==e.collections)return!1;const t=e.collections.getCollectionModels(!0);return e.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))&&0===t.length}()&&(0,h.shouldShowNUX)(g,_)}}t.default=C,C.displayName="CollectionsBanner"},23358:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.jsx)(n.default,{a8nText:"li-share-link",icon:(0,r.jsx)(s.default,{name:"forward",className:l.default.icon}),onClick:e.onClick,children:i.default.t(1254)})};var n=o(a(64738)),i=o(a(43725)),l=o(a(98653)),s=o(a(23217)),r=a(85893)},39902:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{a8nText:t,icon:a,iconWidth:o,iconHeight:c,label:f,disabled:p,xstyle:h,theme:m,onClick:g}=e;const _="new-chat-info"===m,{isHovered:C,onMouseEnter:x,onMouseLeave:v}=function(){const[e,t]=(0,n.useState)(!1),a=(0,n.useCallback)((()=>{t(!0)}),[]),o=(0,n.useCallback)((()=>{t(!1)}),[]);return{isHovered:e,onMouseEnter:a,onMouseLeave:o}}(),S=(0,d.jsx)(s.default,{name:a,directional:!0,color:"teal",width:o,height:c});if(!_)return(0,d.jsxs)("div",{className:(0,i.default)(u.button,p&&u.disabled,h),children:[(0,d.jsx)("div",{onMouseEnter:x,onMouseLeave:v,children:(0,d.jsx)(l.Round,{inverted:!0,onClick:g,disabled:p,a8nText:t,hideBackground:!C,children:S})}),(0,d.jsx)("div",{className:(0,i.default)(u.label,_&&u.labelForNewChatInfo),children:f})]});return(0,d.jsxs)("div",{className:(0,i.default)(u.button,p&&u.disabled,h),onMouseEnter:x,onMouseLeave:v,children:[(0,d.jsx)(l.Round,{inverted:!0,onClick:g,disabled:p,a8nText:t,hideBackground:p||!C,children:S}),(0,d.jsx)(r.default,{xstyle:[u.label,_&&u.labelForNewChatInfo],disabled:p,a8nText:t,onClick:g,children:f})]})};var n=a(67294),i=o(a(56720)),l=a(82857),s=o(a(23217)),r=o(a(1784)),d=a(85893);const u={button:{textAlign:"qfejxiq4"},label:{marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",marginTop:"opp68qpq",fontSize:"ovllcyds"},labelForNewChatInfo:{marginTop:"qt60bha0",color:"jq3rn4u7"},disabled:{opacity:"ge6flnsz"}}},26609:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{elementId:t,onClick:a}=e;return document.queryCommandSupported("copy")?(0,f.jsx)(r.default,{a8nText:"li-copy-link",icon:(0,f.jsx)(u.default,{name:"copy",className:l.default.icon}),onClick:()=>function(e,t){(0,s.default)(e)?i.Cmd.openToast((0,f.jsx)(c.Toast,{msg:d.default.t(693),id:(0,c.genId)()})):i.Cmd.openToast((0,f.jsx)(c.Toast,{msg:d.default.t(692),id:(0,c.genId)()}));null!=t&&t()}(t,a),children:n.default._("Copy link",null,{hk:"2ZtjA3"})}):null};var n=o(a(48360)),i=a(88102),l=o(a(16115)),s=o(a(24687)),r=o(a(64738)),d=o(a(43725)),u=o(a(23217)),c=a(50452),f=a(85893)},64738:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,onClick:a,icon:o,className:f,theme:p,disabled:h=!1}=e,[m,g]=(0,u.default)(a,{disabled:h}),_=h?void 0:e.color,C=null!=o?(0,c.jsx)("div",{className:(0,l.default)(r.default.icon,{[r.default.danger]:"danger"===_,[r.default.success]:"success"===_}),children:o}):null,x=(0,l.default)(r.default.container,f,{[r.default.containerNoIcon]:!o,[r.default.disabled]:Boolean(h),[r.default.containerListAligned]:"list-aligned"===p,[r.default.themeNewChatInfo]:"new-chat-info"===p}),v="string"==typeof t||s.default.isFbtInstance(t)?t:null;return(0,c.jsxs)("div",(0,n.default)((0,n.default)({},g),{},{className:x,"data-a8n":i.default.key(e.a8nText),"data-ignore-capture":"any",ref:m,title:v,children:[C,(0,c.jsx)("div",{className:(0,l.default)(r.default.bodyContainer),children:(0,c.jsx)("div",{className:r.default.body,children:(0,c.jsx)(d.TextSpan,{theme:"title",color:_,children:t})})})]}))};var n=o(a(81109)),i=o(a(99964)),l=o(a(94184)),s=o(a(48360)),r=o(a(89600)),d=a(13923),u=o(a(60265)),c=a(85893)},71528:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(45095)),i=o(a(94184)),l=a(67294),s=o(a(44356)),r=a(88102),d=a(88984),u=a(65417),c=o(a(47065)),f=o(a(43725)),p=a(46346),h=o(a(11791)),m=o(a(99597)),g=o(a(65932)),_=o(a(23217)),C=a(18644),x=o(a(75426)),v=a(85893);class S extends l.Component{constructor(){super(...arguments),this.state={style:{visibility:"hidden"}},this.handleScroll=e=>{Math.abs(e.deltaY)>3&&this.handleClose()},this.handleClose=()=>{if(this.closing)return;let e;if(this.closing=!0,this.props.getZoomNode((t=>{e=t})),!e)return r.Cmd.closeModalMedia();const t=this._refImage;if(t){this.props.animateBorderRadius&&(t.style.transition="border-radius 500ms cubic-bezier(.1,.82,.25,1)",t.style.borderRadius="50%");const a=(0,n.default)(e,"start"),o=t.getBoundingClientRect(),i=a.getBoundingClientRect(),l=i.top-o.top,s=i.left-o.left,d=a.clientWidth/t.clientWidth;(0,x.default)(t,{translateX:[s,0],translateY:[l,0],scale:[d,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{r.Cmd.closeModalMedia()}))}},this.handleImageLoad=e=>{const t=e.target;this.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},(()=>{this.props.getZoomNode((e=>{const a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),n=o.top-a.top,i={visibility:"hidden",transform:`translateX(${o.left-a.left}px) translateY(${n}px) scale(${e.clientWidth/t.clientWidth})`,transition:"transform 0s",borderRadius:void 0};this.props.animateBorderRadius&&(i.borderRadius="50%"),this.setState({style:i},(()=>{let e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform 500ms cubic-bezier(.1,.82,.25,1)"};this.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform 500ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius 500ms cubic-bezier(.1,.82,.25,1)"}),this.setState({style:e})}))}))}))},this.setRefImage=e=>{this._refImage=e}}shouldComponentUpdate(e){return!!e.profilePicThumb.imgFull||(this.handleClose(),!1)}render(){const{contact:e,profilePicThumb:t}=this.props;let a;return t.imgFull&&(a=(0,v.jsx)(c.default,{src:t.imgFull,hasPrivacyChecks:!0,onLoad:this.handleImageLoad,className:m.default.profileViewerImg})),(0,v.jsx)(C.UIE,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.handleClose,children:(0,v.jsxs)("div",{className:(0,i.default)("overlay",m.default.container),onWheel:this.handleScroll,onClick:this.handleClose,children:[(0,v.jsxs)("div",{className:m.default.headerContainer,children:[(0,v.jsx)("div",{className:m.default.profileThumb,children:(0,v.jsx)(s.default,{image:(0,v.jsx)(d.DetailImage,{id:e.id,size:40}),theme:"plain",primary:(0,v.jsx)(u.EmojiText,{text:e.formattedUser})})}),(0,v.jsx)("div",{className:m.default.mediaPanelTools,children:(0,v.jsx)(p.MenuBar,{theme:"strong",children:(0,v.jsx)(p.MenuBarItem,{a8nText:"btn-close",icon:(0,v.jsx)(_.default,{name:"x-viewer"}),title:f.default.t(1585),onClick:this.handleClose})},"media-panel-header")})]}),(0,v.jsx)("div",{className:m.default.profileContainer,dir:"ltr",children:(0,v.jsx)("div",{className:m.default.media,children:(0,v.jsx)(h.default,{type:"scaleDown",size:this.state.size,children:(0,v.jsx)("div",{className:m.default.profileViewer,ref:this.setRefImage,style:this.state.style,children:a})})})})]})})}}S.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},S.displayName="PhotoViewerModal";var y=(0,g.default)(S,S.CONCERNS);t.default=y},79876:(e,t,a)=>{"use strict";var o=a(95318),n=a(20862);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{profilePicThumb:t,size:a}=e,o=!t.canSet()&&!t.canDelete(),[n,m]=(0,s.useState)(!1),g=(0,p.default)();return(0,h.jsx)(d.PhotoPickerLoadable,{type:u.default.PROFILE,id:t.id,attachToChat:!1,pending:n,startImage:t.imgFull,readOnly:o,onImageSet:(t,a)=>{const o=e.profilePicThumb;let n;m(!0),n=t&&a?(0,c.setProfilePic)(o,t,a):(0,c.deleteProfilePic)(o),(0,f.default)(n,g).catch((0,l.filteredCatch)(r.ActionError,(()=>{__LOG__(3)`ProfileDrawer: failed to set/delete profile image`}))).catch((0,i.catchAbort)((()=>{}))).finally((()=>{m(!1)}))},size:a})};var i=a(89385),l=a(50796),s=a(67294),r=n(a(64103)),d=a(33646),u=o(a(43556)),c=a(3764),f=o(a(84644)),p=o(a(38080)),h=a(85893)},51628:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.jsx)(n.default,{a8nText:"li-share-link",icon:(0,r.jsx)(s.default,{name:"forward",className:l.default.icon}),onClick:e.onClick,children:i.default.t(1231)})};var n=o(a(64738)),i=o(a(43725)),l=o(a(17932)),s=o(a(23217)),r=a(85893)},95200:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{text:t,isExpandedCaptionText:a,onExpandCaptionText:o}=e;const h=i.default.STATUS_CAPTION_PREVIEW_LENGTH,m=t.length>h&&!a?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.EmojiText,{formatters:s.Configuration.StatusV3Caption(),text:Array.from(t).slice(0,h-1).join("")}),r.default.t(1124),(0,u.jsxs)("strong",{children:[" ",r.default.t(1136)]})]}):(0,u.jsx)(l.EmojiText,{formatters:s.Configuration.StatusV3Caption(),text:t});return(0,u.jsx)("div",{className:(0,n.default)(c),children:(0,u.jsx)("div",{className:(0,n.default)(p),children:(0,u.jsx)(d.default,{onClick:o,children:(0,u.jsxs)("div",{className:(0,n.default)(f),children:[" ",m," "]})})})})};var n=o(a(56720)),i=o(a(69618)),l=a(65417),s=a(5124),r=o(a(43725)),d=o(a(1784)),u=a(85893);const c={position:"g0rxnol2"},f={paddingTop:"tvsr5v2h",paddingEnd:"clw8hvz5",paddingBottom:"ja2dfh8z",paddingStart:"p2tfx3a3",hyphens:"ndq9n57b",wordBreak:"cw3vfol9"},p={position:"lhggkp7q",width:"ln8gz9je",bottom:"jxacihee",zIndex:"px10qoeu",marginEnd:"k1jo73ug",marginStart:"isfiuinm",color:"lxozqee9",textAlign:"qfejxiq4",backgroundColor:"tp4bj0rl",cursor:"ajgl1lbb",fontSize:"cqiun4t2",lineHeight:"q6wg26sa"}},71607:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(50796),i=a(67294),l=o(a(56720)),s=a(88102),r=a(56512),d=o(a(89520)),u=a(60811),c=a(30424),f=a(18609),p=o(a(66797)),h=a(50101),m=a(7293),g=a(55414),_=o(a(43725)),C=o(a(11339)),x=a(24264),v=o(a(35072)),S=o(a(8694)),y=a(85330),j=a(5524),E=o(a(27315)),P=o(a(23217)),T=a(50452),I=a(18644),b=o(a(24717)),k=o(a(38080)),w=o(a(41956)),M=a(85893);const A={container:{position:"lhggkp7q",right:"grt5ktjy",bottom:"f7v6by6u",left:"tukmaf4q",zIndex:"nbczt5ty",width:"b1qcobdr",maxWidth:"ckq3dtew",marginRight:"oc1ubkv0",marginLeft:"jzfo78pl",paddingBottom:"aiput80m",borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",borderBottomEndRadius:"dc5qina8",borderBottomStartRadius:"kfr1vweg",transition:"iw1tz1w0"},popupPanel:{right:"grt5ktjy",bottom:"jxacihee",left:"tukmaf4q",zIndex:"thghmljt",paddingRight:"pppsat04",paddingBottom:"przvwfww",marginRight:"oc1ubkv0",marginLeft:"jzfo78pl",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",willChange:"d6finlhe"},popupPanelNonRichStatusReplies:{width:"ma66mwvu",maxWidth:"e91fykn7",backgroundColor:"rv6u8h8g"},popupPanelRichStatusReplies:{width:"t9hu7tsx",maxWidth:"ckq3dtew",paddingTop:"emrlamx0"},wrapper:{zIndex:"nbczt5ty",display:"p357zi0d",flexDirection:"sap93d0t",paddingRight:"fyqm2y5z",paddingLeft:"tw6b5hi5",paddingTop:"emrlamx0"},iconButton:{display:"l7jjieqr",alignSelf:"rwlvdxyg",marginTop:"opp68qpq",marginBottom:"rkip0xea",marginStart:"lhp4ctto",marginEnd:"ntr8esoy"},iconButtonColourFocused:{color:"svlsagor"},iconButtonColourOutOfFocus:{color:"lxozqee9"},square26Svg:{width:"ekdr8vow",height:"dhq51u3o"},lineWrapper:{position:"g0rxnol2",top:"qq0sjtgm",left:"tukmaf4q",display:"l7jjieqr",width:"crlpoz9d"},inputContainer:{boxSizing:"cm280p3y",width:"ln8gz9je",minHeight:"gc15jzxb",paddingTop:"eujn52yf",paddingEnd:"l9g3jx6n",paddingBottom:"ckm995li",paddingStart:"lyvj5e2u",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},containerInFocus:{backgroundColor:"rv6u8h8g"},inputInFocus:{backgroundColor:"f6cvynhn",borderTopColor:"rsltai19",borderEndColor:"boshimb4",borderBottomColor:"lw07f11l",borderStartColor:"jy0rc3ak",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopWidth:"gofg5ll1",borderEndWidth:"p7waza29",borderBottomWidth:"oteuebma",borderStartWidth:"mzoqfcbu"},inputOutOfFocus:{backgroundColor:"kx1rlajt"},panelButtons:{paddingEnd:"mgssq8h7"}};function O(e,t){const[a,o]=(0,i.useState)(!1),[O,L]=(0,i.useState)(void 0),[N,D]=(0,i.useState)(void 0),[R,B]=(0,i.useState)(null),[V,F]=(0,i.useState)(300);let W=!1,U=null;const H=m.GK.supportsFeature(m.GK.F.RICH_STATUS_REPLIES),G=(0,i.useRef)(null),z=(0,i.useRef)(null),q=(0,i.createRef)(),K=(0,k.default)();(0,i.useEffect)((()=>{(0,h.findChat)(e.msg.sender).then((e=>{K.aborted||D(e)}))}),[]);const Q=((e,t,a)=>Boolean(e)||t||Boolean(a))(O,a,R);(0,i.useEffect)((()=>{Q?e.pause():e.play()}),[Q]);const Y=()=>Q,$=()=>{var e;null===(e=G.current)||void 0===e||e.focus()},X=()=>{B(null),$()},J=()=>{L(void 0),B(null)},Z=()=>N?Promise.resolve(N):(0,h.findChat)(e.msg.sender),ee=(t,a)=>{var o;e.statusReplyMetric.statusReplyMessageType=a;const i=(0,T.genId)();s.Cmd.openToast((0,M.jsx)(T.Toast,{msg:_.default.t(1290),id:i})),t.then((()=>{e.statusReplyMetric.statusReplyResult=C.default.STATUS_REPLY_RESULT.OK,e.onSend()})).catch((0,n.filteredCatch)(d.default,(()=>{N&&(s.Cmd.openToast((0,M.jsx)(T.Toast,{msg:_.default.t(1576,{contact:N.contact.formattedName}),id:i})),e.statusReplyMetric.statusReplyResult=C.default.STATUS_REPLY_RESULT.ERROR_UNKNOWN)}))),J(),null===(o=G.current)||void 0===o||o.reset(),e.dismissReply()},te=t=>{if(t.stopPropagation(),t.preventDefault(),!G.current)return;const a=G.current.value.trim();a.length&&Z().then((t=>{const o=(0,j.sendTextMsgToChat)(t,(0,p.default)(a),{quotedMsg:e.msg});ee(o,C.default.STATUS_REPLY_MESSAGE_TYPE.TEXT)}))},ae=()=>a,oe=()=>{o(!1),J()},ne=e=>{const t=G.current;t&&t.replaceSelection(e)},ie=()=>{var e;null===(e=z.current)||void 0===e||e.restoreFocus()},le=e=>{null==e?X():(B(e),o(!0))};(0,i.useImperativeHandle)(t,(()=>({isFocused:ae,isPaused:Y,restoreFocus:$,blur:oe})));const se=H&&(ae()||null!=R);(0,i.useEffect)((()=>{var e;null===(e=G.current)||void 0===e||e.setTheme(se?"rich-status-reply":"status-reply")}),[se]);const re=null!=V&&null!=R&&H?(0,M.jsx)(S.default,{onResize:e=>{F(e.width)},children:(0,M.jsx)(r.ComposeBoxPanelsLoadable,{displayCache:U,width:V,onDisplayCache:e=>{U=e},onEmoji:ne,onFocusRelease:()=>{},onGif:()=>{},onPanelChange:le,onSticker:(t,a)=>{t.isCreateButton||Z().then((o=>{const n=(0,y.sendStickerToChat)(o,t,{stickerSendOrigin:a,quotedMsg:e.msg});ee(n,C.default.STATUS_REPLY_MESSAGE_TYPE.STICKER)}))},requestDismiss:X,forwardedRef:e=>{q.current=e},selectedPanelId:R,theme:x.PanelsMenuTheme.StatusReplyComposeBox})}):null,de=O?(0,M.jsx)(I.UIE,{displayName:"EmojiPicker",escapable:!0,requestFocus:ie,children:(0,M.jsx)("div",{children:(0,M.jsx)(I.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,requestDismiss:()=>{L(void 0),$()},requestFocus:ie,children:(0,M.jsx)(b.default,{contextMenu:O})})})}):null,ue=N&&(se||a&&!O)?(0,M.jsx)(I.UIE,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:e.dismissReply,children:(0,M.jsx)("div",{className:(0,l.default)(A.popupPanel,H?A.popupPanelRichStatusReplies:A.popupPanelNonRichStatusReplies),children:(0,M.jsx)(v.default,{msg:e.msg.safe(),theme:"statusV3",chat:N},e.msg.id.toString())})}):null,ce=H?(0,M.jsx)("div",{className:(0,l.default)(A.panelButtons),children:(0,M.jsx)(x.ComposeBoxPanelsMenu,{selectedPanelId:R,onChange:le,theme:x.PanelsMenuTheme.StatusReplyComposeBox,buttonStyle:[se?A.iconButtonColourFocused:A.iconButtonColourOutOfFocus]})}):(0,M.jsx)("button",{className:(0,l.default)(A.iconButton,A.iconButtonColourOutOfFocus),onClick:e=>{e&&(e.preventDefault(),e.stopPropagation());const t=(0,M.jsx)(c.EmojiPanel,{ref:z,onEmoji:ne,onFocusNext:$,onFocusPrev:$});L({menu:t,dirY:u.DirY.TOP,type:"emoji_picker",anchor:e.target})},children:(0,M.jsx)(P.default,{name:"smiley",iconXstyle:A.square26Svg})});return(0,M.jsxs)("div",{className:(0,l.default)(A.container,se&&A.containerInFocus),children:[(0,M.jsx)(w.default,{transitionName:"status-v3-panel",transitionAppear:!0,children:re}),(0,M.jsx)(w.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0,children:ue}),(0,M.jsxs)("div",{className:(0,l.default)(A.wrapper),children:[ce,(0,M.jsxs)("div",{className:(0,l.default)(A.lineWrapper),children:[(0,M.jsx)(E.default.EmojiSuggestions,{theme:f.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:e=>{W=e}}),(0,M.jsx)(g.HotKeys,{className:(0,l.default)(A.inputContainer,se?A.inputInFocus:A.inputOutOfFocus),onClick:$,children:(0,M.jsx)(E.default,{ref:G,theme:"status-reply",spellCheck:!0,onFocus:()=>{o(!0)},onBlur:()=>{W||document.activeElement===document.body&&(H||o(!1))},onEnter:te,placeholder:_.default.t(1362),multiline:!0})})]}),(0,M.jsx)("button",{className:(0,l.default)(A.iconButton,se?A.iconButtonColourFocused:A.iconButtonColourOutOfFocus),onClick:te,children:(0,M.jsx)(P.default,{name:"send",directional:!0,iconXstyle:A.square26Svg})}),de]})]})}var L=(0,i.forwardRef)(O);t.default=L},87998:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Player=void 0,t.StatusV3Text=ae;var n=o(a(23279)),i=a(50796),l=o(a(52013)),s=o(a(94184)),r=a(67294),d=o(a(62190)),u=a(22683),c=a(88102),f=o(a(69618)),p=a(88984),h=a(65417),m=a(50101),g=o(a(10483)),_=a(7293),C=a(57701),x=a(55414),v=o(a(47065)),S=a(5124),y=o(a(43725)),j=a(84387),E=o(a(2320)),P=a(58668),T=o(a(20553)),I=o(a(11339)),b=a(17972),k=a(12176),w=o(a(11791)),M=o(a(34949)),A=a(11054),O=o(a(65932)),L=o(a(31778)),N=o(a(95200)),D=o(a(71607)),R=a(5358),B=o(a(65257)),V=o(a(78333)),F=o(a(4392)),W=o(a(21029)),U=o(a(16495)),H=a(18644),G=a(3940),z=o(a(90012)),q=(o(a(1784)),a(49082)),K=o(a(99967)),Q=a(77591),Y=a(85893);const $=a(54302).Mirrored(["PAUSE_BUTTON","MOUSEDOWN","WINDOW_BLUR","OPEN_SEE_VIEWERS_MODAL"]);class X extends r.Component{constructor(){super(...arguments),this._refProgressBar=(0,r.createRef)(),this._refProgressBarComponent=(0,r.createRef)(),this._refMeasuringProfile=(0,r.createRef)(),this._refWrapper=(0,r.createRef)(),this._pauseReason=null,this.componentWillUnmount=()=>{if(this._playbackController.removeListeners(),null!=this.props.sessionId){const e=Math.round(this._playbackController.duration||0);this._statusViewEvent.webcStatusPlaybackT=e;const t=this._playStartTime;null!=t&&(this._statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-t),this._playStartTime=void 0),this._statusViewEvent.commit(),this._statusReplyEvent.commit()}},this._updateStatusViewers=()=>{b.MsgInfoCollection.find(this.props.msg.id).then((e=>{this.props.getUnmountSignal().aborted||this.setState({seenBy:e.read})})).catch((0,i.filteredCatch)(Q.EphemeralDrop,(()=>{})))},this._handleWindowResize=()=>{var e,t;const a=null===(e=this._refMeasuringProfile)||void 0===e?void 0:e.current,o=null===(t=this._refProgressBar)||void 0===t?void 0:t.current;if(!a||!o)return;const n=a.getBoundingClientRect(),i=o.getBoundingClientRect();!y.default.isRTL()&&n.right>i.left-5||y.default.isRTL()&&n.left<i.right+5?this.setState({narrow:!0}):this.setState({narrow:!1})},this._handleTab=e=>{var t;(e&&(e.stopPropagation(),e.preventDefault()),this.props.statusV3.contact.isMe)||((null===(t=this._refComposeBox)||void 0===t?void 0:t.isFocused())?this.dismissReply():this._startReply())},this._handleModalClose=()=>{c.Cmd.closeModal(),this.play(),this.setState({isViewerModalOpen:!1})},this._handleSeeViewersModal=()=>{this.state.seenBy&&(c.Cmd.openModal((0,Y.jsx)(U.default,{onClose:this._handleModalClose,viewers:this.state.seenBy})),this.pause($.OPEN_SEE_VIEWERS_MODAL),this.setState({isViewerModalOpen:!0}))},this._handleExpandCaptionText=()=>{this.setState({isExpandedCaptionText:!this.state.isExpandedCaptionText})},this.handleWindowGainedFocus=()=>{this._windowFocused=!0,this.state.isViewerModalOpen||this._pauseReason!==$.WINDOW_BLUR||this.play()},this.handleWindowLostFocus=()=>{this._windowFocused=!1,this.state.isPaused||this.pause($.WINDOW_BLUR)},this._handleClickProfile=()=>{const e=this.props.statusV3.contact.id;(0,m.findChat)(e).then((e=>c.Cmd.openChatBottom(e))).then((()=>{this.props.closeStatusViewer(!0)}))},this.play=()=>{var e;const t=this.props.mediaData;if(t){if(t.mediaStage!==P.MEDIA_DATA_STAGE.RESOLVED)return;this._statusViewEvent.webcStatusLoadT||(this._statusViewEvent.markWebcStatusLoadT(),this._statusViewEvent.webcStatusLoaded=!0)}(null===(e=this._refComposeBox)||void 0===e?void 0:e.isPaused())||this._windowFocused&&(this._playStartTime=window.performance.now(),this._playbackController.resume())},this.pause=e=>{const t=this.props.mediaData;if(t&&t.mediaStage!==P.MEDIA_DATA_STAGE.RESOLVED)return;const a=this._playStartTime;null!=a&&(this._statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),this._playStartTime=void 0),this._playbackController.pause(),this._pauseReason=e},this._mute=()=>{this._playbackController.mute(),this.setState({isMuted:!0})},this._unmute=()=>{this._playbackController.unmute(),this.setState({isMuted:!1})},this.handleMouseDown=()=>{this.pause($.MOUSEDOWN)},this.handleMouseUp=()=>{this.play()},this._handlePauseButton=()=>{this.pause($.PAUSE_BUTTON)},this.dismissReply=()=>{var e,t;const a=null===(e=this._refWrapper)||void 0===e?void 0:e.current;a&&l.default.focus(a),null===(t=this._refComposeBox)||void 0===t||t.blur()},this._startReply=()=>{var e;null===(e=this._refComposeBox)||void 0===e||e.restoreFocus()},this.handleSend=()=>{this._statusViewEvent.webcStatusReplyCount++},this._handleComposeBoxClick=e=>{var t,a;(e&&(e.stopPropagation(),e.preventDefault()),null===(t=this._refComposeBox)||void 0===t?void 0:t.isFocused())&&(null===(a=this._refComposeBox)||void 0===a||a.restoreFocus())},this.state={chat:void 0,narrow:!1,isViewerModalOpen:!1,isPaused:!1,isMuted:!1,hasAudio:!1,isExpandedCaptionText:!1},this._windowFocused=!0,this._playbackController=(0,R.setupStatusV3Controller)(this.props.mediaData,this.props.msg),this._statusViewEvent=new I.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),this._statusReplyEvent=new I.default.StatusReply({statusReplyResult:I.default.STATUS_REPLY_RESULT.CANCELLED})}componentDidMount(){var e,t;const{statusV3:a,msg:o,mediaData:i,msgIdx:l,sessionId:s}=this.props;if(null!=s){let e;a.contact.isMe?(e=I.default.WEBC_STATUS_ROW_SECTION.MY,this._updateStatusViewers()):e=a.contact.statusMute?I.default.WEBC_STATUS_ROW_SECTION.MUTED:a.hasUnread?I.default.WEBC_STATUS_ROW_SECTION.RECENT:I.default.WEBC_STATUS_ROW_SECTION.VIEWED;const t=this.props.rowIdx||0,n=a.msgs.length-1-l<a.unreadCount;let r;i?r=i.isGif?I.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===i.type?I.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:I.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(r=o.getLinks().length?I.default.WEBC_STATUS_MEDIA_TYPE.URL:I.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this._statusViewEvent.markWebcStatusLoadT(),this._statusViewEvent.webcStatusLoaded=!0),this._statusViewEvent.webcStatusSessionId=s,this._statusViewEvent.webcStatusRowSection=e,this._statusViewEvent.webcStatusRowIndex=t,this._statusViewEvent.webcStatusMediaType=r,this._statusViewEvent.webcStatusUnread=n,this._statusReplyEvent.statusSessionId=s,(0,C.smbStatusLoggingEnabled)()&&(this._statusViewEvent.webcIsPosterBiz=a.contact.isBusiness,this._statusReplyEvent.isPosterBiz=a.contact.isBusiness,this._statusViewEvent.webcIsPostersAddressBook=a.contact.isMyContact,this._statusReplyEvent.isPosterInAddressBook=a.contact.isMyContact)}(null===(e=this._refProgressBarComponent)||void 0===e?void 0:e.current)&&this._playbackController.addListeners(((e,t)=>{var a;const o=null===(a=this._refProgressBarComponent)||void 0===a?void 0:a.current;o&&o.handleStart(e,t),this.setState({isPaused:!1}),this._pauseReason=null}),(()=>{var e;const t=null===(e=this._refProgressBarComponent)||void 0===e?void 0:e.current;t&&t.handlePause(),this.setState({isPaused:!0})}),(()=>{var e;const t=null===(e=this._refProgressBarComponent)||void 0===e?void 0:e.current;t&&t.handleEnded().then((()=>{this.props.getUnmountSignal().aborted||this.props.onNext()}))}),((e,t)=>{this.setState({hasAudio:e,isMuted:t})})),i?(this.play(),i&&i.mediaStage===P.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,f.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));const r=null===(t=this._refWrapper)||void 0===t?void 0:t.current;r&&r.focus();const d=this.props.listeners;d.add(window,"focus",this.handleWindowGainedFocus),d.add(window,"blur",this.handleWindowLostFocus),d.add(window,"resize",(0,n.default)(this._handleWindowResize)),this._handleWindowResize()}render(){const{msg:e,mediaData:t,statusV3:a}=this.props;let o,n;if(t){const e=ne(t);e&&(o={backgroundImage:`url(${e})`})}else if(e.type===f.default.MSG_TYPE.CHAT){o={backgroundColor:e.statusV3TextBg}}if(t)switch(t.type){case E.default.TYPE.IMAGE:n=(0,Y.jsx)(Z,{msg:e,statusV3:a,mediaData:t,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,handleExpandCaptionText:this._handleExpandCaptionText,isExpandedCaptionText:this.state.isExpandedCaptionText});break;case E.default.TYPE.VIDEO:n=(0,Y.jsx)(te,{msg:e,statusV3:a,mediaData:t,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this._playbackController,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,handleExpandCaptionText:this._handleExpandCaptionText,isExpandedCaptionText:this.state.isExpandedCaptionText});break;default:__LOG__(3)`Invalid status v3 image type: ${t.type}`}else n=e.type===f.default.MSG_TYPE.CHAT?(0,Y.jsx)(ae,{msg:e,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}):(0,Y.jsx)(oe,{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp});const i=_.GK.supportsFeature(_.GK.F.STATUS_MEDIA_CONTROLS),l=(0,Y.jsx)("div",{ref:this._refProgressBar,children:(0,Y.jsx)(F.default,{ref:this._refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,hasMediaControls:i,onClick:this.props.onClickProgressBar})}),r=e.isSentByMe||a.contact.isPSA,d=(0,s.default)(B.default.profile,{[B.default.nonClickProfile]:r,[B.default.profileNarrow]:this.state.narrow,[B.default.profileWithMediaControls]:i}),c=(0,s.default)(B.default.profile,B.default.measuringProfile,{}),h=e=>e.stopPropagation(),m=(0,Y.jsx)(k.ContactName,{className:B.default.msgInfoName,contact:a.contact,you:!0,ellipsify:!0,showBusinessCheckmark:a.contact.showBusinessCheckmarkAsPrimary}),g=(0,Y.jsxs)("div",{className:d,onClick:r?null:this._handleClickProfile,children:[(0,Y.jsx)("div",{className:B.default.playerAvatar,children:(0,Y.jsx)(p.DetailImage,{id:a.contact.id,theme:"status_v3",size:40})}),(0,Y.jsxs)("div",{className:B.default.msgInfo,children:[(0,Y.jsx)("div",{className:!i&&r?null:B.default.msgInfoNameWrapper,children:m}),(0,Y.jsx)("div",{className:B.default.timestamp,children:u.Clock.relativeDateAndTimeStr(e.t)})]}),i?(0,Y.jsx)("div",{className:B.default.statusMediaControls,onClick:h,children:(0,Y.jsx)(V.default,{isPaused:this.state.isPaused,hasAudio:(null==t?void 0:t.type)===E.default.TYPE.VIDEO&&this.state.hasAudio,isMuted:this.state.isMuted,onPlay:this.play,onPause:this._handlePauseButton,onMute:this._mute,onUnmute:this._unmute})}):null]}),C=(0,Y.jsxs)("div",{ref:this._refMeasuringProfile,className:c,children:[(0,Y.jsx)("div",{className:B.default.playerAvatar,children:(0,Y.jsx)(p.DetailImage,{id:a.contact.id,theme:"status_v3",size:40})}),(0,Y.jsxs)("div",{className:B.default.msgInfo,children:[m,(0,Y.jsx)("div",{className:B.default.timestamp,children:u.Clock.relativeDateAndTimeStr(e.t)})]})]}),v={tab:this._handleTab,"shift+tab":this._handleTab};let S,y;t&&(S=(0,Y.jsx)(ie,{mediaData:t}));const j=this.props.statusV3.contact;j.isMe||j.isPSA||(y=(0,Y.jsx)(x.HotKeys,{handlers:{left:h,right:h},onClick:this._handleComposeBoxClick,children:(0,Y.jsx)(D.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.handleSend,pause:this.pause,play:this.play,ref:e=>{this._refComposeBox=e},statusReplyMetric:this._statusReplyEvent})}));const P=_.GK.supportsFeature(_.GK.F.SEE_STATUS_VIEWERS)&&j.isMe&&this.state.seenBy?(0,Y.jsx)("div",{className:B.default.seen,children:(0,Y.jsx)(W.default,{seenCount:this.state.seenBy.length,onClick:this._handleSeeViewersModal})}):null,T=(0,s.default)(B.default.playerBackground,{[B.default.media]:t});let I;const b=(0,s.default)(B.default.progressBackdrop,{[B.default.progressBarBackdropNarrow]:this.state.narrow});return e.type!==f.default.MSG_TYPE.CHAT&&(I=(0,Y.jsx)("div",{className:b})),(0,Y.jsx)(H.UIE,{displayName:"StatusV3Player",escapable:!0,requestDismiss:e=>{e||this.props.closeStatusViewer()},requestFocus:this.dismissReply,children:(0,Y.jsx)(x.HotKeys,{handlers:v,onClick:this.dismissReply,children:(0,Y.jsxs)("div",{className:B.default.playerWrapper,tabIndex:-1,ref:this._refWrapper,children:[C,g,I,l,(0,Y.jsx)("div",{className:T,style:o}),n,S,P,y]},e.id.toString())})})}}X.displayName="_StatusV3Player";class J extends r.PureComponent{constructor(){super(...arguments),this._renderImage=e=>{var t;const{msg:a,mediaData:o}=this.props,n=(0,s.default)(B.default.playerContent,B.default.v3Image);let i;return a.type!==f.default.MSG_TYPE.CHAT&&"string"==typeof a.caption&&(i=(0,Y.jsx)(N.default,{text:a.caption,isExpandedCaptionText:this.props.isExpandedCaptionText,onExpandCaptionText:this.props.handleExpandCaptionText})),(0,Y.jsx)("div",{className:n,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onDragEnd:this.props.onMouseUp,children:(0,Y.jsxs)(w.default,{type:"contain",size:{width:o.fullWidth,height:o.fullHeight},children:[(0,Y.jsxs)("div",{className:B.default.mediaViewer,children:[(0,Y.jsx)(v.default,{src:e,disableContextMenu:!0}),a.interactiveAnnotations&&a.interactiveAnnotations.length>0&&(0,Y.jsx)(d.default,{annotations:a.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}),(null===(t=a.actionLink)||void 0===t?void 0:t.buttonTitle)&&a.actionLink.url&&(0,Y.jsx)("div",{className:B.default.actionLink,children:(0,Y.jsx)(L.default,{text:a.actionLink.buttonTitle,url:a.actionLink.url})}),null]}),i]})})},this._renderPreviewImage=()=>{var e;const{mediaData:t}=this.props,a=(0,s.default)(B.default.playerContent,B.default.v3Image,B.default.loading);return(0,Y.jsx)("div",{className:a,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,children:(0,Y.jsx)(w.default,{type:"contain",size:{width:t.aspectRatio,height:1},children:(0,Y.jsx)(v.default,{src:null!==(e=ne(t))&&void 0!==e?e:""})})})},this._downloadMedia=()=>this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:I.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidMount(){this.props.mediaData.mediaStage!==P.MEDIA_DATA_STAGE.RESOLVED&&this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:I.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidUpdate(){this.props.play();const e=this.props.mediaData;e&&e.mediaStage===P.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}componentWillUnmount(){this.props.pause()}render(){return(0,Y.jsx)(T.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia,renderProgressively:!0,children:this._renderImage})}}J.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio","fullPreviewData"]},J.displayName="_StatusV3Img";const Z=(0,O.default)(J,J.CONCERNS);class ee extends r.PureComponent{constructor(){super(...arguments),this.refVideo=(0,r.createRef)(),this.setRefVideo=e=>{this.refVideo=e;this.props.playbackController.setVideo(this.refVideo.current)}}componentDidMount(){const e=this.props.mediaData;e.streamable||e.isStreamable()||this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:I.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}componentDidUpdate(){this.props.play();const e=this.props.mediaData;e&&e.mediaStage===P.MEDIA_DATA_STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}componentWillUnmount(){this.props.pause()}render(){var e,t;const{msg:a,mediaData:o,onMouseDown:n,onMouseUp:i}=this.props,l=o.mediaStage!==P.MEDIA_DATA_STAGE.RESOLVED,r=(0,s.default)(B.default.playerContent,B.default.v3Video,{loading:l});let u;return a.type!==f.default.MSG_TYPE.CHAT&&"string"==typeof a.caption&&(u=(0,Y.jsx)(N.default,{text:a.caption,isExpandedCaptionText:this.props.isExpandedCaptionText,onExpandCaptionText:this.props.handleExpandCaptionText})),(0,Y.jsx)("div",{className:r,onMouseDown:n,onMouseUp:i,children:(0,Y.jsxs)(w.default,{type:"contain",size:{width:o.fullWidth,height:o.fullHeight},children:[(0,Y.jsxs)("div",{className:B.default.mediaViewer,children:[(0,Y.jsx)(K.default,{msg:a,mediaData:o,autoPlay:!0,refVideo:this.setRefVideo,poster:null!==(e=ne(o))&&void 0!==e?e:"",disableContextMenu:!0,children:y.default.t(1432)}),a.interactiveAnnotations&&a.interactiveAnnotations.length>0&&(0,Y.jsx)(d.default,{annotations:a.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}),(null===(t=a.actionLink)||void 0===t?void 0:t.buttonTitle)&&a.actionLink.url&&(0,Y.jsx)("div",{className:B.default.actionLink,children:(0,Y.jsx)(L.default,{text:a.actionLink.buttonTitle,url:a.actionLink.url})}),null]}),u]})})}}ee.CONCERNS={mediaData:["preview","mediaStage","fullWidth","fullHeight","streamable","fullPreviewData"]},ee.displayName="_StatusV3Video";const te=(0,O.default)(ee,ee.CONCERNS);function ae(e){const{msg:t}=e;(0,r.useEffect)((()=>{g.default.load(t.font).catch((()=>{}))}),[]);const a=(0,G.numCodepoints)(e.msg.body);let o,n;const i={[B.default[`font_${e.msg.font}`]]:!0};return a<=60?(o=(0,s.default)(B.default.text,B.default.textLarge,i),n=S.Configuration.StatusV3Text({links:e.msg.getLinks()})):a<=240?(o=(0,s.default)(B.default.text,B.default.textMedium,i),n=S.Configuration.StatusV3Text({links:e.msg.getLinks()})):o=(0,s.default)(B.default.text,B.default.textSmall,i),(0,Y.jsx)("div",{className:(0,s.default)(B.default.playerContent,{[B.default.statusPanelPlayerContent]:"status-panel"===e.theme,[B.default.statusThumbnailPlayerContent]:"status-thumbnail"===e.theme,[B.default.textThumbnailPlayerContent]:"text-thumb"===e.theme}),onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,children:(0,Y.jsx)("div",{className:o,children:(0,Y.jsx)(h.EmojiText,{text:e.msg.body,formatters:n})})})}function oe(e){return(0,Y.jsx)("div",{className:B.default.playerContent,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,children:(0,Y.jsx)("div",{className:B.default.unknown,children:y.default.t(1291)})})}function ne(e){return e?e.fullPreviewData?e.fullPreviewData.url():e.preview instanceof M.default?e.preview.url():null:null}const ie=function(e){return(0,q.useModelValues)(e.mediaData,["mediaStage"]).mediaStage!==P.MEDIA_DATA_STAGE.RESOLVED?(0,Y.jsx)("div",{className:B.default.mediaStateControls,children:(0,Y.jsx)("button",{className:"icon-media-disabled",children:(0,Y.jsx)(A.Spinner,{size:50,stroke:4,color:"white"})})}):null},le=(0,z.default)((0,j.ListenerHOC)(X));t.StatusV3Player=le},78333:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{isPaused:t,hasAudio:a,isMuted:o,onPlay:n,onPause:i,onMute:s,onUnmute:r}=e;return(0,d.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,d.jsxs)(l.FlexRow,{children:[(0,d.jsx)(p,{isPaused:t,handlePlayPauseButton:()=>{t?n():i()}}),(0,d.jsx)(h,{hasAudio:a,isMuted:o,handleMuteButton:()=>{o?r():s()}})]})})};var n=o(a(48360)),i=o(a(56720)),l=a(29623),s=o(a(38932)),r=o(a(23217)),d=a(85893);const u={cursor:"bx7g2weo",width:"i94gqilv",height:"bmot90v7",color:"lxozqee9"},c={marginRight:"lyrceosr"},f={opacity:"brh521k9"};function p(e){let{isPaused:t,handlePlayPauseButton:a}=e;return(0,d.jsx)("div",{className:(0,i.default)(c,u),children:(0,d.jsx)(s.default,{"aria-label":t?n.default._("Play",null,{hk:"4CjEWt"}):n.default._("Pause",null,{hk:"1kvbzt"}),onClick:a,name:t?"status-media-controls-play":"status-media-controls-pause"})})}function h(e){let{hasAudio:t,isMuted:a,handleMuteButton:o}=e;return t?(0,d.jsx)("div",{className:(0,i.default)(u),children:(0,d.jsx)(s.default,{"aria-label":a?n.default._("Unmute",null,{hk:"aQpZx"}):n.default._("Mute",null,{hk:"1C7Sjw"}),onClick:o,name:a?"status-media-controls-volume-off":"status-media-controls-volume-on"})}):(0,d.jsx)("div",{className:(0,i.default)(f,u),children:(0,d.jsx)(r.default,{name:"status-media-controls-no-sound"})})}},61752:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{initialStatusV3:t,quotedMsgKey:a,initialStatusMsg:o,onMsgNotFound:I}=e,b=(0,j.default)(),[k,w]=(0,r.useState)(null),[M,A]=(0,r.useState)(null),[O,L]=(0,r.useState)(!0),N=(0,y.default)((()=>new C.Statusv3Snapshot(t,a))),D=e=>{if((!k||e!==k.msgIdx)&&k){const t=N.current.statusAt(k,e);L(!0),t.then((e=>{b.aborted||w(e)})).catch((0,n.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`}))).catch((0,n.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,n.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))).finally((()=>{L(!1)}))}};(0,r.useEffect)((()=>{const e=N.current;if(k&&e&&e.hasNext(k)){e.getNext(k).then((t=>{if(b.aborted)return;const a=e.statuses[t.statusIdx].msgs[t.msgIdx];if(!a)throw new C.StatusV3MsgNotFound;if(a.type===u.default.MSG_TYPE.CHAT)c.default.load(a.font).catch((()=>{}));else{const e=a.mediaData;e&&e.mediaStage!==h.MEDIA_DATA_STAGE.RESOLVED&&a.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:m.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!1})}})).catch((0,n.filteredCatch)(C.StatusV3MsgNotFound,(()=>{__LOG__(3)`Error finding next status while preloading next status`}))).catch((0,n.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while preloading next status`}))).catch((0,n.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,n.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})))}}),[k,N,b.aborted]);const R=t=>{A(!0),(0,i.delayMs)(200).then((()=>{b.aborted||e.closeStatusViewer(t)}))},B=()=>{const e=N.current;if(k&&e&&e.hasPrev(k)){const t=k.statusIdx;e.getPrev(k).then((e=>{b.aborted||(e.statusIdx===t?w(e):(A(!0),(0,i.delayMs)(200).then((()=>{b.aborted||(w(e),A(!1))}))))})).catch((0,n.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting previous status msg`}))).catch((0,n.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,n.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})))}},V=()=>{const e=N.current;if(k&&e&&e.hasNext(k)){const t=k.statusIdx,a=e.getNext(k);L(!0),a.then((e=>{b.aborted||(e.statusIdx===t?w(e):(A(!0),L(!1),(0,i.delayMs)(200).then((()=>{b.aborted||(w(e),A(!1))}))))})).catch((0,n.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`,R()}))).catch((0,n.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,n.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))).finally((()=>{L(!1)}))}else R()},F=(e,t)=>{const a=N.current;if(!t)return;const o=e.unreadCount,n=e.totalCount;if(e.msgs.getModelsArray().findIndex((e=>e===t))>=n-o){const a=(0,l.unixTime)(),o=t.id.participant;o&&o.isPSA()&&t.set("statusPSAReadTimestamp",a),e.sendReadStatus(t.id,t.author,a)}const i=a.statuses.find((t=>t.statusV3===e));i&&i.readMsgKeys.push(t.id.toString())};let W,U,H,G,z,q,K,Q,Y;(0,r.useEffect)((()=>{const i=t;if(a){const t=a;if(-1!==i.msgs.getModelsArray().findIndex((e=>e.id.toString()===t.toString()))){N.current.getFirstUnread(i,!0,t).then((e=>{b.aborted||(w(e),L(!1))})).catch((0,n.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,n.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,d.Cmd.openToast((0,T.jsx)(S.Toast,{msg:p.default.t(1284),id:(0,S.genId)()})),e.closeStatusViewer()})))}else L(!0),i.loadMore(i.totalCount).then((()=>{L(!1);if(-1!==i.msgs.getModelsArray().findIndex((e=>e.id.toString()===t.toString()))){N.current.getFirstUnread(i,!0,t).then((e=>{b.aborted||(w(e),L(!1))})).catch((0,n.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,n.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,d.Cmd.openToast((0,T.jsx)(S.Toast,{msg:p.default.t(1284),id:(0,S.genId)()})),e.closeStatusViewer()})))}else null==I||I(),d.Cmd.openToast((0,T.jsx)(S.Toast,{msg:p.default.t(1284),id:(0,S.genId)()})),e.closeStatusViewer()})).catch((()=>{d.Cmd.openToast((0,T.jsx)(S.Toast,{msg:p.default.t(1284),id:(0,S.genId)()})),R()})).finally((()=>{L(!1)}))}else{const t=o;N.current.getFirstUnread(i,!0,null==t?void 0:t.id).then((e=>{b.aborted||(w(e),L(!1))})).catch((0,n.filteredCatch)(P.EphemeralDrop,(()=>{}))).catch((0,n.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,d.Cmd.openToast((0,T.jsx)(S.Toast,{msg:p.default.t(1284),id:(0,S.genId)()})),e.closeStatusViewer()})))}}),[]),k&&(z=N.current,q=z.statuses[k.statusIdx],K=q.statusV3,Q=q.msgs[k.msgIdx],z.hasPrev(k)&&(H=(0,T.jsx)("div",{className:x.default.chevronLeft,children:(0,T.jsx)(v.default,{name:"chevron-left"})}),G=(0,T.jsx)("div",{className:x.default.chevronLeftBg,onClick:B})),z.hasNext(k)&&(W=(0,T.jsx)("div",{className:x.default.chevronRight,children:(0,T.jsx)(v.default,{name:"chevron-right"})}),U=(0,T.jsx)("div",{className:x.default.chevronRightBg,onClick:()=>{V(),F(K,Q)}})));!M&&!O&&Q&&k&&q&&K&&(Y=(0,T.jsx)("div",{className:x.default.playerContainer,children:(0,T.jsx)(_.StatusV3Player,{statusV3:K,msg:Q,mediaData:Q.mediaData,msgIdx:k.msgIdx,totalMsgs:q.totalCount,markRead:F,closeStatusViewer:R,onClickProgressBar:D,onNext:V,onPrev:B,sessionId:e.sessionId,rowIdx:e.rowIdx},Q.id)},Q.id));const $=(0,s.default)(x.default.v3X,{[x.default.v3X_mac]:!1}),X=(0,T.jsx)("button",{className:$,onClick:()=>e.closeStatusViewer(!0),children:(0,T.jsx)(v.default,{name:"x-viewer"})}),J=(0,s.default)(x.default.backIcon,{[x.default.backIcon_mac]:!1}),Z=(0,T.jsx)("button",{className:J,onClick:()=>e.closeStatusViewer(),children:(0,T.jsx)(v.default,{name:"back",directional:!0})});let ee;O&&(ee=(0,T.jsx)("div",{className:x.default.mediaStateControls,children:(0,T.jsx)("button",{children:(0,T.jsx)(g.Spinner,{size:50,stroke:4,color:"white"})})}));return(0,T.jsx)(f.HotKeys,{handlers:{left:B,right:V},children:(0,T.jsxs)("div",{className:x.default.viewer,"data-animate-status-v3-viewer":!0,children:[X,Z,G,H,U,W,ee,(0,T.jsx)(E.default,{transitionName:"status-v3-player",transitionAppear:!0,children:Y})]})})};var n=a(50796),i=a(13959),l=a(92844),s=o(a(94184)),r=a(67294),d=a(88102),u=o(a(69618)),c=o(a(10483)),f=a(55414),p=o(a(43725)),h=a(58668),m=o(a(11339)),g=a(11054),_=a(87998),C=a(70860),x=o(a(46209)),v=o(a(23217)),S=a(50452),y=o(a(59552)),j=o(a(38080)),E=o(a(41956)),P=a(77591),T=a(85893)},16495:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{viewers:t,onClose:a}=e;(0,i.useEffect)((()=>a));const o=new c.default,n=function(e){const t=e.map((e=>({participant:e,itemKey:e.id.toString(),height:u.DEFAULT_ITEM_HEIGHT})));return t.sort(((e,t)=>t.participant.t-e.participant.t)),t}(t),d=n.length?(0,_.jsx)(u.FlatList,{flatListController:o,direction:"vertical",forceConsistentRenderCount:!0,data:n,renderItem:C}):(0,_.jsx)(v,{}),f=m.default.t(1456,{count:n.length}),p={width:400,height:x(n.length)};return(0,_.jsx)(g.Modal,{type:g.ModalTheme.CustomSize,dimensions:p,children:(0,_.jsxs)(l.default,{theme:"settings",children:[(0,_.jsx)(r.DrawerHeader,{onCancel:a,title:f,type:r.DRAWER_HEADER_TYPE.POPUP}),(0,_.jsx)(s.default,{flatListControllers:[o],children:d})]})})};var n=o(a(48360)),i=a(67294),l=o(a(60453)),s=o(a(69637)),r=a(94790),d=a(85600),u=a(47915),c=o(a(30855)),f=a(99234),p=a(7293),h=o(a(47834)),m=o(a(43725)),g=a(57224),_=a(85893);function C(e){const{participant:t}=e;return(0,_.jsx)(h.default,{msgInfoParticipant:t,contact:t.contact},t.id.toString())}function x(e){const t=e>0?72*e:p.GK.supportsFeature(p.GK.F.MD_BACKEND)?100:150;return Math.min(500,t+59)}function v(){return p.GK.supportsFeature(p.GK.F.MD_BACKEND)?(0,_.jsx)(d.Empty,{children:"none"===(0,f.getUserPrivacySettings)().readReceipts?n.default._("Can't see views because you disabled Read Receipts in Settings > Account > Privacy",null,{hk:"45oJGn"}):m.default.t(959)}):(0,_.jsx)(d.Empty,{title:m.default.t(959),text:m.default.t(1457)})}},9031:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294),i=o(a(69618)),l=o(a(60453)),s=o(a(69637)),r=a(94790),d=a(65417),u=a(55414),c=o(a(51845)),f=a(57224),p=o(a(81880)),h=a(82857),m=o(a(23217)),g=a(90011),_=o(a(18914)),C=a(18644),x=a(31042),v=a(85893);var S=e=>{const{defaultText:t,title:a,onSend:o,onBack:S}=e,[y,j]=(0,n.useState)(t),E=(0,x.findFirstWebLink)(y),{linkPreview:P,clearLinkPreview:T}=(0,x.useLinkPreview)(E),I=a?(0,v.jsx)(d.EmojiText,{text:a,direction:"auto",titlify:!0,ellipsify:!0}):null,{title:b,canonicalUrl:k,description:w,thumbnail:M}=P||{},A=P?(0,v.jsx)(C.UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:T,children:(0,v.jsx)(p.default,{onOmit:T,children:(0,v.jsx)(c.default,{title:b,compose:!0,canonicalUrl:k,description:w,thumbnailJpeg:M})})}):null;return(0,v.jsx)(f.Modal,{type:f.ModalTheme.Box,children:(0,v.jsxs)(l.default,{children:[(0,v.jsx)(r.DrawerHeader,{type:r.DRAWER_HEADER_TYPE.POPUP,onBack:S,children:I}),(0,v.jsx)(s.default,{children:(0,v.jsxs)(u.HotKeys,{className:_.default.container,children:[(0,v.jsx)("div",{className:_.default.inputContainer,children:(0,v.jsx)(g.TextInput,{a8n:"text-message-modal-text-unput",value:y,maxLength:i.default.MAX_TXT_MSG_SIZE,onChange:e=>{j(e)},supportsEmoji:!0,multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small"})}),A]})}),(0,v.jsx)("div",{className:_.default.btnContainer,children:(0,v.jsx)("div",{className:_.default.btnPosition,children:(0,v.jsx)(h.Round,{large:!0,onClick:()=>{y.length&&o(y,P)},children:(0,v.jsx)(m.default,{name:"send",directional:!0})})})})]})})};t.default=S},31778:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{text:t,url:a}=e;return(0,l.jsx)(i.default,{xstyle:s.button,onClick:()=>{(0,n.openExternalLink)(a)},children:t})};o(a(56720));var n=a(12591),i=o(a(1784)),l=a(85893);const s={button:{display:"p357zi0d",borderTopStartRadius:"m2gb0jvt",borderTopEndRadius:"rfxpxord",borderBottomEndRadius:"gwd8mfxi",borderBottomStartRadius:"mnh9o63b",width:"ltyqj8pj",paddingTop:"b7n2qyd4",paddingEnd:"l9g3jx6n",paddingBottom:"ekpn4oxx",paddingStart:"lyvj5e2u",maxWidth:"rkwy1u70",fontSize:"enbbiyaj",height:"ohuqqxaf",lineHeight:"erpdyial",transform:"bnt9nn9b",opacity:"axi1ht8l",backgroundColor:"ppv8chjk",color:"qiqvuef5",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",animationName:"hr4hzv79",animationFillMode:"a21kwdn3",animationDuration:"h6edk2v2",animationDelay:"fdmybch3",":hover":{backgroundColor:"jhshxy31"}}}},24391:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RingTheme=void 0,t.StatusV3ImageRing=u;var n=o(a(81109)),i=o(a(94184)),l=o(a(42138)),s=a(49082),r=a(85893);const d=a(54302).Mirrored(["STATUS_V3_PANEL","BUSINESS_CONTACT_INFO"]);t.RingTheme=d;function u(e){const{stroke:t,size:a}=e,o=(0,s.useModelValues)(e.statusV3,["unreadCount","totalCount","contact"]),u=e=>{const a=100+t;return(0,r.jsx)("circle",(0,n.default)({cx:a/2,cy:a/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:t},e))},c=(e,t,a,o)=>{let n="";for(let i=0;i<e;i++)n+=i===e-1?`${t} ${a-e*(o+t)+o} `:`${t} ${o} `;return n},f=100+t,p=o.totalCount;let h=10;const m=50*Math.PI*2;m-10*p<1&&(h=m/p/1.2);const g=(m-h*p)/p,_=m/4-h/2,C=o.contact.isMe?0:o.unreadCount,x=p-C;let v,S;if(C){const e=_+p*(h+g);let t;1!==p&&(t=c(C,g,m,h)),v=u({strokeDashoffset:e,strokeDasharray:t,className:l.default.unread})}if(x){const e=_+x*(h+g);let t;1!==p&&(t=c(x,g,m,h)),S=u({strokeDashoffset:e,strokeDasharray:t,className:l.default.read})}return(0,r.jsxs)("svg",{className:(0,i.default)({[l.default.statusV3PanelRing]:e.theme===d.STATUS_V3_PANEL,[l.default.businessContactInfoRing]:e.theme===d.BUSINESS_CONTACT_INFO}),width:a,height:a,viewBox:`0 0 ${f} ${f}`,children:[v,S]})}u.defaultProps={size:48,stroke:4,theme:d.STATUS_V3_PANEL}},5358:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3GifController=t.StatusV3CountdownController=void 0,t.setupStatusV3Controller=function(e,t){if(e){if(e.type===l.default.TYPE.IMAGE){let e=4500;return(0,n.default)(t.caption)||(e+=2e3*Math.min(t.caption.length/150,1)),new d(e)}return e.type===l.default.TYPE.VIDEO?t.isGif?new c:new s.default:new d(3e3)}if(t.type===i.default.MSG_TYPE.CHAT){const e=2e3+60*Math.min(t.body.length,1e3);return new d(e)}return new d(3e3)};var n=o(a(41609)),i=o(a(69618)),l=o(a(2320)),s=o(a(25829));const r=()=>{};class d{constructor(e){this.addListeners=(e,t,a,o)=>{this._onStart=e,this._onPause=t,this._onEnded=a,this._onLoaded=o},this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._onLoaded=void 0},this.play=()=>{var e;if(this._timer)return void __LOG__(2)`Duplicate timer start`;this._timer=setTimeout(this._onTimeup,this._timeout),this._start=(new Date).getTime();const t=this._onStart;t&&t(this._timeout,this._duration),null===(e=this._onLoaded)||void 0===e||e.call(this,!1,!0)},this.stop=()=>{if(this._timer){clearTimeout(this._timer),this._timer=null;const e=(new Date).getTime();this._timeout-=e-this._start;const t=this._onPause;t&&t()}else __LOG__(2)`Timer stop called on stopped timer`},this.resume=()=>{this.play()},this.pause=()=>{this.stop()},this._onTimeup=()=>{const e=this._onEnded;e&&e()},this.mute=r,this.unmute=r,this._duration=e,this._timeout=this._duration,this._start=0}get duration(){return this._duration}}t.StatusV3CountdownController=d;const u=6e3;class c{constructor(){this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._onLoaded=void 0,this._videoController.removeListeners(),this._countdownController.removeListeners()},this.setVideo=(e,t)=>{this._video!==e&&(this._video=e,null!=t&&(this._duration=t),this._videoController.setVideo(e))},this._onVideoStartHandler=()=>{const e=this._video;if(null==e)return;const t=this._onStart,a=e.duration||this._duration,o=Math.max(3*a*1e3,u);t&&t(o-1e3*a*this._playCounter-1e3*e.currentTime,o)},this._onVideoPauseHandler=()=>{const e=this._onPause;e&&e()},this._onVideoEndedHandler=()=>{const e=this._video;if(null==e)return;this._playCounter++;const t=this._onEnded;3===this._playCounter&&(this._videoEnded=!0,this._timerEnded&&t&&t()),e.currentTime=0,this._videoEnded&&this._timerEnded||setTimeout((()=>{this._videoController.play()}),0)},this._onVideoLoadedHandler=()=>{var e;null===(e=this._onLoaded)||void 0===e||e.call(this,!1,!0)},this._onTimerEndedHandler=()=>{const e=this._onEnded;this._timerEnded=!0,e&&this._videoEnded&&e()},this.play=()=>{this._videoController.play(),this._countdownController.play()},this.stop=()=>{this._videoController.stop(),this._countdownController.stop()},this.resume=()=>{this._videoController.resume(),this._countdownController.resume()},this.pause=()=>{this._videoController.pause(),this._countdownController.pause()},this.mute=r,this.unmute=r,this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new s.default,this._countdownController=new d(u),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler,this._onVideoLoadedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}addListeners(e,t,a,o){this._onStart=e,this._onPause=t,this._onEnded=a,this._onLoaded=o}get duration(){var e;return Math.max(3*((null===(e=this._video)||void 0===e?void 0:e.duration)||this._duration)*1e3,u)}}t.StatusV3GifController=c},4392:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(94184)),i=a(67294),l=a(64551),s=o(a(34466)),r=o(a(75426)),d=a(85893);function u(e,t){const{onClick:a,current:o,total:u,hasMediaControls:c}=e,f=(0,i.useRef)(null),p=(0,i.useRef)(null),h=[];(0,i.useEffect)((()=>{__LOG__(2)`Current index: ${o}, total count: ${u}`,o>=0&&o<u||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("bad current status v3 index"))}),[]);const m=e=>{a&&a(e)},g=(e,t)=>{if(!f.current)return;const a=1e3*l.ServerProps.statusVideoMaxDuration,o=Math.min(e,a),n=Math.min(t,a);(0,r.default)(f.current,"stop"),p.current=(0,r.default)(f.current,{translateX:["0%",`-${o/n*100}%`]},{duration:o,easing:"linear"})},_=()=>{f.current&&(0,r.default)(f.current,"stop")},C=()=>{const e=p.current;return e||Promise.resolve()};(0,i.useImperativeHandle)(t,(()=>({handleStart:g,handlePause:_,handleEnded:C})));const x=100/e.total+"%";for(let t=0;t<e.total;++t){const a=(0,n.default)(s.default.foreground,{[s.default.filled]:t<e.current,[s.default.empty]:t>e.current,[s.default.active]:t===e.current}),o=(0,d.jsxs)("div",{className:s.default.wrapper,style:{width:x},onClick:()=>m(t),children:[(0,d.jsx)("div",{className:s.default.bg}),(0,d.jsx)("div",{className:s.default.mask,children:(0,d.jsx)("div",{className:a,ref:t===e.current?f:()=>{}})})]},t);h.push(o)}return(0,d.jsx)("div",{className:c?s.default.containerWithMediaControls:s.default.container,children:h})}var c=(0,i.forwardRef)(u);t.default=c},21029:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{seenCount:t,onClick:a}=e;const o=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{name:"status-v3-seen",className:(0,n.default)(d.iconSeen)}),(0,r.jsx)("div",{className:(0,n.default)(d.seenCount),children:t})]}),u=a?(0,r.jsx)(s.default,{xstyle:d.container,onClick:a,children:o}):o;if(null!=t)return(0,r.jsx)("div",{className:(0,n.default)(d.container),children:u});return(0,r.jsx)(i.Spinner,{stroke:3,size:12})};var n=o(a(56720)),i=a(11054),l=o(a(23217)),s=o(a(1784)),r=a(85893);const d={iconSeen:{color:"lxozqee9"},seenCount:{marginLeft:"qddwjlxl",color:"lxozqee9"},container:{display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"ac2vgrno"}}},70860:(e,t,a)=>{"use strict";var o=a(20862),n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Statusv3Snapshot=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var i=n(a(48926)),l=n(a(57043)),s=n(a(44908)),r=n(a(35161)),d=a(40265),u=a(13959),c=a(4352),f=a(59387),p=o(a(22906));class h extends((0,d.customError)("InvalidStatusV3Iterator")){}t.InvalidStatusV3Iterator=h;class m extends((0,d.customError)("StatusV3LoadingError")){}t.StatusV3LoadingError=m;class g extends((0,d.customError)("StatusV3MsgNotFound")){}t.StatusV3MsgNotFound=g;t.Statusv3Snapshot=class{constructor(e,t){var a=this;if(this._printInfo=()=>{this.statuses.forEach((e=>{__LOG__(2)`Total count: ${e.totalCount}, unread count: ${e.unreadCount}, msgs length: ${e.msgs.length}`}))},this.getFirstUnread=(e,t,a)=>{const o=this.statuses.findIndex((t=>t.statusV3===e));if(-1!==o){const n=this.statuses[o],i=n.readMsgKeys;let l;return a?(l=n.msgs?n.msgs.findIndex((e=>a&&e.id.toString()===a.toString())):-1,l>=0?Promise.resolve({msgIdx:l,statusIdx:o}):Promise.reject(new h)):(l=n.msgs?n.msgs.findIndex((e=>!i.includes(e.id.toString()))):-1,-1===l&&e.msgs.msgLoadState.noEarlierMsgs?(l=t?0:n.msgs.length-1,Promise.resolve({msgIdx:l,statusIdx:o})):-1!==l?Promise.resolve({msgIdx:l,statusIdx:o}):0===n.unreadCount&&t&&n.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:o}):this._fetchMore(e).then((()=>this.getFirstUnread(e,t,a))).catch((e=>{throw __LOG__(3)`error while getting first unread status: ${String(e)}`,new h})))}return Promise.reject(new h)},this.hasNext=e=>{const t=this.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<this.statuses.length},this.getNext=e=>{const t=this.statuses[e.statusIdx],a=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(__LOG__(3)`Loaded ${t.msgs.length} messages with total count ${t.totalCount}, but noEarlierMsgs set`,Promise.reject(new h)):this._fetchMore(a).then((()=>this.getNext(e))).catch((t=>{if(__LOG__(3)`error while loading more status msgs: ${String(t)}`,e.statusIdx+1<this.statuses.length){const t=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(t,!0)}throw new h}));if(e.statusIdx+1<this.statuses.length){const t=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(t,!0)}return Promise.reject(new h)},this.hasPrev=e=>e.msgIdx>0||e.statusIdx>0,this.getPrev=e=>{if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){const t=this.statuses[e.statusIdx-1].statusV3;return this.getFirstUnread(t,!1)}return Promise.reject(new h)},this.statusAt=(e,t)=>{const a=this.statuses[e.statusIdx],o=a.statusV3;return t<a.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):o.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new h):this._fetchMore(o).then((()=>this.statusAt(e,t))).catch((e=>{throw __LOG__(3)`error while loading more status msgs: ${String(e)}`,new h}))},this._fetchMore=function(){var e=(0,i.default)((function*(e){if(!(yield(0,c.promiseLoop)(function(){var t=(0,i.default)((function*(t,o,n){const i=(0,u.delayMs)(p.expBackoff(n,12e4,1e3,.1));try{yield e.loadMore();const o=a.statuses.findIndex((t=>t.statusV3===e));if(-1!==o){const n=a.statuses[o],i=n.totalCount,d=n.unreadCount,u=e.msgs.getModelsArray().slice(0,i),c=u.slice(0,i-d),f=(0,r.default)(c,(e=>e.id.toString()));n.msgs=u,n.readMsgKeys=(0,s.default)((0,l.default)(n.readMsgKeys,f)),t(!0)}else{if(!(n>=4))return i;t(!1)}}catch(e){if(!(n>=4))return i;t(!1)}}));return function(){return t.apply(this,arguments)}}())))throw new m}));return function(){return e.apply(this,arguments)}}(),t){const a=e.msgs.getModelsArray().find((e=>t&&e.id.toString()===t.toString()));if(!a)throw new g;this.statuses=[{statusV3:e,totalCount:1,unreadCount:0,msgs:[a],readMsgKeys:[a.id.toString()]}]}else if(e.unreadCount>0&&!e.contact.isMe&&!e.contact.statusMute){const e=f.StatusV3Collection.getUnexpired(!0),t=[];e.forEach((e=>{if(e.contact.statusMute)return;const a=e.msgs.getModelsArray(),o=e.totalCount-e.unreadCount,n=a.slice(0,o),i=(0,r.default)(n,(e=>e.id.toString()));t.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:a,readMsgKeys:i})})),this.statuses=t}else{const t=e.msgs.getModelsArray(),a=e.totalCount-e.unreadCount,o=t.slice(0,a),n=(0,r.default)(o,(e=>e.id.toString())),i=[{statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:n}];this.statuses=i}this._printInfo()}}},25829:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(64551);function n(e){return Math.min(e,o.ServerProps.statusVideoMaxDuration)}var i=class{constructor(){this.addListeners=(e,t,a,o)=>{this._onStart=e,this._onPause=t,this._onEnded=a,this._onLoaded=o},this.setVideo=e=>{this._video!==e&&(this._unsetVideo(),this._video=e,null!=e&&(e.addEventListener("playing",this._onPlayingHandler),e.addEventListener("pause",this._onPauseHandler),e.addEventListener("ended",this._onEndedHandler),e.addEventListener("timeupdate",this._onTimeUpdate),e.addEventListener("loadeddata",this._onLoadedData)))},this._unsetVideo=()=>{const e=this._video;e&&(this.stop(),e.removeEventListener("playing",this._onPlayingHandler),e.removeEventListener("pause",this._onPauseHandler),e.removeEventListener("ended",this._onEndedHandler),e.removeEventListener("timeupdate",this._onTimeUpdate),e.removeEventListener("loadeddata",this._onLoadedData))},this.play=()=>{this._video&&this._video.play()},this.pause=()=>{this._video&&!this._video.paused&&this._video.pause()},this.resume=()=>{this._video&&this._video.play()},this.stop=()=>{this._video&&!this._video.paused&&this._video.pause()},this._changeMuted=e=>{this._video&&(this._video.muted=e)},this.mute=()=>{this._changeMuted(!0)},this.unmute=()=>{this._changeMuted(!1)},this._onPlayingHandler=()=>{const e=this._video;if(null==e)return;const t=this._onStart;if(t){const a=n(e.duration);t(1e3*(a-e.currentTime),1e3*a)}},this._onPauseHandler=()=>{const e=this._onPause;e&&e()},this._onEndedHandler=()=>{const e=this._onEnded;e&&e()},this._onTimeUpdate=()=>{var e;const t=null===(e=this._video)||void 0===e?void 0:e.currentTime;if(null!=t&&t>=o.ServerProps.statusVideoMaxDuration){this.stop(),this._onEndedHandler();const e=this._video;e&&(e.removeEventListener("timeupdate",this._onTimeUpdate),e.removeEventListener("ended",this._onEndedHandler))}},this._onLoadedData=()=>{const e=this._video;if(e){var t;const a=e.audioTracks&&e.audioTracks.length>0||!0===e.mozHasAudio||e.webkitAudioDecodedByteCount>0,o=e.muted;null===(t=this._onLoaded)||void 0===t||t.call(this,a,o)}},this.removeListeners=()=>{this.stop(),this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0}}get duration(){return null==this._video?0:1e3*n(this._video.duration)}};t.default=i},24687:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.getSelection().removeAllRanges();const t=document.getElementById(e),a=document.createRange();t&&a.selectNode(t),window.getSelection().addRange(a);try{const e=document.execCommand("copy");return window.getSelection().removeAllRanges(),e}catch(e){return!1}}},34553:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.pause(),e.src="",e.remove()}},10483:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(81109)),i=a(24808);const l=a(28757),s={};s[i.ExtendedTextMessageFontType.SERIF]={google:{families:["Roboto"]}},s[i.ExtendedTextMessageFontType.SANS_SERIF]={google:{families:["Droid Serif"]}},s[i.ExtendedTextMessageFontType.NORICAN_REGULAR]={google:{families:["Norican"]}},s[i.ExtendedTextMessageFontType.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},s[i.ExtendedTextMessageFontType.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};const r={};r[i.ExtendedTextMessageFontType.BRYNDAN_WRITE]=`@font-face {font-family:"Bryndan-Write"; src:url("${l}") format("truetype");}`;var d=new class{constructor(){this.loadedFonts={},this.loadingPromise={}}load(e){if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];const t=s[e],a=r[e];let o;o=a?new Promise(((e,t)=>{const o=document.createElement("style");o.appendChild(document.createTextNode(a)),o.onload=e,o.onerror=t,document.head&&document.head.appendChild(o)})):Promise.resolve();const i=o.then((()=>new Promise(((a,o)=>{const i=(0,n.default)((0,n.default)({},t),{},{active:()=>{this.loadedFonts[e]=!0,a()},inactive:()=>{this.loadingPromise[e]=void 0,o(new Error(`Failed to load font: ${e}`))}});WebFont.load(i)}))));return this.loadingPromise[e]=i,i}loadAllFonts(){return Promise.all(Array.from(i.ExtendedTextMessageFontType.members()).map((e=>this.load(e))))}};t.default=d},66797:(e,t,a)=>{"use strict";var o=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.GK.supportsFeature(i.GK.F.RICH_TEXT)?(0,n.default)(e,r,s.TextSerializer):e};var n=o(a(57705)),i=a(7293),l=a(5124),s=a(11731);const r=l.Configuration.ComposeBox()},61358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCatalogLink=function(e){return`https://wa.me/c/${e}`},t.createProductLink=function(e,t){return`https://wa.me/p/${t}/${e}`}},28757:(e,t,a)=>{e.exports=a.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},34203:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={coverPhoto:"_3bmNw",isEditable:"_1k-Tj",avatar:"_1KIoW",noStatusBorder:"kNRox",hasStatusBorder:"_8N7c7"}},2570:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={cartIcon:"_3Nx1E",inheritColor:"_1lxeQ"}},64871:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={labelRow:"_49vG",standaloneLabelRow:"_2l3_Y",labelContainer:"_1Nfyf",standaloneLabelContainer:"DENbs"}},483:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={chevron:"_2iDVt",catalogEntryButton:"_2m9wT",shopsLogo:"_31fGS"}},70098:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={prompt:"x-vzn"}},85822:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={linkIcon:"_1FiUT",inheritColor:"NwJSN"}},32442:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={linkContainer:"_39Tm3",activeLink:"_3YkDH"}},71452:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={addItemButton:"BmLy_",themeInList:"_3ZIW8",themeCollections:"NFwOH",themeDefault:"_2XlPd"}},75619:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={pendingBanner:"_26aYR",iconContainerPending:"L-2H5",iconContainerRejected:"_39dOD",rejectedBanner:"_1tqTc",rejectedBannerWithAppeal:"RHd_X"}},8902:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={header:"ycpXx",list:"iQNxs"}},4056:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={list:"_3ShRn",addItemsNotice:"_31dcv"}},24128:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={collectionListItem:"nIB_q",collectionName:"uK8-H",seeAllLink:"P0xwG",reviewStateRejected:"_3BNoL"}},71212:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={body:"iEmhs",loadingContainer:"_6Jq-L",text:"_1t5Y4",loadingText:"_2ZaWw",shiftUp:"_2DwjK",availabilityBanner:"_39YKr"}},40305:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={buttonContainer:"_1uea4",button:"_3dAt6",addToCartButton:"NeLXF",addToCartIcon:"ZfREZ",addToCartIconDisabled:"_16avf",addToCartContainer:"_3L8a9",name:"_2_mFa",price:"_15XLs",originalPrice:"_1oNAr",description:"_3ROY2",more:"_1dlIm"}},15475:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={productImage:"fkslc",productImageContainer:"_18n4q",productThumb:"IO4T6",productThumbContainer:"ime-i",prompt:"_3OFgQ"}},32967:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={header:"_2tWjM",list:"_3XbAc"}},23978:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={header:"_16mlH",photo:"_21sHs",text:"_2lk6f",name:"pTNRM",description:"_2GV6F",spinner:"O1bTA",img:"_3i1KT"}},66990:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={imageCarouselContainer:"_3lMwD"}},73738:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={buttons:"_1_Ctk",button:"_23YI8"}},74463:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={section:"_2_Qk3",reasonList:"_3671k",label:"_1mEAu",input:"Ot7Tv",buttons:"_1HIH3"}},39893:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={notifyName:"_3Pmbe"}},61388:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={separator:"Wt3HP",block:"_11V85"}},63696:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={carousel:"alksS",contentContainer:"OkAlG",slidesContainer:"_1w5W1",loaded:"j1J2j",fadeIn:"_2QkLV",spinnerContainer:"_1kDDe",spinner:"_3j4fM"}},89882:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={slide:"_2MjCA",slideInnerContainer:"_2cG76",image:"ubkU5"}},97018:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={canvasComponent:"_1OaQb",canvasEmpty:"_3jEqW",canvasSecondRow:"_13Jdf",canvasFirst:"az8Pk",more:"_2e4dR",container:"_1TLrW",justifySpaceBetween:"_2UyBh",galleryEmpty:"_160BB",drawer:"v7KVf",drawerBody:"_1QjIY",themeNewChatInfo:"mjwXn"}},34435:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={icon:"_23QTJ",disabled:"iP9Fm",transparent:"_2HMfd",compact:"_25tj-"}},39935:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={section:"_17dED",control:"_3T0RE"}},22036:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={description:"_1PJIk"}},87919:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={actionText:"-KBcF"}},98653:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={icon:"_3ovSZ"}},16115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={icon:"_2I7Gg"}},89600:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={container:"_2QzJd",disabled:"_37VyS",containerNoIcon:"_1EaD-",containerListAligned:"_1I4H7",icon:"_13qOF",danger:"_1O1hL",success:"x8B-w",bodyContainer:"_36Lzk",body:"Qy5WW",themeNewChatInfo:"_1X2he"}},99597:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={mediaPanelTools:"f3Dup",profileThumb:"_2xUs5",profileContainer:"Cq6XJ",media:"_1_TZb",profileViewer:"_3OWRM",profileViewerImg:"_2hH_e",container:"_9-YHG","media-viewer-animate":"_7DTuk",mediaViewerAnimate:"_7DTuk",headerContainer:"_1U_13"}},17932:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={icon:"woEzZ"}},65257:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={playerWrapper:"eRZop",mediaViewer:"_26Q83",mediaStateControls:"_1QgJ4",playerBackground:"_1NZyY",media:"_1cMSa",mediaCaption:"_3mK4N",progressBackdrop:"_2x6Y5",progressBarBackdropNarrow:"_1XJW2",profile:"_1DNOU",nonClickProfile:"_1VRZa",profileNarrow:"ib1vZ",profileWithMediaControls:"_1SfD2",playerAvatar:"_2rzx9",verified:"_2iJLu",icon:"t9Exe",measuringProfile:"_2AJhM",profileMac:"_2_AIZ",msgInfo:"_20zpf",msgInfoNameWrapper:"_1tRGW",msgInfoName:"_3B-fQ",timestamp:"_5SjOa",playerContent:"_1xAJD",v3Image:"_2ATdo",actionLink:"_27-nF",v3Video:"EdAF7",statusPanelPlayerContent:"_2Ks9x",statusThumbnailPlayerContent:"_2RQ_J",loading:"_3aA3i",text:"_3KpnX",textLarge:"i-2rU",textMedium:"_2uTr8",textSmall:"_4WvQQ",font_1:"_2fG2M",font1:"_2fG2M",font_2:"_2MDaZ",font2:"_2MDaZ",font_3:"_1erpH",font3:"_1erpH",font_5:"Suusu",font5:"Suusu",unknown:"_3Rxrh",seen:"_3K-VL",messageId:"JhiXu",textThumbnailPlayerContent:"_1V-um",statusMediaControls:"SU2X1"}},18914:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={container:"_1ufTj",inputContainer:"_1rO5S",btnContainer:"_3KRZ3",btnPosition:"D6yuB"}},42138:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={statusV3PanelRing:"cFfKt",businessContactInfoRing:"_3EL6s",read:"_3tgk6",unread:"_1min4"}},34466:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={container:"_3b17O",containerWithMediaControls:"i3Rke",wrapper:"sZBni",mask:"_3CRhO",bg:"_3r7AV",foreground:"_3f8oh",filled:"_3t0iC",empty:"_1A2HZ",active:"_2gskD"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.d2b45a338f35fc60d303.js.map
