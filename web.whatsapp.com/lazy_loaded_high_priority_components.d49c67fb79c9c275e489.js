/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[7205],{31789:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a;if(e.size!==t.size)return!1;for(const[n,i]of e)if(a=t.get(n),a!==i||void 0===a&&!t.has(n))return!1;return!0}},54646:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupProperty=function(e,t,a){return x((0,h.unproxy)(e),t,a)};var i=a(50796),s=a(92574),l=a(12380),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(a(35232)),r=a(94816),d=a(48360),c=a(46331),u=n(a(14296)),f=a(57490),h=a(18146),p=a(85893);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g={announcement:"announce",restrict:"restrict",no_frequently_forwarded:"noFrequentlyForwarded",ephemeral:"ephemeralDuration"};function x(e,t,a){var n,h;let m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,c.genId)();if(!t)return Promise.reject(new o.ActionError);if(t===l.GROUP_SETTING_TYPE.EPHEMERAL&&!(null===(n=e.groupMetadata)||void 0===n?void 0:n.canSetEphemeralSetting()))return Promise.reject(new o.ActionError);if(t!==l.GROUP_SETTING_TYPE.EPHEMERAL&&!(null===(h=e.groupMetadata)||void 0===h?void 0:h.canSetGroupProperty()))return Promise.reject(new o.ActionError);const v=(0,f.sendSetGroupProperty)(e.id,t,a),_={[l.GROUP_SETTING_TYPE.ANNOUNCEMENT]:{on:[d.fbt._("Allowing only admins to send messages to this group",null,{hk:"7c1j2"}),d.fbt._("You allowed only admins to send messages to this group",null,{hk:"TgjEr"})],off:[d.fbt._("Allowing all participants to send messages to this group",null,{hk:"4cLMI3"}),d.fbt._("You allowed all participants to send messages to this group",null,{hk:"1PCiIv"})]},[l.GROUP_SETTING_TYPE.RESTRICT]:{on:[d.fbt._("Allowing only admins to change this group's info",null,{hk:"PbjyR"}),d.fbt._("You allowed only admins to change this group's info",null,{hk:"39H5jp"})],off:[d.fbt._("Allowing all participants to change this group's info",null,{hk:"3fBDr9"}),d.fbt._("You allowed all participants to change this group's info",null,{hk:"4AVVnx"})]},[l.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED]:{on:[d.fbt._("Blocking participants from sending messages that have been forwarded many times to this group",null,{hk:"lpVO4"}),d.fbt._("You blocked participants from sending messages that have been forwarded many times to this group",null,{hk:"22llJ6"})],off:[d.fbt._("Allowing participants to send messages that have been forwarded many times to this group",null,{hk:"UUxQ6"}),d.fbt._("You allowed participants to send messages that have been forwarded many times to this group",null,{hk:"3A3ppd"})]},[l.GROUP_SETTING_TYPE.EPHEMERAL]:{on:[d.fbt._("Turning on disappearing messages in this chat",null,{hk:"8QDLb"}),d.fbt._("You turned on disappearing messages in this chat",null,{hk:"27eqpQ"})],off:[d.fbt._("Turning off disappearing messages in this chat",null,{hk:"4nYVdI"}),d.fbt._("You turned off disappearing messages in this chat",null,{hk:"6y3db"})]}},b=0===a?"off":"on",[C,M]=_[t][b],j=new c.ActionType(C),S=v.then((()=>new c.ActionType(M))).catch((0,i.filteredCatch)(s.ServerStatusCodeError,(e=>{if(404===e.status)return new c.ActionType(d.fbt._("Group setting could not be changed",null,{hk:"3WCKMX"}).toString()+" "+d.fbt._("This group has ended.",null,{hk:"C2izu"}).toString())}))).catch((()=>(__LOG__(3)`Error while setting property`,new c.ActionType(d.fbt._("Group setting could not be changed",null,{hk:"3WCKMX"}),{actionText:u.default.t(122),actionHandler:()=>x(e,t,a,m)}))));return r.ToastManager.open((0,p.jsx)(c.ActionToast,{id:m,initialAction:j,pendingAction:S})),v.then((n=>{var i;n._duplicate||(null===(i=e.groupMetadata)||void 0===i||i.set(g[t],a))})).catch((0,i.filteredCatch)(s.ServerStatusCodeError,(()=>{})))}},16419:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t,onClick:a,contextMenu:l,isPendingParticipant:o,contextEnabled:r,onContext:d,theme:c,showStatusRingAroundProfilePhoto:u}=e,f=(0,n.useModelValues)(e.participant,["isAdmin"]);return(0,s.jsx)(i.Contact,{contact:t,admin:f.isAdmin,onClick:a,theme:c||"drawer-list",contextEnabled:()=>null!=r&&r(t),contextMenu:l,onContext:e=>null==d?void 0:d(e,t),isPendingParticipant:o,showNotifyName:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:u})};var n=a(35461),i=a(2732),s=a(85893)},45863:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(45095)),s=a(22712),l=a(67811),o=a(26741),r=a(67294),d=n(a(59828)),c=n(a(58528)),u=a(84387),f=n(a(52500)),h=a(94270),p=a(62583),m=n(a(4478)),g=a(65044),x=a(85893);class v extends r.Component{constructor(){super(...arguments),this._setRefAudio=e=>{var t;this._audioElement=e,null===(t=this._unregisterFromAudioChannel)||void 0===t||t.call(this),this._unregisterFromAudioChannel=null==e?null:s.MainAudioChannel.registerMedia(e),null!=this.props.setRefAudio&&this.props.setRefAudio(e)},this.clearCheckForSuccess=()=>{this.checkForSuccessInterval&&(this.props.clearInterval(this.checkForSuccessInterval),this.checkForSuccessInterval=0,this.checkIteration=0)},this._handlePlaying=()=>{this.clearCheckForSuccess()},this._handlePlayerError=e=>{this.clearCheckForSuccess(),this.props.onError&&this.props.onError(e.target.src)},this.checkForSuccess=()=>{if(g.Socket.state!==p.SOCKET_STATE.CONNECTED)return;this.checkIteration++;const e=this.props.url;if(this.checkIteration>40)return void this._handlePlayerError({target:{src:e,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});const t=(0,i.default)(this._audioElement,"this._audioElement").buffered;t.length&&t.end(0)>0&&this._handlePlaying()},this.startCheckForSuccess=()=>{this.checkIteration=0,this.checkForSuccessInterval=this.props.setInterval(this.checkForSuccess,250)}}pause(){var e;null===(e=this._audioElement)||void 0===e||e.pause()}componentWillUnmount(){var e;null===(e=this._unregisterFromAudioChannel)||void 0===e||e.call(this),o.UA.isBlink&&(0,c.default)((0,i.default)(this._audioElement,"this._audioElement"))}_updatePlaybackRate(){const e=(0,i.default)(this._audioElement,"this._audioElement"),{playbackRate:t}=this.props;e.defaultPlaybackRate===t&&e.playbackRate===t||(e.defaultPlaybackRate=e.playbackRate=null!=t?t:1)}componentDidUpdate(){this._updatePlaybackRate()}componentDidMount(){const{listeners:e}=this.props,t=(0,i.default)(this._audioElement,"this._audioElement");this._updatePlaybackRate(),e.add(t,"error",this._handlePlayerError,{capture:!0}),e.add(t,"playing",this._handlePlaying),(o.UA.isGecko||o.UA.isSafari)&&(this.props.autoPlay?(this.checkIteration=0,this.checkForSuccessInterval=this.props.setInterval(this.checkForSuccess,250)):this.props.autoPlay?this.startCheckForSuccess():e.add(t,"play",this.startCheckForSuccess))}render(){const e=h.ReactionBubbleType.MEDIA_ITEM,{msg:t}=this.props;return(0,x.jsxs)("div",{className:this.props.className,children:[(0,x.jsx)("audio",{ref:this._setRefAudio,className:d.default.audioTag,src:this.props.url,onClick:this.props.onClick,controls:this.props.controls,preload:this.props.preload,autoPlay:this.props.autoPlay,children:this.props.children}),t&&(0,l.shouldShowReactionBubble)(t,e)&&(0,x.jsx)(f.default,{msgIds:[t.id.toString()],reactionBubbleType:e})]})}}v.displayName="AudioTag";var _=(0,u.ListenerHOC)((0,m.default)(v));t.default=_},5577:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{docMsgs:t,chat:a}=e,n=(0,s.default)(e,x),v=(0,c.default)(),_=(0,r.useRef)(null);let b;(0,d.useListener)(t,"add remove reset query_doc_before",(()=>{var e;null===(e=_.current)||void 0===e||e.forceUpdate()})),((0,l.isMDBackend)()&&a.endOfHistoryTransferType===u.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||a.endOfHistoryTransferType===u.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC)&&(b=(0,g.jsx)(f.default,{icon:(0,g.jsx)(m.default,{name:"content-chat"}),theme:"list",secondary:o.fbt._("Use WhatsApp on your phone to see the complete message history.",null,{hk:"2qbSkX"}),children:o.fbt._("Older documents may be available",null,{hk:"3q5iPh"})}));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.default,(0,i.default)({ref:_,msgsCollection:t,queryCollection:(e,n)=>{v((()=>{t.queryDocs(a,n)}))},hasBefore:t.hasDocBefore,queryBefore:t.queryDocBefore,emptyText:h.default.t(572),chat:a},n)),b]})};var i=n(a(81109)),s=n(a(6479)),l=a(88555),o=a(48360),r=a(67294),d=a(87550),c=n(a(74570)),u=a(63183),f=n(a(58654)),h=n(a(14296)),p=n(a(19593)),m=n(a(23217)),g=a(85893);const x=["docMsgs","chat"]},61086:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEphemeralSettingRow=x,t.EphemeralSettingRow=function(e){const{chat:t,groupMetadata:a,onClick:n,testid:i}=e;if(a)return(0,p.jsx)(g,{groupMetadata:a,onClick:n,testid:i});return(0,p.jsx)(m,{chat:t,onClick:n,testid:i})};var i=a(14597),s=a(48360),l=a(35461),o=a(80140),r=n(a(75116)),d=n(a(52665)),c=a(79259),u=n(a(14296)),f=a(41566),h=a(13923),p=a(85893);const m=function(e){const{onClick:t,testid:a}=e,n=(0,l.useModelValues)(e.chat,["contact","ephemeralDuration"]),r=()=>{var e;return null!==(e=n.ephemeralDuration)&&void 0!==e?e:0},c=()=>{n.contact.addPendingAction((0,o.unblockContact)(n.contact)).then((()=>{t(),i.ModalManager.close()})).catch((()=>{}))},f=()=>{i.ModalManager.close()};return(0,p.jsx)(x,{ephemeralDuration:r(),canChange:!0,onClick:()=>{n.contact.isContactBlocked?i.ModalManager.open((0,p.jsx)(d.default,{onOK:c,okText:u.default.t(681),onCancel:f,cancelText:s.fbt._("Cancel",null,{hk:"H0gNq"}),children:r()?s.fbt._("You can't turn off disappearing messages for this chat unless you unblock this contact.",null,{hk:"o3zdA"}):s.fbt._("You can't turn on disappearing messages for this chat unless you unblock this contact.",null,{hk:"1uAyoI"})})):t()},testid:a})};const g=function(e){var t;const{onClick:a,testid:n}=e,o=(0,l.useModelValues)(e.groupMetadata,["ephemeralDuration","participants"]),r=()=>{i.ModalManager.close()};return(0,p.jsx)(x,{ephemeralDuration:null!==(t=o.ephemeralDuration)&&void 0!==t?t:0,canChange:o.canSetEphemeralSetting(),onClick:()=>{o.canSetEphemeralSetting()?a():i.ModalManager.open((0,p.jsx)(d.default,{onOK:r,okText:s.fbt._("OK",null,{hk:"2KEeHb"}),children:s.fbt._("Only admins can change this setting.",null,{hk:"1NF1gS"})}))},testid:n})};function x(e){const{ephemeralDuration:t,canChange:a,onClick:n,testid:i}=e;let l;l=t>0?a?(0,f.isEphemeral24HDurationEnabled)()?(0,c.getDisappearingMessageDurationString)(t):u.default.t(347):(0,c.getDisappearingMessageExplanationString)(t):u.default.t(346);const o=(0,p.jsx)(h.TextSpan,{theme:"title",children:s.fbt._("Disappearing messages",null,{hk:"384ocn"})}),d=(0,p.jsx)(h.TextDiv,{theme:"muted",testid:"chat-dm-settings-item-value",children:l});return(0,p.jsx)(r.default,{side:"chevron",icon:"disappearing",onClick:n,title:o,secondaryTitle:d,testid:i})}},93528:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{linkMsgs:t,chat:a,selectedMessages:n,selectable:C,onMessageSelect:M}=e,j=(0,u.default)(),S=(0,d.useRef)(null);let k;(0,c.useListener)(t,"add remove reset",(()=>{var e;null===(e=S.current)||void 0===e||e.forceUpdate()})),(0,c.useListener)(t,"query_doc_before",(()=>{var e;null===(e=S.current)||void 0===e||e.forceUpdate()})),(0,c.useListener)(a.msgs,"add bulk_add",(e=>{if(!e)return;const a=[],n=Array.isArray(e)?e:[e];Promise.all(n.map((e=>(e.getLinks().length&&a.push(e),Promise.resolve())))).then((()=>{a.length&&t.add(a)}))})),((0,l.isMDBackend)()&&a.endOfHistoryTransferType===f.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||a.endOfHistoryTransferType===f.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC)&&(k=(0,_.jsx)(h.default,{icon:(0,_.jsx)(v.default,{name:"content-chat"}),theme:"list",secondary:r.fbt._("Use WhatsApp on your phone to see the complete message history.",null,{hk:"2qbSkX"}),children:r.fbt._("Older links may be available",null,{hk:"1Hs22g"})}));const{linkMsgs:E,chat:T}=e,y=(0,s.default)(e,b);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(g.default,(0,i.default)({ref:S,msgsCollection:t,queryCollection:(e,n)=>{j((()=>{t.queryLinks(a,n)}))},hasBefore:t.hasLinkBefore,queryBefore:t.queryLinkBefore,renderElements:e=>{const a=[];return t.forEach((t=>{const i=!t.isSentByMe&&t.isGroupMsg;t.getGalleryLinks().forEach(((s,l)=>{s.href!==t.matchedText&&a.push((0,_.jsx)(m.default,{msg:t.safe(),link:s,displayAuthor:i,selectable:C,selectedMessages:n,onMessageSelect:M,onClickMsg:e},`${t.id.toString()}-${l}`))})),t.linkPreview&&a.push((0,_.jsx)(x.default,{msg:t,selectable:C,selectedMessages:n,onMessageSelect:M,displayType:o.DISPLAY_TYPE.GALLERY,onClickMsg:e},t.id.toString()))})),a.reverse(),a},emptyText:p.default.t(574),chat:a},y)),k]})};var i=n(a(81109)),s=n(a(6479)),l=a(88555),o=a(5177),r=a(48360),d=a(67294),c=a(87550),u=n(a(74570)),f=a(63183),h=n(a(58654)),p=n(a(14296)),m=n(a(36576)),g=n(a(19593)),x=n(a(35563)),v=n(a(23217)),_=a(85893);const b=["linkMsgs","chat"]},36576:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{link:t,displayAuthor:a,selectedMessages:n,onMessageSelect:C,onClickMsg:M}=e,j=(0,d.useModelValues)(e.msg,["body","caption","dir","id","isSentByMe","mediaData","type","rtl","senderObj","star","mediaData","asRevoked"]),[S,k]=(0,o.useState)(!1),[E,T]=(0,o.useState)((()=>n.isSelected(j.unsafe())));(0,r.useListener)(n,j.id.toString(),(e=>{E!==e&&T(e)}));const y=e.selectable||S?(0,b.jsx)(x.default,{checked:E,onClick:e=>{e&&e.stopPropagation(),C(j.unsafe(),!E)},msgTheme:"gallery"}):null,P=(0,u.Conversation)({mentions:j.mentionMap(),links:j.getLinks(),phoneNumbers:j.getPhoneNumbers(),selectable:true,trusted:j.isTrusted(),fromMe:j.id.fromMe}),w=j.body&&j.body.includes(t.url)?j.body:j.caption,A=a?(0,b.jsx)("div",{className:m.default.author,children:(0,b.jsx)(c.default,{msg:j,contact:j.senderObj})}):null,I=j.getSuspiciousLinks().length>0;return(0,b.jsx)(h.default,{hover:S,onClick:()=>{M(j.unsafe(),!E)},onMouseEnter:S?null:()=>{S||k(!0)},onMouseOver:S?null:()=>{S||k(!0)},onMouseLeave:S?()=>{S&&k(!1)}:null,children:(0,b.jsxs)("div",{className:m.default.msg,children:[(0,b.jsx)(s.default,{transitionName:"delay-leave",children:y}),(0,b.jsx)(_.MessageContainer,{isSentByMe:j.isSentByMe,children:(0,b.jsxs)("div",{className:(0,l.default)(m.default.bubble,{[m.default.hasAuthor]:a,[m.default.hasSuspiciousLinks]:I}),children:[A,(0,b.jsx)(v.SuspiciousLabel,{link:t,displayType:i.DISPLAY_TYPE.GALLERY}),(0,b.jsx)(g.default,{title:t.url,isSentByMe:j.isSentByMe,canonicalUrl:t.domain,displayType:i.DISPLAY_TYPE.GALLERY,star:j.star}),(0,b.jsx)(f.EmojiText,{text:w,selectable:true,className:m.default.text,dirMismatch:j.rtl!==p.default.isRTL(),direction:j.dir,formatters:P})]})})]})})};var i=a(5177),s=n(a(40436)),l=n(a(94184)),o=a(67294),r=a(87550),d=a(35461),c=n(a(72655)),u=a(74331),f=a(65417),h=n(a(23296)),p=n(a(14296)),m=n(a(8767)),g=n(a(51845)),x=n(a(20485)),v=a(7538),_=a(58827),b=a(85893)},88224:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{fullCollection:t,selectedMessages:a,mediaMsgs:n,selectable:c,onMessageSelect:S,theme:w}=e,A=(0,g.useModelValues)(e.chat,["linkCount","docCount","productCount","endOfHistoryTransferType"]),I=(0,p.default)(),N=(0,v.default)();(0,m.useListener)(n,"add query_media_before",(()=>{I()})),(0,m.useListener)(n,"remove",(e=>{a&&a.isSelected(e)&&a.setVal(e,!1),I()})),(0,m.useListener)(n,"reset",(()=>{a&&a.unsetAll(),I()}));const D=function(e,t,a,n,o,d){let c=null;const u=(0,l.default)(e,(e=>-e.t)).filter(P).slice(0,!0===t?e.length:6);return(0,s.default)(u,((e,s)=>{const l=!0!==t&&s>=3&&s<=5?"hideableSecondRow":void 0,u=(0,T.jsx)(C.default,{className:(0,h.default)(d&&y.roundedThumb),aspectRatio:d?1.1:1,msg:e,hoverEvent:t,selectable:a,selectedMessages:n,onMessageSelect:o,theme:l},e.id.toString());if(!0!==t)return[u];const f=r.Clock.monthStr(e.t);if(f!==c){c=f;const t=(0,T.jsx)(M.default,{children:f},`header-${e.t}`);return[...(0,i.default)(6,(t=>(0,T.jsx)(j.EmptyCanvas,{},`padding-${e.t}-${t}`))),t,u]}return[u]}))}(n.toArray(),t,c,a,S,"chat-info"===w),O=e=>{n.hasMediaBefore&&N((()=>{n.queryMedia({chat:(0,k.unproxy)(A),msg:e})}))},R=(0,x.default)((e=>{n.hasMediaBefore&&e.scrollTop+d.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&O(n.head())}),100);let L;if((0,f.useEffect)((()=>{n.hasMediaBefore&&O()}),[]),(0,o.isMDBackend)()&&A.endOfHistoryTransferType===_.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||A.endOfHistoryTransferType===_.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC){let e;!0===t?e=u.fbt._("Older media may be available",null,{hk:"1ml0rh"}):0===n.length&&0===A.docCount&&0===A.linkCount&&0===A.productCount&&(e=u.fbt._("Older files may be available",null,{hk:"2BvwwV"})),L="chat-info"===w?(0,T.jsx)(b.default,{theme:"chat-info",secondary:u.fbt._("Use WhatsApp on your phone to see the complete message history.",null,{hk:"2qbSkX"}),children:e}):(0,T.jsx)(b.default,{icon:(0,T.jsx)(E.default,{name:"content-chat"}),theme:"list",secondary:u.fbt._("Use WhatsApp on your phone to see the complete message history.",null,{hk:"2qbSkX"}),children:e})}return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(j.MediaGalleryView,{medias:D,mediaCollection:n,fullCollection:t,chat:(0,k.unproxy)(A),onScroll:e=>{R(e.currentTarget)},theme:w}),L]})};var i=n(a(98913)),s=n(a(94654)),l=n(a(89734)),o=a(88555),r=a(40234),d=a(41906),c=a(8139),u=a(48360),f=a(67294),h=n(a(56720)),p=n(a(59312)),m=a(87550),g=a(35461),x=n(a(90886)),v=n(a(74570)),_=a(63183),b=n(a(58654)),C=n(a(11858)),M=n(a(73307)),j=a(60263),S=a(41908),k=a(18146),E=n(a(23217)),T=a(85893);const y={roundedThumb:{marginEnd:"bugiwsl0",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"}};function P(e){return!!(0,c.isMediaGalleryFixEnabled)()||(!(0,o.isMDBackend)()||(0,S.hasThumbnail)(e.mediaData))}},11858:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,hoverEvent:a,selectable:n,onMessageSelect:m,theme:g,className:x,selectedMessages:v}=e,[_,b]=(0,o.useState)((()=>!(!v||!v.isSelected(t)))),C=(0,o.useRef)(null);(0,r.useListener)(v,t.id.toString(),(e=>{v&&_!==e&&b(e)}));const M=t.mediaData,j=M.type===d.default.TYPE.IMAGE&&M.renderableUrl?e=>{e.nativeEvent.dataTransfer.setData("text/uri-list",t.mediaData.renderableUrl)}:null,S=(0,l.default)(x);return(0,p.jsx)(u.MediaThumb,{classes:S,onClick:e=>{if(n&&m)return void m(t,!_);if(M.mediaStage===f.MEDIA_DATA_STAGE.ERROR_MISSING)return void s.ModalManager.open((0,p.jsx)(c.default,{msg:t}));let a;e&&e.stopPropagation();const l=t.id;if(M.isGif||M.type===d.default.TYPE.IMAGE){const e=C.current;a=t=>l.equals(t)&&e?e:null}i.Cmd.mediaViewerModal({msg:(0,h.unproxy)(t),getZoomNode:a})},hoverEvent:a,selectable:n,selected:_,onMessageSelect:m,onDragStart:j,msg:t,theme:g,imgRef:e=>{C.current=e},aspectRatio:e.aspectRatio})};var i=a(81572),s=a(14597),l=n(a(94184)),o=a(67294),r=a(87550),d=n(a(2320)),c=n(a(20668)),u=a(41908),f=a(58668),h=a(18146),p=a(85893)},73307:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)("div",{className:i.default.container,children:e.children})};var i=n(a(11354)),s=a(85893)},41908:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaThumb=function(e){var t;const{msg:a,selectable:n,theme:f,active:y,imgRef:P,containerRef:w,onMessageSelect:A,selected:I=!1,onClick:N,onDragStart:D,preferPreview:O}=e,R=(0,o.default)(),L=(0,l.useRef)(null),B=(0,l.useRef)(null),G=(0,l.useRef)(null),[F,V]=(0,l.useState)(!1),[U,H]=(0,l.useState)(null);(0,r.useListener)(a.mediaData,["change:preview","change:mediaStage"],R);(0,l.useEffect)((()=>(null==P||P(L.current),null==w||w(B.current),null==a.mediaData.preview&&null==a.mediaData.fullPreviewData&&(a.mediaData.type!==h.default.TYPE.IMAGE&&a.mediaData.type!==h.default.TYPE.VIDEO||a.downloadMedia({downloadEvenIfExpensive:!1,isUserInitiated:!1,rmrReason:C.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER})),()=>{null==P||P(null),null==w||w(null)})),[]),(0,l.useEffect)((()=>{null==P||P(L.current),null==w||w(B.current)}),[P,w,L,B]);const q=()=>{A&&A(a,!I)},W=()=>{F||V(!0)},Y=t=>{if(!0!==e.showTooltip||"viewerFlowTransparent"===f||!(t instanceof HTMLElement))return null;const n=t.offsetWidth;return{menu:(0,k.jsx)(_.default,{msg:a}),anchor:t,dirY:u.DirY.TOP,dirX:u.DirX.CENTER,offsetX:!0===y?.5*-n*.13:0,type:u.MenuType.Tooltip}},[z,K]=(0,d.useTimeout)((()=>{var e;G.current&&(e=G.current,H(Y(e)))}),500),X=e=>{var t;F||(e.persist(),V(!0),t=e.target,G.current=t,z())},Z=()=>{F&&(K(),V(!1),H(null))},Q=function(e){const{mediaStage:t,preview:a,fullPreviewData:n}=e;switch(t){case b.MEDIA_DATA_STAGE.RESOLVED:case b.MEDIA_DATA_STAGE.PROGRESSIVE_READY:case b.MEDIA_DATA_STAGE.EXISTS:return E.Ready;case b.MEDIA_DATA_STAGE.INIT:return null!=a||null!=n?E.Ready:E.Loading;case b.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:case b.MEDIA_DATA_STAGE.NEED_UPLOAD:return E.NeedsUpload;case b.MEDIA_DATA_STAGE.FETCHING:case b.MEDIA_DATA_STAGE.DECRYPTING:case b.MEDIA_DATA_STAGE.PREPARING:case b.MEDIA_DATA_STAGE.UPLOADING:case b.MEDIA_DATA_STAGE.SENDING:case b.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case b.MEDIA_DATA_STAGE.FINALIZING:case b.MEDIA_DATA_STAGE.REUPLOADING:return E.Loading;case b.MEDIA_DATA_STAGE.NEED_POKE:return E.NeedsPoke;case b.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:case b.MEDIA_DATA_STAGE.ERROR_MISSING:case b.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case b.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:return E.Error}}(a.mediaData);let $;(!0===n||F&&e.hoverEvent)&&($=(0,k.jsxs)("div",{className:m.default.mediaSelect,children:[(0,k.jsx)("div",{className:(0,s.default)(m.default.shadeTop,{[m.default.noPointerEvents]:Q!==E.Ready}),onClick:e.onClick}),(0,k.jsx)(c.default,{onChange:q,hover:F,checked:I})]}));const J=(0,s.default)(e.classes,m.default.canvasComponent,{[m.default.canvasSelected]:I,[m.default.mediaGalleryThumbnail]:"hideableSecondRow"!==f,[m.default.chatInfoDrawerThumbnail]:"hideableSecondRow"===f,[m.default.canvasSecondRow]:"hideableSecondRow"===f,[m.default.viewerFlow]:"viewerFlow"===f||"viewerFlowTransparent"===f,[m.default.viewerFlowTransparent]:"viewerFlowTransparent"===f,[m.default.active]:y}),ee=a.star?(0,k.jsx)("div",{className:m.default.iconStar,children:(0,k.jsx)(M.default,{name:"star"})}):null,te=T(a.mediaData),ae=U?(0,k.jsx)(j.UIE,{displayName:"MediaThumbTitle",popable:!0,escapable:!0,requestDismiss:()=>{H(null)},requestRecentFocusOnUnmount:!1,children:(0,k.jsx)(S.default,{tooltip:U})}):null,ne={paddingTop:1/(null!==(t=e.aspectRatio)&&void 0!==t?t:1)*100+"%"},ie=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.downloadMedia({downloadEvenIfExpensive:e,isUserInitiated:!1,rmrReason:C.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER})};if((0,i.isMediaGalleryFixEnabled)()){let t;switch(Q){case E.Loading:t=(0,k.jsx)(v.MediaThumbLoading,{mediaType:a.mediaData.type});break;case E.NeedsPoke:t=(0,k.jsx)(v.MediaThumbNeedsPoke,{onClick:()=>ie(!0)});break;case E.Error:t=(0,k.jsx)(v.MediaThumbError,{onClick:e.onClick,mediaType:a.mediaData.type});break;case E.NeedsUpload:case E.Ready:t=null}return(0,k.jsxs)("div",{ref:B,className:J,"data-testid":"media-canvas",onMouseOver:W,onMouseEnter:X,onMouseLeave:Z,children:[$,(0,k.jsxs)("div",{className:m.default.canvasBody,children:[(0,k.jsx)(x.default,{mediaData:a.mediaData}),(0,k.jsx)(g.default,{mediaData:a.mediaData,selected:I}),ee]}),(0,k.jsx)(p.default,{downloadMedia:ie,onClick:N,onDragStart:D,preferPreview:O,ref:L,msg:a}),ae,t,(0,k.jsx)("div",{style:ne})]})}return te?(0,k.jsxs)("div",{ref:B,className:J,"data-testid":"media-canvas",onMouseOver:W,onMouseEnter:X,onMouseLeave:Z,children:[$,(0,k.jsxs)("div",{className:m.default.canvasBody,children:[(0,k.jsx)(x.default,{mediaData:a.mediaData}),(0,k.jsx)(g.default,{mediaData:a.mediaData,selected:I}),ee]}),(0,k.jsx)(p.default,{downloadMedia:ie,onClick:N,onDragStart:D,preferPreview:O,ref:L,msg:a}),ae,(0,k.jsx)("div",{style:ne})]}):null},t.hasThumbnail=T;var i=a(8139),s=n(a(94184)),l=a(67294),o=n(a(59312)),r=a(87550),d=a(46428),c=n(a(9275)),u=a(60811),f=a(84866),h=n(a(2320)),p=n(a(97665)),m=n(a(52901)),g=n(a(5471)),x=n(a(19395)),v=a(90423),_=n(a(8488)),b=a(58668),C=n(a(11339)),M=n(a(23217)),j=a(18644),S=n(a(46780)),k=a(85893);const E=a(76672).Mirrored(["Loading","Ready","Error","NeedsPoke","NeedsUpload"]);function T(e){if((0,i.isMediaGalleryFixEnabled)())return!0;switch(e.type){case h.default.TYPE.VIDEO:case h.default.TYPE.IMAGE:if(null!=e.preview||null!=e.fullPreviewData||e.mediaStage===b.MEDIA_DATA_STAGE.RESOLVED)return!0;if(f.MediaBlobCache.has(e.filehash)){try{f.MediaBlobCache.getOrCreateURL(e.filehash)}catch(e){return!1}return!0}return!1;default:return!0}}},97665:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(81109)),s=n(a(94184)),l=a(67294),o=n(a(2320)),r=n(a(65383)),d=a(58668),c=n(a(20553)),u=n(a(34949)),f=a(85893);const h=(0,l.forwardRef)(((e,t)=>{let{children:a,className:n,shade:i,url:s,onClick:l,onDragStart:o}=e;const d=!0===i?(0,f.jsx)("div",{className:r.default.shade}):null,c=null!=s&&""!==s?{backgroundImage:`url(${s})`}:null;return(0,f.jsxs)("div",{className:n,"data-testid":"media-canvas-img",style:c,onClick:l,ref:t,onDragStart:o,draggable:null!=o||null,children:[a,d]})})),p=(0,l.forwardRef)(((e,t)=>{let{mediaData:a,onClick:n,onDragStart:i,shade:l,shouldApplyBlur:o,url:d}=e;return(0,f.jsx)(h,{ref:t,onClick:n,onDragStart:i,className:(0,s.default)(r.default.mediaCanvas,{[r.default.blur]:o}),shade:l,url:a.preview instanceof u.default?a.preview.url():null,children:null!=d?(0,f.jsx)("div",{className:r.default.mediaCanvas,style:{backgroundImage:`url(${d})`}}):null})}));p.displayName="ImageThumb";const m=(0,l.forwardRef)(((e,t)=>{let{mediaData:a,onClick:n,onDragStart:i,shade:s,shouldApplyBlur:l,url:o}=e;return null!=a.preview?(0,f.jsx)(p,{ref:t,onClick:n,onDragStart:i,mediaData:a}):(0,f.jsx)(h,{ref:t,onClick:n,onDragStart:i,className:r.default.mediaCanvas,shade:s})}));m.displayName="Placeholder";var g=(0,l.forwardRef)(((e,t)=>{let{downloadMedia:a,msg:n,onClick:l,onDragStart:g,preferPreview:x}=e;const{mediaData:v}=n,_={onClick:l,onDragStart:g,ref:t};switch(v.type){case o.default.TYPE.AUDIO:return(0,f.jsx)(h,(0,i.default)((0,i.default)({},_),{},{className:`${r.default.mediaCanvas} attach-media-audio-thumb`}));case o.default.TYPE.VIDEO:{var b;const e=null==v.fullPreviewData,t=null!==(b=v.fullPreviewData)&&void 0!==b?b:v.preview;return(0,f.jsx)(h,(0,i.default)((0,i.default)({},_),{},{className:(0,s.default)(r.default.mediaCanvas,{"media-video-thumb":v.isGif&&!v.preview,[r.default.blur]:e}),shade:!0,url:t instanceof u.default?t.url():null}))}case o.default.TYPE.IMAGE:const e=null!=v.preview&&v.mediaStage===d.MEDIA_DATA_STAGE.NEED_POKE;return!0===x?(0,f.jsx)(m,(0,i.default)((0,i.default)({},_),{},{mediaData:v,shade:n.star,shouldApplyBlur:e})):(0,f.jsx)("div",{className:r.default.mediaCanvas,children:(0,f.jsx)(c.default,{mediaData:v,placeholderRenderer:()=>(0,f.jsx)(m,(0,i.default)((0,i.default)({},_),{},{mediaData:v,shade:n.star,shouldApplyBlur:e})),renderProgressively:!0,downloadMedia:a,children:t=>(0,f.jsx)(p,(0,i.default)((0,i.default)({},_),{},{mediaData:v,shade:n.star,shouldApplyBlur:e,url:t}))})});default:return(0,f.jsx)(h,(0,i.default)((0,i.default)({},_),{},{shade:n.star}))}}));t.default=g},5471:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{selected:t,mediaData:a}=e;switch(a.type){case l.default.TYPE.AUDIO:return(0,r.jsx)(d,{duration:a.duration,selected:t});case l.default.TYPE.VIDEO:return a.isGif?null:(0,r.jsx)(d,{duration:a.duration,selected:t});default:return null}};var i=a(40234),s=n(a(94184)),l=n(a(2320)),o=n(a(54963)),r=a(85893);function d(e){let{duration:t,selected:a}=e;const n=i.Clock.durationStr(t);return n?(0,r.jsx)("span",{className:(0,s.default)(o.default.container,{[o.default.selected]:a}),children:n}):null}},19395:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{mediaData:t}=e;if(!t)return null;const a=function(e){switch(e.type){case i.default.TYPE.AUDIO:return"msg-audio";case i.default.TYPE.VIDEO:return e.isGif?"msg-gif":"msg-video";default:return null}}(t);return null==a?null:(0,o.jsx)("div",{className:s.default.iconType,children:(0,o.jsx)(l.default,{name:a})})};var i=n(a(2320)),s=n(a(17429)),l=n(a(23217)),o=a(85893)},90423:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaThumbError=function(e){return(0,o.jsx)("button",{className:(0,i.default)(r),onClick:e.onClick,children:(0,o.jsx)(c,{mediaType:e.mediaType})})},t.MediaThumbLoading=function(e){return(0,o.jsx)("div",{className:(0,i.default)(r),children:(0,o.jsx)(c,{mediaType:e.mediaType})})},t.MediaThumbNeedsPoke=function(e){return(0,o.jsx)("div",{className:(0,i.default)(r),children:(0,o.jsx)(s.Download,{onClick:e.onClick})})};var i=n(a(56720)),s=a(41124),l=n(a(23217)),o=a(85893);const r={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"jnl3jror",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},d={color:"cyi0n1nm"};function c(e){const t="video"===e.mediaType?"video-placeholder":"img-placeholder";return(0,o.jsx)(l.default,{name:t,className:(0,i.default)(d)})}},8488:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:{senderObj:{formattedShortName:t}}}=e;return(0,i.jsx)(n.TextSpan,{children:t})};var n=a(13923),i=a(85893)},19593:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(81572),s=a(5177),l=a(41906),o=a(67294),r=n(a(59312)),d=n(a(90886)),c=a(85600),u=n(a(29796)),f=n(a(68198)),h=n(a(35563)),p=a(18146),m=a(85893);function g(e,t){const{queryBefore:a,hasBefore:n,msgsCollection:g,emptyText:x,scrollOffset:v=0,selectable:_,onMessageSelect:b,queryCollection:C,selectedMessages:M,renderElements:j,onProductDetail:S,setScrollOffset:k}=e,E=(0,r.default)();(0,o.useImperativeHandle)(t,(()=>({forceUpdate:E})));const T=(0,o.useRef)(null),y=e=>{n&&C(e)},P=(0,d.default)((e=>{const t=e.scrollHeight-e.clientHeight-e.scrollTop;n&&t<l.SCROLL_FUDGE&&y(g.head()),k&&k(e.scrollTop)}),100);(0,o.useEffect)((()=>{n&&y();const e=T.current;return e&&(e.scrollTop=v),()=>{P.cancel()}}),[]);const w=(e,t)=>{const a=(0,p.unproxy)(e);_&&void 0!==t?b(a,t):i.Cmd.openChatAt(a.chat,a.chat.getSearchContext(a))},A=j?j(w):g.map(((e,t)=>(0,m.jsx)(h.default,{msg:e,selectable:_,selectedMessages:M,onMessageSelect:b,displayType:s.DISPLAY_TYPE.GALLERY,onClickMsg:w,onProductClick:S},`${e.id.toString()}_${t}`))).reverse();if(a){if(0===A.length)return(0,m.jsx)(c.Loading,{});A.push((0,m.jsx)(u.default,{}))}return 0!==g.length||a||n?(0,m.jsx)("div",{ref:T,onScroll:e=>{P(e.target)},className:f.default.wrapper,children:A}):(0,m.jsx)(c.Empty,{text:x,a8nText:"no-elements"})}var x=(0,o.forwardRef)(g);t.default=x},3721:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,c.useModelValues)(e.chat,["isGroup","muteExpiration","archive"]),a=(0,c.useModelValues)(e.mute,["isMuted"]),n=(0,c.useModelValues)(e.settings,["showArchiveV2"]),_=e=>{l.Cmd.muteChat((0,m.unproxy)(t),e)},b=()=>{_(!1),r.ModalManager.close()},C=a.isMuted,M=t.muteExpiration;if(t.archive&&(0,o.archiveV2Supported)()&&n.showArchiveV2)return(0,v.jsx)(h.default,{children:(0,v.jsx)(x.TextSpan,{theme:"muted",size:"16",children:d.fbt._("Archived chats are muted",null,{hk:"31ZVD"})})});const j=C?()=>{const e=t.isGroup?p.default.t(257):p.default.t(256);r.ModalManager.open((0,v.jsx)(f.default,{onOK:b,okText:p.default.t(39),onCancel:()=>r.ModalManager.close(),cancelText:d.fbt._("Cancel",null,{hk:"H0gNq"}),children:e}))}:()=>{_(!0)},S=C?p.default.t(755):d.fbt._("Mute notifications",null,{hk:"2Fm15X"});let k;if(C&&M){const e=s.Clock.untilStr(M);k=(0,v.jsx)(x.TextDiv,{theme:"muted",children:e})}const E=(0,v.jsx)(g.default,{checked:C,onChange:j}),T=(0,v.jsx)(x.TextSpan,{theme:"title",children:S});return(0,v.jsx)(u.default,{icon:"settings-notifications",a8nText:i.default.key("block-mute"),side:E,onClick:j,title:T,secondaryTitle:k})};var i=n(a(99964)),s=a(40234),l=a(81572),o=a(8139),r=a(14597),d=a(48360),c=a(35461),u=n(a(75116)),f=n(a(52665)),h=n(a(35721)),p=n(a(14296)),m=a(18146),g=n(a(3271)),x=a(13923),v=a(85893)},99108:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{productMsgs:t,chat:a}=e,n=(0,s.default)(e,g),x=(0,r.useRef)(null);(0,d.useListener)(t,"add remove reset",(()=>{var e;null===(e=x.current)||void 0===e||e.forceUpdate()}));const v=(0,c.default)();let _;((0,l.isMDBackend)()&&a.endOfHistoryTransferType===u.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||a.endOfHistoryTransferType===u.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC)&&(_=(0,m.jsx)(f.default,{icon:(0,m.jsx)(p.default,{name:"content-chat"}),theme:"list",secondary:o.fbt._("Use WhatsApp on your phone to see the complete message history.",null,{hk:"2qbSkX"}),children:o.fbt._("Older products may be available",null,{hk:"3RBDLB"})}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(h.default,(0,i.default)({ref:x,msgsCollection:t,queryCollection:e=>v((()=>{t.queryProducts(a,e)})),hasBefore:t.hasProductBefore,queryBefore:t.hasProductBefore?Promise.resolve():null,emptyText:o.fbt._("No products",null,{hk:"8o7dB"}),chat:a},n)),_]})};var i=n(a(81109)),s=n(a(6479)),l=a(88555),o=a(48360),r=a(67294),d=a(87550),c=n(a(74570)),u=a(63183),f=n(a(58654)),h=n(a(19593)),p=n(a(23217)),m=a(85893);const g=["productMsgs","chat"]},38261:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{stickerPackId:t,onStickerPackView:a,stickerPackViewDelay:n}=e,h=function(e){(0,o.useEffect)((()=>{e&&u.StickerPackCollectionMd.fetchStickerPack(e)}),[e]);return(0,r.default)(u.StickerPackCollectionMd,"add remove reset",(()=>null!=e?u.StickerPackCollectionMd.get(e):null))}(t);let p;(0,i.isMDBackend)()&&t&&(p=(0,f.jsx)(d.default,{onClick:e=>{e.stopPropagation(),a&&a(),null!=n?setTimeout((()=>s.Cmd.openStickerPack(t)),n+150):s.Cmd.openStickerPack(t)},type:"secondary",children:l.fbt._("View Pack",null,{hk:"tAlU3"})}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.StickerDetailsStickerPackInfo,{name:null==h?void 0:h.name,publisher:null==h?void 0:h.publisher,theme:c.Theme.MediaViewer}),p]})};var i=a(88555),s=a(81572),l=a(48360),o=a(67294),r=n(a(96570)),d=n(a(39770)),c=a(10595),u=a(44333),f=a(85893)},3271:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{checked:t,onChange:a,tabIndex:n,id:c}=e;const u=(0,i.useRef)(null),[f,h]=(0,l.default)(),p=(0,o.default)(u,f);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:p,className:(0,s.default)(d.hiddenInput),checked:t,onChange:function(e){e.stopPropagation();const t=u.current;null!=t&&t.focus(),a(e)},type:"checkbox",tabIndex:null!=n?n:0,id:c}),(0,r.jsxs)("div",{className:(0,s.default)(d.container),onClick:function(){const e=u.current;null!=e&&e.click()},tabIndex:-1,"aria-hidden":"true","data-testid":"visual-switch",children:[(0,r.jsx)("div",{className:(0,s.default)(d.button,t&&d.buttonChecked,h&&d.buttonFocused)}),(0,r.jsx)("div",{className:(0,s.default)(d.track,t&&d.trackChecked)})]})]})};var i=a(67294),s=n(a(56720)),l=n(a(85647)),o=n(a(78506)),r=a(85893);const d={container:{display:"i86elurf",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",width:"tknnhhou",height:"jdwybkuq",marginTop:"g1eqewly",marginEnd:"kjemk6od",marginBottom:"kzyzudjh",marginStart:"k6y3xtnu",position:"g0rxnol2",cursor:"ajgl1lbb"},button:{height:"jdwybkuq",width:"m0s4cjtr",borderTopStartRadius:"ikqdvm1y",borderTopEndRadius:"m3qqxsiz",borderBottomEndRadius:"r1ncx0sg",borderBottomStartRadius:"mmj7r7ye",backgroundColor:"lbj9vhti",position:"lhggkp7q",left:"tukmaf4q",transitionProperty:"bo8jc6qi",transitionDuration:"nbciif1m",transitionTimingFunction:"oa9ii99z",boxShadow:"hjje1qk3"},buttonChecked:{transform:"e95mh68g",backgroundColor:"my8w5w2u"},buttonFocused:{boxShadow:"r6unq4of"},track:{width:"tknnhhou",height:"icj6mcig",backgroundColor:"masnrobp",borderTopStartRadius:"i3rsbmdh",borderTopEndRadius:"d6h2ibm4",borderBottomEndRadius:"rh5xaqwm",borderBottomStartRadius:"e6tbvuqx"},trackChecked:{backgroundColor:"hza3nq4c"},hiddenInput:{position:"lhggkp7q",width:"cxec7x23",height:"kanlod6e",overflowX:"gfz4du6o",overflowY:"r7fjleex",clip:"nmeg1xfo",clipPath:"okm7a8wg",whiteSpace:"le5p0ye3"}}},16947:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(14597),s=a(48360),l=n(a(52665)),o=a(19380),r=a(65417),d=n(a(32973)),c=n(a(14296)),u=a(89389),f=a(56728),h=a(18963),p=a(85893);class m extends d.default{constructor(){super(...arguments),this._isGroupParticipant=e=>{var t;const{chat:a}=this.props;return!!(null===(t=a.groupMetadata)||void 0===t?void 0:t.participants.get(e.id))},this.customSecondaryText=e=>{var t;const{chat:a}=this.props;return(null===(t=a.groupMetadata)||void 0===t?void 0:t.participants.get(e))?s.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString():null},this.contactFilter=e=>{const t=this.props.chat.groupMetadata;return!!o.ContactCollection.isFilteredContact(e)&&(!(null==t?void 0:t.participants.get(e.id))||s.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString())},this.confirmAddParticipant=e=>{const{chat:t}=this.props;this.push((0,p.jsx)(l.default,{onOK:this._handleAddParticipant.bind(this,e),okText:s.fbt._({"*":"Add participants",_1:"Add participant"},[s.fbt._plural(e.length)],{hk:"4pSXvk"}),onCancel:this._pop,cancelText:s.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,p.jsx)(r.EmojiText,{text:this._makeNameEnumeration(e,t.contact.name)})}))},this._makeNameEnumeration=(e,t)=>{const a=e.map((e=>e.formattedShortName||e.shortName)).reduce(((t,a,n)=>[...t,a,n!==e.length-1&&c.default.t(307)||""]),[]);return c.default.t(243,{participants:a.join(""),subject:t})},this._handleAddParticipant=e=>{(0,u.addParticipants)(this.props.chat,e).catch((()=>{})),i.ModalManager.close()},this._pop=()=>{this.pop()}}componentDidMount(){this.push((0,p.jsx)(f.SelectModal,{onConfirm:this.confirmAddParticipant,filter:this.contactFilter,title:s.fbt._("Add participant",null,{hk:"48ECfz"}),isDisabled:this._isGroupParticipant,isSelected:this._isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:f.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:h.FooterType.CONFIRM,multipleSelectionFooterType:h.FooterType.CONFIRM,shouldShowSelectionSummary:!1}))}}t.default=m},42237:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,o.useFlow)({initialStep:d.ArchivedDrawer});if(null==t.step)return null;let a=null;switch(t.step){case d.ArchivedDrawer:a=(0,r.jsx)(s.default,{settings:l.default,showSettings:()=>{t.push(d.ArchivedSettingsDrawer)},onClose:()=>{t.pop()}});break;case d.ArchivedSettingsDrawer:a=(0,r.jsx)(i.default,{settings:l.default,onClose:()=>{t.pop()}})}return(0,r.jsx)(e,{flow:t,children:a})};var i=n(a(62921)),s=n(a(23297)),l=n(a(68132)),o=a(76872),r=a(85893);const d=a(76672).Mirrored(["ArchivedDrawer","ArchivedSettingsDrawer"])},90727:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(48926)),s=a(48360),l=a(67294),o=a(93581),r=a(27105),d=a(83657),c=n(a(60453)),u=n(a(69637)),f=a(94790),h=n(a(32973)),p=a(85893);class m extends h.default{componentDidMount(){this.push((0,p.jsx)(g,{contactId:this.props.contactId,onClose:this.pop}))}}function g(e){const{contactId:t}=e,[a,n]=(0,l.useState)(void 0),[h,m]=(0,l.useState)(!0);(0,l.useEffect)((()=>{(function(){var e=(0,i.default)((function*(){const e=yield o.BusinessProfileCollection.update(t,{getMerchantCompliance:!0}),a=(Array.isArray(e)?e[0]:e).serialize();a?(n(a.legalEntityDetails||void 0),m(!1)):__LOG__(3)`compliance: cannot fetch business details (${t.toString()})`}));return function(){return e.apply(this,arguments)}})()()}),[]);const{entityName:g,customerCareDetails:x,grievanceOfficerDetails:v}=null!=a?a:{},_=(0,d.getEntityTypeText)(a);return(0,p.jsxs)(c.default,{theme:"striped",children:[(0,p.jsx)(f.DrawerHeader,{title:s.fbt._("Business details",null,{hk:"m9xzp"}),type:f.DRAWER_HEADER_TYPE.SMALL,onCancel:e.onClose}),(0,p.jsx)(u.default,{theme:h?"center-content":void 0,children:h?(0,p.jsx)(r.ComplianceInfoLoading,{}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(r.ComplianceInfoGroup,{children:[(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:g,label:s.fbt._("Legal Name of Business",null,{hk:"2s9jD"})}),(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:_,label:s.fbt._("Business Type",null,{hk:"48J73B"})})]}),(0,p.jsxs)(r.ComplianceInfoGroup,{title:s.fbt._("Customer Care Information",null,{hk:"qlYos"}),children:[(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:null==x?void 0:x.mobileNumber,label:s.fbt._("Mobile Phone Number",null,{hk:"PMTTg"}),forceLTR:!0}),(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:null==x?void 0:x.landlineNumber,label:s.fbt._("Landline Phone Number",null,{hk:"tXYaf"}),forceLTR:!0}),(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:null==x?void 0:x.email,label:s.fbt._("Email Address",null,{hk:"2jYxR1"})})]}),(0,p.jsxs)(r.ComplianceInfoGroup,{title:s.fbt._("Grievance Officer Information",null,{hk:"3emd7I"}),children:[(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.name,label:s.fbt._("Name",null,{hk:"2vEs6r"})}),(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.mobileNumber,label:s.fbt._("Mobile Phone Number",null,{hk:"3kk5I"}),forceLTR:!0}),(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.landlineNumber,label:s.fbt._("Landline Phone Number",null,{hk:"4GBzF0"})}),(0,p.jsx)(r.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.email,label:s.fbt._("Email Address",null,{hk:"3SvbLl"})})]})]})})]},"merchant-details-modal")}t.default=m},4782:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(81109)),s=a(88555),l=a(81572),o=a(41455),r=a(8139),d=n(a(74328)),c=n(a(7532)),u=n(a(54414)),f=a(19829),h=n(a(96464)),p=n(a(37380)),m=a(62632),g=n(a(43250)),x=a(27394),v=n(a(30305)),_=n(a(32973)),b=n(a(48204)),C=a(88280),M=a(55800),j=n(a(69824)),S=a(74429),k=a(77975),E=a(94205),T=a(8059),y=n(a(11339)),P=a(97567),w=a(9153),A=n(a(70107)),I=a(79188),N=n(a(54050)),D=a(11395),O=n(a(77776)),R=a(74028),L=a(48870),B=a(27798),G=n(a(56829)),F=a(82364),V=a(49376),U=a(85893);class H extends _.default{constructor(){super(...arguments),this._scrollOffset=0,this._setScrollOffset=e=>{this._scrollOffset=e},this._handleProductDetail=(e,t)=>{const{chat:a}=this.props,n=(0,U.jsx)(A.default,{chat:a,collectionId:t,product:e,onEnd:this._end,onBack:this._popAndUpdate,refreshCarousel:!1,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(n)},this._handleProductDetailFromInfo=e=>{const t=(0,U.jsx)(I.ProductDetailsWithDeepLink,{chat:this.props.chat,productInfo:e,onEnd:this._end,onBack:this._pop,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(t)},this._handleCollectionSeeAll=e=>{const t=this.props.chat.id;this.push((0,U.jsx)(f.CollectionContentDrawer,{contact:this.props.chat.contact,onProductDetail:this._handleProductDetail,catalogId:t,onBack:this._pop,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,collection:e}))},this._handleProductLinkClick=e=>{this.push((0,U.jsx)(N.default,{product:e,onBack:this._pop}))},this._handleProductMoreInformation=e=>{const t=(0,U.jsx)(O.default,{product:e,onBack:this._popAndUpdate});this.push(t)},this._handleCatalogLinkClick=(e,t)=>{this.push((0,U.jsx)(c.default,{catalog:e,contact:t,onBack:this._pop}))},this._handleCartClick=e=>{const t=(0,P.getProductCatalogContext)(this.props.context),a=(0,G.default)(e,this.props.chat,t);a&&this.push(a)},this.pushProductCatalog=()=>{const{chat:e}=this.props,t=(0,r.canViewCollections)()?(0,U.jsx)(u.default,{contact:e.contact,onProductDetail:this._handleProductDetail,catalogId:e.id,onBack:this._pop,businessProfile:e.contact.businessProfile,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,onCollectionSeeAll:this._handleCollectionSeeAll}):(0,U.jsx)(D.ProductListDrawer,{contact:e.contact,onProductDetail:this._handleProductDetail,catalogId:e.id,onBack:this._pop,businessProfile:e.contact.businessProfile,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick});this.push(t)},this._handleProductCatalog=(e,t)=>{const a=this.props.chat.id;(0,r.canViewCollections)()&&L.QPL.markerStart(B.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:t}}}),(0,k.logCarouselViewMoreClick)({catalogOwnerWid:a,catalogContext:e}),this.pushProductCatalog(a)},this._handleProductCatalogHeaderClick=(e,t)=>{(0,k.logCarouselViewMoreClick)({catalogOwnerWid:e,catalogContext:t}),this._handleProductCatalog(t,"ProductCatalogHeader")},this._handleStarred=()=>{const e=(0,U.jsx)(F.StarredDrawerLoadable,{chat:this.props.chat,starredMsgs:this.props.chat.getStarredMsgs(),onClose:this._pop});this.push(e)},this._handleAdminSetting=()=>{const{chat:e}=this.props,t=(0,U.jsx)(j.default,{chat:e,groupMetadata:e.groupMetadata,onClose:this._pop});this.push(t)},this._handleContactCard=()=>{this.push((0,U.jsx)(h.default,{chat:this.props.chat,onClose:this._pop}))},this._handleMediaGallery=()=>{const e=(0,U.jsx)(T.MediaGalleryDrawer,{chat:this.props.chat,onBack:this._pop,onProductDetail:this._handleProductDetail,setProductsScrollOffset:this._setScrollOffset});this.push(e)},this._handleGroupInviteLink=()=>{const{chat:e}=this.props;if(e.isInviteGrowthLockedGroup()){var t;const a=!!(null===(t=e.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin());return void(0,M.openGrowthLockedModal)(a,!0)}const a=(0,U.jsx)(C.GroupInviteLinkDrawerLoadable,{chat:this.props.chat,groupMetadata:e.groupMetadata,onBack:this._pop});this.push(a)},this._pop=()=>{this.pop()},this._popAndUpdate=()=>{this.popAndUpdate({initialTab:T.TABS.PRODUCTS,productsScrollOffset:this._scrollOffset})},this._end=()=>{this.end(!0)},this._handleVerification=e=>{const t=e||this.props.chat.contact,a=(0,U.jsx)(V.VerificationDrawerLoadable,{contact:t,onClose:this._pop,isFirstLevel:!1});this.push(a)},this._handleLiveLocation=()=>{const e=(0,U.jsx)(S.LiveLocationDrawerLoadable,{chat:this.props.chat,onClose:this._pop});this.push(e)},this._handleDDMSettingsClick=e=>{this.push((0,U.jsx)(g.default,{onClose:this._pop,entryPoint:e}))},this._handleEphemeral=()=>{const{chat:e}=this.props,t=e.isGroup?y.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:y.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING,a=(0,U.jsx)(v.default,{chat:e,showNux:!1,entryPoint:y.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_INFO,onClose:this._pop,onDDMSettingsClick:()=>this._handleDDMSettingsClick(t)});this.push(a)},this._handleManageCommunityGroupsClick=e=>{const t=(0,U.jsx)(E.ManageCommunityGroupsFlowLoadable,{parentGroup:e,onBack:this._pop});this.push(t)},this._handleInviteMembersClick=e=>{const t=(0,U.jsx)(C.GroupInviteLinkDrawerLoadable,{chat:e,groupMetadata:e.groupMetadata,onBack:this._pop});this.push(t)},this._handleCommunityClick=()=>{var e;const t=null===(e=this.props.chat.groupMetadata)||void 0===e?void 0:e.parentGroup;t&&l.Cmd.communityHome(t)}}componentDidMount(){const e=this._handleStarred,t=this._handleMediaGallery,a=this.props.chat;a.isGroup?((0,s.isMDBackend)()&&(0,R.queryAndUpdateGroupMetadataById)(a.id),this.push((0,U.jsx)(b.default,{chat:a,showFullGroupDescription:this.props.showFullGroupDescription,scrollToParticipantList:this.props.scrollToParticipantList,groupMetadata:a.groupMetadata,contact:a.contact,profilePicThumb:a.contact.getProfilePicThumb(),onVerification:this._handleVerification,onStarred:e,onMediaGallery:t,onAdminSetting:this._handleAdminSetting,onGroupInviteLink:this._handleGroupInviteLink,onLiveLocation:this._handleLiveLocation,onEphemeral:this._handleEphemeral,onCommunityClick:this._handleCommunityClick,onClose:this._pop}))):a.isBroadcast?this.push((0,U.jsx)(d.default,{chat:a,contact:a.contact,onStarred:e,onMediaGallery:t,onClose:this._pop})):a.isUser&&(a.contact.isBusiness&&(0,r.canSeeBizProfileV3)()&&o.DrawerManager.setDrawerContext("right",(0,P.buildProductCatalogContext)(new w.ProductCatalogSession,(0,m.getMaybeBizPlatformForLogging)(a.contact.id.toString()),y.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE)),this.push((0,U.jsx)(p.default,{contact:a.contact,onVerification:this._handleVerification,onStarred:e,onContactCard:this._handleContactCard,onMediaGallery:t,onProductCatalog:this._handleProductCatalog,onProductDetail:this._handleProductDetail,onLiveLocation:this._handleLiveLocation,onEphemeral:this._handleEphemeral,onClose:this._pop,profileEntryPoint:this.props.profileEntryPoint})))}}t.default=e=>(0,U.jsx)(x.DrawerContext.Consumer,{children:t=>(0,U.jsx)(H,(0,i.default)({context:t},e))})},12642:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{msg:a,highlightedMsgIds:n}=e,w=(0,b.default)(),A=(0,_.default)(),I=(0,h.default)(),N=(0,p.default)((()=>a.chat.constructMediaMsgs(a))),D=N.current.length,O=(0,g.default)(D),R=(0,p.default)((()=>a.type===c.MSG_TYPE.IMAGE?new T.default.UiAction({uiActionType:T.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:a.mediaData.mediaStage===S.MEDIA_DATA_STAGE.RESOLVED}):null)),L=(0,f.useRef)(null),B=(0,f.useRef)(),G=(0,f.useRef)(),F=(0,f.useRef)(null),V=(0,f.useRef)(null),U=(0,f.useRef)(null),[H,q]=(0,f.useState)(a),[W,Y]=(0,f.useState)(!1),[z,K]=(0,f.useState)(!0),X=(0,g.default)(H),Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=V.current,a=U.current,n=F.current;if(!t||!a||!n)return;let i=0;n instanceof HTMLElement&&(i=n.clientWidth/2-t.clientWidth/2),(0,u.default)(a,"stop");let s=0;e&&(s=300),(0,u.default)(n,"scroll",{duration:s,container:a,offset:i,axis:"x",easing:[.1,.82,.25,1]})},Q=e=>{if(!e)return!0;const{isViewOnce:t,isStickerMsg:a}=e;return!t&&!a};(0,f.useEffect)((()=>{var e;Z(),Q(a)&&(e=V.current)&&(0,u.default)(e,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}).then((()=>{w.aborted||K(!1)}))}),[]),(0,f.useEffect)((()=>{(0,r.isMediaGalleryFixEnabled)()&&D>(null!=O?O:0)&&Z()}));const $=e=>{A((()=>{N.current.loadMoreAroundIfNeeded(e)})),q(e)},J=e=>{if(e&&e.stopPropagation(),W)return;const t=H;if(!t)return;let n=null;for(n=N.current.getAfter(t);(null===(i=n)||void 0===i?void 0:i.mediaData)&&!(0,j.hasThumbnail)(n.mediaData);){var i;n=N.current.getAfter(n)}n?$(n):N.current.hasMediaAfter&&(B.current||(B.current=N.current.queryMedia({chat:a.chat,msg:a,direction:"after"}).then((e=>{w.aborted||"number"==typeof e.length&&e.length>0&&H===a&&J()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{B.current=null}))))},ee=e=>{if(e&&e.stopPropagation(),W)return;const t=H;if(!t)return;let n=null;for(n=N.current.getBefore(t);(null===(i=n)||void 0===i?void 0:i.mediaData)&&!(0,j.hasThumbnail)(n.mediaData);){var i;n=N.current.getBefore(n)}n?$(n):N.current.hasMediaBefore&&(G.current||(G.current=N.current.queryMedia({chat:a.chat,msg:a,direction:"before"}).then((e=>{w.aborted||"number"==typeof e.length&&e.length>0&&H===a&&ee()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{G.current=null}))))},te=()=>{d.ModalManager.closeMedia()},ae=(0,x.default)((()=>{q(null),te()})),ne=(null==H?void 0:H.isViewOnce)||(null==H?void 0:H.isStickerMsg);(0,m.useListener)(ne?H:null,"revoked",ae);const ie=ne?null:N.current;(0,m.useListener)(ie,"remove",((e,t,n)=>{const i=N.current,l=H;if(i.includes(a)||null!=l&&null!=l.id&&l.id.toString()!==e.id.toString())return void I();const o=n.index;0===i.length?te():i.length===o?$((0,s.default)(i.at(o-1),"mediaMsgs.at(index - 1)")):$((0,s.default)(i.at(o),"mediaMsgs.at(index)"))})),(0,m.useListener)(ie,"reset",(()=>{te()})),(0,m.useListener)(ie,"query_media_after",(()=>{I()})),(0,m.useListener)(ie,"query_media_before",(()=>{const e=U.current;e&&(L.current=e.scrollWidth,e instanceof HTMLElement&&I())})),(0,m.useListener)(window,"keydown",(e=>{if(e.defaultPrevented)return;const t=M.default.isRTL();e.keyCode===i.default.LEFT?t?J():ee():e.keyCode===i.default.RIGHT&&(t?ee():J())})),(0,f.useEffect)((()=>{A((()=>{H&&N.current.loadMoreAroundIfNeeded(H)}))}),[H,N,A]),(0,f.useEffect)((()=>{if(X!==H)Z(!0);else{const e=U.current;if(!e||null==L.current||0===L.current)return;e instanceof HTMLElement&&(e.scrollLeft+=e.scrollWidth-L.current),L.current=null}}),[H,X]);const se=(0,v.default)(((e,t,a)=>{if(0!==t.length&&null!=a){if(t.hasMediaBefore&&a<e.clientWidth){const e=(0,s.default)(t.head(),"mediaMsgs.head()");A((()=>{t.queryMedia({chat:e.chat,msg:e}),I()}))}if(t.hasMediaAfter&&a+o.SCROLL_FUDGE>e.scrollWidth-2*e.clientWidth){const e=(0,s.default)(t.last(),"mediaMsgs.last()");A((()=>{t.queryMedia({chat:e.chat,msg:e,direction:"after"}),I()}))}}}),100);if(!H)return null;const le=N.current,oe=le.last(),re=le.hasMediaAfter||H!==oe?J:null,de=le.head();let ce=null;ce=le.hasMediaBefore||H!==de?ee:null,(0,l.isMDBackend)()&&(ce=le.hasMediaBefore||H!==de?ee:null);return(0,P.jsxs)("div",{className:W?"img-zoomed-in":null,children:[Q(H)&&(0,P.jsx)(E.default,{activeMsg:H,mediaMsgs:N.current,highlightedMsgIds:e.highlightedMsgIds,onSelectThumb:$,onSetActiveThumb:e=>{F.current=e},onScroll:e=>{se(e.currentTarget,N.current,e.currentTarget.scrollLeft)},setRefThumbsContainer:e=>{V.current=e},setRefThumbs:e=>{U.current=e}}),(0,P.jsx)(k.default,{msg:H,mediaData:H.mediaData,onBack:te,onExitAnimation:()=>{var e;Q(a)&&(e=V.current)&&(0,u.default)(e,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},onNext:re,onPrev:ce,onImgZoomIn:e=>{Y(e)},getZoomNode:e.getZoomNode,startTime:e.startTime,isAnimatingIn:z,onImageLoad:R.current?()=>{const e=R.current;var t;e&&(e.markUiActionT(),Object.assign(e,(0,C.getGroupMetricsFromChatWid)(null===(t=a.chat)||void 0===t?void 0:t.id)),e.commit(),(0,y.logUiActionShadowPrivateStatsTestEvents)(),R.current=null)}:null,msgIndexInAlbum:(()=>{let e=-1;if(!n||!H)return e;const t=H.id.toString();if(!n.has(t))return e;let a=0;return n.forEach((n=>{n===t&&(e=a),a++})),e})(),albumSize:(null===(t=e.highlightedMsgIds)||void 0===t?void 0:t.size)||0})]})};var i=n(a(57538)),s=n(a(45095)),l=a(88555),o=a(41906),r=a(8139),d=a(14597),c=a(15461),u=n(a(62831)),f=a(67294),h=n(a(59312)),p=n(a(16223)),m=a(87550),g=n(a(37453)),x=n(a(89113)),v=n(a(90886)),_=n(a(74570)),b=n(a(3409)),C=a(42515),M=n(a(14296)),j=a(41908),S=a(58668),k=n(a(47186)),E=n(a(38781)),T=n(a(11339)),y=a(7595),P=a(85893)},18063:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const[t,a]=(0,i.useState)(void 0),n=(0,s.default)((e=>{a(e)}),e);return[t,n]};var i=a(67294),s=n(a(51799))},71428:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendContactsModalLoadable=void 0;var i=n(a(48926)),s=a(48360),l=n(a(68356)),o=n(a(50860)),r=n(a(15334)),d=a(85893);const c=(0,r.default)((0,i.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,5969))).default})),"SendContactsModal");t.requireBundle=c;const u=(0,l.default)({loader:c,loading:e=>(0,d.jsx)(o.default,{title:s.fbt._("Send contacts",null,{hk:"9ZMyz"}),error:Boolean(e.error)})});t.SendContactsModalLoadable=u},23297:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClose:t}=e,a=()=>_.ChatCollection.filter((e=>e.archive&&e.shouldAppearInList)),n=(0,h.useModelValues)(e.settings,["showArchiveV2","archive"]),B=(0,u.default)((()=>new T.default)),G=(0,u.default)((()=>new D.default([],(e=>e.id.toString())))),F=(0,c.useRef)(null),[V,U]=(0,c.useState)(!1),[H,q]=(0,c.useState)(a),W=()=>(0,o.archiveV2Supported)()&&n.showArchiveV2;(0,f.useListener)(_.ChatCollection,[W()?"sort":null,"change:archive","add","remove"].filter(Boolean),(()=>{q(a())}));const Y=e=>{G.current.setVal(e,!1)};(0,f.useListener)(s.Cmd,"close_chat",(e=>{e===G.current.getVal()&&G.current.unset()})),(0,f.useListener)(s.Cmd,"update_chatlist_selection",Y);const[z,K,X]=(0,p.default)(N.NUX.ARCHIVE),Z=()=>{const e=_.ChatCollection.some((e=>e.archive));return W()&&e&&z&&!V};(0,c.useEffect)((()=>{if(W()&&(0,A.isElevatedImportantMessageEnabled)()){const e=a(),t=new Map;e.forEach((e=>{e.archiveAtMentionViewedInDrawer=!0,t.set(e.id.toString(),!0)})),(0,v.updateChatArchiveDrawer)(t)}F.current&&l.default.focus(F.current);const e=_.ChatCollection.toArray().find((e=>e.active&&e.archive));e&&Y(e)}),[]),(0,m.default)((()=>{Z()&&K()}));const Q=()=>{t()},$=(e,t)=>{s.Cmd.openChatFromUnread(t).then((e=>{e&&s.Cmd.focusChatTextInput(t)})),(0,o.archiveV2Supported)()&&n.archive.enabled||Q()},J=e=>{e.preventDefault(),e.stopPropagation(),G.current.setNext(!0)},ee=e=>{e.preventDefault(),e.stopPropagation(),G.current.setPrev(!0)},te=()=>{X(),U(!0)};let ae,ne;G.current.init(H,!0),Z()&&(ae=(0,L.jsxs)("div",{className:g.default.nuxContainer,children:[(0,L.jsxs)(y.FlexColumn,{align:"center",children:[(0,L.jsx)("span",{className:g.default.nuxIcon,children:(0,L.jsx)(O.default,{name:"archive-nux"})}),(0,L.jsx)("div",{className:g.default.nuxHeader,children:(0,L.jsx)(R.Text,{theme:"large",as:"h1",children:d.fbt._("Archived chats will stay archived",null,{hk:"3dEGG"})})}),(0,L.jsx)("div",{className:g.default.nuxContent,children:(0,L.jsx)("div",{className:g.default.nuxText,children:(0,L.jsx)(R.Text,{theme:"plain",as:"p",children:(0,i.isMDBackend)()?d.fbt._("To reduce interruptions, archived chats will stay here with notifications turned off. To change this experience, go to Settings > Chats on your phone.",null,{hk:"1VSdJQ"}):d.fbt._("To reduce interruptions, archived chats will stay here with notifications turned off. To change this experience, go to Settings > Archived Chats.",null,{hk:"1gz2m1"})})})})]}),(0,L.jsx)("button",{onClick:te,className:g.default.btnClose,children:(0,L.jsx)(O.default,{name:"x-alt"})})]}));ne=H.length>0?(0,L.jsxs)(P.HotKeys,{ref:F,handlers:{down:J,up:ee},children:[(0,L.jsx)(r.default,{transitionName:"slide",children:ae}),(0,L.jsx)(E.FlatList,{className:g.default.flatListContainer,data:H.map((e=>({itemKey:e.id.toString(),chat:e}))),flatListController:B.current,direction:"vertical",renderItem:e=>(0,L.jsx)(x.Chat,{chat:e.chat,mode:x.Mode.LAST,active:G.current,onClick:$,hideArchivedIcon:(0,o.archiveV2Supported)()&&n.archive.enabled,hideMuteIcon:W(),hideMuteOption:W(),ephemeralIcon:"chat-list"})})]}):(0,L.jsx)(k.Archived,{});const ie=(0,i.isLegacyWebdBackend)()&&(0,o.archiveV2Supported)()&&n.archive.enabled?(0,L.jsx)(I.MenuBarItem,{a8nText:"archived-menu",icon:(0,L.jsx)(O.default,{name:"menu"}),title:w.default.t(504),children:(0,L.jsx)(j.Dropdown,{type:j.MenuType.DropdownMenu,flipOnRTL:!0,dirX:j.DirX.LEFT,children:(0,L.jsx)(S.DropdownItem,{a8n:"open-archive-settings menu-item",action:e.showSettings,children:d.fbt._("Archive settings",null,{hk:"1YI0jC"})})},"ArchivedDrawerHeader")}):null,se=(0,o.archiveV2Supported)()&&n.archive.enabled?d.fbt._("Archived",null,{hk:"3HjzQg"}):w.default.t(136);return(0,L.jsxs)(b.default,{theme:"archived",children:[(0,L.jsx)(M.DrawerHeader,{title:se,onBack:Q,type:M.DRAWER_HEADER_TYPE.LARGE,menu:ie}),(0,L.jsx)(C.default,{flatListControllers:[B.current],children:ne})]})};var i=a(88555),s=a(81572),l=n(a(52013)),o=a(8139),r=n(a(40436)),d=a(48360),c=a(67294),u=n(a(16223)),f=a(87550),h=a(35461),p=n(a(59732)),m=n(a(55010)),g=n(a(85967)),x=a(65511),v=a(48285),_=a(69951),b=n(a(60453)),C=n(a(69637)),M=a(94790),j=a(60811),S=a(71174),k=a(85600),E=a(47915),T=n(a(30855)),y=a(29623),P=a(29424),w=n(a(14296)),A=a(41566),I=a(46346),N=a(61653),D=n(a(88406)),O=n(a(23217)),R=a(13923),L=a(85893)},62138:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=function(e){switch(e.verifiedLevel){case r.VERIFIED_LEVEL.HIGH:return e.name===e.verifiedName?h.default.t(747,{businessName:e.verifiedName}):h.default.t(748,{businessName:e.verifiedName});case r.VERIFIED_LEVEL.LOW:case r.VERIFIED_LEVEL.UNKNOWN:return l.fbt._("This may be a business. WhatsApp hasn't verified their name yet.",null,{hk:"404mUL"})}}((0,o.useModelValues)(e.contact,["name","verifiedLevel","verifiedName","formattedName"])),a=(0,p.jsx)(d.default,{href:(0,i.getBusinessFaqUrl)(),onClick:g,children:h.default.t(447)});return(0,p.jsxs)(c.default,{onOK:m,okText:h.default.t(582),children:[(0,p.jsx)(u.EmojiText,{text:t}),"",a]})};var i=a(21310),s=a(14597),l=a(48360),o=a(35461),r=a(93170),d=n(a(99360)),c=n(a(52665)),u=a(65417),f=a(12591),h=n(a(14296)),p=a(85893);const m=()=>{s.ModalManager.close()},g=e=>{e.preventDefault(),s.ModalManager.close("none"),setTimeout((()=>(0,f.openExternalLink)((0,i.getBusinessFaqUrl)())),10)}},955:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t}=e;const{verifiedLevel:a,verifiedName:n}=(0,r.useModelValues)(t,["verifiedLevel","verifiedName"]),C=(0,i.getBusinessFaqUrl)(),M=!h.Conn.isSMB;(0,o.useEffect)((()=>{M&&new x.default.BannerEvent({bannerType:x.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:x.default.BANNER_OPERATIONS.SHOWN}).commit()}),[M]);const j=a===c.VERIFIED_LEVEL.HIGH?g.default.t(889,{businessName:n}):l.fbt._("This business uses WhatsApp Business, which allows them to add their opening hours, address, website and catalog of products or services.",null,{hk:"82W5f"});return(0,b.jsxs)(f.default,{title:l.fbt._("About WhatsApp Business",null,{hk:"3XF5gx"}),onOK:()=>{s.ModalManager.close(),M&&new x.default.BannerEvent({bannerType:x.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:x.default.BANNER_OPERATIONS.DISMISS}).commit()},okText:l.fbt._("OK",null,{hk:"2KEeHb"}),children:[(0,b.jsx)(p.EmojiText,{text:j}),"",(0,b.jsx)(u.default,{href:C,onClick:e=>{e.preventDefault(),s.ModalManager.close(),setTimeout((()=>(0,m.openExternalLink)(C)),10)},children:g.default.t(447)}),M&&(0,b.jsx)("div",{className:d.default.footerNote,children:(0,b.jsxs)(_.TextSpan,{theme:"muted",size:"13",children:[l.fbt._("If youre a business, the free WhatsApp Business app can help.",null,{hk:"3gfQun"}),(0,b.jsx)("br",{}),(0,b.jsx)(u.default,{onClick:e=>{e.preventDefault(),s.ModalManager.close(),new x.default.BannerEvent({bannerType:x.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:x.default.BANNER_OPERATIONS.CLICK}).commit(),setTimeout((()=>s.ModalManager.open((0,b.jsx)(v.SmbAppUpsellModal,{}))),200)},className:d.default.getTheAppLink,children:l.fbt._("Learn about getting the app",null,{hk:"3ncguo"})})]})})]})};var i=a(21310),s=a(14597),l=a(48360),o=a(67294),r=a(35461),d=n(a(85845)),c=a(93170),u=n(a(99360)),f=n(a(52665)),h=a(17239),p=a(65417),m=a(12591),g=n(a(14296)),x=n(a(11339)),v=a(70593),_=a(13923),b=a(85893)},70593:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SmbAppUpsellModal=function(){return(0,h.jsxs)(o.default,{title:s.fbt._("WhatsApp Business app",null,{hk:"4BfvOl"}),onOK:()=>{new u.default.BannerEvent({bannerType:u.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:u.default.BANNER_OPERATIONS.DISMISS}).commit(),i.ModalManager.close()},okText:s.fbt._("Close",null,{hk:"19Jpec"}),children:[(0,h.jsx)(f.default,{}),(0,h.jsx)("p",{children:(0,h.jsx)(r.EmojiText,{text:s.fbt._("If youre a business, you can benefit from switching to the free WhatsApp Business app. It has tools to connect with customers and manage messages.",null,{hk:"40fyU7"})})}),(0,h.jsx)("br",{}),(0,h.jsxs)("p",{children:[(0,h.jsx)(r.EmojiText,{text:s.fbt._("Scan this code to get the WhatsApp Business App. Or, you can install it from the App Store or Google Play Store.",null,{hk:"2840mD"})}),"",(0,h.jsx)(l.default,{href:p,onClick:e=>{e.preventDefault(),i.ModalManager.close(),setTimeout((()=>(0,d.openExternalLink)(p)),10)},children:c.default.t(447)})]})]})},t.WHATSAPP_BUSINESS_URL=void 0;var i=a(14597),s=a(48360),l=n(a(99360)),o=n(a(52665)),r=a(65417),d=a(12591),c=n(a(14296)),u=n(a(11339)),f=n(a(5242)),h=a(85893);const p="https://www.whatsapp.com/business";t.WHATSAPP_BUSINESS_URL=p},5242:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,l.useRef)(null),t=(0,l.useRef)(null),{theme:a}=(0,l.useContext)(d.ThemeContext),n="dark"===a;return(0,l.useEffect)((()=>(null!=e.current&&(t.current=new o.default(e.current,{text:"https://www.whatsapp.com/business/download",colorDark:"#122e31",colorLight:"#ffffff",width:i.QR_EDGE/2,height:i.QR_EDGE/2,typeNumber:4,correctLevel:o.default.CorrectLevel.H})),()=>{null!=t.current&&(t.current.clear(),t.current=null,e.current=null)})),[n]),(0,c.jsx)("div",{className:r.default.wrapper,children:(0,c.jsx)("div",{ref:e,className:(0,s.default)(r.default.code,{[r.default.codeDarkMode]:n}),children:(0,c.jsx)(u,{theme:a})})})};var i=a(41906),s=n(a(94184)),l=a(67294),o=n(a(37360)),r=n(a(2256)),d=a(97628),c=a(85893);function u(){return(0,c.jsx)("div",{className:r.default.codeLogo,children:(0,c.jsx)("svg",{width:"100%",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M42.6776 42.6779C37.9558 47.3997 31.6777 50.0001 24.9999 50.0001C21.0047 50.0001 17.0541 49.0389 13.5244 47.2141L0.601068 49.3339L2.72832 36.3645C0.941278 32.8647 0 28.9525 0 25.0001C0 18.3223 2.60042 12.0443 7.32229 7.32237C12.0442 2.6005 18.3221 0 24.9999 0C31.6777 0 37.9558 2.6005 42.6776 7.32237C47.3995 12.0443 50 18.3223 50 25.0001C50 31.678 47.3995 37.9558 42.6776 42.6779ZM24.9999 4.33778C13.6067 4.33778 4.33772 13.607 4.33772 25.0001C4.33772 28.4792 5.21935 31.9192 6.8868 34.9487L7.24853 35.6054L5.85915 44.0756L14.2959 42.6918L14.9565 43.0601C18.0107 44.7624 21.4837 45.6622 24.9999 45.6622C36.3932 45.6622 45.6622 36.3933 45.6622 25.0001C45.6622 13.607 36.3932 4.33778 24.9999 4.33778ZM31.1133 24.3614C32.4522 24.9804 34.1536 26.3725 34.1208 29.3117C34.0749 33.4266 31.2191 35.6542 27.2744 35.6542H19.4594H18.3042C17.5079 35.6542 16.8645 35.0053 16.8713 34.2092L17.0344 15.0573C17.041 14.2714 17.6794 13.6377 18.4652 13.6366L27.1493 13.6256C31.4651 13.6256 33.9598 16.039 33.9177 19.8134C33.8903 22.2579 32.2484 23.8355 31.1133 24.3614ZM26.766 17.4622H21.3643L21.3076 22.5361H26.7093C28.5347 22.5361 29.5672 21.5152 29.584 19.9992C29.6009 18.4831 28.5915 17.4622 26.766 17.4622ZM26.9444 26.4035H21.2643L21.2038 31.8178H26.884C28.8333 31.8178 29.7752 30.5802 29.792 29.0952C29.8085 27.6101 28.8939 26.4035 26.9444 26.4035Z",fill:"currentColor"})})})}},74328:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(88555),s=a(40234),l=a(81572),o=a(14597),r=a(48360),d=a(67294),c=n(a(56720)),u=n(a(59312)),f=n(a(16223)),h=a(87550),p=a(35461),m=n(a(95402)),g=n(a(50747)),x=n(a(54231)),v=(n(a(75116)),a(98792)),_=n(a(5406)),b=n(a(60453)),C=n(a(69637)),M=n(a(64738)),j=a(94790),S=n(a(4061)),k=n(a(4584)),E=n(a(30855)),T=n(a(14296)),y=n(a(11339)),P=a(18146),w=n(a(23217)),A=a(13923),I=a(85893);const N={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"};function D(e,t){var a,n;const{onClose:d,onMediaGallery:D}=e,O=(0,u.default)(),R=(0,m.default)(),L=(0,f.default)((()=>new E.default)),B=(0,p.useModelValues)(e.chat,["id","groupMetadata"]),G=()=>{o.ModalManager.open((0,I.jsx)(S.default,{highlightSurface:y.default.HIGHLIGHT_SURFACE.INFO_SCREEN_BROADCAST,chatId:B.id,e2eSubtype:"info_encrypted"}))};(0,h.useListener)(null===(a=B.groupMetadata)||void 0===a?void 0:a.participants,["add","remove","sort","reset"],O);let F=null;D&&(F=(0,I.jsx)(_.default,{onMediaGallery:D,chat:(0,P.unproxy)(B)}));const V=(0,I.jsx)(v.ChatInfoDrawerButtonsSection,{children:(0,I.jsx)(M.default,{a8nText:"li-delete-broadcast",icon:(0,I.jsx)(w.default,{name:"delete"}),color:"danger",theme:"chat-info",onClick:()=>{l.Cmd.deleteOrExitChat((0,P.unproxy)(B))},children:T.default.t(773)})});let U;(null===(n=B.groupMetadata)||void 0===n?void 0:n.creation)?(U=s.Clock.createdStr(B.groupMetadata.creation),U=(0,I.jsx)(A.TextDiv,{theme:"small",children:U})):U=null;let H=null;(0,i.isMDBackend)()&&(H=(0,I.jsx)(k.default,{highlightSurface:y.default.HIGHLIGHT_SURFACE.INFO_SCREEN_BROADCAST,onClick:G,text:r.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"1iarlI"})}));let q=null;return H&&(q=(0,I.jsxs)(v.ChatInfoDrawerSection,{children:[null,H]})),(0,I.jsxs)(b.default,{ref:t,theme:"striped",children:[(0,I.jsxs)(j.DrawerHeader,{type:j.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{d?d():null==R||R.requestDismiss()},children:[(0,I.jsx)(A.TextDiv,{theme:"title",children:r.fbt._("Broadcast list info",null,{hk:"3S4EgV"})}),U]}),(0,I.jsx)(C.default,{flatListControllers:[L.current],children:(0,I.jsxs)("div",{className:(0,c.default)(N),children:[(0,I.jsx)(x.default,{chat:(0,P.unproxy)(B)}),F,undefined,q,(0,I.jsx)(g.default,{chat:(0,P.unproxy)(B),flatListController:L.current}),V]})})]},"contact-info-modal")}var O=(0,d.forwardRef)(D);t.default=O},50747:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const n=(0,r.default)(),x=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants;(0,d.useListener)(x,"add remove reset",n);const v=(0,o.useMemo)((()=>x?x.map((e=>({itemKey:e.id.toString(),participant:e,height:68}))):[]),[x]),_=(e,t)=>{l.default.equals((0,s.getMaybeMeUser)(),t.id)||(0,h.findChat)(t.id).then((function(e){i.Cmd.openChatFromUnread(e).then((t=>{t&&i.Cmd.focusChatTextInput(e)}))}))},b=null!==(a=null==x?void 0:x.length)&&void 0!==a?a:0,C=m.default.t(882,{count:b,_plural:b});return(0,g.jsx)(c.ChatInfoDrawerListSection,{title:C,children:(0,g.jsx)(p.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:v,renderItem:e=>{const{participant:t}=e,a=f.ContactCollection.gadd(t.id);return(0,g.jsx)(u.Contact,{contact:a,theme:"chat-info",admin:!!t.isAdmin,onClick:_,waitIdle:!0},t.id.toString())}})})};var i=a(81572),s=a(78820),l=n(a(89867)),o=a(67294),r=n(a(59312)),d=a(87550),c=a(98792),u=a(2732),f=a(19380),h=a(50101),p=a(47915),m=n(a(14296)),g=a(85893)},54231:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const n=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants,_=(0,r.useModelValues)(e.chat.contact,["name"]),b=(0,l.default)();(0,o.useListener)(n,"add remove reset",b);const C=null!==(a=null==n?void 0:n.length)&&void 0!==a?a:0,M=i.fbt._("Broadcast List",null,{hk:"46AT9o"}).toString()+" "+f.default.t(882,{count:C,_plural:C}),j=_.name?(0,g.jsx)(h.Name,{contact:e.chat.contact,selectable:!0}):i.fbt._("Untitled List",null,{hk:"fYALp"});return(0,g.jsxs)(c.default,{theme:"padding-large",children:[(0,g.jsx)("div",{className:(0,s.default)(x),children:(0,g.jsx)(d.DetailImage,{id:e.chat.id,size:d.DetailImageSize.Large})}),(0,g.jsxs)(u.FlexColumn,{align:"center",children:[(0,g.jsx)(m.TextHeader,{level:"2",size:"24",children:j}),(0,g.jsx)("div",{className:(0,s.default)(v),children:(0,g.jsx)(p.SelectableSpan,{dir:"auto",selectable:!0,children:(0,g.jsx)(m.TextSpan,{size:"16",color:"secondary",children:M})})})]})]})};var i=a(48360),s=n(a(56720)),l=n(a(59312)),o=a(87550),r=a(35461),d=a(88984),c=n(a(33308)),u=a(29623),f=n(a(14296)),h=a(12176),p=a(52596),m=a(13923),g=a(85893);const x={display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"du8bjn1j"},v={lineHeight:"a4ywakfo",marginTop:"g1eqewly"}},5406:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,onMediaGallery:a}=e;const n=o.fbt._("Media, links and docs",null,{hk:"3D4fAZ"}),i=(0,_.jsx)(v.default,{color:"secondary",name:"chevron-right-alt",directional:!0}),s=(0,_.jsxs)(m.FlexRow,{align:"center",children:[(0,l.isMediaGalleryFixEnabled)()?(0,_.jsx)(C,{chat:t}):(0,_.jsx)(M,{chat:t}),(0,_.jsx)("div",{children:i})]});return(0,_.jsx)(p.ChatInfoDrawerSection,{a8nText:"section-media",title:n,titleOnClick:a,subtitle:s,xstyle:b.drawerSection,children:(0,_.jsx)(g.default,{chat:t,mediaMsgs:t.getMediaMsgs(),theme:"chat-info"})})};var i=n(a(48926)),s=a(88555),l=a(8139),o=a(48360),r=a(67294),d=n(a(56720)),c=n(a(59312)),u=a(87550),f=n(a(74570)),h=n(a(3409)),p=a(98792),m=a(29623),g=n(a(88224)),x=a(41908),v=n(a(23217)),_=a(85893);const b={mediaCount:{marginEnd:"bugiwsl0",fontSize:"bze30y65",color:"g01nkquw"},drawerSection:{paddingBottom:"aiput80m"}};function C(e){let{chat:t}=e;const a=function(e){const[t,a]=(0,r.useState)(null),n=(0,h.default)(),i=(0,r.useCallback)((()=>{e.countAllMedia().then((e=>{n.aborted||a(e)}))}),[e,n]);return(0,r.useEffect)(i,[i]),(0,u.useListener)(e.getMediaMsgs(),["add","remove"],i),(0,u.useListener)(e.getDocMsgs(),["add","remove"],i),(0,u.useListener)(e.getLinkMsgs(),["add","remove"],i),t}(t);return(0,_.jsx)("div",{className:(0,d.default)(b.mediaCount),children:a})}function M(e){let{chat:t}=e;const a=function(e){const t=e.getMediaMsgs(),a=e.getDocMsgs(),n=e.getLinkMsgs(),l=(0,c.default)();(0,u.useListener)(t,"add remove reset query_media_before",l),(0,u.useListener)(a,"add remove reset query_doc_before",l),(0,u.useListener)(n,"add remove reset query_link_before",l);const o=(0,f.default)();(0,r.useEffect)((()=>{o((0,i.default)((function*(){const i=[];t.hasMediaBefore&&i.push(t.queryMedia({chat:e})),a.hasDocBefore&&i.push(a.queryDocs(e)),n.hasLinkBefore&&i.push(n.queryLinks(e)),yield Promise.all(i),l()})))}),[e,a,l,n,t,o]);let d=null;if(!t.hasMediaBefore&&!a.hasDocBefore&&!n.hasLinkBefore){let e=t.length;(0,s.isMDBackend)()&&(e=t.filter((e=>(0,x.hasThumbnail)(e.mediaData))).length),d=e+a.length+n.length}return d}(t);return(0,_.jsx)("div",{className:(0,d.default)(b.mediaCount),children:a})}},56873:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t}=e,{status:a}=(0,s.useModelValues)(t.getStatus(),["status"]),n=""===a?null:(0,f.jsx)(l.default,{multiline:!0,children:(0,f.jsx)(u.TextSpan,{theme:"title",children:(0,f.jsx)(c.default,{id:t.id})})}),p=(0,f.jsx)(l.default,{separator:!0,children:(0,f.jsx)(d.SelectableSpan,{dir:"auto",selectable:!0,children:(0,f.jsx)(u.TextSpan,{theme:"title",children:(0,i.widToFormattedUser)(t.id)})})});return(0,f.jsxs)(o.ChatInfoDrawerSection,{xstyle:h.container,a8nText:"section-about-and-phone-number",title:r.default.t(263),children:[n,p]})};var i=a(62054),s=(n(a(56720)),a(35461)),l=n(a(44296)),o=a(98792),r=n(a(14296)),d=a(52596),c=n(a(73561)),u=a(13923),f=a(85893);const h={container:{paddingBottom:"przvwfww"}}},76864:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t}=e;let a;a=(0,i.canSeeSMBUpsell)()?(0,p.jsx)(x,{onClick:function(){s.ModalManager.open((0,p.jsx)(d.default,{contact:t}))}}):(0,p.jsx)(g,{onClick:function(){s.ModalManager.open((0,p.jsx)(r.default,{contact:t}))}});return(0,p.jsx)(f.default,{className:o.default.businessAccount,children:a})};var i=a(8139),s=a(14597),l=a(48360),o=n(a(11378)),r=n(a(62138)),d=n(a(955)),c=n(a(35721)),u=n(a(64738)),f=n(a(33308)),h=n(a(23217)),p=a(85893);const m=l.fbt._("This is a business account.",null,{hk:"2x8QUJ"});function g(e){let{onClick:t}=e;return(0,p.jsx)(u.default,{a8nText:"business-title",className:o.default.businessTitleText,onClick:t,children:m})}function x(e){let{onClick:t}=e;return(0,p.jsx)(c.default,{a8nText:"business-title",className:o.default.businessTitleWithSMBUpsell,onClick:t,side:(0,p.jsx)(h.default,{display:"inline",name:"info"}),children:m})}},81896:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const{contact:n,onProductCatalog:T}=e,y=(0,f.useContext)(v.DrawerContext),P=(0,C.getProductCatalogSessionId)(y),w=(0,S.default)((0,j.unproxy)(e.contact));function A(){return(A=(0,i.default)((function*(){const e=yield(0,_.findChat)(n.id);(yield l.Cmd.openChatFromUnread(e))&&(o.DrawerManager.closeDrawerRight(),(0,r.btmThreadsLoggingEnabled)()&&l.Cmd.addChatMsgSentLogAttributes(e,{handleMultiple(){(0,c.handleActivitiesForChatThreadLogging)([{activityType:"profileReplies",ts:(0,s.unixTime)(),chatId:e.id}])}}))}))).apply(this,arguments)}let I;const N=x.ChatCollection.getActive();if(!(null==N?void 0:N.id.equals(n.id))){var D;(0,p.logMessageClick)(P,null===(D=n.businessProfile)||void 0===D?void 0:D.isProfileLinked),I=(0,k.jsx)(h.default,{icon:"chat-msg",label:u.fbt._("Message",null,{hk:"mZ5DE"}),onClick:()=>{!function(){A.apply(this,arguments)}()},a8nText:"business-action chat"})}let O,R,L;w.isVoiceCallEnabled&&(O=(0,k.jsx)(h.default,{icon:"voice-call-filled",label:u.fbt._("Voice call",null,{hk:"393mz4"}),disabled:!w.canStartVoiceCall,onClick:()=>{var e;(0,p.logVoiceCallClick)(P,null===(e=n.businessProfile)||void 0===e?void 0:e.isProfileLinked),w.startVoiceCall()},a8nText:"business-action voice-call"}));(null===(t=n.businessProfile)||void 0===t||null===(a=t.profileOptions)||void 0===a?void 0:a.commerceExperience)===m.COMMERCE_EXPERIENCE_TYPES.CATALOG&&(R=(0,k.jsx)(h.default,{icon:"catalog-filled",label:u.fbt._("Catalog",null,{hk:"3QDkTE"}),onClick:()=>{var e;(0,p.logCatalogClick)(P,null===(e=n.businessProfile)||void 0===e?void 0:e.isProfileLinked),T((0,C.getProductCatalogContext)(y),"ContactInfo")},a8nText:"business-action catalog"}));if((0,g.hasShop)(n.businessProfile)){(0,r.bannedShopsEnabled)()&&(0,g.isShopBanned)(n.businessProfile)||(L=(0,k.jsx)(h.default,{icon:"shop-filled",label:u.fbt._("Shop",null,{hk:"3KsdlE"}),onClick:function(){var e;(0,p.logShopsClick)(P,null===(e=n.businessProfile)||void 0===e?void 0:e.isProfileLinked),(0,g.goToShop)(n.businessProfile)},a8nText:"business-action shop"}))}const B=(0,k.jsx)(h.default,{icon:"forward-filled",label:u.fbt._("Share",null,{hk:"4F3c6E"}).toString(),onClick:function(){var e;(0,p.logForwardClick)(P,null===(e=n.businessProfile)||void 0===e?void 0:e.isProfileLinked),d.ModalManager.open((0,k.jsx)(M.SendContactsModalLoadable,{contacts:[(0,j.unproxy)(n)],onContactsSent:e=>{l.Cmd.openChatFromUnread(e).then((()=>{}))}}))},a8nText:"business-action forward"});return(0,k.jsxs)(b.FlexRow,{xstyle:E.actionsRow,justify:"evenly",children:[I,O,R,L,B]})};var i=n(a(48926)),s=a(92844),l=a(81572),o=a(41455),r=a(8139),d=a(14597),c=a(16116),u=a(48360),f=a(67294),h=(n(a(56720)),n(a(39902))),p=a(57501),m=a(93170),g=a(94010),x=a(69951),v=a(27394),_=a(50101),b=a(29623),C=a(97567),M=a(71428),j=a(18146),S=n(a(9582)),k=a(85893);const E={actionsRow:{marginTop:"c46o30wg",marginEnd:"bsg2wrd4",marginBottom:"brac1wpa",marginStart:"f459d30t","@media (min-width: 1300px)":{marginStart:"hfp8519b",marginEnd:"acdu7ris"}}}},70531:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{businessHours:t,isProfileLinked:a}=e,n=(0,f.getProductCatalogSessionId)((0,l.useContext)(c.DrawerContext)),i=(0,d.getBusinessOpenState)(t),[o,u]=(0,l.useState)(!0);if(null==t)return null;const p=(0,h.getBusinessHours)(t).map((e=>{const{day:t,hours:a,first:n}=e;let l=t,r=a,c=!1;if(n)switch(i.status){case d.BUSINESS_OPEN_STATUS.OPEN_24H:l=s.fbt._("Open now",null,{hk:"28hpHy"}),r=s.fbt._("Open 24 hours",null,{hk:"1AlfF5"}),c=!0;break;case d.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:l=s.fbt._("Open now",null,{hk:"28hpHy"}),r=s.fbt._("Open by appointment only",null,{hk:"1nxH9v"}),c=!0;break;case d.BUSINESS_OPEN_STATUS.OPEN:l=s.fbt._("Open now",null,{hk:"28hpHy"}),c=!0;break;case d.BUSINESS_OPEN_STATUS.CLOSED_TODAY:r=s.fbt._("Closed",null,{hk:"3IRgct"})}return!n&&o?null:(0,g.jsx)(v,{day:l,dayIsOpen:c,hours:r,first:n,collapsed:o},t)}));return(0,g.jsx)(m.default,{xstyle:x.businessHours,onClick:()=>{(0,r.logHoursClick)(n,a),u(!o)},a8nText:"business-hours-expand",children:p})};var i=n(a(94184)),s=a(48360),l=a(67294),o=(n(a(56720)),n(a(49103))),r=a(57501),d=a(94010),c=a(27394),u=a(65417),f=a(97567),h=a(26316),p=n(a(23217)),m=n(a(1784)),g=a(85893);const x={businessHours:{display:"f804f6gw",width:"ln8gz9je",textAlign:"ml4r5409"}};function v(e){if(e.first){const t=(0,g.jsx)("div",{className:o.default.businessHoursChevron,role:"button",children:(0,g.jsx)(p.default,{className:e.collapsed?"":o.default.flipSvg,display:"inline",name:"chevron-down-alt"})});return(0,g.jsxs)("div",{className:(0,i.default)(o.default.businessHoursRow,{[o.default.firstRow]:e.first}),children:[(0,g.jsx)("div",{className:(0,i.default)(o.default.businessHoursDay,{[o.default.dayIsOpen]:e.dayIsOpen}),children:(0,g.jsx)(u.EmojiText,{direction:"auto",text:e.day})}),(0,g.jsx)("div",{className:o.default.businessHoursHours,children:(0,g.jsx)(u.EmojiText,{direction:"auto",text:e.hours})}),t]})}return(0,g.jsxs)("div",{className:o.default.businessHoursRow,children:[(0,g.jsx)("div",{className:o.default.businessHoursDay,children:(0,g.jsx)(u.EmojiText,{direction:"auto",text:e.day})}),(0,g.jsx)("div",{className:o.default.businessHoursHours,children:(0,g.jsx)(u.EmojiText,{direction:"auto",text:e.hours})})]})}},30619:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{businessProfile:t}=e,{description:a,address:n,latitude:C,longitude:M,website:j,email:S,businessHours:k,isProfileLinked:E}=(0,r.useModelValues)(t,["description","address","latitude","longitude","website","email","businessHours","isProfileLinked"]),T=(0,o.useContext)(h.DrawerContext),y=(0,v.getProductCatalogSessionId)(T);let P,w,A,I,N,D;null!=a&&(P=(0,_.jsx)("div",{className:c.default.section,children:(0,_.jsx)(m.default,{text:a,textLimit:i.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,children:e=>{let{textLimit:t}=e;return(0,_.jsx)(p.EmojiText,{className:c.default.description,selectable:!0,direction:"auto",text:a,textLimit:t,breakWord:!0})}})}));null!=k&&(w=(0,_.jsx)("div",{className:c.default.section,children:(0,_.jsx)(d.default,{businessHours:k,isProfileLinked:E})}));null!=n&&(A=(0,_.jsx)("div",{className:c.default.section,children:(0,_.jsx)(p.EmojiText,{selectable:!0,direction:"auto",text:n})}));null!=C&&null!=M&&(I=(0,_.jsx)("div",{style:{height:132},className:(0,l.default)(c.default.section,c.default.map),children:(0,_.jsx)(x.default,{lat:C,lng:M,name:n||"",width:590,height:132,onClick:()=>(0,u.logLocationClick)(y,E),a8nText:"business-info-map"})}));null!=S&&(N=(0,_.jsx)("div",{className:c.default.section,children:(0,_.jsx)(g.ExternalLink,{href:`mailto:${S}`,onClick:()=>(0,u.logEmailClick)(y),a8nText:"business-info-email",children:S})}));null!=j&&j.length>0&&(D=(0,_.jsx)("div",{className:c.default.section,children:j.map((e=>(0,_.jsx)("div",{children:(0,_.jsx)(g.ExternalLink,{href:s.default.toMaliciousSiteRedirect(e),onClick:()=>(0,u.logWebsiteClick)(y),a8nText:"business-info-website",children:e})},e)))}));return null==P&&null==w&&null==A&&null==I&&null==N&&null==D?null:(0,_.jsxs)(f.ChatInfoDrawerSection,{xstyle:b.container,children:[P,w,A,I,N,D]})};var i=n(a(64369)),s=n(a(76139)),l=n(a(94184)),o=a(67294),r=(n(a(56720)),a(35461)),d=n(a(70531)),c=n(a(46311)),u=a(57501),f=a(98792),h=a(27394),p=a(65417),m=n(a(17080)),g=a(12591),x=n(a(83452)),v=a(97567),_=a(85893);const b={container:{paddingTop:"i4pc7asj",paddingBottom:"q1nnjopg"}}},33253:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t}=e;let a,n;if(t.isMyContact)if(t.name!==t.verifiedName){let e;t.showBusinessCheckmarkAsSecondary&&(e=(0,r.jsx)("div",{className:i.default.icon,children:(0,r.jsx)(o.default,{name:"psa-verified"})})),a=(0,r.jsx)(l.Name,{contact:t,breakWord:!0}),n=(0,r.jsxs)("div",{className:i.default.wrapper,children:[(0,r.jsx)(s.EmojiText,{text:`~${t.verifiedName}`,className:i.default.verifiedText,direction:"auto",ellipsify:!0,titlify:!0}),e]})}else a=(0,r.jsx)(l.Name,{contact:t,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary,breakWord:!0});else a=(0,r.jsx)(s.EmojiText,{text:t.verifiedName,direction:"auto",ellipsify:!0,titlify:!0,breakWord:!0}),n=(0,r.jsx)(l.Name,{contact:t,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary});return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:i.default.title,children:a}),(0,r.jsx)("div",{className:i.default.subtitle,children:n})]})};var i=n(a(66044)),s=a(65417),l=a(12176),o=n(a(23217)),r=a(85893)},99924:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessOpenHours=function(e){const{hours:t}=e,a=c((0,o.getBusinessOpenState)(t));if(null==a)return null;const n=i.default.sanitize(a.toString());return(0,r.jsx)("div",{className:l.default.openStatus,dangerouslySetInnerHTML:{__html:n}})},t.getBusinessOpenStr=c;var i=n(a(77482)),s=a(48360),l=n(a(79111)),o=a(94010),r=a(85893);function d(e){return null==e?"":e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function c(e){switch(e.status){case o.BUSINESS_OPEN_STATUS.OPEN_24H:return s.fbt._("{open} 24 hours",[s.fbt._param("open",`<span class="${l.default.open}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"1aA6f9"});case o.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:return s.fbt._("{open} by appointment only",[s.fbt._param("open",`<span class="${l.default.open}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"z8CGT"});case o.BUSINESS_OPEN_STATUS.OPEN:if(e.openUntil&&e.additionalOpen&&e.additionalClose)return s.fbt._("{open} until {time}, {additionalOpenTime} - {additionalCloseTime}",[s.fbt._param("open",`<span class="${l.default.open}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),s.fbt._param("time",d(e.openUntil)),s.fbt._param("additionalOpenTime",d(e.additionalOpen)),s.fbt._param("additionalCloseTime",d(e.additionalClose))],{hk:"2dJgLQ"});if(e.openUntil)return s.fbt._("{open} until {time}",[s.fbt._param("open",`<span class="${l.default.open}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),s.fbt._param("time",d(e.openUntil))],{hk:"3Dd8an"});break;case o.BUSINESS_OPEN_STATUS.CLOSED:return e.opensAt?s.fbt._("{closed}, opens at {time}",[s.fbt._param("closed",`<span class="${l.default.closed}">${s.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`),s.fbt._param("time",d(e.opensAt))],{hk:"LvVmY"}):`<span class="${l.default.closed}">${s.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`;case o.BUSINESS_OPEN_STATUS.CLOSED_TODAY:return`<span class="${l.default.closed}">${s.fbt._("Closed today",null,{hk:"3uCCvH"}).toString()}</span>`}return null}},40878:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessProfile=function(e){let t;const a=(0,c.useModelValues)(e.contact,["id","verifiedLevel","name","verifiedName"]),n=(0,c.useModelValues)(e.businessProfile,["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]);(0,d.useEffect)((()=>{new S.default.ViewBusinessProfile({viewBusinessProfileAction:S.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION}).commit()}),[]);const l=(e,t,a,n)=>{const i=n?(e=>{const{streetAddress:t,localizedCityName:a,zipCode:n}=e;return t&&a&&n?r.fbt._("{streetAddress}, {city} {zipCode}",[r.fbt._param("streetAddress",t),r.fbt._param("city",a),r.fbt._param("zipCode",n)],{hk:"1McVXv"}).toString():t&&a?r.fbt._("{streetAddress}, {city}",[r.fbt._param("streetAddress",t),r.fbt._param("city",a)],{hk:"1zyKhk"}).toString():t})(n):null;let s,l;if(null!=t&&null!=a&&(s=(0,y.jsx)("div",{style:{height:150},className:h.default.businessMap,children:(0,y.jsx)(M.default,{lat:t,lng:a,name:i||e,width:565,height:150})})),i){let e;e=null!=t&&null!=a?(0,j.getMapUrl)(t,a,i):(0,j.getSearchUrl)(i),l=(0,y.jsx)("div",{className:h.default.address,children:(0,y.jsx)(b.ExternalLink,{href:e,children:(0,y.jsx)(v.EmojiText,{selectable:!0,direction:"auto",text:i})})})}return l||s?(0,y.jsxs)(N,{icon:"business-address",children:[l,s]}):null};t=(0,s.canSeeSMBUpsell)()?(0,y.jsx)(P,{contact:a}):(0,y.jsx)(A,{contact:a});let o,u,f,p,m,g,T;const I=n;if(I.stale)o=(0,y.jsx)("div",{className:h.default.contactBusinessInfoSpinner,children:(0,y.jsx)(E.Spinner,{size:20,stroke:5})});else{var D;if(u=(null===(D=I.categories)||void 0===D?void 0:D.length)?(0,y.jsx)(N,{icon:"business-category",children:(0,y.jsx)(v.EmojiText,{selectable:!0,direction:"auto",text:I.categories.map((e=>e.localized_display_name)).join(C.default.t(307))})}):null,f=I.description?(0,y.jsx)(N,{icon:"business-description",children:(0,y.jsx)(_.default,{text:I.description,textLimit:i.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,children:e=>{let{textLimit:t}=e;return(0,y.jsx)(v.EmojiText,{selectable:!0,direction:"auto",breakWord:!0,text:I.description,textLimit:t})}})}):null,p=l(a.name,I.latitude,I.longitude,I.structuredAddress),I.website&&Array.isArray(I.website)&&I.website.length&&(m=I.website.map(((e,t)=>{const a=(0,k.getWebsiteLink)(e),n=(0,y.jsx)(v.EmojiText,{selectable:!0,direction:"auto",text:e}),i=(0,y.jsx)(b.ExternalLink,{className:h.default.link,href:a,children:n});return(0,y.jsx)(N,{icon:"business-website",children:i},t)}))),I.businessHours&&(g=(0,y.jsx)(w,{businessHours:I.businessHours})),I.email){const e=(0,y.jsx)(v.EmojiText,{selectable:!0,direction:"auto",text:I.email}),t=(0,y.jsx)(b.ExternalLink,{className:h.default.link,href:`mailto:${I.email}`,children:e});T=(0,y.jsx)(N,{icon:"business-email",dir:"auto",children:t})}}let O;(o||null!=p||u||f||null!=g||T||m)&&(O=(0,y.jsx)(x.default,{theme:"padding",children:(0,y.jsxs)("div",{className:h.default.contactBusinessInfo,children:[o,p,u,f,g,T,m]})}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x.default,{children:t}),O]})};var i=n(a(64369)),s=a(8139),l=a(14597),o=n(a(94184)),r=a(48360),d=a(67294),c=a(35461),u=n(a(62138)),f=n(a(955)),h=n(a(52898)),p=a(93170),m=n(a(35721)),g=n(a(64738)),x=n(a(33308)),v=a(65417),_=n(a(17080)),b=a(12591),C=n(a(14296)),M=n(a(83452)),j=a(8384),S=n(a(11339)),k=a(26316),E=a(11054),T=n(a(23217)),y=a(85893);function P(e){let{contact:t}=e;const a=t.verifiedLevel===p.VERIFIED_LEVEL.HIGH?r.fbt._("Official business account",null,{hk:"1KruJ"}):r.fbt._("Business account",null,{hk:"2lzdAg"});return(0,y.jsx)(m.default,{a8nText:"business-title",onClick:l.ModalManager.open((0,y.jsx)(f.default,{contact:t})),side:(0,y.jsx)(T.default,{className:h.default.infoIcon,display:"inline",name:"info"}),children:a})}function w(e){let{businessHours:t}=e;const[a,n]=(0,d.useState)(!0),i=(0,k.getBusinessHours)(t).map((e=>{const{day:t,hours:n,first:i}=e;return!i&&a?null:(0,y.jsx)(I,{day:t,hours:n,first:i,collapsed:a},t)}));return(0,y.jsx)(N,{icon:"business-hours",onClick:()=>n(!a),children:i})}function A(e){let t,{contact:a}=e;switch(a.verifiedLevel){case p.VERIFIED_LEVEL.HIGH:t=r.fbt._("Official business account",null,{hk:"1KruJ"});break;case p.VERIFIED_LEVEL.LOW:case p.VERIFIED_LEVEL.UNKNOWN:t=r.fbt._("Business account",null,{hk:"2lzdAg"})}return(0,y.jsx)(g.default,{a8nText:"business-title",className:h.default.businessTitleText,onClick:()=>{l.ModalManager.open((0,y.jsx)(u.default,{contact:a}))},children:t})}const I=e=>{const t=e.first?(0,y.jsx)("div",{className:h.default.businessHoursChevron,role:"button",children:(0,y.jsx)(T.default,{className:e.collapsed?"":h.default.flipSvg,display:"inline",name:"chevron-down-alt"})}):null;return(0,y.jsxs)("div",{className:h.default.businessHoursRow,children:[(0,y.jsx)("div",{className:h.default.businessHoursDay,children:(0,y.jsx)(v.EmojiText,{direction:"auto",text:e.day})}),(0,y.jsx)("div",{className:h.default.businessHoursHours,children:(0,y.jsx)(v.EmojiText,{direction:"auto",text:e.hours})}),t]})},N=e=>(0,y.jsxs)("div",{className:(0,o.default)(h.default.dataRow,e.className),onClick:e.onClick,children:[(0,y.jsx)("div",{className:h.default.dataRowIcon,children:(0,y.jsx)(T.default,{name:e.icon})}),(0,y.jsx)("div",{className:h.default.dataRowText,children:e.children})]})},18408:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,businessProfile:a,onOpenStatus:n,onProductCatalog:h,onProfilePicLoad:p,onProfilePicClick:m}=e;const{businessHours:g,categories:x}=(0,i.useModelValues)(a,["businessHours","categories"]),v=(0,f.jsx)(l.default,{contact:t});let _;null!=x&&x.length>0&&(_=(0,f.jsx)("div",{className:r.default.categories,children:x.map((e=>e.localized_display_name)).join(u.default.t(306))}));const b=g?(0,f.jsx)(o.BusinessOpenHours,{hours:g}):null;return(0,f.jsxs)(c.default,{className:r.default.noPaddingBottom,theme:"padding",children:[(0,f.jsx)(d.default,{contact:t,onClick:m,onOpenStatus:n,onLoad:p}),(0,f.jsxs)("div",{className:r.default.info,children:[v,_,b,(0,f.jsx)(s.default,{contact:t,onProductCatalog:h})]})]})};var i=a(35461),s=n(a(81896)),l=n(a(33253)),o=a(99924),r=n(a(24714)),d=n(a(24697)),c=n(a(33308)),u=n(a(14296)),f=a(85893)},23073:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t}=e;const{status:a}=(0,s.useModelValues)(t.getStatus(),["status"]);return""===a?null:(0,d.jsx)(l.ChatInfoDrawerSection,{a8nText:"section-about",title:i.fbt._("About",null,{hk:"4qoAfH"}),children:(0,d.jsx)(r.TextSpan,{theme:"title",size:"16",children:(0,d.jsx)(o.default,{id:t.id})})})};var i=a(48360),s=a(35461),l=a(98792),o=n(a(73561)),r=a(13923),d=a(85893)},93861:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useModelValues)(e.contact,["commonGroups"]).commonGroups,[a,n]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(0,u.findCommonGroups)(e.contact).catch((e=>{throw __LOG__(4,!0,new Error,!0)`get from participants table failed`,SEND_LOGS("get from participants table failed when finding common groups: "+e),new Error("get from participants table failed")}))}),[]);const m=(0,l.default)(t,["add","remove"],(()=>{if(!t)return[];let e=t;return e.length>d.INFO_DRAWER_MAX_ROWS&&a&&(e=e.slice(0,d.INFO_DRAWER_MAX_ROWS)),e.map((e=>({itemKey:e.id.toString(),chat:e,height:68})))}),[a]),g=()=>{n(!1)},x=(t,a)=>{i.Cmd.openChatFromUnread(a).then((e=>{e&&i.Cmd.focusChatTextInput(a)})),e.onClose()};if(!t)return null;let v;if(t.length>d.INFO_DRAWER_MAX_ROWS&&a){const e=t.length-d.INFO_DRAWER_MAX_ROWS;v=(0,p.jsx)(c.default,{numMore:e,onClick:g})}const _=h.default.t(262,{number:h.default.n(t.length),_plural:t.length});return(0,p.jsxs)(d.ChatInfoDrawerListSection,{a8nText:"section-common-groups",title:_,children:[(0,p.jsx)(f.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:m,renderItem:e=>{const{chat:t}=e;return(0,p.jsx)(r.Chat,{chat:t,theme:"chat-info",contact:t.contact,mode:r.Mode.INFO,onClick:x},t.id.toString())}}),v]})};var i=a(81572),s=a(67294),l=n(a(96570)),o=a(35461),r=a(65511),d=a(98792),c=n(a(31808)),u=a(44663),f=a(47915),h=n(a(14296)),p=a(85893)},37380:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(81109)),s=a(50796),l=a(92844),o=a(92574),r=a(88555),d=a(81572),c=a(41455),u=a(8139),f=a(14597),h=a(94816),p=a(78820),m=a(16116),g=a(48360),x=a(67294),v=n(a(56720)),_=n(a(16223)),b=a(35461),C=n(a(55010)),M=n(a(95402)),j=n(a(56873)),S=n(a(76864)),k=n(a(30619)),E=a(57501),T=a(40878),y=a(94010),P=n(a(18408)),w=a(99989),A=n(a(42953)),I=a(69951),N=a(98792),D=n(a(5406)),O=n(a(23073)),R=n(a(93861)),L=n(a(87624)),B=n(a(97140)),G=n(a(72891)),F=n(a(47091)),V=a(62632),U=a(26409),H=n(a(60453)),q=n(a(69637)),W=n(a(64738)),Y=a(27394),z=a(94790),K=n(a(33308)),X=a(61086),Z=n(a(30855)),Q=n(a(77577)),$=n(a(14296)),J=n(a(35580)),ee=n(a(43895)),te=a(56057),ae=a(82145),ne=a(97398),ie=n(a(11339)),se=n(a(3721)),le=n(a(71528)),oe=a(97567),re=a(9153),de=a(48870),ce=n(a(68132)),ue=n(a(96222)),fe=a(18146),he=n(a(23217)),pe=a(50452),me=a(85893);const ge={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"};function xe(e){let{contact:t,catalogContext:a,onProductDetail:n,onProductCatalog:i}=e;const s=w.CatalogCollection.get(t.id);if(!s)return null;let l="",o=!1;(0,u.canSeeBizProfileV3)()&&(l=g.fbt._("See all",null,{hk:"3dTwyT"}),o=!0);const{session:r}=a;return r.isAccidental()?null:(0,y.hasShop)(t.businessProfile)?(0,u.bannedShopsEnabled)()&&(0,y.isShopBanned)(t.businessProfile)?null:(0,me.jsx)(ue.default,{businessProfile:t.businessProfile,catalog:s,subtitle:l,hideIncompleteRows:o}):(0,me.jsx)(A.default,{onProductDetail:n,onProductCatalog:i,catalog:s,subtitle:l,hideIncompleteRows:o,shouldLog:!0})}function ve(e,t){const{onVerification:a,onClose:n,onProductDetail:y,onProductCatalog:A,canLogQpl:ue=!0}=e,ve=(0,M.default)(),_e=(0,x.useContext)(Y.DrawerContext),be=(0,b.useModelValues)(e.contact,["id","formattedName","formattedUser","formattedShortName","isBusiness","isEnterprise","isMyContact","commonGroups","businessProfile","showBusinessCheckmarkAsPrimary","showBusinessCheckmarkAsSecondary","verifiedName","verifiedLevel","name","notifyName","labels","businessCatalog","isMe","statusMute","displayName"]),Ce=(0,_.default)((()=>new Z.default)),Me=(0,x.useRef)(!1),[je,Se]=(0,x.useState)(100),ke=(0,x.useMemo)((()=>I.ChatCollection.get(be.id)),[be.id]);(0,x.useEffect)((()=>{be.businessProfile&&!be.businessProfile.stale&&be.businessCatalog&&w.CatalogCollection.findCarouselCatalog(be.id).catch((0,s.filteredCatch)(o.ServerStatusCodeError,(()=>{__LOG__(3)`Failed to fetch product catalog in contact drawer from server`}))),(0,r.isMDBackend)()&&(0,U.getFanOutListJob)([be.id,(0,p.assertGetMe)()]).then((e=>{(0,ne.ensureE2ESessions)(e)}));const{session:t}=(0,oe.getProductCatalogContext)(_e);if(t.isAccidental())c.DrawerManager.setDrawerContext("right",(0,oe.buildProductCatalogContext)(new re.ProductCatalogSession,(0,V.getMaybeBizPlatformForLogging)(be.id.toString()),ie.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE));else if(be.isBusiness&&(0,u.canSeeBizProfileV3)()){var a;if(!(be.id===(0,p.getMaybeMeUser)()))(0,E.logProfileImpression)((0,oe.getProductCatalogSessionId)(_e),e.profileEntryPoint,null===(a=be.businessProfile)||void 0===a?void 0:a.isProfileLinked)}ue&&be.businessProfile&&(0,te.qplEndProfileView)(de.QuickLogActionType.SUCCESS)}),[]),(0,x.useEffect)((()=>{if((0,u.btmThreadsLoggingEnabled)()){var e;const t=null===(e=(0,p.getMaybeMeUser)())||void 0===e?void 0:e.equals(be.id),{session:a}=(0,oe.getProductCatalogContext)(_e);a.isAccidental()||t||!(null==ke?void 0:ke.id)||(0,m.handleActivitiesForChatThreadLogging)([{activityType:"profileViews",ts:(0,l.unixTime)(),chatId:ke.id}])}}),[]),(0,C.default)((()=>{const{session:e}=(0,oe.getProductCatalogContext)(_e);var t;e.isAccidental()||be.isBusiness&&(0,u.canSeeBizProfileV3)()&&(0,E.logProfileExit)((0,oe.getProductCatalogSessionId)(_e),je,null===(t=be.businessProfile)||void 0===t?void 0:t.isProfileLinked)}));const Ee=()=>{n?n():null==ve||ve.requestDismiss()},Te=e=>{if(!Me.current)return void h.ToastManager.open((0,me.jsx)(pe.Toast,{id:(0,pe.genId)(),msg:g.fbt._("No profile photo",null,{hk:"2bdeTO"})}));const t=e.target;f.ModalManager.openMedia((0,me.jsx)(le.default,{contact:be,profilePicThumb:be.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:e=>{e(t)}}),{transition:"profile-viewer",uim:ve})},ye=()=>{Me.current=!0},Pe=e=>{(0,ae.qplStartProductView)("ContactInfo"),y(e)},we=e=>{const t=Math.floor(100*(1+e.currentTarget.scrollTop/e.currentTarget.offsetHeight));t>je&&Se(t)},Ae=(0,me.jsx)(R.default,{contact:be,onClose:Ee,flatListController:Ce.current});let Ie=null;e.onMediaGallery&&ke&&(Ie=(0,me.jsx)(D.default,{chat:ke,onMediaGallery:e.onMediaGallery}));let Ne=null;ke&&(Ne=(0,me.jsx)(ee.default,{chat:ke,onClick:e.onLiveLocation}));let De=null,Oe=null;if(be&&be.isBusiness&&be.businessProfile&&be.businessCatalog){const e=(0,me.jsx)(xe,{contact:be,catalogContext:(0,oe.getProductCatalogContext)(_e),onProductDetail:Pe,onProductCatalog:A});(0,u.canSeeBizProfileV3)()?Oe=e:De=e}const Re=ke&&ke.mute.canMute()?(0,me.jsx)(se.default,{chat:ke,mute:ke.mute,settings:ce.default}):null;let Le;e.onStarred&&(Le=(0,me.jsx)(G.default,{chat:ke,onStarred:e.onStarred,onContactCard:e.onContactCard}));const Be=ke&&ke.shouldShowEphemeralSetting()?(0,me.jsx)(X.EphemeralSettingRow,{onClick:e.onEphemeral,chat:ke,testid:"contact-info-dm-setting-row"}):null,Ge=(0,r.isMDBackend)()?(0,me.jsx)(L.default,{contact:(0,fe.unproxy)(be),onVerificationClick:()=>{a()}}):null;let Fe=null;(Re||Be||Ge)&&(Fe=(0,me.jsxs)(N.ChatInfoDrawerSection,{children:[Re,Be,Ge]}));const Ve=!be.isBusiness,Ue=Ve?null:(0,me.jsx)(j.default,{contact:(0,fe.unproxy)(be)}),He=Ve?(0,me.jsx)(O.default,{contact:(0,fe.unproxy)(be)}):null,qe=(0,u.canSeeBizProfileV3)()&&be.isBusiness&&be.businessProfile?(0,me.jsx)(P.default,{contact:be,onProfilePicLoad:ye,onProfilePicClick:Te,onOpenStatus:()=>{var e;(0,E.logStatusClick)((0,oe.getProductCatalogSessionId)(_e),null===(e=be.businessProfile)||void 0===e?void 0:e.isProfileLinked)},businessProfile:be.businessProfile,onProductCatalog:A}):(0,me.jsx)(F.default,{contact:be,onDetailImageLoad:ye,onDetailImageClick:Te});let We,Ye,ze,Ke=null;var Xe,Ze;be.isBusiness&&be.businessProfile&&((0,u.canSeeBizProfileV3)()&&be.businessProfile?(Ke=(0,me.jsx)(k.default,{businessProfile:be.businessProfile}),We=(0,me.jsx)(S.default,{contact:be}),(null!==(Xe=null===(Ze=be.labels)||void 0===Ze?void 0:Ze.length)&&void 0!==Xe?Xe:0)>0&&(Ye=(0,me.jsx)(K.default,{theme:"padding",children:(0,me.jsx)(Q.default,{labels:be.labels,theme:"standalone"})})),ze=we):be.businessProfile&&(Ke=(0,me.jsx)(T.BusinessProfile,{contact:be,businessProfile:be.businessProfile})));const Qe={title:g.fbt._("Contact info",null,{hk:"LUJtH"}),type:z.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:Ee};let $e;return be.businessProfile&&(0,u.bizLinkedAccountsEnabled)()&&($e=(0,me.jsx)(J.default,{businessProfile:be.businessProfile,rowTheme:"linked-account-consumer"})),(0,me.jsxs)(H.default,{ref:t,theme:"striped",testid:"contact-info-drawer",children:[(0,me.jsx)(z.DrawerHeader,(0,i.default)({},Qe)),(0,me.jsx)(q.default,{flatListControllers:[Ce.current],onScroll:ze,children:(0,me.jsxs)("section",{className:(0,v.default)(ge),children:[qe,We,Ye,Oe,Ke,$e,Ne,De,He,Ie,Le,Fe,Ue,undefined,Ae,(0,me.jsx)(B.default,{contact:be}),(0,me.jsx)(N.ChatInfoDrawerButtonsSection,{children:ke?(0,me.jsx)(W.default,{a8nText:"li-delete-chat",icon:(0,me.jsx)(he.default,{name:"delete"}),color:"danger",onClick:()=>{const e=I.ChatCollection.assertGet(be.id);d.Cmd.deleteOrExitChat(e)},theme:"chat-info",children:$.default.t(275)}):null})]})})]},"contact-info-modal")}var _e=(0,x.forwardRef)(ve);t.default=_e},87624:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onVerificationClick:t}=e,a=(0,o.useModelValues)(e.contact,["id","privacyMode"]),n=function(e,t){if((0,c.default)(t.user))return{text:l.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"}),title:l.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,f.default)(l.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),(0,i.getSupportChatSafetyFaqUrl)(),l.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}))}};switch(e){case s.ReducedPrivacyMode.E2EE:return null;case s.ReducedPrivacyMode.BSP:return{text:l.fbt._("This business works with other companies to manage this chat. Click to learn more.",null,{hk:"VbOOZ"}),title:l.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,f.default)((0,d.formatBspModalText)(),(0,i.getE2EEnterpriseFaqUrl)())}};case s.ReducedPrivacyMode.FB:return{text:l.fbt._("This business uses a secure service from the Facebook company to manage this chat. Click to learn more.",null,{hk:"1kUjsv"}),title:l.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,f.default)((0,d.formatFbModalText)(),(0,i.getE2EEnterpriseFaqUrl)())}}}}((0,s.getReducedPrivacyMode)(a.privacyMode),a.id);if(n)return(0,p.jsx)(r.default,{highlightSurface:u.default.HIGHLIGHT_SURFACE.INFO_SCREEN_CONTACT,title:n.title,text:n.text,onClick:n.onClick});const m=(0,h.isVoiceCallEnabled)()||(0,h.isVideoCallEnabled)()?l.fbt._("Messages and calls are end-to-end encrypted. Click to verify.",null,{hk:"GtGQH"}):l.fbt._("Messages are end-to-end encrypted. Click to verify.",null,{hk:"1AqhWR"});return(0,p.jsx)(r.default,{highlightSurface:u.default.HIGHLIGHT_SURFACE.INFO_SCREEN_CONTACT,onClick:t,text:m})};var i=a(21310),s=a(8197),l=a(48360),o=a(35461),r=n(a(4584)),d=a(26722),c=n(a(78542)),u=n(a(11339)),f=n(a(32162)),h=a(69594),p=a(85893)},97140:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useModelValues)(e.contact,["displayName","isBusiness","isContactBlocked"]);let a=null;if(t.isContactBlocked){const n=h.default.t(264,{contact:t.displayName});a=(0,_.jsx)(f.default,{a8nText:"li-unblock",color:"success",icon:(0,_.jsx)(v.default,{name:"settings-blocked",directional:!0}),onClick:()=>{i.ModalManager.open((0,_.jsx)(u.default,{okText:h.default.t(681),onOK:()=>{(0,r.unblockContact)(e.contact),i.ModalManager.close()},cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>i.ModalManager.close(),children:(0,_.jsx)(p.default,{id:682,params:{contact:(0,_.jsx)(m.Name,{contact:e.contact})}})}))},theme:"chat-info",children:n})}else{const n=h.default.t(261,{contact:t.displayName});a=(0,_.jsx)(f.default,{a8nText:"li-block",color:"danger",icon:(0,_.jsx)(v.default,{name:"settings-blocked",directional:!0}),onClick:()=>{i.ModalManager.open((0,_.jsx)(u.default,{onOK:()=>{(0,r.blockContact)(e.contact),i.ModalManager.close()},okText:h.default.t(148),onCancel:()=>i.ModalManager.close(),cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),children:l.fbt._("Block {contact}? Blocked contacts will no longer be able to call you or send you messages.",[l.fbt._param("contact",(0,_.jsx)(m.Name,{contact:e.contact}))],{hk:"fQATz"})}))},theme:"chat-info",children:n})}let n=l.fbt._("Report business",null,{hk:"2Tvnn8"});t.isBusiness||(n=h.default.t(615,{contactInfo:t.displayName}));const b=(0,_.jsx)(f.default,{a8nText:"li-report-spam",color:"danger",icon:(0,_.jsx)(v.default,{name:"thumbs-down",directional:!0}),onClick:()=>{i.ModalManager.open((0,_.jsx)(g.default,{isBusiness:e.contact.isBusiness,isGroupChat:!1,onReport:()=>{const t=d.ChatCollection.get(e.contact.id);t&&(0,x.sendSpamReport)(t,s.SpamFlow.Account),i.ModalManager.close()},onReportBlockClear:()=>{const t=d.ChatCollection.get(e.contact.id);t&&(0,x.sendSpamBlockClear)(t,s.SpamFlow.Block),i.ModalManager.close()},onCancel:()=>i.ModalManager.close()}))},theme:"chat-info",children:n});return(0,_.jsxs)(c.ChatInfoDrawerButtonsSection,{children:[a,b]})};var i=a(14597),s=a(87674),l=a(48360),o=a(35461),r=a(80140),d=a(69951),c=a(98792),u=n(a(52665)),f=n(a(64738)),h=n(a(14296)),p=n(a(56074)),m=a(12176),g=n(a(30934)),x=a(19569),v=n(a(23217)),_=a(85893)},72891:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,onStarred:a,onContactCard:n}=e,u=null;const f=t&&t.getReceivedVcardMsgs();if(i.LegacyPhoneFeatures.supportsFeature(i.LegacyPhoneFeatures.F.INDEX_RECEIVED_VCARD)&&(null==f?void 0:f.length)){const e=(0,c.jsx)(d.TextSpan,{theme:"title",children:(0,c.jsx)(r.default,{count:f.length})});u=(0,c.jsx)(l.default,{a8nText:"block-starred-messages",side:"chevron",icon:"account-box",onClick:n,title:e})}const h=(0,c.jsx)(d.TextSpan,{theme:"title",size:"16",children:s.fbt._("Starred messages",null,{hk:"4wVbNG"})});return(0,c.jsxs)(o.ChatInfoDrawerSection,{a8nText:"section-starred-messages",children:[(0,c.jsx)(l.default,{a8nText:"block-starred-messages",side:"chevron",icon:"star",onClick:a,title:h}),u]})};var i=a(38184),s=a(48360),l=n(a(75116)),o=a(98792),r=n(a(55944)),d=a(13923),c=a(85893)},47091:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,{contact:a,onDetailImageLoad:n,onDetailImageClick:s}=e;if(a.isMyContact)t=(0,i.widToFormattedUser)(a.id);else{const e=a.notifyName;null!=e&&(t=`~${e}`)}return(0,x.jsxs)(d.default,{theme:"padding-large",children:[(0,x.jsx)("div",{className:(0,l.default)(v.avatar),children:(0,x.jsx)(r.DetailImage,{id:a.id,size:r.DetailImageSize.Large,loader:!0,onLoad:n,onClick:s,quality:r.DetailImageQuality.High})}),(0,x.jsxs)(c.FlexColumn,{align:"center",children:[(0,x.jsx)(m.TextHeader,{level:"2",size:"24",xstyle:v.contactName,children:(0,x.jsx)(f.Name,{contact:a,selectable:!0,breakWord:!0})}),null!=t&&(0,x.jsx)("div",{className:(0,l.default)(v.secondaryWrapper),children:(0,x.jsx)(h.SelectableSpan,{dir:"auto",selectable:!0,children:(0,x.jsx)(m.TextSpan,{size:"16",color:"secondary",children:t})})})]}),(0,x.jsx)(b,{contact:a}),(0,x.jsx)(u.default,{labels:a.labels})]})};var i=a(62054),s=a(48360),l=n(a(56720)),o=n(a(39902)),r=a(88984),d=n(a(33308)),c=a(29623),u=n(a(77577)),f=a(12176),h=a(52596),p=a(18146),m=a(13923),g=n(a(9582)),x=a(85893);const v={avatar:{display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"pz0xruzv"},secondaryWrapper:{lineHeight:"a4ywakfo",marginTop:"qt60bha0"},contactName:{textAlign:"qfejxiq4"}};const _={container:{marginTop:"a4rz4n5c",marginBottom:"inww9tbj"},button:{marginStart:"nzcjdldu",marginEnd:"gqi0zhd6"}};function b(e){let{contact:t}=e;const a=(0,g.default)((0,p.unproxy)(t));return a.isVideoCallEnabled||a.isVoiceCallEnabled?(0,x.jsxs)(c.FlexRow,{justify:"center",xstyle:_.container,children:[(0,x.jsx)(o.default,{icon:"voice-call-filled",iconWidth:19,label:s.fbt._("Audio",null,{hk:"1b375N"}),a8nText:"contact-action voice-call-button",xstyle:_.button,disabled:!a.canStartVoiceCall,onClick:a.startVoiceCall}),(0,x.jsx)(o.default,{icon:"chat-info-video",label:s.fbt._("Video",null,{hk:"3zMUsJ"}),a8nText:"contact-action video-call-button",xstyle:_.button,disabled:!a.canStartVideoCall,onClick:a.startVideoCall})]}):null}},31808:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{numMore:t,viewAll:a,onClick:n}=e;const f=(0,c.jsx)(s.FlexRow,{align:"center",justify:"center",xstyle:u.iconWrapper,children:a?null:(0,c.jsx)(o.default,{theme:"transparent",children:(0,c.jsx)(r.default,{name:"down",color:"secondary"})})});let h=l.default.t(409,{count:t,_plural:t});a&&(h=l.default.t(408,{more:h}));return(0,c.jsxs)(d.default,{xstyle:u.container,onClick:n,children:[f,(0,c.jsx)("div",{className:(0,i.default)(u.text,a&&u.textAlt),children:h})]})};var i=n(a(56720)),s=a(29623),l=n(a(14296)),o=n(a(52711)),r=n(a(23217)),d=n(a(1784)),c=a(85893);const u={container:{height:"q1n4p668",width:"ln8gz9je",paddingStart:"ddw6s8x9",display:"p357zi0d",alignItems:"gndfcl4n",color:"pm5hny62",":hover":{backgroundColor:"os03hap6"}},iconWrapper:{width:"fujhy7ri"},text:{flexGrow:"ggj6brxn",textAlign:"ljrqcn24"},textAlt:{color:"dmdq60dq"}}},50890:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClick:t,parentGroupMetadata:a,parentGroupChat:n}=e;const{joinedSubgroups:p,unjoinedSubgroups:m,id:g}=(0,l.useModelValues)(a,["joinedSubgroups","unjoinedSubgroups","id"]),{name:x}=(0,l.useModelValues)(n.contact,["name"]);(0,s.useEffect)((()=>{(0,c.queryAndUpdateSubgroupsMetadata)(g)}),[g]),m.length,p.length;const v=i.fbt._("",null,{hk:"4a7vBg"});return(0,h.jsx)(d.default,{theme:"no-padding",children:(0,h.jsx)(o.default,{image:(0,h.jsx)(r.DetailImage,{id:g,shape:r.DetailImageShape.Squircle,size:60}),primary:x,onClick:t,theme:"community-home",secondary:(0,h.jsxs)(f.TextSpan,{size:"16",color:"secondary",children:[v," ",i.fbt._("",null,{hk:"3OY1QN"})]}),detail:(0,h.jsx)(u.default,{color:"secondary",name:"chevron-right-alt",directional:!0})})})};var i=a(48360),s=a(67294),l=a(35461),o=n(a(44356)),r=a(88984),d=n(a(33308)),c=a(42906),u=n(a(23217)),f=a(13923),h=a(85893)},60236:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(s.default,{chat:e.chat,showFullDescription:e.showFullDescription,editRestrictionText:i.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"}),a8n:"group-info-drawer-description-title-input",emptyValuePlaceholder:i.fbt._("Add group description",null,{hk:"BVsoQ"})})};var i=a(48360),s=n(a(81681)),l=a(85893)},48204:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onVerification:t,onClose:a}=e,n=(0,g.default)(),J=(0,f.default)(),ee=(0,m.useModelValues)(e.chat,["mute","id","pendingAction","liveLocation"]),te=(0,m.useModelValues)(e.groupMetadata,["id","cachedDeviceCount","cachedDeviceSizeBucket","participants","pendingParticipants","announce","support","parentGroup"]);(0,m.useModelValues)(e.contact,["name","id","pendingAction"]);const ae=(0,h.default)((()=>new y.default)),ne=(0,h.default)((()=>new y.default)),ie=(0,h.default)((()=>new G.default.UiAction({uiActionType:G.default.UI_ACTION_TYPE.GROUP_INFO_OPEN,uiActionPreloaded:!0}))),se=(0,c.useRef)(null);(0,p.useListener)(te.participants,["add","remove","reset","sort","change:isAdmin","change:isSuperAdmin"],J),(0,p.useListener)(te.pendingParticipants,["add","remove","reset"],J);const le=e=>{e.contact.pendingAction++,(0,F.demoteParticipants)(ee,[e]).then((()=>{e.contact.pendingAction--}))},oe=(e,t)=>{e.contact.pendingAction++,(0,F.removeParticipants)(ee,[e]).then((()=>{e.contact.pendingAction--})),t&&o.ModalManager.close()},re=(e,t)=>{e.contact.pendingAction++,(0,F.promoteParticipants)(ee,[e]).then((()=>{e.contact.pendingAction--})),t&&o.ModalManager.close()},de=()=>{const e=(0,l.getGroupSizeLimit)();if(te.participants.length>=e){const t=L.default.t(48,{max:e});r.ToastManager.open((0,Z.jsx)(K.Toast,{msg:t,id:$}))}else{const e=(0,Z.jsx)(x.default,{chat:(0,q.unproxy)(ee),pushTransition:"none",popTransition:"none"});o.ModalManager.open(e,{transition:"modal-flow"})}},ce=()=>{o.ModalManager.open((0,Z.jsx)(k.default,{highlightSurface:G.default.HIGHLIGHT_SURFACE.INFO_SCREEN_GROUP,chatId:ee.id,e2eSubtype:"info_encrypted"}))},ue=()=>{o.ModalManager.open((0,Z.jsx)(k.default,{chat:ee,chatId:ee.id,e2eSubtype:"info_encrypted"}))};let fe;if((0,c.useEffect)((()=>{const e=ie.current;if(e){const t=te.cachedDeviceSizeBucket;null!=t&&(e.sizeBucket=t),Object.assign(e,(0,O.getGroupMetricsFromGroupMetadata)((0,q.unproxy)(te))),e.markUiActionT(),e.commit(),(0,U.logUiActionShadowPrivateStatsTestEvents)(),ie.current=void 0}ee.isSuspendedGroup()&&(0,Y.openSuspendedGroupModal)()}),[]),(0,c.useEffect)((()=>{te.participants.ensureSorted();te.pendingParticipants.ensureSorted()})),te.participants.iAmAdmin()&&!te.support){const t=(0,Z.jsx)(z.TextSpan,{theme:"title",children:d.fbt._("Group settings",null,{hk:"3sS0Vl"})});fe=(0,Z.jsx)(_.default,{side:"chevron",icon:"settings",onClick:e.onAdminSetting,title:t})}let he=null;e.onMediaGallery&&(he=(0,Z.jsx)(C.default,{onMediaGallery:e.onMediaGallery,chat:(0,q.unproxy)(ee)}));const pe=(0,Z.jsx)(B.default,{chat:ee,onClick:e.onLiveLocation}),me=ee&&ee.shouldShowEphemeralSetting()?(0,Z.jsx)(T.EphemeralSettingRow,{onClick:e.onEphemeral,chat:ee,groupMetadata:te,testid:"contact-info-dm-setting-row"}):null;let ge=null;if((0,l.communitiesEnabled)()&&ee&&te.parentGroup){const t=v.ChatCollection.get(te.parentGroup.toString());(null==t?void 0:t.groupMetadata)&&(ge=(0,Z.jsx)(P.default,{onClick:()=>{var t;null===(t=e.onCommunityClick)||void 0===t||t.call(e)},parentGroupMetadata:t.groupMetadata,parentGroupChat:t}))}let xe=null;(0,s.isMDBackend)()&&(xe=(0,Z.jsx)(E.default,{highlightSurface:G.default.HIGHLIGHT_SURFACE.INFO_SCREEN_GROUP,onClick:ce,text:(0,X.isGroupCallEnabled)()?d.fbt._("Messages and calls are end-to-end encrypted. Click to learn more.",null,{hk:"1l9pwW"}):d.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"2MtPh9"})}));ee.isSupportGroup()&&(xe=(0,Z.jsx)(W.default,{onClick:ue}));const ve=ee.mute.canMute()?(0,Z.jsx)(V.default,{chat:ee,mute:ee.mute,settings:H.default}):null;let _e=null;if(e.onStarred){const t=(0,Z.jsx)(z.TextSpan,{theme:"title",size:"16",children:d.fbt._("Starred messages",null,{hk:"4wVbNG"})});_e=(0,Z.jsx)(b.ChatInfoDrawerSection,{a8nText:"section-starred-messages",children:(0,Z.jsx)(_.default,{a8nText:"block-starred-messages",side:"chevron",icon:"star",onClick:e.onStarred,title:t})})}let be=null;(ve||xe||me)&&(be=(0,Z.jsxs)(b.ChatInfoDrawerSection,{children:[ve,me,xe,fe]}));const Ce=(0,s.isMDBackend)()&&e.scrollToParticipantList;return(0,Z.jsxs)(M.default,{theme:"striped",children:[(0,Z.jsx)(S.DrawerHeader,{title:d.fbt._("Group info",null,{hk:"2SfTUZ"}),type:S.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{a?a():null==n||n.requestDismiss()}}),(0,Z.jsx)(j.default,{flatListControllers:[ne.current,ae.current],children:(0,Z.jsxs)("section",{className:(0,u.default)(Q),"data-a8n":i.default.key("group-info-drawer-body"),children:[(0,Z.jsx)(D.default,{chat:(0,q.unproxy)(ee),onAdminSetting:e.onAdminSetting,onAddParticipant:de,onClickParticpantsCount:()=>{var e;null===(e=se.current)||void 0===e||e.scrollIntoView()}}),ge,(0,Z.jsx)(w.default,{chat:(0,q.unproxy)(ee),showFullDescription:e.showFullGroupDescription}),pe,he,_e,be,undefined,(0,Z.jsx)(I.GroupInfoParticipantsSection,{ref:se,chat:(0,q.unproxy)(ee),scrollToParticipantList:Ce,flatListController:ae.current,onAddParticipant:de,onOpenParticpantSearch:()=>{o.ModalManager.open((0,Z.jsx)(R.default,{chat:(0,q.unproxy)(ee),onParticipantPromote:re,onParticipantRemove:oe,onDemoteAdmin:le,onVerification:t}),{transition:"modal-flow"})},onGroupInviteLink:e.onGroupInviteLink,onVerification:e.onVerification}),(0,Z.jsx)(N.default,{chat:(0,q.unproxy)(ee),flatListController:ne.current}),(0,Z.jsx)(A.default,{chat:(0,q.unproxy)(ee)})]})})]},"contact-info-modal")};var i=n(a(99964)),s=a(88555),l=a(8139),o=a(14597),r=a(94816),d=a(48360),c=a(67294),u=n(a(56720)),f=n(a(59312)),h=n(a(16223)),p=a(87550),m=a(35461),g=n(a(95402)),x=n(a(16947)),v=a(69951),_=n(a(75116)),b=a(98792),C=n(a(5406)),M=n(a(60453)),j=n(a(69637)),S=a(94790),k=n(a(4061)),E=n(a(4584)),T=a(61086),y=n(a(30855)),P=n(a(50890)),w=n(a(60236)),A=n(a(12158)),I=a(44783),N=n(a(70354)),D=n(a(60890)),O=a(42515),R=n(a(11456)),L=n(a(14296)),B=n(a(43895)),G=n(a(11339)),F=a(89389),V=n(a(3721)),U=a(7595),H=n(a(68132)),q=a(18146),W=n(a(34778)),Y=a(43745),z=a(13923),K=a(50452),X=a(69594),Z=a(85893);const Q={flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},$=(0,K.genId)("max_participant_toast")},12158:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t}=e;const a=(0,p.jsx)(g,{chat:t}),n=(0,p.jsx)(m,{chat:t});return(0,p.jsxs)(r.ChatInfoDrawerButtonsSection,{children:[a,n]})};var i=a(81572),s=a(14597),l=a(87674),o=a(48360),r=a(98792),d=n(a(64738)),c=n(a(14296)),u=n(a(30934)),f=a(19569),h=n(a(23217)),p=a(85893);function m(e){let{chat:t}=e;return(0,p.jsx)(d.default,{a8nText:"li-report-spam",color:"danger",icon:(0,p.jsx)(h.default,{name:"thumbs-down",directional:!0}),theme:"chat-info",onClick:()=>{s.ModalManager.open((0,p.jsx)(u.default,{isGroupChat:!0,onReport:()=>{(0,f.sendSpamReport)(t,l.SpamFlow.Group),s.ModalManager.close()},onReportExitClear:()=>{(0,f.sendSpamExitClear)(t,l.SpamFlow.Block),s.ModalManager.close()},onCancel:()=>s.ModalManager.close()}))},children:o.fbt._("Report group",null,{hk:"23NLqw"})})}function g(e){let{chat:t}=e;return(0,p.jsx)(d.default,{a8nText:"li-delete-group",icon:(0,p.jsx)(h.default,{name:"exit",directional:!0}),color:"danger",theme:"chat-info",onClick:()=>{i.Cmd.deleteOrExitChat(t)},children:t.isReadOnly?c.default.t(772):o.fbt._("Exit group",null,{hk:"4BkPNr"})})}},44783:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupInfoParticipantsSection=void 0;var i=n(a(45095)),s=a(92844),l=a(88555),o=a(81572),r=a(8139),d=a(14597),c=a(78820),u=n(a(89867)),f=a(16116),h=a(48360),p=a(67294),m=n(a(59312)),g=a(87550),x=a(35461),v=n(a(44356)),_=a(98792),b=n(a(52665)),C=a(71174),M=a(65417),j=n(a(31808)),S=a(50101),k=a(47915),E=n(a(14296)),T=a(89389),y=n(a(16419)),P=n(a(52711)),w=a(78756),A=n(a(23217)),I=a(18644),N=n(a(24717)),D=a(85893);const O=(0,p.forwardRef)(((e,t)=>{var a;const n=(0,x.useModelValues)((0,i.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["support"]),O=(0,i.default)(null===(a=e.chat.groupMetadata)||void 0===a?void 0:a.participants,"props.chat.groupMetadata?.participants"),L=(0,m.default)();(0,g.useListener)(O,"add remove reset sort change:isAdmin change:isSuperAdmin",L);const[B,G]=(0,p.useState)(R(O)),F=(0,p.useRef)(),[V,U]=(0,p.useState)();if((0,p.useEffect)((()=>{(0,l.isMDBackend)()&&e.scrollToParticipantList&&F.current&&(0,w.scrollIntoViewIfNeeded)(F.current,!1)}),[e.scrollToParticipantList]),(0,p.useImperativeHandle)(t,(()=>({scrollIntoView(){var e;null===(e=F.current)||void 0===e||e.scrollIntoView()}}))),e.chat.shouldHideParticipants())return null;const H=(0,D.jsx)(A.default,{name:"search",color:"secondary"});let q,W,Y;if(O.canAdd()&&!n.support){const t=(0,D.jsx)(P.default,{theme:"compact",children:(0,D.jsx)(A.default,{name:"add-user",directional:!0})});q=(0,D.jsx)(v.default,{image:t,theme:"chat-info",primary:h.fbt._("Add participant",null,{hk:"48ECfz"}),onClick:e.onAddParticipant})}if(O.iAmAdmin()&&e.onGroupInviteLink&&!n.support){const t=(0,D.jsx)(P.default,{theme:"compact",children:(0,D.jsx)(A.default,{name:"link"})});W=(0,D.jsx)(v.default,{image:t,theme:"chat-info",primary:h.fbt._("Invite to group via link",null,{hk:"3vDtFL"}),onClick:e.onGroupInviteLink})}if(R(O)&&B){const t=O.length<=20,a=O.length-_.INFO_DRAWER_MAX_ROWS;Y=(0,D.jsx)(j.default,{numMore:a,onClick:()=>{t?G(!1):e.onOpenParticpantSearch()},viewAll:!t})}const z=e=>{const t=O.get(e.id);return!!t&&(O.canPromote(t)||O.canDemote(t)||O.canRemove(t)||O.canVerifyIdentity(t))},K=(t,a)=>{const n=O.assertGet(a.id);if(!z(a))return;const i=[];O.canPromote(n)&&i.push((0,D.jsx)(C.DropdownItem,{a8n:"mi-grp-promote-admin",action:()=>{const t=E.default.t(249,{participant:n.contact.formattedName,subject:e.chat.contact.name});d.ModalManager.open((0,D.jsx)(b.default,{onOK:()=>{return t=!0,n.contact.pendingAction++,(0,T.promoteParticipants)(e.chat,[n]).then((()=>{n.contact.pendingAction--})),void(t&&d.ModalManager.close());var t},okText:E.default.t(497),onCancel:()=>d.ModalManager.close(),cancelText:h.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,D.jsx)(M.EmojiText,{text:t})}))},children:E.default.t(497)},"promote")),O.canRemove(n)&&i.push((0,D.jsx)(C.DropdownItem,{a8n:"mi-grp-remove-participant",action:()=>{const t=E.default.t(250,{participant:n.contact.formattedName,subject:e.chat.contact.name});d.ModalManager.open((0,D.jsx)(b.default,{onOK:()=>{return t=!0,n.contact.pendingAction++,(0,T.removeParticipants)(e.chat,[n]).then((()=>{n.contact.pendingAction--})),void(t&&d.ModalManager.close());var t},okText:E.default.t(610),onCancel:()=>d.ModalManager.close(),cancelText:h.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,D.jsx)(M.EmojiText,{text:t})}))},children:E.default.t(501)},"remove")),O.canDemote(n)&&i.push((0,D.jsx)(C.DropdownItem,{a8n:"mi-grp-verify-identify",action:()=>{n.contact.pendingAction++,(0,T.demoteParticipants)(e.chat,[n]).then((()=>{n.contact.pendingAction--})),d.ModalManager.close()},children:h.fbt._("Dismiss as admin",null,{hk:"243sNl"})},"demote-admin")),(0,l.isMDBackend)()&&O.canVerifyIdentity(n)&&i.push((0,D.jsx)(C.DropdownItem,{a8n:"mi-grp-verify-identify",action:()=>{e.onVerification&&e.onVerification(n.contact)},children:h.fbt._("Verify Security Code",null,{hk:"1vTVgt"})},"verify-identity")),U({contactId:a.id,menu:i,anchor:t.anchor,event:t.event})},X=(e,t)=>{u.default.equals((0,c.getMaybeMeUser)(),t.id)||(0,S.findChat)(t.id).then((e=>{o.Cmd.openChatFromUnread(e).then((t=>{t&&((0,r.btmThreadsLoggingEnabled)()&&o.Cmd.addChatMsgSentLogAttributes(e,{handleMultiple(){(0,f.handleActivitiesForChatThreadLogging)([{activityType:"groupMembershipReplies",ts:(0,s.unixTime)(),chatId:e.id}])}}),o.Cmd.focusChatTextInput(e))}))}))},Z=O.length?(0,D.jsxs)(_.ChatInfoDrawerListSection,{ref:F,a8nText:"section-participants",title:E.default.t(847,{count:O.length,_plural:O.length}),titleOnClick:e.onOpenParticpantSearch,subtitle:H,children:[q,W,(0,D.jsx)(k.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{let e;const t=[],a=[];O.forEach((n=>{n.contact.isMe?e=n:n.isAdmin?t.push(n):a.push(n)}));let n=[];return e&&n.push(e),n=n.concat(t,a),R(O)&&B&&(n=n.slice(0,_.INFO_DRAWER_MAX_ROWS)),n.map((e=>({itemKey:e.id.toString(),id:e.id,height:68})))})(),renderItem:e=>{const{id:t}=e,a=O.get(t);if(!a)throw new k.UnknownDataError(e);const n=a.contact,i=!!V&&u.default.equals(n.id,V.contactId);return(0,D.jsx)(y.default,{contact:n,participant:a,onClick:X,contextEnabled:()=>z(n),contextMenu:i,onContext:e=>K(e,n),theme:"chat-info",showNotifyName:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0},a.id.toString())}}),Y]}):null,Q=()=>{U(null)};let $;return V&&($=(0,D.jsx)(I.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:Q,children:(0,D.jsx)(N.default,{contextMenu:V})})),(0,D.jsxs)(D.Fragment,{children:[Z,$]})}));function R(e){return e.length>_.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}t.GroupInfoParticipantsSection=O,O.displayName="GroupInfoParticipantsSection"},70354:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const n=(0,i.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),S=(0,i.default)(null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants,"props.chat.groupMetadata?.participants"),k=(0,i.default)(null===(a=e.chat.groupMetadata)||void 0===a?void 0:a.pendingParticipants,"props.chat.groupMetadata?.pendingParticipants"),E=(0,d.default)();(0,c.useListener)(S,"change:isAdmin change:isSuperAdmin",E),(0,c.useListener)(k,"add remove reset",E);const[T,y]=(0,r.useState)(j(k)),[P,w]=(0,r.useState)();if((0,r.useEffect)((()=>{n.queryGroupV4PendingInvite().then((()=>{y(j(n.pendingParticipants))}))}),[n]),e.chat.shouldHidePendingParticipants())return(0,M.jsx)(M.Fragment,{});const A=()=>{let e=k.toArray();return j(k)&&T&&(e=e.slice(0,u.INFO_DRAWER_MAX_ROWS)),e.map((e=>({itemKey:e.id.toString(),id:e.id,height:68})))},I=e=>{const{id:t}=e,a=k.get(t);if(!a)throw new g.UnknownDataError(e);const i=a.contact;return(0,M.jsx)(v.default,{contact:i,participant:a,contextEnabled:()=>!0,contextMenu:!0,onContext:e=>(e=>{const t=[(0,M.jsx)(h.DropdownItem,{a8n:"mi-grp-promote-admin",action:()=>{s.ModalManager.open((0,M.jsx)(f.default,{onOK:()=>{s.ModalManager.close(),n.revokeGroupV4AddInvite([a.id.toString()]).then((()=>{l.ToastManager.open((0,M.jsx)(_.Toast,{msg:o.fbt._("Invite reset",null,{hk:"MgErr"}),id:(0,_.genId)()}))}))},okText:o.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>s.ModalManager.close(),cancelText:o.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,M.jsx)(p.EmojiText,{text:x.default.t(413,{participant:a.contact.formattedName})})}))},children:o.fbt._("Revoke invite",null,{hk:"4on28q"})},"promote")];w({contactId:i.id,menu:t,anchor:e.anchor,event:e.event})})(e),theme:"chat-info",showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0},a.id.toString())};let N,D,O;k.length>0&&(N=(0,M.jsx)(g.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:A(),renderItem:I}));if(j(k)&&T){const e=k.length-u.INFO_DRAWER_MAX_ROWS;D=(0,M.jsx)(m.default,{numMore:e,onClick:()=>{y(!1)}})}S.iAmAdmin()&&k.length>0&&(O=(0,M.jsxs)(u.ChatInfoDrawerListSection,{a8nText:"section-participants",title:x.default.t(411,{number:k.length}),children:[N,D]}));const R=()=>{w(null)};let L;P&&(L=(0,M.jsx)(b.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:R,children:(0,M.jsx)(C.default,{contextMenu:P})}));return(0,M.jsxs)(M.Fragment,{children:[O,L]})};var i=n(a(45095)),s=a(14597),l=a(94816),o=a(48360),r=a(67294),d=n(a(59312)),c=a(87550),u=a(98792),f=n(a(52665)),h=a(71174),p=a(65417),m=n(a(31808)),g=a(47915),x=n(a(14296)),v=n(a(16419)),_=a(50452),b=a(18644),C=n(a(24717)),M=a(85893);function j(e){return e.length>u.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}},60890:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const n=(0,x.useModelValues)(e.chat,["labels"]),i=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants,s=(0,m.default)();(0,g.useListener)(i,"add remove reset sort change:isAdmin change:isSuperAdmin",s);const l=null!==(a=null==i?void 0:i.length)&&void 0!==a?a:0,o=E.default.t(847,{count:l,_plural:l});return(0,O.jsx)(b.default,{theme:"padding-large",children:(0,O.jsxs)(M.FlexColumn,{align:"center",children:[(0,O.jsx)(B,{chat:e.chat,xstyle:L.photo}),(0,O.jsx)(F,{chat:e.chat}),(0,O.jsx)("div",{className:(0,p.default)(L.groupSecondary),children:(0,O.jsx)(A.SelectableSpan,{dir:"auto",selectable:!0,children:(0,O.jsxs)(N.TextSpan,{size:"16",color:"secondary",children:[f.fbt._("Group",null,{hk:"DNiv2"})," ",(0,O.jsx)(D.default,{onClick:e.onClickParticpantsCount,children:o})]})})}),(0,O.jsx)(k.default,{labels:n.labels})]})})};var i=n(a(48926)),s=a(89385),l=a(50796),o=n(a(45095)),r=n(a(47259)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(a(35232)),c=a(8139),u=a(14597),f=a(48360),h=a(67294),p=n(a(56720)),m=n(a(59312)),g=a(87550),x=a(35461),v=n(a(3409)),_=n(a(52665)),b=n(a(33308)),C=n(a(13699)),M=a(29623),j=n(a(15908)),S=a(55981),k=n(a(77577)),E=n(a(14296)),T=a(12176),y=a(33646),P=n(a(43556)),w=a(71517),A=a(52596),I=a(50760),N=a(13923),D=n(a(1784)),O=a(85893);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}const L={photo:{marginBottom:"njub1g37"},groupSecondary:{lineHeight:"a4ywakfo",marginTop:"ma4rpf0l"}};function B(e){const t=(0,x.useModelValues)(e.chat,["isReadOnly"]),a=(0,x.useModelValues)(e.chat.contact,["id","profilePicThumb"]),n=(0,x.useModelValues)(e.chat.contact.profilePicThumb,["imgFull"]),i=(0,x.useModelValues)((0,o.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["groupType"]),[u,f]=(0,h.useState)(!1),[m,g]=(0,h.useState)(!1),_=(0,v.default)(),b=i.groupType===S.GroupType.DEFAULT_ANNOUNCEMENT_GROUP,C=(0,c.communitiesEnabled)()&&b?P.default.DEFAULT_ANNOUNCEMENT_GROUP:P.default.GROUP,M=t.isReadOnly||!n.canDelete()&&!n.canSet()||t.isSupportGroup()||b;return(0,O.jsx)("div",{className:(0,p.default)(e.xstyle),children:(0,O.jsx)(y.PhotoPickerLoadable,{type:C,id:a.id,attachToChat:!0,pending:m,startImage:n.imgFull,readOnly:M,onImageSet:(e,t)=>{let a;g(!0),a=e&&t?(0,w.setProfilePic)(n,e,t):(0,w.deleteProfilePic)(n),(0,r.default)(a,_).catch((0,s.catchAbort)((()=>{}))).catch((0,l.filteredCatch)(d.ActionError,(()=>{__LOG__(3)`GroupInfoDrawer: failed to set/delete group image`,f(!u)}))).finally((()=>{g(!1)}))}},String(u))})}const G={marginTop:"hymafltn",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"};function F(e){const t=(0,x.useModelValues)(e.chat.contact,["name"]),a=(0,x.useModelValues)((0,o.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["creation","restrict","support"]),n=(0,v.default)(),l=function(){var a=(0,i.default)((function*(a){const i=(0,C.default)(a);i!==t.name&&(yield(0,r.default)((0,I.setGroupSubject)(e.chat,i),n).catch((0,s.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`group_info_drawer:onSetSubject failed`})))}));return function(){return a.apply(this,arguments)}}();return a.support?(0,O.jsx)(N.TextHeader,{className:(0,p.default)(G),level:"2",theme:"large",children:(0,O.jsx)(T.GroupName,{chat:e.chat,groupMetadata:a,breakWord:!0})}):(0,O.jsx)(j.default,{subject:t.name,onSave:l,textInputProps:{editable:a.canSetSubject(),editRestrictionInfo:a.restrict?()=>{u.ModalManager.open((0,O.jsx)(_.default,{onOK:()=>u.ModalManager.close(),okText:f.fbt._("OK",null,{hk:"2KEeHb"}),children:f.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})}))}:void 0}})}},20982:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const{chat:n,onParticipantPromote:M,onParticipantRemove:j,onDemoteAdmin:S,onVerification:k,onPastParticipants:E}=e,T=(0,h.default)(),y=null===(t=n.groupMetadata)||void 0===t?void 0:t.participants;(0,p.useListener)(y,["add","remove","reset"],T);const[P,w]=(0,f.useState)(null),A=()=>{w(null)},I=e=>{(0,x.findChat)(e).then((e=>{r.ModalManager.close(),l.Cmd.openChatFromUnread(e)}))};let N,D;(0,o.pastParticipantsEnabled)()&&(null===(a=n.groupMetadata)||void 0===a?void 0:a.pastParticipants.length)&&(N={text:u.fbt._("View past participants",null,{hk:"fYGd4"}),onClick:E});P&&(D=(0,C.jsx)(_.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:A,children:(0,C.jsx)(b.default,{contextMenu:P})}));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.default,{title:u.fbt._("Search Participants",null,{hk:"M6lxB"}),filter:e=>{const t=n.groupMetadata;return!(null==t||!t.participants.get(e.id.toString()))},onCancel:()=>{r.ModalManager.close()},openContextOnClick:!0,contextEnabled:()=>!1,contextMenu:e=>!c.default.equals((0,d.getMaybeMeUser)(),e),onContext:(e,t)=>{const a=(0,i.default)(n.groupMetadata,"chat.groupMetadata").participants,l=a.assertGet(t.id.toString()),o=[];if(a.canPromote(l)){const e=M.bind(null,l,!1);o.push((0,C.jsx)(g.DropdownItem,{a8n:"mi-grp-promote-admin",action:e,children:v.default.t(497)},"promote"))}if(a.canRemove(l)){const e=j.bind(null,l,!1);o.push((0,C.jsx)(g.DropdownItem,{a8n:"mi-grp-remove-participant",action:e,children:v.default.t(501)},"remove"))}a.canDemote(l)&&o.push((0,C.jsx)(g.DropdownItem,{a8n:"mi-grp-verify-identify",action:()=>S(l),children:u.fbt._("Dismiss as admin",null,{hk:"243sNl"})},"demote-admin")),(0,s.isMDBackend)()&&a.canVerifyIdentity(l)&&o.push((0,C.jsx)(g.DropdownItem,{a8n:"mi-grp-verify-identify",action:()=>{r.ModalManager.close(),null==k||k(l.contact)},children:u.fbt._("Verify Security Code",null,{hk:"1vTVgt"})},"verify-identity")),c.default.equals((0,d.getMaybeMeUser)(),l.id)||o.push((0,C.jsx)(g.DropdownItem,{action:I.bind(null,l.contact.id),children:v.default.t(506,{author:l.contact.formattedName})},"message author")),w({contactId:t.id,menu:o,anchor:e.anchor,event:e.anchor?void 0:e})},showNotifyName:!0,listenForAdminChange:!0,participantCollection:(0,i.default)(e.chat.groupMetadata,"props.chat.groupMetadata").participants,button:N}),D]})};var i=n(a(45095)),s=a(88555),l=a(81572),o=a(8139),r=a(14597),d=a(78820),c=n(a(89867)),u=a(48360),f=a(67294),h=n(a(59312)),p=a(87550),m=n(a(29234)),g=a(71174),x=a(50101),v=n(a(14296)),_=a(18644),b=n(a(24717)),C=a(85893)},11456:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,onParticipantPromote:a,onParticipantRemove:n,onDemoteAdmin:d,onVerification:c}=e,[u,f]=(0,l.useFlow)({initialStep:r.Participants});if(!f.step)return null;let h;switch(f.step){case r.Participants:h=(0,o.jsx)(i.default,{chat:t,onParticipantPromote:a,onParticipantRemove:n,onDemoteAdmin:d,onVerification:c,onPastParticipants:()=>f.push(r.PastParticipants,"flow-transition-modal-push")});break;case r.PastParticipants:h=(0,o.jsx)(s.default,{chat:t,onBack:()=>f.pop("flow-transition-modal-pop")})}return(0,o.jsx)(u,{flow:f,children:h})};var i=n(a(20982)),s=n(a(85345)),l=a(76872),o=a(85893);const r=a(76672).Mirrored(["Participants","PastParticipants"])},85345:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{chat:a,onBack:n}=e,c=null===(t=a.groupMetadata)||void 0===t?void 0:t.pastParticipants,[h,p]=(0,o.default)(),_=(0,r.default)(c,["add","remove","reset"],(()=>{var e;const t=u.default.accentFold(h),a=(0,s.default)(t),n=null!==(e=null==c?void 0:c.filter((e=>!t||e.contact.searchMatch(t,a))))&&void 0!==e?e:[];if(!n.length)return[];const i=[];return i.push({type:g,header:l.fbt._("Past participants",null,{hk:"2k91Dw"}),itemKey:"list_header"}),n.forEach(((e,t)=>i.push({type:x,participant:e,itemKey:`${e.id.toString()}_${t}`}))),i}),[h]);return(0,m.jsx)(f.default,{title:l.fbt._("Search past participants",null,{hk:"1d6pYh"}),data:_,renderItem:e=>(0,m.jsx)(v,{data:e,pastParticipantCollection:(0,i.default)(c,"pastParticipants")}),emptyState:(0,m.jsx)(d.SearchContacts,{}),onSearch:p,searchPlaceholder:u.default.t(625),onBack:n})};var i=n(a(45095)),s=n(a(97039)),l=a(48360),o=n(a(18063)),r=n(a(96570)),d=a(85600),c=a(47915),u=n(a(14296)),f=n(a(67568)),h=n(a(87598)),p=n(a(11497)),m=a(85893);const g="HEADER",x="ROW";function v(e){var t;let{data:a,pastParticipantCollection:n}=e;switch(a.type){case g:return(0,m.jsx)(p.default,{header:null!==(t=a.header)&&void 0!==t?t:"",uppercase:!1});case x:return(0,m.jsx)(h.default,{participant:a.participant});default:throw new c.UnknownDataError(a)}}},87598:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{participant:t}=e,a=(0,s.useModelValues)(t.contact,["id","showBusinessCheckmarkAsPrimary"]),n=(0,d.jsx)(r.Name,{contact:a,showBusinessCheckmark:a.showBusinessCheckmarkAsPrimary,showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),c=i.Clock.pastParticipantLeftStr(t.leftTimestamp);return(0,d.jsx)(l.default,{image:(0,d.jsx)(o.DetailImage,{id:a.id}),primary:n,secondary:c})};var i=a(40234),s=a(35461),l=n(a(44356)),o=a(88984),r=a(12176),d=a(85893)},34778:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t}=e,a=(0,o.jsx)(l.TextSpan,{theme:"title",children:i.fbt._("Security",null,{hk:"2BYJDI"})}),n=(0,o.jsx)(l.TextDiv,{theme:"muted",children:i.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"})});return(0,o.jsx)(s.default,{icon:"lock",onClick:t,title:a,secondaryTitle:n})};var i=a(48360),s=n(a(75116)),l=a(13923),o=a(85893)},9582:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{isVoiceCallEnabled:!1,isVideoCallEnabled:!1,canStartVoiceCall:!1,canStartVideoCall:!1,startVoiceCall:()=>{},startVideoCall:()=>{}}};a(67294),a(87550),a(17239)},4584:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;if((0,l.useEffect)((()=>{(0,i.isMDBackend)()&&(0,r.isPrivacyNarrativeV1Enabled)()&&new d.default.PrivacyHighlight({highlightCategory:"e2e",highlightSurface:e.highlightSurface,userActionType:d.default.USER_ACTION_TYPE.NARRATIVE_APPEAR}).commit()}),[]),!(0,i.isMDBackend)())return null;const{onClick:a,text:n}=e,f=(0,u.jsx)(c.TextSpan,{theme:"title",children:null!==(t=e.title)&&void 0!==t?t:s.fbt._("Encryption",null,{hk:"a7CfR"})}),h=(0,u.jsx)(c.TextDiv,{theme:"muted",children:n});return(0,u.jsx)(o.default,{onClick:a,icon:"lock",title:f,secondaryTitle:h})};var i=a(88555),s=a(48360),l=a(67294),o=n(a(75116)),r=a(41566),d=n(a(11339)),c=a(13923),u=a(85893)},69824:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(29521)),s=a(12380),l=a(8139),o=a(14597),r=a(78820),d=n(a(89867)),c=a(48360),u=a(67294),f=a(35461),h=n(a(95402)),p=n(a(60453)),m=n(a(35721)),g=n(a(69637)),x=a(94790),v=n(a(33308)),_=n(a(33095)),b=n(a(94913)),C=a(55981),M=a(41566),j=a(89389),S=a(56728),k=a(18963),E=a(64551),T=a(13923),y=a(85893);const P=e=>{let{isRestricted:t,onClick:a}=e;return(0,y.jsxs)(m.default,{onClick:a,multiline:!0,children:[(0,y.jsx)("div",{className:_.default.header,children:(0,y.jsx)(T.TextSpan,{theme:"title",children:c.fbt._("Edit group info",null,{hk:"2rhyLl"})})}),(0,y.jsx)(T.TextDiv,{theme:"muted",children:t?c.fbt._("Only admins",null,{hk:"1shXeT"}):c.fbt._("All participants",null,{hk:"2YNQNN"})})]})},w=e=>{let{isAnnouncement:t,onClick:a}=e;return(0,y.jsxs)(m.default,{onClick:a,multiline:!0,children:[(0,y.jsx)("div",{className:_.default.header,children:(0,y.jsx)(T.TextSpan,{theme:"title",children:c.fbt._("Send messages",null,{hk:"2zKwxL"})})}),(0,y.jsx)(T.TextDiv,{theme:"muted",children:t?c.fbt._("Only admins",null,{hk:"1shXeT"}):c.fbt._("All participants",null,{hk:"2YNQNN"})})]})},A=e=>{let{isNoFrequentlyForwarded:t,onClick:a}=e;const n=E.ServerProps.hfmStringChanges?c.fbt._("Messages forwarded many times",null,{hk:"2Neytn"}):c.fbt._("Frequently forwarded messages",null,{hk:"1OxFLx"});return(0,y.jsxs)(m.default,{onClick:a,multiline:!0,children:[(0,y.jsx)("div",{className:_.default.header,children:(0,y.jsx)(T.TextSpan,{theme:"title",children:n})}),(0,y.jsx)(T.TextDiv,{theme:"muted",children:t?c.fbt._("Don't allow",null,{hk:"3uBuwQ"}):c.fbt._("Allow",null,{hk:"2pdVOn"})})]})};function I(e,t){const a=(0,f.useModelValues)(e.chat,["id"]),n=(0,f.useModelValues)(e.groupMetadata,["restrict","announce","noFrequentlyForwarded","participants","owner","groupType","isParentGroup"]),u=(0,h.default)(),E=e=>{o.ModalManager.open((0,y.jsx)(b.default,{settingType:e,chat:a,groupMetadata:n}),{transition:"modal",uim:u})},I=()=>n.participants.filter((e=>e.isAdmin)).map((e=>e.contact)),N=e=>!!n.participants.get(e.id),D=e=>{const t=d.default.equals(e.id,n.owner),a=(0,r.getMaybeMeUser)().equals(e.id),i=!0===n.isParentGroup&&(0,l.cadminSelfDemoteEnabled)();return t||a&&!i},O=e=>{const t=n.participants,s=t.filter((e=>e.isAdmin)),l=(0,i.default)(e,s,((e,t)=>e.id.equals(t.id))).map((e=>t.assertGet(e.id))),r=(0,i.default)(s,e,((e,t)=>e.id.equals(t.id)));l.length>0&&(l.forEach((e=>{e.contact.pendingAction++})),(0,j.promoteParticipants)(a,l).finally((()=>{l.forEach((e=>{e.contact.pendingAction--}))}))),r.length>0&&(r.forEach((e=>{e.contact.pendingAction++})),(0,j.demoteParticipants)(a,r).finally((()=>{r.forEach((e=>{e.contact.pendingAction--}))}))),o.ModalManager.close()};return(0,y.jsxs)(p.default,{ref:t,theme:"striped",children:[(0,y.jsx)(x.DrawerHeader,{title:c.fbt._("Group settings",null,{hk:"3sS0Vl"}),type:x.DRAWER_HEADER_TYPE.SMALL,onBack:e.onClose}),(0,y.jsxs)(g.default,{children:[(0,y.jsx)(v.default,{animation:!1,children:(0,y.jsx)(P,{onClick:()=>{E(s.GROUP_SETTING_TYPE.RESTRICT)},isRestricted:n.restrict})}),(0,y.jsx)("div",{className:_.default.restrictText,children:(0,y.jsx)(T.TextSpan,{theme:"muted",children:c.fbt._("Choose who can change this groups subject, icon, description and disappearing messages setting.",null,{hk:"1cqpzS"})})}),(0,y.jsxs)(v.default,{animation:!1,children:[n.groupType!==C.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(0,y.jsx)(w,{onClick:()=>{E(s.GROUP_SETTING_TYPE.ANNOUNCEMENT)},isAnnouncement:n.announce}):null,(0,M.isAdminHfmToggleEnabled)()?(0,y.jsx)(A,{onClick:()=>{E(s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED)},isNoFrequentlyForwarded:n.noFrequentlyForwarded}):null]}),n.groupType!==C.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(0,y.jsx)(v.default,{animation:!1,children:(0,y.jsx)(m.default,{onClick:()=>{o.ModalManager.open((0,y.jsx)(S.SelectModal,{onConfirm:O,getInitialItems:I,isDisabled:D,isSelected:D,filter:N,title:c.fbt._("Edit group admins",null,{hk:"1BOEkM"}),useShortName:!0,useAllContacts:!0,listType:S.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:k.FooterType.CONFIRM,multipleSelectionFooterType:k.FooterType.CONFIRM,shouldShowSelectionSummary:!1}))},multiline:!0,children:(0,y.jsx)("div",{className:_.default.header,children:(0,y.jsx)(T.TextSpan,{theme:"title",children:c.fbt._("Edit group admins",null,{hk:"1BOEkM"})})})})}):null]})]})}var N=(0,u.forwardRef)(I);t.default=N},94913:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{settingType:t}=e,a=(0,r.useModelValues)(e.chat,["id"]),n=(0,r.useModelValues)(e.groupMetadata,["restrict","announce","noFrequentlyForwarded"]),g=(0,o.useMemo)((()=>{switch(t){case s.GROUP_SETTING_TYPE.ANNOUNCEMENT:case s.GROUP_SETTING_TYPE.RESTRICT:return[{label:l.fbt._("All participants",null,{hk:"2YNQNN"}),value:0},{label:l.fbt._("Only admins",null,{hk:"1shXeT"}),value:1}];case s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return[{label:l.fbt._("Allow",null,{hk:"2pdVOn"}),value:0},{label:l.fbt._("Don't allow",null,{hk:"3uBuwQ"}),value:1}];default:return[]}}),[t]),x=(0,o.useMemo)((()=>{const{restrict:e,announce:a,noFrequentlyForwarded:i}=n;switch(t){case s.GROUP_SETTING_TYPE.ANNOUNCEMENT:return a?1:0;case s.GROUP_SETTING_TYPE.RESTRICT:return e?1:0;case s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return i?1:0;default:return 0}}),[t,n]),v=(0,o.useMemo)((()=>{switch(t){case s.GROUP_SETTING_TYPE.ANNOUNCEMENT:return l.fbt._("Send messages",null,{hk:"2zKwxL"});case s.GROUP_SETTING_TYPE.RESTRICT:return l.fbt._("Edit group info",null,{hk:"2rhyLl"});case s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return f.ServerProps.hfmStringChanges?l.fbt._("Messages forwarded many times",null,{hk:"2Neytn"}):l.fbt._("Frequently forwarded messages",null,{hk:"1OxFLx"});default:return""}}),[t]),_=(0,o.useMemo)((()=>t===s.GROUP_SETTING_TYPE.RESTRICT?l.fbt._("Choose who can change this groups subject, icon, description and disappearing messages setting.",null,{hk:"1cqpzS"}):t===s.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED&&(0,u.isAdminHfmToggleEnabled)()?(0,m.jsxs)(m.Fragment,{children:[l.fbt._("Choose to allow participants to send messages to the group that have been forwarded many times.",null,{hk:"1PP9Ge"})," ",(0,m.jsx)(d.ExternalLink,{href:(0,i.getFrequentlyForwardedFaqUrl)(),children:c.default.t(447)})]}):null),[t]);return(0,m.jsx)(p.default,{options:g,initialValue:x,title:v,onSelect:e=>{e!==x&&(0,h.setGroupProperty)(a,t,e).catch((()=>()=>{}))},explanation:_})};var i=a(21310),s=a(12380),l=a(48360),o=a(67294),r=a(35461),d=a(12591),c=n(a(14296)),u=a(41566),f=a(64551),h=a(54646),p=n(a(37881)),m=a(85893)},43895:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(48360),s=a(67294),l=n(a(33308)),o=n(a(14296)),r=a(84387),d=a(85865),c=a(87699),u=n(a(53145)),f=n(a(65932)),h=a(18146),p=n(a(23217)),m=a(13923),g=a(85893);class x extends s.Component{getParticipants(e){const{liveLocation:t}=e;return t?t.participants.toArray():[]}constructor(e){super(e),this._updateParticipants=()=>{this.setState({participants:this.getParticipants(this.props.chat)})},this.state={participants:this.getParticipants(e.chat)}}_removeParticipantListener(e){this.props.listeners.remove(e.participants,"add remove",this._updateParticipants)}_addParticipantListener(e){this.props.listeners.add(e.participants,"add remove",this._updateParticipants)}componentDidMount(){const{chat:e}=this.props;e.liveLocationQueried||d.LiveLocationCollection.getActive(e.id.toString()).then((()=>{e.liveLocationQueried=!0})).catch((()=>{})),this.props.listeners.add((0,h.unproxy)(e),"change:liveLocation",(()=>{const{liveLocation:t}=e;t&&(this._removeParticipantListener(t),this._addParticipantListener(t),this._updateParticipants())}));const{liveLocation:t}=e;t&&this._addParticipantListener(t)}getText(){const{chat:e}=this.props,{participants:t}=this.state;let a,n,s=0;if(t.forEach((e=>{e.isMe?a=!0:(n||(n=e.contact),s++)})),e.isGroup)return a?1===t.length?i.fbt._("You are sharing live location",null,{hk:"4DvZgE"}):o.default.t(465,{count:s,_plural:s}):o.default.t(462,{count:s,_plural:s});if(a){if(1===t.length)return i.fbt._("You are sharing live location",null,{hk:"4DvZgE"});if(n)return o.default.t(464,{name:n.formattedShortNameWithNonBreakingSpaces})}else if(n)return o.default.t(461,{name:n.formattedShortNameWithNonBreakingSpaces});return""}render(){const{onClick:e}=this.props;if(!this.state.participants.length)return null;const t=(0,g.jsx)(p.default,{name:(0,c.liveLocationIcon)(!0)});return(0,g.jsx)(l.default,{a8nText:"section-live-location",theme:"padding",title:i.fbt._("Live Location",null,{hk:"1LvIwY"}),titleOnClick:e,children:(0,g.jsx)(u.default,{side:t,onClick:e,children:(0,g.jsx)(m.TextSpan,{theme:"title",children:this.getText()})})})}}x.CONCERNS={chat:["id","isGroup","liveLocation","liveLocationQueried"]},x.displayName="LiveLocationRow";var v=(0,r.ListenerHOC)((0,f.default)(x,x.CONCERNS));t.default=v},8059:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaGalleryDrawer=E,t.TABS=void 0;var i=n(a(52628)),s=n(a(78931)),l=n(a(40436)),o=n(a(94184)),r=a(48360),d=a(67294),c=n(a(16223)),u=a(46331),f=n(a(5577)),h=n(a(60453)),p=n(a(69637)),m=a(94790),g=n(a(14296)),x=n(a(93528)),v=n(a(88224)),_=n(a(65636)),b=n(a(16351)),C=n(a(99108)),M=a(64551),j=a(18644),S=a(85893);const k={MEDIA:"media",DOCS:"docs",LINKS:"links",PRODUCTS:"products"};function E(e){const{chat:t,onProductDetail:a,setProductsScrollOffset:n,productsScrollOffset:E}=e,[T,y]=(0,d.useState)(e.initialTab),[P,w]=(0,d.useState)(null),[A,I]=(0,d.useState)(!1),N=(0,c.default)((()=>new s.default([],(e=>e.id.toString())))),D=()=>{A&&(N.current.unsetAll(),I(!1))},O=(e,t)=>{A||I(!0),N.current.setVal(e,t),0===N.current.getSelected().length&&D()},R=(0,d.useCallback)((e=>{const t=(0,i.default)(k).indexOf(T),a=(0,i.default)(k).indexOf(e);t!==a&&N.current.unsetAll(),y(e),w(a>t?"right":"left"),I(!1)}),[N,T]),L=(0,d.useMemo)((()=>{const e=[{tab:k.MEDIA,title:g.default.t(490)},{tab:k.DOCS,title:g.default.t(297)},{tab:k.LINKS,title:g.default.t(448)}];M.ServerProps.productMediaAttachments&&e.push({tab:k.PRODUCTS,title:r.fbt._("Products",null,{hk:"3Ky71N"})});const t=e.map((e=>{const t=(0,o.default)(_.default.menuItem,{[_.default.active]:T===e.tab});return(0,S.jsx)("button",{className:t,onClick:()=>R(e.tab),title:e.title,children:e.title},e.tab)})),a=(0,o.default)(_.default.menuTabsLists,M.ServerProps.productMediaAttachments?_.default.fourTabs:_.default.threeTabs);return(0,S.jsx)("div",{className:a,"data-active-tab":T,children:t})}),[T,R]),B=(()=>{let e;switch(T){case k.MEDIA:e=(0,S.jsx)(v.default,{chat:t,mediaMsgs:t.getMediaMsgs(),selectable:A,onMessageSelect:O,selectedMessages:N.current,fullCollection:!0});break;case k.LINKS:e=(0,S.jsx)(x.default,{chat:t,linkMsgs:t.getLinkMsgs(),selectable:A,onMessageSelect:O,selectedMessages:N.current});break;case k.DOCS:e=(0,S.jsx)(f.default,{chat:t,docMsgs:t.getDocMsgs(),selectable:A,onMessageSelect:O,selectedMessages:N.current});break;case k.PRODUCTS:e=(0,S.jsx)(C.default,{chat:t,productMsgs:t.getProductMsgs(),selectable:A,onMessageSelect:O,selectedMessages:N.current,onProductDetail:a,setScrollOffset:n,scrollOffset:E})}return e})(),G=[k.MEDIA,k.DOCS].includes(T),F=A?(0,S.jsx)(j.UIE,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:D,children:(0,S.jsx)(b.default,{chat:t,noSortOnForward:!0,theme:"mediaGallery",toastPosition:u.ToastPosition.RIGHT,downloadButton:G,selectedMessages:N.current,onCancel:D})}):null,V="right"===P?"slide-forward":"slide-back";return(0,S.jsxs)(h.default,{theme:"gallery",children:[(0,S.jsx)(m.DrawerHeader,{title:" ",onBack:e.onBack,rtlFixIfOnDarwin:!0,type:m.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),F,L,(0,S.jsx)(p.default,{"data-list-scroll-container":!0,children:(0,S.jsx)(l.default,{transitionName:V,className:_.default.column,children:(0,S.jsx)("div",{className:_.default.multimediaGallery,children:(0,S.jsx)("div",{className:_.default.column,children:B})},T)})})]})}t.TABS=k,E.defaultProps={initialTab:k.MEDIA,productsScrollOffset:0}},14425:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.mediaData,["mediaStage","renderableUrl"]);return(0,c.jsx)(d.default,{mediaData:t,placeholderRenderer:h,children:t=>(0,c.jsx)(f,{url:t,msg:e.msg})})};var i=n(a(94184)),s=a(35461),l=n(a(45863)),o=n(a(14296)),r=n(a(79741)),d=n(a(20553)),c=a(85893);const u=e=>{e.stopPropagation()};function f(e){let{url:t,msg:a}=e;return(0,c.jsx)(l.default,{url:t,className:r.default.mediaViewerAudio,onClick:u,autoPlay:!0,msg:a,controls:!0,children:o.default.t(141)})}function h(){return(0,c.jsx)("div",{className:(0,i.default)(r.default.imageAudio,r.default.mediaViewerPlaceholder),onClick:u})}},65768:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onHightlightCloseEnd:t,msgIndexInAlbum:a,onViewOnceInfoClick:n,onGoToMsgClick:I,onDownloadClick:N,onReplyClick:D,onDeleteClick:O,onUnstarClick:R,onStarClick:L,openForwardFlow:B,onMsgInfoClick:G}=e,F=(0,c.useRef)(null),V=(0,f.useModelValues)(e.msg,["id","star","isGroupMsg","chat","type","isGif","isViewOnce","sender","senderObj","t","isSentByMe","isStickerMsg","broadcastId"]),U=(0,f.useModelValues)(e.mediaData,["filehash","mediaStage","renderableUrl"]),[H,q]=(0,c.useState)(null),W=(0,c.useRef)(null),Y=()=>{q(null)};(0,u.useListener)(window,"resize",(()=>{Y()})),(0,u.useListener)(F.current,"animationend",(()=>{t()}));let z=V.displayName(!0,!0);V.isGroupMsg&&(z+=" @ "+V.chat.title());const K=()=>V.chat.isGroup?d.fbt._("Report group",null,{hk:"23NLqw"}):v.default.t(615,{contactInfo:V.senderObj.displayName}),X=e=>{const{chat:t}=V;t&&(e?t.isGroup?(0,E.sendSpamExitClear)(t,r.SpamFlow.MediaViewer):(0,E.sendSpamBlockClear)(t,r.SpamFlow.MediaViewer):(0,E.sendSpamReport)(t,r.SpamFlow.MediaViewer)),s.ModalManager.close()},Z=()=>{s.ModalManager.open((0,A.jsx)(w.default,{isBusiness:V.senderObj.isBusiness,isGroup:V.chat.isGroup,onReport:X,onCancel:()=>s.ModalManager.close(),title:K()}))},Q=()=>{(0,M.default)(V)},$=()=>!V.isViewOnce&&(!!U.renderableUrl||U.mediaStage===b.MEDIA_DATA_STAGE.RESOLVED),J=()=>{const e=[];return(V.canPrivateReply()||V.canPrivateReplyInRestrictedGrp())&&e.push((0,A.jsx)(g.DropdownItem,{a8n:"mi-msg-reply",action:Q,children:d.fbt._("Reply privately",null,{hk:"1XQeK2"})},"private_reply")),V.isViewOnce?e.push((0,A.jsx)(g.DropdownItem,{action:Z,children:K()},"dropdownMsgInfo")):(V.isSentByMe&&e.push((0,A.jsx)(g.DropdownItem,{action:G,children:v.default.t(510)},"dropdownMsgInfo")),e.push((0,A.jsx)(g.DropdownItem,{action:I,children:d.fbt._("Go to message",null,{hk:"B1anG"})},"dropdownGoToMsg"),(0,A.jsx)(g.DropdownItem,{action:N,disabled:!$(),children:d.fbt._("Download",null,{hk:"1g5Jix"})},"dropdownDownload"))),(0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"menu"}),title:v.default.t(504),children:(0,A.jsx)(m.Dropdown,{type:m.MenuType.DropdownMenu,flipOnRTL:!0,dirX:m.DirX.LEFT,children:e},"MediaPanelHeaderDropdown")},"btnMenu")},ee=()=>{let e,t,a;return V.star?(e=R,t="unstar-btn",a=v.default.t(689)):(e=L,t="star-btn",a=v.default.t(665)),(0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:t}),title:a,onClick:e},t)},te=()=>V.type===l.MSG_TYPE.STICKER?null:(0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{containerRef:W,name:"reactions-media",width:20}),title:d.fbt._("React to message",null,{hk:"1MagBh"}),onClick:()=>{(()=>{if(!(0,o.canReactToMessage)(V))return;const e={dirY:m.DirY.BOTTOM,dirX:m.DirX.CENTER,type:m.MenuType.ReactionSendTray,menu:(0,A.jsx)(k.SendReactionsTrayContainer,{msg:V,selectedCallback:e=>{e!==S.MORE_REACTIONS&&(0,j.sendReactionToMsg)(V,e).catch((()=>{})),Y()}}),flipOnRTL:!1,anchor:W.current};q(e)})()}},"btnAddReaction"),ae=()=>(0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"forward"}),title:v.default.t(365),onClick:B},"btnForward");let ne;H&&(ne=(0,A.jsx)(y.UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,requestDismiss:Y,children:(0,A.jsx)(P.default,{contextMenu:H})}));return(0,A.jsxs)("div",{className:_.default.mediaPanelHeader,children:[(0,A.jsx)("div",{className:_.default.info,children:(0,A.jsx)(h.default,{idle:!0,image:(0,A.jsx)(p.DetailImage,{id:V.sender,size:40}),primary:(0,A.jsx)(x.EmojiText,{ellipsify:!0,text:z}),secondary:i.Clock.relativeDateAndTimeStr(V.t),theme:"media"})}),(0,A.jsx)("div",{className:_.default.mediaPanelTools,children:(0,A.jsxs)(C.MenuBar,{theme:"strong",children:[V.isViewOnce?[(0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"view-once",className:_.default.voIcon}),title:d.fbt._("View once info",null,{hk:"47XkZ4"}),onClick:n},"btnViewOnceInfo"),J()]:a>=0?[V.canReply()?(0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"reply"}),title:d.fbt._("Reply",null,{hk:"1C7DPa"}),onClick:D},"btnReply"):null,V.canStar()?ee():null,(0,o.canReactToMessage)(V)?te():null,(0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"delete"}),title:d.fbt._("Delete",null,{hk:"2KhPUX"}),onClick:O},"btnDelete"),V.canForward()?ae():null,J()].filter(Boolean):(()=>{const e=[];return V.isStickerMsg||e.push((0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"bubble"}),title:d.fbt._("Go to message",null,{hk:"B1anG"}),onClick:I},"btnGoToMsg")),V.isStickerMsg&&e.push((0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"reply"}),title:d.fbt._("Reply",null,{hk:"1C7DPa"}),onClick:D},"btnReplyToMsg")),V.canStar()&&e.push(ee()),V.isStickerMsg&&e.push((0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"delete"}),title:d.fbt._("Delete",null,{hk:"2KhPUX"}),onClick:O},"btnDelete")),(0,o.canReactToMessage)(V)&&e.push(te()),V.canForward()&&e.push(ae()),V.isStickerMsg||e.push((0,A.jsx)(C.MenuBarItem,{icon:(0,A.jsx)(T.default,{name:"download"}),title:d.fbt._("Download",null,{hk:"1g5Jix"}),disabled:!$(),onClick:N},"btnDownload")),e.filter(Boolean)})(),(0,A.jsx)(C.MenuBarItem,{a8nText:"btn-close",icon:(0,A.jsx)(T.default,{className:e.isHighlightClose?_.default.highlightClose:null,containerRef:F,name:"x-viewer"}),title:d.fbt._("Close",null,{hk:"19Jpec"}),onClick:e.onClose})]},"media-panel-header")}),ne]})};var i=a(40234),s=a(14597),l=a(15461),o=a(67811),r=a(87674),d=a(48360),c=a(67294),u=a(87550),f=a(35461),h=n(a(44356)),p=a(88984),m=a(60811),g=a(71174),x=a(65417),v=n(a(14296)),_=n(a(77375)),b=a(58668),C=a(46346),M=n(a(32231)),j=a(21357),S=a(61761),k=a(13228),E=a(19569),T=n(a(23217)),y=a(18644),P=n(a(24717)),w=n(a(93187)),A=a(85893)},2959:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(67294),s=n(a(56720)),l=n(a(78506)),o=a(35461),r=n(a(38261)),d=a(29623),c=n(a(47065)),u=n(a(20553)),f=n(a(39040)),h=n(a(37015)),p=n(a(11339)),m=n(a(72625)),g=a(10595),x=a(85893);const v={container:{width:"ln8gz9je",height:"ppled2lx"},stickerContainer:{maxWidth:"mx6rw3sv",maxHeight:"trnfqnf9",marginBottom:"r2u2pyhj",zIndex:"thghmljt"}},_=(e,t)=>{const{msg:a}=e,n=(0,o.useModelValues)(e.mediaData,["mediaStage","fullWidth","fullHeight","isFirstParty","stickerPackId","stickerPackName","stickerPackPublisher"]),_=(0,i.useRef)(null),b=(0,l.default)(t,_),C=e=>{var t;null===(t=_.current)||void 0===t||t.onClick(e)},M=n.isFirstParty?(0,x.jsx)(r.default,{stickerPackId:n.stickerPackId,onStickerPackView:e.onStickerPackView,stickerPackViewDelay:e.stickerPackViewDelay}):(0,x.jsx)(g.StickerDetailsStickerPackInfo,{name:n.stickerPackName,publisher:n.stickerPackPublisher,theme:g.Theme.MediaViewer});return(0,x.jsxs)(d.FlexColumn,{align:"center",justify:"center",xstyle:v.container,children:[(0,x.jsx)("div",{className:(0,s.default)(v.container,v.stickerContainer),children:(0,x.jsx)(h.default,{ref:b,width:n.fullWidth,height:n.fullHeight,onZoomIn:e.onImgZoomIn,msg:a,children:(0,x.jsx)(u.default,{mediaData:n,placeholderRenderer:()=>(0,x.jsx)(m.default,{size:376}),downloadMedia:()=>null==a?void 0:a.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:p.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!1}),children:t=>(0,x.jsx)(c.default,{className:(0,s.default)(f.default.content),onClick:C,src:t,onLoad:e.onLoad})})})}),M]})};var b=(0,i.forwardRef)(_);t.default=b},26646:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(67811),s=a(29984),l=a(67294),o=n(a(56720)),r=n(a(62190)),d=n(a(15407)),c=a(40875),u=a(4522),f=n(a(14296)),h=a(58668),p=n(a(39040)),m=n(a(11339)),g=a(99875),x=n(a(11791)),v=n(a(52500)),_=a(94270),b=n(a(65932)),C=n(a(23425)),M=a(85893);class j extends l.PureComponent{constructor(){super(...arguments),this.state={played:!1,size:{width:0,height:0},isFullscreenMode:!1,displayReactionBubble:!0},this._setRefContainer=e=>{this.refContainer=e},this.stopPropagation=e=>{e.stopPropagation()},this._handleFullscreenToggle=e=>{this.setState({isFullscreenMode:e})}}static getDerivedStateFromProps(e){const{mediaData:t}=e;return(t.mediaStage===h.MEDIA_DATA_STAGE.RESOLVED||t.streamable&&t.isStreamable())&&(0,s.isNonZeroNumber)(t.fullWidth)&&(0,s.isNonZeroNumber)(t.fullHeight)?{size:j.getSize(t)}:null}static getSize(e){if(e.isGif){const t=330;return e.fullWidth>=t?{width:e.fullWidth,height:e.fullHeight}:{width:t,height:e.fullHeight*t/e.fullWidth}}return e.fullWidth>=u.MIN_WIDTH?{width:e.fullWidth,height:e.fullHeight}:{width:u.MIN_WIDTH,height:e.fullHeight}}componentDidMount(){this.props.mediaData.isStreamable()||this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:m.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0})}componentWillUnmount(){this.props.msg.mediaObject&&this.props.msg.cancelDownload()}closingMedia(){this.setState({displayReactionBubble:!1})}render(){var e;const{msg:t,mediaData:a,onLoadedData:n}=this.props,s=a.isGif;let l=a.mediaStage===h.MEDIA_DATA_STAGE.RESOLVED||a.streamable&&a.isStreamable();l=l||t.isForcingRMR();let u=null;const m=_.ReactionBubbleType.MEDIA_ITEM;if(t&&(0,i.shouldShowReactionBubble)(t,m)&&(u=(0,M.jsx)(v.default,{msgIds:[t.id.toString()],reactionBubbleType:m,reactionBubbleVisible:this.state.displayReactionBubble})),l){const e=f.default.t(708);let i,l;return!this.state.isFullscreenMode&&(null==t?void 0:t.interactiveAnnotations)&&t.interactiveAnnotations.length>0&&(i=(0,M.jsx)(r.default,{annotations:t.interactiveAnnotations})),l=s?(0,M.jsxs)("div",{className:(0,o.default)(p.default.content),ref:this._setRefContainer,children:[(0,M.jsx)(C.default,{src:a.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0,onLoadedData:n,children:e}),i]}):(0,M.jsx)("div",{ref:this._setRefContainer,className:(0,o.default)(p.default.content),onClick:this.stopPropagation,children:(0,M.jsx)(g.WrappedMsgVideoPlayer,{msg:t,mediaData:a,startTime:this.props.startTime,onClose:this.props.onClose,onError:()=>{},onFullscreenToggle:this._handleFullscreenToggle,autoPlay:this.props.autoPlay,type:c.PLAYER_TYPE.MEDIA_VIEWER,overlays:i,noPip:t.isViewOnce,onLoadedData:n})}),(0,M.jsxs)(x.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad,children:[l,u]})}return(0,M.jsxs)(x.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:{width:this.props.mediaData.fullWidth,height:this.props.mediaData.fullHeight},children:[(0,M.jsx)(d.default,{altText:null!==(e=t.caption)&&void 0!==e?e:"",mediaData:a}),u]})}}j.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","isViewOnce","preview","renderableUrl","streamable"]},j.defaultProps={startTime:0},j.displayName="MediaVideo";const S=(0,b.default)(j,j.CONCERNS);t.default=class extends S{getContainerElement(){return this.getComponent().refContainer}closingMedia(){this.getComponent().closingMedia()}}},47186:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onImageLoad:t,isAnimatingIn:a,onImgZoomIn:n,onExitAnimation:_,onBack:U}=e,X=(0,m.useModelValues)(e.msg,["id","star","isUnsentMedia","isViewOnce","isStickerMsg","chat","caption","interactiveAnnotations","type"]),$=(0,m.useModelValues)(e.mediaData,["mediaStage","type","isGif"]),J=(0,x.default)(a),ee=(0,p.useRef)(null),te=(0,p.useRef)(null),ae=(0,p.useRef)(null),ne=(0,p.useRef)(null),ie=(0,p.useRef)(),se=(0,p.useRef)(!1),le=(0,p.useRef)(!1),oe=(0,p.useRef)(!1),[re,de]=(0,g.default)(V.NUX.EPHEMERAL_VIEW_ONCE_RECEIVER),ce=X.isViewOnce&&re,[ue]=(0,p.useState)((()=>$.mediaStage===R.MEDIA_DATA_STAGE.RESOLVED&&e.isAnimatingIn&&e.getZoomNode?e.getZoomNode(X.id):null)),[fe,he]=(0,p.useState)(!1),[pe,me]=(0,p.useState)(!1),[ge,xe]=(0,p.useState)(!e.isAnimatingIn),[ve,_e]=(0,p.useState)(!1),[be,Ce]=(0,p.useState)(!1),Me=()=>{const e=(0,z.jsx)(F.default,{isPhoto:$.type===A.default.TYPE.IMAGE,onOkClick:()=>{de(),c.ModalManager.close()}});c.ModalManager.open(e)},je=(0,v.default)(((e,t)=>{if(pe)return;const a=ee.current;if(!a)return;const n=a.getInsideContainer();if(!(n&&n instanceof HTMLElement))return;const i=a.getOutsideContainer();if(!(i&&i instanceof HTMLElement))return;const{translateX:s,translateY:l}=a.getTranslatePosition(i,e,t);(0,u.default)(n,"stop"),(0,u.default)(n,{translateX:s,translateY:l,scale:B.ZOOM_IN_FACTOR},{duration:0})}));(0,p.useEffect)((()=>(__LOG__(2)`MediaViewerModal: Opened`,ce&&Me(),d.default.focus(ne.current),()=>{__LOG__(2)`MediaViewerModal: Closed`,je.cancel()})),[]);const Se=()=>{X.isViewOnce&&(0,P.canMarkPlayed)(X)&&(0,P.markPlayed)(X)},ke=e=>{Se(),t&&t();const n=ue,i=e.target;n&&i&&a&&i instanceof HTMLElement&&(oe.current||(oe.current=!0,((e,t)=>{var a;const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();let s=i.top-n.top,l=i.left-n.left;const o=e.clientWidth/t.clientWidth;s-=(t.clientHeight-e.clientHeight)/2,l-=(t.clientWidth-e.clientWidth)/2,(0,u.default)(t,{opacity:[1,0],translateX:[0,l],translateY:[0,s],scale:[1,o]},{duration:B.ANIMATION_DURATION,easing:[.1,.82,.25,1]});const r=null===(a=ae.current)||void 0===a?void 0:a.getContainerElement();r&&(0,u.default)(r,{opacity:[1,0]},{duration:B.ANIMATION_DURATION})})(n,i)))},Ee=()=>{var t;if(se.current)return;se.current=!0,(0,s.isFunction)(_)&&_();const a=e.getZoomNode&&e.getZoomNode(X.id);if(!a)return U();let n;const i=$.type;var l;if([A.default.TYPE.IMAGE,A.default.TYPE.STICKER].includes(i)&&ee.current)n=ee.current.getInsideContainer(),null===(l=ee.current)||void 0===l||l.closingMediaZoomable();else if($.isGif&&te.current){var o;n=te.current.getContainerElement(),null===(o=te.current)||void 0===o||o.closingMedia()}if(!n)return U();const r=n,d=n.getBoundingClientRect(),c=a.getBoundingClientRect();let f=c.top-d.top,h=c.left-d.left;const p=a.clientWidth/r.clientWidth;f-=(r.clientHeight-a.clientHeight)/2,h-=(r.clientWidth-a.clientWidth)/2,(0,u.default)(n,{translateX:[h,0],translateY:[f,0],scale:[p,1]},{duration:B.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then((()=>{U()}));const m=null===(t=ae.current)||void 0===t?void 0:t.getContainerElement();m&&(0,u.default)(m,{opacity:[0,1]},{duration:B.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]})},Te=e=>{const t=ee.current;e&&t&&(le.current=t.heightOverflow>0||t.widthOverflow>0),he(e),n(e)},ye=()=>{Ce(!0)},Pe=()=>{me(!0)},we=()=>{me(!1)},Ae=e=>{e.stopPropagation(),_e(!ve)};let Ie,Ne;switch((0,p.useEffect)((()=>{a||ge||!J||xe(!0)}),[a,ge,J]),$.type){case A.default.TYPE.IMAGE:Ie=(0,z.jsx)(I.default,{msg:X,mediaData:$,onLoad:ke,onImgZoomIn:Te,onAnnotationTooltipDisplay:Pe,onAnnotationTooltipDismiss:we,preventDownload:X.isViewOnce,ref:ee},X.id.toString());break;case A.default.TYPE.STICKER:Ie=(0,z.jsx)(O.default,{msg:X,mediaData:$,onLoad:ke,onImgZoomIn:Te,onStickerPackView:Ee,stickerPackViewDelay:B.CLOSE_ANIMATION_DURATION,ref:ee},X.id.toString());break;case A.default.TYPE.VIDEO:Ie=(0,z.jsx)(L.default,{autoPlay:!ce,msg:X,mediaData:$,onLoadedData:$.isGif?ke:Se,startTime:e.startTime,onClose:Ee,ref:te},X.id.toString());break;case A.default.TYPE.AUDIO:Ie=(0,z.jsx)(w.default,{mediaData:$,msg:X},X.id.toString());break;default:__LOG__(4,void 0,new Error,!0)`type: ${$.type}`,SEND_LOGS("MediaViewerModal: unexpected media type")}const De=e.msgIndexInAlbum>=0&&e.albumSize>=0;if(X.caption||De){let t;De&&(t=y.default.t(580,{number:e.msgIndexInAlbum+1,totalNumber:e.albumSize}));const a=S.Configuration.Conversation({mentions:X.mentionMap(),phoneNumbers:X.getPhoneNumbers(),links:X.getLinks(),trusted:!0,fromMe:X.id.fromMe}),n=!ge&&($.isGif||$.type===A.default.TYPE.IMAGE);Ne=(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("p",{className:(0,f.default)(G.default.captionWrapper,ie.current&&G.default.captionWrapperExpandable),onClick:ie.current?Ae:void 0,title:ie.current?h.fbt._("Read more",null,{hk:"2DvSvh"}):void 0,"aria-hidden":ve||void 0,children:[(0,z.jsx)(j.EmojiText,{className:(0,f.default)(G.default.mediaCaption,{[G.default.captionHidden]:n,[G.default.expanded]:ve}),formatters:a,ref:e=>{ae.current=e},text:X.caption||t}),ie.current&&(0,z.jsx)(Y.default,{xstyle:[K.captionReadMoreBtn,ve&&K.captionReadMoreBtnExpanded,fe&&K.captionReadMoreBtnZoomed],onClick:Ae,children:(0,z.jsx)(q.TextSpan,{children:h.fbt._("Read more",null,{hk:"2DvSvh"})})})]}),ve&&(0,z.jsx)("p",{className:(0,f.default)(G.default.captionWrapper,G.default.captionWrapperExpandable,G.default.captionExpanded),onClick:Ae,children:(0,z.jsx)(j.EmojiText,{className:(0,f.default)(G.default.mediaCaption,G.default.mediaCaptionExpanded),formatters:a,text:X.caption})})]})}const Oe=(0,f.default)(G.default.media,{[G.default.mediaWithCaption]:!!Ne}),Re=(0,f.default)("overlay",G.default.mediaViewer,{[G.default.noThumbnails]:X.isViewOnce||X.isStickerMsg,[G.default.mediaViewerAnimate]:e.isAnimatingIn,[G.default.cursorZoomOut]:fe}),Le=fe&&le.current?e=>{je(e.pageX,e.pageY)}:null,Be=fe?e=>{je.cancel();const t=ee.current;t&&fe&&t.onClick(e)}:null;let Ge=fe?null:Ee;null!=Ge&&X.isViewOnce&&(Ge=ye);const Fe=!X.isViewOnce&&!X.isStickerMsg;return(0,z.jsx)(W.UIE,{displayName:"MediaViewer",escapable:!0,requestDismiss:Ee,children:(0,z.jsx)(T.HotKeys,{handlers:{space:e=>{if(a)return;je.cancel();const t=ee.current;null!=t&&t.onKeyboardZoom(e)}},ref:ne,children:(0,z.jsxs)("div",{className:Re,"data-animate-media-viewer":!0,"data-testid":"media-viewer-modal",onClick:Be,onMouseMove:Le,children:[(0,z.jsx)(N.default,{isHighlightClose:be,msg:X,mediaData:$,onClose:Ee,onGoToMsgClick:e=>{e.stopPropagation(),Ee(),o.DrawerManager.existsDrawerRight((e=>{e&&2===b.Column.column&&o.DrawerManager.closeDrawerRight()}));const t=X.chat.getSearchContext((0,H.unproxy)(X));l.Cmd.openChatAt(X.chat,t).then((e=>{e&&l.Cmd.focusChatTextInput(X.chat)}))},onHightlightCloseEnd:()=>{Ce(!1)},onReplyClick:()=>{Ee(),(0,i.delayMs)(B.CLOSE_ANIMATION_DURATION).then(Z.bind(null,(0,H.unproxy)(X)))},onUnstarClick:e=>{e.stopPropagation(),l.Cmd.sendUnstarMsgs(X.chat,[(0,H.unproxy)(X)])},onStarClick:e=>{e.stopPropagation(),l.Cmd.sendStarMsgs(X.chat,[(0,H.unproxy)(X)])},onDeleteClick:()=>{c.ModalManager.open((0,z.jsx)(M.default,{chat:X.chat,msgList:[(0,H.unproxy)(X)],onDelete:Ee}))},openForwardFlow:e=>{e.stopPropagation(),X.isUnsentMedia?c.ModalManager.open((0,z.jsx)(C.default,{title:y.default.t(355),onOK:()=>c.ModalManager.close(),okText:h.fbt._("OK",null,{hk:"2KEeHb"}),children:y.default.t(352)})):c.ModalManager.open((0,z.jsx)(k.ForwardMessageFlowLoadable,{msgs:[(0,H.unproxy)(X)]}),{transition:"modal-flow"})},onDownloadClick:e=>{e.stopPropagation(),r.FileSaver.initDownload((0,H.unproxy)(X))},onMsgInfoClick:()=>{Ee(),(0,i.delayMs)(B.CLOSE_ANIMATION_DURATION+250).then(l.Cmd.msgInfoDrawer.bind(l.Cmd,(0,H.unproxy)(X)))},onViewOnceInfoClick:()=>{Me()},msgIndexInAlbum:e.msgIndexInAlbum}),(0,z.jsx)("div",{className:(0,f.default)(G.default.mediaContent,{[G.default.sticker]:X.isStickerMsg}),onClick:Ge,children:(0,z.jsx)(Q,{hasNavigationButtons:Fe,onNext:e.onNext,onPrev:e.onPrev,imgZoomed:fe,children:(0,z.jsxs)("div",{className:Oe,children:[(0,z.jsx)(D.default,{msg:X,mediaData:$}),Ie,(0,z.jsx)(E.default.Provider,{value:X.chat.groupMetadata,children:Ne})]})})})]})})})};var i=a(13959),s=a(51737),l=a(81572),o=a(41455),r=a(21634),d=n(a(52013)),c=a(14597),u=n(a(62831)),f=n(a(94184)),h=a(48360),p=a(67294),m=(n(a(56720)),a(35461)),g=n(a(59732)),x=n(a(37453)),v=n(a(90886)),_=a(61991),b=a(72439),C=n(a(52665)),M=n(a(99131)),j=a(65417),S=a(30695),k=a(75362),E=n(a(45152)),T=a(29424),y=n(a(14296)),P=a(30734),w=n(a(14425)),A=n(a(2320)),I=n(a(76530)),N=n(a(65768)),D=n(a(81136)),O=n(a(2959)),R=a(58668),L=n(a(26646)),B=a(8969),G=n(a(80674)),F=n(a(64815)),V=a(61653),U=a(82857),H=a(18146),q=a(13923),W=a(18644),Y=n(a(1784)),z=a(85893);const K={captionReadMoreBtn:{position:"lhggkp7q",end:"h223g3sc",bottom:"jxacihee",paddingTop:"ppypbuwx",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"nu34rnf1",backgroundColor:"idmi9oma",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",boxShadow:"a95fzlb5"},captionReadMoreBtnExpanded:{visibility:"kojwoqec"},captionReadMoreBtnZoomed:{visibility:"kqpkm0zi",opacity:"lxctpz5v"}};function X(e){null==e||e.stopPropagation()}function Z(e){const t=e.chat;t.composeQuotedMsg=e,l.Cmd.focusChatTextInput(t)}function Q(e){var t,a,n,i;return(0,z.jsxs)(z.Fragment,{children:[e.hasNavigationButtons&&(0,z.jsx)("div",{className:(0,f.default)(G.default.btnMediaPrev),children:(0,z.jsx)("div",{onClick:e.onPrev?null:X,children:(0,z.jsx)(_.ChevronButton,{type:_.ButtonType.Prev,onClick:null!==(t=e.onPrev)&&void 0!==t?t:void 0,onKeyDown:null!==(a=e.onPrev)&&void 0!==a?a:void 0,disabled:!e.onPrev||e.imgZoomed,theme:U.RoundTheme.Default})})}),e.children,e.hasNavigationButtons&&(0,z.jsx)("div",{className:(0,f.default)(G.default.btnMediaNext),children:(0,z.jsx)("div",{onClick:e.onPrev?null:X,children:(0,z.jsx)(_.ChevronButton,{type:_.ButtonType.Next,onClick:null!==(n=e.onNext)&&void 0!==n?n:void 0,onKeyDown:null!==(i=e.onNext)&&void 0!==i?i:void 0,disabled:!e.onNext||e.imgZoomed,theme:U.RoundTheme.Default})})})]})}},38781:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{mediaMsgs:t,onScroll:a,highlightedMsgIds:n,activeMsg:u,onSetActiveThumb:f,onSelectThumb:h}=e,p=(0,s.useRef)({}),m=()=>{const e=new Map;return t.forEach((t=>{const a=t.id.toString();e.set(a,(e=>{const t=p.current[e];if(!t)return!1;const a=t.getBoundingClientRect(),n=(a.left+a.right)/2;return!(n>-1*window.innerWidth&&n<2*window.innerWidth)})(a))})),e},[g,x]=(0,s.useState)(m),v=(0,l.default)((()=>{const e=m();(0,i.default)(g,e)||x(e)}),100),_=(()=>{const e=n&&n.size>0&&n.has(u.id.toString()),a=[];return t.forEach((t=>{if(null==t.mediaData){const e=u;return void __LOG__(3,!0)`MediaViewerFlow: attempted to render a msg without mediaData: ${JSON.stringify({type:t.type,isMedia:t.isMedia,startMsgType:e.type,startMsgIsMedia:e.isMedia})}`}const i=e&&n&&!n.has(t.id.toString())?"viewerFlowTransparent":"viewerFlow";a.push((0,c.jsx)(o.MediaThumb,{theme:i,active:t===u,msg:t,containerRef:e=>{((e,t)=>{p.current[t]=e})(e,t.id.toString()),t===u&&f(e)},onClick:()=>{h(t)},preferPreview:!!g.get(t.id.toString()),showTooltip:t.isGroupMsg},`media-${t.id.id}`))})),a.push((0,c.jsx)("div",{className:r.default.mediaThumb,children:t.queryMediaAfter?(0,c.jsx)(d.Spinner,{stroke:6,size:24}):null},"spinner-right")),a.unshift((0,c.jsx)("div",{className:r.default.mediaThumb,children:t.queryMediaBefore?(0,c.jsx)(d.Spinner,{stroke:6,size:24}):null},"spinner-left")),a.push((0,c.jsx)("div",{className:r.default.thumbPadding},"padding-right")),a.unshift((0,c.jsx)("div",{className:r.default.thumbPadding},"padding-left")),a})();return(0,c.jsx)("div",{className:r.default.thumbsContainer,ref:e.setRefThumbsContainer,children:(0,c.jsx)("div",{className:r.default.scrollContainer,dir:"ltr",children:(0,c.jsx)("div",{onScroll:e=>{v(),a(e)},className:r.default.viewerThumbs,ref:e.setRefThumbs,children:_})})})};var i=n(a(31789)),s=a(67294),l=n(a(90886)),o=a(41908),r=n(a(76479)),d=a(11054),c=a(85893)},64815:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onOkClick:t}=e;return(0,p.jsx)(o.default,{onOK:t,cancelText:u.default.t(447),onCancel:()=>{(0,r.openExternalLink)((0,i.getViewOnceFaqUrl)())},children:(0,p.jsxs)(d.FlexColumn,{children:[(0,p.jsx)(c.default,{xstyle:m.graphic,align:"center",children:(0,p.jsx)(f.default,{name:"view-once-sender-nux",width:195,height:177})}),(0,p.jsx)(h.TextHeader,{className:(0,l.default)(m.text),theme:"popup-title",children:e.isPhoto?s.fbt._("This photo is set to view once",null,{hk:"2H7aHc"}):s.fbt._("This video is set to view once",null,{hk:"1w8WFf"})}),(0,p.jsx)(h.TextParagraph,{className:(0,l.default)(m.text),children:e.isPhoto?s.fbt._("For more privacy, this photo will disappear after you close it.",null,{hk:"1XZPqi"}):s.fbt._("For more privacy, this video will disappear after you close it.",null,{hk:"3YgUHE"})})]})})};var i=a(21310),s=a(48360),l=n(a(56720)),o=n(a(52665)),r=a(12591),d=a(29623),c=n(a(48846)),u=n(a(14296)),f=n(a(23217)),h=a(13923),p=a(85893);const m={text:{marginBottom:"or9x5nie"},graphic:{marginBottom:"t4zgqcuo"}}},37881:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{options:t,explanation:a,onSelect:n}=e,[u,f]=(0,l.useState)(e.initialValue),h=()=>{i.ModalManager.close()},p=e=>{const{target:t}=e;t instanceof HTMLInputElement&&f(parseInt(t.value,10))},m=t.map((e=>{let{value:t,label:a}=e;return(0,c.jsx)("li",{children:(0,c.jsxs)("label",{className:r.default.label,children:[(0,c.jsx)("input",{type:"radio",className:r.default.input,value:String(t),checked:t===u,onChange:p}),a]})},`setting-${t}`)}));return(0,c.jsxs)(o.default,{title:e.title,okText:s.fbt._("Confirm",null,{hk:"3tmGp3"}),onOK:()=>{null!=u&&n(u),h()},onCancel:h,children:[null!=a?(0,c.jsx)(d.TextDiv,{theme:"muted",className:r.default.explanation,children:a}):null,(0,c.jsx)("form",{children:(0,c.jsx)("ol",{children:m})})]})};var i=a(14597),s=a(48360),l=a(67294),o=n(a(52665)),r=n(a(17391)),d=a(13923),c=a(85893)},93187:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,s.useState)(!1);let n,f,h;e.isGroup?(n=i.fbt._("The last 5 messages from this group will be forwarded to WhatsApp.",null,{hk:"40tFfL"}),f=i.fbt._("No one in this group will be notified.",null,{hk:"1qLvih"}),h=i.fbt._("Exit group",null,{hk:"4BkPNr"})):e.isBusiness?(n=i.fbt._("The last 5 messages from this business will be forwarded to WhatsApp.",null,{hk:"1Xa0bG"}),f=i.fbt._("This business will not be notified.",null,{hk:"2Lbwbg"}),h=i.fbt._("Block business",null,{hk:"3hFIF3"})):(n=i.fbt._("The last 5 messages from this contact will be forwarded to WhatsApp.",null,{hk:"2YNTpM"}),f=i.fbt._("This contact will not be notified.",null,{hk:"172yrT"}),h=i.fbt._("Block contact",null,{hk:"41X9mL"}));return(0,c.jsxs)(o.default,{onOK:function(){e.onReport(t)},okText:i.fbt._("Report",null,{hk:"18ssTb"}),onCancel:e.onCancel,title:e.title,children:[(0,c.jsx)(d.TextParagraph,{xstyle:u.section,color:"muted",children:n}),(0,c.jsx)(d.TextParagraph,{xstyle:u.section,color:"muted",children:f}),(0,c.jsxs)(r.FlexRow,{align:"center",justify:"start",children:[(0,c.jsx)(l.CheckBox,{onChange:()=>a((e=>!e)),checked:t,id:"menu-icon-report-spam"}),(0,c.jsx)(d.TextLabel,{xstyle:u.checkboxLabel,htmlFor:"menu-icon-report-spam",color:"muted",children:h})]})]})};var i=a(48360),s=a(67294),l=(n(a(56720)),a(16593)),o=n(a(52665)),r=a(29623),d=a(13923),c=a(85893);const u={section:{marginBottom:"t4zgqcuo"},checkboxLabel:{marginStart:"fooq7fky"}}},59828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={audioTag:"_1ichq"}},8767:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={msg:"_3YiZC",text:"RmpKn",bubble:"_2z0p1",author:"XntIB",hasSuspiciousLinks:"_3bU-2",hasAuthor:"_2cFHu",suspiciousLabel:"_2tYTz"}},11354:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3go1_"}},65383:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaCanvas:"GfgP-",shade:"_31TVj",blur:"_3SKsu",canvasSelected:"xEnhc"}},52901:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={iconStar:"_1Dvi_",shadeTop:"_2GZwK",canvasBody:"_10gTM",noPointerEvents:"_2_6x8",mediaGalleryThumbnail:"_1uBVh",chatInfoDrawerThumbnail:"_1t-UP",canvasSelected:"_28Wzy",mediaSelect:"_3fXE6",canvasComponent:"zm1kZ",canvasSecondRow:"_2GObI",viewerFlow:"_8KUDv",active:"_2w4lr",viewerFlowTransparent:"_3UuHq"}},54963:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_Wzeb",selected:"_2v6Lf"}},17429:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={iconType:"_3sWXp"}},68198:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={wrapper:"_11tTr"}},85967:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={nuxContainer:"_2MN2b",flatListContainer:"_3P67r",btnClose:"_1rNId",nuxHeader:"_1fDhw",nuxContent:"_3CSup",nuxIcon:"wZmgd",nuxText:"_23F3I"}},85845:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={footerNote:"_2v7h3",getTheAppLink:"f20SI"}},2256:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={wrapper:"_3KBDs",code:"_2ZlC0",codeDarkMode:"_2LUvK",codeLogo:"_3TIEq"}},11378:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={businessAccount:"_1TG7M",businessTitleText:"_3eIgq",businessTitleWithSMBUpsell:"_1SfJF",businessTitleWithSmbUpsell:"_1SfJF"}},49103:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={businessHoursRow:"_1yCy2",firstRow:"_2n4C_",businessHoursDay:"_3E1wD",businessHoursHours:"_1KuI5",dayIsOpen:"_3QSVU",businessHoursChevron:"tdvlj",flipSvg:"_3U46z"}},46311:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={section:"_2piwD",description:"_3wQ4p",map:"wjX1S"}},66044:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={wrapper:"_2Q41u",title:"_9q4U3",subtitle:"eiMUw",verifiedText:"Ajc3s",icon:"_2etIv"}},79111:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={open:"_3Nby6",closed:"_3mqy6",openStatus:"u-ios"}},52898:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={contactBusinessInfo:"_-3uPc",contactBusinessInfoSpinner:"i0l32",dataRow:"_27Am0",businessHoursRow:"pHhe2",businessHoursDay:"_37D6O",businessHoursHours:"_1Fkkg",businessHoursChevron:"PfSJW",flipSvg:"kphWe",dataRowIcon:"_1utXv",dataRowText:"_8jzcs",businessTitleText:"_1_m2f",businessMap:"uTGlN",address:"_3gira",link:"sdA8C",infoIcon:"_2GuY5"}},24714:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={info:"_25luK",categories:"_344S-",noPaddingBottom:"_3uJPJ"}},33095:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={header:"uEYm5",restrictText:"_28g3v"}},65636:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={multimediaGallery:"_3M644",column:"_3nvje",menuItem:"OJuvv",active:"_KRg9",menuTabsLists:"_3CC5A",threeTabs:"_1KRHF",fourTabs:"rLX29"}},79741:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaViewerPlaceholder:"nehFG",imageAudio:"_2OreO",mediaViewerAudio:"_1alR8"}},76479:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={thumbsContainer:"_1XWMx",scrollContainer:"_1MhXb",viewerThumbs:"_1FS45",mediaThumb:"_52crR",thumbPadding:"_1833d"}},17391:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={label:"QzWWL",input:"_1LOWN",explanation:"_37J_Y"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components.d49c67fb79c9c275e489.js.map
