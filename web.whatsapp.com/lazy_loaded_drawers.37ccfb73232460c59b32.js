/*! For license information please see lazy_loaded_drawers.37ccfb73232460c59b32.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{bdcjhdddde:function(e,t){e.exports={title:"_2flas",titleIcon:"_250S3",ack:"_2lSfP",pttBlue:"Gp3h8",forwardCount:"_2qSFX",spinner:"_3FSRn",list:"_2HDl5",footer:"Um7sh"}},bhedcifgbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),o=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),f=i(a("bcbahjefec")),u=i(a("ccdhdfebfj")),h=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(u.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}]),t}(f.default);t.default=h},cabhjigfgc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children,a=e.onClick,n=e.icon,i=e.className,s=e.color,f=e.theme,u=n?r.createElement("div",{className:(0,d.default)(o.default.icon,{[o.default.danger]:"danger"===s,[o.default.success]:"success"===s})},n):null,h=(0,d.default)(o.default.container,i,{[o.default.containerNoIcon]:!n,[o.default.containerListAligned]:"list-aligned"===f}),g=a?"button":null,p="string"==typeof t?t:null;return r.createElement("div",{"data-a8n":l.default.key(e.a8nText),className:h,"data-ignore-capture":"any",onClick:a,role:g,title:p},u,r.createElement("div",{className:o.default.bodyContainer},r.createElement("div",{className:o.default.body},r.createElement(c.default,{theme:"title",color:s},t))))};var r=i(a("ddhijeejag")),d=n(a("ceffhbhahb")),l=n(a("effbcehec")),o=n(a("hddadiifa")),c=n(a("eedjbihej"))},cbdagjiddg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),o=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),f=i(a("dgibicjjj")),u=i(a("cfadcbbiie")),h=i(a("dhhfaeacef")),g=i(a("fifhbjiec")),p=i(a("dgdegachj")),m=i(a("ihfccfgdf")),b=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.contact,n=t.msgInfoParticipant,i=s.createElement(h.default,{id:a.id}),r=u.default.relativeDateAndTimeStr(n.t),d=s.createElement("span",{title:r},r);return!a.name&&a.notifyName&&(e=s.createElement("span",{className:p.default.secondaryDetailContainer},s.createElement(g.default,{direction:"auto",text:a.notifyName}))),s.createElement(f.default,{contextEnabled:function(){return!1},image:i,primary:a.formattedName,secondary:d,secondaryDetail:e,style:{cursor:"auto"},theme:"drawer-list",idle:!0})}}]),t}(s.PureComponent);b.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]};var E=(0,m.default)(b,b.CONCERNS);t.default=E},ccdhdfebfj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),o=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),f=i(a("bbchdeehff")),u=i(a("biddiiafgd")),h=i(a("iaejfgacj")),g=i(a("fffdgbfji")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,l.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(i)))).handleCancel=function(){f.default.closeModal()},a.handleOK=function(){a.props.onConfirm(),f.default.closeModal()},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return s.createElement(u.default,{title:g.default.t(545),onOK:this.handleOK,okText:g.default.t(545),onCancel:this.handleCancel,cancelText:g.default.t(1206)},s.createElement("div",{className:h.default.confirmationText},g.default.t(559,{groupName:this.props.chat.contact.name})))}}]),t}(s.Component);t.default=p},cehhcbdgih:function(e,t){e.exports={linkContainer:"c4Y9s",descContainer:"_1lcS_",icon:"_2Xr0z"}},ceibefacih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),o=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("hhegggegb")),f=n(a("ddhijeejag")),u=i(a("bbchdeehff")),h=i(a("baagejbchg")),g=a("dghhefgjhc"),p=i(a("djcchigfih")),m=i(a("djbhiedbef")),b=n(a("dajffajabh")),E=i(a("dbgdaechch")),j=i(a("bhhdeihhhf")),v=a("cicgeajfge"),y=n(a("cajijabhgb")),S=a("bgddggdhc"),R=i(a("ddajbaceej")),C=i(a("jheedhagg")),I=a("ejbdjaifi"),_=i(a("dhfbfehaef")),M=i(a("fffdgbfji")),D=i(a("eceadcicaf")),A=i(a("bdiiahhjbe")),O=a("bhfdfhefca"),k=i(a("bjbedjfe")),T=i(a("jcfhjhibi")),L=i(a("dcaibchbg")),N=i(a("becfabjeeg")),P=i(a("ddifaecacd")),F=i(a("iibcehaia")),w=i(a("bfdcadbbif")),H=i(a("djbecaeiae")),G=i(a("didfdhbecg"));var V=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,l.default)(this,(0,o.default)(t).call(this,e))).msgRefs={},a.getInitialState=function(){var e=a.props.starredMsgs;return{cursor:T.default.create({msgCollection:e,type:h.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:h.default.MSG_PRELOAD_THRESHOLD})}},a.handleStarChange=function(e){a.initSelectionObjects(),a.forceUpdate()},a.initSelectionObjects=function(){var e=a.props.starredMsgs.toArray();a.currSelection.init(e,!0),a.activeSelection.init(e)},a.setRefMsgComponent=function(e,t){t?a.msgRefs[e.id.toString()]=t:delete a.msgRefs[e.id.toString()]},a.loadEarlierMsgs=function(){var e=a.state.cursor,t=a.props.chat&&a.props.chat.id,n=a.props.starredMsgs,i=n.models;if(e.getEnd(n)<i.length)a.setState({cursor:e.loadAfter(n)});else{if(n.isSynced)return;a.props.starredMsgs.sync(t).checkpoint(a.props.rejectOnUnmount()).then((function(){e.hasAfter(n)&&a.setState({cursor:e.loadAfter(n)})})).catch(y.Unmount,(function(){})).catch((function(e){A.default.log("StarredDrawer:loadEarlierMsgs failed")(),A.default.log(e)()}))}},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.focus=function(){a.body&&R.default.focus((0,S.forbiddenAssertDOMNode)(a.body))},a.onFocusGain=function(e){a.body&&((e?e.target:document.activeElement)===(0,S.forbiddenAssertDOMNode)(a.body)&&(a.currSelection.index<0?a.currSelection.setFirst(!0):a.currSelection.reset(!1)))},a.onNextMsg=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=a.currSelection.next();a.currSelection.index!==t&&a.currSelection.setNext(!0)},a.onPrevMsg=function(e){e&&(e.stopPropagation(),e.preventDefault()),a.currSelection.prev()>-1&&a.currSelection.setPrev(!0)},a.onScroll=function(e){a.handleScroll(e.currentTarget)},a._handleScroll=function(e){a.updateMsgListInfo(),function(e){return e.scrollTop+h.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}(e)&&a.loadEarlierMsgs()},a.selectMsg=function(e){a.currSelection.setVal(e),a.activeSelection.setVal(e),u.default.openChatAt(e.chat,e.chat.getSearchContext(e)),u.default.focusShowMsg(e.id)},a.getMsgList=function(){var e=a.state.cursor,t=a.props.starredMsgs,n=t.toArray(),i=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),n.length);return n=n.slice(e.getStart(t),i),a.length=n.length,n},a.getMsgVisibility=function(e){if(!e)return h.default.VISIBILITY.BELOW;if(a.scrollContainer){var t=(0,S.forbiddenAssertDOMNode)(a.scrollContainer),n=t.previousSibling.clientHeight,i=t.scrollTop+n,r=i+t.clientHeight,d=(0,S.forbiddenAssertDOMNode)(e);return d?d.offsetTop+d.clientHeight<=i?h.default.VISIBILITY.ABOVE:d.offsetTop>=r?h.default.VISIBILITY.BELOW:h.default.VISIBILITY.VISIBLE:h.default.VISIBILITY.BELOW}},a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!a.msgListInfo.visibleMsgs[e.toString()]&&(!!t||a.getMsgComponent(e))},a.getMsgComponent=function(e){var t=a.msgRefs[e.toString()];if(t){var n=t.getWrapperRef();return n&&"function"==typeof n.getMsgComponentRef?n.getMsgComponentRef():void 0}},a._updateMsgListInfo=function(){for(var e=a.getMsgList(),t={},n=0,i=a.length-1;n<i;){var r=Math.floor((n+i)/2),d=a.msgRefs[e[r].id.toString()];a.getMsgVisibility(d)===h.default.VISIBILITY.ABOVE?n=r+1:i=r}for(var l=n;l<e.length;l++){var o=a.msgRefs[e[l].id.toString()];if(a.getMsgVisibility(o)!==h.default.VISIBILITY.VISIBLE)break;t[e[l].id.toString()]=!0}a.pauseHiddenGifs(a.msgListInfo.visibleMsgs,t),a.msgListInfo.visibleMsgs=t},a.pauseHiddenGifs=function(e,t){for(var n in e)if(!t[n]){var i=a.props.starredMsgs.get(n);if(i&&i.isGif){var r=a.getMsgComponent(n);r&&r.playCount&&r.pause()}}},a.handleScroll=(0,s.default)(a._handleScroll,100),a.updateMsgListInfo=(0,s.default)(a._updateMsgListInfo,100),a.msgListInfo={visibleMsgs:{}},a.state=a.getInitialState(),a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.currSelection=new L.default([],(function(e){return e.id.toString()})),this.activeSelection=new L.default([],(function(e){return e.id.toString()}))}},{key:"componentDidMount",value:function(){var e=this;this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<h.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",(function(){e.initSelectionObjects(),e.forceUpdate()})),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",(function(){e.msgListInfo={visibleMsgs:{}},e.setState(e.getInitialState()),e.loadEarlierMsgs()}))}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}},{key:"componentDidUpdate",value:function(){this.updateMsgListInfo()}},{key:"render",value:function(){var e,t,a=this,n=this.getMsgList(),i=this.state.cursor,r=this.props.starredMsgs,d=this.props.chat||null;if(t=r.isSynced&&i.getEnd(r)>=n.length?null:this.props.starredMsgs.syncPromise?f.createElement("div",{className:P.default.more,title:M.default.t(693)},f.createElement(N.default,{stroke:6,size:24})):f.createElement("div",{className:P.default.more},f.createElement("div",{title:M.default.t(690),onClick:this.loadEarlierMsgs},f.createElement(w.default,{name:"refresh"}))),n.length>0){var l=n.map((function(e){var t=e.type===h.default.MSG_TYPE.IMAGE||e.type===h.default.MSG_TYPE.VIDEO||e.type===h.default.MSG_TYPE.AUDIO;return f.createElement(F.default,{key:e.id.toString(),ref:function(t){a.setRefMsgComponent(e,t)},msg:e,isMsgVisible:t?a.isMsgVisible:function(){},currSelection:a.currSelection,activeSelection:a.activeSelection,onClickMsg:a.selectMsg})}));e=f.createElement(G.default,{transitionName:"slide"},l)}else this.props.starredMsgs.isSynced?e=f.createElement(v.StarredMsgs,null):(e=f.createElement(v.Loading,null),t=null);var o={down:this.onNextMsg,up:this.onPrevMsg},c=n.length>0?f.createElement(O.MenuBarItem,{a8nText:"starred-menu",icon:f.createElement(w.default,{name:"menu-white"}),title:M.default.t(736)},f.createElement(x,{chat:d,msgs:n})):null;return f.createElement(p.default,{theme:"gallery"},f.createElement(_.default,{className:P.default.hotKeyWraper,handlers:o,onFocus:this.onFocusGain,"data-tab":g.TAB_ORDERS.CHAT_STARRED_DRAWER,ref:(0,I.GetRef)("body",this)},f.createElement(b.default,{title:M.default.t(1069),onBack:this.onClose,type:b.DRAWER_HEADER_TYPE.LARGE,menu:c}),f.createElement(m.default,{onScroll:this.onScroll,ref:(0,I.GetRef)("scrollContainer",this)},e,t)))}}]),t}(f.Component),x=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,l.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(i)))).sendUnstarAll=function(){u.default.openModal(f.createElement(H.default,{msgs:a.props.msgs,chat:a.props.chat}))},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.msgs;return f.createElement(E.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},f.createElement(j.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},M.default.t(1115)))}}]),t}(f.Component),U=(0,C.default)((0,k.default)((0,D.default)(V)));t.default=U},chjdbchg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),o=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),f=i(a("dhbceejbjg")),u=i(a("bbchdeehff")),h=i(a("idecbbghf")),g=i(a("dhhfaeacef")),p=i(a("djcchigfih")),m=i(a("djbhiedbef")),b=i(a("cabhjigfgc")),E=n(a("dajffajabh")),j=i(a("fifhbjiec")),v=a("cicgeajfge"),y=a("ddjgcfjicj"),S=n(a("cajijabhgb")),R=a("bejbgaghc"),C=i(a("cehhcbdgih")),I=i(a("bhedcifgbg")),_=i(a("fffdgbfji")),M=i(a("bjbedjfe")),D=a("eagfdbhhhh"),A=i(a("cebdgdahf")),O=i(a("ihfccfgdf")),k=i(a("bfdcadbbif")),T=n(a("bfjajhbdf")),L=0,N=1,P=2,F=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,l.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(i)))).state={state:L},a.getErrorMessageFromStatusCode=function(e){switch(e){case 401:return _.default.t(553);case 403:return _.default.t(554);case 404:return _.default.t(555);default:return _.default.t(556)}},a.handleLoadingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),u.default.openToast(s.createElement(T.default,{msg:t,id:(0,T.genId)()}))},a.handleRevokeGroupInvite=function(){u.default.openModal(s.createElement(I.default,{pushTransition:"none",popTransition:"none",chat:a.props.chat,onConfirm:a.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},a.handleRevokingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),u.default.openToast(s.createElement(T.default,{msg:t,id:(0,T.genId)()}))},a.handleConfirmRevokeGroupInvite=function(){a.setState({state:N});var e=(0,R.revokeGroupInvite)(a.props.groupMetadata);Promise.delay(500).then((function(){return e})).checkpoint(a.props.rejectOnUnmount()).then((function(){u.default.openToast(s.createElement(T.default,{msg:_.default.t(561),id:(0,T.genId)()})),a.setState({state:P})})).catch(y.ServerStatusCodeError,(function(e){a.handleRevokingErrorStatusCode(e.statusCode)})).catch(S.Unmount,(function(){}))},a.handleSendGroupInviteLink=function(){u.default.openModal(s.createElement(A.default,{chat:a.props.chat,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})},a.handleClickGroupInviteLinkCapture=function(e){e.preventDefault(),e.stopPropagation()},a.handleCopyLink=function(){(0,h.default)("group-invite-link-anchor")?u.default.openToast(s.createElement(T.default,{msg:_.default.t(550),id:(0,T.genId)()})):u.default.openToast(s.createElement(T.default,{msg:_.default.t(549),id:(0,T.genId)()}))},a.renderDrawerBody=function(){var e,t=a.props.groupMetadata;if(a.state.state===L)e=s.createElement(v.LoadingWithText,{text:_.default.t(541)});else if(a.state.state===N)e=s.createElement(v.LoadingWithText,{text:_.default.t(560,{groupName:a.props.chat.contact.name})});else{var n=t.groupInviteLink,i=null;document.queryCommandSupported("copy")&&(i=s.createElement(b.default,{a8nText:"li-copy-link",icon:s.createElement(k.default,{name:"copy",className:C.default.icon}),onClick:a.handleCopyLink},_.default.t(544)));var r=s.createElement(g.default,{id:a.props.chat.id,size:82,quality:g.default.Quality.HIGH}),d=s.createElement("span",{className:C.default.linkContainer},s.createElement(D.SelectableLink,{id:"group-invite-link-anchor",href:n,selectable:!0},n));e=s.createElement(m.default,null,s.createElement(f.default,{image:r,primary:s.createElement(j.default,{text:a.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:d}),s.createElement("div",{className:C.default.descContainer},_.default.t(551)),s.createElement(b.default,{a8nText:"li-share-link",icon:s.createElement(k.default,{name:"forward",className:C.default.icon}),onClick:a.handleSendGroupInviteLink},_.default.t(546)),i,s.createElement(b.default,{a8nText:"li-revoke-link",icon:s.createElement(k.default,{name:"revoke",className:C.default.icon}),onClick:a.handleRevokeGroupInvite},_.default.t(545)))}return e},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,R.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then((function(){e.setState({state:P})})).catch(y.ServerStatusCodeError,(function(t){e.handleLoadingErrorStatusCode(t.statusCode)})).catch(S.Unmount,(function(){}))}},{key:"render",value:function(){return s.createElement(p.default,null,s.createElement(E.default,{title:_.default.t(548),onBack:this.props.onBack,type:E.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}]),t}(s.Component);F.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]};var w=(0,M.default)((0,O.default)(F,F.CONCERNS));t.default=w},dccdiajhdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SECTIONS=void 0;var r=i(a("bhfcfhafdj")),d=i(a("eaidjcib")),l=i(a("dgcdacjddi")),o=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),u=i(a("effbcehec")),h=i(a("ebcagbhefg")),g=i(a("bbchdeehff")),p=i(a("baagejbchg")),m=i(a("djcchigfih")),b=i(a("djbhiedbef")),E=n(a("dajffajabh")),j=i(a("fijafegab")),v=n(a("cajijabhgb")),y=n(a("bbhhbdicgc")),S=i(a("bggeiidigb")),R=i(a("bjbdcigbdi")),C=i(a("cbdagjiddg")),I=i(a("bdcjhdddde")),_=i(a("dhfbggbbbd")),M=i(a("jheedhagg")),D=a("ejbdjaifi"),A=i(a("cigbgdjabj")),O=i(a("eceadcicaf")),k=a("ddbddjjgia"),T=i(a("biecbbiiee")),L=i(a("eigdejjai")),N=i(a("eafabiffad")),P=i(a("bibjgdifc")),F=i(a("cahfddcdga")),w=i(a("bjbedjfe")),H=i(a("bhifaggjcb")),G=i(a("bfgbdiffgd")),V=i(a("becfabjeeg")),x=i(a("ihfccfgdf")),U=i(a("bfdcadbbif")),B=i(a("eedjbihej")),Y=n(a("bfjajhbdf")),W=i(a("caceaafdic")),K={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"};t.SECTIONS=K;var q=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new S.default,a.setRefScrollable=function(e){a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.props.uim.uie.requestDismiss()},a.getHeaderAtSection=function(e){var t,a;switch(e){case K.PLAYED_HEADER:a=f.createElement(U.default,{name:"status-ptt-blue",className:I.default.pttBlue}),t=l10n.t(748);break;case K.READ_HEADER:a=f.createElement(U.default,{name:"status-dblcheck",className:I.default.ack}),t=l10n.t(750);break;case K.DELIVERED_HEADER:a=f.createElement(U.default,{name:"status-dblcheck"}),t=l10n.t(746)}return a=f.createElement("div",{className:I.default.titleIcon},a),f.createElement("div",{"data-a8n":u.default.key("msg-info-title"),className:I.default.title},f.createElement(H.default,{side:a,ellipsify:!0},f.createElement(B.default,{theme:"section-title"},t)))},a.getFooterAtSection=function(e){var t=(0,F.default)(a.state.msgInfo);return f.createElement(_.default,{key:e,section:e,msgInfo:t})},a.renderItem=function(e){return"MSG_INFO_ROW"===e.type?a.getInfoCell(e.participant):e.type===K.FORWARD_COUNT?a.getForwardCount():e.type===K.PLAYED_HEADER||e.type===K.READ_HEADER||e.type===K.DELIVERED_HEADER?a.getHeaderAtSection(e.type):a.getFooterAtSection(e.type)},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e,t=this;L.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e){t.setState({msgInfo:e}),t.props.listeners.add(e.played,"add remove",(function(){t.forceUpdate()})),t.props.listeners.add(e.read,"add remove",(function(){t.forceUpdate()})),t.props.listeners.add(e.delivery,"add remove",(function(){t.forceUpdate()}))})).catch(v.Unmount,(function(){})).catch((function(){t.setState({unimplemented:!0}),g.default.openToast(f.createElement(Y.default,{msg:l10n.t(779),id:(0,Y.genId)("msg_info_failed")}))}));var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===p.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(function(e,a){a===T.default&&t.props.uim.uie.requestDismiss()}))}},{key:"getAnimateEnterClass",value:function(e){return"animate-enter".concat(-1===e?"":e)}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"getInfoCell",value:function(e){return f.createElement(C.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}},{key:"getForwardCount",value:function(){return f.createElement("div",{className:I.default.forwardCount},f.createElement(N.default,{msg:this.props.msg}))}},{key:"getData",value:function(){var e=this.props.msg,t=this.state.msgInfo,a=[];return t&&t.isPTT&&(a.push({type:K.PLAYED_HEADER,itemKey:K.PLAYED_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.played.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT}})))),t.playedRemaining>0&&a.push({type:K.PLAYED_FOOTER,itemKey:K.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(a.push({type:K.READ_HEADER,itemKey:K.READ_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.read.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT}})))),t.readRemaining>0&&a.push({type:K.READ_FOOTER,itemKey:K.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(a.push({type:K.DELIVERED_HEADER,itemKey:K.DELIVERED_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.delivery.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT}})))),t.deliveryRemaining>0&&a.push({type:K.DELIVERED_FOOTER,itemKey:K.DELIVERED_FOOTER,height:50})),G.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&a.push({type:K.FORWARD_COUNT,itemKey:K.FORWARD_COUNT,height:60}),a}},{key:"render",value:function(){var e,t=this.props.msg,a=this.state,n=a.msgInfo,i=a.unimplemented;n||i||(e=f.createElement("div",{className:I.default.spinner,key:"spinner"},f.createElement(V.default,{size:50,stroke:4})));var r=this.getData(),d=r.length?f.createElement(y.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:r,renderItem:this.renderItem}):null,l=null;return t.labels&&t.labels.length&&R.default.supportsFeature(R.default.F.LABELS_DISPLAY)&&(l=f.createElement(j.default,{theme:"padding"},f.createElement(A.default,{labels:t.labels}))),f.createElement(m.default,{key:"message-info-modal"},f.createElement(E.default,{title:l10n.t(744),type:E.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),f.createElement(P.default,{ref:this.setRefScrollable,chatPreference:h.default.assertGet("defaultPreference")},f.createElement(W.default,{msg:t,ref:(0,D.GetRef)("wrapper",this),displayType:p.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:k.MsgPosition.END,onProductClick:this.props.onProductClick})),f.createElement(b.default,{flatListControllers:[this.flatListController]},l,e,f.createElement("div",{className:I.default.list},d)))}}]),t}(f.Component);q.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var z=(0,M.default)((0,w.default)((0,O.default)((0,x.default)(q,q.CONCERNS))));t.default=z},ddifaecacd:function(e,t){e.exports={more:"VWBaR",hotKeyWraper:"ZwkQK"}},dgdegachj:function(e,t){e.exports={secondaryDetailContainer:"_2q0z6"}},dhfbggbbbd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),o=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),f=i(a("effbcehec")),u=i(a("bdcjhdddde")),h=a("dccdiajhdf"),g=i(a("ihfccfgdf")),p=i(a("eedjbihej")),m=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e,t,a;switch(this.props.section){case h.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case h.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case h.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}a=null!=e&&0!==e?{count:e,_plural:t}:{_plural:t};var n=l10n.t(751,a);return s.createElement("div",{"data-a8n":f.default.key("msg-info-remaining"),className:u.default.footer},s.createElement(p.default,{theme:"muted"},n))}}]),t}(s.Component);m.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]};var b=(0,g.default)(m,m.CONCERNS);t.default=b},djbecaeiae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),o=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),f=i(a("dbdfbgehgj")),u=i(a("bbchdeehff")),h=i(a("biddiiafgd")),g=i(a("fifhbjiec")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,l.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(i)))).onCancel=function(){u.default.closeModal()},a.onUnstar=function(){var e=a.props.chat,t=a.props.msgs;e&&e.pendingAction++,f.default.unstarAllMessages(t,e).finally((function(){e&&e.pendingAction--})),u.default.closeModal()},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return s.createElement(h.default,{onOK:this.onUnstar,okText:l10n.t(1116),onCancel:this.onCancel},s.createElement("div",null,s.createElement(g.default,{text:l10n.t(1117)})))}}]),t}(s.Component);t.default=p},eaehccahdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),o=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),f=i(a("bcbahjefec")),u=i(a("dccdiajhdf")),h=i(a("baajcdiagh")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,l.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(i)))).onProductClick=function(e,t){a.push(s.createElement(h.default,{refreshCarousel:!0,chat:a.props.msg.chat,product:e,sessionId:t,onEnd:a._pop}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(u.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}(f.default);t.default=g},hddadiifa:function(e,t){e.exports={container:"_1CkkN",containerNoIcon:"_1gKF2",containerListAligned:"_1RMZB",icon:"rrzlm",danger:"jBe5J",success:"_3_y79",bodyContainer:"_10xEB",body:"_2QrOO"}},iaejfgacj:function(e,t){e.exports={confirmationText:"koS3h"}},idecbbghf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.getSelection().removeAllRanges();var t=document.getElementById(e),a=document.createRange();t&&a.selectNode(t),window.getSelection().addRange(a);try{var n=document.execCommand("copy");return window.getSelection().removeAllRanges(),n}catch(e){return!1}}}}]);